/*! For license information please see videoBottom-3ad7bd04505a2d44f6ec.min.js.LICENSE.txt */
(()=>{var __webpack_modules__={46090:59339:42363:66816:3271:5542:65478:79512:31788:99859:15791:43648:76111:3363:80887:49301:13711:72903:56887:32031:29335:47384:76842:84092:61452:18715:16270:70723:87407:54521:75669:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){var _uuid=Math.floor(9999999*Math.random())+"-"+content_id;__append('\n<article class="grid-view-item">\n    <a class="link vilynx-redirect '),__append(escapeFn("none"!==lockLevel?lockLevel:"")),__append('"\n       vilynx-id="'),__append(escapeFn(content_id)),__append('"\n       href="'),__append(escapeFn(url)),__append('"\n       aa-link="'),__append(escapeFn(aaLink)),__append('"\n       data-tracking="'),__append(escapeFn(dataTracking)),__append('">\n\n        <div class="thumb-wrapper">\n\n            <img class="thumb lazy" data-src="'),__append(escapeFn(thumbUrl)),__append('" alt="'),__append(escapeFn(series_title)),__append(" - "),__append(escapeFn(episode_title)),__append('"/>\n\n            '),__append("\n            "),"undefined"!=typeof ratingIcon&&(__append('\n                <img class="ratings-icon lazy" data-src="'),__append(escapeFn(ratingIcon)),__append('" alt="'),__append(escapeFn(ratingText)),__append('" />\n            ')),__append("\n\n            "),__append("\n            "),"undefined"!=typeof progress&&progress>0&&(__append("\n            "),function(){__append("\n"),__append("\n"),__append("\n"),__append("\n"),void 0!==_uuid&&"undefined"!=typeof progress&&(__append("\n<style>\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" {\n        width: 100%;\n        height: 4px;\n        border-radius: 10px;\n        background-color: rgba(255, 255, 255, 0.5);\n    }\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" .bar {\n        background-color: transparent;\n        background-image: -webkit-linear-gradient(135deg, #0037C5, #0064FF);\n        background-image: linear-gradient(135deg, #0037C5, #0064FF);\n        height: 4px;\n        border-radius: 10px 0 0 10px;\n        width: 0;\n\n        -webkit-animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1;\n        call our keyframe named fadeIn, use animattion ease-in and repeat it only 1 time\n        -moz-animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1;\n        animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1s;\n        -webkit-animation-fill-mode: forwards;\n\n        "),__append("\n        -moz-animation-fill-mode: forwards;\n        animation-fill-mode: forwards;\n        -webkit-animation-duration: 2s;\n        -moz-animation-duration: 2s;\n        animation-duration: 2s;\n    }\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" .bar.hasRendered {\n        -webkit-animation-duration: 0s;\n        -moz-animation-duration: 0s;\n        animation-duration: 0s;\n    }\n\n    @-webkit-keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;}\n\n        to {\n            width: "),__append(escapeFn(progress)),__append("%;\n        }\n    }\n\n    @-moz-keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;\n        }\n        to {\n            width: "),__append(escapeFn(progress)),__append("%;\n        }\n    }\n\n    @keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;\n        }\n        to {\n            width: "),__append(escapeFn(progress)),__append('%;\n        }\n    }\n\n</style>\n\n<div class="progress-bar" id="progress-bar-'),__append(escapeFn(_uuid)),__append('" data-percentage="'),__append(escapeFn(progress)),__append('">\n    <div class="bar'),"undefined"!=typeof hasRendered&&hasRendered&&__append(" hasRendered "),__append('"></div>\n</div>\n'))}.call(this),__append("\n            ")),__append("\n\n            "),"subscribe"===lockLevel&&"AVAILABLE"!==status?(__append('\n                <div class="subscribe-gradient"></div>\n                <span class="label subscribe" '),-1!=navigator.userAgent.indexOf("Win")&&__append(' style="padding-bottom: 7px !important" '),__append(" > "),__append(escapeFn(labelSubscribe)),__append("</span>\n            ")):"showtimelock"===lockLevel||"tvelock"===lockLevel?__append('\n                <span class="label bundle-lock">\n                    <img src="/assets/images/svg/content_lock.svg"/>\n                </span>\n            '):__append('\n            <div class="play label circle-sm">\n                <svg class="svg-loader" viewbox="0 0 33.83098862 33.83098862" width="30" height="30"\n                     xmlns="http://www.w3.org/2000/svg">\n                    <circle class="svg-loader__circle" stroke="#FFFFFF" stroke-width="2" stroke-dasharray="100"\n                            fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431"/>\n                </svg>\n            </div>\n            '),__append('\n        </div>\n\n\n    <div class="info-wrapper">\n\n        '),-1!==jQuery.inArray("Seasonless",videoProperties)&&(noSeasons=!0),__append("\n\n        "),-1!==jQuery.inArray("Episodeless",videoProperties)&&(noEpisodes=!0),__append("\n\n\n        "),null!=episode_number&&""!=episode_number&&"Clip"!==type&&(__append("\n            "),"undefined"==typeof noSeasons&&(__append('\n                <span class="meta-white">\n                    <abbr aria-label="Season '),__append(escapeFn(season_number)),__append('" title="'),__append(escapeFn(seasonTitle)),__append('">\n                    '),__append(escapeFn(seasonAbbr)),__append("\n                    </abbr>\n                </span>\n             ")),__append("\n            "),"undefined"==typeof noEpisodes&&(__append('\n                <span class="meta-white">\n                    <abbr aria-label="Episode '),__append(escapeFn(episode_number)),__append('" title="'),__append(escapeFn(episodeNumberTitle)),__append('">\n                    '),__append(escapeFn(episodeAbbr)),__append("\n                    </abbr>\n                </span>\n            ")),__append("\n\n            "),"undefined"==typeof noSeasons&&"undefined"==typeof noEpisodes?__append('\n                    <span class="meta-gray meta-airdate">\n             '):__append('\n                    <span class="meta-gray">\n             '),__append('\n                        <time datetime="'),__append(escapeFn(airdate_iso)),__append('">\n                            '),__append(escapeFn(airdate)),__append("\n                        </time>\n                    </span>\n            ")),__append("\n\n        "),"Clip"===type&&(__append('\n        <span class="meta-gray" itemprop="duration" content="'),__append(escapeFn(duration)),__append('">\n                '),__append(escapeFn(duration)),__append("\n        </span>\n        ")),__append("\n\n        "),__append("\n        "),displayTitle&&(__append('\n        <div class="title-wrapper">\n            <span class="title">\n                '),__append(escapeFn(displayTitle)),__append("\n            </span>\n        </div>\n        ")),__append("\n\n    </div>\n    </a>\n</article>\n")}return __output}},59074:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="notification-bar-wrapper" ref="notificationBarWrapper">\n    <div class="notification-bar negative invisible">\n        <div class="padded-container" ref="html">\n            <span class="icon warning"></span>\n            <span class="notification">&nbsp;</span>\n            <span title="Close" class="icon close"></span>\n        </div>\n    </div>\n</div>\n');return __output}},7175:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<div class="watchlist_floating_tooltip">\n    <span class="tooltip"></span>\n</div>\n');return __output}},11594:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{}){for(var i=0;i<data.length;i++){var _uuid=Math.floor(1e6*Math.random()+1),obj=data[i],title="";obj.title?title=obj.title:obj.alt&&(title=obj.alt);var phatomTitle=title,id;if(obj.dataTracking){var splittedTracking=obj.dataTracking.split("|");phatomTitle=splittedTracking[0]}id=obj.id?obj.id:obj.contentId;var contentType="show";obj.contentType&&(contentType=obj.contentType),obj.isMovie&&(contentType="movie");var impressionContentType=contentType;obj.isOnNow&&(impressionContentType=obj.streamType),obj.isSports&&obj.isCollectionCarousel?(obj.startDateISOClass="meta-airdate-left",obj.metaSeasonNumberClass="hide",obj.metaEpisodeNumberClass="hide"):(obj.startDateISOClass="",obj.metaSeasonNumberClass="",obj.metaEpisodeNumberClass=""),(obj.locked||obj.bundleLocked)&&data[i].isUserSubscriber&&("portrait"==obj.orientation?obj.lockIconClass="bundle-lock portrait":obj.lockIconClass="bundle-lock",obj.lockGradientClass="bundle-lock-gradient");var cmsId="";obj.cmsId&&(cmsId=obj.cmsId);var linkClasses="";if("PREMIUM"!==data[i].status||data[i].isUserSubscriber||(linkClasses+=" subscribe"),__append("\n\n\n    "),data[i]){if(__append("\n\n    "),!data[i].promoTile&&data[i].hasContentHighlight&&(__append("\n        "),function(){__append('\x3c!-- START AB Test PLGRWEB-589-Add Carousel Type to the content highlight thumb wrapper --\x3e\n<div class="thumb-content-highlight-wrapper hide-overlays '),__append(escapeFn(data[i].contentType)),__append("\n                        "),__append(escapeFn(obj.lockIconClass)),__append(" "),__append(escapeFn(obj.carouselType)),__append('"\n     data-href="'),__append(escapeFn(data[i].href)),__append('"\n     data-cta="'),__append(escapeFn(data[i].next.label)),__append('"\n    '),data[i].showSeriesTitle&&(__append('\n        data-showId="'),__append(escapeFn(data[i].showId)),__append('"\n    ')),__append("\n>\n    "),"keep-watching"===obj.carouselType?(__append("\n    "),function(){progress=0;if(__append('\n\n<a href="'),__append(escapeFn(data[i].href)),__append('" class="content-highlight-expanding-container">\n\n    '),function(){__append("\x3c!-- Start AB Test PLGRWEB-600-content-badges-label --\x3e\n"),data[i].badgeLabel&&(__append('\n    <div class="new-item-container">\n        <div class="new-item">'),__append(escapeFn(data[i].badgeLabel)),__append("</div>\n    </div>\n")),__append("\n\x3c!-- END AB Test PLGRWEB-600-content-badges-label --\x3e")}.call(this),__append("\n    "),function(){(data[i].showMovieContentId||data[i].showId)&&(__append('\n    <div class="content-highlight-video-wrapper">\n        <video class="content-highlight-video" preload="none" muted="muted"\n        '),data[i].showMovieContentId&&(__append('\n            data-showMovieContentId="'),__append(escapeFn(data[i].showMovieContentId)),__append('"\n        ')),__append("\n        >\n        </video>\n    </div>\n"))}.call(this),__append('\n    \n    <div class="content-highlight-gradient"></div>\n    <img class="lazy delayed-load-image" content="'),__append(escapeFn(data[i].poster)),__append('" alt="'),__append(escapeFn(data[i].alt)),__append('" />\n    \n    <div class="content-highlight-bottom-components">\n        \n        '),data[i].seasonNumber&&data[i].episodeNumber&&"SPORTS"!=data[i].genre||data[i].showEpisodeLabel){const n={season:data[i].seasonNumber,episodeNumber:data[i].episodeNumber};__append('\n            <div class="content-highlight-info-wrapper">\n                '),data[i].seasonNumber&&data[i].episodeNumber&&"SPORTS"!=data[i].genre&&(__append('\n                <div class="content-highlight-season-episode-info">\n                    '),__append(escapeFn((e=getLocale("season_episode_abbr"),t=n,e.replace(/{(.*?)}/g,((e,n)=>t[n]))))),__append("\n                </div>\n                ")),__append('\n                <div class="content-highlight-episode-title">\n                    '),__append(escapeFn(data[i].showEpisodeLabel)),__append("\n                </div>\n            </div>\n        ")}var e,t;__append("\n\n        "),data[i].rating&&CBS.Registry.region.international?(__append('\n        <div class="content-highlight-rating-wrapper">\n                <img src="'),__append(escapeFn(data[i].rating)),__append('" />\n            </div>\n        ')):data[i].rating&&(__append('\n        <div class="content-highlight-rating-wrapper">\n            <span>'),__append(escapeFn(data[i].rating)),__append("</span>\n        </div>\n        ")),__append('\n        \n        \n\n        <div class="content-highlight-progress-bar-wrapper">\n            '),__append("\n            "),function(){__append("\n"),__append("\n"),__append("\n"),__append("\n"),void 0!==_uuid&&void 0!==progress&&(__append("\n<style>\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" {\n        width: 100%;\n        height: 4px;\n        border-radius: 10px;\n        background-color: rgba(255, 255, 255, 0.5);\n    }\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" .bar {\n        background-color: transparent;\n        background-image: -webkit-linear-gradient(135deg, #0037C5, #0064FF);\n        background-image: linear-gradient(135deg, #0037C5, #0064FF);\n        height: 4px;\n        border-radius: 10px 0 0 10px;\n        width: 0;\n\n        -webkit-animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1;\n        call our keyframe named fadeIn, use animattion ease-in and repeat it only 1 time\n        -moz-animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1;\n        animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1s;\n        -webkit-animation-fill-mode: forwards;\n\n        "),__append("\n        -moz-animation-fill-mode: forwards;\n        animation-fill-mode: forwards;\n        -webkit-animation-duration: 2s;\n        -moz-animation-duration: 2s;\n        animation-duration: 2s;\n    }\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" .bar.hasRendered {\n        -webkit-animation-duration: 0s;\n        -moz-animation-duration: 0s;\n        animation-duration: 0s;\n    }\n\n    @-webkit-keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;}\n\n        to {\n            width: "),__append(escapeFn(progress)),__append("%;\n        }\n    }\n\n    @-moz-keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;\n        }\n        to {\n            width: "),__append(escapeFn(progress)),__append("%;\n        }\n    }\n\n    @keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;\n        }\n        to {\n            width: "),__append(escapeFn(progress)),__append('%;\n        }\n    }\n\n</style>\n\n<div class="progress-bar" id="progress-bar-'),__append(escapeFn(_uuid)),__append('" data-percentage="'),__append(escapeFn(progress)),__append('">\n    <div class="bar'),"undefined"!=typeof hasRendered&&hasRendered&&__append(" hasRendered "),__append('"></div>\n</div>\n'))}.call(this),__append('\n            <div class="content-highlight-time-stamp">\n                '),__append(escapeFn(data[i].timeStamp)),__append('\n            </div>\n        </div>\n\n        <div class="content-highlight-volume-wrapper">\n            <button class="content-highlight-volume"></button>\n        </div>\n\n        <div class="content-highlight-cta-wrapper">\n            '),function(){data[i].watchlist_active_class=data[i].contentMyListActive?"in_watchlist":"",data[i].notify_active_class=data[i].contentNotificationActive?"notify_on":"",data[i].play_icon_class=data[i].next.play?"playIcon":"",data[i].isMovie?data[i].content_id=data[i].movieId:data[i].content_id=data[i].id?data[i].id:data[i].cmsId,data[i].isCorner=CBS.Registry.region.international?"corner":"",data[i].profileType=CBS.Registry.user.profile_type?CBS.Registry.user.profile_type:"",__append('\n    <div class="button-container">\n    <button class="button '),__append(escapeFn(data[i].play_icon_class)),__append(" button-content-highlight-play "),__append(escapeFn(-1!=navigator.userAgent.indexOf("Win")&&""!==data[i].play_icon_class?"buttonWindows":"")),__append('"\n            next-season="'),__append(escapeFn(data[i].next.season)),__append('"\n            next-episode="'),__append(escapeFn(data[i].next.episode)),__append('"\n            next-url="'),__append(escapeFn(data[i].next.seasons_url)),__append('"\n            aria-label="'),__append(escapeFn(data[i].next.label)),__append('">\n        <div class="button__text">\n            <span>'),__append(escapeFn(data[i].next.label)),__append("</span>\n        </div>\n    </button>\n    "),"ADULT"===data[i].profileType&&(__append('\n        <div class="button_with_tooltip highlight_watch_list '),__append(escapeFn(data[i].watchlist_active_class)),__append(" "),__append(escapeFn(data[i].contentMyListActive?"active":"")),__append('">\n            <button class="content_highlight_watch_list_cta"\n                id="watchlist-cta-'),__append(escapeFn(data[i].content_id)),__append('"\n                aria-label="My List Toggle"\n                href-add="'),__append(escapeFn(data[i].contentMyListAddActionUrl)),__append('"\n                href-remove="'),__append(escapeFn(data[i].contentMyListRemoveActionUrl)),__append('">\n                <span class="watchlist_copy">&nbsp;</span>\n            </button>\n            <div class="'),__append(escapeFn(-1!=navigator.userAgent.indexOf("Win")?"ch_tooltip_windows":"")),__append(' highlight_tooltip">\n                <span class="tooltip_text tooltip_add_text">'),__append(escapeFn(getLocale("add_to_my_list"))),__append('</span>\n                <span class="tooltip_text tooltip_remove_text">'),__append(escapeFn(getLocale("remove_from_my_list"))),__append("</span>\n            </div>\n        </div>\n        "),CBS.Registry.region.international||(__append('\n            <div class="button_with_tooltip highlight_notify '),__append(escapeFn(data[i].notify_active_class)),__append(" "),__append(escapeFn(data[i].contentNotificationActive?"active":"")),__append('">\n                <button class="content_highlight_notify_bell_cta"\n                    id="notify-cta-'),__append(escapeFn(data[i].content_id)),__append('"\n                    aria-label="Notifications Toggle"\n                    href-add="'),__append(escapeFn(data[i].contentNotificationAddActionUrl)),__append('"\n                    href-remove="'),__append(escapeFn(data[i].contentNotificationRemoveActionUrl)),__append('"">\n                    <span class="notify_copy">&nbsp;</span>\n                </button>\n                <div class="'),__append(escapeFn(-1!=navigator.userAgent.indexOf("Win")?"ch_tooltip_windows":"")),__append(' highlight_tooltip highlight_tooltip_notify">\n                    <span class="tooltip_text tooltip_add_text">'),__append(escapeFn(getLocale("notify_me"))),__append('</span>\n                    <span class="tooltip_text tooltip_remove_text">'),__append(escapeFn(getLocale("turn_off_notifications"))),__append("</span>\n                </div>\n            </div>\n        ")),__append("\n    ")),__append("\n</div>")}.call(this),__append("\n        </div>\n        \n    </div>\n    \x3c!-- END AB Test PLGRWEB-658-restore-click-on-thumb --\x3e\n\n \n\n    "),function(){data[i].logo?(__append('\n<img src="'),__append(escapeFn(data[i].logo)),__append('" class="video-wrapper-logo-overlay" alt="'),__append(escapeFn(data[i].brand)),__append('" />\n')):data[i].showSeriesTitle&&(__append('\n<div class="video-wrapper-logo-overlayas-text">\n    '),__append(escapeFn(data[i].showSeriesTitle)),__append("\n</div>\n"))}.call(this),__append("\n\n</a>")}.call(this),__append("\n    ")):(__append("\n    "),function(){__append('\n<a href="'),__append(escapeFn(data[i].href)),__append('" class="content-highlight-expanding-container">\n\n    '),function(){__append("\x3c!-- Start AB Test PLGRWEB-600-content-badges-label --\x3e\n"),data[i].badgeLabel&&(__append('\n    <div class="new-item-container">\n        <div class="new-item">'),__append(escapeFn(data[i].badgeLabel)),__append("</div>\n    </div>\n")),__append("\n\x3c!-- END AB Test PLGRWEB-600-content-badges-label --\x3e")}.call(this),__append("\n    "),function(){(data[i].showMovieContentId||data[i].showId)&&(__append('\n    <div class="content-highlight-video-wrapper">\n        <video class="content-highlight-video" preload="none" muted="muted"\n        '),data[i].showMovieContentId&&(__append('\n            data-showMovieContentId="'),__append(escapeFn(data[i].showMovieContentId)),__append('"\n        ')),__append("\n        >\n        </video>\n    </div>\n"))}.call(this),__append('\n\n    <div class="content-highlight-gradient"></div>\n    <img class="lazy delayed-load-image" content="'),__append(escapeFn(data[i].poster)),__append('" alt="'),__append(escapeFn(data[i].alt)),__append('" />\n\n    <div class="content-highlight-bottom-components">\n        <div class="content-highlight-info-wrapper">\n            \x3c!-- check to only show rating if one of the needed values is present --\x3e\n            ');let e={genre:data[i].genre,premiereDate:data[i].premiereDate,seasonCounts:data[i].seasonCounts,movieDuration:data[i].movieDuration},t=Object.values(e).some(();var n,r;__append("\n            "),data[i].genre&&(__append("\n            <span>"),__append(escapeFn(data[i].genre)),__append("</span>\n            ")),__append("\n            "),data[i].premiereDate&&"SPORTS"!=data[i].genre&&(__append("\n            <span>"),__append(escapeFn(data[i].premiereDate)),__append(" </span>\n            ")),__append("\n            "),data[i].seasonCounts&&"SPORTS"!=data[i].genre&&(__append("\n            <span>"),__append(escapeFn(data[i].numSeasons>1?(n=getLocale("_seasons"),r={seasonCount:data[i].numSeasons},n.replace(/{(.*?)}/g,()).toUpperCase():getLocale("1_season").toUpperCase())),__append("</span>\n            ")),__append("\n            "),data[i].rating&&CBS.Registry.region.international&&t?(__append('\n            <span class="content-highlight-rating">\n                <img src="'),__append(escapeFn(data[i].rating)),__append('" />\n            </span>\n            ')):data[i].rating&&t&&(__append('\n            <span class="content-highlight-rating">'),__append(escapeFn(data[i].rating)),__append("</span>\n            ")),__append("\n            "),data[i].isMovie&&data[i].movieDuration&&"SPORTS"!=data[i].genre&&(__append("\n            <span>"),__append(escapeFn(data[i].movieDuration)),__append("</span>\n            ")),__append("\n        </div>\n\n        "),obj.about&&(__append('\n        <div class="content-highlight-description '),__append(escapeFn(obj.lockIconClass)),__append('">\n            '),__append(escapeFn(data[i].about)),__append("\n        </div>\n        ")),__append("\n\n        "),data[i].castNames&&(__append('\n        <div class="content-highlight-cast-wrapper">\n            '),function(){__append('<div class="content-highlight-cast">\n'),__append(escapeFn(getLocale("starring_"))),__append(" "),__append(data[i].castNames),__append("\n</div>")}.call(this),__append("\n        </div>\n        ")),__append("\n\n        "),obj.lockIconClass&&data[i].isUserSubscriber&&(__append('\n        <div class="content-highlight-bundle-locked">\n            <div class="portrait label bundle-lock">\n                <img src="/assets/images/svg/content_lock.svg"/>\n            </div>\n            <div class="content-highlight-lock-text"><span>'),__append(escapeFn(getLocale("get_pplus_showtime"))),__append("</span></div>\n        </div>\n        ")),__append('\n        \n        <div class="content-highlight-volume-wrapper">\n            <button class="content-highlight-volume"></button>\n        </div>\n        \n        <div class="content-highlight-cta-wrapper">\n            '),function(){data[i].watchlist_active_class=data[i].contentMyListActive?"in_watchlist":"",data[i].notify_active_class=data[i].contentNotificationActive?"notify_on":"",data[i].play_icon_class=data[i].next.play?"playIcon":"",data[i].isMovie?data[i].content_id=data[i].movieId:data[i].content_id=data[i].id?data[i].id:data[i].cmsId,data[i].isCorner=CBS.Registry.region.international?"corner":"",data[i].profileType=CBS.Registry.user.profile_type?CBS.Registry.user.profile_type:"",__append('\n    <div class="button-container">\n    <button class="button '),__append(escapeFn(data[i].play_icon_class)),__append(" button-content-highlight-play "),__append(escapeFn(-1!=navigator.userAgent.indexOf("Win")&&""!==data[i].play_icon_class?"buttonWindows":"")),__append('"\n            next-season="'),__append(escapeFn(data[i].next.season)),__append('"\n            next-episode="'),__append(escapeFn(data[i].next.episode)),__append('"\n            next-url="'),__append(escapeFn(data[i].next.seasons_url)),__append('"\n            aria-label="'),__append(escapeFn(data[i].next.label)),__append('">\n        <div class="button__text">\n            <span>'),__append(escapeFn(data[i].next.label)),__append("</span>\n        </div>\n    </button>\n    "),"ADULT"===data[i].profileType&&(__append('\n        <div class="button_with_tooltip highlight_watch_list '),__append(escapeFn(data[i].watchlist_active_class)),__append(" "),__append(escapeFn(data[i].contentMyListActive?"active":"")),__append('">\n            <button class="content_highlight_watch_list_cta"\n                id="watchlist-cta-'),__append(escapeFn(data[i].content_id)),__append('"\n                aria-label="My List Toggle"\n                href-add="'),__append(escapeFn(data[i].contentMyListAddActionUrl)),__append('"\n                href-remove="'),__append(escapeFn(data[i].contentMyListRemoveActionUrl)),__append('">\n                <span class="watchlist_copy">&nbsp;</span>\n            </button>\n            <div class="'),__append(escapeFn(-1!=navigator.userAgent.indexOf("Win")?"ch_tooltip_windows":"")),__append(' highlight_tooltip">\n                <span class="tooltip_text tooltip_add_text">'),__append(escapeFn(getLocale("add_to_my_list"))),__append('</span>\n                <span class="tooltip_text tooltip_remove_text">'),__append(escapeFn(getLocale("remove_from_my_list"))),__append("</span>\n            </div>\n        </div>\n        "),CBS.Registry.region.international||(__append('\n            <div class="button_with_tooltip highlight_notify '),__append(escapeFn(data[i].notify_active_class)),__append(" "),__append(escapeFn(data[i].contentNotificationActive?"active":"")),__append('">\n                <button class="content_highlight_notify_bell_cta"\n                    id="notify-cta-'),__append(escapeFn(data[i].content_id)),__append('"\n                    aria-label="Notifications Toggle"\n                    href-add="'),__append(escapeFn(data[i].contentNotificationAddActionUrl)),__append('"\n                    href-remove="'),__append(escapeFn(data[i].contentNotificationRemoveActionUrl)),__append('"">\n                    <span class="notify_copy">&nbsp;</span>\n                </button>\n                <div class="'),__append(escapeFn(-1!=navigator.userAgent.indexOf("Win")?"ch_tooltip_windows":"")),__append(' highlight_tooltip highlight_tooltip_notify">\n                    <span class="tooltip_text tooltip_add_text">'),__append(escapeFn(getLocale("notify_me"))),__append('</span>\n                    <span class="tooltip_text tooltip_remove_text">'),__append(escapeFn(getLocale("turn_off_notifications"))),__append("</span>\n                </div>\n            </div>\n        ")),__append("\n    ")),__append("\n</div>")}.call(this),__append("\n        </div>\n        \n    </div>\n\n    "),function(){data[i].logo?(__append('\n<img src="'),__append(escapeFn(data[i].logo)),__append('" class="video-wrapper-logo-overlay" alt="'),__append(escapeFn(data[i].brand)),__append('" />\n')):data[i].showSeriesTitle&&(__append('\n<div class="video-wrapper-logo-overlayas-text">\n    '),__append(escapeFn(data[i].showSeriesTitle)),__append("\n</div>\n"))}.call(this),__append("\n\n</a>")}.call(this),__append("\n    ")),__append("\n</div>\n\x3c!-- START AB Test PLGRWEB-589-Add Carousel Type to the content highlight thumb wrapper --\x3e")}.call(this),__append("\n    ")),__append('\n\n    \x3c!-- ABTest: homepage descriptions :: contentId used by growth team --\x3e\n    <a class="link '),__append(escapeFn("PREMIUM"!==data[i].status||data[i].isUserSubscriber?"":"subscribe")),__append(" "),__append(escapeFn(linkClasses)),__append('"\n\n        '),id&&(__append('\n            id="'),__append(escapeFn(id)),__append('"\n        ')),__append("\n\n        "),data[i].genre&&(__append('\n            data-genre="'),__append(escapeFn(data[i].genre)),__append('"\n        ')),__append("\n\n        "),data[i].showGenre&&(__append('\n            data-genre="'),__append(escapeFn(data[i].showGenre)),__append('"\n        ')),__append("\n\n        "),""!==data[i].href&&(__append('\n            href="'),__append(escapeFn(data[i].href)),__append('"\n        ')),__append("\n\n        "),""!==data[i].actionTarget&&(__append('\n            target="'),__append(escapeFn(data[i].actionTarget)),__append('"\n        ')),__append("\n\n        "),""!==title&&(__append('\n            title="'),__append(escapeFn(title)),__append('"\n        ')),__append("\n\n        "),""!==data[i].aaLink&&(__append('\n            aa-link="'),__append(escapeFn(data[i].aaLink)),__append('"\n        ')),__append("\n\n        "),data[i].dataTracking&&(__append('\n            data-tracking="'),__append(escapeFn(data[i].dataTracking)),__append('"\n        ')),__append("\n\n        "),data[i].content_id&&(__append('\n            vilynx-id="'),__append(escapeFn(data[i].content_id)),__append('"\n        ')),__append("\n\n        "),void 0!==data[i].contentId&&(__append("\n                "),data[i].contentId&&(__append('\n                    vilynx-id="'),__append(escapeFn(data[i].contentId)),__append('"\n                ')),__append("\n        ")),__append("\n\n        "),data[i].promoTile?(__append("\n            data-fathom = '"),__append(escapeFn(data[i].hubId)),__append("||0|promo_"),__append(escapeFn(data[i].contentType)),__append("||"),__append(escapeFn(data[i].title)),__append("||'\n            data-impression = '"),__append(escapeFn(data[i].hubId)),__append("||0|promo_"),__append(escapeFn(data[i].contentType)),__append("||"),__append(escapeFn(data[i].title)),__append("|||||'\n        ")):(__append("\n            data-fathom = '"),__append(escapeFn(data[i].contentIdFathom)),__append("|getdisplayIDAbove|"),__append(escapeFn(data[i].position)),__append("|"),__append(escapeFn(contentType)),__append("|"),__append(escapeFn(data[i].recoId)),__append("|"),__append(escapeFn(phatomTitle)),__append("|"),__append(escapeFn(data[i].rankModel)),__append("|"),__append(escapeFn(data[i].pvrModel)),__append("'\n            data-impression = '"),__append(escapeFn(data[i].contentIdFathom)),__append("|getdisplayIDAbove|"),__append(escapeFn(data[i].position)),__append("|"),__append(escapeFn(impressionContentType)),__append("|"),__append(escapeFn(data[i].recoId)),__append("|"),__append(escapeFn(phatomTitle)),__append("|"),__append(escapeFn(data[i].rankModel)),__append("|"),__append(escapeFn(data[i].pvrModel)),__append("|"),__append(escapeFn(data[i].badgeLabel)),__append("|"),__append(escapeFn(data[i].bundleLocked)),__append("|"),__append(escapeFn(cmsId)),__append("'\n        ")),__append('\n    >\n\n    <div class="thumb-wrapper '),data[i].onNowTitle&&__append("always-on"),__append('"  style="background-image: linear-gradient(240deg, #'),__append(escapeFn(data[i].startHexColor)),__append(", #"),__append(escapeFn(data[i].endHexColor)),__append(')">\n    \n            '),data[i].scheduleBadge&&(__append('\n            <div class="schedule-badge">\n                '),data[i].isListingLive?(__append('\n                    <span class="live-badge" '),-1!=navigator.userAgent.indexOf("Win")&&__append(' style="margin-top: 0px" '),__append(' ></span>\n                    <span class="badge-copy" '),-1!=navigator.userAgent.indexOf("Win")&&__append(' style="padding-bottom: 2px" '),__append(" >LIVE</span>\n                ")):(__append('\n                    <span class="badge-copy" '),-1!=navigator.userAgent.indexOf("Win")&&__append(' style="padding-bottom: 2px" '),__append(" >"),__append(escapeFn(data[i].scheduleBadgeText)),__append("</span>\n                ")),__append("\n            </div>\n            ")),__append("\n\n\n            \x3c!-- Promo Tile --\x3e\n            "),data[i].promoTile&&(__append('\n            <div class="promoInfo">\n                '),data[i].ctaLine1&&(__append('\n                    <div class="promoIcon"> \n                        <img  src="'),__append(escapeFn(data[i].promoIcon)),__append('" > \n                    </div>\n                ')),__append("\n                "),data[i].ctaLine1&&(__append('\n                    <div class="promoCTALine1">'),__append(escapeFn(data[i].ctaLine1)),__append("</div>\n                ")),__append("\n                "),data[i].ctaLine2&&(__append('\n                    <div class="promoCTALine2">'),__append(escapeFn(data[i].ctaLine2)),__append("</div>\n                ")),__append("\n            </div>\n            ")),__append("\n\n\n\n            "),"undefined"!=typeof editable&&(__append('\n            <label class="edit-container">\n                <input  type="checkbox"\n                        name="editor"\n                '),data[i].showId&&(__append('\n                    value="'),__append(escapeFn(data[i].showId)),__append("/"),__append(escapeFn(data[i].showSeriesId)),__append("|"),__append(escapeFn(data[i].showSeriesTitle)),__append("|"),__append(escapeFn(data[i].showGenre)),__append("|"),__append(escapeFn(data[i].showDayPart)),__append("|"),__append(escapeFn(data[i].showEpisodeId)),__append("|"),__append(escapeFn(data[i].showEpisodeLabel)),__append("|"),__append(escapeFn(data[i].showSeasonNumber)),__append("|"),__append(escapeFn(data[i].showEpisodeNumber)),__append("|"),__append(escapeFn(data[i].showAirDate)),__append("|"),__append(escapeFn(data[i].contentId)),__append('"\n                ')),__append('                >\n                <span class="checkmark"  ></span>\n                <div class="overlay" ></div>\n            </label>\n            ')),__append("\n\n            "),data[i].characterImage||(__append('\n                <img class="thumb lazy"\n                '),data[i].thumb&&(__append('\n                    data-src="'),__append(escapeFn(data[i].thumb)),__append('"\n                ')),__append("\n                "),data[i].alt&&(__append('\n                    alt="'),__append(escapeFn(data[i].alt)),__append('"\n                ')),__append("\n                >\n            ")),__append("\n\n            "),__append("\n            "),data[i].progress&&data[i].progress>0){__append("\n                ");var progress=data[i].progress;__append("\n                "),function(){__append("\n"),__append("\n"),__append("\n"),__append("\n"),void 0!==_uuid&&void 0!==progress&&(__append("\n<style>\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" {\n        width: 100%;\n        height: 4px;\n        border-radius: 10px;\n        background-color: rgba(255, 255, 255, 0.5);\n    }\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" .bar {\n        background-color: transparent;\n        background-image: -webkit-linear-gradient(135deg, #0037C5, #0064FF);\n        background-image: linear-gradient(135deg, #0037C5, #0064FF);\n        height: 4px;\n        border-radius: 10px 0 0 10px;\n        width: 0;\n\n        -webkit-animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1;\n        call our keyframe named fadeIn, use animattion ease-in and repeat it only 1 time\n        -moz-animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1;\n        animation: slideProgress-"),__append(escapeFn(_uuid)),__append(" ease-in 1s;\n        -webkit-animation-fill-mode: forwards;\n\n        "),__append("\n        -moz-animation-fill-mode: forwards;\n        animation-fill-mode: forwards;\n        -webkit-animation-duration: 2s;\n        -moz-animation-duration: 2s;\n        animation-duration: 2s;\n    }\n\n    #progress-bar-"),__append(escapeFn(_uuid)),__append(" .bar.hasRendered {\n        -webkit-animation-duration: 0s;\n        -moz-animation-duration: 0s;\n        animation-duration: 0s;\n    }\n\n    @-webkit-keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;}\n\n        to {\n            width: "),__append(escapeFn(progress)),__append("%;\n        }\n    }\n\n    @-moz-keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;\n        }\n        to {\n            width: "),__append(escapeFn(progress)),__append("%;\n        }\n    }\n\n    @keyframes slideProgress-"),__append(escapeFn(_uuid)),__append(" {\n        from {\n            width: 0;\n        }\n        to {\n            width: "),__append(escapeFn(progress)),__append('%;\n        }\n    }\n\n</style>\n\n<div class="progress-bar" id="progress-bar-'),__append(escapeFn(_uuid)),__append('" data-percentage="'),__append(escapeFn(progress)),__append('">\n    <div class="bar'),"undefined"!=typeof hasRendered&&hasRendered&&__append(" hasRendered "),__append('"></div>\n</div>\n'))}.call(this),__append("\n            ")}if(__append("\n\n            "),__append("\n\n            "),data[i].characterImage&&(__append('\n                <img class="thumb lazy character-img" data-src="'),__append(escapeFn(data[i].characterImage)),__append('" src="'),__append(escapeFn(data[i].characterImage)),__append('" alt="'),__append(escapeFn(data[i].title)),__append('">\n            ')),__append("\n\n            "),data[i].background&&(__append('\n            <img class="brand-bkgd-static" src="'),__append(escapeFn(data[i].background)),__append('" onerror=\'this.src="'),__append(escapeFn(data[i].fallbackBackground)),__append("\"'>\n            ")),__append("\n\n            "),data[i].brandLogo&&(__append('\n            <div class="brandLogo '),__append(escapeFn(data[i].slug)),__append('">\n                <img data-src="'),__append(escapeFn(data[i].brandLogo)),__append('" src="'),__append(escapeFn(data[i].brandLogo)),__append('" alt="'),__append(escapeFn(data[i].title)),__append('">\n            </div>\n            ')),__append("\n\n            "),data[i].isUserSubscriber&&data[i].bundleLocked&&(__append('\n            <div class="'),__append(escapeFn(data[i].lockGradientClass)),__append('"></div>\n            ')),__append("\n\n            "),data[i].isUserSubscriber&&!data[i].isUserRegistered&&(data[i].locked||data[i].bundleLocked)?(__append("\n                "),data[i].onNowTitle||(__append('\n                <div class="label '),__append(escapeFn(data[i].lockIconClass)),__append('"><img src="'),__append(escapeFn(data[i].lockIcon)),__append('"/></div>\n                ')),__append("\n            ")):data[i].icon?(__append('\n            <div class="label '),__append(escapeFn(data[i].icon)),__append(' circle-sm"></div>\n            ')):"PREMIUM"!==data[i].status||data[i].isUserSubscriber?"AVAILABLE"===data[i].status&&(__append('\n            <div class="play label circle-sm">\n                '),data[i].content_id&&__append('\n                <svg class="svg-loader" viewbox="0 0 33.83098862 33.83098862" width="30" height="30"\n                    xmlns="http://www.w3.org/2000/svg">\n                    <circle class="svg-loader__circle" stroke="#FFFFFF" stroke-width="2" stroke-dasharray="100" fill="none"\n                        cx="16.91549431" cy="16.91549431" r="15.91549431"/>\n                </svg>\n                '),__append("\n            </div>\n            ")):(__append('\n            <div class="subscribe-gradient"></div>\n            <div class="label subscribe">'),__append(escapeFn(getLocale("subscribe"))),__append("</div>\n            ")),__append("\n\n    "),data[i].onNowTitle&&(__append('\n    <div class="onnow-wrapper">\n        <div class="onnow-wrapper-inside">\n            <div class="channel-logo">\n                '),data[i].channelLogo&&(__append('\n                    <img src="'),__append(escapeFn(data[i].channelLogo)),__append('">\n                ')),__append("\n            </div>\n            "),((data[i].locked||data[i].bundleLocked)&&data[i].isUserSubscriber||data[i].isLocal&&data[i].lockIcon&&!data[i].isUserSubscriber)&&(__append('\n            <div class="'),__append(escapeFn(data[i].lockGradientClass)),__append('"></div>\n            <div class="label '),__append(escapeFn(data[i].lockIconClass)),__append('">\n                <img src="'),__append(escapeFn(data[i].lockIcon)),__append('"/>\n            </div>\n            ')),__append("\n        </div>\n    </div>\n    ")),__append("\n\n    "),data[i].ratingIcon&&(__append('\n    <img class="ratings-icon"\n         src="'),__append(escapeFn(data[i].ratingIcon)),__append('"\n         alt="'),__append(escapeFn(data[i].ratingText)),__append('" />\n    ')),__append("\n            "),data[i].badgeLabel&&(__append('\n              <div class="new-item-container">\n                <div class="new-item">'),__append(escapeFn(data[i].badgeLabel)),__append("</div>\n              </div>\n            ")),__append('\n    </div>\n\n    <div class="info-wrapper">\n        '),data[i].onNowTitle&&(__append('\n        <div class="info-onnow-wrapper">\n            <div class="runTime noDescription">\n                <span class="season-string">'),__append(escapeFn(data[i].seasonString)),__append("</span>\n                "),data[i].isMultiChannel?(__append('\n                    <span class="meta-gray">\n                        '),__append(escapeFn(data[i].multiChannelName)),__append("\n                    </span>\n                ")):data[i].duration?(__append('\n                    <span class="meta-gray">\n                        '),__append(escapeFn(data[i].duration)),__append("\n                    </span>\n                ")):(__append('\n                    <span class="time-details">\n                        '),data[i].onNowTimeElapsed?(__append("\n                            "),__append(escapeFn(data[i].onNowTimeElapsed)),__append("\n                        ")):(__append("\n                            "),__append(escapeFn(data[i].onNowrunTime)),__append(" "),__append(escapeFn(data[i].onNowTimeRemaining)),__append("\n                        ")),__append("\n                    </span>\n                ")),__append('\n            </div>\n            <div class="title-wrapper">\n                <div class="on-title" data-title="'),__append(escapeFn(data[i].onNowTitle)),__append('">\n                    '),__append(escapeFn(data[i].onNowTitle)),__append("\n                </div>\n            </div>\n        </div>\n        ")),__append("\n\n        "),__append("\n        "),"show"===data[i].watchAgainCarouselContentType&&(__append("\n            "),data[i].seasonNumber&&data[i].episodeNumber&&(__append("\n                <span class='meta-watch-again-wrapper'>\n                    <span class=\"meta-white "),__append(escapeFn(data[i].metaSeasonNumberClass)),__append('">\n                        <abbr aria-label="Season '),__append(escapeFn(data[i].seasonNumber)),__append('" title="'),__append(escapeFn(getLocale("season"))),__append(" "),__append(escapeFn(data[i].seasonNumber)),__append('">\n                            '),__append(escapeFn(getLocale("season_number_abbr",{seasonNumber:data[i].seasonNumber}))),__append('\n                        </abbr>\n                    </span>\n                    <span class="meta-white '),__append(escapeFn(data[i].metaEpisodeNumberClass)),__append('">\n                            <abbr aria-label="Episode '),__append(escapeFn(data[i].episodeNumber)),__append('" title="'),__append(escapeFn(getLocale("episode"))),__append(" "),__append(escapeFn(data[i].episodeNumber)),__append('">\n                                '),__append(escapeFn(getLocale("episode_number_abbr",{episodeNum:data[i].episodeNumber}))),__append('\n                            </abbr>\n                    </span>\n                    <span class="meta-gray meta-episode-title">\n                        '),__append(escapeFn(data[i].episodeOrClipTitle)),__append("\n                    </span>\n                </span>\n            ")),__append("\n        ")),__append("\n\n        "),__append("\n        "),"movie"===data[i].watchAgainCarouselContentType&&(__append('\n            <span class="meta-gray meta-airdate '),__append(escapeFn(data[i].startDateISOClass)),__append('">\n                <time datetime="'),__append(escapeFn(data[i].startDateISO)),__append('">\n                     '),__append(escapeFn(data[i].startDate)),__append("\n                </time>\n            </span>\n         ")),__append("\n         \n        "),__append("\n        "),!data[i].isMovie&&data[i].seasonNumber&&data[i].episodeNumber&&!data[i].watchAgainCarouselContentType&&(__append("\n            "),data[i].showSeasonLess||(__append("\n               "),"Clip"!==data[i].content_type&&(__append('\n                    <span class="meta-white '),__append(escapeFn(data[i].metaSeasonNumberClass)),__append('">\n                        <abbr aria-label="Season '),__append(escapeFn(data[i].seasonNumber)),__append('" title="'),__append(escapeFn(getLocale("season"))),__append(" "),__append(escapeFn(data[i].seasonNumber)),__append('">\n                            '),__append(escapeFn(getLocale("season_number_abbr",{seasonNumber:data[i].seasonNumber}))),__append("\n                        </abbr>\n                    </span>\n                ")),__append("\n             ")),__append("\n             "),data[i].showEpisodeLess||(__append("\n               "),"Clip"!==data[i].content_type&&(__append('   \n                    <span class="meta-white '),__append(escapeFn(data[i].metaEpisodeNumberClass)),__append('">\n                        <abbr aria-label="Episode '),__append(escapeFn(data[i].episodeNumber)),__append('" title="'),__append(escapeFn(getLocale("episode"))),__append(" "),__append(escapeFn(data[i].episodeNumber)),__append('">\n                            '),__append(escapeFn(getLocale("episode_number_abbr",{episodeNum:data[i].episodeNumber}))),__append("\n                        </abbr>\n                    </span>\n                ")),__append("\n            ")),__append('\n            <span class="meta-gray '),__append(escapeFn("Clip"===data[i].content_type?"meta-airdate-left":"meta-airdate")),__append(" "),__append(escapeFn(data[i].startDateISOClass)),__append('">\n                <time datetime="'),__append(escapeFn(data[i].startDateISO)),__append('">\n                     '),__append(escapeFn(data[i].startDate)),__append("\n                </time>\n            </span>\n        ")),__append("\n\n\n        "),__append("\n        "),data[i].isNewsTopStories&&data[i].startDate&&(__append('\n        <span class="meta-gray meta-airdate">\n                <time datetime="'),__append(escapeFn(data[i].startDateISO)),__append('">\n                     '),__append(escapeFn(data[i].startDate)),__append("\n                </time>\n            </span>\n        ")),__append("\n\n        "),__append("\n        "),data[i].winner&&(__append('\n            <span class="nom-winner">\n                <img class="thumb lazy" data-src="'),__append(escapeFn(data[i].winner_icon)),__append('" alt="Winner" title="Winner" />\n            </span>\n        ')),__append("\n\n        "),__append("\n        "),!data[i].isMovie&&data[i].duration&&!data[i].onNowTitle&&data[i].displayItemTitle&&(__append('\n            <span class="meta-gray">\n                '),__append(escapeFn(data[i].duration)),__append("\n            </span>\n        ")),__append("\n\n        "),__append("\n        "),data[i].characterName&&(__append('\n            <span class="meta-gray">\n                '),__append(escapeFn(data[i].characterName)),__append("\n            </span>\n        ")),__append("\n\n        "),__append("\n        "),data[i].startTime&&(__append('\n        <div class="startTime-wrapper">\n            <div class="startTime">\n                '),__append(escapeFn(data[i].startTime)),__append("\n            </div>\n            "),0==i&&__append('\n            <div class="liveNow"><div class="blue-dot blinking"></div> LIVE</div>\n            '),__append("\n        </div>\n        ")),__append("\n\n\n        "),__append("\n        "),(data[i].rating||data[i].yearMin)&&"movie"===contentType&&(__append('\n        <span class="meta-gray">\n            '),data[i].yearMin&&(__append("\n                "),__append(escapeFn(data[i].yearMin)),__append("\n             ")),__append("\n            "),data[i].rating&&!CBS.Registry.region.international&&(__append("\n                "),__append(escapeFn(data[i].rating)),__append("\n             ")),__append("\n        </span>\n        ")),__append("\n\n\n        "),__append("\n        "),data[i].title&&!data[i].onNowTitle&&data[i].displayItemTitle&&(__append('\n            <div class="title-wrapper">\n                <div class="title" data-title="'),__append(escapeFn(data[i].title)),__append('">\n                    '),__append(escapeFn(data[i].title)),__append("\n                </div>\n            </div>\n        ")),__append("\n\n        "),__append("\n        "),data[i].description?(__append('\n        <div class="description-wrapper" id="js-schedule-description">\n            <div class="description" id="js-schedule-copy">\n                '),__append(escapeFn(data[i].description)),__append('\n            </div>\n            <div class="runTime">\n                '),__append(escapeFn(data[i].runTime)),__append("\n            </div>\n        </div>\n        ")):data[i].runTime&&(__append('\n            <div class="runTime noDescription">\n                '),__append(escapeFn(data[i].runTime)),__append("\n            </div>\n        ")),__append("\n\n        "),__append("\n        "),data[i].appearanceDate&&(__append('\n            <div class="guests-appearance-date">\n                '),__append(escapeFn(data[i].appearanceDate)),__append("\n            </div>\n        ")),__append("\n\n        "),__append("\n        "),data[i].guests_array){__append('\n        <div class="guests" id="guests">\n        </div>\n        ');var div=document.getElementById("guests");for(var guest in data[i].guests_array)div.innerHTML+='<div class="guest">'+guest+"</div>";__append("\n\n        ")}__append('\n\n    </div>\n\n    </a>\n\n    <div class="break"></div>\n\n\n    ')}__append("\n\n")}__append("\n")}return __output}},64482:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<h2 class="video-section-title">\n    '),"undefined"!=typeof title&&__append(escapeFn(title)),__append("\n    "),"undefined"!=typeof redDot&&!0===redDot&&__append('\n        <div class="reddot"></div>\n    '),__append(" \n    "),"undefined"!=typeof todaysDate&&(__append('\n        <span class="schedule-header-date" style="display: none;">Today '),__append(escapeFn(todaysDate)),__append("</span>")),__append("\n</h2>\n\n"),"undefined"!=typeof editable&&(__append('\n<div class="edit-carousel" tabindex="0">\n    '),__append(escapeFn(getLocale("edit"))),__append('\n</div>\n<div class="edit-cancel-carousel">\n    '),__append(escapeFn(getLocale("cancel"))),__append("\n</div>\n")),__append('\n\n\n<ul class="dropdown dropdown__filter js-dropdown"></ul>\n<div class="video-carousel-box" '),"undefined"!=typeof pvrModel&&(__append(' data-pvrModel="'),__append(escapeFn(pvrModel)),__append('" ')),__append(' >\n    <div class="wrap swiper-container">\n        <div class="carousel-container swiper-wrapper">\n        </div>\n        <a class="carousel-prev focusable"></a>\n        <a class="carousel-next focusable"></a>\n    </div>\n    <div class="message-box"></div>\n</div>');return __output}},58133:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('\n<article class="grid-view-item">\n    <a class="link"\n       href="'),__append(escapeFn(url)),__append('"\n       aa-link="'),__append(escapeFn(aaLink)),__append('"\n        '),"undefined"!=typeof dataTracking&&(__append('\n            data-tracking="'),__append(escapeFn(dataTracking)),__append('">\n        ')),__append('\n    >\n        <div class="thumb-wrapper">\n\n            <img class="thumb lazy" data-src="'),__append(escapeFn(thumbUrl)),__append('"\n                 alt="'),__append(escapeFn(title)),__append('"\n            />\n        </div>\n    </a>\n\n    <div class="info-wrapper">\n\n\n        '),__append("\n        "),"host"==bioType&&__append('\n        <div class="title-wrapper">\n            <span class="meta-gray">\n                Host\n            </span>\n        </div>\n        '),__append("\n\n\n        "),__append("\n        "),characterName&&(__append('\n        <div class="title-wrapper">\n            <span class="meta-gray">\n                '),__append(escapeFn(characterName)),__append("\n            </span>\n        </div>\n        ")),__append("\n\n\n\n        "),__append("\n        "),title&&(__append('\n        <div class="title-wrapper">\n            <span class="title">\n                '),__append(escapeFn(title)),__append("\n            </span>\n        </div>\n        ")),__append("\n\n    </div>\n</article>");return __output}},61290:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<article class="grid-view-item noData">\n\n\n</article>');return __output}},30275:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<article class="grid-view-item">\n    <a class="link" href="'),__append(escapeFn(href)),__append('" aa-link="'),__append(escapeFn(thumbNailLink)),__append('">\n        <div class="thumb-wrapper">\n            <img class="thumb lazy" data-src="'),__append(escapeFn(thumbUrl)),__append('" alt="'),__append(escapeFn(show_title)),__append(" - "),__append(escapeFn(title)),__append('"/>\n        </div>\n    </a>\n    <meta itemprop="name" content="'),__append(escapeFn(title)),__append('"/>\n    <meta itemprop="description" content="'),__append(escapeFn(alt_title)),__append('"/>\n    <div class="info-wrapper">\n        <div class="title-wrapper">\n            <span class="title">\n                <a href="'),__append(escapeFn(href)),__append('" aa-link="'),__append(escapeFn(storyTitleLink)),__append('">\n                    '),__append(escapeFn(title)),__append("\n                </a>\n            </span>\n        </div>\n    </div>\n</article>");return __output}},95156:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<article class="grid-view-item">\n    <a class="link" href="'),__append(escapeFn(href)),__append('" aa-link="'),__append(escapeFn(thumbNailLink)),__append('">\n        <div class="thumb-wrapper">\n            <img class="thumb lazy" data-src="'),__append(escapeFn(thumbUrl)),__append('" alt="'),__append(escapeFn(show_title)),__append(" - "),__append(escapeFn(title)),__append('"/>\n        </div>\n    </a>\n    <meta itemprop="name" content="'),__append(escapeFn(title)),__append('"/>\n    <meta itemprop="description" content="'),__append(escapeFn(alt_title)),__append('"/>\n    <div class="info-wrapper">\n        <div class="title-wrapper">\n            <span class="title">\n                <a href="'),__append(escapeFn(href)),__append('" aa-link="'),__append(escapeFn(storyTitleLink)),__append('">\n                    '),__append(escapeFn(title)),__append("\n                </a>\n            </span>\n        </div>\n    </div>\n</article>");return __output}},36951:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<article class="grid-view-item">\n\n        <div class="thumb-wrapper">\n            <img class="thumb lazy" data-src="'),__append(escapeFn(thumbUrl)),__append('" alt="'),__append(escapeFn(show_title)),__append(" - "),__append(escapeFn(title)),__append('"/>\n        </div>\n\n    <meta itemprop="name" content="'),__append(escapeFn(title)),__append('"/>\n    <meta itemprop="description" content="'),__append(escapeFn(alt_title)),__append('"/>\n    <div class="info-wrapper">\n        <div class="title-wrapper">\n            <span class="title">\n                    '),__append(escapeFn(title)),__append("\n            </span>\n        </div>\n    </div>\n</article>");return __output}},9081:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('<article class="grid-view-item">\n    <a class="link" href="'),__append(escapeFn(href)),__append('" aa-link="'),__append(escapeFn(aaLink)),__append('"\n        '),actionTarget&&(__append('\n            target="'),__append(escapeFn(actionTarget)),__append('"\n        ')),__append('\n    >\n        <div class="thumb-wrapper">\n            <img class="thumb lazy"\n                 data-src="'),__append(escapeFn(thumb)),__append('"\n                 alt="'),__append(escapeFn(alt)),__append('"/>\n            '),icon&&(__append('\n                <div class="label '),__append(escapeFn(icon)),__append(' circle-sm"></div>\n            ')),__append('\n        </div>\n    </a>\n    <div class="info-wrapper">\n        <span class="meta-category">\n            '),__append(escapeFn(contentType)),__append('\n        </span>\n        <div class="title-wrapper">\n            <span class="title">\n                '),__append(escapeFn(title)),__append("\n            </span>\n        </div>\n    </div>\n</article>");return __output}},55639:module=>{module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;ar __output="";ith(locals||{}){__append('<li class="pv-h">\n    <a href="javascript:void(0);" class="filter js-filter">'),__append(escapeFn(selected.title)),__append('</a>\n    <ul class="content">\n        ');for(var i=0;i<data.length;i++)__append('\n            <li><a href="javascript:void(0);" data-index="'),__append(escapeFn(i)),__append('" data-value="'),__append(escapeFn(data[i].value)),__append('">'),__append(escapeFn(data[i].title)),__append("</a></li>\n        ");__append('\n    </ul>\n</li>\n<select class="dropdown__filter__fake">\n    ');for(var i=0;i<data.length;i++)__append('\n        <option value="'),__append(escapeFn(data[i].value)),__append('">'),__append(escapeFn(data[i].title)),__append("</option>\n    ");__append("\n</select>")}return __output}},2692:},7439},8073},3312},9647},3123},5705},2916},8299},6629},3683},5507},1676},7666},1244},82290:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(49313),n(14229),n(28222),n(69431);const r=function(){var e=document.querySelectorAll("a.ot-sdk-show-settings");e&&e.forEach((function(e){e.setAttribute("href","#"),e.addEventListener("click"}))}))}},31617:(e,t,n)=>{"use strict";n(3468),n(14229),n(37352),n(90871),n(15848),n(99180),n(98498),n(52815),n(62085),n(13491),n(306),n(5708),n(40816),n(4490),n(83704),n(49313),n(28222),n(16201),n(33547),n(97142),n(29174),n(88515),n(83753);$(document).ready((function(){var e=$("#branch-banner-iframe"),t=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!window.MSStream;if(1===CBS.Registry.platform.isHandheld||!0===t)var n=$("body"),r=0,i="open",o=function(e,t){n.css({"margin-top":"96px"}),i="closed",clearInterval(a)},a=setInterval((function(){0===e.length&&(e=$("#branch-banner-iframe")),e.length>0&&"open"==i&&(branch.addListener("didClickJourneyClose",o),e.position().top<=0?n.css({"margin-top":e.height()+"px"}):n.css({"margin-top":"0"}),clearInterval(a),$(window).resize((function(){setTimeout((function(){e.length>0&&"open"==i&&(e.position().top<=0?n.css({"margin-top":e.height()+"px"}):n.css({"margin-top":"0"}))}),250)}))),++r>=10&&clearInterval(a)}),500)}));n(16865);var r=function(e){$("body a").blur(),e.hasClass("using-mouse")||e.addClass("using-mouse")};!function(){if(-1===navigator.userAgent.indexOf("SMART-TV")){var e=$("body");e.on("mousemove",(function(){r(e)})),e.on("mousedown"})),e.keydown}))}}(),$("body").on("mousemove"}));n(3447),n(31271),n(13625),n(24128),n(44705),n(2316),n(88445),n(93318),n(22190),n(29202),n(80533),n(6468),n(80815),n(94403),n(26047),n(95462),n(58433);var i=n(16676);var o=["ENABLE_CONCURRENCY_MONITORING","ENABLE_CM_VOD","ENABLE_CM_LIVE"];Object.freeze(o);function a(e){window.hasOwnProperty("ae")&&window.ae.hasOwnProperty("logout")&&window.ae.logout(),$.ajax({url:(CBS.Registry.region.prefix||"")+"/account/logout/",type:"GET",dataType:"json",erro},success:function(t){if(!0===t.success)if((0,i.nJ)("aa-abandon-ovl",{path:"/"}),window.localStorage.removeItem("mvpd_authz"),window.localStorage.removeItem("mvpd_chosen_obj"),window.localStorage.removeItem("mvpd_cm"),window.localStorage.removeItem("mvpd_configs"),(0,i.nJ)("mvpd_authz"),window.localStorage.setItem("cbs_logout",(new Date).toDateString()),$.cookie("mvpd_authz","",{path:"/",domain:".cbs.com"}),"function"==typeof e)e();else{(n=window.location.pathname).substr(-1);window.location.href="/"}var n}})}var s=n(73065);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:P(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function b(){}function _(){}function w(){}var S={};d(S,a,(function(){return this}));var k=Object.getPrototypeOf,T=k&&k(k(j([])));T&&T!==n&&r.call(T,a)&&(S=T);var E=w.prototype=b.prototype=Object.create(S);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var u=h(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==l(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function P(t,n,r){var i=f;return function(o,a){if(i===g)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=O(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?m:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0}return _.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=d(w,c,"GeneratorFunction"),t.isGeneratorFunctio},t.mar},t.awra},x(C.prototype),d(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.asyn},x(E),d(E,c,"Generator"),d(E,a,(function(){return this})),d(E,"toString"})),t.key},t.values=j,L.prototype={constructor:L,rese},sto},dispatchExceptio},abrup},complet},finis},catc},delegateYiel}},}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===l(o)?o:String(o)),r)}var i,o}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,i,o;return t=e,n=[{key:"logoutWithAuthSuite",value:(i=u().mark((function e(t,n){return u().wrap}),e)})),})},{key:"logout",valu}}],n&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===h(o)?o:String(o)),r)}var i,o}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"supportsPassive",value:function(){if(window.passiveListener)return window.passiveListener;var e=!1;try{var t=Object.defineProperty({},"passive",{ge}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return window.passiveListener=!0,e}}],(n=null)&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=n(45071),m=n(14060),y=n(31729);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e}function w(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){w(o,r,i,a,s,"next",e)}function s(e){w(o,r,i,a,s,"throw",e)}a(void 0)}))}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===b(o)?o:String(o)),r)}var i,o}var T=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.authSuiteEnabled=!1,this.trackingService=new m.ZP,CBS.Registry.authSuiteConfig&&CBS.Registry.authSuiteConfig.enabled&&Promise.all([n.e(18224),n.e(60868)]).then(n.bind(n,17383)).then((function(e){var n=e.default,r=CBS.Registry.authSuiteConfig,i=r.clientId,o=r.countryCode,a=r.env,s=o||CBS.Registry.region.property;t.authSuiteSdkProvider=new n({clientId:i,countryCode:s,env:a}),t.authSuiteEnabled=!0})),this.marqueeCopy=document.querySelector("#hero-content .slide-js h1"),this.headerEl=$("header"),this.heroImage=$(".hero_carousel_image"),this.headerWrap=$("header .header__wrap"),this.subnavEl=$("#subnav"),this.mobile={icon:document.querySelector("header .burger"),menu:document.querySelector("#pv-dropdown"),subNavs:document.querySelectorAll("#pv-dropdown .withSubMenu"),skip:document.querySelector("#skip-link")},this.initializeHeader(),this.initStylesForIE(),this.initializeMobileMenu(),CBS.Registry.user_auth&&this.initializeUserMenu(),this.keyboardNav(),this.initializeTracking()}var t,r,i;return t=e,r=[{key:"keyboardNav",value:function(){$(document).on("keydown"})),$("body").mousedown((function(){$("li.header__nav--withsubMenu ul.content").removeClass("filter-focus")})),$(window).width()>=1024&&$(".mobileMenu").find("a").attr("tabindex","-1"),$(window).on("resize",(function(e){$(this).width()<1024?$(".mobileMenu").find("a").attr("tabindex","0"):$(".mobileMenu").find("a").attr("tabindex","-1")})),$("ul.navigation li a").focus((function(){$(this).parents(":eq(2)").hasClass("header__nav--withsubMenu")||$("li.header__nav--withsubMenu ul.content").removeClass("filter-focus")})),$("ul.header__account li ul.content li").on("keydown","a",(function(e){var t=$(this).parent("li").next("li").length,n=e.keyCode||e.which;e.shiftKey||9!==n||0===t&&$(this).closest("ul.content").removeClass("filter-focus")})),$("ul.subnav__items li a").focus})),$(".header__nav--withsubMenu a.filter").focus})),$(".header__nav--withsubMenu ul.content li a").focus((function(){$(this).parents(":eq(2)").hasClass("header__nav--withsubMenu")&&($("li.header__nav--withsubMenu ul.content").removeClass("filter-focus"),$(this).parents(":eq(1)").addClass("filter-focus"))}))}},{key:"initializeTracking",value:function(){$(".header__wrap a").on("click",(function(e){var t=$(e.currentTarget)[0];(0,g.au)(t)}))}},{key:"initializeHeader",value:function(){var e=40,t=this,n=document.body.hasAttribute("touch-enabled");document.querySelectorAll(".header__nav--withsubMenu").forEach((function(e){var t=e.querySelector(".header__subnav"),r=e.querySelector(".current-userprofile-anchor");r&&n&&r.addEventListener("mousedown"})),n||(t.addEventListener("mouseenter",(function(t){$(e).addClass("active")})),t.addEventListener("mouseleave",(function(t){$(e).removeClass("active")})),e.querySelector("a, button").addEventListener("mouseenter",(function(t){$(e).addClass("active")})),e.addEventListener("mouseleave"})))})),$(window).scroll((function(n){if(!t.headerEl.hasClass("mobileMenu--open")){var r=$(this).scrollTop();r>e?t.onScrollDownHandler():t.onScrollUpHandler(),e=r,$("section .sc_cont").length&&($(this).scrollTop()<=66?$("#addFilter").addClass("addPad"):$("#addFilter").removeClass("addPad"),$(".date-item").each((function(){$(this).offset().top.toFixed()-$(window).scrollTop()<=0&&$(".js-filter").first().text($(this).attr("data-value"))})))}}))}},{key:"initializeMobileMenu",value:function(){var e,t=this;this.mobile.skip&&(null===(e=this.mobile.skip)||void 0===e||e.setAttribute("aria-hidden","true")),this.mobile.menu&&this.mobile.menu.setAttribute("aria-hidden","true");var n=document.querySelector("header"),r=this.mobile.icon;if(r&&r.addEventListener("click",(function(){r.classList.toggle("is-active"),setTimeout((function(){t.mobile.menu.classList.toggle("open"),n.classList.toggle("mobileMenu--open"),t.subnavEl.toggleClass("hidden")}),300),r.classList.contains("is-active")?(t.resetMenuIfViewPortChangeHandler(),r.setAttribute("aria-label","Close Menu"),r.setAttribute("aria-expanded","true")):(r.setAttribute("aria-label","Open Menu"),r.setAttribute("aria-expanded","false"))}),!!v.supportsPassive()&&{passive:!0}),this.mobile.subNavs)for(var i=this.mobile.subNavs,o=i.length,a=function(){var e=i[s],t=e.querySelector(".filter");t&&t.addEventListener("click",(function(){e.classList.toggle("open")}),!!v.supportsPassive()&&{passive:!0})},s=0;s<o;s++)a()}},{key:"resetMenuIfViewPortChangeHandler",value:function(){var e,t=this,n=!1;window.addEventListener("resize",(function(r){clearTimeout(e),e=setTimeout((function(){!1===n&&$(window).width()>1024&&(t.resetMobileMenu(),n=!0)}),500)}))}},{key:"isValidAuthSuiteError",value:function(e,t){var n,r,i,o,a=window.location.pathname;if(CBS&&(n=null===(i=CBS)||void 0===i||null===(i=i.Registry)||void 0===i||null===(i=i.authSuiteConfig)||void 0===i?void 0:i.countryCode.toUpperCase(),r=null===(o=CBS)||void 0===o||null===(o=o.Registry)||void 0===o||null===(o=o.region)||void 0===o?void 0:o.property),null!=e&&e.errorCode)return this.trackingService.trackAction(m.Bz.APP_LOG,{appLogText:"error: ".concat(e.errorCode," - deviceId: ").concat(t),appLogType:m.EM.AUTHSUITE_HEADER_UNBIND,appLogCode:"Unbound ".concat(n," user in ").concat(r," on ").concat(a)},!0),!0;var s=function(){var e=window.localStorage.getItem("auth-suite-applicationAccessToken");if(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map})).join(""));return JSON.parse(n)}return!1}(),l=s?s.deviceId:null;return this.trackingService.trackAction(m.Bz.APP_LOG,{appLogText:"".concat(JSON.stringify(e).substring(0,75)," - deviceId: ").concat(l),appLogType:m.EM.AUTHSUITE_HEADER_ERROR,appLogCode:"Avoided unbinding ".concat(n," user in ").concat(r," on ").concat(a)},!0),!1}},{key:"initializeUserMenu",value:function(){var e,t,n=new p,r=document.querySelectorAll(".js-user-logout"),i={},o=this.authSuiteEnabled;this.authSuiteEnabled&&(i=this.authSuiteSdkProvider.getAuthSuiteServices());var a=function(){var e=S(_().mark((function e(){var t;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=13;break}return e.prev=1,e.next=4,i.accessService.checkAccessStatus();case 4:if(!((t=e.sent)&&t.accessMethodsInUse.length>0)){e.next=8;break}return n.logoutWithAuthSuite(i.authorizationService),e.abrupt("return");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Authsuite error: ".concat(e.t0));case 13:n.logout();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();null!==(e=CBS.Registry.Features)&&void 0!==e&&e.mfe_enabled&&null!==(t=CBS.Registry.Features)&&void 0!==t&&t.mfe_userprofiles_enabled&&window.addEventListener("[userprofiles]sign_out",S(_().mark})))),r.forEach((function(e){e.addEventListener("click",function(){var e=S(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},{key:"resetMobileMenu",value:function(){var e=document.querySelector("header");this.mobile.icon.classList.remove("is-active"),this.mobile.menu.classList.remove("open"),e.classList.remove("mobileMenu--open"),this.subnavEl.removeClass("hidden"),window.innerWidth>1024?this.mobile.menu.setAttribute("aria-hidden","true"):this.mobile.menu.removeAttribute("aria-hidden")}},{key:"onScrollDownHandler",value:function(){window.scrollY<1||(null!==document.getElementById("programming-alerts")?this.headerEl.addClass("goUpWithAlert dark"):this.headerEl.addClass("goUp dark"),this.isVisibleMainOrHero()||this.heroImage.addClass("fadeOut"))}},{key:"onScrollUpHandler",value:function(){null!==document.getElementById("programming-alerts")?this.headerEl.removeClass("goUpWithAlert"):this.headerEl.removeClass("goUp"),this.isVisibleMainOrHero()&&($(".video__player-width-container")[0]&&"undefined"==typeof movieStarted||(this.headerEl.removeClass("dark"),this.heroImage.removeClass("fadeOut")))}},{key:"isVisibleMainOrHero",value:function(){var e=document.querySelector("#hero-content .hero__grid"),t=document.querySelector("#main-container");return e?this.isMarqueeCopyVisible(e):this.isMainContainerVisible(t)}},{key:"isMainContainerVisible",value:function(e){return e.getBoundingClientRect().top>=-112}},{key:"isMarqueeCopyVisible",value:function(e){return e.getBoundingClientRect().top>=-75}},{key:"initStylesForIE",value:function(){var e=!1,t=!1;try{(e=!!navigator.userAgent.match(/Trident\/7\./))||navigator.userAgent.indexOf("Edge")>-1&&(t=!0)}catch(e){}void 0!==CBS.Registry.winAssets&&(e&&(document.write("<link href='"+CBS.Registry.winAssets.ie+"' type='text/css' rel='stylesheet'>"),$("#programming-alerts-scroll-left-box-text-id").removeClass("programming-alerts-scroll-left-box-text").addClass("programming-alerts-scroll-left-box-text-ie")),t&&(document.write("<link href='"+CBS.Registry.winAssets.edge+"' type='text/css' rel='stylesheet'>"),$("#programming-alerts-scroll-left-box-text-id").removeClass("programming-alerts-scroll-left-box-text").addClass("programming-alerts-scroll-left-box-text-ie")))}}],r&&k(t.prototype,r),i&&k(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(73903);$(document).ready((function(){$("footer a").click((function(e){var t,n="trackMenu",r=$(e.currentTarget)[0],i=$(r).attr("title").trim(),o=function(e){var t=$(e).closest("ul").prevAll("ul").length.toString();return{row:$(e).parent("li").prevAll("li").length.toString(),col:t}}(r),a=o.row,l=o.col;t=s.Z.isDomestic()?{menuItemLabel:i,ctaText:i,posColNum:l,posRowNum:a,menuOrientation:"footer"}:{clickLabel:i,ctaText:i};var u=$(r).attr("tracking-event");u&&(n=u.trim()),(0,g.X2)(n,t)}))}));n(36748),n(85893),n(73143),n(65955),n(69821),n(47589),n(67132),n(96111);var E=n(81997),x=(n(94124),n(66292)),C=n.n(x);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function j(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var M=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"debounceHandler"})),j(this,"clickHandler"})),j(this,"track",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=i.wrappers.filter((function(e){return t?$(e).isOnScreen(1,1,!0)&&$(t).isOnScreen(1,1,!0)&&e.contains(t):$(e).isOnScreen(1,1,!0)})).map})).filter})),r=i.buildPayObject(n);i.trackObject(r,e)})),this.wrappers=t,this.viewEventName=n,this.clickEventName=r,this.trackingObject=o,this.targets=this.findTargets(),this.delay=a,this.debounceCallback=C()(this.debounceHandler,this.delay),this.addEvents(),this.track(this.viewEventName)}var t,n,r;return t=e,n=[{key:"findTargets",value:function(){var e=this.wrappers.map((function(e){var t=e.getAttribute("class").replace(/\s/g,".")+" a";return".".concat(t)})).join(", ");return e}},{key:"addEvents",value:function(){window.addEventListener("scroll",this.debounceCallback),window.addEventListener("resize",this.debounceCallback),$(document).on("click","".concat(this.targets),this.clickHandler)}},{key:"removeEvents",value:function(){window.removeEventListener("scroll",this.debounceCallback),window.removeEventListener("resize",this.debounceCallback),$(document).off("click","".concat(this.targets),this.clickHandler)}},{key:"trackObject",value:function(e,t){if(!this.suppressTracking()&&om){var n={type:t,data:{pplus:e}};om.sendEvent(n)}}},{key:"buildPayload",value:function(e){var t,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=e.dataset,l=a?[a]:Array.from(e.querySelectorAll("a"));l=l.filter((function(e){return a?$(e).isOnScreen(1,1,!0):$(e).isOnScreen()}));var u=this.buildItemsPayload(l);return u.length?{containerId:null!==(t=s.id)&&void 0!==t?t:"",containerTitle:null!==(n=s.title)&&void 0!==n?n:"",containerType:null!==(r=s.id)&&void 0!==r?r:"",displayId:null!==(i=s.displayid)&&void 0!==i?i:"",rowNum:null!==(o=s.position)&&void 0!==o?o:"",rankModel:"",pvrModel:"",items:u}:null}},{key:"buildItemsPayload",value:function(e){return e.map((function(e){var t=A(e.dataset.impression.split("|"),7);return{id:t[0],title:t[1],type:t[2],position:t[3],badgeLabel:t[4],isUnlocked:!("1"===t[5]),cmsId:t[6]}}))}},{key:"buildPayObject",value:function(e){var t,n,r,i,o,a,s,l,u,c,d,p,h,f,v,g,m,y,b,_,w,S,k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({brandPlatformId:null===(t=CBS.Registry)||void 0===t||null===(t=t.brandPlatformID)||void 0===t?void 0:t.toString(),siteEdition:null===(n=CBS.Registry)||void 0===n||null===(n=n.siteEdition)||void 0===n?void 0:n.toString(),optimizelyExp:null===(r=CBS.Tracking)||void 0===r||null===(r=r.utag_data)||void 0===r?void 0:r.optimizelyExp,pageViewGuid:null===(i=CBS.Tracking)||void 0===i||null===(i=i.utag_data)||void 0===i?void 0:i.pageViewGuid,userRegId:null!==(o=null===(a=CBS.Registry)||void 0===a||null===(a=a.user)||void 0===a||null===(a=a.id)||void 0===a?void 0:a.toString())&&void 0!==o?o:"",userBundle:null!==(s=null===(l=CBS.Registry)||void 0===l||null===(l=l.user)||void 0===l||null===(l=l.bundleStatus)||void 0===l?void 0:l.toString())&&void 0!==s?s:"",userStatus:null!==(u=null===(c=CBS.Registry)||void 0===c||null===(c=c.user)||void 0===c||null===(c=c.sb)||void 0===c?void 0:c.toString())&&void 0!==u?u:"",userType:null!==(d=null===(p=CBS.Registry)||void 0===p||null===(p=p.user)||void 0===p||null===(p=p.sub_status)||void 0===p?void 0:p.toString())&&void 0!==d?d:"",userClientRegion:null!==(h=null===(f=CBS.Registry)||void 0===f||null===(f=f.region)||void 0===f||null===(f=f.property)||void 0===f?void 0:f.toString())&&void 0!==h?h:"",userProfileId:null!==(v=null===(g=CBS.Registry)||void 0===g||null===(g=g.user)||void 0===g||null===(g=g.profile_id)||void 0===g?void 0:g.toString())&&void 0!==v?v:"",userProfileCategory:null!==(m=null===(y=CBS.Registry)||void 0===y||null===(y=y.user)||void 0===y||null===(y=y.profile_type)||void 0===y?void 0:y.toString())&&void 0!==m?m:"",userProfileMaster:null!==(b=null===(_=CBS.Registry)||void 0===_||null===(_=_.user)||void 0===_||null===(_=_.userProfileMaster)||void 0===_?void 0:_.toString())&&void 0!==b?b:"",userProfileRefId:null!==(w=null===(S=CBS.Registry)||void 0===S||null===(S=S.user)||void 0===S||null===(S=S.profile_reference_id)||void 0===S?void 0:S.toString())&&void 0!==w?w:"",contentFeatures:e},this.trackingObject);return k}},{key:"suppressTracking",value:function(){var e,t;return"ADULT"!=(null!==(e=null===(t=CBS.Registry)||void 0===t||null===(t=t.user)||void 0===t||null===(t=t.profile_type)||void 0===t?void 0:t.toString())&&void 0!==e?e:"")||window.location.href.includes("user-profile")}}],n&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),R="ab.storage.searchInputUXImprovements",D=$("#subnav");if(D.length>0){var Z=function(){var e=B.offset();if(e){var t=$(window).width()/2-B.width()/2;F.scrollLeft(e.left-t)}},F=$(".subnav__items"),B=$(".subnav__items li a.active");if(CBS.Registry.platform.isMobile)$(document).ready((function(){Z()}));else{var U,z=function(){var e=F[0].getBoundingClientRect(),t=Math.round(e.right),n=Math.round(e.left),r=F.find("li:visible"),i=r.first()[0].getBoundingClientRect(),o=Math.round(i.left),a=r.last()[0].getBoundingClientRect(),s=Math.round(a.right);o<n||s>t?D.addClass("has-arrows"):D.removeClass("has-arrows")};$(document).ready})),$(window).on("resize",(function(){clearTimeout(U),U=setTimeout((function(){z()}),250)}));var H=F[0],q=H.offsetWidth,G=H.scrollWidth;F.scroll((function(){q=H.offsetWidth,G=H.scrollWidth,F.scrollLeft()+q===G&&$(".nav-next").css("opacity",".35"),F.scrollLeft()+q<G&&$(".nav-next").css("opacity","1.0"),0===F.scrollLeft()&&$(".nav-prev").css("opacity",".35"),F.scrollLeft()>0&&$(".nav-prev").css("opacity","1.0")})),$(".nav-next").click((function(){F.animate({scrollLeft:"+="+q},300)})),$(".nav-prev").click((function(){F.animate({scrollLeft:"-="+q},300)}))}}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return(t=ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function ee(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}var te=function(){function e(){var t=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.extraParams={},this.classHide="hide",this.brazeCampaignParams={screenName:"search"},this.searchWrapper=document.querySelector("#search"),this.setAbTestTracking(),this.impressionTracking=null,this.searchWrapper){if(this.inputBarWrapper=this.searchWrapper.querySelector(".search__inputBar"),this.input=this.inputBarWrapper.querySelector("input"),this.input.focus(),this.resultsWrapper=this.searchWrapper.querySelector(".search__results"),this.revealHandler=document.querySelectorAll(".js-search"),this.closeHandler=this.searchWrapper.querySelector(".close"),this.suggestedSearchSelected="",this.searchFilterInView=[],this.preSearchSuggestions=document.querySelector(".presearch-subnav"),this.preSearchSuggestions&&this.__initializePreSearchSuggestions(),this.trendingRecommended=document.getElementById("trending-recommended"),this.trendingRecommended&&(this.trendingAnchorLinks=this.trendingRecommended.querySelector(".grid-view-container").querySelectorAll("a"),this.trendingAnchorLinks.length&&this.trackOnItemsClick(this.trendingAnchorLinks,2,"trackSearchCarouselSelect",{posRowNum:"0",rowHeaderTitle:"Trending",carouselModel:"showRecommendationTrending"})),Array.from(document.getElementsByClassName("badge-copy")).forEach((function(e){-1!=navigator.userAgent.indexOf("Win")&&(e.style.paddingBottom="2px",e.style.paddingTop="0px")})),Array.from(document.getElementsByClassName("live-badge")).forEach((function(e){-1!=navigator.userAgent.indexOf("Win")&&(e.style.marginTop="0px")})),this.delay=300,this.minChars=1,this.keystrokeTimer="",this.inProgress=!1,this.searchAction=null,this.searchUxImprovementsVariant()){var r=this;if(o=this.input,s=null===(a=window.history.state)||void 0===a?void 0:a.searchTerm,o.value=s||"",this.input.value.length>0)var i=setInterval}),400)}var o,a,s;this.displayId=uuid.v4(),this.initialize(),!0===CBS.Registry.Features.braze_sdk&&Promise.all([n.e(6184),n.e(29828)]).then(n.bind(n,29828)).then}))}}var t,r,i;return t=e,r=[{key:"setAbTestTracking",value:function(){var e=[];for(var t in CBS.AbtestResults)e.push("".concat(t,":").concat(CBS.AbtestResults[t]));this.optimizely_exp=e.join("|")}},{key:"setExtraParams",value:function(e){this.extraParams=e}},{key:"initialize",value:function(){var e=this;this.input.addEventListener("click",(function(t){e.trackEvent("trackSearchStart",{PageType:"search",searchEventStart:1,displayId:e.displayId})})),this.closeHandler.addEventListener("click",(function(t){t.preventDefault();var n={searchEventCancel:"1",PageType:"search",searchTerm:e.input.value,displayId:e.displayId};if(""!==e.suggestedSearchSelected&&(n.suggestedSearchTerm=e.suggestedSearchSelected),e.trackEvent("trackSearchCancel",n),e.searchUxImprovementsVariant())return e.input.value="",void e.checkInput(!1);e.reset()})),this.keystrokeHandler()}},{key:"reveal",value:function(){}},{key:"trackSearch",value:function(e,t){var n={pageType:"search",screenName:"/search/",searchTerm:this.input.value,searchEventStart:null};Object.assign(n,t),(0,g.X2)(e,n)}},{key:"reset",value:function(){return document.referrer.includes("cbs.com")?window.history.go(-1):window.location.href=E.Z.getHomePageURL(),!1}},{key:"resetResultsWrapper",value:function(){this.resultsWrapper.innerHTML=""}},{key:"refreshUI",valu}},{key:"resetInputField",valu}},{key:"keystrokeHandler",value:function(){var e=this;this.input.addEventListener("keyup",this.debounce((function(t){e.checkInput()}),500))}},{key:"checkInput",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.input.value.trim();this.searchUxImprovementsVariant()&&(e=n.length,this.closeHandler.style.display=e>0?"block":"none"),0===n.length&&(this.input.value="",this.destroyImpressionTracking(),this.__hidePreSearchSuggestions(!1),this.hideCarousels(!1),this.resetResultsWrapper(),this.refreshUI(),t&&this.trackSearch("trackSearchCancel",{searchEventCancel:"1",displayId:this.displayId})),this.searchAction&&(this.inProgress=!1,this.searchAction.abort()),n.length>=this.minChars&&!1===this.inProgress&&this.performSearch(n)}},{key:"debounce",valu}},{key:"keyCodeHandler",value:function(e){return 27===e.keyCode&&this.reset(),!(e.keyCode>8&&13!==e.keyCode&&e.keyCode<46)&&!(e.keyCode>90&&e.keyCode<96)&&void 0}},{key:"performSearch",value:function(e){var t=this;this.inProgress=!0;var n=X({term:e.url_encode()},this.extraParams);this.searchAction=$.ajax({type:"GET",url:CBS.Registry.region.prefix+"/search/lookup/",data:n,dataType:"json",success:function(e){var n,r;t.__hidePreSearchSuggestions(!0),t.displayResults(e),t.searchUxImprovementsVariant()&&(r=null===(n=window.history.state)||void 0===n?void 0:n.showsMoviesIndex)&&(document.querySelector("#search .search__results .search__results--results #".concat(r)).scrollIntoView(),window.history.pushState({},R,null)),t.destroyImpressionTracking(),t.createImpressionTracking()}}),this.searchAction.done((function(){t.inProgress=!1,Array.from(document.getElementsByClassName("badge-copy")).forEach((function(e){-1!=navigator.userAgent.indexOf("Win")&&(e.style.paddingBottom="2px",e.style.paddingTop="0px")})),Array.from(document.getElementsByClassName("live-badge")).forEach((function(e){-1!=navigator.userAgent.indexOf("Win")&&(e.style.marginTop="0px")}))}))}},{key:"hideCarousels",value:function(e){e?$(".js-le-carousel").fadeOut(0):$(".js-le-carousel").fadeIn()}},{key:"destroyImpressionTracking",valu}},{key:"createImpressionTracking",value:function(){var e=this.resultsWrapper.querySelector(".search__results--results"),t=this.resultsWrapper.querySelector(".search__results--live-results"),n=[];t&&n.push(t),e&&n.push(e);var r={pageType:"search",searchTerm:this.input.value};this.impressionTracking=new M(n,"searchResultsView","searchResultsSelect",r)}},{key:"displayResults",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.resultsWrapper.innerHTML=e.html;var r=this.resultsWrapper.querySelectorAll("a[aa-link]"),i=this.resultsWrapper.querySelectorAll(".search__results--empty"),o={pageType:"search",screenName:"/search/",searchTerm:this.input.value,displayId:this.displayId};if(i.length)this.hideCarousels(!1),o.searchEventNoResult="1",this.trackEvent("trackNoSearchResults",o);else{this.hideCarousels(!0);var a=this.resultsWrapper.querySelectorAll(".search__results--live-results a"),s=(a=[].slice.call(a)).filter})).length.toString(),l=this.resultsWrapper.querySelectorAll(".search__results--results a").length.toString(),u={searchResultListing:"1",pageType:"search",screenName:"/search/",searchTerm:this.input.value,onNowSearchCount:s,resultsSearchCount:l,displayId:this.displayId};n?(u.searchFilterInView=this.searchFilterInView,u.suggestedSearchTerm=this.suggestedSearchSelected,this.trackEvent("trackSuggestedSearchResultUsed",u)):this.trackEvent("trackSearchResultListing",u)}void 0!==CBS.Registry.lazyImage&&CBS.Registry.lazyImage.revalidate(),setTimeout((function(){for(var e=function(){var e=r[n],i=$(e).attr("aa-link").split("|"),o=i[4],a=i[5],s=i[6],l=i[23],u=i[24],c=i[25],d={};u&&c?d.showSeriesTitle=o:a?(d.showSeriesId=a,d.showSeriesTitle=o):(d.movieId=s,d.movieTitle=o),d.contentLocked=l,d.liveTvChannel=u,d.stationCode=c,X({searchEventComplete:"1",PageType:"search",searchTerm:t.input.value},d),e.addEventListener("click",(function(n){t.searchUxImprovementsVariant()&&function(e,t){window.history.pushState({searchTerm:e,showsMoviesIndex:t},R,null),window.localStorage.setItem(R,encodeURIComponent(e))}(t.input.value,e.getAttribute("id"));var r=n.target.closest(".search__results--display").previousElementSibling.innerText.trim(),i=X({searchEventComplete:"1",PageType:"search",searchTerm:t.input.value,menuItemLabel:r,displayId:t.displayId},d);t.optimizely_exp&&(i=X(X({},i),{optimizely_exp:t.optimizely_exp})),""!==t.suggestedSearchSelected&&(i.suggestedSearchTerm=t.suggestedSearchSelected);var o=n.target.nextElementSibling;o&&o.classList.contains("new-item-container")&&(i.contentBadgeLabel=o.querySelector(".new-item").innerHTML.trim()),i=Object.fromEntries(Object.entries(i).filter((function(e){var t=W(e,2);return t[0],""!==t[1]}))),t.trackEvent("trackSearchResult",i)}));var p=e.querySelector("img");p&&p.classList.add("reveal")},n=0;n<r.length;n++)e();var i=t.resultsWrapper.querySelectorAll("img");t.trendingRecommended&&(i>0?t.trendingRecommended.classList.add(t.classHide):t.trendingRecommended.classList.remove(t.classHide))}),300)}},{key:"trackEvent",valu}},{key:"trackOnItemsClick",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"trackSearchResult",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this,o=function(){var o=e[a];o.classList.add("reveal"),o.addEventListener("click",(function(e){var a=e.path[t].getAttribute("aa-link").split("|");if(o.href&&(r.carouselLink=o.href),a){r.posColNum=a[3];var s=a[10]&&"movies"===a[10]?X(X({},r),{},{movieId:a[9],movieTitle:a[4],carouselContentType:"movie"}):X(X({},r),{},{showSeriesId:a[9],showSeriesTitle:a[4],carouselContentType:"show"});i.trackSearch(n,s)}}))},a=0;a<e.length;a++)o()}},{key:"__initializePreSearchSuggestions",value:function(){var e=this;document.querySelectorAll(".presearch-genre").forEach((function(t){t.addEventListener("click",(function(n){if(n.preventDefault(),t.classList.contains("active"))return t.classList.remove("active"),void e.__clearPreSearchSuggestionResults();var r=document.querySelector(".active");r&&r.classList.remove("active"),t.classList.add("active");var i={gid:t.dataset.gid,genre:t.dataset.category};e.__getPreSearchSuggestionResults(i),e.suggestedSearchSelected=t.dataset.category})),e.searchFilterInView.push(t.dataset.category)}))}},{key:"__getPreSearchSuggestionResults",value:function(e){var t=this;$.ajax({type:"GET",url:CBS.Registry.region.prefix+"/search/presearch/",data:e,dataType:"json",succes}})}},{key:"__clearPreSearchSuggestionResults",value:function(){this.suggestedSearchSelected="",this.hideCarousels(!1),this.resetResultsWrapper(),this.refreshUI()}},{key:"__hidePreSearchSuggestions",value:function(e){if(this.preSearchSuggestions){var t=document.querySelector(".active");t&&t.classList.remove("active"),e?this.preSearchSuggestions.classList.add("hide"):this.preSearchSuggestions.classList.remove("hide")}}},{key:"searchUxImprovementsVariant",value:function(){var e;return"ux_improvements"===(null===(e=CBS)||void 0===e||null===(e=e.AbTestsConfigs)||void 0===e||null===(e=e.modules)||void 0===e||null===(e=e.SearchPageUXImprovements)||void 0===e?void 0:e.active_variant)}}],r&&Q(t.prototype,r),i&&Q(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ne=(n(3939),n(3439),n(57865),n(46090)),re=n.n(ne);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(}function se(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===ie(o)?o:String(o)),r)}var i,o}var ce={decline:"linkedPromptDecline",dismiss:"linkedPromptDismiss",timeout:"linkedPromptTimeout",accept:"linkedPromptAccept",secondaryAccept:"linkedPromptSecondaryAccept"},de=function(){function e(t){var n=t.apiDomain,r=t.appId,i=t.locale,o=void 0===i?"":i,a=t.subscriptionCountry,s=void 0===a?"":a,l=t.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appId=r,this.deviceType="web-api",this.endpoint=n,this.eventListeners={},this.locale=o,this.locale=o,this.openedPrompts={},this.prompts=[],this.segments=[],this.subscriptionCountry=s,this.userId=l,this.getUserPrompts()}var t,n,r;return t=e,n=[{key:"getUserPrompts",value:function(){var e=this;return this.ping().then((function(t){return new Promise((function(n,r){setTimeout((function(){return e.ping().then}))}),t.data.configs.ping_frequency||500)}))})).then}))}},{key:"ping",value:function(){var e={"user-id":this.userId},t={device_type:this.deviceType,language:this.subscriptionCountry};return re().get("".concat(this.endpoint,"/ping/").concat(this.appId),{headers:e,params:t})}},{key:"listenForUrlTriggers",value:function(){var e=this;this.checkUrlPathForMatchingPrompts(window.location.pathname),window.addEventListener("locationchange"}))}},{key:"checkUrlPathForMatchingPrompts",value:function(e){var t,n=ae(this.prompts);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=ae(i.triggers);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!a.click_id&&("*"===a.url_path||this.matchesUrlPath(a,e))){this.openPrompt(i,a);break}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}}},{key:"matchesUrlPath",value:function(e,t){if(!e.url_path)return!1;var n=!1;if("*"===e.url_path)n=!0;else{var r=e.use_regex,i=r?RegExp("".concat(e.url_path),"g"):null;n=r?i.test(t):t.includes(e.url_path)}return n}},{key:"getEventHandlerConfig",value:function(e){var t={eventType:"click",selector:e};if(e.indexOf(":")>-1){var n=e.split(":");2===e.split.length?(t.eventType=n[0],t.selector=n[1]):console.error("Invalid click_id for prompt")}return t}},{key:"attachEventListeners",value:function(){var e=this;this.cleanupEventListeners();var t,n=ae(this.prompts);try{var r=function(){var n,r=t.value,i=ae(r.triggers);try{var o=function(){var t=n.value;if(!t.click_id)return 0;if(t.url_path&&!e.matchesUrlPath(t,window.location.pathname))return 0;for(var i=e.getEventHandlerConfig(t.click_id),o=Array.from(document.querySelectorAll(i.selector)),a=i.eventType,s=0,l=o;s<l.length;s++){var u=l[s],c=function(n){e.openPrompt(r,t)};"exists"!==a?(u.addEventListener(a,c),e.eventListeners[t.click_id]={node:u,listener:c,eventType:a}):e.openPrompt(r,t)}};for(i.s();!(n=i.n()).done;)o()}catch(e){i.e(e)}finally{i.f()}};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}},{key:"cleanupEventListeners",value:function(){for(var e=0,t=Object.entries(this.eventListeners);e<t.length;e++){var n=oe(t[e],2),r=(n[0],n[1]),i=r.node,o=r.listener,a=r.eventType;i.removeEventListener(a,o)}this.eventListeners={}}},{key:"openPrompt",value:function(e,t){setTimeout((function(){(0,g.X2)("trackModalView",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalView:1,modalId:e.id,modalName:e.name,modalSourceId:t.id,modalSource:t.click_id,modalVariantId:e.action_group_id,modalVariantName:e.action_group_name,modalMessage:"".concat(e.actions.rf_retention_title," ").concat(e.actions.rf_retention_message,"}")})})),this.openedPrompts[e.id]||(this.openedPrompts[e.id]=!0,this.createDialog(e,t).showModal(),document.body.style.overflow="hidden",this.sendImpression(e).then().catch((function(e){})))}},{key:"createDialog",value:function(e,t){var n=document.createElement("dialog");n.className="rfdialog",n.id="rfdialog-".concat(e.id);var r=document.createElement("div");if(r.className="rfdialog__wrapper",e.actions.rf_settings_close_button_enabled){var i=this.createCloseButton(e,t);r.appendChild(i)}var o=this.createBackgroundImage();r.appendChild(o);var a=this.createContent(e,t);r.appendChild(a),n.appendChild(r);var s=document.getElementById("rfdialog__overlay")||this.createOverlay(n,e,t);return s.appendChild(n),document.body.appendChild(s),this.createDialogStyles(e),n}},{key:"createOverlay",value:function(e,t,n){var r=this,i=t.actions,o=document.createElement("div");return o.className="rfdialog__overlay",o.id="rfdialog__overlay",o.onclick=function(o){if(i.rf_settings_click_outside_close_enabled){var a=e.getBoundingClientRect();a.top<=o.clientY&&o.clientY<=a.top+a.height&&a.left<=o.clientX&&o.clientX<=a.left+a.width||r.onDismiss(t,n,"dismiss")}},o}},{key:"createCloseButton",value:function(e,t){var n=this,r=document.createElement("span");r.className="rfdialog__close";var i=document.createElement("i");return i.className="rfdialog__close-icon",i.innerHTML="&#x2715;",r.appendChild(i),r.onclick=function(r){(0,g.X2)("trackModalDismiss",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalDismiss:1,modalId:e.id,modalName:e.name,modalSourceId:t.id,modalSource:t.click_id,modalVariantId:e.action_group_id,modalVariantName:e.action_group_name,modalMessage:"".concat(e.actions.rf_retention_title," ").concat(e.actions.rf_retention_message,"}")}),n.onDismiss(e,t,"dismiss"),r.stopPropagation()},r}},{key:"createBackgroundImage",valu}},{key:"createContent",value:function(e,t){var n=document.createElement("div");n.className="rfdialog__content";var r=this.createTextSection(e,t),i=this.createActions(e,t),o=this.createCountdown(e,t),a=this.createLegal(e,t);return n.appendChild(r),n.appendChild(i),n.appendChild(o),n.appendChild(a),n}},{key:"createTextSection",value:function(e,t){var n=document.createElement("div");n.className="rfdialog__texts";var r=document.createElement("h1");r.className="rfdialog__texts-header",r.setAttribute("text",e.actions.rf_retention_title),r.setAttribute("text-mobile",e.actions.rf_mobile_title),n.appendChild(r);var i=document.createElement("p");return i.className="rfdialog__texts-message",i.setAttribute("text",e.actions.rf_retention_message),i.setAttribute("text-mobile",e.actions.rf_mobile_message),n.appendChild(i),n}},{key:"createActions",value:function(e,t){var n=this,r=document.createElement("div");if(r.className="rfdialog__actions",e.actions.rf_retention_confirm_button_text){var i,o=document.createElement("button");o.className="button rfdialog__actions-button rfdialog__actions-button-primary",o.setAttribute("data-ci","primaryAcceptButton");var a=document.createElement("div");a.className="button__text",a.textContent=null===(i=e.actions)||void 0===i?void 0:i.rf_retention_confirm_button_text,o.appendChild(a),r.appendChild(o),o.onclick=function(r){n.onPrimaryAccept(e,t),r.stopPropagation()}}if(e.actions.rf_settings_confirm_button_2_enabled){var s=document.createElement("button");s.className="button rfdialog__actions-button rfdialog__actions-button-secondary";var l=document.createElement("div");l.className="button__text",l.textContent=e.actions.rf_retention_confirm_button_2_text,s.appendChild(l),r.appendChild(s),s.onclic}}if(e.actions.rf_settings_cancel_button_enabled){var u=document.createElement("button");u.className="button secondary rfdialog__actions-button rfdialog__actions-button-secondary";var c=document.createElement("div");c.className="button__text",c.textContent=e.actions.rf_retention_cancel_button_text,u.appendChild(c),u.onclick=function(r){(0,g.X2)("trackModalDecline",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalDecline:1,modalId:e.id,modalName:e.name,modalSourceId:t.id,modalSource:t.click_id,modalVariantId:e.action_group_id,modalVariantName:e.action_group_name,modalMessage:"".concat(e.actions.rf_retention_title," ").concat(e.actions.rf_retention_message,"}"),ctaText:e.actions.rf_retention_cancel_button_text}),n.onDismiss(e,t,"decline"),r.stopPropagation()},r.appendChild(u)}return r}},{key:"createCountdown",value:function(e,t){var n=this;if(!e.actions.rf_settings_close_seconds)return document.createElement("div");var r=document.createElement("div");r.className="rfdialog__countdown";var i=parseInt(e.actions.rf_settings_close_seconds);r.textContent="".concat(i," ").concat(e.actions.rf_settings_close_seconds_text);var o=setInterval((function(){i<=0?(clearInterval(o),(0,g.X2)("trackModalTimeout",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalTimeout:1,modalId:e.id,modalName:e.name,modalSourceId:t.id,modalSource:t.click_id,modalVariantId:e.action_group_id,modalVariantName:e.action_group_name,modalMessage:"".concat(e.actions.rf_retention_title," ").concat(e.actions.rf_retention_message,"}")}),n.onDismiss(e,t,"timeout")):(i-=1,r.textContent="".concat(i," ").concat(e.actions.rf_settings_close_seconds_text))}),1e3);return r}},{key:"createLegal",value:function(e,t){var n=document.createElement("div"),r="long"===e.actions.rf_settings_privacy_policy_type?"long":"short";switch(n.className="rfdialog__legal",r){case"long":if(!e.actions.rf_settings_privacy_policy_text)return n;n.classList.add("rfdialog__legal-long"),n.textContent=e.actions.rf_settings_privacy_policy_text;break;case"short":if(!e.actions.rf_settings_privacy_policy_link&&!e.actions.rf_settings_tos_link)return n;n.innerHTML=""}return n}},{key:"createDialogStyles",value:function(e,t){var n=this.getMobileStyles(e,t),r=this.getDesktopStyles(e,t),i=this.getLargeScreenStyles(e,t),o="\n            ".concat(n,"\n\n            @media only screen and (min-width : ").concat(1023,"px) {\n                ").concat(r,"\n            }\n\n            @media only screen and (min-width : ").concat(1920,"px) {\n                ").concat(i,"\n            }\n        "),a=document.createElement("style");a.setAttribute("id",e.id),a.appendChild(document.createTextNode(o)),document.getElementsByTagName("head")[0].appendChild(a)}},{key:"getMobileStyles",value:function(e,t){return"\n            .rfdialog__overlay {\n                background-color: ".concat(e.actions.rf_settings_overlay_background,";\n                width: 100%;\n                height: 100%;\n                position: fixed;\n                z-index: 1000001;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                height: 100vh;\n                top: 0;\n            }\n\n            #rfdialog-").concat(e.id,".rfdialog {\n                padding: 0;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__wrapper {\n                display: flex;\n                flex-direction: column;\n                justify-content: flex-end;\n                width: 330px;\n                min-height: 626px;\n                position: relative;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__close {\n                z-index: 1;\n                font-size: 28px;\n                cursor: pointer;\n                position: absolute;\n                right: 20px;\n                top: 20px;\n                line-height: 10px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__close-icon {\n                color: white;\n                font-style: normal;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__background {\n                width: 100%;\n                height: 185px;\n\n                background-size: cover;\n                background-repeat: no-repeat;\n                background-position: top;\n                background-image: ").concat(e.actions.rf_settings_mobile_bg_image?"url(".concat(e.actions.rf_settings_mobile_bg_image,")"):"none",";\n                background-color: ").concat(e.actions.rf_settings_bg_image_color,";\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__content {\n                display: flex;\n                flex-direction: column;\n                padding: 24px 20px 20px 20px;\n                flex: 1;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts {\n                display: flex;\n                flex-direction: column;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-header {\n                margin: 0;\n                font-size: 32px;\n                color: ").concat(e.actions.rf_settings_fill_color||"white",";\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-header::before {\n                content: attr(text-mobile);\n                white-space: break-spaces;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-message {\n                font-size: 18px;\n                color: ").concat(e.actions.rf_settings_fill_color||"white",";\n                padding: 10px 0 10px 0;\n                margin: 0;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-message::before {\n                content: attr(text-mobile);\n                white-space: break-spaces;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions {\n                display: flex;\n                flex-direction: column;\n                margin-top: auto;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions .rfdialog__actions-button:not(:first-child) {\n                margin-top: 20px;\n             }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions-button {\n                font-size: 15px;\n                padding: 12px 20px 12px 20px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions-button-primary {\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions-button-secondary {\n                color: #0037c5;\n                margin-top: 10px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__countdown {\n                opacity: .7;\n                text-align: center;\n                padding: 10px 0 10px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__legal {\n                padding-top: 16px;\n                font-size: 10px;\n                line-height: 14px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__legal-long {\n\n            }\n        ")}},{key:"getDesktopStyles",value:function(e,t){var n=!!e.actions.rf_settings_privacy_policy_text;return"\n            .rfdialog__overlay {\n            }\n\n            #rfdialog-".concat(e.id,".rfdialog {\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__wrapper {\n                width: fit-content;\n                flex-direction: row;\n                min-height: 580px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__close {\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__close-icon {\n                color: black;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__background {\n                background-position: top;\n                background-image: ").concat(e.actions.rf_settings_bg_image?"url(".concat(e.actions.rf_settings_bg_image,")"):"none",";\n                background-color: ").concat(e.actions.rf_settings_bg_image_color,";\n                height: auto;\n                width: 388px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__content {\n                width: 324px;\n                padding: 56px 32px 32px 32px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts {\n                height: 100%;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-header {\n                font-size: 40px;\n                font-weight: 900;\n                line-height: 40px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-header::before {\n                content: attr(text);\n                white-space: break-spaces;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-message {\n                font-size: 16px;\n                font-weight: 400;\n                line-height: 22px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-message::before {\n                content: attr(text);\n                white-space: break-spaces;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions {\n                flex-direction: ").concat(n?"row":"column",";\n                align-items: ").concat(n?"center":"initial",";\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions .rfdialog__actions-button:not(:first-child) {\n                margin-top: ").concat(n?"0":"10px",";\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions-button {\n                font-size: 12px;\n                width: 50%;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions-button-primary {\n                margin-right: ").concat(n?"16px":"0",";\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions-button-secondary { \n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__countdown {\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__legal {\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__legal-long {\n\n            }\n        ")}},{key:"getLargeScreenStyles",value:function(e,t){return"\n            #rfdialog-".concat(e.id,".rfdialog {\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__wrapper {\n                min-height: 842px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__content {\n                width: 562px;\n                padding: 76px 48px 48px 48px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__background {\n                width: 562px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-header {\n                font-size: 60px;\n                line-height: 60px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__texts-message {\n                font-size: 28px;\n                line-height: 36px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions {\n                flex-direction: row;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions .rfdialog__actions-button:first-child {\n                margin-right: 15px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions .rfdialog__actions-button:not(:first-child) {\n                margin-top: 0;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__actions-button {\n                font-size: 15px;\n                width: 221px;\n            }\n\n            #rfdialog-").concat(e.id," .rfdialog__legal {\n                padding-top: 24px;\n                font-size: 14px;\n                line-height: 18px;\n            }\n        ")}},{key:"onDismiss",value:function(e,t,n){var r,i,o=ce[n],a=null!==(r=e.actions)&&void 0!==r&&r.rf_metadata?null===(i=e.actions)||void 0===i?void 0:i.rf_metadata[o]:null;a&&this.openLinkedPrompt(a,t,"decline"),this.closeDialog(e.id),this.sendDismiss(e,n).then().catch((function(e){}))}},{key:"onPrimaryAccept",value:function(e,t){var n,r,i=null===(n=e.actions.rf_metadata)||void 0===n?void 0:n.accept,o=e.id;i&&this.goToRoute(i),this.closeDialog(o),(0,g.X2)("trackModalGoal",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalGoal:1,modalId:e.id,modalName:e.name,modalSourceId:t.id,modalSource:t.click_id,modalVariantId:e.action_group_id,modalVariantName:e.action_group_name,modalMessage:"".concat(e.actions.rf_retention_title," ").concat(e.actions.rf_retention_message,"}"),ctaText:e.actions.rf_retention_confirm_button_text});var a=null===(r=e.actions)||void 0===r||null===(r=r.rf_metadata)||void 0===r?void 0:r.linkedPromptAccept;a&&this.openLinkedPrompt(a,t,"goal"),this.sendGoal(e).then().catch((function(e){}))}},{key:"onSecondaryAccept",value:function(e,t){var n,r=e.actions.rg_metadata.secondaryAccept;r&&this.goToRoute(r),this.closeDialog(e.id);var i=null===(n=e.actions)||void 0===n||null===(n=n.rf_metadata)||void 0===n?void 0:n.linkedPromptSecondaryAccept;i&&this.openLinkedPrompt(i,t,"goal")}},{key:"goToRoute",valu}},{key:"openLinkedPrompt",value:function(e,t,n){var r=this.prompts.find((function(t){return t.id===e}));t.click_id="".concat(t.click_id," - ").concat(n),r&&this.openPrompt(r,t)}},{key:"closeDialog",value:function(e){delete this.openedPrompts[e];var t=document.getElementById("rfdialog-".concat(e));if(null==t||t.close(),null==t||t.remove(),document.body.style.overflow="initial",0===Object.keys(this.openedPrompts).length){var n=document.getElementById("rfdialog__overlay");null==n||n.remove()}}},{key:"sendImpression",value:function(e){var t={"user-id":this.userId},n={device_type:this.deviceType,action_group_id:e.action_group_id};return re().get("".concat(this.endpoint,"/paths/").concat(e.id,"/impression"),{headers:t,params:n})}},{key:"sendDismiss",value:function(e,t){var n={"user-id":this.userId},r={click:t,device_type:this.deviceType,action_group_id:e.action_group_id};return re().get("".concat(this.endpoint,"/paths/").concat(e.id,"/dismiss"),{headers:n,params:r})}},{key:"sendGoal",value:function(e){var t={"user-id":this.userId},n={device_type:this.deviceType,action_group_id:e.action_group_id};return re().get("".concat(this.endpoint,"/paths/").concat(e.id,"/goal"),{headers:t,params:n})}}],n&&ue(t.prototype,n),r&&ue(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const pe=de;var he=n(87861),fe=n.n(he);n(40602),n(55154),n(21187);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}!function(e){e.fn.tip=function(t){var n=e.extend({id:"",on:"click",offset:[],offsetX:"",offsetY:"",onBeforeShow:"",onBeforeHide:""},t);return this.each((function(){0==n.offset.length&&(n.offset[0]=30,n.offset[1]=e(this).outerWidth()/2-e(n.id).outerWidth()/2),e(this).bind(n.on,(function(t){t.stopPropagation(),e(n.id).find(".box-arrow-up").css("left",e(n.id).outerWidth()/2-7),e(n.id).css("top",n.offset[0]).css("left",n.offset[1]).toggle(),""!=n.offsetY&&e(n.id).css("top",n.offsetY),""!=n.offsetX&&e(n.id).css("left",n.offsetX),"function"==typeof n.onBeforeShow&&n.onBeforeShow()})),e(n.id).find(".close").bind("click",(function(t){t.stopPropagation(),"function"==typeof n.onBeforeHide&&n.onBeforeHide(),e(n.id).hide()}))}))},e.fn.showHeaderMenu=function(t){var n=e.extend({id:"",offset:[],onBeforeShow:"",onBeforeHide:""},t);return this.each((function(){e(this).hover((function(){"function"==typeof n.onBeforeShow&&n.onBeforeShow(),e(n.id).show()}),(function(){"function"==typeof n.onBeforeHide&&n.onBeforeHide(),e(n.id).hide()}))}))},e.fn.fixImages=function(t){var n=e.extend({fallback:"/assets/mobile/images/site/490x268_VideoThumbs_Generic.jpg"},t),r=function(t){e(t).attr("src",n.fallback),"object"==ve(n.css)&&e(t).css(n.css)};return this.each((function(){var t=e(this).find("img");t.on("error"})),""==t.attr("src")&&r(t)}))},e.fn.mask=function(t){var n={bgColor:"#000",className:"cbs-ui-mask",opacity:"0.7",zIndex:500001},r=e(document).height();n=e.extend(n,t);var i=this;return this.show=function(){return 0==e("."+n.className).length&&(i.append('<div class="'+n.className+'" />'),e("."+n.className).css("top",0).css("left",0).css("width","100%").css("height",r).css("z-index",n.zIndex).css("display","block").css("position","absolute").css("opacity",n.opacity).css("background-color",n.bgColor)),i},this.hide=function(){return e("."+n.className).remove(),i},this},e.fn.cbsOverlay=function(t){var n={maskClassName:"cbs-ui-mask",target:"",closeTargetClassName:"close",onClose:"",tracking:{onView:"",onClickCloseIcon:"",otherEvents:""}};n=e.extend(n,t);var r=this,i=e("body").mask({className:n.maskClassName});return this.invoke=function(e,t){if(null!=e||""!=e)try{"string"==typeof e&&window[e](t),"function"==typeof e&&e(t)}catch(e){console.log("UI.cbsOverlay.invoke: "+e.message)}},this.hide=function(t){return e(r).hide(),i.hide(),r.invoke(n.onClose,t),r},this.tracking={onView:function(){r.invoke(n.tracking.onView)},otherEvent}},this.each((function(){i.show(),e(this).css("position","fixed").css("top","250px").css("left","50%").css("right","0").css("bottom","0").css("transform","translate(-50%,-20%)").css("msTransform","translate(-50%,-20%)").css("zIndex",500100),r.tracking.onView(),e(r).find("."+n.closeTargetClassName).each}))}))},e.fn.overlay=function(t){return e(this).cbsOverlay(),"function"==typeof t.onLoad&&t.onLoad(),{load:function(){}}},e.fn.scrollable=function(){e(this).slick({variableWidth:!0,prevArrow:'<a class="carousel-prev focusable"></a>',nextArrow:'<a class="carousel-next focusable"></a>'})}}(jQuery);n(36699);var ge,m},ye=(ge=window.location.hostname).substring(ge.lastIndexOf(".",ge.lastIndexOf(".")-1));function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===be(o)?o:String(o)),r)}var i,o}!function(e){if(-1!=document.cookie.indexOf("CBS_ADV_VAL"));else{var t=new Array("a","b","c","d");me(t);var n=t[0];document.cookie="CBS_ADV_VAL="+n+";domain="+e+";path=/"}}(ye),function(e){if(-1!=document.cookie.indexOf("CBS_ADV_SUBSES_VAL"));else{var t=new Array("1","2","3","4");me(t);var n=t[0];document.cookie="CBS_ADV_SUBSES_VAL="+n+";domain="+e+";path=/"}}(ye);var we=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getFallBackImage",value:function(e,t,n){return e.offsetWidth>e.offsetHeight?n:t}}],(n=null)&&_e(t.prototype,n),r&&_e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Se=n(26909),ke=(n(87424),n(29276),n(46299)),Te=n(24556);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e}function Ce(){Ce=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var p="suspendedStart",h="suspendedYield",f="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(I([])));S&&S!==n&&r.call(S,a)&&(_=S);var k=b.prototype=m.prototype=Object.create(_);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==Ee(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=p;return function(o,a){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:h,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ee(t)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},T(E.prototype),u(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(k),u(k,l,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Pe(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,ifunction Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ee(o)?o:String(o)),r)}var i,o}var je=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.GeoLocation=new ke.Z,this.DMAStorage=new Te.Z,this.location=null,this.currentLocation=this.DMAStorage.getCurrentLocation();var t=Oe(this.DMAStorage.getDMAStationIdStringOnNow(),2),n=t[0],r=t[1];this.dma=n,this.stationId=r}var t,n,r,o,a;return t=e,n=[{key:"updateLocation",value:function(){var e={lat:this.location.coords.latitude,lon:this.location.coords.longitude};this.DMAStorage.setCurrentLocation(e)}},{key:"getDMA",value:(o=Ce().mark((function e(){var t,n,r;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.GeoLocation.fetchLocation();case 3:if(this.location=e.sent,null==this.currentLocation?(this.updateLocation(),this.dma=null):this.currentLocation.lat==this.location.coords.latitude&&this.currentLocation.lon==this.location.coords.longitude||(this.updateLocation(),this.dma=null),null!==this.dma){e.next=13;break}return e.next=8,fetch(CBS.Registry.region.prefix+"/live-tv/dma/"+this.location.coords.latitude+"/"+this.location.coords.longitude);case 8:return t=e.sent,e.next=11,t.json();case 11:(n=e.sent).result.dmas&&this.parseResult(n);case 13:return r={dma:this.dma?this.checkDMAValue(this.dma):null,stationId:this.stationId,lat:this.location.coords.latitude,lon:this.location.coords.longitude},this.saveCookie(r),e.abrupt("return",r);case 18:e.prev=18,e.t0=e.catch(0),console.log("ERROR",e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Pe(i,n,r,a,s,"next",e)}function s(e){Pe(i,n,r,a,s,"throw",e)}a(void 0)}))})},{key:"saveCookie",value:function(e){e&&e.dma&&null!==e.dma&&(0,i.d8)("dmaInfo",e.dma,{path:"/",expires:new Date(Date.now()+864e5)})}},{key:"checkDMAValue",value:function(e){if(""!==e){var t=xe(new Set(e.split(",")));e=t[0]}else e=null;return e}},{key:"parseResult",value:function(e){var t="",n="",r=[];e.result.dmas.forEach((function(e){t+=""==t?e.dma:","+e.dma,n+=""==n?e.stationId:","+e.stationId,r.push({dma:e.dma,stationId:e.stationId,stationSlug:e.callSignId.toLowerCase()})})),this.DMAStorage.setStorageDMA(r),this.dma=this.checkDMAValue(t),this.stationId=n}}],n&&Le(t.prototype,n),r&&Le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(72342),n(5911);function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fe(r.key),r)}}function Fe(e){var t=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ne(t)?t:String(t)}var Be=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.brazeParamKeys=["brazeid","brazecampaignname","brazecampaignid","brazemessage","brazesegmentname","brazesegmentid"],this.searchString="",this.brazeTracking={},this.urlParams={},this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=new URLSearchParams(window.location.search);if(this.urlParams=Object.fromEntries(e.entries()),this.urlParams.brazeid){for(var t in this.urlParams){var n;this.brazeParamKeys.includes(t)?this.brazeTracking[t]=null!==(n=this.urlParams[t])&&void 0!==n?n:"":this.searchString+="".concat(t,"=").concat(this.urlParams[t],"&")}this.searchString.length>0&&(this.searchString="?"+this.searchString.slice(0,-1))}}},{key:"appendTrackingData",value:function(e){return this.urlParams.brazeid?Re(Re({},e),this.brazeTracking):e}},{key:"removeParamsFromUrl",value:function(){this.urlParams.brazeid&&window.history.replaceState({},document.title,window.location.pathname+this.searchString)}}])&&Ze(t.prototype,n),r&&Ze(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(55847);function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ue(o)?o:String(o)),r)}var i,o}var $e,He=function(}var t,n,r;return t=e,(n=[{key:"postTrackingEvent",value:function(e,t){return window.console.log("VTD: postTrackingEvent: name, payload",e,t),!0}},{key:"filterUndefined",value:function(e){if(0===e)return"0";var t=void 0===e||"undefined"==e?"":e;return t&&(t=t.toString().substring(0,30)),t}},{key:"adobeSource",value:function(e){var t="";return e&&(e.match(/^{data/)&&(t="data"),e.match(/^{utag/)&&(t="utag")),t}},{key:"adobeKey",value:function(e){var t=e;return e?(e.match(/^{data/)&&(t=e.match(/^{data\.(.*)}$/)[1]),e.match(/^{utag/)&&(t=e.match(/^{utag\.(.*)}$/)[1]),t):""}},{key:"adobeValue",value:function(e){var t=e;return e?e.match(/^{data/)?(t=e.match(/^{data\.(.*)}$/),vtg.ts.snapshot[t[1]]):e.match(/^{utag/)?(t=e.match(/^{utag\.(.*)}$/),utag_data[t[1]]):"":""}},{key:"debug",value:function(){var e=this,t="undefined"!=typeof SmartTag;t||console.log("VTD: smartTag NOT enabled");var n,r,i="undefined"!=typeof vtg;i||console.log("VTD: vtg NOT enabled"),Array.from(document.scripts).forEach((function(e){if(e.src.match(/utag\.js/)&&(n=e.src),e.src.match(/smart\.tag\.js/)){var t=e.src.split("?");r=t[0]}e.src.match(/shaka/)&&e.src}));var o=[];Object.keys(utag_data).forEach((function(e){return o[e]=1})),t&&Object.keys(SmartTag.list[0].params.CONTEXT.metadata).forEach((function(e){return o[e]=1})),"undefined"!=typeof vtg&&(Object.keys(vtg.ts.snapshot).forEach((function(e){return o[e]=1})),Object.keys(vtg.config.AdobeMedia.params.customData).forEach}))),o=o.sort();var a=open("url","_blank");return a.document.write('<!doctype html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<title>VTD - Video Tracking Debugger</title>\n</head>\n<body>\n'),a.document.write('<table><tr><td class="header" colspan="2">environment</td></tr>'),a.document.write('<tr><td>page</td><td><a href="'+window.location.href+'" target="_blank">'+window.location.href+"</a></td></tr>"),a.document.write('<tr><td>utag</td><td><a href="'+n+'" target="_blank">'+n+"</a></td></tr>"),t&&a.document.write('<tr><td>smartTag</td><td><a href="'+r+'" target="_blank">'+r+"</a> "+SmartTag.info.version+"</td></tr>"),i&&"undefined"!=typeof avia&&(console.log("VTD: vtgEnabled?",i),a.document.write("<tr><td>avia</td><td>"+avia.buildInfo.playerVersion+"</td></tr>")),a.document.write("<tr><td>API</td><td>"+CBS.Registry.apiHost+"</td></tr>"),i&&t&&a.document.write("<tr><td>sparrow</td><td>"+CBS.Registry.sparrowHost+"</td>"),a.document.write("</tr>"),a.document.write("</table>"),a.document.write('<style type="text/css">tr:nth-child(even) {background: #eee}tr:nth-child(odd) {background: #FFF}table {width: 100%; font-family: Courier; font-size: 12px; margin-bottom: 10px}table, th, td {border: 1px solid;}td {padding: 4px}td {width: auto; overflow: hidden; vertical-align: top; white-space: nowrap }td.header {font-weight: bold; text-align: center; color: white; background-color: black} td.bold {font-weight: bold}td.good {background-color: lightgreen}td.warn {background-color: lightpink}table {border-collapse: collapse;}</style>'),a.document.write('<table><tr><td class="header">key</td><td class="header">utag_data</td>'),i&&t&&(a.document.write('<td class="header">smartTag CONTEXT</td><td class="header">vtg data</td><td class="header">adobe value</td><td class="header">adobe key</td>'),a.document.write("</tr>")),Object.keys(o).sort().forEach((function(n){if(!n.match(/^_/)&&!n.match(/^cp\./)&&!(n.match(/^meta\./)||n.match(/^tealium_/)||n.match(/^ut\./)||n.match(/^dom./))){var r=n,o=e.filterUndefined(utag_data[n]),s=null;t&&(s=e.filterUndefined(window.SmartTag.list[0].params.CONTEXT.metadata[n]));var l=null,u=null,c=null,d=null,p=null;try{i&&void 0!==vtg.ts&&void 0!==vtg.ts.snapshot&&void 0!==vtg.config&&(l=e.filterUndefined(vtg.ts.snapshot()[n]),u=e.filterUndefined(e.adobeValue(vtg.config.AdobeMedia.params.customData[n])),c=e.filterUndefined(vtg.config.AdobeMedia.params.customData[n]),d=e.adobeKey(vtg.config.AdobeMedia.params.customData[n]),p=e.adobeSource(vtg.config.AdobeMedia.params.customData[n]))}catch(e){}var h="",f="";"0"===u||u?h="good":d&&o&&s&&!l&&(h="warn","data"==p&&(f="warn")),d&&(a.document.write('<tr><td class="bold">'+r+"</td><td>"+o+"</td>"),i&&t&&a.document.write("<td>"+s+'</td><td class="'+f+'">'+l+'</td><td class="'+h+'">'+u+"</td><td>"+c+"</td>"),a.document.write("</tr>"))}})),a.document.write("</table>"),a.document.write("</body></html>"),!0}}])&&ze(t.prototype,n),r&&ze(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ge(){Ge=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:x(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var p="suspendedStart",h="suspendedYield",f="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(I([])));S&&S!==n&&r.call(S,a)&&(_=S);var k=b.prototype=m.prototype=Object.create(_);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==qe(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function x(t,n,r){var i=p;return function(o,a){if(i===f)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:h,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(qe(t)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},T(E.prototype),u(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(k),u(k,l,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Ve(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i}if(window._vtd=new He,(new Se.Z).init(),!0===CBS.Registry.Features.braze_sdk){var Je=new Be;CBS.Tracking.utag_data=Je.appendTrackingData(CBS.Tracking.utag_data),Je.removeParamsFromUrl(),We(Ge().mark((function e(){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(6184).then(n.bind(n,6184));case 2:new(0,e.sent.default);case 4:case"end":return e.stop()}}),e)})))()}CBS.Registry.Features.redfast_enabled&&(CBS.Registry.redfastService=new pe({apiDomain:CBS.Registry.redfast_api_domain,appId:CBS.Registry.redfast_app_id,locale:CBS.Registry.region.locale,subscriptionCountry:CBS.Registry.userSubscriptionCountry,userId:CBS.Registry.user.id}));try{$e=new T}catch(e){console.error("Header component failed to load")}var Ye=new te($e);try{We(Ge().mark((function e(){var t,n;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.Z.isDomestic()&&CBS.Registry.user.id&&CBS.Registry.pageType)||"Search"!=CBS.Registry.pageType&&"HOME"!=CBS.Registry.pageType&&"HOMEPAGE"!=CBS.Registry.pageType){e.next=5;break}return n=new je,e.next=4,n.getDMA();case 4:t=e.sent;case 5:Ye.extraParams=t;case 6:case"end":return e.stop()}}),e)})))()}catch(e){console.error("Search component failed to load"),console.error(e)}var Xe=new(fe())({threshold:50,elements_selector:".lazy",callback_finish:function(){document.querySelectorAll(".focusable").forEach((function(e,t){var n=e.getAttributeNames();-1===n.indexOf("aria-label")&&-1!==n.indexOf("label")&&e.setAttribute("aria-label",e.getAttribute("label")),"img"===e.tagName&&-1!==n.indexOf("alt")&&-1===n.indexOf("aria-label")&&(e.setAttribute("aria-label",e.getAttribute("alt")),-1!==n.indexOf("label")&&-1===n.indexOf("aria-label")&&e.setAttribute("aria-label",e.getAttribute("label"))),-1===n.indexOf("role")&&(n.indexOf("href")&&"#"===e.getAttribute("href")?e.setAttribute("role","button"):e.setAttribute("role","link")),-1===n.indexOf("tabindex")&&e.setAttribute("tabindex","0")}))},callback_error:function(e){var t=e.closest(".thumb-wrapper"),n=e.classList.contains("character-img"),r=null;if(null!==e.closest(".avatar_picker_group_container"))r=CBS.Registry.fallbackImage.avatar;else if(t&&!n){var i=CBS.Registry.fallbackImage.poster,o=CBS.Registry.fallbackImage.landscape;r=we.getFallBackImage(t,i,o)}e.dataset.src!==r&&(e.dataset.src=r,CBS.Registry.lazyImage.resetElementStatus(e),CBS.Registry.lazyImage.update())}});CBS.Registry.lazyImage={resetElementStatus:function(e){return Xe.resetElementStatus(e)},revalidate:function(){return Xe.update()},update:function(){return Xe.update()},load:function(e,t){if(e&&void 0!==e.length)for(var n=0;n<e.length;n++)this.load(e[n]);else Xe.load(e,t)}},CBS.Registry.bn&&console.log(CBS.Registry.bn),function(){for(var e=document.querySelectorAll("img"),t=function(){var t=e[n];t.onerror=function(){var e=t.closest(".show-image");if(e){var n=we.getFallBackImage(e,CBS.Registry.fallbackImage.poster,CBS.Registry.fallbackImage.landscape);t.removeAttribute("srcset"),t.src=n}t.onerror=null}},n=0;n<e.length;n++)t()}(),window.getVideoAdSessionValues=function(e){var t="",n=jQuery.cookie("CBS_ADV_VAL"),r=jQuery.cookie("CBS_ADV_SUBSES_VAL");null!=n&&""!=n&&(t="session="+n),null!=r&&""!=r&&(t=t+";subses="+r),"undefined"!=typeof adId&&""!=adId&&(t=t+";test=1;adId="+adId);var i=-1==document.cookie.indexOf("first_page_today")||"undefined"!=typeof firstpgvar&&1==firstpgvar?"1":"0";void 0!==i&&""!=i&&(t=t+";firstpg="+i);var o=jQuery.cookie("CBS_U");if(null!=o){o=o.replace(/"/g,"");var a={};o.split("|").forEach})),"null"!=a.ge&&""!=a.ge&&(t=t+";ge="+a.ge),"null"!=a.gr&&""!=a.gr&&(t=t+";gr="+a.gr)}if(""!=location.search)var s=location.search.getValueByKey("ftag");if(void 0!==s&&""!=s&&(t=t+";ftag="+s),""!=location.search&&-1!=location.search.indexOf("adTargeting_")){var l=getBaseParam("adTargeting_")[0];t=t+";"+(l=l.replace("adTargeting_",""))+"="+getBaseParam("adTargeting_")[1]}return t},window.getBaseParam=function(e){var t=location.search.substr(location.search.indexOf("?")+1),n=new Array;t=t.split("&");for(var r=0;r<t.length;r++){var i=t[r].split("=");-1!=i[0].indexOf(e)&&(n[0]=i[0],n[1]=i[1])}return n},window.String.prototype.getValueByKey=function(e){var t=new RegExp("\\b"+e+"\\b","gi");return-1!=this.search(t)?decodeURIComponent(this.substr(this.search(t)+e.length+1).substr(0,this.substr(this.search(t)+e.length+1).search(/(&|;|$)/))):""};var Ke=n(9081),Qe=n.n(Ke),et=n(61290),tt=n.n(et),nt=n(58133),rt=n.n(nt),it=n(75669),ot=n.n(it),at=n(95156),st=n.n(at),lt=n(36951),ut=n.n(lt),ct=n(30275),dt=n.n(ct);function pt(){var e={mobilePortrait:{min:0,max:479},mobileLandscape:{min:0,max:767},tabletPortrait:{min:768,max:1023},tabletLandscape:{min:1024,max:1439},desktop:{min:1440,max:1919},desktopWide:{min:1920,max:9999},globalNavTabletPortrait:{min:768,max:1120}},};return{getBreakpoints:function(){return e},getBreakpoint:function(n){return t(n)?e[n]:{}},getMin:function(n){return t(n)?e[n].min:0},getMa},isDesktopWide:function(){var t=window.innerWidth;return t>=e.desktopWide.min&&t<=e.desktopWide.max},isDesktop:function(){var t=window.innerWidth;return t>=e.desktop.min&&t<=e.desktop.max},isTabletLandscape:function(){var t=window.innerWidth;return t>=e.tabletLandscape.min&&t<=e.tabletLandscape.max},isTabletPortrait:function(){var t=window.innerWidth;return t>=e.tabletPortrait.min&&t<=e.tabletPortrait.max},isMobileLandscape:function(){var t=window.innerWidth;return t>e.mobilePortrait.max&&t>=e.mobileLandscape.min&&t<=e.mobileLandscape.max},isMobilePortrait:function(){var t=window.innerWidth;return t>=e.mobilePortrait.min&&t<=e.mobilePortrait.max},getCurrentBreakpointName:function(){return this.isDesktopWide()?"desktopWide":this.isDesktop()?"desktop":this.isTabletLandscape()?"tabletLandscape":this.isTabletPortrait()?"tabletPortrait":this.isMobileLandscape()?"mobileLandscape":this.isMobilePortrait()?"mobilePortrait":void 0}}}function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}!function(e,t){e.TruncateToHeight=function(){var n;function r(){var n,r=1e3,i=[],o=[],a=[],s=function(e){return document.getElementById(e).scrollHeight},},},},d=function(e){a.push(function(e){return document.getElementById(e).innerHTML.trim()}(e))},p=function(e){var t=c(e);document.getElementById(e).style.display="inline",document.getElementById(t).style.overflow="hidden",document.getElementById(t).style.maxHeight=document.getElementById(t).style.height},h=function(e)}(e,"")},f=function(e){var n,r=i.indexOf(e),o=c(e),d=a[r].replace(/\$/g,"&#36;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;");try{n=t(d)}catch(e){(n={}).length=!1}var p=t("#"+e);if(n.length)for(var h="",f=0;f<n.length;f++){switch(h="",n[f].nodeType.toString()){case"1":h=n[f].outerHTML;break;case"3":h=n[f].textContent}if(h=u(h),t(p).append(t.trim(h)),s(o)>l(o))break}else t(p).append(t.trim(d))},v=function(n){var i=0,o=c(n),a=t("#"+o),s=t(a.children()[0]);if(s)for(;Math.floor(s.height())>Math.floor(a.height());){i++;var l=document.getElementById(n);if(l){var u=l.childNodes,d=u[u.length-1],p=d.nodeType,h=void 0,f=void 0;1===p&&(h=d.textContent.trim()).length>0&&("..."===h.substr(-3)&&(h=h.slice(0,h.length-3)),f=h.slice(0,h.length-1)+"...",t(d).text(f)),3===p&&(h=d.nodeValue).length>0&&("..."===h.substr(-3)&&(h=h.slice(0,h.length-3)),f=h.slice(0,h.length-1)+"...",d.nodeValue=f),""===h&&t(d).remove()}if(i>r){e.console&&console.error("TruncateToHeight sliceContent broke!");break}}},g=function(e){var t=document.getElementById(e).childNodes,n=document.getElementById(e).childNodes[t.length-1];n.nodeValue=n.textContent.substring(0,n.textContent.length).trim()},m=function(n){for(var r=0,i=t("#"+n),o=t(i[0].childNodes);"<br>"===o[o.length-1].outerHTML;)if(r++,o=o.slice(0,-1),r>100){e.console&&console.error("TruncateToHeight:removeTrailingBreaks");break}t(i).html(o)},y=function(e){var t=document.getElementById(e).childNodes,n=document.getElementById(e).childNodes[t.length-1].textContent.trim(),r=n.substring(n.length-1,n.length);/^(\,|\.|\?|\!)$/i.test(r)};function b(){for(var e=0;e<i.length;e++)_(i[e]);return this}function _(t){i.indexOf(t)>=0?document.getElementById(t)&&(p(t),h(t),f(t),v(t),g(t),m(t),y(t)):e.console&&console.error("You tried to update an element ["+t+"] that has not been initialized.");return this}return t(e).on("resize"})),t((function(){b()})),{updateElement:_,updateAll:b,truncate:function(t){var n=!0,a="";arguments.length&&"object"!==!ht(arguments[0])||(t={},e.console&&console.error("TruncateToHeight: You did not pass in an object."));var s,l=t.hasOwnProperty("heightElementId")?t.heightElementId:"",u=t.hasOwnProperty("contentElementId")?t.contentElementId:"";return r=t.hasOwnProperty("limit")?t.limit:1e3,document.getElementById(u)||(n=!1,a=""==u?"You forgot to specify contentElementId.":"The element "+u+" does not exist."),document.getElementById(l)||(n=!1,a=""==l?"You forgot to specify heightElementId.":"The element "+l+" does not exist."),n?(-1===(s=t.contentElementId,i.indexOf(s))&&(!function(e){o.push(e)}(t.heightElementId),function(e){i.push(e)}(t.contentElementId),d(t.contentElementId)),_(t.contentElementId)):e.console&&console.error("Error initializing TruncateToHeight: "+a),this}}}return{getInstanc}}}(),TruncateToHeight=TruncateToHeight.getInstance()}(window,jQuery),$.fn.ellipsify=function(){var e=$(this).find(".title-wrapper");e.length>0&&void 0!==e.get(0).style.webkitLineClamp||e.each((function(e,t){var n=$(t).attr("id");void 0===n&&(n="title-wrapper-"+Math.floor(1e6*Math.random()),$(t).attr("id",n));var r=$(t).find(".title"),i=r.attr("id");void 0===i&&(i="title-"+Math.floor(1e6*Math.random()),r.attr("id",i));var o={heightElementId:n,contentElementId:i};TruncateToHeight.truncate(o)}))};var ft=n(55639),vt=n.n(ft);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===gt(o)?o:String(o)),r)}var i,o}var yt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._=null,this.options=t,this.selectedInd=0}var t,n,r;return t=e,(n=[{key:"build",value:function(){this.__isDomEmpty(this._)?this.__render():this.__parseOptionsFromDom(),this.__postRun(),this.__eventListeners()}},{key:"setMount",value:function(e){return this._=e,this}},{key:"setOptions",value:function(e){return this.options=e,this}},{key:"setSelectedIndex",valu}},{key:"getSelectedIndex",value:function(){return this.selectedInd}},{key:"getSelectedOption",value:function(){return this.selectedInd<this.options.length&&this.options[this.selectedInd]}},{key:"__setDropDownHoverElement",value:function(){return this.elDropdownHover=this._.find(".pv-h"),this}},{key:"__isDomEmpty",valu}},{key:"__parseOptionsFromDom",value:function(){var e=this,t=[];this._.find("ul.content li a").each((function(n,r){var i={title:$(r).text(),value:$(r).data("value")};t.push(i),$(r).data("selected")&&(e.selectedInd=$(r).data("index"))})),this.options=t}},{key:"__postRun",value:function(){this.__setDropDownHoverElement(),1===this.options.length&&(this._.find("ul.content").remove(),this._.find("a.js-filter").addClass("no-caret").css("pointer-events","none"))}},{key:"__eventListeners",value:function(){var e=this,t=this;document.addEventListener("keyup",(function(e){var n=e.keyCode||e.which;t.elDropdownHover.hasClass("hover")&&27===n&&t.elDropdownHover.removeClass("hover")})),this._.find("li.pv-h a").on("focus",(function(e){e.preventDefault(),e.stopPropagation(),t.elDropdownHover.addClass("hover"),$("select.dropdown__filter__fake").attr("tabindex","-1")})),this._.find("li.pv-h button").on("focus"})),this._.find("li.pv-h button").on("blur",(function(e){e.preventDefault(),e.stopPropagation(),t.elDropdownHover.find("button").attr("aria-expanded",!1),t.elDropdownHover.removeClass("hover")})),this._.find("li.pv-h").on("mouseover",(function(e){e.preventDefault(),e.stopPropagation(),t.elDropdownHover.addClass("hover")})),this._.find("li.pv-h").on("mouseleave"})),this._.find("ul.content a").on("click",(function(e){e.preventDefault(),e.stopPropagation(),t.__selectedHandler(e),t.elDropdownHover.removeClass("hover"),t.elDropdownHover.find("button").focus()})),this._.find("ul.content a").on("keydown",(function(t){13===(t.keyCode||t.which)&&$(e).click()})),this._.find(".dropdown__filter__fake").on("change",(function(e){e.preventDefault(),e.stopPropagation();var n=$(e.target).val();t._.find('ul.content a[data-value="'+n+'"]').trigger("click")})),this._.find("li.pv-h").on("keydown",(function(n){var r=n.keyCode||n.which;13===r?($(e).click(),t.elDropdownHover.hasClass("hover")?(t.elDropdownHover.find("button").attr("aria-expanded",!1),t.elDropdownHover.removeClass("hover")):(t.elDropdownHover.find("button").attr("aria-expanded",!0),t.elDropdownHover.addClass("hover"))):9===r&&(t.elDropdownHover.hasClass("hover")?(t.elDropdownHover.find("button").attr("aria-expanded",!1),t.elDropdownHover.find("li a").attr("tabindex","0"),t.elDropdownHover.removeClass("hover")):(t.elDropdownHover.addClass("hover"),t.elDropdownHover.find("button").attr("aria-expanded",!0)))}))}},{key:"__selectedHandler",value:function(e){var t=this,n=$(e.target),r=this._.find(".js-filter").first();t.selectedInd!==n.data("index")&&(r.text(n.text()),$(t).trigger("filterSelected",[n.data("index"),t.options[n.data("index")].value])),t.selectedInd=n.data("index")}},{key:"__render",value:function(){if(this.options.length>0&&this.selectedInd<this.options.length){var e=this;this._.append($(vt()({data:e.options,selected:e.options[e.selectedInd]})))}}}])&&mt(t.prototype,n),r&&mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={whatsNewTpl:Qe(),showNewsTpl:st(),showPhotosTpl:ut(),showAlbumsTpl:dt(),castTpl:rt(),noDataTpl:tt(),defaultTpl:ot()},n=e.useTemplate?t[e.useTemplate]:ot(),r=e.options.noDataMessage?e.options.noDataMessage:"No data available.",i=!!e.options.noResizeListener&&e.options.noResizeListener,o=e.parentContainer?e.parentContainer:$("#latest-episodes"),a=o.find(".grid-view-container"),s=o.find(".js-load-more"),l=s.find(".button__text"),u=l.text(),c=o.find(".grid-view-svg-loader"),d=new pt,p=d.getCurrentBreakpointName(),h=0,f=!0,v=!1,g=[],m=0,y=0,b=o.data("season"),_=null,w=null,S=null,k={desktopWide:18,desktop:10,tabletLandscape:8,tabletPortrait:6,mobileLandscape:4,mobilePortrait:4},T={mobilePortrait:1,mobileLandscape:2,tabletPortrait:3,tabletLandscape:4,desktop:5,desktopWide:6},E={mobilePortrait:4,mobileLandscape:2,tabletPortrait:2,tabletLandscape:2,desktop:2,desktopWide:2},x=function(){if(!f)if(P())s.find("svg").remove(),l.text(u);else{var e=c.clone().css({display:"block"});s.append(e),l.html("&nbsp;")}},},},},A=function(){return $(".js-load-more")[0]?k[d.getCurrentBreakpointName()]:50},I=function(){return $(".js-load-more")[0]?18:50},L=function(e){x();var t=I(),n=j({page:h,season:b,offset:h*t,limit:t});!f&&t>=S?(z(m+1,S,!0),x()):$.ajax({type:"GET",url:n,dataType:"json",success:function(t){x(),null===S&&G(t.result.total),N(t),e?e():M(t)}})},j=function(t){var n=$.extend(_,t);null===_&&(_={slug:o.data("slug"),page:h,size:I(),excludeShow:0,season:b},n=$.extend(_,e.options.params,t)),_=n;var r=e.options.endPoint;for(var i in n)n.hasOwnProperty(i)&&(r=r.replace("{"+i+"}",n[i]));return r},},},R=function(){v?(D(),z(0,null,!1)):W()},},Z=function(){var e,t,n=m+1;z(m+1,null,!0),e=n,(t=a.find("article:eq("+e+") a:eq(0)")).length>0&&$(t).focus()},F=function(){v=!0,B();var e=d.getCurrentBreakpointName();p!==e&&(p=e,f?R():U(),V())},},U=function(){D(),z(0,g.length,!1)},z=function(e,i,o){var s=!0===(o=!0===o)?0:1,l=i||e+A();if(g.length>0)for(var u=e;u<l&&u<S;u++)void 0!==g[u]&&(m=u,a.append($(n(g[u])).css({opacity:s})));else a.append($(t.noDataTpl()).css({opacity:s}).text(r));CBS.Registry.lazyImage&&setTimeout}),200);var c=a.find("article.grid-view-item").length;c%O()!=0&&c<S?q():(o&&H(),a.ellipsify(),V(),W())},H=function(){var e=this;a.css({height:a.height()}),y=0,a.find("article").each((function(){var t=$(e).height();t>y&&(y=t)}));var t,n=E[d.getCurrentBreakpointName()],r=y*n+(t||(t=a.css("gap"))&&(t=parseInt(t.split(" ")[0])),t||(t=a.css("row-gap"))&&(t=t.replace("px","")),t||(t=a.css("grid-gap"))&&(t=parseInt(t.replace("/ ",""))),t||(t=0),t);a.animate({height:a.height()+r},300,(function(){a.css({height:"auto"}),a.find("article").delay(300).animate({opacity:1},300,(function(){V()}))}))},q=function(){var e=a.find("article.grid-view-item").length,t=O()-e%O();if(t>0){var n=m+1,r=m+t+1,};e+t<=g.length?i():(h++,L(i))}},},V=function(){a.find("article").length;a.find("article").length===S&&0!==S?s.parent().addClass("load-more-container-hidden").removeClass("load-more-container-show"):s.parent().removeClass("load-more-container-hidden").addClass("load-more-container-show")},},J=function(e){var t=$(".hero__wrapper, .grid-view, .js-le-carousel"),n=e.parents(".grid-view"),r=null;return t.each((function(e,t){$(t).html()===n.html()&&(r=e)})),r};o.length>0&&($(document).ready((function(){L(),document.getElementsByClassName("js-load-more").tabIndex="0",s.on("click",(function(e){if(e.preventDefault(),f=!1,!P()){var t=document.getElementsByClassName("grid-view-item").length;h++,L(),function(){try{om.trackClick({item:s.attr("aa-link")})}catch(e){}}(),document.getElementsByClassName("grid-view-item")[t-1].querySelector("a").focus()}})),i||window.addEventListener("resize",F),$(a).on("click",".grid-view-item a",(function(e){e.preventDefault(),function(e){var t=e.attr("aa-link").split("|"),n=t[0],r=t[5],i=t[16],o=t[10],a=t[15],s=t[23],l=(Number(t[3])-1).toString(),u=window.location.href.indexOf("shows")>-1?"trackShowContent":"trackRowHeader",c=null;c={showEpisodeLabel:r,showEpisodeTitle:r,showEpisodeId:i,showSeasonNumber:t[6].toString(),showEpisodeNumber:t[7].toString(),contentBrand:o,showGenre:a,posColNum:l,rowHeaderTitle:n,contentLocked:s},CBS.Registry.kidsLanding&&(u="trackContentGridSelect",c.showBrowseCategory=null),c["p"===t[13]?"PPlusSubscriberBadge":"TVELockedBadge"]=t[14],c.posRowNum=J(e).toString();try{om.trackAction(u,c)}catch(e){console.error(u+" failed to load")}}($(this)),location.href=$(this).attr("href")}))})),function(){if($(".js-load-more")[0]){for(m=A()>12?11:A()-1;a.find("article.grid-view-item").length>k[d.getCurrentBreakpointName()];){var t=a.find("article.grid-view-item");$(t[t.length-1]).remove()}S=a.data("total"),V()}o.find(".js-dropdown").length>0&&((w=new yt).setMount(o.find(".js-dropdown")).build(),b=w.options[w.selectedInd].value,C(),$(w).on("filterSelected",(function(t,n,r){e.onFilterSelected&&e.onFilterSelected(r),C(),h=0,b=r,f=!0,S=null,g=[],m=0,L((function(){D(),z(0,A(),!0),V()}))})),$(w).on("episodes-ready"})))}())}var _t=n(64482),wt=n.n(_t),St=n(11594),kt=n.n(St),Tt=(n(85149),n(11285),n(10045),"undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEven},createElemen},location:{hash:""}}:document),Et="undefined"==typeof window?{document:Tt,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyl},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window;function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==xt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===xt(o)?o:String(o)),r)}var i,o}function Pt(e,t,n){return t&&Ct(e.prototype,t),n&&Ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ot=Pt})At.fn=Ot.prototype,At.Class=Ot,At.Dom7=Ot;"resize scroll".split(" "ction Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Bt(o)?o:String(o)),r)}var i,o}function Ft(e,t,n){return t&&Zt(e.prototype,t),n&&Zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}var Ut={addClas},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)void 0!==this[r]&&void 0!==this[r].classList&&this[r].classList.remove(t[n]);return this},hasClas},toggleClas},att},removeAtt},dat},transfor},transitio},o},of},trigge},transitionEn},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeigh},offse},cs},eac},htm},tex},i},inde},e},appen},prepen},nex},nextAll:function(e){var t=[],n=this[0];if(!n)return new Ot([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?At(r).is(e)&&t.push(r):t.push(r),n=r}return new Ot(t)},pre},prevAl},paren},parent},closes},fin},childre},remov},ad},style}};Object.keys(Ut).forEach}));var zt,$t,Ht,qt={deleteProp},nextTic},now:function(){return Date.now()},getTranslat},parseUrlQuer},isObjec},exten}},Gt=($t=Tt.createElement("div"),{touch:Et.Modernizr&&!0===Et.Modernizr.touch||!!(Et.navigator.maxTouchPoints>0||"ontouchstart"in Et||Et.DocumentTouch&&Tt instanceof Et.DocumentTouch),pointerEvents:!!(Et.navigator.pointerEnabled||Et.PointerEvent||"maxTouchPoints"in Et.navigator&&Et.navigator.maxTouchPoints>0),prefixedPointerEvents:!!Et.navigator.msPointerEnabled,transition:(zt=$t.style,"transition"in zt||"webkitTransition"in zt||"MozTransition"in zt),transforms3d:Et.Modernizr&&!0===Et.Modernizr.csstransforms3d}(),flexbo}(),observer:"MutationObserver"in Et||"WebkitMutationObserver"in Et,passiveListene}(),gestures:"ongesturestart"in Et}),Vt={isIE:!!Et.navigator.userAgent.match(/Trident/g)||!!Et.navigator.userAgent.match(/MSIE/g),isEdge:!!Et.navigator.userAgent.match(/Edge/g),isSafari:(Ht=Et.navigator.userAgent.toLowerCase(),Ht.indexOf("safari")>=0&&Ht.indexOf("chrome")<0&&Ht.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(Et.navigator.userAgent)},Wt=function(}return Ft(e,[{key:"on",valu}},{key:"once",valu}},{key:"off",valu}},{key:"emit",valu}},{key:"useModulesParams",valu}},{key:"useModules",valu}}],[{key:"components",se}},{key:"installModule",valu}},{key:"use",valu}}]),e}();var Jt={updateSiz},updateSlides:function(){var e=this,t=e.params,n=e.$wrapperEl,r=e.size,i=e.rtlTranslate,o=e.wrongRTL,a=e.virtual&&t.virtual.enabled,s=a?e.virtual.slides.length:e.slides.length,l=n.children(".".concat(e.params.slideClass)),u=a?e.virtual.slides.length:l.length,c=[],d=[],p=[],h=t.slidesOffsetBefore;"function"==typeof h&&(h=t.slidesOffsetBefore.call(e));var f=t.slidesOffsetAfter;"function"==typeof f&&(f=t.slidesOffsetAfter.call(e));var v=e.snapGrid.length,g=e.snapGrid.length,m=t.spaceBetween,y=-h,b=0,_=0;if(void 0!==r){var w,S;"string"==typeof m&&m.indexOf("%")>=0&&(m=parseFloat(m.replace("%",""))/100*r),e.virtualSize=-m,i?l.css({marginLeft:"",marginTop:""}):l.css({marginRight:"",marginBottom:""}),t.slidesPerColumn>1&&(w=Math.floor(u/t.slidesPerColumn)===u/e.params.slidesPerColumn?u:Math.ceil(u/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(w=Math.max(w,t.slidesPerView*t.slidesPerColumn)));for(var k,T=t.slidesPerColumn,E=w/T,x=Math.floor(u/t.slidesPerColumn),C=0;C<u;C+=1){S=0;var P=l.eq(C);if(t.slidesPerColumn>1){var O=void 0,A=void 0,I=void 0;"column"===t.slidesPerColumnFill?(I=C-(A=Math.floor(C/T))*T,(A>x||A===x&&I===T-1)&&(I+=1)>=T&&(I=0,A+=1),O=A+I*w/T,P.css({"-webkit-box-ordinal-group":O,"-moz-box-ordinal-group":O,"-ms-flex-order":O,"-webkit-order":O,order:O})):A=C-(I=Math.floor(C/E))*E,P.css("margin-".concat(e.isHorizontal()?"top":"left"),0!==I&&t.spaceBetween&&"".concat(t.spaceBetween,"px")).attr("data-swiper-column",A).attr("data-swiper-row",I)}if("none"!==P.css("display")){if("auto"===t.slidesPerView){var L=Et.getComputedStyle(P[0],null),j=P[0].style.transform,N=P[0].style.webkitTransform;if(j&&(P[0].style.transform="none"),N&&(P[0].style.webkitTransform="none"),t.roundLengths)S=e.isHorizontal()?P.outerWidth(!0):P.outerHeight(!0);else if(e.isHorizontal()){var M=parseFloat(L.getPropertyValue("width")),R=parseFloat(L.getPropertyValue("padding-left")),D=parseFloat(L.getPropertyValue("padding-right")),Z=parseFloat(L.getPropertyValue("margin-left")),F=parseFloat(L.getPropertyValue("margin-right")),B=L.getPropertyValue("box-sizing");S=B&&"border-box"===B?M+Z+F:M+R+D+Z+F}else{var U=parseFloat(L.getPropertyValue("height")),z=parseFloat(L.getPropertyValue("padding-top")),$=parseFloat(L.getPropertyValue("padding-bottom")),H=parseFloat(L.getPropertyValue("margin-top")),q=parseFloat(L.getPropertyValue("margin-bottom")),G=L.getPropertyValue("box-sizing");S=G&&"border-box"===G?U+H+q:U+z+$+H+q}j&&(P[0].style.transform=j),N&&(P[0].style.webkitTransform=N),t.roundLengths&&(S=Math.floor(S))}else S=(r-(t.slidesPerView-1)*m)/t.slidesPerView,t.roundLengths&&(S=Math.floor(S)),l[C]&&(e.isHorizontal()?l[C].style.width="".concat(S,"px"):l[C].style.height="".concat(S,"px"));l[C]&&(l[C].swiperSlideSize=S),p.push(S),t.centeredSlides?(y=y+S/2+b/2+m,0===b&&0!==C&&(y=y-r/2-m),0===C&&(y=y-r/2-m),Math.abs(y)<.001&&(y=0),t.roundLengths&&(y=Math.floor(y)),_%t.slidesPerGroup==0&&c.push(y),d.push(y)):(t.roundLengths&&(y=Math.floor(y)),_%t.slidesPerGroup==0&&c.push(y),d.push(y),y=y+S+m),e.virtualSize+=S+m,b=S,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+f,i&&o&&("slide"===t.effect||"coverflow"===t.effect)&&n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}),Gt.flexbox&&!t.setWrapperSize||(e.isHorizontal()?n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}):n.css({height:"".concat(e.virtualSize+t.spaceBetween,"px")})),t.slidesPerColumn>1&&(e.virtualSize=(S+t.spaceBetween)*w,e.virtualSize=Math.ceil(e.virtualSize/t.slidesPerColumn)-t.spaceBetween,e.isHorizontal()?n.css({width:"".concat(e.virtualSize+t.spaceBetween,"px")}):n.css({height:"".concat(e.virtualSize+t.spaceBetween,"px")}),t.centeredSlides)){k=[];for(var V=0;V<c.length;V+=1){var W=c[V];t.roundLengths&&(W=Math.floor(W)),c[V]<e.virtualSize+c[0]&&k.push(W)}c=k}if(!t.centeredSlides){k=[];for(var J=0;J<c.length;J+=1){var Y=c[J];t.roundLengths&&(Y=Math.floor(Y)),c[J]<=e.virtualSize-r&&k.push(Y)}c=k,Math.floor(e.virtualSize-r)-Math.floor(c[c.length-1])>1&&c.push(e.virtualSize-r)}if(0===c.length&&(c=[0]),0!==t.spaceBetween&&(e.isHorizontal()?i?l.css({marginLeft:"".concat(m,"px")}):l.css({marginRight:"".concat(m,"px")}):l.css({marginBottom:"".concat(m,"px")})),t.centerInsufficientSlides){var X=0;if(p.forEach})),(X-=t.spaceBetween)<r){var K=(r-X)/2;c.forEach})),d.forEach}))}}qt.extend(e,{slides:l,snapGrid:c,slidesGrid:d,slidesSizesGrid:p}),u!==s&&e.emit("slidesLengthChange"),c.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==g&&e.emit("slidesGridLengthChange"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,n=this,r=[],i=0;if("number"==typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed),"auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var o=n.activeIndex+t;if(o>n.slides.length)break;r.push(n.slides.eq(o)[0])}else r.push(n.slides.eq(n.activeIndex)[0]);for(t=0;t<r.length;t+=1)if(void 0!==r[t]){var a=r[t].offsetHeight;i=a>i?a:i}i&&n.$wrapperEl.css("height","".concat(i,"px"))},updateSlidesOffse},updateSlidesProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,n=t.params,r=t.slides,i=t.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var a=0;a<r.length;a+=1){var s=r[a],l=(o+(n.centeredSlides?t.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility){var u=-(o-s.swiperSlideOffset),c=u+t.slidesSizesGrid[a];(u>=0&&u<t.size||c>0&&c<=t.size||u<=0&&c>=t.size)&&(t.visibleSlides.push(s),t.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass))}s.progress=i?-l:l}t.visibleSlides=At(t.visibleSlides)}},updateProgres},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,o=t.activeIndex,a=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(o,'"]')):n.eq(o)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(a,'"]')).addClass(r.slideDuplicateActiveClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(a,'"]')).addClass(r.slideDuplicateActiveClass));var l=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===l.length&&(l=n.eq(0)).addClass(r.slideNextClass);var u=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===u.length&&(u=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(l.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),u.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass))},updateActiveInde},updateClickedSlide:function(e){var t=this,n=t.params,r=At(e.target).closest(".".concat(n.slideClass))[0],i=!1;if(r)for(var o=0;o<t.slides.length;o+=1)t.slides[o]===r&&(i=!0);if(!r||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(At(r).attr("data-swiper-slide-index"),10):t.clickedIndex=At(r).index(),n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};var Yt={getTranslat},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,o=n.$wrapperEl,a=n.progress,s=0,l=0;n.isHorizontal()?s=r?-e:e:l=e,i.roundLengths&&(s=Math.floor(s),l=Math.floor(l)),i.virtualTranslate||(Gt.transforms3d?o.transform("translate3d(".concat(s,"px, ").concat(l,"px, ").concat(0,"px)")):o.transform("translate(".concat(s,"px, ").concat(l,"px)"))),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?s:l;var u=n.maxTranslate()-n.minTranslate();(0===u?0:(e-n.minTranslate())/u)!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslat},maxTranslat}};var Xt={setTransitio},transitionStar},transitionEn}};var Kt={slideT},slideToLoo},slideNex},slidePrev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.params,o=r.animating,a=r.snapGrid,s=r.slidesGrid,l=r.rtlTranslate;if(i.loop){if(o)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLef}var c,d=u(l?r.translate:-r.translate),p=a.map((function(e){return u(e)})),h=(s.map})),a[p.indexOf(d)],a[p.indexOf(d)-1]);return void 0!==h&&(c=s.indexOf(h))<0&&(c=r.activeIndex-1),r.slideTo(c,e,t,n)},slideRese},slideToClosest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.activeIndex,o=Math.floor(i/r.params.slidesPerGroup);if(o<r.snapGrid.length-1){var a=r.rtlTranslate?r.translate:-r.translate,s=r.snapGrid[o];a-s>(r.snapGrid[o+1]-s)/2&&(i=r.params.slidesPerGroup)}return r.slideTo(i,e,t,n)},slideToClickedSlid}};var Qt={loopCreat},loopFi},loopDestro}};var en={setGrabCurso},unsetGrabCurso}};var tn={appendSlid},prependSlid},addSlide:function(e,t){var n=this,r=n.$wrapperEl,i=n.params,o=n.activeIndex;i.loop&&(o-=n.loopedSlides,n.loopDestroy(),n.slides=r.children(".".concat(i.slideClass)));var a=n.slides.length;if(e<=0)n.prependSlide(t);else if(e>=a)n.appendSlide(t);else{for(var s=o>e?o+1:o,l=[],u=a-1;u>=e;u-=1){var c=n.slides.eq(u);c.remove(),l.unshift(c)}if("object"===Bt(t)&&"length"in t){for(var d=0;d<t.length;d+=1)t[d]&&r.append(t[d]);s=o>e?o+t.length:o}else r.append(t);for(var p=0;p<l.length;p+=1)r.append(l[p]);i.loop&&n.loopCreate(),i.observer&&Gt.observer||n.update(),i.loop?n.slideTo(s+n.loopedSlides,0,!1):n.slideTo(s,0,!1)}},removeSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.activeIndex;n.loop&&(i-=t.loopedSlides,t.loopDestroy(),t.slides=r.children(".".concat(n.slideClass)));var o,a=i;if("object"===Bt(e)&&"length"in e){for(var s=0;s<e.length;s+=1)o=e[s],t.slides[o]&&t.slides.eq(o).remove(),o<a&&(a-=1);a=Math.max(a,0)}else o=e,t.slides[o]&&t.slides.eq(o).remove(),o<a&&(a-=1),a=Math.max(a,0);n.loop&&t.loopCreate(),n.observer&&Gt.observer||t.update(),n.loop?t.slideTo(a+t.loopedSlides,0,!1):t.slideTo(a,0,!1)},removeAllSlide}},n}();function rn(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches;if(!t.animating||!r.preventInteractionOnTransition){var o=e;if(o.originalEvent&&(o=o.originalEvent),n.isTouchEvent="touchstart"===o.type,(n.isTouchEvent||!("which"in o)||3!==o.which)&&!(!n.isTouchEvent&&"button"in o&&o.button>0||n.isTouched&&n.isMoved))if(r.noSwiping&&At(o.target).closest(r.noSwipingSelector?r.noSwipingSelector:".".concat(r.noSwipingClass))[0])t.allowClick=!0;else if(!r.swipeHandler||At(o).closest(r.swipeHandler)[0]){i.currentX="touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,i.currentY="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY;var a=i.currentX,s=i.currentY,l=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,u=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(!l||!(a<=u||a>=Et.screen.width-u)){if(qt.extend(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=a,i.startY=s,n.touchStartTime=qt.now(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==o.type){var c=!0;At(o.target).is(n.formElements)&&(c=!1),Tt.activeElement&&At(Tt.activeElement).is(n.formElements)&&Tt.activeElement!==o.target&&Tt.activeElement.blur();var d=c&&t.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||d)&&o.preventDefault()}t.emit("touchStart",o)}}}}function on(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,o=t.rtlTranslate,a=e;if(a.originalEvent&&(a=a.originalEvent),n.isTouched){if(!n.isTouchEvent||"mousemove"!==a.type){var s="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,l="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if(a.preventedByNestedSwiper)return i.startX=s,void(i.startY=l);if(!t.allowTouchMove)return t.allowClick=!1,void(n.isTouched&&(qt.extend(i,{startX:s,startY:l,currentX:s,currentY:l}),n.touchStartTime=qt.now()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(l<i.startY&&t.translate<=t.maxTranslate()||l>i.startY&&t.translate>=t.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(s<i.startX&&t.translate<=t.maxTranslate()||s>i.startX&&t.translate>=t.minTranslate())return;if(n.isTouchEvent&&Tt.activeElement&&a.target===Tt.activeElement&&At(a.target).is(n.formElements))return n.isMoved=!0,void(t.allowClick=!1);if(n.allowTouchCallbacks&&t.emit("touchMove",a),!(a.targetTouches&&a.targetTouches.length>1)){i.currentX=s,i.currentY=l;var u=i.currentX-i.startX,c=i.currentY-i.startY;if(!(t.params.threshold&&Math.sqrt(Math.pow(u,2)+Math.pow(c,2))<t.params.threshold)){var d;if(void 0===n.isScrolling)t.isHorizontal()&&i.currentY===i.startY||t.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:u*u+c*c>=25&&(d=180*Math.atan2(Math.abs(c),Math.abs(u))/Math.PI,n.isScrolling=t.isHorizontal()?d>r.touchAngle:90-d>r.touchAngle);if(n.isScrolling&&t.emit("touchMoveOpposite",a),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){t.allowClick=!1,a.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&a.stopPropagation(),n.isMoved||(r.loop&&t.loopFix(),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==t.allowSlideNext&&!0!==t.allowSlidePrev||t.setGrabCursor(!0),t.emit("sliderFirstMove",a)),t.emit("sliderMove",a),n.isMoved=!0;var p=t.isHorizontal()?u:c;i.diff=p,p*=r.touchRatio,o&&(p=-p),t.swipeDirection=p>0?"prev":"next",n.currentTranslate=p+n.startTranslate;var h=!0,f=r.resistanceRatio;if(r.touchReleaseOnEdges&&(f=0),p>0&&n.currentTranslate>t.minTranslate()?(h=!1,r.resistance&&(n.currentTranslate=t.minTranslate()-1+Math.pow(-t.minTranslate()+n.startTranslate+p,f))):p<0&&n.currentTranslate<t.maxTranslate()&&(h=!1,r.resistance&&(n.currentTranslate=t.maxTranslate()+1-Math.pow(t.maxTranslate()-n.startTranslate-p,f))),h&&(a.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(p)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=t.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}r.followFinger&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&(0===n.velocities.length&&n.velocities.push({position:i[t.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:i[t.isHorizontal()?"currentX":"currentY"],time:qt.now()})),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}}}}}else n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",aar un={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,o=e.params,a=o.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var s=e.getBreakpoint(a);if(s&&e.currentBreakpoint!==s){var l=s in a?a[s]:void 0;l&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach}));var u=l||e.originalParams,c=u.direction&&u.direction!==o.direction,d=o.loop&&(u.slidesPerView!==o.slidesPerView||c);c&&n&&e.changeDirection(),qt.extend(e.params,u),qt.extend(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=s,d&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",u)}}},getBreakpoin}};var cn={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},dn={update:Jt,translate:Yt,transition:Xt,slide:Kt,loop:Qt,grabCursor:en,manipulation:tn,events:{attachEvent},detachEvent}},breakpoints:un,checkOverflow:{checkOverflo}},classes:{addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,o=[];o.push("initialized"),o.push(n.direction),n.freeMode&&o.push("free-mode"),Gt.flexbox||o.push("no-flexbox"),n.autoHeight&&o.push("autoheight"),r&&o.push("rtl"),n.slidesPerColumn>1&&o.push("multirow"),nn.android&&o.push("android"),nn.ios&&o.push("ios"),(Vt.isIE||Vt.isEdge)&&(Gt.pointerEvents||Gt.prefixedPointerEvents)&&o.push("wp8-".concat(n.direction)),o.forEach})),i.addClass(t.join(" "))},removeClasse}},images:{loadImag},preloadImage}}},pn={},hn=function(e)}(n,e);var t=jt(n);function n(){var e,r,i;Dt(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];1===a.length&&a[0].constructor&&a[0].constructor===Object?i=a[0]:(r=a[0],i=a[1]),i||(i={}),i=qt.extend({},i),r&&!i.el&&(i.el=r),e=t.call(this,i),Object.keys(dn).forEach}));var l=Mt(e);void 0===l.modules&&(l.modules={}),Object.keys(l.modules).forEach}));var u=qt.extend({},cn);l.useModulesParams(u),l.params=qt.extend({},u,pn,i),l.originalParams=qt.extend({},l.params),l.passedParams=qt.extend({},i),l.$=At;var c=At(l.params.el);if(!(r=c[0]))return Nt(e,void 0);if(c.length>1){var d=[];return c.each})),Nt(e,d)}r.swiper=l,c.data("swiper",l);var p,h,f=c.children(".".concat(l.params.wrapperClass));return qt.extend(l,{$el:c,el:r,$wrapperEl:f,wrapperEl:f[0],classNames:[],slides:At(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertica},rtl:"rtl"===r.dir.toLowerCase()||"rtl"===c.css("direction"),rtlTranslate:"horizontal"===l.params.direction&&("rtl"===r.dir.toLowerCase()||"rtl"===c.css("direction")),wrongRTL:"-webkit-box"===f.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(p=["touchstart","touchmove","touchend"],h=["mousedown","mousemove","mouseup"],Gt.pointerEvents?h=["pointerdown","pointermove","pointerup"]:Gt.prefixedPointerEvents&&(h=["MSPointerDown","MSPointerMove","MSPointerUp"]),l.touchEventsTouch={start:p[0],move:p[1],end:p[2]},l.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},Gt.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:qt.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.params.init&&l.init(),Nt(e,l)}return Ft(n,[{key:"slidesPerViewDynamic",valu}},{key:"update",valu}},{key:"changeDirection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||("vertical"===r&&(n.$el.removeClass("".concat(n.params.containerModifierClass,"vertical wp8-vertical")).addClass("".concat(n.params.containerModifierClass).concat(e)),(Vt.isIE||Vt.isEdge)&&(Gt.pointerEvents||Gt.prefixedPointerEvents)&&n.$el.addClass("".concat(n.params.containerModifierClass,"wp8-").concat(e))),"horizontal"===r&&(n.$el.removeClass("".concat(n.params.containerModifierClass,"horizontal wp8-horizontal")).addClass("".concat(n.params.containerModifierClass).concat(e)),(Vt.isIE||Vt.isEdge)&&(Gt.pointerEvents||Gt.prefixedPointerEvents)&&n.$el.addClass("".concat(n.params.containerModifierClass,"wp8-").concat(e))),n.params.direction=e,n.slides.each})),n.emit("changeDirection"),t&&n.update()),n}},{key:"init",valu}},{key:"destroy",valu}}],[{key:"extendDefaults",valu}},{key:"extendedDefaults",get:function(){return pn}},{key:"defaults",get:function(){return cn}},{key:"Class",get:function(){return Wt}},{key:"$",get:function(){return At}}]),n}(Wt),fn={name:"device",proto:{device:nn},static:{device:nn}},vn={name:"support",proto:{support:Gt},static:{support:Gt}},gn={name:"browser",proto:{browser:Vt},static:{browser:Vt}},mn={name:"resize",creat},on:{init:function(){Et.addEventListener("resize",this.resize.resizeHandler),Et.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destro}}},yn={func:Et.MutationObserver||Et.WebkitMutationObserver,attac},ini},destro}},bn={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},creat},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},_n={updat},renderSlid},appendSlide:function(e,t){var n=this;if("object"===Bt(e)&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&n.virtual.slides.push(e[r]);else n.virtual.slides.push(e);n.virtual.update(!1)},prependSlid},removeSlid},removeAllSlide}},wn={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},creat},on:{beforeIni},setTranslat}}};var Sn={lastScrollTime:qt.now(),event:Et.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll}()?"wheel":"mousewheel",normaliz},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeav},handl},enabl},disabl}},kn={updat},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClic},ini},destro}},Tn={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},creat},on:{ini},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destro},clic}}},En=[fn,vn,gn,mn,bn];function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,In(r.key),r)}}function On(e,t,n){return t&&Pn(e.prototype,t),n&&Pn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function An(e,t,n){return(t=In(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e){var t=function(e,t){if("object"!==xn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xn(t)?t:String(t)}void 0===hn.use&&(hn.use=hn.Class.use,hn.installModule=hn.Class.installModule),hn.use(En);var Ln=null,jn=function(){function e(){Cn(this,e),this.allWrappers=[],this.payload=[],this.metadata={},this.scrollTimer=null;var t=document.body;t.hasAttribute("data-num-carousels")&&(this.totalNumCarousels=parseInt(t.getAttribute("data-num-carousels"))),this.carouselCounter=0}return On(e,[{key:"addPayLoad",value:function(e){this.payload.push(e)}},{key:"addWrapper",value:function(e){this.allWrappers.push(e)}},{key:"buildPayObject",value:function(e){return{metadata:this.buildMetaData(),payload:e}}},{key:"buildMetaData",value:function(){var e,t,n,r,i,o,a,s;return{country:CBS.Registry.region.property.toString(),device_type:this.deviceType(),env:"https://www.paramountplus.com"==CBS.Host?"prod":"dev",optimizelyExp:CBS.Tracking.utag_data.optimizelyExp,page:CBS.Tracking.utag_data.pageType,platform:CBS.Registry.brandPlatformID.toString(),profile_id:null!==(e=null===(t=CBS.Registry)||void 0===t||null===(t=t.user)||void 0===t||null===(t=t.profile_reference_id)||void 0===t?void 0:t.toString())&&void 0!==e?e:"",profile_type:null!==(n=null===(r=CBS.Registry)||void 0===r||null===(r=r.user)||void 0===r||null===(r=r.profile_type)||void 0===r?void 0:r.toString())&&void 0!==n?n:"",site:"cbs",user_id:null!==(i=null===(o=CBS.Registry)||void 0===o||null===(o=o.user)||void 0===o||null===(o=o.id)||void 0===o?void 0:o.toString())&&void 0!==i?i:"",version:null!==(a=null===(s=CBS.Registry)||void 0===s?void 0:s.bn)&&void 0!==a?a:"",view_guid:CBS.Tracking.utag_data.pageViewGuid}}},{key:"enableAndResetDisplayTrackingInterval",value:function(){var t=this;e.scrollIsMonitored||(e.scrollIsMonitored=!0,window.addEventListener("scroll",(function(){e.resizing||t.afterScrollStops((function(){t.trackVisibleWrappers()}),1e3)})))}},{key:"afterScrollStops",value:function(t,n){var r=window.pageYOffset;null===e.scrollInterval&&(e.scrollInterval=setInterval((function(){r===window.pageYOffset?(clearInterval(e.scrollInterval),t(),e.scrollInterval=null):r=window.pageYOffset}),n))}},{key:"getVisibleWrappers",value:function(){var e=this;return this.allWrappers.filter((function(e){return e.isOnScreen(.2,.2)})).map((function(t){return e.getPayloadByDisplayID(t.data("displayid"))})).filter((function(e){return void 0!==e}))}},{key:"trackVisibleWrappers",value:function(){var e=this.getVisibleWrappers();this.trackWrappers(e)}},{key:"trackWrappers",value:function(e){(e=e.filter((function(e){return e.content.length>0}))).length>0&&this.trackObject(this.getFathomDisplayUrl(),this.buildPayObject(this.sortPayLoads(e)))}},{key:"getAllWrappers",value:function(){return this.allWrappers}},{key:"getFathomDisplayUrl",value:function(){return"".concat(CBS.Registry.fathomHost,"/display")}},{key:"getFathomClickUrl",valu}},{key:"getPayloadByDisplayID",value:function(e){return this.payload.find((function(t){return t.display_id===e}))}},{key:"getPayLoadByCarouselID",value:function(e){return this.payload.find((function(t){return t.carousel_id===e}))}},{key:"getPayload",value:function(){return this.payload}},{key:"sortPayLoads",value:function(e){return e.sort((function(e,t){return e.position-t.position}))}},{key:"trackObject",value:function(e,t){var n=this,},i=[this.getFathomDisplayUrl(),this.getFathomClickUrl()];this.suppressTracking()||(i.includes(e)?cbsoptanon.cmd.push((function(e){e.ot.performanceAllowed}))})):r())}},{key:"fetchTracking",value:function(e,t){fetch(e,{method:"POST",mode:"cors",body:JSON.stringify(this.reindexPosition(t))})}},{key:"deviceType",value:function(){return s.Z.isInternational()?CBS.Registry.platform.current:"desktop"==CBS.Tracking.utag_data.deviceType?"true"==$("body").attr("touch-enabled")?"tablet_web":"desktop_web":"mobile"==CBS.Tracking.utag_data.deviceType?"mobile_web":""}},{key:"suppressTracking",value:function(){return"YOUNGER_KIDS"==CBS.Registry.user.profile_type||"KIDS"==CBS.Registry.user.profile_type||window.location.href.includes("user-profile")}},{key:"reindexPosition",value:function(e){if(s.Z.isInternational())return e;var t=JSON.parse(JSON.stringify(e));if(null!=t&&t.payload)for(var n in t.payload){var r;null!==(r=t.payload[n])&&void 0!==r&&r.position&&(t.payload[n].position=t.payload[n].position-1)}return t}}],[{key:"addNumCarousels",valu}},{key:"removeNumCarousels",valu}}]),e}();An(jn,"scrollIsMonitored",!1),An(jn,"scrollInterval",null),An(jn,"totalNumberCarousels",1),An(jn,"resizing",!1);var Nn=function(){function e(t,n){Cn(this,e),this.wrapper=t,this.swiper=n,this.previouslyTrackedContent=new Set,null===Ln&&((Ln=new jn).buildMetaData(),Ln.enableAndResetDisplayTrackingInterval());var r=this.buildPayLoad();r&&void 0!==r.content&&(Ln.addWrapper(t),Ln.addPayLoad(r),e.needToDoInitialTracking&&(e.needToDoInitialTracking=!1,setTimeout((function(){Ln.trackVisibleWrappers()}),3e3)))}return On(e,[{key:"buildPayLoad",value:function(){var e,t,n=this.wrapper.parents(".js-le-carousel");if(!n)return null;var r=n.data("carouselid");if(!n.data("displayid")||!n.data("recoid")||!n.data("title"))return null;this.display_id=n.data("displayid").toString();this.wrapper.children(".video-carousel-box");var i=n.data("pvrmodel"),o={reco_id:n.data("recoid").toString(),display_id:this.display_id,display_name:n.data("title").toString(),position:n.data("position"),rank_model:null===(e=n.data("rankmodel"))||void 0===e?void 0:e.toString(),pvr_model:null!==(t=null==i?void 0:i.toString())&&void 0!==t?t:"",content:this.buildContent()};return r&&(o.carousel_id=r),o}},{key:"buildContent",value:function(){if(this.swiper.slides.length){var e=[];for(var t in this.swiper.slides){var n=this.swiper.slides[t];if(!n||"object"!==xn(n))break;var r=$(n),i=r.find("a.link");if(r.hasClass("swiper-slide-visible")&&i.length){var o,a,s,l,u=null===(o=i.data("fathom"))||void 0===o?void 0:o.split("|"),c=null!==(a=null===(s=u[0])||void 0===s?void 0:s.toString())&&void 0!==a?a:"";e.push({content_id:c,content_title:u[5].toString(),content_type:u[3].toString(),position:parseInt(u[2])}),this.previouslyTrackedContent.add(c),this.setPayloadClick(r,this.display_id,c,null===(l=u[5])||void 0===l?void 0:l.toString())}}return e}}},{key:"clickEvent",value:function(e){Ln.trackObject(Ln.getFathomClickUrl(),{display_id:e.data.displayId,content_id:e.data.contentId,content_title:e.data.contentTitle})}},{key:"setPayloadClick",value:function(e,t,n,r){e.off("click",this.clickEvent).on("click",{displayId:t,contentId:n,contentTitle:r},this.clickEvent)}},{key:"updateFathomResizePerCarousel",value:function(e){var t=this;return Ln.getPayload().filter((function(n){if(parseInt(n.position)===parseInt(e))return n.content=t.buildContent()}))}},{key:"updateFathomResize",value:function(){null!==e.resizeTimeout&&clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){Ln.trackVisibleWrappers()}),300)}},{key:"updateFathomTracking",value:function(e){var t=this.updateFathomResizePerCarousel(e);t&&t.length>0&&t[0].content&&t[0].content.length>0&&Ln.trackObject(Ln.getFathomDisplayUrl(),Ln.buildPayObject(t))}}]),e}("needToDoInitialTracking",!0),An(Nn,"resizeTimeout",null),window.impressionTracking={needToDoInitialTracking:!0,track:null};var $n=function(){function e(){Zn(this,e),this.allWrappers=[],this.payload=[],this.metadata={},this.scrollTimer=null;var t=document.body;t.hasAttribute("data-num-carousels")&&(this.totalNumCarousels=parseInt(t.getAttribute("data-num-carousels"))),this.carouselCounter=0}return Bn(e,[{key:"addPayLoad",value:function(e){this.payload.push(e)}},{key:"addWrapper",valu}},{key:"buildPayObject",value:function(e){var t,n,r,i,o,a,s,l,u,c,d,p,h,f,v,g,m,y,b,_,w,S;return{brandPlatformId:null===(t=CBS.Registry)||void 0===t||null===(t=t.brandPlatformID)||void 0===t?void 0:t.toString(),siteEdition:null===(n=CBS.Registry)||void 0===n||null===(n=n.siteEdition)||void 0===n?void 0:n.toString(),optimizelyExp:null===(r=CBS.Tracking)||void 0===r||null===(r=r.utag_data)||void 0===r?void 0:r.optimizelyExp,pageType:"front_door",pageViewGuid:null===(i=CBS.Tracking)||void 0===i||null===(i=i.utag_data)||void 0===i?void 0:i.pageViewGuid,searchTerm:"",userRegId:null!==(o=null===(a=CBS.Registry)||void 0===a||null===(a=a.user)||void 0===a||null===(a=a.id)||void 0===a?void 0:a.toString())&&void 0!==o?o:"",userBundle:null!==(s=null===(l=CBS.Registry)||void 0===l||null===(l=l.user)||void 0===l||null===(l=l.bundleStatus)||void 0===l?void 0:l.toString())&&void 0!==s?s:"",userStatus:null!==(u=null===(c=CBS.Registry)||void 0===c||null===(c=c.user)||void 0===c||null===(c=c.sb)||void 0===c?void 0:c.toString())&&void 0!==u?u:"",userType:null!==(d=null===(p=CBS.Registry)||void 0===p||null===(p=p.user)||void 0===p||null===(p=p.sub_status)||void 0===p?void 0:p.toString())&&void 0!==d?d:"",userClientRegion:null!==(h=null===(f=CBS.Registry)||void 0===f||null===(f=f.region)||void 0===f||null===(f=f.property)||void 0===f?void 0:f.toString())&&void 0!==h?h:"",userProfileId:null!==(v=null===(g=CBS.Registry)||void 0===g||null===(g=g.user)||void 0===g||null===(g=g.profile_id)||void 0===g?void 0:g.toString())&&void 0!==v?v:"",userProfileCategory:null!==(m=null===(y=CBS.Registry)||void 0===y||null===(y=y.user)||void 0===y||null===(y=y.profile_type)||void 0===y?void 0:y.toString())&&void 0!==m?m:"",userProfileMaster:null!==(b=null===(_=CBS.Registry)||void 0===_||null===(_=_.user)||void 0===_||null===(_=_.userProfileMaster)||void 0===_?void 0:_.toString())&&void 0!==b?b:"",userProfileRefId:null!==(w=null===(S=CBS.Registry)||void 0===S||null===(S=S.user)||void 0===S||null===(S=S.profile_reference_id)||void 0===S?void 0:S.toString())&&void 0!==w?w:"",contentFeatures:e}}},{key:"enableAndResetDisplayTrackingInterval",value:function(){var t=this;e.scrollIsMonitored||(e.scrollIsMonitored=!0,window.addEventListener("scroll",(function(){e.resizing||t.afterScrollStops}),1e3)})))}},{key:"afterScrollStops",value:function(t,n){var r=window.pageYOffset;null===e.scrollInterval&&(e.scrollInterval=setInterval((function(){r===window.pageYOffset?(clearInterval(e.scrollInterval),t(),e.scrollInterval=null):r=window.pageYOffset}),n))}},{key:"getVisibleWrappers",value:function(){var e=this;return this.allWrappers.filter})).map})).filter}))}},{key:"trackVisibleWrappers",valu}},{key:"trackWrappers",value:function(e){(e=e.filter}))).length>0&&this.trackObject(this.buildPayObject(this.sortPayLoads(e)),"carouselView")}},{key:"getAllWrappers",value:function(){return this.allWrappers}},{key:"getPayloadByDisplayID",valu}},{key:"getPayload",valu}},{key:"sortPayLoads",valu}},{key:"trackObject",value:function(e,t){if(!this.suppressTracking()&&om){var n={type:t,data:{pplus:this.reindexPosition(e)}};om.sendEvent(n)}}},{key:"deviceType",value:function(){return"desktop"==CBS.Tracking.utag_data.deviceType?"true"==$("body").attr("touch-enabled")?"tablet_web":"desktop_web":"mobile"==CBS.Tracking.utag_data.deviceType?"mobile_web":""}},{key:"suppressTracking",value:function(){return"YOUNGER_KIDS"==CBS.Registry.user.profile_type||"KIDS"==CBS.Registry.user.profile_type||window.location.href.includes("user-profile")}},{key:"reindexPosition",value:function(e){var t=JSON.parse(JSON.stringify(e));if(null!=t&&t.payload)for(var n in t.payload){var r;null!==(r=t.payload[n])&&void 0!==r&&r.position&&(t.payload[n].position=t.payload[n].position-1)}return t}}],[{key:"addNumCarousels",value:function(t){e.totalNumberCarousels+=t}},{key:"removeNumCarousels",value:function(t){e.totalNumberCarousels-=t}}]),e}();Un($n,"scrollIsMonitored",!1),Un($n,"scrollInterval",null),Un($n,"totalNumberCarousels",1),Un($n,"previouslyVisibleWrappers",new Set),Un($n,"resizing",!1);var Hn=function(){function e(t,n){Zn(this,e),this.wrapper=t,this.swiper=n,this.previouslyTrackedContent=new Set,null===window.impressionTracking.track&&(window.impressionTracking.track=new $n,window.impressionTracking.track.enableAndResetDisplayTrackingInterval());var r=this.buildPayLoad();r&&void 0!==r.items&&(window.impressionTracking.track.addWrapper(t),window.impressionTracking.track.addPayLoad(r),window.impressionTracking.needToDoInitialTracking&&(window.impressionTracking.needToDoInitialTracking=!1,setTimeout((function(){window.impressionTracking.track.trackVisibleWrappers()}),3e3)))}return Bn(e,[{key:"buildPayLoad",value:function(){var e,t,n,r,i,o,a,s,l,u,c,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,p=this.wrapper.parents(".js-le-carousel");if(!p)return null;var h=p.data("iscontenthighlightenabled"),f=p.data("carouselid");if(!p.data("displayid")||!p.data("recoid")||!p.data("title"))return null;this.display_id=null!==(e=null===(t=p.data("displayid"))||void 0===t?void 0:t.toString())&&void 0!==e?e:"";var v={position:null!==(n=null==p?void 0:p.data("position").toString())&&void 0!==n?n:"",containerId:null!=f?f:"",containerTitle:null!==(r=null==p||null===(i=p.data("title"))||void 0===i?void 0:i.toString())&&void 0!==r?r:"",containerType:null!==(o=null==p||null===(a=p.data("model"))||void 0===a?void 0:a.toString())&&void 0!==o?o:"",displayId:this.display_id,rowNum:null!=p&&p.data("position")?parseInt(null==p?void 0:p.data("position"))-1:"",rankModel:null!==(s=null==p||null===(l=p.data("rankmodel"))||void 0===l?void 0:l.toString())&&void 0!==s?s:"",pvrModel:null!==(u=null===(c=p.find(".video-carousel-box"))||void 0===c||null===(c=c.data("pvrmodel"))||void 0===c?void 0:c.toString())&&void 0!==u?u:"",items:d?this.buildClickItemContent(d):this.buildItemContent(),isHighlightEnabled:h?"true":"false",containerStyle:null==p?void 0:p.data("presentationstyle")};if("promotion"==v.containerType){var g,m=$(p).find("a.link").data("impression").split("|");v.containerStyle=null!==(g=m[4].toString())&&void 0!==g?g:""}return v}},{key:"addNewItem",value:function(){var e,t,n,r,i,o,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0,u=this.wrapper.parents(".js-le-carousel");if(!u)return null;u.data("carouselid");if(!u.data("displayid")||!u.data("recoid")||!u.data("title"))return null;var c={id:null===(e=l[0])||void 0===e?void 0:e.toString(),title:null===(t=l[5])||void 0===t?void 0:t.toString(),type:null===(n=l[3])||void 0===n?void 0:n.toString(),position:parseInt(l[2]),badgeLabel:null===(r=l[8])||void 0===r?void 0:r.toString(),isUnlocked:!("true"===l[9]),cmsId:null===(i=l[10])||void 0===i?void 0:i.toString(),contentStatus:null!==(o=null===(a=l[11])||void 0===a?void 0:a.toString())&&void 0!==o&&o};if("spotlight"==l[4]){var d,p,h,f,v,g,m,y,b,_,w={streamStartTimestamp:null!==(d=null===(p=l[13])||void 0===p?void 0:p.toString())&&void 0!==d?d:"",streamEndTimestamp:null!==(h=null===(f=l[14])||void 0===f?void 0:f.toString())&&void 0!==h?h:"",videoId:null!==(v=null===(g=l[12])||void 0===g?void 0:g.toString())&&void 0!==v?v:"",contentStatus:null!==(m=null===(y=l[15])||void 0===y?void 0:y.toString())&&void 0!==m?m:"",type:null!==(b=null===(_=l[3])||void 0===_?void 0:_.toString())&&void 0!==b?b:"",isUnlocked:""};c=Dn(Dn({},c),w)}return-1!==c.type.indexOf("promo")&&(c.isUnlocked=""),s.push(c),s}},{key:"buildClickItemContent",value:function(){var e=$((arguments.length>0&&void 0!==arguments[0]?arguments[0]:null).currentTarget).find("a.link").data("impression").split("|");return this.addNewItem([],e)}},{key:"buildItemContent",value:function(){if(this.swiper.slides.length){var e=[];for(var t in this.swiper.slides){var n=this.swiper.slides[t];if(!n||"object"!==Mn(n))break;var r=$(n);if(r.hasClass("swiper-slide-visible")){var i,o,a,s=r.find("a.link").data("impression").split("|"),l=null!==(i=null===(o=s[0])||void 0===o?void 0:o.toString())&&void 0!==i?i:"";this.addNewItem(e,s),this.previouslyTrackedContent.add(l),this.setPayloadClick(r,this.display_id,l,null===(a=s[5])||void 0===a?void 0:a.toString())}}return e}}},{key:"clickEvent",value:function(e){window.impressionTracking.track.trackObject(window.impressionTracking.track.buildPayObject([e.data.this.buildPayLoad(e)]),"carouselSelect")}},{key:"setPayloadClick",value:function(e,t,n,r){e.off("click",this.clickEvent).on("click",{this:this},this.clickEvent)}},{key:"updateImpressionResizePerCarousel",value:function(e){var t=this;return window.impressionTracking.track.getPayload().filter((function(n){if(parseInt(n.position)===parseInt(e))return n.items=t.buildItemContent()}))}},{key:"updateImpressionResize",value:function(){null!==e.resizeTimeout&&clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){window.impressionTracking.track.trackVisibleWrappers()}),300)}},{key:"updateImpressionTracking",value:function(e){var t=this.updateImpressionResizePerCarousel(e);t&&t.length>0&&t[0].items&&t[0].items.length>0&&window.impressionTracking.track.trackObject(window.impressionTracking.track.buildPayObject(t),"carouselView")}}]),e}();function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wn(r.key),r)}}function Vn(e,t,n){return(t=Wn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(e){var t=function(e,t){if("object"!==qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qn(t)?t:String(t)}Un(Hn,"needToDoInitialTracking",!0),Un(Hn,"resizeTimeout",null);var Jn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vn(this,"_activeIndex",0),Vn(this,"_wrapper",null),Vn(this,"_prev",null),Vn(this,"_next",null),Vn(this,"_direction",""),Vn(this,"_amount",0),Vn(this,"_visibleQuery","div.swiper-slide.swiper-slide-visible a"),Vn(this,"_invisibleQuery","div.swiper-slide:not(.swiper-slide-visible) a"),this._wrapper=t,this.__initWrapperEvents(),this._prev=this._wrapper.el.querySelector("a.carousel-prev"),this._next=this._wrapper.el.querySelector("a.carousel-next"),this._prev.setAttribute("role","button"),this._next.setAttribute("role","button"),this._prev.setAttribute("aria-label","Previous Slides"),this._next.setAttribute("aria-label","Next Slides"),this._next.addEventListener("keydown",(function(e){return"Enter"===e.key||" "===e.key?(e.preventDefault(),n._wrapper.slideNext(),!0):!("Tab"!==e.key||!e.shiftKey)&&(e.preventDefault(),n._wrapper.visibleSlides[n._wrapper.visibleSlides.length-1].querySelector("a.link").focus(),!0)}),!0),this._prev.addEventListener("keydown",(function(e){return"Enter"===e.key||" "===e.key?(e.preventDefault(),n._wrapper.slidePrev(),!0):"Tab"!==e.key||e.shiftKey?!("Tab"!==e.key||!e.shiftKey):(e.preventDefault(),n._wrapper.visibleSlides[0].querySelector("a.link").focus(),!0)}),!0),this._next.addEventListener("focus",(function(){n._activeIndex=-1})),this._prev.addEventListener("focus"})),this.setItemsFocusable(this._visibleQuery),this.setItemsUnFocusable(this._invisibleQuery),this.__addElementEvents(),this.updateArrows()}var t,n,r;return t=e,(n=[{key:"__initWrapperEvents",value:function(){var e=this;this._wrapper.on("reachBeginning",(function(){e._prev.setAttribute("tabindex","-1")})),this._wrapper.on("reachEnd"})),this._wrapper.on("slideNextTransitionEnd",(function(){e.__addElementEvents(),e.setItemsUnFocusable(e._invisibleQuery),e.setItemsFocusable(e._visibleQuery),e.updateArrows(),e._wrapper.visibleSlides[0].querySelector("a.link").focus(),e._activeIndex=0})),this._wrapper.on("slidePrevTransitionEnd",(function(){e.__addElementEvents(),e.setItemsUnFocusable(e._invisibleQuery),e.setItemsFocusable(e._visibleQuery),e.updateArrows(),e._wrapper.visibleSlides[e._wrapper.visibleSlides.length-1].querySelector("a.link").focus(),e._activeIndex=e._amount-1}))}},{key:"updateArrows",value:function(){this._wrapper.isEnd?this._next.setAttribute("tabindex","-1"):this._next.setAttribute("tabindex","0"),this._wrapper.isBeginning?this._prev.setAttribute("tabindex","-1"):this._prev.setAttribute("tabindex","0")}},{key:"setItemsFocusable",value:function(e){for(var t=this._wrapper.el.querySelectorAll(e),n=0;n<t.length;n++){var r=t[n];r&&(r.setAttribute("tabindex","0"),r.classList.contains("focusable")||r.classList.add("focusable"),r.setAttribute("role","button"),r.setAttribute("aria-hidden","false"))}}},{key:"setItemsUnFocusable",value:function(e){this._wrapper.el.querySelectorAll(e).forEach}))}},{key:"getFocusedIndex",value:function(e){this._activeIndex=this._wrapper.realIndex%this._amount}},{key:"__addElementEvents",value:function(){var e=this;this._amount=this._wrapper.visibleSlides.length,this._wrapper.el.querySelectorAll(this._visibleQuery).forEach((function(t){t.hasAttribute("has-listeners")||(t.setAttribute("has-listeners","true"),t.addEventListener("focus",(function(t){e.getFocusedIndex(t)})),t.addEventListener("keydown",(function(t){return"Tab"!==t.key||t.shiftKey?"Tab"===t.key&&t.shiftKey&&(e._direction="left"):e._direction="right",0!==e._activeIndex||"left"!==e._direction||e._wrapper.isBeginning?e._activeIndex!==e._amount-1||"right"!==e._direction||e._wrapper.isEnd?(e._activeIndex===e._amount-1&&"right"===e._direction&&e._wrapper.isEnd&&(e._next.setAttribute("tabindex","-1"),e._prev.setAttribute("tabindex","-1")),void("right"===e._direction?e._wrapper.realIndex++:e._wrapper.realIndex--)):(t.preventDefault(),void e._next.focus()):(t.preventDefault(),void e._prev.focus())})))}))}}])&&Gn(t.prototype,n),r&&Gn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Jn._counter=0,Jn._carousels=[],Jn.init=function(e){return e&&e.el?-1===Jn._carousels.indexOf(e)?(Jn._carousels.push(e),Jn._counter++,new Jn(e)):void 0:null};var Yn=!1;$("body").on("keydown",".js-le-carousel .carousel .video-carousel-box .wrap a",(function(e){var t=e.keyCode||e.which;if($(this).closest(".video-carousel-box").hasClass("editOn")&&9===t&&!e.shiftKey&&(e.preventDefault(),!Yn)){Yn=!0,$(this).closest(".video-carousel-box").hasClass("editOn")?"input:checkbox[name=editor]":$(this).closest(".carousel-container").find("input").attr("tabindex","-1");var n=$(this).parent(".swiper-slide").index(),r=$(this).closest(".wrap")[0].swiper.visibleSlidesIndexes.length;if($(this).closest(".video-carousel-box").hasClass("editOn")&&!$(this).parent(".swiper-slide").next().is("div"))return e.preventDefault(),$(this).closest(".carousel").find(".edit-carousel").focus(),void(Yn=!1);(n+1)%r==0&&$(this).closest(".video-carousel-box").hasClass("editOn")&&$(this).closest(".wrap").find("a").attr("tabindex","-1")}})),$("body").on("keydown",".js-le-carousel .carousel .edit-carousel",(function(e){var t=e.keyCode||e.which;13==t?($(this).parent().find("a").attr("tabindex","-1"),$(this).parent().find("input:checkbox[name=editor]").attr("tabindex","0"),$(this).next().attr("tabindex","0"),$(this).click()):e.shiftKey&&9==t&&$(".js-le-carousel .carousel .edit-cancel-carousel").click()})),$("body").on("keydown",".js-le-carousel .carousel .edit-cancel-carousel",(function(e){var t=e.keyCode||e.which,n=$(this).siblings(".video-carousel-box").find(".wrap")[0].swiper;13==t?(n.slideTo(1,!1,!1),$(this).parent().find("a").attr("tabindex","0"),$(this).parent().find("input:checkbox[name=editor]").attr("tabindex","-1"),$(this).parent().find("input:checkbox[name=editor]").attr("checked",!1),$(this).attr("tabindex","-1"),$(this).click()):9==t&&n.slideTo(1,!1,!1)})),$("body").on("keypress",".js-le-carousel .carousel input:checkbox[name=editor]",(function(e){13==(e.keyCode||e.which)&&($(this).attr("checked")?($(this).attr("checked",!1),e.stopPropagation(),$(this).parent().children(".overlay").css("opacity","1"),$(this).parent().children(".overlay").css("background","linear-gradient(180deg, rgba(0,0,0,0.5508578431372548) 0%, rgba(0,0,0,0) 35%, rgba(0,0,0,0) 100%)")):($(this).attr("checked",!0),e.stopPropagation(),$(this).parent().children(".overlay").css("opacity",".55"),$(this).parent().children(".overlay").css("background-color","#1D1D1D")))})),$.browser.mozilla&&($("body").on("focus keydown","section#latest-episodes .grid article a",(function(e){$(this).find(".supra-wrapper video").hide()})),$("body").on("mouseenter","section#latest-episodes .grid article a",(function(e){$(this).find(".supra-wrapper video").show()})),$("body").on("focus keydown",".js-le-carousel .carousel .video-carousel-box .wrap a",(function(e){$(this).find(".supra-wrapper video").hide()})),$("body").on("mouseenter",".js-le-carousel .carousel .video-carousel-box .wrap a"}))),$("body").mousedown}));n(67966),n(9869),n(5852);function Xn(e){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,er(r.key),r)}}function Qn(e,t,n){return(t=er(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){var t=function(e,t){if("object"!==Xn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xn(t)?t:String(t)}var tr=function(){function e(t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qn(this,"aalink",[]),Qn(this,"fathom",[]),Qn(this,"element",null),Qn(this,"carousel_num",0),Qn(this,"link",null),Qn(this,"url",""),this.aalink=t,this.fathom=n,this.element=r,this.carousel_num=i,this.link=o,this.url=o.getAttribute("href")}var t,n,r;return t=e,n=[{key:"getCleanTitle",value:function(){var e;return null===(e=this.element.querySelector("h2.video-section-title"))||void 0===e||null===(e=e.textContent)||void 0===e?void 0:e.trim()}},{key:"getPosRowNum",valu}},{key:"trackAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.X2)(e,t)}}],n&&Kn(t.prototype,n),r&&Kn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pr(r.key),r)}}function ar(){return ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ar.apply(this,arguments)}function sr(e,t){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sr(e,t)}function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cr(e);if(t){var i=cr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ur(e)}(this,n)}}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e){return cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cr(e)}function dr(e,t,n){return(t=pr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pr(e){var t=function(e,t){if("object"!==nr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nr(t)?t:String(t)}var hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sr(e,t)}(o,e);var t,n,r,i=lr(o);function o(e,t,n,r,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),dr(ur(s=i.call(this,e,t,n,r,a)),"aalink",[]),dr(ur(s),"fathom",[]),dr(ur(s),"element",null),dr(ur(s),"carousel_num",0),dr(ur(s),"link",null),dr(ur(s),"url",""),s.aalink=e,s.fathom=t,s.element=n,s.carousel_num=r,s.link=a,s.url=a.getAttribute("href"),s}return t=o,(n=[{key:"parse",value:function(){var e,t,n=this.fathom.includes("movie")||"isMovie"===this.aalink[4],r=null===(e=this.element.querySelector(".video-section-title"))||void 0===e?void 0:e.textContent,i=void 0===this.aalink[6]||""===this.aalink[6]||"NaN"===Number(this.aalink[6]);i=""!==this.aalink[6]&&i,i="-1"===this.aalink[11]||i;var a,s=r.trim(),l=null===(t=this.link)||void 0===t||null===(t=t.querySelector(".new-item"))||void 0===t?void 0:t.textContent;if(l&&(a={contentBadgeLabel:l}),n||i)a=ir(ir({},a),{},{contentBrand:this.aalink[10]||utag_data.contentBrand,ctaText:this.aalink[2],pageType:utag_data.pageType,posColNum:Number(this.fathom[2]).toString(),posRowNum:this.carousel_num.toString(),screenName:utag_data.screenName,hubId:utag_data.hubId,hubSlug:utag_data.hubSlug,hubPageType:utag_data.hubPageType,movieId:this.aalink[16]?this.aalink[16]:this.aalink[2],movieTitle:this.aalink[5]?this.aalink[5]:this.aalink[1],movieGenre:this.aalink[15],rowHeaderTitle:unescape(r.trim()),targetURL:this.url,targetType:this.aalink[4]+"|"+this.url,contentLocked:this.aalink[23],showAirDate:null,showGenre:null,showSeriesId:null,showTitle:null,showSeriesTitle:null,showEpisodeLabel:null,showSeasonNumber:null,showEpisodeNumber:null});else if("videoCarousel"===this.aalink[4])a={contentBrand:""!==this.aalink[10]?this.aalink[10]:"na",ctaText:this.aalink[2],pageType:utag_data.pageType,posColNum:Number(this.aalink[3]).toString(),posRowNum:this.carousel_num.toString(),screenName:utag_data.screenName,hubId:utag_data.hubId,hubSlug:utag_data.hubSlug,hubPageType:utag_data.hubPageType,showAirDate:this.aalink[8],showSeriesId:this.aalink[11],showGenre:this.aalink[15],showTitle:this.aalink[19],showSeriesTitle:this.aalink[19],showEpisodeId:this.aalink[20],rowHeaderTitle:unescape(s),showEpisodeTitle:this.aalink[18],showEpisodeLabel:this.aalink[18],showSeasonNumber:this.aalink[6],showEpisodeNumber:""!==this.aalink[7]?this.aalink[7]:"na",contentLocked:this.aalink[23]};else{var u,c=""!==this.aalink[12]?this.aalink[12]:this.aalink[7];c=""===c?utag_data.contentBrand:c;var d=""===this.aalink[13]?this.aalink[2]:this.aalink[13],p=""===this.aalink[5]?this.aalink[1]:this.aalink[5],h="NaN"===Number(this.aalink[3]).toString()?this.fathom[2]:Number(this.aalink[3]).toString();a=ir(ir({},a),{},{contentBrand:c.toString(),ctaText:this.aalink[4],pageType:utag_data.pageType,posColNum:h,posRowNum:this.carousel_num.toString(),screenName:utag_data.screenName,hubId:utag_data.hubId,hubSlug:utag_data.hubSlug,hubPageType:utag_data.hubPageType,showAirDate:this.aalink[10]||"na",showEpisodeId:this.aalink[18]||"na",showEpisodeLabel:this.aalink[5]||"na",showEpisodeNumber:""===this.aalink[9]?0:this.aalink[9],showGenre:""===this.aalink[17]?"na":this.aalink[17],showDaypart:this.aalink[14]||"na",showSeriesId:d.toString(),showTitle:null!==(u=this.aalink[5])&&void 0!==u?u:this.aalink[1],showSeasonNumber:""===this.aalink[9]?0:this.aalink[8],showSeriesTitle:p,rowHeaderTitle:unescape(r.trim()),targetURL:this.url,targetType:this.aalink[2]+"|"+this.url,contentLocked:this.aalink[23]})}window.localStorage.setItem("metadata-video-tracking",JSON.stringify(a));try{ar(cr(o.prototype),"trackAction",this).call(this,"trackHubRowHeader",a)}catch(e){console.error("trackHubRowHeader failed to load",e)}return!1}}])&&or(t.prototype,n),r&&or(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(tr);function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sr(r.key),r)}}function mr(e,t){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mr(e,t)}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_r(e);if(t){var i=_r(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}(this,n)}}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_r(e)}function wr(e,t,n){return(t=Sr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e){var t=function(e,t){if("object"!==fr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fr(t)?t:String(t)}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mr(e,t)}(o,e);var t,n,r,i=yr(o);function o(e,t,n,r,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),wr(br(s=i.call(this,e,t,n,r,a)),"aalink",[]),wr(br(s),"fathom",[]),wr(br(s),"element",null),wr(br(s),"carousel_num",0),wr(br(s),"link",null),wr(br(s),"url",""),s.aalink=e,s.fathom=t,s.element=n,s.carousel_num=r,s.link=a,s.url=a.getAttribute("href"),s}return t=o,n=[{key:"parse",value:function(){var e,t,n,r,i,o=this.fathom.includes("movie"),a=this.link.getAttribute("data-genre"),s="on now"==this.aalink[0],l=(new DOMParser).parseFromString("<!doctype html><body>"+this.aalink[0],"text/html").body.textContent;l=(l&&l.length)>0?l[0].toUpperCase()+l.substring(1):"",l=this.toTitleCase(l);var u=this.element.closest(".js-le-carousel"),c=u.getAttribute("data-carouselid"),d=null!==(e=this.fathom[3])&&void 0!==e?e:o?"movie":"show";d=this.fathom.includes("brand")?"brand":d,d=("live-event"===this.aalink[21]||s)&&this.aalink[26]?this.aalink[26]:d;var p=l||decodeURI(u.getAttribute("data-title")).replace(/\+/g," ")||unescape(this.aalink[0]);s&&(d="live");var h,f,v,g,m,y,b,_,w,S=u.getAttribute("data-model"),k=(this.element.hasAttribute("data-tracking")&&this.element.getAttribute("data-tracking").split("|"),null!==(t=null===(n=document.querySelector("#global-header-container .user-profile-name"))||void 0===n?void 0:n.textContent)&&void 0!==t?t:"");"homeShowGroup"===this.aalink[18]&&(c=this.aalink[17],S=this.aalink[18]),h=o?{movieId:null!==(f=this.link.getAttribute("id"))&&void 0!==f?f:"",movieTitle:null!==(v=this.fathom[5])&&void 0!==v?v:"undefined",movieGenre:a,contentBadgeLabel:null!==(g=this.aalink[13])&&void 0!==g?g:"undefined"}:{showSeriesId:null!==(m=this.aalink[11]?this.aalink[11]:this.fathom[0])&&void 0!==m?m:"undefined",showTitle:null!==(y=this.aalink[4])&&void 0!==y?y:"undefined",showSeriesTitle:null!==(b=this.aalink[4])&&void 0!==b?b:"undefined",showGenre:null!==(_=this.aalink[15])&&void 0!==_?_:"undefined",showDayPart:"undefined",showEpisodeId:"live-event"!==this.aalink[21]?this.aalink[16]:"",showEpisodeLabel:this.aalink[5],showEpisodeTitle:this.aalink[5],showSeasonNumber:this.aalink[6],showEpisodeNumber:this.aalink[7],contentBadgeLabel:1===(null===(w=this.aalink[13])||void 0===w?void 0:w.length)?"":this.aalink[13]};var T,E,x,C,P,O,A,I,L,j,N,M=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({contentBrand:""!==this.aalink[10]?this.aalink[10]:"na",carouselId:c,carouselContentType:d,carouselModel:S,carouselLink:this.url,rowHeaderTitle:unescape(p),stationCode:null!==(r=this.aalink[16])&&void 0!==r?r:"",posRowNum:this.carousel_num?this.carousel_num.toString():"null",posColNum:Number(this.aalink[3]).toString(),contentLocked:this.aalink[23]?this.aalink[23]:"",liveTvChannel:this.getLiveTVChannel(),movieId:o?this.link.getAttribute("id"):"",movieTitle:o?this.fathom[5]:"",movieGenre:o?this.aalink[15]:"",showSeriesId:o?"":this.link.getAttribute("id"),showTitle:o?"":this.aalink[4],showSeriesTitle:o?"":this.aalink[4],showEpisodeLabel:this.aalink[5],showEpisodeTitle:"on now"===this.aalink[0]?this.aalink[4]:"",showSeasonNumber:o?"":this.aalink[6],showEpisodeNumber:this.aalink[7],showAirDate:this.aalink[8],ctaText:this.aalink[2],targetURL:this.url,targetType:this.aalink[2]+"|"+this.url,screenName:k,dma:null!==(i=this.aalink[24])&&void 0!==i?i:""},h);return"promotion"===S&&(M.carouselPresentationStyle="spotlight",M.videoId=null!==(T=this.aalink[25])&&void 0!==T?T:"",M.videoPreviewId=null!==(E=this.aalink[18])&&void 0!==E?E:"",M.streamStartTimestamp=null!==(x=this.aalink[26])&&void 0!==x?x:"",M.streamEndTimestamp=null!==(C=this.aalink[27])&&void 0!==C?C:"",M.contentStatus=null!==(P=this.aalink[28])&&void 0!==P?P:"",M.isHighlightEnabled="false",M.spliceEnabled="0",M.ctaText=$(u).find(".spotlight-button:visible .button__text").text(),M.showSeriesId=null!==(O=this.aalink[6])&&void 0!==O?O:"",M.showSeriesTitle=null!==(A=this.aalink[14])&&void 0!==A?A:"",M.showSeasonNumber=null!==(I=this.aalink[7])&&void 0!==I?I:"",M.showEpisodeTitle=null!==(L=this.aalink[5])&&void 0!==L?L:"",M.showEpisodeId=null!==(j=this.aalink[20])&&void 0!==j?j:"",M.posRowNum=null!==(N=$(u).data("position"))&&void 0!==N?N:""),"on now"===this.aalink[0]&&localStorage.setItem("on_now_carousel",JSON.stringify({liveTvChannel:M.liveTvChannel,stationCode:M.stationCode})),""!==this.aalink[13]&&(M["p"===this.aalink[13]?"PPlusSubscriberBadge":"TVELockedBadge"]=this.aalink[14]),M}},{key:"toTitleCase",valu}},{key:"getLiveTVChannel",value:function(){var e;return("on now"===this.aalink[0]|"live-event"===this.aalink[21]||"upcoming-event"===this.aalink[21])&&null!==(e=this.aalink[15])&&void 0!==e?e:""}}],n&&gr(t.prototype,n),r&&gr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(tr);function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lr(r.key),r)}}function xr(){return xr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ar(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xr.apply(this,arguments)}function Cr(e,t){return Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cr(e,t)}function Pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ar(e);if(t){var i=Ar(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Tr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}(this,n)}}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ar(e){return Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ar(e)}function Ir(e,t,n){return(t=Lr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e){var t=function(e,t){if("object"!==Tr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tr(t)?t:String(t)}var jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cr(e,t)}(o,e);var t,n,r,i=Pr(o);function o(e,t,n,r,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Ir(Or(s=i.call(this,e,t,n,r,a)),"aalink",[]),Ir(Or(s),"fathom",[]),Ir(Or(s),"element",null),Ir(Or(s),"carousel_num",0),Ir(Or(s),"link",null),Ir(Or(s),"url",""),s.aalink=e,s.fathom=t,s.element=n,s.carousel_num=r,s.link=a,s.url=a.getAttribute("href"),s}return t=o,(n=[{key:"parse",value:function(){var e,t={carouselId:null!==(e=this.element.getAttribute("data-displayid"))&&void 0!==e?e:"0",carouselContentType:"brand",carouselModel:"brand",carouselLink:this.url,rowHeaderTitle:unescape(this.aalink[3]),contentBrand:this.aalink[0],posColNum:this.aalink[1].toString(),posRowNum:xr(Ar(o.prototype),"getPosRowNum",this).call(this),contentLocked:0,targetURL:this.url,screenName:utag_data.screenName,discoveryType:"carousel"};return xr(Ar(o.prototype),"trackAction",this).call(this,s.Z.isDomestic()?"trackBrandCarouselSelect":"trackBrandTileSelect",t),!1}}])&&Er(t.prototype,n),r&&Er(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(tr);function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zr(r.key),r)}}function Rr(){return Rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Br(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rr.apply(this,arguments)}function Dr(e,t){return Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dr(e,t)}function Zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Br(e);if(t){var i=Br(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fr(e)}(this,n)}}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Br(e)}function Ur(e,t,n){return(t=zr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zr(e){var t=function(e,t){if("object"!==Nr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nr(t)?t:String(t)}var $r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dr(e,t)}(o,e);var t,n,r,i=Zr(o);function o(e,t,n,r,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Ur(Fr(s=i.call(this,e,t,n,r,a)),"aalink",[]),Ur(Fr(s),"fathom",[]),Ur(Fr(s),"element",null),Ur(Fr(s),"carousel_num",0),Ur(Fr(s),"link",null),Ur(Fr(s),"url",""),s.aalink=e,s.fathom=t,s.element=n,s.carousel_num=r,s.link=a,s.url=a.getAttribute("href"),s}return t=o,(n=[{key:"parse",value:function(){var e,t,n=this.fathom.includes("movie"),r=this.link.getAttribute("data-genre"),i=this.link.closest("section"),a=i.getAttribute("data-carouselid"),s=n?"movie":"show";s=this.fathom.includes("brand")?"brand":s;var l=i.getAttribute("data-model"),u=this.aalink[4].split("-").join(" ");return u=u.toLowerCase().split(" ").map})).join(" "),{pageType:"front_door",carouselId:a,carouselContentType:s,carouselModel:l,carouselLink:this.url,regionalCode:this.aalink[0].toString(),rowHeaderTitle:Rr(Br(o.prototype),"getCleanTitle",this).call(this),posColNum:Number(this.aalink[3]).toString(),posRowNum:Rr(Br(o.prototype),"getPosRowNum",this).call(this),showSeriesId:n?"":this.link.getAttribute("id"),showTitle:n?"":this.aalink[4],showSeriesTitle:n?"":this.aalink[4],movieId:n?this.link.getAttribute("id"):"",movieTitle:n?u:"",contentBrand:null!==(e=this.aalink[10])&&void 0!==e?e:"na",contentBadgeLabel:null!==(t=this.aalink[13])&&void 0!==t?t:"undefined",contentLocked:this.aalink[23]?this.aalink[23]:"",movieGenre:r}}}])&&Mr(t.prototype,n),r&&Mr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(tr);function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xr(r.key),r)}}function Gr(e,t){return Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gr(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jr(e);if(t){var i=Jr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wr(e)}(this,n)}}function Wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jr(e)}function Yr(e,t,n){return(t=Xr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xr(e){var t=function(e,t){if("object"!==Hr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hr(t)?t:String(t)}var Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gr(e,t)}(o,e);var t,n,r,i=Vr(o);function o(e,t,n,r,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Yr(Wr(s=i.call(this,e,t,n,r,a)),"aalink",[]),Yr(Wr(s),"fathom",[]),Yr(Wr(s),"element",null),Yr(Wr(s),"carousel_num",0),Yr(Wr(s),"link",null),Yr(Wr(s),"url",""),s.aalink=e,s.fathom=t,s.element=n,s.carousel_num=r,s.link=a,s.url=a.getAttribute("href"),s}return t=o,(n=[{key:"parse",value:function(){var e=this.fathom.includes("movie"),t=this.link.getAttribute("data-genre"),n=this.aalink[10];return n=""!==n?n:"na",{rowHeaderTitle:"You May Also Like",pageType:"movie",movieId:e?this.link.getAttribute("id"):"",movieTitle:e?this.aalink[4]:"",movieGenre:t,posColNum:Number(this.aalink[3]).toString(),posRowNum:this.carousel_num.toString(),showSeriesId:e?"":this.link.getAttribute("id"),showSeriesTitle:e?"":this.aalink[4],contentBrand:n,contentLocked:this.aalink[17]}}}])&&qr(t.prototype,n),r&&qr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(tr);function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ai(r.key),r)}}function ti(e,t){return ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ti(e,t)}function ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii(e);if(t){var i=ii(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ri(e)}(this,n)}}function ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ii(e)}function oi(e,t,n){return(t=ai(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e){var t=function(e,t){if("object"!==Qr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qr(t)?t:String(t)}var si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ti(e,t)}(o,e);var t,n,r,i=ni(o);function o(e,t,n,r,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),oi(ri(s=i.call(this,e,t,n,r,a)),"aalink",[]),oi(ri(s),"fathom",[]),oi(ri(s),"element",null),oi(ri(s),"carousel_num",0),oi(ri(s),"link",null),oi(ri(s),"url",""),s.aalink=e,s.fathom=t,s.element=n,s.carousel_num=r,s.link=a,s.url=a.getAttribute("href"),s}return t=o,(n=[{key:"parse",value:function(){var e=this.link.getAttribute("data-genre"),t=this.aalink[10];return t=""!==t?t:"na",{rowHeaderTitle:"Extras",pageType:"movie",movieId:this.link.getAttribute("id"),movieTitle:this.aalink[4],movieGenre:e,posColNum:Number(this.aalink[3]).toString(),posRowNum:this.carousel_num.toString(),contentBrand:t,movieSectionTitle:"home"}}}])&&ei(t.prototype,n),r&&ei(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(tr);n(50773);function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){mi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yi(r.key),r)}function hi(e,t){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hi(e,t)}function fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gi(e);if(t){var i=gi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vi(e)}(this,n)}}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gi(e)}function mi(e,t,n){return(t=yi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e){var t=function(e,t){if("object"!==li(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===li(t)?t:String(t)}var bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}(o,e);var t,n,r,i=fi(o);function o(e,t,n,r,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),mi(vi(s=i.call(this,e,t,n,r,a)),"aalink",[]),mi(vi(s),"fathom",[]),mi(vi(s),"element",null),mi(vi(s),"carousel_num",0),mi(vi(s),"link",null),mi(vi(s),"url",""),s.aalink=e,s.fathom=t,s.element=n,s.carousel_num=r,s.link=a,s.url=a.getAttribute("href"),s}return t=o,(n=[{key:"parse",value:function(){var e,t,n=null!==(e=this.aalink[4])&&void 0!==e?e:"undefined";n="CBS News"===n?"CBS News Local":n;var r=null===(t=this.link)||void 0===t||null===(t=t.querySelector(".new-item"))||void 0===t?void 0:t.textContent,i={regionalCode:this.aalink[0].toString(),rowHeaderTitle:unescape(pi(gi(o.prototype),"getCleanTitle",this).call(this)),posColNum:Number(this.aalink[3]).toString(),posRowNum:pi(gi(o.prototype),"getPosRowNum",this).call(this),contentBrand:this.aalink[10],liveTvChannel:n,channelCode:"on now"===this.aalink[0]?this.aalink[16]:"undefined",ctaText:this.aalink[2],showBadgeLabel:this.aalink[5],showSeriesId:"-1"!==this.aalink[11]?this.aalink[11]:"",showSeriesTitle:this.aalink[4],targetURL:this.url,targetType:this.aalink[2]+"|"+this.url,contentBadgeLabel:null!=r?r:""};return Object.keys(i).filter})).reduce}),{})}}])&&di(t.prototype,n),r&&di(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(tr);function _i(e){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(e)}function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){Ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xi(r.key),r)}function Ei(e,t,n){return(t=xi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xi(e){var t=function(e,t){if("object"!==_i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_i(t)?t:String(tar Ai=new WeakMap,Ii=new WeakMap,Li=new WeakMap,ji=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ei(this,"element",null),Ti(this,Ai,{writable:!0,value:null}),Ti(this,Ii,{writable:!0,value:""}),Ti(this,Li,{writable:!0,value:{collectionHubCarousel:hr,CBSNews:bi,Brands:jr,MyList:$r,WatchList:$r,YouMayAlsoLike:Kr,Extras:si}}),t.hasAttribute("has-tracking-listeners")||(t.setAttribute("has-tracking-listeners","true"),this.element=t,Pi(this,Ai,n),this._init())}var t,n,r;return t=e,n=[{key:"_init",value:function(){var e;null===(e=document.getElementsByTagName("body"))||void 0===e||e[0],this._waitForSwiper()}},{key:"_waitForSwiper",value:function(){var e,t=this;Ci(this,Ai).options.data?(this._addListeners(),null===(e=Ci(this,Ai))||void 0===e||null===(e=e.swiper)||void 0===e||e.on("slideNextTransitionEnd",(function(){t._addListeners()}))):Ci(this,Ai).getWrapper().on("videoDataLoad",(function(){var e;t._addListeners(),null===(e=Ci(t,Ai))||void 0===e||null===(e=e.swiper)||void 0===e||e.on("slideNextTransitionEnd",(function(){t._addListeners()}))}))}},{key:"_getCarouselType",value:function(e){return CBS.Registry.news?"CBSNews":Array.isArray(e)&&"collectionHubCarousel"===(null==e?void 0:e.at(0))?e.at(0):Ci(this,Ii).replace("'","").replace(/\s/g,"").replace("","").trim()}},{key:"_getCarouselNum",value:function(e){e=e.toLowerCase();var t=0,n=document.querySelectorAll(".video-section-title");return e=e.toLowerCase(),n.forEach((function(n,r){n.textContent.replace("'","").replace(/\s/g,"").replace("","").trim().toLowerCase()===e&&(t=r+1)})),t}},{key:"getCurrentPageRowPosition",value:function(){var e=$(this.element),t=$(".hero__wrapper, .grid-view, .js-le-carousel"),n=e.parents(".js-le-carousel");0===n.length&&(n=e.parents(".grid-view"));var r=null;return t.each((function(e,t){$(t).html()===n.html()&&(r=e)})),r.toString()}},{key:"_getCarouselTitle",value:function(){var e;return(null===(e=this.element.querySelector("h2.video-section-title"))||void 0===e?void 0:e.textContent).replace("'","").replace(/\s/g,"").replace("","").trim()}},{key:"_addListeners",value:function(){var e,t,n,r=this;Pi(this,Ii,null!==(e=null===(t=this.element.closest(".carousel"))||void 0===t||null===(t=t.querySelector("h2.video-section-title"))||void 0===t?void 0:t.textContent)&&void 0!==e?e:"");var i=null===(n=this.element)||void 0===n?void 0:n.querySelectorAll("a.link");i&&i.length>0&&i.forEach((function(e){var t,n,i,o;if(!e.hasAttribute("has-tracking-listeners")){e.setAttribute("has-tracking-listeners","true");var a,s=e.getAttribute("aa-link"),l=null!==(t=null==s?void 0:s.split("|"))&&void 0!==t?t:[],u=null===(n=e.querySelector(".info-wrapper .title-wrapper .title"))||void 0===n||null===(n=n.textContent)||void 0===n?void 0:n.trim(),c=null==u?void 0:u.split("|"),d=null!==(i=null==e||null===(o=e.dataset)||void 0===o||null===(o=o.fathom)||void 0===o?void 0:o.split("|"))&&void 0!==i?i:[],p=[];(null==c?void 0:c.length)>1?l.forEach})):p=null!==(a=null==s?void 0:s.split("|"))&&void 0!==a?a:[],e.addEventListener("click",(function(t){var n;if("INPUT"!=t.target.tagName&&"LABEL"!=t.target.tagName){var i,o=r._getCarouselType(p),a=r.getCurrentPageRowPosition();if((null===(n=(i=Ci(r,Li).hasOwnProperty(o)?new(Ci(r,Li)[o])(p,d,r.element,a,e).parse():new kr(p,d,r.element,a,e).parse()).carouselId)||void 0===n||!n.includes("avatar-carousel"))&&!1!==i){var s;window.localStorage.setItem("metadata-video-tracking",JSON.stringify(i));var l,u=window.location.href,c=u.indexOf("shows")>-1?"trackShowContent":"trackRowHeader";c=u.indexOf("/collections/")>-1?"trackHubRowHeader":c,i.PPlusSubscriberBadge=CBS.Registry.user.id?"0":"1",$(r.element).parents(".kids-carousel").length?(c="trackCharacterCarouselSelect",i.carouselId=Number(p[2]).toString(),i.carouselContentType=p[6],i.carouselModel=p[7],i.carouselLink=e.getAttribute("href"),i.characterTitle=p[8],i.contentBrand="na",i.characterFileName=String(p[4]),i.showSeriesTitle="",i.showTitle="",i.showSeriesId="",i.showSeasonNumber="",i.showEpisodeNumber="",i.showEpisodeLabel="na"):(c=CBS.Registry.homepage?"trackCarouselSelect":c,"control"!==(null===(l=CBS)||void 0===l||null===(l=l.AbTestsConfigs)||void 0===l||null===(l=l.modules)||void 0===l||null===(l=l.HubNavItemLinks)||void 0===l?void 0:l.active_variant)&&-1!=u.indexOf("/gr/collections/")&&(c="trackCarouselSelect")),CBS.Registry.homepage||(CBS.Registry.videopage?null!=CBS.Registry.Show.id?c="trackShowContent":CBS.Registry.livetv?c="trackLiveVideoRowHeader":"YouMightAlsoLike"===r._getCarouselType(p)||"Extras"===r._getCarouselType(p)?c="trackRowHeader":(c="trackVideoRowHeader",CBS.Registry.kidsLanding&&(c="trackContentGridSelect",i.posRowNum="1",i.posColNum=(Number(i.posColNum)-1).toString())):(CBS.Registry.kidsLanding&&(c="trackContentGridSelect",i.posRowNum="1",i.posColNum=(Number(i.posColNum)-1).toString()),CBS.Registry.search&&(c="trackSearchCarouselSelect",i.posRowNum=r.getCurrentPageRowPosition(),i.searchFilterInView=r.__getPreSearchSuggestionFilters()),"CBS"!==CBS.Registry.brand.name&&"SHOWHOME"!=CBS.Registry.pageType||(c="trackShowContent",i.posRowNum=r.getCurrentPageRowPosition()),CBS.Registry.news&&(c="trackNewsRowHeader"),CBS.Registry.mylist&&(c="trackCarouselSelect",i.posRowNum=r.getCurrentPageRowPosition())));var h=$(r).find(".new-item").text();if(h&&(i=Si(Si({},i),{},{contentBadgeLabel:h,posRowNum:r.getCurrentPageRowPosition()})),window.localStorage.setItem("metadata-video-tracking",JSON.stringify(i)),null!==(s=p[0])&&void 0!==s&&s.toLowerCase().includes("movies")&&"show"!==i.carouselContentType){var f={movieTitle:d[5],movieId:p[16],showGenre:""};delete(i=Si(Si({},i),f)).showSeriesTitle,delete i.showSeriesId}"promoTile"==p[1]&&(c="trackPromoTileSelect",i={promoSpotTitle:p[0],ctaText:p[2],rowHeaderTitle:i.rowHeaderTitle,carouselId:i.carouselId,carouselContentType:"promo_"+p[6],carouselModel:i.carouselModel,carouselLink:i.carouselLink,posRowNum:i.posRowNum,posColNum:i.posColNum,hubId:p[5],showSeriesId:p[16],contentLocked:p[23]});var v=$(r.element).find(".promoInfo");if(v.length){var m,y=null!==(m=v.parents("a.link").attr("aa-link").split("|"))&&void 0!==m?m:[];i.promoSpotTitle=y[0],"promoTile"!==p[1]&&(i.posColNum=parseInt(i.posColNum)+1)}else i.promoSpotTitle=" ";(0,g.X2)(c,i)}}}))}}))}},{key:"__getPreSearchSuggestionFilters",value:function(){var e=document.querySelectorAll(".presearch-genre"),t=[];return e.forEach})),t}}],n&&ki(t.prototype,n),r&&ki(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(98486);function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Di(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Di(o)?o:String(o)),r)}var i,o}function Ri(e,t,n){return t&&Mi(e.prototype,t),n&&Mi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Di(e){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}var Zi={common:{"X-Requested-With":"XMLHttpRequest"}};function Fi(e,t,n){!t||"object"!==Di(t)||t instanceof Date||t instanceof File?e.append(n,t):Object.keys(t).forEach((function(r){Fi(e,t[r],n?"".concat(n,"[").concat(r,"]"):r)}))}var Bi=function(){function e(){Ni(this,e),this.regionBaseUrl="",this.regionBaseUrl=CBS.Registry.region.prefix}return Ri(e,[{key:"doPost",value:function(e,t){var n=this,r=new Ui,i=new FormData;return Fi(i,t),new Promise((function(o,a){if("object"!==Di(t))return r.setSuccess(!1).setMessage("submitted data is not an object"),void o(r.getResponse());re().post(n.regionBaseUrl+e,i,{maxContentLength:1/0,maxBodyLength:1/0,headers:Zi}).then((function(e){r.handleResponse(e),o(r.getResponse())})).catch((function(e){r.handleError(e),a(r.getResponse())}))}))}},{key:"doGet",value:function(e,t){var n=this,r=new Ui,i={headers:Zi};return t&&(i.params=t),new Promise((function(t,o){re().get(n.regionBaseUrl+e,i).then((function(e){r.handleResponse(e),t(r.getResponse())})).catch}))}))}}]),e}(),Ui=function(){function e(){Ni(this,e),this.success="",this.message="",this.data={},this.errors={},this.errorMessages={}}return Ri(e,[{key:"setSuccess",value:function(e){return this.success=e,this}},{key:"getSuccess",value:function(){return this.success}},{key:"setMessage",value:function(e){return this.message=e,this}},{key:"getMessage",value:function(){return this.message}},{key:"setData",value:function(e){var t=["success","message"];if("object"!==Di(e))false;else for(var n in this.data=e,e)e.hasOwnProperty(n)&&-1===t.indexOf(n)&&(this.data[n]=e[n])}},{key:"getData",value:function(){return this.data}},{key:"setError",valu}},{key:"getErrors",value:function(){return this.errors}},{key:"getErrorMessages",value:function(){return this.errorMessages}},{key:"setErrors",value:function(e){this.errors=e}},{key:"setErrorMessages",value:function(e){this.errorMessages=e}},{key:"handleResponse",value:function(e){if("object"===Di(e))if(void 0!==e.data)if("object"===Di(e.data)){if(void 0!==e.data.success)return e.data.success?void this.setSuccess(!0).setMessage(e.data.message?e.data.message:"").setData(e.data):(this.setError(e.data.message?e.data.message:"no error provided"),this.setErrors(e.data.errors),e.data.errorMessages&&this.setErrorMessages(e.data.errorMessages),void this.setData(e.data));this.setError("success was not provided in the response")}else this.setError("response data is not an object: ",e.data);else this.setError("no data in the response");else this.setError("response was not an object")}},{key:"handleError",value:function(e){this.setSuccess(!1).setMessage(e.message)}},{key:"getResponse",valu}}]),e}(),zi=n(59074),$i=n.n(zi);function Hi(e){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(e)}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Hi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Hi(o)?o:String(o)),r)}var i,o}var Gi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._=null,this._closeBtn=null,this._timeout=null,this._resizeHandler=null,this.elHeader=document.querySelector("header").firstElementChild,this.autoCloseTimeout=1e4,this.visible=!1,this.closeable=!0,this.message="",this.success=!0,this.init()}var t,n,r;return t=e,n=[{key:"init",value:function(){var e=this,t=document.body,n=document.createRange().createContextualFragment($i()());t.insertBefore(n,t.firstElementChild),this._=t.querySelector("div.notification-bar-wrapper"),this._closeBtn=this._.querySelector("span.icon.close"),this._closeBtn.addEventListener("click",(function(){return e.hideMessage()}))}},{key:"showMessage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.visible)return this.closeable||this.extendAutoHide(),!1;var i=this._.querySelector("span.notification"),o=this._.querySelector("div.notification-bar"),a=o.classList;i.innerHTML=t,n?(a.remove("negative"),a.add("positive")):(a.remove("positive"),a.add("negative")),r?a.add("closeable"):(a.remove("closeable"),this.setAutoHide(),o.addEventListener("mouseenter"})),o.addEventListener("mouseleave",(function(){return e.setAutoHide()}))),this._resizeHandler=function(){return o.style.setProperty("top",e.calculateTopProperty())},window.addEventListener("resize",this._resizeHandler),this._scrollHandler=function(){"visible"===window.getComputedStyle(o).visibility&&e.hideMessage()},window.addEventListener("scroll",this._scrollHandler),o.style.setProperty("top",this.calculateTopProperty()),o.classList.remove("invisible"),this.visible=!0,this.closeable=r}},{key:"hideMessage",value:function(){var e=this._.querySelector("div.notification-bar");e.style.removeProperty("top"),e.classList.add("invisible"),this.visible=!1,window.removeEventListener("resize",this._resizeHandler)}},{key:"setAutoHide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4500;this.autoCloseTimeout=t,this._timeout=setTimeout((function(){return e.hideMessage()}),this.autoCloseTimeout)}},{key:"extendAutoHide",value:function(){clearTimeout(this._timeout),this.setAutoHide()}},{key:"isVisible",value:function(){return this.visible}},{key:"calculateTopProperty",value:function(){return this.isHeaderVisible()?this.isMobileLandscapeMax()?"40px":"56px":"0px"}},{key:"isHeaderVisible",value:function(){var e=window.getComputedStyle(this.elHeader.parentElement);return parseInt(e.getPropertyValue("top"))>=0}},{key:"isMobileLandscapeMax",value:function(){var e=new pt;return e.isMobilePortrait()||e.isMobileLandscape()}}],n&&qi(t.prototype,n),r&&qi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Vi=n(29828);function Wi(e){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(e)}function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){Xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Wi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ki(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.length){var n=e.find(".spotlight-link"),r=n.attr("aa-link").split("|");if(r){var i,o,a,s,l,u,c,d,p,h,f,v,g,m,y={carouselPresentationStyle:"spotlight",clientTimestamp:Date.now(),videoId:null!==(i=r[25])&&void 0!==i?i:"",videoPreviewId:null!==(o=r[18])&&void 0!==o?o:"",streamStartTimestamp:null!==(a=r[26])&&void 0!==a?a:"",streamEndTimestamp:null!==(s=r[27])&&void 0!==s?s:"",contentStatus:null!==(l=r[28])&&void 0!==l?l:"",rowHeaderTitle:null!==(u=r[4])&&void 0!==u?u:"",spliceEnabled:"0",ctaText:e.find(".spotlight-button:visible .button__text").text(),carouselId:null!==(c=e.data("carouselid"))&&void 0!==c?c:"",isHighlightEnabled:"false",carouselContentType:"event",carouselModel:"Promotion",carouselLink:null!==(d=n.attr("href"))&&void 0!==d?d:"",posRowNum:null!==(p=e.data("position"))&&void 0!==p?p:"",showSeriesId:null!==(h=r[6])&&void 0!==h?h:"",showSeriesTitle:null!==(f=r[14])&&void 0!==f?f:"",showEpisodeTitle:null!==(v=r[5])&&void 0!==v?v:"",showEpisodeId:null!==(g=r[20])&&void 0!==g?g:"",showSeasonNumber:null!==(m=r[7])&&void 0!==m?m:""};return t=Yi(Yi({},t),y)}}}function Qi(e){return Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(e)}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,no(r.key),r)}}function to(e,t,n){return(t=no(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function no(e){var t=function(e,t){if("object"!==Qi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qi(t)?t:String(t)}var ro=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),to(this,"ACTION_ADD","trackReminderSelect"),to(this,"ACTION_REMOVE","trackReminderDeSelect"),to(this,"CONTENT_TYPE_SHOW","show"),to(this,"CONTENT_TYPE_MOVIE","movie"),to(this,"MOVIE_SECTION_TITLE","home"),this._om=window.om,this.isShow=t.contentType===this.CONTENT_TYPE_SHOW,this.showTrackingData={showSeriesId:t.contentId,showSeriesTitle:t.contentTitle,contentBrand:""!==t.contentBrand?t.contentBrand:"na",showGenre:""!==t.contentGenre?t.contentGenre:"na",pageType:CBS.Registry.homepage?"front_door":this.CONTENT_TYPE_SHOW},this.movieTrackingData={movieSectionTitle:this.MOVIE_SECTION_TITLE,movieId:t.contentId,movieTitle:t.contentTitle,pageType:CBS.Registry.homepage?"front_door":this.CONTENT_TYPE_MOVIE};var r=$(n).parents(".spotlight-carousel-container");r.length&&(this.showTrackingData=Ki(r,this.showTrackingData),this.movieTrackingData=Ki(r,this.movieTrackingData))}var t,n,r;return t=e,(n=[{key:"trackStateChangeAction",value:function(e){this._om&&this._om.trackAction(e?this.ACTION_ADD:this.ACTION_REMOVE,this.isShow?this.showTrackingData:this.movieTrackingData)}}])&&eo(t.prototype,n),r&&eo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lo(r.key),r)}}function so(e,t,n){return(t=lo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e){var t=function(e,t){if("object"!==io(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===io(t)?t:String(t)}var uo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),so(this,"INITIALIZED_CLASS","initialized"),so(this,"WRAPPER_ELEMENT",".content_preference_wrapper"),so(this,"CTA_ELEMENT",".contentPreferenceCta"),so(this,"NOTIFICATION_GRANTED","granted"),so(this,"WRAPPER_PARENT",".cta-box"),so(this,"NOTIFICATION_NOT_SUPPORTED_CLASS","notification-ns"),this.container=null!=t?t:null,this.cta=null,this._http=new Bi,this._tracking=null,this.contentData={},this.init()}var t,n,r;return t=e,n=[{key:"init",value:function(){var t=this;return e.browserIsNotificationCapable()?(this.container=this.container?this.container.querySelector(this.WRAPPER_ELEMENT):document.querySelector(this.WRAPPER_ELEMENT),!!this.container&&(this._notificationBar=new Gi,this.cta=this.container.querySelector(this.CTA_ELEMENT),this.contentDat}({},this.cta.dataset),this.contentData.notifyOn="true"===this.contentData.notifyOn.toLowerCase(),this.container.classList.add(this.INITIALIZED_CLASS),this.cta.addEventListener("click",(function(e){e.preventDefault(),t.ctaClick()})),CBS.Promises.Tracking.onLoad})),this.updateUi(),void this.triggerPageView())):(this.massageCtaContainer(),!1)}},{key:"updateUi",value:function(){this.contentData.notifyOn?this.cta.classList.add(e.NOTIFY_ON_CLASS):this.cta.classList.remove(e.NOTIFY_ON_CLASS)}},{key:"ctaClick",value:function(){var t=this;return!this._notificationBar.isVisible()&&(Notification.permission!==this.NOTIFICATION_GRANTED?(this.showToast(e.CTA_ERROR_NOTIFICATIONS_DISABLED_COPY,!1),!1):void this.execXhrCall(this.contentData.notifyOn?this.contentData.contentRemoveUrl:this.contentData.contentAddUrl,this.contentData.contentTitle).then((function(e){t.contentData.notifyOn=e.data.success?!t.contentData.notifyOn:t.contentData.notifyOn,t.updateUi(),t.showToast(e.data.message,e.data.success),t._tracking.trackStateChangeAction(t.contentData.notifyOn)})).catch})))}},{key:"execXhrCall",value:function(e,t){return this._http.doGet("".concat(CBS.Registry.region.prefix).concat(e,"?title=").concat(t))}},{key:"showToast",value:function(e,t){this._notificationBar.showMessage(e,t),this._notificationBar.setAutoHide(3e3)}},{key:"triggerPageView",value:function(){(0,Vi.onShowMoviePageView)(this.contentData.contentType,{triggerIAMNewContent:!0,notificationEnabled:Notification.permission===this.NOTIFICATION_GRANTED})}},{key:"massageCtaContainer",value:function(){var e=document.querySelector(this.WRAPPER_PARENT);void 0!==e&&e.classList.add(this.NOTIFICATION_NOT_SUPPORTED_CLASS)}}],r=[{key:"browserIsNotificationCapable",valu}}],n&&ao(t.prototype,n),r&&ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();so(uo,"NOTIFY_ON_CLASS","notify_on"),so(uo,"CTA_ERROR_COPY","Oops! That didn't work. Please try again later."),so(uo,"CTA_ERROR_NOTIFICATIONS_DISABLED_COPY","Oops! That didn't work. Please enable site notifications and try again later.");n(47023),n(98831);var co=n(7175),po=n.n(co);function ho(e){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(e)}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==ho(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===ho(o)?o:String(o)),r)}var i,o}var vo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._=null,this._tooltipTimeOut=4500,this._resizeHandler=null,this.inMoviePage=t,this.isVisible=!1,this.initialTopProperty=null,this.timeout=null,this.elHeader=document.querySelector("header"),this.elMainContainer=document.querySelector("#main-container"),this.init()}var t,n,r;return t=e,n=[{key:"init",value:function(){var e=document.createRange().createContextualFragment(po()());this.elHeader.insertBefore(e,this.elHeader.firstElementChild),this._=this.elHeader.firstElementChild}},{key:"setMessage",valu}},{key:"slideIn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isVisible?this.extendTimeout():(t&&this.setMessage(t),this.setTooltipWidthAndMargins(),this.initialTopProperty=this._.style.getPropertyValue("top"),this.setTooltipTopProperty(),this._.style.setProperty("visibility","visible"),this.isVisible=!0,this._resizeHandler=function(){e.setTooltipWidthAndMargins(),e.setTooltipTopProperty()},window.addEventListener("resize",this._resizeHandler),this.timeout=this.createTimeout())}},{key:"setTooltipTopProperty",value:function(){var e="43px";if(this.inMoviePage)if(this.isHeaderVisible()){var t=this.elMainContainer.getBoundingClientRect().top+3;e="".concat(t,"px")}else e="5px";this._.style.setProperty("top",e)}},{key:"setTooltipWidthAndMargins",value:function(){var e=this.calculateTooltipWidth(),t=this.calculateTooltipLeftMargin();this._.style.setProperty("width","calc(100% - ".concat(e,"px)")),this._.style.setProperty("margin","0 ".concat(t))}},{key:"calculateTooltipWidth",value:function(){var e=this.elHeader.querySelector(".header__wrap"),t=window.getComputedStyle(e).getPropertyValue("padding-left"),n=window.getComputedStyle(this._).getPropertyValue("padding-left");return 2*(parseInt(t)+parseInt(n))}},{key:"calculateTooltipLeftMargin",value:function(){var e=this.elHeader.querySelector(".header__wrap");return window.getComputedStyle(e).getPropertyValue("padding-left")}},{key:"isHeaderVisible",value:function(){var e=this.elHeader;return"hidden"!==window.getComputedStyle(e).getPropertyValue("visibility")}},{key:"createTimeout",value:function(){var e=this,t=this,n=this._;return setTimeout((function(){n.style.setProperty("top",t.initialTopProperty),n.style.removeProperty("visibility"),e.isVisible=!1,e.initialTopProperty=null,window.removeEventListener("resize",e._resizeHandler)}),this._tooltipTimeOut)}},{key:"extendTimeout",valu}}],n&&fo(t.prototype,n),r&&fo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==go(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===go(o)?o:String(o)),r)}var i,o}var yo=function(}var t,n,r;return t=e,n=[{key:"trackAddAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._om.trackAction("trackAddWatchlist",e)}},{key:"trackRemoveAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._om.trackAction("trackRemoveWatchlist",e)}},{key:"trackApiError",valu}}],n&&mo(t.prototype,n),r&&mo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(54074),n(59223);function bo(e){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(e)}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,To(r.key),r)}}function ko(e,t,n){return(t=To(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function To(e){var t=function(e,t){if("object"!==bo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bo(t)?t:String(t)}var Eo="show",xo="movie",Co=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.content=null,this.contentType=null,this.contentId=null,this._=t,this._cta=null,this._tooltipTime=4500,this._tooltipTimeout=null,this._http=new Bi,this._notificationBar=null,this._floatingTooltip=null,this._tracking=null,this._apiErrorMsg=(0,y.Kd)("sorry_we_cant_add_or_remove_items_right_now"),this._apiErrorTrackingMessage="API Error",this._limitErrorTrackingMessage="Limit Error",this._isSafari=this.isSafari(),this._referrerUrl=document.referrer,this._actionTrigger=!1,this._aaLink=null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};window.addEventListener("pageshow",(function(t){var n=window.performance?window.performance.toJSON():null;(t.persisted||null!==n&&2===n.navigation.type)&&e()}))}})),window.onpopstat},this.docReady(this.init())}var t,n,r;return t=e,n=[{key:"init",value:function(){var e,t=this;if(this.initTracking(),!this.getComponentElement())return!1;t._=this.getComponentElement(),this.abtestWatchListData&&(t._=this.abtestWatchlistWrapper),t._cta=t._.querySelector(".watchlistCta"),t._aaLink=null!==(e=t._cta.getAttribute("aa-link"))&&void 0!==e?e:"",t.content=JSON.parse(t._.getAttribute("data-content")),t.contentType=t.content.contentType,t.contentId=t.content.contentId,t.content.on_watchlist=this.isOnWatchlist(),this.abtestWatchListData&&(t.contentType=this.abtestAddToMyListContentype,t.content=this.abtestWatchListData,t.contentId=this.abtestWatchListContentId),this._notificationBar=new Gi,this._floatingTooltip=new vo(this.contentType===xo);var n=this._cta;n.parentElement.addEventListener("click",(function(e){e.preventDefault(),t.ctaClickHandler()})),n.parentElement.addEventListener("mouseenter",(function(){t.showTooltip(),setTimeout((function(){return n.classList.add("hovered")}),80)})),n.parentElement.addEventListener("mouseleave",(function(){return n.classList.remove("hovered")})),n.parentElement.addEventListener("blur"})),this.handleWatchlistCtaState(),n.parentElement.classList.add("initialized"),!1===CBS.Registry.Features.movie_detail_page?n.parentElement.classList.add(t.contentType===Eo?"in_show_page":"in_movie_page_international"):n.parentElement.classList.add(t.contentType===Eo?"in_show_page":"in_movie_page"),n.setAttribute("data-content_type",t.contentType),n.setAttribute("data-content_id",t.contentId)}},{key:"getComponentElement",value:function(){return this._?$(this._).find(".watchlist_wrapper")[0]:document.querySelector("div.watchlist_wrapper")}},{key:"handleWatchlistCtaState",value:function(){var e=this._cta;this.isOnWatchlist().then((function(t){if(t.success){var n=t.data.watchListId;e.setAttribute("data-watchlist_id",n),setTimeout((function(){return e.classList.add("in_watchlist")}),50)}else e.classList.contains("in_watchlist")&&e.classList.remove("in_watchlist")})).catch}))}},{key:"isOnWatchlist",value:function(){var e="".concat(CBS.Registry.region.prefix,"/user-profile/xhr/watchlist/").concat(this.contentType,"/").concat(this.contentId,"/?timestamp=").concat((new Date).getTime());return this._http.doGet(e)}},{key:"ctaClickHandler",value:function(){if(this._actionTrigger)return!1;var e=this._cta;this._actionTrigger=!0,e.classList.contains("in_watchlist")?this.removeFromWatchlist():this.addToWatchlist()}},{key:"showTooltip",value:function(){this._cta.setAttribute("title",this._cta.classList.contains("in_watchlist")?(0,y.Kd)("remove_from_watchlist"):(0,y.Kd)("add_to_watchlist"))}},{key:"showLimitReachedTooltip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this._cta;if(this.isMobileLandscapeMax())this._floatingTooltip.slideIn(e);else{var n=t.parentElement.querySelector("span.tooltip");n.innerHTML="<div>".concat(e,"</div>"),n.classList.add("visible"),this.createTooltipTimeout(n)}this._tracking&&this._tracking.trackApiError(wo({ctaText:this._limitErrorTrackingMessage},this.getTrackingParams()))}},{key:"showErrorMessage",value:function(){this._notificationBar.showMessage(this._apiErrorMsg,!1),this._tracking&&this._tracking.trackApiError(wo({ctaText:this._apiErrorTrackingMessage},this.getTrackingParams()))}},{key:"refreshMYListCarousel",value:function(){var e=document.getElementById("my-list");e&&e.dispatchEvent(new CustomEvent("refreshMyListCarousel",{bubbles:!0,cancelable:!0}))}},{key:"addToWatchlist",value:function(){var e=this,t=this,n=this._cta;return t.watchlistAddXhrCall().then((function(r){if(r.success){if(n.classList.remove("hovered"),n.classList.add("in_watchlist"),t.refreshMYListCarousel(),e._tracking&&e._tracking.trackAddAction(e.getTrackingParams()),e.isReferrerHome()){if(e._isSafari)return window.history.pushState({},"",document.referrer),!0;window.history.replaceState({},document.title,window.location.href)}}else r.data.limit_reached?t.showLimitReachedTooltip(r.message):e.showErrorMessage()})).catch((function(t){e.showErrorMessage(),console.log("Watchlist CTA - ".concat(t.message))})).finally((function(){return e._actionTrigger=!1}))}},{key:"watchlistAddXhrCall",value:function(){var e="".concat(CBS.Registry.region.prefix,"/user-profile/xhr/watchlist/").concat(this.contentType,"/").concat(this.contentId,"/add/");return this._http.doGet(e)}},{key:"removeFromWatchlist",value:function(){var e=this,t=this,n=this._cta;return t.watchlistRemoveXhrCall().then((function(r){if(r.success){if(n.classList.remove("hovered"),n.classList.remove("in_watchlist"),t.refreshMYListCarousel(),e._tracking&&e._tracking.trackRemoveAction(e.getTrackingParams()),e.isReferrerHome()){if(e._isSafari)return window.history.pushState({},"",document.referrer),!0;window.history.replaceState({},document.title,window.location.href)}}else e.showErrorMessage()})).catch((function(t){e.showErrorMessage(),console.log("Watchlist CTA - ".concat(t.message))})).finally}))}},{key:"watchlistRemoveXhrCall",value:function(){var e="".concat(CBS.Registry.region.prefix,"/user-profile/xhr/watchlist/").concat(this.contentType,"/").concat(this.contentId,"/remove/");return this._http.doGet(e)}},{key:"createTooltipTimeout",value:function(e){e.classList.contains("visible")&&clearTimeout(this._tooltipTimeout),this._tooltipTimeout=setTimeout}),this._tooltipTime)}},{key:"isMobileLandscapeMax",value:function(){return(this._isSafari?$(window).width():$(window).outerWidth())<=550}},{key:"isMovie",valu}},{key:"getTrackingParams",value:function(){if(void 0!==this._aaLink){var t=this._aaLink.split("|"),n={};this.abtestWatchListData&&(n=wo(wo({},null==this?void 0:this.abtestAddToMyListMarqueeTrackingObj),{},{slideCycle:e.cycleCount.toString()}));var r=wo({pageType:CBS.Registry.homepage?"front_door":this.isMovie()?"movie":"show",showSeriesId:this.isMovie()?"":this.contentId,showSeriesTitle:this.isMovie()?"":this.content.seriesTitle,showGenre:this.isMovie()?"":this.content.genre,showEpisodeId:this.isMovie()?"":t[16],showEpisodeTitle:this.isMovie()?"":t[5],showEpisodeNumber:this.isMovie()?"":t[7],showSeasonNumber:this.isMovie()?"":t[6],movieId:this.isMovie()?this.contentId:"",movieTitle:this.isMovie()?this.content.title:"",movieGenre:this.isMovie()?this.content.genre:"",contentLocked:t[23]?t[23]:""},n),i=$(this._cta).parents(".spotlight-carousel-container");return i.length&&(r=Ki(i,r)),r}}},{key:"initTracking",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};CBS.Promises.Tracking.onLoad((function(){e._tracking=new yo(e._cta),t()}))}},{key:"isReferrerHome",value:function(){var e=E.Z.getHomePageURL().replaceAll("/",""),t=document.createElement("a");return t.href=this._referrerUrl,(t=t.pathname.replaceAll("/",""))===e}},{key:"isSafari",valu}},{key:"docReady",valu}},{key:"setSlideCycle",valu}},{key:"resetSlideCycle",valu}}],n&&So(t.prototype,n),r&&So(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();ko(Co,"IN_WATCHLIST_CLASS","in_watchlist"),ko(Co,"cycleCount",0);var Po=new Map([["desktopWide",237],["desktop",205.5],["tabletLandscape",192.79],["tabletPortrait",190.5],["mobileLandscape",181.41],["mobilePortrait",118.13]]),Oo=new Map([["desktopWide",421],["desktop",364.8],["tabletLandscape",342.75],["tabletPortrait",339],["mobileLandscape",322.5],["mobilePortrait",210]]),Ao=new Map([["desktopWide",156],["desktop",134.44],["tabletLandscape",126.42],["tabletPortrait",122.42],["mobileLandscape",117],["mobilePortrait",71.72]]),Io=new Map([["desktopWide",277.5],["desktop",239],["tabletLandscape",224.75],["tabletPortrait",217.66],["mobileLandscape",208],["mobilePortrait",127.5]]),Lo=new Map([["desktopWide",308.44],["desktop",218.44],["tabletLandscape",219.75],["tabletPortrait",189.89],["mobileLandscape",148.13],["mobilePortrait",122.48]]),jo=new Map([["desktopWide",205.63],["desktop",145.63],["tabletLandscape",146.5],["tabletPortrait",126.59],["mobileLandscape",98.75],["mobilePortrait",81.66]]),No=new Map([["desktopWide",47.5],["desktop",47.5],["tabletLandscape",20],["tabletPortrait",20],["mobileLandscape",10],["mobilePortrait",10]]);function Mo(e){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(e)}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){Uo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zo(r.key),r)}}function Uo(e,t,n){return(t=zo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zo(e){var t=function(e,t){if("object"!==Mo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mo(t)?t:String(t)}var $o=new pt,Ho=!1,qo=function(){function e(t,n){var r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Uo(this,"debounceScrollCallback"})),Uo(this,"initScroll"})),Uo(this,"__getNextSibling",(function(e,t){var n=e.nextElementSibling;if(!t)return n;for(;n;){var r=window.getComputedStyle(n);if(n.matches(t)&&"none"!==r.getPropertyValue("display"))return n;n=n.nextElementSibling}})),this.elem=t,this.carousel=n,this.swiper=null==n?void 0:n.swiper,this.carouselContainer=this.elem.querySelector(".carousel-container"),this.defaultHeights=this.carouselContainer.classList.contains("portrait-cards")?Lo:Ao,this.defaultWidths=this.carouselContainer.classList.contains("portrait-cards")?jo:Io,this.carouselElements=this.carouselContainer.querySelectorAll(".swiper-slide-visible"),this._http=new Bi,this.init(this.carouselElements),this.__initializeSwiperEvents(),this.__setUpTrackingCarousel(),this.currentSlidesPerView=null!==(r=this.carousel.lastBreakPoint.slidesPerView)&&void 0!==r?r:null,this.debounceScrollHandler=this.__debounce(this.debounceScrollCallback,250)}var t,n,r;return t=e,n=[{key:"init",value:function(t){for(var n=0;n<t.length;n++){var r=t[n];if(!r.querySelector(".link").getAttribute("aa-link").includes(e.promoTileProperty)){var i=r.querySelector(".thumb-content-highlight-wrapper"),o=i.querySelector(".content-highlight-expanding-container .content-highlight-video-wrapper"),a=this.__getVideo(o),s=i.querySelector("img"),l=i.querySelector(".content-highlight-bottom-components"),u={element:r,thumbWrapper:i,videoWrapper:o,anchorLink:r.querySelector("a.link"),video:a,bottomComponents:l,image:s};e.initScrollService||(this.__initializeHoverSuppressOnScroll(),e.initScrollService=!0),this.__initializeContainerSelectAction(u),this.__initializePrimaryCtaAction(u),this.__initializeMyListCtaAction(u),this.__initializeNotificationCtaAction(u),this.__initializeEvents(u),this.__initializeDynamicShowContentID(u)}}}},{key:"__initializeHoverSuppressOnScroll",valu}},{key:"__initializeDynamicShowContentID",value:function(t){var n=t.thumbWrapper,r=t.video;if(r&&!r.querySelector("source")){var i,o=null!==(i=n.getAttribute("data-showId"))&&void 0!==i?i:n.getAttribute("data-href").split("/")[3];if(e.showMovieContentIdCache.has(o)){var a=document.createElement("source"),s="https://splice.amlg.io/api/v2/video/".concat(e.showMovieContentIdCache.get(o),"/preview/low69.mp4");a.setAttribute("src",s),r.appendChild(a)}}}},{key:"__getVideo",valu}},{key:"__setUpTrackingCarousel",value:function(){var e;this.sectionContainer=this.elem.closest(".js-le-carousel"),this.carouselId=this.elem.getAttribute("id"),this.carouselModel=this.sectionContainer.getAttribute("data-model"),this.rowHeaderTitle=this.sectionContainer.querySelector(".video-section-title").innerHTML.trim(),this.posRowNum=null!==(e=this.sectionContainer.getAttribute("data-position"))&&void 0!==e?e:1}},{key:"__initializeContainerSelectAction",value:function(e){var t=arguments,n=this,r=e.thumbWrapper;e.element,e.video,e.videoWrapper,e.anchorLink,r&&na.addListener(r,"click",(function(e){e.target.classList.contains("content-highlight-volume")||(0,g.X2)(n.__getTrackingEventString(),n.__getTrackingSpecs(t[0]))}))}},{key:"__getCurrentPageRowPosition",value:function(){var e=$(this.elem),t=$(".hero__wrapper, .grid-view, .js-le-carousel"),n=e.parents(".js-le-carousel");0===n.length&&(n=e.parents(".grid-view"));var r=null;return t.each((function(e,t){$(t).html()===n.html()&&(r=e)})),r.toString()}},{key:"__setUpHeartbeatTracking",value:function(e){var t,n,r=e.anchorLink,i=e.element,o=null!==(t=r.getAttribute("aa-link").split("|"))&&void 0!==t?t:[],a=null!==(n=r.getAttribute("data-fathom").split("|"))&&void 0!==n?n:[],s=CBS.Registry.homepage?this.sectionContainer.getAttribute("data-position"):this.__getCurrentPageRowPosition(),l=null;CBS.Registry.homepage||"SHOWHOME"===CBS.Registry.pageType?l=new kr(o,a,i,s,r).parse():"movies"===CBS.Registry.pageType&&(l=new Kr(o,a,i,s,r).parse()),l&&window.localStorage.setItem("metadata-video-tracking",JSON.stringify(l))}},{key:"__getTrackingEventString",value:function(){return CBS.Registry.homepage?"trackCarouselSelect":"Related Shows"===this.rowHeaderTitle?"trackShowContent":"You Might Also Like"===this.rowHeaderTitle?"trackRowHeader":void 0}},{key:"__initializePrimaryCtaAction",value:function(e){var t,n=arguments,r=this,i=e.thumbWrapper,o=e.element,a=e.video,s=(e.videoWrapper,e.anchorLink,null!==(t=o.querySelector(".button-content-highlight-play"))&&void 0!==t?t:null),l=s.getAttribute("next-url"),u=s.getAttribute("next-season"),c=s.getAttribute("next-episode"),d=i.getAttribute("data-cta"),p=i.getAttribute("data-href");if(s&&l&&u&&c){var h=!1;na.addListener(s,"click",(function(e){if(!h){e.stopPropagation(),h=!0;var t=r.__getTrackingSpecs.apply(r,Zo(n));return t=Do(Do({},t),{ctaText:d}),(0,g.X2)(r.__getTrackingEventString(),t),(0,g.X2)("trackVideoPreviewEnd",r.__getVideoTracking(n[0],a)),r.__setUpHeartbeatTracking(n[0]),"0"===u?(window.location.href=l,void setTimeout((function(){h=!1}),1e3)):(window.location.href=p,void setTimeout((function(){h=!1}),1e3))}}))}}},{key:"__initializeMyListCtaAction",value:function(e){var t,n=this,r=null!==(t=e.element.querySelector(".content_highlight_watch_list_cta"))&&void 0!==t?t:null;if(this.carousel.options.isMyListCarousel,r){var i=!1;na.addListener(r,"click",(function(t){if(!i){t.stopPropagation(),i=!0;var o=r.parentElement.classList.contains("active");o?(0,g.X2)("trackRemoveWatchList",n.__getTrackingSpecs(e)):(0,g.X2)("trackAddWatchList",n.__getTrackingSpecs(e));var a="".concat(CBS.Registry.region.prefix)+(o?r.getAttribute("href-remove"):r.getAttribute("href-add"));n._http.doGet(a).then((function(t){t.data.success&&n.__spreadState(Co.IN_WATCHLIST_CLASS,r),na.dispatchCustomEvent(e.element,na.MY_LIST_CAROUSEL_EVENT_TYPE),i=!1})).catch}))}}))}}},{key:"__initializeNotificationCtaAction",value:function(e){var t,n,r=this,i=null!==(t=e.element.querySelector(".content_highlight_notify_bell_cta"))&&void 0!==t?t:null,o=null!==(n=e.element.querySelector(".link, .focusable").getAttribute("title"))&&void 0!==n?n:"";if(i){var a=!1;na.addListener(i,"click",(function(t){if(!a){if(t.stopPropagation(),a=!0,!r.isBrowserNotificationGranted())return r.__showToast(uo.CTA_ERROR_NOTIFICATIONS_DISABLED_COPY,!1),void setTimeout((function(){a=!1}),1e3);var n=i.parentElement.classList.contains("active");n?(0,g.X2)("trackReminderDeSelect",r.__getTrackingSpecs(e)):(0,g.X2)("trackReminderSelect",r.__getTrackingSpecs(e));var s="".concat(CBS.Registry.region.prefix)+(n?i.getAttribute("href-remove"):i.getAttribute("href-add"))+"?title="+o;r._http.doGet(s).then((function(e){var t=e.data;t.success&&r.__spreadState(uo.NOTIFY_ON_CLASS,i),r.__showToast(t.message,t.success),a=!1})).catch((function(e){a=!1,r.__showToast(uo.CTA_ERROR_COPY,!1)}))}}))}}},{key:"__initializeEvents",value:function(e){null!=e&&e.thumbWrapper&&(this.__initializeClickEvents(e),this.__initializeMouseOver(e),this.__initializeMouseLeave(e),this.__initializeMouseMoveEvents(e))}},{key:"__initializeMouseMoveEvents",value:function(e){var t=this,n=e.thumbWrapper,r=(e.element,e.video);e.videoWrapper,e.anchorLink,n.addEventListener("mousemove",(function(e){n.querySelector(".content-highlight-video-wrapper:hover, .content-highlight-gradient:hover")&&t.__throttle((function(){n.classList.contains("hide-overlays")&&t.__showOverlays(n,r)}),4e3)()}))}},{key:"__initializeClickEvents",value:function(e){var t=arguments,n=this,r=e.thumbWrapper,i=e.videoWrapper,o=e.video;e.anchorLink,e.elements,r.addEventListener("click",(function(e){var a=e.target.classList;if(r.querySelector(".content-highlight-bottom-components").contains(e.target)&&e.preventDefault(),a.contains("watchlist_copy")||a.contains("notify_copy")||a.contains("button-content-highlight-play")||a.contains("content-highlight-volume")||a.contains("button__text")||"WATCH NOW"===e.target.innerHTML||((0,g.X2)("trackVideoPreviewEnd",n.__getVideoTracking(t[0],o)),n.__setUpHeartbeatTracking(t[0]),window.location.href=r.getAttribute("data-href")),a.contains("content-highlight-volume")){var s=document.getElementById("main-container");i&&(s.classList.contains("volume-unmuted")?(s.classList.remove("volume-unmuted"),(0,g.X2)("trackMutePlayer",n.__getTrackingSpecs.apply(n,Zo(t)))):(s.classList.add("volume-unmuted"),(0,g.X2)("trackUnmutePlayer",n.__getTrackingSpecs.apply(n,Zo(t)))),o.muted=!o.muted,Ho=!Ho)}}),!0)}},{key:"__throttle",valu}},{key:"__initializeSwiperEvents",value:function(){var e=this;this.swiper.on("slideNextTransitionStart"})),this.swiper.on("resize",(function(){var t=this;e.__debounce}),800)()}))}},{key:"__initialResize",value:function(e){this.carousel.lastBreakPoint.slidesPerView>this.currentSlidesPerView&&(this.init(e),this.currentSlidesPerView=this.carousel.lastBreakPoint.slidesPerView)}},{key:"__debounce",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,o)}),r)}}},{key:"__checkBreakpoint",value:function(){var e,t=window.innerWidth||$(window).width(),n=this.carousel.options.responsive;for(var r in n)if(t<r){e=n[r];break}return e}},{key:"__initializeMouseOver",value:function(e){var t=arguments,n=this,r=e.thumbWrapper,i=e.element,o=e.video,a=e.videoWrapper,s=e.anchorLink,l=e.bottomComponents,u=e.image;o&&this.__setVideoEvents(arguments[0]),r.addEventListener("mouseenter",(function(e){document.querySelectorAll(".js-le-carousel").forEach((function(e){n.sectionContainer==e?e.style.zIndex=3:e.style.zIndex=1})),u.classList.contains("playing-video")&&u.classList.remove("playing-video"),n.__getKeepWatchingShowMovieContent.apply(n,Zo(t));var c=r.querySelectorAll("img.delayed-load-image")[0],d=c.getAttribute("content");c.src=d;var p=$o.getCurrentBreakpointName(),h=s.querySelector(".thumb-wrapper"),f=n.__calculateTransition(r,Oo,n.defaultWidths,p,i,"horizontal",h.offsetWidth,l),v=n.__calculateTransition(r,Po,n.defaultHeights,p,i,"vertical",h.offsetHeight,l);f=parseFloat(f)>0?"-".concat(f):"".concat(Math.abs(f)),v=parseFloat(v)>0?"-".concat(v):"".concat(Math.abs(v)),r.style.opacity=1,r.style.transform=" translate(".concat(f,"px, ").concat(v,"px) "),n.__debounce}),820)(),a&&(n.__debounce((function(){return n.__initializeVideo(r,o)}))(),a.classList.contains("content-highlight-video-ended")&&a.classList.remove("content-highlight-video-ended"),a.classList.contains("content-highlight-video-paused")&&a.classList.remove("content-highlight-video-paused"))}))}},{key:"__getKeepWatchingShowMovieContent",value:function(e){var t=this,n=e.thumbWrapper,r=e.video;if(r){var i=r.getAttribute("data-showmoviecontentid");if(i||"keepWatching"!==this.sectionContainer.getAttribute("data-model"))this.__appendVideo(r,i,null,n);else{var o=n.getAttribute("data-showId"),a=null;o?a="/carousels/homepage/dynamicPlay/showId/".concat(o,"/"):(o=n.getAttribute("data-href").split("/")[3],a="/carousels/homepage/dynamicPlay/movieContentId/".concat(o,"/")),a?this._http.doGet(a).then((function(e){var i,a,s,l=e.data,u=null!==(i=null==l||null===(a=l.data)||void 0===a?void 0:a.spliceContentId)&&void 0!==i?i:null==l||null===(s=l.data)||void 0===s?void 0:s.trailer_content_id;u&&t.__appendVideo(r,u,o,n)})):this.__appendVideo(r,i,o,n)}}}},{key:"__appendVideo",value:function(e,t,n,r){var i=e.querySelector("source");if(t&&!i){var o=document.createElement("source"),a="https://splice.amlg.io/api/v2/video/".concat(t,"/preview/low69.mp4");o.setAttribute("src",a),e.appendChild(o)}if(0===e.buffered.length&&(e.currentTime=0),n){var s=window.localStorage.getItem("showMovieContentIdCache")?new Map(JSON.parse(window.localStorage.getItem("showMovieContentIdCache"))):new Map;s.set(n,t),window.localStorage.setItem("showMovieContentIdCache",JSON.stringify(Array.from(s.entries()))),this.__initializeVideo(r,e)}}},{key:"__initializeTileFocus",value:function(e){e.element,e.thumbWrapper,e.videoWrapper,e.anchorLink,(0,g.X2)("trackCarouselTileInFocus",this.__getTrackingSpecs(arguments[0]))}},{key:"__getTrackingSpecs",value:function(e){var t=e.element,n=e.thumbWrapper,r=e.videoWrapper,i=e.anchorLink,o=e.video,a=i.getAttribute("data-fathom").split("|"),s=i.getAttribute("href"),l=n.querySelector(".content-highlight-expanding-container .new-item-container .new-item"),u=t.getAttribute("data-swiper-slide-index"),c=n.classList.contains("bundle-lock");this.posRowNum=this.__getCurrentPageRowPosition();var d={carouselId:this.carouselId,carouselContentType:a[3],carouselModel:this.carouselModel,carouselLink:s,rowHeaderTitle:this.rowHeaderTitle,spliceEnabled:r?"1":"0",posRowNum:this.posRowNum,posColNum:u,contentLocked:c?"1":"0"},p="show"===a[3]?{showSeriesId:a[0]?a[0]:i.getAttribute("id"),showSeriesTitle:a[5]}:{movieId:a[0],movieTitle:a[5]},h=d;if(l&&(h=Do(Do({},d),{contentBadgeLabel:l.innerHTML})),o){var f=o.getAttribute("data-showMovieContentId");h=Do(Do({},h),{videoPreviewId:f})}return h=Do(Do({},h),p)}},{key:"__calculateTransition",value:function(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=this.__checkBreakpoint().slidesPerView,c=parseInt(o.getAttribute("data-swiper-slide-index"))+1,d=s*(t.get(r)/n.get(r));if("horizontal"===a&&o.classList.contains("swiper-slide-active"))return No.get(r);if("horizontal"===a&&(null==o||null===(i=o.nextSibling)||void 0===i||null===(i=i.classList)||void 0===i||!i.contains("swiper-slide-visible"))&&c>=u)return d-s-No.get(r);if("vertical"===a){var p=e.querySelector(".content-highlight-expanding-container");l.style.height="0px";var h=l.cloneNode(!0);h.style.height="auto",p.appendChild(h);var f=window.getComputedStyle(h),v=h.offsetHeight,g=h.querySelector(".content-highlight-description"),m=o.querySelector("a.link").offsetWidth;if(g){var y=m*(Oo.get(r)/jo.get(r))-2*parseInt(f.getPropertyValue("padding-left"),10);g.style.width="".concat(y,"px"),v=h.offsetHeight}"vertical"===a&&this.carouselContainer.classList.contains("carousel-fader")&&(s+=66),h.remove(),l.style.height="".concat(v,"px"),d+=v}return(d-s)/2}},{key:"__initializeMouseLeave",value:function(e){var t=arguments,n=this,r=e.thumbWrapper,i=(e.element,e.video),o=e.videoWrapper,a=(e.anchorLink,e.bottomComponents),s=e.image;o&&(i=o.querySelector("video")),r.addEventListener("mouseleave",(function(e){if(n.sectionContainer.style.zIndex=1,r.style.opacity=0,r.style.transform=" translate(0px, 0px) ",a.style.height="0",s.classList.remove("playing-video"),n.__hideOverlays(r),o){if(n.__debounce}),400)(),document.body.dispatchEvent(Oa.CarouselVideoStopEvent),n.__getWrapperOpacityStyle(r)>0&&n.__isVideoPlaying(i)){var l=n.__getVideoTracking(t[0],i);(0,g.X2)("trackVideoPreviewEnd",l)}o.classList.add("content-highlight-video-paused")}}))}},{key:"__getWrapperOpacityStyle",valu}},{key:"__initializeVideo",value:function(e,t){if(!this.__isVideoPlaying(t)&&1===this.__getWrapperOpacityStyle(e)){var n=t.querySelector("source");n&&(t.muted=!Ho,t.play().then((function(){var e=n.getAttribute("src");return fetch(e,{mode:"no-cors"}).then((function(e){return e}))})))}}},{key:"__fetchAndCache",value:function(e,t){return t.match(e).then((function(t){return t||fetch(e,{mode:"no-cors"}).then((function(e){return e}))}))}},{key:"__setVideoEvents",value:function(t){var n=arguments,r=this,i=t.thumbWrapper,o=(t.element,t.video),a=t.videoWrapper,s=(t.anchorLink,t.image);o.addEventListener("ended",(function(){r.__hideOverlays(i,o);var t=r.__getVideoTracking(n[0],o);(0,g.X2)("trackVideoPreviewEnd",t),document.body.dispatchEvent(Oa.CarouselVideoStopEvent),o.pause(),clearInterval(e.videoHandleInterval),s.classList.remove("playing-video"),a.classList.add("content-highlight-video-ended")})),o.addEventListener("playing",(function(e){var t=r.__getVideoTracking(n[0],o);(0,g.X2)("trackVideoPreviewStart",t),document.body.dispatchEvent(Oa.CarouselVideoPlayEvent),s.classList.add("playing-video"),r.__showOverlays(i,o)}))}},{key:"__getVideoTracking",value:function(e,t){var n,r=this.__getTrackingSpecs(e);return r=Do(Do({},r),{elapsedTime:null!==(n=null==t?void 0:t.currentTime)&&void 0!==n?n:"0"})}},{key:"__showOverlays",value:function(e,t){var n=this;t&&this.__isVideoPlaying(t)&&(e.classList.remove("hide-overlays"),setTimeout((function(){n.__hideOverlays(e,t)}),4e3))}},{key:"__hideOverlays",value:function(e,t){0!=$(".content-highlight-volume:hover").length&&this.__isVideoPlaying(t)||e.classList.add("hide-overlays")}},{key:"__initializePauseVideo",value:function(e){var t=this,n=e.querySelector("source");if(this.__isVideoPlaying(e)&&n&&e.pause(),!this.__isVideoPlaying(e)&&!e.paused)var r=setInterval((function(){t.__isVideoPlaying(e)&&n&&(e.pause(),clearInterval(r))}),300)}},{key:"__isVideoPlaying",valu}},{key:"__showToast",value:function(e,t){var n=new Gi;n.showMessage(e,t),n.setAutoHide(3e3)}},{key:"__findEpisode",value:function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(i.hasOwnProperty(t)&&i[t]===n)return i}return null}},{key:"__spreadState",value:function(e,t){e===uo.NOTIFY_ON_CLASS&&document.querySelectorAll("#"+t.id).forEach((function(e){var t=e.parentElement;t&&(t.classList.toggle("active"),t.classList.toggle("notify_on"))})),e===Co.IN_WATCHLIST_CLASS&&document.querySelectorAll("#"+t.id).forEach((function(e){var t=e.parentElement;t&&(t.classList.toggle("active"),t.classList.toggle("in_watchlist"))}))}},{key:"isBrowserNotificationGranted",value:function(){return!!uo.browserIsNotificationCapable()&&"granted"===Notification.permission}}],n&&Bo(t.prototype,n),r&&Bo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Go(e){return Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(e)}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Go(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Go(o)?o:String(o)),r)}var i,o}function Wo(e,t){return Wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wo(e,t}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yo(e)}Uo(qo,"videoHandleInterval",null),Uo(qo,"promoTileProperty","promoTile"),Uo(qo,"showMovieContentIdCache",new Map(JSON.parse(window.localStorage.getItem("showMovieContentIdCache")))),Uo(qo,"chVideoCache","chVideoCache"),Uo(qo,"initScrollService",!1);var Xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wo(e,t)}(o,e);var t,n,r,i=Jo(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).__buildCarouselDictionary(),n.__initializeMyListCarouselRefreshListener(),n}return t=o,(n=[{key:"__initializeMyListCarouselRefreshListener",value:function(){var e=this;this.elem.getAttribute("has-my-list-listener")||(this.elem.setAttribute("has-my-list-listener","true"),document.addEventListener(na.MY_LIST_CAROUSEL_EVENT_TYPE,(function(t){e.carousel.currentParams=null,e.carousel.virtualSlides=null,e.carousel.lastIndex=0,e.carousel.lastBreakPoint=null,e.carousel.maxSlides=6;var n=e.carouselElements;n&&n.forEach})),e.carousel.__init()}),!1))}},{key:"__buildCarouselDictionary",value:function(){this.carouselDictionary=Object.fromEntries(this.carousel.options.xhrResult.data.map})))}}])&&Vo(t.prototype,n),r&&Vo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(qo);function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ta(r.key),r)}}function ea(e,t,n){return(t=ta(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e){var t=function(e,t){if("object"!==Ko(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ko(t)?t:String(t)}var na=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n&&t&&(this.elem=t,n.options.isMyListCarousel?this.__initializeMyListContentHighlightCarousel(t,n):this.__initializeContentHighlightCarousel(t,n))}var t,n,r;return t=e,n=[{key:"__initializeMyListContentHighlightCarousel",value:function(e,t){var n=this,r=t.__buildEndpoint({});t.lastBreakPoint=t.__checkBreakpoint(),this.__myListPullAndRender(t,r,(function(r){if(t.options.isMyListCarousel){var i=document.getElementById("my-list");t.total=r.data.length,i&&(0===t.total?i.classList.add("hide"):i.classList.remove("hide"))}n.__setUpCarousel(e,t,r),new Xo(e,t)}))}},{key:"__initializeContentHighlightCarousel",value:function(e,t){var n,r=this,i=null!==(n=t.options.isKeepWatchingCarousel)&&void 0!==n&&n,o=t.__buildEndpoint({});t.lastBreakPoint=t.__checkBreakpoint(),t.__pullAndRender(o,(function(n){!0===(null==n?void 0:n.hasNumericCarousel)&&r.elem.classList.add("numericalCarousel"),r.__setUpCarousel(e,t,n,i),new qo(e,t)}))}},{key:"__setUpCarousel",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.options.xhrResult=n,t.__initSwiper(),t.total=n&&n.total||0,t.__trackingArrow(),t.__initFathomTracking(),t.__initImpressionTracking(),r&&t.__initEdit()}},{key:"__myListPullAndRender",value:function(e,t,n){this.___pullData(e,t,(function(t){e.__renderLayout(t,n)}))}},{key:"___pullData",value:function(t,n,r){$.getJSON(n,(function(n){if(e.isResponseSuccess(n)){var i=n.result;t.options.xhrResult=i,t.lastIndex+=i.data.length,i.data.length>0&&r(i),t._wrapper.trigger("videoDataLoad",i)}else r(e.__getEmptyDataResponse()),jn.removeNumCarousels(1),$n.removeNumCarousels(1),t._wrapper.trigger("videoDataLoadError")})).fail((function(){t._wrapper.trigger("videoDataLoadError")}))}}],r=[{key:"isResponseSuccess",value:function(e){return"object"==Ko(e)&&e.success&&void 0!==e.result&&void 0!==e.result.data&&e.result.data.length>0}},{key:"__getEmptyDataResponse",value:function(){return{id:"hybrid-carousel",title:"My List",orientation:"portrait",leftArrow:"my list||arrow|left|||||||||||||",rightArrow:"my list||arrow|right|||||||||||||",displayId:"",recoId:"",data:[],carouselId:"",redDot:!1,total:0}}},{key:"dispatchCustomEvent",value:function(e,t,n){e?e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:{content:n}})):console.error("Element is no valid")}},{key:"addListener",value:function(e,t,n){e?null!==e.getAttribute("on".concat(t))||e.addEventListener(t,n):console.error("Element is no valid")}}],n&&Qo(t.prototype,n),r&&Qo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oa(r.key),r)}}function oa(e){var t=function(e,t){if("object"!==ra(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ra(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ra(t)?t:String(t)}ea(na,"MY_LIST_CAROUSEL_EVENT_TYPE","refreshMyListCarousel"),ea(na,"MY_LIST_CAROUSEL_NAME","My List"),ea(na,"KEEP_WATCHING_CAROUSEL_TYPE","keep-watching");var aa,sa,la,ua=function(}var t,n,r;return t=e,(n=[{key:"__initializeMyListCarouselRefreshListener",value:function(t,n){t.getAttribute("has-my-list-listener")||(t.setAttribute("has-my-list-listener","true"),document.addEventListener(e.MY_LIST_CAROUSEL_EVENT_TYPE,(function(e){n.currentParams=null,n.virtualSlides=null,n.lastIndex=0,n.lastBreakPoint=null,n.maxSlides=6,n.__init()}),!1))}}])&&ia(t.prototype,n),r&&ia(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ga(r.key),r)}}function pa(e,t){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pa(e,t}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(e){return va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},va(e)}function ga(e){var t=function(e,t){if("object"!==ca(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ca(t)?t:String(t)}aa=ua,la="refreshMyListCarousel",(sa=oa(sa="MY_LIST_CAROUSEL_EVENT_TYPE"))in aa?Object.defineProperty(aa,sa,{value:la,enumerable:!0,configurable:!0,writable:!0}):aa[sa]=la;var ma=function(){var e;return"marquee_with_mylist_button"===(null===(e=CBS)||void 0===e||null===(e=e.AbtestResults)||void 0===e?void 0:e.global_web_adding_mylist_button_to_the_hompage_marquee)},ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pa(e,t)}(o,e);var t,n,r,i=ha(o);function o(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this)).initializesSetCycleCountEvent(),e){n.abtestWatchlistWrapper=e,n.heroSlide=t;var r,a=n.abtestWatchlistWrapper.getAttribute("data-content-id");if(CBS.Registry.AbTestAddToMyListMarquee.has(a))n.abtestWatchListData=CBS.Registry.AbTestAddToMyListMarquee.get(a),n.abtestAddToMyListContentype=null===(r=fa(n))||void 0===r||null===(r=r.abtestWatchListData)||void 0===r?void 0:r.content_type,n.abtestWatchListContentId=a,n.abtestAddToMyListMarqueeTracking=t.getAttribute("data-tracking").split("|"),n.buildTrackingSlide()}return n.init(),n}return t=o,(n=[{key:"buildTrackingSlide",value:function(){var e;this.abtestAddToMyListMarqueeTrackingObj={slideId:this.abtestAddToMyListMarqueeTracking[12]?this.abtestAddToMyListMarqueeTracking[12]:null==this?void 0:this.abtestWatchListData.slideId,slideTitle:this.abtestAddToMyListMarqueeTracking[13],slideTarget:this.abtestAddToMyListMarqueeTracking[14],slideCTA:this.abtestAddToMyListMarqueeTracking[3],slideType:null!==(e=this.abtestAddToMyListMarqueeTracking[15])&&void 0!==e?e:"",contentBrand:this.abtestAddToMyListMarqueeTracking[8],rowHeaderTitle:"Home Marquee",posRowNum:"0",posColNum:this.heroSlide.getAttribute("data-pos").toString(),liveTvChannel:"undefined",stationCode:"undefined",dma:"undefined",pageType:"front_door"}}},{key:"refreshMYListCarousel",valu}},{key:"initializesSetCycleCountEvent",value:function(){var e=this;o.cycleCountEventSet||(document.addEventListener("SET_CYCLE_COUNT",(function(t){e.setSlideCycle()}),!1),document.addEventListener("RESET_CYCLE_COUNT",(function(t){e.resetSlideCycle()}),!1),o.cycleCountEventSet=!0)}}])&&da(t.prototype,n),r&&da(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Co);function ba(e){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sa(r.key),r)}}function wa(e,t,n){return(t=Sa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e){var t=function(e,t){if("object"!==ba(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ba(t)?t:String(t)}(ya,"cycleCountEventSet",!1),window.hasOwnProperty("singletons")||(window.singletons={});var ka=function(){function e(){var t=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),wa(this,"list",[]),wa(this,"filteredTargets",null),wa(this,"scrolling",!1),wa(this,"scrollHandler"})),wa(this,"debounceScrollCallback"})),window.singletons.hasOwnProperty("ScrollCarouselManager"))throw new Error("You can only create one instance!");window.singletons.ScrollCarouselManager=this,this.debounceScrollHandler=this.__debounce(this.debounceScrollCallback,250),this.__addScrollEvent()}var t,n,r;return t=e,n=[{key:"__addScrollEvent",valu}},{key:"allowEventsOnTargets",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.list.filter((function(e){return e.disableOnScroll})),n=t.length,r=0;r<n;r++){var i=t[r];i.disableOnScroll&&i.allowEvents(e)}}},{key:"__debounce",valu}},{key:"add",value:function(e){this.list.push(e)}}],r=[{key:"getInstance",value:function(){return window.singletons.hasOwnProperty("ScrollCarouselManager")?window.singletons.ScrollCarouselManager:new e}}],n&&_a(t.prototype,n),r&&_a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Ta=ka.getInstance();function Ea(e){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(e)}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pa(r.key),r)}}function Ca(e,t,n){return(t=Pa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(e){var t=function(e,t){if("object"!==Ea(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ea(t)?t:String(t)}hn.use([wn,Tn]);var Oa=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ca(this,"disableOnScroll",!1),Ca(this,"_redoCounter",0);var r={infinite:!1,layout:wt(),template:kt(),useBuffer:!0,prevArrow:'<a class="carousel-prev focusable" tabindex="0" role="button" aria-label="Previous Slides"></a>',nextArrow:'<a class="carousel-next focusable" tabindex="0" role="button" aria-label="Next Slides"></a>',xhrResult:""};this.options=$.extend(r,n),this._=t,this._wrapper=$(this._),this.showId=null,this.virtualSlides=null,this.lastIndex=0,this.lastBreakPoint=null,this.maxSlides=6,this.guideItem,this.position=null,this.lastSlidesPerGroup=null,this.bodyTag=$("body"),this.hasFathomTracking=CBS.Registry.fathomHost&&CBS.Registry.user.id&&"HOMEPAGE"===CBS.Registry.pageType||CBS.Registry.fathomHost&&CBS.Registry.user.id&&"Search"===CBS.Registry.pageType,this.prevWidth=$(window).width(),this.resizing=!1,this.__initScrollService(),this.__init(),this.__trackCarousels(),this.DMAStorage=new Te.Z,this.timezone_offset_minutes=(new Date).getTimezoneOffset(),this.timezone_offset_minutes=null===this.timezone_offset_minutes||void 0===this.timezone_offset_minutes?0:this.timezone_offset_minutes,this.localTimeZone=Intl.DateTimeFormat().resolvedOptions().timeZone}var t,n,r;return t=e,n=[{key:"__setupSettingsForPhpCarousel",value:function(){this._swiperContainer=this._wrapper.find(".wrap"),this.options.useBuffer=!1}},{key:"allowEvents",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._wrapper[0];t.style.pointerEvents=e?"auto":"none"}},{key:"__initScrollService",valu}},{key:"__init",value:function(){var e=this;if(this.__eventListeners(),this.options.contentHighlight)return new na(this._,this);if("my-list"===this._.getAttribute("id")&&ma()&&new ua(this._,this),this.options.data)return this.__renderCarousel(this.options.data),this.__initFathomTracking(),void this.__initImpressionTracking();var t={};this.options.filter&&(t.season=this.options.filter.options[0].season),this.options.editPoint&&(t.random=Math.floor(100*Math.random()+1));var n=this.__buildEndpoint(t);this.lastBreakPoint=this.__checkBreakpoint(),this.__pullAndRender(n,(function(t){!0===(null==t?void 0:t.hasNumericCarousel)&&e._.classList.add("numericalCarousel"),e.options.xhrResult=t,e.__initSwiper(),e.total=t&&t.total||0,e.__trackingArrow(),e.__initFathomTracking(),e.__initImpressionTracking(),e.__initEdit()}))}},{key:"__initFathomTracking",value:function(){this.hasFathomTracking&&(e.lastCarouselFlag=this._wrapper.data("displayid"),this.fathomTracking=new Nn(this._wrapper,this.swiper))}},{key:"__initImpressionTracking",value:function(){-1===window.location.href.indexOf("/home")&&-1===window.location.href.indexOf("/search")||(this.impressionTracking=new Hn(this._wrapper,this.swiper))}},{key:"__deleteSelectedData",value:function(e,t,n,r){var i=this,o={selections:e,editPoint:t};$.ajax({url:CBS.Registry.region.prefix+"/carousels/homepage/edit/",type:"POST",dataType:"json",data:o,error:function(){console.log("Error 1 - Ajax call failed.")},success:function(e){e.success?(i.__trackingDeletedItems(e.result,r),i.__editAndReload(n)):console.log("Error 2 - "+e.message)}})}},{key:"__trackingDeletedItems",value:function(e,t){$.each(e,(function(e,n){var r,i=n.split("|"),o=i[0],a=i[1];i[2],i[3],i[4],i[5],i[6],i[7],i[8],"trackEditKW"==t&&(r="-1"!=i[0]?{showSeriesId:o,showSeriesTitle:a,removeKWComplete:"1"}:{movieId:i[9],movieTitle:i[5],removeKWComplete:"1"},(0,g.X2)("trackRemoveKW",r))}))}},{key:"__setArrowPosition",value:function(){if(this.guideItem){var e=this.swiper.navigation.$prevEl,t=this.swiper.navigation.$nextEl,n=!!this._wrapper.parents(".kids-carousel").length,r=$(this.swiper.slides[1]).find(".thumb-wrapper")[0].offsetHeight-10,i=.5*(r-10);n&&(i=.75*(r-10)),t.css("background-position","center ".concat(i,"px")),e.css("background-position","center ".concat(i,"px"))}}},{key:"__trackingArrow",value:function(){if(this.swiper.navigation){var e=this.swiper.navigation.$prevEl,t=this.swiper.navigation.$nextEl;this.options.xhrResult&&(t.attr("aa-link",this.options.xhrResult.rightArrow),e.attr("aa-link",this.options.xhrResult.leftArrow)),this.swiper.slides[1]&&(this.guideItem=$(this.swiper.slides[1]).find(".thumb-wrapper")[0],this.__setArrowPosition()),t.on("click",(function(){var e=this;setTimeout((function(){try{om.trackClick({item:$(e).attr("aa-link")})}catch(e){}}),100)})),e.on("click",(function(){var e=this;setTimeout((function(){try{om.trackClick({item:$(e).attr("aa-link")})}catch(e){}}),100)}))}}},{key:"__initEdit",value:function(){if(this.options.editPoint){var e=this;this._wrapper.find(".edit-cancel-carousel").on("click",(function(){console.log("Edit cancelled"),"trackEditKW"===e.options.trackingParam&&(0,g.X2)("trackCancelKW",{cancelKW:"1"}),$("input[name=editor]:checked",e._wrapper).each})),$(this).parent().find("a").attr("tabindex","0"),$(this).parent().children(".video-carousel-box").addClass("editOff"),$(this).parent().children(".video-carousel-box").removeClass("editOn"),$(this).parent().children(".edit-carousel").text((0,y.Kd)("edit")),$(this).css("display","none")})),this._wrapper.find(".edit-carousel").on("click",(function(){if($(this).text()==(0,y.Kd)("remove")){e._wrapper.find(".edit-cancel-carousel").css("display","none");var t=[];$("input[name=editor]:checked",e._wrapper).each})),$(this).parent().children(".video-carousel-box").removeClass("editOn"),$(this).parent().children(".video-carousel-box").addClass("editOff"),t.length>0?(e.__deleteSelectedData(t,e.options.editPoint,e.options.reloadPoint,e.options.trackingParam),e._wrapper.find(".carousel-container").css("opacity","0")):console.log("No items selected.")}else"trackEditKW"===e.options.trackingParam&&(0,g.X2)("trackEditKW",{editKW:"1"}),$(this).parent().children(".video-carousel-box").addClass("editOn"),$(this).parent().children(".video-carousel-box").removeClass("editOff"),e._wrapper.find(".edit-cancel-carousel").css("display","block");$(this).text($(this).text()==(0,y.Kd)("remove")?(0,y.Kd)("edit"):(0,y.Kd)("remove"))})),$("input[name=editor]").change((function(){$(this).is(":checked")?($(this).parent().children(".overlay").css("opacity",".55"),$(this).parent().children(".overlay").css("background-color","#1D1D1D")):($(this).parent().children(".overlay").css("opacity","1"),$(this).parent().children(".overlay").css("background","linear-gradient(180deg, rgba(0,0,0,0.5508578431372548) 0%, rgba(0,0,0,0) 35%, rgba(0,0,0,0) 100%)"))}))}}},{key:"__initSwiper",value:function(){var e=this,t={simulateTouch:!1,spaceBetween:10,updateOnImagesReady:!0,navigation:{nextEl:".carousel-next",prevEl:".carousel-prev"},on:{init:function(){e._wrapper.trigger("init")}},breakpoints:e.options.responsive,watchSlidesVisibility:!0,autoHeight:!0};this.virtualSlides&&(t.virtual={slides:[]}),this.options.centerInsufficientSlides&&(t.centerInsufficientSlides=!0),this.swiper=new hn(this._swiperContainer,t),this.__appendVirtualSlides(!0),CBS.Registry.lazyImage&&setTimeout(CBS.Registry.lazyImage.revalidate,5),this.__setupSwiperInternalEvents()}},{key:"__setupSwiperInternalEvents",value:function(){var t,n,r=this,i=this;i.position||(i.position=i._wrapper.parents(".js-le-carousel").data("position")),this.swiper.on("slideNextTransitionStart"})),this.swiper.on("slideNextTransitionEnd",(function(){i.resizing||(this.activeIndex+this.params.slidesPerView>=i.lastIndex-this.params.slidesPerView&&i.__nextBuffer(),i.__trackCarousels(),i.fathomTracking&&i.fathomTracking.updateFathomTracking(i.position),i.impressionTracking&&i.impressionTracking.updateImpressionTracking(i.position))})),this.hasFathomTracking&&this.swiper.on("slidePrevTransitionEnd",(function(){i.resizing||(i.fathomTracking&&i.fathomTracking.updateFathomTracking(i.position),i.impressionTracking&&i.impressionTracking.updateImpressionTracking(i.position))})),this.swiper.on("sliderMove",(function(){t&&clearTimeout(t),t=r.__revalidateLazyLoadImages(20)})),this.swiper.on("resize",(function(){if($(window).width()!==i.prevWidth){i.resizing=$n.resizing=jn.resizing=!0,i.prevWidth=$(window).width();var t=i.__checkBreakpoint();this.params.slidesPerView=t.slidesPerView,this.params.slidesPerGroup=t.slidesPerGroup,this.slides.length<i.maxSlides&&this.activeIndex>0&&i.lastBreakPoint.slidesPerView>t.slidesPerView&&this.slideTo(0),i.lastBreakPoint=t,i.virtualSlides?this.virtual.update():this.slideTo(this.activeIndex),i.__setArrowPosition(),n&&clearTimeout(n),i.hasFathomTracking&&(n=setTimeout((function(){i.fathomTracking&&(i.swiper.params.slidesPerGroup!==i.lastSlidesPerGroup&&(i.fathomTracking.updateFathomResizePerCarousel(i.position),i.impressionTracking&&i.impressionTracking.updateImpressionResizePerCarousel(i.position),i.lastSlidesPerGroup=i.swiper.params.slidesPerGroup),e.lastCarouselFlag===i._wrapper.data("displayid")&&(i.fathomTracking.updateFathomResize(),i.impressionTracking&&i.impressionTracking.updateImpressionResize())),i.resizing=$n.resizing=jn.resizing=!1}),1e3))}}))}},{key:"__trackCarousels",value:function(){new ji(this._,this)}},{key:"initFocusable",value:function(){var e=this;this.swipe}(this.swiper):++this._redoCounter<10&&setTimeout((function(){e.initFocusable()}),100)}},{key:"__eventListeners",value:function(){var e=this,t=this;this._wrapper.on("templateDidRender",(function(){e.initFocusable(),t._wrapper.closest(".carousel").removeClass("hidden");var n=$(e._swiperContainer).find(".progress-bar").not("[percentage=0]").last().find(".bar");n.on("webkitAnimationEnd",(function(){e.__appendHasRenderedClass()})),n.on("animationend",(function(){e.__appendHasRenderedClass()}))})),this._wrapper.on("videoDataLoadError"}))}},{key:"__appendHasRenderedClass",value:function(){this._swiperContainer.find(".bar").each}))}},{key:"__unhideMetadata",valu}},{key:"__nextBuffer",value:function(){var e=this;if(this.buffSize&&!1!==this.options.useBuffer&&!(this.currentParams.offset+this.buffSize>=this.total)){var t=this,n=2*this.__checkBreakpoint().slidesPerView,r=this.__buildEndpoint({offset:t.currentParams.offset+t.buffSize,limit:n});this.buffSize=n,this.__pullData(r,(function(n){t.virtualSlides=e.options.template({data:n.data,editable:n.editable,getLocale:y.Kd}).split('<div class="break"></div>').slice(0,-1),t.__appendVirtualSlides(!1),t.__revalidateLazyLoadImages()}))}}},{key:"__appendVirtualSlides",value:function(e){this.virtualSlides&&this.virtualSlides.length&&(this.swiper.virtual.appendSlide(this.virtualSlides,e),this.virtualSlides=null)}},{key:"__renderLayout",value:function(e,t){var n,r=this;this._wrapper.html(this.options.layout({title:e.title,todaysDate:e.todaysDate,editable:e.editable,getLocale:y.Kd,redDot:e.redDot,pvrModel:null!==(n=e.pvr_model)&&void 0!==n?n:""})),this._swiperContainer=this._wrapper.find(".wrap"),this.virtualSlides=this.options.template({data:e.data,editable:e.editable,getLocale:y.Kd}).split('<div class="break"></div>').slice(0,-1),setTimeout}),100),"brands-carousel"===e.id&&this._wrapper.addClass("brands-carousel");var i=e.orientation;"landscape"===i?this._swiperContainer.find("div.carousel-container").addClass("carousel-fader"):"square"===i?this._swiperContainer.find("div.carousel-container").addClass("square-cards"):this._swiperContainer.find("div.carousel-container").addClass("portrait-cards"),setTimeout((function(){r.__unhideMetadata()}),100),this._wrapper.trigger("templateDidRender"),this._.dispatchEvent(new Event("templateDidRenderV2")),t(e)}},{key:"__pullAndRender",value:function(e,t){var n=this;if(!1===e)return this.__setupSettingsForPhpCarousel(),this.__trackCarousels(),this._wrapper.trigger("videoDataLoad"),t(),!1;this.__pullData(e,(function(e){n.__renderLayout(e,t)}))}},{key:"__editAndReload",value:function(e){var t=this;t.currentParams=null,t.virtualSlides=null,t.lastIndex=0,t.lastBreakPoint=null,t.maxSlides=6,t.swiper.destroy(),t.__init()}},{key:"__pullAndRenderCarousel",value:function(e,t){var n=this;if(!1===e)return this.__setupSettingsForPhpCarousel(),t(),!1;this.__pullData(e}))}},{key:"__pullData",value:function(e,t){var n=this;n.currentParams&&n.currentParams.offset&&n.currentParams.offset>=n.total||(this.options.fetchData?$.post(e,this.options.params})).then((function(e){if(Aa(e)){var r=e.result;n.options.xhrResult=r,n.lastIndex+=r.data.length,r.data.length>0&&t(r),n._wrapper.trigger("videoDataLoad",r)}else n._wrapper.trigger("videoDataLoadError")})).fail((function(){n._wrapper.trigger("videoDataLoadError")})):$.getJSON(e,(function(e){if(Aa(e)){var r=e.result;n.options.xhrResult=r,n.lastIndex+=r.data.length,r.data.length>0&&t(r),n._wrapper.trigger("videoDataLoad",r)}else jn.removeNumCarousels(1),$n.removeNumCarousels(1),n._wrapper.trigger("videoDataLoadError")})).fail})))}},{key:"__buildEndpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===this.options.endPoint||null===this.options.endPoint||this.options.endPoint.length<=0)return!1;var t=this.__checkBreakpoint();this.buffSize=5*t.slidesPerView;var n={offset:0,limit:this.buffSize,excludeShow:0,season:1},r=$.extend(n,this.currentParams,e);void 0===this.currentParams&&(r=$.extend(n,this.options.params,e)),this.currentParams=r;var i=this.options.endPoint;for(var o in r)r.hasOwnProperty(o)&&(i=i.replace("{"+o+"}",r[o]));return i}},{key:"__renderCarousel",value:function(e){this.options.useBuffer=!1;var t=e.result;this._wrapper.html(this.options.layout({title:t.title,todaysDate:t.todaysDate,editable:t.editable,getLocale:y.Kd,redDot:t.redDot})),this._swiperContainer=this._wrapper.find(".wrap"),this.virtualSlides=this.options.template({data:t.data,editable:t.editable,getLocale:y.Kd}).split('<div class="break"></div>').slice(0,-1),t.editable&&this._wrapper.find(".carousel-container").addClass("carousel-fader");var n=t.orientation;"landscape"===n?this._swiperContainer.find("div.carousel-container").addClass("carousel-fader"):"portrait"===n?this._swiperContainer.find("div.carousel-container").addClass("portrait-cards"):"square"===n&&this._swiperContainer.find("div.carousel-container").addClass("square-cards"),this._wrapper.trigger("templateDidRender"),this.__initSwiper(),this.total=t&&t.total||0,this.__trackingArrow(),this.__trackCarousels(),this.__initEdit(),this._wrapper.find(".carousel-container").css("opacity","1")}},{key:"__checkBreakpoint",value:function(){var e,t=window.innerWidth||$(window).width(),n=this.options.responsive;for(var r in n)if(t<r){e=n[r];break}return e}},{key:"__revalidateLazyLoadImages",value:function(e){var t=this;return setTimeout((function(){if(CBS.Registry.lazyImage){CBS.Registry.lazyImage.load(t.swiper.visibleSlides.find("img"));var e=t.swiper.visibleSlidesIndexes[t.swiper.visibleSlidesIndexes.length-1]+1;t.swiper.slides[e]&&CBS.Registry.lazyImage.load(t.swiper.slides[e].querySelector("img"))}}),e||5)}},{key:"getWrapper",value:function(){return this._wrapper}}],n&&xa(t.prototype,n),r&&xa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Aa(e){return"object"==Ea(e)&&e.success&&void 0!==e.result&&void 0!==e.result.data&&e.result.data.length>0}function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function La(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ia(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ia(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ia(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ca(Oa,"CarouselVideoPlayEvent",new Event("carouselVideoStart")),Ca(Oa,"CarouselVideoStopEvent",new Event("carouselVideoStop")),$.fn.JsCarousel=function(){for(var e=arguments[0],t=0;t<this.length;t++)new Oa(this[t],e)};var ja=new pt,Na={};Na[ja.getMax("mobilePortrait")]={slidesPerView:3,slidesPerGroup:3},Na[ja.getMax("mobileLandscape")]={slidesPerView:4,slidesPerGroup:4},Na[ja.getMax("tabletPortrait")]={slidesPerView:5,slidesPerGroup:5},Na[ja.getMax("tabletLandscape")]={slidesPerView:6,slidesPerGroup:6},Na[ja.getMax("desktop")]={slidesPerView:8,slidesPerGroup:8},Na[ja.getMax("desktopWide")]={slidesPerView:8,slidesPerGroup:8};var Ma={};Ma[ja.getMax("mobilePortrait")]={slidesPerView:2,slidesPerGroup:2},Ma[ja.getMax("mobileLandscape")]={slidesPerView:2,slidesPerGroup:2},Ma[ja.getMax("tabletPortrait")]={slidesPerView:3,slidesPerGroup:3},Ma[ja.getMax("tabletLandscape")]={slidesPerView:4,slidesPerGroup:4},Ma[ja.getMax("desktop")]={slidesPerView:5,slidesPerGroup:5},Ma[ja.getMax("desktopWide")]={slidesPerView:6,slidesPerGroup:6};var Ra={};Ra[ja.getMax("mobilePortrait")]={slidesPerView:3,slidesPerGroup:3},Ra[ja.getMax("mobileLandscape")]={slidesPerView:3,slidesPerGroup:3},Ra[ja.getMax("tabletPortrait")]={slidesPerView:6,slidesPerGroup:6},Ra[ja.getMax("tabletLandscape")]={slidesPerView:6,slidesPerGroup:6},Ra[ja.getMax("desktop")]={slidesPerView:6,slidesPerGroup:6},Ra[ja.getMax("desktopWide")]={slidesPerView:6,slidesPerGroup:6};var Da={};Da[ja.getMax("mobilePortrait")]={slidesPerView:2,slidesPerGroup:2},Da[ja.getMax("mobileLandscape")]={slidesPerView:2,slidesPerGroup:2},Da[ja.getMax("tabletPortrait")]={slidesPerView:2,slidesPerGroup:2},Da[ja.getMax("tabletLandscape")]={slidesPerView:3,slidesPerGroup:3},Da[ja.getMax("desktop")]={slidesPerView:3,slidesPerGroup:3},Da[ja.getMax("desktopWide")]={slidesPerView:4,slidesPerGroup:4};var Za={};Za[ja.getMax("mobilePortrait")]={slidesPerView:2,slidesPerGroup:2},Za[ja.getMax("mobileLandscape")]={slidesPerView:2,slidesPerGroup:2},Za[ja.getMax("tabletPortrait")]={slidesPerView:3,slidesPerGroup:3},Za[ja.getMax("tabletLandscape")]={slidesPerView:4,slidesPerGroup:4},Za[ja.getMax("desktop")]={slidesPerView:5,slidesPerGroup:5},Za[ja.getMax("desktopWide")]={slidesPerView:6,slidesPerGroup:6};var Fa={};Fa[ja.getMax("mobilePortrait")]={slidesPerView:3,slidesPerGroup:3},Fa[ja.getMax("mobileLandscape")]={slidesPerView:3,slidesPerGroup:3},Fa[ja.getMax("tabletPortrait")]={slidesPerView:6,slidesPerGroup:6},Fa[ja.getMax("tabletLandscape")]={slidesPerView:6,slidesPerGroup:6},Fa[ja.getMax("desktop")]={slidesPerView:6,slidesPerGroup:6},Fa[ja.getMax("desktopWide")]={slidesPerView:6,slidesPerGroup:6};var Ba={};Ba[ja.getMax("mobilePortrait")]={slidesPerView:2,slidesPerGroup:2},Ba[ja.getMax("mobileLandscape")]={slidesPerView:3,slidesPerGroup:3},Ba[ja.getMax("tabletPortrait")]={slidesPerView:4,slidesPerGroup:4},Ba[ja.getMax("tabletLandscape")]={slidesPerView:5,slidesPerGroup:5},Ba[ja.getMax("desktop")]={slidesPerView:6,slidesPerGroup:6},Ba[ja.getMax("desktopWide")]={slidesPerView:6,slidesPerGroup:6},Ba[9999]={slidesPerView:6,slidesPerGroup:6};La(La(La(La(La(La({},ja.getMax("mobilePortrait"),{slidesPerView:3,slidesPerGroup:3}),ja.getMax("mobileLandscape"),{slidesPerView:3,slidesPerGroup:3}),ja.getMax("tabletPortrait"),{slidesPerView:4,slidesPerGroup:4}),ja.getMax("tabletLandscape"),{slidesPerView:7,slidesPerGroup:7}),ja.getMax("desktop"),{slidesPerView:7,slidesPerGroup:7}),9999,{slidesPerView:7,slidesPerGroup:7}),La(La(La(La(La(La({},ja.getMax("mobilePortrait"),{slidesPerView:2,slidesPerGroup:2}),ja.getMax("mobileLandscape"),{slidesPerView:2,slidesPerGroup:2}),ja.getMax("tabletPortrait"),{slidesPerView:2,slidesPerGroup:2}),ja.getMax("tabletLandscape"),{slidesPerView:4,slidesPerGroup:4}),ja.getMax("desktop"),{slidesPerView:4,slidesPerGroup:4}),9999,{slidesPerView:4,slidesPerGroup:4}),La(La(La(La(La(La({},ja.getMax("mobilePortrait"),{slidesPerView:2,slidesPerGroup:2,spaceBetween:32}),ja.getMax("mobileLandscape"),{slidesPerView:3,slidesPerGroup:3,spaceBetween:32}),ja.getMax("tabletPortrait"),{slidesPerView:3,slidesPerGroup:3,spaceBetween:64}),ja.getMax("tabletLandscape"),{slidesPerView:5,slidesPerGroup:5,spaceBetween:56}),ja.getMax("desktop"),{slidesPerView:6,slidesPerGroup:6,spaceBetween:54}),ja.getMax("desktopWide"),{slidesPerView:6,slidesPerGroup:6,spaceBetween:88});var Ua={};Ua[ja.getMax("mobilePortrait")]={slidesPerView:2,slidesPerGroup:2},Ua[ja.getMax("mobileLandscape")]={slidesPerView:2,slidesPerGroup:2},Ua[ja.getMax("tabletPortrait")]={slidesPerView:3,slidesPerGroup:3},Ua[ja.getMax("tabletLandscape")]={slidesPerView:4,slidesPerGroup:4},Ua[ja.getMax("desktop")]={slidesPerView:5,slidesPerGroup:5},Ua[ja.getMax("desktopWide")]={slidesPerView:6,slidesPerGroup:6};var za={};za[ja.getMax("mobilePortrait")]={slidesPerView:2,slidesPerGroup:2},za[ja.getMax("mobileLandscape")]={slidesPerView:2,slidesPerGroup:2},za[ja.getMax("tabletPortrait")]={slidesPerView:3,slidesPerGroup:3},za[ja.getMax("tabletLandscape")]={slidesPerView:4,slidesPerGroup:4},za[ja.getMax("desktop")]={slidesPerView:4,slidesPerGroup:4},za[ja.getMax("desktopWide")]={slidesPerView:6,slidesPerGroup:6};var $a={};function Ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentContainer?e.parentContainer:$(".generic-carousel"),n={responsive:Ma},r=$.extend(n,e.options);return t.JsCarousel(r),t}function qa(e){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(e)}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Va(r.key),r)}}function Va(e){var t=function(e,t){if("object"!==qa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qa(t)?t:String(t)}$a[ja.getMax("mobilePortrait")]={slidesPerView:1,slidesPerGroup:1},$a[ja.getMax("mobileLandscape")]={slidesPerView:1,slidesPerGroup:1},$a[ja.getMax("tabletPortrait")]={slidesPerView:1,slidesPerGroup:1},$a[ja.getMax("tabletLandscape")]={slidesPerView:1,slidesPerGroup:1},$a[ja.getMax("desktop")]={slidesPerView:1,slidesPerGroup:1},$a[ja.getMax("desktopWide")]={slidesPerView:1,slidesPerGroup:1};var Wa,Ja=[],Ya=!0;var Xa=function(}var t,n,r;return t=e,(n=[{key:"renderCarousel",value:function(e){e.init()}},{key:"init",value:function(){var e,t,n=this;if(this.components.length>0)if("IntersectionObserver"in window){var r=new WeakMap,i=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var t=e.target,n=r.get(t);n&&(r.delete(t),n())}}))}));this.components.forEach((function(e){var t=e.wrapper.length>0?e.wrapper.get(0):e.wrapper;i.observe(t),r.set(t,e.init)}))}else{var o=/googlebot|bingbot/i.test(navigator.userAgent);this.checkVisibilityAndRender(o),o||(},Ja.push(e),Ya&&(Ya=!1,window.addEventListener("scroll",(function(){Wa&&window.cancelAnimationFrame(Wa),Wa=window.requestAnimationFrame}))}),t)))}}},{key:"checkVisibilityAndRender",value:function(e){for(var t=0;t<this.components.length;t++){var n=this.components[t];(e||this.isVisible(!0,n.wrapper))&&(this.renderCarousel(n),this.components.splice(t,1),t--)}}},{key:"isVisible",value:function(e,t){var n=t,r=$(window),i=r.scrollTop(),o=i+r.height(),a=null!=n.offset()?n.offset().top-60:60,s=a+n.height();return(!0===e?a:s)<=o&&(!0===e?s:a)>=i}}])&&Ga(t.prototype,n),r&&Ga(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var Ka=n(82290);!function(e,t){try{!function(e,t){try{bt({parentContainer:$("#latest-episodes"),options:{endPoint:e}})}catch(e){console.error("Full Episodes grid failed to load")}try{for(var n=$(".js-video-carousel"),r=[],i=function(){var e=$(n[o]);r.push({wrapper:e,init:function(){e.on("init"})),e.on("setPosition",(function(){e.ellipsify()})),e.data("topic")?Ha({parentContainer:e,options:{endPoint:"/shows/{slug}/xhr/sectionId/{sectionId}/offset/{offset}/limit/{limit}/xs/0/topic/{topic}/",params:{slug:e.data("slug"),sectionId:e.data("sectionid"),topic:e.data("topic")}}}):Ha({parentContainer:e,options:{endPoint:t,params:{slug:e.data("slug"),sectionId:e.data("sectionid")}}})}})},o=0;o<n.length;o++)i();new Xa(r)}catch(e){console.error("below the fold carousel failed to load",e)}}(e,t)}catch(e){console.error("Video Below the fold failed to load")}}(CBS.Registry.region.prefix+"/shows/{slug}/video/xhr/episodes/page/{page}/size/{size}/xs/{excludeShow}/season/{season}/",CBS.Registry.region.prefix+"/shows/{slug}/xhr/sectionId/{sectionId}/offset/{offset}/limit/{limit}/xs/0/"),document.addEventListener("DOMContentLoaded"})),window.addEventListener("load",(function(){if(null!==document.getElementById("vpnErrorSlate")){(0,g.X2)("trackAppLog",{appLogText:"It looks like you’re using a VPN or proxy, which prevents playing your video. Please disable this service and try again. ",appLogType:"VPN Proxy Detection",appLogCode:"No code provided"})}}))},73065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(44705),n(2316),n(98498),n(52815),n(14229),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isDomestic",vaty}},{key:"isInternational",va()}},{key:"getRegionCode",va()}}],(n=null)&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},81997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(13625),n(16865),n(88515),n(24128),n(80533),n(6468),n(44705),n(2316),n(98498),n(52815),n(14229),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"url",value:function(e){return"".concat(CBS.Registry.region.prefix).concat(e)}},{key:"getHomePageURL",value:function(){return-1===window.location.host.indexOf("paramountplus.com")?e.url("/"):e.url("/home")}},{key:"goTo",value:function(e){var t=document.createElement("a");t.href=e,t.hostname!==window.location.hostname?window.open(e,"_blank","noopener"):window.location=t.href}},{key:"appendBundleStatusAndPackageCode",value:function(e){if(void 0!==CBS.Registry.user.bundleStatus){var t=null==e.match(/\?.+=.+/)?"?":"&";e+=t+"bundleStatus="+CBS.Registry.user.bundleStatus}if(void 0!==CBS.Registry.user.packageCode){var n=!0===e.includes("?")?"&":"?";e+=n+"packageCode="+CBS.Registry.user.packageCode}return e}}],(n=null)&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},16676:(e,t,n)=>{"use strict";n.d(t,{d8:()=>i,nJ:()=>o});n(73903),n(80815),n(14229),n(58433),n(98498),n(52815),n(62085),n(3468),n(90871),n(15848);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=function(e,t,n){var i=encodeURIComponent(e)+"="+encodeURIComponent(t);n&&n instanceof Date&&(n={expires:n}),n&&"object"==r(n)&&(n.expires&&(i+="; expires="+n.expires.toGMTString()),n.path&&(i+="; path="+n.path.toString()),n.domain&&(i+="; domain="+n.domain.toString()),n.secure&&(i+="; secure")),document.cookie=i},o=function(e,t){if(!t)t={};t.expires=new Date,i(e,"",t)}},40602:(e,t,n)=>{"use strict";n(83753),n(73903),n(93318),n(88515),n(24128),n(94403),n(26047),n(16865),n(57865),n(16201);var r=n(52021);!function(){window.CBS=window.CBS||{},CBS.Tracking={};var e=!1,t=setInterval((function(){"undefined"==typeof om||e||(e=!0,CBS.Promises.Tracking.resolve(),clearInterval(t))}),200);CBS.Tracking={utag_data:{},setMvpdPartner:function(){var e=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("="),i=decodeURIComponent(r[0].trim()),o=r.length>1?r[1]:"";if(i==e)return decodeURIComponent(o)}return""}("mvpd_authz");if(e){var t=JSON.parse(e);if(t.mvpd_name&&t.mvpd_name.length>1){this.utag_data.mvpdPartner=t.mvpd_display_name;var n=t.token.match("<mvpdId>(.*)</mvpdId>");2==n.length&&n[1].length>1&&(this.utag_data.mvpdPartnerId=n[1]),this.utag_data.mvpdAuthenticated="1"}else this.utag_data.mvpdAuthenticated="0"}},SetTracking:function(e){var t,n,i;CBS.Registry.platform.isMobile?this.utag_data.deviceType="mobile":this.utag_data.deviceType="desktop",this.utag_data.siteEdition=e.tealium.siteEdition,CBS.Registry.siteEdition=e.tealium.siteEdition,this.utag_data.siteType="responsive web",void 0!==e.tealium.showTitle&&(this.utag_data.showTitle=e.tealium.showTitle),void 0!==e.tealium.movieBrowseCategory&&(this.utag_data.movieBrowseCategory=e.tealium.movieBrowseCategory),void 0!==e.movieId&&(this.utag_data.movieId=e.movieId,this.utag_data.movieTitle=e.movieTitle,this.utag_data.movieGenre=void 0!==window.__genre?window.__genre:e.tealium.movieGenre),void 0!==e.subscriptionLevel&&(this.utag_data.subscriptionLevel=e.subscriptionLevel),void 0!==e.tealium.showSectionTitle&&(this.utag_data.showSectionTitle=e.tealium.showSectionTitle),void 0!==e.tealium.movieSectionTitle&&(this.utag_data.movieSectionTitle=e.tealium.movieSectionTitle),void 0!==e.tealium.movieGenre&&(this.utag_data.movieGenre=e.tealium.movieGenre),void 0!==e.tealium.showBrowseCategory&&(this.utag_data.showBrowseCategory=e.tealium.showBrowseCategory),void 0!==e.showGenre&&(this.utag_data.showGenre=e.showGenre,e.tealium.showGenre=e.showGenre),void 0!==e.tealium.showId&&(this.utag_data.showId=e.tealium.showId),void 0!==e.tealium.showSeriesId&&(this.utag_data.showSeriesId=e.tealium.showSeriesId),void 0!==e.tealium.showEpisodeLabel&&(this.utag_data.showEpisodeLabel=e.tealium.showEpisodeLabel),void 0!==e.pageURL&&(this.utag_data.pageURL=e.pageURL),void 0!==e.status&&(this.utag_data.status=e.status),void 0!==e.DW_page_type&&(this.utag_data.pageType=e.DW_page_type,this.utag_data.pageType=this.utag_data.pageType.toLowerCase(),this.utag_data.articleType=this.utag_data.pageType),this.utag_data.autoPlayEnabled=null!==(t=(0,r.P)())&&void 0!==t?t:"1",$.extend(this.utag_data,e.tealium),this.utag_data.packageStatus=null!==(n=CBS.Registry.user.packageStatus)&&void 0!==n?n:"";var o,a=e.tealium.showDayPart,s=null!==(i=e.tealium.showGenre)&&void 0!==i?i:"",l=!!this.utag_data.siteSection,u=!!this.utag_data.siteHier;if(a&&s&&this.utag_data.pageType&&this.utag_data.showTitle){var c=this.utag_data.showTitle.toLowerCase().replace("!","");u||(this.utag_data.siteHier=[a,s,c,this.utag_data.pageType].join("|")),this.utag_data.showSecCategory=this.utag_data.pageType,this.utag_data.showGenre=e.tealium.showGenre,l||(this.utag_data.siteSection=this.utag_data.showDaypart=e.tealium.showDayPart)}else l||(this.utag_data.siteSection=this.utag_data.pageType),u||(this.utag_data.siteHier=this.utag_data.pageType);if(l)o=this.utag_data.siteSection;else if(this.utag_data.section){var d=(o=this.utag_data.section).split("|");this.utag_data.siteSection=d[0]}o&&!u&&(this.utag_data.siteHier=o),void 0!==this.utag_data.registrationDriver&&(this.utag_data.userRegDriver=this.utag_data.registrationDriver),void 0===e.__CBS_HOME__?this.utag_data.show=this.utag_data.showTitle:this.utag_data.pageType="front_door",this.utag_data.userRegId=CBS.Registry.user.id||"",this.utag_data.userType=CBS.Registry.user.sb;try{void 0!==window.__page_uuid&&(this.utag_data.pageViewGuid=window.__page_uuid)}catch(e){}void 0!==e.BK_sb&&(this.utag_data.BK_sb=e.BK_sb),void 0!==e.userType&&(this.utag_data.userType=e.userType),void 0!==e.userHash&&(this.utag_data.userHash=e.userHash),"undefined"!=e.brandPlatformId&&(this.utag_data.brandPlatformId=e.brandPlatformId),void 0!==e.videoUTAG&&1==e.videoUTAG&&(this.utag_data.brandPlatformId=e.brandPlatformId,this.utag_data.vod_type=e.vod_type,this.utag_data.mediaContentType=e.mediaType,this.utag_data.showEpisodeId=e.showEpisodeId,this.utag_data.showEpisodeTitle=e.showEpisodeTitle),void 0!==e.tealium.contentBrand?this.utag_data.contentBrand=e.tealium.contentBrand:this.utag_data.contentBrand="na",document.location.href.indexOf("/watch-free")>1&&(this.utag_data.contentBrand="na"),(document.location.href.indexOf("/shows/")>1||document.location.href.indexOf("/movies/")>1)&&"home"==this.utag_data.pageType&&(this.utag_data.spliceEnabled=$(".marqueeVideo").length?"1":"0"),CBS.Registry.context_override=$.extend(CBS.Registry.context_override,e.tealiumOverride),CBS.Registry.context_override&&(this.utag_data=$.extend(this.utag_data,CBS.Registry.context_override)),(document.location.href.indexOf("/all-access")>1||document.location.href.indexOf("/live-tv")>1)&&(void 0!==this.utag_data.order_refnum&&(this.utag_data.purchaseOrderRefNum=this.utag_data.order_refnum),void 0!==this.utag_data.show&&(this.utag_data.show="",this.utag_data.showId="",this.utag_data.showTitle=""),void 0!==this.utag_data.eventType&&(this.utag_data.pageEvent=this.utag_data.eventType)),document.location.href.indexOf("/live-tv")>1&&(this.utag_data.mediaContentType="live",void 0!==this.utag_data.isSPA&&this.utag_data.isSPA||(this.utag_data.channelBrowseCategory="all")),window.localStorage.getItem("internal_search_referral")&&(this.utag_data.internalSearchReferral="true",window.localStorage.removeItem("internal_search_referral"));try{this.setDesktopShowNavTracking(),this.setDesktopActivityMapGlobalNavShowsSubNav(),this.setDesktopActivityMapWatchRelatedShows(),this.setMvpdPartner(),this.setOverrides(e),this.setAdPath(e)}catch(e){console.log(e)}return this.utag_data},setAdPath:function(e){if(void 0===this.utag_data.path){var t=this.utag_data.pageType?this.utag_data.pageType.replace(/_/gi,"-"):"home";if(void 0!==e.__CBS_HOME__)this.utag_data.path="home";else if(e.tealium&&e.tealium.showTitle&&e.tealium.showDayPart){var n=[e.tealium.showTitle.replace(/ /gi,"-").replace(/[\[\]']+|&|:|;|!|[,.]|\+/gi,"").replace("--","-").toLocaleLowerCase(),t],r=e.tealium.showDayPart.replace(/ /gi,"-");"not"!=r&&n.unshift(r),this.utag_data.path=n.join("/")}else this.utag_data.path=t}},setDesktopShowNavTracking:function(){if(!CBS.Registry.homepage)try{$("#globalShowHeader .menuItems a").each((function(e){$(this).on("click",(function(t){CBS.Tracking.setClickTrackingBeforeHref(t,$(this),{item:"show nav|"+$(this).text().toLowerCase()+"|pos"+(e+1)+"|click"})})),$(this).attr("aa-link","show nav|"+$(this).text().toLowerCase()+"|"+(e+1)+"|click")})),$("#marqueeShowHeader .menuItems a").each((function(e){$(this).on("click",(function(t){CBS.Tracking.setClickTrackingBeforeHref(t,$(this),{item:"show nav|"+$(this).text().toLowerCase()+"|pos"+(e+1)+"|click"})})),$(this).attr("aa-link","show nav|"+$(this).text().toLowerCase()+"|"+(e+1)+"|click")})),$("#tryAllAccessButton").click((function(e){CBS.Tracking.setClickTrackingBeforeHref(e,$(this),{item:"Try One Week FREE|"+utag_data._pageName+"|marquee|branding|click"})})),$(".watchLatestButton").click((function(e){CBS.Tracking.setClickTrackingBeforeHref(e,$(this),{item:"Watch Latest|"+utag_data._pageName+"|marquee|branding|click"})})),$("#allAccessMarqueeContainer").click((function(e){CBS.Tracking.setClickTrackingBeforeHref(e,$(this),{item:"Watch Latest|"+utag_data._pageName+"|drawer|branding|click"})}))}catch(e){console.warn(e)}},setOverrides:function(e){if((document.location.href.indexOf("/schedule")>1||document.location.href.indexOf("/watch")>1&&document.location.href.indexOf("/watch_magazine")<1||"show listings"==this.utag_data.showTitle||document.location.href.indexOf("/user/mycbs")>1||document.location.href.indexOf("/user/signup")>1)&&(this.utag_data.showTitle=null,this.utag_data.showId=null,this.utag_data.articleType=null),document.location.href.indexOf("/user/mycbs")>1&&(this.utag_data.pageType="mycbs"),document.location.href.indexOf("/watch")>1&&document.location.href.indexOf("/watch_magazine")<1&&(this.utag_data.siteSection="other",this.utag_data.siteHier="other|other|watch|home",this.utag_data.pageType="video_door"),"show listings"==this.utag_data.showTitle&&(this.utag_data.pageType="category_doors"),document.location.href.indexOf("/roku")>1&&(this.utag_data.pageType="roku_activation",this.utag_data.siteHier="home|roku_activation"),document.location.href.indexOf("/rokusweeps")>1&&(this.utag_data.pageType="roku_sweeps",this.utag_data.siteHier="home|roku_sweeps"),document.location.href.indexOf("/holidaysweeps")>1&&(this.utag_data.pageType="holiday_sweeps",this.utag_data.siteHier="sweepstakes|holiday_sweeps"),document.location.href.indexOf("/movies/")>1){var t=document.location.href.split("/movies/")[1].split("/");this.utag_data.showGenre=null,this.utag_data.showBrowseCategory=null,this.utag_data.userType=e.userType;var n=document.referrer.split("/");(document.location.href.match(/.*\/movies\/$/)||[]).length>0?(this.utag_data.movieBrowseCategory="popular",this.utag_data.pageURL="/movies/"):n.length<=6&&(void 0===this.utag_data.movieId&&document.referrer.indexOf("/movies/")>1?(this.utag_data.movieGenre=null,1===t.length?(this.utag_data.movieBrowseCategory="popular",this.utag_data.pageURL="/movies/"):(this.utag_data.movieBrowseCategory=t[0],this.utag_data.pageURL="/movies/"+t[0]+"/")):this.utag_data.pageType="movie")}if(document.location.href.indexOf("/browse/")>1){var r=document.location.href.split("/browse/")[1].split("/");null===this.utag_data.showSeriesId?(this.utag_data.showGenre=null,this.utag_data.movieGenre=null,this.utag_data.movieBrowseCategory=null,1===r.length?(this.utag_data.showBrowseCategory="popular",this.utag_data.pageURL="/shows/"):(this.utag_data.showBrowseCategory=r[0],this.utag_data.pageURL="/shows/"+r[0]+"/")):void 0!==e.tealium.pageType?this.utag_data.pageType=e.tealium.pageType:this.utag_data.pageType="show"}},setViewTrack{}},setClickTrackingBeforeHref:function(e,t,n){e.preventDefault();var r=t.attr("href"),i=t.attr("target");try{om.trackClick(n),setTimeout((function(){"_blank"==i||"_new"==i?window.open(r):window.location.href=r}),500)}catch(e){"_blank"==i||"_new"==i?window.open(r):window.location.href=r}},setTrackSocialCl)}},clickTrackButton:function(e){try{om.trackClick({item:utag_data.showId+"|"+utag_data._pageType+"|"+e})}catch(e){}},clickTrackTaboola:function(e){try{$("body").delegate("[om-event]","clic})}))}catch(e){}},mt_r+e},getPageGuid:function(){var e=uuid.v4();om.trackView({pageViewGuid:e});try{window.__page_uuid=e,googletag.pubads().setTargeting("vguid",e)}catch(e){}},setDesktopActivityMapGlobalNavShowsSubNav:function(){var e=$("#globalShowsDropDown .show-nav-link");$.each(e,(function(e){var t=$(this).text().toLowerCase();$(this).attr("aa-link","global nav|shows|"+t+"|"+(e+1)+"|click")}))},setDesktopActivityMapWatchRelatedShows:function(){$("#relatedShowsCarousel").on("DOMNodeInserted","#relatedShowsCarousel",(function(){var e=$(".jcarousel-item .relatedShows .wp-tooltip");$.each(e,(function(e){$(this).attr("href");var t=$(this).attr("title").toLowerCase();$(this).attr("aa-link","Show|"+CBS.Registry.Show.name+"|Related Shows|"+t+"|"+(e+1))}))}))}}}()},45071:(e,t,n)=>{"use strict";n.d(t,{Gq:()=>l,X2:()=>o,au:()=>s});n(3447),n(14229),n(83753),n(73903),n(16201),n(16865),n(80815),n(58433),n(88515),n(94403),n(37352),n(44705),n(2316),n(98498),n(52815),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r,e}var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){om.trackAction(e,t)};if("undefined"!=typeof om)n();else var r=0,i=setInterval((function(){r++,"undefined"!=typeof om&&(n(),clearInterval(i)),r>=5&&(console.error("om is not loaded yet!"),clearInterval(i))}),1e3)},a=function(e){var t={row:0,col:0},n=$(".header__nav .siteLogo").length;return $(".navigation.header__nav--items")[0]&&$.contains($(".navigation.header__nav--items")[0],e)&&(t=function(e,t){var n=$(e).closest("ul");return n.hasClass("header__subnav")?{col:$(".header__nav > ul > li > a, .header__nav > ul > li > div").index(n.siblings("a,div")[0])+t,row:n.find("a").index(e)+1}:{col:$(".header__nav > ul > li > a, .header__nav > ul > li > div").index(e)+t,row:0}}(e,n)),n+=$(".header__nav > ul > li > a, .header__nav > ul > li > div").length,$.contains($(".header__account")[0],e)&&(t=function(e,t){return!0===CBS.Registry.user_auth?{row:$(e).closest("ul").find("a").index(e)+1,col:$(".header__account > li > ul > li > a").index(e)+t}:{col:$(".header__account > li > a").index(e)+t,row:0}}(e,n)),t},s=function(e){var t=a(e),n=t.row,r=t.col,s=$(e).parent()[0]===$(e).parents("ul").find("li").last()[0]&&$(e).hasClass("search"),l=0!==n||0!==r&&!s?$.trim($(e).text()):$(e).attr("aa-link").split("||")[1],u="PPLUS"===CBS.Registry.brand.name?"PPlusSubscriberBadge":"TVELockedBadge",c=0;if(CBS.Registry.user.id||"PPLUS"!==CBS.Registry.brand.name||(c=1),e.href.indexOf("live-tv")>-1){var d=l;e.href.indexOf("stream/cbsn")>1?d="CBSN Live Stream":e.href.indexOf("stream")>1&&(d="Live Local TV");var p=i(i(i(i(i(i(i({liveTvChannel:d},u,c.toString()),"menuItemLabel",l),"posRowNum",n.toString()),"posColNum",r.toString()),"TVELockedBadge",c),"menuOrientation","header"),"showGenre","US"!=CBS.Registry.region.property?"News":"");localStorage.getItem("nextGenMenuClicked")&&1===localStorage.getItem("nextGenMenuClicked")?localStorage.removeItem("nextGenMenuClicked"):(o("trackMenu",p),window.localStorage.setItem("metadata-video-tracking",JSON.stringify(p)))}else o("trackMenu",{menuItemLabel:l.replace(/^()})),ctaText:e.innerText.trim().toLowerCase(),posRowNum:n.toString(),posColNum:r.toString(),menuOrientation:"header"})},l=function(){return new Promise((function(e,t){try{CBS.Promises.Tracking.onLo()}))}catch(e){t()}}))}},97764:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(44705),n(2316),n(98498),n(52815),n(14229),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"USER_ATTRIBUTES","}}},{key:"PLAN_TYPES",get:function(){return{cf:{0:"CF_ANNUAL",1:"CF_MONTHLY"},lc:{0:"LC_ANNUAL",1:"LC_MONTHLY"},lcp:{0:"LCP_ANNUAL",1:"LCP_MONTHLY"}}}}],(n=null)&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},18"}},39783:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(44705),n(2316),n(98498),n(52815),n(14229),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"STATUS_ANONYMOUS",get:function(){return"ANONYMOUS"}},{key:"STATUS_REGISTERED",get:function(){return"REGISTERED"}},{key:"STATUS_SUBSCRIBER",get:function(){return"SUBSCRIBER"}},{key:"STATUS_SUSPENDED",get:function(){return"SUSPENDED"}},{key:"STATUS_EX_SUBSCRIBER",get:function(){return"EX_SUBSCRIBER"}},{key:"STATUS_CANCEL_SCHEDULED",get:function(){return"ACTIVE_CANCELLED"}},{key:"STATUS_RESELLER",get:function(){return"RESELLER"}},{key:"STATUS_ACTIVE",get:function(){return"ACTIVE"}}],(n=null)&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},24556:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(93318),n(49313),n(14229),n(28222),n(44705),n(2316),n(98498),n(52815),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var o=functiog"}var t,n,r;return t=e,(n=[{key:"getStorageDMA",value:function(){try{return JSON.parse(localStorage.getItem(this.localStorageName))}catch(e){return null}}},{key:"getDMAUrlDataAdapterSchedule",value:function(){try{var e="",t=this.getStorageDMA();if(t)return t.forEach((function(t){t.dma&&t.stationId&&(e+=""!=e?",":"",e+=t.dma+"|"+t.stationId+"|"+t.stationSlug)})),e}catch(e){this.removeStorageDMA()}return""}},{key:"getDMAStationIdStringOnNow",value:function(){try{var e="",t="",n=this.getStorageDMA();if(n)return n.forEach((function(n){n.dma&&n.stationId&&(e+=""!=e?",":"",e+=n.dma,t+=""!=t?",":"",t+=n.stationId)})),[e,t]}catch(e){}return[null,null]}},{key:"getCurrentLocation",va))}},{key:"setCurrentLocation",value:function(e){localStorage.setItem(this.localStorageLocation,JSON.stringify(e))}},{key:"setStorageDMA",va))}},{key:"removeStorageDMA",vae)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},46299:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(14229),n(37352),n(88515),n(24128),n(3939),n(58433),n(80815),n(88445),n(31271),n(93318),n(44705),n(2316),n(98498),n(52815),n(99180),n(73143),n(47589),n(49313),n(28222),n(67132),n(96111),n(62085),n(3468),n(90871),n(15848);var r=n(45071);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var c=functioe5}var t,n,i;return t=e,(n=[{key:"fetchLocation",value:function(){var e=this;return new Promise((function(t,n){var r;null===(r=e.__getFromCookie())&&null===(r=e.__getFromCache())?navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(r){if(r&&r.coords&&r.coords.latitude&&r.coords.longitude){var i=e._parseLocationObj(r);e.__saveToCache(i),t(i),sessionStorage.getItem("hasTrackedLocationShare")&&sessionStorage.removeItem("hasTrackedLocationShare"),e._trackLocationShare(!1)}else e.__fallback(t,n)n)}),{timeout:1e4,maximumAge:e.maxAge,enableHighAccuracy:!1}):t(r)}))}},{key:"__getFromCookie",value:function(){var e=document.cookie.match(new RegExp("(^| )latlon=([^;]+)"));if(e){var t=decodeURIComponent(e[2]).split(",");return{coords:{latitude:t[0],longitude:t[1]}}}return null}},{key:"_trackLocationShare",value:function(e){var t=sessionStorage.getItem("hasTrackedLocationShare"),n=e?"trackShareLocationDisabled":"trackShareLocationEnabled",i={locationShared:Number(!e).toString()};t||((0,r.X2)(n,i),sessionStorage.setItem("hasTrackedLocationShare",1))}},{key:"_parseLocationObj",value:function(e){var t=+(e.coords?e.coords.latitude:e.location.lat),n=+(e.coords?e.coords.longitude:e.location.lng);return{coords:{latitude:t.toFixed(2),longitude:n.toFixed(2)},isFallback:void 0!==e.isFallback}}},{key:"__saveToCache",value:function(e){var t={pos:e,expires:(new Date).getTime()+this.maxAge};window.sessionStorage.setItem("geo_cache",JSON.stringify(t))}},{key:"__getFromCache",value:function(){var e=window.sessionStorage.getItem("geo_cache");if(e){var t=JSON.parse(e);if(t&&t.pos&&t.expires>(new Date).getTime())return t.pos}return null}},{key:"__fallback",value:function(e,t){var n,r=this;r._trackLocationShare(!0),null!==(n=CBS.Registry.Features)&&void 0!==n&&n.geo_location_google_api?r.__fetchLatLngWithGoogleApi(e,t):r.__fetchLatLngWithMaxmind(e,t)}},{key:"__fetchLatLngWithGoogleApi",value:function(e,t){var n=this;$.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyBHfXqKCjfVvt8hBsZ36kZTWEr6sr0SFuA",(function(r){if(r&&r.location&&r.location.lat&&r.location.lng){r.isFallback=1;var i=n._parseLocationObj(r);n.__saveToCache(i),e(i)}else t()}),"json").fa){}))}},{key:"__fetchLatLngWithMaxmind",value:function(e,t){var n,r,i,o;!CBS.Registry.defaultGeolocation||null!==(n=CBS.Registry.geoLoc)&&void 0!==n&&n.lat&&null!==(r=CBS.Registry.geoLoc)&&void 0!==r&&r.lng?null!==(i=CBS.Registry.geoLoc)&&void 0!==i&&i.lat&&null!==(o=CBS.Registry.geoLoc)&&void 0!==o&&o.lng?e(this._parseLocationObj({location:a({},CBS.Registry.geoLoc)})):t():e(this._parseLocationObj({location:{lat:40.7128,lng:-74.006}}))}}])&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},46757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(80815),n(49313),n(14229),n(28222),n(93318),n(13625),n(37352),n(85893),n(98498),n(52815),n(62085),n(3468),n(90871),n(15848),n(44705),n(2316),n(88445),n(99180);var r=n(46090),i=n.n,o}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s={headers:{"X-Requested-With":"XMLHttpRequest"}};function l(e,t,n){!t||"object"!==a(t)||t instanceof Date||t instanceof File?e.append(n,t):Object.keys(t).forEar)}))}var u=functioe)}var t,n,r;return t=e,(n=[{key:"doPost",value:function(e,t){return new Promise((function(n,r){if(t&&"object"===a(t)){var o=new FormData;l(o,t),i().post(e,o,s).tht)})).catch((function(e){r(e)}))}else r("param: data is not an object")}))}},{key:"doGet",value:function(e,t){return new Promise((function(n,r){var o=s;t&&"object"===a(t)&&(o=Object.assign({params:t},s)),i().get(e,o).then((function(e){var t=e.data;t.success?n(t):r(t)})).catch((function(e){r(e)}))}))}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},31729:(e,t,n)=>{"use strict";n.d(t,{Kd:()=>s});n(93318),n(3939),n(88515),n(58433),n(94403);var r,i=n(2692),o=n.n(i);function a(e){var t="function"==typeof e?e():e;return function(e,n,r){var i=null==t?void 0:t[e];if(i&&n instanceof Object)for(var o=0,a=Object.keys(n);o<a.length;o++){var s=a[o],l=new RegExp("{".concat(s,"}"),"g");i=i.replace(l,n[s])}return i||r||e}}var s=a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#locales";if(!r)try{r=JSON.parse(o()(e).html())}catch(e){console.error("Locals not loaded")}return r||{}}))},14060:(e,t,n)=>{"use strict";n.d(t,{Bz:()=>l,EM:()=>s,ZP:()=>u});n(29202),n(83753),n(49313),n(14229),n(28222),n(44705),n(2316),n(98498),n(52815),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848),n(22190),n(36748),n(29174),n(80815),n(58433),n(16201),n(88515);function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var s=Object.freeze({AUTHSUITE_HEADER_UNBIND:"authSuite unbind from header.js",AUTHSUITE_HEADER_ERROR:"authSuite error encountered",AUTHSUITE_SIGNIN_ERROR:"authSuite error in SignIn",NO_AUTH_N:"NoAuthN",NO_AUTH_Z:"NoAuthZ"}),l=Object.freeze({APP_LOG:"trackAppLog"}),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queueActions=[],this.trackStateFired=!1,this.requireFiredStateOnTracking=!0,"number"==typeof t&&(this.timeout=t)}var t,n,i;return t=e,n=[{key:"trackAction",value:function(e){var t=arguments,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"undefined"!=typeof om?function(){try{if(void 0===("undefined"==typeof om?"undefined":o(om)))throw"om is not loaded yet!";if(!i&&n.requireFiredStateOnTracking&&!n.trackStateFired)return void n.queueActions.push(t);om.trackAction(e,r)}catch(e){n.onTrackingFail(e)}}():this.timeout&&setTimeout((function(){n.trackAction(e,r)}),this.timeout)}},{key:"trackLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"No message provided",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"No code provided";this.trackAction("trackAppLog",{appLogText:t,appLogType:e,appLogCode:n})}},{key:"trackState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"undefined"!=typeof om?function(){try{if(void 0===("undefined"==typeof om?"undefined":o(om)))throw"om is not loaded yet!";om.trackState(t),e.trackStateFired=!0,e.trackQueuedActions()}catch(t){e.onTrackingFail(t)}}():this.timeout&&setTimeout((function(){e.trackState(stateName,t)}),this.timeout)}},{key:"trackQueuedActions",value:function(){var e=this;this.queueActions.forEa))})),this.queueActions=[]}},{key:"onTrackingFail",vae)}}],n&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},6184:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});n(80815),n(14229),n(58433),n(95462),n(93318),n(80533),n(6468),n(44705),n(2316),n(98498),n(52815),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848);var r=n(40447),i=n(79975),o=n(70446),a=n(15493),s=n(94037),l=n(81360),u=n(81225),c=n(73819),d=n(19013),p=n(50997),h=n(30219),f=n(32297),v=n(46757),g=n(39783),m=n(97764),y=n(18224);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function w(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"sdkEndpoint",CBS.Registry.Braze.env.braze_sdk_endpoint),w(this,"apiKey",CBS.Registry.Braze.env.braze_api_key),w(this,"safariPushId",CBS.Registry.Braze.env.braze_safari_push_id),w(this,"http",null),w(this,"logging",CBS.Registry.Braze.env.braze_logging_enabled),w(this,"initialized",!1),w(this,"onInit",[]),this.http=new v.Z,this.isUserProfileQualified()?this.init(CBS.Registry.user.profile_id):r.o()}var t,n,b;return t=e,n=[{key:"init",value:function(e){var t=this;i.j(this.apiKey,{baseUrl:this.sdkEndpoint,enableLogging:this.logging,serviceWorkerLocation:"/sw.js",safariWebsitePushId:this.safariPushId,allowUserSuppliedJavascript:!0,inAppMessageZIndex:100050,doNotLoadFontAwesome:!0});try{o.P().getUserId((function(n){n===String(e)?t.openBrazeSession():(t.registerUserProfile(),t.requestBrowserNotificationPermission())}))}catch(e){console.log("Unable to init Braze user",e)}CBS.Braze={brazeObj:this,braze:a}}},{key:"registerUserProfile",value:function(){var e=this;this.getUserProfile().then((function(t){if(t&&t.activeProfile){var n=t.activeProfile;s.changeUser(n.id);var r=o.P();r.setFirstName(n.id.toString()),Object.keys(e.getProfileAttributes(n)).map((function(t){r.setCustomUserAttribute(t,e.getProfileAttributes(n)[t])})),r.setPushNotificationSubscriptionType(l.Z.NotificationSubscriptionTypes.SUBSCRIBED),e.openBrazeSession()}})).catch((function(e){console.error("Get User Profile Error: ".concat(e.message))}))}},{key:"openBrazeSession",value:function(){u.f(),c.U(),d.requestPushPermission(),this.initialized=!0;for(var e=0;e<=this.onInit.length;e++)"function"==typeof this.onInit[e]&&this.onInit[e]()}},{key:"getUserProfile",va")}},{key:"isInitialized",value:function(){return this.initialized}},{key:"setOnInit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.onInit.push(e)}},{key:"getProfileAttributes",value:function(e){var t,n,r=e.profileType,i=e.profilePicPath,o=CBS.Registry.user.plan,a=null!==(t=CBS.Registry.user.isMVPDAuthZ)&&void 0!==t&&t,s=CBS.Registry.user.sub_status,l=null!==(n=CBS.Registry.user.hasShowtimeAddon)&&void 0!==n&&n,u=CBS.Registry.brandPlatformID,c=CBS.Registry.user.source===y.F.SOURCE_RECURLY,d=(g.Z.STATUS_ANONYMOUS,g.Z.STATUS_SUBSCRIBER),p=g.Z.STATUS_REGISTERED,h=g.Z.STATUS_EX_SUBSCRIBER;return{profileType:r,"Plan - CF Annual":o===m.Z.PLAN_TYPES.cf[0],"Plan - CF Monthly":o===m.Z.PLAN_TYPES.cf[1],"Plan - LC Annual":o===m.Z.PLAN_TYPES.lc[0],"Plan - LC Monthly":o===m.Z.PLAN_TYPES.lc[1],"Plan - LCP Annual":o===m.Z.PLAN_TYPES.lcp[0],"Plan - LCP Monthly":o===m.Z.PLAN_TYPES.lcp[1],"User State - MVPD_AUTHZ":a,"User State - Ex Subscriber":s===h,"User State - Registered":s===p,"User State - Subscriber":s===d,BrandPlatformID:u,"showtime bundle":l,"User State - Recurly":c,AvatarImageUrl:i}}},{key:"isUserProfileQualified",value:function(){return!0===CBS.Registry.Features.braze_sdk&&CBS.Registry.user_auth&&"ADULT"===CBS.Registry.user.profile_type}},{key:"requestBrowserNotificationPermission",value:function(){var e=window.location.pathname;!p.H()||h.i()||e.includes("/user-profile/")||"undefined"!=typeof Notification&&Notification.requestPermission()}},{key:"testIAM",value:function(){return!(!this.logging||!this.initialized)&&f.logCustomEvent("page_view",{name:"testIAM"})}}],n&&_(t.prototype,n),b&&_(t,b),Object.defineProperty(t,"prototype",{writable:!1}),e}()},29828:(e,t,n)=>{"use strict";n.r(t),n.d(t,{brandsPageView:()=>b,myListPageView:()=>m,onAccountPageView:()=>w,onBrowsePageView:()=>k,onFreeTrialStart:()=>f,onHomePageView:()=>_,onLiveTvPageView:()=>y,onNewsPageView:()=>g,onSearchPageView:()=>v,onShowMoviePageView:()=>S,onViewVideo:()=>h});n(83753),n(80533),n(6468),n(44705),n(2316),n(98498),n(52815),n(14229),n(88445),n(99180),n(93318),n(73143),n(47589),n(49313),n(28222),n(67132),n(96111),n(62085),n(3468),n(90871),n(15848);var r=n(6184),i=n(26909);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="view_video",c="free_trial_start",d="page_view",p="/user-profile/";function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!0!==CBS.Registry.Features.braze_sdk||!CBS.Braze)return!1;"ADULT"===CBS.Registry.user.profile_type&&CBS.Braze.braze.logCustomEvent(u,{show:e,episode:t})}function f(){if(new r.default,!0!==CBS.Registry.Features.braze_sdk||!CBS.Braze)return!1;var e=CBS.Braze.brazeObj,t=function(){CBS.Braze.braze.logCustomEvent(c,{})};e.isInitialized()?t():e.setOnInit(t)}function v(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/search",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function g(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/news",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function m(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/my-list",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function y(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/live-tv",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function b(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/brands",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function _(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function w(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/account",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function S(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0)}function k(){T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==CBS.Registry.Features.braze_sdk)return!1;if(CBS.Registry.IAM&&CBS.Registry.IAM===i.j)setTimeout(T,10,e,t);else{if(void 0!==CBS.Registry.IAM&&""!==CBS.Registry.IAM)return!1;CBS.Registry.IAM=window.location.pathname;var n=setInterval((function(){CBS.Braze&&(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.location.pathname,r=CBS.Braze.brazeObj,i={name:e,path:n,platform:"Web"};if(!0!==CBS.Registry.Features.braze_sdk||!CBS.Braze)return!1;if("ADULT"!==CBS.Registry.user.profile_type)return;if(n.includes(p))return;var o=function(){CBS.Braze.braze.logCustomEvent(d,s(s({},i),t))};r.isInitialized()?o():r.setOnInit(o)}(e,t),clearInterval(n))}),200)}}},26909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,j:()=>a});n(57865),n(80815),n(3468),n(14229),n(37352),n(90871),n(15848),n(58433),n(93318),n(3447),n(44705),n(2316),n(98498),n(52815),n(88445),n(99180),n(62085);var r=n(46757);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}var a="pending",s=functio.Z}var t,i,s;return t=e,(i=[{key:"init",value:function(){if(!this.isUserProfileOverlayOpen()){var e=parseInt(window.localStorage.getItem("cbsplc"))||0;if(2==++e&&!CBS.Registry.intlOverlay){var t={pageType:CBS.Registry.pageType,timestamp:(new Date).getTime()};if(CBS.Registry.IAM&&""!==CBS.Registry.IAM)return;return CBS.Registry.IAM=a,this.http.doGet("/in-app-messaging/",t).then((function(e){e&&Promise.all([n.e(71813),n.e(35951)]).then(n.bind(n,26612)).then((function(t){CBS.Registry.IAM=window.location.pathname,new t.default(e)})).catch((function(e){}))})).catAM}))}window.localStorage.setItem("cbsplc",e.toString())}}},{key:"isUserProfileOverlayOpen",value:function(){if(document.querySelector("#user-profiles-js-var")){var e=JSON.parse(document.querySelector("#user-profiles-js-var").innerHTML);if(e.startupCmds&&e.startupCmds.length>0){var t=e.startupCmds.fiay}));return void 0!==t}}return!1}}])&&o(t.prototype,i),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()},55154:()=>{"ontouchstart"in document.documentElement&&$("body").attr("touch-enabled",!0)},94124:()=>{!function(e){e.fn.isOnScreen=function(t,n,r){null!=t&&void 0!==t||(t=1),null!=n&&void 0!==n||(n=1),null!=r&&"undefined"!=r||(r=!1);var i,o=e(window),a={top:o.scrollTop(),left:o.scrollLeft()},s=this.outerHeight(),l=this.outerWidth(),u=this.offset();return a.right=a.left+o.width(),a.bottom=a.top+o.height(),!(!l||!s)&&(u.right=u.left+l,u.bottom=u.top+s,!!!(a.right<u.left||a.left>u.right||a.bottom<u.top||a.top>u.bottom)&&(r?(i={top:a.bottom-u.top,left:a.right-u.left,bottom:u.bottom-a.top,right:u.right-a.left}).top>0&&i.left>0&&i.right>0&&i.bottom>0:(i={top:Math.min(1,(u.bottom-a.top)/s),bottom:Math.min(1,(a.bottom-u.top)/s),left:Math.min(1,(u.right-a.left)/l),right:Math.min(1,(a.right-u.left)/l)}).left*i.right>=t&&i.top*i.bottom>=n))}}(jQuery)},52021:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=function(){var e="continuous_play_".concat(CBS.Registry.user.profile_id),t=localStorage.getItem(e);return"true"==t||!t},i=function(){return 1==r()?"1":"0"}},87861:function(e){e.exports=function(){"use stris)}var t="undefined"!=typeof window,n=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),r=t&&"IntersectionObserver"in window,i=t&&"classList"in document.createElement("p"),o=t&&window.devicePixelRatio>1,a={elements_selector:"img",container:n||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,cancel_on_exit:!1,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1t)n)t)r)},d=function(e){return u(e,"ll-status")},p=function(e,t){return c(e,"ll-status",t)},h=function(e){return p(e,null)},f=function(e){return null===d(e)},v=function(e){return"delayed"===d(e)},g=["loading","applied","loaded","error"-1t)},b=function(e){return u(e,"ll-timeout")))+t")},k=function(e){return e.llTempImage)}},E=function(e){e&&(e.loadingCount+=1) nn)t)},O=function(e){return!!e.llOriginalAttrst})}))")t)},M={t)},IFR))},VI()}))},D=["IMG","IFRAME","VIDEO"],Z=function(e){e&&(e.loadingCount-=1)t)=nn)},z=function(e){return!!e.llEvLisnrss}n)))1)n)},W=function(e,t,-1}(e)?V(e,tn)}(e,t,n),G(n),F(t,n)))))))},K=function(e,t,n,r){f(e)||(n.cancel_on_exit&&function(e){return"loading"===d(e)}(e)&&Y(e,t,n,r),_(n.callback_exit,e,t,r),n.load_delay&&v(e)&&J(e))},Q=["IMG","IFRAME"]pe}=0},ne=function(e){var t=e._settings;r&&!ee(e._settings)&&(e._observer=new IntersectionObserver((function(n){!function(e,t,n){e.forEach((function(e){ret>0}(e)?X(e.target,e,t,n):K(e.target,e,t,n)}))}(n,t,e"}}(t)))}e)}r)}e)}))}()},le=function(e,n){var r;this._settings=s(e),this.loadingCount=0,ne(this),r=this,t&&window.addEventListener("online",(function(e){se(r)})),this.update(n)};return le.prototype={update:function(e){var t,i,o=this._settings,a=ae(e,o);this.toLoadCount=a.length,!n&&r?ee(o)?te(a,o,this):(i=a,function(e){e.disconnect()}(t=this._observ))}(t,i)):this.loadAll(a)},destnt},load))},resetElementStas)},ls)}},le.ln)}t)}(le,window.lazyLoadOptions),le}()},10ue},66915:(e,t,n)=>{"use strict";var r=n(61645),i=n(38671),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},3)}},60)}},400}},84)}},25)}},45)}},99))},9)}},8y}},99)}},91)}},85:u},52)}},32)}},13)}},68t}},12d}},6e)},89=o},12t}},10)}},57}}},36n}},3)}},3r}},95}}},26}}},8k}},87}}},411}},91))},62"}},34}}},82e}},61}}},28n}},75)}},89)}},93e}},90e}},51t}},11)}},33))},92n}},37}}},49e}},470}},8:i},41334:(e,t,n)=>{"use strict";var r=n(17703).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},73nt},81118:e=>{"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},54on},77840:(e,t,n)=>{"use strict";var r=n(17703);e.exports=/MSIE|Trident/.test(r)},39le},93352:(e,t,n)=>{"use strict";var r=n(17703);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},89s)},57r)},17""},13=i},731]},27"]},8}}},58}}},47)}},72))},51})},83}}},32))},3l}},75)}},55u}},26}}},78)}},12}}},24n}},64]}},40)}},26}}},79)}},96)}},84()},49)}},36{}},47}}},74")},99))},82:a},68e}},44ce},92!0},76}}},95)}},11)}},61e}},40:v},16)}},60=a},76e}},70)}},58!1},72)}},44)}},79)}},57n}},46e}},89P}},2v}},76257:e=>{"use strict";e.exports={}},81)}},79")},21)}},89=S},50)}},72e}},15:c},98:u},95:p},79)}},83e}},66e}},82)}},68)}},61)}},7ls},16l}},57:s},9f)},18c}},45)}},85:n},490)},40)}},80"}},78)}},32t}},76=r},17}}},86v}},33se},90e}},77))},32)}},36=t},44)}},1=m},42t}},35)}},18o}},33))},93))},48e}},75t}},44e}},18)}},32)}},9)}},99=a},13"})},7n)}},7))}},50)}},6 n}},8.name2),trim&&r&&),{ariSymbolet:b,cr(1..v+t,0):turn r0===t?254740turn ber"), i(t)?"===St;retururn"Ob+a(++ix",voiof Sym:!1}).umentse/.tese,{value:o.f(e)})}},35437:(e,t,n)=>{"use strict";var r=n(Symbol  n]);else u(h+1),c(p,h++,o);return p.length=h,p}})},73143:(e,t,n)=>{"use strict";var r=n(8841),i=n(91036).filter;r({target:"Array",proto:!0,forced:!n(52369)("filter")},{filter:function(e){return i(this,e,arguray",pn(3625ts.len[1]:void 0;return l?s(this,e,t)||0:o(this,e,t)}})},22190:(e,t,n)=>{"use strict";n(8841)(.name)functito:!0,this,egth;reurn o(++,d++0;r<n;;g++)bDate",r"!=t("toPrfunctiion",p{try{rlobal:ull,rstrict";var r=n(84320);n(32412)(r.JSON,"JSON",!0)},36314:(e,t,n)=>{"use strict";n(8108)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(9506:(e,t&y(e,n"0."+p:!0,abject",stat:!0,sham:!n(33255)},{create:n(79832)})},96111:(e,t,n)=>{"use strict";var r=n(8841),i=n(33255),o=n(83284).f;r({target:"Object",stat:!0,forced:Object.definePrt.defiect",s},{free,(funpertyD)void bols:f!s},{gon(){orget:");r||i(Object.prototype,"toString",o,{unsafe:!0})},85149:(e,t,n)=>{"use strict";var r=n(8841),i=n(15165);r({globa);r({g||r(a)pe.cat,wrap:ally;p2078),,r)})).f(thlve:fuotypeet?vope=x,g:"RegE;returguments.length?arguments[0]:void 0)}}),n(9(o(e))oid 0,{linki,s(r.,O=S(f={a:"ndex,return9617)("trim")},{trim:function(){return i(this)}})},13491:(e,t,:!u},{{globat];var62085:ict";na(e)+"t";vn(32n=k)),P(this,e,t),n===S&&_(e),n===k&&w(e),this}})},67966:(e,t,n)=>{"use strict";n(330)},69431:(e,t,n)=>{"use strict";n(19for(van i)p(r[h]&&r[h].prototype,h);p(o,"DOMTokenList")},91821:(e,t,n)=>{"use strict";var r=n(8841),i=n(84320),o=n(44274)(i.setInterval,!0);r({global:!0,bind:!,bind:})},83t:ye})etStatnction(){return i(URL.prototype.toString,this)}})},57629:( e=0;e<n.l) object stores on indexedDB "+t.database.od)}}))}}a.ep={Ft:{od:"AppboyServiceWorkerAsyncStorage",VERSION:6,Jt:{Na:"data",kr:"pushClicks",cu:"pushSubscribed",dd:"fallbackDevice",qt:"cardUpdates",se:"optOut",wr:"pendingData",qh:id 0===e,destroy:fg setLogger ca1):(cst t="Braze: "+e;null!=s.j?s.j(t):console.log(t)}},warn:function(e){if(s.zg){const t="Braze SDK Warning: "+e+" (e+" (v4.10.1)";null!=s.j?s.j(t):console.error(t)}}},l=s,u={On:i,q:{CustomEvent:"ce",Pr:"p",Mu:"pc",cc:"ca",Ka:"i",qs:"ie",P:"cci",T:"ccic",$:"ccc",H:"ccd",Wl:"ss",xl:"se",Vi:"si",Li:"sc",Qi:"sbc",Ki:"sfe",eo:"iec",Lu:"lr",Tu:"uae",R:"ci",B:"cc",Ru:"lcaa",Pu:"lcar",Xn:"inc",Jn:"add",Qn:"rem",Hn:"set",Kn:"ncam",Nu:"sgu",Fr:"ffi"},Cr:{Br:"feed_displayed",dc:"content_cards_displayed"},Z:o,xt:a,zt:a.ep,j:l,Yo:{ho:"allowCrawlerActivity",Eo:"baseUrl",_o:"noCookies",Io:"devicePropertyAllowlist",Aa:"disablePushTokenMaintenance",Ao:"enableLogging",So:"enableSdkAuthentication",qa:"manageServiceWorkerExternally",No:"minimumIntervalBetweenTriggerActionsInSeconds",wo:"sessionTimeoutInSeconds",Oo:"appVersion",Po:"appVersionNumber",_a:"serviceWorkerLocation",ka:"safariWebsitePushId",Ba:"localization",po:"contentSecurityNonce",Ro:"enableHtmlInAppMessages",Co:"allowUserSuppliedJavascript",lo:"inAppMessageZIndex",fo:"openInAppMessagesInNewTab",en:"openNewsFeedCardsInNewTab",mh:"requireExplicitInAppMessageDismissal",Lo:"doNotLoadFontAwesome",Mo:"sdkFlavor",tn:"openCardsInNewTab"}}},86546:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(32746),n(46058);class l{constructor(e){this.u=e,this.u=e}h(e,t){const n=new o.Z;if(e.p(),null==e.url||""===e.url)return a.Z.j.info(`Card ${e.id} has no url. Not logging click to Braze servers.`),n;if(t&&e.id&&this.u){const t=this.u.v(s.I.k.C)||{};t[e.id]=!0,this.u.D(s.I.k.C,t)}const r=this.I([e]);if(null==r)return n;const l=t?a.Z.q.$:a.Z.q.B;return i.Z.N(l,r)}A(e){const t=new o.Z;if(!e.F())return a.Z.j.info(`Card ${e.id} refused this dismissal. Ignoring analytics event.`),t;if(e.id&&this.u){const t=this.u.v(s.I.k.G)||{};t[e.id]=!0,this.u.D(s.I.k.G,t)}const n=this.I([e]);return null==n?t:i.Z.N(a.Z.q.H,n)}J(e,t){const n=new o.Z(!0),l=[],u=[];let c={};this.u&&(c=t?this.u.v(s.I.k.K)||{}:this.u.v(s.I.k.L)||{});for(const t of e)t.M(),t instanceof r.Z?u.push(t):l.push(t),t.id&&(c[t.id]=!0);const d=this.I(l),p=this.I(u);if(null==d&&null==p)return n.O=!1,n;if(this.u&&(t?this.u.D(s.I.k.K,c):this.u.D(s.I.k.L,c)),null!=d){const e=t?a.Z.q.P:a.Z.q.R,r=i.Z.N(e,d);n.S(r)}if(nu&(n=n||{},n.ids=n.ids||[],n.ids.push(t:null,m:()=>(c.o(),c.i||(c.i=new l(u.ZP.l())),c.i),o:()=>{c.t||(u.ZP.g(c),c.t=!0)},destroy:()=>{c.i=null,c.t=!1}},d=c},14738:(e,t,n)=>{"use strict";n.d(t,{CG:()=>f,Dj:()=>v,Ji:()=>u,Zw:()=>d,pq:()=>p,ql:()=>l,rW:()=>c,sv:()=>h});var r=n(36422),i=n(30673),o=n(31266),a=n(10704),s=n(57629);function l(e){return null!=e&&!!e.getAttribute("data-ab-had-top-impression")}function u(e){null!=e&&ei/t.aspectRatio;e&&(r.style.height=`${e}px`)}}function v(e,t,n){const l=document.createElement("div");l.className="ab-card ab-effect-card "+e.U,e.id&&(l.setAttribute("data-ab-card-id",e.id),l.setAttribute("id",e.id)),l.setAttribute("role","article"),l.setAttribute("tabindex","0");let u=!0);const d=r=>(p(l),c&&(t(e),(0,o.S)(u,n,r)),!1);if(e.pinned){const e=document.createElement("div");e.className="ab-pinned-indicator";const t=document.createElement("i");t.className="fa fa-star",e.appendChild(t),l.appendChild(e)}if(e.imageUrl&&""!==e.imageUrl){const t=document.createElement("div");t.className="ab-image-area";const n=document.createElement("ription||(n="Feed Image"),t.setAttribute("alt",n)}(e,n),t.appendChild(n),l.className+=" with-image",c&&!e.V){const e=document.createElement("a");e.setAttribute("href",u),e.onclick=d,e.appendChild(t),l.appendChild(e)}else l.appendChild(t)}const h=document.createElement("div");if(h.classNam",e.dismissible){e.logCardDismissal=()=>(0,a.K)(e);const t=(0,r.B)("Dismiss Card",void 0,e.dismissCard.bind(e));l.appendChild(t),(0,i.FZ)(h,i.mQ.W,(e=>{l.className+=" (e=>{l.className+=" ab-swiped-right",t.onclick(e)}))}let f="",v=!1;if(e.title&&""!==e.title&&(f=e.title,v=!0),v){const e=document.createElement("h1");if(e.className="ab-title",e.id=s.Z.Z.Y(),l.setAttribute("aria-labelledby",e.id),c){const t=document.createElement("a");t.setAttribute("href",u),t.onclick=d,t.appendChild(document.createTextNode(f)),e.appendChild(t)}else e.appendChild(document.createTextNode(f));h.appendChild(e)}const g=document.createElement("div");if(g.className=v?"ab-description":"ab-description ab-no-title",g.id=s.Z.Z.Y(),l.setAttribute("aria-describedby",g.id),e.description&&g.appendChild(document.createTextNode(e.description)),c){const t=document.createElement("div");t.className="ab-url-area";const n=document.createElement("a");n.setAttribute("href",u),e.linkText&&n.appendChild(document.createTextNode(e.linkText)),n.onclick=d,t.appendChild(n),g.appendChild(t)}h.appendChild(g),l.appendChild(h);const m=document.createElement("div");return m.className="ab-unread-indicator",e.viewed&&(m.className+=" read"),l.appendChild(m),e._=l,l}},37805:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var r=n(?i.Z.m().h(e,t).O:(s.Z.j.error("card "+o.U4),!1))}},10704:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var r=n(.Z?i.Z.m().A(e).O:(s.Z.j.error("card "+o.U4),!1))}},4189:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(13408),i=n(ard in cards ${s.U4}`),!1;return i.Z.m().J(e,t).O}},64006:(e,tr.Z.hs.ys]=this.clicked,e[r.Z.hs.zs]=this.test,e}}},14567:(e,tr.Z.hs.ys]=this.clicked,e[r.Z.hs.zs]=this.test,e}}},13408:(e,t,n)=>{"use strict";n.d(t,{Z:()Control=!1,this.test=!1,this.ht=null,this.nt=null&e.parentNode.removeChild(e)}),a.ut))}),i.rF))}etw Error("Must be implemented in a subclass")}}a.Nt=-1,a.Tt={ns:"id",ls:"v",js:"db",It:"r",us:"ca",gs:"p",ds:"ea",xs:"e",ts:"tp",os:"i",st:"tt",it:"ds",URL:"u",ps:"dm",fs:"ar",ys:"cl",zs:"t"},a.es={tt:"captioned_image",ct:"text_announcement",St:"short_news",rs:"banner_image",At:"control"},a.hs={ns:"id",ls:"v",js:"db",cs:"cr",us:"ca",gs:"p",bs:"t",ds:"ea",xs:"e",ts:"tp",os:"i",st:"tt",it:"ds",URL:"u",ps:"dm",fs:"ar",ys:"cl",zs:"s"},a.Dt={dt:"ADVERTISING",Ct:"ANN.Z.hs.ys]=this.clicked,e[r.Z.hs.zs]=this.test,e}}},32746:(e,t[r.Z.hs.gs]=this.pinned,e[r.Z.hs.zs]=this.test,e}}},82190:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(13408),i=n(64006);class o extends i.Z{constructor(e,t,n,r,i,o,a,s,l,u,c,d,p,h){super(e,t,n,r,i,o,a,s,l,u,c,d,p,h),this.[r.Z.hs.ys]=this.clicked,e[r.Z.hs.zs]=this.test,e}}},56164:(e,t,n)=>{"use strict";n.d(t,{D5:()=>p,rN:()=>h,xA:()=>d});var r=n(13408),i=n(50222),o=n(.hs.js],e[r.Z.hs.ys],e[r.Z.hs.zs]||!1)||void 0}},94037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{changeUser:()=>l});var r=n(80385),i=n(22512),o=n(57629),a=n(81360),s=n(43216);function l(e,t){if(!r.ZP.rr())return;if(null==e||0===e.length||e!=e)return void o.Z.j.error("changeUser requires a non-empty userId.");if((0,i.E)(e)>a.Z.lr)return void o.Z.j.error(`Rejected user id "${e}" because it is longer than ${a.Z.lr} bytes.`);if(null!=t&&!(0,s.ro)(t,"set signature for new user","signature"))return;const n=r.ZP.cr();n&&n.changeUser(e.toString(),r.ZP.gr(),t)}},40447:(e,t,n)=>{"use nfo("Deage",T0385);function i(){if(r.ZP.rr())return r.ZP.br()}},31266:(e,t,n)=>{"use strict";n.d(t,{S:()=>p,h:()=>h});var r=n(57629),i=n(54841),o=n(80385),a=n(31647),s=n(84125),l=n(75139),u=n(43216),c=n(15498),d=n(70446);function p(e,t,p){if(o.ZP.rr())if(u.y9.test(e)){const t=(0,a.OL)(e);if(!t)return;const p=e=>{if(!(0,u.zR)(e))return void r.Z.j.error(`Decoded Braze Action json is invalid: ${JSON.stringify(e,null,2)}`);const t=a.A9.properties.type,h=a.A9.properties.me,f=a.A9.properties.le,v=e[t];if(v===a.A9.types.ue){const t=e[h];for(const e of t)p(e)}else{const t=e[f];let u,p;switch(v){case a.A9.types.logCustomEvent:Promise.resolve().then(n.bind(n,32297)).then((({logCustomEvent:e})=>{o.ZP.fe()?(p=Array.prototype.slice.call(t),e(...p)):r.Z.j.error(i.Go)}));break;case a.A9.types.requestPushPermission:Promise.resolve().then(n.bind(n,19013)).then((({requestPushPermission:e})=>{o.ZP.fe()?"Safari"===s.Z.browser&&s.Z.OS===l.T.de?window.navigator.standalone&&e():e():r.Z.j.error(i.Go)}));break;case a.A9.types.setEmailNotificationSubscriptionType:case a.A9.types.setPushNotificationSubscriptionType:case a.A9.types.setCustomUserAttribute:case a.A9.types.addToSubscriptionGroup:case a.A9.types.removeFromSubscriptionGroup:case a.A9.types.addToCustomAttributeArray:case a.A9.types.removeFromCustomAttributeArray:u=(0,d.P)(),u&&u[v](...Array.prototype.slice.call(t));break;case a.A9.types.pe:case a.A9.types.je:p=Array.prototype.slice.call(t),c.SD.openUri(...p);break;default:r.Z.j.info(`Ignoring unknown Braze Action: ${v}`)}}};p(t)}else c.SD.openUri(e,t,p)}function h(e,t){p(e,t)}},79975:(e,t0385);function i(e,t){return r.ZP.initialize(e,t)}},32297:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logCustomEvent:()=>c});var r=n(80385),i=n(61956),o=n(57629),a=n(15966),s=n(86218),l=n(43216),u=n(54841);function c(e,t){if(!r.ZP.rr())return!1;if(null==e||e.length<=0)return o.Z.j.error(`logCustomEvent requires a non-empty eventName, got "${e}". Ignoring event.`),!1;if(!(0,l.zM)(e,"log custom event","the event name"))return!1;const[n,c]=(0,l.lg)(t,u._P,"eventProperties",`log custom event "${e}"`,"event");if(!n)return!1;const d=r.ZP.tr();if(d&&d.ge(e))return o.Z.j.info(`Custom Event "${e}" is blocklisted, ignoring.`),!1;const p=i.Z.N(o.Z.q.CustomEvent,{n:e,p:c});if(p.O){o.Z.j.info(`Logged custom event "${e}".`);for(const n of p.ve)s.n.er().be(a.Z.$e,[e,t],n)}return p.O}},60504:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logPurchase:()=>c});var r=n(80385),i=n(54841),o=n(57629),a=n(15966),s=n(86218),l=n(43216),u=n(61956);function c(e,t,n,c,d){if(!r.ZP.rr())return!1;if(null==n&&(n="USD"),null==c&&(c=1),null==e||e.length<=0)return o.Z.j.error(`logPurchase requires a non-empty productId, got "${e}", ignoring.`),!1;if(!(0,l.zM)(e,"log purchase","the purchase name"))return!1;if(null==t||isNaN(parseFloat(t.toString())))return o.Z.j.error(`logPurchase requires a numeric price, got ${t}, ignoring.`),!1;const p=parseFloat(t.toString()).toFixed(2);if(null==c||isNaN(parseInt(c.toString())))return o.Z.j.error(`logPurchase requires an integer quantity, got ${c}, ignoring.`),!1;const h=parseInt(c.toString());if(h<1||h>i.Fz)return o.Z.j.error(`logPurchase requires a quantity >1 and <${i.Fz}, got ${h}, ignoring.`),!1;if(n=null!=n?n.toUpperCase():n,-1===["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYR","BZD","CAD","CDF","CHF","CLF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MTL","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPD","XPF","XPT","YER","ZAR","ZMK","ZMW","ZWL"].indexOf(n))return o.Z.j.error(`logPurchase requires a valid currencyCode, got ${n}, ignoring.`),!1;const[f,v]=(0,l.lg)(d,"logPurchase","purchaseProperties",`log purchase "${e}"`,"purchase");if(!f)return!1;const g=r.ZP.tr();if(g&&g.Dr(e))return o.Z.j.info(`Purchase "${e}" is blocklisted, ignoring.`),!1;const m=u.Z.N(o.Z.q.Pr,{pid:e,c:n,p,q:h,pr:v});if(m.O){o.Z.j.info(`Logged ${h} purchase${h>1?"s":""} of "${e}" for ${n} ${p}.`);for(const t of m.ve)s.n.er().be(a.Z.Rr,[e,d],t)}return m.O}},73819:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(80385),i=n(57629),o=n(15966),a=n(86218);function s(){if(!r.ZP.rr())return;const e=r.ZP.cr();if(!e)return;e.openSession();const t=i.Z.zt.Ft,n=new i.Z.xt(t,i.Z.j);n.hr(t.Jt.kr,((r,s)=>{const l=s.lastClick,u=s.trackingString;i.Z.j.info(`Firing push click trigger =e.vr(l,u),d=function(){a.n.er().be(o.Z.zr,[u],c)};e.$r(d,d),n.oe(t.Jt.kr,ction i(e){r.ZP.rr()&&r.ZP.removeSubscription(e)}},20964:(e,t,n)=>{"use strict";n.r(t),n.d(tnst t=r.ZP.cr();t&&t.requestImmediateDataFlush(e)}},87909:(e,t,n)=>{"uenabled=t,this.properties=n,this.trackingString=r}getStringProperty(e){const t=this.properties[e];return null==t?(this.Er(e),null):this.Ir(t)?t.value:(this.Nr("string"),null)}getNumberProperty(e){const t=this.properties[e];return null==t?(this.Er(e)this.properties,e[i.hs.ze]=this.trackingString,enfo(`${e} not found in feature flag properties.`)}Ir(e){return"string"===e.type&&"string"==typeof e.value}Tr(e)turn"boolean"===e.type&&"boolean"==typeof e.value}}i.hs={ns:"id",Fe:"e",we:"pr",ze:"fts"},i.Tt={ns:"id",Fe:"enabled",we:"properties",ze:"fts"}},7674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(80385),i=n(57629),o=n(65286),a=n(46058),s=n(41500),l=n(95711),u=n(49080),c=n(87909);function d(e){if(e[c.Z.Tt.ns]&&"boolean"==typeof e[c.Z.Tt.Fe])return new c.Z(e[c.Z.Tt.ns],e[c.Z.Tt.Fe],e[c.Z.Tt.we],e[c.Z.Tt.ze]);i.Z.j.info(`Unable to create feature flag from ${JSON.stringify(e,null,2)}`)}function p(e){if(e[c.Z.hs.ns]&&"boolean"==typeof e[c.Z.hs.Fe])return new c.Z(e[c.Z.hs.ns],e[c.Z.hs.Fe],e[c.Z.hs.we],e[c.Z.hs.ze]);i.Z.j.info(`Unable to deserialize feature flag from ${JSON.stringi.yi=10,this.ji=null,this.bi=null,r.ZP.jt(this.wi)}Ts(e){if((!this.wt||this.wt.vi())&&null!=e&&e.feature_flags){this.pi=[];for(const t of e.feature_flags){const e=d(t);e&&this.pi.push(e)}this.gi=(I.k.qi))||{}}xi(e){this.u&&this.u.D(a.I.k.qi,e)}ri(e){return this.wi.lt(e)}refreshFeatureFlags(e,t,n=!1,r=!0){if(!this.zFi=this.wt.Ci((()=>{this.refreshFeatureFlags(e,t)}))),void("function"==typeof t&&t());if(r&&this.Ii(),!this.gt)return void("function"==typeof t&&t());const i=this.gt.Bs({},!0),o=this.gt.Hs(i,h.Z.Os.Si);let a=!1;this.gt.Qs(i,(()=>{this.gt?(h.Z.Ws(this.u,h.Z.Os.Si,(new Date).valueOf()),u.Z.Xs({url:`${this.gt.Ys()}/feature_flags/sync`,headers:o,data:i,O:n=>{if(!this.gt.Zs(i,n,o))return a=!0,void("function"==typeof t&&t());this.gt.ti(),this.Ts(n),a=!1,h.Z.si(thng $i(Math.min(3e5,(0,l.R)(1e3*thishis.u.D(a.I.k.Ri,e),this.u.DZP.ar(),r.ZP.l()),r.ZP.dr(v.provider)),v.provider),o:()=>{v.t||(r.ZP.g(v),v.t=!0)},destroy:()=>{v.provider=null,v.t=!1}},g=v},47922:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,reefreshFeatureFlags(e,t,n)}function a(e,t){o(e,t)}const s=o},4639:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(80385),i=n(65286),o=n(55572),a=n(56164),s=this.u.D(l.I.k.L,i),this.u.D(l.I.k.Ei,this.Ai))}Rs(){if(!this.u)return;const e=[];for(let t=0;t<this.cards.length;t.Ai)}Ms(){this.ki&&this.),this.yt.Et(new o.Z(this.cardsZP.l(),r.ZP.cr()),r.ZP.dr(d.provider)),d.provider),o:()=>{d.t||(r.ZP.g(d),d.t=!0)},destroy:()=>{d.provider=null,d.t=!1}},p=d},55572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>return(0,o.d)(e,!1)}sr(){(0,a.a)()}ur(){return!1}}},48141:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(80385),i=n(57629);function o(){if(!r.ZP.rr())return;const e=r.ZP.ar();return e?e.qr(i.Z.Cr.Br).O:void 0}},22311:(e,t,n)=>{"use9);function o(){if(r.ZP.rr())return i.Z.er().Ms()}},61484:(e,t,n)=>{"use;function o(e){if(r.ZP.rr())return i.Z.er().ri(e)}},21582:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showFeed:()=>h});var r=n(80385),i=n(15712),o=n(55572),a=n(61484),s=n(48141),l=n(4639),u=n(15683),c=n(14738),d=n(26761),p=n(57629);functi());(0,u.jV)(i,n).length>0&&r.push(e[t])}return r},f=r.ZP.nn(r.JY.tn)||r.ZP.nn(r.JY.en)||!1;let v=!1;null==e&&(e=document.body,v=!0);let g,m=!1;null==t?(g=l.Z.er().Hi(),(0,i.Of)(g,h(g.cards,n),g.lastUpdated,null,f),m=!0):g=new o.Z(h(t,n),new Date);const y=(0,i.Yz)(g,f,v);if(m){(null==g.lastUpdated||(new Date).valueOf()-g.lastUpdated.valueOf()>o.Z.mr)&&(p.Z.j.info(`Cached feed was older than max TTL of ${o.Z.mr} ms, requesting an update from the server.`),(0,i(t,0))}(0,i.Of)(g,h(t.ca(),(0,s.j)(),(0,i.cz)(g,y),g&&(0,c.CG)(g.cards,e)}ypeof _&&_(new Event("oldLoad")),b(document.body)})}},81295:(e,t,n)=>{"use strict";n.d(t,{V:()=>p,q:()=>d});var r=n(51257),i=n(15939),o=n(63874),a=n(12565),s=n(84516),l=n(25861),u=n(97408),c=n(57629);function d(e){if(!e)return null;if(e.is_control)return i.Z.fromJson(e);let t=e.type;null!=t&&(t=t.toUpperCase());const n=e.message,d=e.text_align_message,p=e.slide_from,h=e.extras,f=e.trigger_id,v=e.click_action,g=e.uri,m=e.open_target,y=e.message_close,b=e.duration,_=e.icon,w=e.image_url,S=e.image_style,k=e.icon_color,T=e.icon_bg_color,E=e.bg_color,x=e.text_color,C=e.close_btn_color,P=e.header,O=e.text_align_header,A=e.header_text_color,I=e.frame_color,L=[];let j=e.btns;null==j&&(j=[]);for(let e=0;e<j.length;e++)L.push(s.Z.fromJson(j[e]));const N=e.crop_type,M=e.orientation,R=e.animate_in,D=e.animate_out;let Z,F=e.html_id,B=e.css;if(null!=F&&""!==F&&null!=B&&""!==B||(F=void 0,B=void 0),t===l.Z.es||t===r.Z.qe.Se)Z=new l.Z(n,d,h,f,v,g,m,y,b,_,w,S,k,T,E,x,C,R,D,P,O,A,I,L,N,F,B);else if(t===o.Z.es)Z=new o.Z(n,d,h,f,v,g,m,y,b,_,w,S,k,T,E,x,C,R,D,P,O,A,I,L,N,M,F,B);else if(t===u.Z.es)Z=new u.Z(n,d,p,h,f,v,g,m,y,b,_,w,k,T,E,x,C,R,D,F,B);else{if(t!==a.Z.es&&t!==r.Z.qe.Ee&&t!==r.Z.qe.Ue)return void c.Z.j.error("Ignoring message with unknown type "+t);{const t=e.message_fields;Z=new a.Z(n,h,f,y,b,R,Dn.borderColor,n.clickAction,n.uri,n.id));return t}},49119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(49080),i=n(80385),o=n(15939),a=n(12565),s=n(51257),l=n(84516),u=n(61956),c=n(81295),d=n(95711),p=n(8517),h=n(57629),f=n(41500),v=n(69457),g=n(15683),m=n(43216),y=n(31647),b=n(62913),_=n(18625),w.jt(this.Ve),this.We=1e3,this.Xe=6e4,this.Ye=null}Ze(){return thisthis.Ve.lt(e)}Pi(){return this.Ye}Oi(e){this.Ye=e}Ji(e,t){if(!e)return new p.Z;if(!(0,g.fk)(s.Z.Ie,t,`${t} is not a valid in-app message display failure`,"InAppMessage.DisplayFailures"))return new p.Z;const n={trign.URI&&e.uri&&m.y9.test(e.uri)?t(e.uri):void 0}Hr(e,t,n,i){if(!this.gt)return;const o=this.gt.Jr(!1,!1),a=this.gt.Bs(o);a.template={trigger_id:e.triggerId,trigger_event_type:t},null!=n&&(a.template.data=n.Kr());const l=this.gt.Hs(a,_.Z.Os.Lr);this.gt.Qs(a,(()=>{this.gt&&(_.Z.Ws(this.u,_.Z.Os.Lr,(new Date).valueOf()),r.Z.Xs({url:`${this.gt.Ys()}/template/`,data:a,headers:l,O:t=>{if(_.Z.si(this.u,_.Z.Os.Lr,1),!this.gt.Zs(a,t,l))return this.Ji(e.triggerId,s.Z.Ie.Qr),void("function"==typeof e.Ur&&e.Ur());if(this.gt.ti(),null==t||null==t.templated_message)return void this.Ji(e.triggerId,s.Z.Ie.Qr);const n=t.templated_message;if(n.type!==v.Z.Wr.Vr)return void this.Ji(e.triggerId,s.Z.Ie.Xr);const r=(0,c.q)(n.data);if(null==r)return void this.Ji(e.triggerId,s.Z.Ie.Xr);const i=this.Mr(r);if(i)return h.Z.j.error(i),void("function"==typeof e.Ur&&e.Ur());"function"==typeof meout(&&this.mn(),t}mn(){tew),i.ZP.i|(i.ZP.g(x),x.t=!0)},destroy:()=>{x.i=null,x.t=!1}},C=x},48357:(e,t,n)=>{"use strict";n.d(t,{S:()=>d});var r=n(80385),i=n(54841),o=n(51257),a=n(84516),s=n(49119),l=n(57629),u=n(15966),c=n(86218);function d(e,t){var n;if(!r.ZP.rr())return!1;if(!(e instanceof a.Z))return l.Z.j.error("button must be an InAppMessageButton object"),!1;if(!(t instanceof o.Z))return l.Z.j.error(i.De),!1;const d=s.Z.m().Xi(e,t);if(d.O)for(let r=0;r<d.ve.length;r++)c.n.er().be(u.Z.ro,[t.triggerId,null===(n=e.id)||void 0===n?void 0:n.toString()],d.ve[r]);return d.O}},57454:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var r=n(80385),i=n(51257),o=n(49119),a=n(94860),s=n(54841),l=n(57629),u=n(15966),c=n(86218);function d(e){if(!r.ZP.rr())return!1;if(!(e instanceof i.Z))return l.Z.j.error(s.De),!1;const t=o.Z.m().N(e,l.Z.q.Li);if(t){e.so()||(0,a.v)(e);for(let n=0;n<t.ve.length;n++)c.n.er().be(u.Z.ro,[e.triggerId],t.ve[n])}return t.O}},30053:(e,t,n)=>{"use strict";n.d(t,{U:()=>u});var r=n(80385),i=n(r().be(s.Z.ro,[e.triggerId,t],c.ve[n]);return c.O}},94860:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var r=n(80385),i=n(eof i.Z?l.Z.q.eo:l.Z.q.Vi;return a.Z.m().N(e,t)!0}static fromJson(e){return new r(e.trigger_id)}}},63874:(e,t,n)=>{"use .hs.ya],e[i.Z.hs.Sa],e[i.Z.hs.ba],e[i.Z.hs.CSS])}}o.es=i.Z.qe.on},12565:(e,t.hs.va],e[r.Z.hs.ba],e[r.Z.hs.CSS],e[r.Z.hs.vo])}}i.es=r.Z.qe.ln},84516:(e,t,n)=>{"use _color,e.border_color,e.click_action,e.uri,e.id)}}o.Yi=-1},51257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(80385),i=n(is.htmlId,t[u.hs.CSS]=this.css,t[u.hs.ts]=e,t):t}}u.th={hh:4281545523,ih:4294967295,sh:4278219733,Dh:4293914607,Mh:4283782485,Eh:3224580915,eh:4288387995},u.Ie={Ch:"hd",Le:"ias",dh:"of",Uh:"do",Xr:"umt",Qr:"tf",bh:"te"},u.SlideFrom={TOP:"TOP",BOTTOM:"BOTTOM"},u.ClickAction={NEWS_FEED:"NEWS_FEED",URI:"URI",NONE:"NONE"},u.DismissType={AUTO_DISMISS:"AUTO_DISMISS",MANUAL:"SWIPE"},u.OpenTarget={NONE:"NONE",BLANK:"BLANK"},u.ImageStyle={TOP:"TOP",GRAPHIC:"GRAPHIC"},u.Orientation={PORTRAIT:"PORTRAIT",LANDSCAPE:"LANDSCAPE"},u.TextAlignment={START:"START",CENTER:"CENTER",END:"END"},u.CropType={CENTER_CROP:"CENTER_CROP",FIT_CENTER:"FIT_CENTER"},u.qe={pn:"SLIDEUP",un:"MODAL",Se:"MODAL_STYLED",on:"FULL",ln:"WEB_HTML",Ee:"HTML",Ue:"HTML_FULL"},u.Oh=500,u.Ph=200,u.ah="ab-show",u.Ih="ab-hide",u.lh="ab-pause-scrolling",u.hs={ea:"m",ra:"ma",Sh:"sf",xs:"e",sa:"ti",ta:"ca",URI:"u",ia:"oa",oa:"dt",pa:"d",ma:"i",os:"iu",na:"is",ua:"ic",ca:"ibc",fa:"bc",da:"tc",la:"cbc",ga:"ai",ja:"ao",xa:"h",za:"ha",ha:"htc",va:"fc",wa:"b",ya:"ct",Sa:"o",ba:"hi",CSS:"css",ts:"type",vo:"messageFields"}},25861:(e,t,n)=>{"use hs.wa]),e[i.Z.hs.ya],e[i.Z.hs.ba],e[i.Z.hs.CSS])}}o.es=i.Z.qe.un},97408:(e,t,n)=>{"use .hs.ga],e[r.Z.hs.ja],e[r.Z.hs.ba],e[r.Z.hs.CSS])}}o.es=r.Z.qe.pn},609:(e,t,n)=>{"use .m()._i((function(t){return e(t[0]),t.slice(1)}))}},81225:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var r=n(49119),i=n(80385),o=n(98159),a=n(59553),s=n(609);function l(){if(!i.ZP.rr())return;(0,o.R)()();if(null==e.Pi()){const t=(0,s.u)((e=>(0,a.g)(e)));e.Oi(t)}return e.Pi()}},59553:(e,t,n)=>{"use strict";n.d(t,{g:()=>L});var r=n(80385),i=n(15939),o=n(12565),a=n(51257),s=n(97408),l=n(491155&e,((4278190080&e)>>>24)/255*t].join(",")+")"))}var f=n(57454),v=n(31266),g=n(98159),m=n(84125),y=n(30053),b=n(70446),_=n(15683),w=n(75139),S=n(81855),k=n(15498),T=n(57629(), Message"),e&&t.setAttribute("aria-labelledby",e)},He:(e,t,n,r)=>{if(e.buttons&&e.buttons.length>0){const i=document.createElement("div");i.className="ab-message-buttons",n.appendChild(i);const o=n.getElementsByClassName("ab-message-text")[0];null!=o&&(o.className+=" ab-with-buttons");const s=i=>o=>(e.ye(n,(()=>{(0,x.S)(i,e),i.clickAction===a.Z.ClickAction.URI?(0,v.S)(i.uri||"",r||e.openTarget===a.Z.OpenTarget.BLANK,o):i.clickAction===a.Z.ClickAction.NEWS_FEED&&t()})),o.stopPropagation(),!1);for(let t=0;t<e.buttons.length;t++){const n=e.buttons[t],r=document.createElement("button");r.className="ab-message-button",r.setAttribute("type","button"),(0,d.lj)(r,"touchstart");let o=n.text;""===n.text&&(o=" "),r.appendChild(document.createTextNode(o)),e.Ae()||(r.style.backgroundColor=h(n.backgroundColor),r.style.color=h(n.textColor),r.style.borderColor=h(n.borderColor)),r.onclick=s(n),i.appendChild(r)}}}};function O(e,t,i,l,x,C,O,A=document.body){if(e.ke=document.activeElement,e instanceof o.Z)return function(e,t,i,o,s,l){const u=document.createElement("iframe");u.setAttribute("title","Modal Message"),s&&(u.style.zIndex=(s+1).toString());const c=t=>{const n=t.getAttribute("href"),r=t.onclick;return i=>{if(null!=r&&"function"==typeof r&&!1===r.bind(t)(i))return;let s=(0,S.L)(n).abButtonId;if(null!=s&&""!==s||(s=t.getAttribute("id")||void 0),null!=n&&""!==n&&0!==n.indexOf("#")){const r="blank"===(t.getAttribute("target")||"").toLowerCase().replace("_BLANK||r,c=()=>{(0,y.U)(e,s,n),k.SD.openUri(n,l,i)};l?c():e.ye(u,c)}else(0,y.;${n};${e.slice(i.index+i[0].length)}`}return null};if(u.onload=()=>{let o=null;if(null!=l){o=document.createElement("html"),o.innerHTML=e.message||"";const t=o.getElementsByTagName("style");for(let e=0;e<t.length;e++)t[e].setAttribute("nonce",l);const n=o.getElementsByTagName("script");for(let e=0;e<n.length;e++){n[e].setAttribute("nonce",l),n[e].innerHTML=n[e].innerHTML.replace(/<style>/g,`<style nonce='${l}'>`);const t=d(n[e].innerHTML,l,"script");t&&(n[e].innerHTML=t);const r=d(n[e].innerHTML,l,"style");r&&(n[e].innerHTML=r)}}const s=u.contentWindow;s.focus(),s.document.write(o?o.innerHTML:e.message||"");const p=s.document.getElementsByTagName("head")[0];if(null!=p){if((0,g.D)(p),e.Ae()){const t=document.createElement("style");t.innerHTML=e.css||"",t.id=e.Ce()||"",null!=l&&t.setAttribute("nonce",l),p.appendChild(t)}const t=s.document.createElement("base");null!=t&&(t.setAttribute("target","_parent"),p.appendChild(t))}const h=s.document.getElementsByTagName("title");h&&h.length>0&&u.setAttribute(tent||"");const f={closeMessage:function(){e.ye(u)},logClick:function(){(0,y.U)(e,...arguments)},display:{},web:{}},v=function(){return function(){const e=arguments;Promise.resolve().then(n.bind(n,19013)).then((t=>{r.ZP.fe()?t.requestPushPermission(...Array.prototype.slice.call(e)):T.Z.j.error(E.Go)}))}},m={requestImmediateDataFlush:function(){const e=arguments;Promise.resolve().then(n.bind(n,20964)).then((({requestImmediateDataFlush:t})=>{r.ZP.fe()?t(...Array.prototype.slice.call(e)):T.Z.j.error(E.Go)}))},logCustomEvent:function(){const e=arguments;Promise.resolve().then(n.bind(n,32297)).then((({logCustomEvent:t})=>{r.ZP.fe()?t(...Array.prototype.slice.call(e)):T.Z.j.error(E.Go)}))},logPurchase:function(){const e=arguments;Promise.resolve().then(n.bind(n,60504)).then((({logPurchase:t})=>{r.ZP.fe()?t(...Array.prototype.slice.call(e)):T.Z.j.error(E.Go)}))},unregisterPush:function(){const e=arguments;Promise.resolve().then(n.bind(n,62241)).then((({unregisterPush:t})=>{r.ZP.fe()?t(...Array.prototype.slice.call(e)):T.Z.j.error(E.Go)}))},requestPushPermission:v(),changeUser:function(){const e=arguments;Promise.resolve().then(n.bind(n,94037)).then((({changeUser:t})=>{r.ZP.fe()?t(...Array.prototype.slice.call(e)):T.Z.j.error(E.Go)}))}},w=function(e){return function(){m[e](...Array.prototype.slice.call(arguments))}};for(const e of(0,_.XP)(m))f[e]=w(e);const S=["setFirstName","setLastName","setEmail","setGender","setDateOfBirth","setCountry","setHomeCity","setEmailNotificationSubscriptionType","setLanguage","addAlias","setPushNotificationSubscriptionType","setPhoneNumber","setCustomUserAttribute","addToCustomAttributeArray","removeFromCustomAttributeArray","incrementCustomUserAttribute","setCustomLocationAttribute","addTot&&t[e](...Array.prototype.slice.call(arguments))}},x={};f;e++)x[S[e]]=k(S[e]);f.ction(){C[t](...Array.prototype.slice.call(n))}))}},O=f.display;for(const e of(0,_.XP)(C))O(){A[e](...Array.prototype.slice.call(arguments))}},L=f.web;for(const e of(0,_.XP)(A))L[e]=I(e);if(s.appboyBridge=f,s.brazeBridge=f,e.Pe!==a.Z.qe.Ee){const e=s.document.getElementsByTagName("a");for(let t=0;t<e.length;t++)e[t].onclick=c(e[t]);const t=s.document.getElementsByTagName("button");for(let e=0;e<t.length;e++)t[e].onclick=c(t[e])}const j=s.document.body;if(null!=j){e.Ne()&&(j.id=e.htmlId||"");const t=document.createElement("hidden");t.onclick=f.closeMessage,t.className="ab-programmatic-close-button",j.appendChild(t)}s.dispatchEvent(new CustomEvent("ab.BridgeReady")),-1!==u.className.indexOf("ab-start-hidden")&&(u.className=u.className.replace("ab-start-hidden",""),i(u)),document.activeElement!==u&&u.focus()},u.className="ab-in-app-message ab-start-hidden ab-html-message ab-modal-interactions",m.Z.OS===w.T.de){const t=document.createElement("div");return t.className="ab-ios-scroll-wrapper",t.appendChild(u),e.Me=t,t}return e.Me=u,u}(e,t,i,x,C,O);const I=function(e,t,n,r,i,o,s=document.body){let l=null;const u=document.createElement("div");var c;u.className="ab-in-app-message ab-start-hidden ab-background",o&&(u.style.zIndex=(o+1).toString()),e.xe()&&(u.className+=" ab-modal-interactions",u.setAttribute("tabindex","-1")),e.Ae()||(u.style.color=h(e.textColor),u.style.backgroundColor=h(e.backgroundColor),null!=(c=e.backgroundColor)&&(c=parseInt(c.toString()),!isNaN(c)&&(4278190080&c another message is being shown.`,a.Z.Ie.Le):n(u))},m=(t=!0)=>{let n=document.querySelectorAll(".ab-iam-root");n&&0!==n.length||(n=s.querySelectorAll(".ab-iam-root")),n&&n.length>0&&(n[0].classList.remove("ab-iam-img-loading"),l&&(clearTimeout(l),l=null),t?g():T.Z.j.error(`Cannot show in-app message ${e.message} because the image failed to load.`))};e.imageStyle===a.Z.ImageStyle.GRAPHIC&&(u.className+=" graphic"),e.orientation===a.Z.Orientation.LANDSCAPE&&(u.className+=" landscape"),null!=e.buttons&&0===e.buttons.length&&(e.clickAction!==a.Z.ClickAction.NONE&&(u.className+=" ab-clickable"),u.onclick=n=>(e.ye(u,(()=>{(0,f.W)(e),e.clickAction===a.Z.ClickAction.URI?(0,v.S)(e.uri||"",i||e.openTarget===a.Z.OpenTarget.BLANK,n):e.clickAction===a.Z.ClickAction.NEWS_FEED&&t()})),n.stopPropagation(),!1));const y=(0,p.B)(",e.Ae()?void 0:h(e.closeButtonColor),(()=>{e.ye(u)}));u.appendChild(y),o&&(y.style.zIndex=(o+2).toString());const b=document.createElement("div");b.className="ab-message-text";const _=(e.messageAlignment||e.Te).toLowerCase();b.className+=" "+_+"-aligned";let w=!1;const S=document.createElement("div");if(S.className="ab-image-area",e.imageUrl){if(e.cropType===a.Z.CropType.CENTER_CROP){const t=document.createElement("span");t.className="ab-center-cropped-img",t.style.backgroundImage="url("+e.imageUrl+")",t.setAttribute("role","img"),t.setAttribute("aria-label","Modal Image"),e.Be(t),S.appendChild(t)}else{const t=document.createElement("img");if(t.setAttribute("src",e.imageUrl),e.Be(t),0===document.querySelectorAll(".ab-iam-img-loading").length){w=!0;const e=document.querySelectorAll(".ab-iam-root");e&&e.length>0&&e[0].classList.add("ab-iam-img-loadinow.setTime!1)}),6e4),t.onload=()=>{m()},t.onerror=()=>{m(!1)}}S.appendChild(t)}u.appendChild(S),b.className+=" ab-with-image"}else if(e.icon){S.className+=" ab-icon-area";const t=document.createElement("span");t.className="ab-icon",e.Ae()||(t.style.backgroundColor=h(e.iconBackgroundColor),t.style.color=h(e.iconColor));const n=document.createElement("i");n.className="fa",n.appendChild(document.createTextNode(e.icon)),n.setAttribute("aria-hidden","true"),t.appendChild(n),S.appendChild(t),u.appendChild(S),b.className+=" ab-with-icon"}if((0,d.lj)(b,"touchstart"),e.header&&e.header.length>0){const t=document.createElement("h1");t.className="ab-message-header",e.De=T.Z.Z.Y(),t.id=e.De;const n=(e.headerAlignment||a.Z.TextAlignment.CENTER).toLowerCase();t.className+=" "+n+"-aligned",e.Ae()||(t.style.color=h(e.headerTextColor)),t.appendChild(document.createTextNode(e.header)),b.appendChild(t)}return b.appendChild(e.Ge()),u.appendChild(b),w||g(),e.Me=u,u}(e,t,i,l,x,C,A);if(e instanceof u.Z||e instanceof c.Z){const n=e instanceof u.Z?"ab-fullscreen":"ab-modal";I.className+=` ${n} ab-centered`,P.He(e,t,I,x),P.Je(I),P.Ke(e.De,I)}else if(e instanceof s.Z){I.className+=" ab-slideup";const t=I.getElementsByClassName("ab-close-button")[0];if(null!=t){const n=(0,d.MK)("0 0 11.38 19.44","M11.38 9.72l-9.33 9.72L0 17.3l7.27-7.58L0 2.14 2.05 0l9.33 9.72z",e.Ae()?void 0:h(e.closeButtonColor));n.setAttribute("class","ab-chevron"),t.appendChild(n)}let n,r;(0,d.FZ)(I,d.mQ.W,(e=>{I.className+=" ab-swiped-left",null!=t&&iped-right",null!=t&&null!=t.onclick&&t.onclick(e)})),e.slideFrom===a.Z.SlideFrom.TOP?(n=d.mQ.Oe,r=" ab-swipedlassName+=r,null!=t&&null!=t.onclick&&t.onclick(e)}))}return I}var A=n(94860),I=n(94247);function L(e,t,d){if(!r.ZP.rr())return;if((0,g.R)(),null==e)return!1;if(e instanceof i.Z)return T.Z.j.info("User received control for a multivariate test, logging to Braze servers."),(0,A.v)(e),!0;if(!(e instanceof a.Z))return!1;if(e.constructor===a.Z)return!1;const p=l.Z.m();e.Nh();const f=e instanceof o.Z;if(f&&!e.trusted&&!r.ZP.nr())return T.Z.j.error('HTML in-app messages are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable these messages.'),p.Ji(e.triggerId,a.Z.Ie.Ch),!1;if(null==t&&(t=document.body),e.xe()&&t.querySelectorAll(".ab-modal-interactions").length>0)return T.Z.j.info(`Cannot show in-app message ${e.message} because another message is being shown.`),p.Ji(e.triggerId,a.Z.Ie.Le),!1;if(k.SD.ao()){const t=k.SD.mo();if(t===k.eh.PORTRAIT&&e.orientation===a.Z.Orientation.LANDSCAPE||t===k.eh.LANDSCAPE&&e.orientation===a.Z.Orientation.PORTRAIT){const n=t===k.eh.PORTRAIT?"portrait":"landscape",r=e.orientation===a.Z.Orientation.PORTRAIT?"portrait":"landscape";return T.Z.j.info(`Not showing ${r} in-app message ${e.message} because the screen is currently ${n}`),p.Ji(e.triggerId,a.Z.Ie.dh),!1}}if(!r.ZP.nr()){let t=!1;if(e.buttons&&e.buttons.length>0){const n=e.buttons;for(let e=0;e<n.length;e++)if(n[e].clickAction===a.Z.ClickAction.URI){const r=n[e].uri;t=(0,S.o)(r)}}else e.clickAction===a.Z.ClickAction.URI&&(t=(0,S.o)(e.uri));if(t)return T.Z.j.error('Javascript click actions are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable these actions.'),p.Ji(e.triggerId,a.Z.Ie.Ch),!1}const v=document.createElement(modal":e instanceof s.Z&&(t+=" ab-effect-slide"),t}(e),v.setAttribute("role","complementary"),e.Ne()&&(v.id=e.htmlId),r.ZP.nn(r.JY.lo)&&(v.style.zIndex=(r.ZP.nn(r.JY.lo)+1).toString()),t.appendChild(v),e.Ae()){const t=document.createElement("style");t.innerHTML=e.css,t.id=e.Ce(),null!=r.ZP.nn(r.JY.po)&&t.setAttribute("nonce",r.ZP.nn(r.JY.po)),document.getElementsByTagName("head")[0].appendChild(t)}const m=e instanceof s.Z,y=O(e,(()=>{Promise.resolve().then(n.bind(n,21582)).then((e=>{r.ZP.fe()?e.showFeed():T.Z.j.error(E.Go)}))}),(t=>{if(e.xe()&&e.io()){const n=document.createElement("div");if(n.className="ab-page-blocker",e.Ae()||(n.style.backgroundColor=h(e.frameColor)),r.ZP.nn(r.JY.lo)&&(n.style.zIndex=r.ZP.nn(r.JY.lo).toString()),v.appendChild(n),!r.ZP..valueOf()-r>a.Z.Ph&&(e.ye(t),n.stopPropagation())}}v.appendChild(t),t.focus(),e.Ah(v)}else if(m){const n=document.querySelectorAll(".ab-slideup");let r=null;for(let e=n.length-1;e>=0;e--)if(n[e]!==t){r=n[e];break}if(e.slideFrom===a.Z.SlideFrom.TOP){let e=0;null!=r&&(e=r.offsetTop+r.offsetHeight),t.style.top=Math.max(e,0)+"px"}else{let e=0;null!=r&&(e=(window.innerHeight||document.documentElement.clientHeight)-r.offsetTop),t.style.bottom=Math.max(e,0)+"px"}}else if(f&&!r.ZP.nn(r.JY.mh)){const n=e;(0,I.f)(t)&&t.content,(function(e){e.keyCode===C.m._h&&n.closeMessage()}))}(0,A.v)(e),e.dismO_DISMISS&&setTimeout((()=>{v.contains(t)&&&d()}),((t,n)=>{T.Z.j.info(t),p.Ji(e.triggerId,n)}),r.ZP.nn(r.JY.fo),r.ZP.nn(r.JY.lo),r.ZP.nn(r.JY.po),t);return(f||m)&&(v.appendChild(y),e.Ah(v)),!0}},94f:()=>r});const r=e=>null!==e&&"IFRAME"===e.tagName},30219:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(80385),i=n(62913);function o(){if(r.ZP.rr())return i.Z.isPushPermissionGranted()}},50997:(e,t,n)=>{"usetion o(){if(r.ZP.rr())return i.Z.isPushSupported()}}:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(80385),i=n(15683),o=n(78276),a=n(57629),s=n(46058),ption error: "+e.endpoint.indexOf(n.Wn)&&(t=e.endpoint+"/"+n.Wn),t})(e);let i=null,o=null;const a=e;if(null!=a.getKey)try{const e=Array.from(new Uint8Array(a.getKey("p256dh"))),t=Array.from(new Uint8Array(a.getKey("auth")));i=btoa(String.fromCharCode.apply(null,e)),o=btoa(String.fromCharCode.apply(null,t))}catch(e){iy(t)))).replace(/\+/g,"-").replace(/\//g,"_"):null})(a);this.hn&&this.Nn(!1),a.Z.j.info(e),"function"==typeof t&&t(!1)}zn(e,t,n,r){var i;if("default"===t.permission)try{window.safari.pushNotification.requestPermission(this.wn,e,{api_key:this.cn,device_id:(nulcationSubscriptionTypes.OPTED_IN),this.zn(e,t,n,r)}))}catch(e){this.Tn("Could not request permission for push: "+e,r)}else"denied"===t.permission?this.Tn("The user has blocked notifications from this site, or Safari push is not configured in the Braze dashboard.",r):"granted"===t.permission&&(a.Z.j.info("Device successfully subsco("Service worker successfully unregistered."))}subscribe(e,t){if(!c.Z.isPushSupported())return a.Z.j.info(p.qn),void("function"==typeof t&&t(!1));if(this.vn){if(!this.yn&&null!=window.location){let e=this.dn;-1===e.indexOf(window.location.host)&&(e=window.location.host+e),-1===e.indexOf(window.location.protocol)&&(e=window.location.protocol+"//"+e);const n=e.substr(0,e.lastIndexOf("/")+1);if(0!==u.SD.Cn().indexOf(n))return a.Z.j.error("Cannot subscribe to push from a path higher than the service worker location (tried to subscribe from "+window.location.pathname+" but service worker is at "+e+")"),void("function"==typeof t&&t(!0))}if(c.Z.isPushBlocked())return void this.Tn("Notifications from this site are blocked. This may be a temporary embargo or a permanent denial.",t);if(this.wt&&!this.wt.En()&&0===this.wt.li())return a.Z.j.info("Waiting for VAPID key from server config before subscribing to push."),vicweek)."),a.Z.j.info(e),"function"==typeof t&&t(!0)},d=c.Z.isPushPermissionGranted(),p=()=>{!d&&this.hn&&this.hn.setPushNotificationSubscriptionType(l.Z.NotificationSubscriptionTypes.OPTED_IN),this.In().then((n=>{if(null==n)return a.Z.j.error("No service worker registration. Set the `manageServiceWorkerExternally` initialization option to false or ensure that your service worker is registered before calling registerPush."),void("function"==typeof t&&t(!0));n.pushManager.getSubscription().then((r=>{let l=null;if(this.wt&&null!=this.wt.En()&&(l=a.Z.On.Fn(this.wt.En())),r){let u,c=null,d=null;if(this.u&&(u=this.u.v(s.I.k.Bn)),u&&!(0,i.kJ)(u)){let e;try{e=o.Z.Yn(u).Mn}catch(t){e=null}null==e||isNaN(e.getTime())||0===e.getTime()||(c=e,d=new Date(c),d.setMonth(c.getMonth()+6))}null!=l&&r.options&&r.options.applicationServerKey&&r.options.applicationServerKey.byteLength&&r.options.applicationServerKey.byteLength>0&&!(0,i.Xy)(l,new Uint8Array(r.options.applicationServerKey))?(r.options.applicationServerKey.byteLength>12?a.Z.j.info("Device was already subscribed to push using a different VAPID provider, creating new subscription."):a.Z.j.info("Attempting to upgrade a gcm_sender_id-based push registration to VAPID - depending on the browser this may or may not result in the same gcm_sender_id-based subscription."),this.An(r,n,l,e,t)):r.expirationTime&&new Date(r.expirationTime).valueOf()<=(new Date).valueOf()?(a.Z.j.info("Push subscription is expired, creating new subscription."),this.An(r,n,l,e,t)):u&&(0,i.kJ)(u)?this.An(r,n,l,e,t):null==d?(a.Z.j.info("No push subscription creation date found, creating new subscription."),this.An(r,n,l,e,t)):d.valueOf()<=(new Date).valueOf()?(a.Z.j.info("Push subscription older than 6 months, creating new subscription."),this.An(r,n,l,e,t)):(a.Z.j.info("Device already subscribed to push, sending existing subscription to backend."),this.Un(r,c,e))}else this.jn(n,l,e,t)})).catch((e=>{a.Z.j.error("Error cheZ.j.error("ServiceWorker registration failed: "+e)}))};this.requestPermission(p,r,n)}else if(this.Pn){if(null==this.bn||""===this.bn)return a.Z.j.error("You must supply the safariWebsitePushId initialization option in order to use registerPush on Safari"),void("function"==typeof t&&t(!0));const n=window.safari.pushNotifsubscribed from push."),"function"==typeof e&&e())}}p.qn="Push notifications are not),r.ZP.nn(r.JY.qa),r.ZP.nn(r.JY.Aa),r.ZP.l())),h.i),o:()=>{h.t||(r.ZP.g(h),h.t=!0)},destroy:()=>{h.i=null,h.t=!1}},f=h},19013:(e,t,n)=>{"use strict";n.r(t),n.d(t,{requateDataf(r.ZPPushSupported()&&!r.isPushPermissionGranted()},i=r},81360:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(15683),i=n(57629),o=n(43216),a=n(54841),s=n(50913);class l{constequires a non-empty label"),!1):this.ki.$n(e,t).O}setFirstName(e){return!!(0,o.ro)(e,"set first name","the firstName",!0)&&this.ft.nu("first_name",e)}setLastName(e){return!!(0,o.ro)(e,"set last gender.`,"User.Genders"))&&this.ft.nu("gender",e)}setDateOfBirth(e,t,n){return null===e&&null===t&&null===n?this.ft.nu("dob",null):(e=null!=e?parseInt(e.toString()):null,t=null!=t?parseInt(t.toString()):null,n=null!=n?parseInt(n.toString()):null,null==e||null==t||null==n||isNaN(e)||isNaN(t)||isNaN(n)||t>12||t<1||n>31||n<1?(i.Z.j.error("Cannot set date of birth - parameters should comprise a valid date e.g. setDateOfBirth(1776, 7, 4);"),!1):this.ft.nu("dob",`${e}-${t}-${n}`))}setCountry(e){return!!(0,o.ro)(e,"set country","the country",!0)&&this.ft.nu("country",e)}setHomeCity(e){return!!(0,o.ro)(e,"set home uage","the language",!0)&&this.ft.nu("language",e)}setEmailNotificationSubscriptionType(e){return!!(0,r.fk)(l.NotificationSubscriptionTypes,e,`Email notification setting "${e}" is not a valid subscription type.`,"User.NotificationSe number - "${e}" did not pass validation.`),!1))}setLastKnownLocation(e,t,n,r,o){return null==e||null==t?(i.Z.j.error("Cannot set last-known location - latitude and longitude are required."),!1):(e=parseFloat(e.toString()),t=parseFloat(t.toString()),null!=n&&(n=parseFloat(n.toString())),null!=r&&(r=parseFloat(r.toString())),null!=o&&(o=parseFloat(o.toString())),isNaN(e)||isNaN(t)||null!=n&&isNaN(n)||null!=r&&isNaN(r)||null!=o&&isNaN(o)?(i.Z.j.error("Cannot set last-known location - all supplied parameters must be numeric."),!1):e>90||e<-90||t>180||t<-180?(i.Z.j.error("Cannot set last-known location - latitude and longitude are bounded by ±90 and ±180 respectively."),!1):null!=n&&n<0||null!=o&&o<0?(i.Z.j.error("Cannot set last-known location - accuracy and altitudeAccuracy may not be negative."),!1):this.ki.setLastKnownLocation(this.ft.getUserId(),e,t,r,n,o).O)}setCustom attribute "${e}"`,"custom user attribute");return n};if((0,r.kJ)(t)){const[n,r]=(0,o.$g)(e,t);if(!n&&!r&&0!==t.length)return!1;if(n||0===t.length)return this.ki.Gn(i.Z.q.Hn,e,t).O;for(const e of t)if(!l(e))return!1}else if((0,r.Kn)(t)){if(!l(t))return!1;if(n)return this.ki.Gn(i.Z.q.Kn,e,t).O}else{if(void 0===t||!(0,o.UO)(t))return!1;if((0,r.J_)(t)&&(t=(0,s.BT)(t)),"string"==typeof t&&!(0,o.zM)(t,`set custom user attribute "${e}"`,"the element in the given array"))return!1}return this.ft.setCustomUserAttribute(e,t)}addToCustomAttributeArray(e,t){return!!(0,o.zM)(e,"add to custom user attribute array","the given key")&&!(null!=t&&!(0,o.zM)(t,"add to custom user attribute ais not an integer.`),!1):this.ki.Gn(i.Z.q.Xn,e,n).O}setCustomLocationAttribute(e,t,n){return!!(0,o.zM)(e,"set custom location attribute","the given key")&&((null!==t||null!==n)&&(t=null!=t?parseFloat(t.toString()):null,n=null!=n?parseFloat(n.toString()):null,null==t&&null!=n||null!=t&&null==n||null!=t&&(isNaN(t)||t>90||t<-90)||null!=n&&(isNaN(n)||n>180||n<-180))?(i.Z.j.error("Received invalid values for latitude and/or longitude. Latitude and longitude are bounded by ±90 and ±180 respectively, or must both be null for removal."),!1):this.ki.Zn(e,t,n).O)}addToSubscriptionGroup(e){return!(0,o.ro)(e,"add user to subscription group","subscription group ID",!1)||e.length<=0?(i.Z.j.error("addToSubscriptionGroup requires a non-empty subsD).O}_n(e,t,n,r,i){this.ft._n(e,t,n,r,i),this.ki.pu()}Nn(e){this.ft.Nn(e)}}l.Genders={MALE:"m",FEMALE:"f",OTHER:"o",UNKNOWN:"u",NOT_APPLICABLE:"n",PREFER_NOT_TO_SAY:"p"},l.NotificationSubscriptionTypes={OPTED_IN:"opted_in",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"},l.Ln=/^[0-9 .\\(\\)\\+\\-]+$/,l.du={SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"},l.bu="user_id",l.lu="custom",l.lr=997},10379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(32746);class i{constructor(e,t){this.carof this.cards)t.viewed||t instanceof r.Z||e++;return e}ur(){throw new Error("Must be implemented in a subclass")}logCardImpressions(){throw new Error("Must be implemented in a subclass")}sr(){throw new Error("Must be implemented in a subclass")}}i.mr=6e4,i.Oh=500,structolized before calling methods.",c=5,d=90,p=72e5,h=3,f=1},61956:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(57629),i=n(80385),o=n(98426),a=n(8517);const s={N:(e,t,n)=>{var s;const l=new a.Z,u=i.ZP.aa();if(!u)return r.Z.j.info(`Not logging event with type "${e}" because the current session ID could not be found.`),l;const c=u.co();l.ve.push(new o.Z(n||(null===(s=i.ZP.ir())||void 0===s?void 0:s.getUserId()),e,(new Date).valueOf(),c,t));const d=i.ZP.l();return d&&(l.O=d.bo(l.ve)),l}}},15712:(e,t,n)=>{"use strict";n.d(t,{cP:()=>_,tQ:()=>S,cz:()=>T,Yz:()=>x,cV:()=>E,GB:()=>P,Of:()=>C});var r=n(10379),i=n(14738),o=n(30673),a=n(32746),s=n(13408),l=n(15683),u=n(69338),c=n(80385),d=n(84125),p=n(57629);const h={en:{NO_CARDS_MESSAGE:"We have no updates for you at this time.<br/>Please check again later.",FEED_TIMEOUT_MESSAGE:"Sorry, this refresh timed out.<br/>Please try again later."},ar:{NO_CARDS_MESSAGE:"ليس لدينا أي تحديث. يرجى التحقق مرة أخرى لاحقاً",FEED_TIMEOUT_MESSAGE:"يرجى تكرار المحاولة لاحقا"},cs:{NO_CARDS_MESSAGE:"V tuto chvíli pro vás nemáme žádné aktualizace.<br/>Zkontrolujte prosím znovu později.",FEED_TIMEOUT_MESSAGE:"Prosím zkuste to znovu později."},da:{NO_CARDS_MESSAGE:"Vi har ingen updates.<br/>Prøv venligst senere.",FEED_TIMEOUT_MESSAGE:"Prøv venligst senere."},de:{NO_CARDS_MESSAGE:"Derzeit sind keine Updates verfügbar.<br/>Bitte später noch einmal versuchen.",FEED_TIMEOUT_MESSAGE:"Bitte später noch einmal versuchen."},es:{NO_CARDS_MESSAGE:"No tenemos actualizaciones.<br/>Por favor compruébelo más tarde.",FEED_TIMEOUT_MESSAGE:"Por favor inténtelo más tarde."},"es-mx":{NO_CARDS_MESSAGE:"No tenemos ninguna actualización.<br/>Vuelva a verificar más tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, vuelva a intentarlo más tarde."},et:{NO_CARDS_MESSAGE:"Uuendusi pole praegu saadaval.<br/>Proovige hiljem uuesti.",FEED_TIMEOUT_MESSAGE:"Palun proovige hiljem uuesti."},fi:{NO_CARDS_MESSAGE:"Päivityksiä ei ole saatavilla.<br/>Tarkista myöhemmin uudelleen.",FEED_TIMEOUT_MESSAGE:"Yritä myöhemmin uudelleen."},fr:{NO_CARDS_MESSAGE:"Aucune mise à jour disponible.<br/>Veuillez vérifier ultérieurement.",FEED_TIMEOUT_MESSAGE:"Veuillez réessayer ultérieurement."},he:{NO_CARDS_MESSAGE:".אין לנו עדכונים. בבקשה בדוק שוב בקרוב",FEED_TIMEOUT_MESSAGE:".בבקשה נסה שוב בקרוב"},hi:{NO_CARDS_MESSAGE:"हमारे पास कोई अपडेट नहीं हैं। कृपया बाद में फिर से जाँच करें.।",FEED_TIMEOUT_MESSAGE:"कृपया बाद में दोबारा प्रयास करें।."},id:{NO_CARDS_MESSAGE:"Kami tidak memiliki pembaruan. Coba lagi nanti.",FEED_TIMEOUT_MESSAGE:"Coba lagi nanti."},it:{NO_CARDS_MESSAGE:"Non ci sono aggiornamenti.<br/>Ricontrollare più tardi.",FEED_TIMEOUT_MESSAGE:"Riprovare più tardi."},ja:{NO_CARDS_MESSAGE:"アップデートはありません。<br/>後でもう一度確認してください。",FEED_TIMEOUT_MESSAGE:"後でもう一度試してください。"},ko:{NO_CARDS_MESSAGE:"업데이트가 없습니다. 다음에 다시 확인해 주십시오.",FEED_TIMEOUT_MESSAGE:"나중에 다시 시도해 주십시오."},ms:{NO_CARDS_MESSAGE:"Tiada kemas kini. Sila periksa kemudian.",FEED_TIMEOUT_MESSAGE:"Sila cuba kemudian."},nl:{NO_CARDS_MESSAGE:"Er zijn geen updates.<br/>Probeer het later opnieuw.",FEED_TIMEOUT_MESSAGE:"Probeer het later opnieuw."},no:{NO_CARDS_MESSAGE:"Vi har ingen oppdateringer.<br/>Vennligst sjekk igjen senere.",FEED_TIMEOUT_MESSAGE:"Vennligst prøv igjen senere."},pl:{NO_CARDS_MESSAGE:"Brak aktualizacji.<br/>Proszę sprawdzić ponownie później.",FEED_TIMEOUT_MESSAGE:"Proszę spróbować ponownie później."},pt:{NO_CARDS_MESSAGE:"Não temos atualizações.<br/>Por favor, verifique mais tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, tente mais tarde."},"pt-br":{NO_CARDS_MESSAGE:"Não temos nenhuma atualização.<br/>Verifique novamente mais tarde.",FEED_TIMEOUT_MESSAGE:"Tente novamente mais tarde."},ru:{NO_CARDS_MESSAGE:"Обновления недоступны.<br/>Пожалуйста, проверьте снова позже.",FEED_TIMEOUT_MESSAGE:"Пожалуйста, повторите попытку позже."},sv:{NO_CARDS_MESSAGE:"Det finns inga uppdateringar.<br/>Försök igen senare.",FEED_TIMEOUT_MESSAGE:"Försök igen senare."},th:{NO_CARDS_MESSAGE:"เราไม่มีการอัพเดต กรุณาตรวจสอบภายหลัง.",FEED_TIMEOUT_MESSAGE:"กรุณาลองใหม่ภายหลัง."},uk:{NO_CARDS_MESSAGE:"Оновлення недоступні.<br/>ласка, перевірте знову пізніше.",FEED_TIMEOUT_MESSAGE:"Будь ласка, спробуйте ще раз пізніше."},vi:{NO_CARDS_MESSAGE:"Chúng tôi không có cập nhật nào.<br/>Vui lòng kiểm tra lại sau.",FEED_TIMEOUT_MESSAGE:"Vui lòng thử lGE:"暫時沒有更新./>请稍后再试.",FEED_TIMEOUT_MESSAGE:"请稍候再试."},"zh-hant":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MEnull==h[e]){const t=e.indexOf("-");t>0&&(e=e.substring(0,t))}if(null==h[e]){const n="Braze does not yet have a localization for language "+e+", defaulting to English. Please contact us if you are willing and able to help us translate our SDK into this language.";t?p.Z.j.error(n):p.Z.j.info(n),e="en"}this.language=e}get(e){return h[this.language][e]}}const v={t:!1,i:null,m:()=>{if(v.o(),!v.i){!1;c.ZP.nn(c.JY.Ba)&&(e=c.ZP.nn(c.JY.Ba),t=!0),v.i=new f(e,t)}return v.i},o:()=>{v.t||(c.ZP.g(v),v.t=!0)},destroy:()=>{v.i=null,v.t=!1}},g=v;var m=n(53173),y=n(43216),b=n(31647);const _="data-last-requested-refresh",w={};function S(e){e&&(e.className=e.className.replace("ab-show","ab-hide"),setTimeout((()=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),r.Z.Oh));const t=e.getAttribute("data-update-su,p=c;if(!u&&s&&(u=!0,(0,i.Ji)(r[t])),!c&&l&&(c=!0,(0,i.Zw)(r[t])),u&&c){if(d&&p)continue;for(const t of e.cards)if(t.id===a){e.yo[t.id]=!0,n.push(t);break}}}n.length>0&&e.logCardImpressions(n)}}function E(e,t){if(null==e||null==t)return;t.setAttribute("aria-busy","true");const n=t.querySelectorAll(".ab-refresh-button")[0];null!=n&&(n.className+=" fa-spin");const i=(new Date).valueOf().toString();t.setAttribute("data-last-requested-refresh",i),setTimeout((()=>{if(t.getAttribute("data-last-requested-refresh")==(".fa-spin");for(let t=0;t<e.length;t++)e[t].className=e[t].className.replace(/fa-spin/g,"");const n=t.querySelectorAll(".ab-initial-spinner")[0];if(null!=n){const e=document.createElement("span");e.innerHTML=g.m().get("FEED_TIMEOUT_MESSAGE")||"",null!=n.parentNode&&(n.parentNode.appendChild(e),n.parentNode.removeChild(n))}"true"===t.getAtbute("aria-busy","false")}}),rreateElement("div");r.className="ab-feed ab-hide ab-effect-slide",r.setAttribudialog"),r.setAttribute("aria-label","Feed"),r.setAttribute("tabindex","-1");const i=document.createElement("div");i.className="ab-feed-buttons-wrapper",i.setAttribute("role","group"),r.appendChild(i);const o=document.createElement("i");o.className="fa fa-times ab-close-button",o.setAttribute("aria-label","Close Feed"),o.setAttribute("tabindex","0"),o.setAttribute("role","button");const a=e=>{S(r),e.stopPropagation()};o.addEventListener("keydown",(e=>{e.keyCode!==u.m.Fo&&e.keyCode!==u.m.To||a(e)})),o.onclick=a;const s=document.createElement("i");s.className="fa fa-refresh ab-refresh-button",e&&null==e.lastUpdateed"),s.setAttribute("tabindex","0"),s.setAttribute("role","button");const l=t=>{E(e,r),t.stopPropagation()};s.addEventListener("keydown",(e=>{e.keyCode!==u.m.Fo&&e.keyCode!==u.m.To||l(e)})),s.onclick=l,i.appendChild(s),i.appendChild(o),r.appendChild(k(e,t));const c=()=>T(e,r);if(r.addEventListener("scroll",c),!n){window.addEventListener("scroll",c);const e=p.Z.Z.Y();w[e]=c,r.setAttribute("data-listener-id",e)}return r}function C(e,t,n,r,i){if(!(0,l.kJ)(t))return;const o=[];for(const e of t)if(e instanceof s.Z){if(e.url&&y.y9.test(e.url)){const t=(0,b.OL)(e.url);if((0,b.je)(t)){p.Z.j.error((0,b.Tu)(b.yi._r,"Content Card"));continue}}o.push(e)}if(e.cards=o,e.lastUpdated=n,null!=r)if(r.setAttribute("aria-busy","false"),null==e.lastUpdated)S(r);else{const t=r.querySelectorAll(".ab-feed-body")[0];if(null!=t){const n=k(e,i);t.parentNode&&t.parentNode.replaceChild(n,t),T(e,n.parentNode)}}}function P(e,t){e&&t.setAttribute("data-update-subscription-id",e)}},15493:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Banner:()=>i.Z,BrazeSdkMetadata:()=>$,CaptionedImage:()=>a.Z,Card:()=>r.Z,ClassicCard:()=>s.Z,ContentCards:()=>L,ControlCard:()=>l.Z,ControlMessage:()=>Ee.Z,DeviceProperties:()=>W.Z,FeatureFlag:()=>Ve.Z,Feed:()=>fe.Z,FullScreenMessage:()=>xe.Z,HtmlMessage:()=>Ce.Z,ImageOnly:()=>o.Z,InAppMessage:()=>ke.Z,InAppMessageButton:()=>Te.Z,ModalMessage:()=>Pe.Z,SlideUpMessage:()=>Oe.Z,User:()=>Ge.Z,WindowUtils:()=>et.SD,addSdkMetadata:()=>q,automaticallyShowInAppMessages:()=>Ae.f,changeUser:()=>G.changeUser,deferInAppMessage:()=>Ze,destroy:()=>V.o,destroyFeed:()=>me,disableSDK:()=>J,enableSDK:()=>Y,getAllFeatureFlags:()=>Xe,getCachedContentCards:()=>j,getCachedFeed:()=>ge,getDeferredInAppMessage:()=>Fe,getDeviceId:()=>X,getFeatureFlag:()=>Ye,getUser:()=>K.P,handleBrazeAction:()=>he.h,hideContentCards:()=>M,initialize:()=>Q.j,isDisabled:()=>ee,isPushBlocked:()=>Ue,isPushPermissionGranted:()=>ze.i,isPushSupported:()=>$e.H,logCardClick:()=>u.d,logCardDismissal:()=>c.K,logCardImpressions:()=>d.p,logContentCardClick:()=>h,logContentCardImpressions:()=>p,logContentCardsDisplayed:()=>D,logCustomEvent:()=>te.logCustomEvent,logFeatureFlagImpression:()=>Qe,logFeedDisplayed:()=>ye.j,logInAppMessageButtonClick:()=>Ie.S,logInAppMessageClick:()=>Le.W,ogInAppMessageImpression:()=>Ne.v,logPurchase:()=>ne.logPurchase,openSession:()=>re.U,refreshFeatureFlags:()=>We.refreshFeatureFlags,removeAllSubscriptions:()=>ie,removeSubscription:()=>oe.A,requestContentCardsRefresh:()=>I,requestFeedRefresh:()=>be.a,requestImmediateDataFlush:()=>ae.requestImmediateDataFlush,requestPushPermission:()=>He.requestPushPermission,setLogger:()=>se,setSdkAuthenticationSignature:()=>ue,showContentCards:)=>_e.showFeed,showInAppMessage:()=>Me.g,subscribeToContentCardsUpdates:()=>Z,subscribeToFeatureFlagsUpdates:()=>Ke,subscribeToFeedUpdates:()=>we.n,subscribeToIr(let n=0;n<e.length;n++){const r=(0,_.rN)(e[n]);null!=r&&t.push(r)}this.cards=this.Zt(this.Cs(t,!1)),this.kt=this.u.v(S.I.k.ws)||this.kt,this.Ut=this.u.v(S.I.k.vs)||this.Ut}Ns(e,t=!1,n=0,r=0){let i;if(t){i=[];for(const e of this.cards)e.test&&i.push(e)}else i=this.cards.slice();for(let n=0;n<e.length;n++){const r=e[n];let o=null;for(let e=0;e<this.cards.length;e++)if(r.id===this.cards[e].id){o=this.cards[e];break}if(t){const e=(0,_.xA)(r);null!=o&&o.viewed&&e&&(e.viewed=!0),null!=e&&i.push(e)}else if(null==o){const e=(0,_.xA)(r);null!=e&&i.push(e)}else if(!o.ot(r))for(let e=0;e<i.length;e++)if(r.id===i[e].id){i.splice(e,1);break}}this.cards=this.Zt(this.Cs(i,t)),this.Rs(),this.kt=n,this.Ut=r,this.u&&(this.u.D(S.I.k.ws,this.kt),this.u.D(S.I.k.vs,this.Ut))}Ts(e){if(this.Ds()&&null!=e&&e.cards){this.u&&this.u.D(S.I.k.Ss,v.ZP.ks());const t=e.full_sync;t||this.Lt(),this.Ns(e.cards,t,e.last_full_sync_at,e.last_card_updated_at),this.yt.Et(this.Us(!0))}}As(e){this.u&&this.u.D(S.I.k.Ls,e)}Fs(e,t,n){const r=()=>{this.Ms(t,n,!0)},i=e?(0,g.D)(e):null;let o;if(this.Es(),!i||!i["retry-after"])return void this.As(0);const s=this.u.v(S.I.k.Ls)),(null==s||isNaN(parseInt(s.toString())))&&(s=0),this.As(parseInt(s.toString())+1)}Pt(e){if(!this.Ds())return;this.Lt();const t=this.cards.slice();let n=null;this.ft&&(n=this.ft.getUserId());for(let r=0;r<e.length;r++)if(n===e[r].userId||null==n&&null==e[r].userId){const n=e[r].card;let i=null;for(let e=0;e<this.cards.length;e++)if(n.id===this.cards[e].id){i=this.cards[e];break}if(null==i){const e=(0,_.xA)(n);null!=e&&t.push(e)}else if(!i.ot(n))for(let e=0;e<t.length;e++)if(n.id===t[e].id){t.splice(e,1);break}}this.cards=this.Zt(this.Cs(t,!1)),this.Rs(),this.yt.Et(this.Us(!0))}Cs(e,t){let n={},r={},i=.K)||{},i=this.u.v(S.I.k.G)||{});const o={},a={},s={};fo=!0,a[l]=!0),i[l]&&(e[t].dismissed=!0,s[l]=!0))}return t&&this.u&&(this.u.D(S.I.k.C,o),this.u.D(S.I.k.K,a),this.u.D(S.I.k.G,s)),e}Zt(e){const t=[],n=new Date;let r={};this.u&&(r=this.u.v(S.I.k.G)||{});let i=!1;for(let o=0;o<e.length;o++){const a=e[o].url;if(!this.vt&&a&&(0,b.o)(a)){w.Z.j.error(`Card with url ${a} will not be displayed because Javascript URLs are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable this card.`);continue}const s=e[o].expiresAt;let l=!0;if(null!=s&&())Ks,n);let d=!1;o.Qs(u,(()=(1e3*this.Kt,3*n)),e,t),this.Ot=this.Zt(this.cards);t.sort(((e,t)=>e.pinned&&!t.pinned?-1:t.pinned&&!e.pinned?1:e.updated&&t.updated&&e.updated>t.updated?-1:e.updated&&t.updated&&t.updated>e.updated?1:0));let n=Math.max(this.Ut||0,this.kt||0);return 0===n&&(n=void 0),this.u&&this.u.v(S.I.k.vs)===this.Ut&&void 0===n&&(n=this.Ut),is.Ut=0,this.u&&(this.u.ni(S.I..k.Yt),this.u.ni(S.I.k.C),this.u.ni(S.I.k.K),this.u.ni(S.I.k.G))),this.Gs(.u&&this.u.D(S.I.k.cit.mi();if(-1==Yt)}}const O={t:!1,provider:null,er:()=>(O.o(),O.provider||(O.provider=new P(v.ZP.ir(),v.ZP.l(),v.ZP.tr(),v.ZP.nr(),v.ZP.ar()),v.ZP.dr(O.provider)),O.provider),o:()=>{O.t||(v.ZP.g(O),O.t=!0)},destroy:()=>{O.provider=null,O.t=!1}},A=O;function I(e,t){if(v.ZP.rr())return A.er().Ms(e,t)}class L extends f.Z{constructor(e,t){super(e,t)}getUnviewedCardCount(){return super.getUnreadCardCount()}logCardImpressions(e){(0,d.p)(e,!0)}logCardClick(e){return(0,u.d)(e,!0)}sr(){I()}ur(){return!0}}function j(){if(v.ZP.rr())return A.er().Us(!1)}L.mr=6e4;var N=n(15712);function M(e){if(!v.ZP.rr())return;co=n(14738),B=n(26761);fun(null==s||(new Date).valueOf()-s>L.mr)&&(w.Z.j.info(`Cached content cards were older than max TTL of ${L.mr} ms, requesting anvalueOf(),u=Z((function(e){const n=o.querySelectorAll(".ab-refresh-button")[0];if(null!=n){let e=500,t=e-=(new Date).valueOf()-l;const r=o.getAttribute(N.cP);r&&(t=parseInt(r),isNaN(t)||(e-=(new Date).valueOf()-t)),setTimeout((function(){n.className=n.className.replace(/fa-spin/g,"")}),Math.max(e,0))}let a=e.cards;"function"==typeof t&&(a=t(a.slice())),(0,N.Of)(i,a,e.lastUpdated,o,r)}));(0,N.GB)(u,o);const c=function(e){const t=e.querySelectorAll(".ab-feed");let r=null;for(let n=0;n<t.length;n++)t[n].parentNode===e&&(r=t[n]);null!=r?((0,N.tQ)(r),null!=r.parentNode&&r.parentNode.replaceChild(o,r)):e.appendChild(o),setTimeout((function(){o.className=o.className.replace("ab-hide","ab-show")}),0),n&&o.focus(),(0,N.cz)(i,o),(0,F.CG)(i.cards,e)};var d;null!=e?c(e):window.onload=(d=window.onload,function(){"function"==typeof d&&d(new Event("oldLoad")),c(document.body)})}function z(e,t){v.ZP.rr()&&(document.querySelectorAll(".ab-feed").length>0?M():U(e,t))}const $={GOOGLE_TAG_MANAGER:"gg",MPARTICLE:"mp",SEGMENT:"sg",TEALIUM:"tl",MANUAL:"manu",NPM:"npm",CDN:"wcd",SHOPIFY:"shp"};var H=n(15683);function q(e){if(!v.ZP.rr())return;if(!(0,H.kJ)(e))return w.Z.j.error("Cannot set SDK metadata because0,H.fk)($,t,"sdkMetadata contained an i.ar();return t&&t.addSdkMet7),W=n(73667);f.xt(r,w.Z.j).setItem(r.Jt.se,r.ie,!0),w.Z.j.info("disableSDK was called"),v.ZP.destroy(!1),v.ZP.ne(!0)}functione);const e=w.Z.zt.Ft;new w.Z.xt(e,w.Z.j).oe(e.Jt.se,e.ie),w.Z.j.info("enableSDK was called"),v.ZP.destroy(!1),v.ZP.ne(!1)}function X(e){if(!v.ZP.rr())return;const t=v.ZP.te();if(!t)return;const n=t.ce().id;if("function"!=typeof e)return n;w.Z.j.warn("The callback for getDeviceId is deprecated. You can access its return value directly ins.I.re)}var te=n(32297),ne=n(60504),re=n(73819);funcr(e)}var le=n(43216);function ue(e){if(!v.ZP.rr())return!1;if(""===e||!(0,le.ro)(e,"set signature","signature",!1))return!1;const t=v.ZP.Sr();return!!t&&(t.setSdkAuthenticationSignature(e),!0)}function ce(e){if(!v.ZP.rr())return;const t=v.ZP.Sr();return t?t.subscribeToSdkAuthenticationFailures(e):void 0}function de(){w.Z.j.toggleLogging()}function pe(){if(null==v.ZP.l())throw new Error(C.Go);const e=v.ZP.l();e&&e.clearData();const t=(0,H.XP)(w.Z.zt);for(let e=0;e<t.length;e++){const n=t[e],r=w.Z.zt[n];new w.Z.xt(r,w.Z.j).clearData()}if(v.ZP.rr())for(const e of v.ZP.gr())e.clearData(!0)}var he=n(31266),fe=516),Ee=n(15939),xe=n(63874),Ce=n(12565),Pe=n(25861),Oe=n(97408),Ae=n(81225),Ie=n(48357),Le=n(57454),je=n(30053),Ne=n(94860),Me=n(59553),Re=n(609),De=n(49119);function Ze(e){if(v.ZP.rr())return e instanceof Ee.Z?(w.Z.j.info("Not deferring since this is a ControlMessage."),!1):e instanceof ke.Z?De.Z.m().he(e):(w.Z.j.info("Not an instance of InAppMessage, ignoring."),!1)}function Fe(){if(v.ZP.rr())return De.Z.m().Re()}var Be=n(62913);function Ue(){if(v.ZP.rr())return Be.Z.isPushBlocked()}var ze=n(30219),$e=n(50997),He=n(19013),qe=n(62241),Ge=n(81360),Ve=n(87909),We=n(4792 not enabled."),newP.rr())return;const t=Xe();return t&&"function"==typeof e&&e(t),Je.Z.er().ri(e)}function Qe(e){if(!v.ZP.rr())return;nst t=Je.Z.er().Di(n!1;const n=t[e].trackingS=t,this.ph=n,this.u=e,this.gh=t||!1,this.ph=n,this.Fh=nkAuthenticationSignature(e){const t=this.jh();this.u.D(r.I.k.xh,e);const n=o.Z.zt.Ft;new o.Z.xt(n,o.Z.j).setItem(n.Jt.qh,this.fh,e),t!==e&&this.ti()}yh(){this.u.ni(r.I.k.xh);const e=o.Z.zt.Ft;new o.Z.xt(e,o.Z.j).oe(e.Jt.qh,this.fh)}subscribeToSdkAuthenticationFailures(e){return this.ph.lt(e)}Bh(e){this.ph.Et(e)}Gh(){this.Fh.removeAllSubscriptions()}Hh(){this.kh+=1}Jh(){return this.kh}ti(){this.kh=0}}var s=n(65286),l=n(84125);class u{constructor(e){this.id=e,this.id=e}Kr(){const e={};return null!=this.brow.os),null!=this.resolution&&(e.resolution=this.resolution),null!=this.language&&(e.locale=this.language),null!=this.timeZone&&(e.time_zone=this.timeZone),null!=this.userAgent&&(e.user_agent=this.userAgent),e}}var c=n(73667),d=n(27471),p=n(15683),h=n(80454);class f{constructor(e,t){this.u=e,this.Qo=t,this.u=e,null==t&&(t=(0,p.VO)(c.Z)),this.Qo=t}ce(e=!0){let t=this.u.tu(r.I.eu.Zo);null==t&&(t=new d.Zc.Z.BROWSER_VERSION:n.Ia=l.Z.version;break;case c.Z.OS:n.os=this.Ta();break;case c.Z.RESO"+Math.abs(t)).slice(-2)+":"+("00"+Math.abs(n)).slice(-2)),r}}var v=n(55985),g=n(68286),m=n(98426),y=n(50913),b=n(61956),_=n(18625),w=n(54841);class S{constructor(e,t,n,r,i,o,a,s,l,u,c,d){this.fn=e,this.u=t,this.Uo=n,this.ft=r,this._e=i,this.wt=o,this.cn=a,this.Bo=s,this.jo=l,this.Do=u,this.appVersion=c,this.Xh=d,this.fn=e,this.u=t,this.Uo=n,this.ft=r,this._e=i,this.wt=o,this.cn=a,this.Bo=s,this.jo=l,this.Do=u,this.appVersion=c,this.Xh=d,this.$h=["{{SDK_METADATA}}"]}Bs(e,t=!1,n=!1){const i=this.fn.ce(!n),o=i.Kr(),a=this.u.v(r.I.k.Fa);(0,p.Xy)(a,o)||(e.device=o),e.api_key=this.cn,e.time=(0,y.FX)((new Date).valueOf(),!0);const s=this.u.v(r.I.k.Kh)||[],l=this.u.v(r.I.k.Wh)||"";if(this.$h.length>0&&(!(0,p.Xy)(s,this.$h)||l!==this._e.Yh())&&(e.sdk_metadata=this.$h),e.sdk_version=this.jo,this.Do&&(e.sdk_flavor=this.Do),e.app_version=this.appVersion,e.app_version_code=this.Xh,e.device_id=i.id,t){const t=this.ft.getUserId();null!=t&&(e.user_id=t)}return e}Zs(e,t,n){const r=t.auth_error,i=t.error;if(!r&&!i)return!0;if(r){let t;this.Uo.Hh();const i={errorCode:r.error_code};for(const e of n)(0,p.kJ)(e)&&"X-Braze-Auth-Signature"===e[0]&&(i.signature=e[1]);e.respond_with&&e.respond_wilueOf();let n=w.dH.toString()onst i=[["X-Braze-Api-Key",this.cn]],o=this.Ua(t);i.pus=!0),s&&i.push(["X-Braze-DataRequest","true"]),this.Uo.wh()){const e=this.Uo.jh();null!=e&&i.pus,u=!1){n&&this.Au();const c=this.u.cE(),d=this.u.AE();let p=!1;const h=(e,t)=>{let o=!1;_.Z.Ws(this.u,_.Z.Os.Na,(new Date).valueOf()),k.Z.Xs({url:this.baseUrl+"/data/",data:e,headers:t,O:n=>{null!=e.respond_with&&e.respond_with.triggers&&(this.gu=Math.max(this.gu-1,0)),this.gt.Zs(e,n,t)?(this.Uo.ti(),this.wt.espond_with.user_id!=this.ft.getUserId()||(null!=e.device&&this.u.D(r.I.k.Fa,e.device),null!=e.sdk_metadtes),"function"==typeof a&&a()},ei:e=>{if("function"==t,f=this.$u(c),v=t||f;if(this.Su(l,f))return void o.Z.j.info("Declining to flush data due to 50 consecutive authentication failures");if(n&&!this.gt.Pa(c,d,e,v))return this.Cu(),void("function"==typeof s&&s(!0));const g=thbie,t,!1),this.qu())};document.addEventListener(e,t,!1)}else this.qu()}),e),this.vu=e)}Au(){null!=this.ku&&(clearTimeout(this.ku),this.ku=null)}initialize(){this.ju=!1,this.Cu()}destroy(){this.wu.removeAllSubscriptions(),this.Uo.Gh(),this.Au(),this.ju=!0,this.qu(void 0,void 0,!1,void 0,void 0,void 0,void 0,!0),this.ku=null}pr(e){return this.wu.lt(e)}openSession(){const e=this._e.Yh()!==this._e.co();e&&(this.u.uE(r.I.eu.Zo),this.u.uE(r.I.eu.su)),this.qu(void 0,!1,void 0,void 0,void 0),this.pu(),e&&Promise.resolve().then(n.bind(n,77767).I.k.Fa),this.openSession(),o.Z.j.info('Changed user to "'+e+'".')}else{let t="Doing nothing.";n&&this.Uo.jh()!==n&&(this.Uo.setSdkAuthenticationSignature(n),t="Updated SDK authentication signature"),o.Z.j.info(`Current user is already ${e}. ${t}`)}}requestImmedi},u,t)}}Zn(e,t,n){if(this.wt.hu(e))return o.Z.j.info(`Custom Attribute "${e}" is blocklisted, ignoring.`),new E.Z;let r,i;return null===t&&null===n?(r=o.Z.q.Pu,i={key:e}):(r=o.Z.q.Ru,i={key:e,latitude:t,longitude:n}),b.Z.N(r,i)}au(e,t){const n={group_id:e,status:t};return b.Z.N(o.Z.q.Nu,n)}}class P{constructor(e=0,t=[],n=[],r=[],i=null,o=null,a={enabled:!1},s={enabled:!1,refresh_rate_limit:void 0}){this.ol=e,this.cl=t,this.gl=n,this.fl=r,this.bl=i,this.al=o,this.ml=a,this.pi=s,this.ol=e,this.cl=t,this.gl=n,this.fl=r,p:this.fl,m:this.bl,v:this.al,c:this.ml,f:this.pi}}static Yn(e){let t=e.l;return"4.10.1"!==e.s&&(t=0),new P(t,e.e,e.a,e.p,e.m,e.v,e.c,eu=e,this.tl=new i.Z,thishis.rl}li(){return this.ll().ol}ul(e){if(null!=e&&null!=e.config){const t=e.config;if(t.time>this.ll().ol){const eled&&(o=!0),this.rl=e,this.u.D(r.I.k.hl,e.ss()),n&&this.tl.Et(),i&&this.el.Et(),o&&this.sl.Et()}}}Rn(e){const t=this.tl.lt(e);return this.il&&this.tl.removeSubscription(this.il),this.il=t,t}Ps(e){return this.el.lt(e)}Ci(e){return this.sl.lt(e)}ge(e){return-1!==this.ll().cl.indexOf(e)}hu(e){return-1!==thiu,{d:(0,y.FX)(e-t.vl)})}Yh(){const e=this.u.tu(r.I.eu.Dl);return null==e?null:e.iu}El(){const e=(new Date).valueOf(),t=this.wt.dl(),n=this.u.v(r.I.k.zl);if(null!=n&&null==t)return!1;let i=!1;return null==n?i=!0:null!=t&&(i=e-n>1e3*t),i&&this.u.D(r.I.k.zl,e),i}Cl(e,t){return null==t||null==t.Gl||!(e-t.vl<this.Sl)&&t.Gl<e}co(){const e=(new Date).valueOf(),t=e+1e3*this.wl,n=this.u.tu(r.I.eu.Dl);if(this.Cl(e,n)){let i="Generating session start event with time "+e;if(null!=n){let e=n.Z.Y(),t);return this.u.Hl(new m.Z(this.ft.getUserId(),o.Z.q.Wl,e,a.iu)),this.u.uu(r.I.eu.Dl,a),null==this.u.v(r.I.kError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&localStorage.length>0))throw e;n=!0}}catch(e){o.Z.j.info("Local Storage not supported!")}const i=I.Ja(),a=new r.Z.Va(e,i&&!t,n);let s;return s=n?new r.Z.Ya(e):new r.Z.Za,new r.Z(a,s)},Ja:function(){retu(this.wt.hu(e))return o.Z.j.info('Custom Attribute "'+e+'" is blocklisted, ignoring.'),!1;const n={};return n[e]=t,this.nu(R.Z.lu,n,!0)}nu(e,t,n=!1,r=!1){const i=this.u.mu(this.getUserId(),e,t);let a="",s=e,l=t;return n&&(a=" custom","object"==typeof t&&(s=Object.keys(t)[0],l=t[s],"object"==typeof l&&(l=JSON.stringify(l,null,2)))),!r&&i&&o.Z.j.info(`Logged${a} attribute ${s} with value ${l}`),i}_n(e,t,n,i,a){this.nu("push_token",e,!1,!0),this.nu("custom_push_public_key",n,!1,!0),this.nu("custom_push_user_auth",i,!1,!0),this.nu("custom_push_vapid_public_key",a,!1,!0);const s=o.Z.zt.Ft,l=new o.Z.xt(s,o.Z.j),u=new M.Z(e,t,n,i,a);this.u.D(r.I.k.Bn,u.ss()),l.setItem(s.Jt.cu,s.ie,!0)}Nn(e){if(this.nu("push_token",nulwCrawlerActivity",Eo:"baseUrl",_o:"noCookies",Io:"devicePropertyAllowlist",Aa:"disablePushTokenMaintenance",Ao:"enableLogging",So:"enableSdkAuthentication",qa:"manageServiceWorkerExternally",No:"minimumIntervalBetweenTriggerActionsInSeconds",wo:"sessionTimeoutInSeconds",Oo:"appVersion",Po:"appVersionNumber",_a:"serviceWorkerLocation",ka:"safariWebsitePushId",Ba:"localization",po:"contentSecurityNonce",Ro:"enableHtmlInAppMessages",Co:"allowUserSuppliedJavascript",lo:"inAppMessageZIndex",fo:"openInAppMessagesInNewTab",tn:"openCardsInNewTab",en:"openNewsFeedCardsInNewTab",mh:"requireExplicitInAppMessageDismissal",Lo:"doNotLoadFontAwesome",Mo:"sdkFlavor"};const U=new class{constructor(){this.cn="",this.jo="",this.Do=void 0,this.Uo=null,this.fn=null,this.gt=null,this.ki=null,this.wt=null,this._e=null,this.u=null,this.ft=null,this.Bo="",this.Wo=!1,this.zo=!1,this.Vo=new i.Z,this.Go=new i.Z,this.options={},this.Ko=[],this.Ho=[],this.Ve=[],this.jo="4.10.1"}$o(e){this.Vo.lt(e)}Rh(e){this.Go.lt(e)}initialize(e,t){if(this.fe())return o.Z.j.info("Braze has already been initialized with an API key."),!0;this.options=t||{};let s=this.nn(B.Ao);const u=(0,Z.L)(F.SD.Cn());if(u&&"true"===u.brazeLogging&&(s=!0),o.Z.j.init(s),o.Z.j.info(`Initialization Options: ${JSON.stringify(this.options,null,2)}`),null==e||""===e||"string"!=typeof e)return o.Z.j.error("Braze requires a valid API key to be initialized."),!1;this.cn=e;let d=this.nn(B.Eo);if(null==d||""===d||"string"!=typeof d)return o.Z.j.error("Braze requires a valid baseUrl to be initialized."),!1;!1===/^https?:/.test(d)&&(d=`https://${d}`);const h=d;if(d=document.createElement("a"),d.href=h,"/"===d.pathname&&(d=`${d}api/v3`),this.Bo=d.toString(),l.Z.qo&&!this.nn(B.ho))return o.Z.j.info("Ignoring activity from crawler bot "+navigator.userAgent),this.zo=!0,!1;const g=this.nn(B._o)||!1;if(this.u=L.xo(e,g),g&&this.u.Jo(e),new r.Z.ee(null,!0).jr(r.I.re))return o.Z.j.info("Ignoring all activity due to previous opt out"),this.zo=!0,!1;for(const e of(0,p.XP)(thiwarn(`Ignoring unknown initialization option '${e}'.`);const m=["mparticle","wordpress","tealium"];if(null!=this.nn(B.Mo)){const e=this.nn(B.Mo);-1!==m.indexOf(e)?this.Do=e:o.Z.j.error("Invalid sdk flavor passed: "+e)}let y=this.nn(o.Z.Yo.Io);if(null!=y)if((0,p.kJ)(evicePropertie f(this.u,y),this.wt=new O(this.u),this.f.initialize(),o.Z.j.info(`Initialized for the Braze backend at "${this.nn(B.Eo)}" with API key "${this.cn}".`),null!=this.nn(B.Ro)&&(0,v.q)("enableHtmlInAppMessages","inituppliedJavascript"),j.n.o(),this.wt.Ci((()=>{this.Wo&&this.wt&&this.wt.vi()&&Promise.resolve().th)),this.ki.pr((()=>l,this.fn=null,this.gt=null,this.wt=null,this._e=null,this.ft=null,this.options={},this.Do=void 0,this.Wo=!1,this.zo=!1,e&&(this.u=null)}}rr(){if(this.Xo())return!1;if(!this.fe())throw new Error(w.Go);return!0}Ma(){return this.cn}Sr(){return this.Uo}Ys(){return this.Bo}te(){return this.fn}ar(){return this.gt}nn(e){return this.options[e]}gr(){return this.Ho}cr(){return this.ki}tr(){return this.wt}aa(){return this._e}l(){return this.u}br(){if(this.ft&&this.ki)return new R.Z(this.ft,this.ki)}ir(){return this.ft}nr(){return!0===this.nn(B.Co)||!0===this.nn(B.Ro)}g(e){let t=!1;for(const n of this.Ko)n===e&&(t=!0);t||this.Ko.push(e)}dr(e){let t=!1;for(const n of this.Ho)n.constructor===e.constructor&&(t=!0);e instanceof s.Z&&!t&&this.Ho.push(e)}jt(e){e instanceof i.Z&&this.Ve.push(e)}removeAllSubscriptions(){if(this.rr())for(const e of this.Ve)e.removeAllSubscriptions()}removeSubscription(e){if(this.rr())for(const t of this.Ve)t.removeSubscription(e)}ne(e){this.zo=e}fe(){return this.Wo}Xo(){return this.zo}ks(){return this.jo}}},46058:(e,t,n)=>{"use strict";n.d(t,{I:()=>c,Z:()=>d});var r=n(98426),i=n(27471),o=n(15683),a=n(57629),s=n(81360),l=n(84125),u=n(80454);const c={eu:{su:"ab.storage.userId",Zo:"ab.storage.deviceId",Dl:"ab.storage.sessionId"},k:{Qa:"ab.test",tE:"ab.storage.events",eE:"ab.storage.attributes",sE:"ab.storage.attributes.anonymous_user",Fa:"ab.storage.device",Kh:"ab.storage.sdk_metadata",Wh:"ab.storage.session_id_for_cached_metab.storage.ccLastFull(e){let t=this._E.jr(c.k.eE);null==t&&(t={});const n=this.hE(e[s.Z.bu]),r=t[n];for(const i in e)i!==s.Z.bu&&(null==t[n]||r&&null==r[i])&&this.mu(e[s.Z.bu],i,e[i])}mu(e,t,n){let r=this._E.jr(c.k.eE);null==r&&(r={});const i=this.hE(e);let o=r[i];if(null==o&&(o={},null!=e&&(o[s.Z.bu]=e)),t===s.Z.lu){null==o[t]&&(o[t]={});for(const e in n)o t=[];for(coturn a.Z;e<n.length-1&&-1===document.cookie.indexOf(r+"="+r);)e++,t="."+n.slice(-1-e).join("."),document.cookie=r+"="+r+";domain="+t+";";return document.cookie=r+"=;expires="+new Date(0).toUTCString()+";domain="+t+";",t}ae(){const e=new Date;return e.setTime(e.getTime()+60*this.NE*1e3),e.getFullYear()}DE(){const e=(0,o.VO)(c.eu),t=document.cookie.split(";");for(let n=0;n<t.length;n++){let r=t[n];for(;" "===r.charetTimet i=0;i<r.length;i++){let o=r[i];for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(n))){const t=e+"=;expires="+new Date(0).toUTCString();document.cookie=t,document.cookie=t+";path=/";const n=t+";domain="+this.KE;document.cookie=n,document.cookie=n+";path=/"}},d.Va=class{constructor(e,t,n){this.cn=e,this.GE=[],t&&this.GE.push(new d.ee(e)),n&&t).length}Et(e){const t=[];for(const n in this.Ve){const r=this.Ve[n];t.push(r(e))}return t}}},68286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={Ra:"invalid_api_key",Xa:"blacklisted",Ea:"no_device_identifier",Zh:"invalitor(e,t,n,r,o){this.userId=e,this.type=t,this.time=n,this.sesssessionId,d:this.data}}static fromJson(e){retutatic Yiu=e,null==e&&(e=r.Z.Z.Y()),!n||isNaN(n)?this.vl=(new Date).valueOf():tht t=new i(e.g,l:return this.Al===s.Rl.Ml?null!=t&&(0,a.J_)(t)&&(0,r.$N)(t)<=this._l.valueOf():null!=t&&typeof t==typeof this._l&&t>=this._l;rn(0,a.J_)(this._l)&&(e=(0,r.FX)(e.valueOf())),{k:this.Tl,t:this.Al,c:this.comparator,v:e}}static Yn(e){return new s(e.k,e.t,e.c,e.v)}}s.Rl={_u:"boolean",Hu:"number",Iu:"string",Ml:"date"},s.Il={Xl:1,Fl:2,Kl:3,Ll:4,Pl:5,Ol:6,Yl:10,Zl:11,$l:12,Ul:15,Ql:16,Eu:17};class l{constructor(e){this.filters=e,this.filtt t=g.Bu(e[0],this.xu).data=t}ec(e,t){return g.rc[this.type]===e&&(null==this.data||this.data.Bl(t))}static Bu(e,t){let n=null;try{n=window.atob(e)}catch(t){return i.Z.j.info("Failed to unencode analytics id "+e+": "+(0,v.e)(t)),!1}return t===n.split("_")[0]}static fromJson(e){const t=e.type;let n=null;switch(t){case g.Wr.OPEN:case g.Wr.zs:break;casase g.Wr.$e:n=||null==this.sn||t<this.sn;return n||i.Z.j.info(`Trigger action ${this.type} is no longer eligible for display - fired ${t}ms ago and has a timeout of ${this.sn}ms.`),!n}static fro=e.min_seconds_since_last_trigger;return(0,a.fk)(m.Wr,l,is.fg()}gg(){const e=this,t=function(t,n,r,i,o){return function(){e.cg(t,n,r,i,o)}},n={};for(const e of this.triggers)e.id&&(n[e.id]=e);let r=!1;for(let e=0;e<this.triggers.length;e++){const i=this.triggers[e];if(i.id&&null!=this.ng[i.id]){const e=this.ng[i.id],o=[];for(let r=0;r<e.length;r++){const a=e[r],l=i.Xu(a.Zr||0);if(l>0){let e,r;o.push(a),null!=a.ug&&(e=a.ug),null!=a.dg&&s.Z.TE(a.dg)&&(r=s.Z.Yn(a.dg));const c=[];if(a.pg&&(0,u.kJ)(a.pg))for(let e=0;e<a.pg.length;e++){const t=n[a.pg[e]];null!=t&&c.push(t)}this.eg.push(window.setTimeout(t(i,a.Zr||0,e,r,c),l))}}this.ng[i.id].length>o.length&&(this.ng[i.id]=o,r=!0,0===this.ng[i.id].length&&delete this.ng[i.id])}}r&&this.u&&this.u.D(c.I.k.aE,this.ng)}mg(){if(!this.u)return;const e=[];for(let t=0;t<is.u.D(c.I.k.nE,this.og)),(0,u.Xy)(this.ng,r)||(this.ng=r,this.u&&this.u.D(c.I.k.aE,this.ng)),this.mg(),t&&(f.Z.j.info("Trigger with test condition found, firing test."),this.be(h.Z.zs)),this.be(h.Z.OPEN);const i=this.sg;let o;this.sg=[];for(let e=0;e<i.length;e++)o=Array.prototype.slice.call(i[e]),this.be(...o)}}cg(e,t,n,r,i){const o=r=>{this.fg();const i=(new Date).valueOf();if(!e.Yu(t))return!1===navigator.onLine&&e.type===p.Z.Wr.Vr&&r.imageUrl?(f.Z.j.info(`Not showing ${e.type} trigger action ${e.id} due to offline state.`),void this.ig.Ji(e.id,l.Z.Ie.Uh)):void(e.Uu(i)&&this.wg(e,i,n)?0===this.yt.tc()?f.Z.j.info(`Not displaying trigger ${e.id} because neither automaticallyShowInAppMessages() nor subscribeToInAppMessage() were called.`):(this.yt.Et([r]),this.yg(e,i)):f.Z.j.info(`Not displaying trigger ${e.id} because display time fell outside of the acceptable time window.`));e.type===p.Z.Wr.Zu?this.ig.Ji(e.id,l.Z.Ie.Qr):this.ig.Ji(e.id,l.Z.Ie.bh)},s=()=>{this.fg();const o=i.pop();if(null!=o)if(this.Tg(o,t,n,r,i),o.Yu(t)){let e=`Server aborted in-app message display, but the timeout on fallback trigger ${o.id} has already elapsed.`;i.length>0&&(e+=" Continuing to fall back."),f.Z.j.info(e),this.ig.Ji(o.id,l.Z.Ie.bh),s()}else{f.Z.j.info(`Server aborted in-app message display. Falling back to lower priority ${o.type} trigger action ${e.id}.`);const a=1e3*o.Gu-((new Date).valueOf()-t);a>0?this.eg.push(window.setTimeout((()=>{this.cg(o,t,n,r,i)}),a)):this.cg(o,t,n,r,i)}};let u,c,h;switch(e.type){case p.Z.Wr.Vr:if(u=(0,a.q)(e.data),null==u){f.Z.j.error(`Could not parse trigger data for trigger ${e.id}, ignoring.`),this.ig.Ji(e.id,l.Z.Ie.Xr);break}if(c=this.ig.Mr(u),c){f.Z.j.error(c),s();break}o(u);break;case p.Z.Wr.Zu:if(h=d.fromJson(e.data,o,s,t,e.sn||0),null==h){f.Z.j.error(`Could not parse trigger data for trigger ${e.id}, ignoring.`),this.ig.Ji(e.id,l.Z.Ie.Xr);break}th:f.Z.j.error(`Trigger ${e.id} was of unexpected type ${e.type}, ignoring.`),this.ig.Ji(e.id,l.Z.Ie.Xr)}}be(e,t=null,n){if(!(0,u.fk)(h.Z,e,"Cannot fire trigger action.","TriggerEvents"))r.Du())return s)}),1e3*l.Gu)))}changeUserni(hithis.u.ni(c.I.k.aE))}}clearData(){this.triggers=[],this.hg=null,this.og={},this.ng={};for(let e=0;e<a;o.Zr=t,o.ug=n,null!=r&&(a=r.ss()),o.dg=a;const s=[];for(const e of i)e.id&&s.push(e.id);o.pg=s,e.id&&this.ng[e.id].push(o),this.u&&this.u.D(c.I.k.aE,this.ng)}yg(e,t){this.fg(),e.Wu(t),this.hg=t,e.id&&(this.og[e.id]=t),this.u&)=>(g.o(),g.provider||g.rg(),g.provider),rg:()=>{if(!g.provid=`ab-${t}-css-definitions-${"4.10.1".replace(/\./g,"-")}`;if(!i)return;const a=i.ownerDocument||document;if(null==a.getElementById(o)){const e=a.createElement("style");e.innerHTML=n||"",e.id=o;const t=r.ZP.nn(r.JY.po);null!=t&&e.setAttribute("nonce",t),i.appendChild(e)}}},26761:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var r=n(27271),i=n(51807);function o(){var e;(0,r.e)(e,"feed","{{FEED_CSS_INCLUSION}}"),(0,i.N)()}},98159:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,R:()=>a});var r=n(27271),i=n(51807);function o(e){(0,r.e)(e,"iam","{{IAM_CSS_INCLUSION}}")}function a(){o(),(0,i.N)()}},51807:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(80385);function i(){if(r.ZP.nn(r.JY.Lo))return;const e="https://use.fontawesome.com/7f85a56ba4.css";if(null===document.querySelector('link[rel=stylesheet][href="'+e+'"]yi:()=>l,zA:()=>h});var r=n(57629),i=n(80454),o=n(22512),a=n(43216);const s={types:{ue:"container",logCustomEvent:"logCustomEvent",setEmailNotificationSubscriptionType:"setEmailNotificationSubscriptionType",setPushNotificationSubscriptionType:"setPushNotificationSubscriptionType",setCustomUserAttribute:"setCustomUserAttribute",requestPushPermission:"requestPushPermission",addToSubscriptionGroup:"addToSubscrd will not be displayed.`;case l.Or:return`${t} contains a pncoded brazeAction in url to pro!1;if(t)for(const r of t)if(n=n||e(r),n)return!0;exOf(t.if[n].toLowerCase()))return t.identity}else if(-1!==e.indexOf(t.if.toLowerCase()))return t.identity}}var o=entData){const e=ton=e.version||"Unknown Version"}this.OS=nmise.resolve(t(this.userAgentData.platform)):this.getHighEntropyValues().then((e=>e.platform?t(e.platform):navigator.platform)).catch((()=>navigator.platform))}ic(){const e={},t=this.userAgentData.brands;if(t&&t.length)for(const n of t){const t=this.nc(o.s),r=n.brand.match(t);if(r&&r.length>0){e.browser=r[0],e.version=n.version;break}}return e}nc(e){const t=[];for(const n in e){const r=n;e[r]!==o.s.oc&&t.push(e[r])}return new RegExp("("+t.join("|")+")","i")}getHighEntropyValues(){return this.userAgentData.getHighEntropyValues?this.userAgentData.getHighEntropyValues(["platform"]):Promise.reject()}}class s extends i{constructor(){super(),this.rd=s.ic(navigator.userAgent||"")}tf(){return this.rd[0]||"Unknown Browser"}ef(){return this.rd[1]||"Unknown Version"}Ta(e){for(let t=0;t<e.length;t++){const n=e[t].string;let r=s.rf(n,e[t]);if(r)return r===o.T.kg&&navigator.maxTouchPoints>1&&(r=o.T.de),Promise.resolve(r)}return Promise.resolve(navigator.platform)}static ic(e){let t,n=e.match(/(samsungbrowser|tizen|roku|konqueror|icab|crios|opera|ucbrowser|chrome|safari|firefox|camino|msie|trident(?=\/))\/?\s*(\.?\d+(\.\d+)*)/i)||[];if(n[1]&&/trident/i.test(n[1]))return t=/\brv[ :]+(\.?\d+(\.\d+)*)/g.exec(e)||[],[o.s.oc,t[1]||""];if(-1!==e.indexOf("(Web0S; Linux/SmartTV)"))return["LG Smart TV",null];if(-1!==e.indexOf("CrKey"))return["Chromecast",null];if(-1!==e.indexOf("BRAVIA")||-1!==e.indexOf("SonyCEBrowser")||-1!==e.indexOf("SonyDTV"))return["Sony Smart TV",null];if(-1!==e.indexOf("Philips"crios"===e&&(n[0]=o.s.pE),"tizen"===e&&(n[0]="Samsung Smart TV",n[1]=null),"samsungbrowser"===e&&(n[0]="Samsung Browser")}return n}}class l{constructor(){const e=navigator.userAgentData?a:s;this.Sg=new e,this.userAgent=navigator.userAgent,this.browser=this.Sg.tf(),this.version=this.Sg.ef(),this.OS=null,this.Ta().then((e=>this.OS=e));const t=navigator;this.language=(t.userLanguage||t.language||t.browserLanguage||t.systemLanguage||"").toLowerCase(),this.qo=l.vg(this.userAgent)}OE(){return this.browser===o.s.Bg}Ca(){return this.OS||null}Ta(){return this.OS?Promise.resolve(this.OS):this.Sg.Ta(l.Og).then((e=>(this.OS=e,e)))}static vg(e){e=e.toLowerCase();const t=["googlebot","bingbot","slurp","duckduckbot","baiduspider","yandex","facebookexternalhit","sogou","ia_archiver","https://github.com/prerender/prerender","aolbuild","bingpreview","msnbot","adsbot","mediapartners-google","teoma"];for(let n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1}}l.Og=[{string:navigator.platform,if:"Win",identity:o.T.Pg},{string:navigator.platform,if:,identity:"PlayStation"},{string:navigator.platform,if:"X11",identitypert r&&r instanceof r)&&"constructor"in e&&"constructor"in t)return!1}const i=[],o=[];let a=i.length;for(;a--;)if(i[a]===e)retur(o,"touchstart"),o.className="ab-close-button";const a=dChild(()=>c,BT:()=>s,FX:()=>i,Pn:()=>o,Rd:()=>l,X2:()=>a,_0:()=>u,yo:()=>d});var r=n(15683);function i(e,t=!1){let n=e/1e3;return t&&(n=Math.floor(n)),n}function o(e){retution d(e){return(e.valueOf()-(new Date).vafox"},i={xg:"Android",de:"iOS",kg:"M=(()=>{})){e.addEventListener(t,n,!!s()&&{passive:!0unction.createEvent("MouseEvents");t.initEvent("click",!0,!0)",(e=>{r=e.touches[0].clientX,i=e.touches[0].clientY})),l(e,"touchmove",(o=>{if(null==r||null==i)retrollTop===e.scrollHeight-e.offsetHeight||l<0&&t===a.Qe&&0===e.scrollTop)&&n(o),r=null,i=null)}))}function h(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg");i.setAtt");returnMath.floor(t),Math.floor(Math.random()*(t-e+1))+e)},49080:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,Z:()=>s});var r=n(57629),i=n(68286),o=n(80454);const a=e=>{const t={},n=e.toString().split("\r\n");if(!n)return t;let r,i;for(const e of n)e&&(r=e.slice(0,e.indexOf(":")).toLowerCase().trim(),i=e.slice(e.indexOf(":")+1).trim(),t[r]=i);return t},s={Xs:e=>{let t,n;try{const o=()=>{r.Z.j.error("This browser does not have any supported ajax options!")};let a=!1;if(window.XMLHttpRequest&&(a=!0),!a)returnconst s=()=>{"function"==typeof e.nct04=s()}catch(n){const r={error:""===t.responseText?i.Z.Vh:i.Z.Zh,response:t.responset.odata),t.opent)},La(e,r)},hi:(e,t)=>{if(!e||!t)return;const n=o.Wa(e,t);o.si(e,t,n+1)}},a=o},22512:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,T:()=>o});var r=n(57629);function i(e){let t=e.length;for(let n=e.length-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}function o(e){try{e=e.replace(/-/g,"+").replace(/_/g,"/");const t=window.atob(e),n n}function i(e){return!(!e||0!==(e=e.toString().toLowerCase()).lastIndexOf("javascript:",0)&&0!==e.lastIndexOf("data:",0))}n.d(t,{L:()=>r,o:()=>i})},43216:(e,t,n)=>{"use strict";n.d(t,{$g:()=>w,OM:()=>T,UO:()=>g,bj:()=>v,lg:()=>_,ro:()=>b,vV:()=>S,y9:()=>h,zM:()=>f,zR:()=>k});var r=n(15683),i=n(22512),o=n(57629),a=n(50913),s=n(31647),l=n(54841);const u=/^[^\x00-\x1F\x22]+$/,c=/[$.]/,d=["$add","$update","$remove","$identifier_key","$identifier_value","$new_object","$time"],p=new RegExp(/^.+@.+\..+$/),h=/^brazeActions:\/\/v\d+\//;function f(e,t,n){const r=null!=e&&"string"==typeof e&&(""===e||null!=e.match(u));return r||o.Z.j.error(`Cannot ${t} because ${n} "${e}" is invalid.`),r}function v(e){return null!=e&&e.match(c)&&-1===d.indexOf(e)&&o.Z.j.warn("Custom attribute keys cannot contain '$' or '.'"),f(e,"set custom user attribute","the given key")}function g(e){const t=typeof e;return null==e||"number"===t||"boolean"===t||(0,r.J_)(e)||"string"===t}function m(e,t,n){const i=-1!==n;if(i&&n>50)return o.Z.j.error("Nested attributes cannot be more than 50 levels deep."),!1;const s=i?n+1:-1;if((0,r.kJ)(e)&&(0,r.kJ)(t)){for(let n=0;n<e.length&&n<t.length;n++)if((0,r.J_)(e[n])&&(t[n]=(0,a.BT)(e[n])),!m(e[n],t[n],s))return!1}else{if(!(0,r.Kn)(e))return g(e);for(const n of(0,r.XP)(e)){const o=e[n];if(i&&!v(n))return!1;if((0,r.J_)(o)&&(t[n]=(0,a.BT)(o)),!m(o,t[n],s))return!1}}return!0}function y(e,t,n,i,a){let s;return s=(0,r.Kn)(e)||(0,r.kJ)(e)?m(e,t,a?1:a(),[!1,!1];if(!_(o,l.db,"attribute value",`set custom user attribute "${e}"`,"custom user attribute"))r.to(!(bscAttributeArray:case s.A9.types.removeFromCustomAttributeArray:case s.A9.types.pe:case s.A9.types.je:,{SD:()=>i,eh:()=>r});const r={PORTRAIT:0,LANDSCAPE:1};const i={openUri:function(e,t,n){e&&(t||null!=n&&n.metaion(){if("orientation"et t=e.screen.orientation||screen.mozOrientatioe-secondary"===t?r.LANDSCAPE:r.PORTRAIT}return r.PORTRAIT},Cn:function(){return window.location.href}}}},__webpack_module_cache__={},inProgress,dataWebpackPrefix,chunkMapping,idToExternalAndNameMapping;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:uire__.c=__webpack_modulesModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpa_webpack_require__.o=(s[e].push(t);else{var i,ByTagName("script"),s=0;s<a.length;s++){var l=a[s];if(l.getAttribute("src")=&urn c;t.push(r.p=c)}catch(e){i(e)}},a=(e,t,i)=>o(t.get};r)m:t-se50959l.length?e[n]=Pr t=e=>e.split(".").map((e=>+e==e?+e:e)),n=/^([^-+]"u"==o;if("o"!=o&&"u"!=o&&i!=a)return i<a;r++}},n=(e,n)=>{var r=e[n];return Object.keys(r).reduceuire__require__.c[e],t}};try{var i=l[e]();i.then?t.push(s[e]=i.then(n).catch(r)):n(i)}catch(e){r(e)}}))}})(),(()=>{var e={60123:0,49651:0,6184:0,29828:0,46423:0,58079:0,49820:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else if(76322!=t){var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}else e[t]=0};var t=(t,n)=>{var r,i,[o,a,s]=n,l=0;if(o.some((t=>0!==e[t]))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(s)s(__webpack_require__)}for(t&&t(n);l<o.length;l++)i=o[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkcbs_assets_workflow=self.webpackChunkcbs_assets_workflow||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__=__webpack_require__(31617)})();
//# sourceMappingURL=videoBottom-3ad7bd04505a2d44f6ec.min.js.map