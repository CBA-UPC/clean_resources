(()=>{"use strict";var e,t,a={},r={};.m=a,o.n=o.d=o.f={},o.e=o.u=o.g=),o.o=e={},t="Destination:",o.l=o.r=((),(();var i={};function n(e){return window.pageParams={...window.pageParams,...e}}unction d(e){if(void 0===e)return{};const t={};for(const a in e)t[a]=e[a],Array.isArray(e[a])&&(t[a]=JSON.stringify(e[a]));return t}function l(e){window.pageParams={},window.targetGlobalSettings={cookieDomain:e.cookie_domain,enabled:!0},window.targetPageParams=o.d(i,{default:);const p=function(e){const t=async t=>(await o.e(401).then(o.bind(o,3962))).generatePlugins(e,t,t.subscriptions||[]);return t.pluginName=e.name,t}({name:"Adobe Target Web",slug:"actions-adobe-target-web",mode:"device",settings:{client_code:{label:"Client Code",description:"Your Adobe Target client code. To find your client code in Adobe Target, navigate to **Administration > Implementation**. The client code is shown at the top under Account Details.",required:!0,type:"string"},admin_number:{label:"Admin number",description:"Your Adobe Target admin number. To find your admin number, please follow the instructions in [Adobe Docs](https://experienceleague.adobe.com/docs/target/using/implement-target/client-side/at-js-implementation/deploy-at-js/implementing-target-without-a-tag-manager.html).",required:!0,type:"string"},version:{label:"ATJS Version",description:"The version of ATJS to use. Defaults to 2.8.0.",type:"string",choices:[{value:"2.8.0",label:"2.8.0"}],default:"2.8.0",required:!0},mbox_name:{label:"Mbox Name",description:"The name of the Adobe Target mbox to use. Defaults to `target-global-mbox`.",type:"string",required:!0,default:"target-global-mbox"},cookie_domain:{label:"Cookie Domain",description:"The domain from which you serve the mbox. Adobe Target recommends setting this value to your company's top-level domain.",type:"string",required:!0}},initialize:async({settings:e},t)=>(l(e),await t.loadScript("https://www.twilio.com/content/dam/twilio-com/core-assets/at.js"),await t.resolveWhen((()=>Object.prototype.hasOwnProperty.call(window,"adobe")),100),window.adobe),actions:{upsertProfile:{title:"Upsert Profile",description:"Create or update a user profile in Adobe Target.",platform:"web",defaultSubscription:'type = "identify"',fields:{userId:{type:"string",description:"A user’s unique visitor ID. Setting an Mbox 3rd Party ID allows for updates via the Adobe Target Cloud Mode Destination. For more information, please see our Adobe Target Destination documentation.",label:"Mbox 3rd Party ID",default:{"@if":{exists:{"@path":"$.userId"},then:{"@path":"$.userId"},else:{"@path":"$.anonymousId"}}}},traits:{type:"object",description:"Profile parameters specific to a user. Please note, Adobe recommends that PII is hashed prior to sending to Adobe.",label:"Profile Attributes",defaultObjectUI:"keyvalue"}},perform:(e,t)=>{s(t.payload.userId),n({profile:{...t.payload.traits}});const a={mbox:t.settings.mbox_name,params:{event_name:"profile_update"}};e.target.trackEvent(a)}},triggerView:{title:"Trigger View",defaultSubscription:'type = "page"',description:"Send page-level data to Adobe Target.",platform:"web",fields:{viewName:{type:"string",description:"Name of the view or page.",label:"View Name",default:{"@path":"$.name"},required:!0},pageParameters:{type:"object",description:"Parameters specific to the view or page.",label:"Page Parameters",default:{"@path":"$.properties"}},sendNotification:{type:"boolean",description:"By default, notifications are sent to the Adobe Target backend for incrementing impression count.  If false, notifications are not sent for incrementing impression count. ",label:"Send Notifications to Adobe Target.",default:!0},userId:{type:"string",description:"A user’s unique visitor ID. Setting an Mbox 3rd Party ID allows for updates via the Adobe Target Cloud Mode Destination. For more information, please see our Adobe Target Destination documentation.",label:"Mbox 3rd Party ID",default:{"@if":{exists:{"@path":"$.userId"},then:{"@path":"$.userId"},else:{"@path":"$.anonymousId"}}}}},perform:(e,t)=>{const a=t.payload.sendNotification,r=t.payload.pageParameters;s(t.payload.userId),n({page:{...r}}),e.target.triggerView(t.payload.viewName,{page:a})}},trackEvent:{title:"Track Event",description:"Send user actions, such as clicks and conversions, to Adobe Target.",platform:"web",defaultSubscription:'type = "track"',fields:{type:{label:"Event Type",description:"The event type. Please ensure the type entered here is registered and available.",type:"string",default:"display"},eventName:{label:"Event Name",description:'This will be sent to Adobe Target as an event parameter called "event_name".',type:"string",default:{"@path":"$.event"}},properties:{label:"Event Parameters",description:"Parameters specific to the event.",type:"object",default:{"@path":"$.properties"}},userId:{type:"string",description:"A user’s unique visitor ID. Setting an Mbox 3rd Party ID allows for updates via the Adobe Target Cloud Mode Destination. For more information, please see our Adobe Target Destination documentation.",label:"Mbox 3rd Party ID",default:{"@if":{exists:{"@path":"$.userId"},then:{"@path":"$.userId"},else:{"@path":"$.anonymousId"}}}}},perform:(e,t)=>{const a=t.payload;s(a.userId);const r={...d(a.properties),event_name:a.eventName},o={mbox:t.settings.mbox_name,preventDefault:!0,params:r,type:a.type};e.target.trackEvent(o)}}}});window["adobe-targetDestination"]=i.default})();
//# sourceMappingURL=e424e3c9fc6056c04927.js.map