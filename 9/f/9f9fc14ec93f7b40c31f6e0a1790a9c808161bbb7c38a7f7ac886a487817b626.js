/* Built on 2024-02-13 16:47:57 */
//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

define("lib/i18n",[],,define("lib/tools",["static/utils","lib/i18n!front"],function(e,t){var i={pendingPrepare:[]};i.encloseTextWithTag=i.parseUrl=i.addUrlParam=i.getUrlHash=i.removeUrlHash=i.setUrlHash=i.isEmpty=i.pad=i.ucfirst=i.ucwords=i.cleanStr=i.translit="u").replace(/[ýÿ]/g,"y"{(new Image).src=i,:t!==i-1?e:e.substring(i+9)},i.replaceThumbcast=function(e){for(var t=e.split(/(<script>|<\/script>)/g),i=0;i<t.length;i++)"<script>"===t[i]||"<\/script>"===t[i]?t[i]="":"document.write(xv.thumbs.replaceThumbUrl("===t[i].substring(0,41)?t[i]=window.xv.thumbs.replaceThumbUrl(t[i].substring(42,t[i].lastIndexOf("))")-1)):"xv.thumbs.casting.displayRandomThumb("===t[i].substring(0,37)?t[i]=window.xv.thumbs.casting.displayRandomThumb(t[i].substring(38,t[i].lastIndexOf(")")-1),!0):"document.write(xv.thumbs.replaceActGalThumbUrl("===t[i].substring(0,47)?t[i]=window.xv.thumbs.replaceActGalThumbUrl(t[i].substring(48,t[i].lastIndexOf("))")-1)):"xv.thumbs.prepareVideo("===t[i].substring(0,23)&&(t[i]="");return t.join(ng_prepare_video_list[t]_prepare_viop:n.offset().top-10-t},i))};var="&hl="+i),e.loadScrumber_"+n,{"%numbfile_size_"+s,{ 0===t?this.getMaxValue():t},i.bitwise_enum.prototype={setWithValue:function(e){return thntByValue(e[t]iVal|=i:this(e);return 0!=(this.i(e){return(this(e){return 0!=(this.ient(Math.p.isElementOn(Math.ppow(2,n))&&t.push(i),t},[])},getValue:function(){r.pow(2,this.oB=typeof t[s]&"),i("debug_")ap(function(e(e,t){return e[t]=!0,e},{})},i.formatDurationMethods={"short":"short",medium:"medium","long":"long",g()}.Must=c,e.Context=f,e.Writer=h,s&&s.path||"")+": "+u)}}),n}),define("text!lib/helpers/loader/before.mustache",[],function(){return'<span class="x-loader-inline before{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{{ loader }}}{{#text}}{{#safe}}{{{ text }}}{{/safe}}{{^safe}}{{ text }}{{/safe}} {{/text}}</span>'}),define("text!lib/helpers/loader/after.mustache",[],function(){return'<span class="x-loader-inline after{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{#text}}{{#safe}}{{{ text }}}{{/safe}}{{^safe}}{{ text }}{{/safe}} {{/text}}{{{ loader }}}</span>'}),define("lib/helpers/inline_loader",["lib/tools","mustache","text!./loader/before.mustache","teode&&this.node.remove()}},l}),define("text!lib/helpers/popup/template.mustache",[],function(){return'<div class="x-popup {{ position }} {{ cls }}">\n\t<div class="x-popup-arrow"></div>\n\t<div class="x-popup-content"></div>\n\t{{{ closebtn }}}\n</div>\n'}),define("text!lib/helpers/popup/template_close.mustache",[],function(){return'<div class="x-popup-close">{{{ closebtn_content }}}</div>'}),define("lib/helpers/popup",["mustache","text!./popup/template.mustache","text!./popindow.setTimeout(r,500)}),o}),define("text!lib/helpers/overlay/template.html",[],function(){return'<div class="x-overlay">\n\t<div class="x-body">\n\t\t<div class="x-content"></div>\n\t\t<div class="x-close{{^closable}} hidden{{/closable}}" title="{{{ close_title }}}">{{{ icon }}}</div>\n\t</div>\n</div>'}),define("lib/helpers/overlay",["mustache","text!./overlay/temp?t.close():t.hide())})}}},n}),define("lib/helpers/overlay/box",["lib/toolstotype.close.apply(this)},n}),define("text!lib/helpers/overlay/contextual_popup/alert.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n\t{{^bNoBtn}}\n\t\t<div class="contextual-popup-actions">\n\t\t\t<button class="contextual-popup-content-close btn btn-danger" data-send-form="1">{{{ ok }}}</button>\n\t\t</div>\n\t{{/bNoBtn}}\n</div>'}),define("text!lib/helpers/overlay/contextual_popup/confirm.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n\t<div class="contextual-popup-actions">\n\t\t<button class="ok-close btn btn-danger" data-send-form="1">{{{ ok }}}</button>\n\t\t<button class="contextual-popup-content-close btn btn-default">{{{ cancel }}}</button>\n\t</div>\n</div>'}),define("text!lib/helpers/overlay/contextual_popup/loading.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n</div>'}),define("lib/helpers/overlay/contextual_popup",["mustache","./box","../inline_loader","lib/i18n!front","text!./contextual_popup/alert.mustache","text!./contextual_popup/confirm.mustache","text!./context&t.autoclose_fade})}},new r}),define("skins/common/basic_feature",["config/main","lib/i18n!front","lib/helperthis.bErrorPopupNotif=e}},n}),define("skins/common/main_cats/builder",["config/main","le_feature(null,!1)}},new i}),define("text!skins/common/main_cats/switcher.mustache",[],function(){return'<ul>\n\t{{#main_cats}}\n\t\t<li{{#is_user_cat}} class="current"{{/is_user_cat}}>\n\t\t\t<a href="{{ url }}" class="btn cat">\n\t\t\t\t<span>{{{ picto }}}</span> {{{ name }}}\n\t\t\t</a>\n\t\t</li>\n\t{{/main_cats}}\n\t{{^no_disabled_alert}}\n\t<li class="alert-toggle {{{ disabled_alert_class }}}">\n\t\t<button class="btn" type="button"><span class="icon-f icf-square unchecked"></span><span class="icon-f icf-check-square checked"></span> <span class="text">{{{ disabled_alert_text }}}</span></button>\n\t</li>\n\t{{/no_disabled_alert}}\n</ul>'}),define("text!skins/common/main_cats/switcher_feature_toggle.mustache",[],function(){return'<span class="alert-toggle {{{ disabled_alert_class }}}">\n\t<span class="icon-f icf-square unchecked"></span><span class="icon-f icf-check-square checked"></span> <span class="text">{{{ disabled_alert_text }}}</span>\n</span>'}),define("skins/common/main_cats/switcher",["mustache","config/main","lib/helpers/popup","lib/i18n!front","static/cookies","./builder","text!skins/common/main_cats/switcher.mustache","text!skins/common/main_cats/switchew l},xv.main_cats.switcher}),define("skins/common/dee-stop-anim")},500)}},new e}),define("skin).on("resize",t)}catch(i){}}),define("skins/common/design/old_ie",["lib/iate","1",864e5,"/")}},new i}),define("skins/common/tracker/user_videos_list_tracker",["coreturn new Promise(o)})}},i}),define("skins/common/tracker/videos_i_like",["./user_videos_list_tracker"],function(e){return new e("aVideosILike")}),define("skins/common/tracker/virn i().getIdsList()}},new n}),define("text!skins/common/download_app/popup.mustache",[],function(){return'<div id="popup-opening-message">\n\t<span id="popup-opening-close" class="icon-f icf-close-thin" title="{{{ close }}}"></span>\n\t<div id="popup-opening-content">\n\t\t<div id="popup-opening-desc">\n\t\t\t<p class="popup-opening-title">\n\t\t\t\t<strong>{{{ title }}}</strong>\n\t\t\t</p>\n\t\t\t<p class="popup-opening-link">{{{ link }}}</p>\n\t\t\t<p class="popup-opening-infos">{{{ infos }}}</p>\n\t\t</div>\n\t\t<span class="icon-f icf-device-mobile"></span>\n\t</div>\n</div>'}),define("skins/common/download_app",["config/main","mustache","lib/i18n!front","text!skins/common/detPopupDisplay(!1)}}},new s}),define("llling:function(){return i}}}),definener:function(e){i.push(e)}}}),define("lib/helpers/events",[urn e.isScrolling()}},new i}),
define("skins/common/profile/sub_actions",["config/main","lib/i18n!front","lib/helpers/overlay/contextual_popup","skinssimplePost(s,o,i,n)}},new s}),define("text!skins/common/history/history_popup.mustache",[],function(){return'<div class="disable-history-confirm">\n\t{{ content }}\n\t<form>\n\t\t<label><input type="checkbox" name="clear" value="1"/> {{ history }}</label>\n\t</form>\n</div>'}),define("skint;)e=e.parent;return e}},e}),define("text!skins/form/validator/form_errors/contener.mustache",[],function(){return"<div class='validator-err-sc'>\n\t<a href=\"#\" class='close-btn'><span class='icon-f icf-close-thin'></span></a>\n\t<h3>{{{ title }}}</h3>\n\t<span class=\"icon-f icf-warning icon-bg\"></span>\n\t<div></div>\n</div>"}),define("text!skins/form/validator/form_errors/error.mustache",[],function(){return"<p class=\"form-error-shortcut\">\n\t<span class='icon-f icf-caret-right'></span>\n\t<a href='#'>\n\t\t{{#label}}<strong>{{{ label }}}</strong> :{{/label}}\n\t\t<span>{{{ error }}}</span>\n\t</a>\n</p>"}),define("skins/form/validator",["./validator/schema","mustache","lib/helpers/inline_loader","lib/helpers/overlay/contextual_popup","lib/i18n!front","text!./validator/form_errors/contener.mustache","text!./validator/ind(".vloader").remove()},l}),define("skins/form/captchafunction(e){this.log(e)}},i}),define("text!skins/common/currency_switch/switcher.mustache",[],function(){return'<ul>\n\t{{#currencies}}\n\t\t<li>\n\t\t\t<button class="btn{{#is_current}} is-current{{/is_current}}" type="button" data-id="{{ id }}">{{{ short_name }}}</button>\n\t\t</li>\n\t{{/currencies}}\n</ul>'}),define("skins/common/currency_switch/switcher",["config/main","mustache","lib/helpers/popup","lib/i18n!front","text!skins/common/currencs),undefined,e)}),i}},new o}),define("skins/common/mozaique/premium_redion"==typeof i&&i()}},new t}),define("skins/common/form/login/base",["config/main","static/console","static/dom","lib/tools","lib/i18n!front","lib/helpers/inline_loader","lib/helpers/overlay/box","lib/helpers/overlay/contextual_popup","skins/form/validator","skins/form/captcha"],functioqjs=null,this.validators={}};return d.prototype={getType:function(){return"form_base"},setOpenCloseModes:function(e,t,i,n,s){"string"!=typeof e&&(e=""),"boolean"==typeof t&&(this.bClosableForm=t),"boolean"==typeof i&&(this.bCloseOnEscape=i),"boolean"==typeof s&&(this.bFormRepositionOnOverlayClick=s),this.setOnCloseCallback(n);var o=["signin","signup","premium"];this.form_opening_origin_mode=e,this.form_opening_mode=o[0];for(var a in o)0===e.indexOf(o[a])&&(this.form_opening_mof e&&(this.fnOnFormClose=(n,t,s),this.val&&delete thihing||this.doToggleForms(e)},doToggleForms:function(e){console.error("doToggleForms igninform"in_form.lateredEnd&&r.onFopNodes is not ){e.bIsLoad():window.location.href=t},ngLoader(),this.redirect(e)Path(this.bReloadWithHash))},setReloadWithHash:function(e){this.bReloadWithHash="boolean"!=typeof e||e},onSubmit:fuvalidators[i].resetSeloadWithConnect?n:"straig(t+=window.locs.box&&thr),i.box.positiohis.blosable:1};this.loadForm(n)},close:function(){this.box&&thiss.onFormLoaonClickLinks(u.forceclose"),thsetConfirmation()};break}})}},d}),define("skins/common/form/login/btn_actions",["skins/form/validator",,no_init_validate:!0}))}},i}),define("skins/common/design/text(t.length)}return s}},new i}),define("skins/common/form/login/standard",["config/main","lib/tools","skins/form/validatoe.preventDefault(),!1}})},r}),define("lib/helpers/scrollbar",["lib/tools"],function(e){var t=window.requestAnimation(}),this.onScrollCallback()}};i.S_MAIN_CONTAINER_CLASS="xscroll-container",i.S_MOVE_HORIZONTAL="horizontal",i.S_MOVE_VERTICAL="vertical",i.S_MODE_HORIZONTAL=i.S_MOVE_HORIZONTAL,i.S_MODE_VERTICAL=i.S_MOVE_VERTICAL,i.S_MODE_AUTO="auto",i.I_MOUSE_GRAB_LIMIT=50;var n={oOptions:{$Container:undefined,sMode:i.S_MODE_AUTO,bAutoHide:!0,iAutoHideDelayMs:3e3,iMinGrabSizePx:50,iMaxGrabSizePercent:95,iBarMarginPx:5,bNoAutoHideWhileGrabbing:!0,bNoAutoHideWhileHovering:!0,bCanMouseGrabToScroll:!1},oListeners:{fnOnScroll:null}};return i.p&(this.oContainerInfos=t),i},forceUpdateView:function(){this.updateContentInfos(!0),this.updateView(!0)},updateView:function(e){var t=this,n=!!e||this.updateContentInfos();if(this.$content&&this.$content.length){if(!this.bFirstDraw){if(setTimeout(function(){t.updateView()},50),!this.$content.is(":visible"))return;this.bFirstDraw=!0}var s=this.$content.is(":visible")?2e3:1e4;this.oUpdateViewTimeout||(this.oUpdateViewTimeout=setTimeout(function(){t.oUpdateViewTimeout=null,t.updateView()},s)),n&&(this.oContainerInfos.iScrollHeight>this.oContainerInfos.iHeight?this.sMode!==i.S_MODE_AUTO&&this.sMode!==i.S_MODE_VERTICAL||this.updateVerticalBar(!0):this.deleteVerticalBar(),this.oContainerInfos.iScrollWidth>this.oContainerInfos.iWidth?this.sMode!==i.S_MODE_AUTO&&this.sMode!==i.S_MODE_HORIZONTAL||this.updateHorizontalBar(!0):this.deleteHorizontalBar(),this.updateGrabPos(),this.onScrollCallbacgetVerticalScroll.oListeners.fns.updateHoriz,iTop:a,iHeight:t,rMarginPx)/e.iScrollWidth,e},getContainer:function(){return this.$container},createVerticalBar:function(){this.$VerticalBar&&this.$VerticalBar.length||(this.$VerticalBar=$('<div class="xscroll-v"></div>'),this.$VerticalGrab=$('<div class="xscroll-grab"></div>'),this.$VerticalBar.on("mousedown",this,this.onMouseDownScrollBarVertical).on("touchstart",this,this.onMouseDownScrollBarVertical).append(this.$VerticalGrab),this.oOptions.bCanMouseGrabToScroll&&this.$content.off("mousedown",this.onMouseDownContentVertical).on("mousedown",this,this.onMouseDownContentVertical),this.$container.addClass("xscroll-v-added").append(this.$VerticalBar))},getVerticalScrollPerc:function(e){if(!e){if(!this.updateContentInfos())return 0;e=!0}return Math.round(this.oContainerInfos.iScrollTop/(this.oContainerInfos.iScrollHeight-this.oContainerInfos.iHeight)*100*1e3)/1e3},getVerticalScrollRatio:function(e){if(!e){if(!this.updateContentInfos())return 0;e=!0}return Math.round(100*this.oContainerInfos.iScrollHeightRatio*1e4)/1e4},getVerticalGrabScrollPerc:function(e){var t=this.getVerticalScrollRatio(e),i=Math.round((this.oContainerInfos.iHeight-2*this.oOptions.iBarMarginPx-this.oOptions.iMinGrabSizePx)/(this.oContainerInfos.iScrollHeight-this.oContainerInfos.iHeight)*100*1e4)/1e4;return Math.min(t,i)},updateVerticalGrabPos:function(e){if(this.$VerticalGrab&&this.$VerticalGrab.length){if(!e){if(!this.updateContentInfos())return;e=!0}var t=this.getVerticalGrabScrollPerc(e);this.$VerticalGrab.css({top:Math.floor(this.oContainerInfos.iScrollTop*t/100)+this.oOptions.iBarMarginPx+"px"}),this.onScrollCallback()}},updateVerticalBar:function(e){if(this.createVerticalBar(),!e){if(!this.updateContentInfos())return;e=!0}this.$VerticalBar.css({height:this.oContainerInfos.iHeight});var t=this.getVerticalScrollRatio(e);this.iGrabHeight=Math.ceil(this.oContainerInfos.iHeight*t/100),this.iGrabHeight<this.oOptions.iMinGrabSizePx&&(this.iGrabHeight=this.oOptions.iMinGrabSizePx),this.iGrabHeight>this.oContainerInfos.iHeight*this.oOptions.iMaxGrabSizePercent/100&&(this.iGrabHeight=Math.ceil(this.oContainerInfos.iHeight*this.oOptions.iMaxGrabSizePercent/100)),this.$VerticalGrab.css({height:this.iGrabHeight}),this.updateVerticalGrabPos(e)},deleteVerticalBar:function(){this.$VerticalBar&&this.$VerticalBar.length&&(this.$container.removeClass("xscroll-v-added"),this.$VerticalBar.remove(),this.$VerticalBar.off("mousedown",this.onMouseDownScrollBarVertical).off("touchstart",this.onMouseDownScrollBarVertical),this.$VerticalBar=null,this.$VerticalGrappend(this.$HorizontalBarInfos.iWidth)*100*1e3)/1.iScrollWidthRatio*1e4)/1e4}4)/1e4;return Math.min(t}),this.onScrollCall.updateHorizontalGra,this.$Hmousemove",this.onInteract)}e.is(this.$HorizontalGrab))},scrollLeft:function(e,t){this.sMode!==i.S_MODE_AUTO&&(this.sMode,i.S_MODE_HORIZONTAL);var n=this.getContainerInfos();!0===t&&(e=Math.max(0,Math.min(100,e)),e=Math.round((n.iScrollWidth-n.iWidth)*e/100)),e=Math.max(0,Math.min(n.iScrollWidth,e)),this.$content&&this.$content.length&&this.$content.scrollLeft(e),this.updateHohis.updateVoOptions.iAutoHideDelayMs)}},onMouseEnter:function(e){e.datation(){e.updateView(t)},50)},onResize:function(e){var t=e.data;t.oTimerOnResize?clearTimeout(t.oTimerOnResize):t.updateView(),t.oTimerOnResize=setTimeout(function(){t.updateView(),t.oTimerOnResize=null},500)},onScroll:function(e){e.data.updateGrabPos()},onMouseDownContentVertical:function(e){var t=e.data;return t.iLastPageContentY=e.pageY,t.bContentMouseGrabMoovingY=!1,null===t.iLastPageContentX&&($(document).on("mousemove",t,t.onMouseMoveContent).on("mouseup",t,t.onMouseUpContent),t.addOnMouseClickContent()),!1},ddOnMouseClickConteiLastPageContentYContentMouseGrabMoovingis.fnMouseClickContent,!0)s.fnMouseClickContenremoveOnMouseClickContent()},,t,t.onMouseUpScrollBar),!1},on,t,t.onMouseUpScrollBpdateHorizontalGrabhend",t.onMouseUpScrollBar)}},i}),define("text!skins/common/dropdown/tpls/dropdown.mustache",[],function(){return'<div class="{{getClasses}}{{#needsScrollbar}} with-scrollbar{{/needsScrollbar}}">\n\t<div class="x-dropdown-selected{{#oOptions.bOneLineSelected}} x-dropdown-selected-one-line{{/oOptions.bOneLineSelected}}">\n\t\t{{#getDefaultOption}}\n\t\t<div class="x-dropdown-selected-option" data-x-value="{{{ key }}}">\n\t\t\t<span class="icon-f {{#oOptions.sAlwaysIcon}}{{{ oOptions.sAlwaysIcon }}}{{/oOptions.sAlwaysIcon}}{{^oOptions.sAlwaysIcon}}{{#option.icon}}{{{ . }}}{{/option.icon}}{{/oOptions.sAlwaysIcon}}"></span>\n\t\t\t<span class="x-dropdown-value">{{{ option.value }}}</span>\n\t\t\t<span class="x-dropdown-caret icon-f"></span>\n\t\t</div>\n\t\t{{/getDefaultOption}}\n\t</div>\n\t<div class="{{getOptionsClasses}}">\n\t\t<div class="x-options-container">\n\t\t\t{{{ getDefaultSep }}}\n\t\t\t{{{ getMainOptions }}}\n\t\t\t{{{ getSep }}}\n\t\t\t{{{ getSepOptions }}}\n\t\t</div>\n\t</div>\n</div>'}),define("text!skins/common/dropdown/tpls/dropdown_option.mustache",[],function(){return'<div class="x-dropdown-option{{#option.disabled}} disabled{{/option.disabled}}{{#option.bSelected}} selected{{/option.bSelected}}{{#option.action_on_disabled}} with-action{{/option.action_on_disabled}}" data-x-value="{{{ key }}}">\n\t<span class="icon-f {{#option.icon}}{{{ . }}}{{/option.icon}}"></span>\n\t<span class="x-dropdown-value">{{{ option.value }}}</span>\n</div>'}),define("text!skins/common/dropdown/tpls/dropdown_sep.mustache",[],function(){return'<div class="x-dropdown-sep">\n\t<span class="x-dropdown-sep-text">{{{ . }}}</span>\n</div>'}),define("skins/common/dropdown/dropdown",["lib/tools","mustache","lib/helpers/scrollbar","text!./tpls/dropdown.mustache","text!./tpls/dropdown_option.mustache","text!./oScrollBar.updateView()}},r}),define("text!skins/common/form/login/purchase/tpls/payment_type_button.mustache",[],function(){return'<div class="payment-type-text">{{{ sIcon }}}{{{ sText }}}</div>'}),define("skins/common/form/login/purchase/payment_type",["mustache","lib/tools","config/main","lib/i18n!front","text!./tpls/payment_type_button.mustache"],function(e,t,i,n,s){var o={oTemp{t.initParams(this,e||{},o)};var a=new a;return a.CRYPTO_CURRENCY="CRYPTO_CURRENCY",a.PIX="PIX",a.SEPA="SEPA",a.CREDIT_CARD="CREDIT_CARD",a.PIX_SEPA="PIX#SEPA",a.CREDIT_CARD_SEPA="CREDIT_CARD#SEPA",a.CREDIT_CARD_PIX="CREDIT_CARD#PIX",a.CREDIT_CARD_PIX_SEPA="CREDIT_CARD#PIX#SEPA",a.getPaymentTypeDisplayName=function(e){switch(e){case a.CRYPTO_CURRENCY:return"<span>Crypto</span>";case a.CREDIT_CARD:return"<span>"+n.__("premium.payment_method_credit_card")+"</span>";case a.SEPA:return this.getPaymentIconDisplay(a.SEPA);case a.PIX:return"<span>PIX</span>";case a.PIX_SEPA:return this.getPaymentTypeDisplayName(a.PIX)+"<span> / </span>"+this.getPaymentTypeDisplayName(a.SEPA);case a.CREDIT_CARD_PIX_SEPA:return this.getPaymentTypeDisplayName(a.CREDIT_CARD)+"<span> / </span>"+this.getPaymentTypeDisplayName(a.PIX_SEPA);case a.CREDIT_CARD_SEPA:return this.getPaymentTypeDisplayName(a.CREDIT_CARD)+"<span> / </span>"+this.getPaymentTypeDisplayName(a.SEPA);case a.CREDIT_CARD_PIX:return this.getPaymentTypeDisplayName(a.CREDIT_CARD)+"<span> / </span>"+this.getPaymentTypeDisplayName(a.PIX);default:return log.warn('Unknown display name for payment type "'+e+'"')ass="icon-f '+t+'"></smultipayment_sep">/</divemplates.sTplPaymentType,i)},a}),define("text!skins/common/form/login/purchase/tpls/product_dropdown_desc.mustache",[],function(){return'<span class="product-desc">\n\t<span class="product-desc-main">{{{ sMainText }}}</span>\n\t<span class="product-desc-sep price"> - </span>\n\t<span class="product-desc-price">{{{ sMainPrice }}}</span>\n\t{{#sDescription}}\n\t\t<span class="product-desc-sep description"> - </span>\n\t\t<span class="product-desc-description">{{{.}}}</span>\n\t{{/sDescription}}\n</span>'}),define("skins/common/form/login/purchase/product",["mustache","lib/i18n!front","skins/common/form/login/purchase/payment_type","text!./tpls/prod,sDescription:r})}},Product}),define("text!skins/common/form/login/purchase/buttons_form/tpls/selectable_element.mustache",[],function(){return'<div class="selectable-element-parent {{ sParentClasses }}">\n\t<div class="selectable-element {{ sClasses }}">\n\t\t{{{ sContent }}}\n\t</div>\n</div>'}),define("skins/common/form/login/purchase/buttons_form/payment_type_button",["mustache","lib/tools","skins/common/dropdown/dropdown","skins/common/form/login/purchase/payment_type","text!./tpls/s",n.CRYPTO_CURRENCY),r}}},a}),define("text!skins/common/form/login/purchase/buttons_form/tpls/chosemethod_modal.mustache",[],function(){return'<div class="chosemethod-modal">\n\t<div class="chose-title {{{ payment_type }}}">\n\t\t<div class="chose-current">{{{ offer_not_available }}}</div>\n\t\t<div class="chose-next">{{{ use_this_these_method }}}</div>\n\t</div>\n\t<div class="methods">\n\t</div>\n</div>'}),define("skins/common/form/login/purchase/buttons_form/chose_payment_type",["mustache","lib/tools","config/main","lib/i18n!front","lib/helpers/overlay/box","skins/common/form/login/purchase/payment_type","skins/common/form/login/purchase/buttons_form/payment_type_button","text!./tpls/e.overlay.close()}}})})}},u}),define("skins/common/form/login/purchase/buttons_form/buttons_form",["mustache","lib/tools","config/main","lib/i18n!front","skins/common/form/login/purchase/product","skins/common/form/login/purchase/payment_type","skins/common/form/login/purchase/buttons_form/payment_type_button","skins/common/form/login/purchase/buttons_form/chose_payment_type","text!./tpls/s||t.toggle(!1),e[i]=1})}},d}),define("skins/common/form/loPTO_TYPE[t[1]]},CRYPTO_TYPE}),define("skins/common/form/login/purchase/multiform_option",["mustache","lib/tools","config/main","lib/i18n!front","skins/common/form/login/purchase/payment_type","skins/common/form/login/purchase/crypto_type","skins/common/form/login/purchase/product","skins/common/form/login/purchase/buttons_form/chose_payment_type","skins/common/dropdown/dropdown"],function(e,t,i,n,s,o,a,r,l){var u={oOptions:{oFormInfo:undefined,$context:undefined,bHideProductWhenSolo:!1},oTemps(this,e||{},u),this.init()};return d.prototype={init:function(){if(!this.oOptions.oFormInfo)return void log.error("Missing form infos in reqjs");this.oOptions.$context||(this.oOptions.$context=$("body")),this.sFormId=this.find("form").attr("id"),this.sFormId&&this.find("form").append($('<input type="hidden" name="'+this.sFormId+'[product]"/>')),this.$selectPaymentMethod=this.find(".select-payment-method"),this.$selectOffer=this.find(".select-offer"),this.parseProducts(),this.parseOffersForPaymentTypes(),this.initPaymentMethodDropdown(),this.s.oOptions.$co[i]=[]),e[i].push(t),e},{})his.oPaymentTypesProducts=e},getSelectedPaymentType:function(){return this.oSelectPaymentMethodDropdown.getSelectedVnot display products.')]||(a.push(e),o[t]=!0)}}),a},initPaymentMethodDropdown:function(){var e=this;this.initPaymentInfos();var t=this.aPaymentTypes.reduce(function(t,i){var n=e.oPaymentInfos[i];return void 0===n?log.error("Unhandled payment type '"+i+"'"):(log.debug("Added payment type '"+i+"'"),t[i]={icon:n.icon,value:n.text}),t},{});this.$selectPaymentMethod.empty(),this.oSelectPaymentMethodDropdown=new l({oOptions:{$container:this.$selectPaymentMethod,oKeyValues:t,bStyleLeft:!0,bStyleLeftMobile:!1,iNbMaxDisplayedOptions:5,aClasses:["selectable-element","payment-type"],sSepName:"Crypto",sSepPrefix:"CRYPTO"},oListeners:{fnOnSelectItem:function(t,i){var n=e.find(".offer .x-dropdown-selected-option").attr("data-x-value"),o=e.oProducts[n];e.updateProductsDropdown();var a=i.split("-");a.length>1&&"CRYPTO"===a[0]&&(e.find('[name="'+e.sFormId+'[crypto_currency]"]').attr("value",a[1]),i=s.CRYPTO_CURRENCY),e.selectFirstCompatibleOffer(o,i)}}})ropdown.clickOption(n.iId)}},getCompreturn e.sPaymentType===t})},initProductsDropdown:function(){var e=this;this.$selectOffer.empty(),this.oSelectOfferDropdown=new l({oOptions:{$container:this.$selectOffer,oKeyValues:{},bStyleLeft:!0,bStyleLeftMobile:!1,iNbMaxDisplayedOptions:4,aClasses:["selectable-element","offer"],bAlwaysScrollbar:!0},oListeners:{fnOnSelectItem:function(t,i){e.find(".submit-txt-product").toggle(!1),e.find(".submit-txt-product-"+i).toggle(!0),e.find(".offer-price .product").toggle(!1),e.find(".offer-price .product[data-value="+i+"]").toggle(!0),e.find('[name="'+e.sFormId+'[product]"]').attr("value",i)},fnOnSelectUnavailableItem:function(t,i){var n=e.oProducts[i];new r({oOptions:{aProducts:e.oProductsByUnique[n.getUnicity()],sCurrentPaymentType:e.getSelectedPaymentType()},oLctFirstCompatibleOffer(n,i)},onCryptoSelect:function(t,i){e.oSelectPaymentMethodDropdown.setSelection("CRYPTO-"+i),e.updateProductsDropdown(),e.selectFirstCompatibleOffer(n,s.CRYPTO_CURRENCY)}}})}}}),this.updateProductsDropdown()},updateProductsDropdown:function(){var e=this.getSelectedPaymentType(),t=this.getAvatDropdownOptionDisplay()},e},{});i=this.getUna!0,action_on_disabled:!0},e},i),this.oSelectOfferDropdown.oOptions.oKeyValues=i,this.oSelectOfferDropdown.redraw(),this.oSelectOfferDropdown.$dropdown.parent().toggle(!0),this.oOptions.bHideProductWhenSolo&&Object.values(i).length<=1&&this.oSelectOfferDropdown.$dropdown.parent().toggle(!1);var n=this.oSelectOfferDropdown.getKeyValues()[0].key;n&&this.oSelectOfferDropdown.clickOption(n)},initPaymentInfos:function(){this.oPaymentInfos={},this.oPaymentInfos[s.CREDIT_CARD_PIX_SEPA]={text:n.__("premium.payment_method_credit_card")+' / SEPA / <span class="icon-f icf-pay-pix"></span> PIX',icon:"icf-pay-card"},this.oPaymentInfos[s.CREDIT_CARD_SEPA]={text:n.__("premium.payment_method_credit_card")+" / SEPA",icon:"icf-pay-card"},this.oPaymentInfos[s.CREDIT_CARD_PIX]={text:n.__("premium.payment_method_credit_card")+' / <span class="icon-f icf-pay-pix"></span> PIX',icon:"icf-pay-card"},this.oPaymentInfos[s.CREDIT_CARD]={text:n.__("premium.payment_method_credit_card"),icon:"icf-pay-card"},this.oPaymentInfos[s.PIX_SEPA]={text:'SEPA / <span class="icon-f icf-pay-pix"></span> PIX',icon:"icf-pay-sepa"},this.oPaymentInfos[s.SEPA_PIX]={text:'SEPA / <span class="icon-f icf-pay-pix"></span> PIX',icon:"icf-pay-sepa"},this.oPaymentInfos[s.SEPA]={text:"SEPA",icon:"icf-pay-sepa"},this.oPaymentInfos[s.PIX]={text:"PIX",icon:"icf-pay-pix"},this.oPaymentInfos["CRYPTO-"+o.BTC]={text:"Bitcoin",icon:"icf-crypto-btc"},this.oPaymentInfos["CRYPTO-"+o.ETH]={text:"Ethereum",icon:"icf-crypto-eth"},this.oPaymentInfos["CRYPTO-"+o.USDT]={text:"USDT",icon:"icf-crypto-usdt"},this.oPaymentInfos["CRYPTO-"+o.TRX]={text:"Tron",icon:"icf-crypto-trx"}}},d}),define("skins/common/form/login/premium",["mustache","lib/tools","config/main","./base","./btn_actions","skins/common/dropdown/dropdown","skins/common/form/login/purchase/buttons_form/buttons_form","skins/common/form/login/purchase/multiform_option","skins/commomobile-condense-toggle")},f}),define("skins/default/form/login",["config/main","skins/common/form/login/standard","skins/common/form/login/premium","skins/common/tracker/video_subs","skins/cotupNodes.apply(this,[e])},a}),define("skins/common/history/page_view_history",["config/main","static/tracker","static/utils","lib/i18n!front","lib/helpers/overlay/contextual_popup","skins/common/basic_feature","mustache","text!skins/common/hists.oFeature.enable(e)},new d}),define("text!skins/common/suggests/suggest_popup.mustache",[],function(){return'<div class="suggest-popup popup-confirm">\n\t<p>{{ content }}</p>\n\t<button class="btn btn-primary btn-ok">{{ ok }}</button>\n\t<button class="btn btn-primary btn-close">{{ not_ok }}</button>\n</div>'}),
define("skins/common/suggests/suggests_manager",["static/utils","mustache","lib/i18n!front","lib/helpers/overlay/contextual_popup","eof t&&t()},"json")}},new o}),define("skins/common/video/vote_manager",["config/main","lib/helpers/inline_loader","lib/helpd]=this.notlogged_func)}},u}),define("text!skins/common/mozaique/thumb_block_menu/btn.mustache",[],function(){return'<button class="action-menu"><span class="open icon-f icf-ellipsis-v"></span><span class="close icon-f icf-close-thin"></span></button>'}),define("skins/common/mozaique/thumb_block_menu/one_tb_menu",["config/main","mustache","lib/helpers/popup","lib/i18n!front","lib/helpers/inline_loader","lib/helpers/events","skins/common/profile/sub_actions","skins/common/history/page_view_history","skins/common/suggests/suggests_manager","skins/common/video/vote_manager","skins/common/tracker/videos_i_his.$Content.append(t)}}},f}),define("skins/common/mozaique/thumb_block_menu",["config/main","mustache","lib/i18n!front","lib/helpers/inline_loader","lib/helpers/events","./tht.disable&&t.disable()}}},a}),define("skins/common/video/copy_link",["lib/helptent($("<p>"+i+"</p>"))}},n}),define("text!skins/common/video/share.mustache",[],function(){return'<ul class="share-toolbox">\n\t{{#share}}\n\t\t<li>\n\t\t\t<a class="{{{ class }}}" href="{{{ href }}}" title="{{{ tool }}}"{{#target_blank}} target="_blank"{{/target_blank}}><span class="icon-f icf-{{{ icf }}}"></span></a>\n\t\t</li>\n\t{{/share}}\n</ul>'}),define("skins/common/video/share",["mustache","static/utils","lib/i18n!front","skins/common/video/copy_link","text!skins/ccape(a),url:o})}),f}},new o}),define("skins/default/video/watch_later/watch_later_tracker",["skins/common/trackereturn new e("aWatchLater")}),define("skins/default/video/watch_later",["config/main","lib/i18n!front","lib/helpers/popup","./watch_later/watch_later_tracker","dClass("disabled"))}},new a}),define("skins/common/history/easyrn t.length>0&&t[0]}},new n}),define("skins/common/history/one_infoction(t){e.clear(t)}},new t}),define("skins/default/mozaique/thumb_block_viewed",["config/main","skins/common/history/one_info_tracker","skins/common/history/page_view_history","rn new Promise(a)})}},new s}),define("lib/helpers/popup/to.oTooltip.setContent(e)}},t}),define("text!skins/common/profile/subscribe/subscribed.mustache",[],function(){return'<div class=\'subscribed\'>\n\t<p>{{ subscribed }}{{^hide_view_activities}} <a href="/my-subs/videos">{{ view_activities }}</a>{{/hide_view_activities}}{{#has_related}} <span>{{ also_like }}:</span>{{/has_related}}</p>\n\t{{#has_related}}<div class="profileslist">{{{ related_html }}}</div>{{/has_related}}\n</div>'}),define("text!skins/common/profile/subscribe/related_profile.mustache",[],function(){return'\n<div class="profile">\n\t<a class="profile-img" href="{{ url }}">\n\t\t{{{ img }}}\n\t\t<span class="flag-small flag-{{ country }}"></span>\n\t</a>\n\t<p class="profile-name">\n\t\t<a href="{{ url }}" title="{{ username_display }}">{{ username_display }}</a>\n\t</p>\n\t<div id="{{ div_sub_id }}"></div>\n\t{{#about_me}}\n\t\t<p class="profile-desc">\n\t\t\t{{{ about_me }}}\n\t\t</p>\n\t{{/about_me}}\n</div>'}),define("text!skins/default/profile/subscribe/btn_sub.mustache",[],function(){return'<span class="user-subscribe">\n\t<span class="count">{{ count }}</span>\n</span>'}),define("skins/default/profile/subscribe/btns",["mustache","config/main","lib/i18n!front","skins/common/profile/sub_actions","skins/default/profile/subscribe/btn","text!skins/default/profile/null,null,!1,d)}},init_btns}),define("skins/default/profile/subscribe/btn",["config/main","static/utils","lib/helpers/popup","lib/helpers/popup/tooltip","lib/i18n!front","lib/helpers/inline_loader","lib/helpers/overlay/contextual_popup","skins/}),this.tooltip.open())}},l}),function(e){"function"==typeof define&&define.amd?define("lib/pathchan.onhashchange),e}};return t}),define("lib/historyndow.xv_listen_hash}},new t}),define("text!skins/default/pagination/pagination.mustache",[],function(){return'<div class="pagination {{ pagination_class }}">\n\t<ul>\n\t\t{{# list }}\n\t\t\t<li{{# item.classes }} class="{{ item.classes }}"{{/ item.classes }}>\n\t\t\t\t{{# link }}\n\t\t\t\t<a {{# link.url }} href="{{ link.url }}"{{/ link.url }}{{# link.classes }} class="{{ link.classes }}"{{/ link.classes }} data-page="{{ link.pageIndex }}">\n\t\t\t\t\t{{{ link.content }}}\n\t\t\t\t</a>\n\t\t\t\t{{/ link }}\n\t\t\t\t{{{ item.customContent }}}\n\t\t\t</li>\n\t\t{{/ list }}\n\t</ul>\n</div>'}),define("skins/default/pagination",["config/main","lib/i18n!front","mustache","text!./pagitring(e.dyn.locale)}},new o}),define("text!lib/helpers/dragdrop_select_and_reorder/dragdrop_selection_checkbox.mustache",[],function(){return'<div class="checkbox-dragdrop">\n\t<input type="checkbox" id="{{ id }}" value="{{ id }}" name="delete-pic" />\n\t<label class="checkbox-label" for="{{nit=i.drmove(thinit=t.drekey)})}),!!a.length&&e(a)}}(jQuery),define("libs/jquery-event-dragdrop",function(){}),define("lib/helpers/dragdrop_select_and_reorder/dragdrop_selection",["static/utils","mustache","text!./dragdrop_selection_checkbox.mustache","arget)),"change")};return n}),define("lib/helpers/dragdrop_select_and_reorder/dragdrop_reorder",["static/utils","scrollingWindow()};return t}),define("lib/helpers/dragdrop_select_and_reorder",["static/utils","lib/i18n!front","lib/helpers/overlay/contextual_popup","lib/helpers/dragdrop_select_and_reorder/dragdrop_selection","lib/helpers/dragdrop_select_an));this.saveNewOrder(s)}},o}),define("text!skins/default/video/playlists/tb_list_elem_base.mustache",[],function(){return'<span class=\'in-fav-indic\'>\n\t<span class="icon-f icf-check"></span>\n</span>\n{{^bIsVideo}}\n<span class=\'is-fav-indic{{#bWatchLater}} is-watch-later{{/bWatchLater}}\'>\n\t{{#bWatchLater}}<span class="icon-f icf-clock"></span>{{/bWatchLater}}\n\t{{^bWatchLater}}<span class="icon-f icf-favorites"></span>{{/bWatchLater}}\n</span>\n{{/bIsVideo}}\n'}),define("text!skins/default/video/playlists/tb_list_elem_base_line.mustache",[],function(){return'<div class="favlist-elem favlist-elem-line{{#bInList}} in-favlist{{/bInList}}{{#bIsFull}} max-videos-reached{{/bIsFull}}" id="favlist_{{{sId}}}">\n\t<div class="favlist-e-left">\n\t\t<div class="favlist-e-visibility">{{{sPicto}}}</div>\n\t\t<div class="favlist-e-title">\n\t\t\t<span class="icon-f icf-check in-fav-indic"></span>\n\t\t\t{{#bWatchLater}}<span class="icon-f icf-clock is-watch-later"></span>{{/bWatchLater}}\n\t\t\t{{{sName}}}\n\t\t\t<span class="favlist-e-tags">\n\t\t\t\t{{#bIsFull}}<span class="max-videos-reached" title="{{{sFullTitle}}}">{{{sFull}}}</span>{{/bIsFull}}\n\t\t\t\t<span class="favlist-e-nb-videos">{{{sNbVideos}}}</span>\n\t\t\t\t{{{sTags}}}\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t<div class="favlist-e-action favlist-e-right thumb-inside">{{#sAction}}{{{sAction}}}{{/sAction}}</div>\n</div>\n'}),define("text!skins/default/video/playlists/tb_list_elem_base_small_line.mustache",[],function(){return'<div class="favlist-elem favlist-elem-small-line{{#bInList}} in-favlist{{/bInList}}{{#bIsFull}} max-videos-reached{{/bIsFull}}" id="favlist_{{{sId}}}">\n\t<div class="favlist-e-left">\n\t\t<div class="favlist-e-visibility">{{{sPicto}}}</div>\n\t\t<div class="favlist-e-title">\n\t\t\t<span class="icon-f icf-check in-fav-indic"></span>\n\t\t\t{{#bWatchLater}}<span class="icon-f icf-clock is-watch-later"></span>{{/bWatchLater}}\n\t\t\t{{{sName}}}\n\t\t\t<span class="favlist-e-tags">\n\t\t\t\t{{#bIsFull}}<span class="max-videos-reached" title="{{{sFullTitle}}}">{{{sFull}}}</span>{{/bIsFull}}\n\t\t\t\t<span class="favlist-e-nb-videos">{{{sNbVideos}}}</span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t<div class="favlist-e-action thumb-inside favlist-e-right">{{#sAction}}{{{sAction}}}{{/sAction}}</div>\n</div>\n'}),define("text!skins/default/video/playlists/tb_list_elem_add_to.mustache",[],function(){return'<div class=\'pl-add-remove{{#bDisplayModeList}} btn btn-default{{/bDisplayModeList}}\'>\n\t<div class=\'add\'>\n\t\t{{^bInList}}\n\t\t\t{{#bMaxVideosReached}}\n\t\t\t\t{{^bDisplayModeList}}<span class="info-txt">{{{ sMax }}}</span>{{/bDisplayModeList}}\n\t\t\t\t<span class="icon-f icf-ban"></span>\n\t\t\t{{/bMaxVideosReached}}\n\t\t\t{{^bMaxVideosReached}}<span class="icon-f icf-favorites-add"></span>{{/bMaxVideosReached}}\n\t\t{{/bInList}}\n\t\t{{#bInList}}<span class="icon-f icf-favorites-add"></span>{{/bInList}}\n\t\t{{#bDisplayModeList}}<span class="mobile-hide">{{{ sAdd }}}</span>{{/bDisplayModeList}}\n\t</div>\n\t<div class=\'remove\'>\n\t\t<span class="icon-f icf-trash"></span>\n\t\t{{#bDisplayModeList}}<span class="mobile-hide">{{{ sRemove }}}</span>{{/bDisplayModeList}}\n\t</div>\n</div>'}),define("text!skins/default/video/playlists/tb_list_elem_edit.mustache",[],function(){return'<div class=\'pl-edit{{#bDisplayModeList}} btn btn-default{{/bDisplayModeList}}\'>\n\t<span class="icon-f icf-pencil"></span>\n\t{{#bDisplayModeList}}<span class="mobile-hide">{{{ sEdit }}}</span>{{/bDisplayModeList}}\n</div>'}),define("text!skins/default/video/playlists/tb_list_elem_move_to.mustache",[],function(){return'<div class=\'pl-move-to{{#bDisplayModeList}} btn btn-default{{/bDisplayModeList}}\'>\n\t<span class="icon-f icf-mail-forward"></span>\n\t{{#bDisplayModeList}}<span class="mobile-hide">{{{ sMoveTo }}}</span>{{/bDisplayModeList}}\n</div>'}),define("text!skins/default/video/playlists/edit_list.mustache",[],function(){return'<div class="favlist-edit">\n\t<button type="button" class="btn btn-default btn-back"><span class="icon-f icf-chevron-left"></span> {{{ sBack }}}</button>\n\n\t<span class="favlist-picto icon-f icf-{{#bWatchLater}}clock{{/bWatchLater}}{{^bWatchLater}}favorites{{/bWatchLater}}"></span>\n\n\t{{#bWatchLater}}<div class="favlist-list-title"><div class="form-horizontal"><div class="form-group"><p>{{{ sTitle }}}</p></div></div></div>{{/bWatchLater}}\n\t<div class="favlist-edit-form"></div>\n\n\t<div class="favlist-edit-list-menu">\n\t\t<button class="btn btn-show-more btn-default btn-lg" title="{{{ sShowMore }}}"><span class="icon-f icf-minus-square"></span></button>\n\n\t\t<p class="legend">{{{ sNbVideo }}}</p>\n\n\t\t{{#bMaxVideosReached}}<span class="max-videos-reached" title="{{{ sMaxTitle }}}">{{{ sMax }}}</span>{{/bMaxVideosReached}}\n\n\t\t<button class="btn btn-reorder btn-default btn-lg" title="{{{ sReorder }}}"><span class="icon-f icf-arrows"></span> {{{ sReorder }}}</button>\n\t\t<button class="btn btn-select btn-default btn-lg" title="{{{ sSelect }}}"><span class="icon-f icf-check"></span> {{{ sSelect }}}</button>\n\t\t<button class="btn btn-empty btn-default btn-lg" title="{{{ sEmpty }}}"><span class="icon-f icf-close"></span> {{{ sEmpty }}}</button>\n\n\t\t<button class="btn btn-check-all btn-default btn-lg" title="{{{ sMoveToFirstPos }}}"><span class="icon-f icf-check-square"></span>/<span class="icon-f icf-square"></span> {{{ sCheckUncheckAll }}}</button>\n\t\t<button class="btn btn-move-first btn-default btn-lg" title="{{{ sMoveToFirstPos }}}"><span class="icon-f icf-arrows"></span> {{{ sMoveToFirstPos }}}</button>\n\t\t<button class="btn btn-move-begin-page btn-default btn-lg" title="{{{ sMoveToBeginPage }}}"><span class="icon-f icf-arrows"></span> {{{ sMoveToBeginPage }}}</button>\n\t\t<button class="btn btn-move-to btn-default btn-lg" title="{{{ sMoveToOtherList }}}"><span class="icon-f icf-mail-forward"></span> {{{ sMoveToOtherList }}}</button>\n\t\t<button class="btn btn-delete btn-danger btn-lg" title="{{{ sDelete }}}"><span class="icon-f icf-trash"></span> {{{ sDelete }}}</button>\n\n\t\t<button class="btn btn-cancel btn-default btn-lg" title="{{{ sCancel }}}"><span class="icon-f icf-close-thin"></span> {{{ sCancel }}}</button>\n\n\t\t<a class="btn btn-link-pl btn-link btn-lg hide-on-reorder" href="{{{ sPlayListPageHref }}}" target="_blank" title="{{{ sPlayListPage }}}"><span class="icon-f icf-player-play-circle-o"></span> {{{ sPlayListPage }}}</a>\n\t\t<a class="btn btn-link-rpl btn-link btn-lg hide-on-reorder" href="{{{ sRandomPlayListPageHref }}}" target="_blank" title="{{{ sRandomPlayListPage }}}"><span class="icon-f icf-random"></span> {{{ sRandomPlayListPage }}}</a>\n\t\t<a class="btn btn-link-pl btn-link btn-lg hide-on-reorder" href="{{{ sListPageHref }}}" target="_blank" title="{{{ sListPage }}}"><span class="icon-f icf-arrow-right"></span> {{{ sListPage }}}</a>\n\t</div>\n\n\t<div class="mozaique thumbs-5-cols"></div>\n</div>'}),define("text!skins/default/video/playlists/edit_list_delete_btn.mustache",[],function(){return'<button class="btn btn-default delete" type="button">\n\t<span class="icon-f icf-trash"></span>\n\t{{{ sDelete }}}\n</button>'}),define("text!skins/default/video/playlists/edit_list_voters_btn.mustache",[],function(){return'{{#oVote.iTotal}}\n\t<button class="btn btn-vote btn-link btn-lg hide-on-reorder" title="{{{ sVoters }}}">\n\t\t<span class="mobile-hide">\n\t\t\t{{#oVote.iGood}}<span class="icon-f icf-thumb-up"></span> {{{ oVote.sGood }}}{{/oVote.iGood}}\n\t\t\t<span class="icon-f icf-heart"></span> {{{ oVote.sRating }}}\n\t\t\t{{#oVote.iBad}}<span class="icon-f icf-thumb-down"></span> {{{ oVote.sBad }}}{{/oVote.iBad}}\n\t\t</span>\n\t\t<span class="mobile-show-inline">\n\t\t\t<span class="icon-f icf-thumb-up"></span> {{{ oVote.sRating }}}\n\t\t</span>\n\t</button>\n{{/oVote.iTotal}}'}),define("text!skins/default/video/playlists/edit_list_voters.mustache",[],function(){return'<div class="favlist-edit">\n\t<button type="button" class="btn btn-default btn-back"><span class="icon-f icf-chevron-left"></span> {{{ sBack }}}</button>\n\t<div class="voters-list">\n\t\t<p class="voters-list-title">\n\t\t\t{{{ sTitle }}}\n\t\t\t<span class="voters-list-votes">\n\t\t\t\t<span class="good">\n\t\t\t\t\t<span class="icon-f icf-thumb-up"></span> {{{ sGood }}}\n\t\t\t\t</span>\n\t\t\t\t<span class="rating">\n\t\t\t\t\t<span class="icon-f icf-heart"></span> {{{ sRating }}}\n\t\t\t\t</span>\n\t\t\t\t<span class="bad">\n\t\t\t\t\t<span class="icon-f icf-thumb-down"></span> {{{ sBad }}}\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</p>\n\n\t\t<ul class="voters">\n\t\t\t{{{ sVoters }}}\n\t\t\t{{^bLastPage}}\n\t\t\t\t<li class="action">\n\t\t\t\t\t<button type="button" class="btn btn-default btn-danger init-ok load-more-voters">\n\t\t\t\t\t\t<span>{{{ sShowMore }}}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t{{/bLastPage}}\n\t\t</ul>\n\t</div>\n</div>'}),define("text!skins/default/video/playlists/edit_list_voter.mustache",[],function(){return'<li>\n\t<a href="/profiles/{{{ name }}}" title="{{{ display }}}">\n\t\t<figure><img src="{{{ picture }}}" alt="{{{ display }}}"/></figure>\n\t\t<span>{{{ display }}}</span>\n\t</a>\n</li>'}),define("skins/default/video/playlists/one_list",["config/main","static/utils","mustache","lib/i18n!front","lib/helpers/overlay/contextual_popup","lib/helpers/dragdrop_select_and_reorder","lib/helpers/inline_loader","skins/default/mozaique/thumb_block_menu","skins/default/mozaique/thumb_block_common_init","skins/form/validator","skins/default/pagination","text!./tb_list_elem_base.mustache","text!./tb_list_elem_base_line.mustache","text!./tb_list_elem_base_small_line.mustache","text!./tb_list_elem_add_to.mustache","text!./tb_list_elem_edit.mustache","text!./tb_list_elem_move_to.mustache","text!./edit_list.mustache","text!./edit_list_delete_btn.mustache","text!./edit_list_voters_btn.mustache","text!./edit_list_voters.mustache","text!this.bNeedInfoUpdate=!0}},C}),define("text!skins/default/video/playlists/container.mustache",[],function(){return'<div class="favlists">\n\t{{^bMaxListsReached}}\n\t\t<button class="btn btn-default favlists-create" type="button">\n\t\t\t<span class="icon-f icf-favorites-add"></span>\n\t\t\t<span class="mobile-hide">{{{ sNew }}}</span>\n\t\t</button>\n\t{{/bMaxListsReached}}\n\t<h2>{{{ sTitle }}}</h2>\n\t<div class="favlists-actions">\n\t\t<div class="favlists-actions-line-1">\n\t\t\t{{#aFilters.length}}\n\t\t\t\t<label class="select-label">\n\t\t\t\t\t<span class="icon-f icf-sort-amount-asc"></span>\n\t\t\t\t\t<select class="favlists-order form-control">\n\t\t\t\t\t\t{{#aFilters}}\n\t\t\t\t\t\t\t<option value="{{{ sMode }}}"{{#bActive}} selected="selected"{{/bActive}}>{{{ sLabel }}}</option>\n\t\t\t\t\t\t{{/aFilters}}\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t\t{{#aAlphaGroups.length}}\n\t\t\t\t\t<label class="favlists-filter-alpha-label select-label">\n\t\t\t\t\t\t<span class="icon-f icf-sort-alpha-asc"></span>\n\t\t\t\t\t\t<select class="favlists-filter-alpha form-control">\n\t\t\t\t\t\t\t{{#aAlphaGroups}}\n\t\t\t\t\t\t\t\t<option value="{{{ sOption }}}"{{#bActive}} selected="selected"{{/bActive}}>{{{ sLabel }}}</option>\n\t\t\t\t\t\t\t{{/aAlphaGroups}}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t{{/aAlphaGroups.length}}\n\t\t\t{{/aFilters.length}}\n\t\t\t{{^bNoSearch}}\n\t\t\t\t<label class="favlists-search">\n\t\t\t\t\t<input type="text" class="form-control" placeholder="{{{ sPlaceHolder }}}"/>\n\t\t\t\t\t<button class="btn btn-default" type="button"><span class="icon-f icf-search"></span></button>\n\t\t\t\t</label>\n\t\t\t{{/bNoSearch}}\n\t\t\t<button class="favlists-show-more-filters btn" type="button">\n\t\t\t\t<span class="icon-f icf-sliders"></span>\n\t\t\t\t<span class="icon-f icf-plus-circle icf-white-fill"></span>\n\t\t\t\t<span class="icon-f icf-minus-circle icf-white-fill"></span>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="favlists-actions-more">\n\t\t\t<button class="favlists-display-mode btn btn-default {{{ sDisplayMode }}}" type="button">\n\t\t\t\t<span class="icon-f icf-grid-4"></span>\n\t\t\t\t<span class="icon-f icf-list-ul"></span>\n\t\t\t\t<span class="icon-f icf-columns"></span>\n\t\t\t</button>\n\t\t\t<label class="favlists-nb-per-page-cont">\n\t\t\t\t<span class="select-label">\n\t\t\t\t\t<select class="favlists-nb-per-page form-control">\n\t\t\t\t\t\t{{#aNbPerPage}}\n\t\t\t\t\t\t\t<option value="{{{ sQtt }}}"{{#bActive}} selected="selected"{{/bActive}}>{{{ sLabel }}}</option>\n\t\t\t\t\t\t{{/aNbPerPage}}\n\t\t\t\t\t</select>\n\t\t\t\t</span>\n\t\t\t\t<span>{{{ sNbPerPage }}}</span>\n\t\t\t</label>\n            <label>\n                <a href="/account/profile/privacy-settings"><span class="icon-f icf-cog"></span></a>\n            </label>\n\t\t</div>\n\t</div>\n\n\t<div class="mozaique thumbs-5-cols {{{ sDisplayMode }}}"></div>\n\n\t{{#sCancel}}\n\t\t<div class="favlists-actions-cancel">\n\t\t\t<button type="button" class="btn btn-default btn-lg">{{{ sCancel }}}</button>\n\t\t</div>\n\t{{/sCancel}}\n</div>'}),define("text!skins/default/video/playlists/create_list.mustache",[],function(){return'<div class="favlist-create">\n\t<button type="button" class="btn btn-default btn-back"><span class="icon-f icf-chevron-left"></span> {{{ sBack }}}</button>\n\n\t<span class="favlist-picto icon-f icf-favorites"></span>\n\n\t<div class="favlist-list-title"><div class="form-horizontal"><div class="form-group"><p>{{{ sTitle }}}</p></div></div></div>\n\n\t<div class="favlist-create-form"></div>\n</div>\n'}),define("text!skins/default/video/playlists/login_alert.mustache",[],function(){return'<div class="favlist-alert-login">\n\t<p>{{{ sAlert }}}</p>\n\t<p>\n\t\t<button class="btn btn-primary btn-lg favlist-alert-login-btn" type="button">{{{ sLoginBtn }}}</button>\n\t\t{{#bWatchLaterEnabled}}\n\t\t\t<span class="separator">{{{ sSeparator }}}</span>\n\t\t\t<button class="btn btn-secondary btn-lg favlist-alert-watch-later-btn" type="button"><span class="icon-f icf-clock"></span> {{{ sWatchLaterBtn }}}</button>\n\t\t{{/bWatchLaterEnabled}}\n\t</p>\n</div>'}),define("skins/default/video/playlists/list_of_lists",["config/main","mustache","lib/i18n!front","lib/history","lib/tools","lib/helpers/overlay/box","lib/helpers/overlay/contextual_popup","skins/form/validator","skins/common/history/one_info_tracker","skins/default/pagination","skins/default/video/watch_later","./one_list","text!./container.mustache","tdedListData(e,t,i,this)}},p}),define("skins/default/video/playlists/manager",["lst("edit",t):void 0}},new i}),define("skins/default/mozaique/thumb_block_menu",["skins/common/mozaique/thumb_block_menu","skins/common/mozaique/thumb_block_menu/one_tb_menu","config/main","lib/i18n!front","lib/helpers/overlay/contextual_popup","skins/common/history/page_view_history","skins/common/video/share","skins/default/video/watch_later","skins/default/video/watch_later/watch_later_tracker","skins/default/mozaique/thumb_block_viewed","skins/def f,xv.thumb_block_menus=c,c}),define("skins/defaul&$(this).remove()})}},new e}),define("lib/helpers/thumbs/mozaique",["lique.is(e)&&0===this.idx}},a}),define("lib/helpers/thumbs/mp4vp",["statiListener("playing",c),u}},a}),define("lib/helpers/thumbnextPreview()}}return a}},o}),define("lib/helpers/thumbs/engine_creator",["config/main","static/utils","s(){e(this).on(i,e.noop)}}})}(jQuery),define("jquery-mobile-events",function(){}),define("lib/helpers/thumbs/rotator",["lib/helpers/events","./engine_creagine(this.no_video_pv))}},i}),define("lib/helpers/thumbs_rotator",["static/cookies",".tTimeout(d,1e3-t));d()}}),a}),define("skins/common/purcrchase-",S_HASH_ID_SEP:"-"}}),define("skins/common/purchase_form/purchull,this.fnOnFormClose=null};return e.prototype={setPreventScrollToTop:function(e){this.bPreventScrollToTop=e},setVideoId:function(e){this.sVideoId=e},setUserId:function(e){this.sUserId=e},setOrigin:function(e){this.sOrigin=e},setOnFormLoadedEnd:function(e){this.fnOnFormLoadedEnd=e},setOnCloseCallback:function(e){this.fnOnFormClose=e,this.oForm&&"function"==typeof this.oForm.setOnCloseCallback&&"function"==typeof this.fnOnFormClose&&this.oForm.setOnCloseCallback(this.fnOnFormClose)},open:function(){var e=this;require(["skins/common/form/login/premium"],function(t){e.oForm=new t(e.sUserId,e.sVideoId,e.sOrigin,e.bPreventScrollToTop),"function"==typeof e.fnOnFormLoadedEnd&&(e.oForm.onFormLoadedEnd=function(t){e.fnOnFormLoadedEnd(t)}),"function"==typeof e.fnOnFormClose&&e.oForm.setOnCloseCallback(e.fnOnFormClose),e.oForm.open()})}},e}),define("skins/common/purchase_form/purchase_btn",["config/main","static/thumbs","lib/tools","skins/common/pult();e.data.openForm()}}},o}),define("skins/common/purchase_form/purchase_form_init",["config/main","lib/tools","skins/common/punew n;return s.initPage(),s}),define("skins/default/mozaique/thumb_block_common_init",["skins/default/mozaique/thumb_block_menu","skins/default/mozaique/thumb_block_viewed","skins/default/mozaique/next_too_much","lib/helpers/thumbs_rotator","skins/common/purchav.thumb_block_initiator=a,a}),define("text!skins/common/xcams/currently_online_popup.mustache",[],function(){return'<div class="mac-models">\n\t<h2>{{{ title }}}</h2>\n\t<a href="{{{ home_url }}}" target="_blank" class="btn btn-xs btn-primary">{{{ more }}}</a>\n\t<div class="models">\n\t\t{{#models}}\n\t\t\t<a class="model" target="_blank" href="{{{ link_url }}}">\n\t\t\t\t<div class="live_model_thumb">\n\t\t\t\t\t<img src="{{^live_img_url}}{{{ img_url }}}{{/live_img_url}}{{#live_img_url}}{{{ live_img_url }}}" onerror="this.onerror=null;this.src=\'{{{ img_url }}}\';$(this).parent().addClass(\'not-live\');{{/live_img_url}}" alt="{{{ name }}}"/>\n\t\t\t\t</div>\n\t\t\t\t<span class="name">{{{ name }}}</span>\n\t\t\t\t<span class="live badge">{{{ live }}}</span>\n\t\t\t</a>\n\t\t{{/models}}\n\t</div>\n</div>'}),define("skins/common/xcams/currennction(e){})}),p++}}},new i}),define("text!skins/common/games/nutaku_migration_pop.mustache",[],function(){return'<div class="nutaku-mig">\n\t<div class="nutaku-mig__cont">\n\t\t<p class="nutaku-mig__hey">{{{ sHey }}}</p>\n\t\t<h3 class="nutaku-mig__start-playing">{{{ sStartPlaying }}}</h3>\n\t\t<p class="nutaku-mig__confirm-for">{{{ sConfirmFor }}}</p>\n\t\t<ul class="nutaku-mig__confirm-for-list">\n\t\t\t{{#aConfirmFor}}\n\t\t\t\t<li>{{{ sReason }}}</li>\n\t\t\t{{/aConfirmFor}}\n\t\t</ul>\n\t\t{{#aPrimaryLinks}}\n\t\t\t<a href="{{sConfirmUrl}}" target="_blank" class="nutaku-mig__btn__confirm btn btn-primary">{{{ sConfirm }}}</a>\n\t\t{{/aPrimaryLinks}}\n\t\t{{#aSecondaryLinks}}\n\t\t\t<a href="{{sNoThxUrl}}" target="_blank" class="nutaku-mig__btn__no-thx btn btn-secondary">{{{ sNoThx }}}</a>\n\t\t{{/aSecondaryLinks}}\n\t</div>\n\t<div class="nutaku-mig__logo">\n\t\t<img src="{{sLogoUrl}}" alt="{{sLogoAlt}}" />\n\t</div>\n</div>'}),define("skins/common/games/nutaku_migration_pop",["config/main","static/cookies","lib/i18n!front","lib/helpers/overlay/box","mustache","text!./nutUpperCase())+" GAMES"})}},a}),define("skins/common/mozaique/simple_dropdown",["lib/helpers/popup","stati>30&&l.scrollLeft(r-30)}},n}),define("text!lib/helpers/popup/language_switcher.mustache",[],function(){return'<ul>\n\t{{#languages}}\n\t<li><a href="{{{ url }}}"><span class="flag-small flag-{{{ country }}}"></span> {{ name }}</a></li>\n\t{{/languages}}\n</ul>'}),define("lib/helpers/popup/language_switcher",["mustache","../popup","text!lib/helpers/popup/utoclose=3e3),new t(n,r,a)}}),define("skins/defaulton:{v:"below",h:"left"}})})}),define("skins/common/form/login",["config/main","./login/n e.dyn.premium?new i:new t}),define("text!skins/common/geo_switch/contener.mustache",[],function(){return'<div>\n\t<div class="filter">\n\t\t<label>\n\t\t\t<span class="icon-f icf-search"></span>\n\t\t\t<input type="text"{{#placeholder}} placeholder="{{ placeholder }}"{{/placeholder}}/>\n\t\t</label>\n\t\t<button type="button" class="clear"><span class="icon-f icf-close-thin"></span></button>\n\t</div>\n\t<ul class="countries row">{{{ list }}}</ul>\n\t{{^simple_contener}}\n\t<ul class="width-ref row">{{{ ref-list }}}</ul>\n\t<div class="see-all"><button type="button" class="btn btn-primary"></button></div>\n\t{{/simple_contener}}\n</div>'}),define("text!skins/common/geo_switch/list_element.mustache",[],function(){return'<li class="{{^empty}}country-{{ code }} {{/empty}}col-xs-12 {{^half}}col-sm-4 col-md-3 col-lg-2{{/half}}{{#half}}col-sm-2 col-md-1-5 col-lg-1{{/half}}{{#cur}} current{{/cur}}{{#empty}} empty{{/empty}}">{{^empty}}\n\t<a href="/change-country/{{ code }}" class="btn"><span class="flag-small flag-{{ code }}"></span> {{{ name }}}</a>\n{{/empty}}</li>'}),define("text!skins/common/geo_switch/list_no_result.mustache",[],function(){return'<li class="no-result col-xs-12">\n\t{{{ no_result }}}\n</li>'}),define("skins/common/geo_switch/geo_switch",["config/main","static/utils","mustache","lib/i18n!front","lib/helpers/overlay","lib/helpers/inline_loader","skins/common/history/one_info_tracker","text!./contener.mustache","text!./list_element.mustache","textthis.update_popup()}},new c}),define("skins/common/design/big_ui",["r("resize")},500)})}},new t}),define("text!skins/default/header/theme_switcher.mustache",[],function(){return'<ul id="theme-switcher-list">\n\t{{#themes}}\n\t\t<li><span class="btn" data-mode="{{ mode }}">{{ name }}</span></li>\n\t{{/themes}}\n</ul>'}),define("skins/default/header/theme_switcher",["config/main","static/utils","lib/i18n!front","skins/common/basic_feature","mustache","text!skins/default/headt.initChoiceBtn(e)}})}}}},a}),define("skins/common/listing/settings",["config/main","static/cookies","static/dom","static/utils","lib/helpers/popup","lib/helpers/thumbs_rotator","lib/i18n!front","skins/common/suggests/suggests_manager","skins/common/history/page_view_history","skins/common/geo_switch/geo_switch","skins/common/main_cats/switcher","skins/common/design/big_ui","skins/common/basic_feature","skins/common/currency_switch/switcher","skins/default/video/watch_later","skins/default/mozaique/thumb_block_viewed","skins/default/header/theme_switcher","mustache","text!lib/helpers/popup/language_switcher.mustache","text!skins/default/headhlightInterval+500)}},new y}),define("skins/default/common_all_if_no_premium_login",["config/main"k")}),t.add_all_in("#page")}),define("skins/common/blog_survey",["co(){t.removeLocal(s,"/")})}}}),require.config({waitSeconds:300,paths:{jquery:"jquery",text:"text","@firebase/app":"libs/firebase-app","@firebase/messaging":"libs/firebase-messaging"},shim:{json3:{exports:"".").pop().indexOf("local")}}},packages:[{name:"moment",main:"moment",location:"libs/moment"}]}),define("static/console",window.xv.console(){return window.xv.tracker}),define("static/utils",window.xv.utils),define("static/dom",window.xv.dom),define("static/cookies",window.xv.cookies),define("static/storage",window.xv.storage),define("static/thumbs",window.xv.thumbs),define("static/messages",window.xv.messages),document.addEventListener||require(["respond"]),require(["config/main","static/dom","static/cookies","lib/helpers/inliequire(["skins/min/chat"]))}),define("skins/default",function(){}),define("skins/default/mozaique/premium_result_on_free",["config/main","static/thumbs","static/utils","mustache","lib/i18n!front","skins/default/mozaiqpremiumLineContainer)}}}},reurn e.fn.scrollLock=t,this}}),define("skins/common/search/autocomplete",["config/main","static/dom","mustache","lib/tools","lib/converter","lib/i18ne(o),$(this).trigger(e)})}}}),define("text!skins/default/header/autocomplete.mustache",[],function(){return'\r\n{{#has_channels}}\r\n\t<div class="title" style="padding-left:{{padding.left}};padding-right:{{padding.right}}"><span class="icon-f icf-device-tv-v2"></span> {{{lbl_chans}}}</div>\r\n\t<ul class="pornstars">\r\n\t\t{{#results.channel}}\r\n\t\t\t<li style="padding-left:{{padding.left}};padding-right:{{padding.right}}">\r\n\t\t\t\t<a href="/profiles/{{{F}}}">\r\n\t\t\t\t\t<span class="thumb" style="background-image:url(\'{{{P}}}\')"></span>\r\n\t\t\t\t\t<span class="name">{{#highlight}}{{t1}}<span class="highlighted">{{t2}}</span>{{t3}}{{/highlight}}{{^highlight}}{{N}}{{/highlight}}</span>\r\n\t\t\t\t\t<span class="rank"><span class="rank-type">C</span>{{#RF}}#<span class="rank-pos">{{RF}}</span>{{/RF}}</span>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t{{/results.channel}}\r\n\t</ul>\r\n{{/has_channels}}\r\n\r\n{{#has_keywords}}\r\n\t<div class="title" style="padding-left:{{padding.left}};padding-right:{{padding.right}}">{{{lbl_suggestions}}}</div>\r\n\t<ul class="keywords">\r\n\t\t{{#results.keywords}}\r\n\t\t<li style="padding-left:{{padding.left}};padding-right:{{padding.right}}"{{#more}} class="more"{{/more}}>\r\n\t\t\t<a href="/?k={{#uri}}{{{N}}}{{/uri}}{{#is_premium_search}}&premium=1{{/is_premium_search}}&top">\r\n\t\t\t\t<span class="nbres">{{R}}</span>\r\n\t\t\t\t<span class="keywords">{{#highlight}}{{t1}}<span class="highlighted">{{t2}}</span>{{t3}}{{/highlight}}{{^highlight}}{{N}}{{/highlight}}</span>\r\n\t\t\t</a>\r\n\t\t</li>\r\n\t\t{{/results.keywords}}\r\n\t</ul>\r\n{{/has_keywords}}\r\n\r\n{{#has_pornstars}}\r\n\t<div class="title" style="padding-left:{{padding.left}};padding-right:{{padding.right}}"><span class="icon-f icf-star-o"></span> {{{lbl_pss}}}</div>\r\n\t<ul class="pornstars">\r\n\t\t{{#results.pornstar}}\r\n\t\t\t<li style="padding-left:{{padding.left}};padding-right:{{padding.right}}">\r\n\t\t\t\t<a href="/profiles/{{{F}}}">\r\n\t\t\t\t\t<span class="thumb" style="background-image:url(\'{{{P}}}\')"></span>\r\n\t\t\t\t\t<span class="name">{{#highlight}}{{t1}}<span class="highlighted">{{t2}}</span>{{t3}}{{/highlight}}{{^highlight}}{{N}}{{/highlight}}</span>\r\n\t\t\t\t\t<span class="rank"><span class="rank-type">{{#model}}M{{/model}}{{^model}}P{{/model}}</span>{{#RF}}#<span class="rank-pos">{{RF}}</span>{{/RF}}</span>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t{{/results.pornstar}}\r\n\t</ul>\r\n{{/has_pornstars}}'}),define("skins/default/header/autocomplete",["skins/common/search/autocomplete","te("isForcedFixedPosition")})}),define("skins/defn void e.preventDefault()})}),define("skins/default/header/categories",["skins/co(),e.auto_show_popup()})})}}),define("skins/default/header/header",["./autocomplete","./preventempty","./categories"],function(){}),define("skins/default/mozaique/search_base",["lib/i18n!front","lib/helpers/thumbs_ro).filter(".btn"),i=t.html()}),define("text!skins/common/search/report.mustache",[],function(){return'<div class="report-search-words">\n\t<h2><span class="icon-f icf-warning-stop icf-white-fill"></span> {{{ sTitle }}}</h2>\n\t<p class="desc">{{{ sDesc }}}</p>\n\t<ul class="search-report-list">\n\t\t{{#aSearchs}}\n\t\t\t<li><label><input type="radio" name="search_query" value="{{{ sName }}}" data-type="{{{ sType }}}"{{#bOneSearch}} checked="checked"{{/bOneSearch}}/> {{{ sLabel }}}</label></li>\n\t\t{{/aSearchs}}\n\t</ul>\n\t<div class="form form-horizontal">\n\t\t<div class="form-group">\n\t\t\t<div class="col-sm-12">\n\t\t\t\t<textarea class="form-control" rows="2" placeholder="{{{ sComment }}}"></textarea>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="form-group">\n\t\t\t<div class="col-sm-12">\n\t\t\t\t<p class="label-i-understand">{{{ sTypeIUnderstand }}}</p>\n\t\t\t\t<input class="form-control" placeholder=\'"{{{ sIUnderstand }}}"\' name="i_understand"></input>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<button class="btn btn-primary disabled" disabled>{{{ sSend }}}</button>\n</div>'}),define("skins/common/search/report",["config/main","mustache","lib/i18n!front","static/utils","lib/helpers/overlay/box","lib/helpers/overlay/contextual_popup","text!skins/comn(){l.show()},!0)}})}})}},r}),define("skins/default/category",["config/main","./mozaique/premium_result_on_free","./mozaique/search_base"],function(e,t){$(".report-search").on("click",function(t){t.preventDefault(),require(["skins/common/search/report"],function(t){var i=new t;i.setMain(e.data.slcamscat,e.data.slcamscat),i.openForm()})}),new t(e.data.slcamscat)}),define("skins/default/facial_recognition.js",["stat){o.html(""),i.fadeIn()})})}),define("text!skins/default/profile/vote/light.html",[],function(){return'<div class="rating-box-light">\n\t<span class="vote-actions">\n\t\t<span class="vote-action-good"><span class="icon thumb-up white">&nbsp;</span></span><span class="vote-action-bad"><span class="icon thumb-down white">&nbsp;</span></span>\n\t</span>\n\t<span class="rating">{{ rating }}</span> (<span class="total">{{ vtotal }}</span>)\n\t<div class="rating-bar"><div style="width:{{ vrating }}%;"></div></div>\n</div>'}),define("skins/default/profile/vote/light",["config/main","mustache","lib/tools","text!./light.html","lib/helpers/inline_loader","lib/helpers/popup","lib/helpers/ovAD"===i.visitor_vote)})}},l}),define("skins/common/profile/subscribe/btns_controler",["config/main","static/utils","mustache","lib/tools","lib/i18n!front","lib/helpers/popup","lib/helpers/popup/tooltip","lib/helpers/overlay/contextual_popup","lib/helpers/inline_loader","skins/}),this.tooltip.open())}},c}),define("text!skins/common/profile/subscribe/btn_reject.mustache",[],function(){return'<span class="user-reject"></span>'}),define("skins/default/profile/subscribe/btns_controler",["config/main","lib/tools","lib/i18n!front","skins/common/profile/subscribe/btns_controler","text!skins/common/profile/subscribe/btn_reject.mustache","text!skins/default/profile/pe._init.apply(this,[i])},r}),define("skins/default/favorite",["config/main","skins/form/validator","./profile/vote/light","lib/helpers/thumbsist)}),e.autoOpenByHash()})}),define("text!skins/common/global_feed/simple_dropdown_menu.mustache",[],function(){return'<div class="simple-dropdown global-feed-filters">\n\t{{#filters}}\n\n\t\t\t<div class="niv1{{#list.length}} with-niv2{{/list.length}} {{{ sClass }}}">\n\t\t\t\t<span class="show-niv2{{#is_reset}} is-reset{{/is_reset}}{{#is_button}} is-button{{/is_button}}">\n\t\t\t\t\t{{#is_list}}<span class="icon-f icf-caret-down"></span>{{/is_list}}\n\t\t\t\t\t<span class="label" data-filter="{{{ filter }}}">{{#forced_label}}{{{ forced_label }}}{{/forced_label}}{{^forced_label}}{{#list}}{{#active}}{{#label}}{{{ label }}}{{/label}}{{^label}}{{{ name }}}{{/label}}{{/active}}{{/list}}{{/forced_label}}</span>\n\t\t\t\t</span>\n\t\t\t\t{{#list.length}}\n\t\t\t\t\t<div class="niv2 global-feed-filters">\n\t\t\t\t\t\t<div class="uls">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{{#list}}\n\t\t\t\t\t\t\t\t\t<li><a href="{{{ href }}}"{{#active}} class="current"{{/active}} data-filter="{{{ filter }}}" data-value="{{{ value }}}">{{{ name }}}</a></li>\n\t\t\t\t\t\t\t\t{{/list}}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{{/list.length}}\n\t\t\t</div>\n\n\t{{/filters}}\n</div>'}),define("text!skins/common/global_feed/containers.mustache",[],function(){return'<div id="global-feed-subscriptions">\n</div>\n<div id="feed-videos-filters">\n\t{{#renderFilters}}{{/renderFilters}}\n</div>\n<div id="global-feed">\n\t{{#renderLayout}}{{/renderLayout}}\n</div>'}),define("text!skins/common/global_feed/layout.mustache",[],function(){return'<div id="global-feed-content">\n</div>'}),define("text!skins/common/global_feed/no_more_posts.mustache",[],function(){return'<div class="no-more-posts">{{{ sNoMorePosts }}}</div>'}),define("text!skins/common/global_feed/cover_invalid_filters.mustache",[],function(){return'<div class="feed-main-message cover-invalid-filters">\n    <div class="feed-main-message-text filter-reset-text">{{{ sNoMatchFilters }}}</div>\n    <div class="feed-main-message-btn filter-reset-btn">\n        <input type="button" class="btn btn-default" value="{{{ sResetFilters }}}">\n    </div>\n</div>'}),define("text!skins/common/global_feed/cover_internal_error.mustache",[],function(){return'<div class="feed-main-message cover-interal-error">\n    <div class="feed-main-message-text error-retry-text">{{{ sInternalError }}}</div>\n    <div class="feed-main-message-btn error-retry-btn">\n        <input type="button" class="btn btn-default" value="{{{ sRetry }}}">\n    </div>\n</div>'}),define("text!skins/common/global_feed/cover_server_message.mustache",[],function(){return'<div class="feed-main-message cover-server-message">\n    <div class="feed-main-message-text filter-message-text">{{{ sServerMessage }}}</div>\n</div>'}),define("text!skins/common/global_feed/cover_loader.mustache",[],function(){return"<div class=\"cover-loader\"><span class='icon-f icf-spinner icf-anim-pulse'></span></div>"}),define("text!skins/common/global_feed/noaccess_offline.mustache",[],function(){return'<div class="no-access no-access-offline">\n    {{{ sOffline }}}\n</div>'}),define("text!skins/common/global_feed/reload_to_see_latest.mustache",[],function(){return'<div class="reload_to_see_latest">\n    {{{ sTrimmed }}}\n    <div class="page-reload-btn">\n        <input type="button" class="btn btn-default" value="{{{ sReloadPage }}}">\n    </div>\n</div>'}),define("text!skins/common/global_feed/scroll_to_top.mustache",[],function(){return'<div class="scroll-to-top">\n    {{{ sScrollToTop }}}\n</div>'}),define("skins/common/global_feed/post/post",[],function(){var e={fv:"FREE_VIDEO",pv:"PREMIUM_VIDEO",fmav:"FREE_MODEL_ASSOCIATION_VIDEO",fpav:"PREMIUM_MODEL_ASSOCIATION_VIDEO",fcp:"FAN_CLUB_POt.assign(this.oPostTypes,e)};return t.prototype={buildFromJSON:function(e){var i=(new t).setType(e.et).setId(e.i).setTimestamp(e.t).setUserId(e.u).setLink(e.l).setVideos(e.v).setPictures(e.p).setGroupPosts(e.g),n=e.ti;i.setTitle(n);var s=e.c;!s&&i.hasVideo()&&i.aVideos[0].tf!==n&&(s=i.aVideos[0].tf),i.setComment(s);var o=e.ou;return o&&i.setOtherUserId(o),i},hasVideo:function(){return this.urn this.aPVideo()&&!thi?this.aPictures[0].tion(e){type "+t),this.sType=t,this},setId:function(e){return this.sId=e,this},setTimestamp:function(e){return this.iTimestamp=e,this},setUserId:function(e){return this.sUserId=e,this},setOtherUserId:function(e){return this.sOtherUserId=e,this},setLink:function(e){return this.sLink=e,this},setComment:function(e){return this.sComment=e,this},setTitle:function(e){return this.sTitle=e,this},setVideos:function(e){return this.aVin this.aPictur.buildFromJSON(e)}):[],this}},new t}),define("lib/helpers/viewer/lightgallerybIsCssCalled=!1}})}}},new t}),define("lib/helpers/viewer/lightgallery-generic-manager",["static/utils","lib/i18n!froicf-fullscreen-back")}))})}}),define("skins/common/global_feunction(){var e=function(){};return e.buildFromJSON=function(t){t.th;return t.thp&&"video"===t.tht&&t.thp,(new e).setId(t.i).setUsername(t.u).setDisplayName(t.d).setUrl(t.url).setIsPornstar(t.ps).setIsChannel(t.ch).setCountryCode(t.c).setCountryName(t.cn).setThumb(t.th).setNbSubscribers(t.ns).setNbSubscribersFormatted(t.nsf).setIsSubscribed(t.scb).setIsRejreturn Object.assign(i,t),i},e.TYPE={REGULAR:"REGULAR",CHANNEL:"CHANNEL",MODEL:"MODEL"},e.prototype={setId:function(e){return this.sId=e,this},setUsername:function(e){return this.sUsername=e,this},setDisplayName:function(e){return this.sDisplayName=e,this},setUrl:function(e){return this.sUrl=e,this},setIsPornstar:function(e){return this.bIsPornstar=e,this},setIsChannel:function(e){return this.bIsCheLower=e.toLowerCase(),this},setCountryName:function(e){return this.sCountryName=e,this},setThumb:function(e){return this.sThumb=e,this},setNbSubscribers:function(e){return this.iNbSubscribers=e,this},setNbSubscribersFormatted:function(e){return this.sNbSubscribersFormatted=e,this},setIsSubscribed:function(e){return this.bIsSubsurn thise.TYPE.MODEL:e.TYPE.REGULAR}},e}),define("text!skins/common/global_feed/post/tpls/post_base.mustache",[],function(){return'<div class="post-block {{ sVideos }} {{ sPictures }} {{ sPremium }} {{ sTextOnly }} {{ sNoExtend }} {{ sFakeText }}" data-post="{{ sPostId }}" data-channel="{{ iUploaderId }}">\n\t{{{ sHead }}}\n\t<div class="p-gallery p-icon-bg p-glass-effect {{ sSmallText }}">\n\t\t{{{ sHtmlGallery }}}\n\t</div>\n\t<div class="p-display-min p-show-more-button"><span class="icon-f icf-angle-down"></span></div>\n\t{{{ sHtmlAllGallery }}}\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_head.mustache",[],function(){return'<div class="p-head">\n    {{{ sHtmlMetadata }}}\n    {{#bCommentHead}}\n    <div class="p-display-min p-glass-effect p-comment-min">\n        {{{ sHtmlCommentMin }}}\n\t\t{{{ sFrameFoot }}}\n    </div>\n    {{/bCommentHead}}\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_metadata.mustache",[],function(){return'<div class="p-metadata">\n    {{{ sHtmlUploader }}}\n</div>'});define("text!skins/common/global_feed/post/tpls/post_gallery.mustache",[],function(){return'<div class="p-pics {{ sPostTypeClass }}">\n    {{{ sHtml }}}\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_gallery_frame.mustache",[],function(){return'<div class="p-frame p-frame-{{iNb}}">\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_thumb.mustache",[],function(){
return'\n<div class="pic {{ sLock }} p-frame p-frame-{{ iNb }} {{{ sGallery }}} {{{ sPreview }}} {{{ sHiddenGallery }}} {{{ sExtendView }}}">\n    <div class="thumb fill-icon" title="{{{ sPreviewTooltip }}}">\n        <a href="{{ sImgLink }}">\n            <img loading="lazy" src="{{{ sSrc }}}" data-src="{{ sFull }}"/>\n        </a>\n    </div>\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_pic.mustache",[],function(){return'\n<div class="pic {{ sLock }} p-frame p-frame-{{ iNb }} {{{ sGallery }}} {{{ sPreview }}} {{{ sHiddenGallery }}} {{{ sExtendView }}}">\n    <div class="thumb">\n        <div class="fit-image {{#sWithDesktop2cols}}{{{sWithDesktop2cols}}}{{/sWithDesktop2cols}}">\n            <img loading="lazy" src="{{{ sSrc }}}" data-src="{{ sFull }}"/>\n            {{#sNbGalleryMoreTablet}}<div class="p-gallery-seemore p-gallery-more-tablet">+ {{{ sNbGalleryMoreTablet }}}</div>{{/sNbGalleryMoreTablet}}\n            {{#sNbGalleryMoreDesktop}}<div class="p-gallery-seemore p-gallery-more-desktop">+ {{{ sNbGalleryMoreDesktop }}}</div>{{/sNbGalleryMoreDesktop}}\n            {{#sNbGalleryMoreDesktop2cols}}<div class="p-gallery-seemore p-gallery-more-desktop-col-2">+ {{{ sNbGalleryMoreDesktop2cols }}}</div>{{/sNbGalleryMoreDesktop2cols}}\n            {{#sNbVideoMoreTablet}}<div class="p-gallery-seemore p-gallery-more-video-tablet">+ {{{ sNbVideoMoreTablet }}}</div>{{/sNbVideoMoreTablet}}\n            {{#sNbVideoMoreDesktop}}<div class="p-gallery-seemore p-gallery-more-video-desktop">+ {{{ sNbVideoMoreDesktop }}}</div>{{/sNbVideoMoreDesktop}}\n            {{#sNbVideoMoreDesktop2cols}}<div class="p-gallery-seemore p-gallery-more-video-desktop-col-2">+ {{{ sNbVideoMoreDesktop2cols }}}</div>{{/sNbVideoMoreDesktop2cols}}\n        </div>\n    </div>\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_pic_gallery.mustache",[],function(){return'<div class="pic-gallery p-gallery-data p-frame p-frame-added pic">\n    <span class="p-gallery-data" data-src="{{ sFull }}"></span>\n    <div class="thumb">\n        <div class="fit-image">\n            <img loading="lazy" src="{{{ sSrc }}}" data-src="{{ sFull }}"/>\n        </div>\n    </div>\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_allgallery.mustache",[],function(){return'<div class="p-allgallery-back">\n    <div class="p-allgallery-exit">\n        <span class="icon-f icf-close-thin"></span>\n    </div>\n    <div class="p-allgallery">\n        {{{ sHtmlPics }}}\n    </div>\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_comment.mustache",[],function(){return'<div class="p-frame p-frame-{{ iNb }} p-glass-effect">\n\t<div class="p-profile-picture" user-id="{{ oUser.sId }}"><img src="{{ oUser.sThumb }}"/></div>\n\t<div class="p-text {{{ sSmallTextCenter }}}{{#bHasTitle}} has-title{{/bHasTitle}}{{#bTitleOnly}} title-only{{/bTitleOnly}}">\n\t\t{{{ sFrameHead }}}\n\t\t<div class="p-postcomment">\n\t\t\t{{#sTitle}}<div class="p-posttitle">{{{ sTitle }}}</div>{{/sTitle}}<div class="p-formatted-text p-clampable {{{ sBigTextLeft }}}">{{{ sComment }}}</div>\n\t\t</div>\n\t\t{{{ sFrameFoot }}}\n\t</div>\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_comment_head.mustache",[],function(){return'<div class="p-frame p-frame-{{ iNb }}">\n\t<div class="p-postcomment p-display-less"><div class="p-formatted-text p-clampable">{{#sTitle}}<div class="p-posttitle">{{{ sTitle }}}</div>{{/sTitle}}{{{ sComment }}}</div></div>\n\t<div class="p-postcomment p-display-more"><div class="p-formatted-text">{{#sTitle}}<div class="p-posttitle">{{{ sTitle }}}</div>{{/sTitle}}{{{ sComment }}}</div></div>\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_frame_head.mustache",[],function(){return'<div class="p-frame-head-full">\n    {{{ sHtmlUploader }}}\n</div>\n<div class="p-frame-head">\n    {{{ sHtmlUploaderNoContent }}}\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_frame_foot.mustache",[],function(){return'<div class="p-frame-foot">\n    <div class="p-update">{{{ sUpdateText }}}</div>\n    <div class="p-extend-container"><div class="p-extend icon-f"></div></div>\n</div>'}),define("text!skins/common/global_feed/post/tpls/post_user_link.mustache",[],function(){return'<a class="p-user" user-id="{{ sId }}" href="{{ sUrl }}">{{ sDisplayName }}</a>'}),define("text!skins/common/global_feed/post/tpls/post_user_info.mustache",[],function(){return'<div class="uploader-info">\n    <div class="uploader-info-pic">\n        <img src="{{ user.sThumb }}"/>\n    </div>\n    <div class="uploader-info-profile">\n        <div class="uploader-info-user">\n            <div class="uploader-info-full-name">\n\t\t\t\t<div class="uploader-info-flag">\n\t\t\t\t\t<span class="flag-small flag-{{ user.sCountryCodeLower }}"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="uploader-info-name">\n\t\t\t\t\t<a class="uploader-info-name-text" href="{{ user.sUrl }}">{{ user.sDisplayName }}</a>\n\t\t\t\t</div>\n            </div>\n\t\t\t<div class="user-subscribe sub-strip">\n\t\t\t\t<span class="count">{{ user.sNbSubscribersFormatted }}</span>\n\t\t\t</div>\n        </div>\n\t\t{{#user.bIsSubscribed}}\n        <div class="user-filter">\n\t\t\t<span class="icon-f icf-search-v2"></span>\n            <span class="view-click">{{{ view_posts_user }}}</span>\n        </div>\n\t\t{{/user.bIsSubscribed}}\n        {{! <div class="uploader-info-ranking">\n            <span class="uploader-info-ranking-lb">World: </span><span class="uploader-info-ranking-n">#1</span>\n        </div> }}\n    </div>\n</div>'}),define("text!skins/common/global_feed/post/to }}}</span></div>\n</div>"}),define("skins/common/global_feed/post/post_generator",["config/main","mustache","static/thumbs","static/utils","lib/i18n!front","lib/tools","lib/helpers/popup","lib/helpers/viewer/lightgallery-generic-manager","skins/common/design/text","skins/common/global_feed/user","text!./tpls/post_base.mustache","text!./tpls/post_head.mustache","text!./tpls/post_metadata.mustache","text!./tpls/post_gallery.mustache","text!./tpls/post_gallery_frame.mustache","text!./tpls/post_thumb.mustache","text!./tpls/post_pic.mustache","text!./tpls/post_pic_gallery.mustache","text!./tpls/post_allgallery.mustache","text!./tpls/post_comment.mustache","text!./tpls/post_comment_head.mustache","text!./tpls/post_frame_head.mustache","text!./tpls/post_frame_foot.mustache","text!./tpls/post_user_link.mustache","text!./tpls/post_user_info.mustache","text!./tpls/post_update.mustache"],function(e,t,i,n,s,o,a,r,l,u,d,c,f,h,p,_,m,g,b,v,y,D,C,w,k,S){var T={oOptions:{oPost:undefined,oUploader:undefined,$resume:undefined,$container:undefined,oModel:undefined,bEnableUsernamePopup:!0,bEnableUserThumbPopup:!1,bAlwaysDisplayText:!0,bExtendVideoFrames:!1,iNbMaxContent:12,iNbPicturesGallery2colsDesktop:12,iNbPicturesGalleryDesktop:5,iNbPicturesGalleryTablet:2,iNbVideoMobilePreviews:4,iNbPicturesVideoDesktop:6,iNbPicturesVideoTablet:6,iNbPicturesVideo2colsDesktop:3,iFontSizeMaxDesktop:18,iFontSizeMaxMobile:15,iFontSizeMaxTitleDesktop:25,iFontSizeMaxTitleMobile:18,iDelayTextClickRedirect:400},oTranslations:{published_video:"global_feed.published_video",published_videos:"global_feed.published_videos",published_picture:"global_feed.published_picture",published_pictures:"global_feed.published_pictures",published_post:"global_feed.published_post",user_uploaded_ago:"global_feed.user_uploaded_ago",nb_elements_picto:"global_feed.nb_elements_picto",preview_click:"global_feed.video_preview_click",show_more:"misc.show_more",show_less:"misc.show_less",featuring:"global_feed.featuring",filter_this_channel:"global_feed.filter_this_channel",filter_this_model:"global_feed.filter_this_model",filter_this_profile:"global_feed.filter_this_profile"},oListeners:{onSub:undefined,onUnsub:undefined,onReady:undefined,onUserFilter:undefined,onLightGalleryOpen:undefined,onLightGalleryClose:undefined},oState:{oPopups:{},oPopupsAdded:{}},oTemplates:{sTplPost:d,sTplHead:c,sTplMetadata:f,sTplGallery:h,sTplFrame:p,sTplThumb:_,sTplPic:m,sTplHiddenPic:g,sTplAllGallery:b,sTplComment:v,sTplCommentHead:y,sTplFrameHead:D,sTplFrameFoot:C,sTplUser:w,sTplUserInfo:k,sTplUpdate:S}},E=function(e){o.initParams(this,e,T);var t=this;Object.ench(function(e){t[e[0]]=e[1]}),this.sTitle=this.oPost.sTitle,this.sComment=this.oPost.sComment,this.sShowMoreLabel=s.__(this.oTranslations.show_more),this.sShowLessLabel=s.__(this.oTranslations.show_less),this.sShowMoreLabel=s.__(this.oTranslations.show_more),this.sShowLessLabel=s.__(this.oTranslations.show_less),this.sPreviewLabel=s.__(this.oTranslations.preview_click),this.bFakeText=!1,!this.oPost.sComment&&this.bAlwaysDisplayText&&(this.bFakeText=!0,this.oPost.setComment(" ")),this.bTextOnly=this.oPost.isTextOnly(),this.sPostId=this.oPost.sId,this.bPostTextFrameOpen=!1,this.sDate=o.formatDuration(Date.now()/1e3-this.oPost.iTimestamp,o.formatDurationMethods.diff),this.bRed=this.isRedPost(),this.bSmallText=this.oPost.sComment.length<60,this.sHtmlGallery="",this.bShortComment=null!==this.oPost.sComment&&this.oPost.sComment.length<50,this.bLongComment=null!==this.oPost.sComment&&this.oPost.sComment.length>100,this.sCommentShort=!1===this.bLongComment?this.oPost.sComment:n.escape(n.unescape(this.oPost.sComment).substring(0,100)),this.sCommentRest=!1===this.bLongComment?null:n.escape(n.unescape(this.oPost.sComment).substring(150)),this.bHasTitle=!!this.sTitle,this.bTitleOnly=this.bHasTitle&&!this.sComment,this.sSmallTextCenter=this.bShortComment?"small-text-center":"",this.sBigTextLeft=this.bShortComment?"":"big-text-left",this.initon.href=is.oListenerr(d,this)}return th+(n?" p-frame-gallery":"")r with-bg">'+n+"</div>"))})}indicator">'+i+"</divp-2cols"),t.rendement||this.bFakeText?t- t.render(g,{sFull:{return t.rendText?" | ":"")+this.scto%":"","%durationDurationIcon(sD></span>',"%duration%re)),this.getPlished_post)),t.TypeTranslationFilter(e))})},ations.filter_this_profile}},getCommentThumbBlock:function(e){return t.render(this.oTemplates.sTplComment,{sComment:this.oPost.sComment,sTitle:this.oPost.sTitle,sShowMoreLabel:this.sShowMoreLabel,bSmallText:this.bSmallText,sBigTextLeft:this.sBigTextLeft,bTitleOnly:this.bTitleOnly,bHasTitle:this.bHasTitle,sFrameHead:this.sFrameHead,sFrameFoot:this.sFrameFoot,iNb:e,oUser:this.oUploader})},getCommentHeadThumbBlock:function(e){return t.render(this.oTemplates.sTplCommentHead,{sTitle:this.oPost.sTitle,sComment:this.oPost.sComment,iNturn this.iNbExtendView=i,e},isNoExtend:function(){return 0===this(this.oPosos[t])){e=!n e.pm||e.pms||e.pmf||e.pmp},isVideoHidden:function(e){return!ction(e){return!e.pun&&;if(e.i)return e.i}returf(e.ip)retur==(this.oPost.sCrySelector(".p-gallrs.onLightGal.sId+'"] > img').forEach(n)},getMetadataHtml:function(){return t.render(this.oTemplates.sTplMetadata,this)},getFrameHeadHtml:function(){return t.render(this.oTemplates.sTplFrameTemplates.sTs.oTemplates.sTPostTypeClass:i.jot,"picture")})}).desktop-col-2".oPopupsAdded[i.sId]=!0}}})}orizontal(e.children[0],d)}},hanorizontal(e.chir("mouseup",this.fnLiown"),this.updateTexundingClientRecd),e.toggleExpandContent(t){e.toggleExpandContent()})}},adion(){t.togglePostHead()}style.aspectRsClass("post-viewing-textupdateDimClampedText(s,!xt"),d)}t.updateTextLink()}},addddEventListener("click",i)}},htor(".p-extend-container"))},handln.href=e.oUploadereners.onLightGalleryClose()},ha&&e.toggleFullGallery()})})}},E}),define("text!skins/common/global_feed/post/preview_tpls/see_more_posts_container.mustache",[],function(){
return'<div class="see-more-posts">\n    <div class="see-more-posts-text-container">\n        <div class="see-more-posts-text">\n            <span>{{{ sSeeMore }}}</span>\n            <div class="icon-f icf-angle-right"></div>\n        </div>\n    </div>\n    <div class="more-posts-preview">{{{ sPostsPreviewHtml }}}</div>\n    <div class="more-posts-container"></div>\n</div>'}),define("text!skins/common/global_feed/post/preview_tpls/post_preview_text.mustache",[],function(){return"<div class='post-preview p-icon-bg'>\n    <div class=\"post-preview-text\">\n        {{{ sComment }}}\n    </div>\n</div>"}),define("text!skins/common/global_feed/post/preview_tpls/post_preview_picture.mustache",[],function(){return'<div class="post-preview p-glass-effect">\n    <img loading="lazy" src=\'{{{ sThumb }}}\'/>\n</div>'}),define("skins/common/global_feed/post/post_preview_generator",["mustache","lib/i18n!front","lib/tools","text!./preview_tpls/see_more_posts_container.mustache","text!./preview_tpls/post_preview_text.mustache","text!./preview_tpls/posw_picture,{sThumb:i})})}},l}),define("lib/helpers/sll-buttons-hide",e===t)}},i}),define("lib/helpers/thumbhumbs[e].checkPreview()}},i}),define("text!skins/common/global_feed/subscriptions/channel_preview/tpls/channel_preview.mustache",[],function(){return'<div class="channel-preview-header{{#membership_info.nb_videos}} with-membership-info{{/membership_info.nb_videos}}">\n\t<div class="prof-pic-n-page-link{{#user.sThumb}} with-pic{{/user.sThumb}}">\n\t\t{{#user.sThumb}}\n\t\t\t<img src="{{{ user.sThumb }}}" alt="" class="profile-pic" />\n\t\t{{/user.sThumb}}\n\t</div>\n\n\t<div class="channel-preview-info">\n\t\t<div class="channel-preview-title">\n\t\t\t{{#user.sCountryCode}}\n\t\t\t\t<div class="channel-preview-flag">\n\t\t\t\t\t<span class="flag flag-{{ user.sCountryCodeLower }}"></span>\n\t\t\t\t</div>\n\t\t\t{{/user.sCountryCode}}\n\t\t\t<h2 class="label">{{{ user.sDisplayName }}}</h2>\n\t\t</div>\n\t\t{{#membership_info.nb_videos}}\n\t\t\t<div class="membership-info">\n\t\t\t\t<span class="icon-f icf-bar-chart"></span>\n\t\t\t\t<div class="membership-info-videos">\n\t\t\t\t\t<p><span class="icon-f icf-crown"></span> <span class="nb-videos">{{{membership_info.nb_videos}}}</span></p>\n\t\t\t\t\t<p><span class="icon-f icf-lock"></span> <span class="no-access">{{{membership_info.nb_videos_no_access}}}</span></p>\n\t\t\t\t</div>\n\t\t\t\t<div class="membership-info-other">\n\t\t\t\t\t<p><span class="icon-f icf-play-square-o"></span> {{{membership_info.last_update}}}</p>\n\t\t\t\t\t<p><span class="icon-f icf-comments-o"></span> {{{membership_info.last_chat}}}</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="membership-info-detail">\n\t\t\t\t\t<span class="icon-f icf-question-circle-o info"></span>\n\t\t\t\t\t<div class="membership-info-detail-hover">\n\t\t\t\t\t\t<span class="icon-f icf-close-thin close"></span>\n\t\t\t\t\t\t<p><span class="icon-f icf-crown"></span> <span class="membership-info-detail-videos">{{{membership_info.detail_videos}}}</span></p>\n\t\t\t\t\t\t<p><span class="icon-f icf-lock"></span> <span class="membership-info-detail-no-access">{{{membership_info.detail_no_access}}}</span></p>\n\t\t\t\t\t\t<p><span class="icon-f icf-play-square-o"></span> {{{membership_info.detail_last_update}}}</p>\n\t\t\t\t\t\t<p><span class="icon-f icf-comments-o"></span> {{{membership_info.detail_last_chat}}}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{{/membership_info.nb_videos}}\n\n\t\t<div class="channel-actions">\n\t\t\t<button class="btn btn-default" x-filter type="button">\n\t\t\t\t<span class="icon-f icf-filter"></span>\n\t\t\t\t<span class="btn-text">{{{ filter_this_channel }}}</span>\n\t\t\t</button>\n\t\t\t<a class="btn btn-default" href="{{ user.sUrl }}" target="_blank" type="button">\n\t\t\t\t<span class="icon-f icf-external-link"></span>\n\t\t\t\t<span class="btn-text">{{{ visit_channel }}}</span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="mozaique thumbs-2-cols">\n\t{{{ mozaique }}}\n\t{{{ cover_loader }}}\n</div>'}),define("text!skins/common/global_feed/subscriptions/channel_preview/tpls/channel_preview_mozaique_tbs.mustache",[],function(){return'{{#video_list}}\n\t<div id="video_{{{ id }}}_channel_preview" data-id="{{{ id }}}" class="thumb-block">\n\t\t<div class="thumb-inside">\n\t\t\t<div class="thumb">\n\t\t\t\t<a href="{{{ url }}}" target="_blank">\n\t\t\t\t\t<img src="{{{ img }}}{{{ thumb }}}" data-idcdn="10" data-videoid="{{{ id }}}" id="pic_{{{ id }}}" />\n\t\t\t\t\t<span class="video-title">{{{ title }}}</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/video_list}}'}),define("text!skins/common/global_feed/subscriptions/channel_preview/tpls/cover_loader.mustache",[],function(){return"<div class=\"cover-loader\"><span class='icon-f icf-spinner icf-anim-pulse'></span></div>"}),define("skins/common/global_feed/subscriptions/channel_preview/channel_preview",["config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/overlay/box","lib/helpers/inline_loader","lib/helpers/thumbs/wall","skins/common/global_feed/user","text!skins/common/global_feed/subscriptions/channel_preview/tpls/channel_preview.mustache","text!skins/common/global_feed/subscriptions/channel_preview/tpls/channel_preview_mozaique_tbs.mustache","text!skins/common/global_feed/subscriptions/channel_preview/ozaique.scroll()},1e3)}}},f}),define("text!skins/common/global_feed/subscriptions/tpls/subscription.mustache",[],function(){return'<div class="subscription" user-id="{{{ user.sId }}}">\n\t<div class="subscription-thumb">\n\t\t<div class="subscription-hoverselect">\n\t\t\t{{! Text version (desktop) }}\n\t\t\t<div class=\'select-filter\'>\n\t\t\t\t<div class=\'select-text\'>{{{ sFilter }}}</div>\n\t\t\t</div>\n\t\t\t{{! Icons version }}\n\t\t\t{{! <div class=\'select-filter\'>\n\t\t\t\t<div class=\'select-text\'><div class=\'icon-f icf-filter\'></div></div>\n\t\t\t</div> }}\n\t\t\t{{! <div class=\'select-overlay\'>\n\t\t\t\t<div class=\'select-text\'><div class=\'icon-f icf-eye\'></div></div>\n\t\t\t</div> }}\n\t\t</div>\n\t\t{{#user.bIsPornstar}}\n\t\t\t<div class="subscription-indicator pornstar">\n\t\t\t\t<div class=\'icon-f icf-star-o\'></div>\n\t\t\t</div>\n\t\t{{/user.bIsPornstar}}\n\t\t{{#user.bIsChannel}}\n\t\t\t<div class="subscription-indicator channel">\n\t\t\t\t<div class=\'icon-f icf-device-tv-v2\'></div>\n\t\t\t</div>\n\t\t{{/user.bIsChannel}}\n\t\t<div class="subscription-hovericon select">\n\t\t\t<div class=\'icon-f icf-check\'></div>\n\t\t</div>\n\t\t<div class="subscription-hovericon unselect">\n\t\t\t<div class=\'icon-f icf-close-thin\'></div>\n\t\t</div>\n\n\t\t<img loading="lazy" src="{{{ user.sThumb }}}"/>\n\t</div>\n\t<div class="subscription-thumb-under">\n\t\t<div class="subscription-username-container" title="{{{ user.sDisplayName }}}">\n\t\t\t<span class="subscription-username">\n\t\t\t\t{{{ user.sDisplayName }}}\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="subscription-preview-button">\n\t\t\t<span class="subscription-preview-text">\n\t\t\t\t{{{ sVisit }}}\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>'}),define("skins/common/global_feed/subscriptions/subscription_generator",["mustache","lib/i18n!front","lib/tools","skins/common/global_feed/subscriptions/channel_preview/channel_preview","text!./.openPreviewOverlay()})}},a}),define("text!skins/common/global_feed/subscriptions/full_view/tpls/added_removed.mustache",[],function(){return'<h3 id="sub-suggests-title" class="sub-suggests-title">\n\t<span class="added-removed">{{{ added_removed_total }}}</span>\n</h3>'}),define("text!skins/default/profile/action/link/captcha.html",[],function(){return'<p>{{{ labels.ip_not_trusted }}}</p>\n<div id="prof-recaptcha">{{{ loader }}}</div>\n<p>{{{ labels.verifiy_to_trust }}}</p>'}),define("skins/default/profile/action/link",["config/main","mustache","static/utils","lib/tools","lib/helpers/popup","lib/helpers/inline_loader","lib/i18n!front"his.url_or_callback(r)}}},p}),define("text!skins/account/social/friends_list/action_btn_desktop.mustache",[],function(){return'<button class="action-desktop-btn btn btn-default" title="{{{ title }}}">\n\t<span class="icon-f icf-user"></span>\n\t<span class="icon-f icf-{{ icf }} small-icf"></span>\n</button>\n'}),define("text!skins/account/social/friends_list/action_btn_mobile.mustache",[],function(){return'<button class="action-mobile-btn btn btn-default btn-xs" title="{{{ title }}}">\n\t<span class="icon-f icf-{{ icf }}"></span>\n\t<span class="text">{{{ title }}}</span>\n</button>\n'}),define("text!skins/account/social/friends_list/action_success.mustache",[],function(){return'<strong class="success-message text-success"><span class="icon-f icf-check"></span> {{{ message }}}</strong>'}),define("skins/account/social/friends_list_base",["config/main","mustache","skins/default/profile/action/link","lib/i18n!front","text!./friends_list/action_btn_desktop.mustache","text!./friends_list/action_btn_mobile.mustache","text!./friends_list/action_success.mustache"],fles(t,i,n,s,o,a,r,l,u,d,c)}};return r.prototype={initProfiles:function(a,r,l,u,d,c,f,h,p,_,m){for(var g in f)!function(){var b=g,v=$("#profile_"+b);if(!(v.length<1)){var y=$(t.render(e.dyn.is_desktop?s:o,{title:n.__(a),icf:l}));v.append(y);var D={};D[String(d)]=f[b].display;var C=function(){e.dyn.is_desktop?y.remove():y.off("click").prop("disabled",!0),delete f[b],m--;var t="";switch(a){case"profile.unfriend":t=m<1?n.__("profile.friends.no_yet"):1===m?n.__("profile.friends.my_friend"):n.__("profile.friends.my_nb",{"%count%":m.toString()});break;case"profile.unlike":t=m<1?n.__("profile.like.no_yet"):1===m?n.__("profile.like.my_like"):n.__("profile.like.my_nb",{"%count%":m.toString()});break;case"subscriptions.unsubscribe":if("xnxx"===e.sitename){t=m<1?n.__("profile.subscription.no_uploader_yet"):1===m?n.__("profile.subscription.my_followed"):n.__("profile.subscription.my_uploaders_nb");break}if("social_subscriptions_channels"===h||"channels"===h){t=m<1?n.__("profile.subscription.no_chan_yet"):1===m?n.__("profile.subscription.my_chan_subscription"):n.__("profile.subscription.my_chan_nb",{"%count%":m.toString()});break}t=m<1?n.__("profile.subscription.no_yet"):1===m?n.__("profile.subscription.my_subscription"):n.__("profile.subscription.my_nb",{"%count%":m.toString()});break;case"misc.cancel_not_interested":t=m<1?n.__("profile.subscription.no_chan_not_interesting"):1===m?n.__("profile.subscription.one_chan_not_interesting"):n.__("profile.subscription.nb_chan_not_interesting",{"%count%":m.toString()});break;case"subscriptions.subscribe":t=m<1?n.__("xnxx"===e.sitename?"profile.subscription.no_uploaders_not_interesting":"profile.subscription.no_chan_not_interesting"):1===m?n.__("xnxx"===e.sitename?"profile.subscription.one_uploader_not_interesting":"profile.subscription.one_chan_not_interesting"):n.__("xnxx"===e.sitename?"profile.subscription.nb_uploaders_not_interesting":"profile.subscription.nb_chan_not_interesting",{"%count%":m.toString()});break;case"profile.actions.block":t=m<1?n.__("profile.liked.no_yet"):1==m?n.__("profile.liked.my_like"):n.__("profile.liked.my_nb",{"%count%":m.toString()});break;case"profile.actions.unblock":t=m<1?n.__("profile.blocked.no_yet"):1==m?n.__("profile.blocked.one_account"):n.__("profile.blocked.nb_accounts",{"%count%":m.toString()})}v.fadeOut(),p.html(t),void 0!==c&&"function"==typeof c.fnCallbackOnchange&&_!==m&&c.fnCallbackOnchange({iInitialNbItem:_,iNewNbItem:m})};if("fnSubscribe"===r||"fnUnsubscribe"===r||"fnUnreject"===r){var w={user_name:b,csrf:f[b].csrf},k={},S={confirm_unfollow:!1,confirm_unreject:!1,sub:!1,reject:!1,is_sub:!1,is_rejected:!1},T={tooltip:!1,btn_display:!1,btn_class:!1};"fnSubscribe"===r?(w.is_follower=!1,T.sub_btn=y,k.onSub=C):"fnUnsubscribe"===r?(w.is_follower=!0,w.is_rejected=!1,T.sub_btn=y,u&&d&&(S.confirm_unfollow=n.__(u,D)),k.onUnsub=C):"fnUnreject"===r&&(w.is_follower=!1,w.is_rejected=!0,T.reject_btn=y,T.reject_btn_only=!0,u&&d&&(S.confirm_unreject=n.__(u,D)),k.onUnsub=C),require(["skins/"+e.sitename+"/profilub:!1},elts:T,listeners:k})})}else{new i(y,"/profiles/"+b+r,!(!u||!d)&&n.__(u,D),!1,f[b].csrf).onSuccess=C}}}();e.dyn.is_desktop&&setTimeout(function(){$(".action-desktop-btn").addClass("read")},2e3)}},r}),define("skins/common/profile/sub_overlay",["lib/tools","lib/i18n!front","lib/helpers/overlay/box","lib/helpers/inline_loader","skins/account/social/friends_list_base"t,i,n,o,"%user%",e)}},new a}),define("skins/common/global_feed/subscriptions/full_view/subscriptions_full_view_generator",["mustache","lib/tools","lib/i18n!front","text!./tpls/added_removed.mustache","skins/sCachedAddedRemovedHtml}},a}),define("skins/common/global_feed/subscriptions/full_view/subscriptions_full_view",["lib/tools","skins/common/global_feed/subscriptions/full_view/subscritions.oGeneratorParams)}},n}),define("text!skins/common/global_feed/subscriptions/tpls/subscriptions_container.mustache",[],function(){return'<div class="subscriptions-selection-container">\n\t<div class="subscriptions-selection"></div>\n</div>'}),define("text!skins/common/global_feed/subscriptions/tpls/subscriptions_selected.mustache",[],function(){return'<div class="subscriptions-selected-container">\n\t<div class="subscriptions-selected"></div>\n</div>'}),define("text!skins/common/global_feed/subscriptions/tpls/floating_indicator.mustache",[],function(){return'<div class="floating-indicator">\n\t<span class="icon-f icf-angle-double-down">\n</div>'}),define("skins/common/global_feed/subscriptions/subscriptions_controller",["mustache","lib/tools","lib/i18n!front","lib/helpers/scrollbar","lib/helpers/scroll_buttons","skins/common/global_feed/user","skins/common/global_feed/subscriptions/subscription_generator","skins/common/global_feed/subscriptions/full_view/subscriptions_full_view","text!./tpls/subscriptions_container.mustache","text!./tpls/subscriptions_selected.mustache","text!./tpls/floating_indicator.mustache"],function(e,t,i,n,s,o,a,r,l,u,d){var c={oOptions:{$container:undefined,oFeedSettings:undefined,iNbSubsPerPage:25,iLimitEmptyRequests:10,iNextPageBuffer:1,iMaxSelected:1,iMinimumSubsSelectionDisplay:2,iMinimumSubsOverlayDisplay:2,bEnableSubsFloat:!1,iFloatHideDelay:1e3,iShowFloatingSubsDistance:50,iFloatHideDistance:1500,iDefaultPreventFloatingSubsDuration:1e3},oState:{oSubscriptions:{},oSelected:{},oSubscriptionGenerators:{},bRedrawSelection:!1,iCurrentPage:1,iDisplayedSubs:0,bFloatDisabled:!1,bHasMoreSubscriptions:undefined,iEmptyRequests:0,aSelectedQueue:[],bHasSelected:!1,nbAccountsAdded:undefined,nbAccountsRejected:undefined},oTemplates:{sTplSubscriptionContainer:l,sTplSubscriptionSelected:u,sTplFloatingIndicator:d},oListeners:{onUserFilter:undefined,onOverlayHideChanged:undefined,onChangeSyncedState:undefined,onHasSelectedChanged:undefined},oFunctions:{init_desktop_onsController");this.init()};retif(!e.checkSubsEnabselectedContent.paner:this.$scrextPage()},{threoState.nbAccouobserve(t)})rve(t.oObservions,this.loadCurrentPage()},getSelectionHtml:function(){return this.sCachedSelectionHtml||(this.sCachedSelectionHtml=e.render(this.oTemplates.sTplSubscriptionContainer,{})),this.sCachedSe)),this.sCachedSelectedHtml},toggleSelected:function(e,t,i){var n=this;i=i===undefined||i;var s=n.$scrollSelection.clientWidth;t=t===undefined?!n.oState.oSelected[e]:t,n.oState.oSelected[e]=t;var o=n.oState.oSubscriptionGenerators[e];if(o.select(t),t){if(n.oState.aSelectedQueue.push(e),n.oOptions.iMaxSelected!==undefined&&n.oState.aSelectedQueue.length>n.oOptions.iMaxSelected&&n.toggleSelected(n.oState.aSelectedQueue.shift(),!1,i),s=n.$scrollSelection.clientWidth,n.oState.bRedrawSelection||0===$(n.$selectedContent.find("[user-id="+e+"]")).length){var a=$(o.getDiv()).clone().appendTo(n.$selectedContent);a.find(".subscription-thumb").on("click",function(){n.subscriptionClickHandler(o)}),o.addClickListeners(a)}}else n.oState.aSelectedQueue=n.oState.aSelectedQueue.filter(function(t){return t!==e}),$(n.$selectedContent).find("[user-id="+e+"]").remove(0);if(log.debug("selected queue",n.oState.aSelectedQueue),i){var r=s-n.$scrollSelection.clientWidth;$(n.$scrollSelection).scrollLeft(n.$scrollSelection.scrollLeft+r)}return this.handleSelectedStateChange(),t},handleSelectedStateChange:function(){var e=this.oState.aSelectedQueue.length>0;e!==this.oState.bHasSelected&&(this.oState.bHasSelected=e,this.onHasSelectedChanged(this.oState.bHasSelected),"function"==typeof this.oListeners.onHasSelectedChanged&&this.oListeners.onHasSelectedChanged(this.oState.bHasSeleggleClass("has-selected",e)},getSubscriptions:function(){return this.oState.oSubscriptions},getSelectedSubscriptions:function(){return this.oState.aSelectedQues.oListeners.onUsert_desktop_channel_vi(),log.timeEnge++,this.loadCuv").css("height","0px")},0)},loa"function"==typeof e&&e(r.setChannelsCount(i,n,0,e)},dataType:"json"})})},dSettings[i].getVal,this.redrawSubscris.toggleSelected(e.sId,!0)},Y<=this.iInitialWrapperPosY},enableFloat:function(){this.bFloatDisabled=!1},disableFloat:function(){this.bFloatDisabateFloatSubsRestPositios.hideFloatSubsAnimatios.oOptions.iFloatHideDelr).removeClass("floating"))},"transform 300ms lineateFloatSubsRestPosition()}},prtSubsFloatDisplayDuraddClass("float-displaveClass("float-displayed"))}},f}),define("skins/common/global_feed",["config/main","mustache","lib/tools","lib/history","lib/helpers/inline_loader","lib/i18n!front","text!skins/common/global_feed/simple_dropdown_menu.mustache","text!skins/common/global_feed/containers.mustache","text!skins/common/global_feed/layout.mustache","text!skins/common/global_feed/no_more_posts.mustache","text!skins/common/global_feed/cover_invalid_filters.mustache","text!skins/common/global_feed/cover_internal_error.mustache","text!skins/common/global_feed/cover_server_message.mustache","text!skins/common/global_feed/cover_loader.mustache","text!skins/common/global_feed/noaccess_offline.mustache","text!skins/common/global_feed/reload_to_see_latest.mustache","text!skins/common/global_feed/scroll_to_top.mustache","skins/common/global_feed/post/post","skins/common/global_feed/post/post_generator","skins/common/global_feed/post/post_preview_generator","skins/common/global_feed/user","skins/common/mozaique/simple_dropdown"],function(e,t,i,n,s,o,a,r,l,u,d,c,f,h,p,_,m,g,b,v,y,D){var C={oTemplates:{simple_dropdown:a,containers:r,no_more_posts:u,layout:l,cover_loader:h,cover_invalid_filters:d,cover_server_message:f,cover_internal_error:c},oTranslations:{invalid_selection:"form.required_selection",all_content:"misc.all_content",no_content:"global_feed.no_content_selected",videos:"misc.videos",photos:"misc.photos",text:"misc.text",free:"misc.free",uploaded_by:"videos.uploaded_by",regular_uploaders:"global_feed.regular_uploaders",channels:"profile.channels",models:"profile.models",reset_filters:"search.reset_filters",reset_sub_filter:"search.reset_sub_filter",no_match:"global_feed.no_content_filter",display_options:"global_feed.display_options",no_more_posts:"global_feed.no_more_posts",you_must_be_red:"global_feed.you_must_be_red",you_must_be_online:"global_feed.you_must_be_online",reload_to_see_latest:"global_feed.reload_to_see_latest",reload_the_page:"misc.reload_page",back_to_top:"misc.back_to_top",internal_error:"misc.internal_error",retry:"misc.retry"},oClasses:{id_videos_content:"page-videos-content",id_global_feed:"global-feed",id_global_feed_content:"global-feed-content",post:"post-block",invalid_filters:"invalid-filters",hide_filter:"hide-filter",loading_posts:"loading-posts",loading_feed:"loading-feed",dropdown_error:"p-dropdown-error",popup_error:"p-popup-error",scroll_to_top:"scroll-to-top",show_scroll_to_top:"show-scroll-to-top",selector_hint_uploader_filter:"display-uploaded-filter",reload_to_see_latest:"reload_to_see_latest",see_more_posts:"see-more-posts"},oIcons:{uploader_filters_default:"icf-plus-square",uploader_filters_changed:"icf-minus-square",reset_filters_button:"icf-close-thin"},oOptions:{nb_posts_page:30,nb_page_buffer:2,nb_page_display:10,dropdown_delay_ms:500,nb_posts_before_add_page:3,nb_empty_pages_before_crash:10,nb_default_group_post:1,nb_max_group_post:5,use_local_storage:!1,local_storage_key:"global-feed",use_indexed_db:!0,indexed_db_key:"global-feed",cache_filters:!0,cache_feed:!0,cache_jump_to_post:!0,cache_back_forward_only:!0,cache_preserve_filters:!0,cache_pages_before:2,cache_pages_after:5,require_online:!0,scroll_to_top_show_y:1e3},oState:{iCurrentPage:0,sCurrentPost:undefined,sCurrentGroup:undefined,aCurrentChannelFilters:[],Users:{},Content:[],bHasMoreEvents:undefined,iLastEventTime:undefined,bTrimmedContent:undefined,bDisplayPremium:undefined,bDisplayingTrimmedPrompt:!1,iDisplayOptions:0,nbAccountsAdded:undefined,nbAccountsRejected:undefined},oFilters:{contentType:{name:"display_content",option_key:"contentType",non_zero:!0,"default":7,"enum":[{id:"displayVideos",translation:"misc.videos",weight:1},{id:"displayPhotos",translation:"misc.photos",weight:2},{id:"displayTextOnly",translation:"misc.text",weight:4}],is_list:!0},showFreePremium:{name:"display_showfree",option_key:"showFreePremium",non_zero:!0,"default":15,"enum":[{id:"displayFree",translation:"misc.free",weight:1},{id:"displayRed",label:"RED",weights:[2,4,8],weight_mode:"OR"}],is_list:!0},displayOptions:{name:"display_options",option_key:"displayOptions",state_key:"iDisplayOptions","default":0,"enum":[{id:"displayTwoColumn",translation:"global_feed.two_column",weight:1,onEnable:function(){this.toggle2Columns(!0)},onDisable:function(){this.toggle2Columns(!1)}}],is_list:!0,resettable:!1},resetSubFilter:{name:"reset_sub_filter",sClass:"reset-sub-filter",sActionSelector:".reset-sub-filter",fnAction:function(){this.resetSubscriptionsFilter(),this.resetContent()},is_reset:!0,is_list:!1},reset:{name:"reset",is_reset:!0,is_list:!1}},oFunctions:{onVideoAdd:function(e){},init_desktop_function(){n.setLoading(0g-close.lg-icon").&(e[t.option_key]=t),e}oState[s.state_keyatch(t){e)}),t.checkDih&&(i.width(o),i.heurn void i();e.on&e.css("height"hEvent(new Event("resons.you_must_be_onlisplayingTrimmedPrompt",!0)}},saveToDb:function(e,t){var i=this;if(this.oOptions.use_indexed_db)try{if(!this.bDbCreated)return log.debug("Delaying saving "+e+" to idb while store is creating."),this.bDbCreated=xv.indexedDb.getStoreExist({store_name:this.oOptions.indexed_db_key}),void setTimeout(function(){i.saveToDb(e,t)},20);if(!this.bDbInit)return;return t.data=e,xv.indexedDb.remove(e,this.oOptions.indexed_db_key),void xv.indexedDb.set(t,this.oOptions.indexed_db_key)}catch(n){return console.error(n),this.oOptions.use_indexed_d,this.saveToDb("Ce);this.saveToDb(ions.use_local_stN.stringify(this.oSt.indexedDb.stoe.bDbInit=!0,e.inits.oClasses.Classes.loading_feed,2==:"back_fore_local_storage=!1}rets.isBackForwsers=i.arrayToMap(yOptions=e.iDisplayrentGroup=e."!=typeof e[i]&&(t[i]=engeListeners[e][i].push(t))t].map(funct(),this.saveStateToCaches.oState.Content.(),this.bConter(e.oTemplateis.oState.iLastEvngs:this.getFs,0,e)},dataTydleContentResponse(t),"Content",t.on)))):void a(!1)})):a(:void n(!0)):voit.handleLazyUnload),this.appendNoMoreP&&e.toggleTrimmedPrompttings[i])return!1}rettings[i])return!0}rrentChannelFilters.length>0},getVideosContainer:function(){return this.createContainers(),this.$Co[]),this.displayNextPage(nsControlle.appendPosttDisplayTimeout()}tions.no_more_posts)}))[0])},appendInternalError:function(){var e=this,i=$(t.render(this.oTemplates.cover_internal_error,{sInternalError:o.__(this.oTranslations.internal_error),sRetry:o.__(this.oTranslations.retry)}));i.find("input").on("click",function(){e.resetContent()}),this.getVideosContainer().append(i)},addNextPageObservers:function(){var e=$("#"+this.oClasses.id_global_feed_content)[0];if(this.isElementAPost(e.lastChild))this.$LastElement=e.lastChild;else{if(!this.isElementAPost(e.lastChild.previousElementSibling))return log.error("Unable to add next page observers"),this.removeNextPageObservers(),void this.appendInternalError();this.$LastElement=e.lastChild.previousElementSibling}if(this.$LastElement.silent=!1,this.oLastPostObserver.observe(this.$LastElement),this.$ObservedElement=undefined,this.oOptions.nb_posts_before_add_page>1&&this.oOptions.nb_posts_before_add_page<e.children.length){if(this.$ObservedElement=e.children[e.children.length-this.oOptions.nb_posts_before_add_page],!this.isElementAPost(this.$ObservedElement))return;this.$ObservedElement.silent=!0,this.oLastPostObserver.observe(this.$Obser(e).hasClass("post-blockhis.$LastElement=undeappend(e).toggleClass(t,!0)},setVisage:e})),"server-message")},setVidilters(),e.resetConid_selection)+"</divopdown_error);t&&t.remove()},unsetVClasses.invalid_showFreePremium.getValue()}},getUpdatedFilterLabel:function(e){var t=this;switch(e.param.name){case this.oFilters.contentType.name:var i=this.oDisplaySettingsOptions.contentType;return 0===i.getValue()?o.__(this.oTranslations.no_content):i.getValue()===i.getMaxValue()?o.__(this.oTranslations.all_conurn i.isElementOn(e.weight)}).map(function(e){return t.getEnumLabel(e)}).join(" / ");case this.oFilters.showFreePremium.name:return'<span class="free">'+this.getEnumLabel(e.param["enum"][0])+'</span><span class="sep">/</span><span class="icon-f icf-white-fill icf-ticket-red"></span>';case this.oFilters.displayOptions.name:return o.__(this.oTranslations.display_options);case"reset_sub_filter":return'<span class="icon-f '+this.oIcons.reset_filters_button+'"></span> '+o.__(this.oTranslations.reset_sub_filter);case"reset":return'<span class="icon-f '+this.oIcons.reset_filters_button+'"></span> '+o.__(this.oTranslations.reset_filters)}return undefined},updateFilterLabel:function(e){var t=this.getUpdatedFilterLabel(e),i=$("span[data-filter="+e.param.name+"]");switch(e.param.name){case this.oFilters.contentType.name:i[0].innerHTML=t,i.toggleClass("active",0===this.oDisplaySettingsOptions.contentType.getValue());break;case this.oFilters.showFreePremium.name:var n=e.param["enum"].find(function(e){return"displayRed"===e.id}),s=e.param["enum"].find(function(e){return"displayFree"===e.id});if(!n||!s)return void log.error("Missing filter options FREE and RED");var o=this.oDisplaySettingsOptions.showFreePremium.isAnyElementOn(this.getEnumValue(s)),a=this.oDisplaySettingsOptions.showFreePremium.isAnyElementOn(this.getEnumValue(n));log.info("RED",a,n),log.info("FREE",o,s),i.find(".free").toggleClass("active",o),i.find(".icf-ticket-red").toggleClass("active",a);break;case this.oFilter&&this.testEnumW){n.toggleElee,i)||i.onDiunction(e,t){rp(function(e)is.reduceTota(e.translation),.weight_mode?n&&o:active:o}),i},[]):unAction,i.sClat.values(e.oPageFilt+"><label></labeln.init(this.$PageCorSelect(e.nameFeedSettings(undefinthis.oFiltersLabelson_zero&&0===e.goOptions.dropdown_delay_.isEnumActive(e.pon_key]=s}log.info(his.isFeedFilteringUser()))},getPostPop:function(){return this.oPostPobehavior:"smooth",toe?t.toggle(!0):t.toggle(!1)}},w}),define("skins/default/global_feed",["skins/common/global_feed","skins/default/mozaique/thumb_block_common_init","skins/defaulttryToDefaultOrder("report")}),define("skins/default/http_status",["./header/header"],function(){}),define("skins/default/langidx",["./header/header"],function(){}),define("lib/helpers/suggest_tracker",["static/cookies","config/main","ew_list),108e5,"/")}},new n}),define("skins/common/main_regional",["config/main","lib/tools","n(){l=r.offset().top,d()})}}),define("skins/common/pITORING_EVENT_VIEW="view",e}),define("text!skins/common/player/quickies/templates/settingsActionBtn.mustache",[],function(){return'<div class="quickies__actions__btn quickies__actions__btn--settings" title="{{{ sTitle }}}">\n\t<span class="icon-f icf-ellipsis-v"></span>\n</div>'}),define("text!skins/common/player/quickies/templates/settingsActionMenu.mustache",[],function(){return'<div class="quickies__menu quickies__settings-menu">\n\t{{#aSettings}}\n\t\t<div class="quickies__setting quickies__menu-elem" data-setting="{{{ sKey }}}"{{#sCondition}} data-condition="{{{ sCondition }}}"{{/sCondition}}>\n\t\t\t<span class="checkbox toggle no-label w-28">\n\t\t\t\t<input type="checkbox"/>\n\t\t\t\t<label></label>\n\t\t\t</span>\n\t\t\t{{{ sLabel }}}\n\t\t</div>\n\t{{/aSettings}}\n</div>\n'}),define("skins/common/player/quickies/settingsAction",["mustache","lib/i18n!front","static/storage","text!./templates/settingsActionBtn.mustache","text!./templates/s(this).data("setting"))}},o}),define("text!skins/common/player/quickies/templates/volumeControlBtn.mustache",[],function(){return'<div class="quickies__actions__btn quickies__actions__btn--sound" title="{{{ sTitle }}}">\n\t<span class="icon-f icf-sound"></span>\n</div>\n<div class="quickies__volume-slider__back-close"></div>'}),define("text!skins/common/player/quickies/templates/volumeControlSlider.mustache",[],function(){
return'<div class="quickies__volume-slider">\n\t<div class="slider">\n\t\t<div class="back">\n\t\t\t<div class="back-bar"></div>\n\t\t\t<div class="bar"></div>\n\t\t\t<div class="handle"></div>\n\t\t</div>\n\t\t<span class="icon-f icf-sound mute-toggle"></span>\n\t\t<span class="icon-f icf-close-thin close"></span>\n\t</div>\n</div>'}),define("skins/common/player/quickies/volumeControl",["mustache","lib/i18n!front","static/storage","text!./templates/volumeControlBtn.mustache","text!./templates/vo(e){e.data.updateView()}},a}),define("skins/common/thread/node",["config/main","static/console","lib/helpers/overlay/contextoggleVotesDelete(!0)})}}},s}),define("text!skins/common/thread/ui/form.mustache",[],function(){return'<div class="thread-node thread-node-form hidden">\r\n\t{{^force_anonymous}}\r\n\t<div class="thread-node-picture">\r\n\t\t<img src="{{{ img }}}"{{#img_error}} onerror="this.src=\'{{{ img_error }}}\';this.onerror=null;"{{/img_error}} />\r\n\t\t{{#profile_name}}\r\n\t\t<div class="thread-node-poster">\r\n\t\t\t<span class="thread-node-poster-name">{{{ profile_name }}}</span>\r\n\t\t</div>\r\n\t\t{{/profile_name}}\r\n\t</div>\r\n\t{{/force_anonymous}}\r\n\t<div class="thread-node-loader hidden"></div>\r\n\t<div class="thread-node-error hidden"></div>\r\n\t<div class="thread-node-content">\r\n\t\t{{{ form }}}\r\n\t</div>\r\n</div>'}),define("text!skins/common/thread/ui/form_message.mustache",[],function(){return'<div class="alert alert-{{{ alert_type }}} form-error-list-contener">\r\n\t<ul class="form-error-list"><li>{{{ message }}}</li></ul>\r\n\t<span class="icon-f icf-{{{ icon }}}"></span>\r\n</div>'}),define("skins/common/thread/ui/form",["config/main","mustache","static/utils","lib/tools","static/dom","skins/form/validator","text!./form.mustache","te="post[user]"]').val(t)}},l}),define("skins/common/thread/form",[.ui_node.setDefault(e,t)}},i}),define("text!skins/common/thread/ui/report_form.mustache",[],function(){return'<div>\n\t<h2 class="text-center">{{{ title }}}</h2>\n\t{{{ form }}}\n</div>'}),define("skins/common/thread/ui/report_form",["lib/helpers/overlay/box","./form","text!./report_fored=!1,this.overlay.hide()},s}),define("skins/common/thread/report_form",["static/cookies","./ui/rn(){this.ui_node.close()}},n}),define("skins/common/thread/root",["config/main","static/cookies","./noh="boolean"!=typeof e||e}},o}),define("text!skins/common/thread/ui/node.mustache",[],function(){return'<div class="thread-node">\r\n\t<div class="thread-node-nb-before hidden"></div>\r\n\t{{#has_profile}}\r\n\t<div class="thread-node-picture">\r\n\t\t<img src="{{{ default_img }}}" />\r\n\t\t<span class="flag-small hidden"></span>\r\n\t</div>\r\n\t{{/has_profile}}\r\n\t<div class="thread-node-loader hidden"></div>\r\n\t<div class="thread-node-error hidden"></div>\r\n\t<div class="thread-node-content hidden">\r\n\t\t<div class="thread-node-poster">\r\n\t\t\t{{^has_profile}}<span class="flag-small hidden"></span>{{/has_profile}}\r\n\t\t\t<span class="thread-node-poster-name"></span>\r\n\t\t\t<span class="thread-node-date"></span>\r\n\t\t</div>\r\n\t\t<div class="thread-node-message"></div>\r\n\t\t<div class="thread-node-metadata">\r\n\t\t\t<span class="icon-f icf-thumb-up"></span>\r\n\t\t\t<span class="thread-node-nb-votes votes-up"></span>\r\n\t\t\t<span class="icon-f icf-thumb-down"></span>\r\n\t\t\t<span class="thread-node-nb-votes votes-down"></span>\r\n\t\t\t<a class="thread-node-btn-post hidden">{{{ lbl_reply }}}</a>\r\n\t\t\t<a class="thread-node-btn-edit hidden">{{{ lbl_edit }}}</a>\r\n\t\t\t<a class="thread-node-btn-delete hidden">{{{ lbl_delete }}}</a>\r\n\t\t\t<a class="thread-node-btn-restore hidden">{{{ lbl_undelete }}}</a>\r\n\t\t\t<a class="thread-node-btn-report hidden">{{{ lbl_report }}}</a>\r\n\t\t</div>\r\n\t\t{{> children}}\r\n\t</div>\r\n\t<div class="thread-node-nb-after hidden"></div>\r\n</div>'}),define("text!skins/common/thread/ui/children.mustache",[],function(){return'<div class="thread-node-children hidden">\r\n\t<div class="thread-node-children-show"><span></span></div>\r\n\t<div class="thread-node-children-hide"><span>{{{ lbl_hide_replies }}}</span></div>\r\n\t<div class="thread-node-children-nodes" style="display:none"></div>\r\n</div>\r\n<div class="thread-node-children-loader hidden"></div>\r\n<div class="thread-node-children-error hidden"></div>\r\n<div class="thread-node-children-load-next">\r\n\t<a href="#" class="thread-node-btn thread-node-children-load-next-btn hidden"></a>\r\n\t<a href="#" class="thread-node-btn thread-node-children-load-all-btn hidden">{{{ lbl_load_all }}}</a>\r\n\t<a href="#" class="thread-node-btn thread-node-btn-post hidden">{{{ lbl_post_reply }}}</a>\r\n</div>'}),define("text!skins/common/thread/ui/message.mustache",[],function(){return'{{#is_video}}<span class="icon uploads"></span>{{/is_video}}\n{{#is_gallery}}<span class="icon albums"></span>{{/is_gallery}}\n{{#is_playlist}}<span class="icon playlist"></span>{{/is_playlist}}\n<a class="preview preview-{{ t }}" href="{{ u }}" data-thumb="{{{ i }}}">{{{ n }}}</a>\n{{#v}}<span class="icon-f icf-check-circle verified"></span>{{/v}}'}),define("text!skins/common/thread/ui/friend_button.mustache",[],function(){return'{{#is_friend}}\n\t<div class="thread-node-pic-bottom" title="{{{ lbl_already_friends }}}"><span class="icon-f icf-user-check"></span></div>\n{{/is_friend}}\n{{#friend_req_asked}}\n\t<div class="thread-node-pic-bottom" title="{{{ lbl_friend_req_asked }}}"><span class="icon-f icf-user-hourglass"></span></div>\n{{/friend_req_asked}}\n{{#can_ask_friend}}\n\t<div class="thread-node-pic-bottom">\n\t\t<button type="button" class="btn btn-default btn-xs thread-node-friend-ask-btn" title="{{{ lbl_add_to_friends }}}">\n\t\t\t<span class="icon-f icf-user-plus"></span>\n\t\t</button>\n\t<et716","✳":"2733","✴":"2734","❄":"2744","❇":"2747","❗":"2757","❤":"2764","➡":"27a1","⤴":"2934","⤵":"2935","⬅":"2b05","⬆":"2b06","⬇":"2b07","⬛":"2b1b","⬜":"2b1c","⭐":"2b50","⭕":"2b55","〰":"3030","〽":"303d","㊗":"3297","㊙":"3299","🀄":"1f004","🅿":"1f17f","🈂":"1f202","🈚":"1f21a","🈯":"1f22f","🈷":"1f237","🎞":"1f39e","🎟":"1f39f","🏋":"1f3cb","🏌":"1f3cc","🏍":".append('<em> (Debug: <span class="flag-small flag-'+i.lang_country.toLowerCase()+'"></span> '+i.lang+")</em>"),this.renderVotes(i.votes),this.setupEditBtn(i.edit,i.max_edit_time),this["delete"].toggleClass("hidden",!i["delete"]),this.undelete.toggleClass("hidden",!i.undelete),this.report.toggleClass("hidden",!i.report),this.content.removeClass("hidden"),this.rendered=!0,this.renderChildren(),this.renderPostBtn()},renderDate:function(e,t){this.date.html(e).prop("title",t)},renderMessage:function(i){if("string"==typeof i)return emojione&&this.logic_node.thread.show_emojis&&(i=emojione.toImage(i)),void this.message.html(i);var n=i.m;emojione&&this.logic_node.thread.show_emojis&&(n=emojione.toImage(n));for(var o in i.p){var a=i.p[o];a.is_video="v"===a.t,a.is_profile="p"===a.t,a.is_gallery="g"===a.t,a.is_playlist="f"===a.t,n=n.replace(new RegExp("##A"+a.x+"A##","g"),t.render(r,a))}this.message.html(n).find(".preview").each(function(){var t=e(this),i=t.data("thumb");if(i){var n=t.prev(".icon,.icon-f"),o=t.next(".icon,.icon-f");n=n.length>0&&"string"==typeof n[0].outerHTML?n[0].outerHTML+" ":"",o=o.length>0&&"string"==typeof o[0].outerHTML?" "+o[0].outerHTML:"";var a=e("<span>"+n+"<strong></strong>"+o+'<br><img src="'+i+'" /></span>');a.find("strong").text(t.text());var r=new s(t,a,{relative_to:this.node,trigger:"mouseenter",popup_class:"x-thread-node-link-preview-popup"});t.on("mouseleave",function(){r.close()})}})},renderChildren:function(){this.rendered&&(this.ct||u.__(this.getMessageKey(s),{},o))},hideChildrenError:function(){this.children_error.addClass("hidden")},setDeleteError:function(e){this["delete"].html(e).addClass("has-error");var t=this;window.setTimeout(function(){t["delete"].html(u.__(t.getMessageKey("delete"),{},"Delete")).removeClass("has-error")},3e4)},setUndeleteError:function(e){this.undelete.html(e).addClass("has-error");var t=this;window.setTimeout(function(){t.undelete.html(u.__(t.getMessageKey("restore"),{},"Restore")).removeClass("has-error")},3e4)},disableReport:function(){this.report.addClass("success").html(u.__(this.getMessageKey("report_thanks"),{},"Thanks for your re</li>\n\t<li><a href="#" class="worst{{#active_worst}} active{{/active_worst}}">{{{ lbl_worst }}}</a></skins/common/thread/ui/root",["mustache","lib/helpers/popup","./node","text!./root.mustache","text!./sort_popup.musart_new%New%end_new% / %start_worst%Worst%end_worst% / %start_old%Old%end_old% / %start_author%Author%end_author%"),e},a.prototype.getMessageKey=function(e){return"sort_by"===e?"misc.sort_by_top_new_worst_old_author":"reply"===e||"post_reply"===e?"misc.post_message":"sort_by_top"===e?"misc.top":"sort_by_worst"===e?"misc.worst":"sort_by_new"===e?"misc.new":"sort_by_old"===e?"misc.old":"sort_by_author"===e?"misc.author":"one_reply_before"===e?"misc.one_message_before":"nb_replies_before"===e?"misc.nb_messages_before":"one_reply_between"===e?"misc.one_message_between":"nb_replies_between"===e?"misc.nb_messages_between":"one_reply_after"===e?"misc.one_message_after":"nb_replies_after"===e?"misc.nb_messages_after":i.prototype.getMessageKey.apply(this,[e])},a.prototype.setNbChildren=function(e,t){i.prototype.setNbChildren.apply(this,[e]),this.sort_btn.toggleClass("hidden",0===e),this.sort_links.toggleClass("hidden",0===e),!1!==t&&this.children_count.text(e)},a.prototype.render=function(){this.rendered=!0,this.renderChildren()},a.prototype.getNodes=function(){this.content=this.node,this.node.find(".thread-title").html(this.title);var e=this;this.sort_links=this.node.find(".thread-sort"),this.sort_link_top=this.sort_links.find(".top").on("click",function(t){t.preventDefault(),e.logic_node.updateSort("top")}),this.sort_link_new=this.sort_links.find(".new").on("click",function(t){t.preventDefault(),e.logic_node.updateSort("new")}),this.sort_link_worst=this.sort_links.find(".worst").on("click",function(t){t.preventDefault(),e.logic_node.updateSort("worst")}),this.sort_link_old=this.sort_links.find(".old").on("click",function(t){t.preventDefault(),e.logic_node.updateSort("old")}),this.sort_link_author=this.sort_links.find(".author").on("click",function(t){t.preventDefault(),e.logic_node.updateSort("author")}),this.sort_btn=this.node.find(".thread-node-btn-sort"),this.createPopup(),this.form=this.node.find(".thread-form")},a.prototype.getChildrenNodes=function(){i.prototype.getChildrenNodes.apply(this,[]),this.children_hide.remove(),this.children_show.remove(),this.children_count=this.node.find(".thread-node-children-count")},a.prototype.setSort=function(e){this.logic_node.thread.is_admin&&this.node.find(".thread-header").addClass("hidden"),this.sort=e,this.sort_link_top.toggleClass("active","top"===e),this.sort_link_new.toggleClass("active","new"===e),this.sort_link_worst.toggleClass("active","worst"===e),this.sort_link_old.toggleClass("active","old"===e),this.sort_link_author.toggleClass("active","author"===e),this.sort_popup&&(this.sort_top.toggleClass("active","top"===e),this.sort_new.toggleClass("active","new"===e),this.sort_worst.toggleClass("active","worst"===e),this.sort_old.toggleClass("active","old"===e),this.sort_author.toggleClass("active","author"===e))},a.prototype.renderPostBtn=function(){if(!this.logic_node.canPost())return this.btn_post_in_next.addClass("hidden"),void this.btn_post_other.addClass("hidden");this.btn_post_in_next.toggleClass("hidden",this.logic_node.canLoadChildren()||0===this.logic_node.getNbChildren()||this.logic_node.isFormOpened()),this.btn_post_other.toggleClass("hidden",this.logic_node.canLoadChildren())},a.prototype.createPopup=function(){var i=$(e.render(s,{lbl_top:o.__(this.getMessageKey("sort_by_top"),{},"Top"),lbl_new:o.__(this.getMessageKey("sort_by_new"),{},"New"),lbl_worst:o.__(this.getMessageKey("sort_by_worst"),{},"Worst"),lbl_old:o.__(this.getMessageKey("sort_by_old"),{},"Old"),lbl_author:o.__(this.getMessageKey("sort_by_author"),{},"Author"),active_top:"top"===this.sort,active_new:"new"===this.sort,active_worst:"worst"===this.sort,active_old:"old"===this.sort,active_author:"author"===this.sort}));this.sort_popup=new t(this.sort_btn,i,{relative_to:this.node,position:{v:"below",h:"right"},closebtn:!0,popup_class:"thread-root-sort-popup"});var n=this;this.sort_top=i.find(".top").on("click",function(e){e.preventDefault(),n.logic_node.updateSort("top"),n.sort_popup.close()}),this.sort_new=i.find(".new").on("click",function(e){e.preventDefault(),n.logic_node.updateSort("new"),n.sort_popup.close()}),this.sort_worst=i.find(".worst").on("click",function(e){e.preventDefault(),n.logic_node.updateSort("worst"),n.sort_popup.close()}),this.sort_old=i.find(".old").on("click",function(e){e.preventDefault(),n.logic_node.updateSort("old"),n.sort_popup.close()}),this.sort_author=i.find(".author").on("click",function(e){e.preventDefault(),n.logic_node.updateSort("author"),n.sort_popup.close()})},a}),define("skins/common/thread/video_comments/ui/node",["../../ui/node"],function(e){var t=function(t,i){void 0!==i&&e.apply(this,[t,i])};return t.prototype=new e,t.prototype.createChild=function(e,i){return new t(e,i)},t.prototype.getMessageKey=function(t){switch(t){case"node_loading":return"video.loading_comment";case"children_loading":return"video.loading_replies";case"children_error":return"video.failed_loading_replies";case"children_error_retry":return"video.failed_loading_replies_retry"}return e.prototype.getMessageKey.apply(this,[t])},t}),define("skins/common/thread/video_comments/ui/root",["../../ui/root","./node","lib/i18n!front"],function(e,t,i){var n=function(t,n,s){void 0!==t&&e.apply(this,["video-comments","string"==typeof s?s:i.__("video.comments",{},"Comments"),t,n])};return n.prototype=new e,n.prototype.createChild=function(e,i){return new t(e,i)},n.prototype.getMessageKey=function(t){switch(t){case"sort_by":return"misc.sort_by_top_new_worst_old";case"children_loading":return"video.loading_comments";case"children_error":return"video.failed_loading_comments";case"children_error_retry":return"video.failed_loading_comments_retry";case"load_next_nb_replies":return"video.load_next_nb_comments";case"load_last_reply":return"video.load_last_comment";case"load_last_nb_replies":return"video.load_last_nb_comments";case"load_all_replies":return"misc.load_all_comments";case"reply":case"post_reply":return"video.post_a_comment";case"one_reply_before":return"misc.one_comment_before";case"nb_replies_before":return"misc.nb_comments_before";case"one_reply_between":return"misc.one_comment_between";case"nb_replies_between":return"misc.nb_comments_between";case"one_reply_after":return"misc.one_comment_after";case"nb_replies_after":return"misc.nb_comments_after"}return e.prototype.getMessageKey.apply(this,[t])},n.prototype.createPopup=function(){e.prototype.createPopup.apply(this,[]),this.sort_author.remove(),this.sort_worst.remove()},n}),define("skins/common/player/quickies/comments/ui_root",["skins/common/thread/video_comments/ui/root"],function(e){var t=function(t,i,n,s){this.$countContainer=s,e.apply(this,[t,i,n])};return t.prototype=new e,t.prototype.setNbChildren=function(t){e.prototype.setNbChildren.apply(this,[t]),this.$countContainer.html(t)},t}),define("skins/common/player/quickies/comments",["skins/common/thread/root","./comments/ui_root","lib/i18n!front"],function(e,t,i){var n=function(){this.bCommentsInitialized=!1,this.iVideoId=null,this.$container=null,this.$countContainer=null};return n.prototype={setVideoId:function(e){this.iVideoId!==e&&(this.iVideoId=e,this.bCommentsInitialized=!1)},setContainer:function(e){this.$container=e,this.bCommentsInitialized=!1},setCountContainer:function(e){this.$countContainer=e},init:function(){if(!this.bCommentsInitialized){this.bCommentsInitialized=!0;var n=new t(this.iVideoId,this.$container,'<span class="icon-f icf-comment-o"></span> '+i.__("video.comments",{},"Comments"),this.$countContainer);n.disableChildrenAnimations();var s=new e("video-comments",this.iVideoId,n,"skins/default/form/login");s.setLoginReloadWithHash(!0),s.load()}}},n}),define("text!skins/common/player/quickies/templates/playerBox.mustache",[],function(){
return'<div class="quickies__container quickies__container--{{{ sOrientation }}}">\n\t<div class="quickies__player">\n\t\t<div classs="quickies__actions">\n\t\t{{#bCommentsAction}}\n\t\t\t<div class="quickies__actions__btn quickies__actions__btn--comments" title="{{{ sComments }}}">\n\t\t\t\t{{#sCommentsCount}}<span class="count">{{{ sCommentsCount }}}</span>{{/sCommentsCount}}\n\t\t\t\t<span class="icon-f icf-comment-o"></span>\n\t\t\t</div>\n\t\t{{/bCommentsAction}}\n\t\t{{#bLikeActions}}\n\t\t\t<div class="quickies__actions__btn quickies__actions__btn--like" title="{{{ sLike }}}"><span class="icon-f icf-thumb-up-o"></span></div>\n\t\t\t<div class="quickies__actions__btn quickies__actions__btn--dislike" title="{{{ sDislike }}}"><span class="icon-f icf-t/div>\n\t{{{ sProfile }}}\n</div>'}),define("text!skins/common/player/quickies/templates/playerBoxVideoLinks.mustache",[],function(){return'<div class="quickies__menu quickies__video-links-menu">\n\t<a href="{{{ sVideoPageUrl }}}" class="quickies__menu-elem">\n\t\t<span class="icon-f icf-link"></span>\n\t\t<span class="text">{{{ sOpenVideo }}}</span>\n\t</a>\n\t<a href="{{{ sVideoPageUrl }}}" target="_blank" c!skins/common/player/quickies/templates/profile.mustache",[]a href="{{{ sUploaderUrl }}}"></a>ink">{{/sUploaderUrl}}" onerror="this.src=\'{{{ sDefaultProfilePic }}}\'; this.onerror=null;" alt=""/>{{/sProfilePic}}\n\t\t{{#sUploaderUrl}}</a>{{/sUploaderUrl}}\n\t\t{{#sUploaderDisplay}}\n\t\t\t<span class="profile-name">\n\t\t\t\t{{#sUploaderUrl}}<a href="{{{ sUploaderUrl }}}">{{/sUploaderUrl}}\n\t\t\t\t\t{{^sProfilePic}}<span class="icon-f icf-user"></span>{{/sProfilePic}}\n\t\t\t\t\t<span class="name">{{{ sUploaderDisplay }}}</span>\n\t\t\t\t{{#sUploaderUrl}}</a>{{/sUploaderUrl}}\n\t\t\t</span>\n\t\t{{/sUploaderDisplay}}\n\t\t{{#sProfileTitle}}<span class="title">{{{ sProfileTitle }}}</span>{{/sProfileTitle}}\n\t\t<span class="user-subscribe">\n\t\t\t<span class="count"></span>\n\t\t</span>\n\t</h2>\n\t{{#bIsDesktopDisplay}}\n\t\t<div class="quickies__uploader-profile__video-info">\n\t\t\t<h3 class="quickies__uploader-profile__video-title">\n\t\t\t\t{{{ sVideoTitle }}}\n\t\t\t</h3>\n\t\t\t<div class="quickies__uploader-profile__video-stats">\n\t\t\t\t<span class="quickies__uploader-profile__video-views"><span class="icon-f icf-eye"></span> <span class="quickies__uploader-profile__video-views-count">{{{ sVideoNbViews }}}</span></span>\n\t\t\t</div>\n\t\t\t<div class="quickies__uploader-profile__video-full-video-link{{#sFullVideoPageUrl}} has-link{{/sFullVideoPageUrl}}">\n\t\t\t\t{{#sFullVideoPageUrl}}<a href="{{{ sFullVideoPageUrl }}}">{{{ sSeeFullVideo }}}</a>{{/sFullVideoPageUrl}}\n\t\t\t</div>\n\t\t</div>\n\t{{/bIsDesktopDisplay}}\n\t<div class="scroll">\n\t\t<div ct\t<span class="icf-close-thin"></span>\n\t\t</div>\n\t{{/bIsDesktopDisplay}}\n\t{{#bIsDeon-f icf-close-thin"></span>\n\t\t</div>\n\t{{/bIsDesktopDisplay}}\n</div>'}),define("text!skins/common/player/quickies/templates/profileMozaiqueContainer.mustache",[],function(){return'<div class="quickies__uploader-profile__content">\n\t\x3c!--{ { #sTitcontent__tab--mozaique-{{{ sOrientation }}} mozaique" data-toggle="quickies">\n\t</div>\n</div>'}),define("text!skins/c>\n\t<div class="quiclem__back" style="background-image:url(\'{{{ sImgUrl }}}\');"></div>\n\t<div class="quickies__list-elem__infos">\n\t\t<div class="quickies__list-elem__title">{{{ sTitle }}}</div>\n\t</div>\n\t{{#bIsInProfile}}\n\t\t<div class="viewed-overlay">\n\t\t\t<span class="icon-f icf-eye"></span>\n\t\t</div>\n\t{{/bIsInProfile}}\n</div>'}),define("skins/con(e){var t=function(){e.initLogger(),this.bAllowTracking=!1,this.bDeclareSent=!1,this.oLastView=!1};return t.S_S(this.storageAvailablef&&o.sId!=i&&(thisetItem(t.S_STORAGorage_test__";n("Tried to reuse the same tracking_quickies instanceLastView.sId,t.sorrent_ref=this.oCurrentView.sRef,log.debug("video-hit",t),$.post("/video-hit",t)}}},t}),define("skins/common/player/quickies/playerBox",["config/main","mustache","lib/i18n!front","lib/helpere/btn","./con.mustache","te(t=this.makeListElem(e&&e.duration||:function(){this.bPlayerFullTime(),((nomains["sta,this.onClickTitle),tonContextmenu),this,this.$playeayer-bg"),this.$playerBG.css("background-image",'url("'+(this.getOrientasImgUrlVuickies__prog.$progressHolder=this.on("toucs.$actionBtis.bCommentsEnabledons.find(".qus.$actionBtnComments.on("click",this,this.onClickComments),this.$actf(this),this.$s.$container,this.bIsP.prop("poster",this."canplay",this,tn("playing",this,this.ay:this.sUploaderFullDispleVideoCountStr(),s)}},closeContainer:function(){t(clearTimeout(thisis.$container.detach(),tght(),l=r/a;t.getOrientaked is-animated",!1===Url:this.sVideoStaus();if(t){if(n.fadeIn(isCommentingOpen)e=!this.bCommentsOpened;else if(e===this.bCommentsOpened)return;if(e){if(this.bCommentsOpened=!0,"function"==typeof this.fnUseAlternativeComlass("()}el.update},upda$profileOverlayuickies__uploader-pr.dyn.locale)),t.finull_length_on",{(""),n.removeClrofileTabs:function($profileOverlayContainer||!tontent__btn"),o=this;s.off("click").on("click",function(e){e.preventDefault(),o.toggleProfileTabs($(this).data("toggle"),t,null,n,i)}),this.fntsCount<1?d(".quickies__uploader-profile__content__tab");o.removeClass("is-active").filter("[data-toggle="+e+"]").addClass("is-active"),ction"==typeof s&&s(e)}oManager.isProf n.data("is-iile__content__bt.data("is-init",this.getId()),!0},addPlayerLoader:function(){if(this.$playerBG&&this.$playerBG.length&&!this.$playerBG.children(".loader").length){var e=$(y.FN_GET_LOADER_HTML());e.hide(),this.$playerBG.append(e),setTimthis.$playerBG.children(".loader").remove()},removeProfileOverlayager.setToProfilISPLAY_LEVEL_PROFILE||"lay").detach.bIsProfileLevel? promise ERROR","color:greenyellow;",e);var t=$('<span class="quickies__force-play icon-f icf-player-play-circle-o"></span>');s.bIsPlaying=!1,s.oManager.pause(),t.l(function()IsPlaying&&("agLoadingMaxRetry:3,manifestLoadingMaxRetry:3,levelLoadingMaxRetry:3,fragLoadingRetryDelay:500,manifestLoadingRetryDelay:500,levelLoadingRetryDelay:500,fpsDroppedMonitoringPeriod:5e3,fon(l.Events.MEDIA_ATTACHED,function(){s.oHls.loadSource(t)}),this.oHls.attachMedia($(i)[0i,s.oHls.currentLevelfunction(){var e=this.gthis.$player=nuthis,i=this.getPlayerCuris.fViewDuration>=y.I_TRACKING_VIEW_DURATION/1e3||this.fViewDuraCurrentTimeByProgressBar:function(e){var t=this.$progress.out(e<i.left||e>i.l=this.getPlayessBarPerc=e}},class="icon-f icf-ger.isSliding()sBack:function(epagation();var ckies__force-play").detach(),t.bForcePlayAdded=!1))},onClickListElem:function(e){e.preventDefault(),e.stopPropagation();var t=e.data;t.oManager.isSliding()||(t.isError()||ve",t,t.onMouseMoveProgressBar).on("mouseup",t,t.onMouseUpProgressBar).on("mouseout",t,t.onMouseUpProgressBar)},onMouseUpProgressBar:function(e){var t=e.data;if("mouseout"===e.type){var i=e.relatedTarget?$(e.relatedTarget):null;if(i&&i.length&&(i.hasClass("quickies__progress")||i.parents(".quickies__progress").length))return}$(this).off("mousemove",t.onMouseMoveProgressBar).off("mouseup",t.onMouseUpProgressBar).off("mouseout",t.onMouseUpProgressBar)},onMouseMoveProgressBar:function(e){e.data.setCurrentTimeByProgressBar(e.pageX)},onResizeScreen:function(e){var t=e.data;t.updateVideoRatioFit(),t.updateSideActions()},onScrollUploaderOverlay:function(e){if(e&&e.oVertical){var t=e.$scrollableContent.find(".quickies__list-elem").last();if(e.oVertical.iScrollInvert<t.outerHeight()){if("loading"===this.oManager.loadMoreVideoIfNeeded(!0,c.S_DISPLAY_LEVEL_PROFILE_VIDEO)&&!this.bOnScrollUploaderOverlayCantBeAdded){this.bOnScrollUploaderOverlayCantBeAdded=!0;var i=this;this.oManager.addProfileAnyInfoLoadedCallBack(function(){i.bOnScrollUploaderOverlayCantBeAdded=!1,i.onScrollUploaderOverlay()})}}}},onToggleMute:function(e){e.data.setVolume()},onTouchProgressBar:function(e){e.preventDefault(),e.stopPropagation();var t=e.data;t.$progress&&t.$progress.length&&(t.$progressRemoveClassTimer&&clearTimeout(t.$progressRemoveClassTimer),t.$progress.addClass("is-touched"),t.$progressRemoveClassTimer=setTimeout(function(){t.$progress.removeClass("is-touched")},1e3)),t.setCurrentTimeByProgressBar(e.originalEvent.touches[0].pageX)},onVolumeChange:function(e){e.data.setVolume()},onPlayerAbort:function(e){e.data.oManager.playNext()},onPlayerCanPlay:function(e){var t=e.data;t.bCanPlay||(t.bCanPlay=!0,t.iPlayerCanPlayTime=(new Date).getTime(),t.sendMonitoring(c.S_MONITORING_EVENT_BUFFERED,'on "canplay" event',!0),t.oBufferTimer&&(clearTimeout(t.oBufferTimer),t.oBufferTimer=null),t.bAutoStart&&t.play(),t.removePlayerLoader())},onPlayerEnded:function(e){var t=e.data;t.bIsPlaying=!1,f.FN_GET_SAVED_SETTING("autoNext")?t.isMenuOpened()?t.menuOpenedPauseAtEnd():(t.sendMonitoring(c.S_MONITORING_EVENT_VIEW,'next - on "ended" event on the player',!0),t.oManager.playNext()):(t.updateViewDuration(),t.fViewDuration+.1>=t.getPlayerFullTime()&&t.sendMonitoring(c.S_MONITORING_EVENT_VIEW,'replay - on "ended" event on the player',!0),t.replay())},onPlayerError:function(e){var t=e.data;console.error("%c\tPB ["+(t.bIsProfileLevel?"P-":"")+t.iNPlayer+"] onPlayerError","color:greenyellow;font-weight:bold;font-size:1.1em;",e),t.setIsError(),t.oBufferTimer&&(clearTimeout(t.oBufferTimer),t.oBufferTimer=null),t.sendMonitoring(c.S_MONITORING_EVENT_ERROR,'next - on "error" event on the player',!0),$(window).trigger("evtQuickiesUpdateList"),t.oManager.setSlideEndedCallback(function(){t.closeContainer()})},onPlayerLoadStart:function(e){var t=e.data;t.iPlayerLoadStartTime=(new Date).getTime(),t.bCanPlay||(t.oBufferTimer=setTimeout(function(){t.bCanPlay||t.isCurrentPlayBox()&&(console.error("%c\tPB ["+(t.bIsProfileLevel?"P-":"")+t.iNPlayer+"] buffer timeout","color:greenyellow;font-weight:bold;font-size:1.1em;"),t.sendMonitoring(c.S_MONITORING_EVENT_BUFFERTIMEOUT,"next - trying to load for over "+y.I_BUFFER_TIMEOUT/1e3+" seconds",!0),t.oManager.playNext(),t.oBufferTimer&&(clearTimeout(t.oBufferTimer),t.oBufferTimer=null))},y.I_BUFFER_TIMEOUT)),t.sendMonitoring(c.S_MONITORING_EVENT_START_LOADING,'on "loadstart" event on the player',!0)},onPlayerPaused:function(e){e.data.bIsPlaying=!1},onPlayerPlaying:function(e){var t=e.data,i=(new Date).getTime();if(t.fLastCurrentTime=t.getPlayerCurrentTime()||0,!(!t.iPlayerLoadStartTime||t.iPlayerLoadStartTime>i||t.iPlayerPlayingStartTime&&t.iPlayerPlayingStartTime>t.iPlayerLoadStartTime)){t.bIsPlaying=!0;var n=$(t.getPlayer());n&&n.length&&n.css("opacity","1"),t.iPlayerPlayingStartTime=i,t.sendMonitoring(c.S_MONITORING_EVENT_PLAYING,'on "playing" event on the player',!0)}},onPlayerSeeked:function(e){var t=e.data;t.fLastCurrentTime=t.getPlayerCurrager=e||null,this.sSavedHash="";var t=this;i.registerAllHashesExcept("no-quickies",function(e){t.onPathChange({data:t,sHash:e})})};return s.S_HASH_BEGIN="quickies/",s.S_HASH_PROFILE="/profile",s.S_HASH_COMMENTS="/comments",s.prototype={setManager:function(e){this.oManager=e||null},setHash:function(){if(this.oManager){var e=this.oManager.getCurrentVideoId(n.S_DISPLAY_LEVEL_MAIN),t=i.getHash(),o=this.getHashProfileVideoId()?n.S_DISPLAY_LEVEL_PROFILE_VIDEO:this.isHashProfileOpened()?n.S_DISPLAY_LEVEL_PROFILE:n.S_DISPLAY_LEVEL_MAIN,a=this.getHashBeginning(),rsh(r,null,u)}},getHashSimpleBeginning:function(){return s.S_HASH_BEGIN},getHashBeginning:function(){var e=this.oManager?this.oManager.getOrientation().substring(0,1):"a";return this.getHashSimpleBeginning()+e+"/"},ge,e.substring(0,s.S_HASH_BEGIN.length)!==s.S_HASH_BEGIN)return null;var t=e.substring(s.S_HASH_BEGIN.length,s.S_HASH_BEGIN.length+1);return"v"===t?"verticer.openAndPlay({),n=new RegExp(t+"\\tHashVideoId(),s=t.isdiv>--\x3e\n\n\t<div class="quickies__desktop-profile-info">\n\t\t{{{ sProfile }}}\n\t</div>\n\n\t<div class="quickies__close-swipe quickies__close-swipe--prev"><span class="iconlass="icon-f main-n\t\t\t<a class="qun class="quickies__uploader-profile__content__btn__count">{{#sVideosCount}}{{{ sVideosCount }}}{{/sVideosCount}}</span>\n\t\t\t</a>\n\t\t</li>\n\t\t<" data-togentsCounts/common/history/one_info_tracker","text!./help_wizard_co=this.bShowStep2his.possition(),e.resetCursorAnimation(),e&&this.tion=this.askDescripif(o.top>"==typeoif(this.stopCursorAnimation(),!this.hasCursor())return!1;this.$Cursion:function(){"undefinInterval=s("auto-next")},sthis.tAutoNextWithis!=typeof eCursor()tContainet,i=$(window).height(),n=$(window).width(),s=$("html, th>0?300:10,b=500;if(h?(m.bottom="auto",m.top="15px"):p?(m.top="auto",m.bottom=d+15+"px"):(m.bottom="auto",m.top=d+15+"px"),_){var v=Math.max(n-u,15),y=n-u>15?15:15-(n-u);m.left="auto",m.right=y+"px",b=Math.min(b,n-v-15,Math.max(c,g,c+.5*r))}else{var D=Math.max(r,15),C=r>15?15:30-D;m.right="auto",m.left=C+"px",b=Math.min(b,n-D-15,Math.max(c,g,c+.5*(n-u)))}if(g=Math.min(g,b),m["max-width"]=b+"px",m["min-width"]=g+"px",this.$MaskDescription.css(m),this.hasCursorContainer=$(n.render(o,{skip:t.__("misc.skip_all"),skip_class:i})),this.$Skip=this.$Container.find(".help-wizard-skip"),this.bSkipRemove?this.$Skip&&this.$Skip.length>0&&this.$Skip.remove():this.$Skip.on("click",function(t){t.stopPropagation(),t.preventDefault(),e.skipAll()}),this.eEscapeKey=function(t){27===t.which&&e.skipAll()},$("body").append(this.$Container).on("keyup",this.eEscapeKey),this.showNext()}},wasViewed:function(){var t=s.get("helpWizard_viewed");return t||(t=[]),-1!==t.indexOf(this.sId)||e.dyn.donewizs&&-1!==e.dyn.donewizs.indexOf(this.sId)},setViewed:function(t,i){if((i="boolean"!=typeof i||i)===this.wasViewed())return"function"==typeof t&&t(),!1;e.dyn.donewizs||(e.dyn.donewizs=[]);var n=s.get("helpWizard_viewed");if(n||(n=[]),!xOf(this.sId),-1!==n&&n.spl;"),"function"==cERROR : ajax error",aType:"json"})},showNext:function(e){if(!this.isEndindOrEnded()&&0!==this.aInstructions.length){if("number"==typeof e&&e<=this.aInstructions.length)this.iCurrentIndex1=e;else if("undefined"==typeof this.iCurrentIndex1)this.iCurrentIndex1=1;else if(++this.iCurrentIndex1>this.aInstructions.length)return this.iCurrentIndex1=0,void this.end();this.setSkinBtnPosition();this.aInstructions[this.iCurrentIndex1-1].show()}},skipAll:function(){this.sEndRedirect=!1,this.end()},getContainer:function(){return this.$Container},setSkinBtnPosition:function(e){if(void 0===e&&(e=this.oSkipPosition),!1===e||"undefined"==typeof this!1;this.sSkipVPositiideMask),this.tAutep2();this.bClosing"==typeof this.,redirect:functns/common/help_!1,options:{show_cctions:[{zone:".quickies__container.is-current .quickies__actions__btns--prev",desc:!1,options:{show_cursor_anim_on:".quickies__prev",auto_next_after_cursor_anim:!0}}]}}})ig/main","mustache",/constants",".emplates/mana],function(e,tileLevelPlayersContainerContainer=null,this.$profileLevelPlayersContainer=null,this.$profileInfoContainer=null,this.iManOUCH_STATIC_THRES,b.I_TOUCH_SWIPERIENTATION_HOROAD_MORE_NO_MORE="no-mo=function(e){"string"!=typeof e$(window).outer{sKey:"rating",sLed"==typeof b.O_);var n=!1,s="===u.S_URL_MODE_LOAD_PROFILE_VIDEOS)&&"undefined"!=typeof i.aIdsTosSource.length>0&&(n+="/"+this.sSource);else if(t===u.S_URL_MODE_LOi);return!(!n||n.isError(l()&&e!==u.S_DISPLAY_LEVEL_PROFILE_VIDEO)return this.aMainLevelVideoIds;var t=this.getList(),n=i.ins.aVideoErrorIds.iPrevVideoId:fur i=this.getVetVideoIdsList(e)ar n in t){var i},countUsableVideoIdshis.bIsLoading=!0;var i={};t&&"object"==typeof t||(t={}),"string"!=typeof t.sSortFilter&&(t.sSortFilter=this.sSortFilter);var n;if("undefined"==typeof t.aIdsToLoad&ad));this.isFullProfileNavigation()?(t.iProfileId=this.getFullProfileNavigation(),t.iPage=null===this.sProfileNavPageLoaded?0:this.sPs.bFirstLoad||this.isSmallDevice()||this.getOrientation()!==b.S_ORIENTATION_VERTICAL&&t_URL_MODE_LOAD_HOME_VIDd.length);var o=this;t.aIdsToLoad):i.videos&llProfileNavigation()){o.sProfileNavPageLoaded=t.iPage,o.callProfileAnyInfoLoadedCallBack(t.iProfileId);var n=o.getProfileInfo(t.iProfileId);n&&n.a-- loadVideoList --- error","color:cornflowerblue",{xhr:e,status:t,error:i})}})}},setVideoListCountToLoad:function(e){this.iForeturn b.S_LOAD_MORE_-1!==s){if(s+b.I_COUNT_BEFORE_LOAD_MORE<n.length)return b.S_LOAD_MORE_NOT_ENOUGHT_FOR_MORE}else if(n.length>b.I_COUNT_BEFORE_LOAD_MORE)return b.S_LOAD_MORE_NOT_ENOUGHT_FOR_MORE}return t!==u.S_DISPLAY_LEVEL_MAIN?this.loadProfileVideoList(null,i):this.loadVideoList(i),!0},setEndOfAutoLoad:function(e){if(void 0===e&&!this.isItProfileVideoLevel())return void(this.bEndOfMainLevelAutoLoad=!0);var t=e?this.getProfileInfo(e):this.getCurrentProfile();"object"==typeof t&&(t.bEndOfAutoLoad=!0)},canAutoLoadMore:function(){if(!this.isItProfileVideoLevel())return!this.bEndOfMainLevelAutoLoad;var e=this.getCurrentProfile();return"object"==typeof e&&!e.bEnequested:function(e){for(var t in e){:function(e){var t=[];for(var i in e){o),this.addVideoIdar a=this.getPlayerBox(o);a&&a.setInfo(this.oVideosInfo[o])}s.bNeedsInfoLoading&&this.aVideoIdsNeedingMoreLoad.push(o)}this.updatePlayerBoxes(),"function"==typeof t&&t(),!0!==i&&$(window).trigger("evtQuickiesUpdateList")},reorderVideosIds:function(e){var t=e&&e.length>0?e.length:0;if(!(t<2)){for(var i=!1,n=1;n<t;n++){var s=e[n],o=this.aMainLevelVideoIds.indexOf(s);if(-1!==o){for(var a=n,r=null,l=-1;a>0&&-1===l;)a--,r=e[a],l=this.aMainLevelVideoIds.indexOf(r);if(-1!==l){if(o-l==1)continue;this.aMainLevelVideoIds.splice(o,1),l=this.aMainLevelVideoIds.indexOf(r),this.aMainLevelVideoIds.splice(l+1,0,s),i=!0}}}i&&(this.updatePlayerBoxes(),this.loadMoreVideoIfNeeded())}},getCurrentLevel:function(){return this.isProfileOverlayOpened()?this.bIsProfileLevelVideos?u.S_DISPLAY_LEVEL_PROFILE_VIDEO:u.S_DISPLAY_LEVEL_PROFILE:u.S_DISPLAY_LEVEL_MAIN},setSortFilter:function(e){"string"==typeof e&&"undefined"!==b.O_AVAILABLE_SORT_FILTERS[e]&&(this.sSortFilter=e)},getSortFilter:function(){return this.sSortFilter},initOrientation:function(){var t=this.oHashManager.getHashOrientation(),i="string"==typeof t?t:b.FN_GET_SAVED_ORIENTATION();this.setOrientation("string"==typeof i?i:e.dyn.is_desktop?b.S_ORIENTATION_ALL:$(window).outerHeight()>$(window).outerWidth()?b.S_ORIENTATION_VERTICAL:b.S_ORIENTATION_HORIZONTAL)},getOrientation:function(){return this.sOrientation},setOrientation:function(e){if(this.sOrientation=e,this.sOrientation===b.S_ORIENTATION_VERTICAL){if(this.oAvailableOrientations.bVertical)return;this.oAvailableOrientations.bHorizontal?this.sOrientation=b.S_ORIENTATION_HORIZONTAL:this.oAvailableOrientations.bAll?this.sOrientation=b.S_ORIENTATION_ALL:this.sOrientation="none"}else if(this.sOrientation===b.S_ORIENTATION_HORIZONTAL){if(this.oAvailableOrientations.bHorizontal)return;this.oAvailableOrientations.bVertical?this.sOrientation=b.S_ORIENTATION_VERTICAL:this.oAvailableOrientations.bAllsetAvailableOrientationsFullscreenEnabled||/XXXAscreen||t.mozRequestFullScturn null;var t=thInfoLoadedCallBacks:[],etOrCreateProfileInfo(e);for(var n in t){var s=t[n];-1===i.aVideoIds.indexOf(s)&&i.aVideoIdcks.length>0},addProfileAnyInfoLoadedErrorCallBack:function(e,t){if("function"==typeof t){thdedErrorCallBacks.pushi.aProfileAnyInfoLoadedCalllts : error","color:cornflower--- POST results : LOAD ERROR EXCEEDED","color:cornflowerblue",i.iIsLoadErrorCount),i.bIsLoadErrorExceeded=!0),void n.callProfileAnyInfoLoadedErrorCallBd.updateFullProfileVideoListoad[t],-1===s.indenction(e){returideoLevel:funhis.$profileon:thr.findlUploaderOverlayofileInfo(),this.m--classic").ickies--mobext:n.__("mis.css({background:"none).removeClass("is-vemoveClass("is-visible"),this.closeProfileVideoLevel(e);break;case u.S_DISPLAY_LEVEL_PROFILE:this.closeProfileOverlay(e);breakr t,i;for(t in peof e.bNoHash?Id)&&s.push(e.iProhis.setToProfilding()){var idingLoading(null,e),this.slidePlayers("next")}},playPrev:function(){if(!this.isSliding()){this.closeProfileOverlay();var e=this.getPrevVideoId();if(this.setCurrentVideoId(e),!e)return void this.playReplace("backAfterSwiping");this.slidePlayers("prev")}},playReplace:function(e){this.isSliding()||this.slidePlayers("reset",e)},playIdNext:function(e,t){var i=this.getCurrentLevel();i===u.S_DISPLAY_LEVEL_PROFILE_VIDEO&&this.updatePlayerBoxes();var n=this.getPlayerBoxCurrent();if(this.isSliding()||!n)return void("object"==typeof t&&"function"==typeof t.fnCompleteCallback&&t.fnCompleteCallback());this.getCurrentVideoId()!==e&&this.setCurrentVideoId(e),i===u.S_DISPLAY_LEVEL_PROFILE_VIDEO?n.play():n.getId()!==e?(this.setPlh?t.bNoHash:null),"object"==typeof t&&"function"==typeof t.fnCompleteCallback&&t.fnCompleteCallback()},slidePlayers:function(e,t){if(!this.isSliding()){"next"!==e&&"prev"!==e&&(e="reset");var i="number"==typeof this.artTimer"===o.getl.getContainer(!0)&c.css({top:i+"%"top:e+100+"%",bottoe")):f||(e=Math.abs(epeNext.css({opacity:e*(100/bh.abs(e*(100/b.Icf.css({bacpdatePlayerBoxss("quickies-s.fnSlideEndedCallbacion(){if(this.$mainContaen)e=i.w):"function"==tunction"==typoseMenus(),t;c&&c.addClais.oMainLeveed:functionunction(e)":"none"}),t.$cl0*2+1)+")"}).addClass_ORIENTATION_HORIZONTAL)return void(t.iTouchCurrX=i?e.originalEvent.touches[0].pageX:e.pageX);t.iTouchCurrY=i?e.originalEvent.touches[0].pageY:e.pageY;var o=t.iTouchCurrY-t.iTouchStartY,a=t.getPlayerBoxPrevious(),r=t.getPlayerBoxCurrent(),l=t.getPlayerBoxNext(),d=a?a.getContainer(!0):null,c=r.getContainer(!0),f=l?l.getContainer(!0):null,h=$(window).outerHeight(),p=Math.round(o/h*100*100)/100;if(null===d&&p>b.I_TOUCH_SWIPE_EDGE_LIMIT&&(p=b.I_TOUCH_SWIPE_EDGE_LIMIT),null===f&&p<-b.I_TOUCH_SWIPE_EDGE_LIMIT&&(p=-b.I_TOUCH_SWIPE_EDGE_LIMIT),d)d.css({top:p-100+"%",bottom:""}),t.$closeSwipePrevIcf.css({background:"none"}),t.$closeSwipePrev.css({opacity:"",transform:"scale(1)"}).removeClass("is-visible");else if(p>=0||!t.bPrevDeltaPercNull){var _=p>=0?p:0,m=Math.floor(Math.abs(_*(100/b.I_TOUCH_SWIPE_EDGE_LIMIT)))/100;t.$closeSwipePrevIcf.css({background:1===m?"":"none"}),t.$closeSwipePrev.css({opacity:m,transform:"scale("+(Math.floor(_*(100/b.I_TOUCH_SWIPE_EDGE_LIMIT))/100*2+1)+")"}).addClass("is-visible"),t.bPrevDeltaPercNull=0===_}if(c.css({top:p+"%",bottom:""}),f)f.css({top:p+100+"%",bottom:""}),t.$closeSwipeNextIcf.css({background:"none"}),t.$closeSwipeNext.css({opacity:"",transform:"scale(1)"}).removeClass("is-visible");else if(p<=0||!this.bNextDeltaPercNull){var g=p<=0?p:0,v=Math.floor(Math.abs(g*(100/b.I_TOUCH_SWIPE_EDGE_LIMIT)))/100;t.$closeSwipeNextIcf.css({background:1===v?"":"none"}),t.$closeSwipeNext.css({opacity:v,transform:"scale("+(Math.floor(Math.abs(g*(100/b.I_TOUCH_SWIPE_EDGE_LIMIT)))/100*2+1)+")"}).addClass("is-visible"),this.bNextDeltaPercNull=0===g}t.iDeltaYPerc=p,t.isPlaying()||t.isSwiping()||t.setIsSwiping()},onTouchEnd:function(e){var t=e.data;if(t.clearTouchTimer(),!t.isSliding()&&t.bTouchStarted){t.bTouchStarted=!1,t.bTouchMoveOK=!1,t.sTouchOrientation=null;var i=(new Date).getTime()
;if(Math.abs(t.iTouchStartX-t.iTouchCurrX)<b.I_TOUCH_SWIPE_THRESHOLD_X&&Math.abs(t.iTouchStartY-t.iTouchCurrY)<b.I_TOUCH_SWIPE_THRESHOLD_Y&&Math.abs(t.iTouchStartTime-i)<b.I_CLICK_ALLOWED_TIME){if(!t.canIUseTouchSwipe())return;return t.setIsSwiping(!1),void t.playReplace("clickPrevent")}if(Math.abs(t.iTouchStartX-t.iTouchCurrX)<b.I_TOUCH_SWIPE_THRESHOLD_X&&Math.abs(t.iTouchStartY-t.iTouchCurrY)>b.I_TOUCH_SWIPE_THRESHOLD_Y&&Math.abs(t.iTouchStartTime-i)<b.I_TOUCH_SWIPE_ALLOWED_TIME){e.preventDefault(),e.stopPropagation();var n=t.iTouchStartY-t.iTouchCurrY<0?"down":"up";return t.canIUseTouchSwipe()?(t.setIsSwiping(!1),void("up"===n?(t.sendMonitoring(u.S_MONITORING_EVENT_VIEW,'next - on "touchend" event, swipe bottom to top'),t.playNext()):(t.sendMonitoring(u.S_MONITORING_EVENT_VIEW,'previous - on "touchend" event, swipe top to bottom'),t.playPrev()))):void require(["skiisContainerAdded();this.prepareContainerToBeReplaced();for(var i in this.oOptions.aSortFilters){var n=this.oOptions.aSortFilters[i];n.bActive=n.sKey===e}lVERTICAL?n=this.oOptions.oCountByOrientations.iVertical:t===l.S_ORIENTATION_HORIZONTAL);return"undefined"!=typeof this.oContainersAdded[e]&&(this.oContainersAdded[e][i]||!1)},setContainerAdded:function(e,t,i){"string"!=typeof t&&(t=this.getCurrentElementKey()),"undefined"==typeof this.oContainersAdded[t]&&(this.oCoDefault(),e.stopPropagation();var t=e.data;t.oFilterPopup.close(),t.setFilter($(this).data("key"))},onClickLoadMore:function(ORIENTATION_VERTICAL&&t.oAvailableOrientations.bVertical?l.S_ORIENTATION_VERTICAL:t.sOriginalOrientation===l.S_ORIENTATION_HORIZONTAL&&t.oAvailableOrientations.bHorizontal?l.S_tInView(n)||t.scrollTo(n,100)}),r.initContainerWithLoadedContent(),xv.oQL=r}}})}),define("skins/common/listing/dates_link_pagination",["config/main","static/ommon/history/one_info_tracker","lib/helpers/overlay/contextual_popup"],function(e,t,i,n,s,o){var a=function(){this.scroll_to_profile_shortcut($(".profiles-shortcuts a")),$(".eventslist .header .user-subscribe").each(function(){new n($(this),$(this).data("user-profile"),$(this).data("user-id")),$(this).css("display","inline-block")});var e=this;if($(".eventslist a.more").on("click",function(t){t.preventDefault(),e.show_more($(this))}).each(function(){e.update_show_more_count($(this))}),$(".eventslist a.less").on("click",function(t){t.preventDefau_page_identifier()?(s.unset("channVids_scrollPos"),s.set("channVids_pageId",this.get_page_identifier())):this.scroll_to_profile(s.get("channVids_scrollPos"));var t=!1;$(window).on("scroll",function(){!1!==t&&(clearTimeout(t),t=!1),t=setTimeout(function(){var t=!1,i=!1,n=$(window).scrollTop()+e.get_mobile_header_marge();$(".eventslist .activity-event").each(function(){i||($(this).offset().top-n>0?i=!0:t=this)}),$(t).length>0&&s.set("channVids_scrollPos",$(t).data("profile"))},500)})}var i=!1;$(window).on("resize",function(){!1!==i&&(clearTimeout(i),i=!1),i=setTimeout(function(){$(".eventslist a.more").each(function(){e.update_show_more_count($(this))})},500)})};return a.prototype={geteturn xv.conf.data.premium_listing_timerange+"_"+xv.conf.data.premium_listing_current_page},get_mobile_header_marge:function(){return xv.header.is_mobile()?48:8},scroll_to_profile:function(e){if("string"==typeof e&&e.length>0){var t=$(".eventslist .activity-event[data-profile="+e+"]").first(),i=this;t.length>0&&$("html, body").scrollTop(t.offset().top-i.get_mobile_header_marge())}},scroll_to_profile_shortcut:function(e){var t=this;e.each(function(){$(this).data("profile")&&$(this).on("click",function(e){e.preventDefault(),t.scroll_to_profile($(this).data("profile"))})})},show_more:function(n){var s=n.data("next-page"),a=n.parents(".activity-event"),r=!n.hasClass("first-load")&&a.hasClass("show-less");if(!s||r)return this.show_more_min(n),!1;var l=i.getSafe("after"," "+e.__("loading.loading")).getNode().insertAfter(n),u=this;$.post(s,function(i){if(!i.result)return void o.alert('<strong class="text-danger">'+e.__("misc.loading_failed")+"</strong>");if(i.result){var s=$(t.replaceThumbcast(i.html.replace(/\\'/gi,"'")));a.find(".mozaique").children(".thumb-block").not(".show-more-less-vids").last().after(s),t.executePendingPrepare(a.find(".thumb-block")),s.addClass("extra-thumb-block")}n.removeClass("first-load"),i.next_page?n.data("next-page",i.next_page):n.data("next-page",!1).addClass("no-more-to-load").off("click").on("click",function(e){e.preventDefault(),u.show_more_min($(this))}),a.removeClass("show-less");var r=parseInt(a.data("total-count"));n.find(".count").html(r-a.find(".thumb-block:visible").not(".show-more-less-vids").length),u.update_show_more_count(n)},"json").fail(function(){o.alert('<strong class="text-danger">'+e.__("misc.loading_failed")+"</strong>")}).always(function(){l.remove()})},show_more_min:function(e){e.parents(".activity-event").removeClass("show-less"),this.update_show_more_count(e)},show_less_min:function(e){var t=e.parents(".activity-event").addClass("show-less"),i=Math.min(100,$(window).height()/4),n=$("html, body").scrollTop(),s=$(window).innerHeight(),o=t.offset().top;(o<n||o>n+s)&&$("html, body").scrollTop(t.offset().top-i),this.update_show_more_count(t.find("a.more"))},update_show_more_count:function(e){var t=e.parents(".activity-event"),i=parseInt(t.data("total-count"));e.find(".count").html("("+(i-t.find(".thumb-block:visible").not(".show-more-less-vids").length)+")")}},new a}),define("skins/common/mozaique/premium_tab_listing",["config/main","static/cookies","skins/common/history/one_info_tracker"],function(e,t,i){var n=functio e=this;this.bIncreased=!1,this.oProfCount={},this.aProfList=[],$(".eventslist .activity-event[data-profile]").each(function(){var t=$(this).data("order-id");e.oProfCount[t]=0,e.aProfList.push(t),$(this).find(".thumb-block a[href]").on("click",function(i){if(!0===e.bIncreased)return void(window.location.href=$(this).prop("href"));i.preventDefault(),e.bIncreased=!0,e.increase_profile_count_cookie(t),$(this).trigger("click")})})}};return n.prototype={get_mobile_header_marge:function(){return xv.header.is_mobile()?"xnxx"===e.sitename?62:48:8},scroll_to_profile:function(e){if("string"==typeof e&&e.length>0){var t=$(".eventslist "+e+"]").first(),i=this;t.length>0&&$("html, body").scrollTop(t.offset().top-i.get_mobile_header_marge())}},scroll_to_profile_shortcut:function(e){var t=this;e.each(function(){$(this).data{e.preventDefault(),t.scroll_to_profile($(this).data("profile"))})})},increase_profile_count_cookie:function(e){var n=i.get("premiumSuggestPageOrder");for($.isArray(n)||(n=[]),n.unshift(e);n.length>50;)n.pop();i.set("premiumS);for(var s in n)e=n[s],"undefined"==typeof this.oProfCount[e]&&(this.oProfCount[e]=0,this.aProfList.push(e)),this.oProfCount[e]++;var o=this;this.aProfList.sort(function(e,t){return Math.round((o.oProfCount[t]-o.oProfCount[e])/10)}),t.setLocal("premiumSuggestPageOrder",this.aProfList.join(","),432e5,"/")}},new n}),define("skins/common/mozaique/vids_list_by_channel",["config/main","skins/common/profile/sub_actions","skins/common/tracker/video_subs","skins/default/profile/subscribe/btn"],function(e,t,i,n){var s=function(){this.channels={},this.update_channels_infos_in_tb($(".mozaique"))};return s.prototype={update_channels_infos_in_tb:function(n){var s=this;if($(".thumb-block .thumb-over .sub",n).each(function(){var e=$(this).data("user-id");e&&(s.channels[e]||(s.channels[e]={sub_btn:$(this),profile:$(this).data("profile"),csrf:null,is_follower:null,is_owner:null}))}),e.dyn.login_info.is_logged&&e.dyn.login_info.profile)t.loadSubInfoListUsers(e.dyn.login_info.profile,Object.keys(this.channels),function(t){if(t.result&&t.users){for(var i in t.users)"undefined"!=typeof s.channels[i]&&(s.channels[i].is_owner=i===e.dyn.login_info.id,s.channels[i].is_follower=t.users[i].is_follower,s.channels[i].csrf=t.users[i].csrf);s.update_channels_indic_in_tb()}});else if(i.isTracking()){var o=i.getIds();for(var a in this.channels)this.channels[a].is_follower=-1!==o.indexOf(a);this.update_channels_indic_in_tb()}},update_channels_indic_in_tb:function(){for(var e in this.channels)if(this.channels[e].is_follower){var t=this;!function(){var i=e;new n($('.thumb-block .thumb-over .sub[data-user-id="'+i+'"]'),t.channels[i].profile,i,t.channels[i].csrf,t.channels[i].is_follower,t.channels[i].is_owner,{subed_icf:!1,btn_display:!1,tooltip_class:"no-arrow",end_function:function(){t.channels[i].sub_btn.removeClass("sub-checked"),setTimeout(function(){t.channels[i].sub_btn.hide()},500)}})}()}}},new s}),define("skins/default/mozaique",["lib/helpers/thumbs_rotator","lib/helpers/suggest_tracker","./header/header","skins/common/listing/dates_link_pagination"],function(){xv.conf.data.premium_listing_timerange&&require(["lib/tools","skins/default/mozaique/thumb_block_common_init","skins/common/mozaique/vids_list_by_uploader"],function(e,t){e.addPendingPrepareList(function(e){t.init_listing(e,{is_thumb_list:!0,rotator:!1})})}),xv.conf.dyn.premium_tab_listing&&require(["skins/common/mozaique/premium_tab_listing"]),$(".mozaique .thumb-block .thumb-over a .name").length>0&&require(["skins/common/mozaique/vids_list_by_channel"])}),define("skins/common/sub_suggestions/suggestBlock",["config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/popup/tooltip","lib/helpers/overlay/box","lib/helpers/thumbs/wall","lib/helpers/inline_loader","lib/helpers/scrollbar"],function(e,t,i,n,s,o,a,r,l){var u=function(e){this.oOptions={},i.initParams(this.oOptions,e,u.DEFAULT_OPTIONS),this.oEventListeners={},this.iEventListenerCount=0};return u.DEFAULT_OPTIONS={iCancelTimeout:3e3,oTemplates:{sTplThumbBlock:null,sTplPopPreview:null,sTplPopPreviewThumb:null},oUrls:{fnPopPreviewVideos:function(e,t){throw new Error('Function "oDefaultOptions.oUrls.fnPopPreviewVideos" not implemented.')},fnCustomSetUrl:null},oOnDataLoadedoUrls:{fnPopPreviewVideos:null}},u.SUGGEST_TYPE={CHANNEL_SUB:"channel",MEMBERSHIP:"membership",CATEGORY:"category"},u.REVIEW={UNREVIEWED:"ur",ADDED:"a",REJECTED:"r"},u.EVENT={REVIEW_UPDATE:"r",REVIEW_UPDATE_VALIDATED:"r_ok"},u.ACTION={SUBSCRIBE:"s",REJECT:"r"},u.buildFromJSON=function(e,t,i){return void 0===t&&(t=new u(i)),t.setId(e.i).setUserName(e.u).setDisplayName(e.d).setUrl(e.url).setCountryCode(e.c).setThumb(e.th).setUserPic(e.thp).setCsrf(e.sc).setIsPicListingTypeProfile("profile"===e.tht).setNbVideos(e.cnt.v).setNbVideosFree(e.cnt.f).setNbVideosPremium(e.cnt.m).setVideos(e.vis)},u.isValidObjectOption=function(e,t){return!!Object.keys(e).find(function(i){return e[i]===t})},u.prototype={getTplThumb:function(){if(null===this.oOptions.oTemplates.sTplThumbBlock)throw new Error('Function "sTplThumbBlock" not set');return this.oOptions.oTemplates.sTplThumbBlock}opPrevieemplates.sTplPopPreviewThumb)throw new Error('Function "sTplPopPreviewThumb" not set');return this.oOptions.oTemplates.sTplPopPreviewThumb},getPopPreviewData:function(){throw new Error('Function "getPopPreviewData" not implemented.')},setChannelActionSubAndReject:function(){throw new Error('Function "setChannelActionSubAndReject" not implemented.')},setId:function(e){return this.iId=e,this},setUserName:function(e){return this.sUserName=e,this},setDisplayName:function(e){return this.sDiunction(e){return"string"==typeof e&&"function"==typeof this.oOptions.oUrls.fnCustomSetUrl&&(e=this.oOptions.oUrls.fnCustomSetUrl(e)),this.sUrl=e,this},setCountryCode:function(e){return this.sCountryCode=e,this.sCountryCodeLower=e.toLowerCase(),this},setThumb:function(e){return this.sThumb=e,this},setUserPic:function(e){return this.sUserPic=e,this},setDisplayType:function(e){return this.sDisplayType=e,this},setReview:function(e){return this.sReview=e,this},setNbSubscribers:function(e){return this.iNbSubscribers=e,this},setNbSubscribersFormatted:function(e){return this.sNbSubscribersFormatted=e,this},setCsrf:function(e){return this.sCsrf=e,this},setIsPicListingTypeProfile:function(e){return this.bIsPicListingTypeProfile=e,this},setNbVideos:function(e){return this.iNbVideos=e,isNaN(this.iNbVideos)&&(this.iNbVideos=0),this},setNbVideosFree:function(e){return this.iNbVideosFree=e,isNaN(this.iNbVideosFree)&&(this.iNbVideosFree=0),this},setNbVideosPremium:function(e){return this.iNbVideosPremium=e,isNaN(this.iNbVideosPremium)&&(this.iNbVideosPremium=0),this},setVideos:function(e){return this.aVideos=e,this},openPopPreview:function()ta())),n=o.get(),n.setOverlayClosable(!0),n.setEscapeClosable(!0),n.addClass("auto-width-popup premium-feed-channel-preview-pop");var s=i.find(".mozaique"),u=s.find(".cover-loader"),d=!1,c=this;n.onShow=function(){$("body").addClass("premium-feed-channel-preview-opened")},n.onClose=function(){$("body").removeClass("premium-feed-channel-preview-opened"),d&&d.stop()},n.show("auto");var f=0,h=!1,p=function(n){if(!0!==h){h=!0;var o=$('<p class="loader">'+r.getIcf()+"</p>");s.append(o),$.get(c.oOptioedMore(r,i,n),o.remove(),r.result){var l=$(t.render(c.getTplPopPreviewThumb(),{video_list:r.videos}));0===f&&s.empty(),s.append(l),e.dyn.is_desktop?"default"!==e.sitename&&"xnxx"!==e.sitename||require(["skins/"+e.sitename+"/mozaique/thumb_block_common_init"],function(t){"default"===e.sitename&&t.init_listing(s,{tb_menu:!1}),"xnxx"===e.sitename&&t.init_listing(s,{tb_menu:!1,premium_redirect_alert:!1})}):d?l.find(".thumb img").each(function(){d.addThumb(this)}):d=new a(s),r.nb_remaining>0?f++:f=!1,h=!1}},"json")}},_=i.find(".channel-actions"),m=_.find(".sub"),g=_.find(".reject");m.on("click",function(){n.close(),c.$addBtn.click()}),g.on("click",function(){n.close(),c.$rejectBtn.click()}),p(!0),new l({oOptions:{$Container:s,sMode:l.S_MODE_VERTICAL},oListeners:{fnOnScroll:function(e){u&&u.length&&u.css("top",e.oVertical.iScroll),"number"==typeof f&&e.oVertical.iScrollInvert<20&&p()}}})},onPopPreviewLoadedMore:function(e,t,i){},getId:function(){return this.iId},getReview:function(){return this.sReview},getDisplayName:function(){return this.sDisplayName},renderThumb:function(){return this.$render?this.$render:(this.$render=$(t.render(this.getTplThumb(),this.getTplData())),this.initThumbEvents(),this.$render)},initThumbEvents:function(){if(this.$render&&this.$render.length){this.$renderThumbLink=this.$render.find(".thumb a"),this.$addBtn=this.$render.find(".sub"),this.$addBtnLabel=this.$addBtn.find(".label"),this.$rejectBtn=this.$render.find(".reject"),this.$rejectBtnLabel=this.$rejectBtn.find(".label");var e=this;this.$renderThumbLink.on("click",function(t){t.preventDefault(),e.openPopPreview()}),this.setChannelActionSubAndReject()}},getTplData:function(){return{sUserName:this.sUserName,sDisplayName:this.sDisplayName,sUrl:this.sUrl,sThumb:this.sThumb,sUserPic:this.sUserPic,bIsPicListingTypeProfile:this.bIsPicListingTypeProfile,sNbVideosVal:this.iNbVideosPremium?n.__(1===this.iNbVideosPremium?"misc.one_video":"misc.nb_videos",{"%count%":this.iNbVideosPremium.toLocaleSosPremium.toLocaleString(e.ingTypeProfile?"/v3/img/skins/default/profile_default_big.jpg":"/v3/img/skins/"+("xnxx"===e.sitenafilPic:e.domains["statw:n.__("misc.click_preview"),sSubot_interested"),sAdd:n.__("mise,t){t="string"==typeof tip.setButton(e),this.oTooltip.setContent(t)):(this.oTooltip=new s,this.oTooltip.create(t,e,{})),this.oTooltip.open()},onEvent:function(e,t,i){if(!u.isValidObjectOption(u.EVENT,e))throw new Error('onEvent "'+e+'" not a valide Event.');"undefined"==typeof this.oEventListeners[e]&&(this.oEventListeners[e]={}),this.iEventListenerCount++,"string"==typeof i&&i.length||(i="callback_"+this.iEventListenerCount),this.oEventListeners[e][i]=t},removeEvent:function(e,t){"undefined"!=typeof this.oEventListeners[e]&&"undefined"!=typeof this.oEventListeners[e][t]&&delete this.oEventListeners[e][t]},triggerEvent:function(e){if("undefined"!=typeof this.oEventListeners[e])for(var t in this.oEventListeners[e])this.oEventListeners[e][t](this)}},u}),define("text!skins/unction(){return"<div class=\"cover-loader\"><span class='icon-f icf-spinner icf-anim-pulse'></span></div>"}),define("skins/common/sub_suggestions/suggestList",["./suggestBlock","config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/scrollbar","text!skins/common/premium_feed/cover_loader.mustache"],function(e,t,i,n,s,o,a){var r=function(e){this.oOptions={},n.initParamssetMozaiqueCountLimit(this.getMozaiqueInfiniteCountLimit()),this.setMozaiqueDivClass(""),this.bIsLoadMaxReached=!1,this.bIsLoadError=!1,this.iSuggestRenderAdded=0,this.iCurrentSuggis.iMozChannelLoadedIdsSent=0,this.oEventListeners={},this.iEventListenerCount=0,this.sLastReview=null,this.sLastValidatedReviewrn r.DEFAULT_OPTIONS={bDisplay2RowsWhenReview:!1,bAutoLoadMoreOnScrollDisplay:!0,oUrls:{sLoad:"/feed/channels",fnCustomSetBlockUrl:null},oTemplates:{sTplThumbBlock:null,sTplPopPreview:null,sTplPopPreviewThumb:null},oThumbsCount:{640:{iMinWidth:0,iMaxWidth:640,iColsCount:2,bCanDisplay2Rows:!0},767:{iMinWidth:641,iMaxWidth:767,iColsCount:3,bCanDisplay2Rows:!0},1023:{iMinWidth:768,iMaxWidth:1023,iColsCount:4},1339:{iMinWidth:1024,iMaxWidth:1339,iColsCount:5},1899:{iMinWidth:1340,iMaxWidth:1899,iColsCount:6},"default":{iMinWidth:1900,iColsCount:7},infinite:{iColsCount:20}}},r.EVENT={LOADED:"l_ok",REVIEW_UPDATE:"r",REVIEW_UPDATE_VALIDATED:"r_ok"},r.S_DEFAULT_MOZAIQUE_DIV_CLASS="suggest-list mozaique thumbs-5-cols",r.prototype={getDebugColor:function(){return"SuggestListChannel"===this.constructor.namstructor.name?"color:deepskyblue;":"color:lightgreen;"},getUser:function(e){var t=this.oSuggests[e];return void 0!==t?t:null},addSuggest:function(t){this.aSuggests.push(t);var i=this;return t.onEvent(e.EVENT.REVIEW_UPDATE_VALIDATED,function(e){i.onSuggestBlockReviewValidated(e)}),t.onEvent(e.EVENT.REVIEW_UPDATE,function(e){i.onSuggestBlockReviewUpdate(e)}),t},getLoadedSuggestIds:function(){var e=[];for(var t in this.aSuggests){var i=this.aSuggests[t];e.push(i.getId())}return e},load:function(e){var t=this,i=this.getLoadedSuggestIds();"function"==typeof e&&this.onEvent(r.EVENT.LOADED,e,null,!0);var n=i.reduce(function(e,t){return e+t},0);if(this.isMozaiqueToLoading()){if(this.iMozChannelLoadedIdsSent===n)return;"undefined"!=typeof this.xChannelCall&&"function"==typeof this.xChannelCall.abort&&this.xChannelCall.abort()}this.iMozChannelLoadedIdsSent=n,this.setMozaiqueToLoading(),this.xChannelCall=$.post({url:this.oOptions.oUrls.sLoad,data:{ids:i},complete:function(){t.unsetMozaiqueToLoading()},success:function(e){e.result&&(e.data&&"object"==typeof e.data?t.onMainDataLoad(e.data):t.setMozaiqueToLoadError(),t.triggerEvent(r.EVENT.LOADED))},error:function(e){if(!e||"abort"!==e.statusText){t.iAjaxErrorsCount++,console.log("%c Loading channels - Ajax ERROR","color:red;","iAjaxErrorsCount : "+t.iAjaxErrorsCount,e);t.iAjaxErrorsCount<2?(console.log("%c Trying again","color:red;"),setTimeout(function(){t.load()},500)):(t.setMozaiqueToLoadError(),console.log("%c Loading channels - Too many Ajax ERROR","color:red;",2))}},dataType:"json"})},resetAndLoad:function(e){this.aSuggests=[],this.emptySuggestToMozaique();var t=this;this.load(function(){t.triggerEvent(r.EVENT.REVIEW_UPDATE),t.triggerEvent(r.EVENT.REVIEW_UPDATE_VALIDATED),"function"==typeof e&&e()})},canLoadMore:function(){return!this.bIsLoadMaxReached&&!this.bIsLoadError},onMainDataLoad:function(e){throw new Error('Function "onMainDataLoad" not implemented.')},buildSuggestFromJSON:function(t,i,n){if(i||"object"==typeof i||(i={}),this.oOptions.oTemplates){"object"!=typeof i.oTemplates&&(i.oTemplates={});for(var s in this.oOptions.oTemplates)null!==this.oOptions.oTemplates[s]&&(i.oTemplates[s]=this.oOptions.oTemplates[s])}return this.oOptions.oUrls&&this.oOptions.oUrls.fnCustomSetBlockUrl&&("object"!=typeof i.oUrls&&(i.oUrls={}),i.oUrls.fnCustomSetUrl=this.oOptions.oUrls.fnCustomSetBlockUrl),void 0===n&&(n=e),n.buildFromJSON(t,i)},render:function(){throw new Error('Function "render" not implemented.')},renderMozaique:function(){if(this.$mozaique)return this.$mozaique;var e=this.getMozaiqueDivClass();return e=e&&e.length?" class='"+e+"'":"",this.$mozaique=$("<div"+e+"></div>"),this.fillMozaique(),this.$mozaique},renderWithDefaultLimit:function(){return this.setMozaiqueCountLimit(this.getMozaiqueCurrentSizeCountLimit()),this.render()},renderWithSideScroll:function(){if(this.$render)return this.$render;this.setMozaiqueCountLimit(this.getMozaiqueInfiniteCountLimit()),this.render();var e=this.renderMozaique(),t=this,i={oOptions:{$Container:e,sMode:o.S_MODE_HORIZONTAL,bCanMouseGrabToScroll:!0}};return this.oOptions.bAutoLoadMoreOnScrollDisplay&&(i.oListeners={fnOnScroll:function(e){var i=e.oHorizontal.iScrollSize+"-"+e.oHorizontal.iScroll+"-"+e.oHorizontal.iScrollInvert;t.sLastScrollKey!==i&&(e.oHorizontal.iSize>20&&e.oHorizontal.iScrollInvert<20&&!t.bFillMozaiqueRequested&&t.loadAndFillMozaique(),t.sLastScrollKey=i)}}),new o(i),this.bIsScrollDisplay=!0,this.$render},setRender2Rows:function(){if(this.oOptions.bDisplay2RowsWhenReview&&this.canCurrentWidthHave2Rows()&&!this.bIs2RowsDisplayed){this.bIs2RowsDisplayed=!0;var e=this.renderMozaique(),t=2*(e.outerHeight()+1);e.css({height:t,"max-height":t}),e.addClass("suggest-list-2-rows");var i=this.getMozaiqueCurrentSizeConfig();(!this.bIsScrollDisplay||this.iColsCountLimit<2*i.iColsCount)&&(this.setMozaiqueCountLimit(2*i.iColsCount),this.fillMozaique())}},fillMozaique:function(){if(this.canLoadMore()){if(!this.hasNextSuggestLoaded())return void this.loadAndFillMozaique();for(this.oOptions.bAutoLoadMoreOnScrollDisplay&&this.bIsScrollDisplay&&this.iSuggestRenderAdded>=this.iColsCountLimit&&(this.iSuggestRenderAdded=0);this.iSuggestRenderAdded<this.iColsCountLimit;){var e=this.getNextSuggest();if(null===e){this.loadAndFillMozaique();break}var t=e.renderThumb();t&&t.length&&this.appendSuggestToMozaique(t)}}},loadAndFillMozaique:function(){if(!this.bFillMozaiqueRequested){this.bFillMozaiqueRequested=!0;var e=this;this.load(function(){e.bFillMozaiqueRequested=!1,e.fillMozaique()})}},appendSuggestToMozaique:function(e){this.$mozaique.append(e),this.iSuggestRenderAdded++},removeSuggestToMozaique:function(e){e.remove(),this.iSuggestRenderAdded--},emptySuggestToMozaique:function(){this.$mozaique.empty(),this.iSuggestRenderAdded=0},setMozaiqueCountLimit:function(e){this.iColsCountLimit="number"==typeof e&&e>0?e:null},getMozaiqueCurrentSizeCountLimit:function(){return this.getMozaiqueCurrentSizeConfig().iColsCount},getMozaiqueInfiniteCountLimit:function(){return this.oOptions.oThumbsCount.infinite.iColsCount},canCurrentWidthHave2Rows:function(){return!!this.getMozaiqueCurrentSizeConfig().bCanDisplay2Rows},getMozaiqueCurrentSizeConfig:function(){var e=null,t=$(window).outerWidth();for(var i in this.oOptions.oThumbsCount){var n=this.oOptions.oThumbsCount[i];"infinite"!==i&&("number"!=typeof n.iMaxWidth||t<=n.iMaxWidth)&&("number"!=typeof n.iMinWidth||t>=n.iMinWidth)&&(e=i)}return this.oOptions.oThumbsCount[null!==e?e:"default"]},getMozaiqueDivClass:function(){return"undefined"!=typeof this.sMozaiqueDivClass?this.sMozaiqueDivClass:r.S_DEFAULT_MOZAIQUE_DIV_CLASS},setMozaiqueDivClass:function(e,t){"string"==typeof e?(this.sMozaiqueDivClass=e.trim(),!0!==t&&(this.sMozaiqueDivClass+=" "+r.S_DEFAULT_MOZAIQUE_DIV_CLASS)):this.sMozaiqueDivClass=!0===t?"":r.S_DEFAULT_MOZAIQUE_DIV_CLASS,this.sMozaiqueDivClass=this.sMozaiqueDivClass.trim()},isMozaiqueToLoading:function(){return!0===this.bMozaiqueIsLoading},setMozaiqueToLoading:function(){this.isMozaiqueToLoading()||(this.bMozaiqueIsLoading=!0,this.$mozaique&&(this.$mozaiqueLoader||(this.$mozaiqueLoader=this.getALoader()),this.$mozaique.append(this.$mozaiqueLoader)))},unsetMozaiqueToLoading:function(){this.isMozaiqueToLoading()&&(this.bMozaiqueIsLoading=!1,this.$mozaiqueLoader&&this.$mozaiqueLoader.remove())},getMozaiqueErrorMessage:function(){return s.__("loading.error")},setMozaiqueToLoadError:function(){this.bIsLoadError=!0,this.$mozaique&&this.$mozaique.append($('<p class="suggest-list-error">'+this.getMozaiqueErrorMessage()+"</p>"))},getALoader:function(){return $(i.render(a))},getNextSuggest:function(e){if(!this.hasNextSuggestLoaded()){if("function"==typeof e)if(this.canLoadMore()){var t=this;this.load(function(){e(t.getNextSuggest())})}else e(null);else this.canLoadMore()&&this.load();return null}this.iCurrentSuggestPointer++;var i=this.aSuggests[this.iCurrentSuggestPointer];return"function"==typeof e&&e(i),i},hasNextSuggestLoaded:function(){return!!this.aSuggests.length&&this.iCurrentSuggestPointer+1<this.aSuggests.length},replaceUserRender:function(t,i){var n=t.renderThumb();if(i instanceof e){var s=i.renderThumb();n.replaceWith(s)}else this.removeSuggestToMozaique($render)},onEvent:function(e,t,i,n){if(!this.isValidEvent(e))throw new Error('onEvent "'+e+'" not a valide Event.');"undefined"==typeof this.oEventListeners[e]&&(this.oEventListeners[e]={}),this.iEventListenerCount++,"string"==typeof i&&i.length||(i="callback_"+this.iEventListenerCount),this.oEventListeners[e][i]={fnCallback:t,bClearWhenCalled:!!n}},isValidEvent:function(t){return e.isValidObjectOption(r.EVENT,t)},removeEvent:function(e,t){"undefined"!=typeof this.oEventListeners[e]&&"undefined"!=typeof this.oEventListeners[e][t]&&delete this.oEventListeners[e][t]},triggerEvent:function(e){if("undefined"!=typeof this.oEventListeners[e])for(var t in this.oEventListeners[e])this.oEventListeners[e][t].fnCallback(this),this.oEventListeners[e][t].bClearWhenCalled&&this.removeEvent(e,t)},onSuggestBlockReviewUpdate:function(e){this.sLastReview=e.getReview(),this.triggerEvent(r.EVENT.REVIEW_UPDATE)},onSuggestBlockReviewValidated:function(e){this.sLastValidatedReview=e.getReview(),this.triggerEvent(r.EVENT.REVIEW_UPDATE_VALIDATED)}},r}),define("text!skins/common/sub_suggestions/suggestBlock/thumb_channel.mustache",[],function(){return'<div id="profile_{{ sUserName }}" class="thumb-block thumb-block-premium-feed-channel">\n\t<div class="thumb-inside">\n\t\t<div class="thumb">\n\t\t\t<a href="{{ sUrl }}">\n\t\t\t\t<img src="{{ sThumb }}" id="pic_{{ sUserName }}"{{#bIsPicListingTypeProfile}} class="profile-pic"{{/bIsPicListingTypeProfile}} onerror="this.src=\'{{ sDefaultThumbPic }}\'; this.onerror=null;"/>\n\t\t\t\t<span class="profile-name">{{{ sDisplayName }}}</span>\n\t\t\t\t{{#sNbVideosVal}}\n\t\t\t\t\t<span class="profile-counts">{{{ sNbVideosVal }}}</span>\n\t\t\t\t{{/sNbVideosVal}}\n\t\t\t\t<span class="profile-hover">\n                    <span class="label">\n\t                    <span class="icon-f icf-eye"></span>\n\t                    {{{ sClickPreview }}}\n                    </span>\n                </span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\t<div class="thumb-under">\n\t\t{{#sUserPic}}\n\t\t\t<img class="profile-pic" src="{{ sUserPic }}" onerror="this.src=\'{{ sDefaultProfilPic }}\'; this.onerror=null;">\n\t\t{{/sUserPic}}\n\t\t<p class="channel-actions">\n\t\t\t<button class="btn btn-ticket sub" type="button">\n\t\t\t\t<span class="icf-ticket-left-side"><span class="icon-f icf-ticket-wide"></span></span>\n\t\t\t\t<span class="icf-ticket-right-side"><span class="icon-f icf-ticket-wide"></span></span>\n\t\t\t\t<span class="label">{{{ sSubscribe }}}</span>\n\t\t\t</button>\n\t\t\t<button class="btn btn-default reject" type="button">\n\t\t\t\t<span class="label"><span class="icon-f icf-ban mobile-only-hide"></span> {{{ sNotInterested }}}</span>\n\t\t\t\t<span class="ticket-rip"></span>\n\t\t\t</button>\n\t\t</p>\n\t</div>\n</div>'}),define("text!skins/common/premium_feed/channel_preview.mustache",[],function(){return'<div class="channel-preview-header{{#membership_info.nb_videos}} with-membership-info{{/membership_info.nb_videos}}">\n\t<div class="prof-pic-n-page-link{{#channel_pic_src}} with-pic{{/channel_pic_src}}">\n\t\t{{#channel_pic_src}}\n\t\t\t<img src="{{{ channel_pic_src }}}" alt="" class="profile-pic" />\n\t\t{{/channel_pic_src}}\n\t\t<a href="{{{ href }}}" title="{{{ channel_page_title }}}" class="btn btn-default page-link" target="_blank">{{{ channel_page }}}</a>\n\t</div>\n\n\t<h2>\n\t\t<span class="label">{{{ channel_title }}}</span>\n\t</h2>\n\t{{#membership_info.nb_videos}}\n\t\t<div class="membership-info">\n\t\t\t<span class="icon-f icf-bar-chart"></span>\n\t\t\t<div class="membership-info-videos">\n\t\t\t\t<p><span class="icon-f icf-crown"></span> <span class="nb-videos">{{{membership_info.nb_videos}}}</span></p>\n\t\t\t\t<p><span class="icon-f icf-lock"></span> <span class="no-access">{{{membership_info.nb_videos_no_access}}}</span></p>\n\t\t\t</div>\n\t\t\t<div class="membership-info-other">\n\t\t\t\t<p><span class="icon-f icf-play-square-o"></span> {{{membership_info.last_update}}}</p>\n\t\t\t\t<p><span class="icon-f icf-comments-o"></span> {{{membership_info.last_chat}}}</p>\n\t\t\t</div>\n\t\t\t<div class="membership-info-detail">\n\t\t\t\t<span class="icon-f icf-question-circle-o info"></span>\n\t\t\t\t<div class="membership-info-detail-hover">\n\t\t\t\t\t<span class="icon-f icf-close-thin close"></span>\n\t\t\t\t\t<p><span class="icon-f icf-crown"></span> <span class="membership-info-detail-videos">{{{membership_info.detail_videos}}}</span></p>\n\t\t\t\t\t<p><span class="icon-f icf-lock"></span> <span class="membership-info-detail-no-access">{{{membership_info.detail_no_access}}}</span></p>\n\t\t\t\t\t<p><span class="icon-f icf-play-square-o"></span> {{{membership_info.detail_last_update}}}</p>\n\t\t\t\t\t<p><span class="icon-f icf-comments-o"></span> {{{membership_info.detail_last_chat}}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t{{/membership_info.nb_videos}}\n\n\t<p class="channel-actions">\n\t\t<button class="{{{ sub_btn_class }}}" type="button">{{{ sub_btn }}}</button>\n\t\t<button class="{{{ reject_btn_class }}}" type="button">{{{ reject_btn }}}</button>\n\t</p>\n</div>\n\n<div class="mozaique-container">\n\t<div class="mozaique thumbs-2-cols">\n\t\t{{{ mozaique }}}\n\t\t{{{ cover_loader }}}\n\t</div>\n</div>'}),define("text!skins/common/premium_feed/channel_preview_mozaique_tbs.mustache",[],function(){return'{{#video_list}}\n\t<div id="video_{{{ id }}}_channel_preview" data-id="{{{ id }}}" class="thumb-block">\n\t\t<div class="thumb-inside">\n\t\t\t<div class="thumb">\n\t\t\t\t<a href="{{{ url }}}" target="_blank">\n\t\t\t\t\t<img src="{{{ img }}}{{{ thumb }}}" data-idcdn="10" data-videoid="{{{ id }}}" id="pic_{{{ id }}}" />\n\t\t\t\t\t<span class="video-title">{{{ title }}}</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/video_list}}'}),define("skins/common/sub_suggestions/suggestBlock/suggestChannel",["../suggestBlock","config/main","mustache","lib/tools","lib/i18n!front","skins/common/profile/sub_actions","text!./thumb_channel.mustache","text!skins/common/premium_feed/channel_preview.mustache","text!skins/common/premium_feed/channel_preview_mozaique_tbs.mustache","text!skins/common/premium_feed/cover_loader.mustache"],function(e,t,i,n,s,o,a,r,l,u){var d=function(t){e.apply(this,[t]),n.initParams(this.oOptions,t,d.DEFAULT_OPTIONS)};return d.DEFAULT_OPTIONS={oTemplates:{sTplThumbBlock:a,sTplPopPreview:r,sTplPopPreviewThumb:l},oUrls:{fnPopPreviewVideos:function(e,t){return"/feed/channels/"+e.iId+"/videos/"+t}}},d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.buildFromJSON=function(t,i){var n=e.buildFromJSON(t,new d(i),i);return n.setNbSubscribers(t.cnt.s).setNbSubscribersFormatted(t.cnt.sf),n},d.prototype.getPopPreviewData=function(){return{channel_pic_src:this.sUserPic,channel_title:this.sDisplayName,mozaique:i.render(this.getTplPopPreviewThumb(),{video_list:this.aVideos}),cover_loader:i.render(u),href:this.sUrl,sub_btn_class:this.$addBtn.prop("class"),reject_btn_class:this.$rejectBtn.prop("class"),sub_btn:this.$addBtn.html(),reject_btn:this.$rejectBtn.html(),channel_page_title:s.__("profile.channel_page"),channel_page:s.__("profile.channel_page")}},d.prototype.setChannelActionSubAndReject=function(){this.tCancelTimeout&&(clearTimeout(this.tCancelTimeout),this.tCancelTimeout=null),this.sSubBtnLabelSave&&(this.$addBtnLabel.html(this.sSubBtnLabelSave),this.sSubBtnLabelSave=!1),this.sRejectBtnLabelSave&&(this.$rejectBtnLabel.html(this.sRejectBtnLabelSave),this.sRejectBtnLabelSave=!1);var e=this;this.$addBtn.off("click").removeClass("loading").css("opacity","1").on("click",function(t){t.preventDefault(),e.sub()}),this.$rejectBtn.off("click").removeClass("loading").css("opacity","1").on("click",function(t){t.preventDefault(),e.reject()})},d.prototype.sub=function(){var t=this,i=function(e){t.setTooltip(t.$addBtn,e.message)};o.follow(t.sUserName,t.sCsrf,function(){t.setReview(e.REVIEW.ADDED),t.triggerEvent(e.EVENT.REVIEW_UPDATE),t.setChannelActionsCancel(e.ACTION.SUBSCRIBE)},i)},d.prototype.reject=function(){var t=this,i=function(e){t.setTooltip(t.$rejectBtn,e.message)};o.reject(t.sUserName,t.sCsrf,function(){t.setReview(e.REVIEW.REJECTED),t.triggerEvent(e.EVENT.REVIEW_UPDATE),t.setChannelActionsCancel(e.ACTION.REJECT)},i)},d.prototype.setChannelActionsCancel=function(t){if(this.sCancellableAction=t,this.$addBtn&&0!==this.$addBtn.length&&this.$rejectBtn&&0!==this.$rejectBtn.length){this.$renderThumbLink.off("click").on("click",function(e){e.preventDefault()});var i,n,a;this.sCancellableAction===e.ACTION.SUBSCRIBE?(this.sSubBtnLabelSave=this.$addBtnLabel.html(),i=this.$addBtn,n=this.$addBtnLabel,a=this.$rejectBtn):(this.sRejectBtnLabelSave=this.$rejectBtnLabel.html(),i=this.$rejectBtn,n=this.$rejectBtnLabel,a=this.$addBtn),a.off("click").css({opaw(e.REVIEW.UNREVIEWED),r.triggerEvent(e.EVENT.REVIEW_UPDATE),o.unfollow(r.sUserName,r.sCsrf,function(){r.setChannelActionSubAndReject()})}),this.tCancelTimeout=setTimeout(function(){r.tCancelTimeout=null,r.triggerEvent(e.EVENT.REVIEW_UPDATE_VALIDATED)},this.oOptions.iCancelTimeout)}},d}),define("text!skins/common/subeturn'<div class="suggest-list-block">\n\t{{#has_suggests_title}}\n\t\t<h3 class="suggest-list-title">\n\t\t\t<span class="title">{{{ suggests_title }}}</span>\n\t\t\t<span class="added-removed">{{{ added_removed_total }}}</span>\n\t\t</h3>\n\t{{/has_suggests_title}}\n\t{{! mozaique }}\n</div>'}),define("skins/common/sub_suggestions/suggestList/suggestListChannel",["../suggestList","../suggestBlock","../suggestBlock/suggestChannel","config/main","mustache","lib/tools","lib/i18n!front","skins/common/profile/sub_overlay","text!./suggestListChannel.mustache"],function(e,t,i,n,s,o,a,r,l){var u=function(i){e.apply(this,[i]),o.initParams(this.oOptions,i,u.DEFAULT_OPTIONS),this.oSuggestsReview={},this.oSuggestsCount={};for(var n in t.REVIEW)this.oSuggestsCount[t.REVIEW[n]]=0};return u.DEFAULT_OPTIONS={bShowTitleAndCounters:!0,bUseAnimations:!0,bDisplay2RowsWhenReview:!0,oTemplates:{sTplList:l},oUrls:{sLoad:"/feed/channels",sListAdded:"/account/subscriptions/channels",sListRejected:"/account/subscriptions/not-interested"}},u.EVENT={},u.prototype=Object.create(e.prototype),u.prototype.constructor=u,u.prototype.onMainDataLoad=function(e){if(this.setReviewCount(t.REVIEW.ADDED,"number"==typeof e.nb_chans_added?e.nb_chans_added:0),this.setReviewCount(t.REVIEW.REJECTED,"number"==typeof e.nb_chans_rejected?e.nb_chans_rejected:0),this.setReviewCount(t.REVIEW.UNREVIEWED,"number"==typeof e.nb_chans_disp?e.nb_chans_disp:0),this.updateReviewRenderCounts(),e.subs&&e.subs.length)for(var i in e.subs)this.addSuggest(this.buildSuggestFromJSON(e.subs[i]));else this.bIsLoadMaxReached=!0},u.prototype.buildSuggestFromJSON=function(n,s){var o=e.prototype.buildSuggestFromJSON.apply(this,[n,s,i]);return o.setReview(t.REVIEW.UNREVIEWED),o},u.prototype.addSuggest=function(t){return this.updateReviewCounts(t),e.prototype.addSuggest.apply(this,[t])},u.prototype.updateReviewCounts=function(e){var t=this.oSuggestsReview[e.getId()],i=e.getReview();if(!this.isValidReview(i))throw new Error('SuggestListChannel updateReviewCounts "'+i+'" not a valide Review State.');if("string"==typeof t){if(t===i)return;this.oSuggestsCount[t]--,this.oSuggestsCount[i]++}this.oSuggestsReview[e.getId()]=i},u.prototype.getTplList=function(){if(null===this.oOptions.oTemplates.sTplList)throw new Error('Function "sTplList" not set');return this.oOptions.oTemplates.sTplList},u.prototype.render=function(){if(this.$render)return this.$render
;var t=this.oOptions.bShowTitleAndCounters,i=t?0===this.countUnreviewed()?a.__("xnxx"===n.siteName?"premium_feed.here_some_uploaders":"premium_feed.here_some_channels"):a.__("xnxx"===n.siteName?"premium_feed.uploaders_left_to_review"ed-nb-channels-unreviewed">'+this.countUtrong>"}):"",o=t?a.__("xnxx"===n.siteName?"":"premium_feed.channels_added_removed_total",{"%link_added%":'<a href="'+this.oOptions.oUrls.sListAdded+'" class="suggest-list-added">',"%link_removed%":'<a href="'+this.oOptions.oUrls.sListRejected+'" class="suggest-list-rejected">',"%link_end%":"</a>","%nb_added%":'<strong class="suggest-list-added-count">'+this.countAdded(!0)+"</strong>","%nb_removed%":'<strong class="suggest-list-rejected-count">'+this.countRejected(!0)+"</strong>","%nb_total%":'<strong class="suggest-list-total-count">'+this.countTotal(!0)+"</strong>"},"xnxx"===n.siteName?"%link_added%<span class='icon-f icf-plus-circle'></span> %nb_added%%link_end% / %link_removed%<span class='icon-f icf-minus-circle'></span> %nb_removed%%link_end%":""):"";this.$render=$(s.render(this.getTplList(),{has_suggests_title:t,suggests_title:i,added_removed_total:o})),this.$addedChannels=this.$render.find(".suggest-list-added"),this.$rejectedChannels=this.$render.find(".suggest-list-rejected");var l=this;this.$addedChannels&&this.$addedChannels.length&&this.$addedChannels.on("click",function(e){e.preventDefault(),r.setOverlay({sUrl:l.oOptions.oUrls.sListAdded,fnOnListUpdate:function(){l.resetAndLoad()}})}),this.$rejectedChannels&&this.$rejectedChannels.length&&this.$rejectedChannels.on("click",function(e){e.preventDefault(),r.setOverlay({sUrl:l.oOptions.oUrls.sListRejected,fnOnListUpdate:function(){l.resetAndLoad()}})}),this.$countAddedChannels=this.$render.find(".suggest-list-added-count"),this.$countRejectedChannels=this.$render.find(".suggest-list-rejected-count"),this.$countUnreviewedChannels=this.$render.find(".feed-nb-channels-unreviewed"),this.$countTotalChannels=this.$render.find(".suggest-list-total-count"),this.onEvent(e.EVENT.REVIEW_UPDATE_VALIDATED,function(){l.updateReviewRenderCounts()},"callback_updateRenderReviewCount");var u=this.renderMozaique(this);return this.$render.append(u),this.$render},u.prototype.updateReviewRenderCounts=function(){this.$countAddedChannels&&this.$countAddedChannels.length&&this.$countAddedChannels.html(this.countAdded()),this.$countRejectedChannels&&this.$countRejectedChannels.length&&this.$countRejectedChannels.html(this.countRejected()),thisotf(!this.isValidRew State.');this.od=function(e){var i=this.oSuggestsCount[t.REVIEW.ADDED];return e?i.toLocaleString(n.dyn.locale):i},u.prototype.countRejected=function(e){var i=this.oSuggestsCount[t.REVIEW.REJECTED];return e?i.toLocaleString(n.dyn.locale):i},u.prototype.countUnreviewed=function(e){var i=this.oSuggestsCount[t.REVIEW.UNREVIEWED];return e?i.toLocaleString(n.dyn.locale):i},u.prototype.countTotal=function(e){var t=0;for(var i in this.oSuggestsCount)t+=this.oSuggestsCount[i];return e?t.toLocaleString(n.dyn.locale):t},u.prototype.isValidReview=function(e){return t.isValidObjectOption(t.REVIEW,e)},u.prototype.isValidEvent=function(i){return t.isValidObjectOption(u.EVENT,i)||e.prototype.isValidEvent.apply(this,[i])},u.prototype.getMozaiqueErrorMessage=function(){return a.__("loading.channels_suggests_error")},u.prototype.replaceUserRender=function(i,n,s){if(!this.oOptions.bShowTitleAndCounters||!this.oOptions.bUseAnimations)return e.prototype.replaceUserRender.apply(this,[i,n]);var o=i.renderThumb();o.find("*").off("click");var a=this,r=function(){a.removeSuggestToMozaique(o),"function"==typeof s&&s()};if(n instanceof t){var l=n.renderThumb();r=function(){l.css("opacity","0"),o.replaceWith(l),l.animate({opacity:1}),"function"==typeof s&&s()}}var u=i.getReview()===t.REVIEW.ADDED?this.$countAddedChannels:this.$countRejectedChannels,d=u.offset(),c=o.offset(),f=Math.round(d.left+u.outerWidth()/2-(c.left+o.outerWidth()/2)),h=Math.round(d.top+u.outerHeight()/2-(c.top+o.outerHeight()/2));o.stop().delay(200).css({position:"relative","transform-origin":"50% 50%","z-index":"2"}).animate({"data-Evol":1},{duration:500,step:function(e,t){$(this).css("transform","translate("+Math.round(f*e)+"px,"+Math.round(h*e)+"px) scale("+(1-e+.1*e)+")")},complete:r})},u.prototype.onSuggestBlockReviewUpdate=function(t){this.updateReviewCounts(t),e.prototype.onSuggestBlockReviewUpdate.apply(this,[t])},u.prototype.onSuggestBlockReviewValidated=function(t){this.updateReviewCounts(t),e.prototype.onSuggestBlockReviewValidated.apply(this,[t]);var i=this;this.getNextSuggest(function(e){i.replaceUserRender(t,e,function(){i.setRender2Rows()})})},u.prototype.getLastValidatedReview=function(){return this.sLastValidatedReview},u}),define("text!skins/common/sub_suggestions/suggestBlock/thumb_membership.mustache",[],function(){return'<div id="profile_{{ sUserName }}" class="thumb-block thumb-block-premium-feed-channel is-membership">\n\t<div class="thumb-inside">\n\t\t<div class="thumb">\n\t\t\t<a href="{{ sUrl }}">\n\t\t\t\t<img src="{{ sThumb }}" id="pic_{{ sUserName }}"{{#bIsPicListingTypeProfile}} class="profile-pic"{{/bIsP>\n\t\t\t\t<span class="profile-name">{{{ sDisplayName }}}</span>\n\t\t\t\t{{#sNbVideosVal}}\n\t\t\t\t\t<span class="profilsNbVideosVal}}\n\t\t\t\t<span class="to              <span class="label">\n\t                    <span class="icon-f icf-eye"></span>\n\t                    {{{ sClickPreview }}}\n                    </span>\n                </span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\t<div class="thumb-under">\n\t\t{{#sUserPic}}\n\t\t\t<img class="profile-pic" src="{{ sUserPic }}" onerror="this.src=\'{{ sDefaultProfilPic }}\'; this.onerror=null;">\n\t\t{{/sUserPic}}\n\t\t<p class="channel-actions">\n\t\t\t<button class="btn btn-primary sub" type="button">\n\t\t\t\t<span class="label">\n\t\t\t\t\t<span class="is-membership-mark icon-f icf-crown"></span>\n\t\t\t\t\t{{ sMonthPrice }}<sup>/{{ sMonth }}</sup>\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<button class="btn btn-default reject" type="button">\n\t\t\t\t<span class="label"><span class="icon-f icf-ban mobile-only-hide"></span/button>\n\t\t</p>\n\t</div>\n</div>'}),define("skins/common/sub_suggestions/suggestBlock/suggestMembership",["../suggestBlock","config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/overlay/box","lib/helpers/thumbs/wall","lib/helpers/inline_loader","lib/helpers/overlay/contextual_popup","skins/common/profile/sub_actions","text!./thumb_membership.mustache","text!skins/common/premium_feed/channel_preview.mustache","text!skins/common/premium_feed/channel_preview_mozaique_tbs.mustache","text!skins/common/premium_feed/cover_loader.mustache"],function(e,t,i,n,s,o,a,r,l,u,d,c,f,h){var p=function(t){e.apply(this,[t]),n.initParams(this.oOptions,t,p.DEFAULT_OPTIONS)};return p.DEFAULT_OPTIONS={sPurchaseOrigin:null,oTemplates:{sTplThumbBlock:d,sTplPopPreview:c,sTplPopPreviewThumb:f},oUrls:{fnPopPreviewVideos:function(e,t){return"/feed/channels/"+e.iId+"/membership-videos/"+t}},oOnDataLoadedoUrls:{fnPopPreviewVideos:function(e){self}}},p.prototype=Object.create(e.prototype),p.prototype.constructor=p,p.buildFromJSON=function(t,i){var n=e.buildFromJSON(t,new p(i),i);return n.setPrice(t.mbp).setDisplayPrice(t.mbnction(e){return this.iPrice="number"==typeof e?e:0,this},p.prototype.setDisplayPrice=function(e){return this.sDisplayPrice=e,this},p.prototype.setNbVideosMembership=function(e){return this.iNbVideosMembership="number"==typeof e?e:0,this},p.prototype.setNbVideosMembershipNoAcber"==typeof e?e:0,this},p.prototype.setLastUpdate=function(e){return this.sLastUpdate=e,this},p.prototype.setLastChatUpdate=function(e){return this.sLastChatUpdate=e,this},p.prototype.getTplData=function(){var t=e.prototype.getTplData.apply(this);return t.sMonthPrice=this.sDisplayPrice,t.sMonth=s.__("misc.month_l"),t},p.prototype.onPopPreviewLoadedMore=function(e,i,n){if(n){this.setLastUpdate(e.last_update),this.setLastChatUpdate(e.last_chat_activity),this.setNbVideosMembershipNoAccess(e.nb_videos_no_access),i.find(".last-update-ago").html(this.sLastUpdate),i.find(".last-chat-act-ago").html(this.sLastChatUpdate),i.find(".membership-info-videos .nb-videos").html(s.__((this.iNbVideosMembership,"misc.nb_videos"),{"%count%":"<strong>"+this.iNbVideosMembership.toLocaleString(t.dyn.locale)+"</strong>"})),i.find(".membership-info-videos .no-access").html(s.__((this.iNbVideosMembershipNoAccess,"misc.nb_videos"),{"%count%":"<strong>"+this.iNbVideosMembershipNoAccess.toLocaleString(t.dyn.locale)+"</strong>"})),i.find(".membership-info-detail-videos").html(this.iNbVideosMembership>1?s.__("video.nb_included",{"%count%":"<strong>"+this.iNbVideosMembership.toLocaleString(t.dyn.locale)+"</strong>"}):s.__("video.one_included")),i.find(".membership-info-detail-no-access").html(this.iNbVideosMembershipNoAccess>1?s.__("video.nb_not_access",{"%count%":"<strong>"+this.iNbVideosMembershipNoAccess.toLocaleString(t.dyn.locale)+"</strong>"}):1===this.iNbVideosMembershipNoAccess?s.__("video.one_not_access"):s.__("video.none_access"));var o=i.find(".membership-info-detail-hover"),a=i.find(".membership-info-detail .info"),r=null,l=null,u=function(){o.addClass("is-opened"),o.on("mouseover",function(){r&&(clearTimeout(r),r=null),l&&(clearTimeout(l),l=null)}),o.on("mouseout",function(){r&&clearTimeout(r),l&&(clearTimeout(l),l=null),r=setTimeout(function(){r=null,d()},2e3)})},d=function(){o.removeClass("is-opened"),r&&(clearTimeout(r),r=null),l&&(clearTimeout(l),l=null),o.off("mouseout mouseover")};a.on("mouseover",function(e){e.preventDefault(),l&&clearTimeout(l),l=setTimeout(function(){u()},1e3)}),a.on("mouseout",function(e){l&&(clearTimeout(l),l=null)}),a.on("click",function(e){e.preventDefault(),u()}),i.find(".membership-info-detail .close").on("click",function(e){e.preventDefault(),d()})}},p.prototype.getPopPreviewData=function(){return{channel_pic_src:this.sUserPic,channel_title:this.sDisplayName,mozaique:i.render(this.getTplPopPreviewThumb(),{video_list:this.aVideos}),cover_loader:i.render(h),href:this.sUrl,sub_btn_class:this.$addBtn.prop("class"),reject_btn_class:this.$rejectBtn.prop("class"),sub_btn:this.$addBtn.html(),reject_btn:this.$rejectBtn.html(),channel_page_title:s.__("profile.channel_page"),channel_page:s.__("profile.channel_page"),membership_info:{nb_videos:s.__("misc.nb_videos",{"%count%":"<strong>...</strong>"}),nb_videos_no_access:s.__("misc.nb_videos",{"%count%":"<strong>...</strong>"}),last_update:'<span class="last-update-ago">...</span>',last_chat:'<span class="last-chat-act-ago">...</span>',detail_videos:s.__("misc.nb_included",{"%count%":"<strong>...</strong>"}),detail_no_access:s.__("video.nb_not_access",{"%count%":"<strong>...</strong>"}),detail_last_update:s.__("misc.last_update")+' : <strong class="last-update-ago">...</strong>',detail_last_chat:s.__("profile.last_chat_activity")+' : <strong class="last-chat-act-ago">...</strong>'}}},p.prototype.initThumbEvents=function(){if(this.$render&&this.$render.length){this.$renderThumbLink=this.$render.find(".thumb a"),this.$addBtn=this.$render.find(".sub"),this.$addBtnLabel=this.$addBtn.find(".label"),this.$rejectBtn=this.$render.find(".reject"),this.$rejectBtnLabel=this.$rejectBtn.find(".label");var e=this;this.$renderThumbLink.on("click",function(t){t.preventDefault(),e.openPopPreview()}),this.setChannelActionSubAndReject()}},p.prototype.setChannelActionSubAndReject=function(){this.tCancelTimeout&&(clearTimeout(this.tCancelTimeout),this.tCancelTimeout=null),this.sSubBtnLabelSave&&(this.$addBtnLabel.html(this.sSubBtnLabelSave),this.sSubBtnLabelSave=!1),this.sRejectBtnLabelSave&&(this.$rejectBtnLabel.html(this.sRejectBtnLabelSave),this.sRejectBtnLabelSave=!1);var e=this;this.$addBtn.off("click").removeClass("loading").css("opacity","1").on("click",function(t){t.preventDefault(),e.membershipSub()}),this.$rejectBtn.off("click").removeClass("loading").css("opacity","1").on("click",function(t){t.preventDefault(),e.reject()})},p.prototype.membershipSub=function(){this.$addBtn.off("click"),this.$rejectBtn.off("click");var e=l.loading(),t=this;require(["skins/common/purchase_form/purchase_pop"],function(i){var n=new i;n.setUserId(t.getId()),"string"==typeof t.oOptions.sPurchaseOrigin&&n.setOrigin(t.oOptions.sPurchaseOrigin),n.setOnFormLoadedEnd(function(){e.close(),$(".premium-popup-form #premium-form-membership-channel").submit()}),n.setOnCloseCallback(function(){t.setChannelActionSubAndReject()}),n.open()})},p.prototype.reject=function(){var t=this,i=function(e){t.setTooltip(t.$rejectBtn,e.message)};u.rejectMembership(t.sUserName,t.sCsrf,function(){t.setReview(e.REVIEW.REJECTED),t.triggerEvent(e.EVENT.REVIEW_UPDATE),t.setChannelActionsCancel(e.ACTION.REJECT)},i)},p.prototype.setChannelActionsCancel=function(t){if(this.sCancellableAction=t,this.$addBtn&&0!==this.$addBtn.length&&this.$rejectBtn&&0!==this.$rejectBtn.length){this.$renderThumbLink.off("click").on("click",function(e){e.preventDefault()});var i,n,o;this.sCancellableAction===e.ACTION.SUBSCRIBE?(this.sSubBtnLabelSave=this.$addBtnLabel.html(),i=this.$addBtn,n=this.$addBtnLabel,o=this.$rejectBtn):(this.sRejectBtnLabelSave=this.$rejectBtnLabel.html(),i=this.$rejectBtn,n=this.$rejectBtnLabel,o=this.$addBtn),o.off("click").css({opacity:"0.5"}),n.html(s.__("misc.cancel"));var a=this;i.addClass("loading").off("click").on("click",function(){a.setReview(e.REVIEW.UNREVIEWED),a.triggerEvent(e.EVENT.REVIEW_UPDATE),u.unfollowMembership(a.sUserName,a.sCsrf,function(){a.setChannelActionSubAndReject()})}),this.tCancelTimeout=setTimeout(function(){a.tCancelTimeout=null,a.triggerEvent(e.EVENT.REVIEW_UPDATE_VALIDATED)},this.oOptions.iCancelTimeout)}},p}),define("skins/common/sub_suggestions/suggestList/suggestListMembership",["../suggestList","../suggestBlock","../suggestBlock/suggestMembership","config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/scrollbar"],function(e,t,i,n,s,o,a,r){var l=function(t){e.apply(this,[t]),o.initParams(this.oOptions,t,l.DEFAULT_OPTIONS)};return l.DEFAULT_OPTIONS={bUseAnimations:!0,sPurchaseOrigin:null,oUrls:{sLoad:"/feed/memberships"}},l.EVENT={},l.prototype=Object.create(e.prototype),l.prototype.constructor=l,l.prototype.onMainDataLoad=function(e){if(e.memberships&&e.memberships.length)for(var t in e.memberships)this.addSuggest(this.buildSuggestFromJSON(e.memberships[t]));else this.bIsLoadMaxReached=!0},l.prototype.buildSuggestFromJSON=function(t,n){return n||"object"==typeof n||(n={}),"string"==typeof this.oOptions.sPurchaseOrigin&&(n.sPurchaseOrigin=this.oOptions.sPurchaseOrigin),e.prototype.buildSuggestFromJSON.apply(this,[t,n,i])},l.prototype.render=function(){return this.$render?this.$render:(this.$render=this.renderMozaique(this),this.$render)},l.prototype.setOnListUpdate=function(e){this.fnOnListUpdate="function"==typeof e?e:null},l.prototype.getMozaiqueErrorMessage=function(){return a.__("loading.membership_suggests_error")},l.prototype.onSuggestBlockReviewValidated=function(t){e.prototype.onSuggestBlockReviewValidated.apply(this,[t]);var i=this;this.getNextSuggest(function(e){i.replaceUserRender(t,e,function(){i.canCurrentWidthHave2Rows()&&i.setRender2Rows()})})},l.prototype.replaceUserRender=function(i,n){if(!this.oOptions.bUseAnimations)return e.prototype.replaceUserRender.apply(this,[i,n]);var s=i.renderThumb(),o=this;s.find("*").off("click"),s.animate({opacity:0},function(){if(n instanceof t){var e=n.renderThumb();e.css("opacity","0"),s.replaceWith(e),e.animate({opacity:1},function(){o.setRender2Rows()})}else o.removeSuggestToMozaique(s)})},l}),define("text!skins/common/premium_feed/categories_filter_resume.mustache",[],function(){return'<div class="categories-filter-resume">\n\t<h3>{{{ title }}} <button type="button" class="btn btn-default reset"><span class="icon-f icf-close"></span> {{{ reset }}}</button></h3>\n\t<div class="row cat-list">\n\t\t<div class="col-xs-6">\n\t\t\t<button type="button" class="btn btn-lg btn-default add"><span class="icon-f icf-plus-square icf-white-fill"></span></button>\n\t\t</div>\n\t\t<div class="col-xs-6">\n\t\t\t<button type="button" class="btn btn-lg btn-default exclude"><span class="icon-f icf-minus-square icf-white-fill"></span></button>\n\t\t</div>\n\t\t{{^empty_list_text}}\n\t\t\t<div class="col-xs-6">\n\t\t\t\t{{#add_list}}\n\t\t\t\t\t<p data-id="{{{ id }}}">\n\t\t\t\t\t\t<button type="button" class="btn btn-default remove" data-id="{{{ id }}}"><span class="icon-f icf-close"></span></button>\n\t\t\t\t\t\t<span class="label">{{{ name }}}</span>\n\t\t\t\t\t</p>\n\t\t\t\t{{/add_list}}\n\t\t\t</div>\n\t\t\t<div class="col-xs-6">\n\t\t\t\t{{#exclude_list}}\n\t\t\t\t\t<p data-id="{{{ id }}}">\n\t\t\t\t\t\t<button type="button" class="btn btn-default remove" data-id="{{{ id }}}"><span class="icon-f icf-close"></span></button>\n\t\t\t\t\t\t<span class="label">{{{ name }}}</span>\n\t\t\t\t\t</p>\n\t\t\t\t{{/exclude_list}}\n\t\t\t</div>\n\t\t{{/empty_list_text}}\n\t\t{{#empty_list_text}}\n\t\t\t<p class="empty">{{{ empty_list_text }}}</p>\n\t\t{{/empty_list_text}}\n\t</div>\n\t<p class="close"><button type="button" class="btn btn-primary">{{{ ok }}}</button></p>\n</div>'}),define("text!skins/common/premium_feed/categories_filter_update_list.mustache",[],function(){return'<div class="categories-filter-update-list {{{ list_id }}}">\n\t<h3><span class="icon-f icf-minus-square icf-white-fill"></span><span class="icon-f icf-plus-square icf-white-fill"></span> {{{ title }}}</h3>\n\t<div class="row cat-list mobile-hide">\n\t\t{{#lists_3_cols}}\n\t\t<div class="col-xs-4">\n\t\t\t{{#list}}\n\t\t\t\t<p data-id="{{{ id }}}" class="{{{ status }}}">\n\t\t\t\t\t<button type="button" class="btn btn-default action" data-id="{{{ id }}}"><span class="icon-f icf-square"></span><span class="icon-f icf-minus-square"></span><span class="icon-f icf-plus-square"></span> <span class="label">{{{ name }}}</span></button>\n\t\t\t\t</p>\n\t\t\t{{/list}}\n\t\t</div>\n\t\t{{/lists_3_cols}}\n\t</div>\n\t<div class="row cat-list mobile-show">\n\t\t{{#lists_2_cols}}\n\t\t<div class="col-xs-6">\n\t\t\t{{#list}}\n\t\t\t\t<p data-id="{{{ id }}}" class="{{{ status }}}">\n\t\t\t\t\t<button type="button" class="btn btn-default action" data-id="{{{ id }}}"><span class="icon-f icf-square"></span><span class="icon-f icf-minus-square"></span><span class="icon-f icf-plus-square"></span> <span class="label">{{{ name }}}</span></button>\n\t\t\t\t</p>\n\t\t\t{{/list}}\n\t\t</div>\n\t\t{{/lists_2_cols}}\n\t</div>\n\t<p class="close"><button type="button" class="btn btn-primary">{{{ ok }}}</button></p>\n</div>'}),define("text!skins/common/premium_feed/categories_review.mustache",[],function(){return'<div class="categories-review">\n\t<h2>{{{ title }}}</h2>\n\n\t<div class="cats-row">\n\t\t{{#cols}}\n\t\t\t<div class="cats-col">\n\t\t\t\t<h3>{{{ col_title }}}</h3>\n\t\t\t\t<div class="cats{{^col_cats}} empty{{/col_cats}}">\n\t\t\t\t\t{{#col_cats}}\n\t\t\t\t\t\t<p data-id="{{{ id }}}">{{{ name }}}</p>\n\t\t\t\t\t{{/col_cats}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{{/cols}}\n\t</div>\n\n\t<button type="button" class="btn btn-primary ok">{{{ ok }}}</button>\n</div>'}),define("text!skins/common/premium_feed/category_review.mustache",[],function(){return'<div class="category-review">\n\t<h2>\n\t\t<a href="{{{ href }}}" title="{{{ category_page }}}" class="btn btn-default" target="_blank">{{{ category_page }}}</a>\n\t\t<span class="label">{{{ category_title }}}</span>\n\t</h2>\n\n\t<div class="category-actions">\n\t\t<p>\n\t\t\t<button class="btn btn-primary sub" type="button">{{{ sub_btn }}}</button>\n\t\t\t<span><span class="icon-f icf-info-circle"></span> {{{ sub_desc }}}</span>\n\t\t</p>\n\t\t<p>\n\t\t\t<button class="btn btn-primary sub-in-chan" type="button">{{{ sub_in_chan_btn }}}</button>\n\t\t\t<span><span class="icon-f icf-info-circle"></span> {{{ sub_in_chan_desc }}}</span>\n\t\t</p>\n\t\t<p>\n\t\t\t<button class="btn btn-default unsub" type="button">{{{ unsub_btn }}}</button>\n\t\t\t<span><span class="icon-f icf-info-circle"></span> {{{ unsub_desc }}}</span>\n\t\t</p>\n\t\t<p>\n\t\t\t<button class="btn btn-default reject" type="button">{{{ reject_btn }}}</button>\n\t\t\t<span><span class="icon-f icf-info-circle"></span> {{{ reject_desc }}}</span>\n\t\t</p>\n\t</div>\n\t<p>\n\t\t<button type="button" class="btn btn-default cancel">{{{ cancel }}}</button>\n\t</p>\n</div>'}),define("text!skins/common/premium_feed/containers.mustache",[],function(){return'<button id="hide-suggests" class="hide-suggests btn btn-xs btn-default">{{{ hide_suggests }}}</button>\n<div class="clearfix"></div>\n\n<div id="feed-videos-filters">\n\t<p>{{{ showing_x_vids }}}{{{ new_videos_channels }}}</p>\n\t{{{ filters }}}\n</div>\n<div id="feed-videos"></div>\n\n<button id="hide-suggests-2" class="hide-suggests btn btn-xs btn-default">{{{ hide_suggests }}}</button>\n<div class="clearfix"></div>'}),define("text!skins/common/premium_feed/free_search.mustache",[],function(){return'<div class="free-search-filter">\n\t<h3>\n\t\t<span class="icon-f icf-search"></span> {{{ title }}}\n\t</h3>\n\t<div class="input-group">\n\t\t<input type="text" class="form-control" placeholder="{{{ placeholder }}}"{{#value}} value="{{{ value }}}"{{/value}}/>\n\t\t<span class="input-group-btn">\n            <button class="btn btn-primary ok" type="button">{{{ ok }}}</button>\n        </span>\n\t</div>\n\t<p>\n\t\t<button type="button" class="btn btn-default clear"><span class="icon-f icf-trash"></span> {{{ clear }}}</button>\n\t\t<button type="button" class="btn btn-default cancel">{{{ cancel }}}</button>\n\t</p>\n</div>'}),define("text!skins/common/premium_feed/min_length_filter.mustache",[],function(){return'<div class="free-min-length-filter">\n\t<h3>\n\t\t<span class="icon-f icf-clock"></span> {{{ title }}}\n\t</h3>\n\t<div class="form-range">\n\t\t<span class="min">{{ min_label }}</span>\n\t\t<span class="max">{{ max_label }}</span>\n\t\t<input type="range" min="{{ min }}" max="{{ max }}" value="{{ value }}" step="1" />\n\t</div>\n\t<p>\n\t\t<button type="button" class="btn btn-primary ok">{{{ ok }}}</button>\n\t\t<button type="button" class="btn btn-default cancel">{{{ cancel }}}</button>\n\t</p>\n</div>'}),define("text!skins/common/premium_feed/other_suggest.mustache",[],function(){return'<div id="{{{ id }}}" class="thumb-block thumb-block-premium-feed-channel thumb-block-premium-feed-other-suggest">\n\t<div class="thumb-inside">\n\t\t<div class="big-button-container">\n\t\t\t<a href="{{ href }}" class="more" target="_blank">\n\t\t\t\t<span>\n\t\t\t\t\t<span class="cat">{{{ category }}}</span>\n\t\t\t\t\t{{{ name }}}\n\t\t\t\t\t<span class="thumbs"><span class="icon-f icf-thumb-up"></span> / <span class="icon-f icf-thumb-down"></span></span>\n\t\t\t\t</span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</div>'}),define("text!skins/common/premium_feed/simple_dropdown_menu.mustache",[],function(){return'<div class="simple-dropdown premium-feed-filters">\n\t{{#filters}}\n\n\t\t\t<div class="niv1{{#list.length}} with-niv2{{/list.length}}">\n\t\t\t\t<span class="show-niv2{{#is_reset}} is-reset{{/is_reset}}">\n\t\t\t\t\t{{^is_reset}}<span class="icon-f icf-caret-down"></span>{{/is_reset}}\n\t\t\t\t\t<span class="label" data-filter="{{{ filter }}}">{{#forced_label}}{{{ forced_label }}}{{/forced_label}}{{^forced_label}}{{#list}}{{#active}}{{#label}}{{{ label }}}{{/label}}{{^label}}{{{ name }}}{{/label}}{{/active}}{{/list}}{{/forced_label}}</span>\n\t\t\t\t</span>\n\t\t\t\t{{#list.length}}\n\t\t\t\t\t<div class="niv2 premium-feed-filters">\n\t\t\t\t\t\t<div class="uls">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{{#list}}\n\t\t\t\t\t\t\t\t\t<li><a href="{{{ href }}}"{{#active}} class="current"{{/active}} data-filter="{{{ filter }}}" data-value="{{{ value }}}">{{{ name }}}</a></li>\n\t\t\t\t\t\t\t\t{{/list}}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{{/list.length}}\n\t\t\t</div>\n\n\t{{/filters}}\n</div>'}),define("skins/common/premium_feed",["config/main","mustache","lib/tools","static/utils","static/dom","static/thumbs","static/storage","lib/i18n!front","lib/helpers/overlay/box","lib/helpers/thumbs/wall","lib/helpers/inline_loader","lib/helpers/overlay/contextual_popup","lib/helpers/popup/tooltip","skins/common/profile/sub_actions","skins/common/profile/sub_overlay","skins/common/mozaique/simple_dropdown","skins/common/history/page_view_history","skins/common/history/one_info_tracker","skins/common/basic_feature","skins/common/main_cats/switcher","skins/common/sub_suggestions/suggestList","skins/common/sub_suggestions/suggestList/suggestListChannel","skins/common/sub_suggestions/suggestList/suggestListMembership","skins/common/sub_suggestions/suggestBlock","text!skins/common/premium_feed/categories_filter_resume.mustache","text!skins/common/premium_feed/categories_filter_update_list.mustache","text!skins/common/premium_feed/categories_review.mustache","text!skins/common/premium_feed/category_review.mustache","text!skins/common/premium_feed/containers.mustache","text!skins/common/premium_feed/cover_loader.mustache","text!skins/common/premium_feed/free_search.mustache","text!skins/common/premium_feed/min_length_filter.mustache","text!skins/common/premium_feed/other_suggest.mustache","text!skins/common/premium_feed/simple_dropdown_menu.mustache"],function(e,t,i,n,s,o,a,r,l,u,d,c,f,h,p,_,m,g,b,v,y,D,C,w,k,S,T,E,x,F,I,P,O,L){var M={categories_filter_resume:k,categories_filter_update:S,categories_review:T,category_review:E,channel_thumb:null,channel_preview:null,channel_preview_thumb_list:null,membership_thumb:null,containers:x,cover_loader:F,free_search_filter:I,min_length_filter:P,other_suggest:O,simple_dropdown:L},A={premium_name:"RED"},N={add_exclude_cats_to_result:"premium_feed.add_exclude_cats_to_result",all:"misc.all",all_content:"misc.all_content",all_qualities:"listing.all_qualities",cancel:"misc.cancel",cat_content_no_longer_offered:"premium_feed.cat_content_no_longer_offered",cat_no_longer_offered:"premium_feed.cat_no_longer_offered",categories:"video.categories",category:"category",categories_added:"premium_feed.categories.added",categories_added_in_channels:"premium_feed.categories.added_in_channels",categories_ignored:"premium_feed.categories.ignored",categories_rejected:"premium_feed.categories.rejected",categories_unreviewed:"premium_feed.categories.unreviewed",category_page:"video.category_page",category_dont_show_it_again:"video.category.dont_show_it_again",channel_page:"profile.channel_page",channels_added_removed_total:"premium_feed.channels_added_removed_total",channels_left_to_review:"premium_feed.channels_left_to_review",clear:"search.clear",direct_purchase:"premium.direct_purchase",direct_purchase_short:"premium.direct_purchase",duration_minutes_min:"video.duration_minutes_min",filter_add_categories:"premium_feed.filter_add_categories",filter_exclude_categories:"premium_feed.filter_exclude_categories",filters_restrict_results:"search.filters_restrict_results",free:"misc.free",free_only:"videos.free_vids",free_videos:"videos.free_vids",free_videos_short:"misc.free",here_some_channels:"premium_feed.here_some_channels",hide_suggests:"premium_feed.hide_suggests",membership:"profile.membership",membership_short:"profile.membership",min_length_title_free:"premium_feed.minimum_duration_of_free_videos",min_length_title_premium:"premium_feed.minimum_duration_of_site_videos",minimum_duration:"video.duration",nb_mins_long:"misc.nb_mins_long",new_channel_added_since_last_visit:"prsince_last_visit:"premium_feed.new_video_added_since_last_visit",new_video_channel_added_since_last_visit:"premium_feed.new_video_channel_added_since_last_visit",new_video_channels_added_since_last_visit:"premium_feed.new_video_channels_added_since_last_visit",new_videos_added_since_last_visit:"premium_feed.new_videos_added_since_last_visit",new_videos_channel_added_since_last_visit:"premium_feed.new_videos_channel_added_since_last_visit",new_videos_channels_added_since_last_visit:"premium_feed.new_videos_channels_added_since_last_visit",not_interested:"misc.not_interested",ok:"misc.OK",older_videos:"order.oldest_original_date",older_videos_in_premium:"order.oldest_date_added",premium_videos:"videos.premium",premium_videos_short:"premium.premium",random_order:"order.random_order",randomize_again:"order.randomize_again",recent_videos:"order.newest_original_date",recent_videos_in_premium:"order.newest_date_added",red_and_free:"premium_feed.red_and_free",red_only:"videos.red_vids",reset_filters:"search.reset_filters",reset_selection:"misc.reset_selection",search:"search",search_for:"search.for",see_all:"misc.see_all",show_suggests:"premium_feed.show_suggests",showing_vids_out_off_total:"listing.showing_nb_vids",sub_to_cat_global:"premium_feed.sub_to_cat_global",sub_to_cat_in_subbed_channels:"premium_feed.sub_to_cat_in_subbed_channels",sub_to_channels_to_populate:"premium_feed.sub_to_channels_to_populate",sub_to_channels_to_populate_version:"premium_feed.sub_to_channels_to_populate_version",subscribe:"subscriptions.subscribe",subscribe_in_channel:"premium_feed.category.subscribe_in_channel",subscription_date:"premium_feed.subscription_date",unwatched_videos_only:"listing.unwatched_videos_only",watched_videos_only:"listing.watched_videos_only",welcome:"legal.disclaimer.vpn_detect.welcome",welcome_content:"premium_feed.welcome_to_custom_homepage"},V={channels_added_removed_total:""},R={reject_cat:"ban",sub_cat:!1,sub_cat_in_chan:!1,unsub_cat:"eye-blocked"},B={account_subscriptions:"/account/subscriptions/channels",account_not_interested:"/account/subscriptions/not-interested",hash_red:"#red",hash_red_and_free:"#red-and-free"},U={},H={page_init_end:function(e){},get_channel_top_title:function(e){},append_channel_videos:function(e,t){},init_videos_list:function(e){},init_desktop_channel_videos:function(e){},add_pagination:function(e){},suggest_launch_wizard:function(){},fnMakeMembershipPageUrl:function(e){return e}},j=function(t){if(this.bNoCatSuggests=!0,e.data.user_cats=[],this.$PageContainer=$("#page-videos-content"),0===this.$PageContainer.length)return!1;if(this.oOptions=U,this.oTexts=A,this.oTranslations=N,this.oIcfs=R,this.oForcedTranslations=V,this.oTemplates=M,this.oUrls=B,this.oFunctions=H,void 0!==t){if("undefined"!=typeof t.options)for(var i in t.options)"undefined"!=typeof this.oOptions[i]&&(this.oOptions[i]=t.options[i]);if("undefined"!=typeof t.texts)for(var n in t.texts)"undefined"!=typeof this.oTexts[n]&&(this.oTexts[n]=t.texts[n]);if("undefined"!=typeof t.translations)for(var s in t.translations)"undefined"!=typeof this.oTranslations[s]&&(this.oTranslations[s]=t.translations[s]);if("undefined"!=typeof t.forced_translations)for(var o in t.forced_translations)"undefined"!=typeof this.oForcedTranslations[o]&&(this.oForcedTranslations[o]=t.forced_translations[o])
;if("undefined"!=typeof t.icfs)for(var a in t.icon_f)"undefined"!=typeof this.oIcfs[a]&&(this.oIcfs[a]=t.icon_f[a]);if("undefined"!=typeof t.templates)for(var l in t.templates)"undefined"!=typeof this.oTemplates[l]&&(this.oTemplates[l]=t.templates[l]);if("undefined"!=typeof t.urls)for(var u in t.urls)"undefined"!=typeof this.oUrls[u]&&(this.oUrls[u]=t.urls[u]);if("undefined"!=typeof t.functions)for(var d in t.functions)"undefined"!=typeof this.oFunctions[d]&&(this.oFunctions[d]=t.functions[d])}this.iCancelTimeout=3e3,this.iSuggestsCount=0,this.iSuggestsContainerNbRows=1,this.iSuggestsContainerNbRows2=2,this.iMobileSuggestsContainerNbRows=1,this.iMobileSuggestsContainerNbRows2=2,this.iMaxMobif e.data.sensitivity?e.data.sensitivity:0,this.iFilterViewMode="undefined"!=typeof e.data.view_mode?e.data.view_mode:0,this.iFilterSort="undefined"!=typeof e.data.sort?e.data.sort:0,this.iFilterSortRandomize=!1,this.iFilterMinLengthPremium="undefined"!=typeof e.data.premium_min_length?e.data.premium_min_length:0,this.iFilterMinLengthFree="undefined"!=typeof e.data.free_min_length?e.data.free_min_length:0,this.sFilterQuality="undefined"!=typeof e.data.quality?e.data.quality:"360P",this.oFilterCategories={cats:[],excats:[]},this.aShowFreeAvailableFilters=[],this.iDefaultFilterShowFree=0,!e.dyn.login_info.has_memberships||"default"!==e.sitename&&"xnxx"!==e.sitename||(this.aShowFreeAvailableFilters.push("membership"),this.iDefaultFilterShowFree+=4),e.dyn.login_info.is_premium&&(this.aShowFreeAvailableFilters.push("premium"),this.iDefaultFilterShowFree+=2),!e.dyn.login_info.has_ppv_videos||"default"!==e.sitename&&"xnxx"!==e.sitename||(this.aShowFreeAvailableFilters.push("ppv"),this.iDefaultFilterShowFree+=8),this.aShowFreeAvailableFilters.push("free"),this.iDefaultFilterShowFree+=1,this.iFilterShowFree="undefined"!=typeof e.data.show_free?e.data.show_free:this.iDefaultFilterShowFree;var f=g.get("premiumFeed_lastFreeSearchFilter");this.sFilterFreeSearch=f||!1;var h=g.get("premiumFeed_lastCatFilter");if(h&&h.cats&&e.data.categories&&e.data.categories.length>0)for(var p in e.data.categories){var v=e.data.categories[p];-1!==h.cats.indexOf(v.id)?this.oFilterCategories.cats.push(v.id):-1!==h.excats.indexOf(v.id)&&this.oFilterCategories.excats.push(v.id)}this.bHasTooFewVideos=!1,this.oFeatureSuggestOpened=new b(b.S_F_PREMIUM_FEED_CHANNELS),this.oFeatureSuggestOpened.activateLoadingPopup(!1),this.oFeatureSuggestOpened.activateErrorPopup(!1),this.bSuggestsContainerManualShow=this.oFeatureSuggestOpened.isEnabled(),this.oSimpleDropdown=new _;var w=this,k={oTemplates:{},oUrls:{fnCustomSetBlockUrl:this.oFunctions.fnMakeMembershipPageUrl}},S={sPurchaseOrigin:"custom_home_membership",oTemplates:{},oUrls:{fnCustomSetBlockUrl:this.oFunctions.fnMakeMembershipPageUrl}};null!==this.oTemplates.channel_thumb&&(k.oTemplates.sTplThumbBlock=this.oTemplates.channel_thumb),null!==this.oTemplates.membership_thumb&&(S.oTemplates.sTplThumbBlock=this.oTemplates.membership_thumb),null!==this.oTemplates.channel_preview&&(k.oTemplates.sTplPopPreview=this.oTemplates.channTplPopPreDED,function(){w.bChannelSuggestLowMode||this.isVieis.$PageContainer.apoTranslations["new"+(e.data.new_videos>0?e.data.new_videos>1?"_videos":"_video":"")+(e.data.new_channels>0?e.data.new_channels>1?"_channels":"_channel":"")+"_added_since_last_visit"],{"%videos_count%":e.data.new_videos?"<strong>"+e.data.new_videos.toString()+"</strong>":"","%channels_count%":e.data.new_channels?"<strong>"+e.data.new_channels.toString()+"</strong>":""}):"",filters:this.getFiltersHTML()}))),this.$ManualHideSuggestsBtn=this.$PageContainer.children("#hide-suggests"),this.$ManualHideSuggestsBtn2=this.$PageContainer.chilhis.$ManualHideSuggestsBtn2).on("click",function(){i.manualHideShowSuggestsContainers()}),this.updateSuggestLists()}},updateSuggestLists:function(){var e=this.oSuggestListChannel.getLoadedSuggestIds(),t=e.length,i=this.oSuggestListChannel.countAdded()<this.iTooFewChannelsLimit,n=i&&this.bHasTooFewVideos,s=1,o=!this.bSuggestsContainerManualShow,a=this;if(0===t&&this.oSuggestListChannel.canLoat||n?2:1;var l=this.oSuggestListCnd(l),u.detach(FilterSort&&i.updateFilterSelect("sort",n.sort),"undefined"!=typeof n.quality&&n.quality!==i.sFilterQuality&&i.updateFilterSelect("quality",n.quality),"undefined"!=typeof n.free_seeout(functionis.iFilterViewMo=typeof this.sFile},initChannelShowMore:function(e){var t=this;$(".activity-event",e).each(function(){var e=$(this),i=e.find("a.more"),n=e.find("a.less");0!==i.length&&(e.data("loaded",e.find(".thumb-block").length<=10),e.data("page-loaded",0),n.on("click",function(i){i.prevent({url:"/feed/channerToggleHTML(!!s.membershef:"#membership"}),-1!==thalue:"1440P",href:"#1440P",alass="icon-f icf-close-thin"></span"':"")+"><label></label></span> ault(),t.filterLinkClick($(it-ok");var s=this.getFilteow-niv2").on("click",),this.updateFilterSeleteFilterSelect("quality","3==typeof this.oFiltersLabels["ft(t,i),void this.loadVideos();var n=lterActive("free")),this.$Filteult:return!1}this.$FiltersLteFilterSelectLabel:funosable(!0),oPopup.setEscapeClions.see_all):r.__(thclass="icon-f icf-cloturn 8===e?i.ppv=!i.ppv:4===e==e[n])switch(n){case"membership":t.push(r.__(this.oTranslations.membership_short)),i=r.__(this.oTranslations.membership);break;case"premium":t.push(r.__(this.oTranslations.premium_videos_short)),i=r.__(this.oTranslations.premium_videos);break;case"ppv":t.push(r.__(this.oTranslations.direct_purchase_short)),i=r.__(this.oTranslations.direct_purchase);break;case"free":t.push(r.__(this.oTranslations.free_videos_short)),i=r.__(tength===t.length?r.__(this.oTranslations.all_content):1===t.length?i:t.join(" + ")},openCategoriesFilterSelectNiv1:function(){var e=this;oPopup=l.get($("body"),!0,"close"),oPopup.setScrollAndResizeReposition("auto"),oPopup.setOverlayClosable(!0),oPopup.setEscapeClosable(!0),oPopup.addClass("auto-width-popup premium-feed-categories-filter-pop"),oPopup.onShow=function(){$("body").addClass("premium-feed-filter-opened")},oPopup.onClose=function(){$("body").removeClass("premium-feed-filter-opened"),e.updateCategoriesFilter(!0)},this.initCategoriesFilterSelectNiv1Popup(oPopup),oPopup.show("auto")},initCategoriesFilterSelectNiv1Popup:function(i){var n=this,s=[],o=[];for(var a in e.data.categories){var l=e.data.categories[a];-1!==this.oFilterCategories.cats.indexOf(l.id)?s.push(l):-1!==this.oFilterCategories.excats.indexOf(l.id)&&o.push(l)}var u=$(t.render(this.oTemplates.categories_filter_resume,{title:r.__(this.oTranslations.categories),reset:r.__(this.oTranslations.reset_selection),add_list:s,exclude_list:o,emptyta-id="+$(this).data("id")+"]").remove()}),u.find(".close").on("click",function(e){e.preventDefault(),i.close()}),i.setContent(u)},openCategories.length/3),o=Math.ceil(e.data.categories.length/2),a=[{list:[]},{list:[]},{list:[]}],u=[{list:[]},{list:[]}];for(var d in e.data.categories){var c=e.data.categories[d];c.status=-1!==this.oFilterCategories.cats.indexOf(c.id)?"add":-1!==this.oFilterCategories.excats.indexOf(c.id)?"exclude":"neutral",d<s?a[0].list.push(c):d<2*s?a[1].list.push(c):a[2].list.push(c),d<o?u[0].list.push(c):u[1].list.push(c)}var f=this,h=$(t.render(this.oTemplates.categories_filter_update,{title:r.__("add"===i?this.oTranslations.filter_add_categories:this.oTranslations.filter_exclude_categories),list_id:i,ok:r.__(this.oTranslations.ok),lists_3_cols:a,lists_2_cols:u})),p=l.get($("body"),!0,"close");p.setContent(h),p.setScrollAndResizeReposition("auto"),p.setOverlayClosable(!0),p.setEscapeClosable(!0),p.addClass("auto-width-popup premiuss("premium-feed-filte$("body").removeClass("premium-feed-filter-niv2-opened"),f.initCategoriesFilterSelectNiv1Popup(n)},p.show("auto"),h.find(".action").on("click"Class(t)}),h.f=typeof e.excats||(e=g.get("premiumFeed_lastCatFilter")),!e&&(this.oFilterCategories.cats.length>1||this.oFilterCategories.excats.length>1)||e.cats.length!==this.oFilterCategories.cats.length||e.excats.length!==this.oFilterCategories.excats.length)return!0;var t;for(t=0;t<e.cats;t++)if(e.cats[t]!==this.oFilterCategories.cats[t])return!0;for(t=0;t<e.excats;t++)if(e.excats[t]!==this.oFilterCategories.excats[t])return!0;return!1},updateCategoriesFilter:function(e){if(this.showHideResetBtn(),this.hasCategoriesFilterChanged()){var t=this.getFilterSelectLabel("categories"),i=this.getCategoriesFilterLabelText();t.html(i),!0===e&&this.loadVideos(p3))&&'"+275760-09-13T00:00:00.002-31T23:59:59.999Z"'==i(new c(-1))})}}else{var s,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var i=n.stringify,d="function"==typeof i;d&&((s=function(){return 1}).toJSON=s,o(function(){d="0"===i(0)&&"0"===i(new l)&&'""'==i(new u)&&i(b)===m&&i(m)===m&&i()===m&&"1"===i(s)&&"[1]"==i([s])&&"[null]"==i([m])&&"null"==i(null)&&"[null,null,null]"==i([m,b,null])&&i({a:[s,!0,!1,null,"\0\b&":"==A()||M(),t[e.slice(1)]=N(A());return t}M()}return e},V=function(eType&&exports,s=i[typeof window]&&window||this,o=n&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!o||o.global!==o&&o.window!==o&&o.self!==o||(s=o),n&&!t)e(s,n);else{var a=s.JSON,r=s.JSON3,l=!1,u=e(s,s.JSON3={noConflict:function(){return l||(l=!0,s.JSON=a,s.JSON3=r,a=r=null),u}});s.JSON={parse:u.parse,stringify:u.stringify}}t&&define("json3",[],function(){return u})}.call(this),define("lib/json",[],function(){"undefined"!=typeof JSO</p>"),_.show(),k.addClass("hidden"),l.canTrack("profVidsSubs_lastWall")&&(t!==l.get("profVidsSubs_lastWall")&&l.unset("profVidsSubs_scrollPos"),l.set("profVidsSubs_lastWall",t)),D=t;var s={};e.dyn.login_info.is_logged&&e.dyn.login_info.profile||r.isTracking()&&(s.ids=r.getIds()),v=$.post("/my-subs/videos/"+t,s,function(e){if(!e.result)return void _.html('<p c i(e).clear()},getIds:function(e){return i(e).getIdsList().r.no_first_tab_hash=!!a,this.no_tab_hash="no_tab_hash"===a,this.side_scrollable_tab_buttons=this.node.find(".side-scrollable-tab-buttons .tab-buttons").length>0&&this.node.find(".side-scrollable-tab-buttons"),this.bFirstLoad=!0,l="object"==typeof l?l:{},"object"==typeof l.oHistory?this.oHistory=l.oHistory:this.oHistory=n,this.bFirstHashUpdate="boolean"!=typeof l.bFirstHashUpdate||l.bFirstHashUpdate;var u=this.node.find(".tab-buttons a, .tab-button").not(".notab"),d=this.node.find(".tabs .tab"),c=this;if(!(0===d.length||u.length<d.length)){var f=t.getViewportWidth()<=768;this.oActions=s||{},this.first_tab_id,this.active=!1,this.tabs={},this.aOnOpenCallbacks=[];for(var h in this.oActions)this.oActions[h].active&&(this.active=h);d.each(function(e){var t=u.first(),i=t.data("target");u=i?u.filter(function(e){return 0!==e&&($(this).data("target")!==i||(t=t.add(this),!1))}):u.slice(1);var n=$(this),s=n.data("tab-id")||n.prop("id"),o={};if(c.first_tab_id||(c.first_tab_id=s),o.first=0===e,o.id=s,o.tab=n,o.btn=t,o.target=i,o.active=c.active===s,!c.active||o.active){o.btn.hasClass("active")||f&&o.btn.hasClass("mobile-active")||!f&&o.btn.hasClass("desktop-active")?(o.active=!0,c.active=s,c.use_class?n.addClass("active"):c.use_func?c.open_func(c,n,!0):n.show()):c.useide_scrollable_tab_buttons){e.dyntab_buttons_left=this.node.find(".left-scroll"),this.side_scrollable_tab_buttons_right=this.node.find(".right-scroll"),c.side_scroll_window_resize();thillable_tab_buttons_width,t=c.side_scrollable_tab_buttons.scrollLeft();t<1?(c.side_scrollable_tab_buttons.scrollLeft(0),c.side_scroll_arrde_scrollable_tab_buttons.stop(!0,!1)}),this.side_scrollable_tab_buttons_right.hover(function(){var e=c.side_scrollable_tab_buttons_full_width-c.side_scrollable_tab_buttons_width,t=c.side_scrollable_tab_buttons.scrollLeft();t>e-1?(c.side_scrollable_tab_buttons.scrollLeft(e),c.side_scroll_arrows_update()):c.side_scrollable_tab_buttons.stop(!0,!1).animate({scrollLeft:e},{duration:1e3-1e3*t/e,complete:function(){c.side_scroll_arrows_update()}})},function(){c.side_scrollable_tab_buttons.stop(!0,!1)}),this.side_scrollable_tab_buttons.scroll(function(){c.side_scroll_arrows_update()}),$(window).resize(function(){c.side_scroll_window_resize()})}}};return s.prototype={open:function(e,t,n,s,o){var a,r=e.toLowerCase(),l=!!this.active&&this.active.toLowerCase(),u=this.tabs[r];if(r!==this.active&&(this.prev=this.active),a=void 0===n||null===n||!1===n?e===this.oHistory.getHash().substring(1)&&this.oHistory.getPaginHash()-1>0?this.oHistory.getPaginHash()-1:null:n,!t&&l===r||void 0===u)return void(u&&u.action_already_open&&!1!==t&&u.action_already_open(e));t&&l===r||this._close(),u.active=!0,this.use_class?u.tab.addClass("active"):this.use_func?this.open_func(this,u.tab,!0):u.tab.show(),!1!==this.side_scrollable_tab_buttons&&this.side_scroll_to_button(u),u.btn.addClass("active"),u.action&&u.action(e,a,u.tab);var d="_"+e;(this.no_tab_hash||this.no_first_tab_hash&&u.first&&-1===d.indexOf(","))&&(d=""),this.active=e,o||this.oHistory.setUrlHash(d,a>0?a+1:null,"boolean"==typeof s&&s),this.node.addClass("disp-"+e.replace(",","-"));for(i in this.aOnOpenCallbacks)this.aOnOpenCallbacks[i](e)},close:function(){this.closable&&this._close()},_close:function(){if(this.active){this.node.removeClass("disp-"+this.active.replace(",","-"));var e=this.tabs[this.active.toLowerCase()];e.active=!1,this.use_class?e.tab.removeClass("active"):this.use_func?this.open_func(this,e.tab,!1):e.tab.hide(),e.btn.removeClass("active"),this.active=!1}},_onhashchange:function(e,t){if((this.no_t_tab_id),e!==n.getNoHashValue()){var i=-1!==e.indexOf(this.active)?this.active.split(",")[0]:e.split(",")[0].substring(1),s=this.oActionstring(1)].oListingsring(1))&&r.loadPage(t),-1!==this.active.indexOf(i)&&a===s.oListings.ups_sort||this.open(e.substring(1),!1,t)}else this.open(e.substring(1),!1)}else t{this.bFirstLoad=e},getPrev:function(){var e=this.prev;return void 0===e&&(e=this.first_tab_id),e},setSubHash:function(e,t){var i=this.tabs[e.toLowerCase()];if(void 0!==i){var n={},s=this;for(var o in i)n[o]=i[o];n.id=!1,n.active=!1,this.tabs[e.toLowerCase()+","+t]=n,this.oHistory.registerHash("_"+e+","+t,function(e,t){s._onhashchange(e,t)})}}},s}),define("text!skins/default/profile/vote/votes_box.mustache",[],function(){return'<div class="rating-box">\n\t{{# closed_first }}\n\t<div class="show-more">+</div>\n\t<div class="rating-box-content">\n\t{{/ closed_first }}\n\t\t<span class="vote-actions">\n\t\t\t<a class="btn btn-default vote-action-good"><span class="icon-f icf-thumb-up">&nbsp;</span></a><a class="btn btn-default vote-action-bad"><span class="icon-f icf-thumb-down">&nbsp;</span></a>\n\t\t</span>\n\t\t<div class="rating-bar-block">\n\t\t\t{{# disp_good_bad }}\n\t\t\t<span class="icon-f icf-thumb-up"></span> <span class="good">{{ vgood }}</span>\n\t\t\t<span class="icon-f icf-thumb-down"></span>or=null;\" />",s.related[_].div_id="profile-related-"+s.related[_].id+"-"+Math.ceil(1e4*Math.random()),f.push({user_id:s.related[_].id,user_name:s.related[_].username,nb_subs:s.related[_].nb_subs,append_btn_to:"#"+s.related[_].div_id,btn_class:"sub-strip"}),h+=o.render(d,s.related[_]));c=o.render(u,{subscribed:a!==i.url_remove?l.unescape(r.__("video.votes.thanks")):l.unescape(r.__("video.votes.remove")),view_activities:!1,also_like:l.unescape(r.__("user.you_may_also_like")),hide_view_activities:!0,has_related:f.length>0,related_html:h})}else c=a!==i.url_remove?"<strong>"+r.__("video.votes.thanks")+"</strong>":"<strong>"+r.__("video.votes.remove")+"</strong>";else c='<strong class="text-danger">'+s.message+"</strong>";i._get_popup(n,c).open(),f.length>0&&require(["skins/default/profile/subscribe/btns"],function(e){e(f,{sub_options:{add_relateds_to:i,tooltip_hide_after:1e3}})})})},"json").fail(function(){i._get_popup(n,'<strong class="text-danger">'+r.__("error.err_please_reload")+"</strong>").open()}).complete(function(){n.html(o),i.voting=!1,i.yes_btn.toggleClass("disabled",!e.dyn.login_info.is_logged),i.no_btn.toggleClass("disabled",!e.dyn.login_info.is_logged),i.yes_btn.toggleClass("is-voted",a===i.url_good),i.no_btn.toggleClass("is-voted",a===i.url_bad)})},_toggle_show_more:function(e){e=!!e,this.show_more_open!==e&&(this.show_more_open=e,this.show_more.html(e?"-":"+"),e?this.show_more_content.fadeIn():this.show_more_content.fadeOut())}},l}),define("skins/default/profile/action/aboutme_desc",["config/main","mustache","lib/helpers/overlay","lib/helpers/inline_loader","lib/i18n!front"],function(e,t,i,n,s){var o=$("#pinfo-aboutme");if(o.hasClass("editable")){var a=!1;o.on("click",function(){a||(o.addClass("editing").find("textarea").focus(),a=!0)});var r=o.fe=null,this.pictures=[];var s=this;t.on("click",function(e){e.preventDefault(),s._handle($(this))});var o=n.parseUrl(window.location.href,"query",!0);"profile"===this.type&&o.reportuser?s._handle():"gallery"===this.type&&o.reportuser&&s._handle()};return d.prototype={onReported:null,setPictures:function(e){this.pictures=e,this.title&&this.title.text(this.getTitle())},getTitle:function(){if("gallery"===this.type){var t="";return t=0===this.pictures.length?i.unescape(l.__("report_form.report_album",{},'Report the photo album "%title%" of %user%')):1===this.pictures.length?i.unescape(l.__("report_form.report_album_pic",{},'Report one picture of the photo album "%title%" of %user%')):i.unescape(l.__("report_form.report_album_pics",{},'Report %nb% pictures of the photo album "%title%" of %user%')).replidator=!1,this.csrf_token=!1,this.inputs=[],this.settings=[],this.static_fieds=[],this.popup=null;var)){this.saving=!0,this.form.prevAll().remove();var t=this,n=this.form.serializeArray(),s=i.getSafe("after",this.msg_updating||o.__("profile.privacy.saving")).insertAfter(this.form.hide());$.post(this.url||"/profiles/"+e.data.user.username+"/update",n,function(e){if(e.result)t.form.before('<p class="text-success"><strong>'+(t.msg_success||o.__("profile.privacy.saved"))+"</strong></p>");else{var i;i=e.message?o.__("misc.update_failed_error")+" "+e.message:o.__("misc.update_fae(["skins/default/profile/action/report"],function(e){new e("profile",l,$("#page"))});var u=e.data.us class="show-more">+</div>').appendTo(g),t.appendTo(g.children(".see-mor!skins/default/profile/tabs/ranks.mustache"],function(t,i){b.replaceWith(t.render(i,{rankings:e.rankings}))})});var v=$("#profile-aboutme-tab-chat-link");urn function(){}}),define("skins/default/profile/tabs/default_profile_tab",d-action-pending-friend-req-confirm");if(u.length>0){new s(u,a+"friends/requests/confirm",!1,!1,e.data.user.csrf.freqconfirm).onSuccess=function(){this.link.next().remove()
;var e=this.link.parent().prev();this.link.remove(),e.children(".label").html('<strong class="text-success">'+i.__("misc.confirmed")+"</strong>"),window.setTimeout(function(){window.location.reload()},1e3)}}var d=r.find(".friend-action-pending-friend-req-ignore");if(d.length>0){new s(d,a+"friends/requests/ignore",!1,!1).onSuccess=function(){this.link.prev().remove();var e=this.link.parent().prev();this.link.remove(),e.children(".label").html('<strong class="text-success">'+i.__("misc.ignored")+"</strong>")}}varn.shift();for(var s=0;s<n.length;s++)n[s]=n[s].id+(n[s].time>0?"-"+n[s].time:"");t.setLocal("last_views",JSON.stringify(n),7776e6,"/")}}},mergeViews:function(e,t){e:for(var i=0;i<t.length;i++)if(t.hasOwnProperty(i)&&t[i]){var n=null,s=0;if("number"==typeof t[i])n=t[i];else{if("string"!=typeof t[i]||"function"!=typeof t[i].split)return;var o=t[i].split("-");if(o.length<2)continue;n=parseInt(o[0]),s=parseInt(o[1])}if(!(n<=0||s<0)){for(var a=0;a<e.length;a++)if(e[a].id===n){e[a].time=Math.max(e[a].time,s);continue e}e.push({id:n,time:s})}}return e},getHistory:function(){var e=t.get("last_views");if(!e)return[];var i=JSON.parse(e);return i||[]},resetRelated:function(){},increaseNumberVideoView:function(){if(!xv.disclaimer.bIsOpen&&i.FN_IS_ENABLED(i.S_F_COOKIES_FUNCTIONALITY)){var e=t.get("ucchecknb");e||(e=0),e++,t.setLocal("ucchecknb",e,432e5,"/")}}},new n}),define("skins/common/profile/last_channels_visited",["static/cookies"],function(e){var t=function(){};return t.prototype={set:function(t){if(t=parseInt(t),isNaN(t)||t<1)return!1;for(var i=e.get("freechvws")||"",n=i.split(","),s=[t],o=0;o<n.length&&5!==s.length;o++)iSavedIdChannel=parseInt(n[o]),iSavedIdChannel===t||isNaN(iSavedIdChannel)||iSavedIdChannel<1||s.push(iSavedIdChannel);e.setLocal("freechvws",s.join(","),2592e6,"/",!0,"None")},setFullCookie:function(t){e.setLocal("freechvws",t,2592e6,"/",!0,"None")}},new t}),define("skins/common/form/cross_site_login",["config/main","static/cookies","skins/common/video/lastviews","skins/common/profile/last_channels_visited"],function(e,t,i,n){e.dyn.is_premium&&!e.dyn.login_info.is_logged&&$.ajax({type:"POST",url:e.domains.slave+"/cross_site_cookies",dataType:"json",data:{l:t.get(e.dyn.dev?"session_token_dev":"session_token")},xhrFields:{withCredentials:!0},success:function(e){if(e.result){"string"==typeof e.last_views&&e.last_views.length>0&&i.mergeVideoViews(e.last_views);var s=e.session_token||e.session_token_dev;"string"==typeof s&&s.length>10&&(t.setLocal(e.session_token?"session_token":"session_token_dev",s,2592e6,"/",!0,"None"),$.post("/account/checklogin",function(e){if(e.result&&e.is_logged){if("straight"!==e.main_cat&&"/"===window.location.pathname&&(!window.location.search||-1===window.location.search.indexOf("k=")))return void(window.location.href="/"+e.main_cat+window.location.search);window.location.reload()}},"json")),"string"==typeof e.freechvws&&e.freechvws.length>0&&n.setFullCookie(e.freechvws)}}})}),define("lib/helpers/viewer/lightgallery-onepic",["libs/lightgallery.min"],function(){return"object"!=typeof xv&&(xv={}),"object"!=typeof xv.oLG&&(xv.oLG={}),"number"!=typeof xv.oLG.iGalIdCount&&(xv.oLG.iGalIdCount=0),function(e,t,i){require(["config/main","static/utils","lib/i18n!front","lib/helpers/viewer/lightgallery_css_loader","libs/lg-zoom.min","libs/lg-fullscreen.min","libs/lg-hash.min"],function(n,s,o,a){i=i||{},xv.oLG.iGalIdCount++;var r=$("body"),l=!1,u={selector:e,closeOnClick:!1,download:!1,fullScreen:!0,exThumbImage:"data-src",hash:"boolean"==typeof i.hash&&i.hash,galleryId:xv.oLG.iGalIdCount},d=i.$element===undefined?$(e):e===undefined?i.$element:i.$element.find(e);d.attr("data-src",t).addClass("lg-pic-opener"),d.parent().lightGallery(u).on("onBeforeOpen.lg",function(){a.loadCssLightgallery()}).on("onAfterOpen.lg",function(){a.loadCssLightgallery(),l=!0,r.addClass("no-scroll"),"string"==typeof i.title&&$("#lg-counter").prepend("<div>"+i.title+"</div>"),$("#lg-zoom-in").attr("title",s.unescape(o.__("misc.image_larger"))).append('<span class="icon-f icf-search-plus"></span>'),$("#lg-zoom-out").attr("title",s.unescape(o.__("misc.image_reduce"))).append('<span class="icoers.filter(".dropdown-filters-list")),this.$contentFilters.on("click",function(e){e.preventDefault(),s.toggleContentFilter($(this).data("filter"))}),this.$sortFilters.on("click",function(e){e.preventDeflogin-link[data-mode="signin"]');l.length&&p.setupLinks(l)}}return a}},toggleContentFilter:function(e,t,i,n){var s,o=null;n=void 0!==n;for(s in this.aContentFilters)this.aContentFilters[s].sKey===e?o=this.aContentFilters[s]:n&&(this.aContentFilters[s].bIsChecked=!1);if(null!==o){if(o.bIsDisabled)return void("string"==typeof o.sDisabledAlert&&this.displayContentFilterAlert(e,o.sDisabledAlert,"boolean"==typeof o.bDisabledAlertAutoCloseTimer?o.bDisabledAlertAutoCloseTimer:null));if("lock-unlock"===o.sType){var a;for(s=0;s<o.aChoices.length;s++)o.aChoices[s].sKey===o.sChoice&&(a="undefined"!=typeof o.aChoices[s+1]?o.aChoices[s+1]:o.aChoices[0]);o.sChoice=a.sKey,o.sIcf=a.sIcf,o.sDisplay=a.sDisplay,this.displayContentFilterAlert(e,a.sChoiceAlert,"boolean"==typeof o.bChoiceAlertAutoCloseTimer?o.bChoiceAlertAutoCloseTimer:null)}else o.bIsChecked="boolean"==typeof t?t:!o.bIsChecked,log.debug(e,o.bIsChecked),o.bIsChecked&&"string"==typeof o.sCheckAlert?this.displayContentFilterAlert(e,o.sCheckAlert,"boolean"==typeof o.bCheckAlertAutoCloseTimer?o.bCheckAlertAutoCloseTimer:null):o.bIsChecked||"string"!=typeof o.sUncheckAlert||this.displayContentFilterAlert(e,o.sUncheckAlert,"boolean"==typeof o.bUncheckAlertAutoCloseTimer?o.bUncheckAlertAutoCloseTimer:null);this.bErrorIfNoContentFilter&&(this.hasEnabledContentFilter()?this.oCurrentFilterAlert&&this.oCurrentFilterAlert.close():(this.oCurrentFilterAlert=this.displayContentFilterAlert(e,r.__("global_feed.no_content_filter"),!0),i=!0,this.updateFiltersHtml())),i||this.loadWithNewFilters()}},hasEnabledContentFilter:function(){for(i in this.aContentFilters)if(!0===this.aContentFilters[i].bIsChecked)return!0;return!1},filterSort:function(e){this.sSortFilter!==e&&(this.sSortFilter=e,this.sSavedSortFilter=e,o.set(this.aAvailableSortFilters.join("-"),e,"list_sort_filter"),this.loadWithNewFilters())},getCurrentSortFilter:function(){return this.sSortFilter},getCombinedContentFilters:function(e){var t,i;for(t in this.aContentFilters){var n=this.aContentFilters[t];n.bUnwantedForUploadsOnly&&-1!==(i=e.indexOf(n.sKey))&&e.splice(i,1),"string"==typeof n.sKeyForUploadsOnly&&-1!==(i=e.indexOf(n.sKey))&&e.splice(i,1,n.sKeyForUploadsOnly)}var s="";for(t in e)s+=(s.length?m.S_SEP_CONTENT_FILTERS:"")+e[t];return s=s.replace("sub_membership_ppv","premium")}},m}),define("skins/default/profile/listing/videos_fjs/videos_tab",["config/main","static/dom","lib/tools","lib/i18n!front","skins/default/profile/listing/videos_fjs","skins/common/player/quickies/latList"],function(e,t,i,n,s,o){var a=function(t,i){var o=e.data.user.url+"/videos/";this.oFirstAddedPost=!1,this.oLastAddedPost=!1,this.oOpenedPost=!1,this.oQuickies={};var a=this;if(i="object"==typeof i?i:{},i.bEmptyIfNoContentFilter=!0,i.sListingClass="mozaique cust-nb-cols post-blocks",i.fnCountTitle=function(){var t,i=!1;for(t in a.aContentFilters)oFilter=a.aContentFilters[t],"uploadsonly"===oFilter.sKey&&oFilter.bIsChecked&&(i=!0);var s=i&&"number"==typeof a.oNbVideosUploadsOnly.free?a.oNbVideosUploadsOnly.free:a.oNbVideos.free;return"number"!=typeof s||s<1?"":n.__(1===s?"listing.user_free_video":"listing.user_count_free_videos",{"%user_name%":e.data.user.display,"%count%":s.toLocaleString(e.dyn.locale)})},this.bHasNoRegularVideos=!1,this.bHasQuickies="undefined"!=typeof i.oQuickiesInfos&&"boolean"==typeof i.oQuickiesInfos.bHasQuickies&&i.oQuickiesInfos.bHasQuickies,this.bShowQuickiesHorizontal="undefined"!=typeof i.oQuickiesInfos&&"boolean"==typeof i.oQuickiesInfos.bShowQuickiesHorizontal&&i.oQuickiesInfos.bShowQuickiesHorizontal,this.iCountQuickiesHorizontal=this.bShowQuickiesHorizontal&&"number"==typeof i.oQuickiesInfos.iCountQuickiesHorizontal&&i.oQuickiesInfos.iCountQuickiesHorizontal>0?i.oQuickiesInfos.iCountQuickiesHorizontal:0,this.bShowQuickiesVertical="undefined"!=typeof i.oQuickiesInfos&&"boolean"==typeof i.oQuickiesInfos.bShowQuickiesVertical&&i.oQuickiesInfos.bShowQuickiesVertical,this.iCountQuickiesVertical=this.bShowQuickiesVertical&&"number"==typeof i.oQuickiesInfos.iCountQuin(Date.now()/1e3-this.iTimestamp,o.formatDurationMethods.diff),this.iPage=t.page,this.oManager=t.manager,this.sDisplayName=t.profile_name,this.sPlaceHolder=s.__("membership.update_number",{"%user_name%":this.sDisplayName,"%number%":this.sId}),this.sComment=t.content?t.content.toString():null,this.bLonpremium.not_owned_content_only")})):this.oNbVideos.premium_unlocked>0?(p.sChoice="unlocked",p.sDefaultChoice="unlocked",p.sIcf="unlock",p.bIsDisabled=!0,p.sDisabledAlert=t.__("premium_("premium.direct_purchase_short")+' <span class="count">'+this.oNbVideos.ppv.toLocaleString(e.dyn.locale)+"</span>",fnDisplay:function(){return t.__("premium.direct_purchase_short")+.push({sKey:"unlocked",sIcf:"unlock",fnDisplay:function(){return'<span class="count">'+(0s_logged||!e.dyn.login_info.is_premium)){var p=$('<a href="'+e.domains.premium+'" class="btn btn-primary purchase-content floating-purchase-btn mobile-show" data-user-id="'+e.data.unly[o]?this.oNbVideosUploadsOnly[o]:"numbeersInUrlOrder(),a=!this.hasShowUploaderOnly(o.aFilters);n.bIsDisabled=a,s.toDefault(),e.load(),!1})},_windowOnScroll:function(){!1!==this.scrollTimeout&&(clearTimeout(this.scrollTimeohis.onLoaded()}},a}),define("skins/common/listing/loader/infinite",["lib/tools","lib/helpers/inline_loader"],function(e,t){var i=$(document),n=$(window),s=function(e,t,i,s,o,a/profile/images",[],function(){var e=$(".img-block .gif-tae;return require(["config/main","static/utils","lib/i18n!front","skins/common/hison("above","left")}}xv.oLG.iGalIdCount++;var l=$("body"),u=$(".mozaique.profileslist"),d=u.find(".thumb-block.img-block"),c=/dom","skins/common/listing/loader"],function(e,t,i){var n=["friends","fans"],s=function(t){return e.data.user.url+"/"+t},o=function(e){this.container=e,this.loaders={},this.nodes={},this.type=!1,this.status="not_loaded"};return o.prototype={load:function(e){var o="friends",a=e.indexOf(",");if(-1!==a){var r=e.substring(a+1);"fans"===r&&(o=r)}if("not_loaded"===this.status){this.status="loading",this.type=o,this.nodes[o]=$("<div></div>").prependTo(this.container);var l=this,u=new i(o,this.nodes[o],s(o),!1,!0);return u.onLoaded=function(){l.loaders[o]=u,u.onLoaded=null;for(var e in n)o!==n[e]&&(l.nodes[n[e]]=$("<div></div>").prependTo(l.container).hide(),l.loaders[n[e]]=new i(n[e],l.nodes[n[e]],s(n[e]),!1,!0));l.status="loaded",l.type!==o?l.load("tabFriends,"+l.type):t.scrollToTop()},void u.load()}if("loaded"===this.status){if(this.type===o)return;this.nodes[this.type].hide(),this.nodes[o].show(),this.type=o,this.loaders[o].load(),t.scrollToTop()}this.type=o}},o}),define("skins/common/listing/loader/paginated",["./../loader","lib/helpers/inline_loader","lib/helpers/overlay/box","lib/i18n!front","skins/common/history/one_info_tracker"],function(e,t,i,n,s){var o=function(t,i,n,o,a,r){if(e.apply(this,arguments),this.storeLastPage=!(!r||"string"!=typeof r.storeLastPage)&&r.store.page=l)}this.loaded_once=!1,this.loading_overlay,this.error_overlay};return o.prototype=new e,o.prototype._get_url=function(){return this._get_url_without_pagin()+this._get_url_pagin()},otype._get_url_pagin=function(){return"/"+this.page},o.prototype.loadPage=function(e){this.page=parseInt(e),this.loaded=!1,this.storeLastPage&&s.set(this.storeLastPage,this.page),this.load()},o.prototype._display_loader=function(){if(!this.loaded_once)return void e.prototype._display_loader.call(this);this.loading_overlay||(this.loading_overlay=i.get(this.container,!1).setContent('<p class="text-center">'+t.getSafe("after",n.__("profile.loading_"+this.type)).getHtml()+"</p>"));var s=this;window.setTimeout(function(){s.loading&&s.loading_overlay&&s.loading_overlay.show()},500),this.error_overlay&&this.error_overlay.hide()},o.prototype._show_overlay=function(){},o.prototype._on_error=function(){if(!this.loaded_once)return void e.prototype._on_error.call(this);if(!this.error_overlay){var t=this;this.error_overlay=i.get(this.container,!0).setContent($('<div class="text-center"><strong><a href="#" class="text-danger">'+n.__("loading.failed_retry")+"</a></strong></div>").find("a").on("click",function(e){return e.preventDefault(),t.load(),t.loading&&t.loading_overlay&&t.loading_overlay.show(),!1}))}this.error_overlay.show(),this.loading_overlay&&this.loading_overlay.hide()},o.prototype.scrollToStoredPos=function(){var e=0;if(this.storeScrollPos&&s.canTrack(this.storeScrollPos)&&(e=parseInt(s.get(this.storeScrollPos)))>0)return $(window).scrollTop(e),e;var t=this.container.find(".pagination").first();if(t.length>0){var i=Math.max(t.offset().top-50,0);$(window).scrollTop()>i&&$(window).scrollTop(i)}},o.prototype._on_loaded=function(t){this.loaded_once=!0,e.prototype._on_loaded.call(this,t);var i=this;this.container.find(".pagination li a:not(.no-pagin), .thumb-block-pagin-next .pagin-next").on("click",function(e){if("function"==typeof i.fnCustomPaginClick)return void i.fnCustomPaginClick(e,$(this),i);if(e.preventDefault(),!$(this).hasClass("active")){var t=$(this).attr("href");t&&(i.storeScrollPos&&s.unset(i.storeScrollPos),i.loadPage(t.substring(1)))}}),this.scrollToStoredPos(),this.loading_overlay&&this.loading_overlay.hide(),this.error_overlay&&this.error_overlay.hide()},o.prototype.setCustomPaginClick=function(e){this.fnCustomPaginClick=e},o}),define("skins/default/profile/vote/good_bad",["./total"],function(e){var t=function(t,i,n,s,o,a,r,l,u,d){this.vgood=i,this.vbad=n,e.apply(this,[t,s,o,a,r,l,u,d])};return t.prototype=new e,t.prototype._init_counts=function(){e.prototype._init_counts.call(this),this.counts_vgood=this.node.find(".rating-bar-block .good"),this.counts_vbad=this.node.find(".rating-bar-block .bad")},t.prototype._get_tpl_vars=function(){var t=e.prototype._get_tpl_his.vgood,t.vbprototype._update_counts.call(this,t),this.counts_vgood.text(t.vgood),this.counts_vbad.text(t.vbad)},t}),define("skins/default/profile/comments/ui_node",["skins/common/thread/ui/node"],function(e){var t=function(t,i){void 0!==t&&e.apply(this,[t,i])};return t.prototype=new e,t.prototype.createChild=function(e,i){return new t(e,i)},t.prototype.getMessageKey=function(t){switch(t){case"node_loading":return"video.loading_comment";case"children_loading":return"video.loading_replies";case"children_error":return"video.failed_loading_replies";case"children_error_retry":return"video.failed_loading_replies_retry"}return e.prototype.getMessageKey.apply(this,[t])},t}),define("skins/default/profile/comments/ui_root",["config/main","skins/common/thread/ui/root"s.bNbChildrenMoved=!1,void 0!==e&&t.apply(this,["profi=function(e,t){return new i(e,t)},s.prototype.getMessage";case"reply":case"post_reply":return"video.post_a_comment";case"one_reply_before":return"misc.one_comment_before";case"nb_replies_before":return"misc.nb_comments_befo-children-count")).append(")"))},s.prototype.createPopup=function(){t.prototype.createPopup.apply(this,[]),this.sort_.show,k=w?e.data.user.quickies.all.nb_videos:0;h&&(_="aboutme");var S=$("#profile-title .profile-pic");if(e.data.user.profile_picture&&S&&S.null!==_||p||(_="videos")}if(g.length){var A;I[m]={},I[m].action=function(){if(o.unregisterAllHashesExcept("unopeneta("is-fanclub")?require(["skins/default/profile/liunction(t){A=new t(g,e),A.i_tactia.user.model&&!e.||(yn.lub-post .text-content").each(function(){if(this.scrollHeight>this.clientHeight){var e=$(this);if(e.hasClass("text-init"))return;e.addClass("text-init"),e.addClass("extendable-text"),e.on("click",function(){e.toggleClass("extended")})}}),$(".fan-club-post").each(function(){var e=$(this);if(!e.hasClass("post-init")){e.addClass("post-init");var t=e.find(".p-allgallery-back"),i=e.find(".p-allgallery-exit");e.find(".see-more-pics, .picture-block img").on("click",function(){t.css("display","block")}),i.on("click",function(){t.css("display","")}),t.on("click",function(ities"),"profile-activities",{main_cats:r}),V.on_first_loavenollbar"],function(e){n.each(function(){new e({oOptions:{$Container:$(this)}})})}),u()},V.on_next_load=function(e){s(e.find(".img-block .gif-tag")),o.init_listing(e,{rotator:!0});var t=e.find(".activity-event.premium-preview .mozaique");t&&t.length&&require(["lib/helpers/scrollbar"],function(e){t.each(function(){new e({oOptions:{$C];e.data.user.has_friends&&H.push("friends"),e.data.user.has_fans&&H.push("fans");var j;I.tabFriends={},I.tabFriends.action=function(t){if(j)return void(H.length>1&&j.load(t));H.length>1?requ{opt_value:"FRIEND_OF_FRIEND",opt_label:n.__("profile.allow.friends_of_friendsl:n.__("profile.allow.nobody")}),s.addSetting(n.__("profile.privacy.who_can_friend_request"),"profile[friend_request]",o,e.data.user.access.friend_requests),o=[],o.push({o_label:n.__("profile.allow.friends")}),o.push({opt_vale.data.user.access.frs=["friends","fans"])}var q=$("#favs-container");if(q.unction(){s.init_listing(q,{rotator:!1}),l.set(P.last_page,z.page);var i=0;if("string"==typeof a){var o=$(de).find("#"+a).first();o.length&&(i=o.offsetgoomber"==typeof u&&(r=u)}z.loadPage(r)});var i=$("#profile-favs-add"),n=$("#profile-favs-manage");(i&&i.length||n&&n.length)&&require(["skins/default/video/playlists/manager"],function(e){i.on("click",function(t){t.preventDefault(),e.loadCreateList()}),n.on("click",function(t){t.preventDefault(),e.loadEditList()})})}},require(["skins/default/video/playlists/manager"],function(e){e.autoOpenByHash()})}var W=$("#tabComments");if(W.length){var G;I.tabComments=function(){var t=$("#profile-comments-tab-chat-btn");if(t.length&&(e.dyn.login_info&&e.dyn.login_info.is_logged?xv.chat&&xv.chat.actions&&"function"==typeof xv.chat.actions.set_chat_toggle?xv.chat.actions.set_chat_toggle(t):(xv.chat||(xv.chat={}),xv.chat.infos||(xv.chat.infos={}),xv.chat.infos.to_set_chat_toggle_linseout",oe),re.on("click",ee),le.on("click",te),Z(3500)}X.length&&X.on("click",function(){var e=$(this).prop("href");if("string"==typeof e&&-1!==e.indexOf("#_tabRed")){var t=$("#tab-videos-red, #tab-posts");t.length&&i.scrollTo(t,xv.header.is_mobile()?48:8)}}l,ve=new c,ye=ve.isHashOpened();if(!ye&&I.tabActivity&&(I.tabVideos||I[my"===s||"tabFavorites"===s?(de="#"+n,$(window).on("scroll",pe)):(de=!1,$(window).off("scroll",pe)),l.canTl.get(P.last_profile)!==e.data.user.id_user&&(!function(){fort))}),f.addOnOpenCallback(function(e){null!==x&&x.updateHash("#_"+e)}),ye&&require(["skins/common/player/quickies/manager"],function(t){var i=new t(!0,"profile",{aSortFilters:["best"],oAvailableOrientations:{bHorizontal:v,bVertical:D,bAll:w},oHashManager:ve});i.setFullNavigationToProfile(e.data.user.id_user),ve.saveHash("_tabVideos"),i.setOnLoaded(function(){"object"==typeof xv.disclaimer&&xv.disclaimer.bIsOpen?document.addEventListener("disclaimerClosed",function(){i.openWithHash()}):i.openWithHash()})});var we=$("#profile-tabs .sticky-tabs");if(we.length){var ke,Se,Te,Ee=null,xe=null,Fe=null,Ie=$("#profile-tabs"),Pe=parseInt(Ie.css("padding-top")),$e=function(){var e=(Te?Te.top:0)-$(window).scrollTop()-5;we.toggleClass("is-sticky",e<ke),Ie.css("padding-top",Pe+(e<ke?Se:0)+"px")},Oe=function(){var e=t.getViewportWidth(),i=t.getViewportHeight(),n=e<i?"vertical":"horizontal",s=e<768;n===Ee&&e===Fe&&s===xe||(Ee=n,xe=s,Fe=e,ke=xe&&"vertical"===Ee?40:0,Se=we.outerHeight(),we.removeClass("is-sticky"),Ie.css("padding-top",Pe+"px"),setTimeout(function(){Te=we.offset(),$e()},100))};isNaN(Pe)&&(Pe=0),$(window).on("resize",Oe),$(window).on("scroll",$e),setTimeout(Oe,1e3),setTimeout(Oe,2e3),setTimeout(Oe,5e3),Oe()}})}),define("text!skins/default/profile/actieof f.pltype||"videosilike"!==f.pltype)return;_=f.pltype}else if("string"==typeof f.pltype){if("related"!==f.pltype&&"videosilike"!==f.pltype&&"random"!==f.pltype)return;_=f.pltype}var m,g,b,v,y,D,C,w,k,S,T,E,x,F,I,P=window.location.pathname.split("/"),O=p?P[1].substring(5):parseInt(P[1].substring(5)),L=i.__("playlist.*"),M=!1,A=!1,N=!1,V=0,R=null,B=!1,U=!1,H=!1,j=!1,q=0,z=!1,=r.getIds().join(",")}}else"random"===_&&(t=se("fav_"+h).join(","),i={ordered_ids:t.length>0?t:O});return i},le,j.open()},ue=function(e,t){var i="";t&&(i=' class="text-danger"'),U?U.setContent("<strong"+i+">"+e+"</strong>"):U=new o(C,"<strong"+i+">"+e+"</strong>",{trigger:!1,position:{v:"below",h:"left"},relative_to:$("#video-playlist")}),U.open()},de=function(e,t,i){"after"===e?le(t,i):ue(t,i)},ce=function(){j&&j.close(),U&&U.close()},fe=function(){var e=b.width();S=k.outerWidth(),T=Math.round(e/S),E=2,T<=2?E=0e(i,L.failed_loading_vids,!0),void he(R,!0)))},"json").fail(function(){s(),de(i,L.fairong_end%":"</strong>","%site%":'<div class="sheer-bg"><a href="'+f+'" target="_blank" rel="noopener">'+n.capitalizeWord(a.n)+"</a></div>"})}))},isTrailer:function(e){return e.t===undefined?e.i!==undeftools","lib/helpers/inline_loader","skins/common/thread/root","./comments/ui_root","text!./tab_comments_bottooad())},on_not_logged:function(){console.error("download.on_not_logged not implemented")},on_checked:function(e){if(!e.LOGGED)return void this.onfields.id_document.isMissing(this.exemption)?o.WARNING_LEVEL.ALERT:this.isIdenPicUploadUri:function(){throw"Not implemented"},getProfilePicStatusPicto:function(){return ==this.fields.profile_pic.id_file||!this.fields.profile_pic.id_file)||(!(null===this.fields.id_document.id_file||!this.fields.id_document.id_file)||(!(null===this.fields.consent_form.id_file||!this.fields.consent_form.id_file)||!!(this.fields.who_are_they.isRequired()||this.fields.name.isRequired()||this.fields.real_name.isRequired()||this.fields.sex.isRequired()||this.fields.country.isRequired()||this.fields.birth_date.isRequired()))))},setInt:function(e,t){return"string"==typeof t&&(t=parseInt(t)),"number"==typeof t&&!isNaN(t)&&(this[e]=t,!0)},setStr:function(e,t,i){return"string"==typeof t&&(!("object"==typeof i&&!i[t])&&(this[e]=t,!0))},clone:function(){return new o(JSON.parse(JSON.stringify(this)))},getFormattedData:function(e){var t=JSON.parse(JSON.stringify(this));return t.value=t.fields.name.value,t.can_edit=this.canEdit(),t.warning_level=this.getWarningLevel(),t.type_icon=this.getTypePicto(),"string"==typeof e&&"string"==typeof t.value&&(t.highlightedName=n.highlightStringParts(t.value,e)),t.exemption||(t.exemption="NONE"),sType=this.geInputModelType(),sType===o.S_MODEL_TYPE_MODEL?(t.has_id=!0,t.idps=this.iIdps):t.has_id=!1,t},getFieldInfoFormFormat:function(e){var t=undefined;return"sex"===e.name&&(t=this.sex_display),"country"===e.name&&(t=this.country_display),{sValue:e.get(),sRequirement:e.getStatus(),bRequired:e.isRequired(this.exemption),bShown:e.isShown(),bEditable:e.isEditable(),sDisplay:t,aRejectReasons:e.getRejectReasons()}},getInfoFormFormat:function(){var e=this;if(this.bIsLightForm){var i={fields:this.fields,inputs:["name","birth_date","who_are_they"].reduce(function(t,i){return t[i]=e.getFieldInfoFormFormat(e.fields[i]),t},{}),bHasId:this.hasId(),metadata_upload_uri:this.getMetadataUploadUri()};return log.debug("%c oModel --- getInfoFormFormat --- return lighields.profile_pic.getRejectReasons()},{sInputName:"id_document",ument.isMissing(this.exemption),sFilePccount/models/model-file/id-document/"+this.fields.id_document.id_file},t.prototype.getIdentificationDocUploadUri=function(){return"/account/models,k)},this.intervall-(a-this.last_chehlength;i++){var n=e.children.item(i),s=n.attributes;for(var o in s){var a=s[o],r=a.nodeName,l=a.nodeValue;r!==undefined&&(t[r]=l)}var u=n.nodeName;if("undefined"==typeof t[u])t[u]=_(n);else{if("undefined"==typeof t[u].pueElement)&&!t.complete)&&(e(t)?i&&i.call(t):s(t,i),!0)},v.getTag=function(t,i){if(e(t))return t.exifdata[i]},v.getIptcTag=function(t,i){if(e(t))return t.iptcdata[i]},v.getAllTags=function(t){if(!e(t))return{};var i,n=t.exifdata,s={};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s},v.getAllIptcTags=function(t){if(!e(t))return{};var i,n=t.iptcdata,s={};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s},v.pretty=function(t){if(!e(t))return"";var i,n=t.exifdata,s="";for(i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]?n[i]instanceof Number?s+=i+" : "+n[i]+" ["+n[i].numerator+"/"+n[i].denominator+"]\r\n":s+=i+" : ["+n[i].length+" values]\r\n":s+=i+" : "+n[i]+"\r\n");return s},v.readFromBinaryFile=function(e){return o(e)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return v})}.call(this),define("libs/exif",function(){}),define("skins/form/validator/crop_image",["static/utils","./input_base","lib/helpers/overlay/contextual_popup","lib/i18n!front","libs/croppie","jquery-scrollLock","libs/exif"],function(e,t,i,n){var s=function(e,i){"object"==typeof i&&(t.apply(this,[e,i]),this._init())};return s.prototype=new t,s.prototype._init=function(){var e=this;if(this.label=$("#"+this.id+"-label"),0===this.label.length)return void console.error("Unable to find the label");if(this.displayError=$("#"+this.id+"-display-error"),0===this.displayError.length)return void console.error("Unable to find display error crop validator");if(this.displayCrop=$("#"+this.id+"-display"),0===this.displayCrop.length)return void console.error("Unable to find display crop validator");if(this.sourceCrop=$("#"+this.id+"-source"),0===this.sourceCrop.length)return void console.error("Unable to find source crop validator");if(this.actionsCrop=$("#"+this.id+"-actions"),0===this.sourceCrop.length)return void console.error("Unable to find actions crop validator");this.input_agent=this.getInputAgent(),this.adBlockEnabled=!1;var t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",document.body.appendChild(t),window.setTimeout(function(){0===t.offsetHeight&&(e.adBlockEnabled=!0,$("#message_adblock").removeClass("hidden")),t.remove()},100),this.is_ios=/iPod/.test(navigator.userAgent)&&!window.MSStream,this.uploadCrop=!1,this.lastParentWidth=0,this.lastCropWidth=0,this.width=this.options.width,this.height=this.options.height,this.fit_container=this.options.fit_container,this.$container=this.options.$container,this.imageUploaded=!1,this.resizeTimer=!1,this.crop_to_window_size(),this.sourceCrop.on("change",function(){e.hide_crop(),e.imageUploaded=!1,e.validate()}).prop("disabled",!1),$("."+this.id+"-rotate").on("click",function(){return e.rotate_image(this.dataset.action),!1}),$(window).on("resize",function(){e.on_resize()}),this.options.no_init_validate||this.validate()},s.prototype.showIcon=function(e,t){this.icon?this.icon.removeClass():this.icon=this.displayError.find(".icon-error-content"),this.displayError.removeClass("hidden"),this.icon.addClass("icon-f icf-"+e+" text-"+t);var i=this;i.showError(),i.showWarning(),this.icon.on("mouseover",function(){i.showError(),i.showWarning()})},s.prototype.hideIcon=function(){this.icon&&this.displayError.addClass("hidden")},s.prototype.getInputAgent=function(){return this.label},s.prototype.doValidate=function(){if(this.is_ios)return i.alert(n.__("misc.device_not_compatible"),null,!0),!1;if(this.adBlockEnabled)return i.alert(n.__("misc.please_disabled_adblock"),null,!0),!1;if(0===this.sourceCrop[0].files.length)return!this.options.required||(this.setError(this.getMessage("required","Required")),!1);var t=this.sourceCrop[0].files[0].name;if(!t)return!this.options.required||(this.setError(this.getMessage("required","Required")),!1);if("object"==typeof this.options.extensions&&this.options.extensions.length>0){var s="",o=t.lastIndexOf(".");if(-1===o)return this.setError(this.getMessage("extensions","Invalid extension (%extension%).",{"%extension%":e.escape(s)})),!1;if(s=t.substring(o+1).toLowerCase(),!/^[a-z0-1]{2,20}$/.test(s))return this.setError(this.getMessage("extensions","Invalid extension (%extension%).",{"%extension%":e.escape(s)})),!1;var a=!1;for(var r in this.options.extensions)if(this.options.extensions.hasOwnProperty(r)&&this.options.extensions[r].toLowerCase()===s){a=!0;break}if(!a)return this.setError(this.getMessage("extensions","Invalid extension (%extension%).",{"%extension%":e.escape(s)})),!1}return!!this.imageUploaded||(this.read_file(),this.getOrientation(),!1)},s.prototype.getOrientation=function(e){var t=this,i={1:0,6:90,3:180,8:-90,2:0,5:90,4:180,7:-90};(new FileReader).onload=function(e){var n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return!1;for(var s=n.byteLength,o=2;o<s;){if(n.getUint16(o+2,!1)<=8)return callback(-1);var a=n.getUint16(o,!1);if(o+=2,65505==a){if(1165519206!=n.getUint32(o+=2,!1))return!1;var r=18761==n.getUint16(o+=6,!1);o+=n.getUint32(o+4,r);var l=n.getUint16(o,r);o+=2;for(var u,d=0;d<l;d++)if(274==n.getUint16(o+12*d,r)){u=n.getUint16(o+12*d+8,r);break}u&&(t.rotate_image(i[u]),[2,5,4,7].indexOf(u)&&t.flip_image("NORMAL"))}else{if(65280!=(65280&a))break;o+=n.getUint16(o,!1)}}return!1}},s.prototype.read_file=function(){var e=this,t=new FileReader;t.onload=function(i){var n=new Image;n.onload=function(){e.imageUploaded=i.target.result,e.update_crop_image(),e.validate()},n.src=t.result},t.readAsDataURL(this.sourceCrop[0].files[0])},s.prototype.set_image_url=function(e){this.imageUploaded=e,this.update_crop_image()},s.prototype.show_crop=function(){this.displayCrop.removeClass("hidden"),this.actionsCrop.removeClass("hidden")},s.prototype.hide_crop=function(){this.displayCrop.addClass("hidden"),this.actionsCrop.addClass("hidden")},s.prototype.get_container_width=function(){if(!this.$container)return this.sourceCrop.parents("form").innerWidth();var e=window.getComputedStyle(this.$container[0],null);return this.$container[0].clientWidth-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight))},s.prototype.crop_to_window_size=function(){var e,t,i=this,n=i.get_container_width();if(i.lastParentWidth===n)return!1;if(i.lastParentWidth=n,e=i.width,t=i.height,(i.fit_container||n<300)&&(e=n,t=100*i.height/(100*i.width/n)),i.lastCropWidth===e)return!1;try{i.hide_crop(),i.displayCrop.croppie("destroy"),i.uploadCrop=i.displayCrop.croppie({viewport:{width:e,height:t,type:"square"},enableExif:!0,enableOrientation:!0,boundary:{width:e,height:t},update:function(){i.set_crop_value()}}),i.lastCropWidth=e}catch(s){return console.info(s),!1}return i.displayCrop.children(".cr-boundary .cr-overlay").scrollLock(),!0},s.prototype.update_crop_image=function(){var e=this;this.show_crop(),this.displayCrop.css({visibility:"hidden !important"}),this.uploadCrop.croppie("bind",{url:this.imageUploaded}).then(function(){e.uploadCrop.croppie("setZoom",0),e.displayCrop.css({visibility:"visible"}),e.set_crop_value()})},s.prototype.on_resize=function(){var e=this;this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){e.crop_to_window_size()&&e.imageUploaded&&e.update_crop_image()},10)},s.prototype.set_crop_value=function(){var e=this;this.uploadCrop.croppie("result",{type:"canvas",size:"original"}).then(function(t){e.input.val(t),e.validate()})},s.prototype.getIconPositionReference=function(){return this.sourceCrop},s.prototype.rotate_image=function(e){this.uploadCrop.croppie("rotate",parseInt(e))},s.prototype.flip_image=function(e){var t=this;t.uploadCrop.croppie("bind",{url:t.imageUploaded,orientation:e})},s}),define("text!skins/common/video/user_metadata_suggest/templates/model_info_form.mustache",[],function(){
return'<div class="container-model-info-form">\n    <div class="overlay smooth-hidden"></div>\n\n\t<div class="small-padding pull-left">\n\t\t<button type="button" class="btn btn-xs btn-default cancel-model-info-form">\n\t\t\t<span class="icon-f icf-arrow-left"></span> {{{back_to_list}}}\n\t\t</button>\n\t</div>\n\t<div class="clearfix"></div>\n\n\t<h2>{{{ sTitle }}}</h2>\n\n    <form action="#" method="post" class="model-info-form">\n        <div class="row">\n\t        {{#name.bShown}}\n\t\t        <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="name">\n\t\t\t        <label>{{{ name.sDisplay }}}</label>\n\t\t\t        <span class="input-group-btn{{#name.bIsError}} is-error{{/name.bIsError}}">\n\t                    <input type="text" name="name" class="form-control" autocomplete="off"{{#name.bEditable}} placeholder="{{{name.sDisplay}}}"{{/name.bEditable}}{{^name.bEditable}} disabled="disabled"{{/name.bEditable}}/>\n\t                </span>\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#name.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/name.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t\t        </div>\n\t        {{/name.bShown}}\n\t        {{#real_name.bShown}}\n\t\t        <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="real_name">\n\t\t\t        <label>{{{ real_name.sDisplay }}}</label>\n\t\t\t        <span class="input-group-btn{{#real_name.bHasExemptionToggle}} with-exemption-toggle{{/real_name.bHasExemptionToggle}}{{#real_name.bIsError}} is-error{{/real_name.bIsError}}">\n\t\t\t\t        {{#real_name.bHasExemptionToggle}}\n\t\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="real_name">\n\t\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t\t        </button>\n\t\t\t\t        {{/real_name.bHasExemptionToggle}}\n\t                    <input type="text" name="real_name" class="form-control" autocomplete="off"{{#real_name.bEditable}} placeholder="{{{real_name.sDisplay}}}"{{/real_name.bEditable}}{{^real_name.bEditable}} disabled="disabled"{{/real_name.bEditable}}/>\n\t                </span>\n\t\t\t        {{#sRealNameLegend}}<p class="legend">({{{ sRealNameLegend }}})</p>{{/sRealNameLegend}}\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#real_name.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/real_name.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t\t        </div>\n\t        {{/real_name.bShown}}\n\t        {{#sex.bShown}}\n\t\t        <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="sex">\n\t\t\t        <label>{{{ sex.sDisplay }}}</label>\n\t\t\t        <span class="input-group-btn{{#sex.bHasExemptionToggle}} with-exemption-toggle{{/sex.bHasExemptionToggle}}{{#sex.bIsError}} is-error{{/sex.bIsError}}">\n\t\t\t\t        {{#sex.bHasExemptionToggle}}\n\t\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="sex">\n\t\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t\t        </button>\n\t\t\t\t        {{/sex.bHasExemptionToggle}}\n\t                    <select name="sex" class="form-control" autocomplete="off"{{^sex.bEditable}} disabled="disabled"{{/sex.bEditable}}>\n\t\t                    {{#sex.bEditable}}\n\t\t\t                    {{#aSexList}}<option value="{{{ sValue }}}"{{#bSelected}} selected="selected"{{/bSelected}}>{{{ sDisplay }}}</option>{{/aSexList}}\n\t\t                    {{/sex.bEditable}}\n\t\t                    {{^sex.bEditable}}\n\t\t\t                    {{#aSexList}}{{#bSelected}}<option value="{{{ sValue }}}" selected="selected">{{{ sDisplay }}}</option>{{/bSelected}}{{/aSexList}}\n\t\t                    {{/sex.bEditable}}\n\t\t\t\t        </select>\n\t                </span>\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#sex.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/sex.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t\t        </div>\n\t        {{/sex.bShown}}\n\t\t\t{{#birth_date.bShown}}\n\t            <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="birth_date">\n\t                <label>{{{ birth_date.sDisplay }}}</label>\n\t                <span class="input-group-btn{{#birth_date.bHasExemptionToggle}} with-exemption-toggle{{/birth_date.bHasExemptionToggle}}{{#birth_date.bIsError}} is-error{{/birth_date.bIsError}}">\n\t\t\t\t        {{#birth_date.bHasExemptionToggle}}\n\t\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="birth_date">\n\t\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t\t        </button>\n\t\t\t\t        {{/birth_date.bHasExemptionToggle}}\n\t                    <input type="date" name="birth_date" class="form-control" max="{{sBirthDateMax}}" {{#birth_date.bEditable}} placeholder="{{{sBirthDatePlaceHolder}}}"{{/birth_date.bEditable}}{{^birth_date.bEditable}} disabled="disabled"{{/birth_date.bEditable}}"/>\n\t                </span>\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#birth_date.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/birth_date.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t            </div>\n\t\t\t{{/birth_date.bShown}}\n\t\t\t{{#country.bShown}}\n\t\t        <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="country">\n\t\t\t        <label>{{{ country.sDisplay }}}</label>\n\t\t\t        <span class="input-group-btn{{#country.bHasExemptionToggle}} with-exemption-toggle{{/country.bHasExemptionToggle}}{{#country.bIsError}} is-error{{/country.bIsError}}">\n\t\t\t\t        {{#country.bHasExemptionToggle}}\n\t\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="country">\n\t\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t\t        </button>\n\t\t\t\t        {{/country.bHasExemptionToggle}}\n\t\t\t\t        <select name="country" class="form-control" autocomplete="off"{{^country.bEditable}} disabled="disabled"{{/country.bEditable}}>\n\t\t                    {{#country.bEditable}}\n\t\t\t                    {{#aCountries}}<option value="{{{ sValue }}}"{{#bSelected}} selected="selected"{{/bSelected}}>{{{ sDisplay }}}</option>{{/aCountries}}\n\t\t                    {{/country.bEditable}}\n\t\t\t\t\t        {{^country.bEditable}}\n\t\t\t\t\t\t        {{#aCountries}}{{#bSelected}}<option value="{{{ sValue }}}" selected="selected">{{{ sDisplay }}}</option>{{/bSelected}}{{/aCountries}}\n\t\t\t\t\t        {{/country.bEditable}}\n\t\t\t\t        </select>\n\t                </span>\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#country.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/country.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t\t        </div>\n\t\t\t{{/country.bShown}}\n\t\t\t{{#bExemptionShown}}\n\t\t\t<div class="col-sm-6 col-xs-12 model-info-input-block" data-name="exemption">\n\t\t\t\t<label>{{{ sExemption }}}</label>\n\t\t\t\t<span class="input-group-btn">\n\t\t\t\t\t<select name="exemption" class="form-control" autocomplete="off"{{^bIsExemptionEditable}} disabled="disabled"{{/bIsExemptionEditable}}>\n\t\t\t\t\t\t{{#aExemptions}}<option value="{{{ sValue }}}"{{#bSelected}} selected="selected"{{/bSelected}}>{{{ sDisplay }}}</option>{{/aExemptions}}\n\t\t\t\t\t</select>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t{{/bExemptionShown}}\n        </div>\n\t\t{{#who_are_they.bShown}}\n\t        <div class="model-info-input-block" data-name="who_are_they">\n\t\t        <label>{{{ who_are_they.sDisplay }}}</label>\n\t\t        <span class="input-group-btn{{#who_are_they.bHasExemptionToggle}} with-exemption-toggle{{/who_are_they.bHasExemptionToggle}}{{#who_are_they.bIsError}} is-error{{/who_are_they.bIsError}}">\n\t\t\t        {{#who_are_they.bHasExemptionToggle}}\n\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="who_are_they">\n\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t        </button>\n\t\t\t        {{/who_are_they.bHasExemptionToggle}}\n\t\t            <textarea name="who_are_they" class="form-control" {{^who_are_they.bEditable}} disabled="disabled"{{/who_are_they.bEditable}}></textarea>\n\t\t        </span>\n\t\t\t\t{{#sWhoAreTheyLegend}}<p class="legend">({{{ sWhoAreTheyLegend }}})</p>{{/sWhoAreTheyLegend}}\n\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t{{#who_are_they.aRejectReasons}}\n\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t{{/who_are_they.aRejectReasons}}\n\t\t\t\t</ul>\n\t        </div>\n\t\t{{/who_are_they.bShown}}\n\n\n\t    {{#bFilesShowBlock}}\n\t\t    <div class="row">\n\t\t\t    <div class="col-xs-12 model-info-files has-{{iFileBlocksCount}}-blocks">\n\t\t\t\t    {{{ st    <div class="model-info-form-e-block{{#bCanUseFileDrop}} file-drop{{/bCanUseFileDrop}}{{#bHasFileErrors}} has-file}}"{{/bCtionT  <p c :{{/bHasFile}}{{ss="alert-{{sFi>\n\n\t\t\t\t<span class="file-block-overlay uploading-overlay"><span>{{{ sIsUploading }}}</span></span>\n\t\t\t</div>\n\t\t\t{{#bCanUseFileDrop}}<span class="file-block-overlay file-drop-overlay"><span><span class="icon-f icf-upload"></span> {{{ sDropHere }}}</span></span>{{/bCanUseFileDrop}}\n\t\t{{/bCanUpload}}\n\t</div>\n{{/oFile}}\n'}),define("text!skins/common/video/user_metadata_suggest/templates/model_info_form_exemption_pop.mustache",[],function(){return'<div>\n\t<h3>{{{sTitle}}} :</h3>\n\n\t<ul>\n\t\t{{#ativeLink}}} <shoose-thumb">\n\ickFromVideo}}}</hntries,input_not:{exy:n.__("video.user_s.$errorContainer=nulpreventDefault(nputs=this.$overlontent : Model DaeFieldsVisibility(),untry.sRequirenction(){var e=this.getsValue:n,bSelection(){var e="";re(this.oInpoRules.datThey:n.__("videoInputsInfo.exeon.bEditablcel")};returnuired:!!s&&s.bR:t===o}})):O,bShowAlternativeVtton:not(.is-selecte.close(),t.trigger("c1,t.inputs[i].bEditable||ith key",i),n.exemptio(this.oInpu=e.getFormInpuInfo.who_are_theayContent.find(".model-info-input-block[data-name=who_are_they]").hide()}if(e.oInputsInfo.enfo).forEach(functildNameFile(e)){var t=this.getFieldFileName(e);this.$overlayContent.find(D+'[data-name="'+t+'"]').hide()}else{var i=ayContent.find(D+'[data-name="'+i+'"]').show()}else{this.showFieldValue(e);var n=this.oInputsInfo[e],s=this.$overlayContent.find('.model-info-input-block[data-name="'+e+'"]');s.show();var o=!!s.find("input").val()||!!s.find("select").val()||!!s.find("textarea").val();t||o||!n.bRequired?s.find(".input-group-btn").removeClass("missing-required"):s.find(".input-group-btn").addClass("missing-required")}},hideFieldValue:function(e){var t=this.$inputs.filter("[name="+e+"]");"exemption"!==e&&t.val()&&(this.oVisibilityToggledInputsValues[e]=t.val(),t.val(""))},showFieldValue:function(e){"exemption"!==e&&"undefined"!=typeof this.oVisibilityToggledInputsValues[e]&&(this.$inputs.filter("[name="+e+"]").val(this.oVisibilityToggledInputsValues[e]),delete this.oVisibilityToggledInputsValues[e])},initSubmit:function(){null!==this.$overlayContent&&(log.debug("initSubmit",this.$overlayContent.find("form").length),this.$overlayContent.find("form").on("submit",this,this.onFormSubmit))},onFormSubmit:function(e){e.preventDefault();var t=e.data;return t.isSubmitLock()?void log.debug("submit form --- RETURN isSubmitLock"):(log.debug("submit form"),t.addSubmitLock(),t.bShouldValidateFormOnInputChange=!0,t.isFormValid()?void t.uploadFormData():void t.removeSubmitLock())},uploadFormData:function(t){if(null!==this.$overlayContent){if(log.debug("uploadFormData"),this.iUploadingCount=0,this.iUploadAwaitCount=0,this.initUploadErrorsReceived(),this.oFormDataTemp=new FormData(this.$form[0]),oSelf=this,sType=this.oModel.geInputModelType(),this.bIsLightForm)return void this.onFormDataUploaded();if(log.debug("uploadFormData",sType),"boolean"==typeof t&&sType!==f.S_MODEL_TYPE_UNIDENTIFIED||(t=!1),!t){var i=Object.entries(e.dyn.modelSuggest.newSuggestedModel).reduce(function(e,t){var i=t[0],n=t[1];return(n&&!n.is_file||"exemption"===i)&&e.push(i),e},[]),s=new FormData,o=[],a="",r=!1;for(var l in i){var u=i[l],d=this.$inputs.filter("[name="+u+"]"),c=d&&d.length,h=c?d.val():"exemption"===u?f.S_EXEMPTION_NONE:"";"exemption"===u&&(r=!0),c&&h&&h.length&&this.oInputsInfo[u]&&this.oInputsInfo[u].sDisplay&&o.push(this.oInputsInfo[u].sDisplay),s.append(u,h)}r||s.append("exemption",f.S_EXEMPTION_NONE),this.iUploadingCount++,this.iUploadAwaitCount++,a=o.length?"<br/> - "+o.join("<br/> - "):"<br/> - ("+n.__("video.user_suggest.no_data_sent")+")",Object.entries(this.oModel.fields).forEach(function(e){var t=e[0],i=e[1];if(!i.is_file){var n=oSelf.$inputs.filter('[name="'+t+'"]');n&&n.length&&i.set(n.val())}}),
log.debug("uploadFormData --- AJAX MetaData Sending",this.oModel.getMetadataUploadUri(),s),this.bCloseLock=!0,$.ajax({url:this.oModel.getMetadataUploadUri(),type:"POST",data:s,contentType:!1,processData:!1,success:function(e){log.debug("uploadFormData --- AJAX MetaData SUCCESS",e);var t=!0;if(e.result){var i=!1;oSelf.iUploadAwaitCount--,e.data&&sType===f.S_MODEL_TYPE_UNIDENTIFIED&&(e.data.modelId?(oSelf.setModelIdSuggestion(e.data.modelId),oSelf.upf.formDataUploadError(s):oSelf.formDataUploadError(s+a)}t&&oSelf.formDi?s.uploadFile(ssage,o=n.__("misc.inding",e.sFileUploadUri,t);var r=e.sSetIdFuncName;this.bCloseLock:!1,processData:!1,success:function(t){if(log.debug("uploadFormData --- AJAX FILE SUCCESS",t),t.result)a.iUploadAwaitCount--,t.data&&t.data.data.documentFileId);else{var nrents(D);i.addClass("has-fileErrorsReceived)},onFormDataUplis.getFormInputsValues(),s=!0,o=[]isFormValid les[_].toLocaleString(e.dy_field")),log.deb=this.$inputs.filter("[nameired){var d=this.$inputs.filter("[name="+y.sInputName+"]").val();void 0!==d&&""!==d||(s=!1,r(y.sInputName,y.sDisplay,n.__("video.user_suggest.empty_field")),log.debug("isFormValid --- ERROR","empty",{sKey:l,sValue:d,oFileInfo:y},"color: crimson"))}}return this.setFormErrors(o),log.debug("isFormValid",s?"FORM IS VALID":"Form has ERRORS",o,i)inline_loader","lib/helpers/scrollbar","./model_existing","./model_suggest","text!./templates/models_list.mustache","text!./templates/find_models.mustache"],function(e,t,i,n,s,o,a,r,l,u,d){var c=function(){this.iModelMinSearchEntryLength=1,this.iWhoAreTheyEntryLength=10,this.bIsForUpload=!1,this.bDisplayMobile=$(window).width()<1024,this.sLastSearch=null,this.sSearchInputSelector=null,this.bIsLightModelCreation=!1,this.sContainer=null,this.$ModelsList=null,this.xCurrentRequest=null,this.oRequestTimer=null,this.bIsLoading=!1,this.oSearchCache={},this.oModelsCache={id:{},ids:{},ide:{}},"xnxx"===e.sitename?this.sDefaultProfilePicture="/profiles-picture/xnxx":this.sDefaultProfilePicture="/profiles-picture/xvideos",this.oModelCreator=null};return c.prototype={fnSetIsForUpload:function(){this.bIsForUpload=!0},fnSetSearchInputSelector:function(e){this.sSearchInputSelector=e},fnSetModelCreationToLight:function(e){this.bIsLightModelCreation="boolean"!=typeof e||e},fnSetContainerSelector:function(e){this.sContainer=e},fnManageModelInput:function(){var e=this;$(window).on("click",function(t){return!!e.$ModelsList.is(":hidden")||(void 0!==$(t.target).parents("#models_list").get(0)||void 0!==$(t.target).parents(e.sContainer).get(0)||void e.fnClose())}),this.$ModelsList.find(".mozaique").each(function(){"is-init"!==$(this).data("model-submitted-click")&&($(this).data("model-submitted-click","is-init"),$(this).on("click",".model-submitted",function(t){t.preventDefault(),t.stopPropagation();var i={};if($(this).data("id")&&"undefined"!=typeof e.oModelsCache.id[$(this).data("id")])i=new r(e.oModelsCache.id[$(this).data("id")]);else if($(this).data("ids")&&"undefined"!=typeof e.oModelsCache.ids[$(this).data("ids")])i=new l(e.oModelsCache.ids[$(this).data("ids")]);else{if(!$(this).data("ide")||"undefined"==typeof e.oModelsCache.ide[$(this).data("ide")])return;i=new l(e.oModelsCache.ide[$(this).data("ide")])}e.fnTriggerAddModelToList(i),e.fnTriggerCleanUpModelInput()}))}),$(this.sSearchInputSelector).off("click focus").on("click focus",function(t){t.stopPropagation();var i=$(this).val();i.length>=e.iModelMinSearchEntryLength&&e.fnDrawModelsDataList(i)}).off("keyup change").on("keyup change",function(t){var i=$(this).val();if(null===e.sLastSearch||e.sLastSearch!==i){if(e.sLastSearch=i,i.length<e.iModelMinSearchEntryLength)return void e.fnClose();e.fnGetModelsSuggestionsList(i)}}).off("paste").on("paste",function(e){$input=$(this),setTimeout(function(){$input.trigger("keyup")},100)})},fnClose:function(){this.$ModelsList.hide(),this.$ModelsList.find(".mozaique").empty()},fnGetModelsSuggestionsList:function(i){if(null!==this.xCurrentRequest&&("function"==typeof this.xCurrentRequest.abort&&this.xCurrentRequest.abort(),this.xCurrentRequest=null),null!==this.oRequestTimer&&(clearTimeout(this.oRequestTimer),this.oRequestTimer=null),"undefined"!=typeof this.oSearchCache[i]&&Date.now()-this.oSearchCache[i].iTime<12e4)return this.setSuggestionsListLoading(!1),void this.fnDrawModelsDataList(i);this.setSuggestionsListLoading(!0);var n=this;this.oRequestTimer=setTimeout(function(){var s="/video-user-suggest/find-model";n.oRequestTimer=null,n.bIsForUpload&&(s+="/upload"),n.xCurrentRequest=$.ajax({method:"POST",url:s,data:{model_name:i,csrf:e.dyn.csrf_find_model},dataType:"json",success:function(e){if(n.setSuggestionsListLoading(!1),!e.result||"undefined"==typeof e.models)return void n.fnGenerateFindModelError(!("string"!=typeof e.message||!e.message.length)&&e.message);var t,s=e.models||[],o=e.suggestions||[],a={id:[],ids:[],ide:[]};for(t in s)n.oModelsCache.id[s[t].id]=s[t],a.id.push(s[t].id);for(t in o){var r=o[t];r.ids?(n.oModelsCache.ids[r.ids]=r,a.ids.push(r.ids)):r.ide&&(n.oModelsCache.ide[r.ide]=r,a.ide.push(r.ide))}n.oSearchCache[i]={iTime:Date.now(),oSearch:a},n.fnDrawModelsDataList(i),null!==n.xCurrentRequest&&(n.xCurrentRequest=null)},error:function(e,i,s){"string"==typeof s&&s.length||(s="ajax error"),s+="<br/>("+t.escape(t.unescape(s))+")",s+=e.status?"<br/>("+t.escape(t.unescape(e.status))+")":"",n.setSuggestionsListLoading(!1),n.fnGenerateFindModelError(s),null!==n.xCurrentRequest&&(n.xCurrentRequest=null)}})},250)},setSuggestionsListLoading:function(e){if("boolean"!=typeof e&&(e=!0),this.bIsLoading!==e)if(this.bIsLoading=e,e){var t=$('<span class="loader"></span>');t.append(o.getIcf()),this.$ModelsList.show().find(".mozaique").empty().append(t),this.$ModelsList.find("#add_new_form_access").prop("disabled",!0)}else this.$ModelsList.find(".mozaique").find(".loader").remove(),this.$ModelsList.find("#add_new_form_access").prop("disabled",!1)},getSearchOrderedModelList:function(e){var t=[];if("undefined"==typeof this.oSearchCache[e])return t;var i={ids:0,ide:0,id:0},n=[Math.floor(15),30];for(var s in n){var o=n[s];for(var a in i){var r=this.oSearchCache[e].oSearch[a]&&this.oSearchCache[e].oSearch[a].length?this.oSearchCache[e].oSearch[a].length:0;if(!(t.length>=o&&"id"!==a))for(;i[a]<=o&&i[a]<r;){var l=this.oSearchCache[e].oSearch[a][i[a]];if("undefined"!=typeof this.oModelsCache[a][l]&&t.push(this.oModelsCache[a][l]),i[a]++,t.length>=o&&"id"!==a)break;if(t.length>=30)return t}}}return t},fnDrawModelsDataList:function(e){if("undefined"==typeof this.oSearchCache[e])return!1;var t=this.getSearchOrderedModelList(e),n=this.fnFormatModelsList(t,e),s=i.render(u,{models:n})remove"===i?l.fnAddToTmpRemoveSuggestionsStored(o,a,r):l.fnRemoveFromTmpRemoveSuggestionsStored(o,a,r)},error:function(e,i,n){"string"==typeof n&&n.length||(n=t.unescape(s.__("internal_error"))),n+="<br/>("+t.escape(t.unescape(n))+")",n+=e.status?"<br/>("+t.escape(t.unescape(e.status))+")":"",l.fnGenerateError(n,o)}})},fnManageTagInput:function(){var e=this;this.$popupContent.find(".validate-suggest-tag").on("click",function(t){t.preventDefault(),t.stopImmediatePropagation();var i=$(this).parent().find("input[name=metadata_tag_suggestion]");e.fnValidateTagInput(i.val())}),this.$popupContent.find("input[name=metadata_tag_suggestion]").on("keyup",function(t){t.stopImmediatePropagation();var i=$(this).val();"Enter"===t.key&&e.fnValidateTagInput(i)})},fnValidateTagInput:function(e){if(e.length>this.iLimitMetadataSize&&$(this).val(val.substring(0,this.iLimitMetadaement=o.id:"undefined"!=typeof o.value&&null!==o.value0,a.bSkinDefault&&(o.display_link=!0),o.id=e.id),a.fnMetadataAlreadyExist(n,o)){return"model"===n?void a.oM&null!==i&&(n=i),this.$popupContent.find(n).html(e).removeClass("hidden");var s=rs_tag"),void 0!==t&&null!==t&&(i=t),this.$popupCoedDataStorageKey());this.oStoredData=e||{added:{model:{},tag:{}},removed:{model:{},tag:{}}}},fnGetStoredData:function(){return this.oStoredData},fnStoreData:function(){xv.storage.set(this.fnGetStoredDataStorageKey(),this.oStoredData)},fnUrlEncodeName:function(e){return e.replace(" ","-").toLowerCase()},fnMetadataAlreadyExist:function(e,t){if("model"===e&&0===this.aModels.length||"tag"===e&&0===this.aKeywords.length)return!1;var i="undefined"!=typeof t.id&&null!==t.id&&t.id;if("model"===e){if(i=parseInt(i),"model"===e&&"undefined"!=typeof this.oRawModels[parseInt(t.id)])return!0;for(var n in this.oRawModels)if(this.oRawModels[n]===t.value)return!0}for(var n in this.aRawKeywords)if(this.aRawKeywords[n]===t.value)return!0;var s=t.value.toLowerCase();if(!1!==i&&("undefined"!=typeof this.oStoredData.removed[e][i]||"undefined"!=typeof this.oStoredData.added[e][i]))return!0;var o=this.oStoredData.removed[e],a=this.oStoredData.added[e];":l<=992?"after-8":"after-10"}u=u.filter(fun,f=function(){"function"==typeof window.display_related_native&&window.display_related_native(),a.off("click"),r=!0,c(!0),o.addClass("expanded")};c(!0);var h=function(){for(var e=$("#tabComments"),t=$("#related-videos"),i=t.find(".thumb-block[id]"),n=i.first().innerHeight(),s=t.innerHeight(),l=e.innerHeight(),u=l-s>=0?Math.round(l/n):Math.round(s/n),d=Math.round(t.width()/i.first().width())*u,f=0;f<d;f++)i.eq(f).show();"function"==typeof window.display_related_native&&window.display_related_native(),d>i.length&&(a.off("click"),r=!0,c(!0),o.addClass("expanded"))};window.xv.videopage||(window.xv.videopage={}),window.xv.videopage.displayRelatedVideos=function(){var e=$("#related-videos");$("#tabComments_bottom_page").length>0||!e.is(":visible")||e.width()===$(".tabs").width()||o.hasClass("expanded")||h()},a.on("click",function(e){e.preventDefault(),f(),n.setUrlHash("show-related",!0)}),$(window).on("resize"this.init())};return l.prototype={init:function(){"object"==typeof e.dyn.vmdata&&"number"==typeof e.dyn.vmdata.nb_playlists&&e.dyn.vmdata.nb_playlists>5&&(this.initTabs(),this.$relatedVids.removeClass("is-loading-related-content"))},initTabs:function(){this.$relatedContent=$(t.render(a,{label_videos:r.__("related_videos",{},"Related videos"),label_playlists:r.__("related_playlists",{},"Related playlists"),nb_playlists:e.dyn.vmdata.nb_playlists_f})),this.$relatedVids.before(this.$related:void i.loadPlaylistsFailed()}).fail(i.loadPlaylistsFailed)},loadPlaylistsFailed:function(){var e=this;this.$relatedPlaylists.append($('<p class="text-center"><a href="#" class="text-danger"><strong>'lt/ticket-red.svg"\n\t\t\t\t\t       src="{{{ static_dom }}}/v3/video/auto_tr_title","skins/common/video/tracking","skins/common/video/related","skins/default/video/subscribe","skins/default/video/tags","skins/default/video/playlists/related","skins/default/video/premium_block_popup","skins/default/video/ended_video_links_in_player","skins/common/form/cross_site_login"],function(t,i,n,s,o,a,r,l,u,d,c,f,h,p,_,m,g,b,v,y,D,C){var w=function(){};w.prototype={init:function(){this.addSponsor();var f=new y(e.data.id_video,!0);f.fnSetKeywords(e.dyn.video_tags),f.fnSetModels(e.data.video_models),f.fnAddItemToDom=function(t,i){var n=$(".video-tags-list li.main-uploader");if(Object.keys(e.data.video_models).length>0){vt").append((new e).getNode()))})};var R=new s("#video-tabs",L,!0,"no_tab_hash");M=new m;var B=$("#v-actions .tabs .save"),U=!1;if(!e.dyn.login_info.is_logged){var H=parseInt(n.get("video_login_alert_btn_last_shown","watch_later")),j=Date.now();j-H<6048e5&&(v.init_btn(B,e.data.id_video),U=!0)}U||B.on("click",function(){e.dyn.login_info.is_logged||n.set("video_login_alert_btn_last_shown",j.toString(),"watch_later"),b.loadAddToList(e.data.id_video,{bAddWatchLaterOnLogin:!0,$confirmPos:B})});var q=$("#v-actions-overflow-menu"),z=new a(q,"",{relative_to:$("#content"),popup_class:"v-actions-pop-menu",position:{v:"above",h:"urn!1;var t=e.children(".channel-desc").first();t.length&&(t.offset().top+t.outerHeight()>e.offset().top+e.outerHeight()?e.addClass("too-small"):e.removeClass("too-small"))};$("#show-channel-desc, #video-sponsor-links .channel-desc").on("click",function(e){e.preventDefault(),$(this).parent().addClass("expanded")}),$(window).on("resize",r),r()}},getRegularSponsorLink:function(e){return $(t.render(C,{more_at:o.__("video.sponsors.more_at"),sponsor:e,show_more:o.__("misc.show_more"),show_less:o.__("misc.show_less")}))}},(neClass("is-active"),this.iCurrentFocus>-1&&e.eq(this.iCurrentFocus).addCla\n\t\t<span class="flag-small flag-{{ countryfor(var n in e.dyn.av_menu_countries)t.oCountriesAv[n]={name:i.unescape(t.oCountries.countries[n]),href:e.dyn.av_menu_countries[n]}};if(this.oCountries=o.getCountriesStored(),this.oCountries)n();else{var t=this;o.init(function(){t.oCountries=o.getCountriesStored(),n()})}}},l.prototype.onInput=function(o){this.clt=a,this.sLastSearch=null,this.oTimeout=null,this.iDelay=250};return u.prototype=new s,u.prototype.onInput=function(s){this.closeAllLists();var a=s.currentTarget.value.trim();if(a){e.dyn.is_mobile&&t.scrollTo(this.$container,0,0);var r="/search-suggest",l=e.dyn.user_main_cat||e.dyn.pagefilter||!1;!l||"gay"!==l&&"shemale"!==te(a)}},u.prototype.updateData=function(e,t,i){"object"!=ty("http://","https://")),"number"==typeof a.M?(e[s][o].highlight=!0,e[s][o].t1=a.N.toString(owerCase().split(" "),u=[];for(var d in i){var c=l.indexOf(i[d]);-1===c&&u.push(i[d])}var f=u.join(" ");e.keywords[o].N=f+" "+e.keywords[o].N,e.keywords[o].t1=f+" "+e.keywords[o].t1}}for(var o=0;o<e.pornstar.length;o++)e.pornstar[o].model=0===e.pornstar[o].R||e.pornstar[o].R>1e3;return e},u}),define("skins/default/form/region_select",["lib/helpers/inline_loader"],function(e){var t={},i=function(e){var t=[];for(var i in e)t.push({code:i,name:e[i]});.help-block.text-danger").remove();for(var t in e)this.region.append('<option value="'+e[t].code+'">'+e[t].name+"</option>"-form")&&require(["skins/default/form/region_select","skins/default/form/range_select"],function(e,t){new e("#country_select","#region_sel!0))}),r.search&&t.on("@search.focus",function(){t.stayFocused=!0,t.search.addClass("focused")}).on("@:e("<link/>",{rel:"stylesheet",href:t}).appendTo("head"));O.lengtites.svg",$.imageType=i.imageType),d(n)>4?(R=$.regUnicode,$.imageType=i.imageType||"png"):R=new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+$.unicodeRegexp+")","gi")})}function T(t,n){n=n.replace(.each(e.isArray(o[0])?o[0]:[o[0]],function(s,a){e(a).on(o[1],function(){var s=M.call(arguments),a=e.isFcdn.jsdelivr.net/",base:null,isLoading:!1},U=function(e,i){var n=this;S(i),I[n.id=++F]={},P[n.id]={},t(function(){k(n,e,i)})};U.prototyspan class='floating-count'><span class='count'></span>"+(e?"<span clas_emojis&&$("#"+this.id+"_emoji .emojionearea-editor").length>0?$(popup=null,this.popup_timer=null,this.has_error=!1,this.error_txt=!1,this.treturn s}({1:[function(e,t,i){"use strict";t.exports=function(e,t,i){if("function"==typeof Array.prototype.find)retu[\d{12ted. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===undefined?this.localeData(),N("second","s"),B("second",15),X("s",Cs),X("ss",Cs,bs),ee(["s","ss"],Us);var=yo,Vo.min=vo,Vo.parsingFlags=Hi,Vo.set=K,Vo.startOf=Oi,Vo.subtract=Eo,Vo.toArray=Vi,Vo.toObject=Ri,Vo.toDate=Ni,Vo.toISOString=Di,Vo.inspect=Ci,"undefined"!=typeof Symbol&&null!=Symbol["for"]&&(Vo[Symbol["for"]("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Vo.toJSON=Bi,Vo.toString=yi,Vo.unix=Ai,Vo.valueOf=Mi,Vo.creationData=qi,Vo.eraName=Yi,Vo.eraNarrow=Ki,Vo.eraAbbr=Xi,Vo.eraYear=Qi,Vo.year=Xs,Vo.isLeapYear=me,Vo.weekYear=ln,Vo.isoWeekYear=un,Vo.quarter=Vo.quarters=mn,Vo.month=de,Vo.daysInMonth=ce,Vo.week=Vo.weeks=Te,Vo.isoWeek=Vo.isoWeeks=Ee,Vo.weeksInYear=fn,Vo.weeksInWeekYear=hn,Vo.isoWeeksInYear=dn,Vo.isoWeeksInISOWeekYear=cn,Vo.date=Oo,Vo.day=Vo.days=Ae,Vo.weekday=Ne,Vo.isoWeekday=Ve,Vo.dayOfYear=gn,Vo.hour=Vo.hours=ao,Vo.minute=Vo.minutes=Lo,Vo.second=Vo.seconds=Mo,Vo.millisecond=Vo.milliseconds=No,Vo.utcOffset=Ut,Vo.utc=jt,Vo.local=qt,Vo.parseZone=zt,Vo.hasAlignedHourOffset=Wt,ss:44,s:45,m:45,h:22,d:26,w:null,M:11},oa=Math.abs,aa=O,e.min=xt,e.max=Ft,e.now=Do,e.utc=d,e.unix=Dn,e.monthInt(v[4]),b=parseInt(v[5]))),c=new Date(h,p,_,m,g,b),isNaN(c.getTime())||f.data("DateTins/form/validator/file_validator",["static/utils","./input_base""==typeof this.options.extensions&&this.options.extensions.length>0){var i="",n=t.lastInxtension%).",{"%extension%":e.escape(i)})),!1}return!0},i}),define("skins/form/validator/integerl())?s.validator.setWarning("<span>"+s.options.mismatch_}),this.validate()}};return t.prototype=new e,t.prototype.doValidate=function(e){return 0===e.length?!this.options.required||(this.setError(this.getMessage("required","Required")),!1):e.match(/^\d+(\.\d+)?$/g)?(e=parseFloat(e),null!==this.options.min&&e<this.options.min?(this.setError(this.getMessage("min","Must be greater than %min%",{"%value%":e.toString(),"%min%":this.options.min})),!1):!(this.options.max>0&&e>this.options.max)||(this.setEr_error();var e=this;this.set_legend_error_timer=setTimeout(function(){e.legend.addClass("legend-error"),e.set_legend_error_timer=null},10)}},u_txt,!1,{relative_to:this.input_txt.parents("#page").length?e.open(),e.setContent($(i))},init_suggests_list:function(){if(this.options.c=s.indexOf(o);if(-1===a)return!1;var r=a+o.length;return{value:e,displayed:n,html:nn this.suggests_list[i];return!1},clean_tag_value:function(e){var t=i.escape(i.unescape(e.toString()).replace(/\ +/g," ").trim().toLowerCase(),!0);return!(t.length<1)&&t},format_displayed_tag_value:function(e){if("string"!=typeof e)return!1;if("string"!=typeof(e=this.clean_tag_value(e)))return!1;if(str=e.replace(/-/g," "),!str)return!1;str=str.split(" ");for(var t=0;t<str.length;t++)str[t]=str[t].split(""),str[t].length>0&&"string"==typeof str[t][0]?(str[t][0]=str[t][0].toUpperCase(),str[t]=str[t].join("")):str[t]="";return str.join(" ").trim()},format_saved_tag_value:function(e,t){if("number"!=typeof e&&(e=e.toString()),"string"!=typeof e)return!1;var i=this.is_in_suggests_list(e,t);return i?i.value:(str=this.clean_tag_value(e),!!str&&str.trim().replace(/\ /g,"-"))},format_comparing_value:function(e){return e=this.format_saved_tag_value(e),"string"!=typeof e?"":n.translit(e)},block_tag:function(){this.container.removeClass("init-ok")}},r.S_DATA_INSTANCE="tag-adder-instance",r.A_INSTANCE=[],r.getInstance=function(e){e=$(e);var t;if(e.attr("data-"+r.S_DATA_INSTANCE)?t=e:e.parents().each(function(){$(this).attr("data-"+r.S_DATA_INSTANCE)&&(t=$(this))}),!t||!t.length)return!1;var i=parseInt(t.attr("data-"+r.S_DATA_INSTANCE));if(!i)return!1;for(var n in r.A_INSTANCE)if(r.A_INSTANCE[n].iInstance===i)return r.A_INSTANCE[n];return!1},r.addInstance=function(e){e.iInstance=r.A_INSTANCE.length+1,$(e.container).attr("data-"+r.S_DATA_INSTANCE,e.iInstance),e.container.addClass(r.S_DATA_INSTANCE+e.iInstance),r.A_INSTANCE.push(e)},r}),define("skins/form/validator/tag_adder",["lib/converter","lib/tools","static/utils","./input_base","skins/form/widget/tag_adder","lib/json"],function(e,t,i,n,s){var o=function(e,t){"object"==typeof t&&(this.setupXhr("title_blacklist","/account/checkblacklist","title"),this.setupXhr("step_blacklist","/account/checkstep","string"),n.apply(this,[e,t]),this._init())};return o.prototype=new n,o.prototype._init=function(){new s(this.input.parents(".tag-adder"));var e=this;this.input.on("change input",function(){e.validate()}),this.input.parent().children("input[type=text]").on("blur",function(){e.validate()}),this.options.show_char_count&&this.initCounter(),this.options.no_init_validate||this.validate()},o.prototype.options_choices=!1,o.prototype.cleanTags=function(e){var n=[],o=this;if("object"==typeof this.options.choices&&!1===this.options_choices){this.options_choices=[];for(var a in this.options.choices){var r=this.options.choices[a];"number"==typeof r&&(r=r.toString()),this.options_choices.push(t.translit(r))}}for(var l in e){var u=e[l];"number"==typeof u&&(u=u.toString());var d=i.escape(i.unescape(u.toString()).replace(/\ +/g," ").trim().toLowerCase(),!0),c=function(){var e=s.getInstance(o.input);if(!e)return!1;e.del_tag(u)},f=this.input.parents(".tag-list").find('[data-elem="tag"][data-value="'+u+'"]');if("undefined"!=typeof this.options.choices&&$.isArray(this.options.choices)&&this.options.choices.length>0){if(-1===this.options_choices.indexOf(t.translit(u)))return this.setError(this.getMessage("not_in_list","'%value%'",{"%value%":u}),c),!1;n.push(u)}else{if(!(d.length>=this.options.min_tag_length))return f.addClass("error"),this.setError(this.getMessage("input_too_short","%value% is too short (%nb_chars% characters min)",{"%value%":'"'+u+'"',"%nb_chars%":this.options.min_tag_length}),c),!1;if(!(d.length<=this.options.max_tag_length))return f.addClass("error"),this.setError(this.getMessage("input_too_long","%value% is too long (%nb_chars% characters max)",{"%value%":'"'+u+'"',"%nb_chars%":this.options.max_tag_length}),c),!1;f.removeClass("error"),n.push(u)}}return n},o.prototype.doValidate=function(e){""===e&&(e="[]");var t=JSON.parse(e),i=this.cleanTags(t,this.options);return!1!==i&&(this.counter&&(this.counter.removeClass("text-danger").children(".count").html(i.length),0===i.length?this.counter.addClass("empty"):this.counter.removeClass("empty")),this.options.min_tags>0&&("object"!=typeof t||i.length<this.options.min_tags)?(this.counter&&this.counter.addClass("text-danger"),this.setError(this.getMessage("min_tags","%nb% tags minimum",{"%nb%":this.options.min_tags})),!1):!(this.options.max_tags>0&&i.length>this.options.max_tags)||(this.counter&&this.counter.addClass("text-danger"),this.setError(this.getMessage("max_tags","%nb% tags maximum",{"%nb%":this.options.max_tags})),!1))},o.prototype.getTooltipParent=function(){return this.input.parents(".content")},o.prototype.getIconPositionReference=function(){return this.input.parents(".tag-list").children("label")},o.prototype.getInputAgent=function(){return this.input.parents(".tag-list")},o.prototype.counter=!1,o.prototype.initCounter=function(){var e=this.options.max_tags>0&&this.options.max_tags;this.counter=$("<span class='floating-count'><span class='count'></span>"+(e?"<span class='max'>/"+e+"</span>":"")+"</span>"),this.counter.insertAfter(this.input.parent())},o}),define("skins/form/validator/title_blacklist",["./string"],function(e){var t=function(t,i){i.options.blacklist&&this.setupXhr("title_blacklist","/account/checkblacklist","title"),i.options.step_blacklist&&this.setupXhr("step_blacklist","/account/checkstep","string"),e.apply(this,[t,i])};return t.prototype=new e,t.prototype.doValidate=function(t){return!!e.prototype.doValidate.apply(this,[t])},t}),define("skins/form/validator/translations_langs",["static/utils","./base"],function(e,t){var i=function(e,t,n){return!!e&&("string"==typeof t&&0!==t.length&&"empty"!==t&&("unk"===t?i(!0,n,!1):t))},n=function(e,i){t.apply(this,[e,i]);var n=e.getRoot();this.fields=[],this.langs=[];for(var s in i.options.fields)this.setupField(n,i.options.fields[s],i.options.lang_suffix)};return n.prototype=new t,n.prototype.setupField=function(e,t,n){var s="#"+e.form.prop("id")+"_"+t.replace(/\|/g,"_"),o=$(s);if(0===o.length)return console.error('Unable to find lang field "'+s+'" in translations_langs'),!1;var a=s.lastIndexOf(n);if(-1===a)return console.error('Unable to find suffix "'+n+'" in "'+s+"' in translations_langs"),!1;var r=s.substring(0,a),l=$(r);if(0===l.length)return console.error('Unable to find title field "'+r+'" in translations_langs'),!1;var u=l.data("validator");if(!u)return console.error('Unable to find validator for field "'+r+'" in translations_langs'),!1;var d={input:l,validator:u,has_value:$.trim(l.val()).length>0,lang:i(o.val(),o.data("detected"))};this.fields.push(d);var c=this.fields.length-1,f=this,h=u.doValidate;u.doValidate=function(e){if(d.lang)for(var t=0;t<c;t++)if(f.fields[t].lang===d.lang)return this.setError(this.getMessage("invalid","The same lang cannot be used twice")),!1;return h.apply(this,[e])};var p=function(){var e=d.lang;d.lang=i(d.has_value,o.val(),o.data("detected")),e!==d.lang&&f.validate()};o.on("change",p),l.on("keyup",function(){var e=d.has_value;d.has_value=$.trim(l.val()).length>0,e!==d.has_value&&p()})},n.prototype.validate=function(){for(var e in this.fields)this.fields[e].validator.validate();return!0},n.prototype.isValid=function(){return!0},n.prototype.focus=function(){},n}),define("skins/form/validator/user_email",["config/main","static/utils","./email"],function(e,t,i){var n=function(e,t){this.setupXhr("email","/account/checkemail","email"),"boolean"==typeof t.options.allow_variant&&t.options.allow_variant&&this.setXhrOtherParam("email","allow_variant","1"),"number"==typeof t.options.exclude_id_user&&t.options.exclude_id_user>0&&this.setXhrOtherParam("email","exclude",t.options.exclude_id_user),i.apply(this,[e,t])};return n.prototype=new i,n.prototype.doValidate=function(e){return!!i.prototype.doValidate.apply(this,[e])},n});