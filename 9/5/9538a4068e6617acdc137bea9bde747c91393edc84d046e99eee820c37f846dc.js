!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[3898],{98724:(e,a,s)=>{s.d(a,{w:()=>i});var l=s(5754),r=s.n(l),t=s(6135),n=s(2629),i=e=>{var a=e.color,s=e.condensed;return(0,n.jsx)("div",{className:r()("gG278",{ops60:s}),children:(0,n.jsx)(t.Z,{centerOrientation:"horizontalAndVertical",color:a})})}},48352:(e,a,s)=>{s.d(a,{Z:()=>g});var l=s(54138),r=s.n(l),t=s(33970),n=s.n(t),i=s(95004),c=s(78994),o=s(55673),m=s(43523),d=s(22424),u=s(12736),b=s(14544),v=s(78667);let h=e=>{var a=(0,v.bp)().logEvent,s=(0,c.TH)().pathname,l=(0,o.lr)(),t=n()(l,1)[0];(0,i.useEffect)(()=>{"embed"===t.get("source")&&a({pathname:s,eventName:m.J.EmbedPostClick,eventDetails:r()(r()({},e),{},{refUrl:t.get("refUrl"),action:t.get("action")})})},[])},g=e=>{var a=e.page,s=e.eventDetails,l=(0,d.wL)().logEvent,t=(0,c.TH)().pathname,v=(0,o.lr)(),g=n()(v,1)[0],x=(0,b.M)().name,j=(0,u.z)(),f=j.isModalShowing,N=j.isPeeprShowing,p=(0,i.useRef)(f||N),y=g.get("source"),w=()=>l({page:a,pathname:t,eventName:m.J.ScreenView,eventDetails:r()(r()({pathname:t,referrer:document.referrer,color_palette:x},y&&{source:y}),s)});return(0,i.useEffect)([t,a]),(0,i.useEffect)(()=>{!p.current||f||N||w(),p.current=f||N},[p,f,N]),h(),null}},20453:(e,a,s)=>{s.r(a),s.d(a,{CommunitiesMembers:()=>el});var l=s(33970),r=s.n(l),t=s(26673),n=s(98724),i=s(48352),c=s(25190),o=s(93804),m=s(17276),d=s.n(m),u=s(33590),b=s(36485),v=s(91253),h=s(78667),g=s(94833),x=g.z.object({members:g.z.array(g.z.object({avatar:g.z.array(g.z.object({width:g.z.number(),height:g.z.number(),url:g.z.string()})),canShowBadges:g.z.boolean(),description:g.z.string(),isOnline:g.z.boolean(),name:g.z.string(),title:g.z.string(),updated:g.z.number(),url:g.z.string(),uuid:g.z.string(),isMutual:g.z.boolean(),followed:g.z.boolean(),isAdmin:g.z.boolean()}))}),j=(0,v.i)(x),f=(e,a,s)=>["labs","community","members",{communityName:e,filter:a,searchPhrase:s}],N=(e,a,s)=>{var l=(0,h.bp)().apiFetchWithSchema;return(0,u.a)({queryKey:f(e,a,s),queryFn:()=>(function(e,a,s,l){var r;return d()().async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d()().awrap(e((0,b.S)(`/v2/communities/${a}/members`,{search:l,filter:s}),j));case 2:return r=t.sent.response,t.abrupt("return",r);case 5:case"end":return t.stop()}},null,null,null,Promise)})(l,e,a,s)})},p=s(25811),y=s(65262),w=s(91488),z=s(18744),C=s(32415),S=s(78994),k=s(55673),E=s(32468),I=s(43523),M=s(22424),B=s(40563),_=s(25731),A=g.z.union([g.z.literal("all"),g.z.literal("following"),g.z.literal("admin")]),L=()=>{var e=(0,k.lr)(),a=r()(e,1)[0];return(0,_._)(A,a.get("tab")).getWithDefault("all")},D=s(3597),T=s(82158),Z=s(54138),U=s.n(Z),R=s(5754),F=s.n(R),J=s(45222),O=s(17287),P=s(99784),W=s(37236);let q={generalLabelContainer:"NrDUZ",text:"XlwYV",adminLabelContainer:"sE3jI"};var X=s(2629),$=e=>{var a=e.text,s=e.labelStyle;return(0,X.jsx)("div",{className:F()("NrDUZ",q[`${s}LabelContainer`]),children:a})},V=()=>{var e=(0,h.bp)()._c;return(0,X.jsx)($,{text:e("The active user is a community admin","Admin"),labelStyle:"admin"})};let H={row:"FMZnY",clickableRow:"i6VnM",avatar:"WmNJF",leftAlignedWrapper:"x7fWb",blogDescription:"y5xZR",blogName:"McJej",blogTitle:"xMW4r",displayName:"KkUzz",floatingButton:"o26Qx",light:"bI8pP"};var G=e=>{var a=e.avatar,s=e.avatarSize,l=e.blogName,r=e.blogTitle,t=e.blogUrl,n=e.theme,i=e.floatingButton,c=e.isMutual,o=e.followed,m=e.isAdmin,d=(0,X.jsx)("div",{className:H.avatar,children:(0,X.jsx)(J.Z,{name:l,dimension:void 0===s?37:s,imageResponse:a,avatarShape:W.o.Circle,showBlogCard:!1,isLink:!1})}),u=(0,X.jsxs)("div",{className:H.blogName,children:[(0,X.jsx)("span",{className:H.displayName,children:l}),c&&(0,X.jsx)(P.E.Mutuals,{hideIcon:!0}),!c&&o&&(0,X.jsx)(P.E.Following,{hideIcon:!0}),m&&(0,X.jsx)(V,{})]}),b=(0,X.jsx)("div",{className:H.blogTitle,children:r});return(0,X.jsxs)("div",{className:F()(H.row,{[H.light]:"light"===n}),children:[(0,X.jsx)(O.Z,U()(U()({className:H.clickableRow},{blogName:l,href:t,showBlogCard:!1}),{},{children:(0,X.jsxs)("div",{className:H.leftAlignedWrapper,children:[d,(0,X.jsxs)("div",{className:H.blogDescription,children:[u,b]})]})})),i&&(0,X.jsx)("div",{className:H.floatingButton,children:i})]})},Q=s(37448),Y=s(56004),K=s(96464);let ee={message:"MEGau"};var ea=e=>{var a=e.type,s=e.searchQuery,l=(0,h.bp)()._c;if(s)return(0,X.jsx)("div",{className:ee.message,children:l("No members after search","No members found.")});switch(a){case"admin":return(0,X.jsx)("div",{className:ee.message,children:l("No admin community members label","No admin members yet.")});case"following":return(0,X.jsx)("div",{className:ee.message,children:l("No community members current user follows label","No members you follow yet.")});default:return(0,X.jsx)("div",{className:ee.message,children:l("No community members label","No members yet. Be the first one!")})}};let es={membersBody:"AN69l",content:"ADmYI",tabs:"xXzgB"};var el=()=>{var e=(0,S.UO)().communityId,a=void 0===e?"tlou":e,s=L(),l=(0,k.lr)(),m=r()(l,1)[0].get("searchTab")||void 0,d=(0,C.Pc)().data,u=(0,h.bp)()._c,b=N(a,s,m),v=b.isPending,g=b.data,x=(0,c.v$)().isMobile,j=(0,B.J)("communities"),f=(0,p.U)().data,_=(0,M.wL)().logEvent;if(!j)return null;if((null==f?void 0:f.isMember)===!1)return(0,X.jsx)(S.Fg,{to:(0,o.j0)({communityId:f.name})});var A=[{id:"all",label:u("All community members filtering button label","All members")},{id:"admin",label:u("Admin community members filtering button label","Admin")}],Z=(null==g?void 0:g.members)||[];return(0,X.jsxs)(M.nO,{eventDetails:{communityId:a},children:[(0,X.jsx)(i.Z,{page:K.H.analyticsPageName}),(0,X.jsx)(y.A,{activePage:E.vS.community(a),children:(0,X.jsxs)(w.Me,{children:[(0,X.jsx)(w.NC,{children:(0,X.jsx)(T.cI,{postBackButtonLabel:u("Page title when user lands to the community's members page","Members"),postBackButtonLink:(0,o.j0)({communityId:a})})}),(0,X.jsxs)(w.eX,{className:es.membersBody,children:[(0,X.jsx)(z.y,{tabs:A,activeTabId:s,withSearch:!0,className:es.tabs,onClick:e=>_({eventName:I.J.CommunitiesMembersFilterByTab,eventDetails:{tab:e}})}),v&&(0,X.jsx)(n.w,{condensed:!0}),!v&&(0,X.jsxs)("div",{className:es.content,children:[0===Z.length&&(0,X.jsx)(ea,{type:s,searchQuery:m}),Z.map(e=>{var a,s=e.name,l=e.title,r=e.uuid,n=e.url,i=e.avatar,c=e.isMutual,o=e.followed,m=e.isAdmin;return(0,X.jsx)(G,{blogName:s,blogTitle:l,blogUrl:n,avatar:i,theme:"light",floatingButton:(null==d||null===(a=d.user)||void 0===a?void 0:a.name)!==s&&(0,X.jsx)(t.Z,{blogName:s,blogUrl:n}),isMutual:c,followed:o,isAdmin:m},r)})]})]}),!x&&(0,X.jsxs)(w.N_,{children:[(0,X.jsx)(D.r,{}),(0,X.jsx)(Y.h,{}),(0,X.jsx)(Q.N,{})]})]})})]})}},3597:(e,a,s)=>{s.d(a,{r:()=>c});var l=s(90235),r=s(68346),t=s(25811),n=s(4862),i=s(2629),c=e=>{var a=e.className,s=(0,t.U)().data;if(!s)return null;var c=s.avatarImage,o=s.title,m=s.name,d=new r.Z(c).getLargestImage().url;return(0,i.jsxs)(l.Z,{className:a,children:[(0,i.jsxs)("div",{className:"RH2rH",children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:d,className:"RL0HO",alt:""})}),(0,i.jsxs)("div",{className:"EvO8u",children:[(0,i.jsx)("span",{className:"zU4kw",children:o}),(0,i.jsxs)("span",{className:"eG2sU",children:["@@",m]})]})]}),(0,i.jsx)("hr",{className:"dBrOk"}),(0,i.jsx)(n.W,{community:s})]})}},37448:(e,a,s)=>{s.d(a,{N:()=>u});var l=s(90235),r=s(25811),t=s(18488),n=s(90127),i=s(78994),c=s(43523),o=s(22424),m=s(2629),d=e=>{var a=e.tags,s=(0,o.wL)().logEvent,l=(0,i.s0)();return(0,m.jsx)("div",{className:"vehmL",children:a.map(e=>(0,m.jsxs)(t.Z,{className:"yej87",label:e,isRounded:!0,onClick:()=>{s({eventName:c.J.CommunitiesRelatedTagsClick,eventDetails:{tag:e}}),l((0,n.fO)(e))},href:`/tagged/${e}`,children:["#",e]},e))})},u=()=>{var e=(0,r.U)().data;return null!=e&&e.tags.length?(0,m.jsx)(l.Z,{title:"Related tags",children:(0,m.jsx)(d,{tags:e.tags})}):null}},56004:(e,a,s)=>{s.d(a,{h:()=>g});var l=s(93804),r=s(90235),t=s(54138),n=s.n(t),i=s(5754),c=s.n(i),o=s(37236);let m={container:"c7xit",avatar:"_8t27",avatarSquare:"VfO3a",avatarCircle:"s6LDn",title:"fGxq9",adminBadge:"wWLkf",subtitle:"JENfJ"};var d=s(2629),u=e=>{var a=e.avatar,s=e.avatarShape,l=e.title,r=e.subtitle,t=e.url,n=e.isAdmin;return(0,d.jsxs)("a",{href:t,className:m.container,children:[(0,d.jsx)("img",{src:a,alt:l,className:c()(m.avatar,s===o.o.Square?m.avatarSquare:m.avatarCircle)}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:m.title,children:[l,n&&(0,d.jsx)("div",{className:m.adminBadge,children:"Admin"})]}),(0,d.jsx)("div",{className:m.subtitle,children:r})]})]})},b=e=>{var a=e.objects;return(0,d.jsx)("ul",{className:"vXnmx",children:a.map((e,a)=>(0,d.jsx)("li",{className:"a5occ",children:(0,d.jsx)(u,n()({},e))},`${e.url}-${a}`))})},v=s(78667),h=s(25811),g=()=>{var e,a=(0,v.bp)(),s=a._getLocaleNumberString,t=a._t,n=(0,h.U)().data,i=null==n||null===(e=n.relatedCommunities)||void 0===e?void 0:e.map(e=>({avatar:e.avatarImage[0].url,avatarShape:o.o.Square,title:e.title,subtitle:`${s(e.memberCount,"short")} members`,url:(0,l.j0)({communityId:e.name})}));return null!=i&&i.length?(0,d.jsx)(r.Z,{title:t("Related communities"),children:(0,d.jsx)(b,{objects:i})}):null}},18744:(e,a,s)=>{s.d(a,{y:);var l=s(33970),r=s.n(l),t=s(5754),n=s.n(t),i=s(19486),c=s(25190),o=s(95004),m=s(55673),d=s(43523),u=s(78667),b=s(22424),v=s(42914),h=s(93575),g=s(2629),x=e=>{var a=e.active,s=e.className,l=e.label,r=e.onClick;return(0,g.jsx)("button",{className:n()("wRXfV",s,{uXt5V:a}),onClick:r,type:"button","aria-label":l,children:l})};let j={tabs:"Av6XX",tab:"pasN9",searchIcon:"dCbQ4",search:"qBtG9",memberSearch:"ktCEK"};var f=e=>{var a=e.tabs,s=e.activeTabId,l=e.withSearch,t=e.className,f=e.onClick,N=(0,u.bp)()._c,p=(0,c.v$)().isMobile,y=(0,b.wL)().logEvent,w=(0,o.useState)(),z=r()(w,2),C=z[0],S=z[1],k=(0,o.useState)(p),E=r()(k,2),I=E[0],M=E[1],B=(0,m.lr)(),_=r()(B,2),A=_[0],L=_[1],D=(0,o.useEffect)(()=>{var e=A.get("searchTab");e?(S(e),M(!0)):p&&M(!0)},[p]);var T=(0,o.useMemo)(()=>(0,v.Z)(e=>{e?A.set("searchTab",e):A.delete("searchTab"),L(A)},250),[A,L]),Z=(0,g.jsxs)(g.Fragment,{children:[l&&!I&&(0,g.jsx)(i.Z,{className:j.searchIcon,onClick:),l&&I&&(0,g.jsx)(h.o,{value:C,className:n()(j.search,j.memberSearch),placeholder:N("Members page search bar placeholder on desktop","Search members…"),onChang},onBlur:e=>!e&&D(!1),onFocu),autoFocus:!0,iconLeft:p})]});return(0,g.jsxs)("div",{className:n()(j.wrapper,t),children:[(0,g.jsxs)("div",{className:j.tabs,children:[a.map(e=>{var a=e.id,l=e.label;return(0,g.jsx)(x,{active:s===a,className:j.tab,label:l,onClick:()=>{A.set("tab",a),L(A),null==f||f(a)}},a)}),!p&&Z]}),p&&Z]})}}}]);