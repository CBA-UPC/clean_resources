"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2951],{52951:function(e,t,n){n.r(t);var a=n(1413),l=n(41451),r=n(67294),c=n(36456),u=n(85611),m=n(3504),o=n(6463),d=n(79e3),s=n(4369),i=n(69385);t.default=function(e){var t=e.setScreen,n=e.giftCard,f=e.isMobile,b=(0,c.v9)((,c.wU),p=b.giftCards,g=b.cartTotal,E=(0,c.I0)(),y=(0,u.e1)(),N=y.addToast,w=y.removeAllToasts,x=p.filter(().reduce((function(e,t){return e+Number(t.cardAmount)||0}),0),A=[].concat((0,l.default)(p),[n]).reduce((function(e,t){return e+Number(t.cardAmount)||0}),0),v=g-x,h=n.cardAmount-v,C=function(){return!(p.length>0&&p.find(())};return(0,r.useEffect)((function(){return function(){var e;(null===(e=window)||void 0===e?void 0:e.document)&&window.document.querySelector("html").removeAttribute("style")}})),r.createElement(r.Fragment,null,r.createElement("button",{type:"button",onClick:function(){return t(d.Tf.addNewgiftCard)},className:"flex items-center text-14"},r.createElement("img",{src:s,alt:"back button icon",className:"w-3 rotate-90"}),r.createElement("p",{className:"ml-2"},"BACK")),r.createElement("p",{className:"mt-3 font-semibold text-14 text-grey-700"},"GIFT CARD DETAILS"),r.createElement("div",{className:"p-5 mt-4 border rounded-lg bg-grey-50 border-grey-300"},r.createElement("div",{className:"flex items-end justify-between"},r.createElement("div",null,r.createElement("p",{className:"text-12"},"Card number"),r.createElement("h5",{className:"font-semibold text-grey-700"},n.number.replace(/\W/gi,"").replace(/(.{4})/g,"$1 "))),r.createElement("img",{src:i,alt:"gift cart icon",className:"w-12"})),r.createElement("div",{className:"flex items-center justify-between mt-5"},r.createElement("div",null,r.createElement("p",{className:"text-12"},"Valid till"),r.createElement("h5",{className:"font-semibold text-grey-700"},n.expiryDate)),r.createElement("div",null,r.createElement("p",{className:"text-12"},"Balance"),r.createElement("h5",{className:"font-semibold text-grey-700"},r.createElement("span",null,(0,m.F)(n.cardAmount)||0))))),Number(n.cardAmount)>0?r.createElement(r.Fragment,null,r.createElement("p",{className:"p-4 text-blue-500 rounded-lg mt-7 bg-blue-50 text-12"},r.createElement("span",null,(0,m.F)(v>n.cardAmount?n.cardAmount:v)),r.createElement("span",{className:"ml-1"},"will be deducted from your gift card upon successful payment."),r.createElement("span",null," ",h>=0?(0,m.F)(h):0),r.createElement("span",{className:"ml-1"},"will be your new gift card balance.")),A>=g?r.createElement("button",{type:"button",onClick:function(){return function(){if(!C())return!1;E((0,o.Tp)((0,a.default)((0,a.default)({},n),{},{amount:Number(g)>=n.cardAmount?n.cardAmount:Number(g)}))),E((0,o.t)({method:"STANDARD",paymentMethod:"Giftcard"}))}()},className:"w-full py-4 mt-4 bg-yellow-400 hover:bg-yellow-300 rounded-lg rounded-bl-none shadow-md text-14 text-grey-700"},r.createElement("span",null,"PAY SECURELY"),r.createElement("span",{className:"ml-2"},(0,m.F)(g))):r.createElement("button",{type:"button",onClick:function(){return C()?(E((0,o.Tp)((0,a.default)((0,a.default)({},n),{},{amount:Number(g)>=n.cardAmount?n.cardAmount:Number(g)}))),t(f?"":d.Tf.appliedGiftCards),!0):(w(),N("Seems like you have already applied this GiftCard, Please apply different GiftCard.",{appearance:"error",autoDismiss:!0,autoDismissTimeout:3e3}),!1)},className:"w-full py-4 mt-4 bg-yellow-400 hover:bg-yellow-300 rounded-lg rounded-bl-none shadow-md text-14 text-grey-700"},"APPLY")):r.createElement(r.Fragment,null,r.createElement("p",{className:"p-4 text-blue-500 rounded-lg mt-7 bg-blue-50 text-12"},"Your giftcard balance is too low to proceed, Please try another giftcard."),r.createElement("button",{type:"button",onClick:className:"w-full py-4 mt-4 bg-yellow-400 hover:bg-yellow-300 rounded-lg rounded-bl-none shadow-md text-14 text-grey-700"},"RE-ENTER GIFT CARD")))}}}]);