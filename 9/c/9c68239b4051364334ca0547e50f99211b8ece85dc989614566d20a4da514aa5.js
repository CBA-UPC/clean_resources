(self.webpackChunk=self.webpackChunk||[]).push([["campaign_election_components_ResultsASWidget_js"],{"./campaign/election/components/ResultsASWidget.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n("../node_modules/prop-types/index.js"),a=n.n(r),o=n("../node_modules/react/index.js"),c=n("../node_modules/react-redux/es/index.js"),s=n("./components/common/SectionHeader/SectionHeader.js"),l=n("./components/lib/errorboundery/ErrorBoundary.js"),i=n("./utils/util.js"),u=n("./campaign/election/actions/electoralmap/electoralmap.js"),m=n("./campaign/election/actions/results/results.js"),d=(n("./components/common/css/ElectionAsWidget.scss"),n("./campaign/election/utils/util.js")),p=n("./campaign/election/components/Table.js");m5)(),O=function(e){function t(e){var n;return this,t),w(j(n=g(this,t,[e])),"getConstituencyData",(function(e,t){var n=[];return e&&e.cns_rslt&&(n=e.cns_rslt.filter(()),n[0]})),w(j(n),"handleStateChange",(),n.state={selectedStatePosition:0},n}var n,r;return t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,n=e.query,r=e.dispatch,a=e.location,o=e.electionyear,c=this.props.params;c||(c={}),a&&(c.location=a),o&&(c.electionyear=o),t.fetchData({dispatch:r,params:c,query:n})}},{key:"componentDidUpdate",value:function(e){var n=this.props,r=n.query,a=n.dispatch,o=n.location,c=n.electionyear,s=this.props.params;s||(s={}),o&&(s.location=o),c&&(s.electionyear=c),e.location!=this.props.location&&t.fetchData({dispatch:a,params:s,query:r})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.data,a=n.config,c=n.electionData,u=n.constituencyid,m=n.electionyear;if(!r)return null;var y={},f=[],b=this.state.selectedStatePosition;!u&&!r.al_rslt&&Object.keys(r).length>0?(f=a&&a[0].sequence?a[0].sequence:Object.keys(r),e=(0,d.xH)({stateName:f[b]}),y=r[f[b]]):(e=a&&a[0]?(0,d.xH)({stateName:a[0].state}):"Other",y=r&&r[e.replace(/-/g,"_")]||{});var v=N.resultMsidStateMap[e.toLowerCase()],g=P(y.al_rslt),h=y.ttl_seat||0,E=Object.keys(g)[0];if(u){var j=this.getConstituencyData(y,u);return j?o.createElement(T,{constituencyData:j,electionyear:m}):null}return E?o.createElement("div",{className:"election-as-widget resultwdt"},f.length>1&&o.createElement("div",{className:"statestoggle"},o.createElement("div",{className:"states"},f.map((function(e,n){return o.createElement("span",{className:b===n?"active":"",onClick:function(){return t.handleStateChange(n)},role:"button",tabIndex:0,onKeyPress:,o.createElement("b",null,(0,d.xH)({stateName:e})))})))),o.createElement("div",{className:"row"},!(0,i.an)()&&o.createElement("div",{className:"col12 source-container electionTinyHeading"},o.createElement(s.Z,{sectionhead:"".concat(e.toUpperCase()," ELECTION RESULTS ").concat(m||a&&a[0]&&a[0].resultyear?a[0].resultyear:""),weblink:(0,d.j)(e.toLowerCase(),v),headingTag:"h3"})),o.createElement("div",{className:"".concat(((0,i.an)(),"col12")," table container")},(0,i.an)()&&o.createElement(s.Z,{sectionhead:"".concat(e.toUpperCase()," ELECTION RESULTS ").concat(m||a&&a[0]&&a[0].resultyear?a[0].resultyear:""),weblink:(0,d.j)(e.toLowerCase(),v),headingTag:"h3"}),E&&o.createElement(l.Z,null,o.createElement(p.Z,{items:g[E],total:h,seats:(0,d.Qu)(g[E]),type:"Results",countText:c.counttext,source:c.source}))))):null}}])&&v(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.PureComponent),T=function(e){return o.createElement("div",{className:"election-as-widget resultwdt"},o.createElement("div",{className:"row"},!(0,i.an)()&&o.createElement("div",{className:"col6 source-container"},o.createElement(s.Z,{sectionhead:"".concat(e.constituencyData.cns_name.toUpperCase()," CONSTITUENCY RESULTS ").concat(e.electionyear)})),o.createElement("div",{className:"".concat((0,i.an)()?"col12":"col6"," table container")},(0,i.an)()&&o.createElement(s.Z,{sectionhead:"".concat(e.constituencyData.cns_name.toUpperCase()," CONSTITUENCY RESULTS ").concat(e.electionyear)}),o.createElement("div",{className:"result-tbl"},o.createElement("div",{className:"tbl_heading"},o.createElement("div",{className:"tbl_col"},"Won"),o.createElement("div",{className:"tbl_col"},"Incumbent")),o.createElement("div",{className:"tbl_row"},o.createElement("div",{className:"tbl_col",style:{fontWeight:"bold",color:"green"}},e.constituencyData.lwan),o.createElement("div",{className:"tbl_col",style:{fontWeight:"bold",color:"red "}},e.constituencyData.inan)),o.createElement("div",{className:"tbl_row"},o.createElement("div",{className:"tbl_col",style:{fontWeight:"bold",color:"green"}},e.constituencyData.lwcn),o.createElement("div",{className:"tbl_col",style:{fontWeight:"bold",color:"red"}},e.constituencyData.incn))))))},P=function(e){if(!e)return{};var t={};return e.forEach((function(e){var n=e&&e[0]&&e[0].src?e[0].src:"no-src";t[n]=e})),t};O.propTypes={dispatch:a().func,params:a().object,query:a().object,data:a().object,config:a().array},O.fetchData=function(e){var t=e.dispatch,n=e.params,r=e.query;return t((0,u.SA)(n,r)).then((function(e){var a={};e&&e.payload&&(a=(0,d.EV)(e.payload,"resulturl".concat(n.electionyear||""))),t((0,m.TV)(n,r,a))}))};const C=(0,c.$j)((function(e){return b(b({},e.results),{},{config:e.electoralmap.configData,electionData:e.app.election})}))(O)},"./campaign/election/components/Table.js":(e,t,n)=>{"use strict";n.d(t,{Z:);var r=n("../node_modules/prop-types/index.js"),a=n.n(r),o=n("../node_modules/react/index.js"),c=((0,n("./utils/util.js").pR)(),function(e){var t=e.items,n=e._index,r=e.total,a=e.type,c=e.isPrevYear,s=e.headRowData,l=e.hideTotalRow,i=e.hideTotalInWidget,u=e.hideSource,m=e.greaterThanZero,d=e.source,p=e.addtnClass,y=e.countText;p=p||"";var f=0;y=t.reduce((,0)==r?"Results":y;var b=s||["Results"===a?y||"Results":"Projected"],v=!0;return m&&(v=parseInt(t[0].ws,10)+parseInt(t[0].ls,10)>0),t.length>0&&v?o.createElement("div",{"data-ele":"table_mp_0",key:n,className:"table-chart ".concat(p)},o.createElement("div",{className:"result-tbl"},o.createElement("div",{className:"tbl_heading"},o.createElement("div",{className:"tbl_col  first"},"Party"),b.map(()),t.map((function(e,t){f+=parseInt(e.ws,10)+parseInt(e.ls,10);var n=parseInt(e.ws,10)+parseInt(e.ls,10)-parseInt(e.pws,10)>0;return o.createElement("div",{className:"tbl_row",key:t.toString()},o.createElement("div",{className:"tbl_col col party_logo"},o.createElement("span",{className:"partyclr",style:{background:"".concat(e.cc||"#c0c0c0")}},e.an||"-")),o.createElement("div",{className:"tbl_col tac col "},parseInt(e.ws,10)+parseInt(e.ls,10)),c?o.createElement("div",{className:"tbl_col tac col "},parseInt(e.pws,10)):"",c?o.createElement("div",{className:"tbl_col tac col ",style:{fontWeight:"bold",color:n?"green":"red"}},(n?"+":"")+(parseInt(e.ws,10)+parseInt(e.ls,10)-parseInt(e.pws,10))):"")})),o.createElement("div",{className:"tbl_row"},!l&&!i&&o.createElement(o.Fragment,null,o.createElement("div",{className:"tbl_col col1 party_logo"},o.createElement("span",null,"Majority Mark:")," ",Math.floor(r/2)+1),o.createElement("div",{className:"tbl_col col1 tac"},o.createElement("span",null,"TOTAL SEATS")," : ","".concat(f,"/").concat(r))))),u||!t[0].src&&!d?null:o.createElement("div",{className:"clearfix powerbycont mp "},o.createElement("div",{className:"el_powerdby"},"Source: ",t[0].src||d))):null});function s(e,t){var n=!1;return e.items&&t.items&&(n=JSON.stringify(e.items)===JSON.stringify(t.items)),n&&e.total===t.total}c.propTypes={items:a().array,_index:a().number,total:a().number,type:a().string,addtnClass:a().string,hideTotalRow:a().bool,hideTotalInWidget:a().bool,hideSource:a().bool,greaterThanZero:a().bool};const l=o.memo(c,s)},"../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./components/common/css/ElectionAsWidget.scss":"./components/common/css/ElectionAsWidget.scss":(e,t,n)=>{"use strict";var r=n("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n.n(r),o=n("../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./components/common/css/ElectionAsWidget.scss"),c=n.n(o);a()(c(),{insert:"head",singleton:!1}),c().locals}}]);