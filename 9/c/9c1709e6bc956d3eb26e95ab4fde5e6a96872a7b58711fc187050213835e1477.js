monetate.c.cr({"data": "/*! ENCAPSULATED FUNCTION TO PREVENT GLOBAL NAMESPACE POLLUTION **/\n(function(){\n/*! DEFINE GLOBAL VARS WE WILL NEED **/\nvar mySwiperSecNavPromo;\nvar numberOfSlides = jQuery('.swiper-container-nav-promo .swiper-slide').length;\n\n\n/*! WRAP INIT OF SWIPER INTO ITS OWN FN FOR EASE OF USE/DEDUPING **/\nvar swiperOptions = function() {\n\tmySwiperSecNavPromo = new Swiper('.swiper-container-second-nav-promo', {\n\t\tautoplay:0,\n      \tautoplayDisableOnInteraction: false,\n            speed: 1000,\n            loop: window.isPWA ? true : false,\n            height: window.isPWA ? 30 : 'auto',\n            autoHeight: true,\n            slidesPerView: window.isPWA ? 1 : 3,\n\t\tdirection: 'vertical',\n\t\tonInit: function(swipersecnavpromo) {\n\t\t\tjQuery('.dt-flex-container .swiper-container-second-nav-promo').addClass('swiper-no-swiping');\n\t\t\t\n\t\t\t/*! IF THIS ISN'T GOING TO BE ROTATING ON DESKTOP THEN YOU DON'T NEED THIS AS I DON'T THINK MOBILE FOCUS STATES ARE MUCH OF A THING **/\n\t\t\tjQuery(document.body).on('focus','.swiper-container-second-nav-promo .swiper-slide-active a:visible, .swiper-container-second-nav-promo .swiper-slide-duplicate-active a:visible', function(){\n\t\t\t\tif(swipersecnavpromo.autoplaying) {\n\t\t\t\t\tswipersecnavpromo.stopAutoplay();\n\t\t\t\t}\n\t\t\t\tif(jQuery('.dt-flex-container .video-controls-btn').hasClass('paused')) {\n\t\t\t\t\tjQuery('.dt-flex-container .video-controls-btn').removeClass('paused');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tjQuery(document.body).off('click','.dt-flex-container .video-controls-btn').on('click','.dt-flex-container .video-controls-btn', function(){\n\t\t\t\tjQuery(this).toggleClass('paused');\n\t\t\t\tif(swipersecnavpromo.autoplaying) {\n\t\t\t\t\tswipersecnavpromo.stopAutoplay();\n\t\t\t\t\tjQuery(this).attr('aria-label','Click to play carousel');\n\t\t\t\t} else {\n\t\t\t\t\tswipersecnavpromo.startAutoplay();\n\t\t\t\t\tjQuery(this).attr('aria-label','Click to pause carousel');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n};\n\n/*! DOC READY **/\njQuery(document).ready(function(){\n\t/*! CHECK FOR DEDUPE - IF THE VERT CLASS EXISTS WE KNOW THE SWIPER IS ALREADY RUNNING **/\n\tif(!jQuery('.swiper-container-second-nav-promo').hasClass('swiper-container-vertical')) {\n\t\tswiperOptions();\n\t}\n});\n\n  \njQuery(document.body).off('click','.swiper-container-second-nav-promo .details-text').on('click','.swiper-container-second-nav-promo .details-text', function(){\n  var htmltopass;\n\n  if(window.isPWA) {\n    htmltopass = jQuery(this).data('details').replace(/((?:<a[^>]+>)?(?:https?:\\/\\/)?www\\.[^\\s\\\"]+(?:<\\/a>)?)/g,function(a){return/<a[^>]+>/.test(a)||(a='<a href=\"//'+a.replace(/^https?:\\/\\//,\"\")+'\">'+a+\"</a>\"),a;});\n  window.goModal({ html:htmltopass, headless:true});\n  } else {\n  htmltopass = jQuery(this).data('details').replace(/((?:<a[^>]+>)?(?:https?:\\/\\/)?www\\.[^\\s\\\"]+(?:<\\/a>)?)/g,function(a){return/<a[^>]+>/.test(a)||(a='<a href=\"//'+a.replace(/^https?:\\/\\//,\"\")+'\">'+a+\"</a>\"),a;});\n    if(jQuery('#promo-disclaimer-wrapper').hasClass('open-promo')) {\n    jQuery('#promo-disclaimer-wrapper').removeClass('open-promo'); \n    } else {\n    window.setPromotionalEspotDisclaimer(htmltopass);\n      jQuery('#promo-disclaimer-wrapper').addClass('open-promo');\n      jQuery('.promo-disclaimer-close-icon').focus();\n    }\n  }\n  \n  \n});\n\n\n\n/*! END ENCAP FUNCTION **/\n}());", "ref": "138/5032410.js"});