(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{VdIb:function(e,t,r){"use strict";(function(e){var n=r("o0o1"),o=r.n(n),a=r("rePB"),c=r("HaE+"),i=r("sfWW"),u=r("DE8m"),l=r("mS7r"),s=r("Suzn"),_=r.n(s),O=r("raS5"),d=r("40T0"),E=r("j8cX"),p=r("Ethz"),b=r("V9Yc"),v=r("2Pxp"),A=r("9Yeo"),P=r("q8C/"),f=r("9BT0"),S=r("nc1x"),g=r("/bgo"),j=r("qZc7"),R=r.n(j),G=r("geCH"),T=r("sfCa"),N=r("5/KZ"),C=r.n(N),y=r("G3k1"),I=r("InMT"),h=r("TcFX"),m=r("D3VO");r Y=function parseApiData(e){var t,r,n=Object.keys((null==e||null===(t=e.context)||void 0===t?void 0:t.rootGroup)||{}),o=!!n.find(();return n.length&&n.forEach((function(t){var r;try{r=JSON.parse(e.context.rootGroup[t])}catch(n){r=e.context.rootGroup[t]}e.context.rootGroup[t]=r})),o&&(null==e||null===(r=e.resolution)||void 0===r?void 0:r.context)&&(e.resolution.context=E.CONTEXT_TYPE_ARTICLE),e},L=function getApiErrors(e){var t,r=(null==e||null===(t=e.context)||void 0===t?void 0:t.rootGroup)||{},n=Object.keys(r),o=[];return n.forEach((function(e){var t,n=null===(t=r[e].data)||void 0===t?void 0:t.error,a=null==n?void 0:n.message,c=r[e].status;if(n){var i={message:a,statusCode:c};o.push(i),C()().captureException(i)}})),o},w=function getErrorCode(e){if(e.length>0){var t=e.find(();return{error:{statusCode:(null==t?void 0:t.statusCode)||500}}}return{}},D=function(){var t=Object(c.a)(o.a.mark((function _callee(t){var r,n,a,c,j,N,C,D,K,x,V,k,F,U,X,q,M,B,H,W,J,z,Z,$,Q,ee,te,re,ne,oe,ae,ce,ie,ue,le,se,_e,Oe,de,Ee,pe,be,ve,Ae,Pe;return o.a.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return r=t.req,n=t.res,a=t.asPath,c=t.store,j=t.isServer,N="",C=null,o.prev=3,N=Object(T.e)(r,a),q=N.replace("/go","/go/go-page"),M=Object(T.d)(N),B=M.requestUri,H=M.search,W=Object(T.a)(r),J={},W&&(J["API-DeviceUid"]=W),z=c.getState().Router.navigationStartTime,Object(f.d)(z,E.ANALYTICS_PIX_FALLBACK_NAVIGATION_AJAX_START),o.next=14,Object(g.a)({url:Object(h.trimTrailingSlashes)(q),modifier:R()(q),customHeaders:J});case 14:if(Z=o.sent,$=Object(O.resolvePublicationNameFromRequest)(N),c.getState().menu.publication===$){o.next=21;break}return o.next=19,Object(I.a)("".concat(Object(y.a)("TVN24_WAITER_HOST")).concat(Object(O.resolvePublicationHostFromRequest)(N)),"menu-data");case 19:Q=o.sent,c.dispatch(Object(v.b)(Q,$));case 21:if(Object(f.d)(z,E.ANALYTICS_PIX_FALLBACK_NAVIGATION_AJAX_FINISH),C=Object(T.b)(r),Z instanceof p.a){o.next=26;break}return n.set("Content-Type",Z.contentType).send(e.from(Z.getData(),"binary")).end(),o.abrupt("return",null);case 26:if(ee=Y(Z.getData()),te=w(L(ee)),re=Object(G.a)(ee,B),ne=re.url,oe=re.code,ae={},!ne){o.next=33;break}return j?n.redirect(oe,ne+H):window.location.replace(ne+H),o.abrupt("return",{shouldRender:!1});case 33:return ce=(null==ee||null===(D=ee.resolution)||void 0===D||null===(K=D.section)||void 0===K?void 0:K.parameters)||[],ie=Object(u.getAbTests)(ce),ue=Object(m.a)(N),c.dispatch(Object(A.g)(ee)),le="none",se=Object(y.a)(E.WAITER_ENVIRONMENT_TYPE_ENV_NAME),_e=!!se&&se!==i.WAITER_ENVIRONMENT_TYPE_PRODUCTION,j?(de=null==r?void 0:r.headers,Ee=null==r||null===(Oe=r.query)||void 0===Oe?void 0:Oe.forceDeviceTypeCookie,le=Object(l.getSsrDeviceType)(de,n,_e,Ee),(pe=Object(S.getCacheControlHeaderForTvn24Go)())&&n.set("Cache-Control",pe)):(null===(x=window)||void 0===x||null===(V=x.__NEXT_DATA__)||void 0===V||null===(k=V.props)||void 0===k||null===(F=k.initialProps)||void 0===F||null===(U=F.pageProps)||void 0===U?void 0:U.deviceType)&&(le=window.__NEXT_DATA__.props.initialProps.pageProps.deviceType),c.dispatch(Object(P.c)(null==ee?void 0:ee.resolution,null==ee||null===(X=ee.context)||void 0===X?void 0:X.sectionList,Object(d.getRouteName)(ee))),ae.amz_device_type=le,ae.bd_device_type={type:"bd_device_type"},ae.ce=0,ae.gaid={type:"gaid",value:C},c.dispatch(Object(b.b)(ie)),Object.keys(ie).length&&(ae.tvn_ab=ie),ae[i.ANALYTICS_SERVICE_WORKER_RESPONSE_PARAMETER]={type:i.ANALYTICS_SERVICE_WORKER_RESPONSE_PARAMETER},be=_()(ee,null,ae,z),c.dispatch({type:"ANALYTICS/SET",payload:be}),Object(f.d)(z,E.ANALYTICS_PIX_FALLBACK_NAVIGATION_PROPS_READY),o.abrupt("return",_objectSpread(_objectSpread({requestGa:C,requestUrl:N,deviceType:le,isUnsupportedAppVersion:ue},ee),te));case 55:return o.prev=55,o.t0=o.catch(3),ve=c.getState().Router.navigationStartTime,Object(f.d)(ve,E.ANALYTICS_PIX_FALLBACK_NAVIGATION_AJAX_ERROR),Ae=Object(s.ErrorPagePropBuilder)(Object(O.resolvePublicationNameFromRequest)(N)),c.dispatch({type:"ANALYTICS/SET",payload:Ae}),j&&(Pe=Object(S.getCacheControlHeaderForError)())&&n.set("Cache-Control",Pe),o.abrupt("return",{requestUrl:N,error:o.t0});case 63:case"end":return o.stop()}}),_callee,null,[[3,55]])})));return ();t.a=D}).call(this,r("HDXh").Buffer)},geCH:function(e,t,r){"use strict";var n=r("ODXe"),o=r("j8cX"),a=r("Zh2d"),c=r("OI7G"),i=r("TR9N"),u=r("sfCa"),l=[o.GO_RESPONSE_KEY_CATEGORY_PAGE,o.GO_RESPONSE_KEY_PROGRAM_PAGE,o.GO_RESPONSE_KEY_DETAIL_PAGE,o.GO_RESPONSE_KEY_VOD_PAGE,o.GO_RESPONSE_KEY_LIVE_PAGE,o.GO_RESPONSE_KEY_EPG_DETAIL_PAGE,o.GO_RESPONSE_KEY_DYNAMIC_PAGE],s=/.+,\d+\/(.+),(\d+)/,_=/([\w-]+),(\d+)/,O=/\/(\d+)$/,d=function findCategoryByKey(e,t,r){return!!Array.isArray(r)&&r.find((function(r){return r[t]===e}))},E=function getFromUrl(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=e.match(t);return!!o&&{slug:o[r],id:~~o[n]}},p=function getCategoryUrl(e,t){var r=function getSubcategoryFromUrl(e){var t=e.match(o.GO_SUBCATEGORY_FROM_URL_REGEXP);return(null==t?void 0:t[2])?~~t[2]:0}(t),n=Object(c.a)(e),a=t),i="",u="";if(r){var l=e.subCategories.find(();l&&(i="/".concat(l.slug,",").concat(l.id,",c"))}return a&&(u="/".concat(a)),"".concat(n).concat(i).concat(u)},b=function getCategoryFromUrlAndCategoryList(e,t){var r=function getCategoryFromUrl(e){return E(e,_)}(e);if(r){var n=r.slug,o=r.id;return d(n,"slug",t)||d(o,"id",t)}return!1};t.a=function GetRedirectUrl(e,t){var r,_={url:null,code:301},O=function GetResponseStatus(e){var t,r=Object.entries((null==e||null===(t=e.context)||void 0===t?void 0:t.rootGroup)||{}).find((function(e){var t=Object(n.a)(e,2)[1];return null==t?void 0:t.status}))||[],o=Object(n.a)(r,2)[1];return(null==o?void 0:o.status)||200}(e),d=t.replace(Object(u.c)(t),""),v=Object.keys((null==e||null===(r=e.context)||void 0===r?void 0:r.rootGroup)||{}).find((),A="";if(404===O){var P="";if(v===o.GO_RESPONSE_KEY_CATEGORY_PAGE){var f=e.context.rootGroup[v].categories||[];P=b(d,f)}A=P?Object(c.a)(P):function get404redirectUrl(e){var t=e.split("/").slice(0,-1).join("/");return new URL(t).pathname?t:e}(t)}else if(200===O&&v){var S=e.context.rootGroup[v];switch(v){case o.GO_RESPONSE_KEY_CATEGORY_PAGE:A=p(S,t);break;case o.GO_RESPONSE_KEY_PROGRAM_PAGE:A=Object(c.a)(S.data.program);break;case o.GO_RESPONSE_KEY_DETAIL_PAGE:case o.GO_RESPONSE_KEY_VOD_PAGE:A=Object(c.a)(S.data.vod);break;case o.GO_RESPONSE_KEY_LIVE_PAGE:A=Object(c.a)(S.data.live);break;case o.GO_RESPONSE_KEY_EPG_DETAIL_PAGE:A=S.data.live.error?Object(c.a)({}):Object(a.h)(S.data.live,S.data.programme);break;case o.GO_RESPONSE_KEY_DYNAMIC_PAGE:A=d;var g=d),j=b(d,S.data);if(j&&(A=Object(c.a)(j)),j&&g){var R=g.slug,G=g.id;A+="/".concat(R,",").concat(G)}}}return A&&t!==A&&(_.url=Object(i.a)(A,d)),_}}}]);