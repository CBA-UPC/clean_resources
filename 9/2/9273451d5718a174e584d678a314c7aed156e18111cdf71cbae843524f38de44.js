(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7695],{21245:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,{admantx:function(){return x},xfinity:function(){return C}});var i=n(34051),o=n.n(i),s=n(50203),a=n.n(s),c=n(47015);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=f=function(e){if("undefined"===typeof e)return e;var t=parseInt(e,10);return Number.isNaN(t)?0:t},h=p="adload",v="mpsready",w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return window.mps=window.mps||{},window.mps._queue=window.mps._queue||{},window.mps._queue[e]=window.mps._queue[e]||[],window.mps._queue[e]},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!document)return null;var r=document.createElement(e);return Object.keys(t).forEach((function(e){var n=t[e];if("boolean"!==typeof n)r.setAttribute(e,n);else{if(!n)return;r.setAttribute(e,e)}})),n.appendChild(r),r},y=function(e){if(window&&"undefined"!==typeof window.requestAnimationFrame)window.requestAnimationFrame(e);else{setTimeout(e,66)}},g=function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ar I=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1500,o=this;E(this,e),this.startTime=Date.now(),this.maxWaitTime=i,this.testCondition=n,this.setTargeting=r,this.promise=new Promise((function(e,n){try{t(),o.resolveAfterConditionOrMaxTime(e)}catch(r){n(r)}}))}var t,n,r;return t=e,n=[{key:"then",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return(r=this.promise).then.apply(r,T(t))}},{key:"catch",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return(r=this.promise).catch.apply(r,T(t))}},{key:"resolveAfterConditionOrMaxTime",value:function(e){var t=this;!0!==this.testCondition()?Date.now()-this.startTime>this.maxWaitTime?e(this.setTargeting()):y(():e(this.setTargeting())}}],n&&O(t.prototype,n),r&&O(t,r),e}(),k=I,L=[],R=null,x=function(e){var t=e.url,n=e.id,r=void 0===n?R:n;if(!t||!r||"undefined"===t||"undefined"===r)throw new Error("Admantx requires a canonical url and publisher key");R=r;return new k((function(){var e=window.escape(t),n={decorator:"template.nbc_template",key:r,method:"descriptor",filter:"default",mode:"async",type:"URL",body:e},i=window.escape(JSON.stringify(n)),o="https://usasync01.admantx.com/admantx/service?request=".concat(i);window.admantx_callback||(window.admantx_callback=(0,c.Z)(o,{attributes:{async:!0}}))}),(,(function(){var e={},t=L.length;return t&&(e={adg:L[t-1].admants}),{targeting:e}}))},A=["assets.nbcnews.com","assets.today.com"],S=["xfinity.comcast.net","xfinity.today.com","xfinity.nbcnews.com","my.xfinity.com"],V=function(){return"X"===function(e){var t=document.cookie,n=t.toUpperCase().indexOf("".concat(e,"="));if(-1!==n){var r=n+e.length+1,i=-1!==t.indexOf(";",r)?t.indexOf(";",r):t.length;return unescape(t.substring(r,i))}return""}("P7")||!!function(){var e=document&&document.referrer,t=null===e||void 0===e?void 0:e.split("//");return!(!e||t.length<2)&&S.filter(().length}()&&(A.forEach((function(e){var t=new window.Image,n=new window.Date;t.src="//".concat(e,"/rendering/crossdomaincookiepush.ashx/X?d=").concat(n.getTime())})),!0)},C=function(){return new k((function(){var e=document.querySelector("xc-header");if(V()&&("undefined"===typeof e||null===e)){document.body.classList.add("xfinity");var t=document.createElement("div");t.innerHTML='<xc-header tab="myxfinity" client-id="nbcnews"></xc-header>';var n=t.childNodes[0];document.body.insertBefore(n,document.body.childNodes[0]),(0,c.Z)("https://polaris.xfinity.com/polaris.js",{attributes:{async:!0}})}}),(,(function(){return document.body.className.includes("xfinity")?{targeting:{xfinityTag:"xfinity"}}:{}}))};unction P(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}ar _=function(e){return Promise.all(Object.entries(e).map((function(e){var t=N(e,2),n=t[0],i=t[1];if(!r[n])throw new Error("MPS does not support a '".concat(n,"' preprocessor"));return r[n](i)})))},M=function(){var e,t=(e=o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:return n=e.sent,r={},n.map(().forEach((),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){P(o,r,i,s,a,"next",e)}function a(e){P(o,r,i,s,a,"throw",e)}s(void 0)}))});return (),j=M,U=[],H=function(){return window.innerWidth},B=!1,F=!1,G=0;function W(){F||(F=!0,y((function(){var e=H();U.forEach((),G=e,F=!1})))}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q,Q,z,X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"instances",get:function(){return e.adInstances}},{key:"findByElement",value:,{key:"register",value:],(n=null)&&Y(t.prototype,n),r&&Y(t,r),e}();z=[],(Q="adInstances")in(q=X)?Object.defineProperty(q,Q,{value:z,enumerable:!0,configurable:!0,writable:!0}):q[Q]=z;var Z=X;function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K,ee={CREATING:"creating",CREATED:"created",REQUESTING:"requesting",REQUESTED:"requested",RENDERING:"rendering",RENDERED:"rendered",RECYCLING:"recycling",RECYCLED:"recycled",DESTROYING:"destroying",DESTROYED:"destroyed"},te=[ee.CREATING,ee.REQUESTING,ee.RENDERING,ee.RECYCLING,ee.DESTROYING],ne=[ee.REQUESTED,ee.RENDERED,ee.RECYCLED,ee.DESTROYED],re=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),J(this,"statuses",(J(t={},ee.CREATING,!1),J(t,ee.CREATED,!1),J(t,ee.REQUESTING,!1),J(t,ee.REQUESTED,!1),J(t,ee.RENDERING,!1),J(t,ee.RENDERED,!1),J(t,ee.RECYCLING,!1),J(t,ee.RECYCLED,!1),J(t,ee.DESTROYING,!1),J(t,ee.DESTROYED,!1),t))}var t,n,r;return t=e,n=[{key:"is",value:,{key:"isProcessing",value:,{key:"set",value:,{key:"clearAllStatuses",value:function(){var e=this;return Object.keys(ee).forEach((function(t){ee[t]!==ee.CREATED&&(e.statuses[ee[t]]=!1)})),this}},{key:"clearFinishedStatuses",value:function(){var e=this;return ne.forEach((function(t){e.statuses[t]=!1})),this}},{key:"doneProcessing",value:function(){var e=this;return te.forEach((),this}}],n&&$(t.prototype,n),r&&$(t,r),e}(),ie=re;function oe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var se=function(e){var t=e.targeting,n=e.adUnit,r=e.mpscall,i=e.mpsUrl,o=t.ksg,s=t.kuid,a=t.adg,c=t.xfinity,u=(t.site,t.type),d=(t.pos,t.pageid),f=t.referrer,h=oe(t,["ksg","kuid","adg","xfinity","site","type","pos","pageid","referrer"]),p={ksg:o,kuid:s,adg:a,xfinity:c,referrer:f},v=r||{};Object.keys(h).forEach((function(e){"string"===typeof h[e]?v["cag[".concat(e,"]")]=h[e]:Array.isArray(h[e])&&(v["cag[".concat(e,"]")]=h[e].join("|"))})),v.adunit=n,v.type=u,v.content_id=d,v.referrer=f,v.cat=function(e){var t=l(e.split("/"),5),n=[t[3],t[4]].filter(();return n.length?n.join("|"):"home"}(n);var w=function(e){var t,n,r;return null!==(K=null===(r=null===(t=null===e||void 0===e?void 0:e.split("ext/load-"))||void 0===t||null===(n=t[1])||void 0===n?void 0:n.split(".js"))||void 0===r?void 0:r[0])&&void 0!==K?K:null}(i);return(v.site||w)&&(v.site=v.site||w),{mps:v,gpt:p}},ae=function(){return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ae().cmd.push((function(){var n,r=t||(null===(n=ae())||void 0===n?void 0:n.pubads());Object.keys(e).forEach((function(t){"undefined"!==typeof e[t]&&(null===r||void 0===r||r.setTargeting(t,e[t]))}))}))},ue=function(){ae().cmd.push((function(){var e,t;null===(t=null===(e=ae())||void 0===e?void 0:e.pubads())||void 0===t||t.clearTargeting()}))};function le(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){le(o,r,i,s,a,"next",e)}function a(e){le(o,r,i,s,a,"throw",e)}s(void 0)}))}}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){he(e,t,n[t])}))}return e}var ve=0,we=function(e){return"div-mps-ad-".concat(e,"-").concat(ve+=1)},me=null,ye=null,ge=function(){ar t,n,r;return t=e,r=[{key:"configure",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return de(o().mark((function n(){var r,i,s,a,u,l,d,f,h;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window){n.next=2;break}return n.abrupt("return");case 2:if(r=t.breakpoints,i=void 0===r?[]:r,s=t.vendors,a=void 0===s?{}:s,u=t.preprocessors,l=void 0===u?{}:u,d=t.targeting,f=void 0===d?{}:d,h=t.refreshInterval,!e.configured){n.next=7;break}return n.next=6,e.reconfigure(t);case 6:return n.abrupt("return");case 7:e.configured=new Promise((function(t){e.ready=Promise.resolve().then(de(o().mark((function n(){var r,s,u,d,p,v,w,m;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,j(l);case 3:d=n.sent,e.targeting=pe({},f,d),e.config={breakpoints:i,vendors:a,refreshInterval:h},me=null!==(p=null===a||void 0===a?void 0:a.mpsUrl)&&void 0!==p?p:"",ye=null!==(v=null===a||void 0===a?void 0:a.gptAdUnitPath)&&void 0!==v?v:"",w=null===(u=null===(s=null===a||void 0===a||null===(r=a.mpsUrl)||void 0===r?void 0:r.replace("https://",""))||void 0===s?void 0:s.split("/"))||void 0===u?void 0:u[0],window.mpsopts={host:w,updatecorrelator:!1},m=se({targeting:e.targeting,adUnit:ye,mpscall:window.mpscall,mpsUrl:me}),ce(null===m||void 0===m?void 0:m.gpt),window.mpscall=m.mps,(0,c.Z)(me,{attributes:{async:!0}}).thenOnFirstLoad(();case 16:case"end":return n.stop()}}),n)}))))})).then(de(o().mark((function t(){return o().wrap((,t)}))));case 8:case"end":return n.stop()}}),n)})))()}},{key:"reconfigure",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return de(o().mark((function n(){var r,i,s,a,c,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.configured){n.next=2;break}throw new Error("MPS has not been configured");case 2:return r=t.preprocessors,i=void 0===r?{}:r,s=t.targeting,a=void 0===s?{}:s,c=t.vendors,u=void 0===c?{}:c,e.ready=Promise.resolve().then(de(o().mark((function t(){var n,r,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(i);case 2:n=t.sent,e.targeting=pe({},a,n),e.config=pe({},e.config,{vendors:u}),ye=null!==(r=null===u||void 0===u?void 0:u.gptAdUnitPath)&&void 0!==r?r:"",s=se({targeting:e.targeting,adUnit:ye,mpscall:window.mpscall,mpsUrl:me}),ue(),ce(null===s||void 0===s?void 0:s.gpt),w(v).push((function(){window.mpscall=s.mps,window.mps.makeRequest("more"),window.mps._correlator.update()}));case 11:case"end":return t.stop()}}),t)})))),n.next=6,e.ready;case 6:case"end":return n.stop()}}),n)})))()}},{key:"createAd",value:function(t,n){return de(o().mark((function r(){var i,s,a,c,u,l,d;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.configured;case 2:return r.next=4,e.ready;case 4:return i=t.id,s=t.slot,a=t.element,c=t.targeting,u=void 0===c?{}:c,l=i||we(s),m("div",{id:l},a),d={id:l,slot:s},w(p).push((function(e){var t=e._mps;t._slot===s&&(d.advar=t.advar,n({empty:e.isEmpty,mps:t,eo:e}))})),r.abrupt("return",new Promise((function(e){w(v).push((function(){var t=pe({pos:s},u),n=se({targeting:u,adUnit:ye,mpscall:window.mpscall,mpsUrl:me}),r=Object.keys(n.mps).reduce((function(e,t){return window.mpscall[t]!==n[t]?"".concat(e).concat(t,"=").concat(n.mps[t],";"):e}),"");d.adTargeting=t,d.customTargeting=r,e(d)}))})));case 10:case"end":return r.stop()}}),r)})))()}},{key:"renderAd",value:function(e){return new Promise((function(t){var n=e.id,r=e.slot,i=e.customTargeting;w(v).push((function(){["news","msnbc"].includes(null===window||void 0===window?void 0:window.__vertical)&&(null===window||void 0===window?void 0:window.__isarticle)&&"boxinline"===r?setTimeout((function(){window.mps.cloneAd("#".concat(n),r,i)}),2e3):window.mps.cloneAd("#".concat(n),r,i),t()}))}))}},{key:"destroyAd",value:function(e){return new Promise((function(t){w(v).push((function(){var n=e.id;window.mps._remove(document.getElementById(n)),"undefined"!==typeof e.advar&&delete window.gpt[e.advar],t()}))}))}},{key:"recycleAd",value:function(e){return new Promise((function(t){w(v).push((function(){"undefined"!==typeof e.advar&&window.mps.refreshAds([window.gpt[e.advar]]),t()}))}))}}],(n=null)&&fe(t.prototype,n),r&&fe(t,r),e}();he(ge,"ready",Promise.resolve()),he(ge,"configured",void 0),he(ge,"config",null),he(ge,"getAdId",();var be=ge;function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe="secondsUpdated",Te=function e(){var t=this;!this,e),Ee(this,"intervalId",null),Ee(this,"eventEmitter",null===document||void 0===document?void 0:document.createElement("span")),Ee(this,"running",!1),Ee(this,"paused",!1),Ee(this,"totalSeconds",0),Ee(this,"start",(function(){t.running||(t.paused||(t.intervalId=setInterval(t.updateTimer,1e3)),t.running=!0,t.paused=!1)})),Ee(this,"updateTimer",(function(){var e;t.paused||(t.totalSeconds+=1,null===(e=t.eventEmitter)||void 0===e||e.dispatchEvent(new CustomEvent(Oe)))})),Ee(this,"pause",(),Ee(this,"reset",(function(){clearInterval(t.intervalId),t.intervalId=void 0,t.totalSeconds=0,t.running=!1,t.paused=!1,t.start()})),Ee(this,"isPaused",(function(){return t.paused})),Ee(this,"getTotalSeconds",(function(){return t.totalSeconds})),Ee(this,"addEventListener",(function(e){var n;null===(n=t.eventEmitter)||void 0===n||n.addEventListener(Oe,e)})),Ee(this,"removeEventListener",()};nction Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Ve=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;Le(this,e);var i=n.slot,s=Se(n,["slot"]);xe(this,"id",null),xe(this,"ready",Promise.resolve()),xe(this,"events",{}),xe(this,"element",null),xe(this,"elementObserver",null),xe(this,"slot",null),xe(this,"options",{}),xe(this,"refreshInterval",null),xe(this,"recycleOnBreakpoint",!0),xe(this,"renderOnView",!0),xe(this,"offset",50),xe(this,"offsetViewport",null),xe(this,"activeTab",!0),xe(this,"renderEventData",void 0),xe(this,"timer",null),xe(this,"timerWasPaused",!1),xe(this,"scrollMonitor",null),xe(this,"onRenderCallbacks",[]),xe(this,"adLifecycle",new ie);var c=this;xe(this,"render",ke(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ready;case 2:if(!c.adLifecycle.isProcessing()&&!c.adLifecycle.is(ee.REQUESTED)){e.next=4;break}return e.abrupt("return");case 4:if(c.removeListeners(),document.hasFocus()||!c.activeTab){e.next=8;break}return c.renderOnFocus(),e.abrupt("return");case 8:return c.adLifecycle.set(ee.RENDERING,!0).set(ee.REQUESTING,!0),e.next=11,be.renderAd(c.ad);case 11:c.adLifecycle.doneProcessing().set(ee.REQUESTED,!0);case 12:case"end":return e.stop()}}),e)}))));var u=this;xe(this,"recycle",ke(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ready;case 2:if(!u.adLifecycle.is(ee.RECYCLING)){e.next=4;break}return e.abrupt("return");case 4:if(u.removeListeners(),document.hasFocus()||!u.activeTab){e.next=8;break}return u.recycleOnFocus(),e.abrupt("return");case 8:return u.adLifecycle.clearFinishedStatuses().set(ee.RECYCLING,!0).set(ee.REQUESTING,!0),e.next=11,be.recycleAd(u.ad);case 11:u.adLifecycle.doneProcessing().set(ee.REQUESTED,!0).set(ee.RECYCLED,!0);case 12:case"end":return e.stop()}}),e)}))));var l=this;if(xe(this,"destroy",ke(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ready;case 2:return l.adLifecycle.clearFinishedStatuses().set(ee.DESTROYING,!0),e.next=5,be.destroyAd(l.ad);case 5:l.adLifecycle.clearAllStatuses().set(ee.DESTROYED,!0),l.removeListeners();case 7:case"end":return e.stop()}}),e)})))),xe(this,"onInitialRender",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.adLifecycle.is(ee.REQUESTED)&&!r.adLifecycle.is(ee.RENDERED)){r.adLifecycle.set(ee.RENDERED,!0),r.elementObserver.disconnect(),r.scrollMonitor.destroy();var t=r.element.offsetHeight/-2||r.offset;r.scrollMonitor=a().create(r.element,t),r.refreshInterval&&(r.scrollMonitor.recalculateLocation(),r.setupRefreshInterval()),r.scrollMonitor.isInViewport||(r.timer.pause(),r.timerWasPaused=r.timer.isPaused()),r.recycleOnBreakpoint&&r.setupRecycleOnBreakpoint();var n=e.empty,i=void 0!==n&&n,o=e.requestTime,s=void 0===o?null:o,c=Se(e,["empty","requestTime"]);r.renderEventData={empty:i,requestTime:s,additionalData:c},r.fireRenderCallbacks(r.renderEventData)}})),xe(this,"startTimer",(function(){r.timer.start()})),xe(this,"pauseTimer",(function(){r.timer.pause()})),xe(this,"resumeTimerOnFocus",(),xe(this,"pauseTimeOnBlur",(),xe(this,"recycleWhenTimesUp",(function(){r.timer.getTotalSeconds()>=r.refreshInterval&&r.recycle()})),window){if(!t||!i)throw new Error("Element and slot must be set");this.id=be.getAdId(i),this.slot=i,this.element=t,Z.register(this),this.adLifecycle.set(ee.CREATING,!0);var d=this;this.ready=be.ready.then(ke(o().mark((function e(){var n,r,c,u,l,f,h,p,v,w,m,y,b,E,O,T,I,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.renderOnView,r=void 0===n||n,c=s.recycleOnBreakpoint,u=void 0===c||c,l=s.refreshInterval,f=s.offset,h=void 0===f?50:f,p=s.offsetViewport,v=s.sizes,w=s.preprocessors,m=void 0===w?{}:w,y=s.targeting,b=void 0===y?{}:y,E=s.vendors,O=s.activeTab,T=void 0===O||O,d.activeTab=T,d.options=s,d.renderOnView=r,d.offset=p?window.innerHeight*p/100:h,d.recycleOnBreakpoint=u,d.refreshInterval="undefined"!==typeof l?l:be.config.refreshInterval,e.next=9,j(m);case 9:return I=e.sent,"referrer"in(k=Ae({},be.targeting,b,I))||(k.referrer=document.referrer),k.referrer=g(k.referrer),d.setupElementObserver(),e.next=16,be.createAd({id:d.id,targeting:k,element:t,slot:i,vendors:E,sizes:v},d.onInitialRender);case 16:d.ad=e.sent,d.adLifecycle.set(ee.CREATING,!1).set(ee.CREATED,!0),d.scrollMonitor=a().create(t,d.offset),d.scrollMonitor.stateChange((),d.timer=new Te,d.renderOnView&&d.setupRenderOnView();case 22:case"end":return e.stop()}}),e)}))))}}var t,n,r;return t=e,n=[{key:"onRender",value:function(e){this.adLifecycle.is(ee.RENDERED)?e.call(this,this.renderEventData,this):this.onRenderCallbacks.push(e)}},{key:"fireRenderCallbacks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;this.onRenderCallbacks.forEach(()}},{key:"setupElementObserver",value:function(){var e=this;this.elementObserver=new MutationObserver((function(t){var n=e;t.forEach((function(e){var t=n;e.removedNodes.forEach((function(e){e.id===t.id&&m("div",{id:t.id},t.element)}))}))})),this.elementObserver.observe(this.element,{subtree:!0,childList:!0})}},{key:"setupRefreshInterval",value:function(){this.startTimer(),this.scrollMonitor.enterViewport(this.startTimer),this.scrollMonitor.exitViewport(this.pauseTimer),window.addEventListener("focus",this.resumeTimerOnFocus),window.addEventListener("blur",this.pauseTimeOnBlur),this.timer.addEventListener(this.recycleWhenTimesUp)}},{key:"setupRenderOnView",value:function(){this.scrollMonitor.enterViewport(this.render)}},{key:"setupRecycleOnView",value:,{key:"setupRecycleOnBreakpoint",value:function(){var e,t=this,n=be.config.breakpoints;n.length&&(e=function(e,r){n.find((function(t){return i=e,o=r,(n=t)>=Math.min(i,o)&&n<=Math.max(i,o);var n,i,o}))&&t.recycle()},U.push(e),window&&!B&&(B=!0,G=H(),window.addEventListener("resize",W)))}},{key:"renderOnFocus",value:function(){var e=this,t=function(){e.setupRenderOnView(),window.removeEventListener("focus",t)};window.addEventListener("focus",t)}},{key:"recycleOnFocus",value:function(){var e=this,t=window.addEventListener("focus",t)}},{key:"removeScrollListeners",value:,{key:"removeListeners",value:function(){this.timer.reset(),this.timer.removeEventListener(this.recycleWhenTimesUp),this.removeScrollListeners(),window.removeEventListener("focus",this.resumeTimerOnFocus),window.removeEventListener("blur",this.pauseTimeOnBlur)}}],n&&Re(t.prototype,n),r&&Re(t,r),e}(),Ce=Ve;function De(e){return Z.findByElement(e)||new Ce(e,function(e){var t=e.dataset,n=t.slot,r=t.sizes,i=t.offset,o=t.targeting,s=t.renderOnView,a=t.refreshInterval,c=t.activeTab,u=t.offsetViewport;return{slot:n,sizes:d(r,[]),targeting:d(o,null),refreshInterval:"false"===a?0:f(a),offset:f(i),renderOnView:h(s),offsetViewport:f(u),activeTab:h(c)}}(e))}f(window.__nbcnd__=window.__nbcnd__||{},window.__nbcnd__.adQueue=window.__nbcnd__.adQueue||[],!window.__mpsconfig)throw new Error("window.__mpsconfig has not been set. set it or else.");be.configure(window.__mpsconfig),Array.prototype.forEach.call(document.querySelectorAll("[data-mps]"),De),window.__nbcnd__.adQueue.forEach(Pe),window.__nbcnd__.adQueue.length=0,window.__nbcnd__.adQueue.push=Pe},47015:function(e,t,n){"use strict";.d(t,{Z:);var i={};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.location,o=void 0===n?"head":n,s=t.attributes,a=void 0===s?{}:s,c=t.force,u=void 0!==c&&c;return!u&&i[e]||(i[e]=new Promise((function(t){var n=document.createElement("script");if(n.src=e,n.onload=t,Object.keys(a).forEach((function(e){var t=a[e];if("boolean"!==typeof t)n.setAttribute(e,t);else{if(!t)return;n.setAttribute(e,e)}})),r(o,Node))o.appendChild(n);else{var i=document.querySelector(o);i&&i.appendChild(n)}})),i[e].thenOnFirstLoad=function(t){return i[e].thenOnFirstLoad=i[e].then(t)}),i[e]}},50203:function(e){e.exports=[function(e,t,n){"use strict";a=n(1),c=a.isOnServer,u=a.isInBrowser,l=a.eventTypes,d=n(3),f=!1;if(u)try{var h=Object.defineProperty({},"passive",{get:);window.addEventListener("test",null,h)}catch(e){}var p=!!f&&{capture:!1,passive:!0},v=function(){function e(t,n){this,e);var u,d,f,h=this;this.item=t,this.watchers=[],this.viewportTop=null,this.viewportBottom=null,this.documentHeight=o(t),this.viewportHeight=i(t),this.DOMListener=this.eventTypes=l,n&&(this.containerWatcher=n.create(t)),this.update=this.recalculateLocations=return e.prototype.listenToDOM=e.prototype.destroy=e.prototype.DOMListener=e.prototype.setStateFromDOM=e.prototype.setState=e.prototype.updateAndTriggerWatchers=e.prototype.createCustomContainer=e.prototype.createContainer=e.prototype.create=e.prototype.beget=e}();e.exports=v},function(e,t,n){"use strict";ar i=n(1),o=i.VISIBILITYCHANGE,s=i.ENTERVIEWPORT,a=i.FULLYENTERVIEWPORT,c=i.EXITVIEWPORT,u=i.PARTIALLYEXITVIEWPORT,l=i.LOCATIONCHANGE,d=i.STATECHANGE,f=i.eventTypes,h=i.defaultOffsets;r.prototype={on:off:one:recalculateSize:update:destroy:lock:function(){this.locked=!0},unlock:;for(var p=v=0,w=f.length;v<w;v++){var m=f[v];r.prototype[m]=p(m)}e.exports=r}])}},);