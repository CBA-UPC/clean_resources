/* FMM-TMS - 17/01/2024 08:38 - fmm */
var tmsVersion='4.7.2-c900f6';
var tms=function(e){"use strict";const t=(e=document.location.href)=>{const t=new URL(e);return Object.fromEntries(t.searchParams.entries())};let n={},r={};const o=e=>n[e]||!1,i=e=>r[e]&&r[e](n)||!1,a=e=>{r=e},s=(e,t)=>{r[e]=t},c=e=>{n=e};var u=Object.freeze({__proto__:null,getUrlVariables:t,get:o,is:i,setRuntimeHelpers:a,addRuntimeHelper:s,setData:c});const l={},d=e=>{if(e&&"string"!=typeof e)throw new Error(`List :: getValue :: key is not valid : ${e}`);return l[e]},f=e=>{if(e&&"string"!=typeof e)throw new Error(`List :: hasKey :: key is not valid : ${e}`);return!!l[e]},p=(e,t)=>{if("string"!=typeof e)throw new TypeError(`List :: addValue :: key is not valid : ${e}`);l[e]=t},v=/([\s+,/:;·—]+)/g,g=/^[\s_-]+|[\s_-]+$/g,m=/[!"#&'()*.[\]{}¡«»¿،؟‘’“”…‧、。〈〉《》「」『』【】︳︴︽︾︿﹀﹁﹂﹃﹄﹏！（）：；？［］～]/g,h=/[\s-]+/g,_=e=>void 0===e||Boolean(e),y=e=>e.replaceAll(g,""),b=e=>e[0].toLocaleUpperCase()+e.slice(1),w=e=>y(e.toLocaleLowerCase().replaceAll(/_+/g,"_").replaceAll(v,"-").replaceAll(m,"").replaceAll(h,"-")),C=e=>w(e).replaceAll("_","-").replaceAll(h,"-"),k=(e,t,n)=>Object.keys(t).reduce(((e,n)=>e.replaceAll(new RegExp(n,"g"),t[n])),_(n)?C(e):e),P=(e,t)=>t.some((t=>e.includes(t))),A=e=>""===e?[]:e.split(","),O=(e,t,n)=>{if(e.toString().length>t)return e.toString();let r=e.toString();for(;r.length<t;)r=n.toString()+r;return r},S=e=>O(e,2,"0"),x=e=>e?Array.isArray(e)?e.map((e=>e.replaceAll("'",""))):e.replaceAll("'",""):e;var E={cleanChapterName:w,slugify:C,replaceAll:k,isFoundInArray:P,arrayFromString:A,lpad:O,addZero:S,cleanApostrophes:x,ucfirst:b,trim:y};const D=()=>{const e=window.navigator.language||navigator.userLanguage||"en";return/^fr|en|es|pt|ha|fa|sw|zh|km|ro|ru|uk|vi|ps|prs|bn|bm|ff/gi.test(e)?e:"en"},I=e=>e.replace(/f(rance)?(24-mcd-rfi|m(edias)?m(onde)?)/,"fmm").replace(/france24/,"f24").replace(/mc-doualiya/,"mcd");var M=(e,t=window)=>{const n=t.location,r=t.document.documentElement,o=t.screen,i=new Date;return{authors:[],canonical(){const e=new URL(n.href.replace(n.search,"").replace(n.hash,""));return/fastly/.test(e.host)&&(e.host=e.host.replace(".global.ssl.fastly.net","").replace("rfi","www.rfi.fr").replace("f24","www.france24.com")),e.href},cat1:()=>"homepage"===e("page_name")?"accueil":"",cat2:"",cat3:"",content_id:"",content_title:()=>document.title,content_type:"service",deeplink(){let t="";const r=e,o=`${r("site_brand")}://${r("site_locale")}/`,i=r("content_id");switch(r("content_type")){case"homepage":t=o;break;case"section":t=`${o}section/${n.pathname.replaceAll(/\/$/g,"").split("/").reverse()[0]}`;break;case"article":case"depeche":t=`${o}article/${i}`;break;case"video":case"edition":t=`${o}show/${i}`;break;case"emission":t=`${o}show_list/${i}`;break;case"tag":t=`${o}tag/${i}`;break;default:t=""}return t},device_orientation:()=>"orientation"in o&&"type"in o.orientation?o.orientation.type:"portrait-primary",device_type(){const e=t.innerWidth,n=t.innerHeight,r=navigator.userAgent.match(/android|blackberry|mobile|iphone|ipod|opera mini/i);let o=e<=1024&&e>=n&&e/n<2.4||n<=1024&&n>=e&&n/e<2.4?"tablette":"desktop";return(e<640&&n>=e&&n/e<2.4&&r||n<640&&e>=n&&e/n<2.4&&r)&&(o="mobile"),o},fb_locale:()=>({fr:"fr_FR",en:"en_US",ar:"ar_AR",es:"es_LA",pt:"pt_PT",br:"pt_BR",cn:"zh_CN",tw:"zh_TW",km:"km_KH",ha:"ha_NG",fa:"fa_IR",sw:"sw_KE",ma:"fr_FR",ff:"ff_NG",ps:"ps_AF",prs:"fa_IR",bn:"bn_IN",ro:"ro_RO",ru:"ru_RU",uk:"uk_UA",vi:"vi_VN"}[e("site_locale")]||"fr_FR"),http_code:200,language_level:[],main_media_type:"texte",page_name:"",publication_date:()=>`${i.getFullYear().toString()}-${S(i.getMonth()+1)}-${S(i.getDate())}`,publication_time:()=>`${S(i.getHours())}:${S(i.getMinutes())}:${S(i.getSeconds())}`,show:[],site_brand:(()=>{const e=n.hostname.split("."),t=e.reverse();let r=I(t[1]||"");return t.length>2&&"francaisfacile"===t[2]?r="fle":"fmm"===r&&n.pathname.includes("infomigrants")?r="infomigrants":"fmm"===r&&t.length>5&&/france24|rfi|mc-d/.test(t[5])?r=I(t[5]||""):"fastly"===r&&([r]=e),r})(),site_context:"interne",site_dir:()=>r.getAttribute("dir")||"ltr",site_env:(()=>{const e=n.host.match(/(priv|local|p(re)?pr|rec)/gi)||[];let r="prod";return e.length>0?[r]=e:/local/.test(t.tmsVersion)&&(r="local"),r})(),site_locale:()=>(r.dataset.locale||r.lang||D()).replaceAll(/bm/gi,"ma").replaceAll(/zh-hans/gi,"cn").replaceAll(/zh-hant/gi,"tw").replaceAll(/pt-br/gi,"br").slice(0,3).replaceAll(/-+$/g,""),site_medium:"",site_type(){const e=t.innerWidth,n=t.innerHeight,r=navigator.userAgent.match(/android|blackberry|mobile|iphone|ipod|opera mini/i);return e<640&&n>=e&&n/e<2.4&&r||n<640&&e>=n&&e/n<2.4&&r?"site-mobile":"site"},site_version:"1.0",special_event:"",supertag:[],tags:[],tms_version:t.tmsVersion}};const T=M(L),N=e=>{let t=o(e);if(null!=t&&t){if("object"==typeof t&&t.length>0){const e={name:[],name_clean:[],name_slug:[],id:[]},n=t=>{const n=t[0].replace("title","name");e[n]=e[n]||[],Array.isArray(t[1])?e[n].push(...t[1]):e[n].push(t[1])};for(let e=0,r=t.length;e<r;e+=1)Object.entries(t[e]).map((e=>n(e)));t=e}}else t="function"==typeof T[e]?T[e]():void 0!==T[e]&&T[e];return(t||""===t)&&p(e,t),t};function L(e){return void 0===e||""===e?(Object.keys(T).map((e=>N(e))),l):N(e)}const $=["site_context","site_brand","site_env","site_medium","site_version","tms_version"];var R=e=>f(e)&&P(e,$)?d(e):L(e),j=e=>{try{const t="content_type",n="page_name",r="site_brand",o="site_dir",i="site_env",a="site_type",s={homepage:()=>"homepage"===R(n),section:()=>"section"===R(t)&&"homepage"!==R(n),brand_content:()=>"object"==typeof R("brand_content"),article:()=>"article"===R(t),depeche:()=>"depeche"===R(t),emission:()=>"emission"===R(t),edition:()=>"edition"===R(t),live:()=>"service"===R(t)&&"direct"===R("cat1"),tag:()=>"tag"===R(t),service:()=>"service"===R(t),error:()=>"erreur"===R(t),iOS:()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,desktop:()=>"site"===R(a),mobile:()=>"site-mobile"===R(a),embed:()=>/(embed|articles)\./.test(window.location.hostname),ia:()=>"ia"===R("site_medium"),f24:()=>"f24"===R(r),rfi:()=>"rfi"===R(r),mcd:()=>"mcd"===R(r),fle:()=>"fle"===R(r),obs:()=>R(r).includes("obs"),academie:()=>R(r).includes("academie"),rfi_musique:()=>R(r).includes("rfi-musique"),rfi_savoirs:()=>R(r).includes("rfi-savoirs"),graphics:()=>/(graphics|webdoc|static)\./.test(window.location.hostname),embedded_graphics:()=>!(!["service","infographie"].includes(R(t))||!document.querySelector(".t-content--static [data-graphics-type]")),ltr:()=>"ltr"===R(o),rtl:()=>"rtl"===R(o),ppr:()=>"prod"!==R(i),test:()=>"prod"!==R(i),mirror:()=>/fastly\./.test(window.location.hostname),save_data:()=>"connection"in navigator&&!0===navigator.connection.saveData,pwa:()=>["fullscreen","standalone","minimal-ui"].some((e=>window.matchMedia(`(display-mode: ${e})`).matches))||navigator.standalone||!1,offline:()=>!navigator.onLine};return e in s&&s[e]()}catch(t){return console.log("%c ERROR.TMS.IS ","background:#f00;color:#fff;line-height:20px;font-weight:bold;","IS - Critical error",{name:e,error:t}),!1}};const H=t().tms_debug||"0",U=e=>`background:#${e};color:#fff;line-height:20px;font-weight:bold;text-transform:uppercase;`;let B=0;const q=(e,t,...n)=>{console.log(`${B>0?"├":"┌"}─%c ${t} `,U(e),...n),B+=1},V=(e,...t)=>q("009900",e,...t),F=(e,...t)=>q("00BCD4",e,...t),K=(e,...t)=>q("FF0000",e,...t),Y=(e,...t)=>q("9900EE",e,...t),J=(e,t,...n)=>{let r=V;if(e.includes("error.")?r=K:e.includes("consent.")?r=Y:e.includes("abtest.")&&(r=F),j("ppr")||"1"===H){const o=[e,`${t}${n.length>0?"\n│ ":""}`];1===n.length?r(...o,n[0]):n.length>1?r(...o,{...n}):r(...o)}},W=(e,t,n,r="",o="",i="")=>{let a=`${t} - ${"init"===n&&""===r?"Init":r}`,s=""===i?"":`${i}.`;"prevented"===r&&(a=`${t} - GDPR - Consent prevented tag from action '${n}'`,s="consent.");const c=[`${s}tms.${"gdpr"===e?"":"tags."}${e}.${n}`,a];void 0!==o&&""!==o&&c.push(o),J(...c)},z=e=>{const t={b:R("site_brand"),l:R("site_locale"),s:R("site_version"),t:R("tms_version"),u:window.location.href+(e?"":"?xmlhttprequest=1"),r:document.referrer};e&&(q("0055BB",`${t.b} ${t.l}`,`vSite: ${t.s} - vTms: ${t.t}\n│  © ${(new Date).getFullYear()} Copyright France Médias Monde - All rights reserved`),q("009688","💻","Join the team: https://fmm.io/jobs"));try{const e=`https://fmm.io/br?i=${encodeURIComponent(btoa(JSON.stringify(t)))}`;q("8B4513","🕷️",`Report a bug: ${e}`)}catch{J("error.tms.log.openingLog","Log - Unable to create bug report URL")}},G=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1},Q=(e,t)=>G.call(e,t),X={defer:"defer",type:"text/javascript"},Z={rel:"stylesheet",type:"text/css"},ee=(e,t)=>({...t,...e}),te=(e,t=document)=>t.querySelectorAll(e),ne=(e,t)=>Array.prototype.filter.call(te(e),(e=>new RegExp(t).test(e.textContent))),re=(e,t)=>[...e].filter((e=>Q(e,t))),oe=(e,t)=>(t.append(e),t.lastChild),ie=(e,t)=>t.parentElement.insertBefore(e,t),ae=(e,t)=>t.firstChild?ie(e,t.firstChild):oe(e,t.parentElement),se=(e,t)=>t.nextElementSibling?ie(e,t.nextElementSibling):oe(e,t.parentElement),ce=e=>e.remove(),ue=(e,t,n,r)=>{const o=document.createElement(e);return o.innerHTML=t,Object.keys(n||{}).forEach((e=>{o.setAttribute(e,n[e])})),Object.keys(r||{}).forEach((e=>{o[e]=r[e]})),o},le=(e,t,n,r)=>oe(ue("script","",ee(t,X),{src:e,onload:n,onerror:r}),document.head),de=(e,t)=>oe(ue("script",e,ee(t,X)),document.head),fe=(e,t)=>oe(ue("link","",ee(t,Z),{href:e}),document.head),pe=(e,t)=>oe(ue("style",e,ee(t,Z)),document.head),ve=e=>e?(e.setAttribute("id",`tms-block-${Math.random().toString().slice(2)}`),e.id):(J("tms.dom.unifyBlock","Element is undefined"),""),ge=(e,t)=>{let n,r=!1,o="meta",i="content";switch(e){case"link":o="link",n="rel",i="href";break;default:n=e}const a=te(`${o}[${n}="${t}"]`)[0];return a&&(r=a.getAttribute(i)),r};var me={select:te,contains:ne,filter:re,append:oe,before:ie,prepend:ae,after:se,remove:ce,create:ue,importScript:le,execute:de,importStyle:fe,addStyle:pe,unifyBlock:ve,getMeta:ge};const he=(e,t,n)=>{const r=e=>{let{target:r}=e;for(;r.parentElement;r=r.parentElement)if(Q(r,t))return n(e,r);return!1};return window.addEventListener(e,r),r},_e=(e,t)=>window.removeEventListener(e,t),ye=(e,t)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}};let be=[],we=!1,Ce=!1;function ke(){if(!we){we=!0;for(let e=0,t=be.length;e<t;e+=1)be[e].fn.call(window,be[e].ctx);be=[]}}function Pe(){"complete"===document.readyState&&ke()}function Ae(e,t){if("function"!=typeof e)throw new TypeError("callback for onDomReady(fn) must be a function");we?setTimeout((()=>{e(t)}),1):(be.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(ke,1):Ce||(document.addEventListener?(document.addEventListener("DOMContentLoaded",ke,!1),window.addEventListener("load",ke,!1)):(document.attachEvent("onreadystatechange",Pe),window.attachEvent("onload",ke)),Ce=!0))}const Oe=e=>{const t=Date.now();return new Promise((function n(r,o){void 0!==window.PubSub?r():e&&Date.now()-t>=e?o(new Error("PubSub not available")):setTimeout(n.bind(this,r,o),100)}))},Se=e=>Oe(1e4).then(e),xe=(e,t=(()=>{}),n="tms.event",r=!1)=>{Se((()=>window.PubSub["subscribe"+(r?"Once":"")](`${n}.${e}`,t))),"fov"===n&&Se((()=>window.PubSub["subscribe"+(r?"Once":"")](e,t)))},Ee=(e,t={},n="tms.event")=>{Se((()=>window.PubSub.publish(`${n}.${e}`,t))),Se((()=>window.PubSub.publish(e,t)))},De={all:"navigation",init_env:"navigation.init_env",request:"navigation.request",finished:"navigation.request.finished",start:"navigation.request.start",process:"navigation.request.process",done:"navigation.request.finished.success",failed:"navigation.request.finished.failure"},Ie=()=>Ee(De.done),Me=e=>xe(De.done,e,"fov"),Te=e=>xe(De.start,e,"fov"),Ne=e=>xe(De.process,e,"fov"),Le=e=>xe(De.failed,e,"fov"),$e=e=>xe(De.finished,e,"fov"),Re=e=>xe("pageDataRefreshed",e),je=e=>xe("render.mounted",e,"fov"),He=e=>xe("userJourneyRefreshed",e),Ue=e=>xe("player.ready",e),Be=e=>xe("player.action",e,"fov"),qe=e=>xe("player.state",e,"fov"),Ve=e=>xe("player.playlist",e,"fov"),Fe=e=>xe("video_player.state",e,"fov"),Ke=e=>xe("ad.rendered",e),Ye=e=>xe("ad.seen",e),Je=e=>xe("onBeforeAdsFilled",e),We=e=>xe("onAfterAdsFilled",e),ze=(e,t)=>{xe("gdpr.onConsentAvailable",e),J("consent.tms.event.onConsentAvailable",`Event - onConsentAvailable - Tag ${t} waiting for consent`,{cb:e})},Ge=e=>xe("gdpr.onConsentChanged",e),Qe=e=>xe("gdpr.onCmpReady",e);let Xe=[];const Ze=()=>{for(let e=0,t=Xe.length;e<t;e+=1)Xe[e].fn.call(window,Xe[e].ctx);Xe=[]},et=e=>{"onLine"in navigator&&!navigator.onLine?Xe.push(e):e()},tt=e=>xe("online",e),nt=e=>xe("offline",e);window.addEventListener("offline",(()=>{J("tms.event.offline","Event - Offline - Internet connection lost"),Ee("offline")})),window.addEventListener("online",(()=>{J("tms.event.online",`Event - Online - Internet connection back online, running ${Xe.length} action${Xe.length>1?"s":""} waiting in queue`),Ee("online"),Ze()}));const rt=e=>{window.addEventListener("scroll",ye((t=>e(t)),1e3),{passive:!0})},ot=(e,t)=>{let n,r,o=1e3*e,i=!1;const a={resume:()=>{i||(n=Date.now(),r=setInterval(a.step,1e3),i=!0,J("tms.event.countdown.resume",`Event - Countdown - ${e}s countdown resumed`,{startTime:n,timer:r,seconds:e,onComplete:t}))},pause:()=>{i&&void 0!==r&&(o=a.step(),clearInterval(r),i=!1,J("tms.event.countdown.pause",`Event - Countdown - ${e}s countdown paused`,{milliseconds:o,timer:r,seconds:e,onComplete:t}))},step:()=>{const e=Math.max(0,o-(Date.now()-n));return 0===e&&void 0!==r&&(clearInterval(r),a.resume=()=>{},i=!1,t&&t()),e}};return J("tms.event.countdown",`Event - Countdown - Defined a ${e}s countdown`,{seconds:e,onComplete:t}),a},it=e=>{Se((()=>window.PubSub.unsubscribe(e)))};var at={pageLoaded:Ie,onPageLoaded:Me,onPageLoading:Te,onPageProcessing:Ne,onPageRequestFinished:$e,onPageRequestFailed:Le,onPageDataRefreshed:Re,onPageRenderMounted:je,onUserJourneyRefreshed:He,onAudioPlayerReady:Ue,onAudioPlayerAction:Be,onAudioPlayerStateChanged:qe,onAudioPlayerPlaylistChanged:Ve,onVideoPlayerStateChanged:Fe,onAdRendered:Ke,onAdSeen:Ye,onBeforeAdsFilled:Je,onAfterAdsFilled:We,onConsentAvailable:ze,onConsentChanged:Ge,onCmpReady:Qe,removeEventListener:it,bind:he,unbind:_e,debounceHandler:ye,onDomReady:Ae,onPubSubReady:Se,pubSubSubscribe:xe,pubSubPublish:Ee,waitForOnline:et,onOnline:tt,onOffline:nt,onScroll:rt,countdown:ot};let st;const ct=()=>{void 0!==st?(c(st.getData()),L(),J("tms.data.updateData",`Data - Data from provider ${st.getName()} received and refreshed`)):J("error.tms.data.updateData","Data - Invalid data provider")},ut=e=>{void 0!==e?(st=e,ct()):J("error.tms.data.init","Data - Invalid data provider")};Me((()=>{ct(),Ee("pageDataRefreshed",l)}));var lt={list:l,...u,defaultValues:M(L),readVariable:R,refresh:L},dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ft(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pt={exports:{}};pt.exports,function(e,t){!function(n,r){var o={};n.PubSub?(o=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=o,function(e){var t={},n=-1,r="*";function o(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function i(e){return function(){throw e}}function a(e,t,n){try{e(t,n)}catch(e){setTimeout(i(e),0)}}function s(e,t,n){e(t,n)}function c(e,n,r,o){var i,c=t[n],u=o?s:a;if(Object.prototype.hasOwnProperty.call(t,n))for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&u(c[i],e,r)}function u(e,t,n){return function(){var o=String(e),i=o.lastIndexOf(".");for(c(e,e,t,n);-1!==i;)i=(o=o.substr(0,i)).lastIndexOf("."),c(e,o,t,n);c(e,r,t,n)}}function l(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&o(t[n]))}function d(e){for(var t=String(e),n=l(t)||l(r),o=t.lastIndexOf(".");!n&&-1!==o;)o=(t=t.substr(0,o)).lastIndexOf("."),n=l(t);return n}function f(e,t,n,r){var o=u(e="symbol"==typeof e?e.toString():e,t,r);return!!d(e)&&(!0===n?o():setTimeout(o,0),!0)}e.publish=function(t,n){return f(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return f(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var o="uid_"+String(++n);return t[e][o]=r,o},e.subscribeAll=function(t){return e.subscribe(r,t)},e.subscribeOnce=function(t,n){var r=e.subscribe(t,(function(){e.unsubscribe(r),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,r,o=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(r in t[n])o++;break}return o},e.getSubscriptions=function(e){var n,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,o,i,a=function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1},s="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||a(n)),c=!s&&"string"==typeof n,u="function"==typeof n,l=!1;if(!s){for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(o=t[r],c&&o[n]){delete o[n],l=n;break}if(u)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&o[i]===n&&(delete o[i],l=!0)}return l}e.clearSubscriptions(n)}}(o)),void 0!==e&&e.exports&&(t=e.exports=o),t.PubSub=o,e.exports=t=o}("object"==typeof window&&window||dt)}(pt,pt.exports);var vt=pt.exports,gt=ft(vt);class mt{getData(){throw new Error("Not implemented!")}getName(){throw new Error("Not implemented!")}}window.PubSub=gt,J("window.PubSub","PubSub - SDK loaded"),J("tms.data.provider","Data - Provider - Loading FMM-CORPO data strategy");const ht=(e="")=>{const t=[];return""!==e&&e.split(",").forEach((e=>t.push({name:e.trim(),name_clean:e.trim(),name_slug:w(e.trim())}))),t};class _t extends mt{getData(){try{const e=window.location,t=new Date(ge("property","article:published_time")||Date.now()),n=""===e.pathname.replace(/^\/([a-z]{2}\/)?/,"");return{authors:"France Médias Monde",content_title:n?"homepage":ge("property","og:title")||void 0,content_type:n?"homepage":"service",page_name:n?"homepage":e.pathname.slice(1).replace(/^[a-z]{2}\//,"").replace(/(\.html)?(\/+)?$/,"").replace(/\/+/,"_"),publication_date:t.getFullYear()+S(t.getMonth()+1)+S(t.getDate()),publication_time:`${S(t.getHours())}:${S(t.getMinutes())}`,cat1:void 0,cat2:void 0,cat3:void 0,http_code:200,site_brand:"fmm",site_context:"interne",site_env:e.hostname.includes("localhost")?"ppr":void 0,tags:ht(ge("name","news_keywords")||ge("name","keywords")||"")}}catch(e){return J("error.tms.data.provider","Data - Provider - Error while loading GRAPHICS data strategy",e),{}}}getName(){return"FMM-CORPO"}}var yt=new _t;const bt="essential";window.pdl=window.pdl||{},window.pdl.requireConsent=!0,window.pdl.consent={defaultPreset:{PA:bt}},window.pdl.consent_items={PA:{properties:{},events:{}}};const wt=["langue","marque","code_http_erreur","perimetre_de_diffusion","site_version","tms_version","type_representation","site_level2","site_level2_id","url","ajax","type_article","titre_du_contenu","type_de_contenu","id_contenu","d:date_de_publication","supertag","id_supertag","emission","id_emission","emission_type","tags_array","tags_thema","ids_tags_thema","tags_auteurs","ids_tags_auteurs","niveau_langue","bc_advertiser","bc_advertiser_id"];for(let e=0,t=wt.length;e<t;e+=1)window.pdl.consent_items.PA.properties[wt[e]]=bt;var Ct={exports:{}};Ct.exports,function(e,t){!function(e){var t={site:"",collectDomain:"",path:"event",visitorStorageMode:"fixed",storageLifetimeVisitor:395,storageLifetimeUser:395,storageLifetimePrivacy:395,privacyDefaultMode:"optin",sendEventWhenOptout:!0,isVisitorClientSide:!0,enableCallbacks:!0,cookieDomain:"",cookieSecure:!0,cookiePath:"/",cookieSameSite:"lax",encodeStorageBase64:!1,addEventURL:"withoutQS",clickAutoManagement:!0,enableUTMTracking:!0,campaignPrefix:["at_"],storageVisitor:"pa_vid",storageUser:"pa_user",version:"6.13.0",minHeartbeat:5,minBufferingHeartbeat:1,queueVarName:"_paq",globalVarName:"pa",enableAutomaticPageRefresh:!0,allowHighEntropyClientHints:!0,sendEmptyProperties:!0,enableExtendedOptout:!1,privacy:{storageKey:"pa_privacy",legacyKeys:{pa_vid:!0,pa_privacy:!0,atuserid:!0},storageKeys:{pa_user:!0},modes:{optin:{name:"optin",properties:{include:{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{"*":!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},optout:{name:"optout",visitorId:"OPT-OUT",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"optout"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},"no-consent":{name:"no-consent",visitorId:"no-consent",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-consent"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},"no-storage":{name:"no-storage",visitorId:"no-storage",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-storage"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},exempt:{name:"exempt",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},allowed:{"*":{app_crash:!0,app_crash_class:!0,app_crash_screen:!0,app_version:!0,browser:!0,browser_cookie_acceptance:!0,browser_group:!0,browser_version:!0,click:!0,click_chapter1:!0,click_chapter2:!0,click_chapter3:!0,click_full_name:!0,connection_monitor:!0,connection_organisation:!0,cookie_creation_date:!0,date:!0,date_day:!0,date_daynumber:!0,date_month:!0,date_monthnumber:!0,date_week:!0,date_year:!0,date_yearofweek:!0,device_brand:!0,device_display_height:!0,device_display_width:!0,device_name:!0,device_name_tech:!0,device_screen_diagonal:!0,device_screen_height:!0,device_screen_width:!0,device_type:!0,event_collection_platform:!0,event_collection_version:!0,event_hour:!0,event_id:!0,event_minute:!0,event_position:!0,event_second:!0,event_time:!0,event_time_utc:!0,event_url:!0,event_url_domain:!0,event_url_full:!0,exclusion_cause:!0,exclusion_type:!0,geo_city:!0,geo_continent:!0,geo_country:!0,geo_metro:!0,geo_region:!0,goal_type:!0,hit_time_utc:!0,os:!0,os_group:!0,os_version:!0,os_version_name:!0,page:!0,page_chapter1:!0,page_chapter2:!0,page_chapter3:!0,page_duration:!0,page_full_name:!0,page_position:!0,page_title_html:!0,page_url:!0,pageview_id:!0,previous_url:!0,privacy_status:!0,site:!0,site_env:!0,site_id:!0,site_platform:!0,src:!0,src_detail:!0,src_direct_access:!0,src_organic:!0,src_organic_detail:!0,src_portal_domain:!0,src_portal_site:!0,src_portal_site_id:!0,src_portal_url:!0,src_referrer_site_domain:!0,src_referrer_site_url:!0,src_referrer_url:!0,src_se:!0,src_se_category:!0,src_se_country:!0,src_type:!0,src_url:!0,src_url_domain:!0,src_webmail:!0}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0,atuserid:!0},forbidden:{}},events:{allowed:{"click.exit":!0,"click.navigation":!0,"click.download":!0,"click.action":!0,"page.display":!0},forbidden:{}}},"*":{properties:{allowed:{"*":{connection_type:!0,device_timestamp_utc:!0,visitor_privacy_consent:!0,visitor_privacy_mode:!0,"ch_ua*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{}},events:{allowed:{},forbidden:{}}}}}};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n,o,i,a,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return o=!(n=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){o=!0,i=e},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw i}}};if(Array.isArray(e)||(s=function(e,t){var n;if(e)return"string"==typeof e?r(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=function e(t,r){if("object"!==n(t)||null===t||t instanceof Date)return t;var o,i=new t.constructor;for(o in t)!Object.prototype.hasOwnProperty.call(t,o)||void 0===o||r&&void 0===t[o]||(i[o]=e(t[o]));return i},s={post:function(e,t){var n=!1;!(n=window.navigator&&"function"==typeof window.navigator.sendBeacon?window.navigator.sendBeacon(e,t):n)&&window.fetch&&window.fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u={encodeURIComponent:window.encodeURIComponent,utf8:{encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):t=127<r&&r<2048?(t+=String.fromCharCode(r>>6|192))+String.fromCharCode(63&r|128):(t=(t+=String.fromCharCode(r>>12|224))+String.fromCharCode(r>>6&63|128))+String.fromCharCode(63&r|128)}return t},decode:function(e){var t,n,r,o="",i=0;for(t=0;i<e.length;)(r=e.charCodeAt(i))<128?(o+=String.fromCharCode(r),i++):191<r&&r<224?(t=e.charCodeAt(i+1),o+=String.fromCharCode((31&r)<<6|63&t),i+=2):(t=e.charCodeAt(i+1),n=e.charCodeAt(i+2),o+=String.fromCharCode((15&r)<<12|(63&t)<<6|63&n),i+=3);return o}},base64:{encode:function(e){var t,n,r,o,i,a,s="",l=0;for(e=u.utf8.encode(e);l<e.length;)r=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(t=e.charCodeAt(l++))>>4,i=(15&t)<<2|(n=e.charCodeAt(l++))>>6,a=63&n,isNaN(t)?i=a=64:isNaN(n)&&(a=64),s=s+c.charAt(r)+c.charAt(o)+c.charAt(i)+c.charAt(a);return s},decode:function(e){var t,n,r,o,i,a,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)r=c.indexOf(e.charAt(l++)),t=(15&(o=c.indexOf(e.charAt(l++))))<<4|(i=c.indexOf(e.charAt(l++)))>>2,n=(3&i)<<6|(a=c.indexOf(e.charAt(l++))),s+=String.fromCharCode(r<<2|o>>4),64!=i&&(s+=String.fromCharCode(t)),64!=a&&(s+=String.fromCharCode(n));return u.utf8.decode(s)}}},l=(i=window.crypto||window.msCrypto,{v4:function(){try{if(null!==i&&"object"===n(i))return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^i.getRandomValues(new Uint32Array(1))[0]&15>>e/4).toString(16)}))}catch(e){console.error(e)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}});function d(e){var t=e;function n(e,n){null!==n&&""!==n&&void 0!==n&&(t[e]=n)}return{setConfiguration:n,setConfigurations:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n(t,e[t])},getConfiguration:function(e){return void 0!==t[e]?a(t[e]):null},cloneData:function(){return a(t)},deleteProperty:function(e){delete t[e]}}}function f(e){var t=[];return{push:function(n){t.push(n),1===t.length&&e[n[0]].apply(e,n.slice(1))},next:function(){var n;t.shift(),0<t.length&&e[(n=t[0])[0]].apply(e,n.slice(1))}}}function p(e,t,n){this.properties=a(e._properties),this.setProperty=function(t,n,r){e._privacy.call("isPropAllowed",t)&&(this.properties[t]={value:n,options:r||{}})},this.hasProperty=function(e){return Object.prototype.hasOwnProperty.call(this.properties,e)},this.getConfiguration=n.getConfiguration,this.setConfiguration=n.setConfiguration,this.options=t.options||{},this.visitorId=null,this.build={url:"",data:{}},this.events=t.events||[]}function v(e,t,n,r){!1!==r&&0<n.length&&"function"==typeof n[0]?n[0](e,t,n.slice(1)):e._queue.next()}function g(e,t,n){var r=(o=t.getConfiguration("collectDomain")).startsWith("https://")||o.startsWith("http://")?"":"https://",o=(r="".concat(r).concat(o,"/").concat(t.getConfiguration("path")),"?s=".concat(t.getConfiguration("site")).concat(t.visitorId?"&idclient="+t.visitorId:""));t.build.url=r+o,t.build.data={events:t.events},v(e,t,n)}function m(e,t,n,r,o){var i,a=function(e,t,n){for(var r={},o=new RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),i=o.exec(t);null!==i;)0===i[1].indexOf(e)&&(r[n+i[1].substring(e.length)]=window.decodeURIComponent(i[2])),i=o.exec(t);return r}(r,n,o),s=!1;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&!t.properties[i]&&t.setProperty(i,a[i],{persistent:!0}),s=!0;return s}function h(e,t,n){var r,i=document.location.href,a=o(t.getConfiguration("campaignPrefix"));try{for(a.s();!(r=a.n()).done&&!m(0,t,i,r.value,"src_"););}catch(e){a.e(e)}finally{a.f()}t.getConfiguration("enableUTMTracking")&&m(0,t,i,"utm_","utm_"),v(e,t,n)}function _(e){return 0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),w(e)}var y,b=function(e){function t(e){e&&r.setDate(r.getDate()+e)}var n,r=new Date;return e instanceof Date?r=e:"number"==typeof e?t(e):(n=e.days,e=e.minutes,t(n),e&&r.setMinutes(r.getMinutes()+e)),r},w=function(e){e=e.replace(/\+/g," ").replace(/^\s+|\s+$/g,"");try{return decodeURIComponent(e)}catch(t){return e}},C=(y="_cookie_test",{set:P,get:O,getNames:function(){var e=[];return A((function(t){e.push(t)})),e},remove:S,getTopLevelDomain:function(e){void 0===e&&(e=[]);var t=window.location.hostname.split("."),n=(new Date).getTime().toString(36)+Math.round(2147483647*Math.random()).toString(36),r=new Date;r.setSeconds(r.getSeconds()+30);for(var o=0;o<t.length;o++)try{var i=t.slice(-(o+1)).join(".");if(!e.includes(i)){P(y,n,{expires:r,path:"/",domain:i});var a=O(y)===n;if(S(y,{path:"/",domain:i}),a)return i}}catch(e){}},__private__:{_generateCookieString:k}});function k(e,t,n){var r=(n=void 0===n?{}:n).path,o=n.domain,i=n.expires,a=n.secure,s=n.samesite;return((n=n.raw)?e:encodeURIComponent(e))+"="+(n?t:encodeURIComponent(t))+(i?"; expires=".concat(b(i).toUTCString()):"")+(r?"; path=".concat(r):"")+(o?"; domain=".concat(o):"")+(a?"; secure":"")+(s?"boolean"==typeof s?"; sameSite":"; sameSite=".concat(s):"")}function P(e,t,n,r){void 0===t||void 0!==r&&encodeURI(t).split(/%(?:u[\dA-F]{2})?[\dA-F]{2}|./).length-1>r||(document.cookie=k(e,t,n))}function A(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e(w(r[0]),r[1]||""))return}}function O(e){var t=null,n={};return A((function(r,o){if(e)return r===e&&(t=_(o),1);n[r]=_(o)})),e?t:n}function S(e,t){P(e,"",Object.assign({},t,{expires:-1}))}x="_ls_ttl",E=function(){try{var e=window.localStorage.getItem(x);return e?JSON.parse(e):null}catch(e){return null}},D=function(e){try{Object.keys(e).length?window.localStorage.setItem(x,JSON.stringify(e)):window.localStorage.removeItem(x)}catch(e){}},M();var x,E,D,I={get:function(e){var t;M();try{return null!=(t=window.localStorage.getItem(e))?t:null}catch(e){return null}},set:function(e,t,n){if(r=e,n=(n=void 0===n?{}:n).expires,o=E(),void 0===n?(null!=o&&o[r]&&(delete o[r],D(o)),1):(n=b(n).getTime())>Date.now()&&((o=o||{})[r]=n.toString(36),D(o),1))try{window.localStorage.setItem(e,t)}catch(e){}var r,o},getNames:T,remove:function(e){try{window.localStorage.removeItem(e)}catch(e){}M()},expires:M,__protected__:{get ttlName(){return x}}};function M(){var e=T(),t=E(),n={};t&&(Object.keys(t).forEach((function(r){if(e.includes(r)){var o=t[r]?parseInt(t[r],36):null;if(!(o=o)||o>Date.now())n[r]=t[r];else try{window.localStorage.removeItem(r)}catch(r){}}})),JSON.stringify(t)!==JSON.stringify(n))&&D(n)}function T(){try{return Object.keys(window.localStorage)}catch(e){return[]}}function N(e,t){return{cookieName:t=void 0===t?"_pctx":t,readonly:!1,init:function(t){return null!=(t=null!=t?t:e)?t:null},refresh:function(e){return e},update:function(e){return e},set:function(e){return e},get:function(e){return e}}}function L(e){return G(G({},N(e)),{cookieName:null})}function $(e){return null==e}function R(){var e={};return{add:function(t){e[t]=!0},values:function(){return X(e)}}}function j(e,t){var n,r=NaN,o=NaN;return function(i){var a=null==t?void 0:t();return i===o&&r===a||(r=a,n=e(o=i)),n}}function H(e){var t;return function(n){var r=e();r!==t&&n(t=r)}}function U(e){return oe(e,(function(e){return"CX"!==(null==e?void 0:e.type)}))}function B(e,t){return t({protect:!0}),re()}function q(e,t,n){var r=ye().reduce((function(r,o){return r[o=o.id]=n(null==e?void 0:e[o],null==t?void 0:t[o],o),r}),{});return le(r,t)?t:r}function V(e,t){return q(e,t,(function(e,t,n){return e||t||$e()[n]}))}function F(){return pe().consent_modifiers||null}function K(){return!!pe().requireConsent}function Y(e,t,n){return"".concat(e.join(", ")," ").concat(1<e.length?n:t)}var J,W,z={get:function(e){try{return window.sessionStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}},getNames:function(){try{return Object.keys(window.sessionStorage)}catch(e){return[]}},remove:function(e){try{window.sessionStorage.removeItem(e)}catch(e){}}},G=function(){return(G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Q=N("anon"),X=function(e){return e?Object.keys(e):[]},Z=function(e){return Array.isArray(e)},ee=function(e){return!$(e)},te=function(e){return"object"===n(e)},ne=function(e){return"string"==typeof e},re=function(){for(var e=(new Date).getTime().toString(36);e.length<16;)e+=Math.round(2147483647*Math.random()).toString(36);return e.substr(0,16)},oe=function(e,t){return e&&X(e).filter((function(n){return t(e[n])})).reduce((function(t,n){return G(G({},t),((t={})[n]=e[n],t))}),{})},ie=function(e,t){return te(e)?X(e).reduce((function(n,r){var o,i=e[r];return void 0!==(o=(o=t[r])&&o(i))&&(n[r]=o),n}),{}):e},ae=function(e){return"true"===e||!0===e},se=function e(t,n){try{return t()}catch(t){return n?e(n):null}},ce=function(e,t){return void 0===t&&(t=!1),se((function(){return JSON.parse(e)}),(function(){return t?JSON.parse(window.atob(e)):null}))||null},ue=function(e,t){void 0===t&&(t=!1);var n=JSON.stringify(e);return se((function(){return t?window.btoa(n):n}))||n},le=function(e,t){var n,r;return e===t||(e&&t?(n=X(e),r=X(t),n.length===r.length&&!n.some((function(n){return e[n]!==t[n]}))):null)},de=G(G({},N(null)),{init:function(e){return U(e||null)},refresh:U,set:function(e,t){return null===e?null:oe(G(G({},t),e),(function(e){return null!==e}))}}),fe="pdl",pe=function(){return window[fe]||{}},ve=G(G({},L()),{init:function(e,t){return t({protect:!0}),pe().pageViewId||re()},refresh:B,update:B,set:function(e,t,n){return n({protect:!0}),e}}),ge=G(G({},N(null,"_pcid")),{init:function(e,t){return t({protect:!0}),e||re()},update:function(e,t){return t({protect:!0}),re()},set:function(e,t,n){return n({protect:!0}),e}}),me=["PA","DMP","COMPOSER","ID","VX","ESP","SOCIAL_FLOW","DL"].map((function(e,t){return{name:e,id:t}})),he=me.reduce((function(e,t,n){return t=t.name,G(G({},e),((e={})[t]=n,e[t.toLowerCase()]=n,e))}),{}),_e=(he["social flow"]=he.SOCIAL_FLOW,he["Social Flow"]=he.SOCIAL_FLOW,H((function(){var e;return null==(e=pt(pe().consent))?void 0:e.products}))),ye=(J=me,function(){return _e((function(e){J=e?me.filter((function(t){return e.includes(t.name)||"DL"===t.name})):me})),J}),be=function(e){var t=Number(e);return Number.isNaN(t)?null!=(e=he[e.toLowerCase()])?e:null:t<me.length?t:null},we=function(e,t){return X(e).reduce((function(n,r){var o=me[Number(r)].name;return r=e[r],n[o]=t?t(r,o):r,n}),{})},Ce="opt-in",ke="essential",Pe="opt-out",Ae="custom",Oe=[Ce,ke,Pe],Se=Oe.concat(Ae),xe=Se.reduce((function(e,t,n){return G(G({},e),((e={})[n]=t,e))}),{}),Ee=[Ce,Ae,ke,Pe],De=function(e,t){return e=Ee.indexOf(e),t=Ee.indexOf(t),Ee[Math.max(e,t)]},Ie=function(e){return Se.includes(e)},Me=function(e){return Oe.includes(e)},Te={AD:["DMP","SOCIAL_FLOW"],CP:["COMPOSER"],AM:["PA"],PR:["ESP","VX","ID"],DL:["DL"]},Ne=X(Te).reduce((function(e,t){return Te[t].forEach((function(n){n=he[n],e[n]=t})),e}),{}),Le=H((function(){var e;return null==(e=pt(pe().consent))?void 0:e.defaultPurposes})),$e=(W=G({},Ne),function(){return Le((function(e){W=G({},Ne),e&&X(e).forEach((function(t){var n=he[t];W[n]=null==(n=e[t])?void 0:n.substring(0,32)}))})),W}),Re=G(G({},N(null,"_pprv")),{init:function(e){return je()?V(e||null,null):null},set:function(e,t){return je()?null==e?t:V(X(n=e).reduce((function(e,t){var r=be(t);return t=Ve(n[t]),null!==r&&t!==Ue&&r!==he.DL&&t&&(e[r]=t),e}),{}),t):null;var n}}),je=function(){return"v2"===pe().requireConsent},He=function(e,t){return e===Ae&&!(null!=(e=F())&&e[t])},Ue="DL",Be=["AD","AM","CP","PR",Ue].reduce((function(e,t){return G(G({},e),((e={})[t]=t,e[t.toLowerCase()]=t,e))}),{}),qe=function(e){return Be[(null==e?void 0:e.toLowerCase())||""]||null},Ve=function(e){return qe(e)||(null==e?void 0:e.substring(0,32))},Fe="Consent v2 is disabled",Ke='the "DL" purpose is reserved',Ye=function(e){return'"'.concat(e,'" can not be applied for the dl product')},Je=function(e){return"".concat(e," is unknown consent mode")},We=function(e){return Y(e,"does","do")+"n't have modifier in the pdl. Custom mode can't be applied"},ze="Unknown purpose. Provide a product or define within pdl config",Ge=function(e){return"Custom purpose: "+Y(e,"is","are")+" unknown"};function Qe(e,t,n,r,o){function i(t,n){return n=Ve(n),Be[n]||Object.values(e||{}).includes(n)?f(t,n):d(ze)}var a,s,c,u,l,d=function(e){return{error:e}},f=function(t,n,r){var o,i=[];return Ie(t)?(o=ye().reduce((function(o,a){var s=a.id;return a=a.name,(!n||(null==e?void 0:e[s])===n||null!=r&&r.includes(s))&&(He(t,a)?i.push(a):o[s]={mode:t}),o}),{}),i.length?d(We(i)):Object.keys(o).length?{consent:o}:null):d(Je(t))};return je()?o?(a=r,o=o,u=Ve(s=n),(l=(o=Z(o)?o:[o]).map(be).filter(ee)).length?u!==Ue&&l.includes(he.DL)?{error:Ye(u)}:u===Ue&&l.some((function(e){return e!==he.DL}))?d(Ke):null!=(c=f(a,u,l))&&c.error?c:(l=l.reduce((function(e,t){return e[t]=u,e}),{}),{consent:(null==c?void 0:c.consent)||null,purposes:l}):qe(s)?i(a,s):d(Ge(o))):r?i(r,n):f(n):d(Fe)}function Xe(e,t){return function(n){return t(e+n)}}function Ze(e,t){void 0===t&&(t=lt);var n=he[e.toLowerCase()];return void 0!==n?me[n].name:(t('"'.concat(e,'" is not found')),null)}function et(e,t){var n,r;return void 0===t&&(t=lt),e?(n={},e.products&&(Z(e.products)?n.products=e.products.reduce((function(e,n){return(n=Ze(n,Xe("consent.products: ",t)))&&e.push(n),e}),[]):t("consent.products: should be an array")),e.defaultPreset&&(n.defaultPreset=X(e.defaultPreset).reduce((function(n,r){var o=Ze(r,Xe("consent.defaultPreset: ",t)),i=dt(e.defaultPreset[r]);return i||t("consent.defaultPreset: "+ut(r,Oe)),o&&i&&(n[o]=i),n}),{})),(r=e.defaultPurposes)&&(n.defaultPurposes=X(r).reduce((function(e,n){var o=Xe("consent.defaultPurposes: ",t),i=Ze(n,o),a=r[n],s=Ve(a);return s===Ue||"DL"===i?o('"'.concat(n,": ").concat(a,'" - invalid config')):i&&s&&(e[i]=s),e}),{})),n):null}function tt(e){return e.reduce((function(e,t,n){return G(G({},e),((e={})[n]={mode:xe[t]},e))}),{})}function nt(e,t){return q(e,t,(function(e,t,n){return(e=(null==e?void 0:e.mode)||(null==t?void 0:t.mode)||_t()[0].preset[n].mode)!==(null==t?void 0:t.mode)?{mode:e}:t}))}function rt(e){var t=Number(e);return Number.isNaN(t)?String(e):t}function ot(e){return Z(e)?e:e.split(",").map((function(e){return e.trim().replace(/^['"](.+)['"]$/,"$1")}))}function it(e){return e}var at,st=function(e,t){var n;return e?(n=we(t||Ne),ye().reduce((function(t,r){r=r.name;var o=n[r],i=(null==(i=e[r])?void 0:i.mode)||Ce;return t[o]?(t[o].mode=De(t[o].mode,i),t[o].products.push(r)):t[o]={mode:i,products:[r]},t}),{})):null},ct=["include","exclude","obfuscate"],ut=function(e,t){return'"'.concat(e,'" should be one of ').concat(t.join(", "))},lt=function(){},dt=function(e){return Me(e)?e:null},ft=function(e,t){void 0===t&&(t=lt);var n=e.source;return e=e.patches||[],dt(n)||(t(ut("source",Oe)),n=Ce),Z(e)||(t('"patches" should be an array'),e=[]),{source:n,patches:e=e.reduce((function(e,n,r){var o,i;return!te(n)||Z(n)?t("patch[".concat(r,"]: should be type of {action, item, with?}")):(o=n.action,i=n.item,ct.includes(o)?i&&te(i)&&i.key&&i.type?e.push(n):t("patch[".concat(r,']: "item" should be type of {key, type}')):t("patch[".concat(r,"]: ")+ut("action",ct))),e}),[])}},pt=j(et),vt=function(e,t){return void 0===t&&(t=lt),X(e||{}).reduce((function(n,r){var o=null==e?void 0:e[r],i=Ze((null==o?void 0:o.source)||"",t);return n[r]=G(G({},o),{source:i}),n}),{})},gt=[[0,0,0,0,0,0,0,0],[0,0,2,2,2,2,2,0],[1,2,2,2,2,2,2,1],[0,2,0,2,2,2,0,0],[1,2,2,2,2,2,1,1],[2,0,0,2,2,2,2,0],[2,0,2,2,2,2,2,0],[2,2,2,2,2,2,0,2],[2,2,0,0,0,0,2,0],[2,2,1,2,1,2,2,1],[2,2,1,1,2,2,2,1]],mt=gt.map((function(e,t){return{id:t,preset:tt(e)}})),ht=H((function(){var e;return null==(e=pt(pe().consent))?void 0:e.defaultPreset})),_t=(at=mt,function(){return ht((function(e){at=mt.slice(),e&&(at[0]={id:0,preset:G({},at[0].preset)},X(e).forEach((function(t){var n=e[t];t=he[t],at[0].preset[t]={mode:n}})))})),at}),yt=G(G({},N(null,"_pprv")),{init:function(e){return K()&&e?nt(e,null):null},set:function(e,t){var n,r,o;return K()?null!=e&&(n="number"==typeof e?(null==(n=_t()[e])?void 0:n.preset)||null:Z(e)?(o=null,e.forEach((function(e){var t=gt[e];!o&&t?o=t:o&&t&&(o=o.map((function(e,n){return Math.min(e,t[n])})))})),o&&tt(o)):X(r=e).reduce((function(e,t){var n=r[t];return null!==(t=be(t))&&(n=Ie(n.mode)?n.mode:null)&&((e=e||{})[t]={mode:n}),e}),null))?nt(n,t):t:null},get:j((function(e){return e&&we(e,(function(e,t){var n;return(e=G({},e)).mode===Ae&&(e.modifier=(null==(n=F())?void 0:n[t])||null),e}))}),F)}),bt=G(G({},L()),{init:_t,set:_t}),wt=G(G({},L()),{init:ye,set:ye}),Ct=G(G({},L(null)),{readonly:!0,set:function(){return null},get:F}),kt={id:it,type:it,zone:it,createdAt:rt,modifiedAt:rt,authors:ot,section:it,tags:ot,keywords:ot,title:it,description:it,isNative:ae},Pt=function(e){return"first"===e},At=function(e){return"last"===e};function Ot(e,t){return void 0===e&&(e="meta"),Pt(t)?document.querySelector(e):(e=document.querySelectorAll(e),At(t)?e[e.length-1]:Array.from(e))}function St(e){var t=e.getContent||function(e){return e.content};if(e.selector)return(o=Ot(e.selector,e.take||"first"))&&t(o)||null;var r=It.find(e.attr||["name"],e.hasContent),o=e.names||[],i=!("all"===e.take),a=At(e.take);if(r)for(var s=0,c=o;s<c.length;s++){var u=function(e){var n,o=[];if(e=r[e]){if(i)return n=e[a?e.length-1:0],{value:t(n)||""};e.forEach((function(e){o=o.concat(t(e)||"")}))}if(o.length)return{value:o}}(c[s]);if("object"===n(u))return u.value}return null}function xt(e){var t=e.replace(/DAY/g,"(0?[1-9]|[12][0-9]|3[01])").replace(/MONTHLONG/g,"("+X($t).join("|")+")").replace(/MONTH/g,"(0?[1-9]|1[012])").replace(/YEAR2/g,"([0-9][0-9])").replace(/YEAR/g,"(197[1-9]|19[8-9][0-9]|20[0-9][0-9])").replace(/TIME/g,"([0-9][0-9]):([0-9][0-9]):([0-9][0-9])(?:\\.[0-9][0-9][0-9])?([zZ]|[+-][0-9][0-9](?::?[0-9][0-9])?)?");return e=e.replace(/.*?([YMD])(EAR|ONTH|AY).*?/g,"$1").substring(0,3),[new RegExp(t),e]}function Et(e){return e&&parseInt(e,10)||0}Dt=null;var Dt,It={refresh:function(){(Dt=Ot()||null)&&setTimeout((function(){Dt=null}),0)},find:function(e,t){return void 0===t&&(t=!1),Dt?Dt.reduce((function(n,r){for(var o=0,i=e;o<i.length;o++){var a=(("name"===(a=i[o])?r.name:r.getAttribute(a))||"").trim().toLowerCase(),s=r.content;if(a&&(!t||s)){n[a]||(n[a]=[]),n[a].push(r);break}}return n}),{}):null}},Mt=function(e){for(var t=0,n=e;t<n.length;t++){var r;if(r=St(r=n[t]))return r}},Tt=function(e,t,n){var r,o=kt[t];!Boolean(e[t])&&o&&(o=(r=("function"==typeof n?n:function(){return(Z(n)?Mt:St)(n)})())&&o(r))&&(e[t]=o)},Nt=function(e){return{attr:["property"],names:[e]}},Lt=function(e){return{names:[e]}},$t={januar:"01",january:"01",jan:"01",februar:"02",february:"02",feb:"02",mars:"03",march:"03",mar:"03",april:"04",apr:"04",mai:"05",may:"05",juni:"06",june:"06",jun:"06",juli:"07",july:"07",jul:"07",august:"08",aug:"08",september:"09",sept:"09",sep:"09",oktober:"10",october:"10",okt:"10",oct:"10",november:"11",nov:"11",desember:"12",december:"12",dec:"12",des:"12"},Rt=["\\bDAY\\.MONTH\\.YEAR\\b","\\bDAY\\.?\\s{0,3}MONTHLONG\\.?\\s{1,3}YEAR\\b","\\bYEAR-MONTH-DAY(?:[tT]|\\b)","\\bMONTHLONG\\.?\\s{0,3}DAY(?:st|nd|rd|th)?,?\\s{1,3}YEAR\\b","\\bDAY(?:st|nd|rd|th|\\.)?\\s{0,3}MONTHLONG\\.?,?\\s{1,3}YEAR\\b","\\bYEAR[/年]MONTH[/月]DAY(?=\\b|日)","\\bDAY\\.MONTH\\.YEAR2\\b","\\bDAY/MONTH/YEAR\\b"].map(xt),jt=xt("YEAR-MONTH-DAY[tT]TIME")[0];function Ht(e,t,n,r,o,i,a){return e=new Date(Date.UTC(Et(e),Et(t)-1,Et(n),Et(r),Et(o),Et(i))),(t=(a||"").match(/^([+-][0-9][0-9])(?::?([0-9][0-9])?)$/))&&(e=new Date(e.getTime()-36e5*Number(t[1])-6e4*(Number(t[2])||0))),0<(n=Date.now()-e.getTime())||-n<1728e5?e.toISOString():null}var Ut=function(e){return e.replace(/<\/?[^>?]*\/?>/g," ").replace(/\s+/g," ").trim()};function Bt(e){return Ut((e=void 0===e?"":e).replace(/,(?=\s*(jr|sr)(\.?)\b)/g," "))}function qt(e){return G(G({},e),{take:"last"})}function Vt(e){return G(G({},e),{take:"last",hasContent:!0,getContent:function(e){return Ut(e.content||"")}})}function Ft(e){Tt(e,"createdAt",(function(){if(!(e=Mt(Qt)))return null;var e,t=e.toLowerCase();if(e=(t=t.toLowerCase()).match(jt))return Ht(e[1],e[2],e[3],e[4],e[5],e[6],e[7]);for(var n=0,r=Rt;n<r.length;n++){var o=r[n],i=t.match(o[0]);if(i)return Ht(2===(i="DMY"===o[1]?["",i[3],i[2],i[1]]:"MDY"===o[1]?["",i[3],i[1],i[2]]:i)[1].length?(Et(i[1])<60?"20":"19")+i[1]:i[1],i[2].length<=2?i[2]:$t[i[2]],i[3])}})),Tt(e,"modifiedAt",Xt),Tt(e,"authors",Zt),Tt(e,"keywords",(function(){var e=Mt(en);return e&&e.length<=1024?e:null})),Tt(e,"title",nn),Tt(e,"description",tn)}function Kt(){var e,t=Array.from(document.querySelectorAll("meta[property^=content]")).reduce((function(e,t){var n=null==(n=null==t?void 0:t.getAttribute("property"))?void 0:n.split(":").pop(),r=kt[n];return r&&t&&(e[n]=r((null==t?void 0:t.getAttribute("content"))||"")),e}),{});return It.refresh(),Tt(e=t,"type",Nt("og:type")),Tt(e,"section",Lt("section")),Tt(e,"id",Lt("id")),Tt(e,"authors",Lt("author")),Ft(t),t}function Yt(e){return e.getTime().toString(36)}function Jt(e){return e?se((function(){return new Date(parseInt(e,36))})):null}function Wt(e,t,n){return void 0===n&&(n=!1),{cookieName:e,consent:t=void 0===t?un:t,encode:function(e){return ue(e,n)},decode:function(e){return ce(e,!0)}}}function zt(e){function t(e){return G(G({},f),oe(e||{},ee))}function n(e,t){var n=e&&t;!v()&&n&&g(),v()&&!n&&m(),v()&&n&&!u&&g(),a=e,l=t}var r=e.cookieName,o=e.consent,i=C.get(r),a=!!i,s=a,c=sn(i,e),u=!!c.fixedAt,l=a,d=null,f=G({},an),p=null,v=function(){return a&&l},g=function(e){e=t(e);var n,o=d||(p?c.encode(p,e):"");o||(n=C.get(r),o=(n=c.decode(n||""))?c.encode(n,e):""),o&&(u=!0,C.set(r,o,c.bindOptions(e)),s=!0)},m=function(e){v()&&(s&&C.remove(r,t(e)),s=!1)};return c.onChange((function(){v()&&(u=!1,g())})),{get cookieName(){return r},get cookieEnabled(){return v()},get fixedAt(){return c.fixedAt},get consent(){return o},set:function(e,t){p=e,v()&&g(t)},get:function(){return c.decode(C.get(r)||"")},remove:m,setCookieOptions:function(e){f=t(e),v()&&g()},setCookieEnabled:function(e,t){void 0===t&&(t=null),d=e?t:null,n(e,l)},lazyActive:function(){n(a,!0)},setFixedMode:function(e){c.setMode(e)}}}var Gt,Qt=[qt({attr:["name","property","itemprop"],names:["cxenseparse:publishtime","cxenseparse:recs:publishtime","article:published_time","date","dc.date","dc.date.created","dc.terms.issued","pub_date","article.published","datepublished","og:article:published_time"]}),qt({selector:"time.published[datetime],time[pubdate][datetime]",getContent:function(e){return e.getAttribute("datetime")}}),qt({selector:"time[datetime]",getContent:function(e){return e.getAttribute("datetime")}})],Xt={selector:'meta[property="article:modified_time"]'},Zt=[{attr:["property","name"],names:["cxenseparse:author","og:article:author","article:author","og:book:author","book:author","author","dc.creator","article.author"],take:"all",getContent:function(e){var t=e.getAttribute("data-separator");return e=e.content,t?Bt(e).split(t):Bt((t=void 0===(t=e)?"":t).replace(/\n+/,";").replace(/(\<|&lt;)br(\>|&gt;)/,";").replace(/\b(and|und|og)\b/g,";")).split(/[,;]/)}}],en=[Vt({names:["cxenseparse:keywords"]}),Vt({attr:["property","name"],names:["news_keywords"]}),Vt({names:["keywords"]})],tn=[Vt({names:["cxenseparse:description"]}),Vt({attr:["property"],names:["og:description"]}),Vt({names:["description"]})],nn=[{names:["cxenseparse:title"]},qt({attr:["property","name"],names:["og:title"]})],rn=G(G({},L(null)),{init:Kt,refresh:function(e){var t=Kt();return null!=e&&e._fixed_&&null!=e&&e._fixed_.forEach((function(e){delete t[e]})),G(G({},e),t)},set:function(e,t){var n,r;return null===e?{}:(n=new Set(t&&t._fixed_),(r=function(t,n){X(oe(e,t)).forEach(n)})(ee,(function(e){n.add(e)})),r($,(function(e){n.delete(e)})),oe(G(G(G({},t),e),{_fixed_:Array.from(n.values())}),ee))},get:j((function(e){var t=G({},e);return delete t._fixed_,e&&t}))}),on=G(G({},N(null,"_pcus")),{init:function(e){return(e=void 0===e?null:e)&&oe(e,(function(e){return te(e)&&Array.isArray(e.segments)}))}}),an=(ve={pageViewId:ve,browserId:ge,users:de,userStatus:Q,siteId:N(),consent:yt,consentPresets:bt,products:wt,consentModifiers:Ct,purposes:Re,content:rn,userSegments:on},{path:"/",expires:395,samesite:"lax",secure:"https:"===window.location.protocol,domain:C.getTopLevelDomain(["pantheon.io","go-vip.net","go-vip.co"])}),sn=function(e,t){function n(e){return a=a||function(e){var t=new Date;if(e instanceof Date)t=e;else{if("number"!=typeof e)return null;t.setDate(t.getDate()+e)}return t}(e.expires)}var r=t.encode,o=t.decode,i=!1,a=null,s=null,c=null;return(t=null==(t=o(e||""))?void 0:t._t)&&(t=t.split("|"),a=Jt(t[0]),s=Jt(t[1]),i=!!a),{get fixedAt(){return i?[s,a]:null},onChange:function(e){c=e},setMode:function(e){var t=i;(i=e)!==t&&(s=a=null)!=c&&c(i)},bindOptions:function(e){return i&&(a=n(e))?G(G({},e),{expires:a}):e},decode:function(e){return null!=(e=o(e))&&e._t&&delete e._t,e},encode:function(e,t){return i?(a=n(t))&&(e._t=Yt(a)+"|"+Yt(s=s||new Date)):delete e._t,r(e)}}},cn="essential",un="optional",ln="mandatory",dn=String.fromCharCode,fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",pn={};function vn(){function e(e,t,n){void 0===n&&(n=!1);var r=[];return X(t).forEach((function(o){var a=t[o],s=!i.has(o)||i.get(o)===e||n;a&&s?i.set(o,e):!a&&s?i.delete(o):r.push(o)})),0<r.length?r:null}var t=Kn(),n={},r=null,o=new Map,i=new Map,a=[];return function(s,c){var u=re();return o.set(u,s),c&&t.register(c),n=G(G({},t.get()),n),{getInitCookieData:function(){return n},getCachedData:function(){return r||Wn},setProtectionData:function(t){return e(u,t)},setProtectionDataUnsafe:function(t){return e(u,t,!0)},updateData:function(e){return s={},c={},X(o=e).forEach((function(e){i.has(e)?s[e]=(null==r?void 0:r[e])||null:c[e]=o[e]})),e=r||n,u=G(G({},r),c),le(u,e)||(t.set(u,e),r=u,a.forEach((function(e){return(0,e[1])(c)}))),0<X(s).length?s:null;var o,s,c,u},onUpdateData:function(e){a.push([u,e])},terminate:function(){var e;e=u,a=a.filter((function(t){return t[0]!==e})),o.delete(u)},setCookieOptions:function(){return null},setCookieEnabled:function(){return null},get registeredCookiesWrapper(){return t.wrappers}}}}function gn(e){return X(e).filter(Gn).map((function(t){return Qn(t,e[t])}))}function mn(e,t){switch(e){case Ce:return!0;case ke:return t===cn||t===ln;case Pe:return t===ln;default:return!0}}function hn(e){function t(e){return se((function(){return window.localStorage.getItem(e)}))}var n=t(e),r=se((function(){return parseInt(ce(t("_ls_ttl"))[e],36)}));return r&&r<=Date.now()?null:n}function _n(e){var t=e&&e.length;return 16===t||36===t?e:null}function yn(e){var t,n=G(G({},nr),vt(null==(t=pe())?void 0:t.migration));X(n).forEach((function(t){var r=e.params.get(t),o=n[t]===nr[t],i=(i=null==(i=n[t])?void 0:i.source)&&(null==(i=tr[i])?void 0:i[t])||[];r&&i.length&&(i=er(i))&&(r.readonly=!1,e.updateValues(t,i,!0),r.readonly=!o)}))}function bn(){function e(e){return ie(e,{path:String,domain:String,secure:ae,expires:function(e){return e instanceof Date?e:Number(e)},samesite:function(e){return ne(e)?e:ae(e)}})}var t=G({},window[fe]);return null!=t&&t.cookies&&(t.cookies=X(t.cookies).reduce((function(n,r){return n[r]=e(t.cookies[r]),n}),{})),null!=t&&t.cookieDefault&&(t.cookieDefault=e(t.cookieDefault)),t}function wn(e){function t(t){return t||(null==(t=e.get("consent"))?void 0:t.DL)||null}function n(t,n){var r=ir(n),i=null==(n=e.getConnection())?void 0:n.registeredCookiesWrapper;i&&(n=X(i).map((function(e){return i[e].cookieName})),o(n,t).forEach((function(e){var t=e.name,n=e.allowed;e=e.data,n=n&&!r[t],i[t].setCookieEnabled(n,e||null)})))}var r=X(Fn).reduce((function(e,t){return e[t]=Fn[t].consent,e}),{}),o=Zn({items:r,type:"cookie",getConsent:t}),i=t(),a=(null==(r=e.get("consent"))?void 0:r.PA)||null;e.addChangeListener("consent",(function(e){var t=(null==e?void 0:e.DL)||null,r=(null==e?void 0:e.PA)||null;(null==i?void 0:i.mode)===(null===t?void 0:t.mode)&&(null==a?void 0:a.mode)===(null===r?void 0:r.mode)||(a=r,n(i=t,e))})),n(i,e.get("consent"))}function Cn(e){function t(t){var n,o,i=st(t,e.get("purposes"));i&&t&&(n=!1,o=X(i).reduce((function(e,o){var a=i[o].mode;return i[o].products.forEach((function(o){var i;a!==(null==(i=t[o])?void 0:i.mode)&&(He(a,o)?r[o]||(r[o]=!0,ar(o,a,1)):(e[o]={mode:a},n=!0,ar(o,a,2)))})),e}),{}),n)&&e.updateValues({consent:o})}var n=null,r={};e.addChangeListener("consent",(function(e){je()&&(n&&(clearTimeout(n),n=null),n=setTimeout((function(){t(e),n=null}),200))})),je()&&t(e.get("consent"))}(Gt=Gt||{}).URI="URI";var kn,Pn,An,On,Sn,xn,En,Dn,In,Mn,Tn,Nn,Ln,$n,Rn,jn,Hn,Un,Bn,qn={URI:{prefix:"{u}",compress:function(e){if(null==e)return"";var t=e,n=6,r=function(e){return fn.charAt(e)};if(null==t)return"";for(var o,i,a,s,c={},u={},l="",d=2,f=3,p=2,v=[],g=0,m=0,h=0;h<t.length;h+=1)if(a=t.charAt(h),Object.prototype.hasOwnProperty.call(c,a)||(c[a]=f++,u[a]=!0),s=l+a,Object.prototype.hasOwnProperty.call(c,s))l=s;else{if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(o=0;o<p;o++)g<<=1,m==n-1?(m=0,v.push(r(g)),g=0):m++;for(i=l.charCodeAt(0),o=0;o<8;o++)g=g<<1|1&i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i>>=1}else{for(i=1,o=0;o<p;o++)g=g<<1|i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i=0;for(i=l.charCodeAt(0),o=0;o<16;o++)g=g<<1|1&i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete u[l]}else for(i=c[l],o=0;o<p;o++)g=g<<1|1&i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++),c[s]=f++,l=String(a)}if(""!==l){if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(o=0;o<p;o++)g<<=1,m==n-1?(m=0,v.push(r(g)),g=0):m++;for(i=l.charCodeAt(0),o=0;o<8;o++)g=g<<1|1&i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i>>=1}else{for(i=1,o=0;o<p;o++)g=g<<1|i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i=0;for(i=l.charCodeAt(0),o=0;o<16;o++)g=g<<1|1&i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete u[l]}else for(i=c[l],o=0;o<p;o++)g=g<<1|1&i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(i=2,o=0;o<p;o++)g=g<<1|1&i,m==n-1?(m=0,v.push(r(g)),g=0):m++,i>>=1;for(;;){if(g<<=1,m==n-1){v.push(r(g));break}m++}return v.join("")},decompress:function(e){if(null==e)return"";if(""==e)return null;for(var t,n,r,o,i,a,s=(e=e.replace(/ /g,"+")).length,c=32,u=function(t){var n=fn;if(t=e.charAt(t),!pn[n]){pn[n]={};for(var r=0;r<n.length;r++)pn[n][n.charAt(r)]=r}return pn[n][t]},l=[],d=4,f=4,p=3,v="",g=[],m={val:u(0),position:c,index:1},h=0;h<3;h+=1)l[h]=h;for(n=0,o=Math.pow(2,2),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;switch(n){case 0:for(n=0,o=Math.pow(2,8),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;a=dn(n);break;case 1:for(n=0,o=Math.pow(2,16),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;a=dn(n);break;case 2:return""}for(t=l[3]=a,g.push(a);;){if(s<m.index)return"";for(n=0,o=Math.pow(2,p),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;switch(a=n){case 0:for(n=0,o=Math.pow(2,8),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;l[f++]=dn(n),a=f-1,d--;break;case 1:for(n=0,o=Math.pow(2,16),i=1;i!=o;)r=m.val&m.position,m.position>>=1,0==m.position&&(m.position=c,m.val=u(m.index++)),n|=(0<r?1:0)*i,i<<=1;l[f++]=dn(n),a=f-1,d--;break;case 2:return g.join("")}if(0==d&&(d=Math.pow(2,p),p++),l[a])v=l[a];else{if(a!==f)return null;v=t+t.charAt(0)}g.push(v),l[f++]=t+v.charAt(0),t=v,0==--d&&(d=Math.pow(2,p),p++)}}}},Vn=X(qn).reduce((function(e,t){return e[qn[t].prefix]=qn[t],e}),{}),Fn=(ge={cookieName:"_pctx",consent:ln,encode:function(e,t){return void 0===t&&(t=Gt.URI),e=JSON.stringify(e),e=qn[t].compress(e),qn[t].prefix+e},decode:function(e){return e=function(e){var t=e.slice(0,3);if(e=e.slice(3),!Vn[t])return null;if(!(t=Vn[t].decompress(e)))return null;try{return JSON.parse(t)}catch(e){return null}}(e||""),te(e)?e:null}},{_pprv:Wt("_pprv",ln,!(null!=(de=null==(de=pe().cookies)?void 0:de._pprv)&&de.jsonOnly)),_pcid:Wt("_pcid",cn),_pcus:Wt("_pcus",un,!0),_pctx:ge}),Kn=(Q=X(kn=Fn).reduce((function(e,t){return e[t]=zt(kn[t]),e}),{}),function(){var e=null,t=null;return{register:function(n){return e=G(G({},n.fields),e),t=G(G({},n.cookieByName),t)},get wrappers(){return t},get:function(){var e={};return t&&X(t).forEach((function(n){e=G(G({},e),t[n].get())})),e},set:function(n,r){void 0===r&&(r=null);var o={};X(n).forEach((function(i){var a=n[i],s=null==e?void 0:e[i];s&&(o[s]||(o[s]={wrapper:null==t?void 0:t[s],data:{},update:!1,remove:!0}),o[s].data[i]=a,o[s].remove=o[s].remove&&null===a,r&&(o[s].update||a===r[i])||(o[s].update=!0))})),X(o).forEach((function(e){var t,n=(t=o[e]).wrapper,r=t.update;(t=t.remove)&&n.remove(),r&&!t&&n.set(o[e].data)}))}}}),Yn="__pctx_connection__",Jn="uvm42pas28m",Wn={},zn=(void 0===Pn&&(Pn=!1),function(e,t){var n=vn();try{Object.defineProperty(window,Yn,{configurable:Pn,set:function(e){var t=e();t===Jn?e(n):"mrlqf5trgho"===t&&(n=vn())}})}catch(e){}return window[Yn]=function(e){return e&&(n=e),Jn},n(e,t)}),Gn=function(e){return e.includes("*")},Qn=function(e,t){return[new RegExp("^"+e.replace(/\*/g,".*")+"$"),t]},Xn=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o[0].test(e))return o[1]}return null},Zn=function(e){function t(e){return n[e]||Xn(e,r)||un}var n=Object.assign({},e.items),r=gn(n);return function(n,r){var o,i,a,s=pe().requireConsent,c=!Z(n),u=c?[n]:n;function l(){return u.map((function(e){return{name:e,allowed:!s}}))}return n=(a=r||e.getConsent())?a.mode===Ae?(o=function(e,t,n){if(!(t=t&&ft(t,n)))return null;for(var r=[],o={},i=0,a=t.patches;i<a.length;i++){var s,c=(s=a[i]).action,u=s.with;(s=s.item).type===e&&(o[s.key]=c={action:c,data:void 0===u?null:u},Gn(s.key))&&r.push(Qn(s.key,c))}return{source:t.source,getModifier:function(e){return o[e]||Xn(e,r)}}}(e.type,a.modifier,e.log))?(i=o.source,u.map((function(e){var n=o.getModifier(e),r=(r=null==n?void 0:n.action,a=null==n?void 0:n.data,"obfuscate"===r?a:null),a={name:e,allowed:null!=n&&n.action?function(e){switch(e){case"include":return!0;case"exclude":return!1;case"obfuscate":return!0}}(n.action):mn(i,t(e))};return null!==r&&(a.data=r),a}))):l():u.map((function(e){return{name:e,allowed:mn(a.mode,t(e))}})):l(),c?n[0]:n}},er=(yt=Object.freeze({__proto__:null,createCheckConsentWrapper:Zn,createMask:Qn,getByMask:Xn,isMask:Gn,itemsToMask:gn}),An={pa_vid:function(e){return _n(ce(e||"",!0)||e)},atuserid:function(e){return _n((null==(e=ce(e||"",!0))?void 0:e.val)||"")}},function(e){for(var t=0,r=e;t<r.length;t++){var o=function(e){try{var t=e.ls?hn(e.ls)||null:(n=C.get(e),An[e]&&n?An[e](n):n);if(t)return{value:t}}catch(e){}var n}(r[t]);if("object"===n(o))return o.value}return null}),tr={PA:{browserId:["pa_vid","atuserid"].concat(bt=[{ls:"_cX_P"},"cX_P"])},DMP:{browserId:bt}},nr={browserId:{source:"DMP"}},rr=(wt="@@Data-layer/")+"update_value",or=wt+"refresh_value",ir=function(e){e=e,t=1===(t=(null==(t=(n=pe()).consent)?void 0:t.products)||[]).length&&"PA"===t[0],e="opt-out"===(null==(e=null==e?void 0:e.PA)?void 0:e.mode);var t,n=!!n.requireConsent&&t&&e;return{_pprv:!pe().requireConsent,_pctx:n,_pcid:n,_pcus:n}},ar=function(e,t,n){n=1===n?"can not be":"was",console.warn('[DL]: Consent v2: the "'.concat(e,'" has a conflicted consent mode, ')+"mode ".concat(n,' changed to "').concat(t,'"'))},sr=(Sn=function(e){wn(e),yn(e),Cn(e)},Ct=Ct=Q,Dn={fields:X(xn=On=ve).reduce((function(e,t){var n=xn[t].cookieName;return null!==n&&(e[t]=n),e}),{}),cookieByName:Ct},In=zn("data-layer",Dn),Mn=!1,Tn=new Map,Nn=new Set,Ln=new Map,$n=function(){if(In)return In;throw new Error("DataLayer can't be connected")},Rn=function(e){var t=$n().registeredCookiesWrapper;t&&e(t)},jn=function(e){Rn((function(t){e.forEach((function(e){(e=t[e])&&e.lazyActive()}))}))},Hn=function(){function e(e){return X(t).reduce((function(n,r){var o=t[r];return void 0!==o[e]&&(n[r]=o[e]),n}),{})}var t={};return{add:function(e,n){t[e]=n},call:function(){var t;t=e("protect"),0<X(t).length&&$n().setProtectionData(t),t=e("protectUnsafe"),0<X(t).length&&$n().setProtectionDataUnsafe(t)}}},Un=function(e,t){return X(e).reduce((function(n,r){var o=Ln.get(r),i=e[r];return o&&(n[r]=t?t(o,i):o.get(i)),n}),{})},Bn=function(e,t,n){void 0===n&&(n=!1);var r,o=e,i=R(),a=(ne(e)&&((r={})[e]=t,o=r),Hn()),s=Hn();return o=X(o).reduce((function(e,t){var n=o[t],r=Ln.get(t),c=t;return null!=r&&r.readonly||(r&&r.cookieName&&i.add(r.cookieName),r&&n!==En[t]&&(n===or?(e[t]=r.refresh(En[t],(function(e){s.add(c,e)})),e[t]!==En[t]&&a.add(c,{protectUnsafe:!1})):e[t]=n===rr?r.update(En[t],(function(e){s.add(c,e)})):r.set(n,En[t],(function(e){s.add(c,e)})))),e}),{}),jn(i.values()),a.call(),(e=$n().updateData(o))&&n&&(t=X(e).reduce((function(e,t){return G(G({},e),((e={})[t]=!1,e))}),{}),$n().setProtectionDataUnsafe(t),$n().updateData(o)),s.call(),e&&Un(e)},{init:function(e){var t,n,r,o,i,a;void 0===e&&(e={}),Mn||(In=In||zn("data-layer",Dn),t=G(G({},e),bn()),n=t.cookieDefault,Rn((function(e){X(e).forEach((function(r){var o,i,a=e[r].cookieName,s=null==(s=t.cookies)?void 0:s[a];a="fixed"===(null==(a=t.cookies)?void 0:a.storageMode),null!=(i=(o=e[r]).setFixedMode)&&i.call(o,a),(n||s)&&e[r].setCookieOptions(G(G({},n),s))}))})),Mn=!0,X(On).forEach((function(e){var t=On[e];Tn.set(e,new Set),Ln.set(e,t)})),r=!1,o=$n().getInitCookieData(),i=$n().getCachedData(),a=Hn(),e=X(On).reduce((function(e,t){var n=t,s=On[t];return e[t]=(null==i?void 0:i[n])||s.init(null==o?void 0:o[n],(function(e){a.add(n,e)})),null!=i&&i[n]||(r=!0),e}),{}),En=e,r&&$n().updateData(e),a.call(),$n().onUpdateData(lr),null!=Sn&&Sn(ur()))},set:fr,get:dr,update:function(e){return pr(e)},refresh:function(){var e,t;return!$n().setProtectionData(((t={})["@@Data-layer/refresh_locked_key"]=!0,t))&&(e=[],Ln.forEach((function(t,n){return e.push(n)})),t=e.reduce((function(e,t){return e[t]=or,e}),{}),Bn(t),!0)},protect:function(e,t){return vr(e,t)},addChangeListener:gr,removeChangeListener:function(e){Nn.delete(e),Tn.forEach((function(t){return t.delete(e)}))},terminate:function(){null!=In&&In.terminate(),Tn.clear(),Nn.clear(),In=null,Mn=!1,En={}},updateMigration:function(){Mn&&yn(ur())},get isReady(){return Mn},utils:{validateModifier:ft,validateConsent:et,checkConsent:yt,setConsent:function(e,t,n){if(dr("consent"),e=Qe(dr("purposes"),0,e,t,n)){if(e.error)return e.error;fr({consent:e.consent,purposes:e.purposes})}return null},getConsent:function(){var e=(t=dr(["consent","purposes"])).consent,t=t.purposes;return st(e,t)},notAcquiredConsent:je()?X(Te).reduce((function(e,t){return e[t]={mode:"not-acquired",products:Te[t]},e}),{}):null},get cookies(){return cr()},get cookieEnabled(){return cr()},setUnsafe:function(e,t){Bn(e,t,!0)},protectUnsafe:function(e,t){return vr(e,t,!0)},updateUnsafe:function(e){return pr(e,!0)},setCookieEnabled:function(e){Rn((function(t){var n=X(e);n.length?n.forEach((function(n){var r=t[n];r&&r.setCookieEnabled(e[n])})):X(t).forEach((function(n){t[n].setCookieEnabled(e)}))}))}});function cr(){var e=null;return Rn((function(t){e=X(t).reduce((function(e,n){var r=t[n].cookieEnabled,o=t[n].fixedAt||null;return e[t[n].cookieName]=r?{enabled:r,fixedAt:o}:null,e}),{})})),e}function ur(){return{params:Ln,getConnection:$n,addChangeListener:gr,get:dr,updateValues:Bn}}function lr(e){var t=!1;X(e).forEach((function(n){var r,o=Ln.get(n);o&&(r=e[n],En[n]!==r)&&(En[n]=r,t=!0,null!=(n=Tn.get(n)))&&n.forEach((function(e){return e(o.get(r))}))})),t&&Nn.forEach((function(e){return e(Un(En))}))}function dr(e){var t=R(),n=ne(e),r=void 0===e?En:n?((r={})[e]=En[e],r):e.reduce((function(e,t){return Ln.has(t)&&(e[t]=En[t]),e}),{});return r=Un(r,(function(e,n){return e.cookieName&&t.add(e.cookieName),e.get(n)})),jn(t.values()),n?r[e]:r}function fr(e,t){return Bn(e,t,!1)}function pr(e,t){void 0===t&&(t=!1);var n=e;return Z(e)||(n=[e]),Bn(n.reduce((function(e,t){return e[t]=rr,e}),{}),void 0,t)}function vr(e,t,n){n=(n=void 0!==n&&n)?$n().setProtectionDataUnsafe:$n().setProtectionData;var r,o=e;return ne(e)&&((r={})[e]=t,o=r),n(o)}function gr(e,t){var n;ne(e)?null!=(n=Tn.get(e))&&n.add(t):Nn.add(e)}function mr(e,t,n){t.setProperty("event_collection_platform","js"),t.setProperty("event_collection_version",t.getConfiguration("version"));var r,i=new Date,a=(t.setProperty("device_timestamp_utc",i.getTime()),t.setProperty("device_local_hour",i.getTime()),t.setProperty("device_hour",i.getHours()),"isManualPageRefresh"),s="pageview_id",c="_isNotFirstPageView",u=o(t.events);try{for(u.s();!(r=u.n()).done;){var l=r.value;"page.display"===l.name&&(null===e.getConfiguration(a)&&e.getConfiguration(c)&&e.setConfiguration(a,!1),e.getConfiguration("enableAutomaticPageRefresh")&&!1===e.getConfiguration(a)&&e.getConfiguration(c)&&sr.refresh(),e.getConfiguration(c)||e.setConfiguration(c,!0)),hr(s,t,l)&&e._privacy.call("isPropAllowed",s)&&(l.data[s]=sr.get("pageViewId"))}}catch(r){u.e(r)}finally{u.f()}try{var d,f=new Date(new Date(sr.cookies._pcid.fixedAt[0]).setUTCHours(0,0,0,0)).toISOString(),p=o(t.events);try{for(p.s();!(d=p.n()).done;){var g=d.value;hr("cookie_creation_date",t,g)&&t.setProperty("cookie_creation_date",f)}}catch(r){p.e(r)}finally{p.f()}}catch(r){}var m,h,_=sr.get("content");for(m in _)if(Object.prototype.hasOwnProperty.call(_,m)){var y,b="createdAt"===m||"tags"===m?{createdAt:"content_publication_date",tags:"tags_array"}[m]:"content_".concat(m).replace(/[\w]([A-Z])/g,(function(e){return e[0]+"_"+e[1]})).toLowerCase(),w=o(t.events);try{for(w.s();!(y=w.n()).done;){var C=y.value;hr(b,t,C)&&e._privacy.call("isPropAllowed",b)&&(C.data[b]=_[m])}}catch(r){w.e(r)}finally{w.f()}}t.setProperty("has_access",sr.get("userStatus")),t.setProperty("device_screen_width",window.screen.width),t.setProperty("device_screen_height",window.screen.height),t.setProperty("device_display_width",window.innerWidth||document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:""),t.setProperty("device_display_height",window.innerHeight||document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:""),i=function(e,t){var n,r=o(["-","_"]);try{for(r.s();!(n=r.n()).done;){var i,a=n.value;if(-1<e.indexOf(a))return[(i=e.split(a))[0],i.slice(1).join(a)]}}catch(e){r.e(e)}finally{r.f()}return["",""]}(window.navigator?window.navigator.language||window.navigator.userLanguage:""),t.setProperty("browser_language",i[0]),t.setProperty("browser_language_local",i[1]),t.setProperty("previous_url",document.referrer||""),document.title&&t.setProperty("page_title_html",document.title),!(i="true"===t.getConfiguration("addEventURL").toString())&&"withoutQS"!==t.getConfiguration("addEventURL")||t.setProperty("event_url_full",i?window.location.href.split("#")[0]:"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname));try{e.getConfiguration("allowHighEntropyClientHints")?window.navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((function(e){yr(t,e)})).finally((function(){v(e,t,n)})):(h={brands:window.navigator.userAgentData.brands,platform:window.navigator.userAgentData.platform,mobile:window.navigator.userAgentData.mobile},yr(t,h),v(e,t,n))}catch(r){v(e,t,n)}}function hr(e,t,n){if(t.hasProperty(e)&&t.properties[e].options.events){if(-1<(t=t.properties[e].options.events).indexOf(n.name))return;var r,i=o(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("*"===a.charAt(a.length-1)&&0===n.name.indexOf(a.substring(0,a.length-1)))return}}catch(e){i.e(e)}finally{i.f()}}return void 0===n.data[e]}function _r(e){return void 0!==e}function yr(e,t){var n=[{metric:"brands",property:"ch_ua"},{metric:"architecture",property:"ch_ua_arch"},{metric:"bitness",property:"ch_ua_bitness"},{metric:"fullVersionList",property:"ch_ua_full_version_list"},{metric:"mobile",property:"ch_ua_mobile"},{metric:"model",property:"ch_ua_model"},{metric:"platform",property:"ch_ua_platform"},{metric:"platformVersion",property:"ch_ua_platform_version"},{metric:"uaFullVersion",property:"ch_ua_full_version"}];if(_r(t))for(var r=0;r<n.length;r++)_r(t[n[r].metric])&&e.setProperty(n[r].property,t[n[r].metric])}function br(e,t,n){function r(r){v(e,t,n,r)}t.options&&t.options.onBeforeBuild?t.options.onBeforeBuild(e,t,r):r()}function wr(e,t,n){function r(r){v(e,t,n,r)}t.options&&t.options.onBeforeSend?t.options.onBeforeSend(e,t,r):r()}function Cr(e,t,n){e._privacy.call("filterEvents",t.events),e._privacy.call("filterProps",t.properties);for(var r=t.events,o=0;o<r.length;o++){e._privacy.call("filterProps",r[o].data,r[o].name);var i,a=e._privacy.call("getModeMetadata")||{};for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.setProperty(i,a[i])}v(e,t,n)}function kr(e,t,n){var r,i=[];for(r in t.properties)if(Object.prototype.hasOwnProperty.call(t.properties,r)){var a,s=!1,c=o(t.events);try{for(c.s();!(a=c.n()).done;){var u=a.value,l=!1,d=t.properties[r].options.events;if(d)if(-1<d.indexOf(u.name))l=!0;else{var f,p=o(d);try{for(p.s();!(f=p.n()).done;){var g=f.value;if("*"===g.charAt(g.length-1)&&0===u.name.indexOf(g.substring(0,g.length-1))){l=!0;break}}}catch(e){p.e(e)}finally{p.f()}}else l=!0;l&&(u.data[r]=t.properties[r].value,s=!0)}}catch(e){c.e(e)}finally{c.f()}s&&!t.properties[r].options.persistent&&i.push(r)}for(var m=0,h=i;m<h.length;m++)delete e._properties[h[m]];if(!t.getConfiguration("sendEmptyProperties")){var _,y=o(t.events);try{for(y.s();!(_=y.n()).done;){var b,w=_.value;for(b in w.data)!Object.prototype.hasOwnProperty.call(w.data,b)||""!==w.data[b]&&void 0!==w.data[b]||delete w.data[b]}}catch(e){y.e(e)}finally{y.f()}}v(e,t,n)}function Pr(e,t,n){(e._privacy.call("getMode")!==e._privacy.modeEnum.OPTOUT||e._privacy.call("getMode")===e._privacy.modeEnum.OPTOUT&&t.getConfiguration("sendEventWhenOptout"))&&0<t.build.data.events.length&&s.post(t.build.url,JSON.stringify(t.build.data)),v(e,t,n)}function Ar(e,t,n){void 0!==t.properties.user_id?v(e,t,n):e.getUser((function(r){var o;null!==r&&(t.setProperty("user_id",r.id,o={persistent:!0}),t.setProperty("user_category",r.category,o),t.setProperty("user_recognition",!0,o)),v(e,t,n)}))}function Or(e,t,n){e._storage.getItem(t.getConfiguration("storageVisitor"),(function(r){var o;t.getConfiguration("isVisitorClientSide")&&(t.visitorId=t.getConfiguration("visitorId")||sr.get("browserId"),t.getConfiguration("isLegacyPrivacy")||"opt-out"!==e.consent.getMode()||(t.visitorId="OPT-OUT"),o="OPT-OUT"!==t.visitorId&&"no-consent"!==t.visitorId&&"no-storage"!==t.visitorId&&t.visitorId!==t.getConfiguration("visitorId"),t.visitorId!==sr.get("browserId"))&&o&&(t.visitorId=t.visitorId+"-NO"),v(e,t,n)}))}function Sr(e,t,n){function r(t){null!=(t=i(Tr(n.dataLayer,n.items,e.getNames),t))&&t.forEach((function(t){t.allowed?t.data&&e.set(t.name,t.data):e.remove(t.name)}))}var o=Dr(n),i=Mr(n.dataLayer,{items:n.items,type:t,getConsent:o});return t=void 0===n.checkConsentOnInit&&n.enableAutoRemove,n.enableAutoRemove&&Ir(n,r),t&&r(o()),Object.assign({},e,{set:function(t,n,r){var o=i(t);null!=o&&o.allowed&&(o=null!=(o=o.data)?o:n,e.set.apply(null,r?[t,o,r]:[t,o]))},check:i})}function xr(e,t){return{check:Mr(t.dataLayer,{items:t.items,type:e,getConsent:Dr(t)})}}var Er=function(e){this.setItem=function(t,n,r,o){t="".concat(t,"=").concat(e.getConfiguration("encodeStorageBase64")?u.base64.encode(JSON.stringify(n)):encodeURIComponent(JSON.stringify(n))),t=(t=(t=(t=(t+=";path=".concat(e.getConfiguration("cookiePath")))+";domain=".concat(e.getConfiguration("cookieDomain")))+(e.getConfiguration("cookieSecure")?";secure":""))+";samesite=".concat(e.getConfiguration("cookieSameSite")))+(r?";expires=".concat(r.toUTCString()):""),document.cookie=t,o&&o()},this.getItem=function(e,t){var n=null;if(e=new RegExp("(?:^| )".concat(e,"=([^;]+)")).exec(document.cookie)||null)try{n=JSON.parse(decodeURIComponent(e[1]))}catch(t){n=JSON.parse(u.base64.decode(e[1]))}t&&t(n)},this.deleteItem=function(e,t){var n=new Date;n.setTime(n.getTime()-1e3),this.setItem(e,"",n,t)}},Dr=function(e){return function(){var t=e.dataLayer.get("consent");return t&&t[e.productName]||null}},Ir=function(e,t){function n(n){(n=(null==n?void 0:n[e.productName])||null)!==r&&t(r=n)}var r=null;return e.dataLayer.addChangeListener("consent",n),function(){e.dataLayer.removeChangeListener(n)}},Mr=function(e,t){return e.utils.checkConsent.createCheckConsentWrapper(t)},Tr=function(e,t,n){var r=e.utils.checkConsent,o=r.itemsToMask(t),i=Object.keys(t).filter((function(e){return!r.isMask(e)}));return n().filter((function(e){return i.includes(e)||r.getByMask(e,o)}))},Nr={createLocalStorage:function(e){t=e.dataLayer,o=I.__protected__.ttlName,r=Mr((t={dataLayer:t,productName:"DL"}).dataLayer,{items:((n={})[o]="mandatory",n),type:"localStorage",getConsent:Dr(t)}),i=function(){var e=r(o);return e.allowed&&!e.data},a=!0,Ir(t,c),c();var t,n,r,o,i,a,s=function(){return a};function c(){(a=i())||I.remove(o)}var u=Sr(I,"localStorage",e);return Object.assign({},u,{set:function(e,t,n){var r=n;return null!=n&&n.expires&&!s()&&delete(r=Object.assign({},n)).expires,u.set(e,t,r)}})},createProperty:function(e){return xr("property",e)},createCookie:function(e){function t(t){null!=(t=u(Tr(e.dataLayer,s,C.getNames),t))&&t.forEach((function(e){function t(){return i[e.name]||r.getByMask(e.name,a)||c}e.allowed?e.data&&C.set(e.name,e.data,t()):C.remove(e.name,t())}))}var n,r=e.dataLayer.utils.checkConsent,o=Dr(e),i={},a=[],s={},c={},u=(Object.keys(e.items).forEach((function(t){var n,o,c,u,l=e.items[t];l.type?(n=l.type,o=l.domain,c=l.path,u={},s[t]=n,o&&(u.domain=o),c&&(u.path=c),r.isMask(t)?a.push(r.createMask(t,u)):i[t]=u):s[t]=l})),Mr(e.dataLayer,{items:s,type:"cookie",getConsent:o}));return n=!(void 0!==e.checkConsentOnInit||!e.enableAutoRemove),e.enableAutoRemove&&(c=e.enableAutoRemove,Ir(e,t)),n&&t(o()),Object.assign({},C,{check:u,set:function(e,t,n,r){var o=u(e);null!=o&&o.allowed&&C.set(e,null!=(e=o.data)?e:t,n,r)}})},createSessionStorage:function(e){return Sr(z,"sessionStorage",e)},createEvent:function(e){return xr("event",e)}},Lr={"*":"optional",pa_vid:"mandatory",pa_privacy:"mandatory",atuserid:"essential"},$r={"click.exit":"mandatory","click.navigation":"mandatory","click.download":"mandatory","click.action":"mandatory","page.display":"mandatory"},Rr={"*":"optional",connection_type:"mandatory",device_timestamp_utc:"mandatory",visitor_privacy_consent:"mandatory",visitor_privacy_mode:"mandatory",ch_ua:"mandatory",ch_ua_arch:"mandatory",ch_ua_bitness:"mandatory",ch_ua_full_version:"mandatory",ch_ua_full_version_list:"mandatory",ch_ua_mobile:"mandatory",ch_ua_model:"mandatory",ch_ua_platform:"mandatory",ch_ua_platform_version:"mandatory",app_crash:"essential",app_crash_class:"essential",app_crash_screen:"essential",app_version:"essential",browser:"essential",browser_cookie_acceptance:"essential",browser_group:"essential",browser_version:"essential",click:"essential",click_chapter1:"essential",click_chapter2:"essential",click_chapter3:"essential",click_full_name:"essential",connection_monitor:"essential",connection_organisation:"essential",cookie_creation_date:"essential",date:"essential",date_day:"essential",date_daynumber:"essential",date_month:"essential",date_monthnumber:"essential",date_week:"essential",date_year:"essential",date_yearofweek:"essential",device_brand:"essential",device_display_height:"essential",device_display_width:"essential",device_name:"essential",device_name_tech:"essential",device_screen_diagonal:"essential",device_screen_height:"essential",device_screen_width:"essential",device_type:"essential",event_collection_platform:"essential",event_collection_version:"essential",event_hour:"essential",event_id:"essential",event_minute:"essential",event_position:"essential",event_second:"essential",event_time:"essential",event_time_utc:"essential",event_url:"essential",event_url_domain:"essential",event_url_full:"essential",exclusion_cause:"essential",exclusion_type:"essential",geo_city:"essential",geo_continent:"essential",geo_country:"essential",geo_metro:"essential",geo_region:"essential",goal_type:"essential",hit_time_utc:"essential",os:"essential",os_group:"essential",os_version:"essential",os_version_name:"essential",page:"essential",page_chapter1:"essential",page_chapter2:"essential",page_chapter3:"essential",page_duration:"essential",page_full_name:"essential",page_position:"essential",page_title_html:"essential",page_url:"essential",pageview_id:"essential",previous_url:"essential",privacy_status:"essential",site:"essential",site_env:"essential",site_id:"essential",site_platform:"essential",src:"essential",src_detail:"essential",src_direct_access:"essential",src_organic:"essential",src_organic_detail:"essential",src_portal_domain:"essential",src_portal_site:"essential",src_portal_site_id:"essential",src_portal_url:"essential",src_referrer_site_domain:"essential",src_referrer_site_url:"essential",src_referrer_url:"essential",src_se:"essential",src_se_category:"essential",src_se_country:"essential",src_type:"essential",src_url:"essential",src_url_domain:"essential",src_webmail:"essential"};function jr(e,t){var n;return n=t,window.pdl&&window.pdl.consent_items&&window.pdl.consent_items.PA&&window.pdl.consent_items.PA[n]&&Object.assign(e,window.pdl.consent_items.PA[t]),e}function Hr(e){this.storageKeys=["pa_vid","pa_user","pa_privacy","atuserid"],this.propertyConsent={},this.eventConsent={},this.storageConsent={},this.consentItems={propertyItems:{},eventItems:{},cookieItems:{}},this.modeMetadata={"opt-in":{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},"opt-out":{visitor_privacy_consent:!1,visitor_privacy_mode:!0===e.getConfiguration("enableExtendedOptout")?"extended-optout":"optout"},essential:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},custom:{visitor_privacy_consent:!1,visitor_privacy_mode:"custom"}},this.init=function(){this.consentItems={propertyItems:jr(Rr,"properties"),eventItems:jr($r,"events"),cookieItems:jr(Lr,"storages")},this.propertyConsent=Nr.createProperty({dataLayer:sr,productName:"PA",items:this.consentItems.propertyItems}),this.eventConsent=Nr.createEvent({dataLayer:sr,productName:"PA",items:this.consentItems.eventItems}),this.storageConsent=Nr.createCookie({dataLayer:sr,productName:"PA",items:this.consentItems.cookieItems}),e.getConfiguration("isLegacyPrivacy")||(this.initMode(),this.filterKeys())},this.initMode=function(){null===sr.get("consent")&&(window.pdl.consent&&window.pdl.consent.defaultPreset?sr.set("consent",0):this.setMode("opt-in"))},this.setMode=function(e){sr.set("consent",{PA:{mode:e}}),this.filterKeys()},this.setPresets=function(e){sr.set("consent",e),this.filterKeys()},this.getMode=function(){var e="opt-in",t=sr.get("consent");return t&&t.PA&&t.PA.mode?sr.get("consent").PA.mode:e},this.setCustomModeMetadata=function(e,t){this.modeMetadata.custom.visitor_privacy_mode=t||"custom",this.modeMetadata.custom.visitor_privacy_consent=e},this.getModeMetadata=function(){return this.modeMetadata[this.getMode()]||{}},this.getConsentItems=function(){return this.consentItems},this.isPropAllowed=function(t){return!0===e.getConfiguration("enableExtendedOptout")&&"opt-out"===this.getMode()||this.propertyConsent.check(t).allowed}.bind(this),this.isEventAllowed=function(t){return!0===e.getConfiguration("enableExtendedOptout")&&"opt-out"===this.getMode()||this.eventConsent.check(t).allowed}.bind(this),this.isKeyAllowed=function(e){return this.storageConsent.check(e).allowed}.bind(this),this.filterProps=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&!this.isPropAllowed(t)&&delete e[t]},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.filterKeys=function(){var t,n=o(this.storageKeys);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.isKeyAllowed(r)||e._storage.deleteItem(r)}}catch(t){n.e(t)}finally{n.f()}},this.setItem=function(t,n,r,o){this.isKeyAllowed(t)?e._storage.setItem(t,n,r,o):o&&o()},this.dl=sr,this.init()}function Ur(e,t,n,r){var o,i=n?null:e,a=t||[],s=!1,c=!1,u=!1;if(0<a.length){for(var l=0;l<a.length;l++)d(a[l],i);f()}function d(t,n){try{!function e(t,n,r,o){var i=t[n[0]];return void 0===i||(1===n.length?(i.apply(o||t,r),!1):e(i,n.slice(1),r,o))}(e,t[0].split("."),t.slice(1),n)?s=!0:c=!0}catch(t){c=!0}}function f(){c&&s&&!u&&(console.error("Piano Analytics SDK - window.".concat(r,' is used for Piano Analytics integration and somewhere else. Please check "queueVarName" configuration if needed.')),u=!0)}n&&(o=window[r].push.bind(window[r]),window[r].push=function(e){d(e),f(),o(e)})}function Br(e){function t(e,t,n,r){return n=s(t[n].events[e],r),t=s(t["*"].events[e],r),n||t}function n(e,t,n,r,o){var i;return o=o?(i=c(t[n].properties,e,r,o),c(t["*"].properties,e,r,o)):(i=u(t[n].properties,e,r),u(t["*"].properties,e,r)),i||o}function r(e,t,n,r){return n=l(t[n].storage,e,r),t=l(t["*"].storage,e,r),n||t}var o=e.getConfiguration("privacy"),i=(this.currentMode="",this.modes=o.modes,this._storageKeys=Object.assign(o.legacyKeys,o.storageKeys),this.init=function(){e.getConfiguration("isLegacyPrivacy")&&(window._pac=window._pac||{privacy:[]},Ur(this,window._pac.privacy),e._storage.getItem(o.storageKey,function(t){this.setMode(t&&this.modes[t]?t:e.getConfiguration("privacyDefaultMode"))}.bind(this)))},this.setMode=function(t){t!==this.currentMode&&this.modes[t]&&(this.currentMode=t,e._storage.getItem(o.storageKey,function(n){"optout"===t||"no-consent"===t||"no-storage"===t?e.setConfiguration("visitorId",this.modes[t].visitorId):"OPT-OUT"!==e.getConfiguration("visitorId")&&"no-consent"!==e.getConfiguration("visitorId")&&"no-storage"!==e.getConfiguration("visitorId")||e.cfg.deleteProperty("visitorId"),this.filterProps(e._properties),this.filterKeys(),n!==t&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimePrivacy")*60*60*1e3),this.setItem(o.storageKey,t,n))}.bind(this)))},this.createMode=function(e,t){var n;this.modes[e]||((n=a(this.modes.exempt)).name=e,n.properties.include.visitor_privacy_mode=e,n.properties.include.visitor_privacy_consent=t,this.modes[e]=n)},this.getMode=function(){return this.currentMode},function(e,t,n,r,o,i){var a=["*"],s=["*"],c="properties",u=r?"forbidden":"allowed";t&&(a="string"==typeof t?[t]:t),n&&(s="string"==typeof n?[n]:n),o&&(c="storage"),i&&(c="events");for(var l=0;l<a.length;l++)if(void 0!==this.modes[a[l]])for(var d=this.modes[a[l]],f=0;f<s.length;f++){var p=d[c][u];void 0!==p[s[f]]||o||i||(p[s[f]]={});for(var v=0;v<e.length;v++)o||i?p[e[v]]=!0:p[s[f]][e[v]]=!0}}.bind(this)),s=(this.include={properties:function(e,t,n){i(e,t,n)},property:function(e,t,n){i([e],t,n)},storageKeys:function(e,t){i(e,t,null,!1,!0)},storageKey:function(e,t){i([e],t,null,!1,!0)},events:function(e,t){i(e,t,null,!1,!1,!0)},event:function(e,t){i([e],t,null,!1,!1,!0)}},this.exclude={properties:function(e,t,n){i(e,t,n,!0)},property:function(e,t,n){i([e],t,n,!0)},storageKeys:function(e,t){i(e,t,null,!0,!0)},storageKey:function(e,t){i([e],t,null,!0,!0)},events:function(e,t){i(e,t,null,!0,!1,!0)},event:function(e,t){i([e],t,null,!0,!1,!0)}},function(e,t){if(e[t])return!0;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"*"===n.charAt(n.length-1)&&0===t.indexOf(n.substring(0,n.length-1)))return!0;return!1}),c=(this.isEventAllowed=function(e){var n=t("forbidden",this.modes,this.currentMode,e);return e=t("allowed",this.modes,this.currentMode,e),!n&&e},function(e,t,n,r){var o,i=e[t];if(i[r]&&i[r][n]||i["*"][n])return!0;for(o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&"*"===o.charAt(o.length-1)&&0===r.indexOf(o.substring(0,o.length-1))||o===r)for(var a in i[o])if(Object.prototype.hasOwnProperty.call(i[o],a)&&("*"===a.charAt(a.length-1)&&0===n.indexOf(a.substring(0,a.length-1))||n===a))return!0;return!1}),u=function(e,t,n){if("forbidden"===t&&e[t]["*"][n])return!0;for(var r in e[t])if(Object.prototype.hasOwnProperty.call(e[t],r)){if(e[t][r][n])return!0;for(var o in e[t][r])if("*"===o.charAt(o.length-1)&&0===n.indexOf(o.substring(0,o.length-1)))return!0}return!1},l=(this.isPropAllowed=function(e,t){var r=n("forbidden",this.modes,this.currentMode,e,t);return e=n("allowed",this.modes,this.currentMode,e,t),!r&&e},function(e,t,n){var r,o=e[t];if(o[n])return!0;for(r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&"*"===r.charAt(r.length-1)&&0===n.indexOf(r.substring(0,r.length-1)))return!0;return!1});this.isKeyAllowed=function(e){var t=r("forbidden",this.modes,this.currentMode,e);return e=r("allowed",this.modes,this.currentMode,e),!t&&e},this.setItem=function(t,n,r,o){this.isKeyAllowed(t)?e._storage.setItem(t,n,r,o):o&&o()},this.filterProps=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!this.isPropAllowed(n,t||void 0)&&delete e[n]},this.filterKeys=function(){for(var t in this._storageKeys)Object.prototype.hasOwnProperty.call(this._storageKeys,t)&&!this.isKeyAllowed(t)&&e._storage.deleteItem(t)},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.getModeMetadata=function(){return this.modes[this.getMode()].properties.include},this.init()}function qr(e){this.modeEnum={OPTOUT:e.getConfiguration("isLegacyPrivacy")?"optout":"opt-out"},this.call=function(t){for(var n=e.getConfiguration("isLegacyPrivacy")?"privacy":"consent",r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e[n][t].apply(e[n],o)}}function Vr(e){var t=e.getConfiguration("storageUser");this.setUser=function(n,r,o){var i={id:n,category:r};e.setProperties({user_id:n,user_category:r,user_recognition:!1},{persistent:!0}),!1!==o&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimeUser")*60*60*1e3),e._privacy.call("setItem",t,i,n))},this.getUser=function(n){e._storage.getItem(t,(function(t){var r=t;!t&&e._properties.user_id&&(r={id:e._properties.user_id.value,category:e._properties.user_category.value}),n&&n(r)}))},this.deleteUser=function(n){e.deleteProperty("user_id"),e.deleteProperty("user_category"),e.deleteProperty("user_recognition"),e._storage.deleteItem(t,(function(){n&&n()}))}}function Fr(e){function t(){this.debugError={trigger:"AvInsights:Media:setContentValues:Error",level:"ERROR",messageObject:"Not an object"},this.processHeartbeatValue=function(e,t){return(e=parseInt(e,10))?Math.max(e,t):0},this.value2Number=function(e){var t=0;return isNaN(Number(e))||(t=Number(e)),Math.max(t,0)}}var r={minHeartbeat:e.getConfiguration("minHeartbeat"),minBufferingHeartbeat:e.getConfiguration("minBufferingHeartbeat")},o="_ATVALUE",i="_ATPREFIX";function s(e,t){var n;return e=e.length<2||":"!==e[1]?(n="",e):e.length<4||":"!==e[3]?(n=e.substring(0,1),e.substring(2,e.length)):(n=e.substring(0,3),e.substring(4,e.length)),t&&(n=n.toLowerCase(),e=e.toLowerCase()),{prefix:n,key:e}}function c(e){return null!==e&&"object"===n(e)&&!(e instanceof Array)}function u(e,t,n,r,a){var l,d,f,p="",v="",g="",m=0;for(f in e)if(Object.prototype.hasOwnProperty.call(e,f))if(p=(l=s(f,a)).prefix||r||"",v=(t?t+"_":"")+l.key,c(e[f]))u(e[f],v,n,p,a);else{for(d=v.split("_"),g="",m=0;m<d.length;m++)p=(l=s(d[m],a)).prefix||p,g+=l.key+(m<d.length-1?"_":"");n[v=g||v]=n[v]||{},n[v][o]=e[f],n[v][i]=p}}e.avInsights={},e.avInsights.Media=function(n,d,f){function p(e){e?C.delayBufferingConfiguration=a(C.delayBufferingConfigurationBackup):C.delayConfiguration=a(C.delayConfigurationBackup)}function v(e,t){if(t){O(e);var n,o={};for(n in c(t)?o=t:isNaN(t)?o=JSON.parse(t):o[0]=t,o)Object.prototype.hasOwnProperty.call(o,n)&&(e?C.delayBufferingConfiguration.push({delay:w.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:w.processHeartbeatValue(o[n],r.minBufferingHeartbeat)}):C.delayConfiguration.push({delay:w.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:w.processHeartbeatValue(o[n],r.minHeartbeat)}));S(e),A(e)}}function g(t,n,r,s){var l=a(P);l.av_session_id={},l.av_session_id[o]=C.sessionId,l.av_session_id[i]="",n&&(E(l),C.previousEvent=t),c(s)&&u(s,null,l,null,!0),n=D(l),e.sendEvent(t,n,r)}function m(){var e=this,t=0,n=0;e.getEventDuration=function(){var e=(new Date).getTime()-t-n;return n+=e,e},e.initBaseTime=function(){0===t&&(t=(new Date).getTime())},e.resetProperties=function(){n=t=0},e.initHeartbeatTimer=function(e,t){var n=t?C.delayBufferingConfiguration:C.delayConfiguration;0<n.length&&(x(t),clearTimeout(n[0].timeout),n[0].timeout=setTimeout((function(){0===n[0].number&&n.splice(0,1),e&&e()}),1e3*n[0].refresh))},e.stopHeartbeatTimer=function(e){for(var t=e?C.delayBufferingConfiguration:C.delayConfiguration,n=0;n<t.length;n++)clearTimeout(t[n].timeout),t[n].timeout=-1}}function h(e,t,n,r,o){k.initBaseTime(),C.eventDuration=k.getEventDuration(),C.previousCursorPosition=C.currentCursorPosition,C.currentCursorPosition=e?C.previousCursorPosition+Math.floor(C.playbackSpeed*C.eventDuration):n,t&&k.initHeartbeatTimer((function(){h(!0,!0)}),!1),g("av.heartbeat",!0,r,o)}function _(e,t,n){k.initBaseTime(),C.eventDuration=k.getEventDuration(),e&&k.initHeartbeatTimer((function(){_(!0)}),!0),g("av.buffer.heartbeat",!0,t,n)}function y(e,t,n){k.initBaseTime(),C.eventDuration=k.getEventDuration(),C.previousCursorPosition=C.currentCursorPosition,e&&k.initHeartbeatTimer((function(){y(!0)}),!0),g("av.rebuffer.heartbeat",!0,t,n)}var b=this,w=new t,C=null,k=null,P=null,A=function(e){e?C.delayBufferingConfigurationBackup=a(C.delayBufferingConfiguration):C.delayConfigurationBackup=a(C.delayConfiguration)},O=function(e){e?(C.delayBufferingConfiguration=[],C.delayBufferingConfigurationBackup=[]):(C.delayConfiguration=[],C.delayConfigurationBackup=[])},S=function(e){(e?C.delayBufferingConfiguration:C.delayConfiguration).sort((function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0}))},x=function(e){var t;void 0===(t=void 0!==(e=e?C.delayBufferingConfiguration:C.delayConfiguration)[1]?e[1].delay:t)?e[0].number=1:0<e[0].number?e[0].number--:"number"==typeof t&&(e[0].number=Math.floor(60*(t-e[0].delay)/e[0].refresh)-1)},E=function(e){e.av_previous_position={},e.av_previous_position[o]=C.previousCursorPosition,e.av_previous_position[i]="",e.av_position={},e.av_position[o]=C.currentCursorPosition,e.av_position[i]="",e.av_duration={},e.av_duration[o]=C.eventDuration,e.av_duration[i]="",e.av_previous_event={},e.av_previous_event[o]=C.previousEvent,e.av_previous_event[i]=""},D=function(e){var t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(Object.prototype.hasOwnProperty.call(e[t],o)?n[e[t][i]?"".concat(e[t][i],":").concat(t):t]=e[t][o]:n[t]=e[t]);return n};b.set=function(e,t){e=s(e,!0),P[e.key]=P[e.key]||{},P[e.key][o]=t,P[e.key][i]=e.prefix},b.get=function(e){var t=null;return e=s(e,!0),void 0!==P[e.key]?P[e.key][o]:t},b.del=function(e){e=s(e,!0),void 0!==P[e.key]&&delete P[e.key]},b.setProps=function(e){c(e)&&u(e,null,P,null,!0)},b.getProps=function(){var e,t=null;for(e in P)Object.prototype.hasOwnProperty.call(P,e)&&((t=t||{})[e]=P[e][o]);return t},b.delProps=function(){P={}},b.setPlaybackSpeed=function(e){(e=w.value2Number(e)||C.playbackSpeed)!==C.playbackSpeed&&(k.stopHeartbeatTimer(!1),C.isPlaying&&(h(!0,!1),k.initHeartbeatTimer((function(){h(!0,!0)}),!1)),C.playbackSpeed=e)},b.getSessionID=function(){return C.sessionId},b.track=function(e,t,n,r){var o=t||{};switch(e){case"av.heartbeat":b.heartbeat(o.av_position,n,r);break;case"av.buffer.heartbeat":b.bufferHeartbeat(n,r);break;case"av.rebuffer.heartbeat":b.rebufferHeartbeat(n,r);break;case"av.play":b.play(o.av_position,n,r);break;case"av.buffer.start":b.bufferStart(o.av_position,n,r);break;case"av.start":b.playbackStart(o.av_position,n,r);break;case"av.resume":b.playbackResumed(o.av_position,n,r);break;case"av.pause":b.playbackPaused(o.av_position,n,r);break;case"av.stop":b.playbackStopped(o.av_position,n,r);break;case"av.backward":b.seekBackward(o.av_previous_position,o.av_position,n,r);break;case"av.forward":b.seekForward(o.av_previous_position,o.av_position,n,r);break;case"av.seek.start":b.seekStart(o.av_previous_position,n,r);break;case"av.error":b.error(o.av_player_error,n,r);break;default:g(e,!1,n,r)}},b.heartbeat=function(e,t,n){var r,o=!0;null!=e&&0<=e&&(o=!1,r=w.value2Number(e)),h(o,!1,r,t,n)},b.bufferHeartbeat=function(e,t){_(!1,e,t)},b.rebufferHeartbeat=function(e,t){y(!1,e,t)},b.play=function(e,t,n){k.initBaseTime(),e=w.value2Number(e),C.eventDuration=0,C.previousCursorPosition=e,C.currentCursorPosition=e,C.isPlaying=!1,C.isPlaybackActivated=!1,k.stopHeartbeatTimer(!1),k.stopHeartbeatTimer(!0),g("av.play",!0,t,n)},b.bufferStart=function(e,t,n){k.initBaseTime(),e=w.value2Number(e),C.eventDuration=k.getEventDuration(),C.previousCursorPosition=C.currentCursorPosition,C.currentCursorPosition=e,k.stopHeartbeatTimer(!1),k.stopHeartbeatTimer(!0),C.isPlaybackActivated?(k.initHeartbeatTimer((function(){y(!0)}),!0),g("av.rebuffer.start",!0,t,n)):(k.initHeartbeatTimer((function(){_(!0)}),!0),g("av.buffer.start",!0,t,n))},b.playbackStart=function(e,t,n){k.initBaseTime(),e=w.value2Number(e),C.eventDuration=k.getEventDuration(),C.previousCursorPosition=e,C.currentCursorPosition=e,C.isPlaying=!0,C.isPlaybackActivated=!0,k.stopHeartbeatTimer(!1),k.stopHeartbeatTimer(!0),k.initHeartbeatTimer((function(){h(!0,!0)}),!1),g("av.start",!0,t,n)},b.playbackResumed=function(e,t,n){k.initBaseTime(),e=w.value2Number(e),C.eventDuration=k.getEventDuration(),C.previousCursorPosition=C.currentCursorPosition,C.currentCursorPosition=e,C.isPlaying=!0,C.isPlaybackActivated=!0,k.stopHeartbeatTimer(!1),k.stopHeartbeatTimer(!0),k.initHeartbeatTimer((function(){h(!0,!0)}),!1),g("av.resume",!0,t,n)},b.playbackPaused=function(e,t,n){k.initBaseTime(),e=w.value2Number(e),C.eventDuration=k.getEventDuration(),C.previousCursorPosition=C.currentCursorPosition,C.currentCursorPosition=e,C.isPlaying=!1,C.isPlaybackActivated=!0,k.stopHeartbeatTimer(!1),k.stopHeartbeatTimer(!0),g("av.pause",!0,t,n)},b.playbackStopped=function(e,t,n){k.initBaseTime(),e=w.value2Number(e),C.eventDuration=k.getEventDuration(),C.previousCursorPosition=C.currentCursorPosition,C.currentCursorPosition=e,C.isPlaying=!1,C.isPlaybackActivated=!1,k.stopHeartbeatTimer(!1),k.stopHeartbeatTimer(!0),k.resetProperties(),p(!1),p(!0),g("av.stop",!0,t,n),C.previousCursorPosition=0,C.currentCursorPosition=0,C.eventDuration=0,C.previousEvent="",C.sessionId=l.v4()},b.seek=function(e,t,n,r){e=w.value2Number(e),(t=w.value2Number(t))<e?b.seekBackward(e,t,n,r):b.seekForward(e,t,n,r)},b.seekBackward=function(e,t,n,r){b.seekStart(e,null,r),C.eventDuration=0,C.previousCursorPosition=w.value2Number(e),C.currentCursorPosition=w.value2Number(t),g("av.backward",!0,n,r)},b.seekForward=function(e,t,n,r){b.seekStart(e,null,r),C.eventDuration=0,C.previousCursorPosition=w.value2Number(e),C.currentCursorPosition=w.value2Number(t),g("av.forward",!0,n,r)},b.seekStart=function(e,t,n){e=w.value2Number(e),C.previousCursorPosition=C.currentCursorPosition,C.currentCursorPosition=e,C.isPlaying?C.eventDuration=k.getEventDuration():C.eventDuration=0,g("av.seek.start",!0,t,n)},b.adClick=function(e,t){g("av.ad.click",!1,e,t)},b.adSkip=function(e,t){g("av.ad.skip",!1,e,t)},b.error=function(e,t,n){var r={};(r=c(n)?n:r).av_player_error=String(e),g("av.error",!1,t,r)},b.display=function(e,t){g("av.display",!1,e,t)},b.close=function(e,t){g("av.close",!1,e,t)},b.volume=function(e,t){g("av.volume",!1,e,t)},b.subtitleOn=function(e,t){g("av.subtitle.on",!1,e,t)},b.subtitleOff=function(e,t){g("av.subtitle.off",!1,e,t)},b.fullscreenOn=function(e,t){g("av.fullscreen.on",!1,e,t)},b.fullscreenOff=function(e,t){g("av.fullscreen.off",!1,e,t)},b.quality=function(e,t){g("av.quality",!1,e,t)},b.speed=function(e,t){g("av.speed",!1,e,t)},b.share=function(e,t){g("av.share",!1,e,t)},v(!(C={previousCursorPosition:0,currentCursorPosition:0,eventDuration:0,playbackSpeed:1,previousEvent:"",isPlaybackActivated:!1,isPlaying:!1,sessionId:"",delayConfiguration:[],delayConfigurationBackup:[],delayBufferingConfiguration:[],delayBufferingConfigurationBackup:[]}),n),v(!0,d),C.sessionId=f||l.v4(),k=new m,d="pagehide",f=function(){k.stopHeartbeatTimer(!1),k.stopHeartbeatTimer(!0)},(n=window).addEventListener?n.addEventListener(d,f,!1):n.attachEvent&&n.attachEvent("on"+d,f),P={}}}function Kr(e){var n,r,o=this;for(n in o.cfg=new d(a(e)||t),o.setConfiguration=o.cfg.setConfiguration,o.setConfigurations=o.cfg.setConfigurations,o.getConfiguration=o.cfg.getConfiguration,window._pac=window._pac||{privacy:[]},window._pac)Object.prototype.hasOwnProperty.call(window._pac,n)&&"privacy"!==n&&o.setConfiguration(n,window._pac[n]);this._storage=new Er(this),this._queue=new f(this),this._properties={},this._sendEvent=Yr,(e=this).setConfiguration("isLegacyPrivacy",!0),void 0===window.pdl?window.pdl={migration:{browserId:{source:"PA"}},cookies:{storageMode:"fixed"}}:(window.pdl.requireConsent&&e.setConfiguration("isLegacyPrivacy",!1),void 0===window.pdl.cookies?window.pdl.cookies={storageMode:"fixed"}:window.pdl.cookies&&void 0===window.pdl.cookies.storageMode&&(window.pdl.cookies.storageMode="fixed")),sr.init({cookieDefault:{domain:e.getConfiguration("cookieDomain"),secure:e.getConfiguration("cookieSecure"),path:e.getConfiguration("cookiePath"),samesite:e.getConfiguration("cookieSameSite")},cookies:{_pcid:{expires:e.getConfiguration("storageLifetimeVisitor")}}}),e.privacy=new Br(e),e.consent=new Hr(e),e._privacy=new qr(e),this.user=new Vr(this),Fr(this),r=(e=this).getConfiguration("queueVarName"),window[r]=window[r]||[],Ur(e,window[r],!0,r)}function Yr(e,t){for(var n=[Cr,Or,Ar,h,mr,kr,br,g,wr,Pr],r=0;r<e.length;r++){var o={name:"",data:{}};if("string"==typeof e[r])o.name=e[r];else{if(void 0!==e[r].data)continue;o.name=e[r].name}e[r]=o}var i;t={events:e,options:t},0<n.length&&"function"==typeof n[0]&&(i=new d(this.cfg.cloneData()),n[0](this,new p(this,t,i),n.slice(1)))}Kr.prototype.setProperty=function(e,t,n){this._privacy.call("isPropAllowed",e)&&(this._properties[e]={value:t,options:n||{}})},Kr.prototype.setProperties=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.setProperty(n,e[n],t)},Kr.prototype.deleteProperty=function(e){delete this._properties[e]},Kr.prototype.sendEvent=function(e,t,n){this._queue.push(["_sendEvent",[{name:e,data:t}],n])},Kr.prototype.sendEvents=function(e,t){this._queue.push(["_sendEvent",e,t])},Kr.prototype.getVisitorId=function(e){var t,n=this.getConfiguration("visitorId")||null;if(n=n||sr.get("browserId"),(t=e)&&t(n),void 0===e)return n},Kr.prototype.setVisitorId=function(e){this.setConfiguration("visitorId",e);var t=new Date;t.setTime(t.getTime()+24*this.getConfiguration("storageLifetimeVisitor")*60*60*1e3),this._privacy.call("setItem",this.getConfiguration("storageVisitor"),e,t,(function(){sr.updateMigration()}))},Kr.prototype.setUser=function(e,t,n){this.user.setUser(e,t,n)},Kr.prototype.getUser=function(e){this.user.getUser(e)},Kr.prototype.deleteUser=function(){this.user.deleteUser()},(Kr.prototype.PA=Kr).prototype.refresh=function(){null===this.getConfiguration("isManualPageRefresh")&&this.setConfiguration("isManualPageRefresh",!0),this.getConfiguration("isManualPageRefresh")&&sr.refresh()},Kr.prototype.setContentProperty=function(e,t){var n={};"content_publication_date"===e||"tags_array"===e?n[{content_publication_date:"createdAt",tags_array:"tags"}[e]]=t:n[e]=t,sr.set("content",n)},Kr.prototype.setContentProperties=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.setContentProperty(t,e[t])},Re=new Kr(t),window&&!window[Re.getConfiguration("globalVarName")]&&(window[Re.getConfiguration("globalVarName")]=Re),rn=Re,e.pianoAnalytics=rn,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,Ct.exports);var kt=Ct.exports;const Pt=(e,t,n,r,o,i,a)=>{let s="";if(n)switch(n.constructor){case Number:s=n===Number.POSITIVE_INFINITY?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":`; max-age=${n}`;break;case Date:s=`; expires=${n.toUTCString()}`;break;default:s=`; expires=${n}`}let c="; samesite=strict";return a&&"no_restriction"!==a.toString().toLowerCase()?"lax"===a.toString().toLowerCase()||1===Math.ceil(a)||!0===a?c="; samesite=lax":("none"===a.toString().toLowerCase()||a<0)&&(c="; samesite=none"):c="",`${encodeURIComponent(e)}=${encodeURIComponent(t)}${s}${o?`; domain=${o}`:""}${r?`; path=${r}`:""}${i?"; secure":""}${c}`},At=/[*+.-]/g,Ot=/^(?:expires|max-age|path|domain|secure|samesite|httponly)$/i,St={getItem:e=>e&&decodeURIComponent(document.cookie.replace(new RegExp(`(?:(?:^|.*;)\\s*${encodeURIComponent(e).replaceAll(At,"\\$&")}\\s*=\\s*([^;]*).*$)|^.*$`),"$1"))||void 0,setItem:(e,t,n,r,o,i,a)=>!(!e||Ot.test(e))&&(document.cookie=Pt(e,t,n,r,o,i,a),!0),removeItem(e,t,n,r,o){return!!this.hasItem(e)&&(document.cookie=Pt(e,"","Thu, 01 Jan 1970 00:00:00 GMT",t,n,r,o),!0)},hasItem:e=>!(!e||Ot.test(e))&&new RegExp(`(?:^|;\\s*)${encodeURIComponent(e).replaceAll(At,"\\$&")}\\s*\\=`).test(document.cookie),keys(){const e=document.cookie.replaceAll(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/);for(let t=e.length,n=0;n<t;n+=1)e[n]=decodeURIComponent(e[n]);return e},clear(e,t,n,r){for(let o=this.keys(),i=o.length,a=0;a<i;a+=1)this.removeItem(o[a],e,t,n,r)}};let xt={},Et=!1;window.didomiEventListeners=window.didomiEventListeners||[],window.didomiOnReady=window.didomiOnReady||[];const Dt=(e,t,n,r="consent")=>W("gdpr","GDPR",e,t,n,r),It=(e,t)=>{const n=window.Didomi;let r=!0;if(n&&"getUserStatus"in n){const o=n.getUserStatus();r=Boolean(o.purposes.global.enabled.includes(e)&&o.vendors.global.enabled.includes(t))}return r},Mt=()=>{const e=window.Didomi;return e&&"shouldConsentBeCollected"in e?!e.shouldConsentBeCollected():"ro"===R("site_locale")||j("error")||j("ia")||St.hasItem("cookies_consent")},Tt=()=>xt,Nt=(e,t)=>{!t||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus?Dt("updateTcfData","Unable to update TCF Data",{tcData:e,success:t},"error"):(xt=e,Dt("updateTcfData","Updated consent copy",{consent:xt}))},Lt=()=>{Ae((()=>{const e=window.Didomi;document.addEventListener("click",(t=>{t.target.matches('script[type="didomi/html"]')&&e?.notice.show()})),te("a.manage-consent").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e?.preferences.show()}))}))})),didomiEventListeners.push({event:"consent.changed",listener(){Ee("gdpr.onConsentChanged"),Dt("onConsentChanged","Consent change detected"),!Et&&Mt()&&(Ee("gdpr.onConsentAvailable"),Et=!0)}}),didomiOnReady.push((()=>{Ee("gdpr.onCmpReady"),Dt("onCmpReady","CMP successfully loaded"),Mt()&&(Ee("gdpr.onConsentAvailable"),Et=!0,Dt("onConsentAvailable","Consent already available for tags at CMP load"))})),"__tcfapi"in window?__tcfapi("addEventListener",2,Nt):Dt("init","TCF API not detected","","error")};Lt();var $t={init:Lt,localLog:Dt,canUse:It,consentAvailable:Mt,getConsent:Tt,updateTcfData:Nt};let Rt=0;const jt=[];let Ht=!1,Ut={},Bt={};const qt=()=>Rt>0,Vt=(e,t,n,r="")=>W("stats.piano","Analytics - Piano",e,t,n,r);let Ft=(()=>{let e=[];if("localStorage"in window)try{e=JSON.parse(window.localStorage.getItem("_tms_offlineQueue")||"[]")}catch{}return e})();const Kt=(e=[])=>("localStorage"in window&&window.localStorage.setItem("_tms_offlineQueue",JSON.stringify(e)),Ft=e,Ft),Yt=()=>{let e="francemediasmonde.com";const t=R("site_brand"),n=j("mirror");return"f24"===t||"obs"===t?e=n?"f24":"france24.com":t.includes("rfi")||"fle"===t?e=n?"rfi":"rfi.fr":"mcd"===t?e="mc-doualiya.com":"infomigrants"===t&&(e="infomigrants.net"),n?`${e}.global.ssl.fastly.net`:`wvvw.${e}`},Jt=e=>{let t=e;return"function"==typeof e?(t=e(),jt.push(((t,n)=>{const r=e();n.setConfiguration("site",r)}))):Array.isArray(e)&&(t=j("ppr")?e[0]:e[1]),t.toString()},Wt=()=>{let e="Desktop",t=1;return j("mobile")&&P(R("site_brand"),["f24","rfi","mcd","obs","fle"])&&(e="Site Mobile",t=2),{site_level2:e,site_level2_id:t}},zt=e=>""===e||void 0===e||"object"==typeof e&&0===e.length,Gt=()=>(Ut={marque:R("site_brand").replace("f24","france24"),perimetre_de_diffusion:R("site_context"),site_version:R("site_version"),tms_version:R("tms_version")},kt.pianoAnalytics.setProperties(Ut,{persistent:!0}),Vt("setSiteProperties","Updated site properties",{siteProperties:Ut,pianoAnalytics:kt.pianoAnalytics,pageHitCount:Rt}),Ut),Qt=()=>{const e={...Wt(),langue:R("site_locale").toUpperCase(),code_http_erreur:R("http_code")||200,adblock_actif:Ht?1:0},t=(()=>{let e=!1;return j("embed")?e="embed":j("ia")?e="instant-articles":j("pwa")?e="pwa-"+(j("offline")?"offline":"online"):j("mirror")&&(e="mirror"),e})();return t&&(e.type_representation=t),e.save_data=j("save_data"),e},Xt=()=>{Bt=Qt(),Bt.tags_array=[];const e=new Set(["supertag","tags_thema","tags_auteurs","niveau_langue"]),t={page:"page_name",page_chapter1:"cat1",page_chapter2:"cat2",page_chapter3:"cat3",url:"canonical",type_article:"main_media_type",titre_du_contenu:"content_title",type_de_contenu:"content_type",id_contenu:"content_id",supertag:["supertag","name",!0],id_supertag:["supertag","id",!0],emission:["show","name",!0],id_emission:["show","id",!0],emission_type:["show","genre",!1],tags_thema:["tags","name",!1],ids_tags_thema:["tags","id",!1],tags_auteurs:["authors","name",!1],ids_tags_auteurs:["authors","id",!1],niveau_langue:["language_level","name",!0],device_screen_orientation:"device_orientation"};Object.keys(t).forEach((n=>{const r=Array.isArray(t[n])?t[n][0]:t[n];let o=R(r);(n.startsWith("page")||"url"===n)&&(o=decodeURIComponent(o));const i=e.has(n);try{zt(o)||(Array.isArray(t[n])?("name"===t[n][1]&&"string"==typeof o?Bt[n]=o.trim().split(/\s*,\s*/):t[n][2]?Bt[n]=o[t[n][1]][0]:Bt[n]=o[t[n][1]],i&&(Array.isArray(Bt[n])?Bt.tags_array.push(...Bt[n]):Bt.tags_array.push(Bt[n]))):(Bt[n]=o,i&&Bt.tags_array.push(Bt[n])))}catch(e){Vt("setPageProperties",`${n} failed`,{e:e},"error")}}));let n=R("publication_date");if(!zt(n)){n=n.replaceAll(/[_-]*/gi,"");const e=R("publication_time");Bt["d:date_de_publication"]=`${n.slice(0,4)}-${n.slice(4,6)}-${n.slice(6,8)}T${""===e?"00:00":e}${8===e.length?"":":00"}Z`}if(j("brand_content")){const e=R("brand_content");Bt.bc_advertiser=e.name,Bt.bc_advertiser_id=e.id}kt.pianoAnalytics.setProperties(Bt,{persistent:!1});const r={title:Bt.titre_du_contenu,description:ge("name","description")||"",keywords:Bt.tags_thema,authors:Bt.tags_auteurs,type:Bt.type_de_contenu};return kt.pianoAnalytics.setContentProperties(r),Object.keys(r).forEach((e=>{Bt[`content_${e}`]=r[e]})),Vt("setPageProperties","Updated page properties",{pageProperties:Bt,contentProperties:r,siteProperties:Ut,pianoAnalytics:kt.pianoAnalytics,pageHitCount:Rt}),Bt},Zt=e=>{const t=e?.httpCode||404,n=new URL(e?.url||document.location.href),r="erreur",o={page:decodeURIComponent(n.pathname.replaceAll(/[./_-]+/g,"-").slice(1)),page_chapter1:r,page_chapter2:`erreur.${t}`,titre_du_contenu:e?.httpError||"Not Found",page_title_html:e?.httpError||"Not Found",type_article:r,type_de_contenu:r,id_contenu:`erreur.${t}`,http_code:t,url:decodeURIComponent(n.href.replace(/(\?.*)?(#.*)?$/,"")),event_url_full:n.href,previous_url:e?.referrer||R("canonical"),supertag:r,tags_array:[],tags_auteurs:[],tags_thema:[],ajax:!0},i={title:o.titre_du_contenu,description:"",keywords:[],authors:[],type:o.type_de_contenu};return kt.pianoAnalytics.setContentProperties(i),o},en=(e,t={})=>({onBeforeBuild:(e,t,n)=>{jt.forEach((n=>n(e,t))),n()},onBeforeSend:(n,r,o)=>{const i={},a=r.properties;Object.keys(a).forEach((e=>{i[e]=a[e].value}));const s={name:e,data:{...t,...i}};if(j("offline")&&"online"!==e){const e=[...Ft,{...s}];Kt(e),Vt("genericHit","Added 1 event to offline queue as browser is offline",{eventToSend:s,offlineQueue:Ft,model:r,PianoAnalytics:n,pageHitCount:Rt})}else"online"===e||Vt("genericHit",`Sent 1 ${e} event to Piano`,{eventToSend:s,model:r,PianoAnalytics:n,pageHitCount:Rt}),o()}}),tn=(e="",t={},n=!1)=>{zt(Ut)&&(Ut=Gt()),n||(Bt=Xt()),kt.pianoAnalytics.sendEvent(e,t,en(e,t))},nn=e=>{j("offline")||(kt.pianoAnalytics.sendEvents(Ft,en("online")),Vt("backOnlineHit",e?"No offline event found in storage":`Sent ${Ft.length} event${Ft.length>1?"s":""} to Piano as ${e?"page loaded":"browser went back online"}`,{offlineQueue:Ft,pianoAnalytics:kt.pianoAnalytics,pageHitCount:Rt}),Kt([]))},rn=()=>{tn("page.display",{...Ut,...Bt,ajax:qt()}),Rt+=1,1===Rt&&Ee("piano.firstPageHit")},on=e=>{tn("page.display",{...Ut,...Qt(),...Zt(e)},!0)},an=(e=!1)=>{const t=Mt()||e;let n=bt;t&&It("measure_content_performance","c:at-internet")&&It("cookies","c:at-internet")&&(n="opt-in"),kt.pianoAnalytics.consent.setMode(n),Vt("setConsent","Updated tracker privacy settings",{pianoMode:n,pdl:window.pdl,pianoAnalytics:kt.pianoAnalytics,pageHitCount:Rt},"consent"),Rt>0&&rn()},sn=e=>{const t=ue("div","&nbsp;",{class:"adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"});oe(t,document.body),t?window.setTimeout((()=>{try{Ht=0===t.offsetHeight,document.body.dataset.adblockActive=Ht,ce(t),Vt("runAdblockerTest","Ad Blocker test",{result:Ht,callback:e}),e()}catch(t){Vt("runAdblockerTest","Failed Ad Blocker detection",{error:t,callback:e},"error"),e()}}),100):(Vt("runAdblockerTest","Failed creation of Ad Blocker detector",{callback:e},"error"),e())},cn=()=>{an(),Gt(),nn(!0),rn(),tt((()=>nn(!1))),Re((()=>rn())),Le(((...e)=>on(e[1])))},un=(e,t)=>{const n={site:Jt(e),collectDomain:`https://${Yt()}`,path:(j("mirror")?"wvvw_/":"")+"bon.jour",addEventURL:"true",campaignPrefix:["utm_","at_"],cookieDomain:((e,t)=>{const n=window.location.host.split(".").reverse();return"."+n[1]+"."+n[0]})(),cookieSecure:document.location.protocol.includes("s")};kt.pianoAnalytics.setConfigurations(n),Vt("init","Init - SDK loaded and configuration set",{pianoConfig:n,pianoAnalytics:kt.pianoAnalytics}),Object.keys(t).forEach((e=>t[e].load({setConsent:an,genericHit:tn,hitPage:rn,setPageProperties:Xt,beforeBuildCallback:en,hasFirstPageHitRun:qt}))),sn((()=>{Mt()?cn():ze((()=>{cn()}),"piano")}))},ln=(e,t)=>{Ae((()=>un(e,t))),Ge((()=>an()))};var dn={load:ln,localLog:Vt,hasFirstPageHitRun:qt,updateOfflineQueue:Kt,setSiteProperties:Gt,setPageProperties:Xt,genericHit:tn,backOnlineHit:nn,hitPage:rn,runAdblockerTest:sn,init:un};const fn="Scroll";let pn;const vn=(e,t,n,r="")=>W("stats.piano.scroll","Analytics - Piano - Scroll",e,t,n,r),gn=e=>{const t=e.parentNode;return Number.parseInt((e.scrollTop||t.scrollTop)/(t.scrollHeight-t.clientHeight)*100,10)},mn=e=>{const t=gn(document.body);pn("page.scroll",{page_offsety_pct:t}),vn("triggerHit","Event triggered",{event:e,pageOffsetY:t})},hn=e=>{pn=e.genericHit,rt((e=>mn(e))),vn("init")};var _n={name:fn,load:hn,getVerticalScrollPercentage:gn,triggerHit:mn};let yn="";window._sf_async_config=window._sf_async_config||{},window._cbv=window._cbv||[],window._cbq=window._cbq||[];const bn=(e,t,n,r="")=>W("stats.chartbeat","Analytics - Chartbeat",e,t,n,r),wn=()=>{const e=R("site_brand"),t=R("site_locale");let n=!1;switch(e){case"obs":n=`${t}.observers.france24.com`;break;case"f24":n=`${t}.france24.com`;break;case"rfi":n=`${t}.rfi.fr`,"ro"===t&&(n="rfi.ro");break;case"fle":n=`${t}.francaisfacile.rfi.fr`;break;case"rfi-musique":n="musique.rfi.fr";break;case"mcd":n="mc-doualiya.com";break;case"infomigrants":n=`${t}.infomigrants.net`}return n&&j("ppr")&&(n=`rec.${n}`),n},Cn=(e="tags")=>{let t=[];if(!zt(e)){const n=R(e);"object"==typeof n&&void 0!==R(e).name?t=R(e).name:"string"==typeof n&&(t=R(e).split(/[\s_]*,[\s_]*/))}if("tags"===e&&(P(R("content_type"),["article","edition","depeche"])||j("graphics"))){const e=R("cat1"),n=R("cat2");""!==e&&t.unshift(e),""!==n&&t.unshift(n)}return t.join(",")},kn=()=>{const e=!It("cookies","c:chartbeat");_sf_async_config.noCookies=e,bn("fire","Updated consent",{noCookieMode:e},"consent")},Pn=()=>{kn();const e={path:R("canonical").replace(/https?:\/\/(.*)(\?(.*))?(#(.*))?$/,"$1"),virtualReferrer:yn,title:document.title,type:R("content_type"),sections:Cn("tags"),authors:Cn("authors")};return bn("fire","Hit - Page",{domain:wn(),eventData:e}),window.pSUPERFLY.virtualPage(e),yn=e.path,e},An=()=>{const e=wn(),t=R("site_brand");if(e){bn("init"),_sf_async_config.uid=65811,_sf_async_config.domain=e,"f24"===t&&(_sf_async_config.playerdomain=(j("ppr")?"rec.":"")+"embed.france24.com"),_sf_async_config.path=R("canonical").replace(/https?:\/\/(.*)(\?(.*))?(#(.*))?$/,"$1"),_sf_async_config.virtualReferrer=document.referrer,_sf_async_config.title=document.title,_sf_async_config.type=R("content_type"),_sf_async_config.sections=Cn("tags"),_sf_async_config.authors=Cn("authors"),_cbq.push(["_acct","anon"]),yn=_sf_async_config.path,kn();let n="chartbeat";j("ia")?n+="_fia":["f24","rfi","mcd","obs"].includes(t)&&(_cbv.push(["autoDetectYouTubeIframes"]),Fe(((e,t)=>{"video_player.state.ready"===e&&/youtube/i.test(t.videoType)&&(_cbv.push(t.player),bn("init","Referenced YouTube Player",{_cbv:_cbv,state:e,player:t}))})),n+="_video"),le(`https://static.chartbeat.com/js/${n}.js`,{id:"chartbeat-script",async:""},(()=>{Re(Pn),bn("init","SDK loaded",{chartbeatFile:n,_sf_async_config:_sf_async_config})}))}},On=()=>{Ge((()=>kn)),Ae((()=>{et((()=>{Mt()?An():ze((()=>An()),"chartbeat")}))}))};var Sn={load:On,localLog:bn,domain:wn,currentPath:yn,updateTrackerPrivacy:kn,fire:Pn,init:An};const xn="1547077195584530",En=!0,Dn=(e,t,n,r="")=>W("marketing.pixels.fbPixel","Marketing - Pixels - Facebook Pixel",e,t,n,r),In=()=>It("cookies","c:facebook")&&It("create_ads_profile","c:facebook")&&It("measure_ad_performance","c:facebook"),Mn=()=>{if(In())if(fbq("track","PageView"),Dn("fire","Hit - PageView",{fbq:fbq}),P(R("content_type"),["homepage","section","tag","emission","dossier"])){if("recherche"===R("content_type")){const e=R("page_name").replace("recherche.","");fbq("track","Search",{search_string:e}),Dn("fire","Hit - Search",{fbq:fbq,searchString:e})}}else{const e={content_ids:[R("content_id")],content_portal:`${R("site_brand")}_${R("site_locale")}${j("ppr")?"_rec":""}`,content_category:R("cat1"),content_title:R("page_name"),content_type:"product"};fbq("track","ViewContent",e),Dn("fire","Hit - ViewContent",{fbq:fbq,metaData:e})}else Dn("fire","prevented")},Tn=()=>{if("1"===(t().dfbp||"0"))Dn("init","Disabled because of QS");else if(In()){if(window.fbq)return;const e=function e(...t){return e.callMethod?e.callMethod(...t):e.queue.push(...t)};window.fbq=e,window._fbq||(window._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],le("https://connect.facebook.net/en_US/fbevents.js",{id:"fbPixel-script",async:""},(()=>{fbq.agent=`fov-${R("site_brand")}`,fbq("set","autoConfig",En,xn),fbq("init",xn),Dn("init"),Mn(),Re((()=>Mn()))}))}else Dn("init","prevented")},Nn=()=>{Ae((()=>{et((()=>{Mt()?Tn():ze((()=>Tn()),"fbPixel")}))}))};var Ln={load:Nn,localLog:Dn,id:xn,autoConfig:En,checkConsent:In,init:Tn,fire:Mn};const $n="p-UA2LVRcV0GQAR",Rn=()=>`${R("site_brand")}_${R("site_locale")}`,jn=(e,t,n,r="")=>W("marketing.pixels.quantcast","Marketing - Pixels - Quantcast Pixel",e,t,n,r),Hn=()=>It("cookies",11)&&It("create_ads_profile",11)&&It("measure_ad_performance",11),Un=e=>{if(Hn()){const t={qacct:$n,labels:Rn()};e||(t.event="refresh"),window._qevents.push(t),jn("fire","Hit - Page",t)}else jn("fire","prevented")},Bn=()=>{Hn()?(window._qevents=window._qevents||[],le("https://secure.quantserve.com/quant.js",{id:"quantcast-script",async:""},(()=>{jn("init"),Un(!0),Re((()=>Un(!1)))}))):jn("init","prevented")},qn=()=>{Ae((()=>{et((()=>{Mt()?Bn():ze((()=>Bn()),"quantcast")}))}))};var Vn={load:qn,localLog:jn,id:$n,checkConsent:Hn,label:Rn,fire:Un,init:Bn};const Fn=(e={},t={})=>{Ln.load(),Vn.load(),Object.keys(e).forEach((n=>e[n].load(n in t?t[n]:{})))};var Kn={load:Fn,fbPixel:Ln,quantcast:Vn};const Yn="00518f0950dd1d41ab61ec38c907920b17",Jn=(e,t,n,r="")=>W("marketing.pixels.obPixel","Marketing - Pixels - Outbrain Pixel",e,t,n,r),Wn=()=>It("cookies",164)&&It("create_ads_profile",164)&&It("measure_ad_performance",164),zn=()=>{Wn()?(window.obApi("track","PAGE_VIEW"),Jn("fire","Hit - Page")):Jn("fire","prevented")},Gn=()=>{if(Wn()){if(window.obApi){const e=e=>"[object Array]"===Object.prototype.toString.call(e)?e:[e];return void(window.obApi.marketerId=[...e(window.obApi.marketerId),...e(Yn)])}const e=()=>"dispatch"in window.obApi?window.obApi.dispatch(...arguments):window.obApi.queue.push(arguments);e.version="1.1",e.loaded=!0,e.marketerId=Yn,e.queue=[],window.obApi=e,le("https://amplify.outbrain.com/cp/obtp.js",{id:"outbrain-pixel-script",async:""},(()=>{Jn("init"),zn(),Re((()=>zn()))}))}else Jn("init","prevented")},Qn=()=>{Ae((()=>{et((()=>{Mt()?Gn():ze((()=>Gn()),"obPixel")}))}))};var Xn={load:Qn,localLog:Jn,id:Yn,checkConsent:Wn,fire:zn,init:Gn};const Zn={},er=e=>{const n=t().fa||"0",r=t().da||"0";let o=St.getItem("broadcast_da");return"1"!==n&&(!!("post-article"===e&&P("week-in-review",R("tags").name_slug||[])||j("brand_content")&&P(e,["post-article","yt-related"])||j("embedded_graphics"))||("0"!==r&&o!==r&&(St.setItem("broadcast_da",r,999999999,"/",((e,t)=>{const n=window.location.host.split(".").reverse();return"."+n[1]+"."+n[0]})()),o="1"),"1"===o))},tr=(e,n=[0,100],r=!1,o=!1)=>{let i=!1,a="normal",s=Math.floor(100*Math.random());const c=t();return r&&St.hasItem(`_tms_ab_${e}`)&&!o&&(a="cookie",s=Number.parseInt(St.getItem(`_tms_ab_${e}`),10)),e in Zn&&!o?(a="cache",s=Zn[e]):`force_${e}`in c&&"1"===c[`force_${e}`]&&(a="url",s=(n[0]+n[1])/2),s>n[0]&&s<=n[1]&&(Zn[e]=s,i=!0),r&&"url"!==a&&St.setItem(`_tms_ab_${e}`,s,604800,"/"),J("abtest.tms.context.abTestResult",`A/B test - ${e} - CAN${i?"":"NOT"} RUN`,{canRun:i,reason:a,drawRandom:s,limits:n,storeInCookie:r}),i};var nr={adBlacklisted:er,abTestResult:tr,check:j};ut(yt),z(!0),Re((()=>z(!1)));const rr={pianoScroll:_n},or={obPixel:Xn};dn.load([588355,588347],rr),Sn.load(),Kn.load(or);const ir={stats:{piano:{...dn,...rr},chartbeat:Sn},marketing:{pixels:{...Kn,...or}}};return e.context=nr,e.cookies=St,e.data=lt,e.dom=me,e.event=at,e.gdpr=$t,e.is=j,e.log=J,e.str=E,e.tags=ir,e.var=R,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
