(self._cf=self._cf||[]).push([[94854,25703,52863],{448614:861685:552435:(e,t,n)=>{"use strict";n.d(t,{G7:()=>a,KY:()=>l,_4:()=>c,st:()=>o});const a=e=>{var t;return!!e&&(null===(t=e.graphQLErrors)||void 0===t?void 0:t.every(r))},r=s=["getFeedUserConfig","spaces"],o=e=>{var t;return s.every((t=>{var n;return null===(n=e.path)||void 0===n?void 0:n.includes(t)}))&&(null===(t=e.message)||void 0===t?void 0:t.includes("Cannot find space with id:"))},l=e=>{var t;return s.every((t=>{var n;return null===(n=e.path)||void 0===n?void 0:n.includes(t)}))&&(null===(t=e.message)||void 0===t?void 0:t.includes("Not permitted to view space with id:"))},i=["getFeedUserConfig","users"],c=e=>{var t;return i.every((t=>{var n;return null===(n=e.path)||void 0===n?void 0:n.includes(t)}))&&(null===(t=e.message)||void 0===t?void 0:t.includes("User not permitted to access Confluence"))}},627542:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var a=n(840506);const r=(e,t,n=1)=>{const r=(0,a.useRef)(),s=(0,a.useRef)(!1);(0,a.useEffect)((()=>{const a=return r.current=new IntersectionObserver((e=>{!s.current&&e[0].isIntersecting&&(t(),s.current=!0,a())}),{threshold:n}),e.current&&r.current.observe(e.current),a}),[t,e,n])}},133494:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var a=n(840506),r=n(147760),s=n(54685),o=n(9019);const l=(0,s.m)({attribution:o.x.BACKBONE})((({name:e})=>{const t=r.n.getPageLoadMetric();return(0,a.useEffect)((,[t,e]),null}))},483073:(e,t,n)=>{"use strict";n.d(t,{n:()=>E,w:()=>h});var a=n(872342),r=n(615919),s=n(199009),o=n(840506),l=n(142807),i=n(328167),c=n(315884),d=n(317979),u=n(451426),m=n(883458),p=n(806940),f=n(804358);function v({canShowUpgradeButton:e,children:t,isSiteAdmin:n,secondaryLink:a}){let r=!1,s=!0,o=!0;return e&&(n&&(r=!0),r&&(s=!a,o=!1)),t({showUpgradeTryNowButton:r,showLearnMore:s,learnMoreIsPrimaryCTA:o})}var g=n(630327);const y=["isSiteAdmin","targetEdition"];let h=function(e){return e.DEFAULT="default",e.UPGRADE_ONLY="upgradeOnly",e.NONE="none",e}({});class b extends o.Component{constructor(...e){super(...e),(0,s.Z)(this,"generateCTAAnalyticsProps",(e=>{const{grandfathered:t,isSiteAdmin:n,source:a,pageRestrictionsExperimentCohort:s}=this.props;return{actionSubjectId:e,source:a,attributes:(0,r.Z)({isGrandfathered:Boolean(t),isSiteAdmin:n},s&&"none"!==s&&{ccPageRestrictionsCohort:s})}})),(0,s.Z)(this,"triggerLinkClickAnalytics",((e,t)=>{const{createAnalyticsEvent:n}=this.props;if(n){const{actionSubjectId:a,attributes:s,source:o}=this.generateCTAAnalyticsProps(e);n({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:a,source:o,attributes:(0,r.Z)((0,r.Z)({},s),{},{linkMessage:t})}}).fire()}})),(0,s.Z)(this,"handleSecondaryLinkClick",(()=>{const e=this.props.secondaryLink;e&&(this.triggerLinkClickAnalytics(e.actionSubjectId,e.messageDescriptor.defaultMessage),"function"==typeof e.onClick&&e.onClick())}))}componentDidMount(){const{createAnalyticsEvent:e}=this.props;if(e){const{attributes:t,source:n}=this.generateCTAAnalyticsProps("");e({type:"sendScreenEvent",data:{name:"changeEditionGatewayScreen",attributes:(0,r.Z)((0,r.Z)({},t),{},{source:n})}}).fire()}}renderButtons(){const{isSiteAdmin:e,canShowUpgradeButton:t,buttonConfig:n,upgradeEditionActionSubjectId:a,secondaryLink:s,onUpFlowOpen:c,targetEdition:d,learnMoreLink:p}=this.props,g=(e,t)=>{const n=Boolean(null==p?void 0:p.icon)||t?(null==p?void 0:p.appearance)||"default":"link",a=e?o.createElement(u.v,{key:"learnMore",analyticsProps:this.generateCTAAnalyticsProps((null==p?void 0:p.actionSubjectId)||"freeLearnMore"),appearance:n,onUpFlowOpen:c,targetEdition:d,inProductHelpId:null==p?void 0:p.inProductHelpId,inProductHelpTopic:null==p?void 0:p.inProductHelpTopic,href:null==p?void 0:p.href,icon:null==p?void 0:p.icon,onClick:null==p?void 0:p.onClick,ariaLabel:null==p?void 0:p.ariaLabel},null!=p&&p.messageDescriptor?o.createElement(l.Z,(0,r.Z)({},p.messageDescriptor)):null):null,m=s?o.createElement(i.Z,{key:"secondLink",appearance:s.appearance||"default",href:s.href?s.href:void 0,id:"secondaryLink",spacing:"default",target:s.target||"_blank",onClick:this.handleSecondaryLinkClick,testId:(0,f.J)({source:this.props.source,actionSubjectId:s.actionSubjectId})},o.createElement(l.Z,(0,r.Z)({},s.messageDescriptor))):null;return"primary"===(null==s?void 0:s.appearance)&&"primary"!==n?[m,a]:[a,m]};return o.createElement(v,{isSiteAdmin:e,canShowUpgradeButton:t,secondaryLink:s},(({showUpgradeTryNowButton:t,showLearnMore:s,learnMoreIsPrimaryCTA:l})=>o.createElement(o.Fragment,null,t?o.createElement(m.j,(0,r.Z)({analyticsProps:this.generateCTAAnalyticsProps(a),onUpFlowOpen:c,targetEdition:d},this.props)):null,n===h.UPGRADE_ONLY&&e?null:g(s,l))))}renderFooter(){const{footer:e}=this.props;return e?o.createElement(o.Fragment,null,e):null}render(){const e=this.props,{isSiteAdmin:t,targetEdition:n}=e,s=(0,a.Z)(e,y);return o.createElement(g.m,(0,r.Z)({actions:this.props.buttonConfig!==h.NONE?o.createElement(c.Z,null,this.renderButtons()):void 0,edition:n,footer:t?this.renderFooter():null},s))}}b.displayName="ChangeEditionSectionMessageComponent",(0,s.Z)(b,"defaultProps",{canShowUpgradeButton:!0,buttonConfig:h.DEFAULT,upgradeEditionActionSubjectId:"freeTryNow"});const E=(0,d.y)((0,p.Fz)(b))},806940:(e,t,n)=>{"use strict";n.d(t,{Fz:()=>d,ng:()=>c});var a=n(615919),r=n(840506),s=n(486889);const o=(0,r.createContext)(void 0),l=()=>{const e=(0,r.useContext)(o),{createAnalyticsEvent:t}=(0,s._)();return{createAnalyticsEvent:(0,r.useCallback)((n=>{return t((r=n,s=e,(0,a.Z)((0,a.Z)({},r),{},{data:(0,a.Z)((0,a.Z)({},r.data),{},{attributes:(0,a.Z)((0,a.Z)({},r.data.attributes),null==s?void 0:s.customAttributes)})})));var r,s}),[t,e])}},i={},c=({children:e,customAttributes:t=i})=>{const n=(0,r.useMemo)((()=>({customAttributes:t})),[t]);return r.createElement(o.Provider,{value:n},e)};c.displayName="AnalyticsProvider";const d=e=>t=>{const n=l();return r.createElement(e,(0,a.Z)((0,a.Z)({},t),{},{createAnalyticsEvent:n.createAnalyticsEvent}))}},606049:(e,t,n)=>{"use strict";n.d(t,{z:()=>p});var a=n(615919),r=n(872342),s=n(840506),o=n(920839),l=n(767001),i=n(555687),c=n(558877),d=n(486889);const u=["as","style"];n(321603),n(267477);const m=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,c=(0,r.Z)(e,u);return s.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_wl5acp":(0,o.Z)("var(--ds-space-025, 3px)")}),ref:t,className:(0,l.Z)(["_1wpz1q9y _19pk1ych",c.className])}))}));const p=({onDismiss:e,source:t,actionSubjectId:n,attributes:r,wrapper:o,buttonProps:l,iconProps:u})=>{const{createAnalyticsEvent:p}=(0,d._)(),f=o||m;return s.createElement(f,null,s.createElement(i.Z,(0,a.Z)({onClick:()=>{p({type:"sendUIEvent",data:{source:t,action:"clicked",actionSubject:"button",actionSubjectId:n||"dismissUpsell",attributes:r}}).fire(),null==e||e()},appearance:"subtle-link",spacing:"none",iconBefore:s.createElement(c.default,(0,a.Z)({size:"small",label:""},u))},l)))};p.displayName="DismissUpsellButton"},381233:(e,t,n)=>{"use strict";n.d(t,{P:()=>f});var a=n(615919),r=n(872342),s=n(840506),o=n(920839),l=n(767001),i=n(603450),c=n(483073);const d=["children","withGradient"],u=["as","style"],m=["as","style"],p=["withGradient"];n(312379),n(586299),n(115957),n(40592),n(520700),n(319385),n(137909),n(593940),n(983237),n(416473),n(354326),n(626558),n(674255),n(412182);const f=e=>{let{children:t,withGradient:n=!0}=e,o=(0,r.Z)(e,d);return s.createElement(y,{withGradient:n,"data-testid":"section-message"},!!t&&s.createElement(v,null,t),s.createElement(c.n,(0,a.Z)((0,a.Z)({},o),{},{withTasteAndToneStyling:!0})))};f.displayName="SectionMessage";const v=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,c=(0,r.Z)(e,u);return s.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_153arrb":(0,o.Z)("var(--ds-space-300, 24px)")}),ref:t,className:(0,l.Z)(["_2hwx100u _p12f68cl _1ul968cl",c.className])}))}));const g=`linear-gradient(84.09deg,\n  ${i.rb} 0%,\n  ${i.CC} 100%)`,y=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,c=(0,r.Z)(e,m);const{withGradient:d}=c,u=(0,r.Z)(c,p);return s.createElement(n,(0,a.Z)((0,a.Z)({},u),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1p4ue13":(0,o.Z)(g),"--_1g2og9c":(0,o.Z)("var(--ds-space-200, 16px)"),"--_153arrb":(0,o.Z)("var(--ds-space-300, 24px)"),"--_1ll5ey9":(0,o.Z)("var(--ds-border-radius-100, 4px)")}),ref:t,className:(0,l.Z)(["_1e0c1txw _19pkidpf _2hwx1wug _otyridpf _18u01wug _1yt419gb _1bsb1osq _vchhusvi _2rkosfj2",c.withGradient?"_11q7hu7i":"_11q7glyw",c.className])}))}))},684474:(e,t,n)=>{"use strict";n.d(t,{I:()=>c,j:()=>i});var a=n(840506),r=n(167347),s=n(734233),o=n(477958),l=n(827685);const i=(0,a.createContext)({isReactionsEnabled:!1});i.displayName="ReactionsContext";const c=({contentId:e,children:t})=>{const{location:n}=(0,a.useContext)(s.M),c=-1!==(null==n?void 0:n.pathname.indexOf("/wiki/pdf/")),{data:d}=(0,r.aM)(l.f,{variables:{contentId:e,location:o.SB},fetchPolicy:"cache-first",skip:c}),u=(0,a.useMemo)((()=>({isReactionsEnabled:!c&&d&&d.webPanels&&d.webPanels.length>0})),[d,c]);return a.createElement(i.Provider,{value:u},t)};c.displayName="ReactionsProvider"},695235:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>evalLegacyConnectInlineScripts});var _confluence_wrm__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(166258);function evalLegacyConnectInlineScripts(container){return container?new Promise((resolve=>{const connectScripts=Array.from(container.querySelectorAll("script.ap-iframe-body-script")),macroScripts=Array.from(container.querySelectorAll("script.cc-macro-body-script")),allScripts=connectScripts.concat(macroScripts);allScripts.length>0?(0,_confluence_wrm__WEBPACK_IMPORTED_MODULE_0__.N)(["wr!confluence.web.resources:querystring","wr!confluence.web.resources:navigator-context","wr!com.atlassian.plugins.atlassian-connect-plugin:confluence-atlassian-connect-resources-v5"],(()=>{allScripts.forEach((),resolve(null)}),():resolve(null)})):Promise.reject(new Error("evalLegacyConnectInlineScripts missing container argument"))}},386188:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var a=n(779076),r=n(505173);const s=a.ZP`query ContentBlogUnifiedQuery($contentId:ID!$spaceKey:String=null$versionOverride:Int$isSSR:Boolean=false)@SLA{content(id:$contentId version:$versionOverride){nodes{id type subType title space{id key}version{confRev}properties(keys:["cover-picture-id-published" "editor"]){nodes{id key value version{number}}}metadata{lastModifiedDate frontend{fabricEditorSupported macroNamesNotSpaFriendly spaFriendly embedUrl}}macroRenderedOutput@include(if:$isSSR){key value{value representation webresource{tags{js css}}}}body{dynamic{representation value webresource{superbatch{tags{js css}}tags{js css}}}}...contentAppearancePublishedFragment}}space(key:$spaceKey){id theme{name themeKey}lookAndFeel{content{screen{background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode layer{background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode width height}gutterTop gutterRight gutterBottom gutterLeft}container{background backgroundColor backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundOrigin backgroundClip backgroundAttachment backgroundBlendMode padding borderRadius}}}settings{routeOverrideEnabled}}}${r.O}`},608151:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var a=n(615919),r=n(840506),s=n(266306);const o=e=>{const{CreateSpaceButton:t}=(0,s._)({buttonProps:e});return r.createElement(r.Fragment,null,r.createElement(t,(0,a.Z)({},e)))};o.displayName="CreateSpace"},142578:(e,t,n)=>{"use strict";n.d(t,{Tn:()=>c,Uh:()=>l,ac:()=>d});var a=n(691633);const r=/<script([^>]*)\/*>/gi,s=(0,a.Z)(/^(["']*)(.*?)\1$/,{value:2}),o=/\s+/;function l(e,t=!1){if(t)return Array.isArray(e)?e.map(():[];if("string"!=typeof e)return[];const n=[];for(const[,a]of e.matchAll(r))n.push(Object.fromEntries(a.split(o).filter((e=>e)).map((e=>{const t=e.indexOf("=");if(-1!==t){var n,a;const r=e.substring(0,t),o=e.substring(t+1),l=o.match(s);return[r,null!==(n=null==l||null===(a=l.groups)||void 0===a?void 0:a.value)&&void 0!==n?n:o]}return[e,e]}))));return n}function i(e){const t=Object.entries(e).map((([e,t])=>t&&e!==t?`${e}="${t}"`:e)).join(" ");return t?` ${t}`:""}function c(e){return l(e).filter(().map(().join("\n")}function d(e){return l(e).map((e=>(e.defer="defer",`<script${i(e)}><\/script>`))).join("")}},904042:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});const a=(0,n(93972).defineMessages)({resultLastModifiedContent:{id:"entity-view.content.lastmodified",defaultMessage:"Updated"},resultLastModifiedAttachment:{id:"entity-view.attachment.lastmodified",defaultMessage:"Uploaded"},contentDraft:{id:"entity-view.content.draft",defaultMessage:"Draft"},contentArchived:{id:"entity-view.content.archived",defaultMessage:"Archived"},contentUnpublished:{id:"entity-view.content.unpublishes",defaultMessage:"Unpublished changes"},contentUntitled:{id:"entity-view.content.untitled",defaultMessage:"Untitled"},spaceArchived:{id:"entity-view.content.spaceArchived",defaultMessage:"archived"},spaceStarred:{id:"entity-view.content.spaceStarred",defaultMessage:"starred"},contentScheduled:{id:"entity-view.content.scheduled",defaultMessage:"Publish scheduled"}})},680118:(e,t,n)=>{"use strict";n.d(t,{G7:()=>a,UG:()=>o,eF:()=>s,fB:()=>i,sx:()=>l});const a=e=>{var t;return!!e&&(null===(t=e.graphQLErrors)||void 0===t?void 0:t.every(r))},r=s=e=>{var t;return null===(t=e.message)||void 0===t?void 0:t.includes("Space not found")},o=e=>{var t;return null===(t=e.message)||void 0===t?void 0:t.includes("Cannot find space with id:")},l=e=>{var t;return null===(t=e.message)||void 0===t?void 0:t.includes("Not permitted to view space with id:")},i=,570533:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,g:()=>s});var a=n(837879);const r=e=>{const t=new Set(e);return(e,n)=>{n.stopOn(e.find((e=>t.has(e.name)&&("taskFail"===e.action||"taskAbort"===e.action))),{incompleteSubExperiences:[...t].join(", ")}),e.forEach((),0===t.size&&n.succeed()}},s=e=>(t,n)=>n.stopOn(t.find((t=>(0,a.K)(t)&&(0,a.T)(t,...e))))},152853:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var a=n(840506),r=n(190206);function s({name:e,error:t,attributes:n}){const s=(0,a.useContext)(r.F);return(0,a.useEffect)((,[s,e,t,n]),null}},389100:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LockScreen:()=>De});var a=n(615919),r=n(840506),s=n(621130),o=n(582463),l=n(116390),i=n(782242),c=n(93972),d=n(142807),u=n(555687),m=n(219035),p=n(435460),f=n(471654),v=n(85278),g=n(16728),y=n(784569),h=n(856389);const b=n.p+"zSUa0mTPcl.svg",E=n.p+"b4hV5gelxf.svg";var Z=n(901958),k=n(872342),w=n(767001),_=n(920839);const x=n.p+"fZxaleT8Q_.svg",C=n.p+"l0fLsn9HoA.svg",S=n.p+"IJeJZXJ-hl.svg",I=n.p+"rQxxetHpIt.svg",M=n.p+"WtG9XYRvmC.svg",T=n.p+"OzcyfzGDlc.svg",N=["as","style"],A=["as","style"],R=["isDarkMode"],L=["as","style"],P=["as","style"],D=["as","style"],F=["as","style"],O=["as","style"],U=["as","style"],$=["as","style"],j=["as","style"],z=["as","style"],H=["as","style"],q=["as","style"],B=["as","style"],W=["as","style"],V=["as","style"],G=["as","style"],K=["as","style"],Q=["as","style"];n(682660),n(698297),n(410258),n(718952),n(689100),n(280831),n(456928),n(764194),n(94974),n(523254),n(991532),n(868964),n(370306),n(593940),n(416473),n(278332),n(979586),n(499210),n(160494),n(138209),n(137909),n(405035),n(983237),n(294805),n(890624),n(144961),n(66777),n(413076),n(312059),n(725522),n(374396),n(616365),n(663035),n(117806),n(408322),n(583068),n(32970),n(837389),n(837072),n(655228),n(711907),n(975962),n(520700),n(614192),n(928052),n(374540),n(92437),n(719692),n(995395),n(10824),n(941139),n(287898),n(194155),n(846044),n(733848),n(29694),n(470259),n(493290),n(326383),n(101033),n(937604),n(492989),n(841468),n(319272),n(93041),n(629018),n(932232),n(357290),n(354326),n(4558);const X=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,N);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:s,ref:t,className:(0,w.Z)(["_kqsw1n9t _1e0c1txw _2lx21bp4 _1bsbauwl _4t3i1kxc _1r04idpf",o.className])}))}));const Y=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,A);const{isDarkMode:l}=o,i=(0,k.Z)(o,R);return r.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_1qkaaq3":(0,_.Z)(M,")","url("),"--_yvl48":(0,_.Z)(T,")","url(")}),ref:t,className:(0,w.Z)(["_1e0c1txw _1bah1h6o _4cvr1y6m _16jlkb7n _1o9zkb7n _i0dlf1ug _1reo1wug _18m91wug _ca0q1wqb _u5f31wqb _n3td1wqb _19bv1wqb _ouxl1nty _12vemgnk _1lrw1dfr",o.isDarkMode?"_1itk16oy":"_1itk1b87",o.className])}))}));const J=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,L);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:s,ref:t,className:(0,w.Z)(["_1e0c1txw _2lx21bp4",o.className])}))}));const ee=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,P);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_65zr2j":(0,_.Z)("var(--ds-border-radius-100, 3px)"),"--_1j2wndk":(0,_.Z)(`var(--ds-surface-overlay, ${g.N0})`),"--_vk2kyf":(0,_.Z)(`var(--ds-text, ${g.xA})`),"--_1r4klrr":(0,_.Z)(`var(--ds-shadow-overlay, 0 0 0 1px ${g.kd}, 0 2px 1px ${g.kd}, 0 0 20px -6px ${g.VG})`)}),ref:t,className:(0,w.Z)(["_p12f1ogm _2rkop69h _bfhkq736 _syazx0be _16qs1qvc _16jlkb7n _1o9zkb7n _i0dlf1ug",o.className])}))}));const te=({variation:e,isDarkMode:t})=>"danger"===e?t?S:x:t?I:C,ne=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,D);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_1375zo5":(0,_.Z)(`url(${te(o)})`)}),ref:t,className:(0,w.Z)(["_1bsb1osq _4t3i1lit _1itk16kl _12vemgnk _1bah1h6o _4cvresu3 _1e0c1txw",o.className])}))}));const ae=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,F);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_153arrb":(0,_.Z)("var(--ds-space-300, 24px)"),"--_115j7p6":(0,_.Z)("var(--ds-space-400, 32px)")}),ref:t,className:(0,w.Z)(["_1yt41uj1",o.className])}))}));const re=(0,r.forwardRef)(((e,t)=>{let{as:n="a",style:s}=e,o=(0,k.Z)(e,O);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_vk2kyf":(0,_.Z)(`var(--ds-text, ${g.xA})`)}),ref:t,className:(0,w.Z)(["_syazx0be _4bfu1r31 _1hms8stv _ajmmnqa1",o.className])}))}));const se=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,U);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_153arrb":(0,_.Z)("var(--ds-space-300, 24px)"),"--_115j7p6":(0,_.Z)("var(--ds-space-400, 32px)")}),ref:t,className:(0,w.Z)(["_zulp100u _1e0c1txw _2lx21bp4 _1yt44vbo",o.className])}))}));const oe=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,$);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_vk2kyf":(0,_.Z)(`var(--ds-text, ${g.xA})`)}),ref:t,className:(0,w.Z)(["_y3gn1h6o _1wybgktf _k48pbfng _vwz41tcg _abyqx0be",o.className])}))}));const le=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,j);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_vk2kyf":(0,_.Z)(`var(--ds-text, ${g.xA})`)}),ref:t,className:(0,w.Z)(["_y3gn1h6o _1wybdlk8 _k48p1nn1 _vwz4gktf _abyqx0be",o.className])}))}));const ie=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,z);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_1g2og9c":(0,_.Z)("var(--ds-space-200, 16px)"),"--_1l2k6jp":(0,_.Z)(`var(--ds-background-accent-gray-subtlest, ${g.gt})`),"--_h7os2z":(0,_.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,w.Z)(["_p12f1kdj _19pk1wug _2hwx1wug _otyr1wug _18u01wug _1yt44mu1 _bfhkars3 _y3gn1h6o _2rkoftgi _zulp1xra _1e0c1txw _2lx21bp4",o.className])}))}));const ce=(0,r.forwardRef)(((e,t)=>{let{as:n="ul",style:s}=e,o=(0,k.Z)(e,H);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:s,ref:t,className:(0,w.Z)(["_qtt8glyw _19pkidpf _2hwx1wug _otyridpf _18u01wug _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf",o.className])}))}));const de=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,q);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_vk2kyf":(0,_.Z)(`var(--ds-text, ${g.xA})`)}),ref:t,className:(0,w.Z)(["_1wybdlk8 _k48pni7l _vwz47vkz _abyqx0be",o.className])}))}));const ue=(0,r.forwardRef)(((e,t)=>{let{as:n="li",style:s}=e,o=(0,k.Z)(e,B);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_h7os2z":(0,_.Z)("var(--ds-space-100, 8px)"),"--_vk2kyf":(0,_.Z)(`var(--ds-text, ${g.xA})`)}),ref:t,className:(0,w.Z)(["_1e0c1txw _1wybdlk8 _4cvr1h6o _zulp1xra _syazx0be",o.className])}))}));const me=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,W);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_h7os2z":(0,_.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,w.Z)(["_1bah1h6o _1e0c1txw _zulp1xra _1n261g80",o.className])}))}));const pe=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,V);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_h7os2z":(0,_.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,w.Z)(["_1bah1h6o _1e0c1txw _zulp1xra",o.className])}))}));const fe=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,G);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_h7os2z":(0,_.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,w.Z)(["_zulp1xra _1e0c1txw _2lx21bp4",o.className])}))}));const ve=(0,r.forwardRef)(((e,t)=>{let{as:n="ul",style:s}=e,o=(0,k.Z)(e,K);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_4npb0t":(0,_.Z)("var(--ds-space-250, 20px)")}),ref:t,className:(0,w.Z)(["_vwz4kb7n _19bv2qv5 _19pkidpf _2hwxidpf _otyridpf _18u0idpf",o.className])}))}));const ge=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,o=(0,k.Z)(e,Q);return r.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},s),{},{"--_12kput1":(0,_.Z)("var(--ds-space-500, 32px)")}),ref:t,className:(0,w.Z)(["_1e0c1txw _1bah1h6o _4cvr1h6o _16jlkb7n _1o9zkb7n _i0dlf1ug _otyr1hc0",o.className])}))}));const ye=n(779076).ZP`query UserInfo($accountId:ID!){user(id:$accountId){id displayName}}`;var he=n(301771),be=n(253075);var Ee=n(486889);const Ze=(0,r.createContext)({fireAnalytics:()=>{}}),ke=({attributes:e={},children:t})=>{const{createAnalyticsEvent:n}=(0,Ee._)(),s=(0,r.useCallback)((({type:t,action:r,actionSubject:s,actionSubjectId:o,name:l,attributes:i={}})=>{n({type:t,data:{source:"trialEndLockScreen",action:r,actionSubject:s,actionSubjectId:o,name:l,attributes:(0,a.Z)((0,a.Z)({productKey:"confluence.ondemand"},e),i)}}).fire()}),[e,n]),o=(0,r.useMemo)((()=>({fireAnalytics:s})),[s]);return r.createElement(Ze.Provider,{value:o},t)};ke.displayName="AnalyticsProvider";const we=()=>(0,r.useContext)(Ze),_e=(0,c.defineMessages)({belowFreeUserLimitTitleStandard:{id:"experiment-lock-screen.below-free-user-limit-title-standard",defaultMessage:"Your 14-day trial of the Standard plan has ended"},belowFreeUserLimitTitlePremium:{id:"experiment-lock-screen.below-free-user-limit-title-premium",defaultMessage:"Your 14-day trial of the Premium plan has ended"},aboveFreeUserLimitTitle:{id:"experiment-lock-screen.above-free-user-limit-title",defaultMessage:"Confluence will be deactivated in {predunningDaysLeft} {predunningDaysLeft, plural, one {day} other {days}}"},adminBelowFreeUserLimitInstructionStandard:{id:"experiment-lock-screen.admin-below-free-user-limit-instruction-standard",defaultMessage:"You've reached the end of your trial and not provided payment details. Add your payment details to stay on Standard, or switch to the Free plan."},adminBelowFreeUserLimitInstructionPremium:{id:"experiment-lock-screen.admin-below-free-user-limit-instruction-premium",defaultMessage:"You've reached the end of your trial and not provided payment details. Add your payment details to stay on Premium, or switch to the Free plan."},adminAboveFreeUserLimitInstructionStandard:{id:"experiment-lock-screen.admin-above-free-user-limit-instruction-standard",defaultMessage:"You've reached the end of your trial and not provided payment details. To avoid losing your current data and setup, add your payment details to stay on Standard.{br}Or <link>learn how to switch to Free.</link>"},adminAboveFreeUserLimitInstructionPremium:{id:"experiment-lock-screen.admin-above-free-user-limit-instruction-premium",defaultMessage:"You've reached the end of your trial and not provided payment details. To avoid losing your current data and setup, add your payment details to stay on Premium.{br}Or <link>learn how to switch to Free.</link>"},billingAdminBenefitTitleStandard:{id:"experiment-lock-screen.billing-admin-benefit-title-standard",defaultMessage:"Add payment details to stay on Standard and keep:"},billingAdminBenefitTitlePremium:{id:"experiment-lock-screen.billing-admin-benefit-title-premium",defaultMessage:"Add payment details to stay on Premium and keep:"},nonBillingAdminBenefitTitleStandard:{id:"experiment-lock-screen.non-billing-admin-benefit-title-standard",defaultMessage:"Stay on Standard and keep:"},nonBillingAdminBenefitTitlePremium:{id:"experiment-lock-screen.non-billing-admin-benefit-title-premium",defaultMessage:"Stay on Premium and keep:"},contactBillingAdminStandard:{id:"experiment-lock-screen.contact-billing-admin-standard",defaultMessage:"Contact your admin to request the full Standard plan for your team."},contactBillingAdminPremium:{id:"experiment-lock-screen.contact-billing-admin-premium",defaultMessage:"Contact your admin to request the full Premium plan for your team."},viewAdmins:{id:"experiment-lock-screen.view-admins",defaultMessage:"View admins"},siteAdmins:{id:"experiment-lock-screen.site-admins",defaultMessage:"Site admins"},failedToLoadSiteAdmins:{id:"experiment-lock-screen.failed-to-load-site-admins",defaultMessage:"Failed to load data. Try again in a few moments."},accessAllUsers:{id:"experiment-lock-screen.access-all-users",defaultMessage:"Access for all of your users"},businessHourSupport:{id:"experiment-lock-screen.business-hour-support",defaultMessage:"Business hour support"},spaceAndPagePermissions:{id:"experiment-lock-screen.space-and-page-permissions",defaultMessage:"Space and page permissions"},teamCalendar:{id:"experiment-lock-screen.team-calendar",defaultMessage:"Team calendar"},analytics:{id:"experiment-lock-screen.analytics",defaultMessage:"Analytics"},advancedPermissions:{id:"experiment-lock-screen.advanced-permissions",defaultMessage:"Advanced permissions"},learnMoreUrlTextStandard:{id:"experiment-lock-screen.learn-more-url-text-standard",defaultMessage:"Learn more about the benefits of the Standard plan"},learnMoreUrlTextPremium:{id:"experiment-lock-screen.learn-more-url-text-premium",defaultMessage:"Learn more about the benefits of the Premium plan"},addPaymentDetails:{id:"experiment-lock-screen.add-payment-details",defaultMessage:"Add payment details"},switchToFree:{id:"experiment-lock-screen.switch-to-free",defaultMessage:"Switch to Free"},removeUsersAndSwitchToFree:{id:"experiment-lock-screen.remove-users-and-switch-to-free",defaultMessage:"Remove users and switch to Free"},dismiss:{id:"experiment-lock-screen.dismiss",defaultMessage:"Dismiss"}}),xe=({isBillingUser:e,isBillingAdmin:t,usageOverLimit:n,transactionAccountId:s,invoiceGroupId:i,entitlementId:c,predunningDaysLeft:f,isDarkMode:k,isDismissible:w,onDismiss:_,titleId:x,originTracing:C=new l.Z({product:"confluence"})})=>{const[S,I]=(0,r.useState)(!1),[M,T]=(0,r.useState)([]),[N,A]=(0,r.useState)(!1),[R,L]=(0,r.useState)(!1),{fireAnalytics:P}=we(),{cloudId:D,environment:F,edition:O}=(0,o.D)(),U=(0,y.WQ)(),$="PRODUCTION"===F?Z.$y:Z.S4,j=C.addToUrl(Z.MV),z=C.addToUrl(Z.NG),H=C.addToUrl(Z.Qu),q=C.addToUrl(`${$}/billing/${s}/entitlement/${c}`),B=C.addToUrl(`${$}/billing/${s}/${i}/payment-flow?referrer=${Z.hI}`),W=t||e,V=(e=>e===h.m.PREMIUM?{belowFreeUserLimitTitle:_e.belowFreeUserLimitTitlePremium,adminBelowFreeUserLimitInstruction:_e.adminBelowFreeUserLimitInstructionPremium,adminAboveFreeUserLimitInstruction:_e.adminAboveFreeUserLimitInstructionPremium,billingAdminBenefitTitle:_e.billingAdminBenefitTitlePremium,nonBillingAdminBenefitTitle:_e.nonBillingAdminBenefitTitlePremium,contactBillingAdmin:_e.contactBillingAdminPremium,learnMoreUrlText:_e.learnMoreUrlTextPremium,benefits:[_e.teamCalendar,_e.analytics,_e.advancedPermissions]}:{belowFreeUserLimitTitle:_e.belowFreeUserLimitTitleStandard,adminBelowFreeUserLimitInstruction:_e.adminBelowFreeUserLimitInstructionStandard,adminAboveFreeUserLimitInstruction:_e.adminAboveFreeUserLimitInstructionStandard,billingAdminBenefitTitle:_e.billingAdminBenefitTitleStandard,nonBillingAdminBenefitTitle:_e.nonBillingAdminBenefitTitleStandard,contactBillingAdmin:_e.contactBillingAdminStandard,learnMoreUrlText:_e.learnMoreUrlTextStandard,benefits:[_e.accessAllUsers,_e.businessHourSupport,_e.spaceAndPagePermissions]})(O),G=(0,r.useCallback)((()=>{P({type:"sendUIEvent",action:"clicked",actionSubject:"link",actionSubjectId:"lockScreenLearnSwitchFreeLink",attributes:(0,a.Z)({},C.toAnalyticsAttributes({hasGeneratedId:!0}))})}),[P,C]),K=(0,r.useCallback)((()=>{P({type:"sendUIEvent",action:"clicked",actionSubject:"link",actionSubjectId:"lockScreenLearnMoreBenefitsLink",attributes:(0,a.Z)({},C.toAnalyticsAttributes({hasGeneratedId:!0}))})}),[P,C]),Q=(0,r.useCallback)((()=>{P({type:"sendUIEvent",action:"clicked",actionSubject:"button",actionSubjectId:"manageUsers",attributes:(0,a.Z)({},C.toAnalyticsAttributes({hasGeneratedId:!0}))})}),[P,C]),X=(0,r.useCallback)((()=>{P({type:"sendUIEvent",action:"clicked",actionSubject:"button",actionSubjectId:"downgradeToFree",attributes:(0,a.Z)({},C.toAnalyticsAttributes({hasGeneratedId:!0}))})}),[P,C]),Y=(0,r.useCallback)((()=>{P({type:"sendUIEvent",action:"clicked",actionSubject:"button",actionSubjectId:"addPaymentDetails",attributes:(0,a.Z)({},C.toAnalyticsAttributes({hasGeneratedId:!0}))})}),[P,C]),ee=(0,r.useCallback)((async()=>{if(S)I(!1);else{A(!0),P({type:"sendUIEvent",action:"clicked",actionSubject:"button",actionSubjectId:"showSiteAdmins"});try{const e=await(async e=>(0,he.y)(`/gateway/api/growth/trial-end-lock-screen/get-site-admins?cloudId=${e}`).then(().catch((e=>{const t={name:e.name,message:e.message};return e instanceof be.K&&(t.status=e.response.status,t.traceId=e.response.headers.get("X-Trace-Id")||void 0),Promise.reject(t)})))(D),t=(await Promise.all(e.siteAdminIds.map((e=>U.query({query:ye,variables:{accountId:e}}))))).map((({data:{user:{displayName:e,id:t}}})=>({displayName:e,id:t})));T(t),L(!1)}catch(e){L(!0),P({type:"sendOperationalEvent",actionSubject:"fetchingSiteAdmins",action:"failed",attributes:{message:JSON.stringify(e)}})}A(!1),I(!0)}}),[S,D,U,P]);return(0,r.useEffect)((()=>{P({type:"sendScreenEvent",name:"trialEndLockScreenScreen",attributes:(0,a.Z)({},C.toAnalyticsAttributes({hasGeneratedId:!0}))})}),[P,C]),r.createElement(J,null,r.createElement(ne,{variation:n?"danger":"warning",isDarkMode:k},r.createElement("img",{src:k?E:b,alt:""})),r.createElement(ae,null,r.createElement(se,null,r.createElement(oe,{id:x},n?r.createElement(d.Z,(0,a.Z)((0,a.Z)({},_e.aboveFreeUserLimitTitle),{},{values:{predunningDaysLeft:f}})):r.createElement(d.Z,(0,a.Z)({},V.belowFreeUserLimitTitle))),W&&r.createElement(le,null,n?r.createElement(d.Z,(0,a.Z)((0,a.Z)({},V.adminAboveFreeUserLimitInstruction),{},{values:{link:e=>r.createElement(re,{href:j,onClick:G,target:"_blank",rel:"noopener"},e),br:r.createElement("br",null)}})):r.createElement(d.Z,(0,a.Z)({},V.adminBelowFreeUserLimitInstruction))),r.createElement(ie,null,r.createElement(de,null,W?r.createElement(d.Z,(0,a.Z)({},V.billingAdminBenefitTitle)):r.createElement(d.Z,(0,a.Z)({},V.nonBillingAdminBenefitTitle))),r.createElement(ce,null,V.benefits.map((e=>r.createElement(ue,{key:e.id},r.createElement(v.default,{size:"small",primaryColor:`var(--ds-icon-subtle, ${g.zN})`,label:""}),r.createElement(d.Z,(0,a.Z)({},e)))))),r.createElement(re,{href:z,onClick:K,target:"_blank",rel:"noopener"},r.createElement(d.Z,(0,a.Z)({},V.learnMoreUrlText)))),!W&&r.createElement(le,null,r.createElement(d.Z,(0,a.Z)({},V.contactBillingAdmin)))),W?r.createElement(me,null,w&&r.createElement(u.Z,{appearance:"subtle-link",onClick:_},r.createElement(d.Z,(0,a.Z)({},_e.dismiss))),n?r.createElement(u.Z,{appearance:"default",href:H,onClick:Q,target:"_blank"},r.createElement(d.Z,(0,a.Z)({},_e.removeUsersAndSwitchToFree))):r.createElement(u.Z,{appearance:"default",href:q,onClick:X,target:"_blank"},r.createElement(d.Z,(0,a.Z)({},_e.switchToFree))),r.createElement(u.Z,{appearance:"primary",href:t?B:q,onClick:Y,target:"_blank"},r.createElement(d.Z,(0,a.Z)({},_e.addPaymentDetails)))):r.createElement(pe,null,w&&r.createElement(u.Z,{appearance:"subtle-link",onClick:_},r.createElement(d.Z,(0,a.Z)({},_e.dismiss))),r.createElement(p.Z,{content:r.createElement(fe,null,r.createElement("strong",null,r.createElement(d.Z,(0,a.Z)({},_e.siteAdmins))),!R&&r.createElement(ve,null,M.map(()),R&&r.createElement(d.Z,(0,a.Z)({},_e.failedToLoadSiteAdmins))),isOpen:S,placement:"right",onClose:()=>{I(!1)}},r.createElement(m.Z,{isLoading:N,appearance:"primary",onClick:ee},r.createElement(d.Z,(0,a.Z)({},_e.viewAdmins)))))))};xe.displayName="LockScreenContent";const Ce=e=>{const{onClose:t,titleId:n}=(0,f.d)();return r.createElement(xe,(0,a.Z)((0,a.Z)({},e),{},{isDismissible:!0,onDismiss:t,titleId:n}))};Ce.displayName="LockScreenModalContent";var Se=n(521488),Ie=n(214248),Me=n(136342);const Te=n(2142).ug.tooltip()-1,Ne=(0,c.defineMessages)({goToStart:{id:"experiment-lock-screen.go-to-start",defaultMessage:"Go to Atlassian Start"}}),Ae=({children:e,isDarkMode:t,originTracing:n=new l.Z({product:"confluence"})})=>{const{environment:s}=(0,o.D)(),{fireAnalytics:i}=we(),c=(0,r.useCallback)((()=>{i({type:"sendUIEvent",action:"clicked",actionSubject:"button",actionSubjectId:"goToStart",attributes:(0,a.Z)({},n.toAnalyticsAttributes({hasGeneratedId:!0}))})}),[i,n]),m="PRODUCTION"===s?Z.on:Z.xL,p=n.addToUrl(m);return r.createElement(Me.Z,{zIndex:Te},r.createElement(Ie.ZP,{autoFocus:!1},r.createElement(Se.ZP,null),r.createElement(X,null,r.createElement(Y,{isDarkMode:t},r.createElement(ee,null,e,r.createElement(ge,null,r.createElement(u.Z,{appearance:"subtle-link",href:p,target:"_blank",onClick:c},r.createElement(d.Z,(0,a.Z)({},Ne.goToStart)))))))))};Ae.displayName="NonDismissibleWrapper";var Re=n(587499),Le=n(884185);const Pe=({children:e})=>{const{fireAnalytics:t}=we(),[n,a]=(0,r.useState)(!0),{unlockScreen:s}=(0,i.Ng)(),o=(0,r.useCallback)((()=>{t({type:"sendUIEvent",action:"closed",actionSubject:"modal",actionSubjectId:"trialEndLockScreen"}),a(!1)}),[t]),l=(0,r.useCallback)((()=>{s(!0)}),[s]);return r.createElement(Re.Z,null,n&&r.createElement(Le.Z,{autoFocus:!1,shouldScrollInViewport:!0,shouldCloseOnOverlayClick:!1,onClose:o,onCloseComplete:l},e))};Pe.displayName="LockScreenModal";const De=()=>{const{colorMode:e}=(0,s.Z)(),{edition:t}=(0,o.D)(),{isLocked:n,entitlementDetails:c,lockScreenDetails:d}=(0,i.xp)(),{originTracing:u,analyticsAttributes:m}=(0,r.useMemo)((()=>({analyticsAttributes:{lockScreenDetails:d,edition:t,entitlementDetails:c},originTracing:new l.Z({product:"confluence"})})),[t,c,d]),p="dark"===e,f=(0,r.useMemo)((()=>(0,a.Z)((0,a.Z)({},d),{},{originTracing:u,isDarkMode:p,entitlementId:null==c?void 0:c.entitlementId})),[null==c?void 0:c.entitlementId,p,d,u]);if(!n||!d)return null;return!d.usageOverLimit&&!d.isBillingAdmin?r.createElement(ke,{attributes:m},r.createElement(Pe,null,r.createElement(Ce,(0,a.Z)({},f)))):r.createElement(ke,{attributes:m},r.createElement(Ae,{originTracing:u,isDarkMode:p},r.createElement(xe,(0,a.Z)({},f))))};De.displayName="LockScreen"},782242:(e,t,n)=>{"use strict";n.d(t,{Ng:()=>i,xp:()=>l});var a=n(834232),r=n(944547);const s={isLocked:!1,wasDismissed:!1,entitlementDetails:void 0,lockScreenDetails:void 0},o=(0,a.M)({initialState:s,actions:{lockScreen:({entitlementDetails:e,lockScreenDetails:t})=>({setState:n})=>{n({isLocked:!0,entitlementDetails:e,lockScreenDetails:t})},unlockScreen:e=>({setState:t})=>{t(e?{isLocked:!1,wasDismissed:!0}:{isLocked:!1})}}}),l=(0,r.hs)(o),i=(0,r.aV)(o)},901958:265603:547110:(e,t,n)=>{"use strict";n.d(t,{F:()=>f});var a=n(840506),r=n(167347),s=n(614889),o=n(582463),l=n(779076);const i=l.ZP`query FeatureDiscoveryQuery{featureDiscovery{pluginKey featureKey}}`,c=l.ZP`mutation MarkFeatureDiscoveredMutation($featureKey:String!$pluginKey:String!){markFeatureDiscovered(featureKey:$featureKey pluginKey:$pluginKey){pluginKey featureKey}}`,d=(0,s.j)("useFeatureDiscovery"),u="com.atlassian.confluence.plugins.confluence-frontend-support",m=(e,{data:t})=>{const n=null==t?void 0:t.markFeatureDiscovered,a=e.readQuery({query:i});n&&null!=a&&a.featureDiscovery&&e.writeQuery({query:i,data:{featureDiscovery:a.featureDiscovery.concat(n)}})},p=()=>{},f=(e,t)=>{var n;const{isLoggedIn:s}=(0,o.D)(),l=!s||t,{data:f,loading:v,error:g}=(0,r.aM)(i,{skip:l}),[y,{loading:h,error:b}]=(0,r.Db)(c,{variables:{featureKey:e,pluginKey:u},update:m}),E=g||b,Z=!(v||h||E||null!=f&&null!==(n=f.featureDiscovery)&&void 0!==n&&n.some(()),k=(0,a.useCallback)((()=>{Z&&y().catch((()=>{}))}),[Z,y]);if(l)return[!1,p,void 0];const w=Z||(e=>{try{if(sessionStorage.getItem(`featureDiscoveryOverride-${e}`))return!0}catch(t){d.error(t)}return!1})(e);return[w,k,E]}},509017:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var a=n(697674),r=n(113059);const s=(0,a.is)({key:r.$9,ssr:Boolean(window.__SSR_RENDERED__)?{doneAsFmp:!0}:void 0})},168723:(e,t,n)=>{"use strict";n.d(t,{e:()=>p});var a=n(865331),r=n(797516),s=n(578059),o=n(553914),l=n(301771),i=n(527294);const c=JSON.parse('[{"possibleTypes":[{"name":"SearchConfluencePageBlogAttachment"},{"name":"SearchConfluenceSpace"}],"kind":"INTERFACE","name":"SearchResult"},{"possibleTypes":[{"name":"ConfluencePage"},{"name":"ConfluenceBlogPost"}],"kind":"UNION","name":"SearchConfluenceEntity"}]');var d=n(512324);let u;const m=new o.Jd({introspectionQueryResultData:{__schema:{types:c}}}),p=()=>window.MOCK_GATEWAY_APOLLO_CLIENT?window.MOCK_GATEWAY_APOLLO_CLIENT:(u||(u=f()),u),f=()=>new a.fe({connectToDevTools:!1,link:(0,r.from)([(0,i.b)(),(0,d.r)(),new s.u({credentials:"include",uri:"/gateway/api/graphql",fetch:l.y})]),cache:new o.h4({fragmentMatcher:m})})},781980:(e,t,n)=>{"use strict";n.d(t,{a:()=>h});var a=n(946972),r=n(840506),s=n(16728),o=n(293724),l=n(872779),i=n(770144),c=n(486889),d=n(627521),u=n(179640),m=n(482180),p=n(750640);const f=(0,a.Z)("div",{target:"enqulwz0"})("background-color:",`var(--ds-surface-raised, ${s.N0})`,";position:relative;margin-bottom:var(--ds-space-150, 12px);",(({isCollapsed:e,isHomeRefreshEnabled:t})=>t?`\n      border: 1px solid var(--ds-border, ${s.YS});\n      border-radius: var(--ds-border-radius-200, 8px);\n      &:hover {\n        ${e?"box-shadow: var(--ds-shadow-raised, 0px 1px 1px rgba(9, 30, 66, 0.25), 0px 0px 1px rgba(9, 30, 66, 0.31))":""}\n      }`:`\n      border-radius: var(--ds-border-radius, 3px);\n      box-shadow: var(--ds-shadow-raised, 0 1px 1px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31));\n      &:hover {\n        ${e?`box-shadow: var(--ds-border-selected, ${s.VY}) 0 0 0 1px;`:""}\n      }\n  `),""),v=(0,a.Z)("button",{target:"enqulwz1"})("display:flex;justify-content:space-between;align-items:center;width:100%;background-color:",`var(--ds-surface-raised, ${s.N0})`,";color:",`var(--ds-text, ${s.q2})`,";font-size:14px;font-weight:500;padding:var(--ds-space-100, 8px);margin:0;position:sticky;top:var(--ds-space-negative-150, -12px);z-index:1;border:none;",(({isHomeRefreshEnabled:e})=>`\n  border-top-left-radius: ${e?"var(--ds-border-radius-200, 8px)":"var(--ds-border-radius, 3px)"};\n  border-top-right-radius: ${e?"var(--ds-border-radius-200, 8px)":"var(--ds-border-radius, 3px)"};`)," ",(({isCollapsed:e,isHomeRefreshEnabled:t})=>e?`\n      border-radius: ${t?"var(--ds-border-radius-200, 8px)":"var(--ds-border-radius, 3px)"};`:`\n      border-bottom: ${t?"none":`1px solid var(--ds-border, ${s.gt})`};\n  `),":hover{cursor:pointer;}"),g=(0,a.Z)("span",{target:"enqulwz2"})({name:"1fv6e0x",styles:"position:absolute;right:var(--ds-space-400, 32px);top:var(--ds-space-100, 8px);z-index:1;"}),y=(0,a.Z)("div",{target:"enqulwz3"})({name:"1igbd9l",styles:"padding:var(--ds-space-100, 8px);"}),h=(0,r.forwardRef)((({sectionId:e,header:t,headerActions:n,children:a,defaultState:s,initialStateOverride:h,onInitialCollapse:b,spotlightName:E,ariaLabel:Z},k)=>{const{widgetState:w,setWidgetState:_,loading:x,error:C}=(0,m.d)(e,s,h),S=w===p.l.COLLAPSED,{createAnalyticsEvent:I}=(0,c._)(),M=(0,u.T)("confluence.frontend.home-visual-refresh"),T=(0,r.useRef)(!1);(0,r.useEffect)((()=>{x||T.current||(T.current=!0,w===p.l.COLLAPSED&&(null==b||b()))}),[x,w,b]);const N=(0,r.useCallback)((t=>{I({type:"sendUIEvent",data:{action:t,actionSubject:"collapsibleSection",actionSubjectId:e,source:"rightPanel",attributes:{homeVersion:"1.5"}}}).fire()}),[I,e]),A=(0,r.useCallback)((()=>{S?(_(p.l.EXPANDED),N("expanded")):(_(p.l.COLLAPSED),N("collapsed"))}),[S,_,N]);if(x)return null;const R=S?l.default:o.default,L=`home-right-panel-header-${e}`,P=r.createElement(r.Fragment,null,r.createElement(v,{id:L,onClick:A,isCollapsed:S,isHomeRefreshEnabled:M,"aria-expanded":!S,"aria-controls":"collapsible-content","aria-label":Z},t,r.createElement(R,{label:"",size:"medium"})),r.createElement(g,null,n));return r.createElement(f,{isCollapsed:S,isHomeRefreshEnabled:M,ref:k,"data-testid":e},E?r.createElement(i.Z,{name:E},P):P,S?null:r.createElement(y,{id:"collapsible-content",role:"region","aria-labelledby":L},a),C&&r.createElement(d.X,{error:C}))}))},567354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Overview:()=>Ki});var a=n(615919),r=n(946972),s=n(840506),o=n(93972),l=n(747472),i=n(142807),c=n(770144),d=n(341335),u=n(179640),m=n(382188),p=n(940155);const f=(0,p.ui)({__loadable_id__:"ZrvEg",name:"WelcomeModal",loader:async()=>(await n.e(15944).then(n.bind(n,511170))).WelcomeModal});var v=n(929766),g=n(400318),y=n(570533),h=n(140263),b=n(190713),E=n(155049),Z=n(839237),k=n(346084),w=n(115613),_=n(509017),x=n(167347),C=n(587499),S=n(878652),I=n(190206),M=n(680118),T=n(234461),N=n(9019),A=n(627521),R=n(27461),L=n(649233);(0,p.ZR)({__loadable_id__:"I5H0D",name:"ActivityFilter",loader:async()=>(await Promise.all([n.e(12705),n.e(23062)]).then(n.bind(n,99347))).ActivityFilter});const P=(0,p.ZR)({__loadable_id__:"B5hfh",name:"ActivityFilterDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(35824),n.e(39159),n.e(95470),n.e(52766),n.e(25677),n.e(48512),n.e(92286)]).then(n.bind(n,775332))).ActivityFilterDialog});var D=n(582463),F=n(870797);const O=var U=n(872342),$=n(920839),j=n(767001),z=n(486889),H=n(328167);let q=function(e){return e.DIRECT="DIRECT",e.FOLLOWING="FOLLOWING",e.POPULAR="POPULAR",e}({});var B=n(16728);const W=["as","style"],V=["isHomeRefreshEnabled"],G=["as","style"];n(645299),n(354326),n(245467),n(212624),n(424420),n(866013),n(371861),n(102901),n(274768),n(997235),n(372972),n(744778),n(55239),n(169960),n(456928),n(112728),n(472094),n(178828),n(843866),n(528218),n(85380),n(151698),n(506840),n(163578),n(946136),n(625480),n(156704),n(341645),n(234019),n(517725),n(416473),n(144961),n(413076),n(930334),n(40592),n(921859),n(820337),n(646302);const K=(0,s.forwardRef)(((e,t)=>{let{as:n="button",style:r}=e,o=(0,U.Z)(e,W);const{isHomeRefreshEnabled:l}=o,i=(0,U.Z)(o,V);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1itntsn":(0,$.Z)(`var(--ds-background-selected, ${B.BA})`),"--_1xysrii":(0,$.Z)(`var(--ds-background-neutral, ${B.os})`),"--_s2teab":(0,$.Z)(`var(--ds-text-brand, ${B.AX})`),"--_22j13s":(0,$.Z)(`var(--ds-text, ${B.Mx})`),"--_tw3yj0":(0,$.Z)(`var(--ds-background-selected-hovered, ${B.BA})`),"--_j2i0fb":(0,$.Z)(`var(--ds-background-neutral-hovered, ${B.gt})`),"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)"),"--_1emro2p":(0,$.Z)(o.selected?`1px solid var(--ds-text-selected, ${B.AX})`:`1px solid var(--ds-background-neutral, ${B.os})`),"--_l46kcp":(0,$.Z)(`var(--ds-border-focused, ${B.AX})`),"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)"),"--_1g2og9c":(0,$.Z)("var(--ds-space-200, 16px)"),"--_sgx8mc":(0,$.Z)(`var(--ds-background-selected-pressed, ${B.VY})`)}),ref:t,className:(0,j.Z)(["_12ji1r31 _1qu2glyw _12y31o36 _vchhusvi _1e0c116y _1wybdlk8 _vwz4gktf _19pkidpf _uiztglyw _p12f1osq _1reo15vq _18m915vq _1bto1l2s _o5721q9c _s7n4jp4b _80omtlke",o.selected?"_bfhk1e62":"_bfhk1c3z",o.selected?"_syaz1ql2":"_syazwcuh",o.selected?"_irr319a5":"_irr3th2j",o.isHomeRefreshEnabled?"_1yt41xra _4cvr1h6o _19ithh92 _2rko53f4 _4t3izwfg _2hwx1xra _y2mvjewp _858u1j28":"_1yt41x0f _19itglyw _2rkow1gv _4t3i1f4h _2hwx16re _7ehik6xz",o.className])}))}));const Q=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,G);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _4t3i1osq _4cvr1h6o _2hwx1xra",o.className])}))}));const X=({feedType:e,selectedFeedType:t,setFeedType:n,Icon:a,isHomeRefreshEnabled:r,children:o})=>{const{createAnalyticsEvent:l}=(0,z._)(),i=(0,s.useCallback)((()=>{t!==e&&(n(e),l({type:"sendUIEvent",data:{action:"clicked",actionSubject:"feedTypeSelector",actionSubjectId:e.toLowerCase(),source:"homeScreen",attributes:{homeVersion:r?"visualRefresh":"1.5"}}}).fire())}),[e,t,r,n,l]),c=(0,s.useCallback)((e=>{e.preventDefault()}),[]),d=t===e,u=`${e.toLowerCase()}-feed-button`;return s.createElement(K,{selected:d,"aria-selected":d,onClick:i,onMouseDown:c,"data-testid":u,isHomeRefreshEnabled:r},a&&s.createElement(Q,null,s.createElement(a,{label:"",primaryColor:d?`var(--ds-text-selected, ${B.AX})`:`var(--ds-text, ${B.Mx})`})),o)};X.displayName="FeedTypePill";var Y=n(19173);const J=e=>s.createElement(Y.Z,(0,a.Z)({size:"small"},e),s.createElement("rect",{width:"24",height:"24",fill:"none",fillOpacity:"0.01"}),s.createElement("path",{d:"M12.5 11C14.9853 11 17 13.0147 17 15.5V18C17 19.1046 16.1046 20 15 20H9C7.89543 20 7 19.1046 7 18V15.5C7 13.0147 9.01472 11 11.5 11H12.5ZM18.5 11L18.7118 11.0049C21.0264 11.1122 22.8843 12.968 22.9948 15.2818L23 15.5V18L22.9945 18.1493C22.922 19.1324 22.1388 19.9179 21.1567 19.9939L21 20H19L18.8834 19.9933C18.386 19.9355 18 19.5128 18 19C18 18.4872 18.386 18.0645 18.8834 18.0067L19 18H21V15.5L20.9947 15.3356C20.9136 14.0859 19.9141 13.0864 18.6644 13.0053L18.5 13H18L17.8834 12.9933C17.386 12.9355 17 12.5128 17 12C17 11.4872 17.386 11.0645 17.8834 11.0067L18 11H18.5ZM6 11C6.55228 11 7 11.4477 7 12C7 12.5128 6.61396 12.9355 6.11662 12.9933L6 13H5.5C4.17452 13 3.08996 14.0315 3.00532 15.3356L3 15.5V18H5C5.55228 18 6 18.4477 6 19C6 19.5128 5.61396 19.9355 5.11662 19.9933L5 20H3C1.94564 20 1.08183 19.1841 1.00549 18.1493L1 18V15.5C1 13.0857 2.90124 11.1155 5.28816 11.0049L5.5 11H6ZM12.5 13H11.5C10.1193 13 9 14.1193 9 15.5V18H15V15.5C15 14.1193 13.8807 13 12.5 13ZM12 3C13.933 3 15.5 4.567 15.5 6.5C15.5 8.43299 13.933 10 12 10C10.067 10 8.5 8.43299 8.5 6.5C8.5 4.567 10.067 3 12 3ZM7.40566 3.29405C7.9115 3.51571 8.14188 4.10548 7.92022 4.61133C7.71438 5.08104 7.19116 5.31324 6.71245 5.16653L6.60294 5.12589C6.04157 4.8799 5.38008 4.99867 4.93928 5.43947C4.3535 6.02526 4.3535 6.975 4.93928 7.56079C5.3462 7.9677 5.94108 8.10019 6.47172 7.92466L6.60289 7.87434C7.10873 7.65266 7.69851 7.88301 7.9202 8.38884C8.14189 8.89468 7.91154 9.48446 7.4057 9.70615C6.09597 10.2801 4.55323 10.0032 3.52507 8.975C2.15824 7.60817 2.15824 5.39209 3.52507 4.02526C4.55319 2.99714 6.09595 2.72013 7.40566 3.29405ZM16.6102 3.29405C17.9199 2.72013 19.4626 2.99714 20.4907 4.02526C21.8576 5.39209 21.8576 7.60817 20.4907 8.975C19.4626 10.0032 17.9198 10.2801 16.6101 9.70615C16.1043 9.48446 15.8739 8.89468 16.0956 8.38884C16.3015 7.91914 16.8247 7.68697 17.3034 7.83369L17.5441 7.92466C18.0747 8.10019 18.6696 7.9677 19.0765 7.56079C19.6623 6.975 19.6623 6.02526 19.0765 5.43947C18.6725 5.0354 18.083 4.90193 17.5551 5.07196L17.3034 5.16653C16.8247 5.31324 16.3014 5.08104 16.0956 4.61133C15.8739 4.10548 16.1043 3.51571 16.6102 3.29405ZM12 5C11.1716 5 10.5 5.67157 10.5 6.5C10.5 7.32842 11.1716 8 12 8C12.8284 8 13.5 7.32842 13.5 6.5C13.5 5.67157 12.8284 5 12 5Z",fill:"currentColor"}));J.displayName="PeopleGroupIcon";const ee=e=>s.createElement(Y.Z,(0,a.Z)({size:"small"},e),s.createElement("rect",{width:"24",height:"24",fill:"none",fillOpacity:"0.01"}),s.createElement("path",{d:"M5 4C5.51284 4 5.93552 4.38608 5.99329 4.88342L6 5V18H19C19.5523 18 20 18.4477 20 19C20 19.5128 19.6139 19.9355 19.1166 19.9933L19 20H6C4.94564 20 4.08184 19.1842 4.00549 18.1493L4 18V5C4 4.44772 4.44771 4 5 4ZM19 8L19.0193 8.00024C19.043 8.00069 19.0667 8.0019 19.0903 8.00403L19 8C19.0494 8 19.0979 8.00359 19.1454 8.0105C19.165 8.01342 19.1854 8.01699 19.2058 8.02124C19.2249 8.02515 19.2432 8.02965 19.2613 8.03455C19.2771 8.03889 19.2932 8.04354 19.3091 8.04871C19.331 8.05577 19.3527 8.06366 19.3741 8.07227C19.3901 8.07873 19.4057 8.08558 19.4212 8.09277C19.4434 8.10313 19.4655 8.11437 19.4872 8.12646C19.4976 8.13221 19.5082 8.13843 19.5186 8.14478C19.5433 8.15987 19.5671 8.17572 19.5902 8.19263C19.5997 8.19948 19.6089 8.20655 19.618 8.21375C19.6361 8.22805 19.6542 8.24332 19.6717 8.25916C19.6835 8.26988 19.6954 8.28115 19.7071 8.29285L19.7366 8.32361C19.7542 8.34277 19.771 8.36257 19.7871 8.38306L19.7071 8.29285C19.7413 8.32706 19.7725 8.36316 19.8007 8.40076C19.8196 8.42608 19.8374 8.45223 19.8539 8.47925C19.861 8.49072 19.8677 8.50226 19.8742 8.51392C19.8852 8.53374 19.8957 8.55416 19.9055 8.57495C19.9124 8.58959 19.919 8.60464 19.9252 8.61975C19.9349 8.6434 19.9436 8.66711 19.9514 8.69128C19.9553 8.7035 19.9592 8.71623 19.9628 8.729C19.969 8.75103 19.9744 8.77302 19.979 8.79529C19.9825 8.81223 19.9856 8.8294 19.9882 8.84656C19.9897 8.85567 19.991 8.86503 19.9922 8.87451L19.9958 8.90869C19.9977 8.92898 19.9989 8.94937 19.9995 8.96973L20 9V13C20 13.5523 19.5523 14 19 14C18.4902 14 18.0695 13.6186 18.0078 13.1255L18 13V11.4139L14.7071 14.7072C14.3466 15.0676 13.7794 15.0953 13.3871 14.7903L13.2929 14.7072L11 12.415L8.70709 14.7072C8.34661 15.0676 7.77941 15.0953 7.38712 14.7903L7.29291 14.7072C6.93242 14.3467 6.90469 13.7794 7.20972 13.3871L7.29291 13.2928L10.2929 10.2928C10.6534 9.93237 11.2206 9.9047 11.6129 10.2097L11.7071 10.2928L14 12.585L16.585 9.99902L15 10C14.4902 10 14.0695 9.61856 14.0078 9.12549L14 9C14 8.4902 14.3815 8.06952 14.8746 8.00781L15 8H19Z",fill:"currentColor"}));ee.displayName="GraphLineIcon";const te=(0,o.defineMessages)({following:{id:"feed.card.categories.following",defaultMessage:"Following"},popular:{id:"feed.card.categories.popular",defaultMessage:"Popular"}}),ne=({selectedFeedType:e,setSelectedFeedType:t,isHomeRefreshEnabled:n,customPanels:r})=>s.createElement("div",null,s.createElement(X,(0,a.Z)({feedType:q.FOLLOWING,selectedFeedType:e,setFeedType:t,isHomeRefreshEnabled:n},n&&{Icon:J}),s.createElement(i.Z,(0,a.Z)({},te.following))),s.createElement(X,(0,a.Z)({feedType:q.POPULAR,selectedFeedType:e,setFeedType:t,isHomeRefreshEnabled:n},n&&{Icon:ee}),s.createElement(i.Z,(0,a.Z)({},te.popular))),n&&r&&r.map((a=>s.createElement(X,{key:a.key,feedType:a.key,selectedFeedType:e,setFeedType:t,isHomeRefreshEnabled:n,Icon:a.icon},a.title))));ne.displayName="FeedTypeSelector";const ae=["as","style"],re=["isHomeRefreshEnabled"],se=["as","style"],oe=["as","style"],le=["as","style"],ie=["isHomeRefreshEnabled"],ce=["as","style"];n(115533),n(78517),n(520700),n(645299),n(156160),n(380714),n(615237),n(66777),n(675262),n(841115),n(46072),n(772541),n(416473),n(88331),n(189725),n(94974),n(949112),n(117978),n(372972),n(351849),n(946136),n(101033),n(937604),n(492989),n(765692),n(456928),n(357290),n(46708),n(280831),n(354326),n(362604),n(953305);const de=(0,o.defineMessages)({feedTitle:{id:"feed.title",defaultMessage:"Discover what's happening"},manageFeed:{id:"feed.header.manage.following",defaultMessage:"Edit feed"}}),ue=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,ae);const{isHomeRefreshEnabled:l}=o,i=(0,U.Z)(o,re);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1g2og9c":(0,$.Z)("var(--ds-space-200, 16px)"),"--_1rgv5ik":(0,$.Z)("var(--ds-space-negative-100, -8px)")}),ref:t,className:(0,j.Z)(["_kqswh2mm _1bah1yb4 _1e0c1txw _1n261g80 _otyr1ggp",o.isHomeRefreshEnabled?"_2lx21bp4 _otyr1ggp":"_4cvr1h6o _19pk177v",o.className])}))}));const me=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,se);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _4cvr1h6o _1bah1yb4 _16jlkb7n _1o9zkb7n _i0dlf1ug _o5721q9c _19pk1xra",o.className])}))}));const pe=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,oe);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw _4cvr1h6o _1bah1yb4",o.className])}))}));const fe=(0,s.forwardRef)(((e,t)=>{let{as:n="h2",style:r}=e,o=(0,U.Z)(e,le);const{isHomeRefreshEnabled:l}=o,i=(0,U.Z)(o,ie);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,j.Z)(["_2hwx1xra",o.isHomeRefreshEnabled?"_syaz1fxt _1wyb1jqr _k48pni7l _1dyzidpf _vwz41clk _19pkidpf _1p1dangw":"_syaz1fxt _1wyb1yan _1dyzvkfx _vwz4cjiy _19pk1xra _k48p1nn1",o.className])}))}));const ve=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,ce);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_raskxj":(0,$.Z)("var(--ds-space-negative-050, -4px)"),"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,j.Z)(["_kqswstnw _154iidpf _1ltv13es _4t3i1osq _1bsb1osq _1yt416re _lcxvglyw",o.className])}))}));const ge=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{fontWeight:400}),spinnerStyles:r}},ye=({openActivityFilterModal:e,renderPopularFeed:t,feedType:n,setFeedType:r,customPanels:o})=>{const{createAnalyticsEvent:l}=(0,z._)(),d=(0,u.T)("confluence.frontend.home-visual-refresh"),m=(0,s.useCallback)((()=>{e(),l({type:"sendUIEvent",data:{action:"clicked",actionSubject:"item",actionSubjectId:"editFeed",source:"homeScreen"}}).fire()}),[l,e]),p=()=>s.createElement(H.Z,{onClick:m,theme:ge,appearance:"link",spacing:"none"},s.createElement(i.Z,(0,a.Z)({},de.manageFeed)));return s.createElement(ue,{"data-testid":"feed-header",isHomeRefreshEnabled:d},s.createElement(c.Z,{name:"home-activity"},s.createElement(ve,null)),d?s.createElement(pe,null,s.createElement(fe,{isHomeRefreshEnabled:d},s.createElement(i.Z,(0,a.Z)({},de.feedTitle))),p()):s.createElement(fe,null,s.createElement(i.Z,(0,a.Z)({},de.feedTitle))),s.createElement(me,null,t&&s.createElement(ne,{selectedFeedType:n,setSelectedFeedType:r,isHomeRefreshEnabled:d,customPanels:o}),!d&&p()))};ye.displayName="FeedHeader";var he=n(865331),be=n(618305),Ee=n(122529),Ze=n(832179),ke=n(555687),we=n(805643),_e=n(547110),xe=n(315585);const Ce="confluence.frontend.feed.exit.feed.button_pve28",Se=n.p+"6K2Bq-Q1EK.svg",Ie=n.p+"DbA8vdJhU2.svg",Me=["as","style"],Te=["isHomeRefreshEnabled"],Ne=["as","style"],Ae=["as","style"],Re=["as","style"],Le=["as","style"],Pe=["as","style"];n(372972),n(818391),n(525286),n(35804),n(739803),n(526754),n(964684),n(66777),n(496893),n(492989),n(481770),n(610097),n(785924),n(403992),n(590437),n(354326),n(65234),n(40592);const De=(0,o.defineMessages)({headerTitle:{id:"feed.header.title",defaultMessage:"We’re keeping you in the loop"},headerDescription:{id:"feed.header.description",defaultMessage:"Stay in-the-know by following people and spaces. Their activity will show up in your feed, but you won’t receive email notifications about it. Add to, or edit, your feed anytime."},editFeed:{id:"feed.header.editFeed",defaultMessage:"Edit feed"},learnMore:{id:"feed.header.learnMore",defaultMessage:"Learn more"},closeMessageLabel:{id:"feed.header.closeLabel",defaultMessage:"Close message box"}}),Fe=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{fontWeight:400}),spinnerStyles:r}},Oe=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Me);const{isHomeRefreshEnabled:l}=o,i=(0,U.Z)(o,Te);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1khsbgs":(0,$.Z)(`var(--ds-border, ${B.YS})`),"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)"),"--_1hxvkam":(0,$.Z)("var(--ds-shadow-overlay, 0px 1px 1px rgba(9, 30, 66, 0.25), 0px 0px 1px rgba(9, 30, 66, 0.31))"),"--_1diaiqk":(0,$.Z)(`var(--ds-surface, ${B.N0})`),"--_153arrb":(0,$.Z)("var(--ds-space-300, 24px)")}),ref:t,className:(0,j.Z)(["_vchhusvi _11q71qpv _1e0c1txw _otyr100u _1yt4ldp2",o.isHomeRefreshEnabled?"_19itf0bt _2rko1xra":"_16qs118o",o.className])}))}));const Ue=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ne);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_4npb0t":(0,$.Z)("var(--ds-space-250, 20px)"),"--_153arrb":(0,$.Z)("var(--ds-space-300, 24px)")}),ref:t,className:(0,j.Z)(["_16jlkb7n _2hwx2qv5 _otyr100u",o.className])}))}));const $e=(0,s.forwardRef)(((e,t)=>{let{as:n="h3",style:r}=e,o=(0,U.Z)(e,Ae);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,j.Z)(["_k48p1nn1 _otyr1xra _vwz4bs82",o.className])}))}));const je=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Re);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_153arrb":(0,$.Z)("var(--ds-space-300, 24px)")}),ref:t,className:(0,j.Z)(["_otyr100u",o.className])}))}));const ze=(0,s.forwardRef)(((e,t)=>{let{as:n=Ze.Z,style:r}=e,o=(0,U.Z)(e,Le);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,j.Z)(["_p12fuuw1 _c71l1lit _1o9zidpf _1wpzesu3 _2hwx1xra",o.className])}))}));const He=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Pe);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1o9zidpf",o.className])}))}));const qe=({intl:e,openActivityFilterModal:t,servingRecommendations:n})=>{const r=(0,u.T)("confluence.frontend.home-visual-refresh"),[o,l,c]=(0,_e.F)("home.feed.header.onboarding.followed-for-you");return c?s.createElement(A.X,{error:c}):o&&n?s.createElement(Oe,{"data-testid":"feed-onboarding-message",isHomeRefreshEnabled:r},s.createElement(Ue,null,s.createElement($e,null,s.createElement(i.Z,(0,a.Z)({},De.headerTitle))),s.createElement(je,null,s.createElement(i.Z,(0,a.Z)({},De.headerDescription))," ",s.createElement(xe.p,{featureFlag:"confluence.frontend.new.feed.internals"},s.createElement(H.Z,{appearance:"link",theme:Fe,spacing:"none",href:"https://hello.atlassian.net/l/c/1kWRHALN",target:"_blank"},s.createElement(i.Z,(0,a.Z)({},De.learnMore))))),s.createElement(s.Fragment,null,s.createElement(ke.Z,{onClick:t},s.createElement(i.Z,(0,a.Z)({},De.editFeed))))),s.createElement(ze,{src:Ie,srcDark:Se,width:"200",height:"160"}),s.createElement(He,null,s.createElement(ke.Z,{iconBefore:s.createElement(we.default,{label:e.formatMessage(De.closeMessageLabel)}),appearance:"subtle",spacing:"none",onClick:l}))):null};qe.displayName="FeedOnboardingMessageComponent";const Be=(0,Ee.ZP)(qe);var We=n(495302),Ve=n(240118),Ge=n(570489),Ke=n(779076);const Qe=Ke.ZP`query FeedRecommendationQuery{getRecommendedFeedUserConfig{recommendedSpaces{score space{id key name icon{path}}}recommendedPeople{score user{id title displayName isActive photos{value isPrimary}}}}userPreferences{feedRecommendedUserSettingsDismissTimestamp}}`;var Xe=n(332072),Ye=n(85278),Je=n(451655),et=n(744676);const tt=Ke.ZP`mutation FeedFollowRecommendationMutation($followUser:[ID]$followSpace:[Long]$unfollowUser:[ID]$unfollowSpace:[Long]){setFeedUserConfig(input:{followUsers:$followUser followSpaces:$followSpace unfollowUsers:$unfollowUser unfollowSpaces:$unfollowSpace}){success}}`;const nt=(0,o.defineMessages)({follow:{id:"feed.recommendation.tile.follow",defaultMessage:"Follow"},space:{id:"feed.recommendation.tile.space",defaultMessage:"Space"},dismissLabel:{id:"feed.recommendation.tile.dismiss.label",defaultMessage:"Dismiss recommendation"},flagFollowTitle:{id:"feed.recommendation.flag.follow.success",defaultMessage:"Followed {name}"},flagFollowAction:{id:"feed.recommendation.flag.follow.action",defaultMessage:"Dismiss"},flagErrorTitle:{id:"feed.recommendation.flag.follow.error",defaultMessage:"Could not follow {name}"},flagErrorDescription:{id:"feed.recommendation.flag.follow.error.description",defaultMessage:"Please try again later"}}),at=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{position:"absolute",width:"100%",height:"100%"}),spinnerStyles:r}},rt=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{position:"absolute",top:"var(--ds-space-050, 4px)",right:"var(--ds-space-050, 4px)",width:"28px",height:"28px"}),spinnerStyles:r}},st=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{"&:hover":{backgroundColor:`var(--ds-background-information-hovered, ${B.tE})`,color:`var(--ds-text-brand, ${B.AX}) !important`}}),spinnerStyles:r}},ot=(0,r.Z)("div",{target:"e1bf46ta0"})("position:relative;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;height:154px;flex-shrink:0;min-width:0;width:calc(",25,"% - ",12,"px);scroll-snap-align:start;background:",`var(--ds-background-input, ${B.N0})`,";border:1px solid ",`var(--ds-border, ${B.gt})`,";box-sizing:border-box;border-radius:3px;padding:var(--ds-space-100, 8px);text-align:center;pointer-events:auto;margin-right:",16,"px;&:hover{",(({tileHover:e})=>e?`background: var(--ds-background-input-hovered, ${B.YI})`:""),";}opacity:",(({load:e})=>e?"0.5":"1"),";"),lt=(0,r.Z)("img",{target:"e1bf46ta1"})({name:"1wnv4my",styles:"width:32px;height:32px;border-radius:50%;"}),it=(0,r.Z)("div",{target:"e1bf46ta2"})({name:"8atqhb",styles:"width:100%;"}),ct=(0,r.Z)("div",{target:"e1bf46ta3"})({name:"5e4swi",styles:"line-height:20px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:relative;"}),dt=(0,r.Z)("div",{target:"e1bf46ta4"})({name:"mco2m2",styles:"height:14px;"}),ut=(0,r.Z)("div",{target:"e1bf46ta5"})("color:",`var(--ds-text-subtle, ${B.hH})`,";font-size:11px;line-height:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:relative;"),mt=({name:e,id:t,url:n,icon:r,type:o,title:c,dismissTile:d,cardIndex:u,position:m})=>{const p=(0,l.Z)(),{createAnalyticsEvent:f}=(0,z._)(),{showFlag:v}=(0,S.Vb)(),[g,y]=(0,s.useState)(!0),h=(0,s.useCallback)((()=>{y(!0)}),[y]),b=(0,s.useCallback)((()=>{y(!1)}),[y]),E=(0,s.useCallback)((()=>{d(t),v({title:s.createElement(i.Z,(0,a.Z)((0,a.Z)({},nt.flagFollowTitle),{},{values:{name:e}})),icon:s.createElement(Ye.default,{primaryColor:`var(--ds-icon-success, ${B.eE})`,label:"Success"}),isAutoDismiss:!0})}),[d,t,e,v]),Z=(0,s.useCallback)((()=>{v({title:s.createElement(i.Z,(0,a.Z)((0,a.Z)({},nt.flagErrorTitle),{},{values:{name:e}})),description:s.createElement(i.Z,(0,a.Z)({},nt.flagErrorDescription)),icon:s.createElement(Je.default,{label:"error",primaryColor:`var(--ds-icon-danger, ${B.$H})`}),isAutoDismiss:!0})}),[e,v]),[k,{loading:w,error:_}]=(0,x.Db)(tt,{onCompleted:E,onError:Z,refetchQueries:["FeedFollowQuery"]}),[C,{loading:I,error:M}]=(0,x.Db)(tt),T=(0,s.useCallback)((()=>{f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"item",actionSubjectId:"tile",source:"suggestionsCard",attributes:{settingId:t,settingType:o,recommendationRank:u,pos:m}}}).fire()}),[f,t,o,u,m]),N=(0,s.useCallback)((async()=>{C({variables:"user"===o?{unfollowUser:[t]}:{unfollowSpace:[t]}}),f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"dismiss",source:"suggestionsCard",attributes:{settingId:t,settingType:o,recommendationRank:u,pos:m}}}).fire(),d(t)}),[d,t,C,o,f,u,m]),R=(0,s.useCallback)((()=>{k({variables:"user"===o?{followUser:[t]}:{followSpace:[t]}}),f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"follow",source:"suggestionsCard",attributes:{settingId:t,settingType:o,recommendationRank:u,pos:m}}}).fire()}),[k,o,t,f,u,m]),L="user"===o?c:p.formatMessage(nt.space);return s.createElement(ot,{tileHover:g,load:I||w,"data-testid":"feed-rec-tile-wrapper"},_&&s.createElement(A.X,{error:_}),M&&s.createElement(A.X,{error:M}),s.createElement(H.Z,{href:n,onClick:T,target:"_blank",appearance:"link",theme:at,testId:"feed-rec-tile-link"}),s.createElement(H.Z,{appearance:"subtle",theme:rt,onClick:N,onMouseEnter:b,onMouseLeave:h,spacing:"none",iconBefore:s.createElement(we.default,{label:p.formatMessage(nt.dismissLabel)}),isDisabled:I}),"user"===o?s.createElement(lt,{src:r}):s.createElement(et.R,{src:r,size:"medium"}),s.createElement(it,null,s.createElement(Xe.Z,{content:e},s.createElement(ct,null,e)),s.createElement(dt,null,s.createElement(Xe.Z,{content:L},s.createElement(ut,null,L)))),s.createElement(H.Z,{onClick:R,onMouseEnter:b,onMouseLeave:h,theme:st,isDisabled:w},s.createElement(i.Z,(0,a.Z)({},nt.follow))))};mt.displayName="RecommendationTile";var pt=n(829323),ft=n(282087),vt=n(49298),gt=n(65301),yt=n(497242),ht=n(846313),bt=n(627542),Et=n(552435);const Zt=e=>(0,Et.st)(e)||(0,Et.KY)(e)||(0,Et._4)(e)||wt(e)||xt(e)||St(e),kt=["summaryLineUpdate","comment"],wt=e=>{var t;return kt.every((t=>{var n;return null===(n=e.path)||void 0===n?void 0:n.includes(t)}))&&(null===(t=e.message)||void 0===t?void 0:t.includes("No comment found for the given id"))},_t=["getRecommendedFeedUserConfig","recommendedSpaces","space"],xt=e=>_t.every((t=>{var n;return null===(n=e.path)||void 0===n?void 0:n.includes(t)}))&&e.message.includes("Cannot find space with id"),Ct=["feed","nodes","summaryLineUpdate","user"],St=e=>{var t;return Ct.every((t=>{var n;return null===(n=e.path)||void 0===n?void 0:n.includes(t)}))&&(null===(t=e.message)||void 0===t?void 0:t.includes("User not permitted to access Confluence"))},It=Ke.ZP`mutation FeedRecDismissMutation($dismissTime:String!){updateUserPreferences(userPreferences:{feedRecommendedUserSettingsDismissTimestamp:$dismissTime}){feedRecommendedUserSettingsDismissTimestamp}}`,Mt=["triggerRef"];const Tt=(0,o.defineMessages)({title:{id:"feed.recommendation.title",defaultMessage:"Improve your feed"},dismiss:{id:"feed.recommendation.dismiss",defaultMessage:"Hide suggestions"},dismissDescription:{id:"feed.recommendation.dismiss.description",defaultMessage:"Don't show this card for one month"},flagErrorTitle:{id:"feed.recommendation.flag.dismiss.error",defaultMessage:"Could not dismiss recommendations"},flagErrorDescription:{id:"feed.recommendation.flag.dismiss.error.description",defaultMessage:"Please try again later"},moreIconLabel:{id:"feed.recommendations.more.label",defaultMessage:"Show more options"},leftCarouselLabel:{id:"feed.recommendations.carousel.left",defaultMessage:"Scroll left"},rightCarouselLabel:{id:"feed.recommendations.carousel.right",defaultMessage:"Scroll right"}}),Nt=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{backgroundColor:`var(--ds-background-input, ${B.N0})`,"&:hover":{backgroundColor:`var(--ds-background-input-hovered, ${B.gt})`},"&[aria-expanded='true']":{backgroundColor:`var(--ds-background-accent-gray-bolder, ${B.TG})`,color:`var(--ds-text-inverse, ${B.N0})`}}),spinnerStyles:r}},At=(0,r.Z)("div",{target:"ep14u8b0"})({name:"4o9dpx",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--ds-space-100, 8px);"}),Rt=(0,r.Z)("div",{target:"ep14u8b1"})({name:"10rvbm3",styles:"font-weight:500;"}),Lt=(0,r.Z)("div",{target:"ep14u8b2"})({name:"1xhj18k",styles:"display:flex;flex-direction:row;"}),Pt=(0,r.Z)("div",{target:"ep14u8b3"})({name:"7590ra",styles:"display:flex;justify-content:flex-start;margin:0px var(--ds-space-negative-200, -16px);padding:0px var(--ds-space-200, 16px);overflow-x:auto;scroll-snap-type:x mandatory;scroll-padding-left:16px;-ms-overflow-style:none;scrollbar-width:none;::-webkit-scrollbar{display:none;}pointer-events:none;"}),Dt=(e,{data:t})=>{var n;const r=null==t||null===(n=t.updateUserPreferences)||void 0===n?void 0:n.feedRecommendedUserSettingsDismissTimestamp,s=e.readQuery({query:Qe});if(r&&s){const t=(0,a.Z)({},s);t.userPreferences.feedRecommendedUserSettingsDismissTimestamp=r,e.writeQuery({query:Qe,data:t})}},Ft=({position:e,recs:t,setRecs:n,feedRecError:r,setShowFeedRecs:o})=>{const c=(0,l.Z)(),d=(0,s.useRef)(null),u=(0,s.useRef)(null),{createAnalyticsEvent:m}=(0,z._)(),[p,f]=(0,s.useState)(0),{showFlag:v}=(0,S.Vb)(),g=t.slice(p,p+4),y=p===t.length-4&&0!==p,h=(0,s.useCallback)((()=>{m({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"suggestionsCard",source:"homeScreen",attributes:{pos:e,numSuggestions:t.length,followSuggestions:g.map((e=>e.id)),followSuggestionTypes:g.map((e=>e.type))}}}).fire()}),[m,e,t,g]);(0,bt.y)(d,h);const b=(0,s.useCallback)((()=>{v({title:s.createElement(i.Z,(0,a.Z)({},Tt.flagErrorTitle)),description:s.createElement(i.Z,(0,a.Z)({},Tt.flagErrorDescription)),icon:s.createElement(Je.default,{label:"error",primaryColor:`var(--ds-icon-danger, ${B.$H})`}),isAutoDismiss:!0})}),[v]),[E,{error:Z}]=(0,x.Db)(It,{onCompleted:()=>{o(!1)},update:Dt,onError:b}),k=(0,s.useCallback)((()=>{const n=new Date;E({variables:{dismissTime:n.toISOString()}}),m({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"suggestionsDismissal",source:"suggestionsCard",attributes:{timestamp:n.toISOString(),pos:e,numSuggestions:t.length,followSuggestions:g.map((e=>e.id)),followSuggestionTypes:g.map((e=>e.type))}}}).fire()}),[E,m,e,t,g]),w=(0,s.useCallback)((e=>{if(u.current){const t=e*(u.current.offsetWidth/4-4);u.current.scroll({left:t,behavior:"smooth"}),f(e)}}),[u,f]),_=(0,s.useCallback)((a=>{const r=t.filter((e=>e.id!==a)),s=y?r.slice(p-1,p-1+4):r.slice(p,p+4);y&&w(p-1),n(r),m({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"suggestionsCard",source:"homeScreen",attributes:{pos:e,numSuggestions:r.length,followSuggestions:s.map((e=>e.id)),followSuggestionTypes:s.mype))}}}).fire()}),[t,p,y,n,m,e,w]),C=(0,s.useCallback)((()=>{w(Math.max(0,p-4)),m({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"leftCarousel",source:"suggestionsCard",attributes:{pos:e}}}).fire()}),[w,p,m,e]),I=(0,s.useCallback)((()=>{w(Math.min(t.length-4,p+4)),m({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"rightCarousel",source:"suggestionsCard",attributes:{pos:e}}}).fire()}),[t,w,p,m,e]),M=(0,s.useCallback)((e=>{let{triggerRef:t}=e,n=(0,U.Z)(e,Mt);return s.createElement(H.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:t,iconBefore:s.createElement(pt.default,{label:c.formatMessage(Tt.moreIconLabel)}),theme:Nt}))}),[c]);return r&&!(e=>e.graphQLErrors.every(xt))(r)?s.createElement(A.X,{error:r}):0===t.length?null:s.createElement(s.Fragment,null,Z&&s.createElement(A.X,{error:Z}),s.createElement(At,null,s.createElement(Rt,null,s.createElement(i.Z,(0,a.Z)({},Tt.title))),s.createElement(Lt,null,s.createElement(H.Z,{theme:Nt,onClick:C,iconBefore:s.createElement(ft.default,{label:c.formatMessage(Tt.leftCarouselLabel)}),isDisabled:0===p}),s.createElement(H.Z,{theme:Nt,onClick:I,iconBefore:s.createElement(vt.default,{label:c.formatMessage(Tt.rightCarouselLabel)}),isDisabled:y||t.length<=4}),s.createElement(gt.ZP,{placement:"bottom-end",trigger:M,testId:"feed-rec-dropdown-menu"},s.createElement(yt.Z,{onClick:k,description:c.formatMessage(Tt.dismissDescription)},s.createElement(i.Z,(0,a.Z)({},Tt.dismiss)))))),s.createElement(Pt,{ref:u,"data-testid":"feed-rec-tiles-wrapper"},t.map(((t,n)=>s.createElement(mt,{key:t.id,name:t.name,id:t.id,url:t.url,icon:t.icon,type:t.type,title:t.title,dismissTile:_,cardIndex:n,position:e})))),s.createElement("div",{ref:d}))},Ot=(0,s.memo)((e=>s.createElement(ht.k,{attribution:N.x.SMARTS},s.createElement(Ft,(0,a.Z)({},e)))));var Ut=n(141593),$t=n(826633),jt=n(797508),zt=n(301777),Ht=n(284186);let qt=function(e){return e.COMMENT="COMMENT",e.CREATE="CREATE",e.EDIT="EDIT",e}({}),Bt=function(e){return e.PERSON="PERSON",e.SPACE="SPACE",e}({}),Wt=function(e){return e.ANDROID="ANDROID",e.IOS="IOS",e.WEB="WEB",e}({});const Vt=e=>{var t,n;return null!=e&&null!==(t=e.links)&&void 0!==t&&t.webui?`${Ge.b}${null==e||null===(n=e.links)||void 0===n?void 0:n.webui}`:""},Gt=e=>{var t,n;return null!=e&&null!==(t=e.links)&&void 0!==t&&t.webui?`${Ge.b}${null==e||null===(n=e.links)||void 0===n?void 0:n.webui}`:""},Kt=e=>{var t;const n=null==e||null===(t=e.space)||void 0===t?void 0:t.key;return n?Ht.RI.toUrl({spaceKey:n}):""},Qt=e=>e&&"accountId"in e?e.accountId:null,Xt=[qt.COMMENT,qt.CREATE,qt.EDIT],Yt=Ke.ZP`query FeedContentQuery($first:Int$after:String$isPoweredByMobileEnabled:Boolean=false){feed(first:$first after:$after)@connection(key:"homeFollowingFeed"){nodes{recentActionsCount summaryLineUpdate{datetime type groupSize ...on FeedEventCreate{user{...FeedContentUserFragment}}...on FeedEventEdit{version user{...FeedContentUserFragment}}...on FeedEventComment{user{...FeedContentUserFragment}comment{id links{webui}likeCount isLikedByCurrentUser location{type ...on InlineComment{inlineText}}body(representation:ATLAS_DOC_FORMAT){value}commentSource@include(if:$isPoweredByMobileEnabled)}}}source content{title id type subType emoji:properties(key:"emoji-title-published"){nodes{id value}}excerpt(length:350)links{webui}history{createdBy{...FeedContentUserFragment}ownedBy{type displayName profilePicture{path}...on KnownUser{accountId}...on User{accountId}}createdDate}space{id key name}likes{count currentUserLikes}metadata{lastModifiedDate comments{commentsCount}currentuser{favourited{isFavourite}}}}}pageInfo{hasNextPage endCursor}}getFeedUserConfig{spaces{id}users{...on KnownUser{accountId}...on User{accountId}...on UnknownUser{accountId}}servingRecommendations}}fragment FeedContentUserFragment on Person{type displayName profilePicture{path}...on KnownUser{accountId}...on User{accountId}...on UnknownUser{accountId}}`,Jt=Ke.ZP`mutation LikeMutation($contentId:ID!){likeContent(input:{contentId:$contentId}){content{id type likes{count currentUserLikes}}}}`,en=Ke.ZP`mutation UnlikeMutation($contentId:ID!){unlikeContent(input:{contentId:$contentId}){content{id type likes{count currentUserLikes}}}}`,tn=(0,o.defineMessages)({likeMutationErrorTitle:{id:"feed.card.like.mutation.error.title",defaultMessage:"We’re having trouble liking that page"},unlikeMutationErrorTitle:{id:"feed.card.unlike.mutation.error.title",defaultMessage:"We’re having trouble unliking that page"},likeMutationErrorDescription:{id:"feed.card.like.mutation.error.description",defaultMessage:"Try it again."}}),nn={first:O()},an=(e,{data:t})=>{const n=null==t?void 0:t.contentId,r=null==t?void 0:t.count,s=null==t?void 0:t.userLiked,o=null==t?void 0:t.type,l=e.readQuery({query:Yt,variables:nn});if(n&&o&&null!==r&&null!==s&&l){const t=(0,a.Z)({},l);"page"===o||"blogpost"===o?t.feed.nodes.forEach((e=>{e.content.id===n&&e.content.likes&&(e.content.likes.count=r,e.content.likes.currentUserLikes=s)})):"comment"===o&&t.feed.nodes.forEach((e=>{var t;const a=e.summaryLineUpdate;"comment"in a&&(null===(t=a.comment)||void 0===t?void 0:t.id)===n&&(a.comment.likeCount=r,a.comment.isLikedByCurrentUser=s)})),e.writeQuery({query:Yt,variables:nn,data:t})}},rn=(e,{data:t})=>{var n,a;an(e,{data:{contentId:null==t?void 0:t.likeContent.content.id,count:null==t||null===(n=t.likeContent.content.likes)||void 0===n?void 0:n.count,userLiked:null==t||null===(a=t.likeContent.content.likes)||void 0===a?void 0:a.currentUserLikes,type:null==t?void 0:t.likeContent.content.type}})},sn=(e,{data:t})=>{var n,a;an(e,{data:{contentId:null==t?void 0:t.unlikeContent.content.id,count:null==t||null===(n=t.unlikeContent.content.likes)||void 0===n?void 0:n.count,userLiked:null==t||null===(a=t.unlikeContent.content.likes)||void 0===a?void 0:a.currentUserLikes,type:null==t?void 0:t.unlikeContent.content.type}})};function on(e,t,n){const[r,o]=(0,s.useState)(e),[l,c]=(0,s.useState)(t),{showFlag:d}=(0,S.Vb)(),u=(0,s.useCallback)((()=>{d({description:s.createElement(i.Z,(0,a.Z)({},tn.likeMutationErrorDescription)),title:s.createElement(i.Z,(0,a.Z)({},l?tn.likeMutationErrorTitle:tn.unlikeMutationErrorTitle)),icon:s.createElement(Je.default,{label:"error",primaryColor:`var(--ds-icon-danger, ${B.$H})`}),isAutoDismiss:!0}),o(l?e=>e-1:e=>e+1),c((e=>!e))}),[d,l]),[m,{error:p}]=(0,x.Db)(Jt,{variables:{contentId:n},update:rn,onError:u}),[f,{error:v}]=(0,x.Db)(en,{variables:{contentId:n},update:sn,onError:u}),g=p||v,y=(0,s.useCallback)((async()=>{c(!l),l?(o(r-1),await f()):(o(r+1),await m())}),[l,c,r,o,m,f]);return{numLikes:r,userLiked:l,handleLikeButton:y,likeMutationError:g}}const ln=(0,s.createContext)({fireAnalyticsEvent:()=>{}}),cn=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{color:`var(--ds-text-subtle, ${B.iw}) !important`,fontWeight:400}),spinnerStyles:r}},dn=({href:e,onClick:t,testId:n,children:a})=>s.createElement(H.Z,{href:e,onClick:t,theme:cn,appearance:"subtle-link",spacing:"none",testId:n},a);dn.displayName="SubtleLink";const un=["as","style"],mn=["as","style"],pn=["activityDropdownLineItem"],fn=["as","style"];n(722870),n(959978),n(277734),n(354326),n(212624),n(946136),n(625480),n(156704),n(341645),n(374396),n(167335);const vn=(0,o.defineMessages)({anonymousUser:{id:"feed.card.anonymousUser",defaultMessage:"Anonymous User"},displayName:{id:"feed.card.displayName",defaultMessage:"{name}"},createAction:{id:"feed.card.createAction",defaultMessage:"created"},editAction:{id:"feed.card.editAction",defaultMessage:"{num, plural, one {edited} other {edited {num} times}}"},commentAction:{id:"feed.card.commentAction",defaultMessage:"{num, plural, one {commented} other {commented {num} times}}"},unknownAction:{id:"feed.card.unknownAction",defaultMessage:"Unknown update"}}),gn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,un);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1msoq6k":(0,$.Z)(`var(--ds-text, ${B.q2})`),"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,j.Z)(["_syaz11fv _k48pbfng _1reo15vq _18m915vq _1bto1l2s _o5721q9c _2hwx16re",o.className])}))}));const yn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,mn);const{activityDropdownLineItem:l}=o,i=(0,U.Z)(o,pn);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw",o.activityDropdownLineItem?"_p12f1ogy":"_p12f1kw7",o.className])}))}));const hn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,fn);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_p12f1ns9",o.className])}))}));const bn=({type:e,userDisplayName:t,link:n,groupSize:r,intl:o,activityDropdownLineItem:l})=>{const c=t||o.formatMessage(vn.anonymousUser),{fireAnalyticsEvent:d}=(0,s.useContext)(ln),[u,m]=(0,s.useState)(!1),p=(0,s.useRef)(null);(0,s.useEffect)((()=>{p.current&&p.current.scrollWidth>=270&&l&&m(!0)}),[l]);const f=(0,s.useCallback)((()=>{d({type:"sendUIEvent",action:"clicked",actionSubject:"link",actionSubjectId:"feedCardActivityLink",includeNavdex:!0,additionalAttributes:{activityType:e}})}),[e,d]),v={name:c},g=s.createElement(yn,{activityDropdownLineItem:l,ref:p},s.createElement(gn,null,s.createElement(i.Z,(0,a.Z)((0,a.Z)({},vn.displayName),{},{values:v}))),s.createElement(hn,null,(()=>{const t={num:r};switch(e){case"CREATE":return s.createElement(i.Z,(0,a.Z)((0,a.Z)({},vn.createAction),{},{values:t}));case"EDIT":return s.createElement(i.Z,(0,a.Z)((0,a.Z)({},vn.editAction),{},{values:t}));case"COMMENT":return s.createElement(i.Z,(0,a.Z)((0,a.Z)({},vn.commentAction),{},{values:t}));default:return s.createElement(i.Z,(0,a.Z)({},vn.unknownAction))}})())),y=s.createElement(Xe.Z,{content:s.createElement(i.Z,(0,a.Z)((0,a.Z)({},vn.displayName),{},{values:v})),testId:c},g);return s.createElement(dn,{href:n,onClick:f,testId:`${c}-${e}-${r}`},u?y:g)};bn.displayName="ActivityLineUpdateLinkComponent";const En=(0,Ee.ZP)(bn);var Zn=n(724093),kn=n(339915),wn=n(54685),_n=n(963681);const xn=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{color:`var(--ds-text-subtle, ${B.iw}) !important`,fontWeight:"normal !important","&:hover":{color:`var(--ds-text-subtle, ${B.iw}) !important`,textDecoration:"none !important"}}),spinnerStyles:r}},Cn=({actionTime:e})=>s.createElement(Xe.Z,{content:new Date(e).toLocaleString(),tag:"span"},s.createElement(H.Z,{appearance:"subtle-link",spacing:"none",theme:xn},s.createElement(_n.b,{date:e})));Cn.displayName="ActionTime";const Sn=["as","style"],In=["as","style"],Mn=["as","style"],Tn=["as","style"];n(96306),n(999258),n(75245),n(128314),n(333604),n(19869),n(882953),n(372972),n(451176),n(80387),n(354326);const Nn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Sn);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_ytujz3":(0,$.Z)("var(--ds-space-150, 12px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _1tke1u1b _otyr1bgn",o.className])}))}));const An=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,In);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,j.Z)(["_2hwx1xra",o.className])}))}));const Rn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Mn);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_vk2kyf":(0,$.Z)(`var(--ds-text, ${B.xA})`)}),ref:t,className:(0,j.Z)(["_5xy1x0be _1msjx0be _dmk3dlk8 _w4r4gktf",o.className])}))}));const Ln=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Tn);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_3452m6":(0,$.Z)(`var(--ds-text, ${B.zN})`)}),ref:t,className:(0,j.Z)(["_vwz4dlk8 _1wyb1skh _syaz1w92",o.className])}))}));const Pn=({type:e,actionTime:t,userId:n,avatarUrl:a,userDisplayName:r,link:o,groupSize:l})=>{const i=null!=r?r:"";return s.createElement(Nn,{"data-testid":"activity-update-detail"},s.createElement(An,null,s.createElement(jt.S,{userId:n,src:a,canViewProfile:!0,size:"medium",name:i})),s.createElement(Rn,null,s.createElement(En,{type:e,userDisplayName:r,link:o,groupSize:l,activityDropdownLineItem:!0}),s.createElement(Ln,null,s.createElement(Cn,{actionTime:t}))))};Pn.displayName="ActivityLineUpdateDetail";const Dn=Ke.ZP`query FeedCardAllActivityQuery($contentId:ID!$after:String){pageActivity(contentId:$contentId after:$after){nodes{timestamp action actionSubject ...on PageActivityEventCreatedPage{groupSize user{...FeedCardAllActivityUserFragment}}...on PageActivityEventUpdatedPage{pageVersion groupSize user{...FeedCardAllActivityUserFragment}}...on PageActivityEventCreatedComment{groupSize comment{id links{webui}}user{...FeedCardAllActivityUserFragment}}}pageInfo{endCursor hasNextPage}}}fragment FeedCardAllActivityUserFragment on AtlassianUser{id displayName photos{value isPrimary}}`,Fn=n.p+"0yBb4s-IQ-.svg",On=["as","style"],Un=["as","style"];n(46708),n(483968),n(456928),n(357290),n(354326),n(451176);const $n=(0,o.defineMessages)({errorMessage:{id:"feed.card.activity.error.generic.message",defaultMessage:"We couldn’t load the recent actions"}}),jn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,On);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_ytujz3":(0,$.Z)("var(--ds-space-150, 12px)")}),ref:t,className:(0,j.Z)(["_otyr1bgn _1e0c1txw _2lx21bp4 _4cvr1h6o",o.className])}))}));const zn=(0,s.forwardRef)(((e,t)=>{let{as:n="img",style:r}=e,o=(0,U.Z)(e,Un);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_8jvb0j":(0,$.Z)(o.height,"px"),"--_1g2og9c":(0,$.Z)("var(--ds-space-200, 16px)")}),ref:t,className:(0,j.Z)(["_4t3i1474 _otyr1ggp",o.className])}))}));const Hn=()=>s.createElement(jn,null,s.createElement(zn,{height:65,src:Fn}),s.createElement(i.Z,(0,a.Z)({},$n.errorMessage)));Hn.displayName="AllActivityError";const qn=["as","style"],Bn=["as","style"],Wn=["as","style"],Vn=["as","style"];n(76383),n(2707),n(73250),n(204703),n(874042),n(604651),n(892739),n(23377),n(108943),n(421715),n(899283),n(744778),n(778289),n(451176),n(156256),n(354326);const Gn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,qn);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_ytujz3":(0,$.Z)("var(--ds-space-150, 12px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _4t3i1wpv _otyr1bgn",o.className])}))}));const Kn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Bn);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1xysrii":(0,$.Z)(`var(--ds-background-neutral, ${B.os})`),"--_1vfudzf":(0,$.Z)("var(--ds-space-025, 2px)"),"--_ytujz3":(0,$.Z)("var(--ds-space-150, 12px)")}),ref:t,className:(0,j.Z)(["_11q71c3z _4t3izwfg _1bsbzwfg _18s813rc _2hwx1bgn _2rkovbgk",o.className])}))}));const Qn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Wn);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1xysrii":(0,$.Z)(`var(--ds-background-neutral, ${B.os})`),"--_11fpzcn":(0,$.Z)("var(--ds-space-075, 6px)")}),ref:t,className:(0,j.Z)(["_11q71c3z _1bsb93m8 _otyrewg3 _4t3idlk8 _2rko1v6z",o.className])}))}));const Xn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Vn);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1xysrii":(0,$.Z)(`var(--ds-background-neutral, ${B.os})`)}),ref:t,className:(0,j.Z)(["_11q71c3z _1bsbnagk _4t3i1skh _2rko7bic",o.className])}))}));const Yn=()=>s.createElement(Gn,{"data-testid":"activity-detail-skeleton"},s.createElement(Kn,null),s.createElement("div",null,s.createElement(Qn,null),s.createElement(Xn,null)));Yn.displayName="ActivityLineUpdateDetailSkeleton";let Jn=function(e){return e.created="created",e.updated="updated",e}({}),ea=function(e){return e.comment="comment",e.page="page",e}({});const ta={[ea.page]:{[Jn.created]:"CREATE",[Jn.updated]:"EDIT"},[ea.comment]:{[Jn.created]:"COMMd 0:n[t]},aa=["as","style"];n(879815),n(6527),n(797513),n(747057),n(341645),n(493290),n(828997),n(743409);const ra=(0,o.defineMessages)({otherActions:{id:"feed.card.otherActions",defaultMessage:"{num} recent {num, plural, one {action} other {actions} }"}}),sa=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,aa);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1g2og9c":(0,$.Z)("var(--ds-space-200, 16px)"),"--_1vfudzf":(0,$.Z)("var(--ds-space-025, 2px)")}),ref:t,className:(0,j.Z)(["_1bsbjwe6 _c71lo8uj _18m91wug _1reo15vq _19bv1ggp _u5f31ggp _ca0q1ggp _n3td13rc",o.className])}))}));const oa=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{marginRight:"var(--ds-space-050, 4px)",fontWeight:400,color:`var(--ds-text-subtle, ${B.iw})`}),spinnerStyles:r}},la=({contentUrl:e,contentId:t,recentActionsCount:n})=>{var r,o;const{fireAnalyticsEvent:l}=(0,s.useContext)(ln),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[p,f]=(0,s.useState)(),{data:v,error:g,loading:y,fetchMore:h}=(0,x.aM)(Dn,{variables:{contentId:t},skip:!(u||c)}),b=g||p,E=null==v||null===(r=v.pageActivity)||void 0===r||null===(r=r.pageInfo)||void 0===r?void 0:r.hasNextPage,Z=null==v||null===(o=v.pageActivity)||void 0===o||null===(o=o.pageInfo)||void 0===o?void 0:o.endCursor,k=(0,s.useCc||d(!0)}),[d,c]),w=(0,s.useC(e=>!e))}),[m]),_=(0,s.useCallback)((()=>{m(!1)}),[m]),C=(null==v?void 0:v.pageActivity.nodes)||[];(0,s.useEffect)((()=>{u&&l({type:"sendTrackEvent",action:"more",actionSubject:"recentActions",actionSubjectId:"feedCardRecentActionsPeak"})}),[u,l]);const S=(0,s.useCallback)((async()=>{try{await h({variables:{contentId:t,after:Z},updateQuery:(e,{fetchMoreResult:t})=>t?(t.pageActivity.nodes=e.pageActivity.nodes.concat(t.pageActivity.nodes),t):e})}catch(e){f(e)}}),[h,Z,t]),I=()=>y?s.createElement(Yn,null):s.createElement(s.Fragment,null,C.map((n=>{if(n){const c=na(n.actionSubject,n.action);if(c){var a,r,o;const d=(null===(a=n.user)||void 0===a?void 0:a.id)||null,u=(null==(l=(null===(r=n.user)||void 0===r?void 0:r.photos)||null)||null===(i=l.find((e=>null==e?void 0:e.isPrimary)))||void 0===i?void 0:i.value)||"",m=(null===(o=n.user)||void 0===o?void 0:o.displayName)||null,p=n.timestamp,f=((e,t,n)=>{const a=na(e.actionSubject,e.action);if("COMMENT"===a){const t=e.comment.links.webui;if(t)return`${Ge.b}${t}`}if("CREATE"===a)return t;if("EDIT"===a){const t=e.pageVersion,a={query:{pageId:n,selectedPageVersions:[t,t-1]}};return Ht.yM.toUrl({},a)}return""})(n,e,t);return s.createElement(Pn,{key:`${c}-${d}-${p}`,type:c,actionTime:p,userId:d,avatarUrl:u,userDisplayName:m,link:f,groupSize:n.groupSize})}}var l,i;return null})),b?s.createElement(A.X,{error:b},s.createElement(Hn,null)):!y&&E&&Z?s.createElement(kn.v,{onScrollTo:S,cursor:Z,observerOptions:{root:null,threshold:.05}},s.createElement(Yn,null)):null);return s.createElement(Zn.Z,{isOpen:u,content:()=>s.createElement(sa,null,I()),onClose:_,placement:"bottom-end",trigger:e=>s.createElement(H.Z,(0,a.Z)({onClick:w,onMouseEnter:k,theme:oa,appearance:"subtle-link",spacing:"none"},e),s.createElement(i.Z,(0,a.Z)((0,a.Z)({},ra.otherActions),{},{values:{num:n}})))})};la.displayName="AllActivityDropdownComponent";const ia=(0,wn.m)({attribution:N.x.SMARTS})(la);var ca=n(381484);const da=(e,t,n,r)=>{const{createAnalyticsEvent:o}=(0,z._)();return(0,s.useCallback)((({type:s,action:l,actionSubject:i,actionSubjectId:c,commentId:d,additionalAttributes:u={},includeNavdex:m=!1})=>{const p=((e,t,n)=>n?{containerType:"page",containerId:e,objectType:"comment",objectId:n}:{containerType:"space",containerId:t,objectType:"page",objectId:e})(e,t,d);o({type:s,data:(0,a.Z)((0,a.Z)({source:"homeScreen",action:l,actionSubject:i,actionSubjectId:c?`${n}-${c}`:n},p),{},{attributes:(0,a.Z)((0,a.Z)((0,a.Z)({},r),u),m&&{navdexPointType:ca.yo})})}).fire()}),[e,t,r,.current};var ma=n(684474),pa=n(261198);const fa=["as","style"],va=["as","style"],ga=["as","style"],ya=["as","style"];n(740691),n(818391),n(867214),n(710797),n(354326),n(258675),n(615237),n(910325),n(520700),n(172113),n(542910),n(953305);const ha=(0,o.defineMessages)({showMore:{id:"feed.card.comment.showMore",defaultMessage:"Show more"}}),ba=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,fa);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_kqswh2mm",o.className])}))}));const Ea=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,va);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1js620i":(0,$.Z)("var(--ds-UNSAFE-transparent, rgba(255, 255, 255, 0))"),"--_jsuf9u":(0,$.Z)(`var(--ds-surface-raised, ${B.YI})`),"--_mpbsya":(0,$.Z)("var(--ds-space-negative-025, -2px)")}),ref:t,className:(0,j.Z)(["_1itktcwm _4t3i1tcg _1bsb1osq _94n5134q _kqswstnw _1pbyzo7u _1e0c1txw _1bahesu3",o.className])}))}));const Za=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,ga);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_idhuqz":(0,$.Z)(`var(--ds-background-input, ${B.YI})`)}),ref:t,className:(0,j.Z)(["_11q71l35 _1wpzesu3",o.className])}))}));const ka=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,ya);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_11rm1hrf",o.className])}))}));const wa=({content:e})=>{const t=e.id,n=(!e.body.format||"ADF"===e.body.format)&&JSON.parse(e.body.value),[r,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),d=(0,s.useRef)(null),{fireAnalyticsEvent:u}=(0,s.useContext)(ln);(0,s.useEffect)((()=>{r&&(d.current||(d.current=new ResizeObserver((e=>{e[0].contentRect.height>85&&c(!0)}))),d.current.observe(r))}),[r,d]);const m=(0,s.useCallback)((()=>{var e;null===(e=d.current)||void 0===e||e.disconnect(),c(!1),u({type:"sendUIEvent",action:"clicked",actionSubject:"button",actionSubjectId:"seeMore",commentId:t,contentId:t})}),[d,c,t,u]);return s.createElement(ba,{ref:o,collapsed:l},"TEXT"===e.body.format?s.createElement("div",null,e.body.value):s.createElement(pa.J,{document:n,portal:null!=r?r:void 0,contentId:t,isTruncatedContent:l,fadeOutHeight:0,maxHeight:85,allowStickyHeaders:!1,appearance:"comment"}),l&&s.createElement(Ea,null,s.createElement(Za,null,s.createElement(H.Z,{onClick:m,appearance:"subtle-link",spacing:"none"},"…",s.createElement(i.Z,(0,a.Z)({},ha.showMore))))),s.createElement(ka,null))};wa.displayName="RenderedContent";var _a=n(486174),xa=n(110718),Ca=n(81995s-in-feed"),Ia=["as","style"],Ma=["as","style"],Ta=["as","style"],Na=["as","style"],Aa=["as","style"];n(221782),n(949650),n(361899),n(692613),n(710797),n(362604),n(655228),n(374396),n(167767),n(456928),n(354326);const Ra=(0,o.defineMessages)({viewComment:{id:"feed.card.comment.viewComment",defaultMessage:"View comment"},like:{id:"feed.card.comment.like",defaultMessage:"Like"},unlike:{id:"feed.card.comment.unlike",defaultMessage:"Unlike"},likes:{id:"feed.card.comments.likes.label",defaultMessage:"Likes"}}),La=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ia);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw _4cvr1h6o",o.className])}))}));const Pa=(0,s.forwardRef)(((e,t)=>{let{as:n=La,style:r}=e,o=(0,U.Z)(e,Ma);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1b5y5cj":(0,$.Z)(`var(--ds-text-subtle, ${B.iw})`)}),ref:t,className:(0,j.Z)(["_syaz1fw9 _k48pbfng",o.className])}))}));const Da=(0,s.forwardRef)(((e,t)=>{let{as:n=La,style:r}=e,o=(0,U.Z)(e,Ta);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1b5y5cj":(0,$.Z)(`var(--ds-text-subtle, ${B.iw})`)}),ref:t,className:(0,j.Z)(["_syaz1fw9 _k48pbfng _4cvresu3",o.isGlobalReactionsAndLikesEnabled?"_1bah1yb4":"_1bahesu3",o.className])}))}));const Fa=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Na);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1vfudzf":(0,$.Z)("var(--ds-space-025, 2px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _19bv13rc _1bahusic _1ul953f4",o.className])}))}));const Oa=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Aa);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_11fpzcn":(0,$.Z)("var(--ds-space-075, 6px)")}),ref:t,className:(0,j.Z)(["_18s81bln",o.className])}))}));const Ua=()=>s.createElement(Oa,null,"•");Ua.displayName="HorizontalSeparator";const $a=({datetime:e,comment:t,pageId:n,contentType:r,intl:o})=>{const{fireAnalyticsEvent:l}=(0,s.useContext)(ln),{isReactionsEnabled:c}=(0,s.useContext)(ma.j),d=Sa(),u=Gt(t),m=e,p=t.id,f=t.likeCount,v=t.isLikedByCurrentUser,{numLikes:g,userLiked:y,handleLikeButton:h}=on(f,v,p),b=(0,s.useCallback)((()=>{h(),l({type:"sendTrackEvent",action:y?"deleted":"created",actionSubject:"like",actionSubjectId:"comment",commentId:p})}),[h,p,y,l]),E=(0,s.useCallback)((()=>{l({type:"sendUIEvent",action:"clicked",actionSubject:"link",actionSubjectId:"feedCardViewComment",commentId:p,includeNavdex:!0})}),[l,p]),Z=y?Ra.unlike:Ra.like,k="page"===r?xa.d.PAGE:xa.d.BLOGPOST,w=s.createElement(Pa,null,c&&s.createElement(s.Fragment,null,s.createElement(H.Z,{onClick:b,appearance:"subtle-link",spacing:"none"},s.createElement(i.Z,(0,a.Z)({},Z))),!!g&&s.createElement(La,null,s.createElement(Ua,null),s.createElement(_a.default,{label:o.formatMessage(Ra.likes),size:"small"}),g),s.createElement(Ua,null)),s.createElement(H.Z,{href:u,onClick:E,appearance:"subtle-link",spacing:"none"},s.createElement(i.Z,(0,a.Z)({},Ra.viewComment))),s.createElement(Ua,null),s.createElement(Cn,{actionTime:m})),_=p&&n&&r&&s.createElement(Da,{"data-testid":"feed-comment-reactions",isGlobalReactionsAndLikesEnabled:c},c&&s.createElement(Ca.M,{contentId:p,location:xa.S.FEED_COMMENT,containerId:n,containerType:k}),s.createElement(Fa,null,s.createElement(H.Z,{href:u,onClick:E,appearance:"subtle-link",spacing:"none"},s.createElement(i.Z,(0,a.Z)({},Ra.viewComment)))));return s.createElement("small",null,d?_:w)};$a.displayName="CommentInfoLineComponent";const ja=(0,Ee.ZP)($a),za=["as","style"],Ha=["as","style"],qa=["as","style"],Ba=["as","style"],Wa=["as","style"],Va=["as","style"],Ga=["as","style"],Ka=["as","style"],Qa=["as","style"];n(195748),n(592867),n(456928),n(678754),n(526548),n(576110),n(234019),n(973368),n(482198),n(946136),n(625480),n(156704),n(341645),n(374396),n(928052),n(867214),n(499210),n(90539),n(953305),n(112728),n(592559),n(645299),n(520700),n(615237),n(506840),n(654172),n(492989),n(108943),n(37635),n(354326);const Xa=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,za);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _n3td1xra",o.className])}))}));const Ya=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ha);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_ytujz3":(0,$.Z)("var(--ds-space-150, 12px)")}),ref:t,className:(0,j.Z)(["_2hwx1bgn",o.className])}))}));const Ja=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,qa);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_16jlkb7n _1ul9idpf",o.className])}))}));const er=(0,s.forwardRef)(((e,t)=>{let{as:n="a",style:r}=e,o=(0,U.Z)(e,Ba);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_80omtlke _kqswstnw _1bsb1osq _4t3i1osq _1pbykb7n",o.className])}))}));const tr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Wa);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)"),"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)"),"--_idhuqz":(0,$.Z)(`var(--ds-background-input, ${B.YI})`),"--_vk2kyf":(0,$.Z)(`var(--ds-text, ${B.xA})`)}),ref:t,className:(0,j.Z)(["_1yt41xra _kqswh2mm _otyr16re _2rkoftgi _11q71l35 _syazx0be",o.className])}))}));const nr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Va);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,j.Z)(["_k48pbfng _otyr16re _1reo15vq _18m915vq _1bto1l2s _o5721q9c",o.className])}))}));const ar=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ga);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1wurlg5":(0,$.Z)(`var(--ds-background-warning, ${B.S_})`),"--_1vfudzf":(0,$.Z)("var(--ds-space-025, 2px)"),"--_mpbsya":(0,$.Z)("var(--ds-space-negative-025, -2px)"),"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,j.Z)(["_1reo15vq _18m915vq _1bto1l2s _o5721q9c _11q71uyw _1bsb1ns9 _p12f1osq _1yt41pm0 _18u0134q _19pk134q _otyr16re",o.className])}))}));const rr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ka);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw _4cvr1h6o",o.className])}))}));const sr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Qa);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,j.Z)(["_otyr16re _18u016re _1pbycs5v",o.className])}))}));const or=({datetime:e,user:t,comment:n,pageId:a,contentType:r})=>{var o;const l=t.displayName,i=Gt(n),c=Qt(t),d=null==t||null===(o=t.profilePicture)||void 0===o?void 0:o.path,u="inlineText"in n.location?n.location.inlineText:null,m=n.id,{fireAnalyticsEvent:p}=(0,s.useContext)(ln),f=(0,s.useCallback)((()=>{p({type:"sendUIEvent",action:"clicked",actionSubject:"link",actionSubjectId:"feedCardViewComment",commentId:m,includeNavdex:!0})}),[p,m]),v=n.commentSource===Wt.ANDROID||n.commentSource===Wt.IOS,g=null!=l?l:"";return s.createElement(Xa,null,s.createElement(Ya,null,s.createElement(jt.S,{userId:c,src:d,canViewProfile:!0,size:"small",name:g})),s.createElement(Ja,null,s.createElement(tr,null,s.createElement(er,{href:i,onClick:f,"data-testid":"comment-content-link"}),s.createElement(rr,null,s.createElement(nr,null,l),v&&s.createElement(sr,{"data-testid":"pbc-icon"},s.createElement($t.M,{source:"homePageActivityFeedCardInnerComment",objectId:n.id}))),u&&s.createElement(ar,null,u),s.createElement(wa,{content:n})),s.createElement(ja,{datetime:e,comment:n,pageId:a,contentType:r})))};or.displayName="Comment";const lr=({comments:e,pageId:t,contentType:n})=>s.createElement("div",{"data-testid":"feed-card-comments"},e.map((e=>null!=e&&e.comment?s.createElement(or,{key:e.comment.id,datetime:e.datetime,user:e.user,comment:e.comment,pageId:t,contentType:n}):null)));lr.displayName="Comments";var ir=n(923444),cr=n(134641);const dr=["as","style"],ur=["children"],mr=["as","style"],pr=["as","style"],fr=["as","style"],vr=["as","style"];n(530116),n(535358),n(993534),n(97115),n(698297),n(593940),n(410258),n(416473),n(539910),n(465206),n(456928),n(688438),n(36496),n(212624),n(722637),n(26718),n(441846),n(264144),n(588744),n(100897),n(90539),n(329498),n(60795),n(625480),n(946136),n(144961),n(374396),n(880239),n(953305),n(156704),n(341645),n(354326);const gr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,dr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw _1reo15vq _18m915vq",o.className])}))}));gr.defaultProps={"data-styled-selector":"feed.TooltipContainer"};const yr=(0,s.forwardRef)(((e,t)=>{const{children:n}=e,r=(0,U.Z)(e,ur);return s.createElement(gr,(0,a.Z)((0,a.Z)({},r),{},{ref:t}),n)})),hr=(0,s.forwardRef)(((e,t)=>{let{as:n="a",style:r}=e,o=(0,U.Z)(e,mr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,j.Z)(["_kqswh2mm _1wyb7vkz _k48pbfng _vwz4gktf _1reo15vq _18m915vq _o5721q9c _1bto1l2s _u5f316re",o.className])}))}));hr.defaultProps={"data-styled-selector":"feed.Title"};const br=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,pr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)"),"--_1msoq6k":(0,$.Z)(`var(--ds-text, ${B.q2})`),"--_14m5lqx":(0,$.Z)(`var(--ds-text-discovery, ${B.HD})`),"--_1anak9l":(0,$.Z)(`var(--ds-text-subtle, ${B.q2})`)}),ref:t,className:(0,j.Z)(["_1e0c1txw _4cvr1q9y _otyr16re _1g4k11fv _1es6qtoz _n2s9d765 _27nn1r31 _u9bwglyw _1cncnqa1",o.className])}))}));const Er=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,fr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)"),"--_u8u13a":(0,$.Z)("var(--ds-space-0, 0)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _2hwx16re _o0p07vkz _19lo1nwy",o.className])}))}));const Zr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,vr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw _4cvr1h6o _1reo15vq _18m915vq _4t3i7vkz _1bsb7vkz _1wyb7vkz _19pkidpf _2hwxidpf _otyridpf _18u0idpf _172pidpf _1hcdidpf _1oyyidpf _19h8idpf",o.className])}))}));const kr=({contentTitle:e,contentUrl:t,contentType:n,emoji:a,customIconUrl:r})=>{const{fireAnalyticsEvent:o}=(0,s.useContext)(ln),l=(0,s.useCallback)((()=>{o({type:"sendUIEvent",action:"clicked",actionSubject:"link",actionSubjectId:"feedCard",includeNavdex:!0})}),[o]),i=r?s.createElement("span",{style:{lineHeight:"1"}},s.createElement("img",{alt:"",src:r,width:"16",height:"16","aria-hidden":"true",style:{verticalAlign:"bottom"}})):a?s.createElement(ir.ue,{emoji:a,context:"feedCardBodyIcon",height:16,wrapper:Zr}):s.createElement(cr.ContentIcon,{type:n,size:"small"});return s.createElement(br,null,s.createElement(Er,null,i),s.createElement(Xe.Z,{content:e,tag:yr},s.createElement(hr,{href:t,onClick:l,"data-testid":"feed-card-title-link"},e)))};kr.displayName="FeedCardTitle";var wr=n(782995);const _r=["as","style"],xr=["as","style"];n(760806),n(456928),n(280831),n(167767),n(354326);const Cr=(0,o.defineMessages)({createdBy:{id:"feed.card.byline.createdBy",defaultMessage:"Created by {name}"},ownedBy:{id:"feed.card.byline.ownedBy",defaultMessage:"Owned by {name}"}}),Sr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,_r);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1b5y5cj":(0,$.Z)(`var(--ds-text-subtle, ${B.iw})`)}),ref:t,className:(0,j.Z)(["_1e0c1txw _syaz1fw9 _1n261g80 _4cvr1h6o",o.className])}))}));const Ir=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,xr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,j.Z)(["_18s81b8i",o.className])}))}));const Mr=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{fontWeight:400}),spinnerStyles:r}},Tr=({text:e,url:t,analyticsId:n})=>{const{fireAnalyticsEvent:a}=(0,s.useContext)(ln),r=(0,s.useCallback)((()=>{a({type:"sendUIEvent",action:"clicked",actionSubject:"link",actionSubjectId:n,includeNavdex:!0})}),[a,n]);return t?s.createElement(H.Z,{href:t,onClick:r,theme:Mr,appearance:"subtle-link",spacing:"none"},e):s.createElement("span",null,e)};Tr.displayName="LinkOrText";const Nr=({spaceName:e,spaceUrl:t,authorName:n,authorId:r,ownerName:o,ownerId:l,timestamp:c=""})=>{const d=(0,We.p)(r,"feed-alpha",Ge.b),u=l||r,m=o||n,p=(0,We.p)(l,"feed-alpha",Ge.b)||d,f=o?Cr.ownedBy:Cr.createdBy;return s.createElement(Sr,null,m&&s.createElement(i.Z,(0,a.Z)((0,a.Z)({},f),{},{values:{name:s.createElement(wr.t,{userId:u},s.createElement(Tr,{text:m,url:p,analyticsId:"feedCardContentAuthor"}))}})),m&&c&&s.createElement(Ir,null,"•"),c&&s.createElement(Cn,{actionTime:c}),e&&(m||c)&&s.createElement(Ir,null,"•"),e&&s.createElement(Tr,{text:e,url:t,analyticsId:"feedCardSpace"}))};Nr.displayName="FeedCardByLine";var Ar=n(411947);const Rr=["as","style"],Lr=["as","style"],Pr=["as","style"],Dr=["as","style"],Fr=["as","style"],Or=["as","style"];n(221782),n(486961),n(66777),n(502083),n(361899),n(38616),n(692613),n(664418),n(710797),n(362604),n(655228),n(374396),n(167767),n(456928),n(354326);const Ur=(0,o.defineMessages)({like:{id:"feed.card.like",defaultMessage:"Like"},unlike:{id:"feed.card.unlike",defaultMessage:"Unlike"},likes:{id:"feed.card.likes.label",defaultMessage:"Likes"},comments:{id:"feed.card.comments.label",defaultMessage:"Comments"},likeMutationErrorTitle:{id:"feed.card.like.mutation.error.title",defaultMessage:"We’re having trouble liking that page"},unlikeMutationErrorTitle:{id:"feed.card.unlike.mutation.error.title",defaultMessage:"We’re having trouble unliking that page"},likeMutationErrorDescription:{id:"feed.card.like.mutation.error.description",defaultMessage:"Try it again."}}),$r=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Rr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw _4cvr1h6o",o.className])}))}));const jr=(0,s.forwardRef)(((e,t)=>{let{as:n=$r,style:r}=e,o=(0,U.Z)(e,Lr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1b5y5cj":(0,$.Z)(`var(--ds-text-subtle, ${B.iw})`)}),ref:t,className:(0,j.Z)(["_syaz1fw9 _k48pbfng",o.className])}))}));const zr=(0,s.forwardRef)(((e,t)=>{let{as:n=$r,style:r}=e,o=(0,U.Z)(e,Pr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1b5y5cj":(0,$.Z)(`var(--ds-text-subtle, ${B.iw})`)}),ref:t,className:(0,j.Z)(["_syaz1fw9 _k48pbfng _4cvresu3",o.isGlobalReactionsAndLikesEnabled?"_1bah1yb4":"_1bahesu3",o.className])}))}));const Hr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Dr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_11fpzcn":(0,$.Z)("var(--ds-space-075, 6px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _2hwxewg3",o.className])}))}));const qr=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Fr);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1vfudzf":(0,$.Z)("var(--ds-space-025, 2px)"),"--_1nvt7kj":(0,$.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _19bv13rc _n3td16re _1bahusic _1ul9fp70 _k48p1nn1 _lb9e16re",o.className])}))}));const Br=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Or);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_11fpzcn":(0,$.Z)("var(--ds-space-075, 6px)")}),ref:t,className:(0,j.Z)(["_18s81bln",o.classeElement(Br,null,"•");Wr.displayName="HorizontalSeparator";const Vr=({userLiked:e,handleLikeClick:t,numLikes:n,numComments:r,contentId:o,contentType:l,spaceId:c,intl:d,likeMutationError:u})=>{const{fireAnalyticsEvent:m}=(0,s.useContext)(ln),{isReactionsEnabled:p}=(0,s.useContext)(ma.j),f=Sa(),v=(0,s.useCallback)((()=>{t(),m({type:"sendTrackEvent",action:e?"deleted":"created",actionSubject:"like",actionSubjectId:"content"})}),[t,e,m]),g=e?Ur.unlike:Ur.like,y="page"===l?xa.S.FEED_PAGE:xa.S.FEED_BLOGPOST,h=s.createElement(jr,{"data-testid":"feed-card-action-counts"},p&&s.createElement(s.Fragment,null,s.createElement(ke.Z,{onClick:v,appearance:"subtle-link",spacing:"none"},s.createElement(i.Z,(0,a.Z)({},g))),(!!n||!!r)&&s.createElement(Wr,null),!!n&&s.createElement(Hr,{"data-testid":"content-likes-count"},s.createElement(_a.default,{label:d.formatMessage(Ur.likes),size:"small"}),n),u&&s.createElement(A.X,{error:u})),!!r&&s.createElement($r,{"data-testid":"content-comments-count"},s.createElement(Ar.default,{label:d.formatMessage(Ur.comments),size:"small"}),r)),b=o&&l&&c&&s.createElement(zr,{isGlobalReactionsAndLikesEnabled:p,"data-testid":"feed-content-reactions"},p&&s.createElement(Ca.X,{contentId:o,location:y,containerId:c,containerType:xa.d.SPACE}),!!r&&s.createElement(qr,null,s.createElement(Ar.default,{label:d.formatMessage(Ur.comments),size:"small"}),s.createElement(i.Z,{id:"feed.comment.count",defaultMessage:"{numComments, plural, one {1 comment} other {# comments}}",values:{numComments:r}})));return s.createElement("small",null,f?b:h)};Vr.displayName="FeedCardActionCountsComponent";const Gr=(0,Ee.ZP)(Vr);var Kr=n(654927),Qr=n.n(Kr),Xr=n(293583);const Yr=Ke.ZP`query FeedCardActionsMenuQuery($contentId:ID!){singleContent(id:$contentId){id metadata{currentuser{favourited{isFavourite}}}}}`;var Jr=n(984880),es=n(711518);const ts=(0,r.Z)(ke.Z,{target:"e1ext-subtlest, ${B.Bn})`)," !important;min-width:32px;}"),ns=(0,r.Z)("div",{target:"e15bvzuk1"})("transition:ease-in 150ms;opacity:",(({forceShow:e})=>e?"1":"var(--show-action)"),";"),as=Ke.ZP`mutation StarMutation($contentId:ID!){favouritePage(favouritePageInput:{pageId:$contentId}){content{id metadata{currentuser{favourited{isFavourite}}}}}}`,rs=Ke.ZP`mutation UnstarMutation($contentId:ID!){unfavouritePage(favouritePageInput:{pageId:$contentId}){content{id metadata{currentuser{favourited{isFavourite}}}}}}`,ss=(0,o.defineMessages)({starMutationErrorTitle:{id:"feed.card.star.mutation.error.title",defaultMessage:"We’re having trouble starring that page"},unstarMutationErrorTitle:{id:"feed.card.unstar.mutation.error.title",defaultMessage:"We’re having trouble unstarring that page"},starMutationErrorDescription:{id:"feed.card.star.mutation.error.description",defaultMessage:"Try it again."}});const os=(0,o.defineMessages)({star:{id:"feed.card.star.general",defaultMessage:"Star"},unstar:{id:"feed.card.unstar.general",defaultMessage:"Unstar"}}),ls=({intl:e,contentId:t,isStarred:n})=>{const{fireAnalyticsEvent:r}=(0,s.useContext)(ln),[o,l]=function(e){const{showFlag:t}=(0,S.Vb)(),n=(0,s.useCallback)((e=>()=>{t({description:s.createElement(i.Z,(0,a.Z)({},ss.starMutationErrorDescription)),title:s.createElement(i.Z,(0,a.Z)({},e?ss.unstarMutationErrorTitle:ss.starMutationErrorTitle)),icon:s.createElement(Je.default,{label:"error",primaryColor:`var(--ds-icon-danger, ${B.$H})`}),isAutoDismiss:!0})}),[t]),[r,{error:o}]=(0,x.Db)(as,{variables:{contentId:e},optimisticResponse:{favouritePage:{__typename:"FavouritePagePayload",content:{__typename:"Content",id:e,metadata:{__typename:"ContentMetadata",currentuser:{__typename:"ContentMetadata_CurrentUserMetadataProvider_currentuser",favourited:{__typename:"FavouritedSummary",isFavourite:!0}}}}}},onError:n(!1)}),[l,{error:c}]=(0,x.Db)(rs,{variables:{contentId:e},optimisticResponse:{unfavouritePage:{__typename:"UnfavouritePagePayload",content:{__typename:"Content",id:e,metadata:{__typename:"ContentMetadata",currentuser:{__typename:"ContentMetadata_CurrentUserMetadataProvider_currentuser",favourited:null}}}}},onError:n(!0)});return[(0,s.useCallback)((async e=>{try{e?await l():await r()}catch(t){}}),[r,l]),o||c]}(t),c=(0,s.useCallback)((async()=>{await o(n),r({type:"sendUIEvent",action:n?"deleted":"created",actionSubject:"favouritePage",actionSubjectId:"feedCardDropdown"})}),[r,o,n]),d=n?s.createElement(es.C,{label:e.formatMessage(os.unstar)}):s.createElement(Jr.default,{label:e.formatMessage(os.star)});return s.createElement(s.Fragment,null,l&&s.createElement(A.X,{error:l}),s.createElement(Xe.Z,{content:s.createElement(i.Z,(0,a.Z)({},n?os.unstar:os.star)),position:"top",hideTooltipOnClick:!0},s.createElement(ns,{forceShow:n},s.createElement(ts,{onClick:c,appearance:"subtle",iconBefore:d}))))};ls.displayName="FeedCardStarActionComponent";const is=(0,Ee.ZP)(ls);var cs=n(414358),ds=n(821545),us=n(821224),ms=n(695219),ps=n(324099);const fs=(0,o.defineMessages)({watch:{id:"feed.card.watch",defaultMessage:"Watch"},unwatch:{id:"feed.card.unwatch",defaultMessage:"Unwatch"}}),vs=({intl:e,isWatching:t,isSelected:n,onClick:r,onMouseOver:o,triggerProps:l,setIsMenuOpen:c})=>{const{fireAnalyticsEvent:d}=(0,s.useContext)(ln);(0,s.useEffect)((()=>{c(n)}),[c,n]);const u=(0,s.useCallback)((async()=>{r(),d({type:"sendUIEvent",action:t?"unwatched":"watched",actionSubject:"page-watch-button",actionSubjectId:"feedCardDropdown"})}),[r,d,t]),m=t?s.createElement(ds.default,{label:e.formatMessage(fs.unwatch)}):s.createElement(cs.default,{label:e.formatMessage(fs.watch)});return s.createElement(Xe.Z,{content:s.createElement(i.Z,(0,a.Z)({},t?fs.unwatch:fs.watch)),position:"top",hideTooltipOnClick:!0},s.createElement(ts,(0,a.Z)({onClick:u,onMouseOver:o,appearance:"subtle",iconBefore:m,isSelected:n},l)))};vs.displayName="WatchTriggerComponent";const gs=(0,Ee.ZP)(vs),ys=({contentId:e,setIsMenuOpen:t,hasCardBeenHovered:n})=>{const r=(0,s.useCallback)((e=>s.createElement(gs,(0,a.Z)((0,a.Z)({},e),{},{setIsMenuOpen:t}))),[t]);return s.createElement(ns,null,n?s.createElement(us.Q,{contentId:e,defaultTab:ms.A.PAGE,customTrigger:r,useShortcut:!1}):s.createElement(ps.z,null))};ys.displayName="FeedCardWatchAction";var hs=n(698837),bs=n(564574);const Es=(0,o.defineMessages)({share:{id:"feed.card.share",defaultMessage:"Share"}}),Zs=({intl:e,buttonProps:t,setIsMenuOpen:n})=>{const{isSelected:,s.useEffect)((()=>{n(!!r)}),[n,r]),s.createElement(Xe.Z,{content:s.createElement(i.Z,(0,a.Z)({},Es.share)),position:"top",hideTooltipOnClick:!0},s.createElement(ts,(0,a.Z)((0,a.Z)({},t),{},{appearance:"subtle",iconBefore:s.createElement(hs.default,{label:e.formatMessage(Es.share)})})))};Zs.displayName="ShareTriggerComponent";const ks=(0,Ee.ZP)(Zs),ws=({contentId:e,contentUrl:t,contentTitle:n,contentType:r,contentSubType:o,setIsMenuOpen:l})=>{const{fireAnalyticsEvent:i}=(0,s.useContext)(ln),{userId:c}=(0,D.D)(),d=(0,s.useCallback)(((e,t)=>{const{onClick:n}=e;return n&&(e.onClick=(...e)=>{n(...e),i({type:"sendUIEvent",action:"clicked",actionSubject:"button",actionSubjectId:"share"})}),s.createElement(ks,{buttonProps:(0,a.Z)((0,a.Z)({},e),t),setIsMenuOpen:l})}),[i,l]);return s.createElement(ns,null,s.createElement(bs.Xl,{contentId:e,contentType:r,contentSubType:o,title:n,userId:c||"",link:`${window.location.origin}${t}`,renderCustomTriggerButton:d}))};ws.displayName="FeedCardShareAction";const _s=(0,r.Z)("div",{target:"emi9sv20"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),xs=({contentId:e,contentUrl:t,contentTitle:n,contentType:a,contentSubType:r,setIsActionMenuOpen:o,hasCardBeenHovered:l,source:i,lastModifiedDate:c})=>{const{data:d,error:u}=(0,x.aM)(Yr,{variables:{contentId:e}}),{isAdminHubAIEnabled:m}=(0,D.D)();let p=!1;m&&(p="test"===Qr().getExperimentValue("confluence_quick_summary_in_feed","cohort","control"));return s.createElement(_s,{"data-testid":"feed-card-actions"},s.createElement(ws,{contentId:e,contentUrl:t,contentTitle:n,contentType:a,contentSubType:r,setIsMenuOpen:o}),s.createElement(ys,{contentId:e,setIsMenuOpen:o,hasCardBeenHovered:l}),(()=>{var t;if(u)return s.createElement(A.X,{error:u});const n=!(null==d||null===(t=d.singleContent)||void 0===t||null===(t=t.metadata)||void 0===t||null===(t=t.currentuser)||void 0===t||null===(t=t.favourited)||void 0===t||!t.isFavourite);return s.createElement(is,{contentId:e,isStarred:n})})(),p&&s.createElement(Xr.V,{contentId:e,contentType:a,source:i,lastModifiedDate:c,setIsFeedMenuOpen:o}))};xs.displayName="FeedCardActions";const Cs=["as","style"],Ss=["as","style"],Is=["as","style"],Ms=["as","style"],Ts=["as","style"],Ns=["as","style"],As=["as","style"],Rs=["as","style"];n(991532),n(711072),n(233438),n(946136),n(357290),n(841468),n(362604),n(354326),n(403387),n(625480),n(156704),n(341645),n(821631),n(338508),n(963702),n(451176),n(474183),n(654172),n(101033),n(937604),n(492989),n(273639),n(781149);const Ls=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Cs);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_7rwz3f":(0,$.Z)("var(--ds-border, #f0f0f3)"),"--_h7os2z":(0,$.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,j.Z)(["_x3do6zln _ca0q1xra",o.className])}))}));const Ps=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ss);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_16jlkb7n _1o9zkb7n _i0dlf1ug _1ul9idpf",o.className])}))}));const Ds=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Is);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_ytujz3":(0,$.Z)("var(--ds-space-150, 12px)")}),ref:t,className:(0,j.Z)(["_c71l1ylp _otyr1bgn _1e0ccj1k _1yyjcs5v _sudp1e54 _1reo15vq _18m915vq _1bto1l2s _1nmz1hna",o.className])}))}));const Fs=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ms);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw",o.className])}))}));const Os=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ts);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_ytujz3":(0,$.Z)("var(--ds-space-150, 12px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _1bah1yb4 _4cvr1y6m _otyr1bgn",o.className])}))}));const Us=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Ns);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1e0c1txw _2lx21bp4 _1reo15vq _18m915vq _1bto1l2s _o5721q9c",o.className])}))}));const $s=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,As);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_1ul9idpf _16jlkb7n",o.className])}))}));const js=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Rs);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_ytujz3":(0,$.Z)("var(--ds-space-150, 12px)"),"--_7rwz3f":(0,$.Z)("var(--ds-border, #f0f0f3)")}),ref:t,className:(0,j.Z)(["_19pk1bgn _ca0q1bgn _n3tdidpf _x3do6zln",o.className])}))}));const zs=({toggleActionMenu:e,contentId:t,contentTitle:n,contentType:a,contentSubType:r,contentUrl:o,spaceId:l,spaceName:i,spaceUrl:c,authorName:d,authorId:u,ownerName:m,ownerId:p,emoji:f,customIconUrl:v,contentExcerpt:g,numLikes:y,handleLikeClick:h,likeMutationError:b,userLiked:E,numComments:Z,hideSocialProof:k,comment:w,renderedContent:_,popularCardLayout:x=!1,timestamp:C,hideActions:S,hasBeenHovered:I,lastModifiedDate:M,source:T})=>{const N=x?Ps:Ls,A=m&&"page"===a;return s.createElement(ma.I,{contentId:t},s.createElement(N,null,s.createElement(Fs,null,s.createElement($s,null,s.createElement(Os,null,s.createElement(Us,null,s.createElement(kr,{contentTitle:n,contentUrl:o,contentType:a,emoji:f,customIconUrl:v}),A?s.createElement(Nr,{spaceName:i,spaceUrl:c,ownerName:m,ownerId:p,timestamp:C}):s.createElement(Nr,{spaceName:i,spaceUrl:c,authorName:d,authorId:u,timestamp:C})),!S&&s.createElement(xs,{contentUrl:o,contentId:t,contentTitle:n,contentType:a,contentSubType:r,setIsActionMenuOpen:e,hasCardBeenHovered:I,source:T,lastModifiedDate:M||""})),g&&s.createElement(Ds,null,g),!k&&s.createElement(Gr,{numLikes:y,userLiked:E,handleLikeClick:h,numComments:Z,likeMutationError:b,contentId:t,contentType:a,spaceId:l}))),w&&s.createElement(js,null,s.createElement(lr,{comments:[w],pageId:t,contentType:a})),_&&s.createElement(wa,{content:_})))};zs.displayName="FeedCardBody";const Hs=(e,t)=>{const{buttonStyles:n,spinnerStyles:r}=e(t);return{buttonStyles:(0,a.Z)((0,a.Z)({},n),{},{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"}),spinnerStyles:r}},qs=({href:e})=>{const{fireAnalyticsEvent:t}=(0,s.useContext)(ln),n=(0,s.useCallback)((()=>{t({type:"sendUIEvent",action:"clicked",actionSubject:"link",actionSubjectId:"feedCard",includeNavdex:!0})}),[t]);return s.createElement(H.Z,{href:e,appearance:"link",theme:Hs,onClick:n,testId:"feed-card-body-link"})};qs.displayName="FeedCardInvisibleFullSizedLink";const Bs=(0,r.Z)("div",{target:"e1e6fqpv0"})("display:flex;flex-direction:row;background:",`var(--ds-sur(--ds-border-radius, 3px);")," padding:var(--ds-space-200, 16px);margin-bottom:var(--ds-space-150, 12px);& > div{width:100%;}"),Ws=(0,r.Z)("div",{target:"e1e6fqpv1"})("position:relative;display:flex;flex-direction:row;background:",`var(--ds-surface-raised, ${B.N0})`,";",(({isHomeRefreshEnabled:e})=>e?`border: 1px solid var(--ds-border, ${B.YS});\n        border-radius: var(--ds-border-radius-200, 8px);\n        &:hover {\n          box-shadow: var(--ds-shadow-raised, 0px 1px 1px rgba(9, 30, 66, 0.25), 0px 0px 1px rgba(9, 30, 66, 0.31));\n        }`:`box-shadow: var(--ds-shadow-raised, 0px 1px 1px rgba(9, 30, 66, 0.25), 0px 0px 1px rgba(9, 30, 66, 0.31));\n        border-radius: var(--ds-border-radius, 3px);\n        &:hover {\n          background: var(--ds-surface-raised-hovered, ${B.N0});\n          box-shadow: var(--ds-shadow-raised, 0 8px 16px -4px ${B.Nx}, 0 0 1px ${B.VG});\n          transition: box-shadow 300ms;\n        }`)," padding:var(--ds-space-200, 16px);margin-bottom:var(--ds-space-150, 12px);--show-action:",(({isActionMenuOpen:e})=>e?1:0),";&:hover,&:active,&:focus-within{cursor:pointer;--show-aadeIn 200ms ease-in-out;\n"),""),Vs=(0,r.Z)("div",{target:"e1e6fqpv2"})({name:"x8lek5",styles:"padding-right:var(--ds-space-200, 16px);"}),Gs=(0,r.Z)("div",{target:"e1e6fqpv3"})({name:"11dfn0q",styles:"display:flex;flex-direction:column;flex:1;min-width:0;"}),Ks=(0,r.Z)("div",{target:"e1e6fqpv4"})({name:"uaxv7l",styles:"display:flex;align-items:center;margin-bottom:var(--ds-space-150, 12px);"}),Qs=(0,r.Z)("div",{target:"e1e6fqpv5"})("display:flex;flex-direction:row;color:",`var(--ds-text-subtle, ${B.iw})`,";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;flex-grow:1;padding:var(--ds-space-050, 4px);margin:var(--ds-space-negative-050, -4px);margin-right:var(--ds-space-050, 4px);"),Xs=(0,r.Z)("div",{target:"e1e6fqpv6"})("color:",`var(--ds-text-subtle, ${B.iw})`,";display:flex;align-items:center;flex-shrink:0;"),Ys=(0,r.Z)("div",{target:"e1e6fqpv7"})({name:"ojxxjw",styles:"margin:0 var(--ds-space-050, 4px);"}),Js=(0,r.Z)("div",{target:"e1e6fqpv8"})({name:"1ef6ohv",styles:"margin-left:var(--ds-space-050, 4px);z-index:2;"}),eo=(0,s.memo)((({feedItem:e,ranking:t,disableAnimation:n})=>{var a,r,o,l,i,c,d,m,p,f,v,g,y,h,b,E,Z,k;const w=(0,u.T)("confluence.frontend.home-visual-refresh"),_=ua(),[x,C]=(0,s.useState)(!1),[S,I]=(0,s.useState)(!1),M=(0,s.useRef)(null),T=e.summaryLineUpdate,N=e.recentActionsCount,A=Qt(T.user),R=null==T?void 0:T.type,L=Vt(e.content),P=null==T?void 0:T.datetime,D=(null==e||null===(a=e.content)||void 0===a?void 0:a.id)||"",F=((e,t,n)=>{const a=e.type;if("COMMENT"===a){var r;const t=null===(r=e.comment)||void 0===r?void 0:r.links.webui;return t?`${Ge.b}${t}`:""}if("CREATE"===a)return t;if("EDIT"===a){const t=e.version,a={query:{pageId:n,selectedPageVersions:[t,t-1]}};return Ht.yM.toUrl({},a)}return""})(T,L,D),O=(null==e||null===(r=e.content)||void 0===r?void 0:r.type)||"page",U=null==e||null===(o=e.content)||void 0===o?void 0:o.subType,$=(null==e||null===(l=e.content)||void 0===l?void 0:l.title)||"",j=e.content.excerpt,z=(null==e||null===(i=e.content)||void 0===i||null===(i=i.history)||void 0===i||null===(i=i.createdBy)||void 0===i?void 0:i.displayName)||"",H=(null==e||null===(c=e.content)||void 0===c||null===(c=c.history)||void 0===c||null===(c=c.ownedBy)||void 0===c?void 0:c.displayName)||"",q=(null==e||null===(d=e.content)||void 0===d||null===(d=d.space)||void 0===d?void 0:d.id)||"",B=(null==e||null===(m=e.content)||void 0===m||null===(m=m.space)||void 0===m?void 0:m.name)||"",W=(null===(p=e.content)||void 0===p||null===(p=p.metadata)||void 0===p?void 0:p.lastModifiedDate)||"",V=(null==e||null===(f=e.content)||void 0===f||null===(f=f.likes)||void 0===f?void 0:f.count)||0,G=(0,zt.L7)(e.content),K=(null==e||null===(v=e.content)||void 0===v||null===(v=v.metadata)||void 0===v||null===(v=v.comments)||void 0===v?void 0:v.commentsCount)||0,Q=Kt(e.content),X=Qt(null===(g=e.content.history)||void 0===g?void 0:g.createdBy)||"",Y=Qt(null===(y=e.content.history)||void 0===y?void 0:y.ownedBy)||"",J=(null==e||null===(h=e.content)||void 0===h||null===(h=h.likes)||void 0===h?void 0:h.currentUserLikes)||!1,ee=R===qt.COMMENT&&null===T.comment,te=(ne=e.summaryLineUpdate.type,Xt.includes(ne));var ne;const{numLikes:ae,userLiked:re,handleLikeButton:se,likeMutationError:oe}=on(V,J,D),le=e.source.reduce(((e,t)=>(t===Bt.PERSON&&A?e.push(A):t===Bt.SPACE&&q&&e.push(q),e)),[]),ie=null==T||null===(b=T.comment)||void 0===b?void 0:b.commentSource,ce=R===qt.COMMENT&&(ie===Wt.IOS||ie===Wt.ANDROID),de=s.useCallback((()=>{C(!0)}),[C]),ue=da(D,q,"following",{ranking:t,contentType:O,updateType:R,sourceIds:le,isFromSource:e.source,recentActionsCount:N,likesCount:ae,commentsCount:K,lastUpdated:new Date(T.datetime).getTime()}),me=(0,s.useCallback)((()=>{ue({type:"sendTrackEvent",action:"observed",actionSubject:"feedCard"})}),[ue]);(0,bct:"nullCommentFeedCard"})}),[ee,ue]);const pe=(0,s.useMemo)((()=>({fireAnalyticsEvent:ue})),[ue]);return ee||!te?null:s.createElement(ln.Provider,{value:pe},s.createElement(Ws,{"data-testid":"feed-card",isActionMenuOpen:S,disableAnimation:_||n,onMouseEnter:de,onFocus:de,isHomeRefreshEnabled:w},s.createElement(qs,{href:L}),s.createElement(Vs,null,s.createElement(jt.S,{userId:A,src:(null===(E=T.user)||void 0===E||null===(E=E.profilePicture)||void 0===E?void 0:E.path)||"",canViewProfile:!0,size:"medium",name:null!==(Z=null===(k=T.user)||void 0===k?void 0:k.displayName)&&void 0!==Z?Z:""})),s.createElement(Gs,null,s.createElement(Ks,null,s.createElement(Qs,null,s.createElement(En,{type:R,userDisplayName:T.user.displayName,link:F,groupSize:T.groupSize,activityDropdownLineItem:!1}),s.createElement(Ys,null,"•"),s.createElement(Cn,{actionTime:P}),ce&&s.createElement(Js,{"data-testid":"pbc-icon"},s.createElement($t.M,{source:"homePageActivityFeedCardOuterComment"}))),s.createElement(Xs,null,N>1&&s.createElement(ia,{contentUrl:L,contentId:D,recentActionsCount:N}))),s.createElement(zs,{toggleActionMenu:I,contentId:D,emoji:G,contentTitle:$,contentType:O,contentSubType:U,contentUrl:L,spaceId:q,spaceName:B,spaceUrl:Q,authorName:z,authorId:X,ownerName:H,ownerId:Y,contentExcerpt:j,numLikes:ae,handleLikeClick:se,likeMutationError:oe,userLiked:re,numComments:K,lastModifiedDate:W,comment:R===qt.COMMENT?T:void 0,hasBeenHovered:x,source:"following-feed"}),s.createElement("div",{ref:M}))))}));var to=n(219035),no=n(723177),ao=n(957262),ro=n(152853),so=n(19456);const oo=(0,o.defineMessages)({errorHeader:{id:"feed.error.pagination.header",defaultMessage:"We couldn’t load more content"},buttonText:{id:"feed.error.pagination.button.text",defaultMessage:"Try again"}}),lo=({refetch:e,intl:t})=>{const[n,r]=(0,s.usesync()=>{r(!0),await e(),r(!1)}),[e,r]),l=s.createElement(to.Z,{onClick:o,isLoading:n},s.createElement(i.Z,(0,a.Z)({},oo.buttonText)));return s.createElement(so.Z,{header:t.formatMessage(oo.errorHeader),imageUrl:Fn,imageHeight:95,primaryAction:l})};lo.displayName="PaginationFeedErrorComponent";const io=(0,Ee.ZP)(lo),co=(0,o.defineMessages)({errorHeader:{id:"feed.error.generic.header",defaultMessage:"We couldn’t load the feed"},errorDescription:{id:"feed.error.generic.description",defaultMessage:"Refresh the page to try again."},buttonText:{id:"feed.error.generic.button.text",defaultMessage:"Refresh"}}),uo=({intl)((()=>{window.location.reload()}),[]),n=s.createElement(ke.Z,{onClick:t},s.createElement(i.Z,(0,a.Z)({},co.buttonText)));return s.createElement(so.Z,{header:e.formatMessage(co.errorHeader),description:e.formatMessage(co.errorDescription),imageUrl:Fn,imageHeight:95,primaryAction:n})};uo.displayName="GenericFeedErrorComponent";const mo=(0,Ee.ZP)(uo),po=n.p+"fC2vsyHtjO.svg",fo=n.p+"xMlyrYblYc.svg",vo=["as","style"];n(885815),n(544814);const go=(0,o.defineMessages)({header:{id:"feed.end-of-feed.header",defaultMessage:"No more activity"},description:{id:"feed.end-of-feed.description",defaultMessage:"Check back later or refine your feed for more updates"},buttonText:{id:"feed.end-of-feed.button.text",defaultMessage:"Edit feed"}}),yo=(0,s.forwardRef)(((e,t)=>{let{as:n=Ze.Z,style:r}=e,o=(0,U.Z)(e,vo);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_p12f1n2x _c71l1n2x",o.className])}))}));const ho=({intl:e,openActivityFilterModal:t})=>{const n=s.createElement(ke.Z,{onClick:t},s.createElement(i.Z,(0,a.Z)({},go.buttonText)));return s.createElement("div",{"data-testid":"end-of-feed-message"},s.createElement(so.Z,{header:e.formatMessage(go.header),description:t?e.formatMessage(go.description):void 0,primaryAction:t?n:void 0,renderImage:()=>s.createElement(yo,{src:po,srcDark:fo,width:"74",height:"74",alt:""}),imageHeight:74}))};ho.displayName="EndOfFeedComponent";const bo=(0,Ee.ZP)(ho);var Eo=n(474168),Zo=n(701256);const ko=(0,r.Z)("div",{target:"e1xzdv7t0"})("margin-bottom:var(--ds-space-200, 16px);",(0,Ut.nk)(),";"),wo=(0,r.Z)("div",{target:"e1xzdv7t1"})("background:",`var(--ds-skeleton, ${B.os})`,";height:197px;width:100%;border-radius:",(({isHomeRefreshEnabled:e})=>e?"var(--ds-border-radius-100, 8px)":"var(--ds-border-radius, 4px)"),";"),_o=({useEntranceAnimation:e})=>{const t=(0,u.T)("confluence.frontend.home-visual-refresh");return e?s.createElement(Eo.ZP,{entranceDirection:"bottom"},(e=>s.createElement(ko,(0,a.Z)((0,a.Z)({},e),{},{"data-testid":"feed-card-skeleton"}),s.createElement(wo,{isHomeRefreshEnabled:t})))):s.createElement(ko,{"data-testid":"feed-card-skeleton"},s.createElement(wo,{isHomeRefreshEnabled:t}))};_o.displayName="FeedCardSkeleton";const xo=(0,s.memo)((({useEntranceAnimation:e})=>{const t=e?Zo.Z:s.Fragment;return s.createElement(t,{columns:1},s.createElement(_o,{useEntranceAnimation:e}),s.createElementeEntranceAnimation:e}))}),(()=>!0)),Co=(0,o.defineMessages)({loadMore:{id:"feed.feed-cards.load-more",defaultMessage:"Load more"}}),So=(0,no.tu)({marginTop:"var(--ds-space-300, 24px)",marginBottom:"var(--ds-space-400, 32px)"}),Io=({loading:e,firstPageError:t,networkStatus:n,endCursor:r,hasNextPage:o,loadNextPage:l,openActivityFilterModal:c,feedType:d,children:u})=>{const m=(0,s.(()=>({feedType:d.toLowerCase()})),[d]),{featureFlagClient:f}=(0,D.D)(),{createAnalyticsEvent:v}=(0,z._)(),y=f.getBooleanValue("confluence.frontend.feed.show-more-button",{default:!1,shouldTrackExposureEvent:!0}),[h,b]=(0,s(Z&&(e=>e.graphQLErrors.every(Zt))(Z));Z&&k&&(0,L.Xb)(Z);const w=(0,s.useCallback)((async()=>{try{!e&&o&&(m.start({name:g.Aug,attributes:{pagination:!0}}),await l(),b(null))}catch(t){const e=new he.cA({errorMessage:"Feed cards failed to fetch more data",graphQLErrors:t});b(e)}}),[e,o,l,b,m]),x=async()=>{const e=d===q.FOLLOWING?"feed":"popularFeed";v({type:"sendUIEvent",data:{action:"clicked",actionSubject:e,actionSubjectId:"loadMore",source:"homeScreen"}}).fire(),await w()},C=To(),S=Mo(e);return e&&(n===he.Ie.refetch||n===he.Ie.loading&&!S)?s.createElement(xo,{useEntranceAnimation:!C}):s.createElement(s.Fragment,null,u,Z&&!k?s.createElement(A.X,{error:Z},s.createElement(ro.D,{name:g.Aug,error:Z,attributes:p}),h?s.createElement(io,{refetch:w}):s.createElement(mo,null)):s.createElement(s.Fragment,null,s.createElement(E.F,{name:g.Aug,key:r,attributes:p}),s.createElement(F.M,{metric:_.S}),o?y?s.createElement(ao.Z,{alignInline:"center",xcss:So},s.createElement(to.Z,{onClick:x,isLoading:e},s.createElement(i.Z,(0,a.Z)({},Co.loadMore)))):s.createElement(kn.v,{onScrollTo:w,cursor:r,observerOptions:{root:null,rootMargin:"1000px"}},s.createElement(xo,{useEntranceAnimation:!C})):s.createElement(bo,{openActivityFilterModal:c})))};Io.displayName="FeedCardsWrapper";const Mo=e=>{const t=(0,s.ueEffect)((()=>{e||(t.current=!0)}),[e]),t.current},To=()=>{const e=(0,s.useRef)(Boolean(window.__SSR_RE,s.useEffect)((()=>{e.current=!1}),[]),!process.env.SSR&&e.current};var No=n(429762);const Ao=(0,o.defineMessages)({exitFeed:{id:"feed.exit-feed-button",defaultMessage:"Exit feed"}}),Ro=(0,no.tu)({height:"0",overflow:"hidden"}),Lo=(0,no.tu)({marginBottom:"space.150",height:"auto"}),Po=()=>{const e=(0,l.Z)(),[t,n]=(0,s.useState)(!1);return s.createElement(No.Z,{xcss:t?Lo:Ro,testId:"exit-feed-wrapper"},s.createElement(ao.Z,{alignInline:"center"},s.createElement(ke.Z,{onClick:()=>{},onFocus:()=>{n(!0)},onBlur:()=>{n(!1)}},e.formatMessage(Ao.exitFeed))))};Po.displayName="ExitFeedAllyButton";const Do=(0,r.Z)("div",{target:"e1p25z990"})("background:",`var(--ds-background-input, ${B.N0})`,";position:relative;padding:var(--ds-space-100, 8px) var(--ds-space-200, 16px);padding-bottom:var(--ds-space-200, 16px);margin-bottom:var(--ds-space-200, 16px);overflow:hidden;height:194px;",(({isHomeRefreshEnabled:e})=>e?`\n      border: 1px solid var(--ds-border, ${B.YS});\n      border-radius: var(--ds-border-radius-200, 8px);\n      &:hover {\n        box-shadow: var(--ds-shadow-raised, 0px 1px 1px rgba(9, 30, 66, 0.25), 0px 0px 1px rgba(9, 30, 66, 0.31));\n      }`:`\n      border-radius: 4px;\n      box-shadow: var(--ds-surface, 0 1px 1px ${B.Nx}, 0 0 1px 1px ${B.bt});\n    `),""),Fo=(0,r.Z)("div",{target:"e1p25z991"})({name:"r20d3a",styles:"height:100%;display:flex;align-items:center;justify-content:center;"}),Oo=({feedContentQuery:e,openActivityFilterModal:t})=>{var n,a,r,o;const{createAnalyticsEvent:l}=(0,z._)(),{data:i,loading:c,error:d,networkStatus:m,fetchMore:p}=e,f=null==i||null===(n=i.feed)||void 0===n||null===(n=n.pageInfo)||void 0===n?void 0:n.hasNextPage,v=null==i||null===(a=i.feed)||void 0===a||null===(a=a.pageInfo)||void 0===a?void 0:a.endCursor,g=(null==i||null===(r=i.feed)||void 0===r?void 0:r.nodes)||[],y=!(null==i||null===(o=i.getFeedUserConfig)||void 0===o||!o.servingRecommendations),{showFeedRecs:h,setShowFeedRecs:b,recsLoading:E,recs:Z,setRecs:k,feedRecError:w}=(()=>{var e,t;const n=(0,u.T)("confluence.frontend.feed.recommendations"),{data:a,loading:r,error:o}=(0,x.aM)(Qe,{errorPolicy:"all",fetchPolicy:"cache-and-network"}),[l,i]=(0,s.useState)([]),[c,d]=(0,s.useState)(0),m=null==a?void 0:a.userPreferences.feedRecommendedUserSettingsDismissTimestamp,p=null==a||null===(e=a.getRecommendedFeedUserConfig)||void 0===e?void 0:e.recommendedPeople,f=null==a||null===(t=a.getRecommendedFeedUserConfig)||void 0===t?void 0:t.recommendedSpaces,v=m&&"NO_VALUE_SET"!==m?Math.floor(((new Date).getTime()-new Date(m).getTime())/26298e5)>=1:"NO_VALUE_SET"===m,g=n&&v&&c>=4&&l.length>0,[y,h]=(0,s.useState)(g);return g!=y&&h(g),(0,s.useEffect)((()=>{const e=[],t=[];p&&p.forEach((t=>{var n;t.user&&t.user.displayName&&t.user.id&&t.user.isActive&&e.push({score:t.score,name:t.user.displayName,icon:(null===(n=t.user.photond((e=>null==e?void 0:e.isPrimary)))||void 0===n?void 0:n.value)||"",id:t.user.id,url:(0,We.p)(t.user.id,"feed-alpha",Ge.b),title:t.user.title||"",type:"user"})})),f&&f.forEach((e=>{var n;e.space&&e.space.name&&e.space.id&&e.space.key&&t.push({score:e.score,name:e.space.name,icon:(null===(n=e.space.icon)||void 0===n?void 0:n.path)||"",id:e.space.id,url:(0,Ve.cR)(e.space.key),type:"space"})})),e.sort()),t.sort(((e,t)=>t.score-e.score));const n=e.concat(t);i(n),d(n.length)}),[p,f,i,d]),{showFeedRecs:y,setShowFeedRecs:h,recs:l,setRecs:i,recsLoading:r,feedRecError:o}})(),_=(0,u.T)(Ce),C=(0,u.T)("confluence.frontend.home-visual-refresh"),S=(0,s.useCallback)((async()=>{try{if(!v)return;const e=await p({variables:{first:5,after:v},updateQuery:(e,{fetchMoreResult:t})=>t?(t.feed.nodes=e.feed.nodes.concat(t.feed.nodes),t):e});if(e.data&&l({type:"sendTrackEvent",data:{action:"paginated",actionSubject:"feed",source:"homeScreen",attributes:{resultCount:i?e.data.feed.nodes.length-(null==i?void 0:i.feed.nodes.length):-1}}}).fire(),e.errors)throw e.errors;return e}catch(e){throw e}}),[p,l,v,i]),I=Boolean(window.__SSR_RENDERED__&&m!==he.Ie.fetchMore);return s.createElement(s.Fragment,null,s.createElement(Be,{openActivityFilterModal:t,servingRecommendations:y}),s.createElement(Io,{loading:c,firstPageError:d,networkStatus:m,endCursor:v,hasNextPage:f,loadNextPage:S,openActivityFilterModal:t,feedType:q.FOLLOWING},g.map(((e,t)=>s.createElement(s.Fragment,{key:e.content.id},e&&s.createElement(eo,{feedItem:e,ranking:t,disableAnimation:I}),_&&s.createElement(Po,null),2===t&&h&&s.createElement(s.Fragment,null,s.createElement(Do,{isHomeRefreshEnabled:C},E?s.createElement(Fo,null,s.createElement(be.Z,{size:"large"})):s.createElement(Ot,{position:t+1,setShowFeedRecs:b,recs:Z,setRecs:k,feedRecError:w})),_&&s.createElement(Po,null)))))))};Oo.displayName="ActivityFeedCards";const Uo=Ke.ZP`query FeedPopularFeedQuery($first:Int$after:String){popularFeed(first:$first after:$after)@connection(key:"homePopularFeed"){nodes{content{title id type subType emoji:properties(key:"emoji-title-published"){nodes{id value}}excerpt(length:350)links{webui}space{id key name}likes{count currentUserLikes}history{createdDate createdBy{type displayName profilePicture{path}...on KnownUser{accountId}...on User{accountId}...on UnknownUser{accountId}}ownedBy{type displayName profilePicture{path}...on KnownUser{accountId}...on User{accountId}}}metadata{lastModifiedDate comments{commentsCount}currentuser{favourited{isFavourite}}}}}pageInfo{hasNextPage endCursor}}}`,$o=(0,o.defineMessages)({likeMutationErrorTitle:{id:"feed.card.like.mutation.error.title",defaultMessage:"We’re having trouble liking that page"},unlikeMutationErrorTitle:{id:"feed.card.unlike.mutation.error.title",defaultMessage:"We’re having trouble unliking that page"},likeMutationErrorDescription:{id:"feed.card.like.mutation.error.description",defaultMessage:"Try it again."}}),jo={first:O()},zo=(e,{data:t})=>{const n=null==t?void 0:t.contentId,r=null==t?void 0:t.count,s=null==t?void 0:t.userLiked,o=null==t?void 0:t.type,l=e.readQuery({query:Uo,variables:jo});if(n&&o&&null!==r&&null!==s&&l){const t=(0,a.Z)({},l);t.popularFeed.nodes.forEach((e=>{e.content.id===n&&e.content.likes&&(e.content.likes.count=r,e.content.likes.currentUserLikes=s)})),e.writeQuery({query:Uo,variables:jo,data:t})}},Ho=(e,{data:t})=>{var n,a;zo(e,{data:{contentId:null==t?void 0:t.likeContent.content.id,count:null==t||null===(n=t.likeContent.content.likes)||void 0===n?void 0:n.count,userLiked:null==t||null===(a=t.likeContent.content.likes)||void 0===a?void 0:a.currentUserLikes,type:null==t?void 0:t.likeContent.content.type}})},qo=(e,{data:t})=>{var n,a;zo(e,{data:{contentId:null==t?void 0:t.unlikeContent.content.id,count:null==t||null===(n=t.unlikeContent.content.likes)||void 0===n?void 0:n.count,userLiked:null==t||null===(a=t.unlikeContent.content.likes)||void 0===a?void 0:a.currentUserLikes,type:null==t?void 0:t.unlikeContent.content.type}})};const Bo=["as","style"];n(797513);const Wo=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Bo);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_1g2og9c":(0,$.Z)("var(--ds-space-200, 16px)")}),ref:t,className:(0,j.Z)(["_u5f31ggp",o.className])}))}));const Vo=(0,s.memo)((({feedItem:e,ranking:t,disableAnimation:n})=>{var r,o,l,c,d,m,p,f,v,g,y,h,b,E,Z,k,w;const _=ua(),[C,I]=(0,s.useState)(!1),M=(0,s.useRef)(null),[T,N]=(0,s.useState)(!1),A=(0,u.T)("confluence.frontend.home-visual-refresh"),R=(null==e||null===(r=e.content)||void 0===r||null===(r=r.history)||void 0===r||null===(r=r.createdBy)||void 0===r?void 0:r.displayName)||"",L=Qt(null===(o=e.content.history)||void 0===o?void 0:o.createdBy)||"",P=(null==e||null===(l=e.content)||void 0===l||null===(l=l.history)||void 0===l||null===(l=l.createdBy)||void 0===l||null===(l=l.profilePicture)||void 0===l?void 0:l.path)||"",D=(null==e||null===(c=e.content)||void 0===c||null===(c=c.history)||void 0===c||null===(c=c.ownedBy)||void 0===c?void 0:c.displayName)||"",F=Qt(null===(d=e.content.history)||void 0===d?void 0:d.ownedBy)||"",O=(null==e||null===(m=e.content)||void 0===m||null===(m=m.history)||void 0===m||null===(m=m.ownedBy)||void 0===m||null===(m=m.profilePicture)||void 0===m?void 0:m.path)||"",U=Vt(e.content),$=(null==e||null===(p=e.content)||void 0===p?void 0:p.id)||"",j=(null==e||null===(f=e.content)||void 0===f?void 0:f.type)||"page",z=null==e||null===(v=e.content)||void 0===v?void 0:v.subType,H=(null==e||null===(g=e.content)||void 0===g?void 0:g.title)||"",q=e.content.excerpt,W=(null===(y=e.content)||void 0===y||null===(y=y.history)||void 0===y?void 0:y.createdDate)||"",V=(null==e||null===(h=e.content)||void 0===h||null===(h=h.space)||void 0===h?void 0:h.name)||"",G=(null==e||null===(b=e.content)||void 0===b||null===(b=b.space)||void 0===b?void 0:b.id)||"",K=Kt(e.content),Q=(null==e||null===(E=e.content)||void 0===E||null===(E=E.likes)||void 0===E?void 0:E.count)||0,X=(null==e||null===(Z=e.content)||void 0===Z||null===(Z=Z.likes)||void 0===Z?void 0:Z.currentUserLikes)||!1,Y=(null==e||null===(k=e.content)||void 0===k||null===(k=k.metadata)||void 0===k||null===(k=k.comments)||void 0===k?void 0:k.commentsCount)||0,J=(0,zt.L7)(e.content),ee=(null==e||null===(w=e.content)||void 0===w||null===(w=w.metadata)||void 0===w?void 0:w.lastModifiedDate)||"",{numLikes:te,userLiked:ne,handleLikeButton:ae,likeMutationError:re}=function(e,t,n){const[r,o]=(0,s.useState)(e),[l,c]=(0,s.useState)(t),{showFlag:d}=(0,S.Vb)(),u=(0,s.useCallback)((()=>{d({description:s.createElement(i.Z,(0,a.Z)({},$o.likeMutationErrorDescription)),title:s.createElement(i.Z,(0,a.Z)({},l?$o.likeMutationErrorTitle:$o.unlikeMutationErrorTitle)),icon:s.createElement(Je.default,{label:"error",primaryColor:`var(--ds-icon-dange,isAmiss:!0}),o(l?e=>e-1:e=>e+1),c((e=>!e))}),[d,l]),[m,{error:p}]=(0,x.Db)(Jt,{variables:{contentId:n},update:Ho,onError:u}),[f,{error:v}]=(0,x.Db)(en,{variables:{contentId:n},update:qo,onError:u}),g=p||v,y=(0,s.useCallback)((async()=>{c(!l),l?(o(r-1),await f()):(o(r+1),await m())}),[l,c,r,o,m,f]);return{numLikes:r,userLiked:l,handleLikeButton:y,likeMutationError:g}}(Q,X,$),se=s.useCallback((()=>{N(!0)}),[N]),oe=da($,G,"popular",{ranking:t,contentType:j,creationDate:new Date(W).getTime(),likesCount:te,co",actionSubject:"popular-feedCard"})}),[oe]);(eMemo)((()=>({fireAnalyticsEvent:oe})),[oe]);if(!$)return null;const ce=D&&"page"===j;return s.createElement(ln.Provider,{value:ie},s.createElement(Ws,{"data-testid":"popular-feed-card",isActionMenuOpen:C,disableAnimation:_||n,onMouseEnter:se,onFocus:se,isHomeRefreshEnabled:A},s.createElement(qs,{href:U}),s.createElement(Wo,null,s.createElement(jt.S,{userId:ce?F:L,src:ce?O:P,canViewProfile:!0,size:"medium",name:ce?D:R})),s.createElement(zs,{toggleActionMenu:I,emoji:J,contentId:$,contentTitle:H,contentType:j,contentSubType:z,contentUrl:U,authorName:R,authorId:L,ownerName:D,ownerId:F,spaceId:G,spaceName:V,spaceUrl:K,contentExcerpt:q,numLikes:te,handleLikeClick:ae,likeMutationError:re,userLiked:ne,numComments:Y,popularCardLayout:!0,timestamp:W,hasBeenHovered:T,lastModifiedDate:ee,source:"popular-feed"}),s.createElement("div",{ref:M})))})),Go=({popularFeedQuery:e})=>{var t,n,a;const{createAnalyticsEvent:r}=(0,z._)(),o=(0,s.useRef)(new Set),l=(0,u.T)(Ce),{data:i,loading:c,error:d,networkStatus:m,fetchMore:p}=e,f=null==i||null===(t=i.popularFeed)||void 0===t||null===(t=t.pageInfo)||void 0===t?void 0:t.hasNextPage,v=null==i||null===(n=i.popularFeed)||void 0===n||null===(n=n.pageInfo)||void 0===n?void 0:n.endCursor,g=(null==i||null===(a=i.popularFeed)||void 0===a?void 0:a.nodes)||[],y=(0,s.useCallback)((async()=>{try{if(!v)return;const e=await p({variables:{first:5,after:v},updateQuery:(e,{fetchMoreResult:t})=>t?(t.popularFeed.nodes=e.popularFeed.nodes.concat(t.popularFeed.nodes),t):e});if(e.data&&r({type:"sendTrackEvent",data:{action:"paginated",actionSubject:"popularFeed",source:"homeScreen",attributes:{resultCount:i?e.data.popularFeed.nodes.length-(null==i?void 0:i.popularFeed.nodes.length):-1}}}).fire(),e.errors)throw e.errors;return e}catch(e){t(e=o.current)||void 0===e||e.clear()}));const h=Boolean(window.__SSR_RENDERED__&&m!==he.Ie.fetchMore);return s.createElement(Io,{loading:c,firstPageError:d,networkStatus:m,endCursor:v,hasNextPage:f,loadNextPage:y,feedType:q.POPULAR},g.map(((e,t)=>{if(e.content.id&&o.current){if(o.current.has(e.content.id))return r({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"duplicate",actionSubjectId:"popularFeedCard",source:"homeScreen",attributes:{ranking:t,contentId:e.content.id}}}).fire(),null;o.current.add(e.content.id)}return e&&s.createElement(s.Fragment,null,s.createElement(Vo,{key:e.content.id,feedItem:e,ranking:t,disableAnimation:h}),l&&s.createElement(Po,null))})))};Go.displayName="PopularFeedCards";let Ko=function(e){return e.DIRECT="DIRECT",e.FOLLOWING="FOLLOWING",e.POPULAR="POPULAR",e}({});var Qo=n(734233),Xo=n(357261);const Yo=Ke.ZP`query FeedTypeSelectorQuery{userPreferences{feedType}}`,Jo=Ke.ZP`mutation FeedTypeSelectorMutation($feedType:FeedType!){updateUserPreferences(userPreferences:{feedType:$feedType}){feedType}}`,el=Ke.ZP`query FeedTypeSelectorRefreshQuery{userPreferences{feedTab}}`,tl=Ke.ZP`mutation FeedTypeSelectorRefreshMutation($feedTab:String!){updateUserPreferences(userPreferences:{feedTab:$feedTab}){feedTab}}`,nl=({renderPopularFeed:e,customPanels:t})=>{const{isLoggedIn:n,featureFlagClient:r}=(0,D.D)(),o=(0,s.useContext)(I.F),{feedTypeOverride:l,clearFeedTypeOverride:i}=(()=>{const{getQueryParams:e,setQueryParams:t}=(0,s.useContext)(Qo.M),n=(0,Xo.r)(e(),"feedType"),a=n&&Object.values(Ko).includes(n)?n:void 0,[r,o]=(0,s.useState)(a);return(0,s.useEffect)((()=>{t({feedType:void 0},!0)}),[t]),{feeclearFeedTypeOverride:()=>{o(void 0)}}})(),c=((e=Ko.FOLLOWING)=>{const{isLoggedIn:t}=(0,D.D)(),n=(0,u.T)("confluence.frontend.home-visual-refresh"),r=n?el:Yo,s=(0,x.xJ)(),{data:o,loading:l,error:i}=(0,x.aM)(r,{skip:!t}),c=n?(null==o?void 0:o.userPreferences.feedTab)||e:(null==o?void 0:o.userPreferences.feedType)||e,[d,{error:m}]=(0,x.Db)(n?tl:Jo);return{loading:l,queryError:i,mutationError:m,feedType:c,updateFeedType:e=>{if(t){const t={};n?t.feedTab=e:t.feedType=e,d({variables:t,optimisticResponse:{__typename:"Mutation",updateUserPreferences:{__typename:"UserPreferences",feedType:e}}}).catch((()=>{})),s.writeQuery({query:r,data:{userPreferences:(0,a.Z)({__typename:"UserPreferences"},t)}})}},hasSelectedFeedTypePreference:n?Boolean(null==o?void 0:o.userPreferences.feedTab):Boolean(null==o?void 0:o.userPreferences.feedType)}})(),d=((e=Ko.FOLLOWING)=>{const[t,n]=(0,s.useState)(e),[a,r]=(0,s.useState)(!1);returnType:t,updateFeedType:e=>{n(e),r(!0)},hasSelectedFeedTypePreference:a}})(),m=(0,u.T)("confluence.frontend.home-visual-refresh"),p=r.getBooleanValue("confluence.frontend.powered.by.confluence.mobile",{default:!1,shouldTrackExposureEvent:!0}),{loading:f,queryError:v,mutationError:y,feedType:h,updateFeedType:b,hasSelectedFeedTypePreference|h,w=(0,s.useCallback)((e=>{i(),b(e)}),[b,i]),S=(0,s.useCallback)((e=>{o.start({name:g.Aug,attributes:{feedTypeChange:!0}}),w(e)}),[o,w]),R=(0,x.aM)(Yt,{variables:{first:O(),isPoweredByMobileEnabled:p},errorPolicy:"all",notifyOnNetworkStatusChange:!0});null!=R&&R.error&&(0,M.G7)(R.error)&&(0,L.Xb)(R.error);const U=(0,x.aM)(Uo,{variables:{first:O()},context:{single:!0},errorPolicy:"all",notifyOnNetworkStatusChange:!0,skip:!e});((e,t,n,r)=>{var o,l,i;const{createAnalyticsEvent:c}=(0,z._)(),d=e===Ko.FOLLOWING,u=e===Ko.POPULAR,m=d?Boolean(t):Boolean(n),p=(d?null==t||null===(o=t.feed)||void 0===o||null===(o=o.nodes)||void 0===o?void 0:o.length:null==n?void 0:n.popularFeed.nodes.length)||0,f=d?(null==t||null===(l=t.getFeedUserConfig)||void 0===l||null===(l=l.spaces)||void 0===l?void 0:l.length)||0:void 0,v=d?(null==t||null===(i=t.getFeedUserConfig)||void 0===i||null===(i=i.users)||void 0===i?void 0:i.length)||0:void 0,g=(0,s.useRef)(""),y=e===g.current;(0,s.useEffect)((()=>{m&&!y&&(c({type:"sendTrackEvent",data:{source:"homeScreen",action:"rendered",actionSubject:"feed",actionSubjectId:"feedAlpha",attributes:(0,a.Z)({feedType:e.toLowerCase(),navdexPointType:ca.yo,homeVersion:r?"visualRefresh":"1.5"},d||u?{resultCount:p,spacesFollowing:f,peopleFollowing:v}:{})}}).fire(),g.current=e)}),[m,e,p,f,v,y,d,u,r,c])})(k,R.data,U.data,m);const{activityFilterModalOpen:$,openActivityFilterModal:j,closeActivityFilterModal:H}=(()=>{const[e,t]=(0,s.useState)(!1);return{activityFilterModalOpen:e,openActivityFilterModal:(0,s.useCallback)((()=>{t(!0)}),[t]),closeActivityFilterModal:(0,s.useCallback)((()=>{t(!1)}),[t])}k)((()=>{null==B||B(),S(q.FOLLOWING)}),[B,S]);if(f)return null;return s.createElement("div",{"data-testid":"activity-feed"},s.createElement(ye,{openActivityFilterModal:j,renderPopularFeed:e,feedType:k,setFeedType:S,customPanels:t}),s.createElement(T.S,{attribution:N.x.SMARTS},(()=>{if(m&&t&&!Object.values(q).includes(k)){const e=t.find((e=>e.key===k));return(null==e?void 0:e.content)&&s.createElement(Bs,{isHomeRefreshEnabled:m},s.createElement(s.Fragment,null,e.content,s.createElement(s.Fragment,null,s.createElement(E.F,{name:g.Aug,key:e.key,attributes:{feedType:e.key}}),s.createElement(F.M,{metric:_.S}))))}if(!Z){var e,n;if(null!=R&&null!==(e=R.data)&&void 0!==e&&null!==(e=e.feed)&&void 0!==e&&e.nodes.length)return s.createElement(Oo,{feedContentQuery:R,openActivityFilterModal:j});if(null!=U&&null!==(n=U.data)&&void 0!==n&&null!==(n=n.popularFeed)&&void 0!==n&&n.nodes.length)return s.createElement(Go,{popularFeedQuery:U})}return k===q.POPULAR?s.createElement(Go,{popularFeedQuery:U}):s.createElement(Oo,{feedContentQuery:R,openActivityFilterModal:j})})(),s.createElement(C.Z,null,$&&s.createElement(P,{onChanged:W,onClose:H})),v&&s.createElement(A.X,{error:v}),y&&s.createElement(A.X,{error:y})))};nl.displayName="FeedComponent";const al=({renderPopularFeed:e=!1,customPanels:t})=>{const n=(0,s.k)((e=>{n.fail({name:g.Aug,error:e})}),[n]);return s.createElement(S.Q_,null,s.createElement(R.O,rOnError:()=>s.createElement(mo,null),onError:a},s.createElement(nl,{renderPopularFeed:e,customPanels:t})))};al.displayName="Feed";var rl=n(477958),sl=n(240976),ol=n(960485),ll=n(10829),il=n(855891),cl=n(211230),dl=n(423128),ul=n(963867),ml=n(856389),pl=n(381233),fl=n(606049),vl=n(483073);const gl=n.p+"4nRtVT5Lon.svg",yl=n.p+"tqtGTERuT9.svg",hl=Ke.ZP`query HomePageUpsellQuery{license{trialEndDate}}`,bl=["as","style"],El=["as","style"],Zl=["as","style"],kl=["as","style"];n(546529),n(678754),n(362604),n(492989),n(408322),n(493644),n(354326);const wl=(0,o.defineMessages)({upsellSectionMessage:{id:"change-edition.home-page.upsell-section-message",defaultMessage:"<b>Unlock insights and more features with Premium.</b> Boost your team’s efficiency with analytics, guest collaboration, unlimited storage, and more. <link>Compare plans</link>"},dismissButtonLabel:{id:"change-edition.home-page.upsell-section-message.dismiss.button.label",defaultMessage:"Dismiss home page upsell message"},dismissButtonTooltip:{id:"change-edition.home-page.upsell-section-message.dismiss.button.tooltip",defaultMessage:"Not interested"}}),_l=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,bl);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_153arrb":(0,$.Z)("var(--ds-space-300, 24px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _19pk100u",o.className])}))}));const xl=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,El);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_153arrb":(0,$.Z)("var(--ds-space-300, 24px)")}),ref:t,className:(0,j.Z)(["_1e0c1txw _zulp100u _16jlkb7n _1bah1yb4",o.className])}))}));const Cl=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,o=(0,U.Z)(e,Zl);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:(0,a.Z)((0,a.Z)({},r),{},{"--_mpbsya":(0,$.Z)("var(--ds-space-negative-025, -2px)")}),ref:t,className:(0,j.Z)(["_19pk134q",o.className])}))}));const Sl=(0,s.forwardRef)(((e,t)=>{let{as:n="span",style:r}=e,o=(0,U.Z)(e,kl);return s.createElement(n,(0,a.Z)((0,a.Z)({},o),{},{style:r,ref:t,className:(0,j.Z)(["_k48p1fw0",o.className])}))}));const Il=({onDismiss:e})=>{const{formatMessage:t}=(0,l.Z)(),{createAnalyticsEvent:n}=(0,z._)(),r=()=>{n({type:"sendUIEvent",data:{source:"homePageUpsell",action:"clicked",actionSubject:"link",actionSubjectId:"homePageUpsellComparePlans"}}).fire()};return s.createElement(xl,null,s.createElement(i.Z,(0,a.Z)((0,a.Z)({}values:{b:e=>s.createElement(Sl,null,e),link:e=>s.createElement(il.r,{href:"https://support.atlassian.com/confluence-cloud/docs/learn-about-confluence-cloud-plans/",onClick:r,target:"_blank",testId:"homepage-upsell-compare-plans-link"}," ",e," ")}})),s.createElement(fl.z,{onDismiss:e,buttonProps:{appearance:"subtle",spacing:"compact",testId:"homepage-upsell-dismiss-button","aria-label":t(wl.dismissButtonLabel)},iconProps:{label:t(wl.dismissButtonLabel),primaryColor:`var(--ds-icon, ${B.q2})`},wrapper:({children:e})=>s.createElement(Cl,null,s.createElement(Xe.Z,{content:s.createElement(i.Z,(0,a.Z)({},wl.dismissButtonTooltip))},e)),source:"homePageUpsell",actionSubjectId:"dismissHomePageUpsell"}))};Il.displayName="HomePageUpsellSectionBody";const Ml=({showUpsellFeature:e,onDismiss:t})=>{const{cohort:n}=(0,cl.a)("confluence.frontend.active.discovery.for.premium.features",["control","not-enrolled","experiment"],"not-enrolled",!0);return"experiment"===n&&e?s.createElement(_l,{"data-testid":"homepage-upsell"},s.createElement(pl.P,{body:s.createElement(Il,{onDismiss:t}),source:"homePageUpsellScreen",targetEdition:ml.m.PREMIUM,upgradeEditionActionSubjectId:"homePageUpsellTryPremium",buttonConfig:vl.w.UPGRADE_ONLY},s.createElement(Ze.Z,{src:gl,srcDark:yl}))):null},Tl=()=>{var e;const{edition:t}=(0,D.D)(),{isSiteAdmin:n}=(0,s.useContext)(dl.wu),[a,r]=(0,_e.F)("homepage.active.discovery.for.premium.features"),o=n&&t===ml.m.STANDARD,{data:l,loading:i,error:c}=(0,x.aM)(hl,{skip:!(o&&a)});(0,ul.P)(c)&&!(0,L.LZ)(c)&&(0,L.Xb)(c);return o&&!i&&!c&&!(null!=l&&null!==(e=l.license)&&void 0!==e&&e.trialEndDate)?s.createElement(Ml,{showUpsellFeature:a,onDismiss:r}):null},Nl=()=>s.createElement(ht.k,{attribution:N.x.EDITIONS},s.createElement(Tl,null));Nl.displayName="HomePageUpsell";var Al=n(115717),Rl=n(482180),Ll=n(125380),Pl=n(132464),Dl=n(928788),Fl=n(781980);const Ol=(0,p.ZR)({__loadable_id__:"K34ng",name:"LazyHomepageCard",loader:async()=>(await Promise.all([n.e(12705),n.e(35824),n.e(45159),n.e(39159),n.e(88699),n.e(48528),n.e(95470),n.e(18213),n.e(52766),n.e(25677),n.e(91192),n.e(48512),n.e(32787),n.e(4991),n.e(64951),n.e(21537),n.e(9148)]).then(n.bind(n,771543))).HomepageCard});var Ul=n(278886),$l=n(750640);const jl=(0,r.Z)("div",{target:"elvcq9s0"})({name:"1qiupka",styles:".upcoming-events-sub-heading{display:none;}.calendar-container{margin:0 var(--ds-space-100, 8px);}.calendar-heading > .view-my-calendars{float:none;position:static;text-align:left;}"}),zl=(0,o.defineMessages)({heading:{id:"home.calendar.title",defaultMessage:"Calendars"}}),Hl=(0,s.memo)((({html:e,completeKey:t,noCollapse:n=!1,inRightPanel:r=!1})=>{const o=s.createElement(i.Z,(0,a.Z)({},zl.heading)),l=(0,u.T)("confluence.frontend.modern-team-calendar.homepage-card"),{createAnalyticsEvent:c}=(0,z._)(),{widgetState:d}=(0,Rl.d)(t),m=d===$l.l.COLLAPSED,p=(0,s.useRef)(!1);(0,s.useEffect)((()=>{m?p.current=!1:!p.current&&r&&(c({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"collapsibleSectionContent",actionSubjectId:"com.atlassian.confluence.extra.team-calendars:newDashboadUpcomingEvents",source:"rightPanel",attributes:{homeVersion:"1.5"}}}).fire(),p.current=!0)}),[m,r,c]);const f=l?s.createElement(Ol,null):s.createElement(Ul.n,{wrm:"wrc!com.atlassian.confluence.extra.team-calendars:calendar-init"},(()=>s.createElement(jl,null,s.createElement(Z.c,{html:e}))));return r?(n&&(s.Fragment,E.F,g.kbk),s.createElement(Fl.a,{sectionId:t,header:o,key:t},f,s.createElement(E.F,{name:g.kbk}))):f})),ql=(0,s.memo)((({onLoad:e})=>s.createElement(Dl.j,{location:rl.bJ,onCompleted:()=>{e&&e(),(0,Pl.OV)().succeed({name:g.ehx})},fetchPolicy:"cache-first"},(({panels:e})=>e.sort((({weight:e},{weight:t})=>e>t?1:-1)).map((({html:e,completeKey:t,label:n})=>t.includes("team-calendars")?s.createElement(s.Fragment,null,s.createElement(h.U,{name:g.kbk}),s.createElement(Hl,{html:e,completeKey:t,key:t,inRightPanel:!0})):s.createElement(Fl.a,{sectionId:t,header:n,key:t},s.createElement(Z.c,{html:e}))))))));var Bl=n(181586),Wl=n(349659),Vl=n(108808),Gl=n(121397),Kl=n(609354),Ql=n(476033),Xl=n(608151),Yl=n(125108),Jl=n(588586),ei=n(872962);const ti=(0,o.defineMessages)({spacesHeader:{id:"home.spaces.header",defaultMessage:"Spaces"},showMoreLink:{id:"home.spaces.show-more-link",defaultMessage:"Show more"},showMoreSpacesLink:{id:"home.spaces.show-more-spaces-link",defaultMessage:"Show more spaces"},viewAllLink:{id:"home.spaces.view-all-link",defaultMessage:"View all"},viewAllSpacesLink:{id:"home.spaces.view-all-spaces-link",defaultMessage:"View all spaces"},empty:{id:"home.empty-message",defaultMessage:"Once you view or create spaces, you’ll find them here."},spaceStarred:{id:"home.spaces.space.starred",defaultMessage:"starred"}}),ni=(0,r.Z)("div",{target:"e1rzox6r0"})({name:"2vcm76",styles:"display:flex;flex-direction:column;align-items:center;padding:var(--ds-space-100, 8px) 0;"}),ai=(0,r.Z)(il.r,{target:"e1rzox6r1"})({name:"31hfb4",styles:"display:block;padding:7.5px var(--ds-space-100, 8px);font-weight:400;&,&:active,&:visited,&:hover,&:focus{text-decoration:none;}"}),ri=(0,r.Z)(ke.Z,{target:"e1rzox6r2"})({name:"1g360fb",styles:"padding:5px;"}),si=({handleSpaceItemClick:e,isExpanded:t,intl:n,firstShowMoreItemRef:r})=>{const{starredSpaces:o,recentSpaces:l,errors:c,loading:d,modifyStarCache:u}=(0,Wl.t)();if(c.length>0)return s.createElement(s.Fragment,null,s.createElement(Vl.zl,{error:c[0]}),s.createElement(ro.D,{name:g.Vfb,error:c[0]}));if(!d&&0===o.length&&0===l.length)return s.createElement(Gl.Rz,null,s.createElement("img",{src:Yl,alt:""}),s.createElement(i.Z,(0,a.Z)({},ti.empty)),s.createElement(E.F,{name:g.Vfb}));if(d)return s.createElement(Gl.ly,null,s.createElement(be.Z,{size:"large"}));const m=t?10:5,p=o.slice(0,m),f=l.slice(0,m-p.length),v=[...p,...f];return s.createElement(Kl.J,null,((e,t,n,r,o)=>e.map(((e,l)=>{var i;const c=(null!=(i=e)&&null!=(i=i.currentUser)?i.isFavourited:i)?`${e.name}, ${n.formatMessage(ti.spaceStarred)}`:e.name;return s.createElement(Bl.p,{key:e.id},s.createElement(ai,(0,a.Z)({onClick:()=>t(l),name:Ht.RI.name,params:{spaceKey:e.key},"aria-label":c},5===l&&{ref:o}),s.createElement(Ql.M,{space:e,spaceIconSize:"small",modifyStarCache:r,analytics:{source:"homeScreen",attributes:{spaceId:e.id}},tooltipPosition:"top",collapsible:!1})))})))(v,e,n,u,r),s.createElement(E.F,{name:g.Vfb}))};si.displayName="SpacesContent";const oi=(0,s.memo)((({onLoad:e})=>{const[t,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),{createAnalyticsEvent:c}=(0,z._)(),d=(0,s.useContext)(I.F),u=(0,s.useCallback)((()=>{e&&e(),d.succeed({name:g.Vfb})}),[e,d]),m=(0t)((()=>{r&&p.current&&p.current.focus()}),[r,p]);const f=(0,s.useCallback)((()=>{n(!0),c({type:"sendUIEvent",data:{source:"homeScreen",action:"clicked",actionSubject:"homeLink",actionSubjectId:"viewAllSpacesLink",type:"ui"}}).fire()}),[c]),v=(0,s.useCallback)((e=>{n(!0),c({type:"sendUIEvent",data:{source:"homeScreen",action:"clicked",actionSubject:"homeLink",actionSubjectId:"showMoreSpacesLink",type:"ui"}}).fire(),0==e.screenX&&0==e.screenY&&o(!0)}),[c,n]),y=(0,s.useCallback)((e=>{c({type:"sendUIEvent",data:{source:"homeScreen",action:"clicked",actionSubject:"homeLink",actionSubjectId:"spacesSection",type:"ui",attributes:{ranking:e,navdexPointType:ca.yo,position:"rightRail",homeVersion:"1.5"}}}).fire()}),[c]),h=s.createElement(i.Z,(0,a.Z)({},ti.spacesHeader)),b=s.createElement(Xl.l,{appearance:"compact",source:"homeScreen"}),E=t?s.createElement(ri,{appearance:"link",onClick:f,href:Ht.F.toUrl(),"aria-label":m.formatMessage(ti.viewAllSpacesLink)},s.createElement(i.Z,(0,a.Z)({},ti.viewAllLink))):s.createElement(ri,{appearance:"link",onClick:v,"aria-label":m.formatMessage(ti.showMoreSpacesLink)},s.createElement(i.Z,(0,a.Z)({},ti.showMoreLink)));return s.createElement(Fl.a,{sectionId:"spaces",header:h,headerActions:b,defaultState:$l.l.EXPANDED,onInitialCollapse:u,ariaLabel:ti.spacesHeader.defaultMessage},s.createElement(ei.a,null),s.createElement(ni,null,s.createElement(si,{handleSpaceItemClick:y,isExpanded:t,intl:m,firstShowMoreItemRef:p}),E),e&&s.createElement(Jl.x,{onLoad:e}))})),li=(0,p.tM)({__loadable_id__:"zZ2Dj",name:"LazySpaces",loader:async()=>oi});var ii=n(883098),ci=n(504265),di=n(632346),ui=n(822725),mi=n(845943);const pi=(0,r.Z)("div",{target:"e1d41d290"})({name:"1igbd9l",styles:"padding:var(--ds-space-100, 8px);"}),fi=({forgeApps:e})=>{const t=(0,s.useContext)(I.F),[n,a]=(0,eCallback)((()=>{t.succeed({name:g.cAE})}),[t]);return s.createElement(s.Fragment,null,e.map((e=>s.createElement(ii.N,{key:e.id,module:e},s.createElement(Fl.a,{sectionId:e.id,header:(0,ci.L)(e),initialStateOverride:n.get(e.id)},s.createElement(h.U,{name:g.cAE,id:e.id}),s.createElement(pi,null,s.createElement(di.Zz,{app:e,extensionData:{type:ui.zg},onInitialRender:r}))),s.createElement(ii.u,{module:e,action:()=>{const t=n.get(e.id)===$l.l.EXPANDED?$l.l.COLLAPSED:$l.l.EXPANDED;a(new Map(n.set(e.id,t)))}})))))};fi.displayName="CollapsibleForgeApps";const vi=(0,s.memo)((()=>{const{cloudId:e,userId:t,activationId:n,featureFlagClient:a}=(0,D.D)(),r=a.getBooleanValue("confluence.frontend.ecosystem.forge.use.workspace.ari",{default:!1}),[o,l]=(0,s.useState)([]),i=(0,s.useCallback)((async()=>{var a;const s=null!=(a=await(0,mi.MQ)(e,t,ui.zg,true,n,r))&&null!=(a=a.data)&&null!=(a=a.extensionContexts)&&null!=(a=a[0])?a.extensionsByType:a;s&&l(s)}),[e,t,true,n,r]);return(0,s.useEffect)((()=>{i()}),[i]),s.createElement(fi,{forgeApps:o})}));var gi=n(705024);const yi=(0,r.Z)("div",{target:"e1rpmtrr0"})("width:10px;height:100%;top:0;position:absolute;c-ds-border-brand, ${B.vP})`:"transparent"),";margin-left:var(--ds-space-negative-150, -12px);transition:border-color 0.2s ease-in-out;&:hover{border-color:",`var(--ds-border, ${B.vP})`,";}"),hi=({onResizeDrag:e,onResizeComplete:t})=>{const n=(0,s.useRef)(null),[a,r]=(0,s.useState)(!1),o=(0,s.useRef)({clientX:0,time:0});return(0,s.useEffect)((()=>{const e=e=>{0===e.button&&(r(!0),o.current={clientX:e.clientX,time:Date.now()},document.body.style.cursor="col-resize",e.preventDefault())},t=n.current;return null==t||t.addEventListener("mousedown",e),()=>{document.body.style.cursor="default",null==t||t.removeEventListener("mousedown",e)}}),[]),(0,s.useEffect)((()=>{const n=e=>{0===e.button&&(r(!1),document.body.style.cursor="default",t())},s=t=>{if(0===t.button&&a){const n=Date.now();n-o.current.time>30&&(e(t.clientX-o.current.clientX),o.current={clientX:t.clientX,time:n}),t.preventDefault()}};return window.addEventListener("mouseup",indow.removeEventListener("mousemove",s)}}),[a,e,t]),s.createElement(yi,{ref:n,isDown:a,"data-testid":"resize-handle"})};hi.displayName="RightPanelDragHandle";var bi=n(511994),Ei=n(637418),Zi=n(107663);const ki="right-panel-compact",wi=((0,r.Z)("h1",{target:"e1ej7ksk0"})(k.lL,""),(0,p.ui)({__loadable_id1)]).then(n.bind(n,756363))).BetaFeatures})),_i=(0,r.Z)("aside",{target:"e1ej7ksk1"})("box-sizing:border-box;height:100%;overflow-y:auto;word-break:break-word;background-color:",`var(--ds-surface-raised, ${B.IR})`,";padding:var(--ds-space-150, 12px);"),xi=(0,r.Z)("aside",{target:"e1ej7ksk2"})("box-sizing:border-box;height:calc(100% - 12px);word-break:break-word;margin-bottom:",(({isHomeRefreshEnabled:e})=>e?"var(--ds-space-300, 24px)":"36px"),";"),Ci=(0,r.Z)("div",{target:"e1ej7ksk3"})("display:",(e=>e.isLoading?"none":"auto"),";"),Si=(e,t)=>{(0,y.f)([g.enB,g.ehx,g.Vfb])(e,t)},Ii=({widthMode:e="resizable",isHomeRefreshEnabled:t=!1})=>{const n=(0,s.useRef)(null),{shouldShowForgeApps:a,shouldShowSiteAdminWidget:r}=(0,bi.$)(),{rightPanelLoading:o,spacesOnLoad:l,welcomeMessageOnLoad:i,appsOnLoad:c}=Mi(t),{onResizeDrag:d,onResizeComplete:u,initialWidth:m}=(({rightPanelRef:e,defaultWidth:t,minWidth:n,maxWidth:a,compactThreshold:r})=>{const o=(0,s.useRef)(0),[l,i]=(0,s.useState)(parseInt(Ei.LT.getItem(Zi.keys.HOME_SIDEBAR_WIDTH))||t),c=()=>{e.current&&(e.current.offsetWidth<r?e.current.classList.add(ki):e.current.classList.remove(ki))},d=(0,s.useCallback)((t=>{o.current+=t;const r=Math.max(Math.min(l-o.current,a),n);requestAnimationFrame((()=>{e.current.style.setProperty("width",`${r}px`),c()}))}),[e,o,l]),u=(0,s.useCallback)((()=>{const t=e.current.offsetWidth||parseInt(e.current.style.width||"");Ei.LT.setItem(Zi.keys.HOME_SIDEBAR_WIDTH,t),i(t),o.current=0}),[o,Ei.LT]);return(0,s.useEffect)((()=>{c();const e=()=>{c()};r)=>window.removeEventListener("resize",e)}),[]),{rightPanelRef:e,onResizeDrag:d,onResizeComplete:u,initialWidth:l}})({rightPanelRef:n,defaultWidth:475,minWidth:350,maxWidth:818,compactThreshold:500}),{error:p,loading:f}=(0,Rl.d)("right-panel"),v=Ti(e),y=Ni(e,m);return f?null:s.createElement(v,{ref:n,style:y,isHomeRefreshEnabled:t},"resizable"===e&&s.createElement(hi,{onResizeDrag:d,onResizeComplete:u}),s.createElement(h.U,{name:g.$Xi,collect:Si}),s.createElement(s.Fragment,null,s.createElement(Ci,{isLoading:o&&!window.__SSR_RENDERED__,"data-testid":"right-panel-content"},!t&&s.createElement(s.Fragment,null,s.createElement(h.U,{name:g.Vfb}),s.createElement(li,{onLoad:l}),s.createElement(h.U,{name:g.enB}),s.createElement(Ll.HomeWelcomeMessage,{onLoad:i,inRightPanel:!0}),s.createElement(h.U,{name:g.ehx}),s.createElement(ql,{onLoad:c})),a&&s.createElement(vi,null),r&&s.createElement(T.S,{attribution:N.x.CONTENT_TYPES},s.createElement(wi,null))),p&&s.createElement(A.X,{error:p}),!o&&s.createElement(F.M,{metric:Al.cS})))};Ii.displayName="RightPanel";const Mi=e=>{const[t,n]=(0,s.useState)(!0),a=e?[]:["welcomspaces","apps"],r=(0,gi.t)(a,(()=>{n(!1)}));return{rightPanelLoading:t,welcomeMessageOnLoad:(0,s.useCallback)((()=>r("welcome-message")),[r]),appsOnLoad:(0,s.useCallback)((()=>r("appOnLoad:(0,sces")),[r])}},Ti=e=>"resizable"===e?_i:xi,Ni=(e,t)=>({width:"fullwidth"===e?"auto":t});var Ai=n(225355);const Ri=(0,p.tM)({__loadable_id__hen(n.bind(n,125380))).HomeWelcomeMessage}),Li=(0,p.tM)({__loadable_id__:"jG4C1",name:"LazyCalendarIcon",loader:async()=>(await n.e(47375).then(n.bind(n,750175))).CalendarIcon}),Pi=(0,p.tM)({__loadable_id479).then(n.bind(n,302376))).FeedbackIcon});var Di=n(501384);const Fi=(0,p.ZR)({__loadable_id__:"62Ibn",name:"TemplateCollectionsLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(45523),n.e(51268)]).then(n.bind(n,602579))).TemplateCollections});const Oi=(0,o.defineMessages)({recentWork:{id:"home.views.overview.recent-work",defaultMessage:"Pick up where you left off"},calendarTitle:{id:"home.feed.calendar.title",defaultMessage:"Calendars"},announcementsTitle:{id:"home.feed.announcements.title",defaultMessage:"Announcements"}}),Ui=(0,r.Z)("div",{target:"e1rgme5v0"})("width:100%;display:grid;grid-column-gap:var(--ds-space-400, 32px);grid-template-rows:auto auto 1fr;grid-template-columns:100% 0;",(({shouldShowRightPanel:e,isHomeRefreshEnabled:t})=>e&&`\n  /* If --homeIsSingleColumn == 0 then include a 300px sidebar */\n  grid-template-columns:\n    calc((100% - calc((1 - var(--homeIsSingleColumn)) * ${t?"var(--ds-space-400, 32px)":"var(--ds-space-300, 24px)"}) - (1 - var(--homeIsSingleColumn)) * 300px))\n    calc((1 - var(--homeIsSingleColumn)) * 300px);\n    transition: ${t?d.MH:0}ms;\n  `)," ",(e=>e.isOnboardingExperienceEligible?"--homeHasOnboardingExperience: 1;":: 1;":"--homeShowTemplateCollections: 0;"),""),$i=(0,r.Z)("div",{target:"e1rgme5v1"})({name:"q3mj5f",styles:"grid-column:1 / span 1;grid-row:1 / span 1;position:relative;margin-bottom:calc( (32px - 32px * var(--homeIsSingleColumn)) + (12px * var(--homeIsSingleColumn)) );"}),ji=(0,r.Z)("div",{target:"e1rgme5v2"})({name:"1dh04gu",styles:"position:relative;grid-column:1 / span 1;grid-row:(1 + var(--homeHasOnboardingExperience)) / span 1;margin-top:0px;margin-bottom:var(--ds-space-300, 24px);"}),zi=(0,r.Z)("div",{target:"e1rgme5v3"})("position:relative;grid-column:1 / span 1;grid-row:( 1 + var(--homeHasOnboardingExperience) + var(--homeShowTemplateCollections) ) / span 1;margin-top:0px;margin-bottom:",(({isHomeRefreshEnabled:e})=>e?"var(--ds-space-300, 24px)":"\n      /* If --homeIsSingleColumn == 1 then 32px margin else 12px margin */\n      calc(\n      (32px - 32px * var(--homeIsSingleColumn)) +\n        (12px * var(--homeIsSingleColumn))\n    );"),";"),Hi=(0,r.Z)("div",{target:"e1rgme5v4"})({name:"w5f0z1",styles:"grid-column:1 / span 1;grid-row:calc( 2 + var(--homeIsSingleColumn) + var(--homeHasOnboardingExperience) + var(--homeShowTemplateCollections) ) / span 1;"}),qi=(0,r.Z)("div",{isHomeRefreshEnabled:e})=>e?"34px":"32px")," * (1 - var(--homeIsSingleColumn)) * (1 - var(--homeHasOnboardingExperience)) );transition:margin-top 0.5s;grid-column:calc(2 - var(--homeIsSingleColumn)) / span 1;grid-row:calc( 1 + ( 1 + var(--homeHasOnboardingExperience) + var(--homeShowTemplateCollections) ) * var(--homeIsSingleColumn) ) / span calc(3 - 2 * var(--homeIsSingleColumn));min-width:300px;"),Bi=(0,r.Z)("div",{target:"e1rgme5v6"})({name:"142dhu6",styles:"position:absolute;width:100%;height:100%;left:var(--ds-space-negative-050, -4px);padding:var(--ds-space-050, 4px) var(--ds-space-050, 4px) var(--ds-space-025, 2px);pointer-events:none;"}),Wi=(0,r.Z)("div",{target:"e1rgme5v7"})({name:"of9dop",styles:"display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--ds-space-200, 16px);"}),Vi=(0,r.Z)("h2",{target:"e1rgme5v8"})(k.lL,";margin-top:0;line-height:18px;font-weight:400;"),Gi=(0,r.Z)("h2",{target:"e1rgme5v9"})(k.qm,";margin-top:0;line-height:18px;"),Ki=()=>{const e=(0,l.Z)(),{isReverseTrialEligible:t}=(0,v.D)(!0),n=(0,u.T)("confluence.frontend.home-visual-refresh"),r=(0,u.T)("confluence.frontend.active.discovery.guard"),o=(0,sl.V)(),{isEnabled:d,loading:p,onboardingIntentExperienceLandViewedAt:k}=(0,ll._)(),{isTemplatesCollectionEligible:x}=(0,ol.Y)(n),C=(0,s.useMemo)((()=>((e=!1)=>(t,n)=>{const a=[g.Aug,g.vUf];e?a.push(g.ehx):a.unshift(g.$Xi),(0,y.f)(a)(t,n)})(n)),[n]),{shouldShowRightPanel:S}=(0,bi.$)(),I=n?Gi:Vi,{panels:M,loading:T,error:N}=(0,m.q)({location:rl.bJ,fetchPolicy:"cache-first"});let A=null;d?A=s.createElement(Ai.by,null):!o||p||k||(A=s.createEM.sort((({weight:e},{weight:t})=>e>t?1:-1)).map((({html:t,completeKey:n,label:a})=>n.includes("team-calendars")?{title:e.formatMessage(Oi.calendarTitle),key:n,icon:Li,content:s.createElement(Hl,{html:t,completeKey:n,key:n,noCollapse:!0})}:{title:a,icon:void 0,key:n,content:s.createElement(Z.c,{html:t})}))||[],L=n&&[{title:e.formatMessage(Oi.announcementsTitle),key:"confluence.home.announcements",icon:Pi,content:s.createElement(Ri,{noCollapse:!0})},...R]||void 0;return s.createElement(s.Fragment,null,s.createElement(Ui,{isOnboardingExperienceEligible:d||o,isTemplatesCollectionEligible:x,shouldShowRightPanel:S,isHomeRefreshEnabled:n},s.createElement(h.U,{name:g.GmL,collect:C}),s.createElement(h.U,{name:g.vUf,timeout:b.O.HOME}),A&&s.createElement($i,null,A),x&&s.createElement(ji,null,s.createElement(Fi,null)),s.createElement(zi,{isHomeRefreshEnabled:n},s.createElement(w.q,{metric:Al.LY}),s.createElement(c.Z,{name:"home-recent"},s.createElement(Bi,null)),s.createElement(Wi,null,s.createElement(I,null,s.createElement(i.Z,(0,a.Z)({},Oi.recentWork)))),s.createElement(Di.ud,{isHomeRefreshEnabled:n}),s.createElement(Ai.cE,{type:"recent"}),r&&s.createElement(Nl,null)),s.createElement(Hi,null,s.createElement(w.q,{metric:_.S}),s.createElement(h.U,{name:g.Aug}),n?s.createElement(h.U,{name:g.ehx}):null,s.createElement(al,{renderPopularFeed:!0,customPanels:L}),!n||T||N?null:s.createElement(E.F,{name:g.ehx})),S&&s.createElement(qi,{isHomeRefreshEnabled:n},s.createElement(w.q,{metric:Al.cS}),s.createElement(Ii,{widthMode:"fullwidth",isHomeRefreshEnabled:n}))),t&&s.createElement(s.Fragment,null,s.createElement(h.U,{name:g.QPu}),s.createElement(f,null)))}},106359:(e,t,n)=>{"use strict";n.d(t,{Dh:()=>u,Dw:()=>c,EM:()=>o,FG:()=>p,Gu:()=>s,H3:()=>l,JC:()=>i,Pd:()=>d,o8nitial",e[e.pagination=2]="pagination",e}({}),o=function(e){return e.ALL="ALL",e.WORKED_ON="WORKED_ON",e.CREATED="CREATED",e.STARRED="STARRED",e.TASKS="TASKS",e.DRAFTS="DRAFTS",e}({});const l=(0,r.defineMessages)({untitled:{id:"home.views.untitled",defaultMessage:"Untitled"}}).untitled,i=e=>e===a.Ie.loading||e===a.Ie.setVariables?s.initial:e===a.Ie.fetchMore?s.pagination:s.done;function c(e){return null!=e}const d=(e,t)=>""===e.trim()||(t||"").toUpperCase().indexOf(e.toUpperCase())>-1,u=e=>!("draft"===(null==e?void 0:e.status)&&null!=e&&e.blank),m=e=>!("trashed"===(null==e?void 0:e.status)),p=(e,t)=>{var n,a;const r="draft"===(null==t?void 0:t.status)?null==t||null===(n=t.version)||void 0===n?void 0:n.by:null==t||null===(a=t.history)||void 0===a?void 0:a.createdBy;return e===(null==r?void 0:r.accountId)}},225355:(e,t,n)=>{"use strict";n.d(t,{by:()=>s,cE:()=>o,kf:()=>r});var a=n(940155);const r=(0,a.tM)({__loadable_id__:"w_I_F",name:"OnboardingSimpleBannerNewHomeExperienceLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(31382),n.e(42434),n.e(1244),n.e(72178),n.e(70289),n.e(63681),n.e(20011),n.e(94839),n.e(10482),n.e(68774)]).then(n.bind(n,120636))).OnboardingSimpleBannerNewHomeExperience}),s=(0,a.tM)({__loadable_id__:"Wdj-H",name:"OnboardingTakeoverNewHomeExperienceLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(31382),n.e(42434),n.e(1244),n.e(72178),n.e(70289),n.e(63681),n.e(20011),n.e(94839),n.e(10482),n.e(68774)]).then(n.bind(n,120636))).OnboardingTakeoverNewHomeExperience}),o=(0,a.tM)({__loadable_id__:"mDvRz",(n.bind(n,599021))).OnboardingStaticNudge})},588586:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var a=n(840506);const r=({onLoad:e})=>((0,a.useEffect)((()=>{e()}),[e]),null)},705024:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var a=n(840506);const r=(e,t)=>(e.delete(t),new Set(e)),s=(e,t,n=6e3)=>{const[s,o]=(0,a.useReduetTimeout(t,n);return(]),(0,a.useEffect)((()=>{0===s.size&&t()}),[s]),o}},872962:(e,t,n)=>{"use strict";n.d(t,{a:()=>C});var a=n(615919),r=n(946972),s=n(840506),o=n(93972),l=n(747472),i=n(142807),c=n(16728),d=n(722755),u=n(627521),m=n(649233),p=n(92560),f=n(928782),v=n(552679),g=n(935479),y=n(582463),h=n(179640),b=n(423128);const E=n.p+"R6E-hxkKOz.svg";const Z=(0,r.Z)("div",{target:"e172j45a0"})({padding:"var(--ds-space-150, 12px) var(--ds-space-100, 8px) 0"},""),k=(0,r.Z)("div",{target:"e172j45a1"})({display:"flex",padding:"var(--ds-space-200, 16px)",background:`var(--ds-background-accent-purple-subtler, ${c.jJ})`,color:`var(--ds-text, ${c.q2})`,borderRadius:"8px"},""),w=(0,r.Z)("img",{target:"e172j45a2"})({name:"acjma7",styles:"width:16px;height:16px;margin-right:var(--ds-space-100, 8px);"}),_=(0,o.defineMessages)({content:{id:"home.right-panel.spaces.onboarding.content",defaultMessage:"Based on your responses, Confluence created spaces that work for your team."},iconAlt:{id:"home.right-panel.spaces.onboarding.icon.alt",defaultMessage:"Finger pointing down icon"}});const x=()=>{const e=(0,l.Z)().formatMessage(_.iconAlt);return s.createElement(Z,null,s.createElement(k,null,s.createElement(w,{src:E,alt:e}),s.createElement(i.Z,(0,a.Z)({},_.content))))};x.displayName="SpacesOnboardingBannerContent";const C=()=>{const{locale:e,featureFlagClient:t}=(0,y.D)(),n=(0,h.T)("confluence.frontend.onboarding.experience"),{isSiteAdmin:r,isNewUser:o,loading:l}=(0,s.useContext)(b.wu),{data:i,loading:c,error:E}=(0,f.Si)(Object.values((0,a.Z)((0,a.Z)({},v.T),{},{IS_FOUNDING_ADMIN:g._L.IS_FOUNDING_ADMIN,ONBOARDING_INTENTS:g.fx})),!n||l||!r||!o),{isCollaboratorOnboardingEligibleUser:Z,isFoundingAdmin:k}=(0,f.Hi)(i);return E?(function(e){var t;((0,d.T)(e)||"unauthorized"===(null==e||null===(t=e.graphQLErrors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message))&&(0,m.Xb)(e)}(E),s.createElement(u.X,{error:E})):c||!k?null:((0,p.df)(t,"confluence.frontend.onboarding.collaborator-onboarding.calibration",e,!0),Z&&(0,p.df)(t,"confluence.frontend.onboarding.collaborator-onboarding",e,!0)?s.createElement(x,null):null)};C.displayName="SpacesOnboardingBanner"},125380:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomeWelcomeMessage:()=>G});var a=n(615919),r=n(946972),s=n(840506),o=n(93972),l=n(142807),i=n(167347),c=n(40419),d=n(328167),u=n(16728),m=n(486889),p=n(152853),f=n(400318),v=n(155049),g=n(855891),y=n(781980),h=n(588586),b=n(482180),E=n(750640);const Z=n(779076).ZP`query WelcomeMessagesQuery{spaViewContext{welcomeMessageEditUrl welcomeMessageHtml resourceKeys resourceContexts showWelcomeMessageEditHint showEditButton}}`;var k=x=(16).toUpperCase(),C=e=>e.padStart(2,"0"),S=(0,k.Z)(/rgb\((\d+), ?(\d+), ?(\d+)\)/i,{red:1,green:2,blue:3}),I=e=>{const t=e.match(S);if(t){var n,a,r,s,o,l;const e=null!==(n=null===(a=t.groups)||void 0===a?void 0:a.red)&&void 0!==n?n:"",d=null!==(r=null===(s=t.groups)||void 0===s?void 0:s.green)&&void 0!==r?r:"",u=null!==(o=null===(l=t.groups)||void 0===l?void 0:l.blue)&&void 0!==o?o:"";return i=d,c=u,`#${C(x(e))}${C(x(i))}${C(x(c))}`}var i,c;return e},M={"#0000FF":"var(--ds-link, rgb(0,0,255))","#7A869A":"var(--ds-text-subtlest, rgb(122,134,154))","#808080":"var(--ds-text-subtlest, rgb(128,128,128))","#1D1C1D":"var(--ds-text, rgb(29,28,29))","#000000":"var(--ds-text, rgb(0,0,0))"},T=(e,t,n,a)=>{if(!t)return a;const r=`${n}: ${e}`,s=`${n}: ${t}`;return a.replaceAll(r,s)},N=/style="[\s\S]*?"/gi,A=(0,k.Z)(/(background\x2Dcolor|color): (rgb\(\d+,\d+,\d+\)|#[A-F0-9]{3,6});?/gi,{cssProperty:1,cssValue:2}),R=e=>{const t=new Set,n=new Set,a=e.matchAll(N);for(const o of a){const e=o[0].matchAll(A);for(const a of e){var r,s;const e=null===(r=a.groups)||void 0===r?void 0:r.cssProperty,o=null===(s=a.groups)||void 0===s?void 0:s.cssValue;o&&"background-color"===e?t.add(o):o&&"color"===e&&n.add(o)}}return t.forEach((t=>{const n=I(t),a=(0,_.ES)(n);e=T(t,a,"background-color",e)})),n.forEach((t=>{const n=I(t),a=(r=n,(0,w.E)(r)||M[r]);var r;e=T(t,a,"color",e)})),e},L={welcomeMessageEditUrl:"",welcomeMessageHtml:"",showWelcomeMessageEditHint:!1,showEditButton:!1texts:[""]};function P(e){return null!=e}var D=n(364633);const F=(0,o.defineMessages)({errorMessageTitle:{id:"home.welcomeMessage.error.message.title",defaultMessage:"We can’t load your site’s welcome message"},errorMessageDescription:{id:"home.welcomeMessage.error.message.description",defaultMessage:"Refresh the page, or try again later."}}),O=(0,r.Z)("strong",{target:"e1ot064v0"})({name:"35ezg3",styles:"font-weight:600;"}),U=()=>s.createElement(D.Z,{appearance:"warning"},s.createElement(O,null,s.createElement(l.Z,(0,a.Z)({},F.errorMessageTitle))),s.createElement("p",null,s.createElement(l.Z,(0,a.Z)({},F.errorMessageDescription))));U.displayName="WelcomeMessageError";const $=(0,r.Z)("section",{target:"e135ard10"})({name:"13vf5wb",styles:"iframe{width:100%;}*{font-size:1em;}display:flex;position:relative;"}),j=(0,r.Z)("div",{target:"e135ard11"})({name:"1qv2zv1",styles:"width:100%;contain:content;"}),z=(0,r.Z)(g.r,{target:"e135ard12"})({name:"6vbi86",styles:"float:right;height:24px;"}),H=(0,r.Z)("div",{target:"e135ard13"})({name:"tr0r3x",styles:"margin-top:15px;"}),q=(0,r.Z)("div",{target:"e135ard14"})("display:flex;justify-content:space-between;align-items:center;flex:1;color:",`var(--ds-text, ${u.q2})`,";font-weight:500;"),B=(0,o.defineMessages)({customize:{id:"home.welcomeMessage.customize",defaultMessage:"Customize"},moreInfo:{id:"home.welcomeMessage.moreInfo",defaultMessage:"More Info"},announcements:{id:"home.welcomeMessage.announcements",defaultMessage:"Announcements"}}),W=e=>{if(!e||"undefined"==typeof window)return!0;const t=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("*");return(n=t,Array.from(n).filter((e=>(e.textContent||"").trim().length>0))).length<=0;var n},V="home-welcome-message",G=(0,s.memo)((({onLoad:e,noCollapse:t=!1,inRightPanel:n=!1})=>{const[r,o]=(0,s.useState)(!1),{data:u,error:k,loading:w}=(0,i.aM)(Z),_=(e=>{var t;if(!e)return L;const{welcomeMessageEditUrl:n,welcomeMessageHtml:a,resourceKeys:r,resourceContexts:s,showWelcomeMessageEditHint:o,showEditButton:l}=e.spaViewContext||{},i={welcomeMessageEditUrl:n,welcomeMessageHtml:a,showWelcomeMessageEditHint:o,showEditButton:l,resourceKeys:null==r?void 0:r.filter(P),resourceContexts:null==s?void 0:s.filter(P)};for(const[c,d]of Object.entries(i))null==d&&(i[c]=L[c]);return i.welcomeMessageHtml=R(null!==(t=i.welcomeMessageHtml)&&void 0!==t?t:""),i})(u),{welcomeMessageHtml:x,welcomeMessageEditUrl:C,showEditButton:S,showWelcomeMessageEditHint:I}=_,{createAnalyticsEvent:M}=(0,m._)(),{widgetState:T}=(0,b.d)(V),N=T===E.l.COLLAPSED,A=(0,s.useRef)(!1);if((0,s.useEffect)((()=>{N?A.current=!1:w||A.current||!n||(M({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"collapsibleSectionContent",actionSubjectId:V,source:"rightPanel",attributes:{homeVersion:"1.5"}}}).fire(),A.current=!0)}),[w,N,n,M]),w)return null;const D=t?s.Fragment:y.a;if(k)return s.createElement(D,{sectionId:V,header:s.createElement(l.Z,(0,a.Z)({},B.announcements))},s.createElement(U,null),n&&s.createElement(p.D,{error:k,name:f.enB}),e&&s.createElement(h.x,{onLoad:e}));if(W(x)&&n)return s.createElement(v.F,{name:f.enB});const F=e=>{e.stopPropagation()};return s.createElement("div",{onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)}},s.createElement(D,{onInitialCollapse:e,sectionId:V,header:s.createElement(q,null,s.createElement(l.Z,(0,a.Z)({},B.announcements)),S&&r&&s.createElement(z,{to:C,onClick:F},s.createElement(d.Z,{spacing:"none",iconBefore:s.createElement(c.default,{label:"Edit welcome message",size:"medium"})})))},s.createElement($,{id:"welcome-message"},s.createElement(j,{dangerouslySetInnerHTML:{__html:x||""}})),I&&s.createElement(H,null,s.createElement(g.r,{to:C},s.createElement(l.Z,(0,a.Z)({},B.customize))))),n&&s.createElement(v.F,{name:f.enB}),eSED="COLLAPSED",e.EXPANDED="EXPANDED",e}({})},482180:(e,t,n)=>{"use strict";n.d(t,{d:()=>d});var a=n(840506),r=n(167347),s=n(582463),o=n(779076);const l=o.ZP`query HomeWidgetsQuery{userPreferences{homeWidgets{id state __typename}__typename}}`,i=o.ZP`mutation HomeWidgetsMutation($id:ID!$state:HomeWidgetState!){updateUserPreferences(userPreferences:{homeWidget:{id:$id state:$state}}){homeWidgets{id state}}}`;var c=n(750640);const d=(e,t,n)=>{var o;const{isLicensed:d}=(0,s.D)(),{data:u,loading:m,error:p}=(0,r.aM)(l,{errorPolicy:"all",fetchPolicy:d?"cache-first":"cache-only"}),[f,{error:v}]=(0,r.Db)(i,{ignoreResults:(0,a.useState)(n);(0,a.useEffect)((()=>{y(n)}),[n]);const h=g||(null==u||null===(o=u.userPreferences.homeWidgets.find((t=>t.id===e)))||void 0===o?void 0:o.state)||t||c.l.COLLAPSED,b=(0,r.xJ)();return{widgetState:h,setWidgetState:(0,a.useCallback)((t=>{d&&f({variables:{id:e,state:t}});const n=((null==u?void erences.homeWidgets)||[]).filter((t=>t.id!==e));n.push({id:e,state:t,__typename:"HomeWidget"}),b.writeQuery({query:l,data:{userPreferences:{homeWidgets:n,__typename:"UserPreferences"}}}),y(void 0)}),[e,u,b,d,f]),loading:m,error:v||p}}},115717:(e,t,n)=>{"use strict";n.d(t,{LY:()=>i,OP:()=>m,cS:()=>c,yW:()=>u});var a=n(697674),r=n(113059),s=n(422272),o=n(140975),l=n(509017);const i=(0,a.is)({key:r.im,ssr:Boolean(window.__SSR_RENDERED__)?{doneAsFmp:!0}:void 0}),c=(0,a.is)({key:r.S7,ssr:Boolean(window.__SSR_RENDERED__)?{doneAsFmp:!0}:void 0}),d=[i,l.S,c],u=(0,a.Tn)({key:s.o9,timings:(0,o.B)(d),include:d,ssr:Boolean(window.__SSR_RENDERED__)?{doneAsFmp:!0}:void 0}),m=(0,a.Tn)({key:s.fw})},339915:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var a=n(840506);const r=({onScrollTo:e,cursor:t,observerOptions:n,children:r})=>{const o=(0,a.useRef)(null),l=(0,a.useRef)(null),i=(0,a.useCallback)((n=>{var a;n.length>1&&n.shift(),null!=n&&null!==(a=n[0])&&void 0!==a&&a.isIntersecting&&t!==l.current&&(l.current=t,e())}),[e,t]);return(0,a.useEffect)((()=>{const e=new IntersectionObserver(i,n),t=nurve(t),()=>{t&&e.unobserve(t),e.disconnect()}}),[o,i,n]),a.createElement(s,{ref:o},r)};r.displayName="InfiniteScroll";const s=(0,a.forwardRef)((({children:e},t)=>a.createElement("div",{ref:t},e)))},273155:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var a=n(170560),r=n(410941);const s=()=>{const e=(0,a.kEXPERIMENT_VARIATION_2="experiment-2",e}({})},278102:(e,t,n)=>{"use strict";n.d(t,{$J:()=>k,$g:()=>l,$x:()=>a,Fj:()=>b,Gd:()=>w,Gf:()=>o,Iv:()=>i,LE:()=>p,QL:()=>s,REFETCH_EVENTS:()=>S,RG:()=>x,SY:()=>m,VR:()=>u,Vg:()=>g,Wp:()=>d,dA:()=>c,gD:()=>C,n$:()=>h,r8:()=>y,vT:()=>_,w:()=>v,z1:()=>Z,zo:()=>f});const a={IS_PANEL_OPEN:"quickstart-state:isPanelOpen",IS_DISMISSED:"quickstart-state:isDismissed",OPEN_TASK_ID:"quickstart-state:openTaskId",OPEN_COMPONENT_ID:"quickstart-state:openComponentId",JSW_CONFLUENCE_INTRO_TASK:"quickstart-state:jswConfIntroCompleted",HELP_COMPLETED:"quickstart-state:helpCompleted",SPACE_MODAL_COMPLETED:"quickstart-state:spaceModalCompleted",SPACE_TOUR_COMPLETED:"quickstart-state:spaceTourCompleted",COLLABORATE_COMPLETED:"quickstart-state:collaborateCompleted",HOME_MODAL_COMPLETED:"quickstart-state:homeModalCompleted",HOME_TOUR_COMPLETED:"quickstart-state:homeTourCompleted",MOBILE_COMPLETED:"quickstart-state:mobileCompleted",HAS_SEEN_DISMISSED_FLAG:"quickstart-state:hasSeenDismissedFlag",IS_MIGRATED_USER_V2:"quickstart-state:isMigratedUserV2",JSW_XFLOW_SWITCHER_TOUR_TASK:"quickstart-state:jswXflowSwitcherTourCompleted",ORIGIN_ATTRIBUTES:"onboarding-origin-state:attributes",JSW_CONFLUENCE_MODAL:"quickstart-state:jswXFlowModalCompleted",EDITOR_TUTORIAL_TASK_COMPLETED:"quickstart-state:editorTutorialTaskCompleted",QSV2_READ_GUIDE_COMPLETED:"quickstart-state:qsv2ReadConfluenceGuideCompleted",QSV2_INVITE_TEAMMATE_TASK:"quickstart-state:qsv2InviteTeammateCompleted",QSV2_INTEGRATION_TASK:"quickstart-state:qsv2IntegrationCompleted",QSV2_VIDEO_TOUR_COMPLETED:"quickstart-state:qsv2SiteVideoTourCompleted",QSV2_SPOTLIGHT_COMPLETED:"quickstart-state:qsv2SpotlightCompleted",MIGRATIONS_WELCOME_TASK:"quickstart-state:migrationsWelcomeCompleted",MIGRATIONS_NEW_PAGE_TASK:"quickstart-state:migrationsNewPageCompleted",MIGRATIONS_COLLABORATE_TASK:"quickstart-state:migrationsCollaborateCompleted",MIGRATIONS_FIND_AND_ORGANIZE_PAGES_COMPLETED:"quickstart-state:migrationsFindAndOrganizePagesCompleted",MIGRATIONS_EDIT_AND_CUSTOMIZE_CONTENT_TASK:"quickstart-state:migrationsEditAndCustomizeContentCompleted",SIMPLIFY_ADMIN_RENAME_TASK:"quickstart-state:simplifyAdminRenameSiteCompleted",NQSV2_HELP_TASK_COMPLETED:"quickstart-state:nqsv2HelpCompleted",NQSV2_CREATE_TASK_COMPLETED:"quickstart-state:nqsv2CreateCompleted",NQSV2_COLLABORATE_TASK_COMPLETED:"quickstart-state:nqsv2CollaborateCompleted",NQSV2_CONFLUENCE_101_TASK:"quickstart-state:nqsv2Confluence101Completed"},r="quickstart-checklist.invite-teammate",s="quickstart-checklist.integration",o="quickstart-checklist.jsw-xflow-switcher-tour",l="quickstart-checklist.jsw-conf-intro",i="quickstart-checklist.jswXFlowModalCompleted",c="SHOW_SWITCHER_SPOTLIGHT_ONLY",d="quickstart-checklist.invite-teammate-v2",u="quickstart-checklist.confluence-guide-v2",m="quickstart-checklist.integration-v2",p="quickstart-checklist.site-tour-v2",f="quickstart-checklist.close-spotlight",v="quickstart-checklist.migrations.welcome",g="quickstart-checklist.migrations.new-page",y="quickstart-checklist.migrations.collaborate",h="quickstart-checklist.migrations.find-and-organize-pages",b="quickstart-checklist.migrations.edit-and-customize-content",E="quickstart-checklist.simplify.admin.rename-site",Z="quickstart-checklist.nth-user-v2.help",k="quickstart-checklist.nth-user-v2.confluence-101",w="quickstart-checklist.nth-user-v2.create",_="quickstart-checklist.nth-user-v2.collaborate",x={[r]:"inviteTeammateCompleted",[s]:"integrationCompleted",[o]:"jswXflowSwitcherTourCompleted",[l]:"jswConfIntroCompleted",[i]:"jswXFlowModalCompleted",[u]:"qsv2ReadConfluenceGuideCompleted",[d]:"qsv2InviteTeammateCompleted",[m]:"qsv2IntegrationCompleted",[p]:"qsv2SiteVideoTourCompleted",[f]:"qsv2SpotlightCompleted",[v]:"migrationsWelcomeCompleted",[g]:"migrationsNewPageCompleted",[y]:"migrationsCollaborateCompleted",[h]:"migrationsFindAndOrganizePagesCompleted",[b]:"migrationsEditAndCustomizeContentCompleted",[E]:"simplifyAdminRenameSiteCompleted",[w]:"nqsv2CreateCompleted",[_]:"nqsv2CollaborateCompleted",[Z]:"nqsv2HelpCompleted",[k]:"nqsv2Confluence101Completed"},C=new Set([r,l,u,d,m,p,v,g,y,b,h,E,_,k]),S={ONBOARDING_ATTRIBUTES_UPDATED:"onboardingAttributesUpdated",CACHE_UPDATE_FAILED:"cacheUpdateFailed"}},564441:(e,t,n)=>{"use strict";n.d(t,{K:()=>s,o:()=>r});var a=n(779076);const r=a.ZP`query GetOnboardingState($key:[String]){onboardingState(key:$key){key value}}`,s=a.ZP`mutation SetOnboardingState($states:[OnboardingStateInput!]!){setOnboardingState(states:$states){key value}}`},928782:(e,t,n)=>{"use strict";n.d(t,{B8:()=>p,Gs:()=>u,Hi:()=>d,Si:()=>m,wA:()=>f});var a=n(779076),r=n(840506),s=n(167347),o=n(649233),l=n(582463),i=n(906040),c=n(564441);const d=e=>{const t={},{onboardingState:n}=e||{};return void 0!==n&&n.forEach((({key:e,value:n})=>{const a=e.split(":")[1]||e;n&&(/(true|false)/g.test(n)?t[a]="true"===n:t[a]=n)})),t},u=()=>{const[e,{error:t,called:n}]=(0,s.Db)(c.K,{update(e,{data:t}){t.setOnboardingState.forEach((({key:t,value:n})=>{e.writeFragment({id:`OnboardingState:${t}`,fragment:a.ZP`fragment myKey on OnboardingState{key value}`,data:{key:t,value:n,__typename:"OnboardingState"}})}))},onError:e=>{(0,i.Y)(e)&&(0,o.Xb)(e)}});return{setOnboardingState:(0,r.useCallback)((t=>{let n;n=Array.isArray(t)?t:[t],e({variables:{states:n},{key:e,value:t,__typename:"OnboardingState"})))}})}),[e]),error:t,called:n}},m=(e,t=!1)=>{const{isLoggedIn:n,isLicensed:a}=(0,l.D)(),r=t||(!n||!a),{data:o,error:i,loading:d,refetch:u}=(0,s.aM)(c.o,{variables:{key:e},skip:r});return{data:o,error:i,loading:d,refetch:u}},p=async(e,t)=>await e.query({query:c.o,variables:{key:t}}),f=async(e,{key:t,value:n})=>await e.mutate({mutation:c.K,variables:{key:t,value:n},update(e){e.writeFragment({id:t,fragment:a.ZP`fragment myKey on OnboardingState{key value}`,data:{key:t,value:n,__typename:"OnboardingState"}})}})},678110:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var a=n(615919),r=n(486889),s=n(582463),o=n(179640),l=n(111783),i=n(908990),c=n(278102),d=n(928782);const u=()=>{var e;const{isLicensed:t,isLoggedIn:n,cloudId:u}=(0,s.D)(),{createAnalyticsEvent:m}=(0,r._)(),{setOnboardingState:p}=(0,d.Gs)(),f=(0,o.T)("confluence.frontend.onboarding.experience");let v=!1;const{data:g,loading:y}=(0,d.Si)(Object.values(c.$x),!n||!t),h=c.$x.IS_MIGRATED_USER_V2,b=(null==g||null===(e=g.on)||void 0===e||null===(e=e.find((e=>e.key===h)))||void 0===e?void 0:e.value)||void 0,E=!f||!("true"===b||void 0===b)||y,{loading:Z,error:k,attributes:w}=(0,l.$)({cloudId:u,skip:E}),_=null==w?void 0:w.reduce(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{[t.name]:t.value})),{}),x=null==_?void 0:_.confluence_entitlement_type,C=null==_?void 0:_["confluence.ondemand.activationDate"],S=null==_?void 0:_.confluence_migration_status;if(y||Z||E||k)return{isMigratedUser:!1,isMigratedUserReady:!0,error:k,skipQuery:E};const I=null==_?void 0:_.confluence_first_migration_signal_date,M="true"===S,T=M?I:C;if(!(M||"EXTENDED_TRIAL"===x))return void 0===S&&"true"!==b||"false"!==b&&p({key:h,value:"false"}),{isMigratedUser:v,isMigratedUserReady:!Z&&!k,error:k,skipQuery:E};if(T){const e=(0,i.iJ)(T,i.IP.ADD,3);if(!(new Date<e))return"false"!==b&&p({key:h,value:"false"}),{isMigratedUser:v,isMigratedUserReady:!Z&&!k,error:k,skipQuery:E};v=!0,"true"!==b&&(p({key:h,value:"true"}),((e,t)=>{m({type:"sendOperationalEvent",data:{source:"useMigratedUser",actionSubject:"isMigratedUser",action:e,attributes:t}}).fire()})("addedMigratedUserTag",{isMigratedUser:v}))}return{isMigratedUser:!(Z||k||E)&&v,isMigratedUserReady:!Z&&!k,error:k,skipQuery:E}}},240976:(e,t,n)=>{"use strict";n.d(t,{V:()=>g});var a=n(615919),r=n(840506),s=n(448614),o=n(349506),l=n(486889),i=n(582463),c=n(179640),d=n(423128),u=n(506851),m=n(111783),p=n(935479),f=n(928782),v=n(915008);const g=()=>{const{isSiteAdmin:e}=(0,r.useContext)(d.wu),{cloudId:t}=(0,i.D)(),{isEstablishedUser:n,isEstablishedUserReady:g}=(0,v.y)(),{setOnboardingState:y,called:h}=(0,f.Gs)(),b=(0,c.T)("confluence.frontend.home-visual-refresh"),{createAnalyticsEvent:E}=(0,l._)(),{data:Z,loading:k,error:w}=(0,f.Si)(Object.values(p.oY)),{onboardingIntentExperienceClosed:_,isOnboardingExperienceEligibleUser:x,skillLevel:C}=(0,f.Hi)(Z),S=!e||!b||!x,I=(0,u.e)({flagName:"cc_onboarding_intent-onboarding-new-home",isStatSig:!0,localeRestriction:"english",skip:S}),{attributes:M,loading:T}=(0,m.$)({cloudId:t,skip:!I}),N=null==M?void 0:M.reduce(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{[t.name]:t.value})),{}),A=null==N?void 0:N["confluence.ondemand.activationDate"];if(!e||(k||T||!g)||w)return!1;if(I&&A&&x&&!_&&!h){const e=(0,s.Z)(new Date(A),6);(0,o.Z)(e)||(y({key:p.oY.ONBOARDING_INTENT_EXPERIENCES_CLOSED,value:"true"}),E({type:"sendOperationalEvent",data:{action:"functionCalled",actionSubject:"hideArrowPostSixDaysCalled",source:"intentOnboardingExperienceEligible"}}).fire())}return(n?x:!n)&&(b&&I&&"beginner"!==C)&&!_}},111783:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var a=n(167347),r=n(582463),s=n(634554),o=n(722755);const l=n(779076).ZP`query SitePersonalizationQuery($cloudId:String!)@experimental{experimentalSitePersonalization(cloudId:$cloudId){attributes{name value}}}`;let i=!1;const c=({cloudId:e,skip:t,fetchPolicy:n})=>{var c;const{isLoggedIn:d,isLicensed:u}=(0,r.D)(),m=t||!d||!u||i,{data:p,loading:f,error:v}=(0,a.aM)(l,{variables:{cloudId:e},fetchPolicy:n||"cache-first",skip:m,onError(e){var t;i=null==e||null===(t=e.graphQLErrors)||void 0===t?void 0:t.some((e=>{var t,n,a;return(null==e||null===(t=e.path)||void 0===t?void 0:t.includes("experimentalSitePersonalization"))&&((null==e||null===(n=e.message)||void 0===n?void 0:n.includes("/personalization Received status 401"))||(null==e||null===(a=e.message)||void 0===a?void 0:a.includes("/personalization Received status 403"))||(0,s.j6)(e,"401")||(0,o.T)(e))}))}});return{loading:f,error:v,attributes:(null==p||null===(c=p.experimentalSitePersonalization)||void 0===c?void 0:c.attributes)||[]}}},960485:(e,t,n)=>{"use strict";n.d(t,{Y:()=>h});var a=n(615919),r=n(840506),s=n(167347),o=n(486889),l=n(654927),i=n.n(l),c=n(582463),d=n(179640),u=n(423128),m=n(935479),p=n(928782),f=n(110192),v=n(908990);const g=n(779076).ZP`query GetTeamQuery{user{id team confluence{hasPersonalSpace space{id key}}}}`,y="cc_onboarding_templates_collection_on_home",h=e=>{var t,n,l,h,b,E;const[Z,k]=(0,r.useState)(!1),{isNewUser:w}=(0,r.useContext)(u.wu),{isLicensed:_,isLoggedIn:x,locale:C,userId:S}=(0,c.D)(),{setOnboardingState:I}=(0,p.Gs)(),M=(0,d.T)("confluence.frontend.onboarding.experience"),T=i().getExperimentValue(y,"cohort","not-enrolled",{fireExperimentExposure:!1}),N=M&&e,A=x&&_,R=!N||!A||"not-enrolled"===T||!(0,v.RV)(C),{data:L,loading:P,error:D}=(0,s.aM)(f.f,{variables:{userId:S},skip:R}),F="true"===(null===(l=(null!==(t=null==L||null===(n=L.experimentalUserPersonalization)||void 0===ns_established_user"===(null==e?void 0:e.name))))||void 0===l?void 0:l.value),{data:O,loading:U,error:$}=(0,p.Si)(Object.values((0,a.Z)((0,a.Z)({},m.nr),m._L)),R),{isFoundingAdmin:j,isTaggedForTemplatesCollectionExperiment:z,isTemplatesSectionDismissed:H}=(0,p.Hi)(O),{data:q,loading:B,error:W}=(0,s.aM)(g,{skip:R||!j||H}),V=null==q||null===(h=q.user)||void 0===h||null===(h=h.confluence)||void 0===h?void 0:h.hasPersonalSpace,G=A&&w&&N&&j&&(0,v.RV)(C)&&V,{createAnalyticsEvent:K}=(0,o._)();(0,r.useEffect)((()=>{D||P||U||$||W||B||F||!G||z||"not-enrolled"!==T&&(i().manuallyLogExperimentExposure(y),K({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"feature",attributes:{flagKey:y,value:T},source:"TemplatesCollectionOnHome"}}).fire(),k("experiment"===T),I({key:m.nr.EXPERIMENT_ELIGIBLE,value:String("experiment"===T)}))}),[P,A,w,F,D,U,$,W,B,I,G,j,N,T,K,z]);const Q="experiment"===T&&Boolean(z),X=!H&&(Z||Q);return{isTemplatesCollectionEligible:X,shouldShowGuidingArrow:X&&!F,teamType:null==q||null===(b=q.user)||void 0===b?void 0:b.team,teamTypeLoading:B,teamTypeError:W,personalSpaceKey:null==q||null===(E=q.user)||void 0===E||null===(E=E.confluence)||void 0===E||null===(E=E.space)||void 0===E?void 0:E.key}}},906040:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var a=n(483647),r=n(722755);function s(e){var t;return"unauthorized"===(null==e||null===(t=e.graphQLErrors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message)||(0,r.T)(e)||(0,a.S)(e)}},92560:(e,t,n)=>{"use strict";n.d(t,{df:()=>i,nJ:()=>l,w4:()=>c});var a=n(654927),r=n.n(a),s=n(719323),o=n(908990);function l({featureFlagClient:e,flagName:t,isUserLocaleCorrect:n,shouldTrackExposureEvent:a=!0,isStatSig:o=!1,exposureData:l}){const i=s.H.NOT_ENROLLED,c=n&&a,d=o?function(e,t,n){try{return r().getExperimentValue(e,"cohort",t,{fireExperimentExposure:n})}catch(a){return t}}(t,i,c):e.getVariantValue(t,{default:i,oneOf:Object.values(s.H),shouldTrackExposureEvent:c,exposureData:l});return d===s.H.EXPERIMENT&&n?n:d===s.H.ENROLLED}const i=(e,t,n,a=!0,r)=>l({featureFlagClient:e,flagName:t,isUserLocaleCorrect:(0,o.RV)(n),shouldTrackExposureEvent:a,exposureData:r}),c=(e,t,n=!0,a)=>l({featureFlagClient:e,flagName:t,isUserLocaleCorrect:!0,shouldTrackExposureEvent:n,exposureData:a})},908990:(e,t,n)=>{"use strict";n.d(t,{IP:()=>r,RV:()=>a,iJ:()=>s});const a=e=>{let t=!0,n=!0;return e&&(t=-1!==e.toLowerCase().indexOf("en",0)),"undefined"!=typeof window&&navigator&&(n=n){return e.ADD="ADD",e.SUBTRACT="SUBTRACT",e}({});const s=(e,t,n)=>{const a=new Date(e),r=a;let s=a.getMonth();const o=a.getDate();return"ADD"===t?s+=n:"SUBTRACT"===t&&(s-=n),r.setMonth(s),o!=r.getDate()&&r.setDate(0),r}},826633:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});const a=(0,n(940155).ZR)({__loadable_id__:"FUeaj",nameder:async()=>n.e(73206).then(n.bind(n,61856))})},4876:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var a=n(615919),r=n(840506),s=n(754430);const o=()=>r.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.17 12C17.17 11.4477 17.6177 11 18.17 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H18.17C17.6177 13 17.17 12.5523 17.17 12Z",fill:"url(#paint0_linear_1705_87950)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.5523 3 13 3.44772 13 4V5.83C13 6.38228 12.5523 6.83 12 6.83C11.4477 6.83 11 6.38228 11 5.83V4C11 3.44772 11.4477 3 12 3Z",fill:"url(#paint1_linear_1705_87950)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12C3 11.4477 3.44772 11 4 11H5.83C6.38228 11 6.83 11.4477 6.83 12C6.83 12.5523 6.38228 13 5.83 13H4C3.44772 13 3 12.5523 3 12Z",fill:"url(#paint2_linear_1705_87950)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17.17C12.5523 17.17 13 17.6177 13 18.17V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V18.17C11 17.6177 11.4477 17.17 12 17.17Z",fill:"url(#paint3_linear_1705_87950)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.293 14.2929C14.6835 13.9024 15.3166 13.9024 15.7072 14.2929L19.7072 18.2929C20.0977 18.6834 20.0977 19.3166 19.7072 19.7071C19.3166 20.0976 18.6835 20.0976 18.293 19.7071L14.293 15.7071C13.9024 15.3166 13.9024 14.6834 14.293 14.2929Z",fill:"#2684FF"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7072 4.29289C20.0977 4.68342 20.0977 5.31658 19.7072 5.70711L15.7072 9.70711C15.3166 10.0976 14.6835 10.0976 14.293 9.70711C13.9024 9.31658 13.9024 8.68342 14.293 8.29289L18.293 4.29289C18.6835 3.90237 19.3166 3.90237 19.7072 4.29289Z",fill:"#2684FF"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L9.70711 8.29289C10.0976 8.68342 10.0976 9.31658 9.70711 9.70711C9.31658 10.0976 8.68342 10.0976 8.29289 9.70711L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z",fill:"#2684FF"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071C3.90237 19.3166 3.90237 18.6834 4.29289 18.2929L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:"#2684FF"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_1705_87950",x1:"20.9999",y1:"12",x2:"17.4999",y2:"12",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:"0.270833",stopColor:"#2684FF"}),r.createElement("stop",{offset:"1",stopColor:"#0052CC"})),r.createElement("linearGradient",{id:"paint1_linear_1705_87950",x1:"12.5",y1:"3",x2:"12.5",y2:"6.5",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:"0.1875",stopColor:"#2684FF"}),r.createElement("stop",{offset:"1",stopColor:"#0052CC"})),r.createElement("linearGradient",{id:"paint2_linear_1705_87950",x1:"6.82996",y1:"12",x2:"3.32996",y2:"12",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#0052CC"}),r.createElement("stop",{offset:"0.791667",stopColor:"#2684FF"})),r.createElement("linearGradient",{id:"paint3_linear_1705_87950",x1:"12.5",y1:"17",x2:"12.5",y2:"21",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#0052CC"}),r.createElement("stop",{offset:"0.802083",stopColor:"#2684FF"}))));o.displayName="quickSummarySvg";const l=e=>r.createElement(s.Z,(0,a.Z)({primaryColor:"#0052CC",glyph:o},e));l.displayName="QuickSummaryIcon"},293583:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var a=n(940155),r=n(840506),s=n(555687),o=n(4876);const l=()=>r.createElement(s.Z,{appearance:"subtle",isDisabled:!0,iconBefore:r.createElement(o.x,{label:""})},"Summarize");l.displayName="QuickSummaryButtonPlaceholder";const i=(0,a.tM)({__loadable_id__:"UNGxf",name:"QuickSummaryPopup",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(35824),n.e(45159),n.e(57941),n.e(30327),n.e(55372),n.e(95168)]).then(n.bind(n,286766))).QuickSummaryPopup,loading:l})},819959:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,X:()=>l});var a=n(840506),r=n(940155),s=n(492311);const o=(0,r.ZR)({__loadabl)=>a.createElement(s.n,{useAccuratePills:!0}),loader:async()=>(await Promise.all([n.e(12705),n.e(51238),n.e(53812),n.e(94338)]).then(n.bind(n,557423))).Reactions}),l=(0,r.y$)({__loadable_id__:"Iqground".e(94338)]).then(n.bind(n,557423))).Reactions})},110718:(e,t,n)=ed-blogpost",e.FEED_COMMENT="feed-comment",e}({}),r=function(e){return e.PAGE="page",e.BLOGPOST="blogpost",e.SPACE="space",e}({})},315585:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var a=n(840506),r=n(419539);const s=({children:e,featureFlag:t,condition:n=(e=>e)})=>a.createElement(r.e,null,(({featureFlags:r})=>n(r[t])?a.createElement(a.Fragment,null,e):null));s.displayName="RenderForFeatureFlag"},756106:(e,t,n)=>{"use strict";n.d(t,{f:()=>E});var a=n(615919),r=n(840506),s=n(825301),o=n(230475),l=n(240118),i=n(318122),c=n(126772),d=n.n(c);function u(e){const t=null==e?void 0:e.shimUrl,n=null==e?void mesToReplace,a=(0,r.useCallback)((e=>m(e,t,n)),[t,n]),s=(0,r.useCallback)((e=>{if(!t||!e||!Object.keys(e).length)return e;const a=d()(e);return h(a,t,n),a}),[t,n]),o=(0,r.useCallback)((e=>{if(!t||!e)return e;try{return function(e,t,n){const a=e.getElementsByTagName("a");Array.from(a).forEach((e=>{e.href=m(e.href,t,n)}));const r=e.getElementsBrray.from(r).forEach((e=>{e.src=m(e.src,t,n)})),e}((new DOMParser).parseFromString(e,"text/html"),t,n).body.innerHTML}cat)=>({shimUrl:a,shimAdfUrls:s,shimHtmlUrls:o})),[a,s,o])}function m(e,t,n){if(!t||!e||(0,l.Tq)(e))return e;try{const a=document.baseURI||window.location.toString(),r=v(e,a),s=p(a);return function(e,t,n,a,r){if(e.includes(l.bW)){const s=new URL(e),o=new URL(a);if(null!=r&&r.includes(s.hostname)){return e.replace(s.origin,o.origin).replace(t,n)}}return e.replace(t,n)}(r,s,f(t,a),aurn e}}const p=(0,i(lction g(e){return e.endsWith("/")?e:`${e}/`}const y=["url","href"];function h(e,t,n){Object.entries(e).forEach((([a,r])=>{r&&(y.includes(a)&&"string"==typeof r?ese"EDIT_PAGE_EMBED":return e;default:return}}function E(){const{navigationPolicy:e}=(0,s.Y)()||{},t=function(e){const t=(0,o.O)(),{shimUrl:n}=u(e),a=(0,r.useCallback)((()=>({push({match:t,matchSupportedRoute:a,open:r,push:s},o,i){if((0,l.Tq)(o))return void r(o,"_self");const c=null==t?void 0:t.name,d=null==t?void 0:t.params.contentId,u=a(o),m=null==u?void 0:u.name,p=null==u?void 0:u.params.contentId,f=null==u?void 0:u.params.spaceKey,v={routeName:b(m),contentId:p,spaceKey:f,target:this.willPushInSelf(c,d,m,p)?"_self":"_blank"},g=(e,{target:t})=>{if((0,l.Tq)(e))return void r(e,"_self");const n=a(e);this.willPushInSelf(c,d,null==n?void 0:n.name,null==n?void 0:n.params.contentId)&&Boolean(null==n?void 0:n.hash)?r(null==n?void 0:n.hash,"_self"):"_self"===t?s(e,i):r(e,t)};return null!=e&&e.navigate?null==e?void 0:e.navigate(o,v,g):g("_self"===v.target?o:n(o),v)},willPushInSelf:(e,t,n,a)=>!!b(n),[n,e]);return(0,r.useMemo)((()=>t?a():v(0,r.useMemo)((()=>(0,a.Z)({routePolicy:t},n)),[t,n])}},211230:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var a=n(840506),r=n(582463);const s=(e,t,n,s=!1)=>{const{featurefault:n,oneOf:t,shouldTrackExposureEvent:a})),[e,t,n,o]);return(0,a.useMemo)((()=>({cohort:l(s),fireExposureEvent:()=>l(!0)})),[l,s])}},435248:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var a=n(840506),r=n(487696),s=n(734233);function o(e){var t,n;const{spaceKey:o}=(0,a.useContext)(r.z1),{match:l}=(0,a.useContext)(s.M),i=null==l||null===(t=l.params)||void 0===t?void 0:t.spaceKey;if(e)return e;if(o)return o;if(i)return i;const c="undefined"!=typeof document?null===(n=document.querySelector("meta#confluence-space-key"))||void 0===n?void 0:n.content:null;return null!=c?c:null}},702061:(e,t,n)=>{"use strict";n.d(t,{fN:()=>g,wg:()=>f,gs:()=>v});var a=n(199009),r=n(142578);class s{constructor(){(0,urce=""}add(e){return this.resource+=e,this}addDeferTags(e){return this.resource+=(0,r.ac)(e),this}get(){return this.resource}}var o=n(615919),l=n(740293),i=n(24359),c=n(507690),d=n(293488);const u=(e,t)=>{if("auto"!==e&&"auto"!==t)return;return`(() => {${"auto"===e?`\n  try {\n    const darkModeMql = window.matchMedia('${d.OC}');\n    const colorMode = darkModeMql.matches ? 'dark' : 'light';\n    document.documentElement.setAttribute('${c.mw}', colorMode);\n  } catch (e) {}`:""}${(0,i.e)("platform.design-system-team.increased-contrast-themes")&&"auto"===t?`\n  try {\n    const contrastModeMql = window.matchMedia('${d.yu}');\n    const contrastMode = contrastModeMql.matches ? 'more' : 'no-preference';\n    document.documentElement.setAttribute('${c.qN}', contrastMode);\n  } catch (e) {}`:""}})()`};var m=n(364196),p=n(59969);new class{constructor(){(0,a.Z)(this,"errors",void 0),this.errors=[]}submitError(e,t){this.errors.push({error:{message:e.message,stack:e.stack},meta:t})}getErrors(){return this.erroZ)(this,"object",null)}set(e){this.object=e}get(hemeState",void 0),this.themeState=(0,p.V)()}setThemeStateBasedOnSavedThemeState(e){e&&(this.themeState=(0,o.Z)((0,o.Z)({},this.getThemeState()),e))}getThemeState(){return this.themeState}async getThemeStylesScript(){if(this.getThemeState().colorMode){return(await(0,l.Z)(this.getThemeState())).map((e=>`<style ${Object.entries(e.attrs).map((([e,t])=>`${e}="${t}"`))}>${e.css}</style>`)).join("")}return""}getSSRAutoColorModeScript(){const e=this.getThemeState().colorMode;return"auto"===e?`<script>${u(e)}<\/script>`:""}getThemeHtmlAttrsScript(){const e=this.getThemeState();if(e.colorMode){const t=(0,m.Z)(e);"auto"===e.colorMode&&delete t["data-colorcumentElement?.setAttribute("${e}", "${t}");`)).jass{constructor(){(0,a.Z)(this,"banners",[])}registerBannght:t}){this.banners.findIndex((t=>e===t.n,height:tED="NOT_ENROLLED",e.VARIANT="VARIANT",e}({})},929766:(e,t,n)=>{"use strict";n.d(t,{$:()=>f,D:()=>p});var a=n(840506),r=n(167347),s=n(486889),o=n(92560);var l=n(582463),i=n(179640),c=n(423128),d=n(856389);const u=n(779076).ZP`query SignUpProperties{signUpProperties{reverseTrial}}`;var m=n(365091);const p=(e=!1)=>{const{createAnalyticsEvent:t}=(0,s._)(),{featureFlagClient:n,edition:r}=(0,l.D)(),u=r===d.m.PREMIUM,{isSiteAdmin:p}=(0,a.useContext)(c.wu),{reverseTrialCohort:v,loading:g,error:y}=f({skip:!p||!u}),h=(0,i.T)("confluencefluence.frontend.onboarding.reverse-trial",t))(n,e),E=!g&&!y&&v===m.F.VARIANT;return(0,a.useEffect)((()=>{!y&&!g&&p&&e&&t({type:"sendTrackEvent",data:{source:"onboardingReverseTrial",action:"exposed",actionSubject:"feature",attributes:{type:"signUpProperties",servedValue:v}}}).fire()}),[t,g,y,p,v,e]),{isReverseTrialEligible:b&&E}};function f({skip:e}={}){var t;const{data:n,loading:a,error:s}=(0,r.aM)(u,{skip:e});return{reverseTrialCohort:null==n||null===(t=n.signUpProperties)||void 0===t?void 0:t.reverseTrial,loading:!e&&a,error:e?null:s}}},839237:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var a=n(840506),r=n(695235);function s({html:e}){const t=(0,a.useLayoutEffect)((()=>{(0,r.V)(t.current)}),[e]),a.createElement("div",{ref:t,dangerouslySetInnerHTML:{__html:e}})}s.displayName="WebPanel"},928788:(e,t,n)=>{"use strict";n.d(t,{j:()=>g});var a=n(615919),r=n(840506),s=n(911492),o=n(190206),l=n(400318),i=n(155049),c=n(487696),d=n(734233),u=n(357261),m=n(477958),p=n(839237),f=n(827685);const v=({spaceKey:e,contentId:t,location:n,style:a={},renderWhenLoading:c,fetchPolicy:v="cache-and-network",children:g,onCompleted:y})=>{const{getQueryParams:h}=(0,r.useContext)(d.M),b=h(),E=(0,r.useContext)(o.F),Z={[m.RI]:l.tJ_,[m._K]:l;(0,r.useEffect)((()=>{Z&&E.start({name:Z})}),[]);const k=e||(0,u.r)(b,"spaceKey")||(0,u.r)(b,"key"),w=t||(0,u.r)(b,"pageId");if("byDraft"===k)return null;const _=w?{contentId:w,location:n}:{spaceKey:k,location:n};return r.createElement(s.AE,{query:f.f,variables:_,fetchPolicy:v,onCompleted:y},(({data:e,loading:t,error:n})=>{if(t&&e)return null;if(!c&&(t||n||!e))return null;constnull==e?void 0:e.webPanels)||[]).filter((e=>e));return c||s.length?r.createElement(r.Fragment,null,r.createEeElement(p.c,{key:e.completeKey,html:e.html})))),Z?r.createElement(i.F,{name:Z}):null):(Z&&E.succeed({name:Z}),null)}))};v.displayName="WebPanelLocationComponent";const g=e=>r.createElement(c.z1.Consumer,null,(({spaceKey:t,contentId:n})=>r.createElement(v,(0,a.Z)((0,a.Z)({},e),{},{spaceKey:t,contentId:n}))));g.displayName="WebPanelLocation"},827685:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});const a=n(779076).ZP`query WebPanelLocationQuery($location:String$contentId:ID$spaceKey:String){webPanels(location:$location contentId:$contentId key:$spaceKey){moduleKey completeKey html location label weight name}}`},278886:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var a=n(840506),r=n(166258);const s=({wrm:e,children:t})=>{const[n,s]=(0,a.useState)({loaded:!1,module()=>{(0,r.N)(e,(e=>{s({loaded:!0,modules:e})}),(()=>{}))}),[e]),n.loaded&&t?t(n.modules):null}},166258:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var a=n(614889),r=n(608888);let s=null;function o(){return s||(s=new Promise((e=>{const t=window.setInterval((()=>{window.WRM&&"function"==typeof window.WRM.require&&(window.clearInterval(t),e(window.WRM.require))}),50)})),s)}(0,a.j)("wrm");let l=!0;function i(e,t,n){t&&n&&l?Promise.all([(0,r.n)(),o()]).then((([n,a])=>a(Array.isArray(e)?e:[e],t))):n&&setTimeout(n)}},123672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=e=>t=>n=>{const a=n(t),r=a.clone();return r&&r.fire(e),a}},331513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a=n(615919),r=n(840506),s=n(39030),o=n(219957),l=n(319754),i=n(16728),c=n(2142);const d={componentName:"blanket",packageName:"platform-pkg",packageVersion:"0.0.0-use.local"},u=(0,s.iv)({position:"fixed",zIndex:c.ug.blanket(),inset:0,backgroundColor:`var(--ds-blanket, ${i.Kz})`,overflowY:"auto",pointerEvents:"initial"}),m=(0,s.iv)({pointerEvents:"none"}),p=(0,s.iv)({backgroundColor:"transparent"}),f=(0,r.memo)((0,r.forwardRef)((function({shouldAllowClickThrough:e=!1,isTinted:t=!1,onBlanketClicked:n=l.Z,testId:i,children:c,analyticsContext:f},v){const g=(0,r.useRef)(null),y=(0,o.B)((0,a.Z)({fn:n,action:"click===e.target&&g.current===e.target?y(e):v,E=(0,r.useCallback)((e=>{g.current=e.target}),[]);return(0,s.tZ)("div",{role:"presentation",css:[u,e&&m,!t&&p],onClick:b,onMouseDown:E,"data-testid":i,ref:v},c)})));f.displayName="Blanket";const v=f},315884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(840506),r=n(39030);const s=(0,r.iv)({display:"inline-flex",gap:"var(--ds-space-050, 4px)","> *":{flex:"1 0 auto"}});function o({appearance:e,children:t,testId:n,label:o,titleId:l}){return(0,r.tZ)("div",{css:s,"data-testid":n,role:"group","aria-label":o,"aria-labelledby":l},a.Children.map(a.Children.toArray(t),((t,n)=>t?(0,r.tZ)(a.Fragment,{key:n},e?a.cloneElement(t,{appearance:e}):t):null)))}o.displayName="ButtonGroup"},497242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(615919),r=n(872342),s=n(840506),o=n(70397),l=n(250707),i=n(497507),c=n(996755),d=n(770132);const u=["children","component","description","elemAfter","elemBefore","href","isDisabled","isSelected","onClick","rel","shouldDescriptionWrap","shouldTitleWrap","target","testId"],m=(0,s.forwardRef)(((e,t)=>{let{children:n,component:m,description:p,elemAfter:f,elemBefore:v,href:g,isDisabled:y,isSelected:h,onClick:b,rel:E,shouldDescriptionWrap:Z=!0,shouldTitleWrap:k=!0,target:w,testId:_}=e,x=(0,r.Z)(e,u);const C=(0,d.Z)();return m?s.createElement(i.Z,(0,a.Z)({component:m,description:p,iconAfter:f,iconBefore:v,isDisabled:y,isSelected:h,onClick:b,ref:(0,o.Z)([t,C]),shouldDescriptionWrap:Z,shouldTitleWrap:k,testId:_,href:g,target:w,rel:E},x),n):g?s.createElement(c.Z,(0,a.Z)({description:p,href:g,iconAfter:f,iconBefore:v,isDisabled:y,isSelected:h,onClick:b,ref:(0,o.Z)([t,C]),rel:E,role:"menuitem",shouldDescriptionWrap:Z,shouldTitleWrap:k,target:w,testId:_},x),n):s.createElement(l.Z,(0,a.Z)({description:p,iconAfter:f,iconBefore:v,isDisabled:y,isSelected:h,onClick:b,ref:(0,o.Z)([t,C]),role:"menuitem",shouldDescriptionWrap:Z,shouldTitleWrap:k,testId:_,target:w,rel:E},x),n)}))},65301:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>L});var a=n(615919),r=n(872342),s=n(840506),o=n(393242),l=n(555687),i=n(188511),c=n(70397),d=n(319754),u=n(331714),m=n(327027),p=n(293724),f=n(724093),v=n(2142),g=n(268978),y=n(39030),h=n(116510),b=n(723177),E=n(429762),Z=n(618305);const k=(0,b.tu)({display:"flex",minWidth:"160px",padding:"space.250",justifyContent:"center"}),w=({statusLabel:e="Loading",testId:t})=>(0,y.tZ)(E.Z,{xcss:k},(0,y.tZ)(Z.Z,{size:"small",label:e,testId:t}));w.displayName="LoadingIndicator";const _=({children:e,isLoading:t,maxHeight:n,maxWidth:a,onClose:r,onUpdate:o,statusLabel:l,setInitialFocusRef:i,spacing:c,testId:d})=>{const{menuItemRefs:u}=(0,s.)(g.K);return(0,s.useLayoutEffect)((()=>{o()}),[t,o]),(0,s.usel!==(e=u.find((e=>!e.hasAttribute("disabled"))))&&void 0!==e?e:null;null==i||i(t)}),[u,i]),(0,y.tZ)(h.Z,{isLoading:t,maxHeight:n,maxWidth:a,onClick:e=>{u.some((t=>{const n=function(e){const t=e.getAttribute("role");retuole");return"radio"===t||"menuitemradio"===t}(t);return t.contains(e.target)&&!n}))&&r&&r(e)},role:"menu",spacing:c,testId:d&&`${d}--menu-group`},t?(0,y.tZ)(w,{statusLabel:l,testId:d&&`${d}--loading-indicator`}):e)};_.displayName="MenuWrapper";const x=_;var C=n(300482),S=n(770132);const I="ds--dropdown--";function M(){return(0,s.useRef)(`${I}${Math.random().toString(16).substr(2,8)}`).current}const T=["ref","aria-controls","aria-expanded","aria-haspopup"],N=`calc(100vh - ${2*(0,v.ww)()}px)`,A={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"},R=({autoFocus:e=!1,children:t,defaultOpen:n=!1,isLoading:y=!1,isOpen:h,onOpenChange:b=d.Z,placement:E="bottom-start",shouldFlip:Z=!0,shouldRenderToParent:k=!1,spacing:w,statusLabel:_,testId:R,trigger:L,zIndex:P=v.ug.modal(),label:D})=>{const[F,O]=(0,u.Z)(h,(()=>n)),[U,$]=(0,s.useState)(!1),j=M(),z=(0,S.Z)(),H=(0,s.useMemo)((()=>(e=>{const t=e.split("-"),n=t[0];if(["top","bottom"].includes(n)){if(2===t.length&&["start","end"].includes(t[1])){const e=t[1];return[`${n}`,`${n}-${A[e]}`,`${A[n]}-${e}`,`${A[n]}`,`${A[n]}-${A[e]}`,"auto"]}return[`${n}-start`,`${n}-end`,`${A[n]}`,`${A[n]}-start`,`${A[n]}-end`,"auto"]}})(E)),[E]),q=(0,s.useCallback)((e=>{const t=!F,{clientX:n,clientY:a,type:r,detail:s}=e;if("keydown"===r)$(!0);else if(0===n||0===a)$(!0);else if(0===s)$(!0);else{var o;null==z||null===(o=z.current)||void 0===o||o.focus()}O(t),b({isOpen:t,event:e})}),[z,b,F,O]),B=(0,s.useCallback)((e=>{if("Escape"!==e.key&&e.target.closest(`[id^=${I}] [aria-haspopup]`))return;O(false),b({isOpen:false,event:e})}),[b,O]),{isFocused:W,bindFocus:V}=(0,m.Z)();return(0,s.useEffect)((()=>W?F?d.Z:(0,o.ak)(window,{type:"keydown",listener:function(e){e.key===i.Hb?(e.preventDefault(),q(e)):" "!==e.key&&"Enter"!==e.key||0!==e.detail||$(!0)}}):d.Z),[W,F,q]),s.createElement(C.Z,null,s.createElement(f.Z,{id:F?j:void 0,shouldFlip:Z,isOpen:F,onClose:B,zIndex:P,placement:E,fallbackPlacements:H,testId:R&&`${R}--content`,shouldUseCaptureOnOutsideClick:!0,shouldRenderToParent:k,trigger:e=>{let{ref:t,"aria-controls":n,"aria-expanded":o,"aria-haspopup":i}=e,d=(0,r.Z)(e,T);return"function"==typeof L?L((0,a.Z)((0,a.Z)((0,a.Z)({"aria-controls":n,"aria-expanded":o,"aria-haspopup":i},d),V),{},{triggerRef:(0,c.Z)([t,z]),isSelected:F,onClick:q,testId:R&&`${R}--trigger`})):s.createElement(l.Z,(0,a.Z)((0,a.Z)({},V),{},{ref:(0,c.Z)([t,z]),"aria-controls":n,"aria-expanded":o,"aria-haspopup":i,isSelected:F,iconAfter:s.createElement(p.default,{size:"medium",label:""}),onClick:q,testId:R&&`${R}--trigger`,"aria-label":D}),L)},content:({setInitialFocusRef:n,update:a})=>s.createElement(g.Z,null,s.createElement(x,{spacing:w,maxHeight:N,maxWidth:800,onClose:B,onUpdate:a,isLoading:y,statusLabel:_,setInitialFocusRef:U||e?n:void 0,testId:R&&`${R}--menu-wrapper`},t))}))};R.displayName="DropdownMenu";const L=R},268978:(e,t,n)=>{"use strict";n.d(t,{K:()=>m,Z:()=>f});var a=n(840506),r=n(393242),s=n(319754),o=n(259612),l=n(188511);const i={[l.Hb]:"next",[l.R4]:"prev",[l.hv]:"first",[l.yM]:"last"},c=(e,t)=>{for(;t+1<e.length;){if(!e[t+1].hasAttribute("disabled"))return e[t+1];t++}},d=(e,t)=>{for(;t>0;){if(!e[t-1].hasAttribute("disabled"))return e[t-1];t--}};fueElement)||void 0===t?void 0:t.isSameNode(e)}));if(t())return;switch(i[n.key]){case"next":if(n.preventDefault(),a<e.length-1){const t=c(e,a);null==t||t.focus()}break;case"prev":if(n.preventDefault(),a>0){const t=d(e,a);null==t||t.focus()}break;case"first":n.preventDefault();const t=c(e,-1);null==t||t.focus();break;case"last":n.preventDefault();const r=d(e,e.length);null==r||r.focus();break;default:return}}}const m=(0,a.createContext)({menuItemRefs:[],registerRef:s.Z}),p=({children:e})=>{e&&!t.current.includes(e)&&t.current.push(e)}),[]),{isLayerDisabled:s}=(0,o.J)();(0,a.useEffect)((()=>(0,r.ak)(window,{type:"keydown",listener:u(t.current,s)})));const l={menuItemRefs:t.current,registerRef:n};return a.createElement(m.Provider,{value:l},e)};p.displayName="FocusManager";const f=p},300482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,i:()=>s});var a=n(840506),r=n(319754);const s=(0,a.ontext)({setItemState:r.Z,getIte=>{},setGroupState:r.Z,getGroupState:()=>({})}),o=e=>{const{children:t}=e,n=(0,a.usrent[e]||(n.current[e]={}),n.current[e][t]=a},getItemState:(e,t)=>{if(n.cur[e][t]},setGrorrent[e]=t},getGroupState:e=>n.current[e]||{}})),[]);return a.createElement(s.Provider,{value:r},t)};o.displayName="SelectionStore";const l=o},770132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(840506),r=n(268978);const s=function(){const{registerRef:e}=(0,a.useContext)(r.KEffect)((()=>{null!==t.current&&e(t.current)}),[e]),t}},331714:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(840506);function r(e,t=(()=>e)){const n=void 0!==e,[r,s]=(0,a.useState)(t),o=(0,a.useRef)(n);(0,a.useEffect)((()=>{o.curn?e:r,(0,a.useCallback)((e=>{o.current||s(e)}),[])]}},327027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(840506);function r(){const[e,t]=(0,a.useState)(!1),n=(0,a.useRef)({onFocus:()=>t(>t(!1)});return(0,a.useEffect)((()=>()=>t(!1)),[]),{isFocused:e,bindFocus:n.current}}},412098:(e,t,n)=>{seEffect)((()=>{t.current=e}),[e]),t.current}},7039n"==typeof e?e(t):null!==e&&(e.current=t)}))}}n.d(t,{Z:()=>a})},19456:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var a=n(840506),r=n(315884),s=n(618305),o=n(39030);const l=(0,o.iv)({display:"flex",marginBottom:"var(--ds-space-100, 8px)",paddingLeft:"var(--ds-space-500, 40px)",alignItems:"center",justifyContent:"center"}),i=({children:e})=>(0,o.tZ)("div",{css:l},e);i.displayName="ActionsContainer";const c=i,d=(0,o.iv)({width:"var(--ds-space-300, 24px)",marginLeft:"var(--ds-space-200, 16px)"}),u=({children:e})=>(0,o.tZ)("div",{css:d},e);u.displayName="SpinnerContainer";const m=u;const p=(0,n(2142).ww)(),f=8*p,v=2*p,g=(0,o.iv)({margin:"var(--ds-space-600, 48px) auto",textAlign:"center"}),y=(0,o.iv)({maxWidth:6*f+5*v+"px"}),h=(0,o.iv)({maxWidth:4*f+3*v+"px"}),b=({children:e,width:t,testId:n})=>(0,o.tZ)("div",{"data-testid":n,css:[g,"narrow"===t?h:y]},e);b.displayName="Container";const E=b,Z="--max-width",k="--max-height",w=(0,o.iv)({display:"block",maxWidth:`var(${Z})`,maxHeight:`var(${k})`,margin:"0 auto var(--ds-space-300, 24px)"}),_=({maxHeight:e,maxWidth:t,height:n="auto",width:a="auto",src:r})=>(0,o.tZ)("img",{style:{[Z]:`${t}px`,[k]:`${e}px`},width:a,height:n,alt:"",role:"presentation",css:w,src:r});_.displayName="Image";const x=_;var C=n(233006);const S=(0,o.iv)([(0,C.lL)(),{marginTop:"var(--ds-space-0, 0px)",marginBottom:"var(--ds-space-200, 16px)"}]),I=({children:e,level:t=4})=>{const n=`h${t>0&&t<7?t:t>6?6:4}`;return(0,o.tZ)(n,{css:S},e)};I.displayName="EmptyStateHeader";const M=I;var T=n(16728);const N=(0,o.iv)({marginTop:"var(--ds-space-0, 0px)",marginBottom:"var(--ds-space-30`}),A=({children:e})=>(0,o.tZ)("p",{css:N},e);A.displayName="Description";const R=A,L=({description:e,header:t,headingLevel:n=4,imageHeight:o,imageUrl:l,imageWidth:i,isLoading:d,maxImageHeight:u=160,maxImageWidth:p=160,primaryAction:f,renderImage:v,secondaryAction:g,width:y,size:h,tertiaryAction:b,testId:Z})=>{const k=f||g||d?a.createElement(c,null,a.createElement(r.Z,null,g,f),a.createElement(m,null,d&&a.createElement(s.Z,{testId:"empty-state-spinner"}))):null;return a.createElement(E,{testId:Z,width:y||h||"wide"},l?a.createElement(x,{src:l,maxWidth:p,maxHeight:u,width:i,height:o}):v&&v({maxImageWidth:p,maxImageHeight:u,imageWidth:i,imageHeight:o}),a.createElement(M,{level:n},t),e&&a.createElement(R,null,e),k,b)};L.displayName="EmptyState";const P=L},332799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var a=n(615919),r=n(872342),s=n(39030)o.createContext)(0),i=()=>(0,o.useContext)(l),c=e=>{const t=i();return[t,t&&(t>6?"div":`h${t}`)||e]},d=({children:e,value:t})=>{const n=i()+1;return o.createElement(l.Provider,{value:t||n},e)};d.displayName="HeadingLevelContextProvider";const u={xxlarge:"h1",xlarge:"h1",large:"h2",medium:"h3",small:"h4",xsmall:"h5",xxsmall:"h6"},m=(0,s.iv)({color:"var(--ds-text, #172B4D)",letterSpacing:"normal",marginBlock:0,textTransform:"none"}),p=(0,s.iv)({color:"var(--ds-text-inverse, #FFF)"}),f=({children:e,variant:t,id:n,testId:a,as:r,color:o="default"})=>{const[l,i]=c(u[t]),d=r||i,f="div"===d&&l;return(0,s.tZ)(d,{id:n,"data-testid":a,role:f?"heading":void 0,"aria-level":f?l:void 0,css:[m,t&&v[t],"inverse"===o&&p]},e)};f.displayName="Heading";const v={xxlarge:(0,s.iv)({font:'var(--ds-font-heading-xxlarge, normal 500 35px/40px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xlarge:(0,s.iv)({font:'var(--ds-font-heading-xlarge, normal 600 29px/32px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),large:(0,s.iv)({font:'var(--ds-font-heading-large, normal 500 24px/28px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),medium:(0,s.iv)({font:'var(--ds-font-heading-medium, normal 500 20px/24px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),small:(0,s.iv)({font:'var(--ds-font-heading-small, normal 600 16px/20px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xsmall:(0,s.iv)({font:'var(--ds-font-heading-xsmall, normal 600 14px/16px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xxsmall:(0,s.iv)({font:'var(--ds-font-heading-xxsmall, normal 600 12px/16px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'})},g=f,y=["level","variant"],h={h900:"h1",h800:"h1",h700:"h2",h600:"h3",h500:"h4",h400:"h5",h300:"h6",h200:"div",h100:"div"},b=(0,s.iv)({color:"var(--ds-text, #172B4D)",marginBlock:"var(--ds-space-0, 0px)"}),E=(0,s.iv)({fontSize:"var(--ds-font-size-600, 35px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-600, 40px)"}),Z=(0,s.iv)({fontSize:"var(--ds-font-size-500, 29px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-500, 32px)"}),k=(0,s.iv)({fontSize:"var(--ds-font-size-400, 24px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-400, 28px)"}),w=(0,s.iv)({fontSize:"var(--ds-font-size-300, 20px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",lineHeight:"var(--ds-font-lineHeight-300, 24px)"}),_=(0,s.iv)({fontSize:"var(--ds-font-size-200, 16px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.006em",lineHeight:"var(--ds-font-lineHeight-200, 20px)"}),x=(0,s.iv)({fontSize:"var(--ds-font-size-100, 14px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),C=(0,s.iv)({fontSize:"var(--ds-font-size-075, 12px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)",textTransform:"uppercase"}),S=(0,s.iv)({fontSize:"var(--ds-font-size-075, 12px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),I=(0,s.iv)({fontSize:"var(--ds-font-size-050, 11px)",fontWeight:"var(--ds-font-weight-bold, 700)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),M=(0,s.iv)({color:"var(--ds-text-inverse, #FFF)"}),T=(0,s.iv)({color:"var(--ds-text-subtlest, #6B778C)"}),N=({children:e,level:t,id:n,testId:a,as:r,color:o="default"})=>{const[l,i]=c(h[t]),d=r||i,u="h200"===t||"h100"===t,m="div"===d&&l;return(0,s.tZ)(d,{id:n,"data-testid":a,role:m?"heading":void 0,"aria-level":m?l:void 0,css:[b,"h100"===t&&I,"h200"===t&&S,"h300"===t&&C,"h400"===t&&x,"h500"===t&&_,"h600"===t&&w,"h700"===t&&k,"h800"===t&&Z,"h900"===t&&E,"inverse"===o&&M,"default"===o&&u&&T]},e)};N.displayName="Heading";const A=e=>{let{level:t,variant:n}=e,o=(0,r.Z)(e,y);return t?(0,s.tZ)(N,(0,a.Z)({level:t},o)):(0,s.tZ)(g,(0,a.Z)({variant:n},o))}},293724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const o=e=>r.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 000 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 000-1.419.987.987 0 00-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 00-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="ChevronDownIcon";var l=o;t.default=l},282087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const o=e=>r.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M9.005 10.995l4.593-4.593a.99.99 0 111.4 1.4l-3.9 3.9 3.9 3.9a.99.99 0 01-1.4 1.4L9.005 12.41a1 1 0 010-1.414z"/></svg>'},e));o.displayName="ChevronLeftLargeIcon";var l=o;t.default=l},49298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const o=e=>r.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M14.995 10.995a1 1 0 010 1.414l-4.593 4.593a.99.99 0 01-1.4-1.4l3.9-3.9-3.9-3.9a.99.99 0 011.4-1.4l4.593 4.593z"/></svg>'},e));o.displayName="ChevronRightLargeIcon";var l=o;t.default=l},40419:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const o=e=>r.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.148 6.852a.502.502 0 01.708.004l2.288 2.288a.5.5 0 01.004.708L11 17l-3-3 7.148-7.148zM7 15l3 3-3.51.877c-.27.068-.436-.092-.367-.367L7 15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayNameo.displayName="MoreIcon";var l=o;t.default=l},19173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(840506),r=n(39030),s=n(921994),o=n(629799);const l=(0,r.iv)(o.xR),i=(0,a.memo)((function({size:e="medium",label:t,primaryColor:n="currentColor",secondaryColor:a,testId:i,children:c}){return(0,r.tZ)("svg",{viewBox:"0 0 24 24",style:{color:n,fill:a||(0,s.V)()},css:[l,o.V8[e]],"data-testid":i,"aria-label":t||void 0,role:t?"img":"presentation"},c)}))},435460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var a=n(840506),r=n(39030),s=n(393242),o=n(253594),l=n(123672),i=n(862545),c=n(430564),d=n(319754),u=n(379525),m=n(129275),p=n(479198),f=n(615919),v=n(16728),g=n(2142);const y="--theme-background",h="--theme-color",b="--theme-box-shadow",E=(0,r.iv)({boxSizing:"content-box",maxWidth:"448px",maxHeight:"448px",padding:"var(--ds-space-200, 16px) var(--ds-space-300, 24px)",zIndex:g.ug.dialog(),background:`var(${y})`,borderRadius:"var(--ds-border-radius, 3px)",boxShadow:`var(${b})`,color:`var(${h})`,"&:focus":{outline:"none"}}),Z=(0,a.forwardRef)((({children:e,onBlur:t,onClick:n,onFocus:a,style:s,testId:o},l)=>(0,r.tZ)("div",{css:E,"data-testid":o,onBlur:t,onClick:n,onFocus:a,ref:l,style:(0,f.Z)({[y]:`var(--ds-surface-overlay, ${v.N0})`,[h]:`var(--ds-text, ${v.xA})`,[b]:`var(--ds-shadow-overlay, 0 4px 8px -2px ${v.Nx}, 0 0 1px ${v.VG})`},s)},e))),k="platform-pkg",w="0.0.0-use.local",_=e=>!!e&&(e.classList&&e.classList.contains("atlaskit-portal-container")||_(e.parentElement)),x=(0,a.memo)((function({isOpen:e=!1,onContentBlur:t=d.Z,onContentClick:n=d.Z,onContentFocus:l=d.Z,onClose:i=d.Z,placement:c="bottom-start",strategy:f="fixed",testId:v,content:g,children:y}){const h=(0,a.useRef)(null),b=(0,a.useuseRef)(i);(0,a.useEffect)((()=>{E.current=i}));const k=(0,a.useCallback)((e=>{const{target:t}=e;var n;t instanceof HTMLElement&&(document.body.contains(t)&&(_(t)||h.current&&!h.current.contains(t)&&(null===(n=E.current)||void 0===n||n.call(E,{isOpen:!1,event:e}))))}),[]),w=(0,a.useCallback)((e=>{b.current&&b.current.contains(e.target)||k(e)}),[k]);(0,a.useEffect)((()=>{if(!e)return;return(0,s.ak)(window,{type:"click",listener:w,options:{capt0,a.useCallback)((e=>{"Escape"===e.key&&k(e)}),[k]);(0,a.useEffect)((()=>{if(!e)return;return(0,s.ak)(window,{type:"keydown",listener:x,options:{capture:!0}})}),[e,x]);const C=e?(0,r.tZ)(u.r,{placement:c,strategy:f},(({ref:e,style:a})=>(0,r.tZ)(Z,{onBlur:t,onFocus:l,onClick:n,ref:t=>{t&&(h.current=t,"function"==typeof e?e(t):e.current=t)},style:a,testId:v},g))):null;return(0,r.tZ)(m.dK,null,(0,r.tZ)(p.s,null,(({ref:e})=>(0,r.tZ)(o.Z,{innerRef:t=>{b.current=t,"function"==typeof e?e(t):e.current=t}},(0,r.tZ)(a.Fragment,null,y)))),C)}));x.displayName="InlineDialog";const C=(0,l.Z)("atlaskit"),S=(0,i.Z)({componentName:"inlineDialog",packageName:k,packageVersion:w})((0,c.Z)({onClose:C({action:"closed",actionSubject:"inlineDialog",attributes:{componentName:"inlineDialog",packageName:k,packageVersion:w}})})(x))},250707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(615919),r=n(872342),s=n(840506),o=n(39030),l=n(483039),i=n(319754),c=n(24359),d=n(370679);const u=["children","cssFn","description","iconAfter","iconBefore","isDisabled","isSelected","onClick","testId","overrides","onMouseDown","shouldTitleWrap","shouldDescriptionWrap","className"],m=(0,s.memo)((0,s.forwardRef)(((e,t)=>{const{children:n,cssFn:s=i.Z,description:m,iconAfter:p,iconBefore:f,isDisabled:v=!1,isSelected:g=!1,onClick:y,testId:h,overrides:b,onMouseDown:E,shouldTitleWrap:Z,shouldDescriptionWrap:k,className:w}=e,_=(0,r.Z)(e,u),x=E;return n?((0,l.o)("platform-pkg","cssFn",s!==i.Z,""),(0,o.tZ)(d.Z,(0,a.Z)((0,a.Z)({className:(0,c.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:w},_),{},{overrides:b,iconBefore:f,iconAfter:p,isDisabled:v,isSelected:g,description:m,title:n,shouldTitleWrap:Z,shouldDescriptionWrap:k,css:s({isSelected:g,isDisabled:v}),testId:h&&`${h}--primitive`}),(({children:e,className:n})=>(0,o.tZ)("button",(0,a.Z)((0,a.Z)({"data-testid":h},_),{},{className:n,ref:t,disabled:v,onClick:y,onMouseDown:x,type:"button"}),e)))):null})))},497507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(615919),r=n(872342),s=n(840506),o=n(39030),l=n(483039),i=n(319754),c=n(24359),d=n(370679);const u=["component","cssFn","isDisabled","isSelected","onClick","testId","children","description","iconAfter","iconBefore","overrides","onMouseDown","shouldTitlnWrap","className"],m=e=>{e.preventDefault()},p=(0,s.memo)((0,s.forwardRef)(((e,t)=>{let{component:n,cssFn:s=i.Z,isDisabled:p=!1,isSelected:f=!1,onClick:v,testId:g,children:y,description:h,iconAfter:b,iconBefore:E,overrides:Z,onMouseDown:k,shouldTitleWrap:w,shouldDescriptionWrap:_,className:x}=e,C=(0,r.Z)(e,u);const S=k;return n?((0,l.o)("platform-pkg","cssFn",s!==i.Z,""),(0,o.tZ)(d.Z,(0,a.Z)((0,a.Z)({className:(0,c.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:x},C),{},{overrides:Z,description:h,iconAfter:b,title:y,iconBefore:E,isSelected:f,isDisabled:p,shouldTitleWrap:w,shouldDescriptionWrap:_,css:(0,o.iv)(s({isDisabled:p,isSelected:f})),testId:g&&`${g}--primitive`}),(({children:e,className:r})=>(0,o.tZ)(n,(0,a.Z)((0,a.Z)({"data-testid":g},C),{},{className:r,ref:t,draggable:!1,onDragStart:m,onMouseDown:p?m:S,onClick:p?m:v,tabIndex:p?-1:void 0,"aria-disabled":p}),e)))):null})))},471654:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var a=n(840506),r=n(9441);const s=()=>{const e=(0,a.useContext)(r.t);if(null==e)throw Error("@atlaskit/modal-dialog: Modal context unavailable – this component needs to be a child of ModalDialog.");return e}},416595:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var a=n(840506),r=n(39030),s=n(521488),o=n(471654),l=n(393242),i=n(269626),c=n(70397),d=n(319754),u=n(874729),m=n(168862),p=n(428524),f=n(455113),v=n(402349);const g=(0,r.iv)({display:"inherit",margin:"var(--ds-space-0, 0px)",flex:"inherit",flexDirection:"inherit",flexGrow:1,overflowX:"hidden",overflowY:"auto",[f.B.above.xs]:{height:"unset",overflowY:"auto"}}),y=(0,r.iv)({borderBlockStart:`${v.HV}px solid ${v.RC}`}),h=(0,r.iv)({borderBlockEnd:`${v.HV}px solid ${v.RC}`}),b=(0,a.forwardRef)(((e,t)=>{const{testId:n,children:s}=e,[o,f]=(0,m.Z)({previous:!1,next:!1}),[b,E]=(0,a.useState)(!1),[Z,k]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1),x=(0,=x.current;e&&E(e.scrollHeight>e.clientHeight)}))),I=(0,u.Z)((0,i.Z)((()=>{const e=x.current;if(e){const t=e.scrollHeight-e.clientHeight;o.current.previous&&k(e.scrollTop>v.HV),o.current.next&&_(e.scrollTop<=t-v.HV)}})));return(0,a.useEffect)((()=>{const e=x.current,t=(0,l.ak)(window,{type:"resize",listener:I}),n=e?(0,l.ak)(e,{type:"scroll",listener:I}):d.Z;return S(),I(),C({previous:Boolean(null==e?void 0:e.previousElementSibling),next=e?void 0:e.nextElementSibling)}),()=>{t(),n()}}),[S,I,C]),(0,r.tZ)(p.Z,{isInset:!0},(0,r.tZ)("div",{tabIndex:b?0:void 0,role:b?"region":void 0,"aria-label":b?"Scrollable content":void 0,"data-testid":n&&`${n}--scrollable`,ref:(0,c.Z)([t,x]),css:[g,Z&&y,w&&h]},s))}));b.displayName="ScrollContainer";const E=b;var Z=n(9441);const k=(0,r.iv)({flex:"1 1 auto"}),w=(0,r.iv)({padding:`${v.HV}px ${v.o3}px`}),_=(0,r.iv)({padding:`0px ${v.o3}px`}),x=e=>{const{children:t,testId:n}=e,{t needs to be a child of ModalDialog.");return e}()?(0,r.tZ)("div",{css:[k,_],"data-testid":i},t):(0,r.tZ)(s.in,null,(0,r.tZ)(E,{testId:n||l},(0,r.tZ)("div",{css:[k,w],"data-testid":i},t)))}},272169:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(39030),r=n(471654),s=n(402349);const o=(0,a.iv)({display:"flex",padding:s.o3,position:"relative",alignItems:"center",justifyContent:"flex-end",gap:"var(--ds-space-100, 8px)",paddingBlockStart:s.o3-s.HV+"px"}),l=e=>{const{children:t,testId:n}=e,{testId:s}=(0,r.d)(),l=n||s&&`${s}--footer`;return(0,a.tZ)("div",{css:o,"data-testid":l},t)};l.displayName="ModalFooter";const i=l},811836:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(840506);var a=n(39030),r=n(471654),s=n(402349);const o=(0,a.iv)({display:"flex",padding:s.o3,position:"relative",alignItems:"center",justifyContent:"space-between",paddingBlockEnd:s.o3-s.HV+"px"}),l=e=>{const{children:t,testId:n}=e,{testId:s}=(0,r.d)(),l=n||s&&`${s}--header`;return(0,a.tZ)("div",{css:o,"data-testid":l},t)};l.displayName="ModalHeader";const i=l},815526:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var a=n(39030),r=n(451655),s=n(629670),o=n(471654),l=n(402349);const i=(0,a.iv)({display:"flex",minWidth:0,margin:"var(--ds-space-0, 0px)",alignItems:"center",fontSize:"var(--ds-font-size-300, 20px)",fontStyle:"inherit",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",lineHeight:1}),c=(0,a.iv)({minWidth:0,flex:"1 1 auto",wordWrap:"break-word"}),d=(0,a.iv)({flex:"0 0 auto",alignSelf:"start",marginInlineEnd:`${l.Kh}px`}),u=(0,a.iv)({lineHeight:1.2,marginBlockEnd:"-2px",marginBlockStart:"-2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),m=(0,a.iv)({lineHeight:1.2,marginBlockEnd:"-2px"}),p=({appearance:e,isMultiline:t})=>{const n="danger"===e?r.default:s.default;return(0,a.tZ)("span",{css:[d,!t&&m]},(0,a.tZ)(n,{label:e,primaryColor:l.e2[e]}))};p.displayName="TitleIcon";const f=e=>{const{appearance:t,children:n,isMultiline:r=!0,testId:s}=e,{titleId:l,testId:d}=(0,o.d)(),m=s||d&&`${d}--title`;return(0,a.tZ)("h1",{css:i,"data-testid":m},t&&(0,a.tZ)(p,{appearance:t,isMultiline:r}),(0,a.tZ)("span",{id:l,css:[c,!r&&u],"data-testid":m&&`${m}-text`},n))};f.displayName="ModalTitle";const v=f},587499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(840506),r=n(227318);const s=e=>a.createElement(r.Z,{appear:!0},e.children);s.displayName="ModalTransition";const o=s},364633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var a=n(840506),r=n(789085),s=n(332799),o=n(723177),l=n(429762),i=n(957262),c=n(345735),d=n(615919),u=n(85278),m=n(451655),p=n(101313),f=n(161871),v=n(629670),g=n(16728);const y={information:{backgroundColor:`var(--ds-background-information, ${g.BA})`,Icon:p.default,primaryIconColor:`var(--ds-icon-information, ${g.YC})`},warning:{backgroundColor:`var(--ds-background-warning, ${g.S_})`,Icon:v.default,primaryIconColor:`var(--ds-icon-warning, ${g.zx})`},error:{backgroundColor:`var(--ds-background-danger, ${g.r6})`,Icon:m.default,primaryIconColor:`var(--ds-icon-danger, ${g.gR})`},success:{backgroundColor:`var(--ds-background-success, ${g.ER})`,Icon:u.default,primaryIconColor:`var(--ds-icon-success, ${g.VB})`},discovery:{backgroundColor:`var(--ds-background-discovery, ${g.jJ})`,Icon:f.default,primaryIconColor:`var(--ds-icon-discovery, ${g.J1})`}};const h=(0,o.tu)({wordBreak:"break-word",borderRadius:"border.radius"}),b=(0,o.tu)({display:"flex",marginBlock:"var(--ds-space-negative-025, -2px)"}),E=(0,a.forwardRef)((function({children:e,appearance:t="information",actions:n,title:o,icon:u,testId:m},p){const{primaryIconColor:f,backgroundColor:v,Icon:g}=function(e,t){const n=y[e]||y.information,a=t||n.Icon;return(0,d.Z)((0,d.Z)({},n),{},{Icon:a})}(t,u),E=n&&n.type===a.Fragment?n.props.children:n,k=a.Children.toArray(E);return a.createElement(l.Z,{as:"section",backgroundColor:Z[t],padding:"space.200",testId:m,ref:p,xcss:h},a.createElement(i.Z,{space:"space.200",alignBlock:"stretch"},a.createElement(l.Z,{xcss:b},a.createElement(g,{size:"medium",primaryColor:f,secondaryColor:v})),a.createElement(c.Z,{space:"space.100",testId:m&&`${m}--content`},!!o&&a.createElement(s.Z,{as:"h2",level:"h500"},o),a.createElement(r.Z,null,e),k.length>0&&a.createElement(i.Z,{shouldWrap:!0,testId:m&&`${m}--actions`,separator:"·",space:"space.100",rowSpace:"space.0"},k))))})),Z={information:"color.background.information",warning:"color.background.warning",error:"color.background.danger",success:"color.background.success",discovery:"color.background.discovery"};E.displayName="SectionMessage";const k=E},233006:(e,t,n)=>{"use strict";n.d(t,{$G:()=>l,AC:()=>p,Dq:()=>c,Mf:()=>g,aR:()=>i,lL:()=>u,pB:()=>v,pp:()=>d,qm:()=>f,uU:()=>m});var a=n(615919),r=n(16728),s=n(2142);const o=(e,t)=>({fontSize:e/(0,s.JB)()+"em",fontStyle:"inherit",lineHeight:t/e}),l={h900:{size:35,lineHeight:40},h800:{size:29,lineHeight:32},h700:{size:24,lineHeight:28},h600:{size:20,lineHeight:24},h500:{size:16,lineHeight:20},h400:{size:14,lineHeight:16},h300:{size:12,lineHeight:16},h200:{size:12,lineHeight:16},h100:{size:11,lineHeight:16}},i=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h900.size,l.h900.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",marginTop:6.5*(0,s.ww)()+"px"}),c=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h800.size,l.h800.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.01em",marginTop:5*(0,s.ww)()+"px"}),d=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h700.size,l.h700.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",marginTop:5*(0,s.ww)()+"px"}),u=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h600.size,l.h600.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",marginTop:3.5*(0,s.ww)()+"px"}),m=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h500.size,l.h500.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.006em",marginTop:3*(0,s.ww)()+"px"}),p=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h400.size,l.h400.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",marginTop:2*(0,s.ww)()+"px"}),f=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h300.size,l.h300.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:2.5*(0,s.ww)()+"px",textTransform:"uppercase"}),v=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h200.size,l.h200.lineHeight)),{},{color:`var(--ds-text-subtlest, ${(0,r.Pe)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:2*(0,s.ww)()+"px"}),g=(e={})=>(0,a.Z)((0,a.Z)({},o(l.h100.size,l.h100.lineHeight)),{},{color:`var(--ds-text-subtlest, ${(0,r.Pe)(e)})`,fontWeight:"var(--ds-font-weight-bold, 700)",marginTop:2*(0,s.ww)()+"px"})},752640:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var a=n(840506);const r=a.memo((({setWidth:e,offscreen:t})=>{const[n,r,s]=function(e={}){const t=a.useRef(),n=a.useRef(),[r,s]=a.useState({inView:!1,entry:void 0,target:void 0}),{threshold:o,root:l,rootMargin:i}=e,c=a.useCallback((e=>{n.current=new IntersectionObserver((t=>{if(t&&t.length){const n=t[0],{isIntersecting:a,intersectionRatio:r}=n;if(r>=0){let t=r>=(o||0);void 0!==a&&(t=t&&a),s({inView:t,entry:n,target:e})}}}),{threshold:o,root:l,rootMargin:i}),t.current&&n.current.unobserve(t.current),e&&n.current.observeurrent&&t.current&&n.current.unobserve(t.current)}),[]),[c,r.inView,r.target,r.entry]}({threshold:0}),o=a.useRef((()=>"undefined"==typeof window?null:new ResizeObserver((t=>{if(!Array.isArray(t)||!t.length)return;const{width:n}=t[0].contentRect;e(Math.round(n))}))));return a.useEffect((()=>{const{current:e}=o,n=e();if(nul?n.observe(s):n.unobserve(s)),()=>{n.disconnect()}}),[s,r,t]),a.createElement("div",{style:{display:"block",widtent(r,{set,n)=>{"rty(e,"replace].call(this,n,r)},o.apply(this,arguments)}}}]);
//# sourceMappingURL=94854.gpaWs77_UN.js.map