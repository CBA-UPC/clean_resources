"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{59622:function(e,r,t){t.r(r),t.d(r,{InBodyRelatedArticles:function(){return N},default:function(){return L}});var n=t(85893),o=t(67294);=ar f=p=function(e){!l,e);var r,t,o,c=d(l);function l(e){var r;!this,l),(r=c.call(this,e)).state={isVisible:!1},r.defaultIntersectionCallback=function(e,t){var n=r.state.isVisible;n||e.forEach((function(e){if(e){var t=e.isIntersecting;!0===t&&t!==n&&setTimeout((function(){r._isMounted&&r.setState({isVisible:t},()}),r.props.delay)}}))};var t=r.props.intersectionHandler?r.props.intersectionHandler:r.defaultIntersectionCallback;return r.intersectionCallback=t.bind(i(r)),r}return r=l,(t=[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this.props,r=e.observerOptions;if(e.defer&&this.$wrapper&&IntersectionObserver){var t=r||{rootMargin:"0px",threshold:[0]};this.observer=new IntersectionObserver(this.intersectionCallback,t),this.observer.observe(this.$wrapper)}}},{key:"componentWillUnmount",value:,{key:"render",value:function(){var e=this;return(0,n.jsx)("span",{ref:children:this.getUI()})}},{key:"getUI",value:function(){var e=this.props,r=e.defer,t=e.placeholderComponent,o=e.children,i=this.state.isVisible;if(r){var a=t||f;return i?o:(0,n.jsx)(a,{})}return o}}])&&a(r.prototype,t),o&&a(r,o),l}(o.PureComponent);p.defaultProps={defer:!0,delay:0,observerOptions:{rootMargin:"0px",threshold:0},placeholderComponent:f};var v=t(44492),b=t(63159),h=t(34368),y=t(768),g=t(45240),m=t(50361),x=t.n(m),_=t(66487),w=t(97140),O=t(3239),j=t(58676),C=t(66641),E=t(21160),I=function(e){var r=e.error,t=e.isDev,o=e.web_id,i=e.site,a=void 0===i||i;return console.log("Error rendering finite-scroll article: ".concat(o," | ").concat(a)),console.log(r),t?(0,n.jsxs)("div",{style:{padding:50},children:["Error loading article...",(0,n.jsx)("div",{children:(0,n.jsx)("pre",{children:JSON.stringify(r,null,2)})})]}):null},P=function(e){var r,t,i=(0,j.M)(),a=(i.locale,i.geoLocale),c=(0,C.NE)(),l=e.web_id,s=e.index,u=e.previewOnLoad,d=void 0!==u&&u,f=(0,v.u)(l),p=f.loading,m=f.error,P=f.article,k=(0,E.U)().isAdFree,M=function(e,r){var t=void 0===r?0:r,n=(0,O.z$)();return(0,o.useMemo)((function(){var r=x()(e);return r.forEach((0,w.R)({pageModule:_.E.modules.RECIRC,pageModuleName:_.E.pageModules.RIGHT_RAIL,pageModuleIndex:t+1},_.E.events.CLICK,_.E.modules.RECIRC,n)),r}),[e])}((0,h.r)({articleID:null===P||void 0===P?void 0:P.id,site:c,locale:a,perPage:5,page:s+1,sectionID:null===P||void 0===P||null===(r=P.section)||void 0===r?void 0:r.id,primaryTopicID:null===P||void 0===P||null===(t=P.primary_topic)||void 0===t?void 0:t.id},(0,y.f)(a)),e.index);return!p&&!m&&P&&P.id?(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(b.Z,{relatedArticles:M,article:P,previewOnLoad:d,index:e.index,isAdFree:k}),(0,n.jsx)(g.Z,{id:"post-article_".concat(e.index),slotId:"post-article",disclaimer:"Advertisement",className:"post-article-ad",shouldShowDisclaimer:!0,variant:"border",targeting:P.adTargeting,adUnitPath:P.adUnitPath,isAdFree:k})]}):!p&&m?(0,n.jsx)(I,{error:m,isDev:false,web_id:l,site:c}):(0,n.jsx)("div",{className:"inbody-article"})};r R=function(){return(0,n.jsx)("div",{style:{minHeight:"70vh"},"data-rel":"article-placeholder"})},N=function(e){var r=(e.relatedArticles||[]).map((function(e,r){return(0,n.jsx)("div",{id:"iba_".concat(e.web_id),className:"inbody-article",children:(0,n.jsx)(p,{placeholderComponent:R,observerOptions:{rootMargin:"0px 0px 300px 0px",threshold:0},children:(0,n.jsx)(P,M({},e,{index:r,previewOnLoad:!0}))})},"article_".concat(e.web_id,"_").concat(r))}));return(0,n.jsx)(n.Fragment,{children:r})},L=N},44492:function(e,r,t){t.d(r,{u:);var n=t(16748),o=t(67294),i=t(2712),a=t(77914),c=t(97264),l=t(32141),s=t(66641),u=t(58676),d=t(97140),f=function(e,r){var t=void 0===r?l.ZP:r,f=(0,s.NE)(),p=(0,u.M)(),v=p.locale,b=p.geoLocale,h={web_id:e,site:f,locale:b},y=(0,n.a)(i.b2.articleNoBodyComponents,{variables:h,notifyOnNetworkStatusChange:!0,partialRefetch:!0}),g=y.loading,m=y.error,x=y.data,_=(0,c.T_)(),w=(0,o.useMemo)((function(){return(0,a.J)(t(v,b,f)(x),_)}),[x]);return(0,d.G)(w),{article:w,loading:g,error:m}}}}]);
//# sourceMappingURL=622.dacc6656a30816a1.js.map