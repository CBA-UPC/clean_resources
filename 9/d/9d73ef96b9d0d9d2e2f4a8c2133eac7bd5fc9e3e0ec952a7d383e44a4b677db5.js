!function(){return ()({1:[function(t,e,r){"use strict";r.byteLength=r.toByteArray=r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o="",s=[],a=16383,u=0,c=r-i;u<c;u+=a)s.push(h(t,u,u+a>c?c:u+a));1===i?(e=t[r-1],o+=n[e>>2],o+=n[e<<4&63],o+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],o+=n[e>>10],o+=n[e>>4&63],o+=n[e<<2&63],o+="=");return s.push(o),s.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;"-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,r){"use strict";var n=t("base64-js"),i=t("ieee754");r.Buffer=a,r.SlowBuffer=r.INSPECT_MAX_BYTES=50;var o=2147483647;nction u(t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return R(t)?t,e,r):"string"==typeof t?function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,e),n=s(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e):function(t){if(a.isBuffer(t)){var e=0|l(t.length),r=s(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}if(t){if(P(t)||"length"in t)return"number"!=typeof t.length||L(t.length)?s(0):f(t);if("Buffer"===t.type&&Array.isArray(t.data))return f(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t)}tion d(t,e){if(a.isBuffer(t))return t.length;if(P(t)||R(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(n)return B(t).length;e=(""+e).toLowerCase(),n=!0}}ength=o,a.TYPED_ARRAY_SUPPORT=),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=a.allocUnsafe=function(t){return h(t)},a.allocUnsafeSlow=a.isBuffer=a.compare=a.isEncoding=a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=a.prototype.swap32=a.prototype.swap64=a.prototype.toString=a.prototype.equals=a.prototype.inspect=a.prototype.compare=a.prototype.includes=a.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},a.prototype.lastIndexOf=a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o,s,a,u,c,h,f,l,d,p=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return l=e,d=r,O(B(t,(f=this).length-l),f,l,d);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return m(this,t,e,r);case"base64":return u=this,c=e,h=r,O(q(t),u,c,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,a=r,O(t,(o=this).length-s),o,s,a);default:if(p)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},a.prototype.toJSON=var x=4096;n T(t,e,r,n,o){return e=+e,r>>>=0,o||I(t,0,r,4),i.write(t,e,r,n,23,4),r+4}.prototype.slice=a.prototype.readUIntLE=a.prototype.readUIntBE=a.prototype.readUInt8=a.prototype.readUInt16LE=a.prototype.readUInt16BE=a.prototype.readUInt32LE=a.prototype.readUInt32BE=a.prototype.readIntLE=a.prototype.readIntBE=a.prototype.readInt8=a.prototype.readInt16LE=a.prototype.readInt16BE=a.prototype.readInt32LE=a.prototype.readInt32BE=a.prototype.readFloatLE=function(t,e){return t>>>=0,e||S(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||S(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||S(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=a.prototype.writeUIntLE=a.prototype.writeUIntBE=a.prototype.writeUInt8=a.prototype.writeUInt16LE=a.prototype.writeUInt16BE=a.prototype.writeUInt32LE=a.prototype.writeUInt32BE=a.prototype.writeIntLE=a.prototype.writeIntBE=a.prototype.writeInt8=a.prototype.writeInt16LE=a.prototype.writeInt16BE=a.prototype.writeInt32LE=a.prototype.writeInt32BE=a.prototype.writeFloatLE=function(t,e,r){return T(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return T(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return _(this,t,e,!0,r)},a.prototype.writeDoubleBE=a.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=a.isBuffer(t)?t:new a(t,n),u=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%u]}return this};var N=/[^+/0-9A-Za-z-_]/g;nction q(t){return n.toByteArray(function(t){if((t=t.trim().replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}nction P(t){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(t)},{"base64-js":1,ieee754:3}],3:[{}],4:[{}],5:[function(t,e,r){!function(r){"use strict";var n,i=r.Base64;if(void 0!==e&&e.exports)try{n=t("buffer").Buffer}catch(t){}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=o),a=String.fromCharCode,u=c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,h=function(t){return t.replace(c,u)},f=l=r.btoa?function(t){return r.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,f)},d=n?function(t){return l(h(t))},p=g=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),y=v=m=w=r.atob?b=n?x=if(r.Base64={VERSION:"2.1.9",atob:w,btoa:l,fromBase64:x,toBase64:p,utob:h,encode:p,encodeURI:btou:v,decode:x,noConflict:,"function"==typeof Object.defineProperty){var A=r.Base64.extendString=r.Meteor&&(Base64=r.Base64)}(this)},{buffer:2}],6:[{}],7:[function(t,e,r){var n,i=t("emitter"),o=t("reduce"),s=t("./request-base"),a=t("./is-object");"undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var h=e.exports=t("./request").bind(null,v);h.getXHR=var f="".trim?r m in h.serializeObject=l,h.parseString=p,h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":l,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":p,"application/json":JSON.parse},y.prototype.get=function(t){return this.header[t.toLowerCase()]},y.prototype.setHeaderProperties=y.prototype.parseBody=y.prototype.setStatusProperties=y.prototype.toError=h.Response=y,i(v.prototype),s)v.prototype[m]=s[m];.prototype.abort=v.prototype.type=function(t){return this.set("Content-Type",h.types[t]||t),this},v.prototype.responseType=function(t){return this._responseType=t,this},v.prototype.accept=v.prototype.auth=v.prototype.query=v.prototype.attach=v.prototype._getFormData=v.prototype.send=function(t){var e=a(t),r=this._header["content-type"];if(e&&a(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||c(t)?this:(r||this.type("json"),this)},y.prototype.parse=y.prototype.serialize=function(t){return this._parser=t,this},v.prototype.callback=v.prototype.crossDomainError=v.prototype.timeoutError=v.prototype.withCredentials=v.prototype.end=h.Request=v,h.get=function(t,e,r){var n=h("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},h.head=function(t,e,r){var n=h("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.del=w,h.delete=w,h.patch=function(t,e,r){var n=h("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.post=function(t,e,r){var n=h("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.put=,{"./is-object":8,"./request":10,"./request-base":9,emitter:4,reduce:6}],8:[{}],9:[{"./is-object":8}],10:[function(t,e,r){e.exports=,{}],11:[function(t,e,r){var n=t("./query"),i=t("./utils/url"),o=t("superagent"),s=1;function a(t,e,r){if(t&&e){for(var n in this.company=t,this.collection=e,void 0===r&&(r={}),r)this[n]=r[n];void 0===this.jsonp&&(this.jsonp=!1),this.se=1,this.hosts={api:"https://app.sajari.com/api/",index:"https://re.sajari.com"}}}function u(t){return t instanceof n?(t.sequence(),t=t.encode()):"string"==typeof t&&-1===t.indexOf("=")?{q:t}:t}a.prototype={search:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("search",n,t)},popular:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("popular",n,t)},related:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("related",n,t)},recent:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("recent",n,t)},best:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("best",n,t)},query:resetSequence:pixel:function(t,e){t=this.mergeArgs(u(t),{company:this.company,collection:this.collection});var r=new Image;void 0!==e&&(r.src=i.augmentUri(this.hosts.index+e,t))},mergeArgs:function(t,e){for(var r in"string"==typeof t&&(t=i.decodeUriArgs(t+"")),"string"==typeof e&&(e=i.decodeUriArgs(e+"")),t)e[r]=t[r];return e},fingerprint:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("fingerprint",n,t)},fingerprintReset:function(t,e,r){var n={method:"POST",success:e,failure:r},i={fingerprint:t};return this.send("fingerprint/reset",n,i)},fingerprintWeight:function(t,e,r,n,i,o){var s={method:"POST",success:i,failure:o},a={fingerprint:t};return this.send("fingerprint/weight/"+e+"/"+r+"/"+n,s,a)},add:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("add",n,data)},getById:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("get/"+t,n,null)},get:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("get",n,t)},put:function(t,e,r,n){var i={method:"POST",success:r,failure:n};return this.send("put/"+t,i,e)},patchById:function(t,e,r,n){var i={method:"POST",success:r,failure:n};return this.send("patch/"+t,i,null)},patch:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("patch",n,t)},removeById:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("remove/"+t,n,null)},remove:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("remove",n,t)},replaceById:function(t,e,r,n){var i={method:"POST",success:r,failure:n};return this.send("replace/"+t,i,null)},replace:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("replace",n,t)},send:function(t,e,r){var n;switch((r=this.mergeArgs(u(r),{company:this.company,collection:this.collection})).hasOwnProperty("q.se")||"search"!=t||(r["q.se"]=this.se,this.se++),t=this.hosts.api+t,this.jsonp&&(t=i.augmentUri(t,r)),e.method){case"POST":n=o.post(t);break;case"GET":n=o.get(t);break;case"PATCH":n=o.patch(t);break;case"DELETE":n=o.del(t);break;case"PUT":n=o.put(t);break;default:return e.failure()}this.basicauth&&n.auth(this.basicauth.user,this.basicauth.pass),this.jsonp?this.jsonpSend(t,r,e.success,e.failure):(n.send(r),n.end(function(t,r){t?e.failure(t):e.success(r.body)}))},jsonpSend:function(t,e,r,n){var o=i.augmentUri(t,e),a="_jsonp_"+s++,u=document.createElement("script");window["__SJ"+a]=function(t){r(t);try{delete window["__SJ"+a]}catch(t){window["__SJ"+a]=void 0}u.parentNode.removeChild(u)},u.onerror=function(){n();try{delete window["__SJ"+a]}catch(t){window["__SJ"+a]=void 0}u.parentNode.removeChild(u)},u.src=i.augmentUri(o,{jsoncallback:"__SJ"+a}),document.getElementsByTagName("head")[0].appendChild(u)}},e.exports=a},{"./query":12,"./utils/url":14,superagent:7}],12:[function(t,e,r){var n=t("./utils/isArray"),i=t("./utils/url");function o(t){"string"==typeof t&&(t={q:t}),void 0===t&&(t={}),this.options=t,void 0===this.se&&(this.se=0),void 0===this.options.attrs&&(this.options.attrs={}),void 0===this.id&&(this.id=16))}function s(t){switch(t.op){case">":case"<":case"<=":case">=":case"^":case"$":case"!=":case"~":break;case"starts-with":t.op="^";break;case"ends-with":t.op="$";break;case"contains":t.op="~";break;default:t.op=""}if("string"!=typeof t.key)throw"Invalid Sajari filter key: ("+typeof t.key+") "+t.key;return""===t.op?t.key+","+c(t.value):t.op+t.key+","+c(t.value)}function a(t){if("string"!=typeof t.key)throw"Invalid Sajari scale key: ("+typeof t.key+") "+t.key;return void 0!==t.center&&(t.centre=t.center),t.key+","+h(t.centre)+","+h(t.radius)+","+h(t.start)+","+h(t.finish)}function u(t){return Math.round((t.valueOf()+(new Date).getTimezoneOffset())/1e3)}function c(t){if("[object Date]"===Object.prototype.toString.call(t))return u(t);if("string"!=typeof t&&"number"!=typeof t)throw"Invalid Sajari query value: ("+typeof t+") "+t;return""+t}function h(t){if("[object Date]"===Object.prototype.toString.call(t))return u(t);if("number"!=typeof t)throw"Invalid Sajari query numeric value: ("+typeof t+") "+t;return t}o.prototype={encode:function(){for(var t={"q.id":this.id,"q.se":this.se},e=["q","url","facet.limit","facet.metric.field","facet.metric.start","facet.metric.end","facet.metric.gap","facet.date.start","facet.date.end","facet.date.gap","page"],r=0;r<e.length;r++)void 0!==this.options[e[r]]&&(t[e[r]]=this.options[e[r]]);if(void 0!==this.options.cols&&(t.cols=this.options.cols.join(",")),void 0!==this.options.filters){var i=[];for(r=0;r<this.options.filters.length;r++)i.push(s(this.options.filters[r]));i.length>0&&(t.filters=i.join("|"))}if(void 0!==this.options.scales){var o=[];for(r=0;r<this.options.scales.length;r++)o.push(a(this.options.scales[r]));o.length>0&&(t.scales=o.join("|"))}var u=["set","meta","delta","append"];for(var c in u){var h=u[c];if(void 0!==this.options[h])for(r=0;r<this.options[h].length;r++){var f=this.options[h][r].value;n(f)?f=f.join(";"):"object"==typeof f&&(f=JSON.stringify(f)),t[h+"["+this.options[h][r].key+"]"]=f}}var l=this.options["facet.fields"];if(void 0!==l&&(n(l)?t["facet.fields"]=l.join(","):t["facet.fields"]=l),void 0!==this.options.attrs)for(var d in this.options.attrs)t[d]=this.options.attrs[d];return t},setQueryId:sequence:function(t){return void 0!==t?this.se=t:this.se++,this},cols:function(t){return this.options.cols=t,this},url:function(t){return this.options.url=t,this},page:facetfields:function(t,e){return this.options["facet.fields"]=t,this.options["facet.limit"]=e,this},metricfacet:function(t,e,r,n){return this.options["facet.metric.field"]=t,this.options["facet.metric.start"]=e,this.options["facet.metric.end"]=r,this.options["facet.metric.gap"]=n,this},datefacet:function(t,e,r){return this.options["facet.date.start"]=t,this.options["facet.date.end"]=e,this.options["facet.date.gap"]=r,this},filter:function(t,e,r){return void 0===this.options.filters&&(this.options.filters=[]),this.options.filters.push({key:t,op:e,value:r}),this},scale:function(t,e,r,n,i){return void 0===this.options.scales&&(this.options.scales=[]),this.options.scales.push({key:t,centre:e,radius:r,start:n,finish:i}),this},meta:function(t,e){return void 0===this.options.meta&&(this.options.meta=[]),this.options.meta.push({key:t,value:e}),this},append:function(t,e){return void 0===this.options.append&&(this.options.append=[]),this.options.append.push({key:t,value:e}),this},delta:function(t,e){return void 0===this.options.delta&&(this.options.delta=[]),this.options.delta.push({key:t,value:e}),this},set:function(t,e){return void 0===this.options.set&&(this.options.set=[]),this.options.set.push({key:t,value:e}),this},decoded:function(t){return this.attr("decoded",t)},maxresults:function(t){return this.attr("maxresults",t)},fingerprint:attr:function(t,e){return void 0!==t&&""!==t&&void 0!==e&&(this.options.attrs[t]=e),this},attrs:function(t){for(var e in"string"==typeof t&&(t=i.decodeUriArgs(t)),t)void 0!==e&&""!==e&&void 0!==t[e]&&(this.options.attrs[e]=t[e]);return this}},e.exports=o},{"./utils/isArray":13,"./utils/url":14}],13:[function(t,e,r){e.exports=,{}],14:[function(t,e,r){var n={decodeUriArgs:function(t){var e={},r=t.split("&");for(var n in r)if(r.hasOwnProperty(n)){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e},encodeUriArgs:function(t){var e=[];for(var r in t)e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")},mergeQueryStr:function(t){for(var e="string"==typeof t?this.decodeUriArgs(t):t,r=1;r<arguments.length;r++)if(void 0!==arguments[r]){var n="string"==typeof arguments[r]?this.decodeUriArgs(arguments[r]):arguments[r];for(var i in n)e[i]=n[i]}return this.encodeUriArgs(e)},augmentUri:function(t,e){var r=/^([^\?]+)\?(.+)+$/.exec(t);return r?r[1]+"?"+this.mergeQueryStr(e,r[2]):t+"?"+this.encodeUriArgs(e)},getURLParameter:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}};e.exports=n},{}],15:[function(t,e,r){var n=t("./utils/cookie"),i=t("./utils/encode"),o=t("./utils/unique"),s=new i,a=t("sajari/src/js/utils/isArray.js"),u={cname:"sjID",pname:"sjPR",ename:"sjPE",sname:"sjSE",clicked:"sjCL",expires:365,maxStrings:10,maxURLs:10,weight:.05,session:!1,domain:window.location.hostname.toLowerCase().replace(/^www(.)/,"")};function c(t){for(var e in t=t||{})this[e]=t[e];void 0===t.data&&(this.data={meta:{},weighted:[]}),void 0===this.data.meta&&(this.data.meta={}),void 0===this.data.weighted&&(this.data.weighted=[]),this.gaId=function(){var t="",e=n.get("_ga");if(void 0!==e){var r=e.split(".");r.length>2&&(t=r[2])}return t}(),void 0===this.visitorId&&(this.visitorId=n.get(u.cname),void 0===this.visitorId&&(this.visitorId=(new Date).getTime()+"."+Math.floor(1e6*Math.random()))),this.sequence=function(){var t=n.get(u.sname);void 0===t&&(t=0);return t++,n.set(u.sname,t,{path:"/",domain:u.domain}),t}(),this.load()}function h(t,e){if("undefined"!=typeof Storage){var r=s.encode(e);return sessionStorage.setItem(t,r),!0}}function f(t){if("undefined"!=typeof Storage){var e=sessionStorage.getItem(t);if(e)return s.decode(e)}}c.prototype={load:function(){var t,e=function(t){if("undefined"!=typeof Storage){var e=sessionStorage.getItem(t);if(e)return JSON.parse(e)}}(u.pname);e&&(this.data.meta=e,this.save()),u.session?(t=f(u.ename))&&(this.data=t):(t=function(t){if("undefined"!=typeof Storage){var e=localStorage.getItem(t);if(e)return s.decode(e)}}(u.ename))&&(this.data=t)},save:function(){u.session?h(u.ename,this.data):function(t,e){if("undefined"!=typeof Storage){var r=s.encode(e);localStorage.setItem(t,r)}}(u.ename,this.data)},option:set:function(t,e){if(e){for(var r in e)this.data.meta[r]=e[r];this.save()}t&&(this.data.weighted.push(t),this.data.weighted=o(this.data.weighted),this.data.weighted.length>this.maxStrings&&this.data.weighted.shift(),this.save())},get:addClickedUrl:function(t){var e=t.split("?"),r=f(u.clicked);r||(r=[]);for(var n=0;n<r.length;n++)if(r[n]===e[0])return;r.push(e[0]),r.length>this.maxURLs&&r.shift(),h(u.clicked,r)},getClickedUrls:function(t){var e=f(u.clicked);return e?e.slice(Math.max(e.length-t,1)):[]},toArgs:function(t){for(var e in void 0===t&&(t={}),this.data.meta){var r=this.data.meta[e];a(r)?r=r.join(";"):"object"==typeof r&&(r=JSON.stringify(r)),t["meta["+e+"]"]=r}for(var n=this.data.weighted.length,i=0;i<n;i++){t["q["+((i+1)/(n/.05)).toFixed(4)+"]"]=this.data.weighted[i]}return t.mimetype="text/plain+weighted",t},setVisitorId:function(t){return void 0!==t&&(this.visitorId=t+"",n.set(u.cname,this.visitorId,{path:"/",expires:u.expires,domain:u.domain})),this.visitorId}},e.exports=c},{"./utils/cookie":16,"./utils/encode":18,"./utils/unique":23,"sajari/src/js/utils/isArray.js":13}],16:[function(t,e,r){.exports=function(){})},{}],17:[function(t,e,r){function n(t){(t=t||{}).prefix&&(this.prefix=t.prefix),this.nodes={},t.nodes&&(this.nodes=t.nodes),this.targets={},t.targets&&(this.targets=t.targets)}n.prototype={bind:function(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent&&("input"==e&&(e="onpropertychange"),t.attachEvent("on"+e,)},getMeta:function(t){var e,r=document.getElementsByTagName("meta");for(e=0;e<r.length;e++)if(r[e].getAttribute("name")==t)return r[e].getAttribute("content");return""},importCss:entitise:copyDynamicProperties:function(t,e){if(void 0!==t&&void 0!==e){var r=this.dynamicAttrs(t);if("object"==typeof r)for(var n in r)r.hasOwnProperty(n)&&e.setAttribute(this.prefix+n,r[n])}},scanShim:function(t){if(void 0===document.getElementsByAttribute){if(1===t.nodeType){for(r=0;r<this.targets.length;r++)t.hasAttribute(this.prefix+this.targets[r])&&(void 0===this.nodes[this.targets[r]]&&(this.nodes[this.targets[r]]=[]),this.nodes[this.targets[r]].push(t));if(void 0!==t.childNodes)for(var e=0;e<t.childNodes.length;e++)this.scanShim(t.childNodes[e],this.targets,this.nodes)}}else for(var r=0;r<this.targets.length;r++)elements=document.getElementsByAttribute(this.prefix+this.targets[r],"*"),elements.length>0&&(n.nodes[this.targets[r]]=elements)},attrVal:function(t,e,r){return t.hasAttribute(this.prefix+e)?t.getAttribute(this.prefix+e):r},dynamicAttrs:function(t,e){void 0===e&&(e="");var r,n={};for(var i in t.attributes){var o=t.attributes[i];if(o&&o.specified)(r=new RegExp(this.prefix+e+"(.+)$","g").exec(o.name))&&-1===this.targets.indexOf(r[1])&&(n[r[1]]=o.value)}return n},dynamicMeta:function(t,e){void 0===e&&(e={});for(var r=document.getElementsByTagName("meta"),n=0;n<r.length;n++){var i=r[n].getAttribute("property"),o=r[n].getAttribute("name"),s=r[n].getAttribute("content");""!=o&&null!=o?e[o]=s:""!=i&&null!=i&&(e[i]=s)}for(var a=document.getElementsByTagName("*"),u=(n=0,a.length);n<u;n++){var c=this.dynamicAttrs(a[n],"meta-");for(m in c)void 0===c[m]||""===c[m]?void 0===a[n].content||""===a[n].content?void 0!==a[n].innerText&&""!==a[n].innerText&&(e[m]=a[n].innerText):e[m]=a[n].content:e[m]=c[m];var h=a[n].getAttribute(this.prefix+"field");if(null!=h){for(var f=[this.prefix+"value","name","property","content"],l=0;l<f.length;l++){var d=a[n].getAttribute(f[l]);if(null!=d&&""!==d){if(void 0===e[h])e[h]=d;else if("object"==typeof e[h])e[h].push(d);else if("string"==typeof e[h]){var p=e[h];e[h]=[p,d]}break}}void 0!==a[n].innerText&&""!==a[n].innerText&&(e[h]=a[n].innerText)}}return e},dynamicAttrsUri:function(t){var e=[],r=this.dynamicAttrs(t);for(var n in r)e.push(encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return e.join("&")},eachNode:function(t,e){if(this.hasNode(t))for(var r=0;r<this.nodes[t].length;r++)e(this.nodes[t][r],this.prefix+t)},hasNode:function(t){return void 0!==this.nodes[t]&&this.nodes[t].length>0},firstNode:function(t){if(this.hasNode(t))return this.nodes[t][0]},lastNode:function(t){if(this.hasNode(t))return this.nodes[t][this.nodes[t].length]},firstNodeVal:function(t,e){var r=this.firstNode(t);return void 0!==r?r.getAttribute(this.prefix+t):e}},e.exports=n},{}],18:[function(t,e,r){var n=t("js-base64").Base64;function i(t){for(var e in t=t||{})this[e]=t[e]}i.prototype={encode:function(t){var e=JSON.stringify(t);return n.encode(e)},decode:,e.exports=i},{"js-base64":5}],19:[function(t,e,r){e.exports=,{}],20:[function(t,e,r){e.exports=function(t){nction n(t,n,i,o,s,a,u){var c;return r(e(t=r(t,r(r((c=n)&i|~c&o,s),u)),a),n)}function i(t,n,i,o,s,a,u){var c;return r(e(t=r(t,r(r(n&(c=o)|i&~c,s),u)),a),n)}function o(t,n,i,o,s,a,u){return r(e(t=r(t,r(r(n^i^o,s),u)),a),n)}function s(t,n,i,o,s,a,u){return r(e(t=r(t,r(r(i^(n|~o),s),u)),a),n)}ar u,c,h,f,l,d,p,g,y,v=Array();for(v=t=t)),d=1732584193,p=4023233417,g=2562383102,y=271733878,u=0;u<v.length;u+=16)c=d,h=p,f=g,l=y,p=s(p=s(p=s(p=s(p=o(p=o(p=o(p=o(p=i(p=i(p=i(p=i(p=n(p=n(p=n(p=n(p,g=n(g,y=n(y,d=n(d,p,g,y,v[u+0],7,3614090360),p,g,v[u+1],12,3905402710),d,p,v[u+2],17,606105819),y,d,v[u+3],22,3250441966),g=n(g,y=n(y,d=n(d,p,g,y,v[u+4],7,4118548399),p,g,v[u+5],12,1200080426),d,p,v[u+6],17,2821735955),y,d,v[u+7],22,4249261313),g=n(g,y=n(y,d=n(d,p,g,y,v[u+8],7,1770035416),p,g,v[u+9],12,2336552879),d,p,v[u+10],17,4294925233),y,d,v[u+11],22,2304563134),g=n(g,y=n(y,d=n(d,p,g,y,v[u+12],7,1804603682),p,g,v[u+13],12,4254626195),d,p,v[u+14],17,2792965006),y,d,v[u+15],22,1236535329),g=i(g,y=i(y,d=i(d,p,g,y,v[u+1],5,4129170786),p,g,v[u+6],9,3225465664),d,p,v[u+11],14,643717713),y,d,v[u+0],20,3921069994),g=i(g,y=i(y,d=i(d,p,g,y,v[u+5],5,3593408605),p,g,v[u+10],9,38016083),d,p,v[u+15],14,3634488961),y,d,v[u+4],20,3889429448),g=i(g,y=i(y,d=i(d,p,g,y,v[u+9],5,568446438),p,g,v[u+14],9,3275163606),d,p,v[u+3],14,4107603335),y,d,v[u+8],20,1163531501),g=i(g,y=i(y,d=i(d,p,g,y,v[u+13],5,2850285829),p,g,v[u+2],9,4243563512),d,p,v[u+7],14,1735328473),y,d,v[u+12],20,2368359562),g=o(g,y=o(y,d=o(d,p,g,y,v[u+5],4,4294588738),p,g,v[u+8],11,2272392833),d,p,v[u+11],16,1839030562),y,d,v[u+14],23,4259657740),g=o(g,y=o(y,d=o(d,p,g,y,v[u+1],4,2763975236),p,g,v[u+4],11,1272893353),d,p,v[u+7],16,4139469664),y,d,v[u+10],23,3200236656),g=o(g,y=o(y,d=o(d,p,g,y,v[u+13],4,681279174),p,g,v[u+0],11,3936430074),d,p,v[u+3],16,3572445317),y,d,v[u+6],23,76029189),g=o(g,y=o(y,d=o(d,p,g,y,v[u+9],4,3654602809),p,g,v[u+12],11,3873151461),d,p,v[u+15],16,530742520),y,d,v[u+2],23,3299628645),g=s(g,y=s(y,d=s(d,p,g,y,v[u+0],6,4096336452),p,g,v[u+7],10,1126891415),d,p,v[u+14],15,2878612391),y,d,v[u+5],21,4237533241),g=s(g,y=s(y,d=s(d,p,g,y,v[u+12],6,1700485571),p,g,v[u+3],10,2399980690),d,p,v[u+10],15,4293915773),y,d,v[u+1],21,2240044497),g=s(g,y=s(y,d=s(d,p,g,y,v[u+8],6,1873313359),p,g,v[u+15],10,4264355552),d,p,v[u+6],15,2734768916),y,d,v[u+13],21,1309151649),g=s(g,y=s(y,d=s(d,p,g,y,v[u+4],6,4149444226),p,g,v[u+11],10,3174756917),d,p,v[u+2],15,718787259),y,d,v[u+9],21,3951481745),d=r(d,c),p=r(p,h),g=r(g,f),y=r(y,l);return(a(d)+a(p)+a(g)+a(y)).toLowerCase()}},{}],21:[function(t,e,r){Array.prototype.indexOf||(Array.prototype.indexOf=,function(){"use strict";var t=Array.prototype.slice;try{t.call(document.documentElement)}catch(e){Array.prototype.slice=}(),document.getElementsByClassName||(document.getElementsByClassName=,"indexOf"in Array.prototype||(Array.prototype.indexOf=},{}],22:[function(t,e,r){var n=function(t){var e={negative:/hidden|^hid$| hid$| hid |^hid |adblade|alert|banner|combx|comment|com-|contact|cookies-dialog|foot|footer|footnote|masthead|media|meta|navbar|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i},r="";if(1===t.nodeType){if(["head","script","style","footer","header","nav","select","noscript"].indexOf(t.tagName.toLowerCase())>-1)return r;if(t.hasAttribute("data-sj-ignore"))return r;if("none"===t.style.display&&t.hasAttribute("hidden"))return r;if("body"!==t.tagName.toLowerCase()){if("string"==typeof t.className&&""!==t.className&&e.negative.test(t.className))return r;if("string"==typeof t.id&&""!==t.id&&e.negative.test(t.id))return r}if(void 0!==t.childNodes)for(var i=0;i<t.childNodes.length;i++)r+=n(t.childNodes[i])}return 3===t.nodeType&&(r+=t.textContent),r.replace(/\s+/g," ")};e.exports=n},{}],23:[function(t,e,r){e.exports=function(t){for(var e={},r=[],n=t.length-1;n>0;n--){var i=t[n];1!==e[i]&&(e[i]=1,r.unshift(i))}return r}},{}],24:[function(t,e,r){var n={decodeUriArgs:function(t){var e={},r=t.split("&");for(var n in r)if(r.hasOwnProperty(n)){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e},encodeUriArgs:mergeQueryStr:function(t){for(var e="string"==typeof t?this.decodeUriArgs(t):t,r=1;r<arguments.length;r++)if(void 0!==arguments[r]){var n="string"==typeof arguments[r]?this.decodeUriArgs(arguments[r]):arguments[r];for(var i in n)e[i]=n[i]}return this.encodeUriArgs(e)},augmentUri:function(t,e){var r=/^([^\?]+)\?(.+)+$/.exec(t);return r?r[1]+"?"+this.mergeQueryStr(r[2],e):t+"?"+this.encodeUriArgs(e)},getURLParameter:;e.exports=n},{}],25:[function(t,e,r){!function(){var t=void 0!==e&&e.exports?e.exports=t:"function"==typeof define?define(function(){return t}):(window.render=window.render||{},window.render.overlay=t)}()},{}],26:[function(t,e,r){!function(){var t=function(t){var e="";if(t.results.length){"search"==t.renderType&&(e+='<p class="sj-search-info">Showing 1-'+t.results.length+" of "+t.totalmatches+" results ("+t.formattedMsecs+" seconds)</p>",t.fuzzyStr&&(e+='<p class="sj-search-info sj-search-fuzzy">Showing results for <strong>'+t.fuzzyStr+"</strong></p>"));var r=t.results;if(r)for(var n,i=-1,o=r.length-1;i<o;){if(n=r[i+=1],e+='<div class="sj-result-item">',t.showThumb&&n.meta.image&&(e+='<div class="sj-thumb-wrapper"><div class="sj-result-thumb" style="background-image:url('+n.meta.image+'"></div></div>'),e+='<div class="sj-result-wrapper"><div class="sj-result-title" data-docid="'+n.docId+'"> <a class="sj-result-link" href="'+n.meta.url+'" data-query-id="'+t.queryID+'" data-slot="'+(i+1)+'" ',n.meta.injected&&(e+='data-injected="'+n.meta.injected+'"'),e+=" ",n.meta._token&&(e+=" onmousedown=\"this.href='"+t.tokenEndpoint+"/token/"+n.meta._token+"';\""),e+=">"+n.meta.title+"</a></div>",t.showDesc&&(e+='<p class="sj-result-meta"><span class="sj-result-meta-desc">'+n.meta.description+"</span></p>"),t.showMeta.length){var s=t.showMeta;if(s)for(var a,u=-1,c=s.length-1;u<c;)e+='<p class="sj-result-meta"><span class="sj-result-meta-wrapper" data-sj-meta-key="'+(a=s[u+=1])+'"><span class="sj-result-meta-name">'+a+'</span> <span class="sj-result-meta-value">'+n.meta[a]+"</span></span></p>"}t.showUrl&&(e+='<p class="sj-result-meta"><span class="sj-result-meta-url">'+n.meta.url+"</span></p>"),e+="</div></div>"}}else"search"==t.renderType&&(e+='<p class="sj-noresults">No results found.</p>'),t.errors&&(e+='<p class="sj-error">Oops! An error occured while searching. Please try again.</p>');return e};t.result=function(t){var e='<div class="sj-result-item">';if(t.showThumb&&res.meta.image&&(e+='<div class="sj-thumb-wrapper"><div class="sj-result-thumb" style="background-image:url('+res.meta.image+'"></div></div>'),e+='<div class="sj-result-wrapper"><div class="sj-result-title" data-docid="'+res.docId+'"> <a class="sj-result-link" href="'+res.meta.url+'" data-query-id="'+t.queryID+'" data-slot="'+(index+1)+'" ',res.meta.injected&&(e+='data-injected="'+res.meta.injected+'"'),e+=" ",res.meta._token&&(e+=" onmousedown=\"this.href='"+t.tokenEndpoint+"/token/"+res.meta._token+"';\""),e+=">"+res.meta.title+"</a></div>",t.showDesc&&(e+='<p class="sj-result-meta"><span class="sj-result-meta-desc">'+res.meta.description+"</span></p>"),t.showMeta.length){var r=t.showMeta;if(r)for(var n,i=-1,o=r.length-1;i<o;)e+='<p class="sj-result-meta"><span class="sj-result-meta-wrapper" data-sj-meta-key="'+(n=r[i+=1])+'"><span class="sj-result-meta-name">'+n+'</span> <span class="sj-result-meta-value">'+res.meta[n]+"</span></span></p>"}return t.showUrl&&(e+='<p class="sj-result-meta"><span class="sj-result-meta-url">'+res.meta.url+"</span></p>"),e+="</div></div>"},void 0!==e&&e.exports?e.exports=t:"function"==typeof define?define(:(window.render=window.render||{},window.render.results=t)}()},{}],27:[function(t,e,r){t("./utils/polyfills");var n=t("./utils/loaded"),i=t("./utils/url"),o=t("sajari"),s=t("sajari/src/js/query.js"),a=t("sajari/src/js/utils/isArray.js"),u=t("./views/results"),c=t("./views/overlay"),h=t("./utils/md5"),f=t("./utils/readable"),l={cssUrl:"https://cdn.sajari.com/css/sj.css",tokenEndpoint:"https://re.sajari.com",prefix:"data-sj-",debug:!1,company:void 0,project:void 0,collection:void 0,index:!0,indexed:!1,scanOnLoad:!0,autoQuery:!1,autoQueryParam:"q",searchInProgress:!1,defaultImage:"",excludeClicks:3,targets:["project","company","collection","profile-id","noindex","noprofile","profile-delay","conv-type","search-query","search-query-word","search-query-go","search-results","recent","popular","related","best","search-recent","search-noresults","search-error","personalization","overlay","local","field"]},d=new(t("./utils/dom"))(l),p=new(t("./profile"))({send:!0,sent:!1,delay:12e4}),g={"e.id":document.URL,"ec.ti":document.title,"ec.de":d.getMeta("description"),"ec.ke":d.getMeta("keywords"),meta:{}},y=new s,v=[],m="https:"==location.protocol;function w(t){if(a(t))for(var e=0;e<t.length;e++)v.push(t[e]);else if("object"==typeof t)for(var r in t){var n=a(t[r])?t[r].slice():[t[r]];n.unshift(r),v.push(n)}}ar x=[],A={pixel:search:function(t,e,r){x.push(["search",t,e,r])},autocomplete:function(t,e,r){x.push(["autocomplete",t,e,r])},best:function(t,e,r){x.push(["best",t,e,r])},popular:function(t,e,r){x.push(["popular",t,e,r])},recent:function(t,e,r){x.push(["recent",t,e,r])},related:function(t,e,r){x.push(["related",t,e,r])}};function j(t){if(void 0===t.company&&void 0===t.project||void 0===t.collection)return b("company and collection cannot be undefined..."),!1;var e;for(A=new o(l.company||l.project,l.collection,{jsonp:!0}),b("API stack: ");e=x.shift();){var r=e.shift();void 0!==A[r]&&A[r].apply(A,e)}return!0}function E(t,e,r){void 0!==d.firstNode("search-error")&&(d.firstNode("search-error").style.display="none");var n=t.response;n.showThumb=!1,n.showDesc=!0,n.showUrl=!1,n.renderSearch=!0,n.formattedMsecs=0,n.showMeta=[],n.tokenEndpoint=l.tokenEndpoint;var i=d.dynamicAttrs(e);for(var o in i)i.hasOwnProperty(o)&&("thumbnail"==o&&(n.showThumb=!0),"hidedesc"==o&&(n.hideDesc=!0),"showmeta"==o&&(n.showMeta=i[o].split(/\s*,\s*/)));if(t.msecs&&(n.formattedMsecs=parseFloat(t.msecs/1e3).toFixed(3)),n.fuzzy)for(var s in n.fuzzy)if(n.fuzzy.hasOwnProperty(s)){n.fuzzyStr=n.fuzzy[s];break}!function(t){var e=0===l.defaultImage.indexOf("http:"),r=0!==l.defaultImage.length;for(var n in t)if(t.hasOwnProperty(n)){if(void 0!==t[n].meta.image?m&&0===t[n].meta.image.indexOf("http:")&&(t[n].meta.image=""):t[n].meta.image="",e||!r)continue;""===t[n].meta.image&&(t[n].meta.image=l.defaultImage)}}(n.results),n.renderType=r,e.innerHTML=u(n)}function C(t){if(b(t),vars={themeColor:"blue",resultsExtra:""},"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&(vars.resultsExtra+=" "+l.prefix+e+"="+t[e],"theme"==e&&(vars.themeColor=t[e]));var r=c(vars),n=document.createElement("div");return n.style.display="none",n.setAttribute(l.prefix+"overlay",""),n.innerHTML=r,document.body.appendChild(n),d.bind(document.getElementById("sj-o-close"),"click",function(){n.style.display="none"}),d.bind(document.getElementById("sj-o-shade"),"click",,d.copyDynamicProperties(d.firstNode("search-query"),d.lastNode("search-query")),d.copyDynamicProperties(d.firstNode("search-query"),d.lastNode("search-results")),n}function S(){var t=this,e=this.value;d.copyDynamicProperties(d.firstNode("search-query"),d.firstNode("search-results")),l.searchInProgress||(d.hasNode("overlay")&&(b("Launching overlay..."),d.firstNode("overlay").style.display="block"),l.searchInProgress=!0,_.Search(this.value.replace(/(^ *| *$)/,""),function(r){l.searchInProgress=!1,E(r,d.resultsNode,"search"),t.value!==e&&k(t)&&S.apply(t)},function(){var t;l.searchInProgress=!1,t=d.resultsNode,d.hasNode("search-results")&&d.hasNode("search-error")?void 0!==d.firstNode("search-error")&&(d.firstNode("search-error").style.display="block"):t.innerHTML='<p class="sj-error">Oops! An error occured while searching. Please try again.</p>'},d.dynamicAttrsUri(this)))}function k(t){var e=d.dynamicAttrs(t);for(var r in e)if(e.hasOwnProperty(r)&&"search-query-instant"==r)return!0;return!1}s.prototype.run=function(t,e){if(void 0!==this.options.func)switch(void 0===this.options.q&&(this.options.q=""),this.options.func){case"search":_.Search(this.options.q,t,e,this.encode());break;case"best":_.Best(t,e,this.encode());break;case"popular":_.Popular(t,e,this.encode());break;case"recent":_.Recent(t,e,this.encode());break;case"related":_.Related(t,e,this.encode())}},s.prototype.filterClicks=function(){for(var t=p.getClickedUrls(l.excludeClicks),e=0;e<t.length;e++)this.filter("url","!=",t[e]);return this},s.prototype.mergeProfile=function(){var t=p.get();return b(t),t&&this.attrs(p.toArgs()),this};var I={profile:function(t,e){p.set(t,e);var r={"profile.text":t+"","p.ga":p.gaId,"p.id":p.visitorId};b(r),A.pixel(r,"/stats/profile")},profileid:function(t){p.setVisitorId(t)},profileOption:conversion:function(t,e){null==e&&(e=0),A.pixel({"cv.t":t+"","cv.v":e+"","p.ga":p.gaId,"p.id":p.visitorId},"/stats/conversion")},click:function(t,e,r){void 0===r&&(r=""),_.SendClick(t,e,r,void 0)},pageMeta:index:function(){if(l.index)if(l.indexed)b("Already indexed");else{for(var t in l.indexed=!0,data={"cc.co":l.company||l.project,"cc.pr":l.collection,"p.ga":p.gaId,"p.id":p.visitorId},g)"meta"!==t&&(data[t]=g[t]);for(var e in g.meta)data["meta["+e+"]"]=g.meta[e];A.pixel(data,""),b(data)}else b("Noindex flag is set")},defaultImage:noindex:function(){l.index=!1},urlquery:function(){l.autoQuery=!0},css:noprofile:function(){p.send=!1},collection:function(t){l.collection=t+""},company:function(t){l.project=t+""},project:"no-scan":debug:overlay:,T=T.prototype={Search:function(t,e,r,n){y.sequence(),y.attrs({q:t,"q.id":y.id,"q.ga":p.ga,"p.id":p.visitorId}),d.hasNode("search-recent")&&y.attr("recent",!0),d.hasNode("local")&&y.attr("local",!0),y.attrs(n),b(y),A.search(y.encode(),e,r)},Popular:function(t,e,r){var n=new s({attrs:{"p.ga":p.gaId,"p.id":p.visitorId}});n.filterClicks(),n.attrs(r),b(n),A.popular(n.encode(),t,e)},Recent:function(t,e,r){var n=new s({attrs:{"p.ga":p.gaId,"p.id":p.visitorId}});n.filterClicks(),n.attrs(r),A.recent(n.encode(),t,e)},Related:function(t,e,r){var n=new s({attrs:{url:location.href,title:document.title,description:d.getMeta("description"),"p.ga":p.gaId,"p.id":p.visitorId}});n.filterClicks(),n.attrs(r),b(n),A.related(n.encode(),t,e)},Best:function(t,e,r){var n=new s({attrs:{"p.ga":p.gaId,"p.id":p.visitorId}});n.filterClicks(),n.mergeProfile(),n.attrs(r),b(n),A.best(n,t,e)},Autocomplete:function(t,e,r){var n={q:t,"p.ga":p.gaId,"p.id":p.visitorId};b(q),A.autocomplete(n,e,r)},Install:function(t){if(void 0===t&&(t={}),d.nodes={},d.scanShim(document.body),d.dynamicMeta(document,g.meta),void 0!==document.querySelectorAll){var e=document.querySelector("link[rel='canonical']");null!=e&&null!=e&&(g.canonical=e.getAttribute("href"))}else g.outdatedBrowser=!0;var r=f(document.body);g.bodyChecksum=h(r);var n="";for(var o in g.meta)g.meta.hasOwnProperty(o)&&(n+=o+g.meta[o]);if(g.metaChecksum=h(n),d.hasNode("noindex")||v.push(["index"]),d.hasNode("noprofile")&&(p.send=!1),d.eachNode("overlay",,w(t),function(){v.push=function(){for(var t=0;t<arguments.length;t++)try{if("function"==typeof arguments[t])arguments[t]();else{var e=arguments[t][0],r=arguments[t].slice(1);void 0!==I[e]&&I[e].apply(v,r)}}catch(t){}};for(var t=0;t<v.length;t++)v.push(v[t])}(),l.company=d.firstNodeVal("company",l.company),l.collection=d.firstNodeVal("collection",l.collection),j(l)){if(d.hasNode("search-results")||d.scanShim(C(d.dynamicAttrs(this))),d.resultsNode=d.firstNode("search-results"),p.send){b(p),p.sent||setTimeout(function(){v.push(["profile",document.title]),p.sent=!0},d.firstNodeVal("profile-delay",p.delay));for(var s=document.getElementsByTagName("a"),a=0;a<s.length;a++)/^#/.test(s[a].getAttribute("href")+"")&&d.bind(s[a],"mousedown",function(){v.push(["profile",void 0===this.innerText?this.textContent:this.innerText])})}d.eachNode("conv-type",function(t,e){v.push(["conversion",t.getAttribute(e),t.getAttribute(l.prefix+"conv-val")])}),d.hasNode("popular")&&_.Popular(function(t){E(t,d.firstNode("popular"),"popular")},function(){},d.dynamicAttrsUri(d.firstNode("popular"))),d.hasNode("recent")&&_.Recent(function(t){E(t,d.firstNode("recent"),"recent")},function(){},d.dynamicAttrsUri(d.firstNode("recent"))),d.hasNode("related")&&_.Related(function(t){E(t,d.firstNode("related"),"related")},function(){},d.dynamicAttrsUri(d.firstNode("related"))),d.hasNode("best")&&_.Best(function(t){E(t,d.firstNode("best"),"best")},d.dynamicAttrsUri(d.firstNode("best"))),d.hasNode("search-query")&&(d.eachNode("search-query",function(t){!function(t){if(d.bind(t,"keydown",function(t){13===t.keyCode&&(S.apply(this),void 0!==t.preventDefault&&t.preventDefault())}),d.bind(t,"input",function(){d.eachNode("search-query",}),l.autoQuery){var e=i.getURLParameter(l.autoQueryParam);e&&(t.value=e,S.apply(t))}k(t)&&d.bind(t,"input",function(e){8!==e.keyCode&&16!==e.keyCode&&""===t.value||S.apply(this)})}(t)}),d.hasNode("search-query-go")&&d.eachNode("search-query-go",function(t){var e,r;e=t,d.bind(e,"click",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,S.apply(r||d.firstNode("search-query"))})}),d.hasNode("search-results")&&d.eachNode("search-query",function(t){d.hasNode("search-query-word")&&d.bind(t,"keyup",}))}},push:SendClick:function(t,e,r,n){var i="";i=void 0!==n?n.getAttribute("href"):window.location.href,p.addClickedUrl(i),"undefined"===r&&(r=""),A.pixel({"p.ga":p.gaId,"p.id":p.visitorId,"q.id":t,"q.sl":e,"q.in":r,"q.de":i},"/stats/click")},Query:function(t){return"string"==typeof t?t={q:t}:"object"!=typeof t&&(t={}),t.func="search",new s(t)},Recommend:function(t){return"string"==typeof t?t={func:t}:"object"!=typeof t&&(t={}),new s(t)}},void 0!==window._sj&&a(window._sj)&&(w(window._sj),window._sj=T);var _=new T;j(l),n(window,,e.exports=_},{"./profile":15,"./utils/dom":17,"./utils/loaded":19,"./utils/md5":20,"./utils/polyfills":21,"./utils/readable":22,"./utils/url":24,"./views/overlay":25,"./views/results":26,sajari:11,"sajari/src/js/query.js":12,"sajari/src/js/utils/isArray.js":13}],28:[function(t,e,r){var n,i=t("sajari-website");n=i,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(n):window._sj=window.SJ=i},{"sajari-website":27}]},{},[28]);