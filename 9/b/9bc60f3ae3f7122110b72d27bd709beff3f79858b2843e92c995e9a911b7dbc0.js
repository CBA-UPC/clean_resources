"use strict";(self.webpackChunkcar_fe=self.webpackChunkcar_fe||[]).push([[5266],{47695:function(e,t,n){n.r(t)},42157:function(e,t,n){n.r(t)},39952:function(e,t,n){n.r(t)},34725:function(e,t,n){n.r(t)},83565:function(e,t,n){n.r(t)},1499:function(e,t,n){n.r(t)},94091:function(e,t,n){n.r(t)},64676:function(e,t,n){n.r(t)},17710:function(e,t,n){n.r(t)},73033:function(e,t,n){n.r(t)},44193:function(e,t,n){n.r(t)},41863:function(e,t,n){n.r(t)},68698:function(e,t,n){n.r(t)},95950:26054:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.mapState=t.mapProps=t.floatCommentEventName=t.default=void 0;var i,r,o=a(n(56690)),l=a(n(89728)),s=a(n(66115)),c=a(n(61655)),u=a(n(94993)),d=a(n(73808)),f=a(n(70215)),h=a(n(38416)),p=a(n(7854)),v=a(n(45697)),m=n(98704),_=a(n(82298)),y=a(n(3551)),g=a(n(44571)),w=a(n(12641)),b=a(n(4669)),x=a(n(45402)),k=a(n(75890)),$=a(n(59074)),C=a(n(25343)),P=a(n(43537)),S=a(n(98072)),j=a(n(3616)),I=a(n(62711)),T=n(85893),E=["next","exData"];function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=new URLSearchParams(location.search).get("test"),a=t&&-1!==t.indexOf("yf"),i=-1!==navigator.userAgent.indexOf("Trident/7.0");(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!a||i)&&(n.g.ggconfig.p2pvideo=!1);var r=n.g.YFPlayer&&n.g.YFPlayer.isMSESupported()&&n.g.ggconfig.p2pvideo,o=M(M({},e),{},{controls:!1,preload:"meta",plugin:[{name:k.default.name,autonext:!1!==n.g.ggconfig.videodetail_autonextbtn,onAutoNextChange:e.onAutoNextChange,onPinPChange:e.onPinPChange,onTogglePinP:e.onTogglePinP,onFloatcommentChange:e.onFloatcommentChange},{name:$.default.name}],box:r?"mp4":void 0,kernels:{mp4:I.default}});"function"==typeof o.titlebar&&o.plugin.push({name:j.default.name,render:o.titlebar});var l=(0,w.default)(),s=l.video_player_pause_gg,c=l.video_player_after_gg,u=l.video_player_after_gg_countdown,d=l.video_player_after_countdown,f=(l.video_player_after_relate,l.videodetail_version);if(s&&o.plugin.push({name:x.default.name,id:s,width:260,height:260}),c){var h={name:C.default.name,id:c,maxStayTime:u||15};5===f&&(h.width=260,h.height=260),o.plugin.push(h)}if(d>0&&o.plugin.push({name:P.default.name,gnid:e.gnid,time:d}),o.poster)try{o.poster=(0,g.default)(o.poster).clearRules().setDmfd(o.width,o.height,void 0).toString()}catch(e){console.log("[video poster error]",o.poster),o.poster=""}if(o.src){var p="https:"===location.protocol,v=0===o.src.indexOf("http://");p&&v&&(o.src=o.src.replace(/^http:/,"https:"))}return o}_.default.install(x.default),_.default.install(k.default),_.default.install($.default),_.default.install(C.default),_.default.install(P.default),_.default.install(S.default),_.default.install(j.default);var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=e.gnid,a=e.tj_url,i=e.where;t&&(0,y.default)(y.default.SRP,{act:"show",func:"play_time",ext:t,gnid:n,tj_url:a,where:i})};var N=100,A=function(e){var t=e.player;return{autonext:(void 0===t?{}:t).autonext}};t.mapState=A;var B=function(e){var t=e.player;return{onAutoNextChange:(void 0===t?{}:t).changeAutoNext}};t.mapProps=B;var q="FLOAT_COMMENT_STATUS_CHANGE";t.floatCommentEventName=q;var D=(0,m.connect)(A,B)((r=function(e){(0,c.default)(a,e);var t=O(a);function a(){var e;(0,o.default)(this,a);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,s.default)(e),"getDOM",(function(t){return e.dom=t})),(0,h.default)((0,s.default)(e),"handleError",(function(){var t=(0,s.default)(e).$video,n=e.props,a=n.src,i=n.gnid;t&&t.error&&2!==t.error.code&&(0,y.default)(y.default.ERRORSRV,{url:encodeURI(a),act:"click",func:"video_failed",gnid:i,error_code:t.error.code})})),(0,h.default)((0,s.default)(e),"afterFullscreenchange",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterFullscreenchange;"function"==typeof r&&r.apply(void 0,arguments),(0,y.default)(y.default.CLICK,{act:"click",func:(e.player.isFullscreen?"enter":"quit")+"_fullscreen_video",gnid:n,tj_url:a,where:i})})),(0,h.default)((0,s.default)(e),"afterVolumechange",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterVolumechange;"function"==typeof r&&r.apply(void 0,arguments),(0,y.default)(y.default.CLICK,{act:"click",func:"volume_video",gnid:n,tj_url:a,where:i})})),(0,h.default)((0,s.default)(e),"afterTimeupdate",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterTimeupdate;"function"==typeof r&&r.apply(void 0,arguments);var o=(arguments.length<=0?void 0:arguments[0]).target,l=o.currentTime,s=o.playbackRate;e.beforeTime||(e.beforeTime=l);var c=e.beforeTime-l;Math.abs(c)>1*s&&(0,y.default)(y.default.CLICK,{act:"click",func:c<0?"fast_video":"rewind_video",gnid:n,tj_url:a,where:i}),e.beforeTime=l})),(0,h.default)((0,s.default)(e),"play",(function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var r=e.props.onPlay;setTimeout((function(){"function"==typeof r&&r.apply(void 0,a)}));var o=a[0].target;Array.isArray(n.g.players)&&n.g.players.forEach((function(t){t.paused||t.$video===o||t.pause(),t!==e.player&&t.$emit("pinp",{scroll:!1})}))})),(0,h.default)((0,s.default)(e),"heartTimer",null),(0,h.default)((0,s.default)(e),"headIntervalTime",5),(0,h.default)((0,s.default)(e),"timeupdate",(function(){var t=(arguments.length<=0?void 0:arguments[0]).target,n=t.duration,a=t.currentTime;n-a!=0?a&&!e.heartTimer&&(e.heartTimer=setInterval((function(){e.headIntervalTime-=1,0===e.headIntervalTime&&(F(e.props),clearInterval(e.heartTimer),e.heartTimer=null,e.headIntervalTime=5)}),1e3)):F(e.props,5-e.headIntervalTime)})),(0,h.default)((0,s.default)(e),"afterPlay",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterPlay;"function"==typeof r&&r.apply(void 0,arguments),(0,y.default)(y.default.CLICK,{act:"click",func:"play_video",gnid:n,tj_url:a,where:i})})),(0,h.default)((0,s.default)(e),"afterPause",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterPause,o=(arguments.length<=0?void 0:arguments[0]).target,l=o.duration,s=o.currentTime;if(l-s==0)return!1;"function"==typeof r&&r.apply(void 0,arguments),s>0&&(F(e.props,5-e.headIntervalTime),clearInterval(e.heartTimer),e.heartTimer=null,e.headIntervalTime=5),(0,y.default)(y.default.CLICK,{act:"click",func:"pause_video",gnid:n,tj_url:a,where:i})})),(0,h.default)((0,s.default)(e),"afterEnded",(function(){var t=e.props,n=t.where,a=t.tj_url,i=t.gnid,r=t.afterEnded;"function"==typeof r&&r.apply(void 0,arguments),(0,y.default)(y.default.CLICK,{act:"click",tj_url:a,func:"finish_video",where:n,gnid:i,ext:e.beforeTime})})),(0,h.default)((0,s.default)(e),"afterRatechange",(function(){var t=e.props,n=t.tj_url,a=t.where,i=t.gnid,r=t.afterRatechange;"function"==typeof r&&r.apply(void 0,arguments);var o=(arguments.length<=0?void 0:arguments[0]).target.playbackRate;(0,y.default)(y.default.CLICK,{act:"click",func:"speed_video",where:a,gnid:i,tj_url:n,ext:o})})),(0,h.default)((0,s.default)(e),"togglePinP",(function(t){var n=e.props,a=n.tj_url,i=n.where,r=n.gnid;(0,y.default)(y.default.CLICK,{act:"click",func:"miniplayer_"+t,where:i,gnid:r,tj_url:a})})),e.DOM_ID="video-player-"+N++,e.$video=null,e}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=function(e,t){e.next;var a=e.exData,i=L(M(M({},(0,f.default)(e,E)),{},{onAutoNextChange:function(t){(0,y.default)(y.default.CLICK,{act:"click",func:t?"open_autonext":"close_autonext",where:n.g.whoami,gnid:e.gnid}),n.g.ggconfig.videodetail_autonextbtn=!!t},onPinPChange:function(t){(0,y.default)(y.default.CLICK,{act:"click",func:t?"miniplayerswitch_open":"miniplayerswitch_close",where:n.g.whoami,gnid:e.gnid})},onFloatcommentChange:function(e){b.default.trigger(q,{type:"statusChange",payload:e})},wrapper:"#".concat(t)})),r=new _.default(i);return a&&(r.exData=a),r.__dispatcher.dom._autoFocusToVideo(r.__dispatcher.dom.videoElement,!0),r}(this.props,this.DOM_ID);Array.isArray(n.g.players)||(n.g.players=[]);var a=[].indexOf.call(document.querySelectorAll('div[id^="video-player-"] container'),t.$container);-1!==a&&a!==n.g.players.length?n.g.players.splice(a,0,t):n.g.players.push(t),this.player=t,this.$video=document.querySelector("#".concat(this.DOM_ID," video")),this.$video&&this.$video.addEventListener("error",this.handleError);var i={};for(var r in this.props)if(/^(on|before|after)/.test(r)){var o=r;/^on/.test(r)&&(o=r.slice(2).toLowerCase()),i[o]=this.props[r]}["afterFullscreenchange","afterVolumechange","afterTimeupdate","play","timeupdate","afterPlay","afterPause","afterEnded","afterRatechange","togglePinP"].forEach((function(t){return i[t]=e[t]}));var l=function(t){e.player.on(t,(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i[t].apply(i,a.concat([e.player]))}))};for(var s in i)l(s);var c=this.props.next;this.updateNext(c),n.g.ggconfig.p2pvideo&&this.props.autoplay&&this.player.play()}},{key:"componentWillReceiveProps",value:function(e){var t=e.next,n=e.poster,a=e.src,i=e.title,r=e.width,o=e.height,l=this.props,s=l.title,c=(l.next,l.poster),u=l.src,d=l.width,f=l.height;if(n!==c||a!==u){var h=L({src:a,poster:n}),p=this.player;delete this.beforeTime,p.poster=h.poster,p.load({src:h.src}).then((function(){return p.play()}))}else d===r&&f===o||(this.player.width=r,this.player.height=o);s!==i&&this.player.$emit("title",i),t&&this.updateNext(t)}},{key:"componentWillUnmount",value:function(){var e=this;Array.isArray(n.g.players)&&(n.g.players=n.g.players.filter((function(t){return t!==e.player}))),this.player&&this.player.$emit("destroy"),this.$video&&this.$video.removeEventListener("error",this.handleError)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.width,a=t.height,i=e.width,r=e.height;return i!==n||r!==a}},{key:"updateNext",value:function(e){this.player.$emit("next",e)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;return(0,T.jsx)("div",{ref:this.getDOM,id:this.DOM_ID,style:{width:t,height:n}})}}]),a}(p.default.PureComponent),(0,h.default)(r,"propTypes",{src:v.default.string.isRequired,poster:v.default.string.isRequired,width:v.default.number.isRequired,height:v.default.number.isRequired,muted:v.default.bool,controls:v.default.bool,autoplay:v.default.bool,autoPictureInPicture:v.default.bool,gnid:v.default.string.isRequired}),(0,h.default)(r,"defaultProps",{muted:!1,autoplay:!0,controls:!0,autoPictureInPicture:!1}),i=r))||i;t.default=D},59074:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(18698)),r=a(n(93634));n(47695);var o={errorTips:"加载失败，请刷新重试"},l=(0,r.default)({name:"chimeeCenterState",tagName:"chimee-center-state",html:"\n    <chimee-center-state-correct>\n      <chimee-center-state-loading></chimee-center-state-loading>\n      <chimee-center-state-tip>\n        <span></span>\n      </chimee-center-state-tip>\n    </chimee-center-state-correct>\n    <chimee-center-state-error></chimee-center-state-error>\n  ",offset:"50%",hide:!1,autoFocus:!1,create:function(){},inited:function(){var e=o;if("object"===(0,i.default)(this.$config))for(var t in this.$config)e[t]=this.$config[t];this.config=e},penetrate:!0,operable:!1,destroy:function(){this.clearTimeout()},events:{pause:function(){this.showTip("pause"),this.showLoading(!1)},play:function(){this.showTip("play")},canplay:function(){this.playing()},playing:function(){this.playing()},waiting:function(){this.waiting()},timeupdate:function(){this.showLoading(!1),this.clearTimeout()},keydown:function(e){if(this.$videoConfig.plugin.some((function(e){return"controlbar"===(e.name||e)})))switch(e.stopPropagation(),e.keyCode){case 37:case 39:case 38:case 40:e.preventDefault()}}},methods:{playing:function(){this.clearTimeout(),this.showLoading(!1),this.showError(!1)},waiting:function(){var e=this;this.clearTimeout(),this._timeout=setTimeout((function(){return e.showError()}),3e4),!this.paused&&this.showLoading(!0)},clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null)})),showTip:function(e){var t=this;this.$domWrap.removeClass("correct tip play pause back forward volume-high volume-low").addClass("correct tip "+e),setTimeout((function(){t.$domWrap.removeClass("tip "+e)}),500)},showLoading:function(e){return!1},showError:function(e){return!1}}}),s=l;t.default=s},89047:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.cls=void 0,t.compose=r,t.mixin=void 0;var i=a(n(861));function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];for(var i=0;i<t.length;i++)"function"==typeof t[i]&&t[i].apply(this,n)}}t.cls=function(e){return".chimee-controlbar__"+e};t.mixin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a={data:{},methods:{},events:{}},o=[],l=0;l<t.length;l++){var s=t[l];if(s.hasOwnProperty("data"))for(var c in s.data)a.data[c]=s.data[c];if(s.hasOwnProperty("methods"))for(var u in s.methods)a.methods[u]=s.methods[u];if(s.hasOwnProperty("events"))for(var d in s.events)o.push(d)}return["beforeCreate","create","init","inited","destroy"].forEach((function(e){return a[e]=r.apply(void 0,(0,i.default)(t.map((function(t){return t[e]}))))})),o.forEach((function(e){return a.events[e]=r.apply(void 0,(0,i.default)(t.filter((function(t){return t.events&&t.events[e]})).map((function(t){return t.events[e]}))))})),a}},75890:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(861)),r=a(n(38416)),o=a(n(15133)),l=a(n(30912)),s=a(n(32776)),c=a(n(81118)),u=a(n(28115)),d=a(n(26608)),f=a(n(92455)),h=a(n(31348)),p=a(n(74317)),v=a(n(30663)),m=a(n(20769)),_=a(n(41253)),y=a(n(12641)),g=n(89047);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n(42157);var b=[{name:"floatComment",str:'\n      <li class="chimee-controlbar__floatcomment">\n        <span>浮评　</span>\n        <div class="chimee-controlbar__switch">\n          <div class="chimee-controlbar__switch__track"></div>\n          <div class="chimee-controlbar__switch__circle"></div>\n        </div>\n      </li>\n    ',plugin:_.default},{name:"autoNext",str:'\n      <li class="chimee-controlbar__autonext">\n        <span>自动播放　</span>\n        <div class="chimee-controlbar__switch">\n          <div class="chimee-controlbar__switch__track"></div>\n          <div class="chimee-controlbar__switch__circle"></div>\n        </div>\n      </li>\n    '},{name:"pinp",str:'\n      <li class="chimee-controlbar__pinp">\n        <span>小窗口播放</span>\n        <div class="chimee-controlbar__switch">\n          <div class="chimee-controlbar__switch__track"></div>\n          <div class="chimee-controlbar__switch__circle"></div>\n        </div>\n      </li>\n    ',plugin:m.default}].filter((function(e){var t=e.name;return 5===(0,y.default)().videodetail_version||"floatComment"!==t})),x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:"controlbar",inner:!0,autoFocus:!1,el:'<div class="chimee-controlbar">\n        <div class="chimee-controlbar__title">\n          <p class="chimee-controlbar__title-back"></p>\n          <p class="chimee-controlbar__title-ctn"></p>\n        </div>\n        <div class="chimee-controlbar__pinp-close">\n          <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <g fill="none" fill-rule="evenodd">\n              <circle fill="rgba(0,0,0,0.5)" cx="12" cy="12" r="12"/>\n              <path d="M7.744 7.753l8.507 8.497m0-8.497L7.744 16.25" stroke="#FFF" stroke-width="1.5" opacity=".8" stroke-linecap="round" stroke-linejoin="round"/>\n            </g>\n          </svg>\n        </div>\n        <div class="chimee-controlbar__progress">\n          <div class="chimee-controlbar__progress__buff"></div>\n          <div class="chimee-controlbar__progress__play"></div>\n          <div class="chimee-controlbar__progress__point">\n            <div class="chimee-controlbar__progress__point__text"></div>\n            <div class="chimee-controlbar__progress__point__circle"></div>\n          </div>\n        </div>\n        <div class="chimee-controlbar__groups">\n          <div class="chimee-controlbar__float--left">\n            <div class="chimee-controlbar__button chimee-controlbar__play--state">\n              <div class="chimee-controlbar__play">\n                <svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <path d="M15.1797235,10.5406093 L3.53083201,17.8370951 C3.06278334,18.1302655 2.44569335,17.9884987 2.15252293,17.52045 C2.05285722,17.361333 2,17.1773718 2,16.989618 L2,1.01859462 C2,0.466309874 2.44771525,0.018594624 3,0.018594624 C3.18821633,0.018594624 3.3726117,0.0717124216 3.53198464,0.171840618 L15.1817983,7.49099332 C16.023567,8.01984592 16.2772357,9.13095409 15.7483831,9.97272288 C15.6040504,10.2024557 15.4096525,10.3965893 15.1797235,10.5406093 Z"></path>\n                </svg>\n                <div class="chimee-controlbar__play__tip">播放</div>\n              </div>\n              <div class="chimee-controlbar__pause">\n                <svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <g id="pause">\n                    <path d="M14.5,0 L14.5,0 C15.3284271,-1.52179594e-16 16,0.671572875 16,1.5 L16,16.5 C16,17.3284271 15.3284271,18 14.5,18 L14.5,18 C13.6715729,18 13,17.3284271 13,16.5 L13,1.5 C13,0.671572875 13.6715729,1.52179594e-16 14.5,0 Z"></path>\n                    <path d="M3.5,0 L3.5,0 C4.32842712,-1.52179594e-16 5,0.671572875 5,1.5 L5,16.5 C5,17.3284271 4.32842712,18 3.5,18 L3.5,18 C2.67157288,18 2,17.3284271 2,16.5 L2,1.5 C2,0.671572875 2.67157288,1.52179594e-16 3.5,0 Z"></path>\n                  </g>\n                </svg>\n                <div class="chimee-controlbar__pause__tip">暂停</div>\n              </div>\n            </div>\n\n            <div class="chimee-controlbar__button chimee-controlbar__play--next">\n              <div class="chimee-controlbar__play--next_button">\n                <svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <g id="next">\n                    <path d="M11.3533375,10.1853738 L1.5320776,16.3572169 C1.06446053,16.6510753 0.447162748,16.510216 0.153304405,16.042599 C0.0531388518,15.8832054 -8.30216278e-14,15.698775 -8.30446822e-14,15.5105214 L-8.23785484e-14,2.48947865 C-8.24461838e-14,1.9371939 0.44771525,1.48947865 1,1.48947865 C1.18825366,1.48947865 1.37268406,1.5426175 1.5320776,1.64278305 L11.3533375,7.81462617 C12.0080014,8.22602785 12.2052044,9.09024475 11.7938027,9.74490864 C11.6819217,9.92294502 11.5313739,10.0734928 11.3533375,10.1853738 Z"></path>\n                    <path d="M16.5,0 L16.5,0 C17.3284271,-1.52179594e-16 18,0.671572875 18,1.5 L18,16.5 C18,17.3284271 17.3284271,18 16.5,18 L16.5,18 C15.6715729,18 15,17.3284271 15,16.5 L15,1.5 C15,0.671572875 15.6715729,1.52179594e-16 16.5,0 Z"></path>\n                  </g>\n                </svg>\n              </div>\n              <div class="chimee-controlbar__play--next__tip__container">\n                <div class="chimee-controlbar__play--next__tip clearfix">\n                  <div class="chimee-controlbar__play--next__tip__poster float--left">\n                  \n                  </div>\n                  <div class="chimee-controlbar__play--next__tip__text clearfix">\n                    <span>下一个</span>\n                    <p></p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class="chimee-controlbar__play--time">\n              <span class="chimee-controlbar__play--time__passed">00:00</span><span class="chimee-controlbar__play--time__spliter">/</span><span class="chimee-controlbar__play--time__total">00:00</span>\n            </div>\n          </div>\n          <div class="chimee-controlbar__float--right">\n            \x3c!--<div class="chimee-controlbar__autonext active">\n              <div class="chimee-controlbar__autonext__icon"></div>\n              <span>自动播放</span>\n            </div>--\x3e\n\n            <div class="chimee-controlbar__playback-rate">\n              <div class="chimee-controlbar__playback-rate__list__container">\n                <ul class="chimee-controlbar__playback-rate__list">\n                  <li data-value="0.5">0.5x</li>\n                  <li data-value="1">1.0x</li>\n                  <li data-value="1.25">1.25x</li>\n                  <li data-value="1.5">1.5x</li>\n                  <li data-value="2">2x</li>\n                </ul>\n              </div>\n              <div class="chimee-controlbar__playback-rate__text">倍速</div>\n            </div>\n\n            <div class="chimee-controlbar__volume">\n              <div class="chimee-controlbar__volume__progress__container">\n                <div class="chimee-controlbar__volume__progress">\n                  <div class="chimee-controlbar__volume__progress__track">\n                    <div class="chimee-controlbar__volume__progress__track__volume"></div>\n                    <div class="chimee-controlbar__volume__progress__point"></div>\n                  </div>\n                </div>\n              </div>\n              <div class="chimee-controlbar__button chimee-controlbar__volume__button">\n                <div class="chimee-controlbar__volume__button__normal">\n                  <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                      <path stroke="#FFF" stroke-width="2" stroke-linejoin="round" d="M1 13h4l6 4V1L5 5H1z"/>\n                      <path d="M14.904 13.995A6.979 6.979 0 0 0 17 9a6.977 6.977 0 0 0-2.002-4.901" stroke="#FFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                    </g>\n                  </svg>\n                </div>\n                <div class="chimee-controlbar__volume__button__mute">\n                  <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                      <path d="M12 13.828V17a1 1 0 0 1-1.555.832L4.697 14H1a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h1.172l2 2H2v6h3a1 1 0 0 1 .555.168L10 15.13v-3.303l2 2zm0-5.656l-2-2V2.869l-1.982 1.32-1.442-1.441 3.87-2.58A1 1 0 0 1 12 1v7.172zm3.416 3.415C15.796 10.793 16 9.913 16 9a5.976 5.976 0 0 0-1.716-4.201 1 1 0 1 1 1.428-1.4A7.976 7.976 0 0 1 18 9a7.975 7.975 0 0 1-1.108 4.064l-1.476-1.477zM1.293 1.707A1 1 0 1 1 2.707.293l15 15a1 1 0 0 1-1.414 1.414l-15-15z" fill="#FFF" fill-rule="nonzero"/>\n                    </g>\n                  </svg>\n                </div>\n              </div>\n            </div>\n\n            <div class="chimee-controlbar__setting">\n              <div class="chimee-controlbar__setting__list__container chimee-controlbar__setting__list__container--'.concat(b.length,'">\n                <ul class="chimee-controlbar__setting__list">\n                  ').concat(b.map((function(e){return e.str})).join(""),'\n                </ul>\n              </div>\n              <div class="chimee-controlbar__button  chimee-controlbar__setting__button">\n                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                  <g fill="none" fill-rule="evenodd">\n                    <path opacity=".2" d="M0 0h18v18H0z"/>\n                    <path d="M9.62 0a.5.5 0 0 1 .482.366l.2.72a7.958 7.958 0 0 1 3.36 1.405l.664-.375a.5.5 0 0 1 .6.082l.876.876a.5.5 0 0 1 .082.6l-.38.675a7.957 7.957 0 0 1 1.37 3.338l.76.211A.5.5 0 0 1 18 8.38v1.24a.5.5 0 0 1-.366.482l-.768.214a7.958 7.958 0 0 1-1.377 3.31l.395.7a.5.5 0 0 1-.082.6l-.876.876a.5.5 0 0 1-.6.082l-.7-.395a7.958 7.958 0 0 1-3.31 1.377l-.214.768A.5.5 0 0 1 9.62 18H8.38a.5.5 0 0 1-.482-.366l-.21-.76a7.957 7.957 0 0 1-3.34-1.37l-.674.38a.5.5 0 0 1-.6-.082l-.876-.876a.5.5 0 0 1-.082-.6l.375-.665a7.958 7.958 0 0 1-1.405-3.36l-.72-.2A.5.5 0 0 1 0 9.62V8.38a.5.5 0 0 1 .366-.482L1.08 7.7c.2-1.25.69-2.402 1.398-3.387l-.361-.639a.5.5 0 0 1 .082-.6l.876-.876a.5.5 0 0 1 .6-.082l.639.361A7.957 7.957 0 0 1 7.7 1.079l.198-.713A.5.5 0 0 1 8.38 0h1.24zm-.643 2.977a6 6 0 1 0 0 12 6 6 0 0 0 0-12zM9 11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="#FFF"/>\n                  </g>\n                </svg>\n              </div>\n            </div>\n\n            <div class="chimee-controlbar__fullscreen chimee-controlbar__button">\n              <div class="chimee-controlbar__fullscreen__button">\n                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                  <g fill-rule="nonzero" stroke="#FFF" stroke-linecap="round" stroke-width="2">\n                    <path d="M5 1H1v4M2 2l4 4"/>\n                    <path d="M13 17h4v-4M16 16l-4-4"/>\n                  </g>\n                </svg>\n                <div class="chimee-controlbar__fullscreen__tip">全屏</div>\n              </div>\n              <div class="chimee-controlbar__unfullscreen__button">\n                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                  <g fill-rule="nonzero" stroke="#FFF" stroke-linecap="round" stroke-width="2">\n                    <path d="M16 12h-4v4M13 13l4 4"/>\n                    <path d="M2 6h4V2M5 5L1 1"/>\n                  </g>  \n                </svg>\n                <div class="chimee-controlbar__unfullscreen__tip">退出全屏</div>\n              </div>\n            </div>\n          </div>\n        </div>\n</div>')},g.mixin.apply(void 0,[o.default,l.default,s.default,c.default,u.default,d.default,f.default,p.default,h.default,v.default].concat((0,i.default)(b.filter((function(e){return e.plugin})).map((function(e){return e.plugin}))))));t.default=x},41253:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(12641)),r=n(89047),o=a(n(4669)),l=n(26054),s=a(n(3551)),c=a(n(97093)),u="FLOAT_COMMENT_TRIGGER_SESSION_KEY";function d(){var e=c.default.getItem(u,"session");return void 0!==e?e:!!(0,i.default)().video_player_floatcomment}function f(e){c.default.setItem(u,e,null,"session")}var h={create:function(){var e=this;this.$dom.querySelector((0,r.cls)("floatcomment")+" "+(0,r.cls)("switch")).addEventListener("click",this.toggleFloatcommentButton.bind(this)),this.onChange(),o.default.on(l.floatCommentEventName,(function(t){t.type;f(t.payload),e.toggleFloatcommentStyle()}))},methods:{onChange:function(){"function"==typeof this.$config.onFloatcommentChange&&this.$config.onFloatcommentChange(d())},toggleFloatcommentButton:function(){var e=!d();f(e),this.toggleFloatcommentStyle(),this.onChange(),(0,s.default)(s.default.CLICK,{act:"click",tj_cmode:"pclook",func:"float_comment_".concat(e?"open":"close")})},toggleFloatcommentStyle:function(){var e=this.$dom.querySelector((0,r.cls)("floatcomment")+" "+(0,r.cls)("switch"));$(e)[d()?"addClass":"removeClass"]("open")}}};t.default=h},92455:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(89047),i={data:{$fullscreenBtn:null,$unfullscreenBtn:null},create:function(){this.$fullscreenBtn=this.$dom.querySelector((0,a.cls)("fullscreen__button")),this.$unfullscreenBtn=this.$dom.querySelector((0,a.cls)("unfullscreen__button")),this.$fullscreenBtn.addEventListener("click",this.toggleFullscreen),this.$unfullscreenBtn.addEventListener("click",this.toggleFullscreen),this.$on("fullscreenchange",this.updateFullScreenState),this.updateFullScreenState()},methods:{updateFullScreenState:function(){this.$fullscreenBtn.style.display=this.isFullscreen?"none":"block",this.$unfullscreenBtn.style.display=this.isFullscreen?"block":"none"},toggleFullscreen:function(){this.$fullscreen(!this.isFullscreen,"container")}}};t.default=i},74317:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={events:{keydown:function(e){switch(e.stopPropagation(),e.keyCode){case 32:e.preventDefault(),this.paused?this.play():this.pause();break;case 37:e.preventDefault();var t=this.currentTime-10;this.currentTime=t<0?0:t;break;case 39:e.preventDefault();var n=this.currentTime+10;this.currentTime=n>this.duration?this.duration:n;break;case 38:e.preventDefault();var a=this.volume+.1;this.volume=a>1?1:a;break;case 40:e.preventDefault();var i=this.volume-.1;this.volume=i<0?0:i}},click:function(){var e=this;if(!$(this.$video.parentNode).hasClass("player-pinp--fixed")){var t=new Date,n=this.clickTime;this.clickTime=t,t-n<300?clearTimeout(this.clickTimeId):this.clickTimeId=setTimeout((function(){e.paused?e.play():e.pause()}),300)}},dblclick:function(){$(this.$video.parentNode).hasClass("player-pinp--fixed")||this.$fullscreen(!this.isFullscreen,"container")}}};t.default=n},31348:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:{end:!1},create:function(){this._hideItself()},methods:{_showItself:function(){this.$dom.style.display="block"},isMouseInControllbar:function(e){var t=e.clientX,n=e.clientY;if(!t||!n)return!1;var a=this.$dom.getBoundingClientRect();return t>=a.left&&t<=a.right&&n>=a.top&&n<=a.bottom},_hideItself:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.end||this.paused||this.isMouseInControllbar(e))return!1;this.$dom.style.display="none"},_mousemove:function(e){this.paused||(this._showItself(),this._hideItself(e))}},events:{play:function(){var e=this;this.end=!1,this.autoHideId=setTimeout((function(){e._hideItself()}),5e3)},pause:function(){this._showItself()},ended:function(){this.end=!0,this._showItself(),this.$bumpToTop()},c_mouseenter:function(e){var t=this;this._showItself(),this.autoHideId=setTimeout((function(){t._hideItself(e)}),5e3)},c_mouseleave:function(e){this._hideItself(e)},c_mousemove:function(e){var t=this;this.autoHideId&&clearTimeout(this.autoHideId),this._showItself(),this.autoHideId=setTimeout((function(){t._hideItself(e)}),5e3)},c_click:function(e){var t=this;this.autoHideId&&clearTimeout(this.autoHideId),this._showItself(),this.autoHideId=setTimeout((function(){t._hideItself(e)}),5e3)}}};t.default=n},32776:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(44571)),r=n(89047),o={create:function(){var e=this,t=this.$dom.querySelector((0,r.cls)("play--next_button"));this.$dom.querySelector((0,r.cls)("play--next__tip"));this.$on("next",(function(n){if(n){var a=n.title,o=n.poster,l=n.onClick,s=!a||!o||!l,c=e.$dom.querySelector((0,r.cls)("play--next"));if(c.style.display=s?"none":"block",l&&(t.parentNode.onclick=function(){l("toolbar")}),!s){var u=document.createElement("img");try{u.src=(0,i.default)(o).toString()}catch(e){u.src=o}var d=c.querySelector((0,r.cls)("play--next__tip__poster")),f=c.querySelector((0,r.cls)("play--next__tip__text p"));d.innerHTML="",d.appendChild(u),f.innerHTML=a}}}),{deep:!0})}};t.default=o},20769:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(12641)),r=n(89047),o=new Map,l=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.boundingClientRect,n=e.intersectionRatio,a=e.target,i=t.width;if(i!==t.height||0!==i){var r=a.prevIntersectionRatio;if(a.prevIntersectionRatio=n,!(1===n&&0===r)){var l=o.get(a);"function"==typeof l&&l(e)}}}))})),s={data:{pinp:{env:!(0,i.default)().video_player_disable_pinp,manu:!0,scroll:!1}},create:function(){var e=this,t=this.$video.parentNode,n=t.parentNode;l.observe(n),o.set(n,this.checkPinP.bind(this));var a={switch:!1,x:0,y:0,top:0,left:0};t.addEventListener("mousedown",(function(e){e.preventDefault();var n=t.getBoundingClientRect(),i=n.top,r=n.left;a={switch:!0,x:e.pageX,y:e.pageY,top:i,left:r}})),window.addEventListener("mouseup",(function(e){a={switch:!1,x:0,y:0,top:0,left:0}})),window.addEventListener("mousemove",(function(e){var n=$(t);if(a.switch&&n.hasClass("player-pinp--fixed")){var i={left:a.left+e.pageX-a.x,top:a.top+e.pageY-a.y},r=document.querySelector(".middlebar"),o=r?r.getBoundingClientRect().right:0,l=Math.min(window.innerWidth-n.width(),Math.max(o,i.left)),s=Math.min(window.innerHeight-n.height(),Math.max(0,i.top));n.css({left:l+"px",top:s+"px"})}})),this.$dom.querySelector((0,r.cls)("pinp-close")).addEventListener("click",this.closePinP.bind(this)),this.$dom.querySelector((0,r.cls)("pinp")+" "+(0,r.cls)("switch")).addEventListener("click",this.togglePinPButton.bind(this)),this.$on("pinp",this.updatePinP),this.$on("fullscreenchange",this.fullscreenChange),this.bindBack2MainContainerEvent(),this.renderTitle(this.$videoConfig&&this.$videoConfig.title),this.$on("title",(function(t){return e.renderTitle(t)}))},methods:{renderTitle:function(e){"string"==typeof e&&$(this.$dom).find(".chimee-controlbar__title-ctn").text(e)},bindBack2MainContainerEvent:function(){var e=$(this.$dom).find(".chimee-controlbar__title-back");e.on("click",(function(){var t=e;do{t=t.parent()}while(t.length&&!t.hasClass("content__player"));t[0]&&t[0].scrollIntoView({behavior:"smooth",block:"center"})}))},checkPinP:function(e){var t=!e.isIntersecting;this.$video.parentNode&&(t?this.pinp.scroll=!this.paused:this.pinp.manu=!0,this.pinp.scroll=!this.paused&&t,this.togglePinPStyle())},togglePinPStyle:function(){var e,t=this.$video.parentNode,n=$(t).hasClass("player-pinp--fixed"),a=Boolean(this.pinp.env&&this.pinp.manu&&this.pinp.scroll);n!==a&&($(t)[a?"addClass":"removeClass"]("player-pinp--fixed"),a||$(t).css({left:"auto",top:"auto"}),e=!1===this.pinp.manu?"close":a?"display":"disappear",this.$emit("togglePinP",e));var i=this.$dom.querySelector((0,r.cls)("pinp")+" "+(0,r.cls)("switch"));$(i)[this.pinp.env?"addClass":"removeClass"]("open")},togglePinPButton:function(){var e=!this.pinp.env;this.updatePinP({env:e}),Array.isArray(n.g.players)&&n.g.players.forEach((function(t){return t.$emit("pinp",{env:e})})),"function"==typeof this.$config.onPinPChange&&this.$config.onPinPChange(e)},updatePinP:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.pinp[t]=e[t];this.togglePinPStyle()},closePinP:function(){this.updatePinP({manu:!1})},fullscreenChange:function(){var e=$(this.$video.parentNode),t=Boolean(this.pinp.env&&this.pinp.manu&&this.pinp.scroll);this.isFullscreen?e.removeClass("player-pinp--fixed"):t&&e.addClass("player-pinp--fixed")}}};t.default=s},30912:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(89047),i={data:{$playBtn:void 0,$pauseBtn:void 0},create:function(){var e=this;this.$playBtn=this.$dom.querySelector((0,a.cls)("play")),this.$pauseBtn=this.$dom.querySelector((0,a.cls)("pause")),this.$playBtn.addEventListener("click",(function(){e.$emit("play"),e.$playBtn.style.display="none",e.$pauseBtn.style.display="block"})),this.$pauseBtn.addEventListener("click",(function(){e.$emit("pause"),e.$playBtn.style.display="block",e.$pauseBtn.style.display="none"}))},events:{ended:function(){this.$playBtn.style.display="block",this.$pauseBtn.style.display="none"},play:function(){this.$playBtn.style.display="none",this.$pauseBtn.style.display="block"},pause:function(){this.$playBtn.style.display="block",this.$pauseBtn.style.display="none"}}};t.default=i},28115:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(89047),i=1,r={create:function(){var e=this;setTimeout((function(){e.playbackRate=i,e.updateRateSelect(),1!==e.playbackRate&&e.updateRateText()}),400);var t=this.$dom.querySelectorAll((0,a.cls)("playback-rate__list li"));[].slice.call(t).forEach(this.bindRateEvent),this.$on("ratechange",(function(){this.updateRateSelect(),this.updateRateText()}))},methods:{bindRateEvent:function(e){var t=this;e.addEventListener("click",(function(){e.className.indexOf("active")>-1||(t.playbackRate=e.getAttribute("data-value"),i=t.playbackRate,t.updateRateSelect(),t.updateRateText(),Array.isArray(n.g.players)&&n.g.players.forEach((function(e){return e.playbackRate=i})))}))},updateRateSelect:function(){var e=this.playbackRate,t=this.$dom.querySelector((0,a.cls)("playback-rate__list li.active")),n=this.$dom.querySelector((0,a.cls)('playback-rate__list li[data-value="'.concat(e,'"]')));n||(n=this.$dom.querySelector((0,a.cls)('playback-rate__list li[data-value="1"]'))),t&&(t.className=""),n.className="active"},updateRateText:function(){var e=this.playbackRate,t=this.$dom.querySelector((0,a.cls)('playback-rate__list li[data-value="'.concat(e,'"]')));t&&(this.$dom.querySelector((0,a.cls)("playback-rate__text")).innerText=t.innerText)}},events:{afterPlay:function(){this.playbackRate!==i&&(this.playbackRate=i)}}};t.default=r},15133:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(76591)),r=n(89047),o={data:{startX:0,startTime:0,_currentTime:void 0},methods:{mousedown:function(e){var t=this.$dom.querySelector((0,r.cls)("progress__point__text"));if(e.target!==t)if(isNaN(this.duration))console.error("isNaN(duration) === true");else{var n=this.$dom.querySelector((0,r.cls)("progress"));this._currentTime=(e.pageX-n.getBoundingClientRect().left)/n.offsetWidth*this.duration,this.startX=e.clientX,this.startTime=this._currentTime,n.className+=" active",window.addEventListener("mousemove",this.draging),window.addEventListener("mouseup",this.dragEnd),window.addEventListener("contextmenu",this.dragEnd)}},draging:function(e){var t=e.clientX,n=this.$dom.querySelector((0,r.cls)("progress")),a=(t-this.startX)/n.offsetWidth*this.duration,i=+(this.startTime+a).toFixed(2);this._currentTime=Math.min(this.duration,Math.max(0,i)),this.update()},dragEnd:function(){this.update(),this.startX=0,this.startTime=0,this.currentTime=this._currentTime,this._currentTime=void 0;var e=this.$dom.querySelector((0,r.cls)("progress"));e.className=e.className.replace(" active",""),window.removeEventListener("mousemove",this.draging),window.removeEventListener("mouseup",this.dragEnd),window.removeEventListener("contextmenu",this.dragEnd)},update:function(){var e=this._currentTime||this.currentTime,t=e?e/this.duration:0,n=this.$dom.querySelector((0,r.cls)("progress__play")),a=this.$dom.querySelector((0,r.cls)("progress__point")),o=this.$dom.querySelector((0,r.cls)("progress__point__text")),l=100*t+"%";n.style.width=l,a.style.left=l,o&&(o.innerText=(0,i.default)(e))}},create:function(){this.$dom.querySelector((0,r.cls)("progress")).addEventListener("mousedown",this.mousedown)},events:{progress:function(){try{if(0!==this.buffered.length){var e=this.buffered.end(0),t=this.duration,n=this.$dom.querySelector((0,r.cls)("progress__buff")),a=e/t*100+"%";n.style.width=a}}catch(e){console.log(e)}},timeupdate:function(){this.update()}}};t.default=o},30663:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(89047),i={data:{$autonextBtn:null},create:function(){this.$autonextBtn=this.$dom.querySelector((0,a.cls)("autonext")+" "+(0,a.cls)("switch")),this.$autonextBtn.addEventListener("click",this.bindAutoNext),this.$on("autonext",this.updateAutonextState),this.updateAutonextState(this.$config.autonext)},methods:{updateAutonextState:function(e){$(this.$autonextBtn)[e?"addClass":"removeClass"]("open")},bindAutoNext:function(e){e.stopPropagation();var t=this.$autonextBtn.className.indexOf("open")>-1;Array.isArray(n.g.players)&&n.g.players.forEach((function(e){return e.$emit("autonext",!t)})),"function"==typeof this.$config.onAutoNextChange&&this.$config.onAutoNextChange(!t)}}};t.default=i},81118:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(76591)),r=n(89047),o={methods:{updateTime:function(){var e=this.$dom.querySelector((0,r.cls)("play--time__passed")),t=this.$dom.querySelector((0,r.cls)("play--time__total")),n=(0,i.default)(this.duration);t&&n&&t.innerText!==n&&(t.innerText=n),e&&(e.innerText=(0,i.default)(this.currentTime))}},events:{load:function(){this.updateTime()},timeupdate:function(){this.updateTime()}}};t.default=o},26608:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(89047),r=a(n(97093)),o="__PLAYER__VOLUME__",l="__PLAYER__MUTED__",s=r.default.getItem(o),c=r.default.getItem(l),u={data:{startY:0},methods:{volumeMousedown:function(e){this.startY=e.clientY,this.$dom.querySelector((0,i.cls)("volume")).className+=" active",window.addEventListener("mousemove",this.volumeDraging),window.addEventListener("mouseup",this.volumeDragEnd),window.addEventListener("contextmenu",this.volumeDragEnd)},volumeDraging:function(e){this.startY=e.clientY,this.updateVolume()},volumeDragEnd:function(){var e=this;this.updateVolume();var t=this.$dom.querySelector((0,i.cls)("volume__progress__track")).getBoundingClientRect(),a=t.bottom,r=t.height,o=(a-this.startY)/r;this.volume=Math.max(0,Math.min(1,o)),Array.isArray(n.g.players)&&n.g.players.forEach((function(t){return t.volume=e.volume})),this.startY=0;var l=this.$dom.querySelector((0,i.cls)("volume"));l.className=l.className.replace(" active",""),window.removeEventListener("mousemove",this.volumeDraging),window.removeEventListener("mouseup",this.volumeDragEnd),window.removeEventListener("contextmenu",this.volumeDragEnd)},updateVolume:function(){var e=this.$dom.querySelector((0,i.cls)("volume__progress__track")).getBoundingClientRect(),t=e.bottom,n=e.height,a=this.volume;this.startY&&(a=Math.max(0,Math.min(1,(t-this.startY)/n)));var r=100*a+"%",o=this.$dom.querySelector((0,i.cls)("volume__progress__track__volume")),l=this.$dom.querySelector((0,i.cls)("volume__progress__point"));o.style.height=r,l.style.bottom=r}},create:function(){var e=this;this.$dom.querySelector((0,i.cls)("volume__progress__track")).addEventListener("mousedown",this.volumeMousedown);var t=this.$dom.querySelector((0,i.cls)("volume__button__normal")),a=this.$dom.querySelector((0,i.cls)("volume__button__mute"));t.style.display=c?"none":"block",a.style.display=c?"block":"normal",t.addEventListener("click",(function(){e.volume=0,Array.isArray(n.g.players)&&n.g.players.forEach((function(e){return e.volume=0}))})),a.addEventListener("click",(function(){e.volume=s,Array.isArray(n.g.players)&&n.g.players.forEach((function(e){return e.volume=s}))})),c?this.volume=0:s?this.volume=s:(s=this.volume,r.default.setItem(o,s)),this.updateVolume(),this.$on("volumechange",(function(){e.updateVolume();var t=0===e.volume;t||(s=e.volume,r.default.setItem(o,s)),c=t,r.default.setItem(l,c);var n=e.$dom.querySelector((0,i.cls)("volume__button__normal")),a=e.$dom.querySelector((0,i.cls)("volume__button__mute"));n.style.display=t?"none":"block",a.style.display=t?"block":"normal"}))}};t.default=u},24600:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(56690)),r=a(n(89728)),o=a(n(66115)),l=a(n(61655)),s=a(n(94993)),c=a(n(73808)),u=a(n(38416)),d=a(n(7854)),f=a(n(67177)),h=a(n(3551)),p=a(n(43537)),v=n(85893);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var _=function(e){(0,l.default)(n,e);var t=m(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];e=t.call.apply(t,[this].concat(r)),(0,u.default)((0,o.default)(e),"state",e.getInitialState()),(0,u.default)((0,o.default)(e),"onClick",(function(){var t=e.props.onClick;e.intervalId&&clearInterval(e.intervalId),"function"==typeof t&&t()}));var s=e.props.ctx;return s.$on("destroy",(function(){e.intervalId&&clearInterval(e.intervalId)})),s.$on("popupClose",(function(){e.intervalId&&clearInterval(e.intervalId)})),e}return(0,r.default)(n,[{key:"getInitialState",value:function(){return{d:this.genArc(0)}}},{key:"componentDidMount",value:function(){this.autoEffect(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.auto!==e.auto&&(this.setState(this.getInitialState()),this.autoEffect(e))}},{key:"genArc",value:function(e){return t={cx:32,cy:32,r:30},n=e,a=-360*(n=Math.min(.9999,Math.max(1e-4,n))),i={x:t.cx,y:t.cy-t.r},r={x:t.cx-t.r*Math.sin(a/180*Math.PI),y:t.cy-t.r*Math.cos(a/180*Math.PI)},o=Number(Math.abs(a)>180),"M ".concat(i.x,",").concat(i.y," A ").concat(t.r," ").concat(t.r," 0 ").concat(o," 1 ").concat(r.x,",").concat(r.y);var t,n,a,i,r,o}},{key:"autoEffect",value:function(e){var t=this,n=e.auto,a=e.maxTime,i=e.onEnd;if(this.intervalId&&clearInterval(this.intervalId),n){var r=Date.now();this.intervalId=setInterval((function(){var e=(Date.now()-r)/a;t.setState({d:t.genArc(e)}),e>=1&&(clearInterval(t.intervalId),i&&i())}))}}},{key:"componentWillUnMount",value:function(){this.intervalId&&clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.state.d,t=this.props.auto;return(0,v.jsxs)("svg",{width:"64px",height:"64px",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",onClick:this.onClick,children:[(0,v.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(2, 2)",children:[(0,v.jsx)("circle",{fill:"#000000",opacity:"0.5",cx:"30",cy:"30",r:"30"}),(0,v.jsx)("path",{opacity:"0.95",transform:"translate(19, 19)",fill:"#FFFFFF",d:"M13.8252045,12.4307384 L1.89261998,20.2584512 C1.32820928,20.6287017 0.570516707,20.4713037 0.20026625,19.906893 C0.0696080582,19.7077173 -8.72343578e-14,19.4747021 -8.72635297e-14,19.2364953 L-8.74855743e-14,2.76350475 C-8.75682398e-14,2.08849005 0.547207528,1.54128253 1.22222222,1.54128253 C1.46042908,1.54128253 1.69344431,1.61089058 1.89261998,1.74154877 L13.8252045,9.56926164 C14.6153795,10.0876123 14.8357367,11.1483819 14.317386,11.9385569 C14.1887792,12.1346055 14.0212532,12.3021315 13.8252045,12.4307384 ZM20.5,0 L20.5,0 C21.3284271,-1.52179594e-16 22,0.671572875 22,1.5 L22,20.5 C22,21.3284271 21.3284271,22 20.5,22 L20.5,22 C19.6715729,22 19,21.3284271 19,20.5 L19,1.5 C19,0.671572875 19.6715729,1.52179594e-16 20.5,0 Z"})]}),t?(0,v.jsx)("path",{fill:"none",stroke:"#E94844",strokeWidth:"4",d:e}):null]})}}]),n}(d.default.Component),y=function(e){(0,l.default)(a,e);var t=m(a);function a(){var e;(0,i.default)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];e=t.call.apply(t,[this].concat(l)),(0,u.default)((0,o.default)(e),"state",e.getInitialState()),(0,u.default)((0,o.default)(e),"onClick",(function(){(0,e.state.next.onClick)("player_window"),e.close()})),(0,u.default)((0,o.default)(e),"onEnd",(function(){var t=e.props.ctx;!(window.players&&window.players.filter((function(e){return!e.paused})).length)&&t.$emit("ended",p.default.name),e.close()})),(0,u.default)((0,o.default)(e),"open",(function(){if(e.state.next){var t=e.state.next,n=t.title,a=t.poster;if(!n||!a)return null;e.props.ctx.open();var i={show:!0,autonext:e.getInitialState().autonext};e.setState(i)}})),(0,u.default)((0,o.default)(e),"close",(function(){e.props.ctx.close(),e.setState({show:!1})})),(0,u.default)((0,o.default)(e),"cancelCountDown",(function(){var t=e.props.ctx;e.setState({autonext:!1}),(0,h.default)(h.default.CLICK,{act:"click",func:"cancel_countdown",where:n.g.whoami,gnid:t.$config.gnid})})),e.props.ctx=e.props.ctx;var c=e.props.ctx;return c.$on("play",(function(){e.state.show&&e.close()})),c.$on("seeked",(function(){e.state.show&&e.close()})),c.$on("ended",(function(t){return t===p.default.name||(e.open(),!1)})),c.$on("destroy",e.close),c.$on("next",(function(t){return e.setState({next:t})})),c.$on("autonext",(function(t){return e.setState({autonext:t})})),c.$on("fullscreenchange",(function(){if(!c.isFullscreen){var t=e.getInitialState().style;return e.setState({style:t})}var n={marginTop:(c.$video.getBoundingClientRect().height-235)/2};e.setState({style:n})})),e}return(0,r.default)(a,[{key:"getInitialState",value:function(){return{show:!1,autonext:!1!==n.g.ggconfig.videodetail_autonextbtn,next:{title:"",poster:"",onClick:function(){}},style:{marginTop:5===window.ggconfig.videodetail_version?55:85}}}},{key:"render",value:function(){var e=this;if(this.state.next){var t=this.state,n=t.next,a=n.title,i=n.poster,r=t.autonext,o=t.show;if(!a||!i||!o)return null;var l=this.props.ctx.$config.time;return l<1e3&&(l*=1e3),(0,v.jsxs)("div",{className:"cc-playafter-countdown__wrapper",style:this.state.style,children:[(0,v.jsx)("span",{children:"接下来播放"}),(0,v.jsxs)("div",{className:"cc-playafter-countdown__body",children:[(0,v.jsx)("div",{className:"cc-playafter-countdown__title",children:a}),(0,v.jsxs)("div",{className:"cc-playafter-countdown__poster",children:[(0,v.jsx)(f.default,{src:i,width:5===window.ggconfig.videodetail_version?300:360,height:5===window.ggconfig.videodetail_version?168:202}),(0,v.jsxs)("div",{className:"cc-playafter-countdown__clock",children:[(0,v.jsx)("div",{className:"cc-playafter-countdown__button",children:this.state.show?(0,v.jsx)(_,{ctx:this.props.ctx,auto:r,maxTime:l,onClick:this.onClick,onEnd:this.onEnd},a):null}),(0,v.jsx)("div",{className:"cc-playafter-countdown__text",onClick:function(){return r?e.cancelCountDown():e.onClick()},children:r?"取消":"下一集"})]})]})]})]})}}}]),a}(d.default.Component);t.default=y},43537:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93634)),o=a(n(24600));n(39952);var l=n(85893),s=(0,r.default)({name:"playafter__countdown",className:"cc-playafter-countdown",title:!1,body:"",offset:"0 0 0 0",hide:!0,autoFocus:!1,create:function(){var e=this.$domWrap.find("cm-pp-body")[0];e&&i.default.render((0,l.jsx)(o.default,{ctx:this}),e)},events:{}});t.default=s},62711:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(66115)),r=a(n(61655)),o=a(n(94993)),l=a(n(73808)),s=a(n(56690)),c=a(n(89728)),u=n(82083);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.default)(this,n)}}window.errCount=0,window.errorcode="YFERROR";var f=function(){function e(t){var n=t.url,a=t.player,i=t.element;(0,s.default)(this,e),this.url=n,this.player=a,this.element=i,this.io=this.init(n,i),this.bindEvents(["dataArrive","loadError","IOComplete"],"io"),this.bindEvents(["outSeek","outpause","outresume"],"player")}return(0,c.default)(e,[{key:"init",value:function(e,t){var n=new YFCloudIO;return n.init(t,e,{limitBufferLength:30}),n._onError=function(e,t){console.log(e,t)},n}},{key:"load",value:function(){var e;return(e=this.io).load.apply(e,arguments)}},{key:"destroy",value:function(){this.bindEvents(["dataArrive","loadError","IOComplete","URLRedirect"],"io",!0),this.bindEvents(["outSeek","outpause","outresume"],"player",!0),this.io.destroy()}},{key:"onDataArrive",value:function(e,t){this.io.loadedInfo();this.player.onDataArrive(e,t)}},{key:"onLoadError",value:function(e){console.log("[%s]onLoadError :%d",new Date,e)}},{key:"onIOComplete",value:function(){this.player.onIOComplete()}},{key:"onOutSeek",value:function(e){this.io.destroy(),this.io=this.init(this.url,this.element),this.bindEvents(["dataArrive","loadError","IOComplete"],"io"),this.io.load(e,!1,0)}},{key:"onOutpause",value:function(){this.io.pause()}},{key:"onOutresume",value:function(){this.io.resume()}},{key:"bindEvents",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){e="on"+e.replace(/^\w/,(function(e){return e.toUpperCase()})),"function"==typeof n[e]&&(n[t][e]=a?null:n[e].bind(n))}))}}]),e}(),h=function(e){(0,r.default)(n,e);var t=d(n);function n(e,a){var r;(0,s.default)(this,n),(r=t.call(this,e,a)).video=e,r.config=a;var o=a.src;return r.kernelPlayer=new YFPlayer,r.io=new f({url:o,player:r.kernelPlayer,element:r.video}),r.onFallback=r.onFallback.bind((0,i.default)(r)),r.bindEvents(),r.video.addEventListener("play",r.play.bind((0,i.default)(r))),r}return(0,c.default)(n,[{key:"loadData",value:function(){if(this.loaded)return this.io.onOutresume();this.attachMedia(),this.loaded=!0;return this.io.load({from:0,to:-1},!1,0),this.kernelPlayer.emit("load")}},{key:"load",value:function(){}},{key:"startLoad",value:function(){}},{key:"stopLoad",value:function(){return this.kernelPlayer.emit("unload")}},{key:"play",value:function(){this.loadData(),this.video.play()}},{key:"seek",value:function(e){this.kernelPlayer.seek(Number(e))}},{key:"pause",value:function(){this.video.pause(),this.io.onOutpause()}},{key:"bindEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.kernelPlayer;t&&t[e?"off":"on"]("fallback",this.onFallback)}},{key:"onFallback",value:function(){var e=this.kernelPlayer;e&&e.destroy()}},{key:"attachMedia",value:function(){return this.kernelPlayer.play(this.video,this.config.src,this.config)}},{key:"destroy",value:function(){this.bindEvents(!0),this.kernelPlayer.destroy(),this.io&&this.io.destroy()}},{key:"refresh",value:function(){return this.kernelPlayer.emit("unload"),this.kernelPlayer.emit("load")}}],[{key:"isSupport",value:function(){return YFPlayer.isMSESupported()}}]),n}(u.CustEvent);t.default=h},54407:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(56690)),r=a(n(89728)),o=a(n(66115)),l=a(n(61655)),s=a(n(94993)),c=a(n(73808)),u=a(n(38416)),d=a(n(7854)),f=a(n(81736));n(34725);var h=n(85893);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,l.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];e=t.call.apply(t,[this].concat(r)),(0,u.default)((0,o.default)(e),"state",e.getInitialState()),(0,u.default)((0,o.default)(e),"open",(function(){var t=e.props.ctx;t.$bumpToTop(),t.open()}));var s=e.props.ctx;return s.$on("pause",(function(){return s.currentTime!==s.duration&&e.setState({show:!0})})),s.$on("play",(function(){return e.setState({show:!1})})),s.$on("ended",(function(){return e.setState({show:!1})})),e}return(0,r.default)(n,[{key:"getInitialState",value:function(){return{show:!1}}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.width,i=t.height;return this.state.show?(0,h.jsx)(f.default.ShowCase,{id:n,src:"https:"===location.protocol?"https://show-3.mediav.com/s?scheme=https":"http://show.3.mediav.com/s?scheme=http",width:a,cols:1,type:"normal",style:{imgRatio:a/i,colSpace:0},onReady:function(t){return t.adData.length&&e.open()}}):null}}]),n}(d.default.Component);t.default=v},45402:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93634)),o=a(n(54407)),l=n(85893),s=(0,r.default)({name:"pause_gg",className:"cc-pause-gg",title:!1,body:"",offset:"50% 50%",hide:!0,autoFocus:!1,closed:function(e,t){},create:function(){var e=this.$domWrap.find("cm-pp-body")[0];if(e){var t=this.$config,n=t.id,a=t.width,r=t.height;this.$domWrap.css({width:a+"px",height:r+"px"}),i.default.render((0,l.jsx)(o.default,{ctx:this,id:n,width:a,height:r}),e)}},events:{play:function(){this.close()},ended:function(e){this.close(e,"by ended")}}});t.default=s},18166:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(7854)).default.createContext({});t.default=i},25343:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93634)),o=a(n(55363));a(n(18166));n(83565);var l=n(85893),s=(0,r.default)({name:"playafter_gg",className:"cc-playafter-gg",title:!1,body:"",offset:"0 0 0 0",hide:!0,autoFocus:!1,create:function(){var e=this.$domWrap.find("cm-pp-body")[0];if(e){var t=this.$config,n=t.id,a=t.maxStayTime;i.default.render((0,l.jsx)(o.default,{id:n,maxStayTime:a,ctx:this}),e)}},events:{}});t.default=s},55363:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(56690)),r=a(n(89728)),o=a(n(66115)),l=a(n(61655)),s=a(n(94993)),c=a(n(73808)),u=a(n(38416)),d=a(n(7854)),f=a(n(81736)),h=a(n(18166)),p=a(n(25343)),v=a(n(43537)),m=n(85893);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,l.default)(n,e);var t=_(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];e=t.call.apply(t,[this].concat(r)),(0,u.default)((0,o.default)(e),"state",e.getInitialState()),(0,u.default)((0,o.default)(e),"forbiddenRequest",(function(){e.setState({shouldRequest:!1})})),(0,u.default)((0,o.default)(e),"startRequest",(function(t){return e.props.ctx.duration<window.ggconfig.video_player_after_gg_min_time||(t===p.default.name||t===v.default.name||(e.setState({shouldRequest:!0}),!1))})),(0,u.default)((0,o.default)(e),"onClose",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e.props.ctx;e.intervalId&&clearInterval(e.intervalId),e.setState({shouldRequest:!1}),t&&n.$emit("ended",p.default.name),n.close()}));var s=e.props.ctx;return s.$on("play",e.forbiddenRequest),s.$on("ended",e.startRequest),e}return(0,r.default)(n,[{key:"getInitialState",value:function(){return{maxTime:null,shouldRequest:!1}}},{key:"componentWillUnmount",value:function(){var e=this.props.ctx;e.$off("play",this.forbiddenRequest),e.$off("ended",this.startRequest),this.onClose()}},{key:"initialGG",value:function(){var e=this,t=function(e,t){if(e<=1e6)return e;var n=t?5:1,a=t?7:3;return parseInt(e.toString().slice(n,a))}(this.props.maxStayTime,!1);this.setState({maxTime:t}),this.props.ctx.$bumpToTop(),this.props.ctx.open(),this.intervalId=setInterval((function(){var t=e.state.maxTime;if(window.players&&window.players.filter((function(e){return!e.paused})).length)return e.onClose(!1);t>1?(t-=1,e.setState({maxTime:t})):e.onClose()}),1e3)}},{key:"render",value:function(){var e=this,t=this.props.id,n=this.state.maxTime;if(!this.state.shouldRequest)return null;var a=this.props.ctx.$config.width,i=void 0===a?300:a;return(0,m.jsxs)("div",{className:"cc-playafter-gg__container",children:[(0,m.jsx)(f.default.ShowCase,{id:t,width:i,cols:1,type:"normal",style:{imgRatio:1,colSpace:0},onReady:function(t){return t.adData.length?e.initialGG():e.onClose()}}),(0,m.jsx)("div",{className:"cc-playafter-gg__close-btn",onClick:this.onClose,children:"×"}),n?(0,m.jsxs)("div",{className:"cc-playafter-gg__countdown",children:[n," 秒"]}):null]})}}]),n}(d.default.Component);t.default=y,(0,u.default)(y,"contextType",h.default)},46387:function(e,t,n){var a=n(64836),i=n(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.data,n=e.img,a=n.width,i=n.height,d=e.onClick,f=e.onRealShow,h=e.className,p=(0,r.useRef)(null);(0,r.useEffect)((function(){(0,l.default)(p.current,(function(){"function"==typeof f&&f(t)}),!0)}),[]);var v=t.i,m=t.t,_=t.duration,y=v.split("|")[0];return(0,u.jsxs)("div",{className:(0,o.default)("cc-playafter-relate__video__card",h),style:{width:a},children:[(0,u.jsxs)("div",{ref:p,className:"cc-playafter-relate__video__card__poster",style:{width:a,height:i},onClick:function(e){return d(t,e)},children:[(0,u.jsx)(c.default,{className:"hover--scale",src:y,width:a,height:i}),(0,u.jsx)("span",{className:"cc-playafter-relate__video__card__duration",children:(0,s.default)(_)})]}),(0,u.jsx)("div",{className:"cc-playafter-relate__video__card__info",children:(0,u.jsx)("div",{className:"cc-playafter-relate__video__card__title",onClick:function(e){return d(t,e)},children:m})})]})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(7854)),o=a(n(94184)),l=a(n(39610)),s=a(n(76591)),c=a(n(67177)),u=n(85893);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},35546:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=a(n(64687)),o=a(n(17156)),l=a(n(56690)),s=a(n(89728)),c=a(n(66115)),u=a(n(61655)),d=a(n(94993)),f=a(n(73808)),h=a(n(38416)),p=a(n(7854)),v=n(98704),m=a(n(3551)),_=a(n(46387)),y=n(85893);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}function w(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t--),a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}return e}var b=(0,v.connect)((function(){return{}}),(function(e){return{getMlistData:e.global.getMlistData}}))(i=function(e){(0,u.default)(a,e);var t=g(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];e=t.call.apply(t,[this].concat(i)),(0,h.default)((0,c.default)(e),"state",e.getInitialState()),(0,h.default)((0,c.default)(e),"open",(0,o.default)(r.default.mark((function t(){var n,a,i,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.getMlistData,t.next=3,n({c:"relatevideo",scene:48,n:6,sv:7,cur_rawurl:"http09ebe624d2c53",cur_title:"妈妈近他们((function(e){return console.error(e),[]})).then((function(e){return e.map((function(e){return e.channel="relatevideo",e})).filter((function(e){return""!==e.i.trim()}))}));case 3:if((a=t.sent).length){t.next=6;break}return t.abrupt("return");case 6:i=a.map((function(e){var t=e.gnid,n=e.rawurl;if(!t&&!n)return e;var a=document.createElement("a");return a.href=e.pcurl,a.host=location.host,e.pcurl=a.href,e})),o=e.props.ctx,e.setState({show:!0,data:w(i)}),o.open();case 10:case"end":return t.stop()}}),t)})))),(0,h.default)((0,c.default)(e.setState({show:!1})}));var u=e.props.ctx;return u.$on("play",(function(){return e.state.show&&e.close()})),u.$on("seeked",(function(){return e.state.show&&e.close($on("next",(function(t){return e.setState({next:t})})),u.$on("autonext",(function(t){return e.setState({autonext:t})})),u.$on("ended",(function(t){return e.open(),!1})),e}return(0,s.default)(a,[{key:"getInitialState",value:function(){return{show:!1,autonext:!1!==n.g.ggconfig.videodetail_autonextbtn,next:{title:"",poster:"",onClick:function(){}},data:[]}}},{key:"render",value:function(){var e=this.props,t=e.tj_url,a=e.djsource,i=this.state,r=i.next,o=i.autonext,l=i.show,s=i.data;return l?o&&r&&r.title&&r.poster?null:s.length?(0,y.jsx)("div",{className:"cc-playafter-relate__wrapper clearfix",children:s.map((function(e){return(0,y.jsx)(_.default,{data:e,className:"float--left",img:{width:224,height:126},onRealShow:function(e){var n=e.sid,i=e.gnid,r=e.a,o=e.c,l=e.source,s=e.s,c=e.style,u=e.channel;ret.NEWSSRV,{sid:n,style:"portal",channel:u,act:"real_show",scene:48,func:"pc_news_realshow",url_pack:JSON.stringify([[i,r,o,l,s,c,2e3,n].map((function(e){return e||""}))]),djsource:[a,null].join(","),tj_url:t})},onClick:function(e){var i=e.u,r=e.pcurl,o=e.channel,l=e.sid,s=e.a,c=e.c,u=e.source;(0,m.default)(m.default.SRV,{url:i||r,channel:o,sid:l,a:s,c:c,source:u,scene:48,act:"click",stype:"portal",djsource:[a,null].join(","),tj_url:t}),n.g.open(r)}},e.gnid)}))}):null:null}}]),a}(p.default.Component))||i;t.default=b},98072:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93634)),o=n(98704),l=a(n(50244)),s=a(n(35546));n(1499);var c=n(85893),u=(0,r.default)({name:"playafter__relate",className:"cc-playafter-relate",title:!1,body:"",offset:"0 0 0 0",hide:!0,autoFocus:!1,create:function(){var e=this.$domWrap.find("cm-pp-body")[0];e&&i.default.render((0,c.jsx)(o.Provider,{store:l.default,children:(0,c.jsx)(s.default,{ctx:this})}),e)},events:{}});t.default=u},50244:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(57460),r=a(n(388)),o=(0,i.init)({models:{global:r.default}});t.default=o},93684:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(7854)).default.createContext({});t.default=i},3616:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93684));n(94091);var o=n(85893),l={name:"titlebar",inner:!0,el:'<div class="chimee-titlebar"></div>',create:function(){var e=this,t=new Function;"function"==typeof this.$config.render&&(t=this.$config.render),i.default.render((0,o.jsx)(r.default.Provider,{value:this,children:(0,o.jsx)(t,{})}),this.$dom),this.$on("fullscreenchange",(function(){e.$dom.style.display=e.isFullscreen?"none":"block"}))}};t.default=l},97093:function(e,t,n){var a={support_local:!1,support_session:!1,defaultStorage:null};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local";return a["support_"+e]?n.g[e+"Storage"]:a.defaultStorage}!function(){if(["session","local"].forEach((function(e){var t=e+"Storage",i="STORAGE_SUPPORT_TEST";try{var r=n.g[t];r.setItem(i,1),1===parseInt(r.getm(i),a["suprage=ra.defaultStorage){var e={};a.defaultStorage={getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]},clear:function(){e={}}}}}(),e.exports={getItem:function(e,t){var n=i(t);try{var a=JSON.parse(n.getItem(e)),r=a.expire,o=a.value;return r&&r<Date.now()?void n.removeItem(e):o}catch(e){retu r=i(a),r.setItempire:n,value:t}));r.setItem(e,JSON.stringify({value:t}))},removeItem:function(e,t){i(t).removeItem(e)},clear:function(e){i(e).clear()},showConfig:function(){return a}}},24301:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.mapState=t.mapProps=t.floatCommentEventName=t.default=void 0;var i,r,o=a(n(56690)),l=a(n(89728)),s=a(n(66115)),c=a(n(61655)),u=a(n(94993)),d=a(n(73808)),f=a(n(70215)),h=a(n(38416)),p=a(n(7854)),v=a(n(45697)),m=n(98704),_=a(n(82298)),y=a(n(92614)),g=a(n(96137)),w=a(n(11)),b=a(n(89068)),x=a(n(72369)),k=a(n(3457)),$=a(n(47252)),C=a(n(13076)),P=a(n(75221)),S=a(n(99332)),j=a(n(26834)),I=a(n(71105)),T=n(85893),E=["next","exData"];function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}function R(e,t){var n=Object.keys(e);if(Object.getOwnPrdefineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=new URLSearchParams(location.search).get("test"),a=t&&-1!==t.indexOf("yf"),i=-1!==navigator.userAgent.indexOf("Trident/7.0");(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!a||i)&&(n.g.ggconfig.p2pvideo=!1);var r=n.g.YFPlayer&&n.g.YFPlayer.isMSESupported()&&n.g.ggconfig.p2pvideo,o=M(M({},e),{},{controls:!1,preload:"meta",plugin:[{name:k.default.name,autonext:!1!==n.g.ggconfig.videodetail_autonextbtn,onAutoNextChange:e.onAutoNextChange,onPinPChange:e.onPinPChange,onTogglePinP:e.onTogglePinP,onFloatcommentChange:e.onFloatcommentChange},{name:$.default.name}],box:r?"mp4":void 0,kernels:{mp4:I.default}});"function"==typeof o.titlebar&&o.plugin.push({name:j.default.name,render:o.titlebar});var l=(0,w.default)(),s=l.video_player_pause_gg,c=l.video_player_after_gg,u=l.video_player_after_gg_countdown,d=l.video_player_after_countdown,f=(l.video_player_after_relate,l.videodetail_version);if(s&&o.plugin.push({name:x.default.name,id:s,width:260,height:260}),c){var h={name:C.default.name,id:c,maxStayTime:u||15};5===f&&(h.width=260,h.height=260),o.plugin.push(h)}if(d>0&&o.plugin.push({name:P.default.name,gnid:e.gnid,time:d}),o.poster)try{o.poster=(0,g.default)(o.poster).clearRules().setDmfd(o.width,o.height,void 0).toString()}catch(e){console.log("[video poster error]",o.poster),o.poster=""}if(o.src){var p="https:"===location.protocol,v=0===o.src.indexOf("http://");p&&v&&(o.src=o.src.replace(/^http:/,"https:"))}return o}_.default.install(x.default),_.default.install(k.default),_.default.install($.default),_.default.install(C.default),_.default.install(P.default),_.default.install(S.default),_.default.install(j.default);var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=e.gnid,a=e.tj_url,i=e.where;t&&(0,y.default)(y.default.SR){var t=e.player;return{autonext:(void 0===t?{}:t).autonext}};t.mapState=A;var B=function(e){var t=e.player;return{onAutoNextChange:(void 0===t?{}:t).changeAutoNext}};t.mapProps=B;var q="FLOAT_COMMENT_STATUS_CHANGE";t.floatCommentEventName=q;var D=(0,m.connect)(A,B)((r=function(e){(0,c.default)(a,e);var t=O(a);function a(){var e;(0,o.default)(this,a);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,s.default)(e),"getDOM",(function(t){return e.dom=t})),(0,h.default)((0,s.default)(e),"handleError",(function(){var t=(0,s.default)(e).$video,n=e.props,a=n.src,i=n.gnid;t&&t.error&&2!==t.error.code&&(0,y.default)(y.default.ERRORSRV,{url:encodeURI(a),act:"click",func:"video_failed",gnid:i,error_code:t.error.code})})),(0,h.default)((0,s.default)(e),"afterFullscreenchange",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterFullscreenchange;"function"==typeof r&&r.apply(void 0,arguments),(0,y.default)(y.default.CLICK,{act:"click",func:(e.player.isFullscreen?"enter":"quit")+"_fullscreen_video",gnid:n,tj_url:a,where:i})})),(0,h.default)((0,s.default)(e),"afterVolumechange",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterVolumechange;"function"==typeof r&&r.apply(void 0,arguments),(0,y.default)(y.default.CLICK,{act:"click",func:"volume_video",gnid:n,tj_url:a,where:i})})),(0,h.default)((0,s.default)(e),"afterTimeupdate",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterTimeupdate;"function"==typeof r&&r.apply(void 0,arguments);var o=(arguments.length<=0?void 0:arguments[0]).target,l=o.currentTime,s=o.playbackRate;e.beforeTime||(e.beforeTime=l);var c=e.beforeTime-l;Math.abs(c)>1*s&&(0,y.default)(y.default.CLICK,{act:"click",func:c<0?"fast_video":"rewind_video",gnid:n,tj_url:a,where:i}),e.befounction(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var r=e.props.onPlay;setTimeout((function(){"function"==typeof r&&r.apply(void 0,a)}));var o=a[0].target;Array.isArray(n.g.players)&&n.g.players.forEach((function(t){t.paused||t.$video===o||t.pause(),t!==e.player&&t.$emit("pinp",{scroll:!1})}))})),(0,h.default)((0,s.default)(e),"heartTimer",null),(0,h.default)((0,s.default)(e),"headIntervalTime",5),(0,h.default)((0,s.default)(e),"timeupdate",(function(){var t=(arguments.length<=0?void 0:arguments[0]).target,n=t.duration,a=t.currentTime;n-a!=0?a&&!e.heartTimer&&(e.heartTimer=setInterval((function(){e.headIntervalTime-=1,0===e.headIntervalTime&&(F(e.props),clearInterval(e.heartTimer),e.heartTimer=null,e.headIntervalTime=5)}),1e3)):F(e.props,5-e.headIntervalTime)})),(0,h.default)((0,s.default)(e),"afterPlay",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterPlay;"function"==typeof r&&r.apply(void 0,arguments),(0,y.default)(y.default.CLICK,{act:"click",func:"play_video",gnid:n,tj_url:a,where:i})})),(0,h.default)((0,s.default)(e),"afterPause",(function(){var t=e.props,n=t.gnid,a=t.tj_url,i=t.where,r=t.afterPause,o=(arguments.length<=0?void 0:arguments[0]).target,l=o.duration,s=o.currentTime;if(l-s==0)return!1;"function"==typeof r&&r.apply(void 0,arguments),s>0&&(F(e.props,5-e.headIntervalTime),clearInterval(e.heartTimer),e.heartTimer=null,e.headIntervalTime=5),(0,y.default)(y.default.CLICK,{act:"click",func:"pause_video",gnid:n,tj_url:a,where:i})})),(0,h.default)((0,s.default)(e),"afterEnded",(function(){var t=e.props,n=t.where,a=t.tj_url,i=t.gnid,r=t.afterEnded;"function"==typeof r&&r.apply(void 0,arguments),(0,y.default)(y.default.CLICK,{act:"click",tj_url:a,func:"finish_video",where:n,gnid:i,ext:e.beforeTime})})),(0,h.default)((0,s.default)(e),"afterRatechange",(function(){var t=e.props,n=t.tj_url,a=t.where,i=t.gnid,r=t.afterRatechange;"function"==typeof r&&r.apply(void 0,arguments);var o=(arguments.length<=0?void 0:arguments[0]).target.playbackRate;(0,y.default)(y.default.CLICK,{act:"click",func:"speed_video",where:a,gnid:i,tj_url:n,ext:o})})),(0,h.default)((0,s.default)(e),"togglePinP",(function(t){var n=e.props,a=n.tj_url,i=n.where,r=n.gnid;"display"===t&&b.default.trigger("pinpShow",!0),(0,y.default)(y.default.CLICK,{act:"click",func:"miniplayer_"+t,where:i,gnid:r,tj_url:a})})),e.DOM_ID="video-player-"+N++,e.$video=null,e}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=function(e,t){e.next;var a=e.exData,i=L(M(M({},(0,f.default)(e,E)),{},{onAutoNextChange:function(t){(0,y.default)(y.default.CLICK,{act:"click",func:t?"open_autonext":"close_autonext",where:n.g.whoami,gnid:e.gnid}),n.g.ggconfig.videodetail_autonextbtn=!!t},onPinPChange:function(t){(0,y.default)(y.default.CLICK,{act:"click",func:t?"miniplayerswitch_open":"miniplayerswitch_close",where:n.g.whoami,gnid:e.gnid})},onFloatcommentChange:function(e){b.default.trigger(q,{type:"statusChange",payload:e})},wrapper:"#".concat(t)})),r=new _.default(i);return a&&(r.exData=a),r.__dispatcher.dom._autoFocusToVideo(r.__dispatcher.dom.videoElement,!0),r}(this.props,this.DOM_ID);Array.isArray(n.g.players)||(n.g.players=[]);var a=[].indexOf.call(document.querySelectorAll('div[id^="video-player-"] container'),t.$container);-1!==a&&a!==n.g.players.length?n.g.players.splice(a,0,t):n.g.players.push(t),this.player=t,this.$video=document.querySelector("#".concat(this.DOM_ID," video")),this.$video&&this.$video.addEventListener("error",this.handleError);var i={};for(var r in this.props)if(/^(on|before|after)/.test(r)){var o=r;/^on/.test(r)&&(o=r.slice(2).toLowerCase()),i[o]=this.props[r]}["afterFullscreenchange","afterVolumechange","afterTimeupdate","play","timeupdate","afterPlay","afterPause","afterEnded","afterRatechange","togglePinP"].forEach((function(t){return i[t]=e[t]}));var l=function(t){e.player.on(t,(function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i[t].apply(i,a.concat([e.player]))}))};for(var s in i)l(s);var c=this.props.next;this.updateNext(c),n.g.ggconfig.p2pvideo&&this.props.autoplay&&this.player.play()}},{key:"componentWillReceiveProps",value:function(e){var t=e.next,n=e.poster,a=e.src,i=e.title,r=e.width,o=e.height,l=this.props,s=l.title,c=(l.next,l.poster),u=l.src,d=l.width,f=l.height;if(n!==c||a!==u){var h=L({src:a,poster:n}),p=this.player;delete this.beforeTime,p.poster=h.poster,p.load({src:h.src}).then((function(){return p.play()}))}else d===r&&f===o||(this.player.width=r,this.player.height=o);s!==i&&thi.updateNext(t)}},{key:"componentWillUnmount",value:function(){var e=this;Array.isArray(n.g.players)&&(n.g.players=n.g.players.filter((function(t){return t!==e.player}))),this.player&&this.player.$emit("destroy"),this.$video&&this.$video.removeEventListener("error",this.e",value:function(e){var t=this.props,n=t.width,a=t.height,i=e.width,r=e.height;return i!==n||r!==a}},{key:"updateNext",value:function(e){this.player.$emit("next",e)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;return(0,T.jsx)("div",{ref:this.getDOM,id:this.DOM_ID,style:{width:t,height:n}})}}]),a}(p.default.PureComponent),(0,h.default)(r,"propTypes",{src:v.default.string.isRequired,poster:v.default.string.isRequired,width:v.default.number.isRequired,height:v.default.number.isRequired,muted:v.default.bool,controls:v.default.bool,autoplay:v.default.bool,autoPictureInPicture:v.default.bool,gnid:v.default.string.isRequired}),(0,h.default)(r,"defaultProps",{muted:!1,autoplay:!0,controls:!0,autoPictureInPicture:!1}),i=r))||i;t.default=D},47252:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(18698)),r=a(n(93634));n(64676);var o={errorTips:"加载失败，请刷新重试"},l=(0,r.default)({name:"chimeeCenterState",tagName:"chimee-center-state",html:"\n    <chimee-center-state-correct>\n      <chimee-center-state-loading></chimee-center-state-loading>\n      <chimee-center-state-tip>\n        <span></span>\n      </chimee-center-state-tip>\n    </chimee-center-state-correct>\n    <chimee-center-state-error></chimee-center-state-error>\n  ",offset:"50%",hide:!1,autoFocus:!1,create:function(){},inited:function(){var  in tthis.config=e},penetrate:!0,operable:!1,destroy:function(){this.clearTimeout()},events:{pause:function(){this.showTi.showTip("play")},canplay:function(){this.playing()},playing:function(){this.playing()},waiting:function(){this.waiting()},timeupdate:function(){this.showLoading(!1),this.clearTimeout()},keydown:function(e){if(this.$videoConfig.plugin.some((function(e){return"controlbar"===(e.name||e)})))switch(e.stopPropagation(),e.keyCode){case 37:case 39:case 38:case 40:e.preventDefault()}}},methods:{playing:function(){this.clearTimeout(),this.showLoading(!{:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this._timeout&&(clearTimeout(this._tim(e){var t=this;this.$domWrap.removeClass("correct tward volume-high volume-low").addClass("correct tip "+e),setTimeout((function(){t.$domWrap.removeClass("tip "+e)}),500)},showLoading:function(e){return!1},showError:function(e){return!1}}}),s=l;t.default=s},36982:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.cls=void 0,t.compose=r,t.mixin=void 0;var i=a(n(861));function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++ e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];for(var i=0;i<t.length;i++)"function"==typeof t[i]&&t[i].apply(this,n)}}t.cls=function(e){return".chimee-controlbar__"+e};t.mixin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a={data:{},methods:{},events:{}},o=[],l=0;l<t.length;l++){var s=t[l];if(s.hasOwnProperty("data"))for(var c in s.data)a.data[c]=s.data[c];if(s.hasOwnProperty("methods"))for(var u in s.methods)a.methods[u]=s.methods[u];if(s.hasOwnProperty("events"))for(var d in s.events)o.push(d)}return["beforeCreate","create","init","inited","destrply(voin(t){return t[e]}))))})),o.forEach((function(e){return a.events[e]=r.apply(void 0,(0,i.default)(t.filter((function(t){return t.events&&t.events[e]})).map((function(t){return t.events[e]}))))})),a}},3457:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(861)),r=a(n(38416)),o=;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n(17710);var b=[{name:"floatComment",str:'\n      <li class="chimee-controlbar__floatcomment">\n        <span>浮评　</span>\n        <div class="chimee-controlbar__switch">\n          <div class="chimee-controlbar__switch__track"></div>\n          <div class="chimee-controlbar__switch__circle"></div>\n        </div>\n      </li>\n    ',plugin:_.default},{name:"autoNext",str:'\n      <li class="chimee-controlbar__autonext">\n        <span>自动播放　</span>\n        <div class="chimee-controlbar__switch">\n          <div class="chimee-controlbar__switch__track"></div>\n          <div class="chimee-controlbar__switch__circle"></div>\n        </div>\n      </li>\n    '},{name:"pinp",str:'\n      <li class="chimee-controlbar__pinp">\n        <span>小窗口播放</span>\n        <div class="chimee-controlbar__switch">\n          <div class="chimee-controlbar__switch__track"></div>\n          <])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:"controlbar",inner:!0,autoFocus:!1,el:'<div class="chimee-controlbar">\n        <div class="chimee-controlbar__title">\n          <p class="chimee-controlbar__title-back"></p>\n          <p class="chimee-controlbar__title-ctn"></p>\n        </div>\n        <div class="chimee-controlbar__pinp-close">\n          <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <g fill="none" fill-rule="evenodd">\n              <circle fill="rgba(0,0,0,0.5)" cx="12" cy="12" r="12"/>\n              <path d="M7.744 7.753l8.507 8.497m0-8.497L7.744 16.25" stroke="#FFF" stroke-width="1.5" opacity=".8" stroke-linecap="round" stroke-linejoin="round"/>\n            </g>\n          </svg>\n        </div>\n        <div class="chimee-controlbar__progress">\n          <div class="chimee-controlbar__progress__buff"></div>\n          <div class="chimee-controlbar__progress__play"></div>\n          <div class="chimee-controlbar__progress__point">\n            <div class="chimee-controlbar__progress__point__text"></div>\n            <div class="chimee-controlbar__progress__point__circle"></div>\n          </div>\n        </div>\n        <div class="chimee-controlbar__groups">\n          <div class="chimee-controlbar__float--left">\n            <div class="chimee-controlbar__button chimee-controlbar__play--state">\n              <div class="chimee-controlbar__play">\n                <svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <path d="M15.1797235,10.5406093 L3.53083201,17.8370951 C3.06278334,18.1302655 2.44569335,17.9884987 2.15252293,17.52045 C2.05285722,17.361333 2,17.1773718 2,16.989618 L2,1.01859462 C2,0.466309874 2.44771525,0.018594624 3,0.018594624 C3.18821633,0.018594624 3.3726117,0.0717124216 3.53198464,0.171840618 L15.1817983,7.49099332 C16.023567,8.01984592 16.2772357,9.13095409 15.7483831,9.97272288 C15.6040504,10.2024557 15.4096525,10.3965893 15.1797235,10.5406093 Z"></path>\n                </svg>\n                <div class="chimee-controlbar__play__tip">播放</div>\n              </div>\n              <div class="chimee-controlbar__pause">\n                <svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <g id="pause">\n                    <path d="M14.5,0 L14.5,0 C15.3284271,-1.52179594e-16 16,0.671572875 16,1.5 L16,16.5 C16,17.3284271 15.3284271,18 14.5,18 L14.5,18 C13.6715729,18 13,17.3284271 13,16.5 L13,1.5 C13,0.671572875 13.6715729,1.52179594e-16 14.5,0 Z"></path>\n                    <path d="M3.5,0 L3.5,0 C4.32842712,-1.52179594e-16 5,0.671572875 5,1.5 L5,16.5 C5,17.3284271 4.32842712,18 3.5,18 L3.5,18 C2.67157288,18 2,17.3284271 2,16.5 L2,1.5 C2,0.671572875 2.67157288,1.52179594e-16 3.5,0 Z"></path>\n                  </g>\n                </svg>\n                <div class="chimee-controlbar__pause__tip">暂停</div>\n              </div>\n            </div>\n\n            <div class="chimee-controlbar__button chimee-controlbar__play--next">\n              <div class="chimee-controlbar__play--next_button">\n                <svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <g id="next">\n                    <path d="M11.3533375,10.1853738 L1.5320776,16.3572169 C1.06446053,16.6510753 0.447162748,16.510216 0.153304405,16.042599 C0.0531388518,15.8832054 -8.30216278e-14,15.698775 -8.30446822e-14,15.5105214 L-8.23785484e-14,2.48947865 C-8.24461838e-14,1.9371939 0.44771525,1.48947865 1,1.48947865 C1.18825366,1.48947865 1.37268406,1.5426175 1.5320776,1.64278305 L11.3533375,7.81462617 C12.0080014,8.22602785 12.2052044,9.09024475 11.7938027,9.74490864 C11.6819217,9.92294502 11.5313739,10.0734928 11.3533375,10.1853738 Z"></path>\n                    <path d="M16.5,0 L16.5,0 C17.3284271,-1.52179594e-16 18,0.671572875 18,1.5 L18,16.5 C18,17.3284271 17.3284271,18 16.5,18 L16.5,18 C15.6715729,18 15,17.3284271 15,16.5 L15,1.5 C15,0.671572875 15.6715729,1.52179594e-16 16.5,0 Z"></path>\n                  </g>\n                </svg>\n              </div>\n              <div class="chimee-controlbar__play--next__tip__container">\n                <div class="chimee-controlbar__play--next__tip clearfix">\n                  <div class="chimee-controlbar__play--next__tip__poster float--left">\n                  \n                  </div>\n                  <div class="chimee-controlbar__play--next__tip__text clearfix">\n                    <span>下一个</span>\n                    <p></p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class="chimee-controlbar__play--time">\n              <span class="chimee-controlbar__play--time__passed">00:00</span><span class="chimee-controlbar__play--time__spliter">/</span><span class="chimee-controlbar__play--time__total">00:00</span>\n            </div>\n          </div>\n          <div class="chimee-controlbar__float--right">\n            \x3c!--<div class="chimee-controlbar__autonext active">\n              <div class="chimee-controlbar__autonext__icon"></div>\n              <span>自动播放</span>\n            </div>--\x3e\n\n            <div class="chimee-controlbar__playback-rate">\n              <div class="chimee-controlbar__playback-rate__list__container">\n                <ul class="chimee-controlbar__playback-rate__list">\n                  <li data-value="0.5">0.5x</li>\n                  <li data-value="1">1.0x</li>\n                  <li data-value="1.25">1.25x</li>\n                  <li data-value="1.5">1.5x</li>\n                  <li data-value="2">2x</li>\n                </ul>\n              </div>\n              <div class="chimee-controlbar__playback-rate__text">倍速</div>\n            </div>\n\n            <div class="chimee-controlbar__volume">\n              <div class="chimee-controlbar__volume__progress__container">\n                <div class="chimee-controlbar__volume__progress">\n                  <div class="chimee-controlbar__volume__progress__track">\n                    <div class="chimee-controlbar__volume__progress__track__volume"></div>\n                    <div class="chimee-controlbar__volume__progress__point"></div>\n                  </div>\n                </div>\n              </div>\n              <div class="chimee-controlbar__button chimee-controlbar__volume__button">\n                <div class="chimee-controlbar__volume__button__normal">\n                  <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                      <path stroke="#FFF" stroke-width="2" stroke-linejoin="round" d="M1 13h4l6 4V1L5 5H1z"/>\n                      <path d="M14.904 13.995A6.979 6.979 0 0 0 17 9a6.977 6.977 0 0 0-2.002-4.901" stroke="#FFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                    </g>\n                  </svg>\n                </div>\n                <div class="chimee-controlbar__volume__button__mute">\n                  <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                      <path d="M12 13.828V17a1 1 0 0 1-1.555.832L4.697 14H1a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h1.172l2 2H2v6h3a1 1 0 0 1 .555.168L10 15.13v-3.303l2 2zm0-5.656l-2-2V2.869l-1.982 1.32-1.442-1.441 3.87-2.58A1 1 0 0 1 12 1v7.172zm3.416 3.415C15.796 10.793 16 9.913 16 9a5.976 5.976 0 0 0-1.716-4.201 1 1 0 1 1 1.428-1.4A7.976 7.976 0 0 1 18 9a7.975 7.975 0 0 1-1.108 4.064l-1.476-1.477zM1.293 1.707A1 1 0 1 1 2.707.293l15 15a1 1 0 0 1-1.414 1.414l-15-15z" fill="#FFF" fill-rule="nonzero"/>\n                    </g>\n                  </svg>\n                </div>\n              </div>\n            </div>\n\n            <div class="chimee-controlbar__setting">\n              <div class="chimee-controlbar__setting__list__container chimee-controlbar__setting__list__container--'.concat(b.length,'">\n                <ul class="chimee-controlbar__setting__list">\n                  ').concat(b.map((function(e){return e.str})).join(""),'\n                </ul>\n              </div>\n              <div class="chimee-controlbar__button  chimee-controlbar__setting__button">\n                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                  <g fill="none" fill-rule="evenodd">\n                    <path opacity=".2" d="M0 0h18v18H0z"/>\n                    <path d="M9.62 0a.5.5 0 0 1 .482.366l.2.72a7.958 7.958 0 0 1 3.36 1.405l.664-.375a.5.5 0 0 1 .6.082l.876.876a.5.5 0 0 1 .082.6l-.38.675a7.957 7.957 0 0 1 1.37 3.338l.76.211A.5.5 0 0 1 18 8.38v1.24a.5.5 0 0 1-.366.482l-.768.214a7.958 7.958 0 0 1-1.377 3.31l.395.7a.5.5 0 0 1-.082.6l-.876.876a.5.5 0 0 1-.6.082l-.7-.395a7.958 7.958 0 0 1-3.31 1.377l-.214.768A.5.5 0 0 1 9.62 18H8.38a.5.5 0 0 1-.482-.366l-.21-.76a7.957 7.957 0 0 1-3.34-1.37l-.674.38a.5.5 0 0 1-.6-.082l-.876-.876a.5.5 0 0 1-.082-.6l.375-.665a7.958 7.958 0 0 1-1.405-3.36l-.72-.2A.5.5 0 0 1 0 9.62V8.38a.5.5 0 0 1 .366-.482L1.08 7.7c.2-1.25.69-2.402 1.398-3.387l-.361-.639a.5.5 0 0 1 .082-.6l.876-.876a.5.5 0 0 1 .6-.082l.639.361A7.957 7.957 0 0 1 7.7 1.079l.198-.713A.5.5 0 0 1 8.38 0h1.24zm-.643 2.977a6 6 0 1 0 0 12 6 6 0 0 0 0-12zM9 11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="#FFF"/>\n                  </g>\n                </svg>\n              </div>\n            </div>\n\n            <div class="chimee-controlbar__fullscreen chimee-controlbar__button">\n              <div class="chimee-controlbar__fullscreen__button">\n                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                  <g fill-rule="nonzero" stroke="#FFF" stroke-linecap="round" stroke-width="2">\n                    <path d="M5 1H1v4M2 2l4 4"/>\n                    <path d="M13 17h4v-4M16 16l-4-4"/>\n                  </g>\n                </svg>\n                <div class="chimee-controlbar__fullscreen__tip">全屏</div>\n              </div>\n              <div class="chimee-controlbar__unfullscreen__button">\n                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                  <g fill-rule="nonzero" stroke="#FFF" stroke-linecap="round" stroke-width="2">\n                    <path d="M16 12h-4v4M13 13l4 4"/>\n                    <path d="M2 6h4V2M5 5L1 1"/>\n                  </g>  \n                </svg>\n                <div class="chimee-controlbar__unfullscreen__tip">退出全屏</div>\n              </div>\n   div>\n        </div>\n</div>')},g.mixin.apply(void 0,[o.default,l.default,s.default,c.default,u.default,d.default,f.default,p.default,h.default,v.default].concat((0,i.default)(b.filter((function(e){return e.plugin})).map((function(e){return e.plugin}))))));t.default=x},89078:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(11)),r=n(36982),o=a(n(89068)),l=n(24301),s=a(n(92614)),c=a(n(7091)),u="FLOAT_COMMENT_TRIGGER_SESSION_KEY";function d(){var e=c.default.getItem(u,"session");return void 0!==e?e:!!(0,i.default)().video_player_floatcomment}function f(e){c.default.setItem(u,e,null,"session")}var h={create:function(){var e=this;this.$dom.querySelector((0,r.cls)("floatcomment")+" "+(0,r.cls)("switch")).addEventListener("click",this.toggleFloatcommentButton.bind(this)),this.onChange(),o.default.on(l.floatCommentEventName,(function(t){t.type;f(t.payload),e.toggleFloatcommentStyle()}))},methods:{onChange:function(){"function"==typeof this.$config.onFloatcommentChange&&this.$config.onFloatcommentChange(d())},toggleFloatcommentButton:function(){var e=!d();f(e),this.toggleFloatcommentStyle(),this.onChange(),(0,s.default)(s.default.CLICK,{act:"click",tj_cmode:"pclook",func:"float_comment_".concat(e?"open":"close")})},toggleFloatcommentStyle:function(){var e=this.$dom.querySelector((0,r.cls)("floatcomment")+" "+(0,r.cls)("switch"));$(e)[d()?"addClass":"removeClass"]("open")}}};t.default=h},76105:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(36982),i={data:{$fullscreenBtn:null,$unfullscreenBtn:null},create:function(){this.$fullscreenBtn=this.$dom.querySelector((0,a.cls)("fullscreen__button")),this.$unfullscreenBtn=this.$dom.querySelector((0,a.cls)("unfullscreen__button")),this.$fullscreenBtn.addEventListener("click",this.toggleFullscreen),this.$unfullscreenBtn.addEventListener("click",this.toggleFullscreen),this.$on("fullscreenchange",this.updateFullScreenState),this.updateFullScreenState()},methods:{updateFullScreenState:function(){this.$fullscreenBtn.style.display=this.isFullscreen?"none":"block",this.$unfullscreenBtn.style.display=this.isFullscreen?"block":"none"},toggleFullscreen:function(){this.$fullscreen(!this.isFullscreen,"container")}}};t.default=i},40934:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={events:{keydown:function(e){switch(e.stopPropagation(),e.keyCode){case 32:e.preventDefault(),this.paused?this.play():this.pause();break;case 37:e.preventDefault();var t=this.currentTime-10;this.currentTime=t<0?0:t;break;case 39:e.preventDefault();var n=this.currentTime+10;this.currentTime=n>this.duration?this.duration:n;break;case 38:e.preventDefault();var a=this.volume+.1;this.volume=a>1?1:a;break;case 40:e.preventDefault()i}},click:function(){var e=this;if(!$(this.$video.parentNode).hasClass("player-pinp--fixed")){var t=new Date,n=this.clickTime;this.clickTime=t,t-n<300?clearTimeout(this.clickTimeId):this.clickTimeId=setTimeout((function(){e.paused?e.play():e.pause()}),300)}},dblclick:function(){$(this.$video.parentNode).hasClass("plsFullscreen,"container")}}};t.default=n},43256:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:{end:!1},create:function(){this._hideItself()},methods:{_showItself:function(){this.$dom.style.display="block"},isMouseInControllbar:function(e){var t=e.clientX,n=e.clientY;if(!t||!n)return!1;var a=this.$dom.getBoundingClientRecf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}his.isMouseInControllbar(e))return!1;this.$dom.sty_showItself()n(){e._hideIthis._showItself()},ended:function(){this.end=!0,this._showItself(),this.$bumpToTop()},c_mouseenter:function(e){var t=this;this._showItself(),this.autoHideId=setTimeout((function(){t._hideItself(e)}),5e3)},c_mouseleave:function(e){this._hideItself(e)},c_mousemove:function(e){var t=this;thiss.autoHideId),this._showItself(),this.autoHideId=setTimeout((function(){t._hideItself(e)}),5e3)},c_click:function(e){var t=this;this.autoHideId&&clearTimeout(this.autoHideId),this._showItself(),this.autoHideId=setTimeout((function(){t._hideItself(e)}),5e3)}}};t.default=n},86438:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(96137)),r=n(36982),o={create:function(){var e=this,t=this.$dom.querySelector((0,r.cls)("play--next_button"r((0,r.cls)("play--next__tip"));this.$on("next",(function(n){if(n){var a=n.title,o=n.poster,l=n.onClick,s=!a||!o||!l,c=e.$dom.querySelector((0,r.cls)("play--next"));if(c.style.display=s?"none":"block",l&&(t.parentNode.onclick=function(){l("toolbar")}),!s){var u=document.createElement("img");try{u.src=(0,i.default)(o).toString()}catch(e){u.src=o}var d=c.querySelector((0,r.cls)("play--next__tip__poster")),f=c.querySelector((0,r.cls)("play--next__tip__text p"));d.innerHTML="",d.appendChild(u),f.innerHTML=a}}}),{deep:!0})}};t.default=o},26974:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(11)),r=n(36982),o=new Map,l=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.boundingClientRect,n=e.intersectionRatio,a=e.target,i=t.width;if(i!==t.height||0!==i){var r=a.prevIntersectionRatio;if(a.prevIntersectionRatio=n,!(1===n&&0===r)){var l=o.get(a);"function"==typeof l&&l(e)}}}))})),s={data:{pinp:{env:!(0,i.default)().video_player_disable_pinp,manu:!0,scroll:!1}},create:function(){var e=this,t=this.$video.parentNode,n=t.parentNode;l.observe(n),o.set(n,this.checkPinP.bind(this));var a={switch:!1,x:0,y:0,top:0,left:0};t.addEventListener("mousedown",(function(e){e.preventDefault();var n=t.getBoundingClientRect(),i=n.top,r=n.left;a={switch:!0,x:e.pageX,y:e.pageY,top:i,left:r}})),window.addEventListener("mouseup",(function(e){a={switch:!1,x:0,y:0,top:0,left:0}})),window.addEventListener("mousemove",(function(e){var n=$(t);if(a.switch&&n.hasClass("player-pinp--fixed")){var i={left:a.left+e.pageX-a.x,top:a.top+e.pageY-a.y},r=document.querySelector(".middlebar"),o=r?r.getBoundingClientRect().right:0,l=Math.min(window.innerWidth-n.width(),Math.max(o,i.left)),s=Math.min(window.innerHeight-n.height(),Math.max(0,i.top));n.css({left:l+"px",top:s+"px"})}})),this.$dom.querySelector((0,r.cls)("pinp-close")).addEventListener("click",this.closePinP.bind(this)),this.$dom.querySelector((0,r.cls)("pinp")+" "+(0,r.cls)("switch")).addEveton.bind(this)),this.$on("pinp",this.updatePinP),this.$on("fullscreenchange",this.fullscreenChange),this.bindBack2MainContainerEvent(),this.renderTitle(this.$videoConfig&&this.$videoConfig.title),this.$on("title",(function(t){return e.renderTitle(t)}))},methods:{renderTitle:function(e){"string"==typeof e&&$(this.$dom).find(".chimee-controlbar__title-ctn").text(e)},bindBack2MainContainerEvent:function(){var e=$(this.$dom).find(".chimee-controlbar__title-back");e.on("click",(function(){var t=e;do{t=t.parent()}while(t.length&&!t.hasClass("content__player"));t[0]&&t[0].scrollIntoView({behavior:"smooth",block:"center"})}))},checkPinP:function(e){var t=!e.isIntersecting;this.$video.parentNode&&(t?this.pinp.scroll=!this.paused:this.pinp.manu=!0,this.pinp.scroll=!this.paused&&t,this.togglePinPStyle())},togglePinPStyle:function(){var e,t=this.$video.parentNode,n=$(t).hasClass("player-pinp--fixed"),a=Boolean(this.pinp.env&&this.pinp.manu&&this.pinp.scroll);n!==a&&($(t)[a?"addClass":"removeClass"]("player-pinp--fixed"),a||$(t).css({left:"auto",top:"auto"}),e=!1===this.pinp.manu?"close":a?"display":"disappear",this.$emit("togglePinP",e))np")+" "+(0,r.cls)("switch"));$(i)[this.pinp.env?"addClass":"removeClass"]("open")},togglePinPButton:function(){var e=!this.pinp.env;this.updatePinP({env:e}),Array.isArray(n.g.players)&&n.g.players.forEach((function(t){return t.$emf this.$config.onPinPChange&&this.$config.onPinPChange(e)},updatePinP:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.pinp[t]=e[t];this.togglePinPStyle()},closePinP:function(){this.updatePinP({manu:!1})},fullscreenChange:function(){var e=$(this.$video.parentNode),t=Boolean(this.pinp.env&&this.pinp.manu&&this.pinp.scroll);this.isFullscreen?e.removeClass("player-pinp--fixed"):t&&e.addClass("player-pinp--fixed")}}};t.default=s},78955:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(36982),i={data:{$playBtn:void 0,$pauseBtn:void 0},create:function(){var e=this;this.$playBtn=this.$dom.querySelector((0,a.cls)("play")),this.$pauseBtn=this.$dom.querySelector((0,a.cls)("pause")),this.$playBtn.addEventListener("click",(function(){e.$emit("play"),e.$playBtn.style.display="none",e.$pauseBtn.style.display="block"})),this.$pauseBtn.addEventListener("click",(function(){e.$emit("pause"),e.$playBtn.shis.$playBtn.style.display="block",this.$pauseBtn.style.display="none"},play:function(){this.$playBtn.style.display="none",this.$pauseBtn.style.display="block"},pause:function(){this.$playBtn.style.display="block",this.$pauseBtn.style.display="none"}}};t.default=i},58435:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(36982),i=1,r={create:function(){var eSelect(),1!==e.playbackRate&&e.updateRateText()}),400);var t=this.$dom.querySelectorAll((0,a.cls)("playback-rate__list li"));[].slice.call(t).forEach(this.bindRateEvent),this.$on("ratechange",(function(){this.updateRateSelect(),this.updateRateText()}))},methods:{bindRateEvent:function(e){var t=this;e.addEventListener("click",(function(){e.className.indexOf("active")>-1||(t.playbackRate=e.getAttribute("data-value"),i=t.playbackRate,t.updateRateSelect(),t.updateRateText(),Array.isArray(n.g.players)&&n.g.players.forEach((function(e){return e.playbackRate=i})))}))},updateRateSelect:function(){var e=this.playbackRate,t=this.$dom.querySelector((0,a.cls)("playback-rate__list li.active")),n=this.$dom.querySelector((0,a.cls)('playback-rate__list li[data-value="'.concat(e,'"]')));n||(n=this.$dom.querySelector((0,a.cls)('playback-rate__list li[data-value="1"]'))),t&&(t.className=""),n.className="actithis.$dom.querySelector((0,a.cls)('playback-rate__list li[data-value="'.concat(e,'"]')));t&&(this.$dom.querySelector((0,a.cls)("playback-rate__text")).innerText=t.innerText)}},events:{afterPlay:function(){this.playbackRate!==i&&(this.playbackRate=i)}}};t.default=r},99392:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(50425)),r=n(36982),o={data:{startX:0,startTime:0,_currentTime:void 0},methods:{mousedown:function(e){var t=this.$dom.querySelector((0,r.cls)("progress__point__text"));if(e.target!==t)if(isNaN(this.duration))console.error("isNaN(duration) === true");else{var n=this.$dom.querySelector((0,r.cls)("progress"));this._currentTime=(e.pageX-n.getBoundingClientRect().left)/n.offsetWidth*this.duration,this.startX=e.clientX,this.startTime=this._currentTime,n.className+=" active",window.addEventListener("mousemove",this.draging),window.addEventListener("mouseup",this.dragEnd),window.addEventListener("contextmenu",this.dragEnd)}},draging:function(e){var t=e.clientX,n=this.$dom.querySelector((0,r.cls)("progress")),a=(t-this.startX)/n.offsetWidth*this.duration,i=+(this.startTime+a).toFixed(2);this._currentTime=Math.min(this.duration,Math.max(0,i)),this.update()},dragEnd:function(){this.update(),this.startX=0,this.startTime=0,this.currentTime=this._currentTime,this._currentTime=void 0;var e=this.$dom.querySelector((0,r.cls)("progress"));e.className=e.className.replace(" active",""),window.removeEventListener("mousemove",this.draging),window.removeEventListener("mouseup",this.dragEnd),window.removeEventListener("contextmenu",this.dragEnd)},update:function(){var e=this._currentTime||this.currentTime,t=e?e/this.duration:0,n=this.$dom.querySelector((0,r.cls)("progress__play")),a=this.$dom.querySelector((0,r.cls)("progress__point")),o=this.$dom.querySelector((0,r.cls)("progress__point__text")),l=100*t+"%";n.style.width=l,a.style.left=l,o&&(o.innerText=(0,i.default)(e))}},create:function(){this.$dom.querySelector((0,r.cls)("progress")).addEventListener("mousedown",this.mousedown)},events:{progress:function(){try{if(0!==this.buffered.length){var e=this.buffered.end(0),t=this.duration,n=this.$dom.querySelector((0,r.cls)("progress__buff")),a=e/t*100+"%";n.style.width=a}}catch(e){console.log(e)}},timeupdate:function(){this.update()}}};t.default=o},25347:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(36982),i={data:{$autonextBtn:null},create:function(){this.$autonextBtn=this.$dom.querySelector((0,a.cls)("autonext")+" "+(0,a.cls)("switch")),this.$autonextBtn.addEventListener("click",this.bindAutoNext),this.$on("autonext",this.updateAutonextState),this.updateAutonextState(this.$config.autonee){$(this.$autonextBtn)[e?"addClass":"removeClass"]("open")},bindAutoNext:function(e){e.stopPropagation();var t=this.$autonextBtn.className.indexOf("open")>-1;Array.isArray(n.g.players)&&n.g.players.forEach((function(e){return e.$emit("autonext",!t)})),"function"==typeof this.$config.onAutoNextChange&&this.$config.onAutoNextChange(!t)}}};t.default=i},8244:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(50425)),r=n(36982),o={methods:{updateTime:function(){var e=this.$dom.querySelector((0,r.cls)("play--time__passed")),t=this.$dom.querySelector((0,r.cls)("play--time__total")),n=(0,i.default)(this.duration);t&&n&&t.innerText!==n&&(t.innerText=n),e&&(e.innerText=(0,i.default)(this.currentTime))}},events:{load:function(){this.updateTime()},timeupdate:function(){this.updateTime()}}};t.default=o},73644:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(36982),r=a(n(7091)),o="__PLAYER__VOLUME__",l="__PLAYER__MUTED__",s=r.default.getItem(o),c=r.default.getItem(l),u={data:{startY:0},methods:{volumeMousedown:function(e){this.startY=e.cliente+=" active",window.addEventListener("mousemove",this.volumeDraging),window.addEventListener("mouseup",this.volumeDragEnd),window.addEventListener("contextmenu",this.volumeDragEnd)},volumeDraging:function(e){this.startY=e.clientY,this.updateVolume()},volumeDragEnd:function(){vis.$dom.querySelector((0,i.cls)("volume__progress__track")).getBoundingClientRect(),a=t.bottom,r=t.height,o=(a-this.startY)/r;this.volume=Math.max(0,Math.min(1,o)),Array.isArray(n.g.players)&&n.g.players.forEach((function(t){return t.volume=e.volume})),this.startY=0;var l=this.$dom.querySelector((0,i.cls)("volume"));l.className=l.className.replace(" active",""),window.removeEventListener("mousemove",this.volumeDraging),window.removeEventListener("mouseup",this.volumeDragEnd),window.removeEventListener("contextmenu",this.volumeDragEnd)},updateVolume:function(){var e=this.$dom.querySelector((0,i.cls)("volume__progress__track")).getBoundingClientRect(),t=e.bottom,n=e.height,a=this.volume;this.startY&&(a=Math.max(0,Math.min(1,(t-this.startY)/n)));var r=100*a+"%",o=this.$dom.querySelector((0,i.cls)("volume__progress__track__volume")),l=this.$dom.querySelector((0,i.cls)("volume__progress__point"));o.style.height=r,l.style.bottom=r}},create:function(){var e=this;this.$dom.querySelector((0,i.cls)("volume__progress__track")).addEventListener("mousedown",this.volumeMousedown);var t=this.$dom.querySelector((0,i.cls)("voldom.querySelector((0,i.cls)("volume__button__mute"));t.style.display=c?"none":"block",a.style.display=c?ener("click",(function(){e.volume=0,Array.isArray(n.g.players)&&n.g.players.forEach((function(e){return e.volume=0}))})),a.addEventListener("click",(function(){e.volume=s,Array.isArray(n.g.players)&&n.g.players.forEach((function(e){return e.volume=s}))})),c?this.volume=0:s?this.volume=s:(s=this.volume,r.default.setItem(o,s)),this.updateVolume(),this.$on("volumechange",(function(){e.updateVolume();var t=0===e.volume;t||(s=e.volume,r.default.setItem(o,s)),c=t,r.default.setItem(l,c);var n=e.$dom.querySelector((0,i.cls)("volume__button__normal")),a=e.$dom.querySelector((0,i.cls)("volume__button__mute"));n.style.display=t?"none":"block",a.style.display=t?"block":"normal"}))}};t.default=u},22699:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(56690)),r=a(n(89728)),o=a(n(66115)),l=a(n(61655)),s=a(n(94993)),c=a(n(73808)),u=a(n(38416)),d=a(n(7854)),f=a(n(7596)),h=a(n(92614)),p=a(n(75221)),v=n(85893);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var _=function(e){(0,l.default)(n,e);var t=m(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];e=t.call.apply(t,[this].concat(r)),(0,u.default)((0,o.default)(e),"state",e.getInitialState()),(0,u.default)onClick;e.intervalId&&clearInterval(e.intervalId),"functctx;return s.$on("destroy",(funcervalId)})),s.$on("popupClose",(function(){e.intervalId&&clearInterval(e.intervalId)})),e}return(0,r.default)(n,[{key:"getInitialState",value:function(){return{d:this.genArc(0)}}},{key:"componentDidMount",value:function(){this.autoEffect(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.auto!==e.auto&&(this.setState(this.getInitialState()),this.autoEffect(e))}},{key:"genArc",value:function(e){return t={cx:32,cy:32,r:30},n=e,a=-360*(n=Math.min(.9999,Math.max(1e-4,n))),i={x:t.cx,y:t.cy-t.r},r={x:t.cx-t.r*Math.sin(a/180*Math.PI),y:t.cy-t.r*Math.cos(a/180*Math.PI)},o=Number(Math.abs(a)>180),"M ".concat(i.x,",").concat(i.y," A ").concat(t.r," ").concat(t.r," 0 ").concat(o," 1 ").concat(r.x,",").concat(r.y);var t,n,a,i,r,o}},{key:"autoEffect",value:function(e){var t=this,n=e.auto,a=e.maxTime,i=e.var r=Date.now();this.intervalId=setInterval((function(){var e=(Date.now()-r)/a;t.setState({d:t.genArc(e)}),e>=1&&(clearInterval(t.intervalId),i&&i())}))}}},{key:"componentWillUnMount",value:function(){this.intervalId&&clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.state.d,t=this.props.auto;return(0,v.jsxs)("svg",{width:"64px",height:"64px",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",onClick:this.onClick,children:[(0,v.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(2, 2)",children:[(0,v.jsx)("circle",{fill:"#000000",opacity:"0.5",cx:"30",cy:"30",r:"30"}),(0,v.jsx)("path",{opacity:"0.95",transform:"translate(19, 19)",fill:"#FFFFFF",d:"M13.8252045,12.4307384 L1.89261998,20.2584512 C1.32820928,20.6287017 0.570516707,20.4713037 0.20026625,19.906893 C0.0696080582,19.7077173 -8.72343578e-14,19.4747021 -8.72635297e-14,19.2364953 L-8.74855743e-14,2.76350475 C-8.75682398e-14,2.08849005 0.547207528,1.54128253 1.22222222,1.54128253 C1.46042908,1.54128253 1.69344431,1.61089058 1.89261998,1.74154877 L13.8252045,9.56926164 C14.6153795,10.0876123 14.8357367,11.1483819 14.317386,11.9385569 C14.1887792,12.1346055 14.0212532,12.3021315 13.8252045,12.4307384 ZM20.5,0 L20.5,0 C21.3284271,-1.52179594e-16 22,0.671572875 22,1.5 L22,20.5 C22,21.3284271 21.3284271,22 20.5,22 L20.5,22 C19.6715729,22 19,21.3284271 19,20.5 L19,1.5 C19,0.671572875 19.6715729,1.52179594e-16 20.5,0 Z"})]}),t?(0,v.jsx)("path",{fill:"none",stroke:"#E94844",strokeWidth:"4",d:e}):null]})}}]),n}(d.default.Component),y=function(e){(0,l.default)(a,e);var t=m(a);function a(){var e;(0,i.default)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];e=t.call.apply(t,[this].concat(l)),(0,u.default)((0,o.default)()),(0,u.default)((0,o.default)(e),"onClick",(function(){(0,e.state.next.onClick)("player_window"),e.close()})),(0,u.default)((0,o.default)(e),"onEnd",(function(){var t=e.props.ctx;!(window.players&&window.players.filter((function(e){return!e.paused})).length)&&t.$emit("ended",p.default.name),e.close()})),(0,u.defaxt){var t=e.state.next,n=t.title,a=t.poster;if(!n||!a)return null;e.props.ctx.open();var i={show:!0,autonext:e.getInitialState().autonext};e.setState(i)}})),(0,u.default)((0,o.default)(e),"close",(function(){e.props.ctx.close(),e.setState({show:!1})})),(0,u.default)((0,o.default)(e),"cancelCountDown",(function(){var t=e.props.ctx;et)(h.default.CLICK,{act:"click",func:"cancel_countdown",where:n.g.whoami,gnid:t.$config.gnid})})),e.props.ctx=e.props.ctx;var c=e.props.ctx;return c.$on("play",(function(){ection(){e.state.show&&e.close()})),c.$on("ended",(function(t){return t===p.default.name||(e.open(),!1)})),c.$on("destroy",e.close),c.$on("next",(function(t){return e.setState({next:t})})),c.$on("autonext",(function(t){return e.setState({autonext:t})})),c.$on("fullscreenchange",(function(){if(!c.isFullscreen){var t=e.getInitialState().style;return e.setState({style:t})}var n={marginTop:(c.$video.getBoundingClientRect().height-235)/2};e.setState({style:n})})),e}return(0,r.default)(a,[{key:"getInitialState",value:function(){return{show:!1,autonext:!1!==n.g.ggconfig.videodetail_autonextbtn,next:{title:"",poster:"",onClick:function(){}},style:{marginTop:5===window.ggconfig.videodetail_version?55:85}}}},{key:"render",value:function(){var e=this;if(!this.state.next)return null;var t=this.state,n=t.next,a=n.title,i=n.poster,r=t.autonext,o=t.show;if(!a||!i||!o)return null;var l=this.props.ctx.$config.time;return l<1e3&&(l*=1e3),(0,v.jsxs)("div",{className:"cc-playafter-countdown__wrapper",style:this.state.style,children:[(0,v.jsx)("span",{children:"接下来播放"}),(0,v.jsxs)("div",{className:"cc-playafter-countdown__body",children:[(0,v.jsx)("div",{className:"cc-playafter-countdown__title",children:a}),(0,v.jsxs)("div",{className:"cc-playafter-countdown__poster",children:[(0,v.jsx)(f.default,{src:i,width:5===window.ggconfig.videodetail_version?300:360,height:5===window.ggconfig.videodetail_version?168:202}),(0,v.jsxs)("div",{className:"cc-playafter-countdown__clockcountdown__button",children:this.state.show?(0,v.jsx)(_,{ctx:this.props.ctx,auto:r,maxTime:l,onClick:this.onClick,onEnd:this.onEnd},a):null}),(0,v.jsx)("div",{className:"cc-playafter-countdown__text",onClick:function(){return r?e.cancelCountDown():e.onClick()},children:r?"取消":"下一集"})]})]})]})]})}}]),a}(d.default.Component);t.default=y},75221:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93634)),o=a(n(22699));n(73033);var l=n(85893),s=(0,r.default)({name:"playafter__countdown",className:"cc-playafter-countdown",title:!1,body:"",offset:"0 0 0 0",hide:!0,autoFocus:!1,create:function(){var e=this.$domWrap.find("cm-pp-body")[0];e&&i.default.render((0,l.jsx)(o.default,{ctx:this}),e)},events:{}});t.default=s},71105:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(66115)),r=a(n(61655)),o=a(n(94993)),l=a(n(73808)),s=a(n(56690)),c=a(n(89728)),u=n(82083);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.default)(this,n)}}window.errCount=0,window.errorcode="YFERROR";var f=function(){function e(t){var n=t.url,a=t.player,i=t.element;(0,s.default)(this,e),this.url=n,this.player=a,this.element=i,thints(["dataArrive","loaause","outresume"],"player")}return(0,c.default)(e,[{key:"init",value:function(e,t){var n=new YFCloudIO;return n.init(t,e,{limitBufferLength:30}),n._onError=function(e,t){console.log(e,t)},n}},{key:"load",value:function(){alue:function(){this.bindEvents(["dataArrive","loadError","IOComplete","URLRedirect"],"io",!0),this.bindEvents(["outSeek","outpause","outresume"],"player",!0),this.io.destroy()}},{key:"onDataArrive",value:function(e,t){this.io.loadedInfo();this.player.onDataArrive(e,t)}},{key:"onLoadError",value:function(e){console.log("[%s]onLoadError :%d",new Date,e)}},{key:"onIOComplete",value:function(){this.player.onI",value:function(e){this.io.destroy(),this.io=this.init(this.url,this.element),this.bindEvents(["dataArrive","loadError","IOComplete"],"io"),this.io.load(ection(){this.io.pause()}},{key:"onOutresume",value:function(){this.io.resume()}},{key:"bindEvents",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){e="on"+e.replace(/^\w/,(function(e){return e.toUpperCase()})),"function"==typeof n[e]&&(n[t][e]=a?null:n[e].bind(n))}))}}]),e}(),h=function(e){(0,r.default)(n,e);var t=d(n);function n(e,a){var r;(0,s.default)(this,n),(r=t.call(this,e,a)).video=e,r.config=a;var o=a.src;return r.kernelPlayer=new YFPlayer,r.io=new f({url:o,player:r.kernelPlayer,element:r.video}),r.onFallback=r.onFallback.bind((0,i.default)(r)),r.bindEvents(),r.video.addEventListener("play",r.play.bind((0,i.default)(r))),r}return(0,c.default)(n,[{key:is.io.onOutresume().io.load({from:0,toy:"load",value:functstopLoad",value:function(){return this.kernelPlayer.emit("unload")}},{key:"play",value:function(){this.loadData(),this.video.play()}},{key:"seek",value:function(e){this.kernelPlayer.seek(Numbause(),this.io.onOutpause()}},{key:"bindEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.kernelPlayer;t&&t[e?"off":"on"]("fallback",this.onFallback)}},{key:"onFallback",value:function(){var e=thrnelPlayer.play(this.video",value:function(){this.bindEvents(!0),this.kernelPlayer.destroy(),this.io&&this.io.destroy()}},{key:"refresh",value:function(){return this.kernelPlayer.emit("unload"),this.kernelPlayer.emit("load")}}],[{key:"isSupport",value:function(){return YFPlayer.isMSESupported()}}]),n}(u.CustEventype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,l.dt)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];e=t.call.apply(t,[this].concat(r)),(0,u.default)((0,o.default)(e),"state",e.getInitialState()),(0,u.de){var t=e.props.ctx;t.$bumpToTop(),t.open()}));var s=e.p",(function(){return s.currentTime!==s.duration&&e.setState({show:!0})})),s.$on("play",(function(){return e.setState({show:!1})})),s.$on("ended",(function(){return e.setState({show:!1})})),e}return(0,r.default)(n,[{key:"getInitialState",value:function(){return{show:!1}}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.width,i=t.height;return this.state.show?(0,h.jsx)(f.default.ShowCase,{id:n,src:"https:"===location.protocol?"https://show-3.mediav.com/s?scheme=https":"http://show.3.mediav.com/s?scheme=http",width:a,cols:1,type:"normal",style:{imgRatio:a/i,colSpace:0},onReady:function(t){return t.adData.length&&e.open()}}):null}}]),n}(d.default.Component);t.default=v},72369:function(e,t,);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93634)),o=a(n(81785)),l=n(85893),s=(0,r.default)({name:"pause_gg",className:"cc-pause-gg",title:!1,body:"",offset:"50% 50%",hide:!0,autoFocus:!1,clte:funp-body")[0];if(e){var t=this.$config,n=t.id,a=t.width,r=t.height;this.$domWrap.css({width:a+"px",height:r+"px"}),i.default.render((0,l.jsx)(o.default,{ctx:this,id:n,width:a,height:r}),e)}},events:{play:function(){this.close()},ended:function(e){this.close(e,"by ended")}}});t.default=s},59261:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(7854)).default.createContext({});t.default=i},13076:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93634)),o=a(n(59673));a(n(59261));n(41863);var l=n(85893),s=(0,r.default)({name:"playafter_gg",className:"cc-playafter-gg",title:!1,body:"",offset:"0 0 0 0",hide:!0,autoFocus:!1,create:function(){var e=this.$domWrap.find("cm-pp-body")[0];if(e){var t=this.$config,n=t.id,a=t.maxStayTime;i.default.render((0,l.jsx)(o.default,{id:n,maxStayTime:a,ctx:this}),e)}},events:{}});t.default=s},59673:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(56690)),r=a(n(89728)),o=a(n(66115)),l=a(n(61655)),s=a(n(94993)),c=a(n(73808)),u=a(n(38416)),d=a(n(7854)),f=a(n(81736)),h=a(n(59261)),p=a(n(13076)),v=a(n(75221)),m=n(85893);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,l.default)(n,e))(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];e=t.call.apply(t,[this].concat(r)),(0,u.default)((0,o.default)(e),"state",e.getInitialState()),(0,u.default)((0,o.default)(e),"forbiddenRequest",(function(){e.setState({shouldRequest:!1})})),(0,u.default)((0,o.default)(e),"startRequest",(function(t){return e.props.ctx.duration<window.ggconfig.video_player_after_gg_min_time||(t===p.default.name||t===v.default.name||(e.setState({shouldRequest:!0}),!1))})),(0,u.default)((0,o.default)(e),"onClose",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e.pre.setState({shouldRequest:!1}),t&&n.$emit("ended",p.default.name),n.close()}));var s=e.props.ctx;return s.$on("play",e.forbiddenRequest),s.$on("ended",e.startRequest),e}return(0,r.default)(n,[{key:"getInitialState",value:function(){return{maxTime:null,shouldRequest:!1}}},{key:"componentWillUnmount",value:function(){var e=this.props.ctx;e.$off("play",this.forbiddenRequest),e.$off("ended",this.startRequest),this.onClose()}},{key:"initialGG",value:function(){var e=this,t=function(e,t){if(e<=1e6)return e;var n=t?5:1,a=t?7:3;return parseInt(e.toString().slice(n,a))}(this.props.maxStayTime,!1);this.setState({maxTime:t}),this.props.ctx.$bumpToTop(),this.props.ctx.open(),this.intervalId=setInterval((function(){var t=e.state.maxTime;if(window.players&&window.players.filter((function(e){return!e.paused})).length)return e.onClose(!1);t>1?(t-=1,e.setState({maxTime:t})):e.onClose()}),1e3)}},{key:"render",value:function(){var e=this,t=this.props.id,n=this.state.maxTime;if(!this.state.shouldRequest)return null;var a=this.props.ctx.$config.width,i=void 0===a?300:a;return(0,m.jsxs)("div",{className:"cc-playafter-gg__container",children:[(0,m.jsx)(f.default.ShowCase,{id:t,width:i,cols:1,type:"normal",style:{imgRatio:1,colSpace:0},onReady:function(t){return t.adData.length?e.initialGG():e.onClose()}}),(0,m.jsx)("div",{className:"cc-playafter-gg__close-btn",onClick:this.onClose,children:"×"}),n?(0,m.jsxs)("div",{className:"cc-playafter-gg__countdown",children:[n," 秒"]}):null]})}}]),n}(d.default.Component);t.default=y,(0,u.default)(y,"contextType",h.default)},7818698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.data,n=e.img,a=n.width,i=n.height,d=e.onClick,f=e.onRealShow,h=e.className,p=(0,r.useRef)(null);(0,r.useEffect)((function(){(0,l.default)(p.current,(function(){"function"==typeof f&&f(t)}),!0)}),[]);var v=t.i,m=t.t,_=t.duration,y=v.split("|")[0];return(0,u.jsxs)("div",{className:(0,o.default)("cc-playafter-relate__video__card",h),style:{width:a},children:[(0,u.jsxs)("div",{ref:p,className:"cc-playafter-relate__video__card__poster",style:{width:a,height:i},onClick:function(e){return d(t,e)},children:[(0,u.jsx)(c.default,{className:"hover--scale",src:y,widspan",{className:"cc-playObject.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("dct.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(7854)),o=a(n(94184)),l=a(n(76444)),s=a(n(50425)),c=a(n(7596)),u=n(85893);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},16210:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=a(n(64687)),o=a(n(17156)),l=a(n(56690)),s=a(n(89728)),c=a(n(66115)),u=a(n(61655)),d=a(n(94993)),f=a(n(73808)),h=a(n(38416)),p=a(n(7854)),v=n(98704),m=a(n(92614)),_=a(n(78487)),y=n(85893);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);ift)se n=a.apply(this,arguments);return(0,d.default)(this,n)}}function w(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t--),a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}return e}var b=(0,v.connect)((function(){return{}}),(function(e){return{getMlistData:e.global.getMlistData}}))(i=function(e){(0,u.default)(a,e);var t=g(a);function a(){var e;(0,l.default)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];e=t.call.apply(t,[this].concat(i)),(0,h.default)((0,c.default)(e),"state",e.getInitialState()),(0,h.default)((0,c.default)(e),"open",(0,o.default)(r.default.mark((function t(){var n,a,i,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.getMlistData,t.next=3,n({c:"relatevideo",scene:48,n:6,sv:7,cur_rawurl:"http://video.news.so.com/72a2ed7af1fe387462c09ebe624d2c53",cur_title:"妈妈抱着女儿看海，一群黑压压的家伙逼近他们，这些是什么东西？"}).catch((function(e){return console.error(e),[]})).then((function(e){return e.map((function(e){return e.channel="relatevideo",e})).filter((function(e){return""!==e.i.trim()}))}));case 3:if((a=t.sent).length){t.next=6;break}return t.abrupt("return");case 6:i=a.map((function(e){var t=e.gnid,n=e.rawurl;if(!t&&!n)return e;var a=document.createElement("a");return a.href=e.pcurl,a.host=location.host,e.pcurl=a.href,e})),o=e.props.ctx,e.setState({show:!0,data:w(i)}),o.open();case 10:case"end":return t.stop()}}),t)})))),(0,h.default)((0,c.default)(e),"close",(function(){e.props.ctx.close(),e.setState({show:!1})}));var u=e.props.ctx;return u.$on("play",(function(){return e.state.show&&e.close()})),u.$on("seeked",(function(){return e.state.show&&e.close()})),u.$on("destroy",e.close),u.$on("next",(function(t){return e.setState({next:t})})),u.$on("autonext",(function(t){return e.setState({autonext:t})})),u.$on("ended",(function(t){return e.open(),!1})),e}return(0,s.default)(a,[{key:"getInitialState",value:function(){return{show:!1,autonext:!1!==n.g.ggconfig.videodetail_autonextbtn,next:{title:"",poster:"",onClick:function(){}},data:[]}}},{key:"render",value:function(){var e=this.props,t=e.tj_url,a=e.djsource,i=this.state,r=i.next,o=i.autonext,l=i.show,s=i.data;return l?o&&r&&r.title&&r.poster?null:s.length?(0,y.jsx)("div",{className:"cc-playafter-relate__wrapper clearfix",children:s.map((function(e){return(0,y.jsx)(_.default,{data:e,className:"float--left",img:{width:224,height:126},onRealShow:function(e){var n=e.sid,i=e.gnid,r=e.a,o=e.c,l=e.source,s=e.s,c=e.style,u=e.channel;return(0,m.default)(m.default.NEWSSRV,{sid:n,style:"portal",channel:u,act:"real_show",scene:48,func:"pc_news_realshow",url_pack:JSON.stringify([[i,r,o,l,s,c,2e3,n].map((function(e){return e||""}))]),djsource:[a,null].join(","),tj_url:t})},onClick:function(e){var i=e.u,r=e.pcurl,o=e.channel,l=e.sid,s=e.a,c=e.c,u=e.source;(0,m.default)(m.default.SRV,{url:i||r,channel:o,sid:l,a:s,c:c,source:u,scene:48,act:"click",stype:"portal",djsource:[a,null].join(","),tj_url:t}),n.g.open(r)}},e.gnid)}))}):null:null}}]),a}(p.default.Component))||i;t.default=b},99332:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(93634)),o=n(98704),l=a(n(36526)),s=a(n(16210));n(68698);var c=n(85893),u=(0,r.default)({name:"playafter__relate",className:"cc-playafter-relate",title:!1,body:"",offset:"0 0 0 0",hide:!0,autoFocus:!1,create:function(){var e=this.$domWrap.find("cm-pp-body")[0];e&&i.default.render((0,c.jsx)(o.Provider,{store:l.default,children:(0,c.jsx)(s.default,{ctx:this})}),e)},events:{}});t.default=u},36526:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(57460),r=a(n(58162)),o=(0,i.init)({models:{global:r.default}});t.default=o},52512:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(7854)).default.createContext({});t.default=i},26834:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(7854));var i=a(n(18345)),r=a(n(52512));n(95950);var o=n(85893),l={name:"titlebar",inner:!0,el:'<div class="chimee-titlebar"></div>',create:function(){var e=this,t=new Function;"function"==typeof this.$config.render&&(t=this.$config.render),i.default.render((0,o.jsx)(r.default.Provider,{value:this,children:(0,o.jsx)(t,{})}),this.$dom),this.$on("fullscreenchange",(function(){e.$dom.style.display=e.isFullscreen?"none":"block"}))}};t.default=l},50425:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=~~(e/60),n=Math.floor(e%60);return isNaN(t)||isNaN(n)?"":"".concat(t>=10?t:"0"+t,":").concat(n>=10?n:"0"+n)}}}]);