/**
 * Adform.FlexGallery.js, version 1.0.3
 * 
 * Copyright Adform
 * http://www.adform.com
 * 
 * Date: 2019-01-23
 */
var scriptSource=document.currentScript?document.currentScript.src:function(){var t=document.getElementsByTagName("script"),e=t[t.length-1];return void 0!==e.getAttribute.length?e.src:e.getAttribute("src",-1)}(),sourceString=scriptSource.toString();if(sourceString.indexOf("//s1")>-1){var title=document.getElementsByTagName("title")[0],link=document.createElement("link"),href=scriptSource.split("/");link.type="text/css",link.rel="stylesheet",link.href=href[0]+"//"+href[2]+"/banners/scripts/components/styles/Adform.FlexGallery-1.css",title.parentNode.insertBefore(link,title.nextSibling)}!function(){"use strict";function t(t,e,n){var i,r=null;if(e in t)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<n.length;r++)if((i=n[r]+e)in t)return i;return null}function e(e){return t(document.createElement("div").style,e,Y)}ction a(t,e){return t>0?t%=e:t<0&&(t=(t+1)%e+e-1),t}unction s(t,e,n,i,r,a){var s,u=t[e];if(arguments.length>5&&!o(u))return a;if(s=n?n(u):u,i)try{i(s,r)}catch(t){var l="Invalid "+e+": "+u+"; "+t.message;throw~document.referrer.indexOf("studio.adform.com")&&(new f).open(l),new Error(l)}return s}function u(t,e){var n;n=e["<"],!o(n)||t<n||i(R+"less than "+n),n=e["<="],!o(n)||t<=n||i(R+"less than or equal to "+n),n=e[">"],!o(n)||t>n||i(R+"greater than "+n),n=e[">="],!o(n)||t>=n||i(R+"greater than or equal to "+n)}function l(t,e){for(var n=0;n<e.length;n++)if(e[n]===t)return;i(R+"one of the following: "+e.join(", "))}function c(t,e,n){var i=null;return function h(t,e,n){var i,r=e.split(".");try{for(i=0;i<=r.length-2;i++){var a=r[i];t=a in t?t[a]:t[a]={}}t[r[i]]=arguments.length>2?n:{}}catch(e){throw'Cannot create property "'+r[i]+'" on '+typeof t+' "'+t+'"'}}function f(){var t=this;this.create=function(t,e){var n=document.querySelector("."+t);if(t&&n)return n;var i=e||document.body,r=i.appendChild(document.createElement("div"));return t&&(r.className=t),r},this.open=function(e,n,i){if(e){var r=n||"adf-Modal",a=i||"adf-Modal-Close",o=t.create(r);t.create(a,o);o.innerHTML=o.innerHTML+'<span class="error">'+e+"</span>",o.style.display="block",o.style.width=(dhtml.collapsedWidth?dhtml.collapsedWidth:dhtml.width)+"px",o.style.height=(dhtml.collapsedHeight?dhtml.collapsedHeight:dhtml.height)+"px";document.querySelector("."+a).addEventListener("click",}},this.close=function d(t,e){if(t)return t;throw new Error(e)}function p(t,e){t&&(t.className=t.className.split(" ").concat(e).filter(.join(" "))}function v(t,e){t&&(t.className=t.className.split(" ").filter(.join(" "))}function m(t,e){return ),new CustomEvent(t.toString(),{detail:e})}function g(t,e,n){if("[object HTMLUnknownElement]"!==document.createElement(t).toString()){var i,r=n||document,a=r.createElement(t);for(i in e)h(a,i,e[i]);return a}throw new Error("Invalid HTML tag name")}function w(t){var e,n;Adform.on("visibilityData",function(i){n=e!==i.bxdTime,e=i.bxdTime,t({visibleArea:i.visibleArea,isActiveTab:n})})}function y(t){ar n,i;dhtml.inscreen.on("percent",function(t){n=t,e()}),dhtml.inscreen.on("visible",}ction b(t,e,n,i,r){if(null!==t&&null!==e){if(null===n||null===i||n>e||i<t)return void r(t,e);if(e>i){if(t<n)return r(t,n-1),void r(i+1,e);r(i+1,e)}else t<n&&r(t,n-1)}}function A(t){function e(t,e){for(u=t;u<=e;u++)i(a(u,n),!1,u-o,0)}var n=Math.max(0,parseInt(t.itemCount))||0,i=t.onUpdate,o=0,s=0,u=null,l=null,c=null;this.setScroll=function(t){return o=parseFloat(t)||0,this},this.getScroll=function(){return o},this.setSize=function(t){return s=Math.max(0,parseFloat(t))||0,this},this.getSize=function(){return s},this.update=function(){var t,h,f=Math.min(s,n-1),d=-f/2+.5;s>0?(t=Math.floor(o+d),h=Math.ceil(o+d+f-1)):(t=null,h=null),b(l,c,t,h,e);var p,v,m=n-1<s,g=f/2+.5;for(u=t;u<=h;u++)p=u-o,v=m?r(0,1,2*(g-Math.abs(p))):1,i(a(u,n),!0,p,v);return l=t,c=h,this}}function L(t,e,n,i,r,a){var o=n-t,s=i-e,u=n-r,l=i-a,c=r-t,h=a-e,f=o*o+s*s,d=u*u+l*l,p=c*c+h*h;return Math.acos(Math.max(-1,Math.min(1,(d+f-p)/Math.sqrt(4*d*f))))}function S(t){function e(){h=1===t?p:2===t?j/(1+p):X/u,f=Math.tan((j-h)/2)/2*a,d=.5/Math.cos((j-h)/2)*a;var e,n=j/2+h/2,i=Math.ceil(u/2),o=0;for(e=0;e<i;e++){var s=n+h*e,v=Math.cos(s)*d,m=Math.sin(s)*d-f,g=r?-1/r*m+1:1,w=Math.abs(v/g);if(!(w>o))break;o=w}l=2*o,c=Math.max(1,2*e-1)}function n(){if(s&&i&&r&&a){u=i*j/a,e();for(var n=20,o=u/2;Math.abs(i-l)>1&&n;)u+=o,e(),l>i&&(u-=o,o/=2),n--;t?(u=1===t?1/p:t,e()):u<4&&(u=4,e()),s=!1}}var i=0,r=0,a=0,o="Y",s=!1,u=0,l=0,c=0,h=0,f=0,d=0,p=1e-5;this.setParams=function(t,e,n,u){return i=Math.max(0,parseFloat(t)),r=Math.max(2,parseFloat(n)),a=Math.max(0,parseFloat(e)),o=u?"X":"Y",s=!0,this},this.getPanelCount=this.putPanelData=function(t,e){n();var i=Math.cos((Math.abs(e)%1-.5)*h)*d,a=e*h,s=a<0?-1:1,u=-i,l=r,c=0+Math.sin(a)*f,p=u+Math.cos(a)*f;t.worldSpaceAngle=a,t.screenSpaceAngle=(j-L(0,l,c,p,0,u))*s,t.transform="translateZ("+-i+"px) rotate"+o+"("+a+"rad) translateZ("+f+"px)"}}nction P(t){return 1>(t*=2)?.5*t*t:-.5*(--t*(t-2)-1)}function F(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];r&&r.listener===e&&(t[i]=null,n++)}return n}function D(t,e){for(var n=t.length,i=0,r=0;r<n;r++){var a=t[r];a&&a.listener!==e&&(r!==i&&(t[i]=a),i++)}return t.length=i,n-i}unction _(){null!==ot&&M()-st>1500&&(G(ot),ot=U(I)),setTimeout(_,1500)}function N(){null===ot&&at.length&&(ot=U(I))}function I(t){var e,n,i;ot=null,st=M(),e=rt,rt=at,at=e;for(var r=0;r<rt.length;r++)try{n=rt[r],i=it[n],i&&(i.isRepeating?at.push(n):H(n),i.callback.call(i.context,t))}catch(t){x(t)}rt.length=0,N()}function V(t,e,n){var i=nt++;return at.push(i),it[i]={callback:t,context:null==e?window:e,isRepeating:!!n},N(),i}function H(t){t=parseInt(t),it[t]&&delete it[t]}function O(t){this._animations=[],this._tid=null,this._listeners=[],this._isFirstFrame=!1,this.currentValue=t,this.targetValue=t,this.isActive=this._updateTime=function(t){var e,n,i,r=this._listeners,a=this._animations,o=this.currentValue,s=this.targetValue,u=0,l=!1;for(i=0;i<a.length;i++)e=a[i],null===e.ts&&(e.ts=t+e.tw),t>=e.ts?(n=e.td?Math.min((t-e.ts)/e.td,1):1,s+=(1-e.ease(n))*e.vd,l=!0):(n=0,s+=e.vd),n<1&&(i!==u&&(a[u]=e),u++);a.length=u,this.currentValue=s;var c=this._isFirstFrame&&l,h=!u;if(c&&(this._isFirstFrame=!1),h&&(H(this._tid),this._tid=null),s!==o||c||h)for(i=0;i<r.length;i++)r[i](s,c,h)},this.to=function(t,e,n,i){return t=parseFloat(t)||0,this._animations.push({vd:this.targetValue-t,ts:null,td:parseFloat(e)||0,tw:parseFloat(n)||0,ease:i||C}),this.targetValue=t,null===this._tid&&(this._tid=V(this._updateTime,this,!0),this._isFirstFrame=!0),this},this.addListener=this.clear=function(){return this._animations.length=0,this.targetValue=this.currentValue,this}}function z(t,e){unction a(n){if(!u){var i=null===c?0:n-c;c=n,l-=r(i,0,ut);try{e(Math.max(0,l))}finally{l<=0&&(l=t)}}}if(0===(t=1e3*Math.max(0,parseFloat(t)||0)))throw new Error("Invalid delay");if(!n(e))throw new TypeError("Argument 2 (callback) is not a function");var o=this,s=null,u=!1,l=t,c=null;this.start=function(){i()||(s=V(a,o,!0))},this.stop=function(){i()&&(H(s),s=null)},Object.defineProperty(this,"paused",{get:function(){return u},set:),Object.defineProperty(this,"active",{get:)}function B(t){function e(){return document.documentMode||/Edge/.test(navigator.userAgent)}function n(t){return t.forEach(function(t){s[t]=)}function i(t,e){return v[t]&&v[t].apply(this,e)}function r(){function r(t){return t.changedTouches?t.changedTouches[0].clientX:t.clientX?t.clientX:t.x}function a(t){return t.changedTouches?t.changedTouches[0].clientY:t.clientY?t.clientY:t.y}unction s(t){return{x:r(t)-(S.x||E.x),y:a(t)-(S.y||E.y)}}function l(t){return f(t),"touchstart"===t.type||e()||t.preventDefault(),A=t.currentTarget,E=o(t),i("swipestart",[E,t])}function c(t){if(f(t),b=s(t),S=o(t),C={x:Math.abs(S.x-E.x),y:Math.abs(S.y-E.y)},A&&A!==t.currentTarget&&g(t),h&&t.preventDefault(),A=t.currentTarget,L){if(!p&&"mousemove"===t.type&&(!t.buttons&&0===t.which||0===t.buttons))return;if(document.body.addEventListener("click",v,!0),i("swipemove",[S,t]),Math.pow(Math.round(b.y),2)>Math.pow(Math.round(b.x),2)){if(b.y>0)return i("swipedown",[Math.abs(b.y),t]);if(b.y<0)return i("swipeup",[Math.abs(b.y),t])}else{if(b.x>0)return i("swiperight",[Math.abs(b.x),t]);if(b.x<0)return i("swipeleft",[Math.abs(b.x),t])}}return(C.x>=T||C.y>=T)&&(L=!0),!1}function d(t){return M=o(t),S={},L=!1,A=null,setTimeout(50),i("swipeend",[M,t])}unction g(t){return p&&(u.removeEventListener("mousemove",c),u.removeEventListener("mouseleave",g)),d(t)}function w(t){return p&&(u.removeEventListener("pointermove",c),u.removeEventListener("pointerleave",w)),d(t)}function y(t){return p&&(u.removeEventListener("touchmove",c),u.removeEventListener("touchleave",y)),d(t)}var E,M,x,b,A,L=!1,S={},C={},T=t.swipeThreshold||10;return u.style["-ms-touch-action"]="none",document.addEventListener("dragstart",,u.addEventListener("touchstart",function(t){return x=u.getBoundingClientRect(),u.addEventListener("touchmove",function(t){var e=t.touches[0];return(e.pageX<x.left||e.pageX>x.right||e.pageY<x.top||e.pageY>x.bottom)&&u.dispatchEvent(m("touchleave")),c(t)},!1),u.addEventListener("touchleave",y),l(t)},!1),u.addEventListener("touchend",function(t){if(A===u)return u.removeEventListener("touchmove",c),u.removeEventListener("touchleave",y),d(t)}),u.addEventListener("touchcancel",function(t){if(A===u)return u.removeEventListener("touchmove",c),u.removeEventListener("touchleave",y),d(t)}),window.navigator.pointerEnabled?(u.addEventListener("pointerdown",function(t){return 3!==t.which&&(u.addEventListener("pointermove",c),u.addEventListener("pointerleave",w),l(t))}),u.addEventListener("pointerup",function(t){if(A===u)return u.removeEventListener("pointermove",c),u.removeEventListener("pointerleave",w),d(t)})):(u.addEventListener("mousedown",function(t){return 3!==t.which&&(u.addEventListener("mousemove",c),u.addEventListener("mouseleave",g),l(t))}),u.addEventListener("mouseup",function(t){if(A===u)return u.removeEventListener("mousemove",c),u.removeEventListener("mouseleave",g),d(t)})),n(["swipestart","swipemove","swipeleft","swiperight","swipeup","swipedown","swipeend"])}function a(){function t(t){return t.stopPropagation(),t.preventDefault(),e(t)}var e=c(function(t){return t.wheelDelta?t.wheelDelta>0?i("wheelup",[t]):i("wheeldown",[t]):t.detail?t.detail>0?i("wheelup",[t]):i("wheeldown",[t]):!!t.deltaY&&(t.deltaY<0?i("wheelup",[t]):i("wheeldown",[t]))},200);return u.addEventListener("wheel",t),u.addEventListener("DOMMouseScroll",t),n(["wheelup","wheeldown"])}function o(){return u.addEventListener("keydown",function(t){switch(t.stopPropagation(),t.keyCode){case 37:return i("arrowleft",[t]);case 38:return i("arrowup",[t]);case 39:return i("arrowright",[t]);case 40:return i("arrowdown",[t]);default:return!1}}),u.addEventListener("focus",,u.addEventListener("mouseover",function(t){t.stopPropagation(),u.focus()}),u.addEventListener("mouseout",,n(["arrowleft","arrowup","arrowright","arrowdown"])}var s=this,u=d(t.element,"No element specified in Gestures constructor"),l=d(t.events,"At least one event must be provided"),h=t.preventPageScroll,f=p=void 0===t.mouseLeaveHandler||t.mouseLeaveHandler,v={};return {swipe:r,wheel:a,keys:o})}function q(t,e){var n=null,i=!1,r=!1;new k;this.onAttach=this.onMove=function(t,e){var n=Math.abs(e)<.01;t&&!r&&(r=!0),i!==n&&(i=n,this.onVisibilityChange(i))},this.onVisibilityChange=function(n){n?(p(t,["onfocus"]),t.dispatchEvent(m(lt,e))):(v(t,["onfocus"]),t.dispatchEvent(m(ct,e)))}}function W(t){function e(t,e){var n=ct||0,i=Tt||0,r=(""+t).indexOf("%")>-1?"%":"px",a=(""+e).indexOf("%")>-1?"%":"px";return{panelWidthUnit:r,panelHeightUnit:a,panelWidth:"px"===r?Math.round(parseFloat(t)):Math.round(parseFloat(t)*n/100),panelHeight:"px"===a?Math.round(parseFloat(e)):Math.round(parseFloat(e)*i/100)}}function i(t,e,n,i,r){var a=i||.5,o=r||.5;return Math.abs(e/n*(n-Math.abs((t-a)%(2*n)-n)))-o}unction o(t){return t&&t/Math.abs(t)}function h(){function t(t){var i=g("div"),r=[bt,bt+"--"+t,n];return $===dt&&r.push("u-vControls"),p(i,r),i.addEventListener("click",function(n){n.stopPropagation();var i=t===e?1:-1;jt.stop(),Wt?I.moveBy(i):n.preventDefault(),_t.emit(xt)}),i}var e="next",n=$===dt?At:Lt;K&&(Q?[].forEach.call(Dt,function(n){n.appendChild(t(e)),n.appendChild(t("previous"))}):(at.appendChild(t(e)),at.appendChild(t("previous"))))}function f(){if(tt){for(_=g("div",{className:V+"-Bullets"}),zt=0;zt<Dt.length;zt++)_.appendChild(function(t){var e=g("div",{className:V+"-Bullet"});return e.addEventListener("click",,Bt.push(e),e}(zt));at.appendChild(_)}}function d(){it&&(isNaN(it)||(it=Adform.getAsset(it)),D=g("img",{className:V+"-Finger animate",src:it}),D.style.animationDuration=(1e3*J||3e3)+"ms",D.style.webkitAnimationDuration=(1e3*J||3e3)+"ms",at.appendChild(D))}unction y(t,e,n){var r;n&&1!==e&&(r=T(i(Math.abs(t%1),2,1,-.5,1)),n.style.transform="scale("+(1+(e-1)*r)+")")}function M(t,e,n){e?(Wt=!1,N=Math.round(t),_t.emit(mt),at.dispatchEvent(m(mt)),D&&v(D,["animate"])):n&&(_t.emit(gt),at.dispatchEvent(m(gt)),_t.emit(t>Math.round(N)?yt:t<Math.round(N)?wt:"same panel"),at.dispatchEvent(m(t>Math.round(N)?yt:t<Math.round(N)?wt:"same panel")),D&&p(D,["animate"]),Wt=!0)}function x(t,e,n){M(t,e,n),y(t,G,ot),It.setScroll(t).update()}function b(t,e,n,i){t=t||0;var r=kt[t];if(r){var a=r.elem.style,o=n+Nt.currentValue-Nt.targetValue;Ht&&(n*=-1,o*=-1),Vt.putPanelData(r,n),e&&Math.abs(r.screenSpaceAngle)<Math.PI/2?(r.visible=!0,r.data.onMove(!0,r.screenSpaceAngle,n,o,Ot),v(r.elem,["hidden"]),a.opacity=i,a[ht]=qt+r.transform,a.zIndex=Math.round(1e3-Math.abs(n))):r.visible&&(r.visible=!1,r.data.onMove(!1,r.screenSpaceAngle,n,n,Ot),v(r.elem,["hidden"]),a.opacity=0),tt&&(Math.round(n)?v(Bt[t],["active"]):p(Bt[t],["active"]))}}function L(){function t(t){jt.stop(),_t.emit(xt),Nt.to(Nt.targetValue+t,R,0,P)}function e(t,e,n,i,a,s){var u,l,c,h;Ht?(u=i-e,l=Ft+H,c=lt,h=s):(u=n-t,l=Pt+H,c=ut,h=a);var f=u/l+h/l/4,d=Math.max(1,c/l),p=Math.round(o-r(f,-d,d));p!==Nt.targetValue&&Nt.to(p,500,0,T)}var n=!1,i=null,o=It.getScroll(),s=null,u=null,l=null,c=null,h=0,f=0,d=!1,p=function(){var t=!1;return function(e){e=!!e,t!==e&&(t=e,ot[(e?"add":"remove")+"EventListener"]("click",a,!0))}}(),v=new B({element:ot,events:["swipe","wheel"],stopPropagation:et,preventPageScroll:nt});v.swipestart(function(t){n||(n=!0,s=t.x,u=t.y,l=t.x,c=t.y,h=0,f=0,o=It.getScroll()),_t.emit(xt),jt.stop()}),v.swipemove(function(t){if(n)if(d=!0,l=t.x,c=t.y,Ot)Nt.to(o-(Ht?(t.y-u)/Ft:(t.x-s)/Pt));else{var e=s-t.x,r=u-t.y;Math.sqrt(e*e+r*r)>St&&(s=t.x,u=t.y,Ot=!0,i=Date.now(),o=It.getScroll(),p(Ot),Nt.clear())}}),v.swipeend(function(){if(n){if(Ot){var t=(Date.now()-i)/1e3;h=(l-s)/t,f=(c-u)/t,setTimeout(500)}d&&e(s,u,l,c,h,f),n=!1,Ot=!1,d=!1}}),v.wheeldown(,v.wheelup(,ot.style[Mt]=Ht?"none":"pan-y",document.body.addEventListener("touchmove",{passive:!1})}function C(){Ht=j===dt||j===pt&&lt>ut;var t=Ht?Ft:Pt;Z>2&&(W=Math.max(W,2*t));var e=Ht?lt:ut,n=(Ht?Ft:Pt)+H,i=Math.round((ut-Pt)/2),r=Math.round((lt-Ft)/2);Vt.setParams(e,n,W,Ht),qt="translate("+i+"px,"+r+"px) perspective("+W+"px)",It.setSize(Vt.getPanelCount()).update(),tt&&_&&(_.style.marginBottom=r+"px"),Ht&&p(at,[dt])}function F(){L(),window.addEventListener("resize",Xt),E(function(t){jt.paused=t.visibleArea<rt,D&&t.visibleArea<rt?(D.style.animationPlayState="paused",D.style.webkitAnimationPlayState="paused"):D&&(D.style.animationPlayState="running",D.style.webkitAnimationPlayState="running")}),setTimeout(Xt,0),I.on(xt,function(){jt.stop(),w()}),at.addEventListener("startAutoRotate",function(){jt.start()}),at.addEventListener("stopAutoRotate",,at.addEventListener("showPrevious",,at.addEventListener("showNext",function(){I.moveBy(1)})}var D,_,N,I=this,V=t.className||"adf-FlexGallery",H=s(t,"panelSpacing",parseInt,u,{">=":0},0),W=s(t,"perspective",parseInt,u,{">=":100,"<=":9999999},800),Y=s(t,"paddingForButtons",parseInt,u,{">=":0},0),R=1e3*s(t,"animationDuration",parseFloat,u,{">":0},.5),j=s(t,"animationDirection",!1,l,vt,pt),X=JSON.parse(t.autoAnimationEnabled||!1),J=s(t,"autoAnimationDelay",parseFloat,u,{">=":0},3),U=X?s(t,"autoAnimationTime",parseFloat,u,{">":J},28):0,G=s(t,"zoom",parseFloat,u,{">=":1},100)/100,Z=s(t,"sides",parseInt,u,{">=":0},0),K=JSON.parse(t.defaultButtons||!1),Q=JSON.parse(t.panelButtons||!1),$=s(t,"buttonsDirection",!1,l,vt,j),tt=JSON.parse(t.defaultBullets||!1),et=!JSON.parse(t.allowParentSwipe||!1),nt=void 0===t.preventPageSwipe||JSON.parse(t.preventPageSwipe),it=t.swipeIcon||null,rt=s(t,"inview",parseInt,u,{">=":1,"<=":100},Ct),at=document.querySelector("#"+t.elementId)||document.body.appendChild(g("div",{id:t.elementId,className:V})),ot=document.querySelector("#"+t.elementId+" > .adf-Shape")||at.appendChild(g("div",{className:"adf-Shape"})),st=ot.style,ut=0,lt=0,ct=at.offsetWidth-(Y&&j===ft?2*Y:0),Tt=at.offsetHeight-(Y&&j===dt?2*Y:0),Pt=e(t.panelWidth,t.panelHeight).panelWidth,Ft=e(t.panelWidth,t.panelHeight).panelHeight,Dt=t.panels||document.querySelectorAll("#"+t.elementId+" > .adf-Shape > .adf-Panel"),kt=[],_t=new k,Nt=new O(0).addListener(x),It=new A({itemCount:Dt.length,onUpdate:b}),Vt=new S(Z),Ht=!1,Ot=!1,zt=null,Bt=[],qt="",Wt=!0,Yt=/msie\s|trident/i.test(window.navigator.userAgent)&&!!(document.uniqueID||document.documentMode||window.ActiveXObject||window.MSInputMethodContext),Rt=function(t){var e=Dt[t],i=e.style,r=new q(e,t);Et.forEach(function(e){if(!n(r[e]))throw new TypeError("panels["+t+"]."+e+" is not a function")}),p(e,[V+"-Panel","hidden"]),i.position="absolute",i.left=0,i.top=0,i.width=Pt+"px",i.height=Ft+"px",i.outline="1px solid transparent",Yt?i.clip="rect(0px, "+Pt+"px, "+Ft+"px, 0px)":i.overflow="hidden",kt.push({elem:e,data:r,visible:!1,worldSpaceAngle:0,screenSpaceAngle:0,transform:""}),r.onAttach(e)},jt=new z(1*J+R/1e3,function(t){t||setTimeout(200)}),Xt=c(function(){ct=at.offsetWidth-(Y&&j===ft?2*Y:0),Tt=at.offsetHeight-(Y&&j===dt?2*Y:0),I.resize(ct,Tt),I.resizePanels(t.panelWidth,t.panelHeight)},100);this.resize=function(t,e){return ut=parseInt(t)||0,lt=parseInt(e)||0,st.width=ut+"px",st.height=lt+"px",C(),this},this.resizePanels=function(t,n,i){if(i=i||H,t=Math.max(1,e(t,n).panelWidth),n=Math.max(1,e(t,n).panelHeight),i=Math.max(0,parseFloat(i)||0),Pt!==t||Ft!==n||H!==i){var r;for(Pt=t,Ft=n,H=i,zt=0;zt<kt.length;zt++)r=kt[zt].elem.style,r.width=Pt+"px",r.height=Ft+"px",Yt&&(r.clip="rect(0px, "+Pt+"px, "+Ft+"px, 0px)");return C(),this}},this.init=function(){for(p(at,[V]),zt=0;zt<Dt.length;zt++)Rt(zt);return I.resize(ct,Tt),I.resizePanels(t.panelWidth,t.panelHeight),h(),f(),d(),jt.start(),setTimeout(1e3*U),F(),this},this.getElement=this.getCurrentPanel=function(){var t=Nt.targetValue%Dt.length,e=-1===o(t)?Dt.length+t:t;return Math.abs(e)},this.moveBy=function(t){return Nt.to(Nt.targetValue+t,R,0,P),this},this.moveTo=function(t){var e=t-Nt.targetValue%Dt.length,n=Math.abs(e)>Dt.length/2?-1*o(e)*(Dt.length-o(e)*e):e;return Nt.to(n+Nt.targetValue,R,0,P),this},this.on=function(t,e){return _t.on(t,e,this),this},this.off=I.rotationInterval=jt,I.autoRotationDelay=J}var Y=["Ms","ms","Webkit","webkit","Moz","moz","O","o"],R="Value must be ",j=Math.PI,X=2*j,J=k.prototype;J.on=function(t,e,i){if(!n(e))throw new TypeError("Argument 2 (listener) is not a function.");var r=this._map[t];return r||(r=this._map[t]={listenerDataArray:[],isDirty:!1,activeEmitCount:0}),r.listenerDataArray.push({listener:e,context:i}),this},J.off=function(t,e){if(null!=e&&!n(e))throw new TypeError("Argument 2 (listener) is not a function.");var i=this._map[t];if(!i)return this;var r=i.listenerDataArray;return i.activeEmitCount>0?i.isDirty|=!!F(r,e):(e&&D(r,e),e&&r.length||delete this._map[t]),this},J.emit=function(t,e,n,i){var r=this._map[t];if(!r)return this;var a,o=r.listenerDataArray,s=null;r.activeEmitCount++;try{for(s=0;s<o.length;s++){var u=o[s];if(u){var l=u.listener,c=u.context;switch(arguments.length){case 1:l.call(c);break;case 2:l.call(c,e);break;case 3:l.call(c,e,n);break;case 4:l.call(c,e,n,i);break;default:l.apply(c,Array.prototype.slice.call(arguments,1))}}}}catch(t){a=t}if(r.activeEmitCount--,!r.activeEmitCount&&r.isDirty&&(D(o,null),r.isDirty=!1,o.length||delete this._map[t]),a)throw a;return this},J.hasListener=function(t){var e=this._map[t];if(!e)return!1;if(!e.isDirty)return!!e.listenerDataArray.length;for(var n=e.listenerDataArray,i=0;i<n.length;i++)if(n[i])return!0;return!1};var U,G,Z,K,Q=["ms","moz","webkit","o"],$=window,tt=!1;if(!/(iphone|ipod|ipad).* os ([1-8])_.*safari/i.test(navigator.userAgent)){U=$.requestAnimationFrame,G=$.cancelAnimationFrame;for(var et=0;et<Q.length&&(!U||!G);et++)U=$[Q[et]+"RequestAnimationFrame"],G=$[Q[et]+"CancelAnimationFrame"]||$[Q[et]+"CancelRequestAnimationFrame"]}U&&G||(tt=!0,Z=M(),K=Z,U=function(t){var e=M(),n=Math.max(0,16-(e-K)),i=e+n;return K=i,setTimeout(n)},G=;var nt=0,it={},rt=[],at=[],ot=null,st=M();tt||_();var ut=50,lt="panelCentered",ct="panelNotCentered",ht=e("transform"),ft="horizontal",dt="vertical",pt="auto",vt=[ft,dt,pt],mt="animationStart",gt="animationEnd",wt="previousPanel",yt="nextPanel",Et=["onAttach","onMove"],Mt=e("touchAction"),xt="interaction",bt="adf-Controls",At="u-hCentered",Lt="u-vCentered",St=25,Ct=50;h(window,"Adform.FlexGallery",W)}();