"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[174,233,514,515],{53070:function(e,t,i){i.d(t,{o:function(){return n}});var n=function(e,t,i){return!(isNaN(e)||isNaN(t)||isNaN(i))&&Math.abs(e-t)<=i}},60267:function(e,t,i){i.d(t,{G:function(){return a}});var n=i(90685),a=function(){ar t;return t=e,e.isEnabled=e.isDisabled=e._getList=function(){return n.Z.getState().userFeatures||[]},e}()},1931:function(e,t,i){var n;i.d(t,{u:function(){return n}}),n||(n={}))},85662:function(e,t,i){var n=i(59312),a=function(e){eturn(0,n.ZT)(t,e),t.INBOX_DROPDOWN_CLICK="1",t.MOBILE_MENU_MEMBERSHIP="2",t.DONT_CLOSE_INPUT_DROPDOWN="4",t.MOBILE_CHAT_DRAG_TO_RESIZE="5",t.GREETING_IN_CHAT="6",t.MOBILE_CHAT_DRAG_IMPROVED="7",t.MOBILE_CHAT_DRAG_VIEW="8",t.TOKEN_PURCHASE_BOX="9",t.TOKEN_PURCHASE_BOX_2="10",t.WL_JOIN_POPUP_CUSTOM_FLOW="11",t.NEW_INVITATIONS_POPUPS="12",t.CHAT_LOVERS_ANIMATION="13",t.MOBILE_NEW_MODEL_PROFILE_VERSION_1="14",t.MOBILE_NEW_MODEL_PROFILE_VERSION_2="15",t.MOBILE_CHAT_SWIPE_ROOM="16",t.JOIN_FOR_FREE_BOTTOM_BAR="17",t.MODERN_LOGIN_POPUP="18",t.SAVE_SEARCH="19",t.HEADER_MOVE_TOKEN_BALANCE="20",t.MODERN_WARNING_18_POPUP="21",t.BUY_TOKENS_MODAL="22",t.MEMBER_ACTIVITY_NOTICE="23",t.BM_PAGE_NOTIFICATION_VOLUME_SUBTITLE="31",t.CHAT_HISTORY_CYRILLIC_MESSAGES="33",t.BM_HEADER_TOKEN_PRICES_ON_BONGA="34",t.MIN_MAX_PAYABLE="35",t.IM_ACTION_BUTTONS="36",t.ALTERNATE_MOBILE_HEADER_LAYOUT="37",t.titles={},t}(i(21660).Z);t.Z=a},25875:function(e,t,i){i.d(t,{R:function(){return n}});var n=,34716:function(e,t,i){var n,a;i.d(t,{t:function(){return a},N:function(){return n}}),function(e){e.CHAT="send-input-container",e.COMMENTS="comments-input-container",e.IM="im-send-input-container",e.PRIVATE_CHAT="private-send-input-container",e.PUBLIC_CHAT="public-send-input-container"}(n||(n={})),a||(a={}))},99759:96342:function(e,t,i){var n,a,s;i.d(t,{A8:function(){return n},uf:function(){return a},z6:function(){return s}}),n||(n={})),a||(a={})),s||(s={}))},13297:function(e,t,i){i.d(t,{g:function(){return n}});var n=function(){return!(window.chat&&window.chat.userData&&window.chat.userData.username&&window.chat.userData.role&&"member"===window.chat.userData.role&&(!window.chat.userData.isPayable||"free"===window.chat.userData.accessLevel))}},29808:function(e,t,i){i.d(t,{v:function(){return r}});var n=i(59312),a=i(99759),s=i(50879),o=i(65311),r=function(e,t,i){var r=i.isImmediateAppearance,l=(0,n._T)(i,["isImmediateAppearance"]),c=o((0,s.A)(e,l));return c.hasClass("with-scroll")&&c.jScrollPane&&c.jScrollPane({showArrows:!0,verticalArrowPositions:"os",contentWidth:1}),t.after(c),t.css("height","0"),c.fadeIn(r?a.dT:0,(function(){o(this).addClass("smilePanelFrameActive");var e=o(this).data("jsp");e&&e.reinitialise(),t.remove()})),c}},74618:function(e,t,i){i.r(t);var n=i(7843),a=i(97129),s=i(38601),o=i(13400),r=function(){function e(){this.allowedCategories=["custom_smileys"],this.getStoreKey=function(e){var t,i,n,a,o;if(!document.body)return e;var r=document.body.dataset.user||(null===(o=null===(a=null===(n=null===(i=null===(t=null===window||void 0===window?void 0:window.StoreSync)||void 0===t?void 0:t.defaultStore)||void 0===i?void 0:i.getState)||void 0===n?void 0:n.call(i))||void 0===a?void 0:a.user)||void 0===o?void 0:o.username),l=e;if(r){var c=e+"_"+(0,s.TJ)(r);l=localStorage.getItem(e)?e:c}return l},e.storageKey=this.getStoreKey(e.storageKey),e.cookieKey=this.getStoreKey(e.cookieKey),e.storageReactionsKey=this.getStoreKey(e.storageReactionsKey)}return e.getInstance=e.prototype.getSmileReactions=function(){var t=(0,o.json_parse)(localStorage.getItem(e.storageReactionsKey));return Array.isArray(t)?t.slice(0,e.maxRecentSmileys+1):[]},e.prototype.getAll=function(t){var i=this,s=(0,o.json_parse)(localStorage.getItem(e.storageKey)||(0,n.Vj)(e.cookieKey));return Array.isArray(s)?(t&&(s=s.filter((function(e){return(null==e?void 0:e.icon)||i.allowedCategories.includes(null==e?void 0:e.category)||a.TP.find(()}))),(s=s.filter(()).slice(0,e.maxRecentSmileys+1)):[]},e.prototype.setReaction=function(t){var i=this.merge(t,!0);localStorage.setItem(e.storageReactionsKey,JSON.stringify(i.slice(0,e.maxRecentSmileysInStore)))},e.prototype.set=function(t){var i=this.merge(t);localStorage.setItem(e.storageKey,JSON.stringify(i.slice(0,e.maxRecentSmileysInStore)))},e.prototype.merge=function(e,t){void 0===t&&(t=!1);var i=t?this.getSmileReactions():this.getAll(!1);if(!e)return i;if(null==e?void 0:e.icon){var n=-1,s=i.find((function(t,i){if(t.icon&&t.icon===e.icon)return n=i,!0}));return s||i.unshift(e),s&&(i.splice(n,1)[0],i.unshift(s)),i}var o=-1,r=i.find(();if(r){var l,c=i.splice(o,1)[0],u=null==c?void 0:c.category;if(u)return i.unshift(c),i;if(null==e?void 0:e.category)return i.unshift(e),i;if(!u&&!(null==e?void 0:e.category))(l=(0,a.ld)(e.shortcut))&&(e.category=l,i.unshift(e))}r||((l=(0,a.ld)(e.shortcut))&&(e.category=l),i.unshift(e));return i},e.prototype.remove=function(t){if(t){var i=this.getAll(!1).filter(();localStorage.setItem(e.storageKey,JSON.stringify(i))}},e.storageKey="sm_r",e.storageReactionsKey="sm_rr",e.cookieKey="sm_r",e.maxRecentSmileys=30,e.maxRecentSmileysInStore=100,e}();t.default=r},51211:function(e,t,i){i.r(t),i.d(t,{default:function(){return O}});var n=i(59312),a=i(90685),s=i(51669),o=i(58847),r=i(99759),l=i(97129),c=i(25875),u=i(33676),d=i(34716),h=i(1931),m=i(99319),p=i(50754),f=i(91259),_=i(96342),v=i(29808),y=i(50879),T=i(20217),E=i(13297),b=i(60267),g=i(85662),A=i(65311),S=function(){function e(e,t){var i=this;this._isPanelOpen=!1,this.countColumns=r.xI,this.isModerator=!1,this.prevWindowWidth=window.innerWidth,this.isIE11=p.o.isIE11(),this.isMobileSmileys=!1,this.smileyTabList=[],this.uniqueId=Math.floor(Math.random()*r.jO),this.renderSmileyFrame=function(e,t,n){void 0===n&&(n=!1);var a=A((0,y.A)(e,{isMobileSmileys:i.isMobileSmileys,countColumns:i.countColumns}));return a.addClass("smilePanelFrameActive"),n?t.prepend(a):t.append(a),a},this.handleWindowResize=function(){window.innerWidth!==i.prevWindowWidth&&(i.hide(),i.prevWindowWidth=window.innerWidth)},this.attachObserverFallback=function(){clearTimeout(i.fallbackDebounce),i.fallbackDebounce=window.setTimeout((function(){var e=i.$panel.find(".smilePanelFrameActive");if(e.length&&e.hasClass("lazy")){var t=e.find("img.js-apng-load"),n=e.get(0);t.each((function(e){var i=t.get(e);i.getBoundingClientRect().top<=n.getBoundingClientRect().bottom&&(i.classList.remove("js-apng-load"),(0,l.HK)(i))}))}}),r.Fp)};var n=t.isMobile,s=t.isTablet,o=t.isMobileApp;this.$body=A("body"),this.$chat=A("#bChat"),this.$element=e,this.options=t,this.$element.data("smileys")||(this.$element.data("smileys",this),this.$input=this.$element.find(".".concat(r.u)),this.$button=this.$element.find(".".concat(r.nG)),this.isModerator=a.Z.getState().isModerator,this.isMobileSmileys=Boolean(o||n||s),this.init())}return Object.defineProperty(e.prototype,"isPanelOpen",{get:enumerable:!1,configurable:!0}),e.prototype.init=function(){this.$element.addClass("js-smile_panel_input"),this.$panel=A("<div />").addClass("smilePanel"),this.options.styleClass&&this.$panel.addClass(this.options.styleClass);var e=this.$chat.width();e<r.WI?this.countColumns=r.$9:e<r.Pm&&(this.countColumns=r.kz),this.attachHandlers()},e.prototype.attachHandlers=function(){var e=this;this.$body.on("click.smileys".concat(this.uniqueId," mousedown.smileys").concat(this.uniqueId),(function(t){e.onBodyClick(t)})).on("keydown.smileys".concat(this.uniqueId),().on("keydown",".".concat(r.u),(function(){return e.hide()})),A(document).on("chat-drag-resize-start",(function(){b.G.isEnabled(g.Z.MOBILE_CHAT_DRAG_IMPROVED)&&window.isLandscape()||e.hide()}))},e.prototype.destroy=function(){this.detachHandlers(),this.detachPanelHandlers(),this.$element.removeData("smileys"),this.$panel.remove()},e.prototype.open=function(e){if(!this.checkElementsBeforeOpen())return{isSmileysWasOpen:!1};var t=e.currentTarget,i=A("#bSignup");if(!i.length&&!A("#member_join_popup_trigger").length){this.$panel.find(".smilePanelFrame").length||this.render(),this.calculatePanelPosition(),this.$panel.show(),this._isPanelOpen||this.attachPanelHandlers(),this._isPanelOpen=!0;var n=this.$panel.find(".smilePanelFrameActive");return(0,f.h)()&&n.is(".smilePanelFrameSearch")&&n.is(".empty")&&(n.removeClass("smilePanelFrameActive").hide(),(n=this.$panel.find(".smilePanelFrame:first")).addClass("smilePanelFrameActive").show(),this.$panel.find(".smilePanelTab:first").addClass("smilePanelTabActive"),this.$panel.find(".smilePanelViewer").find(".smile-tab-title, .smileAbout").show()),n.data("title")&&this.$panel.find(".smile-tab-title .smileTitle").show().html(n.data("title")),{isSmileysWasOpen:!0}}this.$panel.hasClass("in_chat")&&A("#login_or_join_popup").length&&"function"==typeof A.openLoJPopup?A.openLoJPopup():A("#member_join_popup").length&&"undefined"!=typeof sv?A.signupEvent.call(t,e):i.click();var a=new IntersectionObserver((function(e){var t=e[0],i=t.intersectionRatio,n=t.target;i<=.1&&n.scrollIntoView({behavior:"smooth",block:"end"}),a.disconnect()}));return this.$panel[0]&&a.observe(this.$panel[0]),{isSmileysWasOpen:!1}},e.prototype.hide=e.prototype.checkElementsBeforeOpen=function(){return this.$panel||(this.$panel=A(".smilePanel")),this.$button||(this.$button=A(".".concat(r.nG))),Boolean(this.$panel.length&&this.$button.length)},e.prototype.calculatePanelPosition=function(){var e=this.getTopOffset(),t=0,i=0,n=a.Z.getState().isFullScreen;this.$panel.removeAttr("style"),n&&!this.$element.parents(".reply_im_container").length?i=s.Go?10:48:t=this.getLeftOffset(),this.$panel.css({top:"".concat(Math.max(e,0),"px"),left:!this.options.isMobile||this.options.isTablet&&t?"".concat(t,"px"):"",right:i?"".concat(i,"px"):""})},e.prototype.render=function(){var e=this.renderTabList().defaultActiveTab;this.$panelFrameWrapper=A("<div/>").addClass("smile_panel_frame_wrapper"),this.$panel.append(this.$panelFrameWrapper);var t=this.renderSmileyFrame(e,this.$panelFrameWrapper);return this.$panel.children().wrapAll('<div class="smilePanelContent"></div>'),{defaultActiveTab:e,$initialSmileyFrame:t}},e.prototype.renderTabList=function(){var e=_.A8.CUSTOM,t=[_.A8.CUSTOM];return this.options.isMobileApp&&this.options.premium?t.push(_.A8.BIG):(this.options.premium||this.options.unicode)&&t.push.apply(t,[_.A8.BIG,_.A8.TEXT]),t.length>1&&(this.$tabsWrapper=A((0,T.r)(t,e,this.options.isMobile||this.options.isMobileApp)),this.$panel.prepend(this.$tabsWrapper)),this.smileyTabList=t,{defaultActiveTab:e}},e.prototype.detachHandlers=function(){this.$body.off("click.smileys".concat(this.uniqueId," mousedown.smileys").concat(this.uniqueId)).off("keydown.smileys".concat(this.uniqueId))},e.prototype.initSmilesLazyLoad=function(){(0,c.R)()?this.attachObserver(this.$panel.find(".smilePanelFrameActive")):(this.attachObserverFallback(),this.$panel.hasClass("newSmileys")?this.$panel.on("scroll.observer",this.attachObserverFallback):this.$panel.find(".smilePanelFrame").on("scroll.observer",this.attachObserverFallback))},e.prototype.attachOnSmileImageLoadHandler=function(e){e.on("load",()},e.prototype.attachObserverForActiveFrame=function(e){(0,c.R)()&&(this.detachObserver(),this.attachObserver(e));var t=e.find(".smileyContainer.__hidden img");this.attachOnSmileImageLoadHandler(t)},e.prototype.attachPanelHandlers=function(){var e=this;this.$panel.on("click",".smileyContainer, .smileyGraphic",(),this.$tabsWrapper&&this.$panel.on("click",".smilePanelTab",(),this.initSmilesLazyLoad();var t=this.$panel.find(".smileyContainer.__hidden img");this.attachOnSmileImageLoadHandler(t),A(window).on("resize.resize_smile",this.handleWindowResize),this.$panel.find(".smileyHeaderCloseIcon").on("click",()},e.prototype.detachPanelHandlers=function(){this.$panel.off("click"),this.detachObserver(),this.$panel.off(".observer"),this.$panel.find(".smilePanelFrame").off(".observer"),A(window).off(".resize_smile"),this.$panel.find(".smileyHeaderCloseIcon").off("click")},e.prototype.onBodyClick=function(e){var t=A(e.target);t.is(this.$panel)||t.parents(".smilePanel").is(this.$panel)||t.is(this.$button)||t.parents(".".concat(r.nG)).is(this.$button)||this.hide()},e.prototype.onBodyKeydown=function(e){e.keyCode===h.u.ESCAPE&&(this.$panel.find(".smiley-popup").hide(),this.hide())},e.prototype.onTabClick=function(e,t){void 0===t&&(t=!0),this.updateActiveTab(e);var i=e.data("tab"),n=this.$panel.find(".smilePanelFrame"),a=(0,v.v)(i,n,{isMobileSmileys:this.isMobileSmileys,countColumns:this.countColumns,isImmediateAppearance:t});return this.attachObserverForActiveFrame(a),a},e.prototype.updateActiveTab=e.prototype.onClickSmiley=function(e){var t=A(e),i=t.find("img");if(i.length||(i=t),this.options.premium&&(i.parents(".smilePanelFrameBig").length||i.parents(".smilePanelFrameText").length||i.parents(".smileyCategory-big_smileys").length||i.parents(".smileyCategory-text_smileys").length)&&!(0,E.g)())return window.chat.buyTokensPopup(),window.chat.addServiceMessage(__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),!1;if(this.options.insertCallback)this.options.insertCallback(i.attr("token"));else if(!this.$input.is(":disabled")){if(this.isIE11||this.options.isLegacySendMode){var n=this.$input.val();(u=i.attr("token"))||(u=i.text()),u=" ".concat(u," ");var a=this.$input[0],s=a.selectionStart,o=a.selectionEnd,r=a.scrollWidth,l=n.slice(0,s)+u+n.slice(o);this.$input.val(l),A(this.$element).trigger("smile:clicked",[l]);var c=s+u.length;a.setSelectionRange(c,c),this.$input.trigger("focus"),a.selectionEnd===a.value.length?a.scrollLeft=Math.floor(a.scrollWidth):s>0&&a.scrollWidth>a.clientWidth&&(a.scrollLeft+=Math.floor(a.scrollWidth-r))}else{var u;(u=i.attr("token"))||(u=i.text());var h=this.$input.attr("id")||d.N.CHAT;this.isModerator&&(h=A("#public-chat").is(":visible")?d.N.PUBLIC_CHAT:d.N.PRIVATE_CHAT),document.dispatchEvent(new CustomEvent(d.t.INSERT_SMILE,{detail:{inputId:h,token:u}}))}return!0}},e.prototype.getTopOffset=function(){var e=a.Z.getState(),t=this.$panel.hasClass("in_chat")&&(0,m.$)(e),i=this.$button.offset().top-this.$panel.height()+12;return this.$panel.hasClass("smilePanelFixed")&&(i-=A(window).scrollTop()),i-=37,(A("#bChatMobileApp").length||this.$button.hasClass("smileButtonModel"))&&(i-=19),A("#chat_bar_v2").length&&(i-=-1),t&&(i+=-2),i},e.prototype.getLeftOffset=function(){var e=a.Z.getState(),t=this.$panel.hasClass("in_chat"),i=t&&(0,m.$)(e),n=e.isFullScreen;if(i){var o=document.getElementById("chat-control-panel"),r=(0,u.l)(o);return s.Go?r.x1:r.x2-this.$panel.outerWidth()}var l=this.$button.offset().left;if(s.Go||(l-=this.$panel.outerWidth()),s.Go?l+=i?-3:12:l+=i?37:10,this.$panel.hasClass("smilePanelFixed")&&((l-=A(window).scrollLeft())+this.$panel.outerWidth()>A(window).width()&&(l-=l+this.$panel.outerWidth()-A(window).width()),l<=0&&(l=0)),t)if(n&&s.Go){var c=document.getElementById("send-input-container"),d=null==c?void 0:c.getBoundingClientRect();l=d.right-d.width}else l+=2;return this.$button.hasClass("smileButtonModel")&&(l+=52),A("#chat_bar_v2").length&&(s.Go?l-=60:l+=78),l<20&&(l=20),l},e.prototype.attachObserver=function(e){var t=this;if(e.hasClass("lazy")){var i=e.find("img.js-apng-load"),n={root:e.get(0),threshold:r.dV};this.observer=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var i=e.target;i.classList.remove("js-apng-load"),(0,l.HK)(i),t.observer.unobserve(i)}}))}),n),i.each(()}},e.prototype.detachObserver=e}(),C=i(65311),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.$smileyFrameList=[],t.initialTouchPositionX=0,t.initialTouchPositionY=0,t.initialTrackPositionX=0,t.currentTrackPositionX=0,t.activeTabIndex=0,t.swipeXActive=!1,t.swipeYActive=!1,t.swipeBoundaryLeft=0,t.swipeBoundaryRight=0,t.isTouchMove=!1,t.onBodyTouchMove=function(){t.isTouchMove=!0},t.onBodyTouchEnd=t.onTouchStartTrack=function(e){var i=e.originalEvent.touches;if(1===i.length){var n=i[0],a=n.clientX,s=n.clientY;t.initialTouchPositionX=a,t.initialTouchPositionY=s,t.$panelFrameTrack.addClass("__swipe")}},t.onTouchMoveTrack=function(e){var i=e.originalEvent.touches;if(1===i.length){var n=i[0],a=n.clientX,s=n.clientY,o=t.initialTouchPositionX-a,l=t.initialTouchPositionY-s;if(t.swipeXActive||t.swipeYActive||(Math.abs(o)>r.B&&(t.swipeXActive=!0,t.initialTouchPositionX=a),Math.abs(l)>r.B&&!t.swipeXActive&&(t.swipeYActive=!0)),t.swipeXActive&&!t.swipeYActive){e.preventDefault();var c=t.initialTrackPositionX+o,u=t.initialTrackPositionX>c;t.currentTrackPositionX=u?Math.max(t.swipeBoundaryLeft||c,c):Math.min(c,t.swipeBoundaryRight||c),t.translateFrameTrack(t.currentTrackPositionX)}}},t.onTouchEndTrack=function(){if(t.$panelFrameTrack.removeClass("__swipe"),t.swipeXActive){var e=t.initialTrackPositionX>t.currentTrackPositionX,i=(t.initialTrackPositionX-t.currentTrackPositionX)*(e?1:-1)>r.jI,n=t.$panel.width();t.smileyTabList.some((function(a,s,o){if(t.currentTrackPositionX<n*s||o.length-1===s){var r=Math.max(s-(e?1:0),0);i||(r=t.activeTabIndex);var l=t.$panel.find(".smilePanelTabs .smilePanelTab[data-tab='".concat(o[r],"']"));return t.updateActiveTab(l),t.translateFrameTrack(n*r,!0),t.renderFrameOnTabIndexChangeMobile(r),!0}return!1}))}t.swipeXActive=!1,t.swipeYActive=!1},t.renderFrameOnTabIndexChangeMobile=function(e){if(t.activeTabIndex=e,t.activeTabIndex<t.smileyTabList.length-1){var i=t.activeTabIndex+1;if(!t.$smileyFrameList[i]){var n=t.renderSmileyFrame(t.smileyTabList[i],t.$panelFrameTrack);t.adjustSmilePanelFrameSize(n),t.attachObserverForActiveFrame(n),t.$smileyFrameList[i]=n}return t.$smileyFrameList[i]}if(t.activeTabIndex>0){var a=t.activeTabIndex-1;if(!t.$smileyFrameList[a]){n=t.renderSmileyFrame(t.smileyTabList[a],t.$panelFrameTrack,!0);t.adjustSmilePanelFrameSize(n),t.attachObserverForActiveFrame(n),t.$smileyFrameList[a]=n}return t.$smileyFrameList[a]}return t.$smileyFrameList[t.activeTabIndex]},t.handleHidePanel=t}return(0,n.ZT)(t,e),t.prototype.open=function(t){(this.options.isMobile||this.options.isMobileApp)&&(this.$button.addClass("__active"),this.$panel.addClass("smilePanelMobile"),this.options.isTablet&&this.$panel.addClass("__tablet"),this.options.isMobileApp&&this.$panel.addClass("__app"));var i=e.prototype.open.call(this,t).isSmileysWasOpen;if(i){var n=this.$panel.get(0);if((this.options.isMobile||this.options.isTablet)&&(document.addEventListener("touchmove",this.onBodyTouchMove),document.addEventListener("touchend",this.onBodyTouchEnd),document.addEventListener("chatChange",this.handleHidePanel),this.$chat&&this.$chat.on("onBeforeGetRoom",this.handleHidePanel)),this.options.isMobile&&n){var a=n.getBoundingClientRect(),s=a.top,r=a.bottom,l=window.innerHeight;s>=0&&r<=l||(0,o.mI)()||n.scrollIntoView({behavior:"smooth",block:"end"})}}return{isSmileysWasOpen:i}},t.prototype.destroy=function(){(this.options.isMobile||this.options.isMobileApp)&&this.detachTrackHandlers(),e.prototype.destroy.call(this)},t.prototype.hide=function(){e.prototype.hide.call(this),(this.options.isMobile||this.options.isMobileApp)&&this.$button.removeClass("__active"),(this.options.isMobile||this.options.isTablet)&&(document.removeEventListener("touchmove",this.onBodyTouchMove),document.removeEventListener("touchend",this.onBodyTouchEnd),document.removeEventListener("chatChange",this.handleHidePanel),this.$chat&&this.$chat.off("onBeforeGetRoom",this.handleHidePanel))},t.prototype.render=function(){var t=e.prototype.render.call(this),i=t.defaultActiveTab,n="#bChat",a=t.$initialSmileyFrame;return(this.options.isMobile||this.options.isMobileApp)&&(this.options.isMobileApp&&(n="body"),this.options.isTablet&&(n="#video-panel-wrap"),this.$panelFrameTrack=C("<div/>").addClass("smile_panel_frame_track"),this.$panelFrameWrapper.empty().append(this.$panelFrameTrack),a=this.renderSmileyFrame(i,this.$panelFrameTrack),this.$panel.appendTo(n),this.smileyTabList.length>1&&this.initSwipeMobile(i,a)),{defaultActiveTab:i,$initialSmileyFrame:a}},t.prototype.adjustSmilePanelFrameSize=function(e){this.$panelFrameWrapper.length&&e.css("width",this.$panel.width())},t.prototype.calculatePanelPosition=function(){if(this.options.isMobile&&!this.options.isTablet){var t=a.Z.getState().isFullScreen,i=C(".smilePanelFrame");this.adjustSmilePanelFrameSize(i),this.translateFrameTrack(this.$smileyFrameList[this.activeTabIndex].width()*this.activeTabIndex,!0),this.$panel.removeAttr("style");var n=this.$element.outerHeight(),l=0;t&&!this.$element.parents(".reply_im_container").length&&(l=s.Go?r._k:48),this.$panel.css({top:"".concat(n,"px"),right:l?"".concat(l,"px"):""})}else if(this.options.isTablet&&!this.options.isMobileApp){var c=(0,o.mI)()?this.$input.height()+r._k:r._k,u=(l=r._k,0);this.$panel.removeAttr("style"),s.Go&&(l=0,u=r._k),this.$panel.css({bottom:"".concat(c,"px"),right:l?"".concat(l,"px"):"",left:u?"".concat(u,"px"):""})}else e.prototype.calculatePanelPosition.call(this);if(this.options.isMobile||this.options.isMobileApp){var d=this.$panel.width()*r.Ow/100;this.swipeBoundaryLeft=-1*d,this.swipeBoundaryRight=this.$panel.width()*(this.smileyTabList.length-1)+d}},t.prototype.initSwipeMobile=function(e,t){var i=this.smileyTabList.indexOf(e);this.$smileyFrameList[i]=t,this.renderFrameOnTabIndexChangeMobile(i),this.attachTrackHandlers()},t.prototype.attachTrackHandlers=t.prototype.detachTrackHandlers=t.prototype.translateFrameTrack=function(e,t){void 0===t&&(t=!1),t&&(this.initialTrackPositionX=e,this.currentTrackPositionX=e),this.$panelFrameTrack.css("transform","translateX(".concat(-1*e,"px)"))},t.prototype.onTabClick=function(t,i){if(void 0===i&&(i=!0),this.options.isMobile||this.options.isMobileApp){var n=this.$panel.width(),a=this.smileyTabList.indexOf(t.data("tab"));return this.updateActiveTab(t),this.translateFrameTrack(n*a,!0),this.renderFrameOnTabIndexChangeMobile(a)}return e.prototype.onTabClick.call(this,t,i)},t.prototype.onBodyClick=t}(S),O=P},50879:function(e,t,i){i.d(t,{A:function(){return y}});var n=i(96342),a=i(56342),s=i(50754),o=i(31065),r=function(e){for(var t="",i=a.default.getCategory("big_smileys"),n=i.predefinedCollection,r=0;r<n.length;r++)t+=(0,o.p)(n[r],{isMobileSmileys:e});return'\n  <div class="smilePanelFrame smilePanelFrameBig with-scroll" data-category="big_smileys" data-title="'.concat(i.title,'">\n    <div class="smile-frame-content bc_flex bc_flex_justify_center bc_flex_wrap').concat(s.o.isIOS()?" __ios":"",'">\n      ').concat(t,"\n    </div>\n  </div>\n")},l=i(71050),c=function(e){for(var t=a.default.getCategory("custom_smileys"),i=t.predefinedCollection,n="",r=0;r<i.length;r++)n+=(0,o.p)(i[r],{isLittle:!0});return'\n  <div\n    class="'.concat((0,l.Z)({"smilePanelFrame smilePanelFrameCustom with-scroll lazy":!0,smilePanelFrameActive:!0}),'"\n    data-category="custom_smileys"\n    data-columns="').concat(e,'"\n    data-title="').concat(t.title,'"\n  >\n    <div class="smile-frame-content __small bc_flex bc_flex_wrap').concat(s.o.isIOS()?" __ios":"",'">\n      ').concat(n,"\n    </div>\n  </div>\n")},u=function(){return'\n  <div class="smilePanelFrame smilePanelFrameGraphics with-scroll" data-category="user_submitted">\n    <div class="smile-frame-content"></div>\n  </div>\n'},d=function(e,t,i){for(var n=a.default.getCategory("little_smileys"),r=n.predefinedCollection,l="",c="",u=0;u<r.length;u++)3===r[u].version?l+=(0,o.p)(r[u],{isLittle:!0,isMobileSmileys:i}):c+=(0,o.p)(r[u],{isLittle:!0,isMobileSmileys:i});return'\n  <div class="'.concat(e,'" data-category="little_smileys" data-columns="').concat(t,'" data-title="').concat(n.title,'">\n    <div class="smile-frame-content __small bc_flex bc_flex_wrap').concat(s.o.isIOS()?" __ios":"",'">\n      ').concat(i?l:"","\n\n      ").concat(c,"\n    </div>\n  </div>\n")},h=function(){return'\n  <div class="smilePanelFrame smilePanelFrameRecent with-scroll smileyMixedList" data-category="recent_smileys" data-title="'.concat(a.default.getCategory("recent_smileys").title,'">\n    <div class="smile-frame-content"></div>\n  </div>\n')},m=function(e){for(var t="",i=a.default.getCategory("text_smileys"),n=i.predefinedCollection,r=0;r<n.length;r++)t+=(0,o.p)(n[r],{isMobileSmileys:e});return'\n  <div class="smilePanelFrame smilePanelFrameText with-scroll" data-category="text_smileys" data-title="'.concat(i.title,'">\n    <div class="smile-frame-content bc_flex bc_flex_wrap').concat(s.o.isIOS()?" __ios":"",'">\n      ').concat(t,"\n    </div>\n  </div>\n")},p=function(e){var t,i="",n=a.default.getCategory("unicode");n.predefinedCollection[e].forEach(();var s=null===(t=null==n?void 0:n.unicodeType)||void 0===t?void 0:t[e];return'\n    <div class="smilePanelFrame smilePanelFrameUnicode with-scroll" data-category="unicode" data-title="'.concat(s,'">\n      <div class="smile-frame-content">\n        ').concat(i,"\n      </div>\n    </div>\n  ")},f=i(65311),_=function(){var e='<div class="smilePanelFrame smilePanelFrameUpload" data-clear="true"><div class="smile-frame-content">';if(parseInt(f(".js-tokens").html())>0)e+='\n              <div class="smile-upload-form">\n                <form class="smiley-form" method="post" action="'.concat(a.default.urls.uploadImage,'" enctype="multipart/form-data">\n                  <div class="smileyShortcutArea form_data">\n                    <div class="input_wrapper">\n                      <input type="text" name="shortcut" placeholder="').concat(__("Shortcut"),'" maxlength="16" class="smiley-shortcut-input">\n                      <span class="smiley-what" data-popup=".smiley-shortcut-popup">?</span>\n                    </div>\n                    <div class="smiley-shortcut-error"></div>\n                    <div class="smiley-popup smiley-shortcut-popup popover-light">\n                      <div class="corner bot"></div>\n                      <div class="smiley-popup-close popover-light-close"></div>\n                      <div class="smiley-popup-content popover-light-inner">\n                        <div class="smileTitle popover-light-title">').concat(__("Shortcut"),"</div>\n                        <p>").concat(__("The shortcut should start with a colon and contain only letters (a-z), numbers (0-9) and symbols ('-', '_')."),'</p>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="smiley-choose-file">\n                    <div class="smiley-file-dnd">\n                      <label>\n                        <input type="file" name="smileyFile" class="smileyFile">\n                        ').concat(__("%s1%Drag and drop%s2% file here, or %s3%browse%s4% to begin upload",{s1:"<strong>",s2:"</strong>",s3:"<span>",s4:"</span>"}),'\n                      </label>\n                    </div>\n                    <p class="smileyDescription">\n                      ').concat(__("Allowed formats: .jpg, .png, .jpeg, .gif. Maximum size: 1MB."),"\n                      <br/>\n                      ").concat(__("Maximum width: %width% px, maximum height: %height% px.",{width:a.default.graphicsRestrictions.maxWidth,height:a.default.graphicsRestrictions.maxHeight}),'\n                    </p>\n                  </div>\n                  <div class="smiley-upload-file">\n                    <div class="smiley-upload-cancel"></div>\n                    <div class="smiley-filename">\n                      <span class="smiley-filename-val"></span> <span class="smiley-filesize">(<span class="smiley-filesize-val"></span>)</span>\n                    </div>\n                    <div class="smiley-upload-progress">\n                      <div class="smiley-upload-progress-val"></div>\n                    </div>\n                    <div class="smiley-upload-percentage">\n                        ').concat(__("%percent%% uploaded",{percent:'<span class="smiley-upload-percentage-val">0</span>'}),'\n                    </div>\n                    <div class="smiley-upload-error"></div>\n                    <div class="smiley-upload-complete">').concat(__("Completed"),'</div>\n                  </div>\n                  <button class="smiley-submit bt30_green __dark" disabled="disabled"><span>').concat(__("Submit Graphic"),'</span></button>\n                </form>\n              </div>\n              <div class="smile-upload-success">\n                <div class="smileTitle">').concat(__("Your emoticon has been successfully uploaded."),"</div>\n                <p>").concat(__("It will be available after moderation."),"</p>\n              </div>\n            ");else{var t=f('[rel="buy_tokens"][href]').attr("href");e+='\n              <div class="smiley-no-tokens">\n                <div class="smileTitle">'.concat(__("Uploading emoticons is only available for users with Tokens."),'</div>\n                <a class="bt30 bt30_green buy_tokens" rel="buy_tokens" href="').concat(t,'">').concat(__("Buy Tokens"),"</a>\n                <p>").concat(__("Purchase some Tokens to upload your emoticon."),"</p>\n              </div>\n            ")}return e+="</div></div>"},v=y=function(e,t){var i=t.countColumns,a=t.isMobileSmileys;switch(e){case n.A8.RECENT:case n.uf.RECENT_OLD:return h();case n.A8.LITTLE:case n.uf.LITTLE_OLD:return d("smilePanelFrame smilePanelFrameLittle with-scroll lazy",i,a);case n.A8.CUSTOM:case n.uf.CUSTOM_OLD:return c(i);case n.A8.BIG:return r(a);case n.A8.TEXT:return m(a);case n.A8.PEOPLE:return p(n.z6.PEOPLE);case n.A8.NATURE:return p(n.z6.NATURE);case n.A8.FOOD:return p(n.z6.FOOD);case n.A8.SYMBOLS:return p(n.z6.SYMBOLS);case n.A8.FLAGS:return p(n.z6.FLAGS);case n.A8.SUBMITTED:return u();case n.A8.UPLOAD:return _();case n.A8.SEARCH:return v();default:return""}}},31065:function(e,t,i){i.d(t,{M:function(){return c},p:function(){return l}});var n=i(59312),a=i(97129),s=i(71050),o=i(56342);function r(e){return'<span\n      class="'.concat(e.containerClass,'"\n      ').concat(e.styles||"","\n     >\n      ").concat((0,a.z4)((0,n.pi)({className:"smiley_wrp",src:e.src,apngSrc:e.apngSrc,fallbackSrc:e.fallbackSrc,token:e.token},e.imgClass?{class:e.imgClass}:{}),e.manualLoad),"\n    </span>")}function l(e,t){void 0===t&&(t={isMobileSmileys:!1,isLittle:!1});var i=t.isMobileSmileys,n=t.isLittle,a="".concat(o.default.urls.base,"/images/chat/smiles/").concat(e.src),l=null,c=null;e.staticSrc&&(c=a,l=e.hasAPNG?"".concat(o.default.urls.base,"/images/chat/smiles/").concat(o.default.getAPngSmileSrc(e)):null,a="".concat(o.default.urls.base,"/images/chat/smiles/").concat(e.staticSrc));var u="";!i&&(e.w||!n&&e.h)&&(u='style="'.concat(e.w?"width: ".concat(e.w,"px;"):"").concat(!n&&e.h?"height: ".concat(e.h,"px"):"",'"'));var d=Boolean(l||c);return r({src:a,apngSrc:l,fallbackSrc:c,styles:u,manualLoad:d,token:e.tokens[0],containerClass:(0,s.Z)({smileyContainer:!0,__hidden:!0}),imgClass:(0,s.Z)({sc_img:!0,"js-apng-load":d})})}function c(e){var t="".concat(o.default.urls.base,"/images/chat/smiles/").concat(e.src),i=null,n=null;return e.staticSrc&&(n=t,i=e.hasAPNG?"".concat(o.default.urls.base,"/images/chat/smiles/").concat(o.default.getAPngSmileSrc(e)):null,t="".concat(o.default.urls.base,"/images/chat/smiles/").concat(e.staticSrc)),r({src:t,apngSrc:i,fallbackSrc:n,token:e.shortcut,containerClass:"smileyContainer",imgClass:e.imgClass})}},20217:function(e,t,i){i.d(t,{r:function(){return l}});var n=i(56342),a=i(9301),s=i(71050),o=i(96342);var r=i(91259),l=function(e,t,i){void 0===i&&(i=!1);var l=!a.i.isNewVersion(279);return e.length?'\n          <div\n            class="'.concat((0,s.Z)({smilePanelTabs:!0,__without_small:!l}),'"\n          >\n            ').concat(e.map((function(e){return function(e){var t,i=e.tabData,a=e.isActive,l=e.className,c=e.isMobile;if(null===i)return"";var u=function(e){switch(e){case o.A8.RECENT:return{icon:c?"":"#svg_ch_tab_time",text:c?n.default.getCategory("recent_smileys").title:"",className:""};case o.uf.RECENT_OLD:return{icon:"",text:c?n.default.getCategory("recent_smileys").title:"",className:c?"":"smile-tab-recent"};case o.A8.LITTLE:var t=(0,r.h)()?n.default.getCategory("little_smileys").title:__("Smiles");return{icon:c?"":"#svg_ch_tab_smiles",text:c?t:"",className:""};case o.uf.LITTLE_OLD:var i=(0,r.h)()?n.default.getCategory("little_smileys").title:__("Smiles");return{icon:"",text:c?i:"",className:c?"":"smile-tab-little"};case o.A8.CUSTOM:return{icon:c?"":"#svg_ch_tab_custom",text:c?n.default.getCategory("custom_smileys").title:"",className:""};case o.uf.CUSTOM_OLD:return{icon:"",text:c?n.default.getCategory("custom_smileys").title:"",className:c?"":"smile-tab-custom"};case o.A8.PEOPLE:return{icon:"#svg_ch_tab_smile",text:"",className:""};case o.A8.NATURE:return{icon:"#svg_ch_tab_nature",text:"",className:""};case o.A8.FOOD:return{icon:"#svg_ch_tab_food",text:"",className:""};case o.A8.SYMBOLS:return{icon:"#svg_ch_tab_symbols",text:"",className:""};case o.A8.FLAGS:return{icon:"#svg_ch_tab_flags",text:"",className:""};case o.A8.BIG:return{icon:"",text:c?n.default.getCategory("big_smileys").title:"",className:c?"":"smile-tab-big"};case o.A8.TEXT:return{icon:"",text:c?n.default.getCategory("text_smileys").title:"",className:"smile-tab-text"};case o.A8.SUBMITTED:return{icon:"",text:c?n.default.getCategory("user_submitted").title:"",className:"smile-tab-graphics"};case o.A8.UPLOAD:return{icon:"",text:"",className:"smile-tab-upload"};default:return{icon:"",text:"??",className:""}}}(i),d=i);return'\n    <div class="'.concat((0,s.Z)((t={smilePanelTab:!0,"smile-tab":!0,smilePanelTabActive:a,"smile-tab-icon":Boolean(u.icon),smilePanelTabUnicode:Boolean(u.icon)},t["".concat(u.className)]=Boolean(u.className),t["".concat(l)]=Boolean(l),t)),'" data-tab="').concat(d,'">\n      ').concat(u.icon?function(e){var t=e.group,i=void 0===t?"":t,n=e.icon,a=void 0===n?"":n,s=e.className,o=void 0===s?"":s,r=e.url,l=void 0===r?"":r,c=l?"/images/"+l+a:"/images/sprite/bc/smile_2.svg"+a;return'\n    <svg class="'.concat(i,'" xmlns="http://www.w3.org/2000/svg">\n      <use class="').concat(o||"",'" xlinkHref="').concat(c,'" href="').concat(c,'"/>\n    </svg>\n  ')}({icon:u.icon,group:"smile-icon"}):"","\n\n      ").concat(u.text?'<span class="sm_t_label">'.concat(u.text,"</span>"):"","\n    </div>\n  ")}({tabData:e,isActive:e===t,isMobile:i})})).join(""),"\n          </div>\n        "):""}},58847:function(e,t,i){if(i.d(t,{Qn:function(){return p},Sn:function(){return _},T8:function(){return f},fM:function(){return d},gp:function(){return h},mI:function(){return m}}),/^1[689]$/.test(i.j))var n=i(53070);var a=i(50754),s=i(65311),o=window.outerWidth||document.documentElement.offsetWidth||document.documentElement.clientWidth,r=window.outerHeight||document.documentElement.offsetHeight||document.documentElement.clientHeight,l=o>r,c=null,u=window.navigator.userAgent.toLowerCase().indexOf("windows phone 10")>=0||a.o.isIOS(),d=function(){return u?s(window).width():window.innerWidth},h=function(){return u?s(window).height():window.innerHeight},m=function(){var e,t,i=null===(t=null===(e=null===window||void 0===window?void 0:window.screen)||void 0===e?void 0:e.orientation)||void 0===t?void 0:t.type;return void 0!==i&&window.self===window.top?"landscape-primary"===i||"landscape-secondary"===i:d()>h()},p=function(e){var t=d(),i=h();if(e&&(c=null),(0,n.o)(o,t,5)&&r>=i)return c=null===c;var a=!(0,n.o)(t,o,5)||i>r;return o=t,r=i,c=null===c||(a||l!==t>i),l=t>i,c},f=_=function(){var e=document.activeElement;e&&"function"==typeof e.blur&&e.blur(),s("input").blur()}},99319:function(e,t,i){i.d(t,{$:);var n=}]);