"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[147],{9124:(e,t,r)=>{r.r(t),r.d(t,{Aggregate:()=>x});var i=r(27),s=r(4045),n=r(6875),o=r(5330),c=r(6034),a=r(4329),u=r(2374),h="React",p="Angular",l="AngularJS",d="Backbone",g="Ember",y="Vue",b="Meteor",w="Zepto",S="Jquery";function f(){if(!u.il)return[];var e=[];try{(function(){try{if(window.React||window.ReactDOM||window.ReactRedux)return!0;if(document.querySelector("[data-reactroot], [data-reactid]"))return!0;for(var e=document.querySelectorAll("body > div"),t=0;t<e.length;t++)if(Object.keys(e[t]).indexOf("_reactRootContainer")>=0)return!0;return!1}catch(e){return!1}})()&&e.push(h),function(){try{return!!window.angular||(!!document.querySelector(".ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]")||!!document.querySelector('script[src*="angular.js"], script[src*="angular.min.js"]'))}catch(e){return!1}}()&&e.push(l),function(){try{return!!(window.hasOwnProperty("ng")&&window.ng.hasOwnProperty("coreTokens")&&window.ng.coreTokens.hasOwnProperty("NgZone"))||!!document.querySelectorAll("[ng-version]").length}catch(e){return!1}}()&&e.push(p),window.Backbone&&e.push(d),window.Ember&&e.push(g),window.Vue&&e.push(y),window.Meteor&&e.push(b),window.Zepto&&e.push(w),window.jQuery&&e.push(S)}catch(e){}return e}var M=r(9548),m=r(9226),k=r(8226),R=r(2650),v=r(8544);class x extends o.m{static featureName=c.t9;constructor(e,t){let r;super(e,t,c.t9),(0,s.X)("block-err",(()=>{this.blocked=!0,r&&(r.aborted=!0)}),this.featureName,this.ee),(0,s.X)(c.xS,this.storeSupportabilityMetrics.bind(this),this.featureName,this.ee),(0,s.X)(c.vz,this.storeEventMetrics.bind(this),this.featureName,this.ee),this.singleChecks(),this.eachSessionChecks(),r=new n.o("jserrors",{onUnload:()=>this.unload()},this),r.harvest.on("jserrors",(()=>({body:this.aggregator.take(["cm","sm"])}))),(0,a.L)(this.agentIdentifier,this.featureName)}storeSupportabilityMetrics(e,t){if(this.blocked)return;const r=c.mY,i={name:e};this.aggregator.storeMetric(r,e,i,t)}storeEventMetrics(e,t){if(this.blocked)return;const r=c.gF,i={name:e};this.aggregator.store(r,e,i,t)}singleChecks(){this.storeSupportabilityMetrics("Generic/Version/".concat(k.q4,"/Detected"));const{distMethod:e,loaderType:t}=(0,i.OP)(this.agentIdentifier);t&&this.storeSupportabilityMetrics("Generic/LoaderType/".concat(t,"/Detected")),e&&this.storeSupportabilityMetrics("Generic/DistMethod/".concat(e,"/Detected")),u.il&&(0,R.K)((()=>{f().forEach((e=>{this.storeSupportabilityMetrics("Framework/"+e+"/Detected")}))})),M.T.isFileProtocol()&&(this.storeSupportabilityMetrics("Generic/FileProtocol/Detected"),M.T.supportabilityMetricSent=!0);const r=(0,m.$c)(this.agentIdentifier);r.length>0&&this.storeSupportabilityMetrics("Generic/Obfuscate/Detected"),r.length>0&&!(0,m.Ng)(r)&&this.storeSupportabilityMetrics("Generic/Obfuscate/Invalid")}eachSessionChecks(){u.il&&(0,v.bP)("pageshow",(e=>{e.persisted&&this.storeSupportabilityMetrics("Generic/BFCache/PageRestored")}))}unload(){try{if(this.resourcesSent)return;const e=(0,i.OP)(this.agentIdentifier);this.resourcesSent=!0;const t=["beacon","fetch","xmlhttprequest"],r=["nr-data.net","newrelic.com","nr-local.net","localhost"];function s(e){return t.includes(e.initiatorType)}(performance?.getEntriesByType("resource")||[]).forEach((e=>{var t;t=e,r.some((e=>t.name.indexOf(e)>=0))?s(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/Internal"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/Internal"):s(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/External"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/External")})),Object.keys(e.bytesSent).forEach((t=>{this.storeSupportabilityMetrics("PageSession/Endpoint/".concat(t.charAt(0).toUpperCase()+t.slice(1),"/BytesSent"),e.bytesSent[t])})),e.ptid&&this.storeSupportabilityMetrics("PageSession/Feature/SessionTrace/DurationMs",Math.round(performance.now()))}catch(n){}}}}}]);