"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8125],{83603:46877:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(52322),a=r(2784),Builder_BuilderError=o=r(6781),i=r(83603),l=r(87353),s=r(2530),u=r(80638);let CaptureContent=c=a.forwardRef((e,t)=>{let{fetchingOrBuilding:r,errorMessage:o,scaleStrategy:s,updateTransformScalar:u}=e,c=a.useRef(null);return a.useImperativeHandle(t,,(0,l.Z)({playerEl:c.current,strategy:s,embeddedInApp:!0,updateTransformScalar:u,pause:r}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{ref:c,style:{visibility:o?"hidden":void 0,position:"absolute",height:"100%",width:"100%",margin:0}}),(0,n.jsx)(CaptureContent,{fetchingOrBuilding:r,errorMessage:o})]})});c.displayName="WebCapturePreview";var d=c},81291:19894:function(e,t,r){r.d(t,{Z:function(){return use_build_web_capture}});var n=r(2784),a=r(70274),o=r(87688),i=r(89370),l=r(83408),s=r(71664);let u=(0,l.hu)("debug:navattic:personalization"),parsePersonalizedElement=setPersonalizedSrc=setPersonalizedBackgroundImage=setPersonalizedText=setPersonalizedInputValue=applyPersonalizationFallback=c="[".concat(i.lz,"][").concat(i.rX,"]"),applyPersonalization=applyPersonalizationToCapture=var d=r(30555),p=r(64627),use_fetch_capture=use_build_web_capture=,64627:function(e,t,r){r.d(t,{Az:function(){return getWebCaptureFromCache},J9:function(){return fetchWebCaptureCacheFirst},KE:function(){return requestThemeToken},Y6:function(){return initiateWebCapture},qd:function(){return requestProductDemoCaptureToken}});var n=r(24595),a=r(17840),o=r(16377),i=r(39391);let requestProductDemoCaptureToken=async e=>{let{collectionId:t,flowId:r,maxAge:a=300}=e;return await n.Z.requestSessionToken({collectionId:t,flowId:r,action:"EDIT",mode:"product-demo","max-age":a})};et initiateWebCapture=async e=>{let{collectionId:t,url:r,clickToCaptureEnabled:n}=e,o=await a.qE();if(!o)return{ok:!1,error:"Chrome extension needs to be installed"};let i=await requestProductDemoCaptureToken({collectionId:t,maxAge:3600});if(!i)return{ok:!1,error:"Failed to request session token for initiating capture"};let l=await a.Xi({url:r,token:i,collectionId:t,config:{clickToCapture:n}});return l?{ok:!1,error:l}:{ok:!0,error:void 0}},l=o.Z.CAPTURE_PLAYER_URL,fetchWebCapture=s=new Map,fetchWebCaptureCacheFirst=getWebCaptureFromCache=,50733:63749:]);
//# sourceMappingURL=8125-a2cfea7c3e810926.js.map