(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-32"],{5292:(t,e,r)=>{r.d(e,{F:()=>G,L:()=>U});var a=r(449);var n=r.n(a);var i=r(5226);var o=r(3109);var c=r(5227);var l=r(3101);var s=r(3079);var u=r(944);var f=r(3071);var h=r(3072);var d=r(391);var g=r(5288);var v=r(3068);var p=r(5221);var y=r(5223);var m=r(5228);var b=r(3106);var x=r(3107);var O=r(5230);var S=r(5270);var k=r(942);var w=r(5219);var E=r(3098);var P=r(3096);var L=r(5245);var C=r(941);var j=r(3104);var D=r(943);var A=r(5232);var I=r(3067);var T=r(5293);var z=r(5218);)("column-stacked",T.L);var U=function(t){"use strict";var e;!a,t);var r=(e=),;ar g,I;return I=[{key:"getClassName",value:function(){return"ColumnStacked"}}],g=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,r=this.root;var a=new L.T({instance:this});var o=this.getSheetData();var c=(0,x.s)(o);var l=(0,p.kL)(e);var d=this.runtime={width:e.width,height:e.height,components:{},layout:{},inanimate:(0,b.U7)(e),sheet:o,formatter:c,percent:l};var g=this.prepareSheetData(o,this.sheetIndex);this.createTickIntervals(),(0,P.Z)(this,{width:e.width}),(0,j.o)(this,e.style.legend);var S=(0,E.wL)({instance:this});if(!(this.sheetsNotFound(g)||this.failSafeByHeight(40))){var D=d.margin=d.layout.margin={top:0,right:0,bottom:0,left:0};var A=d.layout.marginTitle={left:0,right:0,top:0,bottom:0};var I=d.layout.marginAxis={left:0,right:0};var T=d.limits={maxCategoryWidth:0,maxCategoryHeight:6};var R=d.bottomLabelPadding={top:6,right:2,bottom:0,left:2};var Z=this.createAnimationCounter(3);var H=M(o.axis,2),B=H[0],W=H[1];d.xAxisOptions=B,d.yAxisOptions=W;var U=e.style.axis,G=U.x,N=U.y;var _=e.style.grid;var V=n().get(B,"title");var F=d.categoryData=this.getCategoryData(g);var q=d.yDomain="absolute"!==e.series.data||(0,E.cM)(this)?this.getDomain(g):this.getSheetsSeriesDomain();var J=(0,w.b9)(W,q);var Y=q[0]<0;var $=d.yScale=(0,s.Z)().domain(q).clamp(J);d.categoryLayout=o.categories.layout;var Q=d.spacing={maxBeforeXAxisTick:50,beforeCategoryBorder:Y?R.top:0,beforeBottomCategories:5};var X=d.components.yAxisLeftText=(0,m.R)().scale($).orient("left").style(N.tick);this.titleLayout(["x","y"]);var K=(0,k.Zw)([(0,k.LD)(F)],G.tick);D.right+=Math.ceil(.5*K.height);var tt=d.width-D.left-A.left-D.right-A.right;var te={width:0,height:0};if(W.ticks){var tr=(0,z.hv)($,this.runtime.yTickInterval);if(l){var ta=(0,p.s5)(c.axis.y);tr.forEach(,te=(0,k.Zw)(tr,N.tick)}else te=this.yTicksMetrics(tr);I.left=te.width,D.top=te.height}var tn=d.height-D.top-A.top-D.bottom-A.bottom;V&&(T.maxCategoryHeight+=R.bottom),T.maxCategoryHeight+=Math.floor(.27*tn),d.graphWidth=tt-I.left-I.right;var ti=(0,i.Z)(0,F.length);var to=d.xScale=this.createHorizontalScale(ti,[0,d.graphWidth],this.featuresColumnWidth(o));d.xScaleResize=this.createHorizontalScaleResize(),T.maxCategoryWidth=to.rangeBand()+to.padding()-R.left-R.right,d.igcLeftOffset=D.left+A.left+I.left,this.featuresCurtainAnimation()&&(d.igcLeftOffset=Math.floor(d.igcLeftOffset)),1===ti.length&&(T.maxCategoryWidth=d.graphWidth-R.left-R.right);var tc=this.createCategoryLabels();T.maxCategoryHeight=tc.height+R.top+R.bottom,B.ticks||(T.maxCategoryHeight=1);var tl=d.graphHeight=tn-T.maxCategoryHeight-Q.beforeCategoryBorder;var ts=(0,y.z)().style(G.tick).data(B.ticks?tc.renderData:[]).textAlign(tc.renderData.textAlign).bounds({height:T.maxCategoryHeight,y:tn-T.maxCategoryHeight+Q.beforeBottomCategories});$.rangeRound([tl,0]);var tu=d.components.yGridLines=(0,O.V)().scale($).orient(O.V.ORIENTS.horizontal).tickSize(-tt).highlightZero(o.grid.horizontalZeroHighlight).style(_).offset({left:-I.left});var tf=(0,O.V)().scale(to).orient(O.V.ORIENTS.vertical).tickSize(tl).highlightZero(o.grid.verticalZeroHighlight).style(_);o.grid.vertical||tf.tickValues([]),X.textOffset(-(te.height-te.baseLineOffset)).offset({left:-I.left}),this.yTicksSetup(),this.gridSetupHorizontal();var th=0;W.ticks&&(th=X.getBorderingTick()-te.height)>0&&(th=0),d.layout.firstTickOffset=th;var td=D.top+A.top;this.titleComponents(["x","y"]);var tg=d.components,tv=tg.bottomTitle,tp=tg.leftTitle;tv.dispatch().on("animationEnd",Z);var ty={igc:{x:d.igcLeftOffset,y:td}};d.inanimate&&(0,b.wH)([tp,tv,tf,tu,X,ts]),this.containerSetup();var tm=r.select(".igc");var tb=f[e.animation.ease];var tx=e.animation.duration;r.attr("width",d.width).attr("height",d.height),a.add(,a.addGrid(X,"igc-y-axis-text"),a.addGrid(tu,"igc-ygrid"),a.addGrid(tf,"igc-xgrid"),a.addGrid(ts,"igc-x-axis-text"),a.addGraph([{graphs:g,x:to,y:$,textStyle:e.style.graph.item.value,legend:S,transitionDuration:tx,tooltip:(0,C.F2)(this),animationEnd:Z}]),this.featuresCurtainAnimation()&&a.add(function(){var e=r.select("defs");var a={x:-d.igcLeftOffset,y:-td,width:d.width,height:d.height,clipPathId:"igc-cp-curtain-".concat(t.chartId)};tm.selectAll(".igc-graph").attr("clip-path","url(".concat((0,k.GR)(a.clipPathId),")")),(0,v.d)(e,a);var n=e.select("#".concat(a.clipPathId)).selectAll("path");n.attr("transform","translate(-".concat(d.width+d.igcLeftOffset,", 0)")).transition().on("end",.duration(d.inanimate?0:500).ease(h.G).attr("transform","translate(0, 0)")}),"AreaStepped"!==this.getClassName()&&o.grid.horizontal&&B.ticks?a.addGrid("igc-x-axis-border"):a.add(,a.addTitle(tp,"igc-title-left"),a.addTitle(tv,"igc-title-bottom"),a.start()}}},{key:"graphInstanceSetup",value:function(t,e,r,a){var n=a.graphs.length;var i=this.chartId,o=this.runtime;var c=o.formatter,l=o.percent,s=o.sheet;var u=a.transitionDuration,f=a.legend,g=a.tooltip;var v=e.colors;var y="AreaStepped"===this.getClassName()?.7:null;var m=this.graphData({data:e.data,colors:v,groupOffset:0,groupCount:1});var x=(0,d.Z)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl");f&&f.data().forEach(;var O=(0,E.Cf)({easing:h.G,ns:"shape",opacity:y,dispatch:x,alpha:this.options.opacity});var S=var k=function(t){return t.groupLabel};l&&(S=function(t){return t.xLabel},k=(0,p.$g)({sheet:s,formatter:c,props:["groupLabel","yLabel","y"]}));var w=(0,A.nJ)({dispatch:x,legend:f,opacity:y,tooltip:g,chartId:i,tooltipText:S,tooltipValue:k,colors:v});var P=(0,b.R4)(this,function(){return r/n*(u-200)});t.scaleY(a.y).data(m).alpha(this.options.opacity).listenToLegend(O).addMouseEvents(w).dispatch(x).transitionDelay(P).transitionDuration(u)}},{key:"defaults",value:function(){return n().merge({},H(B(a.prototype),"defaults",this).call(this),{series:{data:"separate"},style:{graph:{item:{value:{color:{method:"contrast",contrast:{light:"#ffffff",dark:"#000000",background:"#ffffff"},manual:{fill:"#000000",stroke:void 0}},placementStrategy:"no-alignment",hideOverlapping:!0,align:"bottom"}}}}})}},{key:"getDomain",value:function(t){var e=[(0,o.Z)(t,function(t){var e=(0,c.Z)(t.data,;return D.mA.preciseNumber(e)}),(0,l.Z)(t,function(t){var e=(0,c.Z)(t.data,;return D.mA.preciseNumber(e)})];return(0,w.dC)(e),(0,w.Qu)(e),(0,s.Z)().domain(e).nice(10).domain()}},{key:"getSheetsSeriesDomain",value:function(){var t=this;var e;return this.options.sheets.forEach(function(r,a){var i=n().merge({},t.emptySheetData(),r);var o=t.prepareSheetData(i,a);var c=t.getDomain(o);0===a?e=c.slice(0):(e[0]=Math.min(c[0],e[0]),e[1]=Math.max(c[1],e[1]))}),e}},{key:"emptySheetData",value:function(){return n().merge({},H(B(a.prototype),"emptySheetData",this).call(this),{series:[{type:"column-stacked"}]})}},{key:"prepareSheetData",value:function(t,e){var r=t.categories.colors;var a=n().get(t,"graphOptions.column",{}).showValues;t.categories.data||(t.categories.data=[]);var i=e===this.sheetIndex;var o;i&&(o=(0,E.RS)(this));var c=t.categories.data.map(function(t,e){return{colors:r,data:[],categoryIdx:e,showValues:!0===a,type:"column-stacked"}});t.series.forEach(function(e,a){var l=n().get(e,"index",a);(!i||o({color:(0,k.Lq)(l,r),title:(0,k.IP)(e.title),groupId:l}).active)&&e.data.forEach(function(r,a){var i=t.categories.data[a];void 0!==i&&c[a].data.push({x:a,y:(0,k.IP)(r,null),xLabel:(0,k.IP)(e.title),yLabel:(0,k.IP)(e.rawData[a]),groupLabel:(0,k.IP)(i),seriesIdx:l,link:n().get(e,"links[".concat(a,"]"),null)})})});var l=c.length;return c.forEach(function(t){0!==t.data.length&&(t.data.some(||(t.data=[]))}),(c=c.filter().length!==l&&c.forEach(,this.runtime.percent&&(0,p.bh)(c,"y"),c}},{key:"createHorizontalScaleResize",value:function(){var t=this.featuresColumnWidth(this.runtime.sheet);return t?},{key:"createHorizontalScale",value:function(t,e,r){var a=(0,S.r)().domain(t).rangeBandsPct(e);return r&&(a=(0,S.r)().domain(t).rangeBandsFixed(e,r)),a}},{key:"featuresColumnWidth",value:,{key:"featuresCurtainAnimation",value:,{key:"graphData",value:function(t){var e=this.runtime;return G(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};var a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),a.forEach(function(e){var a;a=r[e],e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a})}return t}({xScale:e.xScale,yScale:e.yScale},t))}}],Z(a.prototype,g),I&&Z(a,I),a}(g.C);function G(t){var e=t.data,r=t.xScale,a=t.yScale,n=t.colors,o=t.groupOffset,c=t.groupCount,l=t.yAxisIndex;var s=[0,0];var u=r.bandwidth();var f=[];var h=M(a.range(),2),d=h[0];var g=h[1]>d;if(e.forEach(function(t,e){var i=f[e]={};var o=t.y;var c=+(o>0);i.y0=s[c],s[c]+=o,i.y1=s[c],i.side=0===c?"negative":"positive",i.inverted=g,i.x=t.x,i.width=u,i.xPos=r(t.x),i.xLabel=t.xLabel,i.y=t.y,i.height=a(i.y1)-a(i.y0),i.yPos=a(i.y0)+(0===c?1:0),i.yLabel=t.yLabel,i.groupLabel=t.groupLabel,i.link=t.link,i.seriesIdx=t.seriesIdx,i.color=t.color||(0,k.Lq)(t.seriesIdx,n),i.group=t.group,i.stackIndex=t.stackIndex,i.categoryLabel=t.categoryLabel,i.yAxisIndex=l}),c>1){var v=(0,S.r)().domain((0,i.Z)(0,c));f.forEach(function(t){var e=t.xPos;v.rangeBandsPct([e,e+u]),t.xPos=v(o+t.group),t.width=v.bandwidth()})}return f}},5293:(t,e,r)=>{r.d(e,{L:);var a=r(3079);var n=r(944);var i=r(3075);var o=r(942);var c=r(3069);function l(){var t=function(t){g.duration.y=p,0===p&&(g.duration.x=p,S=0),t.each(function(){if(!d.length){b.call("animationStart"),b.call("animationUpdateStart"),b.call("animationUpdateEnd"),b.call("animationEnterStart"),b.call("animationEnterEnd"),b.call("animationEnd");return}var t=(0,n.Z)(this);var a=t.selectAll("path");a.transition().duration(0);var i=r(a);l(i[0]),e(t,i)})};var e=function(t,e){var r=t.selectAll("path").data(e);var a=r.enter().insert("path","text");var n=0===r.size()&&r.size()<a.size();var i=g.duration;var o=0;r.exit().remove(),r.style("fill",.style("stroke-width",0).style("opacity",k),n?(r=r.merge(a),b.call("animationStart"),b.call("animationUpdateStart"),b.call("animationUpdateEnd"),a.call(s,function(){x(r),O(r),b.call("animationEnterEnd"),b.call("animationEnd")})):(b.call("animationStart"),b.call("animationUpdateStart"),r.transition().duration(i.y).attrTween("d",f().transition().duration(i.x).on("start",.attrTween("d",f(function(t){return t.next})).on("end",function(){if(0==--o){if(b.call("animationUpdateEnd"),0===a.size()){b.call("animationEnterStart"),b.call("animationEnterEnd"),b.call("animationEnd"),x(r),O(t.selectAll("path"));return}a.call(s,function(){b.call("animationEnterEnd"),b.call("animationEnd"),x(r.merge(a)),O(t.selectAll("path"))})}}))};var r=function(t){var e=[];return t.each(,0===e.length&&(e=d.map(function(t){var e,r;return e={},t),r=r={height:0,yPos:h(0)},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):((Object(r)).forEach(,e})),(0,o.Jz)(e,d,,e};var l=function(t){var e={x:["xPos","width"]};var r;var a;var n;if(t){var i=t.next;for(r in g.duration)e[r]&&(a=e[r].length,n=0,e[r].forEach(o),a===n&&(g.duration[r]=0))};var s=function(t,e){var r=0;t.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",.style("opacity",k),t.transition().duration(p+S).ease(i._D).delay(.attrTween("d",f().on("start",.on("end",};var u=c.sc;var f=(0,c.og)(u,"y");var h=(0,a.Z)();var d=[];var g={duration:{x:400,y:700}};var v=var p=700;var y=0;var m=null;var b;var x;var O;var S=250;var k=1;return Object.assign(t,{scaleY:function(e){return arguments.length?(h=e.copy(),t):h},data:function(e){return arguments.length?(d=e,t):d},transitionDelay:function(e){return arguments.length?(v=e,t):v},transitionDuration:function(e){return arguments.length?(p=e,t):p},transitionTiming:function(e){return arguments.length?(g=e,t):g},renderDelay:function(e){return arguments.length?(y=e,t):y},dispatch:function(e){return arguments.length?(b=e,t):b},opacity:function(e){return arguments.length?(m=e,t):m},alpha:function(e){return arguments.length?(k=e,t):k},listenToLegend:function(e){return arguments.length?(x=e,t):x},addMouseEvents:),t}}}]);