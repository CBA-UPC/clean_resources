/*! For license information please see index-desktop.js.LICENSE.txt */
(()=>{var e,t,n,i,o={3516:8718:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(8081),o=n.n(i),s=n(3645),r=n.n(s),a=n(1667),l=n.n(a),c=new URL(n(5572),n.b),d=new URL(n(4679),n.b),u=new URL(n(4472),n.b),p=new URL(n(2455),n.b),h=r()(o()),g=l()(c),m=l()(d),f=l()(u),v=l()(p);h.push([e.id,"/* следующие css классы используется в галлерее и дивной верстке */\n.gallery__arrow_left {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    cursor: pointer;\n    background-color: #fff;\n    left: 0px;\n}\n.gallery__arrow_left::before {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Left_Arrow.svg);\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n    opacity: 0.25;\n}\n.gallery__arrow_left:hover::before {\n    opacity: 0.35;\n}\n.gallery__arrow_left:active::before {\n    opacity: 0.45;\n}\n.gallery__arrow_right {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    cursor: pointer;\n    background-color: #fff;\n    right: 0px;\n}\n.gallery__arrow_right::before {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Right_Arrow.svg);\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n    opacity: 0.25;\n}\n.gallery__arrow_right:hover::before {\n    opacity: 0.35;\n}\n.gallery__arrow_right:active::before {\n    opacity: 0.45;\n}\n.gallery_theme_dark .gallery__arrow_left {\n    background-color: #161617;\n}\n.gallery_theme_dark .gallery__arrow_right {\n    background-color: #161617;\n}\n.gallery_theme_dark .gallery__arrow_left::before {\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Left_Arrow_Dark.svg);\n}\n.gallery_theme_dark .gallery__arrow_right::before {\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Right_Arrow_Dark.svg);\n}\n/* standalone */\n.gallery__arrow_left_standalone {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    cursor: pointer;\n    background-color: var(--white-color);\n    box-shadow: 0 4px 24px 0 #0020801f;\n    left: 0px;\n    border-radius: 50%;\n}\n.gallery__arrow_left_standalone::before {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    background-image: url("+g+");\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n}\n.gallery__arrow_left_standalone:hover::before {\n    background-image: url("+m+");\n}\n.gallery__arrow_right_standalone {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    cursor: pointer;\n    background-color: var(--white-color);\n    box-shadow: 0 4px 24px 0 #0020801f;\n    right: 0px;\n    border-radius: 50%;\n}\n.gallery__arrow_right_standalone::before {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    background-image: url("+f+");\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n}\n.gallery__arrow_right_standalone:hover::before {\n    background-image: url("+v+");\n}\n.gallery__arrow_left_standalone,\n.gallery__arrow_right_standalone {\n    visibility: hidden;\n    opacity: 0;\n    transition: ease-out 0.15s;\n    transition-property: opacity, visibility;\n}\n.gallery:hover .gallery__arrow_left_standalone,\n.gallery:hover .gallery__arrow_right_standalone,\n.div-card:hover .gallery__arrow_left_standalone,\n.div-card:hover .gallery__arrow_right_standalone {\n    visibility: vis,"}")lace(:e}},8081:e=>{e.exports=function(e){return e[1]}},7856:function(e){e.exports=function(){const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:i,getOwnPropertyDescriptor:o}=Object;let{freeze:s,seal:r,create:a}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;s||(s=functionrn e}),ly(t,n)}),c||(c=function(e,t){return new e(...t)});const d=w(Array.prototype.forEach),u=w(Array.prototype.pop),p=w(Array.prototype.push),h=w(String.prototype.toLowerCase),g=w(String.prototype.toString),m=w(String.prototype.match),f=w(String.prototype.replace),v=w(String.prototype.indexOf),b=w(String.prototypy(e),n=rn console.warn("fallback value for",e),null}}const I=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),E=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=s(["#text"]),D=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),O=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),A=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),N=r(/\{\{[\w\W]*|[\w\W]*\}\}/gm),H=r(/<%[\w\W]*|[\w\W]*%>/gm),R=r(/\${[\w\W]*}/gm),P=r(/^data-[\-\w.\u00B7-\uFFFF]/),B=r(/^aria-[\-\w]+$/),U=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=r(/^(?:\w+script|data):/i),q=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),F=r(/^html$/i);var Z=Object.freeze({__proto__:null,MUSTACHE_EXPR:N,ERB_EXPR:H,TMPLIT_EXPR:R,DATA_ATTR:P,ARIA_ATTR:B,IS_ALLOWED_URI:U,IS_SCRIPT_OR_n(Types policy "+o+" could not be created."),null}};return function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G();const i=e=>t(e);if(i.version="3.0.6",i.removed=[],!n||!n.document||9!==n.document.nodeType)return i.isSupported=!1,i;let{document:o}=n;const r=o,l=r.currentScript,{DocumentFragment:c,HTMLTemplateElement:x,Node:w,Element:N,NodeFilter:H,NamedNodeMap:R=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:P,DOMParser:B,trustedTypes:V}=n,q=N.prototype,W=C(q,"cloneNode"),J=C(q,"nextSibling"),X=C(q,"childNodes"),Q=C(q,"parentNode");if("function"==typeof x){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let K,ee="";const{implementation:te,createNodeIterator:ne,createDocumentFragment:ie,getElementsByTagName:oe}=o,{importNode:se}=r;let re={};i.isSupported="function"==typeof e&&"function"==typeof Q&&te&&void 0!==te.createHTMLDocument;const{MUSTACHE_EXPR:ae,ERB_EXPR:le,TMPLIT_EXPR:ce,DATA_ATTR:de,ARIA_ATTR:ue,IS_SCRIPT_OR_DATA:pe,ATTR_WHITESPACE:he}=Z;let{IS_ALLOWED_URI:ge}=Z,me=null;const fe=k({},[...I,...S,...T,...L,...j]);let ve=null;const be=k({},[...D,...O,...z,...A]);let _e=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,xe=null,we=!0,ke=!0,$e=!1,Ce=!0,Ie=!1,Se=!1,Te=!1,Me=!1,Le=!1,Ee=!1,je=!1,De=!0,Oe=!1,ze=!0,Ae=!1,Ne={},He=null;const Re=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pe=null;const Be=k({},["audio","video","img","source","image","track"]);let Ue=null;const Ve=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qe="http://www.w3.org/1998/Math/MathML",Fe="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml";let Ge=Ze,Ye=!1,We=null;const Je=k({},[qe,Fe,Ze],g);let Xe=null;const Qe=["application/xhtml+xml","text/html"];let Keeturn e instanceof RegExp||e instanceof Function},it=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!et||et!==e){if(e&&"object"==typeof e||(e={}),e=$(e),Xe=Xe=-1===Qe.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ke="application/xhtml+xml"===Xe?g:h,me="ALLOWED_TAGS"in e?k({},e.ALLOWED_TAGS,Ke):fe,ve="ALLOWED_ATTR"in e?k({},e.ALLOWED_ATTR,Ke):be,We="ALLOWED_NAMESPACES"in e?k({},e.ALLOWED_NAMESPACES,g):Je,Ue="ADD_URI_SAFE_ATTR"in e?k($(Ve),e.ADD_URI_SAFE_ATTR,Ke):Ve,Pe="ADD_DATA_URI_TAGS"in e?k($(Be),e.ADD_DATA_URI_TAGS,Ke):Be,He="FORBID_CONTENTS"in e?k({},e.FORBID_CONTENTS,Ke):Re,ye="FORBID_TAGS"in e?k({},e.FORBID_TAGS,Ke):{},xe="FORBID_ATTR"in e?k({},e.FORBID_ATTR,Ke):{},Ne="USE_PROFILES"in e&&e.USE_PROFILES,we=!1!==e.ALLOW_ARIA_ATTR,ke=!1!==e.ALLOW_DATA_ATTR,$e=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,Se=e.WHOLE_DOCUMENT||!1,Le=e.RETURN_DOM||!1,Ee=e.RETURN_DOM_FRAGMENT||!1,je=e.RETURN_TRUSTED_TYPE||!1,Me=e.FORCE_BODY||!1,De=!1!==e.SANITIZE_DOM,Oe=e.SANITIZE_NAMED_PROPS||!1,ze=!1!==e.KEEP_CONTENT,Ae=e.IN_PLACE||!1,ge=e.ALLOWED_URI_REGEXP||U,Ge=e.NAMESPACE||Ze,_e=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&nt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_e.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&nt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_e.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(_e.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(ke=!1),Ee&&(Le=!0),Ne&&(me=k({},[...j]),ve=[],!0===Ne.html&&(k(me,I),k(ve,D)),!0===Ne.svg&&(k(me,S),k(ve,O),k(ve,A)),!0===Ne.svgFilters&&(k(me,T),k(ve,O),k(ve,A)),!0===Ne.mathMl&&(k(me,L),k(ve,z),k(ve,A))),e.ADD_TAGS&&(me===fe&&(me=$(me)),k(me,e.ADD_TAGS,Ke)),e.ADD_ATTR&&(ve===be&&(ve=$(ve)),k(ve,e.ADD_ATTR,Ke)),e.ADD_URI_SAFE_ATTR&&k(Ue,e.ADD_URI_SAFE_ATTR,Ke),e.FORBID_CONTENTS&&(He===Re&&(He=$(He)),k(He,e.FORBID_CONTENTS,Ke)),ze&&(me["#text"]=!0),Se&&k(me,["html","head","body"]),me.table&&(k(me,["tbody"]),delete ye.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw y('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw y('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');K=e.TRUSTED_TYPES_POLICY,ee=K.createHTML("")}else void 0===K&&(K=Y(V,l)),null!==K&&"string"==typeof ee&&(ee=K.createHTML(""));s&&s(e),et=e}},ot=k({},["mi","mo","mn","ms","mtext"]),st=k({},["foreignobject","desc","title","annotation-xml"]),rt=k({},["title","style","font","a","script"]),at=k({},S);e.ptchll(,H.on(n(et("&&!retcattent),bt(n));gt("ace],(e=>{u=f>0&&void 0!==a}),Te=!0},i.clearCot||it({});unction"==typ.removeHook=fue])},i.removeHook]&&(re[e]=[])},i.removeAllHooks=function(){re={}},i}()}()},4640:(e,t,n)=>{n.d(t,{D5:()=>T.D5,rb:()=>I,iR:()=>S.i,ku:()=>_.k,Hc:()=>h,QI:()=>x,ox:()=>$,pK:()=>C,Oj:()=>p,Lk:()=>o.Lk,ZP:()=>i.Z,$i:()=>g,Ag:()=>u,$E:()=>v,lP:()=>m,pk:()=>s.p,O6:()=>d,CX:()=>c,fA:()=>f,kJ:()=>b});var i=n(2424),o=n(8057),s=n(1399);const r="https://rpc.alice.yandex.ru",a=((e,t=1,n=(e=>500*e**2))=>{if(t<=0)throw new Error("@retry Error: invalid retry init. Tries count have to be > 0");return(...i)=>{const o=(e,i,s)=>e(...i).catch((r=>{if(s<=1)throw new Error(`Function call "${e.name}" fail in ${t} retreturn(a=n(t-s),new Promise((e=>{setTimeout(e,a)}))).then((()=>o(e,i,s-1)));var a}));return o(e,i,t)}})(((e,t)=>fetch(e,t).then((t=>{if(!t.ok)throw new Error(`Error: Got status ${t.status} for request to ${e}`);return t.json()}))),4),l=async(e,t,n={})=>{const{basePath:i=r}=n,s=`${i}${e}`,l={method:"POST",headers:await(async(e={})=>{const{appId:t,uuid:n}=await(0,o.sd)();return Object.assign({"X-Ya-App-Id":t,"X-Ya-Uuid":n,"X-Ya-Device-Id":"","X-Ya-Language":"ru","Content-Type":"application/json"},e)})(n.headers),body:JSON.stringify(t),credentials:"include"};return a(s,l)},c=async(e,t=[],n,i)=>l("/dialog/remove_messages",{dialog_id:e,request_ids:t,do_remove_all:n},{basePath:i}),d=async(e,t)=>l("/dialog/remove_dialog",{dialog_id:e},{basePath:t}),u=e=>l("/dialog/list_dialogs",{},{basePath:e});const p=async(e,t={},n)=>{var{dialogId:i}=t,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(t,["dialogId"]);return l("/dialog/create_dialog_with_messages",Object.assign(Object.assign({},o),{0]="NOT_SET",e[e.GOOD=1]="GOOD",e[e.BAD=2]="BAD"}(h||(h={}));const g=async(e,t=Number.MAX_SAFE_INTEGER,n,i=50,o)=>l("/dialog/read_dialog",{dialog_id:e,ts_max_ms:t,last_history_message_id:n,limit:i},{basePath:o}),m=()=>i.Z.sendVinsRequest({name:"@@mm_typed_callback",payload:{typed_callback_serialized:"Cjh0eXBlLmdvb2dsZWFwaXMuY29tL05BbGljZS5UV2ViQWxpY2VXZWxjb21lVHlwZWRDYWxsYmFjaw==",analytics:{origin:"Scenario",purpose:"purpose"}},type:"server_action"}),f=(e,t,n={})=>{const{resubmit:o,ignoreAnswer:s}=n;return i.Z.sendVinsRequest({name:"update_form",type:"server_action",payload:{form_update:{name:`personal_assistant.feedback.feedback_${t}`},resubmit:o},ignore_answer:s},{voiceSession:!1,forcePrevRequestId:e})},v=(e={})=>{const{onboardingType:t,isTextExpected:n,origin:o="Web",purpose:s="get_greetings",originInfo:r}=e;return i.Z.sendVinsRequest({name:"@@mm_semantic_frame",payload:{typed_semantic_frame:{onboarding_get_greetings_semantic_frame:Object.assign(Object.assign({},t&&{onboarding_type:{type_value:t}}),n&&{is_text_expected:{bool_value:n}})},analytics:Object.assign({purpose:s,origin:o},r&&{origin_info:r}),request_params:{disable_output_speech:!0,disable_should_lisype:"server_action"})},b=e=>{o.vp.errorHandler=e};var _=n(2385),y=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class x extends _.k{constructor(e={}){super("open_uri"),this._options=e,this._timeoutId=0}handleDirective(e,t){var n;const{beforeHandle:i,onHandle:s,skip:r=o.ZT}=this._options,a=(null==t?void 0:t.isUserEvent)?0:null!==(n=this._options.delay)&&void 0!==n?n:1200;if(r(e))return;this.cancel(),null==i||i(e);const{payload:l}=e;a&&this.setProgress(!0),this._timeoutId=window.setTimeout((()=>{s?s(e,t):(null==t?void 0:t.isUserEvent)?window.open(l.uri,"_blank"):window.location.href=l.uri,this.cancel()}),a)}cancel(){clearTimeout(this._timeoutId),this._timeoutId=void 0,this.setProgress(!1)}}y([o.ak],x.prototype,"handleDirective",null),y([o.ak],x.prototype,"cancel",null);var w=n(4828),k=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class $ extends _.k{constructor(e){super("print_text_in_message_view"),this.options=e,this._isSpeaking=!1,this._isSpeechFetched=!1}handleDirective(e,t){var n;this._isSpeaking=i.Z.state.voiceSession;const o=(null!==(n=null==t?void 0:t.directives)&&void 0!==n?n:[]).find((e=>"server_action"===e.type));this._currentDirective&&e?w.k.error("Got new PrintTextInMessageView directive before handled prev"):this._nextServerDirective&&o?w.k.error("Got new server directive before handled prev"):(this.setProgress(!0),this._currentDirective=e,this._nextServerDirective=o,this.handlePrintTextDirective())}cancel(){var e,t;null===(t=(e=this.options).onCancel)||void 0===t||t.call(e),this.clean()}get isSpeaking(){return this._isSpeaking}onSpeechFetched(){this._isSpeaking&&(this._currentDirective||this._nextServerDirective?(this._isSpeechFetched=!0,this.handleServerDirective()):this.clean())}handlePrintTextDirective(){if(!this._currentDirective||this._textAnimationTimeoutId)return;this.options.onHandle(this._currentDirective);const{payload:e}=this._currentDirective;if(this._currentDirective=void 0,!this._nextServerDirective)return void(this._isSpeaking&&!this._isSpeechFetched||this.clean());const t=e.symbols_per_second?e.text.length/e.symbols_per_second*1e3:0;this._textAnimationTimeoutId=window.setTimeout((()=>{this._textAnimationTimeoutId=void 0,this.handlePrintTextDirective()}),t);const n=e.prefetch_after_ms||0;iveTimeoutId=void 0,this.handleServerDirective()}),n)}handleServerDirective(){this._currentDirective||!this._nextServerDirective||this._serverDirectiveTimeoutId||this._isSpeaking&&!this._isSpeechFetched||(i.Z.sendVinsRequest({type:"server_action",name:this._nextServerDirective.name,payload:this._nextServerDirective.payload},{voiceSession:this._isSpeaking}),this._nextServerDirective=void 0,this._isSpeechFetched=!1)}clean(){window.clearTimeout(this._serverDirectiveTimeoutId),window.clearTimeout(this._textAnimationTimeoutId),this.setProgress(!1),this._serverDirectiveTimeoutId=void 0,this._textAnimationTimeoutId=void 0,this._currentDirective=void 0,this._nextServerDirective=void 0,this._isSpeaking=!1,this._isSpeechFetched=!1}}k([o.ak],$.prototype,"handleDirective",null),k([o.ak],$.prototype,"clean",null);class C extends _.k{static isAvailable(){var e;return o.Ry.isObject(null===it)}constructor(e){super(e.name),this._options=e}handleDirective(e){var t,n,i,o;null===(n=null===(t=window.yandex)||void 0===t?void 0:t.speechkit)||void 0===n||n.onExecuteDirectiveResult.addListener(this.handleExecuteDirective),this.setProgress(!0),null===(o=(i=this._options).onBeforeHandle)||void 0===o||o.call(i,e),this._timeoutId=window.setTimeout((()=>{var t,n,i,o;this._timeoutId=void 0,this.setProgress(!1),null===(n=(t=this._options).onHandle)||void 0===n||n.call(t,e),null===(o=null===(i=window.yandex)||void 0===i?void 0:i.speechkit)||void 0===o||o.executeDirective(e.name,JSON.stringify(e),!1)}),this._options.delay)}cancel(){var e,t;window.clearTimeout(this._timeoutId),this._timeoutId=void 0,null===(t=(e=this._options).onCancel)||void 0===t||t.call(e),this.removeListener(),this.setProgress(!1)}handleExecuteDirective(e,t){var n,i,o,s;"DIRECTIVE_ERROR_OK"===t?null===(i=null===(n=window.yandex)||void 0===n?void 0:n.speechkit)||void 0===i||i.executeDirective("",e,!0):null===(s=(o=this._options).onError)||void 0===s||s.call(o,t),this.removeListener()}removeListener(){var e,t;null===(t=null===(e=window.yandex)||void 0===e?void 0:e.speechkit)||void 0===t||t.onExecuteDirectiveResult.removeListener(this.handleExecuteDirective)}}!function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);s>3&&r&&Object.defineProperty(t,n,r)}([o.ak],C.prototype,"handleExecuteDirective",null);class I extends _.k{constructor(e){const{name:t,type:n,handleDirective:i,cancel:s=o.ZT,destroy:r=o.ZT}=e;super(t,n),this.handleDirective=i,this.cancel=s,this.destroy=r}}var S=n(5276),T=n(615)},8777:(e,t,n)=>{n.d(t,{W:()=>s});var i=n(8057),o=n(2346);class s{constructor(){this.queue=new i.wn(!0),theue.resume()}run(e){this.queue.push(new i.iQ(e))}resume(){this.active||(this.active=!0,this.queue.cancel(),o.T.ctx.addEventListener("statechange",this.handleAudioContextStateChange),this.handleAudioContextStateChange()),o.T.resume()}cancel(){this.active=!1,this.queue.cancel(),this.queue.pause(),o.T.ctx.removeEventListener("statechange",this.handleAudioContextStateChange)}handleAudioContextStateChange(){o.T.isRunning()&&this.queue.isPaused?this.queue.resume():o.T.isRunning()||this.queue.isPaused||this.queue.pause()}}!function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);s>3&&r&&Object.defineProperty(t,n,r)}([i.ak],s.prototype,"handleAudioContextStateChange",null)},2424:(e,t,n)=>{n.d(t,{Z:()=>ge});var i=n(8057);class o extends Error{constructor(e,t){super(e),t&&(thisprototype)}static is(e){return e instanceof this}}class s extends o{constructor(e,t){super(`TransportError, ${e}`,t),Object.setPrototypeOf(this,s.prototype)}}class r extends s{constructor(e){super("Request timeout",e),Object.setPrototypeOf(this,r.prototype)}}class a extends s{constructor(e,t,n){super("Connection closed",n),this.closeCode=e,this.closeReason=t,Object.setPrototypeOf(this,a.prototype)}}class l extends s{constructor(e,t){super("Malformed packet.",t),this.message=e,Object.setPrototypeOf(this,l.prototype)}}class c extends s{constructor(e,t,n="Transport not ready",i){super(n,i),this.closeCode=e,this.closeReason=t,Object.setPrototypeOf(this,c.prototype)}}class d extends o{constructor(e,t){super(`StreamClosed, ${e}`,t),Object.setPrototypeOf(this,d.prototype)}}const u="Vins";var p=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class h{get hasPendingInput(){const e=["text_input","voice_input","suggested_input","server_action"];return Array.from(this._requests.values()).some((({status:t,event:n,isParallel:i,isIgnoreAnswer:o})=>!i&&!o&&3!==t&&e.includes(n.type)))}constructor(e,t){this.transport=e,this.requestFactory=t,this.onError=new i.vp,this.onResponse=new i.vp,this.onStreamingResponse=new i.vp,this._queue=new i.wn(!0),this._requests=new Map,this.transport.onStatusChanged.on(this.handleStatusChange),this.transport.onMessage.on(this.handleMessage)}cancel(){this._queue.cancel(),Array.from(this._requests.values()).forEach((e=>{0!==e.status?(2===e.status&&this.transport.sendEvent("System","CancelRequest",{requestMessageId:e.messageId}),this._requests.set(e.messageId,Object.assign(Object.assign({},e),{status:3}))):this._requests.delete(e.messageId)}))}sendRequest(e,t,n){this.transport.resume();const o=n.messageId||this.transport.createMessageId(),{streamId:s,dialogId:r,dialogType:a,voiceSession:l=!1,resetSession:c,timeout:p,lang:h,format:g,mime:m,onSent:f=i.ZT,forcePrevRequestId:v}=n,b=!!i.Ry.getValue(t,"payload","request_params","is_parallel"),_="server_action"===t.type&&!!t.ignore_answer,y={event:t,status:0,messageId:o,isParallel:b,isIgnoreAnswer:_};this._requests.set(o,y);const x=new Promise(((n,x)=>{this._queue.push(new i.iQ((i=>{const w=this.requestFactory({event:t,requestId:i,prevRequestId:null!=v?v:this._prevRequestId,dialogId:r,dialogType:a,lang:h,voiceSession:l,resetSession:c,format:g,mime:m});return this._requests.set(o,Object.assign(Object.assign({},y),{status:1})),f(),this.transport.sendRequest(u,e,w,{streamId:s,messageId:o,timeout:p}).then((e=>{var t,i;_||b||v||(this._prevRequestId=null===(t=e.header)||void 0===t?void 0:t.request_id);const s=this._requests.get(o);if(3===(null==s?void 0:s.status))return this._requests.delete(o),void x(new Error("Request was cancelled"));(null===(i=e.response)||void 0===i?void 0:i.is_streaming)&&s?this._requests.set(s.messageId,Object.assign(Object.assign({},s),{status:2})):this._requests.delete(o),n(e),_||Promise.resolve().then((()=>{this.onResponse.emit({messageId:o,response:e})}))}),(e=>{this._requests.deletn((()=>{this.onError.emit({messageId:o,error:e})}))}))}),{data:{messageId:o}}))}));return this.transport.isReady&&this._queue.resume(),{messageId:o,response:x}}setPrevRequestId(e){this._prevRequestId=e}handleMessage(e){const t=e.header.refMessageId;if(!t||!function(e){return e.header.namespace===u&&"DeferredAliceResponse"===e.header.name}(e))return;const n=Array.from(this._requests.values()).find((({messageId:e,status:n})=>e===t&&2===n));n&&(e.payload.json_response.is_last&&this._requests.delete(n.messageId),this.onStreamingResponse.emit({messageId:t,response:e.payload}))}handleStatusChange(e){const t=e=>i.Ry.isObject(e.data)&&"messageId"in e.data&&"string"==typeof e.data.messageId?e.data.messageId:"";switch(e){case 0:{this._queue.pause();const e=new a(this.transport.lastCloseCode,this.transport.lastCloseReason);this._queue.forEach((n=>{this.onError&&this.onError.emit({messageId:t(n),error:e})})),this.cancel();break}case 2:this._queue.resume()}}updateRequestFactory(e){this.requestFactory=e}}p([i.ak],h.prototype,"cancel",null),p([i.ak],h.prototype,"sendRequest",null),p([i.ak],h.prototype,"setPrevRequestId",null),p([i.ak],h.prototype,"handleMessage",null),p([i.ak],h.prototype,"handleStatusChange",null);const g="ru-RU";function m(e){return function({event:t,requestId:n,prevRequestId:i,voiceSession:o,dialogId:s,dialogType:r,resetSession:a,format:l,mime:c,lang:d=g}){var u,p,h,m,f;return{application:{app_id:e.appId,app_version:e.appVersion,platform:null!==(u=e.platform)&&void 0!==u?u:navigator.platform.toLowerCase(),os_version:null!==(p=e.osVersion)&&void 0!==p?p:navigator.userAgent.toLowerCase(),uuid:e.uuid,lang:d,client_time:(new Date).toISOString().slice(0,19).replace(/[:+-]/g,""),timezone:e.timezone,timestamp:String(Date.now()).slice(0,-3)},header:{prev_req_id:i,sequence_number:null,request_id:n,dialog_id:s,dialog_type:r},request:{event:t,voice_session:!e.silentMode&&Boolean(o),experiments:null!==(h=e.experiments)&&void 0!==h?h:[],additional_options:{bass_url:e.bassUrl,bass_options:{screen_scale_factor:window.devicePixelRatio||1},origin_domain:window.location.hostname,supported_features:null!==(m=e.supported_features)&&void 0!==m?m:[],unsupported_features:null!==(f=e.unsupported_features)&&void 0!==f?f:[]},location:e.location,reset_session:a,megamind_cookies:e.megamind_cookies},format:l,mime:c,topic:e.vinsTopic,vinsUrl:e.vinsUrl}}}var f=n(5276);var v=n(615);class b extends s{constructor(e,t){super(`Uniproxy: ${e}`,t),Object.setPrototypeOf(this,b.prototype)}}const _={UNKNOWN:0,INVALID_COOKIE:1,"internal session not allowed from external IP":2,"No SynchronizeState was sent":3,ACCESS_DENIED:4,expired_token:4,INVALID_PARAMS:5};const y="unknown exception";class x extends b{constructor(e,t,n){var i;super(function(e){if(!e)return y;const{error:t,details:n}=e;if(t)return t.message||y;if(n){const{text:e,code:t,scope:i}=n;return e||t||i?`Scope [${i||"unknown"}], Code [${t||"unknown"}], ${e||""}`:y}return y}(e),n),this.payload=e,this.header=t,this.payload=e,this.code=(i=e)&&(function(e){const{details:t}=e;if(t)return _[t.code]||_[t.text]}(i)||function(e){const{error:t}=e;if(t)return _[t.messagethis,x.prototype)}codeIs(e){return this.code===e}}class w extends x{constructor(e,t,n){super(e,t||{name:"SynchronizeState",namespace:"System"},n),Object.setPrototypeOf(this,w.prototype)}}var k=n(3530);class ${constructor(e,t=1e4,n){this.onResult=e,this.timeout=new i.B7((()=>{this.result(new n)}),t)}result(e,t){this.clearTimeout(),e?this.onResult(e):this.onResult(void 0,t)}clearTimeout(){this.timeout&&(this.timeout.cancel(),this.timeout=void 0)}}class C{constructor(e=r){this.RequestTimeoutErrorCtr=e,this.awaiters=new Map,this.seqNo=1}event(e){const t=e(this.seqNo);return this.seqNo++,t}request(e,t){return new Promise(((n,i)=>{const o=e(this.seqNo);this.seqNo++;const s=new $(((e,t)=>{this.remove(o),e?i(e):n(t)}),t,this.RequestTimeoutErrorCtr);this.awaiters.set(o,s)}))}result(e,t,n){const i=this.awaiters.get(e);return!!i&&(t?i.result(t):i.result(void 0,n),!0)}drop(e){this.awaiters.forEach((t=>t.result(e))),this.awaiters.clear(),this.seqNo=1}remove(e){return this.awaiters.delete(e)}}var I=n(5907),S=n(8115);const T=e=>{const{namespace:t,name:n,messageId:i,seqNumber:o,streamId:s,payload:r}=e;return{event:{header:Object.assign({namespace:t,name:n,messageId:i,seqNumber:o},s&&{streamId:s}),payload:r}}};var M=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class L{constructor(e,t){this.transport=e,this.config=t,this.requests=new C,this.onStream=new i.vp,this.onStreamControl=new i.vp,this.onMessage=new i.vp,this.onError=new i.vp,this.onStatusChanged=new i.vp,this.status=0,this.nextStreamId=-1,this.transport.onMessage.on(this.handleMessage),this.transport.onStatusChanged.on(this.handleStatusChange)}open(e,t){try{this.syncStateResponse=void 0,this.syncStateConfig=e,this.requests.drop(new a(4005,"reconnect")),this.changeStatus(1),this.transport.open(null==t?void 0:t.transportOpenTimeout=this.status}createMessageId(){return(0,I.L)()}sendEvent(e,t,n,{messageId:i=this.createMessageId(),streamId:o}={}){return this.cancelSuspend(),this.requests.event((s=>(this.send(T({namespace:e,name:t,messageId:i,seqNumber:s,streamId:o,payload:n})),i)))}sendRequest(e,t,n,{messageId:i=this.createMessageId(),streamId:o,timeout:s}={}){return this.isReady?(this.cancelSuspend(),this.requests.request((s=>(this.send(T({namespace:e,name:t,messageId:i,seqNumber:s,streamId:o,payload:n})),i)),s)):Promise.reject(new c(this.lastCloseCode,this.lastCloseReason))}sendStreamData(e,t){const n=new ArrayBuffer(4);return new DataView(n).setUint32(0,e),this.send(new Blob([n,t]))}startStream(){return this.cancelSuspend(),this.nextStreamId+=2,this.nextStreamId}closeStream(e,t,n=0){this.cancelSuspend(),this.send({streamcontrol:{action:0,streamId:e,reason:n,messageId:t}}),this.requests.result(t,new d("Stream was closed"))}get lastCloseCode(){return this.transport.lastCloseCode}get lastCloseReason(){return this.transport.lastCloseReason}send(e,t=!1){if(t&&2!==this.transport.status||!t&&2!==this.status)throw new c(this.lastCloseCode,this.lastCloseReason);this.transport.send(e instanceof Blob?e:JSON.stringify(e))}sendSynchronizeState(){const e=this.syncStateConfig||{},{merable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(e,["interceptor","waitSynchronizeStateResponse"]),o=e=>{const t=this.createMessageId();return this.send(T({namespace:"System",name:"SynchronizeState",messageId:t,seqNumber:e,payload:i}),!0),t},s=e=>{const t=(e=>w.is(e)?e:x.is(e)?new w(e.payload):new w({error:{type:"Error",message:e.message}}))(e);this.checkNeedCloseTransport(t),this.onError.emit(t)};if(n)this.requests.request(o).then((e=>{if(e.error)throw new w({details:e.error});t&&t(e),this.syncStateResponse=e,this.changeStatus(2)})).catch((e=>{s(e)}));else try{this.requests.event(o)&&this.changeStatus(2)}catch(e){s((0,S.T)(e))}}handleStatusChange(e){0===e&&this.handleClose(),2===e&&this.handleOpen()}handleMessage(e){try{if(e instanceof ArrayBuffer)return this.handleStream(e);if("string"!=typeof e)throw new l("Message packet should be string or ArrayBuffer");const n=function(e){try{const t=JSON.parse(e);if(!t)throw new Error("Empty");return t}catch(t){const n=(0,S.T)(t),i=`${n.message}. [First 100 symbols of message]: ${(e||"").slice(0,100)}`;throw new l(i,n.stack)}}(e);if(t=n,k.R.hasOwn(t,"streamcontrol"))thamcontrol);else{if(!(e=>k.R.hasOwn(e,"directive"))(n))throw new l("Streamcontrol or directive were not found in uniproxy packet");this.handleDirective(n.directive)}}catch(e){this.onError.emit((0,S.T)(e))}var t}handleStream(e){const t=new DataView(e);this.onStream.emit({streamId:t.getUint32(0),data:t.buffer.slice(4)})}handleStreamControl(e){this.onStreamControl.emit(e)}handleDirective(e){if((e=>{const{name:t,namespace:n}=e.header;return"System"===n&&("EventException"===t||"InvalidAuth"===t)})(e))return this.handleException(e);this.handleResponse(e)}handleException({header:e,payload:t}){const n=new x(t,e);this.checkNeedCloseTransport(n),this.onError.emit(n)}handleResponse({header:e,payload:t}){!e.eventId&&e.refMessageId&&this.requests.result(e.refMessageId,void 0,t)||this.onMessage.emit({header:e,payload:t})}handleClose(){const{lastCloseCode:e,lastCloseReason:t}=this;this.syncStateResponse=void 0,this.requests.drop(new a(e,t)),this.changeStatus(0)}handleOpen(){this.sendSynchronizeState()}changeStatus(e){this.status=e,this.onStatusCnd(),0===this.status&&this.establishConnection()}suspend(){this.config.suspendable&&0!==this.status&&,this.suspendTimer=new i.B7((()=>this.close(4005)),3e5))}establishConnection(){var e;this.open({auth_token:(e=this.config).apiKey,uuid:e.uuid,vins:{application:{app_id:e.appId,platform:e.platform}}})}cancelSuspend(){var e;nulkNeedCloseTransport(e){e.codeIs(3)&&this.close()}}M([i.ak],L.prototype,"handleStatusChange",null),M([i.ak],L.prototype,"handleMessage",null);var E=n(8777),j=n(2346);class D{constructor(e,t,n){this.streamFactory=e,this.activeBufferIndex=0,this.stopped=!0,this.format="",this.audioContext=new E.W,this.decoder=t(n.decoderDescriptor),this.decoder.resume()}start(e){if(!this.stopped)return;const{onStart:t,onError:n,onFinished:o,format:s}=e,r=(0,i.SF)();this.stop(),this.audioContext.resume(),this.decoder.resume(),this.streamId=r,this.format=s,this.stopped=!1,this.onStart=t,this.onError=n,this.onFinished=o,this.onChunkEnded=()=>this.handleEnded(r),this.onChunkError=()=>this.handleError(r)}stop(){this.stopped||(this.stream&&this.stream.break(),this.clean())}destroy(){this.stop(),this.audioContext.cancel(),this.decoder&&this.decoder.destroy()}onPackage(e){const t=this.streamId;this.stream||(this.stream=this.streamFactory({streamId:t,onBufferReady:this.handleBufferReady,format:this.format})),this.stream?this.decoder?this.stream.add(e):this.error(t,new Error("Decoder does not exists")):reamFinished(){this.stream&&this.stream.finish()}handleBufferReady(e,t,n){this.audioContext.run((()=>{this.doDecode(n,e,t)})):this.stop())}doDecode(e,t,n){this.ensureStreamIdr:t,callDecodeAudioData(e,t,n),errback:t=>this.error(e,t)})}ensureStreamId(e){return!!this.streamId&&!!e&&this.streamId===e}handleDecodeAudioData(e,t,n){this.ensureStreamId(e)&&(this.stopped||(this.audioBuffers||(this.audioBuffers=t,this.audioContext.run((()=>{this.playBuffer(e)}))))}finished(){const{onFinished:e}=this;e&&e()}activeSourceDestroy(){this.activeSource&&(this.activeSource.stop(),this.activeSource.disconnect(),this.onChunkEnded&&this.activeSource.removeEventListener("ended",this.onChunkEnded),this.onChunkError&&this.activeSource.removeEventListener("error",this.onChunkError),this.activeSource=void 0)}clean(){this.stopped=!0,this.audioContext.cancel(),this.stream=void 0,this.audioBuffers=void 0,this.activeBufferIndex=0,this.streamId=void 0,this.decoder.cancel(),this.activeSourceDestroy(),this.onStart=void 0,this.onError=void 0,this.onFinished=void 0,this.onChunkEnded=void 0,this.onChunkError=void 0}error(e,t){if(!this.ensureStreamId(e))return;const{onError:n}=this;this.clean(),n&&n(t)}playBuffer(e,t=!1){if(!this.ensureStreamId(e))return;if(!this.audioBuffers||!this.audioBuffers.length)return;const n=this.audioBuffers[this.activeBufferIndex];!n||this.activeSource&&!t||(this.activeSourceDestroy(),this.activeSource=(0,i.kU)(n,j.T,{ended:this.onChunkEnded,error:this.onChunkError}),0===this.activeBufferIndex&&this.onStart&&this.onStart())}handleError(e){this.error(e,new Error("BufferSource error"))}handleEnded(e){if(!this.ensureStreamId(e))return;if(this.activeSourceDestroy(),!this.audioBuffers||!this.stream)return void this.clean();const{activeBufferIndex:t}=this;this.activeBufferIndex+=1,this.audioBuffers[t]=void 0,this.stream.finished&&this.streamhis.o(t,n))||r);s>3&&r&&Object.defineProperty(t,n,r)}([i.ak],D.prototype,"handleBufferReady",null);class O{constructor(e){this.queue=new i.ci,this.audioContextController=new E.W,this.worker=new Worker(e.workerPath),this.worker.onmesMessage(e),this.worker.onerror=e=>this.onerror(e)}resume(){this.audioContextController.resume()}decode({buffer:e,callback:t,errback:n}){this.queue.push({buffer:e,callback:t,errback:n}),this.execute()}cancel(){this.activeItem=void 0,this.q}destroy(){this.cancel(),this.worker.terminate()}execute(){this.activeItem||(this.activeItem=this.queue.shift(),this.activeItem&r))}next(){this.activeItem=void 0,this.execute()}handleMessage(e){this.audioContextController.run((()=>{if(!this.activeItem)return;const{callback:t}=this.activeItem,n=j.T.ctx.createBuffer(2,e.data.samplesLeft.length,48e3);n.copyToChannel(e.data.samplesLeft,0),n.copyToChannel(e.data.samplesRight,1),t(n),this.next()}))}onerror(e){this.activeItem&&(this.activeItem.errback&&this.onstructor(){this.audioContextController=new E.W}resume(){this.audioContextController.resume()}decode({buffer:e,callbatroller.run((()=>{j.T.ctx.decodeAudioData(e,t,n)}))}cancel(){this.audioContextController.cancel()}destroy(){t(e){this.offset=0,this.buffer=new ArrayBuffer(e)}add(e,t){const n=t?t.byteLength:0,i=0===this.offset;if(e.byteLength+(i?n:0)+this.offset>this.buffer.byteLength)return!1;const o=new Uint8Array(this.buffer);return 0===this.offset&&t&&(o.set(new Uint8Array(t),this.offset),this.offset+=t.byteLength),o.set(new Uint8Array(e),this.offset),this.offset+=e.byteLength,!0}relax(){return this.buffer=this.buffer.slice(0,this.offset)}}class H{constructor({onBufferReady:e,streamId:t}){this.index=-1,this.finished=!1,this.breaked=!1,this.onBufferReady=e,this.streamId=t}createBuffer(e=0){this.index++,this.pendingBuffer=new N(Math.max(e,0===this.index?this.preloadBufferSize:this.bufferSize))}insert(e,t){const n=t?t.byteLength:0,i=e.byteLength+n;this.pendingBuffer||this.createBuffer(i),this.pendingBuffer&&(this.pendingBuffer.add(e,t)||(this.ready(),teak(){this.breaked=!0,this.pendingBuffer=void 0}ready(){this.pendingBuffer?(this.onBufferReady(this.getChunk(this.pendingBuffer.relax()),this.index,this.streamId),this.pendingBuffer=void 0):this.onBufferReady(void 0,this.index,this.streamId)}}const R=1332770163,P=1214603620,B=1415669619;function U(e,t,n){const i=e.slice(t,t+n),o=new DataView(i);let s="data";return i.byteLength>=4&&o.getUint32(0)===R&&(o.getUint32(4)===P?s="head":o.getU),n.set(new Uint8),this.preloadBufferSize=2e4,this.bufferSize=4e4}static isOggOpus(e=""){return"audio/opus"===e}add(e){const t=function(e){const t=[];let n=0;const i=new DataView(e);for(;n<e.byteLength;){const o=n;if(1332176723!==i.getUint32(n))break;const s=i.getUint8(n+26);let r=n+26+1;const a=r+s;n+=26+s+1;const l=[];for(;r<a;r++){const t=i.getUint8(r);l.push(U(e,n,t)),n+=t}t.push({offset:o,size:n-o,segments:l})}return t}(e);let n=-1,i=-1;for(const o of t){const{segments:t,size:s,offset:r}=o;t.length&&("head"===t[0].type?(-1!==n&&this.currentHeader?(this.insert(e.slice(n,i),this.currentHeader),n=-1,i=-1):this.pendingBuffer&&this.pendingBuffer.offset&&this.ready(),this.currentHeader=e.slice(r,s+r)):"tag"===t[0].type?this.currentHeader&&(this.currentHeader=V(this.currentHeader,e.slice(r,s+r))):-1===n?(n=r,i=r+s):i+=s)}-1!==n&&this.currentHeader&&this.insert(e.slice(n,i),this.currentHeader)}getChunk(e){return e}}const F=/aud Z extends H{static isPCM(e=""){return F.test(e)}constructor(e){super(e),this.preloadBufferSize=2e4,this.bufferSize=4e4,this.bit=15,this.rate=16e3,this.channelCount=1;const[,t="",n=""]=(e.format||"").match(F)||[],i=parseInt(t,10),o=parseInt(n,10);this.his.rate=isNaN(o)?void 0:o}add(e){this.insert(e)}getChunk(e){return function(e,t=1,n=15,i=16e3){const o=e.byteLength,s=new Uint8Array(44+o),r=new DataView(s.buffer);let a=0;return s.set(new Uint8Array(e),44),r.setInt32(a,1380533830),a+=4,r.setInt32(a,o+36,!0),a+=4,r.setInt32(a,1463899717),a+=4,r.setInt32(a,1718449184),a+=4,r.setInt32(a,16,!0),a+=4,r.setInt16(a,1,!0),a+=2,r.setInt16(a,t,!0),a+=2,r.setInt32(a,i,!0),a+=4,r.setInt32(a,i*t*n/8,!0),a+=4,r.setInt16(a,t*n/8,!0),a+=2,r.setInt16(a,n,!0),a+=2,r.setInt32(a,1684108385),a+=4,r.setInt32(a,o,!0),r.buffer}(e,this.channelCount,this.bit,this.rate)}}function G(e){return q.isOggOpus(e.format)?new q(e):Z.isPCM(e.format)?new Z(e):void 0}var Y=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class W{constructor(e,t){this.transport=e,this.queue=new i.wn(!0),this.currentStreamId=-1,this.currentMessageId="",this.status=new i.qb(v.D5.SUSPENDED),this.onStart=new i.vp,this.onStreamFinished=new i.vp,this.onFinished=new i.vp,this.onError=new i.vp,this.streamPlayer=new D(G,A,t),this.transport.onStatusChanged.on(this.handleTransportStatusChanged),2===this.transport.status&&this.queue.resume()}generate(e){const t=this.transport.createMessageId();this.queue.push(new i.iQ((()=>{this.setCurrentMessageId(t),this.transport.sendEvent("TTS","Generate",{text:e},{messageId:t})}),{tag:"Generate"}))}setCurrentMessageId(e){this.currentMessageId=e,this.status.value===v.D5.SUSPENDED&&this.status.setValue(v.D5.THINKING),this.transport.onError.on(this.handleUniproxyError),this.transport.onMessage.on(this.handleMessage),this.transport.onStream.on(this.handleStream),this.transport.onStreamControl.on(this.handleStreamControl)}stop(){this.transport.onError.off(this.handleUniproxyError),this.transport.onMessage.off(this.handleMessage),this.transport.onStream.off(this.handleStream),this.transport.onStreamControl.off(this.handleStreamControl),-1!==this.currentStreamId&&this.transport.closeStream(this.currentStreamId,this.currentMessageId,5),this.currentStreamId=-1,this.currentMessageId="",this.streamPlayer.stop(),this.queue.cancel(),this.transport.suspend(),this.status.setValue(v.D5.SUSPENDED)}destroy(){this.stop(),this.streamPlayer.destroy(),this.transport.onStatusChanged.off(this.handleTransportStatusChanged)}handleTransportStatusChanged(e){switch(e){case 2:this.queue.resume();break;case 0:this.queue.pause(),this.queue.cancel()}}handleStream(e){this.currentStreamId===e.streamId&&this.streamPlayer.onPackage(e.data)}handleStreamControl(e){const{action:t,streamId:n}=e;if(0===t&&n===this.currentStreamId){const{currentMessageId:e,currentStreamId:t}=this;this.currentStreamId=-1,this.currentMessageId="",this.streamPlayer.onStreamFinished(),this.onStreamFinished.emit({messageId:e,streamId:t})}}handleUniproxyError(e){x.is(e)&&e.header.refMessageId===this.currentMessageId&&this.handleError(e)}handleError(e){const{currentMessageId:t}=this;this.stop(),this.onError.emit({error:e,messageId:t})}handleStart(){this.status.setValue(v.D5.SPEAKING),this.onStart.emit({messageId:this.currentMessageId})}handleFinished(){const{currentMessageId:e}=this;this.status.setValue(v.D5.SUSPENDED),this.onFinished.emit({messageId:e})}handleSpeak(e){const{header:{streamId:t,refMessageId:n=""}}=e;void 0!==t?n===this.currentMessageId?(this.currentStreamId=t,this.streamPlayer.start({onStart:this.handleStart,onError:this.handleError,onFinished:this.handleFinished,format:e.payload.format})):this.transport.closeStream(t,n):this.handleError(new Error("Stream id was not defined"))}handleMessage(e){var t;"TTS"===(t=e).header.namespace&&"Speak"===t.header.name&&this.handleSpeak(e)}}W.getSupportedFormat=e=>{const t=new Audio;for(const n of["audio/ogg;codecs=opus","audio/x-pcm;bit=16;rate=16000"])try{if(!t.canPlayType(n))throw new Error(`Can't play audio format: ${n}`);return{format:n}}catch(t){if(e[n])return{format:n,decoderDescriptor:e[n]}}},Y([i.ak],W.prototype,"generate",null),Y([i.ak],W.prototype,"setCurrentMessageId",null),Y([i.ak],W.prototype,"stop",null),Y([i.ak],W.prototype,"destroy",null),Y([i.ak],W.prototype,"handleTransportStatusChanged",null),Y([i.ak],W.prototype,"handleStream",null),Y([i.ak],W.prototype,"handleStreamControl",null),Y([i.ak],W.prototype,"handleUniproxyError",null),Y([i.ak],W.prototype,"handleError",null),Y([i.ak],W.prototype,"handleStart",null),Y([i.ak],W.prototype,"handleFinished",null),Y([i.ak],W.prototype,"handleSpeak",null),Y([i.ak],W.prototype,"handleMessage",null);var J=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class X{constructor(e){this.currentEventId="",this.buffer=[],this.indexBuffer=0,this.stopped=!0,this.transport=e.transport,this.onRecognition=e.onRecognition,this.onError=e.onError,this.onStart=e.onStart,this.onStop=e.onStop,this.silenceTimeout=e.silenceTimeout||0}start(e){this.stop(),this.transport.onStatusChanged.on(this.handleStatusChanged),this.transport.isReady?this.initializeRecognition(e):this.onReady=()=>this.initializeRecognition(e)}stop(e={}){if(this.stopped)return;this.handleRequestSent=void 0,this.stopped=!0;const{currentEventId:t}=this,{timeout:n}=e,{reason:o=(n?0:8)}=e;this.streamId&&t&&this.transport.closeStrei.B7((()=>{this.throwError(new Error("timeout"))}),n):(this.buffer.push(e),this.stopped||this.handleData()}initializeRecognition(e){this.onReady=void 0,this.transport.onMessage.on(this.handleMessage),this.transport.onStreamControl.on(this.handleStreamControl),this.transport.onError.on(this.handleError),this.streamId=this.transport.startStream();try{if(this.handleRequestSent=()=>{this.stopped=!1,this.handleData(),out&&(this.silenceTimer=new i.B7((()=>this.stop()),this.silenhis.handleRequestSent)||void 0===e||e.call(this)})),!this.currentEventId)throw new Error("Request failed");this.onStart&&this.onStart(this.currentEventId)}catch(e){this.throwError((0,S.T)(e))}}clean(){var e,t;this.streamId=0,this.currentEventId="",this.buffer=[],this.indexBuffer=0,this.onReady=void 0,this.handleRequestSent=void 0,this.stopped=!0,this.transport.onError.off(this.handleError),this.transport.onMessage.off(this.handleMessage),this.transport.onStreamControl.off(this.handleStreamControl),this.transport.onStatusChanged.off(this.handleStatusChanged),null===(e=this.closeTimer)||void 0===e||e.cancel(),null===(t=this.silenceTimer)||void 0===t||t.cancel()}handleData(){if(this.currentEventId&&this.streamId)for(;this.indexBuffer<this.buffer.length;this.indexBuffer++)try{this.transport.sendStreamData(this.streamId,this.buffer[this.indexBuffer])}catch(e){this.throwError((0,S.T)(e))}}handleStreamControl(e){const{reason:t,streamId:n}=e;n===this.streamId&&(0===t||8===t?(this.streamId=0,this.stop()):this.throwError(new a(this.transport.lastCloseCode,this.transport.lastCloseReason)))}handleMessage(e){var t,n;(n=e)&&"ASR"===n.header.namespace&&"Result"===n.header.name&&e.header.eventId===this.currentEventId&&(null===(t=this.closeTimer)||void 0===t||t.cancel(),this.handleASRResult(e))}handleStatusChanged(e){switch(e){case 0:this.throwError(new a(this.transport.lastCloseCode,this.transport.lastCloseReason));break;case 2:this.onReady&&this.onReady()}}handleASRResult({header:e,payload:t}){var n;if("InternalError"===t.responseCode)return void this.throwError(new x({details:{code:"InternalError",scope:"ASR",text:"ASR internal error"}},e));const i=t.endOfUtt||t.earlyEndOfUtt,o=t.recognition[0]?t.recognition[0].normalized:"";(o||i)&&(null===(n=this.silenceTimer)||void 0===n||n.cancel()),this.onRecognition&&this.currentEventId&&this.onRecognition(this.currentEventId,{text:o,finished:i}),this.stopped&&this.clean()}handleError(e){if(!e||!x.is(e))return;const{header:t}=e;t&&t.refMessageId===this.currentEventId&&this.throwError(e)}throwError(e){const{onError:t,currentEventId:n}=this;this.clean(),t&&t(n,e)}}J([i.ak],X.prototype,"start",null),J([i.ak],X.prototype,"stop",null),J([i.ak],X.prototype,"onData",null),J([i.ak],X.prototype,"handleStreamControl",null),J([i.ak],X.prototype,"handleMessage",null),J([i.ak],X.prototype,"handleStatusChanged",null),J([i.ak],X.prototype,"handleError",null);const Q=()=>{var e;const{MediaRecorder:t,AudioContext:n,webkitAudioContext:i}=window,o=null===(e=null===navigator||void 0===navigator?void 0:navigator.mediaDevices)||void 0===e?void 0:e.getUserMedia;return Boolean(o&&(t||n||i))};var K=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class ee{constructor(e,t){this.formatDescriptor=e,this.convertorProvider=t,this.indexData=0,this.dataBuffer=[],this.stopped=!0,this.timeSlice=1e3,this.onResult=new i.vp,this.onErrorResult=new i.vp,this.recorderFactoryPromise=function(e){var t;const o={mimeType:e.mime,audioBitsPerSecond:16e3};return(null===(t=e.decoderDescriptor)||void 0===t?void 0:t.polyfillRequired)||"audio/x-pcm"===o.mimeType?n.e(788).then(n.bind(n,6936)).then((({MediaRecorderPolyfill:e,PCMEncoder:t})=>{const n=new t;return t=>new e(t,Object.assign(Object.assign({},o),{encoder:n}))})):Promise.resolve((e=>{const t=new window.MediaRecorder(e,o);return Object.assign(t,{destroy:i.ZT})}))}(this.formatDescriptor)}start(e=1e3,t){var n;return this.timeSlice=e,Q()?Promise.all([this.recorderFactoryPromise,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1}}),null===(n=this.convertorProvider)||void 0===n?void 0:n.call(this)]).then((([n,i,o])=>{this.converter=o?new o:void 0;const s=n(i);if(this.mediaRecorder=s,"inactive"===s.state){s.addEventListener("dataavailable",this.handleDataAvailable),s.addEventListener("error",this.handleError),s.addEventListener("start",t);const n=()=>{i.getAudioTracks().forEach((e=>e.stop())),s.removeEventListener("stop",n)};s.addEventListener("stop",n),s.start(e)}return this.stopped=!1,i})):Promise.reject(new Error("Media devices are not supported"))}stop(){const{mediaRecorder:e}=this;e&&!this.stopped&&(this.stopped=!0,"inactive"!==e.state&&e.stop(),this.timerId=window.setTs.timeSlice))}destroy(){this.stop(),this.clear()}handleDataAvailable(e){this.onData&&this.onData(e.data),this.converter?this.converter.onData(e.data,this.indexData++).catch(this.handleError):this.dataBuffer.push(e.data),this.stopped&&0!==e.data.size&&this.finishData()}finishData(){this.timerId&&clearTimeout(this.timerId);const e=this.converter?this.converter.getResultData():this.dataBuffer;this.onResult.emit(e),this.clear()}handleError(e){this.stop();const t=(0,S.T)(e);this.onErrorResult.emit(t),this.onError&&this.onError(t)}clear(){const{mediaRecorder:e}=this;e&&(this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0),this.converter&&(this.converter.stop(),this.converter=void 0),e.removeEventListener("dataavailable",this.handleDataAvailable),e.removeEventListener("error",this.handleError))}}K([i.ak],ee.prototype,"handleDataAvailable",null),K([i.ak],ee.prototype,"finishData",null),K([i.ak],ee.prototype,"handleError",null),K([i.ak],ee.prototype,"clear",null);var te=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class ne{constructor(e,t,n){this.transport=e,this.formatDescriptor=t,this.sendVoiceEvent=n,this.status=new i.qb(v.D5.SUSPENDED),this.onStart=new i.vp,this.onError=new i.vp,this.onStop=new i.vp,this.onRecognition=new i.vp,this.currentMessageId="",this.microphone=new ee(this.formatDescriptor),this.microphone.onData=this.handleMicrophoneData}start(e){this.destroy(),this.status.setValue(v.D5.THINKING);const t=(null==e?void 0:e.messageId)||this.transport.createMessageId();return this.currentMessageId=t,this.asr=new X({transport:this.transport,onRecognition:this.handleRecognition,onError:this.handleError,onStop:this.handleStop,silenceTimeout:1e4}),this.asr.start(((t,n)=>this.sendVoiceEvent(t,Object.assign(Object.assign({},e),{messageId:this.currentMessageId,onSent:n})))),this.microphone.start(200,(()=>{this.currentMessageId&&(this.onStart.emit({messageId:this.currentMessageId}),this.status.setValue(v.D5.LISTENING))})).catch(this.throwError),t}stop(e={}){const{currentMessageId:t}=this;t&&(this.cthis.stop({silent:!0}),this.microphone.destroy()}clean(){this.microphone.stop(),this.asr&&(this.asr.stop({reason:7,silent:!0}),this.asr=void 0),this.currentleMicrophoneData(e){this.asr&&this.asr.onData(e)}throwError(e){const{currentMessageId:t}=this;this.clean(),t&&this.onError.emit({messageId:t,error:e})}handleRecognition(e,t){thiognition:t})}handleError(e,t){this.throwError(t)}handleStop(){this.stop()}}ne.getSupportedFormat=function(){if(Q()){if(!window.MediaRecorder||!window.MediaRecorder.isTypeSupported)return{mime:"audio/x-pcm;bit=16;rate=16000",decoderDescriptor:{polyfillRequired:!0}};for(const e of["audio/webm;codecs=opus","audio/ogg;codecs=opus"])if(window.MediaRecorder.isTypeSupported(e))return{mime:e};return{mime:"audio/x-pcm;bit=16;rate=16000",decoderDescriptor:{polyfillRequired:!0}}}},te([i.ak],ne.prototype,"start",null),te([i.ak],ne.prototype,"stop",null),te([i.ak],ne.prototype,"destroy",null),te([i.ak],ne.prototype,"handleMicrophoneData",null),te([i.ak],ne.prototype,"throwError",null),te([i.ak],ne.prototype,"handleRecognition",null),te([i.ak],ne.prototype,"handleError",null),te([i.ak],ne.prototype,"handleStop",null);var ie=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.de=(e=window.yandex)||void 0===e?void 0:e.spotter)}constructor(e,t,n){var o,s,r,a;this.transport=e,this.sendVoiceEvent=t,this.beforeStartCallback=n,this.status=new i.qb(v.D5.SUSPENDED),this.onStart=new i.vp,this.onError=new i.vp,this.onStop=new i.vp,this.onRecognition=new i.vp,this.currentMessageId="",this.spotterStarted=!1,null===(s=null===(o=window.yandex)||void 0===o?void 0:o.spotter)||void 0===s||s.onMicDataAvailable.addListener(this.handleSpotter),null===(a=null===(r=window.yandex)||void 0===r?void 0:r.spror.addListener((e=>this.throwError(new Error(e)))),ge.on("status",(()=>{ge.status===v.D5.SUSPENDED?this.startSpotter():this.status.value===v.D5.SUSPENDED&&this.stopSpotter()})),Promise.resolve().then((()=>{ge.status===v.D5.SUSPENDED&&this.startSpotter()}))}startSpotter(){var e,t;this.spotterStarted||(null===(t=null===(e=window.yandex)||void 0===e?void 0:e.spotter)||void 0===t||t.startReceiveMicData(),this.spotterStarted=!0)}stopSpotter(){var e,t;this.spotterStarted&&(null===(t=null===(e=window.yandex)||void 0===e?void 0:e.spotter)||void 0===t||t.stopReceiveMicData(),this.spotterStarted=!1)}start(){this.beforeStartCallback(),this.destroy(),this.currentMessageId=this.transport.createMessageId(),this.status.setValue(v.D5.LISTENING),this.onStart.emit({messageId:this.currentMessageId}),this.asr=new X({transport:this.transport,onRecognition:this.handleRecognition,onError:this.handleError,onStop:this.handleStop,silenceTimeout:1e4}),this.asr.start(((e,t)=>this.sendVoiceEvent(e,{messageId:this.currentMessageId,onSent:t,mime:"audio/x-pcm;bit=16;rate=16000"})))}stop(e={}){const{currentMessageId:t}=this;t&&(this.stopSpotter(),this.c{messageId:t}))}destroy(){this.stop({silent:!0})}clean(){this.asr&&(this.asr.stop({reason:7,silent:!0}),this.asr=void 0),this.currentMessageId="",this.status.setValue(v.D5.SUSPENDED)}handleSpotter(e){if(this.spotterStarted&&(this.currentMessageId||this.start(),this.asr)){const t=new Uint8Array(e),n=new Blob([t],{type:"audio/x-pcm;bit=16;rate=16000"});this.asr.onData(n)}}throwError(e){const{currentMessageId:t}=this;this.cl.onRecogniError(e,t){this.stopSpotter(),this.throwError(t)}handleStop(){this.stop()}}ie([i.ak],oe.prototype,"start",null),ie([i.ak],oe.prototype,"stop",null),ie([i.ak],oe.prototype,"destroy",null),ie([i.ak],oe.prototype,"handleSpotter",null),ie([i.ak],oe.prototype,"throwError",null),ie([i.ak],oe.prototype,"handleRecognition",null),ie([i.ak],oe.prototype,"handleError",null),ie([i.ak],oe.prototype,"handleStop",null);var se=n(2385),re=n(1399),ae=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);returnn Array.from(this.directiveHandlersMap.values())}constructor(e,t,n={},o){var s,r,a;this.transport=e,this.currentDialogInfo={dialogId:null},this.directiveHandlersMap=new Map,this.status=new i.qb(v.D5.SUSPENDED),this.onListeningStart=new i.vp,this.onListeningStop=new i.vp,this.onListeningError=new i.vp,this.onRecognition=new i.vp,this.onSpeechStart=new i.vp,this.onSpeechFinished=new i.vp,this.onSpeechError=new i.vp,this.onVinsResponse=new i.vp,this.onVinsStreamResponse=new i.vp,this.onVinsError=new i.vp,this.ttsFormatDescriptor=W.getSupportedFormat(n),this.mimeFormatDescriptor=ne.getSupportedFormat(),this.vins=new h(e,t),this.vins.onResponse.on((({messageId:e,response:t})=>{this.onVinsResponse.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,response:t,preventTTS:this.ttsStop})),this.vins.hasPendingInput||this.transport.suspend()})),this.vins.onStreamingResponse.on((e=>{const{cancel_response:t}=e.response.json_response;if(t){const e=t.directives.find((e=>"server_action"===e.type));e&&this.sendVinsRequest("TextInput",Object.assign(Object.assign({},e),{type:"server_action"}),{voiceSession:ge.state.voiceSession}),this.ttsStop()}this.onVinsStreamResponse.emit(e),this.updateStatus(),this.vins.hasPendingInput||this.transport.suspend()})),this.vins.onError.on((({messageId:e,error:t})=>{this.transport.suspend(),this.onVinsError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,error:t}))})),this.ttsFormatDescriptor&&(this.tts=new W(e,this.ttsFormatDescriptor),this.tts.onStart.on((({messageId:e})=>{this.transport.touch(),this.onSpeechStart.emit(Object.assign(Object.assign({},this.currentDialogInfo)ectiveHandlers.forEach((e=>e.onSpeechFetched()))})),this.tts.onFinished.on((({messageId:e})=>{var t;this.directiveHandlers.some((e=>e.isSpeaking))||(this.transport.suspend(),null===(t=this.tts)||void 0===t||t.stop(),this.onSpeechFinished.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e})))})),this.tts.onError.on((({error:e,messageId:t})=>{this.transport.suspend(),this.onSpeechError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t,error:e}))}))),this.mimeFormatDescriptor&&(this.voiceInput=new ne(e,this.mimeFormatDescriptor,this.sendVoiceEvent),this.initInputListeners(this.voiceInput)),(0,re.p)(o.appId,o.platform)&&oe.isAvailable()&&(this.yabroSpotterInput=new oe(this.transport,this.sendVoiceEvent,this.resume),this.initInputListeners(this.yabroSpotterInput)),null===(s=this.voiceInput)||void 0===s||s.status.onChange.on(this.updateStatus),null===(r=this.yabroSpotterInput)||void 0===r||r.status.onChange.on(this.updateStatus),null===(a=this.tts)||void 0===a||a.status.onChange.on(this.updateStatus),se.k.updateStatus=this.updateStatus,this.updateStatus()}startVoiceInput(e){if(this.voiceInput)return this.resume(),this.voiceInput.start(e);this.onListeningError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{error:new Error("Voice input is not supported"),messageId:(null==e?void 0:e.messageId)||""}))}sendVinsRequest(e,t,n={}){var o,s;const r=this.vins.sendRequest(e,t,Object.assign(Object.assign(Object.assign({},this.currentDialogInfo),{voiceSession:this.ttsFormatDescriptor&&n.voiceSession,timeout:3e5,format:null===(o=this.ttsFormatDescriptor)||void 0===o?void 0:o.format,mime:null===(s=this.mimeFormatDescriptor)||void 0===s?void 0:s.mime}),n));return this.updateStatus(),r.response.then((e=>{var n,i,o;const s="server_action"===t.type&&!!t.ignore_answer;this.tts&&((null===(n=e.voice_response)||void 0===n?void 0:n.has_voice_response)||(null===(o=null===(i=e.voice_response)||void 0===i?void 0:i.output_speech)||void 0===o?void 0:o.text))&&!s&&(this.tts.setCurrentMessageId(r.messageId),j.T.resume())})).catch(i.ZT).then(this.updateStatus),r.messageId}synthesize(e){this.tts?(this.resume(),this.tts.generate(e)):this.onSpeechError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{error:new Error("TTS is not supported"),messageId:""}))}setDialogId(e,t=f.i.EXTERNAL_SKILL){this.currentDialogInfo={dialogId:e,dialogType:t}}{var e;null===(e=this.tts)||void 0===e||e.stop()}cancel(e){var t,n,i;(null==e?void 0:e.doNotSuspendTransport)||this.transport.suspend(),null===(t=this.voiceInput)||void 0===t||t.stop(e),null===(n=this.yabroSpotterInput)||void 0===n||n.stop(e),null===(i=this.tts)||void 0===i||i.stop(),this.vins.cancel(),this.updateStatus()}destroy(){var e,t,n;this.cancel(),null===(e=this.voiceInput)||void 0===e||e.destroy(),null===(t=this.yabroSpotterInput)||void 0===t||t.destroy(),null===(n=this.tts)||void 0===n||n.destroy(),this.onListeningStart.clear(),this.onListeningStop.clear(),this.onListeningError.clear(),this.onRecognition.clear(),this.onSpeechStart.clear(),this.onSpeechFinished.clear(),this.onSpeechError.clear(),thiorderSupported(){return Boolean(this.voiceInput)}updateRequestFactory(e){this.vins.updateRequestFactory(e)}getStatusValue(){var e,t,n,i,o,s;return(null===(e=this.voiceInput)||void 0===e?void 0:e.status.value)===v.D5.LISTENING||(null===(t=this.yabroSpotterInput)||void 0===t?void 0:t.status.value)===v.D5.LISTENING?v.D5.LISTENING:(null===(n=this.tts)||void 0===n?void 0:n.status.value)===v.D5.SPEAKING||this.directiveHandlers.some((e=>e.isSpeaking))?v.D5.SPEAKING:(null===(i=this.voiceInput)||void 0===i?void 0:i.status.value)===v.D5.THINKING||(null===(o=this.yabroSpotterInput)||void 0===o?void 0:o.status.value)===v.D5.THINKING||(null===(s=this.tts)||void 0===s?void 0:s.status.valING||this.directiveHandlers.some((e=>e.inProgress))||this.us(){this.status.setValue(this.getStatusValue())}sendVoiceEvent(e,t={}){return this.sendVinsRequest("VoiceInput",{type:"voice_input"},Obj))}resume(){this.transport.resume(),j.T.resume()}initInputListeners(e){e.onStart.on((({messageId:e})=>{this.transport.touch(),this.onListeningStart.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e}))})),e.onStop.on((({messageId:e,reason:t})=>{this.transport.suspend(),this.onListeningStop.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,reason:t}))})),e.onError.on((({error:e,messageId:t})=>{this.transport.suspend(),this.onListeningError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t,error:e}))})),e.onRecognition.on((({messageId:e,recognition:t})=>{this.onRecognition.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,recognition:t}))}))}}ae([i.ak],le.prototype,"startVoiceInput",null),ae([i.ak],le.prototype,"sendVinsRequest",null),ae([i.ak],le.prototype,"synthesize",null),ae([i.ak],le.prototype,"setDialogId",null),ae([i.ak],le.prototype,"setPrevRequestId",null),ae([i.ak],le.prototype,"ttsStop",null),ae([i.ak],le.prototype,"cancel",null),ae([i.ak],le.prototype,"destroy",null),ae([i.ak],le.prototype,"updateStatus",null),ae([i.ak],le.prototype,"sendVoiceEvent",null),ae([i.ak],le.prototype,"resume",null);var ce=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class de{constructor(e,t="arraybuffer"){this.url=e,this.binaryType=t,this.onStatusChanged=new i.vp,this.onMessage=new i.vp,this.status=0,this.lastCloseCode=4005,this.lastCloseReason="",this.networkMonitoring=!1}open(e=2e3){if(!this.url)throw new s("Websocket: Url was not specified");this.websocket&&this.close(4005,"reconnecting",!0),this.startNetworkMonitoring(),this.changeStatus(1);try{const t=new WebSocket(this.url);this.is.clearCous(2)},t.oncon)},t.onmessage=e=>{this.onMessa>this.close(4002,"Websocket: connection timeout")),e)}catch(e){this.close(4005,(0,S.T)(e).message)}}close(e=1e3,t="",n=!1){if(this.stopNetworkMonitoring(),this.clearConnectionTimeout(),this.lastCloseCode=e,this.lastCloseReason=t,this.websocket){const e=this.websocket;e.onopen=null,e.onmessage=null,e.onclose=null,e.readyState===WebSocket.OPEN&&e.closeNNECTING&&(e.onopen=()=>{e.onopen=null,e.close()}),this.websocket=void 0}n||this.changeStatus(0)}send(e){if(!this.websocket)throw new c(this.lastCloseCode,this.lastCloseReason,"Websocket: websocket instance doesn't exists");if(this.websocket.readyState!==WebSocket.OPEN)throw new c(this.lastCloseCode,this.lastCloseReason,`Websocket: not ready, [readyState=${this.websocket.readyState}]`);try{this.websocket.send(e)}catch(e){const t=(0,S.T)(eTimeout.cancel(),this.connefline(){this.close(40nline",this.onOnline),this.networkMonitoring=!0)}stopNetworkMonitoring(){this.networkMonitoring&&(window.removeEventListener("offline",this.onOffline),window.removeEventListener("online",this.onOnline),this.networkMonitoring=!1)}}ce([i.ak],de.prototype,"open",null),ce([i.ak],de.prototype,"close",null),ce([i.ak],de.prototype,"send",null);var ue=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};const pe={shouldListen:!1,voiceSession:!1};class he{constructor(){this.state=Object.assign({},pe),this._cacheAudioBuffer={},t}get status(){return this.speechkit.status.value}get info(){return this._info}init(e){const{appId:t=v.tj.WEB_DESKTOP,appVersion:n,uuid:o=(0,i.Lk)(),vinsTopic:s="desktopgeneral",platform:r=navigator.platform.toLowerCase(),osVersion:a=navigator.userAgent.toLowerCase(),timezone:l=Intl.DateTimeFormat().resolvedOptions().timeZone,location:c,vinsUrl:d,bassUrl:u,experiments:p,supported_features:h,unsupported_features:g,megamind_cookies:f,apiKey:b,suspendable:_=!0,uniproxyUrl:y="wss://uniproxy.alice.yandex.net/uni.ws",decoders:x,directiveHandlers:w=[],isWebKit:k=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),silentMode:$=!1}=e;this._isWebKit=k,j.T.init();const C=new de(y),I=new L(C,{apiKey:b,appId:t,suspendable:_,uuid:o,platform:r});return this._vinsConfig={uuid:o,appId:t,appVersion:n,bassUrl:u,experiments:p,location:c,osVersion:a,platform:r,timezone:l,supported_features:h,unsupported_features:g,vinsTopic:s,vinsUrl:d,megamind_cookies:f,silentMode:$},this._info=Object.assign(Object.assign({},this._vinsConfig),{uniproxyUrl:y,isInit:!0}),this._speechkit=new le(I,m(this._vinsConfig),x,{appId:t,platform:r}),w.forEach((e=>this.speechkit.directiveHandlersMap.set(e.key,e))),this.initListeners(),this}startVoiceInput(e){if(this.status===v.D5.LISTENING)return void this.getEventHandlers("listeningerror").forEach((t=>t({dialogId:(null==e?void 0:e.dialogId)||"",messageId:(null==e?void 0:e.messageId)||"",error:new Error("Alice already LISTENING")})));this.setState({shouldListen:!1});const t=this.speechkit.startVoiceInput(e);(null==e?void 0:e.skipMicSounds)&&t&&this._soundlessMicRequests.add(t)}sendVinsRequest(e,t,n="TextInput"){this.speechkit.sendVinsRequest(n,e,t)}playAudioByUrl(e){var t;if(null===(t=this._vinsConfig)||void 0===t?void 0:t.silentMode)return;if(!this._isWebKit)return void new Audio(e).play();const n=this._cacheAudioBuffer[e];n?(0,i.kU)(n,j.T):fetch(e).then((e=>e.arrayBuffer())).then((t=>{j.T.ctx.decodeAudioData(t,(t=>{(0,i.kU)(t,j.T),this._cacheAudioBuffer[e]=t}))}))}synthesize(e){this.speechkit.synthesize(this.getEventHandlce(e,t){const n=()=>{this.off(e,t),tDialogId(e,t){this.speechkit.setDialogId(e,t)}setPrvRequestId(e)}ttsStop(){this.speechkit.ttsStop()}cancel(){this.setState(pe),this.speechkit.cancel(),this.cancelDirectives(),this.getEventHandlers("cancel").forEach((e=>e()))}updateRequestConfig(e){this._vinsConfig&&(this._vinsConfig=Object.assign(Object.assign({},this._vinsConfig),e),this.speechkit.updateRequestFactory(m(this._vinsConfig)))}destroy(){this.speechkit.directiveHandlersMap.forEach((e=>e.destroy())),this.speechkit.directiveHandlersMap.clear(),Object.values(this._events)estroy()}setState(e){Object.assign(this.state,e)}initListeners(){this.getEventHandlers("init").forEach((e=>e())),this.speechkit.status.onChange.ventHandlers("status").forEach((e=>e(this.status)))})),this.speechkit.onSpeechStart.on((e=>{this.getEventHandlers("speechstart").forEach((t=>t(e)))})),this.speechkit.onSpeechFinished.on((e=>{this.getEventHandlers("speechend").forEach((t=>t(e)))})),this.speechkit.onSpeechError.on((e=>{this.getEventHandlers("speecherror").forEach((t=>t(e)))})),this.speechkit.onListeningStart.on((e=>{this._soundlessMicRequests.has(e.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/start.mp3"),this.getEventHandlers("listeningstart").forEach((t=>t(e)))})),this.speechkit.onListeningStop.on((e=>{this._soundlessMicRequests.has(e.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/cancel.mp3"),this._soundlessMicRequests.delete(e.messageId),this.getEventHandlers("listeningend").forEach((t=>t(e)))})),this.speechkit.onListeningError.on((e=>{this._soundlessMicRequests.has(e.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/error.mp3"),this._soundlessMicRequests.delete(e.messageId),this.getEventHandlers("listeningerror").forEach((t=>t(e)))})),this.speechkit.onRecognition.on((e=>{this.getEventHandlers("recognition").forEach((t=>t(e)))})),this.speechkit.onVinsResponse.on((e=>{var t,n,i;const{voice_response:o}=e.response;o&&this.setState({shouldListen:o.should_listen||!1,voiceSession:Boolean(o.has_voice_response||(null===(t=o.output_speech)||void 0===t?void 0:t.text))}),this.getEventHandlers("vins").forEach((t=>t(e))),null===(i=null===(n=e.response.response)||void 0===n?void 0:n.directives)||void 0===i||i.forEach((t=>{var n;return this.executeClientDirective(t,{directives:null===(n=e.response.response)||void 0===n?void 0:n.directives})}))})),this.speechkit.onVinsStreamResponse.on(getEventHandlers("vinsstream").forEach((t=>{t(e)}))})),this.speechkit.onVinsError.on((e=>{this.getEventHandlers("vinserror").forEach((t=>t(e)))}))}executeDirectives(e,t){e.forEach((e=>{(e=>"server_action"===e.type)(e)?this.sendVinsRequest(e,null==t?void 0:t.request):this.executeClientDirective(e,t)}))}executeClientDirective(e,t){const n=e.type+e.name,i=this.speechkit.directiveHandlersMap.get(n);i?i.handleDirective(e,t):this.getEventHandlers("warning").forEach((()=>new Error(`No handler for Directive: ${e.name}`)))}cancelDirectivchkit.directiveHandlersMap.forEach((e=>e.cancel()))}getEventHandlers(e){const t=this._events[e];if(t)return t;{const t=new Set;return this._events[e]=t,t}}get speechkit(){const e=this._speechkit;if(!e)throw new o("js-alicekit not initialized");return e}}ue([i.ak],he.prototype,"init",null),ue([i.ak],he.prototype,"startVoiceInput",null),ue([i.ak],he.prototype,"sendVinsRequest",null),ue([i.ak],he.prototype,"playAudioByUrl",null),ue([i.ak],he.prototype,"synthesize",null),ue([i.ak],he.prototype,"addDirectiveHandler",null),ue([i.ak],he.prototype,"setDialogId",null),ue([i.ak],he.prototype,"setPrevRequestId",null),ue([i.ak],he.prototype,"ttsStop",null),ue([i.ak],he.prototype,"cancel",null),ue([i.ak],he.prototype,"updateRequestConfig",null),ue([i.ak],he.prototype,"destroy",null);const ge=new he},2346:(e,t,n)=>{n.d(t,{T:()=>a}((e=>i.k.error("Failede=>"suspended"===e.state||"interrupted"===e.state;let r;const a={get ctx(){return r},init:()=>{r||(r=(()=>{const e=new(window.AudioContext||window.webkitAudioContext);return(e=>{if(!s(e))return;const t=hend","mousedown","keydown"],n=()=>{o(e).then(i)},i=()=>t.forEach((e=>dot.forEach((e=>document.body.addEventListene)(e),e})()pended:()=>s(r),isRunning:()=>"running"===r.state}},615:(e,t,n)=>{n.d(t,{D5:()=>s,t4:()=>i,tj:()=>o});const i={WINDOWS:"windows"},o={WEB_DESKTOP:"ru.yandex.web.desktop",YABRO:"yabro"},s={THINKING:"thinking",LISTENING:"listening",SUSPENDED:"suspended",SPEAKING:"speaking"}},2385:(e,t,n)=>{n.d(t,{k:()=>i});class i{constructor(e,t="client_action"){this.name=e,this.type=t,this._inProeturn this._inProg.cancel()}get key(){return this.type+this.name}setProgress(e){this._inProgress!==e&&(this._inProgress=e,i.updateStatus())}}i.updateStatus=()=>{}},8115:(e,t,n)=>{n.d(t,{T:()=>o});var i=n(8057);function o(e){return function(e){return i.Ry.isObject(e)&&"string"==typeof e.name&&"string"==typeof e.message&&(!("stack"in e)||"string"==typeof e.stack)}(e)?e:{name:i.Ry.isObject(e)&&e.constructor.name||typeof e,message:i.Ry.isObject(e)?function(e){if("string"==typeof e.message)return e.message;if(e.toString!==Object.prototype.toString)return e.toString();try{return JSON.stringify(e)}catch(t){return String(e)}}(e):String(e)}}},139);const o=(e,t)=>e===i.tj.YABRO&&t===i.t4.WINDOWS},4828:(e,t,n)=>{n.d(t,{k:()=>i});const i={error:(e,t="")=>console.error(e,String(t)e.DEDICATED_CHAT=2]="DEDICATED_CHAT"}(i||(i={}))},4057:(e,t,n)=>{n.d(t,{S:()=>i});cons.random(>(0,i.S)("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")},8057:(e,t,n)=>{n.d(t,{vp:()=>s,ci:()=>p,qb:()=>b,iQ:()=>v,wn:()=>g,B7:()=>d,akF:()=>_.S,Lk:()=>m.L,sd:()=>w,ZT:y:()=>r.R,kU:()=>k});var i=n(8115);const o=()=>{};class s{constructor(){this.listeners=new Set}on(e){if(!t,()=>this.off(e(e)}once(e){const t=()=>{this.off(e),this.off(t)};this.on(e),this.on(t)}emit(e){if(this.listeners)for(const t of this.listendler((0,i.T)(e))}}clear(){this.listenerr=o;var r=n(3530);const a=e=>"function"==typeof e,l=(e,t,n)=>{if(a(e))throw new TypeError(`bind decorator can't be applied to static method ${t.toString()}`);let i=n.value,o=!1;return{configurable:!0,get:function(){if(o||this===e||r.R.hasOwn(this,t)||!a(i))return i;const n=i.bind(this);return o=!0,Object.defigurable:!0,,set(e){i=e,delete this[t]}}),o=!1,n},set(e){i=e}}};var c=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class d{constructor(e,t,n=500){this.callback=e,this.timeout=t,this.step=n,this.timeoutId=void 0,thil(){this.timeoutId&&clearTimeout(this.timeoutId)}tick(){const e=Date.now();if(this.endTime<=e||this.timeout<=0)return this.timeoutId=void 0,void this.callback();this.timeoutId=setTimeout(this.tick,this.endTime-e>this.step?this.step:this.endTime-e)}}c([l],d.prototype,"cancel",null),c([l],d.prototype,"tick",null);var u=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class p{constr++}shift(){return this.removeByIndex(this.head)}forEach(e){for(let t=this.head;t<this.tail;t++)e(this.queue[t],t)}removeByIndex(e){const t=this.queue[.tail=0}get length(){return this.tail-this.head}}u([l],p.prototype,"push",null),u([l],p.prototype,"shift",null),u([l],p.prototype,"forEach",null),u([l],p.prototype,"removeByIndex",null),u([l],p.prototype,"reset",null);var h=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class g{constructor(e=!1){this.isPaused=e,this.queue=new p,this.this.isPaused&&(this.isPaused=!1,this.execute())}push(e,t){return!this.isCanceling&&(t&&this.cancel(t),this.queue.push(e),this.taskIds[e.id]=!0,this.execute(),!0)}cancel(e,t){if(!e)return void this.cancelAll(t);this.isCanceling=!0;const{id:n,tag:i}=e;this.queue.forEach(((e,o)=>{n!==e.id&&i!==eeling=!1}forEach(e){return this.queue.forEach(e)}hasTaskId(e){var td 0!==t&&t}get length(){return this.queue.length}execute(){var e;if(!this.isPaused&&!this.isExecuting){for(this.isExecuting=!0;this.length&&!this.isPaused;)null===(e=this.queue.shift())||void 0===e||e.run();this.isExecuting=!1}}cancelAll(e){this.isCanceling=!0,this.queue.forEach((t=>t.cancel(e))),this.queue.reset(),this.taskIds={},this.isCanceling=!1}cancelTask(e,t){const n=this.queue.removeByIndex(e);n.cancel(t),delete this.taskIds[n.id]}}h([l],g.prototype,"pause",null),h([l],g.prototype,"resume",null),h([l],g.prototype,"push",null),h([l],g.prototype,"cancel",null),h([l],g.prototype,"forEach",null),h(r);return s>3&&r&&Object.defineProperty(t,n,r),r};class v{constructor(e,{tag:t="default",id:n=(0,m.L)(),data:i,onDone:s=o,onCancel:r=o}={}){this.task=e,this.tag=t,this.id=n,this.data=i,this.onCancel=r,this.onDone=s}async run(ask(this.(()=>{this.onDone()})).catch((e=>{this.cancel(e)})):(this.onDone(),Promise.resolve())}catch(e){const t=(0,i.T)(ct(t)}}cancel(e){try{this.onCancel(e)}catch(e){}}}f([l],v.prototype,"rualue!==e&&(this._value=e,this.onChange.emit())}}var _=n(4057),y=n(2424),x=n(4828);const w=()=>y.Z.info?Promise.resolve(y.Z.info):(x.k.warn("JsAliceKit should be initialized before use"),new Promise(((e,t)=>y.Z.once("init",(()=>{y.Z.info?e(y.Z.info):t("JsAliceKit.info not exists after init")}))))),k=(e,t,n)=>{t.resume();const i=t.ctx.createBufferSource();i.buffer=e,i.connect(t.ctx.destination);const o=t.ctx.createGain();if(i.connect(o),o.connect(t.ctx.destination),o.gain.value=1,n)for(const e in n){const t=n[e];t&&i.addEventListener(e,t)}return"noteOn"in i&&a(i.noteOn)?i.noteOn(0):i.stR:=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={isObject:i,hasOwn:o,getValue:(e,...t)=>t.rrefensertributtion(Node)ild);t.appendChild(document.createTextNode(e))}}},9756:(e,t,n)=>{n.d(t,{x:()=>o});const i=(e,t)=>Math.abs(t.clientX-e.clientX)>5&&Math.abs(t.clientX-e.clientX)>Math.abs(t.clientY-e.clientY);function o(e){let t=null;const n=e=>{t={clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}},o=n=>{t&&i(t,n.touches[0])&&e.dispatchEvent(new CustomEvent("horizontalmovechange",{detail:{value:!0}}))},s=()=>{e.dispatchEvent(new CustomEvent("horizontalmovechange",{detail:{value:!1}})),t=null};return e.addEventListener("touchstart",n,{passive:!0,capture:!0}),e.addEventListener("touchmove",o,{passive:!0,capture:!0}),e.addEventListeve",o,!0),e.removeEventListener("toucs,!0)}}}},3561:(e,t,n)=>{n.d(t,{P1:()=>v,gl:()=>f});var i=n(8261),o=n(8813);const s="aliceButterfly",r={storage:sessionStorage,namespace:s},a=(0,o.Z)("uuid",void 0,{namespace:s}),l=((0,o.Z)("shouldBeUpdate",!1,{namespace:s,cleanIf:e=>!e}),(0,o.Z)("uniProxyUrl",void 0,Object.assign(Object.assign({},r),{cleanIf:e=>!e}))),c=(0,o.Z)("vinsUrl",void 0,Object.assign(Object.assign({},r),{cleanIf:e=>!e})),d=(0,o.Z)("arpcUrl",,Object.assign(Object.assign({},r),{cleanIf:e=>!e})),u=(0,o.Z)("experiments",[],Object.assign(Object.assign({},r),{cleanIf:e=>!(null==e?void 0:e.length)})),p=(0,o.Z)("supported_features",[],Object.assign(Object.assign({},r),{cleanIf:e=>!(null==e?void 0:e.length)})),h=(0,o.Z)("unsupported_featursign({},r),{cleanIf:e=>!(null==e?void 0:e.length)})),g=(0,o.Z)("ab_experiments",{},Object.assign(Object.assign({},r),{cleanIf:e=>function(e){retu|!Object.values(e).some((e=>Object.keys(e).length))}(e)})),m=(0,i.nK)(g,(e=>{if(!g)return[];const t=Object.values(e).flatMap((e=>Object.keys(e)));return Array.from(new Set(t))})),f=()=>{const e=e=>{var t;return(null===(t=(0,i.U2)(e))||void 0===t?void 0:t.trim())||void 0};return{uniProxyUrl:e(l),vinsUrl:e(c),arpcUrl:e(d),experiments:(0,i.U2)(u).filter(Boolean),supportedFeatures:(0,i.U2)(p).filter(Boolean),unsupportedFeatures:(0lter(Boolean),testIds:(0,i.U2)(m)}},v=e=>a.set(e)},2212:(e,t,n)=>{n.d(t,{U:()=>s,z:()=>i});var i,o=n(4640);!function(e){e.ALICE="alice",e.MICROtx",s="alice.standalone.firstWelcomeAlreadyBeen"},2833:(e,t,n)=>{n.d(t,{JC:()=>z,xx:()=>E,f1:()=>j});var i=n(8489),o=n(8261),s=n(4640),r=n(9824),a=n(2792);const l=e=>Object.assibles:e.bubbles.filter((e=>"text"!==e.type||e.text))}),c=e=>Object.assign(Object.assign({},e),{isStreaming:void 0,bubbles:e.bubbles.map((e=>"text"===e.type?Object.assign(Object.assign({},e),{animationFinalText:ves.some((e=>"text"===e.type&&e.animationFinalText)),u=e=>{const t=(0,r.CT)(e);return!(!t||t.hidden||d(t))&&(t.isUserAuthor?!t.bubbles.length&&u(e.slice(0,-1)):Boolean(t.bubbles.length))};var p=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const h=(e,t,n=[])=>{const i={info:t,isMessagesHidden:!1,messages:[],suggests:[]},s=(0,o.fZ)(Object.assign(Object.assign({},i),{messages:n})),h=(e,t)=>s.update((n=>{var i,{messages:o,suggests:s}=n,a=p(n,["messages","suggests"]);return Object.assign(Object.assign({},a),{suggests:(null===(i=(0,r.CT)(o))||void 0===i?void 0:i.requesuestId===e?Object.assign(Object.assign({},n),t):n))})})),{subscribe:g}=(0,o.nK)(s,(e=>{const t=e.isMessagesHidden?[]:e.messages.filter((e=>!e.hidden)),n=(0,r.CT)(t),i=n&&d(n),o=!e.isMessagesHidden&&u(e.messages)?e.suggests:[],s=(0,r.qr)(t,(({isWelcomeMessage:0,r.qr)(t,(({isPhraseOnDialogOpen:e})=>Boolean(e))),c=-1===l?void 0:l;return Object.assign(Object.assign({},e),{messages:t,suggests:o,isChanging:i,welcomeMessageIndex:a,dialogOpenPhraseIndex:c})}));return{subscribe:g,addMessage:e=>{var{suggests:t}=e,n=p(e,["suggests"]);return s.update((e=>{var{messages:i}=e,o=p(e,["messages"]);return Object.assign(Object.assign({},o),{suggests:null!=t?t:o.suggests,messages:[...i,Object.assign(Object.assign({},l(n)),{date:new Date})]})}))},updateLastMessage:(e,t)=>s.update((n=>{var i,{messages:o,suggests:s}=n,c=p(n,["messages","suggests"]);const d=(0,r.CT)(o);if(!d)return Object.assign({messages:o,suggests:s},c);const u=((e,t,n)=>{switch(n){case"merge":return((e,t)=>{const n=[...e];return t.forEach((e=>{const t=n.findIndex((t=>t.id===e.id)),i=((e,t)=>{var n;return"text"===e.type&&e.animationFinalText?t&&"text"===t.type?Object.assign(Object.assign({},e),{text:t.text}):Object.assign(Object.assign({},e),{text:null!==(n=(0,a.x)(e.animationFinalText)[0])&&void 0!==n?n:""}):Object.assign({},e)})(e,n[t]);-1!==t?n[t]=i:n.pushl!==(n=t.find((t=>t.id===e.id)))&&void 0!==n?n:e})))(e,t);case"replace":return t}})(d.bubbles,e.bubbles||[],t),h=l(Object.assign(Object.assign(Object.assign({},d),e),{bubbles:u}));return Object.assign(Object.assign({},c),{suggests:null!==(i=e.suggests)&&void 0!==i?i:s,messages:[...o.slice(0,-1),h]})})),cancel:()=>s.update((e=>{var{messages:t}=e,n=p(e,["messages"]);const i=(0,r.CT)(t);return i?Object.assign(Object.assign({},n),{messages:[...t.slice(0,-1),c(i)]}):Object.assign({messages:t},n)})),setHistory:e=>{s.update((t=>{var{messages:n}=t,i=p(t,["messages"]);return Object.assign(Object.assign({},i),{messageject.assign(Object.assign({},t),{outputStatus:e})))},removeMessagesByRequestId:(t,n=!1)=>s.update((i=>{var o,s,{messages:a,suggests:l}=i,c=p(i,["messages","suggests"]);const d=(null===(o=(0,r.CT)(a))||void 0===o?void 0:o.requestId)===t,u=n?[]:a.filter((e=>e.requestId!==t));if(n||d){const t=null===(s=u.slice().reverse().find((e=>e.requestId)))||void 0===s?void 0:s.requestId;e.setPrevRequestId(t)}return Object.assign(Object.assign({},c),{suggests:n||d?[]:l,messages:u})})),assignToMessagesByRequestId:h,setMarkMessagesByRequestId:(e,t)=>ges,i=n[((e,t)=>e.findIndex((e=>e.requestId===t)))(n,e)];return!(!i||i.mark===t||(h(e,{mark:t}),0))},assignToChatInfo:e=>{s.update((t=>{var{info:n}=t,i=p(t,["info"]);return Object.assign(Object.assign({},i),{info:Object.assign(Objs.update((t=>Object.assign(Object.assign({},t),e))),reset:()=>s.update((({info:e})=>Object.assign(Objectnull===(e=this.config.isDialog)||void 0===e||e}constructor(e,t,n={}){this.type=e,this.store=t,this.config=n,this.isHistoryLoaded=!1,this.isHistoryLoading=!1,this.hasMessages=!1,this.subscribersStore=new Map,this.isHistoryEmpty=!0,this.hidden=!1,this.subscribe=t.subscribe,this.addMessage=t.addMessage,this.assignToChatInfo=t.assignToChatInfo,this.removeMessagesByRequestId=t.removeMessagesByRequestId,this.assignToMessagesByRequestId=t.assignToMessagesByRequestId,this.setMarkMessagesByRequestId=t.setMarkMessagesByRequestId,this.setOutputStatus=t.setOutputStatus,this.cancel=t.cancel,this.updateLastMessage=t.updateLastMessage,this.updateChat=t.updateChat,n.isNewChat&&(this.isHistoryLoaded=!0),this.subscribeStore((({messages:e})=>{if(!e.length)return;const t=this.isDialog&&!this.hasMessages;this.hasMessages=!0,t&&this.loadHistory()})),n.immediatelyLoadHistory&)))}loadHistory(){return Promise.resolve(void 0)}closeChat(){this.reset(),this.store.reset()}destroy(){this.unsubscribeStore()}subscribeStore(e){const t=this.store.subscribe(e);return this.subscribersStore.set(e,t),t}unsubscribeStore(e){var t;if(e)return null===(t=this.subscribersStore.get(e))||void 0===t?void 0:t();this.subscribersStore.forEach((e=>e())),this.subscribersStore.clear()}checkCanLoad(){return!this.isHistoryLoaded&&!this.isHistoryLoading&&(!this.isDialog||this.isDialog&&this.hasMessages)}onLoadHistory(e=[],t=!0){var n,i;this.isHistoryEmpty=this.isHistoryEmpty&&!e.length,this.isHistoryLoaded=t,this.isHistoryLoading=!1,null===(i=(n=thithis.isHistoryLoaded=!1,this.isHistoryLoading=!1}}class f extends m{get maxMessagesInLS(){return this.config.maxMessagesInLS}constructor(e,t){sribeStore((({messages:e})=>{this.writeHistory(e)}))}getHistory(){try{const e=localStorage.getItem(this.config.localStorageKey);return e&&JSON.parse(e)}catch(e){}}loadHistory(){return new Promise((e=>{if(!this.checkCanLoad())return e(void 0);const t=this.getHistory();if(!Array.isArray(t))return this.onLoadHistory(),e([]);const n=t.map((e=>{var t;if("object"==typeof e&&null!==e)return"bubbles"in(t=e)&&"date"in t&&Array.isArray(t.bubbles)?Object.assign(Object.assign({},e),{date:new Date(e.date),isPhraseOnDialogOpen:!1}):"text"in e&&"string"==typeof e.text?Object.assign(Object.assign({},e),{id:(0,a.O)(),date:"date"in e&&"string"==typeof e.date?new Date(e.date):new Date,bubbles:[{id:(0,a.O)(),type:"text",text:e.text}],isPhraseOnDialogOpen:!1}):void 0})).filter((e=>Boolean(e)));this.onLoadHistory(n),this.store.setHistory(n),e(n)}))}writeHistory(e){if(!thi.filter((e=>!e.isWelcomeMessage&&e.bubbles.length)).slice(-this.maxMessagesInLS).map(c);try{localStorage.setItem(this.config.localStorageKey,JSON.stringify(t))}catch(e){}}}var v=n(3561),b=n(4090);class _ extends m{constructor(e,t,n,i){super("backend",e,t),this.aliceKit=n,this.arpcUrl=(0,v.gl)().arpcUrl||t.arpcUrl,this.removeMessagesByRequestId=(t,i=!1)=>n.removeChatMessagepcUrl).then((()=>e.removeMessagesByRequestId(t,i))),this.setMarkMessagesByRequestId=(t,i)=>(n.sendFeedback(t,i===s.Hc.BAD?"negative":"positive",{ignoreAnswer:!0}),e.setMarkMessagesByRequestId(t,i)),this.subscribeStore((({messages:t,info:n})=>{if(n.title&&n.subtitle)return;const o=(0,r.CT)(t);if(!o)return;const s=(e=>{var t;const n=e.bubbles.find((e=>"text"===e.type));return null!==(t=null==n?void 0:n.text)&&void 0!==t?t:""})(o);s&&(!n.title&&o.isUserAuthor&&e.assignToChatInfo({title:s}),n.subtitle||o.isUserAuthor||e.assignToChatInfo({subtitle:s}),i())}))}loadHistory(){if(!this.checkCanLoad())return Promise.resolve(void 0);this.isHistoryLoading=!0;const e=(0,o.U2)(this.store).messages[0],t=(null==e?void 0:e.date)?e.date.getTime():Number.MAX_SAFE_INTEGER,n=null==e?void 0:e.id,i=this.info.id;return this.aliceKit.getChatHistory(i,t,n,20,this.arpcUrl).then((({messages:e})=>{this.isHistoryLoading=!1;const t=!e||e.length<20,n=(0,b.ux)(e);if(this.onLoadHistory(n,t),n.lading=!1,console.error("getChatHistory error",e)}))}}var y=n(8813),x=n(8940);const w=(e,t)=>{var n,i;return e.id===g.m.id?-1:t.id===g.m.id?1:(e.date||t.date||(null!==(n=e.title)&&void 0!==n?n:"").localeCompare(null!==(i=e.title)&&void 0!==i?i:""),t.date?e.date?t.date.getTime()-e.date.getTime():-1:1)},k=e=>!e.hidden&&!e.isDialog&&Boolean(e.info.title||e.info.subtitle||(0,o.U2)(e).messages.length);var $=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const C=(e,t,n)=>{const i=(0,v.gl)().arpcUrl||t,a=(0,y.Z)(x.xx,!1,{storage:localStorage,cleanIf:e=>!e}),l=(0,o.fZ)({allChats:{[g.m.id]:d({type:"ls",isDialog:!0,localStorageKey:"alice.defaultChat",maxMessagesInLS:50,immediatelyLoadHistory:!1},g.m)},activeChatId:g.m.id});function c(){l.update((e=>{var{allChats:t}=e,n=$(e,["allChats"]);return Object.assign({allChats:Objet,n,o){const s=(e=>"ls"===(null==e?void 0:e.type))(t),r=h(e,n,o);return s?new f(r,t):new _(r,Object.assign(Object.assign({},t),{arpcUrl:i}),e,c)}function u(e,t={},n){const{id:i=(0,s.Lk)(),date:o=new Date,title:r,subtitle:a}=t;return l.update((s=>{var{allChats:l}=s,c=$(s,["allChats"]);return Object.assign(Object.assign({},c),{allChats:Object.assign(Object.assign({},l),{[i]:d(Object.assign(Object.assign({},e),{isNewChat:!t.id}),{id:i,date:o,title:r,subtitle:a},n)})})})),i}function p(e){const{activeChatId:t,allChats:n}=(0,o.U2)(l),i=n[e];i&&i.destroy(),m(t===e?g.m.id:t)}function m(t){l.update((({activeChatId:n,allChats:i})=>{var o;const a=i[t];return a&&t!==n?(b(),null===(o=i[n])||void 0===o||o.closeChat(),e.setDialogId(a.isDefault?null:t,a.isDialog?s.iR.EXTERNAL_SKILL:s.iR.DEDICATED_CHAT),a.loadHistory().then(((t=[])=>{var n;const i=a.isDialog||null===(n=(0,r.CT)(t))||void 0===n?void 0:n.requestId;e.setPrevRequestId(i)})),{allChats:i,activeChatId:t}):{activeChatId:n,allChats:i}}))}function b(){const{activeChatId:t,allChats:n}=(0,o.U2)(l);n[t]&&n[t].cancel(),e.cancel()}const{subscribe:C}=(0,o.nK)(l,(e=>Object.assign(Object.assign({},e),{currentChat:e.allChats[e.activeChatId],visibleChates(e.allChats).filter(k).map((e=>(0,o.U2)(e).info)).sort(w)})));return{firstInteractionAlreadyBeen:a,loadChatList:function(){return e.getChatList(i).then((e=>{var t;(null==e?void 0:e.dialogs)&&e.dialogs.forEach((e=>{u({type:"backend",isDialog:!1},{id:e.dialog_id,title:e.title,subtitle:e.subtitle,date:new Date(Number(e.creation_ts_ms)),icon:e.logo_url})})),n.emit("stat",{path:"chat_list_on_start",customParams:{value:(null===(t=null==e?void 0:e.dialogs)||void 0===t?void 0:t.length.toString())||"0"},eventType:"tech"})})).catch((e=>{console.error("getChatList error",e)}))},createChat:u,createChatWithMessages:async function(t){const{activeChatId:n}=(0,o.U2)(l),s=n!==g.m.id?n:void 0,r=await e.createChatWithMessages(t,{dialogId:s},i),{dialog_id:a,title:c,subtitle:d,creation_ts_ms:p}=r.dialog,h={id:a,title:c,subtitle:d,date:new Date(Number(p))};return u({type:"backend",isDialog:!1},h),m(h.id),h},createNewChat:function(){m(u({type:"backend",isDialog:!1}))},removeChat:function(t){"backend"!==(0,o.U2)(l).allChats[t].type?p(t):e.removeChat(t,i).then((()=>p(t)))},setHiddenChat:function(e,t){const{activeChatId:n,allChats:i}=(0,o.U2)(l),s=i[e];s&&(s.hidden=t),m(n===e?g.m.id:n)},setActiveChatId:m,cancel:b,subscribe:C}},I=(()=>{var e;let t={theme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",isSetByUser:!1};const n=(e=>{var t;return(null===(t=document.cookie.match("(^|;)\\s*yp\\s*=\\s*([^;]+)"))||void 0===t?void 0:t.pop())||""})();if(n)switch(null===(e=n.match(/skin\.(\w)/))||void 0===e?void 0:e[1]){case"d":t={theme:"dark",isSetByUser:!0};break;case"l":t={theme:"light",isSetByUser:!0}}return t})();(0,o.PX)(I,(e=>{}));var S=n(2212);const T=e=>(0,o.PX)(S.U.SUSPENDED,(t=>{const{aliceBus:n}=e,i=e=>t(e),o=e.onInit("status",i)}));return()=>{o(),n.off("status",i)}})),M=(0,o.fZ)({hidden:!1,top:0}),L=e=>{const t="alice.settings",n=(e=>{const t={silentMode:{title:"Тихий режим",text:"Алиса будет отвечать только текстом",isActive:!1}};return e&&(t.standaloneDebug={title:"Дебаг режим",text:"Может приходить дебаг информация в ответе",isActive:!1}),t})(e);let i=null,s="";try{s=localStorage.getItem(t),s&&(i=JSON.parse(s))}catch(e){}e||delete(i||n).standaloneDebug;const{subscribe:r,update:a}=(0,o.fZ)(i||n);return{subscribe:r,setEnabled:(e,n)=>{a((i=>{const o=i[e];if(o){o.isActive=n;try{localStorage.setItem(t,JSON.stringify(i))}catch(e){}}return i}))}}},E=new i.v,j=Symbol();let D,O;function z(e,t,n){return{openOrCreate:({appId:i,yandexuid:o,uniproxyUrl:s,vinsUrl:r,baseZIndex:a=0,oggDecoderWorkerPath:l,os:c,overrideOpenUriDirective:d,theme:u,location:p,container:h,promoUrlIos:g,promoUrlAndroid:m,promoQrLink:f,isSafari:v,howToSetUpMicLink:b,testShortcuts:_=[],isTablet:y,abFlags:x,startPhrase:w,preventListenOnStart:k,elementFocusOnClose:$,aliceExperiments:I=[],supportedFeatures:S=[],unsupportedFeatures:z=[],shouldOpenYaGpt:A=!1,yaGptOpenPhrase:N,arpcUrl:H,deeplink:R,userData:P})=>{var B;const U=[..._,...n.shortcuts];x.includes("alice_ecom_dialog_shortcut_enable")&&U.unshift({id:"123",title:"Давай выберем",command:"Запусти навык Давай выберем товар",url:"https://yastatic.net/s3/home/alice_popup/ecomAssistant.svg"});const V=c.toLowerCase(),q=x.includes("alice_desktop_fullscreen_chat")&&!0,{isMobile:F,isLib:Z}=n;M.set({hidden:!1,top:0});const G=!A&&!0,Y=Boolean(!1);if(O||(O=t({appId:i,isSafari:v,location:p,oggDecoderWorkerPath:l,os:V,uniproxyUrl:s,vinsUrl:r,yandexuid:o,isFullscreenExp:q,experiments:I.concat(n.experiments||[]).concat(Y?["analytics_info"]:[]),supportedFeatures:S.concat(n.supportedFeatures||[]),unsupportedFeatures:z.concat(n.unsupportedFeatures||[]),outputBus:E})),null===(B=null===navigator||void 0===navigator?void 0:navigator.permissions)||void 0===B?void 0:B.query){const e="microphone";navigator.permissions.query({name:e}).then((e=>{E.emit("stat",{path:"permission_microphone."+e.state,eventType:"tech"})})).catch((e=>{E.emit("stat",{path:"permission_microphone.query_error",eventType:"tech"})}))}if(D)G&&O.checkPermissionAndStartVoiceInput({skipMicSounds:!0}),D.$set({hidden:!1,startPhrase:w,shouldOpenYaGpt:A,yaGptOpenPhrase:N,deeplink:R});else{const t={howToSetUpMicLink:b,shortcuts:U,promoUrlAndroid:m,promoUrlIos:g,promoQrLink:f,promoUrlMobile:"ios"===V?g:m,os:V,baseZIndex:a,isFullscreenExp:q,isAliceFullscreenRedirectExp:x.includes("alice_redirect_to_fullscreen"),isFirstRequestScrollExp:x.includes("alice_first_request_scroll"),allChatsStore:C(O,H,E),aliceState:T(O),settingsStore:L(Y),aliceKit:O,outputBus:E,isMobile:F,isLib:Z},n=new Map([[j,t]]);D=new e({target:h,props:{hidden:!1,outputBus:E,overrideOpenUriDirective:d,theme:u,isTablet:y,startPhrase:w,preventListenOnStart:k,elementFocusOnClose:$,shouldOpenYaGpt:A,yaGptOpenPhrase:N,deeplink:R,userData:Z?{hasStandaloneAccess:!0,isLoggedUser:!0}:P},context:n})}E.emit("statheme:e})},hide:()=>{D&&D.$set({hidden:!0})},outputBus:E}}},2192:(e,t,n)=>{n.d(t,{W:()=>o,m:(т",subtitle:"Спроси у Алисы"},o="alice.chat"},4090:(e,t,n)=>{n.d(t,{Yl:()=>s,ux:()=>a});var i=n(4640),o=n(2792);const s=e=>"ls"===e.type,r=e=>"object"==typeof e&&null!==e&&"request"in e,a=e=>e?e.map((({content:e,history_message_id:t,message_mark:n,ts_ms:s,request_id:a})=>{var l;const c=[];return r(e)?c.push({id:(0,o.O)(),type:"text",text:e.request.request_text}):null===(l=e.response.cards)||void 0===l||l.forEach((e=>{if(e.text_card)c.push({id:(0,o.O)(),type:"text",text:e.text_card.text});else if(e.text_with_buttons_card)c.push({id:(0,o.O)(),type:"text",text:e.text_with_buttons_card.text,buttons:e.text_with_buttons_card.buttons});else if(e.div2_card){const{palette:t}=e.div2_card;c.push({id:(0,ocard:e.div2_card.body.card,templates:e.div2_card.body.templates,palette:t?{light:Object.keys(t.light).map((e=>({name:e,color:t.light[e]}))),dark:Object.keys(t.dark).map((e=>({name:e,color:t.dark[e]})))}:void 0}})}else if(e.rich_json_card){const t=JSON.parse(e.rich_json_cartype:"richJson",richJson:t,hideBorders:e.hide_borders})}})),{isUserAuthor:r(e),id:t,requestId:a,bubbles:cmber(s)),mark:null!=n?n:i.Hc.NOT_SET}})).filter((e=>Boolean(e.bubbles.length))):[]},9824:(e,t,n)=>{n.d(t,{CT:()=>o,ents[e];if(!n)return;const i=n.indexOf(t);i>=0&&n.spli n=()=>{this.off(e,t),this.off(e,n)};this.on(e,t),this.on(e,n)}subscribe(e,tst n=this._events[e];n&&n.slice().forEach((e=>{e.apply(void 0,t)}))}}},8813:(e,t,n)=>ar i=n={data:{},getItem:e=>{var t;return null!==e=>{var t;return null!==(t=Object.values(o.data)=t?t:null},setItem:(e,t)=>o.data[e]=t,clear:()=>o.data={},removeItem:e=>o[e]&&delete o[e],get length(){return Object.keys(o.data).length}},s=(e,t,n={})=>{const{namespace:s="",cleanIf:r=(e=>void 0===e),storage:a=o}=n;e=[s,e].filter(Boolean).join(".");let l="";try{l=a.getItem(e)}catch(e){console.error(e)console.error(e)}const c=(0,i.fZ)(t,n.start);return c.subscribe((t=>{r(t)?Promise.resolve().then((()=>a.removeItem(e))).catch(console.error):Promise.resolve().then((()=>a.setItem(e,JSON.stringify(t)))).catch(console.error)})),c}},2792:(e,t,n)=>{n.d(t,{O:()=>o,x:()=>r});const i="ATUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-",o=(e=20)=>Array.from({length:e},(()=>i.charAt(Math.floor(Math.random()*i.length)))).join(""),s=/(^|(\s|[^\p{N}\p{L}])+)\S+(\s+$)?/gu,r=e=>e.match(s)||[]},5572:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNDEzODggNy45OTcxMUwxMS4yMDM5IDMuMjA0MTFDMTEuMzkxNCAzLjAxNjQ3IDExLjQ5NjcgMi43NjIwMyAxMS40OTY2IDIuNDk2NzZDMTEuNDk2NSAyLjIzMTQ5IDExLjM5MSAxLjk3NzEyIDExLjIwMzQgMS43ODk2MUMxMS4wMTU3IDEuNjAyMSAxMC43NjEzIDEuNDk2ODIgMTAuNDk2IDEuNDk2OTFDMTAuMjMwOCAxLjQ5NyA5Ljk3NjM5IDEuNjAyNDcgOS43ODg4OCAxLjc5MDExTDQuMjkyODggNy4yOTAxMUM0LjEwNTQxIDcuNDc3NjQgNC4wMDAwOSA3LjczMTk1IDQuMDAwMDkgNy45OTcxMUM0LjAwMDA5IDguMjYyMjggNC4xMDU0MSA4LjUxNjU5IDQuMjkyODggOC43MDQxMUw5Ljc4ODg4IDE0LjIwNDFDOS45NzYzOSAxNC4zOTE4IDEwLjIzMDggMTQuNDk3MiAxMC40OTYgMTQuNDk3M0MxMC43NjEzIDE0LjQ5NzQgMTEuMDE1NyAxNC4zOTIxIDExLjIwMzQgMTQuMjA0NkMxMS4zOTEgMTQuMDE3MSAxMS40OTY1IDEzLjc2MjcgMTEuNDk2NiAxMy40OTc1QzExLjQ5NjcgMTMuMjMyMiAxMS4zOTE0IDEyLjk3NzggMTEuMjAzOSAxMi43OTAxTDYuNDEzODggNy45OTcxMVoiIGZpbGw9IiMwRjExMTkiLz4KPC9zdmc+Cg=="},4679:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNDEzODggNy45OTcxMUwxMS4yMDM5IDMuMjA0MTFDMTEuMzkxNCAzLjAxNjQ3IDExLjQ5NjcgMi43NjIwMyAxMS40OTY2IDIuNDk2NzZDMTEuNDk2NSAyLjIzMTQ5IDExLjM5MSAxLjk3NzEyIDExLjIwMzQgMS43ODk2MUMxMS4wMTU3IDEuNjAyMSAxMC43NjEzIDEuNDk2ODIgMTAuNDk2IDEuNDk2OTFDMTAuMjMwOCAxLjQ5NyA5Ljk3NjM5IDEuNjAyNDcgOS43ODg4OCAxLjc5MDExTDQuMjkyODggNy4yOTAxMUM0LjEwNTQxIDcuNDc3NjQgNC4wMDAwOSA3LjczMTk1IDQuMDAwMDkgNy45OTcxMUM0LjAwMDA5IDguMjYyMjggNC4xMDU0MSA4LjUxNjU5IDQuMjkyODggOC43MDQxMUw5Ljc4ODg4IDE0LjIwNDFDOS45NzYzOSAxNC4zOTE4IDEwLjIzMDggMTQuNDk3MiAxMC40OTYgMTQuNDk3M0MxMC43NjEzIDE0LjQ5NzQgMTEuMDE1NyAxNC4zOTIxIDExLjIwMzQgMTQuMjA0NkMxMS4zOTEgMTQuMDE3MSAxMS40OTY1IDEzLjc2MjcgMTEuNDk2NiAxMy40OTc1QzExLjQ5NjcgMTMuMjMyMiAxMS4zOTE0IDEyLjk3NzggMTEuMjAzOSAxMi43OTAxTDYuNDEzODggNy45OTcxMVoiIGZpbGw9IiM3YTU1ZmYiLz4KPC9zdmc+Cg=="},4472:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuNTg2MTIgOC4wMDI4OUw0Ljc5NjEyIDEyLjc5NTlDNC42MDg2MSAxMi45ODM1IDQuNTAzMzIgMTMuMjM4IDQuNTAzNDIgMTMuNTAzMkM0LjUwMzUxIDEzLjc2ODUgNC42MDg5OCAxNC4wMjI5IDQuNzk2NjIgMTQuMjEwNEM0Ljk4NDI2IDE0LjM5NzkgNS4yMzg3IDE0LjUwMzIgNS41MDM5NyAxNC41MDMxQzUuNzY5MjQgMTQuNTAzIDYuMDIzNjEgMTQuMzk3NSA2LjIxMTEyIDE0LjIwOTlMMTEuNzA3MSA4LjcwOTg5QzExLjg5NDYgOC41MjIzNiAxMS45OTk5IDguMjY4MDUgMTEuOTk5OSA4LjAwMjg5QzExLjk5OTkgNy43Mzc3MiAxMS44OTQ2IDcuNDgzNDIgMTEuNzA3MSA3LjI5NTg5TDYuMjExMTIgMS43OTU4OUM2LjAyMzYxIDEuNjA4MjUgNS43NjkyNCAxLjUwMjc4IDUuNTAzOTcgMS41MDI2OUM1LjIzODcgMS41MDI1OSA0Ljk4NDI2IDEuNjA3ODggNC43OTY2MiAx2MiAxLjc5NTM5QzQuNjA4OTggMS45ODI5IDQuNTAzNTEgMi4yMzcyNiA0LjUwMzQyIDIuNTAyNTNDNC41MDMzMiAyLjc2NzggNC42MDg2MSAzLjAyMjI1IDQuNzk2MTIgMy4yMDk4OUw5LjU4NjEyIDguMDAyODlaIiBmaWxsPSIjN2E1NWZmIi8+Cjwvc3ZnPgo="},8568:(e,t,n)=>{n.d(t,{H3:()=>i.H3E,Ky:()=>i.KyG,ev:()=>i.evW,fw:()=>i.fwp,gx:()=>i.gx3});var i=n(4234)},4234:(e,t,n)=>{function i(){}n.d(t,{$Tr:()=>H,$XI:()=>f,AT7:()=>G,AqN:()=>h,CR_:()=>Re,DhX:()=>q,FIv:()=>v,FWw:()=>ee,GQg:()=>Ue,H1I:()=>k,H3E:()=>le,HCz:()=>Ne,Jn4:()=>p,KyG:()=>ye,LdU:()=>m,Ljt:()=>W,LoY:()=>Ve,N8:()=>d,P$F:()=>xe,R3I:()=>D,RMB:()=>P,S1n:()=>Je,TVh:()=>C,UF7:()=>J,Ui:()=>Oe,VHj:()=>K,VOJ:()=>w,VnY:()=>ge,XET:()=>Y,YCL:()=>Ge,ZTd:()=>i,akz:()=>Ze,bGB:()=>B,bi5:()=>U,cKT:()=>pe,cSb:()=>F,cly:()=>Be,czc:()=>Q,dvw:()=>je,eZl:()=>He,etI:()=>ze,evW:()=>de,f0i:()=>s,fLW:()=>V,f_C:()=>Xe,fwp:()=>ue,fxP:()=>$,gCg:()=>qe,gbL:()=>De,gx3:()=>ce,hjT:()=>we,j7q:()=>l,kmG:()=>x,nuO:()=>b,oLt:()=>Z,ogt:()=>R,qOq:()=>O,rTO:()=>X,sBU:()=>c,u2N:()=>y,vpE:()=>We,xfz:()=>Pe,yRu:()=>o,yef:()=>Ye}rn e()}function a(){return Object.create(null)}function l(e){e.forEach(r)}function c(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let u;function p(e,t){return u||(u=document.createElement("a")),u.href=t,e===uunction g(e){return 0===Object.keys(e).length}function m(e,...t){if(null==e)return i;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function f(e){let t;return m(e,(e=>t=e))(),t}function v(e,t,n){e.$$.on_destroy.push(m(t,n))}function b(e,t,n,i){if(e){const o=_(e,t,n,i);return e[0](o)}}function _(e,t,n,i){return e[1]&&i?s(n.ctx.slice(),e[1](i(t))):n.ctx}function y(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}t,n,i,s);e.p(r,o)}}function w(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let return-1}function k(e){return null==e?"":e}function $(e,t,n){retuew Set;function L(e){M.forEach((t=>{t.c(e)return document;const t=e.getRootNode?.host?t:e.ownerDocument}function A(e){const t=B("style");return N(z(e),t),t.sheet}function N(e,t){D(e.head||e,t)}function H(e,t,n){e.insertBefore(t,n||null)}function R(e){e.parentNode.removeChild(e)}function P(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function B(e){return document.createElement(e)}function U(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function V(e){return document.createTextNode(e)}function q(){ristener(t,n,i),()=>e.removeEventListener(t,n,i)}function G(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Y(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function W(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function J(e,t){const(const i in t)null==t[i]?e.removeAttribute(i):"style"===i?e.style.cssText=t[i]:"__value"===i?e.v(e)),this.i(n)}h(e){this.e.),o=n.length-i.length;o&&(e.style.animation=i.join(", "),ie-=o,ie||T((()=>{ie||(te.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),te.clear())})))}function re(e){ne=e}function ae(){if(!ne)throw new Error("Function called outside component initialization");return ne}function le(e){ae().$$.on_mount.push(e)}function ce(e){ae().$$.after_update.push(e)}function de(e){ae().$$.on_destroy.push(e)}function ue(e){return ae().$$.context.get(e)}function pe(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const he=(re(null),he.length=0,Ce=0;ge.length;)ge.pop()();for(let e=0;e<me.length;e+=1){const t=me[e];ke.has(t)||(ke.add(t),t())}me.length=0}while(he.length);for(;fe.){e.update(),l(e.before_update);coolve(),$e.then((()=>{$e=null}))),$e}function Me(e,t,n){e.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,i,t),o}(`${t?"intro":"outro"}${n}`))}const Le=new Set;let Ee;function je(){Ee={r:0,c:[],p:Ee}}function De(){Ee.r||l(Ee.c),Ee=Ee.p}frst,p--,h--):v.has(o)?!r.has(i)||_.has(i)?x(t):y.has(o)?p--:b.get(i)>b.get(o)?(y.add(i),x(t)):(_.add(o),p--):(l(n,r),p--)}for(;p--;){const t=e[p];v.has(t.key)||l(t,r)}for(;h;)x(f[h-1]);return f}function Ve(e,t){const n={},i={},o={$$scope:1};let s=e.leng)e in =1}for(const e in i)e i.filter(c);a?a.push(...t):l(t),e.$$.on_mount=[]})),d.forEach(xe)}function We(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Je(e,t,n,o,s,r,c,d=[-1]){const u=ne;re(e);const p=e.$$={fragment:null,ctx:null,props:r,update:i,not_equal:s,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:a(),dirty:d,skip_bound:!1,root:t.target||u.$$.root};c&&c(p.root);let h=!1;if(p.ctx=n?n(e,t.props||{},((t,n,...i)=>{const o=i.length?i[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),h&&function(e,dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],p.update(),h=!0,l(p.before_update),p.fragment=!!o&&o(p.ctx),t.target){if(t.hydrate){j=!0;const e=function(e){return Array.from(e.childNodes)}(t.target);p.fragment&&p.fragment.l(e),e.forEach(R)}else p.fragment&&p.fragment.c();t.intro&&Oe(e.$$.fragment),Ye(e,t.target,t.anchor,t.customElement),j=!1,Ie()}re(u)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","deferss.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1s.$$.skip_bound=!0,this.$$set(e),this.$$.skction r(e,t=i.ZTd){let n;const s=new Set;function (o[e+1]);o.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(o,a=i.ZTd){const l=[o,a];return s.add(l),1===s.size&&(n=t(r)||i.ZTd),o(e),()=>{s.delete(l),0===s.size&&(n(),n=null)}}}}function a(e,t,n){const o=!Array.isArray(e),r=o?[e]:e,a=t.length<2;return s(n,(e=>{let n=!1;consd=()=>{if(l}))));retr t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,exports:{}};rel);r.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Objec=()=t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),&o.f&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symb&l(r)}for(t&&t(n);c<s.length;c++)o=s[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkAliceForWeb=self.webpackChunkAliceForWeb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a={};(()=>{r.r(a),r.d(a,{default:()=>Nu,lib:()=>Au});var e=r(4234),t=r(8568);function n(t){let n,o,s,r,a;const l=t[2].default,c=(0,e.nuO)(l,t,t[1],null);return{c(){n=(0,e.bGB)("div"),c&&c.c(),n.hidden=!0},m(l,d){(0,e.$Tr)(l,n,d),c&&c.m(n,null),s=!0,r||(a=(0,e.TVh)(o=i.call(null,n,t[0])),r=!0)},p(t,[n]){c?(0,e.u2N)(l,t[1],n,null):(0,e.VOJ)(t[1]),null),o&&(0,e.sBU)(o.update)&&1&n&&o.update.call(null,t[0])},i(t){s||((0,e.Ui)(c,t),s=!0)},o(t){(0,e.etI)(c,t),s=!1},d(t){t&&(0,e.ogt)(n),c&&c.d(t),r=!1,a()}}}function i(e,n="body"){let i;async function o(o){if("string"==typeof(n=o)){if(i=document.querySelector(n),null===i&&(await(0,t.Ky)(),i=document.querySelector(n)),null===i)throw new Error(`No element found matching css selector: "${n}"`)}else{if(!(n instanceof HTMLEleme{}=t,{target:s="body"}=t;return e.$$set=e=>{"target"in e&&n(0,s=e.target),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,i]}class s extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,o,n,e.N8,{target:0})}}const l=s,c="M 13.35 28 C 13.35 30.1809 13.8265 32.2504 14.6812 34.1102 C 15.7181 36.3666 17.3115 38.3142 19.2856 39.7774 C 21.721 41.5824 24.7358 42.65 27.9996 42.65 C 31.2351 42.65 34.2258 41.6009 36.6501 39.8242 C 38.6762 38.3394 40.3066 36.3466 41.3536 34.0334 C 42.1864 32.1934 42.65 30.1508 42.65 28 C 42.65 25.8083 42.1686 23.7289 41.3057 21.8619 C 40.101 19.2553 38.1529 17.0625 35.7334 15.5556 C 33.4888 14.1576 30.8386 13.35 28 13.35 C 25.1956 13.35 22.5751 14.1381 20.3479 15.505 C 17.8609 17.0313 15.8644 19.2794 14.6502 21.9577 C 13.815 23.7999 13.35 25.8456 13.35 28 Z",d="M 13.145 37.695 c 2.2908 2.2654 8.3997 3.6271 14.6358 3.6526 6.2361 -0.0255 12.345 -1.3872 14.6358 -3.6526 5.7016 -5.5998 -8.1452 -27.1336 -14.6231 -27.159 -6.4907 0.0255 -20.3502 21.5465 -14.6358 27.159 Z",u="M 18 28.5 C 18 31.25 18 31.5006 18 33 C 18 36 20 38 23 38 C 25 38 25 38 28 38 C 31 38 30.8537 38 33 38 C 36 38 38 36 38 33 C 38 31.5 38 31.25 38 28.5 C 38 25.25 38 25.0584 38 23 C 38 20 36 18 33 18 C 30.8557 18 31 18 28 18 C 25 18 24.5 18 23 18 C 20 18 18 20 18 23 C 18 25.4558 18 25.25 18 28.5 Z",p="M 22 23.5 C 22 26.25 22 26.5006 22 28 C 22 31 24.1889 33.4473 27 33.9158 C 27.6088 34.0173 28.0678 34 28 34 C 27.9322 34 28.3722 34.0211 29 33.9158 C 31.79 33.448 34 31 34 28 C 34 26.5 34 26.25 34 23.5 C 34 20.25 34 20.0584 34 18 C 34 15 31.8721 12.605 29 12.0857 C 28.6364 12.0199 28.2706 12 28 12 C 27.7294 12 27.3007 12.037 27 12.0857 C 24.2154 12.5361 22 15 22 18 C 22 20.4558 22 20.25 22 23.5 Z",h="M 27 38.9552 L 27 43.0033 C 27 43.5538 27.4439 44 28 44 L 28 44 C 28.5523 44 29 43.5523 29 43.0033 L 29 38.9552 C 34.6065 38.4499 39 33.738 39 28 C 39 28 39 27 38 27 C 37 27 37 28 37 28 C 37 32.9706 32.9706 37 28 37 C 23.0294 37 19 32.9706 19 28 C 19 28 19 27 18 27 C 17 27 17 28 17 28 C 17 33.738 21.3935 38.4499 27 38.9552 Z";var g=r(2212);function m(t){(0,e.qOq)(t,"svelte-10m6pdy",".yamb-oknyx-core__transform-point.svelte-10m6pdy{transform:scale(1)}")}function f(t){let n,i;return{c(){n=(0,e.bi5)("path"),(0,e.Ljt)(n,"fill","#fff"),(0,e.Ljt)(n,"d",i=t[3][t[0]]),(0,e.Ljt)(n,"transform","translate(-28, -28)")},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){1&o&&i!==(i=t[3][t[0]])&&(0,e.Ljt)(n,"d",i)},d(t){t&&(0,e.ogt)(n)}}}function v(t){let n,i,o,s,r,a;return{c(){n=(0,e.bi5)("g"),i=(0,e.bi5)("path"),s=(0,e.b,o=t[4][t[0]]),(0,e.Ljt)(s,"fill","#fff"),(0,e.Ljt)(s,"opacity",r=t[2]?1:0),(0,e.Ljt)(s,"d",a=h),(0,e.Ljt)(n,"transform","translate(-28, -28)")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i),(0,e.R3I)(n,s)},p(t,n){1&n&&o!==(o=t[4][t[0]])&&(0,e.Ljt)(i,"d",o),4&n&&r!==(r=t[2]?1:0)&&(0,e.Ljt)(s,"opacity",r)},d(t){t&&(0,e.ogt)(n)}}}function b(t){let n,i;function o(e,t){return e[1]===g.z.MI5)("g"),i=(0,e.bi5)("g"),r.c(),(0,e.Ljt)(i,"class","yamb-oknyx-core__transform-point svelte-10m6pdy"),(0,e.Ljt)(n,"transform","translate(28, 28)")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i),r.m(i,null)},p(e,[t]){s===(s=o(e))&&r?r.p(e,t):(r.d(1),r=s(e),r&&(r.c(),r.m(i,null)))},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),r.d()}}}function _(e,t,n){let i,{state:o}=t,{logo:s}=t;const r={[g.U.LISTENING]:c,[g.U.SPEAKING]:u,[g.U.SUSPENDED]:d,[g.U.THINKING]:""},a={[g.U.LISTENING]:c,[g.U.SPEAKING]:u,[g.U.SUSPENDED]:p,[g.U.THINKING]:""};return e.$$set=e=>{"state"in e&&n(0,o=e.state),"logo"in e&&n(1,s=e.logo)},e.$$.update=()=>{1&e.$$.dirty&&n(2,i=o===g.U.SUSPENDED)},[o,s,i,r,a]}class y exteb,e.N8,{state:0,logo:1},m)}}const x=y;function w(e){const t=t=>{switch(t.key))=>{e.dispatchEvent(new Event("accessibleclick"))};return e.addEventListener("keydown",t),e.addEventListener("click",n),{destroy(){e.removeEventListener("keydown",t),e.removeEventListener("click",n)}}}const k='<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g transform="translate(4, 4)">\n        <circle class="yamb-oknyx__arrow-circle" cx="16" cy="16" r="16" fill="none"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0001 11.8005L22.6001 17.4005L24.0001 16.0005L16.0001 8.00049L8.00006 16.0005L9.40006 17.4005L15.0001 11.8005L15.0001 24.0005L17.0001 24.0005L17.0001 11.8005Z" fill="white"/>\n    </g>\n</svg>\n';function $(t){(0,e.qOq)(t,"svelte-1ykr4hz",".yamb-oknyx.svelte-1ykr4hz.svelte-1ykr4hz{-webkit-tap-highlight-color:transparent;float:right;width:70px;height:70px;padding-left:10px;outline:none}.yamb-oknyx_standalone.svelte-1ykr4hz.svelte-1ykr4hz{padding:0;width:50px;height:50px}.yamb-oknyx_bottom.svelte-1ykr4hz.svelte-1ykr4hz{padding-left:3px}.yamb-oknyx__container.svelte-1ykr4hz.svelte-1ykr4hz{width:70px;height:70px;background:var(--alice-oknyx-background)}.yamb-oknyx_standalone.svelte-1ykr4hz .yamb-oknyx__container.svelte-1ykr4hz{width:50px;height:50px}.yamb-oknyx__svg-wrapper.svelte-1ykr4hz.svelte-1ykr4hz{width:55px;height:55px;position:absolute;z-index:1;margin-top:7.5px;margin-left:7.5px}.yamb-oknyx_state_listening.svelte-1ykr4hz:not(.yamb-oknyx_standalone) .yamb-oknyx__svg-wrapper.svelte-1ykr4hz{width:70px;height:70px;margin:0}.yamb-oknyx_standalone.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz{margin-top:-2.5px;margin-left:2.5px}.yamb-oknyx_standalone.yamb-oknyx_state_suspended.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz,.yamb-oknyx__arrow-wrapper.svelte-1ykr4hz.svelte-1ykr4hz{width:40px;height:40px;margin-top:5px;margin-left:7.5px}.yamb-oknyx__arrow-wrapper.svelte-1ykr4hz.svelte-1ykr4hz{cursor:pointer}.yamb-oknyx__arrow-circle{fill:var(--arrow-circle-fill)}svg.svelte-1ykr4hz.svelte-1ykr4hz{width:100%;height:100%;position:relative;pointer-events:none}.yamb-oknyx_state_suspended.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz::before{opacity:0.6}.yamb-oknyx_state_listening.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz,.yamb-oknyx_state_speaking.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz,.yamb-oknyx_state_suspended.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz,.yamb-oknyx_state_thinking.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz{cursor:pointer}.yamb-oknyx_disabled.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz{cursor:default}.yamb-oknyx_state_listening.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz{animation:svelte-1ykr4hz-pulse 0.3s infinite ease-in-out alternate}.yamb-oknyx__svg-wrapper.svelte-1ykr4hz.svelte-1ykr4hz::after{will-change:contents, animation}.yamb-oknyx_state_thinking.svelte-1ykr4hz .yamb-oknyx__svg-wrapper.svelte-1ykr4hz::after{content:'';position:absolute;box-shadow:0 -11.6px #fff, -10.1px 5.82px #fff, 10.1px 5.82px #fff;height:10px;border-radius:100%;background:transparent;left:calc(50% - 5px);top:calc(50% - 5px);width:10px;z-index:1;animation:svelte-1ykr4hz-thinking-scale 0.3s linear, svelte-1ykr4hz-thinking 1s 0.3s infinite linear}@keyframes svelte-1ykr4hz-thinking-scale{0%{opacity:0;transform:scale(0) rotate(0)}100%{opacity:1;transform:scale(1) rotate(180deg)}}@keyframes svelte-1ykr4h}nsform:scale(1)}100%{transform:scale(1.2)}}")}function C(t){let n;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class","yamb-oknyx__arrow-wrapper svelte-1ykr4hz")},m(t,i){(0,e.$Tr)(t,n,i),n.innerHTML=k},p:e.ZTd,i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function I(t){let n,i,o,s,r,a,l;return a=new x({props:{logo:t[1],state:t[2]}}),{c(){n=(0,e.bGB)("div"),i=(0,e.bi5)("svg"),o=(0,e.bi5)("g"),s=(0,e.bi5)("g"),r=(0,e.bi5)("circle"),(0,e.YCL)(a.$$.fragment),(0,e.Ljt)(r,"cx","28"),(0,e.Ljt)(r,"cy","28"),(0,e.Ljt)(r,"r","28"),(0,e.Ljt)(r,"fill",t[0]),(0,e.Ljt)(s,"transform","translate(-28, -28)"),(0,e.Ljt)(o,"transform",,"class","svelte-1ykr4hz"),(0,e.Ljt)(n,"class","yamb-oknyx__svg-wrapper svelte-1ykr4hz")},m(t,c){(0,e.$Tr)(t,n,c),(0,e.R3I)(n,i),(0,e.R3I)(i,o),(0,e.R3I)(o,s),(0,e.R3I)(s,r),(0,e.yef)(a,s,null),l=!0},p(t,n){(!l||1&n)&&(0,e.Ljt)(r,"fill",t[0]);const i={};2&n&&(i.logo=t[1]),4&n&&(i.state=t[2]),a.$set(i)},i(t){l||((0,e.Ui)(a.$$.fragment,t),l=!0)},o(t){(0,e.etI)(a.$$.fragment,t),l=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(a)}}}function S(t){let n,i,o,s,r,a,l,c,d,u;const p=[I,C],h=[];function m(e,t){return e[4]?0:1}return o=m(t),s=h[o]=p[o](t),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),s.c(),(0,e.Ljt)(i,"class","yamb-oknyx__container svelte-1ykr4hz"),(0,e.Ljt)(n,"class",r="yamb-oknyx yamb-oknyx_state_"+t[2]+" yamb-oknyx_logo_"+t[1]+" svelte-1ykr4hz"),(0,e.Ljt)(n,"aria-label",a=t[5](t[2])),(0,e.Ljt)(n,"tabindex","0"),(0,e.Ljt)(n,"role","button"),(0,e.VHj)(n,"yamb-oknyx_bottom",t[3]),(0,e.VHj)(n,"yamb-oknyx_standalone",!1),(0,e.czc)(n,"--arrow-circle-fill",t[1]===g.z.ALICE?"#7A55FF":"#4E66FE",!1)},m(s,r){(0,e.$Tr)(s,n,r),(0,e.R3I)(n,i),h[o].m(i,null),c=!0,d||(u=[(0,e.TVh)(l=w.call(null,n)),(0,e.oLt)(n,"accessibleclick",t[6])],d=!0)},p(t,[l]){let d=o;o=m(t),o===d?h[o].p(t,l):((0,e.dvw)(),(0,e.etI)(h[d],1,1,(()=>{h[d]=null})),(0,e.gbL)(),s=h[o],s?s.p(t,l):(s=h[o]=p[o](t),s.c()),(0,e.Ui)(s,1),s.m(i,null)),(!c||6&l&&r!==(r="yamb-oknyx yamb-oknyx_state_"+t[2]+" yamb-oknyx_logo_"+t[1]+" svelte-1ykr4hz"))&&(0,e.Ljt)(n,"class",r),(!c||4&l&&a!==(a=t[5](t[2])))&&(0,e.Ljt)(n,"aria-label",a),14&l&&(0,e.VHj)(n,"yambx_standalone",!1),2&l&&(0,e.czc)(n,"--arrow-circle-fill",t[1]===g.z.ALICE?"#7A55FF":"#4E66FE",!1)},i(t){c||((0,e.Ui)(s),c=!0)},o(t){(0,e.etI)(s),c=!1},d(t(1,o=e.logock),"isBottomChat"in e&&n(3,a=e.isBottomChat),"isInputEmpty"in e&&n(4,l=e.isInputEmpty),"onSubmitBase"in e&&n(8,c=e.onSubmitBase)},[i,o,s,a,l,e=>e===g.U.SUSPENDED?"Алиса, начни слушать":"Алиса, стоп",()=>{!l&&c?c():r()},r,c]}class M extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,T,S,e.N8,{color:0,logo:1,state:2,onClick:7,isBottomChat:3,isInputEmpty:4,onSubmitBase:8},$)}}const L=M,E=e=>new Promise((t=>{const n=new IntersectionObserver((i=>{i.forEach((i=>{i.intersectionRatio>=.5&&(n.unobserve(e),t(e))}))}),{threshold:.5});n.observe(e)}));function j(t){(0,e.qOq)(t,"svelte-krb7a",".alice__suggest.svelte-krb7a{border:1px solid #e6e1f5;border-radius:16px;box-sizing:border-box;padding:14px 18px;font-style:normal;font-weight:500;font-size:14px;line-height:16px;cursor:pointer}.alice__suggest_theme_dark.svelte-krb7a{color:#ffffff;border-color:rgba(122, 85, 255, 0.4)}.alice__suggest_standalone.svelte-krb7a{border-radius:12px;padding:10px 13px;color:var(--text-primary-color);background-color:var(--bg-color);border-color:var(--border-color)}@media(any-hover: hover){.alice__suggest_standalone.svelte-krb7a:hover{color:var(--brand-color);border-color:var(--alisa-bubble-color)}}")}function D(t){let n,i,o,s,r,a,l=t[0].title+"";return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(l),(0,e.Ljt)(n,"class",o=(0,e.H1I)(`alice__suggest alice__suggest_theme_${t[3]}`)+" svelte-krb7a"),(0,e.Ljt)(n,"role","button"),(0,e.Ljt)(n,"tabindex","0"),(0,e.VHj)(n,"alice__suggest_standalone",!1)},m(o,l){(0,e.$Tr)(o,n,l),(0,e.R3I)(n,i),t[8](n),r||(a=[(0,e.TVh)(s=w.call(null,n)),(0,e.oLt)(n,"accessibleclick",t[7])],r=!0)},p(t,[s]){1&s&&l!==(l=t[0].title+"")&&(0,e.rTO)(i,l),8&s&&o!==(o=(0,e.H1I)(`alice__suggest alice__suggest_theme_${t[3]}`)+" svelte-krb7a")&&(0,e.Ljt)(n,"class",o),8&s&&(0,e.VHj)(n,"alice__suggest_standalone",!1)},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),t[8](null),r=!1,(0,e.j7q)(a)}}}function O(n,i,o){let s,{outputBus:r}=i,{suggest:a}=i,{index:l}=i,{onClick:c}=i,{theme:d}=i,{page:u}=i;return(0,t.H3)((()=>{E(s).then((()=>{r.emit("stat",{path:`${u?u+".":""}suggest.${l}`,eventType:"show",customParams:{title:a.title}})}))})),n.$$set=e=>{"outputBus"in e&&o(5,r=e.outputBus),"suggest"in e&&o(0,a=e.suggest),"index"in e&&o(1,l=e.index),"onClick"in e&&o(2,c=e.onClick),"theme"in e&&o(3,d=e.theme),"page"in e&&o(6,u=e.page)},[a,l,c,d,s,r,u,()=>c(a,l),function(t){e.VnY[t?"unshift":"push"]((()=>{s=t,o(4,s)}))}]}class z extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,O,D,e.N8,{outputBus:5,suggest:0,index:1,onClick:2,theme:3,page:6},j)}}const A=z;var N=r(9756),H=r(3379),R=r.n(H),P=r(7795),B=r.n(P),U=r(569),V=r.n(U),q=r(3565),F=r.n(q),Z=r(9216),G=r.n(Z),Y=r(4589),W=r.n(Y),J=r(8718),X={};X.styleTagTransform=W(),X.setAttributes=F(),X.insert=V().bind(null,"head"),X.domAPI=B(),X.insertStyleElement=G(),R()(J.Z,X),J.Z&&J.Z.locals&&J.Z.locals;const Q={left:"gallery__arrow_left",right:"gallery__arrow_right"};function K(t){(0,e.qOq)(t,"svelte-js52r3",".gallery.svelte-js52r3{position:relative}.gallery__list.svelte-js52r3{display:flex;flex-direction:row;padding:0px;gap:7px;position:relative;overflow:scroll;scrollbar-width:none;width:100%}.gallery__list.svelte-js52r3::-webkit-scrollbar{display:none}")}function ee(t){let n,i,o,s;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class",i=(0,e.H1I)(Q.left)+" svelte-js52r3!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),o=!1,s()}}}function te(t){let n,i,o,s;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class",i=(0,e.H1I)(Q.right)+" svelte-js52r3")},m(i,r){(0,e.$Tr)(i,n,r),o||(s=(0,e.oLt)(n,"click",t[16]),o=!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),o=!1,s()}}}function ne(t){let n,i,o,s,r,a,l,c,d;const u=t[12].default,p=(0,e.nuO)(u,t,t[11],null);let h=t[0]&&t[4]&&ee(t),g=t[0]&&t[5]&&te(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),p&&p.c(),s=(0,e.DhX)(),h&&h.c(),r=(0,e.DhX)(),g&&g.c(),(0,e.Ljt)(i,"class","gallery__list svelte-js52r3"),(0,e.Ljt)(n,"class",a="gallery gallery_theme_"+t[2]+" svelte-js52r3"),(0,e.czc)(n,"--button-width",t[3]?t[3]+"px":"",!1)},m(a,u){(0,e.$Tr)(a,n,u),(0,e.R3I)(n,i),p&&p.m(i,null),t[13](i),(0,e.R3I)(n,s),h&&h.m(n,null),(0,e.R3I)(n,r),g&&g.m(n,null),l=!0,c||(d=[(0,e.oLt)(i,"scroll",(function(){(0,e.sBU)(t[7]&&t[0]?t[8]:null)&&(t[7]&&t[0]?t[8]:null).apply(this,arguments)})),(0,e.TVh)(o=N.x.call(null,i)),(0,e.oLt)(i,"horizontalmovechange",t[14])],c=!0)},p(i,[o]){t=i,p&&p.p&&(!l||2048&o)&&(0,e.kmG)(p,u,t,t[11],l?(0,e.u2N)(u,t[11],o,null):(0,e.VOJ)(t[11]),null),t[0]&&t[4]?h?h.p(t,o):(h=ee(t),h.c(),h.m(n,r)):h&&(h.d(1),h=null),t[0]&&t[5]?g?g.p(t,o):(g=te(t),g.c(),g.m(n,null)):g&&(g.d(1),g=null),(!l||4&o&&a!==(a="gallery gallery_theme_"+t[2]+" svelte-js52r3"))&&(0,e.Ljt)(n,"class",a),8&o&&(0,e.czc)(n,"--button-width",t[3]?t[3]+"px":"",!1)},i(t){l||((0,e.Ui)(p,t),l=!0)},o(t){(0,e.etI)(p,t),l=!1},d(i){i&&(0,e.ogt)(n),p&&p.d(i),t[13](null),h&&h.d(),g&&g.d(),c=!1,(0,e.j7q)(d)}}}function ie(n,i,o){let s,{$$slots:r={},$$scope:a}=i,{isDesktop:l}=i,{onHorizontalMoveChange:c=(()=>{})}=i,{setListElement:d=(()=>{})}=i,{theme:u}=i,{buttonWidth:p}=i,h=!1,g=!1,m=!1;function f(){const e=s.scrollLeft,t=s.scrollWidth,n=s.offsetWidth;o(4,h=e>2),o(5,g=e+n<t-2)}function v(e){s.scroll({left:s.scrollLeft+.75*s.offsetWidth*("right"===e?1:-1),behavior:"smooth"})}return(0,t.H3)((()=>{o(7,m=!0),d(s),l&&f()})),(0,t.ev)((()=>{o(7,m=!1)})),n.$$set=e=>{"isDesktop"in e&&o(0,l=e.isDesktop),"onHorizontalMoveChange"in e&&o(1,c=e.onHorizontalMoveChange),"setListElement"in e&&o(10,d=e.setListElement),"them.theme),"buttonWidth"in e&&o(3,p=e.buttonWidth),"$$scope"in e&&o(11,a=e.$$scope)},[l,c,u,p,h,g,s,m,f,v,d,a,r,function(t){e.VnY[t?"unshift":"push"]((()=>{s=t,o(6,s)}))},({detail:{value:e}})=>{c(e)},()=>v("left"),()=>v("right")]}class oe extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ie,ne,e.N8,{isDesktop:0,onHorizontalMoveChange:1,setListElement:10,theme:2,buttonWidth:3},K)}}const se=oe;function re(t){(0,e.qOq)(t,"svelte-1keoccq",".alice__suggests_inners.svelte-1keoccq{white-space:nowrap;align-items:flex-start;flex-direction:column;margin-right:25px;margin-left:25px}.alice__suggests_row.svelte-1keoccq{display:flex;gap:6px;margin-bottom:6px}")}function ae(e,t,n){const i=e.slice();return i[11]=t[n],i[13]=n,i}function le(e,tt[1],outputBus:t[0],index:t[13],theme:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};32&t&&(i.suggest=e[11]),2&t&&(i.onClick=e[1]),1&t&&(i.outputBus=e[0]),8&t&&(i.theme=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function de(t){let n,i;return n=new A({props:{suggest:t[11],onClick:t[1],outputBus:t[0],index:t[5].length+t[13],theme:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};64&t&&(i.suggest=e[11]),2&t&&(i.onClick=e[1]),1&t&&(i.outputBus=e[0]),32&t&&(i.index=e[5].length+e[13]),8&t&&(i.theme=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function ue(t){let n,i,o,s,r,a=t[5],l=[];for(let e=0;e<a.length;e+=1)l[e]=ce(le(t,a,e));const c=t=>(0,e.etI)(l[t],1,1,(()=>{l[t]=null}));let d=t[6],u=[];for(let e=0;e<d.length;e+=1)u[e]=de(ae(t,d,e));const p=t=>(0,e.etI)(u[t],1,1,(()=>{u[t]=null}));return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div");for(let e=0;e<l.length;e+=1)l[e].c();o=(0,e.DhX)(),s=(0,e.bGB)("div");for(let e=0;e<u.length;e+=1)u[e].c();(0,e.Ljt)(i,"class","alice__suggests_row svelte-1keoccq"),(0,e.Ljt)(s,"class","alice__suggests_row svelte-1keoccq"),(0,e.Ljt)(n,"class","alice__suggests_inners svelte-1keoccq")},m(t,a){(0,e.$Tr)(t,n,a),(0,e.R3I)(n,i);for(let e=0;e<l.length;e+=1)l[e].m(i,null);(0,e.R3I)(n,o),(0,e.R3I)(n,s);for(let e=0;e<u.length;e+=1)u[e].m(s,null);r=!0},p(t,n){if(43&n){let o;for(a=t[5],o=0;o<a.length;o+=1){const s=le(t,a,o);l[o]?(l[o].p(s,n),(0,e.Ui)(l[o],1)):(l[o]=ce(s),l[o].c(),(0,e.Ui)(l[o],1),l[o].m(i,null))}for((0,e.dvw)(),o=a.length;o<l.length;o+=1)c(o);(0,e.gbL)()}if(107&n){let i;for(d=t[6],i=0;i<d.length;i+=1){const o=ae(t,d,i);u[i]?(u[i].p(o,n),(0,e.Ui)(u[i],1)):(u[i]=de(o),u[i].c(),(0,e.Ui)(u[i],1),u[i].m(s,null))}for((0,e.dvw)(),i=d.length;i<u.length;i+=1)p(i);(0,e.gbL)()}},i(t){if(!r){for(let t=0;t<a.length;t+=1)(0,e.Ui)(l[t]);for(let t=0;t<d.length;t+=1)(0,e.Ui)(u[t]);r=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)(0,e.etI)(l[t]);u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)(0,e.etI)(u[t]);r=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(l,t),(0,e.RMB)(u,t)}}}function pe(t){let n,i;return n=new se({props:{isDesktop:t[4],onHorizontalMoveChange:t[2],setListElement:t[7],theme:t[3],$$slots:{default:[ue]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};16&t&&(i.isDesktop=e[4]),4&t&&(i.onHorizontalMoveChange=e[2]),8&t&&(i.theme=e[3]),32875&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),itputBus"in e&&n(0,o=e.outputBus),"suggests"in e&&n(8,s=e.suggests.onClick),"onHorizontalMoveChange"in e&&n(2,a=e.onHorizontalMoveChange),"theme"in e&&n(3,l=e.theme),"isDesktop"in e&&n(4,c=e.isDesktop)},e.$$.update=()=>{if(1888&e.==d){const e=s.reduce(((e,t)=>e+t.title.length),0);n(5,u=[]),n(6,p=[]);let t=0;for(let n=0;n<s.length;n++)2*t<e?u.push(s[n]):p.push(s[n]),t+=s[n].title.length;i&&n(10,i.scrollLeft=0,i)}n(9,d=s)}},[o,r,a,l,c,u,p,e=>{n(10,i=e)},s,d,i]}class ge extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,he,pe,e.N8,{outputBus:0,suggests:8,onClick:1,onHorizontalMoveChange:2,theme:3,isDesktop:4},re)}}const me=ge;var fe=r(2833);function ve(t){(0,e.qOq)(t,"svelte-vibfyh",".alice__shortcut-text.svelte-vibfyh.svelte-vibfyh{margin:10px 12px 3px}.alice__shortcut-img.svelte-vibfyh.svelte-vibfyh{margin-left:12px;position:absolute;bottom:12px}.alice__shortcut-wrapper_image.svelte-vibfyh .alice__shortcut-img.svelte-vibfyh{top:0;left:0;right:0;bottom:0;margin:0;background-image:var(--image);background-repeat:no-repeat;background-size:contain}.alice__shortcut-subtext.svelte-vibfyh.svelte-vibfyh{color:#8b93a5;font-weight:400;font-size:10px;line-height:10px;margin:0 12px}.alice__shortcut-wrapper.svelte-vibfyh.svelte-vibfyh{width:100px;height:100px;border-radius:20px;cursor:pointer;position:relative;overflow:hidden;flex:none;order:0;flex-grow:0}.alice__shortcut-wrapper.svelte-vibfyh.svelte-vibfyh:first-child{margin-left:25px}.alice__shortcut-wrapper.svelte-vibfyh.svelte-vibfyh:last-child{margin-right:25px}.alice__shortcut-wrapper_animate-border.svelte-vibfyh.svelte-vibfyh{transform:translate3d(0, 0, 0)}.alice__shortcut-wrapper_animate-border.svelte-vibfyh.svelte-vibfyh::before{content:'';position:absolute;width:calc(100% + 26px);height:calc(100% + 26px);top:-13px;left:-13px;background:linear-gradient(#6444f8, #e88aff80);animation:svelte-vibfyh-rotate 1.2s linear infinite}.alice__shortcut.svelte-vibfyh.svelte-vibfyh{position:absolute;top:0;left:0;bottom:0;right:0;background:#f1effd;border-radius:20px;font-style:normal;font-weight:500;font-size:14px;line-height:16px}.alice__shortcut-wrapper_animate-border.svelte-vibfyh .alice__shortcut.svelte-vibfyh{top:2px;left:2px;bottom:2px;right:2px;border-radius:18px}.alice__shortcut_theme_dark.svelte-vibfyh.svelte-vibfyh{background:#2f264d;color:#ffffff}@keyframes svelte-vibfyh-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}")}function be(t){let n,i,o,s,r,a,l,c=t[1].title+"",d=t[1].subtitle&&ye(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(c),o=(0,e.DhX)(),d&&d.c(),s=(0,e.DhX)(),r=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","alice__shortcut-text svelte-vibfyh"),(0,e.Ljt)(r,"class","alice__shortcut-img svelte-vibfyh"),(0,e.Jn4)(r.src,a=t[1].url)||(0,e.Ljt)(r,"src",a),(0,e.Ljt)(r,"alt",l=t[1].title),(0,e.Ljt)(r,"aria-hidden","true")},m(t,a){(0,e.$Tr)(t,n,a),(0,e.R3I)(n,i),(0,e.$Tr)(t,o,a),d&&d.m(t,a),(0,e.$Tr)(t,s,a),(0,e.$Tr)(t,r,a)},p(t,n){2&n&&c!==(c=t[1].title+"")&&(0,e.rTO)(i,c),t[1].subtitle?d?d.p(t,n):(d=ye(t),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),2&n&&!(0,e.Jn4)(r.src,a=t[1].url)&&(0,e.Ljt)(r,"src",a),2&n&&l!==(l=t[1].title)&&(0,e.Ljt)(r,"alt",l)},d(t){t&&(0,e.ogt)(n),t&&(0,e.ogt)(o),d&&d.d(t),t&&(0,e.ogt)(s),t&&(0,e.ogt)(r)}}}function _e(t){let n;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class","alice__shortcut-img svelte-vibfyh"),(0,e.czc)(n,"--image",`url(${"dark"===t[3]&&t[1].urlDark?t[k"===t[3]&&t[1].urlDark?t[1].urlDark:t[1]t n,i,o=t[1].subtitle+"";return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(o),(0,e.Ljt)(n,"class","alice__shortcut-subtext svelte-vibfyh")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){2&n&&o!==(o=t[1].subtitle+"")&&(0,e.rTO)(i,o)},d(t){t&&(0,e.ogt)(n)}}}function xe(t){let n,i,o,s,r,a;function l(e,t){return e[1].isImage?_e:be}let c=l(t),d=c(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),d.c(),(0,e.Ljt)(i,"class",o=(0,e.H1I)(`alice__shortcut alice__shortcut_theme_${t[3]}`)+" svelte-vibfyh"),(0,e.Ljt)(i,"role","button"),(0,e.Ljt)(i,"tabindex","0"),(0,e.Ljt)(n,"class","alice__shortcut-wrapper svelte-vibfyh"),(0,e.VHj)(n,"alice__shortcut-wrapper_animate-border",t[1].shouldAnimateBorder),(0,e.VHj)(n,"alice__shortcut-wrapper_image",t[1].isImage)},m(o,l){(0,e.$Tr)(o,n,l),(0,e.R3I)(n,i),d.m(i,null),t[7](i),r||(a=[(0,e.TVh)(s=w.call(null,i)),(0,e.oLt)(i,"accessibleclick",t[6])],r=!0)},p(t,[s]){c===(c=l(t))&&d?d.p(t,s):(d.d(1),d=c(t),d&&(d.c(),d.m(i,null))),8&s&&o!==(o=(0,e.H1I)(`alice__shortcut alice__shortcut_theme_${t[3]}`)+" svelte-vibfyh")&&(0,e.Ljt)(i,"class",o),2&s&&(0,e.VHj)(n,"alice__shortcut-wrapper_animate-border",t[1].shouldAnimateBorder),2&s&&(0,e.VHj)(n,"alice__shortcut-wrapper_image",t[1].isImage)},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),d.d(),t[7](null),r=!1,(0,e.j7q)(a)}}}function we(n,i,o){let s,{onClick:r}=i,{shortcut:a}=i,{outputBus:l}=i,{index:c}=i,{theme:d}=i;return(0,t.H3)((()=>{E(s).then((()=>{l.emit("stat",{path:`shortcut.${c}`,eventType:"show",custitle:a.title,id:a.id}})}))})),n.$$set=e=>{"onClick"in e&&o(0,r=e.onClick),"shortcut"in e&&o(1,a=e.shortcut),"outputBus"in e&&o(5,l=e.outputBus),"index"in e&&o(2,c=e.index),"theme"in e&&o(3,d=e.theme)},)=>{s=t,o(4,s)}))}]}class ke extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,we,xe,e.N8,{onClick:0,shortcut:1,outputBus:5,index:2,theme:3},ve)}}const $e=ke;function Ce(e,t,n){const i=e.slice();return i[6]=t[n],i[8]=n,i}function Ie(t){let n,i;return n=new $e({props:{shortcut:t[6],onClick:t[1],outputBus:t[0],index:t[8],theme:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t&&(i.onClick=e[1]),1&t&&(i.outputBus=e[0|((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,({,1),s[a].m(n.parentNode,n))}for((0,e.dvw)(),a=o.length;a<s.length;a+=1)r(a);(0,e.gbL)()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)(0,e.Ui)(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)(0,e.etI)(s[t]);i=!1},d(t){(0,e.RMB)(s,t),t&&(0,e.ogt)(n)}}}function Te(t){let n,i;return n=new se({props:{isDesktop:t[4],onHorizontalMoveChange:t[2],theme:t[3],$$slots:{default:[Se]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};16&t&&(i.isDesktop=e[4]),4&t&&(i.onHorizontalMoveChange=e[2]),8&t&&(i.theme=e[3]),523&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Me(e,n,i){let{outputBus:o}=n,{onClick:s}=n,{onHorizontalMoveChange:r}=n,{theme:a}=n,{isDesktop:l}=n;const{shortcuts:c=[]}=(0,t.fw)(fe.f1);re,"theme"in e&&i(3,a=eper(),(0,e.S1n)(this,t,Me,Te,e.N8,{outputBus:0,onClick:1,onHorizontalMove,n,{enumerable:!0,get:t[n]y.call We(e,t,n,i,o,s){if(o){const r=Ge(t,n,i,s);e.p(r,o)}}function Je(e){if(e),new Set;let Qe,Ke=null;function et(e,t){e.,t){for(let n=0;n<e.length;style.removeProperty(t):e.style.on vt(e){mt().$$.on_destroy.push(e)}function bt(e,t){return mt().$$.context[t.type];n&&n.slice().file(xt.length);for(;$tp:zt}}function Nt(){zt.r||He(zt.c),zt=zt.p}function Ht(e,t){e&&e.i&&(Ot.delete(e),e.i(t)={$$sc=n.fragment&&(function(e){const t=[],n=[];kt.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),kt=t}(n.after_update),He(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Zt(e,t,n,i,o,s,r,a=[-1]){const l=Qe;gt(e);const c=e.$$={fragment:null,ctx:[],props:s,update:Oe,not_equal:o,bound:Ne(),on_mount:[]n,...i)=>{const s=i.length?i[0]:n;return c.ctx&&o(c.ctx[t],c.ctx[t]=s)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](s),d&&function(e,t){-1===e.$$.dirty[0]&&(xt.push(e),St(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),d=!0,He(c.before_update),c.fragment=!!i&&i(c.ctx),t.target){if(t.hydrate){Ke=!0;const e=(u=t.target,Array.from(u.childNodes));c.fragment&&c.fragment.l(e),e.forEach(nt)}else c.fragment&&c.fragment.c();t.intro&&Ht(e.$$.fragment),qt(e,t.target,t.anchor,t.customElement),Ke=!1,jt()}var u;gt(l)}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls((t))return Oe;const n=this.$$.callbacks[e]||(this.$$.ction o(t){if(s=t,(o&&"object"==typeof o||"function"==typeof o)&&(e=t,n)){const t=!Yt.length;for(const t o.length;e+=2)Yt[e][0](Yt[e+1]);Yt.length=0}}var o,s}return{set:o,update:function(t){o(t(e))},subscribe:function(s,r=Oe){const a=[s,r];retu.size&&n&,o=i?[e]:e,s=t.len,(e=>{let n=!1;const r=[];let a=0,l=Oe;const c=()=>{if(a)return;l();const n=t(i?r[0]:r,e);s?e(n):l=Re(n)?n:Oe},d=o.map(((e,t)=>qe(e,(e=>{r[t]=e,a&=~(1<<t),n&&c()}),(()=>{a|=1<<t}))));return n=!0,c(),function(){He(d),l(),n=!1}})).subscribe}}const Xt={root:"divkit-d1ad0",root__clickable:"divkit-e0fd3","root__clickable-no-transition":"divkit-ffa3a",root__unselectable:"divkit-fa556",root_platform_desktop:"divkit-c9211","root__only-desktop":"divkit-ff685","root_restrict-scroll":"divkit-ad27d","root_disabled-context-menu":"divkit-d8d15"},Qt=Symbol("root");function Kt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e;return n.level=t.level||"error",t.additional&&(n.additional=t.additional),n}const en={text:"divkit-d04cf",text_halign_left:"divkit-fa51e",text_halign_center:"divkit-c1cbb",text_halign_right:"divkit-a3291",text_valign_top:"divkit-b15a3",text_valign_center:"divkit-fe406",text_valign_bottom:"divkit-fcf19",text_valign_baseline:"divkit-d1c42",text__inner:"divkit-f93dd",text_singleline:"divkit-e0d91",text_truncate_none:"divkit-a4e1f",text_multiline:"divkit-d16d9",text__inner_gradient:"divkit-e92e9",text__image:"divkit-e499e",text__image_hidden:"divkit-f7786"},tn={outer:"divkit-febd5","outer_hide-on-transition-in":"divkit-ab97f","outer_halign-self_start":"divkit-e310b","outer_halign-self_center":"divkit-b8989","outer_halign-self_end":"divkit-e3daf","outer_halign-self_stretch":"divkit-dc597","outer_valign-self_start":"divkit-ea5fb","outer_valign-self_center":"divkit-ad8d2","outer_valign-self_end":"divkit-f7541","outer_valign-self_stretch":"divkit-e075a","outer_parent-flex_vertical":"divkit-bb3dc","outer_parent-flex_horizontal":"divkit-b5712","outer_valign-self_baseline":"divkit-e5919",outer_width_content:"divkit-cb510",outer_height_content:"divkit-c3a30","outer_width-constrained":"divkit-ef2dd","outer_parent-grid":"divkit-b2fa8","outer_height-constrained":"divkit-bc814","outer_parent-overlap":"divkit-ad574","outer_parent-overlap-absolute":"divkit-ec1ca","outer_scroll-snap_center":"divkit-dfd51","outer_scroll-snap_start":"divkit-eb77b",outer__border:"divkit-df618",outer_visibility_invisible:"divkit-e51f0",outer_visibility_gone:"divkit-a9de6","outer_has-action-animation":"divkit-bd06f"};function nn(e){if(!e)return;let t="";for(const n in e)if(e.hasOwnProperty(n)){if(!e[n]&&0!==e[n])continue;t&&(t+=";"),t+=n+":"+String(e[n])}return t||void 0}function on(e){if("number"!=typeof e&&"string"!=typeof e||!e)return"0";const t=Number(e);return isNaN(t)?"0":Math.ceil(1e3*t)/1e4+"em"}function sn(e){let t=on(e);return"0"===t&&(t+="em"),t}function rn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.nsparent";if("#"!==(e=("string"==typeof e&&e||"").toLowerCase()).charAt(0))return n;const i=an(e);return i?(i.a*=t,function(e){return 255===e.a?"#".concat([e.r,e.g,e.b].map((e=>function(e,t){for(;e.length<2;)e="0"+e;return e}(Math.round(e).toString(16)))).join("")):"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat((e.a/255).toFixed(2),")")}(i)):n}function an(e){const t=e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i)||e.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])$/i)||e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i)||e.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i);if(t){if(5===t.length){const[e,n,i,o,s]=t,r=2===i.length?i:i+i,a=2===o.length?o:o+o,l=2===s.length?s:s+s,c=2===n.length?n:n+n;return{nction ln(e){let t=String(e);return t.indexOf("&")>-1&&(t=t.replace(/&/g,"&amp;")),t.indexOf("<")>-1&&(t=t.replace(/</g,"&lt;")),t.indexOf(">")>-1&&(t=t.replace(/>/g,"&gt;")),t.indexOf('"')>-1&&(t=t.replace(/"/g,"&quot;")),t}const cn=Boolean;function dn(e){if(1===e.length&&"solid"===e[0].type)return{color:rn(e[0].color||"transparent"),size:"auto",position:"50% 50%"};const t=e.map((e=>"solid"===e.type?function(e){const t=rn(e.bg.color||"transparent");return{size:void 0,pos:void 0,image:"linear-gradient(to bottom,".concat(t,",").concat(t,")")}}({bg:e}):"gradient"===e.type?function(e){var t;if(!Array.isArray(null===(t=e.bg)||void 0===t?void 0:t.colors))return;const n=e.bg.colors.filter(cn);return n.length?{size:void 0,pos:void 0,image:"linear-gradient("+(90-Number(e.bg.angle||0))+"deg,"+n.map((e=>rn(e))).join(",")+")"}:void 0}({bg:e}):"image"===e.type?function(e){var t;const n=null===(t=e.bg)||void 0===t?void 0:t.image_url;if(n)return{size:hn(e.bg.scale),pos:gn(e.bg),image:'url("'+ln(n)+'")'}}({bg:e}):"radial_gradient"===e.type?function(e){var t;if(!Array.isArray(null===(t=e.bg)||void 0===t?void 0:t.colors))return;const n=e.bg.colors.filter(cn);if(!n.length)return;const i=e.bg.radius;let o;i&&"object"==typeof i&&"type"in i&&void 0!==i.value&&("fixed"===i.type?o=sn(i.vlative"===i.type&&(o=un[i.value]));const s=pn(e.bg.center_x),r=pn(e.bg.center_y);return{size:void 0,pos:void 0,image:"radial-gradient("+"circle ".concat(o||"farthest-corner"," at ").concat(s," ").concat(r)+","+n.map((e=>rn(e))).join(",")+")"}}({bg:e}):void 0)).filter(cn).reverse().reduce((function(e,t){return e.image.push(t.image),e.size.push(t.size||"auto"),e.position.push(t.pos||"50% 50%"),e}),{image:[],size:[],position:[]});return{image:t.image.join(","),size:t.size.join(","),position:t.position.join(",")}}const un={nearest_corner:"closest-corner",farthest_corner:"farthest-corner",nearest_side:"closevoid 0!==e.value){if("fixed"===e.type)return sn(e.value);if("relative"===e.type)return"".concat(100*Number(e.value),"%")}return"50%"}function hn(e){return"fit"===e?"contain":"stretch"===e?"fill":"no_scale"===e?"none":"cover"}function g.content_alignment_vertical?"0%":"bottom"===e.content_alignment_vertical?"100%":"50%",t+" "+n}function mn(e){const t=/^([^/]+):\/\//.exec(e);return t&&t[1]||""}function fn(e,t){return t.has(e)}function vn(e,t){t&&e.push(t)}function bn(e,t,n){const i=[];vn(i,t[e]);for(const o in n)if(n.hasOwnProperty(o)){const s=n[o];s&&vn(i,t["".concat(e,"_").concat(o)+("string"==typeof s?"_".concat(s):"")])}return i.junction yn(e){return on(e.top||0)+" "+on(e.right||0)+" "+on(e.bottom||0)+" "+on(e.left||0)}function xn(e){if("number"!=typeof e&&"string"!=typeof e)return!1;const t=Number(e);return!isNaN(t)}function wn(e){return xn(e)&&e>=0}function kn(e,t){if(!e)return t;const n=[e.top,e.right,e.bottom,e.left];for(let e=0;e<n.length;++e)if(n[e]&&!wn(n[e]))return t;return yn(e)}function $n(e,t){const n=Number(e);return isNaN(n)||n<0?t:n}const Cn=Object.prototype.hasOwnProperty;function In(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e|=t)return Object.is(e,t);const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(In(e[o],t[o]))return!1}return!0}function Sn(e,t){return In(e,t)?t:e}function Tn(e,t){return"linear"===e||"ease"===e||"ease_in_out"===e||"ease_in"===e||"ease_out"===e?e:t}function Mn(e,t){const n=Number(e);return isNaN(n)?t:n}function Ln(e){const t=[];return"set"===e.name?(e.items||[]).forEach((e=>{t.push(...Ln(e))})):t.push(e),t}function En(e){let th>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return[e["top-left"],e["top-right"],e["bottom-right"],e["bottom-left"]].map((e=>on((e||t)/n*10))).join(" ")}function jn(){}const Dn=Symbol("action");function On(e){const t=e.touches[0];return{x:t.clientX||t.pageX,y:t.clientY||t.pageY}}function zn(e){var t;let n,i,o,s,r,a,l,c;const d=e[19].default,u=Ze(d,e,e[18],null);let p=[{class:i=e[2]+(e[9]?" ".concat(e[6]?Xt.root__clickable:Xt["root__clickable-no-transition"]," ").concat(Xt.root__unselectable):"")+" "+(null!==(t=e[1])&&void 0!==t&&t.length?Xt["root_disabled-context-menu"]:"")},{style:e[3]},{roe<p.length;e+=1)h=ze(h,p[e]);return{c(){n=ot("span"),u&&u.c(),ut(n,h)},m(t,i){tt(t,n,i),u&&u.m(n,null),a=!0,l||(c=[Xe(r=e[5].call(null,n)),ct(n,"click",(function(){Re(e[9]?e[10]:null)&&(e[9]?e[10]:null).apply(this,arguments)})),ct(n,"click",e[21]),ct(n,"dblclick",(function(){var t,n;Re(null!==(t=e[0])&&void 0!==t&&t.length?e[11]:null)&&(null!==(n=e[0])&&void 0!==n&&n.length?e[11]:null).apply(this,arguments)})),ct(n,"touchstart",(function(){var t,n;Re(null!==(t=e[1])&&void 0!==t&&t.length?e[12]:null)&&(null!==(n=e[1])&&void 0!==n&&n.length?e[12]:null).apply(this,arguments)})),ct(n,"touchmove",(function(){var t,n;Re(null!==(t=e[1])&&void 0!==t&&t.length?e[13]:null)&&(null!==(n=e[1])&&void 0!==n&&n.length?e[13]:null).apply(this,arguments)})),ct(n,"touchend",(function(){var t,n;Re(null!==(t=e[1])&&void 0!==t&&t.length?e[14]:null)&&(null!==(n=e[1])&&void 0!==n&&n.length?e[14]:null).apply(this,arguments)})),ct(n,"touchcancel",(function(){var t,n;Re(null!==(t=e[1])&&void 0!==t&&t.length?e[14]:null)&&(null!==(n=e[1])&&void 0!==n&&n.length?e[14]:null).apply(this,arguments)})),ct(n,"keydown",e[15])],l=!0)},p(t,r){var l;e=t,u&&u.p&&(!a||262144&r)&&We(u,d,e,e[18],a?Ye(d,e[18],r,null):Je(e[18]),null),ut(n,h=Bt(p,[(!a||582&r&&i!==(i=e[2]+(e[9]?" ".concat(e[6]?Xt.root__clickable:Xt["root__clickable-no-transition"]," ").concat(Xt.root__unselectable):"")+" "+(null!==(l=e[1])&&void 0!==l&&l.length?Xt["root_disabled-context-menu"]:"")))&&{class:i},(!a||8&r)&&{style:e[3]},(!a||512&r&&o!==(o=e[9]?"button":null))&&{role:o},(!a||512&r&&s!==(s=e[9]?0:null))&&{tabindex:s},16&r&&e[4]]))},i(e){a||(Ht(u,e),a=!0)},o(e){Rt(u,e),a=!1},d(e){e&&nt(n),u&&u.d(e),l=!1,He(c)}}}function An(e){var t;let n,i,o,s,r,a;const l=e[19].default,c=Ze(l,e,e[18],null);let d=[{href:e[7]},{target:e[8]},{style:e.root__clickable:Xt["root__clickable-no-transition"])+" "+(null!==(t=e[1])&&void 0!==t&&t.length?Xt["root_disabled-context-menu"]:"")},e[4]],u={};for(let e=0;e<d.length;e+=1)u=ze(u,d[e]);return{c(){n=ot("a"),c&&c.c(),ut(n,u)},m(t,i){tt(t,n,i),c&&c.m(n,null),s=!0,r||(a=[Xe(o=e[5].call(null,n)),ct(n,"click",e[10]),ct(n,"click",e[20]),ct(n,"dblclick",(function(){var t,n;Re(null!==(t=e[0])&&void 0!==t&&t.length?e[11]:null)&&(null!==(n=e[0])&&void 0!==n&&n.length?e[11]:null).apply(this,arguments)})),ct(n,"touchstart",(function(){var t,n;Re(null!==(t=e[1])&&void 0!==t&&t.length?e[12]:null)&&(null!==(n=e[1])&&void 0!==n&&n.length?e[12]:null).apply(this,arguments)})),ct(n,"touchmove",(function(){var t,n;Re(null!==(t=e[1])&&void 0!==t&&t.length?e[13]:null)&&(null!==(n=e[1])&&void 0!==n&&n.length?e[13]:null).apply(this,arguments)})),ct(n,"touchend",(function(){var t,n;Re(null!==(t=e[1])&&void 0!==t&&t.length?e[14]:null)&&(null!==(n=e[1])&&void 0!==n&&n.length?e[14]:null).apply(this,arguments)})),ct(n,"touchcancel",(function(){var t,n;Re(null!==(t=e[1])&&void 0!==t&&t.length?e[14]:null)&&(null!==(n=e[1])&&void 0!==n&&n.length?e[14]:null).apply(this,arguments)})),ct(n,"keydown",e[15])],r=!0)},p(t,o){var r;e=t,c&&c.p&&(!s||262144&o)&&We(c,l,e,e[18],s?Ye(l,e[18],o,null):Je(e[18]),null),ut(n,u=Bt(d,[(!s||128&o)&&{href:e[7]},(!s||256&o)&&{target:e[[=e},p(e,o){let[l]=o,c=t;t=a(e),t===c?r[t].p(e,l):(At(),Rt(r[c],1,1,(()=>{r[c]=null})),Nt(),n=r[t],n?n.p(e,l):(n=r[t]=s[t](e),n.c()),Ht(n,1),n.m(i.parentNode,i))},i(e){o||(Ht(n),o=!0)},o(e){Rt(n),o=!1},d(e){r[t].d(e),e&&nt(i)}}}function Hn(e,t,n){let{$$slots:i={},$$scope:o}=t,{actions:s}=t,{doubleTapActions:r}=t,{longTapActions:a}=t,{cls:l=""}=t,{style:c=null}=t,{cls),"style"in e&&n(3,c=e.style),"attrs"in e&&n(4,d=e.attrs),"use"in e&&n(5,u=e.use),"customAction"in e&&n(17,p=e.customAction),"isNativeActionAnimation"in e&&n(6,h=e.isNativeActionAnimation),"$$scope"in e&&n(18,o=e.$$scope)},e.$$.update=()=>{if(196736&e.$$.dirty){if(Array.isArray(s)&&(null==s?void 0:s.length))for(let e=0;e<s.length;++e){const t=s[e].url;if(t){n(7,v=t),n(8,f=s[e].target||void 0);break}}Array.isArray(s)&&(null==s?void 0:s.length)&&m.hasAction()&&(n(7,v=""),g.logError(Kt(new Error("Actionable element is forbidden inside other actionable element"),{level:"warn",additional:{actions:s}}))),n(9,x=Boolean(p)),v&&!fn(mn(v),g.getBuiltinProtocols())?(n(7,v=""),n(9,x=!0)):!v&&Array.isArray(s)&&(null==s?void 0:s.length)&&(n(9,x=!0),g.logError(Kt(new Error("The component has a list of actions, but does not have a real action"),{level:"warn",additional:{actions:s}})))}},[r,a,l,c,d,u,h,v,f,x,async function(e){m.hasAction()||void 0!==e.button&&0!==e.button||(!1===(null==p?void 0:p(e))?e.preventDefault():s&&(s.some((e=>{const t=null==e?void 0:e.url;if(!t)return!1;const n=mn(t);return n&&!fn(n,g.getBuiltinProtocols())}))&&e.preventDefault(),g.execAnyActions(s)))},function(e){m.hasAction()||void 0!==e.button&&0!==e.button||g.execAnyActions(r,!0)},function(e){e.touches.length>1||(_=On(e),y=!1,b=Date.now())},function(e){if(!_)return;const t=On(e);(Math.abs(_.x-t.x)>8||Math.abs(_.y-t.y)>8)&&(y=!0)},function(){!_||b<0||(!y&&Date.now()-b=null,b=-1)},function(e){e.,t)},function(t){yt.call(this,e,t)}]}const Rn=class extends Gt{constructor(e){super(),Zt(this,e,Hn,Nn,Ue,{actions:16,doubleTapActions:0,longTapActions:1,cls:2,style:3ativeActionAnimation:6})}},Pn={"outer-background":"divkit-ece69","outer-background_clip":"divkit-f5b85","outer-background__item":"divkit-b763f","outer-background__item_hidden":"divkit-debc3"};function Bn(e){return xn(e)&&e>0}function Un(e,t){return e.map((e=>{if("blur"===(null==e?void 0:e.type)){if(Bn(e.radius))return"blur(".concat(sn(e.radius/2),")")}else t(Kt(new Error("Unknown filter"),{level:"warn",additional:{filter:null==e?void 0:e.type}}))})).filter(Boolean).join(" ")}function Vn(e,t,n){const i=e.slice();return i[5]=t[n],i}function qn(e){let t,n,i;return{c(){t=ot("span"),dt(t,"class",n=Pn["outer-background__item"]),dt(t,"style",i=nn(e[5].style))},m(e,n){tt(e,t,n)},p(e,n){2&n&&i!==(i=nn(e[5].style))&&dt(t,"style",i)},d(e){e&&nt(t)}}}function Fn(e){let t,n,i,o,s,r;return{,"src",n),dt(t,"alt",""),dt(t,"aria-hidden","true"),dt(t,"loading","lazy"),dt(t,"decoding","async"),dtbackground__item"]),dt),s||(r=ct(t,"error",e[2]&us(e){let t;function n(e,t){return e[5].image_url?Fn:qn}let i=n(e),o=i(e);return{c(){o.c(),t=lt()},m(e,n){o.m(e,n),tt(e,t,n)},p(e,s){i===(i=n(e))&&o?o.p(e,s):(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&nt(t)}}}function Gn(e){let t,n,i=e[t=ot("span");for(let e=0;e<o.length;e+=1)o[e].c();dt(t,"class",n=Pn["outer-background"]+(e[0]?" "+Pn["outer-background_clip"]:"")),pt(t,"border-radius",e[0])},m(e,n){tt(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,s){let[r]=s;if(6&r){let n;for(i=e[1],n=0;n<i.length;n+=1){const s=Vn(e,i,n);o[n]?o[n].p(s,r)o[n].m(t,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}1&r&&n!==(n=Pn["outer-background"]+(e[0]?" "+Pn["outer-background_clip"]:""))&&dt(t,"class",n),1&r&&pt(t,"border-radius",e[0])},i:Oe,o:Oe,d(e){e&&nt(t),it(o,e)}}}function Yn(e,t,n){let i,{background:o=[]}=t,{radius:s=""}=t;const r=_t(Qt);return e.$$set=e=>{"background"in e&&n(3,o=e.background),"radius"in e&&n(0,s=e.radius)},e.$$.update=()=>{8&e.$$.dirty&&n(1,i=o.map((e=>{const t={},n={style:t};if("nine_patch_image"===e.type&&e.insets)t["border-image"]='url("'.concat(e.image_url,'") ').concat(e.insets.top||0," ").concat(e.insets.right||0," ").concat(e.insets.bottom||0," ").concat(e.insets.left||0," fill"),t["border-image-width"]="auto";else{const i=dn([e]);"solid"===e.type&&(t["background-color"]=i.color),"gradient"===e.type&&(t["background-image"]=i.image),"image"===e.type&&(t.opacity=Number(e.alpha),n.image_url=e.image_url,t["object-fit"]=i.size,t["object-position"]=i.po)}return n})))},[s,i,function(e){e.target&&"classList"in e.target&&e.target.classList.add(Pn["outer-background__item_hidden"])},o]}const Wn=class extends Gt{constructor(e){super(),Zt(this,e,Yn,Gn,Ue,{background:3,radius:0})}};function Jn(e){let t,n;return t=new Rn({props:{use:e[32],cls:e[0]+" "+bn("outer",tn,e[15]),style:nn(e[13]),actions:e[10],doubleTapActions:e[11],longTapActions:e[12],attrs:e[6],isNativeActionAnimation:!e[4].length||ti(e[4]),$$slots:{default:[Kn]},$$scope:{ctx:e}}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};32769&n[0]&&(i.cls=e[0]+" "+bn("outer",tn,e[15])),8192&n[0]&&(i.style=nn(e[13])),1024&n[0]&&(i.actions=e[10]),2048&n[0]&&(i.doubleTapActions=e[11]),4096&n[0]&&(i.longTapActions=e[12]),6adius:e[2]}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};32&n[0]&&(i.background=e[5]),=e[2]),t.$set(i)},i(e){n||(Ht(t.$$.fragment,e),n=!0$.fragment,e),n=!1},d(e){Ft(t,e)}}}function Qn(e){let t,n,i;return{c(){t=ot("span"),dt(t,"class",n=tn.outer__border),dt(t,"style",i=nn(e[1]))},m(e,n){tt(e,t,n)},p(e,n){2&n[0]&&i!==(i=nn(e[1]))&&dt(t,"style",i)},d(e){e&&nt(t)}}}function Kn(e){let t,n,i,o=e[3]&&Xn(e);const s=e[110].default,r=Ze(s,e,e[111],null);let a=e[7]&&Qn(e);return{c(){o&&o.c(),t=lt(),r&&r.c(),a&&a.c(),n=lt()},m(e,s){o&&o.m(e,s),tt(e,t,s),r&&r.m(e,s),a&&a.m(e,s),tt(e,n,s),i=!0},p(e,l){e[3]?o?(o.p(e,l),8&l[0]&&Ht(o,1)):(o=Xn(e),o.c(){o=null})),Nt()),r&&r.p&&(!i||262144&l[3])&&We(r,s,e,e[111],i?Ye(s,e[111],l,null):Je(e[111]),null),e[7]?a?a.)=e&{iRt(i,1,1,(()=>{i=null})),Nt()):i?(i.p(e,n),768&n[0]&&Ht(i,1)):(i=Jn(e),i.c(),Ht(i,1),i.m(t.parentNode,t))},i(e){n||(Ht(i),n=!0)},o(e){Rt(i),n=!1},d(e){i&&i.d(e),e&&nt(t)}}}function ti(e){return e.some((e=>"native"===e.name))}function ni(e,t,n){let i,o,s,r,a,l,c,d,u,p,h,g,m,f,v,b,_,y,x,w,k,$,C,I,S,T,M,L,E,j,D,O,z,P,B,U,V,q=Oe,F=Oe,Z=Oe,G=Oe,Y=Oe,W=Oe,J=Oe,X=Oe,Q=Oe,K=Oe,ee=Oe,te=Oe,ne=Oe,ie=Oe,oe=Oe,se=Oe,re=Oe;e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>J())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>Q())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>ee())),e.$$.on_destroy.push((()=>te())),e.$$.on_destroy.push((()=>ne())),e.$$.on_destroy.push((()=>ie())),e.$$.on_destroy.push((()=>oe())),e.$$.on_destroy.push((()=>se())),e.$$.on_destroy.push((()=>re()));let{$$slots:ae={},$$scope:le}=t;var ce,de,ue,pe,he,ge;let{json:me={}}=t,{origJson:fe}=t,{templateContext:ve}=t,{cls:be=""}=t,{style:_e}=t,{layoutParams:ye={}}=t,{customDescription:xe=!1}=t,{customPaddings:we=!1}=t,{customActions:ke=""}=t,{additionalPaddings:$e=null}=t,{heightByAspect:Ce=!1}=t;const Ie={left:"start",center:"center",right:"end"},Se={top:"start",center:"center",bottom:"end",baseline:"baseline"},Te=_t(Qt),Me=_t(_n);let Le,Ee,je,De,ze,Ae,Ne,He,Re,Pe,Be,Ue=null,Ve={},Fe={},Ze=!1,Ge=1,Ye="transparent",We=0,Je={"top-left":0,"top-right":0,"bottom-right":0,"bottom-left":0},Xe="",Qe=null,Ke="",et={},tt=0,nt=0,it=0,ot=!1,st=!1,rt={},at=0,lt=0,ct=0,dt=!1,ut=!1,pt=1;const ht=ye.fakeElement?[]:me.transition_triggers||["state_change","visibility_change"],gt=-1!==ht.indexOf("state_change")&&me.id,mt=-1!==ht.indexOf("visibility_change")&&me.id;let ft,vt,bt,yt,xt,wt,kt,$t=[],Ct=[],It=[],St=[],Mt="";function Lt(e){const t=Mn(e.start_value,1),i=Mn(e.end_value,1),o=$n(e.start_delay,0),s=$n(e.duration,300),r=Tn(e.interpolator,"ease_in_out").replace(/_/g,"-");switch(e.name){case"fade":return n(79,yt=t),n(80,xt=i),"opacity ".concat(s,"ms ").concat(r," ").concat(o,"ms");case"scale":return n(81,wt=t),n(82,kt=i),"transform ".concat(s,"ms ").concat(r," ").concat(o,"ms");case"native":case"no_animation":return"";default:return Te.logError(Kt(new Error("Unknown action_animation name"),{additional:{animation:e.name}})),""}}let Et,jt,Dt=!1,Ot="visible",zt=0,At=0;return e.$$set=e=>{"json"in e&&n(33,me=e.json),"origJson"in e&&n(34,fe=e.origJson),"templateContext"in e&&n(35,ve=e.templateContext),"cls"in e&&n(0,be=e.cls),"style"in e&&n(36,_e=e.style),"layoutParams"in e&&n(37,ye=e.layoutParams),"customDescription"in e&&n(38,xe=e.customDescription),"customPaddings"in e&&n(39,we=e.customPaddings),"customActions"in e&&n(40,ke=e.customActions),"additionalPaddings"in e&&n(41,$e=e.additionalPaddings),"heightByAspect"in e&&n(42,Ce=e.heightByAspect),"$$scope"in e&&n(111,le=e.$$scope)},e.$$.update=()=>{if(4&e.$$.dirty[1]&&(n(31,i=Te.getDerivedFromVars(me.border)),re(),re=qe(i,(e=>n(109,V=e)))),2&e.$$.dirty[0]|8384512&e.$$.dirty[1]|65536&e.$$.dirty[3]){let e={},t={},i=!1,o="";if(V){if(V.has_shadow){const t=V.shadow;e["box-shadow"]=t?on((null===n(44,de=null===n(43,ce=t.offset)||void 0===ce?void 0:ce.x)||void 0===de?void 0:de.value)||0)+" "+on((null===n(46,pe=null===n(45,ue=t.offset)||void 0===ue?void 0:ue.y)||void 0===pe?void 0:pe.value)||0)+" "+on(null!==n(47,he=t.blur)&&void 0!==he?he:2)+" "+rn(t.color||"#000000",null!==n(48,ge=t.alpha)&&void 0!==ge?ge:.19):"0 1px 2px 0 rgba(0,0,0,.18), 0 0 0 1px rgba(0,0,0,.07)"}if(V.stroke&&(i=!0,n(50,Ge=$n(V.stroke.width,Ge)),n(51,Ye=rn(V.stroke.color,1,Ye)),t.border="".concat(on(Ge)," solid ").concat(Ye)),V.corners_radius?(n(53,Je=function(e,t){const n=[e["top-left"],e["top-right"],e["bottom-right"],e["bottom-left"]];for(let e=0;e<n.length;++e)if(n[e]&&!wn(n[e]))return t;return e}(V.corners_radius,Je)),t["border-radius"]=e["border-radius"]=En(Je)):V.corner_radius&&(n(52,We=$n(V.corner_radius,We)),n(53,Je={"top-left":We,"top-right":We,"bottom-right":We,"bottom-left":We}),t["border-radius"]=e["border-radius"]=on(We)),i&&Ge&&(V.corners_radius||V.corner_radius)){let e=Object.assign({},Je);["top-left","top-right","bottom-right","bottom-left"].forEach((t=>{e[t]=(e[t]||0)+Ge/2})),o=En(e)}}n(49,Ve=Sn(e,Ve)),n(1,Fe=Sn(t,Fe)),n(7,Ze=i),n(2,Xe=o)}if(4&e.$$.dirty[1]&&(n(30,o=Te.getDerivedFromVars(me.paddings)),se(),se=qe(o,(e=>n(108,U=e)))),8388864&e.$$.dirty[1]|32768&e.$$.dirty[3]&&n(54,Qe=function(e,t){if(!e||"object"!=typeof e)return t;const n=["top","right","bottom","left"];for(let i=0;i<n.length;++i)if(e[n[i]]&&!wn(e[n[i]]))return t;return e}(U&&!we?U:void 0,Qe)),8389632&e.$$.dirty[1]&&n(90,s=yn(function(e,t){if(!e&&!t)return{};if(!t)return e;if(!e)return t;const n={};return["top","right","bottom","left"].forEach((i=>{const o=e[i];o&&(n[i]=o);const s=t[i];s&&(n[i]=(n[i]||0)+s)})),n}(Qe,$e))),4&e.$$.dirty[1]&&(n(29,r=Te.getDerivedFromVars(me.margins)),ie(),ie=qe(r,(e=>n(106,P=e)))),16777216&e.$$.dirty[1]|8192&e.$$.dirty[3]&&n(55,Ke=kn(P,Ke)),4&e.$$.dirty[1]&&(n(28,a=Te.getDerivedFromVars(me.width)),te(),te=qe(a,(e=>n(104,H=e)))),4&e.$$.dirty[1]&&(n(27,l=Te.getDerivedFromVars(me.alignment_horizontal)),oe(),oe=qe(l,(e=>n(107,B=e)))),570425408&e.$$.dirty[1]|26624&e.$$.dirty[3]){let e,t,i,o,s={},r=0,a=0,l=!1,c=!1;const d=null==H?void 0:H.type;if("fixed"===d)n(60,tt=$n(null==H?void 0:H.value,tt)),t=on(tt);else if("wrap_content"!==d&&(ye.overlapParent||"match_parent"!==d&&d||!ye.parentHorizontalWrapContent))e="parent","vertical"===ye.parentContainerOrientation&&ye.parentContainerWrap&&(c=!0,Te.logError(Kt(new Error("Cannot place a match_parent items on the cross-axis of wrap"),{level:"error"}))),"vertical"===ye.parentLayoutOrientation?t="calc(100% - ".concat(sn(((null==P?void 0:P.left)||0)+((null==P?void 0:P.right)||0)),")"):"horizontal"===ye.parentContainerOrientation&&(r=H&&"weight"in H&&H.weight||1,ye.parentContainerWrap&&(l=!0));else{if(e="content",("wrap_content"===d&&(null==H?void 0:H.constrained)||("match_parent"===d||!d)&&ye.parentHorizontalWrapContent)&&(s["width-constrained"]=!0,"horizontal"===ye.parentContainerOrientation&&(a=1)),"wrap_content"===d){const e=H;e.min_size&&wn(e.min_size.value)&&(i=on(e.min_size.value)),e.max_size&&wn(e.max_size.value)&&(o=on(e.max_size.value))}"match_parent"!==d&&d||Te.logError(Kt(new Error("Cannot place child with match_parent size inside wrap_content"),{level:"warn"}))}if("parent"===e)s["halign-self"]="stretch";else{const e=B;s["halign-self"]="left"===e||"center"===e||"right"===e?Ie[e]:ye.parentHAlign||"start"}e&&(s.width=e),n(57,je=t),n(58,De=i),n(59,ze=o),n(61,nt=r),n(62,it=a),n(56,et=Sn(s,et)),n(63,ot=l),n(8,st=c)}if(4&e.$$.dirty[1]&&(n(26,c=Te.getDerivedFromVars(me.height)),ee(),ee=qe(c,(e=>n(103,N=e)))),4&e.$$.dirty[1]&&(n(25,d=Te.getDerivedFromVars(me.alignment_vertical)),ne(),ne=qe(d,(e=>n(105,R=e)))),2112&e.$$.dirty[1]|68&e.$$.dirty[2]|13312&e.$$.dirty[3]){let e,t,i,o,s={},r=0,a=0,l=!1,c=!1;const d=null==N?void 0:N.type;if(Ce);else if("fixed"===d)n(68,at=$n(null==N?void 0:N.value,at)),t=on(at);else if("match_parent"!==d||!ye.overlapParent&&ye.parentVerticalWrapContent){if(e="content",("wrap_content"===d&&(null==N?void 0:N.constrained)||"match_parent"===d&&ye.parentVerticalWrapContent)&&(s["height-constrained"]=!0,"vertical"===ye.parentContainerOrientation&&(a=1)),"wrap_content"===d){const e=N;(null==e?void 0:e.min_size)&&wn(e.min_size.value)&&(i=on(e.min_size.value)),(null==e?void 0:e.max_size)&&wn(e.max_size.value)&&(o=on(e.max_size.value))}"match_parent"===d&&Te.logError(Kt(new Error("Cannot place child with match_parent size inside wrap_content"),{level:"warn"}))}else e="parent","horizontal"===ye.parentContainerOrientation&&ye.parentContainerWrap&&(c=!0,Te.logError(Kt(new Error("Cannot place a match_parent items on the cross-axis of wrap"),{level:"error"}))),"horizontal"===ye.parentLayoutOrientation?t="calc(100% - ".concat(sn(((null==P?void 0:P.top)||0)+((null==P?void 0:P.bottom)||0)),")"):"vertical"===ye.parentContainerOrientation&&(r=(null==N?void 0:N.weight)||1,ye.parentContainerWrap&&(l=!0));if("parent"===e)s["valign-self"]="stretch";else{const e=R;"top"===e||"center"===e||"bottom"===e||"baseline"===e&&"horizontal"===ye.parentContainerOrientation?s["valign-self"]=Se[e]:s["valign-self"]=ye.parentVAlign||"start"}e&&(s.height=e),n(65,Ae=t),n(66,Ne=i),n(67,He=o),n(69,lt=r),n(70,ct=a),n(64,rt=Sn(s,rt)),n(71,dt=l),n(9,ut=c)}var t,ae;if(64&e.$$.dirty[1]&&n(93,u=!!ye.overlapParent||void 0),64&e.$$.dirty[1]|3072&e.$$.dirty[3]&&n(92,p=ye.overlapParent&&(!H||"match_parent"===H.type)&&"match_parent"===(null==N?void 0:N.type)),64&e.$$.dirty[1]&&n(91,h=ye.gridArea?"".concat(ye.gridArea.y+1,"/").concat(ye.gridArea.x+1,"/span ").concat(ye.gridArea.rowSpan,"/span ").concat(ye.gridArea.colSpan):void 0),4&e.$$.dirty[1]&&(n(24,g=Te.getDerivedFromVars(me.alpha)),K(),K=qe(g,(e=>n(102,A=e)))),1024&e.$$.dirty[2]|512&e.$$.dirty[3]&&(n(72,(ae=pt,pt=!wn(t=A)||void 0===t||t>1?ae:Number(t))),n(73,Re=1===pt?void 0:pt)),4&e.$$.dirty[1]&&(n(23,m=Te.getDerivedFromVars(me.accessibility)),Q(),Q=qe(m,(e=>n(101,z=e)))),128&e.$$.dirty[1]|256&e.$$.dirty[3]&&(n(6,Ee=void 0),z&&!xe&&z.description&&(n(6,Ee={}),n(6,Ee["aria-label"]=z.description,Ee))),4&e.$$.dirty[1]&&(n(22,f=Te.getDerivedFromVars(me.background)),X(),X=qe(f,(e=>n(5,O=e)))),44&e.$$.dirty[0]&&(n(74,Pe={}),n(3,Be=!1),O&&(n(3,Be=O.some((e=>"image"===e.type||"nine_patch_image"===e.type))||Boolean(Xe)),!Be))){const e=dn(O);n(74,Pe["background-color"]=e.color,Pe),n(74,Pe["background-image"]=e.image,Pe),n(74,Pe["background-size"]=e.size,Pe),n(74,Pe["background-position"]=e.position,Pe),n(74,Pe["background-repeat"]="no-repeat",Pe)}if(4&e.$$.dirty[1]&&(n(75,ft=void 0),gt&&me.transition_in&&Te.isRunning("stateChange")&&n(75,ft=!0)),4&e.$$.dirty[1]&&(n(77,bt=void 0),gt&&me.transition_change&&Te.isRunning("stateChange")&&Me.hasTransitionChange(me.id)&&n(77,bt=!0)),4&e.$$.dirty[1]&&(n(21,v=Te.getDerivedFromVars(me.action)),W(),W=qe(v,(e=>n(99,j=e)))),4&e.$$.dirty[1]&&(n(20,b=Te.getDerivedFromVars(me.actions)),J(),J=qe(b,(e=>n(100,D=e)))),4&e.$$.dirty[1]&&(n(19,_=Te.getDerivedFromVars(me.doubletap_actions)),Y(),Y=qe(_,(e=>n(98,E=e)))),4&e.$$.dirty[1]&&(n(18,y=Te.getDerivedFromVars(me.longtap_actions)),G(),G=qe(y,(e=>n(97,L=e)))),576&e.$$.dirty[1]|240&e.$$.dirty[3]){let e=D||j&&[j]||[],t=E||[],i=L||[];ye.fakeElement?(e=[],t=[],i=[]):(Array.isArray(e)||(e=[],Te.logError(Kt(new Error("Actions should be array")))),Array.isArray(t)||(t=[],Te.logError(Kt(new Error("DoubleTapActions should be array")))),Array.isArray(i)||(i=[],Te.logError(Kt(new Error("LongTapActions should be array"))))),(e.length||t.length||i.length)&&ke&&(e=[],t=[],i=[],Te.logError(Kt(new Error('Cannot use action on component "'.concat(ke,'"'))))),n(10,$t=e),n(11,Ct=t),n(12,It=i)}if(4&e.$$.dirty[1]&&(n(17,x=Te.getDerivedFromVars(me.action_animation)),Z(),Z=qe(x,(e=>n(96,M=e)))),16&e.$$.dirty[0]|8&e.$$.dirty[3]&&M&&(n(4,St=Ln(M)),n(78,Mt=St.map(Lt).filter(Boolean).join(", "))),4&e.$$.dirty[1]&&(n(16,w=Te.getDerivedFromVars(me.visibility)),F(),F=qe(w,(e=>n(95,T=e)))),6291456&e.$$.dirty[2]|4&e.$$.dirty[3]){const e=Ot,t=function(e,t){return"visible"===e||"invisible"===e||"gone"===e?e:t}(T,Ot);e!==t&&(!Dt||"visible"!==Ot&&"visible"!==t?n(84,Ot=t):async function(e){n(84,Ot=e);const t="visible"===e?"in":"out",i="in"===t?me.transition_in:me.transition_out;mt&&i&&(await Tt(),"in"===t&&n(76,vt=!0),Me.runVisibilityTransition(Object.assign(Object.assign({},me),{visibility:"visible"}),ve,i,Le,t).then((()=>{"in"===t&&n(76,vt=!1)})).catch((e=>{throw"in"===t&&n(76,vt=!1),e})))}(t)),Dt||n(83,Dt=!0)}if(33554496&e.$$.dirty[1]|1078059012&e.$$.dirty[2]|1&e.$$.dirty[3]&&n(15,k=Object.assign(Object.assign(Object.assign({},et),rt),{"parent-overlap":u,"parent-overlap-absolute":p,"scroll-snap":ye.scrollSnap,"hide-on-transition-in":ft||vt||bt,visibility:Ot,"has-action-animation":Boolean(Mt),"parent-flex":ye.parentContainerOrientation||void 0,"parent-grid":Boolean(ye.gridArea)||void 0})),4&e.$$.dirty[1]&&(n(14,$=Te.getDerivedFromVars(me.transform)),q(),q=qe($,(e=>n(94,S=e)))),25165824&e.$$.dirty[2]|2&e.$$.dirty[3]&&S&&void 0!==S.rotation){const e=S.pivot_x||{type:"pivot-percentage",value:50};n(85,zt=Mn(e.value,zt));const t="pivot-fixed"===e.type?on(zt):"".concat(zt,"%"),i=S.pivot_y||{type:"pivot-percentage",value:50};n(86,At=Mn(i.value,At));const o="pivot-fixed"===i.type?on(At):"".concat(At,"%");n(87,Et="".concat(t," ").concat(o)),n(88,jt="rotate(".concat(S.rotation,"deg)"))}1073741824&e.$$.dirty[1]|642&e.$$.dirty[2]&&n(89,C=ot||dt?"100%":nt||lt?0:void 0),1560543264&e.$$.dirty[1]|1042225593&e.$$.dirty[2]&&n(13,I=Object.assign(Object.assign(Object.assign(Object.assign({},_e),Pe),Ve),{width:je,"min-width":De,"max-width":ze,height:Ae,"min-height":Ne,"max-height":He||(null==_e?void 0:_e["max-height"]),"grid-area":h,padding:s,margin:Ke,opacity:Re,transition:Mt,"transform-origin":Et,transform:jt,"flex-grow":nt||lt||void 0,"flex-shrink":it||ct?1:void 0,"flex-basis":C,"--divkit-animation-opacity-start":yt,"--divkit-animation-opacity-end":xt,"--divkit-animation-scale-start":wt,"--divkit-animation-scale-end":kt}))},[be,Fe,Xe,Be,St,O,Ee,Ze,st,ut,$t,Ct,It,I,$,k,w,x,y,_,b,v,f,m,g,d,c,l,a,r,o,i,function(e){Le=e,gt&&me.transition_in&&Me.registerChildWithTransitionIn(me,ve,me.transition_in,e).then((()=>{n(75,ft=!1)})).catch((e=>{throw n(75,ft=!1),e})),gt&&me.transition_out&&Me.registerChildWithTransitionOut(me,ve,me.transition_out,e),gt&&me.transition_change&&Me.registerChildWithTransitionChange(me,ve,me.transition_change,e).then((()=>{n(77,bt=!1)})).catch((e=>{throw n(77,bt=!1),e}));const t=ye.fakeElement?[]:me.visibility_actions||me.visibility_action&&[me.visibility_action],i=ye.fakeElement?[]:me.disappear_actions;(Array.isArray(t)&&t.length||Array.isArray(i)&&i.length)&&function(e,t){let{visibilityActions:n,disappearActions:i,rootCtx:o}=t;const s=[];n&&n.forEach((e=>{s.push({type:"visibility",index:s.length,action:e,visible:!1,count:0,finished:!1})})),i&&i.forEach((e=>{s.push({type:"disappear",index:s.length,action:e,visible:!1,count:0,finished:!1})}));const r=s.map((e=>o.getJsonWithVars({visibility_percentage:e.action.visibility_percentage,visibility_duration:"visibility"===e.type?e.action.visibility_duration:e.action.disappear_duration,log_limit:e.action.log_limit}))),a=[...new Set([...s.map(((e,t)=>(r[t].visibility_percentage||50)/100))])];new IntersectionObserver((e=>{e.forEach((e=>{s.forEach((t=>{const n=e.intersectionRatio>=(t.action.visibility_percentage||50)/100,i="visibility"===t.type?!t.visible&&n:t.visible&&!n,s="visibility"===t.type?!n:n;i?t.finished||(t.timer=setTimeout((()=>{++t.count;const e=r[t.index],n=0===e.log_limit?1/0:e.log_limit||1;++t.count>=n&&(t.finished=!0);const i=o.getJsonWithVars(t.action),s=i.url;if(s){const e=mn(s);e&&!fn(e,o.getBuiltinProtocols())&&("div-action"===e?o.execAction(i):i.log_id&&o.execCustomAction(i))}o.logStat("visibility"===t.type?"visible":"disappear",i)}),r[t.index].visibility_duration||800)):s&&t.timer&&clearTimeout(t.timer),t.visible=n}))}))}),{threshold:a}).observe(e)}(e,{visibilityActions:t,disappearActions:i,rootCtx:Te});const o=me.id;if(o&&Me.registerChild(o),Array.isArray(me.extensions)){const t=Te.getExtensionContext();Ue=me.extensions.map((n=>{var i;const o=Te.getExtension(n.id,n.params);return o&&(null===(i=o.mountView)||void 0===i||i.call(o,e,t)),o})).filter(cn)}return{destroy(){if(o&&Me.unregisterChild(o),Ue){const t=Te.getExtensionContext();Ue.forEach((n=>{var i;null===(i=n.unmountView)||void 0===i||i.call(n,e,t)})),Ue=null}}}},me,fe,ve,_e,ye,xe,we,ke,$e,Ce,ce,de,ue,pe,he,ge,Ve,Ge,Ye,We,Je,Qe,Ke,et,je,De,ze,tt,nt,it,ot,rt,Ae,Ne,He,at,lt,ct,dt,pt,Re,Pe,ft,vt,bt,Mt,yt,xt,wt,kt,Dt,Ot,zt,At,Et,jt,C,s,h,p,u,S,T,M,L,E,j,D,z,A,N,H,R,P,B,U,V,ae,le]}const ii=class extends Gt{constructor(e){super(),Zt(this,e,ni,ei,Ue,{json:33,origJson:34,templateContext:35,cls:0,style:36,layoutParams:37,customDescription:38,customPaddings:39,customActions:40,additionalPaddings:41,heightByAspect:42},null,[-1,-1,-1,-1])}},oi={"text-range":"divkit-b4897","text-range_singleline":"divkit-b9de8","text-range__top-offset":"divkit-dfdba","text-range_decoration_both":"divkit-c3dfb","text-range_decoration_underline":"divkit-ca906","text-range_decoration_strike":"divkit-a8dd7","text-range_deco si(e,t){const n=Number(e);return isNaN(n)||nn ri(e){let t,n;return{c(){t=ot("span"),dt(t,"class",n=oi["text-range__top-offset"]),pt(t,"margin-top",e[4])},m(e,n){tt(e,t,n)},p(e,n){16&n&&pt(t,"margin-top",e[4])},d(e){e&&nt(t)}}}function ai(e){let t;return{c(){t=rt(e[0])},m(e,n){tt(e,t,n)},p(e,n){var i,o;1&ntn,i,o=e[4]&&ri(e);return n=new Rn({props:{cls:bn("text-range",oi,e[3]),actions:e[1],style:nn(e[2]),$$slots:{default:[ai]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=lt(),Vt(n.$$.fragment)},m(e,s){o&&o.m(e,s),tt(e,t,s),qt(n,e,s),i=!0},p(e,i){let[s]=i;e[4]?o?o.p(e,s):(o=ri(e),o.c(),o.m(t.parentNode,t)):o&&(o.cls=bn("text-range",oi,e[3])),2&s&&(r.actions=e[1]),4&s&&(r.style=nn(e[2])),2097153&s&&(r.$$scope={dirty:s,ctx:e}),n.$set(r)},i(e){i||(Ht(n.$$.fragment,e),i=!0)},o(e){Rt(n.$$.fragment,e),i=!1},d(e){o&&o.d(e),e&&nt(t),Ft(n,e)}}}function ci(e,t,n){let i,o,s,r,a;var l,c;let{text:d}=t,{rootFontSize:u}=t,{textStyles:p={}}=t,{singleline:h=!1}=t,{actions:g}=t;const m=_t(Qt);let f,v="none",b=12,_=1.25,y="",x="",w="",k=null;return e.$$set=e=>{"text"in e&&n(0,d=e.text),"rootFontSize"in e&&n(5,u=e.rootFontSize),"textStyles"in e&&n(6,p=e.textStyles),"singleline"in e&&n(7,h=e.singleline),"actions"in e&&n(1,g=e.actions)},e.$$.update=()=>{if(64&e.$$.dirty){let e="none";(p.underline||p.strike)&&("single"===p.underline&&"single"===p.strike?e="both":"single"===p.underline?e="underline":"single"===p.strike&&(e="strike")),n(10,v=e)}2112&e.$$.dirty&&n(11,b=si(p.font_size,b)),2112&e.$$.dirty&&Bn(p.line_height)&&n(12,_=Number(p.line_height)/b),64&e.$$.dirty&&wn(p.letter_spacing)&&n(13,y=on(p.letter_spacing)),16448&e.$$.dirty&&(n(14,f=function(e,t){return function(e){if("light"===e||"medium"===e||"bold"===e||"regular"===e)return"medium"===e?500:"bold"===e?700:"light"===e?300:400}(e)||t}(p.font_weight,f)),"string"==typeof p.font_family&&p.font_family?n(15,x=m.typefaceProvider(p.font_family,{fontWeight:f||400})):n(15,x="")),65600&e.$$.dirty&&n(16,w=rn(p.text_color,1,w)),64&e.$$.dirty&&n(4,i=p.top_offset?on(p.top_offset):""),64&e.$$.dirty&&n(19,o=p.background?dn([p.background]):null),320&e.$$.dirty&&((null===n(8,l=p.border)||void 0===l?void 0:l.stroke)&&"transparent"!==rn(p.border.stroke.color)&&Bn(p.border.stroke.width)?n(17,k={color:p.border.stroke.color,width:p.border.stroke.width}):n(17,k=null)),576&e.$$.dirty&&n(18,s=si(null===n(9,c=p.border)||void 0===c?void 0:c.corner_radius,0)),1152&e.$$.dirty&&n(3,r={singleline:h,decoration:v}),1046560&e.$$.dirty&&n(2,a={"font-size":on(10*b/u),"line-height":_,"letter-spacing":y,"font-weight":f,"fonat(k.color):void 0,"border-radius":s?on(s):void 0})},[d,g,a,r,i,u,p,h,l,c,v,b,_,y,f,x,w,k,s,o]}const di=class extends Gt{constructor(e){super(),Zt(this,e,ci,li,Ue,{text:0,rootFontSize:5,textStyles:6,singleline:7,actions:1})}};function ui(e,t){return"source_in"===e||"source_atop"===e||"darken"===e||"lighten"===e||"multiply"===e||"screen"===e?e:t}const{Boolean:pi}=Pt;function hi(e,t,n){const i=e.slice();return i[55]=t[n],i[57]=n,i}function gi(e){let t,n;return t=new ii({props:{cls:bn("text",en,e[13])+" "+(e[6]?"":Xt.root__unselectable),json:e[0],origJson:e[2],templateContext:e[1],layoutParams:e[3],$$slots:{default:[xi]},$$scope:{ctx:e}}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};8256&n[0]&&(i.cls=bn("text",en,e[13])+" "+(e[6]?"":Xt.root__unselectable)),1&n[0]&&(i.json=e[0]),4&n[0]&&(i.origJson=e[2]),2&n[0]&&(i.templateContext=e[1]),8&n[0]&&(i.layoutParams=e[3]),134225584&n[0]|134217728&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(Ht(t.$$.fragment,e),n=!0)},o(e){Rt(t.$$.fragment,e),n=!1},d(e){Ft(t,e)}}}function mi(e){let t,n;return t=new di({props:{text:e[4],rootFontSize:e[5],textStyles:e[27],singleline:e[7]}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n)t(o[r],1),o[r].m(t.parentNode,t))}for(At(),r=i.length;r<o.length;r+=1)s(r);Nt()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)Ht(o[e]);n=!0}},o(e){o=o.filter(pi);for(let e=0;e<o.length;e+=1)Rt(o[e]);n=!1},d(e){it(o,e),e&&nt(t)}}}function vi(e){let t,n,i,o,s,r,a,l;return{c(){t=ot("span"),n=ot("img"),dt(n,"class",i=en.text__image),Be(n.src,o=e[55].image.url)||dt(n,"src",o),dt(n,"loading","lazy"),dt(n,"decoding","async"),dt(n,"aria-hidden","true"),dt(n,"alt",""),dt(n,"style",s=nn({width:e[55].image.width,height:e[55].image.height,"margin-top":e[9]?"-"-".concat(e[55].image.height):void 0,filter:e[55].image.svgFilterId?"url(#".concat(e[55].image.svgFilterId,")"):void 0})),dt(t,"style",r=nn(e[55].image.wrapperStyle))},m(i,o){tt(i,t,o),et(t,n),a||(l=ct(n,"error",e[28]),a=!0)},p(e,i){1024&i[0]&&!Be(n.src,o=e[55].image.url)&&dt(n,"src",o),1536&i[0]&&s!==(s=nn({width:e[55].image.width,height:e[55].image.height,"margin-top":e[9]?"-".concat(e[55].image.height):void 0,"margin-bottom":e[9]?"-".concat(e[55].image.height):void 0,filter:e[55].image.svgFilterId?"url(#".concat(e[55].image.svgFilterId,")"):void 0}))&&dt(n,"style",s),1024&i[0]&&r!==(r=nn(e[55].image.wrapperStyle))&&dt(t,"style",r)},i:Oe,o:Oe,d(e){e&&nt(t),a=!1,l()}}}function bi(e){let t,n,i=e[55].text&&_i(e);return{c(){i&&i.c(),t=lt()},m(e,o){i&&i.m(e,o),tt(e,t,o),n=!0},p(e,n){e[55].text?i?(i.p(e,n),1024&n[0]&&Ht(i,1)):(i=_i(e),i.c(),Ht(i,1),i.m(t.parentNode,t)):i&&(At(),Rt(i,1,1,(()=>{i=null})),Nt())},i(e){n||(Ht(i),n=!0)},o(e){Rt(i),n=!1},d(e){i&&i.d(e),e&&nt(t)}}}function _i(e){let t,n;return t=new di({props:{text:e[55].text,rootFontSize:e[5],textStyles:e[55].textStyles,singleline:e[7],actions:e[55].actions}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};1024&n[0]&&(i.text=e[55].text),32&n[0]&&(i.rootFontSize=e[5]),1024&n[0]&&(i.textStyles=e[55].textStyles),128&n[0]&&(i.singleline=e[7]),1024&n[0]&&(i.actions=e[55].actions),t.$set(i)},i(e){n||(Ht(t.$$.n.c(),i=lt()},m(e,n){~t&&r[t].m(e,n),tt(e=a(e),t===l?~t&&r[t].p(e,o):(n&&(At(),Rt(r[l],1,1,(()o):(n=r[t]=s[t](e),n.c()),Ht(n,1),n.m(i.parentNode,i)):n=null)},i(e){o||(Ht(n),o=!0)},o(e){Rt(n),o=!1},d(e){~t&&r[t].d(e),es,r;const a=[fi,mi],l=[];function c(e,t){return e[10].length?0:1}return n=c(e),i=l[n]=a[n](e),{c(){t=ot("span"),i.c(),dt(t,"class",o=bn("text__inner",en,e[12])),dt(t,"style",s=nn(e[11]))},m(e,i){tt(e,t,i),l[n].m(t,null),r=!0},p(e,d){let u=n;n=c(e),n===u?l[n].p(e,d):(At(),Rt(l[u],1,1,(()=>{l[u]=null})),Nt(l[n]=a[n](e),i.c()),Ht(i,1),i.m(t,null)),(!r||4096&d[0]&&o!==(o=bn("text__inner",en,e[12])))&&dt(t,"class",o),(!r||2048&d[0]&&s!==(s=nn(e[11])))&&dt(t,"style",s)},i(e){r||(Ht(i),r=!0)},o(e){Rt(i),r=!1},d(e){e&&nt(t),l[n].d()}}}function wi(e){let t,n,i=!e[8]&&gi(e);return{c(){i&&i.c(),t=lt()},m(e,o){i&&i.m(e,o),tt(e,t,o),n=!0},p(e,n){e[8]?i&&(At(),Rt(i,1,1,(()=>{i=null})),Nt()):i?(i.p(e,n),256&n[0]&&Ht(i,1)):(i=gi(e),i.c(),Ht(i,1),i.m(t.parentNode,t))},i(e){n||(Ht(i),n=!0)},o(e){Rt(i),n=!1},d(e){i&&i.d(e),e&&nt(t)}}}function ki(e,t,n){let i,o,s,r,a,l,c,d,u,p,h,g,m,f,v,b,_,y,x,w,k,$,C,I,S,T,M,L,E,j,D,O,z,A=Oe,N=Oe,H=Oe,R=Oe,P=Oe,B=Oe,U=Oe,V=Oe,q=Oe,F=Oe,Z=Oe,G=Oe,Y=Oe;e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>Y()));let{json:W={}}=t,{templateContext:J}=t,{origJson:X}=t,{layoutParams:Q}=t;const K=_t(Qt);let ee=!1,te="",ne=12,ie=1.25,oe=!1,se="",re="",ae=!1,le="left",ce="top",de="",ue="",pe=!1,he=[],ge=[];return vt((()=>{ge.forEach((e=>{let[t,n]=e;K.removeSvgFilter(t,n)}))})),e.$$set=e=>{"json"in e&&n(0,W=e.json),"templateContext"in e&&n(1,J=e.templateContext),"origJson"in e&&n(2,X=e.origJson),"layoutParams"in e&&n(3,Q=e.layoutParams)},e.$$.update=()=>{var t,J;if(1&e.$$.dirty[0]&&(n(26,i=K.getDerivedFromVars(W.text)),Y(),Y=qe(i,(e=>n(51,z=e)))),16&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&(n(4,(t=z,J=te,te=String(null!=t?t:"")||J)),te?n(8,ee=!1):(n(8,ee=!0),K.logError(Kt(new Error('Missing "text" prop for div "text"'))))),1&e.$$.dirty[0]&&(n(25,o=K.getDerivedFromVars(W.ranges)),N(),N=qe(o,(e=>n(41,$=e)))),1&e.$$.dirty[0]&&(n(24,s=K.getDerivedFromVars(W.images)),A(),A=qe(s,(e=>n(40,k=e)))),1&e.$$.dirty[0]&&(n(23,r=K.getDerivedFromVars({font_size:W.font_size,letter_spacing:W.letter_spacing,font_weight:W.font_weight,font_family:W.font_family,text_color:W.text_color,underline:W.underline,strike:W.strike,line_height:W.line_height})),H(),H=qe(r,(e=>n(27,C=e)))),1&e.$$.dirty[0]&&(n(22,a=K.getDerivedFromVars(W.font_size)),G(),G=qe(a,(e=>n(50,O=e)))),32&e.$$.dirty[0]|524288&e.$$.dirty[1]&&n(5,ne=si(O,ne)),1&e.$$.dirty[0]&&(n(21,l=K.getDerivedFromVars(W.line_height)),Z(),Z=qe(l,(e=>n(49,D=e)))),32&e.$$.dirty[0]|262144&e.$$.dirty[1]){const e=D;Bn(e)?(n(29,ie=Number(e)/ne),n(9,oe=!0)):n(9,oe=!1)}if(1&e.$$.dirty[0]&&(n(20,c=K.getDerivedFromVars(W.max_lines)),V(),V=qe(c,(e=>n(46,L=e)))),32768&e.$$.dirty[1]&&n(7,d=1===L),536870912&e.$$.dirty[0]|34304&e.$$.dirty[1]){let e="",t="",i=!1;if(L&&L>1){let n=Number(L);e=n*ie+"em",$||k||(t=n,i=!0)}n(30,se=e),n(31,re=t),n(32,ae=i)}if(1&e.$$.dirty[0]&&(n(19,u=K.getDerivedFromVars(W.text_alignment_horizontal)),F(),F=qe(u,(e=>n(48,j=e)))),131076&e.$$.dirty[1]&&n(33,le=function(e,t){return"left"===e||"center"===e||"right"===e?e:t}(j,le)),1&e.$$.dirty[0]&&(n(18,p=K.getDerivedFromVars(W.text_alignment_vertical)),q(),q=qe(p,(e=>n(47,E=e)))),65544&e.$$.dirty[1]&&n(34,ce=function(e,t){return"top"===e||"center"===e||"bottom"===e||"baseline"===e?e:t}(E,ce)),16&e.$$.dirty[0]|1024&e.$$.dirty[1]&&n(39,h=!$||te&&1===$.length&&$[0]&&0===$[0].start&&"number"==typeof $[0].end&&$[0].end>=te.length),1&e.$$.dirty[0]&&(n(17,g=K.getDerivedFromVars(W.text_color)),U(),U=qe(g,(e=>n(45,M=e)))),17408&e.$$.dirty[1]&&n(38,m=Boolean(M)!==Boolean($&&$[0]&&$[0].text_color)),50576&e.$$.dirty[1]){let e="";L&&h&&m&&(e=rn(M||$&&$[0]&&$[0].text_color,1,de)),n(35,de=e)}if(1&e.$$.dirty[0]&&(n(16,f=K.getDerivedFromVars(W.truncate)),B(),B=qe(f,(e=>n(44,T=e)))),8192&e.$$.dirty[1]&&n(37,v="none"===T?"none":""),1&e.$$.dirty[0]&&(n(15,b=K.getDerivedFromVars(W.text_gradient)),P(),P=qe(b,(e=>n(43,S=e)))),4096&e.$$.dirty[1]){let e="";if(S){const t=dn([S]);t.image&&(e=t.image)}n(36,ue=e)}1&e.$$.dirty[0]&&(n(14,_=K.getDerivedFromVars(W.selecta$$.dirty[0]|2048&e.$$.dirty[1]&&n(6,pe=function(e,t){return 1===e||0===e||!1===e||!0===e?Boolean(e):t}(I,pe)),16&e.$$.dirty[0]|1536&e.$$.dirty[1]&&function(e,t,i){let o=[];if(ge.forEach((e=>{let[t,n]=e;K.removeSvgFilter(t,n)})),ge=[],!(Array.isArray(t)&&t.length||Array.isArray(i)&&i.length&&e))return void n(10,he=[]);const s=e;let r=t||[{start:0,end:s.length}],a=i||[],l=0,c=[],d=[];r.forEach((e=>{void 0!==e.start&&void 0!==e.end&&(d.push({index:e.start,range:e,type:"rangeStart",isStart:!0}),d.push({index:e.end,range:e,type:"rangeEnd"}))})),a.forEach(((e,t)=>{void 0!==e.start&&e.url&&e.start<=s.length&&d.push({index:e.start,image:e,type:"image",arrayIndex:t})})),d.sort(((e,t)=>e.index===t.index?e.type!==t.type?"image"===e.type?-1:"image"===t.type?1:e.type<t.type?-1:1:"image"===e.type&&"image"===t.type?t.arrayIndex-e.arrayIndex:"rangeStart"===e.type&&"rangeStart"===t.type?e.range.end-t.range.end:"rangeStart"===e.type?1:"rangeStart"===t.type?-1:"image"!==e.type&&"image"!==t.type?e.range.start-t.range.start:0:e.index-t.index)),d.forEach((e=>{var t;let n="image"===e.type?null:e.range,i=e.index;if(i>l){let n=Object.assign(Object.ass;o.push({text:s.substring(l,i),textStyles:n,actions:"rangeEnd"===e.type&&(null===(t=e.range)||void 0===t?void 0:t.actions)||void 0})}if("rangeStart"===e.type&&n)c.push(n);else if("rangeEnd"===e.type)c=c.filter((t=>t!==e.range));else if("image"===e.type){let t=Object.assign(Object.assign({},C),...c),n=on(10*(e.image.width&&e.image.width.value||20)/(t.font_size||12)),i=on(10*(e.image.height&&e.image.height.value||20)/(t.font_size||12));const s={"font-size":on(10*(Number(t.font_size)||12)/ne)};let r="";const a=e.image.tint_color,l=ui(e.image.tint_mode,"source_in");if(a){const t=rn(e.image.tint_color);r=K.addSvgFilter(t,l),ge.push([t,l])}o.push({image:{url:e.image.url,width:n,height:i,wrapperStyle:s,svgFilterId:r}})}l=i})),l<s.length&&o.push({text:s.substring(l),textStyles:Object.assign({},C)}),n(10,he=o)}(te,$,k),128&e.$$.dirty[0]|78&e.$$.dirty[1]&&n(13,y={singleline:d,multiline:ae,halign:le,valign:ce,truncate:v}),32&e.$$.dirty[1]&&n(12,x={gradient:Boolean(ue)}),1610612768&e.$$.dirty[0]|49&e.$$.dirty[1]&&n(11,w={"font-size":on(ne),"line-height":ie,"max-height":se,"-webkit-line-clamp":re,color:de,"background-image":ue})},[W,J,X,Q,te,ne,pe,d,ee,oe,he,w,x,y,_,b,f,g,p,u,c,l,a,r,s,o,i,C,function(e){e.target&&"classList"in e.target&&e.target.classList.add(en.text__image_hidden)},ie,se,re,ae,le,ce,de,ue,v,m,h,k,$,I,S,T,M,L,E,j,D,O,z]}const $i={container:"divkit-b0274",container_wrap:"divkit-a2585",container_orientation_vertical:"divkit-e569d",container_valign_top:"divkit-df033",container_valign_center:"divkit-d784f",container_valign_bottom:"divkit-e840b","container_valign_space-between":"divkit-e094e","container_valign_space-around":"divkit-a71d9","container_valign_space-evenly":"divkit-c82a7",container_orientation_horizontal:"divkit-d29da",container_halign_left:"divkit-db0c8",container_halign_center:"divkit-d4db9",container_halign_right:"divkit-f6693","container_halign_space-between":"divkit-b36c2","container_halign_space-around":"divkit-a5b18","container_halign_space-evenly":"divkit-e8052",container_orientation_overlap:"divkit-e3078"};function Ci(e){return{top:Number(null==e?void 0:e.top)||0,right:Number(null==e?void 0:e.right)||0,bottom:Number(null==e?void 0:e.bottom)||0,left:Number(null==e?void 0:e.left)||0}}function Ii(e,t,n){const i=((null==t?void 0:t.margins.left)||0)+((null==t?void 0:t.margins.right)||0),o=((null==t?void 0:t.margins.top)||0)+((null==t?void 0:t.margins.bottom)||0);null!=t&&t.show_at_start&&(n?e.top=t.style.height+o:e.left=t.style.width+i),null!=t&&t.show_at_end&&(n?e.bottom=t.style.height+o:e.right=t.style.width+i)}function Si(e,t,n){let i;const o=((null==t?void 0:t.margins.left)||0)+((null==t?void 0:t.margins.right)||0),s=((null==t?void 0:t.margins.top)||0)+((null==t?void 0:t.margins.bottom)||0),r=((null==n?void 0:n.margins.left)||0)+((null==n?void 0:n.margins.right)||0),a=((null==n?void 0:n.margins.top)||0)+((null==n?void 0:n.margins.bottom)||0);return i="horizontal"===e?[null!=n&&n.show_between?n.style.height+a:0,null!=t&&t.show_between?t.style.width+o:0]:[null!=t&&t.show_between?t.style.height+s:0,null!=n&&n.show_between?n.style.width+r:0],i.map(on).join(" ")}function Ti(e,t,n){if(!(e&&e.shape&&e.shape.type&&t.includes(e.shape.type)&&"shape_drawable"===e.type))return n;let i;if("rounded_rectangle"===e.shape.type)o=e.shape,i={width:Number((null===(s=o.item_width)||void 0===s?void 0:s.value)||10),height:Number((null===(r=o.item_height)||void 0===r?void 0:r.value)||10),radius:Number(null!==(a=null===(l=o.corner_radius)||void 0===l?void 0:l.value)&&void 0!==a?a:5)};else{if("circle"!==e.shape.type)return n;i=function(e){var t;const n=2*Number((null===(t=e.radius)||void 0===t?void 0:t.value)||10);return{width:n,height:n,radius:n}}(e.shape)}var o,s,r,a,l;return function(e,t,n){var i;const o={},s=t.stroke||(null==n?void 0:n.stroke),r=null!=s&&s.color?rn(s.color):"",a=null!=s&&s.width?Number(null!==(i=s.width)&&void 0!==i?i:1):"";o.width=e.width,o.height=e.height,o.borderRadius=e.radius;const l=t.background_color||(null==n?void 0:n.color);return o.background=rn(l),r&&a&&(o.boxShadow="inset 0 0 0 ".concat(on(a)," ").concat(r)),o}(i,e.shape,{color:e.color,stroke:e.stroke})}let Mi;function Li(){if(void 0!==Mi)return Mi;const e=document.createElement("div");return e.style.position="absolute",e.style.display="flex",e.style.flexDirection="column",e.style.gap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Mi=1===e.scrollHeight,document.body.removeChild(e),Mi}const Ei={"container-separator":"divkit-a9eff","container-separator__item":"divkit-cf175","container-separator__shape":"divkit-c9986"};function ji(e,t,n){const i=e.slice();return i[13]=t[n],i}function Di(e){let t,n,i,o,s,r="".concat(e[13].style.width,"px"),a="".concat(e[13].style.height,"px"),l="".concat(e[13].style.borderRadius,"px"),c="".concat(e[13].left,"px"),d="".concat(e[13].top,"px"),u="".concat(e[13].width,"px"),p="".concat(e[13].height,"px");return{c(){t=ot("div"),n=ot("div"),o=at(),dt(n,"class",i=Ei["container-separator__shape"]),pt(n,"width",r),pt(n,"heig(n,"background",e[13].style.background),pt(n,"box-shadow",e[13].style.boxShadow),dt(t,"class",s=Ei["container-separator__item"]),pt(t,"left",c),pt(t,"top",d),pt(t,"width",u),pt(t,"height",p)},m(e,i){tt(e,t,i),et(t,n),et(t,o)},p(e,i){2&i&&r!==(r="".concat(e[13].style.width,"px"))&&pt(n,"width",r),2&i&&a!==(a="".concat(e[13].style.height,"px"))&&pt(n,"height",a),2&i&&l!==(l="".concat(e[13].style.borderRadius,"px"))&&pt(n,"border-radius",l),2&i&&pt(n,"background",e[13].style.background),2&i&&pt(n,"box-shadow",e[13].style.boxShadow),2&i&&c!==(c="".concat(e[13].left,"px"))&&pt(t,"left",c),2&i&&d!==(d="".concat(e[13].top,"px"))&&pt(t,"top",d),2&i&&u!==(u="".concat(e[13].width,"px"))&&pt(t,"width",u),2&i&&p!==(p="".concat(e[13].height,"px"))&&pt(t,"height",p)},d(e){e&&nt(t)}}}function Oi(e){let t,n,i,o,s=e[1],r=[];for(let t=0;t<s.length;t+=1)r[t]=Di(ji(e,s,t));return{c(){t=ot("div");for(let e=0;e<r.length;e+=1)r[e].c();dt(t,"class",n=Ei["container-separator"])},m(n,s){tt(n,t,s);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);e[10](t),i||(o=ct=n;if(2&i){let n;for(s=e[1],n=0;n<s.length;n+=1){const o=ji(e,s,n);r[n]?r[n].p(o,i):(r[n]=Di(o),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=s.length}},i:Oe,o:Oe,d(n){n&&nt(t),it(r,n),e[10](null),i=!1,o()}}}function zi(e,t,n,i,o,s){const r=t.margins.left,a=t.margins.right,l=t.margins.top,c=t.margins.bottom;s?e.push({top:n.bottom+l,left:o.left+r,width:Math.max(0,o.right-o.left-r-a),height:i.top-n.bottom-l-c,style:t.style}):e.push({top:o.top+l,left:n.right+r,width:i.left-n.right-r-a,height:Math.max(0,o.bottom-o.top-l-c),style:t.style})}function Ai(e,t,n,i){const o={top:Math.min(...n.map((e=>e.top))),right:Math.max(...n.map((e=>e.right))),bottom:Math.max(...n.map((e=>e.bottom))),left:Math.min(...n.map((e=>e.left)))};if((null==t?void 0:t.show_at_start)&&zi(e,t,{top:0,right:n[0].left-t.style.width-t.margins.left-t.margins.right,bottom:n[0].top-t.style.height-t.margins.top-t.margins.bottom,left:0},n[0],o,i),null==t?void 0:t.show_between)for(let s=0;s<n.length-1;++s)zi(e,t,n[s],n[s+1],o,i);if(null==t?void 0:t.show_at_end){const s=n[n.length-1];zi(e,t,s,{top:s.bottom+t.style.height+t.margins.top+t.margins.bottom,right:0,bottom:0,left:s.right+t.style.width+t.margins.left+t.margins.right},o,i)}}function Ni(e,t,n){let i,{orientation:o}=t,{separator:s}=t,{lineSeparator:r}=t;const a=function(e,t){let n,i=0,o=!1;return function(){const t=Date.now();return!i||Math.abs(t-i)>10?(i=t,n=e.apply(this,arguments)):(o||(o=!0,setTimeout((()=>{o=!1,n=e.apply(this,arguments)}),10)),n)}}((function(){if(!i)return;const e=i.getBoundingClientRect();n(1,c=[]);let t=[...i.children].filter((e=>e!==l&&!e.classList.contains(tn.outer__border))),a=[];for(;t.length;){const e=[],n=t.shift();e.push(n);let i=n.getBoundingClientRect(),s=i.right,r=i.bottom;for(;t.length;){let n=t[0],i=n.getBoundingClientRect();if("vertical"===o){if(i.top<r)break}else if(i.left<s)break;s=Math.max(s,i.right),r=Math.max(r,i.bottom),e.push(n),t.shift()}a.push(e)}const d=[];a.forEach((e=>{const t=e.map((e=>function(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e);return{top:t.top-parseFloat(n.marginTop),right:t.right+parseFloat(n.marginRight),bottom:t.bottom+parseFloat(n.marginBottom),left:t.left-parseFloat(n.marginLeft)}}(e)));s&&Ai(c,s,t,"vertical"===o);const n={top:Math.min(...t.map((e=>e.top))),right:Math.max(...t.map((e=>e.right))),bottom:Math.max(...t.map((e=>e.bottom))),left:Math.min(...t.map((e=>e.left)))};d.push(n)})),r&&Ai(c,r,d,"horizontal"===o),c.forEach((t=>{t.top-=e.top,t.left-=e.left}))}));let l,c=[],d=!1,u=null,p=null;function h(e){e.some((e=>{var t;const n=null===(t=e.targettains(Ei["container-separator"]))}))&&a()}return ft((()=>{n(6,d=!0)})),vt((()=>{n(6,d=!1)})),e.$$set=e=>{"orientation"in e&&n(3,o=e.orientation),"separator"in e&&n(4,s=e.separator),"lineSeparator"in e&&n(5,r=e.lineSeparator)},e.$$.update=()=>{1&e.$$.dirty&&n(9,i=(null==l?void 0:l.parentElement)||null),960&e.$$.dirty&&(d&&i||u||p)&&(u&&(u.disconnect(),n(7,u=null)),p&&(p.disconnect(),n(8,p=null)),d&&i&&("undefined"!=typeof MutationObserver&&(n(7,u=new MutationObserver(h)),u.observe(i,{childList:!0,attributes:!0,ci)))),576&e.$$.dirty&&d&&i&&a()},[l,c,a,o,s,r,d,u,p,i,function(e){wt[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}const Hi=class extends Gt{constructor(e){super(),Zt(this,e,Ni,Oi,Ue,{orientation:3,separator:4,lineSeparator:5})}},{Boolean:Ri}=Pt;function Pi(e,t,n){const i=e.slice();return i[46]=t[n],i}function Bi(e){let t,n;return t=new ii({props:{cls:bn("container",$i,e[11]),style:e[10],json:e[0],origJson:e[2],templateContext:e[1],layoutParams:e[3],additionalPaddings:e[15],heightByAspect:Boolean(e[8]),$$slots:{default:[qi]},$$scope:{ctx:e}}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};2048&n[0]&&(i.cls=bn("container",$i,e[11])),1024&n[0]&&(i.style=e[10]),1&n[0]&&(i.json=e[0]),4&n[0]&&(i.origJson=e[2]),2&n[0]&&(i.templateContext=e[1]),8&n[0]&&(i.layoutParams=e[3]),32768&n[0]&&(i.additionalPaddings=e[15]),256&n[0]&&(i.heightByAspect=Boolean(e[8])),4195040&n[0]|262144&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(Ht(t.$$.fragment,e),n=!0)},o(e){Rt(t.$$.fragment,e),n=!1},d(e){Ft(t,e)}}}function Ui(e){let t,n;return t=new Mo({props:{layoutParams:e[9],div:e[46].json,templateContext:e[46].templateContext,origJson:e[46].origJson}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};512&n[0]&&(i.layoutParams=e[9]),4194304&n[0]&&(i.div=e[46].json),4194304&n[0]&&(i.templateContext=e[46].templateContext),4194304&n[0]&&(i.origJson=e[46].origJson),t.$set(i)},i(e){n||(Ht(t.$$.fragment,e),n=!0)},o(e){Rt(t.$$.fragment,e),n=!1},d(e){Ft(t,e)}}}function Vi(e){let t,n;return t=new Hi({props:{separator:e[6],lineSeparator:e[7],orientation:e[5]}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};64&n[0]&&(i.separator=e[6]),128&n[0]&&(i.lineSeparator=e[7]),32&n[0]&&(i.orientation=e[5]),t.$set(i)},i(e){n||(Ht(t.$$.}function qi(e){let t,n,i,o=e[22],s=[];for(let t=0;t<o.length;t+=1)s[t]=Ui(Pi(e,o,t));const r=e=>Rt(s[e],1,1,(()=>{s[e]=null}));let a=(e[6]||e[7])&&Vi(e);return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=at(),a&&a.c(),n=lt()},m(e,o){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,o);tt(e,t,o),a&&a.m(e,o),tt(e,n,o),i=!0},p(e,i){if(4194816&i[0]){let n;for(o=e[22],n=0;n<o.length;n+=1){const r=Pi(e,o,n);s[n]?(s[n].p(r,i),Ht(s[n],1)):(s[nn&entNode,n)):a&&(At(),Rt(a,1,1,(()=>{a=null})),Nt())},i(e){if(!i){for(let e=0;e<o.length;e+=1)Ht(s[e]);Ht(a),i=!0}},o(e){s=s.filter(Ri);for(let e=0;e<s.length;e+=1)Rt(s[e]);Rt(a),i=!1},d(e){it(s,e),e&&nt(t),a&&a.d(e),e&&nt(n)}}}function Fi(e){let t,n,i=!e[4]&&Bi(e);return{c(){i&&i.c(),t=lt()},m(e,o){i&&i.m(e,o),tt(e,t,o),n=!0},p(e,n){e[4]?i&&(At(),Rt(i,1,1,(()=>{i=null})),Nt()):i?(i.p(e,n),16&n[0]&&Ht(i,1)):(i=Bi(e),i.c(),Ht(i,1),i.m(t.parentNode,t))},i(e){n||(Ht(i),n=!0)},o(e){Rt(i),n=!1},d(e){i&&i.d(e),e&&nt(t)}}}function Zi(e,t,n){let i,o,s,r,a,l,c,d,u,p,h,g,m,f,v,b,_,y,x,w,k,$,C,I,S=Oe,T=Oe,M=Oe,L=Oe,E=Oe,j=Oe,D=Oe,O=Oe,z=Oe;var A,N,H,R,P,B;e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>z()));let{json:U={}}=t,{templateContext:V}=t,{origJson:q}=t,{layoutParams:F}=t;const Z={left:"start",center:"center",right:"end","space-between":"start","space-around":"start","space-evenly":"start"},G={top:"start",center:"center",bottom:"end",baseline:"baseline","space-between":"start","space-around":"start","space-evenly":"start"},Y=["rounded_rectangle","circle"],W=_t(Qt);let J,X=!1,Q="vertical",K="top",ee="left",te=null,ne=null,ie={};return e.$$set=e=>{"json"in e&&n(0,U=e.json),"templateContext"in e&&n(1,V=e.templateContext),"origJson"in e&&n(2,q=e.origJson),"layoutParams"in e&&n(3,F=e.layoutParams)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&n(32,i=U.items),2&e.$$.dirty[1]&&((null==i?void 0:i.length)&&Array.isArray(i)?n(4,X=!1):(n(4,X=!0),W.logError(Kt(new Error('Incorrect or empty "items" prop for div "container"'))))),18&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(22,o=(!X&&i||[]).map((e=>{let t=e,n=V;return({templateContext:n,json:t}=W.processTemplate(t,n)),{json:t,templateContext:n,origJson:e}}))),1&e.$$.dirty[0]&&(n(21,s=W.getDerivedFromVars(U.orientation)),z(),z=qe(s,(e=>n(41,I=e)))),32&e.$$.dirty[0]|1024&e.$$.dirty[1]&&n(5,Q=function(e,t){return"vertical"===e||"horizontal"===e||"overlap"===e?e:t}(I,Q)),1&e.$$.dirty[0]&&(n(20,r=W.getDerivedFromVars(U.content_alignment_vertical)),O(),O=qe(r,(e=>n(40,C=e)))),536870912&e.$$.dirty[0]|512&e.$$.dirty[1]&&n(29,K=function(e,t){return"top"===e||"center"===e||"bottom"===e||"baseline"===e||"space-between"===e||"space-around"===e||"space-evenly"===e?e:t}(C,K)),1&e.$$.dirty[0]&&(n(19,a=W.getDerivedFromVars(U.content_alignment_horizontal)),D(),D=qe(a,(e=>n(39,$=e)))),1073741824&e.$$.dirty[0]|256&e.$$.dirty[1]&&n(30,ee=function(e,t){return"left"===e||"center"===e||"right"===e||"space-between"===e||"space-around"===e||"space-evenly"===e?e:t}($,ee)),1&e.$$.dirty[0]&&(n(18,l=W.getDerivedFromVars(U.layout_mode)),j(),j=qe(l,(e=>n(38,k=e)))),128&e.$$.dirty[1]&&n(31,c="wrap"===k),1&e.$$.dirty[0]&&(n(17,d=W.getDerivedFromVars(U.separator)),E(),E=qe(d,(e=>n(37,w=e)))),58720352&e.$$.dirty[0]|64&e.$$.dirty[1])if((null==w?void 0:w.style)&&"overlap"!==Q&&Li()){const e=Ti(w.style,Y,(null==te?void 0:te.style)||null);n(6,te=e?{show_at_start:Boolean(null!==n(23,A=w.show_at_start)&&void 0!==A&&A),show_at_end:Boolean(null!==n(24,N=w.show_at_end)&&void 0!==N&&N),show_between:Boolean(null===n(25,H=w.show_between)||void 0===H||H),style:e,margins:Ci(w.margins)}:null)}else n(6,te=null);if(1&e.$$.dirty[0]&&(n(16,u=W.getDerivedFromVars(U.line_separator)),L(),L=qe(u,(e=>n(36,x=e)))),469762208&e.$$.dirty[0]|32&e.$$.dirty[1])if((null==x?void 0:x.style)&&"overlap"!==Q&&Li()){const e=Ti(x.style,Y,(null==ne?void 0:ne.style)||null);n(7,ne=e?{show_at_start:Boolean(null!==n(26,R=x.show_at_start)&&void 0!==R&&R),show_at_end:Boolean(null!==n(27,P=x.show_at_end)&&void 0!==P&&P),show_between:Boolean(null===n(28,B=x.show_between)||void 0===B||B),style:e,margins:Ci(x.margins)}:null)}else n(7,ne=null);if(224&e.$$.dirty[0]&&n(15,p=te||ne?function(e,t,n){const i={};return Ii(i,t,"vertical"===e),Ii(i,n,"horizontal"===e),i}(Q,te,ne):null),1&e.$$.dirty[0]&&(n(14,h=W.getDerivedFromVars(U.aspect)),M(),M=qe(h,(e=>n(35,y=e)))),16&e.$$.dirty[1]){const e=null==y?void 0:y.ratio;e&&Bn(e)?n(8,J=e):n(8,J=void 0)}if(1&e.$$.dirty[0]&&(n(13,g=W.getDerivedFromVars(U.width)),S(),S=qe(g,(e=>n(33,b=e)))),1&e.$$.dirty[0]&&(n(12,m=W.getDerivedFromVars(U.height)),T(),T=qe(m,(e=>n(34,_=e)))),1610613544&e.$$.dirty[0]|13&e.$$.dirty[1]){let e={};(null==F?void 0:F.fakeElement)&&(e.fakeElement=!0),"overlap"===Q&&(e.overlapParent=!0),"horizontal"!==Q&&(e.parentHAlign=Z[ee],J||_&&"wrap_content"!==_.type&&("match_parent"!==_.type||!(null==F?void 0:F.parentVerticalWrapContent))||(e.parentVerticalWrapContent=!0)),"vertical"!==Q&&(e.parentVAlign=G[K],("wrap_content"===(null==b?void 0:b.type)||"match_parent"===(null==b?void 0:b.type)&&(null==F?void 0:F.parentHorizontalWrapContent))&&(e.parentHorizontalWrapContent=!0)),"horizontal"===Q&&(e.parentContainerOrientation="horizontal"),"vertical"===Q&&(e.parentContainerOrientation="vertical"),c&&(e.parentContainerWrap=!0),n(9,ie=Sn(e,ie))}1610612768&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(11,f={orientation:Q,valign:K,halign:ee,wrap:c}),480&e.$$.dirty[0]&&n(10,v={gap:te||ne?Si(Q,te,ne):void 0,"aspect-ratio":J})},[U,V,q,F,X,Q,te,ne,J,ie,v,f,m,g,h,p,u,d,l,a,r,s,o,A,N,H,R,P,B,K,ee,c,i,b,_,y,x,w,k,$,C,I]}const Gi={separator:"divkit-ab686",separator_orientation_horizontal:"divkit-f467e",separator_orientation_vertical:"divkit-bc7ad",separator__inner:"divkit-f101c"};function Yi(e,t){return"vertical"===e||"horizontal"===e?e:t}function Wi(e){let t,n,i;return{c(){t=ot("span"),dt(t,"class",n=Gi.separator__inner),dt(t,"style",i=nn(e[5]))},m(e,n){tt(e,t,n)},p(e,n){32&n&&i!==(i=nn(e[5]))&&dt(t,"style",i)},d(e){e&&nt(t)}}}function Ji(e){let t,n=e[6]&&Wi(e);return{c(){n&&n.c(),t=lt()},m(e,i){n&&n.m(e,i),tt(e,t,i)},p(e,i){e[6]?n?n.p(e,i):(n=Wi(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&nt(t)}}}function Xi(e){let t,n;return t=new ii({props:{cls:bn("separator",Gi,e[4]),json:e[0],origJson:e[2],templateContext:e[1],layoutParams:e[3],$$slots:{default:[Ji]},$$scope:{ctx:e}}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){let[i]=n;const o={};16&i&&(o.cls=bn("separator",Gi,e[4])),1&i&&(o.json=e[0]),4&i&&(o.origJson=e[2]),2&i&&(o.templateContext=e[1]),8&i&&(o.layoutParams=e[3]),16480&i&&(o.$$scope={dirty:i,ctx:e}),t.$set(o)},i(e){n||(Ht(t.$$.fragment,e),n=!0)},o(e){Rt(t.$$.fragment,e),n=!1},d(e){Ft(t,e)}}}function Qi(e,t,n){let i,o,s,r,a,l,c,d=Oe;e.$$.on_destroy.push((()=>d()));let{json:u={}}=t,{templateContext:p}=t,{origJson:h}=t,{layoutParams:g}=t;const m=_t(Qt);let f="horizontal",v="rgba(0,0,0,0.08)";return e.$$set=e=>{"json"in e&&n(0,u=e.json),"templateContext"in e&&n(1,p=e.templateContext),"origJson"in e&&n(2,h=e.origJson),"layoutParams"in e&&n(3,g=e.layoutParams)},e.$$.update=()=>{1&e.$$.dirty&&(n(7,i=m.getDerivedFromVars(u.delimiter_style)),d(),d=qe(i,(e=>n(12,c=e)))),4352&e.$$.dirty&&n(8,f=Yi(null==c?void 0:c.orientation,f)),4096&e.$$.dirty&&n(6,o=!((null==c?void 0:c.color)&&("transparent"===c.color||9===c.color.length&&0===c.color.indexOf("#00")))),4608&e.$$.dirty&&n(9,v=rn(null==c?void 0:c.color,1,v)),256&e.$$.dirty&&n(11,s="horizontal"===f?"100%":on(1)),256&e.$$.dirty&&n(10,r="horizontal"===f?on(1):"100%"),3584&e.$$.dirty&&n(5,a={background:v,width:s,height:r}),256&e.$$.dirty&&n(4,l={orientation:f})},[u,p,h,g,l,a,o,i,f,v,r,s,c]}const Ki={image:"divkit-dd314","image_is-width-content":"divkit-c3744","image_is-height-content":"divkit-fb6db",image__image:"divkit-d4c95",image_error:"divkit-b441d","image__aspect-wrapper":"divkit-c7ac5",image_aspect:"divkit-dfe61",image_loaded:"divkit-a5a8e","divkit-image-appearance":"divkit-c3905","image_before-appearance":"divkit-beb15"};function eo(e){let t,n;return t=new ii({props:{cls:bn("image",Ki,e[10]),json:e[0],origJson:e[2],templateContext:e[1],layoutParams:e[3],customDescription:!0,$$slots:{default:[oo]},$$scope:{ctx:e}}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};1024&n[0]&&(i.cls=bn("image",Ki,e[10])),1&n[0]&&(i.json=e[0]),4&n[0]&&(i.origJson=e[2]),2&n[0]&&(i.templateContext=e[1]),8&n[0]&&(i.layoutParams=e[3]),67312&n[0]|536870912&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(Ht(t.$$.fragment,e),n=!0)},o(e){Rt(t.$$.fragment,e),n=!1},d(e){Ft(t,e)}}}function to(e){let t,n,i,o,s,r,a;return{c(){t=ot("img"),dt(t,"class",n=Ki.image__image),Be(t.src,i=e[4]===ao?ro:e[7])||dt(t,"src",i),dt(t,"loading","lazy"),dt(t,"decoding","async"),dt(t,"style",o=nn(e[9])),dt(t,"alt",e[16]),dt(t,"aria-hidden",s=e[16]?null:"true")},m(n,i){tt(n,t,i),r||(a=[ct(t,"load",e[26]),ct(t,"error",e[27])],r=!0)},p(e,n){144&n[0]&&!Be(t.src,i=e[4]===ao?ro:e[7])&&dt(t,"src",i),512&n[0]&&o!==(o=nn(e[9]))&&dt(t,"style",o),65536&n[0]&&dt(t,"alt",e[16]),65536&n[0]&&s!==(s=e[16]?null:"true")&&dt(t,"aria-hidden",s)},d(e){e&&nt(t),r=!1,He(a)}}}function no(e){let t,n,i,o,s,r,a,l,c,d="".concat(e[5],"%");return{c(){t=ot("span"),n=ot("img"),dt(n,"class",i=Ki.image__image),Be(n.src,o=e[4]===ao?ro:e[7])||dt(n,"src",o),dt(n,"loading","lazy"),dt(n,"decoding","async"),dt(n,"style",s=nn(e[9])),dt(n,"alt",e[16]),dt(n,"aria-hidden",r=e[16]?null:"true"),dt(t,"class",a=Ki["image__aspect-wrapper"]),pt(t,"padding-bottom",d)},m(i,o){tt(i,t,o),et(t,n),l||(c=[ct(n,"load",e[26]),ct(n,"error",e[27])],l=!0)},p(e,i){144&i[0]&&!Be(n.src,o=e[4]===a,512&i[0]&&s!==(s=nn(e[9]))&&dt(n,"style",s),65536&i[0]&&dt(n,"alt",e[16]),65536&i[0]&&r!==(r=e[16]?null:"true")&&dt(n,"aria-hidden",r),32&i[0]&&d!==(d="".concat(e[5],"%"))&&pt(t,"padding-bottom",d)},d(e){e&&nt(t),l=!1,He(c)}}}function io(e){let t;function n(e,t){return e[10].aspect?no:to}let i=n(e),o=i(e);return{c(){o.c(),t=lt()},m(e,n){o.m(e,n),tt(e,t,n)},p(e,s){i===(i=n(e))&&o?o.p(e,s):(o.d(1),o=i(e),oNode,t)))},d(e){o.d(e),e&&nt(t)}}}function oo(e){let t,n=e[6],i=io(e);return{c(){i.c(),t=lt()},m(e,n){i.m(e,n),tt(e,t,n)},p(e,o){64&o[0]&&Ue(n,n=e[6])?(i.d(1),i=io(e),i.c(),i.m(t.parentNode,t)):i.p(e,o)},d(e){e&&nt(t),i.d(e)}}}function so(e){let t,n,i=!e[8]&&eo(e);return{c(){i&&i.c(),t=lt()},m(e,o){i&&i.m(e,o),tt(e,t,o),n=!0},p(e,n){e[8]?i&&(At(),Rt(i,1,1,(()=>{i=null})),Nt()):i?(i.p(e,n),256&n[0]&&Ht(i,1)):(i=eo(e),i.c(),Ht(i,1),i.m(t.parentNode,t))},i(e){n||(Ht(i),n=!0)},o(e){Rt(i),n=!1},d(e){i&&i.d(e),e&&nt(t)}}}const ro="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ao=2;function lo(e,t,n){let i,o,s,r,a,l,c,d,u,p,h,g,m,f,v,b,_,y,x,w,k,$,C,I,S,T,M,L,E,j,D,O,z,A,N=Oe,H=Oe,R=Oe,P=Oe,B=Oe,U=Oe,V=Oe,q=Oe,F=Oe,Z=Oe,G=Oe,Y=Oe,W=Oe,J=Oe;e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>J()));let{jt,{origJson:K}=t,{layoutParams:ee}=t;const te=_t(Qt);let ne,ie=0,oe="rgba(0,0,0,0.08)",se=!1,re="",ae="none",le="50% 50%",ce="0",de="source_in",ue="",pe="",he=0,ge=0,me=0,fe="",ve="";return vt((()=>{te.removeSvgFilter(ne,de)})),e.$$set=e=>{"json"in e&&n(0,X=e.json),"templateContext"in e&&n(1,Q=e.templateContext),"origJson"in e&&n(2,K=e.origJson),"layoutParams"in e&&n(3,ee=e.layoutParams)},e.$$.update=()=>{var t;if(1&e.$$.dirty[0]&&(n(25,i=te.getDerivedFromVars(X.image_url)),J(),J=qe(i,(e=>n(55,A=e)))),1&e.$$.dirty[0]&&(n(24,o=te.getDerivedFromVars(X.gif_url)),W(),W=qe(o,(e=>n(54,z=e)))),25165824&e.$$.dirty[1]&&n(7,s=A||z),128&e.$$.dirty[0]&&n(4,ie=0),128&e.$$.dirty[0]&&(s?n(8,se=!1):(n(8,se=!0),te.logError(Kt(new Error('Missing "image_url" for "image"'))))),1&e.$$.dirty[0]&&(n(23,r=te.getDerivedFromVars(X.width)),Y(),Y=qe(r,(e=>n(53,O=e)))),4194304&e.$$.dirty[1]&&n(41,a="wrap_content"===(null==O?void 0:O.type)),1&e.$$.dirty[0]&&(n(22,l=te.getDerivedFromVars(X.height)),G(),G=qe(l,(e=>n(52,D=e)))),2097152&e.$$.dirty[1]&&n(40,c="wrap_content"===(null==D?void 0:D.type)),1&e.$$.dirty[0]&&(n(21,d=te.getDerivedFromVars(X.preview)),Z(),Z=qe(d,(e=>n(51,j=e)))),16&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&n(29,re=0!==ie&&ie!==ao||!j?"":'url("'.concat((t=j).startsWith("data:")?ln(t):"data:image/jpg;base64,".concat(ln(t)),'")')),1&e.$$.dirty[0]&&(n(20,u=te.getDerivedFromVars(X.placeholder_color)),F(),F=qe(u,(e=>n(50,E=e)))),16&e.$$.dirty[0]|524288&e.$$.dirty[1]&&function(e,t){n(28,oe=0===e||e===ao?rn(t,1,oe):"")}(ie,E),1&e.$$.dirty[0]&&(n(19,p=te.getDerivedFromVars(X.scale)),q(),q=qe(p,(e=>n(49,L=e)))),1073741824&e.$$.dirty[0]|262144&e.$$.dirty[1]&&n(30,ae=hn(L)||ae),1&e.$$.dirty[0]&&(n(18,h=te.getDerivedFromVars({content_alignment_horizontal:X.content_alignment_horizontal,content_alignment_vertical:X.content_alignment_vertical})),V(),V=qe(h,(e=>n(48,M=e)))),131072&e.$$.dirty[1]&&n(31,le=function(e,t){const n=e.content_alignment_horizontal,i=e.content_alignment_vertical;return n&&"left"!==n&&"center"!==n&&"right"!==n||i&&"top"!==i&&"center"!==i&&"bottom"!==i?t:gn(e)}(M,le)),1&e.$$.dirty[0]&&(n(17,g=te.getDerivedFromVars(X.accessibility)),U(),U=qe(g,(e=>n(47,T=e)))),65536&e.$$.dirty[1]&&n(16,m=(null==T?void 0:T.description)||""),1&e.$$.dirty[0]&&(n(15,f=te.getDerivedFromVars(X.aspect)),B(),B=qe(f,(e=>n(46,S=e)))),32768&e.$$.dirty[1]){const e=null==S?void 0:S.ratio;e&&Bn(e)?n(5,ce=(100/Number(e)).toFixed(2)):n(5,ce="0")}if(1&e.$$.dirty[0]&&(n(14,v=te.getDerivedFromVars(X.tint_color)),P(),P=qe(v,(e=>n(45,I=e)))),1&e.$$.dirty[0]&&(n(13,b=te.getDerivedFromVars(X.tint_mode)),R(),R=qe(b,(e=>n(44,C=e)))),24582&e.$$.dirty[1]){const e=I?rn(I):void 0,t=ui(C,de);e===ne&&t===de||(te.removeSvgFilter(ne,de),n(6,ue=e?te.addSvgFilter(e,t):""),n(32,ne=e),n(33,de=t))}if(1&e.$$.dirty[0]&&(n(12,_=te.getDerivedFromVars(X.appearance_animation)),H(),H=qe(_,(e=>n(43,$=e)))),4096&e.$$.dirty[1]&&$&&"fade"===$.type){const e=$;n(34,pe=Tn(e.interpolator,"ease_in_out").replace(/_/g,"-")),n(37,me=$n(e.duration,300)),n(36,ge=$n(e.start_delay,0)),n(35,he=$n(e.alpha,0))}if(1&e.$$.dirty[0]&&(n(11,y=te.getDerivedFromVars(X.filters)),N(),N=qe(y,(e=>n(42,k=e)))),2048&e.$$.dirty[1]){let e="",t="";Array.isArray(k)&&k.length&&(e=Un(k,te.logError)),e&&(t="polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"),n(38,fe=e),n(39,ve=t)}48&e.$$.dirty[0]|1544&e.$$.dirty[1]&&n(10,x={aspect:"0"!==ce,"is-width-content":a,"is-height-content":c,loaded:1===ie,"before-appearance":Boolean(pe)&&0===ie}),1879048272&e.$$.dirty[0]|505&e.$$.dirty[1]&&n(9,w={"background-image":re,"background-color":re?void 0:oe,"background-size":ae,"clip-path":ve||void 0,"object-fit":ae,"object-position":le,filter:[1===ie&&ue?"url(#".concat(ue,")"):"",fe].filter(Boolean).join(" "),"--divkit-appearance-interpolator":pe||void 0,"--divkit-appearance-fade-start":pe?he:void 0,"--divkit-appearance-delay":pe?"".concat(ge,"ms"):void 0,"--divkit-appearance-duration":pe?"".concat(me,"ms"):void 0})},[X,Q,K,ee,ie,ce,ue,s,se,w,x,y,_,b,v,f,m,g,h,p,u,d,l,r,o,i,function(){0===ie&&n(4,ie=1)},function(){0===ie&&n(4,ie=ao)},oe,re,ae,le,ne,de,pe,he,ge,me,fe,ve,c,a,k,$,C,I,S,T,M,L,E,j,D,O,z,A]}const co=class extends Gt{constructor(e){super(),Zt(this,e,lo,so,Ue,{json:0,templateContext:1,origJson:2,layoutParams:3},null,[-1,-1])}},uo={gallery:"divkit-e89ba",gallery_orientation_horizontal:"divkit-db3e3",gallery_orientation_vertical:"divkit-b4695",gallery__scroller:"divkit-c4b6b","gallery_scroll-snap":"divkit-a472d","gallery__items-grid":"divkit-a805e",gallery__items:"divkit-d789e",gallery__arrow:"divkit-afe51","gallery__arrow-icon":"divkit-e1274",gallery__arrow_left:"divkit-b6cc6",gallery__arrow_right:"divkit-c2947","gallery__arrow-icon-path":"divkit-dd66d"};function po(e){const t=[];let n=e[0],i=1;for(let o=1;o<=e.length;o++)e[o]!==n?(t.push(i>1?"repeat(".concat(i,", ").concat(n,")"):n),n=e[o],i=1):i++;return t.join(" ")}const{Boolean:ho}=Pt;function go(e,t,n){const i=e.slice();return i[72]=t[n],i[73]=t,i[74]=n,i}function mo(e,t,n){const i=e.slice();return i[75]=t[n],i}function fo(e){let t,n;return t=new ii({props:{cls:bn("gallery",uo,e[16]),json:e[0],origJson:e[2],templateContext:e[1],layoutParams:e[3],customPaddings:!0,customActions:"gallery",$$slots:{default:[wo]},$$scope:{ctx:e}}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};65536&n[0]&&(i.cls=bn("gallery",uo,e[16])),1&n[0]&&(i.json=e[0]),4&n[0]&&(i.origJson=e[2]),2&n[0]&&(i.templateContext=e[1]),8&n[0]&&(i.layoutParams=e[3]),335953872&n[0]|65536&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(Ht(t.$$.fragment,e),n=!0)},o(e){Rt(t.$$.fragment,e),n=!1},d(e){Ft(t,e)}}}function vo(e){let t,n;return t=new Mo({props:{layoutParams:e[8],div:e[75].json,templateContext:e[75].templateContext,origJson:e[75].origJson}}),{c(){Vt(t.$$.fragment)},m(e,i){qt(t,e,i),n=!0},p(e,n){const i={};256&n[0]&&(i.layoutParams=e[8]),67108864&n[0]&&(i.div=e[75].json),67108864&n[0]&&(i.templateContext=e[75].templateContext),67108864&n[0]&&(i.origJson=e[75].origJson),t.$set(it.0)},o(e){Rt(t.$$.fragment,e),n=!1},d(e){Ft(t,e)}}}function bo(e){let t,n,i,o,s,r=e[74],a=e[72],l=[];for(let t=0;t<a.length;t+=1)l[t]=vo(mo(e,a,t));const c=e=>Rt(l[e],1,1,(()=>{l[e]=null})),d=()=>e[60](t,r),u=()=>e[60](null,r);return{c(){t=ot("div");for(let e=0;e<l.length;e+=1)l[e].c();n=at(),dt(t,"class",i=uo.gallery__items),dt(t,"style",o=nn(e[17]))},m(e,i){tt(e,t,i);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null);et(t,n),d(),s=!0},p(i,p){if(e=i,67109120&p[0]){let i;for(a=e[72],i=0;i<a.length;i+=1){const o=mo(e,a,i);l[i]?(l[i].p(o,p),Ht(l[i],1)):(l[i]=vo(o),l[i].c(),Ht(l[i],1),l[i].m(t,n))}for(At(),i=a.length;i<l.|131072&p[0]&&o!==(o=nn(e[17])))&&dt(t,"style",o),r!==e[74]&&(u(),r=e[74],nt e=0;e<l.length;e+=1)Rt(l[e]);s=!1},d(e){e&&nt(t),it(l,e),u()}}}function _o(e){let t,n,i=e[12]&&e[9]&&yo(e),o=e[13]&&e[9]&&xo(e);return{c(){i&&i.c(),t=at(),o&&o.c()m(e,s),tt(e,n,s)},p(e,s){e[12]&&e[9]?i?i.p(e,s):(i=yo(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),e[13]&&e[9]?o?o.p(e,s):(o=xo(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(e){i&&i.d(e),e&&nt(t),o&&o.d(e),e&&nt(n)}}}function yo(e){let t,n,i,o,s=!e[29]&&function(e){let t,n,i,o;return{c(){t=st("svg"),n=st("path"),dt(n,"class",i=uo["gallery__arrow-icon-path"]),dt(n,"d","m10 16 8.3 8 1.03-1-4-6-.7-1 .7-1 4-6-1.03-1z"),dt(t,"class",o=uo["gallery__arrow-icon"]),dt(t,"xmlns","http://www.w3.org/2000/svg"),dt(t,"width","32"),dt(t,"height","32"),dt(t,"viewBox","0 0 32 32"),dt(t,"fill","none")},m(e,i){tt(e,t,i),et(t,n)},p:Oe,d(e){e&&nt(t)}}}();return{c(){t=ot("div"),s&&s.c(),dt(t,"class",n=e[29]||"".concat(uo.gallery__arrow," ").concat(uo.gallery__arrow_left))},m(n,r){tt(n,t,r),s&&s.m(t,null),i||(o=ct(t,"click",e[63]),i=!0)},p(e,t){e[29]||s.p(e,t)},d(e){e&&nt(t),s&&s.d(),i=!1,o()}}}function xo(e){let t,n,i,o,s=!e[30]&&function(e){let t,n,i,o;return{c(){t=st("svg"),n=st("path"),dt(n,"class",i=uo["gallery__arrow-icon-path"]),dt(n,"d","M221-.7-1-4-6 1.03-1 8.3 8z"),dt(t,"class",o=uo["gallery__arrow-icon"]),dt(t,"xmlns","http://www.w3.org/2000/svg"),dt(t,"width","32"),dt(t,"height","32"),dt(t,"viewBox","0 0 32 32"),dt(t,"fill","none")},m(e,i){tt(e)div"),s&&s.c(),dt(t,"class",n=e[30]||"".concat(uo.gallery__arrow," ").concat(uo.gallery__arrow_right))},m(n,r)(t,"click",e[64]),i=!0)},p(e,t){e[30]||s.p(e,t)},d(e){e&&nt(t),s&&s.d(),i=!1,o()}}}function wo(e){let t,n,i,o,s,r,a,l,c,d,u,p=e[26],h=[];for(let t=0;t<p.length;t+=1)h[t]=bo(go(e,p,t));const g=e=>Rt(h[e],1,1,(()=>{h[e]=null}));let m="horizontal"===e[6]&&_o(e);return{c(){t=ot("div"),n=ot("div");for(let e=0;e<h.length;e+=1)h[e].c();a=at(),m&&m.c(),l=lt(),dt(n,"class",i=uo["gallery__items-grid"]),dt(n,"style",o=nn(e[18])),dt(t,"class",s=uo.gallery__scroller+" "+(e[28]?Xt["root_restrict-scroll"]:"")),dt(t,"style",r=nn(e[7]))},m(i,o){tt(i,t,o),et(t,n);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(n,null);e[61](n),e[62](t),tt(i,a,o),m&&m.m(i,o),tt(i,l,o),c=!0,d||(u=ct(t,"scroll",(function(){Re(e[9]?e[32]:null)&&(e[9]?e[32]:null).apply(this,arguments)})),d=!0)},p(i,a){if(e=i,67242240&a[0]){let t;for(p=e[26],t=0;t<p.length;t+=1){const i=go(e,p,t);h[t]?(h[t].p(i,a),Ht(h[t],1)):(h[t]=bo(i),h[t].c(),Ht(h[t],1),h[t].m(n,null))}for(At(),t=p.length;t<h.length;t+=1)g(t);Nt()}(!c||262144&a[0]&&o!==(o=nn(e[18])))&&dt(n,"style",o),(!c||268435456&a[0]&&s-))&&dt(t,"style",r),"horizontal"===e[6]?m?m.p(e,a):(m=_o(e),m.c(),m.m(l.parentNode,l)):m&&(m.d(1),m=null)},i(e){if(!c){for(let e=0;e<p.length;e+=1)Ht(h[e]);c=!0}},o(e){h=h.filter(ho);for(let e=0;e<h.length;e+=1)Rt(h[e]);c=!1},d(n){n&&nt(t),it(h,n),e[61](null),e[62](null),n&&nt(a),m&&m.d(n),n&&nt(l),d=!1,u()}}}function ko(e){let t,n,i,o,s=!e[5]&&fo(e);return{c(){s&&s.c(),t=lt()},m(r,a){s&&s.m(r,a),tt(r,t,a),n=!0,i||(o=ct(window,"resize",(function(){Re(e[9]?e[33]:nu,arguments)})),i=!0)},p(n,i){(e=n)[5]?s&&(At(),Rt(s,1,1,(()=>{s=null})),Nt()):s?(s.p(e,i),32&i[0]&&Ht(s,1)):(s=fo(e),s.c(),Ht(s,1),s.m(t.parentNode,t))},i(e){n||(Ht(s),n=!0)},o(e){Rt(s),n=!1},d(e){s&&s.d(e),e&&nt(t),i=!1,o()}}}function $o(e,t,n){let i,o,s,r,a,l,c,d,u,p,h,g,m,f,v,b,_,y,x,w,k,$,C,I,S,T,M,L,E=Oe,j=Oe,D=Oe,O=Oe,z=Oe,A=Oe,N=Oe,H=Oe,R=Oe,P=Oe;e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>P()));let{json:B={}}=t,{templateContext:U}=t,{origJson:V}=t,{layoutParams:q}=t;const F=_t(Qt);let Z,G,Y=[],W=!1,J=!1,X=null,Q=!1;const K=F.getCustomization("galleryLeftClass"),ee=F.getCustomization("galleryRightClass");let te=!1;const ne=F.isDesktop;Fe(e,ne,(e=>n(59,M=e)));let ie,oe,se,re,ae=1,le="horizontal",ce="start",de=8,ue="",pe=[],he={},ge=!1,me={},fe=0;function ve(){if(!Z)return;const e=Z.scrofsetWidth;n(12,W=e>2),n(13,J=e+i<t-2)}const be=function(e,t){let n;return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((()=>{e.apply(this,i),n=null}),50)}}(ve);function _e(e){Z.scroll({left:Z.scrollLeft+.75*Z.offsetWidth*("right"===e?1:-1),behavior:"smooth"})}function ye(){let e=[],t=Y[0].children.length;for(let n=0;n<t;++n)for(let t=0;t<ae;++t){const i=Y[t].children[n];i&&e.push(i)}return e}function xe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"smooth";const i="horizontal"===le,o=i?"offsetLeft":"offsetTop",s=i?"left":"top";Z.scroll({[s]:Math.max(0,e[t][o]+.01-de/2),behavior:n})}function we(e){const t=ye(),n=Z.getBoundingClientRect(),i=t.findIndex((e=>function(e,t){return"horizontal"===le?t.left>=e.left&&t.right<=e.right:t.top>=e.top&&t.bottom<=e.bottom}(n,e.getBoundingClientRect())));if(-1!==i)return i;const o=t.map((e=>function(e,t){return"horizontal"===le?t.right>e.left&&e.right>t.left:t.bottom>e.top&&e.bottom>t.top}(n,e.getBoundingClientRect()))),s=o.findIndex(Boolean);return-1!==s?"prev"===e&&2===o.filter(Boolean).length?s+1:s:"prev"===e?1:t.length-2}return!B.id||te||(null==q?void 0:q.fakeElement)||F.registerInstance(B.id,{setCurrentItem(e){const t=ye();if(e<0||e>t.length-1)throw new Error('Item is out of range in "set-current-item" action');xe(t,e)},setPreviousItem(e){const t=we("prev"),n=ye();let i=t-1;i<0&&(i="ring"===e?n.length-1:t),xe(n,i)},setNextItem(e){const t="horizontal"===le?Z.scrollLeft+Z.offsetWidth===Z.scrollWidth:Z.scrollTop+Z.offsetHeight===Z.scrollHeight,n=ye();if(t&&"ring"===e)return void xe(n,0);const i=we("next");let o=i+1;o>n.length-1&&(o="ring"===e?0:i),xe(n,o)}}),ft((()=>{n(36,Q=!0),!te&&(ve(),fe)&&xe(ye(),fe,"auto")})),vt((()=>{n(36,Q=!1),B.id&&!(null==q?void 0:q.fakeElement)&&F.unregisterInstance(B.id)})),e.$$set=e=>{"json"in e&&n(0,B=e.json),"templateContext"in e&&n(1,U=e.templateContext),"origJson"in e&&n(2,V=e.origJson),"layoutParams"in e&&n(3,q=e.layoutParams)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&n(49,i=B.items),262144&e.$$.dirty[1]&&((null==i?void 0:i.length)&&Array.isArray(i)?n(5,te=!1):(n(5,te=!0),F.logError(Kt(new Error('Incorrect or empty "items" prop for div "gallery"'))))),34&e.$$.dirty[0]|262144&e.$$.dirty[1]&&n(48,o=(!te&&i||[]).map((e=>{let t=e,n=U;return({templateContext:n,json:t}=F.processTemplate(t,n)),{json:t,templateContext:n,origJson:e}}))),32&e.$$.dirty[0]|268435488&e.$$.dirty[1]&&n(9,s=M&&Q&&!te),528&e.$$.dirty[0]|16&e.$$.dirty[1]&&(s?"undefined"!=typeof ResizeObserver&&(n(35,X=new ResizeObserver((()=>{be()}))),X.observe(G)):X&&(X.disconnect(),n(35,X=null))),1&e.$$.dirty[0]&&(n(27,r=F.getDerivedFromVars(B.column_count)),R(),R=qe(r,(e=>n(58,T=e)))),134217792&e.$$.dirty[1]&&n(37,ae=si(T,ae)),131136&e.$$.dirty[1]&&n(26,a=function(e,t){let n=0,i=[];for(let o=0;o<e.length;++o)i[n]||(i[n]=[]),i[n].push(e[o]),++n>=t&&(n=0);return i}(o,ae)),1&e.$$.dirty[0]&&(n(25,l=F.getDerivedFromVars(B.orientation)),H(),H=qe(l,(e=>n(57,S=e)))),64&e.$$.dirty[0]|67108864&e.$$.dirty[1]&&n(6,le=Yi(S,le)),1&e.$$.dirty[0]&&(n(24,c=F.getDerivedFromVars(B.cross_content_alignment)),N(),N=qe(c,(e=>n(56,I=e)))),33554560&e.$$.dirty[1]&&n(38,ce=function(e,t){return"start"===e||"center"===e||"end"===e?e:t}(I,ce)),1&e.$$.dirty[0]&&(n(23,d=F.getDerivedFromVars(B.item_spacing)),A(),A=qe(d,(e=>n(55,C=e)))),16777728&e.$$.dirty[1]&&(n(40,de=$n(C,de)),n(39,ie=on(de))),1&e.$$.dirty[0]&&(n(22,u=F.getDerivedFromVars(B.cross_spacing)),z(),z=qe(u,(e=>n(54,$=e)))),8391168&e.$$.dirty[1]&&(n(42,se=$n($,de)),n(41,oe=on(se))),1&e.$$.dirty[0]&&(n(21,p=F.getDerivedFromVars(B.paddings)),O(),O=qe(p,(e=>n(53,k=e)))),4198400&e.$$.dirty[1]&&n(43,ue=kn(k,ue)),64&e.$$.dirty[0]&&n(47,h="ontal"===le?"grid-template-columns":"grid-template-rows"),64&e.$$.dirty[0]|131072&e.$$.dirty[1]){let e=[];o.forEach((t=>{const n="horizontal"===le?"width":"height";e.push(F.getDerivedFromVars(t.json[n]))})),n(14,re=Jt(e,(e=>e))),D(),D=qe(re,(e=>n(52,w=e)))}if(64&e.$$.dirty[0]|2105408&e.$$.dirty[1]&&(n(44,pe=[]),ae>1?pe.push("auto"):w.forEach((e=>{!e&&"horizontal"===le||"match_parent"===(null==e?void 0:e.type)?pe.push("100%"):pe.push("max-content")}))),1&e.$$.dirty[0]&&(n(20,g=F.getDerivedFromVars(B.scroll_mode)),j(),j=qe(g,(e=>n(51,x=e)))),456&e.$$.dirty[0]|1049280&e.$$.dirty[1]){const e={};let t={};n(45,ge=!1),(null==q?void 0:q.fakeElement)&&(t.fakeElement=!0),"horizontal"===le?t.parentVAlign=ce:t.parentHAlign=ce,"paging"===x&&(n(45,ge=!0),t.scrollSnap="start",e["horizontal"===le?"scroll-padding-left":"scroll-padding-top"]=on(de/2)),1===ae&&(t.parentLayoutOrientation=le),n(7,he=Sn(e,he)),n(8,me=Sn(t,me))}1&e.$$.dirty[0]&&(n(19,m=F.getDerivedFromVars(B.restrict_parent_scroll)),P(),P=qe(m,(e=>n(28,L=e)))),5120&e.$$.dirty[1]&&n(18,f={padding:ue,"grid-gap":oe}),73984&e.$$.dirty[1]&&n(17,v={"grid-gap":ie,[h]:po(pe)}),64&e.$$.dirty[0]|16384&e.$$.dirty[1]&&n(16,b={orientation:le,"scroll-snap":ge}),1&e.$$.dirty[0]&&(n(15,_=F.getDerivedFromVars(B1]&&n(46,fe=$n(y,fe))},[B,U,V,q,G,te,le,he,me,s,Z,Y,W,J,,ie,de,oe,se,ue,pe,ge,fe,h,o,i,y,x,w,k,$,C,I,S,T,M,function(e,t){wt[e?"unshift":"push"]((()=>{Y[t]=e,n(11,Y)}))},function(e){wt[e?"unshift":"push"]((()=>{G=e,n(4,G)}))},function(e){wt[e?"unshift":"push"]((("tion Io(e){let t,n,i;var o=e[5];function s(e){return{props:{json:e[3],templateContext:e[4],layoutParams:e[2],origJson:e[1]||e[0]}}}return o&&(t=ht(o,s(e))),{c(){t&&Vt(t.$$.fragment),n=lt()},,e,o),tt(e,n,o),i=!0},p(e,i){const r={};if(8&i&&(r.json=e[3]),16&i&&(r.templateContext=e[4]),4&i&&(r.layoutPar,n,&&i.m(e,o),tt(e,t,o),n=!0},p(e,n){let[o]=n;e[5]?i?(i.p(e,o),32&o&&Ht(i,1)):(i=Io(e),i.c(),Ht(i,1),i.m(t.parentNode,t)):i&&(At()origJson:s}=t,{layoutParams:r}=t;const a=_t(Qt);let l,c,d;return e.$$set=e=>{"div"in e&&n(0,i=e.div),"templateContext"in e&&n(6,o=e.templateContext),"origJson"in e&&n(1,s=e.origJson),"layoutParams"in e&&n(2,r=e.layoutParams)},e.$$.update=()=>{if(121&e.$$.dirty&&(n(3,l=i),n(4,c=o),n(5,d=l&&Co[l.type]||void 0),!d&&(n(4,({templateContext:c,json:l}=a.processTemplate(l,c)),c,(n(3,l),n(0,i),n(6,o),n(5,d),n(4,c))),n(5,d=l&&Co[l.type]||void 0),!d))){let e;e=(null==l?void 0:l.type)&&a.hasTemplate(l.type)?"Recursive template":"Unknown component",a.logError(Kt(new Error(e),{additional:{component(this,e,ki,wi,Ue,{json:0,templateContext:1,origJson:2,layoutParams:3},null,[-1,-1])}},Co.container=class extends Gt{constructor(e){super(),Zt(this,e,Zi,Fi,Ue,{json:0,templateContext:1,origJson:2,layoutParams:3},null,[-1,-1])}},Co.separator=class extends Gt{constructor(e){super(),Zt(this,e,Qi,Xi,Ue,{json:0,templateContr(e){super(),Zt(this,e,$o,ko,Ue,{json:0,templateContext:1,origJson:2,layoutParams:3},null,[-1,-1,-1])}};const Mo=class extends Gt{constructor(e){super(),Zt(this,e,To,So,Ue,{div:0,templateContext:6,origJson:1,layoutParams:2})}},Lo={"root-svg-filters":"divkit-b5eca"};function Eo(e,t,n){const i=e.slice();i[1]=t[n];const o=i[1].split(":");return i[2]=o[0],i[3]=o[1],i}function jo(e){let t,n,i,o=[...Object.keys(e[0])],s=[];for(let t=0;t<o.length;t+=1)s[t]=Ao(Eo(e,o,t));return{c(){t=st("svg"),n=st("defs");for(let e=0;e<s.length;e+=1)s[e].c();dt(t,"class",i=Lo["root-svg-filters"]),dt(t,"aria-hidden","true")},m(e,i){tt(e,t,i),et(t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(n,null)},p(e,t){if(1&t){let i;for(o=[...Object.keys(e[0])],i=0;i<o.length;i+=1){const r=Eo(e,o,i);s[i]?s[i].p(r,t):(s[i]=Ao(r),s[i].c(),s[i].m(n,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=o.length}},d(e){e&&nt(t),it(s,e)}}}function Do(e){let t,n;return{c(){t=st("feBlend"),dt(t,"in2","SourceGraphic"),dt(t,"mode",n=e[3])},m(e,n){tt(e,t,n)},p(e,i){1&i&&n!==(n=e[3])&&dt(t,"mode",n)},d(e){e&&nt(t)}}}function Oo(e){let t;return{c(){t=st("feComposite"),dt(t,"in2","SourceGraphic"),dt(t,"operator","arithmetic"),dt(t,"k1","1"),dt(t,"k2","0"),dt(t,"k3","0"),dt(t,"k4","0")},m(e,n){tt(e,t,n)},p:Oe,d(e){e&&nt(t)}}}function zo(e){let t,n;return{c(){t=st("feComposite"),dt(t,"in2","SourceGraphic"),dt(t,"operator",n=e[3].split("_")[1])},m(e,n){tt(e,t,n)},p(e,i){1&i&&n!==(n=e[3].split("_")[1])&&dt(t,"operator",n)},d(e){e&&nt(t)}}}function Ao(e){let t,n,i,o;function s(e,t){return"source_in"===e[3]||"source_atop"===e[3]?zo:"multiply"===e[3]?Oo:Do}let r=s(e),a=r(e);return{c(){t=st("filter"),n=st("feFlood"),a.c(),dt(n,"flood-colo,o=e[0][e[1]])},m(e,i){tt(e,t,i),et(t,n),a.m(t,null)},p(e,l){1&l&&i!==(i=e[2])&&dt(n,"floa.p(e,l):(a.d(1),a=r(e),a&&(a.c(),a.m(t,null))),1&l&&o!==(o=e[0][e[1]])&&dt(t,"id",o)},d(e){e&&nt(t),a.d()}}}function No(e){let t,n=Object.keys(e[0]).length,i=n&&jo(e);return{c(){i&&i.c(),t=lt()},m(e,n){i&&i.m(e,n),tt(e,t,n)},p(e,o){let[s]=o;1&s&&(n=Object.keys(e[0]).length,d(e){i&&i.d(e),e&&nt(t)}}}function Ho(e,t,n){let{svgFiltersMap:i}=t;return e.$$set=e=>{"svgFiltersMap"in e&&n(0,i=e.svgFiltersMap)},[i]}const Ro=class extends Gt{constructor(e){super(),Zt(this,e,Ho,No,Ue,{svgFiltersMap:0})}};function Po(e,t,n,i){const o=n[e.type];if(!o)return i(Kt(new Error("No such template"),{additional:{template:eemplateContextfor(s in t)t.hs]=t[s]);for(s in e)"type"!==s&&"__proto__"!==s&&e.hasOwnProperty(s)&&(r[s]=e[s]);const a=function e(t,n){const i=Object.keys(n).filter((e=>"__proto__"!==e)),o=i.filter((e=>"$"!==e.charAt(0))),s=i.filter((e=>"$"===e.charAt(0)));return o.forEach((i=>{const o=n[i];"object"==typeof o&&null!==o?(t[i]=Array.isArray(o)?[]:{},e(t[i],o)):t[i]=o})),s.forEach((e=>{const];if(void 0!==o){const n=e.substring(1);t[n]=o}})),t}({},o);for(s in e)"type"!==s&&"__proto__"!==s&&e.hasOwnProperty(s)&&(a[s]=e[s]);return{json:a,templateContext:r}}function Bo(){}function Uo(e){return{subscribe:t=>(t(e),Bo)}}class Vo{constructor(e){this.variable=e}apply(e,t){const n=e.get(this.variable);if(n)return n.getValue()}}function qo(e,t,n){if(e)if("string"==typeof e){if((i=e).indexOf("@{")>-1||i.indexOf("\\")>-1){if(t.hasExpression=!0,"@{}"===e)return"";if(e.startsWith("@{")&&e.endsWith("}"))return new Vo(e.substring(2,e.length-1));try{return function(e){let t="",n=!1,i=!1;for(let o=0;o<e.length;++o){const s=e.charAt(o);if("\\"===s)n&&(n=!1,t+="@"),i?(t+=s,i=!1):i=!0;else if("@"===s)i||n?t+=s:n=!0;else if("{"===s){if(n)throw new Error("Expressions is not supported");t+=s}else{if(i)throw new Error("Incorrect escape");n&&(n=!1,t+="@"),t+=s}i&&"\\"!==s&&(i=!1)}if(n&&(t+="@"),i)throw new Error("Incorrect escape");return t}(e)}catch(t){return void n(Kt(t,{additional:{expression:e}}))}}}else{if(Array.isArray(e))return e.map((e=>qo(e,t,n)));if("object"==typeof e){const i={};for(const o in e)i[o]=qo(e[o],t,n);return i}}var i;return e}function Fo(e,t,n){if(e){if(e instanceof Vo)return e.apply(t,n);if(Array.isArray(e))return e.map((e=>Fo(e,t,n)))=typeof e){const io],t,n);return i}}return e}fun1},i=qo(e,n,t);return{vars:[...new Set(n.vars)],hasExpression:n.hasExpression,applyVars:e=>Fo(i,e,t)}}const Go={pagers:function(){return Wt(new Map)}},Yo="function"==typeof BigInt;function Wo(e){return Yo?BigInt(e):Number(e)}const Jo=Wo("9223372036854775807"),Xo=Wo("-9223372036854775808");function Qo(e){const t=Wo(e);if(t>Jo||t<Xo)throw new Error("tor(e,t){const n=this.convertValue(t);this.name=e,this.value=n}getName(){return this.name}subscribe(e){return this.store||(this.store=Wt(this.value)),this.store.subscribe(e)}set(e){const t=this.fromString(e);this.setValue(t)}setValue(e){const t=this.convertValue(e);this.value=t,this.store&&this.store.set(t)}getValue(){return this.value}}const es={string:class extends Ko{convertValue(e){if("string"!=typeof e)throw new Error("Incorrect variable value");return e}fromString(e){return e}getType(){return"string"}},number:class extends Ko{convertValue(e){if("number"!=typeof e||isNaN(e)||!isFinite(e))throw new Error("Incorrect variable value");return e}fromString(e){const t=Number(e);return this.convertValue(t)}getType(){retulue(e){if("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&(isNaN(e)||e!==Math.round(e))||e>Jo||e<Xo)throw new Error("Incorrect variable value");return Qo(e)}fromString(e){const t=Qo(e);return this.convertValue(t)}getType(){return"integer"}},boolean:class extends Ko{convertValue(e){if(1!==e&&0!==e&&!0!==e&&!1!==e)throw new Error("Incorrect variable value");return Number(e)}fromString(e){if("1"===e||"true"===e)return 1;irror("Incorrect variable value")}getType(){return"boolean"ble value");return e}fromString(e){return this.convertValue(e)}getType(){return"color"}},url:class extends Ko{convertValue(e){if("string"!=,dict:class extends Ko{convertValue(e){if("object"!=typeof e||!e)throw new Error("Incorrect variable value");return e}fromString(e){throw new Error("Dict variable does not support setter from string")}getType(){return"dict"}}};function ts(e,t,n){if(!(t in es))throw new Error("Unsupported variable type");return new es[t](e,n)}const ns=new Map,is=new Map;function os(e){const t=ns.get(e)||Wt("");return ns.has(e)||ns.set(e,t),t}fun,t}class rs{setVariable(e){const t=e.getName(),n=ss(this);if(n.has(t))throw new Error("Variable with the same name already exist");n.set(t,e),os(this).set(t)}getVariable(e){return ss(this).get(e)}}function as(){return new rs}function ls(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cs=new Set(["start","stop","pause","resume","cancel","reset"]);class ds{constructor(e){ls(this,"timers",new Map),ls(this,"awaitActions",[]),this.logError=e.logError,this.applyVars=e.appe,this.setVariableValue=e.setVariableValue,this.execAnyActions=e.execAnyActions,this.visibilityHandler=()=>{"visible"===document.visibilityState?(this.awaitActions.forEach((e=>{let{id:t,action:n}=e;this.execTimerAction(t,n)})),this.awaitActions=[],this.unholdAll()):this.holdAll()},document.addEventListener("visibilitychange",this.visibilityHandler)}destroy(){document.removeEventListener("visibilitychange",this.visibilityHandler);for(const[e,t]of this.timers)this.stopTimerTimeouts(t)}createTimer(e){null!=e&&e.id?e.duration||e.tick_interval&&(e.value_variable||e.tick_actions)?this.timers.set(e.id,{state:"stopped",definition:e}):this.logError(Kt(new Error("Misconfigured timer"),{additional:{id:e.id}})):this.logError(Kt(new Error("Missing timer id")))}execTimerAction(e,t){if(!(e&&t&&this.timers.has(e)&&cs.has(t)))return void this.logError(Kt(new Error("Incorrect timer action"),{additional:{id:e,action:t}}));const n=t;if("visible"!==document.visibilityState)return void this.awaitActions.push({id:e,action:n});const i=this.timers.get(e);this[n](i)}stopTimerTimeouts(e){e.durationTimeout&&(clearTimeout(e.durationTimeout),e.durationTimeout=void 0),e.tickTimeout&&(clearTimeout(e.tickTimeout),e.tickTimeout=void 0)}tickOrUnholdAction(e){const t=performance.now(),n=(e.durationPassed||0)+t-(e.durationStarted||0);e.duration&&n>e.duration||(this.updateVariable(e,n),this.callActions(e,"tick"),void 0!==e.tickCount&&++e.tickCount)}startOrResume(e){e.state="running",e.hold=!1,e.durationStarted=performance.now();const t=e.duration;t&&(e.durationTimeout=window.setTimeout((()=>{this.updateVariable(e,t),e.tickCountPredict&&void 0!==e.tickCount&&e.tickCount<e.tickCountPredict&&this.callActions(e,"tick"),this.stop(e)}),Math.max(0,t-(e.durationPassed||0))));const n=e.tick;if(n){const t=()=>{const i=e.tickStarted=performance.now(),o=Math.max(0,n-(e.tickPassed||0));e.tickTimeout=window.setTimeout((()=>{this.tickOrUnholdAction(e),e.tickPassed=(performance.now()-i-o)%n,t()}),o)};t()}}start(e){if("running"===e.state)return void this.logError(Kt(new Error("The timer is already running")));if("paused"===e.state)return void this.logError(Kt(new Error("The timer is paused")));const t=e.definition.value_variable;!t||this.hasVariableWithType(t,"integer")?(t&&this.setVariableValue(t,0),e.definition.duration&&(e.duration=this.applyVars(e.definition.duration)),e.definition.tick_interval&&(e.tick=this.applyVars(e.definition.tick_interval)),void 0!==e.duration&&e.duration<0||void 0!==e.tick&&e.tick<=0?this.logError(Kt(new Error("Incorrect timer properties"),{additional:{id:e.definition.id}})):(void 0!==e.duration&&void 0!==e.tick&&(e.tickCount=0,e.tickCountPredict=Math.floor(e.duration/e.tick)),this.startOrResume(e))):this.logError(Kt(new Error("Cannot find variable"),{additional:{name:t}}))}stop(e){"stopped"!==e.state?(e.state="stopped",e.durationPassed=0,e.tickPassed=0,this.stopTimerTimeouts(e),this.callActions(e,"end")):this.logError(Kt(new Error("The timer has already been stopped")))}pause(e){if("stopped"===e.state)return void this.logError(Kt(new Error("The timer has already been stopped")));if("paused"===e.state)return void this.logError(Kt(new Error("The timer has already been paused")));e.state="paused",this.stopTimerTimeouts(e);const t=performance.now();e.durationStarted&&(e.durationPassed=(e.durationPassed||0)+t-e.durationStarted),e.tickStarted&&(e.tickPassed=(e.tickPassed||0)+t-e.tickStarted);const n=e.definition.value_variable;n&&e.durationPassed&&this.setVariableValue(n,Math.round(e.durationPassed))}resume(e){"stopped"!==e.state?"running"!==e.state?this.startOrResume(e):this.logErrorning"))):this.logError(Kt(new Error("The timer has already been stopped")))}cancel(e){"stopped"!==e.state&&(e.state="stopped",e.durationPassed=0,e.tickPassed=0,this.stopTimerTimeouts(e))}reset(e){this.cancel(e),this.start(e)}updateVariable(e,t){const n=e.definition.value_variable;n&&this.setVariableValue(n,Math.round(t))}callActions(e,t){const n=e.definition["end"===t?"end_actions":"tick_actions"];if(n){const e=this.applyVars(n);this.execAnyActions(e,!1)}}holdAll(){for(const[e,t]of this.timers)"running"===t.state&&(t.hold=!0,this.stopTimerTimeouts(t))}unholdAll(){for(const[e,t]of this.timers)if("running"===t.state&&t.hold){const e=performance.now();t.durationStarted&&(t.durationPassed=(t.durationPassed||0)+e-t.durationStarted),t.tickStarted&&(t.tickPassed=(t.tickPassed||0)+e-t.tickStarted),t.tick&&this.tickOrUnholdAction(t),this.startOrResume(t)}}}function us(e){let t,n,i,o,s,r,a,l;return n=new Ro({props:{svgFiltersMap:e[2]}}),o=new Mo({props:{div:e[3],templateContext:e[6]}}),{c(){t=ot("div"),Vt(n.$$.fragment),i=at(),Vt(o.$$.fragment),dt(t,"class",s=""+(Xt.root+(e[4]?" ".concat(Xt.root_platform_desktop):"")+(e[0]?" ".concat(e[0]):"")))},m(e,s){tt(e,t,s),qt(n,t,null),et(t,i),qt(o,t,null),r=!0,a||(l=ct(t,"touchstart",hs,{passive:!0}),a=!0)},p(e,c[ncat(Xt.root_platform_desktop):"")+(e[0]?" ".concat(e[0]):""))))&&dt(t,"class",s)},i(e){r||(Ht(n.$$.fragment,e),Ht(o.$$.fragment,e),r=!0)},o(e){Rt(n.$$.fragment,e),Rt(o.$$.fragment,e),r=!1},d(e){e&&nt(t),Ft(n),Ft(o),a=!1,l()}}}function ps(e){let t,n,i=!e[1]&&e[3]&&us(e);return{c(){i&&i.c(),t=lt()},m(e,o){i&&i.m(e,o),tt(e,t,o),n=!0},p(e,n){!e[1]&&e[3]?i?(i.p(e,n),10&n[0]&&Ht(i,1)):(i=us(e),i.c(),Ht(i,1),i.m(t.parentNode,t)):i&&(At(),Rt(i,1,1,(()=>{i=null})),Nt())},i(e){n||(Ht(i),n=!0)},o(e){Rt(i),n=!1},d(e){i&&i.d(e),e&&nt(t)}}}function hs(){}function gs(e,t,n){let i;var o,s,r,a;let{id:l}=t,{json:c={}}=t,{platform:d="auto"}=t,{theme:u="system"}=t,{globalVariablesControllew rs}=t,{mix:h=""}=t,{customization:g={}}=t,{builtinProtocols:m=["http","https","tel","mailto","intent"]}=t,{extensions:f=new Map}=t,{onError:v}=t,{onStat:b}=t,{onCustomAy}=t,{typefaceProvider:x=(e=>"")}=t,w=Wt("desktop"===d);if(Fe(e,w,(e=>n(4,i=e))),"auto"===d&&"undefined"!=typeof matchMedia){const e=matchMedia("(any-pointer: coarse)");w.set(!e.matches),e.addListener((()=>{w.set(!e.matches)}))}let k="light",$=null;function C(){"system"===u&&$&&n(23,k=$.matches?"dark":"light")}const I=new Set(m);let S=!1;c||(S=!0,H(Kt(new Error('"json" prop is required')))),l||(S=!0,H(Kt(new Error('"id" prop is required'))));let T=function(e){if(!e)return Kt(new Error("Missing object"));const t=e.card,n=e.templates||{};if(!t)return Kt(new Error("Missing card"));if(!t.states||!t.states.length)return Kt(new Error("Missing states"));for(const e in n)if(n.hasOwnProperty(e)&&e in Co)return Kt(new Error("Template name collision"),{additional:{templateName:e}});for(let e=0;e<t.states.length;++e){if(!t.states[e].div)return Kt(new Error("Missing state div"),{additional:{stateId:t.states[e].state_id}});if("number"!=typeof t.states[e].state_id)return Kt(new Error("Missing state_id"),{additional:{index:e}})}return null}(c);const M=c.templates||{};T&&(S=!0,H(T));const L={stateChange:!1},E=os(p),j=ss(p),D=new Map,O=new Map,z=new M t.vars.length?t.applyVars(O):e}function H(e){v?v({error:e}):"warn"===(null==e?void 0:e.level)?console.warn(e):console.error(e)}function R(e,t){b&&b({type:e,action:t})}let P=0;function B(e){return"".concat(l,"-l?String(e.url):"";if(t)try{const e=t.replace(/div-action:\/\//,""),n=/([^?]+)\?(.+)/.exec(e);if(!n)return;const i=new URLSearchParams(n[2]);switch(n[1]){case"set_state":!function(e){throw new Error("State is not supported")}(i.get("state_id"));break;case"set_current_item":!function(e,t){if(!e||!t)throw new Error('Missing data for "set-current-item" action');if(isNaN(Number(t)))throw new Error('Incorrect item for "set-current-item" action');const n=Y(e);n&&n.setCurrentItem(Number(t))}(i.get("id"),i.get("item"));break;case"set_previous_item":!function(e,t){if(!e)throw new Error('Missing id for "set-previous-item" action');if(t&&"clamp"!==t&&"ring"!==t)throw new Error('Incorrect overflow value for "set-previous-item" action');t=t||"clamp";const n=Y(e);n&&n.setPreviousItem(t)}(i.get("id"),i.get("overflow"));break;case"set_next_item":!function(e,t){if(!e)throw new Error('Missing id for "set-next-item" action');if(t&&"clamp"!==t&&"ring"!==t)throw new Error('Incorrect overflow value for "set-next-item" action');t=t||"clamp";const n=Y(e);n&&n.setNextItem(t)}(i.get("id"),i.get("overflow"));break;case"set_variable":const n=i.get("name"),o=i.get("value");if(n&&null!==o){const e=O.get(n);e?"dict"===e.getType()?H(Kt(new Error("Setting dict variables is not supported"),{additional:{name:n}})):e.set(o):H(Kt(new Error("Cannot find variable"),{additional:{name:n}}))}else H(Kt(new Error("Incorrect set_variable_action"),{additional:{url:e}}));break;case"timer":const s=i.get("action"),r=i.get("id");A?A.execTimerAction(r,s):H(Kt(new Error("Incorrect timer action"),{additional:{id:r,action:s}}));break;case"video":!function(e,t){if(e){const n=Y(e);n?"start"===t?n.start():"pause"===t?n.pause():H(Kt(new Error("Unknown video action"),{additional:{id:e,action:t}})):H(Kt(new Error("Video component is not found"),{additional:{id:e,action:t}}))}else H(Kt(new Error("Missing id in video action"),{additional:{action:t}}))}(i.get("id"),i.get("action"));break;default:H(Kt(new Error("Unknown type of action"),{additional:{url:t}}))}}catch(e){H(Kt(e,{additional:{url:t}}))}}async function F(e,t){if(e&&Array.isArray(e)){for(let n=0;n<e.length;++n){let i=e[n];const o=i.url;if(o)I)){const e=window.open("","_blank");e&&(e.opener=null,e.location=o)}else location.href=o}else"div-action"===e?(q(i),await Tt()):i.log_id&&(Z(i),await Tt())}}e.forEach((e=>{e.log_id Z(e){null==_||_(e)}const G=new Map;function Y(e){if(G.has(e))return G.get(e);H(Kt(new Error("Missing instance with id"),{additional:{id:e}}))}const W=new Map;bt(Qt,{logError:H,logStat:R,hasTemplate:function(e){return e in M},processTemplate:function(e,t){if(!e)return{j[e.type]);for(;e.type in M;){if(({json:e,templateContext:t}e))return{jt};n.add(e.type)}return{json:e,templateContext:t}},genId:B,genClass:function(e){return"divkit-".concat(B())},execAction:q,execAnyActiisRunning:function(e){return L[e]},setRunning:function(e,t){L[e]=t},registerInstance:function(e,t){G.has(e)?H(Kt(new Error("Duplicate instance id"),{additional:{id:e}})):G.set(e,t)},unregisterInstance:function(e){G.delete(e)},addSvgFilter:function(e,t){const i="".concat(e,":").concat(t);if(V[i]=V[i]||0,++V[i],U[i])return svg-filter");return n(2,U=Object.assign(Object.assign({},U),{[i]:o})),o},removeSvgFilter:function(e,t){if(!e)return;const i="".concat(e,":").concat(t);V[i]&&0==--V[i]&&n(2,U=Object.keys(U).reduce(((e,t)=>(V[t]&&)},getDerivedFromVars:function(e){if(!e)return Uo(e);const t=Zo(e,H);return t.vars.length?Jt(t.vars.map((e=>O.get(e)||function(e){const t=z.get(e)||Wt(void 0);return z.has(e)||z.set(e,t),t}(e))).filter(cn),(()=>t.applyVars(O))):t.hasExpression?Uo(t.applyVars(O)):Uo(e)},getJsonWithVars:N,getStore:function(e){return W.has(e)||function(e){W.has(e)||W.set(e,Go[e]())}(onst n=O.get(e);if(n;if(i!==t)return void H(Kt(new Error('Variable should have type "'.concat(t,'"')),{additiostomization:function(e){return null==g?void 0:g[e]},getBuiltinProtocols:function(){return I},getExtensction(e,t){const n=f.get(e);if(n)return new n(t||{})},getExtensionContext:function(){return{variables:O,logError:H}},typefaceProvider:x,isDesktop:w,registerCompponent:void 0}),bt(Dn,{hasAction:()=>!1});let J=null;bt(_n,{registerInstance(e,t){J||(J=new Map),J.has(e)?H(Kt(new Error("Duplicate state with id"),{additional:{id:e}})):J.set(e,t)},unregisterInstance(e){null==J||J.delete(e)},runVisibilityTransition:(e,t,n,Promise.resolve(),registerChildWititionIn:(e,t,n,i)=>Promise.resolve(),registerChildWithTransitionOut:(e,t,n,i)=>Promise.resolve(),registerChildWithTransitionChange:(e,t,n,i)=>Promise.resolve(),hasTransitionChange:e=>!1,registerChild(e){},unregisterChild(e){}});const X=null===(o=null==c?void 0:c.card)||void 0===o?void 0:o.variables;Array.isArray(X)&&X.forEach((e=>{if(e&&e.type in es&&e.name){if(D.has(e.name))return void H(Kt(new Error("Duplicate variable"),{additional:{name:e.name}}));"integer"===e.type&&"number"==typeof e.value&&(e.value>Number.MAX_SAFE_INTEGER||e.value<Number.MIN_SAFE_INTEGER)&&H(Kt(new Error("The value of the integer variable could lose accuracy"),{level:"warn",additional:{name:e.name,value:e.value}}));try{const t=ts(e.name,e.type,e.value);D.set(e.name,t),O.set(e.name,t)}catch(t){H(Kt(t,{additional:{name:e.name}}))}}}));const Q=c.palette;Q&&Q[k].forEach((e=>{if(D.has(e.name))H(Kt(new Error("Duplicate variable"),{additional:{name:e.name}}));else try{const t=ts(e.name,"color",e.color);D.set(e.name,t),O.set(e.name,t)}catch(t){H(Kt(t,{additional:{name:e.name}}))}}));for(const[e,t]of j)O.has(e)||O.set(e,t);E.subscribe((e=>{if(e&&!O.has(e)){const t=j.get(e);O.set(e,t);const n=z.get(e);if(n){let e=0;t.subscribe((()=>{n.set(++e)}))}}}));const K=null===(s=null==c?void 0:c.card)||void 0===s?void 0:s.variable_triggers;Array.isArray(K)&&H(Kt(new Error("variable_trigger is not supported")));const ee=null===(r=null==c?void 0:c.card)||void 0===r?void 0:r.timers;if(ee){const e=A=new ds({logError:H,applyVars:N,hasVariableWithType:function(e,t){const n=O.get(e);return(null==n?void 0:n.getType())===t},setVariableValue:function(e,t){const n=O.get(e);n?n.setValue(t):H(find varia&n(14,f=e.extensions),"onError"in e&&n(15,v=e.onError),"onStat"in e&&n(16,b=e.onStat),"onCustomAction"in e&&n(17,_=e.onCustomAction),"onComponent"in e&&n(18,y=e.onComponent),"typefaceProvider"in e&&n(19,x=e.typefaceProvider)},e.$$.update=()=>{16777344&e.$$.dirty[0]&&("light"===u||"dark"===u?n(23,k=u):"system"===u?"undefined"!=typeof matchMedia?($||(n(24,$=matchMedia("(prefers-color-scheme: dark)")),$.addListener(C)),n("light")):n(23,k="light"):H(Kt(new Error("Unsupported theme")))),8388608&e.$$.dirty[0]&&k&&Q&&Q[k].forEach((e=>{const t=O.get(e.name);t&&t.setValue(e.color)}))},[h,S,U,ne,i,w,{},u,l,c,d,p,g,m,f,v,b,_,y,x,function(e){n(7,u=e)},function(){},q,k,$]}const ms=class extends Gt{constructor(e){super(),Zt(this,e,gs,ps,Ue,{id:8,json:9,platform:10,theme:7,globalVariablesController:11,mix:0,customization:12,builtinProtocols:13,extensions:1onComponent:18,typefaceProvider:19,setTheme:20,gevar n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="sizeHistory"),n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.widthVariableName=e.width_variable_name,this.heightVariableName=e.height_variable_name}setVariable(e,t){if(!this.context)return!1;if(e){const n=this.context.variables.get(e);if(n&&"integer"===n.getType()){if(t=Math.round(t),this.sizeHistory[e]||(this.sizeHistory[e]=new Set),!this.sizeHistory[e].has(t))return n.setValue(t),this.sizeHistory[e].add(t),!0}else{const t=new Error("Missing variable");t.level="error",t.additional={variableName:e},this.context.logError(t)}}return!1}recalcProps(){if(!this.node||!this.context)return!1;const e=this.node.getBoundingClientRect(),t=this.setVariable(this.widthVariableName,e.width),n=this.setVariable(this.heightVariableName,e.height);return t||n}mountView(e,t){var n;this.node=e,this.context=t,this.resizeObserver||"undefined"==typeof ResizeObserver||(this.resizeObserver=new ResizeObserver((async()=>{let e=0;for(;this.recalcProps();){if(++e>8){const e=new Error("Recursive layout in size_provider");e.level="warn",e.additional={widthVariableName:this.widthVariableName,heightVariableName:this.heightVariableName},t.logError(e);bn=this.resizeObserver)||voialcProps()}unmountView(e,t){var n;null===(n=this.resizeObserver)||void 0===n||n.disconnect(),this.resizeObserver=void 0}}function vs(e){return e instanceof HTMLElement}function bs(e){return class{constructor(e){this.params=e}mountView(t,n){if(!this.params.lottie_url&&!this.params.lottie_json)return;const i=Array.from(t.children).filter(vs);i.forEach((e=>{e.style.display="none"})),this.wrapper=document.createElement("div"),this.wrapper.style.width="100%",this.wrapper.style.height="100%",t.appendChild(this.wrapper);const o=Number(this.params.repeat_count||-1),s=this.animItem=e({containerparams.lottie_url,animationData:this.params.lottie_json,renderer:"svg",loop:!0});if(this.animItem.addEventListener("data_failed",(()=>{var e;null===(e=this.animItem)||void 0===e||e.destroy(),i.forEach((e=>{e.style.display=""}));const t=new Error("Failed to load lottie animation");t.level="error",t.additional={url:this.params.lottie_url},n.logError(t)})),"reverse"===this.params.repeat_mode||-1!==o){let e=1,t=0;s.addEventListener("loopComplete",(()=>{++t,-1!==o&&t===o?(s.stop(),s.goToAndStop(s.totalFrames,!0)):("reverse"===this.params.repeat_mode&&(e*=-1,s.setDirection(e)),s.goToAndPlay(1===e?0:s.totalFrames,!0))}))}}unmountView(e,t){var n,i;null===(n=this.animItem)||void 0===n||n.destroy(),this.wrapper&&(null===(i=this.wrapper.parentNode)||void 0===i||i.removeChild(this.wrapper),this.wrapper=void 0)}}}function _s(e){return new ms({target:e.target,props:{id:e.id,json:e.json,globalVariablesController:e.globalVariablesController,mix:e.mix,customization:e.customization,builtinProtocols:e.builtinProtocols,extensions:e.extensions,onStat:e.onStat,onCustomAction:e.onCustomAction,onError:e.onError,onComponent:e.onComponent,typefaceProvider:e.typefaceProvider,platform:e.platform,theme:e.theme},hydrate:e.hydrate})}var ys=De.sY,xs=r(3516),ws={};ws.styleTagTransform=W(),ws.setAttributes=F(),ws.insert=V().bind(null,"head"),ws.domAPI=B(),ws.insertStyleElement=G(),R()(xs.Z,ws),xs.Z&&xs.Z.locals&&xs.Z.locals;const ks={light:[{name:"palette.text.primary",color:"#cc000000"},{name:"palette.text.secondary",color:"#919cb5"},{name:"palette.applied.separator",color:"#14000000"}],dark:[{name:"palette.text.primary",color:"#ffffff"},{name:"palette.text.secondary",color:"#919cb5"},{name:"palette.applied.separator",color:"#14ffffff"}]};function $s(t){(0,e.qOq)(t,"svelte-14lhsnj",".div-card.svelte-14lhsnj{animation:svelte-14lhsnj-appear 400ms ease-out}@keyframes svelte-14lhsnj-appear{0%{opacity:0}100%{opacity:1}}.div-card_theme_dark .gallery__arrow_left{background-color:#161617}.div-card_theme_dark .gallery__arrow_right{background-color:#161617}.div-card_theme_dark .gallery__arrow_left::before{background-image:url(https://yastatic.net/s3/home/alice_popup/Left_Arrow_Dark.svg)}.div-card_theme_dark .gallery__arrow_right::before{background-image:url(https://yastatic.net/s3/home/alice_popup/Right_Arrow_Dark.svg)}")}function Cs(t){let n,i,o,s,r;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class",i="div-card div-card_theme_"+t[1]+" svelte-14lhsnj")},m(i,a){(0,e.$Tr)(i,n,a),t[10](n),s||(r=[(0,e.echange",t[11]),(0,e.oLt)(n,"click",(0,e.XET)(t[9]))],s=!0)},p(t,[o]){2&o&&i!==(i="div-card div-card_theme_"+t[1]+" svelte-14lhsnj")&&(0,e.Ljt)(n,"class",i)},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),t[10](null),s=!1,(0,e.j7q)(r)}}}function Is(t,n,i){let o,{onHorizontalMoveChange:s}=n,{id:r}=n,{json:a}=n,{onDivClick:l}=n,{outputBus:c}=n,{theme:d}=n,{statName:u}=n,{requestId:p}=n;const h=e=>{const t=new URL(e);if("dialog-action:"===t.protocol&&t.searchParams.get("directives")){const e=JSON.parse(decodeURIComponent(t.searchParams.get("directives")));return{title:e[0].payload.title||e[0].payload.text,directives:e}}if("dialog:"===t.protocol&&t.searchParams.get("query")&&/^dialog:\/\/text_command\b/.test(e))return{title:t.searchParams.get("query")};throw Error("unknown divcard url type "+e)},g=e=>{try{const t=h(e.url);l(t)}catch(e){c.emit("errorThrown",e)}},m=({action:e,type:t})=>{const{log_id:n,url:i}=e;let o;if(i)try{const e=h(i);e.title&&(o={title:e.title,requestId:p||""})}catch(e){return void c.emit("errorThrownnge),"id"in e&&i(4,r=e.id),"json"in e&&i(3,a=e.json),"onDivClick"in e&&i(5,l=e.onDivClick),"outputBus"in e&&i(6,c=e.outputBus),"theme"in e&&i(1,d=e.theme),"statName"in e&&i(7,u=e.statName),"requestId"in e&&i(8,p=e.requestId)},t.$$.update=()=>{30&t.$$.dirty&&o&&(i(2,o.innerHTML="",o),i(3,a.palett:o,onCustomAction:g,onStat:m,json:a.palette?a:Object.assign(Object.assign({},a)ization:{galleryLeftClass:Q.left,galleryRightClass:Q.right}}))},[s,d,o,a,r,l,c,u,p,function(n){e.cKT.call(this,t,n)},function(t){e.VnY[t?"unshift":"push"]((()=>{o=t,i(2,o),i(3,a),i(4,r),i(1,d)}))}ds e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Is,Cs,e.AqN,{onHorizontalMoveChange:0,id:4,json:3,onDivClick:5,outputBus:6,theme:1,statName:7,requestId:8},$s)}}const Ts=Ss;var Ms;!function(e){e.PURPLE="purple",e.BLUE="blue"}(Ms||(Ms={}));const Ls='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle class="input-container__text-input-send-ring" cx="12" cy="12" r="10" fill="none" />\n    <circle class="input-container__text-input-send-circle" cx="12" cy="12" r="8" fill="none" />\n    <circle class="input-container__text-input-send-hover" cx="12" cy="12" r="10" fill="none" fill-opacity="0" />\n    <path d="M13.25 12L9.25 7H12L16 12L12 17H9.25L13.25 12Z" fill="none" />\n</svg>\n';function Es(t){(0,e.qOq)(t,"svelte-1p4h8hu",".input-container.svelte-1p4h8hu.svelte-1p4h8hu{position:relative}.input-container__text-input-send.svelte-1p4h8hu.svelte-1p4h8hu{border:none;background-color:transparent;padding:0;margin:0;position:absolute;bottom:17px;right:14px;width:24px;height:24px;cursor:pointer}.input-container__text-input-send-ring{fill:var(--ring-color)}.input-container__text-input-send-circle{fill:var(--circle-color)}.input-container__text-input-send-hover{fill:var(--hover-color)}.input-container__text-input-send.svelte-1p4h8hu path{fill:var(--mark-color)}.input-container__text-input-send.svelte-1p4h8hu:hover .input-container__text-input-send-hover{fill-opacity:0.12}.input-container__text-input.svelte-1p4h8hu.svelte-1p4h8hu{padding:17px 40px 17px 20px;box-sizing:border-box;border:1px solid #e6e1f5;border-radius:16px;width:100%;font-weight:400;font-size:16px;line-height:120%;outline:none;max-height:calc(var(--lines) * 20px);overflow:scroll;-ms-overflow-style:none;scrollbar-width:none;-webkit-user-select:text;-moz-user-select:text;user-select:text}.input-container_theme_dark.svelte-1p4h8hu .input-container__text-input.svelte-1p4h8hu{border-color:rgba(122, 85, 255, 0.4)}.input-container__text-input.svelte-1p4h8hu.svelte-1p4h8hu::-webkit-scrollbar{display:none}.input-container__text-input.svelte-1p4h8hu.svelte-1p4h8hu:empty:before{content:attr(placeholder);pointer-events:none;display:block;opacity:0.25}.input-container_standalone.svelte-1p4h8hu .input-container__text-input.svelte-1p4h8hu{max-height:280px;line-height:22px;border:1px solid var(--border-color);padding:12px 16px}.input-container_standalone.input-container_mobile.svelte-1p4h8hu .input-container__text-input.svelte-1p4h8hu{max-height:196px}.input-container_standalone.svelte-1p4h8hu .input-container__text-input.svelte-1p4h8hu:focus-visible{border:2px solid var(--brand-color);padding:11px 15px}.input-container_standalone.input-container_color_blue.svelte-1p4h8hu .input-container__text-input.svelte-1p4h8hu:focus-visible{border-color:var(--main-color)}.input-container_standalone.svelte-1p4h8hu .input-container__text-input-send.svelte-1p4h8hu{bottom:13px}.input-container_standalone.svelte-1p4h8hu .input-container__text-input-send.svelte-1p4h8hu circle{fill:var(--brand-color)}.input-container_standalone.svelte-1p4h8hu .input-container__text-input-send.svelte-1p4h8hu:hover circle{fill:var(--primary-button-hover-color)}.input-container_standalone.input-container_empty.svelte-1p4h8hu .input-container__text-input-send.svelte-1p4h8hu circle{fill:var(--user-bubble-color)}.input-container_standalone.svelte-1p4h8hu .input-container__text-input-send.svelte-1p4h8hu path{fill:#fff}.input-container_standalone.input-container_empty.svelte-1p4h8hu .input-container__text-input-send.svelte-1p4h8hu path{fill:var(--text-secondary-color)}")}function js(t){let n,i,o,s,r,a,l,c=function(t){let n,i,o,s;return{c(){n=(0,e.bGB)("button"),(0,e.Ljt)(n,"aria-label",i="Отправить запрос Алисе"),(0,e.Ljt)(n,"class","input-container__text-input-send svelte-1p4h8hu"),(0,e.czc)(n,"--ring-color",t[12],!1),(0,e.czc)(n,"--circle-color",t[11],!1),(0,e.czc)(n,"--mark-color",t[10],!1),(0,e.czc)(n,"--hover-color",t[9],!1)},m(i,r){(0,e.$Tr)(i,n,r),n.innerHTML=Ls,o||(s=(0,e.oLt)(n,"click",(0,e.AT7)((function(){(0,e.sBU)(t[1])&&t[1].apply(this,arguments)}))),o=!0)},p(i,o){t=i,4096&o&&(0,e.czc)(n,"--ring-color",t[12],!1),2048&o&&(0,e.czc)(n,"--circle-color",t[11],!1),1024&o&&(0,e.czc)(n,"--mark-color",t[10],!1),512&o&&(0,e.czc)(n,"--hover-color",t[9],!1)},d(t){t&&(0,e.ogt)(n),o=!1,s()}}}(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),s=(0,e.DhX)(),c&&c.c(),(0,e.Ljt)(i,"class","input-container__text-input svelte-1p4h8hu"),(0,e.Ljt)(i,"contenteditable","true"),(0,e.Ljt)(i,"placeholder",o="Напиши мне"),(0,e.czc)(i,"--lines",t[6],!1),(0,e.czc)(i,"--main-color",t[8],!1),(0,e.Ljt)(n,"class",r="input-container input-container_theme_"+t[2]+" input-container_color_"+t[4]+" svelte-1p4h8hu"),(0,e.VHj)(n,"input-container_standalone",!1),(0,e.VHj)(n,"input-container_mobile",t[5]),(0,e.VHj)(n,"input-container_empty",t[0])},m(o,r){(0,e.$Tr)(o,n,r),(0,e.R3I)(n,i),t[26](i),(0,e.R3I)(n,s),c&&c.m(n,null),a||(l=[(0,e.oLt)(i,"paste",t[14]),(0,e.oLt)(i,"keydown",t[16]),(0,e.oLt)(i,"keypress",t[15]),(0,e.oLt)(i,"input",(function(){(0,e.sBU)(t[3])&&t[3].apply(this,arguments)})),(0,e.oLt)(i,"input",t[17])],a=!0)},p(o,[s]){t=o,64&s&&(0,e.czc)(i,"--lines",t[6],!1),256&s&&(0,e.czc)(i,"--main-color",t[8],!1),c.p(t,s),20&s&&r!==(r="input-container input-container_theme_"+t[2]+" input-container_color_"+t[4]+" svelte-1p4h8hu")&&(0,e.Ljt)(n,"class",r),20&s&&(0,e.VHj)(n,"input-container_standalone",!1),52&s&&(0,e.VHj)(n,"input-container_mobile",t[5]),21&s&&(0,e.VHj)(n,"input-container_empty",t[0])},i:e.ZTd,o:e.ZTd,d(i){i&&(0,e.ogt)(n),t[26](null),c&&c.d(),a=!1,(0,e.j7q)(l)}}}const Ds=4e3;function Os(n,i,o){let s,r,a,l,c,d,u,p,{onSubmit:h}=i,{theme:g}=i,{outputBus:m}=i,{onChange:f}=i,{shuttonTheme:b}=i,{isMobile:_=!1}=i,{isTablet:y=!1}=i,{page:x}=i,{lines:w=5}=i,{isEmpty:k=!0}=i,{onSubmitBase:$=e.ZTd}=i;const{allChatsStore:C}=(0,t.fw)(fe.f1);let I;return(0,e.FIv)(n,C,(e=>o(25,p=e))),(0,t.H3)((()=>{v&&setTimeout((()=>{nouldFocusInput),"buttonTheme"in e&&o(4,b=e.buttonTheme),"isMobile"in e&&o(5,_=e.isMobile),"isTablet"in e&&o(21,y=e.isTablet),"page"in e&&o(22,x=e.page),"lines"in e&&o(6,w=e.lines),"isEmpty"in e&&o(0,k=e.isEmpty),"onSubmitBase"in e&&o(1,$=e.onSubmitBase)},n.$$.update=()=>{4&n.$$.dirty&&o(23,s="light"===g?"#fff":"#161617"),16&n.$$.dirty&&o(8,r=b===Ms.BLUE?"#4E66FF":"#7137FF"),4&n.$$.dirty&&o(24,a="light"===g?"#BFBFBF":"#505050"),16777473&n.$$.dirty&&o(12,l=k?a:r),8388865&n.$$.dirty&&o(11,c=k?s:r),25165825&n.$$.dirty&&o(10,d=k?a:s),1&n.$$.dirty&&o(9,u=k?"none":"#000"),n.$$.dirty},[k,$,g,f,b,_,w,I,r,u,d,c,l,C,e=>{if(e.preventDefault(),e.clipboardData){let t=e.clipboardData.getData("text/plain");t=t.trim(),document.execCommand("inserttext",!1,t)}},e=>{I&&I.innerText.trim().length>=Ds&&e.preventDefault()},e=>{"Enter"===e.key&&(e.preventDefault(),_||y||e.shiftKey||e.ctrlKey||e.metaKey?document.execCommand("inserttext",!1,"\n"):$())},()=>{I&&"\n"===I.innerText&&o(7,I.innerHTML="",I),I&&I.innerText.length>Ds&&o(7,I.innerText=I.innerText.slice(0,Ds),I),o(0,k=!I.innerHTML)},h,m,v,y,x,s,a,p,function(t){e.VnY[t?"unshift":"push"]((()=>{I=t,o(7,I),o(20,v),o(25,p)}))}]}class zs extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Os,js,e.N8,{onSubmit:18,theme:2,outputBus:19,onChange:3,shouldFocusInput:20,buttonTheme:4,isMobile:5,isTablet:21,page:22,lines:6,isEmpty:0,onSubmitBase:1},Es)}}const As=zs,Ns=(e,t)=>{const n=t.length/20+(e.length?1:0);return n<2?"small":n<3?"medium":"large"};function Hs(t){(0,e.qOq)(t,"svelte-cw52wt",".dialog_header.svelte-cw52wt.svelte-cw52wt{margin:0 17px;padding-top:17px;display:flex;flex-direction:row;align-items:center}.dialog_header__close.svelte-cw52wt.svelte-cw52wt{background-color:inherit;border:0;width:24px;height:24px;cursor:pointer}.dialog_header__image.svelte-cw52wt.svelte-cw52wt{border-radius:50%;width:32px;height:32px}.dialog_header__title.svelte-cw52wt.svelte-cw52wt{font-weight:500;font-size:16px;line-height:120%;flex-grow:1}.dialog_header__actions.svelte-cw52wt.svelte-cw52wt{margin-right:10px}.dialog_header__close_path.svelte-cw52wt.svelte-cw52wt{fill:#000}.dialog_heatRn=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","dialog_header__oknyx_container svelte-cw52wt")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};2&t&&(n.onClick=e[1]),32&t&&(n.state=e[5]),64&t&&(n.logo=e[6]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function Ps(t){let n,i,o,s,r,a,l,c,d,u,p,h,g,m,f,v=!t[8]&&Rs(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="18" fill="none"><path class="dialog_header__close_path svelte-cw52wt" opacity=".9" d="M7.25 0H10L2.75 9 10 18H7.25L0 9l7.25-9Z"></path></svg>',s=(0,e.DhX)(),r=(0,e.bGB)("a"),a=(0,e.bGB)("img"),c=(0,e.DhX)(),d=(0,e.bGB)("span"),u=(0,e.fLW)(t[4]),p=(0,e.DhX)(),v&&v.c(),(0,e.Ljt)(i,"aria-label",o="Закрыть"),(0,e.Ljt)(i,"class","dialog_header__close svelte-cw52wt"),(0,e.Ljt)(a,"class","dialog_header__image svelte-cw52wt"),(0,e.Jn4)(a.src,l=t[3])||(0,e.Ljt)(a,"src",l),(0,e.Ljt)(a,"alt",t[4]),(0,e.Ljt)(r,"class","dialog_header__actions svelte-cw52wt"),(0,e.Ljt)(r,"href",t[2]),(0,e.Ljt)(d,"class","dialog_header__title svelte-cw52wt"),(0,e.Ljt)(n,"class",h=(0,e.H1I)(`dialog_header dialog_header_theme_${t[7]}`)+" svelte-cw52wt")},m(o,l){(0,e.$Tr)(o,n,l),(0,e.R3I)(n,i),(0,e.R3I)(n,s),(0,e.R3I)(n,r),(0,e.R3I)(r,a),(0,e.R3I)(n,c),(0,e.R3I)(n,d),(0,e.R3I)(d,u),(0,e.R3I)(n,p),v&&v.m(n,null),g=!0,m||(f=(0,e.oLt)(i,"click",(0,e.AT7)((function(){(0,e.sBU)(t[0])&&t[0].apply(this,arguments)}))),m=!0)},p(i,[o]){t=i,(!g||8&o&&!(0,e.Jn4)(a.src,l=t[3]))&&(0,e.Ljt)(a,"src",l),(!g||16&o)&&(0,e.Ljt)(a,"alt",t[4]),(!g||4&o)&&(0,e.Ljt)(r,"href",t[2]),(!g||16&o)&&(0,e.rTO)(u,t[4])e)Ui)(v,1)):(v=Rs(t),v.c(),(0,e.Ui)(v,1),v.m(n,null)),(!g||128&o&&h!==(h=(0,e.H1I)(`dialog_header dialog_header_theme_${t[7]}`)+" svelte-cw52wt"))&&(0,e.Ljt)(n,"class",h)},i(t){g||((0,e.Ui)(v),g=!0)},o(t){(0,e.etI)(v),g=!1},d(t){t&&(0,e.ogt)(n),v&&v.d(),m=!1,f()}}}const Bs="#7137FF",Us="#4E66FF";function Vs(e,n,i){let{closeDialog:o}=ne&&i(1,s=e.onOknyxClick),"dialogUrl"in e&&i(2,r=e.dialogUrl),"dialogImageUrl"in e&&i(3,a=e.dialogImageUrl),"dialogTitle"in e&&i(4,l=e.dialogTitle),"state"in e&&i(5,c=e.state),"logo"in e&&i(6,d=e.logo),"theme"in e&&i(7,u=e.tu,p,h]}class qs extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Vs,Ps,e.N8,{closeDialog:0,onOknyxClick:1,dialogUrl:2,dialogImageUrl:3,dialogTitle:4,state:5,logo:6,theme:7,useChat:8},Hs)}}const Fs=qs,Zs=e=>{let t,n=!1;return(...i)=>(n||(n=!0,t=e(...i)),t)};var Gs=r(4640),Ys=r(8261),Ws=r(2192);const Js=asyn),i&&Gs.ZP.executeDirectives(i)};function Xs(e){return e*e*e}function Qs(e){const t=e-1;return t*t*t+1}function Ks(t,{delay:n=0,duration:i=400,easing:o=e.yRu}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:i,easing:o,css:e=>"opacity: "+e*s}}const er='<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="40" height="40" rx="11" fill="#FC3F1D"/>\n<path d="M22.8095 32H27V8H20.9048C14.7749 8 11.5541 11.1424 11.5541 15.7698C11.5541 19.4647 13.3203 21.6403 16.4719 23.8849L11 32H15.5368L21.632 22.918L19.5195 21.5022C16.9567 19.7755 15.71 18.4288 15.71 15.5281C15.71 12.9727 17.5108 11.246 20.9394 11.246H22.8095V32Z" fill="white"/>\n<circle cx="30" cy="30" r="5" fill="#7A55FF"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M27.2527 31.8202C27.6833 32.2423 28.8308 32.4952 30.0003 32.4999C31.1698 32.4952 32.3173 32.2423 32.7473 31.8202C33.8177 30.7723 31.2164 26.7558 30.0015 26.7499C28.7836 26.7558 26.1823 30.7723 27.2527 31.8202Z" fill="white"/>\n</svg>\n',tr='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="checkradio control">\n<circle id="base" cx="8.00065" cy="7.99992" r="6.66667" fill="black" fill-opacity="0.8"/>\n<path id="check" d="M7.71239 10.282C7.32007 10.6778 6.68126 10.6753 6.29047 10.2779C5.61953 9.59573 4.69212 8.65297 4.52919 8.48832C4.26891 8.22531 4.26891 7.79369 4.52919 7.53067C4.78947 7.26765 5.20992 7.26765 5.4702 7.53067C5.52987 7.59097 5.58053 7.64326 5.62318 7.68806C5.7575 7.82917 5.88684 7.97504 6.02155 8.11578L7.00065 9.13872L8.14351 7.94469C8.16912 7.91794 8.19365 7.89271 8.21969 7.8664C8.50307 7.58004 10.2916 5.77274 10.5311 5.53067C10.7914 5.26765 11.2118 5.26765 11.4721 5.53067C11.7324 5.79369 11.7324 6.22531 11.4721 6.48832C11.2796 6.68289 8.9249 9.05864 7.71239 10.282Z" fill="white"/>\n</g>\n</svg>\n',nr='<svg width="15" height="16" viewBox="0 0 15 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<g id="Frame">\n<path id="Vector" d="M9.2601 2.69969L9.8301 1.66969C9.84147 1.65035 9.84667 1.62801 9.84498 1.60564C9.84329 1.58327 9.83481 1.56195 9.82066 1.54454C9.80652 1.52713 9.78739 1.51446 9.76584 1.50823C9.74429 1.502 9.72135 1.50251 9.7001 1.50969C9.67139 1.51713 9.64645 1.53494 9.6301 1.55969L9.0601 2.58969C8.5699 2.37459 8.04041 2.26354 7.5051 2.26354C6.96979 2.26354 6.4403 2.37459 5.9501 2.58969L5.3701 1.55969C5.35162 1.54234 5.32813 1.53129 5.30299 1.52812C5.27784 1.52495 5.25234 1.52982 5.23014 1.54203C5.20793 1.55425 5.19016 1.57317 5.17938 1.59611C5.16859 1.61904 5.16534 1.6448 5.1701 1.66969L5.7401 2.68969C5.2002 2.95564 4.74388 3.36501 4.42111 3.87299C4.09833 4.38096 3.92155 4.96795 3.9101 5.56969H11.0901C11.0779 4.96941 10.9008 4.38406 10.578 3.87781C10.2552 3.37157 9.79921 2.96396 9.2601 2.69969ZM5.8401 4.24969C5.76053 4.24969 5.68423 4.21808 5.62797 4.16182C5.57171 4.10556 5.5401 4.02925 5.5401 3.94969C5.5401 3.87012 5.57171 3.79382 5.62797 3.73756C5.68423 3.6813 5.76053 3.64969 5.8401 3.64969C5.91966 3.64969 5.99597 3.6813 6.05223 3.73756C6.10849 3.79382 6.1401 3.87012 6.1401 3.94969C6.1401 4.02925 6.10849 4.10556 6.05223 4.16182C5.99597 4.21808 5.91966 4.24969 5.8401 4.24969ZM9.1601 4.24969C9.08053 4.24969 9.00423 4.21808 8.94797 4.16182C8.89171 4.10556 8.8601 4.02925 8.8601 3.94969C8.8601 3.87012 8.89171 3.79382 8.94797 3.73756C9.00423 3.6813 9.08053 3.64969 9.1601 3.64969C9.23966 3.64969 9.31597 3.6813 9.37223 3.73756C9.42849 3.79382 9.4601 3.87012 9.4601 3.94969C9.4601 4.02925 9.42849 4.10556 9.37223 4.16182C9.31597 4.21808 9.23966 4.24969 9.1601 4.24969ZM3.9101 11.0497C3.91273 11.2787 4.00555 11.4974 4.16842 11.6584C4.3313 11.8194 4.55108 11.9097 4.7801 11.9097H5.3601V13.6897C5.36036 13.8483 5.40778 14.0033 5.49633 14.1349C5.58488 14.2665 5.71056 14.3689 5.8574 14.4289C6.00424 14.4889 6.16561 14.5039 6.321 14.472C6.47639 14.4401 6.61879 14.3627 6.7301 14.2497C6.80593 14.1754 6.8662 14.0867 6.90741 13.9888C6.94861 13.891 6.96992 13.7859 6.9701 13.6797V11.9097H8.0401V13.6897C8.04036 13.8483 8.08778 14.0033 8.17633 14.1349C8.26488 14.2665 8.39056 14.3689 8.5374 14.4289C8.68424 14.4889 8.84561 14.5039 9.001 14.472C9.15639 14.4401 9.29879 14.3627 9.4101 14.2497C9.56083 14.102 9.64709 13.9007 9.6501 13.6897V11.9097H10.2201C10.4491 11.9097 10.6689 11.8194 10.8318 11.6584C10.9946 11.4974 11.0875 11.2787 11.0901 11.0497V5.84969H3.9101V11.0497ZM2.8101 5.70969C2.7042 5.70836 2.5991 5.72808 2.50088 5.76769C2.40266 5.8073 2.31329 5.86602 2.23794 5.94044C2.16259 6.01486 2.10276 6.1035 2.06194 6.20121C2.02111 6.29893 2.00009 6.40378 2.0001 6.50969V9.85969C1.99801 9.99266 2.02911 10.124 2.09057 10.242C2.15203 10.3599 2.24192 10.4607 2.35211 10.5351C2.4623 10.6096 2.58932 10.6554 2.72166 10.6684C2.85401 10.6814 2.98751 10.6612 3.1101 10.6097C3.25916 10.5494 3.38659 10.4456 3.47578 10.3118C3.56497 10.178 3.61178 10.0205 3.6101 9.85969V6.51969C3.6101 6.30751 3.52581 6.10403 3.37578 5.954C3.22575 5.80397 3.02227 5.71969 2.8101 5.71969V5.70969ZM12.2001 5.70969C12.095 5.70969 11.991 5.73038 11.894 5.77058C11.7969 5.81079 11.7087 5.86972 11.6344 5.944C11.5601 6.01829 11.5012 6.10648 11.461 6.20354C11.4208 6.3006 11.4001 6.40463 11.4001 6.50969V9.85969C11.4001 9.96475 11.4208 10.0688 11.461 10.1658C11.5012 10.2629 11.5601 10.3511 11.6344 10.4254C11.7087 10.4997 11.7969 10.5586 11.894 10.5988C11.991 10.639 12.095 10.6597 12.2001 10.6597C12.3052 10.6597 12.4092 10.639 12.5062 10.5988C12.6033 10.5586 12.6915 10.4997 12.7658 10.4254C12.8401 10.3511 12.899 10.2629 12.9392 10.1658C12.9794 10.0688 13.0001 9.96475 13.0001 9.85969V6.51969C13.0001 6.41463 12.9794 6.3106 12.9392 6.21354C12.899 6.11648 12.8401 6.02829 12.7658 5.954C12.6915 5.87972 12.6033 5.82079 12.5062 5.78058C12.4092 5.74038 12.3052 5.71969 12.2001 5.71969V5.70969Z" />\n</g>\n</svg>\n',ir='<svg width="15" height="16" viewBox="0 0 15 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<g id="Frame">\n<g id="Clip path group">\n<mask id="mask0_8924_153227" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="15" height="16">\n<g id="a">\n<path id="Vector" d="M0 0.5H15V15.5H0V0.5Z" fill="white"/>\n</g>\n</mask>\n<g mask="url(#mask0_8924_153227)">\n<g id="Group">\n<path id="Vector_2" d="M11.1597 12.98C10.4597 13.66 9.67967 13.56 8.92967 13.23C8.56065 13.0623 8.16001 12.9755 7.75467 12.9755C7.34934 12.9755 6.94869 13.0623 6.57967 13.23C5.53967 13.68 4.97967 13.55 4.35967 12.98C0.819674 9.35 1.33967 3.81 5.35967 3.61C6.33967 3.66 7.01967 4.15 7.59967 4.19C8.44967 4.02 9.26967 3.52 10.1897 3.59C11.2897 3.67 12.1097 4.1 12.6497 4.89C12.1787 5.15353 11.7922 5.54537 11.5352 6.01995C11.2782 6.49452 11.1612 7.03232 11.1979 7.57078C11.2345 8.10923 11.4233 8.62621 11.7423 9.06156C12.0613 9.49692 12.4973 9.83275 12.9997 10.03C12.6343 11.1537 12.0031 12.1725 11.1597 13V12.99V12.98ZM7.52967 3.57C7.49849 2.80924 7.76167 2.06571 8.2645 1.49397C8.76734 0.922228 9.47116 0.566241 10.2297 0.5C10.4497 2.36 8.52967 3.75 7.52967 3.57Z" />\n</g>\n</g>\n</g>\n</g>\n</svg>\n',or="Яндекс — с Алисой",sr="Быстрый поиск и Алиса всегда рядом",rr={phoneIosInner:"https://yastatic.net/s3/home/alice_popup/promo_alice2/phone-inner-min.png",phoneIosWrapper:"https://yastatic.net/s3/home/alice_popup/promo_alice2/phone-wrapper-min.png",phoneAndroid:"https://yastatic.net/s3/home/alice_popup/image%2071-2.png"};function ar(t){(0,e.qOq)(t,"svelte-1ie8ukm",".alice-promo-standalone.svelte-1ie8ukm{width:100%;height:257px;display:flex;flex-direction:row}.alice-promo-standalone__left-wrapper.svelte-1ie8ukm{position:relative;flex-shrink:1;width:100%}.alice-promo-standalone__right-wrapper.svelte-1ie8ukm{position:relative;flex-shrink:2;width:0}.alice-promo-standalone__app-header.svelte-1ie8ukm{display:flex;flex-direction:row;margin-bottom:20px}.alice-promo-standalone__app-icon.svelte-1ie8ukm{width:40px;height:40px;margin-right:8px}.alice-promo-standalone__text-el.svelte-1ie8ukm{display:flex;flex-direction:row;align-items:center}.alice-promo-standalone__check-img.svelte-1ie8ukm{margin-right:4px}.alice-promo-standalone__check-img.svelte-1ie8ukm svg{display:block}.alice-promo-standalone__app-description.svelte-1ie8ukm{margin-bottom:16px;display:flex;flex-direction:column;align-items:flex-start;gap:12px}.alice-promo-standalone__app-h1.svelte-1ie8ukm{color:var(--black-color);font-size:20px;font-style:normal;font-weight:700;line-height:24px}.alice-promo-standalone__app-h2.svelte-1ie8ukm,.alice-promo-standalone__text.svelte-1ie8ukm{color:var(--black-color);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.alice-promo-standalone__text.svelte-1ie8ukm{margin:0}.alice-promo-standalone__app-links.svelte-1ie8ukm{display:flex;flex-direction:row;gap:8px}.alice-promo-standalone__qr-code.svelte-1ie8ukm{display:flex;flex-direction:row;gap:12px;padding:12px 16px 12px 12px;border-radius:12px;background-color:var(--white-color);align-items:center;width:175px}.alice-promo-standalone__app-qr.svelte-1ie8ukm{width:58px;height:58px}.alice-promo-standalone__mobile-links.svelte-1ie8ukm{display:flex;flex-direction:column;justify-content:space-between}.alice-promo-standalone__link.svelte-1ie8ukm{padding:11px 11px 10px 11px;background-color:#fff;border-radius:12px;color:var(--black-color)}.alice-promo-standalone__link.svelte-1ie8ukm:hover{color:var(--brand-color)}.alice-promo-standalone__link.svelte-1ie8ukm svg{display:block}.alice-promo-standalone__phone-img.svelte-1ie8ukm{position:absolute;top:24px;right:-80px}.alice-promo-standalone__phone-img_wrapper.svelte-1ie8ukm{position:relative;width:183px}.alice-promo-standalone__phone-img_inner.svelte-1ie8ukm{position:absolute;width:143px;left:20px;top:19px}@media(min-width: 830px){.alice-promo-standalone__right-wrapper.svelte-1ie8ukm{width:100%}.alice-promo-standalone__phone-img.svelte-1ie8ukm{top:5px;right:-20px}}@media(min-width: 1000px){.alice-promo-standalone__phone-img.svelte-1ie8ukm{top:-12px;right:16px}.alice-promo-standalone__phone-img_wrapper.svelte-1ie8ukm{width:253px}.alice-promo-standalone__phone-img_inner.svelte-1ie8ukm{width:197px;left:29px;top:27px}}@media(min-width: 1024px){.alice-promo-standalone__phone-img.svelte-1ie8ukm{right:-20px}.alice-promo-standalone__phone-img_wrapper.svelte-1ie8ukm{width:237px}.alice-promo-standalone__phone-img_inner.svelte-1ie8ukm{width:185px;left:27px;top:25px}}@media(min-width: 1070px){.alic.alice-promo-standalone__phone-img_wrapper.svelte-1ie8ukm{width:253px}.alice-promo-standalone__phone-img_inner.svelte-1ie8ukm{width:197px;left:29px;top:27px}}@media(min-width: 1100px){.alice-promo-standalone__phone-img.svelte-1ie8ukm{right:16px}}")}function lr(e,t,n){const i=e.slice();return i[8]=t[n],i}function cr(t){let n,i,o,s,r,a,l=t[8]+"";return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.DhX)(),s=(0,e.bGB)("p"),r=(0,e.fLW)(l),a=(0,e.DhX)(),(0,e.Ljt)(i,"class","alice-promo-standalone__check-img svelte-1ie8ukm"),(0,e.Ljt)(s,"class","alice-promo-standalone__text svelte-1ie8ukm"),(0,e.Ljt)(n,"class","alice-promo-standalone__text-el svelte-1ie8ukm")},m(t,l){(0,e.$Tr)(t,n,l),(0,e.R3I)(n,i),i.innerHTML=tr,(0,e.R3I)(n,o),(0,e.R3I)(n,s),(0,e.R3I)(s,r),(0,e.R3I)(n,a)},p:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function dr(t){let n,i,o,s,r,a,l,c,d,u,p,h,g,m,f,v,b,_,y,x,w,k,$,C,I,S,T,M,L,E,j,D,O,z=t[5],A=[];for(let e=0;e<z.length;e+=1)A[e]=cr(lr(t,z,e));return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.bGB)("div"),s=(0,e.bGB)("div"),r=(0,e.DhX)(),a=(0,e.bGB)("div"),l=(0,e.bGB)("div"),l.textContent=`${or}`,c=(0,e.DhX)(),d=(0,e.bGB)("div"),d.textContent=`${sr}`,u=(0,e.DhX)(),p=(0,e.bGB)("div");for(let e=0;e<A.length;e+=1)A[e].c();h=(0,e.DhX)(),g=(0,e.bGB)("div"),m=(0,e.bGB)("div"),f=(0,e.bGB)("img"),b=(0,e.DhX)(),_=(0,e.bGB)("p"),_.textContent="Cчитайте QR-код камерой вашего телефона",y=(0,e.DhX)(),x=(0,e.bGB)("div"),w=(0,e.bGB)("a"),k=(0,e.DhX)(),$=(0,e.bGB)("a"),C=(0,e.DhX)(),I=(0,e.bGB)("div"),S=(0,e.bGB)("div"),T=(0,e.bGB)("img"),L=(0,e.DhX)(),E=(0,e.bGB)("img"),(0,e.Ljt)(s,"class","alice-promo-standalone__app-icon svelte-1ie8ukm"),(0,e.Ljt)(l,"class","alice-promo-standalone__app-h1 svelte-1ie8ukm"),(0,e.Ljt)(d,"class","alice-promo-standalone__app-h2 svelte-1ie8ukm"),(0,e.Ljt)(a,"class","alice-promo-standalone__header-description"),(0,e.Ljt)(o,"class","alice-promo-standalone__app-header svelte-1ie8ukm"),(0,e.Ljt)(p,"class","alice-promo-standalone__app-description svelte-1ie8ukm"),(0,e.Ljt)(f,"class","alice-promo-standalone__app-qr svelte-1ie8ukm"),(0,e.Jn4)(f.src,v=t[3])||(0,e.Ljt)(f,"src",v),(0,e.Ljt)(f,"alt","Приложение"),(0,e.Ljt)(_,"class","alice-promo-standalone__text svelte-1ie8ukm"),(0,e.Ljt)(m,"class","alice-promo-standalone__qr-code svelte-1ie8ukm"),(0,e.Ljt)(w,"class","alice-promo-standalone__link svelte-1ie8ukm"),(0,e.Ljt)(w,"href",t[2]),(0,e.Ljt)(w,"target","_blank"),(0,e.Ljt)($,"class","alice-promo-standalone__link svelte-1ie8ukm"),(0,e.Ljt)($,"href",t[1]),(0,e.Ljt)($,"target","_blank"),(0,e.Ljt)(x,"class","alice-promo-standalone__mobile-links svelte-1ie8ukm"),(0,e.Ljt)(g,"class","alice-promo-standalone__app-links svelte-1ie8ukm"),(0,e.Ljt)(i,"class","alice-promo-standalone__left-wrapper svelte-1ie8ukm"),(0,e.Ljt)(T,"class","alice-promo-standalone__phone-img_inner svelte-1ie8ukm"),(0,e.Jn4)(T.src,M=rr.phoneIosInner)||(0,e.Ljt)(T,"src",M),(0,e.Ljt)(T,"alt","Приложение"),(0,e.Ljt)(E,"class","alice-promo-standalone__phone-img_wrapper svelte-1ie8ukm"),(0,e.Jn4)(E.src,j=rr.phoneIosWrapper)||(0,e.Ljt)(E,"src",j),(0,e.Ljt)(E,"alt","Приложение"),(0,e.Ljt)(S,"class","alice-promo-standalone__phone-img svelte-1ie8ukm"),(0,e.Ljt)(I,"class","alice-promo-standalone__right-wrapper svelte-1ie8ukm"),(0,e.Ljt)(n,"class","alice-promo-standalone svelte-1ie8ukm"),(0,e.czc)(n,"--z-index",t[4]+1)},m(v,M){(0,e.$Tr)(v,n,M),(0,e.R3I)(n,i),(0,e.R3I)(i,o),(0,e.R3I)(o,s),s.innerHTML=er,(0,e.R3I)(o,r),(0,e.R3I)(o,a),(0,e.R3I)(a,l),(0,e.R3I)(a,c),(0,e.R3I)(a,d),(0,e.R3I)(i,u),(0,e.R3I)(i,p);for(let e=0;e<A.length;e+=1)A,(0,e.R3I)(x,$),$.innerHTML=ir,(0,e.R3I)(n,C),(0,e.R3I)(n,I),(0,e.R3I)(I,S),(0,e.R3I)(S,T),(0,e.R3I)(S,L),(0,e.R3I)(S,E),D||(O=[(0,e.oLt)(w,"click",t[6]),(0,e.oLt)($,"click",t[7])],D=!0)},p(e,[t]){if(32&t){let n;for(z=e[5],n=0;n<z.length;n+=1){const i=lr(e,z,n);A[n]?A[n].p(i,t):(A[n]=cr(i),A[n].c(),A[n].m(p,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=z.length}},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),(0,e.RMB)(A,t),D=!1,(0,e.j7q)(O)}}}function ur(e,n,i){let{outputBus:o}=n;const{promoUrlIos:s,promoUrlAndroid:r,promoQrLink:a,baseZIndex:l}=(0,t.fw)(fe.f1);return(0,t.H3)((()=>{o.emit("stat",{path:"promo",eventType:"show"})})),e.$$set=e=>{"outputBus"in e&&i(0,o=e.outputBus)},[o,s,r,a,l,["Поиск текстом, картинкой или голосом","Умная камера ищет по голосу","Определитель номера","Поиск товаров и сравнение цен"],()=>{o.emit("stat",{path:"promo.android",eventType:"click",customParams:{url:r||""}})},()=>{o.emit("stat",{path:"promo.ios",eventType:"click",customParams:{url:s||""}})}]}class pr extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ur,dr,e.N8,{outputBus:0},ar)}}const hr=pr,gr='<svg width="140" height="40" viewBox="0 0 140 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_8924_153377)">\n<mask id="mask0_8924_153377" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="140" height="40">\n<path d="M0 0H140V40H0V0Z" fill="white"/>\n</mask>\n<g mask="url(#mask0_8924_153377)">\n<path d="M134.74 40H5.26C4.58491 40.0227 3.91207 39.9107 3.28068 39.6707C2.64929 39.4307 2.07199 39.0674 1.58241 38.6021C1.09284 38.1367 0.70079 37.5785 0.429112 36.9601C0.157435 36.3417 0.0115633 35.6754 0 35L0 5C0 2.2 2.32 0 5.26 0H134.74C137.68 0 140 2.2 140 5V35C140 37.8 137.68 40 134.74 40Z" fill="black"/>\n<path d="M71 21.8018C70.4316 21.7881 69.8663 21.8899 69.3384 22.1012C68.8105 22.3124 68.331 22.6286 67.9289 23.0307C67.5269 23.4327 67.2106 23.9123 66.9994 24.4401C66.7882 24.968 66.6863 25.5333 66.7 26.1018C66.7 28.5018 68.6 30.4018 71 30.4018C73.4 30.4018 75.3 28.6018 75.3 26.1018C75.3 23.5018 73.4 21.8018 71 21.8018ZM71 28.6018C69.7 28.6018 68.6 27.5018 68.6 26.0018C68.6 24.5018 69.7 23.4018 71 23.4018C72.3 23.4018 73.4 24.4018 73.4 26.0018C73.4 27.5018 72.3 28.6018 71 28.6018ZM61.7 21.8018C61.1316 21.7881 60.5663 21.8899 60.0384 22.1012C59.5105 22.3124 59.031 22.6286 58.6289 23.0307C58.2269 23.4327 57.9106 23.9123 57.6994 24.4401C57.4882 24.968 57.3863 25.5333 57.4 26.1018C57.4 28.5018 59.3 30.4018 61.7 30.4018C64.1 30.4018 66 28.6018 66 26.1018C66 23.5018 64.1 21.8018 61.7 21.8018ZM61.7 28.6018C60.4 28.6018 59.3 27.5018 59.3 26.0018C59.3 24.5018 60.4 23.4018 61.7 23.4018C63 23.4018 64.1 24.4018 64.1 26.0018C64.1 27.5018 63 28.6018 61.7 28.6018ZM50.6 23.1018V24.9018H54.9C54.8 25.9018 54.4 26.7018 53.9 27.2018C53.3 27.8018 52.3 28.5018 50.6 28.5018C47.9 28.5018 45.9 26.4018 45.9 23.7018C45.8788 22.7661 46.1362 21.8452 46.6395 21.0562C47.1429 20.2671 47.8695 19.6456 48.7269 19.2704C49.5844 18.8953 50.534 18.7835 51.4551 18.9494C52.3762 19.1152 53.2272 19.5511 53.9 20.2018L55.2 18.9018C53.994 17.735 52.378 17.0886 50.7 17.1018C47.1 17.1018 44 20.1018 44 23.7018C44 27.3018 47.1 30.3018 50.7 30.3018C52.7 30.3018 54.1 29.7018 55.3 28.4018C56.5 27.2018 56.9 25.5018 56.9 24.2018C56.9 23.8018 56.9 23.4018 56.8 23.1018H50.6ZM96 24.5018C95.6 23.5018 94.6 21.8018 92.4 21.8018C90.2 21.8018 88.4 23.5018 88.4 26.1018C88.4 28.5018 90.2 30.4018 92.6 30.4018C94.5 30.4018 95.7 29.2018 96.1 28.5018L94.7 27.5018C94.2 28.2018 93.6 28.7018 92.6 28.7018C91.6 28.7018 91 28.3018 90.5 27.4018L96.2 25.0018L96 24.5018ZM90.2 25.9018C90.2 24.3018 91.5 23.4018 92.4 23.4018C93.1 23.4018 93.8 23.8018 94 24.3018L90.2 25.9018ZM85.5 30.0018H87.4V17.5018H85.5V30.0018ZM82.5 22.7018C82 22.2018 81.2 21.7018 80.2 21.7018C79.0946 21.7532 78.0516 22.2289 77.2879 23.0298C76.5243 23.8307 76.0988 24.8951 76.1 26.0018C76.1 28.4018 78 30.2018 80.2 30.2018C81.2 30.2018 82 29.7018 82.4 29.2018H82.5V29.8018C82.5 31.4018 81.6 32.3018 80.2 32.3018C79.1 32.3018 78.3 31.5018 78.1 30.8018L76.5 31.5018C77 32.6018 78.2 34.0018 80.3 34.0018C82.5 34.0018 84.3 32.7018 84.3 29.6018V22.0018H82.5V22.7018ZM80.3 28.6018C79 28.6018 77.9 27.5018 77.9 26.0018C77.9 24.5018 79 23.4018 80.3 23.4018C81.6 23.4018 82.6 24.5018 82.6 26.0018C82.6 27.5018 81.6 28.6018 80.3 28.6018ZM104.7 17.5018H100.2V30.0018H102.1V25.3018H104.7C106.8 25.3018 108.8 23.8018 108.8 21.4018C108.8 19.0018 106.8 17.5018 104.7 17.5018ZM104.8 23.5018H102.1V19.2018H104.8C106.2 19.2018 107 20.4018 107 21.3018C106.9 22.4018 106.1 23.5018 104.8 23.5018ZM116.3 21.7018C114.9 21.7018 113.5 22.3018 113 23.6018L114.7 24.3018C115.1 23.6018 115.7 23.4018 116.4 23.4018C117.4 23.4018 118.3 24.0018 118.4 25.0018V25.1018C118.1 24.9018 117.3 24.6018 116.5 24.6018C114.7 24.6018 112.9 25.6018 112.9 27.4018C112.9 29.1018 114.4 30.2018 116 30.2018C117.3 30.2018 117.9 29.6018 118.4 29.0018H118.5V30.0018H120.3V25.2018C120.1 23.0018 118.4 21.7018 116.3 21.7018ZM116.1 28.6018C115.5 28.6018 114.6 28.3018 114.6 27.5018C114.6 26.5018 115.7 26.2018 116.6 26.2018C117.4 26.2018 117.8 26.4018 118.3 26.6018C118.1 27.8018 117.1 28.6018 116.1 28.6018ZM126.6 22.0018L124.5 27.4018H124.4L122.2 22.0018H120.2L123.5 29.6018L121.6 33.8018H123.5L128.6 22.0018H126.6ZM109.8 30.0018H111.7V17.5018H109.8V30.0018Z" fill="white"/>\n<path d="M10.4 7.5C10.1 7.8 10 8.3 10 8.9V31C10 31.6 10.2 32.1 10.5 32.4L10.6 32.5L23 20.1V19.9L10.4 7.5Z" fill="url(#paint0_linear_8924_153377)"/>\n<path d="M26.9984 24.3008L22.8984 20.2008V19.9008L26.9984 15.8008L27.0984 15.9008L31.9984 18.7008C33.3984 19.5008 33.3984 20.8008 31.9984 21.6008L26.9984 24.3008Z" fill="url(#paint1_linear_8924_153377)"/>\n<path d="M27.0984 24.2L22.8984 20L10.3984 32.5C10.8984 33 11.5984 33 12.4984 32.6L27.0984 24.2Z" fill="url(#paint2_linear_8924_153377)"/>\n<path d="M27.0984 15.8006L12.4984 7.5006C11.5984 7.0006 10.8984 7.1006 10.3984 7.6006L22.8984 20.0006L27.0984 15.8006Z" fill="url(#paint3_linear_8924_153377)"/>\n<path opacity="0.2" d="M26.9984 24.1016L12.4984 32.3016C11.6984 32.8016 10.9984 32.7016 10.4984 32.3016L10.3984 32.4016L10.4984 32.5016C10.9984 32.9016 11.6984 33.0016 12.4984 32.5016L26.9984 24.1016Z" fill="black"/>\n<path opacity="0.12" d="M10.4 32.3C10.1 32 10 31.5 10 30.9V31C10 31.6 10.2 32.1 10.5 32.4V32.3H10.4ZM32 21.3L27 24.1L27.1 24.2L32 21.4C32.7 21 33 20.5 33 20C33 20.5 32.6 20.9 32 21.3Z" fill="black"/>\n<path opacity="0.25" d="M12.5 7.60125L32 18.7012C32.6 19.1012 33 19.5012 33 20.0012C33 19.5012 32.7 19.0012 32 18.6012L12.5 7.50125C11.1 6.70125 10 7.30125 10 8.90125V9.00125C10 7.50125 11.1 6.80125 12.5 7.60125Z" fill="white"/>\n<path d="M44.9969 14.2984H44.2969V12.2984H44.8969C45.3969 11.8984 45.6969 11.0984 45.6969 9.99844V6.99844H49.6969V12.2984H50.3969V14.2984H49.6969V12.9984H45.0969V14.2984H44.9969ZM46.3969 9.99844C46.3969 10.8984 46.1969 11.6984 45.7969 12.2984H48.7969V7.69844H46.2969V9.99844H46.3969ZM56.2969 12.1984C55.6969 12.7984 54.9969 13.0984 54.0969 13.0984C53.1969 13.0984 52.4969 12.7984 51.8969 12.1984C51.2969 11.5984 50.9969 10.8984 50.9969 9.99844C50.9969 9.09844 51.2969 8.39844 51.8969 7.79844C52.4969 7.19844 53.1969 6.89844 54.0969 6.89844C54.9969 6.89844 55.6969 7.19844 56.2969 7.79844C56.8969 8.39844 57.1969 9.09844 57.1969 9.99844C57.1969 10.8984 56.8969 11.5984 56.2969 12.1984ZM52.4969 11.6984C52.8969 12.0984 53.4969 12.3984 54.0969 12.3984C54.6969 12.3984 55.2969 12.1984 55.6969 11.6984C56.0969 11.2984 56.3969 10.6984 56.3969 9.99844C56.3969 9.29844 56.1969 8.69844 55.6969 8.29844C55.2969 7.89844 54.6969 7.59844 54.0969 7.59844C53.4969 7.59844 52.8969 7.79844 52.4969 8.29844C52.0969 8.69844 51.7969 9.29844 51.7969 9.99844C51.7969 10.6984 51.9969 11.2984 52.4969 11.6984ZM61.0969 13.0984C60.1969 13.0984 59.4969 12.7984 58.8969 12.1984C58.2969 11.5984 57.9969 10.8984 57.9969 9.99844C57.9969 9.09844 58.2969 8.39844 58.8969 7.79844C59.4969 7.19844 60.1969 6.89844 61.0969 6.89844C61.9969 6.89844 62.6969 7.19844 63.2969 7.89844L62.7969 8.39844C62.3969 7.89844 61.7969 7.59844 61.0969 7.59844C60.3969 7.59844 59.8969 7.79844 59.3969 8.29844C58.8969 8.69844 58.6969 9.29844 58.6969 9.99844C58.6969 10.6984 58.8969 11.2984 59.3969 11.6984C59.7969 12.0984 60.3969 12.3984 61.0969 12.3984C61.7969 12.3984 62.3969 12.0984 62.8969 11.4984L63.3969 11.9984C63.0969 12.2984 62.7969 12.5984 62.3969 12.7984C61.9969 12.9984 61.5969 13.0984 61.0969 13.0984ZM66.5969 12.9984H65.7969V7.69844H64.0969V6.99844H68.1969V7.69844H66.4969V12.9984H66.5969ZM73.4969 6.99844L71.1969 12.0984C70.8969 12.7984 70.3969 13.1984 69.7969 13.1984C69.5969 13.1984 69.3969 13.1984 69.1969 13.0984L69.3969 12.3984C69.4969 12.4984 69.6969 12.4984 69.7969 12.4984C69.9969 12.4984 70.0969 12.4984 70.1969 12.3984C70.2969 12.2984 70.3969 12.1984 70.4969 11.9984L70.6969 11.4984L68.6969 7.09844H69.5969L71.0969 10.4984L72.5969 6.99844H73.4969ZM74.3969 12.9984V6.99844H78.6969V12.9984H77.8969V7.69844H75.0969V12.9984H74.3969ZM80.0969 12.9984V6.99844H80.8969V9.59844H83.8969V6.99844H84.6969V12.9984H83.8969V10.2984H80.8969V12.9984H80.0969ZM90.9969 12.1984C90.3969 12.7984 89.6969 13.0984 88.7969 13.0984C87.8969 13.0984 87.1969 12.7984 86.5969 12.1984C85.9969 11.5984 85.6969 10.8984 85.6969 9.99844C85.6969 9.09844 85.9969 8.39844 86.5969 7.79844C87.1969 7.19844 87.8969 6.89844 88.7969 6.89844C89.6969 6.89844 90.3969 7.19844 90.9969 7.79844C91.5969 8.39844 91.8969 9.09844 91.8969 9.99844C91.7969 10.8984 91.4969 11.5984 90.9969 12.1984ZM87.0969 11.6984C87.4969 12.0984 88.0969 12.3984 88.6969 12.3984C89.2969 12.3984 89.8969 12.1984 90.2969 11.6984C90.6969 11.2984 90.9969 10.6984 90.9969 9.99844C90.9969 9.29844 90.7969 8.69844 90.2969 8.29844C89.8969 7.89844 89.2969 7.59844 88.6969 7.59844C88.0969 7.59844 87.4969 7.79844 87.0969 8.29844C86.6474 8.75006 86.3951 9.36129 86.3951 9.99844C86.3951 10.6356 86.6474 11.2468 87.0969 11.6984ZM94.9969 12.9984V6.99844H97.1969C97.6969 6.99844 98.0969 7.19844 98.3969 7.49844C98.6969 7.79844 98.8969 8.19844 98.8969 8.59844C98.8969 8.89844 98.7969 9.09844 98.6969 9.39844C98.5969 9.59844 98.3969 9.79844 98.0969 9.89844C98.3969 9.99844 98.5969 10.1984 98.7969 10.3984C98.9969 10.5984 99.0969 10.8984 99.0969 11.2984C99.0969 11.7984 98.8969 12.1984 98.5969 12.4984C98.1969 12.7984 97.7969 12.9984 97.2969 12.9984H94.9969ZM95.7969 9.59844H97.1969C97.4969 9.59844 97.6969 9.49844 97.8969 9.29844C98.0969 9.09844 98.1969 8.89844 98.1969 8.69844C98.1969 8.49844 97.9969 8.19844 97.8969 7.99844C97.8092 7.9003 97.7011 7.82258 97.5802 7.77075C97.4592 7.71891 97.3284 7.69423 97.1969 7.69844H95.7969V9.59844ZM95.7969 12.2984H97.3969C97.6969 12.2984 97.8969 12.1984 98.0969 11.9984C98.2969 11.7984 98.3969 11.5984 98.3969 11.2984C98.3969 11.0984 98.2969 10.7984 98.0969 10.5984C98.0092 10.5003 97.9011 10.4226 97.7802 10.3707C97.6592 10.3189 97.5284 10.2942 97.3969 10.2984H95.8969V12.2984H95.7969Z" fill="white" stroke="white" stroke-width="0.2" stroke-miterlimit="10"/>\n</g>\n</g>\n<defs>\n<linearGradient id="paint0_linear_8924_153377" x1="21.8" y1="8.71" x2="5.02" y2="25.49" gradientUnits="userSpaceOnUse">\n<stop stop-color="#00A0FF"/>\n<stop offset="0.01" stop-color="#00A1FF"/>\n<stop offset="0.26" stop-color="#00BEFF"/>\n<stop offset="0.51" stop-color="#00D2FF"/>\n<stop offset="0.76" stop-color="#00DFFF"/>\n<stop offset="1" stop-color="#00E3FF"/>\n</linearGradient>\n<linearGradient id="paint1_linear_8924_153377" x1="33.8284" y1="20.0008" x2="9.63844" y2="20.0008" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFE000"/>\n<stop offset="0.41" stop-color="#FFBD00"/>\n<stop offset="0.78" stop-color="#FFA500"/>\n<stop offset="1" stop-color="#FF9C00"/>\n</linearGradient>\n<linearGradient id="paint2_linear_8924_153377" x1="24.8284" y1="22.3" x2="2.06844" y2="45.05" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FF3A44"/>\n<stop offset="1" stop-color="#C31162"/>\n</linearGradient>\n<linearGradient id="paint3_linear_8924_153377" x1="7.29844" y1="0.1806" x2="17.4584" y2="10.3406" gradientUnits="userSpaceOnUse">\n<stop stop-color="#32A071"/>\n<stop offset="0.07" stop-color="#2DA771"/>\n<stop offset="0.48" stop-color="#15CF74"/>\n<stop offset="0.8" stop-color="#06E775"/>\n<stop offset="1" stop-color="#00F076"/>\n</linearGradient>\n<clipPath id="clip0_8924_153377">\n<rect width="140" height="40" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n',mr='<svg width="140" height="40" viewBox="0 0 140 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_8924_153345)">\n<mask id="mask0_8924_153345" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="140" height="40">\n<path d="M0 0H140V40H0V0Z" fill="white"/>\n</mask>\n<g mask="url(#mask0_8924_153345)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M135.47 1.93045e-06H4.53C3.63852 0.0014472 2.7671 0.264748 2.02397 0.757202C1.28084 1.24966 0.698756 1.94957 0.35 2.77C0.119508 3.31767 0.000522462 3.9058 8.69009e-09 4.5L8.69009e-09 35.52C-3.68971e-05 36.1126 0.117478 36.6992 0.345739 37.2461C0.574 37.7929 0.908473 38.289 1.32979 38.7057C1.75111 39.1223 2.2509 39.4513 2.80022 39.6734C3.34954 39.8956 3.93748 40.0066 4.53 40H135.47C136.665 39.9974 137.812 39.5234 138.66 38.6809C139.508 37.8384 139.989 36.6954 140 35.5V4.5C140.004 3.60581 139.739 2.73104 139.24 1.98923C138.741 1.24741 138.03 0.67281 137.2 0.340002C136.651 0.114957 136.063 -0.000544592 135.47 1.93045e-06Z" fill="black"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M26.6881 9.71813C28.3481 7.69813 27.9981 5.57812 27.9981 5.57812C27.9981 5.57812 25.6781 5.58813 23.9981 7.83813C22.5181 9.83813 22.8981 11.5381 22.8981 11.5381C22.8981 11.5381 24.9181 11.8881 26.6881 9.71813ZM29.8681 19.3181C29.8681 15.8381 32.6181 14.3981 32.6181 14.3981C32.6181 14.3981 31.2181 11.8081 27.6381 11.8081C25.5681 11.8081 23.9681 13.0081 23.1181 13.0081C22.1181 13.0081 20.6181 11.8781 18.6981 11.8781C15.7381 11.8781 12.5781 14.5781 12.5781 19.7381C12.5781 24.9781 16.3081 31.4981 19.2581 31.4981C20.2881 31.4981 21.8681 30.4381 23.4581 30.4381C25.0281 30.4381 26.1881 31.4581 27.6681 31.4581C30.8981 31.4581 33.2981 24.5881 33.2981 24.5881C33.2981 24.5881 29.8681 23.2381 29.8681 19.3181ZM45.9581 6.76813C46.5359 6.41639 47.2018 6.23606 47.8781 6.24813C49.1981 6.24813 50.0281 6.91812 50.0281 7.92812C50.0281 8.75812 49.4581 9.34812 48.6781 9.52812V9.54813C49.5581 9.64813 50.2581 10.2481 50.2581 11.1681C50.2581 12.6181 48.9081 13.1581 47.6781 13.1581C47.0281 13.1581 46.3381 13.0181 45.7981 12.6981L46.0881 11.7581C46.4081 11.9381 47.0481 12.1581 47.6281 12.1581C48.4881 12.1581 48.9881 11.7481 48.9881 11.1081C48.9881 10.2581 48.1381 10.0381 47.4081 10.0381H46.8881V9.12813H47.4081C48.1781 9.12813 48.7681 8.71812 48.7681 8.10812C48.7681 7.56812 48.3481 7.23812 47.6681 7.23812C47.1681 7.23812 46.6281 7.43812 46.2481 7.63812L45.9481 6.76813H45.9581ZM54.3881 13.0481L54.3081 12.5081H54.2781C53.9781 12.8881 53.4781 13.1581 52.8581 13.1581C51.8981 13.1581 51.3581 12.4581 51.3581 11.7181C51.3581 10.4981 52.4281 9.87813 54.1981 9.88813V9.80813C54.1981 9.48813 54.0681 8.96813 53.2281 8.96813C52.7481 8.96813 52.2581 9.10812 51.9281 9.31812L51.6981 8.52812C52.2263 8.23348 52.8235 8.08504 53.4281 8.09813C54.9681 8.09813 55.4081 9.07813 55.4081 10.1381V11.8781C55.4081 12.3181 55.4281 12.7481 55.4781 13.0481H54.3781H54.3881ZM54.2281 10.6881C53.3681 10.6681 52.5581 10.8481 52.5581 11.5881C52.5581 12.0581 52.8581 12.2881 53.2481 12.2881C53.7281 12.2881 54.0781 11.9681 54.1881 11.6181C54.2151 11.5307 54.2286 11.4396 54.2281 11.3481V10.6881ZM60.2281 8.20813V9.17813H58.2681V13.0481H57.0681V8.19812H60.2281V8.20813ZM61.3581 9.81812C61.3581 9.18812 61.3381 8.66813 61.3181 8.21813H62.3781L62.4381 8.95813H62.4581C62.8081 8.40813 63.3681 8.09813 64.0981 8.09813C65.1981 8.09813 66.1081 9.05812 66.1081 10.5681C66.1081 12.3081 65.0181 13.1581 63.9281 13.1581C63.3281 13.1581 62.8281 12.8981 62.5881 12.5081H62.5681V15.0081H61.3581V9.81812ZM62.5581 11.0181C62.5581 11.1381 62.5781 11.2481 62.6081 11.3581C62.7181 11.8581 63.1581 12.2081 63.6681 12.2081C64.4281 12.2081 64.8881 11.5681 64.8881 10.6081C64.8881 9.75812 64.4681 9.06812 63.6881 9.06812C63.1881 9.06812 62.7281 9.42813 62.6181 9.96813C62.5881 10.0681 62.5681 10.1681 62.5681 10.2681V11.0181H62.5581ZM68.0981 8.21813L68.9681 10.7981C69.0681 11.0981 69.1681 11.4681 69.2281 11.7481H69.2581L69.5181 10.7881L70.2581 8.20813H71.5581L70.3581 11.5081C69.6981 13.3081 69.2581 14.1081 68.6881 14.6081C68.2181 15.0381 67.7281 15.2081 67.4281 15.2381L67.1481 14.2081C67.3481 14.1581 67.6081 14.0481 67.8481 13.8681C68.0781 13.7181 68.3481 13.4281 68.5181 13.1081C68.5583 13.0413 68.5823 12.9659 68.5881 12.8881C68.5885 12.8044 68.5679 12.7218 68.5281 12.6481L66.7781 8.20813H68.0981V8.21813ZM73.1481 10.1681H73.7281C74.3881 10.1681 74.7681 9.89813 74.7681 9.54813C74.7681 9.20813 74.4481 8.96813 73.9081 8.96813C73.5081 8.96813 73.0581 9.10812 72.7281 9.31812L72.4681 8.58813C73.0117 8.26367 73.6351 8.09743 74.2681 8.10812C75.0681 8.10812 76.0481 8.42813 76.0481 9.38813C76.0481 10.0181 75.4981 10.3681 74.9981 10.4881V10.5081C75.6381 10.5781 76.2681 10.9581 76.2681 11.6781C76.2681 12.7981 75.0181 13.1481 74.0381 13.1481C73.4331 13.1535 72.8371 13.0019 72.3081 12.7081L72.5781 11.9381C72.9181 12.1181 73.4281 12.2581 73.9081 12.2581C74.5781 12.2581 74.9381 11.9881 74.9381 11.6081C74.9381 11.1081 74.4181 10.9381 73.7381 10.9381H73.1481V10.1681ZM78.7781 8.20813V9.94812C78.7781 10.7081 78.7481 11.2281 78.7081 11.9081H78.7381C78.9881 11.3381 79.1381 10.9781 79.3881 10.4781L80.5681 8.20813H82.0281V13.0481H80.8781V11.3181C80.8781 10.5481 80.9081 10.1881 80.9581 9.27812H80.9181C80.6881 9.84812 80.5181 10.1981 80.2881 10.6681L79.0681 13.0481H77.6281V8.19812H78.7781V8.20813ZM87.2181 8.20813V9.15812H85.7781V13.0481H84.5781V9.14812H83.1381V8.20813H87.2181ZM89.0481 10.9681C89.0781 11.8481 89.7481 12.2181 90.5181 12.2181C91.0881 12.2181 91.4881 12.1381 91.8481 12.0081L92.0281 12.8481C91.6081 13.0181 91.0481 13.1481 90.3581 13.1481C88.8081 13.1481 87.8881 12.1781 87.8881 10.6981C87.8881 9.36812 88.6881 8.09813 90.2281 8.09813C91.7781 8.09813 92.2881 9.39813 92.2881 10.4581C92.2881 10.6781 92.2681 10.8581 92.2481 10.9681H89.0481ZM91.1481 10.1181C91.1581 9.66813 90.9681 8.93812 90.1581 8.93812C89.4081 8.93812 89.0981 9.61812 89.0581 10.1181H91.1581H91.1481ZM96.0681 8.26813C96.6446 8.18733 97.226 8.14723 97.8081 8.14812C98.6081 8.14812 100.068 8.25812 100.068 9.36812C100.068 9.98812 99.5981 10.3381 99.0881 10.4481V10.4681C99.7881 10.5681 100.288 10.9681 100.288 11.6481C100.288 12.9781 98.5581 13.1081 97.5881 13.1081C96.9881 13.1081 96.3581 13.0681 96.0681 13.0381V8.26813ZM97.2381 12.3081C97.4381 12.3281 97.5781 12.3381 97.8281 12.3381C98.3781 12.3381 99.0481 12.1881 99.0481 11.6281C99.0481 11.0781 98.5181 10.8981 97.7581 10.8981H97.2381V12.3081ZM97.2481 10.1681H97.7481C98.3681 10.1681 98.8781 9.98812 98.8781 9.52812C98.8781 9.14812 98.5481 8.92813 97.8281 8.92813C97.5881 8.92813 97.4281 8.95812 97.2481 8.97812V10.1681ZM53.4181 30.1981H51.1581L49.9181 26.2281H45.6181L44.4481 30.1981H42.2481L46.5081 16.6981H49.1381L53.4181 30.1981ZM49.5481 24.5681L48.4281 21.0481C48.3181 20.6881 48.0881 19.8481 47.7681 18.5081H47.7281C47.5981 19.0781 47.3881 19.9281 47.0981 21.0481L45.9981 24.5681H49.5481ZM64.3681 25.2081C64.4473 26.634 63.9787 28.0363 63.0581 29.1281C62.6926 29.5428 62.2411 29.873 61.7352 30.0958C61.2292 30.3186 60.6809 30.4285 60.1281 30.4181C58.8681 30.4181 57.9681 29.9481 57.4281 29.0281H57.3781V34.1581H55.2581V23.6681C55.2581 22.6281 55.2381 21.5681 55.1781 20.4681H57.0481L57.1681 22.0081H57.2081C57.5337 21.4507 58.0063 20.9936 58.5742 20.6867C59.1421 20.3798 59.7835 20.235 60.4281 20.2681C60.9698 20.2619 61.5055 20.3815 61.9932 20.6175C62.4808 20.8535 62.9069 21.1994 63.2381 21.6281C63.9881 22.5281 64.3681 23.7281 64.3681 25.2081ZM62.2081 25.2881C62.2081 24.3381 62.0081 23.5581 61.5781 22.9481C61.3774 22.6458 61.1034 22.3993 60.7816 22.2314C60.4599 22.0636 60.1009 21.9799 59.7381 21.9881C59.2181 21.9881 58.7381 22.1681 58.3181 22.5181C57.8881 22.8681 57.6181 23.3381 57.4781 23.9081C57.4181 24.1781 57.3781 24.3981 57.3781 24.5681V26.1881C57.3781 26.8981 57.5981 27.4881 58.0181 27.9881C58.4481 28.4681 58.9981 28.7181 59.6781 28.7181C60.4781 28.7181 61.0981 28.3981 61.5481 27.7781C61.9881 27.1481 62.2081 26.3181 62.2081 25.2881ZM75.3381 25.2081C75.4173 26.634 74.9487 28.0363 74.0281 29.1281C73.663 29.5434 73.2117 29.8739 72.7056 30.0967C72.1995 30.3195 71.6509 30.4292 71.0981 30.4181C69.8481 30.4181 68.9381 29.9481 68.3981 29.0281H68.3481V34.1581H66.2281V23.6681C66.2281 22.6281 66.2081 21.5681 66.1581 20.4681H68.0181L68.1381 22.0081H68.1781C68.5028 21.45 68.9753 20.9922 69.5434 20.6852C70.1115 20.3782 70.7533 20.2339 71.3981 20.2681C71.9398 20.2619 72.4755 20.3815 72.9632 20.6175C73.4508 20.8535 73.8769 21.1994 74.2081 21.6281C74.9581 22.5281 75.3381 23.7281 75.3381 25.2081ZM73.1781 25.2881C73.1781 24.3381 72.9781 23.5581 72.5481 22.9481C72.3474 22.6458 72.0734 22.3993 71.7516 22.2314C71.4299 22.0636 71.0709 21.9799 70.7081 21.9881C70.1881 21.9881 69.7081 22.1681 69.2881 22.5181C68.8581 22.8681 68.5881 23.3381 68.4481 23.9081C68.3881 24.1781 68.3481 24.3981 68.3481 24.5681V26.1881C68.3481 26.8981 68.5681 27.4881 68.9881 27.9881C69.4181 28.4681 69.9681 28.7181 70.6481 28.7181C71.4481 28.7181 72.0681 28.3981 72.5081 27.7781C72.987 27.0389 73.2214 26.1678 73.1781 25.2881ZM87.6081 26.4081C87.6081 27.5581 87.2081 28.4881 86.4281 29.2081C85.4231 30.0482 84.1358 30.4737 82.8281 30.3981C81.6275 30.4565 80.4359 30.1647 79.3981 29.5581L79.8981 27.7581C80.8081 28.3181 81.8681 28.6181 82.9581 28.6081C83.7581 28.6081 84.3781 28.4281 84.8181 28.0581C85.2681 27.6981 85.4881 27.1981 85.4881 26.5881C85.4881 26.0381 85.3081 25.5881 84.9381 25.2081C84.408 24.7344 83.7846 24.3767 83.1081 24.1581C80.7981 23.2781 79.6381 21.9881 79.6381 20.2881C79.6381 19.1881 80.0381 18.2681 80.8581 17.5681C81.7684 16.8235 82.9238 16.4455 84.0981 16.5081C85.2981 16.5081 86.2981 16.7081 87.0981 17.1481L86.5681 18.9081C85.7922 18.4872 84.9208 18.2737 84.0381 18.2881C83.4049 18.2459 82.7792 18.4461 82.2881 18.8481C81.9381 19.1781 81.7581 19.5881 81.7581 20.0681C81.7581 20.5981 81.9581 21.0381 82.3581 21.3881C82.7181 21.7081 83.3581 22.0581 84.2881 22.4281C85.2444 22.771 86.1074 23.3326 86.8081 24.0681C87.3381 24.6981 87.6081 25.4681 87.6081 26.4081ZM94.6081 22.0881H92.2781V26.8081C92.2781 28.0081 92.6881 28.6081 93.5181 28.6081C93.8281 28.6181 94.1481 28.5881 94.4581 28.5081L94.5181 30.1581C93.9849 30.3265 93.4271 30.4043 92.8681 30.3881C92.0281 30.3881 91.3681 30.1281 90.9081 29.6081C90.4381 29.0881 90.1981 28.2181 90.1981 26.9881V22.0881H88.7981V20.4681H90.1981V18.6781L92.2781 18.0381V20.4681H94.6181V22.0881H94.6081ZM105.158 25.2481C105.21 26.5887 104.761 27.9006 103.898 28.9281C103.461 29.4197 102.921 29.8083 102.315 30.066C101.71 30.3236 101.055 30.4439 100.398 30.4181C98.9981 30.4181 97.8981 29.9381 97.0581 28.9881C96.2083 27.9932 95.7623 26.7158 95.8081 25.4081C95.8081 23.9081 96.2381 22.6681 97.0981 21.7081C97.5333 21.2282 98.069 20.8503 98.6671 20.6013C99.2653 20.3524 99.9109 20.2386 100.558 20.2681C101.958 20.2681 103.088 20.7381 103.938 21.6881C104.748 22.6081 105.158 23.7881 105.158 25.2481ZM102.958 25.3181C102.958 24.4181 102.768 23.6581 102.388 23.0181C101.948 22.2381 101.308 21.8481 100.488 21.8481C99.6281 21.8481 98.9881 22.2381 98.5381 23.0081C98.1387 23.7253 97.9417 24.5376 97.9681 25.3581C97.9681 26.2581 98.1681 27.0281 98.5381 27.6581C98.9981 28.4381 99.6381 28.8281 100.468 28.8281C101.268 28.8281 101.908 28.4281 102.368 27.6481C102.768 26.9881 102.958 26.2181 102.958 25.3181ZM112.048 22.3681C111.827 22.3274 111.603 22.3073 111.378 22.3081C110.628 22.3081 110.058 22.5881 109.648 23.1681C109.278 23.7383 109.093 24.4088 109.118 25.0881V30.1881H106.998L107.018 23.5281C107.018 22.4081 106.998 21.3881 106.938 20.4681H108.788L108.868 22.3281H108.918C109.148 21.6881 109.498 21.1681 109.978 20.7881C110.448 20.4381 110.968 20.2681 111.518 20.2681C111.718 20.2681 111.888 20.2781 112.048 20.3081V22.3681ZM121.518 24.8681C121.518 25.2581 121.498 25.5881 121.448 25.8481H115.088C115.108 26.8081 115.418 27.5481 116.008 28.0481C116.548 28.5081 117.238 28.7381 118.088 28.7381C119.028 28.7381 119.888 28.5781 120.658 28.2681L120.988 29.7681C120.088 30.1681 119.028 30.3681 117.788 30.3681C117.148 30.4039 116.507 30.3049 115.908 30.0776C115.309 29.8502 114.763 29.4995 114.308 29.0481C113.431 28.0685 112.978 26.7812 113.048 25.4681C113.048 24.0081 113.438 22.7781 114.218 21.8081C114.611 21.3012 115.118 20.8952 115.699 20.6238C116.28 20.3525 116.917 20.2237 117.558 20.2481C118.938 20.2481 119.978 20.7681 120.678 21.8081C121.238 22.6381 121.528 23.6581 121.528 24.8681H121.518ZM119.498 24.3081C119.518 23.6681 119.378 23.1081 119.098 22.6481C118.718 22.0481 118.158 21.7481 117.398 21.7481C117.065 21.7427 116.737 21.8203 116.442 21.9739C116.146 22.1276 115.894 22.3524 115.708 22.6281C115.349 23.1195 115.134 23.7013 115.088 24.3081H119.498Z" fill="white"/>\n</g>\n</g>\n<defs>\n<clipPath id="clip0_8924_153345">\n<rect width="140" height="40" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n';function fr(t){(0,e.qOq)(t,"svelte-7mfh4v",".alice-promo-standalone-mobile.svelte-7mfh4v{width:100%;display:flex;flex-direction:column;align-items:center;color:var(--black-color)}.alice-promo-standalone-mobile__title.svelte-7mfh4v{margin-top:8px;font-size:20px;font-weight:700}.alice-promo-standalone-mobile__subtitle.svelte-7mfh4v{margin-top:4px;color:var(--black-color);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.alice-promo-standalone-store-link.svelte-7mfh4v{margin-top:16px;height:40px;display:block}.alice-promo-standalone-mobile__img_android.svelte-7mfh4v{margin-bottom:-24px;margin-top:12px;width:168px;display:block}.alice-promo-standalone__img_ios.svelte-7mfh4v{width:204px;height:198px;position:relative;display:flex;justify-content:center}.alice-promo-standalone-ios__inner.svelte-7mfh4v{margin-top:21px;width:160px;position:absolute;display:block}.alice-promo-standalone-ios__wrapper.svelte-7mfh4v{position:absolute;width:204px;height:391px;display:block}")}function vr(t){let n,i,o,s,r,a;return{c(){n=(0,e.bGB)("a"),i=(0,e.DhX)(),o=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","alice-promo-standalone-store-link svelte-7mfh4v"),(0,e.Ljt)(n,"href",t[2]),(0,e.Ljt)(n,"target","_blank"),(0,e.Ljt)(o,"class","alice-promo-standalone-mobile__img_android svelte-7mfh4v"),(0,e.Jn4)(o.src,s=rr.phoneAndroid)||(0,e.Ljt)(o,"src",s),(0,e.Ljt)(o,"alt","Смартфон")},m(s,l){(0,e.$Tr)(s,n,l),n.innerHTML=gr,(0,e.$Tr)(s,i,l),(0,e.$Tr)(s,o,l),r||(a=(0,e.oLt)(n,"click",t[6]),r=!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),t&&(0,e.ogt)(i),t&&(0,e.ogt)(o),r=!1,a()}}}function br(t){let n,i,o,s,r,a,l,c,d,u;return{c(){n=(0,e.bGB)("a"),i=(0,e.DhX)(),o=(0,e.bGB)("div"),s=(0,e.bGB)("img"),a=(0,e.DhX)(),l=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","alice-promo-standalone-store-link svelte-7mfh4v"),(0,e.Ljt)(n,"href",t[1]),(0,e.Ljt)(n,"target","_blank"),(0,e.Ljt)(s,"class","alice-promo-standalone-ios__inner svelte-7mfh4v"),(0,e.Jn4)(s.srcСмартфон"),(0,e.Ljt)(l,"class","alice-promo-standalone-ios__wrapper svelte-7mfh4v"),(0,e.Jn4)(l.src,c=rr.phoneIosWrapper)||(0,e.Ljt)(l,"src",c),(0,e.Ljt)(l,"alt","Смартфон"),(0,e.Ljt)(o,"class","alice-promo-standalone__img_ios svelte-7mfh4v")},m(r,c){(0,e.$Tr)(r,n,c),n.innerHTML=mr,(0,e.$Tr)(r,i,c),(0,e.$Tr)(r,o,c),(0,e.R3I)(o,s),(0,e.R3I)(o,a),(0,e.R3I)(o,l),d||(u=(0,e.oLt)(n,"click",t[5]),d=!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),t&&(0,e.ogt)(i),t&&(0,e.ogt)(o),d=!1,u()}}}function _r(t){let n,i,o,s,r,a,l,c=function(e,t){return"ios"===e[4]?br:vr}(t),d=c(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.DhX)(),s=(0,e.bGB)("div"),s.textContent=`${or}`,r=(0,e.DhX)(),a=(0,e.bGB)("div"),a.textContent=`${sr}`,l=(0,e.DhX)(),d.cce-promo-standalone__app-icon"),(0,e.Ljt)(s,"class","alice-promo-standalone-mobile__title svelte-7mfh4v"),(0,e.Ljt)(a,"class","alice-promo-standalone-mobile__subtitle svelte-7mfh4v"),(0,e.Ljte svelte-7mfh4v"),(0,e.czc)(n,"--z-index",t[3]+1)},m(t,c){(0,e.$Tr)(t,n,c),(0,e.R3I)(n,i),i.innerHTML=er,(0,e.R3I)(n,o),(0,e.R3I)(n,s),(0,e.R3I)(n,r),(0,e.R3I)(n,a),(0,e.R3I)(n,l),d.m(n,null)},p(e,[t]){d.p(e,t)},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),d.d()}}}function yr(e,n,i){let{outputBus:o}=n;const{promoUrlIos:s,promoUrlAndroid:r,baseZIndex:a,os:l}=(0,t.fw)(fe.f1);return(0,t.H3)((()=>{o.emit("stat",{path:"promo",eventType:"show"})})),e.$$set=e=>{"outputBus"in e&&i(0,o=e.outputBus)},[o,s,r,a,l,()=>{o.emit("stat",{path:"promo.ios",eventType:"click",customParams:{url:s||""}})},()=>{o.emit("stat",{path:"promo.android",eventType:"click",customParams:{url:r||""}})}]}class xr extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,yr,_r,e.N8,{outputBus:0},fr)}}const wr=xr;var kr=r(7856),$r=r.n(kr);function Cr(t){(0,e.qOq)(t,"svelte-13tiy9o",".markdown-text h1, .markdown-text h2, .markdown-text h3, .markdown-text h4, .markdown-text\n            h5, .markdown-text h6, .markdown-text p, .markdown-text blockquote, .markdown-text ul, .markdown-text\n            ol, .markdown-text pre{padding:0;margin:0}.markdown-text h1, .markdown-text h2, .markdown-text h3, .markdown-text h4{font-family:'YS Display', 'YS Text', 'Helvetica Neue', Arial, sans-serif}.markdown-text h5, .markdown-text h6, .markdown-text p{font-family:'YS Text', 'Helvetica Neue', Arial, sans-serif}.markdown-text h1, .markdown-text h2{font-weight:900}.markdown-text h3, .markdown-text h4, .markdown-text h5, .markdown-text h6{font-weight:700}.markdown-text h1{font-size:32px;line-height:38px;margin-bottom:10px;padding-top:10px}.markdown-text h2{font-size:28px;line-height:34px;margin-bottom:10px;padding-top:10px}.markdown-text h3{font-size:24px;line-height:30px;padding-top:8px;margin-bottom:8px}.markdown-text h4{font-size:20px;line-height:28px;padding-top:6px;margin-bottom:6px}.markdown-text h5{font-size:18px;line-height:24px;padding-top:6px;margin-bottom:6px}.markdown-text h6{font-size:16px;line-height:22px;padding-top:4px;margin-bottom:4px}.markdown-text p{font-size:inherit;margin-bottom:16px;line-height:1.5;word-wrap:break-all}.markdown-text a{color:var(--brand-color);text-decoration:none}.markdown-text a:hover{color:var(--link-hover-color)}.markdown-text p:last-child{margin-bottom:0}.markdown-text li{font-size:inherit;margin-bottom:6px;line-height:1.5}.markdown-text li p{display:inline}.markdown-text ul{margin:4px 16px 0}.markdown-text ol{margin-top:4px;list-style-position:inside}.markdown-text > ul, .markdown-text > ol{margin-bottom:20px}.markdown-text p + ol, .markdown-text p + ul, .markdown-text > ol + ol, .markdown-text\n            > ol\n            + ul, .markdown-text > ul + ol, .markdown-text > ul + ul{margin-top:-10px}.markdown-text blockquote{padding:16px;font-size:inherit;line-height:1.5;background-color:rgba(0, 0, 0, 0.06)}.markdown-text > blockquote{margin-bottom:16px}.markdown-text table{font-size:inherit;line-height:1.5;border-collapse:collapse;text-align:left;margin-bottom:16px;max-width:100%;display:block}.markdown-text th{background-color:rgba(0, 0, 0, 0.06)}.markdown-text td, .markdown-text th{padding:8px;vertical-align:middle}.markdown-text tr:hover{background-color:rgba(0, 0, 0, 0.06)}.markdown-text pre{padding:16px;font-size:inherit;line-height:1.5;background-color:rgba(0, 0, 0, 0.06);margin-bottom:16px}.markdown-text pre::-webkit-scrollbar, .markdown-text table::-webkit-scrollbar{height:12px}.markdown-text pre::-webkit-scrollbar-track, .markdown-text table::-webkit-scrollbar-track{background:transparent}.markdown-text pre::-webkit-scrollbar-thumb, .markdown-text table::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.15);border:4px solid transparent;background-clip:padding-box;-webkit-transition:background 0.15s ease-out;transition:background 0.15s ease-out;border-radius:10px}.markdown-text pre::-webkit-scrollbar-thumb:hover, .markdown-text table::-webkit-scrollbar-thumb:hover{border-width:2px;background-color:rgba(0, 0, 0, 0.2)}.markdown-text pre, .markdown-text table{overflow-x:auto;scrollbar-width:thin;scrollbar-color:rgba(0, 0, 0, 0.15) transparent}.markdown-text.markdown-text_mobile pre::-webkit-scrollbar, .markdown-text.markdown-text_mobile\n            table::-webkit-scrollbar{display:none}.markdown-text.markdown-text_mobile pre, .markdown-text.markdown-text_mobile table{-ms-overflow-style:none;scrollbar-width:none}.markdown-text code{font-family:monospace;font-size:inherit;line-height:1.5}.markdown-text h1:last-child, .markdown-text h2:last-child, .markdown-text h3:last-child, .markdown-text\n            h4:last-child, .markdown-text h5:last-child, .markdown-text h6:last-child, .markdown-text\n            p:last-child, .markdown-text blockquote:last-child, .markdown-text ul:last-child, .markdown-text\n            ol:last-child, .markdown-text pre:last-child, .markdown-text table:last-child{margin-bottom:0}.markdown-text_standalone h1, .markdown-text_standalone h2, .markdown-text_standalone\n            h3, .markdown-text_standalone h4{font-family:'YS Text', 'Helvetica Neue', Arial, sans-serif}.markdown-text_standalone h1, .markdown-text_standalone h2{font-weight:700}.markdown-text_standalone h5, .markdown-text_standalone h6{font-weight:500}.markdown-text_standalone h1{font-size:28px;line-height:32px}.markdown-text_standalone h2{font-size:24px;line-height:38px}.markdown-text_standalone h3{font-size:20px;line-height:24px}.markdown-text_standalone h4{font-size:18px;line-height:20px}.markdown-text_standalone h5{font-size:16px;line-height:20px}.markdown-text_standalone h6{font-size:14px;line-height:20px;color:var(--text-secondary-color)}.markdown-text_standalone blockquote{background-color:var(--brand-opacity-12-color);border-radius:8px}.markdown-text_standalone table{font-size:14px;line-height:20px;border-radius:8px;border:1px solid var(--brand-opacity-12-color)}.markdown-text_standalone th{background-color:var(--brand-opacity-12-color)}.markdown-text_standalone tr{border-top:1px solid var(--brand-opacity-12-color)}.markdown-text_standalone tr:hover{background-color:var(--brand-opacity-12-color)}.markdown-text_standalone pre{background-color:var(--code-bg-color);color:var(--white-color);border-radius:8px}.markdown-text_standalone code{font-family:inherit}.markdown-text_standalone h1:last-child, .markdown-text_standalone h2:last-child, .markdown-text_standalone\n            h3:last-child, .markdown-text_standalone h4:last-child, .markdown-text_standalone\n            h5:last-child, .markdown-text_standalone\n            p:last-child, .markdown-text_standalone blockquote:last-child, .markdown-text_standalone\n            ul:last-child, .markdown-text_standalone ol:last-child, .markdown-text_standalone\n            pre:last-child, .markdown-text_standalone table:last-child{margin-bottom:0}")}function Ir(t)e.VHj)(n,"markdown-text_standalone",!1)},m(i,o){(0,e.$Tr)(i,n,o),n.innerHTML=t[0]},p(t,[i]){1&i&&(n.innerHTML=t[0]),0&i&&(0,e.VHj)(n,"markdown-text_standalone",!1)},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function Sr(e,t,n){let i,{markdownParser:o}=t,{text:s}=t;const r=$r()(window);return r.addHook("beforeSanitizeElements",(e=>(e instanceof HTMLAnchorElement&&(e.target="_blank",e.rel="noopener"),e))),e.$$set=e=>{"markdownParser"in e&&n(1,o=e.markdownParser),"text"in e&&n(2,s=e.text)},e.$$.update=()=>{6&e.$$.dirty&&n(0,i=o?(e=>r.sanitize(e.render(s)||s,{ADD_ATTR:["tar(t){super(),(0,e.S1n)(this,t,Sr,Ir,e.N8,{markdownParser:1,text:2},Cr)}}const Mr=Tr;function Lr(t){let n,i=t[0].text+"";return{c(){n=(0,e.fLW)(i)},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){1&o&&i!==(i=t[0].text+"")&&(0,e.rTO)(n,i)},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function Er(t){let nownParser=e[1]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function jr(t){let n,i,o,s;const r=[Er,Lr],a=[];function l(e,t){return e[2]?0:1}return n=l(t),i=a[n]=r[n](t),{c(){i.c(),o=(0,e0,e.$Tr)(t,o,i),s=!0},p(t,[s]){let c=n;n=l(t),n===c?a[n].p(t,s):((0,e.dvw)(),(0,e.etI)(a[c],1,1,(()=>{a[c]=null})),(0,e.gbL)(),i=a[n],i?i.p(t,s):(i=a[n]=r[n](t),i.c()),(0,e.Ui)(i,1),i.m(o.{let s,{bubble:r}=i,{markdownParser:a}=i,{useMarkdown:l=!1}=i;const{allChatsStore:c}=(0,t.fw)(fe.f1);let d;return(0,e.FIv)(n,c,(e=>o(8,s=e))),(0,t.ev)((()=>{window.clearTimeout(d)})),n.$$set=e=>{"bubble"in e&&o(0,r=e.bubble),"markdownParser"in e&&o(1,a=e.markdownParser),"useMarkdown"in e&&o(2,l=e.useMarkdown)},n.$$.update=()=>{n.$$.dirty},[r,a,l,c,void 0,void 0,d,0]}class Or extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Dr,jr,e.N8,{bubble:0,markdownParser:1,useMarkdown:2})}}const zr=Or;function Ar(t){(0,e.qOq)(t,"svelte-zc1k3s",".message-button.svelte-zc1k3s{border:none;margin:12px 0 0;padding:9px 13px 11px;border-radius:8pursor:pointer;font-size:14px;font-weight:500;line-height:16px;color:var(--black-color)}.message-button.svelte-zc1k3s:hover{color:var(--brand-color)}")}function Nr(t){let n,i,o,s;return{c(){n=(0,e.bGB)("button"),i=(0,e.fLW)(t[0]),(0,e.Ljt)(n,"class","message-button svelte-zc1k3s")},m(r,a){(0,e.$Tr)(r,n,a),(0,e.R3I)(n,i),o||(s=[(0,e.oLt)(n,"click",(0,e.XET)(t[1])),(0,e.oLt)(n,"click",t[4])],o=!0)},p(t,[n]){1&n&&(0,e.rTO)(i,t[0])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),o=!1,(0,e.j7q)(s)}}}function Hr(n,i,o){let{title:s}=i,{directives:r}=i,{requestId:a}=i;const{outputBus:l}=(0,t.fw)(fe.f1);return n.$$set=e=>{"title"in e&&o(0,s=e.title),"directives"in e&&o(2,r=e.directives),"requestId"in e&&o(3,a=e.requestId)},[s,()=>{Gs.ZP.executeDirectives(r,{isUserEvent:!0}),l.emit("stat",{path:"message_button",eventType:"click",customParams:{title:s,requestId:a||""}})},r,a,function(t){e.cKT.call(this,n,t)}]}class Rr extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Hr,Nr,e.N8,{title:0,directives:2,requestId:3},Ar)}}const Pr=Rr;var Br=r(8940);function Ur(t){(0,e.qOq)(t,"svelte-qn02hd",".context-menu-item.svelte-qn02hd{box-sizing:border-box;width:167px;padding:10px 12px;border-radius:8px;display:flex;justify-content:flex-start;align-items:center;gap:8px;cursor:pointer;overflow:hidden;white-space:nowrap;transition:width 200ms ease-out;line-height:1;text-d-function:ease-in}.context-menu-item.svelte-qn02hd:hover{background-color:var(--menu-item-pressed-color)}.context-menu-item__icon.svelte-qn02hd{width:16px;height:16px}.context-menu-item__text.svelte-qn02hd{font-size:14px;font-weight:500;letter-spacing:0em}")}function Vr(t){let n,i;return{c(){n=(0,e.bGB)("span"),i=(0,e.fLW)(t[0]),(0,e.Ljt)(n,"class","context-menu-item__text svelte-qn02hd")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){1&n&&(0,e.rTO)(i,t[0])},d(t){t&&(0,e.ogt)(n)}}}function qr(t){let n,i,o,s,r,a,l=!t[2]&&Vr(t),c=[t[5],{class:s="context-menu-item context-menu-item_size_"+t[4]}],d={};for(let t=0;t<c.length;t+=1)d=(0,e.f0i)(d,c[t]);return{c(){n=(0,e.bGB)(t[6]),i=(0,e.bGB)("span"),o=(0,e.DhX)(),l&&l.c(),(0,e.Ljt)(i,"class","context-menu-item__icon svelte-qn02hd"),(0,e.UF7)(n,d),(0,e.VHj)(n,"context-menu-item_collapsed",t[2]),(0,e.VHj)(n,"svelte-qn02hd",!0)},m(s,c){(0,e.$Tr)(s,n,c),(0,e.R3I)(n,i),i.innerHTML=t[1],(0,e.R3I)(n,o),l&&l.m(n,null),r||(a=(0,e.oLt)(n&&t[3].apply(this,arguments)})),r=!0)},p(o,r){t=o,2&r&&(i.innerHTML=t[1]),t[2]?l&&(l.d(1),l=null):l?l.p(t,r):(l=Vr(t),l.c(),l.m(n,null)),(0,e.UF7)(n,d=(0,e.LoY)(c,[32&r&&t[5],16&r&&s!==(s="context-menu-item context-menu-item_size_"+t[4])&&{class:s}])),(0,e.VHj)(n,"context-menu-item_collapsed",t[2]),(0,e.VHj)(n,"svelte-qn02hd",!0)},d(t){t&&(0,e.ogt)(n),l&&l.d(),r=!1,a()}}}function Fr(t){let n,i=t[6],o=t[6]&&qr(t);return{c(){o&&o.c(),n=(0,e.cSb)()},m(t,i){o&&o.m(t,i),(0,e.$Tr)(t,n,i)},p(t,[s]){t[6]?i?(0,e.N8)(i,t[6])?(o.d(1),o=qr(t),o.c(),o.m(n.parentNode,n)):o.p(t,s):(o=qr(t),o.c(),o.m(n.parentNode,n)):i&&(o.d(1),o=null),i=t[6]},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),o&&o.d(t)}}}function Zr(e,t,n){let i,o,{text:s}=t,{icon:r}=t,{href:a}=t,{collapsed:l=!1}=t,{onClick:c}=t,{size:d}=t;return e.$$set=e=>{"text"in e&&n(0,s=e.text),"icon"in e&&n(1,r=e.icon),"href"in e&&n(7,a=e.href),"collapsed"in e&&n(2,l=e.collapsed),"onClick"in e&&n(3,c=e.onClick),"size"in e&&n(4,d=e.size)},e.$$.update=()=>{128&e.$$.dirty&&n(6,i=a?"a":"div"),128&e.$$.dirty&&n(5,o=a?{href:a,target:"_blank",rel:"noopener"}:{role:"button"})},[s,r,l,c,d,o,i,a]}class Gr extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Zr,Fr,e.N8,{text:0,icon:1,href:7,collapsed:2,onClick:3,size:4},Ur)}}const Yr=Gr,Wr=24;function Jr(t){(0,e.qOq)(t,"svelt-shadow-blur) 0 var(--box-shadow-color);background-color:var(--menu-bg-color);border-radius:12px;padding:4px}")}function Xr(e,t,n){const i=e.slice();return i[6]=t[n],i}function Qr(t){let n,i;const o=[t[6],{collapsed:t[1]},{size:t[2]}];let s={};for(let t=0;t<o.length;t+=1)s=(0,e.f0i)(s,o[t]);return n=new Yr({props:s}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(t,i){const s=7&i?(0,e.LoY)(o,[1&i&&(0,e.gCg)(t[6]),2&i&&{collapsed:t[1]},4&i&&{size:t[2]}]):{};n.$set(s)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Kr(t){let n,i,o,s,r,a=`${Wr}px`;const l=t[5].default,c=(0,e.nuO)(l,t,t[4],null);let d=t[0],u=[];for(let e=0;e<d.length;e+=1)u[e]=Qr(Xr(t,d,e));const p=t=>(0,e.etI)(u[t],1,1,(()=>{u[t]=null}));return{c(){n=(0,e.bGB)("div"),c&&c.c(),i=(0,e.DhX)();for(let e=0;e<u.length;e+=1)u[e].c();(0,e.Ljt)(n,"class","standalone-menu svelte-hgrul5"),(0,e.czc)(n,"--shadow-blur",a,!1)},m(t,o){(0,e.$Tr)(t,n,o),c&&c.m(n,null),(0,e.R3I)(n,i);for(let e=0;e<u.length;e+=1)u[e].m(n,null);r=!0},p(i,[o]){if(t=i,c&&c.p&&(!r||16&o)&&(0,e.kmG)(c,l,t,t[4],r?(0,e.u2N)(l,t[4],o,null):(0,e.VOJ)(t[4]),null),7&o){let i;for(d=t[0],i=0;i<d.length;i+=1){const s=Xr(t,d,i);u[i]?(u[i].p(s,o),(0,e.Ui)(u[i],1)):(u[i]=Qr(s),u[i].c(),(0,e.Ui)(u[i],1),u[i].m(n,null))}for((0,e.dvw)(),i=d.length;i<u.length;i+=1)p(i);(0,e.gbL)()}},i(i){if(!r){(0,e.Ui)(c,i);for(let t=0;t<d.length;t+=1)(0,e.Ui)(u[t]);(0,e.P$F)((()=>{s&&s.end(1),o=(0,e.HCz)(n,Ks,{delay:t[3],duration:200,easing:Xs}),o.start()})),r=!0}},o(t){(0,e.etI)(c,t),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)(0,e.etI)(u[t]);o&&o.invalidate(),t&&(s=(0,e.eZl)(n,Ks,{duration:200,easing:Qs})),r=!1},d(t){t&&(0,e.ogt)(n),c&&c.d(t),(0,e.RMB)(u,t),t&&s&&s.end()}}}function ea(e,t,n){let{$$slots:i={},$$scope:o}=t,{items:s}=t,{collapsed:r=!1}=t,{size:a="normal"}=t,{inDelay:l=0}=t;return e.$$set=e=>{"items"in e&&n(0,s=e.items),"collapsed"in e&&n(1,r=e.collapsed),"size"in e&&n(2,a=e.size),"inDelay"in e&&n(3,l=e.inDelay),"$$scope"in e&&n(4,o=e.$$scope)},[s,r,a,l,o,i]}class ta extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ea,Kr,e.N8,{items:0,collapsed:1,size:2,inDelay:3},Jr)}}const na=ta,ia='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" slot="icon">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.33333 3.33333H6.66667H10.5301C11.273 3.33333 11.5424 3.41069 11.814 3.55594C12.0856 3.7012 12.2988 3.91436 12.4441 4.18596C12.5893 4.45757 12.6667 4.72697 12.6667 5.4699V10.6667C12.6667 11.0349 12.9651 11.3333 13.3333 11.3333C13.7015 11.3333 14 11.0349 14 10.6667V5.41851C14 4.22982 13.8762 3.79877 13.6438 3.36421C13.4114 2.92964 13.0704 2.58859 12.6358 2.35618C12.2012 2.12377 11.7702 2 10.5815 2H6.66667H5.33333C4.96514 2 4.66667 2.29848 4.66667 2.66667C4.66667 3.03486 4.96514 3.33333 5.33333 3.33333ZM4.13657 4.66667C3.54858 4.66667 3.20833 4.69905 2.85263 4.88928C2.58102 5.03453 2.36787 5.24769 2.22261 5.5193C2.03238 5.87499 2 6.21525 2 6.80324V11.8634C2 12.4514 2.03238 12.7917 2.22261 13.1474C2.36787 13.419 2.58102 13.6321 2.85263 13.7774C3.20833 13.9676 3.54858 14 4.13657 14H9.19676C9.78475 14 10.125 13.9676 10.4807 13.7774C10.7523 13.6321 10.9655 13.419 11.1107 13.1474C11.301 12.7917 11.3333 12.4514 11.3333 11.8634V6.80324C11.3333 6.21525 11.301 5.87499 11.1107 5.5193C10.9655 5.24769 10.7523 5.03453 10.4807 4.88928C10.125 4.69905 9.78475 4.66667 9.19676 4.66667H4.13657ZM3.48143 6.06503C3.51496 6.04709 3.5416 6.03516 3.61275 6.02408C3.70471 6.00975 3.85456 6 4.13657 6H9.19676C9.47877 6 9.62862 6.00975 9.72059 6.02408C9.79173 6.03516 9.81837 6.04709 9.85191 6.06503C9.89115 6.08602 9.91398 6.10885 9.93497 6.14809C9.95291 6.18163 9.96484 6.20827 9.97592 6.27941C9.99025 6.37138 10 6.52123 10 6.80324V11.8634C10 12.1454 9.99025 12.2953 9.97592 12.3873C9.96484 12.4584 9.95291 12.485 9.93497 12.5186C9.91398 12.5578 9.89115 12.5806 9.85191 12.6016C9.81837 12.6196 9.79173 12.6315 9.72059 12.6426C9.62862 12.6569 9.47877 12.6667 9.19676 12.6667H4.13657C3.85456 12.6667 3.70471 12.6569 3.61275 12.6426C3.5416 12.6315 3.51496 12.6196 3.48143 12.6016C3.44218 12.5807 3.41935 12.5578 3.39836 12.5186C3.38043 12.485 3.36849 12.4584 3.35741 12.3873C3.34308 12.2953 3.33333 12.1454 3.33333 11.8634V6.80324C3.33333 6.52123 3.34308 6.37138 3.35741 6.27941C3.36849 6.20827 3.38043 6.18163 3.39836 6.14809C3.41935 6.10885 3.44218 6.08602 3.48143 6.06503Z" fill="#919CB5"/>\n</svg>',oa='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" slot="icon">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M8 2C8.41421 2 8.75 2.33579 8.75 2.75V7.24999H13.25C13.6642 7.24999 14 7.58578 14 7.99999C14 8.41421 13.6642 8.74999 13.25 8.74999H8.75V13.25C8.75 13.6642 8.41421 14 8 14C7.58578 14 7.25 13.6642 7.25 13.25V8.74999L2.75 8.75001C2.33579 8.75001 2 8.41422 2 8.00001C2 7.58579 2.33579 7.25001 2.75 7.25001L7.25 7.24999V2.75C7.25 2.33579 7.58578 2 8 2Z" fill="#919CB5"/>\n</svg>',sa='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill="#919CB5" fill-rule="evenodd" clip-rule="evenodd" d="M14.6667 7.66683C14.6667 6.26883 13.848 5.33483 12.4567 5.33483H10.5113C10.5707 4.72216 10.6 4.16683 10.6 3.66683C10.6 2.35816 9.39333 1.3335 8.17333 1.3335C7.23067 1.3335 6.96667 1.8735 6.80733 3.12216C6.80467 3.14483 6.74467 3.63016 6.724 3.7855C6.68733 4.05683 6.64933 4.29883 6.60267 4.54083C6.42067 5.4835 5.94333 6.5035 5.45133 7.1015C5.35888 7.01889 5.25681 6.94771 5.14733 6.8895C4.876 6.74416 4.55867 6.66683 4.102 6.66683H3.898C3.44133 6.66683 3.12467 6.74416 2.85267 6.8895C2.58426 7.03159 2.36476 7.25109 2.22267 7.5195C2.07733 7.79083 2 8.10816 2 8.56483V12.1022C2 12.5588 2.07733 12.8755 2.22267 13.1475C2.368 13.4188 2.58133 13.6322 2.85267 13.7775C3.124 13.9228 3.44133 14.0002 3.898 14.0002H4.102C4.55867 14.0002 4.87533 13.9228 5.14733 13.7775C5.304 13.6935 5.44133 13.5868 5.55733 13.4595C6.022 13.8095 6.67733 14.0002 7.54733 14.0002H10.5153C11.506 14.0002 12.2253 13.6315 12.684 13.0088C12.8733 12.7528 12.9553 12.5742 13.082 12.2315C13.1098 12.1782 13.1463 12.13 13.19 12.0888C13.2073 12.0702 13.2633 12.0142 13.3287 11.9488C13.4187 11.8595 13.526 11.7522 13.5747 11.7002C13.79 11.4695 13.9587 11.2402 14.096 10.9648C14.334 10.4895 14.3667 10.1262 14.3207 9.51616C14.3033 9.28283 14.3027 9.20683 14.3153 9.15483C14.338 9.05816 14.3653 8.97816 14.4133 8.85683L14.4573 8.74616C14.604 8.37816 14.6667 8.09883 14.6667 7.66683ZM8.04533 3.9635C8.068 3.79616 8.13133 3.28483 8.13 3.29083C8.17133 2.96883 8.206 2.77883 8.242 2.6695C8.74867 2.70883 9.26667 3.1695 9.26667 3.66683C9.26667 4.3035 9.21333 5.05483 9.10533 5.91883C9.09361 6.01261 9.10197 6.10781 9.12984 6.19812C9.15772 6.28843 9.20448 6.37178 9.26701 6.44264C9.32955 6.5135 9.40645 6.57025 9.49259 6.60913C9.57873 6.64801 9.67216 6.66814 9.76667 6.66816H12.4567C13.07 6.66816 13.3333 6.96883 13.3333 7.66683C13.3333 7.9135 13.3067 8.0315 13.218 8.25416L13.174 8.3655C13.1097 8.52125 13.0576 8.68172 13.018 8.8455C12.962 9.08283 12.9627 9.23616 12.9913 9.61616C13.0207 10.0042 13.006 10.1642 12.904 10.3688C12.8244 10.5232 12.7222 10.6648 12.6007 10.7888C12.574 10.8182 12.502 10.8902 12.426 10.9662C12.34 11.0515 12.2493 11.1422 12.2133 11.1808C12.036 11.3715 11.9127 11.5502 11.8313 11.7688C11.746 11.9988 11.7033 12.0928 11.6113 12.2182C11.402 12.5015 11.0793 12.6668 10.5153 12.6668H7.54667C6.32467 12.6668 6.002 12.2882 6.002 11.3335V8.4335C6.87533 7.6975 7.64067 6.19616 7.91133 4.7935C7.96267 4.5235 8.00467 4.25816 8.04467 3.9635H8.04533ZM3.48133 8.06483C3.55867 8.02416 3.66667 8.00016 3.898 8.00016H4.102C4.33333 8.00016 4.44133 8.02416 4.51867 8.0655C4.55451 8.08329 4.58354 8.11232 4.60133 8.14816C4.64267 8.2255 4.66667 8.33283 4.66667 8.56483V12.1022C4.66667 12.3342 4.64267 12.4415 4.60133 12.5188C4.58366 12.5549 4.55461 12.5842 4.51867 12.6022C4.44133 12.6428 4.33333 12.6668 4.102 12.6668H3.898C3.66667 12.6668 3.55867 12.6428 3.48133 12.6015C3.4455 12.5837 3.41646 12.5547 3.39867 12.5188C3.35733 12.4415 3.33333 12.3335 3.33333 12.1022V8.56483C3.33333 8.33283 3.35733 8.2255 3.39867 8.14816C3.41646 8.11232 3.4455 8.08329 3.48133 8.0655V8.06483Z"/>\n</svg>\n',ra='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill="#7A55FF" fill-rule="evenodd" clip-rule="evenodd" d="M10.5993 3.00016C10.5993 2.00016 9.61135 1.3335 8.83935 1.3335C8.30202 1.3335 8.26002 1.7415 8.17735 2.54683C8.14068 2.90016 8.09668 3.3295 7.99935 3.8335C7.74202 5.16816 6.85268 6.8735 6.00202 7.3835V11.3335C5.99935 12.8335 6.49935 13.3335 8.66602 13.3335H11.1813C12.632 13.3335 12.9833 12.3782 13.114 12.0242L13.1227 12.0002C13.1987 11.7962 13.3613 11.6355 13.548 11.4535C13.7547 11.2495 13.9907 11.0182 14.166 10.6668C14.3733 10.2515 14.346 9.88216 14.3213 9.5535C14.306 9.35416 14.292 9.17016 14.3327 9.00016C14.3753 8.82016 14.43 8.6835 14.4827 8.55283C14.578 8.3155 14.666 8.0955 14.666 7.66683C14.666 6.66683 14.1673 6.0015 13.1227 6.0015H10.3327C10.3327 6.0015 10.5993 4.00016 10.5993 3.00016ZM3.66602 6.66683C3.4008 6.66683 3.14645 6.77219 2.95891 6.95972C2.77137 7.14726 2.66602 7.40161 2.66602 7.66683V12.3335C2.66602 12.5987 2.77137 12.8531 2.95891 13.0406C3.14645 13.2281 3.4008 13.3335 3.66602 13.3335C3.93123 13.3335 4.18559 13.2281 4.37312 13.0406C4.56066 12.8531 4.66602 12.5987 4.66602 12.3335V7.66683C4.66602 7.40161 4.56066 7.14726 4.37312 6.95972C4.18559 6.77219 3.93123 6.66683 3.66602 6.66683Z"/>\n</svg>\n',aa='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill="#919CB5" fill-rule="evenodd" clip-rule="evenodd" d="M1.99935 8.33317C1.99935 9.73117 2.81778 10.6654 4.20923 10.6654H6.15457C6.09561 11.2776 6.06601 11.8333 6.06601 12.3332C6.06601 13.6416 7.27314 14.6665 8.49284 14.6665C9.43506 14.6665 9.69873 14.1267 9.85842 12.878L9.85851 12.8772L9.85856 12.8768L9.85861 12.8764C9.86238 12.8459 9.92133 12.3682 9.94203 12.2147C9.97868 11.9428 10.017 11.7016 10.0637 11.4592C10.2452 10.5166 10.7225 9.49624 11.2147 8.89829C11.3057 8.98003 11.4073 9.051 11.5186 9.11056C11.7902 9.25582 12.1074 9.33317 12.5638 9.33317H12.7683C13.2246 9.33317 13.5418 9.25582 13.8134 9.11056C14.085 8.9653 14.2981 8.75215 14.4434 8.48054C14.5887 8.20894 14.666 7.89177 14.666 7.43542V3.89759C14.666 3.44124 14.5887 3.12407 14.4434 2.85247C14.2981 2.58086 14.085 2.3677 13.8134 2.22245C13.5418 2.07719 13.2246 1.99984 12.7683 1.99984H12.5638C12.1074 1.99984 11.7902 2.07719 11.5186 2.22245C11.3618 2.30634 11.2244 2.41288 11.1084 2.54024C10.6442 2.1905 9.98851 1.99984 9.11887 1.99984H6.15096C5.16011 1.99984 4.44039 2.3684 3.98165 2.99108C3.79293 3.24723 3.71102 3.4255 3.58406 3.7683C3.57447 3.7942 3.54427 3.83782 3.47616 3.91107C3.45899 3.92953 3.40285 3.98561 3.33737 4.05101L3.33713 4.05125L3.33706 4.05132C3.24737 4.14091 3.14025 4.24792 3.09171 4.29976C2.87596 4.53019 2.70751 4.75946 2.56973 5.03503C2.3321 5.51029 2.29947 5.87387 2.34521 6.48364C2.36278 6.71776 2.36324 6.79318 2.35079 6.84552C2.32789 6.94176 2.30095 7.0218 2.25272 7.14353L2.20873 7.25364C2.0626 7.62173 1.99935 7.90115 1.99935 8.33317ZM8.53602 12.7087C8.53519 12.7151 8.59822 12.2039 8.62082 12.0364C8.66059 11.7414 8.70268 11.4762 8.75454 11.2069C9.0248 9.8036 9.7899 8.30226 10.6632 7.56632V4.66634C10.6632 3.71162 10.3411 3.33301 9.11903 3.33301H6.15112C5.58664 3.33301 5.26427 3.49809 5.05528 3.78177C4.96298 3.90705 4.91986 4.0009 4.83456 4.23121C4.75367 4.4496 4.63009 4.62816 4.45267 4.81893C4.41684 4.85746 4.32623 4.94805 4.2404 5.03385L4.24035 5.03391L4.24034 5.03392C4.16453 5.1097 4.09247 5.18175 4.06518 5.21089C3.93115 5.35404 3.83683 5.48242 3.76246 5.63115C3.66018 5.83572 3.64584 5.99542 3.67497 6.38373C3.70346 6.7635 3.70441 6.91721 3.64807 7.154C3.60799 7.32246 3.56222 7.45846 3.49246 7.63451L3.44814 7.74545C3.35975 7.96811 3.33284 8.08697 3.33284 8.33301C3.33284 9.03098 3.59645 9.33188 4.20939 9.33188H6.89951C7.30048 9.33188 7.61073 9.68329 7.56104 10.0812C7.45314 10.9451 7.39951 11.6963 7.39951 12.333C7.39951 12.8297 7.91759 13.2912 8.4241 13.3303C8.46006 13.2211 8.49479 13.0311 8.53602 12.7087ZM13.1848 7.93473C13.1075 7.97605 12.9998 7.99976 12.7684 7.99976H12.5639C12.3325 7.99976 12.2249 7.97605 12.1476 7.93473C12.1084 7.91374 12.0855 7.89091 12.0645 7.85166C12.0232 7.7744 11.9995 7.66673 11.9995 7.43534V3.89751C11.9995 3.66611 12.0232 3.55845 12.0645 3.48118C12.0855 3.44194 12.1084 3.41911 12.1476 3.39812C12.2249 3.3568 12.3325 3.33309 12.5639 3.33309H12.7684C12.9998 3.33309 13.1075 3.3568 13.1848 3.39812C13.224 3.41911 13.2468 3.44194 13.2678 3.48118C13.3091 3.55845 13.3328 3.66611 13.3328 3.89751V7.43534C13.3328 7.66673 13.3091 7.7744 13.2678 7.85166C13.2468 7.89091 13.224 7.91374 13.1848 7.93473Z"/>\n</svg>\n',la='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill="#7A55FF" fill-rule="evenodd" clip-rule="evenodd" d="M6.06667 13.0003C6.06667 14.0003 7.05478 14.667 7.82682 14.667C8.36372 14.667 8.40583 14.2587 8.48891 13.4531C8.5253 13.1003 8.56955 12.6713 8.66667 12.167C8.92367 10.8325 9.8134 9.12743 10.6637 8.61723V4.66699C10.6667 3.16699 10.1667 2.66699 8 2.66699H5.48494C4.03382 2.66699 3.68245 3.62196 3.55199 3.97653C3.54895 3.9848 3.54602 3.99273 3.54321 4.00033C3.46764 4.20437 3.30452 4.36464 3.11831 4.54759C2.91119 4.75107 2.67552 4.98261 2.5 5.33366C2.29248 5.74869 2.32027 6.11844 2.34496 6.44706C2.35993 6.64629 2.37376 6.83041 2.33333 7.00033C2.29052 7.18027 2.23583 7.31667 2.18318 7.44797C2.08826 7.6847 2 7.90483 2 8.33366C2 9.33366 2.49898 9.9992 3.54321 9.9992H6.33333C6.33333 9.9992 6.06667 12.0003 6.06667 13.0003ZM12.9997 9.33366C13.552 9.33366 13.9997 8.88594 13.9997 8.33366V3.66699C13.9997 3.11471 13.552 2.66699 12.9997 2.66699C12.4474 2.66699 11.9997 3.11471 11.9997 3.66699V8.33366C11.9997 8.88594 12.4474 9.33366 12.9997 9.33366Z"/>\n</svg>\n',ca='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" slot="icon">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.44128 1H7.55716C6.84478 1 6.56404 1.05957 6.27627 1.18012C5.9885 1.30067 5.74831 1.48221 5.55381 1.72616C5.35931 1.97011 5.2254 2.22395 5.03101 2.90929L4.91073 3.33333H3.7075H3.33268C2.96449 3.33333 2.66602 3.63181 2.66602 4C2.66602 4.36819 2.96449 4.66667 3.33268 4.66667H3.66621L4.22899 13.1108C4.28734 13.9863 5.01452 14.6667 5.89197 14.6667H10.1068C10.9842 14.6667 11.7114 13.9864 11.7697 13.1109L12.3327 4.66715V4.66667H12.666C13.0342 4.66667 13.3327 4.36819 13.3327 4C13.3327 3.63181 13.0342 3.33333 12.666 3.33333H12.3327H11.0877L10.9674 2.90929C10.773 2.22395 10.6391 1.97011 10.4446 1.72616C10.2501 1.48221 10.0099 1.30067 9.72217 1.18012C9.4344 1.05957 9.15366 1 8.44128 1ZM9.70215 3.33333L9.68507 3.27312C9.54959 2.79548 9.49222 2.66993 9.40247 2.55737C9.34751 2.48844 9.28867 2.44396 9.20735 2.4099C9.07457 2.35427 8.93814 2.33333 8.44165 2.33333H7.55754C7.06105 2.33333 6.92461 2.35427 6.79183 2.4099C6.71052 2.44396 6.65168 2.48844 6.59671 2.55737C6.50697 2.66993 6.44959 2.79548 6.31412 3.27312L6.29704 3.33333H9.70215ZM10.9967 4.66667H5.00278L5.55964 13.022C5.57131 13.1971 5.71674 13.3332 5.89223 13.3332H10.107C10.2825 13.3332 10.4279 13.1971 10.4396 13.022L10.9967 4.66667ZM6.26587 6.42049C6.25495 6.10772 6.49964 5.84531 6.81242 5.83439C7.12519 5.82347 7.38759 6.06816 7.39851 6.38094L7.57999 11.5778C7.59091 11.8905 7.34622 12.1529 7.03345 12.1639C.83423C8.87399 5.82331 8.61159 6.068 8.60067 6.38077L8.41919 11.5776C8.40827 11.8904 8.65296 12.1528 8.96573 12.1637C9.27851 12.1746 9.54091 11.9299 9.55183 11.6172L9.73331 6.42033C9.74423 6.10756 9.49954 5.84515 9.18676 5.83423Z" fill="#919CB5"/>\n</svg>';function da(t){let n,i;return n=new na({props:{items:t[2],collapsed:t[0],inDelay:t[4]?0:300}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};4&t&&(i.items=e[2]),1&t&&(i.collapsed=e[0]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t)$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function ua(n,i,o){let s,r,a,l,c,d,u=e.ZTd;n.$$.on_destroy.push((()=>u()));let{requestId:p}=i,{isUserAuthor:h=!1}=i,{textToCopy:g}=i,{collapsed:m=!0}=i,{mark:f}=i;const{allChatsStore:v,isMobile:b,outputBus:_}=(0,t.fw)(fe.f1);(0,e.FIv)(n,v,(e=>o(13,d=e)));const y=(0,t.fw)(Br._f);(0,e.FIv)(n,y,(e=>o(11,l=e)));const x=Zs((()=>{_.emit("stat",{path:"context_menu.show_full",eventType:"show",customParams:{value:p}})}));return(0,t.gx)((()=>{m||x()})),n.$$set=e=>{"requestId"in e&&o(6,p=e.requestId),"isUserAuthor"in e&&o(7,h=e.isUserAuthor),"textToCopy"in e&&o(8,g=e.textToCopy),"collapsed"in e&&o(0,m=e.collapsed),"mark"in e&&o(9,f=e.mark)},n.$$.update=()=>{8192&n.$$.dirty&&(o(1,s=d.currentChat),u(),u=(0,e.LdU)(s,(e=>o(12,c=e)))),15170&n.$$.dirty&&o(10,r={copy:{text:"Копировать",icon:ia,onClick(){_.emit("stat",{path:"context_menu.copy",eventType:"click",customParams:{value:p}}),navigator.clipboard.writeText(g.trim()),l.onCancelClick||(0,e.fxP)(y,l={text:"Сообщение скопировано",statName:"notifier.message_copy_notification",shouldUseIcon:!0},l)}},newChat:{text:"Новый чат",icon:oa,onClick(){_.emit("stat",{path:"context_menu.new_chat",customParams:{value:p},eventType:"click"}),l.onCancelClick||v.createChatWithMessages([p]).then((()=>{(0,e.fxP)(y,l={text:"Новый чат создан",statName:"notifier.new_chat_notification",shouldUseIcon:!0},l)}))}},goodAnswer:{text:"Хороший ответ",icon:f===Gs.Hc.GOOD?ra:sa,onClick(){_.emit("stat",{path:"context_menu.good_answer",eventType:"click",customParams:{value:p}}),s.setMarkMessagesByRequestId(p,Gs.Hc.GOOD)&&!l.onCancelClick&&(0,e.fxP)(y,l={text:"Спасибо за оценку",statName:"notifier.thanks_for_rating_notification",shouldUseIcon:!0wer:{text:"Плохой ответ",icon:f===Gs.Hc.BAD?la:aa,onClick(){_.emit("stat",{path:"context_menu.bad_answer",eventType:"click",customParams:{value:p}}),s.setMarkMessagesByRequestId(p,Gs.Hc.BAD)&&!l.onCancelClick&&(0,e.fxP)(y,l={text:"Спасибо за оценку",statName:"notifier.thanks_for_rating_notification",shouldUseIcon:!0},l)}},remove:{text:"Удалить",icon:ca,onClick(){_.emit("stat",{path:"context_menu.remove",eventType:"click",customParams:{value:p}}),s.assignToMessagesByRequestId(p,{hidden:!0});const t=d.activeChatId,n=!s.isDefault&&!c.messages.filter((e=>!e.hidden)).length;n&&v.setHiddenChat(t,!0),(0,e.fxP)(y,l={text:n?"Чат удален":"Сообщение удалено",statName:n?"notifier.chat_deletion_notification":"notifier.message_deletion_notification",onCancelClick(){n&&(v.setHiddenChat(t,!1),v.setActiveChatId(t)),s.assignToMessagesByRequestId(p,{hidden:!1})},onDestroy(){if(n)return _.emit("stat",{path:"notifier.chat_deletion_physically",customParams:{value:p},eventType:"show"}),v.removeChat(t);_.emit("stat",{path:"notifier.message_deletion_physically",customParams:{value:p},eventType:"show"}),s.removeMessagesByRequestId(p)}},l)}}}),1152&n.$$.dirty&&o(2,a=h?[r.copy,r.remove]:[r.copy,r.newChat,r.goodAnswer,r.badAnswer,r.remove])},[m,s,a,v,b,y,p,h,g,f,r,l,c,d]}class pa extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ua,da,e.N8,{requestId:6,isUserAuthor:7,textToCopy:8,collapsed:0,mark:9})}}const ha=pa,ga=(e,t=0)=>{var n;const i=window.scrollY+window.innerHeight-t;return(null!==(n=null==e?void 0:e.getBoundingClientRect().bottom)&&void 0!==n?n:0)>i?"top":"bottom"},ma=e=>{var t;const n=(null===(t=null==e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.x)||0;return n>16?0:n},fa=(e,t=0)=>{var n;return(null!==(n=null==e?void 0:e.getBoundingClientRect().right)&&void 0!==n?n:0)<window.innerWidth-(t+4)?"right":"left"};function va(t){(0,e.qOq)(t,"svelte-51hw8j",".message-menu-visibility-wrapper.svelte-51hw8j{position:absolute;right:0;top:calc(100% + 8px);z-index:2}.message-menu-visibility-wrapper__container_top.svelte-51hw8j{right:var(--right-position-menu-bottom);position:fixed;bottom:calc(var(--bottom-container-height) + 16px)}.message-menu-visibility-wrapper__container_bottom.svelte-51hw8j{position:static;padding-left:16px;margin-right:var(--menu-margin-right)}")}function ba(t){let n,i,o,s,r,a=`${t[6]}px`,l=(t[1]?16:32)+"px",c=`${ma(t[5])}px`;return o=new ha({props:{requestId:t[0],collapsed:!1,isUserAuthor:t[1],textToCopy:t[2],mark:t[3]}}),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),(0,e.YCL)(o.$$.fragment),(0,e.Ljt)(i,"class",s="message-menu-visibility-wrapper__container_"+ga(t[5],t[6])+" svelte-51hw8j"),(0,e.czc)(i,"--bottom-container-height",a,!1),(0,e.czc)(i,"--right-position-menu-bottom",l,!1),(0,e.czc)(i,"--menu-margin-right",c,!1),(0,e.Ljt)(n,"class","message-menu-visibility-wrapper svelte-51hw8j")},f)(o,i,null),t[13](i),r=!0},p(t,n){const d={};1&n&&(d.requestId=t[0]),2&n&&(d.isUserAuthor=t[1]),4&n&&(d.textToCopy=t[2]),8&n&&(d.mark=t[3]),o.$set(d),(!r||96&n&&s!==(s="message-menu-visibility-wrapper__container_"+ga(t[5],t[6])+" svelte-51hw8j"))&&(0,e.Ljt)(i,"class",s),64&n&&a!==(a=`${t[6]}px`)&&(0,e.czc)(i,"--bottom-container-height",a,!1),2&n&&l!==(l=(t[1]?16:32)+"px")&&(0,e.czc)(i,"--right-position-menu-bottom",l,!1),32&n&&c!==(c=`${ma(t[5])}px`)&&(0,e.czc)(i,"--menu-margin-right",c,!1)},i(t){r||((0,e.Ui)(o.$$.fragment,t),r=!0)},o(t){(0,e.etI)(o.$$.fragment,t),r=!1},d(i){i&&(0,e.ogt)(n),(0,e.vpE)(o),t[13](null)}}}function _a(t){let n,i,o,s,r=t[4]&&ba(t);return{c(){r&&r.c(),n=(0,e.DhX)()},m(e.$Tr)(a,n,l),i=!0,o||(s=[(0,e.oLt)(document.body,"click",t[8]),(0,e.oLt)(document.body,"scroll",t[8],!0)],o=!0)},p(t,[i]){t[4]?r?(r.p(t,i),16&i&&(0,e.Ui)(r,1)):(r=ba(t),r.c(),(0,e.Ui)(r,1),r.m(n.parentNode,n)):r&&((0,e.dvw)(),(0,e.etI)(r,1,1,(()=>{r=null})),(0,e.gbL)())},i(t){i||((0,e.Ui)(r),i=!0)},o(t){(0,e.etI)(r),i=!1},d(t){r&&),o=!1,(0,e.j7q)(s)}}}let ya;function xa(n,i,o){let s,{requestId:r}=i,{isUserAuthor:a=!1}=i,{textToCopy:l}=i,{mark:c}=i,{onMenuOpen:d}=i,{onMenuClosed:u}=i;const{bottomContainerHeight:p}=(0,t.fw)(Br.zb);(0,e.FIv)(n,p,(e=>o(6,s=e)));let h,g=!1;const m=()=>{o(4,g=!1),u()};return n.$$set=e=>{"requestId"in e&&o(0,r=e.requestId),"isUserAuthor"in e&&o(1,a=e.isUserAuthor),"textToCopy"in e&&o(2,l=e.textToCopy),"mark"in e&&o(3,c=e.mark),"onMenuOpen"in e&&o(9,d=e.onMenuOpen),"onMenuClosed"in e&&o(10,u=e.onMenuClosed)},[r,a,l,c,g,h,s,p,m,d,u,e=>{e.stopPropagation(),g?m():(null==ya||ya(),ya=m,o(4,g=!0),d())},()=>{null==ya||ya()},function(t){e.VnY[t?"unshift":"push"]((()=>{h=t,o(5,h)}))}]}class wa extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,xa,_a,e.N8,{requestId:0,isUserAuthor:1,textToCopy:2,mark:3,onMenuOpen:9,onMenuClosed:10,toggleMenu:11,closePreviousOpennedMenu:12},va)}get toggleMenu(){return this.$$.ctx[11]}get closePreviousOpennedMenu(){return this.$$.ctx[12]}}const ka=wa;function $a(t){(0,e.qOq)(t,"svelte-7ct07m",".message-menu-visibility-wrapper.svelte-7ct07m.svelte-7ct07m{position:absolute;top:0;height:100%;z-index:2}.message-menu-visibility-wrapper_position_left.svelte-7ct07m.svelte-7ct07m{right:0}.message-menu-visibility-wrapper_position_right.svelte-7ct07m.svelte-7ct07m{left:100%;padding-left:8px}.message-menu-visibility-wrapper__container_top.svelte-7ct07m.svelte-7ct07m{position:absolute;bottom:0}.message-menu-visibility-wrapper__container_bottom.svelte-7ct07m.svelte-7ct07m{position:sticky;top:94px}.message-menu-visibility-wrapper_position_left.svelte-7ct07m .message-menu-visibility-wrapper__container_top.svelte-7ct07m{right:0}")}function Ca(t){let n,i,o,s,r,a,l,c;return o=new ha({props:{requestId:t[0],isUserAuthor:t[1],collapsed:t[5],textToCopy:t[2],mark:t[3]}}),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),(0,e.YCL)(o.$$.fragment),(0,e.Ljt)(i,"class",s="message-menu-visibility-wrapper__container_"+ga(t[6],t[8])+" svelte-7ct07m"),(0,e.Ljt)(n,"class",r="message-menu-visibility-wrapper message-menu-visibility-wrapper_position_"+t[7]+" svelte-7ct07m")},m(s,r){(0,e.$Tr)(s,n,r),(0,e.R3I)(n,i),(0,e.yef)(o,i,null),t[14](i),a=!0,l|Lt)(n,"mouseenter",t[10]),(0,e.oLt)(n,"mouseleave",t[11])],l=!0)},p(t,l){const c={};1&l&&(c.requestId=t[0]),2&l&&(c.isUserAuthor=t[1]),32&l&&(c.collapsed=t[5]),4&l&&(c.textToCopy=t[2]),8&l&&(c.mark=t[3]),o.$set(c),(!a||320&l&&s!==(s="message-menu-visibility-wrapper__container_"+ga(t[6],t[8])+" svelte-7ct07m"))&&(0,e.Ljt)(i,"class",s),(!a||128&l&&r!==(r="message-menu-visibility-wrapper message-menu-visibility-wrapper_position_"+t[7]+" svelte-7ct07m"))&&(0,e.Ljt)(n,"class",r)},i(t){a||((0,e.Ui)(o.$$.fragment,t),a=!0)},o(t){(0,e.etI)(o.$$.fragment,t),a=!1},d(i){i&&(0,e.ogt)(n),(0,e.vpE)(o),t[14](null),l=!1,(0,e.j7q)(c)}}}function Ia(t){let n,i,o=t[4]&&Ca(t);return{c(){o&&o.c(),n=(0,e.cSb)()},m(t,s){o&&o.m(t,s),(0,e.$Tr)(t,n,s),i=!0},p(t,[i]){t[4]?o?(o.p(t,i),16&i&&(0,e.Ui)(o,1)):(o=Ca(t),o.c(),(0,e.Ui)(o,1),o.m(n.parentNode,n)):o&&((0,e.dvw)(),(0,e.etI)(o,1,1,(()=>{o=null})),(0,e.gbL)())},i(t){i||((0,e.Ui)(o),i=!0)},o(t){(0,e.etI)(o),i=!1},d(t){o&&o.d(t),t&&(0,e.ogt)(n)}}}function Sa(n,i,o){let s,{requestId:r}=i,{isUserAuthor:a=!1}=i,{textToCopy:l}=i,{mark:c}=i;const{bottomContainerHeight:d}=(0,t.fw)(Br.zb);(0,e.FIv)(n,d,(e=>o(8,s=e)));let u,p=!1,h=!1,g="right";return n.$$set=e=>{"requestId"in e&&o(0,r=e.requestId),"isUserAuthor"in e&&o(1,a=e.isUserAuthor),"textToCopy"in e&&o(2,l=e.textToCopy),"mark"in e&&o(3,c=e.mark)},[r,a,l,c,p,h,u,g,s,d,()=>{o(5,h=!1)},()=>{o(5,h=!0)},()=>{o(4,p=!0),(0,t.Ky)().then((()=>{o(7,g=fa(u,Wr)),o(5,h=!0)}))},()=>{o(4,p=!1),o(5,h=!1),o(7,g="right")},function(t){e.VnY[t?"unshift":"push"]((()=>{u=t,o(6,u)}))}]}class Ta extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Sa,Ia,e.N8,{requestId:0,isUserAuthor:1,textToCopy:2,mark:3,onMessageMouseEnter:12,onMessageMouseLeave:13},$a)}get onMessageMouseEnter(){return this.$$.ctx[12]}get onMessageMouseLeave(){return this.$$.ctx[13]}}const Ma=Ta,La=async(e,t)=>{try{return(e?await Promise.all([r.e(926),r.e(780)]).then(r.bind(r,9421)):await Promise.all([r.e(433),r.e(319)]).then(r.bind(r,3349))).default}catch(e){return t.emit("errorThrown",Error("failed to load rich-json bundle")),null}};function Ea(t){(0,e.qOq)(t,"svelte-gaa20y",".message-bubble.svelte-gaa20y.svelte-gaa20y{font-style:normal;font-weight:400;font-size:14px;line-height:1.5;box-sizing:border-box;width:-moz-fit-content;width:fit-content;max-width:100%;color:rgba(0, 0, 0, 0.8);background:#f2f3f5;border-radius:2px 16px 16px 16px;padding:12px 16px;white-space:normal;-webkit-user-select:text;-moz-user-select:text;user-select:text;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word}.message-bubble_theme_dark.svelte-gaa20y.svelte-gaa20y{color:#fff;background:rgba(255, 255, 255, 0.06)}.message-bubble_standalone.svelte-gaa20y.svelte-gaa20y{position:relative;overflow:visible;border-radius:24px;padding:16px 24px;background:var(--alisa-bubble-color);color:var(--text-primary-color)}.message-bubble_standalone.message-bubble_highlighted.svelte-gaa20y.svelte-gaa20y{background-color:var(--alisa-button-color)}.message-bubble_standalone.message-bubble_external-dialog.svelte-gaa20y.svelte-gaa20y:not(.message-bubble_from-user){background-color:var(--alisa-bubble-blue-color)}.message-bubble_standalone.message-bubble_mobile.svelte-gaa20y.svelte-gaa20y{padding:12px 16px;border-radius:20px}.message-bubble_standalone.svelte-gaa20y.svelte-gaa20y:first-child{border-top-left-radius:4px}.message-bubble_standalone.message-bubble_type_divJson.svelte-gaa20y.svelte-gaa20y{width:100%}.message-bubble_standalone.message-bubble_type_divJson.svelte-gaa20y.svelte-gaa20y,.message-bubble_standalone.message-bubble_type_richJson.svelte-gaa20y.svelte-gaa20y,.message-bubble_standalone.message-bubble_type_promo.svelte-gaa20y.svelte-gaa20y{padding:24px}.message-bubble_from-user.svelte-gaa20y.svelte-gaa20y{font-weight:500;white-space:pre-wrap;color:#fff;background:#7137ff;border-radius:12px 2px 12px 12px;margin-left:32px;max-width:calc(100% - 32px);align-self:flex-end}.message-bubble_standalone.message-bubble_from-user.svelte-gaa20y.svelte-gaa20y{font-weight:400;border-radius:24px 4px 24px 24px;background:var(--user-bubble-color);color:var(--text-primary-color);margin-left:48px}.message-bubble_standalone.message-bubble_highlighted.message-bubble_from-user.svelte-gaa20y.svelte-gaa20y{background-color:var(--border-color)}.message-bubble_standalone.message-bubble_mobile.message-bubble_from-user.svelte-gaa20y.svelte-gaa20y{border-radius:20px 4px 20px 20px;margin-left:16px}.message-bubble_fullscreen.svelte-gaa20y.svelte-gaa20y,.message-bubble_standalone.svelte-gaa20y.svelte-gaa20y{font-size:16px}.message-bubble_fullscreen.svelte-gaa20y.svelte-gaa20y:not(.message-bubble_from-user){margin-right:32px;max-width:calc(100% - 32px)}.message-bubble_standalone.svelte-gaa20y.svelte-gaa20y:not(.message-bubble_from-user){margin-right:48px;max-width:calc(100% - 48px)}.message-bubble_standalone.message-bubble_mobile.svelte-gaa20y.svelte-gaa20y:not(.message-bubble_from-user){margin-right:16px;max-width:calc(100% - 16px)}.message-bubble__buttons.svelte-gaa20y.svelte-gaa20y{display:flex;gap:10px}.message-bubble__status.svelte-gaa20y.svelte-gaa20y{color:#929db4;margin-top:10px}.message-bubble_standalone.svelte-gaa20y .message-bubble__status.svelte-gaa20y{color:var(--text-secondary-color)}.message-bubble_standalone.message-bubble_promo.svelte-gaa20y.svelte-gaa20y{background:var(--alisa-bubble-promo-color);width:calc(100% - 48px);overflow:hidden}.message-bubble_standalone.message-bubble.message-bubble_hide_borders.svelte-gaa20y.svelte-gaa20y,.message-bubble.message-bubble_hide_borders.svelte-gaa20y.svelte-gaa20y{margin:0;padding:0;background:none;border:none;overflow:visible}.message-bubble_mobile.message-bubble_standalone.message-bubble_promo.svelte-gaa20y.svelte-gaa20y{width:calc(100% - 16px)}.message-bubble.message-bubble_type_richJson.svelte-gaa20y.svelte-gaa20y{margin-top:2px}.message-bubble.message-bubble_mobile.message-bubble_type-gaa20y{margin-top:4px;margin-left:-25px;margin-right:-25px;min-width:calc(100% + 50px)}")}function ja(e,t,n){const i=e.slice();return i[30]=t[n],i}function Da(t){let n,i;retur[}i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Oa(t){let n,i,o,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Ra,then:Ha,catch:Na,value:33,blocks:[,,,]};return(0,e.CR_)(i=La(t[7],t[6]),s),{c(){n=(0,e.cSb)(),s.block.c()},m(t,i){(0,e.$Tr)(t,n,i),s.block.m(t,s.anchor=i),s.mount=()=>n.parentNode,s.anchor=n,o=!0},p(n,o){t=n,s.ctx=t,192&o[0]&&i!==(i=La(t[7],t[6]))&&(0,e.CR_)(i,s)||(0,e.xfz)(s,t,o)},i(t){o||((0,e.Ui)(s.block),o=!0)},o(t){for(let t=0;t<3;t+=1){const n=s.blocks[t];(0,e.etI)(n)}o=!1},d(t){t&&(0,e.ogt)(n),s.block.d(t),s.token=null,s=null}}}function za(t){let n,i;return n=new Ts({props:{theme:t[2],onHorizontalMoveChange:t[9],id:"divCard",statName:"div_card},o),i=!0},p(e,t){const i={};4&t[0]&&(i.theme=e[2]),512&t[0]&&(i.onHorizontalMoveChange=e[9]),1024&t[0]&&(i.requestId=e[10]),1&t[0]&&(i.json=e[0].divJson),256&t[0]&&(i.onDivClick=e[8]),64&t[0]&&(i.outputBus=e[6]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Aa(t){let n,i,o,s;n=new zr({props:{useMarkdown:t[5]&&!t[1],bubble:t[0],mark(t);return{c(){(0,e.YCL)(n.$$.fragment),i=(0,e.DhX)(),r&&r.c(),o=(0,e.cSb)()},m(t,a){(0,e.yef)(n,t,a),(0,e.$Tr)(t,i,a),r&&r.m(t,a),(0,e.$Tr)(t,o,a),s=!0},p(t,i){const s={};34&i[0]&&(s.useMarkdown=t[5]&&!t[1]),1&i[0]&&(s.bubble=t[0]),16&i[0]&s)(r,1)):(r=Pa(t),r.c(),(0,e.Ui)(r,1),r.m(o.parentNode,o)):r&&((0,e.dvw)(),(0,e.etI)(r,1,1,(()=>{r=null})),(0,e.gbL)())},i(t){s||((0,e.Ui)(n.$$.fragment,t),(0,e.Ui)(r),s=!0)},o(t){(0,e.etI)(n.$$.fragment,t),(0,e.etI)(r),s,t),t&&(0,e.ogt)(i),r&&r.d(t),t&&(0,e.ogt)(o)}}}function Na(t){return{c:e.ZTd,m:e.ZTd,p:e.ZTd,i:e.ZTd,o:e.ZTd,d:e.ZTd}}function Ha(t){let :jut,s){n&&(0,e.yef)(n,t,s),(0,e.$Tr)(t,i,s),o=!0},p(t,o){const a={};if(4&o[0]&&(a.theme=t[2]),512&o[0]&&(a.onHorizontalMoveChange=t[9]),1&o[0]&&(a.j(()=>{(0,e.vpE)(t,1)})),(0,e.gbL)()}s?(n=new s(r(t)),(0,e.YCL)(n.$$.fragment),(0,e.Ui)(n.$$.fragment,1),(0,e.yef)(n,i.parentNode,i)):n=null}else s&&n.$set(a)},i(t){o||(n&&(0,e.Ui)(n.$$.fragment,t),o=!0)},o(t){n&&(0,e.etI)(n.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(i),n&&(0,e.vpE)(n,t)}}}function Ra(t){return{c:e.ZTd,m:e.ZTd,p:e.ZTd,i:e.ZTd,o:e.ZTd,d:e.ZTd}}function Pa(t){let n,i,o=t[0].buttons,s=[];for(let e=0;e<o.length;e+=1)s[e]=Ba(ja(t,o,e));const r=t=>(0,e.etI)(s[t],1,1,(()=>{s[t]=null}));return{c(){n=(0,e.bGB)("div");for(let e=0;e<s.length;e+=1)s[e].c();(0,e.Ljt)(n,"class","message-bubble__buttons svelte-gaa20y")},m(t,o){(0,e.$Tr)(t,n,o);for(let e=0;e<s.length;e+=1)s[e].m(n,null);i=!0},p(t,i){if(67109889&i[0]){let a;for(o=t[0].buttons,a=0;a<o.length;a+=1){const r=ja(t,o,a);s[a]?(s[a].p(r,i),(0,e.Ui)(s[a],1)):(s[a]=Ba(r),s[a].c(),(0,e.Ui)(s[a],1),s[a].m(n,null))}for((0,e.dvw)(),a=o.length;a<s.length;a+=1)r(a);(0,e.gbL)()}},i(t){if(!i){for(let t=0;t<o.length;t+=1)(0,e.Ui)(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)(0,e.etI)(s[t]);i=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(s,t)}}}function Ba(t){let n,i;const o=[{requestId:t[10]},t[30]];let s={};for(let t=0;t<o.length;t+=1)s=(0,e.f0i)(s,o[t]);return n=new Pr({props:s}),n.$on("click",t[26]),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(t,i){const s=1025&i[0]?(0,e.LoY)(o,[1024&i[0]&&{requestId:t[10]},1&i[0]&&(0,e.gCg)(t[30])]):{};n.$set(s)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Ua(t){let n,i;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[3]),(0,e.Ljt)(n,"class","message-bubble__status svelte-gaa20y")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){8&n[0]&&(0,e.rTO)(i,t[3])},d(t){t&&(0,e.ogt)(n)}}}function Va(t){let n,i,o,s,r,a,l,c,d,u;const p=[Aa,za,Oa,Da],h=[];function g(e,t){return"text"===e[0].type&&e[0].text?0:"divJson"===e[0].type&&e[0].divJson?1:"richJson"===e[0].type?2:"promo"===e[0].type?3:-1}~(i=g(t))&&(o=h[i]=p[i](t));let m=t[3]&&Ua(t),f=!1;return{c(){n=(0,e.bGB)("div"),o&&o.c(),s=(0,e.DhX)(),m&&m.c(),r=(0,e.DhX)(),f&&f.c(),(0,e.Ljt)(n,"class",a="message-bubble message-bubble_theme_"+t[2]+" message-bubble_type_"+t[0].type+" svelte-gaa20y"),(0,e.VHj)(n,"message-bubble_from-user",t[1]),(0,e.VHj)(n,"message-bubble_mobile",t[7]),(0,e.VHj)(n,"message-bubble_fullscreen",t[17]),(0,e.VHj)(n,"message-bubble_standalone",!1),(0,e.VHj)(n,"message-bubble_highlighted",t[14]),(0,e.VHj)(n,"message-bubble_hide_borders","richJson"===t[0].type&&t[0].hideBorders),(0,e.VHj)(n,"message-bubble_external-dialog",t[13]),(0,e.VHj)(n,"message-bubble_promo","promo"===t[0].type)},m(o,a){(0,e.$Tr)(o,n,a),~i&&h[i].m(n,null),(0,e.R3I)(n,s),m&&m.m(n,null),(0,e.R3I)(n,r),f&&f.m(n,null),c=!0,d||(u=[(0,e.TVh)(l=N.x.call(null,n)),(0,e.oLt)(n,"horizontalmovechange",t[29]),(0,e.oLt)(n,"mouseenter",t[23]),(0,e.oLt)(n,"focus",t[23]),(0,e.oLt)(n,"mouseleave",t[24]),(0,e.oLt)(n,"blur",t[24]),(0,e.oLt)(n,"click",t[25])],d=!0)},p(t,l){let d=i;i=g(t),i===d?~i&&h[i].p(t,l):(o&&((0,e.dvw)(),(0,e.etI)(h[d],1,1,(()=>{h[d]=null})),(0,e.gbL)()),~i?(o=h[i],o?o.p(t,l):(o=h[i]=p[i](t),o.c()),(0,e.Ui)(o,1),o.m(n,s)):o=null),t[3]?m?m.p(t,l):(m=Ua(t),m.c(),m.m(n,r)):m&&(m.d(1),m=null),f&&((0,e.dvw)(),(0,e.etI)(f,1,1,(()=>{f=null})),(0,e.gbL)()),(!c||5&l[0]&&aeme_"+t[2]+" message-bubble_type_"+t[0].type+" svelte-gaa20y"))&&(0,e.Ljt)(n,"class",a),7&l[0]&&(0,e.VHj)(n,"message-bubble_from-user",t[1]),133&l[0]&&(0,e.VHj)(n,"message-bubble_mobile",t[7]),131077&l[0]&&(0,e.VHj)(n,"message-bubble_fullscreen",t[17]),5&l[0]&&(0,e.VHj)(n,"message-bubble_standalone",!1),16389&l[0]&&(0,e.VHj)(n,"message-bubble_highlighted",t[14]),5&l[0]&&(0,e.VHj)(n,"message-bubble_hide_borders","richJson"===t[0].type&&t[0].hideBorders),8197&l[0]&&(0,e.VHj)(n,"message-bubble_external-dialog",t[13]),5&l[0]&&(0,e.VHj)(n,"message-bubble_promo","promo"===t[0].type)},i(t){c||((0,e.Ui)(o),(0,e.Ui)(f),c=!0)},o(t){(0,e.etI)(o),(0,e.etI)(f),c=!1},d(t){t&&(0,e.ogt)(n),~i&&h[i].d(),m&&m.d(),f&&f.d(),d=!1,(0,e.j7q)(u)}}}function qa(n,i,o){let s,r,{bubble:a}=i,{isUserAuthor:l=!1}=i,{theme:c}=i,{phrase:d}=i,{markdownParser:u}=i,{useMarkdown:p=!1}=i,{outputBus:h}=i,{isMobile:g=!1}=i,{onDivClick:m=e.ZTd}=i,{onHorizontalMoveChange:f=e.ZTd}=i,{requestId:v}=i,{textToCopy:b}=i,{mark:_}=i,{isExternalDialog:y=!1}=i;const{isFullscreenExp:x,allChatsStore:w}=(0,t.fw)(fe.f1);(0,e.FIv)(n,w,(e=>o(27,r=e)));const k=g?ka:Ma,$=g?wr:hr;let C,I=!1;return n.$$set=e=>{"bubble"in e&&o(0,a=e.bubble),"isUserAuthor"in e&&o(1,l=e.isUserAuthor),"theme"in e&&o(2,c=e.theme),"phrase"in e&&o(3,d=e.phrase),"markdownParser"in e&&o(4,u=e.markdownParser),"useMarkdown"in e&&o(5,p=e.useMarkdown),"outputBus"in e&&o(6,h=e.outputBus),"isMobile"in e&&o(7,g=e.isMobile),"onDivClick"in e&&o(8,m=e.onDivClick),"onHorizontalMoveChange"in e&&o(9,f=e.onHorizontalMoveChange),"requestId"in e&&o(10,v=e.requestId),"textToCopy"in e&&o(11,b=e.textToCopy),"mark"in e&&o(12,_=e.mark),"isExternalDialog"in e&&o(13,y=e.isExternalDialog)},n.$$.update=()=>{134217728&n.$$.dirty[0]&&o(16,s=r.currentChat)},[a,l,c,d,u,p,h,g,m,f,v,b,_,y,I,C,s,x,w,k,$,()=>{o(14,I=!0)},()=>{o(14,I=!1)},()=>{C&&"onMessageMouseEnter"in C&&C.onMessageMouseEnter()},()=>{C&&"onMessageMouseLeave"in C&&C.onMessageMouseLeave()},e=>{C&&"toggleMenu"in C&&C.toggleMenu(e)},()=>{C&&"closePreviousOpennedMenu"in C&&C.closePreviousOpennedMenu()},r,function(t){e.VnY[t?"unshift":"push"]((()=>{C=t,o(15,C)}))},({detail:{value:e}})=>{f(e)}]}class Fa extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,qa,Va,e.N8,{bubble:0,isUserAuthor:1,theme:2,phrase:3,markdownParser:4,useMarkdown:5,outputBus:6,isMobile:7,onDivClick:8,onHorizontalMoveChange:9,requestId:10,textToCopy:11,mark:12,isExternalDialog:13},Ea,[-1,-1])}}const Za=Fa;function Ga(t){(0,e.qOq)(t,"svelte-nezla2",".message.svelte-nezla2{width:100%;display:flex;flex-direction:column;gap:8px}.message_mobile.svelte-nezla2{gap:4px}.message__date.svelte-nezla2{color:#929db4;font-size:14px;padding-top:22px}.message__date_standalone.svelte-nezla2{margin:0 auto;padding-top:30px;display:flex;align-items:center;gap:4px;font-size:14px;color:var(--text-secondary-color)}.message__date_standalone.message__date_mobile.svelte-nezla2{padding-top:4px}.message__date_fullscreen.svelte-nezla2{font-size:16px;padding:32px 0 8px}")}function Ya(e,t,n){const i=e.slice();return i[20]=t[n],i}function Wa(t){let n,i,o,s,r,a=[],l=new Map,c=t[6]&&Ja(t),d=t[11];const u=e=>e[20].id;for(let e=0;e<d.length;e+=1){let n=Ya(t,d,e0,e.DhX)(),i=(0,e.bGB)("div");for(let e=0;e<a.length;e+=1)a[e].c();(0,e.Ljt)(i,"class","message svelte-nezla2"),(0,e.VHj)(i,"message_mobile",t[8])},m(l,d){c&&c.m(l,d),(0,e.$Tr)(l,n,d),(0,e.$Tr)(l,i,d);for(let e=0;e<a.length;e+=1)a[e].m(i,null);t[19](i),o=!0,s||(r=(0,e.oLt)(i,"click",t[17]),s=!0)},p(t,o){t[6]?c?c.p(t,o):(c=Ja(t),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),65470&o&&(d=t[11],(0,e.dvw)(),a=(0,e.GQg)(a,o,u,1,t,d,l,i,e.cly,Xa,null,Ya),(0,e.gbL)()),256&o&&(0,e.VHj)(i,"message_mobile",t[8])},i(t){if(!o){for(let t=0;t<d.length;t+=1)(0,e.Ui)(a[t]);o=!0}},o(t){for(let t=0;t<a.length;t+=1)(0,e.etI)(a[t]);o=!1},d(o){c&&c.d(o),o&&(0,e.ogt)(n),o&&(0,e.ogt)(i);for(let e=0;e<a.length;e+=1)a[e].d();t[19](null),s=!1,r()}}}function Ja(t){let n,i,o;return{c(){n=(0,e.bGB)("div"),i=(0,e.DhX)(),o=(0,e.fLW)(t[6]),(0,e.Ljt)(n,"class","message__date svelte-nezla2"),(0,e.VHj)(n,"message__date_fullscreen",t[16]),(0,e.VHj)(n,"message__date_standalone",!1),(0,e.VHj)(n,"message__date_mobile",t[8])},m(t,s){(0,e.$Tr)(t,n,s),(0,e.R3I)(n,i),(0,e.R3I)(n,o)},p(t,i){64&i&&(0,e.rTO)(o,t[6]),0&i&&(0,e.VHj)(n,"message__date_standalone",!1),256&i&&(0,e.VHj)(n,"message__date_mobile",t[8])},d(t){t&&(0,e.ogt)(n)}}}function Xa(t,n){let i,o,s;return o=new Za({props:{bubble:n[20],phrase:n[5],markdownParser:n[4],outputBus:n[9],onDivClick:n[10],theme:n[3],onHorizontalMoveChange:n[7],isMobile:n[8],isUserAuthor:n[2],requestId:n[1],textToCopy:n[15],mark:n[12],useMarkdown:n[13],isExternalDialog:n[14]}}),{key:t,first:null,c(){i=(0,e.cSb)(),(0,e.YCL)(o.$$.fragment),this.first=i},m(t,n){(0,e.$Tr)(t,i,n),(0,e.yef)(o,t,n),s=!0},p(e,t){n=e;const i={};2048&t&&(i.bubble=n[20]),32&t&&(i.phrase=n[5]),16&t&&(i.markdownParser=n[4]),512&t&&(i.outputBus=n[9]),1024&t&&(i.onDivClick=n[10]),8&t&&(i.theme=n[3]),128&t&&(i.onHorizontalMoveChange=n[7]),256&t&&(i.isMobile=n[8]),4&t&&(i.isUserAuthor=n[2]),2&t&&(i.requestId=n[1]),32768&t&&(i.textToCopy=n[15]),4096&t&&(i.mark=n[12]),8192&t&&(i.useMarkdown=n[13]),16384&t&&(i.isExternalDialog=n[14]),o.$set(i)},i(t){s||((0,e.Ui)(o.$$.fragment,t),s=!0)},o(t){(0,e.etI)(o.$$.fragment,t),s=!1},d(t){t&&(0,e.ogt)(i),(0,e.vpE)(o,t)}}}function Qa(t){let n,i,o=t[11].length&&Wa(t);return{c(){o&&o.c(),n=(0,e.cSb)()},m(t,s){o&&o.m(t,s),(0,e.$Tr)(t,n,s),i=!0},p(t,[i]){t[11].length?o?(o.p(t,i),2048&i&&(0,e.Ui)(o,1)):(o=Wa(t),o.c(),(0,e.Ui)(o,1),o.m(),n.$$set=e=>{"requestId"in e&&o(1,),"isUserAuthor"in e&&o(2,r=e.isUserAuthor),"theme"in e&&o(3,a=e.theme),"markdownParser"in e&&o(4,l=e.markdownParser),"phrase"in e&&o(5,c=e.phrase),"date"in e&&o(6,d=e.date),"onHorizontalMoveChange"in e&&o(7,u=e.onHorizontalMoveChange),"element"in e&&o(0,p=e.element),"isMobile"in e&&o(8,h=e.isMobile),"outputBus"in e&&o(9,g=e.outputBus),"onDivClick"in e&&o(10,m=e.onDivClick),"onMessageClick"in e&&o(18,f=e.onMessageClick),"bubbles"in e&&o(11,v=e.bubbles),"mark"in e&&o(12,b=e.mark),"useMarkdown"in e&&o(13,_=e.useMarkdown),"isExternalDialog"in e&&o(14,y=e.isExternalDialog)},[p,s,r,a,l,c,d,u,h,g,m,v,b,_,y,w,x,e=>s&&f(s,e),f,function(t){e.VnY[t?"unshift":"push"]((()=>{p=t,o(0,p)}))}]}class el extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Ka,Qa,e.N8,{requestId:1,isUserAuthor:2,theme:3,markdownParser:4,phrase:5,date:6,onHorizontalMoveChange:7,element:0,isMobile:8,outputBus:9,onDivClick:10,onMessageClick:18,bubbles:11,mark:12,useMarkdown:13,isExternalDialog:14},Ga)}}const tl=el,nl=(e,t)=>{for(let n=e.length-1;n>=0;n--)if(t(e[n],n,e))return n;return-1};function il(t){(0,e.qOq)(t,"svelte-gtv793",".alice__suggests_inners.svelte-gtv793{align-items:flex-start;flex-direction:column}.alice__suggests_row.svelte-gtv793{display:flex;flex-direction:column;gap:6px;margin-bottom:6px;align-items:baseline}")}function ol(e,t,n){const i=e.slice();return i[5]=t[n],i[7]=n,i}function sl(t){let n,i;return n=new A({props:{suggest:t[5],onClick:t[2],outputBus:t[0],index:t[7],theme:t[3],page:t[4]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t&&(i.suggest=e[5]),4&t&&(i.onClick=e[2]),1&t&&(i.outputBus=e[0]),8&t&&(i.theme=e[3]),16&t&&(i.page=e[4]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function rl(t){let n,i,o,s=t[1],r=[];for(let e=0;e<s.length;e+=1)r[e]=sl(ol(t,s,e));const a=t=>(0,e.etI)(r[t],1,1,(()=>{r[t]=null}));return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div");for(let e=0;e<r.length;e+=1)r[e].c();(0,e.Ljt)(i,"class","alice__suggests_row svelte-gtv793"),(0,e.Ljt)(n,"class","alice__suggests_inners svelte-gtv793")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.R3I)(n,i);for(let e=0;e<r.length;e+=1)r[e].m(i,null);o=!0},p(t,[n]){if(31&n){let o;for(s=t[1],o=0;o<s.length;o+=1){const a=ol(t,s,o);r[o]?(r[o].p(a,n),(0,e.Ui)(r[o],1)):(r[o]=sl(a),r[o].c(),(0,e.Ui)(r[o],1),r[o].m(i,null))}for((0,e.dvw)(),o=s.length;o<r.length;o+=1)a(o);(0,e.gbL)()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)(0,e.Ui)(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)(0,e.etI)(r[t]);o=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(r,t)}}}function al(e,t,n){let{outputBus:i}=t,{suggests:o=[]}=t,{onClick:s}=t,{theme:r}=t,{page:a}=t;return e.$$set=e=>{"outputBus"in e&&n(0,i=e.outputBus),"suggests"in e&&n(1,o=e.suggests),"onClick"in e&&n(2,s=e.onClick),"theme"in e&&n(3,r=e.theme),"page"in e&&n(4,a=e.page)},[i,o,s,r,a]}class ll extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,al,rl,e.N8,{outputBus:0,suggests:1,onClick:2,theme:3,page:4},il)}}const cl=ll;function dl(t){(0,e.qOq)(t,"svelte-7v9fzg",".alice__suggests_inners.svelte-7v9fzg{white-space:nowrap;align-items:flex-start;flex-direction:column}.alice__suggests_row.svelte-7v9fzg{display:flex;gap:6px;margin-bottom:6px;margin-right:25px;margin-left:25px}")}function ul(e,t,n){const i=e.slice();return i[9]=t[n],i[11]=n,i}function pl(t){let n,i;return n=new A({props:{suggest:t[9],onClick:t[2],outputBus:t[0],index:t[11],theme:t[4],page:t[6]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t&&(i.suggest=e[9]),4,s=t[1],r=[];for(let e=0;e<s.length;e+=1)r[e]=pl(ul(t,s,e));const a=t=>(0,e.etI)(r[t],1,1,(()=>{r[t]=null}));return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div");for(let e=0;e<r.length;e+=1)r[e].c();(0,e.Ljt)(i,"class","alice__suggests_row svelte-7v9fzg"),(0,e.Ljt)(n,"class","alice__suggests_inners svelte-7v9fzg")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.R3I)(n,i);for(let e=0;e<r.length;e+=1)r[e].m(i,null);o=!0},p(t,n){if(87&n){let o;for(s=t[1],o=0;o<s.length;o+=1){const a=ul(t,s,o);r[o]?(r[o].p(a,n),(0,e.Ui)(r[o],1)):(r[o]=pl(a),r[o].c(),(0,e.Ui)(r[o],1),r[o].m(i,null))}for((0,e.dvw)(),o=s.length;o<r.length;o+=1)a(o);(0,e.gbL)()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)(0,e.Ui)(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)(0,e.etI)(r[t]);o=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(r,t)}}}function gl(t){let n,i;return n=new se({props:{isDesktop:t[5],onHorizontalMoveChange:t[3],setListElement:t[7],theme:t[4],$$slots:{default:[hl]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};32&t&&(i.isDesktop=e[5]),8&t&&(i.onHorizontalMoveChange=e[3]),16&t&&(i.theme=e[4]),4183&t&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function ml(e,t,n){let i,{outputBus:o}=t,{suggests:s=[]}=t,{onClick:r}=t,{onHorizontalMoveChange:a}=t,{theme:l}=t,{isDesktop:c}=t,{page:d}=t;return e.$$set=e=>{"outputBus"in e&&n(0,o=e.outputBus),"suggests"in e&&n(1,s=e.suggests),"onClick"in e&&n(2,r=e.onClick),"onHorizontalMoveChange"in e&&n(3,a=e.onHorizontalMoveChange),"theme"in e&&n(4,l=e.theme),"isDesktop"in e&&n(5,c=e.isDesktop),"page"in e&&n(6,d=e.page)},e.$$.update=()=>{256&e.$$.dirty&&i&&n(8,i.scrollLeft=0,i)},[o,s,r,a,l,c,d,e=>{n(8,i=e)},i]}class fl extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ml,gl,e.N8,{outputBus:0,suggests:1,onClick:2,onHorizontalMoveChange:3,theme:4,isDesktop:5,page:6},dl)}}const vl=fl;function bl(t){(0,e.qOq)(t,"svele:nowrap}.alice__suggests_continuous-mobile.svelte-19tbjsv{overflow-x:scroll;scrollbar-width:none;-ms-overflow-style:none;flex-wrap:nowrap}.alice__suggests_continuous-mobile.svelte-19tbjsv::-webkit-scrollbar{width:0;height:0;display:none}")}function _l(e,t,n){const i=e.slice();return i[6]=t[n],i[8]=n,i}function yl(t){let n,i;return n=new A({props:{suggest:t[6],onClick:t[3],outputBus:t[0],index:t[8],theme:t[4],page:t[5]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};4&t&&(i.suggest=e[6]),8&t&&(i.onClick=e[3]),1&t&&(i.outputBus=e[0]),16&t&&(i.theme=e[4]),32&t&&(i.page=e[5]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function xl(t){let n,i,o=t[2],s=[];for(let e=0;e<o.length;e+=1)s[e]=yl(_l(t,o,e));const r=t=>(0,e.etI)(s[t],1,1,(()=>{s[t]=null}));return{c(){n=(0,e.bGB)("div");for(let e=0;e<s.length;e+=1)s[e].c();(0,e.Ljt)(n,"class","alice__suggests_continuous svelte-19tbjsv"),(0,e.VHj)(n,"alice__suggests_continuous-mobile",t[1])},m(t,o){(0,e.$Tr)(t,n,o);for(let e=0;e<s.length;e+=1)s[e].m(n,null);i=!0},p(t,[i]){if(61&i){let a;for(o=t[2],a=0;a<o.length;a+=1){const r=_l(t,o,a);s[a]?(s[a].p(r,i),(0,e.Ui)(s[a],1)):(s[a]=yl(r),s[a].c(),(0,e.Ui)(s[a],1),s[a].m(n,null))}for((0,e.dvw)(),a=o.length;a<s.length;a+=1)r(a);(0,e.gbL)()}2&i&&(0,e.VHj)(n,"alice__suggests_continuous-mobile",t[1])},i(t){if(!i){for(let t=0;t<o.length;t+=1)(0,e.Ui)(s[t]);i=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)(0,e.etI)(s[t]);i=!1},d(t){t&&(0,e.ogt)(n),(0,e.RMB)(s,t)}}}function wl(e,t,n){let{outputBus:i}=t,{isMobile:o=!1}=t,{suggests:s=[]}=t,{onClick:r}=t,{theme:a}=t,{page:l}=t;return e.$$set=e=>{"outputBus"in e&&n(0,i=e.outputBus),"isMobile"in e&&n(1,o=e.isMobile),"suggests"in e&&n(2,s=e.suggests),"onClick"in e&&n(3,r=e.onClick),"theme"in e&&n(4,a=e.theme),"page"in e&&n(5,l=e.page)},[i,o,s,r,a,l]}class kl extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,wl,xl,e.N8,{outputBus:0,isMobile:1,suggests:2,onClick:3,theme:4,page:5},bl)}}const $l=kl,Cl={writing:"Алиса печатает...",thinking:"Алиса думает..."},Il='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="18" fill="currentColor"><circle cx="8.25" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.285;0.57;1" repeatCount="indefinite" values="2.25;3;2.25;2.25;"/></circle><circle cx="15.75" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.14;0.42;0.72;1" repeatCount="indefinite" values="2.25;2.25;3;2.25;2.25;"/></circle><circle cx="23.25" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.285;0.57;0.86;1" repeatCount="indefinite" values="2.25;2.25;3;2.25;2.25;"/></circle></svg>';function Sl(t){(0,e.qOq)(t,"svelte-1su2z3h",".alice-thinking-gap.svelte-1su2z3h{font-style:normal;font-weight:400;font-size:14px;line-height:1.5;box-sizwidth:100%;color:#929db4;background:#f2f3f5;border-radius:2px 16px 16px 16px;padding:12px 16px;white-space:pre-wrap;-webkit-userser-selecerflow:ellipsis;word-wrap:eme_dark.svelte-1su2z3h{background:rgba(255, 255, 255, 0.06)}.alice-thinking-gap_standalone.svelte-1su2z3h{display:flex;border-radius:4px 24px 24px 24px;padding:19px 24px;background:var(--alisa-bubble-color);color:var(--text-primary-color)}.alice-thinking-gap_fullscreen.svelte-1su2z3h{font-size:16px{let n,i=Cl.thinking+"";return{c(){n=(0,e.fLW)(i)},m(t,i){(0,e.$Tr)(t,n,i)},p:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function Ml(t){let n,i;return{c(){n=new e.FWw(!1),i=(0,e.cSb)(),n.a=i},m(t,o){n.m(Il,t,o),(0,e.$Tr)(t,i,o)},p:e.ZTd,d(t){t&&(0,e.ogt)(i),t&&n.d()}}}function Ll(t){let n,i,o=function(e,t){return e[3]?Ml:Tl}(t),s=o(t);return{c(){n=(0,e.bGB)("div"),s.c(),(0,e.Ljt)(n,"class",i=(0,e.H1I)(`alice-thinking-gap alice-thinking-gap_theme_${t[0]}`)+" svelte-1su2z3h"),(0,e.VHj)(n,"alice-thinking-gap_mobile",t[1]),(0,e.VHj)(n,"alice-thinking-gap_fullscreen",t[2]),(0,e.VHj)(n,"alice-thinking-gap_standalone",t[3])},m(t,i){(0,e.$Tr)(t,n,i),s.m(n,null)},p(t,[o]){s.p(t,o),1&o&&i!==(i=(0,e.H1I)(`alice-thinking-gap alice-thinking-gp_mobile",t[1]),5&o&&(0,e.VHj)(n,"alice-thinking-gap_fullscreen",t[2]),9&o&&(0,e.VHj)(n,"alice-thinking-gap_standalone",t[3])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),s.d()}}}function El(e,n,i){let{theme:o}=n,{isMobile:s=!1}=n;const{isFullscreenExp:r}=(0,t.fw)(fe.f1);return e.$$set=e=>{"theme"in e&&i(0,o=e.theme),"isMobile"in e&&i(1,s=e.isMobile)},[o,s,r,!1]}class jl extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,El,Ll,e.N8,{theme:0,isMobile:1},Sl)}}const Dl=jl,Ol=e=>e.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"}),zl=(e,t)=>e()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(e[i-1];return zl(n.date,t)||n.requestId&&n.requestId===(null==o?void 0:o.requestId)?void 0:(t=n.date,Nl(t))}))},Nl=e=>((e,t)=>{const n=new Date,i=((e,t)=>new Date(new Date(e).setDate(e.getDate()+-1)))(n),o=(e=>t=>{var n,i;return null!==(i=null!==(n=null==e?void 0:e[t])&&void 0!==n?n:null==e?void 0:e.default)&&void 0!==i?i:Ol})(t);return zl(e,n)?o("today")(e):zl(e,i)?o("yesterday")(e):e.getFullYear()=t")(e)})(e,{today:()=>"Сегодня",yesterday:()=>"Вчера",sameYear:e=>e.toLocaleString("ru-RU",{day:"2-digit",month:"long"}),default:e=>e.toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"nuChatScrollBottom:!1});function Rl(t){(0,e.qOq)(t,"svelte-9z8cge",".animate-first-message-chat.svelte-9z8cge{min-height:var(--min-height);box-sizing:border-box}")}function Pl(t){let n,i;const o=t[6].default,s=(0,e.nuO)(o,t,t[5],null);return{c(){n=(0,e.bGB)("div"),s&&s.c(),(0,e.Ljt)(n,"class","animate-first-message-chat svelte-9z8cge"),(0,e.czc)(n,"--min-height",`${t[0]}px`,!1)},m(t,o){(0,e.$Tr)(t,n,o),s&&s.m(n,null),i=!0},p(t,[r]){s&&s.p&&(!i||32&r)&&(0,e.kmG)(s,o,t,t[5],i?(0,e.u2N)(o,t[5],r,null):(0,e.VOJ)(t[5]),null),1&r&&(0,e.czc)(n,"--min-height",`${t[0]}px`,!1)},i(t){i||((0,e.Ui)(s,t),i=!0)},o(t){(0,e.etI)(s,t),i=!1},d(t){t&&(0,e.ogt)(n),s&&s.d(t)}}}const Bl=119;function Ul(n,i,o){let s,r;(0,e.FIv)(n,Hl,(e=>o(4,r=e)));let{$$slots:a={},$$scope:l}=i,{isLastMessageFromUser:c=!1}=i;const{isFullscreenExp:d,isFirstRequestScrollExp:u}=(0,t.fw)(fe.f1);let p,h=u&&d&&!0,g=0;const m=()=>{requestAnimationFrame((()=>{if(!s)return;const{scrollTop:e}=s;o(0,g-=Math.max(p-e,0)),p=e}))};return n.$$set=e=>{"isLastMessageFromUser"in e&&o(1,c=e.isLastMessageFromUser),"$$scope"in e&&o(5,l=e.$$scope)},n.$$.update=()=>{16&n.$$.dirty&&o(3,s=r.scrollableElement),14&n.$$.dirty&&h&&c&&(o(0,g=window.innerHeight-Bl),o(2,h=!1),(0,t.Ky)().then((()=>{p=(null==s?void 0:s.scrollTop)||0,null==s||s.addEventListener("scroll",m)}))),9&n.$$.dirty&&g<0&&(null==s||s.removeEventListener("scroll",m))},[g,c,h,s,r,l,a]}class Vl extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Ul,Pl,e.N8,{isLastMessageFromUser:1},Rl)}}const ql=Vl;var Fl=r(9824);function Zl(t){(0,e.qOq)(t,"svelte-1o15hd",".chat-messages__greetings-wrapper.svelte-1o15hd.svelte-1o15hd{margin-top:8px}.chat-messages__suggests-wrapper.svelte-1o15hd.svelte-1o15hd{overflow:hidden;margin:0 -25px;max-width:calc(100% + 50px)}.chat-messages__before-animation.svelte-1o15hd.svelte-1o15hd,.chat-messages__after-animation.svelte-1o15hd.svelte-1o15hd{ssages_standalone.svelte-1o15hd .chat-messages__before-animation.svelte-1o15hd,.chat-messages_standalone.svelte-1o15hd .chat-messages__after-animation.svelte-1o15hd{gap:16px}.chat-messages_mobile.chat-messages_standalone.svelte-1o15hd .chat-messages__before-animation.svelte-1o15hd,.chat-messages_mobile.chat-messages_standalohat-messages_has-message-animation.svelte-1o15hd .chat-messages__after-animation.svelte-1o15hd{padding-top:8px}")}function Gl(e,t,n){const i=e.slice();return i[33]=t[n],i[34]=t,i[35]=n,i}function Yl(e,t,n){const i=e.slice();return i[33]=t[n],i[36]=t,i[35]=n,i}function Wl(t){let n,i,o,s,r=t[20].length&&Jl(t),a=t[19].length&&Kl(t);return{c(){n=(0,e.bGB)("div"),r&&r.c(),i=(0,e.DhX)(),a&&a.c(),(0,e.Ljt)(n,"class","chat-messages svelte-1o15hd"),(0,e.VHj)(n,"chat-messages_has-message-animation",t[13]),(0,e.VHj)(n,"chat-messages_standalone",!1),(0,e.VHj)(n,"chat-messages_mobile",t[3])},m(t(0,e.R3I)(n,i),a&&a.m(n,null),s=!0},p(t,o){t[20].length?r?(r.p(t,o),1048576&o[0]&&(0,e.Ui)(r,1)):(r=Jl(t),r.c(),(0,e.Ui)(r,1),r.m(n,i)):r&&((0,e.dvw)(),(0,e.etI)(r,1,1,(()=>{r=null})),(0,e.gbL)()),t[19].length?a?(a.p(t,o),524288&o[0]&&(0,e.Ui)(a,1)):(a=Kl(t),a.c(),(0,e.Ui)(a,1),a.m(n,null)):a&&((0,e.dvw)(),(0,e.etI)(a,1,1,(()=>{a=null})),(0,e.gbL)()),8192&o[0]&&(0,e.VHj)(n,"chat-messages_has-message-animation",t[13]),0&o&&(0,e.VHj)(n,"chat-messages_standalone",!1),8&o[0]&&(0,e.VHj)(n,"chat-messages_mobile",t[3])},i(t){s||((0,e.Ui)(r),(0,e.Ui)(a),o||(0,e.P$F)((()=>{o=(0,e.HCz)(n,Ks,{duration:500}),o.start()})),s=!0)},o(t){(0,e.etI)(r),(0,e.etI)(a),s=!1},d(t){t&&(0,e.ogt)(n),r&&r.d(),a&&a.d()}}}function Jl(t){let n,i,o,s,r=[],a=new Map,l=t[20];.;for(let e=0;e<r.length;e+=1)r[e].c();i=(0,e.DhX)(),d&&d.c(),o=(0,e.cSb)(),(0,e.Ljt)(n,"class","chat-messages__before-animation svelte-1o15hd")},m(t,a){(0,e.$Tr)(t,n,a);for(let e=0;e<r.length;e+=1)r[e].m(n,null);(0,e.$Tr)(t,i,a),d&&d.m(t,a),(0,e.$Tr)(t,o,a),s=!0},p(t,i){7478303&i[0]&&(l=t[20],(0,e.dvw)(),r=(0,e.GQg)(r,i,c,1,t,l,a,n,e.cly,Xl,null,Yl),(0,e.gbL)()),t[7]?d?(d.p(t,i),128&i[0]&&(0,e.Ui)(d,1)):(d=Ql(t),d.c(),(0,e.Ui)(d,1),d.m(o.parentNode,o)):d&&((0,e.dvw)(),(0,e.etI)(d,1,1,(()=>{d=null})),(0,e.gbL)())},i(t){if(!s){for(let t=0;t<l.length;t+=1)(0,e.Ui)(r[t]);(0,e.Ui)(d),s=!0}},o(t){for(let t=0;t<r.length;t+=1)(0,e.etI)(r[t]);(0,e.etI)(d),s=!1},d(t){t&&(0,e.ogt)(n);for(let e=0;e<r.length;e+=1)r[e].d();t&&(0,e.ogt)(i),d&&d.d(t),t&&(0,e.ogt)(o)}}}function Xl(t,n){let i,o,s,r;const a=[n[33],{theme:n[0]},{markdownParser:n[1]},{date:n[22][n[35]]},{onHorizontalMoveChange:n[2]},{isMobile:n[3]},{outputBus:n[4]},{onDivClick:n[10]},{onMessageClick:n[11]},{useMarkdown:n[12]},{isExternalDialog:n[21]}];function l(e){n[28](e,n[35])}let c={};for(let t=0;t<a.length;t+=1)c=(0,e.f0i)(c,a[t]);return void 0!==n[17][n[35]]&&(c.element=n[17][n[35]]),o=new tl({props:c}),e.VnY.push((()=>(0,e.akz)(o,"element",l))),{key:t,first:null,c(){i=(0,e.cSb)(),(0,e.YCL)(o.$$.fragment),this.first=i},m(t,n){(0,e.$Tr)(t,i,n),(0,e.yef)(o,t,n),r=!0},p(t,i){n=t;const r=7347231&i[0]?(0,e.LoY)(a,[1048576&i[0]&&(0,e.gCg)(n[33]),1&i[0]&&{theme:n[0]},2&i[0]&&{markdownParser:n[1]},5242880&i[0]&&{date:n[22][n[35]]},4&i[0]&&{onHorizontalMoveChange:n[2]},8&i[0]&&{isMoDialog:n[21]}]):{};!s&&1179648&i[0]&&(s=!0,r.element=n[17][n[35]],(0,e.hjT)((()=>s=!1))),o.$set(r)},i(t){r||((0,e.Ui)(o.$$.fragment,t),r=!0)},o(t){(0,e.etI)(o.$$.fragment,t),r=!1},d(t){t&&(0,e.ogt)(i),(0,e.vpE)(o,t)}}}function Ql(t){let n,i,o;return i=new cl({props:{outputBus:t[4],page:t[8],onCgreetings-wrapper svelte-1o15hd")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};16&t[0]&&(n.outputBus=e[4]),256&t[0]&&(n.page=e[8]),32&t[0]&&(n.onClick=e[5]),1&t[0]&&(n.theme=e[0]),128&t[0]&&(n.suggests=e[7]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function Kl(t){let n,i;return n=new ql({props:{isLastMessageFromUser:t[18],$$slots:{defau(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};262144&t[0]&&(i.isLastMessageFromUser=e[18]),7298943&t[0]|64&t[1]&&(i.$$scope={d){i||((0,e.Ui)(n.$$.fds,r;const a=[n[33],{theme:n[0]},{phrase:n[24](n[35])===n[14].length-1&&n[16].outputStatus?Cl[n[16].outputStatus]:void 0},{markdownParser:n[1]},{date:n[22][n[24](n[35])]},{onHorizontalMoveChange:n[2]},{isMobile:n[3]},{outputBus:n[4]},{onDivClick:n[10]},{onMessageClick:n[11]},{useMarkdown:n[12]},{isExternalDialog:n[21]}];function l(e){n[29](e,n[35])}let c={};for(let t=0;t<a.length;t+=1)c=(0,e.f0i)(c,a[t]);return void 0!==n[17][n[24](n[35])]&&(c.element=n[17][n[24](n[35])]),o=new tl({props:c}),e.VnY.push((()=>(0,e.akz)(o,"element",l))),{key:t,first:null,c(){i=(0,(0,e.YCL)(o.$$.fragment),this.first=i},m(t,n){(0,e.$Tr)(t,i,n),(0,e.yef)(o,t,n),r=!0},p(t,i){n=[524288&i[0]&&(0,e.gCg)(n[33]),1&i[0]&&{theme:n[0]},17383424&i[0]&&{phrase:n[24](n[35])===n[14].length-1&&n[16].outputStatus?Cl[n[16].outputStatus]:void 0},2&i[0]&&{markdownParser:n[1]},21495808&i[0]&&{date:n[22][n[24](n[35])]},4&i[0]&&{onHorizontalMoveChange:n[2]},8&i[0]&&{isMobile:n[3]},16&i[0]&&{outputBus:n[4]},1024&i[0]&&{onDivClick:n[10]},2048&i[0]&&{onMessageClick:n[11]},4096&i[0]&&{useMarkdown:n[12]},2097152&i[0]&&{isExternalDialog:n[21]}]):{};!s&&17432576&i[0]&&(s=!0,r.element=n[17][n[24](n[35])],(0,e.hjT)((()=>s=!1))),o.$s(0,e.Ui)(o.$$.fragment,t),r=!0)},o(t){(0,e.etI)(o.$$.fragment,t),r=!1},d(t){t&&(0,e.ogt)(i),(0,e.vpE)(o,t)}}}function tc(t){let n,i;return n=new Dl({props:{theme:t[0],isMobile:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t[0]&&(i.theme=e[0]),8&t[0]&&(i.isMobile=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function nc(t){let n,i,o,s;const r=[oc,ic],a=[];return i=1,o=a[1]=r[1](t),{c(){n=(0,e.bGB)("div"),o.c(),(0,e.Ljt)(n,"class","chat-messages__suggests-wrapper svelte-1o15hd")},m(t,i){(0,e.$Tr)(t,n,i),a[1].m(n,null),s=!0},p(e,t){o.p(e,t)},i(t){s||((0,e.Ui)(o),s=!0)},o(t){(0,e.etI)(o),s=!1},d(t){t&&(0,e.ogt)(n),a[1].d()}}}function ic(t){let n,i;return n=new vl({props:{outputBus:t[4],page:t[8],ous=e[4]),256&t[0]&&(i.page=e[8]),32&t[0]&&(i.onClick=e[5]),1&t[0]&&(i.theme=e[0]),64&t[0]&&(i.suggests=e[6]),8&t[0]&&(i.isDesktop=!e[3]),4&t[0]&&(i.onHorizontal[2]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function oc(t){let n,i;return n=new $l({props:{outputBus:t[4],page:t[8],onClick:t[5],theme:t[0],suggests:t[6],isMobile:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16&t[0]&&(i.outputBus=e[4]),256&t[0]&&(i.page=e[8]),32&t[0]&&(i.onClick=e[5]),1&t[0]&&(i.theme=e[0]),64&t[0]&&(i.suggests=e[6]),8&t[0]&&(i.isMobile=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function sc(t){let n,i,o,s,r=[],a=new Map,l=t[19];const c=e=>e[33].id;for(let e=0;e<l.length;e+=1){let n=Gl(t,l,e),i=c(n);a.set(i,r[e]=ec(i,n))}let d=t[18]&&t[9]===g.U.THINKING&&tc(t),u=t[6].length&&nc(t);return{c(){n=(0,e.bGB)("div");for(let e=0;e<r.length;e+=1)r[e].c();i=(0,emm(n,null);(0,e.R3I)(n,i),d&&d.m(n,null),(0,e.R3I)(n,o),u&&u.m(n,null),s=!0},p(t,s){23813151&s[0]&&(l=t[19],(0,e.dvw)(),r=(0,e.GQg)(GG?d?(d.p(t,s),262656&s[0]&&(0,e.Ui)(d,1)):(d=tc(t),d.c(),(0,e.Ui)(d,1),d.m(n,o)):d&&((0,e.dvw)(),(0,e.etI)(d,1,1,(()=>{d=null})),(0,e.gbL)()),t[6].length?u?(u.p(t,s),64&s[0]&&(0,e.Ui)(u,1)):(u=nc(t),u.c(),(0,e.Ui)(u,1),u.m(nI)(u,1,1,(()=>{u=null})),(0,e.gbL)())},i(t){if(!s){for(let t=0;t<l.length;t+=1)(0,e.Ui)(r[t]);(0,e.Ui)(d),(0,e.Ui)(u),s=!0}},o(t){for(let t=0;t<r.length;t+=1)(0,e.etI)(r[t]);(0,e.etI)(d),(0,e.etI)(u),s=!1},d(t){t&&(0,e.ogt)(n);for(let e=0;e<r.length;e+=1)r[e].d();d&&d.d(),u&&u.d()}}}function rc(t){let n,i,o=t[14].length&&Wl(t);return{c(){o&&o.c(),n=(0,e.cSb)()},m(t,s){o&&o.m(t,s),(0,e.$Tr)(t,n,s),i=!0},p(t,i){t[14].length?o?(o.p(t,i),16384&i[0]&&(0,e.Ui)(o,1)):(o=Wl(t),o.c(),(0,e.Ui)(o,1),o.m(n.parentNe.etI)(o,1,1,(()=>{o=null})),(0,e.gbL)())},i(t){i||((0,e.Ui)(o),i=!0)},o(t){(0,e.etI)(o),i=!1},d(t){o&&o.d(t),t&&(0,e.ogt)(n)}}}function ac(n,i,o){let s,r,a,l,c,d,u,p,h,g,m,f=e.ZTd;(0,e.FIv)(n,Hl,(e=>o(31,h=e))),n.$$.on_destroy.push((()=>f()));let{theme:v}=i,{markdownParser:b}=i,{onHorizontalMoveChange:_=e.ZTd}=i,{isMobile:y=!1}=i,{outputBus:x}=i,{onSuggestClick:w}=i,{suggests:k=[]}=i,{greetings:$}=i,{page:C}=i,{aliceState:I}=i,{onDivClick:S=e.ZTd}=i,{onMessageClick:T=e.ZTd}=i,{useMarkdown:M=!1}=i;const{isFullscreenExp:L,allChatsStore:E}=(0,t.fw)(fe.f1);(0,e.FIv)(n,E,(e=>o(27,m=e)));let j,D=[],O=-1,z=!1;(0,t.gx)((()=>{O=nl(r,(e=>Boolean(e.isUserAuthor))),(0,e.fxP)(Hl,h.lastUserMessageElement=D[O],h)}));const A=e=>j?e+j:e;return n.$$set=e=>{"theme"in e&&o(0,v=e.theme),"markdownParser"in e&&o(1,b=e.markdownParser),"onHorizontalMoveChange"in e&&o(2,_=e.onHorizontalMoveChange),"isMobile"in e&&o(3,y=e.isMobile),"outputBus"in e&&o(4,x=e.outputBus),"onSuggestClick"in e&&o(5,w=e.onSuggestClick),"suggests"in e&&o(6,k=e.suggests),"greetings"in e&&o(7,$=e.greetings),"page"in e&&o(8,C=e.page),"aliceState"in e&&o(9,I=e.aliceState),"onDivClick"in e&&o(10,S=e.onDivClick),"onMessageClick"in e&&o(11,T=e.onMessageClick),"useMarkdown"in e&&o(12,M=e.useMarkdown)},n.$$.update=()=>{if(134217728&n.$$.dirty[0]&&(o(15,s=m.currentChat),f(),f=(0,e.LdU)(s,(e=>o(16,g=e)))),65536&n.$$a=s.isHistoryEmpty?[]:Al(r)),65536&n.$$.dirty[0]&&o(25,l=g.welcomeMessageIndex),65536&n.$$.dirty[0]&&o(21,c=g.info.isExternalDialog),65536&n.$$.dirty[0]&&o(26,d=g.dialogOpenPhraseIndex),100663296&n.$$.dirty[0]&&L&&(void 0!==d?o(13,j=d):void 0!==l&&o(13,j=l+1)),24576&n.$$.dirty[0]&&o(20,u=j?r.slice(0,j):[]),24576&n.$$.dirty[0]&&o(19,p=j?r.slice(j):r),16384&n.$$.dirty[0]){const e=(0,Fl.CT)(r);o(18,z=(null==e?void 0:e.isUserAuthor)&&Boolean(null==e?void 0:e.bubbles.length)||!(null==e?void 0:e.isUserAuthor)&&!(null==e?void 0:e.bubbles.length))}},[v,b,_,y,x,w,k,$,C,I,S,T,M,j,r,s,g,D,z,p,u,c,a,E,A,l,d,m,function(e,t){n.$$.not_equal(D[t],e)&&(D[t]=e,o(17,D))},function(e,t){n.$$.not_equal(D[A(t)],e)&&(D[A(t)]=e,o(17,D))}]}class lc extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ac,rc,e.N8,{theme:0,markdownParser:1,onHorizontalMoveChange:2,isMobile:3,outputBus:4,onSuggestClick:5,suggests:6,greetings:7,page:8,aliceState:9,onDivClick:10,onMessageClick:11,useMarkdown:12},Zl,[-1,-1])}}const cc=lc;var dc=r(4090);function uc(t){(0,e.qOq)(t,"svelte-1eqgzu0",".chat.svelte-1eqgzu0.svelte-1eqgzu0{padding:0 24px;display:flex;flex-direction:column;gap:8px}.chat_fullscreen.svelte-1eqgzu0.svelte-1eqgzu0{padding:initial}.chat_standalone.svelte-1eqgzu0.svelte-1eqgzu0{padding:0 0 32px}.chat_standalone.chat_mobile.svelte-1eqgzu0.svelte-1eqgzu0{padding:0 0 8px}.chat__upper-disclaimer.svelte-1eqgzu0.svelte-1eqgzu0{font-size:14px;font-weight:400;line-height:16px;text-align:center;color:rgb(146, 157, 180);width:100%;box-sizing:border-box;padding:0 70px;margin-bottom:8px}.chat_standalone.svelte-1eqgzu0 .chat__upper-disclaimer.svelte-1eqgzu0{color:var(--text-secondary-color)}")}function pc(t){let n,i,o=`Пока я умею помнить только последние ${t[14].maxMessagesInLS} фраз`;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(o),(0,e.Ljt)(n,"class","chat__upper-disclaimer svelte-1eqgzu0")},m(t,o){омнить только последние ${t[14].maxMessagesInLS} фраз`)&&(0,e.rTO)(i,o)},d(t){t&&(0,e.ogt)(n)}}}function hc(t){let n,i,o,s,r=t[12]&&(0,dc.Yl)(t[14]),a=r&&pc(t);return o=new cc({props:{theme:t[0],markdownParser:t[13],onHorizontalMoveChange:t[3],isMobile:t[4],outputBus:t[2],page:t[8],onSuggestClick:t[5],suggests:t[6],greetings:t[7],aliceState:t[9],onDivClick:t[10],onMessageClick:t[11],useMarkdown:t[1]}}),{c(){n=(0,e.bGB)("div"),a&&a.c(),i=(0,e.DhX)(),(0,e.YCL)(o.$$.fragment),(0,e.Ljt)(n,"class","chat svelte-1eqgzu0"),(0,e.VHj)(n,"chat_fullscreen",t[15]),(0,e.VHj)(n,"chat_standalone",!1),(0,e.VHj)(n,"chat_mm(n,null),(0,e.R3I)(n,i),(0,e.yef)(o,n,null),s=!0},p(t,[s]){20480&s&&(r=t[12]&&(0,dc.Yl)(t[14])),r?a?a.p(t,s):(a=pc(t),a.c(),a.m(n,i)):a&&(a.d(1),a=null);const l={};1&s&&(l.theme=t[0]),8192&s&&(l.markdownParser=t[13]),8&s&&(l.onHorizontalMoveChange=t[3]),16&s&&(l.isMobile=t[4]),4&s&&(l.outputBus=t[2]),256&s&&(l.page=t[8]),32&s&&(l.onSuggestClick=t[5]),64&s&&(l.suggests=t[6]),128&s&&(l.greetings=t[7]),512&s&&(l.aliceState=t[9]),1024&s&&(l.onDivClick=t[10]),2048&s&&(l.onMessageClick=t[11]),2&s&&(l.useMarkdown=t[1]),o.$set(l),0&s&&(0,e.VHj)(n,"chat_standalone",!1),16&s&&(0,e.VHj)(n,"chat_mobile",t[4])},i(t){s||((0,e.Ui)(o.$$.fragment,t),s=!0)},o(t){(0,e.etI)(o.$$.fragment1,linkify:!0,typographer:!0,breaks:!0}).enable(["table"]).disable(["image"]))}catch(e){p.emit("errorThrown",e,"warn")}}));return(0,t.gx)((()=>{o(12,C=(0,dc.Yl)(s)&&r.messages.length>=s.maxMessagesInLS)})),n.$$set=e=>{"theme"in e&&o(0,c=e.theme),"MarkdownParser"in e&&o(17,d=e.MarkdownParser),"useMarkdown"in e&&o(1,u=e.useMarkdown),"outputBus"in e&&o(2,p=e.outputBus),"onHorizontalMoveChange"in e&&o(3,h=e.onHorizontalMoveChange),"isMobile"in e&&o(4,g=e.isMobile),"onSuggestClick"in e&&o(5,m=e.onSuggestClick),"suggests"in e&&o(6,f=e.suggests),"greetings"in e&&o(7,v=e.greetings),"page"in e&&o(8,b=e.page),"aliceState"in e&&o(9,_=e.aliceState),"onDivClick"in e&&o(10,y=e.onDivClick),"onMessageClick"in e&&o(11,x=e.onMessageClick)},n.$$.update=()=>{262144&n.$$.dirty&&(o(14,s=a.currentChat),l(),l=(0,e.LdU)(s,(e=>o(19,r=e)))),131072&n.$$.dirty&&d&&I(d)},[c,u,p,h,g,m,f,v,b,_,y,x,C,$,s,w,k,d,a]}class mc extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,gc,hc,e.N8,{theme:0,MarkdownParser:17,useMarkdown:1,outputBus:2,onHorizontalMoveChange:3,isMobile:4,onSuggestClick:5,suggests:6,greetings:7,page:8,aliceState:9,onDivClick:10,onMessageClick:11},uc)}}const fc=mc;function vc(t){(0,e.qOq)(t,"svelte-14g690g",".scrollbar.svelte-14g690g.svelte-14g690g{position:relative;display:flex;width:100%;margin-top:auto;min-height:0;flex-grow:1}.scrollbar__scrollable.svelte-14g690g.svelte-14g690g{display:flex;width:100%;z-index:0;position:relative;-webkit-overflow-scrolling:touch;overscroll-behavior-y:none;scrollbar-width:none;-ms-overflow-style:none;margin-right:-30px;padding-right:30px;overflow-x:hidden;overflow-y:auto}.scrollbar__scrollable.svelte-14g690g.svelte-14g690g::-webkit-scrollbar{display:none}.scrollbar_disabled.svelte-14g690g .scrollbar__scrollable.svelte-14g690g{overflow:hidden}.scrollbar_is-content-starts-top.svelte-14g690g.svelte-14g690g{margin-top:0}.scrollbar__inner.svelte-14g690g.svelte-14g690g{width:100%}.scrollbar__track.svelte-14g690g.svelte-14g690g{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;top:32px;right:0;width:12px;bottom:32px}.scrollbar__track_hidden.svelte-14g690g.svelte-14g690g{display:none}.scrollbar__thumb.svelte-14g690g.svelte-14g690g{position:relative;top:0;border-radius:2px;, 0se-out;transition-property:width, height, background, border-radius;touch-action:none;width:4px;height:0;margin:0 auto}.scrollbar_theme_dark.svelte-14g690g .scrollbar__thumb.svelte-14g690g{background:rgba(255, 255, 255, 0.25)}.scrollbar__track.svelte-14g690g:hover .scrollbar__thumb.svelte-14g690g,.scrollbar__thumb_active_yes.svelte-14g690g.svelte-14g690g{background:rgba(0, 0, 0, 0.2);border-radius:4px;width:8px}.scrollbar_theme_dark.svelte-14g690g .scrollbar__track:hover .scrollbar__thumb.svelte-14g690g{background:rgba(255, 255, 255, 0.35)}.scrollbar__body-styles{-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}")}const bc=e=>({scrollableElement:8&e[0]}),_c=e=>({scrollableElement:e[3]});function yc(t){let n,i,o,s,r,a,l,c,d,u;const p=t[17].default,h=(0,e.nuO)(p,t,t[16],_c);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.bGB)("div"),h&&h.c(),s=(0,e.DhX)(),r=(0,e.bGB)("div"),a=(0,e.bGB)("div"),(0,e.Ljt)(o,"class","scrollbar__inner svelte-14g690g"),(0,e.Ljt)(i,"class","scrollbar__scrollable svelte-14g690g"),(0,e.Ljt)(a,"class","scrollbar__thumb svelte-14g690g"),(0,e.Ljt)(r,"class","scrollbar__track svelte-14g690g"),(0,e.VHj)(r,"scrollbar__track_hidden",!t[6]),(0,e.Ljt)(n,"class",l=(0,e.H1I)(`scrollbar scrollbar_theme_${t[0]}`)+" svelte-14g690g"),(0,e.VHj)(n,"scrollbar_disabled",t[1]),(0,e.VHj)(n,"scrollbar_is-content-starts-top",t[2])},m(l,p){(0,e.$Tr)(l,n,p),(0,e.R3I)(n,i),(0,e.R3I)(i,o),h&&h.m(o,null),t[18](i),(0,e.R3I)(n,s),(0,e.R3I)(n,r),(0,e.R3I)(r,a),t[19](a),t[20](n),c=!0,d||(u=[(0,e.oLt)(n,"touchstart",t[7],{passive:!0}),(0,e.oLt)(n,"touchmove",t[8],{passive:!0}),(0,e.oLt)(n,"touchend",t[9],{passive:!0})],d=!0)},p(t,i){h&&h.p&&(!c||65544&i[0])&&(0,e.kmG)(h,p,t,t[16],c?(0,e.u2N)(p,t[16],i,bc):(0,e.VOJ)(t[16]),_c),64&i[0]&&(0,e.VHj)(r,"scrollbar__track_hidden",!t[6]),(!c||1&i[0]&&l!==(l=(0,e.H1I)(`scrollbar scrollbar_theme_${t[0]}`)+" svelte-14g690g"))&&(0,e.Ljt)(n,"class",l),3&i[0]&&(0,e.VHj)(n,"scrollbar_disabled",t[1]),5&i[0]&&(0,e.VHj)(n,"scrollbar_is-content-starts-top",t[2])},i(t){c||((0,e.Ui)(h,t),c=!0)},o(t){(0,e.etI)(h,t),c=!1},d(i){i&&(0,e.ogt)(n),h&&h.d(i),t[18](null),t[19](null),t[20](null),d=!1,(0,e.j7q)(u)}}}const xc=100;function wc(n,i,o){let s;(0,e.FIv)(n,Hl,(e=>o(29,s=e)));let r,a,l,c,d,u,p,h,g,m,{$$slots:f={},$$scope:v}=i,{theme:b}=i,{shouldHideScrollbar:_=!1}=i,{onScrollStart:y}=i,{onScrollEnd:x}=i,{afterScroll:w}=i,{disableScroll:k=!1}=i,{bottomOrientOnResize:$=!1}=i,{useScrollableChatStore:C=!1}=i,{contentStartsTop:I=!1}=i,S=!1,T=!1;(0,t.H3)((()=>{a.addEventListener("scroll",M),l.addEventListener("pointerdown",L),M(),c=new ResizeObserver(M),c.observe(r)})),(0,t.ev)((()=>{window.removeEventListener("pointermove",E),window.removeEventListener("pointerup",j),null==c||c.unobserve(r)}));const M=()=>{m&&clearTimeout(m);const e=a.scrollHeight,t=a.offsetHeight,n=a.scrollTop;$&&g&&g!==t&&a.scrollTo(0,n-t+g),g=t,o(6,S=!_&&void 0!==t&&t<e);let i=S?t/e:0,s=0;d!==i||u!==n?(u=n,d=i,S&&(d=Math.max(d,.1),s=100*(1-d)/(e-t)),void 0!==u&&requestAnimationFrame((()=>{l&&(o(5,l.style.height=(100*d).toFixed(2)+"%",l),o(5,l.style.top=(s*u).toFixed(2)+"%",l))})),null==w||w()):null==w||w()},L=e=>{M(),p=a.scrollTop,h=e.screenY,document.body.classList.add("scrollbar__body-styles"),l.classList.add("scrollbar__thumb_active_yes"),window.addEventListener("pointermove",E,{passive:!0}),window.addEventListener("pointerup",j)},E=e=>{const t=e.screenY-h;o(3,a.scrollTop=p+t/d,a)},j=()=>{window.removeEventListener("pointermove",E),window.removeEventListener("pointerup",j),document.body.classList.remove("scrollbar__bt.remove("scrollbar__thumb_active_yes")};return n.$$set=e=>{"theme"in e&&o(0,b=e.theme),"shouldHideScrollbar"in e&&o(10,_=e.shouldHideScrollbar),"onScrollStart"in e&&o(11,y=e.onScrollStart),"onScrollEnd"in e&&o(12,x=e.onScrollEnd),"afterScroll"in e&&o(13,w=e.afterScroll),"disableScroll"in e&&o(1,k=e.disableScroll),"bottomOrientOnResize"in e&&o(14,$=e.bottomOrientOnResize),"useScrollableChatStore"in e&&o(15,C=e.useScrollableChatStore),"contentStartsTop"in e&&o(2,I=e.contentStartsTop),"$$scope"in e&&o(16,v=e.$$scope)},n.$$.update=()=>{32776&n.$$.dirty[0]&&C&&a&&(0,e.fxP)(Hl,s.scrollableElement=a,s)},[b,k,I,a,r,l,S,()=>{null==y||y(),T=!0},()=>{T&&(x&&(m=window.setTimeout(x,xc)),T=!1)},()=>{setTimeout((()=>null==x?void 0:x()),xc)},_,y,x,w,$,C,v,f,function(t){e.VnY[t?"unshift":"push"]((()=>{a=t,o(3,a)}))},function(t){e.VnY[t?"unshift":"push"]((()=>{l=t,o(5,l)}))},function(t){e.VnY[t?"unshift":"push"]((()=>{r=t,o(4suctor(t){super(),(0,e.S1n)(this,t,wc,yc,e.AqN,{theme:0,shouldHideScrollbar:10,onScrollStart:11,onScrollEnd:12,afterScroll:13,disableScroll:1,bottomOrientOnRellableChatStore:15,contentStartsTop:2},vc,[-1,-1])}}const $c=kc,Cc={intro:"Чем я могу помочь?",noMic:"Чтобы вы со мной могли разговаривать, понадобится микрофон",noPermission:"Чтобы вы со мной могли разговаривать, нужно разрешение на микрофон"},Ic="#7137FF",Sc="voice_activation_notifier_closed",Tc=(e,t)=>{const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top>=n.top&&i.bottom<=n.bottom&&i.left>=n.left&&i.right<=n.right};function Mc(t){let n;const i=t[6].default,o=(0,e.nuO)(i,t,t[5],null);return{c(){o&&o.c()},m(e,t){o&&o.m(e,t),n=!0},p(t,[s]){o&&o.p&&(!n||32&s)&&(0,e.kmG)(o,i,t,t[5],n?(0,e.u2N)(i,t[5],s,null):(0,e.VOJ{(0,e.etI)(o,t),n=!1},d(e){o&&o.d(e)}}}const Lc=8,Ec=100;function jc(n,i,o){let s,r,a,l,c;(0,e.FIv)(n,Hl,(e=>o(3,l=e)));let{$$slots:d={},$$scope:u}=i;const{allChatsStore:p}=(0,t.fw)(fe.f1);(0,e.FIv)(n,p,(e=>o(4,c=e)));let h=0,g=!1,m=!1;const f=()=>{if(!s)return;const{scrollTop:e,scrollHeight:n}=s;h>Ec&&e<=Ec&&c.currentChat.loadHistory().then(t.Ky).then((()=>{s&&s.scrollTo(0,s.scrollTop+(s.scrollHeight-n))})),h=e},v=()=>{if(!s)return;const{scrol)=>{const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top>=n.top-5&&i.bottom<=n.bottom+5})(s,r)),f()};return(0,t.gx)((()=>{requestAnimationFrame((()=>{s&&r&&!g&&(s.scrollTo(0,s.scrollHeight),Tc(s,r)||m||s.scrollTo(0,r.offsetTop-Lc),f())}))})),(0,t.ev)((()=>{null==s||s.removeEventListener("scroll",v)})),n.$$set=e=>{"$$scope"in e&&o(5,u=e.$$scope)},n.$$.update=()=>{10&n.$$.dirty&&l.shouldChatScrollBottom&&(0,t.Ky)().then((()=>{s&&(o(1,s.scrollTop=s.scrollHeight,s),(0,e.fxP)(Hl,l.shouldChatScrollBottom=!1,l))})),8&n.$$.dirty&&o(1,s=l.scrollableElement),8&n.$$.dirty&&(r=l.lastUserMessageElement),16&n.$$.dirty&&o(2,a=c.activeChatId),2&n.$$.dirty&&s&&s.addEventListener("scroll",v),6&n.$$.dirty&&a&&s&&s.scrollTo(0,s.scrollHeight)},[p,s,a,l,c,u,d]}class Dc extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,jc,Mc,e.N8,{})}}const Oc=Dc;function zc(t){(0,e.qOq)(t,"svelte-1bed73c",".greetings-plug.svelte-1bed73c.svelte-1bed73c{display:flex;flex-wrap:wrap;padding:0 24px;gap:6px;margin-bottom:10px}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c{border:1px solid #e6e1f5;border-radius:16px;box-sizing:border-box;height:44px}.greetings-plug_theme_dark.svelte-1bed73c .greetings-plug__ghost.svelte-1bed73c{border-color:rgba(122, 85, 255, 0.4)}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c:nth-child(1){width:30%;margin-bottom:6px}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c:nth-child(2){width:50%;margin-bottom:6px}.greetings-plug__ghost.svelte-1bed73c.svelte-1bed73c:nth-child(3){width:40%}.greetings-plug__ghost.svelte-1bed73c.svelt0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.DhX)(),s=(0,e.bGB)("div"),r=(0,e.DhX)(),a=(0,e.bGB)("div"),l=(0,e.DhX)(),c=(0,e.bGB)("div"),(0,e.Ljt)(i,"class","greetings-plug__ghost svelte-1bed73c"),(0,e.Ljt)(s,"class","greetings-plug__ghost svelte-1bed73c"),(0,e.Ljt)(a,"class","greetings-plug__ghost svelte-1bed73c"),(0,e.Ljt)(c,"class","greetings-plug__ghost svelte-1bed73c"),(0,e.Ljt)(n,"class",d=(0,e.H1I)(`greetings-plug greetings-plug_theme_${t[0]}`)+" svelte-1bed73c")},m(t,d){(0,e.$Tr)(t,n,d),(0,e.R3I)(n,i),(0,e.R3I)(n,o),(0,e.R3I)(n,s),(0,e.R3I)(n,r),(0,e.R3I)(n,a),(0,e.R3I)(n,l),(0,e.R3I)(n,c)},p(t,[i]){1&i&&d!==(d=(0,e.H1I)(`greetings-plug greetings-plug_theme_${t[0]}`)+" svelte-1bed73c")&&(0,e.Ljt)(n,"class",d)},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function Nc(e,t,n){let{theme:i}=t;return e.$$set=e=>{"theme"in e&&n(0,i=e.theme)},[i]}class Hc extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Nc,Ac,e.N8,{theme:0},zc)}}const Rc=Hc,Pc=["b7c42cab-db61-46ba-871a-b10a6ecf3e0d","801be5bb-046e-4222-ad37-b377af50121a","43fa5448-258c-4de6-b656-80bd88200b7b"],Bc=["331cdecb-e371-4939-bb4b-530e4dcbbebe","64d5364a-a8da-40dd-9e02-b775d7fc46e2"],Uc=[...Pc,...Bc];function Vc(t){(0,e.qOq)(t,"svelte-3m74bg",".notifier.svelte-3m74bg.svelte-3m74bg{background:rgba(0, 0, 0, 0.06);border-radius:16px;padding:12px 80px 12px 14px;font-weight:500;font-size:14px;line-height:18px;position:relative}.notifier_theme_dark.svelte-3m74bg.svelte-3m74bg{background:rgba(255, 255, 255, 0.06)}.notifier_standalone.svelte-3m74bg.svelte-3m74bg{display:flex;align-items:center;gap:12px;padding:16px;font-size:16px;line-height:22px;font-weight:400;background:var(--notifier-bg-color)}.notifier_standalone.notifier_mobile.svelte-3m74bg.svelte-3m74bg{font-size:14px;line-height:20px}.notifier__icon.svelte-3m74bg.svelte-3m74bg{position:absolute;top:18px;left:16px}.notifier_standalone.svelte-3m74bg .notifier__icon.svelte-3m74bg{position:static;width:40px;height:40px;flex-shrink:0}.notifier_standalone.svelte-3m74bg .notifier__content.svelte-3m74bg{display:flex;flex-direction:column;align-items:flex-start;gap:2px;min-height:46px;justify-content:center;flex-grow:1}.notifier_standalone.notifier__mobile.svelte-3m74bg .notifier__content.svelte-3m74bg{gap:4px}.notifier__link.svelte-3m74bg.svelte-3m74bg{cursor:pointer}.notifier_standalone.svelte-3m74bg .notifier__link.svelte-3m74bg{text-decoration:none;color:var(--brand-color)}.notifier_standalone.svelte-3m74bg .notifier__link.svelte-3m74bg:visited{color:var(--brand-color)}.notifier_standalone.svelte-3m74bg .notifier__link.svelte-3m74bg:hover{color:var(--primary-button-hover-color)}.notifier_standalone.notifier_mobile.svelte-3m74bg .notifier__link.svelte-3m74bg{font-weight:500;line-height:2lute;top:12px;right:12px;background-image:url('https://yastatic.net/s3/home/alice_popup/Close_permission_denied_v2.svg');background-repeat:no-repeat;background-position:center;background-color:initial;border:0;border-radius:50%;width:20px;height:20px;cursor:pointer;opacity:0.45}.notifier_standalone.svelte-3m74bg .notifier__close.svelte-3m74bg{position:static;opacity:0.8;width:24px;height:24px;flex-shrink:0}.notifier_standalone.svelte-3m74bg .notifier__close.svelte-3m74bg:hover{opacity:0.4}")}function qc(t){let n,i,o,s;return{c(){n=(0,e.bGB)("a"),i=(0,e.fLW)(t[6]),(0,e.Ljt)(n,"class","notifier__link svelte-3m74bg"),(0,e.Ljt)(n,"target","_blank"),(0,e.Ljt)(n,"rel","noopener"),(0,e.Ljt)(n,"href",t[5])},m(r,a){(0,e.$Tr)(r,n,a),(0,e.R3I)(n,i),o||(s=(0,e.oLt)(n,"click",t[11]),o=!0)},p(t,o){64&o&&(0,e.rTO)(i,t[6]),32&o&&(0,e.Ljt)(n,"href",t[5])},d(t){t&&(0,e.ogt)(n),o=!1,s()}}}function Fc(t){let n,i,o,s,r,a,l,c,d,u,p,h=(t[5]||t[1])&&t[6]&&qc(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.DhX)(),o=(0,e.bGB)("div"),s=(0,e.fLW)(t[4]),r=(0,e.DhX)(),h&&h.c(),a=(0,e.DhX)(),l=(0,e.bGB)("button"),(0,e.Ljt)(o,"class","notifier__content svelte-3m74bg"),(0,e.Ljt)(l,"aria-label",c="Закрыть"),(0,e.Ljt)(l,"class","notifier__close svelte-3m74bg"),(0,e.Ljt)(n,"class",d=(0,e.H1I)(`notifier notifier_theme_${t[2]}`)+" svelte-3m74bg"),(0,e.VHj)(n,"notifier_standalone",!1),(0,e.VHj)(n,"notifier_mobile",t[8])},m(c,d){(0,e.$Tr)(c,n,d),(0,e.R3I)(n,i),(0,e.R3I)(n,o),(0,e.R3I)(o,s),(0,e.R3I)(o,r),h&&h.m(o,null),(0,e.R3I)(n,a),(0,e.R3I)(n,l),u||(p=(0,e.oLt)(l,"click",(0,e.AT7)(t[12])),u=!0)},p(t,[i]){16&i&&(0,e.rTO)(s,t[4]),(t[5]||t[1])&&t[6]?h?h.p(t,i):(h=qc(t),h.c(),h.m(o,null)):he.H1I)(`notifier notifier_theme_${t[2]}`)+" svelte-3m74bg")&&(0,e.Ljt)(n,"class",d),4&i&&(0,e.VHj)(n,"notifier_standalone",!1),260&i&&(0,e.VHj)(n,"notifier_mobile",t[8])},i:e.ZTd,o:e.ZTd,d(t){t&&(0,e.ogt)(n),h&&h.d(),u=!1,p()}}}function Zc(e,n,i){let{onClose:o}=n,{onClick:s}=n,{theme:r}=n,{outputBus:a}=n,{text:l}=n,{href:c=""}=n,{linkText:d}=n,{statName:u}=n,{page:p}=n;const{isMobile:h}=(0,t.fw)(fe.f1);let g=`${p?p+".":""}${u}`;return(0,t.H3)((()=>{u&&a.emit("stat",{path:`${g}_notifier`,eventType:"show"})})),e.$$set=e=>{"onClose"in e&&i(0,o=e.onClose),"onClick"in e&&i(1,s=e.onClick),"theme"in e&&i(2,r=e.theme),"outputBus"in e&&i(3,a=e.outputBus),"text"in e&&i(4,l=e.text),"href"in e&&i(5,c=e.href),"linkText"in e&&i(6,d=e.linkText),"statName"in e&&i(7,u=e.statName),"page"in e&&i(10,p=e.page)},[o,s,r,a,l,c,d,u,h,g,p,e=>{s&&(e.preventDefault(),s())},()=>{u&&a.emit("stat",{path:`${g}_notifier_closed`,eventType:"click"}),o()}]}class Gc extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Zc,Fc,e.N8,{onClose:0,onClick:1,theme:2,outputBus:3,text:4,href:5,linkText:6,statName:7,page:10},Vc)}}const Yc=Gc;function Wc(t){let n,i;return n=new Yc({props:{theme:t[0],outputBus:t[1],text:"Чтобы мы могли разговаривать, разрешите в браузере микрофон",linkText:"Как настроить микрофон",href:t[2]?void 0:t[5],statName:"denied",onClose:t[4],page:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};1&t&&(i.theme=e[0]),2&t&&(i.outputBus=e[1]),4&t&&(i.href=e[2]?void 0:e[5]),16&t&&(i.onClose=e[4]),8&t&&(i.page=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Jc(e,n,i){let{theme:o}=n,{outputBus:s}=n,{isMobile:r=!1}=n,{page:a}=n,{onClose:l}=n;const{howToSetUpMicLink:c}=(0,t.fw)(fe.f1);return e.$$set=e=>{"theme"in e&&i(0,o=e.theme),"outputBus"in e&&i(1,s=e.outputBus),"isMobile"in e&&i(2,r=e.isMobile),"page"in e&&i(3,a=e.page),"onClose"in e&&i(4,l=e.onClose)},[o,s,r,a,l,c]}class Xc extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Jc,Wc,e.N8,{theme:0,outputBus:1,isMobile:2,page:3,onClose:4})}}const Qc=Xc;function Kc(t){let n,i;return n=new Yc({props:{theme:t[0],outputBus:t[1],text:t[3],linkText:t[4],statName:"voice_activation",page:t[2],onClose:t[9],onClick:t[6]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,[t]){const i={};1&t&&(i.theme=e[0]),2&t&&(i.outputBus=e[1]),8&t&&(i.text=e[3]),16&t&&(i.linkText=e[4]),4&t&&(i.page=e[2]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function ed(e,n,i){let{theme:o}=n,{outputBus:s}=n,{onClose:r}=n,{lsKey:a}=n,{page:l}=n,c="Запускайте Алису голосом",d="Включить";const u=()=>{r(),localStorage.setItem(a,"0")};return(0,t.H3)((()=>{localStorage.setItem(a,String(Number(localStorage.getItem(a)||3)-1))})),(0,t.ev)((()=>{u()})),e.$$set=e=>{"theme"in e&&i(0,o=e.theme),"outputBus"in e&&i(1,s=e.outputBus),"onClose"in e&&i(7,r=e.onClose),"lsKey"in e&&i(8,a=e.lsKey),"page"in e&&i(2,l=e.page)},[o,s,l,c,d,u,()=>{var e,t;null===(t=null===(e=window.yandex)||void 0===e?void 0:e.speechkit)||void 0===t||t.enableVoiceActivation(!0,!0),i(3,c='А теперь скажите "Алиса, давай поболтаем"'),i(4,d=void 0)},r,a,()=>{u()}]}class td extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,ed,Kc,e.N8,{theme:0,outputBus:1,onClose:7,lsKey:8,page:2})}}const nd=td;var id=r(2792);function od(t){(0,e.qOq)(t,"svelte-8a854v",".alice__main.svelte-8a854v.svelte-8a854v.svelte-8a854v{display:flex;flex-direction:column;padding-bottom:30px}.alice__main_is-mobile.svelte-8a854v.svelte-8a854v.svelte-8a854v{width:100%}.alice__main_is-mobile.svelte-8a854v.svelte-8a854v.svelte-8a854v{padding-bottom:0}.alice__main_is-mobile.svelte-8a854v.svelte-8a854v.svelte-8a854v::-webkit-scrollbar{display:none}.alice__communication.svelte-8a854v.svelte-8a854v.svelte-8a854v{box-sizing:border-box;width:100%;margin:17px 0;padding:0 17px 0 30px;min-height:70px}.alice__main_promo_yes.svelte-8a854v .alice__communication.svelte-8a854v.svelte-8a854v{margin:30px 0}.alice__communication_is-mobile.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin-top:44px}.alice__main.svelte-8a854v:not(.alice__main_dialog_yes) .alice__communication.svelte-8a854v>.alice__text_shrinked.svelte-8a854v{padding-top:10px}.alice__communication_theme_dark.svelte-8a854v.svelte-8a854v.svelte-8a854v{color:#ffffff}.alice__communication-back-button.svelte-8a854v.svelte-8a854v.svelte-8a854v{border:none;background:transparent;margin:0 0 10px 4px;padding:0;cursor:pointer;color:rgba(0, 0, 0, 0.33);font-size:14px;line-height:16px;display:flex;align-items:center}.alice__communication_theme_dark.svelte-8a854v .alice__communication-back-button.svelte-8a854v.svelte-8a854v{color:rgba(255, 255, 255, 0.33)}.alice__communication-back-icon.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin-right:13px}.alice__communication-back-icon.svelte-8a854v path.svelte-8a854v.svelte-8a854v{fill:#000}.alice__communication_theme_dark.svelte-8a854v path.svelte-8a854v.svelte-8a854v{fill:#fff}.alice__text_shrinked.svelte-8a854v.svelte-8a854v.svelte-8a854v{opacity:50%;font-weight:500;font-size:14px;line-height:16px;letter-spacing:-0.078px;order:-1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex-shrink:0;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__text-main.svelte-8a854v.svelte-8a854v.svelte-8a854v{flex-shrink:0;white-space:pre-wrap;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__text-main.alice__text-main_size_small.svelte-8a854v.svelte-8a854v.svelte-8a854v{font-size:24px;line-height:29px}.alice__text-main.alice__text-main_size_medium.svelte-8a854v.svelte-8a854v.svelte-8a854v{font-size:21px;line-height:25px}.alice__main.svelte-8a854v:not(.alice__main_dialog_yes) .alice__text-main.alice__text-main_single.svelte-8a854v.svelte-8a854v{padding-top:10px}.alice__text-main.alice__text-main_size_large.svelte-8a854v.svelte-8a854v.svelte-8a854v{font-size:18px;line-height:22px}.alice__main_dialog_yes.svelte-8a854v .alice__text-main.svelte-8a854v.svelte-8a854v{margin-bottom:17px}.alice__text-wrapper.svelte-8a854v.svelte-8a854v.svelte-8a854v{display:flex;min-height:70px;flex-direction:column;justify-content:center}.alice__main_dialog_yes.alice__main_is-mobile.svelte-8a854v .alice__suggests_container.svelte-8a854v.svelte-8a854v{margin-bottom:0px}.alice__main_dialog_yes.svelte-8a854v .alice__communication.svelte-8a854v.svelte-8a854v{min-height:30px;margin-top:0px;margin-bottom:0px}.alice__div_answer.svelte-8a854v.svelte-8a854v.svelte-8a854v{padding-left:25px;padding-right:25px}.alice__input-container.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin:0px 24px}.alice__input-container_focused.svelte-8a854v.svelte-8a854v.svelte-8a854v{order:1}.alice__main_keyboard-input_yes.svelte-8a854v .alice__shortcuts_container.svelte-8a854v.svelte-8a854v{margin-bottom:30px}.alice__notifier_container.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin:0 24px 10px 24px}.alice__main_dialog_yes.svelte-8a854v .alice__text-wrapper.svelte-8a854v.svelte-8a854v{height:initial}.alice__div-card-container.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin-bottom:8px;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__div-card-container_card_yes.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin:0 17px 8px 30px}.alice__main_should-show-shortcuts.svelte-8a854v .alice__div-card-container.svelte-8a854v.svelte-8a854v{margin-bottom:20px}.alice__main_chat.svelte-8a854v.svelte-8a854v.svelte-8a854v:not(.alice__main_is-mobile){box-sizing:border-box;overflow:hidden;height:100%}.alice__main_chat.svelte-8a854v .alice__dialog-header-container.svelte-8a854v.svelte-8a854v{padding-bottom:5px}.alice__main_chat.svelte-8a854v:not(.alice__main_is-mobile) .alice__dialog-header-container.oknyx-bottom.svelte-8a854v.svelte-8a854v{padding-top:13px;padding-bottom:16px}.alice__main_is-mobile.svelte-8a854v .alice__dialog-header-container.svelte-8a854v.svelte-8a854v{padding-top:12px;padding-bottom:1px}.alice__main_is-mobile.svelte-8a854v .alice__diaer-container.oknyx-bottom.svelte-8a854v.svelte-8a854v{padding-top:25px;padding-bottom:15px}.alice__main_chat.svelte-8a854v .alice__input-container.svelte-8a854v.svelte-8a854v{margin-top:6px}.alice__main_chat.svelte-8a854v .alice__input-oknyx-container .alice__input-container__input.svelte-8a854v.svelte-8a854v{margin-top:0px}.alice__main_chat.svelte-8a854v .alice__suggest_container.svelte-8a854v.svelte-8a854v{margin-top:-6px}.alice__main_chat.svelte-8a854v .alice__notifier_container.svelte-8a854v.svelte-8a854v{margin-bottom:0;padding:8px 0 2px}.alice__onkyx-in-non-dialog-chat.svelte-8a854v.svelte-8a854v.svelte-8a854v{position:absolute;right:35px;top:17px}.alice__input-oknyx-container.svelte-8a854v.svelte-8a854v.svelte-8a854v{margin:9px 11px -7px 24px;display:flex;justify-content:space-between;flex-wrap:nowrap;align-items:center}.alice__input-oknyx-container.svelte-8a854v .alice__input-container__input.svelte-8a854v.svelte-8a854v{margin:0;width:78%}")}const sd=e=>({}),rd=e=>({});function ad(t){let n,i,o,s,r;o=new As({props:{onSubmit:t[38],theme:t[4],outputBus:t[3],onChange:t[39],shouldFocusInput:!0,buttonTheme:t[29]?Ms.BLUE:Ms.PURPLE,isMobile:t[6],isTablet:t[12]}});let a=t[1]&&ld(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),(0,e.YCL)(o.$$.fragment),s=(0,e.DhX)(),a&&a.c(),(0,e.Ljt)(i,"class","alice__input-container__input svelte-8a854v"),(0,e.Ljt)(n,"class","alice__input-container svelte-8a854v"),(0,e.VHj)(n,"alice__input-container_focused",!0),(0,e.VHj)(n,"alice__input-oknyx-container",t[1])},m(t,l){(0,e.$Tr)(t,n,l),(0,e.R3I)(n,i),(0,e.yef)(o,i,null),(0,e.R3I)(n,s),a&&a.m(n,null),r=!0},p(t,i){const s={};16&i[0]&&(s.theme=t[4]),8&i[0]&&(s.outputBus=t[3]),536870912&i[0]&&(s.buttonTheme=t[29]?Ms.BLUE:Ms.PURPLE),64&i[0]&&(s.isMobile=t[6]),4096&i[0]&&(s.isTablet=t[12]),o.$set(s),t[1]?a?(a.p(t,i),2&i[0]&&(0,e.Ui)(a,1)):(a=ld(t),a.c(),(0,e.Ui)(a,1),a.m(n,null)):a&&((0,e.dvw)(),(0,e.etI)(a,1,1,(()=>{a=null})),(0,e.gbL)()),2&i[0]&&(0,e.VHj)(n,"alice__input-oknyx-container",t[1])},i(t){r||((0,e.Ui)(o.$$.fragment,t),(0,e.Ui)(a),r=!0)},o(t){(0,e.etI)(o.$$.fragment,t),(0,e.etI)(a),r=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(o),a&&a.d()}}}function ld(t){let n,i;return n=new L({props:{onClick:t[36],color:Ic,state:t[14],logo:g.z.ALICE,isBottomChat:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16384&t[0]&&(i.state=e[14]),2&t[0]&&(i.isBottomChat=e[1]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function cd(t){let n,i,o;const s=[{closeDialog:t[37]},{onOknyxClick:t[36]},{state:t[14]},{theme:t[4]},t[18],{useChat:t[1]}];let r={};for(let t=0;t<s.length;t+=1)r=(0,e.f0i)(r,s[t]);return i=new Fs({props:r}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__dialog-header-container svelte-8a854v"),(0,e.VHj)(n,"oknyx-bottom",t[1])},m(t,s){(0,e.$Tr)(t,n,s),(0,e.yef)(i,n,null),o=!0},p(t,o){const r=278546&o[0]|96&o[1]?(0,e.LoY)(s,[64&o[1]&&{closeDialog:t[37]},32&o[1]&&{onOknyxClick:t[36]},16384&o[0]&&{state:t[14]},16&o[0]&&{theme:t[4]},262144&o[0]&&(0,e.gCg)(t[18]),2&o[0]&&{useChat:t[1]}]):{};i.$set(r),2&o[0]&&(0,e.VHj)(n,"oknyx-bottom",t[1])},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function dd(t){let n,i,o,s,r,a,l,c,d,u=t[2]&&pd(t),p=!t[18]&&hd(t);function h(e,t){return"small"!==e[20]||e[18]&&e[23]?gd:md}let g=h(t),m=g(t),f=!t[2]&&(t[23]||t[17])&&yd(t),v=t[19].length&&!t[2]&&kd(t),b=!t[2]&&!t[18]&&t[8]&&!t[13]&&!t[0]&&$d(t);return{c(){n=(0,e.bGB)("div"),u&&u.c(),i=(0,e.DhX)(),p&&p.c(),o=(0,e.DhX)(),m.c(),r=(0,e.DhX)(),f&&f.c(),a=(0,e.DhX)(),v&&v.c(),l=(0,e.DhX)(),b&&b.c(),c=(0,e.cSb)(),(0,e.Ljt)(n,"class",s=(0,e.H1I)(`alice__communication alice__communication_theme_${t[4]}`)+" svelte-8a854v"),(0,e.VHj)(n,"alice__communication_text-large","small"!==t[20]),(0,e.VHj)(n,"alice__communication_is-mobile",t[6])},m(t,s){(0,e.$Tr)(t,n,s),u&&u.m(n,null),(0,e.R3I)(n,i),p&&p.m(n,null),(0,e.R3I)(n,o),m.m(n,null),(0,e.$Tr)(t,r,s),f&&f.m(t,s),(0,e.$Tr)(t,a,s),v&&v.m(t,s),(0,e.$Tr)(t,l,s),b&&b.m(t,s),(0,e.$Tr)(t,c,s),d=!0},p(t,r){t[2]?u?u.p(t,r):(u=pd(t),u.c(),u.m(n,i)):u&&(u.d(1),u=null),t[18]?p&&((0,e.dv6)),g===(g=h(t))&&m?m.p(t,r):(m.d(1),m=g(t),m&&(m.c(),m.m(n,null))),(!d||16&r[0]&&s!==(s=(0,e.H1I)(`alice__communication alice__communication_theme_${t[4]}`)+" svelte-8a854v"))&&(0,e.Ljt)(n,"class",s),1048592&r[0]&&(0,e.VHj)(n,"alice__communication_text-large","small"!==t[20]),80&r[0]&&(0,e.VHj)(n,"alice__communication_is-mobile",t[6]),t[2]||!t[23]&&!t[17]?f&&((0,e.dvw)(),(0,e.etI)(f,1,1,(()=>{f=null})),(0,e.gbL)()):f?(f.p(t,r),8519684&r[0]&&(0,e.Ui)(f,1)):(f=yd(t),f.c(),(0,e.Ui)(f,1),f.m(a.parentNode,a)),t[19].length&&!t[2]?v?(v.p(t,r),524292&r[0]&&(0,e.Ui)(v,1)):(v=kd(t),v.c(),(0,e.Ui)(v,1),v.m(l.parentNode,l)):v&&((0,e.dvw)(),(0,e.etI)(v,1,1,(()=>{v=null})),(0,e.gbL)()),t[2]||t[18]||!t[8]||t[13]||t[0]?b&&((0,e.dvw)(),(0,e.etI)(b,1,1,(()=>{b=null})),(0,e.gbL)()):b?(b.p(t,r),270597&r[0]&&(0,e.Ui)(b,1)):(b=$d(t),b.c(),(0,e.Ui)(b,1),b.m(c.parentNode,c))},i(t){d||((0,e.Ui)(p),(0,e.Ui)(f),(0,e.Ui)(v),(0,e.Ui)(b),d=!0)},o(t){(0,e.etI)(p),(0,e.etI)(f),(0,e.etI)(v),(0,e.etI)(b),d=!1},d(t){t&&(0,e.ogt)(n),u&&u.d(),p&&p.d(),m.d(),t&&(0,e.ogt)(r),f&&f.d(t),t&&(0,e.ogt)(a),v&&v.d(t),t&&(0,e.ogt)(l),b&&b.d(t),t&&(0,e.ogt)(c)}}}function ud(t){let n,i;return n=new $c({props:{theme:t[4],shouldHideScrollbar:t[6],onScrollStart:t[32],onScrollEnd:t[33],disableScroll:t[11],bottomOrientOnResize:t[21]&&!t[22],afterScroll:t[41],useScrollableChatStore:!0,$$slots:{default:[Id]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$048&t[0]&&(i.disableScroll=e[11]),6291456&t[0]&&(i.bottomOrientOnResize=e[21]&&!e[22]),235421820&t[0]|64&t[2]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function pd(t){let n,i,o,s,r,a,l;return{c(){n=(0,e.bGB)("button"),i=(0,e.bi5)("svg"),o=(0,e.bi5)("path"),s=(0,e.DhX)(),r=(0,e.fLW)("Назад"),(0,e.Ljt)(o,"opacity","0.9"),(0-07Z"),(0,e.Ljt)(o,"fill-opacity",".25"),(0,e.Ljt)(o,"class","svelte-8a854v"),(0,e.Ljt)(i,"class","alice__communication-back-icon svelte-8a854v"),(0,e.Ljt)(i,"wx","0 0 8 12"),(0,e.Ljt)(i,"fill","none"),(0,e.Ljt)(n,"class","alice__communication-back-button svelte-8a854v")},m(c,d){(0,e.$Tr)(c,n,d),(0,e.R3I)(n,i),(0,e.R3I)(i,o),(0,e.R3I)(n,s),&&(0,e.ogt)(n),a=!1,l()}}}function hd(t){let n,i;return n=new L({props:{onClick:t[36],color:Ic,state:t[14],logo:g.z.ALICE}}),{c(){(0,e.YCL)(ni=!0},p(e,t){const i={};16384&t[0]&&(i.state=e[14]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function gd(t){let n,i,o=t[15].length&&fd(t),s=t[16]&&vd(t);return{c(){o&&o.c(),n=(0,e.DhX)(),s&&s.c(),i=(0,e.cSb)()},m(t,r){o&&o.m(t,r),(0,e.$Tr)(t,n,r),s&&s.m(t,r),(0,e.$Tr)(t,i,r)},p(e,t){e[15].length?o?o.p(e,t):(o=fd(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),e[16]?s?s.p(e,t):(s=vd(e),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(t){o&&o.d(t),t&&(0,e.ogt)(n),s&&s.d(t),t&&(0,e.ogt)(i)}}}function md(t){let n,i,o=t[15].length&&bd(t),s=t[16]&&_d(t);return{c(){n=(0,e.bGB)("div"),o&&o.c(),i=(0,e.DhX)(),s&&s.c(),(0,e.Ljt)(n,"class","alice__text-wrapper svelte-8a854v")},m(t,r){(0,e.$T),o.m(n,i)):o&&(o.d(1),o=null),e[16]?s?s.(s.d(1),s=null)},d(t){t&&(0,e.ogt)(n),o&&o.d(),s&&s.d()}}}function fd(t){let n,i;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[15]),(0,e.Ljt)(n,"class","alice__text_shrinked svelte-8a854v"))},p(t,n){32768&n[0]&&(0,e.rTO)(i,t[15])},d(t){t&&(0,e.ogt)(n)}}}function vd(t){let n,i,o;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[16]),(0,e.Ljt)(n,"class",o="alice__text-main alice__text-main_size_"+t[20]+" svelte-8a854v"),(0,e.VHj)(n,"alice__text-main_single",!t[15].length)},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,s){65536&s[0]&&(0,e.rTO)(i,t[16]),1048576&s[0]&&o!==(o="alice__text-main alice__text-main_size_"+t[20]+" svels[0]&&(0,e.VHj)(n,"alice__text-main_single",!t[15].length)},d(t){t&&(0,e.ogt)(n)}}}function bd(t){let n,i;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[15]),(0,e.Ljt)(n,"class","alice__text_shrinked svelte-8a854v")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,n){32768&n[0]&&(0,e.rTO)(i,t[15])},d(td(t){let n,i,o;return{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)(t[16]),(0,e.Ljt)(n,"class",o="alice__text-main alice__text-main_size_"+t[20]+" svelte-8a854v")},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i)},p(t,s){65536&s[0]&&(0,e.rTO)(i,t[16]),1048576&s[0]&&o!==(o="alice__text-main alice__text-main_size_"+t[20]+" svelte-8a854v")&&(0,e.Ljt)(n,"class",o)},d(t){t&&(0,e.ogt)(n)}}}function yd(t){let n,i,o,s;const r=[wd,xd],a=[];function l(e,t){return e[17]?0:1}return i=l(t),o=a[i]=r[i](t),{c(){n=(0,e.bGB)("div"),o.c(),(0,e.Ljt)(n,"class","alice__div-card-container svelte-8a854v"),(0,e.VHj)(n,"alice__div-card-cont.m(n,null),s=!0},p(t,s){let c=i;i=l(t),i===c?a[i].p(t,s):((0,e.dvw)(),(0,e.etI)(a[c],1,1,(()=>{a[c]=null})),(0,e.gbL)(),o=a[i],o?o.p(t,s):(o=a[i]=r[i](t),o.c()),(0,e.Ui)(o,1),o.m(n,null)),16777216&s[0]&&(0,e.VHj)(n,"alice__div-card-container_card_yes",t[24])},i(t){s||((0,e.Ui)(o),s=!0)},o(t){(0,e.etI)(o),s=!1},d(t){t&&(0,e.ogt)(n),a[i].d()}}}function xd(t){let n,i;return n=new Ts({props:{theme:t[4],onHorizontalMoveChange:t[5],id:"divCard",statName:"div_card",json:t[23],onDivClick:t[40],outputBus:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16&t[0]&&(i.theme=e[4]),32&t[0]&&(i.onHorizontalMoveChange=e[5]),8388608&t[0]&&(i.json=e[23]),8&t[0]&&(i.outputBus=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function wd(t){let n,i;return n=new Rc({props:{theme:t[4]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16&t[0]&&(i.theme=e[4]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function kd(t){let n,i,o;return i=new me({props:{suggests:t[19],onClick:t[34],outputBus:t[3],onHorizontalMoveChange:t[5],theme:t[4],isDesktop:!t[6]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__suggests_container svelte-8a854v")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};524288&t[0]&&(n.suggests=e[19]),8&t[0]&&(n.outputBus=e[3]),32&t[0]&&(n.onHorizontalMoveChange=e[5]),16&t[0]&&(n.theme=e[4]),64&t[0]&&(n.isDesktop=!e[6]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function $d(t){let n,i,o;return i=new Ee({props:{onClick:t[35],outputBus:t[3],onHorizontalMoveChange:t[5],theme:t[4],isDesktop:!t[6]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__shortcuts_container svelte-8a854v")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};8&t[0]&&(n.outputBus=e[3]),32&t[0]&&(n.onHorizontalMoveChange=e[5]),16&t[0]&&(n.theme=e[4]),64&t[0]&0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function Cd(t){let n,i;return n=new fc({props:{theme:t[4],MarkdownParser:t[26],outputBus:t[3],onHorizontalMoveChange:t[5],isMobile:t[6],onSuggestClick:t[34],suggests:!t[2]&&t[25]?t[19]:[],aliceState:t[14],useMarkdown:t[27]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){constrizontalMoveChange=e[5]),64&t[0]&&(i.isMobile=e[6]),34078724&t[0]&&(i.suggests=!e[2]&&e[25]?e[19]:[]),16384&t[0]&&(i.aliceState=e[14]),134217728&t[0]&&(i.useMarkdown=e[27]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Id(t){let n,i;return n=new Oc({props:{$$slots:{default:[Cd]},$$scope:{ctx:t}}}),{c(){(0,e.Y|((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Sd(t){let n,i,o;return i=new nd({props:{theme:t[4],outputBus:t[3],onClose:t[67],lsKey:Sc}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__notifier_container svelte-8a854v")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};16&t[0]&&(n.theme=e[4]),8&t[0]&&(n.outputBus=e[3]),268435456&t[0]&&(n.onClose=e[67]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.t[6],onClose:t[66]}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","alice__notifier_container svelte-8a854v")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};16&t[0]&&(n.theme=e[4]),8&t[0]&&(n.outputBus=e[3]),64&t[0]&&(n.isMobile=e[6]),6291456&t[0]&&(n.onClose=e[66]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragmentn8buttonTheme:t[29]?Ms.BLUE:Ms.PURPLE,isMobile:t[6],isTablet:t[12]}});let a=t[1]&&Ld(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),(0,e.YCL)(o.$$.fragment),s=(0,e.DhX)(),a&&a.c(),(0,e.Ljt)(i,"class","alice__input-container__input svelte-8a854v"),(0,e.Ljt)(n,"class","alice__input-container svelte-8a854v"),(0,e.VHj)(n,"alice__input-oknyx-conta(0,e.$Tr)(t,n,l),(0,e.R3I)(n,i),(0,e.yef)(o,i,null),(0,e.R3I)(n,s),a&&a.m(n,null),r=!0},p(t,i){const s={};16&i[0]&&(s.theme=t[4]),8&i[0]&&(s.outputBus=t[3]),536870912&i[0]&&(s.buttonTheme=t[29]?Ms.BLUE:Ms.PURPLE),64&i[0]&&(s.isMobile=t[6]),4096&i[0]&&(s.isTablet=t[12]),o.$set(s),t[1]?a?(a.p(t,i),2&i[0]&&(0,e.Ui)(a,1)):(a=Ld(t),a.c(),(0,e.Ui)(a,1),a.m(n,null)):a&&((0,e.dvw)(),(0,e.etI)(a,1,1,(()=>{a=null})),(0,e.gbL)()),2&i[0]&&(0,e.VHj)(n,"alice__input-oknyx-container",t[1])},i(t){r||((0,e.Ui)(o.$$.fragment,t),(0,e.Ui)(a),r=!0)},o(t){(0,e.etI)(o.$$.fragment,t),(0,e.etI)(a),r=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(o),a&&a.d()}}}function Ld(t){let n,i;return n=new L({props:{onClick:t[36],color:Ic,state:t[14],logo:g.z.ALICE,isBottomChat:t[1]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};16384&t[0]&&(i.state=e[14]),2&t[0]&&(i.isBottomChat=e[1]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function Ed(t){let n,i,o,s,r,a,l,c,d,u,p,h=t[10]&&t[9]&&ad(t),g=t[18]&&cd(t);const m=[ud,dd],f=[];function v(e,t){return e[1]?0:1}s=v(t),r=f[s]=m[s](t);const b=[Td,Sd],_=[];function y(e,t){return!e[2]&&"denied"===e[7]&&e[21]?0:e[28]?1:-1}~(l=y(t))&&(c=_[l]=b[l](t));const x=t[65].promo,w=(0,e.nuO)(x,t,t[68],rd);let k=t[10]&&!t[9]&&Md(t);return{c(){n=(0,e.bGB)("div"),h&&h.c(),i=(0,e.DhX)(),g&&g.c(),o=(0,e.DhX)(),r.c(),a=(0,e.DhX)(),c&&c.c(),d=(0,e.DhX)(),w&&w.c(),u=(0,e.DhX)(),k&&k.c(),(0,e.Ljt)(n,"class","alice__main svelte-8a854v"),(0,e.VHj)(n,"alice__main_is-mobile",t[6]),(0,e.VHj)(n,"alice__main_dialog_yes",t[18]),(0,e.VHj)(n,"alice__main_promo_yes",t[2]),(0,e.VHj)(n,"alice__main_keyboard-input_yes",t[10]),(0,e.VHj)(n,"alice__main_should-show-shortcuts",t[8]),(0,e.VHj)(n,"alice__main_chat",t[1])},m(t,r){(0,e.$Tr)(t,n,r),h&&h.m(n,null),(0,e.R3I)(n,i),g&&g.m(n,null),(0,e.R3I)(n,o),f[s].m(n,null),(0,e.R3I)(n,a),~l&&_[l].m(n,null),(0,e.R3I)(n,d),w&&w.m(n,null),(0,e.R3I)(n,u),k&&k.m(n,null),p=!0},p(t,u){t[10]&&t[9]?h?(h.p(t,u),1536&u[0]&&(0,e.Ui)(h,1)):(h=ad(t),h.c(),(0,e.Ui)(h,1),h.m(n,i)):h&&((0,e.dvw)(),(0,e.etI)(h,1,1,(()=>{h=null})),(0,e.gbL)()),t[18]?g?(g.p(t,u),262144&u[0]&&(0,e.Ui)(g,1)):(g=cd(t),g.c(),(0,e.Ui)(g,1),g.m(n,o)):g&&((0,e.dvw)(),(0,e.etI)(g,1,1,(()=>{g=null})),(0,e.gbL)());let $=s;s=v(t),s===$?f[s].p(t,u):((0,e.dvw)(),(0,e.etI)(f[$],1,1,(()=>{f[$]=null})),(0,e.gbL)(),r=f[s],r?r.p(t,u):(r=f[s]=m[s](t),r.c()),(0,e.Ui)(r,1),r.m(n,a));let C=l;l=y(t),l===C?~l&&_[l].p(t,u):(c&&((0,e.dvw)(),(0,e.etI)(_[C],1,1,(()=>{_[C]=null})),(0,e.gbL)()),~l?(c=_[l],c?c.p(t,u):(c=_[l]=b[l](t),c.c()),(0,e.Ui)(c,1),c.m(n,d)):c=null),w&&w.p&&(!p||64&u[2])&&(0,e.kmG)(w,x,t,t[68],p?(0,e.u2N)(x,t[68],u,sd):(0,e.VOJ)(t[68]),rd),t[10]&&!t[9]?k?(k.p(t,u),1536&u[0]&&(0,e.Ui)(k,1)):(k=Md(t),k.c(),(0,e.Ui)(k,1),k.m(n,null)):k&&((0,e.dvw)(),(0,e.etI)(k,1,1,(()=>{k=null})),(0,e.gbL)()),64&u[0]&&(0,e.VHj)(n,"alice__main_is-mobile",t[6]),262144&u[0]&&(0,e.VHj)(n,"alice__main_dialog_yes",t[18]),4&u[0]&&(0,e.VHj)(n,"alice__main_promo_yes",t[2]),1024&u[0]&&(0,e.VHj)(n,"alice__main_keyboard-input_yes",t[10]),256&u[0]&&(0,e.VHj)(n,"alice__main_should-show-shortcuts",t[8]),2&u[0]&&(0,e.VHj)(n,"alice__main_chat",t[1])},i(t){p||((0,e.Ui)(h),(0,e.Ui)(g),(0,e.Ui)(r),(0,e.Ui)(c),(0,e.Ui)(w,t),(0,e.Ui)(k),p=!0)},o(t){(0,e.etI)(h),(0,e.etI)(g),(0,e.etI)(r),(0,e.etI)(c),(0,e.etI)(w,t),(0,e.etI)(k),p=!1},d(t){t&&(0,e.ogt)(n),h&&h.d(),g&&g.d(),f[s].d(),~l&&_[l].d(),w&&w.d(t),k&&k.d()}}}function jd(n,i,o){let s,a,l,c;(0,e.FIv)(n,Hl,(e=>o(79,c=e)));let{$$slots:d={},$$scope:u}=i;var p,h,m,f,v,b;const{isFullscreenExp:_,allChatsStore:y,aliceKit:x}=(0,t.fw)(fe.f1);(0,e.FIv)(n,y,(e=>o(64,l=e)));let w,k,$,C,I,S,{onPromoShowChange:T}=i,{shouldPromoShow:M}=i,{outputBus:L}=i,{overrideOpenUriDirective:E}=i,{theme:j}=i,{onHorizontalMoveChange:D}=i,{isMobile:O=!1}=i,{permission:z}=i,{setShortcutsVisibility:A}=i,{shouldShowShortcuts:N=!0}=i,{shouldTrackAliceMainFullyShown:HldTrackVoiceRecordingStarted:R=!1}=i,{shouldFocusInpput:B=!1}=i,{startPhrase:U}=i,{setChatScroll:V}=i,{isDragging:q=!1}=i,{isTablet:F=!1}=i,{preventListenOnStart:Z=!1}=i,{openFullscreen:G}=i,{requestMicPermission:Y}=i,{useChat:W=!1}=i,{shouldOpenYaGpt:J}=i,{yaGptOpenPhrase:X}=i,{setIsLetsImagineDialog:Q}=i,{deeplink:K=te,oae=||U),ce=le,de=!1,ue=!1,pe=!0,he=!1,ge=!1,me="granted"===z,ve=!1,be=!1,_e=!0,ye=!1,xe="",we="";const ke=Boolean(!1);if(ke){const e=()=>{var e,t;return null===(t=null===(e=window.yandex)||void 0===e?void 0:e.speechkit)||void 0===t?void 0:t.isVoiceActivationEnabled((e=>{o(28,be="0"!==localStorage.getItem(Sc)&&!e)}))};(null===(h=null===(p=window.yandex)||void 0===p?void 0:p.overlayView)||void 0===h?void 0:h.isAliceVoiceActivationDisabled)?null===(f=null===(m=window.yandex)||void 0===m?void 0:m.overlayView)||void 0===f||f.isAliceVoiceActivationDisabled((t=>{t||e()})):e()}const $e=V&&(()=>null==V?void 0:V(!0)),Ce=V&&(()=>null==V?void 0:V(!1)),Ie=(e,t)=>{W?Se(e,t):o(54,te=e)},Se=(t,n)=>{const i=[{id:"0",type:"text",text:t.trim()}];n?s.updateLastMessage({bubbles:i},"replace"):s.addMessage({id:(0,id.O)(),isUserAuthor:!0,bubbles:i,suggests:[]}),o(25,pe=!1),(0,e.fxP)(Hl,c.shouldChatScrollBottom=!0,c)},Te=Zs((function(){R&&L.emit("voiceRecordingStarted")})),Me=()=>{W&&(ye=!1)},Le=e=>o(14,ee=e),Ee=e=>{var t;(null===(t=e.recognition)||void 0===t?void 0:t.text)&&(Ie(e.recognition.text,ye),o(57,se=!0),ye=!0)},je=e=>{var t;o(23,C=null),o(24,I=null),o(0,U=void 0),o(42,X=void 0),w||o(25,pe=!0),we=e.response.header.request_id;const{dialogId:n}=e,i=Boolean(n&&Uc.includes(n)&&!_);o(27,ve=Boolean(n&&(Pc.includes(n)||Bc.includes(n)))),o(1,W=i);const r=e.response.response||{},{cards:a,templates:l,suggest:c,palette:d}=r;if(W&&(null==a?void 0:a.length)){const e=[];a.forEach((t=>{switch(t.type){case"simple_text":e.push({id:(0,id.O)(),type:"text",text:t.text});break;case"rich_json_card":const n=JSON.parse(t.string_body);e.push({id:(0,id.O)(),type:"richJson",richJson:n,hideBorders:t.hide_borders})}})),e.length&&s.addMessage({requestId:we,bubbles:e,isWelcomeMessage:_e,id:(0,id.O)(),suggests:[]}),_e=!1}else if(null==a?void 0:a.length){A(!1),o(57,se=!1);const e=[];a.forEach((t=>{if(t.text&&e.push(t.text),t.body){const{states:e,log_id:n}=t.body;o(23,C={card:{states:e,log_id:n},templates:l,palette:d}),o(24,I=!0)}})),e.length&&o(55,ne=e.join("\n\n"))}T(!1),o(19,re=null!==(t=null==c?void 0:c.items)&&void 0!==t?t:[]),le||o(28,be=!1)},De=(e,t,n)=>{var i,r,a,c,d,u;switch(e){case"type":case"type_silent":"onHandle"===t&&(Ie(n.text),o(55,ne=""),o(57,se=!0));break;case"fill_cloud_ui":"onHandle"===t&&(o(55,ne=n.text),A(!1));break;case"open_uri":if("skip"===t)n.screen_id;else if("beforeHandle"===t)!qe&&x.getState().voiceSession&&(Pe(),Re("Открываю")),o(23,C=null),o(24,I=null),L.emit("openUriDirectiveBefore",{url:n.uri}),A(!1);else if("onHandle"===t){if(L.emit("stat",{path:"redirect_to_url",eventType:"click",customParams:{url:n.uri}}),E)return E({url:n.uri});qe?null===(a=null===(r=null===(i=window.yandex)||void 0===i?void 0:i.overlayView)||void 0===r?void 0:r.openUrl)||void 0===a||a.call(r,n.uri):window.location.href=n.uri}break;case"show_promo":"onHandle"===t&&(o(54,te=""),o(55,ne=O?"Для этого надо установить приложение Яндекса":"Для этого нужно установить приложение Яндекс на мобильном"),o(57,se=!1),T(!0),A(!1),Be());break;case"show_view":if("onHandle"===t){if(W)return;o(17,le=!1),$&&(o(19,re=[]),o(55,ne="")),o(23,C=n.div2_card.body||JSON.parse(n.div2_card.string_body)),o(24,I=!1)}break;case"update_dialog_info":"onHandle"===t&&o(18,$={dialogTitle:age_url,dialogUrl:n.url,logo:n.style.oknyx_logo});break;case"end_dialog_session":"onHandle"===t&&$&&Ze();break;case"open_dialog_directive":if("beforeHandle"===t){const{dialog_id:e}=n,t=Pc.includes(e),i=Bc.includes(e);if(null==Q||Q(t),(t||i)&&o(60,he=!0),i&&La(O,L),xe=(null===(c=n.directives.find((e=>"type_silent"===e.name)))||void 0===c?void 0:c.payload.text)||"",!Uc.includes(e))return;_&&G?G(xe):xe&&Se(xe);let s=`${Ws.W}.${e}`;if(Pc.includes(e)&&(s="alice.defaultChat"),!l.allChats.hasOwnProperty(e)){const t={type:"ls",localStorageKey:s,maxMessagesInLS:50,isDialog:!0};y.createChat(t,{id:e})}}else"onHandle"===t&&y.setActiveChatId(n.dialog_id);break;case"print_text_in_message_view":"onHandle"===t&&(n.text&&(d=n.text,u=!n.isNewMessage,W?((e,t)=>{Array.isArray(e)||(e=[e]);const n=e.map(((e,t)=>({id:String(t),type:"text",text:e.trim()})));t?s.updateLastMessage({bubbles:n},"replace"):bbles:n,isWelcomeMessage:_e,suggests:[]}),_e=!1,ye=!1})(d,u):o(55,ne=d)),o(56,w="end"===n.status?void 0:n.status),o(25,pe="end"===n.status))}},Oe=e=>L.emit("errorThrown",e),{startVoiceInput:ze,sendVinsRequest:Ae,selectSuggest:Ne,getGreetings:He,synthesize:Re,ttsStop:Pe,cancel:Be,setDialogId:Ue,aliceBus:Ve}=x,qe=ke&&Boolean(null===(b=null===(v=window.yandex)||void 0===v?void 0:v.overlayView)||void 0===b?void 0:b.openUrl);(0,t.H3)((()=>{Ve.on("status",Le),Ve.on("recognition",Ee),Ve.on("vins",je),Ve.on("directive",De),Ve.on("error",Oe),Ve.on("listeningstart",Te),Ve.on("listeningend",Me),x.start(),o(14,ee=x.getStatus()),K?Js(K,y):J||U?Ye(X):le&&(Fe(),Z||x.startVoiceInputOnce({skipMicSounds:!0})),dn e&&o(4,j=e.theme),"onHorizontalMoveChange"in e&&o(5,D=e.onHorizontalMoveChange),"isMobile"in e&&o(6,O=e.isMobile),"permission"in e&&o(7,z=e.permission),"setShortcutsVisibility"in e&&o(45,A=e.setShortcutsVisibility),"shouldShowShortcuts"in e&&o(8,N=e.shouldShowShortcuts),"shouldTrackAliceMainFullyShown"in e&&o(46,H=e.shouldTrackAliceMainFullyShown),"shouldTrackVoiceRecordingStarted"in e&&o(47,R=e.shouldTrackVoiceRecordingStarted),"shouldFocusInput"in e&&o(9,P=e.shouldFocusInput),"hasKeyboardInput"in e&&o(10,B=e.hasKeyboardInput),"startPhrase"in e&&o(0,U=e.startPhrase),"setChatScroll"in e&&o(48,V=e.setChatScroll),"isDragging"in e&&o(11,q=e.isDragging),"isTablet"in e&&o(12,F=e.isTablet),"preventListenOnStart"in e&&o(49,Z=e.preventListenOnStart),"openFullscreen"in e&&o(50,G=e.openFullscreen),"requestMicPermission),"useChat"in e&&o(1,W=e.useChat),"shouldOpenYaGpt"in e&&o(13,J=e.shouldOpenYaGpt),"yaGptOpenPhrase"in e&&o(42,X=e.yaGptOpenPhrase),"setIsLetsImagineDialog"in e&&o(52,Q=e.setIsLetsImagineDialog),"deeplink"in e&&o(53,K=e.deeplink),"$$scope"in e&&o(68,u=e.$$scope)},n.$$.update=()=>{4&n.$$.dirty[2]&&o(63,s=l.currentChat),128&n.$$.dirty[0]|1&n.$$.dirty[2]&&(o(62,me="granted"===z),Ve.emit("changeMicPermission",me)),262144&n.$$.dirty[0]&&o(29,a=(null==$?void 0:$.logo)===g.z.MICROPHONE),24705&n.$$.dirty[0]|268697600&n.$$.dirty[1]&&(!("prompt"!==k&&"unknown"!==k||ee!==g.U.SUSPENDED||Z||U||J)&&x.checkPermissionAndStartVoiceInput({skipMicSounds:!0}),o(59,k=z)),8&n.$$.dirty[0]|1610612736&n.$$.dirty[1]&&!ge&&he&&!_&&(r.e(734).then(r.t.bind(r,9980,23)).then((e=>o(26,S=e.default))).catch((()=>{L.emit("errorThrown",Error("failed to load markdown bundle"))})),o(61,ge=!0)),335y[2]&&s.setOutputStatus(w),229384&n.$$.dirty[0]|226525184&n.$$.dirty[1]&&(se?(o(15,ie=ne),o(16oe=ne)),o(20,ae=Ns(ie,oe)),!le&&ce&&H&&(0,t.Ky)().then(eMainFullyShown")})),o(58,ce=le))},[U,W,M,L,j,D,O,z,N,Pe,a,y,ke,$e,Ce,(e,t)=>{L.emit("stat",{path:`suggest.${t}`,eventType:"click",customParams:{title:e.title}}),Ne(e)},(e,t)=>{L.emit("stat",{path:`shortcut.${t}`,eventType:"click",customParams:{id:e.id,title:e.command}}),o(17,le=!1),Ne({title:e.command})},()=>{switch(ee){case g.U.LISTENING:Be(),L.emit("stat",{path:"oknyx_while_listening",eventType:"click"});break;case g.U.SUSPENDED:if("nomic"===z)return o(54,te=""),void o(55,ne=Cc.noMic);if(!me)return o(54,te=""),o(55,ne=Cc.noPermission),void o(21,de=!0);ze(),L.emit("stat",{path:"oknyx_while_suspended",eventType:"click"});break;case g.U.THINKING:Be(),$||Ue(null);default:Be()}},Ze,e=>{Be(),Ie(e),onput",text:e},{voiceSession:!1}),L.emit("stat",{path:"ams:{value,()=>{ee===g.U.LISTENING&&Be()},e=>{var t;o(54,te=e.title),(null===(t=null==e?void 0:e.directives)||void 0===t?void 0:t.some((({name:e})=>"open_uri"===e)))&&o(54,te="Открываю"),o(55,ne=""),o(57,se=!0),Ne(e)},()=>{o(22,ue=de)},X,T,E,A,H,R,V,Z,G,Y,Q,K,te,ne,w,se,ce,k,he,ge,me,s,l,d,()=>{o(21,de=!1),o(22,ue=!1)},()=>{o(28,be=!1)},u]}class Dd extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,jd,Ed,e.N8,{onPromoShowChange:43,shouldPromoShow:2,outputBus:3,overrideOpenUriDirective:44,theme:4,onHorizontalMoveChange:5,isMobile:6,permission:7,setShortcutsVisibility:45,shouldShowShortcuts:8,shouldTrackAliceMainFullyShown:46,shouldTrackVoiceRecordingStarted:47,shouldFocusInput:9,hasKeyboardInput:10,startPhrase:0,setChatScroll:48,isDragging:11,isTablet:12,preventListenOnStart:49,openFullscreen:50,requestMicPermission:51,useChat:1,shouldOpenYaGpt:13,yaGptOpenPhrase:42,setIsLetsImagineDialog:52,deeplink:53},od,[-1,-1,-1,-1])}}const Od=Dd;function zd(e,t){if(!t)return;const n=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n)}}}const Ad=e=>{};function Nd(t){(0,e.qOq)(t,"svelte-aorxoz",".alice.svelte-aorxoz{position:var(--position);bottom:0-evenly;z-index:var(--z-index);color:black;overflow:hidden;border-top-left-radius:50% 30px;border-top-right-radius:50% 30px;background:#ffffff;touch-action:none;scrollbar-width:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;border:1px sorder-box;maalice.svelte-aorxoz::-webkit-scrollbar{display:none}.back-layer.svelte-aorxoz{position:fixed;height:200px;top:calc(100vh - 100px);left:0px;right:0px;z-index:var(--z-index);background:#ffffff}.close-button.svelte-aorxoz{width:100%;position:fixed;z-index:var(--z-index);opacity:0;top:0;left:0px;right:0px;bottom:0px}.alice_theme_dark.svelte-aorxoz{background:#161617;color:#ffffff;box-shadow:0px 0px 64px rgba(0, 0, 0, 0.5)}.alice_is_yabro.svelte-aorxoz{box-shadow:initial;border-radius:10px;flex-grow:1}")}function Hd(t){let n,i,o,s;return{c(){n=(0,e.bGB)("button"),i=(0,e.fLW)("Закрыть"),(0,e.Ljt)(n,"class","close-button svelte-aorxoz"),(0,e.czc)(n,"--z-index",t[5]+1)},m(r,a){(0,e.$Tr)(r,n,a),(0,e.R3I)(n,i),o||(s=(0,e.oLt)(n,"click",t[10]),o=!0)},p:e.ZTd,d(t){t&&(0,e.ogt)(n),o=!1,s()}}}function Rd(t){let n,i,o,s;return{c(){n=(0,e.bGB)("button"),i=(0,e.fLW)("Закрыть"),(0,e.Ljt)(n,"class","close-button svelte-aorxoz"),(0,e.czc)(n,"--z-index",t[5]+1)},m(r,a){(0,e.$Tr)(r,n,a),(0,e.R3I)(n,i),o||(s=(0,e.oLt)(n,"click",(function(){(0,e.sBU)(t[0])&&t[0].apply(this,arguments)})),o=!0)},p(e,n){t=e},d(t){t&&(0,e.ogt)(n),o=!1,s()}}}function Pd(t){let n,i,o,s,r,a,l,c,d,u,p,h,g,m="up"===t[4]&&Hd(t);const f=t[9].default,v=(0,e.nuO)(f,t,t[8],null);let b="down"===t[4]&&Rd(t);return{c(){m&&m.c(),n=(0,e.DhX)(),i=(0,e.bGB)("div"),o=new e.FWw(!1),s=(0,e.DhX)(),v&&v.c(),d=(0,e.DhX)(),b&&b.c(),u=(0,e.cSb)(),o.e${t[2]}`)+" svelte-aorxoz"),(0,e.Ljt)(i,"aria-modal",a=!0),(0,e.Ljt)(i,"aria-labelledby",t[1]),(0,e.czc)(i,"--z-index",t[5]+2),(0,e.czc)(i,"--position",t[6]?"relative":"absolute"),(0,e.VHj)(i,"alice_is_yabro",!1)},m(r,a){m&&m.m(r,a),(0,e.$Tr)(r,n,a),(0,e.$Tr)(r,i,a),o.m("\x3c!-- Приходи в гос,e.$Tr)(r,d,a),b&&b.m(r,a),(0,e.$Tr)(r,uTVh)(l=zd.call(null,i,t[0])),(m=Hd(t),m.c(),m.m(n.parentNode,n)):m&&(m.d(1),m=null),v&&v.p&&(!p||256&o)&&(0,e.kmG)(v,f,t,t[8],p?(0,e.u2N)(f,t[8],o,null):(0,e.VOJ)(t[8]),null),(!p||4&o&&r!==(r=(0,e.H1I)(`alice alice_theme_${t[2]}`)+" svelte-aorxoz"))&&(0,e.Ljt)(i,"class",r),(!p||2&o)&&(0,e.Ljt)(i,"aria-labelledby",t[1]),l&&(0,e.sBU)(l.update)&&1&o&&l.update.call(null,t[0]),4&o&&(0,e.VHj)(i,"alice_is_yabro",!1),"down"===t[4]?b?b.p(t,o):(b=Rd(t),b.c(),b.m(u.parentNode,u)):b&&(b.d(1),b=null)},i(t){p||((0,e.Ui)(v,t),p=!0)},o(t){(0,e.etI)(v,t),p=!1},d(o){m&&m.d(o),o&&(0,e.ogt)(n),o&&(0,e.ogt)(i),v&&v.d(o),t[11](null),o&&(0,e.ogt)(d),b&&b.d(o),o&&(0,e.ogt)(u),h=!1,(0,e.j7q)(g)}}}function Bd(n,i,o){let s,{$$slots:r={},$$scope:a}=i,{hideApp:l}=i,{ariaLabelledby:c}=i,{theme:d}=i,{isTablet:u=!1}=i;const{baseZIndex:p}=(0,t.fw)(fe.f1);let h;return n.$$set=e=>{"hideApp"in e&&o(0,l=e.hideApp),"ariaLabelledby"in e&&o(1,c=e.ariaLabelledby),"theme"in e&&o(2,d=e.theme),"isTablet"in e&&o(7,u=e.isTablet),"$$scope"in e&&o(8,a=e.$$scope)},n.$$.update=()=>{128&n.$$.dirty&&o(4,s=((e,t)=>t?"up":"down")(0,u))},[l,c,d,h,s,p,!1,u,a,r,()=>{l()},function(t){e.VnY[t?"unshift":"push"]((()=>{h=t,o(3,h)}))}]}class Ud extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Bd,Pd,e.N8,{hideApp:0,ariaLabelledby:1,theme:2,isTablet:7},Nd)}}const Vd=Ud;function qd(t){(0,e.qOq)(t,"svelte-zp2lpt",".alice-promo.svelte-zp2lpt.svelte-zp2lpt{padding-bottom:30px}.alice-promo__app-android.svelte-zp2lpt.svelte-zp2lpt{width:140px;height:40px;margin-bottom:10px}.alice-promo__app-ios.svelte-zp2lpt.svelte-zp2lpt{width:140px;height:40px;margin-bottom:10px}.alice-promo__app-links.svelte-zp2lpt.svelte-zp2lpt{display:flex;flex-direction:row;margin:30px;margin-bottom:0}.alice-promo__app-imgs.svelte-zp2lpt.svelte-zp2lpt{display:flex;flex-direction:column}.alice-promo__app-qr.svelte-zp2lpt.svelte-zp2lpt{width:128px;height:128px}.alice-promo__app-links-description.svelte-zp2lpt.svelte-zp2lpt{font-style:normal;font-weight:500;font-size:12px;line-height:120%;color:rgba(0, 0, 0, 0.45);padding-right:10px}.alice-promo_theme_dark.svelte-zp2lpt .alice-promo__app-links-description.svelte-zp2lpt{color:#ffffff}.alice-promo__app-header.svelte-zp2lpt.svelte-zp2lpt{display:flex;flex-direction:row;margin:30px;margin-top:0}.alice-promo__app-icon.svelte-zp2lpt.svelte-zp2lpt{width:40px;height:40px;margin-right:8px}.alice-promo__app-description.svelte-zp2lpt.svelte-zp2lpt{display:flex;flex-direction:column}.alice-promo__app-h1.svelte-zpe:18px;line-height:120%;color:#000000}.alice-promo_theme_dark.svelte-zp2lpt .alice-promo__app-h1.svelte-zp2lpt{color:#ffffff}.alice-promo__app-h2.svelte-zp2lpt.svelte-zp2lpt{font-style:normal;font-weight:400;font-size:13px;line-height:120%;color:rgba(0, 0, 0, 0.45)}.alice-promo_theme_dark.svelte-zp2lpt .alice-promo__app-h2.svelte2eyolor:black;text-decoration:none}.alice-promo__main-url-layout.svelte-zp2lpt.svelte-zp2lpt{display:flex;justify-content:center;margin-top:22px;margin-bottom:22px}.alice-promo__image.svelte-zp2lpt.svelte-zp2lpt{height:293px;width:135px;min-width:135px;border-radius:14.5px}.alice-promo__image.svelte-zp2lpt.svelte-zp2lpt:first-child{margin-left:30px}.alice-promo__image.svelte-zp2lpt.svelte-zp2lpt:last-child{margin-right:30px}")}function Fd(e,t,n){const i=e.slice();return i[7]=t[n].url,i}function Zd(t){let n,i;return{c(){n=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","alice-promo__image svelte-zp2lpt"),(0,e.Jn4)(n.src,i=t[7])||(0,e.Ljt)(n,"src",i),(0,e.Ljt)(n,"alt","Приложение")},m(t,i){(0,e.$Tr)(t,n,i)},p:e.ZTd,d(t){t&&(0,e.ogt)(n)}}}function Gd(t){let n,i=t[5],o=[];for(let e=0;e<i.length;e+=1)o[e]=Zd(Fd(t,i,e));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=(0,e.cSb)()},m(t,i){for(let e=0;e<o.length;e+=1)o[e].m(t,i);(0,e.$Tr)(t,n,i)},p(e,t){if(32&t){let s;for(i=e[5],s=0;s<i.length;s+=1){const r=Fd(e,i,s);o[s]?o[s].p(r,t):(o[s]=Zd(r),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=i.length}},d(t){(0,e.RMB)(o,t),t&&(0,e.ogt)(n)}}}function Yd(t){let n,i,o,s,r,a,l,c,d,u,p,h,g,m,f,v,b,_,y,x,w;return s=new se({props:{isDesktop:!0,theme:t[0],buttonWidth:29,$$slots:{default:[Gd]},$$scope:{ctx:t}}}),{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),i.innerHTML='<img class="alice-promo__app-icon svelte-zp2lpt" src="https://yastatic.net/s3/home/alice_popup/ya.svg" alt="Приложение"/> \n        <div class="alice-promo__app-description svelte-zp2lpt"><div class="alice-promo__app-h1 svelte-zp2lpt">Яндекс — с Алисой</div> \n            <div class="alice-promo__app-h2 svelte-zp2lpt">Быстрый поиск и Алиса всегда рядом</div></div>',o=(0,e.DhX)(),(0,e.YCL)(s.$$.fragment),r=(0,e.DhX)(),a=(0,e.bGB)("div"),l=(0,e.bGB)("div"),c=(0,e.bGB)("a"),d=(0,e.bGB)("img"),p=(0,e.DhX)(),h=(0,e.bGB)("a"),g=(0,e.bGB)("img"),f=(0,e.DhX)(),v=(0,e.bGB)("span"),v.textContent="или считайте QR-код камерой вашего телефона",b=(0,e.DhX)(),_=(0,e.bGB)("img"),(0,e.Ljt)(i,"class","alice-promo__app-header svelte-zp2lpt"),(0,e.Jn4)(d.src,u="https://yastatic.net/s3/home/alice_popup/google_play.svg")||(0,e.Ljt)(d,"src","https://yastatic.net/s3/home/alice_popup/google_play.svg"),(0,e.Ljt)(d,"alt","Приложение Android"),r"yastatic.net/s3/home/alice_popup/app_store.svg")||(0,e.Ljt)(g,"src","https://yastatic.net/s3/home/alice_popup/app_store.svg"),(0,e.Ljt)(g,"alt","Прpromo__app-ios svelte-zp2lpt"),(0,e.Ljt)(h,"href",t[1]),(0,e.Ljt)(v,"class","alice-promo__app-links-description svelte-zp2lpt"),(0,e.Ljt)(l,"class","alice-promo__app-imgs svelte-zp2lpt"),(0,e.Ljt)(_,"class","alice-promo__app-qr svelte-zp2lpt"),(0,e.Jn4)(_.src,y=t[3])||(0,e.Ljt)(_,"src",y),(0,e.Ljt)(_,"alt","Приложение"),(0,e.Ljt)(a,"class","alice-promo__app-links svelte-zp2lpt"),(0,e.Ljt)(n,"class",x=(0,e.H1I)(`alice-promo alice-promo_theme_${t[0]}`)+" svelte-zp2lpt"),(0,e.czc)(n,"--z-index",t[4]+1)},m(t,u){(0,e.$Tr)(t,n,u),(0,e.R3I)(n,i),(0,e.R3I)(n,o),(0,e.yef)(s,n,null),(0,e.R3I)(n,r),(0,e.R3I)(n,a),(0,e.R3I)(a,l),(0,e.R3I)(l,c),(0,e.R3I)(c,d),(0,e.R3I)(l,p),(0,e.R3I)(l,h),(0,e.R3I)(h,g),(0,e.R3I)(l,f),(0,e.R3I)(l,v),(0,e.R3I)(a,b),(0,e.R3I)(a,_),w=!0},p(t,[i]){const o={};1&i&&(o.theme=t[0]),1024&i&&(o.$$scope={dirty:i,ctx:t}),s.$set(o),(!w||1&i&&x!==(x=(0,e.H1I)(`alice-promo alice-promo_theme_${t[0]}`)+" svelte-zp2lpt"))&&(0,e.Ljt)(n,"class",x)},i(t){w||((0,e.Ui)(s.$$.fragment,t),w=!0)},o(t){(0,e.etI)(s.$$.fragment,t),w0eg:active{opacity:0.45}.fullscreen__chat_container.svelte-1thw0eg.svelte-1thw0eg{width:100%;margin-top:20px}.fullscreen__bottom_container.svelte-1thw0eg.svelte-1thw0eg{position:sticky;bottom:0;background:#ffogheme_dark.svelte-1thw0eg .fullscreen__bottom_container.svelte-1thw0eg{background:#161617}.fullscreen_theme_dark.svelte-1thw0eg .fullscreen__header-desc.svelte-1thw0eg{color:#fff}.fullscreen__mic-denied-notifier_container.svelte-1thw0emn__suggests_container.svelte-1thw0eg.svelte-1thw0eg{margin-left:-25px;margin-right:-25px}.fullscreen__content-left.svelte-1thw0eg.svelte-1thw0eg{flex-grow:2;flex-basis:10%}.fullscreen__content-rigth.svelte-1thw0eg.svelte-1thw0eg{flex-grow:2;flex-basis:10%}@media(min-width: 1000px){.fullscreen.svelte-1thw0eg.svelte-1thw0eg{align-items:center}.fullscreen__container.svelte-1thw0eg.svelte-1thw0eg{left:initial}}@media(min-width: 1640px){.fullscreen__content.svelte-1thw0eg.svelte-1thw0eg{width:840px}.fullscreen__input-container.svelte-1thw0eg.svelte-1thw0eg{width:840px}.fullscreen__mic-denied-notifier_container.svelte-1thw0eg.svelte-1thw0eg{width:840px}}")}function tu(t){let n,i,o;return{c(){n=(0,e.bGB)("img"),(0,e.Ljt)(n,"class","fullscreen__header-image svelte-1thw0eg"),(0,e.Jn4)(n.src,i=t[14].dialogImageUrl)||(0,e.Ljt)(n,"src",i),(0,e.Ljt)(n,"alt",o="logo")},m(t,i){(0,e.$Tr)(t,n,i)},p(t,o){16384&o[0]&&!(0,e.Jn4)(n.src,i=t[14].dialogImageUrl)&&(0,e.Ljt)(n,"src",i)},d(t){t&&(0,e.ogt)(n)}}}function nu(t){let n,i;return n=new fc({props:{theme:t[0],MarkdownParser:t[10],outputBus:t[3],isMobile:!1,suggests:t[16]?t[7]:[],greetings:t[9]||!t[18]?t[12]:void 0,onSuggestClick:t[24],page:ru,aliceState:t[6],useMarkdown:t[11]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t[0]&&(i.theme=e[0]),1024&t[0]&&(i.MarkdownParser=e[10]),8&t[0]&&(i.outputBus=e[3]),65664&t[0]&&(i.suggests=e[16]?e[7]:[]),4608&t[0]&&(i.greetings=e[9]||!e[18]?e[12]:void 0),64&t[0]&&(i.aliceState=e[6]),2048&t[0]&&(i.useMarkdown=e[11]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function iu(t){let n,i,o;return i=new Qc({props:{theme:t[0],outputBus:t[3],onClose:t[40],page:ru}}),{c(){n=(0,e.bGB)("div"),(0,e.YCL)(i.$$.fragment),(0,e.Ljt)(n,"class","fullscreen__mic-denied-notifier_container svelte-1thw0eg")},m(t,s){(0,e.$Tr)(t,n,s),(0,e.yef)(i,n,null),o=!0},p(e,t){const n={};1&t[0]&&(n.theme=e[0]),8&t[0]&&(n.outputBus=e[3]),8200&t[0]&&(n.onClose=e[40]),i.$set(n)},i(t){o||((0,e.Ui)(i.$$.fragment,t),o=!0)},o(t){(0,e.etI)(i.$$.fragment,t),o=!1},d(t){t&&(0,e.ogt)(n),(0,e.vpE)(i)}}}function ou(t){let n,i,o,s,r,a,l,c,d,u,p,h,m,f,v,b,_,y,x,w,k,$,C,I,S,T,M,E,j,D,O,z,A,N,H=t[14].dialogTitle+"",R=t[14].dialogImageUrl&&tu(t);_=new Oc({props:{$$slots:{default:[nu]},$$scope:{ctx:t}}});let P=("denied"===t[5]||"prompt"===t[5])&&t[13]&&iu(t);$=new As({props:{onSubmit:t[21],theme:t[0],outputBus:t[3],onChange:t[22],buttonTheme:Ms.PURPLE,isMobile:!1,isTablet:t[4],shouldFocusInput:t[2],page:ru,lines:su}}),S=new L({props:{onClick:t[23],color:Qd,state:t[6],logo:g.z.ALICE}});let B=function(t){let n,i,o,s,r,a;return{c(){n=(0,e.bGB)("div"),i=(0,e.bi5)("svg"),o=(0,e.bi5)("path"),(0,e.Ljt)(o,"fill-rule","evenodd"),(0,e.Ljt)(o,"clip-rule","evenodd"),(0,e.Ljt)(o,"d","M20 36a16 16 0 1 0 0-32 16 16 0 0 0 0 32Zm-7.22-21.33L18.11 20l-5.33 5.45 1.89 1.88L20 21.9l5.45 5.44 1.88-1.88L21.9 20l5.44-5.33-1.88-1.89L20 18.11l-5.33-5.33-1.89 1.89Z"),(0,e.Ljt)(o,"fill",s="dark"===t[0]?"#FFF":"#000"),(0,e.Ljt)(i,"width","40"),(0,e.Ljt)(i,"height","40"),(0,e.Ljt)(i,"fill","none"),(0,e.Ljt)(i,"xmlns","http://www.w3.org/2000/svg"),(0,e.Ljt)(n,"class","fullscreen__close svelte-1thw0eg")},m(s,l){(0,e.$Tr)(s,n,l),(0,e.R3I)(n,i),(0,e.R3I)(i,o),r||(a=(0,e.oLt)(n,"click",(0,e.AT7)((function(){(0,e.sBU)(t[1])&&t[1].apply(this,arguments)}))),r=!0)},p(n,i){t=n,1&i[0]&&s!==(s="dark"===t[0]?"#FFF":"#000")&&(0,e.Ljt)(o,"fill",s)},d(t){t&&(0,e.ogt)(n),r=!1,a()}}}(t);return{c(){n=(0,e.bGB)("div"),i=(0,e.bGB)("div"),o=(0,e.bGB)("div"),s=(0,e.bGB)("div"),r=(0,e.bGB)("a"),R&&R.c(),l=(0,e.DhX)(),c=(0,e.bGB)("div"),d=(0,e.bGB)("div"),u=(0,e.fLW)(H),p=(0,e.DhX)(),h=(0,e.bGB)("div"),m=(0,e.fLW)(t[15]),f=(0,e.DhX)(),v=(0,e.bGB)("div"),b=(0,e.bGB)("div"),(0,e.YCL)(_.$$.fragment),y=(0,e.DhX)(),x=(0,e.bGB)("div"),P&&P.c(),w=(0,e.DhX)(),k=(0,e.bGB)("div"),(0,e.YCL)($.$$.fragment),C=(0,e.DhX)(),I=(0,e.bGB)("div"),(0,e.YCL)(S.$$.fragment),T=(0,e.DhX)(),M=(0,e.bGB)("div"),B&&B.c(),(0,e.Ljt)(r,"class","fullscreen__header-link"),(0,e.Ljt)(r,"href",a=t[14].dialogUrl),(0,e.Ljt)(r,"target","_blank"),(0,e.Ljt)(r,"rel","noopener"),(0,e.Ljt)(d,"class","fullscreen__header-desc-title svelte-1thw0eg"),(0,e.Ljt)(h,"class","fullscreen__header-desc-subtitle svelte-1thw0eg"),(0,e.Ljt)(c,"class","fullscreen__header-desc svelte-1thw0eg"),(0,e.Ljt)(s,"class","fullscreen__header svelte-1thw0eg"),(0,e.Ljt)(o,"class","fullscreen__content-left svelte-1thw0eg"),(0,e.Ljt)(b,"class","fullscreen__chat_container svelte-1thw0eg"),(0,e.Ljt)(I,"class","fullscreen__oknyx svelte-1thw0eg"),(0,e.Ljt)(k,"class","fullscreen__input-container svelte-1thw0eg"),(0,e.VHj)(k,"fullscreen__input-container_focused",!0),(0,e.Ljt)(x,"class","fullscreen__bottom_container svelte-1thw0eg"),(0,e.Ljt)(v,"class","fullscreen__content svelte-1thw0eg"),(0,e.Ljt)(M,"class","fullscreen__content-rigth svelte-1thw0eg"),(0,e.Ljt)(i,"class","fullscreen__container svelte-1thw0eg"),(0,e.Ljt)(n,"class",E=(0,e.H1I)(`fullscreen fullscreen_theme_${t[0]}`)+" svelte-1thw0eg"),(0,e.Ljt)(n,"style",j=t[19]?`--z-index: ${t[19]+2};`:"")},m(a,g){(0,e.$Tr)(a,n,g),(0,e.R3I)(n,i),(0,e.R3I)(i,o),(0,e.R3I)(o,s),(0,e.R3I)(s,r),R&&R.m(r,null),(0,e.R3I)(s,l),(0,e.R3I)(s,3I)(x,k),(0,e.yef)($,k,null),(0,e.R3I)(k,C),(0,e.R3I)(k,I),(0,e.yef)(S,I,null),(0,e.R3I)(i,T),(0,e.R3I)(i,M),B&&B.m(M,null),t[41](n),z=!0,A||(N=[(0,e.TVh)(D=Kd.call(null,n)),(0,e.TVh)(O=zd.call(null,n,t[1]))],A=!0)},p(t,i){t[14].dialogImageUrl?R?R.p(t,i):(R=tu(t),R.c(),R.m(r,null)):R&&(R.d(1),R=null),(!z||16384&i[0]&&a!==(a=t[14].dialogUrl))&&(0,e.Ljt)(r,"href",a),(!z||16384&i[0])&&H!==(H=t[14].dialogTitle+"")&&(0,e.rTO)(u,H),(!z||32768&i[0])&&(0,e.rTO)(m,t[15]);const o={};73417&i[0]|1073741824&i[1]&&(o.$$scope={dirty:i,ctx:t}),_.$set(o),"denied"!==t[5]&&"prompt"!==t[5]||!t[13]?P&&((0,e.dvw)(),(0,e.etI)(P,1,1,(()=>{P=null})),(0,e.gbL)()):P?(P.p(t,i),8224&i[0]&&(0,e.Ui)(P,1)):(P=iu(t),P.c(),(0,e.Ui)(P,1),P.m(x,w));const s={};1&i[0]&&(s.theme=t[0]),8&i[0]&&(s.outputBus=t[3]),16&i[0]&&(s.isTablet=t[4]),4&i[0]&&(s.shouldFocusInput=t[2]),$.$set(s);const l={};64&i[0]&&(l.state=t[6]),S.$set(l),B.p(t,i),(!z||1&i[0]&&E!==(E=(0,e.H1I)(`fullscreen fullscreen_theme_${t[0]}`)+" svelte-1thw0eg"))&&(0,e.Ljt)(n,"class",E),O&&(0,e.sBU)(O.update)&&2&i[0]&&O.update.call(null,t[1])},i(t){z||((0,e.Ui)(_.$$.fragment,t),(0,e.Ui)(P),(0,e.Ui)($.$$.fragment,t),(0,e.Ui)(S.$$.fragment,t),z=!0)},o(t){(0,e.etI)(_.$$.fragment,t),(0,e.etI)(P),(0,e.etI)($.$$.fragment,t),(0,e.etI)(S.$$.fragment,t),z=!1},d(i){i&&(0,e.ogt)(n),R&&R.d(),(0,e.vpE)(_),P&&P.d(),(0,e.vpE)($),(0,e.vpE)(S),B&&B.d(),t[41](null),A=!1,(0,e.j7q)(N)}}}const su=10,ru="fullscreen";function au(n,i,o){let s,a,l,c,d,u,p,h=e.ZTd;(0,e.FIv)(n,Hl,(e=>o(17,p=e))),n.$$.on_destroy.push((()=>h()));let{theme:m}=i,{isMobile:f=!1}=i,{onClose:v}=i,{shouldFocusInput:b=!1}=i,{outputBus:_}=i,{overrideOpenUriDirective:y}=i,{isTablet:x=!1}=i,{permission:w}=i,{startPhrase:k}=i,{requestMicPermission:$}=i,{shouldOpenYaGpt:C}=i,{yaGptOpenPhrase:I}=i,{dialogOpenedWithPhrase:S=(C?I:"")}=i,{deeplink:T}=i;const{isFirstRequestScrollExp:M,baseZIndex:L,allChatsStore:E,aliceKit:j}=(0,t.fw)(fe.f1);(0,e.FIv)(n,E,(e=>o(39,u=e)));let D,O,z,A=g.U.SUSPENDED,N=C||k?"not_started":"skill_opened",H=!1,R=[],P=[],B=!1,U=!0,V=!1,q=!0,F=!1,Z={dialogTitle:"",dialogImageUrl:"",dialogUrl:"",logo:""},G="",Y="";const{startVoiceInput:W,sendVinsRequest:J,selectSuggest:X,cancel:Q,aliceBus:K}=j;(null==T?void 0:T.id)&&Bc.includes(null==T?void 0:T.id)&&(N="started",q=!1),(0,t.H3)((()=>{s&&S&&ee(S,!1,!0),K.on("directive",te),K.on("error",ne),K.on("listeningend",re),K.on("status",ie),K.on("recognition",oe),K.on("vins",se),j.start(),o(6,A=j.getStatus()),T?Js(T,E):(C||k)&&ae(I),_.emit("stat",{path:`${ru}`,eventType:"show"})})),(0,t.ev)((()=>{K.off("directive",te),K.off("error",ne),K.off("status",ie),K.off("listeningend",re),K.off("recognition",oe),K.off("vins",se),s.closeChat()}));const ee=(t,n,i)=>{if("end"===N)return;const r=[{id:"0",type:"text",text:t.trim()}];n?s.updateLastMessage({bubbles:r},"replace"):s.addMessage({bubbles:r,isUserAuthor:!0,isPhraseOnDialogOpen:i,id:(0,id.O)(),suggests:[]}),o(35,U=!1),(0,e.fxP)(Hl,p.shouldChatScrollBottom=!0,p),o(33,N="started")},te=(e,t,n)=>{var i,r,a,l;switch(e){case"type":case"type_silent":"onHandle"===t&&ee(n.text);break;case"print_text_in_message_view":"onHandle"===t&&(n.text&&((e,t,n)=>{if("end"===N)return;const i=[{id:String(0),type:"text",text:e.trim()}];n?s.updateLastMessage({bubbles:i},"replace"):s.addMessage({requestId:Y,bubbles:i,isWelcomeMessage:q,id:(0,id.O)(),suggests:[]}),q=!1})(n.text,0,!n.isNewMessage),o(34,O="end"===n.status?void 0:n.status),o(35,U="end"===n.status));break;case"open_dialog_directive":o(33,N="skill_opened");const{dialog_id:e}=n;Pc.includes(e)?o(15,G="YandexGPT 2"):Bc.includes(e)&&La(f,_);let c=`${Ws.W}.${e}`;if(Pc.includes(e)&&(c="alice.defaultChat"),!u.allChats.hasOwnProperty(e)){const t={type:"ls",localStorageKey:c,maxMessagesInLS:50,isDialog:!0};E.createChat(t,{id:e})}E.setActiveChatId(e);break;case"update_dialog_info":"onHandle"===t&&o(14,Z={dialogTitle:null!==(i=n.title)&&void 0!==i?i:"",dialogImageUrl:null!==(r=n.image_url)&&void 0!==r?r:"",dialogUrl:null!==(a=n.url)&&void 0!==a?a:"",logo:null!==(l=n.style.oknyx_logo)&&void 0!==l?l:""});bnd_dialog_session":"beforeHandle"===t&&(null==v||v());break;case"open_uri":if("onHandle"===t){if(_.emit("stat",{path:"redirect_to_url",eventType:"click",customParams:{url:n.uri}}),y)return y({url:n.uri});window.location.href=n.uri}}},ne=e=>_.emit("errorThrown",e),ie=e=>o(6,A=e),oe=e=>{var t;(null===(t=e.recognition)||void 0===t?void 0:t.text)&&(ee(e.recognition.text,F),F=!0)},se=e=>{var t;if("not_started"===N)return;O||o(35,U=!0);const n=e.response.response||{},{cards:i,suggest:r,directives:a}=n;o(7,R=null!==(t=null==r?void 0:r.items)&&void 0!==t?t:[]);const{dialogId:l}=e;o(11,H=Boolean(l&&(Pc.includes(l)||Bc.includes(l)))),Y=e.response.header.request_id;const c=(0,Fl.CT)(d.messages);(null==c?void 0:c.isUserAuthor)&&!c.requestId&&s.updateLastMessage({requestId:Y},"merge"),(null==a?void 0:a.find((e=>"end_dialog_session"===e.name)))&&o(33,N="end");const u=[];i.length&&("skill_opened"===N&&o(33,N=S?"started":"welcome_message"),i.forEach((e=>{switch(e.type){case"simple_text":u.push({id:(0,id.O)(),type:"text",text:e.text});break;case"rich_json_card":const t=JSON.parse(e.string_body);u.push({id:(0,id.O)(),type:"richJson",richJson:t,hideBorders:e.hide_borders})}})),u.length&&s.addMessage({requestId:Y,bubbles:u,isWelcomeMessage:q,id:(0,id.O)(),suggests:[]}),q=!1)},re=()=>{F=!1},ae=(e="")=>J({name:"@@mm_semantic_frame",type:"server_action",payload:{typed_semantic_frame:{external_skill_fixed_activate_semantic_frame:{fixed_skill_id:{string_value:"b7c42cab-db61-46ba-871a-b10a6ecf3e0d"},activation_command:{string_value:e}}},analytics:{product_scenario:"dialogovo",origin:"Scenario",purpose:"skill_activate"}}},{voiceSession:!1});return n.$$set=e=>{"theme"in e&&o(0,m=e.theme),"isMobile"in e&&o(25,f=e.isMobile),"onClose"in e&&o(1,v=e.onClose),"shouldFocusInput"in e&&o(2,b=e.shouldFocusInput),"outputBus"in e&&o(3,_=e.outputBus),"overrideOpenUriDirective"in e&&o(26,y=e.overrideOpenUriDirective),"isTablet"in e&&o(4,x=e.isTablet),"permission"in e&&o(5,w=e.permission),"startPhrase"in e&&o(27,k=e.startPhrase),"requestMicPermission"in e&&o(28,$=e.requestMicPermission),"shouldOpenYaGpt"in e&&o(29,C=e.shouldOpenYaGpt),"yaGptOpenPhrase"in e&&o(30,I=e.yaGptOpenPhrase),"dialogOpenedWithPhrase"in e&&o(31,S=e.dialogOpenedWithPhrase),"deeplink"in e&&o(32,T=e.deeplink)},n.$$.update=()=>{256&n.$$.dirty[1]&&(o(8,s=u.currentChat),h(),h=(0,e.LdU)(s,(e=>o(45,d=e)))),128&n.$$.dirty[0]|20&n.$$.dirty[1]&&o(9,a=Boolean(R.length&&U&&"welcome_message"===N)),20&n.$$.dirty[1]&&o(16,l=Boolean(U&&"started"===N)),32&n.$$.dirty[0]&&o(38,c="granted"===w),128&n.$$.dirty[1]&&K.emit("changeMicPermission",c),96&n.$$.dirty[0]|64&n.$$.dirty[1]&&(("prompt"===z||"unknown"===z)&&A===g.U.SUSPENDED&&j.checkPermissionAndStartVoiceInput(),o(37,z=w)),256&n.$$.dirty[0]|8&n.$$.dirty[1]&&s.setOutputStatus(O),8&n.$$.dirty[0]|32&n.$$.dirty[1]&&!V&&(r.e(734).then(r.t.bind(r,9980,23)).then((e=>o(10,D=e.default))).catch((()=>{_.emit("errorThrown",Error("failed to load markdown bundle"))})),o(36,V=!0)),640&n.$$.dirty[0,a,D,H,P,B,Z,G,l,p,M,L,E,e=>{Q(),ee(e),J({type:"text_input",text:e},{voiceSession:!1}),_.emit("stat",{path:`${ru}.keyboard_question`,eventType:"click",customParams:{value:e}}U.LISTENING&&Q()},()=>{switch(A){case g.U.LISTENING:Q(),_.emit("stat",{path:`${ru}.oknyx_while_liste});break;case g.U.SUSPENDED:if("nomic"===w)return;if("unknown"===w&&$(),!c)return void o(13,B=!0);W(),_.emit("stat",{path:`${ru}.oknyx_while_suspended`,eventType:"click"});break;case g.U.THINKING:default:Q()}},(e,t)=>{_.emit("stat",{path:`${ru}.suggest.${t}`,eventType:"ctitle}}),X(e)},f,y,k,$,C,I,S,T,N,O,U,V,z,c,u,()=>{o(13,B=!1),_.emit("stat",{path:"fullscreen.denied_notifier_closed",eventType:"click"})},function(t){e.VnY[t?"unshift":"push"]((()=>{p.scrollableElement=t,Hl.set(p)}))}]}class lu extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,au,ou,e.N8,{theme:0,isMobile:25,onClose:1,shouldFocusInput:2,outputBus:3,overrideOpenUriDirective:26,isTablet:4,permission:5,startPhrase:27,requestMicPermission:28,shouldOpenYaGpt:29,yaGptOpenPhrase:30,dialogOpenedWithPhrase:31,deeplink:32},eu,[-1,-1])}}const cu=lu,du=Zs((async function(){let e=!1;return(await navigator.mediaDevices.enumerateDevices()).forEach((t=&nrn"denied"}})),pu=async()=>await du()?Promise.race([umeout(e,600)}))).then((()=>"prompt"))]):"nomic",hu="/alisa_davay_pridumaem",gu=e=>{if(["https://ya.ru","https://yandex.ru"].includes(window.location.origin))return{setLetsImagineScreenUrl:()=>{window.history.pushState(history.state,"",`${window.location.origin}${hu}`)},setPreviousUrl:()=>{window.history.back()}};e.emit("stat",{path:"fullscreen_redirection_fail",eventType:"tech",customParams:{origin:window.location.origin}})};function mu(t){(0,e.qOq)(t,"svelte-107sisw",".alice-microphone-request__paranja.svelte-107sisw{position:fixed;background:rgba(251, 251, 251, 0.6);top:0;bottom:0;left:0;right:0;z-index:var(--z-index)}.alice-microphone-request__paranja_theme_dark.svelte-107sisw{opacity:0.5;background-color:#161617}html.is-locked, html.is-locked body{height:calc(var(--window-inner-height) - 1px);overflow:hidden;box-sizing:border-box}")}function fu(t){let n,i,o,s;const r=[bu,vu],a=[];function l(e,t){return e[10]?0:1}return n=l(t),i=a[n]=r[n](t),{c(){i.c(),o=(0,e.cSb)()},m(t,i){a[n].m(t,i),(0,e.$Tr)(t,o,i),s=!0},p(t,s){let c=n;n=l(t),n===c?a[n].p(t,s):((0,e.dvw)(),(0,e.etI)(a[c],1,1,(()=>{a[c]=null})),(0,e.gbL)(),i=a[n],i?i.p(t,s):(i=a[n]=r[n](t),i.c,s=!0)},o(t){(0,e.etI)(i),s=!1},d(t){a[n].d(t),t&&(0,e.ogt)(o)}}}function vu(t){let n,i;return n=new Vd({props:{ariaLabelledby:Iu,hideApp:t[29],theme:t[3],isTablet:t[4],$$slots:{default:[wu]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};1&t[0]&&(i.hideApp=e[29]),8&t[0]&&(i.theme=e[3]),16&t[0]&&(i.isTablet=e[4]),48126&t[0]|4&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function bu(t){let n,i;return n=new l({props:{target:"body",$$slots:{default:[ku]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};25534&t[0]|4&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function _u(t){let n,i;return n=new Xd({props:{outputBus:t[1],theme:t[3]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2&t[0]&&(i.outputBus=e[1]),8&t[0]&&(i.theme=e[3]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function yu(t){let n,i,o=t[11]&&_u(t);return{c(){n=(0,e.bGB)("div"),o&&o.c(),(0,e.Ljt)(n,"slot","promo")},m(t,s){(0,e.$Tr)(t,n,s),o&&o.m(n,null),i=!0},p(t,i){t[11]?o?(o.p(t,i),2048&i[0]&&(0,e.Ui)(o,1)):(o=_u(t),o.c(),(0,e.Ui)(o,1),o.m(n,null)):o&&((0,e.dvw)(),(0,e.etI)(o,1,1,(()=>{o=null})),(0,e.gbL)())},i(t){i||((0,e.Ui)(o),i=!0)},o(t){(0,e.etI)(o),i=!1},d(t){t&&(0,e.ogt)(n),o&&o.d()}}}function xu(t){let n,i;return n=new Od({props:{setIsLetsImagineDialog:t[20],shouldPromoShow:t[11],onPromoShowChange:t[18],outputBus:t[1],theme:t[3],overrideOpenUriDirective:t[2],onHorizontalMoveChange:t[17],shouldShowShortcuts:t[12],setShortcutsVisibility:t[19],permission:t[13],shouldTrackVoiceRecordingStarted:t[15],shouldTrackAliceMainFullyShown:!0,shouldFocusInput:!t[4],hasKeyboardInput:!0,startPhrase:t[5],preventListenOnStart:t[6],requestMicPermission:t[23],isTablet:t[4],openFullscreen:t[21],shouldOpenYaGpt:t[7],yaGptOpenPhrase:t[8],deeplink:t[9],$$slots:{promo:[yu]},$$scope:{ctx:t}}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};2048&t[0]&&(i.shouldPromoShow=e[11]),2&t[0]&&(i.outputBus=e[1]),8&t[0]&&(i.theme=e[3]),4&t[0]&&(i.overrideOpenUriDirective=e[2]),4096&t[0]&&(i.shouldShowShortcuts=e[12]),8192&t[0]&&(i.permission=e[13]),32768&t[0]&&(i.shouldTrackVoiceRecordingStarted=e[15]),16&t[0]&&(i.shouldFocusInput=!e[4]),32&t[0]&&(i.startPhrase=e[5]),64&t[0]&&(i.preventListenOnStart=e[6]),16&t[0]&&(i.isTablet=e[4]),128&t[0]&&(i.shouldOpenYaGpt=e[7]),256&t[0]&&(i.yaGptOpenPhrase=e[8]),512&t[0]&&(i.deeplink=e[9]),2058&t[0]|4&t[1]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function wu(t){let n,i,o,s,r,a,l,c,d;return c=new $c({props:{theme:t[3],$$slots:{default:[xu]},$$scope:{ctx:t}}}),{c(){n=(0,e.bGB)("div"),i=(0,e.fLW)("Алиса"),r=(0,e.DhX)(),a=(0,e.bGB)("style"),a.textContent="#alice-dialog-title {\n                    opacity: 0;\n                    height: 0;\n                }",l=(0,e.DhX)(),(0,e.YCL)(c.$$.fragment),(0,e.Ljt)(n,"tabindex","-1"),(0,e.Ljt)(n,"id",Iu),(0,e.Ljt)(n,"inert",o=!0),(0,e.Ljt)(n,"aria-hidden",s=!0)},m(t,o){(0,e.$Tr)(t,n,o),(0,e.R3I)(n,i),(0,e.$Tr)(t,r,o),(0,e.$Tr)(t,a,o),(0,e.$Tr)(t,l,o),(0,e.yef)(c,t,o),d=!0},p(e,t){const n={};8&t[0]&&(n.theme=e[3]),48126&t[0]|4&t[1]&&(n.$$scope={dirty:t,ctx:e}),c.$set(n)},i(t){d||((0,e.Ui)(c.$$.fragment,t),d=!0)},o(t){(0,e.etI)(c.$$.fragment,t),d=!1},d(t){t&&(0,e.ogt)(n),t&&(0,e.ogt)(r),t&&(0,e.ogt)(a),t&&(0,e.ogt)(l),(0,e.vpE)(c,t)}}}function ku(t){let n,i;return n=new cu({props:{theme:t[3],onClose:t[22],shouldFocusInput:!t[4],overrideOpenUriDirective:tuestMicPermission:t[23],dialogOpenedWithPhrase:t[14],shouldOpenYaGpt:t[7],yaGptOpenPhrase:t[8],deeplink:t[9]}}),{c(){(0,e.YCL)(n.$$.fragment)},m(t,o){(0,e.yef)(n,t,o),i=!0},p(e,t){const i={};8&t[0]&&(i.theme=e[3]),16&t[0]&&(i.shouldFocusInput=!e[4]),4&t[0]&&(i.overrideOpenUriDirective=e[2]),2&t[0]&&(i.outputBus=e[1]),16&t[0]&&(i.isTablet=e[4]),8192&t[0]&&(i.permission=e[13]),32&t[0]&&(i.startPhrase=e[5]),16384&t[0]&&(i.dialogOpenedWithPhrase=e[14]),128&t[0]&&(i.shouldOpenYaGpt=e[7]),256&t[0]&&(i.yaGptOpenPhrase=e[8]),512&t[0]&&(i.deeplink=e[9]),n.$set(i)},i(t){i||((0,e.Ui)(n.$$.fragment,t),i=!0)},o(t){(0,e.etI)(n.$$.fragment,t),i=!1},d(t){(0,e.vpE)(n,t)}}}function $u(t){let n,i;return{c(){n=(0,e.bGB)("div"),(0,e.Ljt)(n,"class",i=(0,e.H1I)(`alice-microphone-request__paranja alice-microphone-request__paranja_theme_${t[3]}`)+" svelte-107sisw"),(0,e.czc)(n,"--z-index",t[16])},m(t,i){,p(t,o){8&:(s=fu(t),s.c(),(0,e.Ui)(s,1),s.m(n.parentNode,n)),t[0]||"prompt"!==t[13]?r&&(r.d(1),r=null):r?r.p(t,o):(r=$u(t),r.c(),r.m(i.parentNode,i))},i(t){o||((0,e.Ui)(s),o=!0)},o(t){(0,e.etI)(s),o=!1},d(t){s&&s.d(t),t&&(0,e.ogt)(n),r&&r.d(t),t&&(0,e.ogt)(i)}}}let Iu="alice-dialog-title";function Su(e,n,i){let o,s,r,{hidden:a}=n,{outputBus:l}=n,{overrideOpenUriDirective:c}=n,{theme:d}=n,{isTablet:u=!1}=n,{startPhrase:p}=n,{preventListenOnStart:h=!1}=n,{elementFocusOnClose:g}=n,{shouldOpenYaGpt:m}=n,{yaGptOpenPhrase:f}=n,{deeplink:v}=n;const{baseZIndex:b,isAliceFullscreenRedirectExp:_,aliceKit:y}=(0,t.fw)(fe.f1);let x,w,k=!1,$=!0,C="unknown",I=!1,S=!1;const T=e=>{i(12,$=e)},M=Zs((()=>{l.emit("firstPaint")}));return _&&(w=gu(l)),(0,t.gx)((()=>{"prompt"===C&&i(15,o=!1),M()})),(0,t.ev)((()=>{y.cancel()})),e.$$set=e=>{"hidden"in e&&i(0,a=e.hidden),"outputBus"in e&&i(1,l=e.outputBus),"overrideOpenUriDirective"in e&&i(2,c=e.overrideOpenUriDirective),"theme"in e&&i(3,d=e.theme),"isTablet"in e&&i(4,u=e.isTablet),"startPhrase"in e&&i(5,p=e.startPhrase),"preventListenOnStart"in e&&i(6,h=e.preventListenOnStart),"elementFocusOnClose"in e&&i(24,g=e.elementFocusOnClose),"shouldOpenYaGpt"in e&&i(7,m=e.shouldOpenYaGpt),"yaGptOpenPhrase"in e&&i(8,f=e.yaGptOpenPhrase),"deeplink"in e&&i(9,v=e.deeplink)},e.$$.update=()=>{672&e.$$.dirty[0]&&i(28,s=p||m||"skill"===(null==v?void 0:v.type)&&(null==v?void 0:v.id)),301989888&e.$$.dirty[0]&&i(10,r=(I||s)&&!0),201327617&e.$$.dirty[0]&&w&&r&&(!a&&document.location.pathname!==hu&&S?w.setLetsImagineScreenUrl():a&&document.location.pathname===hu&&w.setPreviousUrl()),16777219&e.$$.dirty[0]&&a&&(l.emit("popupHidden"),l.emit("stat",{path:"curtain_close",eventType:"click"}),i(11,k=!1),i(12,$=!0),null==g||g.focus(),y.cancel(),y.setDialogId(null),y.setPrevRequestId(void 0))},i(15,o=!0),[a,l,c,d,u,p,h,m,f,v,r,k,$,C,x,o,b,()=>{},e=>{i(11,k=e)},T,e=>{i(27,S=e)},e=>{i(25,I=!0),i(14,x=e)},()=>{l.emit("stat",{path:"fullscreen.close",eventType:"click"}),y.cancel(),y.setDialogId(null),T(!0),i(25,I=!1),i(14,x=void 0),s&&i(0,a=!0)},()=>{pu().then((e=>{i(13,C=e),"prompt"===e&&(l.emit("stat",{path:"mic_permission_prompt",eventType:"show"}),uu().then((function(e){i(13,C=e),"granted"===e?l.emit("stat",{path:"mic_permission_granted",eventType:"click"}):l.emit("stat",{path:"mic_permission_denied",eventType:"click"})})))}))},g,I,w,S,s,()=>{i(0,a=!0)}]}class Tu extends e.f_C{constructor(t){super(),(0,e.S1n)(this,t,Su,Cu,e.N8,{hidden:0,outputBus:1,overrideOpenUriDirective:2,theme:3,isTablet:4,startPhrase:5,preventListenOnStart:6,elementFocusOnClose:24,shouldOpenYaGpt:7,yaGptOpenPhrase:8,deeplink:9},mu,[-1,-1])}}const Mu=Tu;class Lu extends Gs.ku{constructor(e={}){super("open_dialog"),this.options=e}handleDirective(e,{isUserEvent:t}){var n;const{getDelay:i,beforeHandle:o,onHandle:s}=this.options,r=t?0:null!==(n=null==i?void 0:i(e))&&void 0!==n?n:1200;this.cancel(),null==o||o(e),r&&this.setProgress(!0),this.timeout=window.setTimeout((()=>{const{voiceSession:t}=Gs.ZP.state;null==s||s(e),Gs.ad.directives.find((e=>"new_dialog_session"===e.name));n&&Gs.ZP.executeDirectives([n],{request:{voiceSession:t}}),this.cancel()}),r)}cancel(){clearTimeout(this.timeout),this.timeout=void 0,this.setProgress(!1)}}class Eu extends Gs.ku{constructor(e={}){super("end_dialog_session"),thisive(e,{isUserEvent:t}){var n;const{getDelay:i,beforeHandle:o,onHandle:s}=this.options,r=t?0:null!==(n=null==i?void 0:i(e))&&void 0!==n?n:1200;this.cancel(),null==o||o(e),r&&this.setProgress(!0),this.timeout=window.setTimeout((()=>{Gs.ZP.setDialogId(null),null==s||s(e),this.cancel()}),r)}cancel(){clearTimeout(this.timeout),this.timeout=void 0,this.setProgress(!1)}}var ju=r(8489);class Du{constructor(e){this.outputQueue=[],this.prevPayload=null,this.prevSentChunk=null,this.currentText="",this.addNextChunks=()=>{const e=this.outputQueue.shift();if(!e)return;let t;"new"===e.mode||"replace"===e.mode?this.currentText=e.textChunk:this.currentText+=e.textChunk,t=e.isEnd?"end":this.outputQueue.length?"writing":"thinking",this.send({text:this.currentText,messageViewId:e.messageViewId,status:t,isNewMessage:"new"===e.mode}),e.isEnd&&this.clean(),this.outputQueue.length&&setTimeout(this.addNextChunks,this.outputQueue[0].time)},this.send=e=>{this.onReceiveHandler(e),this.prevSentChunk=e}outputQueue=[],this.prevPayload=null,this.currentText="",this.prevSentChunk=null},this.onHandle=({payload:e})=>{var t;const{text:n,message_view_id:i,should_rewrite:o,symbols_per_second:s}=e,r=!this.outputQueue.length;o&&(this.outputQueue=this.outputQueue.filter((e=>e.messageViewId!==i)));const a=Boolean(!this.prevPayload||this.prevPayload.message_view_id!==i),l=Boolean(o&&(null===(t=this.prevSentChunk)||void 0===t?void 0:t.messageViewId)===i),c=(0,id.x)(n);0===c.length&&c.push("");const d=s?n.length/c.length*1e3/s:0,u=c.map(((t,n,o)=>{let s;return s=0===n&&l?"replace":0===n&&a?"new":"regular",{textChunk:t,time:d,mode:s,isFirstChunk:0===n,isEnd:e.is_end&&n===o.length-1,messageViewId:i}}));this.outputQueue.push(...u),this.prevPayload=e,r&&this.outputQueue.length&&this.addNextChunks()},this.onCancel=()=>{this.prevPayload&&(this.send({messageViewId:null,status:"end",isNewMessage:!1}),this.clean())},this.onReceiveHandler=e.onHandle}}var Ou=r(3561);const zu=new ju.v,Au=(0,fe.JC)(Mu,(({uniproxyUrl:t,appId:n,vinsUrl:i,location:o,oggDecoderWorkerPath:s,yandexuid:r,os:a,isSafari:l,isFullscreenExp:c,experiments:d,supportedFeatures:u,unsupportedFeatures:p,outputBus:h})=>{let m;zu.on("changeMicPermission",(e=>m=e));const f=e=>zu.emit("error",e);(0,Gs.kJ)(f);const v=(e=>e.padStart(32,"0"))(r),b="ios"===a?"iphone":a,_=new Gs.rb({name:"type",handleDirective:(e,t)=>{var n;H({type:"suggested_input",text:e.payload.text},{voiceSeession}),zu.emit("dirlent",handleDirective:e=>zu.emit("directive","type_silent","onHandle",e.payload)}),x=new Gs.QI({delay:2e3,skip:e=>zu.emit("directive","open_uri","skip",e.payload),onHandle:(e,t)=>zu.emit("directive","open_uri","onHandle",e.payload,t),beforeHandle:e=>zu.emit("directive","open_uri","beforeHandle",e.payload)}),w=new Gs.rb({name:"fill_cloud_ui",handleDirective:e=>zu.emit("directive","fill_clouromo","onHandle",e.payload)}),$=new Gs.rb({name:"show_view",handleDirective:e=>zu.emit("directive","show_view","onHandle",e.payload)}),C=new Gs.rb({name:"update_dialog_info",handleDirective:e=>zu.emit("directive","update_dialog_info","onHandle",e.payload)}),I=new Eu({getDelay:e=>Uc.includes(e.payload.dialog_id)&&c?0:3e3,onHandle:e=>zu.eonHandle",e.payload),befective","end_dialog_session","beforeHandle",e.payload)}),S=new Lu({getDelayoad.dialog_id)&&c?0:2e3,beforeHandle:e=>zu.emit("directive","open_dialog_directive","beforeHandle",e.payload),onHandle:e=>zu.emit("directive","open_dialog_directive","onHandle",e.payload)}),T=new Du({onHandle:e=>zu.emit("directive","print_text_in_message_view","onHandle",e)}),M=new Gs.ox({onHandle:e=>T.onHandle(e),onCancel:T.onCancel}),L=Boolean(!1),E=L&&(0,Gs.pk)(n,b),[j,D]=[1e3,1e4],O=E&&Gs.pK.isAvailable()?[new Gs.pK({name:"hibernate",delay:D}),new Gs.pK({name:"power_off",delay:D}),new Gs.pK({name:"restart_pc",delay:D}),new Gs.pK({name:"navigate_browser",delay:j}),new Gs.pK({name:"open_soft",delay:j})]:[],z=L?[new Gs.rb({name:"close_alice",handleDirective:()=>{var e,t;null===(t=null===(e=window.yandex)||void 0===e?void 0:e.messenger)||void 0===t||t.hideView()}}),new Gs.rb({name:"paste_text_in_field",handleDirective:({payload:e})=>{var t,n,i;null===(i=null===(n=null===(t=window.yandex)||void 0===t?void 0:t.overlayView)||void 0===n?void 0:n.autofillTextGenerated)||void 0===i||i.call(n,e.value)}})]:[],A=e=>{Gs.ZP.startVoiceInput(e),zu.emit("listeningrequest")},N=e=>{m&&!document.hidden&&A(e)},H=(e,t,n)=>Gs.ZP.sendVinsRequest(e,t,n);Gs.ZP.on("status",(e=>{(e=>{zu.emit("status",e)})(e),e===g.U.SUSPENDED&&Gs.ZP.state.shouldListen&&N()})),Gs.ZP.on("cancel",(()=>zu.emit("cancel"))),Gs.ZP.on("warning",(e=>h.emit("stat",{eventType:"tech",path:"alicekit_warning",customParams:{name:e.name,message:e.message}}))),Gs.ZP.on("speechstart",(e=>zu.emit("speechstart",e))),Gs.ZP.on("speechend",(e=>zu.emit("speechend",e))),Gs.ZP.on("speecherror",(e=>f(e.error))),Gs.ZP.on("vins",(e=>zu.emit("vins",e))),Gs.ZP.on("vinsstream",(e=>zu.emieningstart",(e=>zu.emit("listeningstart",e))),Gs.ZP.on("listeningend",(e=>zu.emit("listeningend",e))),Gs.ZP.on("listeningerror",(e=>f(e.error))),Gs.ZP.on("recognition",(e=>{zu.emit("recognition",e),e.recognition.finished&&e.recognition.text&&(h.emit("stat",{eventType:"tech",path:"recognition",customParams:{title:e.recognition.text}}),h.emit("stat",{eventType:"show",path:"request.voice",customParams:{title:e.recognition.text}}))}));const R=Zs((()=>{var e,r,c,h;(0,Ou.P1)(v);const g=(0,Ou.gl)();Gs.ZP.init(Object.assign(Object.assign(Object.assign({apiKey:"effd5a3f-fd42-4a18-83a1-61766a6d0924",appId:n,appVersion:"1.0.283-home-static/alice-web/37",uuid:v,uniproxyUrl:g.uniProxyUrl||t,vinsUrl:g.vinsUrl||i,location:o,platform:b,isWebKit:"ios"===a||l,timezone:Intl.DateTimeFormtimeZone},s&&{decoders:{"audio/ogg;codecs=opus":{workerPath:s}}}),{directiveHandlers:[_,y,x,w,k,$,S,C,I,M,...O,...z],experiments:(0,Fl.V4)(d,g.experiments),supported_features:(0,Fl.V4)(u,g.supportedFeatures),unsupported_features:(0,Fl.V4)(p,g.unsupportedFeatur.length&&{megamind_cookies:JSON.stringify({uaas_tests:g.testIds})})),L&&(null===(r=null===(e=window.yandex)||void 0===e?void 0:e.messenger)||void 0===r||r.onVinsTextRequest.addListener(((e,t)=>Gs.ZP.executeDirectives(t))),null===(h=null===(c=window.yandex)||void 0===c?void 0:c.messenger)||void 0===h||h.setWebAppInitialized())})),P=Zs((e=>N(e)));return{selectSuggest:e=>{var t,n;const{voiceSession:i}=Gs.ZP.state;if(Gs.ZP.cancel(),!(null===(t=e.directives)||void 0===t?void 0:t.length)&&!e.title)return void h.emit("stat",{eventType:"tech",path:"empty_suggest"});h.emit("stat",{eventType:"show",path:"request.suggest",customParams:{title:e.title}});const o=(null===(n=e.directives)||void 0===n?void 0:n.length)?e.directives:[{type:"client_action",name:"type",payload:{text:e.title}}];Gs.ZP.executeDirectives(o,{isUserEvent:!0,request:{voiceSession:i}})},startVoiceInput:A,startVoiceInputOnce:P,checkPermissionAndStartVoiceInput:N,sendVinsRequest:H,getGreetings:Gs.$E,sendFeedback:Gs.fA,synthesize:e=>Gs.ZP.synthesize(e),cancel:Gs.ZP.cancel,destroy:Gs.ZP.destroy,setDialogId:Gs.ZP.setDialogId,setPrevRequestId:Gs.ZP.setPrevRequestId,updateRequestConfig:Gs.ZP.updateRequestConfig,ttsStop:Gs.ZP.ttsStop,start:R,aliceBus:zu,getStatus:()=>Gs.ZP.status,getState:()=>Gs.ZP.state,getInfo:()=>Gs.ZP.info,onInit:(t,n=!0)=>{var i;return n&&(null===(i=Gs.ZP.info)||void 0===i?void 0:i.isInit)?(t(),e.ZTd):Gs.ZP.once("init",t)},getWelcome:Gs.lP,getChatList:Gs.Ag,getChatHistory:Gs.$i,removeChat:Gs.O6,removeChatMessages:Gs.CX,createChatWithMessages:Gs.Oj}}),{shortcuts:[{id:"7",title:"YaGPT 2",subtitle:"Алиса, давай придумаем",command:"Запусти навык «Давай придумаем»",url:"https://yastatic.net/s3/home/alice_popup/alice-gpt4.svg",shouldAnimateBorder:!0},{id:"6",title:"Давай поболтаем",command:"Давай поболтаем",url:"https://yastatic.net/s3/home/alice_shortcut_logos/chat.svg"},{id:"2",title:"Что ты умеешь?",command:"Что ты умеешь?",url:"https://yastatic.net/s3/home/alice_shortcut_logos/what.svg"},{id:"3",title:"Включи музыку",command:"Включи музыку",url:"https://yastatic.net/s3/home/alice_shortcut_logos/movie.svg"},{id:"5",title:"Игры с Алисой",command:"Игры с Алисой",url:"https://yastatic.net/s3/home/alice_shortcut_logos/games.svg"}],experiments:["search_use_cloud_ui","weather_use_cloud_ui","enable_open_link_and_cloud_ui","hw_onboarding_enable_greetings","remove_feedback_suggests","shopping_list","enable_external_skills_for_webdesktop_and_webtouch","send_show_view_directive_on_supports_show_view_layer_content_interface","use_app_host_pure_Dialogovo_scenario","div2cards_in_external_skills_for_web_standalone"],supportedFeatures:["open_link","server_action","cloud_ui","cloud_first_screen_div","cloud_ui_filling","show_promo","show_view_layer_content","reminders_and_todos","div2_cards","print_text_in_message_view","supports_print_text_in_message_view","player_pause_directive","supports_rich_json_cards_in_fullscreen_mode_in_skills"],unsupportedFeatures:[],isLib:!0}),Nu=Au})(),window.AliceForWeb=a})();