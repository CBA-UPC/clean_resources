(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+yCz":DRvx:EOa1:Ke7S:QMvK:XjtR:fu10:function(n,e,t){"use strict";t.d(e,"b",(function(){return r})),t.d(e,"a",(function(){return i})),t.d(e,"c",(function(){return u})),t.d(e,"f",(function(){return o})),t.d(e,"e",(function(){return a})),t.d(e,"d",(function(){return c}));var r={WET_PAPER:"WET_PAPER_REPORT",DELIVERY_ADDRESS:"DELIVERY_ADDRESS_CHANGE",DELIVERY_SUSPENSION:"DELIVERY_SUSPENSION",LATE_PAPER:"LATE_PAPER_REPORT",DAMAGED_PAPER:"DAMAGED_PAPER_REPORT",MISSING_SECTION:"MISSING_SECTION_REPORT",MISSING_PAPER:"MISSING_PAPER_REPORT",DELIVERY_PROBLEM:"DELIVERY_PROBLEM_REPORT",PRODUCT_SWITCH:"PRODUCT_CHANGE",PRODUCT_CANCEL:"PRODUCT_CANCEL",PRODUCT_START:"PRODUCT_START",DIGITAL_PRODUCT_START:"DIGITAL_PRODUCT_START",GIFT_SUBSCRIPTION:"GIFT_SUBSCRIPTION",OTHER:"OTHER"},i={BAD_WEATHER_DELAY:"BAD_WEATHER_DELAY",GENERAL_DELAY:"GENERAL_DELAY",IN_GRACE:"IN_GRACE",MAILED_COPY:"MAILED_COPY",PRINT_SITE_DELAY:"PRINT_SITE_DELAY",RESTRICTED_BUILDING:"RESTRICTED_BUILDING",TRANSPORTATION_DELAY:"TRANSPORTATION_DELAY",WHOLESALER_SHORTAGE:"WHOLESALER_SHORTAGE"},u={ACTIVE:"ACTIVE",PAUSED:"PAUSED",SUSPENDED:"SUSPENDED",SOFT_CANCEL:"SOFT_CANCEL",CANCELED:"CANCELED",QUEUED:"QUEUED"},o={GIFT:"GIFT",GOOGLE_PLAY:"GOOGLE_PLAY",GROUP:"GROUP",GROUP_ACCOUNT_ADMIN:"GROUP_ACCOUNT_ADMIN",HD:"HD",ITUNES:"ITUNES",KINDLE:"KINDLE",NOOK:"NOOK",PAID_DIGI:"PAID_DIGI",PAID_GROUP:"PAID_GROUP",PAID_HD:"PAID_HD",SHARE:"SHARE",BONUS:"BONUS",GROUP_SHARE:"GROUP_SHARE",BONUS_SHARE:"BONUS_SHARE",NSS:"NSS",NEWS:"NEWS",COOKING:"COOKING",GAMES:"GAMES",WIRECUTTER:"WIRECUTTER",ATHLETIC:"ATHLETIC",REPLICA:"REPLICA",STORE_DISCOUNT:"STORE_DISCOUNT",GIFT_ARTICLES:"GIFT_ARTICLES",NEWS_SUBSCRIBER_NEWSLETTERS:"NEWS_SUBSCRIBER_NEWSLETTERS",AUDIO:"AUDIO",FFT_FREE_TRIAL:"FFT_FREE_TRIAL",ONLINE_CANCEL_ADA:"ONLINE_CANCEL_ADA",EDUCATOR:"EDUCATOR"},a={google:"Google",facebook:"Facebook",apple:"Apple"},c={sts:"sts",gencare:"gencare"}},hgSA:iaGo:jDSg:kc0S:mIJW:opy"},pJnO:function(n,e,t){"use strict";t.d(e,"a",(function(){return l})),t.d(e,"b",(function(){return f})),t.d(e,"c",(function(){return d})),t.d(e,"d",(function(){return m})),t.d(e,"e",(function(){return v})),t.d(e,"f",(function(){return E})),t.d(e,"h",(function(){return y})),t.d(e,"g",(function(){return g}));var r=t("lwsE"),i=t.n(r),u=t("W8MJ"),o=t.n(u),a=t("fTxn"),c=t("XjtR"),l="MMMM D, YYYY",s=functce=e}return o()(n,[{key:"entityAccess",ance}},{key:"isValid",value:function(){return this.internalDayJsInstance.isValid()}},{key:"isSame",value:function(e,t){if(!e)return!1;var r=n.getTimeMoment(e);return this.internalDayJsInstance.isSame(r.entityAccess(),t)}},{key:"isBefore",value:function(e,t){if(!e)return!1;var r=n.getTimeMoment(e);return this.internalDayJsInstance.isBefore(r.entityAccess(),t)}},{key:"isAfter",value:function(e,t){if(!e)return!1;var r=n.getTimeMoment(e);return this.internalDayJsInstance.isAfter(r.entityAccess(),t)}},{key:"isSameOrAfter",value:function(e,t){if(!e)return!1;var r=n.getTimeMoment(e);return this.internalDayJsInstance.isSameOrAfter(r.entityAccess(),t)}},{key:"isSameOrBefore",),t)}},{key:"date",value:function(){return this.internalDayJsInstance.date()}},{key:"day",value:function(){return this.internalDayJsInstance.day()}},{key:"month",value:function(){return this.internalDayJsInstance.month()}},{key:"year",value:function(){return this.internalDayJsInstance.year()}},{key:"changeDay",value:function(e){return new n(this.internalDayJsInstance.day(e))}},{key:"changeHour",value:function(e){return new n(this.internalDayJsInstance.hour(e))}},{key:"diff",e,t)}},{key:"add",value:function(e,t){return new n(this.internalDayJsInstance.add(e,t))}},{key:"subtract",,t))}},{key:"toDate",value:function(){return this.internalDayJsInstance.toDate()}},{key:"isBetween",r,i)}},{key:"setTimeZone",value:function(e){return new n(this.internalDayJsInstance.tz(e))}},{key:"format",t(n)}},{key:"formatDefaultDate",t(l)}},{key:"formatShortDate",value:function(){return this.internalDayJsInstance.format("MM/DD/YY")}},{key:"formatShortDateWithFullYear",value:function(){return this.internalDayJsInstance.format("MM/DD/YYYY")}},{key:"formatFullDate",YY")}},{key:"clone",nce)}},{key:"utcOffset",value:function(e){return new n(this.internalDayJsInstance.utcOffset(e))}},{key:"getUtcOffsetMinutes",value:function(){return this.internalDayJsInstance.utcOffset()}},{key:"startOf",(e))}},{key:"toString",value:function(){return this.internalDayJsInstance.toString()}},{key:"valueOf",value:function(){return this.internalDayJsInstance.valueOf()}},{key:"toJSON",value:function(){return this.internalDayJsInstance.toJSON()}},{key:"toISOString",ng()}}],[{key:"parseDate",)):e}},{key:"getTimeMoment",e(e)}},{key:"getLatestTimeMoment",))))}}]),n()))},d=function(n){return s.parseDate(,e):""},E=function(n){return n?d(n).formatFullDate():""},y=function(n){return n?d(n).formatShortDate():):""}}m")}}t})}}f})}}}]);
//# sourceMappingURL=4-723d625d1c3226451b20.js.map:"OutsideLabelField",observedProps:["needToShowError"],bobcatPropTypes:{data:{binding:r.default.object},designer:{value:r.default.string,tagName:r.default.string,fieldName:r.default.string,labelName:r.default.string,errorMessage:r.default.string,needToShowError:r.default.bool},callbacks:{updateValue:r.default.func}},_onChangeValue:function(e){var t=e.target.value;return this.props.updateValue(t)},render:function(){return u.default.apply(this)}}),e.exports=t.default},420821:function(e,t,a){"use strict";var n=a(663978),i=a(60530)(a(60530));n(t,"__esModule",{value:!0});var o=a(694473),r=(0,i.default)(o),l=a(45697),s=(0,i.default)(l),d=a(973935),u=(0,i.default)(d),c=a(223336),f=(0,i.default)(c),m=a(399069),h=(0,i.default)(m),p=a(113769),g=(0,i.default)(p);t.default=h.default.createPageComponent({displayName:"OverlayLabelField",observedProps:["needToShowError"],bobcatPropTypes:{data:{binding:s.default.object},designer:{value:s.default.string,tagName:s.default.string,fieldName:s.default.string,labelName:s.default.string,errorMessage:s.default.string,needToShowError:s.default.bool},callbacks:{updateValue:s.default.func}},componentDidMount:function(){var e=(0,f.default)(u.default.findDOMNode(this)),t=(0,r.default)(e).call(e,"input, textarea"),a=(0,r.default)(e).call(e,"label"),n=function(){return""===t.val()?a.show():a.hide()};t.keypress((function(){if(""===t.val())return a.hide()})),n(),t.keyup(n),t.blur(n),t.focus((function(){return a.hide()})),a.click((function(){return t.focus()}))},_onChangeValue:function(e){var t=e.target.value;return this.props.updateValue(t)},render:function(){return g.default.apply(this)}}),e.exports=t.default},69968:function(e,t,a){"use strict";var n=a(663978),i=a(60530)(a(60530));n(t,"__esModule",{value:!0});var o=a(726394),r=(0,i.default)(o),l=a(569198),s=(0,i.default)(l),d=a(680523),u=(0,i.default)(d),c=a(234584),f=(0,i.default)(c),m=a(921806),h=(0,i.default)(m),p=function(){function e(){(0,r.default)(this,e)}return(0,s.default)(e,[{key:"submit",value:function(e){return new h.default({method:"POST",url:u.default.FORM.COLLECT(f.default.getPermalink()),data:e.data,success:e.successCallback,error:e.errorCallback}).run()}}]),e}();t.default=new p,e.exports=t.default},655380:function(e,t,a){"use strict";var n=a(663978),i=a(60530)(a(60530));n(t,"__esModule",{value:!0});var o=a(726394),r=(0,i.default)(o),l=a(569198),s=(0,i.default)(l),d=a(620116),u=(0,i.default)(d),c=a(778914),f=(0,i.default)(c),m=a(981643),h=(0,i.default)(m),p=["APPLY_CUSTOM_COLORS","PREVIEW_FONT","CLEAR_PREVIEW_FONT","SELECT_FONT","UPDATE_THEME_CONFIG_VALUE","CHANGE_SITE_ANIMATION","APPLY_STYLE_VARIATION","PREVIEW_STYLE_VARIATION"],g=function(){function e(){var t=this;(0,r.default)(this,e),this.topics=[],window.addEventListener("message",(function(e){var a,n=e.data,i=n.topic,o=n.payload;if(i){var r=(0,u.default)(a=t.topics).call(a,(function(e){return e.name===i}))||{};r.length<=0||(0,f.default)(r).call(r,(function(e){var t=e||{},a=t.name,n=t.callback;a&&"function"==typeof n&&n(o)}))}}))}return(0,s.default)(e,[{key:"postMessage",value:function(e,t,a){if(e&&"function"==typeof e.postMessage){if(a&&a.actionType&&-1===(0,h.default)(p).call(p,a.actionType))return;e.postMessage({topic:t,payload:a},"*")}}},{key:"receiveMessage",value:function(e,t){this.topics.push({name:e,callback:t})}}]),e}();t.default=new g,e.exports=t.default},960788:function(e,t,a){"use strict";var n=a(223765),i=a(752424),o=a(663978),r=a(834074),l=a(60530)(a(60530));o(t,"__esModule",{value:!0});var s=a(205872),d=(0,l.default)(s),u=a(812077),c=(0,l.default)(u),f=a(51942),m=(0,l.default)(f);a(974916),a(115306);var h=a(366757),p=(0,l.default)(h),g=a(45697),v=(0,l.default)(g),_=a(692381),b=(0,l.default)(_),C=a(183123),y=(0,l.default)(C),E=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=U(t);if(a&&a.has(e))return a.get(e);var i={},l=o&&r;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var d=l?r(e,s):null;d&&(d.get||d.set)?o(i,s,d):i[s]=e[s]}return i.default=e,a&&a.set(e,i),i}(a(143268)),S=a(496486),w=(0,l.default)(S),k=a(154920),N=(0,l.default)(k),F=a(916784),T=(0,l.default)(F),P=a(230139),M=(0,l.default)(P),R=a(680523),x=(0,l.default)(R),Z=a(914990),L=(0,l.default)(Z),V=a(817449),I=(0,l.default)(V),O=a(157444),D=(0,l.default)(O),B=a(683943),A=((0,l.default)(B),a(399069)),$=(0,l.default)(A),G=(a(178498),a(329756));function U(e){if("function"!=typeof i)return null;var t=new i,a=new i;return(U=function(e){return e?a:t})(e)}var W={shared:{showStrikinglyLogo:v.default.bool},internal:{id:v.default.string},data:{hideMessageBox:v.default.bool,openInNewTab:v.default.bool,hide_name:v.default.bool,hide_email:v.default.bool,hide_phone_number:v.default.bool,label:v.default.string,form_name_label:v.default.string,name_label:v.default.string,email_label:v.default.string,phone_number_label:v.default.string,message_label:v.default.string,submit_label:v.default.string,thanksMessage:v.default.string,recipient:v.default.string,gdpr_accepted:v.default.bool,redirectLink:v.default.string,member_registration:v.default.bool,binding:v.default.shape({default:v.default.object.isRequired})},designer:{signup:v.default.bool,compact:v.default.bool,fieldType:v.default.string},callbacks:{onToggleField:v.default.func}},q=function(){return{data:{hideMessageBox:!1,hide_name:!1,hide_email:!1,hide_phone_number:!0,openInNewTab:!1,name_label:"Name",email_label:"Email",phone_number_label:"Phone",message_label:"Message",submit_label:"Submit",thanksMessage:"Thanks for your submission!",redirectLink:"",recipient:"",member_registration:!1,gdpr_accepted:!1,label:""},designer:{signup:!1,fieldType:"overlay_label_field"}}},z=$.default.createPageComponent({displayName:"EmailForm",mixins:[I.default,(0,M.default)("editor")],componentWillMount:function(){this.initMeta({offsetX:0})},bobcatPropTypes:W,getBobcatDefaultProps:q,_isRedirectLinkValid:function(){var e=this.props.redirectLink;return""===e||E.isURL(e)||G.RegexConstants.RELATIVE_URL.test(e)},_getEmailResponseUrl:function(){var e=this.constructor.sharedProps().id;return L.default.isResellerAgent()?x.default.FORM.RESELLER_CLIENT_RENSPONSEE(e):y.default.getCrmFeature()?x.default.FORM.RESPONSRS_IN_AUDIENCE_TAB(e):x.default.FORM.RESPONSES(e)},_setEncodedThanksMessage:function(){var e=this.props.thanksMessage;return e=e.replace(/<\s*a\s*href=['’”"]([^'’”"<>]*)['’”"][^<>]*>([^<>]+)<\s*\/\s*a\s*>/g,(function(e){return D.default.safeEncodeURL(e)})),this.setData("thanksMessage",e)},_addRedirectLinkProtocol:function(){var e=this.props.redirectLink;if(""!==e)return this.setData("redirectLink",E.addProtocol(e))},_getOnClickCheckResponseButton:function(){var e=this;return!L.default.isResellerAgent()&&y.default.getCrmFeature()?function(){e.props.onClickCheckResponseButton&&e.props.onClickCheckResponseButton(),N.default.track("Click Audience - Form Component - Editor")}:null},_onOpenAudienceListPanel:function(){return this.constructor.sharedProps().openAudienceListPanel()},_setDefaultFormName:function(){var e=this.props.form_name_label,t=this.getMeta("defaultFormName");w.default.isEmpty(e)&&this.setData("form_name_label",t)},getSaveButtonProps:function(){},_getEditorProps:function(){return(0,m.default)({},this.props,this.constructor.sharedProps().userEmail)},startEditContent:function(){return"function"==typeof this.props.setEditingChild?this.props.setEditingChild():void 0},stopEditContent:function(){return"function"==typeof this.props.unsetEditingChild?this.props.unsetEditingChild():void 0},_onEditorShow:function(e){this.updateMeta({offset:0}),w.default.isFunction(this.onClickEditor)&&this.onClickEditor(e)},_renderEditor:function(){return null},_getContentProps:function(){return(0,m.default)({},this.props,this.constructor.sharedProps().showStrikinglyLogo)},render:function(){var e=a(536895);return(0,c.default)("div",{className:"s-email-form-container"},void 0,(0,c.default)("div",{className:"s-component s-form ".concat(this.dsProps.signup?" s-signup-form":"s-email-form")},void 0,void 0,(0,c.default)(b.default,{},void 0,!this.isState("editor")&&(0,c.default)(T.default,{className:"s-component-content"},"".concat(this.getData("id"),"content"),p.default.createElement(e,(0,d.default)({ref:"content"},this._getContentProps()))))))}});z.bobcatPropTypes=W,z.defaultBobcatProps=q,t.default=z,e.exports=t.default},536895:function(e,t,a){"use strict";var n=a(353147),i=a(686902),o=a(14310),r=a(620116),l=a(834074),s=a(778914),d=a(239649),u=a(820368),c=a(663978),f=a(60530)(a(60530));c(t,"__esModule",{value:!0});var m=a(487672),h=(0,f.default)(m),p=a(812077),g=(0,f.default)(p),v=a(51942),_=(0,f.default)(v),b=a(977766),C=(0,f.default)(b),y=a(933032),E=(0,f.default)(y),S=a(2991),w=(0,f.default)(S),k=a(678580),N=(0,f.default)(k),F=a(25843),T=(0,f.default)(F),P=a(778914),M=(0,f.default)(P),R=a(432366),x=(0,f.default)(R);a(974916),a(115306);var Z=a(496486),L=(0,f.default)(Z),V=a(366757),I=(0,f.default)(V),O=a(45697),D=(0,f.default)(O),B=a(294184),A=(0,f.default)(B),G=a(230139),U=(0,f.default)(G),W=a(157444),q=(0,f.default)(W),z=a(69968),j=(0,f.default)(z),H=a(399069),J=(0,f.default)(H),Q=a(183123),Y=(0,f.default)(Q),K=a(234584),X=(0,f.default)(K),ee=a(786483),te=(0,f.default)(ee),ae=a(105001),ne=a(329756),ie=a(964429),oe=(0,f.default)(ie),re=a(960788),le=(0,f.default)(re),se=a(391435),de=(0,f.default)(se),ue=a(43138),ce=(0,f.default)(ue),fe=a(614097),me=(0,f.default)(fe),he=a(240975),pe=(0,f.default)(he),ge=a(45563),ve=a(550745);function _e(e,t){var a=i(e);if(o){var n=o(e);t&&(n=r(n).call(n,(function(t){return l(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=_e(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])}));else if(d)u(e,d(n));else{var i;s(i=_e(Object(n))).call(i,(function(t){c(e,t,l(n,t))}))}}return e}var Ce;Ce=X.default.getLiveSiteViewerInfo();var ye="single",Ee={name:"name_label",email:"email_label",first_name:"first_name_label",last_name:"last_name_label",phone:"phone_number_label",message:"message_label"},Se=J.default.createPageComponent({displayName:"PhoneCodePickerField",getInitialState:function(){return{phoneValue:this.props.value}},handleOnChangeValue:function(e){var t=e.target.value;t=t.replace(/[^0-9]/gi,""),this.props.inputChange(t),this.setState({phoneValue:t})},render:function(){var e,t=this.props,a=t.labelName,i=t.phoneCodeValue,o=t.phoneCodeValueChange,r=t.needToShowError,l=t.errorMessage,s=this.state.phoneValue;return(0,g.default)("div",{className:"phone-code-picker"},void 0,(0,g.default)(ve.PhoneCodePicker,{value:{phone:s,phoneCode:i,initCountryCode:null===(e=Ce)||void 0===e?void 0:e.countryCode},maxLength:20,listHeight:200,showSearch:!0,placeholder:a,selectPlaceholder:n("Editor|Select..."),onChangeCode:o,onChangePhone:this.handleOnChangeValue}),r&&(0,g.default)("div",{className:"s-email-form-error"},void 0,l))}}),we=J.default.createPageComponent({displayName:"EmailFormContent",mixins:[(0,U.default)("editor")],bobcatPropTypes:(0,_.default)({},le.default.bobcatPropTypes,{design:(0,_.default)({},le.default.bobcatPropTypes.design,{showStrikinglyLogo:D.default.bool})}),getBobcatDefaultProps:le.default.defaultBobcatProps,reCaptchaRef:null,componentWillMount:function(){var e,t=(0,ge.getContactFormField)(),a=t.firstName,n=void 0===a?"":a,i=t.lastName,o=void 0===i?"":i,r=t.email,l=t.phone,s=void 0===l?"":l,d=t.phone_code,u=this.dtProps,c=u.name_format,f=u.requirePhoneCode,m=this._needToShowField("hide_name")&&"separate"===c,h=this._needToShowField("hide_name")&&"separate"!==c,p=this._needToShowField("hide_email"),g=this._needToShowField("hide_phone_number"),v="";h&&(v=o?(0,C.default)(e="".concat(n," ")).call(e,o):n||"");var b="";g&&(b=f?s.replace(ne.RegexConstants.PURE_DIGITAL_SEARCH,""):s||""),this.initMeta((0,_.default)({nameError:!1,emailError:!1,phoneError:!1,messageError:!1,sendSuccess:!1,isLoading:!1,reCaptchaData:{recaptchaToken:"",recaptchaType:""},isVerifyRecaptchaFailed:!1,formFields:{first_name:m&&n||"",last_name:m&&o||"",name:v,email:p&&r||"",phone:b,phone_code:g&&d||"",message:"",label:""}},this._needToShowGDPRCompliance()&&{gdpr_accepted:!1}))},componentDidMount:function(){var e=this;this.props.onToggleField&&(0,E.default)((function(){return e.props.onToggleField()}),100),this.setMeta("defaultFormName",this.props.form_name_label)},_needToShowField:function(e){return!this.dtProps[e]},_needToShowSuccess:function(){return this.getMeta("sendSuccess")},_getMembershipValue:function(){return this.dtProps.member_registration},_needToShowStrikinglyLogo:function(){return this.dsProps.showStrikinglyLogo},_needToShowGDPRCompliance:function(){return Y.default.getGDPRComplianceFeature()},_toggleGDPRAccepted:function(e){this.updateMeta({gdpr_accepted:e.target.checked})},_isNotSignupForm:function(){return!this.dsProps.signup},_smallFieldsCount:function(){var e,t=this;return L.default.compact((0,w.default)(e=["hide_name","hide_email","hide_phone_number"]).call(e,(function(e){return t._needToShowField(e)}))).length},_reset:function(){return this.updateMeta({nameError:!1,emailError:!1,phoneError:!1,messageError:!1})},_handleMembershipPop:function(){var e={name:this._getFieldValue("name"),email:this._getFieldValue("email")};window.strkOpenMemberRegisterPopup&&window.strkOpenMemberRegisterPopup({initData:e,autoFocusField:"password"})},_submitSuccess:function(e){if(this.updateMeta({isLoading:!1}),this.updateMeta({sendSuccess:!0}),!$S.conf.preview_mode){var t,i=this.dtProps,o=i.redirectLink,r=i.openInNewTab,l=i.thanksMessage,s=a(796764);s.trackPageEventOnGA("Actions","EmailCollected"),s.trackPageEventOnFB("Lead");var d=X.default.getMembershipSettings();if(X.default.getIsMembershipEnabled()&&(d.canRegister||(0,N.default)(t=["anyone","paid_subscription"]).call(t,d.registrationMethod))&&this._getMembershipValue()&&!e.isMember&&!e.hitContactLimit)return this._handleMembershipPop();if(!o)return;r?ce.default.isMobile()?me.default.openDialog({content:l,confirmText:n("OK"),hideCloseButton:!1,onConfirm:function(){window.open(o,"_blank")}}):window.open(o,"_blank"):(0,E.default)((function(){return window.location.replace(o)}),1e3)}return te.default.Event.publish("Site.contactForm.submit")},_submitFail:function(e){this.updateMeta({isLoading:!1});var t=e.responseJSON;if(!t.message)throw alert(n("Submission failed. Please try again!")),t.html;t.message.invalid_name&&this.updateMeta({nameError:!0}),t.message.invalid_email&&this.updateMeta({emailError:!0}),t.message.invalid_phone_number&&this.updateMeta({phoneError:!0})},_getFieldProps:function(e){var t=this;return{value:this._getFieldValue(e.fieldName)||"",tagName:e.tagName||"input",fieldName:e.fieldName,labelName:this.dtProps[Ee[e.fieldName]],errorMessage:e.errorMessage,needToShowError:this.getMeta("".concat(e.fieldName,"Error")),binding:this.getDefaultBinding(),updateValue:function(a){return t.updateMeta(a,"formFields.".concat(e.fieldName))}}},_getFieldValue:function(e){return this.getMeta("formFields.".concat(e))||""},_getIsLoading:function(){return this.getMeta("isLoading")},_isValidated:function(){var e=!0;return this._needToShowField("hide_name")?"separate"!==this.dtProps.name_format?(0,T.default)(L.default).call(L.default,this._getFieldValue("name"))||(e=!1,this.updateMeta({nameError:!0})):((0,T.default)(L.default).call(L.default,this._getFieldValue("first_name"))?this.updateMeta({first_nameError:!1}):(e=!1,this.updateMeta({first_nameError:!0})),(0,T.default)(L.default).call(L.default,this._getFieldValue("last_name"))?this.updateMeta({last_nameError:!1}):(e=!1,this.updateMeta({last_nameError:!0}))):this.updateMeta({nameError:!1}),this._needToShowField("hide_email")&&!ne.RegexConstants.EMAIL.test((0,T.default)(L.default).call(L.default,this._getFieldValue("email")))?(e=!1,this.updateMeta({emailError:!0})):this.updateMeta({emailError:!1}),this._needToShowField("hide_phone_number")&&(this.dtProps.requirePhoneCode?ne.RegexConstants.PHONE_CODE.test((0,T.default)(L.default).call(L.default,this._getFieldValue("phone_code")))&&ne.RegexConstants.PHONE_PURE_DIGITAL.test(this._getFieldValue("phone"))?this.updateMeta({phoneError:!1}):(e=!1,this.updateMeta({phoneError:!0})):ne.RegexConstants.PHONE.test((0,T.default)(L.default).call(L.default,this._getFieldValue("phone")))?this.updateMeta({phoneError:!1}):(e=!1,this.updateMeta({phoneError:!0}))),e},getCacheValue:function(e,t,a){var n=t[e];return n&&n!==a[e]?n:""},updateCacheFormData:function(e,t){var a=this,n=be({},e),i=n.first_name,o=n.last_name,r=n.phone_number,l=n.name,s=n.name_format,d=s||t.first_name?s:ye;(0,_.default)(n,{phone:r,firstName:d===ye?l:i,lastName:o});var u=["firstName","lastName","email","phone","phone_code"],c={};(0,M.default)(u).call(u,(function(e){var i=a.getCacheValue(e,n,t);i&&(c[e]=i)})),d===ye&&(0,_.default)(c,{lastName:""}),(0,ge.setContactForm)(c)},_onClickSubmit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.getDefaultBinding().toJS().connectedFormServices||{},n=function(){var t={};for(var a in Ee)t[a]=e.dsProps[Ee[a]];return t},i=t;if(!this.dtProps.enableSpamVerification||(i=this.getMeta("reCaptchaData").toJS()||{}).recaptchaToken){var o=(0,x.default)(L.default).call(L.default,a,(function(e,t){var a=t||{},n=a.provider,i=a.externalId,o=a.listId;return n&&e.push({provider:n,external_id:i||"",list_id:o||""}),e}),[]);this.updateMeta({isLoading:!0}),this._reset();var r=this.dtProps.signup?"signup":"contact",l={name_format:this.dtProps.name_format};"separate"!==this.dtProps.name_format?l.first_name=this._getFieldValue("name"):(l.first_name=this._getFieldValue("first_name"),l.last_name=this._getFieldValue("last_name"));var s=this.dtProps,d=s.sessionId,u=s.templateId,c={collected_email:(0,_.default)(be({formName:this.dtProps.form_name_label,formId:d||u,skip_name:this.dtProps.hide_name,skip_email:this.dtProps.hide_email,skip_phone_number:this.dtProps.hide_phone_number,recipient:this.dtProps.recipient,label:this.dtProps.label||r,name:this._getFieldValue("name"),name_format:this.dtProps.name_format,first_name:this._getFieldValue("first_name"),last_name:this._getFieldValue("last_name"),email:this._getFieldValue("email"),phone_number:this._getFieldValue("phone"),phone_code:this._getFieldValue("phone_code"),comment:this._getFieldValue("message"),google_ads_conversion_name:this.dtProps.google_ads_conversion_name,enable_google_ads_conversion_tracking:this.dtProps.enable_google_ads_conversion_tracking},i),this._needToShowGDPRCompliance()&&{gdpr_accepted:this.getMeta("gdpr_accepted")}),form_fields:n(),_comment:this.refs.honeypot.value,connected_form_services:o},f=c.collected_email,m=c.form_fields;this.updateCacheFormData(be({},f),m);var h=(0,ge.getContactFormField)(),p=h.email,g=h.phone,v=this._needToShowField("hide_email"),b=this._needToShowField("hide_phone_number");return v&&!f.email&&(c.collected_email.user_last_submitted_email=p),b&&!f.phone_number&&(c.collected_email.user_last_submitted_phone=g),j.default.submit({data:c,successCallback:function(t){e._submitSuccess(t);var a=$(e.refs.emailFormContent);a.offset().top<$(window).scrollTop()&&$("html, body").animate({scrollTop:a.offset().top-200},1e3)},errorCallback:function(t){return e._submitFail(t)}})}this.updateMeta({isVerifyRecaptchaFailed:!0})},isPreviewMode:function(){return!1},_handleClickSubmit:function(){this.isPreviewMode()?a(655380).postMessage(window.parent,"SitePreview.Link.Blocked",{type:"formSubmission"}):this.isEditMode()||this.getMeta("isLoading")||this._needToShowGDPRCompliance()&&!this.getMeta("gdpr_accepted")||!this._isValidated()||(this.dtProps.enableSpamVerification?this._onClickSubmit():this.reCaptchaRef.clickInvisibleReCaptcha())},_renderGDPRCompliance:function(){if(!Y.default.getIsSxl()&&this._needToShowGDPRCompliance())return(0,g.default)("div",{className:(0,A.default)("gdpr-wrapper",{"s-email-form-field":this._isNotSignupForm(),"s-email-form-offset":this._isNotSignupForm()})},void 0,(0,g.default)("input",{type:"checkbox",id:"gdpr-".concat(this.props.id),defaultChecked:this.getMeta("gdpr_accepted"),onChange:this._toggleGDPRAccepted}),(0,g.default)("label",{htmlFor:"gdpr-".concat(this.props.id),className:"gdpr-text s-font-body s-item-text"},void 0,(0,de.default)()))},_onVerifyRecaptcha:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.recaptchaToken&&this.updateMeta({isVerifyRecaptchaFailed:!1}),this.updateMeta({reCaptchaData:e})},_renderInvisibleReCaptcha:function(){var e=this;return(0,g.default)("div",{className:(0,A.default)("recaptcha-wrapper",{invisible:!this.dtProps.enableSpamVerification,"s-email-form-field s-email-field":this.dtProps.enableSpamVerification})},void 0,(0,g.default)(pe.default,{onVerify:this._onVerifyRecaptcha,handleSubmit:this._onClickSubmit,invisible:!this.dtProps.enableSpamVerification,onRef:function(t){return e.reCaptchaRef=t}}),this.getMeta("isVerifyRecaptchaFailed")&&(0,g.default)("div",{className:"s-email-form-error"},void 0,n("Site|Please complete verification.")))},handleOnCodeChange:function(e,t){var a=t.code;this.updateMeta(a,"formFields.phone_code")},handleOnPhoneChange:function(e){this.updateMeta(e,"formFields.phone")},_renderPhoneCodePicker:function(e){var t,a=this._getFieldProps(e),i=a.labelName,o=a.errorMessage,r=a.needToShowError;return(0,g.default)("div",{className:"phone-code-picker"},void 0,(0,g.default)(ve.PhoneCodePicker,{value:{phone:this._getFieldValue("phone"),phoneCode:this._getFieldValue("phone_code"),initCountryCode:null===(t=Ce)||void 0===t?void 0:t.countryCode},maxLength:20,listHeight:200,showSearch:!0,placeholder:i,selectPlaceholder:n("Editor|Select..."),onChangeCode:this.handleOnCodeChange,onChangePhone:this.handleOnPhoneChange}),r&&(0,g.default)("div",{className:"s-email-form-error"},void 0,o))},_renderField:function(e){if("phone"===e.fieldName&&this.dtProps.requirePhoneCode){var t=this._getFieldProps(e),n=t.labelName,i=t.errorMessage,o=t.needToShowError,r=this._getFieldValue("phone"),l=this._getFieldValue("phone_code");return(0,g.default)(Se,{value:r,inputChange:this.handleOnPhoneChange,phoneCodeValue:l,phoneCodeValueChange:this.handleOnCodeChange,labelName:n,errorMessage:i,needToShowError:o})}var s=this.dsProps.fieldType,d=a(866483)("./".concat(s));return I.default.createElement(d,this._getFieldProps(e))},_renderThanksMessage:function(){var e=this.dtProps.thanksMessage.replace(/%3C(%20)*a(%20)*.*(%20)*%3E.*%3C(%20)*\/(%20)*a(%20)*%3E/g,(function(e){return q.default.safeDecodeURL(e)}));return(0,g.default)("span",{className:"s-common-link",dangerouslySetInnerHTML:{__html:e}})},render:function(){return oe.default.apply(this)}});t.default=(0,ae.requireOnline)(we),e.exports=t.default}}]);