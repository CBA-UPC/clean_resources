"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[5550],{85287:44023:(e,t,a)=>{a.d(t,{Z:()=>m});var i,r,p,s=a(3e4),o=a(76955),n=(a(91938),a(29466)),g=a.n(n),l=a(10793),d=a(57224);class m extends o.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.isLoading!==e.isLoading||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||!g()(this.props.bookmarks,e.bookmarks)}renderList(){if(this.props.isLoading)return i||(i=(0,s.Z)(d.m,{}));var e=this.props.bookmarks.map(((e,t)=>(0,s.Z)("li",{},"bookmark_".concat(e.bookmark_id),(0,s.Z)(l.f,{bloggerAmebaId:this.props.amebaId,orderId:"".concat(t+1),pageId:this.props.pageType,sectionId:"items",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,s.Z)("a",{dangerouslySetInnerHTML:{__html:e.site_name},href:e.site_url,rel:"noopener noreferrer nofollow",target:"_blank"})))));return 0===e.length?r||(r=(0,s.Z)("div",{},void 0,"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u306f\u3042\u308a\u307e\u305b\u3093\u3002")):(0,s.Z)("ul",{},void 0,e)}render(){return(0,s.Z)(o.Fragment,{},void 0,p||(p=(0,s.Z)("h3",{className:"title"},void 0,"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u4e00\u89a7")),this.renderList())}}m.displayName="PcBookmarkListBlockOld"},49577:(e,t,a)=>{a.d(t,{Z:()=>y});var i,r,p,s,o,n,g=a(3e4),l=a(66062),d=(a(91938),a(76955)),m=a(5154),h=a.n(m),c=a(29466),v=a.n(c),k=a(16884),u=a(85287),b=a(75457),f=a(48516),I=a(10793),Z=Math.ceil(2.5);class y extends d.Component{static get defaultProps(){return{blogId:0,entryId:"",entryYm:"",fetchCommentsRequest:h(),isOfficial:void 0,position:null,themeId:"",trackTapLog:h()}}houldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.blogId!==e.blogId||this.props.className!==e.className||this.props.entryId!==e.entryId||this.props.entryYm!==e.entryYm||this.props.fetchCommentsRequest!==e.fetchCommentsRequest||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.position!==e.position||this.props.themeId!==e.themeId||this.props.trackTapLog!==e.trackTapLog||!v()(this.props.nextItem,e.nextItem)||!v()(this.props.paging,e.paging)||!v()(this.props.prevItem,e.prevItem)}getLinkUrl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{amebaId:t,entryId:a,entryYm:i,pageType:r,themeId:p}=this.props,s=(0,k.Z)(r,{amebaId:t,entryId:a,entryYm:i,page:e,themeId:p});return r===b.Z.Entry?"".concat(s,"#cbox"):s}getPagingRange(){var{paging:e}=this.props,t=e.max_page||0,a=0,i=0;if(t<=1)return{endPage:i,startPage:a};if(5>=t)return{endPage:i=t,startPage:a=1};var r=e.current_page||1;return Z>=r?{endPage:i=5,startPage:a=1}:((i=(a=r-Z+1)+5-1)>t&&(a=t-5+1,i=t),{endPage:i,startPage:a})}handleClickCommentPaging(e){var t=this;return(0,l.Z)((function*(){e.preventDefault();var{blogId:a,entryId:i}=t.props,r=e.target.getAttribute("data-link-page");null==r&&(r=e.target.parentElement.getAttribute("data-link-page"));var p=!r||parseInt(r,10)<1?1:r,s=!p||p<1?0:50*(p-1);yield t.props.fetchCommentsRequest({blogId:a,entryId:i,excludeReplies:!1,offset:s,limit:50,currentPage:p});var o=document.getElementById("cbox");if(o){var n=document.getElementById("ambHeader"),g=n?n.clientHeight:u.S,l=window.pageXOffset||document.documentElement.scrollLeft;window.scroll(l,o.offsetTop-g)}}))()}hasPrev(){return this.props.paging.current_page>this.props.paging.prev_page}hasNextenderPrevLink(){if(!this.hasPrev())return null;var{pageType:e,prevItem:t}=this.props,a=e===b.Z.AmemberEntry||e===b.Z.Entry;if(this.props.position){var p="top"===this.props.position?"upper":"lower";return(0,g.Z)(I.f,{pageId:e,sectionId:"prev-page_".concat(p),serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,g.Z)(f.Z,{className:"previousPage","data-link-page":this.props.paging.prev_page,role:a?"button":void 0,tabIndex:a?"0":void 0,targetUrl:this.getLinkUrl(this.props.paging.prev_page),title:t.title,onClick:a?this.handleClickCommentPaging:void 0},void 0,i||(i=(0,g.Z)("span",{className:"pagingArrow"},void 0,"<<\xa0")),t.label))}return(0,g.Z)(f.Z,{className:"previousPage","data-link-page":this.props.paging.prev_page,role:a?"button":void 0,tabIndex:a?"0":void 0,targetUrl:this.getLinkUrl(this.props.paging.prev_page),title:t.title,onClick:a?this.handleClickCommentPaging:void 0},void 0,r||(r=(0,g.Z)("span",{className:"pagingArrow"},void 0,"<<\xa0")),t.label)}renderNextLink(){if(!this.hasNext())return null;var{pageType:e,nextItem:t}=this.props,a=e===b.Z.AmemberEntry||e===b.Z.Entry;if(this.props.position){var i="top"===this.props.position?"upper":"lower";return(0,g.Z)(I.f,{pageId:e,sectionId:"next-page_".concat(i),serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,g.Z)(f.Z,{className:"nextPage","data-link-page":this.props.paging.next_page,role:a?"button":void 0,tabIndex:a?"0":void 0,targetUrl:this.getLinkUrl(this.props.paging.next_page),title:t.title,onClick:a?this.handleClickCommentPaging:void 0},void 0,t.label,p||(p=(0,g.Z)("span",{className:"pagingArrow"},void 0,"\xa0>>"))))}return(0,g.Z)(f.Z,{className:"nextPage","data-link-page":this.props.paging.next_page,role:a?"button":void 0,tabIndex:a?"0":void 0,targetUrl:this.getLinkUrl(this.props.paging.next_page),title:t.title,onClick:a?this.handleClickCommentPaging:void 0},void 0,t.label,s||(s=(0,g.Z)("span",{className:"pagingArrow"},void 0,"\xa0>>")))}renderFirstLink(){var e=this.props.paging.current_page||1;if((this.props.paging.max_page||1)<=2||e<=1)return null;var{pageType:t}=this.props,a=t===b.Z.AmemberEntry||t===b.Z.Entry;return(0,g.Z)(d.Fragment,{},void 0,(0,g.Z)(f.Z,{className:"firstPage","data-link-page":1,role:a?"button":void 0,tabIndex:a?"0":void 0,targetUrl:this.getLinkUrl(1),title:"\u6700\u65b0\u304b\u3089",onClick:a?this.handleClickCommentPaging:void 0},void 0,"\u6700\u65b0"),o||(o=(0,g.Z)("span",{},void 0,"\xa0|\xa0")))}renderLastLink(){var e=this.props.paging.current_page||1,t=this.props.paging.max_page||1;if(t<=2||t<=e)return null;var{pageType:a}=this.props,i=a===b.Z.AmemberEntry||a===b.Z.Entry;return(0,g.Z)(d.Fragment,{},void 0,n||(n=(0,g.Z)("span",{},void 0,"\xa0|\xa0")),(0,g.Z)(f.Z,{className:"lastPage","data-link-page":t,role:i?"button":void 0,tabIndex:i?"0":void 0,targetUrl:this.getLinkUrl(t),title:"\u6700\u521d\u304b\u3089",onClick:i?this.handleClickCommentPaging:void 0},void 0,"\u6700\u521d"))}renderPageNum(e,t){for(var a=this.props.paging.current_page||1,i=[],{pageType:r}=this.props,p=r===b.Z.AmemberEntry||r===b.Z.Entry,s=e;s<=t;s+=1){var o=void 0;o=a===s?(0,g.Z)("span",{className:"now"},"now",s):(0,g.Z)(f.Z,{"data-link-page":s,role:p?"button":void 0,tabIndex:p?"0":void 0,targetUrl:this.getLinkUrl(s),title:"page ".concat(s),onClick:p?this.handleClickCommentPaging:void 0},"page".concat(s),s),i.push(o),s<t&&i.push((0,g.Z)("span",{},"split".concat(s),"\xa0|\xa0"))}return i}render(){var{endPage:e,startPage:t}=this.getPagingRange();return e<1&&t<1?null:(0,g.Z)("div",{className:this.props.className},void 0,this.renderPrevLink(),this.renderFirstLink(),this.renderPageNum(t,e),this.renderLastLink(),this.renderNextLink())}}y.displayName="PcPaginationOld"},75550:(e,t,a)=>{a.r(t),a.d(t,{default:);var i,r,p,s=a(3e4),o=a(66062),n=(a(91938),a(76955)),g=a(55752),l=a.n(g),d=a(29466),m=a.n(d),h=a(97175),c=a(66948),v=a(55311),k=a(73614),u=a(12942),b=a(5563),f=a(50019),I=a(49577),Z=a(44023);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function L(){return(L=(0,o.Z)((function*(e){var{dispatch:t,getState:a,match:i}=e,{params:r}=i,p=r.amebaId,s=yield t((0,k.Rs)(p));if(s&&s.error)"Not Found"===l()(s,"payload.error.message")?t((0,u.Qn)(p)):t((0,u.$F)(p));else{var o=a().bloggerState,n=o.bloggerMap,g=o.blogMap[(n[p]||{}).blog]||{};if(g&&g.blog_id){var d=y(r.page);yield t((0,v.EN)(g.blog_id,d,30))}else t((0,u.Qn)(p))}}))).apply(this,arguments)}var P=(0,c.$j)((function(e,t){var{match:a}=t,{params:i,route:r}=a,p=i.amebaId,s=e.bloggerState,o=e.bookmarkState,n=s.bloggerMap,g=s.blogMap,l=n[p]||{},d=l.seo_setting||{},m=g[l.blog]||{},h=l.profile||{},c=(l.attribute||{}).isOfficial,v=y(i.page),k=o.bookmarkPageMap["".concat(m.blog_id,"/").concat(v)]||{},u=k.data||[],b=o.bookmarkMap,f=u.map((),I=k.paging||{};return{amebaId:p,blog:m,bookmarks:f,isLoading:!1!==k.loading,isOfficial:c,pageType:r.pageType,paging:I,profile:h,seoSetting:d}}),{trackTapLog:b.XI})(i=(0,h.provideHooks)({defer:)((p=r=class extends n.Component{shouldComponentUpdate(e){return!(this.props.adEntryBottomPremiumPanel===e.adEntryBottomPremiumPanel&&this.props.amebaId===e.amebaId&&this.props.isLoading===e.isLoading&&this.props.isOfficial===e.isOfficial&&this.props.pageType===e.pageType&&this.props.trackTapLog===e.trackTapLog&&m()(this.props.blog,e.blog)&&m()(this.props.bookmarks,e.bookmarks)&&m()(this.props.paging,e.paging)&&m()(this.props.profile,e.profile)&&m()(this.props.seoSetting,e.seoSetting))}render(){return(0,s.Z)(n.Fragment,{},void 0,(0,s.Z)(f.F,{blog:this.props.blog,bookmarks:this.props.bookmarks,paging:this.props.paging,profile:this.props.profile,seoSetting:this.props.seoSetting}),(0,s.Z)(I.Z,{amebaId:this.props.amebaId,className:"page",isOfficial:this.props.isOfficial,nextItem:{label:"\u6b21\u30da\u30fc\u30b8",title:"\u6b21\u306e\u30da\u30fc\u30b8\u3078"},pageType:this.props.pageType,paging:this.props.paging,position:"top",prevItem:{label:"\u524d\u30da\u30fc\u30b8",title:"\u524d\u306e\u30da\u30fc\u30b8\u3078"},trackTapLog:this.props.trackTapLog}),(0,s.Z)("div",{id:"bookmark_list"},void 0,(0,s.Z)(Z.Z,{amebaId:this.props.amebaId,bookmarks:this.props.bookmarks,isLoading:this.props.isLoading,isOfficial:this.props.isOfficial,pageType:this.props.pageType,trackTapLog:this.props.trackTapLog})),this.props.adEntryBottomPremiumPanel,(0,s.Z)(I.Z,{amebaId:this.props.amebaId,className:"page",isOfficial:this.props.isOfficial,nextItem:{label:"\u6b21\u30da\u30fc\u30b8",title:"\u6b21\u306e\u30da\u30fc\u30b8\u3078"},pageType:this.props.pageType,paging:this.props.paging,position:"bottom",prevItem:{label:"\u524d\u30da\u30fc\u30b8",title:"\u524d\u306e\u30da\u30fc\u30b8\u3078"},trackTapLog:this.props.trackTapLog}))}},r.displayName="PcBookmarkListOfficial",i=p))||i)||i}}]);