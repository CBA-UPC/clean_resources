"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~ondemand.SettingsInternals~bundle.SettingsRevamp~bundle.SettingsTransparency","icons/IconEye-js"],{342346:(e,t,n)=>{n.d(t,{Gv:()=>v,UD:()=>g});var r=n(256666),o=n(133028),a=n(398084),i=n(526853),s=n(753392),l=n(823803),c=n(255632),d="verifyPassword",u="rweb/".concat(c.Y,"/").concat(d),p=(0,s.dg)(u,"VERIFY_PASSWORD"),h={fetchStatus:l.ZP.NONE};i.Z.register((0,r.Z)({},d,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;if(!t)return e;switch(t.type){case p.REQUEST:return(0,o.Z)((0,o.Z)({},e),{},{fetchStatus:l.ZP.LOADING});case p.SUCCESS:return(0,o.Z)((0,o.Z)({},e),{},{fetchStatus:l.ZP.LOADED});case p.FAILURE:return(0,o.Z)((0,o.Z)({},e),{},{error:t.payload,fetchStatus:l.ZP.FAILED});default:return e}})));var g=v=function(e){return function(t,n,r){var o=r.api;return(0,s._O)(t,{params:{password:e},request:o.withEndpoint(a.Z).verifyPassword})({actionTypes:p,context:"VERIFY_PASSWORD"})}}},808926:(e,t,n)=>{n.d(t,{Z:()=>A});var r=n(256666),o=n(709249),a=n(887371),i=n(545754),s=n(486906),l=n(202784),c=n(325686),d=n(882392),u=n(468591),p=n(594836),h=n(241441),g=n(229496),v=n(973186),y=n(645184),m=n.n(y),f=n(663140),b=n(872983),_=n(348501),x=n(76687),w=n(823803),Z=n(759824),I=n(628546),C=n(923335),E=n(392160),S=n(342346);const P=(0,E.Z)().propsFromState(().propsFromActions(();var L=m().fe36fe10,T=m().dec3c9b8,F=m().hccd9dbe,D=m().d1091f50,k=m().g9677c6e,V=m().c8cb0b4c,z=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={password:""},e._passwordlessSsoEnabled=e.context.featureSwitches.isTrue("responsive_web_passwordless_sso_enabled"),e._handlePasswordSubmit=function(){var t,n=e.props,o=n.createLocalApiErrorHandler,a=n.verifyPassword,i=e.state.password;""!==i&&a(i).then((function(){e.setState({password:"",verificationRequired:!1}),e._makeFetch()})).catch(o((t={},(0,r.Z)(t,f.ZP.InvalidCurrentPassword,{customAction:),(0,r.Z)(t,"showToast",!0),t)))},e._makeFetch=function(){var t,n=e.props,o=n.createLocalApiErrorHandler;(0,n.fetch)().then((function(){e.setState({verificationRequired:!1})})).catch(o((t={},(0,r.Z)(t,f.ZP.PasswordVerificationRequired,{customAction:),(0,r.Z)(t,"showToast",!1),t)))},e._handleFetch=e._makeFetch,e._handleChange=function(t){e.setState({passwordError:void 0,password:t.target.value})},e}return(0,a.Z)(n,[{key:"componentDidMount",value:,{key:"componentDidUpdate",value:function(e){e.fetchStatus===w.ZP.LOADED&&this.props.fetchStatus===w.ZP.NONE&&this._makeFetch()}},{key:"_renderPasswordPrompt",value:function(){var e=this.props.titleHeader,t=this.state.passwordError,n=l.createElement(d.ZP,{link:{pathname:"https://twitter.com/account/begin_password_reset",external:!0,openInSameFrame:!0}},D);return l.createElement(l.Fragment,null,e?l.createElement(u.ZP,{text:e}):null,l.createElement(c.Z,{style:[I.Z.viewItem,I.Z.bottomBorder]},l.createElement(d.ZP,{color:"gray700",size:"subtext2"},F)),l.createElement(p.Z,{errorText:t,helperText:n,invalid:!!t,label:T,name:"current_password",onChange:this._handleChange,onSubmitEditing:this._handlePasswordSubmit,type:"password",value:this.state.password}),l.createElement(h.Z,{style:R.buttonContainer},l.createElement(g.ZP,{disabled:!1,onPress:this._handlePasswordSubmit,style:R.button,type:"brandFilled"},k)))}},{key:"render",value:function(){var e=this.props,t=e.fetchStatus,n=e.location,r=e.render,o=this.state.verificationRequired,a=t===w.ZP.FAILED&&o;return l.createElement(l.Fragment,null,a?this._passwordlessSsoEnabled?l.createElement(Z.Z,{to:{pathname:"/i/flow/verify_account_ownership",state:{input:{requested_variant:n.pathname}}}}):this._renderPasswordPrompt():l.createElement(b.Z,{fetchStatus:t,onRequestRetry:this._handleFetch,render:r}))}}]),n}(l.Component);z.contextType=_.rC,z.defaultProps={titleHeader:L};var R=v.Z.create((function(e){return{buttonContainer:{flexDirection:"row",justifyContent:"flex-end",marginVertical:0,marginHorizontal:"auto",paddingBottom:e.spaces.space12,paddingHorizontal:0},button:{marginVertical:0,marginHorizontal:e.componentDimensions.gutterHorizontal}}})),H=P(z);const A=(0,x.ZP)(H)},628546:594836:351384:685834:]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/shared~ondemand.SettingsInternals~bundle.SettingsRevamp~bundle.SettingsTransparency.5a6e44ca.js.map