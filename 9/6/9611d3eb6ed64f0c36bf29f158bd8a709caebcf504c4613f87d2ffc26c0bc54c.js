/*! For license information please see 7.a4617d28.chunk.js.LICENSE.txt */
(this["webpackJsonp@play-web/play-video-client"]=this["webpackJsonp@play-web/play-video-client"]||[]).push([[7],{599:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=283)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=void 0,t=[],n={},r={};rn e={extend:getSingletonInstance:i,setSingletonInstance:getSingletonFactory:function(e){var r=a(e.__dashjs_factory_name,n);return r||(r=n[e.__dashjs_factory_name]=r),r},getSingletonFactoryByName:function(e){return a(e,n)},updateSingletonFactory:function(e,t){o(e,t,n)},getClassFactory:getClassFactoryByName:function(e){return a(e,r)},updateClassFactory:function(e,t){o(e,t,r)}}}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return r(e,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)"}}]),e}());t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(){var e={};eturn{on:function(n,r,i){var a=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!n)throw new Error("event type cannot be null or undefined");if(!r||"function"!=typeof r)throw new Error("listener must be a function: "+r);if(!(t(n,r,i)>=0)){e[n]=e[n]||[];var o={callback:r,scope:i,priority:a},s=e[n].some(();s||e[n].push(o)}},off:trigger:reset:function(){e={}}}}a.__dashjs_factory_name="EventBus";var o=i.default.getSingletonFactory(a);o.EVENT_PRIORITY_LOW=0,o.EVENT_PRIORITY_HIGH=5e3,i.default.updateSingletonFactory(a.__dashjs_factory_name,o),t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7)),a=r(n(9)),o=r(n(2)),s=1,u=2,l=3,c=4,d=5;function f(){var e,t=this.context,n=(0,i.default)(t).getInstance(),r=[],o=void 0,f=void 0,h=void 0,p=void 0;unction m(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];T.apply(void 0,[s,this].concat(t))}function y(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];T.apply(void 0,[u,this].concat(t))}function v(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];T.apply(void 0,[l,this].concat(t))}function _(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];T.apply(void 0,[c,this].concat(t))}unction T(e,t){var i="",s=null;o&&(s=(new Date).getTime(),i+="["+(s-h)+"]"),f&&t&&t.getClassName&&(i+="["+t.getClassName()+"]",t.getType&&(i+="["+t.getType()+"]")),i.length>0&&(i+=" ");for(var u=arguments.length,l=Array(u>2?u-2:0),c=2;c<u;c++)l[c-2]=arguments[c];Array.apply(null,l).forEach((),r[e]&&p>=e&&r[e](i),n.trigger(a.default.LOG,{message:i,level:e})}return e={getLogger:setLogTimestampVisible:function(e){o=e},setCalleeNameVisible:function(e){f=e},setLogToBrowserConsole:getLogToBrowserConsole:setLogLevel:function(e){p=e},getLogLevel:function(){return p}},o=!0,f=!0,p=l,h=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(r[s]=g(window.console.error),r[u]=g(window.console.error),r[l]=g(window.console.warn),r[c]=g(window.console.info),r[d]=g(window.console.debug)),e}f.__dashjs_factory_name="Debug";var h=o.default.getSingletonFactory(f);h.LOG_LEVEL_NONE=0,h.LOG_LEVEL_FATAL=s,h.LOG_LEVEL_ERROR=u,h.LOG_LEVEL_WARNING=l,h.LOG_LEVEL_INFO=c,h.LOG_LEVEL_DEBUG=d,o.default.updateSingletonFactory(f.__dashjs_factory_name,h),t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,o=new(function(e){eturn function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n(131))&&a.__esModule?a:{default:a}).default));t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13,this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_MANIFEST="manifest",this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_CONTENT="content",this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.DOWNLOAD_ERROR_ID_XLINK="xlink",this.MANIFEST_ERROR_ID_CODEC_CODE=30,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="buffer is not defined",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(86))&&r.__esModule?r:{default:r}).default));t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=i.GET="GET",i.HEAD="HEAD",i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",t.HTTPRequest=i,t.HTTPRequestTrace=,function(e){e.exports=JSON.parse('{"Audio Player":"Audio Player","Video Player":"Video Player","Play":"Play","Pause":"Pause","Replay":"Replay","Current Time":"Current Time","Duration":"Duration","Remaining Time":"Remaining Time","Stream Type":"Stream Type","LIVE":"LIVE","Loaded":"Loaded","Progress":"Progress","Progress Bar":"Progress Bar","progress bar timing: currentTime={1} duration={2}":"{1} of {2}","Fullscreen":"Fullscreen","Non-Fullscreen":"Non-Fullscreen","Mute":"Mute","Unmute":"Unmute","Playback Rate":"Playback Rate","Subtitles":"Subtitles","subtitles off":"subtitles off","Captions":"Captions","captions off":"captions off","Chapters":"Chapters","Descriptions":"Descriptions","descriptions off":"descriptions off","Audio Track":"Audio Track","Volume Level":"Volume Level","You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it.","Play Video":"Play Video","Close":"Close","Close Modal Dialog":"Close Modal Dialog","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected","captions settings":"captions settings","subtitles settings":"subtitles settings","descriptions settings":"descriptions settings","Text":"Text","White":"White","Black":"Black","Red":"Red","Green":"Green","Blue":"Blue","Yellow":"Yellow","Magenta":"Magenta","Cyan":"Cyan","Background":"Background","Window":"Window","Transparent":"Transparent","Semi-Transparent":"Semi-Transparent","Opaque":"Opaque","Font Size":"Font Size","Text Edge Style":"Text Edge Style","None":"None","Raised":"Raised","Depressed":"Depressed","Uniform":"Uniform","Dropshadow":"Dropshadow","Font Family":"Font Family","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif","Casual":"Casual","Script":"Script","Small Caps":"Small Caps","Reset":"Reset","restore all settings to the default values":"restore all settings to the default values","Done":"Done","Caption Settings Dialog":"Caption Settings Dialog","Beginning of dialog window. Escape will cancel and close the window.":"Beginning of dialog window. Escape will cancel and close the window.","End of dialog window.":"End of dialog window.","ISO-639-1":"en","10 seconds backward":"10 seconds backward","30 seconds forward":"30 seconds forward","Audio":"Audio","Audio and subtitles":"Audio and subtitles","Audio Description":"Audio Description","Auto play":"Auto play","Back":"Back","Casting to":"Casting to","Content will be available in {1} days":"Content will be available in {1} days","Current position":"Current position","Current subject":"Current subject","Days":"Days","Duration: {1}":"Duration: {1}","Edit player settings":"Edit player settings","Episode":"Episode","HD":"HD","Continuous Playback":"Continuous Playback","Cancel":"Cancel","Coming next":"Coming next","Copied":"Copied","copy":"copy","Copy debug info":"Copy debug info","Copy link":"Copy link","Facebook":"Facebook","Font size level {1}":"Font size level {1}","Hours":"Hours","Integrate":"Integrate","LinkedIn":"LinkedIn","Mail":"Mail","Minutes":"Minutes","Off":"Off","Open {1} in Play {2}":"Open {1} in Play {2}","Playback will begin shortly":"Playback will begin shortly","Quality":"Quality","SD":"SD","Seconds":"Seconds","Seek to live, currently behind live":"Seek to live, currently behind live","Seek to live, currently playing live":"Seek to live, currently playing live","Share at current position":"Share at current position","Share by e-mail":"Share by e-mail","Share":"Share","Share on {1}":"Share on {1}","Share on Facebook":"Share on Facebook","Share on Linkedin":"Share on Linkedin","Share on Twitter":"Share on Twitter","Share on Whatsapp":"Share on Whatsapp","Share the current subject":"Share the current subject","Share the episode":"Share the episode","Skip credits":"Skip credits","Skip intro":"Skip intro","Speed":"Speed","Start casting":"Start casting","Start pip":"Start picture in picture","Stop":"Stop","Stop casting":"Stop casting","Stop pip":"Stop picture in picture","The content cannot be played.":"The content cannot be played.","The content was skipped due to legal restriction":"The content was skipped due to legal restriction","This commercial media is not available.":"This commercial media is not available.","This content is not available.":"This content is not available.","This content is not available anymore.":"This content is not available anymore.","This content is not available due to legal restrictions.":"This content is not available due to legal restrictions.","This content is not available outside Switzerland.":"This content is not available outside Switzerland.","This content is not yet available. Please try again later.":"This content is not yet available. Please try again later.","To protect children, this content is only available between 8PM and 6AM.":"To protect children, this content is only available between 8PM and 6AM.","To protect children, this content is only available between 11PM and 5AM.":"To protect children, this content is only available between 11PM and 5AM.","Twitter":"Twitter","Unable to display the content. For more information and help, click here...":"Unable to display the content. For more information and help, click here...","Unfortunately the 360 playback experience is not compatible with your browser version.":"Unfortunately the 360 playback experience is not compatible with your browser version.","Unfortunately this format is not compatible with your browser.":"Unfortunately this format is not compatible with your browser.","WhatsApp":"WhatsApp"}')},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(129),a=r(n(247)),o=r(n(266)),s=r(n(281)),u=r(n(8));dashjs.Protection=o.default,dashjs.MetricsReporting=a.default,dashjs.MediaPlayerFactory=s.default,dashjs.Debug=u.default,t.default=dashjs,t.MediaPlayer=i.MediaPlayer,t.Protection=o.default,t.MetricsReporting=a.default,t.MediaPlayerFactory=s.default,t.Debug=u.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return r(e,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),e}());t.default=i,e.exports=t.default},function(e,t,n){e.exports={17:18:90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t;return e.getParser=e.parse=(t=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}])&&o(e,t),e}();t.default=s,e.exports=t.default},91:92:93:94:95:)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r},a={DEFAULT:.5,STRONG:1,WEAK:0};.__dashjs_factory_name="SwitchRequest";var s=i.default.getClassFactory(o);s.NO_CHANGE=-1,s.PRIORITY=a,i.default.updateClassFactory(o.__dashjs_factory_name,s),t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(){var e=void 0,t=/^[a-z][a-z0-9+\-.]*:/i,n=/^https?:\/\//i,r=/^https:\/\//i,i=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,a=o=unction u(e){var t=e.match(i);return t?t[1]:""}rn ),{parseBaseUrl:s,parseOrigin:u,parseScheme:l,isRelative:c,isPathAbsolute:d,isSchemeRelative:f,isHTTPURL:function(e){return n.test(e)},isHTTPS:function(e){return r.test(e)},resolve:function(t,n){return e(t,n)}}}a.__dashjs_factory_name="URLUtils",t.default=i.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(39)),o=r(n(78)),s=r(n(157)),u=r(n(45)),l=r(n(61)),c=r(n(7)),d=r(n(9)),f=r(n(33)),h=r(n(2)),p=r(n(8)),g=r(n(62)),m=r(n(10)),y=r(n(11)),v=n(12);function _(e){e=e||{};var t=this.context,n=(0,c.default)(t).getInstance(),r=e.metricsModel,h=e.mediaPlayerModel,_=e.errHandler,b=e.streamController,T=e.mediaController,E=e.adapter,S=e.textController,w=e.abrController,C=e.playbackController,O=e.type,A=e.streamProcessor,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0,L=void 0,N=void 0,x=void 0,F=void 0,U=void 0,B=void 0,j=void 0,G=void 0,H=void 0,V=void 0,q=void 0,K=void 0,z=void 0,Y=void 0,W=void 0;function X(e,n){if(!V||!e||!A)return null;if(L)try{"function"==typeof(F=n&&n[O]?(0,o.default)(t).create(L,e,ee.bind(this),n[O]):(0,o.default)(t).create(L,e,ee.bind(this))).getBuffer().initialize&&F.getBuffer().initialize(O,A)}catch(e){P.fatal("Caught error on create SourceBuffer: "+e),_.mediaSourceError("Error creating "+O+" source buffer."),_.error(new m.default(y.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,y.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+O))}else F=(0,s.default)(t).create(ee.bind(this));return ve(A.getRepresentationInfo(I).MSETimeOffset),F}function Q(e){e.fragmentModel===A.getFragmentModel()&&(P.info("Init fragment finished loading saving to",O+"'s init cache"),V.save(e.chunk),P.debug("Append Init fragment",O," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),J(e.chunk))}function $(e){if(e.fragmentModel===A.getFragmentModel()){var n=e.chunk,r=n.bytes,i=n.quality,o=A.getRepresentationInfo(i),s=E.getEventsFor(o.mediaInfo,A),u=E.getEventsFor(o,A);if(s&&s.length>0||u&&u.length>0){var l=function(e,n,r,i){for(var a=Math.max(!n||isNaN(n.startTime)?0:n.startTime,0),o=[],s=[],u=r.concat(i),l=0,c=u.length;l<c;l++)o[u[l].schemeIdUri+"/"+u[l].value]=u[l];var d=(0,f.default)(t).getInstance().parse(e).getBoxes("emsg");for(l=0,c=d.length;l<c;l++){var h=E.getEvent(d[l],o,a);h&&s.push(h)}return s}(r,A.getFragmentModel().getRequests({state:a.default.FRAGMENT_MODEL_EXECUTED,quality:i,index:n.index})[0],s,u);A.addInbandEvents(l)}if(Y){W=n;var c=F&&F.getAllBufferRanges();c&&c.length>0&&C.getTimeToStreamEnd()>.5&&(P.debug("Clearing buffer because track changed - "+(c.end(c.length-1)+.5)),ge([{start:0,end:c.end(c.length-1)+.5,force:!0}]))}else J(n)}}function J(e){F.append(e),e.mediaInfo.type===i.default.VIDEO&&n.trigger(d.default.VIDEO_CHUNK_RECEIVED,{chunk:e})}function Z(e){if(e&&e.length>0)for(var t=0,n=e.length;t<n;t++)P.debug("Buffered Range for type:",O,":",e.start(t)," - ",e.end(t)," currentTime = ",C.getTime())}function ee(e){if(e.error){if(22===e.error.code&&(M=.8*Ce(),P.warn("Quota exceeded for type: "+O+", Critical Buffer: "+M),M>0)){var t=Math.max(.2*M,1),r=M-t;h.setBufferToKeep(parseFloat(t.toFixed(5))),h.setBufferAheadToKeep(parseFloat(r.toFixed(5)))}22!==e.error.code&&Oe()||(P.warn("Clearing playback buffer to overcome quota exceed situation for type: "+O),n.trigger(d.default.QUOTA_EXCEEDED,{sender:R,criticalBufferLevel:M}),ie())}else{(j=e.chunk)&&!isNaN(j.index)&&(N=Math.max(j.index,N),de());var i=F.getAllBufferRanges();if(j.segmentType===v.HTTPRequest.MEDIA_SEGMENT_TYPE)Z(i),ae();else if(Y){var a=C.getTime();P.debug("AppendToBuffer seek target should be "+a),A.getScheduleController().setSeekTarget(a),E.setIndexHandlerTime(A,a)}var o={sender:R,quality:j.quality,startTime:j.start,index:j.index,bufferedRanges:i};j&&!j.endFragment?n.trigger(d.default.BYTES_APPENDED,o):j&&n.trigger(d.default.BYTES_APPENDED_END_FRAGMENT,o)}}unction ne(){k&&(K=!0,k=!1,x=Number.POSITIVE_INFINITY),O!==i.default.FRAGMENTED_TEXT?ie():ae()}unction ie(){var e=function(){var e=[],t=F.getAllBufferRanges();if(!t||0===t.length)return e;var n=C.getTime(),r=t.end(t.length-1)+.5,i=A.getFragmentModel().getRequests({state:a.default.FRAGMENT_MODEL_EXECUTED,time:n,threshold:.01})[0];if(i){var o={start:0,end:i.startTime-.5},s=A.getFragmentModel().getRequests({state:a.default.FRAGMENT_MODEL_EXECUTED,time:i.startTime-i.duration/2,threshold:.01})[0];s&&s.startTime!=i.startTime&&(o.end=s.startTime),o.start<o.end&&o.end>t.start(0)&&e.push(o);var u={start:i.startTime+i.duration+.5,end:r},l=A.getFragmentModel().getRequests({state:a.default.FRAGMENT_MODEL_EXECUTED,time:i.startTime+i.duration+.5,threshold:.01})[0];l&&l.startTime!==i.startTime&&(u.start=l.startTime+l.duration+.5),u.start<u.end&&u.start<r&&e.push(u)}else P.debug("getAllRangesWithSafetyFactor for",O,"- No request found in current time position, removing full buffer 0 -",r),e.push({start:0,end:r});return e}();e&&0!==e.length||ae(),ge(e)}function ae(){(!Y||O===i.default.FRAGMENTED_TEXT&&S.isTextEnabled())&&(le(),ce())}function oe(){fe()}function se(){fe()}function ue(e,t){var n=F.getAllBufferRanges(),r=0,i=0,a=null,o=null,s=0,u=void 0,l=void 0,c=t||.15;if(null!=n){for(l=0,u=n.length;l<u;l++)if(r=n.start(l),i=n.end(l),null===a)s=Math.abs(r-e),(e>=r&&e<i||s<=c)&&(a=r,o=i);else{if(!((s=r-o)<=c))break;o=i}if(null!==a)return{start:a,end:o}}return null}function le(){var e,t,r;C&&(e=function(){var e=C.getTime();if(q){var t=F.getAllBufferRanges();t&&t.length&&(e=Math.max(t.start(0),q))}return e}()||0,D=null===(r=ue(e,t))?0:r.end-e,n.trigger(d.default.BUFFER_LEVEL_UPDATED,{sender:R,bufferLevel:D}),fe())}function ce(){A&&b&&A.getStreamInfo()&&(r.addBufferState(O,B,A.getScheduleController().getBufferTarget()),r.addBufferLevel(O,new Date,1e3*D))}function de(){N>=x-1&&!k&&void 0===F.discharge&&(k=!0,P.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),n.trigger(d.default.BUFFERING_COMPLETED,{sender:R,streamInfo:A.getStreamInfo()}))}function fe(){"audio"!==O&&"video"!==O||(K&&!k&&C&&C.getTimeToStreamEnd()-D<.5&&(K=!1,k=!0,P.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),n.trigger(d.default.BUFFERING_COMPLETED,{sender:R,streamInfo:A.getStreamInfo()})),(!h.getLowLatencyEnabled()&&D<.5||0===D)&&!k?he("bufferStalled"):(k||D>=h.getStableBufferTime())&&he("bufferLoaded"))}function he(e){B===e||"bufferStalled"===e&&0===C.getTime()||O===i.default.FRAGMENTED_TEXT&&!S.isTextEnabled()||(B=e,ce(),n.trigger(d.default.BUFFER_LEVEL_STATE_CHANGED,{sender:R,state:e,mediaType:O,streamInfo:A.getStreamInfo()}),n.trigger("bufferLoaded"===e?d.default.BUFFER_LOADED:d.default.BUFFER_EMPTY,{mediaType:O}),P.debug("bufferLoaded"===e?"Got enough buffer to start for "+O:"Waiting for more buffer before starting playback for "+O))}function pe(){F&&O!==i.default.FRAGMENTED_TEXT&&(k||ge(function(){var e=[],t=F.getAllBufferRanges();if(!t||0===t.length)return e;var n=C.getTime(),r={start:Math.max(0,n-h.getBufferToKeep()),end:n+h.getBufferAheadToKeep()},i=A.getFragmentModel().getRequests({state:a.default.FRAGMENT_MODEL_EXECUTED,time:n,threshold:.01})[0];if(i)r.start=Math.min(i.startTime,r.start),r.end=Math.max(i.startTime+i.duration,r.end);else if(0===n&&C.getIsDynamic())return[];if(t.start(0)<=r.start){for(var o={start:0,end:r.start},s=0;s<t.length&&t.end(s)<=r.start;s++)o.end=t.end(s);o.start<o.end&&e.push(o)}if(t.end(t.length-1)>=r.end){var u={start:r.end,end:t.end(t.length-1)+.01};u.start<u.end&&e.push(u)}return e}()))}unction me(){if(0===z.length||!F)return P.debug("Nothing to prune, halt pruning"),z=[],void(H=!1);var e=F.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return P.debug("SourceBuffer is empty (or does not exist), halt pruning"),z=[],void(H=!1);var t=z.shift();P.debug("Removing",O,"buffer from:",t.start,"to",t.end),H=!0;var n=C.getTime();n<t.end&&(k=!1,N=0,Y||(A.getScheduleController().setSeekTarget(n),E.setIndexHandlerTime(A,n))),F.remove(t.start,t.end,t.force)}function ye(e){F===e.buffer&&(P.debug("onRemoved buffer from:",e.from,"to",e.to),Z(F.getAllBufferRanges()),0===z.length&&(H=!1),e.unintended&&(P.warn("Detected unintended removal from:",e.from,"to",e.to,"setting index handler time to",e.from),E.setIndexHandlerTime(A,e.from)),H?me():(Y?(Y=!1,W&&J(W)):(P.debug("onRemoved : call updateBufferLevel"),le()),n.trigger(d.default.BUFFER_CLEARED,{sender:R,from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:Oe()})))}ction Te(e){var t=F&&F.getAllBufferRanges();t&&e.newMediaInfo.type===O&&e.newMediaInfo.streamInfo.id===A.getStreamInfo().id&&(P.info("Track change asked"),T.getSwitchMode(O)===l.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&t&&t.length>0&&C.getTimeToStreamEnd()>.5&&(k=!1,x=Number.POSITIVE_INFINITY))}function Ee(){++G*(h.getWallclockTimeUpdateInterval()/1e3)>=h.getBufferPruningInterval()&&(G=0,pe())}function Se(){fe()}unction Ce(){var e,t=F.getAllBufferRanges(),n=0,r=void 0;if(!t)return n;for(r=0,e=t.length;r<e;r++)n+=t.end(r)-t.start(r);return n}unction Ae(e,t){M=Number.POSITIVE_INFINITY,B=void 0,I=u.default.QUALITY_DEFAULT,x=Number.POSITIVE_INFINITY,N=0,j=null,k=!1,H=!1,K=!1,D=0,G=0,z=[],F&&(e||F.abort(),F.reset(t),F=null),Y=!1}return R={getBufferControllerType:function(){return"BufferController"},initialize:function(e){we(e),I=w.getQualityFor(O,A.getStreamInfo()),n.on(d.default.DATA_UPDATE_COMPLETED,_e,this),n.on(d.default.INIT_FRAGMENT_LOADED,Q,this),n.on(d.default.MEDIA_FRAGMENT_LOADED,$,this),n.on(d.default.QUALITY_CHANGE_REQUESTED,te,this),n.on(d.default.STREAM_COMPLETED,be,this),n.on(d.default.PLAYBACK_PLAYING,se,this),n.on(d.default.PLAYBACK_PROGRESS,ae,this),n.on(d.default.PLAYBACK_TIME_UPDATED,ae,this),n.on(d.default.PLAYBACK_RATE_CHANGED,Se,this),n.on(d.default.PLAYBACK_SEEKING,ne,this),n.on(d.default.PLAYBACK_SEEKED,re,this),n.on(d.default.PLAYBACK_STALLED,oe,this),n.on(d.default.WALLCLOCK_TIME_UPDATED,Ee,this),n.on(d.default.CURRENT_TRACK_CHANGED,Te,this,c.default.EVENT_PRIORITY_HIGH),n.on(d.default.SOURCEBUFFER_REMOVE_COMPLETED,ye,this)},createBuffer:X,dischargePreBuffer:function(){if(F&&U&&"function"==typeof U.discharge){var e=U.getAllBufferRanges();if(e.length>0){for(var t="Beginning "+O+"PreBuffer discharge, adding buffer for:",n=0;n<e.length;n++)t+=" start: "+e.start(n)+", end: "+e.end(n)+";";P.debug(t)}else P.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var r=U.discharge(),i=null,a=0;a<r.length;a++){var o=r[a],s=V.extract(o.streamId,o.representationId);s&&(i!==s&&(F.append(s),i=s),F.append(o))}U.reset(),U=null}},getType:function(){return O},getStreamProcessor:function(){return A},setSeekStartTime:function(e){q=e},getBuffer:function(){return F},setBuffer:function(e){F=e},getBufferLevel:function(){return D},getRangeAt:ue,setMediaSource:we,getMediaSource:function(){return L},getIsBufferingCompleted:function(){return k},switchInitData:function(e,t,r){var i=V.extract(e,t);Y=!0===r&&r,i?(P.info("Append Init fragment",O," with representationId:",i.representationId," and quality:",i.quality,", data size:",i.bytes.byteLength),J(i)):n.trigger(d.default.INIT_REQUESTED,{sender:R})},getIsPruningInProgress:function(){return H},reset:function(e,t){n.off(d.default.DATA_UPDATE_COMPLETED,_e,this),n.off(d.default.QUALITY_CHANGE_REQUESTED,te,this),n.off(d.default.INIT_FRAGMENT_LOADED,Q,this),n.off(d.default.MEDIA_FRAGMENT_LOADED,$,this),n.off(d.default.STREAM_COMPLETED,be,this),n.off(d.default.CURRENT_TRACK_CHANGED,Te,this),n.off(d.default.PLAYBACK_PLAYING,se,this),n.off(d.default.PLAYBACK_PROGRESS,ae,this),n.off(d.default.PLAYBACK_TIME_UPDATED,ae,this),n.off(d.default.PLAYBACK_RATE_CHANGED,Se,this),n.off(d.default.PLAYBACK_SEEKING,ne,this),n.off(d.default.PLAYBACK_SEEKED,re,this),n.off(d.default.PLAYBACK_STALLED,oe,this),n.off(d.default.WALLCLOCK_TIME_UPDATED,Ee,this),n.off(d.default.SOURCEBUFFER_REMOVE_COMPLETED,ye,this),Ae(e,t)}},P=(0,p.default)(t).getInstance().getLogger(R),V=(0,g.default)(t).getInstance(),Ae(),R}_.__dashjs_factory_name="BufferController";var b=h.default.getClassFactory(_);b.BUFFER_LOADED="bufferLoaded",b.BUFFER_EMPTY="bufferStalled",h.default.updateClassFactory(_.__dashjs_factory_name,b),t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};r.ACTION_DOWNLOAD="download",r.ACTION_COMPLETE="complete",t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeDollarsInTemplate=t.replaceIDForTemplate=t.replaceTokenForTemplate=s,t.getIndexBasedSegment=function(e,t,n,r){var a,s,u=void 0,l=void 0;return l=n.segmentDuration,isNaN(l)&&(l=n.adaptation.period.duration),a=parseFloat((n.adaptation.period.start+r*l).toFixed(5)),s=parseFloat((a+l).toFixed(5)),(u=new i.default).representation=n,u.duration=l,u.presentationStartTime=a,u.mediaStartTime=e.calcMediaTimeFromPresentationTime(u.presentationStartTime,n),u.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(u.presentationStartTime,n.adaptation.period.mpd,t),u.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(s,n.adaptation.period.mpd,t),u.wallStartTime=e.calcWallTimeForSegment(u,t),u.replacementNumber=o(u,r),u.availabilityIdx=r,u},t.getTimeBasedSegment=function(e,t,n,r,a,u,l,c,d,f){var h,p,g=r/u,m=Math.min(a/u,n.adaptation.period.mpd.maxSegmentDuration),y=void 0;return p=(h=e.calcPresentationTimeFromMediaTime(g,n))+m,(y=new i.default).representation=n,y.duration=m,y.mediaStartTime=g,y.presentationStartTime=h,y.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,y.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(p,n.adaptation.period.mpd,t),y.wallStartTime=e.calcWallTimeForSegment(y,t),y.replacementTime=f||r,y.replacementNumber=o(y,d),l=s(l,"Number",y.replacementNumber),l=s(l,"Time",y.replacementTime),y.media=l,y.mediaRange=c,y.availabilityIdx=d,y},t.getSegmentByIndex=u,t.decideSegmentListRangeForTemplate=function(e,t,n,r,i,a){var o=n.segmentDuration,s=n.adaptation.period.mpd.manifest.minBufferTime,l=n.segmentAvailabilityRange,c={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,l?l.start:NaN),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,l?l.end:NaN)},d=n.segments,f=2*o,h=a||Math.max(2*s,10*o),p=NaN,g=null,m=void 0;return c.start=Math.max(c.start,0),t&&!e.isTimeSyncCompleted()?{start:m=Math.floor(c.start/o),end:Math.floor(c.end/o)}:(p=d&&d.length>0?(g=u(i,n))?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,g.presentationStartTime):i>0?i*o:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r):i>0?i*o:t?c.end:c.start,{start:m=Math.floor(Math.max(p-f,c.start)/o),end:Math.floor(Math.min(m+h/o,c.end/o))})};var r,i=(r=n(63))&&r.__esModule?r:{default:r};nction s(e,t,n){var r=void 0,i=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=t.length,d="%0".length;if(!e)return e;for(;;){if((r=e.indexOf("$"+t))<0)return e;if((i=e.indexOf("$",r+c))<0)return e;if((o=e.indexOf("%0",r+c))>r&&o<i)switch(s=e.charAt(i-1),u=parseInt(e.substring(o+d,i-1),10),s){case"d":case"i":case"u":l=a(n.toString(),u);break;case"x":l=a(n.toString(16),u);break;case"X":l=a(n.toString(16),u).toUpperCase();break;case"o":l=a(n.toString(8),u);break;default:return e}else l=n;e=e.substring(0,r)+l+e.substring(i+1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return r(e,[{key:"init",value:]),e}());t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=new(function(){eturn r(e,[{key:"init",value:]),e}());t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkParameterType=function(e,t){if(typeof e!==t)throw i.default.BAD_ARGUMENT_ERROR},t.checkInteger=function(e){if(null===e||isNaN(e)||e%1!=0)throw i.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"},t.checkRange=function(e,t,n){if(e<t||e>n)throw i.default.BAD_ARGUMENT_ERROR+" : argument out of range"},t.checkIsVideoOrAudioType=function(e){if("string"!=typeof e||e!==i.default.AUDIO&&e!==i.default.VIDEO)throw i.default.BAD_ARGUMENT_ERROR};var r,i=(r=n(6))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"findCencContentProtection",value:,{key:"getPSSHData",value:,{key:"getPSSHForKeySystem",value:,{key:"parseInitDataFromContentProtection",value:,{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e.buffer||e),n={},r=0;;){var i,a,o=void 0,s=r;if(r>=t.buffer.byteLength)break;if(i=r+t.getUint32(r),r+=4,1886614376===t.getUint32(r))if(r+=4,0===(a=t.getUint8(r))||1===a){r++,r+=3,o="";var u=void 0,l=void 0;for(u=0;u<4;u++)o+=1===(l=t.getUint8(r+u).toString(16)).length?"0"+l:l;for(r+=4,o+="-",u=0;u<2;u++)o+=1===(l=t.getUint8(r+u).toString(16)).length?"0"+l:l;for(r+=2,o+="-",u=0;u<2;u++)o+=1===(l=t.getUint8(r+u).toString(16)).length?"0"+l:l;for(r+=2,o+="-",u=0;u<2;u++)o+=1===(l=t.getUint8(r+u).toString(16)).length?"0"+l:l;for(r+=2,o+="-",u=0;u<6;u++)o+=1===(l=t.getUint8(r+u).toString(16)).length?"0"+l:l;r+=6,o=o.toLowerCase(),t.getUint32(r),r+=4,n[o]=t.buffer.slice(s,i),r=i}else r=i;else r=i}return n}}]),e}();t.default=i,e.exports=t.default},function(e){e.exports=JSON.parse('{"a":"3.18.0"}')},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8)),a=r(n(134)),o=r(n(2)),s=r(n(53)),u=r(n(136));function l(){var e=void 0,t=void 0,n=this.context;urn t={parse:r,findLastTopIsoBoxCompleted:function(e,t,n){if(void 0===n&&(n=0),!t||n+8>=t.byteLength)return new u.default(0,!1);for(var r=t instanceof ArrayBuffer?new Uint8Array(t):t,i=void 0,a=0;n<r.byteLength;){var s=o(r,n),c=l(r,n+4);if(0===s)break;n+s<=r.byteLength&&(e.indexOf(c)>=0?i=new u.default(n,!0,s):a=n+s),n+=s}return i||new u.default(a,!1)},getMediaTimescaleFromMoov:getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,n,i=r(e),a=i.getBoxes("moof"),o=i.getBoxes("mfhd"),s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0;n=i.getBoxes("moof").length,t=o[o.length-1].sequence_number,u=0,d=[];var T=-1,E=-1;for(m=0;m<a.length;m++){var S=a[m],w=S.getChildBoxes("traf");for(p=0;p<w.length;p++){var C=w[p],O=C.getChildBox("tfhd"),A=C.getChildBox("tfdt");c=A.baseMediaDecodeTime;var R=C.getChildBoxes("trun"),P=C.getChildBoxes("subs");for(g=0;g<R.length;g++){var I=R[g];for(u=I.sample_count,_=(O.base_data_offset||0)+(I.data_offset||0),h=0;h<u;h++){s=void 0!==(f=I.samples[h]).sample_duration?f.sample_duration:O.default_sample_duration,l=void 0!==f.sample_size?f.sample_size:O.default_sample_size;var k={dts:c,cts:c+(void 0!==f.sample_composition_time_offset?f.sample_composition_time_offset:0),duration:s,offset:S.offset+_,size:l,subSizes:[l]};if(P)for(y=0;y<P.length;y++){var D=P[y];if(T<D.entry_count-1&&h>E&&(T++,E+=D.entries[T].sample_delta),h==E){k.subSizes=[];var M=D.entries[T];for(v=0;v<M.subsample_count;v++)k.subSizes.push(M.subsamples[v].subsample_size)}}d.push(k),_+=l,c+=s}}b=c-A.baseMediaDecodeTime}}return{sampleList:d,lastSequenceNumber:t,totalDuration:b,numSequences:n}},findInitRange:,e=(0,i.default)(n).getInstance().getLogger(t),t}l.__dashjs_factory_name="BoxParser",t.default=o.default.getSingletonFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(65)),o=r(n(183)),s=n(12),u=r(n(2)),l=r(n(11)),c=r(n(10));function d(e){e=e||{};var t,n,r,u=this.context,d=e.errHandler,f=e.metricsModel,h=e.mediaPlayerModel,p=e.requestModifier,g=e.boxParser,m=e.useFetch||!1,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0;return t={load:function(e){e.request&&function e(t,n){var r=t.request,i=[],l=!0,E=!0,S=new Date,w=S,C=0,O=void 0;if(!p||!f||!d)throw new Error("config object is not correct or missing");var A=function(e){E=!1,r.requestStartDate=S,r.requestEndDate=new Date,r.firstByteDate=r.firstByteDate||S,r.checkExistenceOnly||(f.addHttpRequest(r.mediaType,null,r.type,r.url,O.response?O.response.responseURL:null,r.serviceLocation||null,r.range||null,r.requestStartDate,r.firstByteDate,r.requestEndDate,O.response?O.response.status:null,r.duration,O.response&&O.response.getAllResponseHeaders?O.response.getAllResponseHeaders():O.response?O.response.responseHeaders:[],e?i:null),r.type===s.HTTPRequest.MPD_TYPE&&f.addManifestUpdate("stream",r.type,r.requestStartDate,r.requestEndDate))},R=function(){-1!==y.indexOf(O)&&(y.splice(y.indexOf(O),1),E&&(A(!1),n>0?function(){n--;var i={config:t};_.push(i),i.timeout=setTimeout((,h.getRetryIntervalForType(r.type))}():(d.downloadError(b[r.type],r.url,r),d.error(new c.default(T[r.type],r.url+" is not available",{request:r,response:O.response})),t.error&&t.error(r,"error",O.response.statusText),t.complete&&t.complete(r,O.response.statusText))))},P=void 0;P=m&&window.fetch&&"arraybuffer"===r.responseType&&r.type===s.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,o.default)(u).create({requestModifier:p,boxParser:g}):(0,a.default)(u).create({requestModifier:p,boxParser:g});var I=p.modifyRequestURL(r.url),k=r.checkExistenceOnly?s.HTTPRequest.HEAD:s.HTTPRequest.GET,D=h.getXHRWithCredentialsForType(r.type);O={url:I,method:k,withCredentials:D,request:r,onload:onend:R,onerror:R,progress:onabort:loader:P};var M,L=(new Date).getTime();isNaN(r.delayLoadingTime)||L>=r.delayLoadingTime?(y.push(O),P.load(O)):(M={httpRequest:O},v.push(M),M.delayTimeout=setTimeout((,r.delayLoadingTime-L))}(e,h.getRetryAttemptsForType(e.request.type))},abort:function(){_.forEach((),_=[],v.forEach((function(e){return clearTimeout(e.delayTimeout)})),v=[],y.forEach((function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e),e.onabort()})),y=[]}},y=[],v=[],_=[],i(n={},s.HTTPRequest.MPD_TYPE,l.default.DOWNLOAD_ERROR_ID_MANIFEST),i(n,s.HTTPRequest.XLINK_EXPANSION_TYPE,l.default.DOWNLOAD_ERROR_ID_XLINK),i(n,s.HTTPRequest.INIT_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_INITIALIZATION),i(n,s.HTTPRequest.MEDIA_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT),i(n,s.HTTPRequest.INDEX_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT),i(n,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT),i(n,s.HTTPRequest.OTHER_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT),b=n,i(r={},s.HTTPRequest.MPD_TYPE,l.default.DOWNLOAD_ERROR_ID_MANIFEST_CODE),i(r,s.HTTPRequest.XLINK_EXPANSION_TYPE,l.default.DOWNLOAD_ERROR_ID_XLINK_CODE),i(r,s.HTTPRequest.INIT_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),i(r,s.HTTPRequest.MEDIA_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(r,s.HTTPRequest.INDEX_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(r,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(r,s.HTTPRequest.OTHER_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),T=r,t}d.__dashjs_factory_name="HTTPLoader";var f=u.default.getClassFactory(d);t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(86))&&r.__esModule?r:{default:r}).default));t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7)),a=r(n(9)),o=r(n(2)),s=r(n(22)),u=r(n(8));function l(e){e=e||{};var t=this.context,n=(0,i.default)(t).getInstance(),r=e.metricsModel,o=e.fragmentLoader,l=void 0,c=void 0,d=void 0,f=void 0,h=void 0;on b(e){e.sender===o&&(h.splice(h.indexOf(e.request),1),e.response&&!e.error&&f.push(e.request),_(e.request,e.error?"failed":"executed"),n.trigger(a.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function T(e){e.sender===o&&n.trigger(a.default.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this})}turn l={setStreamProcessor:function(e){d=e},getStreamProcessor:function(){return d},getRequests:function(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],n=[];return t.forEach((function(t){var r=function(e){var t=void 0;switch(e){case"loading":t=h;break;case"executed":t=f;break;default:t=[]}return t}(t);n=n.concat(r,e))})),n},isFragmentLoaded:p,isFragmentLoadedOrPending:removeExecutedRequestsBeforeTime:m,removeExecutedRequestsAfterTime:function(e){f=f.filter((function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime+t.duration<e}))},syncExecutedRequestsWithBufferedRange:abortRequests:executeRequest:function(e){switch(e.action){case s.default.ACTION_COMPLETE:f.push(e),_(e,"executed"),c.debug("executeRequest trigger STREAM_COMPLETED"),n.trigger(a.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case s.default.ACTION_DOWNLOAD:_(e,"loading"),h.push(e),function(e){n.trigger(a.default.FRAGMENT_LOADING_STARTED,{sender:l,request:e}),o.load(e)}(e);break;default:c.warn("Unknown request action.")}},reset:function(){n.off(a.default.LOADING_COMPLETED,b,this),n.off(a.default.LOADING_DATA_PROGRESS,T,this),n.off(a.default.LOADING_ABANDONED,E,this),o&&o.reset(),S()},addExecutedRequest:function(e){f.push(e)}},c=(0,u.default)(t).getInstance().getLogger(l),S(),n.on(a.default.LOADING_COMPLETED,b,l),n.on(a.default.LOADING_DATA_PROGRESS,T,l),n.on(a.default.LOADING_ABANDONED,E,l),l}l.__dashjs_factory_name="FragmentModel";var c=o.default.getClassFactory(l);c.FRAGMENT_MODEL_LOADING="loading",c.FRAGMENT_MODEL_EXECUTED="executed",c.FRAGMENT_MODEL_CANCELED="canceled",c.FRAGMENT_MODEL_FAILED="failed",o.default.updateClassFactory(l.__dashjs_factory_name,c),t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"extend",value:]),e}();t.default=i,e.exports=t.default},function(e,t,n){!t)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(87)),a=r(n(6)),o=r(n(26)),s=r(n(88)),u=r(n(39)),l=r(n(7)),c=r(n(9)),d=r(n(2)),f=r(n(164)),h=r(n(19)),p=r(n(165)),g=r(n(166)),m=r(n(167)),y=n(12),v=r(n(8)),_=n(27);function b(){var e=this.context,t=(0,v.default)(e).getInstance(),n=(0,l.default)(e).getInstance(),r=void 0,d=void 0,b=void 0,T=void 0,E=void 0,S=void 0,w=void 0,C=void 0,O=void 0,A=void 0,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0,L=void 0,N=void 0,x=void 0,F=void 0,U=void 0,B=void 0,j=void 0,G=void 0,H=void 0,V=void 0,q=void 0,K=void 0,z=void 0,Y=void 0;function W(){(b=(0,i.default)(e).create({metricsModel:K,dashMetrics:z,mediaPlayerModel:U,adapter:x})).initialize()}nction $(e){e.metric!==o.default.HTTP_REQUEST||!e.value||e.value.type!==y.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==a.default.AUDIO&&e.mediaType!==a.default.VIDEO||V.push(e.mediaType,e.value,Y),e.metric!==o.default.BUFFER_LEVEL||e.mediaType!==a.default.AUDIO&&e.mediaType!==a.default.VIDEO||function(e,t){var n=U.getABRStrategy();if(n!==a.default.ABR_STRATEGY_BOLA)if(n!==a.default.ABR_STRATEGY_THROUGHPUT){var r=U.getStableBufferTime(),i=r,o=.5*r,s=q[e],u=t>(s?o:i);q[e]=u,u!==s&&(u?d.info("AbrController ("+e+") switching from throughput to buffer occupancy ABR rule (buffer: "+t.toFixed(3)+")."):d.info("AbrController ("+e+") switching from buffer occupancy to throughput ABR rule (buffer: "+t.toFixed(3)+")."))}else q[e]=!1;else q[e]=!0}(e.mediaType,.001*e.value.level)}function J(e,t){return S[t]=S[t]||{},S[t].hasOwnProperty(e)||(S[t][e]=0),function(e,t){if(t!==a.default.VIDEO||!I||!A[t])return e;D||fe();var n=N.getValue(),r=x.getAdaptationForType(n,0,t).Representation,i=e;if(M>0&&L>0){for(;i>0&&r[i]&&M<r[i].width&&M-r[i-1].width<r[i].width-M;)i-=1;r.length-2>=i&&r[i].width===r[i+1].width&&(i=Math.min(e,i+1))}return i}(function(e,t,n){var r=re(t);return isNaN(r)||r>=1||r<0?e:Math.min(e,Math.round(n*r))}(function(e,t){var n=e;if(!A[t])return n;var r=ne(t);void 0!==r&&(n=Math.max(e,r));var i=te(t);return void 0!==i&&(n=Math.min(n,i)),n}(S[t][e],e),e,S[t][e]),e)}function Z(e){return C.hasOwnProperty("max")&&C.max.hasOwnProperty(e)?C.max[e]:NaN}nction ne(e){var t=ee(e);if(t){var n=A[e].getMediaInfo(),r=le(n),i=ue(n,t);return r[i]&&i<r.length-1&&r[i].bitrate<1e3*t&&i++,i}}unction ie(e){return E[e]}function ae(e,t,n,r){var i=t.id,a=de(e);(0,_.checkInteger)(n);var o=J(e,i);n!==a&&n>=0&&n<=o&&oe(e,a,n,o,r)}function oe(e,r,i,a,o){if(e&&A[e]){var s=A[e].getStreamInfo(),u=s?s.id:null;if(t.getLogToBrowserConsole()){var l=z.getCurrentBufferLevel(K.getReadOnlyMetricsFor(e));d.info("AbrController ("+e+") switch from "+r+" to "+i+"/"+a+" (buffer: "+l+") "+(o?JSON.stringify(o):"."))}!function(e,t,n){w[t]=w[t]||{},w[t][e]=n}(e,u,i),n.trigger(c.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:s,oldQuality:r,newQuality:i,reason:o})}}unction ue(e,t,n){var r=e&&e.type?A[e.type].getRepresentationInfo():null;if(Y&&n&&r&&r.fragmentDuration){n/=1e3;var i=r.fragmentDuration;if(n>i)return 0;t*=1-n/i}for(var a=le(e),o=a.length-1;o>=0;o--)if(1e3*t>=a[o].bitrate)return o;return 0}function le(e){var t=[];if(!e||!e.bitrateList)return t;for(var n=e.bitrateList,r=e.type,i=void 0,a=0,o=n.length;a<o;a++)(i=new s.default).mediaType=r,i.qualityIndex=a,i.bitrate=n[a].bandwidth,i.width=n[a].width,i.height=n[a].height,i.scanType=n[a].scanType,t.push(i);return t}unction de(e){if(e&&A[e]){var t=A[e].getStreamInfo(),n=t?t.id:null;if(n)return w[n]=w[n]||{},w[n].hasOwnProperty(e)||(w[n][e]=0),w[n][e]}return 0}unction he(t){var n=t.request.mediaType;if(ie(n)){var i=A[n];if(!i)return;var a=(0,f.default)(e).create({abrController:r,streamProcessor:i,currentRequest:t.request,useBufferOccupancyABR:ce(n)}),o=b.shouldAbandonFragment(a);if(o.quality>h.default.NO_CHANGE){var s=i.getFragmentModel();s.getRequests({state:u.default.FRAGMENT_MODEL_LOADING,index:t.request.index})[0]&&(s.abortRequests(),se(n,"abandonload"),G[n].reset(),G[n].push({oldValue:de(n,T.getActiveStreamInfo()),newValue:o.quality,confidence:1,reason:o.reason}),ae(n,T.getActiveStreamInfo(),o.quality,o.reason),clearTimeout(P),P=setTimeout((,U.getAbandonLoadTimeout()))}}}return r={isPlayingAtTopQuality:function(e){var t=e?e.id:null,n=de(a.default.AUDIO),r=de(a.default.VIDEO);return n===J(a.default.AUDIO,t)&&r===J(a.default.VIDEO,t)},updateTopQualityIndex:function(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return t,n,r),r},getThroughputHistory:function(){return V},getBitrateList:le,getQualityForBitrate:ue,getMaxAllowedBitrateFor:Z,getTopBitrateInfoFor:function(e){if(e&&A&&A[e]){var t=A[e].getStreamInfo();if(t&&t.id){var n=J(e,t.id),r=le(A[e].getMediaInfo());return r[n]?r[n]:null}}return null},getMinAllowedBitrateFor:ee,setMaxAllowedBitrateFor:function(e,t){(0,_.checkParameterType)(t,"number"),(0,_.checkIsVideoOrAudioType)(e),C.max=C.max||{},C.max[e]=t},setMinAllowedBitrateFor:function(e,t){(0,_.checkParameterType)(t,"number"),(0,_.checkIsVideoOrAudioType)(e),C.min=C.min||{},C.min[e]=t},getMaxAllowedIndexFor:te,getMinAllowedIndexFor:ne,getMaxAllowedRepresentationRatioFor:re,setMaxAllowedRepresentationRatioFor:getInitialBitrateFor:function(e){!function(){if(!B||!B.hasOwnProperty("getSavedBitrateSettings"))throw new Error(a.default.MISSING_CONFIG_ERROR)}();var t=B.getSavedBitrateSettings(e);if(!C.hasOwnProperty(e))if(O.hasOwnProperty(e)){var n=N.getValue(),r=x.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*O[e])-1,0);C[e]=r[i].bandwidth}else C[e]=0}else isNaN(t)?C[e]=e===a.default.VIDEO?1e3:100:C[e]=t;return C[e]},setInitialBitrateFor:function(e,t){(0,_.checkIsVideoOrAudioType)(e),(0,_.checkParameterType)(t,"number"),C[e]=t},getInitialRepresentationRatioFor:function(e){return O.hasOwnProperty(e)?O[e]:null},setInitialRepresentationRatioFor:function(e,t){O[e]=t},setAutoSwitchBitrateFor:function(e,t){(0,_.checkParameterType)(t,"boolean"),(0,_.checkIsVideoOrAudioType)(e),E[e]=t},getAutoSwitchBitrateFor:ie,getUseDeadTimeLatency:function(){return Y},setUseDeadTimeLatency:function(e){(0,_.checkParameterType)(e,"boolean"),Y=e},setLimitBitrateByPortal:function(e){(0,_.checkParameterType)(e,"boolean"),I=e},getLimitBitrateByPortal:function(){return I},getUsePixelRatioInLimitBitrateByPortal:function(){return k},setUsePixelRatioInLimitBitrateByPortal:function(e){(0,_.checkParameterType)(e,"boolean"),k=e},getQualityFor:de,getAbandonmentStateFor:setPlaybackQuality:ae,checkPlaybackQuality:function(n){if(n&&A&&A[n]){var i=A[n].getStreamInfo(),a=i?i.id:null,o=de(n),s=(0,f.default)(e).create({abrController:r,streamProcessor:A[n],currentValue:o,switchHistory:G[n],droppedFramesHistory:H,useBufferOccupancyABR:ce(n)});if(H){var u=F.getPlaybackQuality();u&&H.push(j,u)}if(ie(n)){var l=ne(n),c=J(n,a),p=b.getMaxQuality(s),g=p.quality;if(void 0!==l&&g<l&&(g=l),g>c&&(g=c),G[n].push({oldValue:o,newValue:g}),g>h.default.NO_CHANGE&&g!=o)("allowload"===R[n].state||g>o)&&oe(n,o,g,c,p.reason);else if(t.getLogToBrowserConsole()){var m=z.getCurrentBufferLevel(K.getReadOnlyMetricsFor(n));d.debug("AbrController ("+n+") stay on "+o+"/"+c+" (buffer: "+m+")")}}}},getTopQualityIndexFor:J,setElementSize:fe,setWindowResizeEventCalled:function(e){D=e},createAbrRulesCollection:W,registerStreamType:function(t,r){G[t]=(0,p.default)(e).create(),A[t]=r,R[t]=R[t]||{},R[t].state="allowload",q[t]=!1,n.on(c.default.LOADING_PROGRESS,he,this),t==a.default.VIDEO&&(n.on(c.default.QUALITY_CHANGE_RENDERED,Q,this),H=(0,g.default)(e).create(),fe()),n.on(c.default.METRIC_ADDED,$,this),n.on(c.default.PERIOD_SWITCH_COMPLETED,W,this),V=(0,m.default)(e).create({mediaPlayerModel:U})},unRegisterStreamType:setConfig:reset:function(){X(),n.off(c.default.LOADING_PROGRESS,he,this),n.off(c.default.QUALITY_CHANGE_RENDERED,Q,this),n.off(c.default.METRIC_ADDED,$,this),n.off(c.default.PERIOD_SWITCH_COMPLETED,W,this),b&&b.reset()}},d=t.getLogger(r),X(),r}b.__dashjs_factory_name="AbrController";var T=d.default.getSingletonFactory(b);T.ABANDON_LOAD="abandonload",T.QUALITY_DEFAULT=0,d.default.updateSingletonFactory(b.__dashjs_factory_name,T),t.default=T,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};.__dashjs_factory_name="RequestModifier",t.default=i.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=);t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return t,e),t}(((r=n(40))&&r.__esModule?r:{default:r}).default));t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(29)),a=r(n(269)),o=r(n(270)),s=r(n(271)),u=r(n(272)),l=r(n(273)),c=r(n(274)),d=r(n(275)),f=r(n(276)),h=r(n(25));function p(){var e=this.context,t=void 0,n=void 0,r=void 0,p=void 0,g=void 0,m=void 0,y=void 0;return t={initialize:function(){p=[];var t=void 0;t=(0,u.default)(e).getInstance({BASE64:g}),p.push(t),t=(0,s.default)(e).getInstance({BASE64:g}),p.push(t),t=(0,a.default)(e).getInstance({BASE64:g}),p.push(t),m=t,t=(0,o.default)(e).getInstance({BASE64:g,debug:n}),p.push(t),y=t},setProtectionData:isClearKey:initDataEquals:getKeySystems:function(){return p},getKeySystemBySystemString:getSupportedKeySystemsFromContentProtection:function(e){var t=void 0,n=void 0,r=void 0,i=void 0,a=[];if(e)for(r=0;r<p.length;++r)for(n=p[r],i=0;i<e.length;++i)if((t=e[i]).schemeIdUri.toLowerCase()===n.schemeIdURI){var o=n.getInitData(t);o?a.push({ks:p[r],initData:o,cdmData:n.getCDMData(),sessionId:n.getSessionId(t)}):this.isClearKey(n)&&a.push({ks:n,initData:null})}return a},getSupportedKeySystems:function(e,t){for(var n=[],r=i.default.parsePSSHList(e),a=void 0,o=void 0,s=void 0,u=0;u<p.length;++u)o=(a=p[u]).systemString,s=!t||o in t,a.uuid in r&&s&&n.push({ks:a,initData:r[a.uuid],cdmData:a.getCDMData(),sessionId:a.getSessionId()});return n},getLicenseServer:function(t,n,r){if("license-release"===r||"individualization-request"===r)return null;var i=null;return n&&n.hasOwnProperty("drmtoday")?i=(0,l.default)(e).getInstance({BASE64:g}):t.systemString===h.default.WIDEVINE_KEYSTEM_STRING?i=(0,d.default)(e).getInstance():t.systemString===h.default.PLAYREADY_KEYSTEM_STRING?i=(0,c.default)(e).getInstance():t.systemString===h.default.CLEARKEY_KEYSTEM_STRING&&(i=(0,f.default)(e).getInstance()),i},processClearKeyLicenseRequest:setConfig:}p.__dashjs_factory_name="ProtectionKeyController",t.default=dashjs.FactoryMaker.getSingletonFactory(p),e.exports=t.default},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r);function a(t){for(var n=t),r=new Uint8Array(n.length),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}}).call(this,n(32).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(2)),o=r(n(132)),s=r(n(54)),u=r(n(155)),l=r(n(156)),c=r(n(7)),d=r(n(9)),f=n(27);function h(){var e=this.context,t=void 0,n=void 0,r=void 0,a=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,E=void 0,S=void 0,w=void 0,C=void 0;function O(e){var t=this,n=e.tracks,r=e.index;n.some((),S||this.setTextTrack(-1),E=r,b.trigger(d.default.TEXT_TRACKS_ADDED,{enabled:A(),index:r,tracks:n})}turn t={setConfig:function(e){e&&(e.errHandler&&(r=e.errHandler),e.dashManifestModel&&(a=e.dashManifestModel),e.manifestModel&&(h=e.manifestModel),e.mediaController&&(p=e.mediaController),e.videoModel&&(g=e.videoModel),e.streamController&&(m=e.streamController),e.textTracks&&(y=e.textTracks),e.vttParser&&(v=e.vttParser),e.ttmlParser&&(_=e.ttmlParser),n.setConfig({errHandler:r,dashManifestModel:a,manifestModel:h,mediaController:p,videoModel:g,streamController:m,textTracks:y,vttParser:v,ttmlParser:_}))},getTextSourceBuffer:function(){return n},getAllTracksAreDisabled:function(){return w},addEmbeddedTrack:function(e){n.addEmbeddedTrack(e)},getTextDefaultLanguage:function(){return T},setTextDefaultLanguage:function(e){(0,f.checkParameterType)(e,"string"),T=e},setTextDefaultEnabled:function(e){(0,f.checkParameterType)(e,"boolean"),(S=e)||this.setTextTrack(-1)},getTextDefaultEnabled:function(){return S},enableText:function(e){(0,f.checkParameterType)(e,"boolean"),A()!==e&&(e&&this.setTextTrack(E),e||(E=this.getCurrentTrackIdx(),this.setTextTrack(-1)))},isTextEnabled:A,setTextTrack:function(e){var t=n.getConfig(),r=t.fragmentModel,a=t.fragmentedTracks,o=t.videoModel,s=void 0,u=void 0;w=-1===e;var l=y.getCurrentTrackIdx();if(l!==e){y.setModeForTrackIdx(l,i.default.TEXT_HIDDEN),y.setCurrentTrackIdx(e),y.setModeForTrackIdx(e,i.default.TEXT_SHOWING);var c=y.getCurrentTrackInfo();if(c&&c.isFragmented&&!c.isEmbedded)for(var d=0;d<a.length;d++){var f=a[d];if(c.lang===f.lang&&c.index===f.index&&(f.id?c.id===f.id:c.id===f.index))if(f!==p.getCurrentTrackFor(i.default.FRAGMENTED_TEXT,m.getActiveStreamInfo()))r.abortRequests(),r.removeExecutedRequestsBeforeTime(),n.remove(),y.deleteCuesFromTrackIdx(l),p.setTrack(f),n.setCurrentFragmentedTrackIdx(d);else if(-1===l){for(var h=m.getActiveStreamProcessors(),g=0;g<h.length;g++)if(h[g].getType()===i.default.FRAGMENTED_TEXT){u=h[g];break}u.getIndexHandler().setCurrentTime(o.getTime()),u.getScheduleController().start()}}else if(c&&!c.isFragmented){for(h=m.getActiveStreamProcessors(),d=0;d<h.length;d++)if(h[d].getType()===i.default.TEXT){s=(u=h[d]).getMediaInfoArr();break}if(u&&s)for(d=0;d<s.length;d++)if(s[d].index===c.index&&s[d].lang===c.lang){u.selectMediaInfo(s[d]);break}}}},getCurrentTrackIdx:function(){return y.getCurrentTrackIdx()},enableForcedTextStreaming:function(e){(0,f.checkParameterType)(e,"boolean"),C=e},reset:,T="",E=-1,S=!0,C=!1,y=(0,s.default)(e).getInstance(),v=(0,u.default)(e).getInstance(),_=(0,l.default)(e).getInstance(),n=(0,o.default)(e).getInstance(),b=(0,c.default)(e).getInstance(),y.initialize(),b.on(d.default.TEXT_TRACKS_QUEUE_INITIALIZED,O,t),R(),t}h.__dashjs_factory_name="TextController",t.default=a.default.getSingletonFactory(h),e.exports=t.default},function(e,t,n){var r={parseBuffer:addBoxProcessor:createFile:createBox:createFullBox:Utils:{}};r.Utils.dataViewToString=r.Utils.utf8ToByteArray=r.Utils.appendBox=t.parseBuffer=r.parseBuffer,t.addBoxProcessor=r.addBoxProcessor,t.createFile=r.createFile,t.createBox=r.createBox,t.createFullBox=r.createFullBox,t.Utils=r.Utils,r.Cursor=var i=i.prototype.fetch=i.prototype.fetchAll=i.prototype.parse=i._sweep=i.prototype.write=i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var a=a.parse=a.create=a.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],a.prototype._boxProcessors={},a.prototype._procField=a.prototype._procFieldArray=a.prototype._procFullBox=a.prototype._procEntries=a.prototype._procSubEntries=a.prototype._procEntryField=a.prototype._procSubBoxes=a.prototype._readField=a.prototype._readInt=a.prototype._readUint=a.prototype._readString=a.prototype._readTemplate=a.prototype._readTerminatedString=a.prototype._readData=a.prototype._readUTF8String=a.prototype._parseBox=a.prototype._parseFullBox=a.prototype._parseContainerBox=a.prototype.append=a.prototype.getLength=a.prototype.write=a.prototype._writeInt=a.prototype._writeUint=a.prototype._writeString=a.prototype._writeTerminatedString=a.prototype._writeTemplate=a.prototype._writeData=a.prototype._writeUTF8String=a.prototype._writeField=a.prototype._boxProcessors.avc1=a.prototype._boxProcessors.encv=a.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},a.prototype._boxProcessors.elst=a.prototype._boxProcessors.emsg=a.prototype._boxProcessors.free=a.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},a.prototype._boxProcessors.frma=a.prototype._boxProcessors.ftyp=a.prototype._boxProcessors.styp=a.prototype._boxProcessors.hdlr=a.prototype._boxProcessors.mdat=a.prototype._boxProcessors.mdhd=a.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},a.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},a.prototype._boxProcessors.mfro=a.prototype._boxProcessors.mp4a=a.prototype._boxProcessors.enca=a.prototype._boxProcessors.mvhd=a.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},a.prototype._boxProcessors.pssh=a.prototype._boxProcessors.schm=a.prototype._boxProcessors.sdtp=a.prototype._boxProcessors.sidx=a.prototype._boxProcessors.smhd=a.prototype._boxProcessors.ssix=a.prototype._boxProcessors.stsd=a.prototype._boxProcessors.subs=a.prototype._boxProcessors.tenc=a.prototype._boxProcessors.tfdt=a.prototype._boxProcessors.tfhd=a.prototype._boxProcessors.tfra=a.prototype._boxProcessors.tkhd=a.prototype._boxProcessors.trex=a.prototype._boxProcessors.trun=a.prototype._boxProcessors["url "]=a.prototype._boxProcessors["urn "]=a.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},a.prototype._boxProcessors.vmhd=a.prototype._boxProcessors.vttC=a.prototype._boxProcessors.vtte=function(){}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(7)),o=r(n(9)),s=r(n(2)),u=r(n(8)),l=n(80);function c(){var e=this.context,t=(0,a.default)(e).getInstance(),n=void 0,r=void 0,s=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,E=void 0,S=void 0;function w(e){var t=d[e].kind,n=void 0!==d[e].id?d[e].id:d[e].lang,r=d[e].lang,i=d[e].isTTML,a=d[e].isEmbedded,o=c.addTextTrack(t,n,r);return o.isEmbedded=a,o.isTTML=i,o}unction O(e,n){var r=c.getClientWidth(),i=c.getClientHeight(),a=c.getVideoWidth(),s=c.getVideoHeight(),u=c.getVideoRelativeOffsetTop(),l=c.getVideoRelativeOffsetLeft(),d=a/s,f=!1;e.isFromCEA608&&(d=3.5/3,f=!0);var h=C.call(this,r,i,a,s,d,f),_=h.w,E=h.h,w=h.x,O=h.y;if(_!=m||E!=y||w!=p||O!=g||n){if(p=w+l,g=O+u,m=_,y=E,v){var A=v.style;A.left=p+"px",A.top=g+"px",A.width=m+"px",A.height=y+"px",A.zIndex=b&&document[b]||T?S:null,t.trigger(o.default.CAPTION_CONTAINER_RESIZE,{})}var R=e.activeCues;if(R)for(var P=R.length,I=0;I<P;++I){var k=R[I];k.scaleCue(k)}}}function A(e){var t=m,n=y,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0;if(e.cellResolution){var u=[t/e.cellResolution[0],n/e.cellResolution[1]];if(e.linePadding)for(r in e.linePadding)if(e.linePadding.hasOwnProperty(r)){i=(e.linePadding[r]*u[0]).toString();for(var l=document.getElementsByClassName("spanPadding"),c=0;c<l.length;c++)l[c].style.cssText=l[c].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i),l[c].style.cssText=l[c].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.fontSize){for(r in e.fontSize)if(e.fontSize.hasOwnProperty(r)){"%"===e.fontSize[r][0]?a=e.fontSize[r][1]/100:"c"===e.fontSize[r][0]&&(a=e.fontSize[r][1]),i=(a*u[1]).toString(),s="defaultFontSize"!==r?document.getElementsByClassName(r):document.getElementsByClassName("paragraph");for(var d=0;d<s.length;d++)s[d].style.cssText=s[d].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.lineHeight)for(r in e.lineHeight)if(e.lineHeight.hasOwnProperty(r)){"%"===e.lineHeight[r][0]?o=e.lineHeight[r][1]/100:"c"===e.fontSize[r][0]&&(o=e.lineHeight[r][1]),i=(o*u[1]).toString(),s=document.getElementsByClassName(r);for(var f=0;f<s.length;f++)s[f].style.cssText=s[f].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}}if(e.isd){var h=document.getElementById(e.cueID);h&&v.removeChild(h),R(e)}}function R(e){if(v){var n=document.createElement("div");v.appendChild(n),E=(0,l.renderHTML)(e.isd,n,(function(t){var n=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,r=/^#(.*)$/;if(n.test(t)){var i=n.exec(t),a=parseInt(i[4],10)-1;return"data:image/png;base64,"+btoa(e.images[a])}return r.test(t)?(a=(i=r.exec(t))[1],"data:image/png;base64,"+e.embeddedImages[a]):null}),v.clientHeight,v.clientWidth,!1,(function(e){r.info("renderCaption :",e)}),E,!0),n.id=e.cueID,t.trigger(o.default.CAPTION_RENDERED,{captionDiv:n,currentTrackIdx:h})}}unction I(e){if(e!==h){var t=P(h=e);k.call(this,t),_&&(clearInterval(_),_=null),t&&"html"===t.renderingType&&(O.call(this,t,!0),_=setInterval(O.bind(this,t),500))}}unction D(e){if(e.cues)for(var t=e.cues,n=t.length-1;n>=0;n--)e.removeCue(t[n])}urn n={initialize:displayCConTop:function(e){T=e,v&&!document[b]&&(v.style.zIndex=e?S:null)},addTextTrack:function(e,n){if(d.length!==n){if(d.push(e),d.length===n){d.sort((function(e,t){return e.index-t.index})),v=c.getTTMLRenderingDiv();for(var a=-1,s=0;s<d.length;s++){var u=w.call(this,s);f.push(u),d[s].defaultTrack&&(u.default=!0,a=s);var l=P(s);l&&(l.mode=i.default.TEXT_SHOWING,v&&(d[s].isTTML||d[s].isEmbedded)?l.renderingType="html":l.renderingType="default"),this.addCaptions(s,0,d[s].captionData),t.trigger(o.default.TEXT_TRACK_ADDED)}if(I.call(this,a),a>=0)for(var p=0;p<d.length;p++){var g=P(p);g&&(g.mode=p===a?i.default.TEXT_SHOWING:i.default.TEXT_HIDDEN)}t.trigger(o.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:h,tracks:d})}}else r.error("Trying to add too many tracks.")},addCaptions:function(e,n,a){var u=P(e),l=this;if(u&&a&&0!==a.length)for(var c=0;c<a.length;c++){var d=void 0,f=a[c];u.cellResolution=f.cellResolution,u.isFromCEA608=f.isFromCEA608,"html"===f.type&&v?((d=new s(f.start-n,f.end-n,"")).cueHTMLElement=f.cueHTMLElement,d.isd=f.isd,d.images=f.images,d.embeddedImages=f.embeddedImages,d.cueID=f.cueID,d.scaleCue=A.bind(l),d.cellResolution=f.cellResolution,d.lineHeight=f.lineHeight,d.linePadding=f.linePadding,d.fontSize=f.fontSize,v.style.left=p+"px",v.style.top=g+"px",v.style.width=m+"px",v.style.height=y+"px",d.onenter=d.onexit=function(){if(v)for(var e=v.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(r.debug("Cue exit id:"+e[t].id),v.removeChild(e[t]))}):f.data&&(d=new s(f.start-n,f.end-n,f.data),f.styles&&(void 0!==f.styles.align&&"align"in d&&(d.align=f.styles.align),void 0!==f.styles.line&&"line"in d&&(d.line=f.styles.line),void 0!==f.styles.position&&"position"in d&&(d.position=f.styles.position),void 0!==f.styles.size&&"size"in d&&(d.size=f.styles.size)),d.onenter=;try{d?u.addCue(d):r.error("impossible to display subtitles.")}catch(e){throw D(u),u.addCue(d),e}}},getCurrentTrackIdx:function(){return h},setCurrentTrackIdx:I,getTrackIdxForId:getCurrentTrackInfo:function(){return d[h]},setModeForTrackIdx:deleteCuesFromTrackIdx:deleteAllTextTracks:function(){for(var e=f?f.length:0,t=0;t<e;t++){var n=P(t);n&&(D.call(this,n),n.mode="disabled")}f=[],d=[],_&&(clearInterval(_),_=null),h=-1,N.call(this)},deleteTextTrack:setConfig:function(e){e&&e.videoModel&&(c=e.videoModel)}},r=(0,u.default)(e).getInstance().getLogger(n),n}c.__dashjs_factory_name="TextTracks",t.default=s.default.getSingletonFactory(c),e.exports=t.default},function(e,t,n){!function(e,t,n){or(var i in e.all=[new r(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,n.parseColor,null),new r(t.ns_tts,"color","white",["span"],!0,!0,n.parseColor,null),new r(t.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"displayAlign","before",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null}),(function(e,t,r,i,a){var o,s;if("auto"===i)o=new n.ComputedLength(0,1);else if(null===(o=n.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new n.ComputedLength(1,0);else if(null===(s=n.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:o,w:s}})),new r(t.ns_tts,"fontFamily","default",["span","p"],!0,!0,(,null),new r(t.ns_tts,"shear","0%",["p"],!0,!0,n.parseLength,(),new r(t.ns_tts,"fontSize","1c",["span","p"],!0,!0,n.parseLength,(),new r(t.ns_tts,"fontStyle","normal",["span","p"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"fontWeight","normal",["span","p"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"lineHeight","normal",["p"],!0,!0,(,(),new r(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new r(t.ns_tts,"origin","auto",["region"],!1,!0,(,(),new r(t.ns_tts,"overflow","hidden",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"padding","0px",["region"],!1,!0,(,(),new r(t.ns_tts,"position","top left",["region"],!1,!0,(function(e){return n.parsePosition(e)}),(),new r(t.ns_tts,"ruby","none",["span"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"rubyAlign","center",["span"],!0,!0,(,null),new r(t.ns_tts,"rubyPosition","outside",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"rubyReserve","none",["p"],!0,!0,(,(function(t,r,i,a,o){if("none"===a[0])return a;var s=null;return null===(s=null===a[1]?new n.ComputedLength(.5*i.styleAttrs[e.byName.fontSize.qname].rw,.5*i.styleAttrs[e.byName.fontSize.qname].rh):n.toComputedLength(a[1].value,a[1].unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h))?null:[a[0],s]})),new r(t.ns_tts,"showBackground","always",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"textAlign","start",["p"],!0,!0,(function(e){return e}),(),new r(t.ns_tts,"textCombine","none",["span"],!0,!0,(,null),new r(t.ns_tts,"textDecoration","none",["span"],!0,!0,(function(e){return e.split(" ")}),null),new r(t.ns_tts,"textEmphasis","none",["span"],!0,!0,(,null),new r(t.ns_tts,"textOutline","none",["span"],!0,!0,(,(),new r(t.ns_tts,"textShadow","none",["span"],!0,!0,n.parseTextShadow,(),new r(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"zIndex","auto",["region"],!1,!0,(,null),new r(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,n.parseLength,(),new r(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(e){return e}),null),new r(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(e){return e}),null),new r(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(e){return"true"===e}),null),new r(t.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(e){return"true"===e}),null)],e.byQName={},e.all)e.byQName[e.all[i].qname]=e.all[i];for(var a in e.byName={},e.all)e.byName[e.all[a].name]=e.all[a]}(t,"undefined"==typeof imscNames?n(41):imscNames,"undefined"==typeof imscUtils?n(42):imscUtils)},function(e,t,n){"use strict";(function(t,r,i){var a=n(44);.exports=v;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;v.WritableState=y;var l=Object.create(n(34));l.inherits=n(28);var c,d={deprecate:n(146)},f=n(82),h=n(58).Buffer,p=i.Uint8Array||function(){},g=n(83);function m(){}ts(v,f),y.prototype.getBuffer=),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:)):c=v.prototype.pipe=v.prototype.write=v.prototype.cork=v.prototype.uncork=v.prototype.setDefaultEncoding=Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=v.prototype._writev=null,v.prototype.end=Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=).call(this,n(43),n(144).setImmediate,n(18))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(9)),o=r(n(7)),s=r(n(2)),u=r(n(8));function l(){var e=this.context,t=(0,o.default)(e).getInstance(),n=void 0,r=void 0,s=void 0,l=void 0,c=void 0,d=void 0,f=void 0,h=["alwaysReplace","neverReplace"],p=["highestBitrate","widestRange"];nction y(e){if(e&&e.streamInfo){var n=e.type,r=e.streamInfo,i=r.id,o=m(n,r);if(s[i]&&s[i][n]&&!E(e,o)){s[i][n].current=e,s[i][n].current&&t.trigger(a.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:o,newMediaInfo:e,switchMode:d[n]});var u=e);u&&s[i][n].storeLastSettings&&(u.roles&&(u.role=u.roles[0],delete u.roles),u.accessibility&&(u.accessibility=u.accessibility[0]),u.audioChannelConfiguration&&(u.audioChannelConfiguration=u.audioChannelConfiguration[0]),f.setSavedMediaSettings(n,u))}}}ion S(){s={},l={audio:null,video:null},d={audio:"alwaysReplace",video:"neverReplace"}}unction C(e){var t=b(),n=[],i=function(e){var t=0,n=[],r=void 0;return e.forEach((),n},a=function(e){var t=0,n=[],r=void 0;return e.forEach((),n};switch(t){case"highestBitrate":(n=i(e)).length>1&&(n=a(n));break;case"widestRange":(n=a(e)).length>1&&(n=i(e));break;default:r.warn("Track selection mode is not supported: "+t)}return n[0]}return n={checkInitialMediaSettingsForType:function(e,t){var n=_(e),r=g(e,t),a=[];e!==i.default.FRAGMENTED_TEXT?(n||v(e,n=f.getSavedMediaSettings(e)),r&&0!==r.length&&(n&&r.forEach((),0===a.length?y(C(r)):a.length>1?y(C(a)):y(a[0]))):y(r[0])},addTrack:getTracksFor:g,getCurrentTrackFor:m,isCurrentTrack:setTrack:y,setInitialSettings:v,getInitialSettings:_,setSwitchMode:function(e,t){-1!==h.indexOf(t)?d[e]=t:r.warn("Track switch mode is not supported: "+t)},getSwitchMode:function(e){return d[e]},setSelectionModeForInitialTrack:function(e){-1!==p.indexOf(e)?c=e:r.warn("Track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:b,isMultiTrackSupportedByType:T,isTracksEqual:E,setConfig:function(e){e&&e.domStorage&&(f=e.domStorage)},reset:S},r=(0,u.default)(e).getInstance().getLogger(n),S(),n}l.__dashjs_factory_name="MediaController";var c=s.default.getSingletonFactory(l);c.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",c.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",c.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",c.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",c.DEFAULT_INIT_TRACK_SELECTION_MODE="highestBitrate",s.default.updateSingletonFactory(l.__dashjs_factory_name,c),t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};.__dashjs_factory_name="InitCache",t.default=i.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=n(15))&&r.__esModule?r:{default:r},o=function(){eturn i(e,null,[{key:"hasInitialization",value:,{key:"hasSegments",value:]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).requestModifier;return{load:function(e){var n=new Date,r=e.request,i=new XMLHttpRequest;i.open(e.method,e.url,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=n),t&&(i=t.modifyRequestHeader(i)),i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.send(),e.response=i},abort:}a.__dashjs_factory_name="XHRLoader";var o=i.default.getClassFactory(a);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keyID=t,this.key=n},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){eturn r(e,[{key:"toJWK",value:]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initData=t,this.initDataType=n},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";var r=n(0),i=n(16),a=n(118);ttpHandler=n(119),e.exports=s,e.exports.default=s,s.XMLHttpRequest=r.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:r.XDomainRequest,["get","put","post","patch","head","delete"],()},function(e,t,n){var r=n(38).NAMESPACE;ction s(e,t){for(var n in e)t[n]=e[n]}ar l={},c=l.ELEMENT_NODE=1,d=l.ATTRIBUTE_NODE=2,f=l.TEXT_NODE=3,h=l.CDATA_SECTION_NODE=4,p=l.ENTITY_REFERENCE_NODE=5,g=l.ENTITY_NODE=6,m=l.PROCESSING_INSTRUCTION_NODE=7,y=l.COMMENT_NODE=8,v=l.DOCUMENT_NODE=9,_=l.DOCUMENT_TYPE_NODE=10,b=l.DOCUMENT_FRAGMENT_NODE=11,T=l.NOTATION_NODE=12,E={},S={},w=(E.INDEX_SIZE_ERR=(S[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2),E.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3)),C=(E.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7),E.NOT_FOUND_ERR=(S[8]="Not found",8)),O=(E.NOT_SUPPORTED_ERR=(S[9]="Not supported",9),E.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10));unction R(){}nction k(){}ction N(){}function x(){}nction B(){}tion q(){this._nsMap={}}function K(){}function z(){}function Y(){}function W(){}function X(){}function Q(){}function $(){}function J(){}function Z(){}function ee(){}function te(){}function ne(){}ALID_STATE_ERR=(S[11]="Invalid state",11),E.SYNTAX_ERR=(S[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),E.NAMESPACE_ERR=(S[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(S[15]="Invalid access",15),A.prototype=Error.prototype,s(E,A),R.prototype={length:0,item:toString:,P.prototype.item=u(P,R),k.prototype={length:0,item:R.prototype.item,getNamedItem:setNamedItem:setNamedItemNS:removeNamedItem:removeNamedItemNS:getNamedItemNS:,N.prototype={hasFeature:createDocument:createDocumentType:,x.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:replaceChild:removeChild:appendChild:hasChildNodes:cloneNode:normalize:isSupported:hasAttributes:lookupPrefix:lookupNamespaceURI:isDefaultNamespace:,s(l,x),s(l,x.prototype),B.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:removeChild:importNode:getElementById:getElementsByClassName:createElement:createDocumentFragment:createTextNode:function(e){var t=new Y;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:createProcessingInstruction:createAttribute:createEntityReference:createElementNS:createAttributeNS:,u(B,x),q.prototype={nodeType:c,hasAttribute:getAttribute:getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:removeAttributeNS:hasAttributeNS:getAttributeNS:setAttributeNS:getAttributeNodeNS:getElementsByTagName:getElementsByTagNameNS:,B.prototype.getElementsByTagName=q.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=q.prototype.getElementsByTagNameNS,u(q,x),K.prototype.nodeType=d,u(K,x),z.prototype={data:"",substringData:appendData:insertData:appendChild:deleteData:replaceData:,u(z,x),Y.prototype={nodeName:"#text",nodeType:f,splitText:,u(Y,z),W.prototype={nodeName:"#comment",nodeType:y},u(W,z),X.prototype={nodeName:"#cdata-section",nodeType:h},u(X,z),Q.prototype.nodeType=_,u(Q,x),$.prototype.nodeType=T,u($,x),J.prototype.nodeType=g,u(J,x),Z.prototype.nodeType=p,u(Z,x),ee.prototype.nodeName="#document-fragment",ee.prototype.nodeType=b,u(ee,x),te.prototype.nodeType=m,u(te,x),ne.prototype.serializeToString=x.prototype.toString=re;try{Object.defineProperty&&(Object.defineProperty(P.prototype,"length",{get:),Object.defineProperty(x.prototype,"textContent",{get:set:),se=}catch(e){}t.DocumentType=Q,t.DOMException=A,t.DOMImplementation=N,t.Element=q,t.Node=x,t.NodeList=R,t.XMLSerializer=ne},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(26)),o=r(n(130)),s=r(n(168)),u=r(n(61)),l=r(n(93)),c=r(n(203)),d=r(n(215)),f=r(n(216)),h=r(n(54)),p=r(n(46)),g=r(n(52)),m=r(n(217)),y=r(n(219)),v=r(n(220)),_=r(n(221)),b=r(n(45)),T=r(n(231)),E=r(n(232)),S=r(n(8)),w=r(n(11)),C=r(n(7)),O=r(n(9)),A=r(n(92)),R=r(n(2)),P=n(100),I=r(n(233)),k=r(n(238)),D=r(n(243)),M=r(n(245)),L=n(12),N=r(n(246)),x=r(n(53)),F=r(n(10)),U=n(27);function B(){var e="You must first call initialize() and set a source before calling this method",t="You must first call initialize() and set a valid source and view before calling this method",n="You must first call attachView() to set the video element before calling this method",r="You must first call attachSource() with a valid source before calling this method",B=this.context,j=(0,C.default)(B).getInstance(),G=(0,S.default)(B).getInstance(),H=void 0,V=void 0,q=void 0,K=void 0,z=void 0,Y=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,de=void 0,fe=void 0,he=void 0,pe=void 0,ge=void 0;ction _e(e){var t=Le();if(!t)return 0;var n=ue.getLiveDelay(),r=t.range.start+e;return r>t.range.end-n&&(r=t.range.end-n),r}unction Te(){if(!W)throw t;var e=Oe().duration;if(ue.getIsDynamic()){var n,r=Le();if(!r)return 0;e=(n=r.range.end-r.range.start)<r.manifestInfo.DVRWindowSize?n:r.manifestInfo.DVRWindowSize}return e}unction Se(){ie.restoreDefaultUTCTimingSources()}function we(){return le}function Ce(e){return re.getReadOnlyMetricsFor(e)}unction Ae(e){if(!z)throw"MediaPlayer not initialized!";fe.setElement(e),e&&(Me(),function(){if(!ee){var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(B).create();ee=t.createMetricsReporting({debug:G,eventBus:j,mediaElement:Oe(),dashManifestModel:ce,metricsModel:re,events:O.default,constants:i.default,metricsConstants:a.default})}}}(),function(){if(!te){var e=dashjs.MssHandler;"function"==typeof e&&(w.default.extend(e.errors),te=e(B).create({eventBus:j,mediaPlayerModel:ie,metricsModel:re,manifestModel:de,playbackController:ue,protectionController:Z,baseURLController:(0,l.default)(B).getInstance(),errHandler:ae,events:O.default,constants:i.default,debug:G,initSegmentType:L.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:N.default,ISOBoxer:x.default}))}}(),se&&se.switchToVideoElement()),W&&ke(),xe()}unction Pe(e){if(!z)throw"MediaPlayer not initialized!";"string"==typeof e&&pe.initialize(e),q=e,(Y||W)&&ke(),me()&&xe()}unction ke(){W=!1,Y=!1,ne.reset(),se.reset(),ue.reset(),Q.reset(),J.reset(),he.reset(),Z&&(ie.getKeepProtectionMediaKeys()?Z.stop():(Z.reset(),Z=null,Me()))}unction Me(){if(Z)return Z;var e=dashjs.Protection;if("function"==typeof e){var t=e(B).create();return O.default.extend(e.events),A.default.extend(e.events,{publicOnly:!0}),w.default.extend(e.errors),oe||(oe=(0,f.default)(B).getInstance()),Z=t.createProtectionSystem({debug:G,errHandler:ae,videoModel:fe,capabilities:oe,eventBus:j,events:O.default,BASE64:N.default,constants:i.default})}return null}nction xe(){var e;!Y&&q&&(Y=!0,V.info("Streaming Initialized"),e=De(),se||(se=(0,s.default)(B).getInstance()),J.setConfig({domStorage:ge}),se.setConfig({capabilities:oe,manifestLoader:e,manifestModel:de,dashManifestModel:ce,mediaPlayerModel:ie,protectionController:Z,adapter:ne,metricsModel:re,dashMetrics:le,errHandler:ae,timelineConverter:$,videoModel:fe,playbackController:ue,domStorage:ge,abrController:Q,mediaController:J,textController:he}),ue.setConfig({streamController:se,metricsModel:re,dashMetrics:le,manifestModel:de,mediaPlayerModel:ie,dashManifestModel:ce,adapter:ne,videoModel:fe,timelineConverter:$,uriFragmentModel:pe}),Q.setConfig({streamController:se,domStorage:ge,mediaPlayerModel:ie,metricsModel:re,dashMetrics:le,manifestModel:de,videoModel:fe,adapter:ne}),Q.createAbrRulesCollection(),he.setConfig({errHandler:ae,manifestModel:de,dashManifestModel:ce,mediaController:J,streamController:se,videoModel:fe}),se.initialize(X,K),"string"==typeof q?se.load(q):se.loadWithManifest(q)),!W&&me()&&(W=!0,V.info("Playback Initialized"))}return H={initialize:function(e,t,n){if(oe||(oe=(0,f.default)(B).getInstance()),ae=(0,d.default)(B).getInstance(),!oe.supportsMediaSource())return ae.capabilityError("mediasource"),void ae.error(new F.default(w.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,w.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE));z||(z=!0,$=(0,M.default)(B).getInstance(),Q||(Q=(0,b.default)(B).getInstance()),ue||(ue=(0,o.default)(B).getInstance()),J||(J=(0,u.default)(B).getInstance()),ne=(0,I.default)(B).getInstance(),ce=(0,k.default)(B).getInstance({timelineConverter:$,errHandler:ae,BASE64:N.default}),de=(0,y.default)(B).getInstance(),le=(0,D.default)(B).getInstance({manifestModel:de,dashManifestModel:ce}),re=(0,_.default)(B).getInstance(),he=(0,g.default)(B).getInstance(),ge=(0,E.default)(B).getInstance({mediaPlayerModel:ie}),ne.setConfig({dashManifestModel:ce}),Se(),Ee(void 0===n||n),e&&Ae(e),t&&Pe(t),V.info("[dash.js "+ye()+"] MediaPlayer has been initialized"))},setConfig:on:function(e,t,n){j.on(e,t,n)},off:function(e,t,n){j.off(e,t,n)},extend:attachView:Ae,attachSource:Pe,isReady:me,preload:play:isPaused:ve,pause:isSeeking:function(){if(!W)throw t;return ue.isSeeking()},isDynamic:seek:function(e){if(!W)throw t;if((0,U.checkParameterType)(e,"number"),isNaN(e))throw i.default.BAD_ARGUMENT_ERROR;var n=ue.getIsDynamic()?_e(e):e;ue.seek(n)},setPlaybackRate:getPlaybackRate:function(){return Oe().playbackRate},setMute:isMuted:function(){return Oe().muted},setVolume:getVolume:time:be,duration:Te,timeAsUTC:durationAsUTC:getActiveStream:Ie,getDVRWindowSize:getDVRSeekOffset:_e,convertToTimeCode:formatUTC:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=new Date(1e3*e),a=i.toLocaleDateString(t),o=i.toLocaleTimeString(t,{hour12:n});return r?o+" "+a:o},getVersion:ye,getDebug:function(){return G},getBufferLength:function(e){var t,n=[i.default.VIDEO,i.default.AUDIO,i.default.FRAGMENTED_TEXT];return e?-1!==n.indexOf(e)?(t=we().getCurrentBufferLevel(Ce(e)))||NaN:(V.warn("getBufferLength requested for invalid type"),NaN):(t=n.map(().reduce(())===Number.MAX_VALUE?NaN:t},getTTMLRenderingDiv:getVideoElement:Oe,getSource:setLiveDelayFragmentCount:function(e){ie.setLiveDelayFragmentCount(e)},setLiveDelay:function(e){ie.setLiveDelay(e)},getLiveDelay:function(){return ie.getLiveDelay()},getCurrentLiveLatency:function(){if(!z)throw"MediaPlayer not initialized!";return W?ue.getCurrentLiveLatency():NaN},useSuggestedPresentationDelay:function(e){ie.setUseSuggestedPresentationDelay(e)},enableLastBitrateCaching:function(e,t){ie.setLastBitrateCachingInfo(e,t)},enableLastMediaSettingsCaching:function(e,t){ie.setLastMediaSettingsCachingInfo(e,t)},setMaxAllowedBitrateFor:function(e,t){Q.setMaxAllowedBitrateFor(e,t)},getMaxAllowedBitrateFor:function(e){return Q.getMaxAllowedBitrateFor(e)},getTopBitrateInfoFor:function(t){if(!Y)throw e;return Q.getTopBitrateInfoFor(t)},setMinAllowedBitrateFor:function(e,t){Q.setMinAllowedBitrateFor(e,t)},getMinAllowedBitrateFor:function(e){return Q.getMinAllowedBitrateFor(e)},setMaxAllowedRepresentationRatioFor:function(e,t){Q.setMaxAllowedRepresentationRatioFor(e,t)},getMaxAllowedRepresentationRatioFor:function(e){return Q.getMaxAllowedRepresentationRatioFor(e)},setAutoPlay:Ee,getAutoPlay:function(){return X},setScheduleWhilePaused:function(e){ie.setScheduleWhilePaused(e)},getScheduleWhilePaused:function(){return ie.getScheduleWhilePaused()},getDashMetrics:we,getMetricsFor:Ce,getQualityFor:function(t){if(!Y)throw e;if(t===i.default.IMAGE){var n=Ie();if(!n)return-1;var r=n.getThumbnailController();return r?r.getCurrentTrackIndex():-1}return Q.getQualityFor(t,se.getActiveStreamInfo())},setQualityFor:function(t,n){if(!Y)throw e;if(t===i.default.IMAGE){var r=Ie();if(!r)return;var a=r.getThumbnailController();a&&a.setTrackByIndex(n)}Q.setPlaybackQuality(t,se.getActiveStreamInfo(),n)},updatePortalSize:getLimitBitrateByPortal:function(){return Q.getLimitBitrateByPortal()},setLimitBitrateByPortal:function(e){Q.setLimitBitrateByPortal(e)},getUsePixelRatioInLimitBitrateByPortal:function(){return Q.getUsePixelRatioInLimitBitrateByPortal()},setUsePixelRatioInLimitBitrateByPortal:function(e){Q.setUsePixelRatioInLimitBitrateByPortal(e)},setTextDefaultLanguage:function(e){void 0===he&&(he=(0,g.default)(B).getInstance()),he.setTextDefaultLanguage(e)},getTextDefaultLanguage:function(){return void 0===he&&(he=(0,g.default)(B).getInstance()),he.getTextDefaultLanguage()},setTextDefaultEnabled:function(e){void 0===he&&(he=(0,g.default)(B).getInstance()),he.setTextDefaultEnabled(e)},getTextDefaultEnabled:function(){return void 0===he&&(he=(0,g.default)(B).getInstance()),he.getTextDefaultEnabled()},enableText:function(e){void 0===he&&(he=(0,g.default)(B).getInstance()),he.enableText(e)},enableForcedTextStreaming:function(e){void 0===he&&(he=(0,g.default)(B).getInstance()),he.enableForcedTextStreaming(e)},isTextEnabled:function(){return void 0===he&&(he=(0,g.default)(B).getInstance()),he.isTextEnabled()},setTextTrack:function(e){if(!W)throw t;void 0===he&&(he=(0,g.default)(B).getInstance()),he.setTextTrack(e)},getBitrateInfoListFor:setInitialBitrateFor:function(e,t){Q.setInitialBitrateFor(e,t)},getInitialBitrateFor:function(t){if(!Y)throw e;return Q.getInitialBitrateFor(t)},setInitialRepresentationRatioFor:function(e,t){Q.setInitialRepresentationRatioFor(e,t)},getInitialRepresentationRatioFor:function(e){return Q.getInitialRepresentationRatioFor(e)},getStreamsFromManifest:getTracksFor:Re,getTracksForTypeFromManifest:getCurrentTrackFor:function(t){if(!Y)throw e;var n=se.getActiveStreamInfo();return J.getCurrentTrackFor(t,n)},setInitialMediaSettingsFor:function(e,t){if(!z)throw"MediaPlayer not initialized!";J.setInitialSettings(e,t)},getInitialMediaSettingsFor:function(e){if(!z)throw"MediaPlayer not initialized!";return J.getInitialSettings(e)},setCurrentTrack:getTrackSwitchModeFor:function(e){if(!z)throw"MediaPlayer not initialized!";return J.getSwitchMode(e)},setTrackSwitchModeFor:function(e,t){if(!z)throw"MediaPlayer not initialized!";J.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function(e){if(!z)throw"MediaPlayer not initialized!";J.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function(){if(!z)throw"MediaPlayer not initialized!";return J.getSelectionModeForInitialTrack()},setFastSwitchEnabled:function(e){ie.setFastSwitchEnabled(e)},getFastSwitchEnabled:function(){return ie.getFastSwitchEnabled()},setMovingAverageMethod:function(e){ie.setMovingAverageMethod(e)},getMovingAverageMethod:function(){return ie.getMovingAverageMethod()},getAutoSwitchQualityFor:function(e){return Q.getAutoSwitchBitrateFor(e)},setAutoSwitchQualityFor:function(e,t){Q.setAutoSwitchBitrateFor(e,t)},setABRStrategy:function(e){ie.setABRStrategy(e)},getABRStrategy:function(){return ie.getABRStrategy()},useDefaultABRRules:function(e){ie.setUseDefaultABRRules(e)},addABRCustomRule:removeABRCustomRule:function(e){ie.removeABRCustomRule(e)},removeAllABRCustomRule:function(){ie.removeABRCustomRule()},setBandwidthSafetyFactor:function(e){ie.setBandwidthSafetyFactor(e)},getBandwidthSafetyFactor:function(){return ie.getBandwidthSafetyFactor()},getAverageThroughput:setAbandonLoadTimeout:function(e){ie.setAbandonLoadTimeout(e)},retrieveManifest:addUTCTimingSource:function(e,t){ie.addUTCTimingSource(e,t)},removeUTCTimingSource:function(e,t){ie.removeUTCTimingSource(e,t)},clearDefaultUTCTimingSources:function(){ie.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Se,setBufferToKeep:function(e){ie.setBufferToKeep(e)},setBufferAheadToKeep:function(e){ie.setBufferAheadToKeep(e)},setBufferPruningInterval:function(e){ie.setBufferPruningInterval(e)},setStableBufferTime:function(e){ie.setStableBufferTime(e)},getStableBufferTime:function(){return ie.getStableBufferTime()},setBufferTimeAtTopQuality:function(e){ie.setBufferTimeAtTopQuality(e)},getBufferTimeAtTopQuality:function(){return ie.getBufferTimeAtTopQuality()},setBufferTimeAtTopQualityLongForm:function(e){ie.setBufferTimeAtTopQualityLongForm(e)},getBufferTimeAtTopQualityLongForm:function(){return ie.getBufferTimeAtTopQualityLongForm()},setFragmentLoaderRetryAttempts:function(e){ie.setRetryAttemptsForType(L.HTTPRequest.MEDIA_SEGMENT_TYPE,e)},setFragmentLoaderRetryInterval:function(e){ie.setRetryIntervalForType(L.HTTPRequest.MEDIA_SEGMENT_TYPE,e)},setManifestLoaderRetryAttempts:function(e){ie.setRetryAttemptsForType(L.HTTPRequest.MPD_TYPE,e)},setManifestLoaderRetryInterval:setXHRWithCredentialsForType:function(e,t){ie.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function(e){return ie.getXHRWithCredentialsForType(e)},setJumpGaps:function(e){ie.setJumpGaps(e)},getJumpGaps:function(){return ie.getJumpGaps()},setSmallGapLimit:function(e){ie.setSmallGapLimit(e)},getSmallGapLimit:function(){return ie.getSmallGapLimit()},setLowLatencyEnabled:function(e){ie.setLowLatencyEnabled(e)},getLowLatencyEnabled:function(){return ie.getLowLatencyEnabled()},setCatchUpPlaybackRate:function(e){ie.setCatchUpPlaybackRate(e)},getCatchUpPlaybackRate:function(){return ie.getCatchUpPlaybackRate()},setLowLatencyMinDrift:function(e){if("number"!=typeof e||isNaN(e)||e<0||e>.5)throw"Playback minimum drift has an invalid value! Use a number from 0 to 0.5";ie.setLowLatencyMinDrift(e)},getLowLatencyMinDrift:function(){return ie.getLowLatencyMinDrift()},setLowLatencyMaxDriftBeforeSeeking:function(e){if("number"!=typeof e||isNaN(e)||e<0)throw"Playback maximum drift has an invalid value! Use a number greater or equal to 0";ie.setLowLatencyMaxDriftBeforeSeeking(e)},getLowLatencyMaxDriftBeforeSeeking:function(){return ie.getLowLatencyMaxDriftBeforeSeeking()},setManifestUpdateRetryInterval:function(e){ie.setManifestUpdateRetryInterval(e)},getManifestUpdateRetryInterval:function(){return ie.getManifestUpdateRetryInterval()},setLongFormContentDurationThreshold:function(e){ie.setLongFormContentDurationThreshold(e)},setSegmentOverlapToleranceTime:function(e){ie.setSegmentOverlapToleranceTime(e)},setCacheLoadThresholdForType:function(e,t){ie.setCacheLoadThresholdForType(e,t)},getProtectionController:function(){return Me()},attachProtectionController:function(e){Z=e},setProtectionData:enableManifestDateHeaderTimeSource:function(e){ie.setUseManifestDateHeaderTimeSource(e)},displayCaptionsOnTop:function(e){var t=(0,h.default)(B).getInstance();t.setConfig({videoModel:fe}),t.initialize(),t.displayCConTop(e)},attachVideoContainer:attachTTMLRenderingDiv:getCurrentTextTrackIndex:function(){var e=NaN;return he&&(e=he.getCurrentTrackIdx()),e},getUseDeadTimeLatencyForAbr:function(){return Q.getUseDeadTimeLatency()},setUseDeadTimeLatencyForAbr:function(e){Q.setUseDeadTimeLatency(e)},getThumbnail:function(e,t){if(e<0)return null;var n=ue.getIsDynamic()?_e(e):e,r=se.getStreamForTime(n);if(null===r)return null;var i=r.getThumbnailController();if(!i)return null;var a=se.getTimeRelativeToStreamId(n,r.getId());return i.get(a,t)},keepProtectionMediaKeys:function(e){ie.setKeepProtectionMediaKeys(e)},reset:function(){Pe(null),Ae(null),K=null,Z&&(Z.reset(),Z=null),ee&&(ee.reset(),ee=null)}},V=G.getLogger(H),z=!1,W=!1,Y=!1,X=!0,Z=null,K=null,ne=null,O.default.extend(A.default),ie=(0,v.default)(B).getInstance(),fe=(0,T.default)(B).getInstance(),pe=(0,m.default)(B).getInstance(),H}B.__dashjs_factory_name="MediaPlayer";var j=R.default.getClassFactory(B);j.events=A.default,j.errors=w.default,R.default.updateClassFactory(B.__dashjs_factory_name,j),t.default=j,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8)),a=r(n(10)),o=r(n(7)),s=r(n(9)),u=r(n(2)),l=r(n(52)),c=r(n(11));function d(e,t,n,r){var u=this.context,d=(0,o.default)(u).getInstance(),f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=[],v=[],_=n;unction T(){var e=this,t=this;v.length>0&&function(){g=!0;var n=v[0];v.splice(0,1);var r=[],i=function(){var e=b();!function(e,t,n,r){t&&t.length>0&&t.length<n.length&&t,r)&&d.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:n.end(n.length-2),to:n.start(n.length-1),unintended:!0})}(t,r,e,n),v.length>0?T.call(this):(g=!1,_&&_({chunk:n}))};try{0===n.bytes.length?i.call(e):(r=b(),p.appendBuffer?p.appendBuffer(n.bytes):p.append(n.bytes,n),O(p,i.bind(e)))}catch(e){h.fatal('SourceBuffer append failed "'+e+'"'),v.length>0?T():g=!1,_&&_({chunk:n,error:new a.default(e.code,e.message)})}}()}function E(){if(y.length>0){var e=y.shift();p.updating?O(p,e):(e(),E())}}function S(){p.updating||E()}nction O(e,t){y.push(t),e.updating||E()}return f={getAllBufferRanges:b,getBuffer:function(){return p},append:function(e){e?(v.push(e),g||O(p,T.bind(this))):_({chunk:e,error:new a.default(c.default.APPEND_ERROR_CODE,c.default.APPEND_ERROR_MESSAGE)})},remove:function(t,n,r){var i=this;O(p,(function(){try{t>=0&&n>t&&(r||"ended"!==e.readyState)&&p.remove(t,n),O(p,()}catch(e){d.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1,error:new a.default(e.code,e.message)})}}))},abort:function(){try{("open"===e.readyState||p.setTextTrack&&"ended"===e.readyState)&&p.abort()}catch(e){h.error('SourceBuffer append abort failed: "'+e+'"')}v=[]},reset:function(t){if(p){if("function"==typeof p.removeEventListener&&(p.removeEventListener("updateend",w,!1),p.removeEventListener("error",C,!1),p.removeEventListener("abort",C,!1)),clearInterval(m),!t){try{p.getClassName&&"TextSourceBuffer"===p.getClassName()||e.removeSourceBuffer(p)}catch(e){h.error("Failed to remove source buffer from media source.")}p=null}g=!1}v=[],_=null},updateTimestampOffset:function(e){p.timestampOffset===e||isNaN(e)||O(p,(function(){p.timestampOffset=e}))},hasDiscontinuitiesAfter:function(e){try{var t=b();if(t&&t.length>1)for(var n=0,r=t.length;n<r;n++)if(n>0&&e<t.start(n)&&t.start(n)>t.end(n-1)+.1)return!0}catch(e){h.error("hasDiscontinuities exception: "+e.message)}return!1}},function(){h=(0,i.default)(u).getInstance().getLogger(f),g=!1;var n=t.codec;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");if((p=r||e.addSourceBuffer(n)).changeType&&r&&(h.debug("Doing period transition with changeType"),p.changeType(n)),"function"==typeof p.addEventListener)try{p.addEventListener("updateend",w,!1),p.addEventListener("error",C,!1),p.addEventListener("abort",C,!1)}catch(e){m=setInterval(S,50)}else m=setInterval(S,50)}catch(e){if(!t.isText&&-1===n.indexOf('codecs="stpp')&&-1===n.indexOf('codecs="wvtt'))throw e;var a=(0,l.default)(u).getInstance();p=a.getTextSourceBuffer()}}(),f}d.__dashjs_factory_name="SourceBufferSink";var f=u.default.getClassFactory(d);t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(27);function o(){return{customTimeRangeArray:[],length:0,add:clear:remove:mergeRanges:start:function(e){return(0,a.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:}o.__dashjs_factory_name="CustomTimeRanges",t.default=i.default.getClassFactory(o),e.exports=t.default},function(e,t,n){"use strict";(function(t,r){var i=n(44);e.exports=_;var a,o=n(75);_.ReadableState=v,n(56).EventEmitter;var s=u=n(82),l=n(58).Buffer,c=t.Uint8Array||function(){},d=Object.create(n(34));d.inherits=n(28);var f=n(141),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(142),m=n(83);d.inherits(_,u);var y=["error","close","destroy","pause","resume"];perty(_.prototype,"destroyed",{get:set:),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=_.prototype.push=_.prototype.unshift=_.prototype.isPaused=_.prototype.setEncoding=_.prototype.read=_.prototype._read=_.prototype.pipe=_.prototype.unpipe=_.prototype.on=_.prototype.addListener=_.prototype.on,_.prototype.resume=_.prototype.pause=_.prototype.wrap=Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=I}).call(this,n(18),n(43))},function(e,t,n){e.exports=n(56).EventEmitter},function(e,t,n){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=r={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},i={17:2,18:4,21:6,22:8,23:10,19:13,20:15},a={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},o={25:2,26:4,29:6,30:8,31:10,27:13,28:15},s=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],u={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:,l=c=c.prototype={reset:setStyles:isDefault:equals:copy:toString:;var d=d.prototype={reset:setChar:setPenState:function(e){this.penState.copy(e)},equals:copy:isEmpty:;var f=function(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new d);this.pos=0,this.currPenState=new c};f.prototype={equals:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:moveCursor:backSpace:insertChar:clearFromPos:clear:clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:setPenStyles:;var h=function(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new f);this.currRow=14,this.nrRollUpRows=null,this.reset()};h.prototype={reset:equals:copy:isEmpty:backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:setCursor:setPAC:setBkgData:setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:getDisplayText:getTextAndFormat:function(){return this.rows}};var p=p.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:insertChars:cc_RCL:function(){u.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){u.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:cc_FON:cc_RDC:function(){u.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){u.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:cc_EDM:cc_CR:cc_ENM:cc_EOC:cc_TO:cc_MIDROW:outputDataUpdate:cueSplitAtTime:;var g=g.prototype={getHandler:setHandler:addData:parseCmd:function(e,t){var n=null;if(!((20===e||21===e||28===e||29===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;n=20===e||21===e||23===e?1:2;var r=this.channels[n-1];return 20===e||21===e||28===e||29===e?32===t?r.cc_RCL():33===t?r.cc_BS():34===t?r.cc_AOF():35===t?r.cc_AON():36===t?r.cc_DER():37===t?r.cc_RU(2):38===t?r.cc_RU(3):39===t?r.cc_RU(4):40===t?r.cc_FON():41===t?r.cc_RDC():42===t?r.cc_TR():43===t?r.cc_RTD():44===t?r.cc_EDM():45===t?r.cc_CR():46===t?r.cc_ENM():47===t&&r.cc_EOC():r.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:parsePAC:function(e,t){var n,s=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;n=e<=23?1:2,s=64<=t&&t<=95?1===n?r[e]:a[e]:1===n?i[e]:o[e];var u=this.interpretPAC(s,t);return this.channels[n-1].setPAC(u),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:parseChars:parseBackgroundAttributes:reset:cueSplitAtTime:,e.logger=u,e.PenState=c,e.CaptionScreen=h,e.Cea608Parser=g,e.findCea608Nalus=function(e,t,n){for(var r=0,i=t,a=[],o=i<t+n;){if(r=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var s=i+5,u=-1;s<i+4+r-1;){u=0;for(var l=255;255===l;)u+=l=e.getUint8(s),s++;var c=0;for(l=255;255===l;)c+=l=e.getUint8(s),s++;o(u,c,e,s)&&a.push([s,c]),s+=c}i+=r+4}return a},e.extractCea608DataFromRange=(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(158)),a=r(n(159)),o=r(n(160)),s=r(n(161)),u=r(n(162)),l=r(n(163)),c=r(n(2)),d=r(n(19));function f(e){e=e||{};var t=this.context,n=e.mediaPlayerModel,r=e.metricsModel,c=e.dashMetrics,f=void 0,h=void 0;unction g(e){var n,r={},i=void 0,a=void 0,o=void 0,s=void 0;if(0!==e.length){for(r[d.default.PRIORITY.STRONG]=d.default.NO_CHANGE,r[d.default.PRIORITY.WEAK]=d.default.NO_CHANGE,r[d.default.PRIORITY.DEFAULT]=d.default.NO_CHANGE,i=0,n=e.length;i<n;i+=1)(a=e[i]).quality!==d.default.NO_CHANGE&&(r[a.priority]=r[a.priority]>d.default.NO_CHANGE?Math.min(r[a.priority],a.quality):a.quality);return r[d.default.PRIORITY.WEAK]!==d.default.NO_CHANGE&&(o=r[d.default.PRIORITY.WEAK]),r[d.default.PRIORITY.DEFAULT]!==d.default.NO_CHANGE&&(o=r[d.default.PRIORITY.DEFAULT]),r[d.default.PRIORITY.STRONG]!==d.default.NO_CHANGE&&(o=r[d.default.PRIORITY.STRONG]),o!==d.default.NO_CHANGE&&(s=o),(0,d.default)(t).create(s)}}return{initialize:function(){f=[],h=[],n.getUseDefaultABRRules()&&(f.push((0,l.default)(t).create({metricsModel:r,dashMetrics:c,mediaPlayerModel:n})),f.push((0,i.default)(t).create({metricsModel:r,dashMetrics:c})),f.push((0,a.default)(t).create({metricsModel:r,dashMetrics:c})),f.push((0,u.default)(t).create()),f.push((0,s.default)(t).create()),h.push((0,o.default)(t).create({metricsModel:r,dashMetrics:c,mediaPlayerModel:n}))),n.getABRCustomRules().forEach((function(e){"qualitySwitchRules"===e.type&&f.push(e.rule(t).create()),"abandonFragmentRules"===e.type&&h.push(e.rule(t).create())}))},reset:getMaxQuality:function(e){return g(p(f.map((function(t){return t.getMaxIndex(e)}))))||(0,d.default)(t).create()},shouldAbandonFragment:}f.__dashjs_factory_name="ABRRulesCollection";var h=c.default.getClassFactory(f);h.QUALITY_SWITCH_RULES="qualitySwitchRules",h.ABANDON_FRAGMENT_RULES="abandonFragmentRules",c.default.updateSingletonFactory(f.__dashjs_factory_name,h),t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(46)),a=r(n(63)),o=r(n(10)),s=r(n(9)),u=r(n(7)),l=r(n(33)),c=r(n(2)),d=r(n(8)),f=n(12),h=r(n(22)),p=r(n(35)),g=r(n(11));function m(){var e=this.context,t=(0,u.default)(e).getInstance(),n=void 0,r=void 0,c=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0;function E(){if(!T||!T.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}unction w(e,n,r){e?t.trigger(s.default.SEGMENTS_LOADED,{segments:e,representation:n,mediaType:r}):t.trigger(s.default.SEGMENTS_LOADED,{segments:null,representation:n,mediaType:r,error:new o.default(g.default.SEGMENT_BASE_LOADER_ERROR_CODE,g.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}return n={setConfig:initialize:function(){m=(0,l.default)(e).getInstance(),y=(0,i.default)(e).getInstance(),b=(0,p.default)(e).create({errHandler:c,metricsModel:v,mediaPlayerModel:_,requestModifier:y})},loadInitialization:function e(n,i){E();var a=null,o=T.resolve(n.path),u=i||{init:!0,url:o?o.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};r.debug("Start searching for initialization.");var l=S(u);b.load({request:l,success:function(r){u.bytesLoaded=u.range.end,(a=m.findInitRange(r))?(n.range=a,t.trigger(s.default.INITIALIZATION_LOADED,{representation:n})):(u.range.end=u.bytesLoaded+u.bytesToLoad,e(n,u))},error:function(){t.trigger(s.default.INITIALIZATION_LOADED,{representation:n})}}),r.debug("Perform init search: "+u.url)},loadSegments:function e(t,n,i,o,s){if(E(),i&&(void 0===i.start||void 0===i.end)){var u=i?i.toString().split("-"):null;i=u?{start:parseFloat(u[0]),end:parseFloat(u[1])}:null}s=s||w;var l=null,c=null,d=!!i,f=T.resolve(t.path),h={init:!1,url:f?f.url:void 0,range:d?i:{start:0,end:1500},searching:!d,bytesLoaded:o?o.bytesLoaded:0,bytesToLoad:1500},p=S(h);b.load({request:p,success:function(i){var o=h.bytesToLoad,u=i.byteLength;if(h.bytesLoaded=h.range.end-h.range.start,l=m.parse(i),(c=l.getBox("sidx"))&&c.isComplete){var d=c.references,f=void 0,p=void 0;null!=d&&d.length>0&&(f=1===d[0].reference_type),f?function(){r.debug("Initiate multiple SIDX load."),h.range.end=h.range.start+c.size;var i=void 0,a=void 0,o=void 0,u=void 0,l=[],f=0,p=(c.offset||h.range.start)+c.size,g=for(i=0,a=d.length;i<a;i++)o=p,u=p+d[i].referenced_size-1,p+=d[i].referenced_size,e(t,null,{start:o,end:u},h,g)}():(r.debug("Parsing segments from SIDX."),p=function(e,t){for(var n=e.references,r=n.length,i=e.timescale,o=e.earliest_presentation_time,s=t.range.start+e.offset+e.first_offset+e.size,u=[],l=void 0,c=void 0,d=void 0,f=void 0,h=0;h<r;h++)d=n[h].subsegment_duration,f=n[h].referenced_size,(l=new a.default).duration=d,l.startTime=o,l.timescale=i,c=s+f-1,l.mediaRange=s+"-"+c,u.push(l),o+=d,s+=f;return u}(c,h),s(p,t,n))}else{if(c)h.range.start=c.offset||h.range.start,h.range.end=h.range.start+(c.size||o);else{if(u<h.bytesLoaded)return void s(null,t,n);var g=l.getLastBox();g&&g.size?(h.range.start=g.offset+g.size,h.range.end=h.range.start+o):h.range.end+=o}e(t,n,h.range,h,s)}},error:function(){s(null,t,n)}}),r.debug("Perform SIDX load: "+h.url)},reset:function(){b.abort(),b=null,c=null,m=null,y=null}},r=(0,d.default)(e).getInstance().getLogger(n),n}m.__dashjs_factory_name="SegmentBaseLoader",t.default=c.default.getSingletonFactory(m),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(15)),o=r(n(2)),s=r(n(193)),u=r(n(20)),l=n(24),c=r(n(90)),d=r(n(33)),f=r(n(65)),h=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function p(e){var t,n=this.context,r=e.dashManifestModel,o=e.adapter,p=e.baseURLController,g=e.stream,m=e.timelineConverter,y=e.metricsModel,v=e.mediaPlayerModel,_=e.errHandler,b=(0,u.default)(n).getInstance(),T=void 0,E=void 0,S=void 0,w=void 0,C=void 0;function O(){R(),S=(0,f.default)(n).create({}),C=(0,d.default)(n).getInstance(),(w=(0,c.default)(n).getInstance()).setConfig({baseURLController:p,metricsModel:y,mediaPlayerModel:v,errHandler:_}),function(){if(g&&r&&o){var e=g.getStreamInfo();if(e){var t=o.getMediaInfoForType(e,i.default.IMAGE);if(t){var n=o.getDataForMedia(t);if(n){var s=r.getRepresentationsForAdaptation(n);s&&s.length>0&&s.forEach((function(e){e.segmentInfoType===a.default.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media&&A(e),e.segmentInfoType===a.default.SEGMENT_BASE&&A(e,!0)})),T.length>0&&(T.sort((function(e,t){return e.bitrate-t.bitrate})),E=T.length-1)}}}}}()}function A(e,t){var n=new s.default;n.id=e.id,n.bitrate=e.bandwidth,n.width=e.width,n.height=e.height,n.tilesHor=1,n.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach((),t?w.loadSegments(e,i.default.IMAGE,e.indexRange,{},(function(e,t){var i=[];e=function(e,t){var n,i=[],a=0,o=void 0,s=void 0,u=void 0;for(o=0,n=e.length;o<n;o++)s=e[o],u=(0,l.getTimeBasedSegment)(m,r.getIsDynamic(),t,s.startTime,s.duration,s.timescale,s.media,s.mediaRange,a),i.push(u),u=null,a++;return i}(e,t),n.segmentDuration=e[0].duration,n.readThumbnail=)):(n.startNumber=e.startNumber,n.segmentDuration=e.segmentDuration,n.timescale=e.timescale,n.templateUrl=e)),n.tilesHor>0&&n.tilesVert>0&&(n.widthPerTile=n.width/n.tilesHor,n.heightPerTile=n.height/n.tilesVert,T.push(n))}eturn t={initialize:O,getTracks:function(){return T},reset:R,setTrackByIndex:getCurrentTrack:getCurrentTrackIndex:function(){return E}},O(),t}t.THUMBNAILS_SCHEME_ID_URIS=h,p.__dashjs_factory_name="ThumbnailTracks",t.default=o.default.getClassFactory(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(40))&&r.__esModule?r:{default:r}).default));t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(196)),a=r(n(198)),o=r(n(20)),s=r(n(95)),u=r(n(2)),l=r(n(7)),c=r(n(9));function d(){var e=void 0,t=void 0,n=this.context,r=(0,l.default)(n).getInstance(),u=(0,o.default)(n).getInstance(),d=void 0,f=void 0;eturn e={reset:function(){d.reset(),f.reset()},initialize:function(e){var n;d.setConfig({dashManifestModel:t}),f.setConfig({dashManifestModel:t}),n=e,d.update(n),f.chooseSelectorFromManifest(n)},resolve:setConfig:,d=(0,i.default)(n).create(),f=(0,a.default)(n).create(),r.on(c.default.SERVICE_LOCATION_BLACKLIST_CHANGED,h,e),e}d.__dashjs_factory_name="BaseURLController",t.default=u.default.getSingletonFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(197));function o(){return{areEqual:}o.__dashjs_factory_name="ObjectUtils",t.default=i.default.getSingletonFactory(o),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=r.DEFAULT_DVB_PRIORITY=1,r.DEFAULT_DVB_WEIGHT=1,t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.type=n||null,this.mediaType=i.default.STREAM,this.responseType=""}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r(n(22)).default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){void 0===(e=e||{}).escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1);var t=1,n=3,r=4,i=8,a=9;on f(s,h){if(s.nodeType==a){for(var p=new Object,g=s.childNodes,m=0;m<g.length;m++)(v=g[m]).nodeType==t&&(e.ignoreRoot?p=f(v):(p={})[_=o(v)]=f(v));return p}if(s.nodeType==t){(p=new Object).__cnt=0;var y=[];for(g=s.childNodes,m=0;m<g.length;m++){var v,_=o(v=g[m]);if(v.nodeType!=i){var b=h+"."+_;if(d(p,v.nodeType,_,b))if(p.__cnt++,null==p[_]){var T=f(v,b);("#text"!=_||/[^\s]/.test(T))&&((E={})[_]=T,y.push(E)),p[_]=T,l(p,_,b)}else{var E;null!=p[_]&&(p[_]instanceof Array||(p[_]=[p[_]],l(p,_,b))),T=f(v,b),("#text"!=_||/[^\s]/.test(T))&&((E={})[_]=T,y.push(E)),p[_][p[_].length]=T}}}p.__children=y;for(var S=o(s),w=0;w<s.attributes.length;w++){var C=s.attributes[w];p.__cnt++;for(var O=C.value,A=0,R=e.matchers.length;A<R;A++){var P=e.matchers[A];P.test(C,S)&&(O=P.converter(C.value))}p[e.attributePrefix+C.name]=O}var I=function(e){return e.prefix}(s);return null!=I&&""!=I&&(p.__cnt++,p.__prefix=I),null!=p["#text"]&&(p.__text=p["#text"],p.__text instanceof Array&&(p.__text=p.__text.join("\n")),e.stripWhitespaces&&(p.__text=p.__text.trim()),delete p["#text"],"property"==e.arrayAccessForm&&delete p["#text_asArray"],p.__text=p.__text,_,h+"."+_)),null!=p["#cdata-section"]&&(p.__cdata=p["#cdata-section"],delete p["#cdata-section"],"property"==e.arrayAccessForm&&delete p["#cdata-section_asArray"]),0==p.__cnt&&"text"==e.emptyNodeForm?p="":1==p.__cnt&&null!=p.__text?p=p.__text:1!=p.__cnt||null==p.__cdata||e.keepCData?p.__cnt>1&&null!=p.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==p.__text||""==p.__text.trim())&&delete p.__text:p=p.__cdata,delete p.__cnt,!e.enableToStringFunc||null==p.__text&&null==p.__cdata||(p.toString=,p}if(s.nodeType==n||s.nodeType==r)return s.nodeValue}XmlString=this.asArray=this.toXmlDateTime=this.asDateTime=function(e){return"string"==typeof e?c(e):e},this.xml2json=function(e){return f(e)},this.xml_str2json=this.json2xml_str=function(e){return E(e,"")},this.json2xml=this.getVersion=function(){return"1.2.0"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=n(213))&&r.__esModule?r:{default:r},o=function(){eturn i(e,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(254))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t={"urn:dvb:dash:reporting:2014":i.default},n=this.context,r=e.debug,a=e.metricsConstants;return{create:function(e,i){var o=void 0;try{(o=t[e.schemeIdUri](n).create({metricsConstants:a})).initialize(e,i)}catch(t){o=null,r.error("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return o},register:function(e,n){t[e]=n},unregister:function(e){delete t[e]}}}a.__dashjs_factory_name="ReportingFactory",t.default=dashjs.FactoryMaker.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(258)),a=r(n(259)),o=r(n(260)),s=r(n(261));function u(e){var t=(e=e||{}).debug,n=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,r=this.context,u={BufferLevel:i.default,DVBErrors:a.default,HttpList:o.default,PlayList:s.default,RepSwitchList:s.default,TcpList:s.default};return{create:function(i,a){var o,s=i.match(n);if(s){try{(o=u[s[1]](r).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants})).initialize(s[1],a,s[3],s[5])}catch(e){o=null,t.error("MetricsHandlerFactory: Could not create handler for type "+s[1]+" with args "+s[3]+", "+s[5]+" ("+e.message+")")}return o}},register:function(e,t){u[e]=t},unregister:function(e){delete u[e]}}}u.__dashjs_factory_name="MetricsHandlerFactory",t.default=dashjs.FactoryMaker.getSingletonFactory(u),e.exports=t.default},function(e){e.exports=JSON.parse('{"rsi":{"twitterAccount":"RSIonline"},"rtr":{"twitterAccount":"RTRSRG"},"rts":{"twitterAccount":"RadioTeleSuisse"},"srf":{"twitterAccount":"SRF"},"swi":{"twitterAccount":"swissinfo"}}')},function(e){e.exports=JSON.parse('{"RTS":"https://www.rts.ch/entreprise/drm/9959798-la-ssr-adopte-le-cryptage-numerique.html","SRF":"https://www.srf.ch/hilfe/website-und-apps/digitale-verschluesselung","RTR":"https://www.rtr.ch/drm","RSI":"https://www.rsi.ch/chi-siamo/mestieri/La-SSR-introduce-la-codifica-digitale-11038056.html","SWI":""}')},function(e){e.exports=JSON.parse('{"Audio Player":"Audio-Player","Video Player":"Video-Player","Play":"Abspielen","Pause":"Pause","Replay":"Erneut abspielen","Current Time":"Aktueller Zeitpunkt","Duration":"Dauer","Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp","LIVE":"LIVE","Loaded":"Geladen","Progress":"Status","Progress Bar":"Forschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Fullscreen":"Vollbild","Non-Fullscreen":"Kein Vollbild","Mute":"Ton aus","Unmute":"Ton ein","Playback Rate":"Wiedergabegeschwindigkeit","Subtitles":"Untertitel","subtitles off":"Untertitel aus","Captions":"Untertitel","captions off":"Untertitel aus","Chapters":"Kapitel","Descriptions":"Beschreibungen","descriptions off":"Beschreibungen aus","Audio Track":"Tonspur","Volume Level":"Lautst\xe4rkestufe","You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterst\xfctzt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem besch\xe4digten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterst\xfctzt werden, abgebrochen.","No compatible source was found for this media.":"F\xfcr dieses Video wurde keine kompatible Quelle gefunden.","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschl\xfcsselungsschl\xfcssel f\xfcr den verschl\xfcsselten Medieninhalt sind nicht verf\xfcgbar.","Play Video":"Video abspielen","Close":"Schlie\xdfen","Close Modal Dialog":"Modales Fenster schlie\xdfen","Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":"Durch Dr\xfccken der Esc-Taste bzw. Bet\xe4tigung der Schaltfl\xe4che \\"Schlie\xdfen\\" wird dieses modale Fenster geschlossen.",", opens captions settings dialog":", \xf6ffnet Einstellungen f\xfcr Untertitel",", opens subtitles settings dialog":", \xf6ffnet Einstellungen f\xfcr Untertitel",", opens descriptions settings dialog":", \xf6ffnet Einstellungen f\xfcr Beschreibungen",", selected":", ausgew\xe4hlt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen f\xfcr Beschreibungen","Text":"Schrift","White":"Wei\xdf","Black":"Schwarz","Red":"Rot","Green":"Gr\xfcn","Blue":"Blau","Yellow":"Gelb","Magenta":"Magenta","Cyan":"T\xfcrkis","Background":"Hintergrund","Window":"Fenster","Transparent":"Durchsichtig","Semi-Transparent":"Halbdurchsichtig","Opaque":"Undurchsichtig","Font Size":"Schriftgr\xf6\xdfe","Text Edge Style":"Textkantenstil","None":"Kein","Raised":"Erhoben","Depressed":"Gedr\xfcckt","Uniform":"Gleichm\xe4ssig","Dropshadow":"Schlagschatten","Font Family":"Schriftfamilie","Proportional Sans-Serif":"Serifenlos proportional","Monospace Sans-Serif":"Serifenlos nichtproportional","Proportional Serif":"Serifiert proportional","Monospace Serif":"Serifiert nichtproportional","Casual":"Zwanglos","Script":"Schreibeschrift","Small Caps":"Small-Caps","Reset":"Zur\xfccksetzen","restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zur\xfccksetzen","Done":"Fertig","Caption Settings Dialog":"Einstellungsdialog f\xfcr Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schlie\xdft das Fenster.","End of dialog window.":"Ende des Dialogfensters.","ISO-639-1":"de","10 seconds backward":"10 Sekunden zur\xfcck","30 seconds forward":" 30 Sekunden vorw\xe4rts","Audio":"Tonspur","Audio and subtitles":"Tonspur und Untertitel","Audio Description":"Audiodeskription","Auto play":"Autoplay","Back":"Zur\xfcck","Casting to":"Der Inhalt wird abgespielt auf","Content will be available in {1} days":"Verf\xfcgbar in {1} Tagen","Current position":"Aktuelle Position","Current subject":"Aktueller Beitrag","Days":"Tagen","Duration: {1}":"Dauer: {1}","Edit player settings":"Einstellungen bearbeiten","Episode":"Ganze Folge","HD":"HD","Continuous Playback":"Fortlaufende Wiedergabe","Cancel":"Abbrechen","Coming next":"N\xe4chstes Video","Copied":"Kopiert","copy":"kopieren","Copy debug info":"Debug-Info kopieren","Copy link":"Link kopieren","Facebook":"Facebook","Font size level {1}":"Schriftgr\xf6sse {1}","Hours":"Stunden","Integrate":"Integrieren","LinkedIn":"LinkedIn","Mail":"E-Mail","Minutes":"Minuten","Off":"Aus","Open {1} in Play {2}":"Dieses {1} in Play {2}\xa0\xf6ffnen","Playback will begin shortly":"Die Wiedergabe beginnt in K\xfcrze.","Quality":"Qualit\xe4t","SD":"SD","Seconds":"Sekunden","Seek to live, currently behind live":"Zur Live-\xdcbertragung wechseln. Aktuell wird es nicht live abgespielt.","Seek to live, currently playing live":"Zur Live-\xdcbertragung wechseln. Es wird aktuell live abgespielt.","Share at current position":"Teilen der aktuelle Position","Share by e-mail":"Via E-Mail teilen","Share":"Teilen","Share on {1}":"Auf {1} teilen","Share on Facebook":"Auf Facebook teilen","Share on Linkedin":"Auf Linkedin teilen","Share on Twitter":"Auf Twitter teilen","Share on Whatsapp":"Auf Whatsapp teilen","Share the current subject":"Teilen des aktuellen Beitrags","Share the episode":"Teilen der ganzen Folge","Skip credits":"Abspann \xfcberspringen","Skip intro":"Intro \xfcberspringen","Speed":"Abspielgeschwindigkeit","Start casting":"\xdcber Chromecast abspielen","Start pip":"Video im Pop-up \xf6ffnen","Stop":"Anhalten","Stop casting":"Abspielen \xfcber Chromecast abbrechen","Stop pip":"Pop-up schliessen","The content cannot be played.":"Der Inhalt kann nicht abgespielt werden.","The content was skipped due to legal restriction":"Der Inhalt wurde aus rechtlichen Gr\xfcnden \xfcbersprungen.","This commercial media is not available.":"Die Werbung wurde \xfcbersprungen.","This content is not available.":"Dieser Inhalt ist nicht verf\xfcgbar.","This content is not available anymore.":"Dieser Inhalt ist nicht mehr verf\xfcgbar.","This content is not available due to legal restrictions.":"Dieser Inhalt ist aus rechtlichen Gr\xfcnden nicht verf\xfcgbar.","This content is not available outside Switzerland.":"Dieser Inhalt ist ausserhalb der Schweiz nicht verf\xfcgbar.","This content is not yet available. Please try again later.":"Dieser Inhalt ist noch nicht verf\xfcgbar. Bitte probieren Sie es sp\xe4ter noch einmal.","To protect children, this content is only available between 8PM and 6AM.":"Aus Gr\xfcnden des Jugendschutzes steht dieser Inhalt nur zwischen 20:00 und 06:00 Uhr zur Verf\xfcgung.","To protect children, this content is only available between 11PM and 5AM.":"Aus Gr\xfcnden des Jugendschutzes steht dieser Inhalt nur zwischen 23:00 und 05:00 Uhr zur Verf\xfcgung.","Twitter":"Twitter","Unable to display the content. For more information and help, click here...":"Leider kann der Inhalt nicht wiedergegeben werden. Weitere Informationen und Unterst\xfctzung finden Sie hier\u2026","Unfortunately the 360 playback experience is not compatible with your browser version.":"Ihre Browser-Version ist nicht kompatibel f\xfcr die 360\xb0-Wiedergabe dieses Videos.","Unfortunately this format is not compatible with your browser.":"Dieses Format ist leider nicht kompatibel mit Ihrem Browser.","WhatsApp":"WhatsApp"}')},function(e){e.exports=JSON.parse('{"Audio Player":"Audio Player","Video Player":"Video Player","Play":"Play","Pause":"Pause","Replay":"Replay","Current Time":"Current Time","Duration":"Duration","Remaining Time":"Remaining Time","Stream Type":"Stream Type","LIVE":"LIVE","Loaded":"Loaded","Progress":"Progress","Progress Bar":"Progress Bar","progress bar timing: currentTime={1} duration={2}":"{1} of {2}","Fullscreen":"Fullscreen","Non-Fullscreen":"Non-Fullscreen","Mute":"Mute","Unmute":"Unmute","Playback Rate":"Playback Rate","Subtitles":"Subtitles","subtitles off":"subtitles off","Captions":"Captions","captions off":"captions off","Chapters":"Chapters","Descriptions":"Descriptions","descriptions off":"descriptions off","Audio Track":"Audio Track","Volume Level":"Volume Level","You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it.","Play Video":"Play Video","Close":"Close","Close Modal Dialog":"Close Modal Dialog","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected","captions settings":"captions settings","subtitles settings":"subtitles settings","descriptions settings":"descriptions settings","Text":"Text","White":"White","Black":"Black","Red":"Red","Green":"Green","Blue":"Blue","Yellow":"Yellow","Magenta":"Magenta","Cyan":"Cyan","Background":"Background","Window":"Window","Transparent":"Transparent","Semi-Transparent":"Semi-Transparent","Opaque":"Opaque","Font Size":"Font Size","Text Edge Style":"Text Edge Style","None":"None","Raised":"Raised","Depressed":"Depressed","Uniform":"Uniform","Dropshadow":"Dropshadow","Font Family":"Font Family","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif","Casual":"Casual","Script":"Script","Small Caps":"Small Caps","Reset":"Reset","restore all settings to the default values":"restore all settings to the default values","Done":"Done","Caption Settings Dialog":"Caption Settings Dialog","Beginning of dialog window. Escape will cancel and close the window.":"Beginning of dialog window. Escape will cancel and close the window.","End of dialog window.":"End of dialog window.","ISO-639-1":"en","10 seconds backward":"10 seconds backward","30 seconds forward":"30 seconds forward","Audio":"Audio","Audio and subtitles":"Audio and subtitles","Audio Description":"Audio Description","Auto play":"Auto play","Back":"Back","Casting to":"Casting to","Content will be available in {1} days":"Content will be available in {1} days","Current position":"Current position","Current subject":"Current subject","Days":"Days","Duration: {1}":"Duration: {1}","Edit player settings":"Edit player settings","Episode":"Episode","HD":"HD","Continuous Playback":"Continuous Playback","Cancel":"Cancel","Coming next":"Coming next","Copied":"Copied","copy":"copy","Copy debug info":"Copy debug info","Copy link":"Copy link","Facebook":"Facebook","Font size level {1}":"Font size level {1}","Hours":"Hours","Integrate":"Integrate","LinkedIn":"LinkedIn","Mail":"Mail","Minutes":"Minutes","Off":"Off","Open {1} in Play {2}":"Open {1} in Play {2}","Playback will begin shortly":"Playback will begin shortly","Quality":"Quality","SD":"SD","Seconds":"Seconds","Seek to live, currently behind live":"Seek to live, currently behind live","Seek to live, currently playing live":"Seek to live, currently playing live","Share at current position":"Share at current position","Share by e-mail":"Share by e-mail","Share":"Share","Share on {1}":"Share on {1}","Share on Facebook":"Share on Facebook","Share on Linkedin":"Share on Linkedin","Share on Twitter":"Share on Twitter","Share on Whatsapp":"Share on Whatsapp","Share the current subject":"Share the current subject","Share the episode":"Share the episode","Skip credits":"Skip credits","Skip intro":"Skip intro","Speed":"Speed","Start casting":"Start casting","Start pip":"Start picture in picture","Stop":"Stop","Stop casting":"Stop casting","Stop pip":"Stop picture in picture","The content cannot be played.":"The content cannot be played.","The content was skipped due to legal restriction":"The content was skipped due to legal restriction","This commercial media is not available.":"This commercial media is not available.","This content is not available.":"This content is not available.","This content is not available anymore.":"This content is not available anymore.","This content is not available due to legal restrictions.":"This content is not available due to legal restrictions.","This content is not available outside Switzerland.":"This content is not available outside Switzerland.","This content is not yet available. Please try again later.":"This content is not yet available. Please try again later.","To protect children, this content is only available between 8PM and 6AM.":"To protect children, this content is only available between 8PM and 6AM.","To protect children, this content is only available between 11PM and 5AM.":"To protect children, this content is only available between 11PM and 5AM.","Twitter":"Twitter","Unable to display the content. For more information and help, click here...":"Unable to display the content. For more information and help, click here...","Unfortunately the 360 playback experience is not compatible with your browser version.":"Unfortunately the 360 playback experience is not compatible with your browser version.","Unfortunately this format is not compatible with your browser.":"Unfortunately this format is not compatible with your browser.","WhatsApp":"WhatsApp"}')},function(e){e.exports=JSON.parse('{"Audio Player":"Lecteur audio","Video Player":"Lecteur vid\xe9o","Play":"D\xe9marrer","Pause":"Pause","Replay":"Red\xe9marrer","Current Time":"Temps \xe9coul\xe9","Duration":"Dur\xe9e","Remaining Time":"Temps restant","Stream Type":"Type de flux","LIVE":"LIVE","Loaded":"Charg\xe9","Progress":"Progression","Progress Bar":"Barre de progression","progress bar timing: currentTime={1} duration={2}":"{1} de {2}","Fullscreen":"Plein \xe9cran","Non-Fullscreen":"Fen\xeatr\xe9","Mute":"Sourdine","Unmute":"Son activ\xe9","Playback Rate":"Vitesse de lecture","Subtitles":"Sous-titres","subtitles off":"Sous-titres d\xe9sactiv\xe9s","Captions":"Sous-titres transcrits","captions off":"Sous-titres transcrits d\xe9sactiv\xe9s","Chapters":"Chapitres","Descriptions":"Descriptions","descriptions off":"descriptions d\xe9sactiv\xe9es","Audio Track":"Piste audio","Volume Level":"Niveau de volume","You aborted the media playback":"Vous avez interrompu la lecture de la vid\xe9o.","A network error caused the media download to fail part-way.":"Une erreur de r\xe9seau a interrompu le t\xe9l\xe9chargement de la vid\xe9o.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Cette vid\xe9o n\'a pas pu \xeatre charg\xe9e, soit parce que le serveur ou le r\xe9seau a \xe9chou\xe9 ou parce que le format n\'est pas reconnu.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La lecture de la vid\xe9o a \xe9t\xe9 interrompue \xe0 cause d\'un probl\xe8me de corruption ou parce que la vid\xe9o utilise des fonctionnalit\xe9s non prises en charge par votre navigateur.","No compatible source was found for this media.":"Aucune source compatible n\'a \xe9t\xe9 trouv\xe9e pour cette vid\xe9o.","The media is encrypted and we do not have the keys to decrypt it.":"Le m\xe9dia est chiffr\xe9 et nous n\'avons pas les cl\xe9s pour le d\xe9chiffrer.","Play Video":"Lire la vid\xe9o","Close":"Fermer","Close Modal Dialog":"Fermer la bo\xeete de dialogue modale","Modal Window":"Fen\xeatre modale","This is a modal window":"Ceci est une fen\xeatre modale","This modal can be closed by pressing the Escape key or activating the close button.":"Ce modal peut \xeatre ferm\xe9 en appuyant sur la touche \xc9chap ou activer le bouton de fermeture.",", opens captions settings dialog":", ouvrir les param\xe8tres des sous-titres transcrits",", opens subtitles settings dialog":", ouvrir les param\xe8tres des sous-titres",", opens descriptions settings dialog":", ouvrir les param\xe8tres des descriptions",", selected":", s\xe9lectionn\xe9","captions settings":"Param\xe8tres des sous-titres transcrits","subtitles settings":"Param\xe8tres des sous-titres","descriptions settings":"Param\xe8tres des descriptions","Text":"Texte","White":"Blanc","Black":"Noir","Red":"Rouge","Green":"Vert","Blue":"Bleu","Yellow":"Jaune","Magenta":"Magenta","Cyan":"Cyan","Background":"Arri\xe8re-plan","Window":"Fen\xeatre","Transparent":"Transparent","Semi-Transparent":"Semi-transparent","Opaque":"Opaque","Font Size":"Taille des caract\xe8res","Text Edge Style":"Style des contours du texte","None":"Aucun","Raised":"\xc9lev\xe9","Depressed":"Enfonc\xe9","Uniform":"Uniforme","Dropshadow":"Ombre port\xe9e","Font Family":"Famille de polices","Proportional Sans-Serif":"Polices sans empattement (Proportional Sans-Serif)","Monospace Sans-Serif":"Polices sans empattement (Monospace Sans-Serif)","Proportional Serif":"Polices avec empattement (Proportional Serif)","Monospace Serif":"Polices avec empattement (Monospace Serif)","Casual":"Manuscrite","Script":"Scripte","Small Caps":"Petites capitales","Reset":"R\xe9initialiser","restore all settings to the default values":"Restaurer tous les param\xe8tres aux valeurs par d\xe9faut","Done":"Termin\xe9","Caption Settings Dialog":"Bo\xeete de dialogue des param\xe8tres des sous-titres transcrits","Beginning of dialog window. Escape will cancel and close the window.":"D\xe9but de la fen\xeatre de dialogue. La touche d\'\xe9chappement annulera et fermera la fen\xeatre.","End of dialog window.":"Fin de la fen\xeatre de dialogue.","ISO-639-1":"fr","10 seconds backward":"Reculer de 10 secondes","30 seconds forward":"Avancer de 30 secondes","Audio":"Audio","Audio and subtitles":"Audio et sous-titres","Audio Description":"Audio Description","Auto play":"Lecture automatique","Back":"Retour","Casting to":"Ce contenu se joue sur","Content will be available in {1} days":"Ce contenu sera disponible dans {1} jours","Current position":"Position courante","Current subject":"Sujet courant","Days":"Jours","Duration: {1}":"Dur\xe9e: {1}","Edit player settings":"Modifier les param\xe8tres","Episode":"\xc9pisode","HD":"HD","Continuous Playback":"Lecture continue","Cancel":"Annuler","Coming next":"\xc0 suivre","Copied":"Copi\xe9","copy":"Copier","Copy debug info":"Copier les infos de d\xe9bogage","Copy link":"Copier le lien","Facebook":"Facebook","Font size level {1}":"Taille de police niveau {1}","Hours":"Heures","Integrate":"Int\xe9grer","LinkedIn":"LinkedIn","Mail":"E-mail","Minutes":"Minutes","Off":"D\xe9sactiv\xe9","Open {1} in Play {2}":"Ouvrir {1} dans Play {2}","Playback will begin shortly":"La lecture est sur le point de d\xe9buter","Quality":"Qualit\xe9","SD":"SD","Seconds":"Secondes","Seek to live, currently behind live":"Revenir au direct","Seek to live, currently playing live":"Direct en cours","Share at current position":"Partager la position courante","Share by e-mail":"Partager par e-mail","Share":"Partager","Share on {1}":"Partager sur {1}","Share on Facebook":"Partager sur Facebook","Share on Linkedin":"Partager sur Linkedin","Share on Twitter":"Partager sur Twitter","Share on Whatsapp":"Partager sur Whatsapp","Share the current subject":"Partager le sujet courant","Share the episode":"Partager l\'\xe9pisode","Skip credits":"Passer","Skip intro":"Passer l\u2019intro","Speed":"Vitesse de lecture","Start casting":"Jouer sur Chromecast","Start pip":"D\xe9marrer l\u2019image dans l\u2019image","Stop":"Stop","Stop casting":"Arr\xeater Chromecast","Stop pip":"Arr\xeater l\u2019image dans l\u2019image","The content cannot be played.":"Ce contenu ne peut \xeatre jou\xe9.","The content was skipped due to legal restriction":"Une s\xe9quence d\xe9publi\xe9e sur d\xe9cision de justice n\u2019a pas \xe9t\xe9 lue","This commercial media is not available.":"Ce contenu n\u2019est actuellement pas disponible.","This content is not available.":"Ce contenu n\u2019est actuellement pas disponible.","This content is not available anymore.":"Ce contenu n\u2019est plus disponible.","This content is not available due to legal restrictions.":"Pour des raisons juridiques, ce contenu n\'est pas disponible.","This content is not available outside Switzerland.":"La RTS ne dispose pas des droits de diffusion en dehors de la Suisse.","This content is not yet available. Please try again later.":"Ce contenu n\'est pas encore disponible. Veuillez r\xe9essayer plus tard.","To protect children, this content is only available between 8PM and 6AM.":"Pour prot\xe9ger les enfants, ce contenu est accessible entre 20h et 6h.","To protect children, this content is only available between 11PM and 5AM.":"Pour prot\xe9ger les enfants, ce contenu est accessible entre 23h et 5h.","Twitter":"Twitter","Unable to display the content. For more information and help, click here...":"Impossible d\'afficher le contenu. Pour plus d\'informations et obtenir de l\'aide, cliquez ici...","Unfortunately the 360 playback experience is not compatible with your browser version.":"Malheureusement, l\'exp\xe9rience 360 n\'est pas compatible avec la version de votre navigateur.","Unfortunately this format is not compatible with your browser.":"Malheureusement ce format n\'est pas compatible avec votre navigateur.","WhatsApp":"WhatsApp"}')},function(e){e.exports=JSON.parse('{"Audio Player":"Player Audio","Video Player":"Player Video","Play":"Play","Pause":"Pausa","Replay":"Ripetere","Current Time":"Tempo attuale","Duration":"Durata","Remaining Time":"Tempo rimanente","Stream Type":"Tipo di Streaming","LIVE":"LIVE","Loaded":"Caricato","Progress":"Stato","Progress Bar":"Barra di stato","progress bar timing: currentTime={1} duration={2}":"{1} di {2}","Fullscreen":"Schermo intero","Non-Fullscreen":"Chiudi schermo intero","Mute":"Muto","Unmute":"Riattiva audio","Playback Rate":"Tasso di riproduzione","Subtitles":"Sottotitoli","subtitles off":"Senza sottotitoli","Captions":"Sottotitoli non udenti","captions off":"Senza sottotitoli non udenti","Chapters":"Capitolo","Descriptions":"Descrizioni","descriptions off":"descrizioni disattivate","Audio Track":"Tracce audio","Volume Level":"Livello del volume","You aborted the media playback":"La riproduzione del filmato \xe8 stata interrotta.","A network error caused the media download to fail part-way.":"Il download del filmato \xe8 stato interrotto a causa di un problema rete.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Il filmato non pu\xf2 essere caricato a causa di un errore nel server o nella rete o perch\xe9 il formato non viene supportato.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La riproduzione del filmato \xe8 stata interrotta a causa di un file danneggiato o per l\u2019utilizzo di impostazioni non supportate dal browser.","No compatible source was found for this media.":"Non ci sono fonti compatibili per questo filmato.","The media is encrypted and we do not have the keys to decrypt it.":"Questo media \xe8 protetto.","Play Video":"Mostra il video","Close":"Chiudi","Close Modal Dialog":"Chiudi la finestra di dialogo modale","Modal Window":"Finestra modale","This is a modal window":"Questa \xe8 una finestra modale","This modal can be closed by pressing the Escape key or activating the close button.":"Questa modale pu\xf2 essere chiusa premendo il tasto Esc o attivando il pulsante Chiudi.",", opens captions settings dialog":", apre la finestra di dialogo delle impostazioni delle didascalie",", opens subtitles settings dialog":", apre la finestra di dialogo delle impostazioni dei sottotitoli",", opens descriptions settings dialog":", apre la finestra di dialogo delle impostazioni delle descrizioni",", selected":", selezionato","captions settings":"impostazioni delle didascalie","subtitles settings":"impostazioni dei sottotitoli","descriptions settings":"impostazioni delle descrizioni","Text":"Testo","White":"Bianco","Black":"Nero","Red":"Rosso","Green":"Verde","Blue":"Blu","Yellow":"Giallo","Magenta":"Magenta","Cyan":"Ciano","Background":"Sfondo","Window":"Finestra","Transparent":"Trasparente","Semi-Transparent":"Semi trasparente","Opaque":"Opaco","Font Size":"Dimensione del font","Text Edge Style":"Stile bordo testo","None":"Nessuna","Raised":"Sollevato","Depressed":"Premuto","Uniform":"Uniforme","Dropshadow":"Ombra","Font Family":"Famiglia di font","Proportional Sans-Serif":"Sans-Serif proporzionale","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Serif proporzionale","Monospace Serif":"Monospace Serif","Casual":"Casuale","Script":"Script","Small Caps":"Maiuscoletto","Reset":"Ripristina","restore all settings to the default values":"ripristinare tutte le impostazioni ai valori predefiniti","Done":"Fatto","Caption Settings Dialog":"Finestra di dialogo Impostazioni didascalia","Beginning of dialog window. Escape will cancel and close the window.":"Inizio della finestra di dialogo. Escape annulla e chiude la finestra.","End of dialog window.":"Fine della finestra di dialogo.","ISO-639-1":"it","10 seconds backward":"Riavvolgere 10 secondi","30 seconds forward":"Avanzare 30 secondi","Audio":"Audio","Audio and subtitles":"Audio e sottotitoli","Audio Description":"Audiodescrizione","Auto play":"Auto play","Back":"Indietro","Casting to":"Play su Chromecast","Content will be available in {1} days":"Disponibile fra {1} giorni","Current position":"Posizione attuale","Current subject":"Servizio attuale","Days":"Giorni","Duration: {1}":"Durata: {1}","Edit player settings":"Modificare le impostazioni del lettore","Episode":"Episodio","HD":"HD","Continuous Playback":"Play continuo","Cancel":"Annulla","Coming next":"Prossimo","Copied":"Copiato","copy":"copia","Copy debug info":"Copia le informazioni di debug","Copy link":"Copia link","Facebook":"Facebook","Font size level {1}":"Dimensione carattere {1}","Hours":"Ore","Integrate":"Integrare","LinkedIn":"LinkedIn","Mail":"Email","Minutes":"Minuti","Off":"Disattivati","Open {1} in Play {2}":"Aprire {1} in Play {2}","Playback will begin shortly":"La riproduzione inizier\xe0 a breve","Quality":"Qualit\xe0","SD":"SD","Seconds":"Secondi","Seek to live, currently behind live":"Torna alla diretta, attualmente prima della diretta","Seek to live, currently playing live":"Torna alla diretta, attualmente in onda la diretta","Share at current position":"Condividere dalla posizione attuale","Share by e-mail":"Condividi via email","Share":"Condividere","Share on {1}":"Pubblicare su {1}","Share on Facebook":"Pubblicare su Facebook","Share on Linkedin":"Pubblicare su Linkedin","Share on Twitter":"Pubblicare su Twitter","Share on Whatsapp":"Pubblicare su Whatsapp","Share the current subject":"Condividere il servizio attuale","Share the episode":"Condividere l\'episodio","Skip credits":"Salta i credits","Skip intro":"Salta l\'intro","Speed":"Velocit\xe0 di riproduzione","Start casting":"Play su Chromecast","Start pip":"Passare a Picture in Picture","Stop":"Stop","Stop casting":"Stop play su Chromecast","Stop pip":"Smettere di Picture in Picture","The content cannot be played.":"Il contenuto non pu\xf2 essere riprodotto.","The content was skipped due to legal restriction":"Il contenuto non \xe8 fruibile a causa di restrizioni legali","This commercial media is not available.":"Questo contenuto commerciale non \xe8 disponibile.","This content is not available.":"Questo media non \xe8 disponibile.","This content is not available anymore.":"Questo media non \xe8 pi\xf9 disponibile.","This content is not available due to legal restrictions.":"Il contenuto non \xe8 fruibile a causa di restrizioni legali.","This content is not available outside Switzerland.":"Questo media non \xe8 disponibile fuori dalla Svizzera.","This content is not yet available. Please try again later.":"Il contenuto non \xe8 ancora disponibile. Per cortesia prova pi\xf9 tardi.","To protect children, this content is only available between 8PM and 6AM.":"Per proteggere i bambini, questo media \xe8 disponibile solo fra le 20 e le 6.","To protect children, this content is only available between 11PM and 5AM.":"Per proteggere i bambini, questo media \xe8 disponibile solo fra le 23 le 5.","Twitter":"Twitter","Unable to display the content. For more information and help, click here...":"Siamo spiacenti. Il contenuto desiderato non pu\xf2 essere riprodotto. Per maggiori informazioni e assistenza cliccare qui.","Unfortunately the 360 playback experience is not compatible with your browser version.":"Sfortunatamente il suo browser non \xe8 compatibile con la visualizzazione a 360 gradi.","Unfortunately this format is not compatible with your browser.":"Purtroppo il formato non \xe8 compatibile con il suo browser.","WhatsApp":"WhatsApp"}')},function(e){e.exports=JSON.parse('{"Audio Player":"Audio-Player","Video Player":"Video-Player","Play":"Laschar ir","Pause":"Pausa","Replay":"Mussar danovamain","Current Time":"Temp actual","Duration":"Durada","Remaining Time":"Temp restant","Stream Type":"Tip dal stream","LIVE":"LIVE","Loaded":"Chargi\xe0","Progress":"Progress","Progress Bar":"Bar da progessiun","progress bar timing: currentTime={1} duration={2}":"{1} da {2}","Fullscreen":"Entir visur","Non-Fullscreen":"Betg entir visur","Mute":"Senza tun","Unmute":"Cun tun","Playback Rate":"Tempo ","Subtitles":"Suttitels","subtitles off":"senza suttitels","Captions":"Suttitels","captions off":"senza suttitels","Chapters":"Chapitels","Descriptions":"Descripziuns","descriptions off":"senza descripziuns","Audio Track":"Piese audio","Volume Level":"Nivel dal volumen","You aborted the media playback":"Vus avais interrut il vdieo","A network error caused the media download to fail part-way.":"In sbagl en la rait ha imped\xec il download","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Il video n\'\xe8 betg chargi\xe0 - ubain per in sbagl da server / da la rait, ubain ch\'il format n\'\xe8 betg cumpatibel.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Il video \xe8 interrut: Ubain ch\'il video \xe8 donnegi\xe0, ubain che funcziuns n\'\xe8n betg cumpatiblas.","No compatible source was found for this media.":"Chatt\xe0 nagina funtauna cumpatibla per quest video.","The media is encrypted and we do not have the keys to decrypt it.":"Il video \xe8 codifitg\xe0 da moda nunenconuschenta.","Play Video":"Aviar video","Close":"Serrar","Close Modal Dialog":"Serrar la fanestra modala","Modal Window":"Fanestra modala","This is a modal window":"Quai \xe8 ina fanestra modala","This modal can be closed by pressing the Escape key or activating the close button.":"Questa fanestra modala pudais serrar cun la tasta \\"Escape\\" ubain cun il buttun.",", opens captions settings dialog":", avra opziuns per ils suttitels",", opens subtitles settings dialog":", avra opziuns per ils suttitels",", opens descriptions settings dialog":", avra opziuns per la descripziun",", selected":", selecziun\xe0","captions settings":"opziuns per ils suttitels","subtitles settings":"opziuns per ils suttitels","descriptions settings":"opziuns per la descripziun","Text":"Text","White":"Alv","Black":"Nair","Red":"Cotschn","Green":"Verd","Blue":"Blau","Yellow":"Mellen","Magenta":"Magenta","Cyan":"Cyan","Background":"Fund","Window":"Fanestra","Transparent":"Transparent","Semi-Transparent":"Mez transparent","Opaque":"Betg transparent","Font Size":"Grandezza dal text","Text Edge Style":"Stil dal text","None":"Nagin","Raised":"Auz\xe0","Depressed":"Sbass\xe0","Uniform":"Uniform","Dropshadow":"Sumbriva","Font Family":"Scrittira","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif","Casual":"Casual","Script":"Script","Small Caps":"Bustabs pitschens","Reset":"Da nov","restore all settings to the default values":"Enavos tar las opziuns da standard","Done":"Fatg","Caption Settings Dialog":"Opziuns per suttitels","Beginning of dialog window. Escape will cancel and close the window.":"Entschatta da la fanestra da dialog. Escape stizza e serra la fanestra.","End of dialog window.":"Fin da la fanestra da dialog.","ISO-639-1":"rm","10 seconds backward":"10 seconds backward","30 seconds forward":"30 seconds forward","Audio":"Audio","Audio and subtitles":"Audio e suttitels","Audio Description":"Audio Description","Auto play":"Autoplay","Back":"Enavos","Casting to":"Derasar via","Content will be available in {1} days":"Da survegnir a {1} d\xecs","Current position":"Posiziun actuala","Current subject":"Contribuziun actuala","Days":"D\xecs","Duration: {1}":"Durada: {1}","Edit player settings":"Modifitgar ils parameters","Episode":"Episoda","HD":"HD","Continuous Playback":"Guardar cuntinuadamain","Cancel":"Annular","Coming next":"Vegn bainbaud","Copied":"Copi\xe0","copy":"copiar","Copy debug info":"Copiar las infurmaziuns dal debugar","Copy link":"Copiar link","Facebook":"Facebook","Font size level {1}":"Nivel da grondezza da scrittira {1}","Hours":"Uras","Integrate":"Integrar","LinkedIn":"LinkedIn","Mail":"Mail","Minutes":"Minutas","Off":"Betg activ","Open {1} in Play {2}":"Avrir {1} en Play {2}","Playback will begin shortly":"Playback entschaiva gist","Quality":"Qualitad","SD":"SD","Seconds":"Secundas","Seek to live, currently behind live":"Midar tar live - per il mument davos live","Seek to live, currently playing live":"Midar tar live - per il mument live","Share at current position":"Cundivider a la posiziun actuala","Share by e-mail":"Cundivider cun e-mail","Share":"Cundivider","Share on {1}":"Cundivider tar {1}","Share on Facebook":"Cundivider tar Facebook","Share on Linkedin":"Cundivider tar Linkedin","Share on Twitter":"Cundivider tar Twitter","Share on Whatsapp":"Cundivider tar Whatsapp","Share the current subject":"Cundivider la contribuziun actuala","Share the episode":"Cundivider l\'entira episoda","Skip credits":"Sursiglir credentials","Skip intro":"Sursiglir intro","Speed":"Tempo","Start casting":"Cumenzar derasaziun","Start pip":"Start maletg en maletg","Stop":"Stop","Stop casting":"Interrumper derasaziun","Stop pip":"Stop maletg en maletg","The content cannot be played.":"Quest cuntegn na sa betg vegnir lasch\xe0 ir.","The content was skipped due to legal restriction":"Il cuntegn \xe8 vegn\xec elimin\xe0 per raschuns giuridicas","This commercial media is not available.":"Quest medium commerzial n\'\xe8 betg disponibel.","This content is not available.":"Quest cuntegn n\'\xe8 betg disponibel.","This content is not available anymore.":"Quest cuntegn n\'\xe8 betg pli disponibel.","This content is not available due to legal restrictions.":"Quest cuntegn n\'\xe8 betg disponibel perquai ch\'el \xe8 scad\xec.","This content is not available outside Switzerland.":"Quest cuntegn n\'\xe8 betg disponibel ordaifer la Svizra.","This content is not yet available. Please try again later.":"Quest cuntegn n\'\xe8 betg anc disponibel. Empruvai pli tard.","To protect children, this content is only available between 8PM and 6AM.":"Per proteger uffants, \xe8 quest cuntegn disponibel mo tranter las 20.00 e las 06.00.","To protect children, this content is only available between 11PM and 5AM.":"Per proteger uffants, \xe8 quest cuntegn disponibel mo tranter las 23.00 e las 05.00.","Twitter":"Twitter","Unable to display the content. For more information and help, click here...":"Deplorablamain n\'\xe8si betg pussaivel da reproducir il cuntegn. Ulteriuras infurmaziuns e sustegn survegnis Vus qua \u2026","Unfortunately the 360 playback experience is not compatible with your browser version.":"Displaschaivlamain na sustegn voss browser betg la visualisaziun da 360\xb0.","Unfortunately this format is not compatible with your browser.":"Displaschaivlamain n\'\xe8 il format betg cumpatibel cun Voss apparat.","WhatsApp":"WhatsApp"}')},function(e,t){},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){return void 0===t&&(t=!1),function(n,i,a){if(n)e(n);else if(i.statusCode>=400&&i.statusCode<=599){var o=a;if(t)if(r.TextDecoder){var s=function(e){return void 0===e&&(e=""),e.toLowerCase().split(";").reduce((,"utf-8")}(i.headers&&i.headers["content-type"]);try{o=new TextDecoder(s).decode(a)}catch(e){}}else o=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:o})}else e(null,a)}}},function(e,t,n){var r=n(1),i=Object.create||);totype=i(Error.prototype),a.prototype.constructor=a,a.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:get:has:function(e){return e in this.values},alt:integer:percent:;var c=r.createElement&&r.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},f={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},p={rt:"ruby"};ar m=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];nction _(){}ction S(){}_.prototype.applyStyles=_.prototype.formatStyle=b.prototype=i(_.prototype),b.prototype.constructor=b,T.prototype.move=T.prototype.overlaps=T.prototype.overlapsAny=T.prototype.within=T.prototype.overlapsOppositeAxis=T.prototype.intersectPercentage=T.prototype.toCSSCompatValues=T.getSimpleBoxPosition=S.StringDecoder=S.convertCueToDOMTree=S.processCues=S.Parser=S.Parser.prototype={reportOrThrowError:parse:flush:,e.exports=S},function(e,t){var n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};prototype.getCueAsHTML=e.exports=a},function(e,t,n){var r=n(38),i=n(76),a=n(127),o=n(128),s=i.DOMImplementation,u=r.NAMESPACE,l=o.ParseError,c=o.XMLReader;otype.parseFromString=f.prototype={startDocument:startElement:endElement:startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:ignorableWhitespace:function(e,t,n){},characters:skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:comment:startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:warning:function(e){console.warn("[xmldom warning]\t"+e,p(this.locator))},error:fatalError:,"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(),t.__DOMHandler=f,t.DOMParser=d,t.DOMImplementation=i.DOMImplementation,t.XMLSerializer=i.XMLSerializer},function(e,t,n){var r=n(38).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+i.source+a.source+"*(?::"+i.source+a.source+"*)?$");unction u(){}nction d(e,t,n){for(var i=e.tagName,a=null,o=e.length;o--;){var s=e[o],u=s.qName,l=s.value;if((h=u.indexOf(":"))>0)var c=s.prefix=u.slice(0,h),d=u.slice(h+1),f="xmlns"===c&&d;else d=u,c=null,f="xmlns"===u&&"";s.localName=d,!1!==f&&(null==a&&(a={},p(n,n={})),n[f]=a[f]=l,s.uri=r.XMLNS,t.startPrefixMapping(f,l))}for(o=e.length;o--;)(c=(s=e[o]).prefix)&&("xml"===c&&(s.uri=r.XML),"xmlns"!==c&&(s.uri=n[c||""]));var h;(h=i.indexOf(":"))>0?(c=e.prefix=i.slice(0,h),d=e.localName=i.slice(h+1)):(c=null,d=e.localName=i);var g=e.uri=n[c||""];if(t.startElement(g,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(g,d,i),a)for(c in a)t.endPrefixMapping(c)}nction p(e,t){for(var n in e)t[n]=e[n]}nction y(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,u.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),p(t,t={}),function(e,t,n,i,a){(var v=0,_=0,b=/.*(?:\r\n?|\n)|.*$/g,T=i.locator,E=[{currentNSMap:t}],S={},w=0;;){try{var C=e.indexOf("<",w);if(C<0){if(!e.substr(w).match(/^\s*$/)){var O=i.doc,A=O.createTextNode(e.substr(w));O.appendChild(A),i.currentElement=A}return}switch(C>w&&u(C),e.charAt(C+1)){case"/":var R=e.indexOf(">",C+3),P=e.substring(C+2,R).replace(/[ \t\n\r]+$/g,""),I=E.pop();R<0?(P=e.substring(C+2).replace(/[\s<].*/,""),a.error("end tag name: "+P+" is not complete:"+I.tagName),R=C+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),a.error("end tag name: "+P+" maybe not complete"),R=C+1+P.length);var k=I.localNSMap,D=I.tagName==P;if(D||I.tagName&&I.tagName.toLowerCase()==P.toLowerCase()){if(i.endElement(I.uri,I.localName,P),k)for(var M in k)i.endPrefixMapping(M);D||a.fatalError("end tag name: "+P+" is not match the current start tagName:"+I.tagName)}else E.push(I);R++;break;case"?":T&&p(C),R=m(e,C,i);break;case"!":T&&p(C),R=g(e,C,i,a);break;default:T&&p(C);var L=new y,N=E[E.length-1].currentNSMap,x=(R=c(e,C,L,N,o,a),L.length);if(!L.closed&&h(e,R,L.tagName,S)&&(L.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),T&&x){for(var F=l(T,{}),U=0;U<x;U++){var B=L[U];p(B.offset),B.locator=l(T,{})}i.locator=F,d(L,i,N)&&E.push(L),i.locator=T}else d(L,i,N)&&E.push(L);r.isHTML(L.uri)&&!L.closed?R=f(e,R,L.tagName,o,i):R++}}catch(e){if(e instanceof s)throw e;a.error("element parse error: "+e),R=-1}R>w?w=R:u(Math.max(C,w)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},y.prototype={setTagName:addValue:length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:,t.XMLReader=u,t.ParseError=s},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(77)),a=r(n(2)),o=r(n(8)),s=n(100),u="undefined"!=typeof window&&window||e,l=u.dashjs;l||(l=u.dashjs={}),l.MediaPlayer=i.default,l.FactoryMaker=a.default,l.Debug=o.default,l.Version=(0,s.getVersionString)(),t.default=l,t.MediaPlayer=i.default,t.FactoryMaker=a.default,t.Debug=o.default}).call(this,n(18))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(21)),o=r(n(7)),s=r(n(9)),u=r(n(2)),l=r(n(8));function c(){var e=this.context,t=(0,o.default)(e).getInstance(),n=void 0,r=void 0,u=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,E=void 0,S=void 0,w=void 0,C=void 0,O=void 0,A=void 0,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0;nction N(){var e=X(!0),t=S&&E?e-E.start:0;return e+(E?E.duration-t:t)}unction F(){return E&&g?g.isPaused():null}unction B(){return E&&g?g.isSeeking():null}function j(e,n,i){E&&g&&(!0===i?e!==g.getTime()&&(g.removeEventListener("seeking",ae),r.info("Requesting seek to time: "+e),g.setCurrentTime(e,n)):(t.trigger(s.default.PLAYBACK_SEEK_ASKED),r.info("Requesting seek to time: "+e),g.setCurrentTime(e,n)))}function G(){return E&&g?g.getTime():null}unction V(){return E&&g?g.getPlaybackRate():null}unction K(){return S}unction Y(){y=NaN,C=!1,_={},b=0,A=0,T={},g&&(t.off(s.default.DATA_UPDATE_COMPLETED,Z,this),t.off(s.default.BUFFER_LEVEL_STATE_CHANGED,ve,this),t.off(s.default.BYTES_APPENDED_END_FRAGMENT,me,this),t.off(s.default.LOADING_PROGRESS,ye,this),t.off(s.default.PERIOD_SWITCH_STARTED,M,this),t.off(s.default.PLAYBACK_PROGRESS,pe,this),t.off(s.default.PLAYBACK_TIME_UPDATED,pe,this),t.off(s.default.PLAYBACK_ENDED,fe,this),$(),g.removeEventListener("canplay",ee),g.removeEventListener("play",te),g.removeEventListener("waiting",ne),g.removeEventListener("playing",re),g.removeEventListener("pause",ie),g.removeEventListener("error",he),g.removeEventListener("seeking",ae),g.removeEventListener("seeked",oe),g.removeEventListener("timeupdate",se),g.removeEventListener("progress",ue),g.removeEventListener("ratechange",le),g.removeEventListener("loadedmetadata",ce),g.removeEventListener("stalled",_e),g.removeEventListener("ended",de)),v=null,g=null,E=null,S=null}function W(){var e=D.getURIFragmentData(),t=void 0;if(e){t={};var n=parseInt(e.r,10);n>=0&&E&&n<E.manifestInfo.DVRWindowSize&&null===e.t&&(e.t=Math.max(Math.floor(Date.now()/1e3)-E.manifestInfo.DVRWindowSize,E.manifestInfo.availableFrom.getTime()/1e3+E.start)+n),t.fragS=parseFloat(e.s),t.fragT=parseFloat(e.t)}return t}function X(e,t){var n=void 0,r=NaN;if(e)r=E?E.start:r;else{var i=W();r=i?isNaN(i.fragS)?i.fragT:i.fragS:0}if(S)!isNaN(r)&&E&&((n=r-E.manifestInfo.availableFrom.getTime()/1e3)>y||n<(isNaN(t)?NaN:t-E.manifestInfo.DVRWindowSize))&&(n=null),n=n||y;else if(E)if(!isNaN(r)&&r<Math.max(E.manifestInfo.duration,E.duration)&&r>=0)n=r;else{var a=_[E.id];n=void 0!==a?Math.max(void 0!==a.audio?a.audio:0,void 0!==a.video?a.video:0,E.start):E.start}return n}function Q(){null===v&&(v=setInterval((function(){var e;t.trigger(s.default.WALLCLOCK_TIME_UPDATED,{isDynamic:S,time:new Date}),K()&&F()&&(e=Date.now(),(!O||e>O+500)&&(O=e,se()))}),w.getWallclockTimeUpdateInterval()))}unction J(){if(!F()&&S&&0!==g.getReadyState()){var e=H(),t=function(e){var t=c.getReadOnlyMetricsFor(i.default.VIDEO)||c.getReadOnlyMetricsFor(i.default.AUDIO),n=d.getCurrentDVRInfo(t),r=n?n.range:null,a=void 0;if(!r)return NaN;if(e>r.end)a=Math.max(r.end-2*E.manifestInfo.minBufferTime,r.start);else{if(!(e+.25<r.start))return e;a=r.start}return a}(e);!isNaN(t)&&t!==e&&j(t)}}unction ee(){t.trigger(s.default.CAN_PLAY)}unction ne(){r.info("Native video element event: waiting"),t.trigger(s.default.PLAYBACK_WAITING,{playingTime:G()})}function re(){r.info("Native video element event: playing"),t.trigger(s.default.PLAYBACK_PLAYING,{playingTime:G()})}unction ae(){var e=G();r.info("Seeking to: "+e),Q(),t.trigger(s.default.PLAYBACK_SEEKING,{seekTime:e})}unction se(){E&&t.trigger(s.default.PLAYBACK_TIME_UPDATED,{timeToEnd:L(),time:G()})}function ue(){t.trigger(s.default.PLAYBACK_PROGRESS)}ion pe(){S&&w.getLowLatencyEnabled()&&w.getCatchUpPlaybackRate()>0&&!F()&&!B()&&(w.getCatchUpPlaybackRate()>0&&G()>0&&Math.abs(z()-w.getLiveDelay())>w.getLowLatencyMinDrift()?function(){if(g){var e=w.getCatchUpPlaybackRate(),t=w.getLiveDelay(),n=z()-t,a=5*n,o=1-e+2*e/(1+Math.pow(Math.E,-a));I&&(function(){var e=null;return u.getActiveStreamProcessors().forEach((),e}()>t/2?I=!1:n>0&&(o=1)),Math.abs(g.getPlaybackRate()-o)>k&&g.setPlaybackRate(o),w.getLowLatencyMaxDriftBeforeSeeking()>0&&!P&&n>w.getLowLatencyMaxDriftBeforeSeeking()?(r.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),P=!0,s=c.getReadOnlyMetricsFor(i.default.VIDEO)||c.getReadOnlyMetricsFor(i.default.AUDIO),j(((l=d.getCurrentDVRInfo(s))?l.range:null).end-w.getLiveDelay(),!0,!1)):P=!1}var s,l}():ge())}unction me(e){var t,n=void 0,r=e.bufferedRanges;if(r&&r.length&&(!_[E.id]||!0!==_[E.id].started)){var a=e.sender.getType();void 0===T[E.id]&&(T[E.id]=[]),T[E.id][a]=r,void 0===_[E.id]&&(_[E.id]=[],_[E.id].started=!1),void 0===_[E.id][a]&&(_[E.id][a]=Math.max(r.start(0),E.start));var o=u.isTrackTypePresent(i.default.VIDEO),s=u.isTrackTypePresent(i.default.AUDIO);t=X(!1),s&&o?isNaN(_[E.id].audio)||isNaN(_[E.id].video)||(_[E.id].audio<_[E.id].video?(n=_[E.id].video>t?_[E.id].video:t,r=T[E.id].audio):(n=_[E.id].audio>t?_[E.id].audio:t,r=T[E.id].video),function(e,t){if(t&&t.length>0)for(var n=0,r=t.length;n<r;n++)if(e>=t.start(n)&&e<t.end(n))return!0;return!1}(n,r)&&(B()||R||0===n||j(n,!0,!0),_[E.id].started=!0)):_[E.id][a]&&(n=_[E.id][a]>t?_[E.id][a]:t,B()||R||j(n,!1,!0),_[E.id].started=!0)}}function ye(e){if(!1===e.stream&&w.getLowLatencyEnabled()&&!isNaN(e.request.duration)){var t=1.2*e.request.duration;t>w.getLiveDelay()&&(r.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",t.toFixed(2)),w.setLiveDelay(t))}}function ve(e){e.streamInfo.id===E.id&&(w.getLowLatencyEnabled()?e.state!==a.default.BUFFER_EMPTY||B()||I||(I=!0,ge()):g.setStallState(e.mediaType,e.state===a.default.BUFFER_EMPTY))}eturn n={initialize:function(e,n){E=e,g.addEventListener("canplay",ee),g.addEventListener("play",te),g.addEventListener("waiting",ne),g.addEventListener("playing",re),g.addEventListener("pause",ie),g.addEventListener("error",he),g.addEventListener("seeking",ae),g.addEventListener("seeked",oe),g.addEventListener("timeupdate",se),g.addEventListener("progress",ue),g.addEventListener("ratechange",le),g.addEventListener("loadedmetadata",ce),g.addEventListener("stalled",_e),g.addEventListener("ended",de),S=E.manifestInfo.isDynamic,P=!1,I=!1,y=E.start,R=n;var r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=/safari/.test(r)&&!/chrome/.test(r);k=i?.25:.02,t.on(s.default.DATA_UPDATE_COMPLETED,Z,this),t.on(s.default.BYTES_APPENDED_END_FRAGMENT,me,this),t.on(s.default.LOADING_PROGRESS,ye,this),t.on(s.default.BUFFER_LEVEL_STATE_CHANGED,ve,this),t.on(s.default.PERIOD_SWITCH_STARTED,M,this),t.on(s.default.PLAYBACK_PROGRESS,pe,this),t.on(s.default.PLAYBACK_TIME_UPDATED,pe,this),t.on(s.default.PLAYBACK_ENDED,fe,this),C&&(C=!1,x())},setConfig:getStartTimeFromUriParameters:W,getStreamStartTime:X,getTimeToStreamEnd:L,getTime:G,getNormalizedTime:H,getPlaybackRate:V,getPlayedRanges:getEnded:q,getIsDynamic:K,getStreamController:function(){return u},setLiveStartTime:function(e){y=e},getLiveStartTime:function(){return y},computeLiveDelay:function(e,t){var n=h.getMpd(f.getValue()),r=void 0,a=void 0;if(r=w.getUseSuggestedPresentationDelay()&&n.hasOwnProperty(i.default.SUGGESTED_PRESENTATION_DELAY)?n.suggestedPresentationDelay:w.getLowLatencyEnabled()?0:w.getLiveDelay()?w.getLiveDelay():isNaN(e)?2*E.manifestInfo.minBufferTime:e*w.getLiveDelayFragmentCount(),n.availabilityStartTime&&(A=n.availabilityStartTime.getTime()),t>0){var o=Math.max(t-10,t/2);a=Math.min(r,o)}else a=r;return b=a,a},getLiveDelay:function(){return b},getCurrentLiveLatency:z,play:x,isPaused:F,pause:U,isSeeking:B,seek:j,reset:Y},r=(0,l.default)(e).getInstance().getLogger(n),Y(),n}c.__dashjs_factory_name="PlaybackController",t.default=u.default.getSingletonFactory(c),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(40))&&r.__esModule?r:{default:r}).default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=n(12),o=r(n(133)),s=r(n(33)),u=r(n(79)),l=r(n(2)),c=r(n(8)),d=r(n(54)),f=r(n(154)),h=r(n(53)),p=r(n(85)),g=r(n(7)),m=r(n(9)),y=r(n(10)),v=r(n(11));function _(){var e=this.context,t=(0,g.default)(e).getInstance(),n=!1,r=void 0,l=void 0,_=void 0,b=void 0,T=void 0,E=void 0,S=void 0,w=void 0,C=void 0,O=void 0,A=void 0,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0,L=void 0,N=void 0,x=void 0,F=void 0,U=void 0,B=void 0,j=void 0,G=void 0,H=void 0,V=void 0;nction z(){F=[],(R=(0,d.default)(e).getInstance()).setConfig({videoModel:M}),R.initialize(),_=(0,s.default)(e).getInstance(),x=null,U=0,G=[],j=[],B=null,n=!0,H=(0,f.default)(e).getInstance();var r=L.getActiveStreamProcessors();for(var i in r)if("video"===r[i].getType()){V=r[i].getRepresentationInfo().MSETimeOffset;break}t.on(m.default.VIDEO_CHUNK_RECEIVED,K,this)}unction W(e,t){var n,r,a=new o.default,s={subtitle:"subtitles",caption:"captions"};a.captionData=e,a.lang=t.lang,a.labels=t.labels,a.id=t.id?t.id:t.index,a.index=t.index,a.isTTML=(n=!1,t.codec&&t.codec.search(i.default.STPP)>=0&&(n=!0),t.mimeType&&t.mimeType.search(i.default.TTML)>=0&&(n=!0),n),a.defaultTrack=t),a.isFragmented=!T.getIsTextTrack(t.mimeType),a.isEmbedded=!!t.isEmbedded,a.kind=r=(r=t.roles.length>0?s[t.roles[0]]:s.caption)===s.caption||r===s.subtitle?r:s.caption,a.roles=t.roles,a.accessibility=t.accessibility;var u=(A?A.length:0)+F.length;R.addTextTrack(a,u)}function X(e,t){var n=void 0,r=void 0,o=void 0,s=void 0,u=void 0,c=void 0,d=void 0,f=t.mediaInfo,g=f.type,m=f.mimeType,T=f.codec||m;if(T){if(g===i.default.FRAGMENTED_TEXT)if(I)if(r=(c=_.getSamplesInfo(e)).sampleList,null===N&&r.length>0&&(N=r[0].cts-t.start*k),T.search(i.default.STPP)>=0)for(w=null!==w?w:Q(T),o=0;o<r.length;o++){var S=(Y=r[o]).cts,C=S-N;this.buffered.add(C/k,(C+Y.duration)/k);var O=new DataView(e,Y.offset,Y.subSizes[0]);d=h.default.Utils.dataViewToString(O,i.default.UTF8);var A=[],D=Y.offset+Y.subSizes[0];for(s=1;s<Y.subSizes.length;s++){var L=new Uint8Array(e,D,Y.subSizes[s]),q=String.fromCharCode.apply(null,L);A.push(q),D+=Y.subSizes[s]}try{var K=E.getValue().ttmlTimeIsRelative?S/k:0;n=w.parse(d,K,S/k,(S+Y.duration)/k,A),R.addCaptions(x,N/k,n)}catch(e){P.removeExecutedRequestsBeforeTime(),this.remove(),l.error("TTML parser error: "+e.message)}}else{var z=[];for(o=0;o<r.length;o++){var Y;(Y=r[o]).cts-=N,this.buffered.add(Y.cts/k,(Y.cts+Y.duration)/k);var X=e.slice(Y.offset,Y.offset+Y.size),$=h.default.parseBuffer(X);for(s=0;s<$.boxes.length;s++){var J=$.boxes[s];if(l.debug("VTT box1: "+J.type),"vtte"!==J.type&&"vttc"===J.type)for(l.debug("VTT vttc boxes.length = "+J.boxes.length),u=0;u<J.boxes.length;u++){var Z=J.boxes[u];if(l.debug("VTT box2: "+Z.type),"payl"===Z.type){var ee=Z.cue_text;l.debug("VTT cue_text = "+ee);var te=Y.cts/k,ne=(Y.cts+Y.duration)/k;z.push({start:te,end:ne,data:ee,styles:{}}),l.debug("VTT "+te+"-"+ne+" : "+ee)}}}}z.length>0&&R.addCaptions(x,0,z)}else I=!0,k=_.getMediaTimescaleFromMoov(e);else if(g===i.default.TEXT){O=new DataView(e,0,e.byteLength),d=h.default.Utils.dataViewToString(O,i.default.UTF8);try{n=Q(T).parse(d,0),R.addCaptions(R.getCurrentTrackIdx(),0,n)}catch(e){b.timedTextError(e,"parse",d),b.error(new y.default(v.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,v.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+e.message,d))}}else if(g===i.default.VIDEO)if(t.segmentType===a.HTTPRequest.INIT_SEGMENT_TYPE){if(0===U)for(U=_.getMediaTimescaleFromMoov(e),o=0;o<F.length;o++)W(null,F[o])}else{if(0===U)return void l.warn("CEA-608: No timescale for embeddedTextTrack yet");var re=function(e,t){return function(e,n,r){var i=null;(i=M.getTTMLRenderingDiv()?H.createHTMLCaptionsFromScreen(M.getElement(),e,n,r):[{start:e,end:n,data:r.getDisplayText(),styles:{}}])&&R.addCaptions(t,0,i)}},ie=(c=_.getSamplesInfo(e)).lastSequenceNumber;if(!G[0]&&!G[1]){var ae=void 0,oe=void 0;for(o=0;o<F.length;o++){if(F[o].id===i.default.CC1?oe=R.getTrackIdxForId(i.default.CC1):F[o].id===i.default.CC3&&(oe=R.getTrackIdxForId(i.default.CC3)),-1===oe)return void l.warn("CEA-608: data before track is ready.");ae=re(0,oe),G[o]=new p.default.Cea608Parser(o+1,{newCue:ae},null)}}if(U&&-1==j.indexOf(ie)){if(null!==B&&ie!==B+c.numSequences)for(o=0;o<G.length;o++)G[o]&&G[o].reset();for(var se=function(e,t){if(0===t.length)return null;for(var n={splits:[],fields:[[],[]]},r=new DataView(e),i=0;i<t.length;i++)for(var a=t[i],o=p.default.findCea608Nalus(r,a.offset,a.size),s=null,u=0,l=0;l<o.length;l++)for(var c=p.default.extractCea608DataFromRange(r,o[l]),d=0;d<2;d++)c[d].length>0&&(a.cts!==s?u=0:u+=1,n.fields[d].push([a.cts+V*U,c[d],u]),s=a.cts);return n.fields.forEach((),n}(e,c.sampleList),ue=0;ue<G.length;ue++){var le=se.fields[ue],ce=G[ue];if(ce)for(o=0;o<le.length;o++)ce.addData(le[o][0]/U,le[o][1])}B=ie,j.push(ie)}}}else l.error("No text type defined")}eturn r={initialize:function(t,a){n||z(),R.setConfig({videoModel:M}),R.initialize(),_||(_=(0,s.default)(e).getInstance()),function(t,n){var a=!T.getIsTextTrack(t);if(n){if(A=A.concat(n.getMediaInfoArr()),a){P=n.getFragmentModel(),r.buffered=(0,u.default)(e).create(),D=S.getTracksFor(i.default.FRAGMENTED_TEXT,L.getActiveStreamInfo());for(var o=S.getCurrentTrackFor(i.default.FRAGMENTED_TEXT,L.getActiveStreamInfo()),s=0;s<D.length;s++)if(D[s]===o){Y(s);break}}for(s=0;s<A.length;s++)W(null,A[s])}}(t,a)},append:X,abort:function(){R.deleteAllTextTracks(),_=null,A=[],P=null,I=!1,D=[]},addEmbeddedTrack:function(e){if(n||z(),e)if(e.id===i.default.CC1||e.id===i.default.CC3){for(var t=0;t<F.length;t++)if(F[t].id===e.id)return;F.push(e)}else l.warn("Embedded track "+e.id+" not supported!")},resetEmbedded:function(){t.off(m.default.VIDEO_CHUNK_RECEIVED,K,this),R&&R.deleteAllTextTracks(),n=!1,F=[],G=[null,null],j=[],B=null},setConfig:getConfig:setCurrentFragmentedTrackIdx:Y,remove:function(e,t){void 0===e&&e===t&&(e=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1)),this.buffered.remove(e,t)},reset:function(){q(),L=null,M=null,R=null}},l=(0,c.default)(e).getInstance().getLogger(r),q(),r}_.__dashjs_factory_name="TextSourceBuffer",t.default=l.default.getSingletonFactory(_),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(135)),a=r(n(2));function o(){var e=void 0;turn{getBox:getBoxes:t,setData:function(t){e=t},getLastBox:}o.__dashjs_factory_name="IsoFile",t.default=a.default.getClassFactory(o),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(var n=0;n<t.boxes.length;n++)this.boxes.push(new e(t.boxes[n]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references)for(this.references=[],n=0;n<t.references.length;n++){var r={reference_type:t.references[n].reference_type,referenced_size:t.references[n].referenced_size,subsegment_duration:t.references[n].subsegment_duration};this.references.push(r)}break;case"emsg":this.id=t.id,this.value=t.value,this.timescale=t.timescale,this.scheme_id_uri=t.scheme_id_uri,this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta,this.event_duration=t.event_duration,this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count,this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset,this.sample_description_index=t.sample_description_index,this.default_sample_duration=t.default_sample_duration,this.default_sample_size=t.default_sample_size,this.default_sample_flags=t.default_sample_flags,this.flags=t.flags;break;case"tfdt":this.version=t.version,this.baseMediaDecodeTime=t.baseMediaDecodeTime,this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples){this.samples=[],n=0;for(var i=t.samples.length;n<i;n++){var a={sample_size:t.samples[n].sample_size,sample_duration:t.samples[n].sample_duration,sample_composition_time_offset:t.samples[n].sample_composition_time_offset};this.samples.push(a)}}}}return r(e,[{key:"getChildBox",value:,{key:"getChildBoxes",value:]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){!function(e,t,n,r){e.generateISD=function(e,t,r){var i=new o(e),s={},u={},l={},c=e.head.styling.initials[n.byName.showBackground.qname],d=e.head.styling.initials[n.byName.backgroundColor.qname];for(var f in e.head.layout.regions)if(e.head.layout.regions.hasOwnProperty(f)){var h=e.head.layout.regions[f],p=h.styleAttrs[n.byName.showBackground.qname]||c,g=h.styleAttrs[n.byName.backgroundColor.qname]||d;l[h.id]=("always"===p||void 0===p)&&void 0!==g&&!(t<h.begin||t>=h.end)}for(var m in e.body&&e.body.regionID&&(l[e.body.regionID]=!0),u=null!==e.body?t,e.body):null,void 0!==l[""]&&(l[""]=!0),l)if(l[m]){var y=a(e,t,e.head.layout.regions[m],u,null,"",e.head.layout.regions[m],r,s);null!==y&&i.contents.push(y.element)}return i};var i=[n.byName.color.qname,n.byName.textCombine.qname,n.byName.textDecoration.qname,n.byName.textEmphasis.qname,n.byName.textOutline.qname,n.byName.textShadow.qname];function a(e,t,o,l,c,d,f,h,p){if(t<f.begin||t>=f.end)return null;var g="regionID"in f&&""!==f.regionID?f.regionID:d;if(null!==c&&g!==o.id&&(!("contents"in f)||"contents"in f&&0===f.contents.length||""!==g))return null;var m=new s(f);if("sets"in f)for(var y=0;y<f.sets.length;y++)t<f.sets[y].begin||t>=f.sets[y].end||(m.styleAttrs[f.sets[y].qname]=f.sets[y].value);var v={};for(var _ in m.styleAttrs)if(m.styleAttrs.hasOwnProperty(_)&&(v[_]=!0,"region"===m.kind&&_===n.byName.writingMode.qname&&!(n.byName.direction.qname in m.styleAttrs))){var b=m.styleAttrs[_];"lrtb"===b||"lr"===b?m.styleAttrs[n.byName.direction.qname]="ltr":"rltb"!==b&&"rl"!==b||(m.styleAttrs[n.byName.direction.qname]="rtl")}if(null!==c)for(var T=0;T<n.all.length;T++){var E=n.all[T];if(E.qname===n.byName.textDecoration.qname){var S=c.styleAttrs[E.qname],w=m.styleAttrs[E.qname],C=[];void 0===w?C=S:-1===w.indexOf("none")?((-1===w.indexOf("noUnderline")&&-1!==S.indexOf("underline")||-1!==w.indexOf("underline"))&&C.push("underline"),(-1===w.indexOf("noLineThrough")&&-1!==S.indexOf("lineThrough")||-1!==w.indexOf("lineThrough"))&&C.push("lineThrough"),(-1===w.indexOf("noOverline")&&-1!==S.indexOf("overline")||-1!==w.indexOf("overline"))&&C.push("overline")):C.push("none"),m.styleAttrs[E.qname]=C}else if(E.qname!==n.byName.fontSize.qname||E.qname in m.styleAttrs||"span"!==m.kind||"textContainer"!==m.styleAttrs[n.byName.ruby.qname])if(E.qname!==n.byName.fontSize.qname||E.qname in m.styleAttrs||"span"!==m.kind||"text"!==m.styleAttrs[n.byName.ruby.qname])E.inherit&&E.qname in c.styleAttrs&&!(E.qname in m.styleAttrs)&&(m.styleAttrs[E.qname]=c.styleAttrs[E.qname]);else{var O=c.styleAttrs[n.byName.fontSize.qname];"textContainer"===c.styleAttrs[n.byName.ruby.qname]?m.styleAttrs[E.qname]=O:m.styleAttrs[E.qname]=new r.ComputedLength(.5*O.rw,.5*O.rh)}else{var A=c.styleAttrs[n.byName.fontSize.qname];m.styleAttrs[E.qname]=new r.ComputedLength(.5*A.rw,.5*A.rh)}}for(var R=0;R<n.all.length;R++){var P=n.all[R];if(!(P.qname in m.styleAttrs)&&!(P.qname===n.byName.position.qname&&n.byName.origin.qname in m.styleAttrs||P.qname===n.byName.origin.qname&&n.byName.position.qname in m.styleAttrs)){var I=e.head.styling.initials[P.qname]||P.initial;if(null!==I&&("region"===m.kind||!1===P.inherit&&null!==I)){var k=P.parse(I);null!==k?(m.styleAttrs[P.qname]=k,v[P.qname]=!0):u(h,"Invalid initial value for '"+P.qname+"' on element '"+m.kind)}}}for(var D=0;D<n.all.length;D++){var M=n.all[D];if(M.qname in v&&null!==M.compute){var L=M.compute(e,c,m,m.styleAttrs[M.qname],p);null!==L?m.styleAttrs[M.qname]=L:(m.styleAttrs[M.qname]=M.compute(e,c,m,M.parse(M.initial),p),u(h,"Style '"+M.qname+"' on element '"+m.kind+"' cannot be computed"))}}if("none"===m.styleAttrs[n.byName.display.qname])return null;var N=null;null===c?N=null===l?[]:[l]:"contents"in f&&(N=f.contents);for(var x=0;null!==N&&x<N.length;x++){var F=a(e,t,o,l,m,g,N[x],h,p);null!==F&&m.contents.push(F.element)}for(var U in m.styleAttrs)if(m.styleAttrs.hasOwnProperty(U)){var B=!1;if("span"===m.kind){var j=m.styleAttrs[n.byName.ruby.qname];(B=("container"===j||"textContainer"===j||"baseContainer"===j)&&-1!==i.indexOf(U))||(B="container"!==j&&U===n.byName.rubyAlign.qname),B||(B=!("textContainer"===j||"text"===j)&&U===n.byName.rubyPosition.qname)}if(!B){var G=n.byQName[U];"applies"in G&&(B=-1===G.applies.indexOf(m.kind))}B&&delete m.styleAttrs[U]}var H=m.styleAttrs[n.byName.ruby.qname];if("p"===m.kind||"span"===m.kind&&("textContainer"===H||"text"===H)){var V=[];!m,V),V),m)}return"div"===m.kind&&n.byName.backgroundImage.qname in m.styleAttrs||"br"===m.kind||"image"===m.kind||"contents"in m&&m.contents.length>0||"span"===m.kind&&null!==m.text||"region"===m.kind&&"always"===m.styleAttrs[n.byName.showBackground.qname]?{region_id:g,element:m}:null}nction u(e,t){if(e&&e.error&&e.error(t))throw t}}(t,"undefined"==typeof imscNames?n(41):imscNames,"undefined"==typeof imscStyles?n(55):imscStyles,"undefined"==typeof imscUtils?n(42):imscUtils)},function(e,t,n){!t,"undefined"==typeof sax?n(139):sax,"undefined"==typeof imscNames?n(41):imscNames,"undefined"==typeof imscStyles?n(55):imscStyles,"undefined"==typeof imscUtils?n(42):imscUtils)},function(e,t,n){(function(e){!function(t){t.parser=function(e,t){return new a(e,t)},t.SAXParser=a,t.SAXStream=s,t.createStream=t.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=,Object.keys||(Object.keys=,a.prototype={end:function(){D(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return k(this,"Cannot write after close. Assign an onready handler.");if(null===e)return D(this);"object"==typeof e&&(e=e.toString());for(var n=0,r="";r=G(e,n++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case C.BEGIN:if(this.state=C.BEGIN_WHITESPACE,"\ufeff"===r)continue;j(this,r);continue;case C.BEGIN_WHITESPACE:j(this,r);continue;case C.TEXT:if(this.sawRoot&&!this.closedRoot){for(var a=n-1;r&&"<"!==r&&"&"!==r;)(r=G(e,n++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(a,n-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(!T(u,r)||this.sawRoot&&!this.closedRoot||M(this,"Text data outside of root node."),"&"===r?this.state=C.TEXT_ENTITY:this.textNode+=r):(this.state=C.OPEN_WAKA,this.startTagPosition=this.position);continue;case C.SCRIPT:"<"===r?this.state=C.SCRIPT_ENDING:this.script+=r;continue;case C.SCRIPT_ENDING:"/"===r?this.state=C.CLOSE_TAG:(this.script+="<"+r,this.state=C.SCRIPT);continue;case C.OPEN_WAKA:if("!"===r)this.state=C.SGML_DECL,this.sgmlDecl="";else if(b(u,r));else if(b(g,r))this.state=C.OPEN_TAG,this.tagName=r;else if("/"===r)this.state=C.CLOSE_TAG,this.tagName="";else if("?"===r)this.state=C.PROC_INST,this.procInstName=this.procInstBody="";else{if(M(this,"Unencoded <"),this.startTagPosition+1<this.position){var o=this.position-this.startTagPosition;r=new Array(o).join(" ")+r}this.textNode+="<"+r,this.state=C.TEXT}continue;case C.SGML_DECL:"[CDATA["===(this.sgmlDecl+r).toUpperCase()?(R(this,"onopencdata"),this.state=C.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=C.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+r).toUpperCase()?(this.state=C.DOCTYPE,(this.doctype||this.sawRoot)&&M(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(R(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=C.TEXT):b(d,r)?(this.state=C.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case C.SGML_DECL_QUOTED:r===this.q&&(this.state=C.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case C.DOCTYPE:">"===r?(this.state=C.TEXT,R(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=C.DOCTYPE_DTD:b(d,r)&&(this.state=C.DOCTYPE_QUOTED,this.q=r));continue;case C.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=C.DOCTYPE:b(d,r)&&(this.state=C.DOCTYPE_DTD_QUOTED,this.q=r);continue;case C.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=C.DOCTYPE_DTD,this.q="");continue;case C.COMMENT:"-"===r?this.state=C.COMMENT_ENDING:this.comment+=r;continue;case C.COMMENT_ENDING:"-"===r?(this.state=C.COMMENT_ENDED,this.comment=I(this.opt,this.comment),this.comment&&R(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=C.COMMENT);continue;case C.COMMENT_ENDED:">"!==r?(M(this,"Malformed comment"),this.comment+="--"+r,this.state=C.COMMENT):this.state=C.TEXT;continue;case C.CDATA:"]"===r?this.state=C.CDATA_ENDING:this.cdata+=r;continue;case C.CDATA_ENDING:"]"===r?this.state=C.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=C.CDATA);continue;case C.CDATA_ENDING_2:">"===r?(this.cdata&&R(this,"oncdata",this.cdata),R(this,"onclosecdata"),this.cdata="",this.state=C.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=C.CDATA);continue;case C.PROC_INST:"?"===r?this.state=C.PROC_INST_ENDING:b(u,r)?this.state=C.PROC_INST_BODY:this.procInstName+=r;continue;case C.PROC_INST_BODY:if(!this.procInstBody&&b(u,r))continue;"?"===r?this.state=C.PROC_INST_ENDING:this.procInstBody+=r;continue;case C.PROC_INST_ENDING:">"===r?(R(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=C.TEXT):(this.procInstBody+="?"+r,this.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:b(m,r)?this.tagName+=r:(L(this),">"===r?F(this):"/"===r?this.state=C.OPEN_TAG_SLASH:(T(u,r)&&M(this,"Invalid character in tag name"),this.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:">"===r?(F(this,!0),U(this)):(M(this,"Forward-slash in opening tag not followed by >"),this.state=C.ATTRIB);continue;case C.ATTRIB:if(b(u,r))continue;">"===r?F(this):"/"===r?this.state=C.OPEN_TAG_SLASH:b(g,r)?(this.attribName=r,this.attribValue="",this.state=C.ATTRIB_NAME):M(this,"Invalid attribute name");continue;case C.ATTRIB_NAME:"="===r?this.state=C.ATTRIB_VALUE:">"===r?(M(this,"Attribute without value"),this.attribValue=this.attribName,x(this),F(this)):b(u,r)?this.state=C.ATTRIB_NAME_SAW_WHITE:b(m,r)?this.attribName+=r:M(this,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=C.ATTRIB_VALUE;else{if(b(u,r))continue;M(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",R(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?F(this):b(g,r)?(this.attribName=r,this.state=C.ATTRIB_NAME):(M(this,"Invalid attribute name"),this.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(b(u,r))continue;b(d,r)?(this.q=r,this.state=C.ATTRIB_VALUE_QUOTED):(M(this,"Unquoted attribute value"),this.state=C.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case C.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=C.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}x(this),this.q="",this.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:b(u,r)?this.state=C.ATTRIB:">"===r?F(this):"/"===r?this.state=C.OPEN_TAG_SLASH:b(g,r)?(M(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=C.ATTRIB_NAME):M(this,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(T(f,r)){"&"===r?this.state=C.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}x(this),">"===r?F(this):this.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(this.tagName)">"===r?U(this):b(m,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=C.SCRIPT):(T(u,r)&&M(this,"Invalid tagname in closing tag"),this.state=C.CLOSE_TAG_SAW_WHITE);else{if(b(u,r))continue;T(g,r)?this.script?(this.script+="</"+r,this.state=C.SCRIPT):M(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case C.CLOSE_TAG_SAW_WHITE:if(b(u,r))continue;">"===r?U(this):M(this,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:var s,l;switch(this.state){case C.TEXT_ENTITY:s=C.TEXT,l="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:s=C.ATTRIB_VALUE_QUOTED,l="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:s=C.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===r?(this[l]+=B(this),this.entity="",this.state=s):b(this.entity.length?v:y,r)?this.entity+=r:(M(this,"Invalid character in entity name"),this[l]+="&"+this.entity+r,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&this),this},resume:close:function(){return this.write(null)},flush:;try{r=n(140).Stream}catch(e){r=function(){}}var o=t.EVENTS.filter(();.prototype=Object.create(r.prototype,{constructor:{value:s}}),s.prototype.write=s.prototype.end=s.prototype.on=var u="\r\n\t ",l="0124356789",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",d="'\"",f=u+">",h="http://www.w3.org/XML/1998/namespace",p={xml:h,xmlns:"http://www.w3.org/2000/xmlns/"};u=_(u),l=_(l),c=_(c);var g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;(d),f=_(f);var E,S,w,C=0;for(var O in t.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((),t.STATE)t.STATE[t.STATE[O]]=O;g.fromCodePoint||(E=String.fromCharCode,S=Math.floor,w=Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(t)}).call(this,n(32).Buffer)},function(e,t){},function(e,t,n){e.exports=n(59)},function(e,t,n){e.exports=n(57).Transform},function(e,t,n){!function(e,t,n){function r(e,t,c,f){var h;if("region"===c.kind)(h=document.createElement("div")).style.position="absolute";else if("body"===c.kind)h=document.createElement("div");else if("div"===c.kind)h=document.createElement("div");else if("image"===c.kind){if(h=document.createElement("img"),null!==e.imgResolver&&null!==c.src){var m=e.imgResolver(c.src,h);m&&(h.src=m),h.height=e.regionH,h.width=e.regionW}}else if("p"===c.kind)h=document.createElement("p");else if("span"===c.kind)if("container"===c.styleAttrs[n.byName.ruby.qname])h=document.createElement("ruby"),e.ruby=!0;else if("base"===c.styleAttrs[n.byName.ruby.qname])h=document.createElement("rb");else if("text"===c.styleAttrs[n.byName.ruby.qname])h=document.createElement("rt");else if("baseContainer"===c.styleAttrs[n.byName.ruby.qname])h=document.createElement("rbc");else if("textContainer"===c.styleAttrs[n.byName.ruby.qname])h=document.createElement("rtc");else{if("delimiter"===c.styleAttrs[n.byName.ruby.qname])return;h=document.createElement("span")}else"br"===c.kind&&(h=document.createElement("br"));if(h){if(c.lang&&("region"!==c.kind&&c.lang===f.lang||(h.lang=c.lang)),t.appendChild(h),h.style.margin="0","region"===c.kind){var v=c.styleAttrs[n.byName.writingMode.qname];"lrtb"===v||"lr"===v?(e.ipd="lr",e.bpd="tb"):"rltb"===v||"rl"===v?(e.ipd="rl",e.bpd="tb"):"tblr"===v?(e.ipd="tb",e.bpd="lr"):"tbrl"!==v&&"tb"!==v||(e.ipd="tb",e.bpd="rl")}else if("p"===c.kind&&"tb"===e.bpd){var _=c.styleAttrs[n.byName.direction.qname];e.ipd="ltr"===_?"lr":"rl"}for(var b=0;b<d.length;b++){var T=d[b],E=c.styleAttrs[T.qname];void 0!==E&&null!==T.map&&T.map(e,h,c,E)}var S=h,w=c.styleAttrs[n.byName.linePadding.qname];if(w&&!w.isZero()){var C=w.toUsedLength(e.w,e.h);if(C>0){var O=Math.ceil(C)+"px";"tb"===e.bpd?(S.style.paddingLeft=O,S.style.paddingRight=O):(S.style.paddingTop=O,S.style.paddingBottom=O),e.lp=w}}var A=c.styleAttrs[n.byName.multiRowAlign.qname];if(A&&"auto"!==A){var R=document.createElement("span");R.style.display="inline-block",R.style.textAlign=A,h.appendChild(R),S=R,e.mra=A}var P=c.styleAttrs[n.byName.rubyReserve.qname];if(P&&"none"!==P[0]&&(e.rubyReserve=P),c.styleAttrs[n.byName.fillLineGap.qname]&&(e.flg=!0),"span"===c.kind&&c.text){var I=c.styleAttrs[n.byName.textEmphasis.qname];if(I&&"none"!==I.style&&(e.textEmphasis=!0),n.byName.textCombine.qname in c.styleAttrs&&"all"===c.styleAttrs[n.byName.textCombine.qname])h.textContent=c.text,I&&l(e,h,c,I);else for(var k="",D=0;D<c.text.length;D++){k+=c.text.charAt(D);var M=c.text.charCodeAt(D);if(M<55296||M>56319||D===c.text.length-1){var L=document.createElement("span");L.textContent=k,I&&l(e,L,c,I),h.appendChild(L),k="",L._isd_element=c}}}if("contents"in c)for(var N=0;N<c.contents.length;N++)r(e,S,c.contents[N],c);var x=[];if("p"===c.kind&&(u(e,S,x,null),e.rubyReserve&&(x,e),e.rubyReserve=null),(e.ruby||e.rubyReserve)&&(x,e),e.ruby=null),e.textEmphasis&&(x,e),e.textEmphasis=null),e.mra&&(x),e.mra=null),e.lp&&(x,e.lp.toUsedLength(e.w,e.h),e),e.lp=null),x),e.flg)){var F=s(S.getBoundingClientRect(),e);!x,F.before,F.after,e),e.flg=null}if("region"===c.kind&&"tb"===e.bpd&&e.enableRollUp&&c.contents.length>0&&"after"===c.styleAttrs[n.byName.displayAlign.qname]){u(e,S,x,null);var U=new o(""===c.id?"_":c.id,x);if(e.currentISDState[U.id]=U,e.previousISDState&&U.id in e.previousISDState&&e.previousISDState[U.id].plist.length>0&&U.plist.length>1&&U.plist[U.plist.length-2].text===e.previousISDState[U.id].plist[e.previousISDState[U.id].plist.length-1].text){var B=h.firstElementChild,j=U.plist[U.plist.length-1].after-U.plist[U.plist.length-1].before;B.style.bottom="-"+j+"px",B.style.transition="transform 0.4s",B.style.position="relative",B.style.transform="translateY(-"+j+"px)"}}}else!e.errorHandler,"Error processing ISD element kind: "+c.kind)}nction o(e,t){this.id=e,this.plist=t}nder=for(var d=[new c("http://www.w3.org/ns/ttml#styling backgroundColor",(),new c("http://www.w3.org/ns/ttml#styling color",(),new c("http://www.w3.org/ns/ttml#styling direction",(function(e,t,n,r){t.style.direction=r})),new c("http://www.w3.org/ns/ttml#styling display",(function(e,t,n,r){})),new c("http://www.w3.org/ns/ttml#styling displayAlign",(),new c("http://www.w3.org/ns/ttml#styling extent",(),new c("http://www.w3.org/ns/ttml#styling fontFamily",(),new c("http://www.w3.org/ns/ttml#styling shear",(),new c("http://www.w3.org/ns/ttml#styling fontSize",(),new c("http://www.w3.org/ns/ttml#styling fontStyle",(function(e,t,n,r){t.style.fontStyle=r})),new c("http://www.w3.org/ns/ttml#styling fontWeight",(function(e,t,n,r){t.style.fontWeight=r})),new c("http://www.w3.org/ns/ttml#styling lineHeight",(),new c("http://www.w3.org/ns/ttml#styling opacity",(function(e,t,n,r){t.style.opacity=r})),new c("http://www.w3.org/ns/ttml#styling origin",(function(e,t,n,r){t.style.top=r.h.toUsedLength(e.w,e.h)+"px",t.style.left=r.w.toUsedLength(e.w,e.h)+"px"})),new c("http://www.w3.org/ns/ttml#styling overflow",(function(e,t,n,r){t.style.overflow=r})),new c("http://www.w3.org/ns/ttml#styling padding",(),new c("http://www.w3.org/ns/ttml#styling position",(),new c("http://www.w3.org/ns/ttml#styling rubyAlign",(),new c("http://www.w3.org/ns/ttml#styling rubyPosition",(),new c("http://www.w3.org/ns/ttml#styling showBackground",null),new c("http://www.w3.org/ns/ttml#styling textAlign",(),new c("http://www.w3.org/ns/ttml#styling textDecoration",(),new c("http://www.w3.org/ns/ttml#styling textOutline",(function(e,t,n,r){})),new c("http://www.w3.org/ns/ttml#styling textShadow",(),new c("http://www.w3.org/ns/ttml#styling textCombine",(function(e,t,n,r){t.style.textCombineUpright=r})),new c("http://www.w3.org/ns/ttml#styling textEmphasis",(),new c("http://www.w3.org/ns/ttml#styling unicodeBidi",(),new c("http://www.w3.org/ns/ttml#styling visibility",(function(e,t,n,r){t.style.visibility=r})),new c("http://www.w3.org/ns/ttml#styling wrapOption",(),new c("http://www.w3.org/ns/ttml#styling writingMode",(),new c("http://www.w3.org/ns/ttml#styling zIndex",(),new c("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",()],f={},h=0;h<d.length;h++)f[d[h].qname]=d[h];var p="webkitRubyPosition"in window.getComputedStyle(document.documentElement),g=p?"webkitRubyPosition":"rubyPosition",m="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",y="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(t,"undefined"==typeof imscNames?n(41):imscNames,"undefined"==typeof imscStyles?n(55):imscStyles,"undefined"==typeof imscUtils?n(42):imscUtils)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(){var e=0;tion a(e){return e.replace(/^\s+/g,"")}eturn{createHTMLCaptionsFromScreen:function(r,s,u,l){var c=null,d=!1,f=-1,h={start:s,end:u,spans:[]},p="style_cea608_white_black",g={},m={},y=[],v=void 0,_=void 0;for(v=0;v<15;++v){var b=l.rows[v],T="",E=null;if(!1===b.isEmpty()){var S=t(b.chars);null===c&&(c={x:S,y1:v,y2:v+1,p:[]}),S!==f&&d&&(c.p.push(h),h={start:s,end:u,spans:[]},c.y2=v,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===g.hasOwnProperty(c.name)?(y.push(c),g[c.name]=c):g[c.name].p.contat(c.p),c={x:S,y1:v,y2:v+1,p:[]});for(var w=0;w<b.chars.length;++w){var C=b.chars[w],O=C.penState;if(null===E||!O.equals(E)){T.trim().length>0&&(h.spans.push({name:p,line:T,row:v}),T="");var A="style_cea608_"+O.foreground+"_"+O.background;O.underline&&(A+="_underline"),O.italics&&(A+="_italics"),m.hasOwnProperty(A)||(m[A]=JSON.parse(JSON.stringify(O))),E=O,p=A}T+=C.uchar}T.trim().length>0&&h.spans.push({name:p,line:T,row:v}),d=!0,f=S}else d=!1,f=-1,c&&(c.p.push(h),h={start:s,end:u,spans:[]},c.y2=v,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===g.hasOwnProperty(c.name)?(y.push(c),g[c.name]=c):g[c.name].p.contat(c.p),c=null)}c&&(c.p.push(h),c.y2=v+1,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===g.hasOwnProperty(c.name)?(y.push(c),g[c.name]=c):g[c.name].p.contat(c.p),c=null);var R=[];for(v=0;v<y.length;++v){var P=y[v],I="sub_cea608_"+e++,k=document.createElement("div");k.id=I;var D=n(P);k.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+D;var M=document.createElement("div");M.className="paragraph bodyStyle",M.style.cssText=i(r);var L=document.createElement("div");L.className="cueUniWrapper",L.style.cssText="unicode-bidi: normal; direction: ltr;";for(var N=0;N<P.p.length;++N){var x=P.p[N],F=0;for(_=0;_<x.spans.length;++_){var U=x.spans[_];if(U.line.length>0){if(0!==_&&F!=U.row){var B=document.createElement("br");B.className="lineBreak",L.appendChild(B)}var j=!1;F===U.row&&(j=!0),F=U.row;var G=m[U.name],H=document.createElement("span");H.className="spanPadding "+U.name+" customSpanColor",H.style.cssText=i(r,G),0!==_&&j?_===x.spans.length-1?H.textContent=o(U.line):H.textContent=U.line:x.spans.length>1&&_<x.spans.length-1&&U.row===x.spans[_+1].row?H.textContent=a(U.line):H.textContent=U.line.trim(),L.appendChild(H)}}}M.appendChild(L),k.appendChild(M);var V={bodyStyle:["%",90]};for(var q in m)m.hasOwnProperty(q)&&(V[q]=["%",90]);R.push({type:"html",start:s,end:u,cueHTMLElement:k,cueID:I,cellResolution:[32,15],isFromCEA608:!0,fontSize:V,lineHeight:{},linePadding:{}})}return R}}}a.__dashjs_factory_name="EmbeddedTextHtmlRender",t.default=i.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(8));function o(){var e=this.context,t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,s=void 0;rn t={parse:function(e){var t,a=[],s=void 0;if(!e)return a;t=(e=e.split(r)).length,s=-1;for(var c=0;c<t;c++){var f=e[c];if(f.length>0&&"WEBVTT"!==f&&f.match(i)){var h=l(f),p=h.cuePoints,g=h.styles,m=d(e,c+1),y=u(p[0].replace(o,"")),v=u(p[1].replace(o,""));!isNaN(y)&&!isNaN(v)&&y>=s&&v>y?""!==m?(s=y,a.push({start:y,end:v,data:m,styles:g})):n.error("Skipping cue due to empty/malformed cue text"):n.error("Skipping cue due to incorrect cue timing")}}return a}},n=(0,a.default)(e).getInstance().getLogger(t),r=/(?:\r\n|\r|\n)/gm,i=/-->/,o=/(^[\s]+|[\s]+$)/g,s=/\s\b/g,t}o.__dashjs_factory_name="VTTParser",t.default=i.default.getSingletonFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(8)),o=r(n(7)),s=r(n(9)),u=n(80);function l(){var e=this.context,t=(0,o.default)(e).getInstance(),n=void 0,r=void 0,i=0;return n={parse:function(e,n,a,o,l){var c="",d=[],f=void 0,h=void 0,p=void 0,g={},m={},y="",v="",_={onOpenTag:onCloseTag:onText:;if(!e)throw c="no ttml data to parse",new Error(c);g.data=e,t.trigger(s.default.TTML_TO_PARSE,g);var b=(0,u.fromXML)(g.data,(function(e){c=e}),_);t.trigger(s.default.TTML_PARSED,{ttmlString:g.data,ttmlDoc:b});var T,E=b.getMediaTimeEvents();for(p=0;p<E.length;p++){var S=(0,u.generateISD)(b,E[p],();S.contents.some((function(e){return e.contents.length}))&&(f=E[p]+n<a?a:E[p]+n)<(h=E[p+1]+n>o?o:E[p+1]+n)&&d.push({start:f,end:h,type:"html",cueID:(T=void 0,T="cue_TTML_"+i,i++,T),isd:S,images:l,embeddedImages:m})}if(""!==c)throw r.error(c),new Error(c);return d}},r=(0,a.default)(e).getInstance().getLogger(n),n}l.__dashjs_factory_name="TTMLParser",t.default=i.default.getSingletonFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8)),a=r(n(2));function o(e){var t=this.context,n=void 0,r=void 0,a=void 0,o=[],s=e;eturn n={getAllBufferRanges:append:function(e){"InitializationSegment"!==e.segmentType?(o.push(e),o.sort((function(e,t){return e.start-t.start})),a=null):a=e,r.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),s&&s({chunk:e})},remove:u,abort:function(){},discharge:reset:updateTimestampOffset:function(){},hasDiscontinuitiesAfter:function(){return!1}},r=(0,i.default)(t).getInstance().getLogger(n),n}o.__dashjs_factory_name="PreBufferSink";var s=a.default.getClassFactory(o);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(21)),a=r(n(45)),o=r(n(2)),s=r(n(8)),u=r(n(19)),l=r(n(6));function c(e){e=e||{};var t=this.context,n=e.metricsModel,r=void 0,o=void 0;return r={getMaxIndex:function(e){var r=(0,u.default)(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return r;!);var s=e.getMediaInfo(),c=e.getMediaType(),d=n.getReadOnlyMetricsFor(c),f=e.getScheduleController(),h=e.getAbrController(),p=e.getStreamInfo(),g=p&&p.manifestInfo?p.manifestInfo.isDynamic:null,m=h.getThroughputHistory(),y=m.getSafeAverageThroughput(c,g),v=m.getAverageLatency(c),_=d.BufferState.length>0?d.BufferState[d.BufferState.length-1]:null,b=e.useBufferOccupancyABR();return!d||isNaN(y)||!_||b||h.getAbandonmentStateFor(c)!==a.default.ABANDON_LOAD&&(_.state===i.default.BUFFER_LOADED||g)&&(r.quality=h.getQualityForBitrate(s,y,v),f.setTimeToLoadDelay(0),o.debug("requesting switch to index: ",r.quality,"type: ",c,"Average throughput",Math.round(y),"kbps"),r.reason={throughput:y,latency:v}),r},reset:function(){}},o=(0,s.default)(t).getInstance().getLogger(r),r}c.__dashjs_factory_name="ThroughputRule",t.default=o.default.getClassFactory(c),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(21)),a=r(n(7)),o=r(n(9)),s=r(n(2)),u=r(n(8)),l=r(n(19)),c=r(n(6));function d(e){e=e||{};var t=this.context,n=(0,a.default)(t).getInstance(),r=e.metricsModel,s=e.dashMetrics,d=void 0,f=void 0,h=void 0;function p(){h={}}eturn d={getMaxIndex:function(e){var n=(0,l.default)(t).create();if(!e||!e.hasOwnProperty("getMediaType"))return n;!function(){if(!(r&&r.hasOwnProperty("getReadOnlyMetricsFor")&&s&&s.hasOwnProperty("getCurrentBufferLevel")))throw new Error(c.default.MISSING_CONFIG_ERROR)}();var a=e.getMediaType(),o=r.getReadOnlyMetricsFor(a),u=o.BufferState.length>0?o.BufferState[o.BufferState.length-1]:null,d=e.getRepresentationInfo().fragmentDuration;if(!u||!function(e,t){h[e]=h[e]||{};var n=!1;return h[e].firstBufferLoadedEvent?n=!0:t&&t.state===i.default.BUFFER_LOADED&&(h[e].firstBufferLoadedEvent=!0,n=!0),n}(a,u)||!d)return n;if(u.state===i.default.BUFFER_EMPTY)f.debug("Switch to index 0; buffer is empty."),n.quality=0,n.reason="InsufficientBufferRule: Buffer is empty";else{var p=e.getMediaInfo(),g=e.getAbrController(),m=g.getThroughputHistory(),y=s.getCurrentBufferLevel(o),v=m.getAverageThroughput(a),_=m.getAverageLatency(a),b=v*(y/d)*.5;n.quality=g.getQualityForBitrate(p,b,_),n.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return n},reset:,f=(0,u.default)(t).getInstance().getLogger(d),p(),n.on(o.default.PLAYBACK_SEEKING,g,d),d}d.__dashjs_factory_name="InsufficientBufferRule",t.default=s.default.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(19)),a=r(n(2)),o=r(n(8));function s(e){e=e||{};var t=this.context,n=e.mediaPlayerModel,r=e.metricsModel,a=e.dashMetrics,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0;eturn u={shouldAbandon:function(e){var o=(0,i.default)(t).create(i.default.NO_CHANGE,{name:s.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return o;var u,h,p=e.getMediaInfo(),g=e.getMediaType(),m=e.getCurrentRequest();if(!isNaN(m.index)){u=g,h=m.index,c[u]=c[u]||{},c[u][h]=c[u][h]||{};var y=n.getStableBufferTime();if(a.getCurrentBufferLevel(r.getReadOnlyMetricsFor(g))>y)return o;var v=c[g][m.index];if(null===v||null===m.firstByteDate||d.hasOwnProperty(v.id))return o;if(void 0===v.firstByteTime&&(f[g]=[],v.firstByteTime=m.firstByteDate.getTime(),v.segmentDuration=m.duration,v.bytesTotal=m.bytesTotal,v.id=m.index),v.bytesLoaded=m.bytesLoaded,v.elapsedTime=(new Date).getTime()-v.firstByteTime,v.bytesLoaded>0&&v.elapsedTime>0&&g,Math.round(8*v.bytesLoaded/v.elapsedTime)),f[g].length>=5&&v.elapsedTime>500&&v.bytesLoaded<v.bytesTotal){var _=f[g].reduce((,0);if(v.measuredBandwidthInKbps=Math.round(_/f[g].length),v.estimatedTimeOfDownload=+(8*v.bytesTotal/v.measuredBandwidthInKbps/1e3).toFixed(2),v.estimatedTimeOfDownload<1.8*v.segmentDuration||0===e.getRepresentationInfo().quality)return o;if(!d.hasOwnProperty(v.id)){var b=e.getAbrController(),T=v.bytesTotal-v.bytesLoaded,E=b.getBitrateList(p),S=b.getQualityForBitrate(p,v.measuredBandwidthInKbps*n.getBandwidthSafetyFactor());T>v.bytesTotal*E[S].bitrate/E[b.getQualityFor(g,p.streamInfo)].bitrate&&(o.quality=S,o.reason.throughput=v.measuredBandwidthInKbps,o.reason.fragmentID=v.id,d[v.id]=v,l.debug("( ",g,"frag id",v.id,") is asking to abandon and switch to quality to ",S," measured bandwidth was",v.measuredBandwidthInKbps),delete c[g][v.id])}}else v.bytesLoaded===v.bytesTotal&&delete c[g][v.id]}return o},reset:h},l=(0,o.default)(t).getInstance().getLogger(u),h(),u}s.__dashjs_factory_name="AbandonRequestsRule",t.default=a.default.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(19)),o=r(n(8));function s(){var e=this.context,t=void 0,n=void 0;return t={getMaxIndex:function(t){var r=t.getDroppedFramesHistory();if(r){for(var i=r.getFrameHistory(),o=0,s=0,u=a.default.NO_CHANGE,l=1;l<i.length;l++)if(i[l]&&(o=i[l].droppedVideoFrames,(s=i[l].totalVideoFrames)>375&&o/s>.15)){u=l-1,n.debug("index: "+u+" Dropped Frames: "+o+" Total Frames: "+s);break}return(0,a.default)(e).create(u,{droppedFrames:o})}return(0,a.default)(e).create()}},n=(0,o.default)(e).getInstance().getLogger(t),t}s.__dashjs_factory_name="DroppedFramesRule",t.default=i.default.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(8)),o=r(n(19));function s(){var e=this.context,t=void 0,n=void 0;return t={getMaxIndex:,n=(0,a.default)(e).getInstance().getLogger(t),t}s.__dashjs_factory_name="SwitchHistoryRule",t.default=i.default.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(26)),a=r(n(19)),o=r(n(2)),s=n(12),u=r(n(7)),l=r(n(9)),c=r(n(8));function d(e){e=e||{};var t=this.context,n=e.dashMetrics,r=e.metricsModel,o=e.mediaPlayerModel,d=(0,u.default)(t).getInstance(),f=void 0,h=void 0,p=void 0;function g(e,t,n){var r=n.reduce((,0);if(0===r)return null;var i=Math.max(e,10+2*t.length),a=(n[r]-1)/(i/10-1);return{gp:a,Vp:10/a}}nction v(e,t){var i=o.getStableBufferTime();if(e.stableBufferTime!==i){var a=g(i,e.bitrates,e.utilities);if(a.Vp!==e.Vp||a.gp!==e.gp){var s=n.getCurrentBufferLevel(r.getReadOnlyMetricsFor(t)),u=s+e.placeholderBuffer;u-=10,u*=a.Vp/e.Vp,u+=10,e.stableBufferTime=i,e.Vp=a.Vp,e.gp=a.gp,e.placeholderBuffer=Math.max(0,u-s)}}}n O(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=.99,!isNaN(e.lastSegmentFinishTimeMs)){var i=n.getCurrentBufferLevel(r.getReadOnlyMetricsFor(t))+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),a=_(e,e.lastQuality),o=Math.max(0,a-i);e.placeholderBuffer=Math.min(o,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}unction R(e){if(e){var t=p[e.mediaType];if(t&&0!==t.state){var i=n.getCurrentBufferLevel(r.getReadOnlyMetricsFor(e.mediaType)),a=void 0;a=t.abrQuality>0?b(t,t.abrQuality):10;var o=Math.max(0,a-i);t.placeholderBuffer=Math.min(t.placeholderBuffer,o)}}}eturn f={getMaxIndex:function(e){var i=e.getMediaInfo(),o=e.getMediaType(),s=r.getReadOnlyMetricsFor(o),u=e.getScheduleController(),l=e.getStreamInfo(),c=e.getAbrController(),d=c.getThroughputHistory(),f=l?l.id:null,g=l&&l.manifestInfo&&l.manifestInfo.isDynamic,T=e.useBufferOccupancyABR(),E=(0,a.default)(t).create();if(E.reason=E.reason||{},!T)return E;u.setTimeToLoadDelay(0);var S=e);if(0===S.state)return E;var w=n.getCurrentBufferLevel(s),C=d.getAverageThroughput(o,g),O=d.getSafeAverageThroughput(o,g),A=d.getAverageLatency(o),R=void 0;if(E.reason.state=S.state,E.reason.throughput=C,E.reason.latency=A,isNaN(C))return E;switch(S.state){case 1:R=c.getQualityForBitrate(i,O,A),E.quality=R,E.reason.throughput=O,S.placeholderBuffer=Math.max(0,b(S,R)-w),S.lastQuality=R,!isNaN(S.lastSegmentDurationS)&&w>=S.lastSegmentDurationS&&(S.state=2);break;case 2:!function(e,t){var n=Date.now();if(isNaN(e.lastSegmentFinishTimeMs))isNaN(e.lastCallTimeMs)||(r=.001*(n-e.lastCallTimeMs),e.placeholderBuffer+=Math.max(0,r));else{var r=.001*(n-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,r)}e.lastCallTimeMs=n,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,v(e,t)}(S,o),R=S,w+S.placeholderBuffer);var P=c.getQualityForBitrate(i,O,A);R>S.lastQuality&&R>P&&(R=Math.max(P,S.lastQuality));var I=Math.max(0,w+S.placeholderBuffer-_(S,R));I<=S.placeholderBuffer?(S.placeholderBuffer-=I,I=0):(I-=S.placeholderBuffer,S.placeholderBuffer=0,R<c.getTopQualityIndexFor(o,f)?u.setTimeToLoadDelay(1e3*I):I=0),E.quality=R,E.reason.throughput=C,E.reason.latency=A,E.reason.bufferLevel=w,E.reason.placeholderBuffer=S.placeholderBuffer,E.reason.delay=I,S.lastQuality=R;break;default:h.debug("BOLA ABR rule invoked in bad state."),E.quality=c.getQualityForBitrate(i,O,A),E.reason.state=S.state,E.reason.throughput=O,E.reason.latency=A,S.state=1,y(S)}return E},reset:function(){P(),d.off(l.default.BUFFER_EMPTY,T,f),d.off(l.default.PLAYBACK_SEEKING,E,f),d.off(l.default.PERIOD_SWITCH_STARTED,S,f),d.off(l.default.MEDIA_FRAGMENT_LOADED,w,f),d.off(l.default.METRIC_ADDED,C,f),d.off(l.default.QUALITY_CHANGE_REQUESTED,A,f),d.off(l.default.FRAGMENT_LOADING_ABANDONED,R,f)}},h=(0,c.default)(t).getInstance().getLogger(f),P(),d.on(l.default.BUFFER_EMPTY,T,f),d.on(l.default.PLAYBACK_SEEKING,E,f),d.on(l.default.PERIOD_SWITCH_STARTED,S,f),d.on(l.default.MEDIA_FRAGMENT_LOADED,w,f),d.on(l.default.METRIC_ADDED,C,f),d.on(l.default.QUALITY_CHANGE_REQUESTED,A,f),d.on(l.default.FRAGMENT_LOADING_ABANDONED,R,f),f}d.__dashjs_factory_name="BolaRule",t.default=o.default.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).abrController,n=e.switchHistory,r=e.droppedFramesHistory,i=e.currentRequest,a=e.useBufferOccupancyABR,o=e.streamProcessor?e.streamProcessor.getScheduleController():null,s=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null;eturn{getMediaType:function(){var e=u();return e?e.type:null},getMediaInfo:u,getDroppedFramesHistory:function(){return r},getCurrentRequest:function(){return i},getSwitchHistory:function(){return n},getStreamInfo:getScheduleController:function(){return o},getAbrController:function(){return t},getRepresentationInfo:function(){return s},useBufferOccupancyABR:function(){return a}}}a.__dashjs_factory_name="RulesContext",t.default=i.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";bject.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(19));.__dashjs_factory_name="SwitchRequestHistory";var s=i.default.getClassFactory(o);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(){var e=[],t=0,n=0;return{push:getFrameHistory:function(){return e},reset:}a.__dashjs_factory_name="DroppedFramesHistory";var o=i.default.getClassFactory(a);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(2));function o(e){var t=(e=e||{}).mediaPlayerModel,n=void 0,r=void 0,a=void 0,o=void 0,s=void 0;unction l(e,u,l){return t.getMovingAverageMethod()!==i.default.MOVING_AVERAGE_SLIDING_WINDOW?e,u):function(e,t,i){var a=function(e,t,i){var a=void 0,o=void 0;if(e?(a=n[t],o=i?3:4):(a=r[t],o=4),a){if(o>=a.length)o=a.length;else if(e)for(var s=1;s<o;++s){var u=a[s]/a[s-1];if((u>=1.3||u<=1/1.3)&&(o+=1)===a.length)break}}else o=0;return o}(e,t,i),o=(e?n:r)[t];return 0!==a&&o&&0!==o.length?(o=o.slice(-a)).reduce((function(e,t){return e+t}))/o.length:NaN}(e,u,l)} h={push:function(e,l,c){if(l.trace&&l.trace.length){var f=l.tresponse.getTime()-l.trequest.getTime()||1,h=l._tfinish.getTime()-l.tresponse.getTime()||1,p=l.trace.reduce((,0),g=void 0;g=t.getLowLatencyEnabled()?l.trace.reduce((,0):c?h:f+h;var m=Math.round(8*p/g);if(d(e),function(e,n,r){return e===i.default.VIDEO?r<t.getCacheLoadThresholdForType(i.default.VIDEO):e===i.default.AUDIO?r<t.getCacheLoadThresholdForType(i.default.AUDIO):void 0}(e,0,h)){if(n[e].length>0&&!n[e].hasCachedEntries)return;n[e].hasCachedEntries=!0}else n[e]&&n[e].hasCachedEntries&&e);n[e].push(m),n[e].length>20&&n[e].shift(),r[e].push(f),r[e].length>20&&r[e].shift(),u(a[e],m,.001*h,s.throughputHalfLife),u(o[e],f,1,s.latencyHalfLife)}},getAverageThroughput:c,getSafeAverageThroughput:function(e,n){var r=c(e,n);return isNaN(r)||(r*=t.getBandwidthSafetyFactor()),r},getAverageLatency:reset:f};return s={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},f(),h}o.__dashjs_factory_name="ThroughputHistory",t.default=a.default.getClassFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(26)),o=r(n(169)),s=r(n(194)),u=r(n(7)),l=r(n(9)),c=r(n(2)),d=n(89),f=r(n(8)),h=r(n(62)),p=r(n(20)),g=r(n(92)),m=r(n(195)),y=r(n(93)),v=r(n(202)),_=r(n(10)),b=r(n(11));function T(){var e=this.context,t=(0,u.default)(e).getInstance(),n=void 0,r=void 0,c=void 0,T=void 0,E=void 0,S=void 0,w=void 0,C=void 0,O=void 0,A=void 0,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0,L=void 0,N=void 0,x=void 0,F=void 0,U=void 0,B=void 0,j=void 0,G=void 0,H=void 0,V=void 0,q=void 0,K=void 0,z=void 0,Y=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0;function de(){if(De(i.default.VIDEO)){var e=W.getPlaybackQuality();e&&O.addDroppedFrames(i.default.VIDEO,e)}}function fe(){if(!(!Q.getJumpGaps()||0===Ee()||X.isSeeking()||$||q||K||z)&&++ae>=40){var e=X.getTime();le===e?function(e){for(var n=Ee(),i=Q.getSmallGapLimit(),a=void 0,o=0;o<n.length;o++){var s=n[o].getBuffer().getAllBufferRanges(),u=void 0;if(s&&!(s.length<=1)){for(var c=0;c<s.length;c++)if(e<s.start(c)){u=s.start(c);break}if(u>0){var d=u-e;d>0&&d<=i&&(void 0===a||u>a)&&(a=u)}}}var f=X.getTimeToStreamEnd();void 0===a&&!isNaN(f)&&f<i&&(a=e+f),a>0&&(!isNaN(f)&&a>=e+f?(r.info("Jumping media gap (discontinuity) at time ",e,". Jumping to end of the stream"),t.trigger(l.default.PLAYBACK_ENDED,{isLast:Fe().isLast})):(r.info("Jumping media gap (discontinuity) at time ",e,". Jumping to time position",a),X.seek(a,!0,!0)))}(e):le=e,ae=0}}function he(e){var t=Te(e.seekTime);re&&(me(),ne=!1),ie&&(r.debug("[PreloadTimer] stop period preload timer."),clearTimeout(ie),ie=void 0),t===j&&ue&&ue.deactivate(!0),t&&(t!==j||ue&&!j.isActive())?(Le(d.PlayListTrace.END_OF_PERIOD_STOP_REASON),Ce(j,t,e.seekTime)):Le(d.PlayListTrace.USER_REQUEST_STOP_REASON),Ne(d.PlayList.SEEK_START_REASON)}ction ye(){if(ne)if(re)me();else{var e=X.getTimeToStreamEnd(),n=e>0?1e3*e:0,i=n<2e3?n/4:n-2e3;r.debug("[toggleEndPeriodTimer] Going to fire preload in",i,"milliseconds"),ie=setTimeout(be,i),r.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",n,"milliseconds"),re=setTimeout((,n)}}function ve(e){if(e.sender&&(e.sender.getType()===i.default.AUDIO||e.sender.getType()===i.default.VIDEO)){var t=Fe().isLast;Y&&!t&&void 0===re&&(r.info("[onTrackBufferingCompleted] end of period detected. Track",e.sender.getType(),"has finished"),ne=!0,!1===$&&ye())}}function _e(){var e=Fe().isLast;Y&&e&&(r.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),R.signalEndOfStream(Y))}function be(){var e,t=Fe().isLast;Y&&!t&&(e=we(),(se=j.isProtectionCompatible(e)&&(ce||j.isMediaCodecCompatible(e)))&&(r.info("[onStreamCanLoadNext] Preloading next stream"),j.stopEventController(),j.deactivate(!0),e.preload(Y,oe),ue=e,e.getProcessors().forEach(()))}function Te(e){var t=0,n=null,r=B.length;r>0&&(t+=B[0].getStartTime());for(var i=0;i<r;i++)if(n=B[i],e<(t=parseFloat((t+n.getDuration()).toFixed(5))))return n;return null}unction Se(){var e=we();e?(te=void 0,ee=void 0,Ce(j,e,NaN)):r.debug("StreamController no next stream found"),Le(e?d.PlayListTrace.END_OF_PERIOD_STOP_REASON:d.PlayListTrace.END_OF_CONTENT_STOP_REASON),re=void 0,ne=!1}function we(){if(j){var e=(t=Fe().start,n=Fe().duration,{v:B.filter(()[0]});if("object"==typeof e)return e.v}var t,n}function Ce(e,n,r){q||!n||e===n&&n.isActive()||(q=!0,t.trigger(l.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:n.getStreamInfo()}),se=!1,e&&(e.stopEventController(),se=j.isProtectionCompatible(n)&&(ce||j.isMediaCodecCompatible(n))&&!r||n.getPreloaded(),e.deactivate(se)),j=n,ue=!1,X.initialize(Fe(),se),W.getElement()?Oe(r,e,!1,se):function(e){Ae(e,se)}(r))}function Oe(e,n,i,a){var o=void 0;function s(){Y&&(r.debug("MediaSource is open!"),window.URL.revokeObjectURL(o),Y.removeEventListener("sourceopen",s),Y.removeEventListener("webkitsourceopen",s),Re(),n||t.trigger(l.default.SOURCE_INITIALIZED),i?j.setMediaSource(Y):Ae(e,a))}Y?a?(Ae(e,a),n||t.trigger(l.default.SOURCE_INITIALIZED)):(R.detachMediaSource(W),Y.addEventListener("sourceopen",s,!1),Y.addEventListener("webkitsourceopen",s,!1),o=R.attachMediaSource(Y,W),r.debug("MediaSource attached to element.  Waiting on open...")):((Y=R.createMediaSource()).addEventListener("sourceopen",s,!1),Y.addEventListener("webkitsourceopen",s,!1),o=R.attachMediaSource(Y,W),r.debug("MediaSource attached to element.  Waiting on open..."))}function Ae(e,n){if(oe=j.activate(Y,n?oe:void 0),te=Me(i.default.AUDIO),ee=Me(i.default.VIDEO),oe){var a=Object.keys(oe);a.length>0&&oe[a[0]].changeType&&(r.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),ce=!0)}var o;J||(isNaN(e)?(o=X.getStreamStartTime(!0),n||Ee().forEach((function(e){C.setIndexHandlerTime(e,o)}))):X.seek(e)),j.startEventController(),!V&&J||X.play(),q=!1,t.trigger(l.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Fe()})}nction Ie(){var r=S.getValue();G&&(t.trigger(l.default.PROTECTION_CREATED,{controller:G,manifest:r}),G.setMediaElement(W.getElement()),H&&G.setProtectionData(H)),function(){try{var r=C.getStreamsInfo();if(0===r.length)throw new Error("There are no streams");var a=A.getCurrentManifestUpdate(O.getMetricsFor(i.default.STREAM));O.updateManifestUpdateInfo(a,{currentTime:X.getTime(),buffered:W.getBufferRange(),presentationStartTime:r[0].start,clientTimeOffset:U.getClientTimeOffset()});for(var s=0,u=r.length;s<u;s++){var d=r[s],f=Pe(d);f?f.updateData(d):(f=(0,o.default)(e).create({manifestModel:S,dashManifestModel:w,mediaPlayerModel:Q,metricsModel:O,dashMetrics:A,manifestUpdater:T,adapter:C,timelineConverter:U,capabilities:c,errHandler:F,baseURLController:I,domStorage:k,abrController:D,playbackController:X,mediaController:M,textController:L,videoModel:W,streamController:n}),B.push(f),f.initialize(d,G)),O.addManifestUpdateStreamInfo(a,d.id,d.index,d.start,d.duration)}if(!j){var h=X.getStartTimeFromUriParameters(),p=null;h&&(p=Te(isNaN(h.fragS)?h.fragT:h.fragS)),Ce(null,null!==p?p:B[0],NaN)}t.trigger(l.default.STREAMS_COMPOSED)}catch(e){F.manifestError(e.message,"nostreamscomposed",S.getValue()),F.error(new _.default(b.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e.message+"nostreamscomposed",S.getValue())),z=!0,Ge()}}()}function ke(e){e.error?(z=!0,Ge()):function(){var t=e.manifest;C.updatePeriods(t);var n=C.getStreamsInfo(void 0,1)[0],a=C.getMediaInfoForType(n,i.default.VIDEO)||C.getMediaInfoForType(n,i.default.AUDIO),o=void 0;a&&(o=w.getUseCalculatedLiveEdgeTimeForAdaptation(C.getDataForMedia(a)))&&(r.debug("SegmentTimeline detected using calculated Live Edge Time"),Q.setUseManifestDateHeaderTimeSource(!1));var s=w.getUTCTimingSources(e.manifest),u=!w.getIsDynamic(t)||o?s:s.concat(Q.getUTCTimingSources()),l=x.isHTTPS(e.manifest.url);u.forEach((),I.initialize(t),P.setConfig({metricsModel:O,dashMetrics:A,baseURLController:I}),P.initialize(u,Q.getUseManifestDateHeaderTimeSource())}()}function De(e){var t=void 0;if(!e)return t;switch(e){case i.default.VIDEO:t=ee;break;case i.default.AUDIO:t=te}return t}function Me(e){var t=!1;return Ee().forEach((),t}function Le(e,t){t=t||new Date,Z&&(Ee().forEach((),O.addPlayList(Z),Z=null)}function Ne(e){(Z=new d.PlayList).start=new Date,Z.mstart=1e3*X.getTime(),Z.starttype=e,Ee().forEach(()}function xe(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}K=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),r.fatal("Video Element Error: "+t),e.error&&r.fatal(e.error),F.mediaSourceError(t),F.error(new _.default(e.error.code,t)),Ge()}}function Fe(){return j?j.getStreamInfo():null}function Ue(){if(!(E&&E.hasOwnProperty("load")&&U&&U.hasOwnProperty("initialize")&&U.hasOwnProperty("reset")&&U.hasOwnProperty("getClientTimeOffset")&&S&&F&&O&&X))throw new Error("setConfig function has to be called previously")}unction je(){B=[],G=null,q=!1,j=null,K=!1,z=!1,ee=void 0,te=void 0,J=!0,$=!1,V=!0,Z=null,re=void 0,ne=!1,ae=0}function Ge(){Ue(),P.reset(),Le(K||z?d.PlayListTrace.FAILURE_STOP_REASON:d.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,n=B?B.length:0;e<n;e++)B[e].reset(K);!function(){t.off(l.default.PLAYBACK_TIME_UPDATED,de,this),t.off(l.default.PLAYBACK_SEEKING,he,this),t.off(l.default.PLAYBACK_ERROR,xe,this),t.off(l.default.PLAYBACK_STARTED,pe,this),t.off(l.default.PLAYBACK_PAUSED,ge,this),t.off(l.default.PLAYBACK_ENDED,Se,this),t.off(l.default.MANIFEST_UPDATED,ke,this),t.off(l.default.BUFFERING_COMPLETED,ve,this),t.off(l.default.STREAM_BUFFERING_COMPLETED,_e,this),t.off(l.default.MANIFEST_VALIDITY_CHANGED,Be,this),t.off(l.default.TIME_SYNCHRONIZATION_COMPLETED,Ie,this),t.off(l.default.WALLCLOCK_TIME_UPDATED,fe,this),t.off(g.default.METRIC_ADDED,He,this)}(),I.reset(),T.reset(),O.clearAllCurrentMetrics(),S.setValue(null),E.reset(),U.reset(),N.reset(),Y&&(R.detachMediaSource(W),Y=null),W=null,G&&(G.setMediaElement(null),G=null,H=null,S.getValue()&&t.trigger(l.default.PROTECTION_DESTROYED,{data:S.getValue().url})),t.trigger(l.default.STREAM_TEARDOWN_COMPLETE),je()}eturn n={initialize:function(n,r){Ue(),V=n,H=r,U.initialize(),(T=(0,s.default)(e).create()).setConfig({manifestModel:S,dashManifestModel:w,mediaPlayerModel:Q,manifestLoader:E,errHandler:F}),T.initialize(),I.setConfig({dashManifestModel:w}),function(){t.on(l.default.PLAYBACK_TIME_UPDATED,de,this),t.on(l.default.PLAYBACK_SEEKING,he,this),t.on(l.default.PLAYBACK_ERROR,xe,this),t.on(l.default.PLAYBACK_STARTED,pe,this),t.on(l.default.PLAYBACK_PAUSED,ge,this),t.on(l.default.PLAYBACK_ENDED,Se,this),t.on(l.default.MANIFEST_UPDATED,ke,this),t.on(l.default.BUFFERING_COMPLETED,ve,this),t.on(l.default.STREAM_BUFFERING_COMPLETED,_e,this),t.on(l.default.MANIFEST_VALIDITY_CHANGED,Be,this),t.on(l.default.TIME_SYNCHRONIZATION_COMPLETED,Ie,this),t.on(l.default.WALLCLOCK_TIME_UPDATED,fe,this),t.on(g.default.METRIC_ADDED,He,this)}()},getActiveStreamInfo:Fe,isTrackTypePresent:De,switchToVideoElement:function(e){j&&(X.initialize(Fe()),Oe(e,null,!0,!1))},getStreamById:getStreamForTime:Te,getTimeRelativeToStreamId:function(e,t){for(var n=null,r=0,i=0,a=null,o=B.length,s=0;s<o;s++){if(i=(n=B[s]).getStartTime(),a=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(a)&&(r+=a)}return null},load:loadWithManifest:getActiveStreamProcessors:Ee,setConfig:function(e){e&&(e.capabilities&&(c=e.capabilities),e.manifestLoader&&(E=e.manifestLoader),e.manifestModel&&(S=e.manifestModel),e.dashManifestModel&&(w=e.dashManifestModel),e.mediaPlayerModel&&(Q=e.mediaPlayerModel),e.protectionController&&(G=e.protectionController),e.adapter&&(C=e.adapter),e.metricsModel&&(O=e.metricsModel),e.dashMetrics&&(A=e.dashMetrics),e.errHandler&&(F=e.errHandler),e.timelineConverter&&(U=e.timelineConverter),e.videoModel&&(W=e.videoModel),e.playbackController&&(X=e.playbackController),e.domStorage&&(k=e.domStorage),e.abrController&&(D=e.abrController),e.mediaController&&(M=e.mediaController),e.textController&&(L=e.textController))},setProtectionData:function(e){H=e},reset:Ge},r=(0,f.default)(e).getInstance().getLogger(n),P=(0,m.default)(e).getInstance(),I=(0,y.default)(e).getInstance(),R=(0,v.default)(e).getInstance(),N=(0,h.default)(e).getInstance(),x=(0,p.default)(e).getInstance(),je(),n}T.__dashjs_factory_name="StreamController",t.default=c.default.getSingletonFactory(T),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(170)),o=r(n(186)),s=r(n(187)),u=r(n(191)),l=r(n(7)),c=r(n(9)),d=r(n(8)),f=r(n(11)),h=r(n(2)),p=r(n(10));function g(e){e=e||{};var t=this.context,n=(0,l.default)(t).getInstance(),r=e.manifestModel,h=e.dashManifestModel,g=e.mediaPlayerModel,m=e.manifestUpdater,y=e.adapter,v=e.capabilities,_=e.errHandler,b=e.timelineConverter,T=e.metricsModel,E=e.abrController,S=e.playbackController,w=e.mediaController,C=e.textController,O=e.videoModel,A=void 0,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0,L=void 0,N=void 0,x=void 0,F=void 0,U=void 0,B=void 0,j=void 0,G=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function H(e){for(var t=P?P.length:0,r=0;r<t;r++)P[r].getFragmentModel().removeExecutedRequestsBeforeTime(z()+K()),P[r].reset(!1,e);P=[],I=!1,k=!1,ce(!1),n.off(c.default.CURRENT_TRACK_CHANGED,$,A)}unction q(){S&&S.pause(),x&&(x.reset(),x=null),V(),n.off(c.default.DATA_UPDATE_COMPLETED,ae,A),n.off(c.default.BUFFERING_COMPLETED,ie,A),N&&(n.off(c.default.KEY_ERROR,X,A),n.off(c.default.SERVER_CERTIFICATE_UPDATED,X,A),n.off(c.default.LICENSE_REQUEST_COMPLETE,X,A),n.off(c.default.KEY_SYSTEM_SELECTED,X,A),n.off(c.default.KEY_SESSION_CREATED,X,A),n.off(c.default.KEY_STATUSES_CHANGED,X,A)),ce(!1)}function K(){return D?D.duration:NaN}unction Y(){return D}function W(){if(!(E&&E.hasOwnProperty("getBitrateList")&&y&&y.hasOwnProperty("getAllMediaInfoForType")&&y.hasOwnProperty("getEventsFor")))throw new Error(i.default.MISSING_CONFIG_ERROR)}function X(e){e.error&&(_.mediaKeySessionError(e.error.message),_.error(e.error),R.fatal(e.error.message),q())}function Q(e){var t,n=e.type,a=void 0;if(n===i.default.MUXED&&e)return a="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",R.fatal(a),_.manifestError(a,"multiplexedrep",r.getValue()),_.error(new p.default(f.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,a,r.getValue())),!1;if(n===i.default.TEXT||n===i.default.FRAGMENTED_TEXT||n===i.default.EMBEDDED_TEXT||n===i.default.IMAGE)return!0;if(t=e.codec,R.debug(n+" codec: "+t),e.contentProtection&&!v.supportsEncryptedMedia())_.capabilityError("encryptedmedia"),_.error(new p.default(f.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,f.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!v.supportsCodec(t))return a=n+"Codec ("+t+") is not supported.",R.error(a),!1;return!0}function $(e){if(e.newMediaInfo.streamInfo.id===D.id){var t=oe(e.newMediaInfo);if(t){var n=S.getTime();R.info("Stream -  Process track changed at current time "+n);var a=e.newMediaInfo,o=r.getValue();y.setCurrentMediaInfo(D.id,a.type,a),R.debug("Stream -  Update stream controller"),o.refreshManifestOnSwitchTrack?(R.debug("Stream -  Refreshing manifest for switch track"),j=e,m.refreshManifest()):(t.selectMediaInfo(a),a.type!==i.default.FRAGMENTED_TEXT?(E.updateTopQualityIndex(a),t.switchTrackAsked(),t.getFragmentModel().abortRequests()):(t.getScheduleController().setSeekTarget(NaN),y.setIndexHandlerTime(t,n),y.resetIndexHandler(t)))}}}function J(n,o){var s=y.getAllMediaInfoForType(D,n),l=null,c=void 0;if(s&&0!==s.length){for(var d=0,f=s.length;d<f;d++)if(l=s[d],n===i.default.EMBEDDED_TEXT)C.addEmbeddedTrack(l);else{if(!Q(l))continue;w.addTrack(l)}n!==i.default.EMBEDDED_TEXT&&0!==w.getTracksFor(n,D).length&&(n!==i.default.IMAGE?((n!==i.default.FRAGMENTED_TEXT||n===i.default.FRAGMENTED_TEXT&&C.getTextDefaultEnabled())&&(w.checkInitialMediaSettingsForType(n,D),c=w.getCurrentTrackFor(n,D)),n!==i.default.FRAGMENTED_TEXT||C.getTextDefaultEnabled()||(c=w.getTracksFor(n,D)[0]),function(n,o,s,u){var l=(0,a.default)(t).create({type:n.type,mimeType:n.mimeType,timelineConverter:b,adapter:y,manifestModel:r,dashManifestModel:h,mediaPlayerModel:g,metricsModel:T,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,stream:A,abrController:E,domStorage:e.domStorage,playbackController:S,mediaController:w,streamController:e.streamController,textController:C,errHandler:_});if(l.initialize(s),E.updateTopQualityIndex(n),u?(l.setBuffer(u.buffer),l.getIndexHandler().setCurrentTime(u.currentTime),P[u.replaceIdx]=l):P.push(l),!u||!u.ignoreMediaInfo)if(n.type===i.default.TEXT||n.type===i.default.FRAGMENTED_TEXT){for(var c=void 0,d=0;d<o.length;d++)o[d].index===n.index&&(c=d),l.addMediaInfo(o[d]);l.selectMediaInfo(o[c])}else l.addMediaInfo(n,!0)}(c,s,o)):F=(0,u.default)(t).create({dashManifestModel:h,adapter:y,baseURLController:e.baseURLController,stream:A,timelineConverter:e.timelineConverter}))}else R.info("No "+n+" data.")}function Z(){U||((U=(0,o.default)(t).create()).setConfig({manifestUpdater:m,playbackController:S}),ee())}unction te(e){var t=y.getAdaptationForType(r.getValue(),D.index,e,D);t&&Array.isArray(t.Representation_asArray)&&(t.Representation_asArray=t.Representation_asArray.filter(())}function ne(){for(var e=P.length,t=M.audio||M.video?new p.default(f.default.DATA_UPDATE_FAILED_ERROR_CODE,f.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,r=0;r<e;r++)if(P[r].isUpdating()||L)return;if(k){if(N)for(r=0;r<e&&P[r];r++)P[r].getType()!==i.default.AUDIO&&P[r].getType()!==i.default.VIDEO&&P[r].getType()!==i.default.FRAGMENTED_TEXT||N.initializeForMedia(P[r].getMediaInfo());n.trigger(c.default.STREAM_INITIALIZED,{streamInfo:D,error:t})}}function re(e){for(var t={},n=0,r=P.length;n<r;n++)t[P[n].getType()]=P[n].createBuffer(e).getBuffer();return t}function ie(e){if(e.streamInfo===D){var t=se(),r=t.length;if(0!==r){for(var a=0;a<r;a++)if(!t[a].isBufferingCompleted()&&(t[a].getType()===i.default.AUDIO||t[a].getType()===i.default.VIDEO))return void R.warn("onBufferingCompleted - One streamProcessor has finished but",t[a].getType(),"one is not buffering completed");R.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),n.trigger(c.default.STREAM_BUFFERING_COMPLETED,{streamInfo:D})}else R.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}}nction se(){for(var e=P.length,t=[],n=void 0,r=void 0,a=0;a<e;a++)(n=(r=P[a]).getType())!==i.default.AUDIO&&n!==i.default.VIDEO&&n!==i.default.FRAGMENTED_TEXT&&n!==i.default.TEXT||t.push(r);return t}function ue(e,t){if(!e)return!1;var n=e.getStreamInfo(),i=Y();if(!n||!i)return!1;var a=y.getAdaptationForType(r.getValue(),n.index,t,n),o=y.getAdaptationForType(r.getValue(),i.index,t,i);return a&&o?!a.ContentProtection&&!o.ContentProtection:!a&&!o}function le(e,t){if(!e)return!1;var n=e.getStreamInfo(),i=Y();if(!n||!i)return!1;var a=y.getAdaptationForType(r.getValue(),n.index,t,n),o=y.getAdaptationForType(r.getValue(),i.index,t,i);if(!a||!o)return!a&&!o;var s=a&&o&&a.mimeType===o.mimeType,u=o.Representation_asArray.map((function(e){return e.codecs})),l=a.Representation_asArray.map((function(e){return e.codecs})),c=l.some((),d=l.some((function(e){return u.some((function(t){return function(e,t){for(var n=e.split(".")[0],r=0===t.indexOf(n),i=void 0,a=0;a<G.length;a++)if(G[a].codec===n){i=G[a];break}return i?r||i.compatibleCodecs.some(():r}(t,e)}))}));return c||d&&s}function ce(e){B=e}function de(){return B}return A={initialize:function(e,t){D=e,(N=t)&&(n.on(c.default.KEY_ERROR,X,A),n.on(c.default.SERVER_CERTIFICATE_UPDATED,X,A),n.on(c.default.LICENSE_REQUEST_COMPLETE,X,A),n.on(c.default.KEY_SYSTEM_SELECTED,X,A),n.on(c.default.KEY_SESSION_CREATED,X,A),n.on(c.default.KEY_STATUSES_CHANGED,X,A))},activate:function(e,t){if(!I){var a=void 0;return n.on(c.default.CURRENT_TRACK_CHANGED,$,A),de()?(function(){if(L=!0,W(),te(i.default.VIDEO),te(i.default.AUDIO),k=!0,L=!1,0===P.length){var e="No streams to play.";_.manifestError(e,"nostreams",r.getValue()),R.debug(e)}else ne()}(),a=t):a=function(e,t){W();var n=O.getElement();Z(),L=!0,te(i.default.VIDEO),te(i.default.AUDIO),(null===n||n&&/^VIDEO$/i.test(n.nodeName))&&J(i.default.VIDEO,e),J(i.default.AUDIO,e),J(i.default.TEXT,e),J(i.default.FRAGMENTED_TEXT,e),J(i.default.EMBEDDED_TEXT,e),J(i.default.MUXED,e),J(i.default.IMAGE,e);var a=re(t);if(k=!0,L=!1,0===P.length){var o="No streams to play.";_.manifestError(o,"nostreams",r.getValue()),_.error(new p.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,o,r.getValue())),R.fatal(o)}else ne();return a}(e,t),I=!0,a}return t},deactivate:H,isActive:function(){return I},getDuration:K,getStartTime:z,getId:function(){return D?D.id:null},getStreamInfo:Y,preload:function(e,t){Z(),J(i.default.VIDEO,e),J(i.default.AUDIO,e),J(i.default.TEXT,e),J(i.default.FRAGMENTED_TEXT,e),J(i.default.EMBEDDED_TEXT,e),J(i.default.MUXED,e),J(i.default.IMAGE,e),re(t),n.on(c.default.CURRENT_TRACK_CHANGED,$,A);for(var r=0;r<P.length&&P[r];r++)P[r].getScheduleController().start();ce(!0)},getFragmentController:function(){return x},getThumbnailController:function(){return F},getBitrateListFor:function(e){if(W(),e===i.default.IMAGE)return F?F.getBitrateList():[];var t=function(e){for(var t=P.length,n=null,r=0;r<t;r++)if((n=P[r]).getType()===e)return n.getMediaInfo();return null}(e);return E.getBitrateList(t)},startEventController:function(){U&&U.start()},stopEventController:function(){U&&U.stop()},updateData:function(e){R.info("Manifest updated... updating data system wide."),I=!1,L=!0,D=e,U&&ee(),te(i.default.VIDEO),te(i.default.AUDIO);for(var t=0,n=P.length;t<n;t++){var r=P[t],a=y.getMediaInfoForType(D,r.getType());E.updateTopQualityIndex(a),r.addMediaInfo(a,!0)}if(j&&"fragmentedText"!==(a=j.newMediaInfo).type){var o=oe(j.oldMediaInfo);if(!o)return;o.switchTrackAsked(),j=void 0}L=!1,ne()},reset:q,getProcessors:se,setMediaSource:function(e){for(var t=0;t<P.length;)Q(P[t].getMediaInfo())?(P[t].setMediaSource(e),t++):(P[t].reset(),P.splice(t,1));for(t=0;t<P.length;t++)P[t].dischargePreBuffer();if(0===P.length){var n="No streams to play.";_.manifestError(n,"nostreams",r.getValue()),_.error(new p.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,n+"nostreams",r.getValue())),R.fatal(n)}},isMediaCodecCompatible:function(e){return le(e,i.default.VIDEO)&&le(e,i.default.AUDIO)},isProtectionCompatible:function(e){return ue(e,i.default.VIDEO)&&ue(e,i.default.AUDIO)},getPreloaded:de,addInbandEvents:function(e){U&&U.addInbandEvents(e)}},R=(0,d.default)(t).getInstance().getLogger(A),V(),x=(0,s.default)(t).create({mediaPlayerModel:g,metricsModel:T,errHandler:_}),n.on(c.default.BUFFERING_COMPLETED,ie,A),n.on(c.default.DATA_UPDATE_COMPLETED,ae,A),A}g.__dashjs_factory_name="Stream",t.default=h.default.getClassFactory(g),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(171)),o=r(n(21)),s=r(n(172)),u=r(n(174)),l=r(n(177)),c=r(n(2)),d=r(n(178));function f(e){e=e||{};var t=this.context,n=e.type,r=e.errHandler,c=e.mimeType,f=e.timelineConverter,h=e.adapter,p=e.manifestModel,g=e.mediaPlayerModel,m=e.stream,y=e.abrController,v=e.playbackController,_=e.streamController,b=e.mediaController,T=e.textController,E=e.domStorage,S=e.metricsModel,w=e.dashMetrics,C=e.dashManifestModel,O=void 0,A=void 0,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0,L=void 0,N=void 0;nction U(){return m?m.getStreamInfo():null}function B(){return A}return O={initialize:function(a){(N=(0,d.default)(t).create({mimeType:c,timelineConverter:f,dashMetrics:w,metricsModel:S,mediaPlayerModel:g,baseURLController:e.baseURLController,errHandler:r})).initialize(O),y.registerStreamType(n,O),(M=m.getFragmentController().getModel(n)).setStreamProcessor(O),P=function(e){return e===i.default.VIDEO||e===i.default.AUDIO?(0,o.default)(t).create({type:e,metricsModel:S,mediaPlayerModel:g,manifestModel:p,errHandler:r,streamController:_,mediaController:b,adapter:h,textController:T,abrController:y,playbackController:v,streamProcessor:O}):(0,s.default)(t).create({type:e,mimeType:c,metricsModel:S,mediaPlayerModel:g,manifestModel:p,errHandler:r,streamController:_,mediaController:b,adapter:h,textController:T,abrController:y,playbackController:v,streamProcessor:O})}(n),I=(0,u.default)(t).create({type:n,mimeType:c,metricsModel:S,adapter:h,dashMetrics:w,dashManifestModel:C,timelineConverter:f,mediaPlayerModel:g,abrController:y,playbackController:v,streamController:_,textController:T,streamProcessor:O,mediaController:b}),(D=(0,l.default)(t).create()).setConfig({abrController:y,domStorage:E,metricsModel:S,dashMetrics:w,dashManifestModel:C,manifestModel:p,playbackController:v,timelineConverter:f,streamProcessor:O}),P.initialize(a),I.initialize(),D.initialize()},isUpdating:function(){return!!D&&D.isUpdating()},getType:function(){return n},getBufferController:function(){return P},getFragmentModel:function(){return M},getScheduleController:function(){return I},getLiveEdgeFinder:function(){return k},getFragmentController:function(){return m?m.getFragmentController():null},getRepresentationController:function(){return D},getIndexHandler:function(){return N},getRepresentationInfo:function(e){return h.getRepresentationInfo(D,e)},getBufferLevel:function(){return P.getBufferLevel()},switchInitData:function(e,t){P&&P.switchInitData(U().id,e,t)},isBufferingCompleted:timeIsBuffered:function(e){return!!P&&null!==P.getRangeAt(e,0)},createBuffer:function(e){return P.getBuffer()||P.createBuffer(A,e)},getStreamInfo:U,selectMediaInfo:function(e){e===A||e&&A&&e.type!==A.type||(A=e),h.updateData(this)},addMediaInfo:function(e,t){-1===R.indexOf(e)&&R.push(e),t&&this.selectMediaInfo(e)},switchTrackAsked:function(){I.switchTrackAsked()},getMediaInfoArr:function(){return R},getMediaInfo:B,getMediaSource:function(){return P.getMediaSource()},setMediaSource:dischargePreBuffer:function(){P.dischargePreBuffer()},getBuffer:function(){return P.getBuffer()},setBuffer:function(e){P.setBuffer(e)},registerExternalController:function(e){L.push(e)},unregisterExternalController:getExternalControllers:function(){return L},unregisterAllExternalController:x,addInbandEvents:function(e){m&&m.addInbandEvents(e)},reset:function(e,t){N.reset(),P&&(P.reset(e,t),P=null),I&&(I.reset(),I=null),D&&(D.reset(),D=null),y&&y.unRegisterStreamType(n),L.forEach((function(e){e.reset()})),F(),n=null,m=null,k&&(k.reset(),k=null)}},v&&v.getIsDynamic()&&(k=(0,a.default)(t).create({timelineConverter:f,streamProcessor:O})),F(),O}f.__dashjs_factory_name="StreamProcessor",t.default=c.default.getClassFactory(f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(6));function o(e){var t=(e=e||{}).timelineConverter,n=e.streamProcessor;return{getLiveEdge:function(){!function(){if(!(t&&t.hasOwnProperty("getExpectedLiveEdge")&&n&&n.hasOwnProperty("getRepresentationInfo")))throw new Error(a.default.MISSING_CONFIG_ERROR)}();var e=n.getRepresentationInfo(),r=e.DVRWindow?e.DVRWindow.end:0,i=r;return e.useCalculatedLiveEdgeTime&&(i=t.getExpectedLiveEdge(),t.setClientTimeOffset(i-r)),i},reset:function(){t=null,n=null}}}o.__dashjs_factory_name="LiveEdgeFinder",t.default=i.default.getClassFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(2)),o=r(n(21)),s=r(n(173));function u(e){e=e||{};var t,n=this.context,r=void 0;eturn t={getBufferControllerType:function(){return r.getBufferControllerType()},initialize:function(e,t){return r.initialize(e,t)},createBuffer:function(e){return r.createBuffer(e)},getType:function(){return r.getType()},getStreamProcessor:function(){r.getStreamProcessor()},setSeekStartTime:function(e){r.setSeekStartTime(e)},getBuffer:a,setBuffer:function(e){r.setBuffer(e)},getBufferLevel:function(){return r.getBufferLevel()},setMediaSource:function(e){r.setMediaSource(e)},getMediaSource:function(){return r.getMediaSource()},getIsBufferingCompleted:function(){return r.getIsBufferingCompleted()},getIsPruningInProgress:function(){return r.getIsPruningInProgress()},dischargePreBuffer:function(){return r.dischargePreBuffer()},switchInitData:function(e,t){r.switchInitData(e,t)},getRangeAt:function(e){return r.getRangeAt(e)},reset:function(e){r.reset(e)},updateTimestampOffset:function(e){var t=a();t.timestampOffset===e||isNaN(e)||(t.timestampOffset=e)}},r=e.type===i.default.FRAGMENTED_TEXT?(0,o.default)(n).create({type:e.type,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,manifestModel:e.manifestModel,errHandler:e.errHandler,streamController:e.streamController,mediaController:e.mediaController,adapter:e.adapter,textController:e.textController,abrController:e.abrController,playbackController:e.playbackController,streamProcessor:e.streamProcessor}):(0,s.default)(n).create({type:e.type,mimeType:e.mimeType,errHandler:e.errHandler,streamProcessor:e.streamProcessor}),t}u.__dashjs_factory_name="TextBufferController",t.default=a.default.getClassFactory(u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(7)),o=r(n(9)),s=r(n(2)),u=r(n(62)),l=r(n(78)),c=r(n(52)),d=r(n(10)),f=r(n(11));function h(e){e=e||{};var t=this.context,n=(0,a.default)(t).getInstance(),r=(0,c.default)(t).getInstance(),s=e.errHandler,h=e.type,p=e.mimeType,g=e.streamProcessor,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0;function E(e){_=e}function S(e){e.sender.getStreamProcessor()===g&&(T.extract(g.getStreamInfo().id,e.sender.getCurrentRepresentation().id)||n.trigger(o.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender}))}function w(e){e.fragmentModel===g.getFragmentModel()&&e.chunk.bytes&&(T.save(e.chunk),b.append(e.chunk),n.trigger(o.default.STREAM_COMPLETED,{request:e.request,fragmentModel:e.fragmentModel}))}return m={getBufferControllerType:function(){return"NotFragmentedTextBufferController"},initialize:function(e){E(e),T=(0,u.default)(t).getInstance()},createBuffer:function(e){try{if(b=(0,l.default)(t).create(_,e),!v){var n=b.getBuffer();n.hasOwnProperty(i.default.INITIALIZE)&&n.initialize(p,g),v=!0}return b}catch(t){if(e.isText||-1!==e.codec.indexOf('codecs="stpp')||-1!==e.codec.indexOf('codecs="wvtt'))try{b=r.getTextSourceBuffer()}catch(e){s.mediaSourceError("Error creating "+h+" source buffer."),s.error(new d.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+h+" : "+e.message))}else s.mediaSourceError("Error creating "+h+" source buffer."),s.error(new d.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+h))}},getType:function(){return h},getStreamProcessor:function(){return g},setSeekStartTime:function(){},getBuffer:function(){return b},getBufferLevel:function(){return 0},setMediaSource:E,getMediaSource:function(){return _},getIsBufferingCompleted:function(){return y},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},switchInitData:function(e,t){T.extract(e,t)||n.trigger(o.default.TIMED_TEXT_REQUESTED,{index:0,sender:m})},getRangeAt:function(){return null},reset:function(e){n.off(o.default.DATA_UPDATE_COMPLETED,S,m),n.off(o.default.INIT_FRAGMENT_LOADED,w,m),!e&&b&&(b.abort(),b.reset(),b=null)},updateTimestampOffset:function(e){b.timestampOffset===e||isNaN(e)||(b.timestampOffset=e)}},v=!1,_=null,y=!1,n.on(o.default.DATA_UPDATE_COMPLETED,S,m),n.on(o.default.INIT_FRAGMENT_LOADED,w,m),m}h.__dashjs_factory_name="NotFragmentedTextBufferController",t.default=s.default.getClassFactory(h),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=n(89),o=r(n(45)),s=r(n(21)),u=r(n(175)),l=r(n(176)),c=r(n(39)),d=r(n(7)),f=r(n(9)),h=r(n(2)),p=r(n(8)),g=r(n(61)),m=n(24);function y(e){e=e||{};var t=this.context,n=(0,d.default)(t).getInstance(),r=e.metricsModel,h=e.adapter,y=e.dashMetrics,v=e.dashManifestModel,_=e.timelineConverter,b=e.mediaPlayerModel,T=e.abrController,E=e.playbackController,S=e.streamController,w=e.textController,C=e.type,O=e.streamProcessor,A=e.mediaController,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0,L=void 0,N=void 0,x=void 0,F=void 0,U=void 0,B=void 0,j=void 0,G=void 0,H=void 0,V=void 0,q=void 0,K=void 0,z=void 0,Y=void 0,W=void 0,X=void 0,Q=void 0;function $(){k&&!O.isBufferingCompleted()?(P.debug("Schedule Controller starts"),Oe(),M=!1,D&&(D=!1),ee(0)):P.warn("Start denied to Schedule Controller")}unction Z(){var e=O.getBufferController();if(M||F||!e||E.isPaused()&&!b.getScheduleWhilePaused()||!(C!==i.default.FRAGMENTED_TEXT&&C!==i.default.TEXT||w.isTextEnabled()))P.debug("Schedule stop!");else if(e.getIsBufferingCompleted())P.debug("Schedule stop because buffering is completed!");else{!function(){var e=E.getTime(),t=1.5*k.fragmentDuration,n=I.getRequests({state:c.default.FRAGMENT_MODEL_EXECUTED,time:e+t,threshold:0})[0];if(n&&-1===z.indexOf(n)&&!v.getIsTextTrack(C)){var r=b.getFastSwitchEnabled(),i=O.getBufferLevel(),a=T.getAbandonmentStateFor(C),s=!A.isCurrentTrack(n.mediaInfo)&&A.getSwitchMode(n.mediaInfo.type)===g.default.TRACK_SWITCH_MODE_NEVER_REPLACE,u=n.quality<k.quality;r&&(s||u)&&i>=t&&a!==o.default.ABANDON_LOAD?(ie(n),Q=!0,P.debug("Reloading outdated fragment at index: ",n.index)):n.quality>k.quality&&!W&&Se(E.getTime()+O.getBufferLevel())}}();var t=z.length>0,n=O.getStreamInfo();W||isNaN(K)||Y||t||function(e,t){q[t]=q[t]||{};var n=T.getTopQualityIndexFor(e,t);return q[t][e]!=n&&(P.info("Top quality "+e+" index has changed from "+q[t][e]+" to "+n),q[t][e]=n,!0)}(k.mediaInfo.type,n.id)||G.execute(O,S.isTrackTypePresent(i.default.VIDEO))?(ne(!0),t||Y||T.checkPlaybackQuality(C),function(){var e=O.getFragmentController();if(k.quality===K&&!Y||W){var t=z.shift();if(e.isInitializationRequest(t))O.switchInitData(t.representationId);else{var r=void 0;O.getBufferController().getIsPruningInProgress()||(r=H.execute(O,j,t),Se(NaN),r&&!t&&(isNaN(r.startTime+r.duration)||h.setIndexHandlerTime(O,r.startTime+r.duration),r.delayLoadingTime=(new Date).getTime()+U,we(0)),!r&&n.manifestInfo&&n.manifestInfo.isDynamic&&P.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling.")),r?(P.debug("Next fragment request url is "+r.url),I.executeRequest(r)):(ne(!1),ee(b.getLowLatencyEnabled()?100:500))}}else P.debug("Quality has changed, get init request for representationid = "+k.id),Y?(W=A.getSwitchMode(C)===g.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,P.debug("Switch track has been asked, get init request for "+C+" with representationid = "+k.id+"bufferResetInProgress = "+W),O.switchInitData(k.id,W),Y=!1):O.switchInitData(k.id),K=k.quality}()):ee(500)}}ction re(e){var t=h.getInitRequest(O,e);t&&(ne(!0),t.url=(0,m.replaceTokenForTemplate)(t.url,"Bandwidth",k?k.bandwidth:null),I.executeRequest(t))}unction ae(e){if(C===e.mediaType&&O.getStreamInfo().id===e.streamInfo.id){if(null==(k=O.getRepresentationInfo(e.newQuality)))throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");Ce(new Date,a.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Oe()}}nction ue(e){e.error||O.getStreamInfo().id!==e.streamInfo.id||(k=O.getRepresentationInfo(),D&&(E.getIsDynamic()?(_.setTimeSyncCompleted(!0),function(){var e=O.getLiveEdgeFinder();if(e){var t=e.getLiveEdge(),n=k.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,a=t-E.computeLiveDelay(k.fragmentDuration,n),o=h.getFragmentRequest(O,k,a,{ignoreIsFinished:!0});if(o)if(b.getLowLatencyEnabled()){var s=o.duration<b.getLiveDelay()?o.startTime:o.startTime+o.duration-b.getLiveDelay();E.setLiveStartTime(s)}else E.setLiveStartTime(o.startTime);else P.debug("setLiveEdgeSeekTarget : getFragmentRequest returned undefined request object");j=E.getStreamStartTime(!1,t),O.getBufferController().setSeekStartTime(j),j>k.mediaInfo.streamInfo.start+k.mediaInfo.streamInfo.duration&&E.seek(j);var u=y.getCurrentManifestUpdate(r.getMetricsFor(i.default.STREAM));r.updateManifestUpdateInfo(u,{currentTime:j,presentationStartTime:t,latency:t-j,clientTimeOffset:_.getClientTimeOffset()})}}()):(j=E.getStreamStartTime(!1),O.getBufferController().setSeekStartTime(j))),M&&$())}unction ce(e){e.sender===I&&(P.info("OnFragmentLoadingCompleted - Url:",e.request?e.request.url:"undefined",", Range:",e.request.range?e.request.range:"undefined"),v.getIsTextTrack(C)&&ne(!1),e.error&&e.request.serviceLocation&&!M&&(ie(e.request),ne(!1),ee(0)),W&&(X=e.request))}unction fe(e){if(e.sender.getStreamProcessor()===O)if(W&&!isNaN(e.startTime)&&(W=!1,I.addExecutedRequest(X)),ne(!1),Q&&!isNaN(e.startTime)){var t=E.getTime(),n=e.startTime+k.fragmentDuration,r=1.5*k.fragmentDuration;ee(t+r>=n?0:1e3*(n-(t+r))),Q=!1}else ee(0)}function he(e){e.streamProcessor===O&&(P.info("onFragmentLoadingAbandoned for "+C+", request: "+e.request.url+" has been aborted"),E.isSeeking()||Y||(P.info("onFragmentLoadingAbandoned for "+C+", request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ie(e.request)),ne(!1),ee(0))}unction ge(e){if(e.sender.getStreamProcessor()===O){var t=O.getStreamInfo();t&&(e.unintended?I.removeExecutedRequestsAfterTime(e.from,t.duration):I.syncExecutedRequestsWithBufferedRange(O.getBufferController().getBuffer().getAllBufferRanges(),t.duration)),e.hasEnoughSpaceToAppend&&M&&$()}}function me(e){e.sender.getStreamProcessor()!==O||e.state!==s.default.BUFFER_EMPTY||E.isSeeking()||(P.info("Buffer is empty! Stalling!"),Ce(new Date,a.PlayListTrace.REBUFFERING_REASON))}nction _e(e){e.sender.getStreamProcessor()===O&&w.isTextEnabled()&&re(e.index)}function be(){!M&&b.getScheduleWhilePaused()||$()}function Te(e){j=e.seekTime,we(0),M&&$();var t=y.getCurrentManifestUpdate(r.getMetricsFor(i.default.STREAM)),n=k.DVRWindow&&E?k.DVRWindow.end-E.getTime():NaN;r.updateManifestUpdateInfo(t,{latency:n}),F?(P.debug("onPlaybackSeeking for "+C+", call fragmentModel.abortRequests in order to seek quicker"),I.abortRequests()):ee(0)}unction Se(e){j=e}function we(e){U=e}unction Oe(){L&&!0===x&&k&&(x=!1,(N=new a.PlayListTrace).representationid=k.id,N.start=new Date,N.mstart=1e3*E.getTime(),N.playbackspeed=E.getPlaybackRate().toString())}function Ae(){F=!1,U=0,j=NaN,L=null,N=null,x=!0,D=!0,K=NaN,V={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},q={},z=[],M=!0,Y=!1,W=!1,X=null,Q=!1}return R={initialize:function(){I=O.getFragmentModel(),G=(0,u.default)(t).create({abrController:T,dashMetrics:y,metricsModel:r,mediaPlayerModel:b,textController:w}),H=(0,l.default)(t).create({adapter:h,textController:w,playbackController:E}),v.getIsTextTrack(e.mimeType)&&n.on(f.default.TIMED_TEXT_REQUESTED,_e,this),n.on(f.default.QUALITY_CHANGE_REQUESTED,ae,this),n.on(f.default.DATA_UPDATE_STARTED,pe,this),n.on(f.default.DATA_UPDATE_COMPLETED,se,this),n.on(f.default.FRAGMENT_LOADING_COMPLETED,ce,this),n.on(f.default.STREAM_COMPLETED,le,this),n.on(f.default.STREAM_INITIALIZED,ue,this),n.on(f.default.BUFFER_LEVEL_STATE_CHANGED,me,this),n.on(f.default.BUFFER_CLEARED,ge,this),n.on(f.default.BYTES_APPENDED_END_FRAGMENT,fe,this),n.on(f.default.INIT_REQUESTED,te,this),n.on(f.default.QUOTA_EXCEEDED,ye,this),n.on(f.default.PLAYBACK_SEEKING,Te,this),n.on(f.default.PLAYBACK_STARTED,be,this),n.on(f.default.PLAYBACK_RATE_CHANGED,Ee,this),n.on(f.default.PLAYBACK_TIME_UPDATED,de,this),n.on(f.default.URL_RESOLUTION_FAILED,ve,this),n.on(f.default.FRAGMENT_LOADING_ABANDONED,he,this)},getType:function(){return C},setSeekTarget:Se,setTimeToLoadDelay:we,replaceRequest:ie,switchTrackAsked:function(){Y=!0},isStarted:start:$,stop:J,reset:function(){n.off(f.default.DATA_UPDATE_STARTED,pe,this),n.off(f.default.DATA_UPDATE_COMPLETED,se,this),n.off(f.default.BUFFER_LEVEL_STATE_CHANGED,me,this),n.off(f.default.QUALITY_CHANGE_REQUESTED,ae,this),n.off(f.default.FRAGMENT_LOADING_COMPLETED,ce,this),n.off(f.default.STREAM_COMPLETED,le,this),n.off(f.default.STREAM_INITIALIZED,ue,this),n.off(f.default.QUOTA_EXCEEDED,ye,this),n.off(f.default.BYTES_APPENDED_END_FRAGMENT,fe,this),n.off(f.default.BUFFER_CLEARED,ge,this),n.off(f.default.INIT_REQUESTED,te,this),n.off(f.default.PLAYBACK_RATE_CHANGED,Ee,this),n.off(f.default.PLAYBACK_SEEKING,Te,this),n.off(f.default.PLAYBACK_STARTED,be,this),n.off(f.default.PLAYBACK_TIME_UPDATED,de,this),n.off(f.default.URL_RESOLUTION_FAILED,ve,this),n.off(f.default.FRAGMENT_LOADING_ABANDONED,he,this),v.getIsTextTrack(C)&&n.off(f.default.TIMED_TEXT_REQUESTED,_e,this),J(),oe(!1),Ae()},setPlayList:function(e){L=e},getBufferTarget:function(){return G.getBufferTarget(O,S.isTrackTypePresent(i.default.VIDEO))},finalisePlayList:,P=(0,p.default)(t).getInstance().getLogger(R),Ae(),R}y.__dashjs_factory_name="ScheduleController",t.default=h.default.getClassFactory(y),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(2));function o(e){var t=(e=e||{}).dashMetrics,n=e.metricsModel,r=e.mediaPlayerModel,a=e.textController,o=e.abrController;function s(e,s){var u=NaN;if(!e)return u;var l=e.getType(),c=e.getRepresentationInfo();if(l===i.default.FRAGMENTED_TEXT)u=a.isTextEnabled()?c.fragmentDuration:0;else if(l===i.default.AUDIO&&s){var d=t.getCurrentBufferLevel(n.getReadOnlyMetricsFor(i.default.VIDEO));u=isNaN(c.fragmentDuration)?d:Math.max(d,c.fragmentDuration)}else{var f=c.mediaInfo.streamInfo;u=o.isPlayingAtTopQuality(f)?f.manifestInfo.duration>=r.getLongFormContentDurationThreshold()?r.getBufferTimeAtTopQualityLongForm():r.getBufferTimeAtTopQuality():r.getStableBufferTime()}return u}return{execute:function(e,r){return!e||t.getCurrentBufferLevel(n.getReadOnlyMetricsFor(e.getType()))<s(e,r)},getBufferTarget:s}}o.__dashjs_factory_name="BufferLevelRule",t.default=a.default.getClassFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(8)),o=r(n(2)),s=r(n(22));function u(e){e=e||{};var t=this.context,n=e.adapter,r=e.textController,o=e.playbackController,u=void 0,l=void 0;return u={execute:function(e,t,a){if(!e)return null;var u=e.getRepresentationInfo(),c=e.getType(),d=!isNaN(t),f=e.getBufferController(),h=o.getNormalizedTime(),p=d?t:n.getIndexHandlerTime(e),g=!1,m=void 0;if(isNaN(p)||c===i.default.FRAGMENTED_TEXT&&!r.isTextEnabled())return null;if(f){var y=f.getRangeAt(p),v=f.getRangeAt(h),_=f.getBuffer().hasDiscontinuitiesAfter(h);null===y&&null===v||d||((!y||v&&v.start!=y.start&&v.end!=y.end)&&(_&&c!==i.default.FRAGMENTED_TEXT&&(e.getFragmentModel().removeExecutedRequestsAfterTime(v.end),g=!0),y=v),p!==y.end&&(l.debug("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",c,".",p,"was changed to",y.end),p=y.end))}if(a)p=a.startTime+a.duration/2,m=n.getFragmentRequest(e,u,p,{timeThreshold:0,ignoreIsFinished:!0});else for(m=n.getFragmentRequest(e,u,p,{keepIdx:!d&&!g});m&&m.action!==s.default.ACTION_COMPLETE&&e.getFragmentModel().isFragmentLoaded(m);)m=n.getFragmentRequest(e,u);return m}},l=(0,a.default)(t).getInstance().getLogger(u),u}u.__dashjs_factory_name="NextFragmentRequestRule",t.default=o.default.getClassFactory(u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(11)),o=r(n(15)),s=r(n(10)),u=r(n(7)),l=r(n(9)),c=r(n(2)),d=r(n(64));function f(){var e=this.context,t=(0,u.default)(e).getInstance(),n=void 0,r=void 0,c=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,E=void 0,S=void 0,w=void 0;function C(){return f}function O(){return p}tion k(e){var r=e;f=!1,t.trigger(l.default.AST_IN_FUTURE,{delay:r}),setTimeout((function(){if(!C()){f=!0,t.trigger(l.default.DATA_UPDATE_STARTED,{sender:n}),h.forEach((function(e){e.segmentAvailabilityRange=null}));for(var e=0;e<h.length;e++)m.updateRepresentation(h[e],!0)}}),r)}function D(e){if(e.sender.getStreamProcessor()===S&&C()){var n,u=e.representation,c=v.getMetricsFor(i.default.STREAM),m=v.getMetricsFor(O().adaptation.type),_=E.getCurrentManifestUpdate(c),b=!1,T=0,w=void 0,A=void 0;if(u.adaptation.period.mpd.manifest.type===o.default.DYNAMIC&&!u.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var I=u.segmentAvailabilityRange.end-u.segmentAvailabilityRange.start;T=1e3*(y.computeLiveDelay(p.segmentDuration,S.getStreamInfo().manifestInfo.DVRWindowSize)-I)}if(T>0)return P(),k(T),A=new s.default(a.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE,a.default.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE),void t.trigger(l.default.DATA_UPDATE_COMPLETED,{sender:this,data:r,currentRepresentation:p,error:A});if(_){for(var D=0;D<_.representationInfo.length;D++)if((w=_.representationInfo[D]).index===u.index&&w.mediaType===S.getType()){b=!0;break}b||v.addManifestUpdateRepresentationInfo(_,u.id,u.index,u.adaptation.period.index,S.getType(),u.presentationTimeOffset,u.startNumber,u.segmentInfoType)}(function(){for(var e=0,t=h.length;e<t;e++){var n=h[e].segmentInfoType;if(null===h[e].segmentAvailabilityRange||!d.default.hasInitialization(h[e])||(n===o.default.SEGMENT_BASE||n===o.default.BASE_URL)&&!h[e].segments)return!1}return!0})()&&(f=!1,g.setPlaybackQuality(S.getType(),S.getStreamInfo(),(n=p,h.indexOf(n))),v.updateManifestUpdateInfo(_,{latency:p.segmentAvailabilityRange.end-y.getTime()}),E.getCurrentRepresentationSwitch(m)||R(),t.trigger(l.default.DATA_UPDATE_COMPLETED,{sender:this,data:r,currentRepresentation:p}))}}function M(e){e.isDynamic&&function(e){for(var t=void 0,n=0,r=h.length;n<r;n++)(t=h[n]).segmentAvailabilityRange=b.calcSegmentAvailabilityRange(t,e)}(e.isDynamic)}urn n={initialize:setConfig:function(e){e.abrController&&(g=e.abrController),e.domStorage&&(_=e.domStorage),e.metricsModel&&(v=e.metricsModel),e.dashMetrics&&(E=e.dashMetrics),e.dashManifestModel&&(T=e.dashManifestModel),e.playbackController&&(y=e.playbackController),e.timelineConverter&&(b=e.timelineConverter),e.manifestModel&&(w=e.manifestModel),e.streamProcessor&&(S=e.streamProcessor)},getData:function(){return r},getDataIndex:function(){return c},isUpdating:C,updateData:function(e,n,a){var o=S.getStreamInfo(),s=g.getTopQualityIndexFor(a,o.id),u=g.getMinAllowedIndexFor(a),d=void 0,y=null;if(f=!0,t.trigger(l.default.DATA_UPDATE_STARTED,{sender:this}),h=function(e){return c=T.getIndexForAdaptation(r,e.period.mpd.manifest,e.period.index),T.getRepresentationsForAdaptation(e)}(n),null!==r&&r.id==e.id||a===i.default.FRAGMENTED_TEXT?d=g.getQualityFor(a,o):(y=g.getThroughputHistory().getAverageThroughput(a)||g.getInitialBitrateFor(a,o),d=g.getQualityForBitrate(S.getMediaInfo(),y)),void 0!==u&&d<u&&(d=u),d>s&&(d=s),p=I(d),r=e,a!==i.default.VIDEO&&a!==i.default.AUDIO&&a!==i.default.FRAGMENTED_TEXT)return f=!1,void t.trigger(l.default.DATA_UPDATE_COMPLETED,{sender:this,data:r,currentRepresentation:p});for(var v=0;v<h.length;v++)m.updateRepresentation(h[v],!0)},getStreamProcessor:function(){return S},getCurrentRepresentation:O,getRepresentationForQuality:I,reset:function(){t.off(l.default.QUALITY_CHANGE_REQUESTED,N,n),t.off(l.default.REPRESENTATION_UPDATED,D,n),t.off(l.default.WALLCLOCK_TIME_UPDATED,M,n),t.off(l.default.BUFFER_LEVEL_UPDATED,L,n),t.off(l.default.MANIFEST_VALIDITY_CHANGED,x,n),A()}},A(),t.on(l.default.QUALITY_CHANGE_REQUESTED,N,n),t.on(l.default.REPRESENTATION_UPDATED,D,n),t.on(l.default.WALLCLOCK_TIME_UPDATED,M,n),t.on(l.default.BUFFER_LEVEL_UPDATED,L,n),t.on(l.default.MANIFEST_VALIDITY_CHANGED,x,n),n}f.__dashjs_factory_name="RepresentationController",t.default=c.default.getClassFactory(f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(15)),o=r(n(22)),s=r(n(10)),u=n(12),l=r(n(9)),c=r(n(7)),d=r(n(11)),f=r(n(2)),h=r(n(8)),p=r(n(20)),g=r(n(64)),m=n(24),y=r(n(179)),v=r(n(90)),_=r(n(184));function b(e){e=e||{};var t,n=this.context,r=(0,c.default)(n).getInstance(),f=(0,p.default)(n).getInstance(),b=void 0,T=e.timelineConverter,E=e.dashMetrics,S=e.metricsModel,w=e.mediaPlayerModel,C=e.errHandler,O=e.baseURLController,A=void 0,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0;function L(){return D?D.getType():null}function N(){var e=D?D.getStreamInfo():null;return e?e.manifestInfo.isDynamic:null}tion j(e){var t=!1,n=N();if(n||P!==e.availableSegmentsNumber){var r=(0,m.getSegmentByIndex)(P,e);if(r){var i=parseFloat((r.presentationStartTime-e.adaptation.period.start).toFixed(5)),o=e.adaptation.period.duration;R.debug(e.segmentInfoType+": "+i+" / "+o),t=(e.segmentInfoType!==a.default.SEGMENT_TIMELINE||!n)&&i>=o}else R.debug("isMediaFinished - no segment found")}else t=!0;return t}unction H(e,t){if(e.segments=t,t&&t.length>0&&N()){var n=t[t.length-1].presentationStartTime,r=S.getMetricsFor(i.default.STREAM);T.setExpectedLiveEdge(n),S.updateManifestUpdateInfo(E.getCurrentManifestUpdate(r),{presentationStartTime:n})}}unction q(e,t,n){var r=t.segments,i=r?r.length:null,a=-1,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0;if(r&&i>0)for(n=null==n?w.getSegmentOverlapToleranceTime():n,c=0;c<i;c++)if(u=(s=r[c]).presentationStartTime,l=s.duration,e+(o=null==n?l/2:n)>=u&&e-o<u+l){a=s.availabilityIdx;break}return a}function K(e){if(null==e)return null;var t=new o.default,n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media;return i=(0,m.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,m.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=(0,m.replaceTokenForTemplate)(i,"Bandwidth",r),i=(0,m.replaceIDForTemplate)(i,n.id),i=(0,m.unescapeDollarsInTemplate)(i),t.mediaType=L(),t.type=u.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=x(),t.adaptationIndex=n.adaptation.index,t.representationId=n.id,B(t,i,n)?t:void 0}unction Y(e){if(!e.error&&L()===e.mediaType){var t,n=e.segments,i=e.representation,a=[],o=0,s=void 0,u=void 0,c=void 0;for(s=0,t=n.length;s<t;s++)u=n[s],c=(0,m.getTimeBasedSegment)(T,N(),i,u.startTime,u.duration,u.timescale,u.media,u.mediaRange,o),a.push(c),c=null,o++;i.segmentAvailabilityRange={start:a[0].presentationStartTime,end:a[t-1].presentationStartTime},i.availableSegmentsNumber=t,H(i,a),g.default.hasInitialization(i)&&r.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:i})}}return A={initialize:function(t){D=t,b.initialize(),M=(0,y.default)(n).create(e,N())},getStreamProcessor:function(){return D},getInitRequest:function(e){return e?function(e,t){var n=new o.default,r=e.adaptation.period,i=r.start,a=N();if(n.mediaType=t,n.type=u.HTTPRequest.INIT_SEGMENT_TYPE,n.range=e.range,n.availabilityStartTime=T.calcAvailabilityStartTimeFromPresentationTime(i,r.mpd,a),n.availabilityEndTime=T.calcAvailabilityEndTimeFromPresentationTime(i+r.duration,r.mpd,a),n.quality=e.index,n.mediaInfo=x(),n.representationId=e.id,B(n,e.initialization,e))return n}(e,L()):null},getSegmentRequestForTime:function(e,t,n){var r=void 0;if(!e)return null;var i=L(),s=P,u=!!n&&n.keepIdx,l=n?n.timeThreshold:null,c=!(!n||!n.ignoreIsFinished);return I!==t&&(I=t,R.debug("Getting the request for "+i+" time : "+t)),G(e),(P=q(t,e,l))<0&&(G(e),P=q(t,e,l)),P>=0&&R.debug("Index for "+i+" time "+t+" is "+P),!c&&j(e)?((r=new o.default).action=o.default.ACTION_COMPLETE,r.index=P,r.mediaType=i,r.mediaInfo=x(),R.debug("Signal complete in getSegmentRequestForTime -",i)):r=K((0,m.getSegmentByIndex)(P,e)),u&&s>=0&&(P=e.segmentInfoType===a.default.SEGMENT_TIMELINE&&N()?P:s),r},getNextSegmentRequest:function(e){var t=void 0,n=void 0;if(!e||-1===P)return null;var r=L(),i=N();return I=null,P++,R.debug("Getting the next request at index: "+P+", type: "+r),!(0,m.getSegmentByIndex)(P,e)&&i?(R.debug("No segment found at index: "+P+". Wait for next loop"),G(e),P--,null):(j(e)?((t=new o.default).action=o.default.ACTION_COMPLETE,t.index=P,t.mediaType=r,t.mediaInfo=x(),R.debug("Signal complete -",r)):(G(e),t=K(n=(0,m.getSegmentByIndex)(P,e)),!n&&i&&P--),t)},updateRepresentation:function(e,t){var n=g.default.hasInitialization(e),i=g.default.hasSegments(e),a=void 0;if(e.segmentDuration||e.segments||V(e),e.segmentAvailabilityRange=T.calcSegmentAvailabilityRange(e,N()),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime)return a=new s.default(d.default.SEGMENTS_UNAVAILABLE_ERROR_CODE,d.default.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void r.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:a});t||F(),e.segmentDuration&&V(e),n||b.loadInitialization(e),i||b.loadSegments(e,L(),e.indexRange),n&&i&&r.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:e})},updateSegmentList:V,setCurrentTime:function(e){k=e},getCurrentTime:function(){return k},reset:resetIndex:F},R=(0,h.default)(n).getInstance().getLogger(A),U(),t=e.mimeType,(b="webm"===t.split("/")[1].toLowerCase()?(0,_.default)(n).getInstance():(0,v.default)(n).getInstance()).setConfig({baseURLController:O,metricsModel:S,mediaPlayerModel:w,errHandler:C}),r.on(l.default.INITIALIZATION_LOADED,z,A),r.on(l.default.SEGMENTS_LOADED,Y,A),A}b.__dashjs_factory_name="DashHandler",t.default=f.default.getClassFactory(b),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(15)),a=r(n(2)),o=r(n(180)),s=r(n(181)),u=r(n(182));function l(e,t){var n,r=this.context,a=void 0,l=void 0,c=void 0;return n={getSegments:function(e,t,n,r,o){var s=void 0,u=e.segmentInfoType;u!==i.default.SEGMENT_BASE&&u!==i.default.BASE_URL&&function(e,t){var n=e.segments,r=!1,i=void 0,a=void 0;return n&&0!==n.length?(a=n[0].availabilityIdx,i=n[n.length-1].availabilityIdx,r=t<a||t>i):r=!0,r}(e,n)?(u===i.default.SEGMENT_TIMELINE?s=a.getSegments(e,t,n,o):u===i.default.SEGMENT_TEMPLATE?s=l.getSegments(e,t,n,o):u===i.default.SEGMENT_LIST&&(s=c.getSegments(e,t,n,o)),r&&r(e,s)):s=e.segments}},a=(0,o.default)(r).create(e,t),l=(0,s.default)(r).create(e,t),c=(0,u.default)(r).create(e,t),n}l.__dashjs_factory_name="SegmentsGetter";var c=a.default.getClassFactory(l);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(6)),o=n(24);function s(e,t){var n=(e=e||{}).timelineConverter;return{getSegments:function(e,r,i,s){if(),!e)throw new Error("no representation");void 0===r&&(r=null);var u=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,l=u.SegmentTimeline,c=u.SegmentURL_asArray,d=e.availableSegmentsNumber>0,f=void 0;f=s||(i>-1||null!==r?10:1/0);var h,p,g,m=0,y=0,v=-1,_=[],b=null,T=void 0,E=void 0,S=void 0,w=void 0,C=void 0,O=void 0,A=void 0,R=void 0,P=for(R=e.timescale,h=l.S_asArray,g=i,null!==r&&(b=n.calcMediaTimeFromPresentationTime(r,e)),E=0,p=h.length;E<p;E++){if(w=0,(T=h[E]).hasOwnProperty("r")&&(w=T.r),T.hasOwnProperty("t")&&(y=(m=T.t)/R),w<0){if((O=h[E+1])&&O.hasOwnProperty("t"))C=O.t/R;else{var I=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:n.calcSegmentAvailabilityRange(e,t).end;C=n.calcMediaTimeFromPresentationTime(I,e),e.segmentDuration=T.d/R}w=Math.ceil((C-y)/(T.d/R))-1}if(A){if(d)break;v+=w+1}else for(S=0;S<=w;S++)if(v++,_.length>f){if(A=!0,d)break}else null!==b?y>=b-T.d/R*1.5&&_.push(P(T,v)):v>=g&&_.push(P(T,v)),y=(m+=T.d)/R}return d||(e.availableSegmentsNumber=v+1),_}}}s.__dashjs_factory_name="TimelineSegmentsGetter";var u=i.default.getClassFactory(s);t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(24);function o(e,t){var n=e.timelineConverter;return{getSegments:function(e,r,i,o){var s,u,l,c=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,d=e.segmentDuration,f=e.segmentAvailabilityRange,h=[],p=null,g=null,m=void 0,y=void 0;for(l=e.startNumber,s=(m=isNaN(d)&&!t?{start:l,end:l}:(0,a.decideSegmentListRangeForTemplate)(n,t,e,r,i,o)).start,u=m.end,y=s;y<=u;y++)(g=(0,a.getIndexBasedSegment)(n,t,e,y)).replacementTime=(l+y-1)*e.segmentDuration,p=c.media,p=(0,a.replaceTokenForTemplate)(p,"Number",g.replacementNumber),p=(0,a.replaceTokenForTemplate)(p,"Time",g.replacementTime),g.media=p,h.push(g),g=null;return isNaN(d)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((f.end-f.start)/d),h}}}o.__dashjs_factory_name="TemplateSegmentsGetter";var s=i.default.getClassFactory(o);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(24);function o(e,t){var n=(e=e||{}).timelineConverter;return{getSegments:function(e,r,i,o){var s,u,l,c,d=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,f=d.SegmentURL_asArray.length,h=[],p=void 0,g=void 0,m=void 0;for(c=e.startNumber,s=(0,a.decideSegmentListRangeForTemplate)(n,t,e,r,i,o),u=Math.max(s.start,0),l=Math.min(s.end,d.SegmentURL_asArray.length-1),p=u;p<=l;p++)m=d.SegmentURL_asArray[p],(g=(0,a.getIndexBasedSegment)(n,t,e,p)).replacementTime=(c+p-1)*e.segmentDuration,g.media=m.media?m.media:"",g.mediaRange=m.mediaRange,g.index=m.index,g.indexRange=m.indexRange,h.push(g),g=null;return e.availableSegmentsNumber=f,h}}}o.__dashjs_factory_name="ListSegmentsGetter";var s=i.default.getClassFactory(o);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).requestModifier,n=e.boxParser;unction i(e,t){if((e=e.filter(()).length>1){var n=(r=0,i=(e[e.length-1].ts-e[0].ts)/e.length,e.forEach((),{v:r});if("object"==typeof n)return n.v}var r,i;return null}return{load:function(e){var a=new Date,o=e.request,s=new Headers;o.range&&s.append("Range","bytes="+o.range),o.requestStartDate||(o.requestStartDate=a),t&&t.modifyRequestHeader({setRequestHeader:function(e,t){s.append(e,t)}});var u=void 0;"function"==typeof window.AbortController&&(u=new AbortController,e.abortController=u);var l={method:e.method,headers:s,credentials:e.withCredentials?"include":void 0,signal:u?u.signal:void 0};fetch(e.url,l).then((function(t){e.response||(e.response={}),e.response.status=t.status,e.response.statusText=t.statusText,e.response.responseURL=t.url,t.ok||e.onerror();var a="",o=!0,s=!1,u=void 0;try{for(var l,c=t.headers.keys()[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var d=l.value;a+=d+": "+t.headers.get(d)+"\n"}}catch(e){s=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}if(e.response.responseHeaders=a,!t.body)return t.arrayBuffer().then(();var f=parseInt(t.headers.get("Content-Length"),10),h=0,p=!1,g=new Uint8Array,m=0;e.reader=t.body.getReader();var y=[];r(e,(function t(a){var o=a.value;if(a.done)return g&&(e.progress({loaded:h,total:isNaN(f)?h:f,lengthComputable:!0,time:i(y,h),stream:!0}),e.response.response=g.buffer),e.onload(),void e.onend();if(o&&o.length>0){g=g,o),h+=o.length,y.push({ts:Date.now(),bytes:o.length});var s=n.findLastTopIsoBoxCompleted(["moov","mdat"],g,m);if(s.found){var u=s.lastCompletedOffset+s.size,l=void 0;u===g.length?(l=g,g=new Uint8Array):(l=new Uint8Array(g.subarray(0,u)),g=g.subarray(u)),e.progress({data:l.buffer,lengthComputable:!1,noTrace:!0}),m=0}else m=s.lastCompletedOffset,p||(e.progress({lengthComputable:!1,noTrace:!0}),p=!0)}r(e,t)}))})).catch(()},abort:calculateDownloadedTime:i}}a.__dashjs_factory_name="FetchLoader";var o=i.default.getClassFactory(a);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9)),a=r(n(7)),o=r(n(185)),s=r(n(6)),u=r(n(2)),l=r(n(8)),c=r(n(46)),d=r(n(63)),f=n(12),h=r(n(22)),p=r(n(35)),g=r(n(10)),m=r(n(11));function y(){var e=this.context,t=(0,a.default)(e).getInstance(),n=void 0,r=void 0,u=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,E=void 0;function S(t,n,i,a){var s,l,c=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0;for(f=[],p=0,l=(s=function(t){var n=[],r=void 0,i=void 0,a=(0,o.default)(e).create({data:t});for(a.consumeTagAndSize(u.Segment.Cues);a.moreData()&&a.consumeTagAndSize(u.Segment.Cues.CuePoint,!0);){for((r={}).CueTime=a.parseTag(u.Segment.Cues.CuePoint.CueTime),r.CueTracks=[];a.moreData()&&a.consumeTag(u.Segment.Cues.CuePoint.CueTrackPositions,!0);){var s=a.getMatroskaCodedNum(),l=a.getPos();if((i={}).Track=a.parseTag(u.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=a.parseTag(u.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),r.CueTracks.push(i),a.setPos(l+s)}if(0===r.CueTracks.length)throw new Error("Mandatory cuetrack not found");n.push(r)}if(0===n.length)throw new Error("mandatory cuepoint not found");return n}(t)).length;p<l;p+=1)h=new d.default,c=0,c=p<s.length-1?s[p+1].CueTime-s[p].CueTime:a-s[p].CueTime,h.duration=c,h.startTime=s[p].CueTime,h.timescale=1e3,g=s[p].CueTracks[0].ClusterPosition+n,m=p<s.length-1?s[p+1].CueTracks[0].ClusterPosition+n-1:i-1,h.mediaRange=g+"-"+m,f.push(h);return r.debug("Parsed cues: "+f.length+" cues."),f}unction C(e,n,r){e?t.trigger(i.default.SEGMENTS_LOADED,{segments:e,representation:n,mediaType:r}):t.trigger(i.default.SEGMENTS_LOADED,{segments:null,representation:n,mediaType:r,error:new g.default(m.default.SEGMENT_BASE_LOADER_ERROR_CODE,m.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}eturn n={setConfig:function(e){if(!(e.baseURLController&&e.metricsModel&&e.mediaPlayerModel&&e.errHandler))throw new Error(s.default.MISSING_CONFIG_ERROR);E=e.baseURLController,_=e.metricsModel,b=e.mediaPlayerModel,y=e.errHandler},initialize:function(){v=(0,c.default)(e).getInstance(),T=(0,p.default)(e).create({errHandler:y,metricsModel:_,mediaPlayerModel:b,requestModifier:v})},loadInitialization:function(e,n){w();var a=null,o=E.resolve(e.path),s=o?o.url:void 0,u=e.range.split("-"),l=n||{range:{start:parseFloat(u[0]),end:parseFloat(u[1])},request:a,url:s,init:!0};r.info("Start loading initialization."),a=O(l),T.load({request:a,success:function(){t.trigger(i.default.INITIALIZATION_LOADED,{representation:e})},error:),r.debug("Perform init load: "+l.url)},loadSegments:function(t,n,i,a){w();var s=null,l=E.resolve(t.path),c=l?l.url:void 0;a=a||C,s=O({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:s,url:c,init:!1}),r.debug("Parsing ebml header"),T.load({request:s,success:function(s){!function(t,n,i,a){var s,l=(0,o.default)(e).create({data:t}),c=void 0,d=void 0,f=i.split("-"),h=null,p={url:n,range:{start:parseFloat(f[0]),end:parseFloat(f[1])},request:h},g=void 0;for(r.debug("Parse EBML header: "+p.url),l.skipOverElement(u.EBML),l.consumeTag(u.Segment),g=l.getMatroskaCodedNum(),g+=l.getPos(),s=l.getPos();l.moreData()&&!l.consumeTagAndSize(u.Segment.Info,!0);)if(!(l.skipOverElement(u.Segment.SeekHead,!0)||l.skipOverElement(u.Segment.Tracks,!0)||l.skipOverElement(u.Segment.Cues,!0)||l.skipOverElement(u.Void,!0)))throw new Error("no valid top level element found");for(;void 0===c;){var m=l.getMatroskaCodedNum(!0),y=l.getMatroskaCodedNum();m===u.Segment.Info.Duration.tag?c=l[u.Segment.Info.Duration.parse](y):l.setPos(l.getPos()+y)}h=O(p),T.load({request:h,success:error:),r.debug("Perform cues load: "+p.url+" bytes="+p.range.start+"-"+p.range.end)}(s,c,i,(function(e){a(e,t,n)}))},error:)},reset:,r=(0,l.default)(e).getInstance().getLogger(n),u={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},n}y.__dashjs_factory_name="WebmSegmentBaseLoader",t.default=u.default.getSingletonFactory(y),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=new DataView(e.data),r=0;turn t={getPos:function(){return r},setPos:function(e){r=e},consumeTag:i,consumeTagAndSize:parseTag:skipOverElement:function(e,t){var n=i(e,t),o=void 0;return n&&(o=a(),r+=o),n},getMatroskaCodedNum:a,getMatroskaFloat:function(e){var t=void 0;switch(e){case 4:t=n.getFloat32(r),r+=4;break;case 8:t=n.getFloat64(r),r+=8}return t},getMatroskaUint:moreData:}a.__dashjs_factory_name="EBMLParser",t.default=i.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(8)),o=r(n(7)),s=r(n(9)),u=r(n(65));function l(){var e=this.context,t=(0,o.default)(e).getInstance(),n=void 0,r=void 0,i=void 0,l=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0;function y(){m=!1,i={},l={},c={},d=null,f=100,h=Date.now()/1e3}nction b(e){if(1==e.eventStream.value){var n=e.eventStream.timescale||1,i=e.presentationTime/n,a=void 0;a=4294967295==e.presentationTime?NaN:(e.presentationTime+e.duration)/n,r.info("Manifest validity changed: Valid until: "+i+"; remaining duration: "+a),t.trigger(s.default.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:i,newDuration:a,newManifestValidAfter:NaN})}}function T(){var e=g.getTime(),t=e-h;h=e,E(l,t,e),E(i,t,e),function(){if(c)for(var e=g.getTime(),t=Object.keys(c),n=0;n<t.length;n++){var i=t[n],a=c[i];null!==a&&(a.duration+a.presentationTime)/a.eventStream.timescale<e&&(r.debug("Remove Event "+i+" at time "+e),a=null,delete c[i])}}()}function E(n,i,a){var o,s;if(n)for(var l=Object.keys(n),d=0;d<l.length;d++){var f=l[d],h=n[f];void 0!==h&&(0===(o=h.presentationTime/h.eventStream.timescale)||o<=a&&o+i>a)&&(r.debug("Start Event "+f+" at "+a),h.duration>0&&(c[f]=h),"urn:mpeg:dash:event:2012"==h.eventStream.schemeIdUri&&1==h.eventStream.value?0===h.duration&&0===h.presentationTimeDelta||(v(),p.refreshManifest()):"urn:mpeg:dash:event:callback:2015"==h.eventStream.schemeIdUri&&1==h.eventStream.value?(s=h.messageData,(0,u.default)(e).create({}).load({method:"get",url:s,request:{responseType:"arraybuffer"}})):t.trigger(h.eventStream.schemeIdUri,{event:h}),delete n[f])}}return n={addInlineEvents:function(e){if(v(),i={},e)for(var t=0;t<e.length;t++){var n=e[t];i[n.id]=n,r.debug("Add inline event with id "+n.id)}r.debug("Added "+e.length+" inline events")},addInbandEvents:function(e){v();for(var t=0;t<e.length;t++){var n=e[t];n.id in l?r.debug("Repeated event with id "+n.id):("urn:mpeg:dash:event:2012"===n.eventStream.schemeIdUri&&void 0===l[n.id]&&b(n),l[n.id]=n,r.debug("Add inband event with id "+n.id))}},stop:_,start:function(){v(),r.debug("Start Event Controller"),m||isNaN(f)||(m=!0,d=setInterval(T,f))},setConfig:reset:,r=(0,a.default)(e).getInstance().getLogger(n),y(),n}l.__dashjs_factory_name="EventController",t.default=i.default.getClassFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=n(12),o=r(n(188)),s=r(n(39)),u=r(n(189)),l=r(n(46)),c=r(n(7)),d=r(n(9)),f=r(n(2)),h=r(n(8));function p(e){e=e||{};var t=this.context,n=(0,c.default)(t).getInstance(),r=e.errHandler,f=e.mediaPlayerModel,p=e.metricsModel,g=void 0,m=void 0,y=void 0;nction b(e){if(y[e.request.mediaType]===e.sender){var t=e.request,r=e.response,a=v(t),s=t.mediaInfo.streamInfo;if(e.error&&(e.request.mediaType!==i.default.AUDIO&&e.request.mediaType!==i.default.VIDEO&&e.request.mediaType!==i.default.FRAGMENTED_TEXT||n.trigger(d.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation})),r&&s){var u=r,t,s.id,e.type!==d.default.FRAGMENT_LOADING_PROGRESS);n.trigger(a?d.default.INIT_FRAGMENT_LOADED:d.default.MEDIA_FRAGMENT_LOADED,{chunk:u,fragmentModel:e.sender})}else m.warn("No "+t.mediaType+" bytes to push or stream is inactive.")}}return g={getModel:function(e){var n=y[e];return n||(n=(0,s.default)(t).create({metricsModel:p,fragmentLoader:(0,u.default)(t).create({metricsModel:p,mediaPlayerModel:f,errHandler:r,requestModifier:(0,l.default)(t).getInstance()})}),y[e]=n),n},isInitializationRequest:v,reset:,m=(0,h.default)(t).getInstance().getLogger(g),_(),n.on(d.default.FRAGMENT_LOADING_COMPLETED,b,g),n.on(d.default.FRAGMENT_LOADING_PROGRESS,b,g),g}p.__dashjs_factory_name="FragmentController",t.default=f.default.getClassFactory(p),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(35)),a=r(n(190)),o=r(n(10)),s=r(n(7)),u=r(n(33)),l=r(n(9)),c=r(n(11)),d=r(n(2));function f(e){e=e||{};var t,n=this.context,r=(0,s.default)(n).getInstance(),d=void 0,f=void 0;return d={checkForExistence:function(e){var t=if(e){var n=new a.default(e.url);f.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)},load:function(e){var t=e?f.load({request:e,progress:function(t){r.trigger(l.default.LOADING_PROGRESS,{request:e,stream:t.stream}),t.data&&r.trigger(l.default.LOADING_DATA_PROGRESS,{request:e,response:t.data||null,error:null,sender:d})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new o.default(c.default.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,r,n))},abort:function(e){e&&r.trigger(l.default.LOADING_ABANDONED,{request:e,mediaType:e.mediaType,sender:d})}}):t(void 0,new o.default(c.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,c.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:reset:function(){f&&(f.abort(),f=null)}},t=(0,u.default)(n).getInstance(),f=(0,i.default)(n).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,boxParser:t,useFetch:e.mediaPlayerModel.getLowLatencyEnabled()}),d}f.__dashjs_factory_name="FragmentLoader",t.default=d.default.getClassFactory(f),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(22))&&r.__esModule?r:{default:r}).default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(6)),o=r(n(192)),s=r(n(91)),u=r(n(88)),l=n(24);function c(e){var t,n=this.context,r=void 0;eturn t={get:function(e,t){var n=r.getCurrentTrack();if(!n||n.segmentDuration<=0||null==e)return null;var i=Math.floor(e/n.segmentDuration),a=e%n.segmentDuration,s=Math.floor(a*n.tilesHor*n.tilesVert/n.segmentDuration),u=new o.default;return u.width=Math.floor(n.widthPerTile),u.height=Math.floor(n.heightPerTile),u.x=Math.floor(s%n.tilesHor)*n.widthPerTile,u.y=Math.floor(s/n.tilesHor)*n.heightPerTile,"readThumbnail"in n?n.readThumbnail(e,():(u.url=function(e,t){var n=t+e.startNumber,r=(0,l.replaceTokenForTemplate)(e.templateUrl,"Number",n);return r=(0,l.replaceTokenForTemplate)(r,"Time",(n-1)*e.segmentDuration),r=(0,l.replaceTokenForTemplate)(r,"Bandwidth",e.bandwidth),(0,l.unescapeDollarsInTemplate)(r)}(n,i),t&&t(u),u)},setTrackByIndex:function(e){r.setTrackByIndex(e)},getCurrentTrackIndex:function(){return r.getCurrentTrackIndex()},getBitrateList:reset:i},i(),r=(0,s.default)(n).create({dashManifestModel:e.dashManifestModel,adapter:e.adapter,baseURLController:e.baseURLController,stream:e.stream,timelineConverter:e.timelineConverter}),t}c.__dashjs_factory_name="ThumbnailController",t.default=i.default.getClassFactory(c),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7)),a=r(n(9)),o=r(n(2)),s=r(n(8)),u=r(n(11));function l(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0,r=void 0,o=void 0,l=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0;tion T(e){h.setValue(e);var n=new Date,i=(n.getTime()-e.loadedTime.getTime())/1e3;1e3*(o=p.getManifestUpdatePeriod(e,i))>2147483647&&(o=2147483.647),t.trigger(a.default.MANIFEST_UPDATED,{manifest:e}),r.info("Manifest has been refreshed at "+n+"["+n.getTime()/1e3+"] "),c||_()}function E(){c&&!m.getScheduleWhilePaused()||(d?_(m.getManifestUpdateRetryInterval()):b())}unction w(){c=!1,_()}unction O(){d=!1}return n={initialize:setManifest:function(e){T(e)},refreshManifest:b,setConfig:reset:,r=(0,s.default)(e).getInstance().getLogger(n),n}l.__dashjs_factory_name="ManifestUpdater",t.default=o.default.getClassFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(10)),o=n(12),s=r(n(7)),u=r(n(9)),l=r(n(11)),c=r(n(2)),d=r(n(8)),f=r(n(20));function h(){var e=this.context,t=(0,s.default)(e).getInstance(),n=(0,f.default)(e).getInstance(),r=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0;function b(e){p=e}function T(e){h=e}function E(e){var t=Date.parse(e);return isNaN(t)&&(t=function(e){var t=void 0,n=void 0,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&(parseInt(r[6],10)||0),r[7]&&1e3*parseFloat(r[7])||0),r[9]&&r[10]&&(n=60*parseInt(r[9],10)+parseInt(r[10],10),t+=("+"===r[8]?-1:1)*n*60*1e3),new Date(t).getTime()}(e)),t}function S(e){return Date.parse(e)}ction A(e,t,r,i,a){var s,u,l=!1,c=new XMLHttpRequest,d=a?o.HTTPRequest.HEAD:o.HTTPRequest.GET,f=t.match(/\S+/g);if(t=f.shift(),s=u=n.isRelative(t)){var h=_.resolve();h&&(t=n.resolve(t,h.url))}c.open(d,t),c.timeout=5e3,c.onload=u,c.onloadend=s,c.send()}turn r={initialize:function(e,t){g=t,h=0,p=!1,m={"urn:mpeg:dash:utc:http-head:2014":R,"urn:mpeg:dash:utc:http-xsdate:2014":A.bind(null,E),"urn:mpeg:dash:utc:http-iso:2014":A.bind(null,S),"urn:mpeg:dash:utc:direct:2014":O,"urn:mpeg:dash:utc:http-head:2012":R,"urn:mpeg:dash:utc:http-xsdate:2012":A.bind(null,E),"urn:mpeg:dash:utc:http-iso:2012":A.bind(null,S),"urn:mpeg:dash:utc:direct:2012":O,"urn:mpeg:dash:utc:http-ntp:2014":C,"urn:mpeg:dash:utc:ntp:2014":C,"urn:mpeg:dash:utc:sntp:2014":C},p||function e(t,n){var r=n||0,a=t[r],o=function(e,t){var n,r,a,o=!e||!t;o&&g?(n=y.getReadOnlyMetricsFor(i.default.STREAM),a=null!==(r=v.getLatestMPDRequestHeaderValueByID(n,"Date"))?new Date(r).getTime():Number.NaN,isNaN(a)?P(!0):(T(a-(new Date).getTime()),P(!1,a/1e3,h))):P(o,e,t)};b(!0),a?m.hasOwnProperty(a.schemeIdUri)?m[a.schemeIdUri](a.value,(function(e){var t=(new Date).getTime(),n=e,t);T(n),c.info("Local time: "+new Date(t)),c.info("Server time: "+new Date(e)),c.info("Server Time - Local Time (ms): "+n),o(e,n)}),():e(t,r+1):(T(0),o())}(e)},getOffsetToDeviceTimeMs:function(){return h},setConfig:reset:,c=(0,d.default)(e).getInstance().getLogger(r),r}h.__dashjs_factory_name="TimeSyncController";var p=c.default.getSingletonFactory(h);p.HTTP_TIMEOUT_MS=5e3,c.default.updateSingletonFactory(h.__dashjs_factory_name,p),t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(94)),a=r(n(2)),o=function s(){var e,t=void 0,n=void 0,r=this.context,a=(0,i.default)(r).getInstance();urn e={reset:l,update:function(e){u(e)},getForPath:invalidateSelectedIndexes:setConfig:,l(),e}s.__dashjs_factory_name="BaseURLTreeModel",t.default=a.default.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(11)),a=r(n(7)),o=r(n(9)),s=r(n(199)),u=r(n(200)),l=r(n(201)),c=r(n(2)),d=r(n(10)),f=r(n(6));function h(){var e,t=this.context,n=(0,a.default)(t).getInstance(),r=void 0,c=void 0,h=void 0,p=void 0,g=void 0;eturn e={chooseSelectorFromManifest:function(e){!function(){if(!r||!r.hasOwnProperty("getIsDVB"))throw new Error(f.default.MISSING_CONFIG_ERROR)}(),g=r.getIsDVB(e)?p:h},select:reset:m,setConfig:,c=(0,s.default)(t).create({updateEventName:o.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:o.default.SERVICE_LOCATION_BLACKLIST_ADD}),h=(0,l.default)(t).create({blacklistController:c}),p=(0,u.default)(t).create({blacklistController:c}),g=h,e}h.__dashjs_factory_name="BaseURLSelector",t.default=c.default.getClassFactory(h),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(7));function o(e){e=e||{};var t=[],n=(0,a.default)(this.context).getInstance(),r=e.updateEventName,i=e.addBlacklistEventName;turn function(){i&&n.on(i,s,this)}(),{add:o,contains:reset:function(){t=[]}}}o.__dashjs_factory_name="BlackListController",t.default=i.default.getClassFactory(o),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).blacklistController;return{select:function(e){return e&&function(e){var t=0,n=[],r=0,i=void 0,a=void 0;if((a=e.sort(().filter(()).length)return a.length>1&&(a.forEach((),i=Math.floor(Math.random()*(t-1)),n.every(()),a[r]}((n=[],e.filter(().filter(()));var n}}}a.__dashjs_factory_name="DVBSelector",t.default=i.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).blacklistController;return{select:function(e){var n=0,r=void 0;return e&&e.some(()&&(r=e[n]),r}}}a.__dashjs_factory_name="BasicSelector",t.default=i.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(8));function o(){var e=void 0,t=void 0,n=this.context;return e={createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n},detachMediaSource:function(e){e.setSource(null)},setDuration:function(e,t){return e.duration!=t&&(e.duration=t),e.duration},setSeekable:function(e,t,n){e&&"function"==typeof e.setLiveSeekableRange&&"function"==typeof e.clearLiveSeekableRange&&"open"===e.readyState&&t>=0&&t<n&&(e.clearLiveSeekableRange(),e.setLiveSeekableRange(t,n))},signalEndOfStream:function(e){var n=e.sourceBuffers,r=n.length;if("open"===e.readyState){for(var i=0;i<r;i++){if(n[i].updating)return;if(0===n[i].buffered.length)return}t.info("call to mediaSource endOfStream"),e.endOfStream()}}},t=(0,a.default)(n).getInstance().getLogger(e),e}o.__dashjs_factory_name="MediaSourceController",t.default=i.default.getSingletonFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(204)),o=r(n(35)),s=r(n(20)),u=r(n(96)),l=r(n(10)),c=n(12),d=r(n(7)),f=r(n(9)),h=r(n(11)),p=r(n(2)),g=r(n(206)),m=r(n(8));function y(e){e=e||{};var t=this.context,n=(0,d.default)(t).getInstance(),r=(0,s.default)(t).getInstance(),p=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=e.mssHandler,E=e.errHandler;eturn p={load:function(e){var a=new u.default(e,c.HTTPRequest.MPD_TYPE);v.load({request:a,success:function(a,o,s){if(_){var u=void 0,c=void 0,d=void 0;if(s&&s!==e?(c=r.parseBaseUrl(s),u=s):(r.isRelative(e)&&(e=r.resolve(e,window.location.href)),c=r.parseBaseUrl(e)),null===b&&(b=function(e){var n=null;return e.indexOf("SmoothStreamingMedia")>-1?(T&&(n=T.createMssParser(),T.registerEvents()),n):e.indexOf("MPD")>-1?(0,g.default)(t).create():n}(a)),null!==b){_.setMatchers(b.getMatchers()),_.setIron(b.getIron());try{d=b.parse(a)}catch(t){return void n.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}d?(d.url=u||e,d.originalUrl||(d.originalUrl=d.url),d.hasOwnProperty(i.default.LOCATION)&&(c=r.parseBaseUrl(d.Location_asArray[0]),y.debug("BaseURI set by Location to: "+c)),d.baseUri=c,d.loadedTime=new Date,_.resolveManifestOnLoad(d)):n.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}else n.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}},error:)},reset:function(){n.off(f.default.XLINK_READY,S,p),_&&(_.reset(),_=null),v&&(v.abort(),v=null),T&&T.reset()}},y=(0,m.default)(t).getInstance().getLogger(p),n.on(f.default.XLINK_READY,S,p),v=(0,o.default)(t).create({errHandler:E,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),_=(0,a.default)(t).create({errHandler:E,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),b=null,p}y.__dashjs_factory_name="ManifestLoader";var v=p.default.getClassFactory(y);t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(205)),a=r(n(7)),o=r(n(9)),s=r(n(2)),u=r(n(97)),l=r(n(20)),c=r(n(15));function d(e){e=e||{};var t=this.context,n=(0,a.default)(t).getInstance(),r=(0,l.default)(t).getInstance(),s=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0;unction y(e){var t,n=void 0,r="";if(n=e.element,t=e.resolveObject,n.resolvedContent){var i=0;0===n.resolvedContent.indexOf("<?xml")&&(i=n.resolvedContent.indexOf("?>")+2),r=n.resolvedContent.substr(0,i)+"<response>"+n.resolvedContent.substr(i)+"</response>",n.resolvedContent=p.xml_str2json(r)}((t)&&v(t)}function v(e){var t=[],r=void 0,i=void 0;if(function(e){var t=[],n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0;for(a=e.elements.length-1;a>=0;a--){if(r=(n=e.elements[a]).type+"_asArray",n.resolvedContent){if(n.resolvedContent)for(o=0;o<n.resolvedContent[r].length;o++)i=n.resolvedContent[r][o],t.push(i)}else delete n.originalContent["xlink:actuate"],delete n.originalContent["xlink:href"],t.push(n.originalContent);for(n.parentElement[r].splice(n.index,1),s=0;s<t.length;s++)n.parentElement[r].splice(n.index+s,0,t[s]);t=[]}e.elements.length>0&&f.run(h)}(e),"onActuate"===e.resolveType&&n.trigger(o.default.XLINK_READY,{manifest:h}),"onLoad"===e.resolveType)switch(e.type){case c.default.PERIOD:for(r=0;r<h[c.default.PERIOD+"_asArray"].length;r++)(i=h[c.default.PERIOD+"_asArray"][r]).hasOwnProperty(c.default.ADAPTATION_SET+"_asArray")&&(t=t.concat(_(i[c.default.ADAPTATION_SET+"_asArray"],i,c.default.ADAPTATION_SET,"onLoad"))),i.hasOwnProperty(c.default.EVENT_STREAM+"_asArray")&&(t=t.concat(_(i[c.default.EVENT_STREAM+"_asArray"],i,c.default.EVENT_STREAM,"onLoad")));m(t,c.default.ADAPTATION_SET,"onLoad");break;case c.default.ADAPTATION_SET:n.trigger(o.default.XLINK_READY,{manifest:h})}}function _(e,t,n,r){var i=[],a=void 0,o=void 0,s=void 0;for(o=e.length-1;o>=0;o--)(a=e[o]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===a["xlink:href"]&&e.splice(o,1);for(o=0;o<e.length;o++)(a=e[o]).hasOwnProperty("xlink:href")&&a.hasOwnProperty("xlink:actuate")&&a["xlink:actuate"]===r&&(s=b(a["xlink:href"],t,n,o,r,a),i.push(s));return i}eturn s={resolveManifestOnLoad:function(e){p=new u.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:d}),m(_((h=e).Period_asArray,h,c.default.PERIOD,"onLoad"),c.default.PERIOD,"onLoad")},setMatchers:function(e){e&&(d=e)},setIron:reset:,n.on(o.default.XLINK_ELEMENT_LOADED,y,s),g=(0,i.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),s}d.__dashjs_factory_name="XlinkController",t.default=s.default.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(10)),a=r(n(35)),o=n(12),s=r(n(96)),u=r(n(7)),l=r(n(9)),c=r(n(2)),d=r(n(11));function f(e){e=e||{};var t=this.context,n=(0,u.default)(t).getInstance(),r=(0,a.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier});return{load:reset:}f.__dashjs_factory_name="XlinkLoader",t.default=c.default.getClassFactory(f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(8)),o=r(n(207)),s=r(n(97)),u=r(n(208)),l=r(n(209)),c=r(n(210)),d=r(n(211)),f=r(n(212)),h=r(n(214));function p(){var e=this.context,t=void 0,n=void 0,r=void 0,i=void 0,p=void 0;return t={parse:function(e){var t,r=window.performance.now();if(!(t=i.xml_str2json(e)))throw new Error("parsing the manifest failed");var a=window.performance.now();p.run(t);var o=window.performance.now();return n.info("Parsing complete: ( xml2json: "+(a-r).toPrecision(3)+"ms, objectiron: "+(o-a).toPrecision(3)+"ms, total: "+((o-r)/1e3).toPrecision(3)+"s)"),t},getMatchers:function(){return r},getIron:function(){return p}},n=(0,a.default)(e).getInstance().getLogger(t),r=[new l.default,new c.default,new d.default,new u.default],i=new s.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:r}),p=(0,o.default)(e).create({adaptationset:new f.default,period:new h.default}),t}p.__dashjs_factory_name="DashParser",t.default=i.default.getClassFactory(p),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e){urn{run:function(t){if(null===t||"object"!=typeof t)return t;if("period"in e)for(var n=e.period,i=t.Period_asArray,a=0,o=i.length;a<o;++a){var s=i[a];if(r(n,s),"adaptationset"in e){var u=s.AdaptationSet_asArray;if(u)for(var l=e.adaptationset,c=0,d=u.length;c<d;++c)r(l,u[c])}}return t}}}a.__dashjs_factory_name="ObjectIron";var o=i.default.getClassFactory(a);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(47)),o=r(n(15)),s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(,(function(e){return String(e)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(47)),a=r(n(6)),o=r(n(15)),s=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(,()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(47))&&r.__esModule?r:{default:r},a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(function(e){return a.test(e.value)}),()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(47))&&r.__esModule?r:{default:r},a=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(function(e){return a.test(e.value)}),(function(e){return parseFloat(e)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(98)),a=r(n(15)),o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=[a.default.PROFILES,a.default.WIDTH,a.default.HEIGHT,a.default.SAR,a.default.FRAMERATE,a.default.AUDIO_SAMPLING_RATE,a.default.MIME_TYPE,a.default.SEGMENT_PROFILES,a.default.CODECS,a.default.MAXIMUM_SAP_PERIOD,a.default.START_WITH_SAP,a.default.MAX_PLAYOUT_RATE,a.default.CODING_DEPENDENCY,a.default.SCAN_TYPE,a.default.FRAME_PACKING,a.default.AUDIO_CHANNEL_CONFIGURATION,a.default.CONTENT_PROTECTION,a.default.ESSENTIAL_PROPERTY,a.default.SUPPLEMENTAL_PROPERTY,a.default.INBAND_EVENT_STREAM];(function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}})(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,a.default.ADAPTATION_SET,e,[new i.default(a.default.REPRESENTATION,e,[new i.default(a.default.SUB_REPRESENTATION,e)])])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){eturn r(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(98)),a=r(n(15)),o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=[a.default.SEGMENT_BASE,a.default.SEGMENT_TEMPLATE,a.default.SEGMENT_LIST];(function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}})(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,a.default.PERIOD,e,[new i.default(a.default.ADAPTATION_SET,e,[new i.default(a.default.REPRESENTATION,e)])])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7)),a=r(n(9)),o=r(n(2));function s(){var e=this.context,t=(0,i.default)(e).getInstance();return{capabilityError:function(e){t.trigger(a.default.ERROR,{error:"capability",event:e})},downloadError:function(e,n,r){t.trigger(a.default.ERROR,{error:"download",event:{id:e,url:n,request:r}})},manifestError:function(e,n,r,i){t.trigger(a.default.ERROR,{error:"manifestError",event:{message:e,id:n,manifest:r,event:i}})},timedTextError:function(e,n,r){t.trigger(a.default.ERROR,{error:"cc",event:{message:e,id:n,cc:r}})},mediaSourceError:function(e){t.trigger(a.default.ERROR,{error:"mediasource",event:e})},mediaKeySessionError:function(e){t.trigger(a.default.ERROR,{error:"key_session",event:e})},mediaKeyMessageError:error:}s.__dashjs_factory_name="ErrorHandler",t.default=o.default.getSingletonFactory(s),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(){var e,t=void 0;return e={supportsMediaSource:supportsEncryptedMedia:function(){return t},supportsCodec:function(e){return!(!("MediaSource"in window)||!MediaSource.isTypeSupported(e))||!(!("WebKitMediaSource"in window)||!WebKitMediaSource.isTypeSupported(e))},setEncryptedMediaSupported:function(e){t=e}},t=!1,e}a.__dashjs_factory_name="Capabilities",t.default=i.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(218)),a=r(n(2));function o(){var e=void 0;return{initialize:getURIFragmentData:function(){return e}}}o.__dashjs_factory_name="URIFragmentModel",t.default=a.default.getSingletonFactory(o),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7)),a=r(n(9)),o=r(n(2));function s(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0;return{getValue:function(){return n},setValue:}s.__dashjs_factory_name="ManifestModel",t.default=o.default.getSingletonFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(99)),o=r(n(2)),s=n(12),u=r(n(6)),l=r(n(87)),c=n(27);function d(){var e,t,n,r=void 0,o=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,E=void 0,S=void 0,w=void 0,C=void 0,O=void 0,A=void 0,R=void 0,P=void 0,I=void 0,k=void 0,D=void 0,M=void 0,L=void 0,N=void 0,x=void 0,F=void 0,U=void 0,B=void 0,j=void 0,G=void 0,H=void 0,V=void 0,q=void 0,K={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"};unction Y(){return B?h||3:h}urn e={setABRStrategy:function(e){if(e!==u.default.ABR_STRATEGY_DYNAMIC&&e!==u.default.ABR_STRATEGY_BOLA&&e!==u.default.ABR_STRATEGY_THROUGHPUT)throw u.default.BAD_ARGUMENT_ERROR;I=e},getABRStrategy:function(){return I},setUseDefaultABRRules:function(e){(0,c.checkParameterType)(e,"boolean"),k=e},getUseDefaultABRRules:function(){return k},getABRCustomRules:function(){return L},addABRCustomRule:removeABRCustomRule:setBandwidthSafetyFactor:function(e){(0,c.checkParameterType)(e,"number"),C=e},getBandwidthSafetyFactor:function(){return C},setAbandonLoadTimeout:function(e){(0,c.checkParameterType)(e,"number"),O=e},getAbandonLoadTimeout:function(){return O},setLastBitrateCachingInfo:function(e,t){if("boolean"!=typeof e||void 0!==t&&("number"!=typeof t||isNaN(t)))throw u.default.BAD_ARGUMENT_ERROR;v.enabled=e,void 0!==t&&(v.ttl=t)},getLastBitrateCachingInfo:function(){return v},setLastMediaSettingsCachingInfo:function(e,t){if("boolean"!=typeof e||void 0!==t&&("number"!=typeof t||isNaN(t)))throw u.default.BAD_ARGUMENT_ERROR;_.enabled=e,void 0!==t&&(_.ttl=t)},getLastMediaSettingsCachingInfo:function(){return _},setStableBufferTime:function(e){(0,c.checkParameterType)(e,"number"),b=e},getStableBufferTime:function(){return Q()?.6*Y():isNaN(b)?M?20:12:b},setBufferTimeAtTopQuality:function(e){(0,c.checkParameterType)(e,"number"),T=e},getBufferTimeAtTopQuality:function(){return T},setBufferTimeAtTopQualityLongForm:function(e){(0,c.checkParameterType)(e,"number"),E=e},getBufferTimeAtTopQualityLongForm:function(){return E},setLongFormContentDurationThreshold:function(e){(0,c.checkParameterType)(e,"number"),S=e},getLongFormContentDurationThreshold:function(){return S},setSegmentOverlapToleranceTime:function(e){(0,c.checkParameterType)(e,"number"),w=e},getSegmentOverlapToleranceTime:function(){return w},getCacheLoadThresholdForType:function(e){return x[e]},setCacheLoadThresholdForType:function(e,t){(0,c.checkParameterType)(t,"number"),(0,c.checkIsVideoOrAudioType)(e),x[e]=t},setBufferToKeep:function(e){(0,c.checkParameterType)(e,"number"),g=e},getBufferToKeep:function(){return g},setBufferAheadToKeep:function(e){(0,c.checkParameterType)(e,"number"),m=e},getBufferAheadToKeep:function(){return m},setBufferPruningInterval:function(e){(0,c.checkParameterType)(e,"number"),y=e},getBufferPruningInterval:function(){return y},setRetryAttemptsForType:function(e,t){if("number"!=typeof t||"string"!=typeof e||e!==s.HTTPRequest.MPD_TYPE&&e!==s.HTTPRequest.MEDIA_SEGMENT_TYPE)throw u.default.BAD_ARGUMENT_ERROR;A[e]=t},getRetryAttemptsForType:function(e){return Q()?5*A[e]:A[e]},setRetryIntervalForType:function(e,t){(0,c.checkParameterType)(t,"number"),R[e]=t},getRetryIntervalForType:function(e){return Q()?R[e]/10:R[e]},setWallclockTimeUpdateInterval:function(e){(0,c.checkParameterType)(e,"number"),P=e},getWallclockTimeUpdateInterval:function(){return P},setScheduleWhilePaused:function(e){(0,c.checkParameterType)(e,"boolean"),p=e},getScheduleWhilePaused:function(){return p},getUseSuggestedPresentationDelay:function(){return o},setUseSuggestedPresentationDelay:function(e){(0,c.checkParameterType)(e,"boolean"),o=e},setLiveDelayFragmentCount:function(e){(0,c.checkParameterType)(e,"number"),f=e},getLiveDelayFragmentCount:function(){return f},getLiveDelay:Y,setLiveDelay:function(e){void 0!==e&&(0,c.checkParameterType)(e,"number"),h=e},setUseManifestDateHeaderTimeSource:function(e){(0,c.checkParameterType)(e,"boolean"),r=e},getUseManifestDateHeaderTimeSource:function(){return r},addUTCTimingSource:W,removeUTCTimingSource:X,getUTCTimingSources:function(){return d},clearDefaultUTCTimingSources:restoreDefaultUTCTimingSources:setXHRWithCredentialsForType:getXHRWithCredentialsForType:setFastSwitchEnabled:function(e){(0,c.checkParameterType)(e,"boolean"),M=e},getFastSwitchEnabled:function(){return M},setMovingAverageMethod:function(e){if(e!==u.default.MOVING_AVERAGE_SLIDING_WINDOW&&e!==u.default.MOVING_AVERAGE_EWMA)throw u.default.BAD_ARGUMENT_ERROR;N=e},getMovingAverageMethod:function(){return N},setJumpGaps:function(e){(0,c.checkParameterType)(e,"boolean"),F=e},getJumpGaps:function(){return F},setSmallGapLimit:function(e){(0,c.checkParameterType)(e,"number"),U=e},getSmallGapLimit:function(){return U},getLowLatencyEnabled:Q,setLowLatencyEnabled:function(e){(0,c.checkParameterType)(e,"boolean"),B=e},setCatchUpPlaybackRate:function(e){(0,c.checkParameterType)(e,"number"),(0,c.checkRange)(e,0,.5),q=e},getCatchUpPlaybackRate:function(){return q},setLowLatencyMinDrift:function(e){(0,c.checkParameterType)(e,"number"),H=e},getLowLatencyMinDrift:function(){return H},setLowLatencyMaxDriftBeforeSeeking:function(e){(0,c.checkParameterType)(e,"number"),V=e},getLowLatencyMaxDriftBeforeSeeking:function(){return V},setManifestUpdateRetryInterval:function(e){(0,c.checkParameterType)(e,"number"),j=e},getManifestUpdateRetryInterval:function(){return j},setKeepProtectionMediaKeys:function(e){(0,c.checkParameterType)(e,"boolean"),G=e},getKeepProtectionMediaKeys:function(){return G},getDefaultUtcTimingSource:function(){return K},reset:function(){}},d=[],o=!1,r=!0,p=!0,I=u.default.ABR_STRATEGY_DYNAMIC,k=!0,M=!1,v={enabled:!0,ttl:36e4},_={enabled:!0,ttl:36e4},f=4,h=void 0,g=20,m=80,y=10,b=NaN,T=30,E=60,S=600,w=.2,C=.9,O=1e4,P=50,F=!1,U=.8,j=100,D={default:!1},L=[],N=u.default.MOVING_AVERAGE_SLIDING_WINDOW,B=!1,H=.02,V=0,q=.5,i(t={},s.HTTPRequest.MPD_TYPE,3),i(t,s.HTTPRequest.XLINK_EXPANSION_TYPE,1),i(t,s.HTTPRequest.MEDIA_SEGMENT_TYPE,3),i(t,s.HTTPRequest.INIT_SEGMENT_TYPE,3),i(t,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),i(t,s.HTTPRequest.INDEX_SEGMENT_TYPE,3),i(t,s.HTTPRequest.OTHER_TYPE,3),A=t,i(n={},s.HTTPRequest.MPD_TYPE,500),i(n,s.HTTPRequest.XLINK_EXPANSION_TYPE,500),i(n,s.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),i(n,s.HTTPRequest.INIT_SEGMENT_TYPE,1e3),i(n,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),i(n,s.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),i(n,s.HTTPRequest.OTHER_TYPE,1e3),R=n,(x={})[u.default.VIDEO]=50,x[u.default.AUDIO]=5,G=!1,e}d.__dashjs_factory_name="MediaPlayerModel",t.default=o.default.getSingletonFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(26)),o=r(n(222)),s=n(12),u=r(n(223)),l=r(n(224)),c=r(n(225)),d=r(n(226)),f=r(n(227)),h=n(228),p=r(n(229)),g=r(n(7)),m=r(n(230)),y=r(n(9)),v=r(n(2));function _(){var e,t=this.context,n=(0,g.default)(t).getInstance(),r=void 0;nction b(e,t,r){n.trigger(y.default.METRIC_UPDATED,{mediaType:e,metric:t,value:r}),_(e)}nction S(e,t,n){var r=E(e);r[t].push(n),r[t].length>1e3&&r[t].shift()}eturn e={clearCurrentMetricsForType:clearAllCurrentMetrics:getReadOnlyMetricsFor:getMetricsFor:E,addHttpRequest:function e(t,n,r,i,o,u,l,c,d,f,h,p,g,m){var y=new s.HTTPRequest;o&&o!==i&&(e(t,null,r,i,null,null,l,c,null,null,null,p,null,null),y.actualurl=o),y.tcpid=n,y.type=r,y.url=i,y.range=l,y.trequest=c,y.tresponse=d,y.responsecode=h,y._tfinish=f,y._stream=t,y._mediaduration=p,y._responseHeaders=g,y._serviceLocation=u,m?m.forEach(():(delete y.interval,delete y.trace),w(t,a.default.HTTP_REQUEST,y)},addRepresentationSwitch:addBufferLevel:function(e,t,n){var r=new l.default;r.t=t,r.level=n,w(e,a.default.BUFFER_LEVEL,r)},addBufferState:addDVRInfo:addDroppedFrames:function(e,t){var n=new f.default,r=E(e).DroppedFrames;n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n||w(e,a.default.DROPPED_FRAMES,n)},addSchedulingInfo:addRequestsQueue:addManifestUpdate:updateManifestUpdateInfo:addManifestUpdateStreamInfo:function(e,t,n,r,i){if(e){var o=new h.ManifestUpdateStreamInfo;o.id=t,o.index=n,o.start=r,o.duration=i,e.streamInfo.push(o),b(e.mediaType,a.default.MANIFEST_UPDATE_STREAM_INFO,e)}},addManifestUpdateRepresentationInfo:function(e,t,n,r,i,o,s,u){if(e){var l=new h.ManifestUpdateRepresentationInfo;l.id=t,l.index=n,l.streamIndex=r,l.mediaType=i,l.startNumber=s,l.fragmentInfoType=u,l.presentationTimeOffset=o,e.representationInfo.push(l),b(e.mediaType,a.default.MANIFEST_UPDATE_TRACK_INFO,e)}},addPlayList:function(e){var t=i.default.STREAM;e.trace&&Array.isArray(e.trace)?e.trace.forEach(():delete e.trace,w(t,a.default.PLAY_LIST,e)},addDVBErrors:,r={},e}_.__dashjs_factory_name="MetricsModel",t.default=v.default.getSingletonFactory(_),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.level=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(21))&&r.__esModule?r:{default:r};t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ManifestUpdate=t.ManifestUpdateStreamInfo=t.ManifestUpdateRepresentationInfo=,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(7)),o=r(n(9)),s=r(n(8));function u(){var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0,u=this.context,l=(0,a.default)(u).getInstance(),c=[];ction p(e){var t=c.indexOf(e),r=void 0;null!==e&&(-1!==t&&c.splice(t,1),n&&!1===h()&&0===n.playbackRate&&(f(i||1),n.paused||((r=document.createEvent("Event")).initEvent("playing",!0,!1),n.dispatchEvent(r))))}unction m(){return n?n.buffered:null}return e={initialize:function(){l.on(o.default.PLAYBACK_PLAYING,g,this)},setCurrentTime:function(e,t){if(n){if(n.currentTime==e)return;try{e=t?e):e,n.currentTime=e}catch(t){0===n.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout((,400)}}},play:function(){if(n){n.autoplay=!0;var e=n.play();e&&e.catch&&"undefined"!=typeof Promise&&e.catch(()}},isPaused:function(){return n?n.paused:null},pause:isSeeking:function(){return n?n.seeking:null},getTime:function(){return n?n.currentTime:null},getPlaybackRate:function(){return n?n.playbackRate:null},setPlaybackRate:f,getPlayedRanges:function(){return n?n.played:null},getEnded:function(){return n?n.ended:null},setStallState:function(e,t){!function(e,t){t?function(e){var t=void 0;null===e||n.seeking||-1!==c.indexOf(e)||(c.push(e),n&&1===c.length&&((t=document.createEvent("Event")).initEvent("waiting",!0,!1),i=n.playbackRate,f(0),n.dispatchEvent(t)))}(e):p(e)}(e,t)},getElement:function(){return n},setElement:setSource:getSource:getTTMLRenderingDiv:function(){return r},setTTMLRenderingDiv:getPlaybackQuality:addEventListener:function(e,t){n&&n.addEventListener(e,t)},removeEventListener:getReadyState:function(){return n?n.readyState:NaN},getBufferRange:m,getClientWidth:function(){return n?n.clientWidth:NaN},getClientHeight:function(){return n?n.clientHeight:NaN},getTextTracks:getTextTrack:function(e,t,r,i,a){if(n)for(var o=0;o<n.textTracks.length;o++)if(n.textTracks[o].kind===e&&(!t||n.textTracks[o].label==t)&&n.textTracks[o].language===r&&n.textTracks[o].isTTML===i&&n.textTracks[o].isEmbedded===a)return n.textTracks[o];return null},addTextTrack:appendChild:removeChild:getVideoWidth:function(){return n?n.videoWidth:NaN},getVideoHeight:getVideoRelativeOffsetTop:function(){return n&&n.parentNode?n.getBoundingClientRect().top-n.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:reset:,t=(0,s.default)(u).getInstance().getLogger(e),e}u.__dashjs_factory_name="VideoModel",t.default=i.default.getSingletonFactory(u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(8)),o=r(n(6)),s=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}];function u(e){e=e||{};var t=this.context,n=e.mediaPlayerModel,r=void 0,i=void 0,u=void 0;function l(e){if(void 0!==u)return u;u=!1;var t=void 0;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return i.warn("DOMStorage access denied: "+e.message),u}if(!t||"localStorage"!==e&&"sessionStorage"!==e)return u;try{t.setItem("1","1"),t.removeItem("1"),u=!0}catch(e){i.warn("DOMStorage is supported, but cannot be used: "+e.message)}return u}urn r={getSavedBitrateSettings:function(e){var t=NaN;if(f(),d("localStorage","LastBitrate")){var r="dashjs_?_bitrate".replace(/\?/,e);try{var a=JSON.parse(localStorage.getItem(r))||{},o=(new Date).getTime()-parseInt(a.timestamp,10)>=n.getLastMediaSettingsCachingInfo().ttl||!1,s=parseFloat(a.bitrate);isNaN(s)||o?o&&localStorage.removeItem(r):(t=s,i.debug("Last saved bitrate for "+e+" was "+s))}catch(e){return null}}return t},setSavedBitrateSettings:function(e,t){if(d("localStorage","LastBitrate")&&t){var n="dashjs_?_bitrate".replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t.toFixed(3),timestamp:c()}))}catch(e){i.error(e.message)}}},getSavedMediaSettings:function(e){if(f(),!d("localStorage","LastMediaSettings"))return null;var t=null,r="dashjs_?_settings".replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(r))||{},a=(new Date).getTime()-parseInt(i.timestamp,10)>=n.getLastMediaSettingsCachingInfo().ttl||!1;t=i.settings,a&&(localStorage.removeItem(r),t=null)}catch(e){return null}return t},setSavedMediaSettings:function(e,t){if(d("localStorage","LastMediaSettings")){var n="dashjs_?_settings".replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:c()}))}catch(e){i.error(e.message)}}}},i=(0,a.default)(t).getInstance().getLogger(r),l("localStorage")&&s.forEach((),r}u.__dashjs_factory_name="DOMStorage";var l=i.default.getSingletonFactory(u);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(15)),o=r(n(234)),s=r(n(235)),u=r(n(236)),l=r(n(237)),c=r(n(101)),d=r(n(2)),f=r(n(85)),h=n(27);function p(){var e,t=void 0,n=void 0,r=void 0,d=void 0;tion v(e){var n,r=new s.default,i=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];return r.id=e.id,r.index=e.index,r.type=e.type,r.streamInfo=b(e.period),r.representationCount=t.getRepresentationCount(i),r.labels=t.getLabelsForAdaptation(i),r.lang=t.getLanguageForAdaptation(i),n=t.getViewpointForAdaptation(i),r.viewpoint=n?n.value:void 0,r.accessibility=t.getAccessibilityForAdaptation(i).map((),r.audioChannelConfiguration=t.getAudioChannelConfigurationForAdaptation(i).map((function(e){return e.value})),r.roles=t.getRolesForAdaptation(i).map((function(e){return e.value})),r.codec=t.getCodec(i),r.mimeType=t.getMimeType(i),r.contentProtection=t.getContentProtectionData(i),r.bitrateList=t.getBitrateListForAdaptation(i),r.contentProtection&&r.contentProtection.forEach((),r.isText=t.getIsTextTrack(r.mimeType),r}function _(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=i.default.EMBEDDED_TEXT,e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=n,e.roles=["caption"]}function b(e){var n,r,i=new u.default;return i.id=e.id,i.index=e.index,i.start=e.start,i.duration=e.duration,i.manifestInfo=(n=e.mpd,(r=new l.default).DVRWindowSize=n.timeShiftBufferDepth,r.loadedTime=n.manifest.loadedTime,r.availableFrom=n.availabilityStartTime,r.minBufferTime=n.manifest.minBufferTime,r.maxFragmentDuration=n.maxSegmentDuration,r.duration=t.getDuration(n.manifest),r.isDynamic=t.getIsDynamic(n.manifest),r),i.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(i.start+i.duration-i.manifestInfo.duration)<1,i}function T(e,n,r,i){var o,s=t.getAdaptationsForType(e,n,r);if(!s||0===s.length)return null;if(s.length>1&&i){var u=E(i,r);if(d[i.id]&&d[i.id][r])for(var l=0,c=s.length;l<c;l++)if(d[i.id][r].isMediaInfoEqual(u[l]))return s[l];for(l=0,c=s.length;l<c;l++)if(o=s[l],t.getRolesForAdaptation(o).filter(()[0])return s[l]}return s[0]}function E(e,a,o){var s,u=n,l=o,c=[],d=void 0,f=void 0,h=void 0,p=void 0,g=void 0;if(l){S();var y=t.getMpd(l);u=t.getRegularPeriods(y)}else{if(!(n.length>0))return c;l=n[0].mpd.manifest}var b=m(e,u),T=b.id,E=t.getAdaptationsForType(l,e.index,a!==i.default.EMBEDDED_TEXT?a:i.default.VIDEO);if(!E)return c;for(r[T]=r[T]||t.getAdaptationsForPeriod(b),p=0,s=E.length;p<s;p++)if(d=E[p],h=t.getIndexForAdaptation(d,l,e.index),f=v(r[T][h]),a===i.default.EMBEDDED_TEXT){var w=f.accessibility.length;for(g=0;g<w;g++)if(f){var C=f.accessibility[g];if(0===C.indexOf("cea-608:")){var O=C.substring(8).split(";");if("CC"===O[0].substring(0,2))for(g=0;g<O.length;g++)f||(f=v.call(this,r[T][h])),_(f,O[g].substring(0,3),O[g].substring(4)),c.push(f),f=null;else for(g=0;g<O.length;g++)f||(f=v.call(this,r[T][h])),_(f,"CC"+(g+1),O[g]),c.push(f),f=null}else 0===C.indexOf("cea-608")&&(_(f,i.default.CC1,"eng"),c.push(f),f=null)}}else a===i.default.IMAGE?(f.type=i.default.IMAGE,c.push(f),f=null):f&&c.push(f);return c}nction C(){n=[],r={},d={}}return e={convertDataToRepresentationInfo:y,getDataForMedia:g,getStreamsInfo:function(e,r){var i=[],a=n;if(e){S();var o=t.getMpd(e);a=t.getRegularPeriods(o)}r||(r=a.length);for(var s=0;s<r;s++)i.push(b(a[s]));return i},getMediaInfoForType:function(e,i){if(0===n.length)return null;var a=n[0].mpd.manifest,o=T(a,e.index,i,e);if(!o)return null;var s=m(e,n),u=s.id,l=t.getIndexForAdaptation(o,a,e.index);return r[u]=r[u]||t.getAdaptationsForPeriod(s),v(r[u][l])},getAllMediaInfoForType:E,getRepresentationInfo:function(e,t){!function(e){if(!e||!e.hasOwnProperty("getRepresentationForQuality")||!e.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}(e);var n=void 0;return void 0!==t?((0,h.checkInteger)(t),n=e.getRepresentationForQuality(t)):n=e.getCurrentRepresentation(),n?y(n):null},getAdaptationForType:T,updateData:function(e){w(e);var r,i=m(e.getStreamInfo(),n),a=e.getMediaInfo(),o=g(a),s=e.getType(),u=void 0;r=a?a.id:null,n.length>0&&(u=r?t.getAdaptationForId(r,n[0].mpd.manifest,i.index):t.getAdaptationForIndex(a.index,n[0].mpd.manifest,i.index),e.getRepresentationController().updateData(u,o,s))},getInitRequest:function(e,t){var n,r=void 0,i=void 0;return w(e),(0,h.checkInteger)(t),r=e.getRepresentationController(),i=e.getIndexHandler(),n=r?r.getRepresentationForQuality(t):null,i?i.getInitRequest(n):null},getFragmentRequest:function(e,t,n,r){var i,a=void 0,o=null;return w(e),i=p(t,e.getRepresentationController()),(a=e.getIndexHandler())&&(o=void 0!==n&&void 0!==r?a.getSegmentRequestForTime(i,n,r):a.getNextSegmentRequest(i)),o},getIndexHandlerTime:function(e){w(e);var t=e.getIndexHandler();return t?t.getCurrentTime():NaN},setIndexHandlerTime:function(e,t){w(e);var n=e.getIndexHandler();n&&n.setCurrentTime(t)},getEventsFor:function(e,r){var i=[];if(0===n.length)return i;var a=n[0].mpd.manifest;return e instanceof u.default?i=t.getEventsForPeriod(m(e,n)):e instanceof s.default?i=t.getEventStreamForAdaptationSet(a,g(e)):e instanceof o.default&&(i=t.getEventStreamForRepresentation(a,p(e,r.getRepresentationController()))),i},getEvent:function(e,t,n){if(!e||!t)return null;var r=new c.default,i=e.scheme_id_uri,a=e.value,o=e.timescale,s=e.presentation_time_delta,u=e.event_duration,l=e.id,d=e.message_data,f=n*o+s;return t[i+"/"+a]?(r.eventStream=t[i+"/"+a],r.eventStream.value=a,r.eventStream.timescale=o,r.duration=u,r.id=l,r.presentationTime=f,r.messageData=d,r.presentationTimeDelta=s,r):null},setConfig:updatePeriods:function(e){if(!e)return null;S();var i=t.getMpd(e);n=t.getRegularPeriods(i),r={}},reset:C,resetIndexHandler:function(e){w(e);var t=e.getIndexHandler();t&&t.resetIndex()},setCurrentMediaInfo:,C(),e}p.__dashjs_factory_name="DashAdapter",t.default=d.default.getSingletonFactory(p),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null}return r(e,[{key:"isMediaInfoEqual",value:function(e){if(!e)return!1;var t=this.id===e.id,n=this.viewpoint===e.viewpoint,r=this.lang===e.lang,i=this.roles.toString()===e.roles.toString(),a=this.accessibility.toString()===e.accessibility.toString(),o=this.audioChannelConfiguration.toString()===e.audioChannelConfiguration.toString();return t&&n&&r&&i&&a&&o}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),a=r(n(15)),o=r(n(64)),s=r(n(239)),u=r(n(240)),l=r(n(241)),c=r(n(99)),d=r(n(101)),f=r(n(95)),h=r(n(242)),p=r(n(94)),g=r(n(20)),m=r(n(2)),y=r(n(8)),v=r(n(10)),_=r(n(11)),b=n(91);function T(e){e=e||{};var t=void 0,n=void 0,r=this.context,m=(0,g.default)(r).getInstance(),T=e.timelineConverter,E=e.errHandler,S=e.BASE64,w=Number.isInteger||function C(e,t){var n=void 0,r=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=!1,d=!1;if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.hasOwnProperty("ContentComponent_asArray")&&(s=e.ContentComponent_asArray),u=t!==i.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),e.Representation_asArray&&e.Representation_asArray.length&&e.Representation_asArray.length>0){var f=N(e.Representation_asArray[0]);if(f&&f.length>0&&b.THUMBNAILS_SCHEME_ID_URIS.indexOf(f[0].schemeIdUri)>=0)return t===i.default.IMAGE;if(e.Representation_asArray[0].hasOwnProperty(a.default.CODECS)&&(0===(l=e.Representation_asArray[0].codecs).search(i.default.STPP)||0===l.search(i.default.WVTT)))return t===i.default.FRAGMENTED_TEXT}if(s){if(s.length>1)return t===i.default.MUXED;s[0]&&s[0].contentType===t&&(c=!0,d=!0)}if(e.hasOwnProperty(a.default.MIME_TYPE)&&(c=u.test(e.mimeType),d=!0),!d)for(n=0,r=e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0;!d&&n<r;)(o=e.Representation_asArray[n]).hasOwnProperty(a.default.MIME_TYPE)&&(c=u.test(o.mimeType),d=!0),n++;return c}function O(e){return C(e,i.default.AUDIO)}function A(e){return C(e,i.default.VIDEO)}function R(e){return C(e,i.default.FRAGMENTED_TEXT)}ction D(e){return e&&void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort((),e}={getIsTypeOf:C,getIsTextTrack:I,getLanguageForAdaptation:getViewpointForAdaptation:getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.ROLE_ASARRAY)?e.Role_asArray:[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:getAdaptationForIndex:getIndexForAdaptation:function(e,t,n){var i=M(t,n),a=i.length;if(e)for(var o=0;o<a;o++)if((0,p.default)(r).getInstance().areEqual(i[o],e))return o;return-1},getAdaptationForId:function(e,t,n){var r,i=M(t,n),o=void 0;for(o=0,r=i.length;o<r;o++)if(i[o].hasOwnProperty(a.default.ID)&&i[o].id===e)return i[o];return null},getAdaptationsForType:function(e,t,n){var r,i=M(e,t),a=void 0,o=[];for(a=0,r=i.length;a<r;a++)C(i[a],n)&&o.push(D(i[a]));return o},getCodec:function(e,t,n){var r=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=w(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(r=i.mimeType+';codecs="'+i.codecs+'"',n&&void 0!==i.width&&(r+=';width="'+i.width+'";height="'+i.height+'"'))}return r},getMimeType:getKID:getLabelsForAdaptation:function(e){if(!e.Label_asArray||!e.Label_asArray.length)return[];for(var t=[],n=0;n<e.Label_asArray.length;n++)t.push({lang:e.Label_asArray[n].lang,text:e.Label_asArray[n].__text||e.Label_asArray[n]});return t},getContentProtectionData:getIsDynamic:L,getIsDVB:function(e){return e,"urn:dvb:dash:profile:dvb-dash:2014")},getDuration:function(e){return e&&e.hasOwnProperty(a.default.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:getManifestUpdatePeriod:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=NaN;return e&&e.hasOwnProperty(a.default.MINIMUM_UPDATE_PERIOD)&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)},getRepresentationCount:getBitrateListForAdaptation:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?D(e).Representation_asArray.map(():null},getRepresentationFor:getRepresentationsForAdaptation:function(e){var t=[],n=x(e),r=void 0,i=void 0;if(e&&e.period&&w(e.period.index)){var s=j(e.period.mpd.manifest);s&&(i=s[0])}if(n&&n.Representation_asArray)for(var u=0,l=n.Representation_asArray.length;u<l;++u){var c=n.Representation_asArray[u],d=new o.default;if(d.index=u,d.adaptation=e,c.hasOwnProperty(a.default.ID)&&(d.id=c.id),c.hasOwnProperty(a.default.CODECS)&&(d.codecs=c.codecs),c.hasOwnProperty(a.default.CODEC_PRIVATE_DATA)&&(d.codecPrivateData=c.codecPrivateData),c.hasOwnProperty(a.default.BANDWITH)&&(d.bandwidth=c.bandwidth),c.hasOwnProperty(a.default.WIDTH)&&(d.width=c.width),c.hasOwnProperty(a.default.HEIGHT)&&(d.height=c.height),c.hasOwnProperty(a.default.SCAN_TYPE)&&(d.scanType=c.scanType),c.hasOwnProperty(a.default.MAX_PLAYOUT_RATE)&&(d.maxPlayoutRate=c.maxPlayoutRate),c.hasOwnProperty(a.default.SEGMENT_BASE)?(r=c.SegmentBase,d.segmentInfoType=a.default.SEGMENT_BASE):c.hasOwnProperty(a.default.SEGMENT_LIST)?(r=c.SegmentList).hasOwnProperty(a.default.SEGMENT_TIMELINE)?(d.segmentInfoType=a.default.SEGMENT_TIMELINE,d.useCalculatedLiveEdgeTime=F(r.SegmentTimeline)):(d.segmentInfoType=a.default.SEGMENT_LIST,d.useCalculatedLiveEdgeTime=!0):c.hasOwnProperty(a.default.SEGMENT_TEMPLATE)?((r=c.SegmentTemplate).hasOwnProperty(a.default.SEGMENT_TIMELINE)?(d.segmentInfoType=a.default.SEGMENT_TIMELINE,d.useCalculatedLiveEdgeTime=F(r.SegmentTimeline)):d.segmentInfoType=a.default.SEGMENT_TEMPLATE,r.hasOwnProperty(a.default.INITIALIZATION_MINUS)&&(d.initialization=r.initialization.split("$Bandwidth$").join(c.bandwidth).split("$RepresentationID$").join(c.id))):d.segmentInfoType=a.default.BASE_URL,d.essentialProperties=N(c),r){if(r.hasOwnProperty(a.default.INITIALIZATION)){var f=r.Initialization;f.hasOwnProperty(a.default.SOURCE_URL)?d.initialization=f.sourceURL:f.hasOwnProperty(a.default.RANGE)&&(d.range=f.range)}else c.hasOwnProperty(a.default.MIME_TYPE)&&I(c.mimeType)&&(d.range=0);r.hasOwnProperty(a.default.TIMESCALE)&&(d.timescale=r.timescale),r.hasOwnProperty(a.default.DURATION)&&(d.segmentDuration=r.duration/d.timescale),r.hasOwnProperty(a.default.MEDIA)&&(d.media=r.media),r.hasOwnProperty(a.default.START_NUMBER)&&(d.startNumber=r.startNumber),r.hasOwnProperty(a.default.INDEX_RANGE)&&(d.indexRange=r.indexRange),r.hasOwnProperty(a.default.PRESENTATION_TIME_OFFSET)&&(d.presentationTimeOffset=r.presentationTimeOffset/d.timescale),r.hasOwnProperty(a.default.AVAILABILITY_TIME_OFFSET)?d.availabilityTimeOffset=r.availabilityTimeOffset:i&&void 0!==i.availabilityTimeOffset&&(d.availabilityTimeOffset=i.availabilityTimeOffset),r.hasOwnProperty(a.default.AVAILABILITY_TIME_COMPLETE)?d.availabilityTimeComplete="false"!==r.availabilityTimeComplete:i&&void 0!==i.availabilityTimeComplete&&(d.availabilityTimeComplete=i.availabilityTimeComplete)}d.MSETimeOffset=T.calcMSETimeOffset(d),d.path=[e.period.index,e.index,u],t.push(d)}return t},getAdaptationsForPeriod:function(e){var t=e&&w(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,n=[],r=void 0,o=void 0,u=void 0;if(t&&t.AdaptationSet_asArray)for(u=0;u<t.AdaptationSet_asArray.length;u++)o=t.AdaptationSet_asArray[u],r=new s.default,o.hasOwnProperty(a.default.ID)&&(r.id=o.id),r.index=u,r.period=e,C(o,i.default.MUXED)?r.type=i.default.MUXED:O(o)?r.type=i.default.AUDIO:A(o)?r.type=i.default.VIDEO:R(o)?r.type=i.default.FRAGMENTED_TEXT:P(o)?r.type=i.default.IMAGE:r.type=i.default.TEXT,n.push(r);return n},getRegularPeriods:function(e){var t,r=!!e&&L(e.manifest),i=[],o=null,s=null,l=null,c=null,d=void 0;for(d=0,t=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;d<t;d++)(s=e.manifest.Period_asArray[d]).hasOwnProperty(a.default.START)?(c=new u.default).start=s.start:null!==o&&o.hasOwnProperty(a.default.DURATION)&&null!==l?(c=new u.default).start=parseFloat((l.start+l.duration).toFixed(5)):0!==d||r||((c=new u.default).start=0),null!==l&&isNaN(l.duration)&&(null!==c?l.duration=parseFloat((c.start-l.start).toFixed(5)):n.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==c&&(c.id=U(s,d),c.index=d,c.mpd=e,s.hasOwnProperty(a.default.DURATION)&&(c.duration=s.duration),i.push(c),o=s,l=c),s=null,c=null;return 0===i.length||null!==l&&isNaN(l.duration)&&(l.duration=parseFloat((function(e){var t=L(e.mpd.manifest),n=void 0;return e.mpd.manifest.mediaPresentationDuration?n=e.mpd.manifest.mediaPresentationDuration:e.duration?n=e.duration:t?n=Number.POSITIVE_INFINITY:E.error(new v.default(_.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e)),n}(l)-l.start).toFixed(5))),i},getMpd:function(e){var t=new l.default;return e&&(t.manifest=e,e.hasOwnProperty(a.default.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty(a.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(a.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(a.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(i.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(a.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(a.default.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration)),t},getEventsForPeriod:function(e){var t=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,n=t?t.Period_asArray:null,r=n&&e&&w(e.index)?n[e.index].EventStream_asArray:null,o=[],s=void 0,u=void 0;if(r)for(s=0;s<r.length;s++){var l=new h.default;if(l.period=e,l.timescale=1,!r[s].hasOwnProperty(i.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(l.schemeIdUri=r[s].schemeIdUri,r[s].hasOwnProperty(a.default.TIMESCALE)&&(l.timescale=r[s].timescale),r[s].hasOwnProperty(a.default.VALUE)&&(l.value=r[s].value),u=0;r[s].Event_asArray&&u<r[s].Event_asArray.length;u++){var c=new d.default;c.presentationTime=0,c.eventStream=l,r[s].Event_asArray[u].hasOwnProperty(a.default.PRESENTATION_TIME)&&(c.presentationTime=r[s].Event_asArray[u].presentationTime),r[s].Event_asArray[u].hasOwnProperty(a.default.DURATION)&&(c.duration=r[s].Event_asArray[u].duration),r[s].Event_asArray[u].hasOwnProperty(a.default.ID)&&(c.id=r[s].Event_asArray[u].id),r[s].Event_asArray[u].Signal&&r[s].Event_asArray[u].Signal.Binary?c.messageData=S.decodeArray(r[s].Event_asArray[u].Signal.Binary):c.messageData=r[s].Event_asArray[u].messageData||r[s].Event_asArray[u].__text,o.push(c)}}return o},getEventStreamForAdaptationSet:getEventStreamForRepresentation:getUTCTimingSources:getBaseURLsFromElement:j,getRepresentationSortFunction:k,getLocation:getUseCalculatedLiveEdgeTimeForAdaptation:function(e){var t=x(e).Representation_asArray[0],n=void 0;return t.hasOwnProperty(a.default.SEGMENT_LIST)?!(n=t.SegmentList).hasOwnProperty(a.default.SEGMENT_TIMELINE)||F(n.SegmentTimeline):!(!t.hasOwnProperty(a.default.SEGMENT_TEMPLATE)||!(n=t.SegmentTemplate).hasOwnProperty(a.default.SEGMENT_TIMELINE))&&F(n.SegmentTimeline)}},n=(0,y.default)(r).getInstance().getLogger(t),t}T.__dashjs_factory_name="DashManifestModel",t.default=m.default.getSingletonFactory(T),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};r.DEFAULT_ID="defaultId",t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=r(n(2)),o=r(n(26)),s=r(n(244));function u(e){var t=(e=e||{}).dashManifestModel,n=e.manifestModel;function r(e){var t=n.getValue();return t?t.Period_asArray[e]:-1}function a(e){return c(e,o.default.BUFFER_LEVEL)}function u(e){if(!e)return null;var t=e.HttpList,n=null,r=void 0;if(!t||t.length<=0)return null;for(r=t.length-1;r>=0;){if(t[r].responsecode){n=t[r];break}r--}return n}unction c(e,t){if(!e)return null;var n=e[t];return!n||n.length<=0?null:n[n.length-1]}urn{getBandwidthForRepresentation:function(e,t){var n;return null===(n=f(r(t),e))?null:n.bandwidth},getIndexForRepresentation:getMaxIndexForBufferType:function(e,t){return function(e,t){var n,r=void 0,i=void 0,a=void 0;if(!e||!t)return-1;for(n=e.AdaptationSet_asArray,a=0;a<n.length;a+=1)if(i=(r=n[a]).Representation_asArray,h(r,t))return i.length;return-1}(r(t),e)},getCurrentRepresentationSwitch:function(e){return c(e,o.default.TRACK_SWITCH)},getLatestBufferLevelVO:a,getCurrentBufferLevel:function(e){var t=a(e);return t?s.default.round10(t.level/1e3,-3):0},getCurrentHttpRequest:u,getHttpRequests:l,getCurrentDroppedFrames:function(e){return c(e,o.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return c(e,o.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return c(e,o.default.DVR_INFO)},getCurrentManifestUpdate:getLatestFragmentRequestHeaderValueByID:getLatestMPDRequestHeaderValueByID:function(e,t){var n,r={},a=void 0,o=void 0;for(o=(n=l(e)).length-1;o>=0;o--)if((a=n[o]).type===i.HTTPRequest.MPD_TYPE){r=d(a._responseHeaders);break}return void 0===r[t]?null:r[t]},getRequestsQueue:}u.__dashjs_factory_name="DashMetrics",t.default=a.default.getSingletonFactory(u),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"round10",value:]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7)),a=r(n(9)),o=r(n(2));function s(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0,r=void 0,o=void 0;function s(e){n=e}rn{initialize:isTimeSyncCompleted:function(){return r},setTimeSyncCompleted:function(e){r=e},getClientTimeOffset:function(){return n},setClientTimeOffset:s,getExpectedLiveEdge:function(){return o},setExpectedLiveEdge:function(e){o=e},calcAvailabilityStartTimeFromPresentationTime:calcAvailabilityEndTimeFromPresentationTime:calcPresentationTimeFromWallTime:l,calcPresentationTimeFromMediaTime:calcPeriodRelativeTimeFromMpdRelativeTime:calcMediaTimeFromPresentationTime:calcSegmentAvailabilityRange:function(e,t){var n=e.adaptation.period,i={start:n.start,end:n.start+n.duration};if(!t)return i;if(!r&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var a=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),o=l(new Date,n),s=n.start+n.duration;i.start=Math.max(o-n.mpd.timeShiftBufferDepth,n.start);var u=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<a?a-e.availabilityTimeOffset:a;return i.end=o>=s&&o-u<s?s:o-u,i},calcWallTimeForSegment:calcMSETimeOffset:function(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t},reset:function(){t.off(a.default.TIME_SYNCHRONIZATION_COMPLETED,c,this),d()}}}s.__dashjs_factory_name="TimelineConverter",t.default=o.default.getSingletonFactory(s),e.exports=t.default},function(e,t,n){"use strict";var r,i,o,u,l,c={encode:decode:,d={};r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=o=),u=l={encode:decode:,d.decodeArray=d.encodeASCII=function(e){var t=l.encode(e);return i(t)},d.decodeASCII=function(e){var t=u(e);return l.decode(t)},d.encode=d.decode=t.decode=d.decode,t.decodeArray=d.decodeArray,t.encode=d.encode,t.encodeASCII=d.encodeASCII},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(248)),a=r(n(48)),o=r(n(250)),s=r(n(103)),u=r(n(102));function l(){var e=this.context;return{createMetricsReporting:function(t){return(0,i.default)(e).getInstance({eventBus:t.eventBus,metricsModel:t.metricsModel,metricsConstants:t.metricsConstants,events:t.events}),(0,o.default)(e).create(t)},getReportingFactory:function(){return(0,u.default)(e).getInstance()},getMetricsHandlerFactory:}l.__dashjs_factory_name="MetricsReporting";var c=dashjs.FactoryMaker.getClassFactory(l);c.events=a.default,dashjs.FactoryMaker.updateClassFactory(l.__dashjs_factory_name,c),t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(249)),a=r(n(48));function o(e){var t=void 0,n=void 0,r=(e=e||{}).eventBus,o=e.metricsModel,s=e.metricsConstants,u=e.events;tion h(e){var t;e.metric===s.HTTP_REQUEST&&(0===(t=e.value).responsecode||t.responsecode>=400||t.responsecode<100||t.responsecode>=600)&&l({errorcode:t.responsecode||i.default.CONNECTION_ERROR,url:t.url,terror:t.tresponse,servicelocation:t._serviceLocation})}function p(e){var t=void 0;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=i.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=i.default.CORRUPT_MEDIA_OTHER;break;default:return}l({errorcode:t})}eturn t={initialise:g,reset:,g(),t}o.__dashjs_factory_name="DVBErrorsTranslator",t.default=dashjs.FactoryMaker.getSingletonFactory(o),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};r.SSL_CONNECTION_FAILED_PREFIX="SSL",r.DNS_RESOLUTION_FAILED="C00",r.HOST_UNREACHABLE="C01",r.CONNECTION_REFUSED="C02",r.CONNECTION_ERROR="C03",r.CORRUPT_MEDIA_ISOBMFF="M00",r.CORRUPT_MEDIA_OTHER="M01",r.BASE_URL_CHANGED="F00",r.BECAME_REPORTER="S00",t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(251)),a=r(n(262)),o=r(n(48));function s(e){e=e||{};var t={},n=this.context,r=e.eventBus,s=e.events;turn r.on(s.MANIFEST_UPDATED,u),r.on(s.STREAM_TEARDOWN_COMPLETE,l),{reset:}s.__dashjs_factory_name="MetricsCollectionController",t.default=dashjs.FactoryMaker.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(252)),a=r(n(253)),o=r(n(257));function s(e){e=e||{};var t=void 0,n=void 0,r=void 0,s=this.context;eturn{initialize:function(l){try{(r=(0,i.default)(s).create({mediaElement:e.mediaElement})).initialize(l.Range),(n=(0,a.default)(s).create({debug:e.debug,metricsConstants:e.metricsConstants})).initialize(l.Reporting,r),(t=(0,o.default)(s).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events})).initialize(l.metrics,n)}catch(e){throw u(),e}},reset:u}}s.__dashjs_factory_name="MetricsController",t.default=dashjs.FactoryMaker.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(79))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t,n=!1,r=this.context,a=void 0,o=e.mediaElement;return t={initialize:reset:function(){a.clear()},isEnabled:,a=(0,i.default)(r).create(),t}a.__dashjs_factory_name="RangeController",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(102))&&r.__esModule?r:{default:r};function a(e){var t=[],n=(0,i.default)(this.context).getInstance(e);return{initialize:reset:report:}a.__dashjs_factory_name="ReportingController",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(255)),a=r(n(256));function o(e){e=e||{};var t,n=this.context,r=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=[],f=e.metricsConstants;eturn t={report:function(e,t){Array.isArray(t)||(t=[t]),u&&c.isEnabled()&&t.forEach((function(t){var n=r.serialise(t);e!==f.DVB_ERRORS&&(n="metricname="+e+"&"+n),n=l+"?"+n,null,(function(){u=!1}))}))},initialize:function(e,t){var n=void 0;if(c=t,!(l=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");s||((n=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===n||n/1e3>=o.random())&&(u=!0),s=!0)},reset:function(){h()}},r=(0,i.default)(n).getInstance(),o=(0,a.default)(n).getInstance(),h(),t}o.__dashjs_factory_name="DVBReporting",t.default=dashjs.FactoryMaker.getClassFactory(o),e.exports=t.default},function(e,t,n){"use strict";function r(){return{serialise:function e(t){var n=[],r=[],i=void 0,a=void 0;for(i in t)if(t.hasOwnProperty(i)&&0!==i.indexOf("_")){if(null==(a=t[i])&&(a=""),Array.isArray(a)){if(!a.length)continue;r=[],a.forEach((),a=r.map(encodeURIComponent).join(",")}else"string"==typeof a?a=encodeURIComponent(a):a instanceof Date?a=a.toISOString():"number"==typeof a&&(a=Math.round(a));n.push(i+"="+a)}return n.join("&")}}}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="MetricSerialiser",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(){var e,t=window.crypto||window.msCrypto,n=Uint32Array,r=Math.pow(2,8*n.BYTES_PER_ELEMENT)-1,i=void 0,a=void 0;eturn e={random:function(e,n){var s=void 0;return e||(e=0),n||(n=1),t?(a===i.length&&o(),s=i[a]/r,a+=1):s=Math.random(),s*(n-e)+e}},o(),e}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="RNG",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(103))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=[],n=void 0,r=this.context,a=e.eventBus,o=e.events,s=(0,i.default)(r).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});eturn n={initialize:reset:}a.__dashjs_factory_name="MetricsHandlersController",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(104))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,s=this.context,u=(0,i.default)(s).getInstance(),l=[],c=e.metricsConstants;eturn{initialize:reset:handleNewMetric:}a.__dashjs_factory_name="BufferLevelHandler",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(48))&&r.__esModule?r:{default:r};t.default=dashjs.FactoryMaker.getClassFactory((function(e){var t=void 0,n=(e=e||{}).eventBus,r=e.metricsConstants;eturn{initialize:reset:handleNewMetric:})),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(104))&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,s=[],u=(0,i.default)(this.context).getInstance(),l=e.metricsConstants;eturn{initialize:reset:handleNewMetric:}a.__dashjs_factory_name="HttpListHandler",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(){var e=void 0,t=void 0;return{initialize:reset:handleNewMetric:}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="GenericMetricHandler",t.default=dashjs.FactoryMaker.getClassFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(263)),a=r(n(264)),o=r(n(265));function s(e){var t=(e=e||{}).dashManifestModel,n=e.constants;return{getMetrics:function(e){var r=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach((function(s){var u=new i.default,l=t.getIsDynamic(e);s.hasOwnProperty("metrics")&&(u.metrics=s.metrics,s.Range_asArray&&s.Range_asArray.forEach((function(r){var i=new a.default;i.starttime=function(e,r,i){var a,o,s=t.getMpd(e),u=0;return r?u=s.availabilityStartTime.getTime()/1e3:(a=this.getRegularPeriods(s)).length&&(u=a[0].start),o=u,i&&i.hasOwnProperty(n.START_TIME)&&(o+=i.starttime),o}(e,l,r),r.hasOwnProperty("duration")?i.duration=r.duration:i.duration=t.getDuration(e),i._useWallClockTime=l,u.Range.push(i)})),s.Reporting_asArray&&(s.Reporting_asArray.forEach((function(e){var t=new o.default;if(e.hasOwnProperty(n.SCHEME_ID_URI)){for(var r in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(r)&&(t[r]=e[r]);u.Reporting.push(t)}})),r.push(u)))})),r}}}s.__dashjs_factory_name="ManifestParsing",t.default=dashjs.FactoryMaker.getSingletonFactory(s),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(267)),a=r(n(49)),o=r(n(277)),s=r(n(36)),u=r(n(278)),l=r(n(279)),c=r(n(280)),d=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],f=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function h(){var e=void 0,t=this.context;eturn e={createProtectionSystem:function(r){var o=null,s=(0,a.default)(t).getInstance();s.setConfig({debug:r.debug,BASE64:r.BASE64}),s.initialize();var h=function(r){var i=r.debug,a=i.getLogger(e),o=r.eventBus,s=r.errHandler,h=r.videoModel?r.videoModel.getElement():null;return h&&void 0===h.onencrypted||h&&void 0===h.mediaKeys?n(h,f)?(a.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,l.default)(t).create({debug:i,eventBus:o,events:r.events,api:n(h,f)})):n(h,d)?(a.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,c.default)(t).create({debug:i,eventBus:o,errHandler:s,events:r.events,api:n(h,d)})):(a.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(a.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,u.default)(t).create({debug:i,eventBus:o,events:r.events}))}(r);return!o&&h&&(o=(0,i.default)(t).create({protectionModel:h,protectionKeyController:s,eventBus:r.eventBus,debug:r.debug,events:r.events,BASE64:r.BASE64,constants:r.constants}),r.capabilities.setEncryptedMediaSupported(!0)),o}}}h.__dashjs_factory_name="Protection";var p=dashjs.FactoryMaker.getClassFactory(h);p.events=o.default,p.errors=s.default,dashjs.FactoryMaker.updateClassFactory(h.__dashjs_factory_name,p),t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(29)),a=r(n(268)),o=r(n(66)),s=r(n(36)),u=r(n(10));function l(e){var t=(e=e||{}).protectionKeyController,n=e.protectionModel,r=e.eventBus,l=e.events,c=e.debug,d=e.BASE64,f=e.constants,h=[],p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0;function E(e,a){var o=i.default.getPSSHForKeySystem(T,e),c=C(T);if(o){for(var d=n.getAllInitData(),f=0;f<d.length;f++)if(t.initDataEquals(o,d[f]))return void g.warn("DRM: Ignoring initData because we have already seen it!");try{n.createKeySession(o,c,A(T),a)}catch(e){r.trigger(l.KEY_SESSION_CREATED,{data:null,error:new u.default(s.default.KEY_SESSION_CREATED_ERROR_CODE,s.default.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e?n.createKeySession(e,c,A(T),a):r.trigger(l.KEY_SESSION_CREATED,{data:null,error:new u.default(s.default.KEY_SESSION_CREATED_ERROR_CODE,s.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+T.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!")})}ction O(e){var t=C(e),n=[],r=[],i=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:b,s=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:b,u=A(e),l=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",c=t&&t.persistentState?t.persistentState:"temporary"===u?"optional":"required";return y.forEach((),new o.default(n,r,l,c,[u])}unction R(e,i){var a=this,o=[],c=void 0;if(T)for(c=0;c<e.length&&(T!==e[c].ks||"break"!==(o.push({ks:e[c].ks,configs:[O(T)]}),r.on(l.KEY_SYSTEM_ACCESS_COMPLETE,(,a),n.requestKeySystemAccess(o),"break"));c++);else if(void 0===T){var f;!function(){T=null,m.push(e);for(var h=0;h<e.length;h++)o.push({ks:e[h].ks,configs:[O(e[h].ks)]});var p=void 0,y=f=function e(o){if(r.off(l.INTERNAL_KEY_SYSTEM_SELECTED,e,a),r.off(l.KEY_SYSTEM_ACCESS_COMPLETE,y,a),o.error)T=void 0,i||r.trigger(l.KEY_SYSTEM_SELECTED,{data:null,error:new u.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+o.error)});else{if(!n)return;T=n.getKeySystem(),r.trigger(l.KEY_SYSTEM_SELECTED,{data:p});var f=C(T);f&&f.serverCertificate&&f.serverCertificate.length>0&&n.setServerCertificate(d.decodeArray(f.serverCertificate).buffer);for(var h=0;h<m.length;h++)for(c=0;c<m[h].length;c++)if(T===m[h][c].ks){if(t.isClearKey(T)&&f&&f.hasOwnProperty("clearkeys")){var g={kids:Object.keys(f.clearkeys)};m[h][c].initData=(new TextEncoder).encode(JSON.stringify(g))}m[h][c].sessionId?S(m[h][c].sessionId,m[h][c].initData):null!==m[h][c].initData&&E(m[h][c].initData,m[h][c].cdmData);break}}},r.on(l.INTERNAL_KEY_SYSTEM_SELECTED,f,a),r.on(l.KEY_SYSTEM_ACCESS_COMPLETE,y,a),n.requestKeySystemAccess(o)}()}else m.push(e)}nction k(e){g.debug("DRM: onKeyMessage");var a=e.data;r.trigger(l.KEY_MESSAGE,{data:a});var o=a.messageType?a.messageType:"license-request",c=a.message,d=a.sessionToken,f=C(T),h=T?T.systemString:null,p=t.getLicenseServer(T,f,o),m={sessionToken:d,messageType:o};if(c&&0!==c.byteLength){if(!p)return g.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+d.getSessionID()),void P(m);if(t.isClearKey(T)){var y=t.processClearKeyLicenseRequest(T,f,c);if(y)return g.debug("DRM: ClearKey license request handled by application!"),P(m),void n.updateKeySession(d,y)}var v=null;if(f&&f.serverURL){var _=f.serverURL;"string"==typeof _&&""!==_?v=_:"object"==typeof _&&_.hasOwnProperty(o)&&(v=_[o])}else f&&f.laURL&&""!==f.laURL?v=f.laURL:(v=T.getLicenseServerURLFromInitData(i.default.getPSSHData(d.initData)))||(v=e.data.laURL);if(v=p.getServerURLFromMessage(v,c,o)){var b={},E=!1,S=f&&S(f.httpRequestHeaders),S(T.getRequestHeadersFromMessage(c)),f&&"boolean"==typeof f.withCredentials&&(E=f.withCredentials);var w=O=T.getLicenseRequestFromMessage(c),A=p.getHTTPMethod(o),R=p.getResponseType(h,o),I=f&&!isNaN(f.httpTimeout)?f.httpTimeout:8e3;!function e(t,n,r,i,a,o,s,u,l,c,d){var f=new XMLHttpRequest;for(var h in f.open(r,t,!0),f.responseType=i,f.withCredentials=a,u>0&&(f.timeout=u),n)f.setRequestHeader(h,n[h]);var p=function(){s--,setTimeout((,1e3)};f.onload=f.ontimeout=f.onerror=f.onabort=function(){c(this)},f.send(o)}(v,b,A,R,E,O,3,I,(,(function(e){P(m,new u.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+h+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))}),()}else P(m,new u.default(s.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}else P(m,new u.default(s.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function D(e,r){if(g.debug("DRM: onNeedKey"),"cenc"===e.key.initDataType)if(0===y.length&&(g.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(r=void 0===r?1:r+1)<5))h.push(setTimeout((,500));else{var a=e.key.initData;if(ArrayBuffer.isView(a)&&(a=a.buffer),T){var o=i.default.getPSSHForKeySystem(T,a);if(o)for(var s=n.getAllInitData(),u=0;u<s.length;u++)if(t.initDataEquals(o,s[u]))return void g.warn("DRM: Ignoring initData because we have already seen it!")}g.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(a)));var l=t.getSupportedKeySystems(a,v);0!==l.length?R(l,!1):g.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else g.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}return p={initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");!function(){if(!(r&&r.hasOwnProperty("on")&&t&&t.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}(),r.on(l.INTERNAL_KEY_MESSAGE,k,this),r.on(l.INTERNAL_KEY_STATUS_CHANGED,I,this),y.push(e);var n=t.getSupportedKeySystemsFromContentProtection(e.contentProtection);n&&n.length>0&&R(n,!0)},createKeySession:E,loadKeySession:S,removeKeySession:function(e){n.removeKeySession(e)},closeKeySession:function(e){n.closeKeySession(e)},setServerCertificate:function(e){n.setServerCertificate(e)},setMediaElement:w,setSessionType:function(e){_=e},setRobustnessLevel:function(e){b=e},setProtectionData:getSupportedKeySystemsFromContentProtection:function(e){return t.getSupportedKeySystemsFromContentProtection(e)},getKeySystems:stop:function(){n&&n.stop()},reset:function(){r.off(l.INTERNAL_KEY_MESSAGE,k,this),r.off(l.INTERNAL_KEY_STATUS_CHANGED,I,this),w(null),T=void 0,n&&(n.reset(),n=null),h.forEach((function(e){return clearTimeout(e)})),h=[],y=[]}},g=c.getLogger(p),m=[],y=[],_="temporary",b="",p}l.__dashjs_factory_name="ProtectionController",t.default=dashjs.FactoryMaker.getClassFactory(l),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contentType=t,this.robustness=n},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(67)),a=r(n(68)),o=r(n(29)),s=r(n(25)),u="e2719d58-a985-b3c9-781a-b030af78d30e",l=s.default.CLEARKEY_KEYSTEM_STRING;function c(e){var t=(e=e||{}).BASE64;return{uuid:u,schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:l,getInitData:function(e){return o.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:}c.__dashjs_factory_name="KeySystemClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(c),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(67)),a=r(n(68)),o=r(n(29)),s=r(n(25)),u="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",l=s.default.CLEARKEY_KEYSTEM_STRING;function c(e){var t=void 0,n=e.BASE64,r=e.debug.getLogger(t);return{uuid:u,schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:l,getInitData:function(e){return o.default.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:}c.__dashjs_factory_name="KeySystemW3CClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(c),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(29)),a=r(n(25)),o="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",s=a.default.WIDEVINE_KEYSTEM_STRING;function u(e){var t=null,n=(e=e||{}).BASE64;return{uuid:o,schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:s,init:function(e){e&&(t=e)},getInitData:function(e){return i.default.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(e){return t&&t.sessionId?t.sessionId:e&&e.sessionId?e.sessionId:null}}}u.__dashjs_factory_name="KeySystemWidevine",t.default=dashjs.FactoryMaker.getSingletonFactory(u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(29)),a=r(n(25)),o="9a04f079-9840-4286-ab92-e65be0885f95",s=a.default.PLAYREADY_KEYSTEM_STRING,u=void 0;function l(e){var t="utf16",n=(e=e||{}).BASE64;function r(){if(!n||!n.hasOwnProperty("decodeArray")||!n.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:o,schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:s,getInitData:function(e){var t,a,o,s=new Uint8Array([112,115,115,104,0,0,0,0]),u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,c=null,d=void 0,f=void 0;if(r(),"pssh"in e)return i.default.parseInitDataFromContentProtection(e,n);if("pro"in e)c=n.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;c=n.decodeArray(e.prheader.__text)}return t=c.length,a=4+s.length+u.length+4+t,o=new ArrayBuffer(a),d=new Uint8Array(o),(f=new DataView(o)).setUint32(l,a),l+=4,d.set(s,l),l+=s.length,d.set(u,l),l+=u.length,f.setUint32(l,t),l+=4,d.set(c,l),l+=t,d.buffer},getRequestHeadersFromMessage:function(e){var n,r=void 0,i={},a=new DOMParser,o="utf16"===t?new Uint16Array(e):new Uint8Array(e);n=String.fromCharCode.apply(null,o);for(var s=(r=a.parseFromString(n,"application/xml")).getElementsByTagName("name"),u=r.getElementsByTagName("value"),l=0;l<s.length;l++)i[s[l].childNodes[0].nodeValue]=u[l].childNodes[0].nodeValue;return i.hasOwnProperty("Content")&&(i["Content-Type"]=i.Content,delete i.Content),i.hasOwnProperty("Content-Type")||(i["Content-Type"]="text/xml; charset="+t),i},getLicenseRequestFromMessage:function(e){var i=null,a=new DOMParser,o="utf16"===t?new Uint16Array(e):new Uint8Array(e);r();var s=String.fromCharCode.apply(null,o),u=a.parseFromString(s,"application/xml");if(u.getElementsByTagName("Challenge")[0]){var l=u.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;l&&(i=n.decode(l))}else if(u.getElementsByTagName("parsererror").length)return e;return i},getLicenseServerURLFromInitData:getCDMData:getSessionId:setPlayReadyMessageFormat:function(e){if("utf8"!==e&&"utf16"!==e)throw new Error("Illegal PlayReady message format! -- "+e);t=e},init:function(e){e&&(u=e)}}}l.__dashjs_factory_name="KeySystemPlayReady",t.default=dashjs.FactoryMaker.getSingletonFactory(l),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(25))&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).BASE64,n={};return n[i.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return t.decodeArray(e.license)},getErrorResponse:function(e){return e}},n[i.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:getErrorResponse:}a.__dashjs_factory_name="DRMToday",t.default=dashjs.FactoryMaker.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(){var e="http://schemas.xmlsoap.org/soap/envelope/";urn{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return n.call(this,e)},getErrorResponse:}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="PlayReady",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";bject.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="Widevine",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(67)),a=r(n(68));function o(){return{getServerURLFromMessage:function(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:getErrorResponse:}o.__dashjs_factory_name="ClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(o),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=n(40))&&r.__esModule?r:{default:r}).default));t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(49)),a=r(n(69)),o=r(n(36)),s=r(n(10)),u=r(n(70)),l=r(n(71)),c=r(n(25));function d(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,d=e.debug,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0;nction E(e){var t=void 0,n=void 0;return e&&e.length>0&&(e[0]&&("string"==typeof e[0]?t=e[0]:n=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:n=e[1])),{status:t,keyId:n}}function S(e,t,i,a){var l={session:e,initData:t,sessionId:a,handleEvent:function(e){switch(e.type){case"keystatuseschange":n.trigger(r.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach((function(){var e=E(arguments);"expired"===e.status?n.trigger(r.INTERNAL_KEY_STATUS_CHANGED,{error:new s.default(o.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,o.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):n.trigger(r.INTERNAL_KEY_STATUS_CHANGED,e)}));break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new u.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:getSessionType:function(){return i}};return e.addEventListener("keystatuseschange",l),e.addEventListener("message",l),e.closed.then((),y.push(l),l}return f={getAllInitData:requestKeySystemAccess:function(e){!function e(t,i){void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?function(i){var a=t[i].ks,o=t[i].configs,s=a.systemString;s===c.default.PLAYREADY_KEYSTEM_STRING&&"required"===o[0].persistentState&&(s+=".recommendation"),navigator.requestMediaKeySystemAccess(s,o).then(().catch(()}(i):n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"})}(e,0)},getKeySystem:function(){return p},selectKeySystem:setMediaElement:setServerCertificate:createKeySession:function(e,t,i){if(!p||!m)throw new Error("Can not create sessions until you have selected a key system");var a=m.createSession(i),u=S(a,e,i),l=this.getKeySystem().systemString===c.default.CLEARKEY_KEYSTEM_STRING&&t&&t.clearkeys?"keyids":"cenc";a.generateRequest(l,e).then(().catch(()},updateKeySession:function(e,t){var i=e.session;_.isClearKey(p)&&(t=t.toJWK()),i.update(t).catch(()},loadKeySession:function(e,t,i){if(!p||!m)throw new Error("Can not load sessions until you have selected a key system");for(var a=0;a<y.length;a++)if(e===y[a].sessionId)return void h.warn("DRM: Ignoring session ID because we have already seen it!");var u=m.createSession(i),l=S(u,t,i,e);u.load(e).then(().catch(()},removeKeySession:closeKeySession:stop:function(){for(var e=void 0,t=0;t<y.length;t++)(e=y[t]).getUsable()||b(e).catch((function(){T(e)}))},reset:,h=d.getLogger(f),p=null,g=null,m=null,y=[],_=(0,i.default)(t).getInstance(),v={handleEvent:function(e){if("encrypted"===e.type&&e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new a.default(t,e.initDataType)})}}},f}d.__dashjs_factory_name="ProtectionModel_21Jan2015",t.default=dashjs.FactoryMaker.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(49)),a=r(n(69)),o=r(n(10)),s=r(n(36)),u=r(n(70)),l=r(n(66)),c=r(n(71));function d(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,d=e.debug,f=e.api,h=void 0,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0;urn h={getAllInitData:requestKeySystemAccess:function(e){for(var t=!1,i=0;i<e.length;i++)for(var a=e[i].ks.systemString,o=e[i].configs,s=null,u=null,d=0;d<o.length;d++){var h=o[d].audioCapabilities,p=o[d].videoCapabilities;if(h&&0!==h.length){s=[];for(var g=0;g<h.length;g++)window[f.MediaKeys].isTypeSupported(a,h[g].contentType)&&s.push(h[g])}if(p&&0!==p.length){u=[];for(var m=0;m<p.length;m++)window[f.MediaKeys].isTypeSupported(a,p[m].contentType)&&u.push(p[m])}if(!(!s&&!u||s&&0===s.length||u&&0===u.length)){t=!0;var y=new l.default(s,u),v=T.getKeySystemBySystemString(a);n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:new c.default(v,y)});break}}t||n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return m},selectKeySystem:setMediaElement:createKeySession:function(e,t,i,a){if(!m||!y||!v)throw new Error("Can not create sessions until you have selected a key system");var l=null;if(v.ksConfiguration.videoCapabilities&&v.ksConfiguration.videoCapabilities.length>0&&(l=v.ksConfiguration.videoCapabilities[0]),null===l&&v.ksConfiguration.audioCapabilities&&v.ksConfiguration.audioCapabilities.length>0&&(l=v.ksConfiguration.audioCapabilities[0]),null===l)throw new Error("Can not create sessions for unknown content types.");var c=l.contentType,d=y.createSession(c,new Uint8Array(e),a?new Uint8Array(a):null),h=function(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case f.error:n.trigger(r.KEY_ERROR,{data:new o.default(s.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case f.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new u.default(this,t,e.destinationURL)});break;case f.ready:p.debug("DRM: Key added."),n.trigger(r.KEY_ADDED);break;case f.close:p.debug("DRM: Session closed.  SessionID = "+this.getSessionID()),n.trigger(r.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}(d,e);d.addEventListener(f.error,h),d.addEventListener(f.message,h),d.addEventListener(f.ready,h),d.addEventListener(f.close,h),_.push(h),p.debug("DRM: Session created.  SessionID = "+h.getSessionID()),n.trigger(r.KEY_SESSION_CREATED,{data:h})},updateKeySession:closeKeySession:S,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:E,reset:E},p=d.getLogger(h),g=null,m=null,y=null,v=null,_=[],T=(0,i.default)(t).getInstance(),b={handleEvent:function(e){if(e.type===f.needkey&&e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new a.default(t,"cenc")})}}},h}d.__dashjs_factory_name="ProtectionModel_3Feb2014",t.default=dashjs.FactoryMaker.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(49)),a=r(n(69)),o=r(n(10)),s=r(n(70)),u=r(n(66)),l=r(n(71)),c=r(n(36));function d(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,d=e.debug,f=e.api,h=e.errHandler,p=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,E=void 0;rn p={getAllInitData:function(){for(var e=[],t=0;t<_.length;t++)e.push(_[t].initData);for(t=0;t<b.length;t++)e.push(b[t].initData);return e},requestKeySystemAccess:function(e){var t=m;t||(t=document.createElement("video"));for(var i=!1,a=0;a<e.length;a++)for(var o=e[a].ks.systemString,s=e[a].configs,c=null,d=0;d<s.length;d++){var f=s[d].videoCapabilities;if(f&&0!==f.length){c=[];for(var h=0;h<f.length;h++)""!==t.canPlayType(f[h].contentType,o)&&c.push(f[h])}if(c&&(!c||0!==c.length)){i=!0;var p=new u.default(null,c),g=v.getKeySystemBySystemString(o);n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:new l.default(g,p)});break}}i||n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return y},selectKeySystem:setMediaElement:createKeySession:updateKeySession:closeKeySession:w,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:S,reset:S},g=d.getLogger(p),m=null,y=null,_=[],b=[],v=(0,i.default)(t).getInstance(),E={handleEvent:function(e){var t=null;switch(e.type){case f.needkey:var i=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new a.default(i,"cenc")});break;case f.keyerror:if((t=C(b,e.sessionId))||(t=C(_,e.sessionId)),t){var u=c.default.MEDIA_KEYERR_CODE,l="";switch(e.errorCode.code){case 1:u=c.default.MEDIA_KEYERR_UNKNOWN_CODE,l+="MEDIA_KEYERR_UNKNOWN - "+c.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:u=c.default.MEDIA_KEYERR_CLIENT_CODE,l+="MEDIA_KEYERR_CLIENT - "+c.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:u=c.default.MEDIA_KEYERR_SERVICE_CODE,l+="MEDIA_KEYERR_SERVICE - "+c.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:u=c.default.MEDIA_KEYERR_OUTPUT_CODE,l+="MEDIA_KEYERR_OUTPUT - "+c.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:u=c.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,l+="MEDIA_KEYERR_HARDWARECHANGE - "+c.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:u=c.default.MEDIA_KEYERR_DOMAIN_CODE,l+="MEDIA_KEYERR_DOMAIN - "+c.default.MEDIA_KEYERR_DOMAIN_MESSAGE}l+="  System Code = "+e.systemCode,n.trigger(r.KEY_ERROR,{data:new o.default(u,l,t)})}else g.error("No session token found for key error");break;case f.keyadded:(t=C(b,e.sessionId))||(t=C(_,e.sessionId)),t?(g.debug("DRM: Key added."),n.trigger(r.KEY_ADDED,{data:t})):g.debug("No session token found for key added");break;case f.keymessage:if((T=null!==e.sessionId&&void 0!==e.sessionId)?!(t=C(b,e.sessionId))&&_.length>0&&(t=_.shift(),b.push(t),t.sessionID=e.sessionId,n.trigger(r.KEY_SESSION_CREATED,{data:t})):_.length>0&&(t=_.shift(),b.push(t),0!==_.length&&(h.mediaKeyMessageError(c.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE),h.error(new o.default(c.default.MEDIA_KEY_MESSAGE_ERROR_CODE,c.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE)))),t){var d=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=d,n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new s.default(t,d,e.defaultURL)})}else g.warn("No session token found for key message")}}},p}d.__dashjs_factory_name="ProtectionModel_01b",t.default=dashjs.FactoryMaker.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(77))&&r.__esModule?r:{default:r},a=function(){var e=void 0;function t(t,n,r){if(!t||!/^VIDEO$/i.test(t.nodeName))return null;if(t._dashjs_player)return t._dashjs_player;var a=void 0,o=t.id||t.name||"video element";if(!(n=n||[].slice.call(t.querySelectorAll("source")).filter(()[0])&&t.src)(n=document.createElement("source")).src=t.src;else if(!n&&!t.src)return null;return r=r||{},(a=(0,i.default)(r).create()).initialize(t,n.src,t.autoplay),e||(e=a.getDebug().getLogger()),e.debug("Converted "+o+" to dash.js player and added content: "+n.src),t._dashjs_player=a,a}eturn{create:t,createAll:function(e,r){var i=[];e=e||"[data-dashjs-player]";for(var a=(r=r||document).querySelectorAll(e),o=0;o<a.length;o++){var s=t(a[o],null);i.push(s)}var u=r.querySelectorAll('source[type="application/dash+xml"]');for(o=0;o<u.length;o++)s=t(n(u[o]),null),i.push(s);return i}}}(),o=void 0;!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?a.createAll():o=window.setInterval((,500):window.addEventListener("load",()),t.default=a,e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ABORT",(function(){return td})),n.d(r,"CAN_PLAY",(function(){return nd})),n.d(r,"CAN_PLAY_THROUGH",(function(){return rd})),n.d(r,"DURATION_CHANGE",(function(){return id})),n.d(r,"EMPTIED",(function(){return ad})),n.d(r,"ENDED",(function(){return od})),n.d(r,"ERROR",(function(){return sd})),n.d(r,"LOADED_DATA",(function(){return ud})),n.d(r,"LOADED_METADATA",(function(){return ld})),n.d(r,"LOAD_START",(function(){return cd})),n.d(r,"PAUSE",(function(){return dd})),n.d(r,"PLAY",(function(){return fd})),n.d(r,"PLAYING",(function(){return hd})),n.d(r,"PROGRESS",(function(){return pd})),n.d(r,"RATE_CHANGE",(function(){return gd})),n.d(r,"RESIZE",(function(){return md})),n.d(r,"SEEKED",(function(){return yd})),n.d(r,"SEEKING",(function(){return vd})),n.d(r,"STALLED",(function(){return _d})),n.d(r,"SUSPEND",(function(){return bd})),n.d(r,"TIME_UPDATE",(function(){return Td})),n.d(r,"TRANSITION_END",(function(){return Ed})),n.d(r,"VOLUME_CHANGE",(function(){return Sd})),n.d(r,"WAITING",(function(){return wd}));var i={};n.r(i),n.d(i,"BEFOREMODALCLOSE",(function(){return Cd})),n.d(i,"DISPOSE",(function(){return Od})),n.d(i,"FIRST_PLAY",(function(){return Ad})),n.d(i,"MODALCLOSE",(function(){return Rd})),n.d(i,"MODALOPEN",(function(){return Pd})),n.d(i,"MODE_CHANGE",(function(){return Id})),n.d(i,"PLAYER_RESIZE",(function(){return kd})),n.d(i,"READY",(function(){return Dd})),n.d(i,"TAP",(function(){return Md})),n.d(i,"USER_ACTIVE",(function(){return Ld})),n.d(i,"USER_INACTIVE",(function(){return Nd})),n.d(i,"QUALITY_CHANGE",(function(){return xd}));var a={};n.r(a),n.d(a,"AIRPLAY_PLAYBACK_STATE",(function(){return Ud})),n.d(a,"AUTOPLAY_CHANGE",(function(){return Bd})),n.d(a,"ASPECT_RATIO",(function(){return jd})),n.d(a,"BLOCKED_SEGMENT_SKIPPED",(function(){return Gd})),n.d(a,"CHROMECAST_SCRIPT_LOADED",(function(){return Hd})),n.d(a,"CONFIGURATION_CHANGE",(function(){return Vd})),n.d(a,"CONTINUOUSPLAYBACK_CANCEL",(function(){return qd})),n.d(a,"CONTINUOUS_PLAYBACK_CHANGE",(function(){return Kd})),n.d(a,"CONTINUOUS_PLAYBACK_DISPLAYED",(function(){return zd})),n.d(a,"CONTINUOUS_PLAYBACK_INTEGRATION_CHANGE",(function(){return Yd})),n.d(a,"CONTINUOUSPLAYBACK_DONE",(function(){return Wd})),n.d(a,"CONTINUOUS_PLAYBACK_HIT",(function(){return Xd})),n.d(a,"LAYOUT_BREAKPOINT_CHANGE",(function(){return Qd})),n.d(a,"MEDIACOMPOSITION_LOADED",(function(){return $d})),n.d(a,"MENU_VALUE_SCROLL",(function(){return Jd})),n.d(a,"MENU_VALUE_UPDATED",(function(){return Zd})),n.d(a,"ON_ESC_PRESSED",(function(){return ef})),n.d(a,"PREPARE_TO_PLAY",(function(){return tf})),n.d(a,"RECOMMENDATION_DISPLAYED",(function(){return nf})),n.d(a,"RECOMMENDATION_HIT",(function(){return rf})),n.d(a,"SEGMENT_CHANGE",(function(){return af})),n.d(a,"SEGMENT_SWITCHED",(function(){return of})),n.d(a,"SETTING_CHANGE",(function(){return sf})),n.d(a,"SOCIAL_SHARING",(function(){return uf})),n.d(a,"SUBDIVISION_VISIBILITY_CHANGED",(function(){return lf})),n.d(a,"TEXT_TRACK_SIZE_CHANGE",(function(){return cf}));var o={};n.r(o),n.d(o,"ABORT",(function(){return td})),n.d(o,"CAN_PLAY",(function(){return nd})),n.d(o,"CAN_PLAY_THROUGH",(function(){return rd})),n.d(o,"DURATION_CHANGE",(function(){return id})),n.d(o,"EMPTIED",(function(){return ad})),n.d(o,"ENDED",(function(){return od})),n.d(o,"ERROR",(function(){return sd})),n.d(o,"LOADED_DATA",(function(){return ud})),n.d(o,"LOADED_METADATA",(function(){return ld})),n.d(o,"LOAD_START",(function(){return cd})),n.d(o,"PAUSE",(function(){return dd})),n.d(o,"PLAY",(function(){return fd})),n.d(o,"PLAYING",(function(){return hd})),n.d(o,"PROGRESS",(function(){return pd})),n.d(o,"RATE_CHANGE",(function(){return gd})),n.d(o,"RESIZE",(function(){return md})),n.d(o,"SEEKED",(function(){return yd})),n.d(o,"SEEKING",(function(){return vd})),n.d(o,"STALLED",(function(){return _d})),n.d(o,"SUSPEND",(function(){return bd})),n.d(o,"TIME_UPDATE",(function(){return Td})),n.d(o,"TRANSITION_END",(function(){return Ed})),n.d(o,"VOLUME_CHANGE",(function(){return Sd})),n.d(o,"WAITING",(function(){return wd})),n.d(o,"BEFOREMODALCLOSE",(function(){return Cd})),n.d(o,"DISPOSE",(function(){return Od})),n.d(o,"FIRST_PLAY",(function(){return Ad})),n.d(o,"MODALCLOSE",(function(){return Rd})),n.d(o,"MODALOPEN",(function(){return Pd})),n.d(o,"MODE_CHANGE",(function(){return Id})),n.d(o,"PLAYER_RESIZE",(function(){return kd})),n.d(o,"READY",(function(){return Dd})),n.d(o,"TAP",(function(){return Md})),n.d(o,"USER_ACTIVE",(function(){return Ld})),n.d(o,"USER_INACTIVE",(function(){return Nd})),n.d(o,"QUALITY_CHANGE",(function(){return xd})),n.d(o,"AIRPLAY_PLAYBACK_STATE",(function(){return Ud})),n.d(o,"AUTOPLAY_CHANGE",(function(){return Bd})),n.d(o,"ASPECT_RATIO",(function(){return jd})),n.d(o,"BLOCKED_SEGMENT_SKIPPED",(function(){return Gd})),n.d(o,"CHROMECAST_SCRIPT_LOADED",(function(){return Hd})),n.d(o,"CONFIGURATION_CHANGE",(function(){return Vd})),n.d(o,"CONTINUOUSPLAYBACK_CANCEL",(function(){return qd})),n.d(o,"CONTINUOUS_PLAYBACK_CHANGE",(function(){return Kd})),n.d(o,"CONTINUOUS_PLAYBACK_DISPLAYED",(function(){return zd})),n.d(o,"CONTINUOUS_PLAYBACK_INTEGRATION_CHANGE",(function(){return Yd})),n.d(o,"CONTINUOUSPLAYBACK_DONE",(function(){return Wd})),n.d(o,"CONTINUOUS_PLAYBACK_HIT",(function(){return Xd})),n.d(o,"LAYOUT_BREAKPOINT_CHANGE",(function(){return Qd})),n.d(o,"MEDIACOMPOSITION_LOADED",(function(){return $d})),n.d(o,"MENU_VALUE_SCROLL",(function(){return Jd})),n.d(o,"MENU_VALUE_UPDATED",(function(){return Zd})),n.d(o,"ON_ESC_PRESSED",(function(){return ef})),n.d(o,"PREPARE_TO_PLAY",(function(){return tf})),n.d(o,"RECOMMENDATION_DISPLAYED",(function(){return nf})),n.d(o,"RECOMMENDATION_HIT",(function(){return rf})),n.d(o,"SEGMENT_CHANGE",(function(){return af})),n.d(o,"SEGMENT_SWITCHED",(function(){return of})),n.d(o,"SETTING_CHANGE",(function(){return sf})),n.d(o,"SOCIAL_SHARING",(function(){return uf})),n.d(o,"SUBDIVISION_VISIBILITY_CHANGED",(function(){return lf})),n.d(o,"TEXT_TRACK_SIZE_CHANGE",(function(){return cf})),n.d(o,"ADD_TRACK",(function(){return df})),n.d(o,"ANIMATION_END",(function(){return ff})),n.d(o,"BEFOREUNLOAD",(function(){return hf})),n.d(o,"CHANGE",(function(){return pf})),n.d(o,"CLICK",(function(){return gf})),n.d(o,"FULL_SCREEN_CHANGE",(function(){return mf})),n.d(o,"KEY_DOWN",(function(){return yf})),n.d(o,"MOUSE_ENTER",(function(){return vf})),n.d(o,"MOUSE_LEAVE",(function(){return _f})),n.d(o,"MOUSE_MOVE",(function(){return bf})),n.d(o,"MOUSE_UP",(function(){return Tf})),n.d(o,"TOUCH_CANCEL",(function(){return Ef})),n.d(o,"TOUCH_END",(function(){return Sf})),n.d(o,"TOUCH_MOVE",(function(){return wf})),n.d(o,"SCROLL",(function(){return Cf})),n.d(o,"WEBKIT_PLAYBACK_TARGET_AVAILABILITY_CHANGED",(function(){return Of})),n.d(o,"WEBKIT_CURRENT_PLAYBACK_TARGET_IS_WIRELESS_CHANGED",(function(){return Af})),n.d(o,"WHEEL",(function(){return Rf}));var s,u=n(0),l=n.n(u),c=n(1),d=n.n(c),f=n(16),h=n.n(f),p=n(4),g=n.n(p),m=n(3),y=n.n(m),v=n(105),_=n.n(v),b=n(5),T=n.n(b),E=n(72),S=n.n(E),w=n(73),C=n.n(w),O=n(106),A=n.n(O),R=n(107),P=n.n(R),I=n(74),k=n.n(I),D=M=),L=n(50),N=M),x=String.fromCharCode(9),F=U=B=M),j=G=H=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new N,t.parseStream=new B,t.lineStream.pipe(t.parseStream);var n,r,i=g()(t),a=[],o={},s=!1,u=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0,f=0;return t.on("end",(),t.parseStream.on("data",(function(e){var t,p;({tag:function(){({version:"allow-cache":byterange:endlist:inf:key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:Object(L.a)(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":"discontinuity-sequence":"playlist-type":map:"stream-inf":media:discontinuity:"program-date-time":targetduration:start:"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":skip:part:"server-control":"preload-hint":"rendition-report":"part-inf":[e.tagType]||u).call(i)},uri:comment:function(){},custom:)[e.type].call(i)})),t}y()(t,e);var n=t.prototype;return n.warnOnMissingAttributes_=n.push=function(e){this.lineStream.push(e)},n.end=n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(M),V={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},q=["video","audio","text"],K=["Video","Audio","Text"],z=Y=W=X=Q=$=J=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Z=/^application\/dash\+xml/i,ee=te=n(108),ne=re=ie=ae=oe="INVALID_NUMBER_OF_PERIOD",se="DASH_EMPTY_MANIFEST",ue="DASH_INVALID_XML",le="NO_BASE_URL",ce="SEGMENT_TIME_UNSPECIFIED",de="UNSUPPORTED_UTC_TIMING_SCHEME",fe=he=pe={static:dynamic:,ge=me=ye=ve=function(e){return e&&e.uri+"-"+(n=(t=e.byterange).offset+t.length-1,t.offset+"-"+n);var t,n},_e=be=Te=Ee=Se=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},we=Ce=Oe=function(e,t,n){var r;if(void 0===n&&(n={}),!e.length)return{};var i=e[0].attributes,a=i.sourceDuration,o=i.type,s=i.suggestedPresentationDelay,u=i.minimumUpdatePeriod,l=_e(e.filter(Se)).map(Ee),c=_e(e.filter(we)),d=e.filter(Ce),f=e.map(().filter(Boolean),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:a,playlists:Te(l,n)};u>=0&&(h.minimumUpdatePeriod=1e3*u),t&&(h.locations=t),"dynamic"===o&&(h.suggestedPresentationDelay=s);var p=0===h.playlists.length;return c.length&&(h.mediaGroups.AUDIO.audio=function(e,t,n){var r;void 0===t&&(t={}),void 0===n&&(n=!1);var i=e.reduce((,{});return r||(i[Object.keys(i)[0]].default=!0),i}(c,n,p)),d.length&&(h.mediaGroups.SUBTITLES.subs=d,n)),f.length&&(h.mediaGroups["CLOSED-CAPTIONS"].cc=f.reduce((,{})),h},Ae=Re=Pe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ie=ke=De=Me=Le=Ne=xe=Fe={mediaPresentationDuration:function(e){return xe(e)},availabilityStartTime:minimumUpdatePeriod:function(e){return xe(e)},suggestedPresentationDelay:function(e){return xe(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return xe(e)},start:function(e){return xe(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:DEFAULT:function(e){return e}},Ue=Be={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},je=Ge=He=function(e,t,n){return function(r){var i,a=Ue(r),o=je(t,Le(r,"BaseURL")),s=Le(r,"Role")[0],u={role:Ue(s)},l=re(e,a,u),c=Le(r,"Accessibility")[0],d="urn:scte:dash:cc:cea-608:2015"===(i=Ue(c)).schemeIdUri?i.value.split(";").map(():"urn:scte:dash:cc:cea-708:2015"===i.schemeIdUri?i.value.split(";").map(():void 0;d&&(l=re(l,{captionServices:d}));var f=Le(r,"Label")[0];if(f&&f.childNodes.length){var h=f.childNodes[0].nodeValue.trim();l=re(l,{label:h})}var p=Le(r,"ContentProtection").reduce((,{});Object.keys(p).length&&(l=re(l,{contentProtection:p}));var g=Ge(r),m=Le(r,"Representation"),y=re(n,g);return ie(m.map(l,o,y)))}},Ve=qe=Ke=function(e,t){void 0===t&&(t={});var n=qe(e),t),r=n.representationInfo.map(Me);return Oe(r,n.locations,t.sidxMapping)},ze=Ye=n(109),We=n.n(Ye),Xe=Qe=$e=l.a.BigInt||Number,Je=[$e("0x1"),$e("0x100"),$e("0x10000"),$e("0x1000000"),$e("0x100000000"),$e("0x10000000000"),$e("0x1000000000000"),$e("0x100000000000000"),$e("0x10000000000000000")],Ze=(),,et=tt=nt=rt=it=Qe([73,68,51]),at=ot=(new Uint8Array([79,112,117,115,72,101,97,100]),,st=s=[{id:3,parser:,{id:4,parser:,{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:];var ut=lt={EBML:Qe([26,69,223,163]),DocType:Qe([66,130]),Segment:Qe([24,83,128,103]),SegmentInfo:Qe([21,73,169,102]),Tracks:Qe([22,84,174,107]),Track:Qe([174]),TrackNumber:Qe([215]),DefaultDuration:Qe([35,227,131]),TrackEntry:Qe([174]),TrackType:Qe([131]),FlagDefault:Qe([136]),CodecID:Qe([134]),CodecPrivate:Qe([99,162]),VideoTrack:Qe([224]),AudioTrack:Qe([225]),Cluster:Qe([31,67,182,117]),Timestamp:Qe([231]),TimestampScale:Qe([42,215,177]),BlockGroup:Qe([160]),BlockDuration:Qe([155]),Block:Qe([161]),SimpleBlock:Qe([163])},ct=[128,64,32,16,8,4,2,1],dt=ft=ht=pt=gt=Qe([0,0,0,1]),mt=Qe([0,0,1]),yt=Qe([0,0,3]),vt=_t=bt={webm:Qe([119,101,98,109]),matroska:Qe([109,97,116,114,111,115,107,97]),flac:Qe([102,76,97,67]),ogg:Qe([79,103,103,83]),ac3:Qe([11,119]),riff:Qe([82,73,70,70]),avi:Qe([65,86,73]),wav:Qe([87,65,86,69]),"3gp":Qe([102,116,121,112,51,103]),mp4:Qe([102,116,121,112]),fmp4:Qe([115,116,121,112]),mov:Qe([102,116,121,112,113,116]),moov:Qe([109,111,111,118]),moof:Qe([109,111,111,102])},Tt={aac:function(e){var t=at(e);return rt(e,[255,16],{offset:t,mask:[255,22]})},mp3:webm:function(e){var t=pt(e,[lt.EBML,lt.DocType])[0];return rt(t,bt.webm)},mkv:mp4:mov:"3gp":ac3:function(e){var t=at(e);return rt(e,bt.ac3,{offset:t})},ts:flac:ogg:avi:function(e){return rt(e,bt.riff)&&rt(e,bt.avi,{offset:8})},wav:h264:h265:,Et=Object.keys(Tt).filter(().concat(["ts","h264","h265"]);Et.forEach(();for(var St,wt=Tt,Ct=Ot=n(37),At={},Rt=Pt=It={prefixed:!0},kt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Dt=kt[0],Mt=0;Mt<kt.length;Mt++)if(kt[Mt][1]in d.a){St=kt[Mt];break}if(St){for(var Lt=0;Lt<St.length;Lt++)It[Dt[Lt]]=St[Lt];It.prefixed=St[0]!==Dt[0]}var Nt=[],xt="VIDEOJS"),Ft=xt.createLogger,Ut=Object.prototype.toString,Bt=t,zt,Yt,Wt=l.a.navigator&&l.a.navigator.userAgent||"",Xt=/AppleWebKit\/([\d.]+)/i.exec(Wt),Qt=Xt?parseFloat(Xt.pop()):null,$t=/iPod/i.test(Wt),Jt=(Kt=Wt.match(/OS (\d+)_/i))&&Kt[1]?Kt[1]:null,Zt=/Android/i.test(Wt),en=),tn=Zt&&en<5&&Qt<537,nn=/Firefox/i.test(Wt),rn=/Edg/i.test(Wt),an=!rn&&(/Chrome/i.test(Wt)||/CriOS/i.test(Wt)),on=),sn=(!(Yt=(zt=/MSIE\s(\d+)\.\d/.exec(Wt))&&parseFloat(zt[1]))&&/Trident\/7.0/i.test(Wt)&&/rv:11.0/.test(Wt)&&(Yt=11),Yt),un=/Safari/i.test(Wt)&&!an&&!Zt&&!rn,ln=/Windows/i.test(Wt),cn=Boolean(vn()&&("ontouchstart"in l.a||l.a.navigator.maxTouchPoints||l.a.DocumentTouch&&l.a.document instanceof l.a.DocumentTouch)),dn=/iPad/i.test(Wt)||un&&cn&&!/iPhone/i.test(Wt),fn=/iPhone/i.test(Wt)&&!dn,hn=fn||dn||$t,pn=(un||hn)&&!an,gn=Object.freeze({__proto__:null,IS_IPOD:$t,IOS_VERSION:Jt,IS_ANDROID:Zt,ANDROID_VERSION:en,IS_NATIVE_ANDROID:tn,IS_FIREFOX:nn,IS_EDGE:rn,IS_CHROME:an,CHROME_VERSION:on,IE_VERSION:sn,IS_SAFARI:un,IS_WINDOWS:ln,TOUCH_ENABLED:cn,IS_IPAD:dn,IS_IPHONE:fn,IS_IOS:hn,IS_ANY_SAFARI:pn});ction _n(e){return Ht(e)&&1===e.nodeType}or"),Yn=Tn("querySelectorAll"),Wn=Object.freeze({__proto__:null,isReal:vn,isEl:_n,isInFrame:bn,createEl:En,textContent:Sn,prependTo:wn,hasClass:Cn,addClass:On,removeClass:An,toggleClass:Rn,setAttributes:Pn,getAttributes:In,getAttribute:kn,setAttribute:Dn,removeAttribute:Mn,blockTextSelection:Ln,unblockTextSelection:Nn,getBoundingClientRect:xn,findPosition:Fn,getPointerPosition:Un,isTextNode:Bn,emptyEl:jn,normalizeContent:Gn,appendContent:Hn,insertContent:Vn,isSingleLeftClick:qn,$:zn,$$:Yn}),Xn=!1,Qn=()&&("complete"===d.a.readyState?Jn():l.a.addEventListener("load",Jn));var Zn,er=tr=nr=3;.a.WeakMap||(Zn=));var ir,ar=l.a.WeakMap?new WeakMap:new Zn; lr=["touchstart","touchmove"];r,mr=Object.freeze({__proto__:null,fixEvent:ur,on:cr,off:dr,trigger:fr,one:hr,any:pr}),yr=vr=_r=function(){};_r.prototype.allowedEvents_={},_r.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},cr(this,e,t),this.addEventListener=n},_r.prototype.addEventListener=_r.prototype.on,_r.prototype.off=_r.prototype.removeEventListener=_r.prototype.off,_r.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},hr(this,e,t),this.addEventListener=n},_r.prototype.any=_r.prototype.trigger=_r.prototype.dispatchEvent=_r.prototype.trigger,_r.prototype.queueTrigger=var br=Tr=Er=Sr=wr=Cr=Or=Ar=Rr={on:one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Or(this,n,"one"),a=i.isTargetingSelf,o=i.target,s=i.type,u=i.listener;if(a)Ar(o,"one",s,u);else{var l=function t(){e.off(o,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];u.apply(null,r)};l.guid=u.guid,Ar(o,"one",s,l)}},any:off:trigger:;ar Ir={state:{},setState:;ar Dr=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},Mr=ar Nr=),xr=l.a.Map?l.a.Map:Nr,Fr=),Ur=l.a.Set?l.a.Set:Fr,Br=function(){ar t=e.prototype;return t.dispose=t.isDisposed=t.player=function(){return this.player_},t.options=t.el=function(){return this.el_},t.createEl=t.localize=t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=t.getDescendant=t.addChild=t.removeChild=t.initChildren=t.buildCSSClass=function(){return""},t.ready=t.triggerReady=t.$=function(e,t){return zn(e,t||this.contentEl())},t.$$=t.hasClass=function(e){return Cn(this.el_,e)},t.addClass=function(e){On(this.el_,e)},t.removeClass=function(e){An(this.el_,e)},t.toggleClass=function(e,t){Rn(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=t.setAttribute=t.removeAttribute=function(e){Mn(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=t.dimensions=t.dimension=t.currentDimension=t.currentDimensions=t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=t.enableTouchActivity=t.setTimeout=t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),l.a.clearTimeout(e)),e},t.setInterval=t.clearInterval=t.requestAnimationFrame=t.requestNamedAnimationFrame=t.cancelNamedAnimationFrame=t.cancelAnimationFrame=t.clearTimersOnDispose_=e.registerComponent=e.getComponent=e}();ototype.supportsRaf_="function"==typeof l.a.requestAnimationFrame&&"function"==typeof l.a.cancelAnimationFrame,Br.registerComponent("Component",Br),qr.prototype.code=0,qr.prototype.message="",qr.prototype.status=null,qr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],qr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Kr=0;Kr<qr.errorTypes.length;Kr++)qr[qr.errorTypes[Kr]]=Kr,qr.prototype[qr.errorTypes[Kr]]=Kr;r Wr=Xr=Qr=$r=Br);$r.prototype.options_={pauseOnOpen:!0,temporary:!0},Br.registerComponent("ModalDialog",$r);var Jr=_r);for(var Zr in Jr.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Jr.prototype.allowedEvents_)Jr.prototype["on"+Zr]=null;var ei=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},ti=Jr),ni=ri=Jr),ii=Jr),ai=),oi=),si={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ui={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},li={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ci={disabled:"disabled",hidden:"hidden",showing:"showing"},di=_r),fi=hi=pi=gi=mi=Object.freeze({__proto__:null,parseUrl:fi,getAbsoluteURL:hi,getFileExtension:pi,isCrossOrigin:gi}),yi=vi=_i=di);_i.prototype.allowedEvents_={cuechange:"cuechange"};var bi=di),Ti=di),Ei=_r);Ei.prototype.allowedEvents_={load:"load"},Ei.NONE=0,Ei.LOADING=1,Ei.LOADED=2,Ei.ERROR=3;var Si={audio:{ListClass:ti,TrackClass:bi,capitalName:"Audio"},video:{ListClass:ri,TrackClass:Ti,capitalName:"Video"},text:{ListClass:ii,TrackClass:_i,capitalName:"Text"}};Object.keys(Si).forEach(();var wi={remoteText:{ListClass:ii,TrackClass:_i,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ai,TrackClass:Ei,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ci=h()({},Si,wi);wi.names=Object.keys(wi),Si.names=Object.keys(Si),Ci.names=[].concat(wi.names).concat(Si.names);var Oi=function(e){()(t,e);var n=t.prototype;return n.triggerSourceset=n.manualProgressOn=n.manualProgressOff=n.trackProgress=n.onDurationChange=n.buffered=n.bufferedPercent=n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=n.manualTimeUpdatesOff=n.trackCurrentTime=n.stopTrackingCurrentTime=n.dispose=n.clearTracks=n.cleanupAutoTextTracks=n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=n.played=n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=n.initTrackListeners=n.addWebVttScript_=n.emulateTextTracks=n.addTextTrack=n.createRemoteTextTrack=n.addRemoteTextTrack=n.removeRemoteTextTrack=n.getVideoPlaybackQuality=n.requestPictureInPicture=n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=t.registerTech=t.getTech=t}(Br);Ci.names.forEach((),Oi.prototype.featuresVolumeControl=!0,Oi.prototype.featuresMuteControl=!0,Oi.prototype.featuresFullscreenResize=!1,Oi.prototype.featuresPlaybackRate=!1,Oi.prototype.featuresProgressEvents=!1,Oi.prototype.featuresSourceset=!1,Oi.prototype.featuresTimeupdateEvents=!1,Oi.prototype.featuresNativeTextTracks=!1,Oi.withSourceHandlers=Br.registerComponent("Tech",Oi),Oi.registerTech("Tech",Oi),Oi.defaultTechOrder_=[];var Ai={},Ri={},Pi={};r Di={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Mi={setCurrentTime:1,setMuted:1,setVolume:1},Li={play:1,pause:1};ar xi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Fi=ar Bi=Br);Br.registerComponent("MediaLoader",Bi);var ji=Br);Br.registerComponent("ClickableComponent",ji);var Gi=ji);Br.registerComponent("PosterImage",Gi);var Hi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};r Ki=function(e){()(t,e);var n=t.prototype;return n.preselectTrack=n.toggleDisplay=n.createEl=n.clearDisplay=n.updateDisplay=n.updateDisplayState=n.updateForTrack=t}(Br);Br.registerComponent("TextTrackDisplay",Ki);var zi=Br);Br.registerComponent("LoadingSpinner",zi);var Yi=ji);Br.registerComponent("Button",Yi);var Wi=Yi);Wi.prototype.controlText_="Play Video",Br.registerComponent("BigPlayButton",Wi);var Xi=Yi);Br.registerComponent("CloseButton",Xi);var Qi=Yi);Qi.prototype.controlText_="Play",Br.registerComponent("PlayToggle",Qi);var $i=Ji=$i;ar ea=Br);ea.prototype.labelText_="Time",ea.prototype.controlText_="Time",Br.registerComponent("TimeDisplay",ea);var ta=ea);ta.prototype.labelText_="Current Time",ta.prototype.controlText_="Current Time",Br.registerComponent("CurrentTimeDisplay",ta);var na=ea);na.prototype.labelText_="Duration",na.prototype.controlText_="Duration",Br.registerComponent("DurationDisplay",na);var ra=Br);Br.registerComponent("TimeDivider",ra);var ia=ea);ia.prototype.labelText_="Remaining Time",ia.prototype.controlText_="Remaining Time",Br.registerComponent("RemainingTimeDisplay",ia);var aa=Br);Br.registerComponent("LiveDisplay",aa);var oa=Yi);oa.prototype.controlText_="Seek to live, currently playing live",Br.registerComponent("SeekToLive",oa);var sa=ua=Br);Br.registerComponent("Slider",ua);var la=ca=Br);Br.registerComponent("LoadProgressBar",ca);var da=Br);Br.registerComponent("TimeTooltip",da);var fa=Br);fa.prototype.options_={children:[]},hn||Zt||fa.prototype.options_.children.push("timeTooltip"),Br.registerComponent("PlayProgressBar",fa);var ha=Br);ha.prototype.options_={children:["timeTooltip"]},Br.registerComponent("MouseTimeDisplay",ha);var pa=ua);pa.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},hn||Zt||pa.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Br.registerComponent("SeekBar",pa);var ga=Br);ga.prototype.options_={children:["seekBar"]},Br.registerComponent("ProgressControl",ga);var ma=Yi);ma.prototype.controlText_="Picture-in-Picture",Br.registerComponent("PictureInPictureToggle",ma);var ya=Yi);ya.prototype.controlText_="Fullscreen",Br.registerComponent("FullscreenToggle",ya);var va=Br);Br.registerComponent("VolumeLevel",va);var _a=Br);Br.registerComponent("VolumeLevelTooltip",_a);var ba=Br);ba.prototype.options_={children:["volumeLevelTooltip"]},Br.registerComponent("MouseVolumeLevelDisplay",ba);var Ta=ua);Ta.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},hn||Zt||Ta.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Ta.prototype.playerEvent="volumechange",Br.registerComponent("VolumeBar",Ta);var Ea=Br);Ea.prototype.options_={children:["volumeBar"]},Br.registerComponent("VolumeControl",Ea);var Sa=Yi);Sa.prototype.controlText_="Mute",Br.registerComponent("MuteToggle",Sa);var wa=Br);wa.prototype.options_={children:["muteToggle","volumeControl"]},Br.registerComponent("VolumePanel",wa);var Ca=Br);Br.registerComponent("Menu",Ca);var Oa=Br);Br.registerComponent("MenuButton",Oa);var Aa=Oa);Br.registerComponent("TrackButton",Aa);var Ra=["Tab","Esc","Up","Down","Right","Left"],Pa=ji);Br.registerComponent("MenuItem",Pa);var Ia=function(e){function t(t,n){var r,i=n.track,a=t.textTracks();n.label=i.label||i.language||"Unknown",n.selected="showing"===i.mode,(r=e.call(this,t,n)||this).track=i,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var o,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(g()(r),t)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply(g()(r),t)};return t.on(["loadstart","texttrackchange"],s),a.addEventListener("change",s),a.addEventListener("selectedlanguagechange",u),r.on("dispose",(),void 0===a.onchange&&r.on(["tap","click"],(),r.handleTracksChange(),r}y()(t,e);var n=t.prototype;return n.handleClick=n.handleTracksChange=n.handleSelectedLanguageChange=n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Pa);Br.registerComponent("TextTrackMenuItem",Ia);var ka=Ia);Br.registerComponent("OffTextTrackMenuItem",ka);var Da=Aa);Br.registerComponent("TextTrackButton",Da);var Ma=Pa);Br.registerComponent("ChaptersTrackMenuItem",Ma);var La=Da);La.prototype.kind_="chapters",La.prototype.controlText_="Chapters",Br.registerComponent("ChaptersButton",La);var Na=Da);Na.prototype.kind_="descriptions",Na.prototype.controlText_="Descriptions",Br.registerComponent("DescriptionsButton",Na);var xa=Da);xa.prototype.kind_="subtitles",xa.prototype.controlText_="Subtitles",Br.registerComponent("SubtitlesButton",xa);var Fa=Ia);Br.registerComponent("CaptionSettingsMenuItem",Fa);var Ua=Da);Ua.prototype.kind_="captions",Ua.prototype.controlText_="Captions",Br.registerComponent("CaptionsButton",Ua);var Ba=Ia);Br.registerComponent("SubsCapsMenuItem",Ba);var ja=function(e){()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=t}(Da);ja.prototype.kinds_=["captions","subtitles"],ja.prototype.controlText_="Subtitles",Br.registerComponent("SubsCapsButton",ja);var Ga=Pa);Br.registerComponent("AudioTrackMenuItem",Ga);var Ha=Aa);Ha.prototype.controlText_="Audio Track",Br.registerComponent("AudioTrackButton",Ha);var Va=Pa);Va.prototype.contentElType="button",Br.registerComponent("PlaybackRateMenuItem",Va);var qa=Oa);qa.prototype.controlText_="Playback Rate",Br.registerComponent("PlaybackRateMenuButton",qa);var Ka=Br);Br.registerComponent("Spacer",Ka);var za=Ka);Br.registerComponent("CustomControlSpacer",za);var Ya=Br);Ya.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in d.a&&Ya.prototype.options_.children.splice(Ya.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Br.registerComponent("ControlBar",Ya);var Wa=$r);Wa.prototype.options_=h()({},$r.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Br.registerComponent("ErrorDisplay",Wa);var Xa=["#000","Black"],Qa=["#00F","Blue"],$a=["#0FF","Cyan"],Ja=["#0F0","Green"],Za=["#F0F","Magenta"],eo=["#F00","Red"],to=["#FFF","White"],no=["#FF0","Yellow"],ro=["1","Opaque"],io=["0.5","Semi-Transparent"],ao=["0","Transparent"],oo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Xa,to,eo,Ja,Qa,no,Za,$a]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ro,io,ao]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[to,Xa,eo,Ja,Qa,no,Za,$a]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:,textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ro,io]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ao,io,ro]}};o.windowColor.options=oo.backgroundColor.options;var uo=$r);Br.registerComponent("TextTrackSettings",uo);var lo=function(e){function t(t,n){var r,i=n.ResizeObserver||l.a.ResizeObserver;null===n.ResizeObserver&&(i=!1);var a=Lr({createEl:!i,reportTouchActivity:!1},n);return(r=e.call(this,t,a)||this).ResizeObserver=n.ResizeObserver||l.a.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,t,n,r){var i;void 0===r&&(r=l.a);var a=function(){var a=this,o=arguments,s=();!i&&n&&e.apply(a,o),r.clearTimeout(i),i=r.setTimeout(s,t)};return a.cancel=a}((function(){r.resizeHandler()}),100,!1,g()(r)),i?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=r.one("load",r.loadListener_)),r}y()(t,e);var n=t.prototype;return n.createEl=n.resizeHandler=n.dispose=t}(Br);Br.registerComponent("ResizeManager",lo);var co={trackingThreshold:30,liveTolerance:15},fo=Br);Br.registerComponent("LiveTracker",fo);var ho,po=go=Object.defineProperty({},"innerHTML",{get:set:),mo=yo=vo=Object.defineProperty({},"src",{get:set:),_o=bo=To=function(e){()(t,e);var n=t.prototype;return n.dispose=n.setupSourcesetHandling_=n.restoreMetadataTracksInIOSNativePlayer_=n.overrideNative_=n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=n.proxyNativeTracksForType_=n.proxyNativeTracks_=n.createEl=n.handleLateInit_=n.setScrubbing=n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=n.duration=n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=n.supportsFullScreen=n.enterFullScreen=n.exitFullScreen=n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=n.reset=n.currentSrc=n.setControls=n.addTextTrack=n.createRemoteTextTrack=n.addRemoteTextTrack=n.removeRemoteTextTrack=n.getVideoPlaybackQuality=t}(Oi);bo(To,"TEST_VID",(),To.isSupported=To.canPlayType=To.canPlaySource=To.canControlVolume=To.canMuteVolume=To.canControlPlaybackRate=To.canOverrideAttributes=To.supportsNativeTextTracks=To.supportsNativeVideoTracks=function(){return!(!To.TEST_VID||!To.TEST_VID.videoTracks)},To.supportsNativeAudioTracks=To.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((),To.prototype.movingMediaElementInDOM=!hn,To.prototype.featuresFullscreenResize=!0,To.prototype.featuresProgressEvents=!0,To.prototype.featuresTimeupdateEvents=!0,To.patchCanPlayType=To.unpatchCanPlayType=To.patchCanPlayType(),To.disposeMediaElement=To.resetMediaElement=["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((),["pause","load","play"].forEach((),Oi.withSourceHandlers(To),To.nativeSourceHandler={},To.nativeSourceHandler.canPlayType=To.nativeSourceHandler.canHandleSource=To.nativeSourceHandler.handleSource=To.nativeSourceHandler.dispose=function(){},To.registerSourceHandler(To.nativeSourceHandler),Oi.registerTech("Html5",To);var Eo=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],So={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},wo=["tiny","xsmall","small","medium","large","xlarge","huge"],Co={};wo.forEach(();var Oo={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ao=function(e){function t(n,r,i){var a;if(n.id=n.id||r.id||"vjs_video_"+rr(),(r=Gt(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var o=n.closest("[lang]");o&&o.getAttribute&&(r.language=o.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(In(s).hasOwnProperty("lang")){r.language=s.getAttribute("lang");break}s=s.parentNode}if((a=e.call(this,null,r,i)||this).boundDocumentFullscreenChange_=function(e){return a.documentFullscreenChange_(e)},a.boundFullWindowOnEscKey_=function(e){return a.fullWindowOnEscKey(e)},a.boundUpdateStyleEl_=function(e){return a.updateStyleEl_(e)},a.boundApplyInitTime_=function(e){return a.applyInitTime_(e)},a.boundUpdateCurrentBreakpoint_=function(e){return a.updateCurrentBreakpoint_(e)},a.boundHandleTechClick_=function(e){return a.handleTechClick_(e)},a.boundHandleTechDoubleClick_=function(e){return a.handleTechDoubleClick_(e)},a.boundHandleTechTouchStart_=function(e){return a.handleTechTouchStart_(e)},a.boundHandleTechTouchMove_=function(e){return a.handleTechTouchMove_(e)},a.boundHandleTechTouchEnd_=function(e){return a.handleTechTouchEnd_(e)},a.boundHandleTechTap_=function(e){return a.handleTechTap_(e)},a.isFullscreen_=!1,a.log=Ft(a.id_),a.fsApi_=It,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&In(n),a.language(a.options_.language),r.languages){var u={};Object.getOwnPropertyNames(r.languages).forEach((),a.languages_=u}else a.languages_=t.prototype.options_.languages;a.resetCache_(),a.poster_=r.poster||"",a.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((),a.scrubbing_=!1,a.el_=a.createEl(),Pr(g()(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(cr(d.a,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var l=Lr(a.options_);r.plugins&&Object.keys(r.plugins).forEach((),r.debug&&a.debug(!0),a.options_.playerOptions=l,a.middleware_=[],a.playbackRates(r.playbackRates),a.initChildren(),a.isAudio("audio"===n.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),cn&&a.addClass("vjs-touch-enabled"),hn||a.addClass("vjs-workinghover"),t.players[a.id_]=g()(a);var c="7.16.0".split(".")[0];return a.addClass("vjs-v"+c),a.userActive(!0),a.reportUserActivity(),a.one("play",(function(e){return a.listenForUserActivity_(e)})),a.on("stageclick",(function(e){return a.handleStageClick_(e)})),a.on("keydown",(function(e){return a.handleKeyDown(e)})),a.on("languagechange",(function(e){return a.handleLanguagechange(e)})),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}y()(t,e);var n=t.prototype;return n.dispose=n.createEl=n.crossOrigin=n.width=function(e){return this.dimension("width",e)},n.height=n.dimension=n.fluid=n.fill=n.aspectRatio=n.updateStyleEl_=n.loadTech_=n.unloadTech_=n.tech=n.addTechControlsListeners_=n.removeTechControlsListeners_=n.handleTechReady_=n.handleTechLoadStart_=n.manualAutoplay_=n.updateSourceCaches_=n.handleTechSourceset_=n.hasStarted=n.handleTechPlay_=n.handleTechRateChange_=n.handleTechWaiting_=n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=n.handleTechPause_=n.handleTechEnded_=n.handleTechDurationChange_=n.handleTechClick_=n.handleTechDoubleClick_=n.handleTechTap_=n.handleTechTouchStart_=n.handleTechTouchMove_=n.handleTechTouchEnd_=n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=n.handleTechFullscreenChange_=n.handleTechFullscreenError_=n.togglePictureInPictureClass_=n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=n.handleTechTextData_=n.getCache=function(){return this.cache_},n.resetCache_=n.techCall_=n.techGet_=n.play=n.play_=n.runPlayTerminatedQueue_=n.runPlayCallbacks_=n.pause=function(){this.techCall_("pause")},n.paused=n.played=n.scrubbing=n.currentTime=n.applyInitTime_=n.duration=n.remainingTime=n.remainingTimeDisplay=n.buffered=n.bufferedPercent=n.bufferedEnd=n.volume=n.muted=n.defaultMuted=n.lastVolume_=n.supportsFullScreen=n.isFullscreen=n.requestFullscreen=n.requestFullscreenHelper_=n.exitFullscreen=n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=d.a[this.fsApi_.exitFullscreen]();return t&&Yr(t.then(()),t}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=n.fullWindowOnEscKey=n.exitFullWindow=n.disablePictureInPicture=n.isInPictureInPicture=n.requestPictureInPicture=n.exitPictureInPicture=n.handleKeyDown=n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return T.a.isEventKey(e,"f")}:n,i=t.muteKey,a=void 0===i?i,o=t.playPauseKey,s=void 0===o?o;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var u=Br.getComponent("FullscreenToggle");!1!==d.a[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else a.call(this,e)?(e.preventDefault(),e.stopPropagation(),Br.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Br.getComponent("PlayToggle").prototype.handleClick.call(this,e))},n.canPlayType=n.selectSource=n.handleSrc_=n.src=n.src_=n.load=function(){this.techCall_("load")},n.reset=n.doReset_=n.resetControlBarUI_=n.resetProgressBar_=n.resetPlaybackRate_=n.resetVolumeBar_=n.currentSources=n.currentSource=n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=n.playsinline=n.loop=n.poster=n.handleTechPosterChange_=n.controls=n.usingNativeControls=n.error=n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=n.listenForUserActivity_=n.playbackRate=n.defaultPlaybackRate=n.isAudio=n.addTextTrack=n.addRemoteTextTrack=n.removeRemoteTextTrack=n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=n.language=n.languages=n.toJSON=n.createModal=n.updateCurrentBreakpoint_=n.removeCurrentBreakpoint_=n.breakpoints=n.responsive=n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=n.loadMedia=n.getMedia=t.getTagSettings=n.flexNotSupported_=n.debug=n.playbackRates=t}(Br);Ci.names.forEach((),Ao.prototype.crossorigin=Ao.prototype.crossOrigin,Ao.players={};var Ro=l.a.navigator;Ao.prototype.options_={techOrder:Oi.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ro&&(Ro.languages&&Ro.languages[0]||Ro.userLanguage||Ro.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((),Eo.forEach((),Br.registerComponent("Player",Ao);var Po={},Io=function(e){return Po.hasOwnProperty(e)},ko=Do=Mo=Lo=No=);No.getPlugin=ko,No.BASE_PLUGIN_NAME="plugin",No.registerPlugin("plugin",No),Ao.prototype.usingPlugin=Ao.prototype.hasPlugin=var xo=f(Fo.hooks_=At,Fo.hooks=Rt,Fo.hook=Fo.hookOnce=Fo.removeHook=Pt,!0!==l.a.VIDEOJS_NO_DYNAMIC_STYLE&&vn()){var Uo=zn(".vjs-styles-defaults");if(!Uo){Uo=er("vjs-styles-defaults");var Bo=zn("head");Bo&&Bo.insertBefore(Uo,Bo.firstChild),tr(Uo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}$n(1,Fo),Fo.VERSION="7.16.0",Fo.options=Ao.prototype.options_,Fo.getPlayers=function(){return Ao.players},Fo.getPlayer=Fo.getAllPlayers=Fo.players=Ao.players,Fo.getComponent=Br.getComponent,Fo.registerComponent=Fo.getTech=Oi.getTech,Fo.registerTech=Oi.registerTech,Fo.use=function(e,t){Ai[e]=Ai[e]||[],Ai[e].push(t)},Object.defineProperty(Fo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Fo.middleware,"TERMINATOR",{value:Pi,writeable:!1,enumerable:!0}),Fo.browser=gn,Fo.TOUCH_ENABLED=cn,Fo.extend=Fo.mergeOptions=Lr,Fo.bind=yr,Fo.registerPlugin=No.registerPlugin,Fo.deregisterPlugin=No.deregisterPlugin,Fo.plugin=Fo.getPlugins=No.getPlugins,Fo.getPlugin=No.getPlugin,Fo.getPluginVersion=No.getPluginVersion,Fo.addLanguage=Fo.log=xt,Fo.createLogger=Ft,Fo.createTimeRange=Fo.createTimeRanges=Hr,Fo.formatTime=Zi,Fo.setFormatTime=function(e){Ji=e},Fo.resetFormatTime=Fo.parseUrl=fi,Fo.isCrossOrigin=gi,Fo.EventTarget=_r,Fo.on=cr,Fo.one=hr,Fo.off=dr,Fo.trigger=fr,Fo.xhr=S.a,Fo.TextTrack=_i,Fo.AudioTrack=bi,Fo.VideoTrack=Ti,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((),Fo.computedStyle=qt,Fo.dom=Wn,Fo.url=mi,Fo.defineLazyProperty=bo,Fo.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var jo=D,Go=Ho=Vo=qo=Ko=zo=Yo=Wo=Xo=Qo=Fo.createTimeRange,$o=Jo=Zo=function(e){var t=e.preloadSegment;if(t){var n=t.parts,r=(t.preloadHints||[]).reduce((,0);return r+(n&&n.length?n.length:0)}},es=ts=ns=rs=is=as=os=ss=us=ls=cs=function(e,t){return!(!e&&!t||!e&&t||e&&!t)&&(e===t||!(!e.id||!t.id||e.id!==t.id)||!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))},ds=fs=hs={liveEdgeDelay:es,duration:ns,seekable:getMediaInfoForTime:isEnabled:ss,isDisabled:function(e){return e.disabled},isBlacklisted:as,isIncompatible:os,playlistEnd:is,isAes:hasAttribute:us,estimateSegmentRequestTime:isLowestEnabledRendition:ls,isAudioOnly:fs,playlistMatch:cs},ps=Fo.log,gs=ms=ys=vs=_s=Fo.mergeOptions,bs=Fo.EventTarget,Ts=Es=Ss=ws=Cs=Os=As=function(e){()(t,e);var n=t.prototype;return n.handleMediaupdatetimeout_=n.playlistRequestError=n.parseManifest_=n.haveMetadata=function(e){var t=e.playlistString,n=e.playlistObject,r=e.url,i=e.id;this.request=null,this.state="HAVE_METADATA";var a=n||this.parseManifest_({url:r,manifestString:t});a.lastRequest=Date.now(),ys({playlist:a,uri:r,id:i});var o=Cs(this.master,a);this.targetDuration=a.partTargetDuration||a.targetDuration,o?(this.master=o,this.media_=this.master.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Os(this.media(),!!o)),this.trigger("loadedplaylist")},n.dispose=n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(l.a.clearTimeout(this.finalRenditionTimeout),t){var r=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=l.a.setTimeout(this.media.bind(this,e,!1),r)}else{var i=this.state,a=!this.media_||e.id!==this.media_.id,o=this.master.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Os(e,!0)),a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},()}}},n.pause=n.load=n.updateMediaUpdateTimeout_=n.start=n.srcUri=n.setupInitialPlaylist=t}(bs),Rs=Fo.xhr,Ps=Fo.mergeOptions,Is=ks=Ds=Ms=Ls=Ns=xs=Fs=Us=function(e){return e.resolvedUri},Bs=js=Object.freeze({__proto__:null,createTransferableMessage:xs,initSegmentId:Fs,segmentKeyId:Us,hexDump:Bs,tagDump:textRanges:),Gs=Hs=Vs=qs=Ks=Fo.EventTarget,zs=Fo.mergeOptions,Ys=Ws=Xs=Qs=function(e){()(t,e);var n=t.prototype;return n.requestErrored_=n.addSidxSegments_=n.dispose=n.hasPendingRequest=n.stopRequest=n.media=n.haveMetadata=n.pause=n.load=n.start=n.requestMaster_=n.syncClientServerClock_=n.haveMaster_=n.handleMaster_=function(){this.mediaRequest_=null;var e,t,n,r,i,a,o=(t=(e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}).masterXml,n=e.srcUrl,r=e.clientOffset,i=e.sidxMapping,a=Ke(t,{manifestUri:n,clientOffset:r,sidxMapping:i}),vs(a,n),a),s=this.masterPlaylistLoader_.master;s&&(o=s,o,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=o||s;var u=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return u&&u!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=u),(!s||o&&o.minimumUpdatePeriod!==s.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(o)},n.updateMinimumUpdatePeriodTimeout_=n.createMUPTimeout_=n.refreshXml_=n.refreshMedia_=t}(Ks),$s={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Js=Zs=eu=tu=nu=Zs(eu(tu((function(){var e=e.prototype.pipe=e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,n,r,i,a,o,s,u,l,c,d,f,h,p,g,m,y,v,_,b,T,E,S,w,C,O,A,R,P,I,k,D,M,L,N,x,F,U,B,j,G=e,H=Math.pow(2,32)-1;!),t=n=r=g=p=h=a=o=s=u=l=c=m=y=v=x=F=f=_=d=b=j=B=U=T=i=var V,q,K,z,Y,W,X,Q,$=function(e){return t(E.mdat,e)},J=s,Z=ee=te=ne=re=ie=ae=oe=[33,16,5,32,164,27],se=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ue=le=W=X=Q=var ce=9e4,de=q=function(e){return 9e4*e},fe=(K=z=,he=(Y=W),pe=X,ge=Q,me=ye=ve=_e=be=ce,Te=Ee=Se=we=Ce=Oe=Ae=function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n},Re=4,Pe=(Pe.prototype=new G).push=Pe.prototype.flushCCStreams=Pe.prototype.flushStream=Pe.prototype.flush=function(){return this.flushStream("flush")},Pe.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Pe.prototype.reset=Pe.prototype.dispatchCea608Packet=Pe.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Pe.prototype.setsChannel2Active=Pe.prototype.setsTextOrXDSActive=Pe.prototype.dispatchCea708Packet=var Ie={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ke=De=De.prototype.reset=De.prototype.getText=De.prototype.clearText=De.prototype.newLine=De.prototype.isEmpty=De.prototype.addText=De.prototype.backspace=var Me=Me.prototype.init=Me.prototype.setCurrentWindow=Me.prototype.createTextDecoder=var Le=Le.prototype=new G,Le.prototype.new708Packet=Le.prototype.add708Bytes=Le.prototype.push708Packet=Le.prototype.pushServiceBlock=Le.prototype.extendedCommands=Le.prototype.getPts=Le.prototype.initService=Le.prototype.handleText=Le.prototype.multiByteCharacter=Le.prototype.setCurrentWindow=Le.prototype.defineWindow=Le.prototype.setWindowAttributes=Le.prototype.flushDisplayed=Le.prototype.pushCaption=Le.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=1);return e},Le.prototype.hideWindows=Le.prototype.toggleWindows=Le.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].clearText();return e},Le.prototype.deleteWindows=Le.prototype.setPenAttributes=Le.prototype.setPenColor=Le.prototype.setPenLocation=Le.prototype.reset=var Ne={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},xe=Fe=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ue=Be=Be.prototype=new G,Be.prototype.flushDisplayed=Be.prototype.reset=Be.prototype.setConstants=Be.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Be.prototype.isExtCharacter=Be.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Be.prototype.isOffsetControlCode=Be.prototype.isPAC=Be.prototype.isColorPAC=Be.prototype.isNormalChar=Be.prototype.setRollUp=Be.prototype.addFormatting=Be.prototype.clearFormatting=Be.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Be.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Be.prototype.shiftRowsUp_=Be.prototype.paintOn=var je={CaptionStream:Pe,Cea608Stream:Be,Cea708Stream:Le},Ge={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},He=Ve=Ve.prototype=new G;var qe,Ke=Ve,ze=He,Ye=We=Xe=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Qe={TXXX:WXXX:PRIV:;(qe=.prototype=new G;var $e,Je,Ze,et=qe,tt=Ke;($e=.prototype=new G,(Je=.prototype=new G,Je.STREAM_TYPES={h264:27,adts:15},(Ze=.prototype=new G;var nt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:$e,TransportParseStream:Je,ElementaryStream:Ze,TimestampRolloverStream:tt,CaptionStream:je.CaptionStream,Cea608Stream:je.Cea608Stream,Cea708Stream:je.Cea708Stream,MetadataStream:et};for(var rt in Ge)Ge.hasOwnProperty(rt)&&(nt[rt]=Ge[rt]);var it,at=nt,ot=ce,st=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(it=.prototype=new G;var ut,lt,ct,dt=it,ft=(lt=.prototype=new G,ct={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ut=.prototype=new G;var ht,pt={H264Stream:ut,NalByteStream:lt},gt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],mt=yt=vt={isLikelyAacData:parseId3TagSize:mt,parseAdtsSize:parseType:parseSampleRate:parseAacTimestamp:;(ht=.prototype=new G;var _t,bt,Tt,Et,St=ht,wt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ct=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ot=pt.H264Stream,At=vt.isLikelyAacData,Rt=ce,Pt=It=(bt=.prototype=new G,(_t=.prototype=new G,(Et=.prototype=new G,Et.prototype.flush=Et.prototype.setRemux=function(e){this.remuxTracks=e},(Tt=.prototype=new G;var kt,Dt,Mt,Lt={Transmuxer:Tt,VideoSegmentStream:_t,AudioSegmentStream:bt,AUDIO_PROPERTIES:wt,VIDEO_PROPERTIES:Ct,generateSegmentTimingInfo:It},Nt=xt=Ft=Nt,Ut=Bt=Nt,jt=Gt=Ht=Vt=qt=Ae,Kt=je.CaptionStream,zt=Yt=Wt=Xt=Nt,Qt=kt=Dt=var $t=kt,Jt=Dt,Zt=(Mt=,en=tn=nn=rn={parseType:parsePat:parsePmt:parsePayloadUnitStartIndicator:en,parsePesType:parsePesTime:videoPacketContainsKeyFrame:,an=ze,on={};on.ts=rn,on.aac=vt;var sn=ce,un=function(e,t,n){for(var r,i,a,o,s=0,u=188,l=!1;u<=e.byteLength;)if(71!==e[s]||71!==e[u]&&u!==e.byteLength)s++,u++;else{if("pes"===(r=e.subarray(s,u),on.ts.parseType(r,t.pid))&&(i=on.ts.parsePesType(r,t.table),a=on.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(o=on.ts.parsePesTime(r))&&(o.type="audio",n.audio.push(o),l=!0)),l)break;s+=188,u+=188}for(s=(u=e.byteLength)-188,l=!1;s>=0;)if(71!==e[s]||71!==e[u]&&u!==e.byteLength)s--,u--;else{if("pes"===(r=e.subarray(s,u),on.ts.parseType(r,t.pid))&&(i=on.ts.parsePesType(r,t.table),a=on.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(o=on.ts.parsePesTime(r))&&(o.type="audio",n.audio.push(o),l=!0)),l)break;s-=188,u-=188}},ln=function(e,t,n){for(var r,i,a,o,s,u,l,c=0,d=188,f=!1,h={data:[],size:0};d<e.byteLength;)if(71!==e[c]||71!==e[d])c++,d++;else{if("pes"===(r=e.subarray(c,d),on.ts.parseType(r,t.pid))&&(i=on.ts.parsePesType(r,t.table),a=on.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!f&&(o=on.ts.parsePesTime(r))&&(o.type="video",n.video.push(o),f=!0),!n.firstKeyFrame))){if(a&&0!==h.size){for(s=new Uint8Array(h.size),u=0;h.data.length;)l=h.data.shift(),s.set(l,u),u+=l.byteLength;if(on.ts.videoPacketContainsKeyFrame(s)){var p=on.ts.parsePesTime(s);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}h.size=0}h.data.push(r),h.size+=r.byteLength}if(f&&n.firstKeyFrame)break;c+=188,d+=188}for(c=(d=e.byteLength)-188,f=!1;c>=0;)if(71!==e[c]||71!==e[d])c--,d--;else{if("pes"===(r=e.subarray(c,d),on.ts.parseType(r,t.pid))&&(i=on.ts.parsePesType(r,t.table),a=on.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(o=on.ts.parsePesTime(r))&&(o.type="video",n.video.push(o),f=!0)),f)break;c-=188,d-=188}},cn=function(e){var t={pid:null,table:null},n={};for(var r in e,t),t.table)if(t.table.hasOwnProperty(r))switch(t.table[r]){case Ge.H264_STREAM_TYPE:n.video=[],ln(e,t,n),0===n.video.length&&delete n.video;break;case Ge.ADTS_STREAM_TYPE:n.audio=[],un(e,t,n),0===n.audio.length&&delete n.audio}return n},dn=fn=);self.onmessage=)))),ru=iu=au=ou=su=uu=lu=cu=du=2,fu=-101,hu=-102,pu=gu=mu=yu=vu=_u=bu=Tu=Eu=Su=wu=Cu=Ho("CodecUtils"),Ou=Au=Ru=Pu=Iu=Ho("PlaylistSelector"),ku=Du=Mu=Lu=function(e,t){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||l.a.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r||l.a.Number.MAX_VALUE)},Nu=xu=Fu=Uu=Bu=ju=Gu=Hu=Vu=qu=Ku=function(e){()(t,e);var n=t.prototype;return n.createTransmuxer_=n.resetStats_=n.dispose=n.setAudio=n.abort=n.abort_=n.checkForAbort_=n.error=n.endOfStream=n.buffered_=n.initSegmentForMap=n.segmentKey=n.couldBeginLoading_=n.load=n.init_=n.playlist=n.pause=n.paused=n.resetEverything=n.resetLoader=n.resyncLoader=n.remove=n.monitorBuffer_=n.monitorBufferTick_=n.fillBuffer_=n.isEndOfStream_=n.chooseNextRequest_=function(){var e=Wo(this.buffered_())||0,t=Math.max(0,e-this.currentTime_()),n=!this.hasPlayed_()&&t>=1,r=t>=this.goalBufferLength_(),i=this.playlist_.segments;if(!i.length||n||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(a.isSyncRequest)a.mediaIndex=this.currentTimeline_,i,e);else if(null!==this.mediaIndex){var o=i[this.mediaIndex],s="number"==typeof this.partIndex?this.partIndex:-1;a.startOfSegment=o.end?o.end:e,o.parts&&o.parts[s+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=s+1):a.mediaIndex=this.mediaIndex+1}else{var u=hs.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?e:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),l=u.segmentIndex,c=u.startTime,d=u.partIndex;a.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd":"currentTime",a.mediaIndex=l,a.startOfSegment=c,a.partIndex=d}var f=i[a.mediaIndex],h=f&&"number"==typeof a.partIndex&&f.parts&&f.parts[a.partIndex];if(!f||"number"==typeof a.partIndex&&!h)return null;"number"!=typeof a.partIndex&&f.parts&&(a.partIndex=0);var p=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return a.mediaIndex>=i.length-1&&p&&!this.seeking_()?null:this.generateSegmentInfo_(a)},n.generateSegmentInfo_=n.timestampOffsetForSegment_=n.earlyAbortWhenNeeded_=n.handleAbort_=n.handleProgress_=n.handleTrackInfo_=n.handleTimingInfo_=n.handleCaptions_=n.handleId3_=n.processMetadataQueue_=n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=n.hasEnoughInfoToLoad_=n.getCurrentMediaInfo_=n.getMediaInfo_=n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed;return!(r&&!e.videoTimingInfo)&&!(n&&!this.audioDisabled_&&!i&&!e.audioTimingInfo)&&!Hu({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},n.handleData_=n.updateAppendInitSegmentStatus=n.getInitSegmentAndUpdateState_=n.handleQuotaExceededError_=n.handleAppendError_=n.appendToSourceBuffer_=n.handleSegmentTimingInfo_=n.appendData_=n.loadSegment_=n.updateTransmuxerAndRequestSegment_=n.trimBackBuffer_=n.createSimplifiedSegmentObj_=n.saveTransferStats_=n.saveBandwidthRelatedStats_=n.handleTimeout_=n.segmentRequestFinished_=n.setTimeMapping_=n.updateMediaSecondsLoaded_=n.shouldUpdateTransmuxerTimestampOffset_=n.trueSegmentStart_=n.waitForAppendsToComplete_=n.checkAppendsDone_=n.checkForIllegalMediaSwitch=n.updateSourceBufferTimestampOffset_=n.updateTimingInfoEnd_=n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=qu(e,this.sourceType_);if(t&&("warn"===t.severity?Fo.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+ju(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment;n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration?this.resetEverything():(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_())}else this.logger_("Throwing away un-appended sync request "+ju(e))},n.recordThroughput_=n.addSegmentMetadataCue_=t}(Fo.EventTarget);function zu(){}var Yu,Wu=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},Xu=["video","audio"],Qu=$u=Ju=Zu=el=tl=nl=rl=il=al=ol=sl=ul=ll=cl=dl=fl=Fo.EventTarget),hl=pl=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),gl=function(e){()(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=n.initSegmentForMap=n.couldBeginLoading_=n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=n.remove=n.fillBuffer_=n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=n.skipEmptySegments_=n.stopForError=n.segmentRequestFinished_=n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=n.updateTimeMapping_=t}(Ku),ml=yl=[{name:"VOD",run:,{name:"ProgramDateTime",run:,{name:"Segment",run:,{name:"Discontinuity",run:,{name:"Playlist",run:],vl=Fo.EventTarget),_l=Fo.EventTarget),bl=Zs(eu(tu(())),Tl=El=Sl=wl={AUDIO:SUBTITLES:,Cl={AUDIO:SUBTITLES:,Ol={AUDIO:SUBTITLES:"CLOSED-CAPTIONS":,Al=Rl={AUDIO:SUBTITLES:,Pl=Il=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],kl=Dl=function(e){function t(t){var n;n=e.call(this)||this;var r=t.src,i=t.handleManifestRedirects,a=t.withCredentials,o=t.tech,s=t.bandwidth,u=t.externVhs,c=t.useCueTags,d=t.blacklistDuration,f=t.enableLowInitialPlaylist,h=t.sourceType,p=t.cacheEncryptionKeys,m=t.experimentalBufferBasedABR,y=t.experimentalLeastPixelDiffSelector,v=t.captionServices;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");var _=t.maxPlaylistRetries;null==_&&(_=1/0),Yu=u,n.experimentalBufferBasedABR=Boolean(m),n.experimentalLeastPixelDiffSelector=Boolean(y),n.withCredentials=a,n.tech_=o,n.vhs_=o.vhs,n.sourceType_=h,n.useCueTags_=c,n.blacklistDuration=d,n.maxPlaylistRetries=_,n.enableLowInitialPlaylist=f,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:a,handleManifestRedirects:i,maxPlaylistRetries:_,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=),n.mediaSource=new l.a.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(g()(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(g()(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(g()(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Fo.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new vl(t),n.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new bl,n.sourceUpdater_=new fl(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new _l;var b={vhs:n.vhs_,parse708captions:t.parse708captions,captionServices:v,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:s,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:p,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new Qs(r,n.vhs_,n.requestOptions_):new As(r,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Ku(Fo.mergeOptions(b,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new Ku(Fo.mergeOptions(b,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new gl(Fo.mergeOptions(b,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),t),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",(function(){return n.startABRTimer_()})),n.tech_.on("pause",(function(){return n.stopABRTimer_()})),n.tech_.on("play",(function(){return n.startABRTimer_()}))),Il.forEach((),n.logger_=Ho("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var T="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(T,(),n}y()(t,e);var n=t.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=n.switchMedia_=n.startABRTimer_=n.stopABRTimer_=n.getAudioTrackPlaylists_=n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(),this.masterPlaylistLoader_.on("loadedplaylist",(),this.masterPlaylistLoader_.on("error",(),this.masterPlaylistLoader_.on("mediachanging",(),this.masterPlaylistLoader_.on("mediachange",(),this.masterPlaylistLoader_.on("playlistunchanged",(),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=n.triggerPresenceUsage_=n.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media(),n=this.tech_.buffered();return function(e){var t=e.currentPlaylist,n=e.nextPlaylist,r=e.forwardBuffer,i=e.bufferLowWaterLine,a=e.bufferHighWaterLine,o=e.duration,s=e.experimentalBufferBasedABR,u=e.log;if(!n)return Fo.log.warn("We received no playlist to switch to. Please check your stream."),!1;var l="allowing switch "+(t&&t.id||"null")+" -> "+n.id;if(!t)return u(l+" as current playlist is not set"),!0;if(n.id===t.id)return!1;if(!t.endList)return u(l+" as current playlist is live"),!0;var c=s?$s.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:$s.MAX_BUFFER_LOW_WATER_LINE;if(o<c)return u(l+" as duration < max low water line ("+o+" < "+c+")"),!0;var d=n.attributes.BANDWIDTH,f=t.attributes.BANDWIDTH;if(d<f&&(!s||r<a)){var h=l+" as next bandwidth < current bandwidth ("+d+" < "+f+")";return s&&(h+=" and forwardBuffer < bufferHighWaterLine ("+r+" < "+a+")"),u(h),!0}if((!s||d>f)&&r>=i){var p=l+" as forwardBuffer >= bufferLowWaterLine ("+r+" >= "+i+")";return s&&(p+=" and next bandwidth > current bandwidth ("+d+" > "+f+")"),u(p),!0}return u("not "+l+" as no switching criteria met"),!1}({currentPlaylist:t,nextPlaylist:e,forwardBuffer:n.length?n.end(n.length-1)-this.tech_.currentTime():0,bufferLowWaterLine:this.bufferLowWaterLine(),bufferHighWaterLine:this.bufferHighWaterLine(),duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=n.mediaSecondsLoaded_=n.load=n.smoothQualityChange_=n.fastQualityChange_=n.play=n.setupFirstPlay=n.handleSourceOpen_=n.handleSourceEnded_=n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=n.stuckAtPlaylistEnd_=n.blacklistCurrentPlaylist=n.pauseLoading=n.delegateLoaders_=n.setCurrentTime=n.duration=n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=n.updateDuration=n.dispose=n.master=function(){return this.masterPlaylistLoader_.master},n.media=n.areMediaTypesKnown_=n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var n=Pu(this.master(),this.media()),r={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=n.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(r.video+=","+(n.audio||t.main.audioCodec||"mp4a.40.2")),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||i)&&(r.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||"mp4a.40.2",t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),r.audio||r.video){var a,o={};if(["video","audio"].forEach((),i&&a&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((),this.logger_("excluding audio group "+s+" as "+a+' does not support codec(s): "'+r.audio+'"')}if(!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}var l=Object.keys(o).reduce((,"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:l,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=n.excludeUnsupportedVariants_=n.excludeIncompatibleVariants_=n.updateAdCues_=n.goalBufferLength=n.bufferLowWaterLine=n.bufferHighWaterLine=function(){return $s.BUFFER_HIGH_WATER_LINE},t}(Fo.EventTarget),Ml=Ll=["seeking","seeked","pause","playing","error"],Nl=function(){ar t=e.prototype;return t.monitorCurrentTime_=t.resetSegmentDownloads_=t.checkSegmentDownloads_=t.checkCurrentTime_=t.cancelTimer_=t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),this.beforeSeekableWindow_(t,n)){var r=t.start(0);e=r+(r===t.end(0)?0:.1)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+zo(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var i=this.masterPlaylistController_.sourceUpdater_,a=this.tech_.buffered(),o=i.audioBuffer?i.audioBuffered():null,s=i.videoBuffer?i.videoBuffered():null,u=2*(this.media().targetDuration-1/30),l=[o,s],c=0;c<l.length;c++)if(l[c]&&Xo(l[c],n)<u)return!1;var d=Ko(a,n);return 0!==d.length&&(e=d.start(0)+.1,this.logger_("Buffered region starts ("+d.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=t.techWaiting_=t.afterSeekableWindow_=t.beforeSeekableWindow_=t.videoUnderflow_=t.skipTheGap_=t.gapFromVideoUnderflow_=e}(),xl={errorInterval:30,getSource:,Fl={PlaylistLoader:As,Playlist:hs,utils:js,STANDARD_PLAYLIST_SELECTOR:xu,INITIAL_PLAYLIST_SELECTOR:lastBandwidthSelector:xu,movingAverageBandwidthSelector:comparePlaylistBandwidth:Lu,comparePlaylistResolution:xhr:ks()};Object.keys($s).forEach(();var Ul=Fl.canPlaySource=function(){return Fo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Bl=jl=Gl=Fl.supportsNativeHls=function(){if(!d.a||!d.a.createElement)return!1;var e=d.a.createElement("video");return!!Fo.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(()}(),Fl.supportsNativeDash=!!(d.a&&d.a.createElement&&Fo.getTech("Html5").isSupported())&&/maybe|probably/i.test(d.a.createElement("video").canPlayType("application/dash+xml")),Fl.supportsTypeNatively=Fl.isSupported=var Hl=function(e){()(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Gl();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=$s.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===$s.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var r;this.setOptions_(),this.options_.src=0===(r=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(r.substring(r.indexOf(",")+1)):r,this.options_.tech=this.tech_,this.options_.externVhs=Fl,this.options_.sourceType=ee(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Fo.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Dl(this.options_);var i=Fo.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Nl(i),this.masterPlaylistController_.on("error",();var a=this.options_.experimentalBufferBasedABR?Fl.movingAverageBandwidthSelector(.55):Fl.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):a.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Fl.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:,throughput:{get:set:,bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:,systemBandwidth:{get:set:}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:enumerable:!0},buffered:{get:function(){return Yo(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(),this.masterPlaylistController_.on("selectedinitialmedia",(),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=l.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.setupEme_=n.setupQualityLevels_=t.version=n.version=function(){return this.constructor.version()},n.canChangeType=function(){return fl.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=n.convertToProgramTime=n.seekToProgramTime=t}(Fo.getComponent("Component")),Vl={name:"videojs-http-streaming",VERSION:"2.11.0",canHandleSource:handleSource:canPlayType:;Q("avc1.4d400d,mp4a.40.2")&&Fo.getTech("Html5").registerSourceHandler(Vl,0),Fo.VhsHandler=Hl,Object.defineProperty(Fo,"HlsHandler",{get:function(){return Fo.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Hl},configurable:!0}),Fo.VhsSourceHandler=Vl,Object.defineProperty(Fo,"HlsSourceHandler",{get:function(){return Fo.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Vl},configurable:!0}),Fo.Vhs=Fl,Object.defineProperty(Fo,"Hls",{get:configurable:!0}),Fo.use||(Fo.registerComponent("Hls",Fl),Fo.registerComponent("Vhs",Fl)),Fo.options.vhs=Fo.options.vhs||{},Fo.options.hls=Fo.options.hls||{},Fo.getPlugin&&Fo.getPlugin("reloadSourceOnError")||(Fo.registerPlugin||Fo.plugin)("reloadSourceOnError",();var ql=Fo;ar zl=Yl=Wl=Xl=ql.xhr.httpHandler;Xl||(Xl=;var Ql=function(e,t,n,r){var i=function(e){var t=String.fromCharCode.apply(null,new Uint16Array(e)),n=(new l.a.DOMParser).parseFromString(t,"application/xml"),r=n.getElementsByTagName("HttpHeaders")[0],i={};if(r)for(var a=r.getElementsByTagName("name"),o=r.getElementsByTagName("value"),s=0;s<a.length;s++)i[a[s].childNodes[0].nodeValue]=o[s].childNodes[0].nodeValue;var u,c=n.getElementsByTagName("Challenge")[0];return c&&(u=l.a.atob(c.childNodes[0].nodeValue)),{headers:i,message:u}}(t),a=i.message,o=Wl(i.headers,n.emeHeaders,e.licenseHeaders);ql.xhr({uri:e.url,method:"post",headers:o,body:a,responseType:"arraybuffer"},Xl(r,!0))},$l=function(e){var t;return Object.keys(e).forEach((function(n){var r=e[n]);t=t?t.catch(():l.a.navigator.requestMediaKeySystemAccess(n,r)})),t},Jl=function e(t){var n=t.mediaKeys,r=t.initDataType,i=t.initData,a=t.options,o=t.getLicense,s=t.removeSession,u=t.eventBus,l=n.createSession();return u.trigger("keysessioncreated"),new Promise((function(n,c){l.addEventListener("message",(,!1),l.addEventListener("keystatuseschange",(function(n){var r=!1;l.keyStatuses.forEach((),r&&l.close().then(()}),!1),l.generateRequest(r,i).catch(()}))},Zl=ec=function(e,t){if("string"==typeof t&&(t={url:t}),!t.url&&!t.getLicense)throw new Error("Neither URL nor getLicense function provided to get license");return t.url&&!t.getLicense&&(t.getLicense="com.microsoft.playready"===e?t):function(e){return function(t,n,r){var i=Wl({"Content-type":"application/octet-stream"},t.emeHeaders,e.licenseHeaders);ql.xhr({uri:e.url,method:"POST",responseType:"arraybuffer",body:n,headers:i},Xl(r,!0))}}(t)),t},tc=function(e){var t,n,r=e.video,i=e.initDataType,a=e.initData,o=e.keySystemAccess,s=e.options,u=e.removeSession,l=e.eventBus,c=Promise.resolve();return void 0===r.mediaKeysObject&&(r.mediaKeysObject=null,r.pendingSessionData=[],c=new Promise(().then((function(){return o.createMediaKeys()})).then(().catch(()),c.then((function(){var e=ec(r.keySystem,s.keySystems[r.keySystem]).getLicense;return {video:r,initDataType:i,initData:a,options:s,getLicense:r.keySystem?Zl(e,l):null,removeSession:u,eventBus:l})}))},nc=rc=function(e,t){return i=t,n=String.fromCharCode.apply(null,new Uint16Array(i.buffer)),(r=d.a.createElement("a")).href=n,r.hostname;var n,r,i},ic=function(e){var t=e.video,n=e.initData,r=e.options,i=e.eventBus,a=r.keySystems["com.apple.fps.1_0"],o=a.getCertificate||function(e){return function(t,n){var r=Wl(t.emeHeaders,e.certificateHeaders);ql.xhr({uri:e.certificateUri,responseType:"arraybuffer",headers:r},Xl(())}}(a),s=a.getContentId||rc,u=a.getLicense||function(e){return function(t,n,r,i){var a=Wl({"Content-type":"application/octet-stream"},t.emeHeaders,e.licenseHeaders);ql.xhr({uri:e.licenseUri,method:"POST",responseType:"arraybuffer",body:r,headers:a},Xl(i,!0))}}(a);return new Promise(().then((function(e){return function(e){var t=e.video,n=e.contentId,r=e.initData,i=e.cert,a=e.options,o=e.getLicense,s=e.eventBus;return new Promise((function(e,u){if(!t.webkitKeys)try{t.webkitSetMediaKeys(new l.a.WebKitMediaKeys("com.apple.fps.1_0"))}catch(e){return void u("Could not create MediaKeys")}var c;try{c=t.webkitKeys.createSession("video/mp4",nc({id:n,initData:r,cert:i}))}catch(e){return void u("Could not create key session")}s.trigger("keysessioncreated"),c.contentId=n,c.addEventListener("webkitkeymessage",(),c.addEventListener("webkitkeyadded",(function(){e()})),c.addEventListener("webkitkeyerror",()}))}({video:t,cert:e,initData:n,getLicense:u,options:r,contentId:s(r,n),eventBus:i})}))},ac=function(e,t,n,r){var i=e.msKeys.createSession("video/mp4",t);if(!i)throw new Error("Could not create key session.");r.trigger("keysessioncreated"),i.addEventListener("mskeymessage",(function(e){!function(e,t,n,r){var i=e.keySystems["com.microsoft.playready"];if("function"!=typeof i.getKey){"string"==typeof i?i={url:i}:"boolean"==typeof i&&(i={}),i.url||(i.url=n.destinationURL);var a=i.getLicense?i.getLicense(e,n.message.buffer,a):Ql(i,n.message.buffer,e,a)}else i.getKey(e,n.destinationURL,n.message.buffer,()}(n,i,e,r)})),i.addEventListener("mskeyerror",(),i.addEventListener("mskeyadded",()},oc=sc=function(e,t,n,r){if(!t||!t.keySystems)return Promise.resolve();var i=e.initData;return $l(t.keySystems).then((function(a){var o=a.keySystem;return t.keySystems[o]&&t.keySystems[o].pssh&&(i=t.keySystems[o].pssh),n,i)||!i?Promise.resolve():(n.push({initData:i}),tc({video:e.target,initDataType:e.initDataType,initData:i,keySystemAccess:a,options:t,removeSession:oc.bind(null,n),eventBus:r}))}))},uc=function(e,t,n,r){if(t.keySystems&&t.keySystems["com.microsoft.playready"]&&!n.reduce((,!1)){var i=e.initData;t.keySystems["com.microsoft.playready"]&&t.keySystems["com.microsoft.playready"].pssh&&(i=t.keySystems["com.microsoft.playready"].pssh),i&&(n.push({playready:!0,initData:i}),function(e){var t=e.video,n=e.initData,r=e.options,i=e.eventBus;t.msKeys&&delete t.msKeys;try{t.msSetMediaKeys(new l.a.MSMediaKeys("com.microsoft.playready"))}catch(e){throw new Error("Unable to create media keys for PlayReady key system. Error: "+e.message)}ac(t,n,r,i)}({video:e.target,initData:i,options:t,eventBus:r}))}},lc=cc=dc=function(e,t){if("video"===e.$(".vjs-tech").tagName.toLowerCase())if(cc(e),l.a.WebKitMediaKeys){var n=function(n){cc(e),function(e,t,n){return t.keySystems&&t.keySystems["com.apple.fps.1_0"]&&e.initData?ic({video:e.target,initData:e.initData,options:t,eventBus:n}):Promise.resolve()}(n,lc(e),e.tech_).catch(t)};e.tech_.el_.addEventListener("webkitneedkey",()}else l.a.MediaKeys?e.tech_.el_.addEventListener("encrypted",():l.a.MSMediaKeys&&(e.tech_.el_.addEventListener("msneedkey",(),e.tech_.on("mskeyerror",t),e.on("dispose",())},fc=function(e){void 0===e&&(e={});var t=this,n=t);t.ready((),t.eme={initializeMediaKeys:options:e}};(ql.registerPlugin||ql.plugin)("eme",fc);var hc=n(14),pc=n.n(hc);function gc(e,t){var n=e.dash.mediaPlayer,r=n.getTracksFor("audio"),i=e.audioTracks();unction o(e,t){return e.find(()}i.length&&t.clearTracks(["audio"]);var s=n.getCurrentTrackFor("audio");r.forEach((function(t){var n,r;if(Array.isArray(t.labels))for(var o=0;o<t.labels.length;o++)if(t.labels[o].lang&&-1!==e.language().indexOf(t.labels[o].lang.toLowerCase())){n=t.labels[o];break}n?r=n.text:Array.isArray(t.labels)&&1===t.labels.length?r=t.labels[0].text:(r=t.lang,t.roles&&t.roles.length&&(r+=" ("+t.roles.join(", ")+")")),i.addTrack(new ql.AudioTrack({enabled:t===s,id:a(t.index),kind:t.kind||"main",label:r,language:t.lang}))}));var u=function(){for(var e=0;e<i.length;e++){var t=i[e];if(t.enabled){var a=o(r,t);n.setCurrentTrack(a)}}};i.addEventListener("change",u),e.dash.mediaPlayer.on(pc.a.MediaPlayer.events.STREAM_TEARDOWN_COMPLETE,(function(){i.removeEventListener("change",u)}))}function mc(e,t){e.dash.mediaPlayer.on(pc.a.MediaPlayer.events.PLAYBACK_METADATA_LOADED,gc.bind(null,e,t))}function yc(e,t,n){l.a.VTTCue&&!/\[native code\]/.test(l.a.VTTCue.toString())&&(l.a.VTTCue=!1);var r=[];if(t.featuresNativeTextTracks)ql.log.error("You must pass {html: {nativeCaptions: false}} in the videojs constructor to use text tracks in videojs-contrib-dash");else{var i=e.dash.mediaPlayer;i.on(pc.a.MediaPlayer.events.TEXT_TRACKS_ADDED,a),i.on(pc.a.MediaPlayer.events.CAN_PLAY,(function(){i.off(pc.a.MediaPlayer.events.TEXT_TRACKS_ADDED,a)}))}function a(t){t.index;var n=t.tracks;i.off(pc.a.MediaPlayer.events.TEXT_TRACKS_ADDED,a),r.forEach(e.removeRemoteTextTrack.bind(e)),r=[],n.length&&(r=function(e,t,n){var r=[],i=n.map((function(t){var n;if(Array.isArray(t.labels))for(var r=0;r<t.labels.length;r++)if(t.labels[r].lang&&-1!==e.language().indexOf(t.labels[r].lang.toLowerCase())){n=t.labels[r];break}return{dashTrack:t,trackConfig:{label:n?n.text:Array.isArray(t.labels)&&1===t.labels.length?t.labels[0].text:t.lang||t.label,language:t.lang,srclang:t.lang,kind:t.kind}}})).map((function(t){var n=t.trackConfig,i=t.dashTrack,a=e.addRemoteTextTrack(n,!1);return r.push({textTrack:a.track,dashTrack:i}),a}));function a(){for(var t=e.dash.mediaPlayer,i=e.textTracks(),a=-1,o=function(e){var t=i[e];if("showing"===t.mode){var o=r,(function(e){return e.textTrack===t})),s=o?o.dashTrack:null;s&&(a=n.indexOf(s))}},s=0;s<i.length;s+=1)o(s);a!==t.getCurrentTextTrackIndex()&&t.setTextTrack(a)}return e.textTracks().on("change",a),e.dash.mediaPlayer.on(pc.a.MediaPlayer.events.STREAM_TEARDOWN_COMPLETE,(),a(),i}(e,0,n))}}var vc=function(){function e(t,n,r){var i=this;if(r=r||n.options_,this.player=ql(r.playerId),this.player.dash=this.player.dash||{},this.tech_=n,this.el_=n.el(),this.elParent_=this.el_.parentNode,this.hasFiniteDuration_=!1,t.src){n.isReady_=!1,e.updateSourceData&&(ql.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),t=e.updateSourceData(t)),e.hooks("updatesource").forEach((function(e){t=e(t)}));var a=t.src;this.keySystemOptions_=e.buildDashJSProtData(t.keySystemOptions),this.player.dash.mediaPlayer=pc.a.MediaPlayer().create(),this.mediaPlayer_=this.player.dash.mediaPlayer,this.mediaPlayer_.setTextDefaultEnabled(!1),e.useVideoJSDebug&&(ql.log.warn('useVideoJSDebug has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.useVideoJSDebug(this.mediaPlayer_)),e.beforeInitialize&&(ql.log.warn('beforeInitialize has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.beforeInitialize(this.player,this.mediaPlayer_)),e.hooks("beforeinitialize").forEach((),this.mediaPlayer_.initialize(),this.retriggerError_=this.mediaPlayer_.on(pc.a.MediaPlayer.events.ERROR,this.retriggerError_),this.getDuration_=this.mediaPlayer_.on(pc.a.MediaPlayer.events.MANIFEST_LOADED,this.getDuration_),r.dash&&Object.keys(r.dash).forEach((function(e){var t,n="set"+e.charAt(0).toUpperCase()+e.slice(1),a=r.dash[e];i.mediaPlayer_.hasOwnProperty(n)&&(ql.log.warn("Using dash options in videojs-contrib-dash without the set prefix has been deprecated. Change '"+e+"' to '"+n+"'"),e=n),i.mediaPlayer_.hasOwnProperty(e)?(Array.isArray(a)||(a=[a]),(t=i.mediaPlayer_)[e].apply(t,a)):ql.log.warn("Warning: dash configuration option unrecognized: "+e)})),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setAutoPlay(!1),mc.call(null,this.player,n),yc.call(null,this.player,n,r),this.tech_.seekable=this.seekable.bind(this),this.tech_.setCurrentTime=this.setCurrentTime.bind(this),this.tech_.currentTime=this.currentTime.bind(this),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(a),this.tech_.triggerReady()}}e.buildDashJSProtData=function(e){var t={};if(!e||!Array.isArray(e))return null;for(var n=0;n<e.length;n++){var r=e[n],i=ql.mergeOptions({},r.options);i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),t[r.name]=i}return t};var t=e.prototype;return t.currentTime=function(){return this.mediaPlayer_.isDynamic()?this.mediaPlayer_.time()+this.timeDiffFromStart(this.startTime())+10:this.mediaPlayer_.time()},t.dispose=function(){this.mediaPlayer_&&(this.mediaPlayer_.off(pc.a.MediaPlayer.events.ERROR,this.retriggerError_),this.mediaPlayer_.off(pc.a.MediaPlayer.events.MANIFEST_LOADED,this.getDuration_),this.mediaPlayer_.reset()),this.player.dash&&delete this.player.dash},t.duration=e.hooks=e.hook=function(t,n){e.hooks(t,n)},e.removeHook=t.seekable=function(){if(!this.mediaPlayer_.isReady())return ql.createTimeRange();var e=this.duration(),t=this.mediaPlayer_.getDVRWindowSize(),n=this.timeDiffFromStart(this.startTime());return 0===e?ql.createTimeRange():this.mediaPlayer_.isDynamic()?ql.createTimeRange(n,n+t):ql.createTimeRange(0,e)},t.setCurrentTime=function(e){this.tech_.seekable().length&&this.mediaPlayer_.isDynamic()?this.mediaPlayer_.seek(e-this.timeDiffFromStart(this.startTime())):this.mediaPlayer_.seek(e),this.player.trigger("seeking")},t.startTime=function(){return this.startTime_||(this.startTime_=Date.now()/1e3|0),this.startTime_},t.timeDiffFromStart=function(e){return Date.now()/1e3-e|0},e}();function _c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}vc.hooks_={},ql.DashSourceHandler=function(){return{canHandleSource:function(e){return function(e){e=JSON.parse(JSON.stringify(e)),vc.updateSourceData&&(ql.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),e=vc.updateSourceData(e)),vc.hooks("updatesource").forEach(();var t=d.a.createElement("video");return!(e.keySystemOptions&&!l.a.navigator.requestMediaKeySystemAccess&&!t.msSetMediaKeys)}(e)?ql.DashSourceHandler.canPlayType(e.type)?"probably":/\.mpd/i.test(e.src)?"maybe":"":""},handleSource:canPlayType:function(e){return ql.DashSourceHandler.canPlayType(e)}}},ql.DashSourceHandler.canPlayType=l.a.MediaSource&&ql.getTech("Html5").registerSourceHandler(ql.DashSourceHandler(),0),ql.Html5DashJS=vc;var bc=function e(t){var n=this;if(ql.browser.IS_IE8)for(var r in n=d.a.createElement("custom"),e.prototype)"constructor"!==r&&(n[r]=e.prototype[r]);return n.id=t.id,n.label=n.id,n.width=t.width,n.height=t.height,n.bitrate=t.bandwidth,n.enabled_=t.enabled,Object.defineProperty(n,"enabled",{get:function(){return n.enabled_()},set:function(e){n.enabled_(e)}}),n},Tc=function(e){var t,n;function r(){var t,n=_c(_c(t=e.call(this)||this));if(ql.browser.IS_IE8)for(var i in n=d.a.createElement("custom"),r.prototype)"constructor"!==i&&(n[i]=r.prototype[i]);return n.levels_=[],n.selectedIndex_=-1,Object.defineProperty(n,"selectedIndex",{get:function(){return n.selectedIndex_}}),Object.defineProperty(n,"length",{get:),n||_c(t)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.addQualityLevel=i.removeQualityLevel=i.getQualityLevelById=i.dispose=r}(ql.EventTarget);for(var Ec in Tc.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},Tc.prototype.allowedEvents_)Tc.prototype["on"+Ec]=null;var Sc=function wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(ql.registerPlugin||ql.plugin)("qualityLevels",Sc),Sc.VERSION="2.1.0";var Cc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"aclPath",value:function(e){var t;if(e.href.includes("/hls/playingLive/"))t="/hls/playingLive/*";else{var n=e.pathname;t="".concat(n.substring(0,n.lastIndexOf("/")+1),"*")}return t}},{key:"tokenize",value:function(t,n){var r=new URL("".concat(t.src)),i=e.aclPath(r),a="".concat(n).concat(encodeURIComponent(i)),o={url:a};return fetch(a).then((function(e){return o.httpStatusCode=e.status,o.httpStatusText=e.statusText,e.ok?e.json().then((function(e){return new URLSearchParams(e.token.authparams).forEach((),Object.assign({},t,{src:r.toString(),tokenDiagnostic:o})})):Promise.reject(o)})).catch((function(e){return o.httpStatusText=e.message,Promise.reject(o)}))}},{key:"tokenizeSources",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://tp.srgssr.ch/akahd/token?acl=",r=[];return t.forEach((),Promise.all(r).then((function(e){return e})).catch((function(e){return Promise.reject(e)}))}}],(n=null)&&wc(t.prototype,n),r&&wc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ac={WIDEVINE:"com.widevine.alpha",FAIRPLAY:"com.apple.fps.1_0",PLAYREADY:"com.microsoft.playready"},Rc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"buildKeySystems",value:function(){var t={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var r=e.vendors[n.type];if(e.vendors.FAIRPLAY===r){var i=n.certificateUrl,a=n.licenseUrl;t[r]={certificateUri:i,licenseUri:a}}else t[r]=n.licenseUrl})),{keySystems:t}}},{key:"buildKeySystemOptions",value:function(){var t=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var r=e.vendors[n.type],i={};i.name=r,i.options={serverURL:n.licenseUrl},t.push(i)})),t}},{key:"hasDrm",value:function(e){return e.some(()}},{key:"vendors",get:function(){return Ac}}],(n=null)&&Oc(t.prototype,n),r&&Oc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();unction Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"capitalizeFirstLetter",value:,{key:"getEnvironment",value:,{key:"getSecondsSinceMidnight",value:function(){var e=new Date;return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()}},{key:"dateWithinRange",value:function(e,t,n){return e>=t&&e<=n?e:e<t?t:n}},{key:"dateWithinLiveWindow",value:function(t,n){var r=new Date(Date.now()-e.secondsToMilliseconds(n)),i=new Date;return e.dateWithinRange(t,r,i)}},{key:"formatKebab",value:,{key:"formatTime",value:,{key:"millisecondsToSeconds",value:function(e){return 0===e?0:e/1e3}},{key:"normalizeElapsedTimeSinceMidnight",value:function(t){var n=e.getSecondsSinceMidnight()-t;return n<0?86400+n:n}},{key:"secondsToMilliseconds",value:,{key:"copyTextToClipboard",value:function(e){var t=document.activeElement,n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),t.focus()}},{key:"removeUndefinedValuesFromObject",value:function(e){var t=ql.mergeOptions({},e);return Object.keys(t).forEach((),t}},{key:"getKeyboardFocusableElements",value:function(){return Pc((arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')).filter((function(e){return!e.hasAttribute("disabled")})).filter(()}},{key:"prettyStringify",value:,{key:"truncateText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=e.trim();if(e.length<t)return n;var r=n.substring(0,t).trim();return"".concat(r,"...")}},{key:"hideFromAccessibility",value:function(e,t){t.setAttribute("aria-hidden",e),e?t.setAttribute("hidden",e):t.removeAttribute("hidden")}},{key:"listenAtLeastOnce",value:function(e,t,n){e.on(t,()}},{key:"numberFormat",value:],(n=null)&&kc(t.prototype,n),r&&kc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lc="AKAMAI",Nc="NONE",xc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"AKAMAI",get:function(){return Lc}},{key:"isProtected",value:,{key:"isAkamai",value:function(e){return Lc===e}},{key:"isNone",value:function(e){return Nc===e}},{key:"NONE",get:function(){return Nc}}],(n=null)&&Mc(t.prototype,n),r&&Mc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Uc=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.browser=navigator.userAgent,this.clientTime=(new Date).toISOString(),this.duration=0,this.environment=n,this.networkType=null,this.platform=navigator.platform,this.player="Letterbox/web/".concat(r),this.playerResult={},this.referrer=document.referrer||null,this.screenType="local",this.urn=t||null,this.version=1}var t,n,r;return t=e,r=[{key:"getDuration",value:function(e){return e&&e.duration>0?0|e.duration:void 0}},{key:"getResourceFromUrl",value:function(e){if("function"==typeof performance.getEntriesByType)for(var t=performance.getEntriesByType("resource"),n=t.length;n--;){var r=t[n];if((r.name===e||r.name.includes(e))&&r.duration>0)return r}}},{key:"createResult",value:function(t){var n={},r=t.url,i=e.getResourceFromUrl(r),a=i?i.name:r;if(!1!==t.duration){var o=e.getDuration(i);o&&(n.duration=o)}return a&&"string"==typeof a&&(n.url=a),t.httpStatusCode&&(n.httpStatusCode=t.httpStatusCode),t.httpStatusText&&"OK"!==t.httpStatusText&&(n.errorMessage=t.httpStatusText),n}}],(n=[{key:"setIlResult",value:function(t){this.ilResult=e.createResult(t)}},{key:"setDrmResult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"irdeto";this.drmResult=e.createResult({url:t})}},{key:"setIlMediaComposition",value:function(e){this.ilResult&&(e.blockReason&&(this.ilResult.blockingReason=e.blockReason),this.ilResult.playableAbroad=e.playableAbroad,this.ilResult.noPlayableResourceFound=e.noPlayableResourceFound)}},{key:"setPlayerResult",value:function(t){this.playerResult=e.createResult(t)}},{key:"setTokenResult",value:])&&Fc(t.prototype,n),r&&Fc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://srgsnitch.herokuapp.com/report",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Bc(this,e),this.url=t,this.debug=n}var t,n,r;return t=e,(n=[{key:"send",value:function(e){if(null==e)return Promise.reject();var t=e;if(t.duration=Date.now()-new Date(t.clientTime).getTime()|0,t.playerResult){var n=t.duration;t.ilResult&&t.ilResult.duration&&(n-=t.ilResult.duration),t.playerResult.duration=n}return fetch(this.url,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(()}}])&&jc(t.prototype,n),r&&jc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Hc=n(13),Vc={ERROR_DRM_NOT_SUPPORTED_MESSAGE:{code:5,type:"ERROR_DRM_NOT_SUPPORTED_MESSAGE",hasLink:!0,message:Hc["Unable to display the content. For more information and help, click here..."],iconClass:"vjs-icon-error"},"360_UNSUPPORTED":{code:7,type:"360_UNSUPPORTED",message:Hc["Unfortunately the 360 playback experience is not compatible with your browser version."],iconClass:"vjs-icon-error"},ERROR_INCOMPATIBLE_BROWSER_MESSAGE:{code:8,type:"ERROR_INCOMPATIBLE_BROWSER_MESSAGE",message:Hc["Unfortunately this format is not compatible with your browser."],iconClass:"vjs-icon-error"},ERROR_BLOCKING_REASON_STARTDATE:{code:9,type:"ERROR_BLOCKING_REASON_STARTDATE",message:Hc["This content is not yet available. Please try again later."],iconClass:"vjs-icon-clock"},ERROR_BLOCKING_REASON_ENDDATE:{code:10,type:"ERROR_BLOCKING_REASON_ENDDATE",message:Hc["This content is not available anymore."],iconClass:"vjs-icon-clock"},ERROR_BLOCKING_REASON_LEGAL:{code:11,type:"ERROR_BLOCKING_REASON_LEGAL",message:Hc["This content is not available due to legal restrictions."],iconClass:"vjs-icon-legal"},ERROR_BLOCKING_REASON_COMMERCIAL:{code:12,type:"ERROR_BLOCKING_REASON_COMMERCIAL",message:Hc["This commercial media is not available."],iconClass:"vjs-icon-legal"},ERROR_BLOCKING_REASON_GEOBLOCK:{code:13,type:"ERROR_BLOCKING_REASON_GEOBLOCK",message:Hc["This content is not available outside Switzerland."],iconClass:"vjs-icon-out-of-switzerland"},ERROR_BLOCKING_REASON_AGERATING18:{code:14,type:"ERROR_BLOCKING_REASON_AGERATING18",message:Hc["To protect children, this content is only available between 11PM and 5AM."],iconClass:"vjs-icon-age-rating"},ERROR_BLOCKING_REASON_AGERATING12:{code:15,type:"ERROR_BLOCKING_REASON_AGERATING12",message:Hc["To protect children, this content is only available between 8PM and 6AM."],iconClass:"vjs-icon-age-rating"},ERROR_BLOCKING_REASON_UNKNOWN:{code:16,type:"ERROR_BLOCKING_REASON_UNKNOWN",message:Hc["This content is not available."],iconClass:"vjs-icon-error"},IL_ERROR:{code:17,type:"IL_ERROR",message:Hc["The content cannot be played."],iconClass:"vjs-icon-network"},MEDIACOMPOSITION_CHANGE_KILLSWITCH:{code:18,type:"KILLSWITCH",message:Hc["Unknown error"],iconClass:"vjs-icon-error"},ERROR_UNKNOWN:{code:19,type:"ERROR_UNKNOWN",message:Hc["The content cannot be played."],iconClass:"vjs-icon-error"}};function qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kc="STARTDATE",zc="ENDDATE",Yc="LEGAL",Wc="COMMERCIAL",Xc="GEOBLOCK",Qc="AGERATING18",$c="AGERATING12",Jc="UNKNOWN",Zc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toError",value:,{key:"getIcon",value:,{key:"isStartDate",value:function(e){return e===Kc}},{key:"isEndDate",value:function(e){return e===zc}},{key:"isGeoBlock",value:function(e){return e===Xc}},{key:"isLegal",value:function(e){return e===Yc}},{key:"isCommercial",value:function(e){return e===Wc}},{key:"isAgeRating18",value:function(e){return e===Qc}},{key:"isAgeRating12",value:function(e){return e===$c}},{key:"isUnknown",value:,{key:"isPermanentlyBlocked",value:function(e){return e&&!this.isStartDate(e)&&!this.isEndDate(e)}},{key:"isBlocked",value:,{key:"AGERATING12",get:function(){return $c}},{key:"AGERATING18",get:function(){return Qc}},{key:"COMMERCIAL",get:function(){return Wc}},{key:"ENDDATE",get:function(){return zc}},{key:"GEOBLOCK",get:function(){return Xc}},{key:"LEGAL",get:function(){return Yc}},{key:"STARTDATE",get:function(){return Kc}},{key:"UNKNOWN",get:function(){return Jc}}],(n=null)&&qc(t.prototype,n),r&&qc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ed=n(30),td="abort",nd="canplay",rd="canplaythrough",id="durationchange",ad="emptied",od="ended",sd="error",ud="loadeddata",ld="loadedmetadata",cd="loadstart",dd="pause",fd="play",hd="playing",pd="progress",gd="ratechange",md="resize",yd="seeked",vd="seeking",_d="stalled",bd="suspend",Td="timeupdate",Ed="transitionend",Sd="volumechange",wd="waiting",Cd="beforemodalclose",Od="dispose",Ad="firstplay",Rd="modalclose",Pd="modalopen",Id="modechange",kd="playerresize",Dd="ready",Md="TAP",Ld="useractive",Nd="userinactive",xd="qualityChange",Fd="srgssr/",Ud="".concat(Fd,"airplayPlaybackState"),Bd="".concat(Fd,"autoplayChange"),jd="".concat(Fd,"aspectRatio"),Gd="".concat(Fd,"blockedSegmentSkipped"),Hd="".concat(Fd,"chromecastScriptLoaded"),Vd="".concat(Fd,"configurationChange"),qd="".concat(Fd,"continuousPlaybackCancel"),Kd="".concat(Fd,"continuousPlaybackChange"),zd="".concat(Fd,"continuousPlaybackDisplayed"),Yd="".concat(Fd,"continuousPlaybackIntegrationChange"),Wd="".concat(Fd,"continuousPlaybackDone"),Xd="".concat(Fd,"continuousPlaybackHit"),Qd="".concat(Fd,"layoutBreakpointChange"),$d="".concat(Fd,"mediaCompositionLoaded"),Jd="".concat(Fd,"menuValueScroll"),Zd="".concat(Fd,"menuValueUpdated"),ef="".concat(Fd,"onEscPressed"),tf="".concat(Fd,"prepareToPlay"),nf="".concat(Fd,"recommendationDisplayed"),rf="".concat(Fd,"recommendationHit"),af="".concat(Fd,"segmentChange"),of="".concat(Fd,"segmentSwitched"),sf="".concat(Fd,"settingChanged"),uf="".concat(Fd,"socialSharing"),lf="".concat(Fd,"subdivisionVisibilityChanged"),cf="".concat(Fd,"textTrackSizeChange"),df="addtrack",ff="animationend",hf="beforeunload",pf="change",gf="click",mf="fullscreenchange",yf="keydown",vf="mouseenter",_f="mouseleave",bf="mousemove",Tf="mouseup",Ef="touchcancel",Sf="touchend",wf="touchmove",Cf="scroll",Of="webkitplaybacktargetavailabilitychanged",Af="webkitcurrentplaybacktargetiswirelesschanged",Rf="wheel";function Pf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var If=["ON_DEMAND","LIVE","DVR"],kf={DVR:If[2],LIVE:If[1],ON_DEMAND:If[0]},Df=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"evaluate",value:function(t,n){return t&&n?e.types.DVR:n?e.types.LIVE:e.types.ON_DEMAND}},{key:"isDvr",value:function(t){return e.types.DVR===t}},{key:"isLive",value:function(t){return e.types.LIVE===t}},{key:"isOnDemand",value:,{key:"list",get:function(){return If}},{key:"types",get:function(){return kf}}],(n=null)&&Pf(t.prototype,n),r&&Pf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Mf=n(17),Lf=n.n(Mf);function Nf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"bowser",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return e.bowserInstance&&e.bowserInstance.getUA()===t||(e.bowserInstance=Lf.a.getParser(t)),e.bowserInstance}},{key:"isIOSSupportingDRM",value:function(){return e.bowser().isOS(Lf.a.OS_MAP.iOS)&&e.bowser().getOSVersion()>="11.2"&&e.bowser().satisfies({edge:">=41.1",safari:">=11"})}},{key:"isDRMSupported",value:function(){var t=e.bowser,n=e.isIOSSupportingDRM,r={android:{chrome:">34",edge:">=41.1",firefox:">=90.0"},[Lf.a.OS_MAP.ChromeOS]:{chrome:">34"},linux:{chrome:">34",firefox:">47",opera:">=77"},macos:{chrome:">=34",edge:">=79",firefox:">47",opera:">=44",safari:">=8"},windows:{chrome:">=34",edge:">=17",firefox:">47",opera:">=44"}};return n()||t().satisfies(r)||!1}},{key:"isBrowserOutdated",value:,{key:"isChrome",get:function(){return e.bowser().isBrowser(Lf.a.BROWSER_MAP.chrome)}},{key:"isChromium",get:function(){return e.bowser().isBrowser(Lf.a.BROWSER_MAP.chromium)}},{key:"isEdge",get:function(){return e.bowser().isBrowser(Lf.a.BROWSER_MAP.edge)}},{key:"isOpera",get:function(){return e.bowser().isBrowser(Lf.a.BROWSER_MAP.opera)}},{key:"isSafari",get:function(){return e.bowser().isBrowser(Lf.a.BROWSER_MAP.safari)}},{key:"isTouchDevice",get:function(){return e.bowser().getPlatformType()!==Lf.a.PLATFORMS_MAP.desktop}}],(n=null)&&Nf(t.prototype,n),r&&Nf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();unction Uf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.language,n=e.srgKind;return t?{captions:Ff(n),language:t}:{captions:!1,language:"off"}}var Bf={computeSrgKind:function(e){var t=e.kind,n=e.label,r=["captions","descriptions"].includes(t),i=n&&n.toLowerCase().includes("sdh");return r||i?"captions":"subtitles"},isCaption:Ff,findActiveTrack:format:Uf,sanitizeParameter:function(e){return"object"!=typeof e&&void 0!==e?Uf({language:e}):e}};function jf(e){return["description","descriptions","main-desc"].includes(e)}nction Vf(e,t){return t.find(()}function qf(e,t){return!!Hf(e,t)}unction zf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.language,n=e.kind;if(t)return{language:t,description:jf(n)}}var Yf={enableTrack:function(e,t){var n=e.language,r=e.description,i=void 0!==r&&r;qf(n,t)&&(Kf(n,t)&&!function(e,t){var n=Kf(e,t),r=0===e,t).filter(().length;return n&&r}(n,t)?t.forEach((function(e){e.enabled=e.language===n&&"boolean"==typeof i&&i===jf(e.kind)})):t.forEach(())},findActiveTrack:findAudioDescriptionTrackByLanguage:Vf,findTrackByLanguage:Hf,format:zf,hasAudioDescriptionLanguageTrack:Kf,hasLanguageTrack:qf,isAudioDescription:jf,isRegularTrack:Gf,sanitizeParameter:function(e){return"object"!=typeof e&&void 0!==e?zf({language:e}):e}};unction Xf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qf(e,t){return void 0!==t&&e.trigger(Bd),e.autoplay(t)}function $f(e){return Array.from(e.textTracks()).filter((function(e){var t=e.kind,n=e.language;return!["metadata","forced"].includes(t)&&n.length}))}nction eh(e,t){var n=e.language,r=e.captions?"captions":"subtitles",i=t.find((function(e){return e.language===n&&e.srgKind===r}));return i||(i=t.find((function(e){return e.language===n}))),i}unction nh(e){e.one(Ad,()}function rh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.urn,r=t.mediaComposition,i=t.pendingSeek,a=t.playbackSettings,o=void 0===a?{}:a,s=t.autoplay,u=t.standalone,l=void 0!==u&&u,c=t.readyCallback,d=void 0===c?function(){}:c;Object.keys(e.currentSource()).length&&e.trigger(ad),e.trigger(th({ready:!1})),e.tech_&&e.tech_.clearTracks("text"),e.loadTech_(e.options_.techOrder[0],null),e.techCall_("reset"),nh(e),e.src({type:"srgssr/urn",src:n,mediaComposition:r,pendingSeek:i,playbackSettings:o,standalone:l}),e.ready((function(){e.trigger(th({ready:!0})),d(),o.forcePlay?e.play():Qf(e,s),xf.isTouchDevice?e.addClass("srgssr-touch-enabled"):e.removeClass("srgssr-touch-enabled")}))}function ih(e,t){var n=t.markIn>=0?Dc.millisecondsToSeconds(t.markIn):void 0;e.currentTime(n),e.trigger({type:of,data:{analyticsMetadata:t.analyticsMetadata,origin:"click",playing:!e.paused()&&e.hasStarted()}})}var ah={autoplay:Qf,currentDate:function(e,t){var n=t.liveTracker.liveCurrentTime();if(!e){var r=Dc.secondsToMilliseconds(n-t.currentTime());return new Date(Date.now()-r)}var i=Dc.dateWithinLiveWindow(e,t.liveTracker.liveWindow()),a=t.currentSource().streamOffset,o=void 0===a?0:a,s=Dc.millisecondsToSeconds(o),u=Dc.millisecondsToSeconds(Date.now()-i.getTime());return t.currentTime(n-u+s)},audioTrackLanguage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.language,n=e.description,r=arguments.length>1?arguments[1]:void 0,i=Array.from(r.audioTracks());if(!t||Yf.hasLanguageTrack(t,i)){t&&Yf.hasLanguageTrack(t,i)&&Yf.enableTrack({language:t,description:n},i);var a=Yf.findActiveTrack(i);return Yf.format(a)}},filterTextTrack:$f,getPrepareToPlayEvent:th,getComponent:function(e,t){return e.reduce((,t)},getDebugInformation:function(e){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{},n=t.downlink,r=t.effectiveType,i=t.rtt,a=e.options(),o=a.ilHost,s=a.SRGProviders,u=(s=void 0===s?{}:s).mediaComposition,l=void 0===u?{}:u,c=a.version,d=e.getCache().lastPerformanceReportId,f=e.currentSource(),h=f.mediaType,p=f.quality,g=f.streamType,m=f.streaming,y=f.tokenType,v=f.type,_=e.error();return{date:(new Date).toISOString(),urn:l.chapterUrn,ilHost:o,version:c,device:xf.bowser().getResult(),url:window.location.href,connection:{downlink:n,effectiveType:r,rtt:i},lastPerformanceReportId:d,source:{mediaType:h,quality:p,streamType:g,streaming:m,tokenType:y,type:v},error:_}},getUrn:function(e){var t=e.options().SRGProviders.mediaComposition,n=(t=void 0===t?{}:t).segmentUrn,r=t.chapterUrn;return n||r},isStreamOnDemand:loadMedia:rh,showTextTrack:Jf,switchToUrn:function(e,t){var n=Wf(e.options().SRGProviders.mediaComposition.getMainSegments().filter((function(e){return e.urn===t})),1)[0];n?(ih(e,n),e.play()):rh(e,{urn:t,autoplay:!0})},textTrackLanguage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.language,n=e.captions,r=$f(arguments.length>1?arguments[1]:void 0);void 0!==t&&r.length&&(Zf(r),Jf(eh({language:t,captions:n},r)));var i=Bf.findActiveTrack(r);return Bf.format(i)},textTrackSizeLevel:function(e,t){var n=t.options().srgTextTrackSizes[e],r=t.getChild("textTrackDisplay");return r&&n&&r.setFontSize(n),r&&r.fontSize},seekToSegment:ih};function oh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sh=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.chapterUrn=t,this.standalone=n,this.player=r,this.log=r.log,r.on([od,Od],this.stop.bind(this))}var t,n,r;return t=e,r=[{key:"streamUrls",value:function(e){return JSON.stringify(e.getMainResources().map((function(e){return e.src})).sort())}}],(n=[{key:"start",value:function(){this.scheduleCall()}},{key:"stop",value:,{key:"periodicCall",value:function(){var e=this,t=this.player.options().SRGProviders,n=(t=void 0===t?{}:t).mediaComposition,r=t.dataService;n.chapterUrn===this.chapterUrn?r.getMediaCompositionByUrn(this.chapterUrn,this.standalone).then((function(t){var n=t.mediaComposition;e.log.debug("Handle new mediacomposition"),e.handleMediaComposition(n)})).catch((function(){e.scheduleCall()})):this.stop()}},{key:"scheduleCall",value:function(){var e,t=this.player.options().SRGProviders.mediaComposition,n=t.getMainValidFromDate()-new Date;e=t.getMainBlockReason()===Zc.STARTDATE&&n<0?3e3:n>0&&n<15e3?n:15e3,this.timeoutId=window.setTimeout(this.periodicCall.bind(this),e)}},{key:"handleMediaComposition",value:function(t){var n=this.player.options().SRGProviders.mediaComposition;this.player.options({SRGProviders:{mediaComposition:t}}),this.player.trigger({type:$d,data:{mediaComposition:t}});var r=n.getMainBlockReason(),i=t.getMainBlockReason();return!r&&i?(this.log.warn("Stop because of a new block reason"),void this.errorAndStopPlayback(Zc.toError(i))):r!==i?(this.log.warn("Reload because of block reason change"),void this.reload(t)):e.streamUrls(t)!==e.streamUrls(n)?(this.log.warn("Reload because change in stream"),void this.reload(t)):void this.scheduleCall()}},{key:"reload",value:function(e){var t=this.player.currentSource().playbackSettings,n=e.segmentUrn||e.chapterUrn;ah.loadMedia(this.player,{autoplay:!0,mediaComposition:e,playbackSettings:t,urn:n})}},{key:"errorAndStopPlayback",value:function(e){this.player.reset(),this.player.error(e),this.stop(),ah.loadMedia(this.player,{urn:ah.getUrn(this.player)})}}])&&oh(t.prototype,n),r&&oh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),uh=["SD","HD","HQ"],lh={HD:uh[1],HQ:uh[2],SD:uh[0]};function ch(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[lh.SD,lh.HD];return!(t.length<1||t.some(())&&e.filter(().filter(().length===t.length}function dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fh="/scale/width/700",hh="/scale/width/200",ph="/scale/width/300",gh="/16x9/scale/width/344",mh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"WIDTH700",get:function(){return fh}},{key:"WIDTH200",get:function(){return hh}},{key:"WIDTH300",get:function(){return ph}},{key:"WIDTH344",get:function(){return gh}}],(n=null)&&dh(t.prototype,n),r&&dh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Oh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}unction Rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ph=function(){ar t,n,r;return t=e,r=[{key:"cleanCache",value:function(e){var t=Object.assign({},e);return t.cachedMainChapter=void 0,t.cachedSegments=void 0,t}},{key:"findDrmListByResource",value:function(e){return e.drmList}},{key:"orderMainResourcesByQuality",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lh.HD,n=uh.filter((function(e){return t!==e}));return n.push(t),yh(e).sort((function(e,t){var r=n.indexOf(e.quality);return n.indexOf(t.quality)-r}))}},{key:"orderMainResourcesByStreamType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Df.types.DVR,n=Df.list.filter((function(e){return t!==e}));return n.push(t),yh(e).sort((function(e,t){var r=n.indexOf(e.streamType);return n.indexOf(t.streamType)-r}))}}],(n=[{key:"findChapterByUrn",value:function(e){if(this.chapterList)return Sh(this.chapterList.filter((function(t){return t.urn===e})),1)[0]}},{key:"filterMainResourcesByQuality",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lh.HD;return this.getMainResources().filter(()}},{key:"findResourceListByUrn",value:,{key:"getMainChapterImageUrl",value:function(){var e=this.getMainChapter();if(e&&e.imageUrl)return e.imageUrl+mh.WIDTH700}},{key:"getChapters",value:,{key:"getMainBlockReason",value:function(){var e=this.getMainChapter();if(e){var t=e.blockReason;return!t&&new Date<this.getMainValidFromDate()&&(t=Zc.STARTDATE),t}}},{key:"getMainValidFromDate",value:function(){var e=this.getMainChapter();if(e){var t=e.validFrom;if(t)return new Date(t)}return new Date(0)}},{key:"getMainChapter",value:function(){if(this.cachedMainChapter||(this.cachedMainChapter=this.findChapterByUrn(this.chapterUrn)),!this.cachedMainChapter&&this.chapterList&&this.chapterList.length>0){var e=Sh(this.chapterList,1);this.cachedMainChapter=e[0]}return this.cachedMainChapter}},{key:"getMainResources",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this.getResourceList();if(i&&i.length){var a=i&&i.map((function(e){var n,r=Rc.buildKeySystems(e.drmList).keySystems,i=Th(Rc.buildKeySystemOptions(e.drmList)).slice(0),a=e.analyticsData,o=e.analyticsMetadata,s=e.dvr,u=e.live,l=e.mimeType,c=e.presentation,d=e.quality,f=e.streaming,h=e.streamOffset,p=e.tokenType,g=e.url,m=t.getMergedAnalyticsData(a),y=t.getMergedAnalyticsMetadata(o),v=t.findMainSegment(),_=t.getMainChapter(),b=_.id,T=_.eventData,E=_.imageCopyright,S=_.mediaType,w=_.vendor;return n=t.pendingSeek?t.pendingSeek:v?Dc.millisecondsToSeconds(v.markIn):void 0,{analyticsData:m,analyticsMetadata:y,bu:w,eventData:T,id:b,imageCopyright:E,keySystems:r,keySystemOptions:i,mediaType:S,presentation:c,quality:d,src:g,streaming:f,streamOffset:h,streamType:Df.evaluate(s,u),tokenType:p,type:l,pendingSegment:v,pendingSeek:n,playbackSettings:t.playbackSettings}})),o=e.orderMainResourcesByQuality(a,n);return e.orderMainResourcesByStreamType(o,r)}}},{key:"getMergedAnalyticsData",value:function(e){return _h(_h(_h({},this.analyticsData),this.getMainChapter().analyticsData),e)}},{key:"getMergedAnalyticsMetadata",value:function(e){return _h(_h(_h({},this.analyticsMetadata),this.getMainChapter().analyticsMetadata),e)}},{key:"getFilteredExternalSubtitles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log,t=this.getMainChapter().subtitleList,n=this.getResourceList().filter((function(e){return e.subtitleInformationList})),r=_h({},Sh(n,1)[0]).subtitleInformationList;if(!t&&!r||!t&&r)return[];if(t&&!r)return e("MediaComposition: No subtitleInformationList found"),t.filter(();var i=t.filter((function(e){var t=!r.find(();return"TTML"!==e.format&&t}));return i}},{key:"getResourceList",value:,{key:"getMainSegments",value:function(){var e=this.getMainChapter();return!this.cachedSegments&&e&&e.segmentList&&(this.cachedSegments=e.segmentList),this.cachedSegments||[]}},{key:"findMainSegment",value:function(){var e=this;if(this.segmentUrn){var t=this.getMainChapter().segmentList;if(t)return Sh(t.filter((),1)[0]}}},{key:"getSubdivisions",value:function(){var e=this.getChapters(),t=this.getMainChapter(),n=[],r=this.getMainSegments().filter(();return 1===e.length&&0===r.length?[]:(e.forEach((function(e){e.urn===t.urn&&r.length>=1?n.push.apply(n,yh(r)):n.push(e)})),n)}}])&&Rh(t.prototype,n),r&&Rh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ih="ArrowDown",kh="ArrowUp",Dh=13,Mh="-",Lh="+",Nh=32,xh=function(e,t){var n=e.currentSource().streamType;(Df.isDvr(n)||Df.isOnDemand(n))&&(e.scrubbing(!0),e.trigger("seeking"),e.currentTime(t),e.scrubbing(!1),e.trigger("seeked"))},Fh=function(e,t){var n=e.volume()+t;e.volume(n),e.muted(e.volume()<=0)},Uh=function(e){var t=this;if(this.handleHotkeys(e),9!==e.which&&(e.preventDefault(),e.stopPropagation()),27!==e.which)if([kh,Lh].includes(e.key))Fh(this,.1);else if([Ih,Mh].includes(e.key))Fh(this,-.1);else if("ArrowLeft"===e.key&&this.currentTime()>0)xh(this,this.currentTime()-10);else if("ArrowRight"===e.key&&this.currentTime()<this.duration())xh(this,this.currentTime()+30);else{if(9===e.which&&!this.hasClass("lbw-keyboard-navigation"))return this.addClass("lbw-keyboard-navigation"),void this.on(gf,(function e(n){var r=n.screenX,i=void 0===r?0:r,a=n.screenY;0!==i&&0!==(void 0===a?0:a)&&(t.removeClass("lbw-keyboard-navigation"),t.off(gf,e))}));if(function(e){var t=e.key;return[0,1,2,3,4,5,6,7,8,9].includes(parseInt(t,10))}(e)){var n=(0|e.key)/10;xh(this,this.duration()*n)}else{var r,i,a;if(81!==e.which){if(80===e.which&&this),68===e.which&&!0===e.shiftKey){var o=ah.getDebugInformation(this);Dc.copyTextToClipboard(Dc.prettyStringify(o))}}else ch((r=this).options().SRGProviders.mediaComposition.getMainResources())&&r.trigger({type:Zd,data:{hd:(i=r.currentSource(),a=i.quality,!(lh.SD!==a))}})}}else this.trigger(ef)};unction jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gh=function(){ar t,n,r;return t=e,r=[{key:"fetchMediaList",value:function(e){return fetch(e).then((function(e){return e.ok?e.json().then(():Promise.reject(e)})).catch((function(e){return Promise.reject(e)}))}}],(n=[{key:"setIlHost",value:,{key:"getMediaCompositionByUrn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="https://".concat(this.baseUrl,"mediaComposition/byUrn/").concat(e,".json?onlyChapters=").concat(t,"&vector=portalplay"),r={url:n};return fetch(n).then((function(e){return r.httpStatusCode=e.status,r.httpStatusText=e.statusText,e.ok?e.json().then((function(e){return{mediaComposition:Object.assign(new Ph,e,{onlyChapters:t}),diagnostic:r}})):Promise.reject(r)})).catch((function(e){return r.httpStatusText=e.message,Promise.reject(r)}))}},{key:"getEndScreenList",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18,i=e.toLowerCase();return["rts","srf"].includes(i)&&"video"===t.toLowerCase()?this.getRecommendedList(i,n,r):this.getTrendingList(i,t,r)}},{key:"getRecommendedList",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,i="https://".concat(this.baseUrl).concat(t.toLowerCase(),"/mediaList/video/recommended/").concat(n,".json?pageSize=").concat(r);return e.fetchMediaList(i)}},{key:"getTrendingList",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"video",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,i="https://".concat(this.baseUrl).concat(t.toLowerCase(),"/mediaList/").concat(n.toLowerCase(),"/trending.json?pageSize=").concat(r);return e.fetchMediaList(i)}}])&&jh(t.prototype,n),r&&jh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Hh={debug:function(e,t){var n=e?"debug":"error";t.log.level(n),ql.log.level(n),ql.Html5DashJS.hook("beforeinitialize",(function(e,t){t.getDebug().setLogToBrowserConsole(!1),t.getProtectionController().setRobustnessLevel("SW_SECURE_CRYPTO")}))},fillMode:function(e,t){e?t.fill(!0):t.fluid(!0)},playerFocus:function(e,t){t&&e instanceof Object&&{}.hasOwnProperty.call(e,"preventScroll")&&t.el().focus(e)},hd:function(e,t){if(t.hasStarted()){var n=t.options().SRGProviders.mediaComposition;ah.loadMedia(t,{mediaComposition:Ph.cleanCache(n),pendingSeek:t.currentTime(),playbackSettings:{forcePlay:!0},urn:n.segmentUrn||n.chapterUrn})}},autoplay:function(e,t){ah.autoplay(t,e)},continuousPlayback:function(e,t){t.trigger(Kd)},textTrackLanguage:textTrackSizeLevel:audioTrackLanguage:function(e,t){ah.audioTrackLanguage(e,t)},playbackRate:function(e,t){t.playbackRate()!==e&&"boolean"!=typeof e&&t.playbackRate(e)}},Vh={audioDescription:["controlBar","subtitlesMenu","container","panels","panel","audioDescription"],controlBar:["ControlBar"],header:["HeaderComponent"],sharing:["HeaderComponent","SharingModule"],title:["HeaderComponent","TitleComponent"],playButton:["ControlBar","SRGSSRButtonComponent"],skipCredits:["SkipCredits"],subdivisions:["SubdivisionsContainer"],thumbnails:["ControlBar","ProgressControl","ThumbnailSeeking"]};function qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"setItem",value:function(t,n,r){if(e.storage){var i=Object.assign({},e.getStorageByNamespace(t),{[n]:r});e.storage.setItem(t,JSON.stringify(i))}}},{key:"getStorageByNamespace",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.storage)return n;var r,i=e.storage.getItem(t);try{r=e.parseObject(i)}catch(i){r=n,e.storage.setItem(t,JSON.stringify(r))}return r}},{key:"getItem",value:function(t,n){return e.getStorageByNamespace(t)[n]}},{key:"parseObject",value:function(e){var t=JSON.parse(e);if("object"!=typeof t||null===t)throw new Error("LocalStorage is not an Object");return t}},{key:"storage",get:function(){try{return localStorage}catch(e){return}}}],(n=null)&&qh(t.prototype,n),r&&qh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.debug,a=void 0!==i&&i,o=r.tagCommanderScriptURL,s=void 0===o?"//colibri-js.akamaized.net/penguin/tc_SRGGD_11.js":o;zh(this,e),this.cachedCurrentTime=0,this.currentTimetIntervalId=void 0,this.debug=a,this.elapsedPlaybackTime=0,this.hasFirstStart=!1,this.heartBeatIntervalId=void 0,this.isWaiting=!1,this.mediaSession=0,this.pendingQueue=[],this.pendingTagCommanderReload=!1,this.player=t,this.playerVersion=n,this.trackedCurrentTime=0,this.uptimeIntervalId=void 0,this.initialized=!1,this.pendingSegmentData=void 0,this.startPlaybackSession=0,this.tagCommanderScriptURL=s,this.initScript(),this.initListeners()}var t,n,r;return t=e,r=[{key:"now",value:],(n=[{key:"beforeunload",value:,{key:"clearTimers",value:,{key:"currentTime",value:function(){return Math.round(this.trackedCurrentTime)}},{key:"destroy",value:function(){this.clearTimers(),window.tc_vars||(window.tc_vars={}),this.elapsedPlaybackTime=0,this.hasFirstStart=!1,this.heartBeatIntervalId=void 0,this.initialized=!1,this.isWaiting=!1,this.mediaSession=0,this.pendingQueue=[],this.startPlaybackSession=0,this.trackedCurrentTime=0,this.uptimeIntervalId=void 0}},{key:"dispose",value:function(){this.beforeunload(),this.clearTimers(),window.removeEventListener(hf,this.beforeunloadListener),this.player.off(ad,this.emptiedListener),this.player.off(od,this.endedListener),this.player.off(Ad,this.firstPlayListener),this.player.off(cd,this.loadstartListener),this.player.off(ud,this.loadeddataListener),this.player.off(hd,this.playListener),this.player.off(dd,this.pauseListener),this.player.off(Td,this.timeUpdateListener),this.player.off(wd,this.waitingListener),this.player.off(nf,this.peachRecommendationDisplayedListener),this.player.off(rf,this.peachRecommendationHitListener),this.player.off(of,this.segmentSwitchedListener)}},{key:"emptied",value:function(){this.player.ended()||this.notify("stop")}},{key:"ended",value:,{key:"flush",value:function(){var e=this;this.pendingTagCommanderReload&&window.tC&&(window.tC.container.reload(),this.pendingTagCommanderReload=!1),window.tc_events_11&&this.pendingQueue.length>0&&(this.pendingQueue.forEach((function(t){window.tc_events_11(e.player.el(),t.action,t.labels)})),this.pendingQueue=[])}},{key:"getCurrentAudioTrack",value:function(){var e=Array.from(this.player.audioTracks()).find((function(e){return e.enabled})),t="und";return e&&e.language&&(t=e.language),e?t.toUpperCase():""}},{key:"getCurrentTextTrack",value:function(){var e=Array.from(this.player.textTracks()).filter((function(e){return"metadata"!==e.kind})).find((function(e){return"showing"===e.mode})),t="und";return e&&e.language&&(t=e.language),e?t.toUpperCase():""}},{key:"getDvrWindowPosition",value:function(){var e=this.player.liveTracker,t=this.currentTime()-e.seekableStart()|0,n=e.liveWindow()-t;return n<0||n===1/0?0:1e3*n}},{key:"getDvrWindowSize",value:function(){var e=this.player.liveTracker.liveWindow()===1/0,t=1e3*this.player.liveTracker.liveWindow();return e?0:t}},{key:"getElapsedPlaybackTime",value:,{key:"getElapsedPlayingTime",value:function(){var t=e.now()-this.startPlaybackSession|0;return this.elapsedPlaybackTime+t}},{key:"getEventLabels",value:function(t){var n=Dc.getEnvironment(),r=this.player.currentSource().streamType;if(r){var i={event_id:t,event_timestamp:e.now(),media_dvr_window_length:0,media_dvr_window_offset:0,media_is_dvr:!1,media_is_live:!1,media_mute:this.player.muted()?"1":"0",media_playback_rate:this.player.playbackRate(),media_position:this.currentTime(),media_quality:this.player.currentSource().quality,media_stream_type:r.replace("_","").toLowerCase(),media_subtitles_on:this.isTextTrackEnabled(),media_volume:(100*this.player.volume()).toFixed(0),navigation_environment:n};return this.isAudioTrackEnabled()&&(i.media_audio_track=this.getCurrentAudioTrack()),this.isTextTrackEnabled()&&(i.media_subtitle_selection=this.getCurrentTextTrack()),this.player.currentSource().playbackSettings&&this.player.currentSource().playbackSettings.recommendationId&&(i.peach_reco_id=this.player.currentSource().playbackSettings.recommendationId),Df.isOnDemand(r)||(i.media_is_live=!0,i.media_position=this.getElapsedPlaybackTime()),Df.isDvr(r)&&(i.media_dvr_window_offset=0|this.getDvrWindowPosition(),i.media_dvr_window_length=0|this.getDvrWindowSize(),i.media_is_dvr=!0,i.media_timeshift=[fd,dd].includes(t)?this.timeShifted():0),i}}},{key:"getInternalLabels",value:function(){var e={media_bu_distributer:this.player.currentSource().bu,media_chromecast_selected:Boolean(this.player.tech(!0).isCasting),media_embedding_url:document.referrer,media_player_display:"default",media_player_name:"SRGLetterbox-web",media_player_version:this.playerVersion,media_url:this.player.currentSource().src},t=this.player.currentSource().analyticsMetadata||{};window.tc_vars=Object.assign({},window.tc_vars,e,t)}},{key:"isAudioTrackEnabled",value:function(){return!!this.getCurrentAudioTrack()}},{key:"isTextTrackEnabled",value:,{key:"heartBeat",value:function(){var e=this;this.heartBeatIntervalId=setInterval((function(){e.player.paused()||e.notify("pos")}),3e4)}},{key:"initCallbacks",value:function(){this.beforeunloadListener=this.beforeunload.bind(this),this.emptiedListener=this.emptied.bind(this),this.endedListener=this.ended.bind(this),this.firstPlayListener=this.firstPlay.bind(this),this.loadstartListener=this.loadstart.bind(this),this.loadeddataListener=this.loadeddata.bind(this),this.playListener=this.play.bind(this),this.pauseListener=this.pause.bind(this),this.timeUpdateListener=this.timeUpdate.bind(this),this.waitingListener=this.waiting.bind(this),this.peachRecommendationDisplayedListener=this.peachRecommendationDisplayed.bind(this),this.peachRecommendationHitListener=this.peachRecommendationHit.bind(this),this.segmentSwitchedListener=this.segmentSwitched.bind(this)}},{key:"initListeners",value:function(){this.initCallbacks(),window.addEventListener(hf,this.beforeunloadListener),this.player.on(ad,this.emptiedListener),this.player.on(od,this.endedListener),this.player.on(Ad,this.firstPlayListener),this.player.on(cd,this.loadstartListener),this.player.on(ud,this.loadeddataListener),this.player.on(hd,this.playListener),this.player.on(dd,this.pauseListener),this.player.on(Td,this.timeUpdateListener),this.player.on(wd,this.waitingListener),this.player.on(nf,this.peachRecommendationDisplayedListener),this.player.on(rf,this.peachRecommendationHitListener),this.player.on(of,this.segmentSwitchedListener),this.player.one(Od,this.dispose.bind(this))}},{key:"initScript",value:function(){var e=this;if(!document.querySelector("#".concat("tc_script__1"))){var t=document.createElement("script"),n=this.tagCommanderScriptURL;t.async=!0,t.defer="defer",t.id="tc_script__1",t.src=n,t.type="text/javascript",t.onload=function(){e.flush()},document.body.appendChild(t)}}},{key:"firstPlay",value:function(){var e=this;this.player.one(hd,(function(){e.hasFirstStart=!0;var t=e.player.currentSource().streamType;Df.isOnDemand(t)||(e.trackedCurrentTime=e.player.liveTracker.liveWindow()),e.notify("play")}))}},{key:"loadTagCommanderContainer",value:function(){window.tC?(window.tC.container.reload(),this.pendingTagCommanderReload=!1):this.pendingTagCommanderReload=!0}},{key:"loadstart",value:,{key:"loadeddata",value:function(){this.notify("init"),this.initialized=!0,this.pendingSegmentData&&(this.notifySegment(this.pendingSegmentData),this.pendingSegmentData=void 0),this.notify("buffer_stop")}},{key:"log",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log";this.debug&&console[n]("SRGAnalytics:".concat(e),t,window.tc_vars)}},{key:"notify",value:function(e,t){try{this.flush()}catch(t){this.log(e,t,"error")}var n=Object.assign({},this.getEventLabels(e),t);this.log(e,n);try{window.tc_events_11?window.tc_events_11(this.player.el(),e,n):this.pendingQueue.push({action:e,labels:n})}catch(t){this.log(e,t,"error")}}},{key:"peachPayload",value:function(){if(this.player.endScreen&&this.player.endScreen.options().recommendationId)return{peach_items:this.player.endScreen.recommendationComponent.children().map((),peach_items_displayed:this.player.endScreen.displayedItems().length,peach_reco_id:this.player.endScreen.options().recommendationId}}},{key:"peachRecommendationDisplayed",value:function(){var e=this.peachPayload();e&&this.notify("recommendation_displayed",e)}},{key:"peachRecommendationHit",value:function(e){var t=e.data.urn,n=this.peachPayload();n&&(n.peach_hit_index=n.peach_items.indexOf(t),this.notify("recommendation_hit",n))}},{key:"play",value:function(){var t=this.player.currentSource().streamType;this.startPlaybackSession||Df.isOnDemand(t)||(this.startPlaybackSession=e.now()),0===this.mediaSession&&(this.mediaSession=e.now(),this.heartBeat(),this.uptime()),!this.isPlaybackResumed&&this.hasFirstStart&&(this.isPlaybackResumed=!0,this.notify("play"))}},{key:"pause",value:function(){var e=this.player.currentSource().streamType;this.isPlaybackResumed=!1,Df.isOnDemand(e)||(this.elapsedPlaybackTime=this.getElapsedPlayingTime(),this.startPlaybackSession=0),!this.player.scrubbing()&&!Df.isLive(e)&&this.player.currentTime()<this.player.duration()&&this.notify("pause")}},{key:"segmentSwitched",value:function(e){var t=e.data;this.initialized?this.notifySegment(t):this.pendingSegmentData=t}},{key:"timeUpdate",value:function(){if(this.hasFirstStart){var e=this.player.currentSource().streamType;!Df.isLive(e)&&Math.abs(this.trackedCurrentTime-this.player.currentTime())>1.5&&!this.isSeeking&&(this.isSeeking=!0,this.isPlaybackResumed=!1,this.notify("seek")),this.trackedCurrentTime=this.player.currentTime(),this.isSeeking&&!this.player.scrubbing()&&(this.isSeeking=!1,this.player.paused()||this.isPlaybackResumed||(this.isPlaybackResumed=!0,this.notify("play")),this.player.paused()&&this.notify("pause"))}}},{key:"notifySegment",value:function(e){var t=e.isBlocked;void 0!==t&&t||this.notify("segment",{segment_change_origin:e.origin})}},{key:"timeShifted",value:function(){var e=this.player.seekable(),t=1e3*this.currentTime(),n=1e3*(e&&e.length>0?e.end(0):this.player.duration()),r=n&&t?n-t:0;return(r<35e3?0:r/1e3).toFixed(0)}},{key:"uptime",value:function(){var e=this,t=function(){e.player.paused()||Df.isOnDemand(e.player.currentSource().streamType)||e.notify("uptime")};this.uptimeTimeoutId=setTimeout((,3e4)}},{key:"waiting",value:function(){var e=this;if(this.initialized&&!this.isWaiting){var t=this.isWaiting=!0,this.notify("buffer_start"),xf.isSafari?this.player.one(Td,t):this.player.one(hd,t)}}}])&&Yh(t.prototype,n),r&&Yh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xh=function(e){function t(){setTimeout((function(){var t,n,r,i,a,o,s=e.currentDimension("height");t=e.currentDimension("width"),n=e.options(),r=n.breakpoints,i=n.currentBreakpoint,(o=(a=Object.keys(r).reverse()).find(()||a[a.length-1])!==i&&(e.options({currentBreakpoint:o}),e.trigger({type:Qd,data:o})),s<=50?e.addClass("srgssr-player-bar"):e.removeClass("srgssr-player-bar")}),0)}e.on([kd,mf],t),e.on($d,(function(t){var n=t.data,r=(n=void 0===n?{}:n).mediaComposition;"AUDIO"!==(void 0===r?{}:r).getMainChapter().mediaType?e.removeClass("srgssr-audio-source"):e.addClass("srgssr-audio-source")})),t()};function Qh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zh={continuousPlayback:function(e,t){var n=t.player;return t.ConfigurationHandler.setSetting(n,"continuousPlayback",e)},playbackRate:function(e,t){var n=t.player;t.ConfigurationHandler.setSetting(n,"playbackRate",e)},audioDescription:function(e,t){var n,r=t.player,i=t.ConfigurationHandler,a=Array.from(r.audioTracks()),o=ah.audioTrackLanguage(void 0,r);if(e){var s=a.filter(();n=s.find((function(e){return e.language===o.language}))||s.shift()}else{var u=a.filter(();n=u.find((function(e){return e.language===o.language}))||u.shift()}i.setSetting(r,"audioTrackLanguage",ah.audioTrackLanguage({language:n.language,description:Yf.isAudioDescription(n.kind)},r))},audioTrackLanguage:function(e,t){var n=t.player;t.ConfigurationHandler.setSetting(n,"audioTrackLanguage",ah.audioTrackLanguage(e,n))},autoplay:function(e,t){var n=t.player,r=t.ConfigurationHandler;n.autoplay(e),r.setSetting(n,"autoplay",e)},textTrackLanguage:function(e,t){var n=t.player;t.ConfigurationHandler.setSetting(n,"textTrackLanguage",e)},textTrackSizeLevel:function(e,t){var n=t.player,r=t.ConfigurationHandler;ah.textTrackSizeLevel(e,n),r.setSetting(n,"textTrackSizeLevel",e)},hd:function(e,t){var n=t.player;return t.ConfigurationHandler.setSetting(n,"hd",e)}},ep=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.on(Zd,(function(r){var i=r.data,a=Qh(Object.entries(i),1),o=Qh(a[0],2),s=o[0],u=o[1];e.updateProperty({property:s,value:u},t,n)})),t.one(Ad,(function(){t.on(Sd,(function(){n.setSetting(t,"volume",t.volume()),n.setSetting(t,"muted",t.muted())}))}))}var t,n,r;return t=e,r=[{key:"updateProperty",value:function(e,t,n){var r=e.property,i=e.value,a=Zh[r];a&&a(i,{ConfigurationHandler:n,player:t})}}],(n=null)&&Jh(t.prototype,n),r&&Jh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),tp=["streamType","eventData"],np=["eventData"];function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){ap(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function op(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"il.srgssr.ch",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];sp(this,e),this.debug=r,this.player=t,this.baseUrl="".concat(n,"/integrationlayer/2.0/"),this.player.on(uf,this.socialSharing.bind(this)),this.player.on(Ad,this.clicked.bind(this))}var t,n,r;return t=e,r=[{key:"userId",get:function(){try{var e=JSON.parse(window.localStorage.getItem("playSRG-playUserIdv2"));if(e)return e.userId}catch(e){return}}}],(n=[{key:"buildUrl",value:function(e){var t=e.service,n=e.bu,r=e.id,i=e.mediaType;return"https://".concat(this.baseUrl).concat(n.toLowerCase(),"/mediaStatistic/").concat(i.toLowerCase(),"/").concat(r,"/").concat(t,".json")}},{key:"clicked",value:function(){var t=this;this.player.one(hd,(function(){var n=e.userId,r=t.loadedMedia(),i=r.streamType,a=r.eventData,o=op(r,tp),s=t.buildUrl(ip({service:"clicked"},o)),u={eventData:a},l=t.timeoutTreshold(i);n&&(u.userId=n),a&&setTimeout((,l)}))}},{key:"loadedMedia",value:function(){var e=this.player.currentSource(),t=e.bu,n=e.id,r=e.eventData,i=e.mediaType,a=e.streamType,o=e.pendingSegment;return{bu:(o=void 0===o?{}:o).vendor||t,eventData:o.eventData||r,id:o.id||n,mediaType:o.mediaType||i,streamType:o.streamType||a}}},{key:"log",value:function(e){if(this.debug){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).log.apply(t,["MediaStatistic:".concat(e)].concat(r))}}},{key:"send",value:function(e,t){var n=this;this.log("socialSharing",e,t),fetch(e,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(()}},{key:"socialSharing",value:function(t){var n=t.data,r=e.userId,i=n.eventData,a=op(n,np),o=this.buildUrl(ip({service:"shared/".concat(a.socialVendor)},a)),s={eventData:i};r&&(s.userId=r),i&&this.send(o,s)}},{key:"timeoutTreshold",value:function(e){var t=this.player.duration(),n=Number.isFinite(t)&&t>0?.8*t:0;return!Df.isOnDemand(e)||n>10?1e4:n}}])&&up(t.prototype,n),r&&up(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),cp=["analytics","ilHost","language","mediaStatistic","storageNamespace"],dp=["components"],fp=["components"];function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){gp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}unction yp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"initializePlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=e.defaultLetterboxConfiguration,i=ql.mergeOptions(r,t),a=i.analytics,o=i.ilHost,s=i.language,u=i.mediaStatistic,l=i.storageNamespace,c=mp(i,cp),d=ql.mergeOptions(e.defaultVideoJSOptions(c),{language:s,storageNamespace:l}),f=e.createPlayer(d);e.initializeServices(f,{analytics:a,ilHost:o,mediaStatistic:u,version:n});var h=c.components,p=mp(c,dp);return e.fireActions(f,p),e.handleComponentsVisibility(f,h),f}},{key:"initializeServices",value:function(t,n){var r=n.analytics,i=n.ilHost,a=n.mediaStatistic,o=n.version,s=e.getSetting(t,"debug");t.options({SRGProviders:{analytics:r&&new Wh(t,o,{tagCommanderScriptURL:e.getSetting(t,"tagCommanderScriptURL"),debug:s}),dataService:new Gh(i),mediaStatistic:a&&new lp(t,i,s),menuStrategy:new ep(t,e),layoutManager:Xh(t)},version:o,ilHost:i})}},{key:"updateConfiguration",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.components,i=void 0===r?{}:r,a=mp(n,fp),o=e.getPlayerConfiguration(t);Object.keys(o).forEach((function(n){var r=a[n];if(void 0!==r){var i={[n]:r};e.clearPlayerSetting(t,n),e.updateSettingConfiguration(t,i),e.fireActions(t,i)}})),t.trigger(Vd),e.handleComponentsVisibility(t,i)}},{key:"fireActions",value:function(t,n){Object.keys(n).forEach((function(r){var i=e.getSettingAction(r);i&&i(e.getComputedValue(t,r,n[r]),t),t.trigger({type:sf,data:r})}))}},{key:"handleComponentsVisibility",value:function(t,n){Object.keys(n).forEach((function(r){var i=Vh[r];if(i){var a=n[r];e.setComponentVisibility(t,i,a),e.updateSettingConfiguration(t,{components:{[r]:a}})}}))}},{key:"setComponentVisibility",value:function(e,t,n){var r=ah.getComponent(t,e);r&&(r.options({isComponentVisible:n}),n?r.show():r.hide())}},{key:"updateSettingConfiguration",value:,{key:"clearPlayerSetting",value:function(e,t){e.options({srgPlayerSettings:{[t]:void 0}})}},{key:"getPlayerConfiguration",value:,{key:"getSettingConfiguration",value:function(t,n){return e.getPlayerConfiguration(t)[n]}},{key:"getSetting",value:function(t,n){var r=e.getSettingConfiguration(t,n);return e.getComputedValue(t,n,r)}},{key:"isConfigurationForced",value:function(t,n){var r=void 0!==e.defaultLetterboxConfiguration[n],i=void 0!==(t||{}).default;return r&&!i}},{key:"setSetting",value:function(t,n,r){var i=e.getSettingConfiguration(t,n);if(!e.isConfigurationForced(i,n)){var a={[n]:r};t.options({srgPlayerSettings:a}),i.storage&&Kh.setItem(t.options().storageNamespace,n,r),e.fireActions(t,a)}}},{key:"getComputedValue",value:function(e,t,n){var r=e.options().srgPlayerSettings[t];if(void 0!==r)return r;if(null===n||"object"!=typeof n||"object"!=typeof n||!("default"in n))return n;var i=n.default;if(!n.storage)return i;var a=Kh.getItem(e.options().storageNamespace,t);return void 0!==a?a:i}},{key:"getSettingAction",value:function(e){return Hh[e]}},{key:"defaultVideoJSOptions",value:function(e){return{children:{warningMessageComponent:!0,mediaLoader:!0,liveTracker:!0,headerComponent:!0,posterImage:!0,overlayComponent:!0,endScreen:!0,continuousPlaybackScreen:!0,textTrackDisplay:!0,textTrackSettings:!0,loadingSpinner:!0,errorDisplay:!0,resizeManager:!0,imageCopyright:!0,skipCredits:!0,subdivisionsContainer:!0},controls:!0,controlBar:{children:["playToggle","backwardButton","forwardButton","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","chaptersButton","descriptionButton","subtitlesMenu","settingsMenu","pictureInPictureToggle","airplayButton","chromecastToggleComponent","fullscreenToggle","playbackRateMenu","SRGSSRButtonComponent"]},html5:{vhs:{overrideNative:!ql.browser.IS_SAFARI,useForcedSubtitles:!0}},playbackRates:[.5,.75,1,1.25,1.5,2],liveTracker:{trackingThreshold:120,liveTolerance:15},liveui:!0,preload:"auto",responsive:!0,techOrder:["html5"],SRGProviders:{},SRGPlayerConfiguration:e,srgPlayerSettings:{},srgTextTrackSizes:[1,1.3,1.6],userActions:{hotkeys:Uh},breakpoints:{tiny:224,xsmall:304,small:384,medium:464,large:624}}}},{key:"defaultLetterboxConfiguration",get:function(){return{analytics:!0,container:void 0,chromeCastReceiver:"1AC2931D",debug:!1,endScreenPlaylist:!1,fillMode:!0,ilHost:"il.srgssr.ch",language:"en",mediaStatistic:!0,noUI:!1,playerFocus:void 0,recommendations:!0,storageNamespace:"srgssr/letterbox/userStorage",tagCommanderScriptURL:"//colibri-js.akamaized.net/penguin/tc_SRGGD_11.js",warningMessageTimeout:6e3,components:{audioDescription:!0,controlBar:!0,header:!0,sharing:!0,title:!0,thumbnails:!0,playButton:!0,subdivisions:!0},audioTrackLanguage:{default:!1,storage:!0},autoplay:{default:!1,storage:!0},continuousPlayback:{default:!0,storage:!0},debugMenu:!1,hd:{default:!0,storage:!0},muted:{default:!1,storage:!0},playbackRate:{default:1,storage:!0},textTrackLanguage:{default:!1,storage:!0},textTrackSizeLevel:{default:1,storage:!0},volume:{default:1,storage:!0}}}},{key:"defaultVideo",value:function(){var e=document.createElement("video");return e.classList.add("video-js"),e.classList.add("vjs-srgssr-skin"),e.classList.add("vjs-fluid"),e.classList.add("vjs-show-big-play-button-on-pause"),e}},{key:"createPlayer",value:function(t){var n=t.SRGPlayerConfiguration,r=(n=void 0===n?{}:n).container,i=void 0===r?"":r,a="string"==typeof i,o=i instanceof Element;if(!o&&!a||a&&0===i.trim().length)throw new Error("The container must be a valid selector or a DOM element");var s=o?i:document.querySelector(i);if(!s)throw new Error("The container ".concat(i," is not found"));var u=e.defaultVideo();return ql.browser.IS_IPHONE&&u.setAttribute("playsinline",""),s.classList.add("letterbox-web"),s.appendChild(u),new ql(u,t)}}],(n=null)&&yp(t.prototype,n),r&&yp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _p(){_p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var c={};function d(){}function f(){}function h(){}var p={};s(p,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(w([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=d.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function w(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=h,s(y,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(_.prototype),s(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function bp(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Tp(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){bp(a,r,i,o,s,"next",e)}function s(e){bp(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ep=function(e){var t=e.log;function n(){e.options().SRGProviders.mediaComposition.getFilteredExternalSubtitles(t).forEach((function(t){e.addRemoteTextTrack({kind:"SDH"===t.type?"captions":"subtitles",label:t.language,language:t.locale,src:t.url})}))}function r(){null!==e.error()&&e.error(null)}function i(t){var n,r=new Gc,i=new Uc(t,Dc.getEnvironment(),ed.a),a=function(){Rc.hasDrm([e.currentSource()])&&i.setDrmResult()},o=function(){var t=Tp(_p().mark((function t(n){var i,a,o;return _p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.send(n);case 2:return i=t.sent,t.next=5,i.json();case 5:(a=t.sent)&&"created"===a.result&&(o=a._id,e.getCache().lastPerformanceReportId=o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=e.options().SRGProviders.mediaComposition;if(t){var n=t.getMainChapter(),r=n.blockReason,a=n.playableAbroad;i.setIlMediaComposition({blockReason:r,playableAbroad:a,noPlayableResourceFound:0===e.currentSources().length})}},u=function(){xc.isProtected([e.currentSource()])&&i.setTokenResult(e.currentSource().tokenDiagnostic)},l=!1,c=function(){s(),a(),u(),i.setPlayerResult({url:e.currentSource().src,duration:!1}),o(i),e.off(sd,n)};return n=function(){s(),a(),u(),i.setPlayerResult({url:e.currentSource().src,httpStatusText:e.error().detailedMessage||e.error().type||e.error().message,duration:!1}),l||(o(i),l=!0),e.off(rd,c)},e.one(rd,c),e.one(sd,n),i}function a(t,n){try{var r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(()}(t);if(!ql.browser.IS_ANY_SAFARI&&Rc.hasDrm(r)&&(r=r.filter((function(e){return"DASH"===e.streaming}))),ql.browser.IS_ANY_SAFARI&&Rc.hasDrm(r)&&(r=r.filter((function(e){return"HLS"===e.streaming}))),!1===vp.getSetting(e,"hd")){var i=r.filter((function(e){return![lh.HD,lh.HQ].includes(e.quality)}));i.length>0&&(r=i)}return xc.isProtected(r)?Cc.tokenizeSources(r).then((function(e){return e})).catch((function(t){n.setTokenResult(t),e.error(Vc.ERROR_BLOCKING_REASON_UNKNOWN)})):r}catch(t){return n.setTokenResult(t),void e.error(Vc.ERROR_BLOCKING_REASON_UNKNOWN)}}function o(t,n,r){return e.options().SRGProviders.dataService.getMediaCompositionByUrn(t,n).then(().catch(()}function s(t){var n=t.aspectRatio;n&&e.trigger({type:jd,data:{aspectRatio:n}})}function u(){return(u=Tp(_p().mark((function u(l){var c,d,f,h,p,g,m;return _p().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(r(),e.options().SRGProviders.periodicListener&&e.options().SRGProviders.periodicListener.stop(),c=l.src,d=l.playbackSettings,f=l.pendingSeek,h=l.standalone,g=i(c),!l.mediaComposition){u.next=8;break}p=l.mediaComposition,u.next=11;break;case 8:return u.next=10,o(c,h,g);case 10:p=u.sent;case 11:if(!p){u.next=18;break}t.debug("Media composition loaded"),e.options({SRGProviders:{mediaComposition:Object.assign(new Ph,p,{pendingSeek:f,playbackSettings:d})}}),e.trigger({type:$d,data:{mediaComposition:e.options().SRGProviders.mediaComposition}}),s(e.options().SRGProviders.mediaComposition.getMainChapter()),u.next=20;break;case 18:return t.warn("No media composition"),u.abrupt("return");case 20:return u.next=22,a(e.options().SRGProviders.mediaComposition.getMainResources(),g);case 22:if(m=u.sent,e.options({SRGProviders:{periodicListener:new sh(e.options().SRGProviders.mediaComposition.chapterUrn,h,e)}}),e.options().SRGProviders.periodicListener.start(),m){u.next=28;break}return t.warn("No resource"),u.abrupt("return");case 28:if(!e.options().SRGProviders.mediaComposition.getMainBlockReason()){u.next=31;break}return e.error(Zc.toError(e.options().SRGProviders.mediaComposition.getMainBlockReason())),u.abrupt("return");case 31:if(n(),e.poster(e.options().SRGProviders.mediaComposition.getMainChapterImageUrl()),xf.isDRMSupported()||!Rc.hasDrm(m)){u.next=36;break}return e.error(Vc.ERROR_DRM_NOT_SUPPORTED_MESSAGE),u.abrupt("return");case 36:e.src(m),ql.browser.IS_ANY_SAFARI&&Rc.hasDrm(m)&&(e.eme=ql.getPlugin("eme"),e.eme()),t.debug("Srgssr middleware ready");case 39:case"end":return u.stop()}}),u)})))).apply(this,arguments)}return{setSource:function(e){return u.apply(this,arguments)}}};function Sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ql.use("srgssr/urn",(function(e){return Ep(e)}));var Ap=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Cp(this,e),this.blockedSegments=[],this.currentSegment=void 0,this.playableSegments=[],this.player=t,this.segments=n,this.extractBlockedSegments(),this.extractPlayableSegments()}var t,n,r;return t=e,r=[{key:"doesSegmentContainTime",value:function(e,t){return t>=Dc.millisecondsToSeconds(e.markIn)&&t<Dc.millisecondsToSeconds(e.markOut)}},{key:"isIntervalBlocked",value:function(){var t=arguments.length>1?arguments[1]:void 0;return Sp((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return e.blockReason})).filter((function(n){return e.doesSegmentContainTime(n,t)})),1)[0]}},{key:"endOfSegmentInSeconds",value:,{key:"BLOCKED_SEGMENT_SKIPPED",get:function(){return Gd}},{key:"SEGMENT_CHANGE",get:function(){return af}}],(n=[{key:"extractBlockedSegments",value:,{key:"extractPlayableSegments",value:,{key:"getBlockedSegment",value:function(t){return Sp(this.blockedSegments.filter((function(n){return e.doesSegmentContainTime(n,t)})),1)[0]}},{key:"getPlayableSegment",value:function(t){return this.playableSegments.filter((function(n){return e.doesSegmentContainTime(n,t)})).pop()}},{key:"skipIfInBlockedSegment",value:function(t){var n=t,r=this.getBlockedSegment(t);return r&&(n=e.endOfSegmentInSeconds(r),this.player.currentTime(n),this.triggerBlockedSegmentSkipped(r)),n}},{key:"getValidTime",value:function(t){var n=this.getBlockedSegment(t);return n?this.getValidTime(e.endOfSegmentInSeconds(n)):t}},{key:"checkSegmentChange",value:function(e){this.currentSegment!==this.getPlayableSegment(e)&&(this.currentSegment=this.getPlayableSegment(e),this.triggerSegmentChange())}},{key:"triggerBlockedSegmentSkipped",value:function(t){t&&this.player.trigger({type:e.BLOCKED_SEGMENT_SKIPPED,data:t.blockReason})}},{key:"triggerSegmentChange",value:function(){this.currentSegment&&this.player.trigger({type:af,data:this.currentSegment.urn})}}])&&Op(t.prototype,n),r&&Op(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pp(){return(Pp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ip(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Ip(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lp(e)););return e}function kp(e,t){return(kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Dp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lp(e);if(t){var i=Lp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mp(this,n)}}function Mp(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Lp(e){return(Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.use("*",(function(e){var t,n;function r(n){var r=n,i=e.currentSource(),a=i.pendingSeek,o=i.pendingSegment,s=e.options().SRGProviders.mediaComposition,u=t.getBlockedSegment(a);return a&&(i.pendingSeek=void 0,e.one(ld,(function(){r=function(e,t){var n=Dc.millisecondsToSeconds;return e.findMainSegment()&&t&&t!==n(e.findMainSegment().markIn)&&t<n(e.findMainSegment().duration)?n(e.findMainSegment().markIn)+t:t}(s,a),e.currentTime(r),t.triggerBlockedSegmentSkipped(u),function(t,n){n&&(e.trigger({type:of,data:{analyticsMetadata:n.analyticsMetadata,origin:"start",isBlocked:!!n.blockReason}}),e.one(hd,())}(i,o)}))),r}function i(e){var n=e;return n=r(n),n=t.skipIfInBlockedSegment(n),t.checkSegmentChange(n),n}return{currentTime:i,callPause:function(){Df.isLive(e.currentSource().streamType)&&e.hasStarted()&&(e.trigger(od),e.currentSource().needToRestart=!0)},callPlay:function(){if(e.currentSource().needToRestart||Df.isLive(e.currentSource().streamType)&&e.autoplay()&&!e.hasStarted())return ah.loadMedia(e,{urn:ah.getUrn(e),autoplay:!0}),ql.middleware.TERMINATOR},setCurrentTime:function(n){return Df.isLive(e.currentSource().streamType)?i:t.getValidTime(n)},setSource:function(r,i){if(n!==r.src){n=e.currentSource().src;var a=e.options().SRGProviders.mediaComposition;t=null!=a?new Ap(e,a.getMainSegments()):null}i(null,r)}}}));var Np=ql.getComponent("Component"),xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kp(e,t)}(a,e);var t,n,r,i=Dp(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).initListener(),n}return t=a,(n=[{key:"initListener",value:function(){this.player().on([cd,$d],this.updateTitle.bind(this))}},{key:"updateTitle",value:function(){this.changeTitle(this.player().options().SRGProviders.mediaComposition.getMainChapter().title)}},{key:"createEl",value:function(){return Pp(Lp(a.prototype),"createEl",this).call(this,"h1",{className:this.buildCSSClass()})}},{key:"buildCSSClass",value:function(){return"".concat(Pp(Lp(a.prototype),"buildCSSClass",this).call(this)," srg-title").trim()}},{key:"changeTitle",value:function(e){ql.dom.textContent(this.el(),e)}}])&&Rp(t.prototype,n),r&&Rp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Np);function Fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Up(){return(Up="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Bp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Bp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vp(e)););return e}function jp(e,t){return(jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vp(e);if(t){var i=Vp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hp(this,n)}}function Hp(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vp(e){return(Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Np.registerComponent("TitleComponent",xp);var qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jp(e,t)}(a,e);var t,n,r,i=Gp(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,e,t),t.controlText&&n.controlText(t.controlText),t.isHidden&&n.hide(),n.flashMessage=null,n.createButtonEl(),n}return t=a,(n=[{key:"buildCSSClass",value:function(){var e=this.options().className?"".concat(this.options().className):"";return"".concat(Up(Vp(a.prototype),"buildCSSClass",this).call(this)," sharing-social__action__link ").concat(e," vjs-icon-").concat(this.options().iconName)}},{key:"createEl",value:function(){return Up(Vp(a.prototype),"createEl",this).call(this,"div",{className:"sharing-social__action"})}},{key:"createButtonEl",value:function(){var e=document.createDocumentFragment();e.appendChild(ql.dom.createEl("a",{className:this.buildCSSClass()},{tabIndex:-1,target:"_blank",rel:"noopener",href:"#"})),e.appendChild(ql.dom.createEl("span",{className:"sharing-social__action__title",innerHTML:this.options().caption})),this.el().appendChild(e)}},{key:"triggerAnalytics",value:function(){var e=this.player().currentSource().bu,t=this.options().socialSharingStrategy.getSharedMedia(),n=t.eventData,r=t.id,i=t.mediaType;this.player().trigger({type:uf,data:{socialVendor:this.name(),bu:e,eventData:n,id:r,mediaType:i}})}},{key:"triggerAction",value:function(){return window.open(this.options().href(),"_blank","toolbar=0,\n      location = 0,\n      status = 0,\n      menubar = 0,\n      scrollbars = 1,\n      resizable = 0,\n      width = 550px,\n      height = 420px")}},{key:"triggerFlash",value:function(){var e=this;this.$(".sharing-social__action__title").textContent=this.localize(this.flashMessage),this.$(".sharing-social__action__link").classList.add("sharing-social__action__link--clicked"),this.setTimeout((function(){e.$(".sharing-social__action__title").textContent=e.options().caption,e.$(".sharing-social__action__link").classList.remove("sharing-social__action__link--clicked")}),750)}},{key:"handleClick",value:function(e){e.preventDefault(),this.triggerAnalytics(),this.triggerAction(),this.flashMessage&&this.triggerFlash()}}])&&Fp(t.prototype,n),r&&Fp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("ClickableComponent"));ql.registerComponent("SharingSocialAction",qp);var Kp=qp;function zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yp(e,t){return(Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qp(e);if(t){var i=Qp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xp(this,n)}}function Xp(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qp(e){return(Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yp(e,t)}(a,e);var t,n,r,i=Wp(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).flashMessage="Copied",n}return t=a,(n=[{key:"triggerAction",value:])&&zp(t.prototype,n),r&&zp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Kp);ql.registerComponent("SharingCopyLinkAction",$p);var Jp=$p;function Zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eg(e,t){return(eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rg(e);if(t){var i=rg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ng(this,n)}}function ng(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rg(e){return(rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ig=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eg(e,t)}(a,e);var t,n,r,i=tg(a);eturn t=a,(n=[{key:"triggerAction",value:function(){Dc.copyTextToClipboard('<iframe width="560" height="315" src="'.concat(this.options().href(),'&subdivisions=false" allowfullscreen allow="geolocation *; autoplay; encrypted-media"></iframe>'))}}])&&Zp(t.prototype,n),r&&Zp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Kp);ql.registerComponent("SharingEmbedAction",ig);var ag=ig;function og(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ug(){return(ug="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=lg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function lg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hg(e)););return e}function cg(e,t){return(cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hg(e);if(t){var i=hg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fg(this,n)}}function fg(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hg(e){return(hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}(a,e);var t,n,r,i=dg(a);function a(){return og(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"triggerAction",value:function(){var e=ug(hg(a.prototype),"triggerAction",this).call(this);this.setTimeout((function(){e.close()}),500)}}])&&sg(t.prototype,n),r&&sg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Kp);ql.registerComponent("SharingMailAction",pg);var gg=pg;function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(n),!0).forEach((function(t){vg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bg(){return(bg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Tg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Tg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cg(e)););return e}function Eg(e,t){return(Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cg(e);if(t){var i=Cg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wg(this,n)}}function wg(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cg(e){return(Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Og=ql.getComponent("Component"),Ag=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}(a,e);var t,n,r,i=Sg(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=i.call(this,e,t)).options(),o=r.socialSharing,s=r.socialSharingStrategy;return n.addChildren(s,o),n.player().on(Td,(function(){s.isEmbeddable()?n.getChild("embed").show():n.getChild("embed").hide()})),n}return t=a,(n=[{key:"addChildren",value:function(e,t){var n=this;[this.createActionButton(Kp,{name:"facebook",caption:this.localize("Facebook"),controlText:this.localize("Share on Facebook"),iconName:"facebook",href:function(){return"https://www.facebook.com/sharer/sharer.php?u=".concat(e.getShareURL())}}),this.createActionButton(Kp,{name:"twitter",caption:this.localize("Twitter"),controlText:this.localize("Share on Twitter"),iconName:"twitter",href:function(){return"https://twitter.com/intent/tweet?text=".concat(e.getShareTitle(),"&url=").concat(e.getShareURL(),"&via=").concat(t().twitterAccount)}}),this.createActionButton(Kp,{name:"linkedin",caption:this.localize("LinkedIn"),controlText:this.localize("Share on Linkedin"),iconName:"linkedin",href:function(){return"https://www.linkedin.com/shareArticle?mini=true&url=".concat(e.getShareURL(),"&title=").concat(e.getShareTitle())}}),this.createActionButton(Kp,{name:"whatsapp",caption:this.localize("WhatsApp"),controlText:this.localize("Share on Whatsapp"),iconName:"whatsapp",href:),this.createActionButton(gg,{name:"mail",caption:this.localize("Mail"),controlText:this.localize("Share by e-mail"),iconName:"mail",href:),this.createActionButton(Jp,{name:"link",caption:this.localize("Copy link"),controlText:this.localize("Copy link"),iconName:"link",href:function(){return e.getShareURL()}}),this.createActionButton(ag,{name:"embed",caption:this.localize("Embed"),controlText:this.localize("Embed"),iconName:"embed",isHidden:!e.isEmbeddable(),href:function(){return e.getEmbedURL()}})].forEach((function(e){n.addChild(e)}))}},{key:"createActionButton",value:function(e,t){var n=this.options().socialSharingStrategy;return new e(this.player(),yg(yg({},t),{},{socialSharingStrategy:n}))}},{key:"createEl",value:function(){return bg(Cg(a.prototype),"createEl",this).call(this,"div",{className:"sharing-container__buttons"})}}])&&_g(t.prototype,n),r&&_g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Og);Og.registerComponent("SharingButtons",Ag);var Rg=Ag;function Pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kg(){return(kg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Dg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Dg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xg(e)););return e}function Mg(e,t){return(Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xg(e);if(t){var i=xg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ng(this,n)}}function Ng(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xg(e){return(xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mg(e,t)}(a,e);var t,n,r,i=Lg(a);function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Pg(this,a),t=i.call(this,e,n),n.controlText&&t.controlText(n.controlText),t}return t=a,(n=[{key:"buildCSSClass",value:function(){var e=this.options().className?"".concat(this.options().className):"";return"".concat(kg(xg(a.prototype),"buildCSSClass",this).call(this)," ").concat(e," vjs-icon-").concat(this.options().icon)}},{key:"handleClick",value:])&&Ig(t.prototype,n),r&&Ig(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));ql.registerComponent("SharingButton",Fg);var Ug=Fg;function Bg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gg(){return(Gg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Hg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Hg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zg(e)););return e}function Vg(e,t){return(Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zg(e);if(t){var i=zg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kg(this,n)}}function Kg(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zg(e){return(zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}(a,e);var t,n,r,i=qg(a);function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isHidden:!1};Bg(this,a),t=i.call(this,e,n);var r=n.controlText,o=n.isHidden;return t.controlText(r),t.disable(t.options().disabled),o&&t.hide(),t}return t=a,r=[{key:"createRadioButtonEl",value:function(){return ql.dom.createEl("span",{className:"sharing-option__radio-button"},{"aria-hidden":"true"})}}],(n=[{key:"buildCSSClass",value:function(){return"sharing-option__label ".concat(Gg(zg(a.prototype),"buildCSSClass",this).call(this))}},{key:"createEl",value:function(){var e=Gg(zg(a.prototype),"createEl",this).call(this,"label",{className:this.buildCSSClass()});return e.appendChild(this.createChildrenFragment()),e}},{key:"createChildrenFragment",value:function(){var e=document.createDocumentFragment(),t=this.createInputRadioEl(),n=a.createRadioButtonEl(),r=this.createLabelEl();return e.appendChild(t),e.appendChild(n),e.appendChild(r),e}},{key:"createInputRadioEl",value:function(){return ql.dom.createEl("input",{className:"sharing-option__input",checked:this.options().checked,value:this.options().value},{type:"radio",name:"sharing-option","aria-hidden":"true",tabIndex:"-1"})}},{key:"createLabelEl",value:function(){return ql.dom.createEl("span",{innerHTML:this.localize(this.options().labelText)},{"aria-hidden":"true"})}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$(".sharing-option__input").disabled=e,this.removeClass("sharing-option--disable"),this.el().setAttribute("aria-disabled","false"),e&&(this.$(".sharing-option__input").checked=!1,this.addClass("sharing-option--disable"),this.el().setAttribute("aria-disabled","true"))}},{key:"handleClick",value:function(){this.isChecked()||this.$(".sharing-option__input").disabled||(this.$(".sharing-option__input").checked=!0,Gg(zg(a.prototype),"handleClick",this).call(this))}},{key:"isChecked",value:,{key:"isHidden",value:function(){return!!this.options().isHidden&&this.options().isHidden()}},{key:"update",value:])&&jg(t.prototype,n),r&&jg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("ClickableComponent"));ql.registerComponent("SharingOption",Yg);var Wg=Yg;function Xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qg={srf:"srf",rsi:"rsi",rtr:"rtr",rts:"rts",swi:"play.swissinfo"},$g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectUrl",value:function(t){var n=t.id,r=t.vendor,i=t.mediaType,a=e.getHostNameByVendor(r),o=e.getPlayMediaType(i);if(a)return"".concat(a,"/play/").concat(o,"/redirect/detail/").concat(n)}},{key:"embedUrl",value:function(t){var n=t.urn,r=t.vendor,i=e.getHostNameByVendor(r);if(i)return"".concat(i,"/play/embed?urn=").concat(n)}},{key:"getHostNameByVendor",value:function(e){if(e){var t=Qg[e.trim().toLowerCase()],n=t&&t.indexOf(".")<0?"www.":"";return"https://".concat(n).concat(t,".ch")}}},{key:"getPlayMediaType",value:,{key:"redirectUrlFromSubdivision",value:function(t){var n=e.getHostNameByVendor(t.vendor),r=e.getPlayMediaType(t.mediaType),i=t.id;if(n)return"".concat(n,"/play/").concat(r,"/redirect/detail/").concat(i)}}],(n=null)&&Xg(t.prototype,n),r&&Xg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Jg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var em=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.SHARING_MODES.FULL_LENGTH;Jg(this,e),this.player=t,this.mode=n;var r=e.SHARING_MODES;this.shareStrategies={[r.FULL_LENGTH]:this.getFullLengthShareURL.bind(this),[r.CURRENT_SUBDIVISION]:this.getCurrentSubdivisionShareURL.bind(this),[r.CURRENT_POSITION]:this.getCurrentPositionShareURL.bind(this)},this.embedStrategies={[r.FULL_LENGTH]:this.getFullLengthEmbedURL.bind(this),[r.CURRENT_SUBDIVISION]:this.getCurrentSubdivisionEmbedURL.bind(this),[r.CURRENT_POSITION]:this.getCurrentPositionEmbedURL.bind(this)},this.titleStrategies={[r.FULL_LENGTH]:this.getMainChapterTitle.bind(this),[r.CURRENT_SUBDIVISION]:this.getCurrentSubdivisionTitle.bind(this),[r.CURRENT_POSITION]:this.getMainChapterTitle.bind(this)}}var t,n,r;return t=e,r=[{key:"SHARING_MODES",get:],(n=[{key:"isEmbeddable",value:function(){if(this.player.hasClass("srgssr-touch-enabled"))return!1;var e=this.getCurrentSubdivision();return e?!e.noEmbed:!this.getMainChapter().noEmbed}},{key:"setMode",value:function(e){this.mode=e}},{key:"getShareURL",value:function(){return this.shareStrategies[this.mode]()}},{key:"getEmbedURL",value:function(){return this.embedStrategies[this.mode]()}},{key:"getCurrentPositionEmbedURL",value:function(){return"".concat(this.getFullLengthEmbedURL(),"&startTime=").concat(parseInt(this.player.currentTime(),10))}},{key:"getCurrentSubdivisionEmbedURL",value:function(){var e=this.getCurrentSubdivision();return e?$g.embedUrl(e):this.getFullLengthEmbedURL()}},{key:"getFullLengthEmbedURL",value:function(){var e=this.getMainChapter();return $g.embedUrl(e)}},{key:"getFullLengthShareURL",value:,{key:"getCurrentSubdivisionShareURL",value:,{key:"getCurrentPositionShareURL",value:function(){return"".concat(this.getFullLengthShareURL(),"?startTime=").concat(parseInt(this.player.currentTime(),10))}},{key:"getMainChapter",value:,{key:"getCurrentSubdivision",value:function(){return new Ap(this.player,this.player.options().SRGProviders.mediaComposition.getSubdivisions()).getPlayableSegment(this.player.currentTime())}},{key:"getCurrentSubdivisionTitle",value:,{key:"getMainChapterTitle",value:function(){return this.getMainChapter().title}},{key:"getSharedMedia",value:function(){return this.mode===e.SHARING_MODES.CURRENT_SUBDIVISION?this.getCurrentSubdivision():this.player.currentSource()}},{key:"getShareTitle",value:])&&Zg(t.prototype,n),r&&Zg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nm(){return(nm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=rm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function rm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sm(e)););return e}function im(e,t){return(im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sm(e);if(t){var i=sm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return om(this,n)}}function om(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sm(e){return(sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var um=ql.getComponent("Component"),lm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&im(e,t)}(a,e);var t,n,r,i=am(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,e,t);var r=em.SHARING_MODES;return n.addChildren(r),n.player().on(Td,(function(){n.options().socialSharingStrategy.getCurrentSubdivision()?n.getChild(r.CURRENT_SUBDIVISION).disable(!1):(n.getChild(r.CURRENT_SUBDIVISION).isChecked()&&n.getChild(r.FULL_LENGTH).handleClick(),n.getChild(r.CURRENT_SUBDIVISION).disable(!0))})),n}return t=a,(n=[{key:"addChildren",value:function(e){var t=this;[new Wg(this.player(),{name:e.FULL_LENGTH,controlText:"Share the episode",labelText:"Episode",checked:!0,clickHandler:function(){t.options().socialSharingStrategy.setMode(e.FULL_LENGTH)}}),new Wg(this.player(),{name:e.CURRENT_SUBDIVISION,controlText:"Share the current subject",labelText:"Current subject",disabled:!0,isHidden:function(){return!t.player().options().SRGProviders.mediaComposition.getSubdivisions().length},clickHandler:function(){t.options().socialSharingStrategy.setMode(e.CURRENT_SUBDIVISION)}}),new Wg(this.player(),{name:e.CURRENT_POSITION,controlText:"Share at current position",labelText:"Current position",clickHandler:function(){t.options().socialSharingStrategy.setMode(e.CURRENT_POSITION)}})].forEach((function(e){t.addChild(e)}))}},{key:"createEl",value:function(){return nm(sm(a.prototype),"createEl",this).call(this,"div",{className:"sharing-container__options"})}},{key:"handleClick",value:])&&tm(t.prototype,n),r&&tm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(um);um.registerComponent("SharingOptions",lm);var cm=lm;function dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fm(){return(fm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function hm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ym(e)););return e}function pm(e,t){return(pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ym(e);if(t){var i=ym(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mm(this,n)}}function mm(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ym(e){return(ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vm=ql.getComponent("Component"),_m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pm(e,t)}(a,e);var t,n,r,i=gm(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).hasBeenPausedBefore=!1,n.socialSharingStrategy=new em(e),n.hide(),n.createChildren(),n}return t=a,(n=[{key:"reset",value:function(e,t){this.socialSharing=e,t?this.getChild("sharingOptions").hide():this.getChild("sharingOptions").show(),this.getChild("sharingOptions").children().forEach((function(e){e.name()===em.SHARING_MODES.FULL_LENGTH&&e.handleClick(),e.update()}))}},{key:"show",value:function(){this.removeClass("sharing-container--hidden"),this.options().parent.addClass("sharing-module--opened"),Dc.hideFromAccessibility(!1,this.el()),this.setFocusToFirstElement(),this.hasBeenPausedBefore=this.player().paused(),this.player().paused()||this.player().pause()}},{key:"hide",value:function(){this.addClass("sharing-container--hidden"),Dc.hideFromAccessibility(!0,this.el()),this.options().parent.removeClass("sharing-module--opened"),this.player().hasStarted()&&this.player().paused()&&!this.hasBeenPausedBefore&&this.player().play()}},{key:"setFocusToFirstElement",value:function(){var e=Dc.getKeyboardFocusableElements(this.el());e&&e.length>0&&e[0].focus()}},{key:"createEl",value:function(){return fm(ym(a.prototype),"createEl",this).call(this,"div",{className:"sharing-container sharing-container--hidden"})}},{key:"createChildren",value:function(){var e=this;this.addChild(new Ug(this.player(),{name:"close",controlText:this.localize("Close"),className:"sharing-container__close",icon:"close",onClick:function(){e.hide(),e.options().parent.getChild("sharingButton").focus()}})),this.addChild(new vm(this.player(),{name:"containerTitle",el:ql.dom.createEl("h1",{className:"sharing-container__title",innerHTML:this.localize("Share")})})),this.addChild(new cm(this.player(),{name:"sharingOptions",socialSharingStrategy:this.socialSharingStrategy})),this.addChild(new Rg(this.player(),{socialSharing:function(){return e.socialSharing},socialSharingStrategy:this.socialSharingStrategy}))}}])&&dm(t.prototype,n),r&&dm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(vm);vm.registerComponent("SharingContainer",_m);var bm=_m,Tm=n(110);function Em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sm(){return(Sm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=wm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function wm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pm(e)););return e}function Cm(e,t){return(Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pm(e);if(t){var i=Pm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rm(e)}function Rm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pm(e){return(Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Im=ql.getComponent("Component"),km=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}(a,e);var t,n,r,i=Om(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).hide(),n.on(e,cd,(function(){n.hide(),n.getChild("sharingContainer")||(n.addChild(new Ug(e,{name:"sharingButton",controlText:n.localize("Share"),className:"sharing-module__link",icon:"share",onClick:n.handleClick.bind(Rm(n))})),n.addChild(new bm(e,{name:"sharingContainer",parent:Rm(n)})))})),n.on(e,Ad,(function(){var e=n.player().options().SRGProviders.mediaComposition.getMainChapter().vendor,t=e&&Tm[e.toLowerCase()],r=n.options().isComponentVisible;if((void 0===r||r)&&t){n.show();var i=!Df.isOnDemand(n.player().currentSource().streamType);n.getChild("sharingContainer").reset(t,i)}})),n}return t=a,(n=[{key:"createEl",value:,{key:"handleClick",value:function(e){e.preventDefault();var t=this.getChild("sharingContainer");t.hasClass("sharing-container--hidden")?t.show():t.hide()}}])&&Em(t.prototype,n),r&&Em(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Im);function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mm(){return(Mm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Lm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Lm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Um(e)););return e}function Nm(e,t){return(Nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Um(e);if(t){var i=Um(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fm(this,n)}}function Fm(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Um(e){return(Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Im.registerComponent("SharingModule",km);var Bm=ql.getComponent("Component"),jm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nm(e,t)}(a,e);var t,n,r,i=xm(a);function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=ql.mergeOptions({children:["TitleComponent","SharingModule"]},t);return i.call(this,e,n)}return t=a,(n=[{key:"createEl",value:function(){return Mm(Um(a.prototype),"createEl",this).call(this,"div",{className:"vjs-container-header",dir:"ltr"})}}])&&Dm(t.prototype,n),r&&Dm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Bm);function Gm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vm(){return(Vm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function qm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wm(e)););return e}function Km(e,t){return(Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wm(e);if(t){var i=Wm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ym(this,n)}}function Ym(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wm(e){return(Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Bm.registerComponent("HeaderComponent",jm);var Xm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Km(e,t)}(a,e);var t,n,r,i=zm(a);function a(){return Gm(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"enable",value:function(){Vm(Wm(a.prototype),"enable",this).call(this),this.show()}},{key:"disable",value:])&&Hm(t.prototype,n),r&&Hm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("PictureInPictureToggle"));function Qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $m(){return($m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Jm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Jm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ny(e)););return e}function Zm(e,t){return(Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ey(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ny(e);if(t){var i=ny(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ty(this,n)}}function ty(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ny(e){return(ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("PictureInPictureToggle",Xm);var ry=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}(a,e);var t,n,r,i=ey(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).init(),n}return t=a,r=[{key:"hasImageCopyright",value:],(n=[{key:"buildCSSClass",value:function(){return"image-copyright ".concat($m(ny(a.prototype),"buildCSSClass",this).call(this))}},{key:"createEl",value:function(){return $m(ny(a.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"hideAfterTimeout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;this.player().one(Ad,(function(){setTimeout(e.hide.bind(e),t)}))}},{key:"init",value:function(){var e=this;this.player().on(cd,(function(){var t=e.player().currentSource(),n=t.imageCopyright,r=t.mediaType;e.reset(),a.hasImageCopyright(n,r)&&(e.updateInnerText(n),e.show(),e.hideAfterTimeout())}))}},{key:"reset",value:,{key:"updateInnerText",value:])&&Qm(t.prototype,n),r&&Qm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Component"));function iy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oy(){return(oy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=sy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function sy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dy(e)););return e}function uy(e,t){return(uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ly(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dy(e);if(t){var i=dy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cy(this,n)}}function cy(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dy(e){return(dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("ImageCopyright",ry);var fy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}(a,e);var t,n,r,i=ly(a);function a(){return iy(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"handlePlay",value:function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused");var e=Df.isLive(this.player().currentSource().streamType),t=!Df.isOnDemand(this.player().currentSource().streamType)&&"Chromecast"===this.player().tech(!0).name();e||t?(this.removeClass("vjs-playing"),this.addClass("vjs-playing-live"),this.controlText("Stop")):(this.addClass("vjs-playing"),this.controlText("Pause"))}},{key:"handlePause",value:function(e){this.removeClass("vjs-playing-live"),this.removeClass("vjs-ended"),oy(dy(a.prototype),"handlePause",this).call(this,e)}},{key:"handleEnded",value:function(e){this.removeClass("vjs-playing-live"),oy(dy(a.prototype),"handleEnded",this).call(this,e),Df.isLive(this.player().currentSource().streamType)&&this.player().isInPictureInPicture()&&this.player().exitPictureInPicture()}}])&&ay(t.prototype,n),r&&ay(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("PlayToggle"));function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function py(){return(py="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=gy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function gy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_y(e)););return e}function my(e,t){return(my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_y(e);if(t){var i=_y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vy(this,n)}}function vy(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _y(e){return(_y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("PlayToggle",fy);var by=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}(a,e);var t,n,r,i=yy(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).newTime=void 0,n.position=void 0,n.initListener(),n}return t=a,r=[{key:"silencePromise",value:,{key:"percentage",value:],(n=[{key:"initListener",value:function(){var e=this;this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.player().on(yd,()}},{key:"update",value:,{key:"getCurrentTime_",value:function(){return this.player().scrubbing()?this.player().getCache().currentTime:this.player().currentTime()}},{key:"createEl",value:function(){return py(_y(a.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}},{key:"handleMouseDown",value:function(e){e&&e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||ql.IS_CHROME||e.preventDefault(),ql.dom.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.player().scrubbing(!0);var t=this.bar.el().ownerDocument;this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.calculateNewTime(e),this.player().currentTime(this.newTime),this.videoWasPlaying=!this.player().paused(),this.videoWasPlaying&&this.player().pause()}},{key:"handleMouseMove",value:function(e){this.displayTimeToolTip(!1),this.calculateNewTime(e),this.player().getCache().currentTime=this.newTime,this.player().currentTime(this.newTime),this.player().liveTracker&&this.player().liveTracker.isLive()||this.setPosition()}},{key:"handleMouseUp",value:function(e){e&&e.stopPropagation();var t=this.bar.el().ownerDocument;ql.dom.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.player().liveTracker&&this.player().liveTracker.isLive()||(this.player().currentTime(this.newTime),this.setPosition()),this.player().scrubbing(!1),this.videoWasPlaying&&a.silencePromise(this.player().play())}},{key:"setPosition",value:function(){this.bar.update(this.newTime,py(_y(a.prototype),"update",this).call(this));var e=this.player().duration()===1/0?this.player().liveTracker.liveWindow():this.player().duration();this.bar.el().style.width="".concat(a.percentage(this.newTime,e),"%")}},{key:"calculateNewTime",value:function(e){var t=this.calculateDistance(e),n=this.player().liveTracker;if(n&&n.isLive()){var r=n.seekableStart(),i=n.liveCurrentTime();this.newTime=r+t*n.liveWindow(),this.newTime>=i&&(this.newTime=i-10),this.newTime<=r&&(this.newTime=r+.1)}else this.newTime=t*this.player().duration(),this.newTime===this.player().duration()&&(this.newTime=this.newTime-.1)}},{key:"displayTimeToolTip",value:function(e){void 0!==this.bar.timeTooltip&&(e?this.bar.timeTooltip.show():this.bar.timeTooltip.hide())}}])&&hy(t.prototype,n),r&&hy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("SeekBar"));function Ty(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ey(){return(Ey="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Sy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Sy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ry(e)););return e}function wy(e,t){return(wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Cy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ry(e);if(t){var i=Ry(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Oy(this,n)}}function Oy(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ay(e)}function Ay(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ry(e){return(Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}by.prototype.playerEvent="timeupdate",ql.registerComponent("SeekBarCustomComponent",by);var Py=ql.getComponent("Component"),Iy=1.2,ky=1.8,Dy=1.2,My=1,Ly=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}(a,e);var t,n,r,i=Cy(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).moveCancel=n.moveCancel.bind(Ay(n)),n.moveListener=n.moveListener.bind(Ay(n)),n.resizeThumbnail=n.resizeThumbnail.bind(Ay(n)),n.playerResize=n.playerResize.bind(Ay(n)),n.thumbnailsAvailable=!1,n.init(),n}return t=a,r=[{key:"calculatePointBoundary",value:,{key:"createBlockingIcon",value:function(e){var t=e.blockReason;return ql.dom.createEl("span",{className:"vjs-icon-placeholder ".concat(Zc.getIcon(t))})}}],(n=[{key:"init",value:function(){var e=this;this.player().on(cd,(function(){var t=e.player().options().SRGProviders.mediaComposition.getMainChapter();if(!t.spriteSheet||Df.isLive(e.player().currentSource().streamType))e.hide(),e.thumbnailsAvailable&&(e.removeListeners(),e.thumbnailsAvailable=!1);else{e.show();var n=t.spriteSheet,r=n.urn,i=n.rows,a=n.columns,o=n.thumbnailHeight,s=n.thumbnailWidth,u=n.interval,l=n.url;e.globalSpriteSheet={urn:r,rows:i,columns:a,thumbnailHeight:o,thumbnailWidth:s,interval:u,url:l,coef:1},e.thumbnail.src=e.globalSpriteSheet.url,e.resizeThumbnail(),e.playerResize(),e.thumbnailsAvailable||(e.initListeners(),e.thumbnailsAvailable=!0)}}))}},{key:"resizeThumbnail",value:function(){xf.isTouchDevice?this.globalSpriteSheet.coef=this.player().isFullscreen()?Dy:My:this.globalSpriteSheet.coef=this.player().isFullscreen()?ky:Iy;var e=this.globalSpriteSheet,t=e.thumbnailWidth,n=e.thumbnailHeight,r=e.columns,i=e.coef;this.el().style.width="".concat(t*i,"px"),this.el().style.height="".concat(n*i,"px"),this.thumbnail.width="".concat(t*r*i)}},{key:"playerResize",value:function(){var e=this.player().currentDimension("height"),t=this.options().isComponentVisible;e<=395||void 0!==t&&!t?this.hide():this.show()}},{key:"initListeners",value:function(){var e=this.player().controlBar.progressControl;e.on(bf,this.moveListener),e.on(wf,this.moveListener),e.on(_f,this.moveCancel),e.on(Ef,this.moveCancel),e.on(Sf,this.moveCancel),this.player().on(Nd,this.moveCancel),this.player().on(mf,this.resizeThumbnail),this.player().on(kd,this.playerResize)}},{key:"removeListeners",value:function(){var e=this.player().controlBar.progressControl;e.off(bf,this.moveListener),e.off(wf,this.moveListener),e.off(_f,this.moveCancel),e.off(Ef,this.moveCancel),e.off(Sf,this.moveCancel),this.player().off(Nd,this.moveCancel),this.player().off(mf,this.resizeThumbnail),this.player().off(kd,this.playerResize)}},{key:"moveListener",value:function(e){if(this.thumbnailsAvailable&&this.globalSpriteSheet){var t=this.player().controlBar.progressControl,n=ql.dom.getBoundingClientRect(t.el()),r=ql.dom.getPointerPosition(t.el(),e).x;this.calculateThumbnailHolderPosition(n,r)}}},{key:"calculateThumbnailHolderPosition",value:function(e,t){var n=a.calculatePointBoundary(t),r=e.width*n-this.width()/2,i=e.right-this.width()-28,o=-1*e.left+28;r>i&&(r=i),r<o&&(r=o),this.el().style.transform="translateX(".concat(r,"px)");var s=Math.floor(this.player().duration()*n);this.calculateFrame(s),this.hideBlockSegments(s)}},{key:"calculateFrame",value:function(e){var t=Math.floor(e/Dc.millisecondsToSeconds(this.globalSpriteSheet.interval)),n=Math.floor(t/this.globalSpriteSheet.columns),r=t%this.globalSpriteSheet.columns,i=n*this.globalSpriteSheet.thumbnailHeight*this.globalSpriteSheet.coef,a=r*this.globalSpriteSheet.thumbnailWidth*this.globalSpriteSheet.coef,o=this.el().querySelector(".vjs-thumbnail");o.style.left="".concat(-a,"px"),o.style.top="".concat(-i,"px")}},{key:"moveCancel",value:function(){var e=this;setTimeout((,300)}},{key:"hideBlockSegments",value:function(e){var t=Ap.isIntervalBlocked(this.player().options().SRGProviders.mediaComposition.getMainSegments(),e),n=this.el().querySelector(".vjs-icon-placeholder");t&&!n&&this.appendBlockingIcon(t),!t&&n&&this.removeBlockingIcon()}},{key:"appendBlockingIcon",value:function(e){var t=this.el().querySelector(".vjs-thumbnail"),n=a.createBlockingIcon(e);t.classList.add("vjs-thumbnail--blocked"),this.el().appendChild(n)}},{key:"removeBlockingIcon",value:function(){this.el().querySelector(".vjs-thumbnail").classList.remove("vjs-thumbnail--blocked"),this.el().removeChild(this.el().querySelector(".vjs-icon-placeholder"))}},{key:"createEl",value:function(){var e=Ey(Ry(a.prototype),"createEl",this).call(this,"div",{className:"vjs-thumbnail-holder"});return this.thumbnail=ql.dom.createEl("img",{className:"vjs-thumbnail"}),e.appendChild(this.thumbnail),e}}])&&Ty(t.prototype,n),r&&Ty(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Py);function Ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xy(e,t){return(xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=By(e);if(t){var i=By(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Uy(this,n)}}function Uy(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function By(e){return(By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("ThumbnailSeeking",Ly);var jy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}(a,e);var t,n,r,i=Fy(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=ql.mergeOptions({children:["SeekBarCustomComponent","ThumbnailSeeking"]},t);return(n=i.call(this,e,r)).initListener(),n}return t=a,(n=[{key:"initListener",value:function(){var e=this;this.player().on(cd,(function(){Df.isLive(e.player().currentSource().streamType)?e.hide():e.show()}))}},{key:"handleMouseMove",value:function(e){var t=this.getChild("SeekBarCustomComponent");if(t){var n=t.getChild("mouseTimeDisplay"),r=t.el(),i=ql.dom.getBoundingClientRect(r),a=ql.dom.getPointerPosition(r,e).x;a>1?a=1:a<0&&(a=0),n&&n.update(i,a)}}},{key:"handleMouseSeek",value:,{key:"handleMouseDown",value:function(e){var t=this.el().ownerDocument,n=this.getChild("SeekBarCustomComponent");n&&n.handleMouseDown(e),this.on(t,bf,this.throttledHandleMouseSeek),this.on(t,wf,this.throttledHandleMouseSeek),this.on(t,Tf,this.handleMouseUp),this.on(t,Sf,this.handleMouseUp)}},{key:"handleMouseUp",value:function(e){var t=this.el().ownerDocument,n=this.getChild("SeekBarCustomComponent");n&&n.handleMouseUp(e),this.off(t,bf,this.throttledHandleMouseSeek),this.off(t,wf,this.throttledHandleMouseSeek),this.off(t,Tf,this.handleMouseUp),this.off(t,Sf,this.handleMouseUp)}}])&&Ny(t.prototype,n),r&&Ny(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("ProgressControl"));function Gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hy(e,t){return(Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Vy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ky(e);if(t){var i=Ky(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qy(this,n)}}function qy(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ky(e){return(Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("ProgressControl",jy);var zy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}(a,e);var t,n,r,i=Vy(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).player().on(ud,(function(){(Df.isDvr(n.player().currentSource().streamType)||Df.isLive(n.player().currentSource().streamType))&&n.player().el().classList.add("first-play")})),n.el().firstChild.addEventListener(ff,(function(){n.player().paused()?Df.isLive(n.player().currentSource().streamType)&&n.player().hasStarted(!1):(n.player().overlayComponent.hide(),n.player().el().classList.remove("first-play"))})),n}return t=a,n&&Gy(t.prototype,n),r&&Gy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(ql.getComponent("BigPlayButton"));function Yy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wy(){return(Wy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Xy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Xy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ev(e)););return e}function Qy(e,t){return(Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ev(e);if(t){var i=ev(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jy(this,n)}}function Jy(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zy(e)}function Zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ev(e){return(ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("BigPlayButton",zy);var tv=ql.getComponent("Component"),nv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qy(e,t)}(a,e);var t,n,r,i=$y(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=ql.mergeOptions({children:["BigPlayButton"]},t);return(n=i.call(this,e,r)).hide=n.hide.bind(Zy(n)),n.show=n.show.bind(Zy(n)),n.seekedHandler=function(){n.player().scrubbing()||n.show()},n.initListener(),n}return t=a,(n=[{key:"initListener",value:function(){this.player().on(vd,this.hide),this.player().on(yd,this.seekedHandler),this.player().on([cd,dd],this.show)}},{key:"createEl",value:function(){return Wy(ev(a.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"buildCSSClass",value:function(){return"".concat(Wy(ev(a.prototype),"buildCSSClass",this).call(this)," vjs-srgssr-overlay").trim()}},{key:"dispose",value:function(){this.player().off(vd,this.hide),this.player().off(yd,this.seekedHandler),this.player().off([cd,dd],this.show),Wy(ev(a.prototype),"dispose",this).call(this)}}])&&Yy(t.prototype,n),r&&Yy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(tv);function rv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iv(e,t){return(iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function av(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sv(e);if(t){var i=sv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ov(this,n)}}function ov(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sv(e){return(sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}tv.registerComponent("OverlayComponent",nv);var uv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iv(e,t)}(a,e);var t,n,r,i=av(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).initListener(),n}return t=a,(n=[{key:"initListener",value:function(){var e=this;this.player().on(id,()}},{key:"updateContent",value:function(){var e=this.player().scrubbing()?this.player().getCache().currentTime:this.player().currentTime();if(this.player().liveTracker&&this.player().liveTracker.isTracking()||Df.isDvr(this.player().currentSource().streamType)){var t=Dc.numberFormat(this.player().liveTracker.liveCurrentTime()-this.player().currentTime());return e=Dc.normalizeElapsedTimeSinceMidnight(t),this.updateTextNode_(e),void(this.formattedTime_=Dc.formatTime(e,6e3))}this.updateTextNode_(e)}}])&&rv(t.prototype,n),r&&rv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("CurrentTimeDisplay"));function lv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fv(){return(fv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function hv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vv(e)););return e}function pv(e,t){return(pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vv(e);if(t){var i=vv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mv(this,n)}}nction vv(e){return(vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("CurrentTimeDisplay",uv);var _v=ql.getComponent("Button"),bv=Dc.secondsToMilliseconds(8),Tv=Dc.secondsToMilliseconds(.55),Ev=Dc.secondsToMilliseconds(.1),Sv="srg-skip-button--faded",wv={OPENING_CREDITS:"Skip intro",CLOSING_CREDITS:"Skip credits"},Cv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pv(e,t)}(a,e);var t,n,r,i=gv(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).timeUpdateListener=n.onTimeUpdate.bind(yv(n)),n.userActiveListener=n.onUserActive.bind(yv(n)),n.userInactiveListener=n.onUserInactive.bind(yv(n)),n.updateListener=n.update.bind(yv(n)),n.displayTimeOut=null,n.controlText(n.localize("Skip intro")),n.update(),n.initListener(),n}return t=a,r=[{key:"shouldDisappearAfterInactivity",value:function(e,t){return Math.abs(t-e)>=bv}},{key:"getIntervalEndPosition",value:,{key:"isTimeInInterval",value:function(e,t,n){var r=Dc.secondsToMilliseconds(e);return r>=t&&r<=n}},{key:"displayedCredit",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find(()}},{key:"hasCredits",value:,{key:"getIntervals",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chapterList,t=lv(e=void 0===e?[]:e,1)[0],n=(t=void 0===t?{}:t).timeIntervalList;return(void 0===n?[]:n).filter((function(e){var t=e.type;return Object.keys(wv).includes(t)}))}}],(n=[{key:"initListener",value:function(){this.player().on(cd,this.updateListener)}},{key:"buildCSSClass",value:,{key:"dispose",value:function(){this.player().off(cd,this.updateListener),this.player().off(Ld,this.userActiveListener),this.player().off(Nd,this.userInactiveListener),fv(vv(a.prototype),"dispose",this).call(this,this)}},{key:"hide",value:function(){var e=this;this.isHidden()||(this.addClass(Sv),this.player().off(Ld,this.userActiveListener),this.player().off(Nd,this.userInactiveListener),setTimeout((,Tv))}},{key:"show",value:function(){var e=this;fv(vv(a.prototype),"show",this).call(this),this.setDisplayTimeOut(),this.addClass(Sv),setTimeout((,Ev),this.player().on(Ld,this.userActiveListener),this.player().on(Nd,this.userInactiveListener)}},{key:"update",value:function(){var e=this.options().isComponentVisible,t=void 0===e||e,n=this.player().options().SRGProviders,r=(n=void 0===n?{}:n).mediaComposition;this.hide(),a.hasCredits(r)&&t?(this.creditsIntervals=a.getIntervals(r),this.player().on(Td,this.timeUpdateListener)):(this.hide(),this.player().off(Td,this.timeUpdateListener))}},{key:"createEl",value:function(){return fv(vv(a.prototype),"createEl",this).call(this,"button",{className:this.buildCSSClass()})}},{key:"handleClick",value:function(e){e.preventDefault();var t=this.currentCredit.markOut;t&&this.player().currentTime(a.getIntervalEndPosition(t))}},{key:"onTimeUpdate",value:function(){var e=a.displayedCredit(this.player().currentTime(),this.creditsIntervals);e?(this.currentCredit=e,this.el().innerHTML=this.localize(wv[this.currentCredit.type]),this.isHidden()&&this.show()):this.hide()}},{key:"onUserInactive",value:function(){this.setDisplayTimeOut()}},{key:"onUserActive",value:function(){this.displayTimeOut&&clearTimeout(this.displayTimeOut),this.hasClass(Sv)&&this.removeClass(Sv)}},{key:"setDisplayTimeOut",value:function(){var e=this;!this.player().paused()&&a.shouldDisappearAfterInactivity(this.player().currentTime(),this.markOut)&&(this.displayTimeOut=setTimeout((,bv))}},{key:"isHidden",value:])&&dv(t.prototype,n),r&&dv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_v);function Ov(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Av(){return(Av="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Rv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Rv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dv(e)););return e}function Pv(e,t){return(Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Iv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dv(e);if(t){var i=Dv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kv(this,n)}}function kv(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dv(e){return(Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SkipCredits",Cv);var Mv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pv(e,t)}(a,e);var t,n,r,i=Iv(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).controlText("Close"),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"srg-menu__close-button vjs-icon-close ".concat(Av(Dv(a.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.SRGMenuComponent.hideContainer()}},{key:"SRGMenuComponent",get:])&&Ov(t.prototype,n),r&&Ov(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));function Lv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nv(){return(Nv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=xv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function xv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jv(e)););return e}function Fv(e,t){return(Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Uv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jv(e);if(t){var i=jv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bv(this,n)}}function Bv(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jv(e){return(jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SRGMenuCloseButton",Mv);var Gv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fv(e,t)}(a,e);var t,n,r,i=Uv(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=ql.mergeOptions(t,{name:"panel"});return n=i.call(this,e,r),t.isFirstLevelMenu||n.el().setAttribute("role",n.options().role||"menu"),n}return t=a,(n=[{key:"createEl",value:function(){return Nv(jv(a.prototype),"createEl",this).call(this,"div",{className:"".concat(this.options().className?this.options().className:""," srg-menu__panel")})}}])&&Lv(t.prototype,n),r&&Lv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Component"));ql.registerComponent("SRGMenuPanel",Gv);var Hv=Gv;function Vv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kv(){return(Kv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=zv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function zv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qv(e)););return e}function Yv(e,t){return(Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qv(e);if(t){var i=Qv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xv(this,n)}}function Xv(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qv(e){return(Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yv(e,t)}(a,e);var t,n,r,i=Wv(a);eturn t=a,(n=[{key:"createEl",value:function(){var e=ql.dom.createEl("div",{className:"srg-menu__panel-back"});return e.appendChild(Kv(Qv(a.prototype),"createEl",this).call(this,void 0,{innerHTML:this.localize("Back")})),e}},{key:"buildCSSClass",value:])&&qv(t.prototype,n),r&&qv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));ql.registerComponent("SRGMenuBackButton",$v);var Jv=$v;nction t_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n_(e,t){return(n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function r_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a_(e);if(t){var i=a_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return i_(this,n)}}function i_(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a_(e){return(a_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}(a,e);var t,n,r,i=r_(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=i.call(this,e,t)).options(),o=r.changeEvent,s=r.changeTarget,u=void 0===s?s;return n.addClass(Dc.formatKebab(n.name())),o&&u().on(o,(),n}return t=a,(n=[{key:"dispatchValue",value:function(e){if(e!==this.getValue()){var t=Zv(this.name()),n=t[0],r=t.slice(1);this.updateProperty("".concat(n.toLowerCase()).concat(r.join("")),e)}}},{key:"updateProperty",value:function(e,t){var n={[e]:t};this.player().trigger({type:Zd,data:n})}},{key:"updateValue",value:function(){throw new Error("".concat(this.constructor.name," must overwrite the updateValue method."))}},{key:"closePanel",value:,{key:"addPanel",value:function(e){var t=this.options(),n=t.widget,r=t.handler;n&&r.addWidget(n),r.addPanel(e)}},{key:"getValue",value:,{key:"isItemCurrentlySelected",value:function(e){var t=this.getValue();if("object"!=typeof e.value)return t===e.value;var n=Object.keys(t),r=Object.keys(e.value);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i];if(t[o]!==e.value[o])return!1}return!0}}])&&t_(t.prototype,n),r&&t_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Component"));ql.registerComponent("SRGMenuItem",o_);var s_=o_;function u_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l_(){return(l_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=c_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function c_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p_(e)););return e}function d_(e,t){return(d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p_(e);if(t){var i=p_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h_(this,n)}}function h_(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p_(e){return(p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}(a,e);var t,n,r,i=f_(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).toggleEl.addEventListener(yf,(function(e){[Nh,Dh].includes(e.keyCode)&&(e.preventDefault(),e.stopPropagation(),n.inputEl.checked=!n.inputEl.checked,n.onInputValueChange())})),n.inputEl.addEventListener(gf,(),n}return t=a,r=[{key:"createInputEl",value:function(){return ql.dom.createEl("input",{className:"checkbox"},{type:"checkbox"})}},{key:"createToggleEl",value:function(e){return ql.dom.createEl("label",{className:"switch"},{tabIndex:0,role:"button","aria-label":e})}},{key:"createSpanEl",value:],(n=[{key:"onInputValueChange",value:function(){var e=this;setTimeout((function(){e.updateInputState(e.inputEl)}),1e3*parseFloat(window.getComputedStyle(this.$(".slider")).transitionDuration))}},{key:"updateValue",value:function(){var e=!0===this.getValue();this.inputEl.checked=e,this.toggleEl.setAttribute("aria-pressed",e)}},{key:"updateInputState",value:,{key:"createEl",value:function(){var e=document.createDocumentFragment();this.toggleEl=a.createToggleEl(this.localize(this.options().label)),this.inputEl=a.createInputEl();var t=a.createSpanEl(),n=this.createLabelEl();this.toggleEl.appendChild(this.inputEl),this.toggleEl.appendChild(t),e.appendChild(n),e.appendChild(this.toggleEl);var r=l_(p_(a.prototype),"createEl",this).call(this,"div",{className:"srg-menu__panel-item"});return this.updateValue(),r.appendChild(e),r}},{key:"createLabelEl",value:function(){return ql.dom.createEl("span",{className:"srg-toggle-panel__label"},{},this.localize(this.options().label))}}])&&u_(t.prototype,n),r&&u_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s_);sterComponent("SRGMenuToggleItem",g_);var S_=ql.getComponent("Button"),w_=function(e){!a,e);var t,n,r,i=b_(a);function a(e,t){var n;return this,a),(n=i.call(this,e,t)).renderPanel(),n}return t=a,(n=[{key:"renderPanel",value:function(){var e=this;this.listPanel=new Hv(this.player(),{className:"srg-menu__panel-item--list"}),this.options().items.forEach((function(t){var n=new S_(e.player(),{clickHandler:el:ql.dom.createEl("button",{className:e.isItemCurrentlySelected(t)?"srg-menu__panel-item--selected":""},{"aria-label":t.label,role:"menuitem"},ql.dom.createEl("span",{className:"srg-menu__panel-item-label"},{},t.label))}).el();t.badge&&n.appendChild(ql.dom.createEl("span",{className:"vjs-icon-".concat(t.badge," srg-menu__panel-item-badge")})),e.listPanel.el().appendChild(n)}))}},{key:"updateValue",value:function(){this.button.innerText=this.getLabelValue(),this.button.setAttribute("aria-label","".concat(this.localize(this.options().label)," ").concat(this.getLabelValue())),this.renderPanel(),this.valueDispatched&&(this.valueDispatched=!1,this.button.focus())}},{key:"dispatchValue",value:function(e){y_(E_(a.prototype),"dispatchValue",this).call(this,e),this.closePanel(),this.valueDispatched=!0}},{key:"createEl",value:function(){var e=document.createDocumentFragment(),t=this.createLabelEl(),n=this.createLinkEl();e.appendChild(t),e.appendChild(n);var r=y_(E_(a.prototype),"createEl",this).call(this,"div",{className:"srg-menu__panel-item"});return r.appendChild(e),r}},{key:"createLabelEl",value:function(){return ql.dom.createEl("span",{className:"srg-menu__panel-item__label"},{},this.localize(this.options().label))}},{key:"getLabelValue",value:function(){var e=this,t=this.options().items.filter((function(t){return e.isItemCurrentlySelected(t)}));return t&&t.length?t.pop().label:null}},{key:"createLinkEl",value:function(){var e=this,t=this.getLabelValue();return this.button=new S_(this.player(),{clickHandler:function(){e.addPanel(e.listPanel);var t=e.listPanel.el().firstChild;t&&t.focus()},el:ql.dom.createEl("button",{className:"srg-menu__panel-item__link"},{tabindex:0,role:"button","aria-label":"".concat(this.localize(this.options().label)," ").concat(this.localize(t))},this.localize(t))}).el(),this.button}}])&&m_(t.prototype,n),r&&m_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s_);function C_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A_(){return(A_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=R_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function R_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D_(e)););return e}function P_(e,t){return(P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D_(e);if(t){var i=D_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k_(this,n)}}function k_(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D_(e){return(D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SRGMenuListItem",w_);var M_=ql.getComponent("Button"),L_=ql.getComponent("Component"),N_="srg-menu__panel-list-item--selected",x_="srg-menu__panel-list-item-button",F_="srg-menu__panel-list-header",U_="srg-menu__panel-list-header-title",B_="srg-menu__panel-list-item",j_="srg-menu__panel-list-item-label",G_="srg-menu__panel-list-item-badge",H_="srg-menu__panel-list-item--selected",V_={captions:"SDH","audio-description":"AD"},q_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}(a,e);var t,n,r,i=I_(a);function a(){return C_(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"updateValue",value:function(){var e=this;this.items.forEach((function(t){e.isItemCurrentlySelected(t.options())?(t.addClass(N_),t.el().setAttribute("aria-checked",!0)):(t.removeClass(N_),t.el().setAttribute("aria-checked",!1))}))}},{key:"createButtonsFragment",value:function(e){var t=this,n=document.createDocumentFragment();return e.forEach((function(e){var r=e.badge,i=e.label,a=e.value,o=ql.dom.createEl("span",{className:j_},{},i),s=t.isItemCurrentlySelected(e)?H_:"",u=ql.dom.createEl("button",{className:"".concat(x_," ").concat(s)},{"aria-label":r&&V_[r]?"".concat(i," ").concat(V_[r]):i,"aria-checked":!!s,role:"menuitemradio"},o),l=new M_(t.player(),{value:a,clickHandler:function(){t.dispatchValue(a)},el:u});if(r){var c=ql.dom.createEl("span",{className:"vjs-icon-".concat(r," ").concat(G_)});l.el().appendChild(c)}t.items.push(l),n.appendChild(l.el())})),n}},{key:"createHeader",value:function(e){var t=ql.dom.createEl("div",{className:U_},void 0,e),n=ql.dom.createEl("div",{className:F_},void 0,t),r=new L_(this.player(),{name:"header",el:n}),i=this.options().widget;if(i){var a=ql.getComponent(i.componentClass);r.addChild(new a(this.player(),i))}return r}},{key:"createEl",value:function(){this.items=[];var e=document.createDocumentFragment(),t=this.options(),n=t.label,r=t.items,i=void 0===r?[]:r,o=A_(D_(a.prototype),"createEl",this).call(this,"div",{className:B_},{"aria-label":this.localize(n),role:"menu"}),s=this.createHeader(n).el();return e.appendChild(s),i.length>0&&e.appendChild(this.createButtonsFragment(i)),o.appendChild(e),o}}])&&O_(t.prototype,n),r&&O_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s_);ql.registerComponent("SRGMenuPanelListItem",q_);var K_=["type","label","widget","disabled"];function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q_(){return(Q_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=$_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function $_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nb(e)););return e}function J_(e,t){return(J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nb(e);if(t){var i=nb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return eb(this,n)}}function eb(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tb(e)}function tb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nb(e){return(nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rb=ql.getComponent("Component"),ib={LIST:"SRGMenuListItem",LIST_PANEL_ITEM:"SRGMenuPanelListItem",TOGGLE:"SRGMenuToggleItem"},ab=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}(a,e);var t,n,r,i=Z_(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=ql.mergeOptions({children:a.createPanelContainerComponent(t),hasBeenPausedBefore:!1},t);return(n=i.call(this,e,r)).handleKeyboard=n.handleKeyboard.bind(tb(n)),n.hide(),n.hideFromAccessibility(!0),n.overlay.on(gf,(function(e){n.isContainerVisible()&&(e.stopPropagation(),n.hideContainer(!1))})),n.player().on(fd,(function(){xf.isTouchDevice&&n.isContainerVisible()&&n.hideContainer()})),n.player().on([nd,Vd],(function(){n.buildMenu()})),n.stack=[],n.mainPanel=null,n.backButton=null,n.widget=null,n}return t=a,r=[{key:"createPanelContainerComponent",value:function(){return{container:{componentClass:"Component",children:ql.mergeOptions({closeButton:{componentClass:"SRGMenuCloseButton"}},{panels:{componentClass:"Component",el:ql.dom.createEl("div",{className:"srg-menu__container__panels"})}}),el:ql.dom.createEl("div",{className:"srg-menu__container"})},overlay:{componentClass:"Component",el:ql.dom.createEl("div",{className:"srg-menu__overlay"})}}}},{key:"CSS_MENU_OPEN",get:function(){return"srg-menu--open"}},{key:"PANEL_COMPONENTS_TYPES",get:function(){return ib}}],(n=[{key:"updateState",value:function(){}},{key:"buildMenu",value:function(){this.updateState(),this.state=Dc.removeUndefinedValuesFromObject(this.state),this.init(this.state)}},{key:"init",value:function(e){var t=this,n={};this.stack=[],Object.keys(e).forEach((function(r){var i=vp.getSettingConfiguration(t.player(),r);e[r].disabled||vp.isConfigurationForced(i,r)||(n[r]=t.buildChildren(e[r]))})),0!==Object.keys(e).length&&0!==Object.keys(n).length?(this.mainPanel=new Hv(this.player(),{children:n,isFirstLevelMenu:!!this.isFirstLevelMenu}),this.backButton=new Jv(this.player(),{clickHandler:this.closePanel.bind(this)}),this.addPanel(this.mainPanel),this.show()):this.hide()}},{key:"buildChildren",value:function(e){var t=e.type,n=e.label,r=e.widget,i=(e.disabled,W_(e,K_));return r&&(i.widget=this.buildChildren(r)),{componentClass:t,label:this.localize(n),handler:this},i)}},{key:"addPanel",value:,{key:"closePanel",value:function(){this.stack.length<=1||(this.widget&&(this.widget=null),this.stack.pop(),this.setPanel(this.stack[this.stack.length-1]),this.setFocusToFirstElement())}},{key:"setPanel",value:function(e){if(this.removeChildren(),this.stack.length>1){var t=this.createHeader();if(this.container.panels.addChild(t),t.addChild(this.backButton),this.widget){var n=ql.getComponent(this.widget.componentClass);this.widget=new n(this.player(),this.widget),t.addChild(this.widget)}}this.container.panels.addChild(e)}},{key:"closePanels",value:,{key:"removeChildren",value:function(){ql.dom.emptyEl(this.container.panels.el()),this.container.panels.children().length=0}},{key:"addWidget",value:function(e){this.widget=e}},{key:"buildCSSClass",value:function(){return"srg-menu vjs-control ".concat(Q_(nb(a.prototype),"buildCSSClass",this).call(this))}},{key:"createEl",value:function(){return Q_(nb(a.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"createHeader",value:function(){return new rb(this.player(),{name:"header",el:ql.dom.createEl("div",{className:"srg-menu__panel-header"})})}},{key:"hideContainer",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=2e3;this.off(yf,this.handleKeyboard),this.player().off(ef,this.handleKeyboard),this.removeClass(a.CSS_MENU_OPEN),this.hideFromAccessibility(!0),this.closePanels(),this.player().getCache().inactivityTimeout=n,this.player().options({inactivityTimeout:n}),this.setTimeout((,n),xf.isTouchDevice&&this.player().paused()&&!this.options().hasBeenPausedBefore&&t&&(this.player().play(),this.options({hasBeenPausedBefore:!1}))}},{key:"hideFromAccessibility",value:,{key:"isContainerVisible",value:,{key:"showContainer",value:function(){var e=this;this.on(yf,this.handleKeyboard),this.player().on(ef,this.handleKeyboard),this.addClass(a.CSS_MENU_OPEN),this.hideFromAccessibility(!1),this.options({hasBeenPausedBefore:this.player().paused()}),this.player().one(Nd,(function(){e.isContainerVisible()&&(e.player().userActive(!0),e.player().options({inactivityTimeout:0}))})),xf.isTouchDevice&&!this.player().paused()&&this.player().pause(),this.setFocusToFirstElement()}},{key:"handleKeyboard",value:function(e){27!==e.keyCode&&e.type!==ef||(e.preventDefault(),e.stopPropagation(),this.stack.length<=1?(this.hideContainer(),this.el().querySelector(".srg-menu__button").focus()):this.closePanel())}},{key:"setFocusToFirstElement",value:function(){var e=Dc.getKeyboardFocusableElements(this.container.panels.el());e&&e.length>0&&e.filter(()[0].focus()}}])&&X_(t.prototype,n),r&&X_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(rb);ql.registerComponent("SRGMenu",ab);var ob=ab;function sb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ub(){return(ub="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=lb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function lb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hb(e)););return e}function cb(e,t){return(cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hb(e);if(t){var i=hb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fb(this,n)}}function fb(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hb(e){return(hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cb(e,t)}(a,e);var t,n,r,i=db(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).el().setAttribute("aria-expanded","false"),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"srg-menu__button ".concat(ub(hb(a.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.SRGMenuComponent.isContainerVisible()?(this.SRGMenuComponent.hideContainer(),this.el().setAttribute("aria-expanded","false")):(this.SRGMenuComponent.showContainer(),this.el().setAttribute("aria-expanded","true"))}},{key:"SRGMenuComponent",get:function(){return this.parentComponent_}}])&&sb(t.prototype,n),r&&sb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));function gb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _b(){return(_b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=bb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function bb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wb(e)););return e}function Tb(e,t){return(Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Eb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wb(e);if(t){var i=wb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sb(this,n)}}function Sb(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wb(e){return(wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SRGMenuButton",pb);var Cb=ql.getComponent("Button"),Ob=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}(a,e);var t,n,r,i=Eb(a);function a(){return yb(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"createEl",value:function(){var e=document.createDocumentFragment(),t=this.createLabelEl(),n=this.createLinkEl();e.appendChild(t),e.appendChild(n);var r=_b(wb(a.prototype),"createEl",this).call(this,"div",{className:"srg-menu__panel-item"});return r.appendChild(e),r}},{key:"createLabelEl",value:function(){return ql.dom.createEl("span",{className:"srg-menu__panel-item__label"},{},this.localize(this.options().label))}},{key:"createLinkEl",value:function(){var e=Dc.capitalizeFirstLetter(this.localize("copy")),t=function(e,t){var n=e;n.innerText=t,n.setAttribute("aria-label",t)};return new Cb(this.player(),{name:"settingDebugButton",clickHandler(n){var r=gb(n,1)[0];r.preventDefault(),t(r.target,this.localize("Copied")),Dc.copyTextToClipboard(Dc.prettyStringify(ah.getDebugInformation(this.player()))),this.setTimeout((,1500)},el:ql.dom.createEl("button",{className:"srg-menu__panel-item__link",innerText:e},{tabindex:0,role:"button","aria-label":e})}).el()}}])&&vb(t.prototype,n),r&&vb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Component"));function Ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rb(){return(Rb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Pb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Pb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mb(e)););return e}function Ib(e,t){return(Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function kb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mb(e);if(t){var i=Mb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mb(e){return(Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SettingDebugMenuItem",Ob);var Lb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ib(e,t)}(a,e);var t,n,r,i=kb(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=ql.mergeOptions({children:{settingsButton:!0}},t);return(n=i.call(this,e,r)).state={autoplay:{},continuousPlayback:{},hd:{},playbackRate:{},debugMenu:{}},n}return t=a,(n=[{key:"updateState",value:function(){this.state.autoplay=this.buildAutoplay(),this.state.continuousPlayback=this.buildContinuousPlayback(),this.state.hd=this.buildHd(),this.state.playbackRate=this.buildPlaybackRate(),this.state.debugMenu={label:"Debug",type:"SettingDebugMenuItem"}}},{key:"buildAutoplay",value:function(){var e=this;return{label:"Auto play",type:ob.PANEL_COMPONENTS_TYPES.TOGGLE,value:function(){return vp.getSetting(e.player(),"autoplay")},changeEvent:Bd}}},{key:"buildContinuousPlayback",value:function(){var e=this;return{label:"Continuous Playback",type:ob.PANEL_COMPONENTS_TYPES.TOGGLE,disabled:!Df.isOnDemand(this.player().currentSource().streamType),value:function(){return vp.getSetting(e.player(),"continuousPlayback")},changeEvent:Kd}}},{key:"buildHd",value:function(){var e=this,t=this.player().options().SRGProviders.mediaComposition;return{label:"HD",type:ob.PANEL_COMPONENTS_TYPES.TOGGLE,value:function(){return vp.getSetting(e.player(),"hd")},changeEvent:xd,disabled:!ch(t.getMainResources())}}},{key:"buildPlaybackRate",value:function(){var e=this,t=this.player().options().playbackRates.map((function(e){return{label:1===e?"Normal":"".concat(e," x"),value:e}}));return{label:"Speed",type:ob.PANEL_COMPONENTS_TYPES.LIST,disabled:!Df.isOnDemand(this.player().currentSource().streamType),items:t,value:changeEvent:gd}}},{key:"buildCSSClass",value:function(){return"settings-menu ".concat(Rb(Mb(a.prototype),"buildCSSClass",this).call(this))}}])&&Ab(t.prototype,n),r&&Ab(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ob);function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xb(){return(xb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Fb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Fb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gb(e)););return e}function Ub(e,t){return(Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Bb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gb(e);if(t){var i=Gb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gb(e){return(Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SettingsMenu",Lb);var Hb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}(a,e);var t,n,r,i=Bb(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).controlText("Edit player settings"),n.el().setAttribute("aria-haspopup","true"),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"srg-menu__settings-button ".concat(xb(Gb(a.prototype),"buildCSSClass",this).call(this))}}])&&Nb(t.prototype,n),r&&Nb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("SRGMenuButton"));function Vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yb(){return(Yb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Wb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Wb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jb(e)););return e}function Xb(e,t){return(Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jb(e);if(t){var i=Jb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $b(this,n)}}function $b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jb(e){return(Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SettingsButton",Hb);var Zb=ql.getComponent("Button"),eT="srg-menu__subtitles-size-selector__item--selected",tT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xb(e,t)}(a,e);var t,n,r,i=Qb(a);function a(){return Kb(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"init",value:,{key:"updateValue",value:function(){var e=this.getValue();this.items.forEach((function(t,n){n===e?t.classList.add(eT):t.classList.remove(eT)}))}},{key:"createEl",value:function(){var e=this;this.init();var t=document.createDocumentFragment(),n=this.player().options().srgTextTrackSizes;this.items=n.map((function(n,r){var i=e.createFontSizeEl(r,e.getValue()===r,(function(t){Vb(t,1)[0].stopPropagation(),e.dispatchValue(r)}));return t.appendChild(i),i}));var r=Yb(Jb(a.prototype),"createEl",this).call(this,"div",{className:"srg-menu__subtitles-size-selector"});return r.appendChild(t),r}},{key:"createFontSizeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.localize("Font size level {1}",[e+1]),i=new Zb(this.player(),{clickHandler:n,el:ql.dom.createEl("button",{className:"srg-menu__subtitles-size-selector__item size-selector-item--".concat(e," ").concat(t?"srg-menu__subtitles-size-selector__item--selected":"")},{"aria-label":r},"A")});return i.createControlTextEl(i.el()),i.controlText(r),i.el()}}])&&zb(t.prototype,n),r&&zb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s_);function nT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rT(){return(rT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=iT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function iT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lT(e)););return e}function aT(e,t){return(aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lT(e);if(t){var i=lT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sT(this,n)}}function sT(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uT(e)}function uT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lT(e){return(lT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SRGSubtitlesMenuSizeItem",tT);var cT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aT(e,t)}(a,e);var t,n,r,i=oT(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=ql.mergeOptions({children:{subtitlesButton:!0}},t);return(n=i.call(this,e,r)).state={},n.setSubtitleButtonState=n.setSubtitleButtonState.bind(uT(n)),n.isFirstLevelMenu=!0,n.player().textTracks().on(pf,n.setSubtitleButtonState),n}return t=a,r=[{key:"subtitlesOffValue",value:],(n=[{key:"updateState",value:function(){this.state.textTrackLanguage=this.buildTextTrackLanguage(),this.state.audioTrackLanguage=this.buildAudioTrackLanguage(),this.setSubtitleButtonState()}},{key:"setSubtitleButtonState",value:function(){var e=this.state.textTrackLanguage&&this.state.textTrackLanguage.value();e&&"off"!==e.language?this.player().$(".srg-menu__subtitles-button").classList.add("srg-menu__subtitles-button--active"):this.player().$(".srg-menu__subtitles-button").classList.remove("srg-menu__subtitles-button--active")}},{key:"buildTextTrackLanguage",value:function(){var e=this,t=ah.filterTextTrack(this.player());if(!(t.length<1)){var n=t.map((function(e){var t=e.label,n=e.language,r=e.srgKind,i=Bf.isCaption(r);return{label:t.split(" (SDH)").join(""),value:{language:n,captions:i},badge:!!i&&r}}));return n.unshift({label:this.localize("Off"),value:a.subtitlesOffValue()}),{label:"Subtitles",type:ob.PANEL_COMPONENTS_TYPES.LIST_PANEL_ITEM,widget:this.buildTextTrackSizeLevel(),items:n,changeTarget:changeEvent:[df,pf],value:function(){var t=Bf.findActiveTrack(ah.filterTextTrack(e.player()));if(t){var n=t.language,r=t.srgKind;return{language:n,captions:Bf.isCaption(r)}}return a.subtitlesOffValue()}}}}},{key:"buildTextTrackSizeLevel",value:function(){var e=this;if(!this.player().tech(!0).featuresNativeTextTracks)return{label:"Size Selector",type:"SRGSubtitlesMenuSizeItem",name:"textTrackSizeLevel",changeEvent:cf,value:}},{key:"buildAudioTrackLanguage",value:function(){var e=this,t=Array.from(this.player().audioTracks());if(!(t.length<2)){var n=t.map((function(e){var t=e.label,n=e.kind,r=e.language,i=Yf.isAudioDescription(n);return{label:t.split(" (AD)").join(""),value:{language:r,description:i},badge:!!Yf.isAudioDescription(n)&&"audio-description"}}));return{label:"Audio",type:ob.PANEL_COMPONENTS_TYPES.LIST_PANEL_ITEM,items:n,changeTarget:function(){return e.player().tech(!0).audioTracks()},changeEvent:[df,pf],value:function(){var t=Yf.findActiveTrack(e.player().audioTracks());return t?{language:t.language,description:Yf.isAudioDescription(t.kind)}:{language:void 0,description:void 0}}}}}},{key:"buildCSSClass",value:function(){return"subtitles-menu ".concat(rT(lT(a.prototype),"buildCSSClass",this).call(this))}}])&&nT(t.prototype,n),r&&nT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ob);function dT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fT(){return(fT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function hT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yT(e)););return e}function pT(e,t){return(pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yT(e);if(t){var i=yT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mT(this,n)}}function mT(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yT(e){return(yT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SubtitlesMenu",cT);var vT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pT(e,t)}(a,e);var t,n,r,i=gT(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).controlText("Audio and subtitles"),n.el().setAttribute("aria-haspopup","true"),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"srg-menu__subtitles-button ".concat(fT(yT(a.prototype),"buildCSSClass",this).call(this))}}])&&dT(t.prototype,n),r&&dT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("SRGMenuButton"));function _T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TT(e,t){return(TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ET(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wT(e);if(t){var i=wT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ST(this,n)}}function ST(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wT(e){return(wT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SubtitlesButton",vT);var CT=ql.getComponent("Button"),OT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TT(e,t)}(a,e);var t,n,r,i=ET(a);function a(){return _T(this,a),i.apply(this,arguments)}return t=a,r=[{key:"createButtonEl",value:function(e){var t=e.label,n=e.isSelected;return ql.dom.createEl("button",{className:n?"srg-menu__panel-item--selected":""},{"aria-label":t,role:"menuitem"},ql.dom.createEl("span",{className:"srg-menu__panel-item-label"},{},t))}}],(n=[{key:"updateValue",value:function(){var e=this.listElements.get(this.getValue());this.listElements.forEach((function(t){t===e?t.classList.add("srg-menu__panel-item--selected"):t.classList.remove("srg-menu__panel-item--selected")}))}},{key:"createEl",value:function(){var e=this;this.listElements=new Map;var t=new Hv(this.player(),{className:"srg-menu__panel-item--list"});return this.options().items.forEach((function(n){e.listElements.set(n.value,e.createListElement(n,t))})),t.el()}},{key:"createListElement",value:function(e,t){var n=this,r=e.label,i=e.value,o=this.getValue()===i,s=new CT(this.player(),{clickHandler:function(){n.dispatchValue(i)},el:a.createButtonEl({label:r,isSelected:o})}).el();return t.el().appendChild(s),s}}])&&bT(t.prototype,n),r&&bT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(s_);function AT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RT(e,t){return(RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function PT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kT(e);if(t){var i=kT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return IT(this,n)}}function IT(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kT(e){return(kT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SimpleListItem",OT);var DT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RT(e,t)}(a,e);var t,n,r,i=PT(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).clickComponent=t.scrollClickComponent,n.clickComponent.on(Jd,(function(){n.scrollValue()})),n}return t=a,(n=[{key:"scrollValue",value:function(){var e=this,t=this.options().items,n=this.getValue();t.every((function(t,r,i){if(t.value===n){var a=i[(r+1)%i.length].value;return e.dispatchValue(a),!1}return!0}))}}])&&AT(t.prototype,n),r&&AT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(OT);function MT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LT(){return(LT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=NT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function NT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BT(e)););return e}function xT(e,t){return(xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function FT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BT(e);if(t){var i=BT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return UT(this,n)}}function UT(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function BT(e){return(BT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("ListScrollClickItem",DT);var jT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xT(e,t)}(a,e);var t,n,r,i=FT(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=ql.mergeOptions({children:{playbackRateButton:!0}},t);return(n=i.call(this,e,r)).state={playbackRate:{}},n}return t=a,(n=[{key:"updateState",value:,{key:"buildPlaybackRate",value:function(){var e=this,t=this.player().options().playbackRates.map((function(e){return{label:"".concat(e.toFixed(1)," x"),value:e}}));return{label:"Speed",type:"ListScrollClickItem",disabled:!Df.isOnDemand(this.player().currentSource().streamType),items:t,value:function(){return e.player().playbackRate()},changeEvent:gd,scrollClickComponent:this.playbackRateButton}}},{key:"buildCSSClass",value:function(){return"playback-rate-menu ".concat(LT(BT(a.prototype),"buildCSSClass",this).call(this))}}])&&MT(t.prototype,n),r&&MT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ob);function GT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HT(){return(HT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=VT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function VT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YT(e)););return e}function qT(e,t){return(qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function KT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=YT(e);if(t){var i=YT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zT(this,n)}}function zT(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function YT(e){return(YT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("PlaybackRateMenu",jT);var WT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qT(e,t)}(a,e);var t,n,r,i=KT(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).controlText("Playback Rate"),n.el().setAttribute("aria-haspopup","true"),e.on([nd,gd],(),xf.isTouchDevice?zT(n):(n.on(vf,(function(){n.isPlayerBarMode()||(n.addClass("vjs-hover"),n.SRGMenuComponent.isContainerVisible()||(n.SRGMenuComponent.showContainer(),n.el().setAttribute("aria-expanded","true"),n.SRGMenuComponent.overlay.one(vf,(function(){n.SRGMenuComponent.hideContainer(),n.el().setAttribute("aria-expanded","false")}))))})),n)}return t=a,(n=[{key:"createEl",value:function(){var e=HT(YT(a.prototype),"createEl",this).call(this);return this.labelEl=HT(YT(a.prototype),"createEl",this).call(this,"div",{className:"vjs-playback-rate-value"}),e.appendChild(this.labelEl),e}},{key:"updateLabelValue",value:function(e){this.labelEl.innerText="".concat(e.toFixed(1)," x")}},{key:"handleClick",value:function(){xf.isTouchDevice||this.isPlayerBarMode()?this.trigger(Jd):HT(YT(a.prototype),"handleClick",this).call(this)}},{key:"buildCSSClass",value:function(){return"srg-menu__playback-rate-button ".concat(HT(YT(a.prototype),"buildCSSClass",this).call(this))}},{key:"isPlayerBarMode",value:function(){return this.player().hasClass("srgssr-player-bar")}}])&&GT(t.prototype,n),r&&GT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("SRGMenuButton"));function XT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ql.registerComponent("PlaybackRateButton",WT);var $T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1AC2931D";XT(this,e),(xf.isChrome||xf.isChromium)&&(this.localPlayer=t,this.receiverApplicationId=n,this.loadSenderFramework())}var t,n,r;return t=e,r=[{key:"getCurrentSession",value:function(){return window.cast.framework.CastContext.getInstance().getCurrentSession()}}],(n=[{key:"initializeCastApi",value:function(){var e=window,t=e.cast.framework,n=e.chrome;this.castFramework=t,this.castContext=this.castFramework.CastContext.getInstance(),this.castContextEventType=this.castFramework.CastContextEventType,this.sessionState=t.SessionState,this.castContext.setOptions({receiverApplicationId:this.receiverApplicationId,autoJoinPolicy:n.cast.AutoJoinPolicy.ORIGIN_SCOPED})}},{key:"loadSenderFramework",value:function(){var e=this,t=document.getElementById("chromecastSender");if(window.__onGCastApiAvailable=t)setTimeout((function(){window.__onGCastApiAvailable(!0)}),0);else{var n=document.createElement("script");n.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",n.id="chromecastSender",n.async=!0,n.defer="defer",n.type="text/javascript",document.body.appendChild(n)}}}])&&QT(t.prototype,n),r&&QT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function JT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZT(){return(ZT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=eE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function eE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aE(e)););return e}function tE(e,t){return(tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aE(e);if(t){var i=aE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rE(this,n)}}function rE(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iE(e)}function iE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aE(e){return(aE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}(a,e);var t,n,r,i=nE(a);function a(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).isCasting=!1,n.hide(),xf.isChrome||xf.isChromium){var r=vp.getSetting(n.player(),"chromeCastReceiver");n.chromecastLoader=new $T(n.player(),r),n.castStateChanged=n.castStateChanged.bind(iE(n)),n.sessionStateChanged=n.sessionStateChanged.bind(iE(n)),n.player().one(Hd,(function(){n.initListeners(),n.updateControlText()}))}return n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"".concat(ZT(aE(a.prototype),"buildCSSClass",this).call(this)," srg-chromecast-control")}},{key:"castStateChanged",value:function(e){var t=e.castState,n=this.chromecastLoader.castFramework.CastState;switch(t){case n.NO_DEVICES_AVAILABLE:this.hide();break;case n.NOT_CONNECTED:this.show(),this.isCasting=!1,this.removeClass("srg-chromecast-active"),this.updateControlText();break;case n.CONNECTING:this.player().pause(),this.player().tech(!0).trigger("waiting");break;case n.CONNECTED:this.onChromecastStarted(),this.addClass("srg-chromecast-active"),this.updateControlText(),this.isCasting=!0}}},{key:"dispose",value:function(){if(this.chromecastLoader){var e=this.chromecastLoader,t=e.castContext,n=e.castContextEventType;t.removeEventListener(n.CAST_STATE_CHANGED,this.castStateChanged),t.removeEventListener(n.SESSION_STATE_CHANGED,this.sessionStateChanged)}ZT(aE(a.prototype),"dispose",this).call(this)}},{key:"handleClick",value:function(){this.isCasting&&this.chromecastLoader.castContext.getSessionState()===this.chromecastLoader.sessionState.SESSION_STARTED?this.chromecastLoader.castContext.endCurrentSession(!0):this.chromecastLoader.castContext.requestSession()}},{key:"updateControlText",value:function(){this.hasClass("srg-chromecast-active")?this.controlText(this.localize("Stop casting")):this.controlText(this.localize("Start casting"))}},{key:"initListeners",value:function(){this.chromecastLoader.castContext&&this.chromecastLoader.castContext.getCastState()&&this.castStateChanged({castState:this.chromecastLoader.castContext.getCastState()});var e=this.chromecastLoader,t=e.castContext,n=e.castContextEventType;t.addEventListener(n.CAST_STATE_CHANGED,this.castStateChanged),t.addEventListener(n.SESSION_STATE_CHANGED,this.sessionStateChanged)}},{key:"onChromecastStarted",value:function(){var e=this.player().options().SRGProviders.mediaComposition,t={audioTrack:Yf.findActiveTrack(this.player().audioTracks()),textTrack:Bf.findActiveTrack(this.player().textTracks()),currentTime:this.player().currentTime(),localPlayer:this.player(),muted:this.player().muted(),streamType:this.player().currentSource().streamType,title:e.getMainChapter().title,urn:e.getMainChapter().urn};this.player().loadTech_("Chromecast",t)}},{key:"onChromecastEnded",value:function(){var e=this,t=this.player().currentTime(),n=this.player().tech(!0).options().source;if(n){var r=n.urn,i=n.streamType;ah.loadMedia(this.player(),{urn:r,mediaComposition:this.player().options().SRGProviders.mediaComposition,readyCallback:function(){Df.isOnDemand(i)?e.player().currentTime(t):e.player().one(hd,()}})}}},{key:"sessionStateChanged",value:function(e){var t=e.sessionState,n=this.chromecastLoader.sessionState;switch(t){case n.SESSION_ENDED:this.onChromecastEnded();break;case n.SESSION_STARTED:break;default:this.isCasting=!1}}}])&&JT(t.prototype,n),r&&JT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));function sE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uE(){return(uE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=lE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function lE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pE(e)););return e}function cE(e,t){return(cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pE(e);if(t){var i=pE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fE(this,n)}}function fE(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hE(e)}function hE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pE(e){return(pE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("ChromecastToggleComponent",oE);var gE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}(a,e);var t,n,r,i=dE(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).update=n.update.bind(hE(n)),n.update(),n.player().on(cd,n.update),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"".concat(uE(pE(a.prototype),"buildCSSClass",this).call(this)," vjs-srgssr-button vjs-srgssr-").concat(this.selectedBU)}},{key:"dispose",value:function(){this.player().off(cd,this.update)}},{key:"show",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceUpdate,t=void 0===e||e;uE(pE(a.prototype),"show",this).call(this),t?this.update():this.el().className=this.buildCSSClass()}},{key:"handleClick",value:function(){window.location.href=$g.redirectUrl(this.mainChapter)}},{key:"update",value:function(){var e=this.player().options().SRGProviders.mediaComposition,t=this.options().isComponentVisible,n=void 0===t||t,r=e&&e.getMainChapter();this.selectedBU=n&&r&&r.vendor.toLowerCase(),this.selectedBU&&this.el()&&r?(this.mainChapter=r,this.show({forceUpdate:!1}),this.updateAccessibility()):this.hide()}},{key:"updateAccessibility",value:function(){var e=this.el();e.title=this.localize("Open {1} in Play {2}",[this.mainChapter.title,this.mainChapter.vendor.toUpperCase()]),this.controlText(e.title)}},{key:"createEl",value:function(){return uE(pE(a.prototype),"createEl",this).call(this,"button",{},{role:"button"})}}])&&sE(t.prototype,n),r&&sE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));function mE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vE(){return(vE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_E(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function _E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=SE(e)););return e}function bE(e,t){return(bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function TE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=SE(e);if(t){var i=SE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return EE(this,n)}}function EE(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SE(e){return(SE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SRGSSRButtonComponent",gE);var wE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bE(e,t)}(a,e);var t,n,r,i=TE(a);function a(){return mE(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"mount",value:function(){this.show()}},{key:"unmount",value:function(){this.hide()}},{key:"show",value:function(){this.addClass("srgssr-end-screen-feature--show")}},{key:"hide",value:function(){this.removeClass("srgssr-end-screen-feature--show")}},{key:"buildCSSClass",value:function(){return"".concat(vE(SE(a.prototype),"buildCSSClass",this).call(this)," srgssr-end-screen-feature")}}])&&yE(t.prototype,n),r&&yE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Component"));ql.registerComponent("EndScreenFeature",wE);var CE=wE;function OE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AE(){return(AE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=RE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function RE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DE(e)););return e}function PE(e,t){return(PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function IE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DE(e);if(t){var i=DE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kE(this,n)}}function kE(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function DE(e){return(DE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ME=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}(a,e);var t,n,r,i=IE(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).itemInfo=t.itemInfo,n.updateChildren(),n}return t=a,r=[{key:"createDescriptionEl",value:function(){return ql.dom.createEl("div",{className:"item__description"})}}],(n=[{key:"buildCSSClass",value:function(){return"".concat(AE(DE(a.prototype),"buildCSSClass",this).call(this)," item")}},{key:"createDurationEl",value:function(){return ql.dom.createEl("div",{className:"item__duration"},{},this.formatDuration())}},{key:"createEl",value:function(){return AE(DE(a.prototype),"createEl",this).call(this,"a",{className:this.buildCSSClass()})}},{key:"createImageEl",value:function(){return ql.dom.createEl("img",{alt:this.itemInfo.imageTitle,className:"item__img",src:"".concat(decodeURIComponent(this.itemInfo.imageUrl)).concat(mh.WIDTH300)})}},{key:"createShowEl",value:function(){return ql.dom.createEl("p",{className:"item__show"},{},this.itemInfo.showTitle)}},{key:"createTitleEl",value:function(){return ql.dom.createEl("p",{className:"item__title"},{},this.itemInfo.title)}},{key:"formatDuration",value:function(){return ql.formatTime(Dc.millisecondsToSeconds(this.itemInfo.duration))}},{key:"updateChildren",value:function(){ql.setAttributes(this.el(),{href:"".concat($g.redirectUrlFromSubdivision(this.itemInfo))});var e=document.createDocumentFragment(),t=a.createDescriptionEl();t.appendChild(this.createTitleEl()),t.appendChild(this.createShowEl()),t.appendChild(this.createDurationEl()),e.appendChild(this.createImageEl()),e.appendChild(t),this.el().appendChild(e),this.el().title=this.itemInfo.title,this.el().style.transitionDelay="".concat(Math.random().toString(),"s")}}])&&OE(t.prototype,n),r&&OE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("ClickableComponent"));ql.registerComponent("Item",ME);var LE=ME;function NE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BE(){return(BE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=jE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function jE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=KE(e)););return e}function GE(e,t){return(GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function HE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KE(e);if(t){var i=KE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VE(this,n)}}function VE(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qE(e)}function qE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KE(e){return(KE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}(a,e);var t,n,r,i=HE(a);function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return FE(this,a),(t=i.call(this,e,n)).recommendationId=null,t.on(e,kd,t.gridTemplate.bind(qE(t))),t}return t=a,r=[{key:"itemsToShow",value:function(e,t){return e>18?18-18%t-1:e-e%t-1}}],(n=[{key:"mount",value:function(e){var t=this,n=e.mediaList,r=e.recommendationId;this.recommendationId=r,n.forEach((function(e){var n=e.urn,i=e.pendingSeek,a=void 0===i?void 0:i,o=e.standalone,s=void 0===o?void 0:o,u=new LE(t.player(),{itemInfo:e,recommendationId:r,clickHandler:function(e){NE(e,1)[0].preventDefault(),ah.loadMedia(t.player(),{autoplay:!0,pendingSeek:a,playbackSettings:{recommendationId:r},standalone:s,urn:n}),t.player().trigger({type:rf,data:{urn:n}})}});t.addChild(u)})),this.gridTemplate()}},{key:"unmount",value:function(){BE(KE(a.prototype),"unmount",this).call(this),this.removeChildren()}},{key:"gridTemplate",value:function(){var e=this,t=parseInt(ql.computedStyle(this.el(),"paddingBottom"),10),n=this.width()/240|0,r=n>6?6:n,i=n*((this.height()-t)/140|0);this.itemCount=a.itemsToShow(i,r),this.el().style.gridTemplateColumns="1fr ".repeat(r).trim(),this.itemCount?this.show():this.hide(),this.children().forEach((function(t,n){n<=e.itemCount?t.show():t.hide()})),this.triggerRecommendationDisplayed({recommendationId:this.recommendationId})}},{key:"displayedItems",value:function(){return this.children().filter((function(e){return!e.hasClass("vjs-hidden")}))}},{key:"removeChildren",value:function(){ql.dom.emptyEl(this.el()),this.children().length=0}},{key:"triggerRecommendationDisplayed",value:function(){this.player().trigger(nf)}},{key:"buildCSSClass",value:function(){return"".concat(BE(KE(a.prototype),"buildCSSClass",this).call(this)," srgssr-recommendation-grid")}},{key:"createEl",value:function(){var e=this.buildCSSClass();return ql.dom.createEl("div",{className:e})}}])&&UE(t.prototype,n),r&&UE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(CE);ql.registerComponent("RecommendationGrid",zE);var YE=zE;function WE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XE(){return(XE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=QE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function QE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eS(e)););return e}function $E(e,t){return($E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function JE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eS(e);if(t){var i=eS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZE(this,n)}}function ZE(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function eS(e){return(eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$E(e,t)}(a,e);var t,n,r,i=JE(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).duration=t.duration,n.timeout=null,n}return t=a,r=[{key:"createCountDownCircleSVG",value:function(){var e=document.createDocumentFragment(),t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.classList.add("circle-countdown"),t.setAttribute("width","50"),t.setAttribute("height","50");var n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.classList.add("circle-white"),n.setAttribute("cx","25"),n.setAttribute("cy","25"),n.setAttribute("r","23");var r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.classList.add("circle-red"),r.setAttribute("cx","25"),r.setAttribute("cy","25"),r.setAttribute("r","23");var i=document.createElementNS("http://www.w3.org/2000/svg","polyline");return i.setAttribute("fill","white"),i.setAttribute("points","14 10, 14 28, 29 19"),i.setAttribute("transform","rotate(270, 25, 19)"),e.appendChild(n),e.appendChild(r),e.appendChild(i),t.appendChild(e),t}}],(n=[{key:"start",value:function(){var e=this,t=1e3*this.duration;this.timeout=this.setTimeout((function(){e.trigger(Wd)}),t),this.el().querySelector(".circle-red").style.animation="countdown ".concat(this.duration,"s linear forwards")}},{key:"reset",value:function(){this.clearTimeout(this.timeout),this.el().querySelector(".circle-red").style.animation="none"}},{key:"buildCSSClass",value:function(){return"".concat(XE(eS(a.prototype),"buildCSSClass",this).call(this)," srgssr-circular-countdown")}},{key:"createEl",value:function(){var e=XE(eS(a.prototype),"createEl",this).call(this,"button",{className:this.buildCSSClass()});return e.appendChild(a.createCountDownCircleSVG()),e}},{key:"handleClick",value:function(){this.trigger(Wd)}}])&&WE(t.prototype,n),r&&WE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));ql.registerComponent("CircularCountDown",tS);var nS=tS;function rS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iS(){return(iS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=aS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function aS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lS(e)););return e}function oS(e,t){return(oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lS(e);if(t){var i=lS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uS(this,n)}}function uS(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lS(e){return(lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}(a,e);var t,n,r,i=sS(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).show(),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"srg-cancel-button ".concat(iS(lS(a.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.trigger(qd)}},{key:"createEl",value:function(){return iS(lS(a.prototype),"createEl",this).call(this,"button",{className:this.buildCSSClass(),innerHTML:this.localize("Cancel")})}}])&&rS(t.prototype,n),r&&rS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));ql.registerComponent("CancelButton",cS);var dS=cS;function fS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pS(){return(pS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=gS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function gS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bS(e)););return e}function mS(e,t){return(mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bS(e);if(t){var i=bS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vS(this,n)}}function vS(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _S(e)}function _S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bS(e){return(bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var TS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}(a,e);var t,n,r,i=yS(a);function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fS(this,a),(t=i.call(this,e,n)).recommendationId=null,t.nextMedia=null,t.cancelContinuousPlayback=t.cancelContinuousPlayback.bind(_S(t)),t.checkResize=t.checkResize.bind(_S(t)),t.redirectToMedia=t.redirectToMedia.bind(_S(t)),t}return t=a,r=[{key:"createContainerEl",value:function(){return ql.dom.createEl("div",{className:"continuous-playback__container"})}},{key:"createTitleEl",value:function(){return ql.dom.createEl("h1",{className:"continuous-playback__title"})}},{key:"createDescriptionEl",value:function(){return ql.dom.createEl("p",{className:"continuous-playback__description"})}},{key:"createDurationEl",value:function(){return ql.dom.createEl("span",{className:"continuous-playback__duration"})}},{key:"getNextMedia",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length){var n=t.findIndex((function(t){return t.urn===e}));return t[(n+1)%t.length]}}}],(n=[{key:"mount",value:function(e){var t=e.mediaList,n=e.recommendationId;t&&(this.recommendationId=n,this.nextMedia=a.getNextMedia(ah.getUrn(this.player()),t),this.updateShowInformation(this.nextMedia),this.triggerContinuousPlaybackDisplayed(),pS(bS(a.prototype),"mount",this).call(this),this.player().addClass("srgssr-has-continuous-playback"),this.timer.reset(),this.timer.start(),this.checkResize(),this.on(this.timer,Wd,this.redirectToMedia),this.on(this.cancelBtn,qd,this.cancelContinuousPlayback),this.on(this.player(),kd,this.checkResize))}},{key:"unmount",value:function(){pS(bS(a.prototype),"unmount",this).call(this),this.player().removeClass("srgssr-has-continuous-playback"),this.reset()}},{key:"reset",value:function(){this.timer.reset(),this.off(this.timer,Wd,this.redirectToMedia),this.off(this.cancelBtn,qd,this.cancelContinuousPlayback),this.off(this.player(),kd,this.checkResize)}},{key:"triggerContinuousPlaybackDisplayed",value:,{key:"cancelContinuousPlayback",value:,{key:"checkResize",value:function(){this.height()<=279?this.addClass("continuous-playback--small"):this.removeClass("continuous-playback--small")}},{key:"redirectToMedia",value:function(){var e=this.nextMedia,t=e.urn,n=e.standalone,r=void 0===n?void 0:n,i=e.pendingSeek,a=void 0===i?void 0:i;this.triggerContinuousPlaybackHit(t),ah.loadMedia(this.player(),{autoplay:!0,pendingSeek:a,playbackSettings:{forcePlay:!0,recommendationId:this.recommendationId},standalone:r,urn:t})}},{key:"updateShowInformation",value:function(e){var t=e.showTitle,n=e.title,r=e.imageUrl,i=e.duration;this.el().style.backgroundImage="url(".concat(decodeURIComponent(r)).concat(mh.WIDTH700,")"),this.title.textContent=t,this.description.textContent=n,this.duration.textContent=this.localize("Duration: {1}",[ql.formatTime(Dc.millisecondsToSeconds(i),"600")])}},{key:"triggerContinuousPlaybackHit",value:function(e){this.player().trigger({type:Xd,data:{urn:e}})}},{key:"buildCSSClass",value:function(){return"".concat(pS(bS(a.prototype),"buildCSSClass",this).call(this)," vjs-poster srgssr-continuous-playback")}},{key:"createEl",value:function(){var e=document.createDocumentFragment(),t=this.buildCSSClass(),n=pS(bS(a.prototype),"createEl",this).call(this,"div",{className:t}),r=a.createContainerEl(),i=this.createComingNextEl();return this.title=a.createTitleEl(),this.description=a.createDescriptionEl(),this.duration=a.createDurationEl(),this.timer=new nS(this.player(),{duration:10}),this.cancelBtn=new dS(this.player()),e.appendChild(i),e.appendChild(this.title),e.appendChild(this.description),e.appendChild(this.duration),e.appendChild(this.timer.contentEl()),e.appendChild(this.cancelBtn.contentEl()),r.appendChild(e),n.appendChild(r),n}},{key:"createComingNextEl",value:function(){return ql.dom.createEl("span",{className:"continuous-playback__coming-next"},{},this.localize("Coming next"))}}])&&hS(t.prototype,n),r&&hS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(CE);ql.registerComponent("ContinuousPlayback",TS);var ES=TS;function SS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wS(){return(wS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=CS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function CS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PS(e)););return e}function OS(e,t){return(OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PS(e);if(t){var i=PS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RS(this,n)}}function RS(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PS(e){return(PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OS(e,t)}(a,e);var t,n,r,i=AS(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).show(),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"srg-replay-button vjs-play-control vjs-control vjs-button vjs-paused vjs-ended ".concat(wS(PS(a.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:,{key:"createEl",value:function(){return wS(PS(a.prototype),"createEl",this).call(this,"button",{className:this.buildCSSClass()})}}])&&SS(t.prototype,n),r&&SS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));ql.registerComponent("ReplayButton",IS);var kS=IS;function DS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LS(){return(LS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=NS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function NS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BS(e)););return e}function xS(e,t){return(xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function FS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BS(e);if(t){var i=BS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return US(this,n)}}function US(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function BS(e){return(BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}(a,e);var t,n,r,i=FS(a);function a(){return DS(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"buildCSSClass",value:function(){return"".concat(LS(BS(a.prototype),"buildCSSClass",this).call(this)," srgssr-replay")}},{key:"createEl",value:function(){var e=document.createDocumentFragment(),t=this.buildCSSClass(),n=LS(BS(a.prototype),"createEl",this).call(this,"div",{className:t});return this.replayBtn=new kS(this.player()),e.appendChild(this.replayBtn.contentEl()),n.appendChild(e),n}}])&&MS(t.prototype,n),r&&MS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(CE);ql.registerComponent("Replay",jS);var GS=jS;function HS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ar qS=VS((function e(t){var n=t.show,r=(n=void 0===n?{}:n).title,i=t.urn,a=t.id,o=t.title,s=t.description,u=t.duration,l=t.imageUrl,c=t.imageTitle,d=t.vendor,f=t.mediaType;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.urn=i,this.id=a,this.title=o,this.showTitle=r,this.description=s,this.duration=u,this.imageUrl=l,this.imageTitle=c,this.vendor=d,this.mediaType=f}));ction WS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XS(){return(XS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=QS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function QS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tw(e)););return e}function $S(e,t){return($S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function JS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tw(e);if(t){var i=tw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZS(this,n)}}function ZS(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ew(e)}function ew(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tw(e){return(tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$S(e,t)}(u,e);var t,n,r,i,a,o,s=JS(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=s.call(this,e,t)).recommendationComponent=new YE(n.player()),n.continuousPlaybackComponent=new ES(n.player()),n.replayComponent=new GS(n.player()),n.mountedComponent=null,n.buildEndScreen=n.buildEndScreen.bind(ew(n)),n.hideAndReset=n.hideAndReset.bind(ew(n)),n.cancelContinuousPlayback=n.cancelContinuousPlayback.bind(ew(n)),n.initListeners(e),n}return t=u,(n=[{key:"buildEndScreen",value:(o=YS(KS().mark((function e(){return KS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPlayerAtEnd()&&!this.isPlayerBarMode()&&!this.player().scrubbing()){e.next=2;break}return e.abrupt("return");case 2:this.addClass("srgssr-end-screen--show"),this.isContinuousPlaybackEnabled()?this.mountContinuousPlaybackComponent():this.areRecommendationsEnabled()?this.mountRecommendationGridComponent():this.mountReplay();case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"cancelContinuousPlayback",value:function(){this.unmountCurrentComponent(),this.off(this.continuousPlaybackComponent,qd,this.cancelContinuousPlayback),this.areRecommendationsEnabled()?this.mountRecommendationGridComponent():this.mountReplay()}},{key:"mountContinuousPlaybackComponent",value:function(){this.addChild(this.continuousPlaybackComponent),this.mountedComponent=this.continuousPlaybackComponent,this.continuousPlaybackComponent.mount({mediaList:this.mediaList,recommendationId:this.options().recommendationId}),this.on(this.continuousPlaybackComponent,qd,this.cancelContinuousPlayback)}},{key:"mountRecommendationGridComponent",value:function(){this.addChild(this.recommendationComponent),this.mountedComponent=this.recommendationComponent,this.recommendationComponent.mount({mediaList:this.mediaList,recommendationId:this.options().recommendationId})}},{key:"mountReplay",value:function(){this.addChild(this.replayComponent),this.mountedComponent=this.replayComponent,this.replayComponent.mount()}},{key:"getMediaList",value:(a=YS(KS().mark((function e(){var t,n,r,i,a;return KS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player().options().SRGProviders.mediaComposition.getMainChapter(),n=t.vendor,r=t.id,i=t.mediaType,a=this.player().options().SRGProviders.dataService,e.abrupt("return",a.getEndScreenList(n,i,r));case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"initListeners",value:function(e){this.on(e,[od,yd],this.buildEndScreen),this.on(e,Ad,this.loadMediaSet),this.on(e,[cd,hd,sd,vd],this.hideAndReset)}},{key:"loadMediaSet",value:(i=YS(KS().mark((function e(){var t,n,r;return KS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mediaList=vp.getSetting(this.player(),"endScreenPlaylist"),!this.mediaList||!this.mediaList.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.getMediaList();case 5:t=e.sent,n=t.mediaList,r=t.recommendationId,this.options({recommendationId:r}),this.mediaList=n.map(();case 10:case"end":return e.stop()}}),e,this)}))),},{key:"hideAndReset",value:function(){this.isShown()&&(this.removeClass("srgssr-end-screen--show"),this.unmountCurrentComponent())}},{key:"unmountCurrentComponent",value:function(){this.mountedComponent&&(this.mountedComponent.unmount(),this.removeChild(this.mountedComponent))}},{key:"isPlayerAtEnd",value:function(){return this.player().ended()||this.player().currentTime()>this.player().duration()-.5}},{key:"isContinuousPlaybackEnabled",value:function(){return vp.getSetting(this.player(),"continuousPlayback")}},{key:"areRecommendationsEnabled",value:,{key:"isPlayerBarMode",value:,{key:"isShown",value:function(){return this.hasClass("srgssr-end-screen--show")}},{key:"displayedItems",value:function(){return this.recommendationComponent.displayedItems()}},{key:"createEl",value:function(){var e=this.buildCSSClass();return ql.dom.createEl("div",{className:e})}},{key:"buildCSSClass",value:function(){return"".concat(XS(tw(u.prototype),"buildCSSClass",this).call(this)," srgssr-end-screen")}}])&&WS(t.prototype,n),r&&WS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(ql.getComponent("Component"));function rw(e){return function(e){if(Array.isArray(e))return iw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return iw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ow(){return(ow="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=sw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function sw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fw(e)););return e}function uw(e,t){return(uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fw(e);if(t){var i=fw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cw(this,n)}}function cw(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dw(e)}function dw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fw(e){return(fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("EndScreen",nw);var hw=ql.getComponent("Component"),pw=["Days","Hours","Minutes","Seconds"],gw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uw(e,t)}(a,e);var t,n,r,i=lw(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).request={},n.setTimeout(n.periodicCall.bind(dw(n)),1e3),e.on($d,n.updateStartDate.bind(dw(n))),n.updateStartDate(),n}return t=a,r=[{key:"formatDigit",value:,{key:"splitNumber",value:,{key:"bindElement",value:function(e,t){var n=a.splitNumber(a.formatDigit(t));e.querySelectorAll(".digit").forEach(()}},{key:"addClass",value:function(e,t){e.forEach((function(e){e.classList.add(t)}))}},{key:"removeClass",value:],(n=[{key:"createSeparators",value:function(){var e=document.createDocumentFragment();this.separators=[];for(var t=0;t<3;t++)this.separators[t]=e.appendChild(ql.dom.createEl("div",{className:"separator-".concat(t+1),innerHTML:":"}));return e}},{key:"createTexts",value:function(){var e=document.createDocumentFragment();this.texts=[];for(var t=0;t<pw.length;t++)this.texts[t]=e.appendChild(ql.dom.createEl("div",{className:"text text-".concat(pw[t].toLowerCase()," flexCentered"),innerHTML:this.localize("".concat(pw[t]))}));return e}},{key:"createDigits",value:function(){var e=document.createDocumentFragment();this.digits=[];for(var t=0;t<pw.length;t++)this.digits[t]=e.appendChild(ql.dom.createEl("div",{className:"".concat(pw[t].toLowerCase()," flexCentered"),innerHTML:'<div class="digit">0</div><div class="digit">0</div>'}));return e}},{key:"buildCSSClass",value:function(){return"".concat(ow(fw(a.prototype),"buildCSSClass",this).call(this)," srgssr-countdown")}},{key:"createEl",value:function(){var e=ow(fw(a.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()}),t=ow(fw(a.prototype),"createEl",this).call(this,"div",{className:"timer"}),n=document.createDocumentFragment();return n.appendChild(this.createTexts()),n.appendChild(this.createSeparators()),n.appendChild(this.createDigits()),t.appendChild(n),e.appendChild(t),this.description=e.appendChild(ql.dom.createEl("div",{className:"description"})),e}},{key:"periodicCall",value:function(){this.updateContent(),this.setTimeout(this.periodicCall.bind(this),1e3)}},{key:"showDuration",value:function(){var e=this.startDate-Date.now(),t=e<0&&e>=-5e3?0:e,n=t/1e3,r=n/60,i=r/60,o=i/24;t<0?(a.addClass([].concat(rw(this.digits),rw(this.texts),rw(this.separators)),"invisible"),a.removeClass([this.description],"invisible"),this.description.textContent=this.localize("Playback will begin shortly")):o>=100?(a.addClass([].concat(rw(this.digits),rw(this.texts),rw(this.separators)),"invisible"),a.removeClass([this.description],"invisible"),this.description.textContent=this.localize("Content will be available in {1} days",[0|o])):(a.removeClass([].concat(rw(this.digits),rw(this.texts),rw(this.separators)),"invisible"),a.addClass([this.description],"invisible"),o>=1?(a.bindElement(this.digits[0],0|o),a.removeClass([this.digits[0],this.separators[0],this.texts[0]],"invisible")):a.addClass([this.digits[0],this.separators[0],this.texts[0]],"invisible"),i>=1||o>=1?(a.bindElement(this.digits[1],i%24),a.removeClass([this.digits[1],this.separators[1],this.texts[1]],"invisible")):a.addClass([this.digits[1],this.separators[1],this.texts[1]],"invisible"),a.bindElement(this.digits[2],r%60),a.bindElement(this.digits[3],n%60))}},{key:"updateContent",value:function(){this.showDuration()}},{key:"updateStartDate",value:function(){var e=this.player().options().SRGProviders.mediaComposition;this.startDate=e.getMainValidFromDate().getTime(),this.updateContent()}}])&&aw(t.prototype,n),r&&aw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(hw);ql.registerComponent("CountDown",gw);var mw=n(111);function yw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bw(){return(bw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Tw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Tw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cw(e)););return e}function Ew(e,t){return(Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cw(e);if(t){var i=Cw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ww(this,n)}}function ww(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cw(e){return(Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ow=ql.getComponent("ErrorDisplay"),Aw=ql.getComponent("Button"),Rw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}(a,e);var t,n,r,i=Sw(a);function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=ql.mergeOptions(t,{pauseOnOpen:!0,fillAlways:!0,temporary:!1,uncloseable:!0});return i.call(this,e,n)}return t=a,(n=[{key:"description",value:function(){var e=this.player().error();return e&&e.message}},{key:"close",value:function(){this.removeChild("countDown"),bw(Cw(a.prototype),"close",this).call(this)}},{key:"content",value:function(){var e=this.overrideVideoJSError(this.player().error());if(!e)return null;if(Vc.ERROR_BLOCKING_REASON_STARTDATE.type===e.type)return this.countDownEl();var t=ql.dom.createEl("div",{className:"".concat(e.iconClass||"vjs-icon-error"," icon"),title:this.localize(e.message)}),n=ql.dom.createEl("div",{className:"text"},{},this.createHrefEl(e)||this.localize(e.message)),r=this.createDebugButton();return ql.dom.createEl("div",{className:"content"},{},[t,n,r])}},{key:"createDebugButton",value:function(){return new Aw(this.player(),{name:"debugButton",clickHandler(e){var t=yw(e,1)[0];t.preventDefault(),t.stopPropagation();var n=ah.getDebugInformation(this.player());Dc.copyTextToClipboard(Dc.prettyStringify(n))},el:ql.dom.createEl("button",{className:"error__debug",innerText:this.localize("Copy debug info")},{"aria-label":this.localize("Copy debug info"),role:"button"})}).el()}},{key:"countDownEl",value:function(){var e=this.addChild("countDown"),t=this.player().options().SRGProviders.mediaComposition;return this.player().poster(t.getMainChapterImageUrl()),e.el()}},{key:"createHrefEl",value:function(e){if(e.hasLink){var t=this.player().options().SRGProviders.mediaComposition.getMainChapter().vendor,n=e.hasLink?mw[t]:void 0;return ql.dom.createEl("a",{className:"error__href"},{target:"_blank",href:n},this.localize(e.message))}}},{key:"overrideVideoJSError",value:function(e){if(e){if(e.type)return e;var t=ql.mergeOptions({},Vc.ERROR_UNKNOWN,{detailedMessage:e.message});return this.player().error(t),this.player().error()}}}])&&_w(t.prototype,n),r&&_w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(Ow);function Pw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kw(){return(kw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Dw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Dw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xw(e)););return e}function Mw(e,t){return(Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xw(e);if(t){var i=xw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nw(this,n)}}function Nw(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xw(e){return(xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("ErrorDisplay",Rw);var Fw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}(a,e);var t,n,r,i=Lw(a);function a(){return Pw(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"update",value:,{key:"updateTimeOnSeek",value:,{key:"updateTime",value:function(e,t,n,r){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var a=Dc.formatTime(n);if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var o=i.player_.liveTracker.liveWindow(),s=o-t*o;n=Dc.normalizeElapsedTimeSinceMidnight(s),a=Dc.formatTime(n,6e3)}i.update(e,t,a),r&&r()}))}}])&&Iw(t.prototype,n),r&&Iw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("TimeTooltip"));function Uw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jw(){return(jw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Gw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Gw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kw(e)););return e}function Hw(e,t){return(Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Vw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kw(e);if(t){var i=Kw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qw(this,n)}}function qw(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kw(e){return(Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("TimeTooltip",Fw);var zw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}(a,e);var t,n,r,i=Vw(a);function a(){return Uw(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"buildCSSClass",value:function(){return"".concat(jw(Kw(a.prototype),"buildCSSClass",this).call(this)," srgssr-subdivisions__arrow subdivisions-arrow-prev")}},{key:"handleClick",value:function(e){e.preventDefault()}}])&&Bw(t.prototype,n),r&&Bw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));function Yw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xw(){return(Xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Qw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Qw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eC(e)););return e}function $w(e,t){return($w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eC(e);if(t){var i=eC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zw(this,n)}}function Zw(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function eC(e){return(eC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SubdivisionsContainerArrowLeft",zw);var tC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}(a,e);var t,n,r,i=Jw(a);function a(){return Yw(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"buildCSSClass",value:function(){return"".concat(Xw(eC(a.prototype),"buildCSSClass",this).call(this)," srgssr-subdivisions__arrow subdivisions-arrow-next").trim()}},{key:"handleClick",value:function(e){e.preventDefault()}}])&&Ww(t.prototype,n),r&&Ww(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));function nC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rC(){return(rC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=iC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function iC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=uC(e)););return e}function aC(e,t){return(aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uC(e);if(t){var i=uC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sC(this,n)}}function sC(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uC(e){return(uC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SubdivisionsContainerArrowRight",tC);var lC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}(a,e);var t,n,r,i=oC(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).subdivision=t.subdivision,n.updateChildren(),n}return t=a,r=[{key:"getblockReasonIcon",value:function(e){return Zc.getIcon(e)}},{key:"width",get:],(n=[{key:"buildCSSClass",value:function(){return"".concat(rC(uC(a.prototype),"buildCSSClass",this).call(this)," subdivision")}},{key:"createDescriptionEl",value:function(){return ql.dom.createEl("p",{className:"subdivision__description"},{},this.subdivision.title)}},{key:"createDurationEl",value:function(){return ql.dom.createEl("div",{className:"subdivision__duration"},{},this.formatDuration())}},{key:"createEl",value:function(){return rC(uC(a.prototype),"createEl",this).call(this,"a",{className:this.buildCSSClass()})}},{key:"createImageEl",value:function(){return ql.dom.createEl("img",{alt:this.subdivision.imageTitle,className:"subdivision__img",src:"".concat(decodeURIComponent(this.subdivision.imageUrl)).concat(mh.WIDTH200)},{"aria-hidden":!0})}},{key:"formatDuration",value:,{key:"handleClick",value:function(e){e.preventDefault(),ah.switchToUrn(this.player(),this.subdivision.urn)}},{key:"setSelected",value:,{key:"updateChildren",value:function(){if(ql.setAttributes(this.el(),{href:"".concat($g.redirectUrlFromSubdivision(this.subdivision))}),this.subdivision.blockReason){var e=this.el().querySelector(".vjs-icon-placeholder"),t=e.getAttribute("data-icon");t&&e.removeAttribute(t),this.el().setAttribute("data-blockReason",this.subdivision.blockReason),e.classList.add(a.getblockReasonIcon(this.subdivision.blockReason)),e.setAttribute("data-icon",a.getblockReasonIcon(this.subdivision.blockReason))}var n=document.createDocumentFragment();n.appendChild(this.createImageEl()),n.appendChild(this.createDurationEl()),n.appendChild(this.createDescriptionEl()),this.el().appendChild(n),this.el().title=this.subdivision.title}},{key:"urn",value:function(){return this.subdivision.urn}}])&&nC(t.prototype,n),r&&nC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("ClickableComponent"));ql.registerComponent("Subdivision",lC);var cC=lC;function dC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fC(){return(fC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function hC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vC(e)););return e}function pC(e,t){return(pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vC(e);if(t){var i=vC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mC(this,n)}}function mC(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yC(e)}function yC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vC(e){return(vC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pC(e,t)}(a,e);var t,n,r,i=gC(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).on(e,Ap.SEGMENT_CHANGE,n.updateSelectionForUrn.bind(yC(n))),n.on(e,cd,n.updateSelectionForCurrentPlayer.bind(yC(n))),n.on(e,yd,n.disablePreviousSelectionAfterSeeking.bind(yC(n))),n.on(Rf,(function(e){e.deltaY>0?n.el().scrollLeft+=50:n.el().scrollLeft-=50,e.preventDefault()})),n}return t=a,r=[{key:"easeInOutQuad",value:],(n=[{key:"disablePreviousSelectionAfterSeeking",value:function(){if(!this.player().scrubbing()){var e=this.player().currentTime();this.children().forEach((function(t){var n=t.options().subdivision,r=Ap.doesSegmentContainTime(n,e);r||t.setSelected(r)}))}}},{key:"updateSelectionForUrn",value:function(e){var t=e.data,n=this.selectByUrn(t);n>=0&&this.scrollToIndex(n)}},{key:"updateSelectionForCurrentPlayer",value:function(){var e,t=this.player(),n=t.currentSource().pendingSegment;e=n?n.urn:t.options().SRGProviders.mediaComposition.chapterUrn;var r=t.currentTime(),i=-1;this.children().forEach((function(t,n){var a=t.options().subdivision,o=Ap.doesSegmentContainTime(a,r)||a.urn===e;t.setSelected(o),o&&(i=n)})),i>=0&&this.scrollToIndex(i)}},{key:"selectByUrn",value:function(e){var t=-1;return this.children().forEach((function(n,r){var i=n.urn()===e;n.setSelected(i),i&&(t=r)})),t}},{key:"buildCSSClass",value:function(){return"".concat(fC(vC(a.prototype),"buildCSSClass",this).call(this)," subdivisions__list")}},{key:"setSubdivisions",value:function(e,t){var n=this;this.removeChildren(),t.subdivisions.filter((function(e){return e.displayable})).forEach((function(r){var i=ql.mergeOptions({subdivision:r},t);n.addChild(new cC(e,i)).addClass("subdivision--show")})),this.updateSelectionForCurrentPlayer()}},{key:"canGoLeft",value:,{key:"canGoRight",value:function(){var e=this.el();return e.scrollLeft<e.scrollWidth-e.clientWidth}},{key:"createEl",value:function(){return fC(vC(a.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"removeChildren",value:function(){this.children().length=0,ql.dom.emptyEl(this.el())}},{key:"scrollLeft",value:function(){var e=this.el();this.canGoLeft(e)&&this.scrollTo(e.scrollLeft-cC.width,200)}},{key:"scrollRight",value:function(){var e=this.el();this.canGoRight(e)&&this.scrollTo(e.scrollLeft+cC.width,200)}},{key:"scrollTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.el(),i=r.scrollLeft,o=e-i,s=20,u=0,l=function e(){u+=s;var l=a.easeInOutQuad(u,i,o,t);r.scrollLeft=l,u<t?setTimeout(e,s):n&&n()};l()}},{key:"scrollToIndex",value:function(e){var t=e*cC.width;this.scrollTo(t,200)}}])&&dC(t.prototype,n),r&&dC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Component"));function bC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TC(){return(TC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=EC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function EC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AC(e)););return e}function SC(e,t){return(SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=AC(e);if(t){var i=AC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return CC(this,n)}}function CC(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return OC(e)}function OC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AC(e){return(AC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SubdivisionsList",_C);var RC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SC(e,t)}(a,e);var t,n,r,i=wC(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).hide(),n.init(t),n.on(e,[cd,$d],n.update.bind(OC(n),t)),n.on(e,sd,n.hide.bind(OC(n))),n.on(e,kd,n.updateVisibility.bind(OC(n))),xf.isTouchDevice&&(n.on(n.player(),Ld,n.updateVisibility.bind(OC(n))),n.on(Ed,(function(){n.player().userActive()||n.hide()}))),n}return t=a,r=[{key:"subdivisionString",value:function(e){return e&&e.reduce((function(e,t){return e+t.urn+t.markIn+t.markOut+t.title+t.imageUrl}),"")}}],(n=[{key:"init",value:function(e){var t=this;ql.dom.emptyEl(this.el()),this.initNavigation(e),this.on(vf,(function(){t.player().getCache().inactivityTimeout=t.player().options().inactivityTimeout,t.player().options().inactivityTimeout=0,t.player().addClass("srgssr-subdivisions--hover")})),this.on(_f,(function(){t.player().options().inactivityTimeout=t.player().getCache().inactivityTimeout,t.player().removeClass("srgssr-subdivisions--hover")}))}},{key:"isHidden",value:function(){return this.hasClass("vjs-hidden")}},{key:"updateVisibility",value:function(){var e=this.options().isComponentVisible;(void 0===e||e)&&this.currentSubdivisions&&this.currentSubdivisions.length&&!this.player().error()&&this.player().el().offsetHeight>=280&&!this.player().hasClass("chromecast--connected")?this.show():this.hide()}},{key:"show",value:function(){this.player().addClass("srgssr-has-subdivisions"),TC(AC(a.prototype),"show",this).call(this),this.triggerVisibilityChanged()}},{key:"hide",value:function(){this.player().removeClass("srgssr-has-subdivisions"),TC(AC(a.prototype),"hide",this).call(this),this.triggerVisibilityChanged()}},{key:"update",value:function(e){var t=this.player().options().SRGProviders.mediaComposition,n=t&&t.getSubdivisions();if(this.hasSubdivisions=!!n.length,this.subdivisionsChanged(n))if(this.currentSubdivisions=n,n.length){var r=ql.mergeOptions({subdivisions:n},e);this.list.setSubdivisions(this.player(),r),this.updateVisibility(),this.updateArrows()}else this.hide()}},{key:"subdivisionsChanged",value:function(e){return a.subdivisionString(e)!==a.subdivisionString(this.currentSubdivisions)}},{key:"buildCSSClass",value:function(){return"".concat(TC(AC(a.prototype),"buildCSSClass",this).call(this)," srgssr-subdivisions")}},{key:"createEl",value:function(){return TC(AC(a.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"initNavigation",value:function(e){this.list=this.addChild("SubdivisionsList",e),this.arrowLeft=this.addChild("SubdivisionsContainerArrowLeft"),this.arrowRight=this.addChild("SubdivisionsContainerArrowRight"),this.arrowLeft.on([gf,Md],this.list.scrollLeft.bind(this.list)),this.arrowRight.on([gf,Md],this.list.scrollRight.bind(this.list)),this.list.on(Cf,this.updateArrows.bind(this)),this.player().on(kd,this.updateArrows.bind(this))}},{key:"triggerVisibilityChanged",value:function(){this.player().isFullscreen()||this.player().trigger({type:lf,data:{hasSubdivisions:this.hasSubdivisions,isVisible:!this.isHidden(),subdivisionsViewHeight:this.hasSubdivisions?this.currentHeight():0}})}},{key:"updateArrows",value:function(){this.list.canGoLeft()?this.arrowLeft.enable():this.arrowLeft.disable(),this.list.canGoRight()?this.arrowRight.enable():this.arrowRight.disable()}}])&&bC(t.prototype,n),r&&bC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Component"));function PC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IC(){return(IC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=kC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function kC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=NC(e)););return e}function DC(e,t){return(DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function MC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NC(e);if(t){var i=NC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return LC(this,n)}}function LC(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function NC(e){return(NC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("SubdivisionsContainer",RC);var xC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}(a,e);var t,n,r,i=MC(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=ql.mergeOptions({pauseOnOpen:!1,uncloseable:!0,fillAlways:!0,temporary:!1},t);return(n=i.call(this,e,r)).initListeners(),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"".concat(IC(NC(a.prototype),"buildCSSClass",this).call(this)," srgssr-warning-message")}},{key:"close",value:function(){this.opened()&&(this.trigger(Cd),this.opened_=!1,this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger(Rd),this.conditionalBlur_(),this.options_.temporary&&this.dispose())}},{key:"initListeners",value:function(){var e=this;this.on(this.player(),Ap.BLOCKED_SEGMENT_SKIPPED,(function(t){var n=t.data,r=Vc["ERROR_BLOCKING_REASON_".concat(n)];r&&e.display(e.localize(r.message),void 0,vp.getSetting(e.player(),"warningMessageTimeout"))}))}},{key:"open",value:function(){this.opened()||(this.opened_=!0,this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger(Pd),this.hasBeenOpened_=!0)}},{key:"display",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning-message__text",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e3;ql.dom.addClass(this.contentEl(),t),this.fillWith(e),this.open(),setTimeout(this.close.bind(this),n)}}])&&PC(t.prototype,n),r&&PC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("ModalDialog"));function FC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UC(){return(UC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=BC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function BC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=VC(e)););return e}function jC(e,t){return(jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function GC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=VC(e);if(t){var i=VC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return HC(this,n)}}function HC(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function VC(e){return(VC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("WarningMessageComponent",xC);var qC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jC(e,t)}(a,e);var t,n,r,i=GC(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).isPlaying=!1,n.updateAvailability(),n}return t=a,r=[{key:"isAirplaySupported",value:],(n=[{key:"buildCSSClass",value:function(){return"srg-airplay-button ".concat(UC(VC(a.prototype),"buildCSSClass",this).call(this))}},{key:"getMediaElement",value:,{key:"handleClick",value:,{key:"updateAvailability",value:function(){var e=this;a.isAirplaySupported()?this.getMediaElement().addEventListener(Of,():this.hide()}},{key:"updateButtonState",value:function(){if(!this.isPlaying)return this.controlText("Start Airplay"),void this.removeClass("srg-airplay-button--active");this.controlText("Stop Airplay"),this.addClass("srg-airplay-button--active")}},{key:"updatePlaybackState",value:function(){this.isPlaying=!this.isPlaying,this.player().trigger({type:Ud,data:{isAirplayPlaying:this.isPlaying}}),this.updateButtonState()}}])&&FC(t.prototype,n),r&&FC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));ql.registerComponent("AirplayButton",qC);var KC=function zC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YC(){return(YC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=WC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function WC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=JC(e)););return e}function XC(e,t){return(XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function QC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=JC(e);if(t){var i=JC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $C(this,n)}}function $C(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function JC(e){return(JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ZC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XC(e,t)}(a,e);var t,n,r,i=QC(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).controlText(n.localize("10 seconds backward")),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"vjs-icon-rewind vjs-control-seek ".concat(YC(JC(a.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){KC(this.player(),-10)}}])&&zC(t.prototype,n),r&&zC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tO(){return(tO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=nO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function nO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oO(e)););return e}function rO(e,t){return(rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oO(e);if(t){var i=oO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return aO(this,n)}}function aO(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oO(e){return(oO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("BackwardButton",ZC);var sO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rO(e,t)}(a,e);var t,n,r,i=iO(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t)).controlText(n.localize("30 seconds forward")),n}return t=a,(n=[{key:"buildCSSClass",value:function(){return"vjs-icon-forward vjs-control-seek ".concat(tO(oO(a.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:])&&eO(t.prototype,n),r&&eO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Button"));function uO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fO(e,t){return(fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gO(e);if(t){var i=gO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pO(this,n)}}function pO(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gO(e){return(gO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("ForwardButton",sO);var mO=ql.getComponent("TextTrackDisplay"),yO={start:0,center:50,end:100,auto:100},vO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fO(e,t)}(a,e);var t,n,r,i=hO(a);function a(){return cO(this,a),i.apply(this,arguments)}return t=a,r=[{key:"getTop",value:function(e){var t=void 0!==yO[e]?yO[e]:e;return("number"!=typeof t||t<0)&&(t=yO.auto),"".concat(t,"%")}},{key:"getWidth",value:,{key:"cueContainerEl",value:function(){return ql.dom.createEl("div",{className:"vjs-text-track-display__container"})}},{key:"cueEl",value:,{key:"cues",value:function(e){var t=e.activeCues.cues_;return void 0===t?[]:t}}],(n=[{key:"clearDisplay",value:function(){this.el().firstChild&&this.el().removeChild(this.el().firstChild)}},{key:"showingTrack",value:function(){return this.player().textTracks().tracks_.find((function(e){return"showing"===e.mode}))}},{key:"setFontSize",value:function(e){this.fontPercent=e,this.player().trigger({type:cf,data:e}),this.updateDisplay()}},{key:"updateDisplay",value:function(){this.clearDisplay();var e=this.showingTrack();if(e&&e.activeCues){var t=uO(a.cues(e),1)[0];t&&this.updateDisplayState(t)}}},{key:"updateDisplayState",value:function(e){var t=e.align,n=e.line,r=void 0===n?yO.end:n,i=e.size,o=e.text,s=a.getWidth(i),u=a.getTop(r),l=uO(this.createStyledElements({align:t,cueTop:u,cueWidth:s,text:o}),2),c=l[0],d=l[1];d.appendChild(c),this.el().appendChild(d)}},{key:"fontSize",get:function(){return this.fontPercent?this.fontPercent:xf.isTouchDevice?1:1.3}},{key:"createStyledElements",value:function(e){var t=e.align,n=e.cueTop,r=e.cueWidth,i=e.text,o=a.cueEl(i),s=a.cueContainerEl(o);return s.style="\n    text-align: ".concat(t,";\n    top: ").concat(n,";\n    transform: translateY(-").concat(n,");"),o.style="\n    width: ".concat(r,";\n    font-size: ").concat(this.fontSize,"em;"),[o,s]}}])&&dO(t.prototype,n),r&&dO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(mO);function _O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TO(Object(n),!0).forEach((function(t){SO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CO(){return(CO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=OO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function OO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kO(e)););return e}function AO(e,t){return(AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function RO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kO(e);if(t){var i=kO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return PO(this,n)}}function PO(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IO(e)}function IO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kO(e){return(kO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ql.registerComponent("TextTrackDisplay",vO);var DO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}(a,e);var t,n,r,i=RO(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,e,t);var r=e.source;return n.currentCastSession=a.getCurrentSession,n.localPlayer=r.localPlayer,n.streamType=r.streamType,n.chromecastCurrentSource=r,n.activeTracks={},n.loadMediaToCast(r),n.audioTrackChangeListener=n.audioTrackChangeListener.bind(IO(n)),n.textTrackChangeListener=n.textTrackChangeListener.bind(IO(n)),n}return t=a,r=[{key:"castObject",get:function(){return window.cast||void 0}},{key:"chromeObject",get:,{key:"getCurrentSession",get:function(){return a.castObject&&a.castObject.framework.CastContext.getInstance().getCurrentSession()}},{key:"isCasting",get:function(){return Boolean(a.castObject&&"SESSION_STARTED"===a.castObject.framework.CastContext.getInstance().getSessionState())}}],(n=[{key:"addAudioTracks",value:function(e){var t=this,n=this.options().source.audioTrack;e.forEach((function(e){var r=!!n&&n.enabled&&n.language===e.language;t.audioTracks().addTrack(new ql.AudioTrack({id:e.trackId,language:e.language,label:e.language,enabled:r,kind:1===e.trackId?"main":"alternative"}))}))}},{key:"activeRemoteTrack",value:function(e){this.remotePlayer&&this.remotePlayer.mediaInfo&&(this.activeTracks=EO(EO({},this.activeTracks),e),this.editRemoteTracksInfo([this.activeTracks.audioTrackId,this.activeTracks.textTrackId]))}},{key:"audioTrackChangeListener",value:function(){var e=Yf.findActiveTrack(this.audioTracks()),t=this.findRemoteAudioTrackId(e);this.activeRemoteTrack({audioTrackId:t})}},{key:"controls",value:function(){return this.remotePlayer,!1}},{key:"createCastRequestObject",value:function(e){var t=e.urn,n=e.title,r=e.streamType,i=e.currentTime;if(this.currentCastSession){var o=a.chromeObject.cast.media,s=o.MediaInfo,u=o.GenericMediaMetadata,l=o.LoadRequest,c=new s(t,"srgssr/urn");c.metadata=new u,c.customData={},c.metadata.title=n,c.customData.server=this.localPlayer.options().SRGProviders.dataService.baseUrl.split("/").shift();var d=new l(c);return Df.isOnDemand(r)&&(d.currentTime=i),d}}},{key:"createEl",value:function(){var e=this,t=CO(kO(a.prototype),"createEl",this).call(this,"div",{id:this.options().techId,className:"vjs-tech vjs-tech-chromecast"},{style:'background-image: url("'.concat(this.poster(),'")')});return this.ready((function(){var n=ql.dom.createEl("div",{className:"vjs-icon-chromecast-active icon"},{}),r=ql.dom.createEl("p",{className:"vjs-tech-chromecast-title"},{},e.localize("Playing on {1}",[e.currentCastSession.getCastDevice().friendlyName])),i=ql.dom.createEl("div",{className:"vjs-tech-chromecast-container"},{},[n,r]);t.appendChild(i)})),t}},{key:"currentTime",value:function(){return this.hasPendingSeek()?this.pendingSeekTime:this.castingMedia?this.castingMedia.getEstimatedTime():0}},{key:"dispose",value:function(){var e=this;this.localPlayer.options().inactivityTimeout=2e3,this.localPlayer.removeClass("chromecast--connected"),this.currentCastSession.endSession(),this.player().audioTracks().removeEventListener(pf,this.audioTrackChangeListener),this.player().textTracks().removeEventListener(pf,this.textTrackChangeListener),this.subdivisionsHidden||this.localPlayer.subdivisionsContainer.show(),setTimeout((,2e3),this.resetSrc_(Function.prototype),CO(kO(a.prototype),"dispose",this).call(this,this)}},{key:"duration",value:function(){return this.remotePlayer.duration}},{key:"editRemoteTracksInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a.chromeObject.cast.media;this.castingMedia.editTracksInfo(new t.EditTracksInfoRequest(e.filter((function(e){return e}))))}},{key:"ended",value:function(){var e=a.chromeObject.cast.media.IdleReason;return!!this.castingMedia&&this.castingMedia.idleReason===e.FINISHED}},{key:"findRemoteAudioTrackId",value:function(e){if(e){var t=_O(this.remotePlayerAudioTracks().filter((),1)[0];return(t=void 0===t?{}:t).trackId}}},{key:"findRemoteTextTrackId",value:function(e){if(e){var t=_O(this.remotePlayerTextTracks().filter((function(t){var n=t.language,r=t.name,i=function(e){return[e,e.replaceAll("_","")]}(n).includes(e.language);return i&&e.label===r||i})),1)[0];return(t=void 0===t?{}:t).trackId}}},{key:"hasPendingSeek",value:function(){return["PAUSED","BUFFERING"].includes(this.lastState)&&this.pendingSeekTime}},{key:"initListeners",value:function(){var e=this;this.player().textTracks().addEventListener(pf,this.textTrackChangeListener),this.audioTracks().addEventListener(pf,this.audioTrackChangeListener),this.remotePlayerController.addEventListener(this.remotePlayerEventType.PLAYER_STATE_CHANGED,(function t(n){e.ended()&&"IDLE"===n.value&&(e.trigger(od),e.remotePlayerController.removeEventListener(e.remotePlayerEventType.PLAYER_STATE_CHANGED,t)),["BUFFERING","PAUSE"].includes(e.lastState)&&e.isSeeking&&(e.isSeeking=!1,e.trigger(yd)),e.lastState=n.value})),this.remotePlayerController.addEventListener(this.remotePlayerEventType.CURRENT_TIME_CHANGED,(function t(){e.setMuted(e.options().source.muted),e.trigger(Sd),e.remotePlayerController.removeEventListener(e.remotePlayerEventType.CURRENT_TIME_CHANGED,t)}))}},{key:"loadMediaToCast",value:function(e){var t=this;this.currentCastSession.loadMedia(this.createCastRequestObject(e)).then((function(){var n=a.castObject.framework,r=n.RemotePlayer,i=n.RemotePlayerController,o=n.RemotePlayerEventType;t.remotePlayer=new r,t.remotePlayerController=new i(t.remotePlayer),t.remotePlayerEventType=o,t.castingMedia=t.currentCastSession.getMediaSession(),t.addAudioTracks(t.remotePlayerAudioTracks()),t.activeRemoteTrack({audioTrackId:t.findRemoteAudioTrackId(Yf.findActiveTrack(t.audioTracks())),textTrackId:t.findRemoteTextTrackId(t.options().source.textTrack)}),t.isCasting=!0,t.pendingSeekTime=0,t.triggerReady(),t.trigger(fd),t.trigger(hd),t.ready(t.loadMediaToCastReady.bind(t,e)),t.initListeners()}),()}},{key:"loadMediaToCastReady",value:function(e){this.localPlayer.options().inactivityTimeout=0,this.localPlayer.userActive(!0),this.subdivisionsHidden=this.localPlayer.subdivisionsContainer.isHidden(),this.subdivisionsHidden||this.localPlayer.subdivisionsContainer.hide(),this.localPlayer.addClass("chromecast--connected"),Df.isOnDemand(e.streamType)||(this.localPlayer.liveTracker.startTracking(),this.localPlayer.removeClass("vjs-liveui"),this.localPlayer.addClass("vjs-live"),this.localPlayer.controlBar.liveDisplay.show())}},{key:"muted",value:function(){return this.remotePlayer.isMuted}},{key:"pause",value:function(){this.remotePlayer&&(this.remotePlayer.isPaused||(this.remotePlayerController.playOrPause(),this.trigger(dd)),Df.isOnDemand(this.streamType)||(this.remotePlayerController.stop(),this.currentCastSession.endSession(!0)))}},{key:"paused",value:,{key:"playbackRate",value:,{key:"play",value:function(){this.remotePlayer&&(this.remotePlayer.isPaused&&(this.remotePlayerController.playOrPause(),this.trigger(fd),this.trigger(hd)),this.ended()&&(this.trigger(wd),this.chromecastCurrentSource.currentTime=0,this.loadMediaToCast(this.chromecastCurrentSource)))}},{key:"poster",value:,{key:"readyState",value:,{key:"remotePlayerAudioTracks",value:function(){return this.remotePlayerTracks().filter((function(e){return"AUDIO"===e.type}))}},{key:"remotePlayerTextTracks",value:function(){return this.remotePlayerTracks().filter(()}},{key:"remotePlayerTracks",value:,{key:"resetSrc_",value:function(e){this.remotePlayer||e(),e()}},{key:"seekable",value:function(){var e=this.castingMedia.getEstimatedLiveSeekableRange,t=e.end,n=e.start;return ql.createTimeRanges(0,t-n)}},{key:"seeking",value:function(){return this.isSeeking}},{key:"setAutoplay",value:function(){this.remotePlayer}},{key:"setCurrentTime",value:function(e){var t=this.duration();e>t||!this.remotePlayer.canSeek||(this.pendingSeekTime=e,this.remotePlayer.currentTime=Math.min(t-1,e),this.remotePlayerController.seek(),this.isSeeking=!0,this.trigger(Td),this.trigger(vd))}},{key:"setMuted",value:function(e){this.remotePlayer.isMuted!==e&&(this.remotePlayerController.muteOrUnmute(),this.trigger(Sd))}},{key:"setPlaybackRate",value:,{key:"setSrc",value:function(e){return e&&this.loadMediaToCast(e),this.chromecastCurrentSource}},{key:"setVolume",value:function(e){this.remotePlayer.volumeLevel=e,this.remotePlayerController.setVolumeLevel(),this.trigger(Sd)}},{key:"src",value:function(e){return e&&this.loadMediaToCast(e),this.chromecastCurrentSource}},{key:"supportsFullScreen",value:function(){return this.remotePlayer,!1}},{key:"textTrackChangeListener",value:function(){var e=Bf.findActiveTrack(this.textTracks()),t=this.findRemoteTextTrackId(e);this.activeRemoteTrack({textTrackId:t})}},{key:"volume",value:function(){return this.remotePlayer.volumeLevel}}])&&wO(t.prototype,n),r&&wO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ql.getComponent("Tech"));ql.registerTech("Chromecast",DO),n(282);var MO=n(112),LO=n.t(MO,2),NO=n(113),xO=n.t(NO,2),FO=n(114),UO=n.t(FO,2),BO=n(115),jO=n.t(BO,2),GO=n(116),HO=n.t(GO,2);function VO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qO=["tiny","xsmall"],KO=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.ConfigurationHandler=n,this.player.textTracks().on(df,this.textTrackAddListener.bind(this)),this.player.on(ud,this.loadedDataListener.bind(this)),this.player.on(nd,this.canPlayListener.bind(this)),this.player.on(Ad,this.firstPlayListener.bind(this)),this.player.on(Qd,this.layoutBreakpointChangeListener.bind(this))}var t,n,r;return t=e,(n=[{key:"layoutBreakpointChangeListener",value:function(){this.restorePlaybackRate()}},{key:"textTrackAddListener",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?{}:e;if(!this.player||"metadata"!==t.kind){var n=t.kind,r=t.label;t.srgKind=Bf.computeSrgKind({kind:n,label:r})}}},{key:"loadedDataListener",value:function(){var e=this.ConfigurationHandler.getSetting(this.player,"audioTrackLanguage"),t=Bf.sanitizeParameter(this.ConfigurationHandler.getSetting(this.player,"textTrackLanguage"));ah.audioTrackLanguage(e,this.player),ah.textTrackLanguage(t,this.player)}},{key:"canPlayListener",value:function(){var e=this.ConfigurationHandler.getSetting(this.player,"volume"),t=this.ConfigurationHandler.getSetting(this.player,"muted"),n=this.ConfigurationHandler.getSetting(this.player,"textTrackSizeLevel");this.restorePlaybackRate(),this.player.muted(t),this.player.volume(e),ah.textTrackSizeLevel(n,this.player)}},{key:"firstPlayListener",value:,{key:"restorePlaybackRate",value:function(){if(ah.isStreamOnDemand(this.player)){var e=this.player.options().currentBreakpoint,t=qO.includes(e),n=this.player.hasClass("srgssr-player-bar"),r=t&&n?1:this.ConfigurationHandler.getSetting(this.player,"playbackRate");this.player.playbackRate(r)}}}])&&VO(t.prototype,n),r&&VO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),zO=n(31);function YO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ql.addLanguage("fr",UO),ql.addLanguage("en",xO),ql.addLanguage("it",jO),ql.addLanguage("rm",HO),ql.addLanguage("de",LO),ql.hook("beforesetup",(function(e,t){return t.SRGPlayerConfiguration.noUI?(e.classList.add("srgssr-no-ui"),ql.mergeOptions(t,{children:["mediaLoader","textTrackDisplay"],controlBar:!1,html5:{nativeTextTracks:!1,vhs:{overrideNative:!0}}})):t}));var XO=[],QO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vp;YO(this,e),this.ConfigurationHandler=n,this.player=this.ConfigurationHandler.initializePlayer(t,ed.a),this.playbackSettings=new KO(this.player,n),this.player.options({SRGProviders:{letterbox:this}}),e.addInstance(this)}var t,n,s;return t=e,s=[{key:"addInstance",value:function(t){if(!(t instanceof e))throw new Error("The instance parameter must be a SRGLetterbox instance");XO.push(t)}},{key:"BUILD",get:function(){return zO}},{key:"events",get:function(){return o}},{key:"getInstances",value:function(){return XO}},{key:"LETTERBOX_DEFAULT_OPTIONS",get:function(){return vp.defaultLetterboxConfiguration}},{key:"LONG_VERSION",get:function(){var e=new Date(parseInt(zO.date,10));return"".concat(ed.a," built at ").concat(e," from ").concat(zO.commit," using ").concat(zO.runner," by ").concat(zO.initiator)}},{key:"playerEvents",get:function(){return r}},{key:"removeInstance",value:function(t){if(!(t instanceof e&&e.getInstances().includes(t)))throw new Error("The instance parameter must be a SRGLetterbox instance");e.getInstances().splice(e.getInstances().indexOf(t),1)}},{key:"srgEvents",get:function(){return a}},{key:"supportedDevices",get:function(){return xf}},{key:"VERSION",get:,{key:"videojsEvents",get:function(){return i}},{key:"srgLetterboxComponents",get:function(){return Vh}}],(n=[{key:"aspectRatio",value:function(e){return this.player.aspectRatio(e)}},{key:"audioTrackLanguage",value:function(e){var t=Yf.sanitizeParameter(e);return ah.audioTrackLanguage(t,this.player)}},{key:"audioTracks",value:function(e){return e||console.warn("If you want to get or set the current audio track prefer the use of %caudioTrackLanguage","font-weight:bold; font-size:1.1em; background: #ff0000; color:#fff;","https://letterbox-web.srgssr.ch/production/api/SRGLetterbox.html#audioTrackLanguage"),this.player.audioTracks()}},{key:"autoplay",value:,{key:"currentDate",value:function(e){if(!Df.isDvr(this.player.currentSource().streamType))throw new Error("The streamType must be DVR");if(void 0!==e&&!(e instanceof Date))throw new Error("The date parameter must be an instance of Date");return ah.currentDate(e,this.player)}},{key:"currentTime",value:function(e){return this.player.currentTime(e)}},{key:"disablePictureInPicture",value:,{key:"dispose",value:function(){this.player.dispose(),e.removeInstance(this)}},{key:"duration",value:function(){var e=this.player.duration();if(e)return e;var t=this.getMediaComposition();if(t){var n=t.getMainChapter();return Dc.millisecondsToSeconds(n.duration)}}},{key:"error",value:function(){return this.player.error()}},{key:"exitPictureInPicture",value:function(){return this.player.exitPictureInPicture()}},{key:"fill",value:function(e){return this.player.fill(e)}},{key:"fluid",value:function(e){return this.player.fluid(e)}},{key:"exitFullscreen",value:function(){return this.player.exitFullscreen()}},{key:"getConfiguration",value:,{key:"getDebugInformation",value:function(){return ah.getDebugInformation(this.player)}},{key:"getMediaComposition",value:,{key:"getPlaybackSettings",value:,{key:"getUrn",value:,{key:"hasSubdivisions",value:function(){var e=this.getMediaComposition();return!!e&&e.getSubdivisions().length>0}},{key:"isFullscreen",value:function(){return this.player.isFullscreen()}},{key:"isInPictureInPicture",value:function(e){return this.player.isInPictureInPicture(e)}},{key:"loadMediaComposition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.autoplay,r=void 0===n?void 0:n,i=t.pendingSeek,a=void 0===i?void 0:i,o=t.playbackSettings,s=void 0===o?void 0:o;ah.loadMedia(this.player,{autoplay:r,mediaComposition:Ph.cleanCache(e),pendingSeek:a,playbackSettings:s,urn:e.segmentUrn||e.chapterUrn})}},{key:"loadUrn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.autoplay,r=void 0===n?void 0:n,i=t.pendingSeek,a=void 0===i?void 0:i,o=t.playbackSettings,s=void 0===o?void 0:o,u=t.standalone,l=void 0!==u&&u;ah.loadMedia(this.player,{autoplay:r,pendingSeek:a,playbackSettings:s,standalone:l,urn:e})}},{key:"loop",value:function(e){return this.player.loop(e)}},{key:"muted",value:function(e){return this.player.muted(e)}},{key:"off",value:,{key:"on",value:function(){var e;(e=this.player).on.apply(e,arguments)}},{key:"one",value:,{key:"pause",value:,{key:"paused",value:function(){return this.player.paused()}},{key:"play",value:function(){return this.player.play()}},{key:"playbackRate",value:function(e){return this.player.playbackRate(e)}},{key:"restart",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loadUrn(this.getUrn(),{autoplay:e})}},{key:"requestFullscreen",value:function(e){return this.player.requestFullscreen(e)}},{key:"requestPictureInPicture",value:,{key:"switchToUrn",value:,{key:"textTrackLanguage",value:function(e){var t=Bf.sanitizeParameter(e);return ah.textTrackLanguage(t,this.player)}},{key:"textTracks",value:function(e){return e||console.warn("If you want to get or set the current text track prefer the use of %ctextTrackLanguage","font-weight:bold; font-size:1.1em; background: #ff0000; color:#fff;","https://letterbox-web.srgssr.ch/production/api/SRGLetterbox.html#textTrackLanguage"),this.player.textTracks()}},{key:"textTrackSizeLevel",value:,{key:"trigger",value:,{key:"updateConfiguration",value:,{key:"volume",value:])&&WO(t.prototype,n),s&&WO(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=QO,window.videojs=ql,window.SRGLetterbox=QO,window.SRGLetterboxConfiguration=vp}])},600:]);
//# sourceMappingURL=7.a4617d28.chunk.js.map