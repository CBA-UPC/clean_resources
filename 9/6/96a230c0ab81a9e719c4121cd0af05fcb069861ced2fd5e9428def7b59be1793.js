import{g as Ht,c as Gt}from"./logger.rxQQzaAn.js";function Bt(J,ct){for(var d=0;d<ct.length;d++){const b=ct[d];if(typeof b!="string"&&!Array.isArray(b)){for(const S in b)if(S!=="default"&&!(S in J)){const j=Object.getOwnPropertyDescriptor(b,S);j&&Object.defineProperty(J,S,j.get?j:{enumerable:!0,get:()=>b[S]})}}}return Object.freeze(Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}))}var kt={exports:{}};/*! (C) 2024 Conviva, Inc. All rights reserved. Confidential and proprietary. */(function(J,ct){(function(d,b){J.exports=b(),typeof d>"u"||!d||d.Conviva||d.ConvivaLoading||(d.ConvivaLoading=!0,d.Conviva=b(),delete d.ConvivaLoading)})(Gt,function(){var d={};return function(){var b,S,j,ht,H,m,lt,k,it,a,g,A,P,p,At,Rt,_t,Ot,ft,mt,Ct,Et,y,Z,$,yt,l,Pt,dt,q,Q,rt,F,st,It,W,ot,V,G,I,r,Dt,wt,M,gt,Lt,pt,v,Mt,vt,Ut,u,bt,z,X,w,tt,Ft,Tt,T,Vt,St,R={};function Kt(){var t,e="";for(S==="-"&&m(e="-");S>="0"&&S<="9";)e+=S,m();if(S===".")for(e+=".";m()&&S>="0"&&S<="9";)e+=S;if(S==="e"||S==="E")for(e+=S,m(),S!=="-"&&S!=="+"||(e+=S,m());S>="0"&&S<="9";)e+=S,m();if(t=+e,!isNaN(t))return t;H("Bad number")}function et(t){return t<10?"0"+t:t}function Nt(t){return rt.lastIndex=0,rt.test(t)?'"'+t.replace(rt,function(e){var n=It[e];return typeof n=="string"?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}a=d.Constants={version:"4.7.4",CUSTOMER_KEY:"customerKey",GATEWAY_URL:"gatewayUrl",LOG_LEVEL:"logLevel",ASSET_NAME:"Conviva.assetName",PLAYER_NAME:"Conviva.applicationName",APPLICATION_VERSION:"c3.app.version",IS_LIVE:"Conviva.streamType",ENCODED_FRAMERATE:"Conviva.encodedFrameRate",DEFAULT_RESOURCE:"Conviva.defaultResource",STREAM_URL:"Conviva.streamUrl",VIEWER_ID:"Conviva.viewerId",DURATION:"Conviva.duration",UTM_TRACKING_URL:"c3.cm.utmTrackingUrl",POD_INDEX:"podIndex",POD_POSITION:"podPosition",POD_DURATION:"podDuration",AD_TYPE:"adType",MODULE_NAME:"Conviva.moduleName",MODULE_VERSION:"Conviva.moduleVersion",FRAMEWORK_NAME:"Conviva.frameworkName",FRAMEWORK_VERSION:"Conviva.frameworkVersion",i:"Constants not yet configured",o:"Invalid : Did you report playback ended?",u:"Invalid : Did you report ad playback ended?",h:"Player cannot be null",l:"PlaybackAnlytics already built",v:"PlaybackAnlytics not yet built",Playback:{BITRATE:"BITRATE",AVG_BITRATE:"AVG_BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT",AUDIO_LANGUAGE:"AUDIO_LANGUAGE",SUBTITLES_LANGUAGE:"SUBTITLES_LANGUAGE",CLOSED_CAPTIONS_LANGUAGE:"CLOSED_CAPTIONS_LANGUAGE"},Network:{SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},ErrorSeverity:{FATAL:1,WARNING:0},NO_SESSION_KEY:-2,AdPosition:{PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},AdPlayer:{CONTENT:"CONTENT",SEPARATE:"SEPARATE"},DeviceType:{DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV"},AdType:{CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},AdSlates:{BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},AdServingType:{INLINE:"Inline",WRAPPER:"Wrapper"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS"},LogLevel:{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},PlayerState:{STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},Events:{USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},ErrorType:{ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},StreamType:{UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},CallbackFunctions:{CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},DeviceMetadata:{BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},AD_PRELOAD_FEATURE:"adPreloading",AD_TAG_URL:"adTagUrl",IMASDK_CONTENT_PLAYER:"imaMainContentPlayer",CONVIVA_AD_MODULE:"convivaAdModule",CONVIVA_MODULE:"convivaModule",MEDIA_ELEMENT:"mediaElement",APP_TRACKER_EVENT:{TYPE:"convivaVideoEvent",INIT:"c3.sdk.init",VIDEO_ATTEMPT:"c3.video.attempt",VIDEO_END:"c3.video.end",VIDEO_PLAY:"c3.video.play",VIDEO_PAUSE:"c3.video.pause",VIDEO_BUFFERING:"c3.video.buffering",VIDEO_ERROR:"c3.video.error",SDK_CUSTOM_EVENT:"c3.sdk.custom_event",VIDEO_CUSTOM_EVENT:"c3.video.custom_event",AD_BREAK_START:"c3.ad.ad_break_start",AD_BREAK_END:"c3.ad.ad_break_end",VIDEO_METADATA_CHANGE:"c3.video.set_content_info",VIDEO_BITRATE_SWITCH:"c3.video.bitrate_switch"}},(g=d.Client=function(){var t=this;this._=null,this.R=!1,this.version=g.version,this.p=null,this.A=null,this.T=null,this.S=-1,this.O=null,this.N=null,this.g=null,this.I=null,this.C=-1,this.m=!1,this.D={},this.P=function(){t.p},this.L={},this.M=null,this.U=null,this.V=null,this.k=function(){this.g.F("Client.makeIPV4IPV6GlobalSessions",function(){var e;t.I&&(e=t.I.get(v.B))!==null&&e!==r.H&&t.A&&((e=new P).custom["c3.IPV4IPV6GlobalSession"]="T",e.custom["c3.domain"]=t.O.G.indexOf(A.j)>-1?A.j:A.K,t.W=t.A.Y(e,null),(e=new P).custom["c3.IPV4IPV6GlobalSession"]="T",e.custom["c3.domain"]=t.O.q.indexOf(A.J)>-1?A.J:A.X,t.Z=t.A.Y(e,null))})},this.$=function(e){t.g.F("Client.updateConnectionType",function(){if(t.M=e,t.A){var n,i=t.A.tt();for(n in i)i[n].nt(e)}})},this.it=function(e){t.g.F("Client.updateLinkEncryption",function(){if(t.U=e,t.A){var n,i=t.A.tt();for(n in i)i[n].et(e)}})},this.ot=function(e){t.g.F("Client.updateSignalStrength",function(){t.V=e})},(function(e,n,i,s){if(!(e instanceof A))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(n instanceof Et))throw new Error("systemFactory parameter should be an instance of SystemFactory.");e.gatewayUrl!==A.rt+A.ut&&e.gatewayUrl!==A.ht+A.ut||(this.R=!0),s&&(this.version=s),this.O=e.ct(),this.T=n,this.T.lt("SDK",this.O,this.version),this.g=this.T.dt(this.version),this.g.F("Client.init",function(){if(t.I=t.T.vt(),t.I.Et(),t.C=t.I.get(v._t),t.C!==-1&&t.C!==void 0&&t.C!==null||(t.C=X.Rt()),t.A=t.T.At(t,t.O,t.I),i)for(var o in i)switch(o){case a.Network.CONNECTION_TYPE:t.$(i[o]);break;case a.Network.LINK_ENCRYPTION:t.it(i[o]);break;case a.Network.SIGNAL_STRENGTH:t.ot(i[o])}t.k()},function(o){throw new Error("Client constructor failed: "+o.message)})}).apply(this,arguments),this.release=function(){this.m||this.g.F("Client.release",function(){t.p,t.A.Tt(),t.A=null,t.S=-1,t.C=-1,t.g=null,t.O=null,t.N=null,t.T=null,t.m=!0})},this.createSession=function(e,n,i){var s=g.NO_SESSION_KEY;return this.m||(!e||e instanceof P)&&this.g.F("Client.createSession",function(){s=t.A.St(e,M.Nt.Ot,n,(i?a:t).version)}),s},this.createAdSession=function(e,n,i,s,o){var c=g.NO_SESSION_KEY;return this.m||(!n||n instanceof P)&&this.g.F("Client.createAdSession",function(){var f,N;n||(n=new P),u.gt(e)&&e!==g.NO_SESSION_KEY&&(f=t.A.It(e))&&(N=n.custom[a.APPLICATION_VERSION],f.wt&&f.wt.Ct&&(!n.viewerId&&f.wt.Ct.viewerId&&(n.viewerId=f.wt.Ct.viewerId),!n.applicationName&&f.wt.Ct.applicationName&&(n.applicationName=f.wt.Ct.applicationName),n.streamType===a.StreamType.UNKNOWN&&f.wt.Ct.streamType!==a.StreamType.UNKNOWN&&(n.streamType=f.wt.Ct.streamType),typeof N<"u"&&N||typeof(N=f.wt.Ct.custom[a.APPLICATION_VERSION])<"u"&&N&&(n.custom[a.APPLICATION_VERSION]=N)),n.custom["c3.csid"]=u.yt(f.C)),c=t.A.St(n,M.Nt.Dt,i,(s?a:t).version,o)}),c},this.reportError=function(e,n,i){this.m||!u.Pt(n)||i!==g.ErrorSeverity.FATAL&&i!==g.ErrorSeverity.WARNING||this.g.F("Client.reportError",function(){var s=t.A.It(e);s&&s.bt(n,i)})},this.updateContentMetadata=function(e,n){this.m||n instanceof P&&this.g.F("Client.updateContentMetadata",function(){var i,s=t.A.It(e);s&&(i=n.ct(),s.Lt(i))})},this.detachPlayer=function(e){this.m||this.g.F("Client.detachPlayer",function(){var n=t.A.It(e);n&&n.Mt()})},this.Ut=function(e){this.m||this.g.F("Client.offFocus",function(){var n=t.A.It(e);n&&n.Ut()})},this.attachPlayer=function(e,n){this.m||n instanceof p&&this.g.F("Client.attachPlayer",function(){var i=t.A.It(e);i&&i.Vt(n)})},this.kt=function(e){this.m||this.g.F("Client.onFocus",function(){var n=t.A.It(e);n&&n.kt()})},this.contentPreload=function(e){this.m||this.g.F("Client.contentPreload",function(){var n=t.A.It(e);n&&n.Ft()})},this.contentStart=function(e){this.m||this.g.F("Client.contentStart",function(){var n=t.A.It(e);n&&n.Bt()})},this.sendCustomEvent=function(e,n,i){this.m||u.Pt(n)&&(u.Ht(i),this.g.F("Client.sendCustomEvent",function(){e===g.NO_SESSION_KEY&&(t.S<0&&(s=new P,t.S=t.A.Y(s,null)),e=t.S);var s=u.Gt(i),o=t.A.jt(e);o&&o.Kt(n,s)}))},this.adStart=function(e,n,i,s){this.m||n!==g.AdStream.CONTENT&&n!==g.AdStream.SEPARATE||i!==g.AdPlayer.CONTENT&&i!==g.AdPlayer.SEPARATE||(s!==g.AdPosition.PREROLL&&s!==g.AdPosition.MIDROLL&&g.AdPosition.POSTROLL,this.g.F("Client.adStart",function(){var o=t.A.It(e);o&&o.Wt(n,i,s)}))},this.adEnd=function(e){this.m||this.g.F("Client.adEnd",function(){var n=t.A.It(e);n&&n.Yt()})},this.cleanupSession=function(e){this.m||e!==g.NO_SESSION_KEY&&this.g.F("Client.cleanupSession",function(){t.A.It(e)&&t.A.xt(e)})},this.getAttachedPlayer=function(e){var n=null;return this.m||e!==g.NO_SESSION_KEY&&this.g.F("Client.getAttachedPlayer",function(){var i=t.A.It(e);i&&(n=i.qt())}),n},this.isPlayerAttached=function(e){return!this.m&&this.getAttachedPlayer(e)!==null},this.getPlayerStateManager=function(e){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return new p(this.T,(e?a:t).version)},this.releasePlayerStateManager=function(e){if(this.m)throw new Error("This instance of Conviva.Client has been released.");this.g.F("Client.releasePlayerStateManager",function(){e instanceof p&&e.release()})},this.Jt=function(){return this.O},this.getId=function(){return this.C},this.getSessionId=function(e){var n;return this.m?a.NO_SESSION_KEY:(n=null,this.g.F("Client.getSessionId",function(){var i=t.A.It(e);i&&(n=i.Xt())}),n)},this.getClientId=function(e){var n;return this.m?null:(n=null,this.g.F("Client.getClientId",function(){var i=t.A.It(e);i&&(n=i.Qt())}),n)},this.Zt=function(e,n,i){this.m||this.g.F("Client.updateCustomMetric",function(){var s=t.A.It(e);s&&s.Zt(n,i)})},this.setUniqueIdentifier=function(e,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!e||typeof e>"u"||JSON.stringify(e)==="{}")throw new Error("Identifiers are not set. No action taken !!");for(var i in e)this.D[i]=e[i];n&&(this.P=n)},this.setUserPreferenceForDataCollection=function(e,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!e||typeof e>"u"||JSON.stringify(e)==="{}")throw new Error("Identifiers are not set. No action taken !!");for(var i in e)e[i]==="false"?this.L[i]=n?v.$t.zt:v.$t.tn:this.L[i]=v.$t.nn},this.setUserPreferenceForDataDeletion=function(e){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!e||typeof e>"u"||JSON.stringify(e)==="{}")throw new Error("Identifiers are not set. No action taken !!");for(var n in e)e[n]==="true"?this.L[n]=v.$t.en:this.L[n]=v.$t.nn},this.getConfig=function(){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return this.I}}).version="4.7.4L",g.NO_SESSION_KEY=a.NO_SESSION_KEY,g.AdPosition={PREROLL:a.AdPosition.PREROLL,MIDROLL:a.AdPosition.MIDROLL,POSTROLL:a.AdPosition.POSTROLL},g.AdStream={CONTENT:a.AdPlayer.CONTENT,SEPARATE:a.AdPlayer.SEPARATE},g.AdPlayer={CONTENT:a.AdPlayer.CONTENT,SEPARATE:a.AdPlayer.SEPARATE},g.ErrorSeverity={FATAL:a.ErrorSeverity.FATAL,WARNING:a.ErrorSeverity.WARNING},g.DeviceType={DESKTOP:a.DeviceType.DESKTOP,CONSOLE:a.DeviceType.CONSOLE,SETTOP:a.DeviceType.SETTOP,MOBILE:a.DeviceType.MOBILE,TABLET:a.DeviceType.TABLET,SMARTTV:a.DeviceType.SMARTTV},g.AdTechnology={CLIENT_SIDE:a.AdType.CLIENT_SIDE,SERVER_SIDE:a.AdType.SERVER_SIDE},g.AdType={BLACKOUT_SLATE:a.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:a.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:a.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:a.AdSlates.OTHER_SLATE,VPAID:a.AdSlates.VPAID,REGULAR:a.AdSlates.REGULAR},g.AdServingType={INLINE:a.AdServingType.INLINE,WRAPPER:a.AdServingType.WRAPPER},g.DeviceCategory={ANDROID_DEVICE:a.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:a.DeviceCategory.APPLE_DEVICE,CHROMECAST:a.DeviceCategory.CHROMECAST,DESKTOP_APP:a.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:a.DeviceCategory.DEVICE_SIMULATOR,LG_TV:a.DeviceCategory.LG_TV,NINTENDO:a.DeviceCategory.NINTENDO,PLAYSTATION:a.DeviceCategory.PLAYSTATION,ROKU:a.DeviceCategory.ROKU,SAMSUNG_TV:a.DeviceCategory.SAMSUNG_TV,SMART_TV:a.DeviceCategory.SMART_TV,SET_TOP_BOX:a.DeviceCategory.SET_TOP_BOX,TIVO:a.DeviceCategory.TIVO,WEB:a.DeviceCategory.WEB,WINDOWS_DEVICE:a.DeviceCategory.WINDOWS_DEVICE,XBOX:a.DeviceCategory.XBOX,KAIOS_DEVICE:a.DeviceCategory.KAIOS_DEVICE},(A=d.ClientSettings=function(){var t=this;this.on=null,u.rn(this,"customerKey",function(){return this.on}),u.un(this,"customerKey",function(e){u.Pt(e)&&(this.on=e)}),this.hn=A.fn,u.rn(this,"heartbeatInterval",function(){return this.hn}),u.un(this,"heartbeatInterval",function(e){var n;typeof e=="number"&&(n=u.cn(e))===e&&(this.hn=n)}),this.ln=null,this.G=null,this.q=null,u.rn(this,"gatewayUrl",function(){return this.ln}),u.un(this,"gatewayUrl",function(e){var n;!u.Pt(e)||(n=e.split("://"))[0]!=="https"&&n[0]!=="http"||e.indexOf(".com",e.length-4)===-1||(this.ln=e)}),(function(e){if(!u.Pt(e))throw new Error("customerKey must be valid");this.customerKey=e}).apply(this,arguments),this.equals=function(e){return this.customerKey===e.customerKey&&this.gatewayUrl===e.gatewayUrl&&this.heartbeatInterval===e.heartbeatInterval},this.ct=function(){var e=new A(this.customerKey);return e.gatewayUrl=function(n){if(u.Pt(n)){var i,s=n.split("://");if(s[0]==="https"||s[0]==="http")return s[1]!==A.ut&&s[1].indexOf(A.ut)!==-1?(i=s[1].split(A.ut),t.G="https://"+i[0]+A.j,t.q="https://"+i[0]+A.J):s[1]!==A.dn&&s[1].indexOf("testonly.conviva.com")!==-1?(i=s[1].split("testonly.conviva.com"),t.G="https://"+i[0]+A.K,t.q="https://"+i[0]+A.X):s[1]===A.dn?(t.G="https://"+t.customerKey+"."+A.K,t.q="https://"+t.customerKey+"."+A.X):(t.G="https://"+t.customerKey+"."+A.j,t.q="https://"+t.customerKey+"."+A.J,n="https://"+t.customerKey+"."+A.ut),n}return t.G="https://"+t.customerKey+"."+A.j,t.q="https://"+t.customerKey+"."+A.J,"https://"+t.customerKey+"."+A.ut}(this.gatewayUrl),e.heartbeatInterval=this.heartbeatInterval,e.G=this.G,e.q=this.q,e}}).sn="https://conviva.testonly.conviva.com",A.vn="https://cws.conviva.com",A.ut="cws.conviva.com",A.j="ipv4.cws.conviva.com",A.J="ipv6.cws.conviva.com",A.dn="conviva.testonly.conviva.com",A.K="ipv4.testonly.conviva.com",A.X="ipv6.testonly.conviva.com",A.rt="https://",A.ht="http://",A.En=5,A.fn=20,(P=d.ContentMetadata=function(){this._n=null,u.rn(this,"assetName",function(){return this._n}),u.un(this,"assetName",function(t){typeof t=="string"&&(this._n=t)}),this.Rn={},u.rn(this,"custom",function(){return this.Rn}),u.un(this,"custom",function(t){typeof t=="object"&&(this.Rn=u.Gt(t))}),this.An=null,u.rn(this,"defaultResource",function(){return this.An}),u.un(this,"defaultResource",function(t){typeof t=="string"&&(this.An=t)}),this.Tn=null,u.rn(this,"viewerId",function(){return this.Tn}),u.un(this,"viewerId",function(t){typeof t=="string"&&(this.Tn=t)}),this.Sn=null,u.rn(this,"applicationName",function(){return this.Sn}),u.un(this,"applicationName",function(t){typeof t=="string"&&(this.Sn=t)}),this.On=null,u.rn(this,"streamUrl",function(){return this.On}),u.un(this,"streamUrl",function(t){typeof t=="string"&&(this.On=t)}),this.Nn=P.StreamType.UNKNOWN,u.rn(this,"streamType",function(){return this.Nn}),u.un(this,"streamType",function(t){t!==P.StreamType.UNKNOWN&&t!==P.StreamType.VOD&&t!==P.StreamType.LIVE||(this.Nn=t)}),this.gn=-1,u.rn(this,"duration",function(){return this.gn}),u.un(this,"duration",function(t){this.gn=w.In(t)}),this.wn=-1,u.rn(this,"encodedFrameRate",function(){return this.wn}),u.un(this,"encodedFrameRate",function(t){this.wn=w.In(t)}),(function(){}).apply(this,arguments),this.ct=function(){var t,e=new P;for(t in e.assetName=this.assetName,e.applicationName=this.applicationName,e.streamUrl=this.streamUrl,e.viewerId=this.viewerId,e.defaultResource=this.defaultResource,e.streamType=this.streamType,e.duration=this.duration,e.encodedFrameRate=this.encodedFrameRate,this.custom)e.custom[t]=this.custom[t];return e}}).StreamType={UNKNOWN:a.StreamType.UNKNOWN,LIVE:a.StreamType.LIVE,VOD:a.StreamType.VOD},d.ErrorType={ERROR_UNKNOWN:a.ErrorType.ERROR_UNKNOWN,ERROR_IO:a.ErrorType.ERROR_IO,ERROR_TIMEOUT:a.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:a.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:a.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:a.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:a.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:a.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:a.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:a.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:a.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:a.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:a.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},d.Events={AD_REQUESTED:a.Events.AD_REQUESTED,AD_RESPONSE:a.Events.AD_RESPONSE,AD_SLOT_STARTED:a.Events.AD_SLOT_STARTED,AD_ATTEMPTED:a.Events.AD_ATTEMPTED,AD_SLOT_ENDED:a.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:a.Events.AD_IMPRESSION_START,AD_START:a.Events.AD_START,AD_FIRST_QUARTILE:a.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:a.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:a.Events.AD_THIRD_QUARTILE,AD_COMPLETE:a.Events.AD_COMPLETE,AD_END:a.Events.AD_END,AD_IMPRESSION_END:a.Events.AD_IMPRESSION_END,AD_SKIPPED:a.Events.AD_SKIPPED,AD_ERROR:a.Events.AD_ERROR,AD_PROGRESS:a.Events.AD_PROGRESS,AD_CLOSE:a.Events.AD_CLOSE,CONTENT_PAUSED:a.Events.CONTENT_PAUSED,CONTENT_RESUMED:a.Events.CONTENT_RESUMED,POD_START:a.Events.POD_START,POD_END:a.Events.POD_END},(p=d.PlayerStateManager=function(){var t=this;t.Cn=null,t.yn=-2,t.Dn=-2,t.Pn=p.PlayerState.UNKNOWN,t.bn={},t.Ln=-2,t.wn=-2,t.gn=-2,t.Mn=null,t.Un=null,t.On=null,t.Vn=null,t.kn=null,t.Fn=-1,t.Bn=-1,t.M=null,t.U=null,t.Hn=null,t.Gn=[],t.m=!1,t.jn=null,t.Kn=null,t.Wn=null,this.release=function(){t.m||t.g.F("PlayerStateManager.release",function(){t.Cn&&t.Cn.Yn(),t.xn(),t.T=null,t.g=null,t.m=!0})},this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return t.wn},this.setEncodedFrameRate=function(e){t.m||t.g.F("PlayerStateManager.setEncodedFrameRate",function(){var n=w.In(e);n>=-1&&(t.wn=n,t.Cn)&&t.Cn.qn(t.wn)})},this.getDuration=function(){return t.gn},this.setClientMeasureInterface=function(e){u.Jn(e,new d.ClientMeasureInterface,"ClientMeasureInterface"),this.Xn=e},this.getPHT=function(){return this.Xn&&typeof this.Xn.getPHT=="function"?this.Xn.getPHT():p.DEFAULT_PHT},this.getBufferLength=function(){return this.Xn&&typeof this.Xn.getBufferLength=="function"?this.Xn.getBufferLength():p.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.Xn&&typeof this.Xn.getSignalStrength=="function"?this.Xn.getSignalStrength():p.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this.Xn&&typeof this.Xn.getRenderedFrameRate=="function"?this.Xn.getRenderedFrameRate():p.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(e){t.m||t.g.F("PlayerStateManager.setDuration",function(){var n=w.In(e);n>=-1&&(t.gn=n,t.Cn)&&t.Cn.Qn(t.gn)})},this.getStreamUrl=function(){return t.On},this.setStreamUrl=function(e){t.m||t.g.F("PlayerStateManager.setStreamUrl",function(){e&&(t.On=e,t.Cn)&&t.Cn.Zn(t.On)})},this.zn=function(){return t.Vn},this.$n=function(){return t.kn},this.setModuleNameAndVersion=function(e,n){t.Vn=e,t.kn=n},this.ti=function(){return t.Un},this.setPlayerType=function(e){t.m||t.g.F("PlayerStateManager.setPlayerType",function(){t.Un=e,t.Cn&&t.Cn.ni(t.Un)})},this.ii=function(){return t.Mn},this.setPlayerVersion=function(e){t.m||t.g.F("PlayerStateManager.setPlayerVersion",function(){t.Mn=e,t.Cn&&t.Cn.ei(t.Mn)})},this.si=function(){return t.jn},this.setAudioLang=function(e){t.m||t.g.F("PlayerStateManager.setAudioLang",function(){t.jn=e,t.Cn&&t.Cn.oi(t.jn)})},this.ri=function(){return t.Kn},this.setSubtitleLang=function(e){t.m||t.g.F("PlayerStateManager.setSubtitleLang",function(){t.Kn=e,t.Cn&&t.Cn.ui(t.Kn)})},this.hi=function(){return t.Wn},this.setCcLang=function(e){t.m||t.g.F("PlayerStateManager.setCCLang",function(){t.Wn=e,t.Cn&&t.Cn.ai(t.Wn)})},this.setMonitoringNotifier=function(e){return!t.m&&!t.Cn&&(t.Cn=e,t.p,!0)},this.xn=function(){t.m||(t.Cn=null,t.p)},this.fi=function(){t.setPlayerState(t.getPlayerState()),t.setBitrateKbps(t.ci()),t.setAvgBitrateKbps(t.li()),t.setDuration(t.getDuration()),t.setEncodedFrameRate(t.getEncodedFrameRate()),t.setStreamUrl(t.getStreamUrl()),t.setPlayerType(t.ti()),t.setPlayerVersion(t.ii()),t.setAudioLang(t.si()),t.setSubtitleLang(t.ri()),t.setCcLang(t.hi());for(var e=0;e<t.Gn.length;e++){var n=t.Gn[e];t.di(n)}t.Gn=[]},this.getPlayerState=function(){return t.Pn},this.setPlayerState=function(e){t.m||t.g.F("PlayerStateManager.setPlayerState",function(){p.vi(e)&&(t.Pn=e,t.Cn)&&t.Cn.Ei(t.Pn)})},this.ci=function(){return t.yn},this.setBitrateKbps=function(e){t.m||t.g.F("PlayerStateManager.setBitrateKbps",function(){var n=w.In(e);n>=-1&&(t.yn=n,t.Cn)&&t.Cn._i(t.yn)})},this.li=function(){return t.Dn},this.setAvgBitrateKbps=function(e){t.m||t.g.F("PlayerStateManager.setAvgBitrateKbps",function(){var n=w.In(e);n>=-1&&(t.Dn=n,t.Cn)&&t.Cn.Ri(t.Dn)})},this.setPlayerSeekStart=function(e){t.m||t.g.F("PlayerStateManager.setPlayerSeekStart()",function(){t.Cn&&t.Cn.pi(p.SEEK_ACTIONS_TYPE.SEEK_START,e)})},this.setPlayerSeekEnd=function(){t.m||t.g.F("PlayerStateManager.setPlayerSeekEnd()",function(){t.Cn&&t.Cn.pi(p.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){t.m||t.g.F("PlayerStateManager.setUserSeekButtonUp()",function(){t.Cn&&t.Cn.pi(p.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=function(){t.m||t.g.F("PlayerStateManager.setUserSeekButtonDown()",function(){t.Cn&&t.Cn.pi(p.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)})},this.setVideoResolutionWidth=function(e){t.m||t.g.F("PlayerStateManager.setVideoResolutionWidth()",function(){var n=w.In(e);n>0&&(t.Fn=n),t.Cn&&t.Cn.Ai(t.Fn)})},this.setVideoResolutionHeight=function(e){t.m||t.g.F("PlayerStateManager.setVideoResolutionHeight()",function(){var n=w.In(e);n>0&&(t.Bn=n),t.Cn&&t.Cn.Ti(t.Bn)})},this.setConnectionType=function(e){t.m||t.g.F("PlayerStateManager.setConnectionType()",function(){t.M=e,t.Cn&&t.Cn.nt(t.M)})},this.setLinkEncryption=function(e){t.m||t.g.F("PlayerStateManager.setLinkEncryption()",function(){t.U=e,t.Cn&&t.Cn.et(t.U)})},this.setSignalStrength=function(){},this.di=function(e){var n,i;t.Hn=e,t.Cn?(n=e.errorCode,i=e.severity,t.Cn.Si(n,i)):t.Gn.push(e)},this.sendError=function(e,n){t.m||t.g.F("PlayerStateManager.sendError",function(){var i=new tt(e,n);t.di(i)})},this.reset=function(){t.m||t.g.F("PlayerStateManager.reset",function(){t.yn=-2,t.Dn=-2,t.Pn=p.PlayerState.UNKNOWN,t.bn={},t.Ln=-1,t.wn=-1,t.gn=-1,t.Mn=null,t.Un=null,t.On=null,t.Hn=null,t.Gn=[]})},this.setCDNServerIP=function(e){t.m||t.g.F("PlayerStateManager.setCDNServerIP",function(){t.Cn&&t.Cn.Oi(e)})},this.Ni=function(){return t.gi},this.setDroppedFramesTotal=function(e){t.m||t.g.F("PlayerStateManager.setDroppedFramesTotal",function(){t.Cn&&t.Cn.Ii(e)})},this.setDroppedFramesCount=function(e){t.m||t.g.F("PlayerStateManager.setDroppedFramesCount",function(){t.Cn&&t.Cn.wi(e)})},this.Ci=function(){return t.Hn},(function(e,n){t.T=e,t.g=t.T.dt(n)}).apply(t,arguments)}).PlayerState={STOPPED:a.PlayerState.STOPPED,PLAYING:a.PlayerState.PLAYING,BUFFERING:a.PlayerState.BUFFERING,PAUSED:a.PlayerState.PAUSED,UNKNOWN:a.PlayerState.UNKNOWN,NOT_MONITORED:a.PlayerState.NOT_MONITORED},p.vi=function(t){return t===p.PlayerState.STOPPED||t===p.PlayerState.PLAYING||t===p.PlayerState.BUFFERING||t===p.PlayerState.PAUSED||t===p.PlayerState.UNKNOWN||t===p.PlayerState.NOT_MONITORED},p.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},p.DEFAULT_SIGNAL_STRENGTH=1e3,p.DEFAULT_RENDERED_FRAME_RATE=-1,p.DEFAULT_BUFFER_LENGTH=-1,p.DEFAULT_PHT=-1,d.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}},At=d.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},Rt=d.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},_t=d.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.getDeviceCategory=function(){},this.getScreenWidth=function(){},this.getScreenHeight=function(){},this.getScaleFactor=function(){},this.release=function(){}},Ot=d.StorageInterface=function(){this.saveData=function(){},this.loadData=function(){},this.release=function(){}},ft=d.SystemInterface=function(){(function(t,e,n,i,s,o){u.Jn(t,new mt,"TimeInterface"),u.Jn(e,new Ct,"TimerInterface"),u.Jn(n,new At,"HttpInterface"),u.Jn(i,new Ot,"StorageInterface"),u.Jn(s,new _t,"MetadataInterface"),u.Jn(o,new Rt,"LoggingInterface"),this.yi=t,this.mi=e,this.Di=n,this.Pi=i,this.bi=s,this.Li=o}).apply(this,arguments),this.release=function(){this.yi&&(this.yi.release(),this.yi=null),this.mi&&(this.mi.release(),this.mi=null),this.Di&&(this.Di.release(),this.Di=null),this.Pi&&(this.Pi.release(),this.Pi=null),this.bi&&(this.bi.release(),this.bi=null),this.Li&&(this.Li.release(),this.Li=null)}},mt=d.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},Ct=d.TimerInterface=function(){this.createTimer=function(){},this.release=function(){}},Et=d.SystemFactory=function(){var t=this;(function(n,i){if(!(n instanceof ft))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this.Mi=n,this.yi=this.Mi.yi,this.mi=this.Mi.mi,this.Di=this.Mi.Di,this.Pi=this.Mi.Pi,this.bi=this.Mi.bi,this.Li=this.Mi.Li,i instanceof y?this.O=i.ct():this.O=new y}).apply(this,arguments),this.lt=function(n,i,s){this.Ui=n,this.Vi=i,this.ki=s},this.release=function(){this.Mi.release(),this.Mi=null,this.Ui=null,this.O=null,this.Fi=null};var e=function(){return new Tt(t.Li,t.yi,t.Jt(),t.Fi,t.Ui)};this.buildLogger=function(){return e()},this.At=function(n,i,s){return new Lt(n,i,s,this)},this.Bi=function(n){return new z(this.buildLogger(),this.Hi(),this.Vi,n)},this.Gi=function(){return new pt(this.buildTimer(t.ki))},this.ji=function(){var n=new St(this.buildLogger(),this.mi,new vt(this.buildLogger(),null,this.Jt()));return new pt(n)},this.Hi=function(){return new Ft(this.buildLogger(),this.Di,this.ji(),this.Jt())},this.dt=function(n){return new vt(this.buildLogger(),this.Bi(n),this.Jt())},this.buildTime=function(){return new Vt(this.yi,this.buildLogger())},this.buildTimer=function(n){return new St(this.buildLogger(),this.mi,this.dt(n))},this.Ki=function(){return new R.Storage(this.buildLogger(),this.Pi,this.Gi(),this.Jt())},this.vt=function(){return new v(this.buildLogger(),this.Ki(),this.Wi())},this.Yi=function(n){return new T(this.buildLogger(),this.bi,this.dt(n))},this.xi=function(){return new r},this.qi=function(n,i){return new Ut(n,this.buildLogger(),this.Hi(),this.Wi(),i)},this.Ji=function(n,i,s,o,c){var f=this.qi(i,o.custom["c3.domain"]);return new M(this.Xi(),n,i,this.buildLogger(),this.dt(c),this.buildTimer(c),f,this.xi(),this.buildTime(),this.Qi(),s,o,c)},this.Zi=function(n,i,s,o,c,f,N){return n=this.Ji(n,i.ct(),s,f,N),new gt(o,c,s,this.Yi(N),n,this.dt(N),this.buildLogger())},this.Xi=function(){return new Mt},this.Wi=function(){return new Dt},this.Qi=function(){return this.Fi},this.Jt=function(){return this.O},this.Fi=new bt},(y=d.SystemSettings=function(){this.zi=y.$i,u.rn(this,"logLevel",function(){return this.zi}),u.un(this,"logLevel",function(t){var e;typeof t=="number"&&(e=u.cn(t))===t&&e>=y.LogLevel.DEBUG&&e<=y.LogLevel.ERROR&&(this.zi=e)}),this.te=y.ne,u.rn(this,"allowUncaughtExceptions",function(){return this.te}),u.un(this,"allowUncaughtExceptions",function(t){u.ie(t)&&(this.te=t)}),this.ee=y.se,u.rn(this,"storageTimeout",function(){return this.ee}),u.un(this,"storageTimeout",function(t){var e;typeof t=="number"&&(e=u.cn(t))===t&&(this.ee=e)}),this.oe=y.re,u.rn(this,"httpTimeout",function(){return this.oe}),u.un(this,"httpTimeout",function(t){var e;typeof t=="number"&&(e=u.cn(t))===t&&(this.oe=e)}),(function(){}).apply(this,arguments),this.equals=function(t){return this.logLevel===t.logLevel&&this.allowUncaughtExceptions===t.allowUncaughtExceptions&&this.storageTimeout===t.storageTimeout&&this.httpTimeout===t.httpTimeout},this.ct=function(){var t=new y;return t.logLevel=this.logLevel,t.allowUncaughtExceptions=this.allowUncaughtExceptions,t.storageTimeout=this.storageTimeout,t.httpTimeout=this.httpTimeout,t}}).LogLevel={DEBUG:a.LogLevel.DEBUG,INFO:a.LogLevel.INFO,WARNING:a.LogLevel.WARNING,ERROR:a.LogLevel.ERROR,NONE:a.LogLevel.NONE},y.ue=y.LogLevel.DEBUG,y.$i=y.LogLevel.NONE,y.he=!0,y.ne=!1,y.se=10,y.re=10,Z=R.AdAnalytics=function(){var t=this;function e(n){t.ae?(u.Ht(n)>0&&t.setAdInfo(n),t.ae.fe()||(t.ae.ce(t.le),t.ae.de(!0),t.getAdType()===a.AdType.SERVER_SIDE&&t.reportAdMetric(a.Playback.BITRATE,t.le.ve()))):t.p}t.Ee=null,t.T=null,t._e=null,t.le=null,t.ae=null,t.Re=null,t.pe=null,t.Ae=null,(function(n,i,s){t.Ee=n,t.Ae=s,t.T=i,s&&(t.le=s.Te()),t._e=i.buildTimer(a.version),t.ae=new $(t.Ee,t._e),l.call(this)}).apply(this,arguments),this.setAdInfo=function(n){u.Ht(n)<=0?t.p:(t.p,t.ae&&t.ae.Se(n))},this.setAdPlayerInfo=function(n){u.Ht(n)<=0?t.p:(t.p,t.ae&&t.ae.Se(n))},this.reportAdMetric=function(){arguments.length===0?t.p:arguments.length===1?t.Oe(arguments[0]):arguments.length===2?t.Oe(arguments[0],arguments[1]):arguments.length===3?t.Oe(arguments[0],arguments[1],arguments[2]):arguments.length===4&&t.Oe(arguments[0],arguments[1],arguments[2],arguments[3])},this.setCallback=function(n){t.ae&&t.ae.Ne(n)},this.reportAdFailed=function(n,i){t.ae?(u.Ht(i)>0&&t.setAdInfo(i),t.ae.fe()?(t.p,t.reportAdError(n,g.ErrorSeverity.FATAL),t.reportAdEnded()):(t.ae.ce(t.le),t.p,i=new tt(n,g.ErrorSeverity.FATAL),t.ae.de(!0,i))):t.p},this.reportAdLoaded=function(n){t.p,e(n)},this.reportAdStarted=function(n){t.p,e(n)},this.reportAdEnded=function(){t.ae?(t.p,t.ae.fe()&&(t.ae.ce(null),t.ae.de(!1))):t.p},this.reportAdError=function(n,i){t.ae?(t.p,n=new tt(n,i),t.ae.di(n)):t.p},this.reportAdPlayerEvent=function(n,i){if(u.Pt(n))if(t.p,t.ae)switch(n){case a.Events.USER_WAIT_STARTED:case a.Events.BUMPER_VIDEO_STARTED:t.ae.Mt();break;case a.Events.USER_WAIT_ENDED:case a.Events.BUMPER_VIDEO_ENDED:t.ae.Vt();break;default:t.ae.ge(n,i)}else t.p;else t.p},this.reportAdSkipped=function(){t.ae?(t.p,t.reportAdPlayerEvent(a.Events.AD_SKIPPED),t.reportAdEnded()):t.p},this.release=function(){t.p,t.ae&&(t.ae.fe()&&(t.ae.ce(null),t.ae.de(!1)),t.ae.Ne(null),t.ae.Ie(),t.ae=null),typeof d.AdProxyMonitor<"u"&&t.pe&&(d.AdProxyMonitor.release(t.pe),t.pe=null)},this.setAdListener=function(n,i){n&&(typeof i<"u"&&typeof i.convivaModule<"u"?d.AdProxyMonitor=i.convivaModule.AdProxyMonitor:typeof ConvivaModule<"u"&&(d.AdProxyMonitor=ConvivaModule.AdProxyMonitor),typeof d.AdProxyMonitor<"u")&&(!n&&t.pe?(d.AdProxyMonitor.release(t.pe),t.pe=null):n&&t.pe?(d.AdProxyMonitor.release(t.pe),t.p,t.pe=d.AdProxyMonitor.initConvivaDropIn(n,i,this,d,t.T)):n&&!t.pe&&(t.p,t.pe=d.AdProxyMonitor.initConvivaDropIn(n,i,this,d,t.T)))},this.reportAdBreakStarted=function(n,i,s){t.le&&(t.p,t.we=n,t.Re=i,t.le.Ce(n,i,s))},this.reportAdBreakEnded=function(){t.le&&(t.p,t.we=null,t.Re=null,t.le.ye())},this.getSessionId=function(){return t.le?(t.p,t.ae.Xt()):a.NO_SESSION_KEY},this.getClientId=function(){return t.le?(t.p,t.ae.Qt()):null},this.getPlayerMonitor=function(){return t.le},this.getAdPlayerMonitor=function(){return t.ae},this.getVideoAnalytics=function(){return t.Ae},this.getAdType=function(){return t.le?t.le.we:null},this.me=function(){return t.le?t.le.Re:null},Z.prototype=Object.create(l.prototype),Z.prototype.constructor=Z},$=R.AdPlayerMonitorImpl=function(){var t=this;t.De=null,t.Pe=null,(function(e,n){q.call(this,e,n)}).apply(this,arguments),this.ce=function(e){this.be()!==e&&(this.Le(),t.Pe=e||null)},this.be=function(){return t.Pe},this.Me=function(e){var n,i=this.be(),s={};s.error=e,t.De&&(t.Ue=t.De.getPlayerStateManager(!0),t.Ve(),t.Ue.setClientMeasureInterface(this),n=null,i&&(n=i.ke()),t.Fe=t.De.createAdSession(n,t.Ct,t.Ue,!0,s),typeof e<"u")&&(t.Be(),t.Ie())},$.prototype=Object.create(q.prototype),$.prototype.constructor=$},yt=d.Analytics={init:function(){if(this.Ee,arguments.length<=0)throw new Error("customerKey must be valid");var e=null,t=null,i=null;if(typeof arguments[0]=="string"&&!u.Pt(e=arguments[0]))throw new Error("customerKey must be valid");arguments.length>=2&&typeof arguments[1]=="object"&&(t=arguments[1]),arguments.length>=3&&typeof arguments[2]=="object"&&(i=arguments[2]);var e=new A(e),n=new y,i=(u.Ht(i)>0&&(i[a.GATEWAY_URL]&&(e.gatewayUrl=i[a.GATEWAY_URL]),i[a.LOG_LEVEL]>=0)&&(n.logLevel=i[a.LOG_LEVEL]),new d.Impl.Html5Logging),s=new d.Impl.Html5Storage,o=new d.Impl.Html5Http,c=new d.Impl.Html5Timer,f=new d.Impl.Html5Time;this.bi||(this.bi=new d.Impl.Html5Metadata),t&&(t[a.CallbackFunctions.CONSOLE_LOG]&&(i.consoleLog=t[a.CallbackFunctions.CONSOLE_LOG]),t[a.CallbackFunctions.MAKE_REQUEST]&&(o.makeRequest=t[a.CallbackFunctions.MAKE_REQUEST]),t[a.CallbackFunctions.SAVE_DATA]&&(s.saveData=t[a.CallbackFunctions.SAVE_DATA]),t[a.CallbackFunctions.LOAD_DATA]&&(s.loadData=t[a.CallbackFunctions.LOAD_DATA]),t[a.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(f.getEpochTimeMs=t[a.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),t[a.CallbackFunctions.CREATE_TIMER])&&(c.createTimer=t[a.CallbackFunctions.CREATE_TIMER]),this.Mi=new ft(f,c,o,s,this.bi,i),this.T=new Et(this.Mi,n),this.T.lt("Analytics",e),this.Ee=new g(e,this.T,this.He,yt.version),this.Ee._=new Pt(this.Ee,this),this.Ee._&&this.Ee._.Ge()},release:function(){var t=0;if(this.je){for(t=0;t<this.je.length;t++){var e=this.je[t];e&&(e.release(),e.p=null,e._e=null,this.je.splice(t,1),t--)}this.je=null}if(this.Ke){for(t=0;t<this.Ke.length;t++){var n=this.Ke[t];n&&(n.release(),n.p=null,n._e=null,this.Ke.splice(t,1),t--)}this.Ke=null}this.T&&(this.T.release(),this.T=null),this.Ee&&(this.Ee.release(),this.Ee=null),this.Ee=null,this.p=null,this.Mi=null,this.bi=null,this.He=null},setUniqueIdentifier:function(t,e){if(!this.Ee)throw new Error(a.i);this.Ee.setUniqueIdentifier(t,e)},setUserPreferenceForDataCollection:function(t,e){if(!this.Ee)throw new Error(a.i);this.Ee.setUserPreferenceForDataCollection(t,e)},setUserPreferenceForDataDeletion:function(t){if(!this.Ee)throw new Error(a.i);this.Ee.setUserPreferenceForDataDeletion(t)},reportAppEvent:function(t,e){if(!this.Ee)throw new Error(a.i);this.Ee.sendCustomEvent(g.NO_SESSION_KEY,t,e)},reportAppBackgrounded:function(){if(!this.Ee)throw new Error(a.i);this.Ee.sendCustomEvent(g.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:function(){if(!this.Ee)throw new Error(a.i);this.Ee.sendCustomEvent(g.NO_SESSION_KEY,"App.Foregrounded",null)},configureExistingClient:function(t){if(!(t instanceof g))throw new Error(a.i);this.Ee=t,this.T=this.Ee.T},buildVideoAnalytics:function(){var t;if(this.Ee)return t=new Q(this.Ee,this.T),this.Ke||(this.Ke=[]),this.Ke.push(t),t;throw new Error(a.i)},buildAdAnalytics:function(t){if(this.Ee)return t=new Z(this.Ee,this.T,t||null),this.je||(this.je=[]),this.je.push(t),t;throw new Error(a.i)},setDeviceMetadata:function(t){var e,n,i;arguments.length<=0||u.Ht(t)===0||(this.bi||(this.bi=new d.Impl.Html5Metadata),t[a.DeviceMetadata.BRAND]&&(this.bi.getDeviceBrand=function(){return t[a.DeviceMetadata.BRAND]}),t[a.DeviceMetadata.MANUFACTURER]&&(this.bi.getDeviceManufacturer=function(){return t[a.DeviceMetadata.MANUFACTURER]}),t[a.DeviceMetadata.MODEL]&&(this.bi.getDeviceModel=function(){return t[a.DeviceMetadata.MODEL]}),t[a.DeviceMetadata.TYPE]&&(this.bi.getDeviceType=function(){return t[a.DeviceMetadata.TYPE]}),t[a.DeviceMetadata.VERSION]&&(this.bi.getDeviceVersion=function(){return t[a.DeviceMetadata.VERSION]}),t[a.DeviceMetadata.OS_NAME]&&(this.bi.getOperatingSystemName=function(){return t[a.DeviceMetadata.OS_NAME]}),t[a.DeviceMetadata.OS_VERSION]&&(this.bi.getOperatingSystemVersion=function(){return t[a.DeviceMetadata.OS_VERSION]}),t[a.DeviceMetadata.CATEGORY]&&(this.bi.getDeviceCategory=function(){return t[a.DeviceMetadata.CATEGORY]}),e=t[a.DeviceMetadata.SCREEN_RESOLUTION_WIDTH],u.gt(e)&&(this.bi.getScreenWidth=function(){return e.toString()}),n=t[a.DeviceMetadata.SCREEN_RESOLUTION_HEIGHT],u.gt(n)&&(this.bi.getScreenHeight=function(){return n.toString()}),i=t[a.DeviceMetadata.SCREEN_RESOLUTION_SCALE_FACTOR],u.gt(i)&&(this.bi.getScaleFactor=function(){return i.toString()}))},reportDeviceMetric:function(t,e){switch(this.He||(this.He={}),t){case a.Network.CONNECTION_TYPE:u.Pt(e)&&(this.He[t]=e,this.Ee)&&this.Ee.$(this.He[a.Network.CONNECTION_TYPE]);break;case a.Network.LINK_ENCRYPTION:u.Pt(e)&&(this.He[t]=e,this.Ee)&&this.Ee.it(this.He[a.Network.LINK_ENCRYPTION]);break;case a.Network.SIGNAL_STRENGTH:var n=parseInt(e,10);u.gt(n)&&p.DEFAULT_SIGNAL_STRENGTH!==n&&(this.He[t]=n,this.Ee)&&this.Ee.ot(n)}},version:"4.7.4"},l=R.AnalyticsImpl=function(){var t=this;function e(){var h=!!t.ae,E=t.getAdType(),_=t.me();return E===a.AdType.SERVER_SIDE&&_===a.AdPlayer.CONTENT?l.Ye.We:E!==a.AdType.SERVER_SIDE||_!==a.AdPlayer.SEPARATE?E===a.AdType.CLIENT_SIDE&&_===a.AdPlayer.CONTENT||(E===a.AdType.CLIENT_SIDE&&a.AdPlayer.SEPARATE,h)?l.Ye.xe:l.Ye.qe:void 0}function n(h,E,_){h=parseInt(h,10),E=parseInt(E,10),isNaN(h)&&isNaN(E)||(!t.ae||_!==l.Ye.xe&&_!==l.Ye.We||t.ae.Je(h,E),!t.le)||_!==l.Ye.qe&&_!==l.Ye.We||t.le.Je(h,E)}function i(h,E){p.vi(h)&&(!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.Xe(h),t.le&&E===l.Ye.qe||E===l.Ye.We)&&t.le.Xe(h)}function s(h,E){h=parseInt(h,10),isNaN(h)||(!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.Qe(h),!t.le)||E!==l.Ye.qe&&E!==l.Ye.We||t.le.Qe(h)}function o(h,E){h=parseInt(h,10),isNaN(h)||(!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.Ze(h),!t.le)||E!==l.Ye.qe&&E!==l.Ye.We||t.le.Ze(h)}function c(h,E){h=parseInt(h,10),!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.ze(!0,h),!t.le||E!==l.Ye.qe&&E!==l.Ye.We||t.le.ze(!0,h)}function f(h){!t.ae||h!==l.Ye.xe&&h!==l.Ye.We||t.ae.ze(!1,-1),!t.le||h!==l.Ye.qe&&h!==l.Ye.We||t.le.ze(!1,-1)}function N(h,E){h=parseInt(h,10),isNaN(h)||(!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.$e(h),!t.le)||E!==l.Ye.qe&&E!==l.Ye.We||t.le.$e(h)}function O(h,E){h=parseInt(h,10),isNaN(h)||(!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.ts(h),!t.le)||E!==l.Ye.qe&&E!==l.Ye.We||t.le.ts(h)}function D(h,E){h=parseInt(h,10),isNaN(h)||(!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.ns(h),!t.le)||E!==l.Ye.qe&&E!==l.Ye.We||t.le.ns(h)}function C(h,E){var _;u.Pt(h)&&(_=t.le.hi(),u.Pt(_)&&_!=="off"&&h!=="off"&&L("off",E),!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.es(h),!t.le||E!==l.Ye.qe&&E!==l.Ye.We||t.le.es(h))}function L(h,E){var _;u.Pt(h)&&(_=t.le.ri(),u.Pt(_)&&_!=="off"&&h!=="off"&&C("off",E),!t.ae||E!==l.Ye.xe&&E!==l.Ye.We||t.ae.ss(h),!t.le||E!==l.Ye.qe&&E!==l.Ye.We||t.le.ss(h))}(function(){}).apply(this,arguments),this.Oe=function(h,E,_,U){switch(h){case a.Playback.BITRATE:U===l.Ye.xe?N(E,l.Ye.xe):N(E,e());break;case a.Playback.AVG_BITRATE:U===l.Ye.xe?O(E,l.Ye.xe):O(E,e());break;case a.Playback.PLAY_HEAD_TIME:U===l.Ye.xe?s(E,l.Ye.xe):s(E,e());break;case a.Playback.RESOLUTION:U===l.Ye.xe?n(E,_,l.Ye.xe):n(E,_,e());break;case a.Playback.BUFFER_LENGTH:U===l.Ye.xe?o(E,l.Ye.xe):o(E,e());break;case a.Playback.PLAYER_STATE:U===l.Ye.xe?i(E,l.Ye.xe):i(E,e());break;case a.Playback.RENDERED_FRAMERATE:U===l.Ye.xe?D(E,l.Ye.xe):D(E,e());break;case a.Playback.SEEK_STARTED:arguments.length>=2&&E!=="CONVIVA"?c(E,e()):_===l.Ye.xe?c(-1,l.Ye.xe):c(-1,e());break;case a.Playback.SEEK_ENDED:_===l.Ye.xe?f(l.Ye.xe):f(e());break;case a.Playback.CDN_IP:B=E,K=e(),u.Pt(B)&&(!t.ae||K!==l.Ye.xe&&K!==l.Ye.We||t.ae.os(B),!t.le||K!==l.Ye.qe&&K!==l.Ye.We||t.le.os(B));break;case a.Playback.DROPPED_FRAMES_TOTAL:K=E,B=e(),K=parseInt(K,10),isNaN(K)||(!t.ae||B!==l.Ye.xe&&B!==l.Ye.We||t.ae.rs(K),!t.le)||B!==l.Ye.qe&&B!==l.Ye.We||t.le.rs(K);break;case a.Playback.DROPPED_FRAMES_COUNT:var Y=E,x=e();Y=parseInt(Y,10),isNaN(Y)||(!t.ae||x!==l.Ye.xe&&x!==l.Ye.We||t.ae.us(Y),!t.le)||x!==l.Ye.qe&&x!==l.Ye.We||t.le.us(Y);break;case a.Playback.AUDIO_LANGUAGE:x=E,Y=e(),u.Pt(x)&&(!t.ae||Y!==l.Ye.xe&&Y!==l.Ye.We||t.ae.hs(x),!t.le||Y!==l.Ye.qe&&Y!==l.Ye.We||t.le.hs(x));break;case a.Playback.SUBTITLES_LANGUAGE:C(E,e());break;case a.Playback.CLOSED_CAPTIONS_LANGUAGE:L(E,e());break;default:at=h,ut=E,nt=e(),u.Pt(at)&&ut&&(!t.ae||nt!==l.Ye.xe&&nt!==l.Ye.We||t.ae.Zt(at,ut),!t.le||nt!==l.Ye.qe&&nt!==l.Ye.We||t.le.Zt(at,ut))}var at,ut,nt,B,K}},R.AnalyticsImpl.Ye={xe:1,qe:2,We:3},Pt=R.AppAnalyticsHandler=function(){var t=this;t.Ee=null,t.fs=null,t.cs=null,t.ls=null,t.wt=null,(function(e,n){t.Ee=e,t.fs=n,typeof document<"u"&&document&&(t.cs=document.createEvent("HTMLEvents"),t.cs.initEvent(a.APP_TRACKER_EVENT.TYPE,!0,!0))}).apply(this,arguments),this.Ge=function(){t.ds(a.APP_TRACKER_EVENT.INIT)},this.vs=function(){t.ds(a.APP_TRACKER_EVENT.VIDEO_ATTEMPT)},this.Es=function(){t.ds(a.APP_TRACKER_EVENT.VIDEO_END),t.wt=null},this._s=function(e){t.ds(a.APP_TRACKER_EVENT.VIDEO_PLAY,e)},this.Rs=function(e){t.ds(a.APP_TRACKER_EVENT.VIDEO_PAUSE,e)},this.ps=function(e){t.ds(a.APP_TRACKER_EVENT.VIDEO_ERROR,e)},this.As=function(e){t.ds(a.APP_TRACKER_EVENT.VIDEO_BUFFERING,e)},this.Ts=function(e){t.ds(a.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH,e)},this.Ss=function(e){t.ds(a.APP_TRACKER_EVENT.VIDEO_METADATA_CHANGE,e)},this.Os=function(e){e={cen:e.name,ced:e.data},t.ds(a.APP_TRACKER_EVENT.VIDEO_CUSTOM_EVENT,e)},this.Ns=function(e){e={cen:e.name,ced:e.data},t.ds(a.APP_TRACKER_EVENT.SDK_CUSTOM_EVENT,e)},this.gs=function(e){t.ds(a.APP_TRACKER_EVENT.AD_BREAK_START,{cen:"PodStart",ced:e})},this.Is=function(){t.ds(a.APP_TRACKER_EVENT.AD_BREAK_END,{cen:"PodEnd"})},this.ds=function(e,n){try{if(t.cs){if(t.ws(),t.cs.name=t.ls.name=e,t.cs.iid=t.ls.iid=t.Ee.getConfig().getIid(),t.cs.clid=t.ls.clid=t.Ee.getConfig().getClientId(),t.wt){var i=t.wt;if(i.Cs()?(t.cs.sid=t.ls.sid=i.ys.Xt(),t.cs.sst=t.ls.sst=i.Ds,t.cs.url=t.ls.url=i.On,t.cs.st=t.ls.st=i.Ps(),t.cs.an=t.ls.an=i._n,t.cs.pn=t.ls.pn=i.bs,t.cs.tags=t.ls.tags=JSON.stringify(i.Ct.Rn),t.cs.vid=t.ls.vid=i.Tn,i.Ls>=0&&(t.cs.cl=t.ls.cl=i.Ls),t.cs.lv=t.ls.lv=i.Ms,t.cs.fw=t.ls.fw=i.Us(),t.cs.fwv=t.ls.fwv=i.Vs(),t.cs.mn=t.ls.mn=i.Vn,t.cs.mv=t.ls.mv=i.kn,i.yn>=0&&(t.cs.br=t.ls.br=i.yn)):i.ks()&&(t.cs.sid=t.ls.sid=i.ys.Xt(),t.cs.sst=t.ls.sst=i.Ds,t.cs.st=t.ls.st=i.Ps(),t.cs.mn=t.ls.mn=i.Vn,t.cs.mv=t.ls.mv=i.kn),n)for(var s=Object.keys(n),o=0;o<s.length;o++)typeof n[s[o]]=="object"?t.cs[s[o]]=t.ls[s[o]]=JSON.stringify(n[s[o]]):t.cs[s[o]]=t.ls[s[o]]=n[s[o]]}typeof document<"u"&&document&&document.dispatchEvent(t.cs)}}catch{}},this.ws=function(){if(t.ls!==null)for(var e=Object.keys(t.ls),n=0;n<e.length;n++)delete t.cs[e[n]];t.ls={}},this.Fs=function(e,n,i){try{((t.wt=i).Cs()||i.ks())&&(e===r.Bs?n[r.Hs][r.Gs]?n[r.Hs][r.Gs]===r.js?t._s(n):n[r.Hs][r.Gs]===r.Ks?t.As(n):n[r.Hs][r.Gs]===r.Ws&&t.Rs(n):n[r.Hs][r.Ys]?t.Ts(n):t.Ss(n):e===r.xs?t.ps({err:n[r.qs],ft:n[r.Js]}):e===r.Xs?t.Es():e===a.APP_TRACKER_EVENT.VIDEO_ATTEMPT?t.vs():e===r.Qs&&(n[r.Zs]===a.Events.POD_START?t.gs(n[r.zs]):n[r.Zs]===a.Events.POD_END?t.Is(n[r.zs]):t.wt.Cs()?t.Os({name:n[r.Zs],data:n[r.zs]}):t.Ns({name:n[r.Zs],data:n[r.zs]})))}catch{}}},dt=R.PlayerMonitor=function(){var t=this;this.$s=null,this.no=null,this.Ct=null,this.io=null,this.Pn=p.PlayerState.UNKNOWN,this.eo=-1,this.so=-1,this.Gn=[],this.oo=null,this.ro=null,this.uo=-2,this.ho=-2,this.Ln=-1,this.V=p.DEFAULT_SIGNAL_STRENGTH,this.ao=null,this.gi=null,this.U=null,this.M=null,this._e=null,this.fo=null,this.co=null,this.lo=null,this.do=null,this.we=null,this.Re=null,this.jn=null,this.Kn=null,this.Wn=null,(function(e){t._e=e}).apply(this,arguments),this.vo=function(){return t.Pn},this.Xe=function(e){t.Pn!==e&&(t.Le(),t.Pn=e,t.Eo())},this._o=function(){return t.Ro},this.po=function(){return t.Ao},this.ze=function(e,n){t.Le(),t.Ro=e,t.Ao=n,t.To()},this.So=function(){return t.eo},this.Qe=function(e){t.eo=e},this.Oo=function(){return t.so},this.Ze=function(e){t.so=e},this.ve=function(){return t.uo},this.$e=function(e){t.uo!==e&&(t.uo=e,t.Eo())},this.No=function(){return t.ho},this.ts=function(e){t.ho!==e&&(t.ho=e,t.Eo())},this.Io=function(){return t.Ln},this.ns=function(e){t.Ln=e},this.wo=function(){return t.ao},this.os=function(e){t.ao=e,t.Eo()},this.Ni=function(){return t.gi},this.rs=function(e){t.gi=e,t.Eo()},this.us=function(e){t.Co(e)},this.yo=function(){return t.V},this.si=function(){return t.jn},this.ri=function(){return t.Kn},this.hi=function(){return t.Wn},this.hs=function(e){t.jn!==e&&(t.jn=e,t.Eo())},this.es=function(e){t.Kn!==e&&(t.Kn=e,t.Eo())},this.ss=function(e){t.Wn!==e&&(t.Wn=e,t.Eo())},this.mo=function(){return t.Do},this.Po=function(){return t.bo},this.Je=function(e,n){n<0&&(n=0),t.Do===(e=e<0?0:e)&&t.bo===n||(t.Do=e,t.bo=n,t.Eo())},this.Lo=function(){return t.no},this.Mo=function(){t.Lo()&&(t.Ct=new P,t.io={},t.co={},t.Uo())},this.Vo=function(e){(t.no||e)&&(this.Le(),t.no&&(t.no=null,t.Mo()),e)&&(t.no=u.ko(t.no,e),t.Mo())},this.Se=function(e){if(e)if(t.Ct){var n,i=!1;for(n in e)if(t.Ct[n]!==e[n]){i=!0;break}i&&(t.Le(),t.no=u.ko(e),t.Uo())}else t.Vo(e)},this.Ne=function(e){e?t.lo!==e&&(t.lo=e,t.Fo()):(t.lo=null,t.Be())},this.Le=function(){t.Bo||t.lo&&(t.Bo=!0,t.lo(),t.Bo=!1)},this.fe=function(){return t.$s},this.de=function(e,n){t.$s!==e&&(t.Le(),t.$s&&(t.Ho(),t.Be(),t.Ie()),t.$s=e,t.$s)&&t.Me(n)},this.Go=function(){return t.oo},this.jo=function(){return t.ro||null},this.Ko=function(){return t.Gn},this.Wo=function(){t.Gn=[]},this.di=function(e){this.Le(),t.Gn.push(e),t.Si()},this.ge=function(e,n){t.Le(),t.oo=e,t.ro=n,t.Yo()},this.xo=function(){t.Le()},this.Fo=function(){t.Be(),t.fo=t._e.create(t.xo,1e3,"PlayerMonitor.update")},this.Be=function(){t.fo&&(t.fo(),t.fo=null)},this.Ce=function(e,n,i){t.do=i,t.we=e,t.qo(),t.Re=n,t.we&&a.AdType.CLIENT_SIDE===t.we&&(t.Pn=a.PlayerState.UNKNOWN,t.Jo(t.we,n,i?i[a.POD_POSITION]:null))},this.ye=function(){t.we&&a.AdType.CLIENT_SIDE===t.we&&(t.Xo(),t.Pn=a.PlayerState.UNKNOWN),t.Qo(),t.we=null,t.Re=null},this.Zo=function(){return t.do},this.zo=function(){return t.we},this.getContentMetadata=function(){return this.Ct},this.Ie=function(){this.$s=null,this.no=null,this.Ct=null,this.io=null,this.Pn=p.PlayerState.UNKNOWN,this.eo=-1,this.so=-1,this.Gn=[],this.oo=null,this.ro=null,this.uo=-2,this.ho=-2,this.Ln=-1,this.V=p.DEFAULT_SIGNAL_STRENGTH,this.ao=null,this.gi=null,this.U=null,this.M=null,this._e=null,this.fo=null,this.co=null,this.lo=null,this.do=null,this.we=null,this.Re=null,this.jn=null,this.Kn=null,this.Wn=null,t.Ue=null,t.Fe=g.NO_SESSION_KEY}},q=R.PlayerMonitorImpl=function(){var t=this;t.De=null,t.Ue=null,t.Fe=g.NO_SESSION_KEY,(function(e,n){dt.call(this,n),t.De=e}).apply(this,arguments),this.getPHT=function(){return t.So()},this.getBufferLength=function(){return t.Oo()},this.getRenderedFrameRate=function(){return t.Io()},this.getSignalStrength=function(){return t.yo()},this.To=function(){t.Ue&&t._ContentSessionKey!==g.NO_SESSION_KEY&&(t._o()?t.Ue.setPlayerSeekStart(t.po()):t.Ue.setPlayerSeekEnd())},this.Eo=function(){t.Ue&&(t.Ue.setPlayerState(t.vo()),t.ve()>0&&t.Ue.setBitrateKbps(t.ve()),t.No()>0&&t.Ue.setAvgBitrateKbps(t.No()),t.mo()>0&&t.Ue.setVideoResolutionWidth(t.mo()),t.Po()>0&&t.Ue.setVideoResolutionHeight(t.Po()),t.wo()&&t.Ue.setCDNServerIP(t.wo()),u.gt(t.Ni())&&t.Ue.setDroppedFramesTotal(t.Ni()),u.Pt(t.si())&&t.Ue.setAudioLang(t.si()),u.Pt(t.ri())&&t.Ue.setSubtitleLang(t.ri()),u.Pt(t.hi()))&&t.Ue.setCcLang(t.hi())},this.Lt=function(){t.Fe!==g.NO_SESSION_KEY&&t.De&&t.De.updateContentMetadata(t.Fe,t.Ct)},this.Ve=function(){if(t.Ue){t.co&&u.Ht(t.co)>0&&(t.co[a.MODULE_NAME]&&t.co[a.MODULE_VERSION]&&(e=t.co[a.MODULE_NAME],n=t.co[a.MODULE_VERSION],u.Pt(e))&&u.Pt(n)&&t.Ue.setModuleNameAndVersion(e,n),t.co[a.FRAMEWORK_NAME]&&(e=t.co[a.FRAMEWORK_NAME],u.Pt(e))&&t.Ue.setPlayerType(e),t.co[a.FRAMEWORK_VERSION])&&(n=t.co[a.FRAMEWORK_VERSION],u.Pt(n))&&t.Ue.setPlayerVersion(n);var e,n,i=t.Ko();t.Wo();for(var s=0;s<i.length;s++){var o=i[s];t.Ue.di(o)}}},this.Xo=function(){t.Ue&&t.Fe!==g.NO_SESSION_KEY&&(t.Eo(),this.$o())},this.Vt=function(){t.Ue&&t.Fe!==g.NO_SESSION_KEY&&(t.Eo(),t.De.kt(t.Fe))},this.$o=function(){t.De&&t.Fe!==a.NO_SESSION_KEY&&t.De.adEnd(t.Fe)},this.Jo=function(e,n,i){var s;t.Ue&&t.Fe!==a.NO_SESSION_KEY&&(s=null,a.AdType.CLIENT_SIDE===e?s=g.AdStream.SEPARATE:a.AdType.SERVER_SIDE===e&&(s=g.AdStream.CONTENT),t.tr(s,n,i))},this.Mt=function(){t.Ue&&t.Fe!==a.NO_SESSION_KEY&&t.De.Ut(t.Fe)},this.tr=function(e,n,i){t.De&&t.Fe!==a.NO_SESSION_KEY&&t.De.adStart(t.Fe,e,n,i)},this.Me=function(){if(t.De){t.Ue=t.De.getPlayerStateManager(!0),t.Ve(),t.Ue.setClientMeasureInterface(this);try{var e;t.Ct&&t.Ct.custom&&!t.Ct.custom[a.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(n){if(this===void 0||this===null)throw new TypeError;var i=Object(this),s=i.length>>>0;if(typeof n!="function")throw new TypeError;for(var o,c=[],f=arguments.length>=2?arguments[1]:void 0,N=0;N<s;N++)N in i&&(o=i[N],n.call(f,o,N,i))&&c.push(o);return c}),(e=u.nr().split("?").join("").split("&").filter(function(n){return n.split("=").length===2&&n.split("=")[0].toLowerCase().indexOf("utm_")>=0}).join("&"))!=="")&&(t.Ct.custom[a.UTM_TRACKING_URL]=e)}catch(n){t.p.error("PlayerMonitorImpl _createSession : "+n)}t.Fe=t.De.createSession(t.Ct,t.Ue,!0)}},this.Ho=function(){t.De&&(t.Ue&&(t.Ue.setPlayerState(a.PlayerState.STOPPED),t.Ue=null),t.Fe!==a.NO_SESSION_KEY)&&(t.De.cleanupSession(t.Fe),t.Fe=a.NO_SESSION_KEY)},this.Si=function(){if(t.De&&t.Fe!==g.NO_SESSION_KEY){var e=t.Ko();t.Wo();for(var n=0;n<e.length;n++){var i=e[n];t.De.reportError(t.Fe,i.ir(),i.er())}}},this.Yo=function(){t.Fe!==g.NO_SESSION_KEY&&t.De&&t.De.sendCustomEvent(t.Fe,t.Go(),t.jo())},this.Uo=function(){var e,n=t.Lo(),i=!1,s=!1;for(e in n){var o=n[e];if(u.Pt(e)&&o!==null&&o!==void 0)switch(e){case a.STREAM_URL:s=!0,t.Ct.streamUrl=o;break;case a.ASSET_NAME:s=!0,t.Ct.assetName=o;break;case a.DEFAULT_RESOURCE:s=!0,t.Ct.defaultResource=o;break;case a.VIEWER_ID:s=!0,t.Ct.viewerId=o;break;case a.PLAYER_NAME:s=!0,t.Ct.applicationName=o;break;case a.DURATION:s=!0,t.Ct.duration=o;break;case a.IS_LIVE:s=!0,t.Ct.streamType=o;break;case a.ENCODED_FRAMERATE:s=!0,t.Ct.encodedFrameRate=o;break;case a.MODULE_NAME:case a.MODULE_VERSION:case a.FRAMEWORK_NAME:case a.FRAMEWORK_VERSION:i=!0,t.co[e]=o;break;default:a.APPLICATION_VERSION,s=!0,t.Ct.custom[e]=o}}i&&this.Ve(),s&&this.Lt()},this.qo=function(){this.sr(a.Events.POD_START)},this.Qo=function(){this.sr(a.Events.POD_END)},this.sr=function(e){var n,i,s;t.De&&t.Fe!==a.NO_SESSION_KEY&&(n={},(s=this.Zo())&&((i=s[a.POD_POSITION])&&(n[a.POD_POSITION]=i),(i=s[a.POD_INDEX])&&(n[a.POD_INDEX]=i+""),e===a.Events.POD_START)&&(i=s[a.POD_DURATION])&&(n[a.POD_DURATION]=i+""),(s=this.zo())&&(n[a.AD_TYPE]=s),t.De.sendCustomEvent(t.Fe,e,n))},this.Co=function(e){t.Ue.setDroppedFramesCount(e)},this.rr=function(e){this.Fe===a.NO_SESSION_KEY&&e!==a.NO_SESSION_KEY&&(this.Fe=e)},this.ke=function(){return this.Fe},this.Xt=function(){return t.De.getSessionId(this.Fe)},this.Qt=function(){return t.De.getClientId(this.Fe)},this.Zt=function(e,n){t.De.Zt(this.Fe,e,n)},q.prototype=Object.create(dt.prototype),q.prototype.constructor=q},d.Impl=d.Impl||{},d.Impl.Html5Http=function(){(function(){}).apply(this,arguments),this.makeRequest=function(){return this.makeRequestStandard.apply(this,arguments)},this.makeRequestStandard=function(t,e,n,i,s,o){var c=new XMLHttpRequest;return c.open(t,e,!0),i&&c.overrideMimeType&&(c.overrideMimeType=i),i&&c.setRequestHeader&&c.setRequestHeader("Content-Type",i),s>0&&(c.timeout=s,c.ontimeout=function(){c.ontimeout=c.onreadystatechange=null,o&&o(!1,"timeout after "+s+" ms")}),c.onreadystatechange=function(){c.readyState===4&&(c.ontimeout=c.onreadystatechange=null,c.status===200?o&&o(!0,c.responseText):o&&o(!1,"http status "+c.status))},c.send(n),null},this.release=function(){}},d.Impl=d.Impl||{},d.Impl.Html5Logging=function(){(function(){}).apply(this,arguments),this.consoleLog=function(t,e){typeof console<"u"&&(console.log&&e===y.LogLevel.DEBUG||e===y.LogLevel.INFO?console.log(t):console.warn&&e===y.LogLevel.WARNING?console.warn(t):console.error&&e===y.LogLevel.ERROR&&console.error(t))},this.release=function(){}},d.Impl=d.Impl||{},d.Impl.Html5Metadata=function(){(function(){}).apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=function(){return null},this.getScreenWidth=function(){return typeof window<"u"&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=function(){return typeof window<"u"&&window&&window.screen&&window.screen.height?window.screen.height.toString():null},this.getScaleFactor=function(){return typeof window<"u"&&window&&window.devicePixelRatio?window.devicePixelRatio.toString():null},this.release=function(){}},d.Impl=d.Impl||{},d.Impl.Html5Storage=function(){(function(){}).apply(this,arguments),this.saveData=function(t,e,n,i){t=t+"."+e;try{localStorage.setItem(t,n),i(!0,null)}catch(s){i(!1,s.toString())}},this.loadData=function(t,e,n){t=t+"."+e;try{n(!0,localStorage.getItem(t))}catch(i){n(!1,i.toString())}},this.release=function(){}},d.Impl=d.Impl||{},d.Impl.Html5Time=function(){(function(){}).apply(this,arguments),this.getEpochTimeMs=function(){return new Date().getTime()},this.release=function(){}},d.Impl=d.Impl||{},d.Impl.Html5Timer=function(){(function(){}).apply(this,arguments),this.createTimer=function(t,e){var n=setInterval(t,e);return function(){n!==-1&&(clearInterval(n),n=-1)}},this.release=function(){}},Q=R.VideoAnalytics=function(){var t=this;t.Ee=null,t.T=null,t._e=null,t.le=null,t.pe=null,this.release=function(){t.p,t.le&&t.le.fe()&&t.le.de(!1),typeof d.ProxyMonitor<"u"&&t.pe&&(d.ProxyMonitor.release(t.pe),t.pe=null),t.le&&(t.le.Ne(null),t.le.Ie(),t.le=null),t._e=null},(function(e,n){t.Ee=e,t.T=n,t._e=n.buildTimer(a.version),t.le=new q(t.Ee,t._e),l.call(this)}).apply(this,arguments),this.reportPlaybackRequested=function(e){t.p,t.le&&(u.Ht(e)>0&&t.setContentInfo(e),t.le.fe()||t.le.de(!0))},this.reportPlaybackEnded=function(){t.p,t.le&&t.le.fe()&&(t.le.de(!1),typeof d.ProxyMonitor<"u"&&t.pe&&(d.ProxyMonitor.release(t.pe),t.pe=null),t.le.Ne(null))},this.reportPlaybackFailed=function(e,n){t.le&&(u.Ht(n)>0&&t.setContentInfo(n),t.le.fe()||t.le.de(!0),t.p,t.reportPlaybackError(e,g.ErrorSeverity.FATAL),t.reportPlaybackEnded())},this.setContentInfo=function(e){u.Ht(e)<=0||t.le&&(t.p,t.le.Se(e))},this.setPlayerInfo=function(e){u.Ht(e)<=0||t.le&&(t.p,t.le.Se(e))},this.reportPlaybackMetric=function(){arguments.length!==0&&(arguments.length===1?t.Oe(arguments[0]):arguments.length===2?t.Oe(arguments[0],arguments[1]):arguments.length===3?t.Oe(arguments[0],arguments[1],arguments[2]):arguments.length===4&&t.Oe(arguments[0],arguments[1],arguments[2],arguments[3]))},this.reportPlaybackError=function(e,n){t.le&&u.Pt(e)&&(t.p,e=new tt(e,n),t.le.di(e))},this.reportPlaybackEvent=function(e,n){if(u.Pt(e)&&t.le&&(t.p,t.le))switch(e){case a.Events.USER_WAIT_STARTED:case a.Events.BUMPER_VIDEO_STARTED:t.le.Mt();break;case a.Events.USER_WAIT_ENDED:case a.Events.BUMPER_VIDEO_ENDED:t.le.Vt();break;default:t.le.ge(e,n)}},this.setCallback=function(e){t.p,t.le&&t.le.Ne(e)},this.reportAdBreakStarted=function(e,n,i){t.le&&(t.p,t.le.Ce(e,n,i))},this.reportAdBreakEnded=function(){t.le&&(t.p,t.le.ye())},this.setPlayer=function(e,n){var i,s;e!==void 0&&(n&&(i=n[a.CONVIVA_MODULE],s=n[a.MEDIA_ELEMENT]),typeof i<"u"?d.ProxyMonitor=i.ProxyMonitor:typeof ConvivaModule<"u"&&(d.ProxyMonitor=ConvivaModule.ProxyMonitor),typeof d.ProxyMonitor<"u")&&(t.p,!e&&t.pe?(d.ProxyMonitor.release(t.pe),t.pe=null):e?(t.pe&&d.ProxyMonitor.release(t.pe),t.p,t.pe=typeof s<"u"?d.ProxyMonitor.initConvivaDropIn(e,s,t.T,this,d):d.ProxyMonitor.initConvivaDropIn(e,t.T,this,d)):typeof s<"u"&&(t.pe=d.ProxyMonitor.initConvivaDropIn(e,s,t.T,this,d)))},this.setAdAnalytics=function(e){e?t.getAdType()&&(t.getAdType()===a.AdType.SERVER_SIDE?t.ae=e.getAdPlayerMonitor():t.getAdType()===a.AdType.CLIENT_SIDE&&t.p):t.ae=null},this.configureExistingSession=function(e){e!==a.NO_SESSION_KEY&&t.le&&(t.p,t.le.rr(e))},this.getSessionId=function(){return t.le?(t.p,t.le.Xt()):a.NO_SESSION_KEY},this.getClientId=function(){return t.le?(t.p,t.le.Qt()):null},this.Te=function(){return t.p,this.le},this.getAdType=function(){return t.le?t.le.we:null},this.me=function(){return t.le?t.le.Re:null},Q.prototype=Object.create(l.prototype),Q.prototype.constructor=Q},R.JsonParse=(ht={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},H=function(t){throw{name:"SyntaxError",message:t,at:b,text:j}},m=function(t){return t&&t!==S&&H("Expected '"+t+"' instead of '"+S+"'"),S=j.charAt(b),b+=1,S},lt=function(){var t,e,n,i="";if(S==='"')for(;m();){if(S==='"')return m(),i;if(S==="\\")if(m(),S==="u"){for(e=n=0;e<4&&(t=parseInt(m(),16),isFinite(t));e+=1)n=16*n+t;i+=String.fromCharCode(n)}else{if(typeof ht[S]!="string")break;i+=ht[S]}else i+=S}H("Bad string")},k=function(){for(;S&&S<=" ";)m()},it=function(){switch(k(),S){case"{":var t,e={};if(S==="{"){if(m("{"),k(),S==="}")return m("}"),e;for(;S;){if(t=lt(),k(),m(":"),Object.hasOwnProperty.call(e,t)&&H('Duplicate key "'+t+'"'),e[t]=it(),k(),S==="}")return m("}"),e;m(","),k()}}return void H("Bad object");case"[":var n=[];if(S==="["){if(m("["),k(),S==="]")return m("]"),n;for(;S;){if(n.push(it()),k(),S==="]")return m("]"),n;m(","),k()}}return void H("Bad array");case'"':return lt();case"-":return Kt();default:return(S>="0"&&S<="9"?Kt:function(){switch(S){case"t":return m("t"),m("r"),m("u"),m("e"),!0;case"f":return m("f"),m("a"),m("l"),m("s"),m("e"),!1;case"n":return m("n"),m("u"),m("l"),m("l"),null}H("Unexpected '"+S+"'")})()}},function(t,e){return j=t,b=0,S=" ",t=it(),k(),S&&H("Syntax error"),typeof e=="function"?function n(i,s){var o,c,f=i[s];if(f&&typeof f=="object")for(o in f)Object.hasOwnProperty.call(f,o)&&((c=n(f,o))!==void 0?f[o]=c:delete f[o]);return e.call(i,s,f)}({"":t},""):t}),ot=R.JSON2={},typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+et(this.getUTCMonth()+1)+"-"+et(this.getUTCDate())+"T"+et(this.getUTCHours())+":"+et(this.getUTCMinutes())+":"+et(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof ot.stringify!="function"&&(rt=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,It={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},ot.stringify=function(t,e,n){var i;if(st=F="",typeof n=="number")for(i=0;i<n;i+=1)st+=" ";else typeof n=="string"&&(st=n);if(!(W=e)||typeof e=="function"||typeof e=="object"&&typeof e.length=="number")return function s(o,c){var f,N,O,D,C,L=F,h=c[o];switch(h&&typeof h=="object"&&typeof h.toJSON=="function"&&(h=h.toJSON(o)),typeof(h=typeof W=="function"?W.call(c,o,h):h)){case"string":return Nt(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(F+=st,C=[],Object.prototype.toString.apply(h)===Object.prototype.toString.apply([])){for(D=h.length,f=0;f<D;f+=1)C[f]=s(f,h)||"null";O=C.length===0?"[]":F?`[
`+F+C.join(`,
`+F)+`
`+L+"]":"["+C.join(",")+"]"}else{if(W&&typeof W=="object")for(D=W.length,f=0;f<D;f+=1)typeof W[f]=="string"&&(O=s(N=W[f],h))&&C.push(Nt(N)+(F?": ":":")+O);else for(N in h)Object.prototype.hasOwnProperty.call(h,N)&&(O=s(N,h))&&C.push(Nt(N)+(F?": ":":")+O);O=C.length===0?"{}":F?`{
`+F+C.join(`,
`+F)+`
`+L+"}":"{"+C.join(",")+"}"}return F=L,O}}("",{"":t});throw new Error("JSON2.stringify")}),I=R.ur={hr:"0123456789abcdef",ar:function(t){for(var e="",n=7;n>=0;n--)e+=I.hr.charAt(t>>4*n&15);return e},cr:function(t){for(var e=1+(t.length+8>>6),n=new Array(16*e),i=0;i<16*e;i++)n[i]=0;for(i=0;i<t.length;i++)n[i>>2]|=t.charCodeAt(i)<<24-i%4*8;return n[i>>2]|=128<<24-i%4*8,n[16*e-1]=8*t.length,n},lr:function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},dr:function(t,e){return t<<e|t>>>32-e},vr:function(t,e,n,i){return t<20?e&n|~e&i:!(t<40)&&t<60?e&n|e&i|n&i:e^n^i},Er:function(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514},_r:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return I.Rr(e)},Rr:function(t){if(t==="")return"";for(var e,n=I.cr(t),i=new Array(80),s=1732584193,o=-271733879,c=-1732584194,f=271733878,N=-1009589776,O=0;O<n.length;O+=16){for(var D=s,C=o,L=c,h=f,E=N,_=0;_<80;_++)i[_]=_<16?n[O+_]:I.dr(i[_-3]^i[_-8]^i[_-14]^i[_-16],1),e=I.lr(I.lr(I.dr(s,5),I.vr(_,o,c,f)),I.lr(I.lr(N,i[_]),I.Er(_))),N=f,f=c,c=I.dr(o,30),o=s,s=e;s=I.lr(s,D),o=I.lr(o,C),c=I.lr(c,L),f=I.lr(f,h),N=I.lr(N,E)}return I.ar(s)+I.ar(o)+I.ar(c)+I.ar(f)+I.ar(N)}},(r=R.CwsProtocol=function(){this.pr=function(t,e,n,i){return i.seq=t,i.st=e,i.t=n,i},this.Ar=function(t,e){var n=r.Xs;return this.pr(t,e,n,{})}}).version="2.6",r.Tr="/0/wsg",r.H="0",r.Sr=-1,r.Or=!1,r.Nr=2,r.gr=-1,r.Ir=-1,r.wr=1e3,r.Cr="sdk.js.1",r.Bs="CwsStateChangeEvent",r.xs="CwsErrorEvent",r.Xs="CwsSessionEndEvent",r.Qs="CwsCustomEvent",r.yr="CwsSeekEvent",r.mr="CwsDataSamplesEvent",r.Dr="ok",r.Pr="err",r.Lr="clid",r.Mr="cfg",r.Ur="evs",r.Vr="maxhbinfos",r.kr="slg",r.Fr="hbi",r.Br="gw",r.Hr="fp",r.Gr="csi_en",r.jr="CwsSessionHb",r.Kr="t",r.Wr="st",r.Yr="sst",r.qr="lv",r.Jr="seq",r.Xr="cid",r.Qr="clid",r.Zr="clv",r.zr="pver",r.$r="iid",r.tu="sid",r.nu="vid",r.iu="an",r.eu="pn",r.su="tags",r.ou="sf",r.ru="evs",r.uu="lg",r.hu="hbinfos",r.au="sdk",r.fu="pj",r.Gs="ps",r.Ys="br",r.cu="avgbr",r.lu="cl",r.du="efps",r.vu="afps",r.Eu="rfpstot",r._u="rfpscnt",r.Ru="rs",r.pu="pht",r.Au="bl",r.Tu="url",r.Su="caps",r.Ou="pm",r.Nu="w",r.gu="h",r.Iu="ct",r.wu="le",r.Cu="dftot",r.yu="dfcnt",r.mu="al",r.Du="sl",r.Pu="cal",r.bu="ss",r.Lu="csi_n",r.Mu="csi_t",r.Uu="csi_l",r.Vu="csi_v",r.ku="csi_c",r.Fu="sch",r.Bu="br",r.Hu="brv",r.Gu="dvb",r.ju="dvma",r.Ku="dvm",r.Wu="dvt",r.Yu="dvv",r.xu="sw",r.qu="sh",r.Ju="scf",r.Xu="fw",r.Qu="fwv",r.Zu="cc",r.zu="mn",r.$u="mv",r.th="os",r.nh="osv",r.ih="cat",r.eh="caps",r.sh="t",r.oh="seq",r.rh="st",r.uh="act",r.hh="skto",r.qs="err",r.Js="ft",r.Hs="new",r.ah="old",r.Zs="name",r.zs="attr",r.fh="seq",r.lh="err",r.dh="rtt",r.Eh="ad",r._h="csi",r.Rh=function(t){switch(t){case p.PlayerState.STOPPED:return r.ph;case p.PlayerState.PLAYING:return r.js;case p.PlayerState.BUFFERING:return r.Ks;case p.PlayerState.PAUSED:return r.Ws;case p.PlayerState.NOT_MONITORED:return r.Ah;default:return r.Th}},r.ph=1,r.js=3,r.Ks=6,r.Ws=12,r.Ah=98,r.Th=100,r.Sh={Oh:0,Ot:1,Nh:2,gh:4},r.Ih={wh:0},Dt=R.LibJSONInterface=function(){this.Ch=function(t){var e=null;try{e=ot.stringify(t)}catch{}return e},this.yh=function(t){var e=null;try{e=R.JsonParse(t)}catch{return e}return e=u.mh(e)?e:null}},wt=R.CwsHeartbeat=function(){this.Dh={},(function(){}).apply(this,arguments),this.get=function(){return this.Dh},this.Ph=function(t,e){this.Dh[t]=e},this.bh=function(t,e,n){this.Dh[t]||(this.Dh[t]={}),this.Dh[t][e]=n},this.Lh=function(t){this.Ph(r.Kr,t)},this.Mh=function(t){this.Ph(r.Wr,t)},this.Uh=function(t){this.Ph(r.Yr,t)},this.Vh=function(t){this.Ph(r.qr,t)},this.kh=function(t){this.Ph(r.Jr,t)},this.Fh=function(t){this.Ph(r.Xr,t)},this.Bh=function(t){this.Ph(r.Qr,t)},this.Hh=function(t){this.Ph(r.Zr,t)},this.Gh=function(t){this.Ph(r.zr,t)},this.jh=function(t){this.Ph(r.eh,t)},this.Kh=function(t){this.Ph(r.tu,t)},this.Wh=function(t){this.Ph(r.$r,t)},this.Yh=function(t){this.Ph(r.nu,t)},this.xh=function(t){this.Ph(r.iu,t)},this.qh=function(t){this.Ph(r.eu,t)},this.Jh=function(t){this.Ph(r.su,t)},this.Xh=function(t){this.Ph(r.ou,t)},this.Qh=function(t){this.Ph(r.Su,t)},this.Zh=function(t){this.Ph(r.ru,t)},this.zh=function(t){this.Ph(r.au,t)},this.$h=function(t){this.Ph(r.uu,t)},this.ta=function(t){this.Ph(r.hu,t)},this.Xe=function(t){this.Ph(r.Gs,t)},this.na=function(t){this.Ph(r.fu,t)},this.ia=function(t){this.Ph(r.lu,t)},this.ea=function(t){this.Ph(r.Ys,t)},this.sa=function(t){this.Ph(r.cu,t)},this.oa=function(t){this.Ph(r.Ru,t)},this.ra=function(t){this.Ph(r.du,t)},this.ua=function(t){this.Ph(r.vu,t)},this.ha=function(t){this.Ph(r._u,t)},this.aa=function(t){this.Ph(r.Eu,t)},this.fa=function(t){this.bh(r.Ou,r.Fu,t)},this.ca=function(t){this.bh(r.Ou,r.Bu,t)},this.la=function(t){this.bh(r.Ou,r.Hu,t)},this.da=function(t){this.bh(r.Ou,r.Gu,t)},this.va=function(t){this.bh(r.Ou,r.ju,t)},this.Ea=function(t){this.bh(r.Ou,r.Ku,t)},this._a=function(t){this.bh(r.Ou,r.Wu,t)},this.Ra=function(t){this.bh(r.Ou,r.Yu,t)},this.pa=function(t){this.bh(r.Ou,r.Xu,t),this.Ph(r.Xu,t)},this.Aa=function(t){this.bh(r.Ou,r.Qu,t),this.Ph(r.Qu,t)},this.Ta=function(t){this.bh(r.Ou,r.th,t.toUpperCase())},this.Sa=function(t){this.bh(r.Ou,r.nh,t)},this.Oa=function(t){this.bh(r.Ou,r.ih,t)},this.Na=function(t){this.bh(r.Ou,r.xu,t)},this.ga=function(t){this.bh(r.Ou,r.qu,t)},this.Ia=function(t){this.bh(r.Ou,r.Ju,t)},this.wa=function(t){this.Ph(r.Cu,t)},this.Co=function(t){this.Ph(r.yu,t)},this.Ca=function(t){this.Ph(r.pu,t)},this.ya=function(t){this.Ph(r.Au,t)},this.ma=function(t){this.Ph(r.Tu,t)},this.Da=function(t){this.Ph(r.Nu,t)},this.Pa=function(t){this.Ph(r.gu,t)},this.ba=function(t){this.Ph(r.Iu,t)},this.La=function(t){this.Ph(r.wu,t)},this.Ma=function(){this.Ph(r.Eh,!0)},this.Ua=function(t){this.Ph(r.bu,t)},this.setModuleName=function(t){this.bh(r.Zu,r.zu,t)},this.Va=function(t){this.bh(r.Zu,r.$u,t)},this.ka=function(t){this.Ph(r._h,t)},this.Fa=function(t){t&&this.Ph(r.Lu,t)},this.Ba=function(t){t&&this.Ph(r.Mu,t)},this.Ha=function(t){t&&this.Ph(r.Uu,t)},this.Ga=function(t){t&&this.Ph(r.Vu,t)},this.ja=function(t){t&&this.Ph(r.ku,t)},this.Ka=function(t){this.Ph(r.mu,t)},this.Wa=function(t){this.Ph(r.Du,t)},this.Ya=function(t){this.Ph(r.Pu,t)}},(M=R.CwsSession=function(){var t=this;t.qa=null,t.Ct=null,t.Ds=0,t.Ja=0,t.Xa=r.Sh.Oh,t.Qa=r.Ih.wh,t.Za=[],t.za=-1,t.yn=-2,t.Dn=-2,t.gi=-1,t.$a=-1,t.tf=null,t.Pn=p.PlayerState.UNKNOWN,t.wn=-1,t.Ls=-1,t.On=null,t.Fn=-1,t.Bn=-1,t.Ue=null,t._n=null,t.Tn=null,t.bs=null,t.Ms=null,t.nf={},t.if=null,t.ef=null,t.sf=null,t.rf=null,t.uf=null,t.hf=null,t.af=null,t.ff=null,t.cf=null,t.lf=null,t.df=null,t.vf=null,t.Ef=null,t._f=null,t.Rf=null,t.Vn=null,t.kn=null,t.M=null,t.U=null,t.ao=null,t.pf=null,t.Af=!1,t.Tf=!1,t.Sf=!1,t.Of=!1,t.Nf=null,t.gf=1e3,t.If=0,t.wf=0,t.Cf={},t.D={},t.yf=!1,t.mf=null,t.Df=null,t.Pf=null,t.bf=null,t.Lf=null,t.Mf=null,t.Uf=12e4,t.Vf=r.Or,t.kf=!1,t.Ff=null,t.ki=null,t.jn=null,t.Kn=null,t.Wn=null,(function(e,n,i,s,o,c,f,N,O,D,C,L,h){this.Bf=e,this.Ee=n,this.Vi=i,this.p=s,this.p.setModuleName("CwsSession"),this.g=o,this._e=c,this.Hf=f,this.Gf=N,this.jf=O,this.Fi=D,this.Kf=C,this.Ct=L,this.Ct&&(t.wn=this.Ct.encodedFrameRate,t.On=this.Ct.streamUrl,t.Ls=this.Ct.duration),this.Kf&&(t.Ff=t.Kf.get(v.B)),t.ki=h}).apply(this,arguments),this.Tt=function(){this.Kf=null,this.Fi=null,this.N=null,this.jf=null,this.Gf=null,this.Hf=null,this._e=null,this.g=null,this.p=null,this.Vi=null,this.Ee=null,this.Bf.Wf(),this.Bf=null,this.pf=null,this.Sf=!0},this.Yf=function(e){this.ys=e,this.xf=this.ys.xf,this.p.Kh(this.ys.C),this.Ds=this.jf.current(),this.Cs()||this.qf()?(this.Xa+=M.xa,t.p.info("start(): assetName="+t.Ct.assetName)):t.p.info("start()"+t.Jf())},this.Xf=function(){this.Of=!0},this.Qf=function(){this.p.debug("initialize()"),(this.Cs()||this.qf()||this.ks())&&(this.Ee&&this.Ee._&&this.Ee._.Fs(a.APP_TRACKER_EVENT.VIDEO_ATTEMPT,{},this),t.Zf(),t.zf(),t.$f(),this.Cs()||this.qf())&&t.tc()},this.nc=function(){this.p.debug("end(): schedule the last hb before session cleanup"+t.Jf()),this.ic(),this.ec(),this.sc(),this.oc()},this.rc=function(){this.Of||(this.oc(),this.uc())},this.ca=function(e){var n=t.if;n!==e&&e&&(t.p.debug("Change browserName from "+n+" to "+e),t.if=e)},this.la=function(e){var n=t.ef;n!==e&&e&&(t.p.debug("Change browserVersion from "+n+" to "+e),t.ef=e)},this.da=function(e){var n=t.sf;n!==e&&e&&(t.p.debug("Change deviceBrand from "+n+" to "+e),t.sf=e)},this.va=function(e){var n=t.rf;n!==e&&e&&(t.p.debug("Change deviceManufacturer from "+n+" to "+e),t.rf=e)},this.Ea=function(e){var n=t.uf;n!==e&&e&&(t.p.debug("Change deviceModel from "+n+" to "+e),t.uf=e)},this._a=function(e){var n=t.hf;n!==e&&e&&(t.p.debug("Change deviceType from "+n+" to "+e),t.hf=e)},this.Ra=function(e){var n=t.af;n!==e&&e&&(t.p.debug("Change deviceVersion from "+n+" to "+e),t.af=e)},this.Ta=function(e){var n=t.lf;n!==e&&e&&(t.p.debug("Change operatingSystemName from "+n+" to "+e),t.lf=e)},this.Sa=function(e){var n=t.df;n!==e&&e&&(t.p.debug("Change operatingSystemVersion from "+n+" to "+e),t.df=e)},this.Oa=function(e){var n=t.vf;n!==e&&e&&(t.p.debug("Change deviceCategory from "+n+" to "+e),t.vf=e)},this.Na=function(e){var n=t.Ef;n!==e&&e&&(t.p.debug("Change screenWidth from "+n+" to "+e),t.Ef=e)},this.ga=function(e){var n=t._f;n!==e&&e&&(t.p.debug("Change screenHeight from "+n+" to "+e),t._f=e)},this.Ia=function(e){var n=t.vf;n!==e&&e&&(t.p.debug("Change scaleFactor from "+n+" to "+e),t.Rf=e)},this.Us=function(){return t.ff},this.pa=function(e){var n=t.ff;n!==e&&e&&(t.p.debug("Change frameworkName from "+n+" to "+e),t.ff=e)},this.Vs=function(){return t.cf},this.Aa=function(e){var n=t.cf;n!==e&&e&&(t.p.debug("Change frameworkVersion from "+n+" to "+e),t.cf=e)},this.ma=function(e){var n;t.Ct.streamUrl||(n=t.On)!==e&&e&&(t.p.debug("Change stream url from "+n+" to "+e),t.On=e)},this.hc=function(){t.ec(),t.kf||(t.ac(),t.Mf=t._e.create(t.ac,t.Uf,"CwsSession.startCdnTimer"),t.p.debug("fetching cdn ip timer started"))},this.ec=function(){t.Mf&&(t.Mf(),t.fc(null,null,null,null,null),t.Mf=null)},this.ac=function(){t.p.debug("detectCDNServerIp(): For "+t.On),t.Vf?t.cc():t.ec()},this.cc=function(){try{var e;typeof XMLHttpRequest=="function"||typeof XMLHttpRequest=="object"?((e=new XMLHttpRequest).open("HEAD",t.On,!0),e.setRequestHeader("Pragma","akamai-x-cache-on"),e.onreadystatechange=function(){this.readyState===4&&(this.status===200&&(this.getAllResponseHeaders().indexOf("x-cache")>=0||this.getAllResponseHeaders().indexOf("X-Cache")>=0)?t.fc("Akamai","header","X-Cache",""+this.getResponseHeader("X-Cache"),""+this.status):t.fc("null","header","null","null",""+this.status))},e.send()):t.p.info("xmlhttpreq is not available here to fetch CDN Server Ip")}catch{t.p.info("Exception caught in makeAkamaiHeadRequest")}},this.fc=function(e,n,i,s,o){var c={},f={};t.mf!==e&&(t.mf!==null&&(f[r.Lu]=t.mf),t.mf=e,t.mf===null?c[r.Lu]="null":c[r.Lu]=t.mf),t.Df!==n&&(t.Df!==null&&(f[r.Mu]=t.Df),t.Df=n,t.Df===null?c[r.Mu]="null":c[r.Mu]=t.Df),t.Pf!==i&&(t.Pf!==null&&(f[r.Uu]=t.Pf),t.Pf=i,t.Pf===null?c[r.Uu]="null":c[r.Uu]=t.Pf),t.bf!==s&&(t.bf!==null&&(f[r.Vu]=t.bf),t.bf=s,t.bf===null?c[r.Vu]="null":c[r.Vu]=t.bf),t.Lf!==o&&(t.Lf!==null&&(f[r.ku]=t.Lf),t.Lf=o,t.Lf===null?c[r.ku]="null":c[r.ku]=t.Lf),JSON.stringify(c)!=="{}"&&t.lc(c,f)},this.dc=function(e){var n=t.yn;n!==e&&e>0&&(t.p.info("Change bitrate from "+n+" to "+e),t.vc(n,e),t.yn=e)},this.Ec=function(e){var n=t.Dn;n!==e&&e>0&&(t.p.info("Change Avg bitrate from "+n+" to "+e),t._c(n,e),t.Dn=e)},this.wa=function(e){var n=t.gi;n!==e&&e>=0&&(t.p.info("Change dropped frames total from "+n+" to "+e),t.Rc(n,e),t.gi=e)},this.Co=function(e){var n=t.$a,i=e+(t.$a===-1?0:t.$a);n!==e&&i>=0&&(t.p.info("Change dropped frames count from "+n+" to "+i),t.Ac(n,i),t.$a=i)},this.oa=function(e){var n=t.tf;n!==e&&e&&(t.p.info("Change resource from "+n+" to "+e),t.tf=e)},this.xh=function(e){t._n!==e&&e&&(t.p.info("Change assetName from "+t._n+" to "+e),t._n=e)},this.Vh=function(e){var n=t.Ms;n!==e&&u.ie(e)&&(t.p.info("Change isLive from "+n+" to "+e),t.Ms=e)},this.Yh=function(e){var n=t.Tn;n!==e&&e&&(t.p.info("Change viewerId from "+n+" to "+e),t.Tn=e)},this.qh=function(e){var n=t.bs;n!==e&&e&&(t.p.info("Change playerName from "+n+" to "+e),t.bs=e)},this.Jh=function(e){var n=t.nf;!u.Tc(n,e)&&e&&(t.p.info("Change tags from "+u.Sc(n)+" to "+u.Sc(e)),t.nf=e)},this.ra=function(e){t.Ct.encodedFrameRate>0||(t.p.debug("setEncodedFrameRate(): "+e),t.wn=e)},this.ia=function(e){t.Ct.duration>0||(t.p.debug("setContentLength(): "+e),t.Ls=e)},this.Xe=function(e){var n;t.Tf||e!==p.PlayerState.PLAYING||(t.Tf=!0,u.Pt(t.Ct.viewerId)||t.p.error("Missing viewerId. viewerId should be updated before first frame is rendered."),u.Pt(t.Ct.streamType)&&P.StreamType.UNKNOWN!==t.Ct.streamType||t.p.error("Missing streamType - Live or VOD. streamType should be updated before first frame is rendered."),u.Pt(t.Ct.applicationName))||t.p.error("Missing applicationName. applicationName should be updated before first frame is rendered."),t.Pn!==e&&(n=t.Pn,t.p.info("setPlayerState(): changing player state from "+n+" to "+e),t.Oc(n,e),t.Pn=e)},this.Nc=function(e){var n=t.Fn;n!==e&&e>0&&(t.p.debug("Change stream resolution width from "+n+" to "+e),t.gc(n,e),t.Fn=e)},this.Ic=function(e){var n=t.Bn;n!==e&&e>0&&(t.p.debug("Change stream resolution height from "+n+" to "+e),t.wc(n,e),t.Bn=e)},this.ba=function(e){var n=t.M;n!==e&&e&&(t.p.debug("Change network connection type from "+n+" to "+e),t.Cc(n,e),t.M=e)},this.La=function(e){var n=t.U;n!==e&&e&&(t.p.debug("Change network link encryption from "+n+" to "+e),t.yc(n,e),t.U=e)},this.ka=function(e){t.kf=!0,t.ec();var n=t.ao;n!==e&&u.Pt(e)&&(t.p.debug("Change CDN Server IP from "+n+" to "+e),t.mc(n,e),t.ao=e)},this.Ka=function(e){var n=t.jn;n!==e&&u.Pt(e)&&!t.ys.Dc&&(t.p.info("Change Audio Lang from "+n+" to "+e),t.Pc(n,e),t.jn=e)},this.Wa=function(e){var n=t.Kn;n!==e&&u.Pt(e)&&!t.ys.bc&&(t.p.info("Change Subtitle Lang from "+n+" to "+e),t.Lc(n,e),t.Kn=e)},this.Ya=function(e){var n=t.Wn;n!==e&&u.Pt(e)&&!t.ys.Mc&&(t.p.info("Change Closed Caption Lang from "+n+" to "+e),t.Uc(n,e),t.Wn=e)},this.Vc=function(e){var n;t.p.debug("togglePauseJoin()"),t.Af===e?t.p.debug("togglePauseJoin(): same value, ignoring"):(e=t.Af,n=!t.Af,t.kc(e,n),t.Af=!t.Af)},this.Fc=function(e,n){t.Bc(e,n)},this.Hc=function(e,n){var i,s;n[r.sh]=e,n[r.rh]=this.Ps(),n[r.oh]=this.Bf.Gc(),this.Ue&&(i=w.jc(this.Ue.getPHT(),0,null,-1),s=w.jc(this.Ue.getBufferLength(),0,null,-1),i>=0&&(n[r.pu]=i),s>0)&&(n[r.Au]=s),this.Bf.Kc(n),this.Ee._&&this.Ee._.Fs(e,n,this)},this.Wc=function(e){t.Ue=e,t.Ue?t.Yc():t.xc()},this.ic=function(){var e=this.Gf.Ar(this.qc(),this.Ps());this.Ee._&&this.Ee._.Fs(r.Xs,{},this),this.Bf.Kc(e)},this.Bc=function(e,n){var i={};i[r.qs]=e,i[r.Js]=n,this.Hc(r.xs,i)},this.vc=function(e,n){var i={},s={};e>0&&(s[r.Ys]=e),i[r.Ys]=n,this.lc(i,s)},this._c=function(e,n){var i={},s={};e>0&&(s[r.cu]=e),i[r.cu]=n,this.lc(i,s)},this.Jc=function(e,n){var i={};i[r.uh]=e,n>=0&&(i[r.hh]=n),this.Hc(r.yr,i)},this.gc=function(e,n){var i={},s={};e!==-1&&(s[r.Nu]=e),i[r.Nu]=n,this.lc(i,s)},this.wc=function(e,n){var i={},s={};e!==-1&&(s[r.gu]=e),i[r.gu]=n,this.lc(i,s)},this.Cc=function(e,n){var i={},s={};e!==null&&(s[r.Iu]=e),i[r.Iu]=n,this.lc(i,s)},this.yc=function(e,n){var i={},s={};e!==null&&(s[r.wu]=e),i[r.wu]=n,this.lc(i,s)},this.mc=function(e,n){var i={},s={};u.Pt(e)&&(s[r._h]=e),i[r._h]=n,this.lc(i,s)},this.Rc=function(e,n){var i={},s={};e>=0&&(s[r.Cu]=e),i[r.Cu]=n,this.lc(i,s)},this.Ac=function(e,n){var i={},s={};e>=0&&(s[r.yu]=e),i[r.yu]=n,this.lc(i,s)},this.Pc=function(e,n){var i={},s={};e!==n&&(typeof e=="string"&&(s[r.mu]=e),i[r.mu]=n),this.lc(i,s)},this.Lc=function(e,n){var i={},s={};e!==n&&(typeof e=="string"&&(s[r.Du]=e),i[r.Du]=n),this.lc(i,s)},this.Uc=function(e,n){var i={},s={};e!==n&&(typeof e=="string"&&(s[r.Pu]=e),i[r.Pu]=n),this.lc(i,s)},this.kc=function(e,n){var i={},s={};s[r.fu]=e,i[r.fu]=n,this.lc(i,s)},this.Oc=function(e,n){var i={},s={};i[r.Gs]=r.Rh(n),s[r.Gs]=r.Rh(e),this.lc(i,s)},this.lc=function(e,n){var i={};i[r.Hs]=e,n&&u.Ht(n)>0&&(i[r.ah]=n),this.Hc(r.Bs,i)},this.Xc=function(e,n){var i={};i[r.Zs]=e,u.Ht(n)>0&&(i[r.zs]=n),this.Hc(r.Qs,i)},this.sc=function(){t.qa&&(t.qa(),t.qa=null)},this.uc=function(){t.sc();var e=1e3*t.Vi.heartbeatInterval;t.qa=t._e.create(t.oc,e,"Session.sendHeartbeat:"+this.xf)},this.xc=function(){t.Nf&&(t.Nf(),t.Nf=null)},this.Yc=function(){t.xc(),t.Nf=t._e.create(t.Qc,t.gf,"Session.startRfpsTimer")},this.Zc=function(){var e={err:"pending"};e.seq=t.Ja-1,e.sentAt=t.Ps(),e.rtt=-1,t.Za.push(e);for(var n=0;n<t.Za.length;n++)(e=t.Za[n]).err==="ok"&&(t.Za.splice(n,1),n--)},this.zc=function(e,n){for(var i=0;i<t.Za.length;i++){var s=t.Za[i];s.seq===e&&(s.rtt=t.Ps()-s.sentAt,s.err=n)}},this.$c=function(e){for(var n=0;n<t.Za.length;n++){var i=t.Za[n];i.seq===e&&(i.rtt=t.Ps()-i.sentAt,i.err="ok")}},this.tl=function(){for(var e,n,i=t.Kf.get(v.nl),s=[],o=-1,c=0;c<t.Za.length;c++)if((n=t.Za[c]).err==="ok"){o=n.seq;break}for(var f=0;f<t.Za.length;f++)((e=(n=t.Za[f]).seq)<t.Ja-i||e<o)&&s.push(f);for(var N=[],O=0;O<t.Za.length;O++)e=(n=t.Za[O]).seq,s.indexOf(O)<0&&N.push(t.Za[O]);t.Za=N},this.il=function(){t.tl();for(var e=[],n=0;n<t.Za.length;n++){var i=t.Za[n],s={};s[r.fh]=i.seq,s[r.dh]=i.rtt,s[r.lh]=i.err,e.push(s)}return e},this.el=function(){var e,n=-1,i=-1,s=t.Bf.Wf();if(t.ks()&&s.length===0)return null;var o=new wt,c=(o.Lh(r.jr),o.Fh(t.Vi.customerKey),o.Bh(t.Kf.get(v.B)),o.Kh(t.ys.C),o.kh(t.Ja),o.Gh(r.version),a.version);if(t.ki&&(c=t.ki),o.Hh(c),o.Wh(t.Ee.C),o.jh(0),t.Ee.M?o.ba(t.Ee.M):t.M&&o.ba(t.M),t.Ee.U?o.La(t.Ee.U):t.U&&o.La(t.U),u.Pt(t.ao)&&o.ka(t.ao),o.fa(r.Cr),t.if&&o.ca(t.if),t.ef&&o.la(t.ef),t.sf&&o.da(t.sf),t.rf&&o.va(t.rf),t.uf&&o.Ea(t.uf),t.hf&&o._a(t.hf),t.af&&o.Ra(t.af),t.lf&&o.Ta(t.lf),t.df&&o.Sa(t.df),t.vf&&o.Oa(t.vf),t.ff&&o.pa(t.ff),t.cf&&o.Aa(t.cf),t.Ef&&!isNaN(t.Ef)&&o.Na(parseInt(t.Ef,10)),t._f&&!isNaN(t._f)&&o.ga(parseInt(t._f,10)),t.Rf&&!isNaN(t.Rf)?o.Ia(parseFloat(t.Rf)):(t.Ef&&!isNaN(t.Ef)||t._f&&!isNaN(t._f))&&o.Ia(1),t.Ue&&(t.Vn=t.Ue.zn(),t.Vn&&o.setModuleName(t.Vn),t.kn=t.Ue.$n(),t.kn&&o.Va(t.kn),t.Ue.ti()&&(t.ff=t.Ue.ti(),o.pa(t.ff)),t.Ue.ii())&&(t.cf=t.Ue.ii(),o.Aa(t.cf)),t.Tn&&o.Yh(t.Tn),u.Ht(t.nf)>0&&o.Jh(t.nf),t.Cs()||t.qf()){if(t.qf()&&o.Ma(),t._n&&o.xh(t._n),o.Xh(t.Xa),c=r.Rh(t.Pn),c=(o.Xe(c),o.na(t.Af),t.bs&&o.qh(t.bs),u.ie(t.Ms)&&o.Vh(t.Ms),t.Ls>0&&o.ia(t.Ls),t.yn>0&&o.ea(t.yn),t.Dn>0&&o.sa(t.Dn),t.tf!==null&&o.oa(t.tf),t.wn>0&&o.ra(t.wn),t.Ue&&(n=w.jc(t.Ue.getPHT(),0,null,-1),i=w.jc(t.Ue.getBufferLength(),0,null,-1)),u.gt(t.Ee.V)?e=t.Ee.V:t.Ue&&(e=t.Ue.getSignalStrength()),n>=0&&o.Ca(n),i>0&&o.ya(i),t.sl()),c>0&&o.ua(c),t.wf>0&&o.aa(w.jc(t.wf,0,null,-1)),t.If>0&&o.ha(w.jc(t.If,0,null,-1)),e!==p.DEFAULT_SIGNAL_STRENGTH&&o.Ua(e),t.On&&o.ma(t.On),t.Fn>0&&o.Da(t.Fn),t.Bn>0&&o.Pa(t.Bn),t.gi>-1&&o.wa(t.gi),t.$a>-1&&(o.Co(t.$a),t.$a>0)&&(t.Ac(t.$a,0),t.$a=0),t.jn&&o.Ka(t.jn),t.Kn&&o.Wa(t.Kn),t.Wn&&o.Ya(t.Wn),typeof t.pf<"u")for(var f in t.pf)o.Ph(f,t.pf[f])}else o.Xh(r.Sh.Oh);return s.length>0&&o.Zh(s),o.Qh(t.Qa),o.zh(!0),t.Kf.get(v.ol)&&o.$h(t.Fi.Wf()),t.Kf.get(v.nl)>0&&(n=t.il()).length>0&&o.ta(n),t.Ja===0&&(o=t.rl(o)),(o=t.Ja!==0?t.ul(o):o).Uh(t.Ds),o.Mh(t.Ps()),t.Vf&&(o.Fa(t.mf),o.Ba(t.Df),o.Ha(t.Pf),o.Ga(t.bf),o.ja(t.Lf)),t.Ja++,o.get()},this.ul=function(e){var n,i=t.D,s={};for(n in e.Dh.tags)Object.prototype.hasOwnProperty.call(i,n)||(s[n]=e.Dh.tags[n]);e.Dh.tags=s,t.D={};for(var o=0;o<t.Cf.length;o++)Object.prototype.hasOwnProperty.call(t.Ee.D,t.Cf[o])?Object.prototype.hasOwnProperty.call(t.Ee.L,t.Cf[o])?t.Ee.L[t.Cf[o]]===v.$t.tn?(t.D[v.hl+""+t.Cf[o]]=v.$t.tn,t.Ee.P("End-user chose to opt-out of personal data collection")):t.Ee.L[t.Cf[o]]===v.$t.en?(t.D[v.hl+""+t.Cf[o]]=v.$t.en,t.Ee.P("End-user chose to opt-out of personal data collection")):t.Ee.L[t.Cf[o]]===v.$t.zt?(t.D[v.hl+""+t.Cf[o]]=v.$t.zt,t.Ee.P("End-user used privacy settings and chose to opt-out of personal data collection")):(t.D[v.hl+""+t.Cf[o]]=t.Ee.D[t.Cf[o]],t.Ee.P("Data collection successful")):(t.D[v.hl+""+t.Cf[o]]=t.Ee.D[t.Cf[o]],t.Ee.P("Data collection successful")):t.D[v.hl+""+t.Cf[o]]=v.$t.al;var c,f={};for(c in i){var N=c.split(".");JSON.stringify(t.Cf)!=="{}"&&t.Cf.indexOf(""+N[2])!==-1||i[v.hl+""+N[2]]===v.$t.fl||(t.Ee.P("Data collection restricted from Conviva back-end"),t.D[v.hl+""+N[2]]=v.$t.fl,f[v.hl+""+N[2]]=v.$t.fl)}if(JSON.stringify(t.D)!=="{}"){var O,D=u.ll(t.D);for(O in e.Dh.tags)D[O]=e.Dh.tags[O];if(e.Dh.tags=D,!u.Tc(i,t.D)){var C={};if(JSON.stringify(f)!=="{}"&&(C[r.su]=f),JSON.stringify(i)!=="{}"){for(var L in i)t.D[L]&&i[L]!==t.D[L]&&(C[r.su]||(C[r.su]={}),C[r.su][L]=t.D[L]);for(var h in t.D)Object.prototype.hasOwnProperty.call(i,h)&&i[h]===t.D[h]||(C[r.su]||(C[r.su]={}),C[r.su][h]=t.D[h])}JSON.stringify(i)==="{}"&&(C[r.su]=t.D);var E,_,U={};U[r.Hs]=C,U[r.sh]=r.Bs,U[r.rh]=t.Ps(),U[r.oh]=t.Bf.Gc(),t.Ue&&(E=w.jc(t.Ue.getPHT(),0,null,-1),_=w.jc(t.Ue.getBufferLength(),0,null,-1),E>=0&&(U[r.pu]=E),_>0)&&(U[r.Au]=_),e.Dh.evs||(e.Dh.evs=[]),e.Dh.evs.push(U)}}return e},this.rl=function(e){var n=t.dl();if(JSON.stringify(n)!=="{}"){var i,s=u.ll(n);for(i in e.Dh.tags)s[i]=e.Dh.tags[i];e.Dh.tags=s;var o,c={},n=(c[r.su]=n,{});n[r.Hs]=c,n[r.sh]=r.Bs,n[r.rh]=t.Ps(),n[r.oh]=t.Bf.Gc(),t.Ue&&(c=w.jc(t.Ue.getPHT(),0,null,-1),o=w.jc(t.Ue.getBufferLength(),0,null,-1),c>=0&&(n[r.pu]=c),o>0)&&(n[r.Au]=o),e.Dh.evs||(e.Dh.evs=[]),e.Dh.evs.push(n)}return e},this.dl=function(){var e={};if(typeof navigator<"u"&&navigator){if(e["c3.fp.cookie"]=typeof navigator.cookieEnabled<"u"&&navigator.cookieEnabled?""+navigator.cookieEnabled:"",e["c3.fp.memory"]=typeof navigator.deviceMemory<"u"&&navigator.deviceMemory?""+navigator.deviceMemory:"",e["c3.fp.hwConc"]=typeof navigator.hardwareConcurrency<"u"&&navigator.hardwareConcurrency?""+navigator.hardwareConcurrency:"",e["c3.fp.java"]=""+(typeof navigator.javaEnabled!="function")?"false":navigator.javaEnabled(),e["c3.fp.lang"]=typeof navigator.language<"u"&&navigator.language?""+navigator.language:"",e["c3.fp.langs"]=typeof navigator.languages<"u"&&navigator.languages&&navigator.languages.length>0?""+navigator.languages.toString():"",e["c3.fp.maxTp"]=typeof navigator.maxTouchPoints<"u"&&navigator.maxTouchPoints?""+navigator.maxTouchPoints:"",e["c3.fp.plugins"]="",typeof navigator.plugins<"u"&&navigator.plugins&&navigator.plugins.length>0)for(var n=0;n<navigator.plugins.length;n++)e["c3.fp.plugins"]+=navigator.plugins[n].name+",";if(e["c3.fp.mime"]="",typeof navigator.mimeTypes<"u"&&navigator.mimeTypes&&navigator.mimeTypes.length>0)for(var i=0;i<navigator.mimeTypes.length;i++)e["c3.fp.mime"]+=navigator.mimeTypes[i].type+",";e["c3.fp.sysLang"]=typeof navigator.systemLanguage<"u"&&navigator.systemLanguage?""+navigator.systemLanguage:"",e["c3.fp.platform"]=typeof navigator.platform<"u"&&navigator.platform?""+navigator.platform:"",e["c3.fp.product"]=typeof navigator.product<"u"&&navigator.product?""+navigator.product:"",e["c3.fp.productSub"]=typeof navigator.productSub<"u"&&navigator.productSub?""+navigator.productSub:"",e["c3.fp.vendor"]=typeof navigator.vendor<"u"&&navigator.vendor?""+navigator.vendor:"",e["c3.fp.vendorSub"]=typeof navigator.vendorSub<"u"&&navigator.vendorSub?""+navigator.vendorSub:"";var s=t.vl();s!==""&&(e["c3.fp.canvFp"]=s)}return typeof window<"u"&&window&&(typeof window.screen<"u"&&window.screen&&(e["c3.fp.availHeight"]=typeof window.screen.availHeight<"u"&&window.screen.availHeight?""+window.screen.availHeight:"",e["c3.fp.availWidth"]=typeof window.screen.availWidth<"u"&&window.screen.availWidth?""+window.screen.availWidth:"",e["c3.fp.height"]=typeof window.screen.height<"u"&&window.screen.height?""+window.screen.height:"",e["c3.fp.width"]=typeof window.screen.width<"u"&&window.screen.width?""+window.screen.width:"",e["c3.fp.colorDepth"]=typeof window.screen.colorDepth<"u"&&window.screen.colorDepth?""+window.screen.colorDepth:"",e["c3.fp.deviceXDPI"]=typeof window.screen.deviceXDPI<"u"&&window.screen.deviceXDPI?""+window.screen.deviceXDPI:"",e["c3.fp.deviceYDPI"]=typeof window.screen.deviceYDPI<"u"&&window.screen.deviceYDPI?""+window.screen.deviceYDPI:""),e["c3.fp.dpi"]=typeof window.devicePixelRatio<"u"&&window.devicePixelRatio?""+window.devicePixelRatio:"",e["c3.fp.secure"]=typeof window.isSecureContext=="boolean"?""+window.isSecureContext:""),e},this.vl=function(){try{if(typeof document<"u"&&document){var e,n,i=document.createElement("CANVAS");if(typeof i<"u"&&i&&typeof i.getContext=="function")return e=i.getContext("2d"),n="conviva",e.textBaseline="top",e.font="14px Arial",e.textBaseline="alphabetic",e.fillStyle="#f40",e.fillRect(typeof navigator.plugins<"u"&&navigator.plugins?navigator.plugins.length:0,typeof navigator.mimeTypes<"u"&&navigator.mimeTypes?navigator.mimeTypes.length:0,typeof navigator.product<"u"&&navigator.product?navigator.product.length:0,typeof navigator.vendor<"u"&&navigator.vendor?navigator.vendor.length:0),e.fillStyle="#069",e.fillText(n,typeof navigator.maxTouchPoints<"u"&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,typeof navigator.product<"u"&&navigator.product?navigator.product.length:0),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(n,typeof navigator.deviceMemory<"u"&&navigator.deviceMemory?navigator.deviceMemory:0,typeof navigator.hardwareConcurrency<"u"&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),I.Rr(i.toDataURL())}return""}catch{return""}},this.oc=function(){var e;t.Sf||(e=t.el())&&t.El(e)},this.Qc=function(){var e;t.Pn===p.PlayerState.PLAYING&&t.Ue&&(e=t.Ue.getRenderedFrameRate())>0&&(t.wf+=e,t.If++)},this.sl=function(){return t.wf>0&&t.If>0||(this.Qc(),t.wf>0&&t.If>0)?u._l.Cast(+t.wf/t.If):p.DEFAULT_RENDERED_FRAME_RATE},this.El=function(e){t.Zc();var n=t.Ja-1;t.p.info("postHeartbeat(): Send HB["+n+"]"+t.Jf()),t.Hf.Rl(e,function(i,s){t.pl(i,s,n)})},this.pl=function(e,n,i){t.Sf||t.g.F("onHeartbeatResponse",function(){var s,o;e?n?(t.p.debug("onHeartbeatResponse(): received valid response for HB["+i+"]"),t.$c(i),(s=n[r.Lr])&&s!==(o=t.Kf.get(v.B))&&(t.p.debug("onHeartbeatResponse(): setting the client id to "+s+" (from gateway)"),t.Kf.set(v.B,s),t.Kf.Al(),o===r.H)&&s!==r.H&&t.Ee.k(),(o=n[r.Pr])&&o!==r.Dr&&t.p.error("onHeartbeatResponse(): error from gateway: "+o),typeof(s=n[r.Mr])=="object"&&((o=s[r.Vr])>=0&&t.Kf.get(v.nl)!==o&&(t.p.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+o+" (from gateway)"),t.Kf.set(v.nl,o)),o=s[r.kr],(o=!!u.ie(o)&&o)!==t.Kf.get(v.ol)&&(t.p.debug("onHeartbeatResponse(): turning "+(o?"on":"off")+" sending of logs"),t.Kf.set(v.ol,o)),o=s[r.Fr],u.gt(o)&&(o=u._l.Cast(o))!==t.Vi.heartbeatInterval&&(t.p.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+o),t.Vi.heartbeatInterval=o,t.qa)&&t.uc(),(o=s[r.Br])&&o!==t.Vi.gatewayUrl&&(t.p.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+o),t.Vi.gatewayUrl=o),t.Tl()||(t.Cf={},(o=s[r.Hr])&&(t.yf||(t.yf=!0),t.p.debug("onHeartbeatResponse(): received fp from gateway: "+o),t.Cf=o.split(",")),t.Vf=s[r.Gr],u.ie(t.Vf)&&(t.Vf?(t.p.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),t.Mf||t.hc()):t.ec())))):t.p.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(u.Pt(o=n)?u.Sl(o,"HTTP timeout")?t.p.warning("onHeartbeatResponse(): "+o):t.p.error("onHeartbeatResponse(): failed to send heartbeat: "+o):(o=gt.Ol,t.p.error("onHeartbeatResponse(): "+o)),t.zc(i,o))})},this.Ps=function(){return u._l.Cast(t.jf.current()-t.Ds)},this.qc=function(){return this.Bf.Gc()},this.Jf=function(){return this.ks()?" (global session)":""},this.ks=function(){return this.xf===M.Nt.Oh},this.Tl=function(){return this.xf===M.Nt.Oh&&this.nf["c3.IPV4IPV6GlobalSession"]==="T"},this.Cs=function(){return this.xf===M.Nt.Ot},this.qf=function(){return this.xf===M.Nt.Dt},this.Lt=function(e){t.Nl(e),t.Zf()},this.Nl=function(e){var n={},i={};if(u.Pt(e.assetName)&&!t.ys.gl&&(t.Ct.assetName!==e.assetName?(t.Ct.assetName&&(n[r.iu]=t.Ct.assetName),i[r.iu]=e.assetName,t.Ct.assetName=e.assetName):t.p.warning("mergeContentMetadata(): assetName was not changed.")),u.Pt(e.applicationName)&&(t.Ct.applicationName!==e.applicationName?(t.Ct.applicationName&&(n[r.eu]=t.Ct.applicationName),i[r.eu]=e.applicationName,t.Ct.applicationName=e.applicationName):t.p.warning("mergeContentMetadata(): applicationName was not changed.")),u.Pt(e.streamUrl)&&!t.ys.Il&&(t.Ct.streamUrl!==e.streamUrl?(t.Ct.streamUrl&&(n[r.Tu]=t.Ct.streamUrl),i[r.Tu]=e.streamUrl,t.Ct.streamUrl=e.streamUrl,t.On=t.Ct.streamUrl):t.p.warning("mergeContentMetadata(): streamUrl was not changed.")),u.Pt(e.viewerId)&&(t.Ct.viewerId!==e.viewerId?(t.Ct.viewerId&&(n[r.nu]=t.Ct.viewerId),i[r.nu]=e.viewerId,t.Ct.viewerId=e.viewerId):t.p.warning("mergeContentMetadata(): viewerId was not changed.")),u.Pt(e.defaultResource)&&!t.ys.wl&&(t.Ct.defaultResource!==e.defaultResource?(t.Ct.defaultResource&&(n[r.Ru]=t.Ct.defaultResource),i[r.Ru]=e.defaultResource,t.Ct.defaultResource=e.defaultResource):t.p.warning("mergeContentMetadata(): defaultResource was not changed.")),u.gt(e.duration)&&e.duration>0&&!t.ys.Cl&&(t.Ct.duration!==e.duration?(t.Ls>0&&(n[r.lu]=t.Ls),i[r.lu]=e.duration,t.Ct.duration=e.duration,t.Ls=t.Ct.duration):t.p.warning("mergeContentMetadata(): duration was not changed.")),u.gt(e.encodedFrameRate)&&e.encodedFrameRate>0&&!t.ys.yl&&(t.Ct.encodedFrameRate!==e.encodedFrameRate?(t.Ct.encodedFrameRate>-1&&(n[r.du]=t.Ct.encodedFrameRate),i[r.du]=e.encodedFrameRate,t.Ct.encodedFrameRate=e.encodedFrameRate,t.wn=t.Ct.encodedFrameRate):t.p.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),e.streamType!==P.StreamType.UNKNOWN&&(t.Ct.streamType!==e.streamType?(t.Ct.streamType!==P.StreamType.UNKNOWN&&(t.Ct.streamType===P.StreamType.LIVE?n[r.qr]=!0:n[r.qr]=!1),e.streamType===P.StreamType.LIVE?i[r.qr]=!0:i[r.qr]=!1,t.Ct.streamType=e.streamType):t.p.warning("mergeContentMetadata(): streamType was not changed.")),u.Ht(e.custom)>0){var s,o={},c={};for(s in e.custom)t.Ct.custom[s]!==e.custom[s]?(o[s]=e.custom[s],t.Ct.custom[s]&&(c[s]=t.Ct.custom[s]),t.Ct.custom[s]=e.custom[s]):t.p.info("mergeContentMetadata(): custom."+s+" was not changed.");u.Ht(o)>0?(u.Ht(c)>0&&(n[r.su]=c),i[r.su]=o):t.p.warning("mergeContentMetadata(): custom was not changed.")}u.Ht(i)>0&&this.lc(i,n)},this.Zf=function(){var e;t.p.debug("setStatesFromContentMetadata()"),t.Ct.defaultResource&&this.oa(t.Ct.defaultResource),t.Ct.streamUrl&&this.ma(t.Ct.streamUrl),t.Ct.duration>0&&this.ia(t.Ct.duration),t.Ct.encodedFrameRate>0&&this.ra(t.Ct.encodedFrameRate),t.Ct.streamType!==P.StreamType.UNKNOWN&&(e=t.Ct.streamType===P.StreamType.LIVE,this.Vh(e)),t.Ct.assetName&&this.xh(t.Ct.assetName),t.Ct.viewerId&&this.Yh(t.Ct.viewerId),(t.Ct.applicationName||t.Ct.playerName)&&this.qh(t.Ct.applicationName||t.Ct.playerName),u.Ht(t.Ct.custom)>0&&this.Jh(t.Ct.custom)},this.zf=function(){var e={};if(this.ks()||(t.Ct.assetName?e[r.iu]=t.Ct.assetName:t.p.warning("enqueueEventForContentMetadata(): assetName was not set."),t.Ct.applicationName?e[r.eu]=t.Ct.applicationName:t.p.warning("enqueueEventForContentMetadata(): applicationName was not set."),t.Ct.streamUrl?e[r.Tu]=t.Ct.streamUrl:t.p.warning("enqueueEventForContentMetadata(): streamUrl was not set."),t.Ct.viewerId?e[r.nu]=t.Ct.viewerId:t.p.warning("enqueueEventForContentMetadata(): viewerId was not set."),t.Ct.defaultResource?e[r.Ru]=t.Ct.defaultResource:t.p.warning("enqueueEventForContentMetadata(): defaultResource was not set."),t.Ct.duration>-1?e[r.lu]=t.Ct.duration:t.p.warning("enqueueEventForContentMetadata(): duration was not set."),t.Ct.encodedFrameRate>-1?e[r.du]=t.Ct.encodedFrameRate:t.p.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),t.Ct.streamType!==P.StreamType.UNKNOWN?t.Ct.streamType===P.StreamType.LIVE?e[r.qr]=!0:e[r.qr]=!1:t.p.warning("enqueueEventForContentMetadata(): streamType was not set.")),u.Ht(t.Ct.custom)>0)for(var n in e[r.su]={},t.Ct.custom)e[r.su][n]=t.Ct.custom[n];else this.ks()||t.p.warning("enqueueEventForContentMetadata(): custom tags were not set.");u.Ht(e)>0&&this.lc(e,null)},this.tc=function(){t.Ct&&u.Pt(t.Ct.assetName)||t.p.warning("Missing assetName during session creation"),t.Ct&&u.Pt(t.Ct.defaultResource)||t.p.warning("Missing resource during session creation"),t.Ct&&u.Pt(t.Ct.streamUrl)||t.p.warning("Missing streamUrl during session creation"),(!t.Ct||t.Ct.encodedFrameRate<=0)&&t.p.warning("Missing encodedFrameRate during session creation"),t.Ct&&u.Pt(t.Ct.viewerId)||t.p.warning("Missing viewerId during session creation"),t.Ct&&t.Ct.streamType&&P.StreamType.UNKNOWN!==t.Ct.streamType||t.p.warning("Missing streamType during session creation"),t.Ct&&u.Pt(t.Ct.applicationName)||t.p.warning("Missing applicationName during session creation"),(!t.Ct||t.Ct.duration<=0)&&t.p.warning("Missing duration during session creation")},this.Zt=function(e,n){t.pf||(t.pf={}),t.pf[e]=n},this.$f=function(){var e={};t.Ee&&t.Ee.M&&(e[r.Iu]=t.Ee.M,t.M=t.Ee.M),t.Ee&&t.Ee.U&&(e[r.wu]=t.Ee.U,t.U=t.Ee.U),u.Ht(e)>0&&this.lc(e,null)}}).xa=r.Sh.Ot+r.Sh.Nh+r.Sh.gh,M.Nt={Ot:"Video",Oh:"Global",Dt:"Ad"},(gt=R.Session=function(){var t=this;t.Ue=null,t.C=0,t.xf=M.Nt.Ot,t.ml=!1,t.Sf=!1,t.Dl=!1,t.Pl=null,t.Re=null,t.bl=null,t.Ll=!1,t.Ml=p.PlayerState.NOT_MONITORED,t.Ul=!1,t.Vl=!1,t.kl=!1,t.yl=!1,t.Fl=!1,t.bc=!1,t.Mc=!1,t.Dc=!1,t.gl=!1,t.Il=!1,t.Bl=!1,t.Cl=!1,t.wl=!1,t.Hl=!1,(function(e,n,i,s,o,c,f){this.C=e,this.xf=n,this.Kf=i,this.Gl=s,this.wt=o,this.g=c,this.p=f}).apply(t,arguments),this.Yf=function(e,n){t.wt.Yf(this),e&&t.Vt(e),t.Kf.jl()?t.Kl(n):t.Kf.Wl(function(){t.Kl(n)})},this.cleanup=function(){t.ml=!0,t.wt.Xf(),t.Kf.jl()?t.Yl():t.Kf.Wl(function(){t.Yl()})},this.xl=function(){(t.Cs()||t.qf())&&t.Ue&&t.ql(),t.g=null,t.Ee=null,t.Kf=null,t.Gl=null,t.wt.Tt(),t.wt=null,t.Sf=!0},this.Yl=function(){t.wt.nc(),t.xl()},this.Kl=function(e){t.wt.Qf(),t.Jl(),e?(t.bt(e.ir(),e.er()),t.wt.Xe(p.PlayerState.STOPPED),t.wt.nc(),t.xl()):t.wt.rc()},this.Jl=function(){var e=t.Gl.get(),n=e[T.BROWSER_NAME],n=(n&&t.wt.ca(n),e[T.BROWSER_VERSION]),n=(n&&t.wt.la(n),e[T.DEVICE_BRAND]),n=(n&&t.wt.da(n),e[T.DEVICE_MANUFACTURER]),n=(n&&t.wt.va(n),e[T.DEVICE_MODEL]),n=(n&&t.wt.Ea(n),e[T.DEVICE_TYPE]),n=(n&&t.wt._a(n),e[T.DEVICE_VERSION]),n=(n&&t.wt.Ra(n),e[T.FRAMEWORK_NAME]),n=(n&&t.wt.pa(n),e[T.FRAMEWORK_VERSION]),n=(n&&t.wt.Aa(n),e[T.OPERATING_SYSTEM_NAME]),n=(n&&t.wt.Ta(n),e[T.OPERATING_SYSTEM_VERSION]),n=(n&&t.wt.Sa(n),e[T.DEVICE_CATEGORY]),n=(n&&t.wt.Oa(n),e[T.SCREEN_WIDTH]),n=(n&&t.wt.Na(n),e[T.SCREEN_HEIGHT]),n=(n&&t.wt.ga(n),e[T.SCALE_FACTOR]);n&&t.wt.Ia(n)},this.Ei=function(e){t.wt.Pn===e||(t.wt.Pn===p.PlayerState.NOT_MONITORED&&e!==p.PlayerState.NOT_MONITORED&&(t.Ml=e),t.Ll)||t.wt.Xe(e)},this._i=function(e){t.Ul||t.wt.dc(e)},this.Ri=function(e){t.Ul||t.wt.Ec(e)},this.Ii=function(e){t.Vl||t.wt.wa(e)},this.wi=function(e){t.Vl||t.wt.Co(e)},this.pi=function(e,n){!u.gt(n)&&t.Hl&&(n=-1),t.wt.Jc(e,n)},this.qn=function(e){e>0&&(t.yl||t.wt.ra(e))},this.Qn=function(e){e>0&&(t.Cl||t.wt.ia(e))},this.Zn=function(e){t.wt.ma(e)},this.Ai=function(e){t.wt.Nc(e)},this.Ti=function(e){t.wt.Ic(e)},this.nt=function(e){t.wt.ba(e)},this.et=function(e){t.wt.La(e)},this.ni=function(e){t.wt.Us()||t.wt.pa(e)},this.ei=function(e){t.wt.Vs()||t.wt.Aa(e)},this.Oi=function(e){t.wt.ka(e)},this.oi=function(e){t.wt.Ka(e)},this.ui=function(e){t.wt.Wa(e)},this.ai=function(e){t.wt.Ya(e)},this.Si=function(e,n){t.bt(e,n)},this.Yn=function(){t.ql()},this.Wt=function(e,n,i){t.Dl||(t.Dl=!0,t.Pl=e,t.Re=n,t.bl=i,t.wt.Vc(!0),t.Pl===g.AdStream.CONTENT||t.Re===g.AdPlayer.SEPARATE?(t.wt.Pn!==p.PlayerState.NOT_MONITORED&&(t.Ml=t.wt.Pn),t.wt.Xe(p.PlayerState.NOT_MONITORED),t.Ll=!0):t.Pl===g.AdStream.SEPARATE&&t.Re===g.AdPlayer.CONTENT&&(t.wt.Pn!==p.PlayerState.NOT_MONITORED&&(t.Ml=t.wt.Pn),t.wt.Xe(p.PlayerState.NOT_MONITORED),t.Ll=!0,t.Ul=!0,t.Vl=!0,t.yl=!0,t.kl=!0,t.bc=!0,t.Mc=!0,t.Dc=!0,t.gl=!0,t.Il=!0,t.Bl=!0,t.Cl=!0,t.wl=!0,t.Hl=!0))},this.Yt=function(){t.Dl&&(t.wt.Vc(!1),t.Pl===g.AdStream.CONTENT||t.Re===g.AdPlayer.SEPARATE?t.Xl||(t.Ll=!1,t.wt.Xe(t.Ml)):t.Pl===g.AdStream.SEPARATE&&t.Re===g.AdPlayer.CONTENT&&(t.Ul=!1,t.Vl=!1,t.yl=!1,t.kl=!1,t.Fl=!1,t.Xl||(t.Ll=!1,t.wt.Xe(t.Ml)),t.bc=!1,t.Mc=!1,t.Dc=!1,t.gl=!1,t.Il=!1,t.Bl=!1,t.Cl=!1,t.wl=!1,t.Hl=!1),t.Dl=!1,t.Pl=t.Re=t.bl=null)},this.Mt=function(){t.Ue&&t.Ue&&(t.g.F("Session.detachPlayer",function(){t.Ue.xn()}),t.Ue=null,t.wt.Wc(null),t.wt.Xe(p.PlayerState.NOT_MONITORED))},this.ql=function(){t.Ue&&(t.g.F("Session.releasePlayerStateManager",function(){t.Ue.xn()}),t.Ue=null,t.wt.Wc(null),t.wt.Xe(p.PlayerState.NOT_MONITORED))},this.Ut=function(){t.wt.Vc(!0),t.wt.Pn!==p.PlayerState.NOT_MONITORED&&(t.Ml=t.wt.Pn),t.wt.Xe(p.PlayerState.NOT_MONITORED),t.Ll=!0},this.Vt=function(e){t.Ue||e instanceof p&&t.g.F("Session.attachPlayer()",function(){e.setMonitoringNotifier(t,t.C)&&(e.fi(),t.Ue=e,t.wt.Wc(t.Ue))})},this.kt=function(){t.wt.Vc(!1),t.Ul=!1,t.Vl=!1,t.Ql=!1,t.kl=!1,t.Fl=!1,t.bc=!1,t.Mc=!1,t.Dc=!1,t.gl=!1,t.Il=!1,t.Bl=!1,t.Cl=!1,t.wl=!1,t.Hl=!1,t.Xl||(t.Ll=!1,t.Ml!==p.PlayerState.NOT_MONITORED&&t.wt.Xe(t.Ml))},this.qt=function(){return t.Ue},this.Ft=function(){t.Xl||(t.Xl=!0,t.Ll=!0)},this.Bt=function(){t.Xl&&(t.Xl=!1,t.Dl||(t.Ll=!1,t.Ml!==p.PlayerState.NOT_MONITORED&&t.wt.Xe(t.Ml)))},this.bt=function(e,n){!u.Pt(e)||n!==g.ErrorSeverity.FATAL&&n!==g.ErrorSeverity.WARNING||t.Fl||(n=n===g.ErrorSeverity.FATAL,t.wt.Fc(e,n))},this.Lt=function(e){t.g.F("Session.updateContentMetadata",function(){t.wt.Lt(e)})},this.Kt=function(e,n){t.wt.Xc(e,n)},this.ks=function(){return t.xf===M.Nt.Oh},this.Cs=function(){return t.xf===M.Nt.Ot},this.qf=function(){return t.xf===M.Nt.Dt},this.Jf=function(){return t.ks()?" (global session)":""},this.Xt=function(){return this.C},this.Qt=function(){var e=null;return e=t.Kf.jl()?t.Kf.get(v.B):e},this.Zt=function(e,n){t.wt.Zt(e,n)}}).Ol="received no response (or a bad response) to heartbeat POST request",Lt=R.SessionFactory=function(){var t=this;t.Fi=null,t.Zl=0,t.zl=null,(function(e,n,i,s){t.Ee=e,t.Vi=n,t.Kf=i,t.T=s,t.Zl=0,t.zl={}}).apply(t,arguments),this.Tt=function(){for(var e in t.Fi=null,t.zl)t.zl[e].cleanup();t.zl=null,t.Zl=0},this.$l=function(){var e=t.Zl;return t.Zl++,e},this.St=function(e,n,i,s,o){return e||(e=new P),t.td(e,n,i,s,o)},this.Y=function(e){return t.td(e,M.Nt.Oh,void 0,a.version)},this.nd=function(){return X.ed()},this.td=function(e,n,i,s,o){return n=t.T.Zi(t.Ee,t.Vi,t.Kf,t.nd(),n,e.ct(),s),e=t.$l(),typeof o<"u"&&typeof o.error<"u"?n.Yf(i,o.error):(t.sd(e,n),n.Yf(i)),e},this.jt=function(e){return e=t.zl[e],e},this.It=function(e){return e=this.jt(e),e=!e||e.Cs()||e.qf()?e:null},this.sd=function(e,n){t.zl[e]=n},this.od=function(e){delete t.zl[e]},this.xt=function(e){var n=t.jt(e);t.od(e),n.cleanup()},this.tt=function(){return t.zl}},pt=R.rd=function(t){this._e=t,this.ud=function(e,n,i){var s=!1;return this._e.createOnce(function(){s||e(!(s=!0),i+" ("+n+" ms)")},n,"CallbackWithTimeout.wrap"),function(o,c){s||(s=!0,e(o,c))}}},(v=R.Config=function(t,e,n){var i=this;this.ad=e,this.fd=n,this.ld={clientId:r.H,iid:r.Sr,sendLogs:!1,maxHbInfos:r.Nr},this.I=u.ll(this.ld),this.dd=!1,this.vd=!1,this.Ed=[],this.jl=function(){return this.dd},this.Et=function(){this.ad.Et(v.hd,function(s,o){s&&i._d(o),i.dd=!0,i.Rd()})},this._d=function(c){var o,c=this.fd.yh(c);c?c&&(o=c[v.pd],c=c[v._t],o&&o!==r.H&&o!==""&&o!=="null"&&(this.I[v.B]=o),c!==r.Sr)&&c!==""&&c!=="null"&&(this.I[v._t]=c):this.vd=!0},this.Ad=function(){var s={};return s[v.pd]=this.I.clientId,this.fd.Ch(s)},this.Al=function(){this.ad.Al(v.hd,this.Ad(),function(s,o){})},this.Wl=function(s){this.jl()?s():this.Ed.push(s)},this.get=function(s){return this.dd?this.I[s]:null},this.set=function(s,o){this.dd&&(this.I[s]=o)},this.Rd=function(){for(var s;typeof(s=this.Ed.shift())<"u";)s()},this.getClientId=function(){return this.I.clientId},this.getIid=function(){return this.I.iid}}).hd="sdkConfig",v.pd="clId",v._t="iid",v.B="clientId",v.ol="sendLogs",v.nl="maxHbInfos",v.hl="c3.fp.",v.$t={al:"0",Td:"1",tn:"2",zt:"3",fl:"4",en:"5",nn:"6"},Mt=R.EventQueue=function(){this.Sd=[],this.Od=0,this.Kc=function(t){this.Sd.push(t)},this.Gc=function(){var t=this.Od;return this.Od++,t},this.Wf=function(){var t=this.Sd;return this.Sd=[],t}},vt=R.ExceptionCatcher=function(t,e,n){this.Nd=e,this.N=n,this.F=function(i,s,o){try{s()}catch(c){if(o)o(c);else{if(this.N.allowUncaughtExceptions)throw c;this.gd(i,c)}}},this.gd=function(i,s){if(i="Uncaught exception: "+i+": "+s.toString(),this.Nd)try{this.Nd.Rl(i)}catch{}}},Ut=R.GatewayControl=function(t,e,n,i,s){var o=this;this.Vi=t,this.Id=n,this.fd=i,this.wd=s,this.Rl=function(c,f){var N=(this.wd?this.wd.indexOf("ipv4")>-1?this.Vi.G:this.Vi.q:this.Vi.gatewayUrl)+r.Tr;this.Id.Cd("POST",N,this.fd.Ch(c),"application/json",function(O,D){var C;O?(C=o.fd.yh(D),f(O,C)):f(O,D)})}},u=R.Lang={yd:function(t){return u.Pt(t)&&t&&t!=="undefined"&&t!=="null"},Gt:function(t){var e,n,i={};for(e in t)u.yd(e)&&(n=t[e],u.yd(n))&&(i[e]=n);return i},Jn:function(t,e,n){if(!t)throw new Error("Expected "+n+" implementation is null.");for(var i in e)if(typeof t[i]!="function")throw new Error("Expected method "+i+" in "+n+" implementation.")},Ht:function(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n},yt:function(t){return""+t},md:function(t){return Math.floor(t)},cn:function(t){return Math.abs(u.md(t))},Dd:function(t){return!!t},Pt:function(t){return typeof t=="string"&&t!==""},Sl:function(t,e){return typeof t=="string"&&typeof e=="string"&&typeof t.indexOf=="function"&&t.indexOf(e)===0},ie:function(t){return typeof t=="boolean"},Pd:function(t){return escape(t)},mh:function(t){return typeof t=="object"},Sc:function(t){var e,n="";for(e in t)n+=e+"="+t[e];return"Object{"+n+"}"},bd:function(t){var e,n=u.ll(t);for(e in n)n[e]||delete n[e];return n},ll:function(t){var e,n={};for(e in t)n[e]=t[e];return n},Tc:function(t,e){if(typeof t!=typeof e)return!1;if(t instanceof Object&&e instanceof Object){if(u.Ht(t)!==u.Ht(e))return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}return t===e},ko:function(){for(var t={},e=0;e<arguments.length;e++)for(var n in arguments[e])arguments[e][n]&&(t[n]=arguments[e][n]);return t},gt:function(t){return typeof t=="number"&&Math.round(t)===t},Ld:function(t){return Object.prototype.toString.call(t)==="[object Array]"},Md:function(t,e){if(t!==e){if(!t||!e||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(u.Ld(t[n])&&u.Ld(e[n])){if(!u.Md(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1}return!0},Ud:function(){return typeof Object.defineProperty<"u"&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}()},rn:function(t,e,n){if(u.Ud())Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n});else{if(typeof t.__defineGetter__>"u")throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");t.__defineGetter__(e,n)}},un:function(t,e,n){if(u.Ud())Object.defineProperty(t,e,{configurable:!0,set:n});else{if(typeof t.__defineSetter__>"u")throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");t.__defineSetter__(e,n)}}},(V={two32:4294967296}).Vd=V.two32-1,V.kd=0,u.Fd=V,u.Fd.Cast=function(t){return t=parseInt(t,10),t>V.Vd?t=t%V.two32:t<V.kd&&(t=V.two32-(t=-t%V.two32)),t},u.Fd.Bd=function(t){return t=parseInt(t,10),t<=V.Vd&&t>=V.kd},G={Vd:2147483647,kd:-2147483648},u._l=G,u._l.Cast=function(t){return t=parseInt(t,10),t>G.Vd?t=t%G.Vd:t<G.kd&&(t=G.Vd-(t=-t%G.Vd)),t},u._l.Bd=function(t){return t=parseInt(t,10),t<=G.Vd&&t>=G.kd},u.nr=function(){return window&&window.location&&window.location.search?window.location.search:""},u.Hd=function(){return document&&document.referrer?document.referrer:""},bt=R.LogBuffer=function(){this.Gd=[],this.lr=function(t){this.Gd.length>=32&&this.Gd.shift(),this.Gd.push(t)},this.Wf=function(){var t=this.Gd;return this.Gd=[],t}},(z=R.Ping=function(t,e,n,i){this.Kd=!1,this.Wd=null,this.p=t,this.p.setModuleName("Ping"),this.Id=e,this.Vi=n,this.ki=i,this.Rl=function(s){this.Kd||(this.Kd=!0,s=this.Yd()+"&d="+u.Pd(s.toString()),this.p.error("send(): "+s),this.Id.Cd("GET",s,null,null,null),this.Kd=!1)},this.Yd=function(){if(!this.Wd){var s=z.xd+"?comp="+z.jd+"&clv="+(this.ki||g.version);if(this.Vi&&(s+="&cid="+this.Vi.customerKey),s+="&sch="+r.Cr,!this.Vi)return s;this.Wd=s}return this.Wd}}).jd="sdkjs",z.xd="https://pings.conviva.com/ping.ping",X=R.qd={Jd:4294967295,Xd:2147483647,Qd:-2147483648,ed:function(){return Math.floor(Math.random()*X.Jd)+X.Qd},Rt:function(){return Math.floor(Math.random()*X.Jd)}},w=R.Zd={jc:function(t,e,n,i){return isNaN(t)||typeof t!="number"||t===i?i:(i=u.md(t),w.zd(i,e,n))},zd:function(t,e,n){return u.gt(n)&&t>n?t=n:u.gt(e)&&t<e&&(t=e),t},In:function(t){return t=t!==-1&&t!==-2?w.jc(t,0,null,-1):t}},tt=R.StreamerError=function(){var t=this;t.errorCode=null,t.severity=g.ErrorSeverity.FATAL,(function(e,n){t.errorCode=e,t.severity=n}).apply(t,arguments),this.ir=function(){return t.errorCode},this.er=function(){return t.severity}},Ft=R.HttpClient=function(t,e,n,i){this.Di=e,this.$d=n,this.N=i,this.Cd=function(s,o,c,f,N){var O=1e3*this.N.httpTimeout,D=null;N&&(D=this.$d.ud(N,O,"HTTP timeout")),this.Di.makeRequest(s,o,c,f,O,D)}},(Tt=R.Logger=function(t,e,n,i,s){this.Li=t,this.yi=e,this.O=n,this.Fi=i,this.Ui=s,this.debug=function(o){this.log(o,y.LogLevel.DEBUG)},this.info=function(o){this.log(o,y.LogLevel.INFO)},this.warning=function(o){this.log(o,y.LogLevel.WARNING)},this.error=function(o){this.log(o,y.LogLevel.ERROR)},this.log=function(o,c){o=this.nv(o,c),this.Fi.lr(o),this.O.logLevel<=c&&this.Li.consoleLog(o,c)},this.iv=function(o){return"["+this.Vn+"] "+o},this.ev=function(o){return"["+this.Ui+"] "+o},this.sv=function(o){return"[Conviva] "+o},this.ov=function(o){return"["+(this.yi.getEpochTimeMs()/1e3).toFixed(3).toString()+"] "+o},this.rv=function(o,c){return"["+Tt.tv(c)+"] "+o},this.uv=function(o){return o=this.hv?"sid="+this.hv+" "+o:o},this.Kh=function(o){this.hv=o},this.setModuleName=function(o){this.Vn=o},this.nv=function(o,c){return this.sv(this.ov(this.rv(this.ev(this.iv(this.uv(o))),c)))}}).tv=function(t){var e;switch(t){case y.LogLevel.ERROR:e="ERROR";break;case y.LogLevel.WARNING:e="WARNING";break;case y.LogLevel.INFO:e="INFO";break;case y.LogLevel.DEBUG:e="DEBUG"}return e},R.Storage=function(t,e,n,i){this.Pi=e,this.$d=n,this.N=i,this.Et=function(s,o){o=this.$d.ud(o,1e3*this.N.storageTimeout,"storage load timeout"),this.Pi.loadData(R.Storage.av,s,o)},this.Al=function(s,o,c){c=this.$d.ud(c,1e3*this.N.storageTimeout,"storage save timeout"),this.Pi.saveData(R.Storage.av,s,o,c)}},R.Storage.av="Conviva",(T=R.SystemMetadata=function(t,e,n){this.bi=e,this.g=n,this.fv=null,this.get=function(){return this.fv||this.retrieve(),this.fv},this.retrieve=function(){var i,s={},o=(s[T.BROWSER_NAME]=this.bi.getBrowserName,s[T.BROWSER_VERSION]=this.bi.getBrowserVersion,s[T.DEVICE_BRAND]=this.bi.getDeviceBrand,s[T.DEVICE_MANUFACTURER]=this.bi.getDeviceManufacturer,s[T.DEVICE_MODEL]=this.bi.getDeviceModel,s[T.DEVICE_TYPE]=this.bi.getDeviceType,s[T.DEVICE_VERSION]=this.bi.getDeviceVersion,s[T.FRAMEWORK_NAME]=this.bi.getFrameworkName,s[T.FRAMEWORK_VERSION]=this.bi.getFrameworkVersion,s[T.OPERATING_SYSTEM_NAME]=this.bi.getOperatingSystemName,s[T.OPERATING_SYSTEM_VERSION]=this.bi.getOperatingSystemVersion,s[T.DEVICE_CATEGORY]=this.bi.getDeviceCategory,s[T.SCREEN_WIDTH]=this.bi.getScreenWidth,s[T.SCREEN_HEIGHT]=this.bi.getScreenHeight,s[T.SCALE_FACTOR]=this.bi.getScaleFactor,this);for(i in s)(function(O,D){o.g.F("Session.getSystemMetadataSchema(): "+O,function(){var C=D[O];D[O]=C.call(o.bi)})})(i,s),u.Pt(s[i])||delete s[i];var c=!1;if(typeof s[T.DEVICE_TYPE]<"u"){for(var f in g.DeviceType)if(s[T.DEVICE_TYPE]===g.DeviceType[f]){c=!0;break}c||delete s[T.DEVICE_TYPE]}if(c=!1,typeof s[T.DEVICE_CATEGORY]<"u"){for(var N in g.DeviceCategory)if(s[T.DEVICE_CATEGORY]===g.DeviceCategory[N]){c=!0;break}c||delete s[T.DEVICE_CATEGORY]}this.fv=u.bd(s)}}).BROWSER_NAME="browserName",T.BROWSER_VERSION="browserVersion",T.DEVICE_BRAND="deviceBrand",T.DEVICE_MANUFACTURER="deviceManufacturer",T.DEVICE_MODEL="deviceModel",T.DEVICE_TYPE="deviceType",T.DEVICE_VERSION="deviceVersion",T.FRAMEWORK_NAME="frameworkName",T.FRAMEWORK_VERSION="frameworkVersion",T.OPERATING_SYSTEM_NAME="operatingSystemName",T.OPERATING_SYSTEM_VERSION="operatingSystemVersion",T.DEVICE_CATEGORY="deviceCategory",T.SCREEN_WIDTH="screenWidth",T.SCREEN_HEIGHT="screenHeight",T.SCALE_FACTOR="scaleFactor",Vt=R.Time=function(t,e){this.yi=t,this.p=e,this.current=function(){var n=this.yi.getEpochTimeMs();return u.gt(n),n}},St=R.Timer=function(t,e,n){var i=this;this.mi=e,this.g=n,this.create=function(s,o,c){return this.createTimer(function(){i.g.F(c,function(){s()})},o,c)},this.createOnce=function(s,o,c){var f={cancel:null};return f.cancel=this.createTimer(function(){i.g.F(c,function(){f&&typeof f.cancel=="function"&&(f.cancel(),f.cancel=null,f=null),s()})},o,c),f.cancel},this.createTimer=function(s,o,c){return this.mi.createTimer(s,o,c)}}}(),d})})(kt);var Yt=kt.exports;const Wt=Ht(Yt),jt=Bt({__proto__:null,default:Wt},[Yt]);export{jt as c};
