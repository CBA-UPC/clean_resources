!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[9832],{63977:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var r=s(50209),a=s.n(r),i=s(5754),n=s.n(i),l=s(95004),o=s(55673),d=s(93840),h=s(39726),c=s(98384),m=s(6135),p=s(33970),u=s.n(p),g=s(78994),b=s(24759),x=s(90127),v=s(32468),j=s(73637),f=s(43523),S=s(85795),N=s(78667),w=s(54138),I=s.n(w),y=s(54382),B=s(63583),C=s.n(B);let U={membershipsSubmenu:"nWTbj",row:"MHLp7",active:"IVQu3",link:"arAIK",count:"djzNH"};var P=s(2629);let T=function(e){var t=e.blogName,s=e.page,r=e.isSubmenuOpen,a=e.isPaywallOn,i=e.isActive,l=e.onClick,d={size:{width:12,height:12},color:C().paletteTransparentWhite65};return(0,P.jsx)("div",{className:n()(U.row,{[U.active]:i}),children:(0,P.jsxs)(o.rU,{to:(0,x.ti)({blogName:t}),onClick:className:U.link,children:[(0,P.jsx)("span",{children:(0,P.jsx)(y.ZP,{children:"Post+"})}),a&&(0,P.jsx)("span",{children:r?(0,P.jsx)(c.mV,I()({},d)):(0,P.jsx)(c.$S,I()({},d))})]})},s.name)},_=function(e){var t=e.row,s=e.isActive,r=e.path,a=e.icon,i=(0,N.bp)()._getLocaleNumberString;return(0,P.jsx)("li",{className:n()(U.row,{[U.active]:s}),children:(0,P.jsxs)(o.rU,{to:r,className:U.link,children:[(0,P.jsx)("span",{children:t.title}),a||!!t.count&&(0,P.jsx)("span",{className:U.count,children:i(t.count)})]})})},k=()=>{var e=(0,N.bp)(),t=e.apiFetch,s=e.logEvent,r=e.features.redpopMemberships,a=(0,g.TH)().pathname,i=(0,g.UO)().blogName,n=(0,l.useState)(),o=u()(n,2),d=o[0],h=o[1],c=(0,l.useState)(),m=u()(c,2),p=m[0],w=m[1],I=(0,l.useState)(!1),y=u()(I,2),B=y[0],C=y[1],k=(0,l.useState)(!1),A=u()(k,2),O=A[0],R=A[1],D=(0,l.useState)(!1),E=u()(D,2),M=E[0],W=E[1];if((0,l.useEffect)(()=>{i&&r&&(0,S.ZP)(t).getCreatorSettingsStatus(i).fetch().then(e=>{var t=e.response;h(t.members),w(t.creatorProfile),C(t.membershipsStatus.isPaywallOn),W(t.membershipsStatus.isTumblrpayOnboarded),R(!1)}).catch(},[t,i,r]),!(i&&r&&!O))return null;var Z=(0,x.dn)(a),L=null!==Z;return(0,P.jsxs)("div",{className:U.membershipsSubmenu,children:[(0,P.jsx)(T,{blogName:i,page:v.vS.creatorSettings(i),isSubmenuOpen:L,isPaywallOn:B,isActive:Z===j.P,onClick:()=>{s({eventName:f.J.PostpSettingsTap,eventDetails:{blog:i,is_activated:M}})}}),(0,P.jsx)(b.Z,{showCollapsable:L,children:d||p?(0,P.jsx)("ul",{className:U.membershipMenu,children:!!d&&B&&(0,P.jsx)(_,{row:d,isActive:"supporters"===Z,path:(0,x.ti)({blogName:i,creatorPageContents:"supporters"})})}):null})]})};var A=s(59215),O=s(14728),R=s(31569);let D={loadingPlaceholder:"BYHpC",sideBar:"Vt7qF",blogName:"etiBG",blogTitle:"EN5yb",count:"KlOKT",row:"jk3gM",membershipsSubmenu:"LmLMT",active:"VsKKv"};class E extends l.Component{constructor(){super(...arguments),a()(this,"state",{tumblelog:void 0}),a()(this,"renderBlogItem",(e,t,s,r)=>t&&(0,P.jsx)("li",{className:n()(D.row,{[D.active]:s}),children:r},e)),a()(this,"renderBlogBar",e=>{var t=this.props,s=t.appContext,r=s._t,a=s.features,i=s.wwwBaseUrl,l=t.page,m=t.postCountContext.countsByBlog,p=t.hideBlogName,u=e.uuid,g=e.name,b=e.title,j=e.followers,f=e.admin,S=e.primary,N=e.analyticsUrl,w=e.hasFlaggedPosts,I=e.isTippingOn,y=u&&m[u]||h.E2,U=y.posts,T=y.queue,_=y.drafts,A=this.renderBlogItem(v.vS.members(g).name,!S,(0,v.Qc)(l),(0,P.jsx)("a",{href:`${i}/blog/${g}/members`,children:r("Members")})),R=this.renderBlogItem(v.vS.drafts(g).name,!0,(0,v._W)(l),(0,P.jsxs)(o.rU,{to:(0,x.vD)({blogName:g}),children:[(0,P.jsx)("span",{children:r("Drafts")}),this.getCount(_)]})),E=this.renderBlogItem(v.vS.queue(g).name,!0,(0,v.eo)(l),(0,P.jsxs)(o.rU,{to:(0,x.Kt)({blogName:g}),children:[(0,P.jsx)("span",{children:r("Queue")}),this.getCount(T)]})),M=this.renderBlogItem(v.vS.flagged(g).name,!!w,(0,v.jN)(l),(0,P.jsx)(o.rU,{to:(0,x.eR)({blogName:g}),children:(0,P.jsx)("span",{children:r("Review flagged posts")})})),W=(0,O.v)(e)?(0,P.jsx)("li",{className:n()(D.submenu,D.membershipsSubmenu),children:(0,P.jsx)(k,{})},v.vS.creatorSettings(g).name):null,Z=this.renderBlogItem(v.vS.blaze(g).name,!!a.tumblrIgnite,(0,v.N3)(l),(0,P.jsx)(o.rU,{to:(0,x.VH)({blogName:g}),children:(0,P.jsx)("span",{children:r("Tumblr Blaze")})})),L=this.renderBlogItem(v.vS.payouts(g).name,!!a.tippingCreation&&!!I,(0,v.Pw)(l),(0,P.jsx)(o.rU,{to:(0,x.su)({blogName:g}),children:(0,P.jsx)("span",{children:r("Payouts")})})),z=this.renderBlogItem(v.vS.customize(g).name,!!f,(0,v.Se)(l),(0,P.jsxs)(o.rU,{to:(0,x.BR)({blogName:g}),children:[(0,P.jsx)("span",{children:r("Blog settings")}),(0,P.jsx)("span",{children:(0,P.jsx)(c.iL,{size:{width:12,height:12},colors:{primary:C().paletteTransparentWhite65}})})]})),F=this.renderBlogItem(v.vS.analytics(g).name,!!N,(0,v.wS)(l),(0,P.jsx)("a",{href:`${i}${N}`,children:r("Analytics")}));return(0,P.jsx)("aside",{className:D.sideBar,children:(0,P.jsxs)("ul",{children:[!p&&(0,P.jsx)("li",{className:D.row,children:(0,P.jsxs)("div",{className:D.blogName,children:[(0,P.jsx)("p",{children:g}),(0,P.jsx)("p",{className:D.blogTitle,children:b})]})},"title"),this.renderBlogItem(v.vS.posts(g).name,!0,(0,v.Cl)(l),(0,P.jsxs)(o.rU,{to:(0,x.vw)({blogName:g}),children:[(0,P.jsx)("span",{children:r("Posts")}),this.getCount(U)]})),this.renderBlogItem(v.vS.followers(g).name,!0,(0,v.Zg)(l),(0,P.jsxs)(o.rU,{to:(0,x.FD)({blogName:g}),children:[(0,P.jsx)("span",{children:r("Followers")}),this.getCount(j)]})),this.renderBlogItem(v.vS.activity(g).name,!0,(0,v.fu)(l),(0,P.jsxs)(o.rU,{to:(0,x.Ms)({blogName:g}),children:[(0,P.jsx)("span",{children:r("Activity")}),(0,P.jsx)(d.Z,{blogName:g,color:B.paletteTransparentWhite40})]})),A,R,E,W,Z,L,M,z,F,(0,P.jsx)("li",{className:D.row,children:(0,P.jsxs)("a",{href:`${i}/mega-editor/published/${g}`,target:"_blank",children:[(0,P.jsx)("span",{children:r("Mass Post Editor")}),(0,P.jsx)("span",{children:(0,P.jsx)(c.iL,{size:{width:12,height:12},colors:{primary:C().paletteTransparentWhite65}})})]})},"mass-post-editor")]})})}),a()(this,"getCount",e=>e&&e>0?(0,P.jsx)("span",{className:D.count,children:this.props.appContext._getLocaleNumberString(e)}):null),a()(this,"getUserInfo",()=>{this.props.appContext.getUserInfo().then(e=>{var t=e.blogs.filter(e=>{var t;return e.name===(null===(t=this.props.page.extraAttributes)||void 0===t?void 0:t.blogName)})[0];this.setState({tumblelog:t})})})}omponentDidUpdate(e){var t,s;(null===(t=e.page.extraAttributes)||void 0===t?void 0:t.blogName)!==(null===(s=this.props.page.extraAttributes)||void 0===s?void 0:s.blogName)&&(this.setState({tumblelog:void 0}),this.getUserInfo())}render(){var e=this.state.tumblelog;return(0,P.jsx)(R.Z,{children:e?this.renderBlogBar(e):(0,P.jsx)("div",{className:D.loadingPlaceholder,children:(0,P.jsx)(m.Z,{small:!0,centerOrientation:"vertical"})})})}}a()(E,"defaultProps",{hideBlogName:!1});let M=(0,A.X9)(E,{appContext:!0,postCountContext:!0})},31569:(e,t,s)=>{s.d(t,{Z:);var r=s(5754),a=s.n(r);let i={sidebarItem:"FZkjV",hasRightSlotItem:"I1qRl",sidebarTitle:"hF8Wr",headerWithRightSlot:"shOJA"};var n=s(2629);let l=e=>{var t=e.className,s=e.title,r=e.titleClassName,l=e.children,o=e.titleRightSlot;return(0,n.jsxs)("div",{className:a()(i.sidebarItem,t,{[i.hasRightSlotItem]:o}),children:[(0,n.jsxs)("div",{className:a()({[i.headerWithRightSlot]:o}),children:[s&&(0,n.jsx)("h1",{className:a()(i.sidebarTitle,r),children:s}),o]}),l]})}}}]);