import{_ as s}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";import{A as o,B as r,J as c,_ as i}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";const _={props:{size:{type:String,required:!0}},computed:{isCheckout(){return this.$route.name==="Checkout"}}};function a(n,p,e,u,m,t){return o(),r("div",{class:i(["size",{checkout:t.isCheckout}])},c(e.size),3)}const f=s(_,[["render",a],["__scopeId","data-v-4f509e11"]]);export{f as i};
g_ae762cd0_r24-02-0_b0_t240129-161140.js"])),m=async()=>i(u(()=>import("./resetPasswordRequestQuery_50374714_r24-02-0_b0_t240129-161140.js"),["ngsa/js/resetPasswordRequestQuery_50374714_r24-02-0_b0_t240129-161140.js","ngsa/js/index_767de702_r24-02-0_b0_t240129-161140.js","ngsa/js/ast_dd2f4d00_r24-02-0_b0_t240129-161140.js","ngsa/js/blockString_ae762cd0_r24-02-0_b0_t240129-161140.js"])),p=async()=>i(u(()=>import("./validateResetTokenQuery_d1b94844_r24-02-0_b0_t240129-161140.js"),["ngsa/js/validateResetTokenQuery_d1b94844_r24-02-0_b0_t240129-161140.js","ngsa/js/index_767de702_r24-02-0_b0_t240129-161140.js","ngsa/js/ast_dd2f4d00_r24-02-0_b0_t240129-161140.js","ngsa/js/blockString_ae762cd0_r24-02-0_b0_t240129-161140.js"])),y=async()=>i(u(()=>import("./resetPasswordQuery_27c7140d_r24-02-0_b0_t240129-161140.js"),["ngsa/js/resetPasswordQuery_27c7140d_r24-02-0_b0_t240129-161140.js","ngsa/js/index_767de702_r24-02-0_b0_t240129-161140.js","ngsa/js/ast_dd2f4d00_r24-02-0_b0_t240129-161140.js","ngsa/js/blockString_ae762cd0_r24-02-0_b0_t240129-161140.js"])),f=async()=>i(u(()=>import("./generateOTP_08747a51_r24-02-0_b0_t240129-161140.js"),["ngsa/js/generateOTP_08747a51_r24-02-0_b0_t240129-161140.js","ngsa/js/index_767de702_r24-02-0_b0_t240129-161140.js","ngsa/js/ast_dd2f4d00_r24-02-0_b0_t240129-161140.js","ngsa/js/blockString_ae762cd0_r24-02-0_b0_t240129-161140.js"])),_="csrViewStoreUpdatePassword",R=P(_,{state:()=>({oldPassword:"",newPassword:"",confirmedNewPassword:"",forgotPassReqSent:!1,resetUsername:"",resetPassToken:"",passwordResetSuccessfully:!1,otp:null,isSubscribed:!1}),actions:{async sendPasswordResetRequest(){var t,e;const r={email:(e=(t=this.resetUsername)==null?void 0:t.trim())==null?void 0:e.toLowerCase()},o=await m();return n({mutation:o,variables:r}).then(({errors:s})=>{if(s!=null&&s.graphQLErrors)throw s.graphQLErrors;return this.forgotPassReqSent=!0,{success:!0}}).catch(s=>(c({err:s,operation:"resetPasswordRequest"}),this.forgotPassReqSent=!1,{success:!1}))},async validateToken(){const r={token:this.resetPassToken},o=await p();return n({mutation:o,variables:r}).then(t=>{const e=t.data.validateResetToken,s=e.valid,a={success:s};return this.resetPassToken=s?e.token:"",a}).catch(t=>(c({err:t,operation:"validateResetToken"}),{success:!1}))},async resetPassword(){const r=l(),o=w(),t={checkPwd:this.confirmedNewPassword,pwd:this.newPassword,token:this.resetPassToken},e=await y();return n({mutation:e,variables:t}).then(s=>{var d;const a=s.data.resetPassword;if((a==null?void 0:a.statusCode)==="200")return this.passwordResetSuccessfully=!0,this.resetPassToken="",r.commit("login/updateState",{property:"redirectPath",value:`/${o.country}/${o.locale}`},{root:!0}),{success:!0,message:a.successMsg};throw((d=s.errors)==null?void 0:d.length)>0?s.errors:s.data}).catch(s=>(c({err:s,operation:"resetPassword"}),{success:!1,message:s.map(d=>d.message)}))},async changePassword(){const{country:r}=w(),o={oldPassword:this.oldPassword,newPassword:this.newPassword,confirmedNewPassword:this.confirmedNewPassword,country:r},t=await h();return n({mutation:t,variables:o}).then(e=>{const{data:s,errors:a}=e;if(a&&a.length>0)throw a;return s.changePassword.successMsg}).catch(e=>{var s;return c({err:e,operation:"changePassword"}),(s=e[0])==null?void 0:s.message}).finally(()=>{this.oldPassword="",this.newPassword="",this.confirmedNewPassword=""})},async requestOTP(r){const o={username:r},t=await f();return n({mutation:t,variables:o}).then(({errors:e})=>{if(e!=null&&e.graphQLErrors)throw e.graphQLErrors;return this.forgotPassReqSent=!0,this.passcodeEmail=r,{success:!0}}).catch(e=>(c({err:e,operation:"resetPasswordRequest"}),this.forgotPassReqSent=!1,{success:!1}))}}});export{_ as storeName,R as useCsrViewStoreUpdatePassword};
