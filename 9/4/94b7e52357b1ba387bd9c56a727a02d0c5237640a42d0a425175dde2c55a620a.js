!function a(o,s,l){function u(t,e){if(!s[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[t]={exports:{}};o[t][0].call(i.exports,function(e){return u(o[t][1][e]||e)},i,i.exports,a,o,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,r){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},{}],2:[function(e,t,r){t.exports=function(e){if(Array.isArray(e))return e}},{}],3:[function(e,t,r){var n=e("./arrayLikeToArray");t.exports=function(e){if(Array.isArray(e))return n(e)}},{"./arrayLikeToArray":1}],4:[function(e,t,r){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},{}],5:[function(e,t,r){function l(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}t.exports=function(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function i(e){l(n,t,r,i,a,"next",e)}function a(e){l(n,t,r,i,a,"throw",e)}i(void 0)})}}},{}],6:[function(e,t,r){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],7:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},{}],8:[function(e,t,r){t.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},{}],9:[function(e,n,t){var a=e("./superPropBase");function i(e,t,r){return"undefined"!=typeof Reflect&&Reflect.get?n.exports=i=Reflect.get:n.exports=i=function(e,t,r){var n=a(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}},i(e,t,r||e)}n.exports=i},{"./superPropBase":21}],10:[function(e,t,r){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},{}],11:[function(e,t,r){var n=e("./setPrototypeOf");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},{"./setPrototypeOf":19}],12:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},{}],13:[function(e,t,r){var o=e("../helpers/typeof");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}t.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}},{"../helpers/typeof":23}],14:[function(e,t,r){t.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},{}],15:[function(e,t,r){t.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}},{}],16:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],17:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],18:[function(e,t,r){var n=e("../helpers/typeof"),i=e("./assertThisInitialized");t.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},{"../helpers/typeof":23,"./assertThisInitialized":4}],19:[function(e,r,t){function n(e,t){return r.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.exports=n},{}],20:[function(e,t,r){var n=e("./arrayWithHoles"),i=e("./iterableToArrayLimit"),a=e("./unsupportedIterableToArray"),o=e("./nonIterableRest");t.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()}},{"./arrayWithHoles":2,"./iterableToArrayLimit":15,"./nonIterableRest":16,"./unsupportedIterableToArray":24}],21:[function(e,t,r){var n=e("./getPrototypeOf");t.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},{"./getPrototypeOf":10}],22:[function(e,t,r){var n=e("./arrayWithoutHoles"),i=e("./iterableToArray"),a=e("./unsupportedIterableToArray"),o=e("./nonIterableSpread");t.exports=function(e){return n(e)||i(e)||a(e)||o()}},{"./arrayWithoutHoles":3,"./iterableToArray":14,"./nonIterableSpread":17,"./unsupportedIterableToArray":24}],23:[function(e,t,r){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(e){return typeof e}:t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.exports=n},{}],24:[function(e,t,r){var n=e("./arrayLikeToArray");t.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},{"./arrayLikeToArray":1}],25:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":192}],26:[function(e,t,r){var i,n=e("extend"),a=((i={breakpointType:null,modsForInit:{},modules:{},modulesToIgnore:[],overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:document.documentElement.clientHeight,windowTopOffset:null,windowWidth:document.documentElement.clientWidth}).breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],{getOption:function(e){for(var t=e.split("."),r=0,n=i;r<t.length;r++)n=n[t[r]];return n},inspect:function(){return i},setOption:function(e){n(i,e)}});t.exports=a},{extend:38}],27:[function(e,t,r){var i,a=e("../../../src/js/events.js");function o(){var e=document.querySelector("#log OL");e.innerHTML="",e.parentNode.setAttribute("class","minimize show-information show-warning show-error");var t,r=document.querySelectorAll("#log FORM STRONG");for(t=0;t<r.length;t++)r[t].innerHTML="0",r[t].nextElementSibling.setAttribute("checked",!0);l({message:"[log.emptyLog]: debug logger emptied",type:"information"})}function s(e){l({message:e,type:"information"})}function n(e){l({message:e,type:"error"})}function l(e){if(document.getElementById("log")){var t=document.querySelectorAll("#log OL LI").length,r=document.createElement("LI"),n=document.querySelector("#log OL LI"),i=document.createElement("STRONG");r.setAttribute("class","log-"+e.type),r.innerHTML=t+1+". "+e.message,i.innerHTML=e.type+"&nbsp;",r.appendChild(i),document.querySelector("#log OL").insertBefore(r,n);var a=document.getElementById("log-"+e.type).previousElementSibling,o=a.innerHTML;o++,a.innerHTML=o}}t.exports={emptyLog:o,error:n,information:s,init:function(){var e=function(){if(location.search){var r={};try{location.search.replace("?","").split("&").forEach(function(e){var t=e.split("=");r[t[0]]=t[1]})}catch(e){n("[log.parseQueryString]: error parsing querystring, description="+e.description)}return r}}();"object"==typeof e&&e.hasOwnProperty("log")&&function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",window.TMCONFIG.frontendRoot+"/marwood/TM/scss/log.css"),document.querySelector("head").appendChild(e);var t=document.querySelector("BODY"),r=document.createElement("div");if(r.setAttribute("id","log"),r.setAttribute("class","minimize show-information show-warning show-error show-override"),r.innerHTML='<div class="inner">  <h4>Event log</h4>  <a data-resize="maximize" href="#">Maximize</a>  <a class="active" data-resize="minimize" href="#">Minimize</a>  <a data-reset="" href="#">Reset</a>  <form action="" method="">    <fieldset>      <ul>        <li>          <label class="filter-information" for="log-information"></label>          <strong>0</strong>          <input id="log-information" type="checkbox" checked="checked">        </li>        <li>          <label class="filter-warning" for="log-warning"></label>          <strong>0</strong>          <input id="log-warning" type="checkbox" checked="checked">        </li>        <li>          <label class="filter-error" for="log-error"></label>          <strong>0</strong>          <input type="checkbox" checked="checked" id="log-error">        </li>        <li>          <label class="filter-override" for="log-override"></label>          <strong>0</strong>          <input id="log-override" type="checkbox" checked="checked">        </li>      </ul>    </fieldset>  </form></div><ol></ol>',t.appendChild(r),i.showViewportDimensions){var n=document.createElement("p");n.setAttribute("id","viewport-dimensions"),t.appendChild(n),n.innerHTML=window.innerWidth+"px",window.addEventListener("resize",function(){n.innerHTML=window.innerWidth+"px"})}s("[log.create]"),i.enabled=!0,function(){var e=document.getElementById("log");l({message:"[log.eventsInit]",type:"information"}),function(r){a.delegate(r,"INPUT","click",function(e){var t=this.getAttribute("id").replace("log-","");switch(r.classList.contains("show-"+t)?"visible":"hidden"){case"visible":r.classList.remove("show-"+t);break;case"hidden":r.classList.add("show-"+t)}})}(e),a.delegate(document.getElementById("log"),"A[data-reset]","click",function(e){e.preventDefault(),o()}),function(r){var n=r.querySelector("OL");a.delegate(r,"A[data-resize]","click",function(e){e.preventDefault();var t=this.getAttribute("data-resize");r.classList.remove("minimize"),r.classList.remove("maximize"),r.classList.add(t),n.style.height=i.heights[t],l({message:"[log.eventsInit]: "+t+"d",type:"information"})})}(e)}()}()},options:i={enabled:!1,heights:{maximize:"500px",minimize:"250px"},showViewportDimensions:!0},override:function(e){l({message:e,type:"override"})},warning:function(e){l({message:e,type:"warning"})}}},{"../../../src/js/events.js":30}],28:[function(e,t,r){t.exports={component:e("./component.js"),config:e("../../config/src/js/config.js"),events:e("./events.js"),log:e("../../log/src/js/log.js")}},{"../../config/src/js/config.js":26,"../../log/src/js/log.js":27,"./component.js":29,"./events.js":30}],29:[function(e,t,r){var n=e("./events.js");t.exports={create:function(t){return t=t||{},{init:function(e){t.init&&t.init(e),e.setAttribute("data-init",!0)}}},activate:function(e){n.fire(e,"component.activate")}}},{"./events.js":30}],30:[function(e,t,r){function u(e){return[].slice.call(e)}function n(t,e,r,n){if(n=n||{},t.addEventListener(e,r),t.dataEvents){var i=t.dataEvents[e];if(i)if(n.purgeEventData)for(;0<i.length;)r.call(t,{data:i.shift(),target:t});else i.forEach(function(e){r.call(t,{data:e,target:t})})}}function i(e,t,r){e.dataEvents=e.dataEvents||{},e.dataEvents[t]=e.dataEvents[t]||[],e.dataEvents[t].push(r)}var a;t.exports=(a="DOMContentLoaded",{delegate:function(e,t,r,n,i){i=i||{},t=t.split(","),void 0===e.length&&(e=[e]),e.forEach||(e=u(e)),e.forEach(function(l){l.addEventListener(r,function(e){var s=[];t.forEach(function(e){var t,r,n,i,a,o;s=">"===e.substr(0,1)?(n=s,a=e,o=(o=u((i=l).querySelectorAll(a.substr(1)))).filter(function(e){return e.parentNode===i}),n.concat(o)):(t=l,r=e,s.concat(u(t.querySelectorAll(r))))}),function e(t,r,n,i,a,o){if(r!==n){var s=i.indexOf(r);-1!==s&&(a.call(i[s],t),o.preventDefault&&t.preventDefault()),e(t,r.parentNode,n,i,a,o)}else o.stopPropagation&&t.stopPropagation()}(e,e.target,l,s,n,i)})})},domReady:function(e){"complete"===document.readyState||"loaded"===document.readyState?(i(document,a),i(window,"load")):"interactive"===document.readyState&&i(document,a),document.addEventListener?n(document,a,e):n(window,"load",e)},fire:function(e,t,r){var n;r=r||{},document.createEvent?((n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),n.data=r,e.dispatchEvent(n)):document.createEventObject&&((n=document.createEventObject()).data=r,e.fireEvent("on"+t,n)),i(e,t,r)},listen:n})},{}],31:[function(e,t,r){"use strict";var n,i=e("extend"),a=e("./impr-tracker.js"),o=e("@trinitymirrordigital/chameleon-core").events,s=(n={speed:1,manualScrollSpeed:50,isLoop:!0,frameRate:24,orientation:"vertical",isMobile:/iPhone|iPad|iPod|Android|BlackBerry|Windows Phone|webOS/i.test(window.navigator.userAgent),autoScrollDelay:4e3,isDelayRequired:!1},{init:function(e){var t={};i(t,n,e),t.isHorizontal=t.orientation.match(/horizontal/),t.scrollContainer=document.body.querySelector(t.containerSelector),t.scrollListing=t.scrollContainer.querySelector(t.listingSelector),t.autoScrollDelay=t.isDelayRequired?t.autoScrollDelay:0,t.isHorizontal&&(t.leftArrowElement=t.scrollContainer.querySelector(t.leftArrow),t.rightArrowElement=t.scrollContainer.querySelector(t.rightArrow),t.isLoop&&function(e){var t=e.scrollListing.childNodes,r=t.length-1,n=0,i=0,a=0;for(e.visibleElements=Math.ceil(window.innerWidth/e.listItemWidth)+1,e.visibleElements&&(i=Math.floor(e.visibleElements/2),a=e.visibleElements%2?i+1:i),n=0;n<i;n++)e.scrollListing.insertAdjacentElement("afterbegin",b(t[r].cloneNode(!0)));for(n=0;n<a;n++)e.scrollListing.insertAdjacentElement("beforeend",b(t[n+i].cloneNode(!0)));var o=e.listItemWidth*e.scrollListing.childNodes.length;e.scrollListing.style.width=o+"px"}(t)),l(t),o.listen(window,"scroll.stop",function(){var e;e=t,a.percInViewport(e.scrollContainer,null,1)?e.scrollStopped&&(u(e),p(null,e)):(e.scrollStopped=!0,u(e))})}});function l(t){var e=t.scrollListing;t.isHorizontal?(t.scrollType="scrollLeft",t.containerDimension=t.scrollContainer.clientWidth,t.listingDimension=e.clientWidth,t.scrollLimit=t.listingDimension-t.containerDimension,t.leftArrowElement&&t.leftArrowElement.addEventListener("click",function(e){!function(e,t){d(t);var r=t.scrollContainer[t.scrollType],n=r-t.listItemWidth;r<t.listItemWidth&&(t.scrollContainer[t.scrollType]=t.listingDimension-(t.visibleElements-1)*t.listItemWidth-t.leftArrowElement.clientWidth,r=t.scrollContainer[t.scrollType],n=t.scrollContainer[t.scrollType]-t.listItemWidth);f(t.rightInterval),f(t.leftInterval),t.leftInterval=setInterval(function(){r-=t.manualScrollSpeed,n<r?t.scrollContainer[t.scrollType]=r:(t.scrollContainer[t.scrollType]=n,f(t.leftInterval))},t.intervalDelay),e&&e.preventDefault()}(e,t)}),t.rightArrowElement&&t.rightArrowElement.addEventListener("click",function(e){!function(e,t){var r=t.scrollContainer[t.scrollType],n=r+t.listItemWidth;n=n>t.listingDimension-(t.containerDimension+30)?(t.scrollContainer[t.scrollType]=r%t.listItemWidth,r=t.scrollContainer[t.scrollType],t.scrollContainer[t.scrollType]+t.listItemWidth):(d(t),r=t.scrollContainer[t.scrollType],r+t.listItemWidth);f(t.leftInterval),f(t.rightInterval),t.rightInterval=setInterval(function(){(r+=t.manualScrollSpeed)<n?t.scrollContainer[t.scrollType]=r:(t.scrollContainer[t.scrollType]=n,f(t.rightInterval))},t.intervalDelay),e&&e.preventDefault()}(e,t)})):(t.scrollType="scrollTop",t.containerDimension=t.scrollContainer.clientHeight,t.listingDimension=e.clientHeight),t.intervalDelay=Math.floor(1e3/t.frameRate),t.initialScroll=!0,p(null,t),t.scrollContainer.addEventListener("mouseover",function(e){c(e,t)}),t.scrollContainer.addEventListener("mouseout",function(e){p(e,t)}),t.scrollContainer.addEventListener("touchenter",function(e){c(e,t)}),t.scrollContainer.addEventListener("touchleave",function(e){p(e,t)})}function u(e,t){f(e.interval,t),f(e.waitInterval,t)}function c(e,t){f(t.waitInterval,e),t.scrollStopped=!0,f(t.interval,e)}function d(e){var t,r=e.scrollContainer[e.scrollType];t=e.listItemWidth-r%e.listItemWidth-e.leftArrowElement.clientWidth,e.scrollContainer[e.scrollType]=e.scrollContainer[e.scrollType]+t}function f(e,t){e&&clearInterval(e),t&&t.preventDefault()}function p(e,n){n.waitInterval=setInterval(function(){var t,r;(n.scrollStopped||n.initialScroll)&&(n.scrollContainer[n.scrollType]+=n.speed,t=e,(r=n).interval=setInterval(function(){var e;r.scrollContainer[r.scrollType]<r.listingDimension-r.containerDimension?r.scrollContainer[r.scrollType]+=r.speed:r.scrollContainer[r.scrollType]=2*r.listItemWidth+r.manualScrollSpeed,(e=r).isMobile?e.additionalWidth=Math.ceil((window.innerWidth-e.listItemWidth)/2):e.additionalWidth=e.leftArrowElement?e.leftArrowElement.clientWidth:0,r.extraScrolled=(r.scrollContainer[r.scrollType]+r.additionalWidth)%r.listItemWidth,r.extraScrolled<=r.speed&&(r.scrollContainer[r.scrollType]-=r.extraScrolled,r.scrollStopped=!0,f(r.interval),f(r.waitInterval),o.fire(document.body,"autoscroll.impression.tracking"),p(t,r))},r.intervalDelay),t&&t.preventDefault(),n.initialScroll=!1,n.scrollStopped=!1)},n.autoScrollDelay)}function b(e){return e.removeAttribute("data-impr-tracking"),e}t.exports=s},{"./impr-tracker.js":32,"@trinitymirrordigital/chameleon-core":28,extend:38}],32:[function(e,t,r){"use strict";var n,i,a,o,s,l,u=e("@trinitymirrordigital/chameleon-core").events,c={init:function(e,t){var r={};r.selector=e||"[data-impr-tracking]:not([data-tracked])",r.visiblePerc=t||99,f(r),u.listen(window,"scroll.stop",function(){f(r)}),u.listen(window,"resize.stop",function(){f(r)}),u.listen(document.body,"autoscroll.impression.tracking",function(){f(r)}),u.delegate(document.body,"[data-scroll]","click",function(){f(r)})},percInViewport:d};function d(e,t,r){return n=t?t.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},i=e.getBoundingClientRect(),a=Math.min(i.right,n.right)-Math.max(i.left,n.left),o=Math.min(i.bottom,n.bottom)-Math.max(i.top,n.top),s=a/i.width*100,l=o/i.height*100,r<s&&r<l}function f(t){var e,r=null,n=null;(e=t).elements=document.querySelectorAll(e.selector),[].forEach.call(t.elements,function(e){(r=e.getAttribute("data-container-selector"))?(n=document.querySelector(r),d(e,n,t.visiblePerc)&&d(e,null,t.visiblePerc)&&p(e)):d(e,null,t.visiblePerc)&&p(e)})}function p(e){var t,r,n={el:e};r=(t=n).el.getAttribute("data-config"),t.data=r&&JSON.parse(r)||!1,u.fire(e,"data.impression.tracking",n),e.setAttribute("data-tracked","true")}t.exports=c},{"@trinitymirrordigital/chameleon-core":28}],33:[function(e,t,r){"use strict";var c=e("@trinitymirrordigital/chameleon-core").log,d=e("../../lib/tea.js");t.exports=function(e,r){var i,a,n,t,o,s=window.localStorage,l="window.onresize";function u(){var t;if(a&&i){if(t=s.getItem(i),n&&t)try{t=d.decrypt(t,l)}catch(e){c.warning("[localStorage] can't decrypt data "+e),t=""}try{t=JSON.parse(t)}catch(e){c.warning("[localStorage] can't parse data (getData) "+e),t=r.expectObject?{}:null}return t}}return t=e,o=(r=r||{}).encrypted,i||(n=!!o,i=t,(a=function(){var e="test";if(void 0===s)return!1;try{return s.setItem(e,e),s.removeItem(e),!0}catch(e){return!1}}())&&c.information("[localStorage] initialized with key: ["+i+"]")),{deleteItem:function(t){var e;if(a&&i){e=u();try{delete e[t],s.setItem(i,JSON.stringify(e))}catch(e){c.warning("Can't delete item:["+t+"] "+e)}}},destroy:function(){a&&i&&(s.removeItem(i),i=null)},getItem:function(t){var r,n=null;if(a&&i){r=u();try{n=JSON.parse(r[t])}catch(e){r&&(n=r[t])}return n}},getRawData:function(){var e;if(a&&i)return e=s.getItem(i),n&&(e=d.decrypt(e,l)),e},setItem:function(e,t){var r;if(a&&i)if("string"==typeof e)if((r=u()||{})[e]=t,n)try{s.setItem(i,d.encrypt(JSON.stringify(r),l))}catch(e){c.warning("[localStorage] can't setItem "+e)}else try{s.setItem(i,JSON.stringify(r))}catch(e){c.warning("[localStorage] can't setItem "+e)}else c.error("[localStorage] key has to be a string")},setRawData:function(e){a&&i&&(n&&(e=d.encrypt(e,l)),s.setItem(i,e))}}}},{"../../lib/tea.js":35,"@trinitymirrordigital/chameleon-core":28}],34:[function(e,t,r){"use strict";var i=e("@trinitymirrordigital/chameleon-core").config,a=e("@trinitymirrordigital/chameleon-core").log,n=e("./localstore.js"),o=e("./impr-tracker.js"),s=e("./auto-scroll.js"),l=window.Promise&&-1!==window.Promise.toString().indexOf("[native code]")?window.Promise:e("promise-polyfill");function u(e){return e.match(/mod-(\S+)/g)[0]}function c(e,t){return e.matches?e.matches(t):e.msMatchesSelector?e.msMatchesSelector(t):!!e.webkitMatchesSelector&&e.webkitMatchesSelector(t)}t.exports={ajax:function(t,e,r){if(t&&e){r=r||{};try{var n=new XMLHttpRequest;n.open(r.method||"get",t,!r.sync),r.headers&&Object.keys(r.headers).forEach(function(e){n.setRequestHeader(e,r.headers[e])}),n.send(r.data||null),n.onload=function(){4===n.readyState&&(200===n.status?e(n):r.errorCallback&&r.errorCallback(n))}}catch(e){a.information("[utilities.ajax]: error retrieving "+t+", description="+e.description)}}else a.error("[utilities.xhr]: missing required pramaeters")},ajaxPromise:function(n,i){return new l(function(e,t){if(!n)return a.error("[xhr]: missing required parameters"),void t("missing required parameters");i=i||{};try{var r=new XMLHttpRequest;r.open(i.method||"get",n,!i.sync),i.headers&&Object.keys(i.headers).forEach(function(e){r.setRequestHeader(e,i.headers[e])}),r.send(i.data||null),r.onload=function(){(4===r.readyState&&200===r.status?e:t)(r)}}catch(e){a.information("[ajax]: error retrieving "+n+", description="+e.description),t(e)}})},debounce:function(n,i,a){var o;return function(){var e=this,t=arguments,r=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||n.apply(e,t)},i),r&&n.apply(e,t)}},defer:function(e){var r=void 0,n=void 0,t=new l(function(e,t){r=e,n=t});if(t.resolve=r,t.reject=n,e){var i=setTimeout(function(){t.reject("timeout expired")},e);t.then(function(){clearTimeout(i)})}return t},executeWhenAvailable:function e(t,r,n,i,a,o){var s=window[t];i=i||100,a=a||2e4/i,o=o||0,r&&(!s&&o<a?(o+=1,setTimeout(function(){e(t,r,n,i,a,o)},i)):n&&"function"==typeof window[n][r]?window[n][r]():"function"==typeof r&&r())},findAncestor:function(e,t){for(;!c(e,t);){if(!e.parentNode)return null;e=e.parentNode}return e},getBreakpoint:function(e){e=e||window.innerWidth;var t,r=i.getOption("breakpoints"),n=r.length;for(t=0;t<n;t++)if(e<r[t].width)return r[t-1].name;return r[n-1].name},getCookie:function(e){return(e=(document.cookie+";").match(new RegExp(e+"=.*;")))&&e[0].split(/=|;/)[1]},getElementIndex:function(e){for(var t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t},getModClass:u,getModType:function(e){return u(e).replace("mod-","")},getQueryParam:function(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},jsonp:function(e,t,r){var n="jsonp"+Math.round(1000001*Math.random());e=e||"",r=r||function(){},"function"==typeof(t=t||"")&&(r=t,t="callback"),window[n]=function(e){r(e),delete window[n]},-1===e.indexOf("?")?e+="?":e+="&";var i=document.createElement("script");i.setAttribute("src",e+t+"="+n),document.getElementsByTagName("head")[0].appendChild(i)},log:a,matches:c,nodeListToArray:function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r[t]=e[t];return r},processScripts:function(e){if(e){var t,r,n=e.querySelectorAll("script"),i=n.length;for(t=0;t<i;t++)r=document.createElement("script"),n[t].hasAttribute("src")?r.setAttribute("src",n[t].src):r.innerText=n[t].innerText,n[t].parentNode.replaceChild(r,n[t])}},shuffleArray:function(e){var t=0,r=0,n=null;for(t=e.length-1;0<t;t--)r=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[r],e[r]=n;return e},uid:function(){return(new Date).getTime().toString()+Math.random().toString().replace(".","-")},windowOffsets:function(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}},stringify:function(){return""},promise:l,LocalStore:n,sessionStorageEnabled:function(){var e=window.sessionStorage;try{return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},ImprTracker:o,autoScroll:s}},{"./auto-scroll.js":31,"./impr-tracker.js":32,"./localstore.js":33,"@trinitymirrordigital/chameleon-core":28,"promise-polyfill":36}],35:[function(e,t,r){(function(e){"use strict";var a={encrypt:function(e,t){if(e=String(e),t=String(t),0==e.length)return"";var r=a.strToLongs(e.utf8Encode()),n=a.strToLongs(t.utf8Encode().slice(0,16));r.length;return r=a.encode(r,n),a.longsToStr(r).base64Encode()},decrypt:function(e,t){if(e=String(e),t=String(t),0==e.length)return"";var r=a.strToLongs(e.base64Decode()),n=a.strToLongs(t.utf8Encode().slice(0,16));r.length;r=a.decode(r,n);var i=a.longsToStr(r);return(i=i.replace(/\0+$/,"")).utf8Decode()},encode:function(e,t){e.length<2&&(e[1]=0);for(var r,n,i=e.length,a=e[i-1],o=e[0],s=Math.floor(6+52/i),l=0;0<s--;){n=(l+=2654435769)>>>2&3;for(var u=0;u<i;u++)r=(a>>>5^(o=e[(u+1)%i])<<2)+(o>>>3^a<<4)^(l^o)+(t[3&u^n]^a),a=e[u]+=r}return e},decode:function(e,t){for(var r,n,i=e.length,a=e[i-1],o=e[0],s=2654435769,l=Math.floor(6+52/i)*s;0!=l;){n=l>>>2&3;for(var u=i-1;0<=u;u--)r=((a=e[0<u?u-1:i-1])>>>5^o<<2)+(o>>>3^a<<4)^(l^o)+(t[3&u^n]^a),o=e[u]-=r;l-=s}return e},strToLongs:function(e){for(var t=new Array(Math.ceil(e.length/4)),r=0;r<t.length;r++)t[r]=e.charCodeAt(4*r)+(e.charCodeAt(4*r+1)<<8)+(e.charCodeAt(4*r+2)<<16)+(e.charCodeAt(4*r+3)<<24);return t},longsToStr:function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=String.fromCharCode(255&e[r],e[r]>>>8&255,e[r]>>>16&255,e[r]>>>24&255);return t.join("")}};void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(e){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==e)return new e(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==e)return new e(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),t.exports=a}).call(this,e("buffer").Buffer)},{buffer:39}],36:[function(e,p,t){(function(e){function n(){}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function i(r,n){for(;3===r._state;)r=r._value;0!==r._state?(r._handled=!0,d(function(){var e=1===r._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(r._value)}catch(e){return void s(n.promise,e)}o(n.promise,t)}else(1===r._state?o:s)(n.promise,r._value)})):r._deferreds.push(n)}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"==typeof r)return void c((n=r,i=e,function(){n.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){s(t,e)}var n,i}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&d(function(){e._handled||f(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)i(e,e._deferreds[t]);e._deferreds=null}function u(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function c(e,t){var r=!1;try{e(function(e){r||(r=!0,o(t,e))},function(e){r||(r=!0,s(t,e))})}catch(e){if(r)return;r=!0,s(t,e)}}var t,r,d,f;t=this,r=setTimeout,d="function"==typeof e&&e||function(e){r(e,0)},f=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var r=new this.constructor(n);return i(this,new u(e,t,r)),r},a.all=function(e){var s=Array.prototype.slice.call(e);return new a(function(n,i){if(0===s.length)return n([]);var a=s.length;function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return void r.call(e,function(e){o(t,e)},i)}s[t]=e,0==--a&&n(s)}catch(e){i(e)}}for(var e=0;e<s.length;e++)o(e,s[e])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(r){return new a(function(e,t){t(r)})},a.race=function(i){return new a(function(e,t){for(var r=0,n=i.length;r<n;r++)i[r].then(e,t)})},a._setImmediateFn=function(e){d=e},a._setUnhandledRejectionFn=function(e){f=e},void 0!==p&&p.exports?p.exports=a:t.Promise||(t.Promise=a)}).call(this,e("timers").setImmediate)},{timers:193}],37:[function(e,t,r){"use strict";r.byteLength=function(e){var t=d(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=d(e),i=n[0],a=n[1],o=new c(function(e,t){return 3*(e+t)/4-t}(i,a)),s=0,l=0<a?i-4:i;for(r=0;r<l;r+=4)t=u[e.charCodeAt(r)]<<18|u[e.charCodeAt(r+1)]<<12|u[e.charCodeAt(r+2)]<<6|u[e.charCodeAt(r+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;2===a&&(t=u[e.charCodeAt(r)]<<2|u[e.charCodeAt(r+1)]>>4,o[s++]=255&t);1===a&&(t=u[e.charCodeAt(r)]<<10|u[e.charCodeAt(r+1)]<<4|u[e.charCodeAt(r+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t);return o},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],a=0,o=r-n;a<o;a+=16383)i.push(l(e,a,o<a+16383?o:a+16383));1==n?(t=e[r-1],i.push(s[t>>2]+s[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],i.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return i.join("")};for(var s=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)s[i]=n[i],u[n.charCodeAt(i)]=i;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var n,i,a=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(s[(i=n)>>18&63]+s[i>>12&63]+s[i>>6&63]+s[63&i]);return a.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],38:[function(e,t,r){"use strict";function p(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)}function b(e){if(e&&"[object Object]"===a.call(e)){var t,r=i.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(!e.constructor||r||n){for(t in e);return void 0===t||i.call(e,t)}}}function m(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue}function h(e,t){if("__proto__"===t){if(!i.call(e,t))return;if(o)return o(e,t).value}return e[t]}var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor;t.exports=function e(t,r){var n,i,a,o,s,l,u=t,c=1,d=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=r||{},c=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});c<d;++c)if(null!=(n=arguments[c]))for(i in n)a=h(u,i),u!==(o=h(n,i))&&(f&&o&&(b(o)||(s=p(o)))?(l=s?(s=!1,a&&p(a)?a:[]):a&&b(a)?a:{},m(u,{name:i,newValue:e(f,l,o)})):void 0!==o&&m(u,{name:i,newValue:o}));return u}},{}],39:[function(e,t,M){(function(d){"use strict";var n=e("base64-js"),a=e("ieee754");M.Buffer=d,M.SlowBuffer=function(e){+e!=e&&(e=0);return d.alloc(+e)},M.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(r<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=d.prototype,t}function d(e,t,r){if("number"!=typeof e)return i(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}function i(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|f(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=d.prototype,n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return d.from(n,t,r);var i=function(e){if(d.isBuffer(e)){var t=0|c(e.length),r=o(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(void 0!==e.length)return"number"!=typeof e.length||N(e.length)?o(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return s(e),o(e<0?0:0|c(e))}function u(e){for(var t=e.length<0?0:0|c(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e){if(r<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return T(e).length;default:if(i)return n?-1:I(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),N(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=d.from(t,n)),d.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s/=o=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(s<r+l&&(r=s-l),a=r;0<=a;a--){for(var d=!0,f=0;f<l;f++)if(u(e,a+f)!==u(t,f)){d=!1;break}if(d)return a}return-1}function h(e,t,r,n){r=Number(r)||0;var i=e.length-r;(!n||i<(n=Number(n)))&&(n=i);var a=t.length;a/2<n&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(N(s))return o;e[r+o]=s}return o}function v(e,t,r,n){return E(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function g(e,t,r,n){return E(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function y(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function w(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,u=e[i],c=null,d=239<u?4:223<u?3:191<u?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(a=e[i+1]))&&127<(l=(31&u)<<6|63&a)&&(c=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&2047<(l=(15&u)<<12|(63&a)<<6|63&o)&&(l<55296||57343<l)&&(c=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,d=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return function(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=j));return r}(n)}M.kMaxLength=r,(d.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=function(e,t,r){return i(e,t,r)},d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,d.alloc=function(e,t,r){return i=t,a=r,s(n=e),n<=0||void 0===i?o(n):"string"==typeof a?o(n).fill(i,a):o(n).fill(i);var n,i,a},d.allocUnsafe=function(e){return l(e)},d.allocUnsafeSlow=function(e){return l(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(B(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var r;if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;var n=d.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(B(a,Uint8Array)&&(a=d.from(a)),!d.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},d.byteLength=f,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?w(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return _(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return y(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",t=M.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},d.prototype.compare=function(e,t,r,n,i){if(B(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=t)return 0;if(i<=n)return-1;if(r<=t)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,i),u=e.slice(t,r),c=0;c<s;++c)if(l[c]!==u[c]){a=l[c],o=u[c];break}return a<o?-1:o<a?1:0},d.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},d.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},d.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},d.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||i<r)&&(r=i),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var a,o,s,l,u,c,d=!1;;)switch(n){case"hex":return h(this,e,t,r);case"utf8":case"utf-8":return u=t,c=r,E(I(e,(l=this).length-u),l,u,c);case"ascii":return v(this,e,t,r);case"latin1":case"binary":return v(this,e,t,r);case"base64":return a=this,o=t,s=r,E(T(e),a,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,e,t,r);default:if(d)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function _(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||n<r)&&(r=n);for(var i="",a=t;a<r;++a)i+=x(e[a]);return i}function O(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function S(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,a){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function A(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,i){return t=+t,r>>>=0,i||A(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function k(e,t,r,n,i){return t=+t,r>>>=0,i||A(e,0,r,8),a.write(e,t,r,n,52,8),r+8}d.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=d.prototype,n},d.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},d.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e+--t],i=1;0<t&&(i*=256);)n+=this[e+--t]*i;return n},d.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*t)),n},d.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=t,i=1,a=this[e+--n];0<n&&(i*=256);)a+=this[e+--n]*i;return(i*=128)<=a&&(a-=Math.pow(2,8*t)),a},d.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||S(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt16BE=function(e,t){e>>>=0,t||S(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),a.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),a.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),a.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),a.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},d.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;0<=--i&&(a*=256);)this[t+i]=e/a&255;return t+r},d.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},d.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;0<=--a&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},d.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},d.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},d.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},d.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},d.prototype.copy=function(e,t,r,n){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),t=t||0,0<n&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var a=i-1;0<=a;--a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},d.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!d.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(a=t;a<r;++a)this[a]=e;else{var o=d.isBuffer(e)?e:d.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var t=/[^+/0-9A-Za-z-_]/g;function x(e){return e<16?"0"+e.toString(16):e.toString(16)}function I(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&a.push(239,191,189);continue}if(o+1===n){-1<(t-=3)&&a.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&a.push(239,191,189);if(i=null,r<128){if(--t<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function T(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function E(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function N(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":37,buffer:39,ieee754:40}],40:[function(e,t,r){r.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-c)-1,p>>=-c,c+=s;0<c;a=256*a+e[t+d],d+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;0<c;o=256*o+e[t+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=u}return(p?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,b=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(t+=1<=o+d?f/l:f*Math.pow(2,1-d))*l&&(o++,l/=2),c<=o+d?(s=0,o=c):1<=o+d?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));8<=i;e[r+p]=255&s,p+=b,s/=256,i-=8);for(o=o<<i|s,u+=i;0<u;e[r+p]=255&o,p+=b,o/=256,u-=8);e[r+p-b]|=128*m}},{}],41:[function(e,t,r){var n=e("./_getNative")(e("./_root"),"DataView");t.exports=n},{"./_getNative":107,"./_root":144}],42:[function(e,t,r){var n=e("./_hashClear"),i=e("./_hashDelete"),a=e("./_hashGet"),o=e("./_hashHas"),s=e("./_hashSet");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},{"./_hashClear":113,"./_hashDelete":114,"./_hashGet":115,"./_hashHas":116,"./_hashSet":117}],43:[function(e,t,r){var n=e("./_listCacheClear"),i=e("./_listCacheDelete"),a=e("./_listCacheGet"),o=e("./_listCacheHas"),s=e("./_listCacheSet");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},{"./_listCacheClear":125,"./_listCacheDelete":126,"./_listCacheGet":127,"./_listCacheHas":128,"./_listCacheSet":129}],44:[function(e,t,r){var n=e("./_getNative")(e("./_root"),"Map");t.exports=n},{"./_getNative":107,"./_root":144}],45:[function(e,t,r){var n=e("./_mapCacheClear"),i=e("./_mapCacheDelete"),a=e("./_mapCacheGet"),o=e("./_mapCacheHas"),s=e("./_mapCacheSet");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},{"./_mapCacheClear":130,"./_mapCacheDelete":131,"./_mapCacheGet":132,"./_mapCacheHas":133,"./_mapCacheSet":134}],46:[function(e,t,r){var n=e("./_getNative")(e("./_root"),"Promise");t.exports=n},{"./_getNative":107,"./_root":144}],47:[function(e,t,r){var n=e("./_getNative")(e("./_root"),"Set");t.exports=n},{"./_getNative":107,"./_root":144}],48:[function(e,t,r){var n=e("./_MapCache"),i=e("./_setCacheAdd"),a=e("./_setCacheHas");function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,t.exports=o},{"./_MapCache":45,"./_setCacheAdd":145,"./_setCacheHas":146}],49:[function(e,t,r){var n=e("./_ListCache"),i=e("./_stackClear"),a=e("./_stackDelete"),o=e("./_stackGet"),s=e("./_stackHas"),l=e("./_stackSet");function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,t.exports=u},{"./_ListCache":43,"./_stackClear":150,"./_stackDelete":151,"./_stackGet":152,"./_stackHas":153,"./_stackSet":154}],50:[function(e,t,r){var n=e("./_root").Symbol;t.exports=n},{"./_root":144}],51:[function(e,t,r){var n=e("./_root").Uint8Array;t.exports=n},{"./_root":144}],52:[function(e,t,r){var n=e("./_getNative")(e("./_root"),"WeakMap");t.exports=n},{"./_getNative":107,"./_root":144}],53:[function(e,t,r){t.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},{}],54:[function(e,t,r){t.exports=function(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}},{}],55:[function(e,t,r){t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}},{}],56:[function(e,t,r){var c=e("./_baseTimes"),d=e("./isArguments"),f=e("./isArray"),p=e("./isBuffer"),b=e("./_isIndex"),m=e("./isTypedArray"),h=Object.prototype.hasOwnProperty;t.exports=function(e,t){var r=f(e),n=!r&&d(e),i=!r&&!n&&p(e),a=!r&&!n&&!i&&m(e),o=r||n||i||a,s=o?c(e.length,String):[],l=s.length;for(var u in e)!t&&!h.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||b(u,l))||s.push(u);return s}},{"./_baseTimes":88,"./_isIndex":119,"./isArguments":167,"./isArray":168,"./isBuffer":170,"./isTypedArray":176}],57:[function(e,t,r){t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},{}],58:[function(e,t,r){t.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},{}],59:[function(e,t,r){t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},{}],60:[function(e,t,r){var i=e("./_baseAssignValue"),a=e("./eq"),o=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){var n=e[t];o.call(e,t)&&a(n,r)&&(void 0!==r||t in e)||i(e,t,r)}},{"./_baseAssignValue":63,"./eq":162}],61:[function(e,t,r){var n=e("./eq");t.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},{"./eq":162}],62:[function(e,t,r){var o=e("./_baseEach");t.exports=function(e,n,i,a){return o(e,function(e,t,r){n(a,e,i(e),r)}),a}},{"./_baseEach":64}],63:[function(e,t,r){var n=e("./_defineProperty");t.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},{"./_defineProperty":98}],64:[function(e,t,r){var n=e("./_baseForOwn"),i=e("./_createBaseEach")(n);t.exports=i},{"./_baseForOwn":67,"./_createBaseEach":96}],65:[function(e,t,r){var u=e("./_arrayPush"),c=e("./_isFlattenable");t.exports=function e(t,r,n,i,a){var o=-1,s=t.length;for(n=n||c,a=a||[];++o<s;){var l=t[o];0<r&&n(l)?1<r?e(l,r-1,n,i,a):u(a,l):i||(a[a.length]=l)}return a}},{"./_arrayPush":58,"./_isFlattenable":118}],66:[function(e,t,r){var n=e("./_createBaseFor")();t.exports=n},{"./_createBaseFor":97}],67:[function(e,t,r){var n=e("./_baseFor"),i=e("./keys");t.exports=function(e,t){return e&&n(e,t,i)}},{"./_baseFor":66,"./keys":177}],68:[function(e,t,r){var i=e("./_castPath"),a=e("./_toKey");t.exports=function(e,t){for(var r=0,n=(t=i(t,e)).length;null!=e&&r<n;)e=e[a(t[r++])];return r&&r==n?e:void 0}},{"./_castPath":93,"./_toKey":156}],69:[function(e,t,r){var i=e("./_arrayPush"),a=e("./isArray");t.exports=function(e,t,r){var n=t(e);return a(e)?n:i(n,r(e))}},{"./_arrayPush":58,"./isArray":168}],70:[function(e,t,r){var n=e("./_Symbol"),i=e("./_getRawTag"),a=e("./_objectToString"),o=n?n.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(o&&o in Object(e)?i:a)(e)}},{"./_Symbol":50,"./_getRawTag":108,"./_objectToString":141}],71:[function(e,t,r){t.exports=function(e,t){return null!=e&&t in Object(e)}},{}],72:[function(e,t,r){var n=e("./_baseGetTag"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},{"./_baseGetTag":70,"./isObjectLike":174}],73:[function(e,t,r){var o=e("./_baseIsEqualDeep"),s=e("./isObjectLike");t.exports=function e(t,r,n,i,a){return t===r||(null==t||null==r||!s(t)&&!s(r)?t!=t&&r!=r:o(t,r,n,i,e,a))}},{"./_baseIsEqualDeep":74,"./isObjectLike":174}],74:[function(e,t,r){var m=e("./_Stack"),h=e("./_equalArrays"),v=e("./_equalByTag"),g=e("./_equalObjects"),y=e("./_getTag"),w=e("./isArray"),j=e("./isBuffer"),C=e("./isTypedArray"),P="[object Arguments]",_="[object Array]",O="[object Object]",S=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,n,i,a){var o=w(e),s=w(t),l=o?_:y(e),u=s?_:y(t),c=(l=l==P?O:l)==O,d=(u=u==P?O:u)==O,f=l==u;if(f&&j(e)){if(!j(t))return!1;c=!(o=!0)}if(f&&!c)return a=a||new m,o||C(e)?h(e,t,r,n,i,a):v(e,t,l,r,n,i,a);if(!(1&r)){var p=c&&S.call(e,"__wrapped__"),b=d&&S.call(t,"__wrapped__");if(p||b)return i(p?e.value():e,b?t.value():t,r,n,a=a||new m)}return f&&(a=a||new m,g(e,t,r,n,i,a))}},{"./_Stack":49,"./_equalArrays":99,"./_equalByTag":100,"./_equalObjects":101,"./_getTag":110,"./isArray":168,"./isBuffer":170,"./isTypedArray":176}],75:[function(e,t,r){var p=e("./_Stack"),b=e("./_baseIsEqual");t.exports=function(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=r[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new p;if(n)var f=n(u,c,l,e,t,d);if(!(void 0===f?b(c,u,3,n,d):f))return!1}}return!0}},{"./_Stack":49,"./_baseIsEqual":73}],76:[function(e,t,r){var n=e("./isFunction"),i=e("./_isMasked"),a=e("./isObject"),o=e("./_toSource"),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!a(e)||i(e))&&(n(e)?f:s).test(o(e))}},{"./_isMasked":122,"./_toSource":157,"./isFunction":171,"./isObject":173}],77:[function(e,t,r){var n=e("./_baseGetTag"),i=e("./isLength"),a=e("./isObjectLike"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(e){return a(e)&&i(e.length)&&!!o[n(e)]}},{"./_baseGetTag":70,"./isLength":172,"./isObjectLike":174}],78:[function(e,t,r){var n=e("./_baseMatches"),i=e("./_baseMatchesProperty"),a=e("./identity"),o=e("./isArray"),s=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):n(e):s(e)}},{"./_baseMatches":80,"./_baseMatchesProperty":81,"./identity":166,"./isArray":168,"./property":183}],79:[function(e,t,r){var n=e("./_isPrototype"),i=e("./_nativeKeys"),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},{"./_isPrototype":123,"./_nativeKeys":139}],80:[function(e,t,r){var n=e("./_baseIsMatch"),i=e("./_getMatchData"),a=e("./_matchesStrictComparable");t.exports=function(t){var r=i(t);return 1==r.length&&r[0][2]?a(r[0][0],r[0][1]):function(e){return e===t||n(e,t,r)}}},{"./_baseIsMatch":75,"./_getMatchData":106,"./_matchesStrictComparable":136}],81:[function(e,t,r){var i=e("./_baseIsEqual"),a=e("./get"),o=e("./hasIn"),s=e("./_isKey"),l=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),c=e("./_toKey");t.exports=function(r,n){return s(r)&&l(n)?u(c(r),n):function(e){var t=a(e,r);return void 0===t&&t===n?o(e,r):i(n,t,3)}}},{"./_baseIsEqual":73,"./_isKey":120,"./_isStrictComparable":124,"./_matchesStrictComparable":136,"./_toKey":156,"./get":164,"./hasIn":165}],82:[function(e,t,r){var n=e("./_basePickBy"),i=e("./hasIn");t.exports=function(r,e){return n(r,e,function(e,t){return i(r,t)})}},{"./_basePickBy":83,"./hasIn":165}],83:[function(e,t,r){var l=e("./_baseGet"),u=e("./_baseSet"),c=e("./_castPath");t.exports=function(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=l(e,o);r(s,o)&&u(a,c(o,e),s)}return a}},{"./_baseGet":68,"./_baseSet":86,"./_castPath":93}],84:[function(e,t,r){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],85:[function(e,t,r){var n=e("./_baseGet");t.exports=function(t){return function(e){return n(e,t)}}},{"./_baseGet":68}],86:[function(e,t,r){var d=e("./_assignValue"),f=e("./_castPath"),p=e("./_isIndex"),b=e("./isObject"),m=e("./_toKey");t.exports=function(e,t,r,n){if(!b(e))return e;for(var i=-1,a=(t=f(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=m(t[i]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=n?n(c,l,s):void 0)&&(u=b(c)?c:p(t[i+1])?[]:{})}d(s,l,u),s=s[l]}return e}},{"./_assignValue":60,"./_castPath":93,"./_isIndex":119,"./_toKey":156,"./isObject":173}],87:[function(e,t,r){var n=e("./constant"),i=e("./_defineProperty"),a=e("./identity"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;t.exports=o},{"./_defineProperty":98,"./constant":160,"./identity":166}],88:[function(e,t,r){t.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},{}],89:[function(e,t,r){var n=e("./_Symbol"),i=e("./_arrayMap"),a=e("./isArray"),o=e("./isSymbol"),s=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},{"./_Symbol":50,"./_arrayMap":57,"./isArray":168,"./isSymbol":175}],90:[function(e,t,r){var n=e("./_trimmedEndIndex"),i=/^\s+/;t.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},{"./_trimmedEndIndex":158}],91:[function(e,t,r){t.exports=function(t){return function(e){return t(e)}}},{}],92:[function(e,t,r){t.exports=function(e,t){return e.has(t)}},{}],93:[function(e,t,r){var n=e("./isArray"),i=e("./_isKey"),a=e("./_stringToPath"),o=e("./toString");t.exports=function(e,t){return n(e)?e:i(e,t)?[e]:a(o(e))}},{"./_isKey":120,"./_stringToPath":155,"./isArray":168,"./toString":189}],94:[function(e,t,r){var n=e("./_root")["__core-js_shared__"];t.exports=n},{"./_root":144}],95:[function(e,t,r){var o=e("./_arrayAggregator"),s=e("./_baseAggregator"),l=e("./_baseIteratee"),u=e("./isArray");t.exports=function(i,a){return function(e,t){var r=u(e)?o:s,n=a?a():{};return r(e,i,l(t,2),n)}}},{"./_arrayAggregator":54,"./_baseAggregator":62,"./_baseIteratee":78,"./isArray":168}],96:[function(e,t,r){var s=e("./isArrayLike");t.exports=function(a,o){return function(e,t){if(null==e)return e;if(!s(e))return a(e,t);for(var r=e.length,n=o?r:-1,i=Object(e);(o?n--:++n<r)&&!1!==t(i[n],n,i););return e}}},{"./isArrayLike":169}],97:[function(e,t,r){t.exports=function(l){return function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[l?o:++n];if(!1===t(i[s],s,i))break}return e}}},{}],98:[function(e,t,r){var n=e("./_getNative"),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=i},{"./_getNative":107}],99:[function(e,t,r){var v=e("./_SetCache"),g=e("./_arraySome"),y=e("./_cacheHas");t.exports=function(e,t,r,n,i,a){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&s<l))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,p=2&r?new v:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var b=e[d],m=t[d];if(n)var h=o?n(m,b,d,t,e,a):n(b,m,d,e,t,a);if(void 0!==h){if(h)continue;f=!1;break}if(p){if(!g(t,function(e,t){if(!y(p,t)&&(b===e||i(b,e,r,n,a)))return p.push(t)})){f=!1;break}}else if(b!==m&&!i(b,m,r,n,a)){f=!1;break}}return a.delete(e),a.delete(t),f}},{"./_SetCache":48,"./_arraySome":59,"./_cacheHas":92}],100:[function(e,t,r){var n=e("./_Symbol"),d=e("./_Uint8Array"),f=e("./eq"),p=e("./_equalArrays"),b=e("./_mapToArray"),m=e("./_setToArray"),i=n?n.prototype:void 0,h=i?i.valueOf:void 0;t.exports=function(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return e.byteLength==t.byteLength&&a(new d(e),new d(t))?!0:!1;case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=b;case"[object Set]":var l=1&n;if(s=s||m,e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var c=p(s(e),s(t),n,i,a,o);return o.delete(e),c;case"[object Symbol]":if(h)return h.call(e)==h.call(t)}return!1}},{"./_Symbol":50,"./_Uint8Array":51,"./_equalArrays":99,"./_mapToArray":135,"./_setToArray":147,"./eq":162}],101:[function(e,t,r){var w=e("./_getAllKeys"),j=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,n,i,a){var o=1&r,s=w(e),l=s.length;if(l!=w(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:j.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var b=o;++u<l;){var m=e[c=s[u]],h=t[c];if(n)var v=o?n(h,m,c,t,e,a):n(m,h,c,e,t,a);if(!(void 0===v?m===h||i(m,h,r,n,a):v)){p=!1;break}b=b||"constructor"==c}if(p&&!b){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(p=!1)}return a.delete(e),a.delete(t),p}},{"./_getAllKeys":104}],102:[function(e,t,r){var n=e("./flatten"),i=e("./_overRest"),a=e("./_setToString");t.exports=function(e){return a(i(e,void 0,n),e+"")}},{"./_overRest":143,"./_setToString":148,"./flatten":163}],103:[function(e,r,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;r.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],104:[function(e,t,r){var n=e("./_baseGetAllKeys"),i=e("./_getSymbols"),a=e("./keys");t.exports=function(e){return n(e,a,i)}},{"./_baseGetAllKeys":69,"./_getSymbols":109,"./keys":177}],105:[function(e,t,r){var n=e("./_isKeyable");t.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},{"./_isKeyable":121}],106:[function(e,t,r){var a=e("./_isStrictComparable"),o=e("./keys");t.exports=function(e){for(var t=o(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,a(i)]}return t}},{"./_isStrictComparable":124,"./keys":177}],107:[function(e,t,r){var n=e("./_baseIsNative"),i=e("./_getValue");t.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},{"./_baseIsNative":76,"./_getValue":111}],108:[function(e,t,r){var n=e("./_Symbol"),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;t.exports=function(e){var t=a.call(e,s),r=e[s];try{var n=!(e[s]=void 0)}catch(e){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}},{"./_Symbol":50}],109:[function(e,t,r){var n=e("./_arrayFilter"),i=e("./stubArray"),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),n(o(t),function(e){return a.call(t,e)}))}:i;t.exports=s},{"./_arrayFilter":55,"./stubArray":184}],110:[function(e,t,r){var n=e("./_DataView"),i=e("./_Map"),a=e("./_Promise"),o=e("./_Set"),s=e("./_WeakMap"),l=e("./_baseGetTag"),u=e("./_toSource"),c="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",b="[object DataView]",m=u(n),h=u(i),v=u(a),g=u(o),y=u(s),w=l;(n&&w(new n(new ArrayBuffer(1)))!=b||i&&w(new i)!=c||a&&w(a.resolve())!=d||o&&w(new o)!=f||s&&w(new s)!=p)&&(w=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case m:return b;case h:return c;case v:return d;case g:return f;case y:return p}return t}),t.exports=w},{"./_DataView":41,"./_Map":44,"./_Promise":46,"./_Set":47,"./_WeakMap":52,"./_baseGetTag":70,"./_toSource":157}],111:[function(e,t,r){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],112:[function(e,t,r){var s=e("./_castPath"),l=e("./isArguments"),u=e("./isArray"),c=e("./_isIndex"),d=e("./isLength"),f=e("./_toKey");t.exports=function(e,t,r){for(var n=-1,i=(t=s(t,e)).length,a=!1;++n<i;){var o=f(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&d(i)&&c(o,i)&&(u(e)||l(e))}},{"./_castPath":93,"./_isIndex":119,"./_toKey":156,"./isArguments":167,"./isArray":168,"./isLength":172}],113:[function(e,t,r){var n=e("./_nativeCreate");t.exports=function(){this.__data__=n?n(null):{},this.size=0}},{"./_nativeCreate":138}],114:[function(e,t,r){t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],115:[function(e,t,r){var n=e("./_nativeCreate"),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},{"./_nativeCreate":138}],116:[function(e,t,r){var n=e("./_nativeCreate"),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},{"./_nativeCreate":138}],117:[function(e,t,r){var n=e("./_nativeCreate");t.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},{"./_nativeCreate":138}],118:[function(e,t,r){var n=e("./_Symbol"),i=e("./isArguments"),a=e("./isArray"),o=n?n.isConcatSpreadable:void 0;t.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},{"./_Symbol":50,"./isArguments":167,"./isArray":168}],119:[function(e,t,r){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&-1<e&&e%1==0&&e<t}},{}],120:[function(e,t,r){var n=e("./isArray"),i=e("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},{"./isArray":168,"./isSymbol":175}],121:[function(e,t,r){t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],122:[function(e,t,r){var n,i=e("./_coreJsData"),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(e){return!!a&&a in e}},{"./_coreJsData":94}],123:[function(e,t,r){var n=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},{}],124:[function(e,t,r){var n=e("./isObject");t.exports=function(e){return e==e&&!n(e)}},{"./isObject":173}],125:[function(e,t,r){t.exports=function(){this.__data__=[],this.size=0}},{}],126:[function(e,t,r){var n=e("./_assocIndexOf"),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},{"./_assocIndexOf":61}],127:[function(e,t,r){var n=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},{"./_assocIndexOf":61}],128:[function(e,t,r){var n=e("./_assocIndexOf");t.exports=function(e){return-1<n(this.__data__,e)}},{"./_assocIndexOf":61}],129:[function(e,t,r){var i=e("./_assocIndexOf");t.exports=function(e,t){var r=this.__data__,n=i(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}},{"./_assocIndexOf":61}],130:[function(e,t,r){var n=e("./_Hash"),i=e("./_ListCache"),a=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},{"./_Hash":42,"./_ListCache":43,"./_Map":44}],131:[function(e,t,r){var n=e("./_getMapData");t.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},{"./_getMapData":105}],132:[function(e,t,r){var n=e("./_getMapData");t.exports=function(e){return n(this,e).get(e)}},{"./_getMapData":105}],133:[function(e,t,r){var n=e("./_getMapData");t.exports=function(e){return n(this,e).has(e)}},{"./_getMapData":105}],134:[function(e,t,r){var i=e("./_getMapData");t.exports=function(e,t){var r=i(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}},{"./_getMapData":105}],135:[function(e,t,r){t.exports=function(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}},{}],136:[function(e,t,r){t.exports=function(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}}},{}],137:[function(e,t,r){var n=e("./memoize");t.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},{"./memoize":178}],138:[function(e,t,r){var n=e("./_getNative")(Object,"create");t.exports=n},{"./_getNative":107}],139:[function(e,t,r){var n=e("./_overArg")(Object.keys,Object);t.exports=n},{"./_overArg":142}],140:[function(e,t,r){var n=e("./_freeGlobal"),i="object"==typeof r&&r&&!r.nodeType&&r,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i&&n.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e?e:o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=s},{"./_freeGlobal":103}],141:[function(e,t,r){var n=Object.prototype.toString;t.exports=function(e){return n.call(e)}},{}],142:[function(e,t,r){t.exports=function(t,r){return function(e){return t(r(e))}}},{}],143:[function(e,t,r){var l=e("./_apply"),u=Math.max;t.exports=function(a,o,s){return o=u(void 0===o?a.length-1:o,0),function(){for(var e=arguments,t=-1,r=u(e.length-o,0),n=Array(r);++t<r;)n[t]=e[o+t];t=-1;for(var i=Array(o+1);++t<o;)i[t]=e[t];return i[o]=s(n),l(a,this,i)}}},{"./_apply":53}],144:[function(e,t,r){var n=e("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();t.exports=a},{"./_freeGlobal":103}],145:[function(e,t,r){t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},{}],146:[function(e,t,r){t.exports=function(e){return this.__data__.has(e)}},{}],147:[function(e,t,r){t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},{}],148:[function(e,t,r){var n=e("./_baseSetToString"),i=e("./_shortOut")(n);t.exports=i},{"./_baseSetToString":87,"./_shortOut":149}],149:[function(e,t,r){var a=Date.now;t.exports=function(r){var n=0,i=0;return function(){var e=a(),t=16-(e-i);if(i=e,0<t){if(800<=++n)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}},{}],150:[function(e,t,r){var n=e("./_ListCache");t.exports=function(){this.__data__=new n,this.size=0}},{"./_ListCache":43}],151:[function(e,t,r){t.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},{}],152:[function(e,t,r){t.exports=function(e){return this.__data__.get(e)}},{}],153:[function(e,t,r){t.exports=function(e){return this.__data__.has(e)}},{}],154:[function(e,t,r){var i=e("./_ListCache"),a=e("./_Map"),o=e("./_MapCache");t.exports=function(e,t){var r=this.__data__;if(r instanceof i){var n=r.__data__;if(!a||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(n)}return r.set(e,t),this.size=r.size,this}},{"./_ListCache":43,"./_Map":44,"./_MapCache":45}],155:[function(e,t,r){var n=e("./_memoizeCapped"),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(a,function(e,t,r,n){i.push(r?n.replace(o,"$1"):t||e)}),i});t.exports=i},{"./_memoizeCapped":137}],156:[function(e,t,r){var n=e("./isSymbol");t.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},{"./isSymbol":175}],157:[function(e,t,r){var n=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],158:[function(e,t,r){var n=/\s/;t.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},{}],159:[function(e,t,r){var n=e("./toInteger");t.exports=function(e,t){var r;if("function"!=typeof t)throw new TypeError("Expected a function");return e=n(e),function(){return 0<--e&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}},{"./toInteger":187}],160:[function(e,t,r){t.exports=function(e){return function(){return e}}},{}],161:[function(e,t,r){var g=e("./isObject"),y=e("./now"),w=e("./toNumber"),j=Math.max,C=Math.min;t.exports=function(n,i,e){var a,o,s,l,u,c,d=0,f=!1,p=!1,t=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=a,r=o;return a=o=void 0,d=e,l=n.apply(r,t)}function m(e){var t=e-c;return void 0===c||i<=t||t<0||p&&s<=e-d}function h(){var e,t,r=y();if(m(r))return v(r);u=setTimeout(h,(t=i-((e=r)-c),p?C(t,s-(e-d)):t))}function v(e){return u=void 0,t&&a?b(e):(a=o=void 0,l)}function r(){var e,t=y(),r=m(t);if(a=arguments,o=this,c=t,r){if(void 0===u)return d=e=c,u=setTimeout(h,i),f?b(e):l;if(p)return clearTimeout(u),u=setTimeout(h,i),b(c)}return void 0===u&&(u=setTimeout(h,i)),l}return i=w(i)||0,g(e)&&(f=!!e.leading,s=(p="maxWait"in e)?j(w(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),r.cancel=function(){void 0!==u&&clearTimeout(u),a=c=o=u=void(d=0)},r.flush=function(){return void 0===u?l:v(y())},r}},{"./isObject":173,"./now":179,"./toNumber":188}],162:[function(e,t,r){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],163:[function(e,t,r){var n=e("./_baseFlatten");t.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},{"./_baseFlatten":65}],164:[function(e,t,r){var i=e("./_baseGet");t.exports=function(e,t,r){var n=null==e?void 0:i(e,t);return void 0===n?r:n}},{"./_baseGet":68}],165:[function(e,t,r){var n=e("./_baseHasIn"),i=e("./_hasPath");t.exports=function(e,t){return null!=e&&i(e,t,n)}},{"./_baseHasIn":71,"./_hasPath":112}],166:[function(e,t,r){t.exports=function(e){return e}},{}],167:[function(e,t,r){var n=e("./_baseIsArguments"),i=e("./isObjectLike"),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};t.exports=l},{"./_baseIsArguments":72,"./isObjectLike":174}],168:[function(e,t,r){var n=Array.isArray;t.exports=n},{}],169:[function(e,t,r){var n=e("./isFunction"),i=e("./isLength");t.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},{"./isFunction":171,"./isLength":172}],170:[function(e,t,r){var n=e("./_root"),i=e("./stubFalse"),a="object"==typeof r&&r&&!r.nodeType&&r,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},{"./_root":144,"./stubFalse":185}],171:[function(e,t,r){var n=e("./_baseGetTag"),i=e("./isObject");t.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},{"./_baseGetTag":70,"./isObject":173}],172:[function(e,t,r){t.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},{}],173:[function(e,t,r){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],174:[function(e,t,r){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],175:[function(e,t,r){var n=e("./_baseGetTag"),i=e("./isObjectLike");t.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},{"./_baseGetTag":70,"./isObjectLike":174}],176:[function(e,t,r){var n=e("./_baseIsTypedArray"),i=e("./_baseUnary"),a=e("./_nodeUtil"),o=a&&a.isTypedArray,s=o?i(o):n;t.exports=s},{"./_baseIsTypedArray":77,"./_baseUnary":91,"./_nodeUtil":140}],177:[function(e,t,r){var n=e("./_arrayLikeKeys"),i=e("./_baseKeys"),a=e("./isArrayLike");t.exports=function(e){return(a(e)?n:i)(e)}},{"./_arrayLikeKeys":56,"./_baseKeys":79,"./isArrayLike":169}],178:[function(e,t,r){var n=e("./_MapCache"),s="Expected a function";function l(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new TypeError(s);var o=function(){var e=arguments,t=a?a.apply(this,e):e[0],r=o.cache;if(r.has(t))return r.get(t);var n=i.apply(this,e);return o.cache=r.set(t,n)||r,n};return o.cache=new(l.Cache||n),o}l.Cache=n,t.exports=l},{"./_MapCache":45}],179:[function(e,t,r){var n=e("./_root");t.exports=function(){return n.Date.now()}},{"./_root":144}],180:[function(e,t,r){var n=e("./before");t.exports=function(e){return n(2,e)}},{"./before":159}],181:[function(e,t,r){var n=e("./_createAggregator")(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});t.exports=n},{"./_createAggregator":95}],182:[function(e,t,r){var n=e("./_basePick"),i=e("./_flatRest")(function(e,t){return null==e?{}:n(e,t)});t.exports=i},{"./_basePick":82,"./_flatRest":102}],183:[function(e,t,r){var n=e("./_baseProperty"),i=e("./_basePropertyDeep"),a=e("./_isKey"),o=e("./_toKey");t.exports=function(e){return a(e)?n(o(e)):i(e)}},{"./_baseProperty":84,"./_basePropertyDeep":85,"./_isKey":120,"./_toKey":156}],184:[function(e,t,r){t.exports=function(){return[]}},{}],185:[function(e,t,r){t.exports=function(){return!1}},{}],186:[function(e,t,r){var n=e("./toNumber");t.exports=function(e){return e?(e=n(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},{"./toNumber":188}],187:[function(e,t,r){var n=e("./toFinite");t.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},{"./toFinite":186}],188:[function(e,t,r){var n=e("./_baseTrim"),i=e("./isObject"),a=e("./isSymbol"),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):o.test(e)?NaN:+e}},{"./_baseTrim":90,"./isObject":173,"./isSymbol":175}],189:[function(e,t,r){var n=e("./_baseToString");t.exports=function(e){return null==e?"":n(e)}},{"./_baseToString":89}],190:[function(e,t,r){"use strict";t.exports={set:function(e,t,n){{if(e&&"object"==typeof e){if("string"!=typeof t||""===t)return"number"==typeof t?(e[t]=n,e[t]):e;var i=t.split(".");return i.reduce(function(e,t,r){return e[t]=e[t]||{},i.length==r+1&&(e[t]=n),e[t]},e)}return e}},get:function(e,t){{return e&&"object"==typeof e?"string"!=typeof t||""===t?"number"==typeof t?e[t]:e:t.split(".").reduce(function(e,t){return e&&e[t]},e):e}},has:function(e,t,i){{return i=i||{},!(!e||"object"!=typeof e)&&("string"!=typeof t||""===t?"number"==typeof t&&t in e:t.split(".").reduce(function(e,t,r,n){return r==n.length-1?i.own?!(!e||!e.hasOwnProperty(t)):!!(null!==e&&"object"==typeof e&&t in e):e&&e[t]},e))}},hasOwn:function(e,t,r){return this.has(e,t,r||{own:!0})},isIn:function(e,t,r,n){{if(n=n||{},e&&"object"==typeof e){if("string"!=typeof t||""===t)return!1;var i,a=t.split("."),o=!1;return i=!!a.reduce(function(e,t){return o=o||e===r||!!e&&e[t]===r,e&&e[t]},e),n.validPath?o&&i:o}return!1}}}},{}],191:[function(e,t,r){var n,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,c=[],d=!1,f=-1;function p(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&b())}function b(){if(!d){var e=l(p);d=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||d||l(b)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],192:[function(e,t,r){var n=function(o){"use strict";var l,e=Object.prototype,c=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function s(e,t,r,n){var a,o,s,l,i=t&&t.prototype instanceof v?t:v,u=Object.create(i.prototype),c=new R(n||[]);return u._invoke=(a=e,o=r,s=c,l=f,function(e,t){if(l===b)throw new Error("Generator is already running");if(l===m){if("throw"===e)throw t;return D()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){var n=_(r,s);if(n){if(n===h)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===f)throw l=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=b;var i=d(a,o,s);if("normal"===i.type){if(l=s.done?m:p,i.arg===h)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(l=m,s.method="throw",s.arg=i.arg)}}),u}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=s;var f="suspendedStart",p="suspendedYield",b="executing",m="completed",h={};function v(){}function a(){}function u(){}var g={};g[i]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(A([])));w&&w!==e&&c.call(w,i)&&(g=w);var j=u.prototype=v.prototype=Object.create(g);function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function P(l,u){var t;this._invoke=function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,i){var a=d(l[e],l,r);if("throw"!==a.type){var o=a.arg,s=o.value;return s&&"object"==typeof s&&c.call(s,"__await")?u.resolve(s.__await).then(function(e){t("next",e,n,i)},function(e){t("throw",e,n,i)}):u.resolve(s).then(function(e){o.value=e,n(o)},function(e){return t("throw",e,n,i)})}i(a.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function _(e,t){var r=e.iterator[t.method];if(r===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,_(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=d(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(c.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=l,e.done=!0,e};return n.next=n}}return{next:D}}function D(){return{value:l,done:!0}}return a.prototype=j.constructor=u,u.constructor=a,u[n]=a.displayName="GeneratorFunction",o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,n in e||(e[n]="GeneratorFunction")),e.prototype=Object.create(j),e},o.awrap=function(e){return{__await:e}},C(P.prototype),P.prototype[r]=function(){return this},o.AsyncIterator=P,o.async=function(e,t,r,n,i){void 0===i&&(i=Promise);var a=new P(s(e,t,r,n),i);return o.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},C(j),j[n]="Generator",j[i]=function(){return this},j.toString=function(){return"[object Generator]"},o.keys=function(r){var n=[];for(var e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return a.type="throw",a.arg=r,n.next=e,t&&(n.method="next",n.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=l),h}},o}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},{}],193:[function(l,e,u){(function(e,t){var n=l("process/browser.js").nextTick,r=Function.prototype.apply,i=Array.prototype.slice,a={},o=0;function s(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new s(r.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new s(r.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof e?e:function(e){var t=o++,r=!(arguments.length<2)&&i.call(arguments,1);return a[t]=!0,n(function(){a[t]&&(r?e.apply(null,r):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof t?t:function(e){delete a[e]}}).call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":191,timers:193}],194:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;function i(){return l.default.getCookie("_lr_geo_location")||"GB"}function a(){return Object.keys(u).filter(function(e){return c(e)})}function o(){var e=a(),t=i();if(!t||""===t)return setTimeout(o,300);s.events.fire(document.body,"withnail.geo",{country:i(),regions:e})}var s=e("@trinitymirrordigital/chameleon-core"),l=n(e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js")),u={UK:["GB"],UKIE:["GB","IE"],EU:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"],EEA:["IS","LI","NO","CH"]},c=function(e){var t=i();return u[e].includes(t)};o();var d={getCountryCode:i,getUserRegionCodes:a,isUserInRegion:c,isUserInRegions:function(e){return 0!==e.filter(function(e){return c(e)}).length},dispatchEvent:o};r.default=d},{"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-core":28,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34}],195:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getRampIdConfig=function(){var e=o.default.getConfigParam("rampIdEnabled");return e?{name:"identityLink",params:{pid:"13588",notUse3P:!1},storage:{type:"cookie",name:"idl_env",expires:15,refreshInSeconds:1800}}:{}},r.getAtsAnalyticsConfig=function(){var e=o.default.getConfigParam("rampIdEnabled");return e?{provider:"atsAnalytics",options:{pid:"13588"}}:{}},r.init=function(){return f.apply(this,arguments)};var s=n(e("@babel/runtime/regenerator")),i=n(e("@babel/runtime/helpers/asyncToGenerator")),l=n(e("@babel/runtime/helpers/toConsumableArray")),u=e("../../scriptsCore/js/eventPromise.js"),a=e("../../scriptsCore/js/logging.js"),o=n(e("../../scriptsCore/js/configUtilities.js")),c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a.logFeature.apply(void 0,["liveRamp"].concat(t))};function d(){c("try to getEmailFromLoginRadiusAPI");var e=o.default.getFeatureValue("loginRadiusAPIKey"),n=window.localStorage.getItem("loginRadiusToken");return new Promise(function(t,r){e&&n?window.fetch("https://api.loginradius.com/identity/v2/auth/account?apikey=".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}).then(function(e){if(200===e.status)return e.json();r()}).then(function(e){!1===e&&r(),e&&t(e.Email[0].Value)}).catch(r):r()})}function f(){return(f=(0,i.default)(s.default.mark(function e(){var r,n,i,a,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t=[{condition:!window.atsenvelopemodule,eventName:"liveramp.ats.loaded"},{condition:!window.login_radius_user_profile,eventName:"loginradius.user.profile"}].filter(function(e){return e.condition}).map(function(e){return{name:e.eventName}}),c.apply(void 0,["wait for events:"].concat((0,l.default)(t))),t.length?(0,u.multiEventsPromise)(t,window):Promise.resolve();case 2:if(c("got requirements"),e.t0=null===(r=window)||void 0===r||null===(n=r.login_radius_user_profile)||void 0===n||null===(i=n.Email)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.Value,e.t0){e.next=8;break}return e.next=7,d().catch(c);case 7:e.t0=e.sent;case 8:(o=e.t0)&&(c("pass loginRadius email to liveRamp"),window.atsenvelopemodule.setAdditionalData({type:"email",id:o}));case 10:case"end":return e.stop()}var t},e)}))).apply(this,arguments)}},{"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/eventPromise.js":204,"../../scriptsCore/js/logging.js":206,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/toConsumableArray":22,"@babel/runtime/regenerator":25}],196:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isScdRed=function(){var e,t;if(!i.default.getConfigParam("scdBlockerEnabled"))return!1;var r=null===(e=window.mantis)||void 0===e||null===(t=e.ratings)||void 0===t?void 0:t.filter(function(e){return"SCD"===e.customer})[0];return"RED"===(null==r?void 0:r.rating)};var i=n(e("../../scriptsCore/js/configUtilities.js"))},{"../../scriptsCore/js/configUtilities.js":201,"@babel/runtime/helpers/interopRequireDefault":12}],197:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.init=function(e){var t=i.default.getScriptConfig()||{};if(function(e,t){var r;return!i.default.getConfigParam("openWebEnabled")||null===(r=e.openWeb)||void 0===r||!r.spotId||null==t||!t.length}(t,e))return;(function(e){e.forEach(function(i){var e,t=JSON.parse((null===(e=i.dataset)||void 0===e?void 0:e.config)||"{}").attrs;"object"===(0,o.default)(t)&&Object.entries(t).forEach(function(e){var t=(0,a.default)(e,2),r=t[0],n=t[1];i.setAttribute(r,n)})})})(e),function(e){if(!document.getElementById(l)){var t,r=document.createElement("script");r.id=l,r.src="".concat(s).concat(null===(t=e.openWeb)||void 0===t?void 0:t.spotId),r.async=!0,r.setAttribute("data-spotim-module","spotim-launcher"),r.setAttribute("data-spotim-autorun","false"),document.head.appendChild(r)}}(t)};var a=n(e("@babel/runtime/helpers/slicedToArray")),o=n(e("@babel/runtime/helpers/typeof")),i=n(e("../../scriptsCore/js/configUtilities.js")),s="https://launcher-sa.spot.im/spot/",l="open-web-script"},{"../../scriptsCore/js/configUtilities.js":201,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/slicedToArray":20,"@babel/runtime/helpers/typeof":23}],198:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s,b=i(e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js")),m=i(e("./configUtilities.js")),l=i(e("./pageUtilities.js")),u=n(e("nested-property")),h={},c=(o={common:{baseLayout:{platform:"web,responsive"},tabletPortraitUpwards:{platform:"web,desktop"},tabletLandscapeUpwards:{platform:"web,desktop"},desktop:{platform:"web,desktop"}},article:{baseLayout:{templ:"article,responsive-article"},tabletPortraitUpwards:{templ:"article,responsive-article"},tabletLandscapeUpwards:{templ:"article"},desktop:{templ:"article"}},index:{baseLayout:{templ:"index,responsive-index"},tabletPortraitUpwards:{templ:"index,responsive-index"},tabletLandscapeUpwards:{templ:"index"},desktop:{templ:"index"}},home:{baseLayout:{templ:"home,responsive-index"},tabletPortraitUpwards:{templ:"home,responsive-index"},tabletLandscapeUpwards:{templ:"home"},desktop:{templ:"home"}},"live-event":{baseLayout:{templ:"live-event,responsive-article"},tabletPortraitUpwards:{templ:"live-event,responsive-article"},tabletLandscapeUpwards:{templ:"live-event,article"},desktop:{templ:"live-event,article"}},gallery:{baseLayout:{templ:"gallery,responsive-gallery"},tabletPortraitUpwards:{templ:"gallery,responsive-gallery"},tabletLandscapeUpwards:{templ:"gallery"},desktop:{templ:"gallery"}}},s={education:"news",crime:"news",politics:"news",traffic_and_travel:"news",cambridge_city_fc:"sport",cambridge_united_fc:"sport",things_to_do:"entertainment_news"},{clearTargeting:j,clearTargetingByFlags:C,cmpSlotIndex:g,cmpSlotOop:y,cmpSlotSizes:f,cmpSlotTop:w,cmpSlotVis:p,getMinimumWidth:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.innerWidth;return(m.default.getPublicSectionParam("commercial.screen.sizes.minimum.width")||"3840,1920,1500,1200,1024,728,667,568,414,375").split(",").filter(function(e){return e<=t}).join(",")},getSupportedFormats:function(r,e){var t;if(!r)return"";"desktop"!==e&&(e="mobile");var n=["home","article"].find(function(e){return[["home","index","feed"],["article","live-event","Gallery"]].find(function(t){return t.includes(e)&&r.split(",").find(function(e){return t.includes(e)})})}),i={home:{desktop:"webstrip,shopwindow,skin,sureview",mobile:"webstrip,shopwindow"},article:{desktop:"interscroller,webstrip,skin,sureview",mobile:"interscroller,webstrip,postitial"}};return(null===i||null===(t=i[n])||void 0===t?void 0:t[e])||""},getPageLevelData:v,getTokenString:d,isDesktop:function(e){var t=window.navigator.userAgent;return!/iPhone|iPad|iPod|Android|BlackBerry|Windows Phone|webOS/i.test(e||t)},isDesktopBreakpoint:function(){return"desktop"===b.default.getBreakpoint()},isMobileBreakpoint:function(){return"baseLayout"===b.default.getBreakpoint()},isPlaceholderEnabled:function(t){try{return!1!==JSON.parse(t.getAttribute("data-config")).enabled}catch(e){return m.default.log("[ERROR] Ad slot ".concat(t.id," missing data-config attribute")),!1}},isTabletLandscapeBreakpoint:function(){return"tabletPortraitUpwards"===b.default.getBreakpoint()},isTabletPortraitBreakpoint:function(){return"tabletPortraitUpwards"===b.default.getBreakpoint()},registerSlot:function(e,t){var r,n,i,a,o,s=window.googletag,l=v(),u=(a=(null==(i=t)?void 0:i.adUnitPlacement)||"",o={desktop:"d",baseLayout:"m",phoneLargeUpwards:"m",tabletPortraitUpwards:"t",tabletLandscapeUpwards:"t"}[b.default.getBreakpoint()],a&&o?"/5293/liverpool.dev/"+o+"/"+a:a);if(r=!0===t.isOOP&&!0===t.isInterstitial?s.defineOutOfPageSlot(t.customAdUnitId||u||l.adUnitId,s.enums.OutOfPageFormat.INTERSTITIAL):!0===t.isOOP?s.defineOutOfPageSlot(t.customAdUnitId||u||l.adUnitId,e.id):s.defineSlot(t.customAdUnitId||u||l.adUnitId,t.sizes,e.id)){m.default.log("[INFO] GPTSlot ("+e.id+") registered. Sizes:",t.sizes);try{r.addService(s.pubads())}catch(e){m.default.log("[ERROR] calling addService on slot: ".concat(e))}if(t.sizeMapping&&r.defineSizeMapping(t.sizeMapping),n=t.targeting||{},e.id&&(n.slotName=e.id),"auto"===n.index){var c=t.baseIndex,d=c||"freeIncr",f=c||0;h[d]=h[d]+1||0,n.index=f+h[d]}else h.freeIncr=n.index;for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(r.setTargeting(p,n[p]),m.default.log("[INFO] Setting slot targeting prop "+p+" to "+n[p]));return r.setTargeting("tile",n.index),m.default.log("[INFO] Setting LW slot targeting prop tile to "+n.index),"y"===n.hivis&&(r.setTargeting("pos","top"),m.default.log("[INFO] Setting LW slot targeting prop pos to top")),r}m.default.log("[INFO] GPTSlot ("+e.id+") not registered.")},removeUnneededTargeting:function(){C("oz_","prebid.sendOzoneKeys","ozoneAllowedKeys",["oz_gmpd_crid","oz_gmpd","oz_gmpd_adid","oz_winner","oz_gmpd_adomain","oz_gmpd_pb_r"]),C("hb_","prebid.sendHBKeys","prebidAllowedHBKeys",["hb_adid","hb_bidder","hb_cache_host","hb_cache_id","hb_cache_path","hb_pb_criteo","hb_pb","hb_size","hb_uuid"])},slotOrderComparator:function(e,t){var r=m.default.getConfig(e),n=m.default.getConfig(t);return y(r,n)||w(r,n)||f(r,n)||p(r,n)||g(r,n)}});function v(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.screen,r=b.default.getBreakpoint(),n=m.default.getElementsForBreakpoint("page")||{},i=(null!==(e=l.default.getQueryParameter("adSite"))&&void 0!==e?e:window.DRAGONFLY)?"dragonfly":"chameleon",a=l.default.getUHID();return n.platform=o.common[r].platform||n.platform,n.breakpoint=r,n.loggedin="n",n.donottrack="n",n.type="firstlook",n.origin="",n.token=d(),n.site=i,n.frontendRoot=window.TMCONFIG&&window.TMCONFIG.frontendRoot||"",window.gs_channels&&(n.gs_cat=window.gs_channels),n.templ=u.get(o,n.templ+"."+r+".templ")||n.templ,a&&(m.default.log("Setting uhid targetting parameter"),n.uhid=a),n.inskin_yes=(1500<=t.width||"baseLayout"===b.default.getBreakpoint()&&375<=t.width).toString(),n.msw=c.getMinimumWidth(),n.supportedFormat=c.getSupportedFormats(n.templ,n.breakpoint),n.lwsite&&(n.oid&&(n.article=n.oid),-1<(n.templ||"").indexOf("gallery")&&(n.pid=n.oid),n.RU=l.default.getReferrerDomain(),function(e){var t=[];-1<(e.templ||"").indexOf("index")?e.subarea&&(t=[e.subarea]):e.storymeta&&(t=e.storymeta.replace(/-/g,"_").split(","));for(var r=0;r<t.length;r++)if(Object.prototype.hasOwnProperty.call(s,t[r])){e.subarea=t[r],e.area=s[t[r]],!0!==e.useTMAdUnitFormat&&(e.adUnitId="/5293/"+e.lwsite+"/"+e.lwsite+"_"+e.lwsite.slice(-4)+e.area+"_"+e.subarea);break}delete e.useTMAdUnitFormat}(n)),n.adUniturl=n.adUnitId,n=function(e){var t={};if(e.adUnitId){var r=e.adUnitId.split("/")[2],n=e.adUnitId.split("/")[3],i=e.adUnitId.split("/")[4];r&&(t.publication=r),n&&(t.section=n),n&&i&&(t.subSection=i)}return Object.assign({},e,t)}(n)}function d(){var e=l.default.getQueryParameter("token");return e||""}function a(e){return e instanceof Array&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function f(e,t){var r=e.sizes instanceof Array?e.sizes[0]:[],n=t.sizes instanceof Array?t.sizes[0]:[];if(a(r)){if(a(n)){for(var i=0;i<=1;i++)if(r[i]!==n[i])return r[i]<n[i]?-1:1;return 0}return-1}return a(n)?1:0}function p(e,t){var r=e.targetting||{},n=t.targetting||{};return r.hivis!==n.hivis?"y"===r.hivis?-1:1:0}function g(e,t){var r=e.targetting||{},n=t.targetting||{};return r.index!==n.index?r.index&&(!n.index||"auto"!==r.index&&("auto"===n.index||r.index<n.index))?-1:1:0}function y(e,t){return e.isOOP!==t.isOOP?e.isOOP?"number"==typeof e.comparatorValue?e.comparatorValue:-1:"number"==typeof t.comparatorValue?-1*t.comparatorValue:1:0}function w(e,t){var r=(e.targeting||{}).index,n=(t.targeting||{}).index;return 1===r?-1:1===n?1:0}function j(r,n,e){(e=e||window.googletag).pubads().getSlots().forEach(function(t){t.getTargetingKeys().forEach(function(e){e.startsWith(r)&&!n.includes(e)&&t.clearTargeting(e)})})}function C(e,t,r,n){var i=m.default.getFeatureValue(r)?m.default.getFeatureValue(r).split(","):n;m.default.getConfigParam(t)||j(e,i)}var P=c;r.default=P},{"./configUtilities.js":201,"./pageUtilities.js":209,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34,"nested-property":190}],199:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isActiveLegalProceedings=function(){return null!=document.querySelector("article[data-alp]")}},{}],200:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isAylSlotFilled=s,r.addAylSlots=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=b.default.getConfigParam("aylReplace"),n=b.default.getConfigParam("aylBackfill"),i=b.default.getConfigParam("aylDisableTag");if(!r&&!n)return t;var a=(0,m.default)(h,function(e){return!!b.default.getConfigParam("aylSlot".concat(e))}),o=(0,f.default)(a,2),s=o[0],l=o[1],u=b.default.getScriptConfig()||{},c=p.isConsented.apply(void 0,(0,d.default)(p.vendors.adyoulike));if(i||!c||null===(e=u.adYouLike)||void 0===e||!e.enabled)return y(t,h);n&&(t=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=b.default.getPublicSectionParam("aylTimeout")||1e4;return setTimeout(function(){return g(t)},r),v(e,t)}(t,l));r&&(t=y(t,s));return t};var d=n(e("@babel/runtime/helpers/toConsumableArray")),f=n(e("@babel/runtime/helpers/slicedToArray")),p=e("../../userConsent/js/staticConsent.js"),b=n(e("./configUtilities")),i=n(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")),m=n(e("lodash/partition")),a=i.default.events,o=3e3,h=[1,2,3];function v(i,e){return e.forEach(function(e){var r,t,n=(r=e,i.find(function(e){var t;return"ayl"===e.backfillOrReplaceForSlotType&&(null===(t=e.targeting)||void 0===t?void 0:t.index)===o+r}));n||(n={componentType:"gpt",targeting:{index:o+(t=e),hivis:"n"},referenceNode:"#ayl-native-".concat(t),sizes:[[288,126]],relativePos:"replace",includeInHeaderBidding:!1,name:"div-gpt-ayl-slot-".concat(t),backfillOrReplaceForSlotType:"ayl",injectionEnabled:!0,deferred:{injectionEvent:"ayl.inject.slot".concat(t),injectCompleteEvent:"deferred.ads.injection.complete",repeat:!1}},i.push(n))}),i}function s(e){var t,r,n="#ayl-native-".concat(e," + div[id^=ayl]");return 0<((null===(t=document.querySelector(n))||void 0===t||null===(r=t.childNodes)||void 0===r?void 0:r.length)||0)}function l(e){(0<arguments.length&&void 0!==e?e:[]).forEach(function(e){var t="ayl.inject.slot".concat(e);a.fire(document.body,t)})}function g(e){l((0<arguments.length&&void 0!==e?e:[]).filter(function(e){return!s(e)}))}function y(e,t){var r=1<arguments.length&&void 0!==t?t:[];return setTimeout(function(){return a.listen(document.body,"injection.complete.gpt",function(){return l(r)})},0),v(e,r)}},{"../../userConsent/js/staticConsent.js":281,"./configUtilities":201,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/slicedToArray":20,"@babel/runtime/helpers/toConsumableArray":22,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28,"lodash/partition":181}],201:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.getTmConfigParam=p,r.getPublicSectionParam=b,r.getFeatureData=m,r.getConfigParam=h,r.getFeatureValue=C,r.default=void 0;var a,o,s=i(e("nested-property")),l=n(e("./pageUtilities.js")),u=n(e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js")),c=e("./logging.js"),d=n(e("../../test-variant-configs/test4")),f="features";function p(e){var t=l.default.getQueryParameter(e)||(window.TMCONFIG||{})[e];return(0,c.log)("[INFO] Getting TM Config parameter ".concat(e),t),t}function b(e){var t=l.default.getQueryParameter("publicSectionParams."+e)||(p("publicSectionParams")||{})[e];return(0,c.log)("[INFO] Getting TM public section parameter ".concat(e),t),t}function m(e){var t,r=-1<(t=e).indexOf(".")?t.toLowerCase().replace(/[.-](.)/g,function(e,t){return t.toUpperCase()}):t,n=s.get(window,"TMFeatures.".concat(r));void 0!==n&&(0,c.logFeature)(f,"[INFO] Feature data (from TMFeatures) for ".concat(r," : "),n);var i=b(e);return void 0!==i&&(n=i,(0,c.logFeature)(f,"[INFO] Feature data (from section param) for ".concat(r," : "),n)),(0,c.logFeature)(f,"[INFO] Feature data (from resolved sources) for ".concat(r," : "),n),n}function h(e){var t=l.default.getQueryParameter(e),r="true"===t||"false"!==t&&void 0;return void 0!==r?((0,c.logFeature)(f,"[INFO] Feature flag ".concat(e," ").concat(r?"enabled":"disabled"," via URL query parameter")),r):"true"===((window.TMCONFIG||{}).features||{})[e]?((0,c.logFeature)(f,"[INFO] Feature flag ".concat(e," enabled in config features section parameter")),!0):"true"===b(e)?((0,c.logFeature)(f,"[INFO] Feature flag ".concat(e," enabled in public section parameter")),!0):((0,c.logFeature)(f,"[INFO] Feature flag ".concat(e," not enabled")),!1)}function v(e){var t=document.getElementById(e);if(t)return JSON.parse(t.getAttribute("content"));(0,c.log)("[ERROR] The injection config element cannot be found on the page. [Func: getFullConfig]")}function g(r,t){return t&&Object.keys(t).forEach(function(e){t[e].forEach(function(t){i=r[e],-1<(n=i.findIndex(function(e){return e.componentType===t.componentType&&e.name===t.name}))&&(i=function(e,t,r){var n=e[t];if(!r)return(0,c.log)("[ERROR] No adjustments found for ",n," [Func: processAdjustment]"),e;if(!n.allowAdjustments)return(0,c.log)("[ERROR] Adjustments not allowed for ",n," [Func: processAdjustment]"),e;if(r.remove){if(n.allowAdjustments.remove)return(0,c.log)("[INFO] Config item removed: ",n," [Func: processAdjustment]"),e.splice(t,1);(0,c.log)("[ERROR] Remove adjustment not allowed for ",n," [Func: processAdjustment]")}return e}(i,n,t.adjustments))})}),r;var n,i}function y(e){var t;return(0,c.log)("[INFO] Getting config elements for breakpoint ".concat(e)),a&&a[e]?(t=a[e],(0,c.log)("[INFO] Got config elements",t),t):((0,c.log)("[ERROR] The Breakpoint ".concat(e," is not defined in config. [Func: getElementsForBreakpoint]")),[])}function w(e,t){var r;if(!a||!a[e])return(0,c.log)("[ERROR] The breakpoint ".concat(e," is not defined in the config. [Func: getElementsByTypeForBreakpoint]")),[];var n=y(e);return Array.isArray(n)?((0,c.log)("[INFO] The slots for breakpoint are ",n),r=n.filter(function(e){return e.componentType===t})||[],(0,c.log)("[INFO] The filtered slots for type ".concat(t," are "),n),r):((0,c.log)("[ERROR] The slots supplied are not an Array. [Func: getElementsByTypeForBreakpoint]"),[])}function j(){return window.DRAGONFLY?1280<=window.innerWidth?"desktop":"baseLayout":u.default.getBreakpoint()}function C(e,t,r){var n=((window.TMCONFIG||{})[t||"features"]||{})[e],i=u.default.getQueryParam(e),a=null!==i?i:n;return a&&("int"===r&&(a=parseInt(a)),"float"===r&&(a=parseFloat(a)),"string"===r&&(a=a.toString()),"bool"===r&&(a="true"===a)),a}function P(){if(o)return o;var e=document.getElementById("scriptConfig");if(e)try{return JSON.parse(e.getAttribute("content"))}catch(e){(0,c.log)("[ERROR] Error returning script config: ".concat(e))}else(0,c.log)("[WARN] The script config element cannot be found on the page. [Func: getScriptConfig]")}function _(e){var t=window.isSmile&&"test4"===window.isSmile.substr(0,5);a=g(a=t?(0,d.default)(v(e)):v(e),function(e){var t=document.getElementById(e);if(t)try{return JSON.parse((null==t?void 0:t.getAttribute("content"))||{})}catch(e){(0,c.log)("[ERROR] JSON parse of adjustments config failed: ".concat(e," [Func: getAdjustments]"))}else(0,c.log)("[INFO] The adjustments config element cannot be found on the page. [Func: getAdjustments]")}(e+"-adjustments")),o=P()}_("advertisingConfig");var O={adjustConfig:g,err:c.err,getAllElementsByType:function(e){var t,r=[];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&Array.isArray(a[n])&&(t=w(n,e),Array.prototype.push.apply(r,t));return r},getConfig:function(e){var t;return h("adsGetConfigNew")?JSON.parse((null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"data-config"))||"{}"):e&&JSON.parse((null==e?void 0:e.getAttribute("data-config"))||{})},getBreakpoint:j,getElementsByTypeForBreakpoint:w,getElementsByTypeForCurrentBreakpoint:function(e){return w(j(),e)},getElementsForBreakpoint:y,getElementsForCurrentBreakpoint:function(){return y(j())},getFeatureData:m,getFullConfig:v,getPublicSectionParam:b,getScriptConfig:P,getTmConfigParam:p,init:_,isFeatureEnabled:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=m(e);return void 0!==r&&(t="true"===String(r),(0,c.logFeature)(f,"[INFO] Feature flag ".concat(e," enabled?: ").concat(t))),(0,c.logFeature)(f,"[INFO] Feature ".concat(e," ").concat(t?" is":" is not"," enabled")),t},getConfigParam:h,log:c.log,logFeature:c.logFeature,stringToRegex:function(e){var t=e.match(/^\/(.*?)\/([gim]*)$/);return t?new RegExp(t[1],t[2]):new RegExp(e)},getFeatureValue:C,setConfig:function(e,t){a=e,o=t}};r.default=O},{"../../test-variant-configs/test4":274,"./logging.js":206,"./pageUtilities.js":209,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34,"nested-property":190}],202:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.triggerEvent=function(t){var e,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;p("triggerEvent");function n(){var e;null!==(e=window.dataLayer)&&void 0!==e&&e.push(r?{event:t,data:r}:{event:t})}var i=null===(e=window.dataLayer)||void 0===e?void 0:e.push;i?n():s.default.listen(document.body,"dataLayer.ready",n)},r.default=void 0;var a,o,s=n(e("@trinitymirrordigital/chameleon-core/src/js/events")),f=e("./configUtilities.js"),l=e("./logging.js"),u=i(e("nested-property")),c=n(e("lodash/debounce")),p=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return l.logFeature.apply(void 0,["dataLayerUtilities"].concat(t))},d=5e3,b=100,m=!1,h=null!==(a=null===(o=document.currentScript)||void 0===o?void 0:o.src)&&void 0!==a?a:"",v=h.substring(h.lastIndexOf("/")+1,h.lastIndexOf("?"));function g(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function y(){return window.performance?window.performance.now():Date.now()}function w(i,e,t,r,a){var o=window.commercialData.performanceReport.consolidated,n=e,s=e,l=1,u=e,c=t,d=t,f=0,p=t,b=window.performance&&0<t,m=r;if(o[i]){var h=o[i].data;m=h.viewable,u=h.totalConnectTime,l=h.numberOfComponents+1,s=h.maxConnectTime,f=h.numberOfComponents,s=Math.max(s,e),n=(u+=e)/l,m=(f*m+r)/l,o[i]&&b&&(p=h.totalEndTime,d=h.maxEndTime,d=Math.max(d,t),c=(p+=t)/l)}else o[i]={data:{}};o[i].data.connectTime=n,o[i].data.totalConnectTime=u,o[i].data.maxConnectTime=s,o[i].data.numberOfComponents=l,o[i].data.viewable=m,Object.keys(a).forEach(function(e){var t,r,n;-1!==e.indexOf("To")&&(o[i].data[e]=(t=o[i].data[e],r=a[e],n=f,Math.round(((t||0)*n+r)/(n+1))))}),b&&(o[i].data.averageEndTime=c,o[i].data.maxEndTime=d,o[i].data.totalEndTime=p)}function j(e){if(!(0,f.getFeatureValue)("reduceJunkInDataLayer","features","bool")){p("performanceTimeReport",null==e?void 0:e.id);var r,n=e.dataset,t=n.type,i=parseInt(n.responseStart),a=parseInt(n.responseEnd),o=parseInt(n.requested),s=g(e.id),l=parseInt((a-i).toFixed(2)),u=n.viewable?1:0,c=Math.round(o-i),d=Math.round(a-o);return r={connectTime:l,responseEnd:a,responseStart:i,viewable:u,startToInjected:i,startToRequested:o,injectedToRequested:c,injectedToReceived:l,requestedToReceived:d,startToReceived:a},Object.keys(n).forEach(function(e){if("timer"===e.substr(0,5)){var t=parseInt(n[e]);r["startTo"+e.substr(5)]=t,r["requestedTo"+e.substr(5)]=Math.round(t-o),r[e.substr(5,1).toLowerCase()+e.substr(6)+"ToReceived"]=Math.round(a-t)}}),window.commercialData.performanceReport.components[s]={data:r},w(t,l,window.performance?a:0,u,r),C(!0),window.commercialData}}function C(e){var t=0<arguments.length&&void 0!==e&&e;(0,f.getFeatureValue)("debounceDataLayer","features","bool")?(p("updateDataLayer, debounce:",t?d:b),(t?_:O)()):P()}function P(){p("updateDataLayer NOW",v);var t={commercialData:window.commercialData};window.TMDATA?window.TMDATA.update(t):s.default.listen(document.body,"dataLayer.ready",function(e){e.data.update(t)})}p("script",v);var _=(0,c.default)(P,d),O=(0,c.default)(P,b);function S(e){k("adblocker."+(e.data.adblockerDetector||"enabled"),e.data.adblockerEnabled),e.data&&e.data.adblockerTracking&&s.default.fire(window,"analytics.track",e.data)}function R(e){var t;return(e=e||(window.TMDATA||{}).access)&&"function"==typeof e&&(t=e("article.attributes.objectType")||e("page.attributes.pageType")),t}function A(e){var t=e.data.access;k("url",t("page.info.url")),k("page-type",R(t)),k("section",t("page.attributes.subSectionOne")),k("sub-section",t("page.attributes.subSectionTwo"))}function D(){m=!0}function k(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];p("setInfo",e,t),u.set(window.commercialData.info,g(e),t),C(r)}function x(e,t){p("setPerformanceReport",e,t),u.set(window.commercialData.performanceReport,g(e),t),C(!0)}function I(){window.commercialData||(m=!1,window.commercialData=window.commercialData||{performanceReport:{consolidated:{},components:{},scriptTimers:{}},metrics:{consolidated:{},components:{}},info:{}},s.default.listen(window,"breakpointchange",D),s.default.listen(window,"adblocker.detected",S),s.default.listen(document.body,"dataLayer.ready",A))}I();var T={finaliseElementTiming:function(e){e?(e.setAttribute("data-response-end",y()),m||j(e)):p("[ERROR] The element to set timing was not found on the page.")},finaliseDatalayerTiming:function(e){if(e){var t=y();x("".concat(e,".data-response-end"),t);var r=u.get(window.commercialData.performanceReport[e],"dataResponseStart"),n=parseInt((t-r).toFixed(2));x("".concat(e,".data-response-total"),n)}else p("[ERROR] The path to set timing was not found.")},getPageType:R,getPerformanceStats:function(){var e=window.performance.timing;return{dns:e.domainLookupEnd-e.domainLookupStart,request:e.responseStart-e.requestStart,response:e.responseEnd-e.responseStart,tcp:e.connectEnd-e.connectStart}},getPerformanceTime:y,init:I,initialiseDatalayerTiming:function(e,t){var r=t||y();e?x("".concat(e,".data-response-start"),r):p("[ERROR] The path to set timing was not found.")},initialiseElementTiming:function(e,t,r){var n=r||y();e?(e.setAttribute("data-response-start",n),e.setAttribute("data-type",t)):p("[ERROR] The element to set timing was not found on the page.")},isArticle:function(e){return e.includes("article")||e.includes("live-event")},performanceTimeReport:j,toCamelCase:g,updateViewability:function(e){var t,r,n,i,a,o=e.dataset.viewable?1:0;!function(e,t,r){p.apply(void 0,["updateComponent"].concat(Array.prototype.slice.call(arguments)));var n=g(e);window.commercialData.performanceReport.components[n].data[t]=r,C(!0),window.commercialData}(e.id,"viewable",o),t=e.dataset.type,r=o,i=window.commercialData.performanceReport.consolidated,a=r,i[t]&&(a=i[t].data.viewable,a=((n=i[t].data.numberOfComponents)*a+r)/n),i[t].data.viewable=a},setScriptTimer:function(e,t){p("setScriptTimer",e,t),u.set(window.commercialData.performanceReport.scriptTimers,g(e),t),C(!0)},setCustomTimer:function(e,t){return e.setAttribute("data-timer-"+t,y()),e},setInfo:k,getInfo:function(e){return u.get(window.commercialData.info,g(e))},setMetric:function(e,t,r){if(!(0,f.getFeatureValue)("reduceJunkInDataLayer","features","bool")){p("setMetric",null==e?void 0:e.id,t,r);var n=e.dataset.type,i=window.commercialData.metrics,a=n+".data."+g(e.id)+"."+t,o=n+".data."+t,s=u.get(i.components,a),l=u.get(i.consolidated,o);s=s||u.set(i.components,a,0),l=l||u.set(i.consolidated,o,0),u.set(i.components,a,s+r),u.set(i.consolidated,o,l+r),C(!0)}},setPerformanceReport:x};r.default=T},{"./configUtilities.js":201,"./logging.js":206,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@trinitymirrordigital/chameleon-core/src/js/events":30,"lodash/debounce":161,"nested-property":190}],203:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.createDependencyPromises=function(e){var t,r=function(e){return function(t){var r=a.default.getPublicSectionParam(t)||[];if(a.default.log("Getting events dependency config for "+t,r),r&&"string"==typeof r)try{r=JSON.parse(r)}catch(e){a.default.log("Error parsing "+t,e),r=[]}return r}(e).filter(function(e){return!e.urlPathMatcher||a.default.stringToRegex(e.urlPathMatcher).test(window.location.pathname)}).filter(function(e){return!e.pageTypeMatcher||a.default.stringToRegex(e.pageTypeMatcher).test(o.default.getPageType())}).filter(function(e){return!e.breakpointMatcher||a.default.stringToRegex(e.breakpointMatcher).test(l.default.getBreakpoint())})}(e);r&&0<r.length&&(t=s.multiEventsPromise(r,document.body,100));return t};var a=i(e("./configUtilities.js")),o=i(e("./dataLayerUtilities.js")),s=n(e("./eventPromise.js")),l=i(e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"))},{"./configUtilities.js":201,"./dataLayerUtilities.js":202,"./eventPromise.js":204,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34}],204:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.makeQueryablePromise=u,r.eventToPromise=d,r.multiEventsPromise=function(e,t,r){var n,i=e.map(function(e){return d(e,e.emitter?function(e,t){if("string"!=typeof e)return t;{if("window"===e)return window;if("body"===e)return document.body;var r=document.querySelector(e);return r||t}}(e.emitter,t):t)}),a=e.map(function(e){return l(e.timeout)?e.timeout:0});l(r)&&0<r&&a.push(r);var o=Math.max.apply(Math,a);n=1===i.length?(s.default.log("[INFO] Created single promise for event",e),i[0]):(s.default.log("[INFO] Creating wrapper promise for multiple events",e),u(Promise.all(i)));0<o&&(s.default.log("[INFO] Creating timeout wrapper promise for events",e),n=c(o,n,e));return n};var s=n(e("./configUtilities.js")),a=n(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")).default.events,l=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function u(e){if(e.isResolved)return e;var t=!0,r=!1,n=!1,i=e.then(function(e){return t=!(n=!0),e},function(e){throw t=!(r=!0),e});return i.isFulfilled=function(){return n},i.isPending=function(){return t},i.isRejected=function(){return r},i}var c=function(n,e,i){var a="[INFO] Timed out promise for events: "+i.map(function(e){return e.name}).join(",")+" in "+n+"ms.",t=u(new Promise(function(e,t){var r=setTimeout(function(){clearTimeout(r),i&&i.filter(function(e){return"resolved"!==e.resolution}).forEach(function(e){e.resolution="timeout"}),t(a)},n)}));return u(Promise.race([e,t]))};function d(n,i){return s.default.log("[INFO] Converting event to promise",n.name,i),n.resolution="pending",n.promise=u(new Promise(function(r,e){n.resolve=r,n.reject=e,a.listen(i,n.name,function e(t){i.removeEventListener(n.name,e),n.eventObj=t,s.default.log("[INFO] Resolving event promise",n.name),n.resolution="resolved","function"==typeof n.triggerFunction&&(s.default.log("[INFO] Running event triggerFunction for "+n.name),n.triggerFunction(n)),"function"==typeof((n.eventObj||{}).data||{}).triggerFunction&&(s.default.log("[INFO] Running event object triggerFunction for "+n.name),n.eventObj.data.triggerFunction(n)),r(n)})})),n.promise}},{"./configUtilities.js":201,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28}],205:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=i(e("@babel/runtime/helpers/toConsumableArray")),a=i(e("../../scriptsCore/js/adUtilities.js")),f=i(e("../../scriptsCore/js/configUtilities.js")),o=i(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")),s=i(e("./dataLayerUtilities.js")),l=i(e("./pageUtilities.js")),c=e("../../scriptsCore/js/articleUtilities"),d=i(e("../../scriptsCore/js/sessionUtilities.js")),p=e("../../scriptsCore/js/aylslots"),b=n(e("nested-property"));function m(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=o.default.events;function g(e){var t,r={},n=[],i=[],a=[],o=d.default.getPagesViewedCookie(),s=parseInt(o);f.default.log("[injectPlaceholders] filtering the ad slots configs that will not be injected",e);var l=e.filter(j).filter(function(e){return function(e,t){var r=e.hideOnFirstPageView&&f.default.isFeatureEnabled("hide.slot.on.first.page.view")&&1===t;r&&f.default.logFeature("hideSlotOnFirstPageView","[INFO] Filter slots. Removing slot ".concat(e.name));return!r}(e,s)}).filter(w);return f.default.log("[injectPlaceholders] adSlots configs that will get injected into the page",l),l.forEach(function(e){if(n=[],e.deferred&&e.deferred.injectionEvent&&e.deferred.injectCompleteEvent)return a.includes(e.deferred.injectionEvent)||a.push(e.deferred.injectionEvent),void i.push(e);e.referenceNode&&e.relativePos?n=O(e):e.referenceSlot&&e.relativePos?(e.referenceNode="#"+e.referenceSlot,n=O(e)):e.positions?n=O(e):((t=document.getElementById(e.name))&&t.setAttribute("data-config",JSON.stringify(e)),n.push(t)),0!==n.length&&(r[e.componentType]||(r[e.componentType]=[]),Array.prototype.push.apply(r[e.componentType],n))}),a.forEach(function(t){var e={slots:i.filter(function(e){return e.deferred.injectionEvent===t})},r=function(e,r){var t=e.slots,n=e.handlerFn,i=t.map(function(e){return e.deferred.injectCompleteEvent}),a=(0,u.default)(new Set(i)),o=Object.fromEntries(a.map(function(e){return[e,{deferredPlaceholders:[]}]})),s=t.some(function(e){return!0===e.deferred.repeat});t.forEach(function(e){e.deferred.repeat&&(e.deferred.repeatIndex=(e.deferred.repeatIndex||0)+1);var t=O(Object.assign({},e,r.data));o[e.deferred.injectCompleteEvent].deferredPlaceholders.push(t[0])}),a.forEach(function(e){v.fire(document.body,e,o[e])}),s||document.body.removeEventListener(r.type,n)}.bind(null,e);e.handlerFn=r,v.listen(document.body,t,r)}),r}function y(e){var t=0<arguments.length&&void 0!==e?e:[],r=b.get(window,"TMCONFIG.pageInfo.articleSubType");return!!t.includes(r)}function w(e){var r=!0,t=e.injectionConditions;return t&&t.forEach(function(e){var t;"topViewabilitySlotInjectable"===e.condition&&(r=r&&e.matchResult===(t=e,"true"===f.default.getPublicSectionParam("topViewabilitySlot.enabled")&&!y(["advertorial","sponsored"])&&(!b.get(window,"digitalData.article.info.hasLeadVideo")||window.innerWidth>t.sizeLimit))),"stopONAffiliateContent"===e.condition&&(r=r&&!y(["affiliate","marketplace"])),"topBoxInjectable"===e.condition&&(r=r&&"true"===f.default.getPublicSectionParam("topBoxRecommendation.enabled")),"stopONAdvertorialContent"===e.condition&&(r=r&&!y(["advertorial"])),"stopONActiveLegalProceedings"===e.condition&&(r=r&&!(0,c.isActiveLegalProceedings)()),"mantisRHCRecommenderEnabled"===e.condition&&(r=r&&e.matchResult===(window.TMCONFIG.features&&"true"===window.TMCONFIG.features.mantisRHCRecommender))}),r||f.default.log("[INFO] Filter slots. Removing slot ".concat(e.name)),r}function j(e){var t=e.injectionEnabled,r=void 0===t||t,n=e.flagToEnable,i=void 0===n?"":n,a=e.flagToDisable,o=void 0===a?"":a,s=""===i||f.default.getConfigParam(i),l=""!==o&&f.default.getConfigParam(o);return r&&s&&!l}function C(e,t){var r="injection.complete."+e;f.default.log("[injectionCompleteForType] Before filtering: ",t),t=t.filter(a.default.isPlaceholderEnabled),f.default.log("[injectionCompleteForType] After filtering: ",t);var n={placeholders:t};v.fire(document.body,r,n),f.default.log("[INFO] Event",r,"fired. Placeholders:",t)}function P(e){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&C(t,e[t])}function _(e,t){var r;if(e&&t)for(t=t.split(" "),r=0;r<t.length;r++){var n;null==e||null!==(n=e.classList)&&void 0!==n&&n.add(t[r])}}function O(e){return D(S(e.name,e.componentType,e),e)}function S(e,t,r){var n=document.createElement("div");return n.id=e,n.classList.add(t),n.setAttribute("data-config",JSON.stringify(r)),n.setAttribute("data-"+t+"-placeholder",""),r.lazyLoad&&n.setAttribute("data-mod",t),r.hidden&&n.classList.add("hidden"),r.additionalClass&&_(n,r.additionalClass),s.default.initialiseElementTiming(n,t),n}function R(e,t,r){var n,i=[];return t||r?(n=document.querySelectorAll(e),isNaN(r)||(n=n.item(r-1))&&(i.push(n),n=i)):(n=document.querySelector(e))&&(i.push(n),n=i),n&&0!==n.length?n:(f.default.log("[WARN] The reference node was not found on the page. referenceNode:",e),[])}function A(e){var t,r,n,i,a,o;for(o=[],(a=e).referenceNode&&o.push({referenceNode:a.referenceNode,relativePos:a.relativePos}),a.referenceNode2&&o.push({referenceNode:a.referenceNode2,relativePos:a.relativePos2}),Array.prototype.push.apply(o,a.positions),r=o,i=0;i<r.length;i++)if(n=void 0,(!r[i].conditionNode||(n=R(r[i].conditionNode))&&0<n.length)&&(t=R(r[i].referenceNode,e.repeat,e.referenceIndex)),t&&0<t.length)return{refEl:t,relativePos:r[i].relativePos};return null}function D(e,t){var r,n,i,a,o=[];if(!(r=(n=A(t))?Array.from(n.refEl):[])||0===r.length)return[];for(a=0;a<r.length;a++){var s;if(1<r.length)(i=e.cloneNode(!0)).id=i.id+"-"+a;else i=e,null!==(s=t.deferred)&&void 0!==s&&s.repeatIndex&&(i.id="".concat(i.id,"-").concat(t.deferred.repeatIndex));var l=n.relativePos,u=i.id?Array.from(document.querySelectorAll("#".concat(i.id))):[];if(!u.length&&r.length&&"existing"===l&&(u[0]=r[a]),0<u.length){var c=u[0],d=c&&c.classList.contains("ad-in-article-placeholder");l="existing"===l||d?"existing":"replace",r[a]=c,"replace"===l&&(_(i,c.classList.toString()),i.style.width=c.style.width,i.style.height=c.style.height),1<u.length&&f.default.log("[ERROR] Multiple placeholders using same element id, ignored",u)}o.push(k(r[a],i,l))}return o}function k(e,t,r){if(e){var n,i,a;switch(r){case"after":n=x(e,t);break;case"before":n=I(e,t);break;case"appendChild":n=T(e,t);break;case"prependChild":n=E(e,t);break;case"replace":a=t,(i=e).parentNode.replaceChild(a,i),n=a;break;case"existing":n=function(e,t){l.default.deleteChildNodes(e);var r,n=m(t.attributes);try{for(n.s();!(r=n.n()).done;){var i,a=r.value;if("class"!==a.name)e.setAttribute(a.name,a.value);else(i=e.classList).add.apply(i,(0,u.default)(a.value.split(" ")))}}catch(e){n.e(e)}finally{n.f()}return e}(e,t)}return f.default.log("[INFO] The placeholder",n,"was injected",r,"the element",e),n}f.default.log("[ERROR] The referenceNode is not defined when trying to insert",t," [Func: insertElementOnPage]")}function x(e,t){return e.parentNode.insertBefore(t,e.nextSibling)}function I(e,t){return e.parentNode.insertBefore(t,e)}function T(e,t){if(e)return e.appendChild(t);f.default.log("referenceNode is not defined on appendChildElement for "+t)}function E(e,t){if(e){var r=e.firstChild||null;return e.insertBefore(t,r)}f.default.log("referenceNode is not defined on prependChildElement for "+t)}var B={appendChildElement:T,createPlaceholder:S,injectPlaceholders:g,init:function(){var e;(e=f.default.getElementsForCurrentBreakpoint())&&(f.default.getConfigParam("nativeAdsFallback")||(e=(0,p.addAylSlots)(e)),P(g(e)))},injectAtCurrentBreakpointForType:function(e){var t=f.default.getElementsByTypeForCurrentBreakpoint(e);t&&P(g(t))},injectionComplete:P,injectionCompleteForType:C,injectSlot:O,insertAdditionalClass:_,insertAfterElem:x,insertBeforeElem:I,insertPlaceholder:D,insertElementOnPage:k,prependChildElement:E,injectOrRepositionAtCurrentBreakpointByType:function(e){var t=f.default.getElementsByTypeForCurrentBreakpoint(e),i=[];t.forEach(function(e){var t=document.querySelector("#"+e.name);if(t){e.referenceSlot&&(e.referenceNode="#"+e.referenceSlot);var r=document.querySelector(e.referenceNode),n=JSON.parse(t.getAttribute("data-config"));r?e.referenceNode!==n.referenceNode&&(t.setAttribute("data-config",JSON.stringify(e)),k(r,t,e.relativePos)):t.parentElement.removeChild(t)}else i.push(e)}),i.length&&P(g(i))},isPlaceholderInjectable:j};r.default=B},{"../../scriptsCore/js/adUtilities.js":198,"../../scriptsCore/js/articleUtilities":199,"../../scriptsCore/js/aylslots":200,"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/sessionUtilities.js":210,"./dataLayerUtilities.js":202,"./pageUtilities.js":209,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@babel/runtime/helpers/toConsumableArray":22,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28,"nested-property":190}],206:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.logFeature=s,r.err=l,r.default=r.log=void 0;var n="featureDebug",i="all";function a(e){var t=new RegExp("[?&]".concat(e,"=([^&]*)")).exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))||""}var o="on"===a("configDebug")?window.console.log.bind(window.console):function(){};function s(e){var t=a(n).split(",");-1===t.indexOf(i)&&-1===t.indexOf(e)||window.console.log.apply(window.console,arguments)}function l(){-1<window.location.href.indexOf("configDebug=on")&&window.console.error.apply(window.console,arguments)}var u={err:l,log:r.log=o,logFeature:s};r.default=u},{}],207:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.init=function(){if(h.default.getConfigParam("nativeAdsFallback")){!function(e){var t,r=g(S({eventType:"triggerEvent",slots:e}));try{for(r.s();!(t=r.n()).done;){var n=(0,f.default)(t.value,2),i=n[0],a={slots:n[1],eventName:i},o=R.bind(null,a);a.handlerFn=o,p.events.listen(document.body,i,o)}}catch(e){r.e(e)}finally{r.f()}}(function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.providers=(0,d.default)(e.providers.filter(function(e){return r=(t=e).enabled,n=t.flagToEnable,i=t.flagToDisable,a=!n||h.default.getConfigParam(n),o=!!i&&h.default.getConfigParam(i),!1!==r&&a&&!o;var t,r,n,i,a,o})),e})}(h.default.getElementsByTypeForCurrentBreakpoint("native")))}};var a=n(e("@babel/runtime/helpers/typeof")),i=n(e("@babel/runtime/helpers/defineProperty")),d=n(e("@babel/runtime/helpers/toConsumableArray")),f=n(e("@babel/runtime/helpers/slicedToArray")),p=e("@trinitymirrordigital/chameleon-core"),b=n(e("../../scriptsCore/js/injection.js")),s=n(e("../../scriptsCore/js/dataLayerUtilities")),m=e("../../userConsent/js/staticConsent.js"),l=e("../../taboola/js/taboola.js"),o=e("../../openWeb/js/openWeb.js"),h=n(e("./configUtilities")),v=n(e("lodash/partition"));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){(0,i.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function g(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(n){var e=(0,v.default)(n.data.slots,function(t){var e=n.data.bids.find(function(e){return e.adUnitCode===t.name}),r=O("prebid",t);return(null==e?void 0:e.cpm)>=(null==r?void 0:r.floor)}),t=(0,f.default)(e,2),r=t[0],i=t[1];if(i.length){var a,o=g(S({eventType:"fallbackEvent",slots:i,filterProviderName:"prebid"}));try{for(o.s();!(a=o.n()).done;){var s=(0,f.default)(a.value,2),l=s[0],u={slots:s[1]};p.events.fire(document.body,l,u)}}catch(e){o.e(e)}finally{o.f()}}if(r.length){var c=_("prebid",r),d=b.default.injectPlaceholders(c);b.default.injectionComplete(d)}}function j(e){var t,a=e.data.slots,r=h.default.getScriptConfig()||{};if(m.isConsented.apply(void 0,(0,d.default)(m.vendors.adyoulike))&&(null===(t=r.adYouLike)||void 0===t?void 0:t.enabled)){var n=_("adYouLike",a);b.default.injectPlaceholders(n);var i=h.default.getConfigParam("aylTimeout")||12e3;setTimeout(function(){var e,t=g(S({eventType:"fallbackEvent",slots:a.filter(function(e){var t,r,n=O("adYouLike",e).configOverrides.name,i="#".concat(n," + div[id^=ayl]");return 0===((null===(t=document.querySelector(i))||void 0===t||null===(r=t.childNodes)||void 0===r?void 0:r.length)||0)}),filterProviderName:"adYouLike"}));try{for(t.s();!(e=t.n()).done;){var r=(0,f.default)(e.value,2),n=r[0],i={slots:r[1]};p.events.fire(document.body,n,i)}}catch(e){t.e(e)}finally{t.f()}},i)}else{var o,s=g(S({eventType:"fallbackEvent",slots:a,filterProviderName:"adYouLike"}));try{for(s.s();!(o=s.n()).done;){var l=(0,f.default)(o.value,2),u=l[0],c={slots:l[1]};p.events.fire(document.body,u,c)}}catch(e){s.e(e)}finally{s.f()}}}function C(e){var t=e.data.slots,r=s.default.getPageType(),n=s.default.isArticle(r),i=!h.default.getConfigParam("taboolaDoubleLoaderEnabled")&&!n,a=_("taboola",t).map(function(e){return c(c({},e),{},{firstBatch:i})}),o=b.default.injectPlaceholders(a).taboola;Array.isArray(o)&&o.length&&(0,l.init)(o)}function P(e){var t=_("openWeb",e.data.slots),r=["tabletPortraitUpwards","baseLayout"].includes(h.default.getBreakpoint()),n=t.map(function(e){return e.referenceNode="".concat(e.referenceNode).concat(r?".ad-in-article-placeholder":":not(.ad-in-article-placeholder)"),"object"===(0,a.default)(e.attrs)&&(e.attrs["data-column"]=r?"2":"1"),e}),i=b.default.injectPlaceholders(n).openWeb;Array.isArray(i)&&i.length&&(0,o.init)(i)}function _(n,e){return e.filter(function(e){return!!O(n,e)}).map(function(e){var t=c({},e);delete t.providers;var r=O(n,e);return c(c({},t),r.configOverrides)})}function O(t,e){return e.providers.find(function(e){return e.providerName===t})}function S(e){var t=0<arguments.length&&void 0!==e?e:{},r=t.eventType,n=t.slots;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.eventType,t=e.slots,r=void 0===t?[]:t,i=e.filterProviderName,a=r.reduce(function(e,t){var r=t.providers.filter(function(e){return e.providerName===i||!i}).map(function(e){return e[n]});return[].concat((0,d.default)(e),(0,d.default)(r))},[]);return(0,d.default)(new Set(a))}.apply(void 0,arguments).map(function(t){var e=n.filter(function(e){return e.providers.some(function(e){return e[r]===t})});return[t,e]})}function R(e,t){var r=t.type||e.eventName;t.data.slots=t.data.slots||e.slots;function n(e){return e.triggerEvent===r}var i={prebid:w,adYouLike:j,taboola:C,openWeb:P},a=e.slots.find(function(e){return e.providers.find(n)}).providers.find(n).providerName;i[a]&&i[a](t),document.body.removeEventListener(t.type,e.handlerFn)}},{"../../openWeb/js/openWeb.js":197,"../../scriptsCore/js/dataLayerUtilities":202,"../../scriptsCore/js/injection.js":205,"../../taboola/js/taboola.js":213,"../../userConsent/js/staticConsent.js":281,"./configUtilities":201,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/slicedToArray":20,"@babel/runtime/helpers/toConsumableArray":22,"@babel/runtime/helpers/typeof":23,"@trinitymirrordigital/chameleon-core":28,"lodash/partition":181}],208:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reset=r.once=void 0;var n=new Set;r.once=function(e){return!(!e||n.has(e))&&(n.add(e)&&!0)};r.reset=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length?[].concat(t).forEach(function(e){return n.delete(e)}):n.clear()}},{}],209:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("./logging.js"),i={deleteChildNodes:function(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e},getUHID:function(){var e=window.TMDATA.access("page.info.uhid");return e?(0,n.log)("Got uhid from Data Layer"):(0,n.err)("uhid not present in Data Layer"),e},getQueryParameter:function(e,t){var r=t?t.substring(t.indexOf("?")):window.location.search,n=new RegExp("[?&]"+e+"=([^&]*)").exec(r);return n&&decodeURIComponent(n[1].replace(/\+/g," "))},getReferrerDomain:function(){var e="";if(document.referrer){var t=document.createElement("a");t.href=document.referrer,e=t.hostname}return e},getCookie:function(e){for(var t=e+"=",r=decodeURIComponent(document.cookie).split(";"),n=0;n<r.length;n++){var i=r[n].replace(/^ +/,"");if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},waitForElemToExist:function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.body;function o(e){return e.map(function(e){return a.querySelector(e)})}return"string"==typeof i&&(i=[i]),new Promise(function(r){var e=o(i),n=new MutationObserver(function(e){var t=o(i);e.forEach(function(e){e.addedNodes.forEach(function(e){t.includes(e)&&(r(e),n.disconnect())})})}),t=e.find(function(e){return e instanceof Element});t?r(t):n.observe(a,{childList:!0,subtree:!0})})},isRestrictedArticleSubtype:function(){var e,t;return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:["advertorial","advertising","affiliate","marketplace"]).includes(null===(e=window.TMCONFIG)||void 0===e||null===(t=e.pageInfo)||void 0===t?void 0:t.articleSubType)}};r.default=i},{"./logging.js":206}],210:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js")),a=n(e("./configUtilities.js")),o=e("../../userConsent/js/quantcast/quantcast.js"),s="TM_PagesViewed";function l(e,t,r){var n=new Date;n.setTime(n.getTime()+60*r*1e3),document.cookie="".concat(e,"=").concat(t,";expires=").concat(n.toUTCString(),";path=/")}function u(){return i.default.getCookie(s)}function c(){return a.default.getPublicSectionParam("commercial.test.session.length")||30}function d(e,t){(0,o.userSavedConsent)().then(function(){l(s,e,t)})}var f={setCookie:l,updatePageViews:function(){var e=u(),t=c();if(e){var r=parseInt(e);isNaN(r)||d(r+1,t)}else d(1,t)},setPagesViewedCookie:d,getPagesViewedCookie:u,getSessionLength:c};r.default=f},{"../../userConsent/js/quantcast/quantcast.js":279,"./configUtilities.js":201,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34}],211:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isBool=void 0;r.isBool=function(e){return!0===e||!1===e}},{}],212:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.injectTbFrameScript=function(){if(a||0<document.querySelectorAll('script[src="'.concat(i,'"]')).length)return;var e=document.createElement("script");e.id="tbframe-script",e.async=!0,e.src=i,document.head.appendChild(e),a=!0},r.getHtmlFragment=s,r.isTaboolaDoubleLoader=C,r.default=void 0;var m=n(e("@babel/runtime/helpers/defineProperty")),h=n(e("../../scriptsCore/js/configUtilities.js")),v=n(e("../../scriptsCore/js/dataLayerUtilities.js")),o=e("../../scriptsCore/js/utilities");function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}window._taboola=window._taboola||[],window._tbframe=window._tbframe||[];var y="populated",i="//cdn.taboola.com/libtrc/reach-network2/tbframe.js",a=!1,w=[];function j(e,t){var r,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];h.default.log("Pushing to taboola",e);var i=((0,o.isBool)(t)?t:e.publisher&&"reach-network2"===e.publisher)?window._tbframe:window._taboola,a=!(null===(r=window.TRC)||void 0===r||!r.trcImplAvailableDispatched);n||a?i.push(e):i.push({listenTo:"trcImplAvailable",handler:function(){setTimeout(function(){i.push(e)},0)}})}function s(e){return document.createRange().createContextualFragment(e)}function C(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).publisher,t=void 0===e?"":e;return h.default.getConfigParam("taboolaDoubleLoaderEnabled")&&"reach-network2"===t}var l={getConfigFromElement:function(e){return JSON.parse(null==e?void 0:e.getAttribute("data-config"))||{}},initSlot:function(e,t){var r,n,i,a=e.selector,o=e.mode,s=e.placement,l=e.targetType,u=e.repeat,c=e.publisher,d=e.firstBatch;t.classList.add("recommended-stories"),t.classList.add("tm-commercial-integrations-taboola"),(i=document.createElement("h3")).classList.add("box-heading"),i.innerHTML="Promoted Stories",t.appendChild(i),r=document.createElement("div");var f=a,p=s;if(u){var b=t.id.replace(/.*-(\d+)$/,"$1");b=isNaN(b)?"0":b,f="".concat(a,"-").concat(b),p="".concat(p," ").concat(b)}return r.setAttribute("id",f),r.setAttribute("data-taboola-mode",o),r.classList.add("taboola"),t.appendChild(r),h.default.getConfigParam("taboolaMidarticleFixedSize")&&"taboolaMobileMidArticle-1"===t.id&&t.classList.add("taboola-midarticle-fixedsize",window.DRAGONFLY?"taboola-midarticle-fixedsize-short":"taboola-midarticle-fixedsize-tall"),j({listenTo:"render",handler:function(e){var t,r,n,i=e&&e.detail,a=i&&document.querySelector('[data-taboola-mode="'.concat(i.mode,'"]'));a&&i.container&&(r=(t=a.parentNode).classList.contains("tm-commercial-integrations-taboola"),n=t.classList.contains(y)),h.default.log("[INFO] Received render event from Taboola",i),r&&!n&&(t.classList.add(y),v.default.finaliseElementTiming(t))}}),j(n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach(function(e){(0,m.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({container:f,mode:o,placement:function(t){w.push(t);var e=w.filter(function(e){return e===t}).length;return 1===e?t:"".concat(t," ").concat(String(e+1))}(p),target_type:l},c&&{publisher:c}),C(e),d),h.default.log("[INFO] Pushing to Taboola",n),t},push:j,getHtmlFragment:s};r.default=l},{"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/dataLayerUtilities.js":202,"../../scriptsCore/js/utilities":211,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/interopRequireDefault":12}],213:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.init=function(e){if("false"===o.default.getPublicSectionParam("commercial.integrations.taboola.enabled"))return;(0,l.cmpIsReady)().then(function(){!function(e){var t=function(e,t){return e.filter(function(e){return a.default.getConfigFromElement(e).slotType===t})}(e,"taboola");t.some(function(e){return(0,a.isTaboolaDoubleLoader)(a.default.getConfigFromElement(e))})&&(0,a.injectTbFrameScript)();t.forEach(function(e){var t,r,n,i;t=e,r=a.default.getConfigFromElement(t),n=r.firstBatch,i=(0,a.isTaboolaDoubleLoader)(r),a.default.push(function(e){var t,r=e.pushConfig,n=(window.TMCONFIG||{}).pageInfo,i=void 0===n?{}:n,a="baseLayout"===(0,s.getBreakpoint)()?o.default.getPublicSectionParam("taboola.mobile.campaign"):o.default.getPublicSectionParam("taboola.desktop.campaign");t=r||("live-event"===i.articleType?{category:"auto"}:a?{article:"auto",tracking:"utm_source=taboola&utm_medium=display&utm_campaign=".concat(a)}:{article:"auto"});return t}(r),i,n),a.default.initSlot(r,t),a.default.push({flush:!0},i,n)})}(e)})};var a=i(e("./core.js")),o=n(e("../../scriptsCore/js/configUtilities.js")),s=e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),l=e("../../userConsent/js/quantcast/quantcast.js")},{"../../scriptsCore/js/configUtilities.js":201,"../../userConsent/js/quantcast/quantcast.js":279,"./core.js":212,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34}],214:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.setBidTargeting=R,r.auctionCompletedCallback=A,r.videoAuctionCompletedCallback=D,r.init=B,r.default=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),f=n(e("../../scriptsCore/js/configUtilities.js")),p=n(e("@trinitymirrordigital/chameleon-core/src/js/events")),b=e("../../userConsent/js/staticConsent.js"),m=e("../../userConsent/js/quantcast/quantcast.js"),a=n(e("../../scriptsCore/js/dataLayerUtilities.js")),l=e("./helpers.js"),o=n(e("../../scriptsCore/js/adUtilities.js"));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){(0,i.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var c=2e3,d=2e3,h=200,v="3632",g="amazon.header.timeout",y="amazon.video.header.timeout",w="amazon.header.pubId",j="amazon.header.setDisplayBids",C="amazon.fpd.signals.enabled",P="amazon.bid.delivery",_="amazon.bid.ready",O=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.default.logFeature.apply(f.default,["AMZNTAG"].concat(t))};function S(e){var n={};if(e.videoAuction&&f.default.getConfigParam("amazonVideoTagEnabled")&&(n.video=[{slotID:"videoslot",mediaType:"video"}]),e.displayAuction){n.display=[];var i=o.default.getPageLevelData();(0,l.getDisplayHBAdSlotsForAmazon)().forEach(function(e){var t,r;n.display.push((t=e,r=i.adUnitId,O("[INFO] Defining header bidding slot:",r,t.name),{slotID:t.name,slotName:r+"/"+t.name,sizes:t.sizes}))})}return n}function R(){if("true"===(f.default.getPublicSectionParam(j)||"true"))try{window.apstag.setDisplayBids()}catch(e){O("[INFO] Can't set  id targeting:",e)}}function A(t){var e=a.default.getInfo("headerBidding.auctions").map(function(e){return e.id===t&&(e.completed=!0),e});f.default.getFeatureValue("reduceJunkInDataLayer","features","bool")||a.default.setInfo("headerBidding.auctions",e),R()}function D(t){var e=a.default.getInfo("headerBidding.auctions").map(function(e){return e.id===t&&(e.completed=!0),e});f.default.getFeatureValue("reduceJunkInDataLayer","features","bool")||a.default.setInfo("headerBidding.auctions",e)}function k(e,t,r){O("[INFO] Amazon bid delivery callback:",e,a.default.getPerformanceTime()),"video"===t?p.default.fire(document.body,_,{auctionCompletedCallback:D.bind(null,r),bids:e.filter(function(e){return"video"===e.mediaType}),type:"amazon",id:r}):(p.default.fire(document.body,P,{auctionCompletedCallback:A.bind(null,r),bids:e.filter(function(e){return"video"!==e.mediaType}),addBidsToDataLayer:l.addBidsToDataLayer,type:"amazon",slotIdParam:"slotID",id:r}),"true"===(f.default.getPublicSectionParam("amazon.header.targetingKeys")||"false")&&O("[INFO] amazon targeting keys: ",window.apstag.targetingKeys()))}function x(e){var t;return"amazon".concat((t=e).charAt(0).toUpperCase()+t.slice(1)).concat((0,l.getId)(""))}function I(e){return"video"===e?Number(f.default.getPublicSectionParam(y))||d:Number(f.default.getPublicSectionParam(g))||c}function T(e,t,r){var n=1<arguments.length&&void 0!==t?t:null,i=2<arguments.length&&void 0!==r?r:null,a=Number(f.default.getFeatureData("amazon.header.cmp.timeout"))||h,o=!!n,s=!!i;return u(u({pubID:e,adServer:"googletag",bidTimeout:I("display"),videoAdServer:"DFP",deals:!0,gdpr:u(u({},o&&{enabled:!0,consent:n}),!o&&{cmpTimeout:a})},s&&{params:{us_privacy:i}}),function(){var e,t,r=(null===(e=window.digitalData)||void 0===e||null===(t=e.page)||void 0===t?void 0:t.attributes)||{},n=r.publicationName,i=r.publicationId,a=(0,l.getIabCategories)();if(f.default.getConfigParam(C)&&a&&n){var o=(0,l.getArticleContent)();return{signals:{ortb2:{site:u({id:"".concat(n,"-").concat(i),name:n,domain:(0,l.getDomainName)(),cattax:6,pagecat:a,page:(0,l.getCleanPageUrl)(),privacypolicy:1},o&&{content:o})}}}}}())}function E(e,t,r){function n(e){p.default.fire(document.body,"auction.started",{id:e})}function i(){O("[INFO] Running amazon auction",c,t),window.apstag.init(c),!0===r.displayAuction&&(n(r.displayAuctionId),window.apstag.fetchBids({slots:t.display,timeout:I("display")},function(e){return k(e,"display",r.displayAuctionId)})),!0===r.videoAuction&&(n(r.videoAuctionId),window.apstag.fetchBids({slots:t.video,timeout:I("video")},function(e){return k(e,"video",r.videoAuctionId)}))}var a,o,s,l=(0,b.getConsent)(),u=!(null===(a=l.tcfv2consent)||void 0===a||!a.cookieContent),c=T(e,null===(o=l.tcfv2consent)||void 0===o?void 0:o.cookieContent,null===(s=l.usconsent)||void 0===s?void 0:s.cookieContent),d=f.default.getConfigParam("amazon.waitConsent");!u&&d?(0,m.cmpIsReady)().then(i):i()}function B(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{displayAuction:!0,videoAuction:!1};O("[INFO] Initialising amazon header bidding auction - time: ",a.default.getPerformanceTime());var t=f.default.getPublicSectionParam(w)||v,r={};if(f.default.getConfigParam("amazonTagEnabled")&&(r=S(e)),(r.display&&0<r.display.length||r.video&&0<r.video.length)&&void 0!==window.apstag){e.displayAuction&&(e.displayAuctionId=x("display")),e.videoAuction&&(e.videoAuctionId=x("video"));var n,i=[];return!0===e.displayAuction&&(n=e.displayAuctionId,i.push({enabled:!0,type:"display",timeout:I("display")+50,auctionCompletion:(0,l.getAuctionCompletionPromise)(P,n),setBidTargeting:R,id:n,completed:!1,errorCallback:A.bind(null,n)})),!0===e.videoAuction&&(n=e.videoAuctionId,i.push({enabled:!0,type:"video",timeout:I("video")+50,auctionCompletion:(0,l.getAuctionCompletionPromise)(_,n),setBidTargeting:function(){},id:n,completed:!1,errorCallback:D.bind(null,n)})),E(t,r,e),f.default.getFeatureValue("reduceJunkInDataLayer","features","bool")||a.default.setInfo("headerBidding.status","started"),i}return f.default.getFeatureValue("reduceJunkInDataLayer","features","bool")||a.default.setInfo("headerBidding.status","not configured"),O("[INFO] Header bidding auction NOT running - time: ",a.default.getPerformanceTime()),[]}var N={defineUnitsForAuction:S,getAuctionTimeout:I,init:B,setBidTargeting:R};r.default=N},{"../../scriptsCore/js/adUtilities.js":198,"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/dataLayerUtilities.js":202,"../../userConsent/js/quantcast/quantcast.js":279,"../../userConsent/js/staticConsent.js":281,"./helpers.js":218,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-core/src/js/events":30}],215:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.init=function(){if(!i.default.getConfigParam("blockthrough.enabled"))return void a("[INFO] Blockthrough not enabled");a("[INFO] Blockthrough enabled");var e=document.createElement("script");e.src=o,e.async=!0,document.head.appendChild(e)};var i=n(e("../../scriptsCore/js/configUtilities.js")),a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.default.logFeature.apply(i.default,["Blockthrough"].concat(t))},o="https://btloader.com/tag?o=5751365725323264&upapi=true"},{"../../scriptsCore/js/configUtilities.js":201,"@babel/runtime/helpers/interopRequireDefault":12}],216:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.init=c,r.default=void 0;var i,a=n(e("../../scriptsCore/js/dataLayerUtilities.js")),o=n(e("../../scriptsCore/js/configUtilities")),s=n(e("../../scriptsCore/js/sessionUtilities")),l=e("@trinitymirrordigital/chameleon-utilities");function u(e){var t=e.data&&e.data.user;t&&t.UID&&(s.default.setCookie("gigyaid",t.UID,43200),a.default.setInfo("user.gigya.uid",t.UID),o.default.log("Added gigya UID in datalayer."),i&&clearTimeout(i))}function c(){var e=o.default.getFeatureValue("gigyaLoggedInEventTimeout","","int")||1e3;document.body.addEventListener("gigya.user.islogedin",u);var t=(0,l.getCookie)("gigyaid");t&&a.default.setInfo("user.gigya.uid",t),i=setTimeout(function(){a.default.setInfo("user.gigya.uid",t||"gigyaNonUserOrTimeout"),o.default.log("No user logged in or gigya.user.islogedin event is not triggered within required timeout.")},e)}var d={init:c};r.default=d},{"../../scriptsCore/js/configUtilities":201,"../../scriptsCore/js/dataLayerUtilities.js":202,"../../scriptsCore/js/sessionUtilities":210,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-utilities":34}],217:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.init=function(){if(i.default.getConfigParam("gpt.waitConsent")){var e=(0,a.getConsent)().tcfv2consent,t=(0,s.default)(c);null!=e&&e.cookieContent?t():((0,o.cmpGDPRisReady)().then(t),(0,o.jurisdictionIsReady)().then(function(e){e.gdprApplies||t()}))}};var i=n(e("../../scriptsCore/js/configUtilities.js")),a=e("../../userConsent/js/staticConsent.js"),o=e("../../userConsent/js/quantcast/quantcast.js"),s=n(e("lodash/once")),l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.default.logFeature.apply(i.default,["GPT"].concat(t))},u="https://securepubads.g.doubleclick.net/tag/js/gpt.js";function c(){l("[INFO] injecting GPT script tag");var e=document.createElement("script");e.src=u,e.async=!0,document.head.appendChild(e)}},{"../../scriptsCore/js/configUtilities.js":201,"../../userConsent/js/quantcast/quantcast.js":279,"../../userConsent/js/staticConsent.js":281,"@babel/runtime/helpers/interopRequireDefault":12,"lodash/once":180}],218:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getDisplayHBAdSlotsForPrebid=w,r.getDisplayHBAdSlotsForAmazon=j,r.isOutstreamSlot=C,r.getOutstreamSlots=P,r.getNativeSlots=_,r.getAccess=O,r.getId=S,r.addBidsToDataLayer=R,r.getAuctionCompletionPromise=A,r.getLocationHostname=D,r.getDomainName=function(){var e,t;return(null===(e=window.TMCONFIG)||void 0===e||null===(t=e.features)||void 0===t?void 0:t.domain)||""},r.getCleanPageUrl=function(){var e,t=((null===(e=window.digitalData)||void 0===e?void 0:e.page)||{}).url;return(void 0===t?"":t).split("?")[0]},r.delay=k,r.getIabCategories=function(){var e,t=((null===(e=window)||void 0===e?void 0:e.mantis)||{}).categories,r=(t=void 0===t?{}:t).iab;return r&&r.map(function(e){var t=e.id;return String(t)})},r.getArticleContent=function(){var e,t,r=(null===(e=window.digitalData)||void 0===e||null===(t=e.article)||void 0===t?void 0:t.attributes)||{},n=r.ownerSite,i=r.articleId,a=r.articleTitle,o=r.articleUrl,s=r.articleLanguage;return i&&{id:"".concat(n,"-").concat(i),title:a,url:o,language:s}},r.default=r.removeEmpty=r.isValidConfigTextString=void 0;var i=n(e("@babel/runtime/helpers/toConsumableArray")),a=n(e("@babel/runtime/helpers/slicedToArray")),o=n(e("@babel/runtime/helpers/defineProperty")),s=n(e("../../scriptsCore/js/configUtilities.js")),l=n(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")),u=n(e("../../scriptsCore/js/dataLayerUtilities.js")),c=n(e("../../scriptsCore/js/adUtilities"));function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){(0,o.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var p=l.default.events,b="970x250,728x90,320x100,320x50,300x600,300x250,300x100,300x50,120x600",m=s.default.getPublicSectionParam("headerBiddingFailsafeTimeout")||6500;function h(e){var i=(s.default.getPublicSectionParam("amazon.header.sizes")||b).split(","),t=f({},e);return Array.isArray(t.sizes)&&(t.sizes=t.sizes.filter(Array.isArray).filter(function(e){var t=(0,a.default)(e,2),r=t[0],n=t[1];return i.includes("".concat(r,"x").concat(n))})),t}function v(e){var t=Object.assign({},e);if(t.sizeMapping){var r=function(e){return(0<arguments.length&&void 0!==e?e:window).innerWidth}(),n=t.sizeMapping.sort(function(e,t){return t[0][0]-e[0][0]});t.sizes=n.find(function(e){return r>e[0][0]})[1]||t.sizes}return t}function g(e){var t=Object.assign({},e),r=c.default.isDesktopBreakpoint()&&"div-gpt-ad-top-slot"===t.name&&!!s.default.getConfigParam("azerionSkinEnabled");return t.sizes=r?[].concat((0,i.default)(t.sizes),[[1800,1e3]]):t.sizes,t}function y(){var e=s.default.getElementsByTypeForCurrentBreakpoint("gpt"),t=e.filter(function(e){return!e.maxRepeatHB}),r=e.filter(function(e){return e.repeat&&e.maxRepeatHB}),n=r.flatMap(function(r){return Array.from({length:r.maxRepeatHB},function(e,t){return f(f({},r),{},{name:"".concat(r.name,"-").concat(t)})})});return[].concat((0,i.default)(t),(0,i.default)(n)).filter(function(e){return e.includeInHeaderBidding}).filter(function(e){return!C(e)}).filter(function(e){return r=(t=e).deferred,n=document.querySelector("#".concat(t.name)),!(!r&&!n);var t,r,n}).map(h).map(v)}function w(){return y().map(g)}function j(){return y().filter(function(e){return!e.name.includes("mantis")})}function C(e){return"VIP"===(null==e?void 0:e.type)}function P(){return s.default.getElementsByTypeForCurrentBreakpoint("gpt").filter(function(e){return C(e)}).filter(function(e){return e.sizes&&0<e.sizes.length})}function _(){return s.default.getElementsByTypeForCurrentBreakpoint("native").filter(function(e){return e.includeInHeaderBidding}).filter(function(e){var t;return null==e||null===(t=e.providers)||void 0===t?void 0:t.find(function(e){return"prebid"===e.providerName})})}function O(){return new Promise(function(t){(window.TMDATA||{}).access?t(window.TMDATA.access):p.listen(document.body,"dataLayer.ready",function(e){t(e.data.access)})})}function S(e){return e+(new Date).getTime()+Math.floor(1e7*Math.random())}function R(t){s.default.getFeatureValue("reduceJunkInDataLayer","features","bool")||t.data.bids.forEach(function(e){u.default.setInfo("components.gpt."+t.data.type+"bids."+e[t.data.slotIdParam],e,!0)})}function A(n,i){var a;return new Promise(function(r,t){delete document.body.dataEvents[n],p.listen(document.body,"auction.failsafe.timeout",function(e){i===e.data.id&&t("failsafe timeout for ".concat(i," ").concat(m))}),p.listen(document.body,"auction.started",function e(t){t.data.id===i&&(document.body.removeEventListener("auction.started",e),a=setTimeout(function(){p.fire(document.body,"auction.failsafe.timeout",{id:i,timeout:m})},m))}),p.listen(document.body,n,function e(t){i===t.data.id&&(document.body.removeEventListener(n,e),clearTimeout(a),r(t))})})}function D(){return window.location.hostname}function k(t,r){return new Promise(function(e){return setTimeout(e,t,r)})}function x(e){return!["true",!0,"false",!1,"",void 0,null].includes(e)}function I(e){return e.filter(function(e){return 0<Object.keys(e).length})}var T={addBidsToDataLayer:R,checkIfVideoExists:function(e,t){if(!e("article")||!e("article.info"))return!1;var r=e("article.info.videos")||[];try{return 0!==r.length&&(t&&(r=r.filter(function(e){return e.placement===t})),r)}catch(e){return s.default.logFeature("helpers","Video - not an article containing a video",e),!1}},clearHeaderBidTargetingForSlot:function(t){if(t&&t.clearTargeting){var e=["hb_","oz_","amzn","ix_"];t.getTargetingKeys().filter(function(t){return e.some(function(e){return t.startsWith(e)})}).forEach(function(e){return t.clearTargeting(e)})}},delay:k,getAccess:O,getAuctionCompletionPromise:A,getDisplayHBAdSlotsForPrebid:w,getDisplayHBAdSlotsForAmazon:j,getId:S,getLocationHostname:D,getNativeSlots:_,getOutstreamSlots:P,isOutstreamSlot:C,replaceVal:function(e,t,r){return r===e?t:r},isValidConfigTextString:r.isValidConfigTextString=x,removeEmpty:r.removeEmpty=I};r.default=T},{"../../scriptsCore/js/adUtilities":198,"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/dataLayerUtilities.js":202,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/slicedToArray":20,"@babel/runtime/helpers/toConsumableArray":22,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28}],219:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.iasDataHandler=f,r.init=p,r.default=void 0;var i=n(e("../../scriptsCore/js/configUtilities.js")),a=n(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")),o=n(e("../../scriptsCore/js/dataLayerUtilities.js")),s=a.default.events,l=i.default.logFeature,u=2e3,c="ias.pet.v2.enabled",d="ias.pet.timeout";function f(e){var t=JSON.parse(e);l("IAS","[INFO] IAS v2 data handler called with ",t),o.default.setInfo("IAS",t),o.default.finaliseDatalayerTiming("ias"),s.listen(document.body,"gpt.slots.registered",function(){window.__iasPET.setTargetingForGPT(),s.fire(document.body,"ias.complete")})}function p(){if(l("IAS","[INFO] IAS init time: ",o.default.getPerformanceTime()),i.default.isFeatureEnabled(c,!1)){l("IAS","[INFO] IAS PET v2  enabled"),o.default.initialiseDatalayerTiming("ias");var e=Number(i.default.getFeatureData(d))||u;window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId="925430",window.__iasPET.timeout=e;var t=i.default.getElementsByTypeForCurrentBreakpoint("gpt"),r=(i.default.getElementsForBreakpoint("page")||{}).adUnitId;l("IAS","[INFO] GPT slots data: ",t);var n=[];t.filter(function(e){return!1!==e.injectionEnabled}).filter(function(e){return!1!==e.enabled}).forEach(function(e){var t=e.sizes||[0,0];n.push({adSlotId:e.name,size:t,adUnitPath:r})}),l("IAS","[INFO] IAS v2 slots data: ",n),window.__iasPET.queue.push({adSlots:n,dataHandler:f})}else l("IAS","[INFO] IAS PET v2 not enabled")}var b=p;r.default=b},{"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/dataLayerUtilities.js":202,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28}],220:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.init=function(){window.addEventListener("grapeshot.loaded",c),l(function(){var e,t,r,n=window.mantis,i=void 0===n?{}:n,a=(null===(e=i.ratings)||void 0===e?void 0:e.map(function(e){return"mtsBs".concat(e.customer).concat(e.rating)}))||[],o=(null===(t=i.categories)||void 0===t||null===(r=t.mantis)||void 0===r?void 0:r.map(function(e){return"mtsCtx".concat(e.label)}))||[],s=[].concat((0,u.default)(a),(0,u.default)(o)),l="string"==typeof i.sentiment?i.sentiment:null;return l||s.length?Object.assign({},l?{"ext.indexexchange.sentiment":l}:null,s.length?{"ext.indexexchange.mantis":s}:null):null})};var u=i(e("@babel/runtime/helpers/toConsumableArray")),a=i(e("@babel/runtime/helpers/slicedToArray")),o=n(e("nested-property")),s={};function l(t){window.headertag=window.headertag||{cmd:[]},window.headertag.cmd.push(function(){var e=t();e&&(Object.entries(e).forEach(function(e){var t=(0,a.default)(e,2),r=t[0],n=t[1];return o.set(s,r,n)}),window.headertag.setSiteKeyValueData(s))})}function c(){l(function(){var t=window.gs_channels||"";return 0<!t.length?null:{"ext.indexexchange.brand_safety":["trinity_safe","gv_safe"].filter(function(e){return t.includes(e)})}})}},{"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@babel/runtime/helpers/slicedToArray":20,"@babel/runtime/helpers/toConsumableArray":22,"nested-property":190}],221:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.init=function(){var e=document.readyState;"interactive"===e||"complete"===e?d():document.addEventListener("readystatechange",f)};var i,a=n(e("../../scriptsCore/js/configUtilities.js")),o=n(e("../../scriptsCore/js/sessionUtilities.js")),s=e("../../scriptsCore/js/dependencyUtilities.js"),l=n(e("../../scriptsCore/js/injection.js")),u=e("../../scriptsCore/js/nativeSlots.js"),c="advertisingConfig";function d(){o.default.updatePageViews(),(i=(0,s.createDependencyPromises)("injectionDependencies"))?(a.default.log("Deferring injection until events complete"),i.then(function(e){a.default.log("Injection: Resolved dependency promises",e),a.default.init(c),l.default.init()}).catch(function(e){a.default.log("Injection: Rejected (timed out) dependency promises",e),a.default.init(c),l.default.init()})):(a.default.log("Not deferring injection - running immediately"),l.default.init()),(0,u.init)()}var f=function e(t){"interactive"!==t.target.readyState&&"complete"!==t.target.readyState||(d(),document.removeEventListener("readystatechange",e))}},{"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/dependencyUtilities.js":203,"../../scriptsCore/js/injection.js":205,"../../scriptsCore/js/nativeSlots.js":207,"../../scriptsCore/js/sessionUtilities.js":210,"@babel/runtime/helpers/interopRequireDefault":12}],222:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getMantisData=y,r.allowed=w,r.init=function(){a.default.getConfigParam("lotameLightningTagV2")&&!(0,c.isScdRed)()&&(0,s.cmpIsReady)().then(function(){w()?function(){var e=v("_cc_id");e?(h(b,e),i.default.setInfo("user.luid",e)):i.default.setInfo("user.luid","unknown");var t=v(p);t&&g(t.split(","));window["lotame_".concat(f)]=function(){var n=a.default.getConfigParam("lotamePage");return{data:{},config:{clientId:Number(f),audienceLocalStorage:p,onProfileReady:function(e){var t=e.getProfileId()||"";t&&(h(b,t),i.default.setInfo("user.luid",t),d.default.fire(window,"lotame.id.ready",t));var r=e.getAudiences()||[];r.length&&(i.default.setInfo("user.audiences",r.toString()),g(r))},onTagReady:function(){var e=y(window.mantis),t=window["lotame_"+f],r=a.default.getConfigParam("lotameMantisDisabled");t&&t.cmd&&!r&&(t.cmd.push(function(){t.collect({behaviors:{int:e}})}),n&&setTimeout(function(){t.cmd.push(function(){t.page()})},5e3))},autoRun:!n}}}(),function(){var e=f,t=document.createElement("script");t.async=!0,t.src="https://tags.crwdcntrl.net/lt/c/".concat(e,"/lt.min.js"),document.head.append(t)}()}():d.default.fire(window,"lotame.not.consented",{})})};var l=n(e("@babel/runtime/helpers/toConsumableArray")),u=n(e("@babel/runtime/helpers/slicedToArray")),a=n(e("../../scriptsCore/js/configUtilities.js")),i=n(e("../../scriptsCore/js/dataLayerUtilities.js")),o=e("../../userConsent/js/staticConsent.js"),s=e("../../userConsent/js/quantcast/quantcast.js"),c=e("../../mantis/js/scd.js"),d=n(e("@trinitymirrordigital/chameleon-core/src/js/events")),f="9458",p="lotame_".concat(f,"_auds"),b="luid",m="aud";function h(e,t){var r=(window.googletag=window.googletag||{cmd:[]},window.googletag);r.cmd.push(function(){return r.pubads().setTargeting(e,t)})}function v(e){return window.localStorage.getItem(e)||""}function g(e){var t,r,n=(t=e.map(function(e){return e.toString()}).filter(function(e){return!e.startsWith("pb_")}),r=a.default.getConfigParam("lotameAudiencesLimit")||10,t.slice(0,r));h(m,n);var i=e.filter(function(e){return e.toString().startsWith("pb_")}).map(function(e){return e.substr(3)});d.default.fire(window,"lotame.audiences.ready",{allAudiences:e,gamAudiences:n,prebidAudiences:i})}function y(e){if(!e)return["mantis: not_available"];var t=(null==e?void 0:e.ratings)||[],r=(null==e?void 0:e.categories)||{},n=(null==e?void 0:e.emotion)||{},i=(null==e?void 0:e.sentiment)||"neutral",a=(r.mantis||[]).filter(function(e){return.7<e.score}).map(function(e){return"mantis: mantis_context_"+e.label}),o=Object.entries(n).map(function(e){var t=(0,u.default)(e,2);return"mantis: mantis_"+t[0]+"_"+t[1].level}),s=t.map(function(e){return"mantis: mantis_"+e.customer+"_"+e.rating});return a.push("mantis: mantis_sentiment_"+i),a=[].concat((0,l.default)(a),(0,l.default)(o),(0,l.default)(s))}function w(){return o.isConsented.apply(void 0,(0,l.default)(o.vendors.lotame))}},{"../../mantis/js/scd.js":196,"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/dataLayerUtilities.js":202,"../../userConsent/js/quantcast/quantcast.js":279,"../../userConsent/js/staticConsent.js":281,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/slicedToArray":20,"@babel/runtime/helpers/toConsumableArray":22,"@trinitymirrordigital/chameleon-core/src/js/events":30}],223:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getMantisIdIfAllowedForVendor=function(e){var t,r=(0,l.getConsent)(),n=null===(t=r.tcfv2consent)||void 0===t?void 0:t.gdprApplies,i=[l.purposes.STORE_AND_ACCESS_INFORMATION_ON_A_DEVICE,l.purposes.CREATE_A_PERSONALISED_ADS_PROFILE,l.purposes.SELECT_PERSONALISED_ADS],a=l.isConsented.apply(void 0,(0,o.default)(e));a&&n&&(a=(0,l.purposesAccepted)(i));return a?s.default.getCookie("mantisid"):void 0},r.init=function(){if(!i.default.getConfigParam("mantisIdEnabled"))return;(0,a.cmpIsReady)().then(function(){var e,t,r,n;!function(){var e,t,r=(0,l.getConsent)(),n=null===(e=r.tcfv2consent)||void 0===e?void 0:e.gdprApplies,i=null===(t=r.usconsent)||void 0===t?void 0:t.ccpaApplies;{if(n){var a=[l.purposes.STORE_AND_ACCESS_INFORMATION_ON_A_DEVICE];return(0,l.purposesAccepted)(a)&&(0,l.publisherPurposesAccepted)(a)}var o;return!i||(null===(o=r.usconsent)||void 0===o||!o.optedout)}}()||(e=s.default.getCookie("mantisid"),t=""===e?([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}):e,r="https:"===window.location.protocol,n=new Date(Date.now()+31536e6).toUTCString(),function(e){document.cookie=e}("mantisid=".concat(t,";expires=").concat(n,";path=/;domain=").concat(function(){var e=window.location.hostname.split(".");return(0,o.default)(e).slice(-(4===e.length?3:2)).join(".")}(),";").concat(r&&"samesite=none;secure;")))})};var o=n(e("@babel/runtime/helpers/toConsumableArray")),i=n(e("../../scriptsCore/js/configUtilities.js")),s=n(e("../../scriptsCore/js/pageUtilities.js")),a=e("../../userConsent/js/quantcast/quantcast.js"),l=e("../../userConsent/js/staticConsent.js")},{"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/pageUtilities.js":209,"../../userConsent/js/quantcast/quantcast.js":279,"../../userConsent/js/staticConsent.js":281,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/toConsumableArray":22}],224:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getMassConfig=function(){return i.default.getConfigParam(a)?{mass:{enabled:!0,renderUrl:"https://cdn.massplatform.net/bootloader.js",dealIdPattern:/^MASS/i}}:{}},r.init=function(){if(!i.default.getConfigParam(a))return void s("[INFO] MASS not enabled");s("[INFO] MASS enabled");var e=i.default.getFeatureValue(o)||"131613";window.massConfig={inskin:{default:{plr_PublisherId:e}}}};var i=n(e("../../scriptsCore/js/configUtilities.js")),a="massDisplayPrebidEnabled",o="massDisplayPrebidPublisherId",s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.default.logFeature.apply(i.default,["MASS"].concat(t))}},{"../../scriptsCore/js/configUtilities.js":201,"@babel/runtime/helpers/interopRequireDefault":12}],225:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getGVLMapping=Oe,r.getTargetingControls=Se,r.getGDPREnforcementRules=Ae,r.getHeaderBiddingTimeout=xe,r.getConsentManagement=Ie,r.setCompletedFlag=Te,r.videoAuctionCompletedCallback=Ee,r.displayAuctionCompletedCallback=Be,r.runPrebidAuctions=ze,r.init=Ge,r.default=r.requestBids=r.runPrebidCommandAsync=void 0;var f=i(e("@babel/runtime/regenerator")),a=i(e("@babel/runtime/helpers/asyncToGenerator")),o=i(e("@babel/runtime/helpers/defineProperty")),p=i(e("@babel/runtime/helpers/toConsumableArray")),l=i(e("../../scriptsCore/js/configUtilities.js")),b=i(e("../../scriptsCore/js/pageUtilities.js")),s=n(e("../../scriptsCore/js/eventPromise.js")),u=i(e("../../scriptsCore/js/dataLayerUtilities.js")),c=i(e("../../scriptsCore/js/adUtilities.js")),d=i(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")),m=e("../../userConsent/js/staticConsent.js"),h=e("../../userConsent/js/quantcast/quantcast.js"),v=i(e("./helpers.js")),g=i(e("lodash/pick")),y=e("./mass.js"),w=e("./prebid/jwPlayerRTD.js"),j=e("./prebid/basebidder.js"),C=e("./prebid/appNexus.js"),P=e("./prebid/collective.js"),_=e("./prebid/convergeDisplay.js"),O=e("./prebid/convergeVideo.js"),S=e("./prebid/criteo.js"),R=e("./prebid/criteoVideo.js"),A=e("./prebid/emxDisplay.js"),D=e("./prebid/emxVideo.js"),k=e("./prebid/gumgumDisplay.js"),x=e("./prebid/improvedigitalDisplay.js"),I=e("./prebid/improveDigitalVideo.js"),T=e("./prebid/ixDisplay.js"),E=e("./prebid/ixVideo.js"),B=e("./prebid/justpremiumDisplay.js"),N=e("./prebid/magniteDisplay.js"),M=e("./prebid/mediaGrid.js"),L=e("./prebid/mediaGridVideo.js"),F=e("./prebid/nobidDisplay"),U=e("./prebid/nobidVideo"),q=e("./prebid/openxDisplay.js"),V=e("./prebid/openxVideo.js"),z=e("./prebid/ozone.js"),G=e("./prebid/ozoneOutstream.js"),H=e("./prebid/ozoneVideo.js"),W=e("./prebid/pubmaticDisplay.js"),K=e("./prebid/pubmaticVideo.js"),J=e("./prebid/richaudienceDisplay.js"),X=e("./prebid/richaudienceSkins.js"),Y=e("./prebid/richaudienceVideo.js"),$=e("./prebid/smartadserver.js"),Q=e("./prebid/smartadserverVideo.js"),Z=e("./prebid/sovrnDisplay.js"),ee=e("./prebid/spotx.js"),te=e("./prebid/triplelift.js"),re=e("./prebid/tripleliftVideo.js"),ne=e("./prebid/tripleliftNative.js"),ie=e("./prebid/verizonDisplay.js"),ae=e("./prebid/xandrDisplay.js"),oe=e("./prebid/xandrPSPDisplay.js"),se=e("./prebid/xandrPSPNative.js"),le=e("./prebid/xandrPSPVideo.js"),ue=e("./prebid/xandrPSPOutstream.js"),ce=e("./prebid/mantisKeywords.js"),de=e("../../data/js/liveRamp.js");function fe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(r),!0).forEach(function(e){(0,o.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var be=l.default.logFeature,me="videoHeaderBiddingTimeout",he="displayHeaderBiddingTimeout",ve="prebidVideoConsentTimeout",ge="prebidDisplayConsentTimeout",ye="prebidSendVideoBidderSpecificKeys",we="prebidCurrencyModule",je="ca264180-78ad-475d-be8d-811c5571368d",Ce=d.default.events;window.pbjs_reach=window.pbjs_reach||{},window.pbjs_reach.que=window.pbjs_reach.que||[];var Pe={display:[new P.Collective,new _.ConvergeDisplay,new S.Criteo,new A.EmxDisplay,new x.ImproveDigitalDisplay,new T.IxDisplay,new B.JustPremiumDisplay,new k.GumGumDisplay,new N.MagniteDisplay,new M.MediaGrid,new F.NobidDisplay,new q.OpenXDisplay,new z.Ozone,new W.PubmaticDisplay,new J.RichAudienceDisplay,new X.RichAudienceSkins,new $.SmartAdServer,new Z.SovrnDisplay,new te.Triplelift,new ie.VerizonDisplay,new ae.XandrDisplay,new oe.XandrPSPDisplay],video:[new C.AppNexus,new O.ConvergeVideo,new R.CriteoVideo,new D.EmxVideo,new I.ImproveDigitalVideo,new L.MediaGridVideo,new E.IxVideo,new U.NobidVideo,new V.OpenXVideo,new H.OzoneVideo,new K.PubmaticVideo,new Y.RichAudienceVideo,new Q.SmartAdServerVideo,new ee.SpotX,new re.TripleliftVideo,new le.XandrPSPVideo],outstream:[new G.OzoneOutstream,new ue.XandrPSPOutstream],native:[new ne.TripleliftNative,new se.XandrPSPNative]},_e=function(r){return new Promise(function(e,t){try{window.pbjs_reach.que.push(function(){e(r())})}catch(e){t(e)}})};function Oe(){return{collective564:179,grid:686,nobid:816,pubCommonId:887,ra:108,spotx:165,verizonmedia:25}}function Se(){return{addTargetingKeys:["CACHE_ID","SOURCE"]}}function Re(){return new Promise(function(t){function i(e){window.removeEventListener("lotame.not.consented",r),window.removeEventListener("lotame.audiences.ready",n),clearTimeout(a),t(e)}var r=function(){return i()},n=function(e){var t,r,n=(null!==(t=null==e||null===(r=e.data)||void 0===r?void 0:r.prebidAudiences)&&void 0!==t?t:[]).map(function(e){return{id:e}});i({name:"lotame.com",ext:{segtax:4},segment:n})},e=Number(l.default.getFeatureValue("prebidLotameWaiting"))||5e3,a=setTimeout(function(){return i(null)},e);d.default.events.listen(window,"lotame.not.consented",r),d.default.events.listen(window,"lotame.audiences.ready",n)})}function Ae(){return[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0}]}function De(){return{video:{buckets:[{min:0,max:14.9999,increment:.1},{min:15,max:29.9999,increment:.2},{min:30,max:49.9999,increment:.5},{min:50,max:200,increment:1}]},banner:{buckets:[{min:0,max:2.9999,increment:.01},{min:3,max:7.9999,increment:.05},{min:8,max:20,increment:.5}]},native:"medium"}}function ke(){return{enabled:!0,defaultForSlots:1}}function xe(){var e={default:{timeout:2e3,key:!1},video:{timeout:6e3,key:me},display:{timeout:2e3,key:he},videoConsent:{timeout:4e3,key:ve},displayConsent:{timeout:2e3,key:ge}}[0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default"],t=e.timeout,r=e.key,n=(window.TMCONFIG||{}).publicSectionParams||{};return(r?Number(b.default.getQueryParameter(r))||Number(n[r]):0)||t}function Ie(e){var t,r,n,i,a=xe(e),o=(0,m.getConsent)(),s=o.usconsent||{},l=o.tcfv2consent||{},u=s.cookieContent,c=l.cookieContent,d=!!c,f={getTCData:{tcString:c,gdprApplies:!0,addtlConsent:(null===l?void 0:l.addtlConsent)||"",purpose:{consents:(null===l||null===(t=l.purpose)||void 0===t?void 0:t.consents)||{},legitimateInterests:(null===l||null===(r=l.purpose)||void 0===r?void 0:r.legitimateInterests)||{}},vendor:{consents:(null===l||null===(n=l.vendor)||void 0===n?void 0:n.consents)||{},legitimateInterests:(null===l||null===(i=l.vendor)||void 0===i?void 0:i.legitimateInterests)||{}}}},p=Ae();return{usp:u?{cmpApi:"static",consentData:{getUSPData:{uspString:u}},rules:p}:{cmpApi:"iab",timeout:a,rules:p},gdpr:d?{cmpApi:"static",consentData:f,rules:p}:{cmpApi:"iab",timeout:a,rules:p}}}function Te(t){var r=!1;t||(r=!0);var e=u.default.getInfo("headerBidding.auctions").map(function(e){return(e.id===t||r&&"video"===e.type)&&(e.completed=!0),e});u.default.setInfo("headerBidding.auctions",e)}function Ee(e){Te(e)}function Be(e){Te(e),_e(function(){window.pbjs_reach.setTargetingForGPTAsync(),c.default.removeUnneededTargeting()})}function Ne(e){var t=String(l.default.getFeatureValue("appNexusServerAccountId")||je),r=Object.values(Pe).flat(),n=r.reduce(function(e,t){return t.isEnabled()&&t.serverside.length?(0,p.default)(new Set([].concat((0,p.default)(e),(0,p.default)(t.serverside)))):e},[]),i=r.reduce(function(e,t){return pe(pe({},e),t.serverSideAlias)},{}),a=!!n.length;return a?{s2sConfig:{enabled:a,timeout:e,accountId:t,bidders:n,defaultVendor:"appnexus",extPrebid:{aliases:i}}}:{}}function Me(){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.default)(f.default.mark(function e(){var t,r,n,i,a,o;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:if(n=e.sent,i=n?{user:{data:[n]}}:{},a=(null===(t=ce.mantisKeywordsInstance.getKeywords(window.mantis,!0))||void 0===t||null===(r=t.mantis_context)||void 0===r?void 0:r.join(", "))||"",o=""==a?{}:{site:{keywords:a}},i.user||""!=a){e.next=8;break}return e.abrupt("return",{});case 8:return e.abrupt("return",{ortb2:pe(pe({},i),o)});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fe(){return l.default.getFeatureValue(we)?{currency:{adServerCurrency:"USD",granularityMultiplier:1,defaultRates:{USD:{GBP:.795}},conversionRateFile:"https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json"}}:{}}function Ue(){return(Ue=(0,a.default)(f.default.mark(function e(t,r,n){var i,a,o,s,l,u,c;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=xe("video"),a=Ne(i),o=(0,w.getJwRTD)(),e.next=5,Me();case 5:return s=e.sent,l=Fe(),u=pe(pe(pe(pe({debug:"true"===b.default.getQueryParameter("pbjs_debug"),mediaTypePriceGranularity:De(),consentManagement:Ie("videoConsent"),fledgeForGpt:ke(),enableTIDs:!0,gvlMapping:Oe(),targetingControls:Se(),cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}},l),s),a),o),c={adUnits:r,timeout:i,prebidConfig:u,slotNames:["video"],eventName:"prebid.video.ready",eventData:{type:"prebid",id:t,auctionCompletedCallback:Be,videoBidderSpecificKeys:n}},e.abrupt("return",c);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qe(){return(qe=(0,a.default)(f.default.mark(function e(r,n){var i,a,o,s,l,u,c,d;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=xe("display"),a=Ne(i),o=(0,y.getMassConfig)(),s=Fe(),l=[].concat((0,p.default)(v.default.getDisplayHBAdSlotsForPrebid()),(0,p.default)(v.default.getOutstreamSlots())).map(function(e){return e.name}),e.next=7,Me();case 7:return u=e.sent,c=pe(pe(pe(pe({debug:"true"===b.default.getQueryParameter("pbjs_debug"),mediaTypePriceGranularity:De(),consentManagement:Ie("displayConsent"),fledgeForGpt:ke(),enableTIDs:!0,gvlMapping:Oe(),targetingControls:Se(),userSync:(t=[de.getRampIdConfig()],{filterSettings:{iframe:{bidders:"*",filter:"include"}},userIds:v.default.removeEmpty(t)})},u),s),o),a),d={adUnits:n,timeout:i,prebidConfig:c,slotNames:l,eventName:"prebid.display.ready",eventData:{type:"prebid",id:r,slotIdParam:"adUnitCode",addBidsToDataLayer:v.default.addBidsToDataLayer,auctionCompletedCallback:Be}},e.abrupt("return",d);case 11:case"end":return e.stop()}var t},e)}))).apply(this,arguments)}r.runPrebidCommandAsync=_e;var Ve=function(){var t=(0,a.default)(f.default.mark(function e(t){var r,n,i,a,o,s;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.prebidConfig,n=t.adUnits,i=t.timeout,a=t.slotNames,o=t.eventName,s=t.eventData,e.next=3,_e(function(){var e,t;window.pbjs_reach.setConfig(r),e=[(0,de.getAtsAnalyticsConfig)()],0<(t=v.default.removeEmpty(e)).length&&window.pbjs_reach.enableAnalytics(t),l.default.getConfigParam("prebid.sendAllBids")||(window.pbjs_reach.setConfig({enableSendAllBids:!1}),be("prebid","Only sending winning bids ")),be("prebid","Requesting bids, fire 'auction.started' for ",s.id),Ce.fire(document.body,"auction.started",{id:s.id}),window.pbjs_reach.requestBids({adUnits:n,timeout:i,bidsBackHandler:function(i){be("prebid","Response from prebid for adUnits:",n,"res:",i),i?(s.bids=[],a.forEach(function(e){var t,r;if(null!==(t=i[e])&&void 0!==t&&(null!==(r=t.bids)&&void 0!==r&&r.length)){var n=oe.XandrPSPDisplay.sanitiseBidResponse(i[e].bids,e);s.bids=s.bids.concat(n)}}),be("prebid","bidsBackHandler firing event ",o,s),Ce.fire(document.body,o,s)):be("prebid","Prebid responded with empty object")}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();function ze(a,t,e){be("prebid","Initiating prebid header bidding "+(new Date).toISOString());function r(){var r=Pe.video.filter(function(e){return e.isEnabled()}),n=(0,w.getJWTargeting)(),e=["video"].map(function(e){var t=r.map(function(e){return e.getBid({access:a})}).filter(function(e){return!1!==e});return!!t.length&&{code:e,mediaTypes:{video:(0,g.default)(j.VideoBidder.config.videoParams,["context","playerSize","mimes","protocols","playbackmethod","maxduration","skip","placement","api"])},bids:t,ortb2Imp:{ext:{gpid:"".concat(s,"#").concat(e),data:pe({},n&&{jwTargeting:n})}}}}).filter(function(e){return!1!==e}),t=l.default.getConfigParam(ye)||!0?r.map(function(e){return e.getVideoSpecificKeys()}).flat():[];(function(e,t,r){return Ue.apply(this,arguments)})(o.video,e,t).then(function(e){return Ve(e)})}function n(){var n=Pe.display.filter(function(e){return e.isEnabled()}),e=v.default.getDisplayHBAdSlotsForPrebid().map(function(t){var e=t.slotID||t.name,r=n.map(function(e){return e.getBid({slot:t,access:a})}).filter(function(e){return!1!==e});return 0<r.length&&{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:r,ortb2Imp:{ext:{gpid:"".concat(s,"#").concat(e)}}}}),t=v.default.getOutstreamSlots().map(function(t){var e=t.slotID||t.name,r=Pe.outstream.filter(function(e){return e.isEnabled()}).map(function(e){return e.getBid({slot:t,access:a})}).filter(function(e){return!1!==e});return 0<r.length&&{code:e,mediaTypes:{video:{context:"outstream",playerSize:[640,360],renderer:{backupOnly:!0,url:"//acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render:function(e){var t,r="div-vip-xandr-outstream",n=document.createElement("div");n.id=r,document.getElementById(e.adUnitCode).after(n),null!==(t=window.ANOutstreamVideo)&&void 0!==t&&t.renderAd({targetId:r,adResponse:e.adResponse})},options:{disableCollapse:{enabled:!0,replay:!0}}}}},bids:r,ortb2Imp:{ext:{gpid:"".concat(s,"#").concat(e)}}}}),r=v.default.getNativeSlots().map(function(t){var e=t.slotID||t.name,r=t.providers.find(function(e){return"prebid"===e.providerName}),n=Pe.native.filter(function(e){return e.isEnabled()}).map(function(e){return e.getBid({slot:t,access:a})}).filter(function(e){return!1!==e});return 0<n.length&&{code:e,mediaTypes:r.mediaTypes,bids:n,ortb2Imp:{ext:{gpid:"".concat(s,"#").concat(e)}}}}),i=[].concat((0,p.default)(t),(0,p.default)(e),(0,p.default)(r)).filter(function(e){return!1!==e});(function(e,t){return qe.apply(this,arguments)})(o.display,i).then(function(e){return Ve(e)})}var o={display:!0===t.displayAuction?v.default.getId("prebidDisplay"):"",video:!0===t.videoAuction?v.default.getId("prebidVideo"):""},i=c.default.getPageLevelData().adUniturl,s=void 0===i?"":i;return e.then(function(){if(l.default.getConfigParam("testDelayServersideVideo")){var e=null;!0===t.displayAuction&&(e=n()),!0===t.videoAuction&&(e?e.then(function(){return r()}):r())}else!0===t.displayAuction&&n(),!0===t.videoAuction&&r()}),o}function Ge(e,t){var r=[];if(be("prebid","[INFO] Prebid video header bidding flags: ",e),e){var n=s.eventToPromise({name:"prebidjs.loaded"},document.body).then(function(){return function(e){var t=[];e.displayAuction&&t.push.apply(t,(0,p.default)([].concat((0,p.default)(Pe.display),(0,p.default)(Pe.outstream),(0,p.default)(Pe.native)).map(function(e){return e.init()}))),e.videoAuction&&t.push.apply(t,(0,p.default)(Pe.video.map(function(e){return e.init()})));var r=(0,m.getConsent)().tcfv2consent,n=l.default.getConfigParam("prebid.waitConsent");if((null==r||!r.cookieContent)&&n){var i=new Promise(function(t){(0,h.userSavedConsent)().then(t),(0,h.jurisdictionIsReady)().then(function(e){e.gdprApplies||t()})});t.push(i)}return Promise.all(t)}(e)}),i={};(e.displayAuction||e.videoAuction)&&(i=ze(t,e,n)),!0===e.displayAuction&&r.push({enabled:!0,type:"display",timeout:xe("display"),auctionCompletion:v.default.getAuctionCompletionPromise("prebid.display.ready",i.display),id:i.display,completed:!1,errorCallback:Be}),!0===e.videoAuction&&r.push({enabled:!0,type:"video",timeout:xe("video"),auctionCompletion:v.default.getAuctionCompletionPromise("prebid.video.ready",i.video),id:i.video,completed:!1,errorCallback:Ee})}return r}r.requestBids=Ve;var He={VIDEO_TIMEOUT_PARAM:me,DISPLAY_TIMEOUT_PARAM:he,VIDEO_CONSENT_TIMEOUT_PARAM:ve,DISPLAY_CONSENT_TIMEOUT_PARAM:ge,getConsentManagement:Ie,getHeaderBiddingTimeout:xe,init:Ge,runPrebidAuctions:ze};r.default=He},{"../../data/js/liveRamp.js":195,"../../scriptsCore/js/adUtilities.js":198,"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/dataLayerUtilities.js":202,"../../scriptsCore/js/eventPromise.js":204,"../../scriptsCore/js/pageUtilities.js":209,"../../userConsent/js/quantcast/quantcast.js":279,"../../userConsent/js/staticConsent.js":281,"./helpers.js":218,"./mass.js":224,"./prebid/appNexus.js":226,"./prebid/basebidder.js":227,"./prebid/collective.js":228,"./prebid/convergeDisplay.js":229,"./prebid/convergeVideo.js":230,"./prebid/criteo.js":231,"./prebid/criteoVideo.js":232,"./prebid/emxDisplay.js":233,"./prebid/emxVideo.js":234,"./prebid/gumgumDisplay.js":235,"./prebid/improveDigitalVideo.js":236,"./prebid/improvedigitalDisplay.js":237,"./prebid/ixDisplay.js":238,"./prebid/ixVideo.js":239,"./prebid/justpremiumDisplay.js":240,"./prebid/jwPlayerRTD.js":241,"./prebid/magniteDisplay.js":242,"./prebid/mantisKeywords.js":243,"./prebid/mediaGrid.js":244,"./prebid/mediaGridVideo.js":245,"./prebid/nobidDisplay":246,"./prebid/nobidVideo":247,"./prebid/openxDisplay.js":248,"./prebid/openxVideo.js":249,"./prebid/ozone.js":250,"./prebid/ozoneOutstream.js":251,"./prebid/ozoneVideo.js":252,"./prebid/pubmaticDisplay.js":253,"./prebid/pubmaticVideo.js":254,"./prebid/richaudienceDisplay.js":255,"./prebid/richaudienceSkins.js":256,"./prebid/richaudienceVideo.js":257,"./prebid/smartadserver.js":258,"./prebid/smartadserverVideo.js":259,"./prebid/sovrnDisplay.js":260,"./prebid/spotx.js":261,"./prebid/triplelift.js":262,"./prebid/tripleliftNative.js":263,"./prebid/tripleliftVideo.js":264,"./prebid/verizonDisplay.js":265,"./prebid/xandrDisplay.js":266,"./prebid/xandrPSPDisplay.js":267,"./prebid/xandrPSPNative.js":268,"./prebid/xandrPSPOutstream.js":269,"./prebid/xandrPSPVideo.js":270,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@babel/runtime/helpers/toConsumableArray":22,"@babel/runtime/regenerator":25,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28,"lodash/pick":182}],226:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.AppNexus=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=e("./basebidder.js"),d=n(e("../../../scriptsCore/js/configUtilities.js")),f=n(e("lodash/pick"));function p(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var b=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"appnexus",configPath:"videoHB.appNexus",sectionParam:"appNexusVideoPrebidEnabled",serverside:["appnexus"]})}return(0,a.default)(n,[{key:"readConfig",value:function(){var e=(0,o.default)((0,u.default)(n.prototype),"readConfig",this).call(this);return e.placementId=Number(d.default.getFeatureValue("appNexusVideoPlacementId"))||Number(e.placementId)||14674619,e.videoParams.playback_method=this.isAutoplay()?"auto_play_sound_off":"click_to_play",e.videoParams.maxduration=35,e}},{key:"getBid",value:function(){var e=this.config.placementId,t=!!e,r=(0,f.default)(this.config.videoParams,["minduration","maxduration","skippable","playback_method","frameworks"]);return t&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{placementId:e,video:r})}}]),n}(c.VideoBidder);r.AppNexus=b},{"../../../scriptsCore/js/configUtilities.js":201,"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"lodash/pick":182}],227:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.VideoBidder=r.DisplayBidder=void 0;var a=i(e("@babel/runtime/helpers/get")),o=i(e("@babel/runtime/helpers/inherits")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),l=i(e("@babel/runtime/helpers/getPrototypeOf")),c=i(e("@babel/runtime/helpers/typeof")),u=i(e("@babel/runtime/helpers/defineProperty")),d=i(e("@babel/runtime/helpers/classCallCheck")),f=i(e("@babel/runtime/helpers/createClass")),p=i(e("../../../scriptsCore/js/configUtilities.js")),b=i(e("../../../scriptsCore/js/adUtilities")),m=n(e("nested-property"));function h(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(n);if(i){var r=(0,l.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,s.default)(this,e)}}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach(function(e){(0,u.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var y=function(){function u(e){var t=e.bidderCode,r=e.bidderName,n=void 0===r?null:r,i=e.sectionParam,a=e.configPath,o=void 0===a?null:a,s=e.serverside,l=void 0===s?[]:s;(0,d.default)(this,u),this.bidderCode=t,this.bidderName=null!=n?n:t,this.config=u.config,this.configPath=o,this.sectionParam=i,this.serverside=l,this.alias=!1,this.serverSideAlias={}}return(0,f.default)(u,[{key:"createAlias",value:function(e){var t=this;return this.alias=e,window.pbjs_reach=window.pbjs_reach||{},window.pbjs_reach.que=window.pbjs_reach.que||[],window.pbjs_reach.que.push(function(){return window.pbjs_reach.aliasBidder(t.bidderCode,t.alias)}),this}},{key:"createServerSideAlias",value:function(e){this.serverSideAlias=e}},{key:"isEnabled",value:function(){return!!p.default.getConfigParam(this.sectionParam)}},{key:"getBid",value:function(e){return{bidder:this.bidderCode,params:e}}},{key:"setConfig",value:function(e){e&&Object.prototype.toString.call("[object Object]"===e)&&(this.config=e)}},{key:"getConfigOverride",value:function(){var e,t=p.default.getTmConfigParam("pbConfig".concat((e=this.bidderName).charAt(0).toUpperCase()+e.slice(1)))||"{}";try{t=JSON.parse(decodeURIComponent(t))}catch(e){t={}}return t}},{key:"readConfig",value:function(e){var t=p.default.getScriptConfig(),r=t&&this.configPath?m.get(t,this.configPath):{},n=this.getConfigOverride();return g(g(g({},e),r),n)}},{key:"readAndSetConfig",value:function(e){var t=this.readConfig(e);this.setConfig(t)}},{key:"validate",value:function(t,e){return e.every(function(e){return"string"===t?(0,c.default)(e)===t&&1<e.length:(0,c.default)(e)===t})}},{key:"init",value:function(){return this.readAndSetConfig(),Promise.resolve()}}]),u}();y.config={};var w=function(e){(0,o.default)(r,e);var t=h(r);function r(e){return(0,d.default)(this,r),t.call(this,e)}return(0,f.default)(r,[{key:"getDataFromSlot",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};if(this.bidderName){var r,n,i=null==t||null===(r=t.bidders)||void 0===r?void 0:r[this.bidderName],a=this.getConfigOverride()[t.name];return null!==(n=null!=a?a:i)&&void 0!==n?n:""}return""}}]),r}(y);r.DisplayBidder=w;var j=function(e){(0,o.default)(r,e);var t=h(r);function r(e){return(0,d.default)(this,r),t.call(this,e)}return(0,f.default)(r,[{key:"getSlotData",value:function(){var e,t=p.default.getScriptConfig();return(null==t||null===(e=t.videoHB)||void 0===e?void 0:e[this.bidderCode])||{}}},{key:"getVideoSpecificKeys",value:function(){return[]}},{key:"isAutoplay",value:function(){var e=document.querySelector(".mod-video");return b.default.isDesktop()&&null!=e&&e.hasAttribute("data-autoplay")}},{key:"readConfig",value:function(){var e=(0,a.default)((0,l.default)(r.prototype),"readConfig",this).call(this);return r.config.videoParams.playbackmethod=r.getPlaybackMethod(),r.config.videoParams.mimes=r.getMIMEs(),r.config.videoParams.api=r.config.videoParams.frameworks=r.getAPIFrameworks(),e.videoParams=g({},r.config.videoParams),e}}]),r}(y);(r.VideoBidder=j).isAutoplay=function(){var e=document.querySelector(".mod-video");return b.default.isDesktop()&&null!=e&&e.hasAttribute("data-autoplay")},j.isVPAIDDisabled=function(){var e=p.default.getConfigParam("prebid.mobile.restrict.to.vast");return"baseLayout"===p.default.getBreakpoint()&&e},j.getPlaybackMethod=function(){return j.isAutoplay()?[2]:[3]},j.getAPIFrameworks=function(){return j.isVPAIDDisabled()?[0]:[1,2]},j.getMIMEs=function(){return j.isVPAIDDisabled()?["video/mp4","video/webm"]:["video/mp4","video/webm","application/javascript"]},j.config.videoParams={api:[1,2],battr:[1,7],context:"instream",frameworks:[1,2],h:480,linearity:1,maxbitrate:1500,maxduration:30,mimes:["video/mp4","video/webm","application/javascript"],minbitrate:300,minduration:0,placement:1,playbackmethod:[3],playerSize:[640,480],protocols:[1,2,3,4,5,6],skip:0,skippable:!1,startdelay:0,w:640}},{"../../../scriptsCore/js/adUtilities":198,"../../../scriptsCore/js/configUtilities.js":201,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/interopRequireWildcard":13,"@babel/runtime/helpers/possibleConstructorReturn":18,"@babel/runtime/helpers/typeof":23,"nested-property":190}],228:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Collective=void 0;var s=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),d=e("./basebidder.js"),f=n(e("../../../scriptsCore/js/adUtilities"));function p(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var b=function(e){(0,l.default)(n,e);var t=p(n);function n(){var e;return(0,i.default)(this,n),(e=t.call(this,{bidderCode:"collective564",configPath:"collectiveHeaderBidding",sectionParam:"collectiveDisplayPrebidEnabled",serverside:["appnexus","collective564"]})).createAlias("appnexus"),e.createServerSideAlias({collective564:"appnexus"}),e}return(0,a.default)(n,[{key:"getPlacementId",value:function(r){var e,t=this.config.placements,n={id:function(e,t){return!!t.id},index:function(e,t){return t.index===(e.targeting||{}).index},size:function(e,t){var r,n,i=(0,s.default)(t.size,2),a=i[0],o=i[1];return(null==e||null===(r=e.sizes)||void 0===r||null===(n=r.every)||void 0===n?void 0:n.call(r,Array.isArray))&&e.sizes.some(function(e){var t=(0,s.default)(e,2),r=t[0],n=t[1];return r===a&&n===o})},mobile:function(e,t){return t.mobile===!f.default.isDesktop()}};return(null===(e=(void 0===t?[]:t).find(function(t){return Object.keys(t).every(function(e){return n[e]&&n[e](r,t)})}))||void 0===e?void 0:e.id)||""}},{key:"getBid",value:function(e){var t=e.slot,r=this.getPlacementId(t);return 0<r.toString().length&&(0,o.default)((0,c.default)(n.prototype),"getBid",this).call(this,{placementId:r,usePaymentRule:!f.default.isDesktop()})}},{key:"readAndSetConfig",value:function(){(0,o.default)((0,c.default)(n.prototype),"readAndSetConfig",this).call(this,{enabled:!0,placements:[{size:[970,250],id:14857486,index:1,mobile:!1},{size:[320,50],id:18667063,index:1,mobile:!0},{size:[300,250],id:20541689,index:4,mobile:!0}]})}}]),n}(d.DisplayBidder);r.Collective=b},{"../../../scriptsCore/js/adUtilities":198,"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@babel/runtime/helpers/slicedToArray":20}],229:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ConvergeDisplay=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),c=n(e("@babel/runtime/helpers/get")),o=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),d=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(n);if(i){var r=(0,d.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,s.default)(this,e)}}var u=function(e){(0,o.default)(u,e);var t=l(u);function u(){var e;return(0,i.default)(this,u),(e=t.call(this,{bidderCode:"converge",sectionParam:"convergeDisplayPrebidEnabled",configPath:"hbPageLevel.converge",serverside:["adkernel","converge"]})).createAlias("adkernel"),e.createServerSideAlias({converge:"adkernel"}),e}return(0,a.default)(u,[{key:"getBid",value:function(e){var t,r=e.slot,n=this.config,i=n.host,a=void 0===i?"cpm.convergeselect.net":i,o=n.zoneId,s=this.getDataFromSlot(r).zoneId,l=null!==(t=null!=s?s:o)&&void 0!==t?t:0;return!!(this.validate("string",[a])&&this.validate("number",[l]))&&(0,c.default)((0,d.default)(u.prototype),"getBid",this).call(this,{host:a,zoneId:l})}}]),u}(e("./basebidder.js").DisplayBidder);r.ConvergeDisplay=u},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],230:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ConvergeVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,a.default)(this,e)}}var d=function(e){(0,l.default)(a,e);var t=c(a);function a(){var e;return(0,i.default)(this,a),(e=t.call(this,{bidderCode:"converge",sectionParam:"convergeVideoPrebidEnabled",configPath:"videoHB.converge",serverside:["adkernel","converge"]})).createAlias("adkernel"),e.createServerSideAlias({converge:"adkernel"}),e}return(0,o.default)(a,[{key:"getBid",value:function(){var e=this.config,t=e.host,r=void 0===t?"cpm.convergeselect.net":t,n=e.zoneId,i=void 0===n?0:n;return!!(this.validate("string",[r])&&this.validate("number",[i]))&&(0,s.default)((0,u.default)(a.prototype),"getBid",this).call(this,{host:r,zoneId:i})}}]),a}(e("./basebidder.js").VideoBidder);r.ConvergeVideo=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],231:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Criteo=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),c=n(e("@babel/runtime/helpers/possibleConstructorReturn")),d=n(e("@babel/runtime/helpers/getPrototypeOf")),f=e("./basebidder.js"),p=n(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")),b=n(e("../../../scriptsCore/js/dataLayerUtilities.js")),m=n(e("../../../scriptsCore/js/configUtilities.js")),h=e("../prebid.js");function v(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(n);if(i){var r=(0,d.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,c.default)(this,e)}}var g=function(e){(0,u.default)(n,e);var t,r=v(n);function n(){return(0,o.default)(this,n),r.call(this,{bidderCode:"criteo",configPath:"hbPageLevel.criteo",sectionParam:"criteoDisplayPrebidEnabled"})}return(0,s.default)(n,[{key:"getBidderSpecificConfig",value:function(e){var t,r;return{bidders:["criteo"],config:{ortb2:{user:{ext:{data:{eids:[{source:(null===(t=window.TMCONFIG)||void 0===t||null===(r=t.features)||void 0===r?void 0:r.domain)||"",uids:[{id:e,atype:1,ext:{stype:"ppuid",persistence:"js"}}]}]}}}}}}}},{key:"getLotameId",value:function(){return new Promise(function(t){var e=b.default.getInfo("user.luid");if(e&&"unknown"!==e)t(e);else{var r=function(e){window.removeEventListener("lotame.not.consented",n),window.removeEventListener("lotame.id.ready",i),clearTimeout(o),t(e)},n=function(){return r()},i=function(e){var t=(null==e?void 0:e.data)||"";r(t)},a=Number(m.default.getFeatureValue("prebidLotameWaiting"))||5e3,o=setTimeout(function(){return r(null)},a);p.default.events.listen(window,"lotame.not.consented",n),p.default.events.listen(window,"lotame.id.ready",i)}})}},{key:"setBidderConfig",value:(t=(0,a.default)(i.default.mark(function e(){var t,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLotameId();case 2:return t=e.sent,r=this.getBidderSpecificConfig(t),e.next=6,(0,h.runPrebidCommandAsync)(function(){window.pbjs_reach.setBidderConfig(r)});case 6:return e.abrupt("return");case 7:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"getBid",value:function(){var e=this.config.networkId;return!!this.validate("number",[e])&&(0,l.default)((0,d.default)(n.prototype),"getBid",this).call(this,{networkId:e})}},{key:"init",value:function(){return this.readAndSetConfig(),this.setBidderConfig()}}]),n}(f.DisplayBidder);r.Criteo=g},{"../../../scriptsCore/js/configUtilities.js":201,"../../../scriptsCore/js/dataLayerUtilities.js":202,"../prebid.js":225,"./basebidder.js":227,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@babel/runtime/regenerator":25,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28}],232:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.CriteoVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=e("./basebidder.js"),d=n(e("lodash/pick"));function f(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var p=function(e){(0,s.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"criteo",configPath:"hbPageLevel.criteo",sectionParam:"criteoVideoPrebidEnabled"})}return(0,a.default)(n,[{key:"getBid",value:function(){var e=this.config.networkId,t=this.validate("number",[e]),r=(0,d.default)(this.config.videoParams,["playbackmethod","placement","skip","context","mimes","playerSize","protocols","maxduration","api"]);return!!t&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{networkId:e,mediaTypes:r})}}]),n}(c.VideoBidder);r.CriteoVideo=p},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"lodash/pick":182}],233:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.EmxDisplay=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"emx_digital",bidderName:"emx",sectionParam:"emxDisplayPrebidEnabled",serverside:["emx_digital"]})}return(0,a.default)(n,[{key:"getBid",value:function(e){var t=e.slot,r=this.getDataFromSlot(t);return!!this.validate("string",[r])&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{tagid:r})}}]),n}(e("./basebidder.js").DisplayBidder);r.EmxDisplay=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],234:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.EmxVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(r,e);var t=c(r);function r(){return(0,i.default)(this,r),t.call(this,{bidderCode:"emx_digital",bidderName:"emx",configPath:"videoHB.emx",sectionParam:"emxVideoPrebidEnabled",serverside:["emx_digital"]})}return(0,a.default)(r,[{key:"getBid",value:function(){var e=this.config.tagid;return!!this.validate("string",[e])&&(0,o.default)((0,u.default)(r.prototype),"getBid",this).call(this,{tagid:e})}}]),r}(e("./basebidder.js").VideoBidder);r.EmxVideo=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],235:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.GumGumDisplay=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),u=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf"));function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){(0,i.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function p(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var b=function(e){(0,s.default)(l,e);var t=p(l);function l(){return(0,a.default)(this,l),t.call(this,{bidderCode:"gumgum",configPath:"hbPageLevel.gumgum",bidderName:"gumgum",sectionParam:"gumgumDisplayPrebidEnabled"})}return(0,o.default)(l,[{key:"getBid",value:function(e){var t=e.slot,r=this.getDataFromSlot(t),n=r.product,i=void 0!==n&&n,a=r.zone,o=void 0!==a&&a,s=this.getDataFromSlot(t).slot;return!!this.validate("string",[o])&&(0,u.default)((0,c.default)(l.prototype),"getBid",this).call(this,f(f({zone:o},i&&{product:i}),s&&{slot:s}))}}]),l}(e("./basebidder.js").DisplayBidder);r.GumGumDisplay=b},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],236:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ImproveDigitalVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(r,e);var t=c(r);function r(){return(0,i.default)(this,r),t.call(this,{bidderCode:"improvedigital",configPath:"videoHB.improvedigital",sectionParam:"improvedigitalVideoPrebidEnabled",serverside:["improvedigital"]})}return(0,a.default)(r,[{key:"getBid",value:function(){var e=this.config.placementId;return!!this.validate("number",[e])&&(0,o.default)((0,u.default)(r.prototype),"getBid",this).call(this,{placementId:e})}}]),r}(e("./basebidder.js").VideoBidder);r.ImproveDigitalVideo=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],237:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ImproveDigitalDisplay=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"improvedigital",sectionParam:"improvedigitalDisplayPrebidEnabled",serverside:["improvedigital"]})}return(0,a.default)(n,[{key:"getBid",value:function(e){var t=e.slot,r=parseInt(this.getDataFromSlot(t),10)||null;return!!this.validate("number",[r])&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{placementId:r})}}]),n}(e("./basebidder.js").DisplayBidder);r.ImproveDigitalDisplay=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],238:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.IxDisplay=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=e("./basebidder.js"),d=e("./mantisKeywords.js");function f(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,a.default)(this,e)}}var p=function(e){(0,l.default)(a,e);var t=f(a);function a(){return(0,i.default)(this,a),t.call(this,{bidderCode:"ix",bidderName:"indexexchange",sectionParam:"ixDisplayPrebidEnabled"})}return(0,o.default)(a,[{key:"getBid",value:function(e){var t,r=e.slot,n=this.getDataFromSlot(r)||null,i=(null==r||null===(t=r.sizes)||void 0===t?void 0:t[0])||null;return!!(this.validate("string",[n])&&null!==i)&&(0,s.default)((0,u.default)(a.prototype),"getBid",this).call(this,{siteId:n,size:i})}},{key:"init",value:function(){var t=this;return new Promise(function(e){t.readAndSetConfig(),window.pbjs_reach.que.push(function(){window.pbjs_reach.setConfig({ix:{firstPartyData:{keywords:d.mantisKeywordsInstance.getKeywords(window.mantis,!0)}}}),e()})})}}]),a}(c.DisplayBidder);r.IxDisplay=p},{"./basebidder.js":227,"./mantisKeywords.js":243,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],239:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.IxVideo=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),i=e("./basebidder.js"),d=e("./mantisKeywords.js"),f=n(e("../../../scriptsCore/js/configUtilities.js")),p=n(e("../../../scriptsCore/js/pageUtilities.js")),b=n(e("lodash/pick"));function m(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var h=function(e){(0,l.default)(i,e);var t=m(i);function i(){return(0,a.default)(this,i),t.call(this,{bidderCode:"ix",configPath:"videoHB.indexExchange",sectionParam:"ixVideoPrebidEnabled"})}return(0,o.default)(i,[{key:"init",value:function(){var t=this;return new Promise(function(e){t.readAndSetConfig(),window.pbjs_reach.que.push(function(){window.pbjs_reach.setConfig({ix:{firstPartyData:{keywords:d.mantisKeywordsInstance.getKeywords(window.mantis,!0)}}}),e()})})}},{key:"readConfig",value:function(){var e,t,r=(0,s.default)((0,c.default)(i.prototype),"readConfig",this).call(this),n=null===(e=f.default.getFeatureValue("indexMimeTypes"))||void 0===e?void 0:e.split(",");return r.videoParams.mimes=null!=n?n:r.videoParams.mimes,r.siteId=null!==(t=p.default.getQueryParameter("ixSiteId"))&&void 0!==t?t:r.siteId,r}},{key:"getBid",value:function(){var e=this.config.videoParams.playerSize,t=(0,b.default)(this.config.videoParams,["w","h","playersize","api","skippable","mimes","minduration","maxduration","protocols","startdelay"]),r=this.config.siteId;return!!this.validate("string",[r])&&(0,s.default)((0,c.default)(i.prototype),"getBid",this).call(this,{siteId:r,size:e,id:"inStreamVideo",video:t})}},{key:"getVideoSpecificKeys",value:function(){return["hb_deal_ix","hb_uuid_ix","hb_cache_id"]}},{key:"enabledByLimit",value:function(){var e=(0,s.default)((0,c.default)(i.prototype),"isAutoplay",this).call(this);switch(f.default.getFeatureValue("limitIXPrebidVideo")){case"CTP":return!0===e;case"autoplay":return!e;default:return!0}}},{key:"isEnabled",value:function(){var e=(0,s.default)((0,c.default)(i.prototype),"isEnabled",this).call(this),t=this.enabledByLimit();return e&&t}}]),i}(i.VideoBidder);r.IxVideo=h},{"../../../scriptsCore/js/configUtilities.js":201,"../../../scriptsCore/js/pageUtilities.js":209,"./basebidder.js":227,"./mantisKeywords.js":243,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"lodash/pick":182}],240:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.JustPremiumDisplay=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),c=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),d=n(e("@babel/runtime/helpers/getPrototypeOf"));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){(0,i.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function p(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(n);if(i){var r=(0,d.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var b=function(e){(0,s.default)(u,e);var t=p(u);function u(){return(0,a.default)(this,u),t.call(this,{bidderCode:"justpremium",sectionParam:"justpremiumDisplayPrebidEnabled"})}return(0,o.default)(u,[{key:"getBid",value:function(e){var t=e.slot,r=this.getDataFromSlot(t),n=r.zone,i=void 0===n?"":n,a=r.allow,o=void 0===a?[]:a,s=r.exclude,l=void 0===s?[]:s;return!!this.validate("string",[i])&&(0,c.default)((0,d.default)(u.prototype),"getBid",this).call(this,f(f({zone:i},o&&{allow:o}),l&&{exclude:l}))}}]),u}(e("./basebidder.js").DisplayBidder);r.JustPremiumDisplay=b},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],241:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getJWTargeting=function(){return a.default.getConfigParam("jwRtdEnabled")?{playerID:a.default.getFeatureValue("video.jwplayer.playerId")||o,mediaID:l()}:null},r.getJwRTD=function(){if(!a.default.getConfigParam("jwRtdEnabled"))return{};var e=a.default.getFeatureValue("jwRtdAuctionDelay")||100,t=l();return{realTimeData:{auctionDelay:t?e:0,dataProviders:[{name:"jwplayer",waitForIt:!!t,params:{mediaIDs:t?[t]:[]}}]}}};var i=e("@trinitymirrordigital/chameleon-core"),a=n(e("../../../scriptsCore/js/configUtilities.js")),o="3em1uTw4",s=null;function l(){var e,t,r,n;s||(i.events.listen(document.body,"video-init-header-bidding",function(e){var t,r,n;s=(null===(t=e.data)||void 0===t||null===(r=t.player)||void 0===r||null===(n=r.mediainfo)||void 0===n?void 0:n.id)||s}),s=(null===(e=document.querySelector(".mod-video"))||void 0===e?void 0:e.getAttribute("data-video-id"))||(null===(t=JSON.parse((null===(n=document.querySelector(".mod-video .json-placeholder"))||void 0===n?void 0:n.getAttribute("data-json"))||"{}"))||void 0===t||null===(r=t.videoData)||void 0===r?void 0:r.jwPlayerMediaID)||null);return s}},{"../../../scriptsCore/js/configUtilities.js":201,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-core":28}],242:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.MagniteDisplay=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js");function d(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,o.default)(this,e)}}var f=function(e){(0,l.default)(o,e);var t=d(o);function o(){return(0,i.default)(this,o),t.call(this,{bidderCode:"rubicon",bidderName:"magnite",configPath:"hbPageLevel.magnite",sectionParam:"magniteDisplayPrebidEnabled",serverside:["rubicon"]})}return(0,a.default)(o,[{key:"readConfig",value:function(){var e,t,r,n=(0,s.default)((0,u.default)(o.prototype),"readConfig",this).call(this),i=(0,c.getBreakpoint)()||"desktop",a=null!==(e=null!==(t=null===(r=n.siteId)||void 0===r?void 0:r[i])&&void 0!==t?t:n.siteId)&&void 0!==e?e:null;return n.siteId=parseInt(a,10),n.accountId=parseInt(n.accountId,10)||null,n}},{key:"getBid",value:function(e){var t=e.slot,r=this.config,n=r.siteId,i=r.accountId,a=parseInt(this.getDataFromSlot(t),10)||null;return!!this.validate("number",[i,n,a])&&(0,s.default)((0,u.default)(o.prototype),"getBid",this).call(this,{accountId:i,siteId:n,zoneId:a})}},{key:"readAndSetConfig",value:function(){(0,s.default)((0,u.default)(o.prototype),"readAndSetConfig",this).call(this,{accountId:null,siteId:{desktop:null,tabletLandscapeUpwards:null,tabletPortraitUpwards:null,baseLayout:null}})}}]),o}(e("./basebidder.js").DisplayBidder);r.MagniteDisplay=f},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34}],243:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.mantisKeywordsInstance=void 0;var c=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=new(function(){function e(){return(0,i.default)(this,e),e.instance?e.instance:e.instance=this}return(0,a.default)(e,[{key:"getKeywords",value:function(e,t){var r=0<arguments.length&&void 0!==e?e:window.mantis,n=1<arguments.length?t:void 0,i=r&&(null==r?void 0:r.ratings)||[],a=r&&(null==r?void 0:r.sentiment)||"",o=r&&(null==r?void 0:r.emotion)||{},s=r&&(null==r?void 0:r.categories)||{},l=i.map(function(e){return"".concat(e.customer,"-").concat(e.rating)}).concat(a?["sentiment-".concat(a)]:[]).concat(Object.entries(o).map(function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1];return"".concat(r,"-").concat(n.level)})),u=(s.mantis||[]).filter(function(e){return.6<e.score}).map(function(e){return e.label});return 0===l.length&&l.push(""),0===u.length&&u.push(""),this.formatData(l,u,n)}},{key:"formatData",value:function(e,t,r){return r?{mantis:e,mantis_context:t}:[{key:"mantis",value:e},{key:"mantis_context",value:t}]}}]),e}());r.mantisKeywordsInstance=o,Object.freeze(o)},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/slicedToArray":20}],244:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.MediaGrid=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"grid",bidderName:"mediagrid",sectionParam:"mediaGridDisplayPrebidEnabled",serverside:["grid"]})}return(0,a.default)(n,[{key:"getBid",value:function(e){var t=e.slot,r=this.getDataFromSlot(t);return!!this.validate("string",[r])&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{uid:parseInt(r,10)})}}]),n}(e("./basebidder.js").DisplayBidder);r.MediaGrid=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],245:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.MediaGridVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(r,e);var t=c(r);function r(){return(0,i.default)(this,r),t.call(this,{bidderCode:"grid",bidderName:"mediagrid",configPath:"videoHB.mediagrid",sectionParam:"mediaGridVideoPrebidEnabled",serverside:["grid"]})}return(0,a.default)(r,[{key:"getBid",value:function(){var e=this.config.uid;return!!this.validate("number",[e])&&(0,o.default)((0,u.default)(r.prototype),"getBid",this).call(this,{uid:e})}}]),r}(e("./basebidder.js").VideoBidder);r.MediaGridVideo=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],246:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.NobidDisplay=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(r,e);var t=c(r);function r(){return(0,i.default)(this,r),t.call(this,{bidderCode:"nobid",configPath:"hbPageLevel.nobid",sectionParam:"nobidDisplayPrebidEnabled",serverside:["nobid"]})}return(0,a.default)(r,[{key:"getBid",value:function(){var e=this.config.siteId;return!!(this.validate("number",[e])&&0<e)&&(0,o.default)((0,u.default)(r.prototype),"getBid",this).call(this,{siteId:e})}}]),r}(e("./basebidder.js").DisplayBidder);r.NobidDisplay=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],247:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.NobidVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(r,e);var t=c(r);function r(){return(0,i.default)(this,r),t.call(this,{bidderCode:"nobid",configPath:"hbPageLevel.nobid",sectionParam:"nobidVideoPrebidEnabled",serverside:["nobid"]})}return(0,a.default)(r,[{key:"getBid",value:function(){var e=this.config.siteId;return!!this.validate("number",[e])&&(0,o.default)((0,u.default)(r.prototype),"getBid",this).call(this,{siteId:e})}}]),r}(e("./basebidder.js").VideoBidder);r.NobidVideo=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],248:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.OpenXDisplay=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf"));function d(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var i=function(e){(0,l.default)(i,e);var t=d(i);function i(){return(0,a.default)(this,i),t.call(this,{bidderCode:"openx",configPath:"hbPageLevel.openx",sectionParam:"openxDisplayPrebidEnabled",serverside:["openx"]})}return(0,o.default)(i,[{key:"getBid",value:function(e){var t=e.slot,r=this.getDataFromSlot(t)||null,n=this.config.delDomain||null;return null!==r&&null!==n&&(0,s.default)((0,c.default)(i.prototype),"getBid",this).call(this,{unit:r,delDomain:n})}},{key:"readAndSetConfig",value:function(){(0,s.default)((0,c.default)(i.prototype),"readAndSetConfig",this).call(this,{delDomain:null})}}]),i}(e("./basebidder.js").DisplayBidder);r.OpenXDisplay=i},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],249:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.OpenXVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(r,e);var t=c(r);function r(){return(0,i.default)(this,r),t.call(this,{bidderCode:"openx",configPath:"hbPageLevel.openx",sectionParam:"openxVideoPrebidEnabled",serverside:["openx"]})}return(0,a.default)(r,[{key:"getBid",value:function(){var e=this.getSlotData().unit,t=this.config.delDomain;return!!this.validate("string",[e,t])&&(0,o.default)((0,u.default)(r.prototype),"getBid",this).call(this,{unit:e,delDomain:t})}}]),r}(e("./basebidder.js").VideoBidder);r.OpenXVideo=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],250:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Ozone=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),i=e("./basebidder.js"),d=n(e("../../../scriptsCore/js/pageUtilities.js")),f=n(e("../../../scriptsCore/js/configUtilities.js")),p=n(e("../helpers.js"));function b(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var m=function(e){(0,l.default)(i,e);var t=b(i);function i(e){return(0,a.default)(this,i),t.call(this,e||{bidderCode:"ozone",configPath:"hbPageLevel.ozone",sectionParam:"ozoneDisplayPrebidEnabled"})}return(0,o.default)(i,[{key:"getPublisherId",value:function(){return f.default.getPublicSectionParam("publisherId")||this.config.publisherId||"OZONENREACH1"}},{key:"getSiteId",value:function(){return d.default.getQueryParameter("ozoneGlobalSiteId")||this.config.siteId||"4204204202"}},{key:"getPlacementId",value:function(e){var t=e.slot;return this.getDataFromSlot(t)||t.placementId||"0420420430"}},{key:"formatTags",value:function(e){return void 0!==e&&-1!==e.indexOf("|")?e.split("|").join(","):e}},{key:"getCustomData",value:function(e){function t(e){return p.default.replaceVal("",null,e)}var r=e.slot,n=e.access;return[{settings:{},targeting:{slotName:t(r.name),opos:t((r.targeting||{}).opos),hivis:t((r.targeting||{}).hivis),platform:t((window.TMCONFIG||{}).platform||"nationals"),articleId:t(n("article.attributes.articleId")),channel:t(n("page.attributes.channel")),sectionId:t(n("page.attributes.sectionId")),subSectionOne:t(n("page.attributes.subSectionOne")),subSectionTwo:t(n("page.attributes.subSectionTwo")),sensitiveArticle:t(n("article.attributes.sensitiveArticle")),pageType:t(n("page.attributes.pageType")),publicationName:t(n("page.attributes.publicationName")),breakpoint:t(n("page.attributes.configurationMode")||"desktop"),allTags:t(this.formatTags(n("article.attributes.allTags"))),testgroup:this.testGroup}}]}},{key:"getBid",value:function(){var e=this.getPublisherId(),t=this.getSiteId(),r=this.getPlacementId.apply(this,arguments),n=this.getCustomData.apply(this,arguments);return 0<e.toString().length&&5<t.toString().length&&0<r.toString().length&&(0,s.default)((0,c.default)(i.prototype),"getBid",this).call(this,{publisherId:e,siteId:t,placementId:r,customData:n})}},{key:"readAndSetConfig",value:function(){(0,s.default)((0,c.default)(i.prototype),"readAndSetConfig",this).call(this,{enabled:!0})}},{key:"setTestGroup",value:function(){var r=this;return new Promise(function(t){(window.googletag=window.googletag||{cmd:[]}).cmd.push(function(){var e=window.googletag.pubads().getTargeting("testgroup")[0];e?r.testGroup=e:(r.testGroup=String(Math.floor(99*Math.random())+1),window.googletag.pubads().setTargeting("testgroup",r.testGroup)),t()})})}},{key:"init",value:function(){return this.readAndSetConfig(),this.setTestGroup()}}]),i}(i.DisplayBidder);r.Ozone=m},{"../../../scriptsCore/js/configUtilities.js":201,"../../../scriptsCore/js/pageUtilities.js":209,"../helpers.js":218,"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],251:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.OzoneOutstream=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),d=e("./ozone.js"),f=e("./basebidder.js"),p=n(e("lodash/pick"));function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function m(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var h=function(e){(0,l.default)(r,e);var t=m(r);function r(){return(0,a.default)(this,r),t.call(this,{bidderCode:"ozone",configPath:"ozoneHeaderBidding",sectionParam:"ozoneOutstreamPrebidEnabled"})}return(0,o.default)(r,[{key:"readConfig",value:function(){var e=(0,s.default)((0,c.default)(r.prototype),"readConfig",this).call(this);return e.videoParams=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach(function(e){(0,i.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},f.VideoBidder.config.videoParams),e.videoParams.playbackmethod=[2],e.videoParams.playback_method=["auto_play_sound_off"],e.videoParams.context="outstream",e.videoParams.skippable=!0,e}},{key:"getBid",value:function(){var e=(0,s.default)((0,c.default)(r.prototype),"getBid",this).apply(this,arguments);return e.params&&(e.params.video=(0,p.default)(this.config.videoParams,["playerSize","context","mimes","playback_method","skippable"]),e.params.lotameData={}),!!("outstream"===e.params.video.context&&this.validate("string",e.params.video.mimes))&&e}}]),r}(d.Ozone);r.OzoneOutstream=h},{"./basebidder.js":227,"./ozone.js":250,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"lodash/pick":182}],252:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.OzoneVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=e("@trinitymirrordigital/chameleon-utilities");function d(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,a.default)(this,e)}}var f=function(e){(0,l.default)(a,e);var t=d(a);function a(){return(0,i.default)(this,a),t.call(this,{bidderCode:"ozone",configPath:"hbPageLevel.ozone",sectionParam:"ozoneVideoPrebidEnabled"})}return(0,o.default)(a,[{key:"getBid",value:function(){var e,t=this.config,r=t.siteId,n=t.publisherId,i=null===(e=this.getSlotData()[(0,c.getBreakpoint)()])||void 0===e?void 0:e.placementId;return!!this.validate("string",[r,n,i])&&(0,s.default)((0,u.default)(a.prototype),"getBid",this).call(this,{publisherId:n,siteId:r,placementId:i})}}]),a}(e("./basebidder.js").VideoBidder);r.OzoneVideo=f},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@trinitymirrordigital/chameleon-utilities":34}],253:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.PubmaticDisplay=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf"));function d(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var i=function(e){(0,l.default)(i,e);var t=d(i);function i(){return(0,a.default)(this,i),t.call(this,{bidderCode:"pubmatic",configPath:"hbPageLevel.pubmatic",sectionParam:"pubmaticDisplayPrebidEnabled",serverside:["pubmatic"]})}return(0,o.default)(i,[{key:"getBid",value:function(e){var t=e.slot,r=this.config.publisherId||null,n=this.getDataFromSlot(t)||null;return null!==r&&null!==n&&(0,s.default)((0,c.default)(i.prototype),"getBid",this).call(this,{publisherId:r,adSlot:n})}},{key:"readAndSetConfig",value:function(){(0,s.default)((0,c.default)(i.prototype),"readAndSetConfig",this).call(this,{publisherId:null})}}]),i}(e("./basebidder.js").DisplayBidder);r.PubmaticDisplay=i},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],254:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.PubmaticVideo=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),i=e("./basebidder.js"),d=n(e("lodash/pick"));function f(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var p=function(e){(0,l.default)(i,e);var t=f(i);function i(){return(0,a.default)(this,i),t.call(this,{bidderCode:"pubmatic",configPath:"hbPageLevel.pubmatic",sectionParam:"pubmaticVideoPrebidEnabled",serverside:["pubmatic"]})}return(0,o.default)(i,[{key:"getBid",value:function(){var e=this.config.publisherId,t=this.getSlotData().adSlot,r=this.validate("string",[e,t]),n=(0,d.default)(this.config.videoParams,["api","battr","context","h","linearity","maxbitrate","maxduration","mimes","minbitrate","minduration","placement","playbackmethod","playerSize","protocols","skip","startdelay","w"]);return!!r&&(0,s.default)((0,c.default)(i.prototype),"getBid",this).call(this,{publisherId:e,adSlot:t,video:n})}}]),i}(i.VideoBidder);r.PubmaticVideo=p},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"lodash/pick":182}],255:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.RichAudienceDisplay=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"richaudience",sectionParam:"richaudienceDisplayPrebidEnabled"})}return(0,a.default)(n,[{key:"getBid",value:function(e){var t=e.slot,r=this.getDataFromSlot(t);return 0<r.toString().length&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{pid:r,supplyType:"site",bidfloor:0})}}]),n}(e("./basebidder.js").DisplayBidder);r.RichAudienceDisplay=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],256:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.RichAudienceSkins=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/get")),o=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js");function d(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,s.default)(this,e)}}var f=function(e){(0,o.default)(s,e);var t=d(s);function s(){var e;return(0,i.default)(this,s),(e=t.call(this,{bidderCode:"ra",configPath:"hbPageLevel.richaudience",sectionParam:"richaudienceSkinsPrebidEnabled"})).createAlias("richaudience"),e}return(0,a.default)(s,[{key:"getBid",value:function(e){var t,r,n=e.slot,i=(null===(t=this.config)||void 0===t||null===(r=t.placements)||void 0===r?void 0:r.skins)||"",a="desktop"===(0,c.getBreakpoint)(),o="div-gpt-ad-top-slot"===n.name;return 0<i.toString().length&&!0==a&&!0==o&&(0,l.default)((0,u.default)(s.prototype),"getBid",this).call(this,{pid:i,supplyType:"site",bidfloor:10})}}]),s}(e("./basebidder.js").DisplayBidder);r.RichAudienceSkins=f},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34}],257:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.RichAudienceVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(r,e);var t=c(r);function r(){return(0,i.default)(this,r),t.call(this,{bidderCode:"richaudience",configPath:"videoHB.richaudience",sectionParam:"richaudienceVideoPrebidEnabled"})}return(0,a.default)(r,[{key:"getBid",value:function(){var e=this.config.pid;return!!this.validate("string",[e])&&(0,o.default)((0,u.default)(r.prototype),"getBid",this).call(this,{pid:e,supplyType:"site"})}}]),r}(e("./basebidder.js").VideoBidder);r.RichAudienceVideo=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],258:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.SmartAdServer=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),d=n(e("@babel/runtime/helpers/get")),o=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),f=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(n);if(i){var r=(0,f.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,s.default)(this,e)}}var u=function(e){(0,o.default)(c,e);var t=l(c);function c(){return(0,i.default)(this,c),t.call(this,{bidderCode:"smartadserver",configPath:"hbPageLevel.smartadserver",sectionParam:"smartAdServerDisplayPrebidEnabled"})}return(0,a.default)(c,[{key:"getBid",value:function(e){var t=e.slot,r=this.config,n=r.siteId,i=void 0===n?0:n,a=r.networkId,o=void 0===a?0:a,s=this.getDataFromSlot(t),l=s.formatId,u=s.pageId;return!!this.validate("number",[o,i,l,u])&&(0,d.default)((0,f.default)(c.prototype),"getBid",this).call(this,{networkId:o,siteId:i,pageId:u,formatId:l})}}]),c}(e("./basebidder.js").DisplayBidder);r.SmartAdServer=u},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],259:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.SmartAdServerVideo=void 0;var i=n(e("@babel/runtime/helpers/toConsumableArray")),a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),d=e("./basebidder.js"),f=n(e("lodash/pick"));function p(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,s.default)(this,e)}}var b=function(e){(0,u.default)(s,e);var t=p(s);function s(){return(0,a.default)(this,s),t.call(this,{bidderCode:"smartadserver",configPath:"hbPageLevel.smartadserver",sectionParam:"smartAdServerVideoPrebidEnabled",serverside:["smartadserver"]})}return(0,o.default)(s,[{key:"readConfig",value:function(){var e=(0,l.default)((0,c.default)(s.prototype),"readConfig",this).call(this);return e.videoParams.protocol=Math.max.apply(Math,(0,i.default)(e.videoParams.protocols)),e.videoParams.startDelay=1,e}},{key:"getBid",value:function(){var e=this.config,t=e.networkId,r=e.siteId,n=this.getSlotData(),i=n.formatId,a=n.pageId,o=(0,f.default)(this.config.videoParams,["protocol","startDelay"]);return!!this.validate("number",[t,r,i,a,o.protocol,o.startDelay])&&(0,l.default)((0,c.default)(s.prototype),"getBid",this).call(this,{networkId:t,siteId:r,pageId:a,formatId:i,video:o})}}]),s}(d.VideoBidder);r.SmartAdServerVideo=b},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@babel/runtime/helpers/toConsumableArray":22,"lodash/pick":182}],260:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.SovrnDisplay=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"sovrn",sectionParam:"sovrnDisplayPrebidEnabled",serverside:["sovrn"]})}return(0,a.default)(n,[{key:"getBid",value:function(e){var t=e.slot,r=this.getDataFromSlot(t)||null;return null!==r&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{tagid:r})}}]),n}(e("./basebidder.js").DisplayBidder);r.SovrnDisplay=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],261:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.SpotX=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),d=n(e("@babel/runtime/helpers/get")),o=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),f=n(e("@babel/runtime/helpers/getPrototypeOf")),l=e("./basebidder.js"),u=n(e("../../../scriptsCore/js/pageUtilities.js")),p=e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),b=n(e("../../../TMAd/js/geoDetector.js"));function m(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(n);if(i){var r=(0,f.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,s.default)(this,e)}}var c=function(e){(0,o.default)(c,e);var t=m(c);function c(){return(0,i.default)(this,c),t.call(this,{bidderCode:"spotx",configPath:"videoHB.spotx",sectionParam:"spotxVideoPrebidEnabled"})}return(0,a.default)(c,[{key:"getUrlParam",value:function(){return u.default.getQueryParameter("spotxVideoChannel")}},{key:"getChannelId",value:function(e){var t=this.getUrlParam(),r=(this.config.channelIds||e.channelIds||{})[b.default.isUserInRegion("UK")?"UK":"ROW"]||{};return t||r[(0,p.getBreakpoint)()]||r.desktop}},{key:"readConfig",value:function(){var e=(0,d.default)((0,f.default)(c.prototype),"readConfig",this).call(this);return e.channel_id=this.getChannelId(e),e.placementId="123456789",e.autoplay=l.VideoBidder.isAutoplay(),e.ad_mute=!!e.autoplay,e}},{key:"getBid",value:function(e){var t=e.access,r=this.config,n=r.channel_id,i=r.placementId,a=r.autoplay,o=r.ad_mute,s=this.config.videoParams.context,l=t("page.attributes.publicationName"),u=[t("page.attributes.channel")];return!!(i&&n&&n.toString&&4<n.toString().length)&&(0,d.default)((0,f.default)(c.prototype),"getBid",this).call(this,{placementId:i,channel_id:n,video:{ad_unit:s,autoplay:a,ad_mute:o,custom:{publication:l,content_type:u}}})}}]),c}(l.VideoBidder);r.SpotX=c},{"../../../TMAd/js/geoDetector.js":194,"../../../scriptsCore/js/pageUtilities.js":209,"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34}],262:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Triplelift=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var d=function(e){(0,s.default)(n,e);var t=c(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"triplelift",sectionParam:"tripleliftDisplayPrebidEnabled",serverside:["triplelift"]})}return(0,a.default)(n,[{key:"getBid",value:function(e){var t=e.slot,r=this.getDataFromSlot(t);return 0<r.toString().length&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{inventoryCode:r,floor:1})}}]),n}(e("./basebidder.js").DisplayBidder);r.Triplelift=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],263:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.TripleliftNative=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,o.default)(this,e)}}var d=function(e){(0,l.default)(o,e);var t=c(o);function o(){return(0,i.default)(this,o),t.call(this,{bidderCode:"triplelift",sectionParam:"tripleliftNativePrebidEnabled",serverside:["triplelift"]})}return(0,a.default)(o,[{key:"getBid",value:function(e){var t=e.slot,r=t.providers.find(function(e){return"prebid"===e.providerName}),n=this.getDataFromSlot(t),i=r.floor,a=void 0===i?1.3:i;return 0<n.toString().length&&(0,s.default)((0,u.default)(o.prototype),"getBid",this).call(this,{inventoryCode:n,floor:a})}}]),o}(e("./basebidder.js").DisplayBidder);r.TripleliftNative=d},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],264:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.TripleliftVideo=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=e("./basebidder.js"),d=n(e("lodash/pick"));function f(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.default)(this,e)}}var p=function(e){(0,s.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.call(this,{bidderCode:"triplelift",configPath:"videoHB.triplelift",sectionParam:"tripleliftVideoPrebidEnabled",serverside:["triplelift"]})}return(0,a.default)(n,[{key:"getBid",value:function(){var e=this.config.inventoryCode,t=this.validate("string",[e]),r=(0,d.default)(this.config.videoParams,["playerSize","context","placement","mimes","w","h"]);return!!t&&(0,o.default)((0,u.default)(n.prototype),"getBid",this).call(this,{inventoryCode:e,video:r})}}]),n}(c.VideoBidder);r.TripleliftVideo=p},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"lodash/pick":182}],265:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.VerizonDisplay=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),d=e("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js");function f(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var i=function(e){(0,l.default)(i,e);var t=f(i);function i(){return(0,a.default)(this,i),t.call(this,{bidderCode:"verizonmedia",bidderName:"verizon",configPath:"hbPageLevel.verizon",sectionParam:"verizonDisplayPrebidEnabled",serverside:["verizonmedia"]})}return(0,o.default)(i,[{key:"getSiteId",value:function(){var e=(0,d.getBreakpoint)()||"desktop";return this.config.siteId[e]||null}},{key:"getBid",value:function(e){var t=e.slot,r=this.getSiteId(),n=this.getDataFromSlot(t)||null;return null!==r&&null!==n&&(0,s.default)((0,c.default)(i.prototype),"getBid",this).call(this,{dcn:r,pos:n})}},{key:"readAndSetConfig",value:function(){(0,s.default)((0,c.default)(i.prototype),"readAndSetConfig",this).call(this,{siteId:{desktop:null,tabletLandscapeUpwards:null,tabletPortraitUpwards:null,baseLayout:null}})}}]),i}(e("./basebidder.js").DisplayBidder);r.VerizonDisplay=i},{"./basebidder.js":227,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":34}],266:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.XandrDisplay=void 0;var a=n(e("@babel/runtime/regenerator")),o=n(e("@babel/runtime/helpers/asyncToGenerator")),s=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),u=n(e("@babel/runtime/helpers/get")),c=n(e("@babel/runtime/helpers/inherits")),d=n(e("@babel/runtime/helpers/possibleConstructorReturn")),f=n(e("@babel/runtime/helpers/getPrototypeOf")),p=e("../prebid.js"),i=e("./basebidder.js"),b=e("./mantisKeywords.js");function m(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(n);if(i){var r=(0,f.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,d.default)(this,e)}}var h=function(e){(0,c.default)(i,e);var t,r=m(i);function i(){return(0,s.default)(this,i),r.call(this,{bidderCode:"appnexus",bidderName:"xandr",sectionParam:"xandrDisplayPrebidEnabled",serverside:["appnexus"]})}return(0,l.default)(i,[{key:"getBid",value:function(e){var t=e.slot,r=Number(this.getDataFromSlot(t))||0,n=b.mantisKeywordsInstance.getKeywords(window.mantis,!0);return 0<r&&(0,u.default)((0,f.default)(i.prototype),"getBid",this).call(this,{placementId:r,keywords:n})}},{key:"init",value:(t=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.readAndSetConfig(),e.next=3,(0,p.runPrebidCommandAsync)(function(){});case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),i}(i.DisplayBidder);r.XandrDisplay=h},{"../prebid.js":225,"./basebidder.js":227,"./mantisKeywords.js":243,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"@babel/runtime/regenerator":25}],267:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.XandrPSPDisplay=void 0;var i=n(e("@babel/runtime/helpers/defineProperty")),a=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/get")),u=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),d=e("./basebidder.js"),f=e("./mantisKeywords.js"),p=e("./xandrUtils.js");function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach(function(e){(0,i.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function h(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,o.default)(this,e)}}var v=function(e){(0,u.default)(o,e);var t=h(o);function o(){var e;return(0,a.default)(this,o),e=t.call(this,{bidderCode:"appnexuspsp",bidderName:"xandr",sectionParam:"xandrPSPDisplayPrebidEnabled"}),(0,p.createPSPAlias)(),e.createServerSideAlias({appnexuspsp:"appnexus"}),e}return(0,s.default)(o,[{key:"getBid",value:function(e){var t=e.slot,r=Number(this.getDataFromSlot(t))||0,n=f.mantisKeywordsInstance.getKeywords(window.mantis,!0),i=0<r,a=t.sizes;return i&&(0,l.default)((0,c.default)(o.prototype),"getBid",this).call(this,{placementId:r,keywords:n,sizes:a})}},{key:"init",value:function(){return this.readAndSetConfig(),window.pbjs_reach=window.pbjs_reach||{},window.pbjs_reach.que=window.pbjs_reach.que||[],new Promise(function(e){window.pbjs_reach.que.push(function(){e()})})}}],[{key:"restoreAzerionBidResponseSize",value:function(e){return e.map(function(e){var t,r,n;return m(m({},e),{},{size:null===(t=e.size)||void 0===t?void 0:t.replace("1800x1000","970x250"),width:1800===e.width?970:e.width,height:1e3===e.height?250:e.height,adserverTargeting:m(m({},e.adserverTargeting),{},{hb_size:null===(r=e.adserverTargeting)||void 0===r||null===(n=r.hb_size)||void 0===n?void 0:n.replace("1800x1000","970x250")})})})}},{key:"sanitiseBidResponse",value:function(e,t){return"div-gpt-ad-top-slot"===t?this.restoreAzerionBidResponseSize(e):e}}]),o}(d.DisplayBidder);r.XandrPSPDisplay=v},{"./basebidder.js":227,"./mantisKeywords.js":243,"./xandrUtils.js":271,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],268:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.XandrPSPNative=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),i=e("./basebidder.js"),d=e("./mantisKeywords.js"),f=e("./xandrUtils.js");function p(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var b=function(e){(0,l.default)(i,e);var t=p(i);function i(){var e;return(0,a.default)(this,i),e=t.call(this,{bidderCode:"appnexuspsp",bidderName:"xandr",sectionParam:"xandrPSPNativePrebidEnabled"}),(0,f.createPSPAlias)(),e.createServerSideAlias({appnexuspsp:"appnexus"}),e}return(0,o.default)(i,[{key:"getBid",value:function(e){var t=e.slot,r=Number(this.getDataFromSlot(t))||0,n=d.mantisKeywordsInstance.getKeywords(window.mantis,!0);return 0<r&&(0,s.default)((0,c.default)(i.prototype),"getBid",this).call(this,{placementId:r,keywords:n})}},{key:"init",value:function(){return this.readAndSetConfig(),window.pbjs_reach=window.pbjs_reach||{},window.pbjs_reach.que=window.pbjs_reach.que||[],new Promise(function(e){window.pbjs_reach.que.push(function(){e()})})}}]),i}(i.DisplayBidder);r.XandrPSPNative=b},{"./basebidder.js":227,"./mantisKeywords.js":243,"./xandrUtils.js":271,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],269:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.XandrPSPOutstream=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),c=e("./basebidder.js"),d=n(e("lodash/pick")),f=e("./xandrUtils.js");function p(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(n);if(i){var r=(0,u.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,a.default)(this,e)}}var b=function(e){(0,l.default)(a,e);var t=p(a);function a(){var e;return(0,i.default)(this,a),e=t.call(this,{bidderCode:"appnexuspsp",bidderName:"xandr",sectionParam:"xandrPSPOutstreamPrebidEnabled"}),(0,f.createPSPAlias)(),e.createServerSideAlias({appnexuspsp:"appnexus"}),e}return(0,o.default)(a,[{key:"readConfig",value:function(){var e=(0,s.default)((0,u.default)(a.prototype),"readConfig",this).call(this);return e.videoParams.playerSize=[640,360],e.videoParams.context="outstream",e.videoParams.api=[2],e.videoParams.protocols=[2,3,5,6],e.videoParams.minduration=1,e.videoParams.mimes=["video/mp4","application/javascript"],e.videoParams.placement=3,e}},{key:"validate",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{};return!!e&&"outstream"===r.context&&r.mimes&&(0,s.default)((0,u.default)(a.prototype),"validate",this).call(this,"string",r.mimes)}},{key:"getBid",value:function(e){var t,r=e.slot,n=null==r||null===(t=r.bidders)||void 0===t?void 0:t[this.bidderName],i=(0,d.default)(this.config.videoParams,["playerSize","context","api","protocols","minduration","maxduration","mimes","placement"]);return!!this.validate(n,i)&&(0,s.default)((0,u.default)(a.prototype),"getBid",this).call(this,{placementId:n,video:i})}}]),a}(c.VideoBidder);r.XandrPSPOutstream=b},{"./basebidder.js":227,"./xandrUtils.js":271,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"lodash/pick":182}],270:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.XandrPSPVideo=void 0;var a=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/get")),l=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf")),i=e("./basebidder.js"),d=e("./mantisKeywords.js"),f=e("./xandrUtils.js"),p=n(e("../../../scriptsCore/js/configUtilities.js")),b=n(e("lodash/pick"));function m(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(n);if(i){var r=(0,c.default)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.default)(this,e)}}var h=function(e){(0,l.default)(i,e);var t=m(i);function i(){var e;return(0,a.default)(this,i),e=t.call(this,{bidderCode:"appnexuspsp",configPath:"videoHB.appNexus",sectionParam:"xandrPSPVideoPrebidEnabled"}),(0,f.createPSPAlias)(),e.createServerSideAlias({appnexuspsp:"appnexus"}),e}return(0,o.default)(i,[{key:"readConfig",value:function(){var e=(0,s.default)((0,c.default)(i.prototype),"readConfig",this).call(this);return e.placementId=Number(p.default.getFeatureValue("appNexusVideoPlacementId"))||Number(e.placementId)||14674619,e.videoParams.playback_method=this.isAutoplay()?"auto_play_sound_off":"click_to_play",e.videoParams.maxduration=Number(p.default.getFeatureValue("xandrVideoMaxDuration"))||35,e}},{key:"getBid",value:function(){var e=this.config.placementId,t=!!e,r=d.mantisKeywordsInstance.getKeywords(window.mantis,!0),n=(0,b.default)(this.config.videoParams,["minduration","maxduration","skippable","playback_method","frameworks"]);return t&&(0,s.default)((0,c.default)(i.prototype),"getBid",this).call(this,{placementId:e,video:n,keywords:r})}}]),i}(i.VideoBidder);r.XandrPSPVideo=h},{"../../../scriptsCore/js/configUtilities.js":201,"./basebidder.js":227,"./mantisKeywords.js":243,"./xandrUtils.js":271,"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/get":9,"@babel/runtime/helpers/getPrototypeOf":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/possibleConstructorReturn":18,"lodash/pick":182}],271:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createPSPAlias=function(){window.pbjs_reach=window.pbjs_reach||{},window.pbjs_reach.que=window.pbjs_reach.que||[],window.pbjs_reach.que.push(function(){return window.pbjs_reach.aliasBidder("appnexus","appnexuspsp",{gvlid:32})})}},{}],272:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.runHeaderBiddingTags=C;var o=e("./amazonTAM.js"),i=e("./indexExchange.js"),a=e("./ias.js"),s=e("./mass.js"),l=e("./lotame.js"),u=e("./prebid.js"),c=e("./gigya.js"),d=e("./mantisId"),f=e("./teadsAnalytics"),p=e("./blockthrough"),b=e("./googlePublisherTag"),m=e("./loadCore.js"),h=n(e("./helpers.js")),v=n(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")),g=n(e("../../scriptsCore/js/dataLayerUtilities.js")),y=n(e("../../scriptsCore/js/configUtilities.js")),w=v.default.events;function j(t,e){try{for(var r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return e.apply(void 0,n)}catch(e){return console.error("Error in ".concat(t," tag"),e.message||"Message empty"),{error:e.message||"Message empty"}}}function C(e,t){var r=g.default.getInfo("headerBidding.auctions")||[],n=h.default.checkIfVideoExists(e);if(y.default.getConfigParam("amazonTagEnabled")){var i={};i.displayAuction="display"!==t,n&&y.default.getConfigParam("amazonVideoTagEnabled")&&"video"!==t&&(i.videoAuction=!0),r=r.concat(j("Amazon",o.init,i))}var a={displayAuction:"display"!==t&&y.default.getConfigParam("displayPrebidEnabled"),videoAuction:!("video"===t||!n)&&y.default.getConfigParam("videoPrebidEnabled")};r=r.concat(j("Prebid Video",u.init,a,e)),g.default.setInfo("headerBidding.failedAuctions",r.filter(function(e){return e&&void 0!==e.error})),g.default.setInfo("headerBidding.auctions",r.filter(function(e){return e&&void 0===e.error}))}w.listen(document.body,"video-init-header-bidding",function(){y.default.logFeature("TAGS","[INFO] video about to end, next recommended video auction starting"),h.default.getAccess().then(function(e){C(e,"display")})}),j("GPT",b.init),j("IAS",a.init),j("MASS",s.init),j("IX",i.init),j("gigya",c.init),j("lotame",l.init),j("mantisId",d.init),j("teadsAnalytics",f.init),j("blockthrough",p.init),j("loadCore",m.init),h.default.getAccess().then(function(e){w.listen(document.body,"injection.complete.gpt",function(){C(e),w.fire(document.body,"tagsLoaded",!0)})})},{"../../scriptsCore/js/configUtilities.js":201,"../../scriptsCore/js/dataLayerUtilities.js":202,"./amazonTAM.js":214,"./blockthrough":215,"./gigya.js":216,"./googlePublisherTag":217,"./helpers.js":218,"./ias.js":219,"./indexExchange.js":220,"./loadCore.js":221,"./lotame.js":222,"./mantisId":223,"./mass.js":224,"./prebid.js":225,"./teadsAnalytics":273,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28}],273:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.init=function(){if(!a.default.getConfigParam("teadsAnalytics"))return;i.default.listen(document.body,"teads.analytics",function(){var e,t,r=window.teads_analytics||!1,n=a.default.getConfigParam("mantisIdEnabled");r&&n&&(e=r,(t=(0,s.getMantisIdIfAllowedForVendor)(o.vendors.teads))&&e.share({share_id:{name:"pfvi",value:t}}))})};var i=n(e("@trinitymirrordigital/chameleon-core/src/js/events")),a=n(e("../../scriptsCore/js/configUtilities.js")),o=e("../../userConsent/js/staticConsent.js"),s=e("../../tags/js/mantisId.js")},{"../../scriptsCore/js/configUtilities.js":201,"../../tags/js/mantisId.js":223,"../../userConsent/js/staticConsent.js":281,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-core/src/js/events":30}],274:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var n=window.isSmile.slice(-2);return["baseLayout","desktop","tabletLandscapeUpwards","tabletPortraitUpwards"].forEach(function(e){t[e]=t[e].filter(function(t){return i[n].some(function(e){return t.name===e.name})}),t[e].forEach(function(t){var r=i[n].find(function(e){return e.name===t.name});Object.keys(r).forEach(function(e){t[e]=r[e]})})}),t};var i={v1:[{name:"div-gpt-ad-rh-slot",sizes:[]}],v2:[{name:"div-gpt-ad-top-slot"},{name:"div-gpt-ad-sticky-bottom-banner"},{name:"div-gpt-ad-rh-slot"},{name:"div-gpt-ad-rh-secondary-slot",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='5']",relativePos:"before"},{name:"div-gpt-ad-rh-tertiary-slot",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='9']",relativePos:"before"},{name:"div-gpt-ad-rh-quaternary-slot",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='13']",relativePos:"before"},{name:"div-gpt-ad-in-article-slot"},{name:"div-gpt-ad-section-slot-1"},{name:"div-gpt-ad-section-slot-2"},{name:"div-gpt-ad-section-slot-3"},{name:"div-gpt-ad-bottom-slot"},{name:"div-gpt-ad-sureview-left-slot"},{name:"div-gpt-ad-sureview-right-slot"},{name:"hot-jobs"},{name:"taboolaRightRailsResponsive",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='4']",relativePos:"after"},{name:"taboolaBelowArticle"},{name:"taboolaMidArticle"},{name:"taboolaMobileMidArticle"},{name:"div-gpt-ad-mantis-carousel-partner-1"},{name:"div-gpt-ad-mantis-carousel-lb-1"},{name:"div-gpt-ad-mantis-carousel-lb-2"},{name:"div-gpt-ad-mantis-carousel-lb-3"},{name:"div-gpt-ad-mantis-carousel-lb-4"},{name:"div-gpt-ad-mantis-carousel-mpu-1"},{name:"div-gpt-ad-mantis-carousel-mpu-2"},{name:"div-gpt-ad-mantis-carousel-mpu-3"},{name:"div-gpt-ad-mantis-carousel-mpu-4"},{name:"div-gpt-ad-mantis-carousel-mpu-5"},{name:"div-gpt-ad-mantis-carousel-mpu-6"},{name:"div-gpt-ad-mantis-carousel-mpu-7"},{name:"div-gpt-ad-mantis-carousel-mpu-8"},{name:"div-gpt-ad-mantis-carousel-mpu-9"},{name:"div-gpt-ad-mantis-carousel-mpu-10"},{name:"div-gpt-ad-mantis-carousel-rhc-1"},{name:"div-gpt-ad-mantis-carousel-rhc-2"},{name:"div-gpt-ad-vip-slot"},{name:"native-article-slot-1",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='3']",relativePos:"after"},{name:"native-article-slot-2",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='7']",relativePos:"after"},{name:"native-article-slot-3",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='8']",relativePos:"after"},{name:"native-section-slot-1"},{name:"native-section-slot-2"},{name:"taboola-backfill-section-1"},{name:"taboola-backfill-section-2"},{name:"onscroll-placeholder",referenceNode:"#recommendations-top-heading",relativePos:"after"}],v3:[{name:"div-gpt-ad-top-slot"},{name:"div-gpt-ad-sticky-bottom-banner"},{name:"div-gpt-ad-rh-slot"},{name:"hot-jobs"},{name:"quick-links"},{name:"div-gpt-ad-mantis-carousel-rhc-1"},{name:"div-gpt-ad-mantis-carousel-rhc-2"},{name:"taboolaRightRailsResponsive",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='7']",relativePos:"after"},{name:"taboolaBelowArticle"},{name:"taboola-home-desktop-below-article-thumbnails"},{name:"taboola-home-mobile-below-article-thumbnails"},{name:"ayl-native-1"},{name:"ayl-native-2"},{name:"ayl-native-3"},{name:"native-article-slot-1",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='3']",relativePos:"after"},{name:"native-article-slot-2",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='7']",relativePos:"after"},{name:"native-article-slot-3",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='8']",relativePos:"after"}],v4:[{name:"div-gpt-ad-top-slot"},{name:"div-gpt-ad-sticky-bottom-banner"},{name:"div-gpt-ad-rh-slot"},{name:"onscroll-placeholder",referenceNode:"#recommendations-top-heading",relativePos:"after"},{name:"taboolaMidArticle"},{name:"taboolaMobileMidArticle"},{name:"ayl-native-1"},{name:"ayl-native-2"},{name:"ayl-native-3"},{name:"native-article-slot-1",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='3']",relativePos:"after"},{name:"native-article-slot-2",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='7']",relativePos:"after"},{name:"native-article-slot-3",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='8']",relativePos:"after"}],v5:[{name:"div-gpt-ad-rh-slot",sizes:[]},{name:"quick-links"},{name:"taboolaRightRailsResponsive",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='7']",relativePos:"after"},{name:"taboolaBelowArticle"},{name:"taboola-home-desktop-below-article-thumbnails"},{name:"taboola-home-mobile-below-article-thumbnails"},{name:"taboolaMidArticle"},{name:"taboolaMobileMidArticle"},{name:"ayl-native-1"},{name:"ayl-native-2"},{name:"ayl-native-3"},{name:"native-article-slot-1",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='3']",relativePos:"after"},{name:"native-article-slot-2",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='7']",relativePos:"after"},{name:"native-article-slot-3",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='8']",relativePos:"after"},{name:"native-section-slot-1"},{name:"native-section-slot-2"},{name:"taboola-backfill-section-1"},{name:"taboola-backfill-section-2"}],v6:[{name:"div-gpt-ad-top-slot"},{name:"div-gpt-ad-sticky-bottom-banner"},{name:"div-gpt-ad-rh-slot"},{name:"div-gpt-ad-rh-secondary-slot",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='5']",relativePos:"before"},{name:"div-gpt-ad-rh-tertiary-slot",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='9']",relativePos:"before"},{name:"div-gpt-ad-rh-quaternary-slot",referenceNode:"#recommendations-top-heading > [data-tmdatatrack-index='13']",relativePos:"before"},{name:"div-gpt-ad-in-article-slot"},{name:"div-gpt-ad-section-slot-1"},{name:"div-gpt-ad-section-slot-2"},{name:"div-gpt-ad-section-slot-3"},{name:"div-gpt-ad-bottom-slot"},{name:"div-gpt-ad-sureview-left-slot"},{name:"div-gpt-ad-sureview-right-slot"},{name:"div-gpt-ad-mantis-carousel-partner-1"},{name:"div-gpt-ad-mantis-carousel-lb-1"},{name:"div-gpt-ad-mantis-carousel-lb-2"},{name:"div-gpt-ad-mantis-carousel-lb-3"},{name:"div-gpt-ad-mantis-carousel-lb-4"},{name:"div-gpt-ad-mantis-carousel-mpu-1"},{name:"div-gpt-ad-mantis-carousel-mpu-2"},{name:"div-gpt-ad-mantis-carousel-mpu-3"},{name:"div-gpt-ad-mantis-carousel-mpu-4"},{name:"div-gpt-ad-mantis-carousel-mpu-5"},{name:"div-gpt-ad-mantis-carousel-mpu-6"},{name:"div-gpt-ad-mantis-carousel-mpu-7"},{name:"div-gpt-ad-mantis-carousel-mpu-8"},{name:"div-gpt-ad-mantis-carousel-mpu-9"},{name:"div-gpt-ad-mantis-carousel-mpu-10"},{name:"div-gpt-ad-mantis-carousel-rhc-1"},{name:"div-gpt-ad-mantis-carousel-rhc-2"},{name:"div-gpt-ad-vip-slot"}],v7:[{name:"div-gpt-ad-rh-slot",sizes:[]}]}},{}],275:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isInJurisdiction=l,r.isUSPPingInJurisdiction=function(e,t){if(!t)return!1;var r=e.mode,n=e.jurisdiction,i=e.location;return(null==r?void 0:r.includes("USP"))&&n.map(function(e){return e.toUpperCase()}).includes(i.toUpperCase())},r.initCCPA=function(){var e=new Promise(function(t){l().then(function(e){e?(0,s.delay)(100).then(function(){!function(){var e=i.default.getFeatureValue("consent.CCPA.link.text"),t=(0,s.isValidConfigTextString)(e)?e:"Do not sell or share my data",r=document.querySelector("ul#utility-links li:nth-last-child(2)"),n=document.createElement("li");n.innerHTML='<a href="javascript:void(0);" onclick="javascript:window.__uspapi(\'displayUspUi\');">'.concat(t,"</a>"),null===r&&(r=document.querySelector("ul.footer__nav-links-secondary .footer__nav-link-item-secondary-li"),n.classList.add("footer__nav-link-item-secondary-li"),n.querySelector("a").classList.add("footer__nav-link-item-secondary"));r&&r.parentElement.insertBefore(n,r)}(),t()}):t()}).catch(t)}),t=(0,o.cmpCCPAIsReady)().then(function(){var e;null!==(e=(0,a.getConsent)().usconsent)&&void 0!==e&&e.ccpaApplies&&(0,o.cmpCCPAIsReady)().then(function(){window.__uspapi("setUspDftData",1,function(e,t){t||console.warn("Error: USP string not updated!")})})});return Promise.all([e,t])};var a=e("./staticConsent.js"),o=e("./quantcast/quantcast"),s=e("../../tags/js/helpers.js"),i=n(e("../../scriptsCore/js/configUtilities.js"));function l(){return new Promise(function(i){/usprivacy=\d+[yYnN]{3}/.test(document.cookie)?i(!0):Promise.race([(0,o.cmpCCPAIsReady)(),(0,s.delay)(5e3,"timeout")]).then(function(e){if("timeout"===e)i(!0);else{var t,r,n=(0,a.getConsent)();i(!!(null!==(t=n.usconsent)&&void 0!==t&&t.ccpaApplies||null!==(r=n.usconsent)&&void 0!==r&&r.cookieContent))}})})}},{"../../scriptsCore/js/configUtilities.js":201,"../../tags/js/helpers.js":218,"./quantcast/quantcast":279,"./staticConsent.js":281,"@babel/runtime/helpers/interopRequireDefault":12}],276:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=void 0;function o(e){return atob(e.substring(0,1)+"A").charCodeAt(0)}function n(e){var n=s.TCFv2segmentDescriptions,t=e.trim().split("."),i=new l.CookieDecoder,a=i.decode(t[0],n[0].map,{outOfBand:{allowedVendors:{},disclosedVendors:{}},publisher:{consents:{},legitimateInterests:{},customPurpose:{consents:{},legitimateInterests:{}}}});return t.slice(1).forEach(function(e){i.reset();var t=o(e)>>5,r=n[t].map;i.decode(e,r,a)}),u(a,e)}var s=e("./cookieDecoderMaps"),l=e("./cookieDecoder"),u=function(e,t){return delete e.consentScreen,delete e.consentLanguage,delete e.vendorListVersion,delete e.version,delete e.created,delete e.lastUpdated,e.gdprApplies=!0,e.eventStatus="tcloaded",e.cmpStatus="loaded",e.tcString=t,e};r.decode=function(e,t){if("usprivacy"===e)return(0,l.decodeUsCookie)(t);if("euconsent-v2"===e&&2==o(t)>>2)return n(t);if("addtl_consent"===e)return(0,l.decodeAdditionalConsent)(t);var r={noniabvendorconsent:s.noniabvendorconsentMap,eupubconsent:s.eupubconsentMap}[e];return r?(new l.CookieDecoder).decode(t,r):null}},{"./cookieDecoder":277,"./cookieDecoderMaps":278}],277:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.decodeAdditionalConsent=r.decodeUsCookie=r.CookieDecoder=r.arrayToDenseObject=r.arrayToSparseObject=void 0;function s(e){return Array.isArray(e)?e.reduce(function(e,t,r){return t&&(e[r]=!0),e},{}):{}}var f=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),o=/(?:(!?\w+)\?\s)?([\w.]+)\.(b|d|i|l|r|v|p)(?:(\d+)|\[(\w+)\])?/g;r.arrayToSparseObject=s;r.arrayToDenseObject=function(e){return Array.isArray(e)?e.reduce(function(e,t,r){return null!=t&&(e[r]=!!t),e},{}):{}};var l=function(){function e(){var t=this;(0,i.default)(this,e),this.ptr=0,this.bitString="",this.decoders={b:function(e){return"1"===e},d:function(e){return new Date(100*t.decoders.i(e))},i:function(e){return parseInt(e,2)},l:function(e){return String.fromCharCode(65+parseInt(e.substring(0,e.length/2),2))+String.fromCharCode(65+parseInt(e.substring(e.length/2,e.length),2))},v:function(){return t.readVector()},p:function(){return t.readPurposeVector()},r:function(){return t.readRange()}}}return(0,a.default)(e,[{key:"reset",value:function(){return this.ptr=0,this}},{key:"fill",value:function(e,t,r,n){for(var i=t;i<=r;i++)null==e[i]&&(e[i]=n)}},{key:"cookieToBitString",value:function(e){return atob(e.replace(/-/g,"+").replace(/_/g,"/").trim()).split("").map(function(e){return String("00000000"+e.charCodeAt(0).toString(2)).slice(-8)}).join("")}},{key:"readRange",value:function(){for(var e=0,t=[null],r=this.readValue("i",12),n=0;n<r;n++){var i=this.readValue("b",1),a=this.readValue("i",16),o=i?this.readValue("i",16):a;this.fill(t,a,o,!0),e=e<o?o:e}return this.fill(t,0,e,!1),s(t)}},{key:"readVector",value:function(){var e=this.parseMap("max.i16 isRange.b1"),t=e.max;return e.isRange?this.readRange():this.readArray("b",1,t)}},{key:"readPurposeVector",value:function(){for(var e=this.readValue("i",12),t={},r=0;r<e;r++){var n=this.readValue("i",6),i=this.readValue("i",2);t[n]=t[n]||{};for(var a=this.readValue("i",12),o=0;o<a;o++)for(var s=this.readValue("b",1),l=this.readValue("i",16),u=s?this.readValue("i",16):l,c=l;c<=u;c++)t[n][c]=i}return t}},{key:"readArray",value:function(e,t,r){for(var n=[null],i=0;i<r;i++){var a=this.readValue(e,t);n.push(a)}return 1===t?s(n):n}},{key:"readValue",value:function(e,t){if(this.ptr+t>this.bitString.length)throw"Overflow";var r=this.bitString.substring(this.ptr,this.ptr+t);return this.ptr+=["b","d","i","l"].includes(e)?t:0,this.decoders[e](r)}},{key:"nestedSet",value:function(e,t,i){return t.split(".").reduce(function(e,t,r,n){return e[t]=r===n.length-1?i:e[t]||{},e[t]},e)}},{key:"readObj",value:function(e,t){var r=(0,f.default)(t,5),n=r[0],i=r[1],a=r[2],o=r[3],s=r[4];if(n){var l=n.replace("!","");if("!"===n[0]&&e[l]||"!"!==n[0]&&!e[l])return e[i]=null,e}var u=Number(o),c=Number(s)||e[s],d=c?this.readArray(a,u||1,c):this.readValue(a,u||1);return this.nestedSet(e,i,d),e}},{key:"parseMap",value:function(e,t){for(var r,n=this,i=1<arguments.length&&void 0!==t?t:{},a=[];r=o.exec(e);)a.push(r.slice(1));return a.reduce(function(e,t){return n.readObj(e,t)},i)}},{key:"decode",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:{};try{return this.bitString=this.cookieToBitString(e),this.reset().parseMap(t,n)}catch(e){return null}}}]),e}();r.CookieDecoder=l;r.decodeUsCookie=function(e){if(!e.match(/^[1][nNyY-][nNyY-][nNyY-]$/))return null;var t=e.toLowerCase().split("").map(function(e,t){return 0===t?Number(e):"y"===e}),r=(0,f.default)(t,4);return{version:r[0],noticegiven:r[1],optedout:r[2],lspact:r[3]}};r.decodeAdditionalConsent=function(e){var t=e.match(/^\d+~/);if(!t)return null;var r=parseInt(e.substring(0,t[0].length-1)),n=e.substring(t[0].length).replace(/[^\d]+$/,""),i=n.length?n.split(".").map(Number).filter(function(e){return 0<e}):[],a=i.some(function(e,t,r){return e<r[t-1]})?i.reduce(function(e,t){return e.sum+=t,e.vendors.push(e.sum),e},{vendors:[],sum:0}).vendors:i;return{version:r,vendors:a.reduce(function(e,t){return e[t]=!0,e},{}),ac:a.length?"".concat(r,"~").concat(a.join(".")):""}}},{"@babel/runtime/helpers/classCallCheck":6,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/slicedToArray":20}],278:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TCFv2segmentDescriptions=r.TCFv2publisherTCMap=r.TCFv2vendorsAllowedMap=r.TCFv2vendorsDisclosedMap=r.TCFv2coreMap=r.eupubconsentMap=r.noniabvendorconsentMap=void 0;r.noniabvendorconsentMap="created.d36 lastUpdated.d36 cmpId.i12 cmpVersion.i12 maxVendorId.i16 consent.b[maxVendorId]";r.eupubconsentMap="version.i6 created.d36 lastUpdated.d36 cmpId.i12 cmpVersion.i12 cmpVersionOld.i6 consentLanguage.l12 vendorListVersion.i12 publisherPurposesVersion.i12 standardPurposesAllowed.b[24] numberCustomPurposes.i6";var n="version.i6 created.d36 lastUpdated.d36 cmpId.i12 cmpVersion.i12 consentScreen.i6 consentLanguage.l12 vendorListVersion.i12 tcfPolicyVersion.i6 isServiceSpecific.b useNonStandardStacks.b specialFeatureOptins.b[12] purpose.consents.b[24] purpose.legitimateInterests.b[24] purposeOneTreatment.b publisherCC.l12 vendor.consents.v vendor.legitimateInterests.v publisher.restrictions.p",i="segmentId.i3 outOfBand.disclosedVendors.v",a="segmentId.i3 outOfBand.allowedVendors.v",o="segmentId.i3 publisher.consents.b[24] publisher.legitimateInterests.b[24] numCustomPurposes.i6 publisher.customPurpose.consents.b[24] publisher.customPurpose.legitimateInterests.b[24]",s={0:{name:"core",map:r.TCFv2coreMap=n},1:{name:"vendorsDisclosed",map:r.TCFv2vendorsDisclosedMap=i},2:{name:"vendorsAllowed",map:r.TCFv2vendorsAllowedMap=a},3:{name:"publisherTC",map:r.TCFv2publisherTCMap=o}};r.TCFv2segmentDescriptions=s},{}],279:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.getCmpPromise=d,r.listenToCMPState=f,r.cmpIsReady=function(){return Promise.all([d("ready"),d("ccpa-ready")])},r.cmpGDPRisReady=function(){return d("ready")},r.cmpCCPAIsReady=function(){return d("ccpa-ready")},r.userSavedConsent=function(){return d("accepted")},r.jurisdictionIsReady=function(){return d("jurisdiction-ready")},r.init=function(){var e=/\.ece$/.test(window.location.pathname),t=a.default.getFeatureValue("cmpHostName","features","string")||"";a.default.getConfigParam("quantcastCMPInline")&&t.includes(".")||((0,i.injectScript)(c()),(0,i.makeStub)(),(0,i.createUspStub)());f(),function(e){if(a.default.getConfigParam("cmpAutoConsent")||e)d("ui").then(function(){var t=!1,r=setInterval(function(){var e=document.querySelector(".qc-cmp2-summary-buttons [mode=primary]");e&&(e.click(),t=!0),t&&clearInterval(r)},100)})}(e)};var i=e("./tcfv2.js"),a=n(e("../../../scriptsCore/js/configUtilities.js")),o=e("../staticConsent.js"),s=e("../CCPA.js"),l=e("../../../tags/js/helpers.js"),u=e("@trinitymirrordigital/chameleon-core"),c=function(){var e,t=(0,l.getLocationHostname)();return a.default.getConfigParam("cmpIncludeSubdomains")?(e=t).split(".").slice(-(".co.uk"===e.substr(-6)?3:2)).join("."):t};function d(e){var t,r;return((null===(t=window)||void 0===t||null===(r=t.TMConsent)||void 0===r?void 0:r.cmpState)||{})[e]||Promise.reject()}function f(){function e(n){return new Promise(function(r){window.__tcfapi&&window.__tcfapi("addEventListener",2,function(e,t){t&&(null!=e.gdprApplies&&(0,o.updateGdprApplies)(e.gdprApplies),n.includes(e.eventStatus)&&r(e))})})}var t,r=[{state:"ready",callbackArg:["useractioncomplete","tcloaded"],callback:e},{state:"accepted",callbackArg:["useractioncomplete"],callback:e},{state:"ui",callbackArg:["cmpuishown"],callback:e},{state:"ccpa-ready",callbackArg:[],callback:function(){return new Promise(function(n){window.__uspapi&&window.__uspapi("uspPing",1,function(e,t){var r=(0,s.isUSPPingInJurisdiction)(e,t);(0,o.updateCcpaApplies)(r),n(r)})})}},{state:"jurisdiction-ready",callbackArg:"consent.jurisdiction.ready",callback:function(e){return new Promise(function(t){u.events.listen(document.body,e,function(e){return t(e.data)})})}}].reduce(function(e,t){return e[t.state]=t.callback(t.callbackArg),e},{});t=r,window.TMConsent=window.TMConsent||{},window.TMConsent.cmpState=t}},{"../../../scriptsCore/js/configUtilities.js":201,"../../../tags/js/helpers.js":218,"../CCPA.js":275,"../staticConsent.js":281,"./tcfv2.js":280,"@babel/runtime/helpers/interopRequireDefault":12,"@trinitymirrordigital/chameleon-core":28}],280:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.injectScript=function(e){var t=document.createElement("script"),r=document.getElementsByTagName("script")[0],n="https://cmp.quantcast.com/choice/JYWDqeLS64fbt/".concat(e,"/choice.js?tag_version=V2");t.async=!0,t.type="text/javascript",t.src=n,r.parentNode.insertBefore(t,r)},r.makeStub=function(){var e,i="__tcfapiLocator",n=[],a=window;for(;a;){try{if(a.frames[i]){e=a;break}}catch(e){}if(a===window.top)break;a=a.parent}e||(!function e(){var t=a.document,r=!!a.frames[i];if(!r)if(t.body){var n=t.createElement("iframe");n.style.cssText="display:none",n.name=i,t.body.appendChild(n)}else setTimeout(e,5);return!r}(),a.__tcfapi=function(){var e,t=arguments;if(!t.length)return n;if("setGdprApplies"===t[0])3<t.length&&2===t[2]&&"boolean"==typeof t[3]&&(e=t[3],"function"==typeof t[2]&&t[2]("set",!0));else if("ping"===t[0]){var r={gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"};"function"==typeof t[2]&&t[2](r)}else"init"===t[0]&&"object"===(0,o.default)(t[3])&&(t[3]=Object.assign(t[3],{tag_version:"V2"})),n.push(t)},a.addEventListener("message",function(n){var i="string"==typeof n.data,e={};try{e=i?JSON.parse(n.data):n.data}catch(e){}var a=e.__tcfapiCall;a&&window.__tcfapi(a.command,a.version,function(e,t){var r={__tcfapiReturn:{returnValue:e,success:t,callId:a.callId}};i&&(r=JSON.stringify(r)),n.source.postMessage(r,"*")},a.parameter)},!1),window.__tcfapi=a.__tcfapi)},r.createUspStub=function(){function t(){var e=arguments;(0,o.default)(window.__uspapi)!==t&&setTimeout(function(){void 0!==window.__uspapi&&window.__uspapi.apply(window.__uspapi,e)},500)}var e=0;if(void 0===window.__uspapi){window.__uspapi=t;var r=setInterval(function(){e++,window.__uspapi===t&&e<3?console.warn("USP is not accessible"):clearInterval(r)},6e3)}};var o=n(e("@babel/runtime/helpers/typeof"))},{"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/helpers/typeof":23}],281:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.updateConsent=function(){var e,t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{gdprApplies:null,ccpaApplies:null};window.TMConsent=m(m(m({},window.TMConsent||{}),function(){var a={"euconsent-v2":"tcfv2consent",noniabvendorconsent:"noniabconsent",eupubconsent:"pubconsent",usprivacy:"usconsent",addtl_consent:"googleatp"};return Object.keys(a).reduce(function(e,t){var r=window.localStorage.getItem(t)||(0,l.getCookie)(t);if(r){var n=a[t],i=(0,s.decode)(t,r);i&&(i.cookieContent=r,e[n]=i,"addtl_consent"===t&&e.tcfv2consent&&(e.tcfv2consent.addtlConsent=i.ac))}return e},{})}()),{},{api:{isConsented:P,isConsentedAsync:_,purposesAccepted:R,publisherPurposesAccepted:A,vendors:v,purposes:g}}),w(r.gdprApplies),j(r.ccpaApplies),(0,u.triggerEvent)("staticConsent.ready"),(0,u.triggerEvent)("staticConsent.updated"),h.fire(document.body,"staticConsent.updated"),!(null!==(e=window.TMConsent.tcfv2consent)&&void 0!==e&&e.cookieContent||null!==(t=window.TMConsent.usconsent)&&void 0!==t&&t.cookieContent)||(0,c.once)("consent")&&((0,u.triggerEvent)("staticConsent.obtained"),h.fire(document.body,"staticConsent.obtained"))},r.updateGdprApplies=w,r.updateCcpaApplies=j,r.getConsent=C,r.isConsented=P,r.isConsentedAsync=_,r.purposesAccepted=R,r.publisherPurposesAccepted=A,r.purposes=r.vendors=void 0;var i=n(e("@babel/runtime/regenerator")),a=n(e("@babel/runtime/helpers/asyncToGenerator")),o=n(e("@babel/runtime/helpers/defineProperty")),s=e("../../userConsent/js/cookie/consentDecoder"),l=e("@trinitymirrordigital/chameleon-utilities"),u=e("../../scriptsCore/js/dataLayerUtilities"),c=e("../../scriptsCore/js/once"),d=e("../../scriptsCore/js/utilities"),f=n(e("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js")),p=e("./quantcast/quantcast.js");function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach(function(e){(0,o.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var h=f.default.events,v={adnami:[612,!1],adyoulike:[259,!1],contentignite:[656,!1],google:[755,!1],jwplayer:[1046,!1],lotame:[95,!1],nielsen:[373,!1],nobid:[816,!1],ozone:[524,!1],pubmatic:[76,!1],taboola:[42,!1],teads:[12,!1],wunderkind:[256,!1],xandr:[32,!1],contentsquare:[13,!0],exitbee:[10,!0],facebook:[2,!0],ipsosmori:[11,!0],iristv:[8,!0],tiktok:[12,!0],twitter:[3,!0]};r.vendors=v;var g={STORE_AND_ACCESS_INFORMATION_ON_A_DEVICE:"1",SELECT_BASIC_ADS:"2",CREATE_A_PERSONALISED_ADS_PROFILE:"3",SELECT_PERSONALISED_ADS:"4",CREATE_A_PERSONALISED_CONTENT_PROFILE:"5",SELECT_PERSONALISED_CONTENT:"6",MEASURE_AD_PERFORMANCE:"7",MEASURE_CONTENT_PERFORMANCE:"8",APPLY_MARKET_RESEARCH_TO_GENERATE_AUDIENCE_INSIGHTS:"9",DEVELOP_AND_IMPROVE_PRODUCTS:"10",USE_PRECISE_GEOLOCATION_DATA:"11",ACTIVELY_SCAN_DEVICE_CHARACTERISTICS_FOR_IDENTIFICATION:"12"};function y(){var e=window.TMConsent,t=e.tcfv2consent,r=(t=void 0===t?{gdprApplies:null}:t).gdprApplies,n=e.usconsent,i=(n=void 0===n?{ccpaApplies:null}:n).ccpaApplies;if((0,d.isBool)(r)&&(0,d.isBool)(i)&&(0,c.once)("consent.jurisdiction.ready")){var a={gdprApplies:r,ccpaApplies:i};h.fire(document.body,"consent.jurisdiction.ready",a),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.jurisdiction.ready",commercialData:{info:{consentJurisdiction:a}}})}}function w(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(window.TMConsent=window.TMConsent||{},window.TMConsent.tcfv2consent=window.TMConsent.tcfv2consent||{},window.TMConsent.tcfv2consent.gdprApplies=e,y())}function j(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(window.TMConsent=window.TMConsent||{},window.TMConsent.usconsent=window.TMConsent.usconsent||{},window.TMConsent.usconsent.ccpaApplies=e,y())}function C(){return window.TMConsent||{}}function P(e){return function(e){var t,r,n,i,a,o,s,l,u,c=1<arguments.length&&void 0!==arguments[1]&&arguments[1],d=C();return[{name:"ccpa",applies:null===(t=d.usconsent)||void 0===t?void 0:t.ccpaApplies,hasCookie:!(null==d||(null===(r=d.usconsent)||void 0===r||!r.cookieContent)),consented:!(null!==(n=d.usconsent)&&void 0!==n&&n.optedout),default:!0},{name:"gdpr",applies:S(d),hasCookie:!(null==d||(null===(i=d.tcfv2consent)||void 0===i||!i.cookieContent)),consented:c?!(null===(a=d.noniabconsent)||void 0===a||(null===(o=a.consent)||void 0===o||!o[e])):!(null===(s=d.tcfv2consent)||void 0===s||(null===(l=s.vendor)||void 0===l||null===(u=l.consents)||void 0===u||!u[e])),default:!1}].map(function(e){return!0===e.applies?e.consented:!1===e.applies||(void 0===e.applies?e.hasCookie?e.consented:e.default:void 0)})}(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1]).every(function(e){return!0===e})}function _(e){return O.apply(this,arguments)}function O(){return(O=(0,a.default)(i.default.mark(function e(t){var r,n=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<n.length&&void 0!==n[1]&&n[1],e.abrupt("return",new Promise(function(e){P(t,r)?e(!0):Promise.all([(0,p.cmpCCPAIsReady)(),(0,p.cmpIsReady)()]).then(function(){e(P(t,r))})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){var t=e.tcfv2consent,r=e.usconsent,n=!(null==r||!r.cookieContent),i=!(null!=t&&t.cookieContent);return(0,d.isBool)(null==t?void 0:t.gdprApplies)?t.gdprApplies:!(n&&i)}function R(e){var t,r,n=C();if(S(n)){var i,a,o=(null===(i=n.tcfv2consent)||void 0===i||null===(a=i.purpose)||void 0===a?void 0:a.consents)||{},s=Object.keys(o);return e.every(function(e){return s.includes(e)})}return null==n||null===(t=n.usconsent)||void 0===t||!t.ccpaApplies||!(null!=n&&(null!==(r=n.usconsent)&&void 0!==r&&r.optedout))}function A(e){var t,r,n=C();if(S(n)){var i,a,o=(null===(i=n.tcfv2consent)||void 0===i||null===(a=i.publisher)||void 0===a?void 0:a.consents)||{},s=Object.keys(o);return e.every(function(e){return s.includes(e)})}return null==n||null===(t=n.usconsent)||void 0===t||!t.ccpaApplies||!(null!=n&&(null!==(r=n.usconsent)&&void 0!==r&&r.optedout))}r.purposes=g},{"../../scriptsCore/js/dataLayerUtilities":202,"../../scriptsCore/js/once":208,"../../scriptsCore/js/utilities":211,"../../userConsent/js/cookie/consentDecoder":276,"./quantcast/quantcast.js":279,"@babel/runtime/helpers/asyncToGenerator":5,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/interopRequireDefault":12,"@babel/runtime/regenerator":25,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":28,"@trinitymirrordigital/chameleon-utilities":34}]},{},[272]);
/* Drone Build Number: 7313 1706702787706 */
//# sourceMappingURL=tags.min.js.map
Error failed: ".concat(n.message))}}},B=function(e,t,n,r,o){if(!(e&&t&&n&&r&&o))return f.logger.warn("getSubmitHandler -- pageCriteria and/or DOM node(s) with falsy value"),function(){};var l=D(n,r);return function(c){try{c.preventDefault();var s=c.target.querySelector("[type=email]").value;if(!I.test(s))return void d.pageEvents.publish(d.pageEvents.SAFARI_NEWSLETTER_BAD_SUBMIT);t.dataset.state="sent",d.pageEvents.publish(d.pageEvents.SAFARI_NEWSLETTER_SUBMIT),window.Sailthru.integration("userSignUp",{email:s,lists:a({},e.safariNewsletterList,1),onError:l,onSuccess:function(){function n(){return a.apply(this,arguments)}var a=i(regeneratorRuntime.mark(function n(){var i,a,l,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return d.pageEvents.publish(d.pageEvents.SAFARI_NEWSLETTER_CONFIRM),k(),N(r,"none"),N(o,"flex"),t.classList.add("safari-popup-confirm-container"),i=w(),o.querySelector(".c1").classList.add(i),a=o.querySelector(".heading"),"usshowbiz"===e.channel?a.style.color="#e01c44":e.safariNewsletterUseChannelOwnColor?a.classList.add("ccow"):a.style.color="#194fad",n.next=11,p(3e3);case 11:return t.classList.add("safari-popup-fade"),n.next=14,p(3e3);case 14:l=t.querySelector(".close-icon"),l&&(c=R(t))(),t.style.borderRadius=0;case 17:case"end":return n.stop()}},n)}));return n}(),vars:{channel:e.channel||"unknown",geo:e.geo||"unknown"}}),N(n,"none"),N(r,"block")}catch(e){l()}}},U=function(e){return function(t){var n="object"===r(t)?t.target.value:t,o=I.test(n),i=e.querySelector("form");i&&(i.disabled=!o,o?M(e):j(e))}},q=function(e,t){e.querySelector(".channel").innerText=t.toUpperCase()},z=function(){var e=i(regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,l,c,p,h,v,g,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Object(s.getPageCriteria)(),t.safariNewsletterEnabled&&t.safariNewsletterList&&t.safariNewsletterCid){e.next=4;break}return e.abrupt("return");case 4:if(m()||!A(7)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Object(u.loadScript)("https://ak.sail-horizon.com/spm/spm.v1.min.js");case 8:window.Sailthru.init({customerId:t.safariNewsletterCid}),d.pageEvents.publish(d.pageEvents.SAFARI_NEWSLETTER_SHOW),n=L('\n<div>\n  <div class="safari-popup"  data-state="sending">\n    <div class="close-icon"></div>\n  </div>\n</div>'),r=L('\n  <div class="safari-signup">\n      <div class="c1">\n      </div>\n      <div class="c2">\n        <div class="content">\n            <div class="heading">Get <span class="emphasis"><span class="channel"></span> BREAKING NEWS</span> from MailOnline direct to your inbox</div>\n            <form action="" novalidate="novalidate">\n                <input type="email" placeholder="Enter your email">\n                <div class="error">Please enter a valid email address</div>\n                <div class="privlink">See our <a target="_blank" href="https://www.dailymail.co.uk/home/article-1388040/Privacy-Policy-Cookies.html">Privacy Policy</a></div>\n                <input type="submit" value="Sign up">\n            </form>\n        </div>\n      </div>\n  </div>'),o=L('<div class="safari-loading" alt="loading"></div>'),i=L('\n  <div class="safari-confirm">\n        <div class="c1"></div>\n        <div class="c2">\n          <div class="content">\n            <div class="heading">Thanks, we\'ll send you <br><span class="emphasis"><span class="channel"></span> Breaking News</span><br> the second it happens!</div>\n            <div class="spam">If you dont see anything from us, please check your Promotions or Spam folder.</div>\n          </div>\n         </div>\n  </div>'),a=n.querySelector(".safari-popup"),l=r.querySelector('[type="submit"]'),c=r.querySelector(".heading"),"usshowbiz"===t.channel||"tvshowbiz"===t.channel?(c.style.color="#e01c44",l.classList.add("channel-showbiz-bg")):t.safariNewsletterUseChannelOwnColor?(c.classList.add("ccow"),l.classList.add("wocc")):(c.style.color="#194fad",l.classList.add("channel-default-bg")),p=w(),r.querySelector(".c1").classList.add(p),b()?(q(r,"Showbiz"),q(i,"Showbiz")):t.safariNewsletterUseChannelOwnColor&&(q(r,t.channel),q(i,t.channel)),a.appendChild(r),a.appendChild(o),a.appendChild(i),h=a.querySelector("form"),h.addEventListener("submit",B(t,a,r,o,i)),v=h.querySelector("input[type=email]"),g=U(a),y=R(a),a.querySelector(".close-icon").addEventListener("click",y),v.addEventListener("keyup",g),v.addEventListener("change",g),h.querySelector('[type="submit"]').addEventListener("click",function(){g()}),document.body.appendChild(a),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),f.logger.warn("createPopup failed: ".concat(e.t0.message));case 39:case"end":return e.stop()}},e,null,[[0,36]])}));return function(){return e.apply(this,arguments)}}();n(101);n.d(t,"loaded",function(){return F});var F=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){l(c,r,o,i,a,"next",e)}function a(e){l(c,r,o,i,a,"throw",e)}var c=e.apply(t,n);i(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.later)("DOM_READY");case 2:(h()||m())&&z();case 3:case"end":return e.stop()}},e)}))()},function(e,t){},function(e,t){e.exports={container:"container-3zJLP",expanded:"expanded--kXex",linkItem:"linkItem-2NXrW",horizontal:"horizontal-1eH9F",vertical:"vertical-2XJd5",copyLinkBoxOn:"copyLinkBoxOn-1Zh9v",copyLinkBox:"copyLinkBox-2c1rn",linksHolder:"linksHolder-3KBa2",shareIcon:"shareIcon-8A2dW"}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},c.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=o;var i=n(21),a=n(36),l=r(a),c=n(130),s=n(138),u=n(140),f=r(u);t.VERSION="4.1.2";t.COMPILER_REVISION=7;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=d;o.prototype={constructor:o,logger:f.default,log:f.default.log,registerHelper:function(e,t){if("[object Object]"===i.toString.call(e)){if(t)throw new l.default("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===i.toString.call(e))i.extend(this.partials,e);else{if(void 0===t)throw new l.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===i.toString.call(e)){if(t)throw new l.default("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var p=f.default.log;t.log=p,t.createFrame=i.createFrame,t.logger=f.default},function(e,t){e.exports={container:"container-1YSGx",disableNext:"disableNext-1mHKf",disablePrev:"disablePrev-ky_sG"}},function(e,t,n){"use strict";(function(e){function n(e){return e?r(e):"undefined"!=typeof navigator?r(navigator.userAgent):i()}function r(e){var t=""!==e&&p.reduce(function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]},!1);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new s;var i=r[1]&&r[1].split(/[._]/).slice(0,3);return i?i.length<d&&(i=i.concat(a(d-i.length))):i=[],new l(n,i.join("."),o(e))}function o(e){for(var t=0,n=h.length;t<n;t++){var r=h[t],o=r[0];if(r[1].test(e))return o}return null}function i(){return void 0!==e&&e.version?new c(e.version.slice(1)):null}function a(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,n){this.name=e,this.version=t,this.os=n}return e}();t.BrowserInfo=l;var c=function(){function t(t){this.version=t,this.name="node",this.os=e.platform}return t}();t.NodeInfo=c;var s=function(){function e(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}();t.BotInfo=s;var u=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,f=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,d=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",u]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",f]];t.detect=n,t.parseUserAgent=r,t.detectOS=o,t.getNodeVersion=i}).call(t,n(38))},function(e,t,n){e.exports=n(271)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(15);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var a=[];o.forEach(t,function(e,t){null!==e&&void 0!==e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),i=a.join("&")}if(i){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){function r(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=n(15),i=n(276),a={"Content-Type":"application/x-www-form-urlencoded"},l={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(112):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(e=n(112)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){l.headers[e]={}}),o.forEach(["post","put","patch"],function(e){l.headers[e]=o.merge(a)}),e.exports=l}).call(t,n(38))},function(e,t,n){"use strict";var r=n(15),o=n(277),i=n(279),a=n(109),l=n(280),c=n(283),s=n(284),u=n(113);e.exports=function(e){return new Promise(function(t,n){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"],(r.isBlob(f)||r.isFile(f))&&f.type&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=unescape(encodeURIComponent(e.auth.password))||"";d.Authorization="Basic "+btoa(h+":"+m)}var v=l(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,i=e.responseType&&"text"!==e.responseType?p.response:p.responseText,a={data:i,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,n,a),p=null}},p.onabort=function(){p&&(n(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||s(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),n(e),p=null)}),f||(f=null),p.send(f)})}},function(e,t,n){"use strict";var r=n(278);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){function n(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(i[o]=n(void 0,e[o])):i[o]=n(e[o],t[o])}t=t||{};var i={},a=["url","method","data"],l=["headers","auth","proxy","params"],c=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];r.forEach(a,function(e){r.isUndefined(t[e])||(i[e]=n(void 0,t[e]))}),r.forEach(l,o),r.forEach(c,function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(i[o]=n(void 0,e[o])):i[o]=n(void 0,t[o])}),r.forEach(s,function(r){r in t?i[r]=n(e[r],t[r]):r in e&&(i[r]=n(void 0,e[r]))});var u=a.concat(l).concat(c).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===u.indexOf(e)});return r.forEach(f,o),i}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t){e.exports={copyToClipboardTooltip:"copyToClipboardTooltip-32brH",copyButton:"copyButton-3DECa",manualCopyPrompt:"manualCopyPrompt-1Ukgi",successMessage:"successMessage-3d0EX",footer:"footer-3Ndg0",closeButton:"closeButton-BJ1Ro"}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return l});var r={AU:"auhome",GB:"home",US:"ushome"},o=["home","ushome","auhome","ukhome","indiahome"],i=["billBoard-oop","sky-article-wide","textAd","h-sky-a","h-sky-b"],a="latest-article-count",l="baseline-article-count"},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){function a(e){r(c,o,i,a,l,"next",e)}function l(e){r(c,o,i,a,l,"throw",e)}var c=e.apply(t,n);a(void 0)})}}var i=n(119),a=(n.n(i),function(){var e=function(e,t){return t>0&&Math.round(e/t*100)||0},t=function(e,t,n){var r=document.querySelector(".poll-".concat(e,".poll-results")),o=document.querySelector("#poll-".concat(e)),i=Math.round(.55*parseInt(getComputedStyle(r).width,10)),a=Math.round(.55*parseInt(getComputedStyle(o).width,10)),l=i>a?i:a;return n>0?Math.round(t*l/n):0},n=function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],o=r.querySelector('input[name*="votes"]');t+=parseInt(o.value,10)}return t},r=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},i=function(e,t,n){for(var r=0,o=0;o<e.length;o++){var i=e[o],a=i.querySelector('input[name*="votes"]'),l=i.querySelector('input[name*="answer"]'),c=parseInt(a.value,10);c=n||parseInt(l.value,10)!==t?c:c+1,r=c>r?c:r}return r},a=function(e){var t=localStorage.poll;if(t)for(var n=t.split("_"),r=0;r<n.length;r++)if(-1!==n[r].indexOf(e))return n[r].split("-")[1]},l=function(e,t){localStorage.poll?a(e)||(localStorage.poll="poll=".concat(e,"-").concat(t)):localStorage.poll="poll=".concat(e,"-").concat(t)},c=function(o,a,l,c,s){for(var u=i(l,a,s),f=n(l),d=[],p=0;p<l.length;p++){var h=l[p],m={},v=h.querySelector('input[name*="votes"]'),g=h.querySelector('input[name*="answer"]'),y=parseInt(v.value,10);parseInt(g.value,10)!==a||s?m.votes=y:(m.votes=y+1,f++),m.percentage=e(m.votes,f)+"%",m.barLength=t(o,m.votes,u),d.push(m)}for(var b=0;b<c.length;b++){var w=c[b],E=w.querySelector("span.results-score span:first-of-type"),x=w.querySelector("span.vote-results-bar");if(E.innerText=d[b].percentage,x.style.width="".concat(d[b].barLength,"px"),1===d[b].votes){w.querySelector("span.results-votes").innerText="".concat(Math.floor(d[b].votes)," vote")}else{w.querySelector("span.results-votes").innerText="".concat(r(Math.floor(d[b].votes))," votes")}}},s=function(e,t,n){var r=document.querySelector("#poll-".concat(e.params.pollId)),o=r.querySelectorAll("div.poll-answer"),i=document.querySelectorAll(".".concat(e.id," .poll-results .poll-answers li"));c(e.params.pollId,t,o,i,n),r.style.display="none",document.querySelector(".".concat(e.id," div.poll-results")).style.display="block"},u=function(t,r,o){var i=Array.from(document.querySelectorAll(".poll")),a=Array.from(document.querySelectorAll(".poll-mini-".concat(t," ul li .poll-question .answer")));if(i.length>0&&0===a.length){var l=document.querySelector('label[for="answer-'.concat(t,"-").concat(r,'"]')),c=document.querySelectorAll("#poll-".concat(t," div.poll-answer")),s=n(c),u=document.querySelector("input#answer-".concat(t,"-").concat(r,"-votes")).value,f=e(o?parseInt(u,10):parseInt(u,10)+1,s+1),d=document.querySelector("ul.poll-mini-".concat(t," li .poll-question")),p=document.createDocumentFragment(),h=document.createElement("div");for(h.innerHTML='\n        <br/>\n        <span class="answer">You said <b>'.concat(l.textContent,'</b>.\n        <span class="ccox"><b>').concat(f,"%</b></span> of others agreed with you.</span>\n      ");h.childNodes[0];)p.appendChild(h.childNodes[0]);d.appendChild(p);var m=document.querySelector("ul.poll-mini-".concat(t)),v=document.querySelector("ul.poll-mini-".concat(t," li.question"));m.style.height="".concat(v.offsetHeight,"px")}},f=function(){var e=o(regeneratorRuntime.mark(function e(t,n,r){var o,i,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.params.pollId,i=r.params.questionId,a=document.querySelector("#poll-".concat(o," #").concat(n.getAttribute("for"))),a.setAttribute("checked",!0),!(c=parseInt(document.querySelector("#poll-".concat(o,' input[name="answer"]:checked')).value,10))){e.next=11;break}return e.next=8,fetch("/polls/answer",{body:JSON.stringify({"answer-id":String(c),"poll-id":o,"question-id":i}),headers:{"Content-Type":"application/json"},method:"POST"});case 8:l(r.params.pollId,c),s(r,c,!1),r.params.isMobile&&u(r.params.pollId,c,!1);case 11:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(e){var t=a(e.params.pollId);if(t){document.querySelector("#poll-".concat(e.params.pollId," #answer-").concat(e.params.pollId,"-").concat(t)).checked=!0,s(e,t,!0),e.params.isMobile&&u(e.params.pollId,t,!0)}},p=function(e){var t=document.querySelector(".poll .poll-mini-".concat(e.params.pollId," li.question")),n=Math.round(parseInt(getComputedStyle(document.querySelector(".poll ul")).width,10)-135);if(t.style.width=n+"px",document.querySelector(".poll .poll-mini-".concat(e.params.pollId)).addEventListener("click",function(){var t=document.querySelector("#mobile-poll-".concat(e.params.pollId));t.classList.add("show");var n=document.querySelector("#mobile-poll-".concat(e.params.pollId)),r=document.querySelector("#poll-content");r.innerHTML=n.innerHTML,r.classList.add("active"),t.innerHTML="";for(var o=document.querySelectorAll("#poll-".concat(e.params.pollId," .answer-label")),i=0;i<o.length;i++)!function(t){o[t].addEventListener("click",function(n){f(n,o[t],e)},!1)}(i);DMS.PollShare.init(e.id,e.params.mobilePollShare);var a=document.querySelector("#poll-content .poll-single .close"),l=function e(){t.innerHTML=r.innerHTML,t.classList.remove("show"),r.innerHTML="",r.classList.remove("active"),a.removeEventListener("click",e,!1)};a.addEventListener("click",l,!1)},!1),document.getElementById("sponsored-poll-mobile")){var r=document.querySelector("#sponsored-poll-mobile video").clone();document.querySelector("#sponsored-poll-mobile").remove();var o=document.createElement("div");o.className="vjs-video-container vjs-responsive news";var i=document.createElement("video");i.className="video-js vjs-default-skin",i.setAttribute("id",i.getAttribute("id")),i.setAttribute("controls",""),i.setAttribute("width","640"),i.setAttribute("height","264"),i.setAttribute("preload","none"),i.setAttribute("data-opts",r.getAttribute("data-opts"));var a=JSON.parse(r.getAttribute("data-opts")),l=document.createElement("source");l.setAttribute("type",r.children().attr("type")),l.setAttribute("src",a.src);var c=document.createElement("div"),s=document.createElement("p");c.className="video-fake-title",s.innerText=a.title,setTimeout(function(){o.appendChild(i),i.appendChild(l),c.appendChild(s),document.querySelector("#poll-content .poll-single .poll-sponsored-mobile").appendChild(c),document.querySelector("#poll-content .poll-single .poll-sponsored-mobile").appendChild(o),DM.setupMolVideoJsPlayers(i)},1)}},h=function(e){e.params.isMobile&&p(e);for(var t=document.querySelectorAll("#poll-"+e.params.pollId+" .answer-label"),n=0;n<t.length;n++){t[n].addEventListener("click",function(t){return f(t,t.target,e)},!1)}setTimeout(function(){return d(e)},100)};return{init:function(e){h(e)}}}());t.a=a},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){function a(e){r(c,o,i,a,l,"next",e)}function l(e){r(c,o,i,a,l,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function i(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(c,r,o,a,l,"next",e)}function l(e){i(c,r,o,a,l,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function l(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){l(c,r,o,i,a,"next",e)}function a(e){l(c,r,o,i,a,"throw",e)}var c=e.apply(t,n);i(void 0)})}}function s(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),f=n(0),d=n(2),p=n.n(d),h=n(9),m=n(3),v=function(e,t){try{"localStorage"in window&&window.localStorage.setItem("".concat("mol-fe-newzit-notification-promo-").concat(e),JSON.stringify(t))}catch(e){}},g=function(e){try{if("localStorage"in window){var t=window.localStorage.getItem("".concat("mol-fe-newzit-notification-promo-").concat(e));return t?JSON.parse(t):null}}catch(e){}return null},y=n(1),b=function(){var e=o(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(y.getPageMetadata)(),n=t.environment||"production",r="https://".concat("production"===n?"www.newzit.com":"www.newzitint.com","/setABframe.html?command=notificationStatus"),e.abrupt("return",new Promise(function(e,t){var n=null,o=function t(r){if("newzit-notification-status"===r.data.scope){var o=r.data.data&&String(r.data.data.status);o&&(window.removeEventListener("message",t),n&&clearTimeout(n),e(o))}};window.addEventListener("message",o);var i=document.createElement("iframe");i.style.width="0px",i.style.height="0px",i.style.border="none",i.src=r,document.body.appendChild(i),n=setTimeout(function(){window.removeEventListener("message",o),t(new Error("timeout loading abFrame"))},6e3)}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=g("newzitStatus");return e&&"none"!==e},E=function(e){var t=g("lastShown");return t&&Date.now()-t<e},x=function(e){return!0===e||"true"===e},k=function(){var e=a(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Notification"in window){e.next=2;break}return e.abrupt("return",!1);case 2:if(t=Object(y.getPageCriteria)(),n=Object(y.getPageMetadata)(),x(t.showNewzitNotificationPrompt)&&!t.isMobile&&!t.isTablet&&"desktop"===n.renderPlatform){e.next=6;break}return e.abrupt("return",!1);case 6:if("default"!==Notification.permission){e.next=8;break}return e.abrupt("return",!1);case 8:if(e.prev=8,e.t0=g("newzitStatus"),e.t0){e.next=14;break}return e.next=13,b();case 13:e.t0=e.sent;case 14:if("none"===(r=e.t0)){e.next=18;break}return v("newzitStatus",r),e.abrupt("return",!1);case 18:e.next=23;break;case 20:return e.prev=20,e.t1=e.catch(8),e.abrupt("return",!1);case 23:return e.abrupt("return",!E(6048e5));case 24:case"end":return e.stop()}},e,null,[[8,20]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.getPageCriteria)(),t=Object(y.getPageMetadata)(),n=e.subchannel,r=t.renderPlatform,o=t.contentType,i="MOL_".concat(r,"_").concat(n,"_top_").concat(o,"_Newzitpromo");return"https://".concat("production"===(t.environment||"production")?"www.newzit.com":"www.newzitint.com","/?ito=").concat(i)},T=function(){var e=.75*window.screen.width,t=.75*window.screen.height,n=window.top.outerHeight/2+window.top.screenY-t/2,r=window.top.outerWidth/2+window.top.screenX-e/2,o=S();return m.pageEvents.publish(m.pageEvents.NEWZIT_NOTIFICATION_PROMO_OPEN,{destinationUrl:o}),window.open(o,"Newzit",["width=".concat(Math.floor(e)),"height=".concat(Math.floor(t)),"top=".concat(Math.floor(n)),"left=".concat(Math.floor(r))].join(","))},O=n(341),C=n.n(O),_=function(e){var t=e.onClose,n=e.onOpen;return p.a.createElement("div",{className:C.a.promo,style:{left:"".concat(window.innerWidth/6,"px")}},p.a.createElement("div",{className:C.a.heading},"Want BREAKING NEWS from every angle?"),p.a.createElement("div",{className:C.a.subHeading},'Click "Allow" when prompted to get the best stories from Newzit.'),p.a.createElement("button",{className:C.a.button,onClick:n},"Get notifications"),p.a.createElement("button",{className:C.a.close,onClick:t}))},P=!1,A=function(){if(P)return null;var e=document.createElement("div");document.body.append(e);var t=function(){Object(h.unmountComponentAtNode)(e),e.remove(),P=!1},n=function(){m.pageEvents.publish(m.pageEvents.NEWZIT_NOTIFICATION_PROMO_CLOSE),t()},r=function(){t(),T()};return Object(h.render)(p.a.createElement(_,{onClose:n,onOpen:r}),e),P=!0,v("lastShown",Date.now()),t},L=function(){var e=c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",A());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();n.d(t,"loaded",function(){return I}),n.d(t,"init",function(){return L}),n.d(t,"show",function(){return A}),n.d(t,"seenWithin",function(){return E}),n.d(t,"hasActionedPrompt",function(){return w});var I=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){s(l,r,o,i,a,"next",e)}function a(e){s(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.later)("DOM_READY");case 3:return e.next=5,L();case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),f.logger.error("Error initialising newzit notification promo",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))()},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return s});var r=n(8),o=n.n(r),i=n(1),a=(n.n(i),n(117)),l=function(e){var t=e.querySelector(".new-article-count");if(t){var n=!t.classList.contains("hidden"),r=e.querySelector(".new-articles"),o=e.querySelector(".back-to-home:not(.new-articles)");n&&(t.classList.add("hidden"),o.classList.remove("hidden"),r.classList.add("hidden"))}},c=function(e,t){var n=t.querySelector(".new-article-count");if(n){var r=!n.classList.contains("hidden"),o=t.querySelector(".new-articles"),i=t.querySelector(".back-to-home:not(.new-articles)"),a=e>=99?"+99":String(e);n.innerHTML!==a&&(n.innerHTML=a),r||(n.classList.remove("hidden"),i.classList.add("hidden"),o.classList.remove("hidden"))}},s=function(e,t){if(e){var n=parseInt(o.a.get(a.b),10)||0,r=parseInt(o.a.get(a.e),10)||n;r-n>0&&!document.body.classList.contains("floating-buttons-back-to-top-only")?c(r-n,t):l(t)}else l(t)},u=function(){var e=window.PageCriteria.geo;return a.c[e]||"home"},f=function(e){var t=window.PageCriteria,n=u()===t.channel;("thisismoney"===Object(i.getPageMetadata)().domain&&"channel"===t.pageType&&"money"===t.channel&&"money"===t.subchannel||n&&a.d.includes(t.subchannel))&&(document.body.classList.add("no-article-count"),document.body.classList.add("floating-buttons-back-to-top-only")),n&&"article"!==t.pageType&&e?o.a.set(a.b,e):e&&o.a.set(a.e,e)}},function(e,t,n){"use strict";var r=n(13),o=(n.n(r),function(e){return Math.sin(e*(Math.PI/2))}),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=window.scrollY||document.documentElement.scrollTop,i=e-n,a=Date.now(),l=a+t;!function a(){var c=l-Date.now(),s=c/t;if(s>0&&s<=1){var u=1-o(s);window.requestAnimationFrame(a),r.scrollUtils.setScrollTop(document.body,n+i*u)}else r.scrollUtils.setScrollTop(document.body,e)}()};t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a={DATA_PAGE:"data-page",DATA_SRC:"data-src"},l={PAGE_NEXT:"next",PAGE_PREVIOUS:"prev"},c={ACTIVE:"link-wocc",DISABLED:"disabled",PAGES:"rotator-pages",PANELS:"rotator-panels"},s={ACTIVE_PAGE:1,IS_LOOPING_ENABLED:!0,ITEMS_PER_PAGE_COUNT:3,PAGE_COUNT:4,SCROLL_DIRECTION:"horizontal"},u={LAZY_LOADED_IMAGES:"[".concat(a.DATA_SRC,"]"),PAGE:"div, li",PAGES:".".concat(c.PAGES),PAGING_CONTROL:"a",PANELS:".".concat(c.PANELS)},f={ATTRIBUTE_KEYS:a,ATTRIBUTE_VALUES:l,CSS_CLASSES:c,DEFAULTS:s,SELECTORS:u},d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.activePage=void 0,this.configuration=n,this.containerElementId=t,this.imagesRequested=!1,this.setActivePage(this.getActivePage()),this.bindEvents()}return i(e,[{key:"bindEvents",value:function(){var e=this,t=this.getPagesContainerElement();t&&t.addEventListener("click",function(t){t.target.closest("a")&&t.preventDefault();var n=t.target.closest(f.SELECTORS.PAGING_CONTROL);if(n){var r=n.getAttribute(f.ATTRIBUTE_KEYS.DATA_PAGE);if(r===f.ATTRIBUTE_VALUES.PAGE_NEXT)e.next();else if(r===f.ATTRIBUTE_VALUES.PAGE_PREVIOUS)e.previous();else{var o=Number(r);Number.isNaN(o)||e.scrollTo(o)}}})}},{key:"getActiveCssClass",value:function(){return this.configuration.activeClass||f.CSS_CLASSES.ACTIVE}},{key:"getActivePage",value:function(){return void 0===this.activePage?f.DEFAULTS.ACTIVE_PAGE:this.activePage}},{key:"getContainerElement",value:function(){var e=document.getElementById(this.containerElementId);return this.getContainerElement=function(){return e},e}},{key:"getItemsLastPageCount",value:function(){var e=this.getPanelsContainerElement(),t=this.getItemsPerPageCount();if(e){var n=e.querySelectorAll("li"),r=n.length&&n.length%this.getItemsPerPageCount();r&&(t=r)}return t}},{key:"getItemsPerPageCount",value:function(){return void 0===this.configuration.pageSize?f.DEFAULTS.ITEMS_PER_PAGE_COUNT:this.configuration.pageSize}},{key:"getItemScrollOffset",value:function(){var e,t=this.getPanelsContainerElement();if(t){var n=Array.from(t.children).find(function(e){return e.matches("li")});if(n){var r=getComputedStyle(n);e=this.isVertical()?(parseFloat(r.marginBottom)||0)+(parseFloat(r.height)||0):(parseFloat(r.marginRight)||0)+(parseFloat(r.width)||0)}}return e}},{key:"getPageCount",value:function(){return void 0===this.configuration.pageCount?f.DEFAULTS.PAGE_COUNT:this.configuration.pageCount}},{key:"getPagesContainerElement",value:function(){var e=this.getContainerElement();return e&&e.querySelector(this.configuration.video?this.configuration.video.pages:f.SELECTORS.PAGES)}},{key:"getPanelsContainerElement",value:function(){var e=this.getContainerElement();return e&&e.querySelector(this.configuration.video?this.configuration.video.panels:f.SELECTORS.PANELS)}},{key:"getScrollDirection",value:function(){return void 0===this.configuration.scrollDirection?f.DEFAULTS.SCROLL_DIRECTION:this.configuration.scrollDirection}},{key:"isLoopingEnabled",value:function(){return void 0===this.configuration.rotate?f.DEFAULTS.IS_LOOPING_ENABLED:this.configuration.rotate}},{key:"isVertical",value:function(){return"vertical"===this.getScrollDirection()}},{key:"getScrollOffset",value:function(e){return 1===e?0:e!==this.getPageCount()||this.isLoopingEnabled()?(e-1)*this.getItemScrollOffset()*this.getItemsPerPageCount()*-1:-1*((e-2)*this.getItemScrollOffset()*this.getItemsPerPageCount()+this.getItemScrollOffset()*this.getItemsLastPageCount())}},{key:"next",value:function(){var e=this.getActivePage(),t=this.getPageCount();e>=t?e=this.isLoopingEnabled()?1:t:e+=1,this.scrollTo(e)}},{key:"previous",value:function(){var e=this.getActivePage(),t=this.getPageCount();e<=1?e=this.isLoopingEnabled()?t:1:e-=1,this.scrollTo(e)}},{key:"requestImages",value:function(){if(!this.imagesRequested){var e=this.getPanelsContainerElement();e&&Array.from(e.querySelectorAll(f.SELECTORS.LAZY_LOADED_IMAGES)).forEach(function(e){return window.DM.LazyLoad(e)}),this.imagesRequested=!0}return this}},{key:"scrollTo",value:function(e){var t=this.getPanelsContainerElement();if(this.requestImages(),this.setActivePage(e),t){var n=this.getScrollOffset(e);"vertical"===this.getScrollDirection()?t.style.transform="translateY(".concat(n,"px)"):t.style.transform="translateX(".concat(n,"px)")}}},{key:"setActivePage",value:function(e){var t=this,n=this.getPagesContainerElement();if(n){var r=e<=1,o=e>=this.getPageCount(),i=1===this.getPageCount();Array.from(n.querySelectorAll(f.SELECTORS.PAGE)).forEach(function(n){var a=n.querySelector(f.SELECTORS.PAGING_CONTROL).getAttribute(f.ATTRIBUTE_KEYS.DATA_PAGE),l=a===f.ATTRIBUTE_VALUES.PAGE_NEXT,c=a===f.ATTRIBUTE_VALUES.PAGE_PREVIOUS,s=c&&r||l&&o,u=e&&a===e.toString(),d=i||!t.isLoopingEnabled()&&s;n.classList[u?"add":"remove"](t.getActiveCssClass()),n.classList[d?"add":"remove"](f.CSS_CLASSES.DISABLED)})}return this.activePage=e,this}}],[{key:"initMiniCarousel",value:function(){new e("mini-carousel-wrapper",{pageCount:4,pageSize:6,rotate:!1})}},{key:"initMiniCarouselExt",value:function(t,n,r){new e(t,{pageCount:r,pageSize:n,rotate:!1})}}]),e}();t.a=d},,,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function T(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){N(l,r,o,i,a,"next",e)}function a(e){N(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function B(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),e}function Y(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ee(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){$(l,r,o,i,a,"next",e)}function a(e){$(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),e}function oe(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t,n){return(ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=le(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function le(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ce(e)););return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?he(e):t}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function be(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){ye(l,r,o,i,a,"next",e)}function a(e){ye(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}var we,Ee,xe,ke=function(e){var t=e.cb,n=e.throwError,o=void 0!==n&&n,i=r(t);if("function"!==i){if(o)throw new Error('onDocumentLoad: expected function, but received "'.concat(i,'"'));return!1}return!0},Se=ke,Te=function(e){return Se({cb:e,throwError:!0}),{isRemoved:!1,remove:function(){this.isRemoved=!0,e()}}},Oe=Te,Ce=function(e){Se({cb:e,throwError:!0});var t=function(){o.isRemoved||(o.remove(),e())},n=["DOMContentLoaded",t],r=["load",t],o=Oe(function(){var e,t;(e=document).removeEventListener.apply(e,n),(t=window).removeEventListener.apply(t,r)});if(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)t();else{var i,a;(i=document).addEventListener.apply(i,n),(a=window).addEventListener.apply(a,r)}return o},_e=Ce,Pe=function(e){var t,n;Se({cb:e,throwError:!0});var r,o,i,a,l,c=function(t){clearInterval(r),clearTimeout(o),t&&(r=null,o=null,e(t))},s=function(e){c(),r=setInterval(function(){window.innerWidth===i&&window.innerHeight===a?3===++l&&c(e):(i=window.innerWidth,a=window.innerHeight,l=0)},100),o=setTimeout(function(){c(e)},1e3)},u=["resize",s],f=["orientationchange",s];return(t=window).addEventListener.apply(t,u),(n=window).addEventListener.apply(n,f),Oe(function(){var e,t;(e=window).removeEventListener.apply(e,u),(t=window).removeEventListener.apply(t,f)})},Ae=Pe,Le=n(54),Ie=window.DM||{},Ne=function(){if(!we){var e=window.scrollY;we=function(){window.scrollY!==e&&window.scrollTo(window.scrollX,e)},window.addEventListener("scroll",we)}},je=function(){we&&(window.removeEventListener("scroll",we),we=null)},Me=function(e){var t=e.length;return t>8?e.slice(0,t-t%2):e},Re=function(e){e&&e.plugins&&(e.plugins.playlist&&e.plugins.playlist.videos&&(e.plugins.playlist.videos=Me(e.plugins.playlist.videos)),delete e.plugins.flyout)},De=Re,Be=function(e){switch(Object.prototype.toString.call(e)){case"[object Object]":return Object.keys(e).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&");case"[object String]":return e}return""},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new XMLHttpRequest;if(!e)throw new Error("URL required to make request");var r=t.method,o=void 0===r?"GET":r,i=t.headers,a=t.body,l=t.cb,c=!1;if("function"==typeof t&&(l=t),"GET"===o&&a){var s=Be(a);s&&(e+=(-1===e.indexOf("?")?"?":"&")+s)}n.open(o,e),i&&Object.keys(i).forEach(function(e){n.setRequestHeader(e,i[e])}),n.onreadystatechange=function(){n.readyState>3&&(n.status>=200&&n.status<300?l(null,n.responseText):c||(c=!0,l(new Error("Error in server response, status: ".concat(n.status)))))},n.onerror=function(){c||(c=!0,l(new Error("Error making request, status: ".concat(n.status))))},n.send(a||null)},qe=Ue,ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){qe(e,Object.assign({},t,{cb:function(e,t){e?r(e):n(t)}}))})},Fe=ze,He=function(e){var t=e.event,n=void 0===t?{}:t,r=e.key,o=void 0===r?"":r,i=e.keyCode,a=void 0===i?0:i;return(n.key||"").toLowerCase()===o.toLowerCase()||n.keyCode===a},We=He,Ve=function(e){return e&&e.plugins&&e.plugins.playlist&&e.plugins.playlist.videos?e.plugins.playlist.videos:[]},Ge=Ve,Ye=[],Ze=function(e){return We({event:e,key:"Escape",keyCode:27})&&Ye.forEach(function(e){return setTimeout(function(){return e()})})},Ke=function(){Ee=!1,window.removeEventListener("keyup",Ze)},Xe=function(){Ee||(Ee=!0,window.addEventListener("keyup",Ze))},Je=function(e){Xe(),Ye.push(e)},Qe=function(e){var t=Ye.indexOf(e);-1!==t&&Ye.splice(t,1),Ye.length||Ke()},$e={addHandler:Je,removeHandler:Qe},et=function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]},tt=et,nt=window.Element.prototype,rt=["matches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector"].filter(function(e){return nt.hasOwnProperty(e)})[0],ot=function(e){var t=e.breakOnElement,n=e.breakOnCount,r=void 0===n?100:n,o=e.childElement,i=e.matches;if(!i)return!1;var a,l;for(a=0,l=o;l&&l!==t&&a<r;){if(++a,l[rt](i))return l;l=l.parentNode}return!1},it=ot,at=function(e){var t=document.createElement("div");return e instanceof Element&&t.appendChild(e),t.innerHTML},lt=at,ct=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector("h2 a")||t.querySelector("h2")||t.querySelector("h1 a")||t.querySelector("h1"),r=t.querySelector(".articletext")||t.querySelector("p"),o=t.querySelector(".article-icon-links-container");return{previewText:r&&r.innerText||"",socialShare:o&&lt(o)||"",title:n&&n.innerText||"",url:n&&n.getAttribute("href")||""}},st=function(e){var t,n=(e||"").match(/data-opts='(.*?)'/);try{t=JSON.parse(n?n[1]:"{}")}catch(e){t={}}return t},ut={articleDataParser:ct,videoDataParser:st},ft=function(e,t){var n=t||{bubbles:!1,cancelable:!1};t.bubbles=t.bubbles||!1,t.cancelable=t.cancelable||!1;var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r};ft.prototype=window.Event.prototype;var dt=function(){xe="function"==typeof window.CustomEvent&&"[object CustomEvent]"===window.CustomEvent.prototype.toString()?window.CustomEvent:ft},pt=function(){function e(){o(this,e),this.uid="".concat(Math.random()),this.registeredEvents=[]}return a(e,[{key:"init",value:function(e){var t=e.state,n=void 0===t?{}:t,r=e.styles,o=void 0===r?{}:r,i=e.template;this.template=i,this.state=n,this.styles=o,this.element=tt(this.render())}},{key:"render",value:function(){return this.template({state:this.state,styles:this.styles})}},{key:"trigger",value:function(e,t){this.element&&(dt(),this.element.dispatchEvent(new xe(e,{detail:t})))}},{key:"on",value:function(e,t){this.element&&(this.element.addEventListener(e,t),this.registeredEvents.push({eventName:e,handler:t}))}},{key:"_removeAllEvents",value:function(){for(var e;e=this.registeredEvents.pop();)this.element.removeEventListener(e.eventName,e.handler)}},{key:"destroy",value:function(){this.element&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this._removeAllEvents(),this.element=null)}}]),e}(),ht=pt,mt=n(127),vt=n.n(mt),gt=n(128),yt=n.n(gt),bt={CLOSED:"CLOSED"},wt=function(e){return e.stopPropagation()},Et=function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},xt=function(e){function t(){var e;return c(this,t),e=f(this,m(t).call(this)),e.data={},e.init({state:e.data,styles:vt.a,template:yt.a}),e.bodyElement=e.element.querySelector(".".concat(vt.a.body)),e.closeButtonElement=e.element.querySelector(".".concat(vt.a.closeButton)),e.backDropElement=tt('<div class="'.concat(vt.a.backDrop,'"></div>')),e._initCloseAction(),e._initEscAction(),e.hide(),document.body.appendChild(e.backDropElement),document.body.appendChild(e.element),e}return v(t,e),u(t,[{key:"setBody",value:function(e){var t=this;return Array.from(this.bodyElement.children).forEach(function(e){e!==t.closeButtonElement&&t.bodyElement.removeChild(e)}),this.bodyElement.appendChild(e),this}},{key:"hide",value:function(){"none"!==this.element.style.display&&(this.element.style.display="none",this.hideBackdrop(),this.trigger(bt.CLOSED))}},{key:"show",value:function(){"table"!==this.element.style.display&&(this.element.style.display="block",this.showBackdrop(),this._adjustBodyElementPosition())}},{key:"showBackdrop",value:function(){this.backDropElement.style.display="block"}},{key:"hideBackdrop",value:function(){this.backDropElement.style.display="none"}},{key:"_adjustBodyElementPosition",value:function(){var e=window.pageYOffset+(Et()-this.bodyElement.offsetHeight)/2;this.bodyElement.style.top="".concat(e,"px")}},{key:"useOriginalColours",value:function(){return this.element.classList.remove(vt.a.inverse),this}},{key:"useInverseColours",value:function(){return this.element.classList.add(vt.a.inverse),this}},{key:"destroy",value:function(){$e.removeHandler(this.escHandler),this.bodyElement.removeEventListener("click",wt),this.closeButtonElement.removeEventListener("click",this.hideHandler),p(m(t.prototype),"destroy",this).call(this)}},{key:"_initEscAction",value:function(){var e=this;this.escHandler=function(){return e.hide()},$e.addHandler(this.escHandler)}},{key:"_initCloseAction",value:function(){var e=this;this.hideHandler=function(t){t.stopPropagation(),e.hide()},this.bodyElement.addEventListener("click",wt),this.on("click",this.hideHandler),this.backDropElement.addEventListener("click",this.hideHandler),this.closeButtonElement.addEventListener("click",this.hideHandler)}}]),t}(ht);xt.events=bt;var kt=xt,St=function(e){var t;return e&&!(t=e.referenceId)&&e.video&&(e.video.referenceId?t=e.video.referenceId:e.video.options&&(t=e.video.options.referenceId)),t},Tt=St,Ot=n(105),Ct=n.n(Ot),_t=function(){function e(t){y(this,e),this.videoComponent=t,this.activeButtons={},this.isEnabled=!0}return w(e,[{key:"init",value:function(){return this.prevButtonToBeActive=this.createButtonToBeActiveHandler({className:Ct.a.disablePrev,eventName:"mol.play.previous.video",handler:this.playPrev.bind(this)}),this.nextButtonToBeActive=this.createButtonToBeActiveHandler({className:Ct.a.disableNext,eventName:"mol.play.next.video",handler:this.playNext.bind(this)}),this}},{key:"handleByVideoIndex",value:function(e){if(!e&&0!==e)return this.prevButtonToBeActive(!0),void this.nextButtonToBeActive(!0);e<1?this.prevButtonToBeActive(!1):this.prevButtonToBeActive(!0),e>=this.videoComponent.data.videos.length-1?this.nextButtonToBeActive(!1):this.nextButtonToBeActive(!0)}},{key:"createButtonToBeActiveHandler",value:function(e){var t=this,n=e.className,r=e.eventName,o=e.handler,i="".concat(n,"-").concat(r);return function(e){e?t.activeButtons[i]||(t.activeButtons[i]=!0,t.videoComponent.player.on(r,o),t.videoComponent.element.classList.remove(n)):(t.activeButtons[i]=!1,t.videoComponent.player.off(r,o),t.videoComponent.element.classList.add(n))}}},{key:"destroy",value:function(){this.videoComponent&&this.videoComponent.player&&this.videoComponent.player.trigger&&this.videoComponent.player.trigger("request-dispose")}},{key:"pause",value:function(){this.videoComponent.pauseRequested=!0,this.videoComponent.player.pause()}},{key:"playNext",value:function(){this.videoComponent.pauseRequested=!1,this.isEnabled&&!this.isAdPlaying()&&this.videoComponent.player.next()}},{key:"playPrev",value:function(){this.videoComponent.pauseRequested=!1,this.isEnabled&&!this.isAdPlaying()&&this.videoComponent.player.previous()}},{key:"isAdPlaying",value:function(){var e=this.videoComponent.player;return e._states&&e._states.state&&["adPlaying","adPauseStandby"].includes(e._states.state.get())}},{key:"playByIndex",value:function(e){this.videoComponent.pauseRequested=!1,this.videoComponent.player.gotoVideo&&this.videoComponent.player.gotoVideo(parseInt(e,10))}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}}]),e}(),Pt=_t,At=n(145),Lt=n.n(At),It={PLAYER_ERROR:"PLAYER_ERROR",PLAYER_RESET:"PLAYER_RESET"},Nt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.channel,o=n.config,i=void 0===o?{}:o,a=n.recommendationModel;x(this,t),e=T(this,P(t).call(this));var l=Ge(i);l.forEach(function(e){e.poster=""}),e.data={channel:r,config:i,configString:JSON.stringify(i),recommendationModel:a,videos:l},e.init({state:e.data,styles:Ct.a,template:Lt.a});try{e.initPromise=Ie.molFeVideoplayer.init(e.element).then(function(){return e._initPlayer()})}catch(t){console.error("There was a problem with player init",t),e.initPromise=Promise.reject(t)}return e}return A(t,e),S(t,[{key:"whenReady",value:function(){return this.initPromise}},{key:"destroy",value:function(){this.element&&this.controls&&this.controls.destroy(this.element),C(P(t.prototype),"destroy",this).call(this)}},{key:"enableResponsive",value:function(){this.videoContainerElement.classList.add("vjs-responsive"),this.videoContainerElement.classList.remove("vjs-span-two-col")}},{key:"disableResponsive",value:function(){this.videoContainerElement.classList.add("vjs-span-two-col"),this.videoContainerElement.classList.remove("vjs-responsive")}},{key:"_initPlayer",value:function(){var e=this;return this.videoContainerElement=this.element.querySelector(".vjs-video-container"),this.videoElement=this.element.querySelector(".video-js"),this.player=this.videoElement.player,this.referenceIdToIndex={},this.data.videos.forEach(function(t,n){e.referenceIdToIndex[t.referenceId]=n}),this.player&&this.player.disableControlsListeners&&this.player.disableControlsListeners(),this._initControls(),this._initEvents(),this}},{key:"_initControls",value:function(){this.controls=new Pt(this).init()}},{key:"_pauseIfRequested",value:function(){this.pauseRequested&&this.player.pause(),this.pauseRequested=!1}},{key:"_initEvents",value:function(){var e=this;this.player.on("request-reset",function(t){e.controls.disable(),e.controls.handleByVideoIndex(e.referenceIdToIndex[Tt(t)]),e.trigger(It.PLAYER_RESET,{videoOptions:t.video.options||t.video||{}})}),this.player.on("loadeddata",function(){e._pauseIfRequested(),e.controls.enable()}),this.player.on("error",function(t){e._pauseIfRequested(),e.controls.enable(),e.trigger(It.PLAYER_ERROR,t)})}}]),t}(ht);Nt.events=It;var jt=Nt,Mt=n(146),Rt=n.n(Mt),Dt=n(147),Bt=n.n(Dt),Ut=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.previewText,o=n.title,i=n.url;return M(this,t),e=B(this,q(t).call(this)),e.init({state:{previewText:r,title:o,url:i},styles:Rt.a,template:Bt.a}),e.element.id="mol-fe-light-box-articleText-".concat(Date.now()),e.requestId=0,e}return z(t,e),D(t,[{key:"fetchByReferenceId",value:function(){function e(e){return t.apply(this,arguments)}var t=j(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=++this.requestId,e.next=3,Fe("/api/video-carousel-article.html?video-id=".concat(t));case 3:if(r=e.sent,n===this.requestId&&this.element){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",ut.articleDataParser(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(){function e(e){return t.apply(this,arguments)}var t=j(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.fetchByReferenceId(t);case 4:n=e.sent,this.element&&n&&(this.state={previewText:n.previewText,socialShare:n.socialShare,title:n.title,url:n.url},this.element.innerHTML=tt(this.render()).innerHTML);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(ht),qt=Ut,zt={VIDEO_LINK_CLICKED:"VIDEO_LINK_CLICKED"},Ft=n(148),Ht=n.n(Ft),Wt=n(149),Vt=n.n(Wt),Gt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.items,o=void 0===r?[]:r;return W(this,t),e=Y(this,K(t).call(this)),e.activeItem=null,e.data={items:o},e.init({state:e.data,styles:Ht.a,template:Vt.a}),e.on("click",function(t){var n=it({breakOnElement:e.element,childElement:t.target,matches:".".concat(Ht.a.videoLink)});n&&(t.preventDefault(),e.setActiveVideo(n)&&e.trigger(zt.VIDEO_LINK_CLICKED,{videoLinkElement:n}))}),e.element.addEventListener("mouseenter",function(){return Ne()}),e.element.addEventListener("mouseleave",function(){return je()}),e}return X(t,e),G(t,[{key:"setActiveVideoById",value:function(e){var t=isFinite(e)&&this.element.querySelector('[data-video-id="'.concat(e,'"]'));this.setActiveVideo(t)}},{key:"setActiveVideo",value:function(e){if(e){if(this.activeItem&&e===this.activeItem)return!1;e.classList.add(Ht.a.active)}return this.activeItem&&this.activeItem!==e&&this.activeItem.classList.remove(Ht.a.active),this.activeItem=e,!0}}]),t}(ht);Gt.events=zt;var Yt=Gt,Zt={ERROR:"ERROR",UPDATE:"UPDATE"},Kt=n(150),Xt=n.n(Kt),Jt=n(151),Qt=n.n(Jt),$t=function(e){e&&e.destroy&&e.destroy()},en=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.channel,o=n.recommendationModel,i=n.target,a=n.title,l=void 0===a?"":a;return te(this,t),e=oe(this,ce(t).call(this)),e.data={channel:r,recommendationModel:o,target:i,title:l||"Top videos"},e.articleTextComponent=null,e.recommendationsComponent=null,e.videoComponent=null,e}return se(t,e),re(t,[{key:"initElement",value:function(){function e(){return t.apply(this,arguments)}var t=ee(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.element){e.next=2;break}return e.abrupt("return",this.element);case 2:return this.init({state:{channel:this.data.channel,title:this.data.title},styles:Xt.a,template:Qt.a}),e.next=5,Fe(this.data.target);case 5:return t=e.sent,this.element&&(n=ut.videoDataParser(t),this._createComponentsSet(n),this._initEvents(),this.element.querySelector(".".concat(Xt.a.articleText)).appendChild(this.articleTextComponent.element),this.element.querySelector(".".concat(Xt.a.recommendations)).appendChild(this.recommendationsComponent.element),this.element.querySelector(".".concat(Xt.a.video)).appendChild(this.videoComponent.element)),e.abrupt("return",this.element);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"pause",value:function(){this.videoComponent&&this.videoComponent.controls.pause()}},{key:"destroy",value:function(){$t(this.recommendationsComponent),$t(this.articleTextComponent),$t(this.videoComponent),ae(ce(t.prototype),"destroy",this).call(this)}},{key:"_createComponentsSet",value:function(e){De(e),this.videoComponent=new jt({channel:this.data.channel,config:e,recommendationModel:this.data.recommendationModel}),this.recommendationsComponent=new Yt({items:Ge(e)}),this.articleTextComponent=new qt}},{key:"_initEvents",value:function(){var e=this;this.recommendationsComponent.on(Yt.events.VIDEO_LINK_CLICKED,function(t){var n=t.detail.videoLinkElement,r=parseInt(n.getAttribute("data-index"),10);e.videoComponent.controls.playByIndex(r)}),this.videoComponent.on(jt.events.PLAYER_RESET,function(){var t=ee(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.detail.videoOptions||{},t.prev=1,e.recommendationsComponent.setActiveVideoById(r.videoId),t.next=5,e.articleTextComponent.update(r.referenceId);case 5:e.trigger(Zt.UPDATE),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("There was an error with LightBox._initEvents",t.t0);case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()),this.videoComponent.on(jt.events.PLAYER_ERROR,function(t){return e.trigger(Zt.ERROR,t)})}}]),t}(ht);en.events=Zt;var tn,nn,rn,on=en,an=n(152),ln=n.n(an),cn=n(153),sn=n.n(cn),un=function(e){function t(e){var n,r=e.message;return de(this,t),n=pe(this,me(t).call(this)),n.init({state:{message:r},styles:sn.a,template:ln.a}),n}return ve(t,e),t}(ht),fn=un,dn={dataAttribute:"data-mol-fe-lightbox",trackingType:"am_most_watched_videos_062016"},pn=dn.dataAttribute,hn=function(e){console.error("LightBox Error: ",e)},mn=function(){return tn||(tn=new kt,tn.on(kt.events.CLOSED,function(){je(),nn&&nn.destroy&&(nn.destroy(),nn=null)})),tn},vn=function(e){hn(e),mn().hideBackdrop(),nn instanceof fn||(nn&&nn.destroy(),nn=new fn({message:"Sorry, an error occurred.<br/>Please try again in a few moments."})),mn().useInverseColours().setBody(nn.element).show()},gn=function(){mn()._adjustBodyElementPosition(),nn&&nn.videoComponent&&(window.innerHeight<756?nn.videoComponent.enableResponsive():nn.videoComponent.disableResponsive())},yn=function(){mn().useOriginalColours().setBody(nn.element).show(),Object(Le.init)({id:nn.articleTextComponent.element.id,params:{isChannel:!0,zIndex:1e7}})},bn=function(){var e=be(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,mn().showBackdrop(),n=t.getAttribute("data-target")||"",r=t.getAttribute("data-channel"),"ushome"!==r&&"auhome"!==r||(r="home"),nn=new on({channel:r,recommendationModel:t.getAttribute("data-recommendation-model"),target:n.split(" ")[0],title:t.getAttribute("data-title")}),t.setAttribute(pn,nn.uid),e.next=9,nn.initElement();case 9:nn.on(on.events.ERROR,hn),nn.on(on.events.UPDATE,function(){return tn._adjustBodyElementPosition()}),yn(),nn.videoComponent.whenReady().then(function(e){return e.controls.playByIndex(0),gn(),e}).catch(vn),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),vn(e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}();_e(function(){Ae(function(){return gn()}),Ie.later("videoplayer-ready",function(){rn=!0}),document.body.addEventListener("click",function(e){var t=it({breakOnCount:5,breakOnElement:document.body,childElement:e.target,matches:"[".concat(pn,"]")});t&&(e.preventDefault(),rn?bn(t):hn("video player is not ready"))})})},function(e,t){e.exports={backDrop:"backDrop-BBosx",container:"container-GFfgy",body:"body-1WXAp",closeButton:"closeButton-1oUGt"}},function(e,t,n){var r=n(28);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a,l=e.lambda,c=e.escapeExpression;return'<div class="'+c(l(null!=(a=null!=t?t.styles:t)?a.container:a,t))+'">\n  <div class="'+c(l(null!=(a=null!=t?t.styles:t)?a.body:a,t))+'">\n    <div class="'+c(l(null!=(a=null!=t?t.styles:t)?a.closeButton:a,t))+'">'+(null!=(a=e.invokePartial(n(144),t,{name:"assets/close-icon.svg",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:"")+"</div>\n  </div>\n</div>"},usePartial:!0,useData:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){var e=new l.HandlebarsEnvironment;return p.extend(e,l),e.SafeString=s.default,e.Exception=f.default,e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}t.__esModule=!0;var a=n(104),l=o(a),c=n(141),s=r(c),u=n(36),f=r(u),d=n(21),p=o(d),h=n(142),m=o(h),v=n(143),g=r(v),y=i();y.create=i,g.default(y),y.default=y,t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){a.default(e),c.default(e),u.default(e),d.default(e),h.default(e),v.default(e),y.default(e)}t.__esModule=!0,t.registerDefaultHelpers=o;var i=n(131),a=r(i),l=n(132),c=r(l),s=n(133),u=r(s),f=n(134),d=r(f),p=n(135),h=r(p),m=n(136),v=r(m),g=n(137),y=r(g)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var o=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return o(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21),o=n(36),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){e.registerHelper("each",function(e,t){function n(t,n,i){s&&(s.key=t,s.index=n,s.first=0===n,s.last=!!i,u&&(s.contextPath=u+t)),c+=o(e[t],{data:s,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(!t)throw new i.default("Must pass iterator to #each");var o=t.fn,a=t.inverse,l=0,c="",s=void 0,u=void 0;if(t.data&&t.ids&&(u=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(s=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var f=e.length;l<f;l++)l in e&&n(l,l,l===e.length-1);else{var d=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==d&&n(d,l-1),d=p,l++);void 0!==d&&n(d,l-1,!0)}return 0===l&&(c=a(this)),c})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(36),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21);t.default=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){if(!e)return e;if("constructor"!==t||e.propertyIsEnumerable(t))return e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21);t.default=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&(o=r.createFrame(t.data),o.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:o,blockParams:r.blockParams([e],[o&&o.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";function r(e){i.default(e)}t.__esModule=!0,t.registerDefaultDecorators=r;var o=n(139),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21);t.default=function(e){e.registerDecorator("inline",function(e,t,n,o){var i=e;return t.partials||(t.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,t.partials);var l=e(o,i);return n.partials=a,l}),t.partials[o.args[0]]=o.fn,i})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=e&&e[0]||1,n=m.COMPILER_REVISION;if(t!==n){if(t<n){var r=m.REVISION_CHANGES[n],o=m.REVISION_CHANGES[t];throw new h.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new h.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){function n(n,r,o){o.hash&&(r=d.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);var i=t.VM.invokePartial.call(this,n,r,o);if(null==i&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),i=o.partials[o.name](r,o)),null!=i){if(o.indent){for(var a=i.split("\n"),l=0,c=a.length;l<c&&(a[l]||l+1!==c);l++)a[l]=o.indent+a[l];i=a.join("\n")}return i}throw new h.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function r(t){function n(t){return""+e.main(o,t,o.helpers,o.partials,a,c,l)}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=i.data;r._setup(i),!i.partial&&e.useData&&(a=s(t,a));var l=void 0,c=e.useBlockParams?[]:void 0;return e.useDepths&&(l=i.depths?t!=i.depths[0]?[t].concat(i.depths):i.depths:[t]),(n=u(e.main,n,o,i.depths||[],a,c))(t,i)}if(!t)throw new h.default("No environment passed to template");if(!e||!e.main)throw new h.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var o={strict:function(e,t){if(!(t in e))throw new h.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:d.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,o){var a=this.programs[e],l=this.fn(e);return t||o||r||n?a=i(this,e,l,t,n,r,o):a||(a=this.programs[e]=i(this,e,l)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=d.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(o.helpers=n.helpers,o.partials=n.partials,o.decorators=n.decorators):(o.helpers=o.merge(n.helpers,t.helpers),e.usePartial&&(o.partials=o.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(o.decorators=o.merge(n.decorators,t.decorators)))},r._child=function(t,n,r,a){if(e.useBlockParams&&!r)throw new h.default("must pass block params");if(e.useDepths&&!a)throw new h.default("must pass parent depths");return i(o,t,e[t],n,0,r,a)},r}function i(e,t,n,r,o,i,a){function l(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(l=[t].concat(a)),n(e,t,e.helpers,e.partials,o.data||r,i&&[o.blockParams].concat(i),l)}return l=u(n,l,e,a,r,i),l.program=t,l.depth=a?a.length:0,l.blockParams=o||0,l}function a(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function l(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;if(n.fn&&n.fn!==c&&function(){n.data=m.createFrame(n.data);var e=n.fn;o=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=m.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=d.extend({},n.partials,e.partials))}(),void 0===e&&o&&(e=o),void 0===e)throw new h.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function c(){return""}function s(e,t){return t&&"root"in t||(t=t?m.createFrame(t):{},t.root=e),t}function u(e,t,n,r,o,i){if(e.decorator){var a={};t=e.decorator(t,a,n,r&&r[0],o,i,r),d.extend(t,a)}return t}t.__esModule=!0,t.checkRevision=r,t.template=o,t.wrapProgram=i,t.resolvePartial=a,t.invokePartial=l,t.noop=c;var f=n(21),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),p=n(36),h=function(e){return e&&e.__esModule?e:{default:e}}(p),m=n(104)},function(e,t,n){"use strict";(function(n){t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default}).call(t,n(26))},function(e,t,n){var r=n(28);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="m8.475 6l3.219-3.219c.407-.407.407-1.068 0-1.474l-1-1c-.407-.407-1.068-.408-1.475-.001l-3.219 3.219-3.219-3.218c-.406-.407-1.067-.407-1.474-.001l-1 1c-.407.406-.407 1.067 0 1.474l3.219 3.219-3.219 3.219c-.407.406-.407 1.067 0 1.474l1 1c.407.407 1.068.407 1.474 0l3.219-3.219 3.219 3.219c.407.407 1.068.407 1.475 0l1-1c.407-.407.407-1.067 0-1.474l-3.219-3.219"/></g></svg>'},useData:!0})},function(e,t,n){var r=n(28);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=e.lambda,l=e.escapeExpression;return'<div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.container:i,t))+'">\n  <div class="vjs-video-container vjs-span-two-col '+l(a(null!=(i=null!=t?t.state:t)?i.channel:i,t))+'" id="v-'+l(a(null!=(i=null!=(i=null!=t?t.state:t)?i.config:i)?i.videoId:i,t))+'">\n    <video class="video-js vjs-default-skin" controls\n           data-opts=\''+l(a(null!=(i=null!=t?t.state:t)?i.configString:i,t))+"' data-recommendation-model=\""+l(a(null!=(i=null!=t?t.state:t)?i.recommendationModel:i,t))+'"\n           data-is-lightbox-video>\n      <source src="'+l(a(null!=(i=null!=(i=null!=t?t.state:t)?i.config:i)?i.src:i,t))+"\" type='video/mp4'/>\n    </video>\n  </div>\n</div>\n"},useData:!0})},function(e,t){e.exports={container:"container-1oGot",headline:"headline-h7sTT",previewText:"previewText-QWqaa",socialShare:"socialShare-QzDgs"}},function(e,t,n){var r=n(28);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=e.lambda,l=e.escapeExpression;return'<div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.container:i,t))+' article">\n  <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.headline:i,t))+'">\n    <a href="'+l(a(null!=(i=null!=t?t.state:t)?i.url:i,t))+'" class="title">'+l(a(null!=(i=null!=t?t.state:t)?i.title:i,t))+'</a>\n  </div>\n  <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.previewText:i,t))+'">'+l(a(null!=(i=null!=t?t.state:t)?i.previewText:i,t))+'</div>\n  <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.socialShare:i,t))+'">'+(null!=(i=a(null!=(i=null!=t?t.state:t)?i.socialShare:i,t))?i:"")+"</div>\n</div>"},useData:!0})},function(e,t){e.exports={container:"container-YrQEE",playButton:"playButton-xXr1h",item:"item-2Ys7m",active:"active-1vtjE",nowPlayingCover:"nowPlayingCover-tAI-h",bannerText:"bannerText-2WFWE",watchVideo:"watchVideo-2A31O",nowPlaying:"nowPlaying-22Ssp",thumbnail:"thumbnail-BcDq1",description:"description-3nl9S",descriptionContent:"descriptionContent-23gTn",videoLink:"videoLink-3LMpc"}},function(e,t,n){var r=n(28);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i){var a,l=e.lambda,c=e.escapeExpression;return'    <li class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.item,t))+'">\n      <a class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.videoLink,t))+'" href="'+c(l(null!=(a=i[0][0])?a.linkBaseURL:a,t))+'"\n         data-index="'+c(l(i[0][1],t))+'"\n         data-videoid="'+c(l(null!=(a=i[0][0])?a.videoId:a,t))+'" \n         data-video-id="'+c(l(null!=(a=i[0][0])?a.videoId:a,t))+'"\n         data-channel="'+c(l((a=(a=o&&o.root)&&a.state)&&a.channel,t))+'"\n         data-source="'+c(l(null!=(a=i[0][0])?a.source:a,t))+'"\n         data-modal-type="video-lightbox">\n        <span class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.watchVideo,t))+'"><span class="'+c(l(null!=(a=null!=t?t.styles:t)?a.playButton:a,t))+'"></span></span>\n        <div class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.thumbnail,t))+'" style="background-image: url('+c(l(null!=(a=i[0][0])?a.thumbnail:a,t))+')"></div>\n        <div class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.description,t))+'">\n          <div class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.descriptionContent,t))+'">\n            '+(null!=(a=l(null!=(a=i[0][0])?a.title:a,t))?a:"")+'\n          </div>\n        </div>\n        <span class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.nowPlayingCover,t))+'"></span>\n        <span class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.bannerText,t))+'">\n                    <span class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.playButton,t))+'"></span>\n                    <span class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.watchVideo,t))+'">Watch Video</span>\n                    <span class="'+c(l((a=(a=o&&o.root)&&a.styles)&&a.nowPlaying,t))+'">Now playing</span>\n                </span>\n      </a>\n    </li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i){var a,l=e.lambda,c=e.escapeExpression;return'<ul class="'+c(l(null!=(a=null!=t?t.styles:t)?a.container:a,t))+'"\n    data-track-module="popup--"\n    data-track-selector=".'+c(l(null!=(a=null!=t?t.styles:t)?a.videoLink:a,t))+'"\n    data-track-type="cl">\n'+(null!=(a=n.each.call(null!=t?t:e.nullContext||{},null!=(a=null!=t?t.state:t)?a.items:a,{name:"each",hash:{},fn:e.program(1,o,2,i),inverse:e.noop,data:o,blockParams:i}))?a:"")+"</ul>"},useData:!0,useBlockParams:!0})},function(e,t){e.exports={container:"container-2QJ6l",panelLeft:"panelLeft-1GMLi",panelRight:"panelRight-1OI7_",panelRightHead:"panelRightHead-2gJ7Z",panelRightFoot:"panelRightFoot-2-Xtj",video:"video-FSM8f",recommendations:"recommendations-13KFl",articleText:"articleText-1Jnd5"}},function(e,t,n){var r=n(28);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=e.lambda,l=e.escapeExpression;return'<div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.container:i,t))+" "+l(a(null!=(i=null!=t?t.state:t)?i.channel:i,t))+'">\n  <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.panelRight:i,t))+'">\n    <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.panelRightHead:i,t))+'">'+l(a(null!=(i=null!=t?t.state:t)?i.title:i,t))+'</div>\n    <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.recommendations:i,t))+'"></div>\n    <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.panelRightFoot:i,t))+'">\n      <a href="/video/index.html?ico=video_player_click">Watch more videos &gt;</a>\n    </div>\n  </div>\n  <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.panelLeft:i,t))+'">\n    <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.video:i,t))+'"></div>\n    <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.articleText:i,t))+'"></div>\n  </div>\n</div>'},useData:!0})},function(e,t,n){var r=n(28);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=e.lambda,l=e.escapeExpression;return'<div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.container:i,t))+'">\n  <div class="'+l(a(null!=(i=null!=t?t.styles:t)?i.message:i,t))+'">'+(null!=(i=a(null!=(i=null!=t?t.state:t)?i.message:i,t))?i:"")+"</div>\n</div>"},useData:!0})},function(e,t){e.exports={container:"container-VwG8R",message:"message-2exI4"}},function(e,t){},function(e,t,n){"use strict";function r(e,t){return a(e)||i(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function a(e){if(Array.isArray(e))return e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function s(e,t){return d(e)||f(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function d(e){if(Array.isArray(e))return e}function p(e,t){return v(e)||m(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function v(e){if(Array.isArray(e))return e}function g(e,t){return w(e)||b(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function b(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function w(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0});var E={};n.d(E,"chrome",function(){return tt}),n.d(E,"edge",function(){return nt}),n.d(E,"firefox",function(){return rt}),n.d(E,"ie",function(){return ot}),n.d(E,"safari",function(){return it});var x=n(2),k=n.n(x),S=n(106),T=n(9),O=n(1),C=n(12),_=n.n(C),P={chrome:["adBlockPlus","uBlockOrigin","adBlock","adGuard","ghostery","uBlockPlus","adBlockerUltimate","uBlocker","adBlockInc","adsKiller","genesis","adaware","adBlockPro","hola","other"],edge:["adBlock","adBlockPlus","adGuard","uBlockOrigin","other"],firefox:["adBlockPlus","uBlockOrigin","adBlock","ghostery","adBlockerUltimate","adGuard","muBlock","other"],ie:["adBlockPlus","adGuard","other"],safari:["adBlock","adBlockPlus","uBlockOrigin","magicLasso","adGuard","other"]},A={adaware:"Adaware Ad Block",adBlock:"Adblock",adBlockerUltimate:"Ad Blocker Ultimate",adBlockInc:"AdBlock (Inc)",adBlockPlus:"AdBlock Plus",adBlockPro:"Ad-Block Pro",adGuard:"AdGuard",adsKiller:"Ads Killer AdBlocker",genesis:"AdBlocker Genesis",ghostery:"Ghostery",hola:"Hola ad remover",magicLasso:"Magic Lasso",muBlock:"Block",other:"Other ad blockers",uBlocker:"uBlocker",uBlockOrigin:"uBlock Origin",uBlockPlus:"uBlock Plus"},L={chrome:"Chrome",edge:"Edge",firefox:"Firefox",ie:"IE",safari:"Safari"},I={chrome:"https://support.google.com/chrome/?hl=en-GB#topic=7438008",edge:"https://support.microsoft.com/en-gb",firefox:"https://support.mozilla.org/en-US",ie:"https://support.microsoft.com/en-gb",safari:"https://support.apple.com/en-gb/safari"},N=n(156),j=n.n(N),M=function(e){var t=e.browser,n=e.geo,r=e.onViewGuide,o=P[t]&&P[t].length,i=j.a.container,a=j.a.heading,l=j.a.text,c=j.a.viewGuide;return k.a.createElement("div",{className:"".concat(i)},k.a.createElement("div",{className:a},"We see that you're using an ad blocker"),k.a.createElement("div",{className:l},"Ads allow us to feed your daily addiction for the world's greatest news, sport and gossip. If your ","US"===n?"favorite":"favourite"," price for MailOnline is free, please allow ads on this site."),o&&k.a.createElement("div",{className:l},"Need help disabling your ad blocker? ",k.a.createElement("button",{className:c,onClick:r},"View our guide")))};M.propTypes={browser:_.a.string.isRequired,geo:_.a.string.isRequired,onViewGuide:_.a.func.isRequired};var R=n(157),D=n.n(R),B=function(e){var t=e.browser,n=e.onViewGuide,r=P[t]&&P[t].length,o=D.a.container,i=D.a.heading,a=D.a.text,l=D.a.viewGuide;return k.a.createElement("div",{className:"".concat(o)},k.a.createElement("div",{className:i},"We see that you're using an ad blocker"),k.a.createElement("div",{className:a},"Adverts pay for us to deliver daily money news, explain what it means for you, and to fight readers corners. If your favourite price for This is Money is free, please allow ads on this site."),r&&k.a.createElement("div",{className:a},"Need help disabling your ad blocker? ",k.a.createElement("button",{className:l,onClick:n},"View our guide")))};B.propTypes={browser:_.a.string.isRequired,onViewGuide:_.a.func.isRequired};var U=function(e){var t=e.browser,n=e.geo,r=e.isTIM,o=e.onViewGuide;return r?k.a.createElement(B,{browser:t,geo:n,onViewGuide:o}):k.a.createElement(M,{browser:t,geo:n,onViewGuide:o})};U.propTypes={browser:_.a.string.isRequired,geo:_.a.string.isRequired,isTIM:_.a.bool.isRequired,onViewGuide:_.a.func.isRequired};var q=n(158),z=n.n(q),F=function(e){var t=e.browser,n=e.onNotSure,r=P[t].includes("other");return k.a.createElement("div",{className:z.a.bottomLinks},r&&k.a.createElement("div",{className:z.a.notSure},"Not sure which ad blocker you have? ",k.a.createElement("button",{className:z.a.notSureButton,onClick:n},"Click here")),!r&&k.a.createElement("div",{className:z.a.notSure}),k.a.createElement("a",{className:z.a.browserHelp,href:I[t],rel:"noopener nofollow noreferrer",target:"_blank"},"Get help on ",L[t]))};F.propTypes={browser:_.a.string.isRequired,onNotSure:_.a.func.isRequired};var H=n(7),W=n.n(H),V=n(159),G=n.n(V),Y=function(e){var t=e.adblockers,n=e.currentTab,o=e.onSelectTab,i=Object(x.useState)(0),a=r(i,2),l=a[0],c=a[1],s=t.length>6,u=t.map(function(e){return k.a.createElement("div",{className:W()(G.a[e],G.a.tab,n===e&&G.a.selected),key:e,onClick:function(){return o(e)}},A[e])});if(s){var f=Math.ceil(t.length/5)-1,d=function(){l>0&&c(l-1)},p=function(){l<f&&c(l+1)},h=-670*l,m=5*(f+1)+1;l===f&&t.length<m&&(h=-670*l+134*(m-t.length));var v={left:h};return k.a.createElement("div",{className:G.a.paginated},k.a.createElement("button",{className:G.a.pageLeft,disabled:l<1,onClick:d}),k.a.createElement("div",{className:G.a.scrollContainer},k.a.createElement("div",{className:G.a.scroller,style:v},u)),k.a.createElement("button",{className:G.a.pageRight,disabled:l>=f,onClick:p}))}return k.a.createElement("div",{className:G.a.notPaginated},u)};Y.propTypes={adblockers:_.a.arrayOf(_.a.string).isRequired,currentTab:_.a.string.isRequired,onSelectTab:_.a.func.isRequired};var Z=function(e){var t=e.normal,n=e.retina;return n?{src:t,srcSet:[t,"".concat(n," 2x")].join(", ")}:{src:t}},K=n(160),X=n.n(K),J=n(161),Q=n.n(J),$=n(162),ee=n.n($),te=n(163),ne=n.n(te),re=n(164),oe=n.n(re),ie=n(165),ae=n.n(ie),le=n(166),ce=n.n(le),se=n(167),ue=n.n(se),fe=n(168),de=n.n(fe),pe=n(169),he=n.n(pe),me=n(170),ve=n.n(me),ge=n(171),ye=n.n(ge),be=n(172),we=n.n(be),Ee=n(173),xe=n.n(Ee),ke=n(174),Se=n.n(ke),Te=n(175),Oe=n.n(Te),Ce=n(176),_e=n.n(Ce),Pe=n(177),Ae=n.n(Pe),Le=n(178),Ie=n.n(Le),Ne=n(179),je=n.n(Ne),Me=n(180),Re=n.n(Me),De=n(181),Be=n.n(De),Ue=n(182),qe=n.n(Ue),ze=n(183),Fe=n.n(ze),He=n(184),We=n.n(He),Ve=n(185),Ge=n.n(Ve),Ye=n(186),Ze=n.n(Ye),Ke=n(187),Xe=n.n(Ke),Je={left:[{normal:X.a,retina:Se.a},{normal:Q.a,retina:Oe.a}],right:[{normal:ee.a,retina:_e.a},{normal:ne.a,retina:Ae.a}]},Qe={left:[{normal:oe.a,retina:Ie.a},{normal:ae.a,retina:je.a}],right:[{normal:ce.a,retina:Re.a},{normal:ue.a,retina:Be.a}]},$e={left:[],right:[{normal:de.a,retina:qe.a},{normal:he.a,retina:Fe.a}]},et={left:[{normal:ve.a,retina:We.a},{normal:ye.a,retina:Ge.a}],right:[{normal:we.a,retina:Ze.a},{normal:xe.a,retina:Xe.a}]},tt={left:[['Type "chrome://extensions" into your browser\'s address bar and click enter.',{src:Je.left[0]}],['You\'ll be taken to a page with a list of extensions - find the extension(s) with "ad blocker" or something similar\n      either in the title or description.',"To disable the ad blocker, toggle the blue bar to the off position, or remove it altogether.",{src:Je.left[1]}]],right:[['Go to the MailOnline site. In the top right of your browser screen, find an icon with "ad blocker" or something similar\n      in the title (hover or click the icons to find out what they do.)',{src:Je.right[0]}],['Once you\'ve located the ad blocker, click it and select an option that says something like\n      "Pause on this site" or "disable for this site".',{src:Je.right[1]}],["Still seeing this message? Try refreshing the page."]]},nt={left:[["In Edge, click More (...)  then go down to Extensions in the menu",{src:Qe.left[0]}],['A tab with a list of extensions will pop out - find the extension(s) with "ad blocker" or something similar either in the title or description.',"To disable the ad blocker, toggle the blue bar to the off position.",{src:Qe.left[1]}]],right:[['Go to the MailOnline site. In the top right of your browser screen, find an icon with "ad blocker" or something similar\n      in the title (hover or click the icons to find out what they do.)',{src:Qe.right[0]}],['Once you\'ve located the ad blocker, click it and select an option that says something like\n      "Pause on this site" or "disable for this site".',{src:Qe.right[1]}],["Still seeing this message? Try refreshing the page."]]},rt={left:[["In Firefox, click Open Menu (three lines) located on the right hand side then go down to Add-ons"],['You\'ll be taken to a page with a list of extensions - find the extension(s) with "ad blocker" or something similar either in the title or description.',"Select disable tab on the ad blocker or remove it altogether."]],right:[['Go to the MailOnline site. In the top right of your browser screen, find an icon with "ad blocker" or something similar\n      in the title (hover or click the icons to find out what they do.)',{src:$e.right[0]}],['Once you\'ve located the ad blocker, click it and select an option that says something like\n      "Pause on this site" or "disable for this site".',{src:$e.right[1]}],["Still seeing this message? Try refreshing the page."]]},ot={left:[["Launch Internet Explorer, then click the gear icon (top right hand corner) to open Settings.",'Select "Manage add-ons".'],['Click the "Toolbars and Extensions" link in the left navigation pane of Manage Add-ons.'],["Select your ad blocker and disable it"]]},it={left:[["In Safari, go to Safari in the tools menu, select Preferences, and then click Extensions",{src:et.left[0]}],['You\'ll be taken to a page with a list of extensions - find the extension(s) with "ad blocker" or something similar either in the title or description.','Click the "Uninstall" button to remove the ad blocker.',{src:et.left[1]}]],right:[['Go to the MailOnline site. In the top of your browser screen, find an icon with "ad blocker" or something similar\n      in the title (hover or click the icons to find out what they do.)',{src:et.right[0]}],['Once you\'ve located the ad blocker, click it and select an option that says something like\n      "Pause on this site" or "disable for this site".',{src:et.right[1]}],["Still seeing this message? Try refreshing the page."]]},at=n(188),lt=n.n(at),ct=function(e){return e.map(function(e,t){return k.a.createElement("div",{className:lt.a.step,key:t},k.a.createElement("div",{className:lt.a.stepLabel},"Step ",t+1,":"),e.map(function(e,n){return"string"==typeof e?k.a.createElement("div",{className:lt.a.stepText,key:"".concat(t,".").concat(n)},e):e.src?k.a.createElement("img",l({className:lt.a.stepImage,key:"".concat(t,".").concat(n)},Z(e.src))):null}))})},st=function(e){var t=e.browser;return k.a.createElement("div",{className:lt.a.container},k.a.createElement("div",{className:lt.a.heading},"What ad blocker am I using and how do I disable it?"),k.a.createElement("div",{className:lt.a.columns},k.a.createElement("div",{className:E[t].right?lt.a.column:lt.a.singleColumn},k.a.createElement("div",{className:lt.a.columnTitle},"Find your ad blocker and remove, or disable it for all sites"),k.a.createElement("div",{className:lt.a.columnContent},ct(E[t].left))),E[t].right&&k.a.createElement("div",{className:lt.a.column},k.a.createElement("div",{className:lt.a.columnTitle},"Find your ad blocker and disable it for MailOnline only"),k.a.createElement("div",{className:lt.a.columnContent},ct(E[t].right)))))};st.propTypes={browser:_.a.string.isRequired};var ut=n(189),ft=n.n(ut),dt=n(190),pt=n.n(dt),ht=n(191),mt=n.n(ht),vt=n(192),gt=n.n(vt),yt=n(193),bt=n.n(yt),wt=n(194),Et=n.n(wt),xt=n(195),kt=n.n(xt),St=n(196),Tt=n.n(St),Ot=n(197),Ct=n.n(Ot),_t=n(198),Pt=n.n(_t),At=n(199),Lt=n.n(At),It=n(200),Nt=n.n(It),jt=n(201),Mt=n.n(jt),Rt=n(202),Dt=n.n(Rt),Bt=n(203),Ut=n.n(Bt),qt=n(204),zt=n.n(qt),Ft=n(205),Ht=n.n(Ft),Wt=n(206),Vt=n.n(Wt),Gt=n(207),Yt=n.n(Gt),Zt=n(208),Kt=n.n(Zt),Xt=n(209),Jt=n.n(Xt),Qt=n(210),$t=n.n(Qt),en=n(211),tn=n.n(en),nn=n(212),rn=n.n(nn),on=n(213),an=n.n(on),ln=n(214),cn=n.n(ln),sn=n(215),un=n.n(sn),fn=n(216),dn=n.n(fn),pn={normal:ft.a,retina:Ut.a},hn={normal:pt.a,retina:zt.a},mn={normal:mt.a,retina:Ht.a},vn={normal:gt.a,retina:Vt.a},gn={normal:bt.a,retina:Yt.a},yn={normal:Et.a,retina:Kt.a},bn={normal:kt.a,retina:Jt.a},wn={normal:Tt.a,retina:$t.a},En={normal:Ct.a,retina:tn.a},xn={normal:Pt.a,retina:rn.a},kn={normal:Lt.a,retina:an.a},Sn={normal:Nt.a,retina:cn.a},Tn={normal:Mt.a,retina:un.a},On={normal:Dt.a,retina:dn.a},Cn=n(217),_n=n.n(Cn),Pn=n(218),An=n.n(Pn),Ln=n(219),In=n.n(Ln),Nn=n(220),jn=n.n(Nn),Mn=n(221),Rn=n.n(Mn),Dn=n(222),Bn=n.n(Dn),Un=n(223),qn=n.n(Un),zn=n(224),Fn=n.n(zn),Hn={normal:_n.a,retina:Rn.a},Wn={normal:An.a,retina:Bn.a},Vn={normal:In.a,retina:qn.a},Gn={normal:jn.a,retina:Fn.a},Yn=n(225),Zn=n.n(Yn),Kn=n(226),Xn=n.n(Kn),Jn=n(227),Qn=n.n(Jn),$n=n(228),er=n.n($n),tr=n(229),nr=n.n(tr),rr=n(230),or=n.n(rr),ir=n(231),ar=n.n(ir),lr=n(232),cr=n.n(lr),sr=n(233),ur=n.n(sr),fr=n(234),dr=n.n(fr),pr=n(235),hr=n.n(pr),mr=n(236),vr=n.n(mr),gr=n(237),yr=n.n(gr),br=n(238),wr=n.n(br),Er={normal:Zn.a,retina:cr.a},xr={normal:Xn.a,retina:ur.a},kr={normal:Qn.a,retina:dr.a},Sr={normal:er.a,retina:hr.a},Tr={normal:nr.a,retina:vr.a},Or={normal:or.a,retina:yr.a},Cr={normal:ar.a,retina:wr.a},_r=n(239),Pr=n.n(_r),Ar=n(240),Lr=n.n(Ar),Ir=n(241),Nr=n.n(Ir),jr=n(242),Mr=n.n(jr),Rr={normal:Pr.a,retina:Nr.a},Dr={normal:Lr.a,retina:Mr.a},Br=n(243),Ur=n.n(Br),qr=n(244),zr=n.n(qr),Fr=n(245),Hr=n.n(Fr),Wr=n(246),Vr=n.n(Wr),Gr=n(247),Yr=n.n(Gr),Zr=n(248),Kr=n.n(Zr),Xr=n(249),Jr=n.n(Xr),Qr=n(250),$r=n.n(Qr),eo=n(251),to=n.n(eo),no=n(252),ro=n.n(no),oo={normal:Ur.a,retina:Kr.a},io={normal:zr.a,retina:Jr.a},ao={normal:Hr.a,retina:$r.a},lo={normal:Vr.a,retina:to.a},co={normal:Yr.a,retina:ro.a},so={adaware:{default:{image:Sn,steps:["Click the Adaware Ad Block icon in the browser extension area of your browser (upper right-hand corner).",'Click the "power" button to disable Adaware Ad Block.',"Refresh/Reload the page."]}},adBlock:{default:{image:mn,steps:["Click the Adblock icon in the browser extension area of your browser (upper right-hand corner).",'Click "Don\'t run on pages in this site/domain", then click "Exclude".',"Still seeing this message? Refresh the page."]},edge:{image:Vn,steps:["Click the Adblock icon in the browser extension area of your browser (upper right-hand corner).",'Click "Don\'t run on pages on this domain/site" then click "Exclude".',"Still seeing this message? Refresh the page."]},firefox:{image:kr,steps:["Click the Adblock icon in the browser extension area of your browser (upper right-hand corner).",'Click "Don\'t run on pages on this domain/site" then click "Exclude".',"Still seeing this message? Refresh the page."]},safari:{image:ao,steps:["Click the Adblock icon in the browser extension area of your browser (left of address bar).",'Select "Allow ads on this page" or "Allow ads on this site" if you have the upgraded version.',"Still seeing this message? Refresh the page."]}},adBlockerUltimate:{default:{image:bn,steps:["Click the AdBlocker Ultimate icon in the browser extension area of your browser (upper right-hand corner).",'Click "Enabled on this site".',"Refresh the page."]},firefox:{image:Or,steps:["Click the AdBlocker Ultimate in the browser extension area of your browser (upper right-hand corner).",'Click "Enabled on this site".',"Refresh the page."]}},adBlockInc:{default:{image:En,steps:["Click the AdBlock (inc) icon in the browser extension area of your browser (upper right-hand corner).",'Click "Don\'t run on pages on this domain/site" then click "Exclude".',"Still seeing this message? Refresh the page."]}},adBlockPlus:{default:{image:pn,steps:["Click the Adblock Plus icon in the browser extension area of your browser (upper right-hand corner).",'Turn the toggle to "off".',"Refresh the page."]},edge:{image:Hn,steps:["Click the Adblock Plus icon in the browser extension area of your browser (upper right-hand corner).",'Turn toggle to "off".',"Refresh the page."]},firefox:{image:Er,steps:["Click the Adblock icon in the browser extension area of your browser (upper right-hand corner).",'Turn the toggle to "off".',"Refresh the page."]},ie:{image:Rr,steps:["Click the Adblock icon in the browser extension area of your browser (bottom right hand corner).",'Select "Disable on..." for our domain/site.',"Still seeing this message? Refresh the page."]},safari:{image:oo,steps:["Click the Adblock Plus icon in the browser extension area of your browser (left of address bar).",'Untick "Enabled on this site".',"Refresh the page."]}},adBlockPro:{default:{image:Tn,steps:["Click the AdBlocker Pro icon in the browser extension area of your browser (upper right-hand corner).",'Toggle the "+ Ads Blocked" button to "off/x"',"Refresh the page."]}},adGuard:{default:{image:vn,steps:["Click the AdGuard icon in the browser extension area of your browser (upper right-hand corner).",'Turn the toggle to "off".',"Still seeing this message? Refresh the page."]},edge:{image:Gn,steps:["Click the AdGuard icon in the browser extension area of your browser (upper right-hand corner).",'Turn toggle to "off".',"Still seeing this message? Refresh the page."]},firefox:{image:Sr,steps:["Click the AdGuard icon in the browser extension area of your browser (upper right-hand corner).",'Turn the toggle to "off".',"Still seeing this message? Refresh the page."]},ie:{image:Dr,steps:["Click the AdGuard icon in the browser extension area of your browser (bottom right hand corner).",'Turn toggle to "off".',"Still seeing this message? Refresh the page."]},safari:{image:lo,steps:["Click the AdGuard icon in the browser extension area of your browser (left of address bar).",'Untick "Enabled on this website".',"Refresh the page."]}},adsKiller:{default:{image:xn,steps:["Click the Ads Killer AdBlocker icon in the browser extension area of your browser (upper right-hand corner).",'Click the blue "check mark" button.',"Refresh the page."]}},genesis:{default:{image:kn,steps:["Click the AdBlocker Genesis icon in the browser extension area of your browser (upper right-hand corner).",'Select "Whitelist website".',"Refresh the page."]}},ghostery:{default:{image:gn,steps:["Click the Ghostery icon in the browser extension area of your browser (upper right-hand corner).",'Click "Trust Site".',"Refresh/reload the page."]},firefox:{image:Tr,steps:["Click the Ghostery icon in the browser extension area of your browser (upper right-hand corner).",'Click "Trust Site".',"Refresh/reload the page."]}},hola:{default:{image:On,steps:["Click the Hola ad remover icon in the browser extension area of your browser (upper right-hand corner).",'Click "Enabled on this site".',"Refresh the page."]}},magicLasso:{default:{image:co,steps:["Click the Magic Lasso icon in the browser extension area of your browser (left of address bar).",'Choose the option "whitelist MailOnline".',"Still seeing this message? Refresh the page."]}},muBlock:{default:{image:Cr,steps:["Click the Block icon in the browser extension area of your browser (upper right-hand corner).",'Click the "power" button to disable Block.',"Refresh the page."]}},uBlocker:{default:{image:wn,steps:["Click the uBlocker icon in the browser extension area of your browser (upper right-hand corner).",'Click "Don\'t run on pages on this domain/site" then click "Exclude".',"Still seeing this message? Refresh the page."]}},uBlockOrigin:{default:{image:hn,steps:["Click the UBlock Origin icon in the browser extension area of your browser (upper right-hand corner).",'Click the "power" button to disable uBlock.',"Refresh the page."]},edge:{image:Wn,steps:["Click the UBlock Origin icon in the browser extension area of your browser (upper right-hand corner).",'Click the "power" button to disable uBlock Origin.',"Refresh the page."]},firefox:{image:xr,steps:["Click the UBlock Origin icon in the browser extension area of your browser (upper right-hand corner).",'Click the "power" button to disable uBlock Origin.',"Refresh the page."]},safari:{image:io,steps:["Click the uBlock icon in the browser extension area of your browser (left of address bar).",'Select "Allow ads on this site"',"Refresh the page."]}},uBlockPlus:{default:{image:yn,steps:["Click the uBlock icon in the browser extension area of your browser (upper right-hand corner).",'Click blue "check mark" button.',"Refresh the page."]}}},uo=n(253),fo=n.n(uo),po=function(e){var t=e.browser,n=e.currentTab,r=so[n]&&(so[n][t]||so[n].default);return r?k.a.createElement("div",{className:fo.a.container},k.a.createElement("div",{className:fo.a.steps},r.steps.map(function(e,t){return k.a.createElement("div",{className:fo.a.step,key:t},k.a.createElement("div",{className:fo.a.stepLabel},"Step ",t+1,":"),k.a.createElement("div",{className:fo.a.stepText},e))})),r.image&&k.a.createElement("div",{className:fo.a.image},k.a.createElement("img",c({alt:"screenshot"},Z(r.image))))):k.a.createElement("div",{className:fo.a.container},k.a.createElement(st,{browser:t}))};po.propTypes={browser:_.a.string.isRequired,currentTab:_.a.string.isRequired};var ho=n(254),mo=n.n(ho),vo=function(e){var t=e.browser,n=e.isTIM,r=P[t],o=Object(x.useState)(r&&r[0]),i=s(o,2),a=i[0],l=i[1];if(!r)return null;var c=n?"This is Money":"MailOnline";return k.a.createElement("div",{className:mo.a.container},"other"!==a&&k.a.createElement("div",{className:mo.a.heading},"Please disable ad blocker for ",c," to get unlimited access to this site"),k.a.createElement(Y,{adblockers:P[t],currentTab:a,onSelectTab:l}),k.a.createElement(po,{browser:t,currentTab:a}),k.a.createElement(F,{browser:t,onNotSure:function(){return l("other")}}))};vo.propTypes={browser:_.a.string.isRequired,isTIM:_.a.bool.isRequired};var go=n(255),yo=n.n(go),bo=function(e){var t=e.browser,n=e.geo,r=Object(x.useState)("intro"),o=p(r,2),i=o[0],a=o[1],l=window.DM&&window.DM.getPageMetadata&&"thisismoney"===window.DM.getPageMetadata().domain;return k.a.createElement("div",null,k.a.createElement("div",{className:yo.a.overlay}),k.a.createElement("div",{className:yo.a.wrapper},"intro"===i&&k.a.createElement(U,{browser:t,geo:n,isTIM:l,onViewGuide:function(){return a("guide")}}),"guide"===i&&k.a.createElement(vo,{browser:t,isTIM:l})))};bo.propTypes={browser:_.a.string.isRequired,geo:_.a.string.isRequired};var wo=n(256),Eo=n.n(wo),xo=function(){var e=Object(x.useState)("open"),t=g(e,2),n=t[0],r=t[1],o=null,i=null,a=function(){o&&(clearTimeout(o),o=null),i&&(clearTimeout(i),i=null),r("closed")},l=function(){"open"===n&&(r("closing"),i=setTimeout(a,500))};return Object(x.useEffect)(function(){o=setTimeout(l,5e3)},[]),"closed"===n?null:k.a.createElement("div",{className:W()(Eo.a.thanks,"closing"===n&&Eo.a.closing)},"Thanks for disabling your ad blocker",k.a.createElement("button",{className:Eo.a.closeButton,onClick:a}))};n.d(t,"init",function(){return ko}),n.d(t,"thanks",function(){return So});var ko=function(e){var t=Object(O.getPageCriteria)();if(!t.isMobile&&!t.isTablet){var n=Object(S.detect)(),r=document.createElement("div");document.body.append(r),document.body.classList.add("mol-fe-ab-dialog"),Object(T.render)(k.a.createElement(bo,{browser:e||n&&n.name||"unknown",geo:t.geo||"GB"}),r)}},So=function(){var e=document.createElement("div");document.body.append(e),Object(T.render)(k.a.createElement(xo,null),e)}},function(e,t){e.exports={container:"container-1Kowb",heading:"heading-2924V",text:"text-2yfTj",viewGuide:"viewGuide-13Pu7"}},function(e,t){e.exports={container:"container-28ALR",heading:"heading-TG_cc",text:"text-djxy3",viewGuide:"viewGuide-2iz1U"}},function(e,t){e.exports={bottomLinks:"bottomLinks-2kvuS",notSure:"notSure-dwwEb",notSureButton:"notSureButton-SuEyf",browserHelp:"browserHelp-1sT66"}},function(e,t){e.exports={paginated:"paginated-7nSFB",notPaginated:"notPaginated-fPk5P",tab:"tab-2e2CT",other:"other-d0Oh8",selected:"selected-3M_xH",pageLeft:"pageLeft-2it-T",pageRight:"pageRight-2PS-b",scrollContainer:"scrollContainer-3WFfW",scroller:"scroller-1SbUI",adaware:"adaware-GpAzH",adBlock:"adBlock-35dTd",adBlockerUltimate:"adBlockerUltimate-3SIPw",adBlockInc:"adBlockInc-1fnYy",adBlockPlus:"adBlockPlus-3Pwty",adBlockPro:"adBlockPro-1IcZZ",adGuard:"adGuard-1ZzgY",adsKiller:"adsKiller-2Wdon",genesis:"genesis-2sYIA",ghostery:"ghostery-3c1Ur",hola:"hola-2YM_o",magicLasso:"magicLasso-2BFOH",muBlock:"muBlock-20Js7",uBlocker:"uBlocker-13HUv",uBlockOrigin:"uBlockOrigin-1p6yM",uBlockPlus:"uBlockPlus-3qm0g"}},function(e,t,n){e.exports=n.p+"chromeOtherLeft1-1VDnX.png"},function(e,t,n){e.exports=n.p+"chromeOtherLeft2-2X4RQ.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABKCAYAAADKfI14AAAAAXNSR0IArs4c6QAADthJREFUeAHtnQtwFdUZx/+79yYhD5JAylsQcarVttiRzkh9wKCiUlstgmPr6FStQBkYFXQU0Cnx/aiICg7Wt1XjK0XQVkUxTlUs44CDSp2ibQwEkJc8Qh6EJLv9vnPv3XuTkOTuDcmV7P+bWXN295w93/mdy+d33hZEKisrb9W/FBIgARIICoGhQ4fOD2/ZsmV+faP1p6AUmuUkARIgASUgjh9soiABEiCBoBKgAQxqzbPcJEAC9AD5GyABEgguAXqAwa17lpwEAk+ABjDwPwECIIHgEqABDG7ds+QkEHgCNICB/wkQAAkElwANYHDrniUngcAToAEM/E+AAEgguARoAINb9yw5CQSeAA1g4H8CBEACwSVAAxjcumfJSSDwBGgAA/8TIAASCC4BGsDg1j1LTgKBJ0ADGPifAAGQQHAJhINbdJacBLqfgFVTjYwtmxCWy67eD7uuxijhZOfC6Z2PxsFD0TBkGNzcvO5XLoA50gAGsNJZ5O4lkLHpG2Sv/qdcHyBrw7+Tyrz++B+jbvQYucaiYdgxSaVhJP8EaAD9M2MKEuiQgHWwHr3feBV5by9DeGtlh/FbRlBDqVfhs0uMV1h93m+w/9cXw83MahmV950gQAPYCXhMSgKtCLguct/7BwqfewyhXdtbvUY4jMb+g9BY9AM4ffuhSf7CBUK7d8HevRPh73YhvONboLHRS6sGtPCpRej9+ivYe/lU1Jx1PmBZ3nsGUidAA5g6O6YkgWYE1GPr+/CdyKj4X7Pn2p9X9/NTUfsLadKOOhVuTm6z9y1vrNoaZK/9GDn/+gDZaz6G9huqqEEtWng78l8rwe5rboY2kymdI2BFD0Uq7txnmJoEgk0gt+wtFD18F9Bw0APRJB7e3sumRDw28fxSEvEEjUf5/OPiJe6MfyIjE99dMw81Z06IP2PIF4EMu+k2UyuuuO0UEiCBFAjIv50+zzyC/L897yVWD2/f5MtRdeHv4GZF++xS/TcWCqH6nAtQM/Zc5C9/EQWlz0E9RDW0RQuKxdv8L/ZcMYNNYo++v4DxAK1wVrG/ZIxNAiQAMWr5xTeg10dlHozGEcdh750Pwek/0Ht2OAP2jm0ovPlahMu/8j574IyzUDX/zzSCHpHkAk0H6yIe4KD+RcmlYCwSIAGPgPvAXXASjJ919gRk3fUgBmRne3EOe0D/rb70Bpx518Fd+Zb5fK8P30NOyeOwZs097Nn15A9u3ryZp8L15Apm2bqOgPv3pXCeftTLwP79VNgL/wJ0pfGL5SZ5aF6aZ0ycp5ZAdaL4I8ClcP54MTYJAF+sgzv/Jo+Een7WDbd4990V0Dw175gYnUQ3SvIEzCBIdW1t8ikYkwR6IAHbsmHbNkIy6JARDrVdQun3c4pvhCsTnVWs40+ELc3edInm7VRuhLvhS6OT6maXrmB/YJIVYgyg43AUOElejNZDCThoAprkamhAvRjCzIywGMKwzDduPuHYfb0U7lf/MRSsvN6wFz/VPc3etrhrc1h0cCaOhytri1U31dG68OK2UvB5AgE2gRNgMEgCSsBxHByoP4g6uZoSnQPx+tzFCzxI1h+mAwMHe/dpC4gORpeoAkbHqIeaNp2OkIxpAI+QiqKa3U+gQSYh19UfEMfQMZm7Jc/A3bbVhC2Z5mJddnX3K9VGjqqL6qSiOqqulI4J0AB2zIgxAkpAG79q/GoPRIygW1rikbBmzAZ69fLu0x4QXYxOUUUSdU27bt9jBUwf4PdYP6pGAmkloEbQkYGPgzLIkLnxG6OLJfv2WRdMTkmv2hdeQN0rr8JtkEGUWP+iGNnwCSci/5abYRelPidXdbLuvwPu/iq4qmv518CIH6akZ1AS0QAGpaZZzpQJmGGQ99/10ltnjIPu6uJXqh9ehKr774OzbVskqYw4G5GmtrXqIzRu2oi+jz4Ku18/v5+OxNdBG9HNfXO5uXfL3oFFA9guSzaB28XDlyQQIRD+YGUcxZnnxMPJhGR0ufbll7HvTvHOdu2EJeuDsydNRsE996Lg7nsQGhwZSKl/5x3snjIFzo4dyXz10HESdHPLZDoMpV0CNIDt4uFLEhACunX9l19EUKiXdbp4gMmKTKuplSbv3lmzzHcgW9+Hhh6NPk8+icxTTkHOJZcg76Y50p8oy+dcB/Ur38WeadPQ9K3sCZiCqG5WRkYk5frPInmm8J2gJKEBDEpNs5wpE7A3VXhp3cFHAT7O62gSb27fvLlw9+4RA+dKX98JyJs5w8wvNHMM5Zklk7AtmXrjirFUObDibVQvXOjl6SuguqmOImaXp4pyX8mDFpkGMGg1zvL6JmBVVnhp3H79vXAyAVdHkDdKevEcXTFyoUGDkHHyyZBlJ5GJ12r4GhsQGj4cWaeeBoj3ZtJs2pTM5w8dp/8A77kZDPHuGGhJgAawJRHek0ALApaMqsbELfI5QKEjvbHBDv2I9AfahYWmmRo+9lgz4GHJ0rv8225H1llnR0aGW6aJZZ7kX6tf3ACial+SqYIZzf9QVjA5sdQBJmDVyAakUfHrAcbSxf+6COkor3iA9oCIoco+bwJCRx2F2iefgC3Gz83MhJ3CKLOXR4IHiOh2+t47BpoRoAFshoM3JNA+AcsVj86vSD9fM9Hmr4g+rZcmcp14hG61nPuxaBEypUms4ogB3LNH+g2johs15OXlmc0aYs/a/Nsiuzbj8QVoAPkjIIEOCLi5uV4M+zufU1TEkGmT19Edl8SIOfukSRqdAF0l4ZKSEnzyySeR70efe5klGM78/HxMmjQJY8aM8V63Gdi5Pf7Kx4BNPFFwQuwDDE5ds6QpEnBl5YcnMo/Pj4RkZUfetdfCkvN81XdsWL8eTdEBjl27dmH16tUyPhLxQxzpH9RL44Wl3zC2E41u0bV//36sWrUqqazdRANYUJhUmqBGogcY1JpnuZMm4A4d7sW1Eo2L97TtgCXeY+85cxEaMBB7594EV5q1e2bMQMHs2XBPOkmO/200+xCOHDkSAwcONFNX5KRGfP755xg2bBj69u2L8vJy1IoHqXGTkh1xD9AaNjypJEGNRAMY1JpnuZMm4CQYEevbLTADCz6aljoxOffKK9EkZ1BUL16Eeln2VuOIp/fiS8bLU8M2btw4sw2XenpVVVUYMWIEpk6dKtsTNmDJkiWokYGYmEfYruI66LF1s4li4h9zbLvRg/6STeCg/wJY/o4JyManzokjTTydrOx+9H7HaVrGECPYe86cyHSX0043HqFOVNarUPoIc3JyUFlZibVr12LdunWmWVxRUSGzZpq8JnLLTx7qXnWLTajGT3/ma9L2ob7X05/RAPb0Gmb5DgsBK2GNLWSTgVTEEiOXN306+sma33wZ/NDdp3Xz1YKCAuPdnSCrRHSgY+LEidiwYYMxhPrelyToZo3zuWbZV0Y9IzKbwD2jHlmKLiCgs0m0GdlLvLfQ+AlwFt9vcnE/fB+W9selMldPBzcSTo7T6S3av1dWVoZPP/0UA2Ru4BTZEEE9P/UOk2r2xsouOqluMWlmtGMP+bcZARrAZjh4QwIRAmr8dFJyVmaGnA8imwvItlLW0ceYffbMfnt67sZFv+00rpiRGzt2rBnw0Ll+27dHBjHUOGbJzjExI6hx2xNzXkl01Yrqyr0A26MVeccmcMeMGCNABGJenx6KlJPdK2L8ouW3Jl/qkXAfeUB2LTjg3acSUMOWIcZVp8MsW7bMjAZruLS0VI4Xzob2AS5duhT7ZL6gxtXpMG2K6GJ0ikZI1LXNNHwRmQjdwf9YiIkEejyBkG3BEo/LHIsphsbWezE6iWJdegWsF56OnLmxYxvc55+AdfXMxCi+wkUyR3DUqFFYs2aN6e/TqS/a56c66NzArVu3YpPMGVQjqf2Eo0ePbvP7qosrOqlYekiS6ErpmIAlc47my/yj4o6jMgYJ9GQCavCkfPKf5maveZnd5a/CueV689Aci/ma7BSd4slw2qTV6S067aUjUYPYp08fYwxbxZVDkGLHYuo7+44FPBazFaTWDzZv3nyb6QPUvgYKCZBAxwTMuRt/fTxy/q5slOrMvAr2c6+ldDawepja56dXylJXZ3TQM4FVrON+lPJ5JSnrcAQnpOU7giuPqqeBgBgtu/g+s7RNc3flsCRn3nVpUCSSpeatOqjocjvVLeLKRt7zv+0ToAFsnw/fkkBrAjLB2Lr1Xu+5u/ItuHIaW3eL5ql5x8TopJOfKUkToAFMGhUjkkCcgPWri2BfNd174Dz7GJxZ0wBpkna5aLNX8tI8Y6K6qE4UfwRoAP3xYmwS8AhY182BNf6X3r16Y87lEwEZlOgy0QEPyaOZ5yc6qC4U/wRoAP0zYwoSiBDQ/sAFS2Bf+UePiOkTnDge7hOLOz1P0PuoBnSen3zTjPZG+/z0seatOrDfT2n4FxpA/8yYggTiBHTazOx5sO9+MD4woqPDD8kB6OePgbv0Jcg+VvH4fkO6vE2+od/Sb3qjvTrgoXlK3jR+fqHG45t5gIMHDy6OP2KIBEggJQJfrINTfKOZIpOY3pINVa0zxgGyoYI5U7ijrbRkSyuz44xsbKBre3XpXaLoVBcz2ssBj0QsvsPePEDfKZmABEigNQExSHbpCpg1uYsXmBUjGsmsHX5zOSCXObRcz+2Vg4vM6W2xA4xkE1Ozk7NuZir7+XlbWiXkYlZ4zLw+Ms9PPE9K5wlwM4TOM+QXSCBOQJvEF14Ma8IFcEuegVtaYjZQiEUwhm3jN4Bc7W9tEEshLVzZ2EDX9prlbdL0pRw+AjSAh48lv0QCcQJ6BsgV08yF8q/hanO2bAWw/jOzzVU8YuuQWYP8k5NgnXmuXLKnn+xEQ+kaAjSAXcOVXyWBOAHdSkuvq2cAumStojziFeqh5bFze7VfMF82RtVtrIaPAGQXakrXE6AB7HrGzIEE4gTUsKl3Jxcl/QQ4DSb9dUANSIAE0kSABjBN4JktCZBA+gnQAKa/DqgBCZBAmgjQAKYJPLMlARJIPwEawPTXATUgARJIEwEawDSBZ7YkQALpJ0ADmP46oAYkQAJpImAWFOrBSGnKn9mSAAmQQFoIDBky5Nb/A9DcVbPA6GeCAAAAAElFTkSuQmCC"},function(e,t,n){e.exports=n.p+"chromeOtherRight2-3yvYE.png"},function(e,t,n){e.exports=n.p+"edgeOtherLeft1-1B201.png"},function(e,t,n){e.exports=n.p+"edgeOtherLeft2-3-XxR.png"},function(e,t,n){e.exports=n.p+"edgeOtherRight1-2FPu2.png"},function(e,t,n){e.exports=n.p+"edgeOtherRight2-1mDs7.png"},function(e,t,n){e.exports=n.p+"firefoxOtherRight1-2LFUz.png"},function(e,t,n){e.exports=n.p+"firefoxOtherRight2-1r61L.png"},function(e,t,n){e.exports=n.p+"safariOtherLeft1-1VLZM.png"},function(e,t,n){e.exports=n.p+"safariOtherLeft2-1pCnQ.png"},function(e,t,n){e.exports=n.p+"safariOtherRight1-17ku7.png"},function(e,t,n){e.exports=n.p+"safariOtherRight2-1ZNAw.png"},function(e,t,n){e.exports=n.p+"chromeOtherLeft1@2x-1G0FB.png"},function(e,t,n){e.exports=n.p+"chromeOtherLeft2@2x-XfBLf.png"},function(e,t,n){e.exports=n.p+"chromeOtherRight1@2x-50JLk.png"},function(e,t,n){e.exports=n.p+"chromeOtherRight2@2x-2SFpm.png"},function(e,t,n){e.exports=n.p+"edgeOtherLeft1@2x-2E-uB.png"},function(e,t,n){e.exports=n.p+"edgeOtherLeft2@2x-2m3HN.png"},function(e,t,n){e.exports=n.p+"edgeOtherRight1@2x-2pduP.png"},function(e,t,n){e.exports=n.p+"edgeOtherRight2@2x-2yM8z.png"},function(e,t,n){e.exports=n.p+"firefoxOtherRight1@2x-2E45_.png"},function(e,t,n){e.exports=n.p+"firefoxOtherRight2@2x-Mbm03.png"},function(e,t,n){e.exports=n.p+"safariOtherLeft1@2x-1sNFX.png"},function(e,t,n){e.exports=n.p+"safariOtherLeft2@2x-1mT09.png"},function(e,t,n){e.exports=n.p+"safariOtherRight1@2x-24hnZ.png"},function(e,t,n){e.exports=n.p+"safariOtherRight2@2x-6rFGO.png"},function(e,t){e.exports={container:"container-2mmrJ",heading:"heading-2TBx1",columns:"columns-PbZlV",column:"column-2Hby_",singleColumn:"singleColumn-Q5J67",columnTitle:"columnTitle-qRRY0",columnContent:"columnContent-1bDI2",step:"step-1QK-s",stepLabel:"stepLabel-_8fnF",stepText:"stepText-3evnF",stepImage:"stepImage-3Gjf_"}},function(e,t,n){e.exports=n.p+"adBlockPlus-3CuAs.png"},function(e,t,n){e.exports=n.p+"uBlockOrigin-2YsVg.png"},function(e,t,n){e.exports=n.p+"adBlock-2yJPM.png"},function(e,t,n){e.exports=n.p+"adGuard-3-puL.png"},function(e,t,n){e.exports=n.p+"ghostery-3dRw1.png"},function(e,t,n){e.exports=n.p+"uBlockPlus-2D-jS.png"},function(e,t,n){e.exports=n.p+"adBlockerUltimate-287NV.png"},function(e,t,n){e.exports=n.p+"uBlocker-2bdeO.png"},function(e,t,n){e.exports=n.p+"adBlockInc-1TAid.png"},function(e,t,n){e.exports=n.p+"adsKiller-QmXGF.png"},function(e,t,n){e.exports=n.p+"genesis-1KMol.png"},function(e,t,n){e.exports=n.p+"adaware-rLhlo.png"},function(e,t,n){e.exports=n.p+"adBlockPro-3QgQD.png"},function(e,t,n){e.exports=n.p+"hola-XoNmo.png"},function(e,t,n){e.exports=n.p+"adBlockPlus@2x-32Dyj.png"},function(e,t,n){e.exports=n.p+"uBlockOrigin@2x-_rTdT.png"},function(e,t,n){e.exports=n.p+"adBlock@2x-2Owy3.png"},function(e,t,n){e.exports=n.p+"adGuard@2x-1h4hl.png"},function(e,t,n){e.exports=n.p+"ghostery@2x-_8ekg.png"},function(e,t,n){e.exports=n.p+"uBlockPlus@2x-3Eevp.png"},function(e,t,n){e.exports=n.p+"adBlockerUltimate@2x-3kJUk.png"},function(e,t,n){e.exports=n.p+"uBlocker@2x-PM4cD.png"},function(e,t,n){e.exports=n.p+"adBlockInc@2x-VMH3h.png"},function(e,t,n){e.exports=n.p+"adsKiller@2x-7-5ok.png"},function(e,t,n){e.exports=n.p+"genesis@2x-1eHea.png"},function(e,t,n){e.exports=n.p+"adaware@2x-1eXPf.png"},function(e,t,n){e.exports=n.p+"adBlockPro@2x-1YuF4.png"},function(e,t,n){e.exports=n.p+"hola@2x-ApIuX.png"},function(e,t,n){e.exports=n.p+"adBlockPlus-2vp2j.png"},function(e,t,n){e.exports=n.p+"uBlockOrigin-3XfVo.png"},function(e,t,n){e.exports=n.p+"adBlock-oeRRY.png"},function(e,t,n){e.exports=n.p+"adGuard-HU2V3.png"},function(e,t,n){e.exports=n.p+"adBlockPlus@2x-3kXZF.png"},function(e,t,n){e.exports=n.p+"uBlockOrigin@2x-3LcVz.png"},function(e,t,n){e.exports=n.p+"adBlock@2x-A57Xy.png"},function(e,t,n){e.exports=n.p+"adGuard@2x-1MB1d.png"},function(e,t,n){e.exports=n.p+"adBlockPlus-qLpry.png"},function(e,t,n){e.exports=n.p+"uBlockOrigin-3oIeu.png"},function(e,t,n){e.exports=n.p+"adBlock-1-HZg.png"},function(e,t,n){e.exports=n.p+"adGuard-1NBrx.png"},function(e,t,n){e.exports=n.p+"ghostery-nLsbT.png"},function(e,t,n){e.exports=n.p+"adBlockerUltimate-1Km2H.png"},function(e,t,n){e.exports=n.p+"muBlock-2s2fw.png"},function(e,t,n){e.exports=n.p+"adBlockPlus@2x-3Bpvq.png"},function(e,t,n){e.exports=n.p+"uBlockOrigin@2x-1h5pE.png"},function(e,t,n){e.exports=n.p+"adBlock@2x-31Jcj.png"},function(e,t,n){e.exports=n.p+"adGuard@2x-Qxlqd.png"},function(e,t,n){e.exports=n.p+"ghostery@2x-9lRrK.png"},function(e,t,n){e.exports=n.p+"adBlockerUltimate@2x-143kC.png"},function(e,t,n){e.exports=n.p+"muBlock@2x-_ct5L.png"},function(e,t,n){e.exports=n.p+"adBlockPlus-2AL14.png"},function(e,t,n){e.exports=n.p+"adGuard-3xpgd.png"},function(e,t,n){e.exports=n.p+"adBlockPlus@2x-dp4zw.png"},function(e,t,n){e.exports=n.p+"adGuard@2x-1Ngx8.png"},function(e,t,n){e.exports=n.p+"adBlockPlus-eOjww.png"},function(e,t,n){e.exports=n.p+"uBlockOrigin-ACeV_.png"},function(e,t,n){e.exports=n.p+"adBlock-2W9_j.png"},function(e,t,n){e.exports=n.p+"adGuard-jhiEf.png"},function(e,t,n){e.exports=n.p+"magicLasso-3MJP3.png"},function(e,t,n){e.exports=n.p+"adBlockPlus@2x-2WqWf.png"},function(e,t,n){e.exports=n.p+"uBlockOrigin@2x-3ZHab.png"},function(e,t,n){e.exports=n.p+"adBlock@2x-3Kq0b.png"},function(e,t,n){e.exports=n.p+"adGuard@2x-Rx4Yw.png"},function(e,t,n){e.exports=n.p+"magicLasso@2x-2tUNL.png"},function(e,t){e.exports={container:"container-1JfT4",steps:"steps-1wOzF",image:"image-JL2DW",step:"step-3x7QB",stepLabel:"stepLabel-1A3o5",stepText:"stepText-1dmWr"}},function(e,t){e.exports={container:"container--Srf8",heading:"heading-Cgn0Q"}},function(e,t){e.exports={overlay:"overlay-34_Kj",wrapper:"wrapper-3AzfF"}},function(e,t){e.exports={thanks:"thanks-3xsWr",closing:"closing-3iJIe",closeButton:"closeButton-3ap9T"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(258),n(3)),l=function(){function e(t,n){r(this,e),Object.assign(this,{market:"en-gb"},n),this.init({id:t})}return i(e,[{key:"init",value:function(e){var t=this,n=document.querySelector("#".concat(e.id));if(n){var r=window.location.pathname;if(r&&r.startsWith("/video")&&!n.querySelector('[name="type"]')){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","type"),o.setAttribute("value","video"),n.appendChild(o)}var i=function(e){var r=n.querySelector('input[name="searchPhrase"]').value;if(e.preventDefault(),r){var o=n.querySelector('input[name="sel"]:checked');o&&"web"===o.value?(a.pageEvents.publish(a.pageEvents.WEB_SEARCH,{searchTerm:r}),window.open("https://www.bing.com/search?q=".concat(r,"&mkt=").concat(t.market,"&cp=1252&FORM=MOL635"),"_blank")):(a.pageEvents.publish(a.pageEvents.SITE_SEARCH,{searchTerm:r}),n.submit())}};Array.from(n.querySelectorAll(".bing-logo")).forEach(function(e){e.addEventListener("click",i)}),n.addEventListener("submit",i)}}}]),e}(),c=l;n.d(t,"BingSearchBox",function(){return c})},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=p(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function E(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function I(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=M(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function M(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function H(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?W(e):t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=G(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function G(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function ee(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return(ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=re(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function re(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),e}function de(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?pe(e):t}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t,n){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=me(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function me(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}var xe=n(0),ke=(n(260),n(261),n(262),function(){function e(t,n){return r(this,e),this.el=document.querySelector(t),this.el?(this.stepSize=138,this.direction=n&&n.direction||"horizontal",this.cssProp="vertical"===this.direction?"top":"left",this.movement={direction:null,duration:"0.3s",isEndless:!0,isMoving:!1,type:"ease-out"},this.clonedNode=null,this.additionalItemsAtTheBegining=1,this.additionalItemsAtTheEnd=1,this.slider=this.el.querySelector(".js-itemList"),this.slider?(this.slider.style[this.cssProp]="0px",this.slider.style.transition="".concat(this.movement.duration," ").concat(this.movement.type," ").concat(this.cssProp),this.nextBtn=this.el.querySelector(".js-move-next"),this.nextBtn?(this.prevBtn=this.el.querySelector(".js-move-prev"),this.prevBtn?(this.handleNextClick=this.handleNextClick.bind(this),this.handlePrevClick=this.handlePrevClick.bind(this),this.clickHandler=this.clickHandler.bind(this),this.mouseOverHandler=this.mouseOverHandler.bind(this),this.onTransitionEnded=this.onTransitionEnded.bind(this),this.onCarouselMoved=this.onCarouselMoved.bind(this),this.onCarouselStartedMoving=this.onCarouselStartedMoving.bind(this),this.resetSliderTransition=this.resetSliderTransition.bind(this),this.nextBtn.addEventListener("click",this.handleNextClick),this.prevBtn.addEventListener("click",this.handlePrevClick),this.slider.addEventListener("click",this.clickHandler,this),this.slider.addEventListener("mouseover",this.mouseOverHandler),void this.slider.addEventListener("transitionend",this.onTransitionEnded,!1)):void xe.logger.error("Prev button not found in ".concat(t," carousel"))):void xe.logger.error("Next button not found in ".concat(t," carousel"))):void xe.logger.error("Slider not found in ".concat(t," carousel"))):void xe.logger.error("Carousel with selector ".concat(t," not found"))}return i(e,[{key:"onTransitionEnded",value:function(e){if(!e.target.classList.contains("js-itemList")||!e.propertyName)return null;switch(e.propertyName){case"left":case"top":return this.onCarouselMoved(),!0;default:return null}}},{key:"onCarouselStartedMoving",value:function(){this.movement.isMoving=!0}},{key:"onCarouselMoved",value:function(){this.movement.isEndless?("next"===this.movement.direction?(this.slider.removeChild(this.slider.firstElementChild),this.clonedNode=this.slider.children[this.additionalItemsAtTheBegining].cloneNode(!0),this.slider.appendChild(this.clonedNode)):"prev"===this.movement.direction&&(this.slider.removeChild(this.slider.lastElementChild),this.clonedNode=this.slider.children[this.slider.children.length-this.additionalItemsAtTheEnd-1].cloneNode(!0),this.slider.insertBefore(this.clonedNode,this.slider.firstChild)),this.slider.style.transition="0s ".concat(this.movement.type," ").concat(this.cssProp),this.slider.style[this.cssProp]=0,setTimeout(this.resetSliderTransition,0)):this.clonedNode=null,this.movement.isMoving=!1}},{key:"handleNextClick",value:function(e){return e.preventDefault(),!this.movement.isMoving&&(this.slider.style[this.cssProp]=this.movement.isEndless?"".concat(-this.stepSize,"px"):"".concat(parseFloat(this.slider.style[this.cssProp])-this.stepSize,"px"),this.onCarouselStartedMoving(),this.movement.direction="next",!0)}},{key:"handlePrevClick",value:function(e){return e.preventDefault(),!this.movement.isMoving&&(this.slider.style[this.cssProp]=this.movement.isEndless?"".concat(this.stepSize,"px"):"".concat(parseFloat(this.slider.style[this.cssProp])+this.stepSize,"px"),this.onCarouselStartedMoving(),this.movement.direction="prev",!0)}},{key:"resetSliderTransition",value:function(){this.slider.style.transition="".concat(this.movement.duration," ").concat(this.movement.type," ").concat(this.cssProp)}},{key:"mouseOverHandler",value:function(e){}},{key:"clickHandler",value:function(e){}}]),e}()),Se=(n(263),function(e){function t(e){var n;return l(this,t),n=u(this,h(t).call(this,e)),n.el?(n.stepSize=149,n.popUpDisplayed=!1,n.popUpWin=n.el.querySelector(".popup-window"),n.popUp=n.el.querySelector(".popup-container"),n.popUp.style.transition="width 0.4s ease-out, height 0.4s ease-out, opacity .3s ease-in-out",n.clickHandler=n.clickHandler.bind(f(n)),n.fadeIn=n.fadeIn.bind(f(n)),n.clickHandlerPopUp=n.clickHandlerPopUp.bind(f(n)),n.populatePopUp=n.populatePopUp.bind(f(n)),n.popUpWin.addEventListener("click",n.clickHandlerPopUp),n):(xe.logger.error("PopUpCarousel with selector ".concat(e," not found")),u(n))}return m(t,e),s(t,[{key:"resetPopUp",value:function(){this.popUp.style.opacity=0,this.popUp.style.width=0,this.popUp.style.height="auto"}},{key:"clickHandler",value:function(e){e.preventDefault();var t=e.target&&e.target.closest("li");if(!t)return xe.logger.error('No "li" element found on click'),null;this.popUpDisplayed&&this.popUpDisplayed.classList.remove("selected"),this.popUpDisplayed=t,this.popUpDisplayed.classList.add("selected"),this.populatePopUp(t.id),this.resetPopUp();var n=this.popUp.clientHeight;return this.popUp.style.height=0,this.popUpWin.style.visibility="visible",this.popUp.style.height="".concat(n,"px"),this.popUp.style.width="202px",this.fadeIn(),!0}},{key:"onCarouselMoved",value:function(){d(h(t.prototype),"onCarouselMoved",this).call(this),this.popUpDisplayed&&("next"===this.movement.direction?this.popUpDisplayed=this.popUpDisplayed.nextElementSibling||this.slider.firstElementChild:"prev"===this.movement.direction&&(this.popUpDisplayed=this.popUpDisplayed.previousElementSibling||this.slider.children[this.slider.children.length-2]),this.popUp.style.opacity=0,this.popUp.style.height="auto",this.populatePopUp(this.popUpDisplayed.id),this.fadeIn())}},{key:"populatePopUp",value:function(e){this.popUp.innerHTML=this.el.querySelector("#".concat(e,"_container")).innerHTML;var t=this.popUp.querySelector("img");t.src=t.className.split("|")[0]}},{key:"fadeIn",value:function(){this.popUp.style.opacity=1}},{key:"clickHandlerPopUp",value:function(e){e.target.classList.contains("x-closebutton")&&(this.popUpWin.style.visibility="hidden",this.popUpDisplayed=!1,this.popUp.style.opacity=0)}}]),t}(ke)),Te=(n(264),function(e){function t(e){var n;return y(this,t),n=E(this,T(t).call(this,e)),n.el?(n.stepSize=90,n.bigLink=n.el.querySelector(".js-link"),n.bigImg=n.el.querySelector(".js-placeholder"),n.caption=n.el.querySelector(".js-caption"),n.buyLink=n.el.querySelector(".js-buy-link"),n.changeBigPic=n.changeBigPic.bind(x(n)),n):(xe.logger.error("ImageSwapCarousel with selector ".concat(e," not found")),E(n))}return O(t,e),w(t,[{key:"mouseOverHandler",value:function(e){var t=e.target.closest("a");return t?(this.changeBigPic(t),t):null}},{key:"onCarouselMoved",value:function(){k(T(t.prototype),"onCarouselMoved",this).call(this);var e=this.slider.children[1].querySelector("a");return this.changeBigPic(e),e}},{key:"changeBigPic",value:function(e){if(this.bigImg){this.bigLink.href=e.href,this.bigImg.src=e.rel.split("|")[0];var t=e.getElementsByTagName("IMG")[0].alt;this.caption.innerHTML=t;var n=e.parentNode,r=n.querySelector(".js-buy-link");this.buyLink&&(this.buyLink.href=null===r?"#":r.href),this.bigLink.addEventListener("click",this.clickHandler)}}}]),t}(ke)),Oe=(n(265),function(e){function t(e){var n;return P(this,t),n=I(this,R(t).call(this,e)),n.el?(n.stepSize=104,n.numCols=n.el.querySelectorAll("li.js-column").length,n.inPolePosition=2,n.nextBtn.style.visibility="hidden",n.prevBtn.style.visibility="hidden",3===n.numCols&&(n.inPolePosition=1,n.slider.style.left="104px"),n.handleController(),n.universe=n.el.closest(".lightbox-gallery"),n.overlay=null,n.handleController=n.handleController.bind(N(n)),n):(xe.logger.error("LightBoxCarousel with selector ".concat(e," not found")),I(n))}return D(t,e),L(t,[{key:"handleController",value:function(){if(this.numCols<=3)return this.prevBtn.style.visibility="hidden",void(this.nextBtn.style.visibility="hidden");1===this.inPolePosition?(this.prevBtn.style.visibility="hidden",this.nextBtn.style.visibility="visible"):this.inPolePosition===this.numCols-2?(this.prevBtn.style.visibility="visible",this.nextBtn.style.visibility="hidden"):(this.prevBtn.style.visibility="visible",this.nextBtn.style.visibility="visible")}},{key:"handlePrevClick",value:function(e){e.preventDefault(),j(R(t.prototype),"handlePrevClick",this).call(this,e),this.inPolePosition--}},{key:"handleNextClick",value:function(e){e.preventDefault(),j(R(t.prototype),"handleNextClick",this).call(this,e),this.inPolePosition++}},{key:"onCarouselMoved",value:function(){j(R(t.prototype),"onCarouselMoved",this).call(this),this.handleController()}}]),t}(Te)),Ce=function(e){if(e.click)e.click();else{if(!e.onclick)return xe.logger.error("triggerHandleNextClick error. Prev button does not have the propper event click handler"),null;e.onclick()}return!0},_e=function(e){function t(e){var n;return q(this,t),n=H(this,Y(t).call(this,e)),n.el?(n.movement.isEndless=!1,n.changeBigPic(n.el.querySelector("li.js-column a")),n.subCarousel=null,n.clickHandler=n.clickHandler.bind(W(n)),n.setSubCarousel=n.setSubCarousel.bind(W(n)),n.triggerHandlePrevClick=n.triggerHandlePrevClick.bind(W(n)),n.triggerHandleNextClick=n.triggerHandleNextClick.bind(W(n)),n):(xe.logger.error("LightBoxCarouselMain with selector ".concat(e," not found")),H(n))}return Z(t,e),F(t,[{key:"onCarouselMoved",value:function(){V(Y(t.prototype),"onCarouselMoved",this).call(this);var e=this.slider.querySelectorAll("li.js-column")[this.inPolePosition-1],n=e.querySelector("li"),r=n.querySelector("a");return this.changeBigPic(r),r}},{key:"clickHandler",value:function(e){e.preventDefault();var t=e.target.closest("a"),n=t.parentNode.querySelector(".js-buy-link"),r="".concat(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),"px");null===this.overlay&&(this.overlay=document.getElementById("overlay")),this.overlay.style.display="block",this.overlay.style.height=r,this.subCarousel.showUp(t.href,e.target.alt,this.inPolePosition,null===n?"#":n.href,t.rel)}},{key:"setSubCarousel",value:function(e){this.subCarousel=e}},{key:"handlePrevClick",value:function(e){e.preventDefault(),V(Y(t.prototype),"handlePrevClick",this).call(this,e)}},{key:"handleNextClick",value:function(e){e.preventDefault(),V(Y(t.prototype),"handleNextClick",this).call(this,e)}},{key:"triggerHandlePrevClick",value:function(){return Ce(this.prevBtn)}},{key:"triggerHandleNextClick",value:function(){return Ce(this.nextBtn)}}]),t}(Oe),Pe=function(e){function t(e,n){var r;J(this,t);var o=document.getElementById("lightbox-target");if(document.querySelector(e)){var i=document.querySelector(e).closest("div.js-movable");o.insertBefore(i,o.firstChild)}if(r=ee(this,oe(t).call(this,e)),!r.el)return xe.logger.error("LightBoxCarouselSub with selector ".concat(e," not found")),ee(r);r.mainCarousel=n.mainCarousel,r.movement.isEndless=!1,r.animTimeInSeconds=.4,r.animTimeInMilisecs=1e3*r.animTimeInSeconds,r.target=o,r.gallery=r.universe.querySelector(".wrap_".concat(e.substring(1))),r.bigPicHolder=r.gallery.querySelector(".main-image-holder"),r.bigPicHolder.style.transition="opacity ".concat(r.animTimeInSeconds,"s ease-out"),r.bigPic=r.gallery.querySelector(".main-overlayimage"),r.bigPic.style.transition="width ".concat(r.animTimeInSeconds,"s ease-out, height ").concat(r.animTimeInSeconds,"s ease-out"),r.picDescContainer=r.gallery.querySelector(".messages"),r.picDesc=r.gallery.querySelector(".mainText"),r.buyLink=r.gallery.querySelector(".buy-link"),r.closeBtn=r.gallery.querySelector(".x-closebutton"),r.increment=r.increment.bind(te(r)),r.resetStage=r.resetStage.bind(te(r)),r.animBigPic=r.animBigPic.bind(te(r)),r.fadeInBigPic=r.fadeInBigPic.bind(te(r)),r.showUp=r.showUp.bind(te(r)),r.closeHandler=r.closeHandler.bind(te(r)),r.closeBtn.addEventListener("click",r.closeHandler),r.mainCarousel.setSubCarousel(te(r));var a=document.getElementById("overlay");return a&&a.addEventListener("click",r.closeHandler),r}return ie(t,e),$(t,[{key:"increment",value:function(e){return(e-2)*-this.stepSize}},{key:"showUp",value:function(e,t,n,r,o){var i=function(){var e=document.getElementById("top").clientWidth;return(document.body.clientWidth-e)/2+e}();this.target.style.display="block";var a=(window.pageYOffset||document.documentElement.scrollTop)+68+"px";this.target.style.top=a,this.target.style.left="".concat(i,"px"),this.gallery.querySelector(".more-link").style.display="none",this.gallery.style.display="block",this.animBigPic(e,t,r,o),this.inPolePosition=n,this.slider.style.left=this.increment(n)+"px",this.handleController()}},{key:"clickHandler",value:function(e){e.preventDefault();var t=e.target,n=t.closest("a");if(n){var r=n.parentNode.querySelector(".js-buy-link"),o=null===r?"#":r.href;return this.animBigPic(n.href,t.alt,o,n.rel),n}return null}},{key:"mouseOverHandler",value:function(e){}},{key:"closeHandler",value:function(e){e.preventDefault(),null===this.overlay&&(this.overlay=document.getElementById("overlay")),this.overlay.style.display="none",this.overlay.style.height="0px",this.gallery.style.display="none",this.resetStage()}},{key:"resetStage",value:function(){var e=this;this.bigPic.style.width="0px",this.bigPic.style.height="0px",this.picDescContainer.style.width="0px",this.picDesc.innerHTML="",this.bigPicHolder.style.transition="opacity 0s ease-out",this.bigPicHolder.style.opacity="0",setTimeout(function(){e.bigPicHolder.style.transition="opacity ".concat(e.animTimeInSeconds,"s ease-out")},0)}},{key:"fadeInBigPic",value:function(e,t){var n=this;setTimeout(function(){n.picDescContainer.style.width=e?"".concat(e[0],"px"):"600px",n.picDesc.innerHTML=t,n.bigPicHolder.style.opacity=1},this.animTimeInMilisecs)}},{key:"animBigPic",value:function(e,t,n,r){var o=function(e){try{var t=new RegExp("([0-9]+)x([0-9]+).(jpg|png)","gi").exec(e);return[t[1],t[2]]}catch(e){return null}}(e);this.resetStage(),this.bigPic.src=o?e:r&&r.replace(/\|.*/,""),""===n||-1!==n.indexOf("#")?(this.buyLink.href="",this.buyLink.style.display="none"):(this.buyLink.href=n,this.buyLink.style.display="block"),this.bigPic.style.width=o?"".concat(o[0],"px"):"600px",this.bigPic.style.height=o?"".concat(o[1],"px"):"auto",this.bigPic.style.margin="",o||(this.bigPic.style.margin="auto"),this.fadeInBigPic(o,t)}},{key:"handlePrevClick",value:function(e){e.preventDefault(),ne(oe(t.prototype),"handlePrevClick",this).call(this,e),this.mainCarousel.triggerHandlePrevClick()}},{key:"handleNextClick",value:function(e){e.preventDefault(),ne(oe(t.prototype),"handleNextClick",this).call(this,e),this.mainCarousel.triggerHandleNextClick()}},{key:"onCarouselMoved",value:function(){ne(oe(t.prototype),"onCarouselMoved",this).call(this)}}]),t}(Oe),Ae=function e(t,n){le(this,e),this.mainCarousel=new _e(t),this.subCarousel=new Pe(n.idSubCarousel,{mainCarousel:this.mainCarousel})},Le=function(e){function t(e){var n;return se(this,t),n=de(this,ve(t).call(this,e)),n.el?(n.stepSize=176,n.el.querySelectorAll("li").forEach(function(e){n.attachListenersToListItem(e)}),n.attachListenersToListItem=n.attachListenersToListItem.bind(pe(n)),n.onCarouselMoved=n.onCarouselMoved.bind(pe(n)),n):(xe.logger.error("RolloverCarousel with selector ".concat(e," not found")),de(n))}return ge(t,e),fe(t,[{key:"attachListenersToListItem",value:function(e){e.panel=e.getElementsByTagName("SPAN")[0],e.panel.style.transition="top 0.45s ease-out",e.addEventListener("mouseover",function(){e.panel.style.top="0px"}),e.addEventListener("mouseout",function(){e.panel.style.top="110px"})}},{key:"onCarouselMoved",value:function(){he(ve(t.prototype),"onCarouselMoved",this).call(this),this.attachListenersToListItem(this.clonedNode)}}]),t}(ke),Ie=(n(266),n(267),n(268),n(5)),Ne=function(e){var t;return e&&getComputedStyle&&(t=getComputedStyle(e).marginRight),t},je=function(e){var t=e.offsetWidth;if(!t&&(t=e.clientWidth,getComputedStyle)){var n=getComputedStyle(e);t+=parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}return Math.round(t)},Me=function(){function e(t,n,r){if(be(this,e),this.el=r||document.querySelector(t),!this.el)return void xe.logger.error("ChannelCarousel with selector ".concat(t," not found"));this.panelsContainer=this.el&&this.el.querySelector(".rotator-panels"),this.el&&this.panelsContainer&&this.panelsContainer.querySelector("li")&&(this.itemWidth=null,this.activePage=1,n&&Object.assign(this,n),this.params={params:n,selector:t},this.pagesRotator=this.el.querySelector(".rotator-pages"),this.setActivePageClass(this.activePage),this.bindPageSelectorClickEvent=this.bindPageSelectorClickEvent.bind(this),this.move=this.move.bind(this),this.onDomReady=this.onDomReady.bind(this),this.scrollTo=this.scrollTo.bind(this),Object(Ie.later)("DOM_READY").then(this.onDomReady.bind(this)).catch(function(e){xe.logger.error("Error on ChannelCarousel constructor domready: ",e)}),this.initEvents())}return Ee(e,[{key:"bindNextPrevButtonClickEvent",value:function(e){var t=this;e&&e.addEventListener("click",function(e){e.preventDefault(),t.move(e)})}},{key:"bindPageSelectorClickEvent",value:function(){var e=this;this.pagesRotator&&this.pagesRotator.addEventListener("click",function(t){t.preventDefault(),e.scrollTo(parseInt(t.target.getAttribute("data-page"),10))})}},{key:"initEvents",value:function(){this.bindNextPrevButtonClickEvent(this.el.querySelector(".js-move-next")),this.bindNextPrevButtonClickEvent(this.el.querySelector(".js-move-prev")),this.bindPageSelectorClickEvent(this.pagesRotator)}},{key:"move",value:function(e){var t,n=parseInt(this.params.params.pageCount,10);return t=e.target.closest(".js-move-next")?this.activePage>=n?1:this.activePage+1:this.activePage<=1?n:this.activePage-1,this.scrollTo(t),t}},{key:"onDomReady",value:function(){this.el.matches(".x-wide")&&(this.params.params.updateStyleOnHover=!1)}},{key:"scrollTo",value:function(e){if(!this.itemWidth){var t=this.panelsContainer.querySelector("li");this.itemWidth=je(t)+(Math.round(parseFloat(Ne(t)))||0)}var n=this.itemWidth*this.params.params.pageSize*(e-1)*-1;this.activePage=e,this.setActivePageClass(e),this.panelsContainer.style.transform="translateX(".concat(n,"px)")}},{key:"setActivePageClass",value:function(e){if(this.pagesRotator){var t=this.params.params.activeClass||"selected";Array.from(this.pagesRotator.querySelectorAll("li")).forEach(function(n){var r=n.querySelector("a");r.classList.toggle(t,parseInt(r.getAttribute("data-page"),10)===e)})}}}]),e}(),Re=0,De=function(e,t){var n=Array.from(document.querySelectorAll(e)),r=new Me(e,t,n[Re]);return Re++,r},Be=function(e,t,n){switch(t){case"carousel":return new ke(e,n);case"popUpCarousel":return new Se(e);case"imageSwapCarousel":return new Te(e);case"lightBoxCarouselWrapper":return new Ae(e,n);case"rolloverCarousel":return new Le(e,n);case"channelCarousel":return De(e,n);default:return xe.logger.error("Unknown carousel type: ".concat(t)),null}};t.a={init:Be}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){a(c,r,o,i,l,"next",e)}function l(e){a(c,r,o,i,l,"throw",e)}var c=e.apply(t,n);i(void 0)})}}function c(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){c(l,r,o,i,a,"next",e)}function a(e){c(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function d(e,t,n,r){return e>t?n>0?pt:ht:r>0?mt:vt}function p(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function h(e,t){var n=function(t){t.touches&&t.touches.length>1||e(function(e,n){n.trackMouse&&(document.addEventListener(wt,r),document.addEventListener(Et,a));var o=t.touches?t.touches[0]:t,i=o.clientX,l=o.clientY,c=p([i,l],n.rotationAngle);return u({},e,dt,{eventData:{initial:[].concat(c),first:!0},xy:c,start:t.timeStamp||0})})},r=function(t){e(function(e,n){if(!e.xy[0]||!e.xy[1]||t.touches&&t.touches.length>1)return e;var r=t.touches?t.touches[0]:t,o=r.clientX,i=r.clientY,a=p([o,i],n.rotationAngle),l=a[0],c=a[1],s=e.xy[0]-l,f=e.xy[1]-c,h=Math.abs(s),m=Math.abs(f),v=(t.timeStamp||0)-e.start,g=Math.sqrt(h*h+m*m)/(v||1);if(h<n.delta&&m<n.delta&&!e.swiping)return e;var y=d(h,m,s,f),b=u({},e.eventData,{event:t,absX:h,absY:m,deltaX:s,deltaY:f,velocity:g,dir:y});n.onSwiping&&n.onSwiping(b);var w=!1;return(n.onSwiping||n.onSwiped||n["onSwiped"+y])&&(w=!0),w&&n.preventDefaultTouchmoveEvent&&n.trackTouch&&t.cancelable&&t.preventDefault(),u({},e,{eventData:u({},b,{first:!1}),swiping:!0})})},o=function(t){e(function(e,n){var r;return e.swiping&&(r=u({},e.eventData,{event:t}),n.onSwiped&&n.onSwiped(r),n["onSwiped"+r.dir]&&n["onSwiped"+r.dir](r)),u({},e,dt,{eventData:r})})},i=function(){document.removeEventListener(wt,r),document.removeEventListener(Et,a)},a=function(e){i(),o(e)},l=function(e){if(e&&e.addEventListener){var t=[[gt,n],[yt,r],[bt,o]];return t.forEach(function(t){var n=t[0],r=t[1];return e.addEventListener(n,r)}),function(){return t.forEach(function(t){var n=t[0],r=t[1];return e.removeEventListener(n,r)})}}},c=function(t){null!==t&&e(function(e,n){if(e.el===t)return e;var r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=null),n.trackTouch&&t&&(r.cleanUpTouch=l(t)),u({},e,{el:t},r)})},s={ref:c};return t.trackMouse&&(s.onMouseDown=n),[s,l]}function m(e,t,n){var r={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),r.cleanUpTouch=null):t.trackTouch&&!e.cleanUpTouch&&e.el&&(r.cleanUpTouch=n(e.el)),u({},e,r)}function v(e){var t=e.trackMouse,n=me.a.useRef(u({},dt,{type:"hook"})),r=me.a.useRef();r.current=u({},ft,e);var o=me.a.useMemo(function(){return h(function(e){return n.current=e(n.current,r.current)},{trackMouse:t})},[t]),i=o[0],a=o[1];return n.current=m(n.current,r.current,a),i}function g(e,t){function n(){this.constructor=e}Pt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function y(e,t){return E(e)||w(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function w(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function E(e){if(Array.isArray(e))return e}function x(e,t){return T(e)||S(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function S(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function T(e){if(Array.isArray(e))return e}function O(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){O(l,r,o,i,a,"next",e)}function a(e){O(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function _(e,t){return L(e)||A(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function A(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function L(e){if(Array.isArray(e))return e}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function N(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){N(l,r,o,i,a,"next",e)}function a(e){N(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function M(e){return B(e)||D(e)||R()}function R(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function D(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function B(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function U(e,t){return F(e)||z(e,t)||q()}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function z(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function F(e){if(Array.isArray(e))return e}function H(e,t){return G(e)||V(e,t)||W()}function W(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function V(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function G(e){if(Array.isArray(e))return e}function Y(e){return X(e)||K(e)||Z()}function Z(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function K(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function X(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function J(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){J(l,r,o,i,a,"next",e)}function a(e){J(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function $(e,t){return ne(e)||te(e,t)||ee()}function ee(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function te(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function ne(e){if(Array.isArray(e))return e}function re(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach(function(t){ie(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var ae,le=n(1),ce=n(0),se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("IMG"!==e.tagName)return e.clientHeight;var n=parseInt(e.getAttribute("width"),10)||e.width,r=parseInt(e.getAttribute("height"),10)||e.height,o=n/r,i=t||e.width||n;return Math.floor(i/o)},ue=function(e,t){if("IMG"!==t.tagName)return!0;if(t.closest(".mol-product"))return!1;var n=t.width||parseInt(t.getAttribute("width"),10),r=se(t),o=e?150:300,i=e?200:300;return r>o+70||r<o+70&&r>=o&&n>i+90},fe={},de=function(){fe={}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowVideos,n=void 0===t||t,r=e.dom,o=void 0===r?null:r,i=e.articleId,a=void 0===i?null:i,l=JSON.stringify({allowVideos:n,articleId:a});if(fe[l])return fe[l];var c=Object(le.getPageMetadata)(),s=c.renderPlatform,u="mobile"===s,f=["img[id^=i-]"];n&&f.push("div[id^=v-]");var d=ue.bind(null,u),p=0,h=Array.from((o||document).querySelectorAll(f.join(","))).filter(d).map(function(e){var t="IMG"===e.tagName?"image":"videoimage",n={element:e,index:p,isNext:Boolean(o),originalIndex:p,type:t};return p++,n});return fe[l]=h,h},he=n(2),me=n.n(he),ve=n(9),ge=n(5),ye=function(e){var t=document.createElement("div");return t.className=e.className,t.id=e.id+"-clone",t.classList.contains("vjs-span-two-col")&&(t.classList.remove("vjs-span-two-col"),t.classList.add("vjs-span-three-col")),Object(ge.later)("videoplayer-ready",function(){var n=e.children[0];if(n.player){var r=n&&window.DM.setupMolVideoJsPlayers.clone(n,{plugins:{tracking:{trackingType:"image_gallery"}}});if(!r)return;r.id=n.id+"-clone",t.appendChild(r)}else{var i=n.cloneNode(),a=JSON.parse(i.dataset.opts);a=o({},a,{plugins:o({},a.plugins||{},{tracking:o({},a.plugins.tracking||{},{trackingType:"image_gallery"})})}),i.dataset.opts=JSON.stringify(a),t.appendChild(i)}window.DM.setupMolVideoJsPlayers(t)}),t},be=function(){try{window.DM.molFeVideoplayer.trigger("pauseAll",{})}catch(e){}},we=n(270),Ee=n.n(we),xe=n(7),ke=n.n(xe),Se=n(107),Te=n.n(Se),Oe={},Ce=function(){var e=l(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oe[t]){e.next=2;break}return e.abrupt("return",Oe[t]);case 2:return e.next=4,Te.a.get(t);case 4:for(n=e.sent,r=(new DOMParser).parseFromString(n.data,"text/html"),o=Array.from(r.querySelectorAll("noscript")),i=0,a=o;i<a.length;i++)l=a[i],l.remove();return Oe[t]=r,e.abrupt("return",r);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_e={development:"https://www.dailymailint.co.uk/api/most-watched-videos",integration:"https://www.dailymailint.co.uk/api/most-watched-videos",production:"https://www.dailymail.co.uk/api/most-watched-videos"},Pe=[String(Object(le.getPageMetadata)().articleId)],Ae=function(e){Pe.push(String(e))},Le=function(e){Pe=Pe.filter(function(t){return t!==String(e)})},Ie=function(e){return Pe.includes(String(e))},Ne=function(){var e=s(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,l,c,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:null,r=Object(le.getPageMetadata)(),o=r.environment,i=n?"/topic/".concat(encodeURIComponent(n)):"",a="".concat(_e[o],"/rta/ig/").concat(t).concat(i,"/json"),e.prev=4,e.next=7,Te.a.get(a);case 7:if(l=e.sent,!((c=l.data&&l.data.items.filter(function(e){return e.images&&e.images.length>=3&&!Ie(e.articleId)}))&&c.length>0)){e.next=14;break}if(!((s=c.filter(function(e){return e.imageCount>=20}))&&s.length>=6)){e.next=13;break}return e.abrupt("return",s);case 13:return e.abrupt("return",c);case 14:return e.abrupt("return",null);case 17:return e.prev=17,e.t0=e.catch(4),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,null,[[4,17]])}));return function(t){return e.apply(this,arguments)}}(),je=n(11),Me=n.n(je),Re=null,De=document.querySelector('meta[name="description"]'),Be=De&&De.content,Ue=Object(le.getPageMetadata)().articleTitle,qe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=new Me.a(Re||location.href),n=t.origin,r=t.pathname;return"".concat(n).concat(r).concat(e?"#gallery":"")},ze=function(e){Re=e},Fe=function(e){Be=e},He=function(e){Ue=e},We=function(){var e=window.DMS.Facebook.postToFB;e&&e("image_gallery-last",{forcedUrl:qe()})},Ve=function(){var e=window.DMS.Twitter.postToTWTTR;e&&e("image_gallery-last",{forcedUrl:qe()})},Ge=function(){var e=window.DMS.Pinterest.postToPinterest;e&&e("image_gallery-last",{forcedUrl:qe()})},Ye=function(){var e=window.DMS.Email.buildMailtoLink("email-plain-text","gallery",Ue,Be,qe(!1),"#gallery");window.location.replace(e),window.DMS.Email.emailArticle("gallery")},Ze=n(3),Ke=function(e){ae=e},Xe=function(e){if(e){var t=e.type,n=e.index,r=e.isNext,o=e.originalIndex,i=e.element,a="";"vertical"===ae&&(a+=" vertical"),r&&(a+=" next"),Ze.pageEvents.publish(Ze.pageEvents.GALLERY_IMAGE_VIEWED,Object(le.getPageMetadata)({contentType:t,galleryId:"".concat(t," ").concat(n," enhanced").concat(a),galleryTitle:"".concat(t," ").concat(o," gallery view enhanced").concat(a),threadId:i&&i.id}))}},Je=function(e){if(e){var t=e.type,n=e.index,r=e.isNext,o=e.originalIndex,i=e.element,a="";"vertical"===ae&&(a+=" vertical"),r&&(a+=" next"),Ze.pageEvents.publish(Ze.pageEvents.GALLERY_OPENED,Object(le.getPageMetadata)({contentType:t,galleryId:"".concat(t," ").concat(n," enhanced").concat(a),galleryTitle:"".concat(t," ").concat(o," gallery start enhanced").concat(a),threadId:i&&i.id}))}},Qe=function(){Ze.pageEvents.publish(Ze.pageEvents.GALLERY_CLOSED,Object(le.getPageMetadata)({contentType:"image",threadId:"i-0"}))},$e=function(e,t,n){window.adverts?window.adverts.queue||(window.adverts.queue=[]):window.adverts={queue:[]},window.adverts.queue.push({data:{position:t,slotId:e,variant:n},scope:"adSlotMount"})},et=function(e,t,n){window.adverts?window.adverts.queue||(window.adverts.queue=[]):window.adverts={queue:[]},window.adverts.queue.push({data:{position:t,slotId:e,variant:n},scope:"adSlotUnmount"})},tt=function(e,t,n){window.adverts?window.adverts.queue||(window.adverts.queue=[]):window.adverts={queue:[]},window.adverts.queue.push({data:{position:t,slotId:e,variant:n},scope:"adSlotUpdate"})},nt=function(){window.adverts?window.adverts.queue||(window.adverts.queue=[]):window.adverts={queue:[]},window.adverts.queue.push({scope:"imageGalleryClose"})},rt=function(){window.adverts?window.adverts.queue||(window.adverts.queue=[]):window.adverts={queue:[]},window.adverts.queue.push({scope:"imageGalleryOpen"})},ot=function(e){return Boolean(window.adverts&&window.adverts.config&&window.adverts.config.slots&&window.adverts.config.slots.enabled&&window.adverts.config.slots.enabled[e])},it=function(){return"isAdFreeEntitled"in window&&window.isAdFreeEntitled()},at=n(287),lt=n.n(at),ct=function(e){var t=e.articleTitle,n=e.itemCount,r=e.currentIndex,o=e.caption,i=e.disabled,a=e.hasNextGallery,l=e.hasPreviousGallery,c=e.onClose,s=e.onNext,u=e.onPrevious,f=e.showControls,d=e.mobileMode,p=void 0!==d&&d;return Object(he.useEffect)(function(){if(!i){var e=function(e){"ArrowRight"===e.key?s():"ArrowLeft"===e.key&&u()};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}},[i,r,n,a,l,s,u]),[f&&r<n-1&&me.a.createElement("div",{className:ke()(lt.a.topBar,p&&lt.a.mobileMode),key:"top"},me.a.createElement("div",{className:lt.a.counter},r+1," of ",n)),f&&me.a.createElement("button",{"aria-label":"Close",className:ke()(lt.a.closeButton,p&&lt.a.mobileMode),key:"close",onClick:c}),me.a.createElement("div",{className:ke()(lt.a.bottomBar,o&&lt.a.hasCaption,p&&lt.a.mobileMode),key:"bottom"},0===r&&t&&l&&me.a.createElement("div",{className:lt.a.articleTitle},"NEW ARTICLE: ",t),o&&me.a.createElement("div",{className:lt.a.caption},o),f&&me.a.createElement("div",{className:lt.a.paginationButtons},me.a.createElement("button",{"aria-label":"Previous",className:lt.a.previousButton,disabled:r<1&&!l||i,onClick:u}),me.a.createElement("button",{"aria-label":"Next",className:lt.a.nextButton,disabled:r>=n-1&&!a||i,onClick:s})))]},st=n(12),ut=n.n(st),ft={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},dt={xy:[0,0],swiping:!1,eventData:void 0,start:void 0},pt="Left",ht="Right",mt="Up",vt="Down",gt="touchstart",yt="touchmove",bt="touchend",wt="mousemove",Et="mouseup",xt=function(e){function t(t){var n;return n=e.call(this,t)||this,n._set=function(e){n.transientState=e(n.transientState,n.props)},n.transientState=u({},dt,{type:"class"}),n}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.nodeName,o=void 0===r?"div":r,i=e.innerRef,a=e.children,l=e.trackMouse,c=h(this._set,{trackMouse:l}),s=c[0],f=c[1];this.transientState=m(this.transientState,this.props,f);var d=i?function(e){return i(e),s.ref(e)}:s.ref;return me.a.createElement(o,u({},s,{className:t,style:n,ref:d}),a)},t}(me.a.PureComponent);xt.propTypes={onSwiped:ut.a.func,onSwiping:ut.a.func,onSwipedUp:ut.a.func,onSwipedRight:ut.a.func,onSwipedDown:ut.a.func,onSwipedLeft:ut.a.func,delta:ut.a.number,preventDefaultTouchmoveEvent:ut.a.bool,nodeName:ut.a.string,trackMouse:ut.a.bool,trackTouch:ut.a.bool,innerRef:ut.a.func,rotationAngle:ut.a.number},xt.defaultProps=ft;var kt=n(288),St=n.n(kt),Tt=function(e){var t=e.galleryItem,n=e.isActive,r=e.mobileMode,o=Object(he.useRef)(null);return Object(he.useEffect)(function(){var e=o.current&&o.current.querySelector("video[data-opts]"),t=e&&e.player;t&&(n||t.paused()||t.pause())},[n]),Object(he.useEffect)(function(){if(o.current){var e=ye(t.element);o.current.appendChild(e)}},[]),me.a.createElement("div",{className:ke()(St.a.videoWrapper,r&&St.a.mobileMode)},me.a.createElement("div",{ref:o}))},Ot=n(289),Ct=n.n(Ot),_t=function(){return me.a.createElement("div",{className:Ct.a.spinner})},Pt=function(e,t){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},At=function(){return At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},At.apply(this,arguments)},Lt=(Object.create,Object.create,document.createElement("style"));Lt.appendChild(document.createTextNode(".kvfysmfp{overflow:hidden;touch-action:none}.ufhsfnkm{transform-origin: 0 0}")),document.getElementsByTagName("head")[0].appendChild(Lt);var It=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0},Nt=function(e){var t=e.x,n=e.y,r=e.scale;return"scale3d("+r+","+r+", 1) translate3d("+t+"px, "+n+"px, 0)"},jt=function(e,t){return t?e+" "+t:e},Mt=Math.abs,Rt=Math.max,Dt=Math.min,Bt=Math.sqrt,Ut=/(Mac)/i.test(navigator.platform),qt=function(e){return"drag"===e},zt=function(e){return"zoom"===e},Ft=function(e){return Ut&&e.ctrlKey},Ht=function(e){e.stopPropagation(),e.preventDefault()},Wt=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Bt(n*n+r*r)},Vt=function(e,t){var n=Wt(e[0],e[1]);return Wt(t[0],t[1])/n},Gt=function(e,t){return e>t-.01&&e<t+.01},Yt=function(e){return-Math.cos(e*Math.PI)/2+.5},Zt=function(e){return{x:e.pageX,y:e.pageY}},Kt=function(e){return Array.from(e).map(Zt)},Xt=function(e,t){return e+t},Jt=function(e){return{x:e.map(function(e){return e.x}).reduce(Xt,0)/e.length,y:e.map(function(e){return e.y}).reduce(Xt,0)/e.length}},Qt=function(e,t,n){return n<e?e:n>t?t:n},$t=function(e){return!(e.ctrlKey||e.metaKey)},en=function(e){if(e){var t=e.offsetWidth,n=e.offsetHeight;if(t&&n)return{width:t,height:n};var r=getComputedStyle(e),o=parseFloat(r.width),i=parseFloat(r.height);if(i&&o)return{width:o,height:i}}return{width:0,height:0}},tn=function(e,t){return{x:t.x-e.x,y:t.y-e.y}},nn=function(e,t){return e.x===t.x&&e.y===t.y},rn=function(){},on={x:0,y:0},an=window.document,ln=an.documentElement,cn=an.body,sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._prevDragMovePoint=null,t._containerObserver=null,t._fingers=0,t._firstMove=!0,t._initialOffset=At({},on),t._interaction=null,t._isDoubleTap=!1,t._isOffsetsSet=!1,t._lastDragPosition=null,t._lastScale=1,t._lastTouchStart=0,t._lastZoomCenter=null,t._listenMouseMove=!1,t._nthZoom=0,t._offset=At({},on),t._startTouches=null,t._updatePlaned=!1,t._wheelTimeOut=null,t._zoomFactor=1,t._initialZoomFactor=1,t._ignoreNextClick=!1,t._containerRef=he.createRef(),t._handleClick=function(e){t._ignoreNextClick&&(t._ignoreNextClick=!1,e.stopPropagation())},t._onResize=function(){t._updateInitialZoomFactor(),t._setupOffsets(),t._update()},t._handlerOnTouchEnd=t._handlerIfEnable(function(e){t._fingers=e.touches.length,t._updateInteraction(e)}),t._handlerOnTouchStart=t._handlerIfEnable(function(e){t._firstMove=!0,t._fingers=e.touches.length,t._detectDoubleTap(e)}),t._handlerOnTouchMove=t._handlerIfEnable(function(e){t._isDoubleTap||(t._collectInertia(e),t._firstMove?(t._updateInteraction(e),t._interaction&&Ht(e),t._startTouches=Kt(e.touches)):(zt(t._interaction)?t._startTouches&&2===t._startTouches.length&&2===e.touches.length&&t._handleZoom(e,Vt(t._startTouches,Kt(e.touches))):qt(t._interaction)&&t._handleDrag(e),t._interaction&&(Ht(e),t._update())),t._firstMove=!1)}),t._handlerWheel=function(e){if(!t.props.shouldInterceptWheel(e)){Ht(e);var n=e.pageX,r=e.pageY,o=e.deltaY,i=e.deltaMode,a=1;(Ft(e)||1===i)&&(a=15);var l={touches:[{pageX:n,pageY:r}]},c=t._getOffsetByFirstTouch(l),s=o*a;t._stopAnimation(),t._scaleTo(t._zoomFactor-s/t.props.wheelScaleFactor,c),t._update(),clearTimeout(t._wheelTimeOut),t._wheelTimeOut=setTimeout(function(){return t._sanitize()},100)}},t._handlers=t.props.isTouch()?[["touchstart",t._handlerOnTouchStart],["touchend",t._handlerOnTouchEnd],["touchmove",t._handlerOnTouchMove]]:[["mousemove",t.simulate(t._handlerOnTouchMove),an],["mouseup",t.simulate(t._handlerOnTouchEnd),an],["mousedown",t.simulate(t._handlerOnTouchStart)],["click",t._handleClick],["wheel",t._handlerWheel]],t}return g(t,e),t.prototype._handleDragStart=function(e){this._ignoreNextClick=!0,this.props.onDragStart(),this._stopAnimation(),this._resetInertia(),this._lastDragPosition=null,this._hasInteraction=!0,this._handleDrag(e)},t.prototype._handleDrag=function(e){var t=this._getOffsetByFirstTouch(e);this._drag(t,this._lastDragPosition),this._offset=this._sanitizeOffset(this._offset),this._lastDragPosition=t},t.prototype._resetInertia=function(){this._velocity=null,this._prevDragMovePoint=null},t.prototype._realizeInertia=function(){var e=this,t=this.props,n=t.inertiaFriction;if(t.inertia&&this._velocity){var r=this._velocity,o=r.x,i=r.y;if(o||i){this._stopAnimation(),this._resetInertia();var a=function(){if(o*=n,i*=n,!o&&!i)return e._stopAnimation();var t=At({},e._offset);if(e._addOffset({x:o,y:i}),e._offset=e._sanitizeOffset(e._offset),nn(t,e._offset))return e._stopAnimation();e._update({isAnimation:!0})};this._animate(a,{duration:9999})}}},t.prototype._collectInertia=function(e){var t=e.touches;if(this.props.inertia){var n=Kt(t)[0],r=this._prevDragMovePoint;r&&(this._velocity=tn(n,r)),this._prevDragMovePoint=n}},t.prototype._handleDragEnd=function(){this.props.onDragEnd(),this._end(),this._realizeInertia()},t.prototype._handleZoomStart=function(){this.props.onZoomStart(),this._stopAnimation(),this._lastScale=1,this._nthZoom=0,this._lastZoomCenter=null,this._hasInteraction=!0},t.prototype._handleZoom=function(e,t){var n=Jt(this._getOffsetTouches(e)),r=t/this._lastScale;this._lastScale=t,this._nthZoom+=1,this._nthZoom>3&&(this._scale(r,n),this._drag(n,this._lastZoomCenter)),this._lastZoomCenter=n},t.prototype._handleZoomEnd=function(){this.props.onZoomEnd(),this._end()},t.prototype._handleDoubleTap=function(e){var t=this;if(!this._hasInteraction){this.props.onDoubleTap(),this._ignoreNextClick=!0;var n=this._zoomFactor+this.props.tapZoomFactor,r=this._zoomFactor,o=function(e){t._scaleTo(r+e*(n-r),i)},i=this._getOffsetByFirstTouch(e);this._isDoubleTap=!0,r>n&&(i=this._getCurrentZoomCenter()),this._animate(o)}},t.prototype._computeInitialOffset=function(){var e=this._getContainerRect(),t=this._getChildSize(),n=t.width,r=t.height,o=-Mt(n*this._getInitialZoomFactor()-e.width)/2,i=-Mt(r*this._getInitialZoomFactor()-e.height)/2;this._initialOffset={x:o,y:i}},t.prototype._resetOffset=function(){this._offset=At({},this._initialOffset)},t.prototype._setupOffsets=function(){this.props.setOffsetsOnce&&this._isOffsetsSet||(this._isOffsetsSet=!0,this._computeInitialOffset(),this._resetOffset())},t.prototype._sanitizeOffset=function(e){var t=this._getContainerRect(),n=this._getChildSize(),r=n.width,o=n.height,i=r*this._getInitialZoomFactor()*this._zoomFactor,a=o*this._getInitialZoomFactor()*this._zoomFactor,l=i-t.width+this.props.horizontalPadding,c=a-t.height+this.props.verticalPadding,s=Rt(l,0),u=Rt(c,0),f=Dt(l,0)-this.props.horizontalPadding,d=Dt(c,0)-this.props.verticalPadding;return{x:Qt(f,s,e.x),y:Qt(d,u,e.y)}},t.prototype.alignCenter=function(e){var t=this,n=At({duration:250,animated:!0},e),r=n.x,o=n.y,i=n.scale,a=n.animated,l=n.duration,c=this._zoomFactor,s=At({},this._offset),u=this._getContainerRect(),f={x:u.width/2,y:u.height/2};if(this._zoomFactor=1,this._offset={x:-(f.x-r),y:-(f.y-o)},this._scaleTo(i,f),this._stopAnimation(),!a)return this._update();var d=this._zoomFactor-c,p={x:this._offset.x-s.x,y:this._offset.y-s.y};this._zoomFactor=c,this._offset=At({},s);var h=function(e){var n=s.x+p.x*e,r=s.y+p.y*e;t._zoomFactor=c+d*e,t._offset=t._sanitizeOffset({x:n,y:r}),t._update()};this._animate(h,{callback:function(){return t._sanitize()},duration:l})},t.prototype.scaleTo=function(e){var t=this,n=At({duration:250,animated:!0},e),r=n.x,o=n.y,i=n.scale,a=n.animated,l=n.duration,c=this._zoomFactor,s=At({},this._offset);if(this._zoomFactor=1,this._offset={x:0,y:0},this._scaleTo(i,{x:r,y:o}),this._stopAnimation(),!a)return this._update();var u=this._zoomFactor-c,f={x:this._offset.x-s.x,y:this._offset.y-s.y};this._zoomFactor=c,this._offset=At({},s);var d=function(e){var n=s.x+f.x*e,r=s.y+f.y*e;t._zoomFactor=c+u*e,t._offset={x:n,y:r},t._update()};this._animate(d,{callback:function(){return t._sanitize()},duration:l})},t.prototype._scaleTo=function(e,t){this._scale(e/this._zoomFactor,t)},t.prototype._scale=function(e,t){e=this._scaleZoomFactor(e),this._addOffset({x:(e-1)*(t.x+this._offset.x),y:(e-1)*(t.y+this._offset.y)}),this.props.onZoomUpdate()},t.prototype._scaleZoomFactor=function(e){var t=this._zoomFactor;return this._zoomFactor*=e,this._zoomFactor=Qt(this.props.minZoom,this.props.maxZoom,this._zoomFactor),this._zoomFactor/t},t.prototype._canDrag=function(){return this.props.draggableUnZoomed||!Gt(this._zoomFactor,1)},t.prototype._drag=function(e,t){if(t){var n=-(e.y-t.y),r=-(e.x-t.x);this.props.lockDragAxis?Mt(r)>Mt(n)?this._addOffset({x:r,y:0}):this._addOffset({y:n,x:0}):this._addOffset({x:r,y:n}),this.props.onDragUpdate()}},t.prototype._addOffset=function(e){var t=this._offset,n=t.x,r=t.y;this._offset={x:n+e.x,y:r+e.y}},t.prototype._sanitize=function(){this._zoomFactor<this.props.zoomOutFactor?this._zoomOutAnimation():this._isInsaneOffset()&&this._sanitizeOffsetAnimation()},t.prototype._isInsaneOffset=function(){var e=this._offset,t=this._sanitizeOffset(e);return t.x!==e.x||t.y!==e.y},t.prototype._sanitizeOffsetAnimation=function(){var e=this,t=this._sanitizeOffset(this._offset),n=At({},this._offset),r=function(r){var o=n.x+r*(t.x-n.x),i=n.y+r*(t.y-n.y);e._offset={x:o,y:i},e._update()};this._animate(r)},t.prototype._zoomOutAnimation=function(){var e=this;if(1!==this._zoomFactor){var t=this._zoomFactor,n=this._getCurrentZoomCenter(),r=function(r){var o=t+r*(1-t);e._scaleTo(o,n)};this._animate(r)}},t.prototype._getInitialZoomFactor=function(){return this._initialZoomFactor},t.prototype._getCurrentZoomCenter=function(){var e=this._offset,t=e.x,n=e.y,r=t-this._initialOffset.x,o=n-this._initialOffset.y;return{x:-1*t-r/(1/this._zoomFactor-1),y:-1*n-o/(1/this._zoomFactor-1)}},t.prototype._getOffsetByFirstTouch=function(e){return this._getOffsetTouches(e)[0]},t.prototype._getOffsetTouches=function(e){var t=this.props,n=t._html,r=t._body,o=this._getContainerRect(),i=o.top,a=o.left,l=n.scrollTop||r.scrollTop,c=n.scrollLeft||r.scrollLeft,s=i+l,u=a+c;return Kt(e.touches).map(function(e){var t=e.x,n=e.y;return{x:t-u,y:n-s}})},t.prototype._animate=function(e,t){var n=this,r=(new Date).getTime(),o=At({timeFn:Yt,callback:function(){},duration:this.props.animationDuration},t),i=o.timeFn,a=o.callback,l=o.duration,c=function(){if(n._inAnimation){var t=(new Date).getTime()-r,o=t/l;t>=l?(e(1),n._stopAnimation(),a(),n._update()):(o=i(o),e(o),n._update({isAnimation:!0}),requestAnimationFrame(c))}};this._inAnimation=!0,requestAnimationFrame(c)},t.prototype._stopAnimation=function(){this._inAnimation=!1},t.prototype._end=function(){this._hasInteraction=!1,this._sanitize(),this._update()},t.prototype._getContainerRect=function(){return this._containerRef.current.getBoundingClientRect()},t.prototype._getChildSize=function(){var e=this._containerRef.current,t=e&&e.firstElementChild;return en(t)},t.prototype._updateInitialZoomFactor=function(){var e=this._getContainerRect(),t=this._getChildSize(),n=e.width/t.width,r=e.height/t.height;this._initialZoomFactor=Dt(n,r)},t.prototype._bindEvents=function(){var e=this,t=this._containerRef.current;window.ResizeObserver?this._containerObserver=new ResizeObserver(this._onResize):window.addEventListener("resize",this._onResize),this._handlers.forEach(function(e){var n=e[0],r=e[1];(e[2]||t).addEventListener(n,r,!0)}),Array.from(t.querySelectorAll("img")).forEach(function(t){return t.addEventListener("load",e._onResize)})},t.prototype._unSubscribe=function(){var e=this._containerRef.current;this._containerObserver&&(this._containerObserver.disconnect(),this._containerObserver=null),window.removeEventListener("resize",this._onResize),this._handlers.forEach(function(t){var n=t[0],r=t[1];(t[2]||e).removeEventListener(n,r,!0)})},t.prototype._update=function(e){var t=this;if(!this._updatePlaned){var n=function(){var e=t._getInitialZoomFactor()*t._zoomFactor,n=-t._offset.x/e,r=-t._offset.y/e;t.props.onUpdate({scale:e,x:n,y:r})};if(e&&e.isAnimation)return n();this._updatePlaned=!0,requestAnimationFrame(function(){t._updatePlaned=!1,n()})}},t.prototype._handlerIfEnable=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.props.enabled&&e.apply(void 0,n)}},t.prototype._setInteraction=function(e,t){var n=this._interaction;n!==e&&(n&&!e&&(zt(n)?this._handleZoomEnd():qt(n)&&this._handleDragEnd()),zt(e)?this._handleZoomStart():qt(e)&&this._handleDragStart(t)),this._interaction=e},t.prototype._updateInteraction=function(e){var t=this._fingers;return 2===t?this._setInteraction("zoom",e):1===t&&this._canDrag()?this._setInteraction("drag",e):void this._setInteraction(null,e)},t.prototype._detectDoubleTap=function(e){var t=(new Date).getTime();this._fingers>1&&(this._lastTouchStart=0),t-this._lastTouchStart<300?(Ht(e),this._handleDoubleTap(e),zt(this._interaction)?this._handleZoomEnd():qt(this._interaction)&&this._handleDragEnd()):this._isDoubleTap=!1,1===this._fingers&&(this._lastTouchStart=t)},t.prototype.simulate=function(e){var t=this;return function(n){var r=n.pageX,o=n.pageY,i=n.type,a="mouseup"===i;"mousedown"===i&&(n.preventDefault(),t._listenMouseMove=!0),t._listenMouseMove&&(n.touches=a?[]:[{pageX:r,pageY:o}],e(n)),a&&(t._listenMouseMove=!1)}},t.prototype.componentDidMount=function(){this._bindEvents(),this._update()},t.prototype.componentWillUnmount=function(){this._stopAnimation(),this._unSubscribe()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.containerProps,r=he.Children.only(t),o=n||{};return he.createElement("div",At({},o,{ref:this._containerRef,className:jt("kvfysmfp",o.className)}),he.cloneElement(r,{className:jt("ufhsfnkm",r.props.className)}))},t.defaultProps={animationDuration:250,draggableUnZoomed:!0,enabled:!0,inertia:!0,inertiaFriction:.96,horizontalPadding:0,isTouch:It,lockDragAxis:!1,maxZoom:5,minZoom:.5,onDoubleTap:rn,onDragEnd:rn,onDragStart:rn,onDragUpdate:rn,onZoomEnd:rn,onZoomStart:rn,onZoomUpdate:rn,setOffsetsOnce:!1,shouldInterceptWheel:$t,tapZoomFactor:1,verticalPadding:0,wheelScaleFactor:1500,zoomOutFactor:1.3,_html:ln,_body:cn},t}(he.Component),un=sn,fn=n(290),dn=n.n(fn),pn=function(e){var t=e.imageUrl,n=e.onClickImage,r=e.onZoomedIn,o=e.zoomableMode,i=void 0!==o&&o,a=Object(he.useRef)(null),l=Object(he.useRef)(null),c=Object(he.useState)(!1),s=y(c,2),u=s[0],f=s[1],d=Object(he.useCallback)(function(e){var t=e.x,n=e.y,o=e.scale,i=a.current;if(r&&r(Math.abs(1-o)<.01?!1:!0),i){var l=Nt({scale:o,x:t,y:n});i.style.setProperty("transform",l)}},[]),p=function(){l.current&&l.current._zoomFactor>1&&(l.current.scaleTo({scale:1,x:0,y:0}),setTimeout(function(){l.current._onResize()},300),setTimeout(function(){l.current._onResize()},500))};return i?u?me.a.createElement("div",{className:dn.a.overlay,onClick:function(){return f(!1)}},me.a.createElement(un,{onDoubleTap:p,onUpdate:d,ref:l},me.a.createElement("img",{className:dn.a.image,onClick:function(e){e.stopPropagation()},ref:a,src:t})),me.a.createElement("button",{className:dn.a.close,onClick:function(){return f(!1)}})):me.a.createElement("img",{className:dn.a.image,onClick:function(){return f(!0)},src:t}):me.a.createElement(un,{draggableUnZoomed:!1,onDoubleTap:p,onUpdate:d,ref:l},me.a.createElement("img",{className:dn.a.image,onClick:n,ref:a,src:t}))},hn=n(291),mn=n.n(hn),vn=function(e){var t=e.position,n=e.slotId,r=e.slotType,o=e.size,i=e.variant,a=Object(he.useRef)(o);return Object(he.useEffect)(function(){return $e(n,t,i),function(){et(n,t,i)}},[]),Object(he.useEffect)(function(){a.current!==o&&tt(n,t,i),a.current=o},[o]),me.a.createElement("div",{className:ke()(mn.a[r],o&&mn.a[o],mn.a.adSlot)},me.a.createElement("div",{className:mn.a.inner,id:n}))},gn=n(292),yn=n.n(gn),bn=function(){try{return Boolean("objectFit"in document.documentElement.style)}catch(e){}return!1}(),wn=function(e){var t=e.galleryItem,n=e.isActive,r=e.isNextSlide,o=e.mobileMode,i=e.onToggleControls,a=Object(he.useState)(!1),l=x(a,2),c=l[0],s=l[1],u=Object(le.getPageCriteria)(),f=u.isTablet,d=o||f;if(Object(he.useEffect)(function(){(n||r)&&s(!0)},[n,r]),"videoimage"===t.type)return me.a.createElement("div",{className:yn.a.slide},me.a.createElement(Tt,{galleryItem:t,isActive:n,mobileMode:o}));if("image"===t.type){var p=t.element.dataset.gallerySrc||t.element.dataset.src||t.element.src,h=d&&n?me.a.createElement(pn,{imageUrl:p,onClickImage:i}):me.a.createElement("img",{className:ke()(yn.a.image,bn&&!o&&yn.a.fitImage),onClick:i,src:p});return me.a.createElement("div",{className:yn.a.slide},c?h:me.a.createElement(_t,null))}return"interstitial"===t.type?me.a.createElement("div",{className:yn.a.slide},me.a.createElement(vn,{position:"mobile_gallery",slotId:t.positionId,slotType:"mpu",variant:t.variant})):null},En=n(293),xn=n.n(En),kn=function(e){var t=e.image,n=e.ratio,r={paddingBottom:"".concat(100*n,"%")};return t&&(r.backgroundImage="url('".concat(t,"')")),me.a.createElement("div",{className:xn.a.imageBox,style:r})},Sn=n(294),Tn=n.n(Sn),On=function(e){var t=e.galleries,n=e.title,r=void 0===n?null:n,o=e.half,i=void 0!==o&&o,a=e.mobileMode,l=void 0!==a&&a;return me.a.createElement("div",{className:ke()(Tn.a.container,i&&Tn.a.half,l&&Tn.a.mobileMode)},r&&me.a.createElement("div",{className:Tn.a.heading},r),me.a.createElement("div",{className:Tn.a.items,"data-track-module":"gallery-recommendations^gallery"},t.map(function(e){var t=e.images,n=void 0===t?[]:t,r=e.imageCount,o=e.headline,i=e.articleId,a=e.articleUrl;return me.a.createElement("a",{className:Tn.a.item,href:"".concat(a,"#gallery"),key:i},me.a.createElement("div",null,me.a.createElement(kn,{image:n[0].hostUrl,ratio:.60177})),me.a.createElement("div",{className:Tn.a.imageStrip},me.a.createElement("div",{className:Tn.a.itemImage},me.a.createElement(kn,{image:n[1].hostUrl,ratio:.73333})),me.a.createElement("div",{className:Tn.a.itemImage},me.a.createElement(kn,{image:n[2].hostUrl,ratio:.73333})),me.a.createElement("div",{className:Tn.a.itemImageCount},r?"+".concat(r):"...")),me.a.createElement("div",{className:Tn.a.headline},o))})))},Cn=n(295),_n=n.n(Cn),Pn=function(e){var t=e.galleries,n=e.title;return me.a.createElement("div",{className:_n.a.container},me.a.createElement("div",{className:_n.a.heading},n),me.a.createElement("div",{className:_n.a.items,"data-track-module":"gallery-recommendations^gallery"},t.map(function(e){var t=e.images,n=void 0===t?[]:t,r=e.headline,o=e.articleId,i=e.articleUrl;return me.a.createElement("a",{className:_n.a.item,href:"".concat(i,"#gallery"),key:o},me.a.createElement("div",{className:_n.a.itemImage,style:{backgroundImage:"url(".concat(n[0].hostUrl,")")}}),me.a.createElement("div",{className:_n.a.headline},r))})))},An=n(296),Ln=n.n(An),In=function(e){var t=e.mode,n=e.isActive,r=e.onGetNextGallery,o=void 0===r?null:r,i=e.onGoToNextGallery,a=void 0===i?null:i,l=Object(he.useState)(!0),c=_(l,2),s=c[0],u=c[1],f=Object(he.useState)(!1),d=_(f,2),p=d[0],h=d[1],m=Object(he.useState)(null),v=_(m,2),g=v[0],y=v[1],b=Object(he.useState)(null),w=_(b,2),E=w[0],x=w[1],k=Object(he.useState)(null),S=_(k,2),T=S[0],O=S[1],P=Object(le.getPageCriteria)().channel||"news",A=Object(le.getPageMetadata)(),L=A.topics,I=L&&L[0],N=function(){var e=C(regeneratorRuntime.mark(function e(){var t,n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.t0=Promise,e.next=5,Ne(P);case 5:if(e.t1=e.sent,!I){e.next=12;break}return e.next=9,Ne(P,I);case 9:e.t2=e.sent,e.next=13;break;case 12:e.t2=null;case 13:return e.t3=e.t2,e.t4=[e.t1,e.t3],e.next=17,e.t0.all.call(e.t0,e.t4);case 17:if(t=e.sent,n=_(t,2),r=n[0],o=n[1],"news"===P||r&&!(r.length<4)){e.next=28;break}return e.next=24,Ne("news");case 24:i=e.sent,x((r||[]).concat(i||[])),e.next=29;break;case 28:x(r);case 29:O(o),e.next=36;break;case 32:e.prev=32,e.t5=e.catch(1),ce.logger.error("Error fetching gallery end slide results",e.t5),y(e.t5);case 36:u(!1),h(!1);case 38:case"end":return e.stop()}},e,null,[[1,32]])}));return function(){return e.apply(this,arguments)}}();Object(he.useEffect)(function(){n&&s&&!p&&!g&&N().catch()},[n,p,s,g]);var j=T&&T.length>=4,M=j&&T.slice(0,4),R=M&&M.map(function(e){return e.articleId}),D=j?E&&E.filter(function(e){return!R||!R.includes(e.articleId)}):E,B=D&&D.length>=8?8:4,U=j?4:B,q=D&&D.slice(0,U),z=M&&M[0]||q&&q[0];if(Object(he.useEffect)(function(){o&&z&&o(z)},[z]),s)return me.a.createElement("div",{className:ke()(Ln.a.container,Ln.a.loading)},s&&me.a.createElement(_t,null));if("horizontal"===t){var F=!j&&q&&q.length>=4&&q.slice(0,4),H=Math.floor(2),W=j?q&&q.slice(0,H):q&&q.slice(4,4+H);return me.a.createElement("div",{className:ke()(Ln.a.container,Ln.a.horizontal)},j&&me.a.createElement(On,{galleries:M,title:"More ".concat(I," galleries")}),F&&F.length>0&&me.a.createElement(On,{galleries:F,title:"Most popular galleries"}),me.a.createElement("div",{className:ke()(Ln.a.galleryNextWrapper,(!W||!W.length)&&Ln.a.noSecondResults)},W&&W.length>0&&me.a.createElement(On,{galleries:W,half:!0}),a&&z&&me.a.createElement("div",{className:Ln.a.viewNextWrapper,onClick:a},me.a.createElement("div",{className:Ln.a.viewNextButton},"View next gallery"),me.a.createElement("div",{className:Ln.a.viewNextPreview},me.a.createElement("div",{className:Ln.a.viewNextThumb},me.a.createElement(kn,{image:z.images[0].hostUrl,ratio:.7462})),me.a.createElement("div",{className:Ln.a.viewNextHeadline},z.headline)))))}return"smallHorizontal"===t?me.a.createElement("div",{className:ke()(Ln.a.container,Ln.a.smallHorizontal)},j&&M&&M.length>=2&&me.a.createElement(On,{galleries:M.slice(0,2),mobileMode:!0,title:"More ".concat(I," galleries")}),!j&&q&&q.length>=2&&me.a.createElement(On,{galleries:q.slice(0,2),mobileMode:!0,title:"Most popular galleries"}),a&&z&&me.a.createElement("div",{className:Ln.a.viewNextButton,onClick:a},"View next gallery")):"vertical"===t?me.a.createElement("div",{className:ke()(Ln.a.container,Ln.a.vertical)},j&&me.a.createElement(Pn,{galleries:M,title:"More ".concat(I," galleries")}),q&&q.length>=U&&me.a.createElement(Pn,{galleries:q,title:"More galleries"}),a&&z&&me.a.createElement("div",{className:Ln.a.viewNextWrapper,onClick:a},me.a.createElement("div",{className:Ln.a.viewNextButton},"View next gallery"),me.a.createElement("div",{className:Ln.a.viewNextPreview},me.a.createElement("div",{className:Ln.a.viewNextThumb},me.a.createElement(kn,{image:z.images[0].hostUrl,ratio:.7462})),me.a.createElement("div",{className:Ln.a.viewNextHeadline},z.headline)))):null},Nn=n(297),jn=n.n(Nn),Mn=function(e){var t=e.isActive,n=e.mobileMode,r=e.onGetNextGallery,o=e.onGoToNextGallery,i=e.articleTitle;return me.a.createElement("div",{className:ke()(jn.a.slide,n&&jn.a.mobileMode)},me.a.createElement("div",{className:jn.a.contentWrapper},!n&&me.a.createElement("div",{className:jn.a.galleryInfo},me.a.createElement("div",{className:jn.a.shareBar},me.a.createElement("div",{className:jn.a.shareBarLabel},"Share this gallery"),me.a.createElement("div",{className:jn.a.shareButtons},me.a.createElement("button",{"aria-label":"Share on Facebook",className:jn.a.facebookButton,onClick:We}),me.a.createElement("button",{"aria-label":"Share on Twitter",className:jn.a.twitterButton,onClick:Ve}),me.a.createElement("button",{"aria-label":"Share on Pinterest",className:jn.a.pinterestButton,onClick:Ge}),me.a.createElement("button",{"aria-label":"Share on Email",className:jn.a.emailButton,onClick:function(){return Ye()}}))),me.a.createElement("div",{className:jn.a.articleTitle},i)),me.a.createElement(In,{isActive:t,mode:n?"smallHorizontal":"horizontal",onGetNextGallery:r,onGoToNextGallery:o})))},Rn=n(298),Dn=n.n(Rn),Bn=function(e){var t=e.galleryItems,n=e.currentIndex,r=e.mobileMode,o=e.onToggleControls,i=e.onGetNextGallery,a=e.onGoToNextGallery,l=e.onGoToPreviousGallery,c=e.onNext,s=e.onPrevious,u=e.articleTitle,f=Object(he.useRef)(null),d=Object(he.useCallback)(function(e){var t=e.deltaX,r=f.current,o="calc(-".concat(100*n,"% + ").concat(-t,"px)");r.style.transition="none",r.style.left=o},[n]),p=Object(he.useCallback)(function(e){var r=e.absX,o=e.velocity,i=e.dir,u=f.current;if(u.style.transition="",!["Right","Left"].includes(i)||r<150&&o<1||n<=0&&"Right"===i&&!l||n>=t.length&&"Left"===i&&!a)return void(u.style.left="-".concat(100*n,"%"));"Right"===i?s():"Left"===i&&c()},[n,t,a,l]),h=v({onSwiped:p,onSwiping:d,preventDefaultTouchmoveEvent:!0});return Object(he.useEffect)(function(){f.current.style.left="-".concat(100*n,"%")},[n]),me.a.createElement("div",I({className:Dn.a.scrollWrapper},h),me.a.createElement("div",{className:Dn.a.scrollingElement,ref:f},t.map(function(e){return me.a.createElement(wn,{galleryItem:e,isActive:n===e.index,isNextSlide:n+1===e.index,key:e.type+e.index,mobileMode:r,onToggleControls:o})}),me.a.createElement(Mn,{articleTitle:u,isActive:n>=t.length-1,mobileMode:r,onGetNextGallery:i,onGoToNextGallery:a})))},Un=n(299),qn=n.n(Un),zn=function(e){if(!ot("mobile_gallery")||it())return e;for(var t=e.slice(),n=0;n<e.length/2-1;n++){var r=n+2*(n+1);if(t.length<r)return t;var o="mobile_gallery_".concat(n+1);t.splice(r,0,{positionId:o,type:"interstitial",variant:n+1})}var i=0,a=!0,l=!1,c=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var f=s.value;f.index=i++,"interstitial"===f.type&&(f.originalIndex=f.index)}}catch(e){l=!0,c=e}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}return t},Fn=document.querySelector('meta[name="description"]'),Hn=function(e){var t=e.galleryItems,n=e.onClose,r=e.startIndex,o=e.billboardSize,i=e.skySize,a=e.mobileSize,l=void 0!==a&&a,c=e.allowVideos,s=void 0===c||c,u=e.isMobilePage,f=void 0!==u&&u,d=e.shortForBanners,p=void 0!==d&&d,h=l||f,m=Object(he.useState)(r||0),v=U(m,2),g=v[0],y=v[1],b=Object(he.useState)(!0),w=U(b,2),E=w[0],x=w[1],k=Object(he.useState)({articleId:Object(le.getPageMetadata)().articleId,articleTitle:Object(le.getPageMetadata)().articleTitle,closeUrl:null,description:Fn&&Fn.content,galleryItems:t}),S=U(k,2),T=S[0],O=S[1],C=Object(he.useState)(null),_=U(C,2),P=_[0],A=_[1],L=Object(he.useState)([]),I=U(L,2),N=I[0],R=I[1],D=Object(he.useState)(!1),B=U(D,2),q=B[0],z=B[1],F=h?zn(T.galleryItems):T.galleryItems;Object(he.useEffect)(function(){y(r||0)},[h]);var H=function(e){ze(e.closeUrl),Fe(e.description),He(e.articleTitle)},W=function(){P&&P.galleryItems&&(Ae(P.articleId),H(P),R([].concat(M(N),[T])),O(P),A(null),y(0),Je(P.galleryItems[0]))},V=function(){if(N.length){var e=N[N.length-1];Le(T.articleId),H(e),A(T),O(e),R(N.slice(0,N.length-1));var t=h?zn(e.galleryItems).length-1:e.galleryItems.length-1;y(t),Je(e.galleryItems[t])}},G=function(){q||y(function(e){return e<F.length?(Xe(e+1>=F.length?{index:e+1,isNext:N.length>0,originalIndex:e+1,type:"shareslide"}:F[e+1]),e+1):(P&&W(),e)})},Y=function(){q||y(function(e){return e>0?(Xe(F[e-1]),e-1):(N.length>0&&V(),e)})},Z=function(){x(function(e){return!e})},K=function(){var e=j(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.articleUrl,r=t.articleId,o=t.headline,e.prev=1,e.next=4,Ce(n);case 4:i=e.sent,a=pe({allowVideos:s,articleId:r,dom:i}),l=i.querySelector('meta[name="description"]'),a&&a.length&&A({articleId:r,articleTitle:o,closeUrl:n,description:l&&l.content,galleryItems:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ce.logger.error("Error prefetching next gallery",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),X=function(){if(!T.closeUrl)return void n();z(!0),window.addEventListener("popstate",function(){z(!1)}),window.location.href="".concat(T.closeUrl,"?ico=nextgallery-close")},J=F&&F[g],Q=it();return me.a.createElement("div",{className:ke()(qn.a.overlay,Q&&qn.a.adFree,q&&qn.a.disabled,h&&qn.a.mobileMode,o&&qn.a["".concat(o,"Billboard")],i&&qn.a["".concat(i,"Sky")])},h&&!o&&!p&&!Q&&me.a.createElement("div",{className:qn.a.bannerWrapper},me.a.createElement(vn,{position:"sticky_banner_gallery_top",slotId:"sticky_banner_gallery_top",slotType:"staticMobileBanner"})),me.a.createElement("div",{className:qn.a.galleryWrapper,"data-swipe-article":!1},me.a.createElement(Bn,{articleTitle:T.articleTitle,currentIndex:g,galleryItems:F,key:T.articleId,mobileMode:h,onGetNextGallery:K,onGoToNextGallery:P?W:null,onGoToPreviousGallery:N.length>0?V:null,onNext:G,onPrevious:Y,onToggleControls:Z}),me.a.createElement(ct,{articleTitle:T.articleTitle,caption:J&&"image"===J.type&&J.element.alt,currentIndex:g,disabled:q,hasNextGallery:Boolean(P),hasPreviousGallery:N.length>0,itemCount:F.length+1,mobileMode:h,onClose:X,onNext:G,onPrevious:Y,showControls:E})),i&&!Q&&me.a.createElement(vn,{position:"sky_left_gallery",size:i,slotId:"sky_left_gallery",slotType:"skyScraperLeft"}),i&&!Q&&me.a.createElement(vn,{position:"sky_right_gallery",size:i,slotId:"sky_right_gallery",slotType:"skyScraperRight"}),o&&!Q&&me.a.createElement(vn,{position:"gallery_billboard",size:o,slotId:"gallery_billboard",slotType:"billboard"}),h&&!o&&!p&&!Q&&me.a.createElement("div",{className:qn.a.bannerWrapper},me.a.createElement(vn,{position:"sticky_banner_gallery_bottom",slotId:"sticky_banner_gallery_bottom",slotType:"staticMobileBanner"})))},Wn=function(e){var t=e.width,n=e.height,r=null,o=null,i=!1,a=!1;return t>=1264&&n>=600&&(o="small"),t>=1600&&n>=600&&(o="big"),t>=768&&n>=700&&(r="small"),t>=1024&&n>=950&&(r="big"),t<768&&(i=!0),n<500&&(a=!0),t>=1500&&n<700&&(r=null),{billboardSize:r,mobileSize:i,shortForBanners:a,skySize:o}},Vn=Ee()(Wn)(Hn),Gn=n(300),Yn=n.n(Gn),Zn=function(e){var t=e.galleryItem,n=e.totalCount,r=Object(he.useState)(!1),o=H(r,2),i=o[0],a=o[1],l=Object(he.useState)(!1),c=H(l,2),s=c[0],u=c[1],f=Object(he.useState)(0),d=H(f,2),p=d[0],h=d[1],m=Object(he.useRef)(null);Object(he.useEffect)(function(){s&&(t&&t.index>0&&Xe(t),a(!0),h(function(e){return e+1}))},[s]),Object(he.useEffect)(function(){p>1&&t&&0===t.index&&Xe(t)},[p]),Object(he.useEffect)(function(){if(m.current){var e=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;u(a.isIntersecting?!0:!1)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}},t=new IntersectionObserver(e,{rootMargin:"200px"});return t.observe(m.current),function(){t.disconnect()}}},[]);var v=t&&"image"===t.type&&t.element.alt,g=window.innerWidth>window.innerHeight,y=g?420:window.innerWidth,b="".concat(se(t.element,y-20),"px");return me.a.createElement("div",{className:ke()(Yn.a.slide),ref:m},"videoimage"===t.type&&me.a.createElement(Tt,{galleryItem:t,isActive:s}),"image"===t.type&&me.a.createElement("div",{className:Yn.a.placeholder,style:{height:b}},i?me.a.createElement(pn,{imageUrl:t.element.dataset.gallerySrc||t.element.dataset.src||t.element.src,zoomableMode:!0}):me.a.createElement(_t,null)),"videoimage"!==t.type&&me.a.createElement("div",{className:Yn.a.info},v&&me.a.createElement("div",{className:Yn.a.caption},v),me.a.createElement("div",{className:Yn.a.actionBar},me.a.createElement("div",{className:Yn.a.counter},t.index+1,"/",n),me.a.createElement("div",{className:Yn.a.shareButtons},me.a.createElement("button",{"aria-label":"Share on Facebook",className:Yn.a.facebookButton,onClick:We}),me.a.createElement("button",{"aria-label":"Share on Twitter",className:Yn.a.twitterButton,onClick:Ve}),me.a.createElement("button",{"aria-label":"Share on Pinterest",className:Yn.a.pinterestButton,onClick:Ge}),me.a.createElement("button",{"aria-label":"Share on Email",className:Yn.a.emailButton,onClick:function(){return Ye()}})))))},Kn=n(301),Xn=n.n(Kn),Jn=function(e,t){if(!ot("mobile_gallery")||it())return e;for(var n=e.slice(),r=0;r<e.length/t-1;r++){var o=r+(r+1)*t;if(n.length<o)return n;var i="mobile_gallery_".concat(r+1),a=me.a.createElement("div",{className:Xn.a.mpuWrapper,key:i},me.a.createElement(vn,{position:"mobile_gallery",slotId:i,slotType:"mpu",variant:r+1}));n.splice(o,0,a)}return n},Qn=document.querySelector('meta[name="description"]'),$n=function(e){var t=e.galleryItems,n=e.onClose,r=e.allowVideos,o=void 0===r||r,i=Object(he.useState)({articleId:Object(le.getPageMetadata)().articleId,articleTitle:Object(le.getPageMetadata)().articleTitle,closeUrl:null,description:Qn&&Qn.content,galleryItems:t}),a=$(i,2),l=a[0],c=a[1],s=Object(he.useState)(null),u=$(s,2),f=u[0],d=u[1],p=Object(he.useState)([]),h=$(p,2),m=h[0],v=h[1],g=Object(he.useState)(!1),y=$(g,2),b=y[0],w=y[1],E=function(){var e=Q(regeneratorRuntime.mark(function e(t){var n,r,i,a,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.articleUrl,r=t.articleId,i=t.headline,e.prev=1,e.next=4,Ce(n);case 4:a=e.sent,l=pe({allowVideos:o,articleId:r,dom:a}),c=a.querySelector('meta[name="description"]'),l&&l.length&&d({articleId:r,articleTitle:i,closeUrl:n,description:c&&c.content,galleryItems:l}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ce.logger.error("Error prefetching next gallery",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),x=function(e){ze(e.closeUrl),Fe(e.description),He(e.articleTitle)},k=function(){f&&f.galleryItems&&(Ae(f.articleId),x(f),v([].concat(Y(m),[l])),c(f),d(null),Je(f.galleryItems[0]))},S=function(){if(m.length){var e=m[m.length-1];Le(l.articleId),x(e),d(l),c(e),v(m.slice(0,m.length-1)),Je(e.galleryItems[0])}},T=function(){if(!l.closeUrl)return void n();w(!0),window.addEventListener("popstate",function(){w(!1)}),window.location.href="".concat(l.closeUrl,"?ico=nextgallery-close")},O=l.galleryItems.map(function(e){return me.a.createElement(Zn,{galleryItem:e,key:e.index,totalCount:l.galleryItems.length})}),C=Jn(O,2),_=it();return me.a.createElement("div",{className:ke()(Xn.a.overlay,b&&Xn.a.disabled),"data-swipe-article":"false"},me.a.createElement("div",{className:Xn.a.controls},me.a.createElement("button",{className:Xn.a.close,onClick:T},"Close"),m.length>0&&me.a.createElement("button",{className:Xn.a.previousGalleryButton,onClick:S},"Previous gallery"),me.a.createElement("button",{className:Xn.a.nextGalleryButton,disabled:!f,onClick:f&&k},"Next gallery")),me.a.createElement("div",{className:Xn.a.scroller,key:l.articleId},me.a.createElement("div",{className:Xn.a.headingWrapper},me.a.createElement("div",{className:Xn.a.heading},l.articleTitle),m.length>0&&me.a.createElement("a",{className:Xn.a.readMoreLink,onClick:T},"Read more...")),C,me.a.createElement(In,{isActive:!0,mode:"vertical",onGetNextGallery:E,onGoToNextGallery:k})),!_&&me.a.createElement("div",{className:Xn.a.bannerWrapper},me.a.createElement(vn,{position:"sticky_banner_gallery_bottom",slotId:"sticky_banner_gallery_bottom",slotType:"staticMobileBanner"})))},er=[],tr=function(e){er.push(e)},nr=function(){try{if(er&&er.length){for(var e=0,t=er;e<t.length;e++){(0,t[e])()}er=[]}}catch(e){}},rr=null,or=function(){rr&&(Object(ve.unmountComponentAtNode)(rr),rr.remove(),rr=null,document.body.classList.remove("enhanced-gallery-open"),Qe(),nt())},ir=function(e,t){return e.slice(t).concat(e.slice(0,t)).map(function(e,t){return oe({},e,{index:t})})},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowVideos,n=void 0===t||t,r=e.startIndex,o=void 0===r?null:r;if(!rr&&!window.isInlinePaywallMounted){be(),nr(),rt(),rr=document.createElement("div"),document.body.appendChild(rr);var i=pe({allowVideos:n});o&&(i=ir(i,o));var a=Object(le.getPageMetadata)(),l=a.renderPlatform,c=Object(le.getPageCriteria)(),s=c.enhancedGalleryMode,u="mobile"===l?"vertical":"horizontal",f=window.location.search&&window.location.search.match(/debugEnhancedGalleryMobileMode=horizontal/),d=window.location.search&&window.location.search.match(/debugEnhancedGalleryMobileMode=vertical/);!f&&"horizontal"!==s||d||(u="horizontal"),Ke(u),"horizontal"===u?Object(ve.render)(me.a.createElement(Vn,{allowVideos:n,galleryItems:i,isMobilePage:"mobile"===l,onClose:or}),rr):"vertical"===u&&Object(ve.render)(me.a.createElement($n,{allowVideos:n,galleryItems:i,onClose:or}),rr),document.body.classList.add("enhanced-gallery-open"),Je(i[0])}},lr=n(302),cr=n.n(lr),sr=function(e){var t=document.createElement("div");t.className="image-wrap",e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),t.appendChild(e)},ur=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowVideos,r=void 0===n||n,o=t.itemCount,i=void 0===o?null:o;if("image"===e.type){var a=e.element,l=Object(le.getPageMetadata)(),c=l.renderPlatform,s=0===e.index&&"mobile"===c;if(!a.dataset.galleryHandlerAttached){s||a.closest(".image-wrap")||sr(a);var u=s?a.parentNode:a.closest(".image-wrap");u.style.cursor="pointer",u.addEventListener("click",function(){try{window.DM.molFeLoadingSpinner.showSpinner()}catch(e){ce.logger.error("Error showing mol-fe-loading-spinner",e)}setTimeout(function(){ar({allowVideos:r,startIndex:e.index});try{window.DM.molFeLoadingSpinner.hideSpinner()}catch(e){ce.logger.error("Error hiding mol-fe-loading-spinner",e)}},0)});var f=document.createElement("button");f.classList.add(cr.a.openGalleryButton),f.innerHTML='\n    <div class="'.concat(cr.a.imageCount,'">').concat(i?"+".concat(i):"",'</div>\n    <div class="').concat(cr.a.viewGalleryText,'">View gallery</div>\n  '),(se(a)<445||a.clientWidth<445)&&f.classList.add(cr.a.small),u.appendChild(f),a.dataset.galleryHandlerAttached=!0}}};n.d(t,"init",function(){return fr}),n.d(t,"openGallery",function(){return ar}),n.d(t,"closeGallery",function(){return or}),n.d(t,"addBeforeOpenHandler",function(){return tr});var fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowVideos,n=void 0===t||t;try{var r=Object(le.getPageCriteria)(),o=r.articleType,i=r.pageType,a=r.enhancedGallery,l=Object(le.getPageMetadata)(),c=l.renderPlatform,s=window.location.search&&window.location.search.match(/debugEnhancedGallery=true/);if(!a&&!s)return;if("article"!==i||"feature"===o&&"desktop"===c)return;de();var u=pe();if(!u||!u.length)return;var f=u.length;u.forEach(function(e){return ur(e,{allowVideos:n,itemCount:f})});"#gallery"===location.hash&&ar({allowVideos:n})}catch(e){ce.logger.error("Error initialising enhanced image gallery",e)}};fr()},function(e,t,n){(function(e){!function(e,r){r(t,n(2))}(0,function(t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){function r(t){var n=c,r=s;return c=s=void 0,g=t,f=e.apply(r,n)}function o(e){var n=e-m;return void 0===m||n>=t||n<0||b&&e-g>=u}function i(){var e=A();if(o(e))return a(e);h=setTimeout(i,function(e){var n=t-(e-m);return b?P(n,u-(e-g)):n}(e))}function a(e){return h=void 0,w&&c?r(e):(c=s=void 0,f)}function l(){var e=A(),n=o(e);if(c=arguments,s=this,m=e,n){if(void 0===h)return function(e){return g=e,h=setTimeout(i,t),y?r(e):f}(m);if(b)return h=setTimeout(i,t),r(m)}return void 0===h&&(h=setTimeout(i,t)),f}var c,s,u,f,h,m,g=0,y=!1,b=!1,w=!0;if("function"!=typeof e)throw new TypeError(v);return t=p(t)||0,d(n)&&(y=!!n.leading,u=(b="maxWait"in n)?_(p(n.maxWait)||0,t):u,w="trailing"in n?!!n.trailing:w),l.cancel=function(){void 0!==h&&clearTimeout(h),g=0,c=m=s=h=void 0},l.flush=function(){return void 0===h?f:a(A())},l}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&C.call(e)==y}(e))return g;if(d(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=d(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(b,"");var n=E.test(e);return n||x.test(e)?k(e.slice(2),n?2:8):w.test(e)?g:+e}var h="default"in n?n.default:n,m="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},v="Expected a function",g=NaN,y="[object Symbol]",b=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,x=/^0o[0-7]+$/i,k=parseInt,S="object"==typeof m&&m&&m.Object===Object&&m,T="object"==typeof self&&self&&self.Object===Object&&self,O=S||T||Function("return this")(),C=Object.prototype.toString,_=Math.max,P=Math.min,A=function(){return O.Date.now()},L=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(v);return d(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),f(e,t,{leading:r,maxWait:t,trailing:o})},I=function(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1},N=h.createContext({fallbackWidth:null,fallbackHeight:null,forceFallback:!1,throttle:200});N.displayName="SizesContext";var j=function(e){return e.width<480},M=function(e){return e.width>=1024},R=function(e){return!M(e)},D=Object.freeze({isMobile:j,isTablet:function(e){var t=e.width;return t>=480&&t<1024},isDesktop:M,isGtMobile:function(e){return!j(e)},isGtTablet:function(e){return M(e)},isStTablet:function(e){return j(e)},isStDesktop:R,isTabletAndGreater:function(e){return!j(e)},isTabletAndSmaller:function(e){return!R(e)}}),B=function(e){return function(e){var t=e.fallbackWidth,n=void 0===t?null:t,r=e.fallbackHeight,o=void 0===r?null:r,i=e.forceFallback,a=void 0!==i&&i,l="undefined"!=typeof window;return{width:l&&!a?window.innerWidth:n,height:l&&!a?window.innerHeight:o,canUseDOM:l}}({fallbackHeight:e.fallbackHeight,fallbackWidth:e.fallbackWidth,forceFallback:e.forceFallback})},U=Object.assign(function(){for(var e=arguments.length,t=new Array(e),f=0;f<e;f++)t[f]=arguments[f];return function(e){var f,d=function(e,n){return t.map(function(t){return t(e,n)}).reduce(function(e,t){return a({},e,t)},{})},p=function(t){function a(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=this,r=l(a).call(this,e),t=!r||"object"!=typeof r&&"function"!=typeof r?u(n):r,o(u(u(t)),"dispatchSizes",function(){var e=t.getPropsToPass();I(e,t.state.propsToPass)&&t.setState({propsToPass:e})}),o(u(u(t)),"throttledDispatchSizes",L(t.dispatchSizes,t.props.throttle)),t.getPropsToPass=function(){return d(B(t.props),t.props)},t.state={propsToPass:t.getPropsToPass()},t}var f,p,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,n.PureComponent),f=a,m=[{key:"getDerivedStateFromProps",value:function(e,t){var n=d(B(e),e);return I(n,t.propsToPass)?{propsToPass:n}:null}}],(p=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.throttledDispatchSizes),this.dispatchSizes()}},{key:"componentWillUnmount",value:function(){this.throttledDispatchSizes.cancel(),window.removeEventListener("resize",this.throttledDispatchSizes)}},{key:"render",value:function(){var t=this.props,n=(t.fallbackHeight,t.fallbackWidth,t.forceFallback,s(t,["fallbackHeight","fallbackWidth","forceFallback"]));return h.createElement(e,i({},n,this.state.propsToPass))}}])&&r(f.prototype,p),m&&r(f,m),a}();return o(p,"displayName","withSizes(".concat((f=e).displayName||f.name||("string"==typeof f&&f.length>0?f:"Unknown"),")")),function(e){return h.createElement(N.Consumer,null,function(t){return h.createElement(p,i({},t,e))})}}},a({},D)),q=function(e){var t=e.children,n=e.render,r=s(e,["children","render"]),o=t||n;return o?o(r):null};t.withSizes=U,t.SizesProvider=function(e){var t=e.config,n=e.children;return h.createElement(N.Provider,{value:t},n)},t.createSizedComponent=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U(t)(q)},t.presets=D,t.default=U,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(26))},function(e,t,n){"use strict";function r(e){var t=new a(e),n=i(a.prototype.request,t);return o.extend(n,a.prototype,t),o.extend(n,t),n}var o=n(15),i=n(108),a=n(272),l=n(114),c=n(111),s=r(c);s.Axios=a,s.create=function(e){return r(l(s.defaults,e))},s.Cancel=n(115),s.CancelToken=n(285),s.isCancel=n(110),s.all=function(e){return Promise.all(e)},s.spread=n(286),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var o=n(15),i=n(109),a=n(273),l=n(274),c=n(114);r.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=c(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[l,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.prototype.getUri=function(e){return e=c(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(c(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(c(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";function r(){this.handlers=[]}var o=n(15);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var o=n(15),i=n(275),a=n(110),l=n(111);e.exports=function(e){return r(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||l.adapter)(e).then(function(t){return r(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(r(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(113);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(15);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,a){var l=[];l.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),r.isString(o)&&l.push("path="+o),r.isString(i)&&l.push("domain="+i),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";var r=n(281),o=n(282);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(15),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(15);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}var o=n(115);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){e.exports={closeButton:"closeButton-3n9vO",nextButton:"nextButton-3SUcS",previousButton:"previousButton-1MRE_",topBar:"topBar-2p9H0",bottomBar:"bottomBar-_Yoo4",counter:"counter-1RYOX",paginationButtons:"paginationButtons-s9kKl",articleTitle:"articleTitle-1sBfH",caption:"caption-3xfIL",hasCaption:"hasCaption-12UB7",mobileMode:"mobileMode-7bP8M"}},function(e,t){e.exports={videoWrapper:"videoWrapper-3Yhnh",mobileMode:"mobileMode-3nKG_"}},function(e,t){e.exports={spinner:"spinner-1mcBB"}},function(e,t){e.exports={image:"image-3pzc0",overlay:"overlay-H6Es3",imageWrapper:"imageWrapper-xBz22",close:"close-1b76r"}},function(e,t){e.exports={adSlot:"adSlot-13Dpq",mpu:"mpu-1tCnN",inner:"inner-27zBI",billboard:"billboard-3GYD9",big:"big-3qb36",staticMobileBanner:"staticMobileBanner-3IK1R",skyScraperLeft:"skyScraperLeft-53eiG",skyScraperRight:"skyScraperRight-3DgkG"}},function(e,t){e.exports={slide:"slide-30EFp",image:"image-38wLv",fitImage:"fitImage-2Eix_"}},function(e,t){e.exports={imageBox:"imageBox-339P-"}},function(e,t){e.exports={container:"container-2jyIU",half:"half-12REw",heading:"heading-39ksA",items:"items-I7TXz",item:"item-Z0nkZ",headline:"headline-3MHKr",imageStrip:"imageStrip-3vMei",itemImage:"itemImage-3fq3r",itemImageCount:"itemImageCount-2SM08",mobileMode:"mobileMode-10TGe"}},function(e,t){e.exports={container:"container-2cLTi",heading:"heading-2bIc8",items:"items-uZCG7",item:"item-35sWJ",itemImage:"itemImage-39BqE",headline:"headline-PjeVJ"}},function(e,t){e.exports={container:"container-gZdoD",loading:"loading-2-Ft2",galleryNextWrapper:"galleryNextWrapper-3vMBC",horizontal:"horizontal-Zex-P",viewNextWrapper:"viewNextWrapper-2FezZ",viewNextButton:"viewNextButton-2viFt",viewNextPreview:"viewNextPreview-1srib",noSecondResults:"noSecondResults-3415g",viewNextThumb:"viewNextThumb-2LWI_",viewNextHeadline:"viewNextHeadline-3xKwf",smallHorizontal:"smallHorizontal-13faD",vertical:"vertical-2h74T"}},function(e,t){e.exports={slide:"slide-Km6gZ",contentWrapper:"contentWrapper-1ZcVy",galleryInfo:"galleryInfo-2jfTV",shareBar:"shareBar-2uYDA",shareBarLabel:"shareBarLabel-24ZbE",articleTitle:"articleTitle-2ktc3",shareButtons:"shareButtons-3RSdl",facebookButton:"facebookButton-3200s",twitterButton:"twitterButton-2NC9j",pinterestButton:"pinterestButton-3hFsp",emailButton:"emailButton-3FaSb",mobileMode:"mobileMode-kucDw"}},function(e,t){e.exports={scrollWrapper:"scrollWrapper-2aYZ-",scrollingElement:"scrollingElement-kUNHH"}},function(e,t){e.exports={overlay:"overlay-2L9_M",disabled:"disabled-1g3Mb",galleryWrapper:"galleryWrapper-3NlQG",bigSky:"bigSky-2lzob",smallSky:"smallSky-cHVdJ",bigBillboard:"bigBillboard-1ZHew",smallBillboard:"smallBillboard-2FMRZ",adFree:"adFree-1H-t3",bannerWrapper:"bannerWrapper-2ynW8",mobileMode:"mobileMode-20tz_"}},function(e,t){e.exports={slide:"slide-PceAk",placeholder:"placeholder-18y5b",info:"info-SVubn",caption:"caption-1vKfU",actionBar:"actionBar-3arCW",counter:"counter-1Rp1W",shareButtons:"shareButtons-1t51F",facebookButton:"facebookButton-3v76E",twitterButton:"twitterButton-2Pakf",pinterestButton:"pinterestButton-1hWHY",emailButton:"emailButton-16BjG",closeButton:"closeButton-1isSP"}},function(e,t){e.exports={overlay:"overlay-3_y3f",disabled:"disabled-1LQlX",controls:"controls-2Dr63",close:"close-2OZGB",nextGalleryButton:"nextGalleryButton-2nxcr",previousGalleryButton:"previousGalleryButton-3PoRJ",scroller:"scroller-3zanm",headingWrapper:"headingWrapper-1AzHW",heading:"heading-IWRG0",readMoreLink:"readMoreLink-Z7Cnp",mpuWrapper:"mpuWrapper-1fhC9",bannerWrapper:"bannerWrapper-1xcUR"}},function(e,t){e.exports={openGalleryButton:"openGalleryButton-2CswR",small:"small-caPg5",imageCount:"imageCount-2Mnr9",viewGalleryText:"viewGalleryText-2XMcO"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),h=n(5),m=(n(304),n(24)),v=function(){var e=document.querySelector(".permabox-articles"),t="[data-id] a span:not(.is-paywalled)";return e&&e.querySelector(t)?(Object(m.truncateTextSelector)(e,t),Object(m.addResizeTruncateListener)(e,t),e):null},g=n(11),y=n.n(g),b=function(e){return document.body.appendChild(e),e},w=b,E=function(){return new Promise(function(e,t){document.execCommand("copy")?e():t(new Error("Copy command is not supported or not enabled"))})},x=E,k=function(e){if(e)return e.hasAttribute("readonly")},S=k,T=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},O=T,C=function(e,t){e&&(e.value=t)},_=C,P=function(e,t){e&&(t?e.setAttribute("readonly",""):e.removeAttribute("readonly"))},A=P,L=function(e){e&&(e.select(),e.setSelectionRange(0,e.value.length))},I=L,N=function(){var e=document.createElement("textarea"),t=window.pageYOffset||document.documentElement.scrollTop;return e.style.fontSize="12pt",e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style.left="-9999px",e.style.top="".concat(t,"px"),e.setAttribute("readonly",""),e},j=N,M=function(e,t){var n=t||j(),r=S(n);_(n,e),t||w(n),r||A(n,!0),I(n),r||A(n,!1);var o=x();return t||O(n),o},R=M,D=function(){return Boolean(document.queryCommandSupported)&&Boolean(document.queryCommandSupported("copy"))},B=D,U=n(116),q=n.n(U),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttonText,n=e.manualCopyPrompt,r=e.textToCopy,o=e.type;return'<div class="'.concat(q.a.copyToClipboardTooltip,'" data-type="').concat(o||"",'">\n  <input type="text" value="').concat(r||"",'">\n  <div class="').concat(q.a.footer,'">\n    <button class="').concat(q.a.copyButton,'" type="button">').concat(t||"",'</button>\n    <p class="').concat(q.a.manualCopyPrompt,'">').concat(n||"",'</p>\n    <div class="').concat(q.a.successMessage,'">Copied</div>\n  </div>\n  <button class="').concat(q.a.closeButton,'" type="button">\n    <span>Close</span>\n    <svg width="28" height="28" xmlns="http://www.w3.org/2000/svg">\n      <g fill="none" fill-rule="evenodd">\n        <path d="M14 0c7.732 0 14 6.268 14 14s-6.268 14-14 14S0 21.732 0 14 6.268 0 14 0" fill="#000"/>\n        <path d="M16.48 14.004l3.219-3.219a1.042 1.042 0 0 0 0-1.474l-1-1a1.043 1.043 0 0 0-1.476-.002l-3.22 3.22-3.218-3.219a1.043 1.043 0 0 0-1.474 0L8.31 9.31a1.042 1.042 0 0 0 0 1.474l3.22 3.22-3.22 3.219a1.042 1.042 0 0 0 0 1.474l1 1a1.042 1.042 0 0 0 1.475 0l3.219-3.219 3.22 3.22a1.043 1.043 0 0 0 1.474 0l1-1.001a1.042 1.042 0 0 0 0-1.474l-3.218-3.22z" fill="#FFF"/>\n      </g>\n    </svg>\n  </button>\n</div>')},F=z,H=function(e){return e.querySelector(".".concat(q.a.copyToClipboardTooltip)).setAttribute("data-is-copy-supported",B())},W=function(e,t){return e.querySelector(".".concat(q.a.copyToClipboardTooltip)).setAttribute("data-is-text-copied",t)},V=function(){function e(){r(this,e),this.onDocumentBodyClick=this.onDocumentBodyClick.bind(this)}return i(e,[{key:"bindEvents",value:function(e){var t=this,n=e.textToCopy;this.getContainerEl().querySelector(".".concat(q.a.copyButton)).addEventListener("click",function(e){e.stopPropagation(),R(n,t.getContainerEl().querySelector("input")),W(t.getContainerEl(),!0),e.target.focus()}),this.getContainerEl().querySelector(".".concat(q.a.closeButton)).addEventListener("click",function(e){e.stopPropagation(),t.hide()}),this.getContainerEl().querySelector("input").addEventListener("input",function(e){e.target.value!==e.target.getAttribute("value")&&(e.target.value=e.target.getAttribute("value"))}),window.setTimeout(function(){return document.body.addEventListener("click",t.onDocumentBodyClick)},0)}},{key:"getContainerEl",value:function(){return this.containerEl}},{key:"hide",value:function(){return this.tooltipEl&&this.tooltipEl.parentNode&&this.tooltipEl.parentNode.removeChild(this.tooltipEl),this.getContainerEl()&&this.getContainerEl().dispatchEvent(new CustomEvent("copytoclipboardtooltipclose")),document.body.removeEventListener("click",this.onDocumentBodyClick),this}},{key:"injectTemplate",value:function(e){this.containerEl.innerHTML=F(e)}},{key:"onDocumentBodyClick",value:function(e){e.target.closest(".".concat(q.a.copyToClipboardTooltip))||this.hide()}},{key:"onDocumentBodyTouchStart",value:function(e){e.target.closest(".".concat(q.a.copyToClipboardTooltip))||this.hide()}},{key:"show",value:function(e,t){return this.containerEl=e,this.injectTemplate(t),this.tooltipEl=this.containerEl.querySelector(".".concat(q.a.copyToClipboardTooltip)),H(this.getContainerEl()),this.bindEvents(t),this}}]),e}(),G=V,Y=function(){var e=document.head.querySelector('meta[property="og:description"]');return e&&e.getAttribute("content")},Z=function(){var e=document.head.querySelector('meta[property="og:image"]');return e&&e.getAttribute("content")},K=function(){var e=document.head.querySelector('meta[property="og:title"]');return e&&e.getAttribute("content")},X=n(305),J=n.n(X),Q=n(306),$=n.n(Q),ee=n(307),te=n.n(ee),ne=n(308),re=n.n(ne),oe=n(309),ie=n.n(oe),ae=function(){function e(t){s(this,e),this.element=t,this.createSocialShareButtons(),this.createSocialShareObject(),this.addEventListeners()}return f(e,[{key:"createSocialShareButtons",value:function(){var e='<a class="'.concat(ie.a.socialButton,' facebook">').concat($.a,"</a>"),t='<a class="'.concat(ie.a.socialButton,' twitter">').concat(re.a,"</a>"),n='<a class="'.concat(ie.a.socialButton,' copyToClipboard">').concat(J.a,"<div></div></a>"),r='<a class="'.concat(ie.a.socialButton,' mailto" target="_blank">').concat(te.a,"</a>"),o=document.createElement("div");o.className=ie.a.socialContainer,o.innerHTML=[e,t,n,r].join(""),this.element.appendChild(o)}},{key:"createSocialShareObject",value:function(){this.socialShareObject={description:this.getDescription(),image:this.getImage(),title:this.getTitle(),via:window.twitterVia||""}}},{key:"getDescription",value:function(){return this.getFactboxDescription()||Y()||""}},{key:"getFactboxDescription",value:function(){return this.getTextContentByQuerySelector(".mol-para-with-font")}},{key:"getImage",value:function(){return this.getFactboxImage()||Z()||""}},{key:"getFactboxImage",value:function(){var e=this.element.querySelector(":not(.mol-video) img");return e&&(e.getAttribute("data-src")||e.src)}},{key:"getPermaboxUrl",value:function(){return this.element&&this.element.getAttribute("data-permabox-url")}},{key:"getTitle",value:function(){return this.getFactboxTitle()||K()||""}},{key:"getFactboxTitle",value:function(){return this.getTextContentByQuerySelector("h3")}},{key:"getTextContentByQuerySelector",value:function(e){var t=this.element.querySelector(e);return t&&t.textContent&&t.textContent.trim()}},{key:"addEventListeners",value:function(){var e=this;this.element.querySelector(".".concat(ie.a.socialButton,".facebook")).addEventListener("click",function(){return e.postToFacebook()}),this.element.querySelector(".".concat(ie.a.socialButton,".twitter")).addEventListener("click",function(){return e.postToTwitter()}),this.element.querySelector(".".concat(ie.a.socialButton,".copyToClipboard")).addEventListener("click",function(t){return e.onCopyToClipboardClick(t)}),this.element.querySelector(".".concat(ie.a.socialButton,".mailto")).addEventListener("click",function(){return e.shareByEmail()})}},{key:"getShareUrl",value:function(e){var t=new y.a("twitter"===e?window.articleShortUrl:this.getPermaboxUrl()||document.location.href,!0);return this.hasPermaboxUrl()||t.set("hash","".concat(this.element.id)),t.set("query",l({},t.query,{ito:"".concat(e,"_share_article-factbox")})),t.toString()}},{key:"hasPermaboxUrl",value:function(){return Boolean(this.getPermaboxUrl())}},{key:"onCopyToClipboardClick",value:function(e){if(!e.target.closest(".".concat(ie.a.socialButton,".copyToClipboard div"))){var t,n=document.body.classList.contains("mol-mobile");n?(t=document.createElement("div"),t.classList.add(ie.a.tooltipContainer),document.body.appendChild(t)):t=this.element.querySelector(".".concat(ie.a.socialButton,".copyToClipboard div"));var r=(new G).show(t,{buttonText:"Copy link",manualCopyPrompt:"Copy link to paste in your message",textToCopy:this.getShareUrl("link"),type:"url"});n&&(t.addEventListener("copytoclipboardtooltipclose",function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),t.addEventListener("click",function(e){e.target===t&&r.hide()}),t.addEventListener("touchmove",function(e){e.preventDefault(),e.stopPropagation()}))}}},{key:"postToFacebook",value:function(){window.DMS.Facebook.postToFB("factbox",JSON.stringify({description:this.socialShareObject.description,link:this.getShareUrl("facebook"),name:this.socialShareObject.title,picture:this.socialShareObject.image}),this.socialShareObject.trackingOptions)}},{key:"postToTwitter",value:function(){window.DMS.Twitter.postToTWTTR("factbox",JSON.stringify({text:this.socialShareObject.title+" - "+this.socialShareObject.description,url:this.getShareUrl("twitter"),via:this.socialShareObject.via}),this.socialShareObject.trackingOptions)}},{key:"shareByEmail",value:function(){var e="".concat(this.socialShareObject.description,"\n\n").concat(encodeURI(this.getShareUrl("email")));window.DMS.socialClick("email","factbox"),this.element.querySelector(".".concat(ie.a.socialButton,".mailto")).href="mailto:?subject=".concat(encodeURIComponent(this.socialShareObject.title),"&body=").concat(encodeURIComponent(e))}}]),e}(),le=ae,ce=n(310),se=n.n(ce),ue=function(e){var t="factbox",n=e.querySelector(".mol-factbox-title");if(n){var r=n.innerText.trim(),o=se()(r,{lower:!0,strict:!0}).substring(0,50);t="".concat(t,"^factbox-").concat(o)}e.dataset.trackModule=t};n.d(t,"loaded",function(){return fe});var fe=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){d(l,r,o,i,a,"next",e)}function a(e){d(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.later)("DOM_READY");case 3:return t=Array.from(document.querySelectorAll('.mol-factbox[data-version="2"]')),t.forEach(function(e){e.molFeFactboxSocialSharing=new le(e),ue(e)}),v(),e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),p.logger.error("Error during mol-fe-factbox initialisation: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))()},function(e,t){},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <path fill="#1BAAD0" fill-rule="evenodd" d="M12.854 8.333l-4.521 4.521c-.49.49-1.302.47-1.815-.044-.514-.513-.533-1.326-.044-1.815l4.521-4.521c.489-.489 1.301-.47 1.815.044.513.513.533 1.326.044 1.815zM9.842 1.706c2.046-2.047 5.447-1.964 7.596.184 2.148 2.149 2.23 5.55.184 7.596L15.3 11.81c-.493.493-1.312.473-1.83-.045-.517-.517-.537-1.335-.045-1.828l2.499-2.5-.003-.002c.967-1.068.894-2.76-.186-3.84-1.081-1.082-2.773-1.154-3.842-.187a2.623 2.623 0 0 0-.185.185l-1.704 1.704v-.004l-.61.61c-.494.493-1.313.473-1.83-.044-.518-.518-.538-1.337-.045-1.83l2.324-2.323zm.094 11.718c.493-.492 1.312-.472 1.829.046.517.517.537 1.336.044 1.83l-2.323 2.323c-2.047 2.046-5.448 1.963-7.596-.185-2.149-2.149-2.231-5.55-.185-7.596L4.03 7.519c.493-.493 1.312-.473 1.83.044.517.517.537 1.337.044 1.83l-.61.61h.003l-1.703 1.704a2.623 2.623 0 0 0-.185.185c-.967 1.07-.895 2.761.186 3.842 1.08 1.08 2.773 1.153 3.841.187l.003.002 2.498-2.499z"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 9.05 18.18" xmlns="http://www.w3.org/2000/svg"><path d="m6 19.09h-4v-9.09h-2v-3.13h2v-1.87c0-2.57 1.14-4.09 4.35-4.09h2.65v3.09h-1.64c-1.25 0-1.36.48-1.36 1.3v1.57h3l-.3 3.13h-2.7z" transform="translate(0 -.91)"/></svg>'},function(e,t){e.exports='<svg viewBox="0 0 21.66 15.19" xmlns="http://www.w3.org/2000/svg"><path d="m1 0l9.73 9.49 9.89-9.49z"/><path d="m7.46 9l-6.46 6.19h19.07l-6.3-6.12-3.15 3.03z"/><path d="m0 13.08l6.25-6-6.25-6.08z"/><path d="m21.66 13.86v-12.86l-6.66 6.39z"/></svg>'},function(e,t){e.exports='<svg viewBox="0 0 19.91 16.36" xmlns="http://www.w3.org/2000/svg"><path d="m17.72 3.4a4.13 4.13 0 0 0 1.8-2.29 8.13 8.13 0 0 1-2.59 1 4.06 4.06 0 0 0-3-1.3 4.11 4.11 0 0 0-4.08 4.14 4.18 4.18 0 0 0  .11.94 11.56 11.56 0 0 1-8.42-4.32 4.17 4.17 0 0 0  1.26 5.52 4 4 0 0 1-1.8-.52s0 0 0 .05a4.12 4.12 0 0 0 3.28 4.05 4 4 0 0 1-1.84.07 4.1 4.1 0 0 0  3.76 2.88 8.14 8.14 0 0 1-5.07 1.77 8.26 8.26 0 0 1-1-.06 11.47 11.47 0 0 0  6.26 1.86 11.61 11.61 0 0 0  11.61-11.76c0-.18 0-.36 0-.53a8.35 8.35 0 0 0 2-2.14 8.11 8.11 0 0 1-2.28.64z" transform="translate(-.15 -.82)"/></svg>'},function(e,t){e.exports={socialButton:"socialButton-1cHF8",socialContainer:"socialContainer-1Yly1",tooltipContainer:"tooltipContainer-K2Xpo"}},function(e,t,n){!function(t,n,r){e.exports=r(),e.exports.default=r()}(0,0,function(){function e(e,r){if("string"!=typeof e)throw new Error("slugify: string argument expected");r="string"==typeof r?{replacement:r}:r||{};var o=n[r.locale]||{},i=void 0===r.replacement?"-":r.replacement,a=void 0===r.trim||r.trim,l=e.normalize().split("").reduce(function(e,n){var a=o[n];return void 0===a&&(a=t[n]),void 0===a&&(a=n),a===i&&(a=" "),e+a.replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return r.strict&&(l=l.replace(/[^A-Za-z0-9\s]/g,"")),a&&(l=l.trim()),l=l.replace(/\s+/g,i),r.lower&&(l=l.toLowerCase()),l}var t=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E\'","":"Y\'","":"T\'","":"JH","":"I","":"L","":"X","":"C\'","":"K","":"H","":"D\'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R\'","":"S","":"V","":"T","":"R","":"C","":"P\'","":"Q\'","":"O\'\'","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"\'","":"\'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}'),n=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');return e.extend=function(e){Object.assign(t,e)},e})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n(312),n(0)),o=n(1),i=n(117),a=!1,l=function(){return a},c=function(e){a=e},s=function(e){return new RegExp("(^|,)"+e+"(,|$)").test(i.a.join(","))},u=function(){try{return window.adverts}catch(e){return null}},f=function(){return Boolean(document.querySelector('script[src*="player.daznservices.com"]'))},d=function(e){var t=u();l()||t&&Boolean(t.getRendered().length)?e.classList.remove("floating-no-ads"):(e.classList.add("floating-no-ads"),e.removeAttribute("style"))},p=function(e){if(window.adsRenderer&&window.adsRenderer.addLoadListener(function(e){var t=!e.isEmpty&&e.slot&&e.slot.molAd&&e.slot.molAd.parentId;c(l()||t&&s(t))}),window.adsTrackers&&window.adsTrackers.getRequestedAds().forEach(function(e){var t=e.lid&&e.cid&&e.id;c(l()||t&&s(t))}),f()&&e)e.classList.add("has-perform-player");else var t=setInterval(function(){var n=document.querySelector('iframe[src*="player.daznservices.com"]'),r=n&&n.parentNode&&"fixed"===n.parentNode.style.position;Boolean(n)&&r&&e&&(e.classList.add("has-perform-player"),clearInterval(t))},1e3);var n=u();n&&n.on("rendered",function(){d(e)})},h=function(e){var t=document.getElementById("next-story");return!t||!t.classList.contains("show")||window.innerHeight>t.offsetHeight+e.clientHeight},m=function(e){return"channel"===window.PageCriteria.pageType||"article"===window.PageCriteria.pageType&&h(e)},v=null,g=function(e){v&&(clearTimeout(v),v=null),v=setTimeout(function(){var t=document.querySelector(".gamma")?1270:975,n=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop;l()&&document.body.classList.add("floating-buttons-oop-ads"),m(e)&&n>window.innerHeight/2&&window.innerWidth>t?document.body.classList.add("floating-buttons-show"):document.body.classList.remove("floating-buttons-show")},250)},y=n(121),b=n(11),w=n.n(b),E=function(e){try{var t=new w.a(e,!0),n=t.query||{};return n.ico&&(n.ico="".concat(n.ico,"_").concat("float"),t.set("query",n)),t.href}catch(t){return e}},x=function(e){var t=window,n=t.timCameFromMolUrl,r=Object(o.getPageCriteria)(),i=r.geo;if(n){var a=document.createElement("a"),l=i&&["us","au"].includes(i.toLowerCase());a.setAttribute("href",E(n)),a.classList.add("back-to-mol-button"),l&&a.classList.add("back-to-mol-dm"),e.classList.add("has-back-to-mol"),e.children[0].before(a)}},k=n(8),S=n.n(k),T=n(3),O=n(122),C=function(e){var t=e.querySelector(".back-to-top"),n=e.querySelector(".back-to-home"),r=e.querySelector(".button-share-facebook"),o=e.querySelector(".button-share-twitter");t&&t.addEventListener("click",function(e){e.preventDefault(),T.pageEvents.publish(T.pageEvents.FLOATING_BUTTONS_BACK_TO_TOP,{value:"top"}),Object(O.a)(0)}),n&&n.addEventListener("click",function(){T.pageEvents.publish(T.pageEvents.FLOATING_BUTTONS_BACK_TO_TOP,{value:"home"})});var i=r&&r.hasAttribute("data-preferred-shared-network-enabled"),a="";i&&("twitter"===S.a.get("social-share-platform")?a="twitter_preferred-":"facebook"===S.a.get("social-share-platform")&&(a="facebook_preferred-")),r&&r.addEventListener("click",function(){window.DMS.Facebook.postToFB(a+"floating_navigation")}),o&&o.addEventListener("click",function(){window.DMS.Twitter.postToTWTTR(a+"floating_navigation")})},_=C;n.d(t,"init",function(){return P});var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.newArticleCount,n=e.showArticleCount,i=e.featureEnabled,a=e.newArticleRefresh,l=document.querySelector(".floating-buttons"),c=window.PageCriteria,s="true"===i||!0===i,u="true"===n||!0===n;return Object(y.a)(t),window.location.search&&window.location.search.match(/debugFloatingShareBar=true/)||Object(o.getPageCriteria)().enableFloatingShareBar?null:l?(s&&setInterval(function(){return Object(y.b)(u,l)},parseInt(a,10)||1e3),l&&"other"===c.device&&m(l)&&(window.addEventListener("resize",function(){return g(l)}),window.addEventListener("scroll",function(){return g(l)}),x(l),_(l),g(l),p(l),d(l)),l):(r.logger.error("Floating Buttons container not found on page"),null)}},function(e,t){},function(e,t,n){"use strict";function r(e,t){return a(e)||i(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function a(e){if(Array.isArray(e))return e}function l(e){return u(e)||s(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){k(l,r,o,i,a,"next",e)}function a(e){k(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function _(e){return L(e)||A(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function A(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function L(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function I(e){return M(e)||j(e)||N()}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function j(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function M(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function R(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){R(l,r,o,i,a,"next",e)}function a(e){R(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}Object.defineProperty(t,"__esModule",{value:!0});var B=(n(314),n(1)),U=n(10),q=function(e,t,n,r){var o=r[e],i=o&&o.style;if(i){var a=n+"ms",l="translateX("+t+"px)",c="translate("+t+"px,0) translateZ(0)";i.webkitTransitionDuration=a,i.MozTransitionDuration=a,i.msTransitionDuration=a,i.OTransitionDuration=a,i.transitionDuration=a,i.webkitTransform=c,i.msTransform=l,i.MozTransform=l,i.OTransform=l}},z=function(e,t){return(t+e%t)%t},F=function(e,t,n,r){e.addEventListener?(e.touch&&t.addEventListener("touchstart",n,!1),e.pointer&&t.addEventListener("MSPointerDown",n,!1),e.transitions&&(t.addEventListener("webkitTransitionEnd",n,!1),t.addEventListener("msTransitionEnd",n,!1),t.addEventListener("oTransitionEnd",n,!1),t.addEventListener("otransitionend",n,!1),t.addEventListener("transitionend",n,!1)),window.addEventListener("resize",n,!1),window.addEventListener("orientationchange",n,!1)):window.onresize=function(){r()}},H=function(e,t,n){e.addEventListener?(t.removeEventListener("touchstart",n,!1),t.removeEventListener("MSPointerDown",n,!1),t.removeEventListener("webkitTransitionEnd",n,!1),t.removeEventListener("msTransitionEnd",n,!1),t.removeEventListener("oTransitionEnd",n,!1),t.removeEventListener("otransitionend",n,!1),t.removeEventListener("transitionend",n,!1),window.removeEventListener("resize",n,!1),window.removeEventListener("orientationchange",n,!1)):window.onresize=null},W=function(e,t,n){e.pointer?(t.removeEventListener("MSPointerMove",n,!1),t.removeEventListener("MSPointerUp",n,!1)):(t.removeEventListener("touchmove",n,!1),t.removeEventListener("touchend",n,!1))},V=function(e,t,n,r,o,i,a,l){if(!n)return void(r.style.left=t+"px");var c=Date.now(),s=setInterval(function(){var u=Date.now()-c;if(u>n)return r.style.left=t+"px",l(),a.transitionEnd&&a.transitionEnd.call(event,i,o[i]),void clearInterval(s);var f=(t-e)*(Math.floor(u/n*100)/100)+e;r.style.left=f+"px"},4)},G=V,Y=function(e){return{preventDefault:function(e){e.preventDefault()},toggleOffPreventClick:function(){for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n++)t[n].removeEventListener("click",this.preventDefault,!1)},toggleOnPreventClick:function(){for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n++)t[n].addEventListener("click",this.preventDefault,!1)}}},Z=Y,K=function(){},X=function(e){setTimeout(e||K,0)},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!0,r={addEventListener:Boolean(window.addEventListener),pointer:window.navigator.msPointerEnabled,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,transitions:function(e){var t,n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(t in n)if(void 0!==e.style[n[t]])return!0;return!1}(document.createElement("swipe"))};if(!e)return null;var o,i,a,l,c,s,u,f=e.children[0],d=t.speed||300,p=parseInt(t.startSlide,10)||0,h=K,m=t.auto||0,v={},g={};t.continuous=void 0===t.continuous||t.continuous,r.pointer&&(e.style.msTouchAction="none");var y=function(e,t,n){q(e,t,n,o),i[e]=t},b=function(){o=f.children,l=o.length,o.length<2&&(t.continuous=!1),r.transitions&&t.continuous&&o.length<3&&(f.appendChild(o[0].cloneNode(!0)),f.appendChild(f.children[1].cloneNode(!0)),o=f.children),i=new Array(o.length),a=e.getBoundingClientRect().width||e.offsetWidth,f.style.width=o.length*a+"px";for(var n=o.length;n--;){var c=o[n];c.style.width=a+"px",c.setAttribute("data-index",n);var s=0;p>n?s=-a:p<n&&(s=a),r.transitions&&(c.style.left=n*-a+"px",y(n,s,0))}t.continuous&&r.transitions&&(y(z(p-1,o.length),-a,0),y(z(p+1,o.length),a,0)),r.transitions||(f.style.left=p*-a+"px"),e.style.visibility="visible"},w=function(){c=setTimeout(h,m)},E=function(e,n){var l=e;if(p!==l){if(r.transitions){var c=Math.abs(p-l)/(p-l);if(t.continuous){var s=c;c=-i[z(l,o.length)]/a,c!==s&&(l=-c*o.length+l)}for(var u=Math.abs(p-l)-1;u--;)y(z((l>p?l:p)-u-1,o.length),a*c,0);l=z(l,o.length),y(p,a*c,n||d),y(l,0,n||d),t.continuous&&y(z(l-c,o.length),-a*c,0)}else l=z(l,o.length),G(p*-a,l*-a,n||d,f,o,p,t,function(){m&&w()});p=l,X(t.callback&&t.callback(p,o[p]))}},x=function(){t.continuous?E(p-1):p&&E(p-1)};h=function(){t.continuous?E(p+1):p<o.length-1&&E(p+1)};var k=function(){m=0,clearTimeout(c)},S={end:function(e){if(n){var l=Date.now()-g.time,c=Number(l)<250&&Math.abs(v.x)>20||Math.abs(v.x)>a/2,u=!p&&v.x>0||p===o.length-1&&v.x<0;t.continuous&&(u=!1);var h=v.x<0;s||(c&&!u?(e.stopPropagation(),h?(t.continuous?(y(z(p-1,o.length),-a,0),y(z(p+2,o.length),a,0)):y(p-1,-a,0),y(p,i[p]-a,d),y(z(p+1,o.length),i[z(p+1,o.length)]-a,d),p=z(p+1,o.length)):(t.continuous?(y(z(p+1,o.length),a,0),y(z(p-2,o.length),-a,0)):y(p+1,a,0),y(p,i[p]+a,d),y(z(p-1,o.length),i[z(p-1,o.length)]+a,d),p=z(p-1,o.length)),t.callback&&t.callback(p,o[p])):t.continuous?(y(z(p-1,o.length),-a,d),y(p,0,d),y(z(p+1,o.length),a,d)):(y(p-1,-a,d),y(p,0,d),y(p+1,a,d))),W(r,f,S)}},handleEvent:function(e){var n=Z(f);switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":X(this.end(e));break;case"MSPointerDown":this.start(e);break;case"MSPointerMove":this.move(e),v.x&&n.toggleOnPreventClick();break;case"MSPointerUp":X(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":X(this.transitionEnd(e)),n.toggleOffPreventClick();break;case"resize":u=!0,X(b.call());break;case"orientationchange":u=!1,setTimeout(function(){u||b.call()},1e3)}t.stopPropagation&&e.stopPropagation()},move:function(e){if(n&&!(!r.pointer&&e.touches.length>1||e.scale&&1!==e.scale)){if(t.disableScroll&&e.preventDefault(),r.pointer)v={x:(e.pageX||e.clientX)-g.x,y:(e.pageY||e.clientY)-g.y};else{var l=e.touches[0];v={x:l.pageX-g.x,y:l.pageY-g.y}}void 0===s&&(s=Boolean(Math.abs(v.x)<Math.abs(v.y))),s||(e.preventDefault(),k(),t.continuous?(q(z(p-1,o.length),v.x+i[z(p-1,o.length)],0,o),q(p,v.x+i[p],0,o),q(z(p+1,o.length),v.x+i[z(p+1,o.length)],0,o)):(v.x/=!p&&v.x>0||p===o.length-1&&v.x<0?Math.abs(v.x)/a+1:1,q(p-1,v.x+i[p-1],0,o),q(p,v.x+i[p],0,o),q(p+1,v.x+i[p+1],0,o)))}},start:function(e){if(n)if(s=void 0,v={},r.pointer)g={time:Date.now(),x:e.pageX||e.clientX,y:e.pageY||e.clientY},f.addEventListener("MSPointerMove",this,!1),f.addEventListener("MSPointerUp",this,!1);else{var t=e.touches[0];g={time:Date.now(),x:t.pageX,y:t.pageY},f.addEventListener("touchmove",this,!1),f.addEventListener("touchend",this,!1)}},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)===p&&(m&&w(),t.transitionEnd&&t.transitionEnd.call(e,p,o[p]))}};return b(),m&&w(),F(r,f,S,b),{disableTouch:function(){n=!1},enableTouch:function(){n=!0},getNumSlides:function(){return l},getPos:function(){return p},kill:function(){k(),f.style.width="auto",f.style.left=0;for(var e=o.length;e--;){var t=o[e];t.style.width="100%",t.style.left=0,r.transitions&&q(e,0,0,o)}H(r,f,S)},next:function(){k(),h()},prev:function(){k(),x()},setup:function(){b()},slide:function(e,t){k(),E(e,t)}}},Q=J,$=n(3),ee={},te=function(e,t,n){return[e,t,n].join(" ")},ne=function(e,t){return[e,t].join(" ")},re={},oe=function(e,t,n,r){$.pageEvents.publish($.pageEvents.GALLERY_IMAGE_VIEWED,Object(B.getPageMetadata)({contentType:t,galleryId:ne(t,e),galleryTitle:te(t,r,"gallery view"),threadId:n}))},ie=function(e,t,n,r){ee.track=oe,$.pageEvents.publish($.pageEvents.GALLERY_OPENED,Object(B.getPageMetadata)({contentType:t,galleryId:ne(t,e),galleryTitle:te(t,r,"gallery start"),threadId:n}))},ae=function(e,t,n){var r="advert_"+e;if(!re[r])return void(re[r]={bounces:0,views:1});n?re[r].bounces++:re[r].views++,$.pageEvents.publish($.pageEvents.GALLERY_ADVERT_VIEWED,Object(B.getPageMetadata)({contentType:"advert",threadId:e}))},le=function(){$.pageEvents.publish($.pageEvents.GALLERY_ADVERT_STATS,{stats:JSON.stringify(re),type:"gallery-advert"}),re={},$.pageEvents.publish($.pageEvents.GALLERY_CLOSED,Object(B.getPageMetadata)({contentType:"image",threadId:"i-0"}))};ee.init=function(){ee.track=ie},ee.track=ie,ee.trackGalleryAdvert=ae,ee.trackGalleryEnd=le;var ce=ee,se=function(e,t){var n=t||{bubbles:!1,cancelable:!1};n.bubbles=n.bubbles||!1,n.cancelable=n.cancelable||!1;var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r};se.prototype=window.Event.prototype;var ue=function(e,t){return"function"==typeof window.CustomEvent&&"[object CustomEvent]"===window.CustomEvent.prototype.toString()?new window.CustomEvent(e,t):se(e,t)},fe=ue,de=(n(315),n(29)),pe=n.n(de),he=["Moz","Webkit","O","ms"],me=function(e){return e.length?[e.pop()]:[]},ve=function(e){var t=function(e){return e},n=e||t,r=[],o=!1,i=function(){r=n(r),o=!1;for(var e=r.shift();e;)e(),e=r.shift()};return{empty:function(){r=[]},push:function(e){r.push(e),o||(o=!0,window.requestAnimationFrame(i))}}},ge=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ye=function(e,t){var n=e[t];if(n)return n;for(var r=0;r<he.length;r++)if(n=e[he[r]+ge(t)])return n;return null},be=function(e,t,n){e[t]=n;for(var r=0;r<he.length;r++)e[he[r]+ge(t)]=n},we=function(e){var t=/matrix\(([^)]*)\)/,n=e&&e.match(t);if(e&&n){for(var r=n[1].split(","),o=[],i=0;i<6;i++)o.push(parseFloat(r[i]));return o}return[1,0,0,1,0,0]},Ee=function(e){return"matrix("+e.join(", ")+")"},xe=function(){return[1,0,0,1,0,0]},ke=function(e){var t=window.getComputedStyle(e),n=ye(t,"transform");return we(n)},Se=function(e,t){var n=Ee(t);be(e.style,"transform",n)},Te=function(e,t){return e*(1-t)},Oe=function(e,t){var n=new Array(6);return n[0]=e[0]*t[0]+e[2]*t[1]+0*e[4],n[2]=e[0]*t[2]+e[2]*t[3]+0*e[4],n[4]=e[0]*t[4]+e[2]*t[5]+Number(e[4]),n[1]=e[1]*t[0]+e[3]*t[1]+0*e[5],n[3]=e[1]*t[2]+e[3]*t[3]+0*e[5],n[5]=e[1]*t[4]+e[3]*t[5]+Number(e[5]),n},Ce=function(e,t){var n=new Array(2);return n[0]=t[0]*e[0]+t[1]*e[1]+t[4],n[1]=t[3]*e[1]+t[2]*e[0]+t[5],n},_e=function(e,t,n){var r=e.clientHeight,o=e.clientWidth,i=ke(e),a=(t||4)/i[0],l=(n||1)/i[0],c=Oe(i,xe()),s=function(e,t,n){switch(e.toUpperCase()){case"N":return t[1]<=0&&n[1]<=r;case"S":return t[1]>=0&&n[1]>=r;case"W":return t[0]<=0&&n[0]<=o;case"E":return t[0]>=0&&n[0]>=o}return null},u=function(e){var t=Ce([0,0],e),n=Ce([o,r],e);return s("W",t,n)&&(e[4]=o-(n[0]-t[0])),s("E",t,n)&&(e[4]=0),s("N",t,n)&&(e[5]=r-(n[1]-t[1])),s("S",t,n)&&(e[5]=0),e};return{cannotPan:function(e){for(var t=Ce([0,0],c),n=Ce([o,r],c),i=e.split(""),a=[],l=0;l<i.length;l++)s(i[l],t,n)&&a.push(i[l]);return a.join("")},getZoom:function(){return c[0]},pan:function(t,n){var r=xe();r[4]=t,r[5]=n,c=u(Oe(r,i)),Se(e,c)},reset:function(){c=xe(),Se(e,c)},zoom:function(t,n,r){var o=r;o<=l?o=l:o>=a&&(o=a);var s=xe();s[0]=o,s[3]=o,s[4]=Te(t,o),s[5]=Te(n,o),c=u(Oe(i,s)),Se(e,c)}}},Pe=function(e,t,n){e.dispatchEvent(fe(t,n))};!function(){for(var e=["webkit","moz"],t=0,n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+r)},r);return t=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var Ae,Le=function(e,t){var n,r,o=Object.assign({},{disabled:!1},t),i=new pe.a(e),a=function(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset-document.documentElement.clientLeft,top:t.top+window.pageYOffset-document.documentElement.clientTop}},l=function(t){var n=document.documentElement&&document.documentElement.scrollTop,r=document.documentElement&&document.documentElement.scrollLeft,o="number"==typeof n?n:document.body.scrollTop,i="number"==typeof r?r:document.body.scrollLeft,l=a(e),c=t.gesture.center.pageX,s=t.gesture.center.pageY,u=t.gesture.center.clientX,f=t.gesture.center.clientY,d=c+i-l.left,p=s+o-l.top;return c===u&&s>f&&!Object(U.isIDevice)()&&(p=f+o-l.top),[d,p]},c={disable:function(){e.classList.remove("pinchzoom-on"),i.off("dragend"),i.off("doubletap"),i.off("pinch"),i.off("drag")},enable:function(){e.classList.add("pinchzoom-on"),i.on("dragend",c.end),i.on("doubletap",c.reset),i.on("pinch",c.zoom),i.on("drag",c.pan)},end:function(){r=void 0,n=void 0,Pe(e,"zoomable-end")},pan:function(t){if("pinch"!==r){r="drag";var o=l(t);n||(n=l(t)),Pe(e,"zoomable-pan",{detail:[o[0]-n[0],o[1]-n[1]]}),t.stopPropagation(),t.gesture.stopPropagation()}},reset:function(){Pe(e,"zoomable-reset")},zoom:function(t){"drag"!==r&&(r="pinch",n=l(t),Pe(e,"zoomable-zoom",{detail:{center:n,newscale:t.gesture.scale}}))}};e.addEventListener("pinchzoom-reset",c.reset),e.addEventListener("pinchzoom-enable",c.enable),e.addEventListener("pinchzoom-disable",c.disable),o.disabled||c.enable()},Ie=Le,Ne=function(e,t){e.classList.add("pinchzoom-container"),e.classList.add("pinchzoom-on");var n=document.createElement("div");n.classList.add("pinchzoom-item"),Array.from(e.children).forEach(function(t){e.removeChild(t),n.appendChild(t)}),e.appendChild(n);var o,i=Object.assign({},{maxscale:4,minscale:1},t),a=ve(me),l={end:function(){o=void 0},pan:function(t){var l=t.detail||[],c=r(l,2),s=c[0],u=c[1];o||(o=_e(n,i.maxscale,i.minscale));var f=o,d=function(){f.pan(s,u),Pe(e,"zoomable-after-pan",{detail:{zoomer:f}})};a.push(d)},reset:function(){o=_e(n,i.maxscale,i.minscale),o.reset(),Pe(e,"zoomable-after-zoom",{detail:{zoomer:o}}),o=void 0},zoom:function(t){var r=t.detail||{},l=r.newscale,c=r.center;if(o||(o=_e(n,i.maxscale,i.minscale)),!c){var s=e.getBoundingClientRect(),u=s.height;c=[s.width/2,u/2]}var f=o,d=c,p=function(){f.zoom(d[0],d[1],l),Pe(e,"zoomable-after-zoom",{detail:{zoomer:f}})};a.push(p)}};e.addEventListener("zoomable-reset",l.reset),e.addEventListener("zoomable-end",l.end),e.addEventListener("zoomable-zoom",l.zoom),e.addEventListener("zoomable-pan",l.pan)},je=Ne,Me=function(){try{return window.localStorage.getItem("mol-fe-gallery/articles")}catch(e){return""}},Re=function(e){try{window.localStorage.setItem("mol-fe-gallery/articles",e)}catch(e){}},De=function(){if(!Ae){var e=Me();Ae=e&&e.length&&e.split(",").map(function(e){return parseInt(e,10)})||[]}return l(Ae)},Be=function(e){Ae=e,Re(Ae.join(","))},Ue=function(e){var t=parseInt(e,10),n=De();if(t&&!n.includes(t)){for(n.push(t);n.length>10;)n.shift();Be(n)}},qe={addArticle:Ue,getArticles:De,saveArticles:Be},ze=function(){function e(){f(this,e),this.eventRemovers=[]}return p(e,[{key:"add",value:function(e,t,n){e.addEventListener(t,n),this.eventRemovers.push(function(){return e.removeEventListener(t,n)})}},{key:"addComplex",value:function(e,t,n){var r=this;Array.from(e).filter(function(e){return e.addEventListener}).forEach(function(e){return t.forEach(function(t){return r.add(e,t,n)})})}},{key:"removeAll",value:function(){for(var e;e=this.eventRemovers.pop();)e()}}]),e}(),Fe=ze,He=n(19),We=n(316),Ve=n.n(We),Ge=He.a.React,Ye=He.a.PropTypes,Ze=function(e){var t=e.image,n=e.ratio,r={};return t&&t.hostUrl&&(r.backgroundImage="url('".concat(t.hostUrl,"')")),Ge.createElement("div",{className:Ve.a.boxMaster,style:{paddingBottom:"".concat(100*n,"%")}},Ge.createElement("div",{className:Ve.a.boxWrapper},Ge.createElement("div",{className:Ve.a.image,style:r})))};Ze.propTypes={image:Ye.shape({hostUrl:Ye.string}),ratio:Ye.number},Ze.defaultProps={image:null,ratio:1};var Ke=Ze,Xe=n(317),Je=n.n(Xe),Qe=He.a.React,$e=He.a.PropTypes,et=function(e){var t=e.items;return Qe.createElement("div",{className:Je.a.container},Qe.createElement("div",{className:Je.a.body},Qe.createElement("div",{className:Je.a.heading},"More galleries"),Qe.createElement("div",{className:Je.a.items,"data-track-module":"gallery-recommendations^gallery"},t.map(function(e,t){var n=e.images,r=void 0===n?[]:n,o=e.imageCount,i=e.headline,a=e.articleId,l=e.articleUrl;return Qe.createElement("a",{className:Je.a.item,"data-allow-propagation":!0,href:"".concat(l,"#gallery"),key:a||t},Qe.createElement("div",{className:Je.a.topSection},Qe.createElement("div",{className:Je.a.itemImage},Qe.createElement(Ke,{image:r[0],ratio:.60177}))),Qe.createElement("div",{className:Je.a.bottomSection},Qe.createElement("div",{className:Je.a.itemImage},Qe.createElement(Ke,{image:r[1],ratio:.73333})),Qe.createElement("div",{className:Je.a.itemImage},Qe.createElement(Ke,{image:r[2],ratio:.73333})),Qe.createElement("div",{className:Je.a.itemImageCount},o?"+ ".concat(o):"...")),Qe.createElement("div",{className:Je.a.headline},i))}))))};et.propTypes={items:$e.arrayOf($e.shape({headline:$e.string,imageCount:$e.number,images:$e.arrayOf($e.object)})).isRequired};var tt=et,nt=n(44),rt=n(27),ot=n(318),it=n.n(ot),at=He.a.React,lt=He.a.PropTypes,ct=function(e){function t(){var e,n;m(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=y(this,(e=w(t)).call.apply(e,[this].concat(o))),n.setElement=function(e){n.element=e},n}return E(t,e),g(t,[{key:"componentDidMount",value:function(){try{window.DM&&window.DM.getPageMetadata&&"mobile"===window.DM.getPageMetadata().renderPlatform?this.initMobile():this.initDesktop()}catch(e){console.log("Was not able to mount SocialButtons",e)}}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"replaceItoInHref",value:function(e,t){return e.replace(/(ito%3D)[a-zA-Z_-]*/g,"$1".concat(t,"_share_article-").concat(this.props.position))}},{key:"replaceItoInText",value:function(e,t){return e.replace(/([?&]ito=)[a-zA-Z_-]*/g,"$1".concat(t,"_share_article-").concat(this.props.position))}},{key:"initPlatforms",value:function(e){var t=this,n=e.platforms,r=e.linksElement,o=e.platformLinkSelector;n.forEach(function(e){try{var n=r.querySelectorAll(o(e)),i=Array.from(n).filter(function(e){return"none"!==e.style.display})[0],a=document.createElement("div");if(a.className="".concat(it.a[e]),i)try{var l=document.createElement("div");if(l.className=i.className,l.innerHTML=i.innerHTML,Array.from(i.attributes).forEach(function(n){var r=n.name,o=n.value;"data-text"===r&&o&&l.setAttribute(r,t.replaceItoInText(o,e))}),"email"===e){var c=l.querySelector("a");c.href=t.replaceItoInHref(c.href,e)}a.appendChild(l)}catch(t){console.error("Could not parse platform ".concat(e," social link"))}t.element.appendChild(a)}catch(t){console.error("Could not find social platform ".concat(e),t)}})}},{key:"initMobile",value:function(){var e=["twitter","whatsapp","email"];window.PageCriteria&&window.PageCriteria.hideFacebook?e.push("sms"):e.unshift("facebook"),this.initPlatforms({linksElement:document.querySelector(".social.top"),platformLinkSelector:function(e){return".".concat(e)},platforms:e}),Object(rt.wrapContainerContent)(this.element,".".concat(it.a.icon," a"))}},{key:"initDesktop",value:function(){var e=["twitter","pinterest","email"];window.PageCriteria&&window.PageCriteria.hideFacebook||e.unshift("facebook"),this.initPlatforms({linksElement:document.querySelector("#articleIconLinksContainer"),platformLinkSelector:function(e){return'[class^="share-'.concat(e,'"]')},platforms:e}),Object(nt.bindButtons)(this.element,this.props.position)}},{key:"render",value:function(){return at.createElement("div",{className:it.a.container,"data-location":this.props.position,ref:this.setElement})}}]),t}(at.Component);ct.propTypes={position:lt.string},ct.defaultProps={position:"image_gallery-last"};var st=ct,ut=n(319),ft=n.n(ut),dt=He.a.React,pt=He.a.PropTypes,ht=function(e){var t=e.title,n=e.recommendations;return dt.createElement("div",{className:"".concat(ft.a.container," slide"),"data-share":!0},dt.createElement("div",{className:ft.a.body},dt.createElement("div",{className:ft.a.heading},dt.createElement("div",{className:ft.a.headingInfo},"Share this story"),dt.createElement("div",{className:ft.a.headingTitle},t||"")),dt.createElement("div",{className:ft.a.socialButtons},dt.createElement(st,null)),dt.createElement("div",{className:ft.a.recommendations},dt.createElement(tt,{items:n}))))};ht.propTypes={recommendations:pt.array,title:pt.string},ht.defaultProps={recommendations:[],title:""};var mt,vt,gt,yt=ht,bt=He.a.render,wt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("div");return bt(yt,t,n),n.children[0]},Et=function(){return window.DM&&window.DM.getPageMetadata&&window.DM.getPageMetadata()||{}},xt=function(){function e(){T(this,e),this.lastResult=null,qe.addArticle(Et().articleId),this.init=this.init.bind(this)}return C(e,[{key:"getElement",value:function(){return this.element||this._setRecommendations([{},{},{},{}]),this.element}},{key:"_setRecommendations",value:function(e){var t=Et(),n=t.articleTitle,r=wt(yt,{recommendations:e,title:n});r.init=this.init,this.element&&this.element.replaceWith(r),this.element=r}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(S(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.lastResult){e.next=5;break}return t=Et(),n=t.channel,e.next=4,fetch("/api/most-watched-videos/rta/ig".concat(n,"/json")).then(function(e){return e.json()});case 4:this.lastResult=e.sent;case 5:return e.abrupt("return",this.lastResult);case 6:case"end":return e.stop()}},e,this)})))},{key:"init",value:function(){function e(e){return t.apply(this,arguments)}var t=S(regeneratorRuntime.mark(function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bkgImage,n&&this.element.parentNode&&1===this.element.parentNode.children.length&&this.element.parentNode.insertBefore(n,this.element),e.next=4,this.fetch();case 4:r=e.sent,o=qe.getArticles(),i=[],a=[],r.items.forEach(function(e){o.includes(e.articleId)?a.push(e):i.push(e)}),this._setRecommendations([].concat(i,a).slice(0,4));case 10:case"end":return e.stop()}},e,this)}));return e}()}]),e}(),kt=xt,St=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return new Promise(function(o){n=i,t||(t=setTimeout(function(){t=null,o(e(n))},r))})}},Tt=St,Ot=function(e,t,n){e.dispatchEvent(fe(t,n))},Ct=function(e){var t=e.querySelectorAll("img[data-src]");Array.from(t).forEach(function(e){!e||e.getAttribute("src")&&"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"!==e.getAttribute("src")||e.setAttribute("src",e.getAttribute("data-src"))})},_t=function(e){return!e||0===e.length},Pt=function(e){try{window.postMessage({data:{message:e},scope:"mol-fe-gallery"},window.location.href)}catch(e){}},At=function(e,t){var n=e.getAttribute("data-index"),r=e.style.left;t.after(e),e.setAttribute("data-index",t.getAttribute("data-index")),t.setAttribute("data-index",n),e.style.left=t.style.left,t.style.left=r},Lt=function(e){var t=e.querySelector(".slide-container"),n=t.getBoundingClientRect().width,r=t.parentNode;Array.from(r.children).forEach(function(e,t){var r=n*-t;e.setAttribute("data-index",t),e.style.left="".concat(r,"px")})},It=function(e,t,n){if(!e.getAttribute("data-video-opts")){var r;r=Math.min(t/e.offsetHeight,n/e.offsetWidth),e.classList.contains(".vjs-video-container")&&t<n&&(r*=.78),["-webkit-transform","-moz-transition","-o-transform","transform"].forEach(function(t){e.style[t]="scale("+r+")"})}},Nt=function(e){var t=-e.offsetHeight/2+"px",n=-e.offsetWidth/2+"px";if(e.classList.contains("vjs-video-container")&&e.classList.contains("vjs-flyout-placeholder")){var r=e.parentNode.querySelector(".vjs-flyout-wrapper-fixed .vjs-video-container");r.style.marginTop=t,r.style.marginLeft=n}else e.style.marginTop=t,e.style.marginLeft=n},jt=function(e,t){e.parentNode.removeChild(e),Lt(t)},Mt=["div","span","img","iframe"],Rt=function(e){return!_t(window.AdIntegrator.getAdContainer(e).querySelector("[data-impression-url]"))&&("none"!==e.style.display&&Array.from(e.children).some(function(e){return Mt.includes(e.tagName.toLowerCase())&&!e.classList.contains("adLinkLabel")}))},Dt=function(e){return e&&e.classList.contains("advert-loaded")},Bt=function(e){return e&&e.classList.contains("advert")},Ut=function(e,t,n){var r=e.map(function(e){return e.closest(".slide-container")});if(r.forEach(function(e){return e.classList.add("loading")}),document.body.classList.contains("molads_interstitial_off"))e.forEach(function(e){var t=e.parentNode;t&&t.parentNode&&t.parentNode.removeChild(t)});else if(window.useGpt){var o=window.adsRenderer,i=window.adListLoader;o&&i&&i.isAdEnabled({pos:"interstitial"})?(o.addLoadListener(t),e.forEach(function(e){o.requestDelayedAdvert(e.id)})):r.forEach(function(e){e&&jt(e,n)})}else e.forEach(function(e){Rt(e)||e.parentNode.parentNode.removeChild(e.parentNode)})},qt=function(e){return e.id&&"google_ads_iframe_"===e.id.slice(0,18)&&"0"!==e.width},zt=function(){return Array.from(document.querySelectorAll(".slide-container.advert .slide"))},Ft=function(){Object(U.isAndroidStock)()||document.querySelector("meta[name=viewport]")||(mt=document.createElement("meta"),mt.setAttribute("name","viewport"),mt.setAttribute("content","user-scalable=0"),document.head.appendChild(mt))},Ht=function(){!Object(U.isAndroidStock)()&&mt&&mt.parentNode&&(mt.setAttribute("content","user-scalable=1"),setTimeout(function(){mt&&mt.parentNode&&mt.parentNode.removeChild(mt)},0))},Wt=n(5),Vt=function(e){var t=document.createElement("div");return t.className=e.className,t.id=e.id+"-clone",Object(Wt.later)("videoplayer-ready",function(){var n=e.children[0],r=n&&window.DM.setupMolVideoJsPlayers.clone(n,{plugins:{tracking:{trackingType:"image_gallery"}}});r&&(r.id=n.id+"-clone",t.appendChild(r),window.DM.setupMolVideoJsPlayers(t))}),t},Gt=function(e){var t,n,r,o=Boolean(e.getAttribute("data-video-opts")),i=e.classList.contains("vjs-video-container");if(o)r="videoimage",t=e.cloneNode(),t.setAttribute("id",t.getAttribute("id")+"-clone"),Array.from(t.children).forEach(function(e){e.classList.contains("js-video")?(e.innerHTML="",e.classList.remove("playing")):t.removeChild(e)}),t.video({objId:"#"+t.getAttribute("id"),trackingType:"image_gallery"});else if(i)t=Vt(e),r="videoimage";else{var a=e.parentNode&&e.parentNode.querySelector(".imageCaption");r="image",n=a&&a.innerHTML||e.getAttribute("alt"),t=e.cloneNode(),t.style.position="",t.style.top="",t.style.height=""}return t.classList.add("slide"),t.setAttribute("data-content-type",r),t.setAttribute("data-caption",n),t},Yt=Gt,Zt=[],Kt=function(e){Zt.push(e);try{window.DM&&window.DM.molFeEnhancedGallery&&window.DM.molFeEnhancedGallery.addBeforeOpenHandler&&window.DM.molFeEnhancedGallery.addBeforeOpenHandler(e)}catch(e){}},Xt=function(e){var t,n,r,o,i,a,l,c,s,u,f,d,p=new Fe,h=document.body.classList.contains("mol-mobile"),m={},v=window.DM&&window.DM.molFeDomHelpers&&window.DM.molFeDomHelpers.scrollUtils,g=!1,y=function(){d=new Date},b=function(){d=void 0},w=function(){return Array.from(o.querySelector(".swipe-wrap").children)},E=function(){var e=w()[c].getAttribute("data-bounce");return!!e&&("next"===e?a.next():a.prev(),!0)},x=function(e){c=e,E()||Ot(window,"slideshow-terminator")},k={terminator:x},S=function e(t,n){var r=n.nextElementSibling,i=r&&r.nextElementSibling;Bt(r)&&!Dt(r)&&(Bt(i)?(jt(i,o),e(t,n)):i&&!i.classList.contains("terminator")?At(r,i):jt(r,o))},T=function(){var e=w();c<=0||c>=e.length||(o.classList.remove("first","last"),e[c-1].classList.contains("terminator")&&o.classList.add("first"),e[c+1].classList.contains("terminator")&&o.classList.add("last"))},O=function(){a=new Q(o,{callback:function(e,t){var n=Array.from(t.querySelectorAll(".slide")).map(function(e){return e.getAttribute("data-show-callback")}).find(function(e){return Boolean(e)});k[n]&&k[n](e),t.querySelector("[data-share]")?Object(U.enableScroll)():Object(U.disableScroll)(),Ot(t,"pinchzoom-enable"),t.nextElementSibling&&(Ot(t.nextElementSibling,"pinchzoom-reset"),Ot(t.nextElementSibling,"pinchzoom-disable")),t.previousElementSibling&&(Ot(t.previousElementSibling,"pinchzoom-reset"),Ot(t.previousElementSibling,"pinchzoom-disable")),S(e,t),T(),setTimeout(function(){window.DM.setupMolVideoJsPlayers&&window.DM.setupMolVideoJsPlayers.forEachPlayer(o,function(){this.pause()})},0)},continuous:!0,startSlide:1}),c=0,setTimeout(function(){window.DM.setupMolVideoJsPlayers&&window.DM.setupMolVideoJsPlayers.forEachPlayer(function(){this.pause()})},0);var e=o.querySelectorAll(".slide")[1],t=e.getAttribute("data-show-callback"),n=o.querySelectorAll(".slide-container:not(.terminator)")[0],r=n.nextElementSibling;Ot(n,"pinchzoom-enable"),Ot(r,"pinchzoom-reset"),Ot(r,"pinchzoom-disable"),k[t]&&k[t](1)},C=function(e){e.target.closest("[data-allow-propagation]")||e.stopPropagation()},P=function(){return r.classList.contains("interacting")},A=function(e){P()&&(e.stopPropagation(),e.preventDefault())},L=function(){if(d&&new Date-d>400||o.classList.contains("data-share-slide"))return void b();b(),o.classList.toggle("no-furniture")},I=function(){return!!g||(g=!0,setTimeout(function(){g=!1},400),!1)},N=function(){o.classList.remove("no-furniture")},j=function(e){e.target.classList.contains("navigation-arrow")&&N()},M=function(e){e.preventDefault(),I()||(a.enableTouch(),j(e),o.classList.contains("last")||a.next())},R=function(e){e.preventDefault(),I()||(a.enableTouch(),j(e),o.classList.contains("first")||a.prev())},D=function(e){I()||(e.preventDefault(),e.stopPropagation(),Ot(window,"slideshow-terminator"))},B=function(e){switch(e.keyCode){case 27:D(e);break;case 37:R(e);break;case 39:M(e)}},q=function(){Object(U.isLandscape)()?(o.classList.remove("portrait"),o.classList.add("landscape")):(o.classList.add("portrait"),o.classList.remove("landscape"))},z=function(e,t,n){e&&(e.style.visibility="hidden"),setTimeout(function(){e&&(Nt(e),It(e,t,n),e.style.visibility="")},10)},F=function(){a&&a.enableTouch();var e=Array.from(o.querySelectorAll(".slide-container:not(.advert):not(.terminator)")),t=window.innerHeight,n=window.innerWidth;e.forEach(function(e){z(e.querySelector(".slide"),t,n)}),o.classList.add("resized")},H=function(){v&&v.scrollTo(0,1)},W={clickCaption:function(e){return!I()&&(e.preventDefault(),e.stopPropagation(),n.classList.toggle("caption-open"),W.truncateCaption(),!1)},getCaptionLineHeight:function(){var e=window.getComputedStyle(n)["line-height"];return"normal"===e?1.16*parseFloat(window.getComputedStyle(n)["font-size"]):parseFloat(e)},resetCaption:function(){i.innerText=u},resetCaptionBox:function(){n.classList.remove("caption-open")},resize:{areWeBigger:function(){return W.resize.lastWidth<window.innerWidth},lastWidth:window.innerWidth,resizeCaption:function(){return W.resize.areWeBigger()?(W.resetCaption(),W.truncateCaption()):n.classList.contains("caption-open")||W.truncateCaption(),W.resize.lastWidth=window.innerWidth,!1}},truncateCaption:function(){if(h&&u)if(n.classList.contains("caption-open"))W.resetCaption();else for(var e=u.split(" "),t=W.getCaptionLineHeight(),r=n.querySelector(".text")||n,o=r.getBoundingClientRect().height;o>3*t;)e.pop(),i.innerText=e.join(" ")+"...",o=r.getBoundingClientRect().height}},V=function(){o.classList.remove("resized"),a.enableTouch(),H(),F(),q(),h&&W.resize.resizeCaption()},G=function(){p.addComplex([l].concat(_(Array.from(o.querySelectorAll(".video-obj")))),["mousemove","mouseup","mousedown","click"],C);var e=Array.from(o.querySelectorAll(".slide-container.image"));p.addComplex(e,["click"],L),p.addComplex(e,["mousedown"],y),p.addComplex(o.querySelectorAll(".navigation-arrow.left"),["touchend","click"],R),p.addComplex(o.querySelectorAll(".navigation-arrow.right"),["touchend","click"],M),p.addComplex(o.querySelectorAll(".mobile-gallery-bar .close-button"),["touchend","click"],D),p.addComplex(o.querySelectorAll(".slide-container.advert"),["click","touchstart","touchend","touchmove"],A),p.add(window,"keyup",B),p.add(window,"resize",Tt(V)),h&&p.addComplex([n],["click","touchend"],W.clickCaption)},Y=function(){var e=w();e[c-1].setAttribute("data-bounce","next"),e[c+1].setAttribute("data-bounce","prev"),o.classList.add("locked")},Z=function(){o.querySelector(".ad-guard").style.display="none",o.querySelector(".adLinkLabel").style.display="none"},K=function(){o.classList.add("interacting"),Y(),Z()},X=function(e){t.innerHTML=e},J=function(e){var t;t=!e||["undefined","null"].includes(e)?"":e,t?n.classList.remove("empty"):n.classList.add("empty"),u=t,i.innerHTML=u,W.resetCaptionBox(),W.truncateCaption()},$=function(){w().forEach(function(e,t){var n=t>=c-1&&t<=c+2;e.classList.contains("image")&&(e.style.visibility=n?"visible":"hidden"),n&&Ct(e)})},ee=function(e,t,n,r){var i=t.getAttribute("data-track-pos"),a=t.getAttribute("id")||"i-preview";c=e,E()||(o.classList.remove("data-share-slide"),o.classList.remove("interstitial"),o.classList.add("image"),X("<span>"+(n+1)+" of "+r+"</span>"),J(t.getAttribute("data-caption")),T(),$(),ce.track(n,t.getAttribute("data-content-type"),a,i))},te=function(e,t,n){var r="image_"+t,i=e.hasAttribute("data-share"),a=i?e:Yt(e);return a.setAttribute("data-show-callback",r),k[r]=function(l){if(ee(l,a,t,n),i&&(o.classList.contains("data-share-slide")||o.classList.add("data-share-slide"),e.init)){var c,s=t&&o.querySelector('[data-show-callback="image_'.concat(t-1,'"]')),u=s&&s.querySelector("video");u?(c=document.createElement("img"),c.src=u.player.poster&&u.player.poster(),c.className="slide"):c=s&&Yt(s),c&&(c.setAttribute("data-show-callback",r),c.setAttribute("data-share","")),e.init({bkgImage:c}),F()}},a},ne=function(){Array.from(o.querySelectorAll(".slide-container:not(.advert):not(.terminator):not([data-share])")).filter(function(e){return!e.querySelector(".video-obj,.vjs-video-container")&&!e.querySelector("[data-share]")}).forEach(function(e){je(e,{maxscale:4,minscale:1}),Ie(e,{disabled:!0}),e.addEventListener("zoomable-after-zoom",function(e){var t=e.detail&&e.detail.zoomer;t&&1===t.getZoom()?a.enableTouch():a.disableTouch()})})},re=function(e){if(e){var t;for(t=0;t<e.length;++t){var n=e[t],r=document.createElement("div"),i=te(n,t,e.length);r.appendChild(i),r.classList.add("slide-container"),r.classList.add("image"),r.style.visibility="hidden",function(e){var t=o.querySelector('.slide-container.advert[data-position="'+e+'"]');return _t(t)?f||o.querySelector(".slide-container.terminator"):t}(t).after(r),f=r}}F(),ne()},oe=function(){Array.from(o.querySelectorAll(".slide-container.image")).forEach(function(e){e.parentNode.removeChild(e)})},ie=function(e){e.closest(".interstitial").setAttribute("data-advert-already-viewed","true")},ae=function(){var e=w();return!(e[c-1].getAttribute("data-bounce")||e[c+1].getAttribute("data-bounce"))},le=function(){o.querySelector(".ad-guard").style.display="block",o.querySelector(".adLinkLabel").style.display="block"},se=function(){var e=w();e[c-1].removeAttribute("data-bounce"),e[c+1].removeAttribute("data-bounce"),o.classList.remove("locked")},ue=function(e){Y(),setTimeout(function(){P()||se()},1e3*e)},de=function(e,t,n){c=t,ce.trackGalleryAdvert(n,e,o.classList.contains("locked")),ae()&&le(),"true"!==e.getAttribute("data-advert-already-viewed")&&(ue(1.5),window.AdImpression.registerImpression(e,ie)),o.classList.remove("image"),o.classList.add("interstitial"),X('<span class="advert">Advertisement</span>'),J(),T()},pe=function(e){var t=e.closest(".advert"),n=Array.from(e.querySelectorAll("iframe")).filter(qt)[0];return n&&(n.width=t.width,n.height=t.height),m[e.id]=0,0},he=function(e){var t=e.data,n=t.id;m[n]&&clearTimeout(m[n]),m[n]=e.type?setTimeout(function(){return pe(t)},200):It()},me=function(e){window.AdBehaviour.isClickThrough(e)||p.add(e.querySelector(".adLinkLabel a"),"click",K);var t=e.querySelector("[data-button-text]").getAttribute("data-button-text");_t(t)||(e.querySelector(".adLinkLabel a").innerText=t)},ve=function(t,n){window.useGpt&&(he({data:n}),p.add(window,"resize",Tt(he.bind({data:n})))),k["advert_"+t]=function(e){de(n,e,t)},me(n),n.setAttribute("data-show-callback","advert_"+t),n.setAttribute("data-advert-already-viewed","false");var r=n.parentNode.getAttribute("data-position");void 0!==r&&""!==r&&null!==r||n.parentNode.setAttribute("data-position",e.images.length)},ge=function(){var e=zt();window.useGpt&&(e=e.filter(function(e){return null!==e.getAttribute("data-show-callback")})),e.forEach(function(e,t){return ve(t,e)})},ye=function(){zt().forEach(function(e){e.style.visibility="visible"})},be=function(){zt().forEach(function(e){e.style.visibility="hidden"})},we=function(e){var t=document.getElementById(e.slot.molAd.parentId);if(t&&t.classList.contains("interstitial")){var n=t.closest(".slide-container");n.classList.add("advert-loaded"),n&&(n.classList.remove("loading"),e.isEmpty?jt(n,o):ve(Number(t.parentNode.getAttribute("data-advert-index")),t))}},Ee=function(){o.classList.remove("interacting"),se(),le(),Ot(l,"adDeactivate",{bubbles:!0,cancelable:!0})},xe=function(){return window.DM.setupMolVideoJsPlayers&&window.DM.setupMolVideoJsPlayers.destroy(o),P()?Ee():(Object(U.enableScroll)(),p.removeAll(),ce.trackGalleryEnd(),be(),oe(),N(),document.body.classList.remove("mobile-gallery-open"),s&&v&&v.scrollToElement(s),l.style.display="none",a.kill(),l.dispatchEvent(fe("close")),Ht(),Pt("close"),null)},ke=function(){Ut(zt(),we,o),ge(),re(e.images),ye()};this.show=function(a){Object(U.isIPhone)()&&(Object(U.disableScroll)(),Object(U.enableScroll)(),Ht()),Ft();try{if(Zt&&Zt.length){for(var c=0,u=Zt;c<u.length;c++){(0,u[c])()}Zt=[]}}catch(e){}Object(U.isMobile)()&&a&&(s=a),l=e.target,l.style.display="block",o=l.querySelector(".swipe"),t=o.querySelector(".top-bar .title"),r=document.getElementById("mobileGallerySlider"),n=o.querySelector(".caption-bar"),i=n.querySelector(".text"),ke(),p.add(window,"slideshow-terminator",xe),Object(U.disableScroll)(),q(),ce.init(),O(),G(),document.body.classList.add("mobile-gallery-open"),Ot(l,"open"),Pt("open")}},Jt=Xt,Qt=function(e,t){for(var n=0;n<t.length;n++)if(e.src===t[n].src)return n;return null},$t=function(){return!navigator.userAgent.match(/Opera Mini/)},en=function(){var e=Object(B.getPageCriteria)();Boolean(e.isMobile&&Object(U.getZoom)()>1)?document.body.classList.add("zoomed"):document.body.classList.remove("zoomed")},tn=function(e){var t=document.createElement("div");t.className="image-wrap",e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),t.appendChild(e)},nn=new kt,rn=function(e,t){var n=[],r=Qt(e,t),o=t.length;Array.from(t).forEach(function(e,t){e.setAttribute("data-track-pos",t)});for(var i=r+o,a=r;a<i;a++)n.push(t[a%o]);return n},on=function(e,t){if(Object(B.getPageCriteria)().isMobile&&Object(U.getZoom)()>1)return!1;var n=document.querySelector("#mobileGalleryModal"),r=new Jt({images:[].concat(I(rn(e,t)),[nn.getElement()]),target:n});return Array.from(document.querySelectorAll(".mobile-gallery-instruction")).forEach(function(e){e.style.display="none"}),r.show(e),!0},an=on,ln=function(e){var t=e.closest("a");t&&(t.classList.remove("lightboxPopupLink"),"FONT"===t.parentNode.tagName&&(t.parentNode.style.fontSize=""))},cn=function(e,t,n){var r=Object(B.getPageCriteria)(),o=Object(B.getPageMetadata)(),i=o.renderPlatform,a=1===t&&"mobile"===i;a||e.closest(".image-wrap")||tn(e),ln(e);var l=a?e.parentNode:e.closest(".image-wrap");e.insertAdjacentHTML("afterend",'<div class="overlay-icon mobile-gallery"><div class="mobile-gallery-icon"></div><span>+'+n.length+"</span></div>");var c=e.nextElementSibling.getBoundingClientRect().width||0;if(!r.isMobile){var s=document.getElementById("share-pictures");if(s&&e.id){var u=s.cloneNode(!0),f=e.getBoundingClientRect(),d=f.height,p=f.width;if(u.attr("id","share-pictures-"+t),e.insertAdjacentElement("afterend",u),d<370){var h=document.querySelector("#share-pictures-"+t+" .share-pictures-links");h.classList.add("image-share-horizontal"),h.style.right="".concat(c+20,"px"),p<390&&h.classList.add("image-share-hide")}window.DMS.ImageShare.initOnImage(u,l)}}l.addEventListener("click",function(){an(e,n)}),l.style.cursor="pointer"},sn=cn,un=function(e){if("IMG"!==e.tagName)return!0;var t=e.height||parseInt(e.getAttribute("height"),10),n=e.width||parseInt(e.getAttribute("width"),10);return t>gt+70||t<gt+70&&t>=gt&&n>vt+90},fn=function(e){return new Promise(function(t){return setTimeout(t,e)})},dn=function(){var e=D(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,l,c,s,u,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mobile,r=void 0===t?{}:t,o="img[id^=i-]",vt=n?200:300,gt=n?150:300,n&&r.allowVideos&&(o="img[id^=i-],div[id^=v-]"),!n){e.next=9;break}return e.next=9,Promise.race([fn(5e3),Object(Wt.later)("FIRST_IDLE")]);case 9:if(en(),i=Array.from(document.querySelectorAll(o)).filter(function(e){return un(e)}),i.filter(function(e){return"IMG"===e.tagName&&!e.closest(".mol-product")}).forEach(function(e,t){return sn(e,t+1,i)}),"#gallery"!==location.hash){e.next=24;break}return a=0,l=0,c=window.location,s=c.pathname,u=c.search,f=function e(){an(i[0],i)?setTimeout(function(){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)},100):(clearTimeout(l),a++<=10&&(l=setTimeout(e,100)))},e.next=19,Object(Wt.later)("ARTICLE_DEFER_BUNDLE_LOADED");case 19:if(!window.DM.molFeSocialShareOverlay){e.next=22;break}return e.next=22,Object(Wt.later)("molFeSocialShareOverlay_LOADED");case 22:f(),history.replaceState("",document.title,"".concat(s).concat(u));case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),pn=dn,hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$t()&&this.bind(e)};hn.prototype.bind=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pn(e),e&&e.mobile||window.addEventListener("touchend",function(){Object(U.onTouchEnd)(en)})};var mn=function(){Array.from(document.querySelectorAll(".image-wrap")).forEach(function(e){e.addEventListener("mouseenter",function(){Array.from(document.querySelectorAll(".image-share-url-lightbox")).forEach(function(e){e.style.display="none"})})})};Object(Wt.later)("DOM_READY",mn);var vn=hn;n.d(t,"loaded",function(){return gn}),n.d(t,"addBeforeOpenHandler",function(){return Kt});var gn=function(){Object(B.getPageCriteria)().enhancedGallery||window.location.search&&window.location.search.match(/debugEnhancedGallery=true/)||(window.ArticlePage=window.ArticlePage||vn)}()},function(e,t){e.exports={"mol-mobile":"mol-mobile-UwMRC"}},function(e,t){},function(e,t){e.exports={contentContainer:"contentContainer-B1Kc0",boxMaster:"boxMaster-2-PKm",boxWrapper:"boxWrapper-15UFB",boxContent:"boxContent-3owbU",lightOverlay:"lightOverlay-3Gcxy",image:"image-1BJEG boxContent-3owbU"}},function(e,t){e.exports={contentContainer:"contentContainer-18qn2",boxMaster:"boxMaster-1p4k7",boxWrapper:"boxWrapper-11fcl",boxContent:"boxContent-11ZND",lightOverlay:"lightOverlay-1nnjp",container:"container-2qvBX",body:"body-1lx-t contentContainer-18qn2",heading:"heading-9rIDD",items:"items-1kJ5z",item:"item-3mLm_",headline:"headline-h1hH5",itemImage:"itemImage-3LA_5 lightOverlay-1nnjp",itemImageCount:"itemImageCount-26JLQ lightOverlay-1nnjp",topSection:"topSection-TVi1l",bottomSection:"bottomSection-1BNbt"}},function(e,t){e.exports={contentContainer:"contentContainer-1gbyg",boxMaster:"boxMaster-3Hdnu",boxWrapper:"boxWrapper-3P2G2",boxContent:"boxContent-NJKaa",lightOverlay:"lightOverlay-phxOv",container:"container-KWY4h contentContainer-1gbyg",icon:"icon-12T4J lightOverlay-phxOv",facebook:"facebook-31x2k icon-12T4J lightOverlay-phxOv",twitter:"twitter-3VoI7 icon-12T4J lightOverlay-phxOv",pinterest:"pinterest-2QR5v icon-12T4J lightOverlay-phxOv",whatsapp:"whatsapp-1V4KR icon-12T4J lightOverlay-phxOv",email:"email-S2lZD icon-12T4J lightOverlay-phxOv",sms:"sms-3XE7L icon-12T4J lightOverlay-phxOv"}},function(e,t){e.exports={contentContainer:"contentContainer-33zQe",boxMaster:"boxMaster-12SDZ",boxWrapper:"boxWrapper-1VMD0",boxContent:"boxContent-1lUI0",lightOverlay:"lightOverlay-3oovf",container:"container-NCKuK",body:"body-2NJxr",heading:"heading-eI_-O contentContainer-33zQe",headingInfo:"headingInfo-18-yX",headingTitle:"headingTitle-39He0",socialButtons:"socialButtons-3Hdwz",recommendations:"recommendations-3yTyt"}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){a(c,r,o,i,l,"next",e)}function l(e){a(c,r,o,i,l,"throw",e)}var c=e.apply(t,n);i(void 0)})}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"init",function(){return B});var c=n(23),s=n.n(c),u=n(11),f=n.n(u),d=n(1),p=(n.n(d),n(0)),h=(n.n(p),n(3)),m=(n.n(h),n(321)),v=(n.n(m),{integration:"sp_IAjfVigC",production:"sp_jhHPoiRK"}),g=function(){try{var e=window.localStorage.getItem("SPOTIM_CURRENT_USER"),t=e&&JSON.parse(e);return t&&t.data&&t.data.id||null}catch(e){return null}},y=function(){try{var e=window.localStorage.getItem("mol-fe-openweb-comments-pairing");return e&&JSON.parse(e)||null}catch(e){return null}},b=function(e,t){try{window.localStorage.setItem("mol-fe-openweb-comments-pairing",JSON.stringify({dmUserId:t,spotImUserId:e}))}catch(e){}},w=function(){var e=l(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("/registration/p/openweb/register-user",{codeA:t},{withCredentials:!0});case 3:r=e.sent,o=r.data.codeB,n(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p.logger.error("Error spotim reg handshake",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),E=!1,x=null,k=function(){var e="/registration/logout.html?targetUrl=".concat(encodeURIComponent(location.href));location.href=e},S=function(){var e=l(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!E&&window.SPOTIM&&window.SPOTIM.startSSO){e.next=2;break}return e.abrupt("return");case 2:if(E=!0,x&&clearInterval(x),document.documentElement.classList.add("mol-fe-openweb-loaded"),window.DM.isLoggedIn&&window.DM.userId){e.next=11;break}if(p.logger.info("Not starting spotim SSO - not logged in"),!window.SPOTIM.logout){e.next=10;break}return e.next=10,window.SPOTIM.logout();case 10:return e.abrupt("return");case 11:if(t=g(),n=window.DM.userId,r=y(),!(t&&n&&r)||r.dmUserId===n&&r.spotImUserId===t){e.next=19;break}if(p.logger.info("Users do not match storage - logout SPOTIM"),!window.SPOTIM.logout){e.next=19;break}return e.next=19,window.SPOTIM.logout();case 19:return p.logger.info("Starting spotim SSO"),e.prev=20,e.next=23,window.SPOTIM.startSSO(w);case 23:o=e.sent,b(o.id,window.DM.userId),p.logger.info("Logged in spotim",o),document.addEventListener("spot-im-user-logout",k),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(20),p.logger.error("Error logging in spotim",e.t0);case 32:case"end":return e.stop()}},e,null,[[20,29]])}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=new f.a(window.location.href,!0);e.set("hash",""),e.set("query",o({},e.query||{},{openWebLoggedIn:!0}));var t=Object(d.getPageMetadata)(),n=t.renderPlatform,r="mobile"===n?"mweb_openweb":"openweb",i="/registration/login.html?reg_source=".concat(r,"&targetUrl=").concat(encodeURIComponent(e.href));window.location.href=i},O=null,C=null,_=function(){var e=Object(d.getPageMetadata)(),t=e.renderPlatform;if("desktop"===t){O=document.querySelector("#reader-comments"),O.innerHTML="";var n=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.isIntersecting&&(C=Date.now(),t.disconnect())}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}};new IntersectionObserver(n).observe(O)}else"mobile"===t&&(O=document.querySelector("#comments"),O.innerHTML="")},P=function(){document.body.classList.add("comments-on"),O.classList.add("comments-active"),C||(C=Date.now())},A=function(){document.body.classList.remove("comments-on"),O.classList.remove("comments-active"),location.hash=""},L=function(){var e=document.querySelector('meta[name="keywords"]');return e&&e.content?e.content:Object(d.getPageCriteria)().channel},I=function(){var e=Object(d.getPageMetadata)(),t=e.articleId,n=e.renderPlatform,r=Object(d.getPageCriteria)(),o=r.readerComments,i=r.openwebMessagesCount,a=document.createElement("div"),l=window.location.hash&&window.location.hash.startsWith("#comments")||window.location.search&&window.location.search.match(/openWebLoggedIn/)||window.location.search&&window.location.search.match(/spot_im_scroll_to_comments=true/)||window.location.search&&window.location.search.match(/spot_im_highlight_immediate=true/);if(a.dataset.spotimModule="conversation",a.dataset.postId=t,"R"===o&&(a.dataset.readOnly=!0),i&&(a.dataset.messagesCount=i),a.dataset.articleTags=L(),"desktop"===n){var c=document.createElement("a"),s=document.createElement("a");c.id="comments",s.id="newcomment",O.appendChild(c),O.appendChild(s),O.appendChild(a),l&&(a.scrollIntoView(),document.addEventListener("spot-im-conversation-loaded",function(){a.scrollIntoView()}))}else if("mobile"===n){O.appendChild(a);var u=document.createElement("button");u.addEventListener("click",A),u.classList.add("closeCommentsButton"),O.appendChild(u);for(var f=Array.from(document.querySelectorAll(".comments-count, [data-open-comments]")),p=0,h=f;p<h.length;p++){var m=h[p];m.addEventListener("click",P)}document.documentElement.classList.remove("waiting-on-comments"),l&&P()}},N={"spot-im-clicked-delete-message":h.pageEvents.OPENWEB_DELETE_MESSAGE,"spot-im-clicked-edit-message":h.pageEvents.OPENWEB_EDIT_MESSAGE,"spot-im-conversation-loaded":h.pageEvents.OPENWEB_IMPRESSION,"spot-im-conversation-viewed":h.pageEvents.OPENWEB_VIEWABLE,"spot-im-current-user-sent-message-failed":h.pageEvents.OPENWEB_SEND_FAIL,"spot-im-current-user-sent-message-succeed":h.pageEvents.OPENWEB_SEND_SUCCESS,"spot-im-login-start":h.pageEvents.OPENWEB_LOGIN_START,"spot-im-post-login":h.pageEvents.OPENWEB_POST_LOGIN_SUCCESS,"spot-im-share-drop-down":h.pageEvents.OPENWEB_SHARE_CONTEXT,"spot-im-sort-by-drop-down":h.pageEvents.OPENWEB_SORT_OPEN,"spot-im-user-down-vote-click":h.pageEvents.OPENWEB_DOWNVOTE,"spot-im-user-up-vote-click":h.pageEvents.OPENWEB_UPVOTE},j=["spot-im-conversation-loaded","spot-im-conversation-viewed"],M={},R=function(){document.addEventListener("spot-im-sort-by-select",function(e){var t=e&&e.detail&&e.detail.sortedBy;h.pageEvents.publish(h.pageEvents.PAGE_COMMENT_TAB_SWAPPED,Object(d.getPageMetadata)({contentType:"commenttab",tab:t})),h.pageEvents.publish(h.pageEvents.OPENWEB_SORT_SELECT,{label:t})}),document.addEventListener("spot-im-share-type",function(e){var t=e&&e.detail&&e.detail.type;h.pageEvents.publish(h.pageEvents.OPENWEB_SHARE_TYPE,{label:t})});for(var e=0,t=Object.keys(N);e<t.length;e++)!function(){var n=t[e];document.addEventListener(n,function(){j.includes(n)&&M[n]||(M[n]||(M[n]=0),M[n]++,h.pageEvents.publish(N[n]))})}()},D=function(e){try{var t=e.detail.userId,n=window.DM.userId&&window.DM.userId===t,r=n?"/registration/profile.html":"/registration/".concat(t,"/profile.html");h.pageEvents.publish(h.pageEvents.OPENWEB_OPEN_PROFILE,{userId:t}),location.href=r}catch(e){p.logger.error("Error opening profile",e)}},B=function(){var e=Object(d.getPageMetadata)(),t=Object(d.getPageCriteria)(),n=t.pageType,r=t.readerComments,o=t.openwebMessagesCount;if("article"===n&&"X"!==r){_();var i=document.createElement("script"),a=v[e.environment]||v.integration;i.src="".concat("https://launcher.spot.im/spot","/").concat(a),i.dataset.spotimModule="spotim-launcher",i.dataset.postUrl=document.querySelector('link[rel="canonical"]').href,i.dataset.postId=e.articleId,i.onload=I,i.onerror=function(){h.pageEvents.publish(h.pageEvents.OPENWEB_LOAD_ERROR)},o&&(i.dataset.messagesCount=o),"R"===r&&(i.dataset.readOnly=!0),i.dataset.articleTags=L(),document.addEventListener("spot-im-api-ready",S,!1),document.addEventListener("spot-im-login-start",T),document.addEventListener("ow-open-custom-user-profile",D),R(),document.head.appendChild(i);var l=setInterval(function(){var e=document.querySelector('[data-spotim-module="conversation"]'),t=e&&e.children&&e.children[0],n=t&&t.shadowRoot;if(n){n.querySelector(".spcv_sort-container,.spcv_editor-wrapper")&&(clearInterval(l),h.pageEvents.publish(h.pageEvents.OPENWEB_LOAD_TIME,{value:C?Date.now()-C:0}))}},200);x=setInterval(S,1e3)}};try{(window.location.search&&window.location.search.match(/debugOpenWeb=true/)||Object(d.getPageCriteria)().openwebEnabled)&&B()}catch(e){p.logger.error("Error initialising Openweb",e),h.pageEvents.publish(h.pageEvents.OPENWEB_LOAD_ERROR)}},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"loaded",function(){return c});var o=n(323),i=(n.n(o),n(5)),a=(n.n(i),n(0)),l=(n.n(a),n(3)),c=(n.n(l),function(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){function a(e){r(c,o,i,a,l,"next",e)}function l(e){r(c,o,i,a,l,"throw",e)}var c=e.apply(t,n);a(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.later)("DOM_READY");case 3:return t=Array.from(document.querySelectorAll(".mol-product")),t.forEach(function(e){var t=e.querySelector(".mol-product-header"),n=e.querySelector(".mol-product-footer"),r=e.querySelector(".mol-product-cta"),o=e.getAttribute("data-product-title")||t.textContent||t.innerText||"",i=o.toLowerCase().trim().replace(/\s/g,"_").replace(/[^0-9a-zA-Z_]/g,"").substring(0,215);t.addEventListener("click",function(){return l.pageEvents.publish(l.pageEvents.PRODUCT_TITLE_LINK,{productName:i})}),n.addEventListener("click",function(){return l.pageEvents.publish(l.pageEvents.PRODUCT_PRICE_LINK,{productName:i})}),r.addEventListener("click",function(){return l.pageEvents.publish(l.pageEvents.PRODUCT_BUTTON_LINK,{productName:i})})}),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),a.logger.error("Error during mol-fe-products initialisation: ",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))())},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(325),n(5)),i=n(0),a=n(3),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector('[itemProp="articleBody"]')||document.querySelector("article"),n=t.querySelector(".mol-products-sticky-bar"),r=t.querySelector(".mol-products-sticky-bar-placeholder"),o=document.body.classList.contains("mol-mobile")?document.querySelector("div.scrollable-content"):window,i=t.querySelector("p");o.addEventListener("scroll",function(){var t=(e||i).getBoundingClientRect().bottom<=0,o=r.getBoundingClientRect().bottom-window.innerHeight>=0;t&&o?n.classList.add("sticky"):n.classList.contains("sticky")&&n.classList.remove("sticky")})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=document.querySelector(".mol-product-sticky-cta-wrapper .mol-product-cta"),n=e&&e.querySelector(".mol-product-header"),r=e&&e.getAttribute("data-product-title")||n&&n.textContent||n&&n.innerText||"",o=r.toLowerCase().trim().replace(/\s/g,"_").replace(/[^0-9a-zA-Z_]/g,"").substring(0,215);t.addEventListener("click",function(){return a.pageEvents.publish(a.pageEvents.PRODUCT_BUTTON_LINK,{location:"bar",productName:o})})}catch(e){i.logger.error("Something went wrong with event tracking")}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e||t){var n=e&&e.querySelector(".mol-product"),r=e&&e.className.replace("mol-products-module",""),o=document.querySelector('[itemProp="articleBody"]')||document.querySelector("article"),i=n&&n.querySelector(".mol-product-cta"),a=t&&t.buttonUrl||n&&n.dataset.stickyProductUrl||i&&i.href,s=t&&t.buttonText||i&&i.innerText||"Shop",u=i&&i.classList||"mol-product-cta wocc";if(a&&s){var f='<a class="'.concat(u,'" target="_blank" href="').concat(a,'">').concat(s,"</a>"),d='\n  <div class="mol-products-sticky-bar-placeholder">\n    <div class="mol-products-sticky-bar '.concat(r||"",'">\n      <div class="mol-product-sticky-cta-wrapper">\n        ').concat(f,"\n      </div>\n    </div>\n    </div>");o.insertAdjacentHTML("beforeend",d),l(n),c(n)}}};n.d(t,"loaded",function(){return u});var u=function(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){function a(e){r(c,o,i,a,l,"next",e)}function l(e){r(c,o,i,a,l,"throw",e)}var c=e.apply(t,n);a(void 0)})}}(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.later)("DOM_READY");case 3:return t=Array.from(document.querySelectorAll(".mol-products-module")).filter(function(e){var t=e.querySelector(".mol-product"),n=t.querySelector(".mol-product-cta"),r=t.dataset.stickyProductUrl||n.href;return!t.classList.contains("hide-cta")&&!r.match(/^\#|\#$/g)}),n=window.stickyProductBarOverride,(1===t.length||n)&&s(t&&t[0],n),e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),i.logger.error("Error during mol-fe-products-sticky-bar initialisation: ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))()},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),o=n(0),i=function(e,t,n,r){for(var o=n.children,i=o.length,a=[],l=Math.max(0,Math.max(0,r)+t.getBoundingClientRect().height-e.getBoundingClientRect().height),c=0,s=i;s&&c<l;){var u=o[s];u&&u.classList&&!u.classList.contains("puff-ad")&&!u.classList.contains("native-ad")&&(a.push(u),c+=u.getBoundingClientRect().height+5,s===i-1&&Array.from(u.children).forEach(function(e){e&&e.classList&&e.classList.remove("bottom")})),s--}return a},a=i,l=function(e){return e&&Array.from(e.parentNode.children).find(function(e){return e&&e.classList.contains("alpha")})},c=function(e){return e.classList&&!e.classList.contains("puff-ad")&&!e.classList.contains("native-ad")},s=function(e,t){return e.getBoundingClientRect().height-t.getBoundingClientRect().height},u=[],f=function(){var e=document.querySelectorAll(".beta .femail .puff ul, .beta .tvshowbiz .puff ul");if(!e.length)return void o.logger.info("No puffs found on the page");var t=e[0],n=e[1],r=t&&t.closest(".beta"),i=n&&n.closest(".beta"),f=l(r),d=l(i);if(!t||!r||!f)return void o.logger.info("No single/double/puff pairing found on the page");var p=s(f,r);if(p>0){if(d&&i&&n){for(var h=p,m=Array.from(n.children).filter(c),v=m[0].getBoundingClientRect().height+5;m.length>1&&h>v;){var g=m[0];t.appendChild(g),m=Array.from(n.children).filter(c),h-=v,v=m[0].getBoundingClientRect().height+5}var y=a(d,i,n,0);y.forEach(function(e){e.parentNode&&(u.push(e),e.parentNode.removeChild(e))})}}else{var b=a(f,r,t,0);if(d&&i&&n){b.forEach(function(e){n.insertBefore(e,n.firstChild)});a(d,i,n,r.getBoundingClientRect().height-f.getBoundingClientRect().height).forEach(function(e){e.parentNode&&(u.push(e),e.parentNode.removeChild(e))})}else b.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}if(d&&i&&n&&u.length)for(var w=s(d,i);w>120&&u.length>0;){var E=u.pop();n.appendChild(E);var x=E.querySelector("img[data-src]");x&&(x.src=x.dataset.src),w-=E.getBoundingClientRect().height}},d=f;n.d(t,"init",function(){return p});var p=function(){var e=Object(r.debounce)(function(){return d()},500),t=window.adsRenderer;t&&t.addLoadListener&&t.addLoadListener(function(t){var n=t&&!t.isEmpty&&t.slot&&t.slot.molAd&&t.slot.molAd.parentId;if(n){var r=document.getElementById(n);r&&r.closest(".beta")&&e()}}),e();var n=0,o=setInterval(function(){e(),++n>10&&clearInterval(o)},1e3)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(123),o=n(328),i=(n.n(o),n(329)),a=(n.n(i),n(330)),l=(n.n(a),n(331)),c=(n.n(l),n(332));n.n(c);n.d(t,"Rotator",function(){return r.a})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}Object.defineProperty(t,"__esModule",{value:!0});var o={};n.d(o,"init",function(){return y});var i={};n.d(i,"init",function(){return M});var a={};n.d(a,"SOCIAL_ELEMENTS_HTML",function(){return D}),n.d(a,"SHARE_ELEMENTS_HTML",function(){return B}),n.d(a,"fShareComment",function(){return R.a}),n.d(a,"tShareComment",function(){return R.c}),n.d(a,"pShareComment",function(){return R.b}),n.d(a,"shareComment",function(){return q}),n.d(a,"updateHoverElements",function(){return H});var l=(n(30),n(5)),c=n(0),s=n(4),u=n(16),f=n(17),d=n(31),p=n(32),h=n(18),m=n(33),v=n(14),g=n(34),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.bindClickToFollowButton)(e.channel)},b=n(44),w=n(3),E=n(1),x=n(22),k=["facebook","flipboard","threads","tiktok","twitter","pinterest","instagram","snapchat","youtube"],S={facebook:{height:600,width:1100},flipboard:{height:600,width:1100},instagram:{height:600,width:1100},pinterest:{height:600,width:1100},snapchat:{height:600,width:1100},threads:{height:600,width:1100},tiktok:{height:600,width:1100},twitter:{height:500,width:760},youtube:{height:600,width:1100}},T={facebook:{dailymailtv:{link:"https://www.facebook.com/DailyMailTV",text:"Daily Mail TV"},extratime:{bold:"Share",link:["https://www.facebook.com/dialog/feed?app_id=146202712090395","&name=",encodeURIComponent("Enjoy all the latest and exclusive celebrity sports news from MailOnline"),"&caption= ","&link=",encodeURIComponent("http://www.dailymail.co.uk/sport/extratime/index.html"),"&redirect_uri=",encodeURIComponent("http://www.dailymail.co.uk/sport/extratime/index.html"),"&description=",encodeURIComponent("Find out what celebrity sports stars get up to away from the action with the latest news, photos and videos in MailOnlines dedicated sports showbiz page."),"&picture=",encodeURIComponent("https://i.dailymail.co.uk/i/sport/154x154_extra_time.png")].join(""),text:"Extra Time"},home:{account:"DailyMail",text:"Daily Mail"},money:{link:"https://www.facebook.com/pages/This-is-Money/310555847252",text:"This is Money"},sport:{account:"DailyMailSport",text:"Daily Mail Sport"},transfernews:{bold:"Share",link:["https://www.facebook.com/dialog/feed?app_id=146202712090395","&name=",encodeURIComponent("Read all the latest and exclusive transfer news from MailOnline"),"&caption= ","&link=",encodeURIComponent("http://www.dailymail.co.uk/sport/transfernews/index.html"),"&redirect_uri=",encodeURIComponent("http://www.dailymail.co.uk/sport/extratime/index.html"),"&description=",encodeURIComponent("Be the first to find out whos moving where and for how much with MailOnlines dedicated transfer news page."),"&picture=",encodeURIComponent("https://i.dailymail.co.uk/i/sport/154x154_transfer_news.png")].join(""),text:"Transfer News"},tvshowbiz:{account:"DailyMailCeleb",text:"Daily Mail Celeb"}},flipboard:{auhome:{link:"https://flipboard.com/@DailyMailAus",text:"Daily Mail"},home:{link:"https://flipboard.com/@DailyMailUK",text:"Daily Mail"},sport:{link:"https://flipboard.com/@dailymail/daily-mail-sports-o2cd7gl4z",text:"Daily Mail Sport"},tvshowbiz:{link:"https://flipboard.com/@dailymail/daily-mail-showbiz-mb56uebbz",text:"Daily Mail Celeb"},ushome:{link:"https://flipboard.com/@DailyMailUS",text:"Daily Mail"},usshowbiz:{link:"https://flipboard.com/@dailymailus/daily-mail-showbiz-eki2llkgz",text:"Daily Mail Celeb"}},instagram:{home:{account:"dailymail",text:"@DailyMail"},sport:{account:"mailsport",text:"@mailsport"}},pinterest:{home:{account:"DailyMail",text:"Daily Mail"},tvshowbiz:{account:"dailymailceleb",text:"Daily Mail Celeb"}},threads:{sport:{account:"@mailsport",bold:"Follow",text:"@mailsport"}},tiktok:{sport:{account:"@dailymailsport",bold:"Follow",text:"@dailymailsport"}},twitter:{dailymailtv:{account:"DailyMailTV",text:"@DailyMailTV"},extratime:{bold:"Share",link:["https://twitter.com/intent/tweet?related=MailSport,MailOnline&text=",encodeURIComponent("Find out what celebrity sports stars get up to away from the action with MailOnlines dedicated sports showbiz page. http://dailym.ai/1krSwk2")].join(""),text:"Extra Time"},femail:{account:"Femail",text:"@Femail"},home:{account:"MailOnline",text:"@MailOnline"},money:{account:"thisismoney",text:"@thisismoney"},news:{account:"dailymailuk",text:"@dailymailuk"},newspictures:{account:"dailymailpics",text:"@dailymailpics"},newsUS:{account:"dailymailus",text:"@dailymailus"},sciencetech:{account:"dailymailtech",text:"@dailymailtech"},sport:{account:"MailSport",text:"@MailSport"},transfernews:{bold:"Share",link:["https://twitter.com/intent/tweet?related=MailSport,MailOnline&text=",encodeURIComponent("Be the first to find out which players are on the move with MailOnlines dedicated transfer news page. http://dailym.ai/1krSwk2")].join(""),text:"Transfer News"},travel:{account:"travelmail",text:"@travelmail"},tvshowbiz:{account:"DailyMailCeleb",text:"@DailyMailCeleb"}},youtube:{home:{account:"dailymail",bold:"Subscribe",text:"Daily Mail"},sport:{account:"@mailsportfootball",bold:"Subscribe",text:"Daily Mail"}}},O=function(e){w.pageEvents.publish(w.pageEvents.SOCIAL_SHARE_CLICKED,{pageMetadata:Object(E.getPageMetadata)({articleId:"non-article"}),placement:"non-native",site:e})},C=function(e,t,n,r){return r[e]&&r[e][t]&&r[e][t][n]},_=function(e,t,n){var r=window.PageCriteria.channel||"home",o=window.PageCriteria.subchannel||"home",i=window.PageCriteria.geo&&"GB"!==window.PageCriteria.geo?window.PageCriteria:"",a=r+i;return C(e,o+i,t,n)||C(e,o,t,n)||C(e,a,t,n)||C(e,r,t,n)||C(e,"home",t,n)},P=function(e,t){return _(e,"account",t)},A=function(e,t){return _(e,"text",t)},L=function(e,t){return _(e,"bold",t)},I=function(e,t){var n=_(e,"link",t);if(n)return n;var r=P(e,t),o=window.twitterVia||"MailOnline";return{facebook:"https://www.facebook.com/".concat(r),instagram:"https://www.instagram.com/".concat(r),pinterest:"https://pinterest.com/".concat(r),snapchat:"https://www.snapchat.com/discover/Daily-Mail/8392137033",threads:"https://www.threads.net/".concat(r),tiktok:"https://www.tiktok.com/".concat(r),twitter:"https://twitter.com/intent/user?screen_name=".concat(r,"&related=").concat(o),youtube:"https://www.youtube.com/".concat(r)}[e]},N=function(e,t){k.forEach(function(n){var r=e.querySelector(".".concat(n)),o=S[n],i=o.width,a=o.height;r&&r.addEventListener("click",function(e){e.preventDefault(),O(n),Object(s.j)(I(n,t),"",Object(s.g)(i,a))})})},j=function(e,t){k.forEach(function(n){var r=e.querySelector(".".concat(n," span")),o=e.querySelector(".".concat(n," b")),i=A(n,t),a=L(n,t);r&&i&&(r.innerText=i),o&&a&&(o.innerText=a)})},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.querySelector("ul.dms-puff"),n=Object(x.merge)({},T,e);N(t,n),j(t,n)},R=n(99),D='\n  <a class="fShareComment"></a>\n  <a class="tShareComment"></a>\n  <span class="pShareComment"></span>\n',B='\n  <div class="shareComment">\n    '.concat(D,'\n    <span class="copyCommentLink"></span>\n    <span class="shareExpansionAnchor"></span>\n  </div>\n'),U=function(e,t,n){var r=n&&n.commentId?n:window.DM.RC.getCommentData(t);if(e.target.classList.contains("fShareComment"))Object(R.a)(r.commentLink,r.commenterName,r.commentBody);else if(e.target.classList.contains("tShareComment"))Object(R.c)(r.commentLink,r.commenterName,r.commentBody);else if(e.target.classList.contains("pShareComment")){var o=Object(s.j)("about:blank","",Object(s.g)(800,320,!0));w.ted.tedEvent("social-event",{"social-event":"pinterest-share-comment"}),r.shortUrl=r.commentLink,Object(R.b)(o,r.commentLink,r)}},q=U,z=function(e){if(e){var t=e.querySelector(".reportAbuseLink");t&&(t.style.visibility="visible")}},F=function(){var e=document.querySelector("#js-comments .reply.hovered");if(e)return void z(e);var t=document.querySelector("#js-comments .comment.hovered");t&&z(t)},H=Object(x.debounce)(F,10),W={Article:b,buildUrlParameters:s.b,domain:s.c,Email:f,Facebook:u,Fark:d,getWindowDimensions:s.g,LinkedIn:p,Navigation:o,Pinterest:h,PollShare:g,postToURL:s.i,Puff:i,RC:a,Reddit:m,socialClick:s.h,Twitter:v},V=function(){window.DMS=Object.assign(window.DMS||{},W),Object.assign(window,{emailArticle:window.emailArticle||W.Email.emailArticle,postToFark:window.postToFark||W.Fark.postToFark,postToFB:window.postToFB||W.Facebook.postToFB,postToLinkedIn:window.postToLinkedIn||W.LinkedIn.postToLinkedIn,postToPinterest:window.postToPinterest||W.Pinterest.postToPinterest,postToReddit:window.postToReddit||W.Reddit.postToReddit,postToTWTTR:window.postToTWTTR||W.Twitter.postToTWTTR})},G=function(){Array.from(document.querySelectorAll("[data-dm-social-article-auto-init]")).forEach(function(e){Object(b.init)(e.getAttribute("id"))})},Y=G,Z=function(){Object(l.later)("DOM_READY",function(){Array.from(document.querySelectorAll(".facebook-like-static")).forEach(function(e){e.addEventListener("click",function(t){var n=e.getAttribute("data-href");n&&(t.preventDefault(),Object(s.j)(n,"",Object(s.g)(1100,600)))})})})},K=Z,X=n(54),J=[{attributeName:"data-email-share-style",propertyName:"emailShareStyle"},{attributeName:"data-hide-email",parseAsJson:!0,propertyName:"hideEmail"},{attributeName:"data-headline",propertyName:"headline"},{attributeName:"data-is-channel",parseAsJson:!0,propertyName:"isChannel"}],Q=function(e){var t=document.querySelector("#".concat(e));if(t){var n=document.querySelector('meta[property="og:image"]'),r={anchor:t.getAttribute("data-anchor"),articleChannelFollowButton:t.getAttribute("data-article-channel-follow-button"),eArticleImage:n&&n.getAttribute("content")&&encodeURIComponent(n.getAttribute("content"))||"",eTwitterStatus:t.getAttribute("data-twitter-status"),id:t.getAttribute("data-article-id"),placement:t.getAttribute("data-placement"),showPinterest:!0,title:t.getAttribute("data-formatted-headline"),url:t.getAttribute("data-url")};J.forEach(function(e){var n=e.attributeName,o=e.parseAsJson,i=e.propertyName;if(t.hasAttribute(n))if(o)try{r[i]=JSON.parse(t.getAttribute(n))}catch(e){c.logger.error("Failed to parse value as JSON in initSocialButtons (attribute: ".concat(n,", value: ").concat(t.getAttribute(n),")"))}else r[i]=t.getAttribute(n)}),Object(X.init)({id:e,params:r})}},$=function(){var e=document.querySelector("#socialLinks");e&&window.DM&&window.DM.SCExternalLinks&&window.DM.SCExternalLinks({value:e.getAttribute("data-external-link-tracking-value")})},ee=function(){Object(b.init)("top"),Q("shareLinkTop"),Object(b.init)("bottom"),Q("shareLinkBottom"),$()},te=ee,ne=n(10),re=["p","ul","h1","h2",".mol-article-quote"],oe=[".share-pictures-links","#most-read-news-wrapper","a","input",'[data-social-scope="link"]'],ie=function(e){return e.closest(re.join(","))&&!e.closest(oe.join(","))},ae=function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:""},le=function(e){return e.length>1e3?e.substring(0,996)+'..."':e},ce=function(e){var t=document.querySelector("meta[property=twitter\\:title]"),n=document.querySelector("meta[property=og\\:image]"),r=document.querySelector('meta[property="og:url"]'),o=t&&t.getAttribute("content"),i=document.querySelector(".article-text h1"),a=window.twitterVia&&"MailOnline"!==window.twitterVia?window.twitterVia:window.currentChannelTwitterFollow;return{caption:le(e),description:"www.dailymail.co.uk",headline:i&&i.innerText||o,link:r&&r.getAttribute("content")||window.location.href||"",message:" ",name:o,picture:n&&n.getAttribute("content"),redirect_uri:"https://i.dailymail.co.uk/i/pix/facebook/close.html",text:e,title:" ",type:"text",url:window.articleShortUrl||r&&r.getAttribute("content")||window.location.href||"",via:a||"MailOnline"}},se=function(){if("article"===window.PageCriteria.pageType&&!Object(ne.isMobile)()&&!Object(E.getPageMetadata)().textBased){var e,t,n=document.querySelector(".article-text"),r=document.createElement("div"),o="",i=!1;r.id="dms-txt",r.innerHTML='\n    <ul>\n      <li class="share">SHARE SELECTION</li>\n      <li class="facebook"></li>\n      <li class="twitter"></li>\n      <li class="mail"></li>\n    </ul>\n  ',document.body.insertBefore(r,document.body.firstChild),n.addEventListener("mouseup",Object(x.debounce)(function(n){if(o=ae(),o=o&&o.trim(),i=i&&ie(n.target),o&&i){var a=n.pageY>e?n.pageY:e,l=n.pageY>e?n.pageX:t;r.style.top="".concat(a,"px"),r.style.left="".concat(l,"px"),r.style.display="inline"}},500)),n.addEventListener("mousedown",function(n){e=n.pageY,t=n.pageX,i=ie(n.target),r.style.display="none"}),r.addEventListener("mousedown",function(e){e.stopPropagation()}),r.querySelector("li.facebook").addEventListener("click",function(){Object(u.postToFB)("text",ce(o)),r.style.display="none"}),r.querySelector("li.twitter").addEventListener("click",function(){Object(v.postToTWTTR)("text",ce(o)),r.style.display="none"}),r.querySelector("li.mail").addEventListener("click",function(){var e=ce(o);if(window.PageCriteria.mailtoEmailLinks){var t=encodeURIComponent(e.headline),n=encodeURIComponent(o+"\n"+e.link+"?ito=email_share_article-text");window.location.href="mailto:?subject=Read this: ".concat(t,"&body=").concat(n)}else{var i=encodeURIComponent(o+" "+e.link);window.location.href="mailto:?subject=DailyMail%20article&body=".concat(i)}Object(f.emailArticle)("text",ce(o)),r.style.display="none"})}},ue=se,fe=n(11),de=n.n(fe),pe=function(){try{for(var e=Array.from(document.querySelectorAll(".share-email a")),t=0,n=e;t<n.length;t++){var r=n[t],o=r.href,i=new de.a(o,!0),a=i.query;if(a.body=a.body.replace(/&quot;/g,'"'),i.toString().length>2e3){var l=document.querySelector('meta[property="og:title"]');l&&l.content&&(a.subject="Read this: ".concat(l.content));var s=a.body.split("Most Read Articles:");if(s.length>1){var u=s[1].split("\n").filter(Boolean).slice(0,4),f=u.slice(0,2).join("\n")+"\n\n"+u.slice(2).join("\n"),d="".concat(s[0],"Most Read Articles:\n\n").concat(f);a.body=d}i.set("query",a),i.toString().length>2e3&&(a.body=s[0],i.set("query",a)),i.toString().length>2e3&&(a.subject="".concat(a.subject.substring(0,97).trimEnd(),"..."),i.set("query",a)),i.toString().length>2e3&&(a.body=Object(E.getPageCriteria)().articleShortURL||window.location.href,i.set("query",a))}r.href=i.toString()}}catch(e){c.logger.error("Error in shortenDesktopEmailUrl",e)}};n.d(t,"loaded",function(){return he});var he=function(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){function a(e){r(c,o,i,a,l,"next",e)}function l(e){r(c,o,i,a,l,"throw",e)}var c=e.apply(t,n);a(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{pe(),V(),K(),ue()}catch(e){c.logger.error("Failed to initialize mol-fe-social: ".concat(e),e)}return e.prev=1,e.next=4,Object(l.later)("bundle");case 4:return e.next=6,Object(l.later)("DOM_READY");case 6:te(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c.logger.error("Failed to initialize mol-fe-social: ".concat(e.t0),e.t0);case 12:return e.prev=12,e.next=15,Object(l.later)("bundle");case 15:return e.next=17,Object(l.later)("DOM_READY");case 17:Y(),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(12),c.logger.error("Failed to initialize mol-fe-social: ".concat(e.t1),e.t1);case 23:case"end":return e.stop()}},e,null,[[1,9],[12,20]])}))()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function s(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){s(l,r,o,i,a,"next",e)}function a(e){s(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function f(e,t){return h(e)||p(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function p(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function h(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0});var m=n(0),v=n(35),g=n(1),y=n(5),b=function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]},w=b,E=function(e,t,n){var r=e.classList;r.contains(n)&&r.remove(n),r.contains(t)||r.add(t)},x=E,k=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(function(){return e.apply(void 0,o)},n)}},S=k,T=document.querySelector('meta[property="og:title"]'),O=T&&T.getAttribute("content")||document.title,C=O,_=location.protocol+"//"+location.host+location.pathname,P=_,A=document.querySelector('meta[property="og:url"]'),L=A&&A.getAttribute("content"),I=L||P,N=function(e){var t=e.getAttribute("data-src");return!t||e.src===t},j=function(e){return new Promise(function(t,n){e.src?e.complete&&N(e)?t():(e.addEventListener("load",function(){N(e)&&t()}),e.addEventListener("error",n)):n(new Error("No image source"))})},M=j,R=function(){var e=window.DMS;e&&e.socialClick?e.socialClick.apply(e,arguments):m.logger.warn("DMS.socialClick is not available")},D=R,B=window.twitterVia||"",U=function(){var e=window.DMS;if(e&&e.Facebook&&e.Facebook.postToFB){var t;(t=e.Facebook).postToFB.apply(t,arguments)}else m.logger.warn("DMS.Facebook.postToFB is not available")},q=U,z=function(){var e=window.DMS;if(e&&e.Twitter&&e.Twitter.postToTWTTR){var t;(t=e.Twitter).postToTWTTR.apply(t,arguments)}else m.logger.warn("DMS.Twitter.postToTWTTR is not available")},F=z,H=function(){var e=window.DMS;if(e&&e.Pinterest&&e.Pinterest.postToPinterest){var t;(t=e.Pinterest).postToPinterest.apply(t,arguments)}else m.logger.warn("DMS.Pinterest.postToPinterest is not available")},W=H,V={facebook:q,pinterest:W,twitter:F},G=V,Y=function(e,t){return"mailto:?subject=".concat(encodeURIComponent(e),"&body=").concat(encodeURIComponent(t))},Z=function(e,t){var n=e,r=t,o=Y(n,r);return o.length>2e3&&(n="".concat(n.substring(0,97).trimEnd(),"..."),o=Y(n,r)),o.length>2e3&&(r=Object(g.getPageCriteria)().articleShortURL||window.location.href,o=Y(n,r)),o},K=Z,X=n(102),J=n.n(X),Q=function(e){return"img"===e.tagName.toLowerCase()?e:e.getElementsByTagName("img")[0]},$=function(e,t){var n=e.id;return t+(n?"#"+n:"")},ee=function(e,t){return e.includes("#")?e.includes("?")?e.replace(/#/,"&ito=".concat(t,"#")):e.replace(/#/,"?ito=".concat(t,"#")):e.includes("?")?"".concat(e,"&ito=").concat(t):"".concat(e,"?ito=").concat(t)},te=function(){function e(t,n){var o=this,i=n.articleShortUrl,a=n.articleFullUrl,l=n.isChannelShare,c=void 0!==l&&l;if(r(this,e),this.isChannelShare=c,this.socialShareOverlay=t,this.img=Q(this.socialShareOverlay.parentElement)||{},this.src=this.img.getAttribute("data-src")||this.img.src||"",this.alt=this.img.alt||"",this.fullUrl=$(this.img,a||I),this.shortUrl=$(this.img,i||a||I),this.imgOptions={id:c?"main-channel-preview":this.img.id,nthPosition:this.socialShareOverlay.nthPosition},this.trackPlacement=c?"image-share-home":"image-share",this.itoSuffix="_share_article-image-share",c){var s=Object(g.getPageCriteria)(),u=s.channel,f=s.subchannel;this.itoSuffix="_share_article-image-share-".concat(u).concat(u===f?"":"-".concat(f))}this._initLinkBoxElement(),this._initEmailElement(),c||M(this.img).then(function(){return o.socialShareOverlay.adjustDirection()}).catch(function(){})}return i(e,[{key:"facebook",value:function(e){e.preventDefault(),this._reset();var t=JSON.stringify({description:this.alt,link:ee(this.fullUrl,"facebook".concat(this.itoSuffix)),picture:this.src,redirect_uri:"https://i.dailymail.co.uk/i/pix/facebook/close.html"});G.facebook(this.trackPlacement,t,this.imgOptions)}},{key:"twitter",value:function(e){e.preventDefault(),this._reset();var t=ee(this.shortUrl,"pinterest".concat(this.itoSuffix)),n={text:this.alt,url:t,via:B};G.twitter(this.trackPlacement,n,this.imgOptions)}},{key:"pinterest",value:function(e){e.preventDefault(),this._reset();var t=ee(this.shortUrl,"pinterest".concat(this.itoSuffix)),n={description:this.alt.substring(0,90)+"...",media:this.src,type:"image",url:t,via:B};this.isChannelShare&&(n.forcedUrl=t),G.pinterest(this.trackPlacement,n,this.imgOptions)}},{key:"_linkBoxShow",value:function(){this.socialShareOverlay.element.classList.add(J.a.copyLinkBoxOn),this.linkBoxInputElement.focus(),this.linkBoxInputElement.select()}},{key:"link",value:function(e){e.preventDefault();var t=this.socialShareOverlay.element.classList;t.contains(J.a.copyLinkBoxOn)&&!e.target.closest(".".concat(J.a.copyLinkBox))?t.remove(J.a.copyLinkBoxOn):(D("link",this.trackPlacement,this.imgOptions),this._linkBoxShow())}},{key:"email",value:function(){D("email",this.trackPlacement,this.imgOptions),this._reset()}},{key:"_apply",value:function(){this.socialShareOverlay.element.classList.contains(J.a.copyLinkBoxOn)&&this._linkBoxShow()}},{key:"_reset",value:function(){this.socialShareOverlay.element.classList.remove(J.a.copyLinkBoxOn)}},{key:"_initLinkBoxElement",value:function(){this.linkBoxInputElement||(this.linkBoxInputElement=this.socialShareOverlay.element.querySelector(".".concat(J.a.copyLinkBox," input")),this.linkBoxInputElement.setAttribute("value",ee(this.fullUrl,"link".concat(this.itoSuffix))))}},{key:"_initEmailElement",value:function(){var e=this;if(!this.emailElement){var t="Look at this: ".concat(C),n=[this.alt,ee(this.isChannelShare?this.shortUrl:I,"email".concat(this.itoSuffix))].join("\n\n");this.emailElement=document.createElement("a"),this.emailElement.setAttribute("href",K(t,n)),this.emailElement.setAttribute("target","_blank"),this.socialShareOverlay.element.querySelector('[data-social-scope="email"]').appendChild(this.emailElement),Object(v.getConfig)("molFeSocialShareOverlay/recommendations").then(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.links,i=r.title,a=o.map(function(e){return[e.title,e.url].join("\n")}).join("\n\n");return e.emailElement.setAttribute("href",K(t,["".concat(n,"\n"),i,a].join("\n\n"))),e.emailElement.href.length>2e3&&(a=o.slice(0,2).map(function(e){return[e.title,e.url].join("\n")}).join("\n\n"),e.emailElement.setAttribute("href",K(t,["".concat(n,"\n"),i,a].join("\n\n")))),e.emailElement.href.length>2e3&&e.emailElement.setAttribute("href",K(t,n)),null}).catch(function(){})}}}]),e}(),ne=te,re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reverseIcon,n=void 0!==t&&t,r='<li class="'.concat(J.a.linkItem," ").concat(J.a.shareIcon,'"></li>');return'\n  <div class="'.concat(J.a.container," ").concat(J.a.vertical,'">\n    <ul class="').concat(J.a.linksHolder,'">\n      ').concat(n?r:"",'\n      <li class="').concat(J.a.linkItem,'" data-social-scope="facebook"></li>\n      <li class="').concat(J.a.linkItem,'" data-social-scope="twitter"></li>\n      <li class="').concat(J.a.linkItem,'" data-social-scope="pinterest"></li>\n      <li class="').concat(J.a.linkItem,'" data-social-scope="email"></li>\n      <li class="').concat(J.a.linkItem,'" data-social-scope="link">\n        <div class="').concat(J.a.copyLinkBox,'">\n          <input type="text" value="" readonly="readonly"/>\n          <div>Copy link to paste in your message</div>\n        </div>\n      </li>\n      ').concat(n?"":r,"\n    </ul>\n  </div>\n  ")},oe=function(){function e(t){var n=t.parentElement,r=t.nthPosition,o=t.config;if(a(this,e),n.molFeSocialShareOverlay)return n.molFeSocialShareOverlay;n.molFeSocialShareOverlay=this,this.nthPosition=r,this.parentElement=n,this.element=w(re({reverseIcon:o.isChannelShare})),this.handler=new ne(this,o),this.config=o,this._init()}return c(e,[{key:"_init",value:function(){var e=this;this.parentElement.style.position||(this.parentElement.style.position="relative"),this.config.isChannelShare&&(this.parentElement.classList.add("first-triple-preview-links-container"),this.element.style.display="none",this.parentElement.addEventListener("click",function(t){!t.target||!t.target.closest(".".concat(J.a.container))||t.target.href&&t.target.href.startsWith("mailto:")||(t.preventDefault(),e.adjustDirection().expand())})),this.parentElement.appendChild(this.element),this.parentElement.addEventListener("mouseenter",function(){return e.adjustDirection().expand()}),this.parentElement.addEventListener("mouseleave",function(){return e.adjustDirection().contract()}),this.adjustDirection(),this._initEvents()}},{key:"adjustDirection",value:function(){return this.config.isChannelShare?(this.makeVertical(),this):(this.parentElement.clientHeight<445?this.parentElement.clientWidth>=375?(this.makeHorizontal(),this.element.style.display=""):this.element.style.display="none":(this.makeVertical(),this.element.style.display=""),this)}},{key:"makeVertical",value:function(){x(this.element,J.a.vertical,J.a.horizontal)}},{key:"makeHorizontal",value:function(){x(this.element,J.a.horizontal,J.a.vertical)}},{key:"expand",value:function(){this.element.classList.add(J.a.expanded),this.handler._apply()}},{key:"contract",value:function(){this.element.classList.remove(J.a.expanded)}},{key:"_initEvents",value:function(){var e=this;this.config.isChannelShare&&this.parentElement.addEventListener("click",function(e){if(e.target&&e.target.closest("[data-social-scope]")){"A"===e.target.tagName&&e.target.href&&e.target.href.startsWith("mailto:")&&"email"===e.target.closest("[data-social-scope]").dataset.socialScope||e.preventDefault()}}),this.element.addEventListener("click",S(function(t){var n=t.target.closest("[data-social-scope]");if(n){var r=n.getAttribute("data-social-scope");"function"==typeof e.handler[r]?e.handler[r](t):m.logger.error("Wrong handler provided")}},200))}}]),e}(),ie=oe;n.d(t,"loaded",function(){return ce}),n.d(t,"SocialShareOverlay",function(){return ie});var ae=function(e){var t;return t=e.parentNode,-1!==t.className.indexOf("image-wrap")&&(t=t.parentNode),t},le=function(e){return!e.closest(".mol-product")},ce=Promise.all([Object(v.getConfig)("molFeSocialShareOverlay"),Object(y.later)("DOM_READY")]).then(function(e){var t=f(e,1),n=t[0],r=[];if(!Object(g.getPageCriteria)().isMobile){var o=document.querySelectorAll('img[id^="i-"], [data-mol-fe-social-share-overlay]');Array.from(o).filter(le).forEach(function(e,t){try{r.push(new ie({config:n,nthPosition:t,parentElement:ae(e)}))}catch(t){m.logger.error("Cannot init mol-fe-social-share-overlay",t,e)}})}return r}).catch(function(e){m.logger.error("Error during mol-fe-social-share-overlay initialisation: ",e)});(function(){var e=u(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"channel"===Object(g.getPageCriteria)().pageType&&"desktop"===Object(g.getPageMetadata)().renderPlatform){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,Object(y.later)("DOM_READY");case 5:if(t=document.querySelector("#content .article"),n=document.querySelector("#content .gamma .article-tri-headline"),r=n&&n.querySelector("img"),n&&t===n&&r){e.next=10;break}return e.abrupt("return",null);case 10:if(o=r.parentNode,"A"===o.tagName&&o.href){e.next=13;break}return e.abrupt("return",null);case 13:return e.abrupt("return",new ie({config:{articleFullUrl:o.href,isChannelShare:!0},nthPosition:0,parentElement:o}));case 16:e.prev=16,e.t0=e.catch(0),m.logger.error("Error during mol-fe-social-share-overlay channel initialisation: ",e.t0);case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(){return e.apply(this,arguments)}})()().catch()},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var y=(n(336),n(337),{_onLoadCallBack:null,activeHk:".js-active",linkHk:".js-links",paneOffClass:"dm-tab-pane-hidden",panesQuery:".dm-tab-pane",tabIdPrefix:"t-",tabOffClass:null,tabOnClass:null,tabsQuery:".dm-tab"}),b=function(e,t){Array.isArray(t)?t.forEach(function(t){return e.classList.add(t)}):e.classList.add(t)},w=function(e,t){Array.isArray(t)?t.forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t)},E=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e);var i=o({},y,{},r);Object.keys(i).forEach(function(e){e in n||(n[e]=i[e])}),this.el=document.querySelector("#".concat(t)),this.el&&(this.tabCnt=this.el.querySelector(this.linkHk)),this.tabCnt&&(this.tabCnt.addEventListener("click",function(e){return n._clickHandler(e)}),this._tabs=this.el.querySelectorAll(this.tabsQuery),this._panes=this.el.querySelectorAll(this.panesQuery),"function"==typeof this._onLoadCallBack&&this._onLoadCallBack(),this.currentTab=this.el.querySelector(this.activeHk))}return c(e,[{key:"_clickHandler",value:function(e){var t=e.target.closest(this.tabsQuery);if(t&&(e.preventDefault(),!t.classList.contains(this.activeHk))){var n=t.getAttribute("id").replace(new RegExp("^".concat(this.tabIdPrefix)),"");this._selectTab(n)}}},{key:"_selectTab",value:function(e){this.reset(),this.tab(e)}},{key:"reset",value:function(){var e=this;this._panes&&Array.from(this._panes).forEach(function(t){return t.classList.add(e.paneOffClass)}),this._tabs&&Array.from(this._tabs).forEach(function(t){b(t,e.tabOffClass),w(t,e.tabOnClass)})}},{key:"tab",value:function(e){this.currentTab=document.querySelector("#".concat(this.tabIdPrefix).concat(e)),this.currentTab&&(w(this.currentTab,this.tabOffClass),b(this.currentTab,this.tabOnClass)),document.querySelector("#".concat(e))&&document.querySelector("#".concat(e)).classList.remove(this.paneOffClass)}}]),e}(),x=E,k=function(e){function t(e){return u(this,t),p(this,m(t).call(this,e,{tabOffClass:["ow-igr2-bx","link-ccogr2","js-unactive"],tabOnClass:["link-wocc","js-active"]}))}return v(t,e),d(t,[{key:"_onLoadCallBack",value:function(){var e=this._panes[0].clientHeight,t=this._panes[1],n=t.querySelectorAll("li").length>1?0:10;t.style.height="".concat(e+n,"px")}}]),t}(x),S=k;n.d(t,"Headlines",function(){return S}),n.d(t,"Tabs",function(){return x})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){return a(e)||i(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function a(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function k(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function N(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var B={integer:/^-?[\d,]*$/,mandatory:/^.+$/,number:/^-?[\d,]*(\.\d*)?$/,pInteger:/^[\d,]*$/,pNumber:/^[\d,]*(\.\d*)?$/,pNumNoFormat:/^[\d,]*(\.\d*)?$/},U="".concat(".calc-inputs"," input[name], ").concat(".calc-inputs"," select[name]"),q=".".concat("calc-msg"),z="".concat(".calc-results"," input[name]"),F=function(){function e(t,n){l(this,e),this.formEl=document.getElementById(t),this.formEl&&(Object.assign(this,n),this.inputs={},this.inputEls=Array.from(this.formEl.querySelectorAll(U)),this.runCalc=this.runCalc.bind(this),this.bindEvents())}return s(e,[{key:"bindEvents",value:function(){var e=this;this.inputEls.forEach(function(t){var n;"text"===t.type?n="keyup":["checkbox","radio"].includes(t.type)?n="click":"select-one"===t.type&&(n="change"),n&&t.addEventListener(n,e.runCalc)}),Array.from(this.formEl.querySelectorAll("ul.mortgage-tabs > li")).forEach(function(t){return t.addEventListener("click",e.changeTab)}),this.formEl.addEventListener("submit",function(t){t.preventDefault(),e.runCalc(t)}),Array.from(this.formEl.querySelectorAll("button[name=calculate]")).forEach(function(t){return t.addEventListener("click",e.runCalc)})}},{key:"clearMsg",value:function(){Array.from(this.formEl.querySelectorAll(q)).forEach(function(e){return e.remove()})}},{key:"formatNum",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";return Number.isFinite(e)&&(t=(n?e.toFixed(n):String(Math.round(e))).split("."),t[0].length>3&&(t[0]=t[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),n&&(t[1]=t[1]||"",t[1].length<n&&(t[1]+=new Array(n-t[1].length+1).join("0")))),t&&t.join(o)}},{key:"changeTab",value:function(){var e=this.getAttribute("data-tab");Array.from(document.querySelectorAll("ul.mortgage-tabs > li,.mortgage-forms form")).forEach(function(e){e.classList.remove("select")}),Array.from(document.querySelectorAll('*[data-tab="'+e+'"]')).forEach(function(e){e.classList.add("select")})}},{key:"getResultsContainerElement",value:function(){return this.formEl.querySelector(".calc-results")}},{key:"printMsg",value:function(e,t){var n=this;if(e){var r=document.createElement("p");r.classList.add("calc-msg"),t&&r.classList.add(t),r.innerHTML=e;var o=this.getResultsContainerElement();o&&(o.childElementCount?o.insertBefore(r,o.firstElementChild):o.appendChild(r),this.onBeforeRun=function(){n.clearMsg(),delete n.onBeforeRun})}}},{key:"readInput",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;var r=e.name;["select-one","text"].includes(e.type)||["checkbox","radio"].includes(e.type)&&e.checked?this.inputs[r]=e.value:this.inputs[r]=!1;var o,i=!1;if(void 0!==this.rq[r]||void 0!==this.rq["*"]){o=(this.rq[r]||this.rq["*"]).every(function(o){var a,l;return o instanceof RegExp?l=o:(a=o,void 0!==B[a]&&(l=B[a],/^p?number|p?integer$/i.test(a)&&(i=!0))),!(l&&!l.test(t.inputs[r]))||(n&&e.classList.add("failed"),!1)})}return o&&(e.classList.remove("failed"),i&&(this.inputs[r]=Number(this.inputs[r].replace(/[,\s]/g,"")))),o}},{key:"runCalc",value:function(e){var t=this,n=this.fx,o=!0,i={};if((!e||"keyup"!==e.type||"Tab"!==e.key)&&n&&0!==Object.keys(n).length){"function"==typeof this.onBeforeRun&&this.onBeforeRun(),Array.from(this.formEl.querySelectorAll(z)).forEach(function(e){e.value=""});var a=e&&"click"===e.type;this.inputEls.forEach(function(e){var n=t.readInput(e,a);o=o&&n}),o&&Object.entries(n).forEach(function(e){var n=r(e,2),o=n[0],a=n[1];"function"==typeof a&&(i[o]=a.call(t,t.inputs,i),(Number.isFinite(i[o])||"string"==typeof i[o]&&i[o].length>0)&&Array.from(t.formEl.querySelectorAll("".concat(".calc-results"," input[name=").concat(o,"]"))).forEach(function(e){e.value="number"==typeof i[o]?" "+t.formatNum(i[o],2):i[o]}))})}}}]),e}(),H=F,W=new Map,V=function(e){function t(e,n){var r;if(f(this,t),r=h(this,v(t).call(this,e,n)),r.dataSource&&r.dataSource.url){var o=function e(){r.appendScript(r.dataSource.url),r.inputEls.forEach(function(t){return t.removeEventListener("focus",e)})};r.inputEls.forEach(function(e){return e.addEventListener("focus",o)})}return r}return g(t,e),p(t,[{key:"appendScript",value:function(e){if(e&&!W.get(encodeURI(e))){var t=document.createElement("script"),n=function(){t.parentNode.removeChild(t)};t.onload=function(){t.onloadDone=!0,n()},t.onreadystatechange=function(){["complete","loaded"].includes(t.readyState)&&!t.onloadDone&&n()},t.src=e,document.querySelector("head").appendChild(t),W.set(encodeURI(e),!0)}}}]),t}(H),G=V,Y=function(e){function t(){return w(this,t),k(this,T(t).apply(this,arguments))}return O(t,e),x(t,[{key:"getPrice",value:function(e,n,r){var o=t.getDataSet((this.dataSource||{}).key);if((((o||{})[e]||{})[n]||{})[r]){var i=o[e][n][r];if(Array.isArray(i)){var a=i.reduce(function(e,t){return e+t},0);if(Number.isFinite(a))return a/i.length}if(Number.isFinite(i))return i}return null}}],[{key:"getDataSet",value:function(e){return(DM.HousePriceCalculator.dataSets||{})[e]}}]),t}(G);Y.dataSets={};var Z=Y,K=function(e){function t(){return A(this,t),N(this,M(t).apply(this,arguments))}return R(t,e),I(t,[{key:"getInflationRate",value:function(e){var n=t.getDataSet((this.dataSource||{}).key);return n&&Number.isFinite(n[e])?n[e]:null}},{key:"getCompoundedRate",value:function(e,n){var r=t.getDataSet((this.dataSource||{}).key),o=n||(new Date).getFullYear()-1;if(r[o]||o--,e===o)return 1;if(!r||!Number.isFinite(r[e]))return null;for(var i=P({},o+1,1),a=o;a>=1900;a-=1){if(!Number.isFinite(r[a])||!Number.isFinite(i[a+1]))return null;if(i[a]=i[a+1]*(r[a]+100)/100,i[a]=Math.round(1e6*i[a])/1e6,a===e+1)return i[a]}return null}}],[{key:"getDataSet",value:function(e){return(DM.InflationCalculator.dataSets||{})[e]}}]),t}(G);K.dataSets={};var X=K;n.d(t,"HousePriceCalculator",function(){return Z}),n.d(t,"InflationCalculator",function(){return X}),n.d(t,"TimCalculator",function(){return H})},function(e,t,n){"use strict";var r=n(340),o=(n.n(r),function(e,t){var n=t.closest("h4"),r=n.parentElement,o=n.closest(".col"),i=e.querySelector(".extend"),a=e.querySelector(".open");i&&i.classList.remove("extend"),a&&a.classList.remove("open"),o.classList.add("extend"),r.classList.add("open")}),i=function(e){Array.from(e.querySelectorAll(".open")).forEach(function(e){return e.classList.remove("open")}),e.querySelector(".start").classList.add("extend"),e.querySelector(".start").classList.remove("start"),e.querySelector(".first .up").classList.add("open")},a=function(e,t){return Array.from(e.querySelectorAll("h4")).forEach(function(n){return n.parentElement.addEventListener("click",function(n){return t(e,n.target)})})},l=function(e){Array.from(e.querySelectorAll('input[type="radio"]')).forEach(function(e){return e.closest("form").addEventListener("submit",function(e){return e.preventDefault(),window.location=e.target.getAttribute("action"),!1},!0)}),Array.from(e.querySelectorAll('input[type="radio"]')).forEach(function(e){return e.addEventListener("click",function(e){var t=e.target.closest("form",5);t&&e.target.value&&(t.action=e.target.value)},!0)})},c=function(e){var t=e.querySelectorAll("h4");setInterval(function(){o(e,t[parseInt(Math.random()*t.length,10)])},3e4)},s=function(e){var t=document.getElementById(e);i(t),a(t,o),l(t),c(t)};t.a=s},function(e,t){},function(e,t){e.exports={promo:"promo-3sS-W",heading:"heading-3fSam",subHeading:"subHeading-1yewc",button:"button-TN3w6",close:"close-2t9Ot"}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){function n(e,t){var n=c.call(this,e);return u.set(n,t),n}function l(e,t){var n=u.get(t);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}o=function(e,t){return new n(e,t)};var c=a(RegExp),s=RegExp.prototype,u=new WeakMap;return i(n,c),n.prototype.exec=function(e){var t=s.exec.call(this,e);return t&&(t.groups=l(t,this)),t},n.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=u.get(this);return s[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"==typeof t){var o=this;return s[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!==r(e[e.length-1])&&e.push(l(e,o)),t.apply(this,e)})}return s[Symbol.replace].call(this,e,t)},o.apply(this,arguments)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){function n(){return c(e,arguments,f(this).constructor)}if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function c(e,t,n){return c=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),i=new o;return n&&u(i,n.prototype),i},c.apply(null,arguments)}function s(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function v(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}Object.defineProperty(t,"__esModule",{value:!0});var x=n(5),k=n(0),S=n(2),T=n.n(S),O=n(9),C=function(e,t){try{"localStorage"in window&&window.localStorage.setItem("".concat("mol-fe-windows-notification-widget-").concat(e),JSON.stringify(t))}catch(e){}},_=function(e){try{if("localStorage"in window){var t=window.localStorage.getItem("".concat("mol-fe-windows-notification-widget-").concat(e));return t?JSON.parse(t):null}}catch(e){}return null},P=n(1),A=n(120),L="status",I="blocked",N="allowed",j=o(/Windows NT (\d\d?)./,{version:1}),M=function(e){return!0===e||"true"===e},R=function(e,t){return e&&Date.now()-e<t},D=function(e){var t=j.exec(e);return t&&t.groups&&t.groups.version&&!isNaN(t.groups.version)?Number(t.groups.version):null},B=function(){if(D(navigator.userAgent)<10)return!1;var e=Object(P.getPageCriteria)();if(!e||!M(e.desktopDownloadPromptEnabled))return!1;var t=Object(P.getPageMetadata)();if(e.isMobile||e.isTablet||"desktop"!==t.renderPlatform)return!1;if("default"===Notification.permission)return!1;if(e.showNewzitNotificationPrompt&&!Object(A.hasActionedPrompt)()&&Object(A.seenWithin)(864e5))return!1;var n=_(L),r=_("lastSeen");if(n&&r)switch(n){case N:return!1;case I:return!R(r,12096e5);case"default":return!R(r,6048e5)}return!(!n&&r||n&&!r)||(C(L,"default"),C("lastSeen",Date.now()),!1)},U=n(3),q=n(106),z=n(7),F=n.n(z),H=n(343),W=n.n(H),V=function(e){var t=e.onClose,n=e.onBlockClick,r=e.onAllowClick;return T.a.createElement("div",{className:W.a.widget,style:{left:"".concat(window.innerWidth/6,"px")}},T.a.createElement("div",{className:W.a.close}),T.a.createElement("div",{className:W.a.heading},"www.dailymail.co.uk wants to"),T.a.createElement("div",{className:W.a.permissions},T.a.createElement("span",{className:W.a.bell}),T.a.createElement("span",null,"Show notifications")),T.a.createElement("div",{className:W.a.buttonContainer},T.a.createElement("button",{className:W.a.button,onClick:n},"Block"),T.a.createElement("button",{className:W.a.button,onClick:r},"Allow")),T.a.createElement("button",{className:W.a.close,onClick:t}))},G=n(344),Y=n.n(G),Z={showBannerWidget:!1,showPromptWidget:!0},K=Object(q.detect)(),X=function(e){function t(e){var n;return p(this,t),n=v(this,y(t).call(this,e)),n.REMOVE_DOWNLOAD_NOTIFICATION_MS=6e4,n.REMOVE_BANNER_WIDGET_MS=15e3,n.handleBlockClick=function(){U.pageEvents.publish(U.pageEvents.WINDOWS_WIDGET_PROMPT_CLICK_BLOCK,{promptStatus:"denied",userNotificationStatus:"denied"}),C(L,I),n.setState({showPromptWidget:!1})},n.handleClose=function(){U.pageEvents.publish(U.pageEvents.WINDOWS_WIDGET_PROMPT_CLICK_CLOSE,{promptStatus:"closed",userNotificationStatus:"denied"}),n.setState({showPromptWidget:!1})},n.handleAllowClick=function(){var e=new URLSearchParams(window.location.search).get("windowsExeVersion");window.location.href="".concat("https://www.dailymail.co.uk/static/notificationwidget","/MailOnlineSetup.").concat(e&&"".concat(e,".")||"","exe"),n.setState({showBannerWidget:!0,showPromptWidget:!1},function(){U.pageEvents.publish(U.pageEvents.WINDOWS_WIDGET_PROMPT_CLICK_ALLOW,{promptStatus:"granted",userNotificationStatus:"downloaded"}),C(L,N),setTimeout(function(){n.setState({showPromptWidget:!1})},n.REMOVE_DOWNLOAD_NOTIFICATION_MS),setTimeout(function(){n.setState({showBannerWidget:!1})},n.REMOVE_BANNER_WIDGET_MS)})},U.pageEvents.publish(U.pageEvents.WINDOWS_WIDGET_PROMPT_OPEN,{userNotificationStatus:"eligible"}),n.state=Z,n}return b(t,e),m(t,[{key:"render",value:function(){var e=this;return T.a.createElement("div",null,this.state.showPromptWidget&&T.a.createElement(V,{onAllowClick:this.handleAllowClick,onBlockClick:this.handleBlockClick,onClose:this.handleClose}),this.state.showBannerWidget&&T.a.createElement("div",{className:F()(Y.a.prompt,K&&K.name)},T.a.createElement("span",{className:Y.a.closeBtn,onClick:function(){return e.setState({showBannerWidget:!1})}})))}}]),t}(T.a.Component),J=!1,Q=function(){return"true"===new URLSearchParams(window.location.search).get("windowsPromptDev")},$=function(){if(J)return null;var e=document.createElement("div");return document.body.append(e),Object(O.render)(T.a.createElement(X,null),e),J=!0,C(L,"default"),C("lastSeen",Date.now()),!0},ee=function(){return!(!B()&&!Q())&&$()};n.d(t,"loaded",function(){return te}),n.d(t,"init",function(){return ee}),n.d(t,"show",function(){return $});var te=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){E(l,r,o,i,a,"next",e)}function a(e){E(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.later)("DOM_READY");case 3:return e.next=5,ee();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(0),k.logger.error("Error initialising windows notification widget",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))()},function(e,t){e.exports={widget:"widget-1qhGs",heading:"heading-3QA1h",permissions:"permissions-3XIWB",bell:"bell-2a1J_",buttonContainer:"buttonContainer-2jToV",button:"button-2Ii5J",close:"close-1_Ex1"}},function(e,t){e.exports={prompt:"prompt-HZFxT",closeBtn:"closeBtn-3ctmB"}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return a(e)||i(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function a(e){if(Array.isArray(e))return e}function l(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function c(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){c(l,r,o,i,a,"next",e)}function a(e){c(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}function u(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function f(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var p={};n.d(p,"loaded",function(){return ee});var h={};n.d(h,"loaded",function(){return je}),n.d(h,"init",function(){return Ne}),n.d(h,"show",function(){return Ie});var m=n(5),v=(n(126),n(154),n(57),n(58),n(59),n(60),n(155)),g=n(257),y=n(259),b=n(24),w=n(269),E=n(303),x=n(311),k=n(313),S=n(63),T=n(66),O=n(67),C=n(320),_=n(85),P=n(86),A=n(118),L=n(35),I=n(0),N=n(22),j=function(e,t){var n=/^(?:input|select|textarea)$/i;document.addEventListener("keydown",function(r){if(!(n.test(document.activeElement.nodeName)||document.body.classList.contains("video-js-fullscreen")||document.body.classList.contains("mobile-gallery-open"))){var o=r.key||r.keyCode;e.includes(o)&&t()}})},M=function(e,t){"block"===t.style.display&&(window.location.href=e)},R=n(363),D=n.n(R),B=function(e,t){var n=document.createElement("div"),r=document.createElement("div");return n.classList.add(D.a.prevNextWrapper),n.classList.add(D.a[e]),r.classList.add(D.a.prevNextButton),r.addEventListener("click",function(){t()}),n.appendChild(r),document.body.appendChild(n),r},U=function(){if(!window.adverts)throw new Error("Missing required adverts library");return window.adverts},q=0,z=function(e){return e.height/e.width>=3},F=function(e){z(e)&&e.width>q&&(q=e.width)},H=function(){return q},W=function(e){U().on("rendered",function(t){e({element:document.getElementById(t.slot.molAd.parentId),height:t.size[1],positionName:t.slot.molAd.pos,width:t.size[0]})})},V=function(){return U().getRendered().map(function(e){var t=document.getElementById(e.parentId);return{element:t,height:t.offsetHeight,positionName:e.pos,width:t.offsetWidth}})},G=function(){try{return Boolean(U())}catch(e){return!1}},Y=function(){return-1!==V().map(function(e){var t=e.element;return t&&t.id?t.id.toLowerCase():""}).indexOf("billboard-oop")},Z=function(){return document.body.clientWidth>=1485},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return window.innerWidth-document.getElementById("content").offsetWidth-2*(20+e())},X=function(e){var t="none"===e.style.display;t&&(e.style.display="block");var n=e.offsetWidth;return t&&(e.style.display="none"),n},J={LEFT:[37,"ArrowLeft","Left"],RIGHT:[39,"ArrowRight","Right"]},Q=function(e){if(!e.prevArticle&&!e.nextArticle)throw new Error("Missing required options to init Mol Fe Previous Next Navigation");if(window.disablePreviousNextNavigation)return null;var t,n,r=function(e){t&&(t.style.display=e?"block":"none"),n&&(n.style.display=e?"block":"none")},o=function(){if(e.forceOnTopOfAds)return void r(Z());var o=G()&&Y(),i=K()/2,a=X(t||n);r(i>=a&&!o)};if(e.prevArticle){var i=function(){document.body.classList.contains("enhanced-gallery-open")||M(e.prevArticle.url,t)};t=B("prev",i),j(J.LEFT,i)}if(e.nextArticle){var a=function(){document.body.classList.contains("enhanced-gallery-open")||M(e.nextArticle.url,n)};n=B("next",a),j(J.RIGHT,a)}return G()&&(W(function(e){F(e),o()}),V().forEach(F),window.addEventListener("resize",Object(N.debounce)(function(){V().forEach(F),o()}),150)),o(),{nextButton:n,previousButton:t}},$={init:Q},ee=Promise.all([Object(L.getConfig)("molFePrevNextNavigation"),Object(m.later)("DOM_READY")]).then(function(e){var t=r(e,1),n=t[0];return $.init(n)}).catch(function(e){I.logger.error("Error during mol-fe-previous-next-navigation initialisation: ",e)}),te=n(322),ne=n(324),re=n(326),oe=n(327),ie=n(123),ae=function(){Array.from(document.querySelectorAll("[data-dm-rotator-auto-init]")).forEach(function(e){var t={activeClass:e.getAttribute("data-dm-rotator-active-class"),pageCount:parseInt(e.getAttribute("data-dm-rotator-page-count"),10),pageSize:parseInt(e.getAttribute("data-dm-rotator-page-size"),10)};try{t.rotate=JSON.parse(e.getAttribute("data-dm-rotator-rotate"))}catch(t){I.logger.error("Failed to parse value as JSON in initAutoInitRotators (attribute: data-dm-rotator-rotate, value: ".concat(e.getAttribute("data-dm-rotator-rotate"),")"))}new ie.a(e.getAttribute("id"),t)})},le=ae;!function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){l(c,r,o,i,a,"next",e)}function a(e){l(c,r,o,i,a,"throw",e)}var c=e.apply(t,n);i(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.later)("DOM_READY");case 2:le();case 3:case"end":return e.stop()}},e)}))();var ce=oe,se=n(333),ue=n(54),fe=n(100),de=n(334),pe=n(335),he=n(338),me=n(53),ve=n(19),ge=n(339),ye=n(120),be=n(342),we=(n(364),n(1)),Ee=n(44),xe=n(121),ke=n(17),Se=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""},Te=function(){var e=document.getElementById("articleIconLinksContainer"),t=e.querySelector(".comments-count .count-number"),n=t&&t.innerHTML,r=Object(we.getPageCriteria)(),o=r.articleStyle,i="narrow"!==o&&n,a="thisismoney"===Object(we.getPageMetadata)().domain,l=document.querySelector('link[rel="canonical"]'),c=l&&l.href||window.location.href,s=document.createElement("DIV"),u="twitter"===Se("social-share-platform"),f='\n    <a class="comments-count home" href="'.concat(c,'#comments"> <span></span>\n      <p class="count-number">').concat(n,'</p>\n      <p class="count-text">View <br> comments</p>\n    </a>\n  ');s.id="floating-share-bar-container",s.setAttribute("data-preferred-shared-network-enabled",""),s.innerHTML="\n   <ul>\n        ".concat(u?'<li class="share-twitter-long"></li><li class="share-facebook"></li> ':'<li class="share-facebook-long"></li><li class="share-twitter"></li>','\n         <li class="share-fbmessenger">\n             <a class="js-tl" rel=""></a>\n         </li>\n         <li class="share-email">\n      <a rel="nofollow noreferrer noopener" target="_blank" href="').concat(Object(ke.getMailto)("email-plain-text",null,"floatingBar",null),'">\n                 <span class="wai">e-mail</span>\n             </a>\n         </li>\n    </ul>\n  <div class="floating-buttons-bar">\n     <a class="back-to-top" href="#top"><span class="top-chevron">Top</span></a>\n     <a class="back-to-home new-articles ').concat(a?"tim-bgr":"",'" href="/">\n     <div class="new-article-count"></div>\n       <span>Home</span>\n     </a>\n     <a class="back-to-home hidden" href="/">\n      <span>Home</span>\n     </a>\n  </div>\n\n  ').concat(i?f:"","\n  "),e.parentNode.insertBefore(s,e.nextSibling)},Oe=n(3),Ce=n(122),_e=function(e){var t=e.querySelector(".back-to-top"),n=e.querySelector(".back-to-home");t&&t.addEventListener("click",function(e){e.preventDefault(),Oe.pageEvents.publish(Oe.pageEvents.FLOATING_BUTTONS_BACK_TO_TOP,{value:"top_sharebar"}),Object(Ce.a)(0)}),n&&n.addEventListener("click",function(){Oe.pageEvents.publish(Oe.pageEvents.FLOATING_BUTTONS_BACK_TO_TOP,{value:"home_sharebar"})})},Pe=_e,Ae=function(e){var t=Object(we.getPageCriteria)(),n=t.openwebEnabled,r=Object(we.getPageMetadata)(),o=r.renderPlatform,i=document.getElementById("reader-comments");if(n&&"desktop"===o&&i){new IntersectionObserver(function(t){var n=t&&t[0];n&&n.isIntersecting?e.classList.add("hide-on-comments-visible"):e.classList.remove("hide-on-comments-visible")}).observe(i)}},Le=function(){var e=document.getElementById("floating-share-bar-container"),t=document.getElementById("articleIconLinksContainer");Pe(e),Ae(e),new IntersectionObserver(function(t){var n=t[0];!n.isIntersecting&&n.boundingClientRect.y<0?e.classList.add("sticky"):e.classList.remove("sticky")}).observe(t)},Ie=function(){try{Te(),Le();var e=document.getElementById("floating-share-bar-container");Object(Ee.bindButtons)(e,"floatingbar"),Object(xe.b)(!0,e),setInterval(function(){return Object(xe.b)(!0,e)},parseInt(1e4,10)||1e3)}catch(e){I.logger.error("Failed to initialize mol-fe-floating-share-bar: ".concat(e),e)}},Ne=function(){var e=s(regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(we.getPageCriteria)(),n=t.enableFloatingShareBar,r=t.pageType,o=Object(we.getPageMetadata)(),i=o.renderPlatform,a=o.topics,!(window.location.search&&window.location.search.match(/debugFloatingShareBar=true/)||n&&"article"===r&&"desktop"===i&&!a.includes("Mail Best")&&!a.includes("Mail Best US"))){e.next=4;break}return e.abrupt("return",Ie());case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),je=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(e){u(l,r,o,i,a,"next",e)}function a(e){u(l,r,o,i,a,"throw",e)}var l=e.apply(t,n);i(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.later)("DOM_READY");case 3:return e.next=5,Ne();case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),I.logger.error("Error initialising floating share bar",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))(),Me=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({molFeAdblockerDialog:v},g,{molFeCarousel:y.a,molFeDotDotDot:b,molFeEnhancedGallery:w,molFeFactbox:E,molFeFloatingButtons:x,molFeFloatingShareBar:h,molFeGallery:k,molFeGenericModal:S},T,{molFeLazyLoadContent:O,molFeNewzitNotificationPromo:ye,molFeOpenwebComments:C,molFePageRefresh:_,molFePaywallLoader:P,molFePolls:A.a,molFePreviousNextNavigation:p,molFeProducts:te,molFeProductsStickyBar:ne,molFeReact:ve.a,molFeRemovePuffWhitespace:re},ce,{molFeSafariNewsletterPopup:fe,molFeSocial:se,molFeSocialShareOverlay:de},pe,{},he,{molFeVideoPreview:me,molFeWindowsNotificationWidget:be,ShareLinks:ue,timAccordion:ge.a});window.DMArticleDefer=Object.assign(window.DMArticleDefer||{},Me),window.DMDefer=Object.assign(window.DMDefer||{},Me),window.DM=Object.assign(window.DM||{},Me),Object.keys(Me).forEach(function(e){return m.later.go(e+"_LOADED")}),m.later.go("ARTICLE_DEFER_BUNDLE_LOADED")},function(e,t){e.exports={prevNextWrapper:"prevNextWrapper-1Vg7e",prev:"prev-1GKJq",next:"next-3XR1j",prevNextButton:"prevNextButton-hVfSF",wrapper:"wrapper-2Iwcb"}},function(e,t){}])});
//# sourceMappingURL=articleDefer.js.map