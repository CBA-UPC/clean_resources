/** **********************************************************************
 * Copyright 2020 Adobe
*  All Rights Reserved.
*  NOTICE: Adobe permits you to use, modify, and distribute this file in
*  accordance with the terms of the Adobe license agreement accompanying
*  it.
**************************************************************************
*/
!function(){var t,e,r,n;(e=t||(t={})).EVENT_LISTENER="adobedx.conversationalforms.register.event",e.EVENT_LISTENER_REGISTER="adobedx.conversations.register.event",(n=r||(r={})).CONVERSATIONAL_FORMS_CLOSE="adobedx.conversationalforms.close",n.CONVERSATION_CLOSE="adobedx.conversations.close";var o=["adobezero","adobestaging"];function i(){for(var t=document.querySelectorAll("script"),e=0;e<t.length;e++)if(-1!==t[e].src.indexOf("munchkin.js"))return!0;return!1}function a(t){for(var e=t.split(/[;,] */),r=e.length,n=0;n<r;n++){var o=e[n],i=o.indexOf("=");if(i>=0)if("_mkto_trk"===o.substring(0,i).trim())return!0}return!1}function c(t,e){if(e.skipCookie)t();else{if(a(document.cookie))return void t();(r=e.instanceId,n=1,c=7,r&&o.some(()&&(c=15),new Promise((function(t){if(i())t(!0);else var e=setInterval((function(){var r=i();if(r||n===c)return clearInterval(e),t(!(n===c&&!r));n++}),1e3)}))).then((function(e){e?function(t){var e=1;if(a(document.cookie))t();else var r=setInterval((function(){(a(document.cookie)||5===e)&&(clearInterval(r),t()),e++}),1e3)}(t):t()}))}var r,n,c}unction s(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";ry{c({},"")}catch(t){c=wrap=f;var h={};function d(){}function p(){}ar y={};c(y,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&r.call(g,o)&&(y=g);var w=v.prototype=d.prototype=Object.create(y);.prototype=v,c(w,"constructor",v),c(v,"constructor",p),p.displayName=c(v,a,"GeneratorFunction"),t.isGeneratorFunction=t.mark=t.awrap=b(E.prototype),c(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=b(w),c(w,a,"Generator"),c(w,o,(),c(w,"toString",(),t.keys=t.values=O,k.prototype={constructor:k,reset:stop:dispatchException:abrupt:complete:finish:catch:delegateYield:,t}p=P();p&&"prod"!==p.env&&console.log(p.env);var v,y,m,g="0f32e65b8dc79d4e7e21994e77aaf18fe557756a",w="https://assets.adoberesources.net/builds/".concat(g,"/dist/"),b={local:"http://localhost:1234/",dev:w,qe:w,qa:w,stage:w,stg:w,prod:w},E={scripts:{core:p?b[p.env]+"core/src/index.js":"","core-ui":p?b[p.env]+"core-ui/src/index.js":""},styles:{}},x=[];function L(t){return Promise.all(Object.keys(t).map((function(e){return t[e])})))}function S(t){return Promise.all(Object.keys(t).map((function(e){return r=t[e],new Promise((function(t,e){var n,o=document.createElement("script");o.async=!0,o.addEventListener("load",t),o.addEventListener("error",e),o.src=r,null===(n=document.currentScript)||void 0===n||n.after(o)}));var r})))}function k(){return(k=d(s().mark((function t(e){var r,n,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=12;break}return r=E.scripts,n=E.styles,t.next=4,Promise.all([L(n),S(r),A()]);case 4:if(o=t.sent,i=f(o,1),a=i[0],v){t.next=9;break}throw new Error("Failed to load hummingbird api");case 9:c((,e),a.forEach(v.addStyle),x.forEach((function(t){return t(v)}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e,r){window.addEventListener(t,(function(t){if(r&&r.listenOn&&r.listenOn.length>0&&r.listenOn.some(()){var n={type:t.detail.type,data:{}};e(n)}}))}function _(){if(window.location.hash&&function(t){if(t)return new RegExp("^((#cf-)[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12})$","gm").test(t);return!1}(window.location.hash)){var t=window.location.hash;I({id:t.substring(t.indexOf("-")+1),type:"popup"}),window.history&&window.history.replaceState("","",window.location.pathname+window.location.search)}}function I(e){if(e&&p){var n=new y;return m?m(n):x.forEach((function(t){return t(n)})),e.path="livestream",c((,p),{registerCallback:O,Enum:{Events:r,CallbackType:t}}}}function A(){return new Promise((function(t){"complete"===document.readyState||"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",()}))}function j(){return(j=d(s().mark((function t(e){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"});case 2:if((r=t.sent).ok){t.next=5;break}throw new Error("Failed loading style ".concat(e));case 5:return t.abrupt("return",r.text());case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){var t;if(document.currentScript){var e=document.currentScript.getAttribute("src"),r=document.currentScript.getAttribute("data-loader")||void 0;if(e){var n=e.split("?")[1]?new URLSearchParams(e.split("?")[1]):new URLSearchParams(r),o=n.get("orgId"),i=n.get("instanceId"),a=n.get("geo"),c=n.get("env"),u="true"===n.get("skipCookie");o&&i&&(t={orgId:o,instanceId:i,env:c,geo:a,skipCookie:u})}if(!t)throw new Error("Hummingbird error: orgId and instanceId are required parameters on the script url.")}return t}window.AdobeDX||(window.AdobeDX={_init:function(t){v=new t,y=t,x.forEach((function(t){return t(v)}))},register:function(t){v?(t(v),m=t):x.push(t)},conversationalForms:function(t){return I(t)},conversations:,window.addEventListener("hashchange",_),window.location.hash&&window.addEventListener("load",_),P()))}();
//# sourceMappingURL=loader.js.map
