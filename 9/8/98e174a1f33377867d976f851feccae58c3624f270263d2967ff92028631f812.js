(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[4540],{97243:18958:33811:(e,t,r)=>{"use strict";r.d(t,{uw:()=>Z,x0:()=>T});var n=r(41185),a=r(66062),o=r(18274),c=r(55752),i=r.n(c),l=r(5663),s=r.n(l),d=r(74890),u=r.n(d),p=r(62720),m=r(64123),g=r(11622),y=r(18966),b=r(41779);r v=[p.Z.REBLOG,p.Z.HASH_TAG,p.Z.IMAGE,p.Z.VIDEO,p.Z.CLIPBLOG,p.Z.VOICE_BLOG,p.Z.PR,p.Z.AUTO_AD],w=I=(e,t,r)=>({type:y.V7,payload:{blogId:e,entryId:t,error:r},error:!0}),T=(0,o.H)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return function(){var o=(0,a.Z)((function*(a,o,c){var{fetchr:l}=c,d=u()(v.concat(r)),p=i()(o(),["bloggerState","blogMap",e,"blog_name"],"");if(!p||!t)return null;var b=i()(o(),["entryState","entryMetaMap",t],null),h=i()(b,"pagingType",void 0),T=n===h,Z=i()(o(),["entryState","entryMap",t],null);if(b&&T&&Z&&(!s()(Z.entry_text)||404===Z.status_code))return null;try{a({type:y.Gh,payload:{blogId:e,entryId:t,fieldFilter:d,frm:n}});var _={amebaId:p,blogId:e,entryId:t,fieldFilter:d,frm:n},k=yield l.read(m.Z.BlogEntry).params(_).end(),M=k.data;if(!(!1!==o().deviceState.isEmojiSupported)&&M.entities&&M.entities.entryMap)try{M=f(f({},M),{},{entities:f(f({},M.entities),{},{entryMap:yield(0,g.R9)(M.entities.entryMap)})})}catch(P){console.warn(P),M=k.data}return a(w(e,t,M,n))}catch(S){return a(I(e,t,S))}}));return function(e,t,r){return o.apply(this,arguments)}}()})),Z=(0,o.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,n){var a=i()(n(),["bloggerState","blogMap",e,"blog_name"],"");if(!a||!t)return null;var o=i()(n(),["entryState","entryMap",t],null);if("amember"!==o.publish_flg||o&&(o.entry_text||404===o.statusCode))return null;try{r({type:y.tB,payload:{entryId:t}});var c={token:i()(n(),["amebloTokenState","amebloToken"],null),amebaId:a,entryId:parseInt(t,10)},l=yield(0,b.s)(c);return r(((t,l))}catch(s){return r(((e,t)=>({type:y.Ny,payload:{entryId:e,error:t},error:!0}))(t,s))}}));return ()))},80220:(e,t,r)=>{"use strict";r.d(t,{UC:()=>s});var n=r(66062),a=r(18274),o=r(55752),c=r.n(o),i=r(70210);ar s=(0,a.H)({ttl:200},((e,t,r,a,o)=>function(){var s=(0,n.Z)((function*(n,s,d){var{fetchr:u}=d,p=s(),m=c()(p,["reblogState","reblogPageMap","".concat(t,"/").concat(o)]);if(m){var g={reblogMap:c()(p,["reblogState","reblogMap",{}]),reblogIds:m.data,paging:m.paging};return n(l(e,t,o,g))}try{var y=c()(p,["bloggerState","blogMap",e,"blog_name"],""),b=yield u.read("blogReblog").params({amebaId:y,blogId:e,entryId:t,offset:r,limit:a,page:o}).end();return n(l(e,t,o,b.data))}catch(h){return n(function(e,t,r,n){return{type:i.t,payload:{blogId:e,entryId:t,page:r,error:n},error:!0}}(e,t,o,h))}}));return ()))},90857:(e,t,r)=>{"use strict";r.d(t,{M:()=>o,h:()=>a});var n=r(55263);function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:n.a,payload:{entryId:e,opendModalName:t,data:r}}},68330:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});var n=r(3e4),a=r(76955);r(91938);class o extends a.PureComponent{omponentDidMount(){this.handleMount()}componentDidUpdate(){this.handleMount()}handleMount(){var{maxLength:e,children:t}=this.props,r="undefined"!=typeof window&&window.CSS&&window.CSS.supports&&window.CSS.supports("(display: -webkit-box) and (-webkit-box-orient : vertical) and (-webkit-line-clamp: 2)")?t:this.stringTruncation(t,e);this.setState({viewText:r})}stringTruncation(e,t){if(!e)return"";var r=t-2;return e.length<=t||r<1?e:"".concat(e.substr(0,r),"\u2026")}render(){return(0,n.Z)(a.Fragment,{},void 0,this.state.viewText)}}o.displayName="PcClampLineText"},84540:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n,a,o,c,i=r(3e4),l=r(66062),s=(r(91938),r(76955)),d=r(29466),u=r.n(d),p=r(5663),m=r.n(p),g=r(55752),y=r.n(g),b=r(55382),h=r.n(b),f=r(97175),v=r(66948),w=r(45525),I=r(29842),T=r(30657),Z=r(16884),_=r(36509),k=r(73614),M=r(33811),P=r(80220),S=r(90857),O=r(48516),E=r(68330),A=r(97243),C=r(75457),x=r(18998),L=r.n(x);function j(){return(j=(0,l.Z)((function*(e){var{dispatch:t,getState:r,match:n,location:a}=e,{params:o}=n,c=o.amebaId,i=yield t((0,k.Rs)(c));if(!i||!i.error){var l=r().bloggerState,s=l.bloggerMap,d=l.blogMap[(s[c]||{}).blog];if(d&&d.blog_id){var u=o.entryId,{frm:p}=a.query;yield t((0,M.x0)(d.blog_id,u,[],p))}}}))).apply(this,arguments)}function D(){return(D=(0,l.Z)((function*(e){var{dispatch:t,getState:r,match:n}=e,{params:a}=n,o=a.amebaId,c=r().bloggerState,i=c.bloggerMap,l=c.blogMap[(i[o]||{}).blog];if(l&&l.blog_id){var s=r().entryState.entryMap,d=a.entryId,u=s[d]||{};if(u.entry_id&&u.entry_text)if((0,I.M)(l,u).canReblog){yield t((0,P.UC)(l.blog_id,d,0,10,1))}}}))).apply(this,arguments)}var N=(0,v.$j)((function(e,t){var{match:r}=t,{params:n}=r,a=n.amebaId,o=n.entryId,c=e.bloggerState,i=e.reblogState,l=c.bloggerMap,s=c.blogMap[(l[a]||{}).blog]||{},d=i.reblogPageMap["".concat(o,"/1")]||{},u=d.data||[],p=i.reblogMap[u[0]]||{},m=y()(d,["paging","total_count"],0);return{denyReblog:"deny"===s.deny_reblog,entryId:o,reblog:p,reblogCount:m}}),{closeModal:S.M,openModal:S.h})(n=(0,f.provideHooks)({defer:function(e){return j.apply(this,arguments)},done:)(n=(0,w.w1)(L())((o=a=class extends s.Component{houldComponentUpdate(e){return this.props.closeModal!==e.closeModal||this.props.denyReblog!==e.denyReblog||this.props.entryId!==e.entryId||this.props.openModal!==e.openModal||this.props.reblogCount!==e.reblogCount||!u()(this.props.reblog,e.reblog)}andleOnclick(){this.props.openModal(this.props.entryId,A.zd)}enderItem(){var{reblog:e}=this.props;if(!e)return null;var t=y()(e,["user_profile_list",0],{}),r=t.ameba_id||"",n=t.nickname||r,a=y()(e,"entry_text","");return(0,i.Z)("ul",{className:"reblogList skinBorderList"},void 0,(0,i.Z)("li",{className:"reblogListItem"},void 0,(0,i.Z)("div",{className:"reblogListItemInner"},void 0,(0,i.Z)("p",{className:"reblogTitle"},void 0,(0,i.Z)(O.Z,{className:"js-reblogId",id:"r".concat(e.entry_id),name:"r".concat(e.entry_id),targetUrl:(0,_.IT)(r,e)},void 0,c||(c=(0,i.Z)("span",{"data-uranus-icon":"reblog hasLabel"})),e.entry_title)),(0,i.Z)("p",{className:h()(L().Reblog,"reblogText")},void 0,(0,i.Z)(E.g,{maxLength:150},void 0,a)),(0,i.Z)("p",{className:"reblogUser"},void 0,(0,i.Z)(O.Z,{targetUrl:(0,Z.Z)(C.Z.BlogTop,{amebaId:r})},void 0,n)),(0,i.Z)("p",{className:"reblogDate skinWeakColor"},void 0,(0,T.TA)(1,e.entry_created_datetime)))))}render(){var{denyReblog:e,reblog:t,reblogCount:r}=this.props;return!e&&!m()(t)?(0,i.Z)("aside",{className:"reblogArea skinBlock"},void 0,(0,i.Z)("div",{className:"reblogTitleArea skinBorderHr"},void 0,(0,i.Z)("h1",{className:"reblogTitle"},void 0,"\u30ea\u30d6\u30ed\u30b0\uff08".concat(r,"\uff09"))),this.renderItem(),(0,i.Z)("p",{className:"listLink"},void 0,(0,i.Z)("a",{className:h()(L().MoreLink,"skin-textQuiet js-open-modal"),href:"javascript:void(0)",role:"button",tabIndex:0,onClick:this.handleOnclick},void 0,"\u30ea\u30d6\u30ed\u30b0\u4e00\u89a7\u3092\u898b\u308b"))):null}},a.displayName="PcEntryDetailReblogModuleNew",n=o))||n)||n)||n},36509:(e,t,r)=>{"use strict";r.d(t,{IT:()=>g,O4:()=>y,WW:()=>f,oK:()=>b});var n=r(5663),a=r.n(n),o=r(43177),c=r.n(o),i=r(12943),l=r.n(i),s=r(16884),d=r(75457),u=r(77948),p=r(18958),m=r(19008);function g(e,t){return"amember"===t.publish_flg||"2"===t.publish_flg?(0,s.Z)(d.Z.AmemberEntry,{amebaId:e,entryId:t.entry_id}):(0,s.Z)(d.Z.Entry,{amebaId:e,entryId:t.entry_id})}function y(e,t){var r=g(e,t);return"https://cs.ameba.jp/inq/inquiry/vio?targetAmebaId=".concat(e,"&url=").concat(r,"&service=blog")}function b(e,t){if(a()(e)||!t)return!1;if(!a()(e)&&!e.entry_created_datetime)return!1;var r=c()(new Date,u.Z.DEFAULT_DATE),n=c()(e.entry_created_datetime,u.Z.DEFAULT_DATE);return l()(r,n)>t}function h(e){!function(e){window.YT&&window.YT.Player?e():(window.onYouTubeIframeAPIReady=()=>{window.YT.loaded&&window.YT.Player?e():window.YT.ready&&"function"==typeof window.YT.ready&&window.YT.ready(()},(0,m.v)("https://www.youtube.com/iframe_api").catch((e=>{console.warn(e)})))}((()=>{!function(e){var t=e.querySelectorAll('iframe[src^="https://www.youtube.com/embed/"]'),r=[],n=e=>{e.data===window.YT.PlayerState.PLAYING&&r.forEach((t=>{t!==e.target&&t.pauseVideo()}))};t.forEach((e=>{var t=new window.YT.Player(e,{events:{onStateChange:n}});r.push(t)}))}(e)}))}function f(e){e&&(null!==e.querySelector("blockquote.twitter-tweet")&&(0,m.v)("https://platform.twitter.com/widgets.js").then((()=>{window.twttr&&window.twttr.widgets&&window.twttr.widgets.load()})).catch((e=>{console.warn(e)})),null!==e.querySelector('blockquote[class="instagram-media"]')&&(0,m.v)("https://platform.instagram.com/en_US/embeds.js").then((()=>{window.instgrm&&window.instgrm.Embeds&&window.instgrm.Embeds.process()})).catch((e=>{console.warn(e)})),null!==e.querySelector(".pickCreative_root")&&(0,m.v)("".concat(window.process.env.HTTP_PATH_STAT,"/ameblo/pick/pick_sdk-").concat(p.C,".js")).then(().catch((),null!==e.querySelector('iframe[src^="https://www.youtube.com/embed/"]')&&h(e))}},16884:(e,t,r)=>{"use strict";r.d(t,{Z:);var n=r(75457),a=e=>{var{amebaId:t,entryId:r,vnm:n}=e;return t&&r?"/".concat(t,"/video-").concat(r,".html").concat(n?"?vnm=".concat(n):""):""};function o(e,t){var{amebaId:r,entryId:o,themeId:c,entryYm:i,imageId:l,vnm:s,day:d,page:u=1}=t,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!r||!e)return"";var m="".concat(p,"/").concat(r),g="";switch(e){case n.Z.BlogTop:return g=u>1?"page-".concat(u,".html"):"","".concat(m,"/").concat(g);case n.Z.EntryList:return g=u>1?"-".concat(u):"","".concat(m,"/entrylist").concat(g,".html");case n.Z.AmemberEntryList:return g=u>1?"-".concat(u):"","".concat(m,"/amemberentrylist").concat(g,".html");case n.Z.ArchiveTop:return"".concat(m,"/archivetop.html");case n.Z.Archive:if(i)return g=u>1?"".concat(u):"","".concat(m,"/archive").concat(g,"-").concat(i,".html");console.error("PageType.Archive: entryYm is undefined.");break;case n.Z.Day:if(d)return g=u>1?"".concat(u):"","".concat(m,"/day").concat(g,"-").concat(d,".html");console.error("PageType.Day: day is undefined.");break;case n.Z.ThemeTop:return"".concat(m,"/themetop.html");case n.Z.Theme:if(c)return g=u>1?"".concat(u):"","".concat(m,"/theme").concat(g,"-").concat(c,".html");console.error("PageType.Theme: themeId is undefined.");break;case n.Z.PopularRecentList:return g=u>1?"-".concat(u):"","".concat(m,"/popularrecentlist").concat(g,".html");case n.Z.Entry:if(o)return g=u>1?"".concat(u):"","".concat(m,"/entry").concat(g,"-").concat(o,".html");console.error("PageType.Entry: entryId is undefined.");break;case n.Z.ImageList:return g=u>1?"-".concat(u):"",i?"".concat(m,"/imagelist-").concat(i).concat(g,".html"):"".concat(m,"/imagelist.html");case n.Z.Image:if(o&&l)return"".concat(m,"/image-").concat(o,"-").concat(l,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case n.Z.VideoList:return g=u>1?"-".concat(u):"","".concat(m,"/videolist").concat(g,".html");case n.Z.Video:if(o)return"".concat(p).concat(a({amebaId:r,entryId:o,vnm:s}));console.error("PageType.Video: entryId is undefined.");break;case n.Z.IineEntry:if(o)return"".concat(m,"/iine_entry-").concat(o,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case n.Z.Comment:if(g=u>1?"page-".concat(u,".html"):"",o)return"".concat(m,"/comment-").concat(o,"/").concat(g);console.error("PageType.Comment: entryId is undefined.");break;case n.Z.Reblog:if(g=u>1?"page-".concat(u,".html"):"",o)return"".concat(m,"/reblog-").concat(o,"/").concat(g);console.error("PageType.Reblog: entryId is undefined.");break;case n.Z.MessageBoard:return"".concat(m,"/message-board.html");case n.Z.Reader:return g=u>1?"-".concat(u):"","".concat(m,"/reader").concat(g,".html");case n.Z.Favorite:return g=u>1?"-".concat(u):"","".concat(m,"/favorite").concat(g,".html");case n.Z.Bookmark:return g=u>1?"-".concat(u):"","".concat(m,"/bookmark").concat(g,".html");case n.Z.AmemberEntry:if(o)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(r,"/amemberentry-").concat(o,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case n.Z.ImageEmbed:if(o&&l)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(r,"/image-").concat(o,"-").concat(l,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case n.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}},12943:74890:10006:(e,t,r)=>{var n=r(18300)(();n.push([e.id,"._2xTLlmzc{-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:3;overflow:hidden}._3Pl_yYkW{cursor:pointer}",""]),n.locals={Reblog:"_2xTLlmzc",MoreLink:"_3Pl_yYkW"},e.exports=n},18998:(e,t,r)=>{var n=r(10006),a=Object.assign||o=Object.defineProperty||"string"==typeof n&&(n=[[e.id,n,""]]),e.exports=function(e){var t=a({},e.locals||{});return o(t,"_",{value:),o(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(n)}}]);