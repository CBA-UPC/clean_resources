!function(){"use strict";var t="http://www.w3.org/1999/xhtml",e={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};tion a(){}ototype={constructor:u,appendChild:insertBefore:querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var h="$";(var n=O(t),r=-1,o=e.length;++r<o;)n.add(e[r])}unction $(t){return function(){L(this,t)}}nction I(){this.textContent=""}function j(t){return function(){this.textContent=t}}function P(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}ion Y(){return null}unction q(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}.prototype={add:remove:contains:;var V={},X=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(V={mouseenter:"mouseover",mouseleave:"mouseout"}));[null];ototype=it.prototype={constructor:ot,select:selectAll:filter:data:enter:function(){return new ot(this._enter||this._groups.map(c),this._parents)},exit:join:merge:order:sort:call:nodes:node:size:empty:each:attr:style:property:classed:text:function(t){return arguments.length?this.each(null==t?I:("function"==typeof t?P:j)(t)):this.node().textContent},html:raise:function(){return this.each(B)},lower:function(){return this.each(H)},append:insert:remove:clone:datum:on:dispatch:;var ct="$";function ut(){}on mt(){}ut.prototype=ht.prototype={constructor:ut,has:get:set:remove:clear:keys:values:entries:size:empty:each:;var yt=ht.prototype;function vt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}nction kt(){return 0}mt.prototype={constructor:mt,has:yt.has,add:remove:yt.remove,clear:yt.clear,values:yt.keys,size:yt.size,empty:yt.empty,each:yt.each};const Mt=xt(vt).right;xt(().center;var Tt=Mt;onst Et=Math.sqrt(50),_t=Math.sqrt(10),Nt=Math.sqrt(2); jt(){}var Pt=.7,zt=1/Pt,Ft="\\s*([+-]?\\d+)\\s*",Ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ht=/^#([0-9a-f]{3,8})$/,Yt=new RegExp("^rgb\\("+[Ft,Ft,Ft]+"\\)$"),Wt=new RegExp("^rgb\\("+[Bt,Bt,Bt]+"\\)$"),qt=new RegExp("^rgba\\("+[Ft,Ft,Ft,Ut]+"\\)$"),Gt=new RegExp("^rgba\\("+[Bt,Bt,Bt,Ut]+"\\)$"),Vt=new RegExp("^hsl\\("+[Ut,Bt,Bt]+"\\)$"),Xt=new RegExp("^hsla\\("+[Ut,Bt,Bt,Ut]+"\\)$"),Kt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zt(){return this.rgb().formatHex()}ion re(t,e,n,r){return 1===arguments.length?ne(t):new oe(t,e,n,null==r?1:r)}function oe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ion ue(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}t(jt,Qt,{copy:displayable:hex:Zt,formatHex:Zt,formatHsl:function(){return ce(this).formatHsl()},formatRgb:Jt,toString:Jt}),Rt(oe,re,It(jt,{brighter:function(t){return t=null==t?zt:Math.pow(zt,t),new oe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:rgb:displayable:hex:ie,formatHex:ie,formatRgb:ae,toString:ae})),Rt(ue,(,It(jt,{brighter:function(t){return t=null==t?zt:Math.pow(zt,t),new ue(this.h,this.s,this.l*t,this.opacity)},darker:rgb:displayable:formatHsl:));var fe=Math.PI/180,pe=180/Math.PI,de=.96422,ge=1,be=.82521,me=4/29,ye=6/29,ve=3*ye*ye,we=ye*ye*ye;nction Me(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}n Le(t){return function(){return t}}(Me,ke,It(jt,{brighter:darker:rgb:)),Rt(Oe,Ne,It(jt,{brighter:darker:rgb:));var De=1);e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ue=new RegExp(Fe.source,"g");ion Ge(t){return+t}var Ve=[0,1];function Xe(t){return t}n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;prototype=ln.prototype,ln.prototype.toString=var un={"%":b:t=>Math.round(t).toString(2),c:d:e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:o:t=>Math.round(t).toString(8),p:r:cn,s:X:x:;function hn(t){return t}var fn,pn,dn,gn=Array.prototype.map,bn=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"]fn=mn({thousands:",",grouping:[3],currency:["$",""]}),pn=fn.format,dn=fn.formatPrefix;const wn=new Date,xn=new Dao}const Mn=k{})}),((t,e)=>e-t));Mn.evel),Mn.range;const Tn=1e3,An=6e4,En=36e5,_n=864e5,Nn=6048e5,On=2592e6,Sn=31536e6,Ln=k)}),((t,e)=>{t.setTime(+t+e*Tn)}),((t,e)=>(e-t)/Tn),(t=>t.getUTCSeconds()));Ln.range;const Cn=k)}),((t,e)=>{t.setTime(+t+e*An)}),((t,e)=>(e-t)/An),(t=>t.getMinutes()));Cn.range;const $n=k)}),((t,e)=>{t.setTime(+t+e*An)}),((t,e)=>(e-t)/An),(t=>t.getUTCMinutes()));$n.range;const Dn=k)}),((t,e)=>{t.setTime(+t+e*En)}),((t,e)=>(e-t)/En),(t=>t.getHours()));Dn.range;const Rn=k)})}),((t,e)=>(e-t)/En),(t=>t.getUTCHours()));Rn.range;const In=k0)e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*An)/_n),(t=>t.getDate()-1));In.range;const jn=kn((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/_n-1));jn.range;const Pn=k)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/_nn))}Pn.range;const Fn=zn(0),Un=zn(1),Bn=zn(2),Hn=zn(3),Yn=zn(4),Wn=zn(5),qn=zn()}Fn.range,Un.range,Bn.range,Hn.range,Yn.range,Wn.range,qn.range;const Vn=Gn(0),Xn=Gn(1),Kn=Gn(2),Zn=Gn(3),Jn=Gn(4),Qn=Gn(5),tr=Gn(6);Vn.range,Xn.range,Kn.range,Zn.range,Jn.range,Qn.range,tr.range;const er=kn((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));er.range;const nr=k)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}))),(t=>t.getUTCMonth()));nr.range;const rr=kn((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));rr.every=t=>isFinite(t=Math.floor(t))&&t>0?kn((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,rr.range;const or=k)})}()),(t=>t.getUTCFullYear()]}or.evell,or.range,ir(or,nr,Vn,Pn,Rn,$n);const[ar,sr]=ir(rr,er,Fn,In,Dn,Cvar hr,fr,pr={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,gr=/^%/,br=/[\\^$*+?|[\]().{}]unction xr(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function kr(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Mr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Tr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ar(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Er(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):unction Lr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):1}function $r(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Dr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Rr(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):function zr(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):1}function Ur(t,e){return mr(t.getDate(),e,2)}function Br(t,e){return mr(t.getHours(),e,2)}function Hr(t,e){return mr(t.getHours()%12||12,e,2)}function Yr(t,e){return mr(1+In.count(rr(t),t),e,3)}function Wr(t,e){return mr(t.getMilliseconds(),e,3)}function qr(t,e){return Wr(t,e)+"000"}function Gr(t,e){return mr(t.getMonth()+1,e,2)}function Vr(t,e){return mr(t.getMinutes(),e,2)}function Xr(t,e){return mr(t.getSeconds(),e,2)}function Kr(t){var e=t.getDay();return 0===e?7:e}function Zr(t,e){return mr(Fn.count(rr(t)-1,t),e,2)}function Jr(t){var e=t.getDay();return e>=4||0===e?Yn(t):Yn.ceil(t)}function Qr(t,e){return t=Jr(t),mr(Yn.count(rr(t),t)+(4===rr(t).getDay()),e,2)}function to(t){return t.getDay()}function eo(t,e){return mr(Un.count(rr(t)-1,t),e,2)}function no(t,e){return mr(t.getFullYear()%100,e,2)}function ro(t,e){return mr((t=Jr(t)).getFullYear()%100,e,2)}function oo(t,e){return mr(t.getFullYear()%1e4,e,4)}function io(t,e){var n=t.getDay();return mr((t=n>=4||0===n?Yn(t):Yn.ceil(t)).getFullYear()%1e4,e,)}function so(t,e){return mr(t.getUTCDate(),e,2)}function lo(t,e){return mr(t.getUTCHours(),e,}function ho(t,e){return mr(t.getUTCMilliseconds(),e,}function go(t,e){return mr(t.getUTCMinutes(),e,}function yo(t,e){return mr(Vn.count(or(t)-1,t),e,}function xo(t){return t.getUTCDay)}function Mo(t,e){return mr(t.getUTCFullYear()%100,e,function _o(){return"+000Time:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const l),:n,h],]},l},)}var Yo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:t}var qo,Go,Vo,Xo,Ko,Zo,Jo,Qo,ti,ei,ni,ri,oi,ii,ai,si,li,ci,ui={exports:{}};!function(t,e){!function(t){function e(function i(t){t.forEach(tion p(t){return document.createElement()}function g(t){return document.createTextNode(const E=[],_=[];let N=[];const O=[],S=Promise.resolve();let L=const R=new Set;let I}const z=new Set;let(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let o=t;for(let t=0;t<r.length&&null!=o;t++)o=o[r[t]];return null==o?n:o}var nt,rt={exports:{s}window.DOMPurify||(window.DOMPurify=ot().default||ot());var it="object"==typeof self&&self.self===self&&self||"object"==typeof Yo&&Yo.global===Yo&&Yo||Function("return this")()||{},at=Object.prototype,st=at.toString,lt=at.hasOwnProperty,ct=Array.isArray,ut=Object.keys,ht=!{toString:null}.propertyIsEnumerable("toString"),ft=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function pt(t){return t instanceof pt?t:this instanceof pt?void(this._wrapped=t):new pt(t)}function dt(t){return t}function gt(t){var e="[object "+t+"]";return function(t){return st.call(t)===e}}pt.VERSION="1.13.6",pt.prototype.value=function(){return this._wrapped},pt.prototype.valueOf=pt.prototype.toJSON=pt.prototype.value,pt.prototype.toString=function(){return String(this._wrapped)};var bt=gt("Function"),mt=it.document&&it.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof mt&&(bt=function(t){return"function"==typeof t||!1});var yt=bt;function vt(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var wt=ct||gt("Array");function xt(t,e){return null!=t&&lt.call(t,e}var Mt,Tt=(Mt=t});function At(t){return pt.toPath()}function _t(t,e){for(var n=(e=At(e)).length,r=0;r<n;r++){var o=e[r];if(!xt(t,o))return!1;t=t[o]}return!1}pt.toPa]},pt.iterat)};var Ot=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-2n}var Lt=1/3,Ct=Object.freeze({__proto__:null,a)},sub:function(t,e){return t-e},me},de},me},conce},eque},notEque},greaterThe},lessThe},greaterThanEque},lessThanEque},andOperat)},orOperat)},inOperator:function(t,e){return Nt(e,t)},si2},co2},ta)},asi)},aco)},ata2},logE},nt},nt},tru)},rand)},factori)},gamma:St,stringOrArrayLengh},hyp)},conditin},round)},setVe},arrayInd]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},m)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFo)},arrayFilt)},stringOrArrayIndex)},arrayJo)},sit},cb)},exp1},log)},lo2},s)}}),$t="INUMBER",Dt="IOP1",Rt="IOP2",It="IOP3",jt="IVAR",Pt="IVARNAME",zt="IFUNCALL",Ft="IFUNDEF",Ut="IEXPR",Bt="IEXPREVAL",Ht="IMEMBER",Yt="IENDSTATEMENT",Wt="IARRA0}function Gt(t){return new qt(Dt,.prototype.toStri}};var Qt="TEOF",te="TOP",ee="TNUMBER",ne="TSTRING",re="TPAREN",oe="TBRACKET",ie="TCOMMA",ae="TNAME",se="TSEMICOLO}le.prototype.toStrie},ce.prototype.newTok)},ce.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},ce.prototype.restot},ce.prototype.ne)},ce.prototype.isStrit},ce.prototype.isPar)},ce.prototype.isBrack)},ce.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(ie,","),this.pos++,!0)},ce.prototype.isSemicol)},ce.prototype.isCon1},ce.prototype.isNamed1},ce.prototype.isNa1},ce.prototype.isWhitespat};var ue=/^[0-9a-f]{4}$)}ce.prototype.unescan},ce.prototype.isComme)},ce.prototype.isRadixIntegr},ce.prototype.isNumbe},ce.prototype.isOperatt,!1)},ce.prototype.isOperatorEed(t)},ce.prototype.getCoordmn:t}},ce.prototype.pars "+t)},he.prototypext()},he.prototype.tokenM===e)},he.prototypave()},he.prototype.rToken},he.prototype.),0))},he.prototype.|t))}},he.prototype.parn))}}},he.prototype.parseExprt,e))},he.prototype.pushExpre[n])},he.prototype.parseUntilEndSta),!0)},he.prototype.parseArrayList=function(t){for(var e=0;!this.accept(oe,"]");)for(this.parseExpression(t),++e;this.accept(ie);)this.parseExpression(t),++e;return e},he.prototype.parseVariableAssignmentExpre))}}},he.prototype.parseConditionalExpr?"))}},he.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(te,"or");){var e=[];this.parseAndExpression(e),t.push(new qt(Ut,e)),t.push(Vt("or"))}},he.prototype.parseAndExprd"))}};var fe=["==","!=","<","<=",">=",">","in"];he.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(te,fe);){var e=this.current;this.parseAddSub(t),t.push(Vt(e.value))}};var pe=["+","-","||"];he.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(te,pe);){var e=this.current;this.parseTerm(t),t.push(Vt(e.value))}};var de=["*","/","%"];he.prototype.parue))}},he.prototype.parseal(t)},he.prototype.parseExpon"^"))},he.prototype.parsePostfixExpr"!"))},he.prototype.parseFuncti,r))}},he.prototype.parseArgumeurn e},he.prototype.parseMemberExpr"))}}};const{add:ge,sub:be,mul:me,div:ye,mod:ve,equal:we,notEqual:xe,greaterThan:ke,lessThan:Me,greaterThanEqual:Te,lessThanEqual:Ae,andOperator:Ee,orOperator:_e,log10:Ne,neg:Oe,not:Se,trunc:Le,random:Ce,stringOrArrayLength:$e,condition:De,roundTo:Re,arrayIndex:Ie,max:je,min:Pe,sum:ze,arrayMap:Fe,arrayFold:Ue,arrayFilter:Be,sign:He,log1p:Ye,log2:im()}qe.prototype.evis,t)},qe.prototype.varlue))};const Ve=new Set(["__proto__","prototype","construc.NaN}}Xe.prototypethis)},Xe.prototype.evte(e)};var Ke=new Xe;Xese(t)},Xe.evte(e)},Xe.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Ze={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Xe.prototype.isOperatorE!n[e]};const Je="%UNDEFINED%",Qe={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>en(t),prop:"letter-spacing"},fontSize:{prop:"font-siz>en(t)},lineHeight:{prop:"line-heighvar e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-stylor"):t}const nn=Math.cos,rn=Math.sin,on=Math.sqrt,an=Math.PI,sn=2*an,ln=Math.PI,cn=2*ln,un=1e-6,hn pn}dn.prototype=pn.prototype;var g0,sn)}},bath()}},m,n,n)}};const yn=rn(an/10)/rn(7*an/10),vn=rn(sn/10)*yn,wn=-nn(sn/10)*yn;var xath()}};const kn=-.5,Mn=on(3)/2,Tn=1/on(12),An=3*(Tn/2+1);var Eath()}},_n=Object.assign(Object.assign({name:"circle"},gnht:e}}}),Nn=Object.assign(Object.assign({name:"cross"},bnht:e}},verticalAlign:"bottom"}),On={name:"diamonath(:2*e}}},Sn={name:"hexago0,-r*e*2}}},Ln={name:"markeh.PI)},bbox(t){const e=Math.sqrt(t);return{width:1.1682*e,height:1.9051*e}},baseline:1},Cn={name:"spik(2,0)ht:t}),baseline:1},$n=Object.assign(Object.assign({name:"square"},mnht:e}}}),Dn=Object.assign(Object.assign({name:"star"},xn),{bbox(t){const e=Math.sqrt(t);return{width:1.7897*e,height:1.7048*e}},baseline:.55}),Rn=Object.assign(Object.assign({name:"wye"},En63*e}},baseline:.455});const In=Math.sqrt(3);var jn={name:"triangleUath()},bbox(t){const e=Math.sqrt(t/(3*In));return{width:In*e*2,height:3*e}},baseline:.66667};const Pn=Math.sqrt(3);var zn={name:"triangleDowath(:3*e}},baseline:.3333},Fn=Object.freeze({__proto__:null,symbolCircle:_n,symbolCross:Nn,symbolDiamond:On,symbolHexagon:Sn,symbolMarker:Ln,symbolSpike:Cn,symbolSquare:$n,symbolStar:Dn,symbolTriangleDown:zn,symbolTriangleUp:jn,symbolWy}function Gn(t){let e,n,r,o,i,a,s,l,f=t[12].symbol&&Kn(t);return{c(){e=d("svg"),n=d("line"),f&&f.c(),y(n,"x1",r=t[23][0].x),y(n,"y1",o=t[23][0].y),y(n,"x2",i=t[23][1].x),y(n,"y2",a=t[23][1].y),y(n,"stroke",t[7]),y(n,"stroke-width",s=t[12].strokeWidth),y(n,"stroke-dasharray",l=t[12].dashArray),y(n,"stroke-linecap",t[20]),y(e,"class","legend-color"),w(e,"width",en(t[19])),w(e,"height",en(t[17])),w(e,"margin-left",t[0]?en(t[27]):null),w(e,"margin-right",t[0]?null:en(t[2null)},p(t,c){8388608&c[0]&&r!==(r=t[23][0].x)&&y(n,"x1",r),8388608&c[0]&&o!==(o=t[23][0].y)&&y(n,"y1",o),8388608&c[0]&&i!==(i=t[23][1].x)&&y(n,"x2",i),8388608&c[0]&&a!==(a=t[23][1].y)&&y(n,"y2",a),128&c[0]&&y(n,"stroke",t[7]),4096&c[0]&&s!==(s=t[12].strokeWidth)&&y(n,"stroke-width",s),4096&c[0]&&l!==(l=t[12].dashArray)&&y(n,"stroke-dasharray",l),1048576&c[0]&&y(n,"stroke-linecap",t[20]),t[12].symbol?f?f.p(t,c):(f=Kn(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null),524288&c[0]&&w(e,"width",en(t[19])),131072&c[0]&&w(e,"height",en(t[17])),134217729&c[0]&&w(e,"margin-left",t[0]?en(t[27]):null),134217729&c[0]&&w(e,"margin-right",t[0]?null:en(t[27]))},d(t){t&&h(e),f&&f}}}function Jn(t,e,n){let r,o,i,a,s,l,c,u,h,f,p,d,g,b,m,y,v;var w;const x=T();let{rtl:k}=e,{buffer:M}=e,{id:E}=e,{themeData:_}=e,{chroma:N}=e,{purifyHtml:O}=e,{blendMultiply:S=!1}=e,{blendMultiplyBackground:L=""}=e;if(S&&!L)throw new Error("Property 'blendMultiplyBackground' missing from legend");let{color:C}=e,{label:$}=e,{key:D}=e,{width:R}=e,{pattern:I}=e,{line:j}=e,{min:P}=e,{max:z}=e,{highlight:F=!1}=e;const U={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};let B,H,Y;const W={x:0,y:0};return tight)},t.$$.update=()=>{if(8&t.$$.dirty[0]&&n(22,r=et(_,"vis.base.legend.swatch.borderRadius")),4194304&t.$$.dirty[0]&&n(32,o="50%"===r?"dw-circle":"export-rect"),256&t.$$.dirty[0]&&,n+1)}($)),2097408&t.$$.dirty[0]&&n(31,a=$.slice(i.length)),2048&t.$$.dirty[0]&&n(30,s=I?U[I.type]:0),2048&t.$$.dirty[0]&&n(29,l=I?I.lineGap+I.strokeWidth:0),8&t.$$.dirty[0]&&n(28,c=et(_,"vis.base.legend.text.marginRight",10)),8&t.$$.dirty[0]&&n(27,u=et(_,"vis.base.legend.swatch.marginRight",3)),8&t.$$.dirty[0]&&n(18,m=et(_,"vis.base.legend.swatch.diagonal",!1)),266248&t.$$.dirty[0]&&n(19,h=j?et(_,"vis.d3-lines.legend.swatch.width",16):et(_,"vis.base.legend.swatch.width",et(_,"vis.base.legend.swatch.size",14))),790536&t.$$.dirty[0]&&n(17,f=j?m?h:et(_,"vis.d3-lines.legend.swatch.height",20):et(_,"vis.base.legend.swatch.height",et(_,"vis.base.legend.swatch.size",14))),8&t.$$.dirty[0]&&n(39,p=et(_,"colors.background","#ffffff")),136&t.$$.dirty[0]|264&t.$$.dirty[1]&&n(26,d=et(_,"vis.base.legend.text.useSwatchCos-1)}}(C,p,4.5,N)),8&t.$$.dirty[0]&&n(20,g=et(_,"vis.d3-lines.legend.swatch.linecap","round")),1052672&t.$$.dirty[0]&&n(38,b=j&&"butt"!==g?.5*j.strokeWidth:0),4096&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(37,y=(null==j?void 0:j.symbol)?(null===n(35,w=null==j?void 0:j.symbol)||void 0===w?void 0:w.position)||"center":null),4096&t.$$.dirty[0]&&(null==j?void 0:j.symbol)&&n(36,H=(null==j?void 0:j.symbol.size)||5),921600&t.$$.dirty[0]|96&t.$$.dirty[1]&&(null==j?void 0:j.symbol)&&(n(16,W.x="left"===y?H/2:"right"===y?h-H/2:h/2,W),n(16,W.y=m&&"left"===y?f-H/2:m&&"right"===y?H/2:f/2,W)),987136&t.$$.dirty[0]|192&t.$$.dirty[1]&&n(23,B=j?[{x:"left"===y?W.x:b,y:m?"left"===y?W.y:f-b:f/2},{x:"right"===y?W.x:h-b,y:m?"right"===y?W.y:b:f/2}]:[{x:0,y:0},{x:0,y:0}]),4096&t.$$.dirty[0]|32&t.$$.dirty[1]&&(null==j?void 0:j.symbol)){const t=dn(),e=j.symbol,r=Object.values(Fn).shape));if(void 0===r)throw new Error("'".concat(e.shape,"' is not a valid shape"));const o=Math.pow(H/2,2)*Math.PI;r.draw(t,o),n(24,Y=t.toString())}8&t.$$.dirty[0]&&n(25,v=et(_,"vis.d3-lines.symbols.style","fill"))},[k,M,E,_,O,S,L,C,$,D,R,I,j,P,z,F,W,f,m,h,g,i,r,B,Y,v,d,u,c,l,s,a,o,x,N,w,H,y,b,p,function(e){A.call(this,t,e)},function(e){A.call(this,t,e)},()=>x("mouseenter",{key:D,label:$,color:C,min:P,max:z,valu}function sr(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function lr(t){let e,n,r=t[17],o=[];for(let e=0;e<r.length;e+=1)o[e]=cr(sr(t,r,e));const i=t=>Y(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=b()},m(t,r){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(5118329&n[0]){let a;for(r=t[17],a=0;a<r.length;a+=1){const i=sr(t,r,a);o[a]?(o[a].p(i,n),H(o[a],1)):(o[a]=cr(i),o[a].c(),H(o[a],1),o[a].m(e.parentNode,e))}for(U(),a=r.length;a<o.length;a+=1)i(a);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)H(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Y(o[t]);n=!1},d(t){f(o,t),t,r}function gr(t,e,n){const r=t.slice();return r[66]=e[n],r[68]=n,r}function br(t,e,n){const r=t.slice();return r[69]=e[n],r[71]=n,r}function mr(t,e,n){const r=t.slice();return r[69]=e[n],r,t)}}}function xr(t){let e,n,r=t[69]+"";return{c(){e=d("tspan"),n=g(r),y(e,"x","0"),y(e,"dy",0===t[71]?0:Nr)},m(t,r){u(t,e,r),c(e,n)},p(t,e){512&e[0]&&r!==(r=t[69]+"")&&v(n,r)},d(t){t}}}const Nr=15;function Or(t,e,n){let r,o,i,a,s,l,c,u,h,f,p,d,g,b,m,y,v,{title:w=""}=e,{colors:x=(()=>"fff")}=e,{limits:k=[0,100]}=e,{format:M=(t=>String(+t.toFixed(2)))}=e,{labels:A}=e,{horizontal:E=!0}=e,{width:N=100}=e,{height:O=200}=e,{position:S="above"}=e,{highlight:L=!1}=e,{rtl:C=!1}=e,{reverse:D=!1}=e,{buffer:R=!1}=e,{emotion:I}=e,{purifyHtml:j}=e,{themeData:P={}}=e,{blendMultiply:z=!1}=e,{blendMultiplyBackground:F=""}=e;const U=new Promise((t=>{v=t})),B=T();let H=!1,Y=!1;const W=[...Array(17).keys(t=>t/16)),q="g-".concat(Math.floor(1e6*Math.random()).toStr]-u[0])}let V=[],X=!1,K=!1,{highlightedValue:Z=null}=e,J=null;const Q={x:null,y:null};let tt=null,nt=null;const{onMouseEnter:rt,onMouseLeave:ot,onClick:it,onHighlight:at}=ir(B,L);lell!==t)}));const lt={width:100,height:100};return t.$$set=t=>{"title"in t&&n(1,w=t.title),"colors"in t&&n(2,x=t.colors),"limits"in t&&n(36,k=t.limits),"format"in t&&n(37,M=t.format),"labels"in t&&n(38,A=t.labels),"horizontal"in t&&n(3,E=t.horizontal),"width"in t&&n(4,N=t.width),"height"in t&&n(5,O=t.height),"position"in t&&n(39,S=t.position),"highlight"in t&&n(40,L=t.highlight),"rtl"in t&&n(6,C=t.rtl),"reverse"in t&&n(41,D=t.reverse),"buffer"in t&&n(0,R=t.buffer),"emotion"in t&&n(42,I=t.emotion),"purifyHtml"in t&&n(7,j=t.purifyHtml),"themeData"in t&&n(43,P=t.themeData),"blendMultiply"in t&&n(8,z=t.blendMultiply),"blendMultiplyBackground"in t&&n(44,F=t.blendMultiplyBackground),"highlightedValue"in t&&n(46,Z=t.highlightedValue)},t.$ull)}()},[R,w,x,E,N,O,C,j,z,V,X,st,l,m,K,nt,lt,y,b,g,d,p,f,h,s,a,i)+kx:o}}))},k,M,A,S,L,D,I,P,F,U,Z,H,Y,J,Q,tt,c,function(t){_[t?"unshift":"push"]((()=>{st=t,n(11,}function Br(t,e,n){const r=t.slice();return r[45]=e[n],r[46]=e,r[47]=n,r}function Hr(t,e,n){const r=t.slice();return r[45]=e[))}]}class Jr extends X{constructor(t){super(),V(this,t,Zr,Kr,s,{title:1,horizontal:2,highlight:3,reverse:4,rtl:5,emotion:6,chroma:7,purifyHtml:8,colors:9,breaks:10,labels:11,format:12,themeData:13,width:14,height:15,position:16,buffer:0,blendMultiply:17,blendMultiplyBackground:18,rendered:34,highlightedValue:35},null,[-1,-1])}get rendered(){return this))}t.CategoryLegend=pr,t.ContinuousLegend=Sr,t.RangeLegend=Jr,t.RulerLegend=so,t.categoryLontainer:t}},t.colorLn.rendered}},t.highlightTimer=or}(e)}(0,ui.exports);var hn}}return t}function pi(){return null}const di=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|z[t]?0:NaN}}gi.not=function(t){retu{return t()[n]?t[n]:e}},it.prototyx)"})):this},it.prot]);return r},it.prot]);return a},it.protrentNode}))},it.prototype.]);return e},it.prote)||15:0}))},it.prototyp).append(t)},it.s.attr(t,e)},it.h?t:t+"px"}},it.prototype.prop=it.prototype.property;var mi={T.p={},T}()}(mi);var yi=Wo(mi.exports);function vi(t){return t}var wi=Anction"==e)}var ki="object"==typeof global&&global&&global.Object===Object&&global,Mi="object"==typeof self&&self&&self.Object===Object&&self,Ti=ki||Mi||Function("return this")(),Ai];return t}var Ni=Ti.Symbol,Oi=Object.prototype,Si=Oi.hasOwnProperty,Li=Oi.toString,Ci=Ni?Ni.toStringTag:void 0;var $i=Object.prototype.toString;var Di="[object Null]",Ri="[object Undefined]",Ii=Ni?Ni.toStri]"==ji(t)}var Fi=Object.prototype,Ui=Fi.hasOwnProperty,Bi=Fi.propertyIsEnumerable,Hi=zi(function(){return argut,"callee")},Yi=Hi,Wi=Ni?Ni.isConcatSprearn t(e)}}var Ki="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zi=Ki&&"object"==typeof module&&module&&!module.nodeType&&module,Ji=Zi&&Zi.exports===Ki&&k}catch(t){}}(),ta=Qi&&Qi.isDate,;return-1}var ia=Array.prototype.splice;function aa(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}aa.prothis.size=0},aa.protis.size,!0)},aa.pd 0:e[n][1]},aa.pata__,t)>-1},aa.p][1]=e,this};var sa="[object AsyncFunction]",la="[object Function]",ca="[object GeneratorFunction]",ua="[ob==sa||e==ua}var fa,pa=Ti["__core-js_shared__"],da=(fa=/[^.]+$/.exec(pa&&pa.keys&&pa.keys.IE_PROTO||""))?"Symbol(src)_1."+fa:"";var ga=Function.protot{}}return""}var ma=/^\[object .+?Constructor\]$/,ya=Function.prototype,va=Object.prototype,wa=ya.toString,xa=va.hasOwnProperty,ka=RegExp("^"+wa.call(xa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,")?n:void 0}var Aa=Ta(Ti,"Map"),Ea=Ta(Object,"create");var _a=Object.prototype.hasOwnProperty;var Na=Object.prototype.hasOwnProperty;function Oa(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set[0],r[1])}}Oa.prothis.size=0},Oa.protze-=e?1:0,e},Oa.pe[t]:void 0},Oa.pa.call(e,t)},Oa.pd__":e,this},La.proing:new Oa}},La.protze-=e?1:0,e},La.prototype.get=function(t){return Sa(this,t).get(t)},La.ps,t).has(t)},La.psize=e.size}Ca.prothis.size=0},Ca.protze=e.size,n},Ca.prototype.get=function(t){return this.__data__.get(t)},Ca.prototype.has=function(t){return this.__data__.has(t)},Ca.p t.has(e)}$a.prototype.add=$a.pred__"),this},$a.prototype.has=function(t){return this.__data__.has(t)};vdelete(e),f}var za=T+e]=t})),n}var Ba=1,Ha=2,Ya="[object Boolean]",Wa="[object Date]",qa="[object Error]",Ga="[object Map]",Va="[object Number]",Xa="[object RegExp]",Ka="[object Set]",Za="[object String]",Ja="[object Symbol]",Qa="[object ArrayBuffer]",ts="[object DataView]",es=Ni?Ni.prototype:void 0,ns=es?es.valueOf:void 0;var rs=Object.prototype.propertyIsEnumerable,os=Object.getOwnPropertyS(){return[]},as=is;var ss="object"==typeof exports&&exports&&!exports.nodeType&&exports,ls=ss&&"object"==typeof module&&module&&!module.nodeType&&module,cs=ls&&ls.exports===ss?Ti.Buffer:void 0,us=(cs?cs.isBuf(){return!1},hs=9007199254740991,fs=/^(?:0t%1==0&&t<e}var ds=90071==0&&t<=ds}var bs={};bs["[object Float32Array]"]=bs["[object Float64Array]"]=bs["[object Int8Array]"]=bs["[object Int16Array]"]=bs["[object Int32Array]"]=bs["[object Uint8Array]"]=bs["[object Uint8ClampedArray]"]=bs["[object Uint16Array]"]=bs["[object Uint32Array]"]=!0,bs["[object Arguments]"]=bs["[object Array]"]=bs["[object ArrayBuffer]"]=bs["[object Boolean]"]=bs["[object DataView]"]=bs["[object Date]"]=bs["[object Error]"]=bs["[object Function]"]=bs["[object Map]"]=bs["[object Number]"]=bs["[object Object]"]=bs["[object RegExp]"]=bs["[object Set]"]=bs["[object String]"]=bs["[object WeakMap]"]=!1;var ms=Qi&&Qi.isTypedArray,!!bs[ji(t)]},vs=Object.prototype.hac);return s}var xs=Object.prototype;var ks,Ms,Ts=(ks=Object.ken ks(Ms(t))}),As=Object.prototype.hat,Ns,as)}var Ss=1,Ls=Object.prototype.hasOwnProperty;var Cs=Ta(Ti,"DataView"),$s=Ta(Ti,"Promise"),Ds=Ta(Ti,"Set"),Rs=Ta(Ti,"WeakMap"),Is="[object Map]",js="[object Promise]",Ps="[object Set]",zs="[object WeakMap]",Fs="[object DataView]",Us=ba(Cs),Bs=ba(Aa),Hs=ba($s),Ys=ba(Ds),Ws=ba(Rs),qs=ji;(Cs&&qs(new Cs(new ArrayBuffer(1)))!=Fs||Aa&&qs(new Aa)!=Is||$s&&qs($s.resolve())!=js||Ds&&qs(new Ds)!=Ps||Rs&&qs(new Rzs}return e});var Gs=qs,Vs=1,Xs="[object Arguments]",Ks="[object Array]",Zs="[object Object]",Js=Object.prototype.han,r,tl,o))}v}(n,t,e)}}var al="[obj&&ji(t)==al}var ll=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\] Object(e))}var hl="Expectedache||La),n}fl.Cache=La;var pl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dl=/h:n||t)})),e})),bl=gl,ml=1/0,yl=Ni?Ni.prototype:void 0,vl=yl?yl.toSwl(t)}(t)(t,e,Al)}v(t):Sl(ak}return t},)&Dl(t,e,eturn!1}var Bl=Ds&&1/Ua(new Ds([,-0]))[1]==1/0?function(t){return new Ds(t)}:function(){},"))}const tc="--zeroity),")"),r}const nc={horizontal:90,vertical:0,"diagonal-up":135,"diagon.concat(l)}const lc=new Set(["à¸¿","â¿","Â¢","$","â¬","eur","Â£","gbp","Â¥","yen","usd","cad","us$","ca$","can$"]),cc=/\.(0*)\[t)?l(t,e,r):t:l(t,e,r,o)}}c.stringify(n)&&(i[o]=n,!0)}const gc=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,bc=/^#?([A-Fa-f0-9]{wn hex color:[2]:1;return t<e?e:t>n?n:t};const wc=vc;const xc={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])xc["[object ".concat(t,"]")]=t.toLowerCase();var kc=function(t){return xc[Object.prototype.toString.call(t)]||"object"};const Mc=kc;const Tc=kc;const [e]=wc(t[e],0,1));return])).m])?t[e].toLowerCase():null},PI:Ac,TWOPI:2*Ac,PITHIRD:Ac/3,DEG2RAD:Ac/180,RAD2DEG:180/Ac};const _c={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},{unp2.9.t39192*e+0?0:c,500* Rc(t){return Dc(yc(t))[0]}var Ic={exports:{}};
/**
   * chroma.js - JavaScript library for color conversions
   *
   * Copyright (c) 2011-2019, Gregor Aisch
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   * list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. The name Gregor Aisch may not be used to endorse or promote products
   * derived from this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
   * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *
   * -------------------------------------------------------
   *
   * chroma.js includes colors from colorbrewer2.org, which are released under
   * the following license:
   *
   * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
   * and The Pennsylvania State University.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
   * either express or implied. See the License for the specific
   * language governing permissions and limitations under the License.
   *
   * ------------------------------------------------------
   *
   * Named colors are taken from X11 Color Names.
   * http://www.w3.org/TR/css3-color/#svg-colo=va;var xa=wa;return xa}()e.mix(r,n,t).hex()}}(t,jc)}var zc="1.13.6",Fc="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Uc=Array.prototype,Bc=Object.prototype,Hc="undefined"!=typeof Symbol?Symbol.prototype:null,Yc=Uc.push,Wc=Uc.slice,qc=Bc.toString,Gc=Bc.hasOwnProperty,Vc="undefined"!=typeof ArrayBuffer,Xc="undefined"!=typeof DataView,Kc=Array.isArray,Zc=Object.keys,Jc=Object.create,Qc=Vc&&ArrayBuffer.isView,tu=isNaN,eu=isFinite,nu=!{toString:null}.propertyIsEnumerable("toString"),ru=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleSeturn qc.call(t)===e}}var hu=uu("String"),fu=uu("Number"),pu=uu("Date"),du=uu("RegExp"),gu=uu("Error"),bu=uu("Symbol"),mu=uu("ArrayBuffer"),yu=uu("Function"),vu=Fc.document&&Fc.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&rn"function"==typeof t||!1});var wu=yu,xu=uu("Object"),ku=Xc&&xu(new DataView(new ArrayBuffer(8))),Mu="undefined"!=typeof Map&&xu(new Map),u(t.getInt8)&&mu(t.bufturn null!=t&&Gc.call(tt){return _urn null==e?void 0:e[t]}}var Du=$u("byteLength"),Ru=Cu(Du),Iu=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(IRu(t)&&Iu.test(qc.call(t.byteOffset||0,Du(t))}Bu.VEion(){return this._wrapped},Bu.prototype.valueOf=Bu.prototype.toJSON=Bu.prototype.turn String(this._wrapped)}urn t!==Qu||!wu(n[Xu])}}var Xu="forEach",Ku=["clear","delete"],Zu=["get","has","set"],Ju=Ku.concat(Xu,Zu),Qu=Ku.concat(Zu),th=["add"].concat(Ku,Xu,"has"),eh=Mu?Vu(Ju):uu("Map"),nh=Mu?Vu(Qu):uu("WeakMap"),rh=Mu?Vu(th)||(n[c]=i[c])}return n}}var ch=lhm()*(e-t+1))}Bu.toPath=ph,Bu.i.test(t)?t.replace(o,e):t}}var Oh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Sh=Nh(Oh),Lh=Nh(ah(Oh)),Ch=Bu.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},$h=/(.)^/,Dh={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Rh=ion Ih(t){return"\\"+Dh[t]}var jh=pply(i,o);t,r,this,this,a)};return r}));Fs,n.concat(olse n||(r[];t[r]=Uh(t[return t.apply(nulments)),t<=1&&],i,e))return i;returi]===o)return i;return-1}}var rn r}(e,xh(n,o,4),r|r)&&(n n0)&&(i=t,a=o)}));return i}var yf=/[^\ud800-\udfff]|[\ud800-\udbff][\udc0=r(e,o,nt,n)?t[n]xf((functe,n){_u(ton(t,on Ef(t,e,(s,a,t)&&rec.call(tction(t){return!df(e,t)}))})),$f=iu((funcf(o,l)||o.(t;r++)n[r]=bf(his,n.apply(Bu,t))}})),Bu}af(["pop","push","reverse","shift",||delete n[0]),Pf(this,n)}})),af(t,arguments)),Pf(this,t)}}));var Ff=Object.freeze({__proto__:null,VERSION:zc,restArguunction(t){return null===t},isUndefined:su,isBoolean:lu,isElement:cu,isString:hu,isNumber:fu,isDate:pu,isRegExp:du,isError:gu,isSymbol:bu,isArrayBuffer:mu,isDataView:Au,isArray:Eu,isFunction(t)&&!isNaN(parseFloat(t))},isNaNOu(t))?0===e:0===Pu(Fu(t))},isMatch:Uu,isEqual:function(t,e){return Wu(t,e)},isMap:eh,isWeakMap:nh,isSet:rh,isWeakSet:oh,keys:Fuo]=[e[o],t[e[o]]];return r},invert:ah,functions:sh,methods:sh,extend:ch,extendOwn:uh,a=fh(t)Eu(t)?t.slice():ch({},t):t},tap:function(t,e){return e(t);i[s]=e(t[s],s,t)}return i},identity:yh,constant:Lu,noop:Ah,toPatunction(e){return bh(t,e)}},o<t;o++)r[o]=e(o);return r},random:Eh,now:_h,escape:Sh,unescape:Lh,tunctionwu(i)?i.cr e=++Bu(t);return e._chain=!0,e},iteratee:Mh,partial:Fh,o[i]};return n.cache={},n}meout(r),arTimeout(r),r=i=s=null},c},wrap:function(t,e){return[n].can e.apply(this,arguments)}},before:Vh,once:Xh,findKey:Kh,findIndex:Jh,findLastIndex:Qh,sortedIndex:tf,indexOf:nf,lastIndexOf:rf,find:of,detect:of,findWhere:function(t,e){return of(t,vh(e))},each:af,forEach:af,map:sf,collect:sf,reduce:cf,foldl:cf,inject:cf,reduceRight:uf,foldr:uf){return hf(t,Gh(Th(e)),n)},every:ff,all:ff,some:pf,any:pf,contains:df,includes:df,include:on(t,e){ret/0)&&(i=nction(t){return .index-e.index})),"value")},groupBy:kf,indexBy:Mf,countBy:Tf,ph(t)?t.length:Fu(t).length},pick:_f,omit:Nf,first:Sf,head(t,Math.max(0,t.length-e))},rest:Lf,tail:Lf,drop:Lf,compact:function(t){reion(t,e){return Hh(t,e,!1)},without:$f,uniq:Df,uniqa===n&&e.push(i)}}return e},difference:Cf,unzip:If[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,c.call(t,r,r+=e));return n},mixin:zf,default:Burn t.$$typeof===Hf}(t)}(t)};var Hf="function"==typeof Symbol&&Symbol.for?Symbol,,n){return Xf(M element or D3 se}}));return r.bind(this)(i)}}}(tp);var ep=W}:e);return i.call(this,r)}})}(np);var rp=Wo(np.exports);yi.extmultiply:Ma:Math.abs(e-s.bbox[o])}}}var mp,yp={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure5();return K}()}(yp)),yp.exports}function wp(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}window.DOMPurify||(window.DOMPurify=vp().default||vp());var xp=4.7421875,kp=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-261908384015Math.pow(e,t+.5)*Math.exp(-e)*n}var Tp=1/3;var Ap=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return wp(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Mp(t+1)},gamma:Mp,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,o=Math.abs(arguments[n]);e<o?(t=t*(r=e/o)*r+1,e=o):t+=o>0?(r=o/e)*r:o}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,Tp):Math.pow(t,Tp)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),Ep="INUMBER",_p="IOP1",Np="IOP2",Op="IOP3",Sp="IVAR",Lp="IVARNAME",Cp="IFUNCALL",$p="IFUNDEF",Dp="IEXPR",Rp="IEXPREVAL",Ip="IMEMBER",jp="IENDSTATEMENT",Pp="IARRAY";function zp(t,e){this.type=t,this.value=null!=e?e:0}function Fp(t){return new zp(_p,t)}function Up(t){return new zp(Np,t)}function Bp(t,e,n){var r,o,i,a,s,l,c=[];if(Yp(t))return Wp(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],p=f.type;if(p===Ep||p===Lp)c.push(f.value);else if(p===Np)o=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!Bp(o,e,n)):"or"===f.value?c.push(!!r||!!Bp(o,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,Bp(o,e,n),n))):(a=e.binaryOps[f.value],c.push(a(Wp(r,n),Wp(o,n))));else if(p===Op)i=c.pop(),o=c.pop(),r=c.pop(),"?"===f.value?c.push(Bp(r?o:i,e,n)):(a=e.ternaryOps[f.value],c.push(a(Wp(r,n),Wp(o,n),Wp(i,n))));else if(p===Sp){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var d=n[f.value];if(void 0===d)throw new Error("undefined variable: "+f.value);c.push(d)}}else if(p===_p)r=c.pop(),a=e.unaryOps[f.value],c.push(a(Wp(r,n)));else if(p===Cp){for(l=f.value,s=[];l-- >0;)s.unshift(Wp(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(p===$p)c.push(function(){for(var t=c.pop(),r=[],o=f.value;o-- >0;)r.unshift(c.pop());var i=c.pop(),a=function(){for(var o=Object.assign({},n),i=0,a=r.length;i<a;i++)o[r[i]]=arguments[i];return Bp(t,e,o)};return Object.defineProperty(a,"name",{value:i,writable:!1}),n[i]=a,a}());else if(p===Dp)c.push(Hp(f,e));else if(p===Rp)c.push(f);else if(p===Ip)r=c.pop(),c.push(r[f.value]);else if(p===jp)c.pop();else{if(p!==Pp)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Wp(c[0],n)}function Hp(t,e,n){return Yp(t)?t:{type:Rp,value:function(n){return Bp(t.value,e,n)}}}function Yp(t){return t&&t.type===Rp}function Wp(t,e){return Yp(t)?t.value(e):t}zp.prototype.toString=function(){switch(this.type){case Ep:case _p:case Np:case Op:case Sp:case Lp:case jp:return this.value;case Cp:return"CALL "+this.value;case $p:return"DEF "+this.value;case Pp:return"ARRAY "+this.value;case Ip:return"."+this.value;default:return"Invalid Instruction"}};var qp="TEOF",Gp="TOP",Vp="TNUMBER",Xp="TSTRING",Kp="TPAREN",Zp="TBRACKET",Jp="TCOMMA",Qp="TNAME",td="TSEMICOLON";function ed(t,e,n){this.type=t,this.value=e,this.index=n}function nd(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}ed.prototype.toString=function(){return this.type+": "+this.value},nd.prototype.newToken=function(t,e,n){return new ed(t,e,null!=n?n:this.pos)},nd.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},nd.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},nd.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(qp,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},nd.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var o=this.expression.substring(e+1,r);this.current=this.newToken(Xp,this.unescape(o),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},nd.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Kp,t),this.ps.newToken(Zp,t),this.pos++,!0)},nd.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(Jp,","),this.pos++,!0)},nd.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(td,";"),this.pos++,!0)},nd.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(Vp,this.consts[r]),this.pos+=r.length,!0}return!1},nd.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Gp,r),this.pos+=r.length,!0}return!1},nd.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var o=this.expression.substring(t,e);return this.current=this.newToken(Qp,o),this.pos+=o.length,!0}return!1},nd.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var rd=/^[0-9a-f]{4}$/i;function od(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}nd.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var o=t.substring(e+1,e+5);rd.test(o)||this.parseError("Illegal escape sequence: \\u"+o),n+=String.fromCharCode(parseInt(o,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var i=t.indexOf("\\",e);n+=t.substring(e,i<0?t.length:i),e=i}return n},nd.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},nd.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,o=n;n<this.expression.length;){var i=this.expression.charAt(n);if(!e.test(i))break;n++,r=!0}return r&&(this.current=this.newToken(Vp,parseInt(this.expression.substring(o,n),t)),this.pos=n),r},nd.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,o=n,i=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:a=!0,n++,e=a;if(e&&(o=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=o)}return e?(this.current=this.newToken(Vp,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=o,e},nd.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Gp,e);else if("â"===e||"â¢"===e)this.current=this.newToken(Gp,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Gp,">="),this.pos++):this.current=this.newToken(Gp,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Gp,"<="),this.pos++):this.current=this.newToken(Gp,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Gp,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Gp,"=="),this.pos++):this.current=this.newToken(Gp,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Gp,"!="),this.pos++):this.current=this.newToken(Gp,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},nd.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},nd.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},nd.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},od.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},od.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?wp(e,t.value):"function"==typeof e?e(t):t.value===e)},od.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},od.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=thishis.nextToken,e))&&(this.next(),!0)},od.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},od.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(Qp)||this.accept(Gp,(function(t){return t.value in e})))t.push(new zp(Sp,this.current.value));else if(this.accept(Vp))t.push(new zp(Ep,this.current.value));else if(this.accept(Xp))t.push(new zp(Ep,this.current.value));else if(this.accept(Kp,"("))this.parseExpression(t),this.expect(Kp,")");else{if(!this.accept(Zp,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Zp,"]"))t.push(new zp(Pp,0));else{var n=this.parseArrayList(t);t.push(new zp(Pp,n))}}},od.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},od.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},od.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(td)&&(!this.nextToken||this.nextToken.type===qp||this.nextToken.type===Kp&&")"===this.nextToken.value||e.push(new zp(jp)),this.nextToken.type!==qp&&this.parseExpression(e),t.push(new zp(Dp,e)),!0)},od.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Zp,"]");)for(this.parseExpression(t),++e;this.accept(Jp);)this.parseExpression(t),++e;return e},od.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Gp,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==Cp){if(e.type!==Sp&&e.type!==Ip)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new zp(Lp,e.value)),t.push(new zp(Dp,n)),t.push(Up("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=e.value+1;o<i;o++){var a=r-o;t[a].type===Sp&&(t[a]=new zp(Lp,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new zp(Dp,n)),t.push(new zp($p,e.value))}}},od.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Gp,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Gp,":"),this.parseConditionalExpression(n),t.push(new zp(Dp,e)),t.push(new zp(Dp,n)),t.push(new zp(Op,"?"))}},od.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Gp,"or");){var e=[];this.parseAndExpression(e),t.push(new zp(Dp,e)),t.push(Up("or"))}},od.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Gp,"and");){var e=[];this.parseComparison(e),t.push(new zp(Dp,e)),t.push(Up("and"))}};var id=["==","!=","<","<=",">=",">","in"];od.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Gp,id);){var e=this.current;this.parseAddSub(t),t.push(Up(e.value))}};var ad=["+","-","||"];od.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Gp,ad);){var e=this.current;this.parseTerm(t),t.push(Up(e.value))}};var sd=["*","/","%"];od.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Gp,sd);){var e=this.current;this.parseFactor(t),t.push(Up(e.value))}},od.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Gp,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Kp&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===td||this.nextToken.type===Jp||this.nextToken.type===qp||this.nextToken.type===Kp&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(Fp(n.value))}else this.parseExponential(t)},od.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Gp,"^");)this.parseFactor(t),t.push(Up("^"))},od.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Gp,"!");)t.push(Fp("!"))},od.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Gp,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(Fp(n.value))}else for(this.parseMemberExpression(t);this.accept(Kp,"(");)if(this.accept(Kp,")"))t.push(new zp(Cp,0));else{var r=this.parseArgumentList(t);t.push(new zp(Cp,r))}},od.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Kp,")");)for(this.parseExpression(t),++e;this.accept(Jp);)this.parseExpression(t),++e;return e},od.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Gp,".")||this.accept(Zp,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(Qp),t.push(new zp(Ip,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(Zp,"]"),t.push(Up("["))}}};const{add:ld,sub:cd,mul:ud,div:hd,mod:fd,equal:pd,notEqual:dd,greaterThan:gd,lessThan:bd,greaterThanEqual:md,lessThanEqual:yd,andOperator:vd,orOperator:wd,log10:xd,neg:kd,not:Md,trunc:Td,random:Ad,stringOrArrayLength:Ed,condition:_d,roundTo:Nd,arrayIndex:Od,max:Sd,min:Ld,sum:Cd,arrayMap:$d,arrayFold:Dd,arrayFilter:Rd,sign:Id,log1p:jd,log2:Pd}=Ap;function zd(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Fd(t){return t.trim()}zd.prototype.evaluate=function(t){return t=t||{},Bp(this.tokens,this,t)},zd.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const Ud=new Set(["__proto__","prototype","constructor"]);function Bd(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Pd,LN:Math.log,LOG10:Math.log10||xd,LG:Math.log10||xd,LOG1P:Math.log1p||jd,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Td,"-":kd,"+":Number,EXP:Math.exp,NOT:Md,LENGTH:Ed,"!":Md,SIGN:Math.sign||Id,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":ld,"-":cd,"*":ud,"/":hd,"%":fd,"^":Math.pow,"==":pd,"!=":dd,">":gd,"<":bd,">=":md,"<=":yd,and:vd,or:wd,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Od},this.ternaryOps={"?":_d};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let o=/\w*/g,i=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{o=new RegExp("\\p{L}*","ug"),i=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:_d,RANDOM:Ad,MIN(){const t=r.apply(this,arguments);return Ld(t)},MAX(){return Sd(r.apply(this,arguments))},SUM(){return Cd(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return Cd(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Nd,CONCAT(){return Array.from(arguments).join("")},TRIM:Fd,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(i,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Ud.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:$d,FOLD:Dd,FILTER:Rd,PLUCK(t,e){if(Ud.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let o=0;o<n;o++)if(r=r&&e(t[o]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let o=0;o<n;o++)if(r=r||e(t[o]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Bd.prototype.parse=function(t){var e=[],n=new od(this,new nd(this,t),{allowMemberAccess:!0,restrictMemberAccess:Ud});return n.parseExpression(e),n.expect(qp,"EOF"),new zd(e,this)},Bd.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Hd=new Bd;Bd.parse=function(t){return Hd.parse(t)},Bd.evaluate=function(t,e){return Hd.parse(t).evaluate(e)},Bd.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Yd={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Bd.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Yd,t)?Yd[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Wd="%UNDEFINED%",qd={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>Gd(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>Gd(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===Wd?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function Gd(t){return t===Wd?t:Nu(t,"typography.chart.".concat(e),n)}const Xd={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":oid 0===t&&(t=null),this.week(t)}})icks(o)}default:return e.ticks(o)}}yi.extend(ep),yi.extend(Zd),yi.extend(rp),yi.extend(Jd);const eg=[[10],[5,4,gth;return{ticks:i,num:i.||"").split(/(?:\n|<br>|<br\/>)/i))}}const ag={YY:"YYYY",M:"MMMM",MM:"MMMM",MMM:"MMMM",DD:"D",dd:"dddd",ddd:"dddd"};const sg=864e5,lg:{values:(e,"bars.barS(e.labels.rowLaoncat(Gd(o(i,t: ").concaoncat(Gd(-.5*(rt":h<f?"right":h>f?"left":"none"}}function jg(t){let{metadata:e,dataset:n,colorBy:r}=t;const o=n.colum;return o.each((t=>{a.push(String(i(t)))})),ql(a)}const Pg=/:([a-z]{2}(?:-[a-z]{2,3})?):/gi;dw.visualization.register("d3-bars","base",(function(t){let{target:e}=t;yi.extend(ep),yi.extend(Zd),yi.extend(rp),yi.extend(Jd);const n=new Rg(e);let r=!0;return{type:function(){return"bars"},render:function(t){const e=this,o=e.chart(),i=e.size(),a=e.dataset,s=e.theme(),l=Vl(s,"colors.palette",[]),{numeral:c}=e.lht-range"]),delete n["highlight-range"])}(o.get("type"),o.get("metadata"));const h=o.createPostEvent(),{chroma:f}=e.libraries();var p=e.colorMap();if(e.get("replace-flags.enabled")&&at(t).append("link").at({type:"text/css","data-uid":"flags-css",rel:"stylesheet",href:"//static.dwcdn.net/css/flag-icons/flag-icon.min.css"}),!0===r){const t=o.locales.dayjs;t&&yi.locale(t),r=!1}const d="rtl"===e.textDirection,g={left:d?"right":"left",right:d?"left":"right"},b=e.type();leincludes(e.type())&&t.push(e),t)),[]):[]}("groups",e.meta.axes,a.columns()).length,w=v>("date"===y?0:1),x=e.get("group-by-column",!1)&&w?e.axes().groups:null,k="range-plot"===b||"arrow-plot"===b,M="bars-split"===b?e.axes().colors:e.axes().colors||e.axes().labels,T=e.axes().colors?cp(c,e.axes(!0).colors,e.chart().getMetadata(),e.axes().colors):t=>t;let A="bars"===b?e.axes().bars:"bars-bullet"===b?[e.axes().bars,e.axes().bars2]:k?[e.axes().start,e.axes().end]:"dot-plot"===b?e.axes()["dots-multiple"]:e.axes()["bars-multiple"];if(wi(A)||(A=[A]),!e.dataset.hasColumn(A[0])||(k||"bars-bullet"===b)&&!e.dataset.hasColumn(A[1]))return e.showError(e.chart().translate("insufficient-data".concat("dot-plot"===b?"-dot-plot":k?"-range-arrow":"-bars")).replace("%chartid%",o.get("id"))),void e.renderingComplete();const E=e.get("show-value-labels",!0)&&"bars-bullet"!==b,_=e.get("value-label-visibility");var N=e.axes().labels,O=e.dataset.column(N),S=e.get("rules")&&"dot-plot"!==b&&"range-plot"!==b&&"arrow-plot"!==b,L=e.get("background")&&("bars"===b||"bars-split"===b||"bars-grouped"===b),C=e.get("thick")&&"dot-plot"!==b&&!k;const $=e.get("thick-arrows",!1)&&"arrow-plot"===b;var D="bars-stacke=t?"":c(.01*t).format(t<5?"0.[0]%":"0%")}:"bars"===b||"dot-plot"===b||k||"bars-bullet"===b?fc(e,"value-label-format",e.dataset.column(A[0])):null;const I=e.get("stack-show-absolute"),j=fc(e,"value-la,mt)}}return function(t){return t.value}}(),z=e.get("label-alignment","left"),F=k&&"direct"===z,U=e.get("block-labels",!1)&&("bars"===b||"bars-stacked"===b||"bars-grouped"===b),B=e.get("mirror-bars",!1)&&"bars-split"===b&&2===A.length,H=e.get("independent-scales")&&!B&&"bars-split"===b,Y=e.get("compact-group-labels")&&("bars-split"===b||"dot-plot"===b),W=e.get("show-group-labelge",[]).filter((function(t){return""!==t}));const G="date"===O.type()?fc(e,"date-label->ae(t,e.get("replace-flags.style","4x3")):vi;var V="bars-split"!==b&&e.get("show-color-key",!0)?e.get("color-key",{}):null;const X=e.get("color-by-column",!1),K=Vl(s,"vis.base.legend.position","top");var Z="bars-stacked"===b||"dot-plot"===b||"bars-grouped"===b,J=("bars-stacked"===b||"bars"===b||"bars-grouped"===b)&&e.get("force-grid",!1)&&!U||"dot-plot"===b||"bars-bullet"===b||k,Q=(e.get("custom-grid-lines")||"").trim(),tt="bars"===b&&e.get("swap-labels"),et="bars"===b&&!e.get("show-category-labels",!0),nt=e.get("value-label-alignment","left"),rt=e.get("tick-position",k||"dot-plot"===b?"bottom":"top");const ome((t=>"value"===t.type&&t.labelDirectly))||k&&e.get("show-".concat("range-plot"===b?"color":"arrow","-key"));ot&&(rt="bottom");const it=e.get("overlays",[]).filter((t=>!t.invisible&&"value"===t.type)).filter((t=>!tt(e,".style.strokeDasharray"),"none")}))}(s,e.id,f);const ct=Vl(s,"vis.d3-bars.axes.showBaseline",!1),ut=Vl(s,"vis.d3-bars.axes.gridlines.extendGrid",0),ht=Vl(s,"vis.d3-bars.groups.spaceBetween",25),pt=Vl(s,"vis.d3-bars.labels.groupTitles.paddingBottom",5),dt=Vl(s,"vis.d3-bars.labels.barLabels.outside",!1)&&E&&"right"===nt&&!tt&&("bars"===b||"bars-grouped"===b),gt=Vl(s,"vis.d3-bars.labels.barLabels.padding",5),bt=Vl(s,"vis.d3-bars.labels.rowLabels.padding",5),mt=b.includes("bars")&&"firstOnly"===Vl(s,"vis.d3-bars.labels.barLabels.units","all"),yt=Vl(s,"vis.d3-bars-grouped.labels.rowLabels.verticalAlignment","middle"),vt=Number(C?Vl(s,"vis.d3-bars.bars.barThickness.thick",27):Vl(s,"vis.d3-bars.bars.barThickness.default",20)),wt=Rc(s.colors.background)<60,xt=Vl(s,"vis.base.labels.invertLuminance",70);("bars-stacked"===b||"bars-groupedtomColors:r?n:{}};e.getAutoColor=Io(s,o)}();var kt=Q.length?Q.split(",").map(Number):[];if(k){var Mt=e.axes(!0);"date"===Mt.start.type()&&"date"===Mt.end.type()&&(m=!0,kt=Q.length?dw.column("end",Q.split(","),"date").values().filter(ea):[],q=dw.column("end",q,"date").values())}if("dot-plot"===b){const t=(Mt=e.axes(!0))["dots-multiple"].filter((t=>"number"===t.tys-multiple"].filter((t=>"date"===t.type())).length>t&&(m=!0,kt=Q.length?dw.column("dots-multiple",Q.split(","),"date").values():[],q=dw.column("dots-multiple",q,"date")s())}const Tt=hp(m);if(m||(q=q.map((t=>+t)).filter(Ei)),"dot-plot"===b||k||(q=q.concat(0)),e.get((),n),label:e.dataset.column(t).title()}}));else{const t=e.get("color-category",{}),n=Object.keys(e.get("color-category.categoryLabels",{})),r=e.get("color-key.br:t.map[e]||r,label:t.categoryLabels[e]}}))}const Et=at(t),_t=e.dataset.list(),Nt=x?ft().key(gi(x)).ent.forEach((t=>{")})),_t.forEach((function(t,e){t._row=e}));const Ot=e.get("sort-bars",!1),St="bars"===b?e.axes().bars:e.ge(t[n[1]]-t[n[0]])/t[n[0]]})),"__change"}}(Ltt=t=>isNaN(t.values.forEach((n){t.__origValues[n]=t[n],t[n]*=100/e}))}));let jt=Vi(A.map((function(t){return Pl(_t,t)}))).filter(Tt),Pt=!1,((t=>A.reduce(((t=>A.reduce(((e,n)=>t[n]>0?t[er((t=>0!==t)).every(((t,e,n)=>t===n[0])))));const Ft=e.get("totals-labels",!1)&&"bars-stacked"===b;let Ut=!1;Ft&&!Pt&&(Ut=e.get("totals-labels-position","before"));const Bt="diverging"===e.get("value-label-mode","left"),Ht="range-plot"===b?e.get("range-ends",{enabled:!0,shape:"circle"}):{};n.update({vis:e,theme:s}),Et.classed("bc-hr",S).classed("bc-dir-rtl",d).classed("bc-color-bg",L).classed("bc-label-block",U).classed("stack-totals-before","before"===Ut).classed("stack-totals-after","after"===Ut).classed("bc-label-align-left",z===g.left).classed("bc-label-align-right",z===g.right).classed("bc-mirror-bars",B).classed("bc-stacked-diverging",Bt).classed("bc-grid-lines",J).classed("bc-hide-dots",!Ht.enabled||"line"===Ht.shape).classed("bc-range-end-lines","line"===Ht.shape).classed("bc-range-end-none",!1===Ht.enabled).classed("bc-thick",C).classed("bc-thicker-arrows",$).classed("bc-direct-labels",F).classed("bc-grid-bottom","bottom"===rt).classed("bc-grid-top","top"===rt).classed("hidden-labels",et).classed("mixed-positive-negative",Pt).classed("all-negative",zt).classed("bc-labels-left",d?zt:!zt).classed("bc-labels-right",d?!zt:zt),Bt&&Et.classed("bc-stacked-diverging-"+A.length,!0);const Yt="ontouchstart"in window||navigatssed("unfocus",!1),h("highlight.clear"))}),Yt?0:300);var qt;"bars-bullet"===b&&(qt={inner:Ee("base-color2",1),outer:Ee("base-color",0)}),jt=jt.filter(Tt);var Gt=jt.concat(kt);("dot-plot"!==b&&!k||"custom"===e.get("range-extent","nice"))&&(Gt=Gt.conc==r.type()&&(Gt=Gt.concat(r.range()))}))}));var Vt=m?Do():vn();Vt.domain(At(Gt)).range([0,100]);const Xt=cp(c,e.axes(!0).labels,e.chart().getMetadata(),e.axes().labels);("dot-plot"===b||k)&&(Vt.range([800/i[0],100-800/i[0]]),"nice"===e.get("range-extent","nice")&&Vt.nice());const Kt={series:[],rows:[]},Zt=eXt(t[N]);Zt.includes(e)udes(t.name())&&Kt.series.push(t.name())})),Et.classed("bc-with-row-highlight",Kt.rows.length);var Jt=Et.append("div.bc-groups").selectAll("div.bc-group").data(Nt).enter().append("div.bc-group");Jt.filter(((t,e)=>e>0)).style("margin-top",ht+"px"),Et.selectAll("div.bc-groups").classed(Nt.length>1?"grouped-,t).concat(q))).range(d?[100,0]:[0,100])}))):d&&Vt.e()),Y||Jt.filter(((t,e)=>ot&&!e||!!t.key)).append("div.bc-group-title.group-title.chart-text.label").attr("data-column",x).attr("data-row",(function(t){return Pl(t.values,"_row").join(",")})).style("margin-bottom",e.get("replace-flags.style","4x3")):t.key:"");var Qt=Jt.append("div.bc-group-content").classed("overlay-);if(Qt.on("mouseleave",(()=>{Wt.clear()})),"bars-split"===b){const t=Vl(s,"vis.d3-bars-split.labels.splitLabels.useBarColor");var te=Qt.append("div.bc-split-label");Y?te.append("div.bc-row-label.label.bc-compact-group-label.row-label.chart-text(t){return Pl(t.values,"_row").join(",")})).append("span").html(gi("key")):te.append("div.bc-row-label.row-label.chart-text.label").append("span"),te.append("div.bc-bars").selectAll("div.bc-split").data(A).enter().append("div.bc-split.label").style("width",100/A.t("highlighted-series",[]).indexOf(t)>-1})).attr("data-column",(function(t){return t})).aon(t){return e.dataset.column(t).title()})).style("color",t&&!M?function(t,e){return p(ie(t,e))}:null)}var ee,ne,oe=Qt.selectAll("div.bc-row").data(gi("valach((t=>{Ut&&(t.__stackTotalVa""+Xt(t[N]);return Kt.r)>-1})).classed("firstparentElement).data()[0].uped"===b||"bars-bullet"===b||"bars"===b}));if(tt)E&&oe.append("div.bc-row-label.row-label.chart-text.label").append("span").html(gi(A[0],R));else if(!et&&(oe.append("div.bc-row-label.row-label.chart-text.label").classed("dw-bold",U&&"bars-grouped"===b).attr("data-column",N).attr("d!1);return r.includes(o)?G(t,0===e,!0):o})),"bars-grouped"===b&&"top"===yt)){const t=(vt-parseFloat(getComputedStyle(oe.select(".bc-row-label").node()).lineHeight))/2;oe.select(".bc-row-labe t?n[t%n.length]:t}(X&&s?s:l),t._color}if("bars"===b){const t=(ee=oe.append("div.bc-bars")){return t.value=t[A[0]],!isNaN(t.value)}));t.append("div.bc-bar-inner.dw-rect").style("background",gi(se,p)),ne=t.append("div.bc-bar-inner.value-labels").style("background","transparent"),Xl(t.selectAll(".bc-bar-inner"),Vt,d)}else if("bars-split"===b)ne=(ee=oe.append("div.bc-bars").selectAll("div.bc-split").data((function(t){return A.map((function(e){return{column:e,value:t[e],row:t}}))})).enter().append("div.bc-split").style("width",100/A.length+"%").append("div.bc-split-inner")).append("div.bc-bar-bg.dw-rect").filter((function(t){return!isNaN(t.value)}))00-e(Math[d?"min":"max"](0,t.value))+"%"})).style("left",((t,e)=>("right",((t,e)=>B&&!e(function(t,e){return p(M?se(t):ie(t,e))})).attr("title",P),Et.selectAll(".bc-split").style("padding-right",e.get("space-between-cols",10)+"px"),Et.selectAll(".bc-bars").style("margin-right",-1*e.get("space-between-cols",10)+"px");else ty()?Wt.clear():Wt.set(n.datum().column)}));const t=Vl(s,"vis.d3-bars-stacked.bars.borders.width");ee=oe.append(TotalValue;return D&&(e=!0),j(n,!1,!1,e)};if(ne=ee.append("div.bc-bar-bg.dw-rect").selectAll("div.bc-bar-inner").data((function(e){var n=0,r=0;return A.map((function(o,i){var a=n,s=r;n+=!Tt(e[o])||e[o]<0?0:e[o],r+=!Tt(e[o])||e[o]>0?0:e[o];const l=t&&A[i+1]&&n;return{column:o,row:e,valueOriginal:e.__origValues?e.__origValues[o]:null,value:e[o],offsetPos:a,offsetNeg:s,...!!l&&{border:g.right}}})).filter((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-inner.dw-rect").style("background",(function(t,e){return p(ie(t,e))})).classed("border-left",(t=>"left"===t.border)).classed("border-right",(t=>"right"===t.border)).attr("data-column",gi("column")),"after"===Ut){const t=ee.append("div.bc-stack-total-outer");t.append("div.label.bc-bdding",(t=>!U&&!zt&&t.__stackTotalValue<0)).append("span.export-text").html((t=>e(t,!1))),Xl(t,Vt,d,"__stackTotalValue"),Jl(oe,b,o,d,"__stackTotalValue")}if("before"===Ut){const t=oe.select(".bc-bars").append("div.label.bc-bar-total.before").classed("left",d?zt:!zt).classed("right",d?!zt:zt).lpend("span.export-text").html((t=>e(t,!0))),zt&&t.raise();const n=Math.max(...t.selectAll("span").nodes().map((t=>t.offsetWidth)));t.style("width","".concat(n,"px"))}Ql(ne,Vt,d)}elsety()?Wt.clear():Wt.set(a.datum().column)})),Xl(ne=(ee=oe.append("div.bc-bars"))er((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-bg.dw-rect").append("div.bc-bar-inner.dw-rect").style("background",(function(t,e){return p(ie(t,e))})).attr("data-column",gi("column")),Vt,d);else if("bars-bullet"===b)Xl(ne=(ee=oe.append("div.bc-bars")).append("div.bc-bar-bg.dw-rer((function(t){return!isNaN(t.value)}))})).enter().append("div.bc-bar-inner.dw-rect").classed("bc-bullet-inner",(function(t){returound",(function(t){return p(qt[t.type])})),Vt,d);else if("dot-plot"===b){(ee=pop();r(i.x)<20?Wt.set(i.col):Wt.clear()}));ne=ee.append("div.bc-barer((function(t){return null!==t.value}))})).enter().append("div.bc-bar-inner.dw-circle").style("left",ground",(function(t,e){return ghlight",(t=>ilter((function(t){return isNaN(t.value)})).style("display","none"),Et.classed("bc-with-series-highlight",Kt.series.length),A.length>1&&e.get("highlight-range")&&ee.select(".bc-bar-bg").insert("div.bcar0min=n<r,t._min=n+"%",t._max=100-r+"%"})).style("left",gi("_min")).style("right",gi("_max"))}else if("arrow-plot"===b){ne=(ee=oe.append("div.bc-bars")).append("div.bc-bar(e){return{column:e,value:t[e],row:t}}))})).enter().append("div.bc-bar-inner.dw-circle").,"-5px").style("left",(t=>Vt(t.value)+"%")).style("display","none"),ee.select(".bc-bar-bg").insert("div.bc-arrow.dw-arrow",".bc-bar-inner").each((function(t){const e=Ig({row:t,barColumns:A,timeScale:m,barScale:Vt,mode:b});Object.assign(t,e)})).style("background",gi(se,p)).classed("bc-arrow-left",(function(t){return"left"===t._direction})).classed("bc-arrow-right",(function(t){return"right"==(function(t){return"none"===t._direction})).append("div.bc-arrow-inner.dw-arrow-inner").style("border-color",gi("_color",p)),Kl(oe,b,Vt,d)}else if("range-plot"===b){var le=(ee=oe.append("div.bc-bars")).append("div.bc-bar-bg");const t="circle"===e.get("range-ends",{}).shape,n=Vl(s,"vis.d3-range-plot.rangeEnds.circles.outline",{}),r=n.width&&!n.color;ne=le.selectAll("div.bc-.map((e=>({row:t,column:e,value:t[e]})))})).enter().append("div.bc-bar-inner.dw-"+(t?"circle":"rect")).style("border-color",r?_e:null).style("background",r,barScale:Vt,mode:b});Object.assign(t,e)})),ee.select(".bc-bar-bg").insert("div.bner").filter((t=>Tt(t[p(i(t))+" "+100*t+"%"})).join(", ")+")"}})).append("div").style("border-color",gi("_color",p)),Kl(oe,b,Vt,d)}ne&&(ne.on("mouseenter",(t=>{h("bar.mouseenter",t)})),ne.on("mouseleave",(t=)})),ne.on("click",(t=>{h("bar.click",t)})));var ce=e.get("range-value-labels","start");"arrow-plot"!==b&&"range-plot"!==b||!E||("start"!==ce&&"both"!==ce||ee.append("div.bc-range-label").classed("bc-lbl-highlight",Kt.series.includes(A[0])).classed("bc-lbl-left",(function(t){return"right"===t._direction||"end"===t._direction||"none"===t._direction})).classed("bc-lbl-right",(function(t){return"left"===t._direction||"start"===t._direction})).append("span.label.bc-range-value.value").append("span.inner").style("color","arrow-plot"===b?t=>Gl(s,p(se(t))):Gl(s,p(Ee("base-color",0)))).html((t=>R(t[A[0]]))),"start"!==ce&&ee.append("div.bc-range-label").classed("bc-lbl-highlight",!["diff","change"].includes(ce)&&Kt.seri"===t._direction||"start"=d"===t._direction||"none"===t._direction})).append("span.label.bc-range-value.value").append("spcolor","arrow-plot"===b?t=>Gl(s,p(se(t))):Gl(s,urn e=t._diff,<.01?".[0]":"")+"%");var e}:t=>R(t[A[1]])),Zl(oe)),!E||tt||k?!tt||et||k||ne.append("div.bc-bar-label.chart-text.value.label").attr("data-column",N).attr("data-row",gi("_row")).append("span").html(gi(N,G)):ne.append("div.bc-bar-label.chart-tesed("force-padding",(t=>!U&&dt&&t.value<0)).append("span").lbconcat(e),r,o)}),0);t=Math.max(e,t)})),t}()>i[0]-50?(F=!1,Et.selectAll(".bc-direct-lbl").remove()):Et.selectAll(".bc-row-label").remove(),Et.classed("bc-direct-labels",F));var ue=0;F||U||Qt.selectAll(".bc-row-label sh.max(ue,o.getElementBounds(this).width)})),ue>0&&(ue+=2*bt);var he=100*ue/i[0]+"%",fe=100*(i[0]-ue+("bars-split"===b?+e.get("space-between-cols",10)-4:0))/i[0]+"%";let pe;Qt.selectAll(".bc-row-label").style("width",he),Qt.selectAll(".bc-bars").style("width",fe),"right"===z&&"bars-bullet"!==b&&"dot-plot"!==b&&Jt.selectAll("div.bc-group-title.label").style("padding-left",he),F||"ounds(t).height,t.innerText=""),pe+"px")})),"dot-plot"===b&this.parentNode).style("left",-e-5+"px")})),"bars"===b&&rc({$bars:ee,rangeOverlays:st,valueOverlays:it,barScale:Vt,barThickness:vt,vis:e,rtl:d("outline",n).classed("inverted",n||wt)}}));var de=Math.min.apply(Math,Gt)<0;if("bars-grouped"!==b&&"bars-stacked"!==b||"hover"!==_||!E||ne.selectAll("div.bc-bar-label").classed("hidden",!0),(dt||"after"===Ut||k)&&(ic({$chart:Et,mode:b,barSpace:i[0]-ue,barScale:Vt,directLabels:F,chart:o,rtl:d}),dt||"after"===Ut)){Jl(oe,b,o,d,"bars-stacked"===b?"__stackTotalValue":"value")}if(J||(ct||de)&&"bars-split"!==b&&!U){let t={};Et.selectAll("div.bc-groups").classed("grid",b.includes("bars")&&"bars-split"!==b);const n="before"===Ut?Qt.select(".bc-bar-total.before").node().offsetetElementBounds(this).height+"px",t._y=0})).insert("div.bc-grid.above",".bc-row").parent().inserc-bars").nodes().map((t=>t.offse,J){const e=t[rt]-2;Jt.filter(((t,e)=>e>0)).style("margin-top",ht+e+"px"),Et.selectAll("div.bc-groups").style("padding-".concat(rt),e+"px").selectAll(".bc-group-title").style(rt,"top"===rt?-e+"px":null)}}if(ot){var ge;gtype()),x:Vt(r),column:n,color:ec(t,e.t0][t],x:Vt(Nt[0].values[0][t]),column:t}})).sort(bi("x"));const t="bars"===b?Number(fe.replace("%",""))/100*i[0]:i[0];var be=2===ge.length?Math.a.column)&&(e.class+=" bc-lbl-highlight")}));var me=Et.select(".bc-group .bc-group-content"),ye=0,ve=me.append("div.bc-direct-key").style("width",fe).style(g.left,he),we=ve.selectAll("div.bc-direct-key-col").data(ge).enter().append("div.bc-direct-key-col.label").style("left",gi("left")).style("right",gi("right")).style("width",gi("width")).style("text-align",gi("align")).attr("class",gi("class")).attr("data-column",gi("column")).attr("data-row",-1),xe=we.append("span").html(gi("label"));"range-plot"===b&&(E||e.get(bled"))&&xe.style("color",(t=>Glc(e);return wt&&n<30||!wt&&n>70?void 0:e})),"bars"!==b&&we.append("i.bc-vline.connectx(ye,10+o.getElementBounds(this).height)})),Et.select(".bc-group-title:first-child").style("margin-bottom",ye+"px"),ve.style("top",("bars"===b?8:5)-ye+"px"),we.style("bottom",-(ye-10)+"px"),me.style("margin-top",x?"0px":ye+"px"),we.select("span").s;const r=i[0]-10-t-e;return r<0?r+"px":0}))}"bottom"===(function(){this.parentNode.append(this)},color:p(o)}]}case"range-plot":return[]}}();let Ae;if(Me&&Te.length){const t=Et.append("div.legend-container"),n=Vl(s,"vis.base.legend.position","top"),r=Vl(s,"vis.base.legend.swatch",{}),i=r.borderRadius||0,a=["dot-plot","range-plot"].includes(b)||"50%"===i;if(r.size||dc(s,"vis.base.legend.swatch.size",14),a){const t=r.size||r.height||14;dc(s,"vis.base.legend.swatch.width",t),dc(s,"vis.base.legend.swatch.height",t),dc(s,"vis.base.legend.swatch.borderRadius","50%")}Ae=hi.categoryLegendWrapper(t.node(),{swatches:Te,theme:s,horizontal:!0,rtl:d,emotion:o.emotion,chroma:e.libraries().chroma,purifyHtml:dw.utils.purifyHtml}),"top"===n&&t.lower(),"bars-stacked"!==b&&"bars-grouped"!nter",(t=>{let{key:e}=t;return Wt.set(e)})),Ae.on("mouseleave",Wt.clear))}if(u.fitchart){Et.select("div.fitchart-spacer").remove();const t=o.getElementBounds(Et.node()).height,e=o.getMaxChartHeight()-t;e>0&&Et.append("divncat(t.color,"---").conch"),h:+t.attr("height"),lpad:10,rpad:10}},_svgCanadata:t.chart().getMetadata()});return e},keys:function(){var t=this,e=t.axes(!0);if(this.__keyLabelMap||(this.__keyLabelMap={}),e.labels){const{numeral:r}=t.libraries(),o=cp(r,e.labels,this.chart().getMetadata(),this.axesurifyHtml(e.labels.raw(i)||cludes("ba[t]||t},getCenter:function(){return[1,2]}}}),...dw.visualization.hasVisHash?["fb08df1a"]:[]),dw.visualization.register("d3-bars-split","d3-bars",(()=>({type:function(){return"bars-split"},colorKeys:function(){const t=this;return function(t){let{axes:e,metadata:n,dataset:r}=t;return e.colors?jg({metadata:n,dataset:r,colorBy:e.colors}):e["bars-multiple"]}({axes:t.axes(),dataset:t.dataset,metadata:t.chart().getMetadata()})}})),...dw.visualization.hasVisHash?["fb08df1a"]:[])}();

