"use strict";(self.webpackChunkkoa2_react_redux_dom=self.webpackChunkkoa2_react_redux_dom||[]).push([[8495],{8495:(e,t,a)=>{a.r(t),a.d(t,{default:);var n=a(67294),l=a(71893),r=a(11700),s=a.n(r),u=a(28357),d=a(65858),o=a(76627),c=a.n(o),i=a(73255),m=a(6328),p=a(62759),I=a.n(p),E=a(71804),f=a(60939),v=a(60638),h=a(12359),b=a(97516),w=a(5199),x=a(51906),_=a(31111),N=a(87320),g=a(26527),C=a(10407),y=a(54839),k=a(83397),S=a(73346);const T=l.default.div.withConfig({displayName:"VisitRequestModalComponent__VisitDescriptionWrap",componentId:"sc-1mp2f0m-0"})(["padding:15px 15px;background-color:",";border-radius:8px;font-size:16px;display:flex;flex-direction:column;gap:15px;white-space:break-spaces;div{display:flex;flex-direction:column;gap:1px;}"],w.Rf),P=e=>{let{userName:t,userPhone:a,translate:l,newbuildId:r,isOpen:d,onClose:o,newbuildName:p,langId:v,street:h,areaName:b,userId:w,cityId:P,stateId:V,requestConversionValue:O,callPrice:$,price:R,developerId:q,actionBlock:D}=e;const Z=(0,u.i_)(I()[v]),[A,U]=(0,n.useState)(t),[z,B]=(0,n.useState)(a),[Q,G]=(0,n.useState)(""),[M,H]=(0,n.useState)(""),[K,W]=(0,n.useState)(!1),[j,J]=(0,n.useState)(k.AT);(0,n.useEffect)((()=>{(0,x.K)({eventId:m.REVIEW_MODAL_OPEN,request_type:i.VISIT_REQUEST,newbuildId:r,developerId:q,ownerId:q,userId:w,conversionValue:O,action_block:D})}),[]);(0,n.useEffect)((()=>U(t)),[t]),(0,n.useEffect)((,[a]),(0,n.useEffect)((()=>{if(j===k.Ow&&(0,k.JR)(z).length>=10)return void W(!0);const e=(0,N.Z)(z);W(12===e.length)}));const L=()=>n.createElement(T,null,n.createElement("div",null,n.createElement("span",null,l("Адрес отдела продаж:","Адреса відділу продажу:")),n.createElement("span",{className:"bold size18"},`${b?`${b} район, `:""}${h}`)),M?n.createElement("div",null,n.createElement("span",null,l("Дата визита:","Дата візиту:")),n.createElement("span",{className:"bold size18"},`${s()(Z(M).format("dddd"))}, ${Z(M).format("D")}`)):null);return n.createElement(E.Z,{translate:l,newbuildId:r,submitText:l("Запись на визит","Записатись на візит"),headerText:l("Запись на визит","Записатись на візит"),isOpen:d,onClose:o,onSubmit:()=>{(0,g.NP)({userName:A,userPhone:z,comment:Q,newbuildId:r,dateOfView:M}),(0,_.CV)({newbuildId:r,stateId:V,callPrice:$,cityId:P,price:R,requestConversionValue:O}),(0,x.K)({ownerId:w,eventId:m.REQUEST_CREATING,request_type:i.VISIT_REQUEST,conversion_value:O,cityId:P,stateId:V,newbuildId:r,count:1,action_block:D})},hasError:!K,orderType:"consultation",OnSuccessComponent:n.createElement(L,null),submitHeaderText:`${l("Спасибо, взяли в работу","Дякуємо, взяли в роботу")} 👍`,submitInfoText:`${l("В ближайшее время менеджер отдела продаж свяжется с вами для подтверждения визита","Найближчим часом менеджер з відділу продажу зв'яжеться з вами для підтвердження візиту")}`},n.createElement(f.Z,{translate:l,developerId:q,setSelectedDay:H,selectedDay:M}),n.createElement("input",{"data-tm":"userName",type:"text",value:A,name:"userName",onChange:e=>U(e.target.value),placeholder:l("Имя","Ім'я")}),n.createElement(C.i,null,n.createElement(y.Z,{changeCountryHandler:e=>{J(e.target.checked?k.Ow:k.AT),B(""),W(!1)}}),n.createElement(c(),{mask:(0,k.BR:e=>B(e.target.value),formatChars:{1:"[1-9]",9:"[0-9]"}},(()=>n.createElement("input",{"data-tm":"userPhone",type:"text",value:z,name:"userPhone",className:K?"":"inputError",placeholder:(0,k.G)(j)})))),n.createElement(S.Z,null),n.createElement("textarea",{value:Q,cols:"30",rows:"3",onChange:e=>G(e.target.value),placeholder:l(`Укажите какая информация вас интересует по ${p}`,`Вкажіть яка інформація вас цікавить по ${p}`)}))};P.defaultProps={requestConversionValue:0,callPrice:0,userId:0,areaName:"",street:"",userName:"",userPhone:"",actionBlock:0,langId:0};const V=(0,d.$j)(((e,t)=>{let{newbuildId:a}=t;const n=(0,v.x5)(e,a);return{langId:(0,b.Ql)(e),developerId:n,newbuildId:a,userName:(0,h.zr)(e),userPhone:(0,h.Uh)(e),newbuildName:(0,v.UMi)(e,a),areaName:(0,v.a63)(e,a),street:(0,v.GOZ)(e,a),userId:(0,h.c7)(e),cityId:(0,v._2X)(e,a),stateId:(0,v.TyN)(e,a),requestConversionValue:(0,v.e3D)(e,a),callPrice:(0,v.fBp)(e,a),price:(0,v.AOe)(e,a)}}))(P)}}]);