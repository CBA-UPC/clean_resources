"use strict";(self.webpackChunkjsxui=self.webpackChunkjsxui||[]).push([[633],{88564:function(n,e,i){i.d(e,{Z:function(){return p}});i(4665);var r=i(65148),t="PopStatusPrompt_pop_bg__HGkRd",o="PopStatusPrompt_pop_mode_box__nSRlx",u="PopStatusPrompt_active__GMZrj",c="PopStatusPrompt_prompt_tips_icon__5-2Au",a="PopStatusPrompt_title_box__TKREt",d="PopStatusPrompt_text_box__FSQZJ",l="PopStatusPrompt_sub_text__1LlC0",s="PopStatusPrompt_text_left__Ku5jM",f="PopStatusPrompt_btn_wrap__vXFhp",v=i(28610);function p(n){var e=n.show,i=void 0!==e&&e,p=n.showTipsIcon,_=void 0!==p&&p,m=n.title,h=void 0===m?"":m,g=n.desc,y=void 0===g?"":g,w=n.iconStyle,E=void 0===w?{}:w,A=n.children,R=n.confirmButtonText,S=void 0===R?"OK":R,I=n.cancelButtonText,C=void 0===I?"":I,b=n.cancelButtonType,x=void 0===b?"warning":b,N=n.isSpaceBetween,P=void 0!==N&&N,k=n.confirmFunc,T=void 0===k?function(){}:k,Z=n.cancelFunc,D=void 0===Z?Z;return(0,v.jsxs)(v.Fragment,{children:[i&&(0,v.jsx)("div",{className:t}),(0,v.jsxs)("div",{className:"".concat(o," ").concat(i?u:null),children:[_&&(0,v.jsx)("div",{className:c,children:(0,v.jsx)("i",{className:"i-midas:info icon",style:E})}),h&&(0,v.jsx)("div",{className:a,children:(0,v.jsx)("p",{children:h})}),A||y&&(0,v.jsx)("div",{className:d,children:(0,v.jsx)("p",{dangerouslySetInnerHTML:{__html:y},className:"".concat(l," ").concat(s)})}),(0,v.jsxs)("div",{className:f,children:[S&&(0,v.jsx)(r.Z,{onClick:T,okBtnText:S,size:P?"small":void 0}),C&&(0,v.jsx)(r.Z,{type:x,onClick:D,okBtnText:C,size:P?"small":void 0})]})]})]})}},39204:function(n,e,i){i.d(e,{Z:function(){return f}});var r="PopTitle_2_s_pop__SAh7T",t="PopTitle_2_m_pop__o4rT-",o="PopTitle_2_l_pop__ZSIND",u="PopTitle_2_pop_title__CzNzt",c="PopTitle_2_no_border__PDiPd",a="PopTitle_2_back_btn__IO8Q0",d="PopTitle_2_close_btn__+3O9n",l="PopTitle_2_channel_pop__FUeGx",s=i(28610);function f(n){var e=n.backShow,i=void 0!==e&&e,f=n.closeShow,v=void 0===f||f,p=n.titleShow,_=void 0===p||p,m=n.noBorder,h=void 0!==m&&m,g=n.isSpaceBetween,y=void 0!==g&&g,w=n.isSpaceAround,E=void 0!==w&&w,A=n.isSpaceEvenly,R=void 0!==A&&A,S=n.fromChannelPop,I=void 0!==S&&S,C=n.text,b=n.onClose,x=n.onBack;return(0,s.jsxs)("div",{className:"".concat(u,"\n            ").concat(h?c:""," \n            ").concat(I?l:""," \n            ").concat(R?r:""," \n            ").concat(E?t:"","\n            ").concat(y?o:""),children:[i&&(0,s.jsx)("div",{className:a,children:(0,s.jsx)("i",{onClick:function(){return null===x||void 0===x?void 0:x()},className:"i-midas:left icon"})}),_&&(0,s.jsx)("p",{children:C}),v&&(0,s.jsx)("div",{className:d,children:(0,s.jsx)("i",{onClick:className:"i-midas:close icon"})})]})}},47920:function(n,e,i){i.d(e,{Z:function(){return c}});var r=i(70885),t=i(53779),o=i(42627),u=i(28610);function c(n){var e=(0,o.KO)(t.Rj),i=(0,r.Z)(e,1)[0];return!1===(null===i||void 0===i?void 0:i.modify)?null:(0,u.jsx)("i",{"data-iformat":n.dataFormat||"",onClick:null===n||void 0===n?void 0:n.onClick,className:"i-midas:switch icon".concat(" ",n.className?n.className:"")})}},79195:function(n,e,i){i.d(e,{Z:function(){return g}});var r=i(74165),t=i(15861),o=i(70885),u=i(53779),c=i(72390),a=i(17195),d=i(46739),l=i(7055),s=i(42627),f=i(4665),v=i(60175),p=i(10378),_=window.SERVER_DATA.payInfo,m=(_||{}).country,h=void 0===m?"ot":m;function g(){var n=(0,s.KO)(u.Rj),e=(0,o.Z)(n,1)[0],i=(0,f.useState)(!1),m=(0,o.Z)(i,2),h=(m[0],m[1]),g=(0,s.KO)(c.I0),y=(0,o.Z)(g,2),w=y[0],E=y[1],A=window.SERVER_DATA.user,R=(0,p.Z)().login,S=!!A,I=function(n){null===n||void 0===n||n.on("hide",().on("jumpFeedback",().on("submitSuccess",()},C=function(){var n=(0,t.Z)((0,r.Z)().mark((function n(i,t){var o,u,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S){n.next=3;break}return sessionStorage.setItem("login_feedback_pop","ErrorPop-upFeedback".concat(w?"|".concat(w):"")),n.abrupt("return",R());case 3:if(window.midasbuyCommonSdk){n.next=6;break}return n.next=6,(0,l.a)();case 6:o=window.midasbuyCommonSdk.feedback,u=_.country,null===o||void 0===o||o.preload({country:u}),I(o),c={offer_id:_.appid},e.openid&&Object.assign(c,{player_info:"".concat(e.userid,"(").concat((0,d.Z)(e.charac_name),")")}),(w||t)&&Object.assign(c,w||t),null===o||void 0===o||o.emit("show",{appendFormData:c,from:i||"footerFeedback",url:location.href,pageIformat:(0,v.z)(location.pathname)}),E("");case 16:case"end":return n.stop()}}),n)})));return ();return{showFeedbackPop:C}}(0,l.a)().then((function(n){var e=n.feedback;null===e||void 0===e||e.preload({country:h})}))},52720:function(n,e,i){i.d(e,{Z:function(){return s}});var r=i(70885),t=i(10378),o=i(24310),u=i(85444),c=i(90470),a=i(53779),d=i(48293),l=i(42627);function s(){var n=window.SERVER_DATA,e=n.payInfo,i=n.forceLoginData,s=n.shopInfo,f=(0,l.KO)(a.Rj),v=(0,r.Z)(f,1)[0],p=(0,l.KO)(a.Qu),_=(0,r.Z)(p,2)[1],m=(0,u.mx)(),h=function(n,r){var t,o=function(n){var r,t=null===i||void 0===i?void 0:i[e.appid];return"*"===t?(null===n||void 0===n||null===(r=n.allowChannels)||void 0===r?void 0:r.map((function(n){return n.cid})))||[]:t||[]}(n);return Array.isArray(o)&&o.includes(r)&&!(0,u.xZ)()&&!(null!==(t=(0,u.mx)())&&void 0!==t&&t.bindUserFromUrl)},g="*"===(null===i||void 0===i?void 0:i[null===e||void 0===e?void 0:e.appid]),y=!(null!==m&&void 0!==m&&m.openid)&&!(null!==v&&void 0!==v&&v.openid),w={ALLOW:"allow",NEED_USER:"need_user",NEED_PLAYER:"need_player"},E=function(n){if(!g)return w.ALLOW;var e=n||{},i=e.showLogin,r=void 0===i||i,o=e.showPlayerId,c=void 0===o||o,a=e.loginFunc,l=e.loginOptions,s=void 0===l?{}:l;return u.Cg?(r&&(a?a():function(n){var e=(0,t.Z)().login;(0,d.Z)("force_login_selected",null,!1),(0,d.Z)("force_login_user",{logged:!0},!1),e(n)}(s)),w.NEED_USER):y?(c&&_(!0),w.NEED_PLAYER):w.ALLOW};return{payLoginCheck:function(n,e){return h(n,null===e||void 0===e?void 0:e.cid)&&u.Cg},forceLoginCheck:E,forceLoginInterceptor:function(n){var e,i=n||{},r=i.successCb,t=i.failCb,u=i.options;if(null===s||void 0===s||null===(e=s.config)||void 0===e||!e.useThirdPartLogin||(0,c.Jc)()){var a=E(u);a===w.ALLOW?null===r||void 0===r||r():null===t||void 0===t||t(a)}else(0,o.Me)()},isAllChannelsForceLogin:g,isNotFilledPlayerId:y,FORCE_LOGIN_STATUS:w,isChannelForcedLogin:h}}},7893:function(n,e,i){i.d(e,{Z:function(){return t}});var r=i(64450);function t(n){var e=[],i=[];return n.forEach((function(n){try{var r=o(n);r&&(e.push(n),"object"===typeof r&&(n.gray=1,i=i.concat(r.exclusive)))}catch(t){e.push(n)}})),i.length&&(e=e.filter(()),e}var o=function(n){var e=r.Z.get("midasbuyDeviceId")||null,i=window.SERVER_DATA,t=i.channelFilterConfig,o=i.shopInfo,c=i.gameConfig,a=i.payInfo;if("1"===r.Z.get("ignore_channel_filter"))return!0;if(!e)return!0;var d=t[n.cid];if(!d)return!0;var l="";if(Object.keys(d).forEach((function(n){var e,i=new RegExp(n),r=(null===o||void 0===o?void 0:o.shopcode)||"midasbuy",t=(null===a||void 0===a||null===(e=a.country)||void 0===e?void 0:e.toLowerCase())||"xx",u=null===c||void 0===c?void 0:c.gameShortUrl,d="".concat(r,"-").concat(t,"-").concat(u);i.test(d)&&(l=n)})),""===l)return!0;var s=u(d[l]);return!(s.value<=0)&&(!(+e.slice(-3)>s.value)&&s)},u=function(n){return"object"===typeof n?{value:1e3*Number(n.value),exclusive:n.mutually_exclusive_with||[]}:{value:1e3*Number(n),exclusive:[]}}},79093:function(n,e,i){i.d(e,{ZP:function(){return _},gQ:function(){return v},hw:function(){return m},l6:function(){return y}});var r=i(70885),t=i(1413),o=i(42982),u=i(66333),c=i(50317),a=i(63130),d=i(44127),l=i(7893),s=i(5587),f=i(79281);function v(){switch((0,a.nr)()){case u.Z.coin:var n,e;return p(null===(n=window.SERVER_DATA)||void 0===n||null===(e=n.gameInfo)||void 0===e?void 0:e.productid_list);case u.Z.prop:var i,r;return window.SERVER_DATA.productInfo?function(n){var e=window.SERVER_DATA.channel_info,i=n.channel,r=Array.isArray(i)?i.filter((function(n){return e.hasOwnProperty(n.id)})):[];return(null===r||void 0===r?void 0:r.map((function(n){return n.id})))||[]}((0,d.SC)()):p(null===(i=window.SERVER_DATA)||void 0===i||null===(r=i.bgInfo)||void 0===r?void 0:r.productid_list);default:return[]}}function p(n){var e=window.SERVER_DATA.channel_info,i=Array.isArray(n)?n.filter((function(n){var i=n.productid_info,r=n.id,t=Array.isArray(i)&&i.length>0,o=e.hasOwnProperty(r);return t&&o})):[];return(null===i||void 0===i?void 0:i.map((function(n){return n.id})))||[]}function _(){return window.SERVER_DATA.isShelfRule?h():v().map((function(n){return(0,s.Z)(n)}))}var m=function(){var n=_(),e=(0,l.Z)(n),i=y(e),t=(0,f.Z)(i),o=(0,r.Z)(t,1),u=o[0];return u},h=function(){var n,e=window.SERVER_DATA.channel_info,i=[],r=(0,a.nr)(),l=[];switch(r){case u.Z.coin:(0,c.Z)().forEach((function(n){n.allowChannels&&i.push.apply(i,(0,o.Z)(n.allowChannels))})),l=g(i).map((function(n){return n.cid}));break;case u.Z.prop:if(window.SERVER_DATA.shelfProductInfo){var s;n=null===(s=window.SERVER_DATA)||void 0===s?void 0:s.shelfProductInfo,l=n.available_channel_ids;break}(0,d.ZP)().forEach((),l=g(i).map((function(n){return n.cid}));break;default:l=[]}return Object.keys(e).filter(().map((function(n){return(0,t.Z)((0,t.Z)({},e[n]),{},{cid:n})||{cid:n}}))},g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];return n.forEach((),e},y=function(n){var e=E();return n.filter((function(n){return"APPLE_PAY_EWALLET"!==n.cid||"APPLE_PAY_EWALLET"===n.cid&&e}))},w=null,E=function(){if("boolean"===typeof w)return w;if(location.href.startsWith("http://"))return!1;if(window.frames.length!==parent.frames.length)return!1;try{var n,e,i,t=Date.now(),o=null===(n=window)||void 0===n||null===(e=n.ApplePaySession)||void 0===e||null===(i=e.canMakePayments)||void 0===i?void 0:i.call(e);if(w=!!o){var u,c,a=Date.now(),d=navigator.userAgent,l=d,s=d.match(/Version\/(\d+\.\d+)/)||[],f=(0,r.Z)(s,2)[1];f&&(l=f),null===(u=window)||void 0===u||null===(c=u.report)||void 0===c||c.sendIFormat("safari.applepay_performance",{timeUsed:a-t,version:l})}return!!o}catch(v){return!1}}},79281:function(n,e,i){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],i=[];return n.forEach((function(n){var r=n.restoration;if("object"===typeof r&&null!==r){var t=new Date,o=r.startTime,u=r.endTime;o&&u&&new Date(o)<t&&t<new Date(u)?(n.isDisable=!0,n.isMaintaining=!0,e.push(n)):i.push(n)}else i.push(n)})),[i,e]}i.d(e,{Z:function(){return r}})},76690:function(n,e,i){i.d(e,{E:function(){return d},Z:function(){return a}});var r=i(42982),t=i(46561),o=i(7354),u=i(5587),c=i(37422);function a(){var n=l(),e=s(n),i={},r=window.SERVER_DATA,o=r.shelf,u=r.gameConfig,a=r.payInfo,d=new t.MarketingRuleHelper({shelf:o,gameConfig:u,currencyConfig:null===a||void 0===a?void 0:a.currency_config});return e.forEach((function(e){i[e]=n.filter((function(n){var i;return!(null===n||void 0===n||null===(i=n.collapsed_prices)||void 0===i||!i.find(())})).map(()})),i}function d(){return s(l()).map((function(n){return(0,u.Z)(n)}))}function l(){return window.SERVER_DATA.shelf.products.filter(()}function s(n){var e=[];return n.forEach((function(n){var i;null===(i=n.collapsed_prices)||void 0===i||i.forEach((function(n){return(null===n||void 0===n?void 0:n.payment_channel_id)&&e.push(n.payment_channel_id)}))})),(0,r.Z)(new Set(e))}},56450:function(n,e,i){i.d(e,{Z:function(){return c},i:function(){return a}});var r=i(42982),t=i(7354),o=i(5587),u=i(79093);function c(n){var e=n.filter((function(n){return n.isCollapsed})),i=d(e),r={};return i.forEach((function(n){r[n]=e.filter(()})),r}function a(n){return d(n.filter((function(n){return n.isCollapsed}))).map(()}function d(n){var e=[];n.forEach((function(n){var i,r,t=null===(i=n.allowChannels)||void 0===i||null===(r=i.filter((function(n){return n.isPoint})))||void 0===r?void 0:r.map(();e=Array.isArray(t)?e.concat(t):e}));var i=(0,r.Z)(new Set(e)),o=(0,u.hw)().map((function(n){return n.cid}));return(0,t.intersection)(i,o)}},94990:function(n,e,i){var r,t,o,u;i.d(e,{U6:function(){return a},UI:function(){return c},lu:function(){return d}});var c=a=function(n){if((window.SERVER_DATA||{}).enableOrderInvalidTags){var e="INVALID_";try{if(n.billing_address){var i=window.SERVER_DATA||{},r=i.taxServiceAllowCountries,t=i.country;if(Array.isArray(r)&&!r.includes(t))return void(n.invalid_order_tag="".concat(e,"ADDRESS:1"));try{var o=JSON.parse(n.billing_address);if(Object.keys(o).some((function(n){return!o[n]||o[n]!==o[n].toUpperCase()})))return void(n.invalid_order_tag="".concat(e,"ADDRESS:2"))}catch(c){}}var u;if(n.country&&n.productid)if(null===(u=n.productid)||void 0===u||!u.includes(n.country.toLocaleLowerCase()))return void(n.invalid_order_tag="".concat(e,"PRODUCT:1"));if(n.is_part_activity_fail)return void(n.invalid_order_tag="".concat(e,"PROMOTIONS:1"))}catch(a){}}},d=(null===(r=window)||void 0===r||null===(t=r.SERVER_DATA)||void 0===t||null===(o=t.jsxUiInteractionConfig)||void 0===o||null===(u=o.PopCheckScId)||void 0===u?void 0:u.sc_binding_error_code)||4},96715:function(n,e,i){i.d(e,{LG:function(){return s},Ss:function(){return r},je:function(){return _},l5:function(){return p},pF:function(){return f},sW:function(){return v},w9:function(){return l},y$:function(){return t}});var r,t,o=i(76756),u=i(7354),c=i(60627),a=i(47402),d=i(49567);function l(n){var e=window.SERVER_DATA.recommendProductidList;if(function(n){var e=window.SERVER_DATA.recommendProductidList,i=(void 0===e?[]:e).map((function(n){return n.productid})),r=n.allowChannels;return Array.isArray(r)&&!(null===r||void 0===r||!r.find((function(n){return null===i||void 0===i?void 0:i.includes(null===n||void 0===n?void 0:n.pid)})))}(n))return null===e||void 0===e?void 0:e.find((function(e){var i;return null===n||void 0===n||null===(i=n.allowChannels)||void 0===i?void 0:i.some(()}))}function s(n){return(0,c.Z)(o.a.recommend_product)?n.filter((function(n){return n.isRecommend})):[]}function f(n,e){return v((0,c.Z)(o.a.recommend_product)?n.filter((function(n){return!n.isRecommend})):n,e)}function v(n,e){if(!e)return n;var i=e.channel,o=e.promotionRule,c=e.rangeType,l=e.min,s=e.max,f=e.productProperty;return n.filter((function(n){var e,v=(0,u.intersection)(i,(null===n||void 0===n||null===(e=n.allowChannels)||void 0===e?void 0:e.map((function(n){return n.cid})))||[]),p=Array.isArray(v)&&v.length>0||0===(null===i||void 0===i?void 0:i.length),_=!1;if(c===r.uc){var m,h=Number(null===n||void 0===n?void 0:n.num)||Number((0,a.Ye)(n.price))||0;_=l<=h&&h<=s,n.isCollapsedEntry&&(_=null===(m=n.collapsedCoinNum)||void 0===m?void 0:m.some((function(n){return l<=Number(n)&&Number(n)<=s})))}else if(c===r.price){var g,y=Number((0,a.Ye)(n.price))||0;_=l<=y&&y<=s,n.isCollapsedEntry&&(_=null===(g=n.collapsedPrice)||void 0===g?void 0:g.some((function(n){return l<=Number(n)&&Number(n)<=s})))}var w=!1;Array.isArray(o)&&o.length>0?o.forEach((function(e){e===t.reward?w=(0,d.w8)(n)||!!Number(n.basicSend):t.vip})):0===(null===o||void 0===o?void 0:o.length)&&(w=!0);var E=0===(null===f||void 0===f?void 0:f.length)||(null===f||void 0===f?void 0:f.some((function(e){var i,r;return null===n||void 0===n||null===(i=n.dynamicProperties)||void 0===i||null===(r=i.hero_category)||void 0===r?void 0:r.includes(e)})));return p&&_&&w&&E}))}function p(n){var e=function(n){var e=window.SERVER_DATA,i=e.isShelfRule,r=e.recommendProductidList,t=void 0===r?[]:r,o=i?[]:function(){var n=window.SERVER_DATA,e=n.payInfo,i=n.jsxUiInteractionConfig,r=void 0===i?{}:i,t=n.country,o=r.RechargeClassCard,u=void 0===o?{}:o,c=u.standardRechargeGear,a=u.standardRechargeGearInCountry,d=null===c||void 0===c?void 0:c[null===e||void 0===e?void 0:e.appid];return(null===a||void 0===a?void 0:a[t])||d}(),c=n;if(Array.isArray(o)&&o.length){var a,d=(0,u.groupBy)(n,(function(n){return o.includes(n.num)})),l=d.true,s=void 0===l?[]:l,f=d.false,v=void 0===f?[]:f;c=null===(a=(0,u.sortBy)(s,[function(n){return o.indexOf(n.num)}]))||void 0===a?void 0:a.concat(v)}var p=c;if((null===t||void 0===t?void 0:t.length)>0){var _,m,h=null===(_=(0,u.sortBy)(null===(m=c)||void 0===m?void 0:m.filter((function(n){return n.isRecommend})),(function(n){return!n.isCollapsedEntry})))||void 0===_?void 0:_.map((function(n){return n.productid}));p=(0,u.sortBy)(c,(function(n){var e=null===h||void 0===h?void 0:h.indexOf(n.productid);return e>=0?e:null===h||void 0===h?void 0:h.length}))}return p}(n);return f(e,undefined)}function _(n,e){return!(e&&Array.isArray(e)&&n.origin_product_id)||e.includes(n.origin_product_id)}!function(n){n.uc="uc",n.price="price"}(r||(r={})),t||(t={}))},50317:function(n,e,i){i.d(e,{Z:function(){return A},j:function(){return R}});var r=i(5587),t=i(47402),o=i(49567);function u(n){var e,i,r,t=null!==(e=n.sendInfos)&&void 0!==e&&e.length?n.sendInfos[0]:null,o="";t&&(o=(null===(i=t.basicInfo)||void 0===i?void 0:i.send_ext)||(null===(r=t.uptopresents)||void 0===r?void 0:r.send_ext)||"");return o}var c=function(n,e){for(var i=0;i<n.length;i++){if(!1===e(i,n[i]))break}},a=d={findNum:function(n,e){for(var i=null,r=0;r<e.length;r++)if(e[r].num==n+""){i=e[r];break}return i},findRange:function(n,e){e.sort((function(n,e){return parseInt(n.num)-parseInt(e.num)}));var i=null,r=0,t=e.length;if(n>=parseInt(e[t-1].num))return e[t-1];if(n<parseInt(e[r].num))return i;for(r=0;r<t;r++)if(parseInt(e[r].num)<=n&&r+1<t&&parseInt(e[r+1].num)>n){i=e[r];break}return i},mergeDiff:function(n,e){for(var i=1,r=0;r<e.length;r++){d.findNum(e[r].num,n)||(i=0,n.push(e[r]))}return i?n:n.sort(()}},l={setInfo:function(n){if(this.info=n,this.uptopresentKeys=[],this.info&&this.info.buycurrency)for(var e in this.info.buycurrency)/uptopresent/.test(e)&&this.uptopresentKeys.push(e)},_filterByChannel:function(n,e,i){var r=this.info.buycurrency,t=null===n||void 0===n?void 0:n.split(":")[0],o=[],u=[],d=[];for(var l in r)if(l==e){var s=r[l].rule_item;s&&c(s,(function(e,r){if(r.is_limit||!i){for(var a=r.allow_channel.split(","),l=1,s=0;s<a.length;s++)-1==a[s].indexOf(":")&&(a[s]+=":*");for(s=0;s<a.length;s++)if(a[s]===n){o.push(r),l=0;break}l&&c(a,(function(n,e){var i=e.split(":");if(i[0]==t&&"*"==i[1])return u.push(r),l=0,!1})),l&&c(a,(function(n,e){var i=e.split(":");if("*"==i[0]&&"*"==i[1])return d.push(r),l=0,!1}))}}))}return o.length?a(o):u.length?a(u):d.length?a(d):[]},_getFirstsaveInfo:function(n,e){var i,r=e[0];return"range"==r.rank_type?(i=d.findRange(n,r.present_item))&&(i.__sendNum=i.send_type+""=="2"?parseInt(i.send_num):Math.ceil(parseInt(i.send_rate)*parseInt(n)/100)):(i=d.findNum(n,r.present_item))&&(i.__sendNum=i.send_type+""=="2"?parseInt(i.send_num):Math.ceil(parseInt(i.send_rate)*parseInt(n)/100)),i},_getUptopresentInfo:function(n,e){var i,r,t,o=[],u=[];for(i=0;i<e.length;i++)(r=e[i].is_limit)&&("no"!=r?o.push(e[i]):u.push(e[i]));if(o.length){var c=[];for(i=0;i<o.length;i++)r=o[i].rank_type,o[i].present_item=d.mergeDiff(o[i].present_item,u[0].present_item),"range"==r?(t=d.findRange(n,o[i].present_item))&&(t.__sendNum=t.send_type+""=="2"?parseInt(t.send_num):Math.ceil(parseInt(t.send_rate)*parseInt(n)/100),t.is_limit=o[i].is_limit,c.push(t)):(t=d.findNum(n,o[i].present_item))&&(t.__sendNum=t.send_type+""=="2"?parseInt(t.send_num):Math.ceil(parseInt(t.send_rate)*parseInt(n)/100),t.is_limit=o[i].is_limit,c.push(t));if(c.length)return c}var a=u[0];return a?("range"==a.rank_type?(t=d.findRange(n,a.present_item))&&(t.__sendNum=t.send_type+""=="2"?parseInt(t.send_num):Math.ceil(parseInt(t.send_rate)*parseInt(n)/100)):(t=d.findNum(n,a.present_item))&&(t.__sendNum=t.send_type+""=="2"?parseInt(t.send_num):Math.ceil(parseInt(t.send_rate)*parseInt(n)/100)),t):null},_mergeDrmInfo:function(n,e){var i;if(n&&(i=JSON.parse(JSON.stringify(n))),e)if(e instanceof Array)for(var r=0;r<e.length;r++){var t=e[r];i?(i.product_item=i.product_item.concat(t.product_item),i.__sendNum+=t.__sendNum,t.send_ext&&(i.send_ext=t.send_ext)):i=t}else i?(i.product_item=i.product_item.concat(e.product_item),i.__sendNum+=e.__sendNum,e.send_ext&&(i.send_ext=e.send_ext)):i=e;return i&&i.send_ext&&(i.send_ext=i.send_ext.replace("\u96501\u6b21",window.SERVER_DATA.lanRes.xianyici||"One time offer"),i.send_ext=i.send_ext.replace("\u4efb1\u6b21",window.SERVER_DATA.lanRes.renyici||"One time offer"),window.SERVER_DATA.lanRes[i.send_ext]&&(i.send_ext=window.SERVER_DATA.lanRes[i.send_ext])),i},_mergeUptopresentInfo:function(n){for(var e,i=n.length,r=0;r<i;r++){var t=n[r];if(t)if((t=JSON.parse(JSON.stringify(t)))instanceof Array)for(var o=0;o<t.length;o++){var u=t[o];e?(e.product_item=e.product_item.concat(u.product_item),e.__sendNum+=u.__sendNum,u.send_ext&&(e.send_ext=u.send_ext)):e=u}else e?(e.product_item=e.product_item.concat(t.product_item),e.__sendNum+=t.__sendNum,t.send_ext&&(e.send_ext=t.send_ext)):e=t}if(e&&e.product_item&&e.product_item.length){var c={};e.product_item.forEach((function(n){if(n)if(c[n.id]){var e=parseInt(c[n.id].num)+parseInt(n.num);c[n.id].num=e}else c[n.id]=JSON.parse(JSON.stringify(n))}));var a=[];for(var d in c)c.hasOwnProperty(d)&&a.push(c[d]);e.product_item=a}return e},getSendCount:function(n,e){var i=window.SERVER_DATA.channel_info||{},r=e;e=i[e]?i[e].pm:e;var t,o,u,c,a=this._filterByChannel(e,"firstsave"),d=[];if(this.uptopresentKeys.length>0)for(var l=0;l<this.uptopresentKeys.length;l++){var s=this.uptopresentKeys[l],f=this._filterByChannel(e,s,1);if(f.length){var v=this.info.buycurrency[s].rule_id,p=this._getUptopresentInfo(n,f);p&&(p.isBasic=(c=v,(window.SERVER_DATA.gameConfig.drmBasicRuleIds||[]).includes(c))),d.push(p)}}a.length&&(t=this._getFirstsaveInfo(n,a));var _=null;return d.length&&(_=d.filter((),o=this._mergeUptopresentInfo(d.filter(())),u=this._mergeDrmInfo(t,o),{cid:r,basicInfo:_&&_.length?_[0]:null,uptopresents:u}},getMarketingTips:function(){var n=this.info.buycurrency,e="";return n.title?e=n.title:n.uptopresent&&n.uptopresent.title?e=n.uptopresent.title:n.firstsave&&n.firstsave.title&&(e=n.firstsave.title),e}},s=i(76756),f=i(7354),v=i(79093),p=i(60627),_=i(76690),m=i(56450);function h(n,e){var i="SPECIFIC_PAYMENT_CHANNEL",r=n.filter((function(n){return n.isCollapsed})),t=r.find((function(n){return n.isRecommend}));return{productid:i,country:"",currency_type:"",name:"",num:"",price:"",product_detail:"",icons:e.map((),allowChannels:e.map((),isCollapsedEntry:!0,collapsedPrice:r.map((function(n){return n.price})),collapsedCoinNum:r.map((function(n){return n.num})),isRecommend:!!t,recommend:null===t||void 0===t?void 0:t.recommend,recommendText:null===t||void 0===t?void 0:t.translated_strategy}}var g=i(96715),y=i(37422),w=i(85444),E=function(n){var e;if(null!==(e=n.sendInfos)&&void 0!==e&&e.length){var i,r=n.sendInfos.find((function(n){return n.basicInfo}));return null===r||void 0===r||null===(i=r.basicInfo)||void 0===i?void 0:i.__sendNum}return null};function A(n){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=window.SERVER_DATA,d=a.channel_info,A=a.payInfo,R=a.gameConfig,I=a.country,C=a.isShelfRule,b=a.gameInfo,x=a.mpInfo;if(C){var N=(0,y.ZP)(c);if((0,p.Z)(s.a.integratePointCashCoin)&&(0,y.BC)()){var P=(0,_.E)(),k=h(N,P);N.push(k)}return N}var T=n||x,Z=[];l.setInfo(T);var D=["cashcard","dcb"];null===b||void 0===b||null===(e=b.productid_list)||void 0===e||e.forEach((function(n){var e=n.id;if(d[e]&&n.productid_info.length){var i=n.productid_info.map((function(n){var i=l.getSendCount(n.num,e),r={allowChannels:[{cid:e,pid:n.productid,isPoint:D.includes(d[e].type),price:Number(n.price),fprice:(0,t.MD)(n.price,A.currency_type)}]};return i&&(r.sendInfos=[i]),Object.assign(n,r)}));Z=Z.concat(i)}}));var O={};Z.forEach((function(n){var e,i,r=n.num;O[r]?(O[r].sendInfos=null===(e=O[r].sendInfos)||void 0===e?void 0:e.concat(n.sendInfos||[]),O[r].allowChannels=null===(i=O[r].allowChannels)||void 0===i?void 0:i.concat(n.allowChannels||[])):O[r]=n}));var L=Object.values(O),j=(0,v.hw)().map((function(n){return n.cid}));function V(n){var e,c,a,d,l,s,v,p,_,m,h,y=A.currencyIcon;if(Array.isArray(A.currencyIconMap)){var S,C=n.num,b=A.currencyIconMap.find((function(n){return n.min&&n.max?+C>=+n.min&&+C<=+n.max:n.min&&!n.max?+C>=+n.min:n.max&&!n.min?+C<=+n.max:void 0}));y=(null===b||void 0===b||null===(S=b.specificIconInCountry)||void 0===S?void 0:S[I])||(null===b||void 0===b?void 0:b.icon)||y}var x=(0,g.w9)(n),N=null!==(e=n.sendInfos)&&void 0!==e&&e.length?(0,o.OH)(n):null,P=(0,r.Z)((null===N||void 0===N?void 0:N.cid)||"")||{},k=P.icon_h5,T=P.icon_pc;return x&&(n.isRecommend=!0,n.recommend=null===x||void 0===x?void 0:x.recommend,n.recommendText=null===x||void 0===x?void 0:x.translated_strategy),n.icon=y,n.rewardChannelImage=k||T,n.fprice=(null===(c=(0,f.minBy)(n.allowChannels,"price"))||void 0===c?void 0:c.fprice)||(0,t.MD)(n.price,A.currency_type),n.uiPriceObj=(0,t.ZP)(n.price,A.currency_type,!0),n.basicSend=E(n)||0,n.totalNumIncludingBasic=Number(n.num)+Number((null===n||void 0===n?void 0:n.basicSend)||0),n.coinGiftIcon=R.images.coinGiftIcon,n.currencyUnit=(0,w.SO)(),n.currencyFullNameUnit=R.currencyFullNameUnit,n.showUcPromo=null===i||void 0===i?void 0:i.includes("".concat(n.num)),n.gifts=(0,o.yG)(n,(null===N||void 0===N?void 0:N.cid)||""),n.hasGift=Number(null===(a=n.gifts)||void 0===a?void 0:a.length)>0,n.uppermostSend=n.hasGift?Number(n.basicSend||0)+Number((null===(d=n.gifts)||void 0===d||null===(l=d[0])||void 0===l?void 0:l.num)||0):n.basicSend,n.showPromo=(0,o.AZ)(n)&&!(null!==i&&void 0!==i&&i.includes("".concat(n.num))),n.limitStr=u(n),n.promotionsInfo=(0,o.yG)(n,(null===N||void 0===N?void 0:N.cid)||""),n.promotionsInfo=null===(s=n.allowChannels)||void 0===s?void 0:s.map((function(e){var i=(0,o.yG)(n,e.cid);return{channelId:e.cid,presentItem:i,promotionText:n.limitStr}})),n.promotionsCid=null!==(v=n.sendInfos)&&void 0!==v&&v.length?n.sendInfos[0].cid:"",n.isCollapsed=null===(p=n.allowChannels)||void 0===p||null===(_=p.filter((function(n){return j.includes(n.cid)})))||void 0===_?void 0:_.some((function(n){return n.isPoint})),n.isExposed=null===(m=n.allowChannels)||void 0===m||null===(h=m.filter(())||void 0===h?void 0:h.some((),n.hasPropGift=!1,n}L.forEach(V);var F=(0,y.TZ)(L);if((0,p.Z)(s.a.integratePointCashCoin)&&L.some(S)){var B=(0,m.i)(L),U=h(L,B);F.push(U)}return F}function R(n){return(0,p.Z)(s.a.integratePointCashCoin)?n.filter(():n},17858:function(n,e,i){i.d(e,{Yx:function(){return f},f4:function(){return o},fS:function(){return d},ro:function(){return u}});var r=i(17195),t=i(28894);var o=/webview/i.test(navigator.userAgent.toLowerCase());function u(){var n,e=!1,i=!1,r=!1,t=navigator.userAgent,o=t.toLowerCase();if((t.indexOf("Android")>-1||t.indexOf("Linux")>-1)&&(e=!0),o.indexOf("like mac os x")>0){var u=o.match(/os [\d._]*/gi);n="".concat(u).replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}var c="".concat(n);return"undefined"!==c&&c.length>0&&((n=parseInt(n,10))>=8?r=!0:i=!0),{isAndroid:e,isIOS:i,isIOS9:r}}function c(n,e){if(o)prompt("dookeep://CTIJsBridge/payment".concat(n));else{var i="carind://cti/pay/PaymentActivity".concat(n);/micromessenger/i.test(navigator.userAgent.toLowerCase())||"undefined"!==typeof navigator.wxuserAgent?null===e||void 0===e||e():s(i,e)}}window.dookeepPaySuccessNotify=function(n){},window.dookeepPayFailNotify=var a=function(n){return/CTIMainActivity/.test(n)?"app_home":o?"app_webview":"app_pay"};function d(n){var e=n.data,i=window.SERVER_DATA.user;if("string"===typeof e&&"undefined"!==e){var r={from:"",type:"orderError"};try{if("orderError"===(r=JSON.parse(e)).type);else if("orderSuccess"===r.type){var t,o,u=null===(t=r.extend)||void 0===t?void 0:t.url,a=r.extend.successUrl,d=(null===(o=r.extend)||void 0===o?void 0:o.temp_token)||(null===i||void 0===i?void 0:i.temp_token)||"";c("?pay_url=".concat(encodeURIComponent(u),"&login_token=").concat(d,"&success_url=").concat(a))}}catch(l){console.error(l)}}}var l=function(){return window.open((0,r.mn)("/app-download"),"_blank")};function s(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,i=window.SERVER_DATA.appDownloadConfig.openAppTimeout,r=void 0===i?3e3:i,o=u(),c=o.isAndroid;if(c){var d=document.createElement("iframe"),s=setTimeout((function(){null===e||void 0===e||e(),document.body.removeChild(d),t.S.click("".concat(a(n),"_openfail"))}),r);d.setAttribute("src",n),d.setAttribute("style","display:none"),document.body.appendChild(d);var f=Date.now(),v=function(){(document.webkitHidden||document.msHidden||document.hidden)&&(clearTimeout(s),t.S.click(a(n),{url:n,time:Date.now()-f}))};window.addEventListener("visibilitychange",v),document.addEventListener("webkitvisibilitychange",v,!1)}else null===e||void 0===e||e()}function f(n){var e=window.SERVER_DATA.user,i=null!==e&&void 0!==e&&e.temp_token?"?login_token=".concat(null===e||void 0===e?void 0:e.temp_token):"";s("carind://cti/main/CTIMainActivity".concat(i),n)}},72390:function(n,e,i){i.d(e,{Bv:function(){return g},CU:function(){return t},Gl:function(){return _},I0:function(){return y},Nx:function(){return r},Pz:function(){return m},j:function(){return p},kJ:function(){return h},l9:);var r,t,o,u=i(4942),c=i(42627),a=i(14134),d=i(37136),l=i(28087),s=window.SERVER_DATA;s.forceLoginData,s.payInfo;!r||(r={})),function(n){n.checkPass="checkPass",n.needCheck="needCheck",n.generateOrder="generateOrder",n.cancel="cancel"}(t||(t={})),o||(o={}));var f={needCheck:!1,checkRule:"",checkRes:!1},v=(0,c.cn)({}),p=(0,a.j)((function(n){return function(n){var e,i;return(0,d.C)({id:"order",initial:r.initial,context:{params:n,checker:f},states:(i={},(0,u.Z)(i,r.initial,{on:(e={},(0,u.Z)(e,t.needCheck,{target:r.checking,actions:(0,l.f0)({params:function(n,e){return e.params},checker:)}),(0,u.Z)(e,t.generateOrder,r.orderGenerated),e)}),(0,u.Z)(i,r.checking,{on:(0,u.Z)({},t.checkPass,{target:r.orderGenerated,actions:(0,l.f0)({})})}),(0,u.Z)(i,r.orderGenerated,{on:(0,u.Z)({},t.cancel,r.initial)}),i)})}(n(v))})),_=(0,c.cn)(!1),m=(0,c.cn)(!1),h=(0,c.cn)({}),g=(0,c.cn)({price:"",fprice:""}),y=(0,c.cn)("")},39419:function(n,e){e.Z=}]);