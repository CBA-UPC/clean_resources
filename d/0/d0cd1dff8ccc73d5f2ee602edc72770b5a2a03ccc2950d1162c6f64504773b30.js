(self.webpackChunk_cleverpush_cleverpush_js_sdk=self.webpackChunk_cleverpush_cleverpush_js_sdk||[]).push([[34],{6034:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Panel}});var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8927),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5991),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6156),_utils_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5895),_utils_translate__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3114),_utils_debug__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1078),_const_event__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2034),_const_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(155),_utils_icons__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(39);r WEEK_DAY=8,MIN_TOP_POSITION=150,INT_RADIX=10,Panel=function(){function Panel(e,n,t,i){var o=this;(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__.Z)(this,Panel),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"notificationDay",(function(e){var n=Date.parse(e),t=new Date(n).setUTCHours(0,0,0,0);return o.checkIsToday(t)||o.checkIsYesterday(t)?o.getTodayAndYesterday(t):o.getDaysDifference(e)>WEEK_DAY?new Date(t).toLocaleString(o.language||_const_common__WEBPACK_IMPORTED_MODULE_5__.k$,{dateStyle:"long"}):new Date(t).toLocaleString(o.language||_const_common__WEBPACK_IMPORTED_MODULE_5__.k$,{weekday:"long"})})),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"groupToDay",(),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"groupBy",(function(e){return e.reduce((function(e,n){var t=o.notificationDay(n.sentAt);return e[t]=[].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_8__.Z)(e[t]||[]),[n]),e}),{})})),this.config=e,this.subscriptionManager=n,this.triggerEvent=t,this.api=i,this.localization=this.getLocalization(),this.language=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.ej)(e),__webpack_require__(7130),this.tab=e.triggerType||(e.hidePanelNotifications?_const_common__WEBPACK_IMPORTED_MODULE_5__.Kw.SETTINGS:_const_common__WEBPACK_IMPORTED_MODULE_5__.Kw.NOTIFICATIONS)}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_9__.Z)(Panel,[{key:"show",value:function(){if(this.checkPanelOpen(".cleverpush-inline-panel"),!this.panel){var e="cleverpush-panel";e+=" cleverpush-panel-position-".concat(this.config.notificationBellPosition||"left"),document.querySelector("body").appendChild((0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.dS)('<div class="cleverpush-panel-overlay"></div><div class="'.concat(e,'">')+'<div class="cleverpush-panel-content"></div></div>'))}this.panel=document.querySelector(".cleverpush-panel"),this.panelOverlay=document.querySelector(".cleverpush-panel-overlay"),this.bindPanelOverlay(),this.showPanelContent(),this.triggerEvent(_const_event__WEBPACK_IMPORTED_MODULE_4__.Z.PANEL_SHOWN),this.api&&this.api.trackPanel(null,"opened")}},{key:"checkPanelOpen",value:function(e){var n=document.querySelector(e);n&&(n.remove(),this.hide())}},{key:"isPanelGoingOutsideOfWindow",value:function(e){return e&&e.right>window.innerWidth/1.5}},{key:"parseStyleToNumber",value:function(e){try{var n=parseInt(e,INT_RADIX);return n<0?0:n}catch(n){return e}}},{key:"showSpeechbubblePanel",value:function(e){if(this.bubbleSpeechLink=e,this.checkPanelOpen(".cleverpush-panel"),!this.panel){document.querySelector("body").appendChild((0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.dS)('<div class="cleverpush-panel-overlay"></div> <div class="'.concat("cleverpush-inline-panel",'">')+'<div class="cleverpush-panel-content"></div></div>'))}this.panel=document.querySelector(".cleverpush-inline-panel");var n=e.getBoundingClientRect(),t=window.getComputedStyle(e),i=window.getComputedStyle(this.panel),o=(this.parseStyleToNumber(t.paddingLeft)||0)+(this.parseStyleToNumber(t.marginLeft)||0)+(this.parseStyleToNumber(t.paddingRight)||0)+(this.parseStyleToNumber(t.marginRight)||0),a=(this.parseStyleToNumber(t.paddingTop)||0)+(this.parseStyleToNumber(t.marginTop)||0)+(this.parseStyleToNumber(t.paddingBottom)||0)+(this.parseStyleToNumber(t.marginBottom)||0)>0?1:2,s={height:this.parseStyleToNumber(t.height)*a,width:this.parseStyleToNumber(t.width)-o,spacingLeft:this.parseStyleToNumber(t.paddingLeft)+this.parseStyleToNumber(t.marginLeft),spacingRight:this.parseStyleToNumber(t.paddingRight)+this.parseStyleToNumber(t.marginRight),spacingTop:this.parseStyleToNumber(t.paddingTop)+this.parseStyleToNumber(t.marginTop),spacingBottom:this.parseStyleToNumber(t.paddingBottom)+this.parseStyleToNumber(t.marginBottom)};if(n.top<MIN_TOP_POSITION?(this.panel.style.position="fixed",document.body.style.overflow="hidden",this.panel.style.top="".concat(n.top+s.height,"px")):(this.panel.style.position="absolute",document.body.style.overflow="auto",this.panel.style.top="".concat(n.top+window.scrollY+s.height,"px")),this.isPanelGoingOutsideOfWindow(n)){this.panel.style.left="initial";var r=window.innerWidth-n.right-s.width;this.panel.style.right="".concat(r,"px");var c=85*this.parseStyleToNumber(i.width)/100;this.panel.style.setProperty("--left","".concat(c,"px"))}else{var l=s.width<=35?s.width:0,p=n.left+window.scrollX+s.spacingLeft-l;this.panel.style.left="".concat(p,"px");var A=8*this.parseStyleToNumber(i.width)/100;this.panel.style.setProperty("--left","".concat(A,"px"))}(0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.Ji)(this.panel,200),this.panelOverlay=document.querySelector(".cleverpush-panel-overlay"),this.bindPanelOverlay(),this.showPanelContent(),this.triggerEvent(_const_event__WEBPACK_IMPORTED_MODULE_4__.Z.PANEL_SHOWN),this.api&&this.api.trackPanel(null,"opened")}},{key:"bindPanelOverlay",value:function(){var e=this;this.panelOverlay&&this.panelOverlay.addEventListener("click",()}},{key:"hide",value:function(){this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.panelOverlay&&(this.panelOverlay.parentNode.removeChild(this.panelOverlay),document.body.style.overflow="auto"),this.panel=null,this.closeButton=null,this.footerCloseButton=null,this.tabButtons=null,this.panelOverlay=null,this.triggerEvent(_const_event__WEBPACK_IMPORTED_MODULE_4__.Z.PANEL_HIDDEN)}},{key:"onCloseClick",value:,{key:"onUnsubscribeClick",value:function(e){confirm(this.localization.confirm)&&(this.onCloseClick(e),this.subscriptionManager.unsubscribe())}},{key:"setTab",value:,{key:"onTabButtonClick",value:function(e){(0,_utils_debug__WEBPACK_IMPORTED_MODULE_3__.tI)("onTabButtonClick",e.currentTarget.dataset.tab),e.preventDefault(),this.setTab(e.currentTarget.dataset.tab||"notifications")}},{key:"openNotification",value:function(e){e.preventDefault(),window.open(e.currentTarget.dataset.url,"_blank"),this.subscriptionManager.storageManager.setNotificationRead(e.currentTarget.dataset.id),Boolean(e.currentTarget.dataset.read)&&this.updateNotificationCount(),this.showPanelContent(),this.api&&this.api.trackPanel(e.currentTarget.dataset.id,"clicked")}},{key:"updateNotificationCount",value:function(){var e=Number(localStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_5__.jf));if(e&&this.bubbleSpeechLink){var n=this.bubbleSpeechLink.firstChild;if(!(e-=1))return this.bubbleSpeechLink.removeChild(n),void this.bubbleSpeechLink.classList.remove(_const_common__WEBPACK_IMPORTED_MODULE_5__.Jj);n.innerText=e}}},{key:"getLocalization",value:function(){var e=this.config.bellLocalization||{},n=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.ej)(this.config||{});return this.config.bellLocalizationTranslations&&n&&this.config.bellLocalizationTranslations[n]&&(e=_objectSpread(_objectSpread({},e),this.config.bellLocalizationTranslations[n])),{notifications:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.notifications)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("panel.notifications"),settings:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.settings)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("panel.settings"),editTopics:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.editTopics)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("panel.editTopics"),notificationEmpty:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.notificationEmpty)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("panel.notificationsEmpty"),save:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.save)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("panel.save"),close:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.close)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("panel.close"),successfulSave:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.successfulSave)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("panel.successfullySaved"),unSubscribeNotification:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.unSubscribeNotification)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("unsubscribe.title"),confirm:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(e.confirm)||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("unsubscribe.confirm")}}},{key:"timeString",value:function(e){var n=e.toISOString().substring(0,10);n+=" ";var t=e.getHours();t<10&&(t="0".concat(t));var i=e.getMinutes();return i<10&&(i="0".concat(i)),n+="".concat(t,":").concat(i)}},{key:"checkDateHour",value:function(e){return new Date-e<_const_common__WEBPACK_IMPORTED_MODULE_5__.gd}},{key:"checkIsToday",value:function(e){return e===new Date(Date.now()).setUTCHours(0,0,0,0)}},{key:"checkIsYesterday",value:function(e){return e===new Date(Date.now()-_const_common__WEBPACK_IMPORTED_MODULE_5__.x4).setUTCHours(0,0,0,0)}},{key:"getDaysDifference",value:function(e){return Math.abs(new Date-Date.parse(e))/_const_common__WEBPACK_IMPORTED_MODULE_5__.x4}},{key:"getTimeAgo",value:function(e){var n=new Date(e).setUTCHours(0,0,0,0),t=new Intl.RelativeTimeFormat(this.language||_const_common__WEBPACK_IMPORTED_MODULE_5__.k$,{numeric:"auto"}),i=this.checkIsToday(n)||this.checkIsYesterday(n)?_const_common__WEBPACK_IMPORTED_MODULE_5__.gd:_const_common__WEBPACK_IMPORTED_MODULE_5__.x4,o=Math.round((e-Date.now())/i);if(this.checkDateHour(n)){var a=Math.round((e-Date.now())/_const_common__WEBPACK_IMPORTED_MODULE_5__.DZ);return t.format(a,"minutes")}return this.checkIsToday(n)||this.checkIsYesterday(n)?t.format(o,"hours"):t.format(o,"day")}},{key:"getTodayAndYesterday",value:function(e){var n=new Intl.RelativeTimeFormat(this.language||_const_common__WEBPACK_IMPORTED_MODULE_5__.k$,{numeric:"auto"}),t=Math.trunc((e-Date.now())/_const_common__WEBPACK_IMPORTED_MODULE_5__.x4);return n.format(t,"day")}},{key:"showPanelContent",value:function showPanelContent(){var _this3=this,panelContent=this.panel.querySelector(".cleverpush-panel-content"),hidePanelNotifications=this.config.hidePanelNotifications,gearSettingOption=this.config.bellPanelGearButtonEnabled,content="";this.config.bellPanelTitle&&(content+='<div class="cleverpush-panel-title-section"><div class="cleverpush-title">'.concat(this.config.bellPanelTitle,'</div><button class="cleverpush-panel-close" type="button">&times;</button></div>')),content+=hidePanelNotifications||gearSettingOption?"":'<div class="cleverpush-panel-buttons">\n      <button type="button" class="cleverpush-panel-button'.concat("notifications"===this.tab?" active":"",'" data-tab="notifications">').concat(this.localization.notifications,"</button>")+'<button type="button" class="cleverpush-panel-button'.concat("settings"===this.tab?" active":"",'" data-tab="settings">').concat(this.localization.settings,"</button>")+"</div>","notifications"===this.tab?content+=gearSettingOption?'<div class="gear-setting-options"><div>'.concat(this.localization.notifications,'</div> <img data-tab="settings" class"cleverpush-panel-icon-button" src=').concat((0,_utils_icons__WEBPACK_IMPORTED_MODULE_6__.m)("setting")," /> </div>"):"":content+=gearSettingOption?'<div class="gear-setting-options"><div>'.concat(this.localization.settings,'</div> <img data-tab="notifications" class"cleverpush-panel-icon-button" src=').concat((0,_utils_icons__WEBPACK_IMPORTED_MODULE_6__.m)("back")," /> </div>"):"",this.config.notificationBellColor&&(content+="<style>.cleverpush-panel-button.active, .cleverpush-panel-settings button, .cleverpush-panel-settings button:hover, .cleverpush-panel-footer button, .cleverpush-panel-footer button:hover { background-color: ".concat(this.config.notificationBellColor,"; }</style>")),this.panel.classList.contains("cleverpush-inline-panel")||this.config.bellPanelHeaderHidden||(content+='\n      <div class="cleverpush-panel-header" style="border-bottom-color: '.concat(this.config.notificationBellColor||"",'"><img src="').concat(this.config.channelIcon,'"></div>\n      '));var setPanelContent=function(e){panelContent.innerHTML="".concat(e,'<div class="cleverpush-panel-footer"><button type="button" class="cleverpush-panel-footer-close">').concat(_this3.localization.close,'</button><div class="cleverpush-panel-branding">').concat(_this3.getBrandingLinks(),"</div></div>"),_this3.footerCloseButton=_this3.panel.querySelector(".cleverpush-panel-footer-close"),_this3.footerCloseButton&&_this3.footerCloseButton.addEventListener("click",_this3.onCloseClick.bind(_this3)),_this3.tabButtons=gearSettingOption?_this3.panel.querySelectorAll(".gear-setting-options img"):_this3.panel.querySelectorAll(".cleverpush-panel-button");for(var n=0;n<_this3.tabButtons.length;n+=1){_this3.tabButtons[n].addEventListener("click",_this3.onTabButtonClick.bind(_this3))}_this3.notificationItems=_this3.panel.querySelectorAll(".cleverpush-panel-notification");for(var t=0;t<_this3.notificationItems.length;t+=1){_this3.notificationItems[t].addEventListener("click",_this3.openNotification.bind(_this3))}_this3.closeButton=_this3.panel.querySelector(".cleverpush-panel-close"),_this3.closeButton&&_this3.closeButton.addEventListener("click",_this3.onCloseClick.bind(_this3))};if("notifications"===this.tab)content+='<div class="cleverpush-panel-spinner"><div class="spinner">\n                <div class="double-bounce1"></div>\n                <div class="double-bounce2"></div>\n            </div></div>',setPanelContent(content),this.subscriptionManager.getStoredNotifications().then((function(e){if("notifications"===_this3.tab){_this3.subscriptionManager.storageManager.checkUnreadNotifications(e);var n=_this3.groupBy(e),t=0,i=Object.keys(n).map(().sort(();_this3.subscriptionManager.storageManager.deleteOldNotificationsIds(e),e.length?(content+='<div class="cleverpush-panel-notifications" style="display: none;">',i.forEach((function(e){content+='<div class="cleverpush-panel-day">'.concat(e.day,"</div>"),e.notifications.slice(0,50).forEach((function(e){e.testVariants&&e.testVariants.length&&e.testVariants[0]&&(!e.title&&e.testVariants[0].title&&(e.title=e.testVariants[0].title),!e.text&&e.testVariants[0].text&&(e.text=e.testVariants[0].text),e.testVariants[0].url&&(e.url=e.testVariants[0].url));var n=new Date(Date.parse(e.sentAt||e.queuedAt||e.scheduledAt||e.createdAt)),i=_this3.subscriptionManager.storageManager.isNotificationRead(e._id);if(!i&&_this3.panel.classList.contains("cleverpush-inline-panel")&&(t+=1),content+='<div class="cleverpush-panel-notification '.concat(i?"cleverpush-has-read":"cleverpush-has-unread"," ").concat(_this3.checkDateHour(n)?"cleverpush-notification-current-hour":"",'" data-read=').concat(i,' data-url="').concat(e.url,'" data-id="').concat(e._id,'" style="border-left: ').concat(i?"none":"3px solid ".concat(_this3.config.notificationBellColor||"red",";"),'">'),content+='<div class="cleverpush-panel-notification-image" style="background-image: url(\''.concat(e.mediaUrl||e.iconUrl||_this3.config.channelIcon,"');\"></div>"),content+='<div class="cleverpush-panel-notification-title">'.concat(e.title,"</div>"),e.text&&(e.text.length>100&&(e.text="".concat(e.text.substr(0,100),"â€¦")),content+='<div class="cleverpush-panel-notification-text">'.concat(e.text,"</div>")),e.sentAt||e.createdAt){var o=Date.parse(e.sentAt||e.queuedAt||e.scheduledAt||e.createdAt);content+='<div class="cleverpush-panel-notification-time" style="color: '.concat(i?"":_this3.config.notificationBellColor||"",'">').concat(_this3.getTimeAgo(o)||"","</div>")}content+="</div>",content+='<div class="line"></div>'}))})),content+="</div>"):content+='<div class="cleverpush-panel-notifications-empty">'.concat(_this3.localization.notificationEmpty,"</div>"),!t&&_this3.bubbleSpeechLink&&(_this3.bubbleSpeechLink.classList.remove(_const_common__WEBPACK_IMPORTED_MODULE_5__.Jj),sessionStorage.setItem(_const_common__WEBPACK_IMPORTED_MODULE_5__.$t,!1)),setPanelContent(content);var o=panelContent.querySelector(".cleverpush-panel-spinner"),a=panelContent.querySelector(e.length?".cleverpush-panel-notifications":".cleverpush-panel-notifications-empty");o&&a&&(0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.U6)(o,150,(function(){o.style.display="none",a.style.opacity=0,a.style.display="block",(0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.Ji)(a,150)}))}}));else if("settings"===this.tab){var topicsContent,setSettingsContent=function setSettingsContent(){if(content+="".concat('<div class="cleverpush-panel-settings">'.concat(topicsContent||"",'<div class="cleverpush-panel-unsubscribe">')+'<button type="button" class="cleverpush-panel-unsubscribe-button">').concat(_this3.localization.unSubscribeNotification,"</button>")+"</div></div>",setPanelContent(content),_this3.unsubscribeButton=_this3.panel.querySelector(".cleverpush-panel-unsubscribe-button"),_this3.unsubscribeButton&&_this3.unsubscribeButton.addEventListener("click",_this3.onUnsubscribeClick.bind(_this3)),topicsContent){if(_this3.config.topicsTemplateFunction&&topicsContent){var topicsDiv=panelContent.querySelector(".cleverpush-topics");if(topicsDiv)try{var templateFunc=eval("(".concat(_this3.config.topicsTemplateFunction,")"));"function"==typeof templateFunc&&_this3.subscriptionManager.getTopics().then((function(e){templateFunc(topicsDiv,_this3.config,e,"panel"),_this3.topicCheckboxes=_this3.panel.querySelectorAll('.cleverpush-panel-topics input[type="'.concat(_this3.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'"]'))}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_3__.cM.error(e)}}else _this3.topicCheckboxes=_this3.panel.querySelectorAll('.cleverpush-panel-topic-selection input[type="'.concat(_this3.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'"]'));_this3.saveTopicsButton=_this3.panel.querySelector(".cleverpush-panel-save-topics-button"),_this3.saveTopicsButton&&_this3.saveTopicsButton.addEventListener("click",_this3.saveTopics.bind(_this3))}};this.config.channelTopics&&this.config.channelTopics.length?this.config.topicsTemplateFunction?(topicsContent="<div><h3>".concat(this.localization.editTopics,'</h3><div class="cleverpush-topics cleverpush-panel-topics"></div><div class="cleverpush-panel-save-topics"><button type="button" class="cleverpush-panel-save-topics-button">').concat(this.localization.save,"</div></button>"),setSettingsContent()):this.subscriptionManager.getTopics().then((function(e){var n=_this3.config.channelTopics.filter}));topicsContent="".concat("".concat('<div class="cleverpush-topics cleverpush-panel-topics"><h3>').concat(_this3.localization.editTopics,'</h3><div class="cleverpush-panel-topic-selection">'),n.sort})).map((function(n){var t=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(n.name),i=n.description?'<div class="cleverpush-topic-description">'.concat((0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(n.description),"</div>"):"",o=_this3.config.channelTopics.filter})),a='<div><div class="cleverpush-panel-topic cleverpush-topic-'.concat(n._id," ").concat(o.length?"topic-has-children":"",'"><label><input type="').concat(_this3.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(n._id,'"').concat(e&&e.indexOf(n._id)>-1?' checked="checked"':"","><div>").concat(t).concat(i,"</div></label></div></div>");return o.length&&o.forEach((function(t){var i=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.RG)(t.name),o=_this3.config.confirmAlertRadioButtonTopics||n.childTopicsRadioButtons?"radio":"checkbox";a+='<div class="topic-child" data-parent-topic="'.concat(n._id,'" style="margin-left: 20px; font-size: 90%; ').concat("",'"><label> <span>').concat(i,'</span> <input type="').concat(o,'" name="topics[]" value="').concat(t._id,'" ').concat(e&&e.indexOf(t._id)>-1?' checked="checked"':"","></label></div>")})),a})).join(""),'</div><button type="button" class="cleverpush-panel-save-topics-button">').concat(_this3.localization.save,"</button>")+"</div>",setSettingsContent()})):setSettingsContent()}}},{key:"getBrandingLinks",value:function(){var e=[];return this.config.hideBranding||("convertpush.io"===this.config.cleverpushDomain?e.push('<a href="https://convertpush.io/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: ".concat(this.config.confirmAlertThemeLinkColor," !important"):"",'">Powered by ConvertPush</a>')):e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: ".concat(this.config.confirmAlertThemeLinkColor," !important"):"",'">Powered by CleverPush</a>'))),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: ".concat(this.config.confirmAlertThemeLinkColor," !important"):"",'">').concat(this.config.privacyPolicyText||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_2__.Iu)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: ".concat(this.config.confirmAlertThemeLinkColor," !important"):"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"saveTopics",value:function(e){var n=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0;var t=[];if(this.topicCheckboxes=this.panel.querySelectorAll('.cleverpush-panel-topics input[type="checkbox"], .cleverpush-panel-topics input[type="radio"]'),this.topicCheckboxes&&this.topicCheckboxes.length)for(var i=0;i<this.topicCheckboxes.length;i+=1){var o=this.topicCheckboxes[i];o.checked&&t.push(o.value)}var a=function(e){n.saveTopicsButton.disabled=!1,e?(n.saveTopicsButton.innerHTML="<span>".concat(n.localization.successfulSave,"</span>"),setTimeout((function(){n.saveTopicsButton.innerHTML=n.localization.save,n.savingTopics=!1}),2e3)):(n.saveTopicsButton.innerHTML=n.localization.save,n.savingTopics=!1)};this.subscriptionManager.setTopics(t).then((function(){n.subscriptionManager.sync().then((function(){a(!0)})).catch((function(){a(!1)}))})).catch}))}}}]),Panel}()},39:function(e,n,t){"use strict";t.d(n,{m:function(){return i},}});var i=function(e){if("setting"===e){return"data:image/png;base64,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"}if("back"===e){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAACwklEQVRoge3YS2hUVxzH8Y9oNNYHSMGI2XSRIghREGkpKm5ssIVCRZSAu6DiIgsfCxduKqhU8YGLUsRF0YWLUmhpQSxtQSmCigquxIUuREQFY2lEm0czLs4Z7mTy0rknmYzcL5zNnDu//+9/73n8z6GgoKCgoKCg4L2nDbdxtd5G8rAez1CKrSHZiX5ZEg2XSDPOCcaH8I0GTGQprgmme7E5/t5QiXyGx4Lhh1hV0dcwiWzDK8HsFSyu6p/2iczCtzKjZ9A0ynPTOpEP8Zdg8D90jfNsOZFHuIFfcRZ78InwQupCOx5Ec4+F+TEefxu+DFe3XlwShmjz5FgeyeYYuITraH3L/zVjCZbhU3TiOC7jX1lSz3ECLUldVzAD+/F/DHgBHyTSnokN+BF9Uf+lsAfNSRQDLMAvMcAg9qUUr6IF32Mgxrsj1GtJuB5Fe9CRSnQClsvmVg++TCFaj0QIq9kp2UjozCs4lUNrNLYLdVs/vsorNgMHo2AJ503hUonuGPc1VqQQrHX5TcGxGPcu5qUQfNcN8aqwbPfgCe7jJn4S9pJurMXcCXSaZNX1dzV6H0EtJcpErT8aPYSVY2h9HOMNSjTECKvK6Qojp41eN5X7P4rB1+AL7BK+yM+yL1zZ7mE35lfpHY39f6RKpEyX8JZK+FP4WqMlMhFLsUU4Yf5T8b8eHJDt8guFUqaE1Tm9j6DyYHVfmEdlainjm7FVqJYrv9C62H9EViolp1W2efZiU/w973mkQ1ipSkLpsjfGGhBGwqIc2mMyWZcPs3FYto+dFEr/Enbk1B6XvcLKkvo66GthUywP4RJ+S6Q9Jp/LJmXKo+5Gw+/MXghHgUmlDbeEPScl5ZKl3FaN//j05ndZInvq7CUX7bLJ/0OdveTmouw+raHplF01NTQtQiJ91R11uyyrkafCkWCo3kYKCgrqxBu/mu9g1t5MJQAAAABJRU5ErkJggg=="}return""},o=function(e){return'<svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="20px" height="20px" viewBox="0 0 64.000000 64.000000" preserveAspectRatio="xMidYMid meet">\n      <g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">\n        <path fill='.concat(e||"#000",' d="M110 452 l0 -189 39 -31 c22 -18 43 -32 47 -32 4 0 34 23 66 51 l58 50 58 -50 c32 -28 62 -51 66 -51 4 0 25 14 47 32 l39 31 0 189 0 188 -210 0 -210 0 0 -188z m286 123 c48 -31 71 -127 38 -159 -18 -18 -50 -21 -60 -5 -4 8 -9 8 -17 0 -32 -32 -107 9 -107 58 0 52 74 93 108 59 9 -9 12 -9 12 0 0 7 5 12 10 12 6 0 10 -27 10 -61 0 -52 2 -60 18 -57 23 4 28 58 7 98 -33 64 -126 77 -176 24 -19 -20 -24 -37 -24 -76 0 -42 4 -53 28 -74 36 -31 71 -39 113 -26 40 12 54 0 18 -17 -118 -53 -231 85 -159 196 34 52 124 66 181 28z" />\n        <path fill=').concat(e||"#000",' d="M286 504 c-31 -30 -9 -84 34 -84 24 0 50 26 50 50 0 24 -26 50 -50 50 -10 0 -26 -7 -34 -16z" />\n        <path fill=').concat(e||"#000",' d="M42 371 l-32 -28 40 -32 40 -32 0 61 c0 33 -3 60 -7 60 -5 -1 -23 -13 -41 -29z" />\n        <path fill=').concat(e||"#000",' d="M550 339 l0 -61 41 32 40 33 -33 28 c-18 15 -36 28 -40 29 -5 0 -8 -27 -8 -61z" />\n        <path fill=').concat(e||"#000",' d="M0 170 l0 -151 23 18 c50 39 161 143 156 146 -2 2 -38 30 -79 63 -41 33 -81 64 -87 68 -10 6 -13 -26 -13 -144z" />\n        <path fill=').concat(e||"#000",' d="M548 253 c-48 -37 -86 -71 -85 -75 1 -3 40 -40 87 -82 l85 -76 3 75 c2 41 2 109 0 151 l-3 76 -87 -69z" />\n        <path fill=').concat(e||"#000",' d="M166 138 l-148 -133 151 -3 c83 -1 219 -1 302 0 l151 3 -147 133 c-81 72 -150 132 -154 132 -4 0 -74 -60 -155 -132z" />\n      </g>\n    </svg>')}},831},364},753},713},337},56},921},356},779},458}}]);
//# sourceMappingURL=34.0119b66e709d8115e100.js.map