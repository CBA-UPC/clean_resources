<urn e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=8)}([function(e,t,s){"use strict";__esModule",{value:!0}),t.formatValue=(e,t=2)=>{let s=e.toString();for(;s.length<t;)s="0"+s;return s},t.getCurrentTime=()=>(new Date).getTime(),t.getTimeString=()=>{const e=new Date;return`${t.formatValue(e.getHours())}:${t.formatValue(e.getMinutes())}:${t.formatValue(e.getSeconds())}.${t.formatValue(e.getMilliseconds(),3)}`},t.getDateTimeString=()=>{const e=new Date,s=t.formatValue(e.getHours()),i=t.formatValue(e.getMinutes()),n=t.formatValue(e.getSeconds()),r=t.formatValue(e.getDate());return`${t.formatValue(e.getMonth()+1)}/${r}/${e.getFullYear()} ${s}:${i}:${n}`},t.isString=e=>"string"==typeof e,t.compareIgnoreCase=(e,s)=>{if(t.isString(e)&&t.isString(s))return 0===e.localeCompare(s,void 0,{sensitivity:"accent"});if(t.isEmpty(s)return e!==s;{let i=!1;for(let n=0;n<s.length;n++){if(t.compareIgnoreCase(e,s[n])){i=!0;break}}return i}},t.isFunction=e=>"function"==typeof e,t.isEmpty=e=>null==e||""===e||0===e||!1===e;const i=/^\s*$/;t.isWhitespace=e=>i.test(e),t.isMethodNative=e=>!!t.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(""+e),t.getViewPort=()=>{var e;let s=0,i=0;return void 0!==window.innerWidth?(s=window.innerWidth,i=window.innerHeight):t.isEmpty(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)?(s=document.getElementsByTagName("body")[0].clientWidth,i=document.getElementsByTagName("body")[0].clientHeight):(s=document.documentElement.clientWidth,i=document.documentElement.clientHeit.clientHeight|getWinWidth=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t.getElementAs=e=>document.getElementById(e),t.setClass=(e,s)=>{const i=t.isStrin&&(i.className=s)},t.setCss=(e,s)=>{const i=t.isString(e)?t.getE(s).forEach(e=>{i.style.setProperty(e,s[e])})},t.hideElement=e=>{t.setCss(e,{display:"none"})},t.showElement=e=>{t.setCss(e,{display:"block"})},t.fireEvent=(e,s)=>{try{let i=null;return t.isFunction(document.createEvent)?(i=document.createEvent("MouseEvent"),i.initMouseEvent(s,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):i=new MouseEvent(s,{button:0,bubbles:!0,view:window,cancelable:!0}),!e.dispatchEvent(i)}catch(e){return!1}},t.stopEvent=e=>{const s=t.isEmpty(e)?window.event:e;t.isEmpty(s)||(s.returnValue=!1,s.cancelBubble=!0,t.isFunction(s.stopPropagation)&&s.stopPropagation(),t.isFunction(s.preventDefault)&&s.splayText=(e,s)mentAs(e):e;null!==i&&(i.innerHTML=null!=s?s:"")},t.preloadImageBySource=e=>{(new Image).src=e},t.preloadImage=e=>t.preloadImageBySource(e.src);let n=null;t.htmlEncode=e=>(null===n&&(n=document.createElememlDecode=e=>(null===n&&(n=document.createElement("span")),n.innerHTML=e,n.innerText),t.randomInRange=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),t.getTopFrame=()=>{try{try{const e=top.location.hostname;if(t.isString(e))return top}catch(e){}let e=self,s=0;for(;e!=e.parent&&s++<32;){try{const s=e.parent.location.hostname;if(t.isString(s)){e=e.parent;continue}}catch(e){}return e}return e}catch(e){return self}}},function(e,t,s){"use =s(10),o=s(12),a=s(4),c=s(13),l=s(14),d=s(0),u=s(5),m=s(7),h=s(3);class g{constructor(){this.success=!1,this.validUntil=0,this.errorCode=null}}class p{constructor(e){this.command=h.STORAGE_RESPONSE_CMD,this.args=void 0,this.id=e}}t.LLStorage=new class{constructor(){this.Providers=[],this.CurrentProvider=null,this.eventStorage=null,this.canSendObjects=!1,this.providerReadyTimeout=0,this.isIE11=!1,this.isEDGE=!1,this.readyResolveCallbacks=null,this.initCompleted=!1,this.sessionStorageProvider=null,this.localStorageProvider=null,this.indexedDBProvider=null,this.addProvider=e=>{d.isEmpty(e)||this.Providers.push(e)},this.ipadChrome=()=>{const e=["Mozilla","CriOS","Safari","Mobile"];let t=!0;for(let s=0;s<e.length;s++)if(-1===navigator.userAgent.indexOf(e[s])){t=!1;break}return t},this.init()}async getItem(e,t,s,i){var n,r;await this.ready();let o=null;if(!d.isEmpty(e)&&!d.isEmpty(t)){const s=u.StorageUtils.processSiteID(e),i=[];if(this.isIE11){(null===(n=this.localStorageProvider)||void 0===n?void 0:n.Ready())&&i.push(this.localStorageProvider.GetItem(s,t)),(null===(r=this.indexedDBProvider)||void 0===r?void 0:r.Ready())&&i.push(this.indexedDBProvider.GetItem(s,t));const e=await Promise.all(i);let a=0;e.forEach(e=>{const[t,s]=u.StorageUtils.cutOutTimeString(e);if(d.isEmpty(s))d.isEmpty(t)||null!==o||(o=t);else{const e=parseInt(s);!isNaN(e)&&e>a&&(a=e,o=t)}})}else o=await this.CurrentProvider.GetItem(s,t)}return this.doSendResponse(i,s,o),o}async setItem(e,t,s,i,n){var r,o;await this.ready();const a=[];if(null!==this.CurrentProvider&&!d.isEmpty(e)&&!d.isEmpty(t)){const i=u.StorageUtils.processSiteID(e);this.isIE11?(s+=h.STORAGE_IE_TIME_STRING+d.getCurrentTime(),(null===(r=this.indexedDBProvider)||void 0===r?void 0:r.Ready())&&a.push(this.indexedDBProvider.SetItem(i,t,s)),(null===(o=this.localStorageProvider)||void 0===o?void 0:o.Ready())&&a.push(this.localStorageProvider.SetItem(i,t,s))):a.push(this.CurrentProvider.SetItem(i,t,s))}await Promise.all(a),this.doSendResponse(n,i)}async tryNextProvider(){clearTimeout(this.providerReadyTimeout),this.providerReadyTimeout=0;let e=0;if(null!==this.CurrentProvider)for(let t=0;t<this.Providers.length;t++)if(this.Providers[t]===this.CurrentProvider){e=t+1;break}const t=this.CurrentProvider=this.Providers[e];if(void 0===t)throw new Error("Failed to initialize LLStorage");try{const s=0===e&&(this.isIE11||this.isEDGE)?2500:500;if(1===await m.noLongerThan(s,t.Supported()))return void await m.noLongerThan(500,t.Init())}catch(e){}return await this.tryNextProvider()}async removeItem(e,t,s,i){var n,r;await this.ready();const o=[];if(d.isString(e)&&d.isString(t)){const s=u.StorageUtils.processSiteID(e);this.isIE11?(null===(n=this.indexedDBProvider)||void 0===n?void 0:n.Ready())?(o.push(this.indexedDBProvider.RemoveItem(s,t)),(null===(r=this.localStorageProvider)||void 0===r?void 0:r.Ready())&&o.push(this.localStorageProvider.RemoveItem(s,t))):o.push(this.localStorageProvider.SetItem(s,t,h.STORAGE_IE_TIME_STRING+d.getCurrentTime())):o.push(this.CurrentProvider.RemoveItem(s,t))}await Promise.all(o),this.doSendResponse(i,s)}ready(){return new Promise(async(e,t)=>{this.initCompleted?e():(null===this.readyResolveCallbacks&&(this.readyResolveCallbacks=[]),this.readyResolveCallbacks.push(e))})}async clear(e,t,s){var i,n;await this.ready();const r=[];if(!d.isEmpty(e)){const t=u.StorageUtils.processSiteID(e);this.isIE11?((null===(i=this.indexedDBProvider)||void 0===i?void 0:i.Ready())&&r.push(this.indexedDBProvider.Clear(t)),(null===(n=this.localStorageProvider)||void 0===n?void 0:n.Ready())&&r.push(this.localStorageProvider.Clear(t))):r.push(this.CurrentProvider.Clear(t))}await Promise.all(r),this.doSendResponse(s,t)}async lock(e,t,s,i,n){var r;await this.ready();const o=new g,a=`${u.StorageUtils.processSiteID(e)}_${t}`,c=null===(r=this.eventStorage)||void 0===r?void 0:r.getItem(a),l=(new Date).getTime();let m=!0;const p=+s;m=!d.isString(c)||(!!isNaN(+c)||l-+c>p),m&&null!==this.eventStorage?(this.eventStorage[a]=l.toString(),o.success=!0,o.validUntil=l):(o.success=!1,o.validUntil=d.isString(c)?+c:0,null===this.eventStorage&&(o.errorCode=h.ERROR_STORAGE_UNAVAILABLE)),this.doSendResponse(n,i,o)}async removeLock(e,t,s,i){if(await this.ready(),null!==this.eventStorage){const s=`${u.StorageUtils.processSiteID(e)}_${t}`;this.eventStorage.removeItem(s)}this.doSendResponse(i,s)}async getItems(e,t,s,i){await this.ready();const n=u.StorageUtils.processSiteID(u.StorageUtils.restoreArg(e)),r=u.StorageUtils.restoreArg(s),o=u.StorageUtils.restoreArg(t);let a={};if(d.isString(n)&&d.isString(o))if(this.isIE11){const e=[];o.split(",").forEach(t=>{e.push(new Promise(async e=>{a[t]=await this.getItem(n,t),e()}))}),await Promise.all(e)}else a=await this.CurrentProvider.GetItems(n,o);this.doSendResponse(i,r,a)}async setItems(e,t,s,i){var n,r;await this.ready();const o=u.StorageUtils.processSiteID(u.StorageUtils.restoreArg(e)),a=u.StorageUtils.restoreArg(s);let c=u.StorageUtils.restoreArg(t);const l=[];try{c=JSON.parse(c)}catch(e){}this.isIE11?(Object.keys(c).forEach(e=>{c[e]+=h.STORAGE_IE_TIME_STRING+d.getCurrentTime()}),(null===(n=this.indexedDBProvider)||void 0===n?void 0:n.Ready())&&l.push(this.indexedDBProvider.SetItems(o,c)),(null===(r=this.localStorageProvider)||void 0===r?void 0:r.Ready())&&l.push(this.localStorageProvider.SetItems(o,c))):l.push(this.CurrentProvider.SetItems(o,c)),await Promise.all(l),this.doSendResponse(i,a)}async init(){var e;this.sessionStorageProvider=orageProvider.getInstance(),this.localStorageProvider=i.LocalStorageProvider.getInstance();let t=!1;try{window.postMessage({toString:()=>{t=!0}},"*")}catch(e){}this.canSendObjects=!t;const s={localStorage:this.localStorageProvider,sessionStorage:this.sessionStorageProvider};this.eventStorage=null;for(const e in s)if(s.hasOwnProperty(e))try{if(-1!==await m.noLongerThan(100,s[e].Supported())){this.eventStorage=window[e];break}}catch(e){}if(await this.initProvider(),null===this.CurrentProvider)return;const n={getItem:this.getItem,getItems:this.getItems,setItem:this.setItem,setItems:this.setItems,removeItem:this.removeItem,clear:this.clear,getProvider:this.getProvider,lock:this.lock,removeLock:this.removeLock},l=this;Object.keys(n).forEach(e=>{a.MessageHandlers.add(e,l,n[e])}),a.MessageHandlers.init(),this.doSendResponse(window.parent,"ready",this.CurrentProvider.ProviderName),this.initCompleted=!0,null===(e=tMSIE11(){const e=navigator.userAgent;return/trident\/\d.0/i.test(e)||/msie\s\d.0/i.test(e)}isMSEDGE(){return/Edge/i.test(navigator.userAgent)}async initProvider(){if(!("JSON"in window&&d.isFunction(JSON.parse)&&d.isFunction(JSON.stringify)&&d.isFunction(addEventListener)&&"undefined"!=typeof postMessage))throw new Error(h.ERROR_ENVIRONMENT);this.Providers=[],this.isIE11=this.isMSIE11(),this.isEDGE=this.isMSEDGE();const e=navigator.userAgent;this.indexedDBProvider=n.IndexedDBProvider.getInstance(),this.isIE11?(this.addProvider(this.indexedDBProvider),this.addProvider(this.localStorageProvider),this.addProvider(this.sessionStorageProvider),this.addProvider(l.CookieProvider.getInstance())):/Safari/i.test(e)&&!(/Chrome/i.test(e)||this.ipadChrome()||/Firefox/i.test(e))?(this.addProvider(this.localStorageProvider),this.addProvider(this.sessionStorageProvider),this.addProvider(l.CookieProvider.getInstance())):(this.addProvider(this.localStorageProvider),this.addProvider(this.indexedDBProvider),this.addProvider(this.sessionStorageProvider),this.addProvider(l.CookieProvider.getInstance())),await this.tryNextProvider()}async getProvider(e,t){await this.ready(),this.doSendResponse(t,e,this.CurrentProvider.ProviderName)}doSendResponse(e,t,s){if(!d.isEmpty(e)&&!d.isEmpty(t))if(this.isIE11&&void 0===s&&(s=null),this.canSendObjects){const i=new p(t);void 0!==s&&(i.args=s instanceof Array?s:[s]);try{e.postMessage(i,"*")}catch(e){}}else{const i=`${t}(${u.StorageUtils.prepareCommandArgs(s)})){"use strict";Object.defineProperty(t,";t.StorageProvider=cm(e,t){}asynetItems(e,t){}async RemoveItem(e,t){}async Clear(e){}Ready(){return!this.InitError}async Supported(){return this.InitError?-1:1}async Init(){}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_IE_TIME_KEY="ie11_time",t.STORAGE_IE_TIME_STRING=`;${t.STORAGE_IE_TIME_KEY}=`,t.STORAGE_EVENT_CMD="ll.event",t.STORAGE_RESPONSE_CMD="ll.response",t.STORAGE_READY_CMD="ready",t.ERROR_STORAGE_UNAVAILABLE="ERR_STORAGE_UNAVAILABLE",t.ERROR_ENVIRONMENT="ERR_UNSUPPORTED_ENV",t.ERROR_PROMISE_TIMEOUT="ERR_PROMISE_TIMEOUT",t.ERROR_REQUEST_TIMEOUT="ERR_REQUEST_TIMEOUT",t.ERROR_TIMEOUT="ERR_TIMEOUT",t.ERROR_NO_ARGS="ERR_MISSING_ARGS",t.ERROR_CONTEXT_LOCKED="ERR_ALREADY_LOCKED",t.ERROR_NO_STORAGE_MANAGER="ERR_STORAGE_MANAGER_MISSING",t.ERROR_OPERATION_FAILED="ERR_FAILED",t.ERROR_COMPONENT_MISSING="REQUIRED_COMPONENT_MISSING",t.ERROR_NETWORK_TIMEOUT="ERROR_NETWORK_TIMEOUT",t.INSTANCE_CONFIG_ERROR="ERROR_INSTANCE_NOT_CONFIGURED"},function(e,t,s){"use strict";Object.definePropertyconstructor(e,t){this.thisArgument=e,this.handler=t}}t.MessageHandlers=new class{constructor(){this.listenersAdded=!1,this.handlerList=new Map}add(e,t,s){const i=new o(t,s);this.handlerList.set(e,i)}init(){if(!1!==this.listenersAdded)return;this.listenersAdded=!0,window.addEventListener("message",this.messageListener,!1);let e=window.location.hash;if(!r.isEmpty(e)){const t=window.location.href.indexOf("#");-1!==t&&(e=window.location.href.substring(t+1))}r.isEmpty(e)||(e.startsWith("#")&&(e=e.substring(1)),this.handleCommand(parent,e),windg(0,window.location.href.indexOf("#")+1))}messageListener(e){const s=e.source,i=e.data;setTimeout((e,s)=>{t.MessageHandlers.handleCommand(e,s)},0,s,i)}async handleCommand(e,t){await i.LLStorage.ready();let s=null,o=[];if(r.isString(t)){const e=t.indexOf("(");-1!==e?(s=t.substring(0,e),o=n.StorageUtils.restoreArgs(t.substring(e+1,t.length-1).split(","))):s=t}else"object"==typeof t&&(s=t.command,o=[t]);if(r.isString(s)&&(o.splice(o.length,0,e),this.handlerList.has(s))){const e=this.handlerList.get(s);try{void 0!==e&&e.handler.apply(e.thisArgument,o)}catch(e){}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(0),r=s(11);t.validateGenericEvent=(e,t,s,i,r)=>{if(null!==s)try{const o=JSON.parse(s);n.isEmpty(null==o?void 0:o.id)||n.isEmpty(null==o?void 0:o.timestamp)||n.isEmpty(null==o?void 0:o.eventName)||n.getCurrentTime()-o.timestamp>6e4||e.indexOf(o.id)>-1?null==r||r.push(i):t(o)}catch(e){null==r||r.push(i)}},t.invalidateGenericEvents=(e,t)=>{var s,o;if(!0===t.invalidate){const a=t.eventName,c=[],l=null===(s=t.eventData)||void 0===s?void 0:s.scope;for(const t in e)if(!n.isEmpty(t)&&e.hasOwnProperty(t)&&0===t.indexOf(i.STORAGE_EVENT_CMD))try{const s=JSON.parse(e[t]);if(s.eventName===a){const e=null===(o=s.eventData)||void 0===o?void 0:o.scope;n.isEmpty(e)||n.isEmpty(l)||r.eventScopeMatches(e,l)?c.push(t):console.warn("Skipping event from a non-matching-scope",s,"while invalidating scope",l)}}catch(e){c.push(t)}for(let t=0;t<c.length;t++)e.removeItem(c[t])}};const o=e=>n.isString(e)?e.split(i.STORAGE_IE_TIME_STRING):[""],a=e=>{if(!n.isString(e))return e;for(;e.indexOf("LL_LITERAL_")>-1;){const t=e.indexOf("LL_LITERAL_"),s=e.substring(t+11,t+14);e=e.replace(new RegExp("LL_LITERAL_"+s,"g"),String.fromCharCode(parseInt(s,10)))}return e},c=e=>{if("object"==typeof e)return c(JSON.stringify(e));if(n.isString(e)){const t=",();|{}";for(let s=0;s<t.length;s++)e.indexOf(tormatValue(t.charCodeAt(s),3)));return e}return e};class l{static processSiteID(e){return n.isString(e)?e.replace(/\:/g,"").toUpperCase():null}static prepareCommandArgs(...e){let t="";return e.forEach(e=>{t.length>0&&(t+=","),t+=c(e)}),t}static restoreArgs(e){if(n.isEmpty(e)||0===e.length)return e;for(let t=0;t<e.length;t++)e[t]=a(e[t]);return e}}t.StorageUtils=l,l.cutOutTimeString=o,l.restoreArg=a,l.cutOutTimeStrings=e=>{for(const t in e)if(e.hasOwnProperty(t)){const s=e[t];e[t]=n.isString(s)?o(s)[0]:s}return e},l.getKeyValue=e=>{let t=null;const s=window.MCServiceAPI,i=window.Cobrowse;switch(e){case"dataServerURL":if(void 0!==i&&void 0!==i.Deployment)t=i.Deployment.dataServerPath+"/storage/";else if(void 0!==s&&s.configuration)t=s.configuration.dataServerPath+"/storage/";else{const e=window.LL_Deployment;void 0!==e&&(t=e.dataServerPath+"/storage/")}break;case"version":if(void 0!==i&&void 0!==i.Deployment)t=i.Deployment.version;else if(void 0!==s&&void 0!==s.configuration)t=s.configuration.version;else{const e=new Date,s=e.getMonth(),i=e.getDate();t=""+e.getFullYear()+n.formatValue(s)+n.formatValue(i)}perty(t,"__esModule",{value:!0});const i=s(2),n=s(0);class r extends i.StorageProvider{ce="LOCAL_STORAGE"}static getInstance(){return null===this.instance&&(this.instance=new this),this.instance}async Init(){await this.Supported()}async Supported(){if("localStorage"in window)try{return localStorage.setItem("LLtestItem","1"),localStorage.removeItem("LLtestItem"),/trident\/7.0/i.test(navigator.userAgent)?0:1}catch(e){}return this.InitError=!0,-1}async GetItem(e,t){let s=null;try{if(!n.isEmpty(e)&&!n.isEmpty(t)){const i=`${e}_${t}`;s=localStorage.getItem(i)}}catch(e){}return s}async GetItems(e,t){const s=t.split(","),i={},n=[];for(let t=0;t<s.length;t++)n.push(new Promise(n=>{this.GetItem(e,s[t]).then(e=>{i[s[t]]=e,n()})}));return await Promise.all(n),i}async SetItem(e,t,s){try{if(!n.isEmpty(e)&&!n.isEmpty(t)){const i=`${e}_${t}`;localStorage.setItem(i,s)}}catch(e){}}async SetItems(e,t){const s=[];if(null!==t)for(const i of Object.keys(t))s.push(new Promise(async s=>{const n=t[i];await this.SetItem(e,i,n),s()}));await Promise.all(s)}async RemoveItem(e,t){try{if(!n.isEmpty(e)&&!n.isEmpty(t)){const s=`${e}_${t}`;localStorage.removeItem(s)}}catch(e){}}async Clear(e){try{if(!n.isEmpty(e)){for(let t=localStorage.length-1;t>-1;t--){const s=localStorage.key(t);null!==s&&s.startsWith(e)&&localStorage.removeItem(s)}}}catch(e){}}}t.LocalStorageProvider=r,r.instance=null},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),n=s(3);t.keepTrying=async(e,s,n,r=0)=>{const o=i.getCurrentTime();try{return await e()}catch(a){if(i.getCurrentTime()<o+n){if(s(a)){0!==r&&await t.sleep(r);const a=Math.max(0,i.getCurrentTime()-o+n);return await t.keepTrying(e,s,a=(e,t)=se((s,i)=>{let r=!1;const o_PROMISE_TIMEOUT))},e);t.then(e=>{clearTimeout(o),r||s(e)}).catch(e=>{i(e)})});t.sleep=async e=>{await(async e(t,e)))(e)},t.sleepWithValue=(e,t)=>new Promise(s=>{setTimeout(s.bind(null,t),e)}),t.callAsync=(e,...t)=>new Promise(s=>{e.apply(window,t),s()})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1);i.LLStorage.ready().then(()=>{window.StorageInstance=i.LLStorage,console.log("Selected provider: "ion(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),n=s(0);class r{constructor(e,t){this.key=e,this.value=t}}const o=e=>{"console"in window&&n.isFunction(console.ert?new Error("Failed to open IndexedDB"):t};class c extends i.StorageProvider{constructor(){super(),this.ProviderName="INDEXED_DB",this.db=null}static getInstance(){return null===this.instance&&(this.instance=new this),this.instance}async Supported(){try{if("indexedDB"in window)return await this.RemoveItem("LLtest","Item"),1}catch(e){}return-1}async SetItem(e,t,s){if(!n.isEmpty(e)&&!n.isEmpty(t))try{const i=`${e}_${t}`,n=await this.getStore("readwrite");await this.addNext(0,[new r(i,s)],n)}catch(e){o(e)}}async SetItems(e,t){if(!n.isEmpty(e)&&!n.isEmpty(t))try{const s=[];for(const i in t)t.hasOwnProperty(i)&&s.push(new r(`${e}_${i}`,t[i]));if(s.length>0){const e=await this.getStore("readwrite");await this.addNext(0,s,e)}}catch(e){o(e)}}async GetItem(e,t){let s=null;if(!n.isEmpty(e)&&!n.isEmpty(t)){const i=`${e}_${t}`;try{const e=await this.getStore("readonly");s=await this.getNext(i,e)}catch(e){o(e)}}return s}async GetItems(e,t){const s={};if(!n.isEmpty(e)&&!n.isEmpty(t)){const i=[],n=t.split(",");try{const t=await this.getStore("readonly");n.forEach(n=>{const r=`${e}_${n}`;i.push(new Promise(async e=>{s[n]=await this.getNext(r,t),e()}))}),await Promise.all(i)}catch(e){o(e)}}return s}RemoveItem(e,t){return newsync(s,i)=>{if(n.isEmpty(e)||n.isEmpty(t))s();else try{const n=`${e}_${t}`,r=(await this.getStore("readwrite")).delete(n);r.onsuccess=()=>{s()},r.onerror=e=>{i(a(e))}}catch(e){i(e)}})}Clear(e){return new Promise(async(t,s)=>{if(n.isEmpty(e))t();else try{const i=await this.getStore("readwrite"),n=i.openCursor(IDBKeyRange.bound(e,e+"￿"));n.onsuccess=()=>{const e=n.result;null!==e?(i.delete(e.primaryKey),e.continue()):t()},n.onerror=e=>{s(a(e))}}catch(e){s(e)}})}getStore(e){return new Promise((t,s)=>{let i=setTimeout(()=>{const e=new Error("OpenDB timeout");s(e)},3333);try{if(null===this.db){const n=window.indexedDB.open("ll_dbname",1);n.onsuccess=s=>{clearTimeout(i),i=0,this.db=s.target.result,t(this.db.transaction("ll_cobrowse",e).objectStore("ll_cobrowse"))},n.onerror=e=>{clearTimeout(i),i=0,s(a(e))},n.onupgradeneeded=e=>{clearTimeout(i),i=0,this.db=e.currentTarget.result,this.db.createObjectStore("ll_cobrowse",{keyPath:"key"}).createIndex("key","key",{unique:!1,multiEntry:!0})}}else{clearTimeout(i),i=0;const s=this.db.transaction("ll_cobrowse",e).objectStore("ll_cobrowse");t(s)}}catch(e){clearTimeout(i),i=0,s(e)}})}addNext(e,t,s){return new Promise((i,n)=>{try{if(e<t.length){const r=s.get(t[e].key);r.onsuccess=o=>{if(r.result){const o=r.result;o.value=t[e].value;const c=s.put(o);c.onsuccess=async()=>{await this.addNext(++e,t,s),i()},c.onerror=e=>{n(a(e))}}else{const r=s.add({key:t[e].key,value:t[e].value});r.onsuccess=async n=>{await this.addNext(++e,t,s),i()},r.onerror=e=>{n(a(e))}}},r.onerror=e=>{n(a(e))}}else i()}catch(e){n(e)}})}getNen new Promise((s,i)=>{try{const n=t.get(e);n.onsuccess=e=>{let t=null;n.result&&void 0!==n.result&&(t=n.result.value),s(t)},n.onerror=e=>{i(a(e))}}catch(e){i(e)}})}}t.IndexedDBProvider=c,c.instance=null},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),n=s(6),r=s(4),o=s(0),a="LL_PostFrame",c="LL_PostForm";class l{constructor(e,t,s)sageLength=t,this.messageQueue=s}}const d=new class{constructor(){this.length=0,this.supported=!1,this.initCompleted=!1,this.storageInstance=null}async add(e){if(await this.ready(),this.supported){const s=t.Diagnostics.eventArray[e];if(void 0!==s){await this.clear(e);const t={},i=e.toString();t["messageQueueLength_"+i]=s.messageLength,t["messageQueue_"+i]=JSON.stringify(s.messageQueue),t["firstEventTime"+i]=s.firstEventTime,await this.storageInstance.SetItems("localStorageBuffer",t)}}}async getAll(e){if(await this.ready(),!this.supported)return"";let t="[";const s=await this.storageInstance.GetItem("localStorageBuffer","messageQueue_"+e.toString());if(null!==s){const e=JSON.parse(s);for(const s in e)e[s]&&(t.length>1&&(t+=","),t+=JSON.stringify(e[s]))}return t+="]",t}async clear(e){if(await this.ready(),this.supported){const t=[],s=[];null!==e?t.push(e):(t.push(0),t.push(1));for(let e=0;e<t.length;e++){const i=t[e];s.push(this.storageInstance.RemoveItem("localStorageBuffer","messageQueue_"+i)),s.push(this.storageInstance.RemoveItem("localStorageBuffer","messageQueueLength_"+i)),s.push(this.storageInstance.RemoveItem("localStorageBuffer","firstEventTime"+i))}await Promise.all(s)}}async ready(){var e;if(this.initCompleted)return;let s=null;if(await i.LLStorage.ready(),this.storageInstance=n.LocalStorageProvider.getInstance(),s=(null===(e=this.storageInstance)||void 0===e?void 0:e.Ready())?this.storageInstance.ProviderName:i.LLStorage.CurrentProvider.ProviderName,("LOCAL_STORAGE"===s||"INDEXED_DB"===s)&&(this.supported=!0,!t.Diagnostics.sendBeaconSupported)){const e=[0,1];await Promise.all(e.map(async e=>{const s=await this.storageInstance.GetItem("localStorageBuffer","firstEventTime"+e.toString());if(null!==s&&0!==parseInt(s,10)){const i=0!==e&&void 0===t.Diagnostics.eventArray[1]?0:e,n=e.toString(),r="messageQueueLength_"+n,o="messageQueue_"+n,a=await this.storageInstance.GetItems("localStorageBuffer",`${r},${o}`),c=a[r],d=a[o];t.Diagnostics.eventArray[i]=new l(parseInt(s,10),c,JSON.parse(d))}}))}this.initCompleted=!0}};class u{constructor(){this.heap={},this.length=0,this.initTime=0,this.timerWaitForPost=0,this.sendingPostNow=!1,this.blocker=!1}async add(e){await d.ready();let s=void 0===e.timestamp?o.getCurrentTime():e.timestamp;const i=this.sendingPostNow?1:0;void 0===t.Diagnostics.eventArray[i]?t.Diagnostics.eventArray[i]=new l(s,0,{}):0===t.Diagnostics.eventArray[i].firstEventTime?t.Diagnostics.eventArray[i].firstEventTime=s:s=t.Diagnostics.eventArray[i].firstEventTime,e.time=e.currentTime-s;const n=JSON.stringify(e).length;if(t.Diagnostics.eventArray[i].messageLength+=n,t.Diagnostics.eventArray[i].messageQueue[e.ID]=e,this.length+=n,!t.Diagnostics.sendBeaconSupported&&d.supported){const e=await d.getAll(0);!this.blocker&&e.length<1e6?await d.add(i):(this.blocker=!0,clearTimeout(this.timerWaitForPost),this.timerWaitForPost=0,t.Diagnostics.post(!1))}this.sendingPostNow||(0===this.initTime&&(this.initTime=e.currentTime,this.timerWaitForPost=setTimeout(t.Diagnostics.post,1e4)),this.length>=1024&&(clearTimeout(this.timerWaitForPost),this.timerWaitForPost=0,t.Diagnostics.post(!1)))}getData(e){let s="[";const i=t.Diagnostics.eventArray[e];if(void 0!==i){const e=i.messageQueue;for(const t in e)e.hasOwnProperty(t)&&(s.length>1&&(s+=","),s+=JSON.stringify(e[t]))}return s+="]",s}clear(){t.Diagnostics.eventArray[0]=void 0,t.Diagnostics.eventArray[0]=t.Diagnostics.eventArray[1];const e=t.Diagnostics.eventArray[0];if(void 0===e||0===e.firstEventTime)d.supported&&!t.Diagnostics.sendBeaconSupported&&d.clear(null),this.initTime=0;else{d.supported&&!t.Diagnostics.sendBeaconSupported&&d.add(0),this.initTime=e.firstEventTime;const s=o.getCurrentTime()-this.initTime,i=Math.max(0,1e4-s);i>0?this.timerWaitForPost=setTimeout(t.Diagnostics.post,i):t.Diagnostics.post(!1)}}}class m{constructor(e,t,s,i,n){this.ID="",this.time=0,this.currentTime=o.getCurrentTime(),this.presentationToken="",this.commandID="",this.commandName="",this.params=null,this.presentationToken=e,this.commandID=t,this.commandName=s,this.params=i,this.timestamp=n}}t.Diagnostics=new class{constructor(){this.sendBeaconSupported=!1,this.eventArray=[],this.messageQueue=null,this.postTimeout=1e4,this.contextReady=!1,this.postURL="",this.timerPostTimeout=0,this.contextID="",this.messageID=0,this.presentationToken="",this.error=!1,this.readyCallbacs=null}async event(e,s,i,n){if(this.error)return;await this.ready();const r=new m(e,s,s,i,n);r.ID=`${this.contextID.toString()}_${this.messageID.toString()}`,await t.Diagnostics.messageQueue.add(r),this.messageID++}async post(e){const s=t.Diagnostics;s.messageQueue.sendingPostNow=!0;const i=e?1:0;if(s.sendBeaconSupported){let t=!1;try{const e=s.eventArray[i].firstEventTime,n=o.getCurrentTime(),r=s.messageQueue.getData(i),a="pc_token="+s.presentationToken+"&data="+r+"&firstevent_time="+e+"&sendevent_time="+n.toString();t=navigator.sendBeacon(s.postURL,a),t&&s.post_callback()}catch(e){}t||(s.sendBeaconSupported=!1,!s.messageQueue.blocker&&d.supported&&await d.add(0),s.post(e))}else{if(0!==s.timerPostTimeout&&(clearTimeout(s.timerPostTimeout),s.timerPostTimeout=0),0!==s.messageQueue.timerWaitForPost&&(clearTimeout(s.messageQueue.timerWaitForPost),s.messageQueue.timerWaitForPost=0),null!==document.getElementById(a)||null!==document.getElementById(c))return;const e={firstTime:null,value:null};d.supported?(e.value=await d.getAll(i),e.firstTime=await d.storageInstance.GetItem("localStorageBuffer","firstEventTime"+i)):void 0!==s.eventArray[i]&&(e.firstTime=""+s.eventArray[i].firstEventTime,e.value=JSON.stringify(s.eventArray[i].messageQueue));try{const t=document.createElement("iframe");t.setAttribute("id",a),t.setAttribute("name",a),t.name=a,t.width="1px",t.height="1px",t.frameBorder="0",t.setAttribute("title","cobrowse service frame"),t.setAttribute("scrolling","no"),t.setAttribute("aria-hidden","true"),t.setAttribute("style","display: block; border: 0 none; width: 1px; height: 1px;"),document.body.appendChild(t);const i=document.createElement("form");i.setAttribute("method","POST"),i.setAttribute("target",a),i.setAttribute("name",c),i.setAttribute("action",s.postURL),i.setAttribute("id",c),i.name=c,s.embedInputELement(i,"pc_token",s.presentationToken),s.embedInputELement(i,"data",e.value),s.embedInputELement(i,"firstevent_time",e.firstTime),s.embedInputELement(i,"sendevent_time",o.getCurrentTime().toString()),document.body.appendChild(i),s.timerPostTimeout=setTimeout(s.post_timeout,s.postTimeout),i.submit()}catch(e){s.error=!0,0!==s.timerPostTimeout&&(clearTimeout(s.timerPostTimeout),s.timerPostTimeout=0)}}}init(){this.messageQueue=new u;const e={contextReady:{var i;this.contextID=t,this.presentationToken=e,this.contextReady=!0,this.postURL=s,null===(i=this.readyCallbacs)||void 0===i||i.forEach(e=>{e()}),this.readyCallbacs=null},logData:(e,t,s,i,n)=>{"num(i)&&(i=JSON.parse(i)),this.event(e,s,i,n)},logDataCallback:this.post_callback},t=this;Object.keys(e).forEach(s=>{r.MessageHandlers.add(s,t,e[s])}),o.isFunction(navigator.sendBeacon)&&(this.sendBeaconSupported=!0,window.addEventListener("unload",this.unload))}ready(){return new Promise(e=>{this.contextReady?e():(null===this.readyCallbacs&&(this.readyCallbacs=[]),this.readyCallbacs.push(e))})}post_timeout(){0!==this.timerPostTimeout&&(clearTimeout(this.timerPostTimeout),this.timerPostTimeout=0);const e=document.getElementById(a);null!==e&&document.body.removeChild(e);const s=document.getElementById(c);null!==s&&document.body.removeChild(s),t.Diagnostics.messageQueue.sendingPostNow=!1,t.Diagnostics.post(!1)}post_callback(){0!==this.timerPostTimeout&&(clearTimeout(this.timerPostTimeout),this.timerPostTimeout=0);const e=document.getElementById(a);null!==e&&document.body.removeChild(e);const s=document.getElementById(c);null!==s&&document.body.removeChild(s),t.Diagnostics.messageQueue.sendingPostNow=!1,t.Diagnostics.messageQueue.clear(),t.Diagnostics.messageQueue.blocker=!1,t.Diagnostics.messageQueue.length=0}unload(){this.sendBeaconSupported&&(void 0!==this.eventArray[0]&&t.Diagnostics.messageQueue.sendingPostNow?t.Diagnostics.post(!0):void 0!==this.eventArray[0]&&t.Diagnostics.post(!1))}embedInputELement(e,t,s){let i=null,n=!1;if(-1!==navigator.userAgent.indexOf("MSIE 7"))try{const e=o.isEmpty(s)?"":s.replace(/'/g,"*");i=document.createElement(`<input type='hidden' id='${t.toLowerCase()}' name='${t.toLowerCase()}' value='${e}' />`),n=!0}catch(e){n=!1}!1===n&&(i=document.createElement("input"),i.type="hidden",i.name=t.toLowerCase(),i.id=t.toLowerCase(),i.value=o.isEmpty(s)?"":s),e.appendChild(i)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);t.eventScopeMatches=(e,s)=>{var n,r,o,a,c,l;if(i.isEmpty(s)&&(s=t.extractLocalScope()),i.isEmpty(e)&&i.isEmpty(s))return!0;if(i.isEmpty(e)||i.isEmpty(s))return!1;const d=null===(n=s.siteCode)||void 0===n?void 0:n.toLowerCase(),u=null===(r=e.siteCode)||void 0===r?void 0:r.toLowerCase();if(void 0!==d&&void 0!==u&&u!==d)return!1;const m=null===(o=s.server)||void 0===o?void 0:o.toLowerCase().replace("https://",""),h=null===(a=e.server)||void 0===a?void 0:a.toLowerCase().replace("https://","");if(void 0!==m&&void 0!==h&&m!==h)return!1;const g=null===(c=s.SID)||void 0===c?void 0:c.toLowerCase(),p=null===(l=e.SID)||void 0===l?void 0:l.toLowerCase();return void 0===g||void 0===p||g===p},t.extractLocalScope=()=>{var e,t,s;const n=window.MCServiceAPI,r=window.Cobrowse,o={};try{if(void 0!==r&&void 0!==r.Deployment&&void 0!==r.API&&(o.siteCode=r.Deployment.siteCode,o.accessCode=r.API.Session.accessCode,o.SID=r.API.Session.SID,o.server=r.Deployment.scriptServerPath),void 0!==n&&void 0!==n.Sessions){if(i.isEmpty(o.SID)){const t=Object.keys(n.Sessions);for(let s=0;s<t.length;s++)if(void 0!==(null===(e=n.Sessions[t[s]].channels)||void 0===e?void 0:e.cobrowse)){o.SID=t[s];break}}if(i.isEmpty(o.server)){const e=n.configuration.mainServer;i.isString(e)&&(o.server=e.split("://")[1])}if(!i.isEmpty(o.SID)){const e=n.Sessions[o.SID];i.isEmpty(o.siteCode)&&(o.siteCode=e.siteCode),i.isEmpty(o.server)&&(o.server=null===(s=null===(t=e.channels)||void 0===t?void 0:t.cobrowse)||void 0===s?void 0:s.channelServer)}}if(void 0!==window.LL_Deployment){const e=window.LL_Deployment;i.isEmpty(o.siteCode)&&(o.siteCode=e.siteCode),i.isEmpty(o.server)&&(o.server=e.scriptServerPath)}i.isString(o.server)&&(o.server=o.server.replace("https://",""))}catch(e){}return o},t.getStorageInstance=()=>{const e=window.MCServiceAPI,t=window.Cobrowse;if(void 0!==t&&void 0!==t.StorageManager)return void 0!==e&&void 0===e.StorageManager&&(e.StorageManager=t.StorageManager),t.StorageManager;if(void 0!==e&&void 0!==e.StorageManager)return void 0!==t&&void 0===t.StorageManager&&(t.StorageManager=e.StorageManager,window.LL_Storage_Manager=t.StorageManager,window.LL_Storage_Manager.asyncSupported=t.StorageManager.supported),e.StorageManager;const s=window.LL_Storage_Manager;return void 0!==s?s:null}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),n=s(4),r=s(0),o=s(7),a=s(5),c=s(3);class l{constructor(){this.shortKeyName="",this.siteID=null,this.objectWindow=null,this.responseEventID="",this.eventType=5,this.keyName=()=>`${a.StorageUtils.processSiteID(this.siteID)}_${this.shortKeyName}`.toUpperCase()}}const d=new Map([[0,"SessionID"],[1,"SessionID"],[2,"_pc_token"],[3,"_pc_token"],[4,"escalation_token"]]),u=new Map([[0,"SID:"],[1,"SID:"],[2,"PCTOKEN:"],[3,"PCTOKEN:"],[4,"ESCALATIONTOKEN:"](){this.initialized=!1,this.processedEvents=[],this.listenerCollection=new Set,this.initPromise=this.init()}async ready(){return this.initPromise}async fireCallback(e,s){await t.EventManager.ready();try{const t=`${e.responseEventID}(${s})`;if(e.objectWindow.postMessage(t,"*"),0===e.eventType||1===e.eventType){await o.sleep(15e3);const t=a.StorageUtils.processSiteID(e.siteID);i.LLStorage.removeItem(t,e.shortKeyName)}}catch(e){}}async listenerInstance(e,s,i,n){if(await t.EventManager.ready(),!r.isEmpty(e)&&!r.isEmpty(i)&&!r.isEmpty(n)){let r=!1;if(0!==t.EventManager.listenerCollection.size&&t.EventManager.listenerCollection.forEach(t=>{t.siteID===e.toUpperCase()&&t.eventType===s&&t.responseEventID===i&&(r=!0)}),!1===r){const r=new l,o=d.get(s);void 0!==o&&(r.shortKeyName=o,r.objectWindow=n,r.siteID=e.toUpperCase(),r.responseEventID=i,r.eventType=s,t.EventManager.listenerCollection.add(r))}}}async newEvent(...e){await t.EventManager.ready();const s=e[0],n=e[1],o=e[2];if(!r.isEmpty(n)&&!r.isEmpty(o)){const t=4===e.length?"":e[3],c=e[e.length-1],l=()=>{if(!r.isEmpty(t)){const e=""+t;try{c.postMessage(e,"*")}catch(e){}}},m=u.get(s)+o+";time:"+r.getCurrentTime(),h=i.LLStorage;await h.setItem(a.StorageUtils.processSiteID(n),d.get(s),m),l()}}async invalidateEvent(e,s,n){await t.EventManager.ready();const o=i.LLStorage,c=a.StorageUtils.processSiteID(s);if(!r.isEmpty(c)&&!r.isEmpty(n)){const t=await o.getItem(c,d.get(e)),s=`${u.get(e)}${n.toUpperCase()}${";time:".toUpperCase()}`;null!==t&&t.toUpperCase().startsWith(s)&&await o.removeItem(c,d.get(e))}}async destroyListener(e,s,i){const n=t.EventManager;await n.ready();const o=[];r.isEmp(t=>{t.siteID===e.toUpperCase()&&t.eventType===s&&(r.isEmpty(i)||t.responseEventID===i)&&o.push(t)}),o.forEach(e=>{n.listenerCollection.delete(e)}))}async init(){if(this.initialized)return;const e={newSession:(...e)=>{const t=[0,...e];this.newEvent.apply(this,t)},ChatSessionTerminated:(...e)=>{const t=[1,...e];this.newEvent.apply(this,t)},newStandaloneSession:(...e)=>{const t=[2,...e];this.newEvent.apply(this,t)},disconnectSession:(...e)=>{const t=[3,...e];this.newEvent.apply(this,t)}nvalidateEvent(0,e,t)},invalidateChatSessionTerminated:(e,t)=>{this.invalidateEvent(1,e,t)},invalidateSession:(e,t)=>{this.invalidateEvent(2,e,t)},acceptEscalation:(...e)=>{const t=[4,...e];this.newEvent(t)},addChatSessionListener:(e,t,s)=>{this.listenerInstance(e,0,t,s)},addChatSessionTerminatedListener:(e,t,s)=>{this.listenerInstance(e,1,t,s)},addSessionStartListener:(e,t,s)=>{this.listenerInstance(e,2,t,s)},addSessionDisconnectedListener:(e,t,s)=>{this.listenerInstance(e,3,t,s)},addEscalationAcceptedListener:(e,t,s)=>{this.listenerInstance(e,4,t,s)},removeChatSessionListener:(e,t,s)=>{this.destroyListener(e,0,t)},removeChatSessionTerminatedListener:(e,t,s)=>{this.destroyListener(e,1,t)},removeSessionStartListener:(e,t,s)=>{this.destroyListener(e,2,t)},removeSessionDisconnectedListener:(e,t,s)=>{this.destroyListener(e,3,t)},removeEscalationAcceptedListener:(e,t,s)=>{this.destroyListener(e,4,t)}};e[c.STORAGE_EVENT_CMD]=(e,t)=>{const s=i.LLStorage,n=r.isString(e)?JSON.parse(e):e;if(null!==s.eventStorage){const e=null==n?void 0:n.eventObject;if(!r.isEmpty(e)){if(this.processedEvents.push(e.id),!0===e.invalidate)a.invalidateGenericEvents(s.eventStorage,e);else{const t=JSON.stringify(e);s.eventStorage.setItem(`${c.STORAGE_EVENT_CMD}.${e.id}.${e.timestamp}`,t)}}}const o=n.callbackID;if(!r.isEmpty(o)){const e=""+o;try{null==t||t.postMessage(e,"*")}catch(e){}}},Object.keys(e).forEach(t=>{n.MessageHandlers.add(t,this,e[t])});const t="localStorage"in window,s=t?15e3:5e3;t?(window.addEventListener("storage",this.onStorageChange,!1),setTimeout(this.waitForStorageEvent,500)):this.waitForStorageEvent(),setInterval(this.waitForStorageEvent,s),this.initialized=!0}onStorageChange(e){const s=t.EventManager,i=e.key,n=e.newValue;null!=n&&null!==i&&(0!==s.listenerCollection.size&&s.listenerCollection.forEach(e=>{if(e.keyName()===i.toUpperCase()){const t=s.checkIfExpired(e,n);null!==t&&s.fireCallback(e,t)}}),i.startsWith(c.STORAGE_EVENT_CMD+".")&&s.processGenericEvent(n))}checkIfExpired(e,t){-1!==t.indexOf(c.STORAGE_IE_TIME_STRING)&&(t=t.substr(0,t.indexOf(c.STORAGE_IE_TIME_STRING)));const s=t.indexOf(";time:");let i=null;if(-1!==s){const n=t.substring(s+";time:".length);if(!r.isEmpty(n))try{const o=Number(n);if(r.getCurrentTime()-o<12e4){const n=u.get(e.eventType);if(void 0!==n){const e=n.length;i=t.substring(e,s)}}}catch(e){}}return i}processGenericEvent(e,s,i){const n=t.EventManager;a.validateGenericEvent(n.processedEvents,e=>{parent.postMessage({command:c.STORAGE_EVENT_CMD,eventObject:e},"*"),n.processedEvents.push(e.id)},e,s,i)}waitForStorageEvent(){const e=t.EventManager,s=i.LLStorage;if(e.listenerCollection.forEach(t=>{r.isEmpty(t)||r.isEmpty(t.objectWindow)||r.isEmpty(t.siteID)||r.isEmpty(t.responseEventID)||(async t=>{let i=a.StorageUtils.processSiteID(t.siteID);if(!r.isEmpty(i)){const n=await s.getItem(i,t.shortKeyName);if(null===n)return;const r=e.checkIfExpired(t,n);if(null===r){const e=t.shortKeyName;i=a.StorageUtils.processSiteID(t.siteID),s.removeItem(i,e)}else e.fireCallback(t,r)}})(t)}),null!==s.eventStorage){const t=[],i=s.eventStorage;for(let s=0;s<i.length;s++){const n=i.key(s);if(null!==n&&n.startsWith(c.STORAGE_EVENT_CMD+".")){const s=i.getItem(n);e.processGenericEvent(s,n,t)}}for(let e=0;e<t.length;e++)i.removeItem(t[e])}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),n=s(0);class r extends i.StorageProvider{constructor(){super(...arguments),this.ProviderName="SESSION_STORAGE"}static getInstance(){return null===this.instance&&(this.instance=new this),this.instance}async Supported(){if("sessionStorage"in window)try{return sessionStorage.setItem("LLtestItem","1"),sessionStorage.removeItem("LLtestItem"),/trident\/7.0/i.test(navigator.userAgent)?-1:1}catch(e){}return this.InitError=!0,-1}async GetItem(e,t){let s=null;try{if(!n.isEmpty(e)&&!n.isEmpty(t)){const i=`${e}_${t}`;s=sessionStorage.getItem(i)}}catch(e){}return s}async GetItems(e,t){const s={},i=[];if(!n.isEmpty(e)&&!n.isEmpty(t)){t.split(",").forEach(t=>{i.push(new Promise(async i=>{s[t]=await this.GetItem(e,t),i()}))})}return await Promise.all(i),s}async SetItem(e,t,s){try{if(!n.isEmpty(e)&&!n.isEmpty(t)){const i=`${e}_${t}`;sessionStorage.setItem(i,s)}}catch(e){}}async SetItems(e,t){const s=[];if(!n.isEmpty(e)&&!n.isEmpty(t))try{Object.keys(t).forEach(i=>{s.push(new Promise(async s=>{const n=t[i];await this.SetItem(e,i,n),s()}))})}catch(e){}await Promise.all(s)}async RemoveItem(e,t){if(!n.isEmpty(e)&&!n.isEmpty(t))try{const s=`${e}_${t}`;sessionStorage.removeItem(s)}catch(e){}}async Clear(e){if(!n.isEmpty(e))try{for(let t=sessionStorage.length-1;t>-1;t--){const s=sessionStorage.key(t);null!==s&&s.startsWith(e)&&sessionStorage.removeItem(s)}}catch(e){}}}t.SessionStorageProvider=r,r.rty(t,"__esModuletructor(){super(...arguments),this.ProviderName="COOKIE"}static getInstance(){return null===this.instance&&(this.instance=new this),this.instance}async GetItem(e,t){let s=null;try{if(!n.isEmpty(e)&&!n.isEmpty(t)){const i=`${e}_${t}`.toLowerCase();document.cookie.split(";").forEach(e=>{if(null===s){let t=e.substr(0,e.indexOf("="));if(t=t.replace(/^\s+|\s+$/g,"").toLowerCase(),t===i){const t=e.substr(e.indexOf("=")+1);s=decodeURIComponent(t)}}})}}catch(e){}return s}async GetItems(e,t){const s=t.split(","),i={},n=[];return s.forEach(t=>{n.push(new Promise(async s=>{i[t]=await this.GetItem(e,t),s()}))}),await Promise.all(n),i}async SetItem(e,t,s,i=!0){try{if(!n.isEmpty(e)&&!n.isEmpty(t)){const n=`${e}_${t}`,r=new Date;r.setDate(r.getDate()+1);let o=`${encodeURIComponent(s)}; expires = ${r.toUTCString()}; samesite=strict;`;i&&(o+=" secure;"),document.cookie=`${n} = ${o}`}}catch(e){}}async SetItems(e,t,s=!0){try{if(null!==t){const i=[];for(const n of Object.keys(t))i.push(new Promise(async i=>{const r=t[n];await this.SetItem(e,n,r,s),i()}));await Promise.all(i)}}catch(e){}}async RemoveItem(e,t){try{if(!n.isEmpty(e)&&!n.isEmpty(t)){const s=`${e}_${t}`;document.cookie.split(";").forEach(e=>{e.substr(0,e.indexOf("=")).replace(/^\s+|\s+$/g,"")===s&&(document.cookie=s+" = ;;expires=Thu, 01 Jan 1970 00:00:01 GMT")})}}catch(e){}}async Clear(e){try{if(!n.isEmpty(e)){document.cookie.split(";").forEach(t=>{const s=t.substr(0,t.indexOf("=")).replace(/^\s+|\s+$/g,"");s.startsWith(e+"_")&&(document.cookie=s+" = ;;expires=Thu, 01 Jan 1970 00:00:01 GMT")})}}catch(e){}}}t.CookieProvider=r,r.instance=null}]);
//# sourceMappingURL=es6.prod.bundle.js.map</script></body>
</html>