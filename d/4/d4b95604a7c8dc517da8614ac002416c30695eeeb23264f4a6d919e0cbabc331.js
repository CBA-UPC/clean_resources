"use strict";(self.webpackChunkphotobucket_web=self.webpackChunkphotobucket_web||[]).push([[1515],{91515:function(i,e,t){t.r(e),t.d(e,{default:);var o=t(61113),n=t(19655),l=t(16031),r=t(17455),d=t(31805),s=t(86948),a=t(8566),c=t(19536),v=t(82374),x=t.n(v),h=t(25258),u=t(19860),p=t(24813),m=t(93289),g=t(17592),j=t(46417),f=(0,g.ZP)("div")({overflow:"hidden",maxWidth:"100%",borderRadius:"8px"});function y(){return(0,j.jsx)("div",{children:(0,j.jsx)(f,{children:(0,j.jsx)("img",{src:"https://hosting.photobucket.com/non-image.jpg",alt:"The media doesn't exist or is no longer available.",style:{height:"655px",width:"auto",objectFit:"contain",borderRadius:"8px",objectPosition:"50% 50%"}})})})}var b=t(29439),Z=t(9019);function k(i){var e,t,o,n=i.media,l=(0,b.Z)(n,1)[0],r=void 0===l?void 0:l;return(0,j.jsx)("div",{style:{padding:4,marginBottom:24},children:(0,j.jsx)(Z.ZP,{container:!0,spacing:1,children:(0,j.jsx)(Z.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,sx:{position:"relative",height:600},children:(0,j.jsx)("img",{src:null!==(e=null!==(t=null===r||void 0===r?void 0:r.imageUrl)&&void 0!==t?t:null===r||void 0===r?void 0:r.imageUrl)&&void 0!==e?e:"https://hosting.photobucket.com/non-image.jpg",alt:null!==(o=null===r||void 0===r?void 0:r.description)&&void 0!==o?o:"No description available",style:{borderRadius:"8px",objectFit:"cover",height:"100%",width:"100%"}})})})})}var w="https://hosting.photobucket.com/non-image.jpg";function U(i){var e,t,o,n,l,r,d,s,a,c=i.media,v=(0,b.Z)(c,3),x=v[0],h=void 0===x?void 0:x,u=v[1],p=void 0===u?void 0:u,m=v[2],g=void 0===m?void 0:m;return(0,j.jsx)("div",{style:{padding:4,marginBottom:24},children:(0,j.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(Z.ZP,{item:!0,xl:8,lg:8,md:8,sm:8,xs:8,sx:{position:"relative",height:600},children:(0,j.jsx)("img",{src:null!==(e=null!==(t=null===h||void 0===h?void 0:h.imageUrl)&&void 0!==t?t:null===h||void 0===h?void 0:h.imageUrl)&&void 0!==e?e:w,alt:null!==(o=null===h||void 0===h?void 0:h.description)&&void 0!==o?o:"No description available",style:{borderRadius:"8px",objectFit:"cover",height:"100%",width:"100%"}})}),(0,j.jsx)(Z.ZP,{item:!0,xl:4,lg:4,md:4,sm:4,xs:4,children:(0,j.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(Z.ZP,{item:!0,xs:12,sx:{position:"relative",height:300},children:(0,j.jsx)("img",{src:null!==(n=null!==(l=null===p||void 0===p?void 0:p.imageUrl)&&void 0!==l?l:null===p||void 0===p?void 0:p.imageUrl)&&void 0!==n?n:w,alt:null!==(r=null===p||void 0===p?void 0:p.description)&&void 0!==r?r:"No description available",style:{borderRadius:"8px",objectFit:"cover",height:"100%",width:"100%"}})}),(0,j.jsx)(Z.ZP,{item:!0,xs:12,sx:{position:"relative",height:300},children:(0,j.jsx)("img",{src:null!==(d=null!==(s=null===g||void 0===g?void 0:g.imageUrl)&&void 0!==s?s:null===g||void 0===g?void 0:g.imageUrl)&&void 0!==d?d:w,alt:null!==(a=null===g||void 0===g?void 0:g.description)&&void 0!==a?a:"No description available",style:{borderRadius:"8px",objectFit:"cover",height:"100%",width:"100%"}})})]})})]})})}function M(i){var e=i.media,t=i.count-3;return t<=0?(0,j.jsx)(U,{media:e}):(0,j.jsxs)("div",{style:{display:"flex",alignItems:"row",width:"100%"},children:[(0,j.jsx)("div",{style:{flex:1,paddingRight:"12px"},children:(0,j.jsx)(U,{media:e})}),(0,j.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",flexShrink:4,height:"auto"},children:(0,j.jsx)("div",{style:{border:"1px",borderStyle:"solid",borderColor:"#475569",borderRadius:"4px",padding:"6px 12px",opacity:".6",marginBottom:"26px"},children:(0,j.jsxs)(o.Z,{variant:"h4",sx:{color:"#475569"},children:["+",t]})})})]})}var P="https://hosting.photobucket.com/non-image.jpg";function R(i){var e,t,o,n,l,r,d=i.media,s=(0,b.Z)(d,2),a=s[0],c=void 0===a?void 0:a,v=s[1],x=void 0===v?void 0:v;return(0,j.jsx)("div",{style:{padding:4,marginBottom:24},children:(0,j.jsxs)(Z.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(Z.ZP,{item:!0,xl:6,lg:6,md:6,sm:6,xs:6,sx:{position:"relative",height:600},children:(0,j.jsx)("img",{src:null!==(e=null!==(t=null===c||void 0===c?void 0:c.imageUrl)&&void 0!==t?t:null===c||void 0===c?void 0:c.imageUrl)&&void 0!==e?e:P,alt:null!==(o=null===c||void 0===c?void 0:c.description)&&void 0!==o?o:"No description available",style:{borderRadius:"8px",objectFit:"cover",height:"100%",width:"100%"}})}),(0,j.jsx)(Z.ZP,{item:!0,xl:6,lg:6,md:6,sm:6,xs:6,sx:{position:"relative",height:600},children:(0,j.jsx)("img",{src:null!==(n=null!==(l=null===x||void 0===x?void 0:x.imageUrl)&&void 0!==l?l:null===x||void 0===x?void 0:x.imageUrl)&&void 0!==n?n:P,alt:null!==(r=null===x||void 0===x?void 0:x.description)&&void 0!==r?r:"No description available",style:{borderRadius:"8px",objectFit:"cover",height:"100%",width:"100%"}})})]})})}function S(i){var e=i.activity,t=(0,u.Z)(),n=(0,p.Z)(t.breakpoints.down("sm")),l=e.user,r=e.count,d=l.firstName,s=void 0===d?"":d,a=l.lastName,v=void 0===a?"":a,x=l.userId,h=s?[s,v].join(" ").trim():x,g=e.media.filter((function(i){var e;return Boolean(null!==(e=i.imageUrl)&&void 0!==e?e:i.signedUrl)})),f=g.length,b=(0,j.jsxs)("div",{style:{display:"flex",marginBottom:"16px"},children:[(0,j.jsx)(m.Z,{color:"primary",style:{fontSize:"24px",marginRight:"8px",flexShrink:0,marginTop:"4px"}}),(0,j.jsxs)("div",{style:{flex:1,overflowWrap:"anywhere"},children:[(0,j.jsx)("strong",{children:h}),"\xa0",(0,j.jsx)("span",{children:"uploaded ".concat(r," photos")})]})]});return n?(0,j.jsxs)("div",{style:{flex:1},children:[(0,j.jsx)(o.Z,{sx:{fontSize:"20px"},children:b}),(0,j.jsx)(k,{media:g}),(0,j.jsx)(c.Z,{})]}):(0,j.jsxs)("div",{style:{flex:1,width:"100%",border:"1px solid #E9EDF9",borderRadius:"8px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.1)",padding:"10px 20px",marginBottom:"16px"},children:[(0,j.jsx)(o.Z,{sx:{fontSize:"20px",my:1},children:b}),0===f&&(0,j.jsx)(y,{}),1===f&&(0,j.jsx)(k,{media:g}),2===f&&(0,j.jsx)(R,{media:g}),f>=3&&(0,j.jsx)(M,{media:g,count:r})]})}t(47313);var T=t(55379);function B(i){var e=i.activity.user,t=e.firstName,o=void 0===t?"":t,n=e.lastName,l=void 0===n?"":n,r=e.userId,d=o?[o,l].join(" ").trim():r;return(0,j.jsx)("div",{style:{width:"100%",border:"1px solid #E9EDF9",borderRadius:"8px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.1)",padding:"10px 20px",marginBottom:"16px"},children:(0,j.jsxs)("div",{style:{display:"flex",marginBottom:"16px"},children:[(0,j.jsx)(T.Z,{color:"primary",style:{fontSize:"24px",marginRight:"8px",flexShrink:0}}),(0,j.jsxs)("div",{style:{flex:1,overflowWrap:"anywhere",padding:"4px"},children:[(0,j.jsx)("strong",{children:d}),"\xa0",(0,j.jsx)("span",{children:"has joined the bucket."})]})]})})}function D(i){var e=i.activity;return"BucketJoinedMembersActivity"===e.__typename?(0,j.jsx)(B,{activity:e}):"BucketUploadedMediaActivity"===e.__typename?(0,j.jsx)(S,{activity:e}):(h.Z.error("Invalid Activity type: ",{activity:e}),null)}function E(i){var e,t=i.item,n=x().utc(t.date).clone().local().calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"DD/MM/YYYY"});return(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"18px"},children:[(0,j.jsx)(o.Z,{variant:"h5",sx:{color:"#1C47CB",fontWeight:"600",mb:1},children:n}),(0,j.jsx)(c.Z,{sx:{mb:2}}),null===(e=t.activities)||void 0===e?void 0:e.map((function(i){return(0,j.jsx)(D,{activity:i},i.timestamp)}))]})}function N(i){var e=i.items,t=i.fetchMore,n=i.hasMore;return(0,j.jsx)("div",{style:{flex:1,position:"relative"},children:(0,j.jsx)(a.Z,{children:function(i){var l=i.height,r=i.width;return(0,j.jsx)("div",{style:{height:l,width:r,position:"relative"},id:"activity-feed",children:(0,j.jsx)(s.Z,{dataLength:e.length,loader:(0,j.jsx)(o.Z,{variant:"h6",align:"center",children:"Loading..."}),next:t,hasMore:n,scrollableTarget:"activity-feed",children:e.map(()})})}})})}var F=t(58467),z=t(72668),A=t(80082),C=t(28422);var I=function(){var i=(new Date).getTimezoneOffset(),e=Math.abs(i),t=Math.floor(e/60),o=e%60;return"".concat((i<=0?"+":"-")+String(t).padStart(2,"0"),":").concat(String(o).padStart(2,"0"))}();function W(){var i=function(i){var e,t,o,n,r,d=(0,F.UO)(),s=null===d||void 0===d?void 0:d.bucketId,a=(0,A.Z)().createAlert,c=null!==i&&void 0!==i?i:20,v=(0,z.a)(C.ioM,{fetchPolicy:"network-only",skip:!s,variables:{bucketId:s,limit:c,timezone:I},onError:function(i){i.graphQLErrors.length?i.graphQLErrors.forEach(():a("There was a problem retrieving your bucket activities. Please try again later.")}}),x=null!==(e=null===(t=v.data)||void 0===t||null===(o=t.bucketActivities)||void 0===o?void 0:o.items)&&void 0!==e?e:[],h=null===(n=v.data)||void 0===n||null===(r=n.bucketActivities)||void 0===r?void 0:r.nextToken;return{items:x,loading:!v.called||v.loading,fetchMore:(0,l.debounce)((function(){h&&v.fetchMore({variables:{nextToken:h}})}),500,{leading:!0}),nextToken:h}}(),e=i.items,t=i.loading,d=i.fetchMore,s=i.nextToken,a=(0,n.v0)().currentUser,c=null===a||void 0===a?void 0:a.uid;return t||!c?(0,j.jsx)(r.Z,{}):(0,l.isEmpty)(e)?(0,j.jsx)(o.Z,{align:"center",variant:"h5",sx:{marginTop:12},children:"This bucket has no activity"}):(0,j.jsx)(N,{items:e,fetchMore:d,hasMore:!!s})}}]);