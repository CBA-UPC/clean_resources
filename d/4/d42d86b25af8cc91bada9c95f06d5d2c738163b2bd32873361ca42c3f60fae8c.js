/**
 * Copyright 2019 Adobe. All rights reserved.
 * This file is licensed to you under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License. You may obtain a copy
 * of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 * OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */

!function(){"use strict";if(document.documentMode&&document.documentMode<11)console.warn("The Adobe Experience Cloud Web SDK does not support IE 10 and below.");else{var e="Chrome",n="Edge",t="EdgeChromium",r="Unknown",o=i=[e,n,t,"IE",r],a=function(e){return o(i,e)},c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,f=)?Object.assign:d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=mo((),g={get:l.get,set:l.set,remove:l.remove},p=v=m=h=y=w=b=),C=E=I=function(e,n){return e.appendChild(n)},R=D=k="IMG",S="STYLE",O="SCRIPT",x="src",q=P=function(e){return"function"==typeof e},A=j=M=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return j(n.querySelectorAll(e))},N={childList:!0,subtree:!0},T=U=B=F=_=function(e){return"visible"===e.visibilityState},V=H=L=z=J=q,W={name:"Adobe Alloy"},X={style:{display:"none",width:0,height:0}},Q=function(e){var n=e.hideReferrer,t=e.url;return n?function(e){var n=e.src;return L("BODY").then((function(e){var n=Eo(e,1)[0],t=D("IFRAME",W,X);return I(n,t)})).then(()}({src:t}):J({src:t})},$=G="com.adobe.alloy.",K=G+"getTld",Y=Z=ee=ne=te=function(e,n,t){return{getItem:setItem:clear:function(){try{return Object.keys(e[n]).forEach((function(r){var o;o=t,r.substr(0,o.length)===o&&e[n].removeItem(r)})),!0}catch(e){return!1}}}},re=oe=ie=ae=ce=function(e){return"string"==typeof e},ue=se=function(){},fe=de=le=ge=pe=mo(();pe.decode,pe.parse,pe.encode,pe.stringify;for(var ve=me=he=ye=we=function(e){var n=e.getFullYear(),t=fe(e.getMonth()+1,2,"0"),r=fe(e.getDate(),2,"0"),o=fe(e.getHours(),2,"0"),i=fe(e.getMinutes(),2,"0"),a=fe(e.getSeconds(),2,"0"),c=fe(e.getMilliseconds(),3,"0"),u=e.getTimezoneOffset();return n+"-"+t+"-"+r+"T"+o+":"+i+":"+a+"."+c+(u>0?"-":"+")+fe(Math.floor(Math.abs(u)/60),2,"0")+":"+fe(Math.abs(u)%60,2,"0")},be=mo((),Ce=[],Ee=0;Ee<256;++Ee)Ce[Ee]=(Ee+256).toString(16).substr(1);var Ie=Re=De=ke=Se=Oe=xe=function(e,n){return Se(P(e),e,n,"a function"),e},qe=Pe=Ae=/^[a-z0-9.-]{1,}$/i,je=Me=function(e,n){return Se(ae(e),e,n,"an integer"),e},Ne=function(e,n){return Se(ie(e),e,n,"a number"),e},Te=Ue=Be=Fe=function(e){return e};Fe.default=Fe.required=function(){return De(this,Ue)};var _e=function(){return ke(this,je)},Ve=function(e){return ke(this,qe("an integer",e))},He=Le=ze=function(){return ke(this,Pe("a non-empty string"))},Je=function(){return ke(this,Pe("a non-empty array"))},We=Xe=function(){return ke(this,Te)},Qe=$e=bind(Fe),Ge=function(){return ke(this,Fe)}.bind(Fe),Ke=function(e){return ke(this,e),{nonEmpty:Je})}.bind(Fe),Ye=function(){return ke(this,Oe)}.bind(Fe),Ze=bind(Fe),en=bind(Fe);(.bind(Fe);var nn=bind(Fe),tn=bind(Fe),rn=bind(Fe),on=an=nn(Ke(tn({authenticatedState:on("ambiguous","authenticated","loggedOut"),id:rn(),namespace:tn({code:rn()}).noUnknownFields(),primary:Ye(),xid:rn()})).required()),cn=un=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick"],sn=fn=dn=function(){var e={},n={};return{register:function(t,r){var o=r.commands,i=r.lifecycle;!t,o),t,i)},getCommand:function(n){return e[n]},getCommandNames:function(){return Object.keys(e)},getLifecycleCallbacks:},ln="in",gn="pending",pn="general",vn="declinedConsent",mn="default",hn="initial",yn="new",wn=bn=function(e){var n=e.logger,t=[],r=function(){return Promise.resolve()},o=function(){return Promise.resolve()},i=function(){return Promise.reject(wn("No consent preferences have been set."))},a=c=return{in:out:pending:awaitConsent:},Cn=En={CONFIGURE:"configure",SET_DEBUG:"setDebug"},In=function(e){var n,t=e.logger,r=e.configureCommand,o=e.setDebugCommand,i=e.handleError,a=e.validateCommandOptions,c=function(e,i){var c;if(e===En.CONFIGURE){if(n)throw new Error("The library has already been configured and may only be configured once.");c=else{if(!n)throw new Error("The library must be configured first. Please do so by executing the configure command.");c=e===En.SET_DEBUG?function(){return o(i)}:function(){return n.then((function(n){var t,r=n.getCommand(e);if(!r||!P(r.run)){var o=(t=En,Object.keys(t).map((function(e){return t[e]}))).concat(n.getCommandNames()).join(", ");throw new Error("The "+e+" command does not exist. List of available commands: "+o+".")}var c=a({command:r,options:i});return r.run(c)}),()}}return c};return ,Rn=Dn=function(e){var n=e.eventManager,t=e.logger;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/2r0uUjh",optionsValidator:function(e){return {options:e,logger:t})},run:}}};Dn.namespace="DataCollector",Dn.configValidators={};var kn=function(e){var n=e.config,t=e.eventManager,r=e.lifecycle,o=e.handleError;if(n.clickCollectionEnabled){var i={eventManager:t,lifecycle:r,handleError:o});document.addEventListener("click",i,!0)}},Sn={clickCollectionEnabled:Ye().default(!0),downloadLinkQualifier:rn().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$")},On=xn=function(e){var n=e.config,t=e.eventManager,r=e.handleError,o=function(e,n){return function(t,r){var o=r);if(o){var i=e,o);if(i){var a=On(e,n,i,o);t.documentMayUnload(),t.mergeXdm({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:"Link Click",type:a,URL:i,linkClicks:{value:1}}}})}}}}(window,n);return{lifecycle:{onComponentsRegistered:onClick:}};xn.namespace="ActivityCollector",xn.configValidators=Sn;var qn,Pn,An,jn=function(e,n){return"ID sync "+(n?"succeeded":"failed")+": "+e.spec.url},Mn={thirdPartyCookiesEnabled:Ye().default(!0),idMigrationEnabled:Ye().default(!0)},Nn=function(e){return tn({namespaces:Ke(en("ECID")).nonEmpty()}).noUnknownFields()(e),{namespaces:["ECID"]}},Tn=Y(window,g),Un=function(e){var n=e.config,t=e.getEcidFromVisitor,r=n.idMigrationEnabled,o="AMCV_"+n.orgId;return{getEcid:function(){if(r){var e=);return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid:function(e){r&&!g.get(o)&&g.set(o,"MCMID|"+e,{domain:Tn,expires:390})}}},Bn=Fn=function(e){var n=e.logger,t=e.orgId,r=e.awaitVisitorOptIn,o=window);return function(){return o?r({logger:n}).then(().catch(():Promise.resolve()}},_n="ECID",Vn=Hn=(qn=An=new Map,,Ln=zn=Jn=Wn=function(e){return Jn({payload:e,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},Xn=Qn=$n=Gn=function(e){var n=e.config,t=e.logger,r=e.consent,o=e.sendEdgeNetworkRequest,i=n.orgId,c=n.thirdPartyCookiesEnabled,u=Fn({logger:t,orgId:i,awaitVisitorOptIn:Bn}),s=Un({config:n,getEcidFromVisitor:u}),d=ne({orgId:i}),l={sendEdgeNetworkRequest:o,createIdentityRequestPayload:$n,createIdentityRequest:Wn}),g={thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:a}),p={getLegacyEcid:s.getEcid,addEcidToPayload:Ln}),v={orgId:i,doesIdentityCookieExist:d}),m={doesIdentityCookieExist:d,setDomainForInitialIdentityPayload:g,addLegacyEcidToPayload:p,awaitIdentityCookie:v,logger:t}),h={processIdSyncs:{fireReferrerHideableImage:Q,logger:t})});return function(e){var n,t=e.addEcidQueryToPayload,r=e.ensureSingleIdentity,o=e.setLegacyEcid,i=e.handleResponseForIdSyncs,a=e.getEcidFromResponse,c=e.getIdentity,u=e.consent,s={};return{lifecycle:{onBeforeRequest:onResponse:,commands:{getIdentity:{optionsValidator:Nn,run:}}}({ensureSingleIdentity:m,addEcidQueryToPayload:Vn,setLegacyEcid:s.setEcid,handleResponseForIdSyncs:h,getEcidFromResponse:zn,getIdentity:l,consent:r})};Gn.namespace="Identity",Gn.configValidators=Mn;var Kn=Yn=function(e){var n=e.fireReferrerHideableImage,t=e.logger;return function(e){return function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var n=e.spec,t=n.name,r=n.value,o=n.domain,i=n.ttlDays;g.set(t,r||"",{domain:o||"",expires:i||10})}))}(e),n,t,e)}},Zn=function(e){var n=e.logger,t=Yn({fireReferrerHideableImage:Q,logger:n});return{lifecycle:{onResponse:,commands:{}}};Zn.namespace="Audiences",Zn.configValidators={};var et,nt="__view__",tt="https://ns.adobe.com/personalization/dom-action",rt="https://ns.adobe.com/personalization/redirect-item",ot=function(e){var n=e.logger,t=e.fetchDataHandler,r=e.viewChangeHandler,i=e.onClickHandler,a=e.isAuthoringModeEnabled,c=e.mergeQuery,u=e.viewCache;return{lifecycle:{onBeforeEvent:function(e){var i=e.event,s=e.renderDecisions,f=e.decisionScopes,d=void 0===f?[]:f,l=e.onResponse,g=void 0===l?se:l,p=e.onRequestFailure,v=void 0===p?se:p;if(a())return n.warn("Rendering is disabled for authoring mode."),void c(i,{enabled:!1});var m=function(e){var n=e.renderDecisions,t=e.decisionScopes,r=e.event,i=e.viewCache,a=r.getViewName();return{isRenderDecisions:function(){return n},getViewName:function(){return a},hasScopes:hasViewName:createQueryDetails:function(){var e=Io(t);this.isCacheInitialized()||o(e,nt)||e.push(nt);var n=["https://ns.adobe.com/personalization/html-content-item","https://ns.adobe.com/personalization/json-content-item",rt];return o(e,nt)&&n.push(tt),{schemas:n,decisionScopes:e}},isCacheInitialized:function(){return i.isInitialized()},shouldFetchData:shouldUseCachedData:}({renderDecisions:s,decisionScopes:d,event:i,viewCache:u});if(m.shouldFetchData()){var h=C();return u.storeViews(h.promise),void t({decisionsDeferred:h,personalizationDetails:m,event:i,onResponse:g,onRequestFailure:v})}m.shouldUseCachedData()&&r({personalizationDetails:m,onResponse:g,onRequestFailure:v})},onClick:}},it=at=mo((})),ct=/:eq\((\d+)\)/g,u},st=/(#|\.)(-?\w+)/g,ft=/^\s*>?\s*/,d},lt=function(e){for(var n=[],}(e.trim())),r=t.length,o=0;o<r;){var i=t[o].replace(ft,"").trim(),a=t[o+1];a?n.push({sel:i,eq:Number(a)}):n.push({sel:i}),o+=2}return n},g},p},v},m},ht=function(e){return e.parentNode},y},w},bt=function(e){var n=e.childNodes;return n?j(n):[]},Ct=function(e){return e.firstElementChild},E},It="alloy-prehiding",Rt={},D},k},S},O},x},q},P},A},jt=setTimeout;xo.prototype.catc},xo.prototype.the},xo.prototype.finall},xo.al},xo.resolv},xo.rejec},xo.rac},xo._immediateFn="function"==typeof setImmediate}},xo._unhandledRejectionF};var Mt,Nt=(Mt=Object.freeze({__proto__:null,default:xo}))&&Mt.default||Mt,Tt="undefined"!=typeof window&&window.Promise||void 0!==d&&d.Promise||Nt.default||Nt,U},B},F},_},V},H},L},z},Jt=function(e,n){var t=it(n);At(t);var r=bt(t),o=Vt(t),i=Ht(t);return qt(t),r.forEach((function(n){I(e,n)})),Lt(e,o,I),zt(i)},W},Xt=function(e,n){var t=it(n);At(t);var r=bt(t),o=Vt(t),i=Ht(t),a=r.length-1;for(qt(t);a>=0;){var c=r[a],u=Ct(e);u?wt(u,c):I(e,c),a-=1}return Lt(e,o,I),zt(i)},Qt=function(e,n){var t=it(n);At(t);var r=bt(t),o=Vt(t),i=Ht(t);return qt(t),r.forEach((function(n){wt(e,n)})),Lt(e,o,wt),zt(i)},$},G},Kt=function(e,n){var t=n.priority,r=Co(n,["priority"]);Object.keys(r).forEach}))},Y},Z},e},n},tr=function(e){return{setHtml:nr(Wt),customCode:nr(Xt),setText:nr(Ot),setAttribute:nr(Yt),setImageSource:nr(Zt),setStyle:nr(Kt),move:nr(Kt),resize:nr(Kt),rearrange:nr(er),remove:nr(z),insertAfter:nr(Gt),insertBefore:nr(Qt),replaceHtml:nr($t),prependHtml:nr(Xt),appendHtml:nr(Jt),clic}}},r},o},ir=function(e,n,t){var r=e.map((function(e){var r=rr(e),o=r.type;retur}(t,n,o,[r]).then})).catch}))}));return Promise.all(r)},a},cr=function(e){var n=e.modules,t=e.logger,r=e.executeActions,o=e.collect;return function(e){var i=e.map((function(e){var o=function(e){var n={id:e.id,scope:e.scope,scopeDetails:e.scopeDetails};return e.items.map}))}(e);return r(o,n,t)}));return Promise.all(i).then((function(e){retur}(o,t,e)})).catch}))}},u},s},f},d},l},g},p},v},mr=function(e,n){var t=[],r=[];return e.forEach((function(e){var o=e.items,i=E}(void 0===o?[]:o,n),2),a=i[0],c=i[1];A(a)&&t.push(vr(e,a)),A(c)&&r.push(vr(e,c))})),{matchedDecisions:t,unmatchedDecisions:r}},hr=function(e){var n=mr(e,rt),t=mr(n.unmatchedDecisions,tt),}(t.matchedDecisions,nt),o=r.pageWideScopeDecisions,i=r.nonPageWideScopeDecisions;return{redirectDecisions:n.matchedDecisions,pageWideScopeDecisions:o,viewDecisions:i,nonAutoRenderableDecisions:t.unmatchedDecisions}},yr=function(){var e={};return{storeClickMetric},getClickSelector},getClickMetasBySelector:function(n){return e[n}(e[n]):{}}}},w},br=function(e){var n,t,r=e.config,o=e.logger,i=e.eventManager,}({eventManager:i,mergeDecisionsMeta:lr}),}({eventManager:i,mergeDecisionsMeta:lr}),u=yr(),s=u.getClickMetasBySelector,d=u.getClickSelectors,l=u.storeClickMetrics,g=(t=C(),{storeView},getVie},isInitialize}}),p=tr(l),v=cr({modules:p,logger:o,executeActions:ir,collect:a}),m=cr({modules:p,logger:o,executeActions:ir,collect:c}),}({collect:a,window:window,logger:o,showContainers:St}),y=function(e){var n=e.executeViewDecisions,t=e.collect;return function(e){var r=e.viewName,o=e.viewDecisions;A(o)?n(o):t({decisionsMeta:[],xdm:{web:{webPageDetails:{viewName:r}}}})}}({viewCache:g,executeViewDecisions:m,collect:c}),}({config:r,responseHandle}({autoRenderingHandler:function(e){var n=e.viewCache,t=e.executeDecisions,r=e.executeCachedViewDecisions,o=e.showContainers;return function(e){var i=e.viewName,a=e.pageWideScopeDecisions,c=e.nonAutoRenderableDecisions;return i?n.getView(i).then((function(e){return t(a),r({viewName:i,viewDecisions:e}),o(),{decisions:Io(c),propositions:[].concat(Io(pr({decisions:[].concat(Io(a),Io(e)),renderAttempted:!0})),Io(pr({decisions:c,renderAttempted:!1})))}})):(t(a),o(),{decisions:Io(c),propositions:[].concat(Io(pr({decisions:a,renderAttempted:!0})),Io(pr({decisions:c,renderAttempted:!1})))})}}({viewCache:g,executeDecisions:v,executeCachedViewDecisions:y,showContainers:St}),nonRenderingHandler:wr({viewCache:g}),groupDecisions:hr,handleRedirectDecisions:h,showContainers:St}),showContainers:St,hideContainers:kt,mergeQuery:gr}),}({mergeDecisionsMeta:lr,collectClicks:fr,getClickSelectors:d,getClickMetasBySelector:s}),E=function(e){var n=e.executeCachedViewDecisions,t=e.viewCache,r=e.showContainers;return function(e){var o=e.personalizationDetails,i=e.onResponse,a=e.onRequestFailure,c=o.getViewName();return t.getView(c).then((function(e){o.isRenderDecisions()&&n({viewName:c,viewDecisions:e}),i((function(){return o.isRenderDecisions()?{propositions:pr({decisions:e,renderAttempted:!0})}:{decisions:e,propositions:pr({decisions:e,renderAttempted:!1})}})),a}))}))}}({executeCachedViewDecisions:y,viewCache:g,showContainers:St});return ot({logger:o,fetchDataHandler:w,viewChangeHandler:E,onClickHandler:b,isAuthoringModeEnabled:dr,mergeQuery:gr,viewCache:g})};br.namespace="Personalization",br.configValidators={prehidingStyle:rn().nonEmpty()};var Cr,Er="2.6.4",I}(window),Rr=function(e){return function(n){var t=e.screen,r=t.width,o={screenHeight:t.height,screenWidth:r},}(e)}(e);i&&(o.screenOrientation=i),h(n,{device:o})}}(window),D}(window),kr=(Cr=function(){return new Date}),S}})),Or={web:Ir,device:Rr,environment:Dr,placeContext:kr},xr=[S}],qr=function(e){return function(e,n,t,r){var o=e.context,i=$(o})).concat(r);return{namespace:"Context",lifecycle:{onBeforeEven}}}}(e.config,e.logger,Or,xr)};qr.namespace="Context",qr.configValidators={context:Ke(rn()).default(Object.keys(Or))};var P},A},j},M},N},T},Ur=tn({consent:Ke(Ge()).required().nonEmpty(),identityMap:an}).noUnknownFields().required(),Br=function(e){var n,t,r=e.config,o=e.consent,i=e.sendEdgeNetworkRequest,a=e.createNamespacedStorage,c=r.orgId,u=r.defaultConsent,}({parseConsentCookie:Tr,orgId:c,cookieJar:g}),f=(n=0,t=Promise.resolve(),{addTas},get length(){return n}}),}({createConsentRequestPayload:Mr,createConsentRequest:Nr,sendEdgeNetworkRequest:i}),l=function(e){var n=e.storage;return{clear:function(){n.clear()},lookup:function(e){var t={},r=function(e){var n=jr(e);e.standard,e.version;var r=Co(e,["standard","version"]);return t[n]||(t[n]=Ar(r).toString()),t[n]};return{isNe},sav}}}}}({storage:a(Z(c)+".consentHashes.").persistent}),p=ne({orgId:c});retur}({storedConsent:s,taskQueue:f,defaultConsent:u,consent:o,sendSetConsentRequest:d,validateSetConsentOptions:Ur,consentHashStore:l,doesIdentityCookieExist:p})};Br.namespace="Privacy";var F},_};_r.namespace="EventMerge",_r.configValidators={};var V};Vr.namespace="LibraryInfo";var Hr,Lr,zr=[Dn,xn,Gn,Zn,br,qr,Br,_r,Vr],Jr=function(e){var n=e.options,t=e.componentCreators,r=e.coreConfigValidators,o=e.createConfig,i=e.logger,a=e.setDebugEnabled,c=}(r,t),n));return a(c.debugEnabled,{fromConfig:!0}),i.logOnInstanceConfigured({config:c}),c},W},X},Q},$r="Event was canceled because the onBeforeEventSend callback returned false.",Gr=function(e){var n=e.cookieJar,t=e.orgId,r=e.apexDomain;return{cookiesToPayload:function(e,o){var i,a=(i=r,o.substr(-i.length)===i),c={domain:r,cookiesEnabled:!0};if(!a){var u=n.get(),s=Object.keys(u).filter((function(e){retur}(t,e)})).map}));s.length&&(c.entries=s)}e.mergeState(c)},responseToCookies:function(e){e.getPayloadsByType("state:store").forEach((function(e){var t,o,i,a={domain:r};void 0!==e.maxAge&&(a.expires=(t=1e3,o=864e5,i=e.maxAge,t*i/o)),n.set(e.key,e.value,a)}))}}},K},Y},Zr="The server responded with a",eo=[429,503,502,504],n},t},ro=(Hr=windo}),oo=window,io=oo.console,ao=oo.fetch,co=oo.navigator,uo=oo.XMLHttpRequest,s},fo={debugEnabled:Ye().default(!1),defaultConsent:on(ln,"out",gn).default(ln),edgeConfigId:rn().unique().required(),edgeDomain:rn().domain().default("edge.adobedc.net"),edgeBasePath:rn().nonEmpty().default("ee"),orgId:rn().unique().required(),onBeforeEventSend:Ze().default(se)},lo=Y(window,g),go=P(ao}({fetch:ao}}({XMLHttpRequest:uo}),po=function(e){var n=e.instanceName,t=e.logController,r=t.setDebugEnabled,o=t.logger,i=t.createComponentLogger,a=dn(),c=sn(a),u=Xr({errorPrefix:"["+n+"]",logger:o});return In({logger:o,configureCommand:function(e){var t=Jr({options:e,componentCreators:zr,coreConfigValidators:fo,createConfig:Wr,logger:o,setDebugEnabled:r}),u=Gr({cookieJar:g,orgId:t.orgId,apexDomain:lo}),s=P(co.sendBeacon}({sendBeacon:co.sendBeacon.bind(co),sendFetchRequest:go,logger:o}):go,}({logger:o,sendFetchRequest:go,sendBeaconRequest:s,isRequestRetryable:no,getRequestRetryDelay:to}),}({logger:o}),}({extractEdgeInf}({logger:o})}),v=function(e){var n=e.config,t=e.lifecycle,r=e.cookieTransfer,o=e.sendNetworkRequest,i=e.createResponse,a=e.processWarningsAndErrors,c=n.edgeDomain,u=n.edgeBasePath,s=n.edgeConfigId;return function(e){var n=e.request,d=e.runOnResponseCallbacks,l=void 0===d?se:d,g=e.runOnRequestFailureCallbacks,p=void 0===g?se:g,v=w();v.add(t.onResponse),v.add(l);var m=w();return m.add(t.onRequestFailure),m.add(p),t.onBeforeRequest({request:n,onResponse:v.add,onRequestFailure:m.add}).then((function(){var e=n.getUseIdThirdPartyDomain()?"adobedc.demdex.net":c,t="https://"+e+"/"+u+"/v1/"+n.getAction()+"?configId="+s+"&requestId="+n.getId();return r.cookiesToPayload(n.getPayload(),e),o({requestId:n.getId(),url:t,payload:n.getPayload(),useSendBeacon:n.getUseSendBeacon()})})).then})).catch})).then((function(e){var n=e.parsedBody,t=e.getHeader,o=i({content:n,getHeader:t});return r.responseToCookies(o),v.call({response:o}).then}))}))}}({config:t,lifecycle:c,cookieTransfer:u,sendNetworkRequest:d,createResponse:p,processWarningsAndErrors:l}),m=function(e){var n=e.generalConsentState,t=e.logger,};return{initializeConsen},setConsen},suspen},awaitConsen}}}({generalConsentState:bn({logger:o}),logger:o}),}({config:t,logger:o,lifecycle:c,consent:m,createEvent:Cn,createDataCollectionRequestPayload:Kr,createDataCollectionRequest:Yr,sendEdgeNetworkRequest:v});retur}({componentCreators:zr,lifecycle:c,componentRegistry:a,getImmediatelyAvailableTools:function(e){var r=i(e);return{config:t,consent:m,eventManager:h,logger:r,lifecycle:c,sendEdgeNetworkRequest:v,handleError:Xr({errorPrefix:"["+n+"] ["+e+"]",logger:r}),createNamespacedStorage:ro}}})},setDebugComman},handleError:u,validateCommandOptions:Rn})};(Lr=window.__alloyNS)&&Lr.forEach})