/*!
 * pixiv Ads
 *
 * File: apt.js
 * Version: 0258a33
 * Build Date: Thu Jan 18 2024 01:46:54 GMT+0000 (Coordinated Universal Time)
 */(()=>{var e={678:""]).pu){return e[1]}},440:function(e){
/*!
 * in-view 0.6.1 - Get notified when a DOM element enters or exits the viewport.
 * Copyright (c) 2016 Cam Wiegert <cam@camwiegert.com> - https://camwiegert.github.io/in-view
 * License: MI=t)}e.exports=n},function(e,t,?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(9)),o=i(n(3)),s=n(4),a=function(){if("undefined"!=typeof window){var e=100,t=["scroll","resize","load"],n={history:[]},i={offset:{},threshold:0,test:s.inViewport},a[e].check()}))}tListener(e,a)})),window.MutationObserver&&addEventListener("DOM0,subtrepush(e)),n[e]}};ull}),i.offs=e:i.th.testrn i.test(e,i)},l.offset(0),l}};t.default=a()},function(e,s a function")}Object.defineProperty(t,"__esModule",{v),i&&e(t,i),t}}er:[],exit:[]}}return i(e,[{ket",t))})),this}},{key:"on",value:function(e,t){return this.handlers[e].push(t),this}},{knshift(t),this}},{kt);return this}}])u();e.exports=o},=m,g.flush=y,g}var r=n(1),o=n(8),s=n(10),a="Expected a function",l=Math.max,c=Math.m e}e.exce(dppen,e.ote("hildTextNos,nn.d(:!0,perty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(440),t=n.n(e),i=n(379),r=n.n(i),o=n(795),s=n.n(o),a=n(569),l=n.n(a),c=n(565),d=n.n(c),f=n(216),u=n.n(f),p=n(589),h=n.n(p),m=n(678),y={};y.styleTagTransform=h(),y.setAttributes=d(),y.insert=l().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=u();r()(m.Z,y);m.Z&&m.Z.locals&&m.Z.locals;window.ads=new class{appendFIF(e,t,n){const i=document.getElementById(e);this.writeFIFToTarget(i,t,n)}appendFIForDFP(e,t,n,i){const r=document.getElementById(e);n?this.writeDFPToTarget(r,n,i):this.writeFIFToTarget(r,t,oTarget(i,t,n)}exportLazyFIF(e,t){const n=document.getElementsByName(e)[0],i=document.createElement("div"),r=`exported-${e}`,o=document.getElementById(r);o&&o.remove(),i.id=r,i.className="lazyload",n.parentElement.insertBefore(i,n),i.addEventListener("lazybeforeunveil",(()=>{const e=n.contentWindow.document;e.open();const i="<html><head></head><body>"+t+"<script>inDapIF = true;<\/script></body></html>";e.write(i),e.close()}),!1)}writeFIFToTarget(e,t,n){const i=this.FIF(n);e.appendChild(i);const r=i.contentWindow.document;r.open(),null==n.script&&(n.script=""),null==t&&(t="");const o='<html><head><script src="'+n.script+'"><\/script></head><body>'+t+"<script>inDapIF = true;<\/script></body></html>";r.write(o),r.close()}writeDFPToTarget(e,t,n){const i=this.DIV(n);i.id=t;const r=document.createElement("script");r.innerHTML="googletag.cmd.push(function() { googletag.display('"+t+"'); });",i.appendChild(r),e.appendChild(i)}writeLazyFIFToTarget(e,t,n){const i=this.FIF(n);i.style.transformOrigin="top",e.appendChild(i),e.className="lazyload",e.addEventListener("lazybeforeunveil",(()=>{const e=i.contentWindow.document;e.open();const n="<html><head></head><body>"+t+"<script>inDapIF = true;<\/script></body></html>";e.write(n),e.close()}),!1)}refreshTarget(e){const t=document.getElementsByName(e)[0],n=document.createElement("div"),i=`exported-${e}`,r=document.getElementById(i);return r&&r.remove(),n.id=i,t.style.display="none",t.parentElement.appendChild(n),n.style.transform=t.style.transform,n.style.transformOrigin="top left",n}FIF(e){const t=document.createElement("iframe");return t.width=e.width||728,t.height=e.height||130,t.frameBorder="0",t.scrolling="no",t.marginWidth=0,t.marginHeight=0,t}DIV(e){const t=document.createElement("div");return t.width=e.width||300,t.height=e.height||250,t.style.margin="0 auto",t}setFQ(e,t,n){const i=localStorage.getItem("ads_"+e),r=decodeURIComponent(document.cookie.replace(/(?:(?:^|.*;\s*)limited_ads\s*=\s*([^;]*).*$)|^.*$/,"$1"));let o={};r&&(o=JSON.parse(r));let s={};i&&(s=JSON.parse(i));const a=Object.keys(s),l=[],c=[];for(var d=0;d<n.length;d++){const e=n[d];if(s[e.id])s[e.id].il=e.impLimit,s[e.id].cl=e.clickLimit,s[e.id].e||(s[e.id].e=e.expire);else{const t=new Date;e.expire?t.setTime(t.getTime()+36e5*parseInt(e.expire,10)):t.setTime(t.getTime()+2592e6),s[e.id]={i:0,il:e.impLimit,c:0,cl:e.clickLimit,e:t.toUTCString()}}parseInt(t,10)===e.id&&(s[e.id].i+=1),l.push(e.id),s[e.id].i>=s[e.id].il&&c.push(e.id)}const f=new Date;a.forEach((e=>{(l.includes(parseInt(e,10))||delete s[e],s[e])&&(new Date(s[e].e)<f&&delete s[e])})),o[e]=c.join("~");var u=new Date;u.setTime(u.getTime()+5184e6),document.cookie="limited_ads="+encodeURIComponent(JSON.stringify(o))+";expires="+u.toUTCString(),localStorage.setItem("ads_"+e,JSON.stringify(s))}inView(e,n,i){n.length<1||"%"===n[0]||(t().offset(i),t()(e).once("enter",(e=>{"1"!==e.dataset.inviewed&&(e.dataset.inviewed="1",fetch(n))})))}}})()})();