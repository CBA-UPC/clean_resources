(function(){r $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequired6c3;null==parcelRequire&&(parcelRequire=parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequired6c3=parcelRequire),parcelRequire.register("kvHoK",(function(e,t){var i,n;$parcel$export(e.exports,"register",(function(){return i}),(function(e){return i=e})),$parcel$export(e.exports,"resolve",(function(){return n}),(function(e){return n=e}));var a={};i=n=)),parcelRequire.register("lkMzx",(function(module,exports){parcelRequire("2UpbQ");var $eV1xY=parcelRequire("eV1xY"),$cWdJP=parcelRequire("cWdJP"),$1MxPP=parcelRequire("1MxPP"),$4AQp6=parcelRequire("4AQp6"),$fNkWI=parcelRequire("fNkWI"),$krOAZ=parcelRequire("krOAZ"),$aFOlr=parcelRequire("aFOlr"),$4dYkm=parcelRequire("4dYkm"),$gUMfd=parcelRequire("gUMfd"),$3M4zN=parcelRequire("3M4zN"),Suggest;Suggest=parcelRequire("6evWs").default;var $gKZVx=parcelRequire("gKZVx"),PublicAPI=$gKZVx.default;window.bluebillywig=window.bluebillywig||{},window.bluebillywig._internal=window.bluebillywig._internal||{};var windowName="Player",Player=window.bluebillywig[windowName]=function(e,t){this._internal=new PlayerHelper(e,t,this)};Player.prototype.destruct=function(){return this._internal&&(this._internal=this._internal.exit()),null};var PlayerHelper=function(e,t,i){$1MxPP.setDebugModeFromOpts("object"==typeof e?e:t),$1MxPP.debugMode&&performance.mark("PLAYER_INIT");var n=this;if(this._documentReady=!1,this._player=i,this.$wrapper=$parcel$interopDefault($eV1xY)("<div></div>").addClass("bb-media").addClass("bb_wrapper"),this._cmpTimeoutReached=!1,void 0===e)return!1;if("string"==typeof e)this._stringInit(e,t);else{var a=(e=this._preprocessOpts(e))&&(e.clipListData&&"true"===e.clipListData.useSuggest||e.requestParams&&"true"===e.requestParams.useSuggest);"function"==typeof Suggest&&a?($1MxPP.debugMode&&performance.mark("Suggest"),this._suggest=new Suggest(e,i,(),$1MxPP.debugMode&&performance.mark("end_Suggest")):this._objectInit(e,t)}};PlayerHelper.prototype.exit=function(){var e,t;if(this.Main&&(this.Main=this.Main.exit()),this._detections=null,this._statsEngine&&(this._statsEngine=this._statsEngine.exit()),this._placement=null,this.$wrapper&&this.$wrapper.remove(),this.$wrapper=null,this.$interactivityWrapper&&this.$interactivityWrapper.remove(),this.$interactivityWrapper=null,null===(t=$cWdJP.default.getService(null===(e=this._opts)||void 0===e?void 0:e.playerAliasOrId))||void 0===t||t.exit(),this._opts=null,this._playout=null,this._clip=null,this._adUnit=null,this._np&&(this._np=this._np.exit()),this._consentFrameworkSupport&&(this._consentFrameworkSupport=this._consentFrameworkSupport.exit()),window.bluebillywig&&window.bluebillywig.players){var i=window.bluebillywig.players.indexOf(this._player);i>=0&&window.bluebillywig.players.splice(i,1)}return null},PlayerHelper.prototype._preprocessOpts=function(e){if((e=e||{}).embedData&&(!e.scriptLink||-1===e.scriptLink.indexOf(".json?"))){var t=e.embedData.baseurl+"/p/"+e.embedData.playoutSafeName+"/"+e.embedData.contentIndicator+"/"+e.embedData.contentId,i=this._findScript(t,e);i&&i.src&&(e.scriptLink=i.src)}return e.scriptLink&&(e.requestParams=e.requestParams||{},e.requestParams=$4AQp6.getQueryParamsFromUrl(e.scriptLink,e.requestParams)),e.requestParams&&void 0!==e.requestParams.useHostPageQueryString&&"false"!==e.requestParams.useHostPageQueryString&&(e.requestParams=$4AQp6.getQueryParamsFromUrl(document.location.href,e.requestParams)),e.joinedRequestParams=(null==e?void 0:e.requestParams)?$parcel$interopDefault($eV1xY).extend({},e.requestParams):{},e.joinedRequestParams=$4AQp6.getQueryParamsFromUrl(document.location.href,e.joinedRequestParams),e},PlayerHelper.prototype._objectInit=function(opts,overrides){var ref,ref2,ref3,ref4;$1MxPP.setDebugModeFromOpts(opts),$1MxPP.default("[Player] _objectInit");var playerId=(null==opts||null===(ref=opts.embedData)||void 0===ref?void 0:ref.baseurl)+"/p/"+(null==opts||null===(ref2=opts.embedData)||void 0===ref2?void 0:ref2.playoutSafeName)+"/"+(null==opts||null===(ref3=opts.embedData)||void 0===ref3?void 0:ref3.contentIndicator)+"/"+(null==opts||null===(ref4=opts.embedData)||void 0===ref4?void 0:ref4.contentId);opts&&(null==overrides?void 0:overrides.alias)&&(opts.alias=overrides.alias);var playerAliasOrId=(null==opts?void 0:opts.alias)||playerId;opts&&(opts.playerAliasOrId=playerAliasOrId),$1MxPP.debugMode&&performance.mark("IABConsentFrameworkSupport"),this._consentFrameworkSupport=new $4dYkm.default,$1MxPP.debugMode&&performance.mark("end_IABConsentFrameworkSupport"),$cWdJP.default.getService(opts.playerAliasOrId).setInstance("ConsentFrameworkSupport",this._consentFrameworkSupport);var customSkinPath=$4AQp6.getCustomSkinPath(opts);if($1MxPP.default("[PlayerHelper] customSkinPath = "+customSkinPath),customSkinPath){var _this=this,customSkinJsonUrl=customSkinPath+"skin.json";$4AQp6.fetchData(customSkinJsonUrl).then((function(data){data?($1MxPP.debugMode&&performance.mark("Custom skin placement"),data&&data.customSkinInfo&&(opts.customSkinInfo=data.customSkinInfo),data&&data.customSkinCss&&(opts.playerCSS=data.customSkinCss.replace(/{{bbCustomSkinPath}}/g,customSkinPath)),data&&data.customSkinHtml&&(opts.playerHTML=data.customSkinHtml),data&&data.customSkinJs&&eval(data.customSkinJs),$1MxPP.debugMode&&performance.mark("end_Custom skin placement"),$1MxPP.default("[Player] Done loading custom player. Info: "+data.customSkinInfo),_this._objectPlacement(opts,overrides)):($1MxPP.default("[Player] Error loading custom skin url: no data"),_this._objectPlacement(opts,overrides))})).catch((function(e){$1MxPP.default("[Player] Error loading custom skin url: "+e),_this._objectPlacement(opts,overrides)}))}else this._objectPlacement(opts,overrides)},PlayerHelper.prototype._stringInit=function(e,t){var i=this,n=function(e){var t=i,n=e;"function"==typeof PublicAPI.prototype[n]&&"_"!==n.charAt(0)&&(i._player[n]=function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var o=t;t.$wrapper.one("bb_player_ready",()})},a=this;for(var o in this._player._id=e,window.bluebillywig.players=window.bluebillywig.players||[],window.bluebillywig.players.indexOf(this._player)<0&&window.bluebillywig.players.push(this._player),PublicAPI.prototype)n(o);if((t="object"==typeof t?t:{}).playoutData)try{JSON.stringify(t.playoutData)}catch(e){for(var s in t.playoutData){var l=t.playoutData[s];l&&!0!==l&&!1!==l&&isNaN(parseFloat(l))&&(l=l.toString()),t.playoutData[s]=l}}$4AQp6.fetchData(e).then((function(i){i?(i.scriptLink=e,"object"==typeof(i=a._preprocessOpts(i)).requestParams?$parcel$interopDefault($eV1xY).extend(i.requestParams,t):i.requestParams=t,t.clipData&&(i.clipData=t.clipData),t.clipListData&&(i.clipListData=t.clipListData),t.playoutData&&(i.playoutData=t.playoutData),t.adServicesData&&(i.adServicesData=t.adServicesData),a._objectInit(i,t)):$1MxPP.default("[Player] Error loading "+e+": no data")})).catch(()},PlayerHelper.prototype._determineNoSkinMode=function(){var e=!1,t=this._opts&&this._opts.playoutData&&this._opts.playoutData.skinBehaviour?this._opts.playoutData.skinBehaviour.toLowerCase():"",i=!!(this._clip&&null!=this._clip.timelines&&this._clip&&this._clip.timelines.length>0),n=this._clip&&"true"==this._clip.shouldPlayInline,a=this._clip&&("true"===this._clip.cubemapVideo||!0===this._clip.cubemapVideo||"360video"==this._clip.subtype),o=this._detections&&this._detections.canPlayInline,s=this._detections&&this._detections.hasTouch,l=this._clip&&"live"==this._clip.sourcetype&&this._detections&&this._detections.isiOS;if(!i&&!a&&!l)switch(t){case"always_on":e=!1;break;case"disable_always":e=!0;break;case"disable_on_touch":s&&(e=!0);break;default:n||o||"video"!=this._clip.mediatype||(e=!0)}return e},PlayerHelper.prototype._objectPlacement=function(e,t){if(this.$wrapper){var i=this;if(i._opts=e,i._playout=e.playoutData,i._clip=e.clipData,i._adUnit=null,e.adSchedulingData&&e.adSchedulingData.scheduleId&&(e.adServicesData=null),e.adServicesData&&$parcel$interopDefault($eV1xY).each(e.adServicesData,(),$1MxPP.debugMode&&performance.mark("Detections"),i._detections=new $aFOlr.default(i.$wrapper,e),$1MxPP.debugMode&&performance.mark("end_Detections"),i._setOptionOverrides(e),$1MxPP.debugMode&&performance.mark("objectPlacement"),!i._detections.canControlVolume&&i._opts&&"true"==i._opts.nsiNoPlayer)return!1;if($1MxPP.default("[Player] target = "+e.target),void 0!==i._playout&&null!=i._playout){if(i.escapedPlayoutLabel=i._playout.label.replace(/[^\w-]/g,"_"),i.escapedContentId=void 0!==i._opts.contentId&&null!=i._opts.contentId?i._opts.contentId.replace(/[^\w-]/g,"_"):"",i._opts.embedData.contentId&&(i.escapedContentId=i._opts.embedData.contentId.replace(/[^\w-]/g,"_")),i._acDivId="bb-ac-"+i.escapedPlayoutLabel+"-"+i.escapedContentId,i._altContentDiv=document.getElementById(i._acDivId),i.$wrapper&&i.$wrapper.attr("id",i._acDivId.replace("-ac-","-wr-")),e.embedData){var n=e.embedData.baseurl+"/p/"+e.embedData.playoutSafeName+"/"+e.embedData.contentIndicator+"/"+e.embedData.contentId,a=this._findScript(n,e);a&&a.src&&(e.scriptLink=a.src)}if(("true"==i._playout.iframeBreakout||!0===i._playout.iframeBreakout&&i._detections.inIframe)&&i._attemptIFrameBreakOut())return!1;if($1MxPP.debugMode&&performance.mark("Player._placeWrapper"),this._placeWrapperSuccess=this._placeWrapper(e),$1MxPP.debugMode&&performance.mark("end_Player._placeWrapper"),!this._placeWrapperSuccess){if(this._placeWrapperRetryInterval||(this._placeWrapperRetryCount=0,this._placeWrapperRetryInterval=setInterval((function(){(i._placeWrapperRetryCount++>20||i._documentReady)&&i._placeWrapperRetryInterval&&(clearInterval(i._placeWrapperRetryInterval),i._placeWrapperRetryInterval=null),i._placeWrapperSuccess=i._placeWrapper(e),i._placeWrapperSuccess&&i._placeWrapperRetryInterval&&(clearInterval(i._placeWrapperRetryInterval),i._placeWrapperRetryInterval=null)}),500)),this._documentReady){if(i._noStatsMode=e.playoutData&&"true"===e.playoutData.noStats,!i._noStatsMode&&"function"==typeof $krOAZ.default){if(this._statsEngine||($1MxPP.debugMode&&performance.mark("StatsEngine"),this._statsEngine=new $krOAZ.default(i.$wrapper,e),$1MxPP.debugMode&&performance.mark("end_StatsEngine")),i.$wrapper.triggerHandler("bb_error",[{msg:"wrapper placement failed"}]),e.embedData&&"a"===e.embedData.contentIndicator){var o=e.embedData.contentId,s=e.adServicesData&&e.adServicesData.length>0?e.adServicesData[0].positionType:"outstream";i.$wrapper.triggerHandler("bb_adunit_failed",[{adUnitCode:o,adPosition:s}])}if((null==e?void 0:e.adSchedulingData)&&void 0!==e.adSchedulingData.scheduleId){var l=e.adSchedulingData.scheduleId,r=void 0!==e.adSchedulingData.scheduleCode?e.adSchedulingData.scheduleCode:String(l);i.$wrapper.triggerHandler("bb_as_placement_failed",[{adType:"ad-scheduling",adPosition:"vmap",adScheduleCode:r}])}}}else $parcel$interopDefault($eV1xY)(document).ready((function(){i._documentReady||(i._documentReady=!0,i._placeWrapperSuccess||(i._objectPlacement(e,t),i._placeWrapperRetryInterval&&(clearInterval(i._placeWrapperRetryInterval),i._placeWrapperRetryInterval=null)))}));return!1}}i.$wrapper.css({position:"relative"}),i._clip&&i._clip.playoutoverride&&i.$wrapper.css({margin:"auto"});e.playoutData&&e.playoutData.width&&(-1!=e.playoutData.width.indexOf("%")?e.playoutData.width:e.playoutData.width);var d="height:"+(e.playoutData&&e.playoutData.height?-1!=e.playoutData.height.indexOf("%")?e.playoutData.height:e.playoutData.height+"px;":"100%")+";";!e.playoutData||"true"!=e.playoutData.responsiveSizing&&"true"!=e.playoutData.autoHeight||(d=9*i.$wrapper.width()/16,e.playoutData.height=String(d));var u=i.$wrapper?i.$wrapper.attr("id").replace("bb-wr-","bb-iawr-"):"";if(i.$interactivityWrapper=i.$wrapper.wrap('<div class="bb_iawr" id="'+u+'" style="position:relative;display:block;overflow:hidden;font-family:arial, helvetica, sans-serif;"></div>').parent(),i._playout&&"true"==i._playout.screenshotMode&&(i._playout.controlBar="Hide",$parcel$interopDefault($eV1xY)("body").append("<style>.bb-container .bb-error-container{display:none !important;}.bb-state-error .bb-container .bb-bigplaycontainer{opacity:1 !important;} .bb-container {font-size:10px !important;}</style>")),i._noSkinMode=i._determineNoSkinMode(),i._nativeControls=e&&e.playoutData&&"false"!==e.playoutData.nativeControls,i._noSkinMode?(e.noSkinMode=!0,i._nativeControls&&(e.addNativeControls=!0)):(e.noSkinMode=!1,e.addNativeControls=!1),e&&e.playoutData&&"on"==e.playoutData.forceSkin&&(e.noSkinMode=!1,e.addNativeControls=!1),e&&e.playoutData&&"off"==e.playoutData.forceSkin&&(e.noSkinMode=!0,e.addNativeControls=!0),e.noSkinMode&&e&&e.clipData&&void 0!==e.clipData.timelineFallback){var c=e.requestParams;return c.placeAfterTarget="true",c.target=i.$wrapper.parent()[0],this._np=new Player(e.embedData.baseurl+"/p/"+e.playoutData.label+"/"+e.embedData.contentIndicator+"/"+e.clipData.timelineFallback+".json",c),i.$wrapper.remove(),!1}i._player.setFlag=var h=[];i.$wrapper.on("bb_flagchange.Player",(function(e,t){$parcel$interopDefault($eV1xY).each(t,()})),i.$wrapper.on("bb_player_ready.Player",(function(){i.$wrapper.off("bb_flagchange.Player");var t=$cWdJP.default.getService(e.playerAliasOrId).getInstance("PublicAPI");$parcel$interopDefault($eV1xY).each(h,(function(e,i){null==t||t.setFlag(i[0],i[1])})),i._pendingPlayoutUpdate&&(null==t||t.updatePlayout(i._pendingPlayoutUpdate)),i._playerReady=!0})),i._initMain(e)}},PlayerHelper.prototype._initMain=function(e){var t=this;if(t._playout&&"true"===t._playout.waitForCmp&&!this._cmpTimeoutReached){var i=parseInt(t._playout.cmpTimeout)||1e4;if($1MxPP.default("[PlayerHelper] configured to wait for CMP for max ".concat(i,"ms")),this._consentFrameworkSupport.isRequestInProgress()){var n=setTimeout((,i),a=function(){n&&(clearTimeout(n),n=null),t._initMain(e)};return void this._consentFrameworkSupport.getCmpData(a,a)}}for(var o in $1MxPP.debugMode&&performance.mark("Main"),t.Main=new $fNkWI.default(t.$wrapper,e),$1MxPP.debugMode&&performance.mark("end_Main"),t.Main.api){var s=t.Main.api[o];"function"==typeof s&&"_"!==o.charAt(0)&&(this._player[o]=s.bind(t.Main.api))}window.bluebillywig._internal.Util.triggerEventOnJQueryObject(t.$wrapper,"ready"),"function"==typeof window.bluebillywig.onPlayerAdded&&window.bluebillywig.onPlayerAdded(t.Main.api),t.$wrapper&&t.$wrapper.attr("data-isready","true"),void 0!==e.callback&&""!=e.callback&&"function"==typeof window[e.callback]&&window[e.callback](this._player),t.$wrapper.triggerHandler("bb_player_ready")},PlayerHelper.prototype._setOptionOverrides=function(e){var t=this;if(t._playout){if(t._clip&&t._clip.playoutoverride&&$parcel$interopDefault($eV1xY).each(t._clip.playoutoverride,(function(e,i){t._playout[e]=i})),t._adUnit&&t._adUnit.playout&&$parcel$interopDefault($eV1xY).each(t._adUnit.playout,(),t._opts.requestParams&&$parcel$interopDefault($eV1xY).each(t._opts.requestParams,(function(e,i){"id"!=e&&"customCode"!=e&&"passbackCode"!=e&&"distanceFromTop"!=e&&"playoutData"!=e&&"clipData"!=e&&"clipListData"!=e&&(void 0===t._playout[e+"__orig__"]&&(t._playout[e+"__orig__"]=t._playout[e]),t._playout[e]=i)})),"true"===this._playout.supportIABConsent){var i=this;this._consentFrameworkSupport.getCmpData((function(e,t){if(i._pendingPlayoutUpdate=$gUMfd.default.ingestConsentIntoPlayout(2===t?e.tcString:e.consentData),i._playerReady){var n=$cWdJP.default.getService(i._opts.playerAliasOrId).getInstance("PublicAPI");n&&(n.updatePlayout(i._pendingPlayoutUpdate),i._pendingPlayoutUpdate=null)}}),$1MxPP.default)}void 0!==e.requestParams&&void 0!==e.requestParams.target?e.target=e.requestParams.target:void 0!==t._playout.target&&(e.target=t._playout.target),t._detections.isAndroidNative&&(t._playout.autoPlay="false"),t._detections.canControlVolume||"true"==t._playout.autoMute&&t._detections.canAutoPlayMuted||"true"!=t._playout.nsiNoAutoPlay||(t._playout.autoPlay="false"),"true"!==t._playout.responsiveSizing&&void 0!==t._playout.width||(t._playout.autoHeight="true"),"true"==t._playout.inheritDimensions&&(t._playout.autoHeight="false",t._playout.responsiveSizing="false",t._playout.width="100%",t._playout.height="100%"),t._playout.width&&-1!=t._playout.width.indexOf("%")&&t._playout.height&&-1!=t._playout.height.indexOf("%")&&"true"!=t._playout.autoHeight&&"true"!=t._playout.responsiveSizing&&(t._playout.textAbovePlayer="",t._playout.textCommercialSkip=""),"string"==typeof t._playout.width&&-1==t._playout.width.indexOf("%")&&(t._playout.width=String(parseInt(t._playout.width))),"string"==typeof t._playout.height&&-1==t._playout.height.indexOf("%")&&(t._playout.height=String(parseInt(t._playout.height))),void 0===t._playout.commercialBehaviour&&void 0!==t._playout.commerials&&(t._playout.commercialBehaviour=t._playout.commerials),void 0===t._playout.qualitySelector&&(t._playout.qualitySelector=void 0!==t._playout.hdButton?t._playout.hdButton:"Show"),t._clip&&"mainroll"==t._clip.mediatype&&(t._playout.disableKeyboardControls="true"),void 0===t._playout.bgColor&&(t._playout.bgColor="000000"),void 0===t._playout.skinBehaviour&&(t._playout.skinBehaviour="Auto"),void 0===t._playout.nativeControls&&(t._playout.nativeControls="true"),void 0===t._playout.youTubeHosting&&(t._playout.youTubeHosting="false"),void 0===t._playout.nsiNoAutoPlay&&(t._playout.nsiNoAutoPlay="false"),void 0===t._playout.nsiNoPlayer&&(t._playout.nsiNoPlayer="false"),void 0===t._playout.commercialControls&&(t._playout.commercialControls="automatic"),void 0===t._playout.commercialPauseButton&&(t._playout.commercialPauseButton="false"),void 0===t._playout.commercialMuteButton&&(t._playout.commercialMuteButton="false"),void 0===t._playout.textCommercialSkip&&(t._playout.textCommercialSkip=""),void 0===t._playout.title&&(t._playout.title="Hide"),void 0===t._playout.useDeeplinkForFacebook&&(t._playout.useDeeplinkForFacebook="false"),void 0===t._playout.volumeOrientation&&(t._playout.volumeOrientation="vertical")}},PlayerHelper.prototype._attemptIFrameBreakOut=function(e){var t=null;try{window.top.document.location;$parcel$interopDefault($eV1xY)("iframe",window.top.document).each((function(){this.contentWindow!=window.self&&this.contentWindow!=window.parent||(t=this)}))}catch(e){}if(null!=t){var i=window.top.document.createElement("script");i.type="text/javascript",i.src=this._opts.scriptLink&&this._opts.scriptLink.replace(".json",".js");var n=$parcel$interopDefault($eV1xY)('<div id="'+this._acDivId+'"></div>');return $parcel$interopDefault($eV1xY)(t).before(n),$parcel$interopDefault($eV1xY)(t).hide(),window.top.document.getElementById(this._acDivId).parentNode?window.top.document.getElementById(this._acDivId).parentNode.appendChild(i):window.top.document.getElementsByTagName("HEAD")[0].appendChild(i),!0}return!1},PlayerHelper.prototype._findScript=function(e,t){var i=null;if(t=t||this._opts||{},this._opts=this._opts||t,null==i&&(t.lastScript&&t.lastScript.src&&-1!==t.lastScript.src.indexOf(e)?i=t.lastScript:$parcel$interopDefault($eV1xY)("body script").each((function(){$parcel$interopDefault($eV1xY)(this).attr("src")&&-1!==$parcel$interopDefault($eV1xY)(this).attr("src").indexOf(e)&&(i=this)}))),null==i){var n="/"+this._opts.embedData.contentIndicator+"/"+this._opts.embedData.contentId+".";t.lastScript&&t.lastScript.src&&-1!==t.lastScript.src.indexOf(n)?i=t.lastScript:$parcel$interopDefault($eV1xY)("body script").each((function(){$parcel$interopDefault($eV1xY)(this).attr("src")&&-1!==$parcel$interopDefault($eV1xY)(this).attr("src").indexOf(n)&&(i=this)}))}return null==i&&$parcel$interopDefault($eV1xY)("body script").each((function(){-1!==this.innerHTML.indexOf(e)&&(i=this)})),i},PlayerHelper.prototype._placeWrapper=function(e){var t=this,i="/p/"+t._playout.label+"/"+t._opts.embedData.contentIndicator+"/"+t._opts.embedData.contentId;if(this._player._id||(this._player._id=i),!this._player._alias&&(null==e?void 0:e.alias)&&(this._player._alias=e.alias),void 0!==e.target){var n=$parcel$interopDefault($eV1xY)(e.target);if(n.length)return"script"==n.prop("tagName").toLowerCase()||e.playoutData&&"true"==e.playoutData.placeAfterTarget?t.$wrapper.insertAfter(e.target):$parcel$interopDefault($eV1xY)(e.target).append(t.$wrapper),!0;$1MxPP.default('[Player] provided embed target "'+e.target+'" was not found!')}if(void 0!==t._playout&&void 0!==t._playout.placementOption&&"default"!=t._playout.placementOption)return $1MxPP.debugMode&&performance.mark("Placement"),t._placement=new $3M4zN.default(t.$wrapper,e),$1MxPP.debugMode&&performance.mark("end_Placement"),t._placement.inarticleFindSpot();if(null!=t._altContentDiv&&document&&document.body&&document.body.contains(t._altContentDiv))return t.$wrapper.insertAfter(t._altContentDiv),$parcel$interopDefault($eV1xY)(t._altContentDiv).remove(),!0;var a=this._findScript(i,e);return null!=a?(t.$wrapper.insertAfter(a),!0):e.lastScript?(t.$wrapper.insertAfter(e.lastScript),!0):void $1MxPP.default("[Player] _placeWrapper player did not get placed!")}})),parcelRequire.register("2UpbQ",(function(e,t){$parcel$export(e.exports,"default",(function(){return $parcel$interopDefault(parcelRequire("eV1xY"))})),parcelRequire("1zIal");var i=parcelRequire("eV1xY"),n=parcelRequire("8KvB5");window.bluebillywig=window.bluebillywig||{},void 0===window.bluebillywig.jQuery&&(window.bluebillywig.jQuery=$parcel$interopDefault(i)),$parcel$interopDefault(i).extend({bb_sanitize:n.default.$_bb_sanitize}),$parcel$interopDefault(i).fn.extend({bb_htmlSanitized:n.default.fn_bb_htmlSanitized,bb_appendSanitized:n.default.fn_bb_appendSanitized,bb_prependSanitized:n.default.fn_bb_prependSanitized,bb_sanitize:n.default.fn_bb_sanitize})})),parcelRequire.register("1zIal",(function(e,t){$parcel$export(e.exports,"default",(),parcelRequire("dhZ6J");var i=parcelRequire("4h4pL"),n=parcelRequire("eV1xY");if(!$parcel$interopDefault(n).fn.bluebillywig){$parcel$interopDefault(n).fn.bluebillywig=function(){return!0};var a=$parcel$interopDefault(n).prototype.trigger;$parcel$interopDefault(n).prototype.trigger=function(e,t){a.apply(this,[e,null==t?void 0:t[0]])},void 0===$parcel$interopDefault(n).prototype.triggerHandler&&($parcel$interopDefault(n).prototype.triggerHandler=$parcel$interopDefault(n).prototype.trigger);var o=$parcel$interopDefault(n).prototype.show;$parcel$interopDefault(n).prototype.show=function(){var e=this;return this.each((function(t,i){("none"===i.style.display||""===i.style.display&&"none"===$parcel$interopDefault(n)(i).css("display"))&&o.apply(e,[$parcel$interopDefault(n)(i)])}))};$parcel$interopDefault(n).extend({trim:function(e){return null==e?void 0:e.toString().trim()},contains:function(e,t){return i.default($parcel$interopDefault(n)(t).parents()).includes(e)},parseXML:function(e){if(!e||"string"!=typeof e)return null;var t=(new DOMParser).parseFromString(e,"text/xml"),n=t.getElementsByTagName("parsererror");if(!t||n.length)throw new Error("Invalid XML: ".concat(n.length?i.default(n[0].childNodes).map((function(e){return e.textContent})).join("\n"):e));return t}})}$parcel$interopDefault(n)((function(){$parcel$interopDefault(n).isReady=!0})),window.jQuery||(window.jQuery=$parcel$interopDefault(n)),window.$||(window.$=$parcel$interopDefault(n))})),parcelRequire.register("dhZ6J",(function(e,t){$parcel$export(e.exports,"assertThisInitialized",(function(){return parcelRequire("WI3YU").default})),$parcel$export(e.exports,"asyncToGenerator",(function(){return parcelRequire("kwlj2").default})),$parcel$export(e.exports,"classCallCheck",(function(){return parcelRequire("87rX1").default})),$parcel$export(e.exports,"createClass",(function(){return parcelRequire("b3HW6").default})),$parcel$export(e.exports,"createSuper",(function(){return parcelRequire("56Oox").default})),$parcel$export(e.exports,"defineProperty",(function(){return parcelRequire("2yvID").default})),$parcel$export(e.exports,"get",(function(){return parcelRequire("2PjQe").default})),$parcel$export(e.exports,"getPrototypeOf",(function(){return parcelRequire("8DKpv").default})),$parcel$export(e.exports,"inherits",(function(){return parcelRequire("1tpNq").default})),$parcel$export(e.exports,"objectSpread",(function(){return parcelRequire("5ZUO7").default})),$parcel$export(e.exports,"possibleConstructorReturn",(function(){return parcelRequire("flMmK").default})),$parcel$export(e.exports,"slicedToArray",(function(){return parcelRequire("e2GJT").default})),$parcel$export(e.exports,"toConsumableArray",(function(){return parcelRequire("4h4pL").default})),$parcel$export(e.exports,"typeOf",(function(){return parcelRequire("dwEjG").default})),$parcel$export(e.exports,"wrapNativeSuper",();parcelRequire("WI3YU"),parcelRequire("kwlj2"),parcelRequire("87rX1"),parcelRequire("b3HW6"),parcelRequire("56Oox"),parcelRequire("2yvID"),parcelRequire("2PjQe"),parcelRequire("8DKpv"),parcelRequire("1tpNq"),parcelRequire("5ZUO7"),parcelRequire("flMmK"),parcelRequire("e2GJT"),parcelRequire("4h4pL"),parcelRequire("dwEjG"),parcelRequire("2WH6t")})),parcelRequire.register("WI3YU",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("kwlj2",(function(e,t){arcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("87rX1",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("b3HW6",(function(e,t){arcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("56Oox",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var i=parcelRequire("gNRXm"),n=parcelRequire("8DKpv"),a=parcelRequire("flMmK");)),parcelRequire.register("gNRXm",(function(e,t){function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("8DKpv",(function(e,t){unction n(e){return i(e)}$parcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("flMmK",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("WI3YU"),n=parcelRequire("dwEjG");function a(e,t){return!t||"object"!==n.default(t)&&"function"!=typeof t?i.default(e):t}})),parcelRequire.register("dwEjG",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("2yvID",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("2PjQe",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("26IFI");),parcelRequire.register("26IFI",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("8DKpv");)),parcelRequire.register("1tpNq",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("5tHLH");function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i.default(e,t)}})),parcelRequire.register("5tHLH",(function(e,t){arcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("5ZUO7",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("2yvID");)),parcelRequire.register("e2GJT",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}));var i=parcelRequire("14bUq"),n=parcelRequire("6oUr0"),a=parcelRequire("328n4"),o=parcelRequire("79o5w");)),parcelRequire.register("14bUq",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("6oUr0",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("328n4",(function(e,t){function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("79o5w",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("7CgSR");function n(e,t){if(e){if("string"==typeof e)return i.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i.default(e,t):void 0}}})),parcelRequire.register("7CgSR",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("4h4pL",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}));var i=parcelRequire("6dcDJ"),n=parcelRequire("6oUr0"),a=parcelRequire("1EsRK"),o=parcelRequire("79o5w");)),parcelRequire.register("6dcDJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("7CgSR");)),parcelRequire.register("1EsRK",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("2WH6t",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var i=parcelRequire("lgB7Z"),n=parcelRequire("hNI7A"),a=parcelRequire("8DKpv"),o=parcelRequire("5tHLH");),parcelRequire.register("lgB7Z",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var i=parcelRequire("5tHLH");,parcelRequire.register("hNI7A",(function(e,t){parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("eV1xY",(function(e,t){!function(){var t,i=function(e,t){var i=s(t);return e&&(i||o(t)||l(t))?!i&&le.test(e)?t.getElementsByClassName(e.slice(1).replace(/\\/g,"")):!i&&de.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e):[]},n=a=function(e){return!!e&&e===e.window},o=function(e){return!!e&&9===e.nodeType},s=function(e){return!!e&&11===e.nodeType},l=r=function(e){return"boolean"==typeof e},d=function(e){return"function"==typeof e},u=c=h=p=_=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},m=function(e,t,i){if(i){for(var n=e.length;n--;)if(!1===t.call(e[n],n,e[n]))return e}else if(_(e))for(var a=Object.keys(e),o=(n=0,a.length);n<o;n++){var s=a[n];if(!1===t.call(e[s],s,e[s]))return e}else for(n=0,o=e.length;n<o;n++)if(!1===t.call(e[n],n,e[n]))return e;return e},f=function(e){return u(e)&&e.match(_e)||[]},v=function(e,t,i){if(l(e)){var n=F.getComputedStyle(e,null);return i?n.getPropertyValue(t)||void 0:n[t]||e.style[t]}},g=function(e,t){return parseInt(v(e,t),10)||0},y=function(e,t){return g(e,"border".concat(t?"Left":"Top","Width"))+g(e,"padding".concat(t?"Left":"Top"))+g(e,"padding".concat(t?"Right":"Bottom"))+g(e,"border".concat(t?"Right":"Bottom","Width"))},b=w=function(e,t){var i=e&&(e.matches||e.webkitMatchesSelector||e.msMatchesSelector);return!!i&&!!t&&i.call(e,t)},k=function(e){return u(e)?d(e)?e:n(e)?function(t,i){return e.is(i)}:e?function(){return!1}},$=C=function(e){if(!u(e))return[];if(ve.test(e))return[N(RegExp.$1)];var t=fe.test(e)&&RegExp.$1,i=ge[t]||ge["*"];return i.innerHTML=e,he(i.childNodes).detach().get()},S=function(e,t,i,n){for(var a=[],o=d(t),s=n&&k(n),l=0,r=e.length;l<r;l++)if(o){var u=t(e[l]);u.length&&ie.apply(a,u)}else for(var c=e[l][t];!(null==c||n&&s(-1,c));)a.push(c),c=i?c[t]:null;return a},P=function(e){return e.multiple&&e.options?S(Z.call(e.options,(),"value"):e.value||""},x=function(e){return e.length>1?Z.call(e,():e},A=function(e,t,i,n,a){var o,s,l;n?e.insertBefore(t,i?e.firstChild:null):"HTML"===e.nodeName?e.parentNode.replaceChild(t,e):e.parentNode.insertBefore(t,i?e:e.nextSibling),a&&(o=t,s=e.ownerDocument,(l=he(o)).filter("script").add(l.find("script")).each(())},I=function(e,t,i,n,a,o,s,l){return m(e,(,o),t},T=D=function(e){return Ce.test(e)},M=function(e,t){if(void 0===t&&(t=D(e)),t)return e;if(!Se[e]){var i=T(e),n="".concat(i[0].toUpperCase()).concat(i.slice(1)),a="".concat(i," ").concat(xe.join("".concat(n," "))).concat(n).split(" ");m(a,()}return Se[e]},E=function(e,t,i){return void 0===i&&(i=D(e)),i||Ae[e]||!p(t)?t:"".concat(t,"px")},B=L=function(e,t){var i=e.dataset[t]||e.dataset[T(t)];return Ie.test(i)?i:B(JSON.parse,i)},R=q=function(e,t){var i=e.documentElement;return Math.max(e.body["scroll".concat(t)],i["scroll".concat(t)],e.body["offset".concat(t)],i["offset".concat(t)],i["client".concat(t)])},H=O=function(e){var t=e.split(De);return[t[0],t.slice(1).sort()]},j=z=function(e,t){return!t||!ae.call(t,(function(t){return e.indexOf(t)<0}))},V=document,F=window,U=V.documentElement,N=V.createElement.bind(V),W=N("div"),Q=N("table"),J=N("tbody"),K=N("tr"),Y=Array.isArray,G=Array.prototype,X=G.concat,Z=G.filter,ee=G.indexOf,te=G.map,ie=G.push,ne=G.slice,ae=G.some,oe=G.splice,se=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,le=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,re=/<.+>/,de=/^\w+$/,ue=((t=function(e,t){if(e){if(n(e))return e;var a=e;if(u(e)){var s=t||V;if(!(a=se.test(e)&&o(s)?s.getElementById(e.slice(1).replace(/\\/g,"")):re.test(e)?C(e):n(s)?s.find(e):u(s)?he(s).find(e):i(e,s)))return}else if(d(e))return this.ready(e);(a.nodeType||a===F)&&(a=[a]),this.length=a.length;for(var l=0,r=this.length;l<r;l++)this[l]=a[l]}}).prototype.init=t),ce=ue.prototype,he=ce.init;e.fn=he.prototype=ce,ce.length=0,ce.splice=oe,"function"==typeof Symbol&&(ce[Symbol.iterator]=G[Symbol.iterator]),he.isWindow=a,he.isFunction=d,he.isArray=Y,he.isNumeric=p,he.isPlainObject=_,he.each=m,ce.each=ce.empty=he.extend=pe,ce.extend=function(e){return pe(ce,e)};var _e=/\S+/g;ce.toggleClass=ce.addClass=function(e){return this.toggleClass(e,!0)},ce.removeAttr=ce.attr=ce.removeClass=ce.hasClass=ce.get=ce.eq=ce.first=function(){return this.eq(0)},ce.last=ce.text=function(e){return c(e)?this.get().map((function(e){return l(e)||(t=e)&&3===t.nodeType?e.textContent:"";var t})).join(""):this.each(()};var me={};ce.filter=ce.detach=var fe=/^\s*<(\w+)[^>]*>/,ve=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ge={"*":W,tr:J,td:K,th:K,thead:Q,tbody:Q,tfoot:Q};he.parseHTML=C,ce.has=ce.not=ce.val=ce.is=he.guid=1,he.unique=x,ce.add=ce.children=ce.parent=ce.index=ce.closest=ce.siblings=ce.find=var ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,be=/^$|^module$|\/(java|ecma)script/i,we=["type","src","nonce","noModule"];ce.after=function(){return I(arguments,this,!1,!1,!1,!0,!0)},ce.append=ce.html=function(e){if(!arguments.length)return this[0]&&this[0].innerHTML;if(c(e))return this;var t=/<script[\s>]/.test(e);return this.each(()},ce.appendTo=ce.wrapInner=ce.before=ce.wrapAll=ce.wrap=ce.insertAfter=function(e){return I(arguments,this,!0,!1,!1,!1,!1,!0)},ce.insertBefore=ce.prepend=ce.prependTo=ce.contents=ce.next=function(e,t,i){return $(he(x(S(this,"nextElementSibling",t,i))),e)},ce.nextAll=function(e){return this.next(e,!0)},ce.nextUntil=function(e,t){return this.next(t,!0,e)},ce.parents=ce.parentsUntil=ce.prev=ce.prevAll=ce.prevUntil=ce.map=ce.clone=ce.offsetParent=ce.slice=var ke=/-([a-z])/g;ce.ready=ce.unwrap=ce.offset=ce.position=var $e={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};ce.prop=ce.removeProp=var Ce=/^--/,Se={},Pe=W.style,xe=["webkit","moz","ms"],Ae={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};ce.css=var Ie=/^\s+|\s+$/;ce.data=function(e,t){if(!e){if(!this[0])return;var i={};for(var n in this[0].dataset)i[n]=L(this[0],n);return i}if(u(e))return arguments.length<2?this[0]&&L(this[0],e):c(t)?this:this.each((function(i,n){R(n,e,t)}));for(var n in e)this.data(n,e[n]);return this},m([!0,!1],(function(e,t){m(["Width","Height"],(function(e,i){var n="".concat(t?"outer":"inner").concat(i);ce[n]=function(n){if(this[0])return a(this[0])?t?this[0]["inner".concat(i)]:this[0].document.documentElement["client".concat(i)]:o(this[0])?q(this[0],i):this[0]["".concat(t?"offset":"client").concat(i)]+(n&&t?g(this[0],"margin".concat(e?"Top":"Left"))+g(this[0],"margin".concat(e?"Bottom":"Right")):0)}}))})),m(["Width","Height"],();ce.toggle=function(e){return this.each((function(t,i){if(l(i)){var n=b(i);(c(e)?n:e)?(i.style.display=i.___cd||"",b(i)&&(i.style.display=i.tagName))):n||(i.___cd=v(i,"display"),i.style.display="none")}}))},ce.hide=function(){return this.toggle(!1)},ce.show=var Te="___ce",De=".",Me={focus:"focusin",blur:"focusout"},Ee={mouseenter:"mouseover",mouseleave:"mouseout"},Be=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;e.trigger=function(e,t){if(u(e)){var i=O(e),n=i[0],a=i[1],o=H(n);if(!o)return this;var s=Be.test(o)?"MouseEvents":"HTMLEvents";(e=V.createEvent(s)).initEvent(o,!0,!0),e.namespace=a.join(De),e.___ot=n}e.___td=t;var l=e.___ot in Me;return this.each(()},ce.off=ce.remove=ce.replaceWith=ce.replaceAll=ce.on=function(e,t,i,n,s){var r=this;if(!u(e)){for(var p in e)this.on(p,t,i,e[p],s);return this}return u(t)||(c(t)||h(t)?t="":c(i)?(i=t,t=""):(n=i,i=t,t="")),d(n)||(n=i,i=void 0),n?(m(f(e),(function(e,d){var u=O(d),c=u[0],h=u[1],p=H(c),_=c in Ee,m=c in Me;p&&r.each((function(e,r){if(l(r)||o(r)||a(r)){var d=d.guid=n.guid=n.guid||he.guid++,r,p,h,t,d)}}))})),this):this},ce.one=var Re=/\r?\n/g,qe=/file|reset|submit|button|image/i,He=/radio|checkbox/i;ce.serialize=function(){var e="";return this.each((function(t,i){m(i.elements||[i],(function(t,i){if(!(i.disabled||!i.name||"FIELDSET"===i.tagName||qe.test(i.type)||He.test(i.type)&&!i.checked)){var n=P(i);if(!c(n)){var a=Y(n)?n:[n];m(a,(function(t,n){e+=function(e,t){return"&".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t.replace(Re,"\r\n")))}(i.name,n)}))}}}))})),e.slice(1)},e.exports=he}()})),parcelRequire.register("8KvB5",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n={$_bb_sanitize:function(e){var t=!1;if("string"==typeof e||e instanceof String){for(var a,o=$parcel$interopDefault(i).parseHTML(e,null,!1),s=o.length-1;s>=0;s--)(null===(a=o[s].nodeName)||void 0===a?void 0:a.match(/script/i))?o.splice(s,1):n._sanitizeNode_r(o[s]);t=$parcel$interopDefault(i)(o)}else if("object"==typeof e&&null!=e){var l=e instanceof $parcel$interopDefault(i)?e:$parcel$interopDefault(i)(e);l.each((),t=l}else"number"!=typeof e&&isNaN(parseFloat(e))||(t=$parcel$interopDefault(i)(document.createTextNode(parseFloat(e))));return t},fn_bb_htmlSanitized:function(e){if(void 0!==e){if(this.length>0){var t=n.$_bb_sanitize(e);this.empty().append(t||"")}return this}return this.html()},fn_bb_appendSanitized:function(e){return void 0!==e&&this.length>0&&this.append(n.$_bb_sanitize(e)),this},fn_bb_prependSanitized:function(e){return void 0!==e&&this.length>0&&this.prepend(n.$_bb_sanitize(e)),this},fn_bb_sanitize:function(){for(var e=this.length-1;e>=0;e--){var t,i=this.get(e);(null===(t=i.nodeName)||void 0===t?void 0:t.match(/script/i))?this.splice(e,1):n._sanitizeNode_r(i)}return this},_sanitizeNode_r:function(e){if(e){var t;if((null===(t=e.nodeName)||void 0===t?void 0:t.match(/script/i))&&(e.textContent="",e.hasAttributes&&e.hasAttributes()&&e.attributes))for(var i=e.attributes.length-1;i>=0;i--){var a=e.attributes[i];e.removeAttribute(a.name)}if(e.hasAttributes&&e.hasAttributes()&&e.attributes)for(var o=e.attributes.length-1;o>=0;o--){(a=e.attributes[o])&&a.name.match(/^on/i)&&(a.value=""),a&&a.name.match(/^src/i)&&a.value.match(/^javascript:/i)&&(a.value=""),a&&a.name.match(/^src/i)&&a.value.match(/^data:text\/javascript/i)&&(a.value=""),a&&a.name.match(/^href/i)&&a.value.match(/^javascript:/i)&&(a.value=""),a&&a.name.match(/^href/i)&&a.value.match(/^data:text\/javascript/i)&&(a.value=""),a&&a.name.match(/^action/i)&&a.value.match(/^javascript:/i)&&(a.value=""),a&&a.name.match(/^action/i)&&a.value.match(/^data:text\/javascript/i)&&(a.value=""),a&&a.name.match(/^srcdoc/i)&&(a.value="")}if(e.hasChildNodes&&e.hasChildNodes()&&e.childNodes)for(var s=e.childNodes.length-1;s>=0;s--){var l,r=e.childNodes[s];(null===(l=r.nodeName)||void 0===l?void 0:l.match(/script/i))?e.removeChild(r):n._sanitizeNode_r(r)}}}}})),parcelRequire.register("cWdJP",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a={},o=function(){"use strict";eturn n.default(e,[{key:"exit",value:function(){for(var e in this._instances=null,a)if(a.hasOwnProperty(e)&&a[e]===this){delete a[e];break}return null}},{key:"newId",value:function(){var e;do{e=String(Math.random()).replace(".","")}while(this._instances.hasOwnProperty(e));return e}},{key:"setInstance",value:,{key:"getInstance",value:function(e){return this._instances[e]}},{key:"insertInstance",value:],[{key:"getService",value:]),e}()})),parcelRequire.register("1MxPP",(function(e,t){$parcel$export(e.exports,"debugMode",(function(){return n})),$parcel$export(e.exports,"setDebugModeFromOpts",(function(){return s})),$parcel$export(e.exports,"default",(function(){return l}));var i=parcelRequire("5SYG3"),n=-1!==window.location.hash.indexOf("_bbdebug")||"true"===i.getCookie("bbdebug"),a="",o=(new Date).getTime(),s=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"trunk"===i.previewMode&&(n=!0),"true"!==(null===(e=i.playoutData)||void 0===e?void 0:e.bbdebug)&&!0!==(null===(t=i.playoutData)||void 0===t?void 0:t.bbdebug)||(n=!0),a=i.debugPrefix?i.debugPrefix:""},l=function(e,t){(window.location.hostname.match(/\.dev\./)||n)&&"undefined"!=typeof console&&(console.debug?console.debug(e,"".concat(a,"{").concat((new Date).getTime()-o,"}")):console.log(e),console.trace&&t&&console.trace())}})),parcelRequire.register("5SYG3",(function(e,t){$parcel$export(e.exports,"SHA1",(function(){return a})),$parcel$export(e.exports,"setCookie",(function(){return o})),$parcel$export(e.exports,"getCookie",(function(){return s}));var i,n={};i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n.uuid=function(e,t){var n,a=i,o=[];if(t=t||a.length,e)for(var s=0;s<e;s++)o[s]=a[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",s=0;s<36;s++)o[s]||(n=0|16*Math.random(),o[s]=a[19==s?3&n|8:n]);return o.join("")},n.uuidFast=n.uuidCompact=n.SHA1=n.getCookie=n.setCookie=function(e,t,i,n){if(void 0!==n&&!0!==n.disableCookies&&"true"!==n.disableCookies){var a=new Date;a.setDate(a.getDate()+i);var o=escape(t)+(null==i?"":"; expires="+a.toUTCString())+"; Path=/; Secure; SameSite=None";document.cookie=e+"="+o}};var a=n.SHA1,o=(n.uuid,n.uuidCompact,n.uuidFast,n.setCookie),s=n.getCookie})),parcelRequire.register("4AQp6",(function(module,exports){$parcel$export(module.exports,"Timer",(function(){return Timer})),$parcel$export(module.exports,"getCookie",(function(){return getCookie})),$parcel$export(module.exports,"setCookie",(function(){return setCookie})),$parcel$export(module.exports,"default",(function(){return Util})),$parcel$export(module.exports,"mapPodIndexToPosition",(function(){return mapPodIndexToPosition})),$parcel$export(module.exports,"getQueryParamsFromUrl",(function(){return getQueryParamsFromUrl})),$parcel$export(module.exports,"getQueryParamsFromQueryString",(function(){return getQueryParamsFromQueryString})),$parcel$export(module.exports,"getCustomSkinPath",(function(){return getCustomSkinPath})),$parcel$export(module.exports,"parseSkinGeneration",(function(){return parseSkinGeneration})),$parcel$export(module.exports,"fetchScript",(function(){return fetchScript})),$parcel$export(module.exports,"fetchData",(function(){return fetchData})),$parcel$export(module.exports,"assetNeedsHLSSupport",(function(){return assetNeedsHLSSupport})),$parcel$export(module.exports,"assetNeedsMPDSupport",(function(){return assetNeedsMPDSupport})),$parcel$export(module.exports,"wrapVastUrlInXml",(function(){return wrapVastUrlInXml})),$parcel$export(module.exports,"ALIGN_FLEX_MAP",(function(){return ALIGN_FLEX_MAP})),$parcel$export(module.exports,"createAsyncLock",(function(){return createAsyncLock})),$parcel$export(module.exports,"determineTopMostHostname",(function(){return determineTopMostHostname})),$parcel$export(module.exports,"flattenObject",(function(){return flattenObject})),$parcel$export(module.exports,"quantizeBitrate",(function(){return quantizeBitrate})),parcelRequire("dhZ6J");var $kwlj2=parcelRequire("kwlj2"),$bSO3J=parcelRequire("bSO3J");parcelRequire("2UpbQ");var $eV1xY=parcelRequire("eV1xY"),func;function Timer(e,t){var i,n,a=!1,o=t;this.clear=this.pause=this.resume=function(){n=new Date,window.clearTimeout(i),a||(i=window.setTimeout(e,o))},this.resume()}unction setCookie(e,t,i,n){if(void 0!==n&&!0!==n.disableCookies&&"true"!==n.disableCookies){var a=new Date;a.setDate(a.getDate()+i);var o=escape(t)+(null==i?"":"; expires="+a.toUTCString())+"; Path=/; Secure; SameSite=None";document.cookie=e+"="+o}}void 0===window.bluebillywig&&(window.bluebillywig={}),void 0===window.bluebillywig._internal&&(window.bluebillywig._internal={}),void 0===window.bluebillywig._internal.Util&&(window.bluebillywig._internal.Util=function(){}),"function"!=typeof window.bluebillywig.getPlayerInstance&&(window.bluebillywig.getPlayerInstance=function(e){var t=!1,i=0;if(window.bluebillywig&&window.bluebillywig.players&&window.bluebillywig.players.length){if(1==window.bluebillywig.players.length)return window.bluebillywig.players[0];for(var n=0;n<window.bluebillywig.players.length;n++){if("object"==typeof e){if(window.bluebillywig.players[n]._internal&&window.bluebillywig.players[n]._internal.$wrapper)window.bluebillywig.players[n]._internal.$wrapper[0]==e&&(t=window.bluebillywig.players[n],i++)}else-1!=window.bluebillywig.players[n]._id.indexOf(String(e))&&(t=window.bluebillywig.players[n],i++)}}return 1!=i&&(t=!1),t}),window.bluebillywig._internal.Util.triggerEventOnJQueryObject=function(e,t,i){if(void 0!==i||"ready"==t)e.trigger(t,[i]),void 0!==window.$&&void 0!==window.$.fn&&"string"==typeof window.$.fn.jquery&&window.$(e.get(0)).trigger(t,[i]);else if("function"==typeof Event){var n=new Event(t,{bubbles:!0,cancelable:!1});e.length&&"function"==typeof e.get(0).dispatchEvent&&e.get(0).dispatchEvent(n)}else if("function"==typeof document.createEvent){(n=document.createEvent("Event")).initEvent(t,!0,!1),"function"==typeof e.get(0).dispatchEvent&&e.get(0).dispatchEvent(n)}else if("function"==typeof document.createEventObject){n=document.createEventObject(window.event);"function"==typeof e.get(0).fireEvent?e.get(0).fireEvent(t,n):(e.trigger(t),void 0!==window.$&&window.$(e.get(0)).trigger(t))}else e.trigger(t),void 0!==window.$&&window.$(e.get(0)).trigger(t)},window.bluebillywig._internal.Util.triggerEventOnJQueryObjectFlash=function(e,t,i){void 0!==i?e.trigger(t,[i]):e.trigger(t)},window.bluebillywig._internal.Util.triggerEventOnParentByIdFlash=function(e,t,i){window.bluebillywig._internal.Util.triggerEventOnJQueryObjectFlash($parcel$interopDefault($eV1xY)("#"+e).parent(),t,i)},window.bluebillywig._internal.Util.triggerEventOnParentById=function(e,t,i){window.bluebillywig._internal.Util.triggerEventOnJQueryObject($parcel$interopDefault($eV1xY)("#"+e).parent(),t,i)},window.bluebillywig._internal.Util.setAttributeOnParentById=function(e,t,i){$parcel$interopDefault($eV1xY)("#"+e).parent().attr(t,i)},window.bluebillywig._internal.Util.executeJavascript=function(js){try{return eval(js)}catch(e){"undefined"!=typeof console&&console.log("Notice: there was an error executing the javascript by executeJavascript. Provided JavaScript was: "+js)}},window.bluebillywig._internal.Util.requestAnimFrame=(func=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||func.call?function(e){return func.call(window,e)}:func),window.bluebillywig._internal.Util.cancelRequestAnimFrame=function(e){var t=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;return t.call?function(e){return t.call(window,e)}:t}(),window.bluebillywig._internal.Util.languageFromIsoCode=function(e){return{dk:"Dansk",de:"Deutsch",en:"English",es:"Español",fr:"Français",fy:"Frysk",ga:"Irish",it:"Italiano",nl:"Nederlands",pl:"Polski",sv:"Svenska",fi:"Suomi",zh:"中文"}[e=(null==e?void 0:e.toLowerCase())||""]||e||"--"},window.triggerEventOnJQueryObject=window.bluebillywig._internal.Util.triggerEventOnJQueryObject,window.triggerEventOnParentById=window.bluebillywig._internal.Util.triggerEventOnParentById,window.setAttributeOnParentById=window.bluebillywig._internal.Util.setAttributeOnParentById,window.bbExecuteJavascript=window.bluebillywig._internal.Util.executeJavascript;var Util=window.bluebillywig._internal.Util;function mapPodIndexToPosition(e){return e=parseInt(e),Number.isNaN(e)?null:-1===e?"postroll":0===e?"preroll":"midroll"}function getQueryParamsFromUrl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e;if("function"==typeof URL)try{var n=new URL(e,"https://bbvms.com");i=n.search}catch(e){}return getQueryParamsFromQueryString(i,t)}function getQueryParamsFromQueryString(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof URLSearchParams){var i=new URLSearchParams(e);i.fori]=e}))}else for(var n=/\?([^#]*)/.exec(e),a=(null==n?void 0:n.length)?n[1]:"",o=a.split("&"),s=0,l=o.length;s<l;s++){var r="",d=null;try{var u=o[s].indexOf("=");u>=0?(r=decodeURIComponent(o[s].substring(0,u)),d=decodeURIComponent(o[s].substring(u+1))):r=decodeURIComponent(o[s])}catch(e){}t[r]=d}return t}function getCustomSkinPath(e){var t,i,n,a,o,s,l,r,d,u;if(!e)return null;if("true"===(null===(t=e.requestParams)||void 0===t?void 0:t.forceNativeSkin)||"true"===(null===(i=e.playoutData)||void 0===i?void 0:i.forceNativeSkin))return"";var c=null===(n=e.playoutData)||void 0===n||null===(a=n.publication)||void 0===a?void 0:a.split(".")[1],h=c&&["dev","acc","test"].includes(c)?"-"+c:"";e.previewMode&&["dev","acc","test"].includes(e.previewMode)?h="-"+e.previewMode:"prod"===e.previewMode&&(h="");var p={g6:"https://d1i254ftm0zvcw.cloudfront.net/apps/skins/v6.40.0-old/",g7:"https://cdn".concat(h,".bluebillywig.com/apps/player-skin-g7/latest/"),g8:"https://cdn".concat(h,".bluebillywig.com/apps/player-skin-g8/latest/main/")},_=(null===(o=e.requestParams)||void 0===o?void 0:o.skinGeneration)||(null===(s=e.playoutData)||void 0===s?void 0:s.skinGeneration)||(null===(l=e.publicationData)||void 0===l?void 0:l.skinGeneration),m=null==_?void 0:_.includes("preview"),f=parseSkinGeneration(_),v=(null===(r=e.requestParams)||void 0===r?void 0:r.customSkinPath)||(null===(d=e.playoutData)||void 0===d?void 0:d.customSkinPath)||(null===(u=e.publicationData)||void 0===u?void 0:u.customSkinPath);return v||m&&!(f>8)||(v=p["g"+f]),v||""}function parseSkinGeneration(e){if(!e)return null;var t=parseFloat(e.substring(1));return"number"!=typeof t?null:t}function fetchScript(e,t){var i=new Promise((function(i,n){var a=document.createElement("script");(null==t?void 0:t.async)&&(a.async=t.async),a.onload=function(e){try{document.head.removeChild(a)}catch(e){}i("loaded")},a.onerror=function(e){try{document.head.removeChild(a)}catch(e){}n(new Error("error"))},a.src=null==e?void 0:e.toString();try{document.head.appendChild(a)}catch(e){n(new Error("dom"))}}));if((null==t?void 0:t.timeout)>=0){var n=new Promise((function(e,i){window.setTimeout((function(){i(new Error("timeout"))}),t.timeout)}));return Promise.race([i,n])}return i}function fetchData(e,t){var i=null==e?void 0:e.toString(),n=(null==t?void 0:t.dataType)||"json",a=new Headers({Accept:"application/json, text/javascript, */*; q=0.01","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"cross-site"}),o=!0,s=!1,l=void 0;if(null==t?void 0:t.extraHeaders)try{for(var r,d=t.extraHeaders[Symbol.iterator]();!(o=(r=d.next()).done);o=!0){var u=r.value;a.set(u[0],u[1])}}catch(e){s=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}var c=(null==t?void 0:t.method)||"GET",h=(null==t?void 0:t.cache)||"default",p=null;if(null==t?void 0:t.data)if("GET"===c){var _=new URLSearchParams(t.data);i+=(-1===i.indexOf("?")?"?":"&")+_.toString()}else switch(null==t?void 0:t.contentType){case"multipart/form-data":case"application/x-www-form-urlencoded":var m=new URLSearchParams(t.data);a.set("Content-Type","application/x-www-form-urlencoded"),p=m.toString();break;case"text/plain":a.set("Content-Type","text/plain"),p=t.data;break;default:p=JSON.stringify(t.data)}var f={headers:a,method:c,cache:h};return null!==p&&(f.body=p),(null==t?void 0:t.credentials)&&(f.credentials=t.credentials),fetch(i,f).then((function(e){if(e.ok)return"json"===n?e.json():e.text();throw new Error("http error")}))}function assetNeedsHLSSupport(e){if(e&&e.processedSrc){if(e.processedSrc.match(/\.m3u8$/i))return!0;if(e.processedSrc.match(/\.m3u8\?/i))return!0;if(e.processedSrc.match(/\.m3u8&/i))return!0;if(e.processedSrc.match(/\.m3u8#/i))return!0;if(e.processedSrc.match(/\.m3u$/i))return!0;if(e.processedSrc.match(/\.m3u\?/i))return!0;if(e.processedSrc.match(/\.m3u&/i))return!0;if(e.processedSrc.match(/\.m3u#/i))return!0;if(e.processedSrc.match(/\output\=playlist\.m3u8/i))return!0;if(e.processedSrc.match(/\profile\=hls/i))return!0}return!1}function assetNeedsMPDSupport(e){if(e){var t;if(null===(t=e.mediatype)||void 0===t?void 0:t.match(/MPD$/i))return!0;if(e.processedSrc){if(e.processedSrc.match(/\.mpd$/i))return!0;if(e.processedSrc.match(/\.mpd\?/i))return!0;if(e.processedSrc.match(/\.mpd&/i))return!0;if(e.processedSrc.match(/\.mpd#/i))return!0;if(e.processedSrc.match(/\.cmfv$/i))return!0;if(e.processedSrc.match(/\.cmfv\?/i))return!0;if(e.processedSrc.match(/\.cmfv&/i))return!0;if(e.processedSrc.match(/\.cmfv#/i))return!0;if(e.processedSrc.match(/\output\=playlist\.mpd/i))return!0;if(e.processedSrc.match(/\output\=playlist\.cmfv/i))return!0}}retT>")}var ALIGN_FLEX_MAP={top:"flex-start",left:"flex-start",center:"center",right:"flex-end",bottom:"flex-end"},createAsyncLock=function(){var e=[],t=!1;return function(i){if("function"==typeof i){var n,a,o,s=new Pro,a=t})),l=(o=$kwlj2.default($parcel$interopDefault($bSO3J).mark((function o(){var s;return $parcel$interopDefault($bSO3J).wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!((s=i())instanceof Promise)){o.next=14;break}return o.prev=3,o.next=6,s;case 6:n(),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(3),a();case 12:o.next=15;break;case 14:n();case 15:o.next=20;break;case 17:o.prev=17,o.t1=o.catch(0),a();case 20:e.length?e.shift()():t=!1;case 21:case"end":return o.stop()}}),o,null,[[0,17],[3,9]]nts)});return t?e.push(l):(t=!0,l()),s}}},determineTopMostHostname=function(){var e;try{e=window.top.location.hostname}catch(n){try{if(window.location.ancestorOrigins){var t=Array.from(window.location.ancestorOrigins).reverse();t.length&&(e=new URL(t[0]).hostname)}if(!e){var i=window;do{try{i.document.referrer&&(e=new URL(i.document.referrer).hostname),i=i.parent}catch(e){break}}while(i!==window.top)}}catch(e){}}return e},flattenObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(i=i||{},t&&"object"==typeof e&&null!==e&&0===Object.keys(e).length)return i[t]=Array.isArray(e)?[]:{},i;for(var n in t=t?t+"/":"/",e)Object.prototype.hasOwnProperty.call(e,n)&&(Array.isArray(e[n])||"[object Object]"===Object.prototype.toString.call(e[n])&&null!==e[n]?flattenObject(e[n],t+n,i):i[t+n]=e[n]);return i},quantizeBitrate=function(e){return Math.max(250,500*Math.pow(2,Math.round(Math.log(e/500)/Math.log(2))))}})),parcelRequire.register("bSO3J",(function(e,t){var i=function(e){vae[l):e}}},o=function(){},s=function(){},l=function()}o(g)h(on(!t::!0}},f=Object.prototype,v=f.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},y=g.iterator||"@@iterator",b=g.asyncIterator||"@@asyncIterator",w=g.toStringTag||"@@toStringTag";try{i({},"")}catcht]=i}}e.wrap=n;var k="suspendedStart",$="suspendedYield",C="executing",S="completed",P={},x={};i(x,y,(function(){return this}));var A=Object.getPrototypeOf,I=A&&A(A(_([])));I&&I!==f&&v.call(I,y)&&(x=I);var T=l.prototype=o.prototype=Object.creal,P)}return s.prototype=l,i(T,"constructor",l),i(l,"constructor",s),s.displayName=i(l,w,"GeneratorFunction"),e.isGeneratorFunme))},eT),e},e.t:e}},r(d.prototype),i(d.prototype,b,(function(){return this})),e.AsyncIterator=d,e.)}))},r(T),i(T,w,"Generator"),ithis})),i(T,"toString",(function(){return"[object Generator]"})),e0,i}},e.values=_,p.prototype={constructor:p,]=t)}rval},dispatchExce)}}}},ae(o)},comt),P},f),P}},pt")},delegatet),P}},e}(e.exports);try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}})),parcelRequire.register("fNkWI",(function(module,exports){$parcel$export(module.exports,"default",(function(){return Main})),parcelRequire("dhZ6J");var $5ZUO7=parcelRequire("5ZUO7"),$8Ut1N=parcelRequire("8Ut1N"),$kGxFZ=parcelRequire("kGxFZ"),$b8peP=parcelRequire("b8peP"),$Yh8Zl=parcelRequire("Yh8Zl"),$as4oN=parcelRequire("as4oN"),$krOAZ=parcelRequire("krOAZ");parcelRequire("2UpbQ");var $eV1xY=parcelRequire("eV1xY"),$cWdJP=parcelRequire("cWdJP"),$1MxPP=parcelRequire("1MxPP"),$9XayH=parcelRequire("9XayH"),$h7NM0=parcelRequire("h7NM0"),$aFOlr=parcelRequire("aFOlr"),$b53xq=parcelRequire("b53xq"),$jKHMz=parcelRequire("jKHMz"),$hW0rB=parcelRequire("hW0rB"),$hS874=parcelRequire("hS874"),$3rRHZ=parcelRequire("3rRHZ"),$d9nui=parcelRequire("d9nui"),$4AQp6=parcelRequire("4AQp6"),SharedDataService,CSSFontInjector,SubtitleEngine,TextAlternativeEngine,$gKZVx=parcelRequire("gKZVx"),PublicAPI=$gKZVx.default,$jiyyY=parcelRequire("jiyyY"),ProgramController=$jiyyY.default,ShortsEngine,MediaBufferManager;SharedDataService=parcelRequire("gw5Tk").default,CSSFontInjector=parcelRequire("82Auv").default,TextAlternativeEngine=parcelRequire("kDHLS").default,SubtitleEngine=parcelRequire("i5lEg").default;var Main=function(e,t){var i,n,a;if(this.$element=null,this._opts=void 0!==t?t:null,null!=this._opts&&void 0!==this._opts.publicationData&&(this._opts.publicationData.server=this._opts.publicationData.baseurl),this._data=null,null!=this._opts&&(this._data={},void 0!==this._opts.playoutData&&(this._data.playoutData=this._opts.playoutData),void 0!==this._opts.clipData&&(this._data.clipData=this._opts.clipData),void 0!==this._opts.clipListData&&(this._data.clipListData=this._opts.clipListData),void 0!==this._opts.projectData&&(this._data.projectData=this._opts.projectData)),this.api=null,this._playoutController=null,this._programController=null,this._skinController=null,this._soundController=null,this._componentBroker=null,this._sizer=null,this._interactivity=null,this._mouseController=null,this._inViewController=null,this._localStorage=null,this._CSSFontInjector=null,this._statsEngine=null,this._subtitleEngine=null,this._textAlternativeEngine=null,this._$contentLayer=null,this._$errorLayer=null,this._$skinLayer=null,this._$menuLayer=null,this._$contextLayer=null,this._fullscreen=!1,this._skinGeneration=null===(i=$cWdJP.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===i?void 0:i.getGeneration(),this._customSkinPath=$4AQp6.getCustomSkinPath(t),this._customSkinPath_prev=null,this._taggingDisabled="true"===(null==t||null===(n=t.playoutData)||void 0===n?void 0:n.taggingDisabled),document.querySelectorAll('script[type="application/ld+json"]').length>0&&(this._taggingDisabled=!0),this._isolatePlayer=t&&t.playoutData&&"true"===t.playoutData.isolatePlayer,this._cornerRadius=parseFloat(null==t||null===(a=t.playoutData)||void 0===a?void 0:a.cornerRadius)||0,t&&t.adServicesData)for(var o=0;o<t.adServicesData.length;o++)t.adServicesData[o].positionType&&t.adServicesData[o].positionType.match(/outstream/i)&&(this._isolatePlayer="true"===t.adServicesData[o].playout.isolatePlayer);if(this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onSkinCreatedBound=this._onSkinCreated.bind(this),this._onFullscreenChangeBound=this._onFullscreenChange.bind(this),void 0!==e&&null!=e){if(this.$element=e,this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_skin_created",this._onSkinCreatedBound),this.$element.on("bb_fullscreen_change",this._onFullscreenChangeBound),this._initWrapper()||this._logError("failed to init wrapper"),this._initLayers()||this._logError("failed to init layers"),this._initDetections()||this._logError("failed to init detections"),$1MxPP.debugMode&&performance.mark("SharedDataService"),"function"==typeof SharedDataService&&(this._sharedDataService=new SharedDataService(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_SharedDataService"),$1MxPP.debugMode&&performance.mark("LocalStorage"),"function"==typeof $3rRHZ.default&&(this._localStorage=new $3rRHZ.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_LocalStorage"),$1MxPP.debugMode&&performance.mark("CSSFontInjector"),"function"==typeof CSSFontInjector&&(this._CSSFontInjector=new CSSFontInjector(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_CSSFontInjector"),!this._taggingDisabled){var s=this;this._itemScopePromise||(this._itemScopePromise=parcelRequire("iUJnS")),this._itemScopePromise.then((function(e){var t=e.default;$1MxPP.debugMode&&performance.mark("ItemScope"),"function"==typeof t&&(s._itemScope=new t(s.$element,s._opts)),$1MxPP.debugMode&&performance.mark("end_ItemScope")}))}$1MxPP.debugMode&&performance.mark("ComponentBroker"),"function"==typeof $9XayH.default&&(this._componentBroker=new $9XayH.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_ComponentBroker"),$1MxPP.debugMode&&performance.mark("StatsEngine"),"function"==typeof $krOAZ.default&&(this._statsEngine=new $krOAZ.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_StatsEngine"),$1MxPP.debugMode&&performance.mark("EventEngine"),"function"==typeof $as4oN.default&&(this._eventEngine=new $as4oN.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_EventEngine"),$1MxPP.debugMode&&performance.mark("PlayoutController"),"function"==typeof $8Ut1N.default&&(this._playoutController=new $8Ut1N.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_PlayoutController"),$1MxPP.debugMode&&performance.mark("SoundController"),"function"==typeof $b8peP.default&&(this._soundController=new $b8peP.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_SoundController"),$1MxPP.debugMode&&performance.mark("ProgramController"),"function"==typeof ProgramController&&(this._programController=new ProgramController(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_ProgramController"),$1MxPP.debugMode&&performance.mark("Sizer"),"function"==typeof $d9nui.default&&(this._sizer=new $d9nui.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_Sizer"),$1MxPP.debugMode&&performance.mark("Interactivity"),"function"==typeof $jKHMz.default&&(this._interactivity=new $jKHMz.default(this.$element,this._opts)),"function"==typeof $hW0rB.default&&(this._mouseController=new $hW0rB.default(this.$element,this._opts)),"function"==typeof $hS874.default&&(this._inViewController=new $hS874.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_Interactivity"),$1MxPP.debugMode&&performance.mark("PublicAPI"),"function"==typeof PublicAPI&&(this.api=new PublicAPI(this.$element,this._opts),this._initCmdQueue()),$1MxPP.debugMode&&performance.mark("end_PublicAPI"),$1MxPP.debugMode&&performance.mark("Executer"),"function"==typeof $b53xq.default&&(this._executer=new $b53xq.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_Executer"),$1MxPP.debugMode&&performance.mark("SubtitleEngine"),"function"==typeof SubtitleEngine&&(this._subtitleEngine=new SubtitleEngine(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_SubtitleEngine"),$1MxPP.debugMode&&performance.mark("TextAlternativeEngine"),"function"==typeof TextAlternativeEngine&&(this._textAlternativeEngine=new TextAlternativeEngine(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_TextAlternativeEngine"),$1MxPP.debugMode&&performance.mark("ErrorEngine"),"function"==typeof $Yh8Zl.default&&(this._errorEngine=new $Yh8Zl.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_ErrorEngine"),$1MxPP.debugMode&&performance.mark("ContextMenu"),"function"==typeof $h7NM0.default&&(this._contextMenu=new $h7NM0.default(this.$element,this._opts)),$1MxPP.debugMode&&performance.mark("end_ContextMenu"),this._getData(this._dataCallback.bind(this))}};Main.prototype._onFullscreenChange=function(e,t){e.stopPropagation(),void 0!==t&&(this._fullscreen=t.fullscreen),this._setBorderRadiusWrapper(this._cornerRadius),this._checkBackgroundColor()},Main.prototype._onPlayoutChanged=function(ev,payload){if(payload&&payload.playoutData){var pl=payload.playoutData;if(void 0!==pl.customSkinPath||void 0!==pl.skinGeneration){var opts=$5ZUO7.default({},this._opts);if(opts.playoutData=pl,delete opts.requestParams,this._customSkinPath=$4AQp6.getCustomSkinPath(opts),this._customSkinPath&&this._customSkinPath!==this._customSkinPath_prev){var _this=this;this._customSkinPath_prev=this._customSkinPath;var customSkinJsonUrl=this._customSkinPath+"skin.json";$4AQp6.fetchData(customSkinJsonUrl).then((function(data){$1MxPP.debugMode&&performance.mark("PlayoutChangedSkinPlacement");var customSkinPath=_this._customSkinPath;data&&data.customSkinInfo&&(_this._opts.customSkinInfo=data.customSkinInfo),data&&data.customSkinCss&&(_this._opts.playerCSS=data.customSkinCss.replace(/{{bbCustomSkinPath}}/g,_this._customSkinPath)),data&&data.customSkinHtml&&(_this._opts.playerHTML=data.customSkinHtml),data&&data.customSkinJs&&eval(data.customSkinJs),$1MxPP.debugMode&&performance.mark("end_PlayoutChangedSkinPlacement"),_this._initSkin(_this._opts.customSkinInfo)}))}}pl&&void 0!==pl.bgColor&&this._checkBackgroundColor(pl.bgColor),void 0!==pl.cornerRadius&&(this._cornerRadius=parseFloat(pl.cornerRadius)||0,this._setBorderRadiusWrapper(this._cornerRadius))}},Main.prototype._onSkinCreated=function(e,t){t&&void 0!==t.skinGeneration&&(this._skinGeneration=t.skinGeneration),this._setBorderRadiusWrapper(this._cornerRadius)},Main.prototype.exit=function(){var e,t,i,n;return this.$element&&(this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_skin_created",this._onSkinCreatedBound),this.$element.off("bb_fullscreen_change",this._onFullscreenChangeBound)),null!=this._programController&&(this._programController=this._programController.exit()),null!=this._soundController&&(this._soundController=this._soundController.exit()),null!=this.api&&(this.api=this.api.exit()),this._mouseController=null===(e=this._mouseController)||void 0===e?void 0:e.exit(),this._inViewController=null===(t=this._inViewController)||void 0===t?void 0:t.exit(),this._interactivity=null===(i=this._interactivity)||void 0===i?void 0:i.exit(),this._exitCmdQueue(),null!=this._skinController&&(this._skinController=this._skinController.exit()),null!=this._eventEngine&&(this._eventEngine=this._eventEngine.exit()),null!=this._statsEngine&&(this._statsEngine=this._statsEngine.exit()),null!=this._subtitleEngine&&(this._subtitleEngine=this._subtitleEngine.exit()),null!=this._textAlternativeEngine&&(this._textAlternativeEngine=this._textAlternativeEngine.exit()),null!=this._componentBroker&&(this._componentBroker=this._componentBroker.exit()),null!=this._itemScope&&(this._itemScope=this._itemScope.exit()),null!=this._CSSFontInjector&&(this._CSSFontInjector=this._CSSFontInjector.exit()),null!=this._localStorage&&(this._localStorage=this._localStorage.exit()),this._sharedDataService=null===(n=this._sharedDataService)||void 0===n?void 0:n.exit(),this._customSkinPath=null,this._customSkinPath_prev=null,null},Main.prototype._initWrapper=function(){return this._checkBackgroundColor(),this._setBorderRadiusWrapper(this._cornerRadius),!0},Main.prototype._initLayers=function(){return this.$element.empty(),this._opts&&!0===this._opts.noSkinMode?this._$style=$parcel$interopDefault($eV1xY)("<style>.bb_wrapper {cursor: default; margin:0; box-sizing: content-box; } .bb_wrapper div {margin:0;} .bb_wrapper .bb-layer { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none !important; overflow:hidden;} .bb_wrapper .bb-layer .bb-head, .bb_wrapper .bb-layer .bb-head video { width:100%; height: 100%; } .bb_wrapper video::-webkit-media-controls-start-playback-button {display: none; -webkit-appearance: none;} .bb_wrapper audio::-webkit-media-controls-start-playback-button {display: none; -webkit-appearance: none;} .bb_wrapper .bb-fitme {pointer-events:none !important;}.bb_wrapper .bb-fitme.bb-head-layer{pointer-events:none !important;} .bb_wrapper .bb-fitme.bb-head-layer .bb-head{pointer-events:auto !important;} .bb_wrapper .bb-fitme.bb-poster-layer img{display:none}</style>").appendTo(this.$element):this._$style=$parcel$interopDefault($eV1xY)("<style>.bb_wrapper {cursor: default; margin:0; box-sizing: content-box; } .bb_wrapper div {margin:0;} .bb_wrapper .bb-layer { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none !important; overflow:hidden;} .bb_wrapper .bb-layer .bb-head, .bb_wrapper .bb-layer .bb-head video { width:100%; height: 100%; } .bb_wrapper video::-webkit-media-controls-start-playback-button {display: none; -webkit-appearance: none;} .bb_wrapper audio::-webkit-media-controls-start-playback-button {display: none; -webkit-appearance: none;} .bb_wrapper .bb-fitme {pointer-events:none !important;} .bb_wrapper .bb-fitme.bb-poster-layer {width:100%;height:100%;}</style>").appendTo(this.$element),this._$contentLayer=$parcel$interopDefault($eV1xY)('<div class="bb-layer bb-content-layer"></div>').appendTo(this.$element),this._$commercialLayer=$parcel$interopDefault($eV1xY)('<div class="bb-layer bb-commercial-layer"></div>').appendTo(this.$element),this._$errorLayer=$parcel$interopDefault($eV1xY)('<div class="bb-layer bb-error-layer"></div>').appendTo(this.$element),this._isolatePlayer&&document.body.attachShadow?(this._$skinLayer_host=$parcel$interopDefault($eV1xY)('<div class="bb-layer bb-skin-layer-host"></div>').appendTo(this.$element),this._$skinLayer_root=$parcel$interopDefault($eV1xY)(this._$skinLayer_host[0].attachShadow({mode:"open"})),$parcel$interopDefault($eV1xY)("<style>.bb-layer { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none !important; overflow:hidden;} .bb-layer .bb-head, .bb-layer .bb-head video { width:100%; height: 100%; }</style>").appendTo(this._$skinLayer_root)):this._$skinLayer_root=this.$element,this._$skinLayer=$parcel$interopDefault($eV1xY)('<div class="bb-layer bb-skin-layer"></div>').appendTo(this._$skinLayer_root),this._$contextLayer=$parcel$interopDefault($eV1xY)('<div class="bb-layer bb-context-layer"></div>').appendTo(this.$element),this._$contentLayer.append('<div class="bb-fitme bb-head-layer" style="z-index:0;"></div><div class="bb-fitme bb-poster-layer" style="z-index:0;"></div><div class="bb-fitme bb-timeline-layer" style="z-index:0;"></div><div class="bb-layer bb-subtitle-layer" style="z-index:0;"></div>'),this._$commercialLayer.append('<div class="bb-layer bb-placeholder-layer" style="z-index:0;"></div><div class="bb-fitme bb-head-layer" style="z-index:0;"></div><div class="bb-layer bb-cta-layer" style="z-index:0;"></div>'),!0},Main.prototype._initDetections=function(){return $cWdJP.default.getService(this._opts.playerAliasOrId).getInstance("Detections")||($1MxPP.debugMode&&performance.mark("Detections"),this._detections=new $aFOlr.default(this.$element,this._opts),$1MxPP.debugMode&&performance.mark("end_Detections")),!0},Main.prototype._initSkin=function(e){var t={useCustomSkin:!1,containerSelector:".bb-container",css:this._opts.playerCSS,html:this._opts.playerHTML,name:null!=this._opts.playoutData&&void 0!==this._opts.playoutData.skin_name?this._opts.playoutData.skin_name:"default"};return"object"==typeof e&&((t=e).useCustomSkin=!0,t.css=this._opts.playerCSS,t.html=this._opts.playerHTML),this._skinInfo=t,this._skinController&&(this._skinController=this._skinController.exit()),$1MxPP.debugMode&&performance.mark("SkinController"),"function"==typeof $kGxFZ.default&&(this._skinController=new $kGxFZ.default(this.$element,this._opts,this._skinInfo)),$1MxPP.debugMode&&performance.mark("end_SkinController"),!0},Main.prototype._setBackgroundColor=function(e){(e=Main.sanitizeCssColor(e))&&("inherit"==e?this.$element.css("background","none"):this.$element.css("background-color",e))},Main.prototype._checkBackgroundColor=function(e){var t,i;e||(e=null===(t=this._opts)||void 0===t||null===(i=t.playoutData)||void 0===i?void 0:i.bgColor),this._setBackgroundColor(void 0===e||this._fullscreen?"#000":e)},Main.prototype._setBorderRadiusWrapper=function(e){e&&parseFloat(e)>0&&this._skinGeneration>=8&&!this._fullscreen?(this.$element.css("border-radius",e+"px"),this.$element.find(".bb-layer").css("border-radius",e+"px"),this.$element.find(".bb-head-layer, .bb-poster-layer").css({"border-radius":e+"px",overflow:"hidden"})):(this.$element.css("border-radius","0px"),this.$element.find(".bb-layer").css("border-radius","0px"),this.$element.find(".bb-head-layer, .bb-poster-layer").css({"border-radius":"0px",overflow:"visible"}))},Main.sanitizeCssColor=function(e){e&&e.match(/^#/)&&(e=e.substr(1));var t=e;if(!isNaN(parseInt(e,16))){t="";for(var i=0;!isNaN(parseInt(e.substr(i,1),16));)t+=e.substr(i,1),i++;t=(3===i||6===i)&&"#"+t}return t},Main.rgbaCssColor=function(e,t){var i=e;if(e&&e.match(/^#/)&&(e=e.substr(1)),!isNaN(parseInt(e,16))){var n=[],a=0;if(e.length<=4){for(a=0;!isNaN(parseInt(e.substr(a,1),16));)n[a]=parseInt(e.substr(a,1).repeat(2),16),a++;void 0!==t&&(n[3]=Math.min(Math.max(parseFloat(t),0),1))}else if(e.length<=8){for(a=0;!isNaN(parseInt(e.substr(2*a,2),16));)n[a]=parseInt(e.substr(2*a,2),16),a++;void 0!==t&&(n[3]=Math.min(Math.max(parseFloat(t),0),1))}else n=!1;i=(void 0!==n[3]?"rgba":"rgb")+"("+n.join(",")+")"}return i},Main.prototype._getData=function(e){if(null==this._data){var t=this,i="".concat(this._opts.embedData.baseurl,"/").concat(this._opts.embedData.playoutIndicator,"/").concat(this._opts.embedData.playoutSafeName,"/").concat(this._opts.embedData.contentIndicator,"/").concat(this._opts.embedData.contentId,".json");$4AQp6.fetchData(i).then((function(i){t._data=i,"function"==typeof e&&e(!0)})).catch((function(i){t._logError("json request failed: "+i),"function"==typeof e&&e(!1)}))}else"function"==typeof e&&e(!0)},Main.prototype._dataCallback=function(e){if(!0!==this._opts.noSkinMode&&(this._initSkin(this._opts.customSkinInfo)||this._logError("failed to init skin")),e){var t,i,n;void 0!==this._data.playoutData&&this.$element.trigger("bb_playout_loaded",[{playoutData:this._data.playoutData}]);var a=(null===(t=this._opts)||void 0===t||null===(i=t.requestParams)||void 0===i?void 0:i.initiator)||(null===(n=this._opts)||void 0===n?void 0:n.initiator)||"default",o=void 0,s=this._data&&this._data.playoutData&&this._data.playoutData.t?Main.tToTime(this._data.playoutData.t):void 0;if(void 0!==this._data.clipListData&&null!=this._data.clipListData){"default"===a&&(a="cliplist"),this._data.projectData&&this._data.projectData.type&&this._data.projectData.id?(this._data.projectData.isPrefetch=!0,this._data.clipListData.items||(this._data.clipListData.items=[]),this._data.clipListData.items[0]=this._data.projectData):this._data.clipData&&this._data.clipData.type&&this._data.clipData.id&&(this._data.clipData.isPrefetch=!0,this._data.clipListData.items||(this._data.clipListData.items=[]),this._data.clipListData.items[0]=this._data.clipData);var l=this._opts&&this._opts.usingSuggest;l&&"cliplist"===a&&(a="suggest"),null!=this._programController&&(l?(this._data.clipData.isPrefetch=!0,this._programController.loadData(this._data.clipData,a,o,s)):this._programController.loadData(this._data.clipListData,a,o,s))}else void 0!==this._data.projectData&&null!=this._data.projectData?(void 0!==this._data.clipData&&null!=this._data.clipData&&(this._data.clipData.isPrefetch=!0,this._data.projectData.mainMediaClipData=this._data.clipData),this._programController&&this._programController.loadData(this._data.projectData,a,o,s)):void 0!==this._data.clipData&&null!=this._data.clipData?(this._data.clipData.isPrefetch=!0,null!=this._programController&&this._programController.loadData(this._data.clipData,a,o,s)):null!=this._programController&&this._programController.load(this._opts.embedData.contentId,this._opts.embedData.contentIndicator,a,o,s)}},Main.prototype._initCmdQueue=function(){window.bluebillywig&&void 0===window.bluebillywig.cmd&&(window.bluebillywig.cmd=[]),window.bluebillywig&&void 0===window.bluebillywig._cmdQueueHandlers&&(window.bluebillywig._cmdQueueHandlers=[]),this._cmdQueueHandler=this._handleCmdQueue.bind(this),window.bluebillywig._cmdQueueHandlers.push(this._cmdQueueHandler),window.bluebillywig.cmd.hasOwnProperty("_regularPush")||(window.bluebillywig.cmd._regularPush=window.bluebillywig.cmd.push,window.bluebillywig.cmd.push=function(e){window.bluebillywig.cmd._regularPush(e);for(var t=0;t<window.bluebillywig._cmdQueueHandlers.length;t++){var i=window.bluebillywig._cmdQueueHandlers[t];"function"==typeof i&&i()}}),this._handleCmdQueue()},Main.prototype._handleCmdQueue=function(){for(var e=window.bluebillywig.cmd.length,t=0;t<e;t++)window.bluebillywig.cmd[t]=this._handleCmd(window.bluebillywig.cmd[t]);for(var i=e-1;i>=0;)null===window.bluebillywig.cmd[i]&&window.bluebillywig.cmd.splice(i,1),i--},Main.prototype._handleCmd=function(e){return"function"==typeof e?(e(this.api),null):(null==e?void 0:e.playerId)&&"function"==typeof e.callback&&this.api._playerId===e.playerId||(null==e?void 0:e.playerAlias)&&"function"==typeof e.callback&&this.api._playerAlias===e.playerAlias?(e.callback(this.api),null):((null==e?void 0:e.playerId)||(null==e?void 0:e.playerAlias))&&"function"==typeof e.callback?e:null},Main.prototype._exitCmdQueue=function(){if(this._cmdQueueHandler){if(window.bluebillywig._cmdQueueHandlers&&window.bluebillywig._cmdQueueHandlers.length){var e=window.bluebillywig._cmdQueueHandlers.indexOf(this._cmdQueueHandler);e>=0&&window.bluebillywig._cmdQueueHandlers.splice(e,1)}this._cmdQueueHandler=null}},Main.tToTime=function(e){var t=void 0;if("string"==typeof e&&e.match(/^\d*h?\d*m?[\d.]+s?$/i)&&(e=e.replace(/h|m/gi,":").replace(/s/gi,"")),"string"==typeof e&&e.match(/\:+/)){t=0;for(var i=e.split(/\:+/g).reverse(),n=0;n<i.length;n++)isNaN(parseFloat(i[n]))||(t+=parseFloat(i[n])*Math.pow(60,n))}else t=parseFloat(e);return t},Main.prototype._logError=function(e){this.$element.trigger("bb_error",[{msg:e}])}})),parcelRequire.register("8Ut1N",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("cWdJP");parcelRequire("2UpbQ");var n=parcelRequire("eV1xY"),a=function(e,t){var n;this.$element=null,this._opts=void 0!==t?t:null,void 0!==e&&null!=e&&(this.$element=e,i.default.getService(this._opts.playerAliasOrId).setInstance("PlayoutController",this)),this._originalPlayout=(null===(n=this._opts)||void 0===n?void 0:n.playoutData)||{},this._resetPlayout={}};a.prototype.exit=function(){return i.default.getService(this._opts.playerAliasOrId).setInstance("PlayoutController",null),this._opts=null,null},a.prototype.loadData=function(e){var t=!1;if(void 0!==e&&null!=e){if(this._opts||(this._opts={}),this._opts.playoutData||(this._opts.playoutData={}),e!==this._opts.playoutData){for(var i in this._opts.playoutData)this._opts.playoutData[i]=void 0;for(var i in e)this._opts.playoutData[i]=e[i]}this.$element.trigger("bb_playout_loaded",[{playoutData:this._opts.playoutData}]),t=!0}return t},a.prototype.updateData=function(e){var t=!1;if(void 0!==e&&null!=e&&(this._opts||(this._opts={}),this._opts.playoutData||(this._opts.playoutData={}),e!==this._opts.playoutData)){for(var i in e){var n=e[i];try{n&&!JSON.stringify(n)&&(n=n.toString())}catch(e){n=null}this._opts.playoutData[i]=n}this.$element.trigger("bb_playout_changed",[{playoutData:e}]),t=!0}return t},a.prototype.setTemporaryPlayoutData=function(e){if(e){var t;for(var i in e)this._resetPlayout[i]=this._originalPlayout&&void 0!==this._originalPlayout[i]?this._originalPlayout[i]:null;return null===(t=this.$element)||void 0===t||t.trigger("bb_playout_changed",[{playoutData:$parcel$interopDefault(n).extend(!0,{},e)}]),!0}return!1},a.prototype.resetTemporaryPlayoutData=function(){var e;this._resetPlayout&&(null===(e=this.$element)||void 0===e||e.trigger("bb_playout_changed",[{playoutData:$parcel$interopDefault(n).extend(!0,{},this._resetPlayout)}]),this._resetPlayout={})}})),parcelRequire.register("kGxFZ",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=parcelRequire("1MxPP"),o=parcelRequire("5FmwA"),s=function(e,t,o){var s,l,r,d,u,c;if(this.$element=null,this._opts=t,this._eventNS="SkinController"+String(Math.random()).replace(".",""),this._name=(null==o?void 0:o.name)||"default",this._skinType="Skin",this._skin=null,this._$skinLayer=null,this._autoPlayOnlyWithPrerollAdCheckDone=!1,this._autoPlayOrInviewPlay="true"===(null===(s=this._opts)||void 0===s||null===(l=s.playoutData)||void 0===l?void 0:l.autoPlay)||"string"==typeof(null===(r=this._opts)||void 0===r||null===(d=r.playoutData)||void 0===d?void 0:d.interactivity_inView)&&this._opts.playoutData.interactivity_inView.toLowerCase().indexOf("play")>-1,o&&(this._skinType=o.windowObjectName||"Skin",this._skinCssNS=(o.prefix||"bb-skin-")+Math.random().toString(36).substr(2),this._skinCss=o.css,this._skinHtml=o.html||null,o.containerSelector&&this._skinCss)){var h=new RegExp(o.containerSelector.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"(?!(-|_))","g");this._skinCss=this._skinCss.replace(h,"#"+this._skinCssNS)}if(this._backgroundColor="#123456",this._youTubeSkinInMainPhase="true"===(null===(u=this._opts)||void 0===u||null===(c=u.playoutData)||void 0===c?void 0:c.youTubeSkinInMainPhase),this._onPhaseChangeBound=this._onPhaseChange.bind(this),this._onHeadSelectedBound=this._onHeadSelected.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),e){var p,_;this.$element=e,n.default.getService(this._opts.playerAliasOrId).setInstance("SkinController",this);var m=this.$element.get(0),f=this.$element.find(".bb-skin-layer-host");(null==f?void 0:f.length)>0&&(m=f[0].shadowRoot);var v=m.querySelector(".bb-skin-layer");if(v&&(this._$skinLayer=$parcel$interopDefault(i)(v)),(null===(p=this._opts)||void 0===p||null===(_=p.playoutData)||void 0===_?void 0:_.autoPlayOnlyWithPrerollAd)&&this._autoPlayOrInviewPlay){var g,y=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections");if(y.canAutoPlay||y.canAutoPlayMuted)null===(g=this._$skinLayer)||void 0===g||g.hide(),this._onAutoPlayCheckReadyBind=this._onAutoPlayCheckReady.bind(this),this.$element.on("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBind),this._onCommercialPlayingBind=this._onCommercialPlaying.bind(this),this.$element.on("bb_commercial_playing",this._onCommercialPlayingBind);else this._autoPlayOnlyWithPrerollAdCheckDone=!0}var b=n.default.getService(this._opts.playerAliasOrId);this._api=b.getInstance("PublicAPI"),this._handleWindowedSkin(),this._skin=this._createSkin();var w,k,$=this.getGeneration();if(a.default("[SkinController] getGeneration: "+$),$>=8)null===(w=b.getInstance("ContextMenu"))||void 0===w||w.exit(),null===(k=b.getInstance("AutoPlayNextTimer"))||void 0===k||k.exit();this.$element.on("bb_phase_change",this._onPhaseChangeBound),this.$element.on("bb_head_selected",this._onHeadSelectedBound),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound)}};s.prototype.exit=function(){var e;return this.$element&&(this.$element.off("bb_phase_change",this._onPhaseChangeBound),this.$element.off("bb_head_selected",this._onHeadSelectedBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this._onCommercialPlayingBind&&(this.$element.off("bb_commercial_playing",this._onCommercialPlayingBind),delete this._onCommercialPlayingBind),this._onAutoPlayCheckReadyBind&&(this.$element.off("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBind),delete this._onAutoPlayCheckReadyBind)),"function"==typeof(null===(e=this._skin)||void 0===e?void 0:e.exit)&&(this._skin=this._skin.exit()),n.default.getService(this._opts.playerAliasOrId).setInstance("SkinController",null),null},s.skins={},s.prototype.show=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.show))try{this._skin.show(e)}catch(e){}},s.prototype.hide=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.hide))try{this._skin.hide(e)}catch(e){}},s.prototype.enable=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.enable))try{this._skin.enable(e)}catch(e){}},s.prototype.disable=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.disable))try{this._skin.disable(e)}catch(e){}},s.prototype.isVisible=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.isVisible))try{return this._skin.isVisible(e)}catch(e){}return!1},s.prototype.isEnabled=function(e){var t;if("function"==typeof(null===(t=this._skin)||void 0===t?void 0:t.isEnabled))try{return this._skin.isEnabled(e)}catch(e){}return!1},s.prototype.updateSkinVisibility=function(){var e,t;this._youTubeSkinInMainPhase&&"MAIN"===this._phase&&"youtube"===this._headType||"true"===(null===(e=this._opts)||void 0===e||null===(t=e.playoutData)||void 0===t?void 0:t.autoPlayOnlyWithPrerollAd)&&this._autoPlayOrInviewPlay&&!this._autoPlayOnlyWithPrerollAdCheckDone?this._$skinLayer&&this._$skinLayer.hide():this._$skinLayer&&this._$skinLayer.show()},s.prototype._onPhaseChange=function(e,t){var i,n;(null==t?void 0:t.phase)&&(this._phase=t.phase,"MAIN"===this._phase&&"true"===(null===(i=this._opts)||void 0===i||null===(n=i.playoutData)||void 0===n?void 0:n.autoPlayOnlyWithPrerollAd)&&(this._autoPlayOnlyWithPrerollAdCheckDone=!0),this.updateSkinVisibility())},s.prototype._onHeadSelected=function(e,t){(null==t?void 0:t.headType)&&(this._headType=t.headType?t.headType.toLowerCase():"unknown",this.updateSkinVisibility())},s.prototype._onPlayoutChanged=function(e,t){(null==t?void 0:t.youTubeSkinInMainPhase)&&(this._youTubeSkinInMainPhase="true"===t.youTubeSkinInMainPhase,this.updateSkinVisibility())},s.prototype._onCommercialPlaying=function(e){this._autoPlayOnlyWithPrerollAdCheckDone=!0,this.updateSkinVisibility()},s.prototype._onAutoPlayCheckReady=function(e,t){var i=this;!1===(null==t?void 0:t.canAutoPlayMuted)?(this._autoPlayOnlyWithPrerollAdCheckDone=!0,this.updateSkinVisibility()):setTimeout((function(){i._autoPlayOnlyWithPrerollAdCheckDone=!0,i.updateSkinVisibility()}),500)},s.prototype._handleWindowedSkin=function(){var e,t,i=null===(e=window.bluebillywig)||void 0===e||null===(t=e._internal)||void 0===t?void 0:t[this._skinType],n=i||window[this._skinType];i&&"Skin"===this._skinType?o="function"==typeof n.noConflict?n.noConflict(!0):n:n&&(s.skins[this._skinType]="function"==typeof n.noConflict?n.noConflict(!0):n)},s.prototype.getGeneration=function(e){var t,i;return(null==(e=e||this._skin)||null===(t=e.getInfo)||void 0===t||null===(i=t.call(e))||void 0===i?void 0:i.generation)||7},s.prototype._createSkin=function(){var e;a.default("[SkinController] _createSkin of type: "+this._skinType);var t=null,n=$parcel$interopDefault(i)('<div class="bb-container" style="position:absolute; width:100%; height:100%; top:0; left:0;"></div>');if(a.debugMode&&performance.mark("CreateSkin "+this._skinType),this._$skinLayer&&((this._skinCss||this._skinHtml)&&this._$skinLayer.empty(),this._skinCss&&this._$skinLayer.bb_htmlSanitized('<style type="text/css">'+this._skinCss+"</style>"),this._skinHtml&&"\x3c!-- empty --\x3e"!==this._skinHtml?this._$skinLayer.bb_appendSanitized(this._skinHtml):this._$skinLayer.append(n)),"Skin"===this._skinType)"function"==typeof o&&(t=new o(this._api,this._skinCssNS));else"function"==typeof s.skins[this._skinType]&&(t=new s.skins[this._skinType](this._api,this._skinCssNS));return a.debugMode&&performance.mark("end_CreateSkin "+this._skinType),null===t&&n.remove(),null===(e=this.$element)||void 0===e||e.trigger("bb_skin_created",[{skinGeneration:this.getGeneration(t)}]),t}})),parcelRequire.register("5FmwA",(function(e,t){parcelRequire("dhZ6J");var i=parcelRequire("dwEjG"),n=parcelRequire("4h4pL"),a=parcelRequire("87rX1"),o=parcelRequire("b3HW6"),s=parcelRequire("5ZUO7"),l=parcelRequire("e2GJT"),r=parcelRequire("1tpNq"),d=parcelRequire("56Oox"),u=parcelRequire("WI3YU"),c=parcelRequire("flMmK"),h=parcelRequire("2yvID"),p=parcelRequire("kwlj2"),_=parcelRequire("bSO3J"),m=Object.defineProperty,f=function(e,t,n){rt]=i}(e,"symbol"!=(void 0===t?"undefined":i.default(t))?t+"":t,v(){}var g,y=function(e){retull)}function k(e){e.forEaf)}function P(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var o;if(null==e){var s=!0,l=!1,r=void 0;try{for(var d,u=i[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var c=d.value;c(void 0)}}catch(e){l=!0,r=e}finally{try{s||null==u.return||u.return()}finally{if(l)throw r}}return v}var h=(o=e).subscribe.apply(o,n.default(i));return h.unsubscribe?function(){return h.unsubscribe R,q=("undefined"==typeof window?"undefined":i.default(window))<"uow()}:function(){return Date.now()},O=q?function(e){return requestAnimationFrame(e)}:v,j=netion G(e){return document.createEleme(e)}function ee(){return Zn)}}function ne(e){return function(t){return t.preventDefault(),e.call(thi}function de(e,t){e.value=null!=t:"")}function ce(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");var n=G("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;var a,o=function(){if(void 0===R){R=!1;try{("undefined"==typeof window?"undefined":i.default(window))<"u"&&window.parent&&window.parent.document}catch(e){R=!0}}return R}();return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=ie(window,"mess&t()}))):(n.src="about:blank",n.o,t()}),F!!i)}function pe(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.bubbles,a=void 0!==n&&n,o=i.cancelable,s=void 0!==o&&o;return new CustomEvent(e,{detail:t,bubbles:a,cancelable(t)}var me,fe=new Map),i}function be(e,t,i,n,a,o,s){for(var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,r=16.666/n,d="{\n",u=0;u<=1;u+=r){var c=t+(i-t)*o(u);d+=100*u+"%{".concat(s(c,1-c),"}\n")}var h=d+"100% {".concat(s(i,1-i),"}\n}"),p="__svelte_".concat(ge(h),"_").concat(l),_=N(e),m=fe.get(_)||ye(_,e),f=m.stylesheet,v=m.rules;v[p]||(v[p]=!0,f.insertRule("@keyframes ".concat(p," ").concat(h),f.cssRules.length));var g=e.style.animation||"";return e.style.animation="".concat(g?"".concat(g,", "):"").concat(p," ").concat(n,"ms linear ").concat(a,"ms 1 both"),veme}function Ce(e){$e().$$.on_mount.puh(e)}function Pe(){var e=$e();return function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.cancelable,o=void 0!==a&&a,s=e.$$.callbacks[t];if(s){var l=pe(t,i,{cancelable:o});return s.slice().forEach((function(t){t.call(e,l)})),!l.defaultPrevented}retu))}var Te=[],De=[],Me=[],Ee=[],Be=Promise.resolve(),,Be}function He(e){Me.puh(e)}var je,ze=new Set)}var Qe,Je=ne)}var Ze={duration:0};function et(e,t,i){var n,a,o=function(){n&&we(e,n)},s=function(){var t=r||Ze,i=t.delay,s=void 0===i?0:i,l=t.duration,c=void 0===l?300:l,h=t.easing,p=void 0===h?y:h,_=t.tick,m=void 0===_?v:_,f=t.css;f&&(n=be(e,0,1,c,s,p,f,u++)),m(0,1);var g=H()+s,b=g+c;a&&a.abort(),d=!0,He((function(){return We(e,!0,"start")}))rn d}))},l={direction:"in"},r=t(e,i,l),d=!1,u=0,c=!1;return{s())},invalidate:function(){c=!1=!1)}}}function tt(e,t,i){var n,a,o=function(){var t=l||Ze,i=t.delay,o=void 0===i?0:i,s=t.duration,u=void 0===s?300:s,c=t.easing,h=void 0===c?y:c,p=t.tick,_=void 0===p?v:p,m=t.css;m&&(n=be(e,1,0,u,o,h,m));var f=H()+o,g=f+rt")})),"inert"in e&&(a=e.inert,e.inert=!rn r}))},s={direction:"out"},l=t(e,i,s),r=!0,d=Qe;return d.r+=1,$(l)?Ne().,o()})):o()=!1)}}}function it(e,t,i,n){vae,h)},s=function(e,t){var i=e.b-d;return t*=Math.abs(i),{a:d,b:e.b,d:i,duration:t,start:e.start,end:e.start+t,group:e.group}},l=function(t){var i=r||Ze,n=i.delay,l=void 0===n?0:n,p=i.duration,_=void 0===p?300:p,m=i.easing,f=void 0===m?y:m,g=i.tick,b=void 0===g?v:g,w=i.css,$={start:H()+l,b:t};t||($.group=Qe,Qe.r+=1),"inert"in e&&(t?void 0!==a&&(e.inert=a):(a=e.inert,e.inert=!0)),u||c?c=$:(w&&(o(),h=be(e,d,t,_,l,f,w)),t&&b(0,1),u=s($,_rt")}&!c)})))},r=t(e,i,{direction:"both"}),d=n?0:1,u=null,c=null,h=null;return{run:function(e){$(r)?Ne().then((function(){r=r({direction:e?"in":"out"}),l(e)})):l(e)n()}function st(e,t,i){var a=e.$$,o=a.fragment,s=a.after_update;o&&o.m(t,i),He((function(){var t,i=e.$$.on_mount.map(b).filter($);e.$$.on_destroy?(t=e.$$.on_destroy).push.apply(t,n.default(i)):k(i),e.$$.on_mount=[]})),s.forEac%31}function dt(e,t,i,n,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],r=me;ke(e);var d=e.$$={fragment:null,ctx:[],props:o,update:v,not_equal:a,bound:w(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(r?r.$$.context:[])),callbacks:w(),dirty:l,skip_bound:!1,root:t.target||r.$$.root};s&&s(d.root);var u=!1;if(d.ctx=i?i(e,t.props||{},(function(t,i){for(var n=arguments.length,o=new Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];var l=o.length?o[0]:i;return d.ctx&&a(d.ctx[t],d.ctx[t]=l)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](l),u&&rt(e,t)),i})):[],d.update(),u=!0,k(d.before_update),d.fragment=!!n&&n(d.ctx),t.target){if(t.hydrate){var c=le(t.target);d.fragment&&d.fragment.l(c),c.forEach(K)}else d.fragment&&d.fragment.c();t.intro&&Ge(e.$$.fragment),st(e,t.target,t.anchor),Fe()}ke(r)}var ut=function(){function e(){a.default(this,e),f(this,"$$"),f(this,"$$set")}return o.default(e,[{key:"$destroy",oy=v}},{key:"$on",,1)}}},{key:"$set",=!1)}}]),e}();("undefined"==typeof window?"undefined":i.default(window))<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var ct=[];function ht(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=function(i){if(C(e,i)&&(e=i,t)){var n=!ct.length,a=!0,o=!1,l=void 0;try{for(var r,d=s[Symbol.iterator]();!(a=(r=d.next()).done);a=!0){var u=r.value;u[1](),ct.push(u,e)}}catch(e){o=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(o)throw l}}if(n){for(var c=0;c<ct.length;c+=2)ct[c][0](ct[c+1]);ct.length=0(e))},o=function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,r=[o,l];return s.add(r),1===s.size&&(t=i(n,a)||v)ull)}},s=new Set;return{set:n,update:a,subscribe:o}}function pt(e,t,i){var n=!Array.isArray(e),a=n?[e]:e;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");var o=t.length<2;return function(e,t){return{subscribe:ht(e,t).subscribe}}(i,(function(e,i){var s=!1,l=[],r=0,d=v,u=function(){if(!r){d();var a=t(n?l[0]:l,e,i);o?e(a):d=$(a)?a:v}},c=at}))}));return s=!s=!1}}))}var _t={text:"",icon:null};function mt(e){var t=e.toastr;e.setT:i})},e.resetT(_t)}}function ft(e){var t=e.playPause,i=e.seekTo,n=e.toggleMute,a=e.toggleSubtitles,o=e.setVolume,s=e.getSkinLayer,l=e.setUserActive,r=e.api,d=e.closeAllPanes,u=e.usedEnterForClicking,c=e.currentTime,h=e.callOverrides,p=e.keyPressed,_=e.keyboardShortcutPaneOpen,m=e.livePlayer,f=e.livePlayerWithDvr,v=e.ariaTrappedInMenu,g=e.phase;e.onKeyPressed=function(t){var i,n,a,o,r,d=e.shortcutConfigs.find((function(e){return e.key===t.key})),u=x(h);if((!["ArrowLeft","ArrowRight"].includes(t.key)||!x(m)||x(f))&&(!["ArrowUp","ArrowDown"].includes(t.key)||!x(v))){if(d&&!(null!=(i=null==u?void 0:u[null==d?void 0:d.elementName])&&i.disabled)&&(t.preventDefault(),t.stopPropagation(),null==(n=null==d?void 0:d.action)||n.call(d,t)),["ArrowLeft","ArrowRight"].includes(t.key)){var c=null==(o=null==(a=s())?void 0:a.shadowRoot)?void 0:o.activeElement;if("INPUT"===(null==c?void 0:c.tagName)&&"range"===(null==c?void 0:c.getAttribute("type")))return void l(!0)}["Tab","Enter","Shift"].includes(t.key)||null==(r=t.target)||r.blur()}},e.shortcutConfigs=[{elementName:"playPauseButton",key:" ",keyLabel:"Space",action:function(){p.set("space"),t()}},{elementName:"progressBar",key:"ArrowLeft",keyLabel:"Left",action:function(){i(x(c)-10,!1,!1),p.set("left")}},{elementName:"progressBar",key:"ArrowRight",keyLabel:"Left",action:function(){"EXIT"!==x(g)&&(i(x(c)+10,!1,!1),p.set("right"))}},{elementName:"muteButton",key:"m",keyLabel:"m",action:function(){p.set("m"),n()}},{elementName:"fullscreenButton",key:"f",keyLabel:"f",action:function(){r.toggleFullscreen()}},{elementName:"subtitleButton",key:"c",keyLabel:"c",a,a()}},{elementName:"volumeSliderHorizontal",key:"ArrowUp",keyLabel:"Up",action:function(){o(Math.max(0,Math.min(1,r.getVolume()+.1))),p.set("up")}},{elementName:"volumeSliderHorizontal",key:"ArrowDown",keyLabel:"Down",action:function(){o(Math.max(0,Math.min(1,r.getVolume()-.1))),p.set("down")}},{key:"?",keyLabel:"Question mark",action:function(){x(_)||d.set(!0),_.set(!x(_))}},{key:">",keyLabel:">",action:function(){e.changePlaybackSpeed("increase"),p.set(">")}},{key:"<",keyLabel:"<",action:function(){e.changePlaybackSpeed("decrease"),p.set("<")}},{key:"Enter",keyLabel:"Enter",action:function(e){var t;u.set(!0);var i=e.composedPath()[0];null!=(t=null==i?void 0:i.className)&&t.includes("button-content")&&(i.click(),null==e||e.preventDefault())}},{key:"Escape",keyLabel:"Escape",action:function(){d.set(!0)}}]}var vt=[.25,.5,.75,1,1.25,1.5,1.75,2],gt=300;function yt(e){var t,()))},s=function(){var e,t,i,n=(null==(e=K.getAudioTracks)?void 0:e.call(K))||[];xe.set(n),De.set((null==(i=null==(t=K.getCurrentAudioTrack)?void 0:t.call(K))?void 0:i.id)||"-1")},l=function(){var e,t,i,a=(null==(e=K.getSubtitlesList)?void 0:e.call(K))||[];null!=a&&a.length&&(a=n.default(a).concat([{id:"-1",languagename:Ue("Off")}])),Se.set(a),Te.set((null==(i=null==(t=K.getCurrentSubtitle)?void 0:t.call(K))?void 0:i.id)||"-1")},r=function(){var e=K.getSharing();Ce.set(t(e)},u=function(){var e=K.getChapterList();if(e&&null!=e&&e.length&&"commercial"!==x(te)){var t=parseInt(K.getDuration()),i=[];e.sort((function(e,t){return e.timeOffset-t.timeOffset})),e.forEach((function(n,a){var o={id:n.id,title:n.title,start:n.timeOffset,startPerc:0===n.timeOffset?0:n.timeOffset/t*100,end:e[a+1]?e[a+1].timeOffset:t,endPerc:e[a+1]?e[a+1].timeOffset/t*100:100,duration:e[a+1]?e[a+1].timeOffset-n.timeOffset:t-n.timeOffset,durationPerc:e[a+1]?(e[a+1].timeOffset-n.timeOffset)/t*100:(t-n.timeOffset)/t*100};i.push(o)})),Ee.set(i)}else Ee.set([])},c=function(){var e=K.getPhase(),t=x(Ve),i=x(X);!i&&null!=t&&t.autoPlay&&"INIT"===e&&(Re.set(!0),setTimeout((function(){Re.set(!1)}),200)),"EXIT"===e&&G.set(!1),ee.set(e),"EXIT"!==e&&"POST"!==e&&le.set(0),"EXIT"===e&&Je.set(!0),"MAIN"===e&&!i&&ae.set(!0),w()},h=function(){Ye.set(N||F||U)},p=function(){var e;if("shorts"!==Y){var t=(null==(e=x(Ve))?void 0:e.controlBarPlacement)||"auto",i=x(te),n=x(he);n||"commercial"!==i&&"alwaysfloating"!==t?n||"alwaysmounted"===t?se.set(!0):se.set(x(Ye)):se.set(!1)}else se.set(!0)},_=function(){var e=["live-audio","live-video"].includes(x(te));de.set(e);var t=null==K?void 0:K.getClipData(),i=e&&("true"===(null==t?void 0:t.isDVR)||!0===(null==t?void 0:t.isDVR));ue.set(i)},m=function(e){e?a||(a=setTimeout((function(){null!==W&&ae.set(!0)}),1e3)):(clearTimeout(a),a=null,W=null,ae.set(!1))},f=function(e){var t,i,a,f;if(K&&e)switch("timeupdate"!==(null==e?void 0:e.type)&&"progress"!==(null==e?void 0:e.type)&&Ke.set(e.type),null==e?void 0:e.type){case"fullscreenchange":we.set(K.isFullscreen());break;case"volumechange":L();break;case"progress":Pe.set(K.getBuffered());break;case"seeking":ke.set(!0);break;case"seeked":ke.set(!1),m(!1),$();break;case"pause":X.set(!1);break;case"play":X.set(!0);break;case"autopause":X.set(!1),Re.set(!1),ee.set("INIT");break;case"playing":X.set(!0),G.set(!0),ke.set(!1),m(!1),ee.set(K.getPhase()),Re.set(!1),Q||(Q=setTimeout((function(){Ze.set(!0)}),5e3));break;case"timeupdate":if($(),null===W)return;var k=x(le);W!==k&&m(!1);break;case"ratechange":be.set(K.getPlaybackRate());break;case"flagchange":E();break;case"castsessionchange":M();break;case"castsessionstatechange":D();break;case"subtitlelistchange":case"texttracklistchange":l();break;case"subtitlechange":var S=K.getCurrentSubtitle();Te.set((null==S?void 0:S.id)||"-1");break;case"durationchange":o(),me.set(K.getAdPodInfo());break;case"phasechange":c();break;case"statechange":var P=K.getState(),A=K.getPhase();Ie.set(P),"idle"===P&&"MAIN"===A?ee.set("INIT"):"INIT"===A&&(c(),Ie.set("idle")),p();break;case"modechange":var I=K.getMode();te.set(I),p(),Qe();var B=K.getClipData();null!=B&&B.mediatype&&"mainroll"!==(null==B?void 0:B.mediatype)&&"main"===Y&&(_(),w(),u()),"commercial"!==I&&ie.set(null);break;case"ad_loaded":ie.set(K.getCurrentAd());break;case"relatedclipschange":!function(){var e,t,i=(null==(e=K.getRelatedItems)?void 0:e.call(K))||(null==(t=K.getRelatedClips)?void 0:t.call(K))||[];ne.set(n.default(i))}();break;case"audiotrackchange":var R=K.getCurrentAudioTrack();De.set((null==R?void 0:R.id)||"-1");break;case"audiotracklistchange":s();break;case"loadedclipdata":X.set(!1);var q=K.getClipData();(function(e){var t,i;V||qe.set(e),He.set((null==(i=null==(t=K._opts)?void 0:t.clipListData)?void 0:i.items)||[]),("video"===(null==e?void 0:e.mediatype)||"audio"===(null==e?void 0:e.mediatype))&&(l(),s()),"mainroll"!==(null==e?void 0:e.mediatype)&&"outstream"!==Y&&O&&(r(),Ne(),d(),M(),O=!1),O&&(d(),O=!1),_(),setTimull)}),1),$e.set(!1)})(q),U=(null==(t=null==q?void 0:q.timelines)?void 0:t.length)>0,h();break;case"loadedprojectdata":var H=K.getProjectData();V=!!H,F=!!(null!=H&&H.timelineId||(null==(i=null==H?void 0:H.timelines)?void 0:i.length)>0),H&&qe.set(H),h();break;case"assetlistchange":T();break;case"assetselected":Ae.set((null==(a=null==K?void 0:K.getCurrentAsset)?void 0:a.call(K))||{});break;case"changedplayoutdata":var j=(null==(f=null==K?void 0:K.getPlayoutData)?void 0:f.call(K))||{};We(j),N=!!(null!=j&&j.templateId||null!=j&&j.timelineId),h(),p();var z=K.getClipData();null!=z&&z.mediatype&&"mainroll"!==(null==z?void 0:z.mediatype)&&("main"===Y||"shorts"===Y)&&(Ne(),r());break;case"waiting":W=x(le),m(!0);break;case"resized":b();break;case"chapterlistchange":u(),C();break;case"highlightlistchange":!function(){var e=K.getHighlightList();if(e&&null!=e&&e.length&&"commercial"!==x(te)){var t=parseInt(K.getDuration()),i=[];e.sort((function(e,t){return e.timeOffset-t.timeOffset})),e.forEach((function(e){var n={id:e.id,title:e.title,start:e.timeOffset,startPerc:0===e.timeOffset?0:e.timeOffset/t*100};i.push(n)})),Be.set(i)}else Be.set([])}();break;case"softembargotimerstarted":v();break;case"softembargotimertick":g();break;case"softembargotimercancelled":case"softembargotimerfinished":y()}},v=function(){var e,t=parseInt(null==(e=null==K?void 0:K.getWrapper())?void 0:e.getAttribute("data-softembargoenddatets"));tt.set(t>=0?new Date(t):null),g()},g=function(){var e,t=parseFloat(null==(e=null==K?void 0:K.getWrapper())?void 0:e.getAttribute("data-softembargoremainingtime"))||0;it.set(t),t>0&&et.set(!(!1)},b=function(){var e,t,i=null==(e=null==K?void 0:K.getWrapper)?void 0:e.call(K),n=null==(t=null==i?void 0:i.getBoundingClientRect)?void 0:t.call(i);pe.set((null==n?void 0:n.height)||0),_e.set((null==n?void 0:n.width)||0)},w=function(){var e;he.set(x(pe)<=70&&(null==(e=x(te))?void 0:e.includes("audio")))},k=function(e){j||(C(),function(e){x(de)?x(ue)?(null===e&&(e=Math.round(10*K.getCurrentTime())/10),o(),ce.set(e>-15)):ce.set(!0):ce.set(!1)}(e),j=setTimeout((function(){j=null}),1e3))},$=function(){var e=Math.round(10*K.getCurrentTime())/10;le.set(e),k(e)},C=function(){var e;if(null!=(e=x(Ee))&&e.length){var t=x(le);x(Ee).some((function(e){return e.start<=t&&e.end>t&&(Le.set(e),!0)}))}else Le.set(null)},S=function(i){R=!0,setTimR=!1}),10);var n=x(Z);clearTimeout(t);var a=(null==i?void 0:i.composedPath())||(null==i?void 0:i.path);null!=a&&a.some((function(e){var t;return null==(t=null==e?void 0:e.classList)?void 0:t.contains("bb-skin-container")}))?null!=a&&a.some((function(e){var t;return null==(t=null==e?void 0:e.classList)?void 0:t.contains("mobile-control")}))?(H&&Date.now()-H<gt||(t=setTim(!n)}),gt)),H=Date.now()):(null==a?void 0:a.some((function(e){var t,i;return(null==(t=null==e?void 0:e.classList)?void 0:t.contains("play-pause-button"))||(null==(i=null==e?void 0:e.classList)?void 0:i.contains("big-play-pause-button"))})))?setTimeout((function(){e.setUserActive(!1)}),350):e.setUserActive(!0):e.setUserActive(!n)},P=function(){R||z||(e.setUserActive(!0),z=setTimeout((function(){z=null}),250))},A=function(t){setTimeout((function(){var i,n,a=null==(n=null==(i=e.getSkinLayer())?void 0:i.shadowRoot)?void 0:n.activeElement;a&&fe.set(!0),a&&["Tab","Enter"].includes(t.key)&&e.setUserActive(!0),!a&&["Tab"].includes(t.key)&&fe.set(!1)}))},I=function(){e.setUserActive(!1)},T=function(){var e,t;ve.set((null==(t=null==(e=null==K?void 0:K.getAssets)?void 0:e.call(K))?void 0:t.sort((function(e,t){return parseFloat(t.bitrate)-parseFloat(e.bitrate)})))||[])},D=function(){var e,t=K.getCastSession();je.set(null==(e=null==t?void 0:t.getSessionState)?void 0:e.call(t))},M=function(){var e=K.getCastSession();ze.set(e),D()},E=function(){var e=K.getDetections();(function(e,t){if(e&&t){var i=x(oe);i&&i.isSafari?Oe.set("AirPlay"):i&&i.isChrome?Oe.set(i.isiOS?"AirPlay":"ChromeCast"):Oe.set(i.isAndroid?"ChromeCast":"AirPlay")}else t?Oe.set("ChromeCast"):Oe.set("AirPlay")})(e.canAirPlay,e.canChromeCast),oe.set(e)},B=function(){var e=K.getMuted(),t=K.getVolume();i||(ye.set(e?0:t),i=t||1),ge.set(e)},L=function(){var e=K.getMuted(),t=K.getVolume();ge.set(e),ye.set(e?0:t)},R=!1,q=null,H=0,O=!0,j=null,z=null,V=!1,F=!1,U=!1,N=!1,W=null,Q=0,J="playing play pause autopause timeupdate progress modechange phasechange statechange ad_loaded durationchange volumechange fullscreenchange ratechange assetlistchange assetselected subtitlechange subtitlelinechange subtitlelistchange resized flagchange castsessionchange castsessionstatechange waiting loadedclipdata loadedprojectdata texttracklistchange relatedclipschange audiotrackchange audiotracklistchange seeked seeking changedplayoutdata chapterlistchange highlightlistchange softembargotimerstarted softembargotimertick softembargotimercancelled softembargotimerfinished ".split(" ").join(".skin8 "),K=e.api,Y=e.skinMode,G=e.started,X=e.playing,Z=e.userActive,ee=e.phase,te=e.playerMode,ie=e.currentAd,ne=e.relatedItems,ae=e.waiting,oe=e.detections,se=e.mountedControlbar,le=e.currentTime,re=e.duration,de=e.livePlayer,ue=e.livePlayerWithDvr,ce=e.livePlayerIsLive,he=e.slimAudioPlayer,pe=e.playerHeight,_e=e.playerWidth,me=e.adPodInfo,fe=e.playerHasFocus,ve=e.assets,ge=e.muted,ye=e.displayVolume,be=e.playRate,we=e.fullscreen,ke=e.seeking,$e=e.mouseOverInterface,Ce=e.shareOptions,Se=e.subtitlesList,Pe=e.bufferTimeRanges,xe=e.audiotracks,Ae=e.currentAsset,Ie=e.playState,Te=e.activeSubtitleId,De=e.activeAudiotrackId,Me=e.lastActiveSubtitleId,Ee=e.chapterList,Be=e.highlightList,Le=e.currentChapter,Re=e.hideTopContainerAutoPlay,qe=e.entity,He=e.clipList,Oe=e.castType,je=e.castState,ze=e.castSession,Ve=e.playout,Fe=e.touchMode,Ue=e.translate,Ne=e.setLogo,We=e.setPlayout,Qe=e.setColors,Je=e.closeAllPanes,Ke=e.lastEvent,Ye=e.hasTimeline,Ge=e.language,Xe=e.dvrDurationCheckInterval,Ze=e.passedFiveSeconds,et=e.softEmbargoTimerActive,tt=e.softEmbargoEndDate,it=e.softEmbargoTimerTime;e.apd(e)},e.showCastTargets=function(){var e;null==(e=null==K?void 0:K.showCastTargetPicker)||e.call(K,x(Oe))},e.setUserActive=function(i){clearTimeout(t);var n=e.castingActive(x(je));!1===i&&n||(i?(setTimeout((function(){return Z.set(!0)}),50),t=setTimeout((function(){x($e)||Z.set(!1)}),2500)):t=setTimeout((function(){return Z.set(!1)}),50))},e.onMouseEnterUI=function(t){if(!x(Fe)){$e.set(!0);var i=(null==t?void 0:t.composedPath())||(null==t?void 0:t.path),n=null==i?void 0:i.some((function(e){var t,i;return(null==(t=null==e?void 0:e.classList)?void 0:t.contains("play-pause-button"))||(null==(i=null==e?void 0:e.classList)?void 0:i.contains("big-play-pause-button"))}));e.setUserActive(!n)}},e.onMouseLeaveUI=function(){x(Fe)||$e.set(!1)},e.castingAs(e)},e.setVolume=function(e){e>=.025?("shorts"===Y&&(e=1),null==K||K.setVolume(e),null==K||K.setMuted(!1,!0,!0),i=e):(i=1,null==K||K.setMuted(!0,!0,!0))},e.toggleMute=function(){if(K.getMuted())e.setVolume(null!=i?i:1);else{var t=x(ye);K.setMuted(!0,!0,!0),t<.025&&e.setVolume(null!=i?i:1)}},e.changePlaybackSpeed=function(e){var t=K.getPlaybackRate(),i=vt.indexOf(t),n="increase"===e?i+1:i-1;if(n>=0){var a=vt[n];a&&K.setPlaybackRate(a)}},e.initializeApi=function(){var t,i;K.f(e)})),K&&(B(),!x(ge)&&"shorts"===Y&&e.setVolume(1),re.set((null==(t=K.getDuration)?void 0:t.call(K))||0),We((null==(i=null==K?void 0:K.getPlayoutData)?void 0:i.call(K))||{}),null==(q=K.getWrapper())||q.addEventListener("touchend",S),null==q||q.addEventListener("mousemove",P),null==q||q.addEventListener("mouseleave",I),document.addEventListener("keydown",A))},e.exitApi=function(){null==K||K.off(J),null==q||q.removeEventListener("touchend",S),null==q||q.removeEventListener("mousemove",P),null==q||q.removeEventListener("mouseleave",I),document.removeEventListener("keydown",A)},e.seekTo=function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=x(ue);x(de)&&!a||((!x(G)||i)&&e.play(),t=a?Math.min(0,Math.max(t,x(re))):Math.max(0,Math.min(t,x(re))),le.set(t),K.seek(t),n&&e.setUserActive(!0))},e.play=function(){null==K||K.play(!0),X.set(!0),clearInterval(x(Xe))},e.pause=function(){null==K||K.pause(),X.set(!1),ue&&Xe.set(setInteull)}),1e3))},e.playPause=function(){K&&(x(X)?e.pause():e.play())},e.toggleSubtitles=function(){if("-1"===x(Te)){var e,t=x(Me),i=x(Se);if(!i||!i.length)return;if(t&&i.find((function(e){return e.id===t})))return void K.setSubtitle(t);var n=x(Ge),a=x(Ve).defaultSubtitle;n&&(e=i.find((function(e){return e.isocode===n}))),!e&&"default language"===a&&(e=i.find((function(e){return"true"===e.default}))),K.setSubtitle(e?e.id:i[0].id)}else K.setSubtitle("-1")},e.do,!0)},e.getEmbedCode=function(){return K.getEmbedcode()},e.getDeeplink=function(){return K.getDeeplink()},e.loadRelatedItem=function(e,t,i,n){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"RelatedItem";if(e&&t){if("RelatedItem"===o&&null!=(a=x(Ve))&&a.useDeeplinkForRelatedItems){var s=i||n;if(s.match(/^https?:\/\//i))return void(window.location.href=s)}var l={initiator:o,autoPlay:!0};"MediaClipList"==t?l.cliplistId=e:"Project"==t?l.projectId=e:l.clipId=e,K.load(l)}},e.getWrapperBoundingClientRect=function(){var e;return null==(e=null==K?void 0:K.getWrapper())?void 0:e.getBoundingClientRect()},e.getSkinLayer=function(){return K.getSkinLayer()}}var bt="#2b2b2b";function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?t,16)})).slice(1)n[2]}function $t(e,t){var i=wt(e),n=wt(t);return i&&n?function(e,t){var i=kt(e[0],e[1],e[2]),n=kt(t[0],t[1],t[2]);return(Math.max(i,n)+.05)/(Math.min(i,n)+.05)}(i,n):0}function Ct(e){var t=e.accentColor,i=e.playerMode,n=e.iconContrastColor,a=e.playout,o=e.timeLeft,l=e.timePassed,r=e.timeTotal,d=["softEmbargoText","shareText","textAbovePlayer","logoClickUrl","playerSignatureLink"];e.setPlayout=function(t){var i=function(e){return!1!==(null==e?void 0:e.linkPauseHoverStates)&&(e.showBigHoverButtons=e.showBigPauseButtons,e.titleHover=e.titlePause,e.authorCopyrightHover=e.authorCopyrightPause),e}(function(e){var t=s.default({},e);return Object.keys(t).forEach((function(e){var i=t[e];"true"===i?t[e]=!0:"false"===i&&(t[e]=!1)})),t}(function(e){var t={};return Object.keys(e).forEach((function(i){"string"!=typeof e[i]||d.includes(i)?t[i]=e[i]:t[i]=e[i].toLowerCase()})),t}(t)));a.set(i),e.setColors();var n=t.autoPlayNextTimeout?t.autoPlayNextTimeout:8;x(r)!==n&&(r.set(n),o.set(n),l.set(0))},e.setColors=function(){var e,o,s="commercial"===x(i)?(null==(e=x(a))?void 0:e.commercialProgressBarColor)||"ffcc00":null==(o=x(a))?void 0:o.skin_foregroundColor;if(s){var l="#".concat(s);t.set(l),$t(l,"#ffffff")<3?n.set("#000000"):n.set("#ffffff")}}}function St(e){var t,i=function(){s.set(!1),t=setInterval((function(){o.set(x(o)+l/1e3),x(a)<.1?(a.set(0),clearInterval(t)):a.set(x(a)-l/1e3)}),l)},n=e.timeTotal,a=e.timeLeft,o=e.timePassed,s=e.userPausedCountDown,l=200;e.startCountDown=function(){a.set(x(n)),o.set(0),i()},e.pauseCountdown=function(){x(s)||t&&(clearInterval(t),t=void 0,s.set(!0))},e.continueCountdown=function(){x(s)&&!t&&i()},e.stopCountdown=function(){t&&(clearInterval(t),t=void 0,o.set(0),a.set(null))}}function Pt(e){var t,i,n,a=function(e){var a,o;if(x(r)&&["ArrowUp","ArrowDown","Tab"].includes(e.key)){var s=null==(o=null==(a=l())?void 0:a.shadowRoot)?void 0:o.activeElement;if("ArrowUp"===e.key||"Tab"===e.key&&e.shiftKey){if(s===t)return i.focus(),void e.preventDefault()}else if(("ArrowDown"===e.key||"Tab"===e.key)&&s===i)return t.focus(),void e.preventDefault();if(["ArrowUp","ArrowDown"].includes(e.key)){var d=-1;n.ford=i)})),-1!==d&&("ArrowDown"===e.key&&(n[d+1].focus(),e.preventDefault()),"ArrowUp"===e.key&&(n[d-1].focus(),e.preventDefault()))}}},o=e.lastActiveAriaElement,s=e.usedEnterForClicking,l=e.getSkinLayer,r=e.ariaTrappedInMenu;e.trapAriaTabFocus=function(o,s){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];o&&(r.set(!0),e.setPreviousAriaElement(),n=o.querySelectorAll(s),t=n[0],n[l]?(n[l].focus(),d||n[l].blur()):(t.focus(),d||t.blur()),i=n[n.length-1],o.removeEventListener("keydown",a),o.addEventListener("keydown",a))},e.setPreviousAriaElement=function(){var e,t,i=null==(t=null==(e=l())?void 0:e.shadowRoot)?void 0:t.activeElement;i&&o.set(i)},e.restoreFocusPreviousElement=function(){if(r.set(!1),x(s)){var e=x(o);e&&e.focus&&e.focus()}}}function xt(e){var t=function(e){var t;if(e.width&&e.height){var a=e.width,o=e.height,l=x(s),g=Math.floor(a/1e3)*(2/3);if(a>2e3){var y=.5*Math.round((a-250)/1e3/.5);h.set(Math.min(16*y,30)),f.set(6*g)}else a>300?(h.set(Math.min(20,Math.max(14,Math.round(a/64)))),f.set(6)):(h.set(12),f.set(6));a>2e3?(r.set(20*g),u.set(70*g),d.set(48*g),c.set(56*g),p.set(20*g),v.set(126*g*2),m.set(48*g),_.set(-.5)):a>E?(u.set(70),d.set(48),c.set(56),p.set(20),m.set(48),_.set(-.5),a>1008?(r.set(20),v.set(157.5)):(r.set(18),v.set(126))):(c.set(40),m.set(10),a>480?(r.set(16),d.set(38),u.set(54),p.set(20),_.set(0),v.set(126)):a>300?(r.set(16),d.set(38),u.set(32),p.set(10),_.set(0),v.set(95)):(r.set(14),d.set(38),u.set(32),p.set(10),_.set(0),v.set(48))),a>E?C.set("L"):a>480?C.set("S"):C.set("XS"),o>E*B?S.set("L"):o>480*B?S.set("S"):S.set("XS"),k.set(a>600),(null==(t=x(A))?void 0:t.length)>0&&a>600&&i(a),w.set(o>a),b.set(o<400*B),$.set(a<=320),n(o,a),l&&(h.set(Math.min(18,Math.max(12,Math.round(o/3)))),d.set(o),r.set(.33*o))}},i=function(e){if(!x(M)){var t=P(),i=t;if(i){var n=i.getBoundingClientRect().left;setTimeout((function(){t.shadowRoot&&(i=null==t?void 0:t.shadowRoot);var a=i.querySelector(".chapter-button-text");if(a){var o=a.getBoundingClientRect().left,s="".concat(Math.max(o-n,110),"px ");s+=e>E?"- 20px - 8px - 0.5em + 0.3em":"- 10px - 0px - 0.5em + 0.3em",s+=x(D)>=3600?" - 6.3ch":" - 4.6ch",I.set("calc(".concat(s,")"))}}),1)}}},n=function(e,t){e<=E*B||t/e>2.2?g.set(!0):g.set(!1);var i=2.5,n=10;t>480&&(i=3.5),t>E&&(i=4.5),t<360&&e<360*B&&(n=5),t<300&&e<300*B&&(i=3.5);var a,o=Math.ceil(t/i*B)/e;a=t*(16/9)<e?Math.floor(o*e*1.5):Math.floor(o*e),y.set(Math.floor(a/n)*n)},a=e.playerWidth,o=e.playerHeight,s=e.slimAudioPlayer,r=e.barIconSize,d=e.barButtonSize,u=e.bigIconSize,c=e.shareIconSize,h=e.fontSize,p=e.marginSize,_=e.cancelButtonRight,m=e.toastrMargin,f=e.heightProgressBar,v=e.framePreviewWidthVideo,g=e.useMobileToggleRelated,y=e.relatedDesiredHeight,b=e.screenXXS,w=e.isVerticalPlayer,k=e.showChapterText,$=e.noSizingGapControlBar,C=e.skinSize,S=e.skinSizeHeight,P=e.getSkinLayer,A=e.chapterList,I=e.chapterPanePositionLeft,T=e.chapterClick,D=e.duration,M=e.mountedControlbar,E=767,B=9/16,L=pt([e.playerHeight,e.playerWi[1]}}));s.subscribe((function(){var e={height:x(o),width:x(a)};t(e)})),L.subscribe((function(e){t(e)})),T.subsc(a))}))}var At={nl:{Replay:"Opnieuw afspelen",Language:"Taal",Subtitles:"Ondertiteling","Subtitles on":"Ondertiteling aan","Subtitles off":"Ondertiteling uit",Quality:"Kwaliteit","Embedcode copied to clipboard":"De embed code is gekopieerd naar het klembord","Link copied to clipboard":"De link is gekopieerd naar het klembord","Failed to copy to clipboard":"Het is niet gelukt om te kopiëren naar het klembord","Up next":"Hierna",Cancel:"Annuleren","Related videos":"Gerelateerde video's",Related:"Gerelateerd","Share this video":"Deel deze video",Subtitle:"Ondertiteling",Audiotrack:"Audiotrack",Audiotracks:"Audiotracks",Author:"Auteur","Play now":"Nu afspelen",Source:"Bron","Media not available":"Media niet beschikbaar",Off:"Uit",Skip:"Doorgaan",Speed:"Snelheid","Playback speed":"Afspeelsnelheid",Normal:"Normaal","Up next in":"Video begint over",Space:"Spatie","Share video":"Deel video","Playing on":"Speelt op","Connected to":"Verbonden met",Logo:"Logo","aria-settingsButton":"Open instellingen menu","aria-chapterButton":"Open hoofdstukken menu","tooltip-playPauseButton":"Afspelen/Pauzeren","tooltip-replayButton":"Opnieuw afspelen","tooltip-playNext":"Volgende video afspelen","tooltip-forwardVideo":"10 seconden doorspoelen","tooltip-rewindVideo":"10 seconden terugspoelen","tooltip-increasePlaybackRate":"Verhoog de afspeelsnelheid","tooltip-decreasePlaybackRate":"Verlaag de afspeelsnelheid","tooltip-muteButton":"Geluid dempen/Geluid aanzetten","tooltip-castButton":"Casten/Stoppen met casten","tooltip-fullscreenButton":"Volledig scherm/Volledig scherm sluiten","tooltip-subtitleButton":"Zet ondertitels aan/Zet ondertitels uit","tooltip-settingsButton":"Instellingen","tooltip-shareButton":"Delen","tooltip-chapterButton":"Hoofdstukken","tooltip-close":"Sluiten","tooltip-previousRelatedButton":"Ga naar vorige gerelateerde video's","tooltip-nextRelatedButton":"Ga naar volgende gerelateerde video's","tooltip-shareEmbed":"Deel via embed code","tooltip-shareEmail":"Deel via e-mail","tooltip-shareWhatsApp":"Deel op WhatsApp","tooltip-shareFacebook":"Deel op Facebook","tooltip-shareTwitter":"Deel op X","tooltip-shareLinkedIn":"Deel op LinkedIn","tooltip-sharePinterest":"Deel op Pinterest","tooltip-cancel":"Annuleren","tooltip-goToLive":"Ga naar live uitzending","tooltip-highlights":"Hoogtepunten",Highlights:"Hoogtepunten",Live:"Live","Live in":"Live over",Interactive:"Interactief",Image:"Afbeelding",Chapters:"Hoofdstukken","Volume Up":"Volume omhoog","Volume Down":"Volume omlaag","Volume Off":"Geluid gedempt","Volume On":"Geluid aan","Keyboard shortcuts":"Toetsenbord sneltoetsen","Volume input":"Volume input","Time input":"Tijd input",Embed:"Embed",Email:"E-mail",Unmute:"Geluid aanzetten",day:"dag",days:"dagen",minute:"minuut",minutes:"minuten",hour:"uur",hours:"uur",second:"seconde",seconds:"seconden",at:"om","Set reminder":"Herinnering instellen","Reminder set":"Herinnering ingesteld"},en:{Replay:"Replay",Language:"Language",Subtitles:"Subtitle","Subtitles on":"Subtitles on","Subtitles off":"Subtitles off",Quality:"Quality","Embedcode copied to clipboard":"Embed code copied to clipboard","Link copied to clipboard":"Link copied to clipboard","Failed to copy to clipboard":"Failed to copy to clipboard","Up next":"Up next",Cancel:"Cancel","Related videos":"Related videos",Related:"Related","Share this video":"Share this video",Subtitle:"Subtitle",Audiotrack:"Audio track",Audiotracks:"Audio tracks",Author:"Author","Play now":"Play now",Source:"Source","Media not available":"Media not available",Off:"Off",Skip:"Skip",Speed:"Speed","Playback speed":"Playback speed",Normal:"Normal","Up next in":"Up next in",Space:"Space","Share video":"Share video","Playing on":"Playing on","Connected to":"Connected to",Logo:"Logo","aria-settingsButton":"Open settings menu","aria-chapterButton":"Open chapters menu","tooltip-playPauseButton":"Play/Pause","tooltip-replayButton":"Replay","tooltip-playNext":"Play next video","tooltip-forwardVideo":"Forward 10 seconds","tooltip-rewindVideo":"Rewind 10 seconds","tooltip-increasePlaybackRate":"Increase playback rate","tooltip-decreasePlaybackRate":"Decrease playback rate","tooltip-muteButton":"Mute/Unmute","tooltip-castButton":"Cast","tooltip-fullscreenButton":"Fullscreen/Close fullscreen","tooltip-subtitleButton":"Turn on subtitles/Turn off subtitles","tooltip-settingsButton":"Settings","tooltip-shareButton":"Share","tooltip-chapterButton":"Chapters","tooltip-close":"Close","tooltip-previousRelatedButton":"Go to previous related videos","tooltip-nextRelatedButton":"Go to next related videos","tooltip-shareEmbed":"Share by embed code","tooltip-shareEmail":"Share by email","tooltip-shareWhatsApp":"Share on WhatsApp","tooltip-shareFacebook":"Share on Facebook","tooltip-shareTwitter":"Share on X","tooltip-shareLinkedIn":"Share on LinkedIn","tooltip-sharePinterest":"Share on Pinterest","tooltip-cancel":"Cancel","tooltip-goToLive":"Skip ahead to live broadcast","tooltip-highlights":"Highlights",Highlights:"Highlights",Live:"Live","Live in":"Live in",Interactive:"Interactive",Image:"Image",Chapters:"Chapters","Volume Up":"Volume up","Volume Down":"Volume down","Volume Off":"Muted","Volume On":"Unmuted","Keyboard shortcuts":"Keyboard shortcuts","Volume input":"Volume input","Time input":"Time input",Embed:"Embed",Email:"Email",Unmute:"Unmute",day:"day",days:"days",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",second:"second",seconds:"seconds",at:"at","Set reminder":"Set reminder","Reminder set":"Reminder set"},sv:{Replay:"Se igen ",Language:"Språk",Subtitles:"Undertexter","Subtitles on":"Undertexter på","Subtitles off":"Undertexter av",Quality:"Kvalite ","Embedcode copied to clipboard":"Inbäddningskoden har kopierats till urklipp","Link copied to clipboard":"Länken har kopierats till urklipp","Failed to copy to clipboard":"Det gick inte att kopiera till urklipp","Up next":"Nästa",Cancel:"Avbryt","Related videos":"Relaterade videos",Related:"Relaterad","Share this video":"Dela video",Subtitle:"Undertexter",Audiotrack:"Ljudspår",Audiotracks:"Ljudspår",Author:"Upphovsman","Play now":"Spela nu",Source:"Källa","Media not available":"Media inte tillgängligt",Off:"Av",Skip:"Hoppa över",Speed:"Hastighet","Playback speed":"Uppspelningshastighet",Normal:"Normal","Up next in":"Nästa video ",Space:"Mellanslag","Share video":"Dela video",Logo:"Logo","aria-settingsButton":"Öppna inställningsmenyn","aria-chapterButton":"Öppna inställningarna för kapitel ","tooltip-playPauseButton":"Spela/Paus","tooltip-replayButton":"Se igen ","tooltip-playNext":"Spela nästa video","tooltip-forwardVideo":"Hoppa fram 10 sekunder","tooltip-rewindVideo":"Spela tillbaka 10 sekunder","tooltip-increasePlaybackRate":"Öka Uppspelningshastighet","tooltip-decreasePlaybackRate":"Minska Uppspelningshastighet","tooltip-muteButton":"Ljud av/på","tooltip-castButton":"Casta/Sluta casta","tooltip-fullscreenButton":"Fullskärm/Stäng fullskärm","tooltip-subtitleButton":"Slå på undertexter/Stäng av undertexter","tooltip-settingsButton":"Inställningar","tooltip-shareButton":"Dela","tooltip-chapterButton":"Kapitel","tooltip-close":"Stäng","tooltip-previousRelatedButton":"Gå till tidigare relaterade videor","tooltip-nextRelatedButton":"Gå till tidigare nästa videor","tooltip-shareEmbed":"Dela med inbäddningskod","tooltip-shareEmail":"Dela via e-mail","tooltip-shareWhatsApp":"Dela via WhatsApp","tooltip-shareFacebook":"Dela via Facebook","tooltip-shareTwitter":"Dela via X ","tooltip-shareLinkedIn":"Dela via LinkedIn","tooltip-sharePinterest":"Dela via Pintrest","tooltip-cancel":"Avbryt","tooltip-goToLive":"Hoppa vidare till livesändning","tooltip-highlights":"Höjdpunkter",Highlights:"Höjdpunkter",Live:"Live","Live in":"Live om",Interactive:"Interaktiv ",Image:"Bild",Chapters:"Kapitel ","Volume Up":"Volym upp","Volume Down":"Volym ned","Volume Off":"Ljud av ","Volume On":"Ljud på ","Keyboard shortcuts":"Tangentbordsgenvägar","Volume input":"Volymingång","Time input":"Tidsinmatning",Embed:"Inbäddningskod",Email:"E-mail",Unmute:"Ljud på",day:"dag",days:"dagar",minute:"minut",minutes:"minuter",hour:"timme",hours:"timmar",second:"sekund",seconds:"sekunder",at:"kl","Set reminder":"Ställ påminnelse","Reminder set":"Påminnelse ställt"},pl:{Replay:"Odtwórz ponownie",Language:"Język",Subtitles:"Napisy","Subtitles on":"Napisy włączone","Subtitles off":"Napisy wyłączone",Quality:"Jakość","Embedcode copied to clipboard":"Kod skopiowany do schowka","Link copied to clipboard":"Link skopiowany do schowka","Failed to copy to clipboard":"Nie udało się skopiować do schowka","Up next":"Kolejny",Cancel:"Anuluj","Related videos":"Powiązane filmy","Share this video":"Udostępnij ten film",Subtitle:"Napisy",Audiotrack:"Ścieżka dźwiękowa",Audiotracks:"Ścieżki dźwiękowe",Author:"Autor","Play now":"Odtwórz teraz",Source:"Źródło","Media not available":"Media niedostępne",Off:"Wyłączony",Skip:"Pomiń",Speed:"Prędkość","Playback speed":"Prędkość odtwarzania",Normal:"Normalna","Up next in":"Następny za",Space:"Spacja","Share video":"Udostępnij film",Logo:"Logo","aria-settingsButton":"Otwórz menu ustawień","aria-chapterButton":"Otwórz menu rozdziałów","tooltip-playPauseButton":"Odtwórz/Wstrzymaj","tooltip-replayButton":"Odtwórz ponownie","tooltip-playNext":"Odtwórz następny film","tooltip-forwardVideo":"Przewiń o 10 sekund","tooltip-rewindVideo":"Cofnij o 10 sekund","tooltip-increasePlaybackRate":"Zwiększyć prędkość odtwarzania","tooltip-decreasePlaybackRate":"Zmniejszyć prędkość odtwarzania","tooltip-muteButton":"Wycisz/Wyłącz wyciszenie","tooltip-castButton":"Przesyłaj/Zakończ przesyłanie","tooltip-fullscreenButton":"Pełny ekran/Zamknij pełny ekran","tooltip-subtitleButton":"Włącz/Wyłącz napisy","tooltip-settingsButton":"Ustawienia","tooltip-shareButton":"Udostępnij","tooltip-chapterButton":"Rozdział","tooltip-close":"Zamknij","tooltip-previousRelatedButton":"Przejdź do poprzednich powiązanych filmów","tooltip-nextRelatedButton":"Przejdź do następnych powiązanych filmów","tooltip-shareEmbed":"Udostępnij: Umieść","tooltip-shareEmail":"Udostępnij przez Email","tooltip-shareWhatsApp":"Udostępnij przez WhatsApp","tooltip-shareFacebook":"Udostępnij przez Facebook","tooltip-shareTwitter":"Udostępnij przez X","tooltip-shareLinkedIn":"Udostępnij przez LinkedIn","tooltip-sharePinterest":"Udostępnij przez Pinterest","tooltip-cancel":"Anuluj","tooltip-goToLive":"Przejdź do transmisji na żywo","tooltip-highlights":"Wyróżnienia",Highlights:"Wyróżnienia",Live:"Na żywo","Live in":"Na żywo za",Interactive:"Interaktywny",Image:"Obraz",Chapters:"Rozdziały","Volume Up":"Podgłośnij","Volume Down":"Ścisz","Volume Off":"Wyciszony","Volume On":"Niewyciszony","Keyboard shortcuts":"Skróty klawiszowe","Volume input":"Wprowadzenie głośności","Time input":"Wprowadzenie czasu",Embed:"Umieść",Email:"E-mail",Unmute:"Włącz dźwięk",day:"dzień",days:"dni",minute:"minutę",minutes:"minuty",hour:"godzinę",hours:"godziny",second:"sekundę",seconds:"sekundy",at:"o","Set reminder":"Ustawić przypomnienie","Reminder set":"Przypomnienie ustawione"},de:{Replay:"Wiederholen",Language:"Sprache",Subtitles:"Untertitel","Subtitles on":"Untertitel an","Subtitles off":"Untertitel aus",Quality:"Qualität","Embedcode copied to clipboard":"Einbettungscode in die Zwischenablage kopiert","Link copied to clipboard":"Link in die Zwischenablage kopiert","Failed to copy to clipboard":"Fehler beim Kopieren in die Zwischenablage","Up next":"Als nächstes",Cancel:"Abbrechen","Related videos":"Ähnliche Videos","Share this video":"Teile dieses Video",Subtitle:"Untertitel",Audiotrack:"Audiospur",Audiotracks:"Audiospuren",Author:"Autor","Play now":"Jetzt abspielen",Source:"Quelle","Media not available":"Medien nicht verfügbar",Off:"Aus",Skip:"Werbung überspringen",Speed:"Geschwindigkeit","Playback speed":"Wiedergabegeschwindigkeit",Normal:"Normal","Up next in":"Video beginnt in",Space:"Leertaste","Share video":"Teilen",Logo:"Logo","aria-settingsButton":"Einstellungsmenü öffnen","aria-chapterButton":"Kapitelmenü öffnen","tooltip-playPauseButton":"Spiel/Pause","tooltip-replayButton":"Wiederholung","tooltip-playNext":"Nächstes Video abspielen","tooltip-forwardVideo":"10 Sekunden vorspulen","tooltip-rewindVideo":"10 Sekunden zurückspulen","tooltip-increasePlaybackRate":"Wiedergabegeschwindigkeit erhöhen","tooltip-decreasePlaybackRate":"Wiedergabegeschwindigkeit verringern","tooltip-muteButton":"Stummschalten/Stummschalten aufheben","tooltip-castButton":"Casten/Casten beenden","tooltip-fullscreenButton":"Vollbild/Vollbildmodus beenden","tooltip-subtitleButton":"Untertitel einschalten/Untertitel ausschalten","tooltip-settingsButton":"Einstellungen","tooltip-shareButton":"Teilen","tooltip-chapterButton":"Kapitel","tooltip-close":"Schließen","tooltip-previousRelatedButton":"Sehen Sie sich weitere ähnliche Videos an","tooltip-nextRelatedButton":"Sehen Sie sich weitere ähnliche Videos an","tooltip-shareEmbed":"Einbetten","tooltip-shareEmail":"Per E-mail teilen","tooltip-shareWhatsApp":"Auf WhatsApp teilen","tooltip-shareFacebook":"Auf Facebook teilen","tooltip-shareTwitter":"Auf X teilen","tooltip-shareLinkedIn":"Auf LinkedIn teilen","tooltip-sharePinterest":"Auf Pinterest teilen","tooltip-cancel":"Abbrechen","tooltip-goToLive":"Springen Sie weiter zur Live-Übertragung","tooltip-highlights":"Highlights",Highlights:"Highlights",Live:"Live","Live in":"Live in",Interactive:"Interaktiv",Image:"Bild",Chapters:"Kapitel","Volume Up":"Lautstärke erhöhen","Volume Down":"Lautstärke runter","Volume Off":"Stummgeschaltet","Volume On":"Stummschaltung aufgehoben","Keyboard shortcuts":"Tastenkombinationen","Volume input":"Lautstärkeeingabe","Time input":"Zeiteingabe",Embed:"Einbetten",Email:"E-mail",Unmute:"Stummschaltung aufheben",day:"Tag",days:"Tage",minute:"Minute",minutes:"Minuten",hour:"Stunde",hours:"Stunden",second:"Sekunde",seconds:"Sekunden",at:"um","Set reminder":"Erinnerung einstellen","Reminder set":"Erinnerung eingestellt"},da:{Replay:"Genafspil",Language:"Sprog",Subtitles:"Undertekster","Subtitles on":"Undertekster aktiveret","Subtitles off":"Undertekster aktiveret",Quality:"Kvalitet","Embedcode copied to clipboard":"Indlejret kode kopieret til udklipsholder","Link copied to clipboard":"Link kopieret til udklipsholder","Failed to copy to clipboard":"Kunne ikke kopiere indholdet","Up next":"Afspiller nu",Cancel:"Fortryd","Related videos":"Relaterede videoer",Related:"Relaterede","Share this video":"Del denne video",Subtitle:"Undertekst",Audiotrack:"Lydspor",Audiotracks:"Lydspor",Author:"Forfatter","Play now":"Afspil nu",Source:"Kilde","Media not available":"Video ikke tilgængelig",Off:"Deaktiveret",Skip:"Spring over",Speed:"Hastighed","Playback speed":"Afspilningshastighed",Normal:"Normal","Up next in":"Næste video",Space:"Mellemrum","Share video":"Del video","Playing on":"Afspiller","Connected to":"Forbundet til",Logo:"Logo","aria-settingsButton":"Åbn indstillingsmenu","aria-chapterButton":"Åbn kapitel menu","tooltip-playPauseButton":"Afspil/pause","tooltip-replayButton":"Genafspil","tooltip-playNext":"Spil næste","tooltip-forwardVideo":"Spol 10 sekunder","tooltip-rewindVideo":"Spol 10 sekunder tilbage","tooltip-increasePlaybackRate":"Forøg afspilningshastigheden","tooltip-decreasePlaybackRate":"Sænk afspilningshastigheden","tooltip-muteButton":"Mute/Unmute","tooltip-castButton":"Cast/stop cast","tooltip-fullscreenButton":"Fuldskærm/Luk fuldskærm","tooltip-subtitleButton":"Tænd undertekster/sluk undertekster","tooltip-settingsButton":"Indstillinger","tooltip-shareButton":"Del","tooltip-chapterButton":"Kapitel","tooltip-close":"Luk","tooltip-previousRelatedButton":"Gå til tidligere relaterede videoer","tooltip-nextRelatedButton":"Gå til næste relaterede videoer","tooltip-shareEmbed":"Del via indlejringskode","tooltip-shareEmail":"Del via e-mail","tooltip-shareWhatsApp":"Del på WhatsApp","tooltip-shareFacebook":"Del på Facebook","tooltip-shareTwitter":"Del på X","tooltip-shareLinkedIn":"Del på LinkedIn","tooltip-sharePinterest":"Del på Pinterest","tooltip-cancel":"Fortryd","tooltip-goToLive":"Gå til Live Broadcast","tooltip-highlights":"Højdepunkter",Highlights:"Højdepunkter",Live:"Direkte","Live in":"Live om",Interactive:"Interaktiv",Image:"Billede",Chapters:"Kapitler","Volume Up":"Skru op","Volume Down":"Skru ned","Volume Off":"Lyd slukket","Volume On":"Lyd tændt","Keyboard shortcuts":"Tastaturgenveje","Volume input":"Lydinput","Time input":"Tidsinput",Embed:"Indlejre",Email:"E-mail",Unmute:"Unmute",day:"dag",days:"dage",minute:"minut",minutes:"minutter",hour:"time",hours:"timer",second:"sekund",seconds:"sekunder",at:"kl","Set reminder":"Indstil påmindelse","Reminder set":"Påmindelse indstillet"}},It={nl:{"tooltip-playPauseButton":"Afspelen/Pauzeren","tooltip-muteButton":"Geluid dempen/Geluid aanzetten"},en:{"tooltip-playPauseButton":"Play/Pause","tooltip-muteButton":"Mute/Unmute"},sv:{"tooltip-playPauseButton":"Spela/Paus","tooltip-muteButton":"Ljud av/på"},pl:{"tooltip-playPauseButton":"Odtwórz/Wstrzymaj","tooltip-muteButton":"Wycisz/Wyłącz wyciszenie"},de:{"tooltip-playPauseButton":"Spiel/Pause","tooltip-muteButton":"Stummschalten/Stummschalten aufheben"},da:{"tooltip-playPauseButton":"Afspil/pause","tooltip-muteButton":"Mute/Unmute"}};function Tt(e){var t=function(e){var t,i;t=navigator.languages&&navigator.languages.length?n.default(navigator.languages):[navigator.language||"en"];var a=!0,o=!1,s=void 0;try{for(var l,r=t[Symbol.iterator]();!(a=(l=r.next()).done);a=!0){var d=l.value.slice(0,2);if(e.includes(d)){i=d;break}}}catch(e){o=!0,s=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw s}}return i||"en"},i=e.translations;e.setLanguage=function(){var n=t(Object.keys(At));i.set(At[n]),e.language.set(n)},e.setOutstreamLanguage=function(){var n=t(Object.keys(It));i.set(It[n]),e.language.set(n)},e.translate=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=x(i)[e]||e;if(t){var a=n.indexOf("/");if(a>0)return n.slice(0,a)}return n}}function Dt(e){var t=e.playerWidth,i=e.logoObject,n=e.api,a=e.marginSize,o=0;setTimeout((function(){a.subscribe((function(t){t>o&&(o=t,e.setLogo())}))}),1),e.setLogo=function(){var e;if(n){var a=10,o=x(t);o>2e3?a=.6666666666666666*Math.floor(o/1e3)*20:o>480&&(a=20);var s=Math.ceil(2*a);devicePixelRatio>1&&(s*=Math.min(3,devicePixelRatio));var l=null==(e=n.getLogo)?void 0:e.call(n,null,Math.ceil(s));null!=l&&l.src?i.set(l):i.set(null)}}}function Mt(e){var t=e>=0;t?e=Math.max(e,0):e*=-1;var i=Math.floor(e/3600),n=Math.floor(e/60)%60,a=Math.floor(e%60);return"".concat(t?"":"-").concat(i?i+":":"").concat(n<10?"0"+n:n,":").concat(a<10?"0":"").concat(a)}function Et(e){var t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],a=Math.max(Math.ceil(e),0),o=Ae(Ht),s=o.translate,l=s("day"),r=s("days");if((t=Math.floor(a/86400))>0)return t+" "+(t>1?r:l);if(i){if((t=Math.floor(a/3600)%24)>0)return t+" "+s(t>1?"hours":"hour");if((t=Math.floor(a/60)%60)>0)return t+" "+s(t>1?"minutes":"minute");if((t=Math.floor(a%60))>0)return t+" "+s(t>1?"seconds":"second")}return(t=Math.floor(a/3600)%24)>0&&n.push(("00"+t).slice(-2)),t=Math.floor(a/60)%60,n.push(("00"+t).slice(-2)),t=Math.floor(a%60),n.push(("00"+t).slice(-2)),n.join(":")}function Bt(e){var i,n){return"project"===e?t("Interactive"):"image"===e?t("Image"):"live"===n?t("Live")yToClipBoard=function(e,n){var a,o=function(){i(t("Failed to copy to clipboard"),"error")};if(null!=(a=navigator.clipboard)&&a.writeText)navigator.clipboard.writeText(e).then((function(){return i(n,"success")})).catch((function(){return o()}));else{var s=document.createElement("textarea");s.textContent=e,s.style.position="fixed",document.body.appendChild(s),s.select();try{document.execCommand("copy"),i(n,"success")}catch(e){o()}finally{document.body.removeChild(s)}}}}function Lt(e){return(null==e?void 0:e.offsetWidth)<(null==e?void 0:e.scrollWidth)}function Rt(e){document.addEventListener("mousemove",(function(t){Math.abs(t.movementX)>0||Math.abs(t.movementY)>0?e.set(!1):Rt(e)}),{once:!0})}function qt(e){e.subscribe((function(t){t?Rt(e):function(e){document.addEventListener("touchstart",(function(){e.set(!0)}),{once:!0})}(e)}))}var Ht=Symbol(),Ot=["controls","header","headerPause","title","titlePause","author","authorPause","copyright","copyrightPause","date","loadSpinner","bigButtonContainer","bigPlayButton","bigReplayButton","logo","contrast","nonTouchSlider","playPauseButton","muteButton","volumeButton","volumeSliderHorizontal","volumeSliderVertical","zoomButton","audio","quality","shareButton","castButton","shareButtonTouch","duration","timeTell","remaining","timeBorder","current","autoPlayOnly","relatedCarousel","subtitle","touchSlider","playbackRatePane","timeDisplay","currentTime","settingsButton","cogButton","controlBar","seekButtons","subtitlesButton","progressBar","framePreview","relatedItems","fullscr[1]:{},i=t.delay,n=void 0===i?0:i,a=t.duration,o=void 0===a?400:a,s=t.easing,l=void 0===s?y:s,r=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:l,css:function(e){return"opacity: ".concat(e*r)}}}function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.delay,n=void 0===i?0:i,a=t.duration,o=void 0===a?400:a,s=t.easing,r=void 0===s?jt:s,d=t.x,u=void 0===d?0:d,c=t.y,h=void 0===c?0:c,p=t.opaci[0],C=k[1];return{delay:n,duration:o,easing:r,css:function(e,t){return"\n\t\t\ttransform: ".concat(v," translate(").concat((1-e)*b).concat(w,", ").concat((1-e)*$).concat(C,");\n\t\t\topacity: ").concat(f-g*t)}}}function Ft(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M23.625 16.715H15.75c-5.43 0-10.008 3.592-11.386 8.477a12.67 12.67 0 0 1-.427-3.335c0-5.681 4.7-10.285 10.5-10.285h9.188 1.969c1.091 0 1.969-.86 1.969-1.928V7.716 5.458l9.852 8.686-9.852 8.686v-2.258-1.928c0-1.069-.878-1.928-1.969-1.928h-1.969zm0 3.857v3.857 1.286a2.56 2.56 0 0 0 1.559 2.346c.952.41 2.051.241 2.822-.434l13.125-11.571c.55-.49.87-1.181.87-1.912s-.312-1.422-.87-1.912L28.006.661c-.771-.683-1.879-.852-2.822-.434s-1.559 1.334-1.559 2.346v1.286 3.857h-3.937-5.25C6.464 7.716 0 14.047 0 21.858c0 6.268 3.166 10.141 5.636 12.222.336.281.664.53.96.747.263.193.509.354.73.498.369.241.681.41.886.522s.435.153.664.153c.894 0 1.616-.715 1.616-1.583 0-.546-.295-1.061-.681-1.454l-.115-.113c-.197-.185-.418-.41-.632-.691a5.76 5.76 0 0 1-.41-.635c-.435-.779-.779-1.84-.779-3.23 0-4.259 3.527-7.714 7.875-7.714h3.938 3.938v-.008z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 42 37"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Ut=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.d,Ft,C,{}),c.default(n)}return i}(ut);function Nt(e){var t,i,n=e[5].default,a=I(n,e,e[4],null);return{c:function(){t=G("div"),a&&a.c(),ue(t,"display",e[0])},m:function(n,o){J(n,t,o),a&&a.m(t,null),ult(o,1)[0];a&&a.p&&(!i||16&s)&&M(a,n,e,e[4],i?D(n,e[4],s,null):E(e[4]),null),1&s&&ue(t,"display",e[0])},i:function(e){i||(Ge(a,e),i=!0)},o:function(e){Xe(a,e),i=!1},d:function(i){i&&K(t),a&&a.d(i),e[6](null)}}}function Wt(e,t,i){var n,a=t.$$slots,o=void 0===a?{}:a,s=t.$$scope,l=Ae(Ht).translations;A(e,l,(function(e){return i(7,n=e)}));var r,d=t.key,u=void 0===d?"":d,c=t.display,h=void 0===c?"block":c;return Ce((function(){u&&i(1,r.textContent=n[u]||r.textContent,r),i(1,r.textContent=n[r.textContent]||r.textContent,r)})),e.$$set=function(e){"key"in e&&i(3,u=e.key),"display"in e&&i(0,h=e.display),"$$scope"in e&&i(4,s=e.$$scope)},[h,r,l,u,s,o,function(e){De[e?"unshift":"push"]((function(){i(1,r=e)}))}]}var Qt=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Wt,Nt,C,{key:3,display:0}),c.default(n)}return i}(ut);function Jt(e){U(e,"svelte-l335oh",".tooltip.svelte-l335oh.svelte-l335oh.svelte-l335oh.svelte-l335oh{display:inline-block}.tooltip.svelte-l335oh div{display:inline-block}.tooltip.svelte-l335oh .tooltip-content.svelte-l335oh.svelte-l335oh.svelte-l335oh{padding:6px 10px;background-color:var(--bg-color-pane);border-radius:5px;color:#fff;font-size:0.75em;display:flex;gap:6px;text-align:center;white-space:nowrap;position:absolute}@supports (-webkit-touch-callout: none) and (not (translate: none)){.tooltip.svelte-l335oh .tooltip-content.svelte-l335oh>.svelte-l335oh+.svelte-l335oh{margin-left:6px}}.tooltip.svelte-l335oh .tooltip-content.center.svelte-l335oh.svelte-l335oh.svelte-l335oh{left:50%;transform:translate(-50%, 0)}.tooltip.svelte-l335oh .tooltip-content.right.svelte-l335oh.svelte-l335oh.svelte-l335oh{right:0}.tooltip.svelte-l335oh .tooltip-content.left.svelte-l335oh.svelte-l335oh.svelte-l335oh{left:0}.tooltip.svelte-l335oh .tooltip-content .sub-text.svelte-l335oh.svelte-l335oh.svelte-l335oh{opacity:0.5}")}function Kt(e){var t,i;return{c:function(){t=G("div"),i=Z(e[0]),oe(t,"class","text svelte-l335oh")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,t){1&t&&re(i,e[0])},d:function(e){e&&K(t)}}}function Yt(e){var t,i,n,a;return{c:function(){t=G("div"),i=Z("("),n=Z(e[1]),a=Z(")"),oe(t,"class","sub-text svelte-l335oh")},m:function(e,o){J(e,t,o),F(t,i),F(t,n),F(t,a)},p:function(e,t){2&t&&re(n,e[1])},d:function(e){e&&K(t)}}}function Gt(e){var t,i,n,a,o=e[0]&&Kt(e),s=e[1]&&Yt(e);return{c:function(){t=G("div"),i=G("div"),o&&o.c(),n=ee(),s&&s.c(),oe(i,"class",a="tooltip-content "+e[5]+" svelte-l335oh"),ue(i,"top",e[2]),oe(t,"class","tooltip svelte-l335oh")},m:function(a,l){J(a,t,l),F(t,i),o&&o.m(i,null),F(i,n),s&&s.m(i,null),e[6](i),e[7](t)},p:function(e,t){var r=l.default(t,1)[0];e[0]?o?o.p(e,r):((o=Kt(e)).c(),o.m(i,n)):o&&(o.d(1),o=null),e[1]?s?s.p(e,r):((s=Yt(e)).c(),s.m(i,null)):s&&(s.d(1),s=null),32&r&&a!==(a="tooltip-content "+e[5]+" svelte-l335oh")&&oe(i,"class",a),4&r&&ue(i,"top",e[2])},i:v,o:v,d:function(i){i&&K(t),o&&o.d(),s&&s.d(),e[6](null),e[7](null)}}}function Xt(e,t,i){var n,a,o,s=function(e,t){var i=null==e?void 0:e.getBoundingClientRect(),n=null==t?void 0:t.getBoundingClientRect();if(i&&n){var a=d();return i.x+n.width/2+30>=(null==a?void 0:a.right)?"right":i.x-n.width/2<=(null==a?void 0:a.left)?"left":"center"}},l=Ae(Ht),r=l.playout,d=l.getWrapperBoundingClientRect,u=t.text,c=void 0===u?"":u,h=t.subtext,p=void 0===h?"":h,_=t.tooltipY,m=void 0===_?"0px":_;return r.subscribe((function(){setTimeout((function(){i(5,n=s(a,o))}))})),e.$$set=function(e){"text"in e&&i(0,c=e.text),"subtext"in e&&i(1,p=e.subtext),"tooltipY"in e&&i(2,m=e.tooltipY)},e.$$.update=function(){24&e.$$.dirty&&i(5,n=s(a,o))},[c,p,m,a,o,n,function(e){De[e?"unshift":"push"]((function(){i(4,o=e)}))},function(e){De[e?"unshift":"push"]((function(){i(3,a=e)}))}]}var Zt=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Xt,Gt,C,{text:0,subtext:1,tooltipY:2},Jt),c.default(n)}return i}(ut);function ei(e){U(e,"svelte-z3uhs0",'.button-element.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0{box-sizing:border-box;width:100%;height:100%;position:relative;cursor:pointer;pointer-events:initial;border-radius:var(--border-radius);-webkit-tap-highlight-color:transparent}.button-element.disabled.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0{pointer-events:none;opacity:0.33}.button-element.svelte-z3uhs0 svg,.button-element.svelte-z3uhs0 [slot]{min-height:12px;height:var(--icon-height);line-height:var(--icon-height);min-width:var(--icon-height);display:inline-flex;justify-content:center}.button-element.no-hover-transform.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0::before{content:" ";position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--foreground-color);pointer-events:none;border-radius:var(--border-radius);transform:scale(0);opacity:0;transition:transform 0.15s linear, opacity 0.15s linear}.button-element.svelte-z3uhs0 .slot-content.svelte-z3uhs0.svelte-z3uhs0:not(.no-shadow){filter:drop-shadow(0 2px 0 rgba(0, 0, 0, 0.25))}.button-element.svelte-z3uhs0 .no-shadow.svelte-z3uhs0 >*{text-shadow:none}.button-element.standalone.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0{overflow:hidden;border-radius:var(--border-radius);background-color:var(--bg-color-button);font-size:0.9em;min-height:var(--bg-height);aspect-ratio:1}.button-element.standalone.with-text.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0{padding:0 max(var(--margin-size) * 0.8, 12px);aspect-ratio:unset}.button-element.standalone.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0:hover{background-color:var(--bg-color-button-hover)}.button-element.standalone.svelte-z3uhs0 .slot-content.svelte-z3uhs0.svelte-z3uhs0{display:flex;align-items:center;justify-content:center;transition:opacity 0.3s ease;gap:calc(var(--margin-size) / 2)}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.button-element.standalone.svelte-z3uhs0 .slot-content.svelte-z3uhs0 > *{display:flex;align-items:center}.button-element.svelte-z3uhs0:not(.with-text) .button-text.svelte-z3uhs0.svelte-z3uhs0{display:none}.button-element.svelte-z3uhs0 .button-content.svelte-z3uhs0.svelte-z3uhs0{width:var(--bg-width);height:var(--bg-height);transition:transform 0.2s ease-in-out, opacity 0.2s ease-in-out}.button-element.svelte-z3uhs0 .button-content.svelte-z3uhs0>.svelte-z3uhs0{box-sizing:border-box;position:var(--button-position);top:0;left:0;width:100%;height:100%;display:grid;align-content:center;justify-content:center;place-content:center;transition:transform 0.2s ease-in-out, opacity 0.2s ease-in-out}.button-element.svelte-z3uhs0 .button-content.noOpacityTransform.svelte-z3uhs0>.svelte-z3uhs0{transition:transform 0.2s ease-in-out}.button-element.svelte-z3uhs0 .button-content .normal.svelte-z3uhs0.svelte-z3uhs0{opacity:1}.button-element.svelte-z3uhs0 .button-content .toggled.svelte-z3uhs0.svelte-z3uhs0{opacity:0}.button-element.svelte-z3uhs0 .button-content.svelte-z3uhs0.svelte-z3uhs0:not(.no-hover-transform):hover{transform:var(--hover-transform)}.button-element:not(.standalone).no-hover-transform.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0:hover::before{transform:scale(1);transition:transform 0.2s linear, opacity 0.2s linear}.button-element:not(.standalone).no-hover-transform:hover.mid-state.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0::before{transition:none;transform:scale(0)}.button-element:not(.standalone).no-hover-transform.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0:hover:not(.touched)::before{opacity:0.1}.button-element:not(.standalone).no-hover-transform:hover:not(.touched).just-clicked.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0::before{transform:scale(1.33);opacity:0}.button-element:not(.standalone).no-hover-transform:hover:not(.touched).mid-state.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0::before{transform:scale(1)}.button-element:not(.standalone).no-hover-transform:hover.touched.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0::before{opacity:0}.button-element:not(.standalone).no-hover-transform:hover.touched.just-clicked.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0::before{transform:scale(1.33);opacity:0.1}.button-element:not(.standalone).no-hover-transform:hover.touched.mid-state.svelte-z3uhs0.svelte-z3uhs0.svelte-z3uhs0::before{transform:scale(1.33)}.button-element.toggled.no-toggle-transform.svelte-z3uhs0 .button-content .normal.svelte-z3uhs0.svelte-z3uhs0{opacity:0}.button-element.toggled.no-toggle-transform.svelte-z3uhs0 .button-content .toggled.svelte-z3uhs0.svelte-z3uhs0{opacity:1}.button-element.svelte-z3uhs0 .button-tooltip.svelte-z3uhs0.svelte-z3uhs0{pointer-events:none;opacity:0;transition:opacity 0.2s button-element.svelte-z3uhs0:not(.touched):hover .button-tooltip.svelte-z3uhs0.svelte-z3uhs0{opacity:1}')}var ti=function(e){return{}},ii=function(e){return{}},ni=function(e){return{}},ai=function(e){return{}};function oi(e){var t;return{c:function(){t=Z(e[20])},m:function(e,i){J(e,t,i)},p:function(e,i){1048576&i[0]&&re(t,e[20])},d:function(e){e&&K(t)}}}function si(e){var t,i,n,a,o,s=e[46].toggled,l=I(s,e,e[47],ii);return a=new Qt({props:{$$slots:{default:[li]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),l&&l.c(),i=ee(),n=G("span"),ot(a.$$.fragment),oe(n,"class","button-text svelte-z3uhs0"),he(n,"no-shadow",e[21]),oe(t,"class","toggled slot-content svelte-z3uhs0"),he(t,"no-shadow",e[21])},m:function(e,s){J(e,t,s),l&&l.m(t,null),F(t,i),F(t,n),st(a,n,null),o=!0},p:function(e,i){l&&l.p&&(!o||65536&i[1])r=i,&a.$$.fragment,e),o=!1},d:function(e){e&&K(t),l&&l.d(e),lt(a)}}}function li(e){var t;return{c:function(){t=Z(e[20])},m:function(e,i){J(e,t,i)},p:function(e,i){1048576&i[0]&&re(t,e[20])},d:function(e){e&&K(t)}}}function ri(e){var t,i,n;return i=new Zt({props:{text:e[28],subtext:e[16]||e[31].disableKeyboardControls?"":e[37](e[29]),tooltipY:e[14]}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","button-tooltip svelte-z3uhs0")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:function(e,t){var n={};268435456&t[0]&&(n.text=e[28]),536936448&t[0]|1&t[1]&&(n.subtext=e[16]||e[31].disableKeyboardControls?"":e[37](e[29])),16384&t[0]&&(n.tooltipY=e[14]),i.$set(n)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function di(e){var t,i,n,a,o,s,l,r,d,u,c,h,p=e[46].normal,_=I(p,e,e[47],ai);s=new Qt({props:{$$slots:{default:[oi]},$$scope:{ctx:e}}});var m="absolute"===e[11]&&si(e),f=!e[26]&&e[28]&&!e[15]&&ri(e);return{c:function(){t=G("div"),i=G("div"),n=G("div"),_&&_.c(),a=ee(),o=G("span"),ot(s.$$.fragment),l=ee(),m&&m.c(),d=ee(),f&&f.c(),oe(o,"class","button-text svelte-z3uhs0"),he(o,"no-shadow",e[21]),oe(n,"class","normal slot-content svelte-z3uhs0"),he(n,"no-shadow",e[21]),ue(n,"transform",e[2]?e[0]:""),oe(i,"class","button-content svelte-z3uhs0"),oe(i,"aria-label",r=e[25]||e[28]),oe(i,"tabindex",e[19]),oe(i,"role","button"),he(i,"noOpacityTransform",e[3]),ue(i,"background-color",e[6]),ue(i,"border-radius",e[17]?"0px":e[5]),ue(i,"border",e[7]),oe(t,"class","button-element svelte-z3uhs0"),he(t,"touched",e[24]),he(t,"disabled",e[27]),he(t,"disabled-click-only",e[13]),he(t,"toggled",e[2]),he(t,"just-clicked",e[22]),he(t,"mid-state",e[23]),he(t,"no-toggle-transform",!e[0]),he(t,"no-hover-transform",!e[1]),he(t,"standalone",e[18]),he(t,"with-text",!!e[20]),ue(t,"--foreground-color",e[30]),ue(t,"--border-radius",e[17]?"0px":e[5]),ue(t,"--hover-transform",e[24]?"none":e[1]),ue(t,"--icon-height",e[12]+"px"),ue(t,"--bg-height",e[10]?e[10]:e[8]),ue(t,"--bg-width",e[9]?e[9]:e[8]),ue(t,"--button-position",e[11]),ue(t,"color",e[4])},m:function(r,p){J(r,t,p),F(t,i),F(i,n),_&&_.m(n,null),F(n,a),F(n,o),st(s,o,null),F(i,l),m&&m.m(i,null),F(t,d),f&&f.m(t,null),u=!0,c||(h=ie(t,"click",e[38]),c=!0)},p:function(e,a){_&&_.p&&(!u||65536&a[1])&&M(_,p,e,e[47],u?D(p,e[47],a,ni):E(e[47]),ai);var l={};1048576&a[0]|65536&a[1]&&(l.$$scope={dirty:a,ctx:e}),s.$set(l),(!u||2097152&a[0])&&he(o,"no-shadow",e[21]),(!u||2097152&a[0])&&he(n,"no-shadow",e[21]),5&a[0]&&ue(n,"transform",e[2]?e[0]:""),"absolute"===e[11]?m?(m.p(e,a),2048&a[0]&&Ge(m,1)):((m=si(e)).c(),Ge(m,1),m.m(i,null)):m&&(Ke(),Xe(m,1,1,(function(){m=null})),Ye()),(!u||301989888&a[0]&&r!==(r=e[25]||e[28]))&&oe(i,"aria-label",r),(!u||524288&a[0])&&oe(i,"tabindex",e[19]),(!u||8&a[0])&&he(i,"noOpacityTransform",e[3]),64&a[0]&&ue(i,"background-color",e[6]),131104&a[0]&&ue(i,"border-radius",e[17]?"0px":e[5]),128&a[0]&&ue(i,"border",e[7]),e[26]||!e[28]||e[15]?f&&(Ke(),Xe(f,1,1,(function(){f=null})),Ye()):f?(f.p(e,a),335577088&a[0]&&Ge(f,1)):((f=ri(e)).c(),Ge(f,1),f.m(t,null)),(!u||16777216&a[0])&&he(t,"touched",e[24]),(!u||134217728&a[0])&&he(t,"disabled",e[27]),(!u||8192&a[0])&&he(t,"disabled-click-only",e[13]),(!u||4&a[0])&&he(t,"toggled",e[2]),(!u||4194304&a[0])&&he(t,"just-clicked",e[22]),(!u||8388608&a[0])&&he(t,"mid-state",e[23]),(!u||1&a[0])&&he(t,"no-toggle-transform",!e[0]),(!u||2&a[0])&&he(t,"no-hover-transform",!e[1]),(!u||262144&a[0])&&he(t,"standalone",e[18]),(!u||1048576&a[0])&&he(t,"with-text",!!e[20]),1073741824&a[0]&&ue(t,"--foreground-color",e[30]),131104&a[0]&&ue(t,"--border-radius",e[17]?"0px":e[5]),16777218&a[0]&&ue(t,"--hover-transform",e[24]?"none":e[1]),4096&a[0]&&ue(t,"--icon-height",e[12]+"px"),1280&a[0]&&ue(t,"--bg-height",e[10]?e[10]:e[8]),768&a[0]&&ue(t,"--bg-width",e[9]?e[9]:e[8]),2048&a[0]&&ue(t,"--button-position",e[11]),16&a[0]&&ue(t,"color",e[4])},i:function(e){u||(Ge(_,e),Ge(s.$$.fragment,e),Ge(m),Ge(f),u=!0)},o:function(e){Xe(_,e),Xe(s.$$.fragment,e),Xe(m),Xe(f),u=!1},d:function(e){e&&K(t),_&&_.d(e),lt(s),m&&m.d(),f&&f.d(),c=!1,h()}}}function ui(e,t,i){var n,a,o,s,l,r,d,u,c,h,p,_=t.$$slots,m=void 0===_?{}:_,f=t.$$scope,v=t.toggleTransform,g=void 0===v?"":v,y=t.hoverTransform,b=void 0===y?"":y,w=t.toggled,k=void 0!==w&&w,$=t.noOpacityTransform,C=void 0!==$&&$,S=t.color,P=void 0===S?"unset":S,x=t.bgBorderRadius,I=void 0===x?"50%":x,T=t.bgColor,D=void 0===T?"transparent":T,M=t.border,E=void 0===M?"":M,B=t.bgSize,L=void 0===B?"100%":B,R=t.bgWidth,q=void 0===R?"":R,H=t.bgHeight,O=void 0===H?"":H,j=t.buttonPosition,z=void 0===j?"absolute":j,V=t.iconHeight,F=void 0===V?24:V,U=t.disabled,N=void 0!==U&&U,W=t.disabledClick,Q=void 0!==W&&W,J=t.name,K=void 0===J?"":J,Y=t.tooltipOffsetY,G=void 0===Y?"-50px":Y,X=t.hideToolTip,Z=void 0!==X&&X,ee=t.hideTooltipSubText,te=void 0!==ee&&ee,ie=t.isSquare,ne=void 0!==ie&&ie,ae=t.standalone,oe=void 0!==ae&&ae,se=t.tabindex,le=void 0===se?0:se,re=t.ariaLabel,de=void 0===re?"":re,ue=t.text,ce=void 0===ue?"":ue,he=t.noTextShadow,pe=void 0!==he&&he,_e=Ae(Ht),me=_e.detections,fe=_e.foregroundColor,ve=_e.playout,ge=_e.translations,ye=_e.elementVisibility,be=_e.translate,we=_e.shortcutConfigs;A(e,me,(function(e){return i(44,ue"in e&&i(18,oe=e.standalone),"tabindex"in e&&i(19,le=e.tabindex),"ariaLabel"in e&&i(41,de=e.ariaLabel),"text"in e&&i(20,ce=e.text),"noTextShadow"in e&&i(21,pe=e.noTextShadow),"$$scope"in e&&i(47,f=e.$$scope)},e.$$.update=function(){var t,h;4608&e.$$.dirty[1]&&i(42,n=K&&(null==d?void 0:d["tooltip-".concat(K)])),512&e.$$.dirty[1]&&i(29,a=K&&(null==(t=we.find((function(e){return e.elementName===K})))?void 0:t.keyLabel)),4&e.$$.dirty[0]|2048&e.$$.dirty[1]&&i(28,o=null!=n&&n.includes("/")?null==n?void 0:n.split("/")[k?1:0]:n),17152&e.$$.dirty[1]&&i(27,s=N||(null==(h=null==c?void 0:c[K])?void 0:h.disabled)),8192&e.$$.dirty[1]&&i(26,l=null==u?void 0:u.isMobileDevice),5632&e.$$.dirty[1]&&i(25,r=de&&K&&(null==d?void 0:d["aria-".concat(K)]))},[g,b,k,C,P,I,D,E,L,q,O,z,F,Q,G,Z,te,ne,oe,le,ce,pe,C,be,function(e){i(24,Pe="touch"===e.pointerType),i(22,Ce=!0),i(23,Se=!1),clearTimeout(ke),clearTimeout($e),$e=setTimeout((function(){return i(23,Se=!0)}),300),ke=setTimeout((function(){i(22,Ce=!1),i(23,Se=!1)}),500)},N,K,de,n,d,u,c,m,f]}var ci=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,ui,di,C,{toggleTransform:0,hoverTransform:1,toggled:2,noOpacityTransform:3,color:4,bgBorderRadius:5,bgColor:6,border:7,bgSize:8,bgWidth:9,bgHeight:10,buttonPosition:11,iconHeight:12,disabled:39,disabledClick:13,name:40,tooltipOffsetY:14,hideToolTip:15,hideTooltipSubText:16,isSquare:17,standalone:18,tabindex:19,ariaLabel:41,text:20,noTextShadow:21},ei,[-1,-1]),c.default(n)}return i}(ut);function hi(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M12.778.702c.296.271.296.71 0 .956L5.113 9.279c-.247.294-.688.294-.961 0L.204 5.353c-.272-.245-.272-.684 0-.956s.713-.268.985 0l3.456 3.438L11.817.702c.273-.27.714-.27.961 0z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 13 10"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var pi=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,hi,C,{}),c.default(n)}return i}(ut);function _i(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M6.125.5a.88.88 0 0 1 .619.251c.342.335.342.877 0 1.212L2.111 6.5l4.633 4.537c.342.335.342.877 0 1.212a.89.89 0 0 1-1.237 0L.256 7.106c-.342-.335-.342-.877 0-1.212L5.506.751A.88.88 0 0 1 6.125.5z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 7 13"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var mi=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,_i,C,{}),c.default(n)}return i}(ut);function fi(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M11 1L1 11M1 1L11 11"),oe(i,"stroke",e[0]),oe(i,"stroke-width","1.66667"),oe(i,"stroke-linecap","round"),oe(i,"stroke-linejoin","round"),oe(t,"viewBox","-1 -1 14 14"),oe(t,"fill","none"),oe(t,"xmlns","http://www.w3.org/2000/svg")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,t){1&l.default(t,1)[0]&&oe(i,"stroke",e[0])},i:v,o:v,d:function(e){e&&K(t)}}}function vi(e,t,i){var n=t.color,a=void 0===n?"white":n;return e.$$set=function(e){"color"in e&&i(0,a=e.color)},[a]}var gi=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,vi,fi,C,{color:0}),c.default(n)}return i}(ut);function yi(e){U(e,"svelte-1lo91q5",".animate.svelte-1lo91q5{animation:svelte-1lo91q5-fade var(--duration) ease-in-out var(--delay) infinite alternate both}@keyframes svelte-1lo91q5-fade{0%{opacity:1}100%{opacity:0}}")}function bi(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M.875 12.5a.88.88 0 0 1-.619-.251c-.342-.335-.342-.877 0-1.212L4.889 6.5.256 1.963c-.342-.335-.342-.877 0-1.212a.89.89 0 0 1 1.237 0l5.25 5.143c.342.335.342.877 0 1.212l-5.25 5.143c-.17.168-.395.251-.619.251z"),oe(i,"fill","#fff"),oe(i,"class","svelte-1lo91q5"),he(i,"animate",!!e[0]),ue(i,"--delay",e[0]),ue(i,"--duration",e[1]),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 7 13"),nimationDelay,a=void 0===n?"":n,o=t.animationDuration,s=void 0===o?"0.35s":o;return e.$$set=function(e){"animationDelay"in e&&i(0,a=e.animationDelay),"animationDuration"in e&&i(1,s=e.animationDuration)},[a,s]}var ki=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,wi,bi,C,{animationDelay:0,animationDuration:1},yi),c.default(n)}return i}(ut);function $i(e){U(e,"svelte-1ecnc8m",".pane.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{pointer-events:initial;z-index:2;position:absolute;max-height:100%;max-width:100%;display:flex;flex-direction:column;background-color:var(--bg-color-pane);border-radius:5px}.pane.svelte-1ecnc8m .pane-items.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{overflow:auto;scrollbar-width:thin;display:flex;flex-direction:column;height:100%;border-radius:5px}.pane.svelte-1ecnc8m .pane-items.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m::-webkit-scrollbar{width:5px;height:5px}.pane.svelte-1ecnc8m .pane-items.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m::-webkit-scrollbar-track{background:#888}.pane.svelte-1ecnc8m .pane-items.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.pane.svelte-1ecnc8m .pane-items.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m::-webkit-scrollbar-thumb:hover{background:#f1f1f1}.pane.svelte-1ecnc8m .pane-items.has-head.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{margin-right:6px;margin-bottom:6px;margin-top:calc(0.8em + 14px + 0.8em + 6px);border-radius:0px 0px 5px 5px}.pane.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m:not(.custom-pos){right:var(--margin-size);bottom:0}.pane.align-left.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{left:0;right:unset}.pane.custom-pos.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{position:initial}.pane.custom-pos.svelte-1ecnc8m .pane-items.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{overflow:initial}.pane.svelte-1ecnc8m .item.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m:first-child{margin-top:auto}.pane-head.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{position:absolute;top:0;right:0;left:0;display:flex;cursor:pointer;padding:calc(7px + 0.5em);align-items:center;gap:0.5em;white-space:nowrap;font-size:0.8em;border-bottom:1px solid #767575;margin-top:auto;border-radius:5px 5px 0 0}@supports (-webkit-touch-callout: none) and (not (translate: none)){.pane-head.svelte-1ecnc8m>.svelte-1ecnc8m+.svelte-1ecnc8m.svelte-1ecnc8m{margin-left:0.5em}}.pane-head.svelte-1ecnc8m .main-text.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{font-weight:700}.pane-head.svelte-1ecnc8m .caret.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{width:calc(var(--font-size) * 1.33);display:flex;justify-content:center}.pane-head.svelte-1ecnc8m .caret.svelte-1ecnc8m svg{height:calc(var(--font-size) * 0.75)}.pane-head.svelte-1ecnc8m .close.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{height:0.9em;width:0.9em;margin-left:auto}.item.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{white-space:nowrap;cursor:pointer;padding:calc(7px + 0.3em);margin:2px;display:grid;grid-template-columns:auto 1fr auto auto;align-items:center;grid-gap:0.5em;gap:0.5em;line-height:calc(var(--font-size) * 1.33)}@supports (-webkit-touch-callout: none) and (not (translate: none)){.item.svelte-1ecnc8m>.svelte-1ecnc8m+.svelte-1ecnc8m.svelte-1ecnc8m{margin-left:0.5em}}.item.svelte-1ecnc8m .icon-container.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{width:calc(var(--font-size) * 1.33);height:calc(var(--font-size) * 1.33);display:flex;justify-content:center;align-items:center}.item.svelte-1ecnc8m .icon-container.svelte-1ecnc8m svg{width:100%}.item.svelte-1ecnc8m .icon-container.small.svelte-1ecnc8m svg{width:90%}.item.svelte-1ecnc8m .icon-container.mini.svelte-1ecnc8m svg{width:85%}.item.svelte-1ecnc8m .icon-container.check.svelte-1ecnc8m svg{height:40%}.item.svelte-1ecnc8m .main-text.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{font-size:0.8em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;justify-content:flex-start;gap:6px}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.item.svelte-1ecnc8m .sub-text.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{color:#d0d0d0;font-size:0.7em;display:flex;justify-content:flex-start;gap:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.item.svelte-1ecnc8m .caret.svelte-1ecnc8m svg{height:calc(var(--font-size) * 0.75)}.item.svelte-1ecnc8m .chapter-time.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{display:flex;gap:20px;margin-right:10px;align-items:center;color:#d0d0d0;font-size:0.8em}@supports (-webkit-touch-callout: none) and (not (translate: none)){.item.svelte-1ecnc8m .chapter-time.svelte-1ecnc8m>.svelte-1ecnc8m+.svelte-1ecnc8m{margin-left:20px}}.item.svelte-1ecnc8m .chapter-time .time.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{width:4.6ch}.item.svelte-1ecnc8m .chapter-time.hours .time.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{width:6.3ch}.item.svelte-1ecnc8m .chapter-time .dot-container.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{height:0.5em;width:0.5em;border-radius:50%}.item.svelte-1ecnc8m .chapter-time.active.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{font-weight:bold;color:white}.item.svelte-1ecnc8m .chapter-time.active .dot-container.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{background-color:white}.item.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m:hover{background-color:var(--bg-color-pane-hover)}.quality-label.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{font-size:0.8em;display:inline-block;color:#d0d0d0}.pane.size-S.svelte-1ecnc8m .chapter-time.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{gap:10px;margin-right:0}@supports (-webkit-touch-callout: none) and (not (translate: none)){.pane.size-S.svelte-1ecnc8m .chapter-time.svelte-1ecnc8m>.svelte-1ecnc8m+.svelte-1ecnc8m{margin-left:10px}}.pane.size-XS.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{max-width:100%;left:0;right:0;bottom:0;top:0;background-color:rgb(33, 33, 33);max-height:calc(6 * var(--font-size) * 1.33 + 180px + 6px)}.pane.size-XS.svelte-1ecnc8m .main-text.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pane.size-XS.svelte-1ecnc8m .main-text.main-menu.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{overflow:visible}.pane.size-XS.svelte-1ecnc8m .pane-head.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m,.pane.size-XS.svelte-1ecnc8m .item.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{background-color:unset}.pane.size-XS.svelte-1ecnc8m .item.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m:hover{background-color:var(--bg-color-pane-hover)}.pane.size-XS.svelte-1ecnc8m .pane-head.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m,.pane.size-XS.svelte-1ecnc8m .item.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m:first-child{margin-top:unset}.pane.size-XS.vertical-screen.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{top:unset}.main-menu.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{font-weight:700;padding-right:2em}.main-menu.main-text.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m.svelte-1ecnc8m{color:white !important;overflow:visible}")}function Ci(e,t,i){var n=e.slice();return n[46]=t[i],n[48]=i,n}function Si(e){var t,i,n,a,o,s,l,r,d=!e[3]&&Pi();a=new Qt({props:{$$slots:{default:[xi]},$$scope:{ctx:e}}});var u="XS"===e[12]&&Ai(e);return{c:function(){t=G("div"),d&&d.c(),i=ee(),n=G("h3"),ot(a.$$.fragment),o=ee(),u&&u.c(),oe(n,"class","main-text svelte-1ecnc8m"),oe(t,"class","pane-head button-content svelte-1ecnc8m"),oe(t,"tabindex","0"),oe(t,"aria-label",e[25]("tooltip-close"))},m:function(c,h){J(c,t,h),d&&d.m(t,null),F(t,i),F(t,n),st(a,n,null),F(t,o),u&&u.m(t,null),s=!0,l||(r=ie(t,"click",ae(e[39])),l=!0)},p:function(e,n){e[3]?d&&(Ke(),Xe(d,1,1,(function(){d=null})),Ye()):d?8&n[0]&&Ge(d,1):((d=Pi()).c(),Ge(d,ir96&n[0]&&Ge(u,1)):((u=Ai(e)).c(),Ge(u,1),u.m(t,null)):u&&(Ke(),Xe(u,1,1,(function(){u=null})),Ye())},i:function(e){s||(Ge(d),Ge(a.$$.fragment,e),Ge(u),s=!0)},o:function(e){Xe(d),Xe(a.$$.fragment,e),Xe(u),s=!1},d:function(e){e&&K(t),d&&d.d(),lt(a),u&&u.d(),l=!1,r()}}}function Pi(e){var t,i,n;return i=new mi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","caret svelte-1ecnc8m")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function xi(e){var t;return{c:function(){t=Z(e[1])},m:function(e,i){J(e,t,i)},p:function(e,i){2&i[0]&&re(t,e[1])},d:function(e){e&&K(t)}}}function Ai(e){var t,i,n,a,o;return i=new ci({props:{iconHeight:.6*e[14],name:"close",hideToolTip:!0,$$slots:{normal:[Ii]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","close svelte-1ecnc8m")},m:function(s,l){J(s,t,l),st(i,t,null),n=!0,a||(o=ie(t,"click",ae((function(){$(e[0])&&e[0].apply(this,arguments)}))),a=!0)},p:function(t,n){e=t;var a={};16384&n[0]&&(a.iconHeight=.6*e[14]),262144&n[1]&&(a.$$scope={dirty:n,ctx:e}),i.$set(a)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i),a=!1,o()}}}function Ii(e){var t,i,n;return i=new gi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Ti(e){var t,i,n;return i=new pi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","icon-container check svelte-1ecnc8m"),ue(t,"visibility",e[48]===e[5]?"visible":"hidden")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:function(e,i){32&i[0]&&ue(t,"visibility",e[48]===e[5]?"visible":"hidden")},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Di(e){var t,i,n,a,o,s=Mt(e[46].start)+"";return{c:function(){t=G("div"),i=G("div"),n=ee(),a=G("div"),o=Z(s),oe(i,"class","dot-container svelte-1ecnc8m"),oe(a,"class","time svelte-1ecnc8m"),oe(t,"class","chapter-time svelte-1ecnc8m"),he(t,"active",e[48]===e[5]),he(t,"hours",e[15]>=3600)},m:function(e,s){J(e,t,s),F(t,i),F(t,n),F(t,a),F(a,o)},p:function(e,i){16&i[0]&&s!==(s=Mt(e[46].start)+"")&&re(o,s),32&i[0]&&he(t,"active",e[48]===e[5]),32768&i[0]&&he(t,"hours",e[15]>=3600)},i:v,o:v,d:function(e){e&&K(t)}}}function Mi(e){var t,i,n,a,o=e[46].icon;return o&&(i=_e(o,{})),{c:function(){t=G("div"),i&&ot(i.$$.fragment),oe(t,"class",n="icon-container "+(e[46].iconClass||"")+" svelte-1ecnc8m")},m:function(e,n){J(e,t,n),i&&st(i,t,null),a=!0},p:function(e,s){if(16&s[0]&&o!==(o=e[46].icon)){if(i){Ke();var l=i;Xe(l.$$.fragment,1,0,(function(){lt(l,1)})),Ye()}o?(ot((i=_e(o,{})).$$.fragment),Ge(i.$$.fragment,1),st(i,t,null)):i=null}(!a||16&s[0]&&n!==(n="icon-container "+(e[46].iconClass||"")+" svelte-1ecnc8m"))&&oe(t,"class",n)},i:nction(e){i&&Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),6]+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){16&n[0]&&i!==(i=e[46]+"")&&re(t,i)},i:v,o:v,d:function(e){e&&K(t)}}}function Bi(e){var t,i,n,a,o=function(e,t){return e[46].href?0:1},s=[Vi,zi],l=[];return t=o(e),i=l[t]=s[t](e),{c:function(){i.c(),n=te()},m:function(e,i){l[t].m(e,i),J(e,n,i),a=!0},p:function(e,a){var r=t;(t=o(e))===r?l[t].p(e,a):(Ke(),Xe(l[r],1,1,(function(){l[r]=null})),Ye(),(i=l[t])?i.p(e,a):(i=l[t]=s[t](e)).c(),Ge(i,1),i.m(n.parentNode,n))},i:function(e){a||(Ge(i),a=!0)},o:function(e){Xe(i),a=!1},d:function(e){e&&K(n),l[t].d(e)}}}function Li(e){var t,i;return t=new Qt({props:{$$slots:{default:[Ni]},$$scope:{ctx:e}}}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};16&i[0]|262144&i[1]&&(n.$$scope={dirty:i,ctx:e}),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Ri(e){var t,i=e[46].label+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){16&n[0]&&i!==(i=e[46].label+"")&&re(t,i)},i:v,o:v,d:function(e){e&&K(t)}}}function qi(e){var t,i=e[46].languagename+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){16&n[0]&&i!==(i=e[46].languagename+"")&&re(t,i)},i:v,o:v,d:function(e){e&&K(t)}}}function Hi(e){var t,i=(1===e[46]?e[25]("Normal"):e[46])+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){16&n[0]&&i!==(i=(1===e[46]?e[25]("Normal"):e[46])+"")&&re(t,i)},i:v,o:v,d:function(e){e&&K(t)}}}function Oi(e){var t,i=e[46].title+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){16&n[0]&&i!==(i=e[46].title+"")&&re(t,i)},i:v,o:v,d:function(e){e&&K(t)}}}function ji(e){var t,i,n,a,o=e[46].title+"",s=en(e[46].width,e[46].height)+"";return{c:function(){t=Z(o),i=ee(),n=G("span"),a=Z(s),oe(n,"class","quality-label svelte-1ecnc8m")},m:function(e,o){J(e,t,o),J(e,i,o),J(e,n,o),F(n,a)},p:function(e,i){16&i[0]&&o!==(o=e[46].title+"")&&re(t,o),16&i[0]&&s!==(s=en(e[46].width,e[46].height)+"")&&re(a,s)},i:v,o:v,d:function(e){e&&(K(t),K(i),K(n))}}}function zi(e){var t,i;return t=new Qt({props:{$$slots:{default:[Fi]},$$scope:{ctx:e}}}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};16&i[0]|262144&i[1]&&(n.$$scope={dirty:i,ctx:e}),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Vi(e){var t,i,n,a;return i=new Qt({props:{$$slots:{default:[Ui]},$$scope:{ctx:e}}}),{c:function(){t=G("a"),ot(i.$$.fragment),oe(t,"href",n=e[46].href),oe(t,"target","_blank"),oe(t,"rel","noreferrer"),oe(t,"tabindex","-1")},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:function(e,o){var s={};16&o[0]|262144&o[1]&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||16&o[0]&&n!==(n=e[46].href))&&oe(t,"href",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i)}}}function Fi(e){var t,i=e[46].label+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){16&n[0]&&i!==(i=e[46].label+"")&&re(t,i)},d:function(e){e&&K(t)}}}function Ui(e){var t,i=e[46].label+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){16&n[0]&&i!==(i=e[46].label+"")&&re(t,i)},d:function(e){e&&K(t)}}}function Ni(e){var t,i=e[46].title+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){16&n[0]&&i!==(i=e[46].title+"")&&re(t,i)},d:function(e){e&&K(t)}}}function Wi(e){var t,i,n,a,o,s=function(e,t){return"Quality"===e[46].title?Gi:"Chapters"===e[46].title?Yi:"Playback speed"===e[46].title?Ki:"Subtitles"===e[46].title?Ji:"Audiotrack"===e[46].title?Qi:void 0},l=s(e),r=l&&l(e);return a=new ki({}),{c:function(){t=G("div"),r&&r.c(),i=ee(),n=G("div"),ot(a.$$.fragment),oe(t,"class","sub-text svelte-1ecnc8m"),oe(n,"class","caret svelte-1ecnc8m")},m:function(e,s){J(e,t,s),r&&r.m(t,null),J(e,i,s),J(e,n,s),st(a,n,null),o=!0},p:function(e,i){l===(l=s(e))&&r?r.p(e,i):(r&&r.d(1),(r=l&&l(e))&&(r.c(),r.m(t,null)))},i:function(e){o||(Ge(a.$$.fragment,e),o=!0)},o:function(e){Xe(a.$$.fragment,e),o=!1},d:function(e){e&&(K(t),K(i),K(n)),r&&r.d(),lt(a)}}}function Qi(e){var t,i,n=(null==(t=e[10])?void 0:t.label)+"";return{c:function(){i=Z(n)},m:function(e,t){J(e,i,t)},p:function(e,t){var a;1024&t[0]&&n!==(n=(null==(a=e[10])?void 0:a.label)+"")&&re(i,n)},d:function(e){e&&K(i)}}}function Ji(e){var t,i,n=((null==(t=e[11])?void 0:t.languagename)||e[25]("Off"))+"";return{c:function(){i=Z(n)},m:function(e,t){J(e,i,t)},p:function(e,t){var a;2048&t[0]&&n!==(n=((null==(a=e[11])?void 0:a.languagename)||e[25]("Off"))+"")&&re(i,n)},d:function(e){e&&K(i)}}}function Ki(e){var t,i=(1===e[18]?e[25]("Normal"):e[18])+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){262144&n[0]&&i!==(i=(1===e[18]?e[25]("Normal"):e[18])+"")&&re(t,i)},d:function(e){e&&K(t)}}}function Yi(e){var t,i,n=(null==(t=e[17])?void 0:t.title)+"";return{c:function(){i=Z(n)},m:function(e,t){J(e,i,t)},p:function(e,t){var a;131072&t[0]&&n!==(n=(null==(a=e[17])?void 0:a.title)+"")&&re(i,n)},d:function(e){e&&K(i)}}}function Git=e[16])?void 0:t.width,null==(i=e[16])?void 0:i.height)+"";return{c:function(){n=Z(l),a=ee(),o=G("span"),s=Z(r),oe(o,"class","quality-label svelte-1ecnc8m")},m:function((o,s)},p:function(e,t){var i,a;65536&t[0]&&l!==(l=e[16].title+"")&&re(n,l),65536&t[0]&&r!==(r=en(null==(i=e[16])?void 0:i.width,null==(a=e[16])?void 0:a.height)+"")&&re(s,r)},d:function(e){e&&(K(n),K(a),K(o))}}}function Xi(e){var t,i,n,a,o,s,l,r,d,u,c,h,p=function(e,t){return e[46].icon?0:"Chapters"===e[1]?1:2},_=function(e,t){return"Quality"===e[1]?0:"Chapters"===e[1]?1:"Playback speed"===e[1]?2:"Subtitles"===e[1]?3:"Audiotrack"===e[1]?4:"Main menu"===e[1]?5:"custom"===e[1]?6:7},m=function(){return e[40](e[46])},f=function(){return e[41](e[48])},v=[Mi,Di,Ti],g=[];i=p(e),n=g[i]=v[i](e);var y=[ji,Oi,Hi,qi,Ri,Li,Bi,Ei],b=[];s=_(e),l=b[s]=y[s](e);var w="Main menu"===e[1]&&Wi(e);return{c:function(){t=G("li"),n.c(),a=ee(),o=G("div"),l.c(),r=ee(),w&&w.c(),d=ee(),oe(o,"class","main-text svelte-1ecnc8m"),he(o,"main-menu","Main menu"===e[1]),ue(o,"font-weight","Chapters"===e[1]&&e[48]===e[5]?"bold":"initial"),ue(o,"color","Chapters"===e[1]&&e[48]===e[5]?"#fff":"#d0d0d0"),oe(t,"class","item button-content svelte-1ecnc8m"),oe(t,"tabindex","0")},m:function(n,l){J(n,t,l),g[i].m(t,null),F(t,a),F(t,o),b[s].m(o,null),F(t,r),w&&w.m(t,null),F(t,d),u=!0,c||(h=[ie(t,"click",ae(m)),ie(t,"mouseenter",f),ie(t,"mouseleave",e[42])],c=!0)},p:function(r,c){var h=i;(i=p(e=r))===h?g[i].p(e,c):(Ke(),Xe(g[h],1,1,(function(){g[h]=null})),Ye(),(n=g[i])?n.p(e,c):(n=g[i]=v[i](e)).c(),Ge(n,1),n.m(t,a));var m=s;(s=_(e))===m?b[s].p(e,c):(Ke(),Xe(b[m],1,1,(function(){b[m]=null})),Ye(),(l=b[s])?l.p(e,c):(l=b[s]=y[s](e)).c(),Ge(l,1),l.m(o,null)),(!u||2&c[0])&&he(o,"main-menu","Main menu"===e[1]),34&c[0]&&ue(o,"font-weight","Chapters"===e[1]&&e[48]===e[5]?"bold":"initial"),34&c[0]&&ue(o,"color","Chapters"===e[1]&&e[48]===e[5]?"#fff":"#d0d0d0"),"Main menu"===e[1]?w?(w.p(e,c),2&c[0]&&Ge(w,1)):((w=Wi(e)).c(),Ge(w,1),w.m(t,d)):w&&(Ke(),Xe(w,1,1,(function(){w=null})),Ye())},i:function(e){u||(Ge(n),Ge(l),Ge(w),u=!0)},o:function(e){Xe(n),Xe(l),Xe(w),u=!1},d:function(e){e&&K(t),g[i].d(),b[s].d(),w&&w.d(),c=!1,k(h)}}}function Zi(e){for(var t,i,n,a,o,s,l=!e[2]&&Si(e),r=nt(e[4]),d=[],u=0;u<r.length;u+=1)d[u]=Xi(Ci(e,r,u));var c=function(e){return Xe(d[e],1,1,(function(){d[e]=null}))};return{c:function(){t=G("div"),l&&l.c(),i=ee(),n=G("ul");for(var o=0;o<d.length;o+=1)d[o].c();oe(n,"class","pane-items svelte-1ecnc8m"),he(n,"has-head",!e[2]),oe(t,"class",a="pane active size-"+e[12]+" svelte-1ecnc8m"),he(t,"vertical-screen",e[13]),he(t,"custom-pos",e[6]),he(t,"align-left",e[7]),ue(t,"min-width",e[32](e[1]))},m:function(a,o){J(a,t,o),l&&l.m(t,null),F(t,i),F(t,n);for(var r=0;r<d.length;r+=1)d[r]&&d[r].m(n,null);e[43](n),e[44](t),s=!0},p:function(o,u){if((e=o)[2]?l&&(Ke(),Xe(l,1,1,(function(){l=null})),Ye()):l?(l.p(e,u),4&u[0]&&Ge(l,1)):((l=Si(e)).c(),Ge(l,1),l.m(t,i)),34049074&u[0]|13&u[1]){var h;for(r=nt(e[4]),h=0;h<r.length;h+=1){var p=Ci(e,r,h);d[h]?(d[h].p(p,u),Ge(d[h],1)):(d[h]=Xi(p),d[h].c(),Ge(d[h],1),d[h].m(n,null))}for(Ke(),h=r.length;h<d.length;h+=1)c(h);Ye()}(!s||4&u[0])&&he(n,"has-head",!e[2]),(!s||4096&u[0]&&a!==(a="pane active size-"+e[12]+" svelte-1ecnc8m"))&&oe(t,"class",a),(!s||12288&u[0])&&he(t,"vertical-screen",e[13]),(!s||4160&u[0])&&he(t,"custom-pos",e[6]),(!s||4224&u[0])&&he(t,"align-left",e[7]),2&u[0]&&ue(t,"min-width",e[32](e[1]))},i:function(i){if(!s){Ge(l);for(var n=0;n<r.length;n+=1)Ge(d[n]);He((function(){s&&(o||(o=it(t,zt,"custom"===e[1]?{}:{duration:250},!0)),o.run(1))})),s=!0}},o:function(i){Xe(l),d=d.filter(Boolean);for(var n=0;n<d.length;n+=1)Xe(d[n]);o||(o=it(t,zt,"custom"===e[1]?{}:{duration:250},!1)),o.run(0),s=!1},d:function(i){i&&K(t),l&&l.d(),Y(d,i),e[43](null),e[44](null),i&&o&&o.end()}}}function en(e,t){var i=Math.min(parseInt(e,10),parseInt(t,10));return!i||Number.isNaN(i)||i<1080?"":i>=1080&&i<2160?"HD":i>=2160&&i<4320?"4K":i>=4320?"8K":""}function tn(e,t,i){var n,a,o,s,l,r,d,u,c,h,p,_,m,f=function(e){"Chapters"===q&&C.set(e)},v=function(){"Chapters"===q&&C.set(-1)},g=Ae(Ht),y=g.activeAudiotrackId,b=g.activeSubtitleId,w=g.audiotracks,k=g.currentAsset,$=g.currentChapter,C=g.hoverChapterIndex,S=g.playRate,P=g.translate,x=g.subtitlesList,I=g.barIconSize,T=g.isVerticalPlayer,D=g.skinSize,M=g.duration;A(e,y,(function(e){return i(35,o=e)})),A(e,b,(function(e){return i(37,l=e)})),A(e,w,(function(e){return i(36,s=e)})),A(e,k,(function(e){return i(16,p=e)})),A(e,$,(function(e){return i(17,_=e)})),A(e,S,(function(e){return i(18,m=e)})),A(e,x,(function(e){return i(38,r=e)})),A(e,I,(function(e){return i(14,c=e)})),A(e,T,(function(e){return i(13,u=e)})),A(e,D,(function(e){return i(12,d=e)})),A(e,M,(function(e){return i(15,h=e)}));var E,B,L=t.onItemSelected,R=void 0===L?function(){}:L,q=t.menuName,H=t.hideHeader,O=void 0!==H&&H,j=t.hideHeaderArrow,z=void 0!==j&&j,V=t.options,F=t.optionActiveIndex,U=t.customPos,N=void 0!==U&&U,W=t.alignLeft,Q=void 0!==W&&W,J=Pe();Ce((function(){qe().then((function(){var e,t,i=nulder),"hideHeaderArrow"in e&&i(3,z=e.hideHeaderArrow),"options"in e&&i(4,V=e.options),"optionActiveIndex"in e&&i(5,F=e.optionActiveIndex),"customPos"in e&&i(6,N=e.customPos),"alignLeft"in e&&i(7,Q=e.alignLeft)},e.$$.update=function(){192&e.$$.dirty[1]&&i(11,n=r.find((function(e){return e.id===l}))),48&e.$$.return e.id===o})))},[R,q,O,z,V,F,N,Q,E,B,a,n,d,u,c,h,p,_,m,y,b,w,k,$,S,P,x,I,T,D,M,J,function(e){return P(e).length+6+"ch"},f,v,o,s,l,r,function(){return J("headerClick")},function(e){return J("itemClick",e)},function(e){return f(e)},function(){return v()},function(e){De[e?"unshift":"push"]((function(){i(9,B=e)}))},function(e){De[e?"unshift":"push"]((function(){i(8,E=e)}))}]}var nn=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,tn,Zi,C,{onItemSelected:0,menuName:1,hideHeader:2,hideHeaderArrow:3,options:4,optionActiveIndex:5,customPos:6,alignLeft:7},$i,[-1,-1]),c.default(n)}return i}(ut);function an(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M0 14.167c0-.471.378-.85.844-.85h2.097c.359-1.151 1.425-1.983 2.684-1.983s2.324.832 2.682 1.983h8.849c.468 0 .844.379.844.85s-.376.85-.844.85H8.307C7.949 16.168 6.884 17 5.625 17s-2.325-.832-2.684-1.983H.844c-.466 0-.844-.379-.844-.85zm6.75 0a1.13 1.13 0 0 0-1.125-1.133 1.13 1.13 0 1 0 0 2.267 1.13 1.13 0 0 0 1.125-1.133zm5.625-8.5c1.259 0 2.324.832 2.682 1.983h2.099c.468 0 .844.379.844.85s-.376.85-.844.85h-2.099c-.359 1.151-1.424 1.983-2.682 1.983s-2.324-.832-2.682-1.983H.844C.378 9.35 0 8.971 0 8.5s.378-.85.844-.85h8.849c.359-1.151 1.424-1.983 2.682-1.983zM13.5 8.5c0-.627-.503-1.133-1.125-1.133S11.25 7.873 11.25 8.5s.503 1.133 1.125 1.133S13.5 9.127 13.5 8.5zm3.656-6.517c.468 0 .844.381.844.85s-.376.85-.844.85H9.432C9.074 4.834 8.009 5.667 6.75 5.667s-2.324-.832-2.682-1.983H.844c-.466 0-.844-.379-.844-.85s.378-.85.844-.85h3.224C4.426.834 5.491 0 6.75 0s2.324.834 2.682 1.983h7.724zm-11.531.85c0 .627.503 1.133 1.125 1.133s1.125-.506 1.125-1.133A1.13 1.13 0 0 0 6.75 1.7a1.13 1.13 0 0 0-1.125 1.133z"),oe(i,"fill","#fafafa"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","-2 0 22 17"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var on=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,an,C,{}),c.default(n)}return i}(ut);function sn(e){var t,i,n;return{c:function(){t=X("svg"),i=X("path"),n=X("path"),oe(i,"d","M10.27 2.38c1.11-.71 2.43-1.12 3.85-1.12 3.99 0 7.24 3.24 7.24 7.24s-3.25 7.24-7.24 7.24c-1.42 0-2.74-.41-3.85-1.12M5 5.5h5M1 8.68h8.77m-5.79 3.18h4.36"),oe(i,"stroke-width","1.5"),oe(i,"stroke-miterlimit","10"),oe(i,"stroke-linecap","round"),oe(n,"d","M14 10.5v-4l3 1.904-3 2.096z"),oe(n,"fill","#fff"),oe(n,"stroke-linejoin","round"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 23 17"),oe(t,"fill","none"),oe(t,"stroke","#fff")},m:function(e,a){J(e,t,a),F(t,i),F(t,n)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var ln=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,sn,C,{}),c.default(n)}return i}(ut);function rn(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M23.111 0H2.889A2.89 2.89 0 0 0 0 2.889v14.444a2.89 2.89 0 0 0 2.889 2.889h20.222A2.89 2.89 0 0 0 26 17.333V2.889A2.89 2.89 0 0 0 23.111 0zm.722 17.333c0 .398-.324.722-.722.722H2.889c-.398 0-.722-.324-.722-.722V2.889c0-.398.324-.722.722-.722h20.222c.398 0 .722.324.722.722v14.444zM10.675 8.581c.423.423 1.109.423 1.532 0s.423-1.109 0-1.532c-1.69-1.69-4.438-1.69-6.125 0a4.28 4.28 0 0 0-1.275 3.062c0 1.156.411 2.246 1.269 3.064.845.845 1.954 1.268 3.064 1.268s2.219-.422 3.064-1.267c.423-.423.423-1.109 0-1.532s-1.109-.423-1.532 0a2.17 2.17 0 0 1-3.064 0c-.409-.408-.634-.954-.634-1.532s.226-1.123.635-1.532c.846-.847 2.223-.847 3.067.002zm8.667 0c.423.423 1.109.423 1.532 0s.423-1.109 0-1.532c-1.69-1.69-4.438-1.69-6.125 0a4.28 4.28 0 0 0-1.275 3.062c0 1.156.411 2.246 1.269 3.064.845.845 1.954 1.268 3.063 1.268s2.219-.422 3.064-1.267c.423-.423.423-1.109 0-1.532s-1.109-.423-1.532 0a2.17 2.17 0 0 1-3.064 0c-.408-.408-.634-.954-.634-1.532s.226-1.123.635-1.532c.846-.847 2.223-.847 3.067.002z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 26 21"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var dn=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,rn,C,{}),c.default(n)}return i}(ut);function un(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M8.432 0H17.3c.774 0 1.4.64 1.4 1.429v2.857c0 .79-.626 1.429-1.4 1.429H8.432c-.372 0-.731-.152-.993-.42L5.544 3.362a.73.73 0 0 1 0-1.009L7.439.418A1.39 1.39 0 0 1 8.432 0zM17.3 4.286V1.429H8.432l-1.4 1.429 1.4 1.429H17.3zM1.9 1.429c.773 0 1.4.64 1.4 1.429s-.627 1.429-1.4 1.429S.5 3.647.5 2.857s.627-1.429 1.4-1.429zm0 7.143c.773 0 1.4.638 1.4 1.429s-.627 1.429-1.4 1.429S.5 10.79.5 10s.627-1.429 1.4-1.429zm0 10c-.773 0-1.4-.638-1.4-1.428s.627-1.429 1.4-1.429 1.4.638 1.4 1.429-.627 1.428-1.4 1.428zm6.532-4.286H17.3c.774 0 1.4.638 1.4 1.429v2.857c0 .79-.626 1.429-1.4 1.429H8.432c-.372 0-.731-.152-.993-.42l-1.894-1.933a.73.73 0 0 1 0-1.009l1.894-1.933c.263-.268.621-.42.993-.42zm8.868 4.286v-2.857H8.432l-1.4 1.429 1.4 1.428H17.3zM5.544 9.496l1.894-1.933c.263-.268.621-.42.993-.42H20.1c.774 0 1.4.638 1.4 1.429v2.857c0 .79-.626 1.429-1.4 1.429H8.432c-.372 0-.731-.152-.993-.42l-1.894-1.933a.73.73 0 0 1 0-1.009zM7.032 10l1.4 1.429H20.1V8.571H8.432L7.032 10z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 22 21"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var cn=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,un,C,{}),c.default(n)}return i}(ut);function hn(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M10 0C4.41 0 .178 4.785 0 10.286v4.496c0 .034.014.065.018.097C.116 16.618 1.504 18 3.217 18 4.203 18 5 17.18 5 16.168V10.84C5 9.824 4.199 9 3.213 9a3.13 3.13 0 0 0-1.271.269C2.431 5.139 5.855 1.934 10 1.934s7.57 3.206 8.059 7.337c-.391-.174-.82-.27-1.269-.27C15.801 9 15 9.824 15 10.84v5.328C15 17.18 15.797 18 16.781 18c1.714 0 3.101-1.382 3.198-3.12.005-.032.018-.064.018-.097L20 10.282C19.82 4.781 15.59 0 10 0zM3.125 10.933v5.135c-.697-.049-1.25-.648-1.25-1.377v-2.386c0-.729.553-1.327 1.25-1.371zm13.75 5.135v-5.135c.697.047 1.25.645 1.25 1.373v2.386c0 .728-.555 1.327-1.25 1.375z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 20 18"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var pn=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,hn,C,{}),c.default(n)}return i}(ut);function _n(e){U(e,"svelte-zlhufy",".config-pane.svelte-zlhufy{position:relativ=new nn({props:{menuName:"Main menu",options:e[8]()||[],optionActiveIndex:-1,hideHeader:"XS"!==e[1],onItemSelected:e[0],hideHeaderArrow:!0}})).$on("headerClick",(function(){$(e[0])&&e[0].apply(this,arguments)})),t.$on("itemClick",e[36]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(i,n){e=i;var a={};256&n[0]&&(a.options=e[8]()||[]),2&n[0]&&(a.hideHeader="XS"!==e[1]),1&n[0]&&(a.onItemSelected=e[0]),t.$set(a)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function fn(e){var t,i;return(t=new nn({props:{menuName:"Playback speed",options:vt,optionActiveIndex:vt.findIndex(e[37]),onItemSelected:e[0]}})).$on("headerClick",e[38]),t.$on("itemClick",e[39]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};512&i[0]&&(n.optionActiveIndex=vt.findIndex(e[37])),1&i[0]&&(n.onItemSelected=e[0]),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function vn(e){var t,i;return(t=new nn({props:{menuName:"Subtitles",options:e[5],optionActiveIndex:e[5].findIndex(e[40]),onItemSelected:e[0]}})).$on("headerClick",e[41]),t.$on("itemClick",e[42]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};32&i[0]&&(n.options=e[5]),1056&i[0]&&(n.optionActiveIndex=e[5].findIndex(e[40])),1&i[0]&&(n.onItemSelected=e[0]),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function gn(e){var t,i;return(t=new nn({props:{menuName:"Audiotrack",options:e[4],optionActiveIndex:e[4].findIndex(e[43]),onItemSelected:e[0]}})).$on("headerClick",e[44]),t.$on("itemClick",e[45]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};16&i[0]&&(n.options=e[4]),2064&i[0]&&(n.optionActiveIndex=e[4].findIndex(e[43])),1&i[0]&&(n.onItemSelected=e[0]),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function yn(e){var t,i;return(t=new nn({props:{menuName:"Quality",options:e[3],optionActiveIndex:e[3].findIndex(e[46]),onItemSelected:e[0]}})).$on("headerClick",e[47]),t.$on("itemClick",e[48]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};8&i[0]&&(n.options=e[3]),4104&i[0]&&(n.optionActiveIndex=e[3].findIndex(e[46])),1&i[0]&&(n.onItemSelected=e[0]),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function bn(e){var t,i;return(t=new nn({props:{menuName:"Chapters",options:e[2],optionActiveIndex:e[2].findIndex(e[49]),onItemSelected:e[0]}})).$on("headerClick",e[50]),t.$on("itemClick",e[51]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};4&i[0]&&(n.options=e[2]),8196&i[0]&&(n.optionActiveIndex=e[2].findIndex(e[49])),1&i[0]&&(n.onItemSelected=e[0]),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function wn(e){var t,i,n,a,o,s,l,r,d="Main menu"===e[6]&&mn(e),u="Playback speed"===e[6]&&fn(e),c="Subtitles"===e[6]&&vn(e),h="Audiotrack"===e[6]&&gn(e),p="Quality"===e[6]&&yn(e),_="Chapters"===e[6]&&bn(e);return{c:function(){t=G("div"),d&&d.c(),i=ee(),u&&u.c(),n=ee(),c&&c.c(),a=ee(),h&&h.c(),o=ee(),p&&p.c(),s=ee(),_&&_.c(),oe(t,"class",l="config-pane size-"+e[1]+" svelte-zlhufy")},m:function(l,m){J(l,t,m),d&&d.m(t,null),F(t,i),u&&u.m(t,null),F(t,n),c&&c.m(t,null),F(t,a),h&&h.m(t,null),F(t,o),p&&p.m(t,null),F(t,s),_&&_.m(t,null),e[52](t),r=!0},p:function(e,m){"Main menu"===e[6]?d?(d.p(e,m),64&m[0]&&Ge(d,1)):((d=mn(e)).c(),Ge(d,1),d.m(t,i)):d&&(Ke(),Xe(d,1,1,(function(){d=null})),Ye()),"Playback speed"===e[6]?u?(u.p(e,m),64&m[0]&&Ge(u,1)):((u=fn(e)).c(),Ge(u,1),u.m(t,n)):u&&(Ke(),Xe(u,1,1,(function(){u=null})),Ye()),"Subtitles"===e[6]?c?(c.p(e,m),64&m[0]&&Ge(c,1)):((c=vn(e)).c(),Ge(c,1),c.m(t,a)):c&&(Ke(),Xe(c,1,1,(function(){c=null})),Ye()),"Audiotrack"===e[6]?h?(h.p(e,m),64&m[0]&&Ge(h,1)):((h=gn(e)).c(),Ge(h,1),h.m(t,o)):h&&(Ke(),Xe(h,1,1,(function(){h=null})),Ye()),"Quality"===e[6]?p?(p.p(e,m),64&m[0]&&Ge(p,1)):((p=yn(e)).c(),Ge(p,1),p.m(t,s)):p&&(Ke(),Xe(p,1,1,(function(){p=null})),Ye()),"Chapters"===e[6]?_?(_.p(e,m),64&m[0]&&Ge(_,1)):((_=bn(e)).c(),Ge(_,1),_.m(t,null)):_&&(Ke(),Xe(_,1,1,(function(){_=null})),Ye()),(!r||2&m[0]&&l!==(l="config-pane size-"+e[1]+" svelte-zlhufy"))&&oe(t,"class",l)},i:function(e){r||(Ge(d),Ge(u),Ge(c),Ge(h),Ge(p),Ge(_),r=!0)},o:function(e){Xe(d),Xe(u),Xe(c),Xe(h),Xe(p),Xe(_),r=!1},d:function(i){i&&K(t),d&&d.d(),u&&u.d(),c&&c.d(),h&&h.d(),p&&p.d(),_&&_.d(),e[52](null)}}}function kn(e,t,i){var n,a,o,s,l,r,d,u,c,h,p,_,m,f,v=function(e,t){x.setPlaybackRate(e),null==U||U(t)},g=function(e,t){x.setAsset(e),null==U||U(t),P()},y=function(e,t){x.setSubtitle(e),null==U||U(t)},b=function(e,t){x.selectAudioTrack(e),null==U||U(t)},w=function(e,t){O.set(-1),S(e,!0),null==U||U(t)},k=function(e){i(6,N=e),qe().then((function(){setTimeout((function(){C(F,".button-content","Main menu"===N?0:1)}),300)}))},$=Ae(Ht),C=$.trapAriaTabFocus,S=$.seekTo,P=$.play,x=$.api,I=$.skinSize,T=$.assets,D=$.currentAsset,M=$.subtitlesList,E=$.activeSubtitleId,B=$.audiotracks,L=$.activeAudiotrackId,R=$.playRate,q=$.chapterList,H=$.currentChapter,O=$.hoverChapterIndex,j=$.livePlayer,z=$.mountedControlbar,V=$.showChapterText;A(e,I,(function(e){return i(1,s=e)})),A(e,T,(function(e){return i(3,r=e)})),A(e,D,(function(e){return i(12,m=e)})),A(e,M,(function(e){return i(5,u=e)})),A(e,E,(function(e){return i(10,p=e)})),A(e,B,(function(e){return i(4,d=e)})),A(e,L,(function(e){return i(11,_=e)})),A(e,R,(function(e){return i(9,h=e)})),A(e,q,(function(e){return ii(13,f=e)})),A(e,j,(function(e){return i(35,c=e)})),A(e,z,(function(e){return i(34,o=e)})),A(e,V,(function(e){return i(33,a=e)}));var F,U=t.onItemSelected,N="Main menu";Ce((function(){C(F,".button-content",0)}));return e.$$set=function(e){"onItemSelected"in e&&i(0,U=e.onItemSelected)},e.$$.update=function(){62&e.$$.dirty[0]|28&e.$$.dirty[1]&&i(8,n=function(){var e=[];return c||e.push({title:"Playback speed",icon:ln}),null!=u&&u.length&&e.push({title:"Subtitles",icon:dn,iconClass:"small"}),null!=d&&d.length&&e.push({title:"Audiotrack",icon:pn,iconClass:"mini"})o&&!a)&&e.push({title:"Chapters",i,p,_,m,f,I,T,D,M,E,B,L,R,q,H,j,z,V,v,g,y,b,w,k,a,o,c,function(e){var t;return k(null==(t=e.detail)?void 0:t.title)},function(e){return e===h},function(){return k("Main menu")},function(e){return v(e.detail,e)},function(e){return e.id===p},function(){return k("Main menu")},function(e){var t;return y(null==(t=e.detail)?void 0:t.id,e)},function(e){return e.id===_},function(){return k("Main menu")},function(e){var t;return b(null==(t=e.detail)?void 0:t.id,e)},function(e){return e.id===m.id},function(){return k("Main menu")},function(e){var t;return g(null==(t=e.detail)?void 0:t.id,e)},function(e){return e.id===f.id},function(){return k("Main menu")},function(e){var t;return w(null==(t=e.detail)?void 0:t.start,e)},function(e){De[e?"unshift":"push"]((function(){i(7,F=e)}))}]}var $n=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,kn,wn,C,{onItemSelected:0},_n,[-1,-1]),c.default(n)}return i}(ut);function Cn(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M15.982 8.171C16.615 8.564 17 9.256 17 10.002s-.385 1.438-1.018 1.79L3.233 19.651c-.656.442-1.477.46-2.148.08S0 18.637 0 17.86V2.143C0 1.368.415.653 1.086.274a2.11 2.11 0 0 1 2.148.041l12.749 7.857z"),oe(i,"fill",e[0]),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox",e[1]),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,n){var a=l.default(n,1)[0];1&a&&oe(i,"fill",e[0]),2&a&&oe(t,"viewBox",e[1])},i:v,o:vo=void 0===a?"#f5f5f5":a,s=t.center,l=void 0!==s&&s;return e.$$set=function(e){"color"in e&&i(0,o=e.color),"center"in e&&i(2,l=e.center)},e.$$.update=function(){4&e.$$.dirty&&i(1,n=l?"-3 0 20 20":"0 0 17 20")},[o,n,l]}var Pn=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Sn,Cn,C,{color:0,center:2}),c.default(n)}return i}(ut);function xn(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M14.45 0h-1.7c-1.408 0-2.55 1.117-2.55 2.447v14.965c0 1.378 1.142 2.494 2.55 2.494l1.7.093c1.408 0 2.55-1.117 2.55-2.494V2.541C17 1.163 15.858 0 14.45 0zM4.25 0h-1.7C1.142 0 0 1.117 0 2.494v14.965C0 18.883 1.142 20 2.55 20h1.7c1.408 0 2.55-1.117 2.55-2.494V2.541C6.8 1.163 5.658 0 4.25 0z"),oe(i,"fill",e[0]),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 17 20"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,t){1&l.default(t,1)[0]&&oe(i,"fill",e[0])},i:v,o:v,d:function(e){e&&K(t)}}}function An(e,t,i){var n=t.color,a=void 0===n?"#fff":n;return e.$$set=function(e){"color"in e&&i(0,a=e.color)},[a]}var In=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,An,xn,C,{color:0}),c.default(n)}return i}(ut);function Tn(e){U(e,"svelte-1qau301","svg.svelte-1qau301{padding-left:4px}")}function Dn(e){var t,i,n,a;return{c:function(){t=X("svg"),i=X("path"),n=X("path"),a=X("path"),oe(i,"d","M13.288.127C13.103.042 12.903 0 12.708 0a1.4 1.4 0 0 0-.938.362L5.815 5.714H2.118C.948 5.714 0 6.674 0 7.817v4.246c0 1.184.948 2.103 2.118 2.103h3.699l5.951 5.353a1.11 1.11 0 0 0 .938.482c.196 0 .395-.042.581-.127.509-.23.831-.739.831-1.302V1.429c0-.562-.322-1.112-.829-1.302zM12 16.982l-5.378-4.839H2.118V7.897h4.504L12 3.02v13.962z"),oe(i,"fill","white"),oe(n,"d","M17.06 6c.236 0 .473.079.671.241a4.29 4.29 0 0 1 1.562 3.308 4.28 4.28 0 0 1-1.563 3.306 1.05 1.05 0 0 1-.67.241c-.306 0-.611-.134-.819-.393a1.08 1.08 0 0 1 .149-1.508c.499-.413.786-1.012.786-1.646s-.287-1.232-.784-1.648a1.08 1.08 0 0 1-.149-1.508c.208-.26.512-.393.818-.393z"),oe(n,"fill","white"),oe(n,"fill-opacity",e[1]),oe(a,"d","M20.06 3a1.05 1.05 0 0 1 .671.242c1.99 1.647 3.128 4.058 3.128 6.607a8.57 8.57 0 0 1-3.127 6.608 1.05 1.05 0 0 1-1.49-.149 1.08 1.08 0 0 1 .148-1.508c1.494-1.242 2.352-3.045 2.352-4.951s-.856-3.71-2.353-4.95a1.08 1.08 0 0 1-.147-1.508c.21-.258.514-.391.82-.391z"),oe(a,"fill","white"),oe(a,"fill-opacity",e[0]),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 26 21"),oe(t,"fill","none"),oe(t,"class","svelte-1qau301")},m:function(e,o){J(e,t,o),F(t,i),F(t,n),F(t,a)},p:function(e,t){var i=l.default(t,1)[0];2&i&&oe(n,"fill-opacity",e[1]),1&i&&oe(a,"fill-opacity",e[0])},i:v,o:v,d:function(e){e&&K(t)}}}function Mn(e,t,i){var n,a,o,s=Ae(Ht).displayVolume;return A(e,s,(function(e){return i(3,o=e)})),e.$$.update=function(){8&e.$$.dirty&&i(1,n=Math.min(1,1.5*o+.25)),8&e.$$.dirty&&i(0,a=Math.min(1,2*o-1))},[a,n,s,o]}var En=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Mn,Dn,C,{},Tn),c.default(n)}return i}(ut);function Bn(e){var t,i,n;return{c:function(){t=X("svg"),i=X("path"),n=X("path"),oe(i,"fill-rule","evenodd"),oe(i,"d","M1.625.219A1 1 0 0 0 .219.375a1 1 0 0 0 .156 1.406l14.219 11.375 2.118 1.686 7.102 5.69a1 1 0 1 0 1.249-1.562l-8.351-6.681V1.585c0-.562-.322-1.112-.829-1.302-.185-.085-.385-.127-.581-.127a1.4 1.4 0 0 0-.938.362L8.541 5.752 1.625.219zm8.623 6.899l4.346 3.477V3.176l-4.346 3.942z"),oe(n,"d","M2.594 7.973c0-.593.255-1.136.663-1.522l1.951 1.602h-.497v4.246h4.504l5.378 4.839v-1.375l2.118 1.739v1.225c0 .563-.322 1.071-.831 1.11 0 0 1-.938-.482l-5.951-5.353H4.712c-1.17 0-2.118-.919-2.118-2.103V7.973z"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 26 21"),oe(t,"fill","#fff")},m:function(e,a){J(e,t,a),F(t,i),F(t,n)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Ln=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Bn,C,{}),c.default(n)}return i}(ut);function Rn(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M9.75 9.183l.994 1.888H8.756l.994-1.888zm9.75 1.888c0 .594-.502 1.071-1.125 1.071s-1.125-.478-1.125-1.071S17.752 10 18.375 10s1.125.478 1.125 1.071zM24 0c1.655 0 3 1.279 3 2.857v14.286C27 18.719 25.655 20 24 20H3c-1.657 0-3-1.281-3-2.857V2.857C0 1.279 1.343 0 3 0h21zM10.758 6.308c-.192-.366-.581-.594-1.008-.594s-.816.228-1.008.594l-3.375 6.429c-.277.527-.052 1.17.506 1.438s1.228.049 1.509-.482l.248-.478h4.237l.248.478c.281.531.956.745 1.509.482s.783-.911.506-1.437l-3.375-6.429zM19.5 8.04c-.352-.121-.731-.183-1.125-.183-1.866 0-3.375 1.437-3.375 3.214s1.509 3.214 3.375 3.214c.52 0 1.012-.112 1.453-.353.206.232.488.353.797.353.623 0 1.125-.478 1.125-1.071V6.786c0-.594-.502-1.071-1.125-1.071S19.5 6.192 19.5 6.786V8.04z"),o)},p:function(e,i){1&l.default(i,1)[0]&&oe(t,"fill",e[0])},i:v,o:v,d:function(e){e&&K(t)}}}function qn(e,t,i){var n=t.color,a=void 0===n?"#ffcc00":n;return e.$$set=function(e){"color"in e&&i(0,a=e.color)},[a]}var Hn=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,qn,Rn,C,{color:0}),c.default(n)}return i}(ut);function On(e){U(e,"svelte-1kmsycy",".frame-preview.svelte-1kmsycy.svelte-1kmsycy.svelte-1kmsycy{pointer-events:none;width:100%;display:flex;flex-direction:column;gap:8px}@supports (-webkit-touch-callout: none) and (not (translate: none)){.frame-preview.svelte-1kmsycy>.svelte-1kmsycy+.svelte-1kmsycy{margin-left:8px}}.frame-preview.svelte-1kmsycy video.svelte-1kmsycy.svelte-1kmsycy{width:100%;box-shadow:0 2px 2px rgba(0, 0, 0, 0.4);border:3px solid var(--foreground-color);border-radius:5px}.frame-preview.svelte-1kmsycy .time.svelte-1kmsycy.svelte-1kmsycy{text-align:center}.frame-preview.svelte-1kmsycy .time .header.svelte-1kmsycy.svelte-1kmsycy{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:6px;font-size:0.8em;text-shadow:1px 1px 1px rgba(0, 0, 0, 0, 0.5)}")}function jn(e){var t,i;return{c:function(){{J(e,t,n),F(t,i)},p:function(e,t){2&t&&re(i,e[1])},d:function(e){e&&K(t)}}}function zn(e){var t,i,n,a,o,s,r,d,u,c,h,p=!1,_=Mt(e[0])+"";function m(){cancelAnimationFrame(a),i.paused||(a=O(m),p=!0),e[8].call(i)}var f=e[1]&&jn(e);return{c:function(){t=G("div"),i=G("video"),o=ee(),s=G("div"),f&&f.c(),r=ee(),d=G("span"),u=Z(_),oe(i,"tabindex","-1"),i.muted=!0,S(i.src,n=e[2])||oe(i,"src",n),oe(i,"class","svelte-1kmsycy"),ue(i,"visibility",e[3]),oe(d,"class","time-text svelte-1kmsycy"),oe(s,"class","time svelte-1kmsycy"),oe(t,"class","frame-preview svelte-1kmsycy")},m:function(n,a){J(n,t,a),F(t,i),F(t,o),F(t,s),f&&f.m(s,null),F(s,r),F(s,d),F(d,u),c||(h=[ie(i,"timeupdate",m),ie(i,"canplay",e[5])],c=!0)},p:function(e,t){var a=l.default(t,1)[0];4&a&&!S(i.saN(e[4])&&(i.currentTime=e[4]),p=!1,8&a&&ue(i,"visibility",e[3]),e[1]?f?f.p(e,a):((f=jn(e)).c(),f.m(s,r)):f&&(f.d(1),f=null),1&a&&_!==(_=Mt(e[0])+"")&&re(u,_)},i:v,o:v,d:function(e){e&&K(t),f&&f.d(),c=!1,k(h)}}}function Vn(e,t,i){var n,a,o,s,l=function(){i(7,v=!1),o=null==d?void 0:d.getPreviewAsset(),i(2,s=null==o?void 0:o.pr 0!==m&&m,v=!1;return Ce((function(){l()})),u.subscribe((function(){l()})),e.$$set=function(e){"previewTime"in e&&i(0,h=e.previewTime),"headerText"in e&&i(1,_=e.headerText),"hideFrame"in e&&i(6,f=e.hideFrame)},e.$$.update=function(){196&e.$$.dirty&&i(3,n=s&&!f&&v?"visible":"hidden"),9&e.$$.dirty&&i(4,a="hidden"===n?0:h)},[h,_,s,n,a,function(){i(7,v=!0)},f,v,function(){a=this.currentTime,i(4,a),i(3,n),i(0,h),i(2,s),i(6,f),i(7,v)}]}var Fn=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Vn,zn,C,{previewTime:0,headerText:1,hideFrame:6},On),c.default(n)}return i}(ut);function Un(e){U(e,"svelte-13gn5ae",".bb-slider.svelte-13gn5ae.svelte-13gn5ae{width:100%;height:100%;position:relative}.bb-slider.read-only.svelte-13gn5ae.svelte-13gn5ae{--hit-height:0}.bb-slider.svelte-13gn5ae .slider-hover-container.svelte-13gn5ae{height:100%;pointer-events:all;outline-color:var(--aria-focus-color)}.bb-slider.svelte-13gn5ae .slider-hover-container .chapter-block.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container .progress-block.svelte-13gn5ae{position:absolute;pointer-events:none;z-index:34;top:0;right:0;bottom:0;left:0}.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .chapter-block:first-child .hover-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .chapter-block:first-child .play-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .chapter-block:first-child .progress-wrapper.svelte-13gn5ae{border-radius:6px 0 0 6px}.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .chapter-block:last-child .hover-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .chapter-block:last-child .play-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .chapter-block:last-child .progress-wrapper.svelte-13gn5ae{border-radius:0 6px 6px 0}.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .progress-block .hover-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .progress-block .play-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .progress-block .progress-wrapper.svelte-13gn5ae{border-radius:6px}.bb-slider.svelte-13gn5ae .slider-hover-container.rounded .load-progress.svelte-13gn5ae{border-radius:6px 0 0 6px}.bb-slider.svelte-13gn5ae .slider-hover-container .chapter-block.svelte-13gn5ae{transition:transform 0.1s cubic-bezier(0.4, 0, 1, 1)}.bb-slider.svelte-13gn5ae .slider-hover-container .chapter-block.active.svelte-13gn5ae{transform:scaleY(2)}.bb-slider.svelte-13gn5ae .slider-hover-container .chapter-block.active .load-progress.svelte-13gn5ae{transform:scaleY(1)}.bb-slider.svelte-13gn5ae .slider-hover-container .progress-wrapper.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container .play-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container .load-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container .hover-progress.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container .highlights-container.svelte-13gn5ae,.bb-slider.svelte-13gn5ae .slider-hover-container input.svelte-13gn5ae{position:absolute;height:100%;width:100%;bottom:0;left:0;pointer-events:none;transform-origin:0 50%}.bb-slider.svelte-13gn5ae .slider-hover-container .highlight-hit-zone.svelte-13gn5ae{--hit-area-size:20px;width:var(--hit-area-size);height:var(--hit-area-size);position:absolute;right:0;bottom:0;top:calc(-1 * (var(--hit-area-size) - var(--height-progress-bar)) / 2);left:calc(var(--highlight-left-perc) - var(--hit-area-size) / 2);pointer-events:all;z-index:41;display:grid;align-content:center;justify-content:center;place-content:center;cursor:pointer}.bb-slider.svelte-13gn5ae .slider-hover-container .highlight-hit-zone.active .highlight.svelte-13gn5ae{transform:scale(1.4);transform-origin:center;border:3px solid rgba(255, 255, 255, 0.25)}.bb-slider.svelte-13gn5ae .slider-hover-container .highlight-hit-zone .highlight.svelte-13gn5ae{width:8px;height:8px;border-radius:50%;background-color:#fff;background-clip:padding-box;transition:transform 0.1s cubic-bezier(0.4, 0, 1, 1)}.bb-slider.svelte-13gn5ae .slider-hover-container .progress-wrapper.svelte-13gn5ae{z-index:39;background:rgba(255, 255, 255, 0.2);transition:transform 0.1s cubic-bezier(0.4, 0, 1, 1);position:relative}.bb-slider.svelte-13gn5ae .slider-hover-container input.svelte-13gn5ae{--extra-width:16px;pointer-events:all;z-index:40;opacity:0;cursor:pointer;height:calc(50% + var(--hit-height));bottom:calc(var(--hit-height) * -0.5);width:calc(100% + var(--extra-width));left:calc(var(--extra-width) / 2 * -1);margin:2px 0;-webkit-tap-highlight-color:transparent}.bb-slider.svelte-13gn5ae .slider-hover-container .hover-progress.svelte-13gn5ae{background-color:var(--foreground-color);opacity:0;z-index:33}.bb-slider.svelte-13gn5ae .slider-hover-container .play-progress.svelte-13gn5ae{background-color:var(--accent-color);z-index:34}.bb-slider.svelte-13gn5ae .slider-hover-container .play-progress-dot-container.svelte-13gn5ae{pointer-events:none;position:absolute;top:0;right:0;bottom:0;left:0;height:100%;display:flex;flex-direction:column;align-content:center;z-index:34}.bb-slider.svelte-13gn5ae .slider-hover-container .play-progress-dot-container .play-progress-dot.svelte-13gn5ae{--wh:calc(2.67 * var(--height-progress-bar));transition:transform 0.1s cubic-bezier(0.4, 0, 1, 1);background-color:var(--foreground-color);margin-left:calc(var(--wh) * -0.5);width:var(--wh);height:var(--wh);border-radius:50%;transform:scale(0, 0);box-shadow:0px 1px 0px rgba(0, 0, 0, 0.25)}.bb-slider.svelte-13gn5ae .slider-hover-container .load-progress.svelte-13gn5ae{transform:scaleY(0.6);background:rgba(255, 255, 255, 0.4);z-index:33;transition:transform 0.15s ease-in-out}.bb-slider.svelte-13gn5ae .slider-hover-container .progress-bar-padding.svelte-13gn5ae{position:absolute;width:100%;height:var(--hit-height);top:initial;bottom:0;z-index:28}.bb-slider.svelte-13gn5ae .frame-preview-container.svelte-13gn5ae{position:absolute;bottom:1em;width:var(--frame-preview-width);opacity:0;transition:opacity 0.15s ease-in-out}.bb-slider.svelte-13gn5ae .frame-preview-container.scrubbar-active.svelte-13gn5ae{opacity:1}.bb-slider.svelte-13gn5ae:hover:not(.bb-slider:hover:active) .hover-progress.svelte-13gn5ae{transition:opacity 0s 0.1s;opacity:0.4}.bb-slider.svelte-13gn5ae:hover .frame-preview-container.svelte-13gn5ae:not(.touch-mode){opacity:1}.bb-slider.svelte-13gn5ae:not(.read-only) .slider-hover-container .progress-wrapper.svelte-13gn5ae{transform:scaleY(0.6);transform-origin:0 50%}.bb-slider.svelte-13gn5ae:not(.read-only) .slider-hover-container:hover .progress-wrapper.svelte-13gn5ae,.bb-slider.svelte-13gn5ae:not(.read-only) .slider-hover-container:hover .load-progress.svelte-13gn5ae{transform:scaleY(1)}.bb-slider.svelte-13gn5ae:not(.read-only) .slider-hover-container:hover .play-progress-dot.svelte-13gn5ae{transform:scale(1, 2.667)}.bb-slider.svelte-13gn5ae:not(.read-only) .slider-hover-container:hover .highlight.svelte-13gn5ae{width:10px;height:10px}.bb-slider:not(.read-only).hide-dot.svelte-13gn5ae:hover .progress-wrapper.svelte-13gn5ae,.bb-slider:not(.read-only).hide-dot.svelte-13gn5ae:hover .load-progress.svelte-13gn5ae{transform:scaleY(1.5)}")}function Nn(e,t,i){var n=e.slice();return n[96]=t[i],n[98]=i,n}function Wn(e,t,i){var n=e.slice();return n[99]=t[i],n[98]=i,n}function Qn(e){var t,i,n,a,o,s,l,r,d,u,c="scaleX(".concat(e[20],")"),h=!e[8]&&!e[27]&&Kn(e);return{c:function(){t=G("div"),i=G("div"),n=ee(),a=G("div"),o=G("div"),s=ee(),l=G("div"),r=ee(),h&&h.c(),d=ee(),u=G("div"),oe(i,"class","progress-bar-padding svelte-13gn5ae"),oe(o,"class","play-progress svelte-13gn5ae"),ue(o,"transform",c),oe(a,"class","progress-wrapper svelte-13gn5ae"),oe(l,"class","load-progress svelte-13gn5ae"),ue(l,"background",e[53](e[26],null)),oe(u,"class","ad-progress-list"),oe(t,"class","progress-block svelte-13gn5ae")},m:function(e,c){J(e,t,c),F(t,i),F(t,n),F(t,a),F(a,o),F(t,s),F(t,l),F(t,r),h&&h.m(t,null),F(t,d),F(t,u)},p:function(e,i){1048576&i[0]&&c!==(c="scaleX(".concat(e[20],")"))&&ue(o,"transform",c),67108864&i[0]&&ue(l,"background",e[53](e[26],null)),e[8]||e[27]?h&&(h.d(1),h=null):h?h.p(e,i):((h=Kn(e)).c(),h.m(t,d))},d:function(e){e&&K(t),h&&h.d()}}}function Jn(e){for(var t,i=nt(e[24]),n=[],a=0;a<i.length;a+=1)n[a]=Gn(Wn(e,i,a));return{c:function(){t=G("div");for(var e=0;e<n.length;e+=1)n[e].c();oe(t,"class","chapter-container")},m:function(e,i){J(e,t,i);for(var a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null)},p:function(e,a){if(93849856&a[0]|4194304&a[1]){var o;for(i=nt(e[24]),o=0;o<i.length;o+=1){var s=Wn(e,i,o);n[o]?n[o].p(s,a):(n[o]=Gn(s),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},d:function(e){e&&K(t),Y(n,e)}}}function Kn(e){var t,i="scaleX(".concat(e[11],")");return{c:function(){oe(t=G("div"),"class","hover-progress svelte-13gn5ae"),ue(t,"transform",i)},m:function(e,i){J(e,t,i)},p:function(e,n){2048&n[0]&&i!==(i="scaleX(".concat(e[11],")"))&&ue(t,"transform",i)},d:function(e){e&&K(t)}}}function Yn(e){var t,i="scaleX(".concat(oa(e[11],e[99].startPerc,e[99].durationPerc),")");return{c:function(){oe(t=G("div"),"class","hover-progress svelte-13gn5ae"),ue(t,"transform",i)},m:function(e,i){J(e,t,i)},p:function(e,n){16779264&n[0]&&i!==(i="scaleX(".concat(oa(e[11],e[99].startPerc,e[99].durationPerc),")"))&&ue(t,"transform",i)},d:function(e){e&&K(t)}}}function Gn(e){var t,i,n,a,o,s,l,r,d,u,c,h="scaleX(".concat(oa(e[20],e[99].startPerc,e[99].durationPerc),")"),p=!e[8]&&Yn(e);return{c:function(){t=G("div"),i=G("div"),n=ee(),a=G("div"),o=G("div"),s=ee(),p&&p.c(),l=ee(),r=G("div"),d=ee(),u=G("div"),c=ee(),oe(i,"class","progress-bar-padding svelte-13gn5ae"),oe(o,"class","play-progress svelte-13gn5ae"),ue(o,"transform",h),oe(r,"class","ad-progress-list"),oe(u,"class","load-progress svelte-13gn5ae"),ue(u,"background",e[53](e[26],e[99])),oe(a,"class","progress-wrapper svelte-13gn5ae"),oe(t,"class","chapter-block svelte-13gn5ae"),he(t,"active",e[98]===e[23]),ue(t,"width",e[99].durationPerc-(e[98]>0?e[19]:0)+"%"),ue(t,"height","100%"),ue(t,"left",e[99].startPerc+(e[98]>0?e[19]:0)+"%")},m:function(e,h){J(e,t,h),F(t,i),F(t,n),F(t,a),F(a,o),F(a,s),p&&p.m(a,null),F(a,l),F(a,r),F(a,d),F(a,u),F(t,c)},p:function(e,i){17825792&i[0]&&h!==(h="scaleX(".concat(oa(e[20],e[99].startPerc,e[99].durationPerc),")"))&&ue(o,"transform",h),e[8]?p&&(p.d(1),p=null):p?p.p(e,i):((p=Yn(e)).c(),p.m(a,l)),83886080&i[0]&&ue(u,"background",e[53](e[26],e[99])),8388608&i[0]&&he(t,"active",e[98]===e[23]),17301504&i[0]&&ue(t,"width",e[99].durationPerc-(e[98]>0?e[19]:0)+"%"),17301504&i[0]&&ue(t,"left",e[99].startPerc+(e[98]>0?e[19]:0)+"%")},d:function(e){e&&K(t),p&&p.d()}}}function Xn(e){var t,i,n,a,o,s,l,r=!e[3]&&Zn(e),d=(null==(t=e[21])?void 0:t.length)&&"main"===e[32]&&ea(e);return{c:function(){r&&r.c(),i=ee(),n=G("input"),a=ee(),d&&d.c(),o=te(),oe(n,"aria-label",e[33]("Time input")),oe(n,"class","range-slider svelte-13gn5ae"),oe(n,"type","range"),oe(n,"min",e[5]),oe(n,"max",e[6]),oe(n,"step",e[7])},m:function(t,u){r&&r.m(t,u),J(t,i,u),J(t,n,u),de(n,e[0]),e[72](n),J(t,a,u),d&&d.m(t,u),J(t,o,u),s||(l=[ie(n,"input",e[69]),ie(n,"change",e[70]),ie(n,"change",e[71]),ie(n,"input",e[71]),ie(n,"focus",e[62]),ie(n,"blur",e[63])],s=!0)},p:function(e,t){var a;e[3]?r&&(r.d(1),r=null):r?r.p(e,t):((r=Zn(e)).c(),r.m(i.parentNode,i)),32&t[0]&&oe(n,"min",e[5]),64&t[0]&&oe(n,"max",e[6]),128&t[0]&&oe(n,"step",e[7]),1&t[0]&&de(n,e[0]),null!=(a=e[21])&&a.length&&"main"===e[32]?d?d.p(e,t):((d=ea(e)).c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null)},d:function(t){t&&(K(i),K(n),K(a),K(o)),r&&r.d(t),e[72](null),d&&d.d(t),s=!1,k(l)}}}function Zn(e){var t,i="translateX(".concat(100*e[20],"%)");return{c:function(){(t=G("div")).innerHTML='<div class="play-progress-dot svelte-13gn5ae"></div>',oe(t,"class","play-progress-dot-container svelte-13gn5ae"),ue(t,"transform",i)},m:function(e,i){J(e,t,i)},p&Kia(Nn(e,i,a));return{c:function(){t=G("div");for(var e=0;e<n.length;e+=1)n[e].c();oe(t,"class","highlights-container svelte-13gn5ae")},m:function(e,i){J(e,t,i);for(var a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null)},p:funct075838976&a[1]){var o;for(i=nt(e[21]),o=0;o<i.length;o+=1){var[o]=ia(s),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},d:function(e){e&&K(t),Y(n,e)}}}function ta(e){var t,i,n,a=function(){return e[73](e[98])},o=function(){return e[75](e[96])};return{c:function(){(t=G("div")).innerHTML='<div class="highlight svelte-13gn5ae"></div> ',oe(t,"class","highlight-hit-zone svelte-13gn5ae"),he(t,"active",e[98]===e[28]),ue(t,"--highlight-left-perc",e[96].startPerc+"%")},m:function(s,l){J(s,t,l),i||(n=[ie(t,"mousemove",a),ie(t,"mouseleave",e[74]),ie(t,"posedown",ae(e[68])),ie(t,"click",ne(o))],i=!0)},p:function(i,n){e=i,268435456&n[0]&2&nction ia(e){var t,i=e[96].title&&ta(e);return{c:function(){i&&i.c(),t=te()},m:function(e,n){i&&i.m(e,n),J(e,t,n)},p:function(e,n){e[96].title?i?i.p(e,n):((i=ta(e)).c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d:function(e){e&&K(t),i&&i.d(e)}}}function na(e){var t,i,n,a,o,s="translateX(".concat(e[12],"px)");return a=new Fn({props:{previewTime:e[22]||e[27]?e[30]:e[10],headerText:"main"===e[32]?e[18]||e[16]:"",hideFrame:e[27]||(null==(i=null==(t=e[31])?void 0:t.framePreview)?void 0:i.hidden)}}),{c:function(){n=G("div"),ot(a.$$.fragment),oe(n,"class","frame-preview-container svelte-13gn5ae"),he(n,"scrubbar-active",e[22]),he(n,"touch-mode",e[27]),ue(n,"--frame-preview-width",e[13]+"px"),ue(n,"transform",s)},m:function(e,t){J(e,n,t),st(a,n,null),o=!0},p:function(e,t){var i,l,r={};1212154880&t[0]&&(r.previewTime=e[22]||e[27]?e[30]:e[10]),327680&t[0]&&(r.headerText="main"===e[32]?e[18]||e[16]:""),134217728&t[0]|1&t[1]&&(r.hideFrame=e[27]||(null==(l=null==(i=e[31])?void 0:i.framePreview)?void 0:l.hidden)),a.$set(r),(!o||4194304&t[0])&&he(n,"scrubbar-active",e[22]),(!o||134217728&t[0])&&he(n,"touch-mode",e[27]),8192&t[0]&&ue(n,"--frame-preview-width",e[13]+"px"),4096&t[0]&&s!==(s="translateX(".concat(e[12],"px)"))&&ue(n,"transform",s)},i:function(e){o||(Ge(a.$$.fragment,e),o=!0)},o:function(e){Xe(a.$$.fragment,e),o=!1},d:function(e){e&&K(n),lt(a)}}}function aa(e){var t,i,n,a,o,s,l,r=function(e,t){var i;return null!=(i=e[24])&&i.length&&"main"===e[32]?Jn:Qn},d=r(e),u=d(e),c=!e[2]&&Xn(e),h=("video"===e[29]||e[9])&&!e[8]&&("main"===e[32]||"shorts"===e[32])&&na(e);return{c:function(){var o;t=G("div"),i=G("div"),u.c(),n=ee(),c&&c.c(),a=ee(),h&&h.c(),oe(i,"class","slider-hover-container svelte-13gn5ae"),he(i,"rounded",!e[8]),ue(i,"outline-style",!e[17]||null!=(o=e[25])&&o.isMobileDevice?"unset":"auto"),oe(t,"class","bb-slider svelte-13gn5ae"),he(t,"read-only",e[2]),he(t,"hide-dot",e[3]),ue(t,"--accent-color",e[4]),ue(t,"--hit-height",e[1]+"px")},m:function(r,d){J(r,t,d),F(t,i),u.m(i,null),F(i,n),c&&c.m(i,null),e[76](i),F(t,a),h&&h.m(t,null),o=!0,s||(l=[ie(i,"pointerdown",ae(e[66])),ie(i,"mousedown",ae(e[57])),ie(i,"mouseup",e[58]),ie(i,"touchstart",ae(e[54])),ie(i,"touchmove",e[55]),ie(i,"touchend",e[56],{passive:!0}),ie(i,"mousemove",e[77]),ie(i,"mouseleave",e[78])],s=!0)},p:function(e,a){var s;d===(d=r(e))&&u?u.p(e,a):(u.d(1),(u=d(e))&&(u.c(),u.m(i,n))),e[2]?c&&(c.d(1),c=null):c?c.p(e,a):((c=Xn(e)).c(),c.m(i,null)),(!o||256&a[0])&&he(i,"rounded",!e[8]),33685504&a[0]&&ue(i,"outline-style",!e[17]||null!=(s=e[25])&&s.isMobileDevice?"unset":"auto"),"video"!==e[29]&&!e[9]||e[8]||"main"!==e[32]&&"shorts"!==e[32]?h&&(Ke(),Xe(h,1,1,(function(){h=null})),Ye()):h?(h.p(e,a),536871680&a[0]&&Ge(h,1)):((h=na(e)).c(),Ge(h,1),h.m(t,null)),(!o||4&a[0])&&he(t,"read-only",e[2]),(!o||8&a[0])&&he(t,"hide-dot",e[3]),16&a[0]&&ue(t,"--accent-color",e[4]),2&a[0]&&ue(t,"--hit-height",e[1]+"px")},i:function(e){o||(Ge(h),o=!0)},o:function(e){Xe(h),o=!1},d:function(i){i&&K(t),u.d(),c&&c.d(),e[76](null),h&&h.d(),s=!1,k(l)}}}function oa(e,t,i){var n=100*e;return n<t?0:n>t+i?1:(n-t)/i}function sa(e,t,i){var n,a,o,s,l,r,d,u,c,h,p,_,m,f,v,g,y,b,w,k,$=function(e){var t,n,a=Se.getBoundingClientRect(),s=(null==(n=null==(t=e.touches)?void 0:t[0])?void 0:n.clientX)-a.left;i(11,Te=Math.max(0,Math.min(1,s/a.width))),i(12,$e=Math.min(Math.max(s-Ce/2,0),a.width-(Ce+12))),P(s,a.width,!0),S(s,a),i(13,Ce=p/(null!=d&&d.length||!Me||null!=o&&o.length?1:3))},C=function(e){_e.set(!0),i(13,Ce=Me||null!=d&&d.length||null!=o&&o.length?p:p/3),qe=!0;var t=Se.getBoundingClientRect(),n=e.clientX-t.left;i(11,Te=Math.max(0,Math.min(1,n/t.width))),P(n,t.width,s),S(n,t)},S=function(e,t){var n;if(h){var a=null==(n=G())?void 0:n.getBoundingClientRect(),o=t.x-(null==a?void 0:a.x);i(12,$e=Math.min(Math.max(-1*o+u,e-Ce/2),c-(Ce+2.5*u)))}else i(12,$e=Math.min(Math.max(e-Ce/2,0),c-(Ce+2.5*u)));var s=100*Te;le.set(d.findIndex((function(e){return s>e.startPerc&&s<e.startPerc+e.durationPerc}))),i(18,Oe=r>=0?d[r].title:"")},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e/t;if(i(10,xe=l?Math.max(z,Math.min((1-a)*z,0)):Math.min(F,Math.max(a*F,0))),s&&null!=o&&o.length){var r=o.findIndex((funct-1&&xe<e.e){i(15,Pe.value=""+xe,Pe);var d=new Event("input",{bubbles:!0,cancelable:!0});Pe.dispatchEvent(d)}},x=function(){_e.set(!1),qe=!1,le.set(-1),setTimeout((function(){i(18,Oe="")}),150)},I=function(e){re.set(e)},T=t.hitHeight,D=void 0===T?20:T,M=t.value,E=void 0===M?0:M,B=t.readOnly,L=void 0!==B&&B,R=t.hideDot,q=void 0!==R&&R,H=t.accentColor,O=void 0===H?"#ff0000":H,j=t.min,z=void 0===j?0:j,V=t.max,F=void 0===V?100:V,U=t.step,N=void 0===U?.1:U,W=t.isStickyBar,Q=void 0!==W&&W,J=Ae(Ht),K=J.api,Y=J.skinMode,G=J.getSkinLayer,X=J.translate,Z=J.bufferTimeRanges,ee=J.chapterList,te=J.highlightList,ie=J.currentTime,ne=J.detections,ae=J.touchMode,oe=J.duration,le=J.hoverChapterIndex,re=J.hoverHighlightIndex,de=J.mountedControlbar,ue=J.livePlayerWithDvr,ce=J.playerMode,he=J.playerWidth,pe=J.usingScrubbar,_e=J.hoveringScrubbar,me=J.elementVisibility,fe=J.framePreviewWidthVideo,ve=J.marginSize,ge=J.skinSize,ye=J.entity,be=J.play,we=J.pause,ke=J.seekTo;A(e,Z,(function(e){return i(26,v=e)})),A(e,ee,(function(e){return i(24,d=e)})),A(e,te,(function(e){return i(21,o=e)})),A(e,ie,(function(e){return i(30,w=e)})),A(e,ne,(function(e){return i(25,f=e)})),A(e,ae,(function(e){return i(27,g=e)})),A(e,oe,(function(e){return i(65,m=e)})),A(e,le,(function(e){return i(23,r=e)})),A(e,re,(function(e){return i(28,y=e)})),A(e,de,(function(e){return i(86,h=e)})),A(e,ue,(function(e){return i(9,l=e)})),A(e,ce,(function(e){return i(29,b=e)})),A(e,he,(function(e){return i(85,c=e)})),A(e,pe,(function(e){return i(22,s=e)})),A(e,me,(function(e){re,(function(e){return i(87,p=e)})),A(e,ve,(function(e){return i(84,u=e)})),A(e,ge,(function(e){return i(64,_=e)}));var $e,Ce,Se,Pe,xe=0,Te=0,Me=!0,Ee=!1,Be=!1,Le=null,Re="";fe.subscribe((function(e){i(13,Ce=e)})),ye.subscribe((function(){var e,t;Me=!(null==(t=null==(e=null==K?void 0:K.getPreviewAsset)?void 0:e.call(K))||!t.processedSrc)})),re.subscribe((function(e){var t,n;i(16,Re=null!==(n=null==(t=o[e])?void 0:t.title)&n e&&i(2,L=e.readOnly),"hideDot"in e&&i(3,q=e.hideDot),"accentColor"in e&&i(4,O=e.accentColor),"min"in e&&i(5,z=e.min),"max"in e&&i(6,F=e.max),"step"in e&&i(7,N=e.step),"isStickyBar"in e&&i(8,Q=e.isStickyBar)},e.$$.update=function(){577&e.$$.dirty[0]|8&e.$$.dirty[2]&&i(20,n=m?l?Math.min(1,1-E/m):Math.min(1,E/F):0),4&e.$$.dirty[2]&&i(19,a=["XS","S"].includes(_)?.6:.35)},[E,D,L,q,O,z,F,N,Q,l,xe,Te,$e,Ce,Se,Pe,Re,He,Oe,a,n,o,s,r,d,f,v,g,y,b,w,k,Y,X,Z,ee,te,ie,ne,ae,oe,le,re,de,ue,ce,he,pe,me,fe,ve,ge,ke,function(e,t){var i,n;if(!e)return"initial";var a="rgba(255, 255, 255, 0.25)",o="";return t?null==(i=e.start)||i.forEach((function(i,n){var s=e.end[n];if(!(i>t.end||s<t.start)){var l=Math.max(i,t.start),r=Math.min(s,t.end),d=100*((l-t.start)/t.duration),u=100*((r-t.start)/t.duration);o+=", transparent ".concat(d,"%, ").concat(a," ").concat(d,"%, ").concat(a," ").concat(u,"%, transparent ").concat(u,"% ")}})):null==(n=e.start)||n.forEach((function(t,i){var n=t/F*100,s=e.end[i]/F*100;o+=", transparent ".conn,"%, ").concat(a," ").t ").concat(s,"% ")})),o?"linear-gradient(to right".concat(o,")"):"initial"},function(e){pe.set(!0),_e.set(!0),ae.set(!0),$(e)},$,function(){pe.set(!1),_e.set(!1)},function(){pe.set(!0)},function(){pe.set(!1)},C,x,I,function(e){var t,n=null==e?void 0:e.composedPath();null!=n&&n.length&&(t=n[n.length-1]),!qe&&"#docum:t.nodeName)&&i(17,He=!0)},function(){i(17,He=!1)},_,m,function(t){Ie.call(this,e,t)},function(t){Ie.call(this,e,t)},functifunction(t){Ie.call(this,e,t)},function(t){Ie.call(this,e,t)},function(){E=se(this.value),i(0,E)},function(e){De[e?"unshift":"push"]((function(){i(15,Pe=e)}))},function(e){return I(e)},function(){return I(-1)},function(e){return ke(e.start)},function(e){De[e?"unshift":"push"]((function(){i(14,Se=e)}))},function(e){return C(e)},function(){return x()}]}var la=function(e){r.default(i,e);var t=d.default(i);function i(r(--bar-button-size);height:var(--bar-button-size);pointer-events:initial}.bar.svelte-1wtdajp .ad-info.svelte-1wtdajp.svelte-1wtdajp.svelte-1wtdajp{flex-grow:1;flex-direction:row;justify-content:flex-start}")}function da(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m,f,v,g,y,b,w,$,C,S,P,x,A=Mt(e[10]-e[11])+"",I=!e[1]("commercialProgressBar");o=new ci({props:{iconHeight:e[5],toggled:e[2],name:"playPauseButton",hideTooltipSubText:!0,tooltipOffsetY:"-38px",$$slots:{toggled:[ca],normal:[ua]},$$scope:{ctx:e}}}),d=new ci({props:{iconHeight:e[5],toggled:e[6]||0===e[7],name:"muteButton",hideTooltipSubText:!0,tooltipOffsetY:"-38px",$$slots:{toggled:[pa],normal:[ha]},$$scope:{ctx:e}}}),_=new Hn({props:{color:e[8]}});var T=(null==(t=e[9])?void 0:t.totalAds)>0&&_a(e),D=I&&ma(e);return{c:function(){i=G("div"),n=G("div"),a=G("div"),ot(o.$$.fragment),l=ee(),r=G("div"),ot(d.$$.fragment),c=ee(),h=G("div"),p=G("span"),ot(_.$$.fragment),f=ee(),v=G("div"),T&&T.c(),g=ee(),y=G("span"),b=Z(A),$=ee(),D&&D.c(),C=te(),oe(a,"class","play-pause-button bar-button svelte-1wtdajp"),oe(a,"style",s=e[1]("commercialPauseButton")),oe(r,"class","volume-button bar-button svelte-1wtdajp"),oe(r,"style",u=e[1]("commercialMuteButton")),oe(p,"class","ad-icon svelte-1wtdajp"),oe(h,"class","bar-button svelte-1wtdajp"),oe(h,"style",m=e[0]()),oe(y,"class","time-display svelte-1wtdajp"),oe(v,"class","ad-info svelte-1wtdajp"),oe(v,"style",w=e[1]("remaining")),oe(n,"class","bar svelte-1wtdajp"),oe(i,"class","bottom-container svelte-1wtdajp")},m:function(t,s){J(t,i,s),F(i,n),F(n,a),st(o,a,null),F(n,l),F(n,r),st(d,r,null),F(n,c),F(n,h),F(h,p),st(_,p,null),F(n,f),F(n,v),T&&T.m(v,null),F(v,g),F(v,y),F(y,b),J(t,$,s),D&&D.m(t,s),J(t,C,s),S=!0,P||(x=[ie(a,"click",e[25]),ie(r,"click",e[24])],P=!0)},p:function(e,t){var i,n={};32&t[0]&&(n.iconHeight=e[5]),4&t[0]&&(n.toggled=e[2]),4&t[1]&&(n.$$scope={dirty:t,ctx:e}),o.$set(n),(!S||2&t[0]&&s!==(s=e[1]("commercialPauseButton")))&&oe(a,"style",s);var l={};32&t[0]&&(l.iconHeight=e[5]),192&t[0]&&(l.toggled=e[6]||0===e[7]),4&t[1]&&(l.$$scope={dirty:t,ctx:e}),d.$set(l),(!S||2&t[0]&&u!==(u=e[1]("commercialMuteButton")))&&oe(r,"style",u);var c={};256&t[0]&&(c.color=e[8]),_.$set(c),(!S||1&t[0]&&m!==(m=e[0]()))&&oe(h,"style",m),(null==(i=e[9])?void 0:i.totalAds)>0?T?T.p(e,t):((T=_a(e)).c(),T.m(v,g)):T&&(T.d(1),T=null),(!S||3072&t[0])&&A!==(A=Mt(e[10]-e[11])+"")&&re(b,A),(!S||2&t[0]&&w?(1,1,(function(){D=null})),Ye())},i:function(e){S||(Ge(o.$$.fragment,e),Ge(d.$$.fragment,e),Ge(_.$$.fragment,e),Ge(D),S=!0)},o:function(e){Xe(o.$$.fragment,e),Xe(d.$$.fragment,e),Xe(_.$$.fragment,e),Xe(D),S=!1},d:function(e){e&&(K(i),K($),K(C)),lt(o),lt(d),lt(_),T&&T.d(),D&&D.d(e),P=!1,k(x)}}}function ua(e){var t,i,n;return i=new Pn({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function ca(e){var t,i,n;return i=new In({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","toggled")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function ha(e){var t,i,n;return i=new En({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function pa(e){var t,i,n;return i=new Ln({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","toggled")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:,a,o,s=e[9].adPosition+"",l=e[9].totalAds+"";return{c:function(){t=G("span"),i=Z(s),n=Z(" of "),a=Z(l),o=Z(" •"),oe(t,"class","adpod-info svelte-1wtdajp")},m:function(e,s){J(e,t,s),F(t,i),F(t,n),F(t,a),F(t,o)},p:function(e,t){512&t[0]&&s!==(s=e[9].adPosition+"")&&re(i,s),512&t[0]&&l!==(l=e[9].totalAds+"")&&re(a,l)},d:function(e){e&&K(t)}}}function ma(e){var t,i,n,a,o=function(t){e[28](t)},s={readOnly:!0,accentColor:e[8],max:e[10]};return void 0!==e[11]&&(s.value=e[11]),i=new la({props:s}),De.push((function(){return at(i,"value",o)})),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","bb-slider-element svelte-1wtdajp")},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:function(e,t){var a={};256&t[0]&&(a.accentColor=e[8]),1024&t[0]&&(a.max=e[10]),!n&&2048&t[0]&&(n=!0,a.value=e[11],Oe((function(){return n=!1}))),i.$set(a)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i)}}}function fa(e){var t,i,n,a,o,s,l="EXIT"!==e[4]&&da(e);return{c:function(){t=G("div"),(i=G("div")).innerHTML='<div s","top-container"),oe(a,"class","center-area svelte-1wtdajp"),oe(t,"class","chrome svelte-1wtdajp"),ue(t,"--bar-button-size",e[3]+"px")},m:function(e,r){J(e,t,r),F(t,i),F(t,n),F(t,a),F(t,o),l&&l.m(t,null),s=!0},p:function(e,i){"EXIT"!==e[4]?l?(lda(e)).c(),Ge(l,1),l.m(t,null)):l&&(Ke(),Xe(l,1,1,(function(){l=null})),Ye()),8&i[0]&&ue(t,"--bar-button-size",e[3]+"px")},i:function(e){s||(Ge(l),s=!0)},o:function(e){Xe(l),s=!1},d:function(e){e&&K(t),l&&l.d()}}}function va(e,t,i){var n,a,o,s,l,r,d,u,c,h,p,_,m,f,v=Ae(Ht),g=v.toggleMute,y=v.api,b=v.adPodInfo,w=v.accentColor,k=v.currentTime,$=v.duration,C=v.playing,S=v.muted,P=v.phase,x=v.displayVolume,I=v.elementVisibility,T=v.barButtonSize,D=v.barIconSize,M=v.currentAd,E=v.play,B=v.pause;return A(e,b,(function(e){return i(9,_=e)})),A(e,w,(function(e){return i(8,p=e)})),A(e,k,(function(e){return i(11,f=e)})),A(e,$,(function(e){return i(10,m=e)})),A(e,C,(function(e){return i(2,l=e)})),A(e,S,(function(e){return i(6,c=e)})),A(e,P,(function(e){return i(4,d=e)})),A(e,x,(function(e){return i(7,h=e)})),A(e,I,(function(e){return i(27,s=e)})),A(e,T,(function(e){return i(3,r=e)})),A(e,D,(function(e){return i(5,u=e)})),A(e,M,(function(e){return i(26,o=e)})),e.$$.update=function(){134217728&e.$$.dirty[0]&&i(1,n=function(e){var t;return null!=(t=null==s?void 0:s[e])&&t.hidden?"display: none; visibility: hidden":""}),201326592&e.$$.dirty[0]&&i(0,a=function(){var e;return null!=(e=null==s?void 0:s.commercialAdIcon)&&e.hidden||!o||"application/javascript"===(null==o?void 0:o.contentType)?"display: none; visibility: hidden":""})},[a,n,l,r,d,u,c,h,p,_,m,f,b,w,k,$,C,S,P,x,I,T,D,M,function(){g()},function(){y&&(l?B():E())},o,s,function(e){f=e,k.set(f)}]}var ga=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,va,fa,C,{},ra,[-1,-1]),c.default(n)}return i}(ut);function ya(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"fill","#fff"),oe(i,"d","M321.7 0c19.1 0 32.9 18.3 27.6 36.6L295.8 224H381c19.3 0 34.9 15.6 34.9 34.9 0 10.3-4.5 20-12.3 26.6L144.9 505.2c-5.2 4.4-11.8 6.8-18.6 6.8-19.1 0-32.9-18.3-27.6-36.6L152.2 288H65.7C47.1 288 32 272.9 32 254.3c0-9.9 4.3-19.2 11.8-25.6L303.1 6.9c5.2-4.5 11.8-6.9 18.6-6.9zm-36.1 85L104.4 240H184c7.5 0 14.6 3.5 19.2 9.5s6 13.8 3.9 21l-44.8 157L345.5 272H264c-7.5 0-14.6-3.5-19.2-9.5s-6-13.8-3.9-21L285.6 85z"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 448 512")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var ba=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,ya,C,{}),c.default(n)}return i}(ut);function wa(e){U(e,"svelte-jkefs6",".badge.svelte-jkefs6{position:absolute;background-color:#f3f5f5;color:black;font-weight:bold;width:1.5em;height:1.5em;border-radius:50%;font-size:min(0.8em, 24px);text-align:center;line-height:1.5em;opacity:var(--button-opacity);transition:opacity 0.3s ease}.badge.top-right.svelte-j(e){var t,i,n,a=e[3].default,o=I(a,e,e[2],null);return{c:function(){t=G("div"),o&&o.c(),oe(t,"class",i="badge "+e[0]+" svelte-jkefs6"),ue(t,"--button-opacity",e[1])},m:function(e,i){J(e,t,i),o&&o.m(t,null),n=!0},p:function(e,s){var r=l.default(s,1)[0];o&&o.p&&(!n||4&r)&&M(o,a,e,e[2],n?D(a,e[2],r,null):E(e[2]),null),(!n||1&r&&i!==(i="badge "+e[0]+" svelte-jkefs6"))&&oe(t,"class",i),2&r&&ue(t,"--button-opacity",e[1])},i:function(e){n||(Ge(o,e),n=!0)},o:function(e){Xe(o,e),n=!1},d:function(e){e&&K(t),o&&o.d(e)}}}function $a(e,t,i){var n=t.$$slots,a=void 0===n?{}:n,o=t.$$scope,s=t.position,l=void 0===s?"top-right":s,r=t.buttonOpacity,d=void 0===r?"1":r;return e.$$set=function(e){"position"in e&&i(0,l=e.position),"buttonOpacity"in e&&i(1,d=e.buttonOpacity),"$$scope"in e&&i(2,o=e.$$scope)},[l,d,o,a]}var Ca=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,$a,ka,C,{position:0,buttonOpacity:1},wa),c.default(n)}return i}(ut);function Sa(e){U(e,"svelte-fs2odr",".toggle-highlights-button.svelte-fs2odr{opacity:1;transition:opacity 0.3s ease}.toggle-highlights-button.hidden.svelte-fs2odr{opacity:0;pointer-events:none}")}function Pa(e){var t,i,n,a;return i=new ba({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal"),oe(t,"class","button")},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:v,i:function(e){a||(Ge(i.$$.fragment,e),He((function(){a&&(n||(n=it(t,zt,{duration:300},!0)),n.run(1))})),a=!0)},o:function(e){Xe(i.$$.fragment,e),n||(n=it(t,zt,{duration:300},!1)),n.run(0),a=!1},d:function(e){e&&K(t),lt(i),e&&n&&n.end()}}}function xa(e){var t,i,n,a;return i=new gi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","toggled")},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:v,i:function(e){a||(Ge(i.$$.fragment,e),He((function(){a&&(n||(n=it(t,zt,{duration:300},!0)),n.run(1))})),a=!0)},o:function(e){Xe(i.$$.fragment,e),n||(n=it(t,zt,{duration:300},!1)),n.run(0),a=!1},d:function(e){e&&K(t),lt(i),e&&n&&n.end()}}}function Aa(e){var t,i,n=(null==(t=e[5])?void 0:t.length)+"";return{c:function(){i=Z(n)},m:function(e,t){J(e,i,t)},p:function(e,t){var a;32&t&&n!==(n=(null==(a=e[5])?void 0:a.length)+"")&&re(i,n)},d:function(e){e&&K(i)}}}function Ia(e){var t,i,n,a,o,s,r,d;return i=new ci({props:{buttonPosition:e[0]?"absolute":"relative",bgBorderRadius:e[2]?"48px":"50%",name:e[0]?"close":"highlights",hideToolTip:!!e[2],tooltipOffsetY:"-3em",iconHeight:.9*e[3],bgHeight:e[4]+"px",toggled:e[0],standalone:!0,disabled:e[1],text:e[2]?"Highlights":"",$$slots:{toggled:[xa],normal:[Pa]},$$scope:{ctx:e}}}),a=new Ca({props:{buttonOpacity:e[0]?"0":"1",$$slots:{default:[Aa]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),n=ee(),ot(a.$$.fragment),oe(t,"class","toggle-highlights-button svelte-fs2odr"),he(t,"hidden",e[1])},m:function(o,l){J(o,t,l),st(i,t,null),F(t,n),st(a,t,null),s=!0,r||(d=ie(t,"click",ae(e[22])),r=!0)},p:function(e,n){var o=l.default(n,1)[0],r={};1&o&&(r.buttonPosition=e[0]?"absolute":"relative"),4&o&&(r.bgBorderRadius=e[2]?"48px":"50%"),1&o&&(r.name=e[0]?"close":"highlights"),4&o&&(r.hideToolTip=!!e[2]),8&o&&(r.iconHeight=.9*e[3]),16&o&&(r.bgHeight=e[4]+"px"),1&o&&(r.toggled=e[0]),2&o&&(r.disabled=e[1]),4&o&&(r.text=e[2]?"Highlights":""),8388608&o&&(r.$$scope={dirty:o,ctx:e}),i.$set(r);var d={};1&o&&(d.buttonOpacity=e[0]?"0":"1"),8388640&o&&(d.$$scope={dirty:o,ctx:e}),a.$set(d),(!s||2&o)&&he(t,"hidden",e[1])},i:function(e){s||(Ge(i.$$.fragment,e),Ge(a.$$.fragment,e),He((function(){s&&(o||(o=it(t,zt,{duration:300},!0)),o.run(1))})),s=!0)},o:function(e){Xe(i.$$.fragment,e),Xe(a.$$.fragment,e),o||(o=it(t,zt,{duration:300},!1)),o.run(0),s=!1},d:function(e){e&&K(t),lt(i),lt(a),e&&o&&o.end(),r=!1,d()}}}function Ta(e,t,i){var n,a,o,s,l,r,d,u,c,h,p=Ae(Ht),_=p.screenXXS,m=p.barButtonSize,f=p.barIconSize,v=p.elementVisibility,g=p.passedFiveSeconds,y=p.relatedItems,b=p.highlightList,w=p.playing;A(e,_,(function(e){return i(21,d=e)})),A(e,m,(function(e){return i(4,c=e)})),A(e,f,(function(e){return i(3,u=e)})),A(e,v,(function(e){return i(17,o=e)})),A(e,g,(function(e){return i(20,r=e)})),A(e,y,(function(e){return i(19,l)),A(e,w,(function(e){return i(18,s=e)}));var k=t.placeholder,$=void 0!==k&&k,C=t.highlightPaneOpen,S=void 0!==C&&C,P=t.toggleHighlightPane,x=void 0===P?function(){}:P,I=function(){setTimeout((function(){x()}))};return e.$$set=function(e){"placeholder"in e&&i(15,$=e.placeholder),"highlightPaneOpen"in e&&i(0,S=e.highlightPaneOpen),"toggleHighlightPane"in e&&i(16,x=e.toggleHighlightPane)},e.$$.update=function(){var t;3145729&e.$$.dirty&&i(2,n=!S&&!d&&!r),950272&e.$$.dirty&&i(1,a=(null==l?void 0:l.length)&&!s&&!(null!=(t=null==o?void 0:o.relatedItems)&&t.hidden)||$)},[S,a,n,u,c,h,_,m,f,v,g,y,b,w,I,$,x,o,s,l,r,d,function(){return I()}]}var Da=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Ta,Ia,C,{placeholder:15,highlightPaneOpen:0,toggleHighlightPane:16},Sa),c.default(n)}return i}(ut);function Ma(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M0 3c0-1.657 1.399-3 3.125-3h18.75C23.599 0 25 1.343 25 3v12c0 1.655-1.401 3-3.125 3H3.125C1.399 18 0 16.655 0 15V3zm1.563 0v1.87l9.551 6.722c.825.581 1.948.581 2.773 0l9.551-6.722V3c0-.83-.698-1.5-1.562-1.5H3.081c-.819 0-1.562.67-1.562 1.5h.044zm0 3.731V15c0 .83.7 1.5 1.563 1.5h18.75c.864 0 1.563-.67 1.563-1.5V6.731l-8.628 6.07a4.03 4.03 0 0 1-4.619 0l-8.628-6.07z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 25 18"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Ea=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Ma,C,{}),c.default(n)}return i}(ut);function Ba(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M8.41 10.125l.467-3.258H5.959V4.753c0-.891.408-1.76 1.715-1.76H9V.22S7.796 0 6.645 0C4.242 0 2.671 1.56 2.671 4.385v2.483H0v3.258h2.671V18h3.288v-7.875H8.41z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 9 18"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var La=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Ba,C,{}),c.default(n)}return i}(ut);function Ra(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M4.029 18H.297V5.982h3.732V18zM2.161 4.343A2.18 2.18 0 0 1 0 2.161 2.16 2.16 0 0 1 2.161 0a2.16 2.16 0 0 1 2.161 2.161c0 1.193-.968 2.182-2.161 2.182zM17.996 18h-3.724v-5.85c0-1.394-.028-3.182-1.94-3.182-1.94 0-2.238 1.515-2.238 3.082V18H6.367V5.982h3.579v1.639h.052c.498-.944 1.715-1.941 3.531-1.941 3.777 0 4.471 2.487 4.471 5.718V18h-.004z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 18 18"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var qa=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Ra,C,{}),c.default(n)}return i}(ut);function Ha(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"),oe(i,"fill","white"),oe(t,"viewBox","0 0 1200 1227"),oe(t,"fill","none"),oe(t,"xmlns","http://www.w3.org/2000/svg")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Oa=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Ha,C,{}),c.default(n)}return i}(ut);function ja(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M1.878 8.999l8.004 7.72c.306.291.306.769 0 1.059s-.797.295-1.099 0L.228 9.529a.73.73 0 0 1 0-1.059L8.784.22c.301-.293.797-.293 1.099 0s.306.768 0 1.06L1.878 8.999zM18.117 1.28c-.306-.292-.306-.767 0-1.06s.797-.293 1.099 0l8.555 8.25c.306.291.306.769 0 1.059l-8.555 8.249c-.301.295-.797.295-1.099 0s-.306-.769 0-1.059l8.006-7.762-8.006-7.677z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 28 18"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var za=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,ja,C,{}),c.default(n)}return i}(ut);function Va(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M15.304 2.616A8.85 8.85 0 0 0 8.996 0C4.078 0 .076 4.002.076 8.92a8.93 8.93 0 0 0 1.189 4.46L0 18l4.729-1.241c1.302.711 2.768 1.085 4.263 1.085h.004c4.914 0 9.004-4.002 9.004-8.92 0-2.383-1.012-4.621-2.696-6.308h0zM8.996 16.341a7.4 7.4 0 0 1-3.777-1.033l-.269-.161-2.804.735.747-2.736-.177-.281A7.39 7.39 0 0 1 1.583 8.92C1.583 4.833 4.91 1.507 9 1.507c1.981 0 3.841.771 5.239 2.174s2.258 3.262 2.254 5.243c0 4.09-3.411 7.417-7.497 7.417h0zm4.066-5.553c-.221-.113-1.318-.651-1.523-.723s-.354-.112-.502.112-.575.723-.707.876-.261.169-.482.056c-1.31-.655-2.17-1.169-3.033-2.652-.229-.394.229-.366.655-1.217.072-.149.036-.277-.02-.39s-.502-1.209-.687-1.655c-.181-.434-.366-.374-.502-.382-.129-.008-.277-.008-.426-.008s-.39.056-.595.277-.779.763-.779 1.86.8 2.158.908 2.306 1.571 2.399 3.809 3.367c1.414.611 1.969.663 2.676.559.43-.064 1.318-.538 1.503-1.061s.185-.968.129-1.061c-.052-.1-.201-.157-.422-.265z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 18 18"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Fa=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Va,C,{}),c.default(n)}return i}(ut);function Ua(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M5.313 0C2.641 0 0 1.782 0 4.665 0 6.499 1.031 7.54 1.656 7.54c.258 0 .406-.719.406-.922 0-.242-.617-.758-.617-1.766 0-2.094 1.594-3.579 3.656-3.579 1.773 0 3.086 1.008 3.086 2.86 0 1.383-.555 3.977-2.352 3.977-.648 0-1.203-.469-1.203-1.141 0-.985.688-1.938.688-2.954 0-1.724-2.445-1.412-2.445.672 0 .438.055.922.25 1.321-.359 1.547-1.094 3.852-1.094 5.446 0 .492.07.977.117 1.469.089.099.044.088.18.039 1.313-1.797 1.266-2.149 1.859-4.501.32.609 1.148.938 1.805.938C8.758 9.4 10 6.704 10 4.274 10 1.688 7.766 0 5.313 0z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 10 13"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Na=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Ua,C,{}),c.default(n)}return i}(ut);function Wa(e){U(e,"svelte-mrktdb",".overlay-container.svelte-mrktdb{position:absolute;width:100%;height:100%;left:0;top:0;background-color:rgba(0, 0, 0, 0.5);z-index:20;display:flex;justify-content:center;align-items:var(--align-its,e,e[2],null);return{c:function(){t=G("div"),r&&r.c(),oe(t,"class","overlay-container svelte-mrktdb"),ue(t,"--align-items",e[0])},m:function(i,s){J(i,t,s),r&&r.m(t,null),n=!0,a||(o=ie(t,"click",ae(e[4])),a=!0)},p:function(e,i){var a=l.default(i,1)[0];r&&r.p&&(!n||4&a)&&M(r,s,e,e[2],n?D(s,e[2],a,null):E(e[2]),null),1&a&&ue(t,"--align-items",e[0])},i:function(e){n||(Ge(r,e),He((function(){n&&(i||(i=it(t,zt,{duration:150},!0)),i.run(1))})),n=!0)},o:function(e){Xe(r,e),i||(i=it(t,zt,{duration:150},!1)),i.run(0),n=!1},d:function(e){e&&K(t),r&&r.d(e),e&&i&&i.end(),a=!1,o()}}}function Ja(e,t,i){var n=t.$$slots,a=void 0===n?{}:n,o=t.$$scope,s=t.vAlign,l=void 0===s?"center":s,r=Pe();return e.$$set=function(e){"vAlign"in e&&i(0,l=e.vAlign),"$$scope"in e&&i(2,o=e.$$scope)},[l,r,o,a,function(){return r("backdropClick")}]}var Ka=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Ja,Qa,C,{vAlign:0},Wa),c.default(n)}return i}(ut);function Ya(e){U(e,"svelte-10uj4m1",".header.svelte-10uj4m1.svelte-10uj4m1{display:flex;justifuj4m1{height:1.8em;width:1.8em;position:absolute;right:-0.8em;top:-0.4em}")}function Ga(e){var t;return{c:function(){t=Z(e[0])},m:function(e,i){J(e,t,i)},p:function(e,i){1&i&&re(t,e[0])},d:function(e){e&&K(t)}}}function Xa(e){var t,i,n;return i=new gi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Za(e){var t,i,n,a,o,s,r,d,u;return n=new Qt({props:{$$slots:{default:[Ga]},$$scope:{ctx:e}}}),s=new ci({props:{iconHeight:.6*e[2],name:"close",hideToolTip:!0,$$slots:{normal:[Xa]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),i=G("h2"),ot(n.$$.fragment),a=ee(),o=G("div"),ot(s.$$.fragment),oe(o,"class","close-button svelte-10uj4m1"),oe(t,"class","header svelte-10uj4m1"),ue(t,"--margin",e[1]+"px")},m:function(l,c){J(l,t,c),F(t,i),st(n,i,null),F(t,a),F(t,o),st(s,o,null),r=!0,d||(u=ie(o,"click",e[6]),d=!0)},p:function(e,i){var a=l.default(i,1)[0],o={};257&a&&(o.$$scope={dirty:a,ctx:e}),n.$set(o);var r={};4&a&&(r.iconHeight=.6*e[2]),256&a&&(r.$$scope={dirty:a,ctx:e}),s.$set(r),2&a&&ue(t,"--margin",e[1]+"px")},i:function(e){r||(Ge(n.$$.fragment,e),Ge(s.$$.fragment,e),r=!0)},o:function(e){Xe(n.$$.fragment,e),Xe(s.$$.fragment,e),r=!1},d:function(e){e&&K(t),lt(n),lt(s),d=!1,u()}}}function eo(e,t,i){var n,a,o=Ae(Ht),s=o.barIconSize,l=o.marginSize,r=o.restoreFocusPreviousElement;A(e,s,(function(e){return i(2,a=e)})),A(e,l,(function(e){return i(1,n=e)}));var d=Pe(),u=t.header;Se((function(){r()}));return e.$$set=function(e){"header"in e&&i(0,u=e.header)},[u,n,a,s,l,d,function(){return d("close")}]}var to=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,eo,Za,C,{header:0},Ya),c.default(n)}return i}(ut);function io(e){U(e,"svelte-zqwyoc",".container-pane.svelte-zqwyoc.svelte-zqwyoc{box-sizing:border-box;min-width:180px;background-color:var(--bg-color-pane);padding:1.1em 1.6em;border-radius:5px;margin:12px;pointer-events:initial;max-height:100%}.container-pane.svelte-zqwyoc .overlay-content.svelte-zqwyoc{max-height:calc(100% - 2.2em);scrollbar-width:thin;overflow:auto}.container-pane.svelte-zqwyoc .overlay-content.svelte-zqwyoc::-webkit-scrollbar{width:5px;height:5px}.container-pane.svelte-zqwyoc .overlay-content.svelte-zqwyoc::-webkit-scrollbar-track{background:#888}.container-pane.svelte-zqwyoc .overlay-content.svelte-zqwyoc::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.container-pane.svelte-zqwyoc .overlay-content.svelte-zqwyoc::-webkit-scrollbar-thumb:hover{background:#f1f1f1}.container-pane.svelte-zqwyoc .overlay-content.center.svelte-zqwyoc{display:flex;justify-content:center;align-items:center;height:100%}.container-pane.size-XS.full-height.svelte-zqwyoc.svelte-zqwyoc{padding:12px;height:100%;width:100%;margin:0}")}function no(e){var t,i,n,a,o,s,l,r;(i=new to({props:{header:e[0]}})).$on("close",e[10]);var d=e[8].default,u=I(d,e,e[12],null);return{c:function(){t=G("div"),ot(i.$$.fragment),n=ee(),a=G("div"),u&&u.c(),oe(a,"class","overlay-content svelte-zqwyoc"),he(a,"center",e[1]),oe(t,"class",o="container-pane size-"+e[2]+" svelte-zqwyoc"),he(t,"full-height",e[3]<230||e[4]<220),ue(t,"flex-grow",e[4]<500?1:null)},m:function(o,d){J(o,t,d),st(i,t,null),F(t,n),F(t,a),u&&u.m(a,null),s=!0,l||(r=ie(t,"click",ae(e[9])),l=!0)},p:function(e,n){var l={};1&n&&(l.header=e[0]),i.$set(l),u&&u.p&&(!s||4096&n)&&M(u,d,e,e[12],s?D(d,e[12],n,null):E(e[12]),(o)&&oe(t,"class",o),(!s||28&n)&&he(t,"full-height",e[3]<230||e[4]<220),16&n&&ue(t,"flex-grow",e[4]<500?1:null)},i:function(e){s||(Ge(i.$$.fragment,e),Ge(u,e),s=!0)},o:function(e){Xe(i.$$.fragment,e),Xe(u,e),s=!1},d:function(e){e&&K(t),lt(i),u&&u.d(e),l=!1,r()}}}function ao(e){var t,i;return(t=new Ka({props:{$$slots:{default:[no]},$$scope:{ctx:e}}})).$on("backdropClick",e[11]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n=l.default(i,1)[0],a={};4127&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function oo(e,t,i){var n,a,o,s=t.$$slots,l=void 0===s?{}:s,r=t.$$scope,d=Ae(Ht),u=d.skinSize,c=d.playerWidth,h=d.playerHeight;A(e,u,(function(e){return i(2,n=e)})),A(e,c,(function(e){return i(4,o=e)})),A(e,h,(function(e){return i(3,a=e)}));var p=t.header,_=t.centerContent,m=void 0!==_&&_;return e.$$set=function(e){"header"in e&&i(0,p=e.header),"centerContent"in e&&i(1,m=e.centerContent),"$$scope"in e&&i(12,r=e.$$scope)},[p,m,n,a,o,u,c,h,l,function(t){Ie.call(this,e,t)},function(t){Ie.call(this,e,t)},function(t){Ie.call(this,e,t)},r]}var so=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,oo,ao,C,{header:0,centerContent:1},io),c.default(n)}return i}(ut);function lo(e){U(e,"svelte-1d1qfnj",".share-list.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj{display:flex;justify-content:space-between;gap:0.5em;overflow-x:auto;padding-bottom:8px;scrollbar-width:thin}@supports (-webkit-touch-callout: none) and (not (translate: none)){.share-list.svelte-1d1qfnj>.svelte-1d1qfnj+.svelte-1d1qfnj.svelte-1d1qfnj{margin-left:0.5em}}.share-list.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj::-webkit-scrollbar{width:5px;height:5px}.share-list.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj::-webkit-scrollbar-track{background:#888}.share-list.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.share-list.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj::-webkit-scrollbar-thumb:hover{background:#f1f1f1}.share-list.svelte-1d1qfnj .share-option.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj{display:flex;flex-direction:column;align-items:center;gap:0.3em;padding:4px}@supports (-webkit-touch-callout: none) and (not (translate: none)){.share-list.svelte-1d1qfnj .share-option.svelte-1d1qfnj>.svelte-1d1qfnj+.svelte-1d1qfnj{margin-left:0.3em}}.share-list.svelte-1d1qfnj .share-option .label.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj{font-size:0.75em}.share-list.as-grid.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj.svelte-1d1qfnj{display:grid;grid-gap:0.75em;gap:0.75em;grid-template-columns:repeat(aut-touch-callout: none) and (not (translate: none)){.share-list.as-grid.svelte-1d1qfnj>.svelte-1d1qfnj+.svelte-1d1qfnj.svelte-1d1qfnar n=e.slice();return n[26]=t[i],n}function uo(e){var t,i,n,a=e[26].icon;return a&&(i=_e(a,{})),{c:function(){t=G("div"),i&&ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a)&ao.(),n=!1},d:function(e){e&&K(t),i&&lt(i)}}}function co(e){var t,i=e[26].label+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){2&n&&i!==(i=e[26].label+"")&&re(t,i)},d:function(e){e&&K(t)}}}function ho(e){var t,i,n,a,o,s,l,r,d,u,c=function(){return e[15](e[26])};return n=new ci({props:{iconHeight:.9*e[4],bgColor:e[26].bgColor,bgSize:e[5]+"px",name:"share"+e[26].label,hideToolTip:!0,$$slots:{normal:[uo]},$$scope:{ctx:e}}}),s=new Qt({props:{$$slots:{default:[co]},$$scope:{ctx:e}}}),{c:function(){t=G("li"),i=G("div"),ot(n.$$.fragment),a=ee(),o=G("span"),ot(s.$$.fragment),l=ee(),oe(i,"class","svelte-1d1qfnj"),oe(o,"class","label svelte-1d1qfnj"),oe(t,"class","share-option svelte-1d1qfnj")},m:function(e,h){J(e,t,h),F(t,i),st(n,i,null),F(t,a),F(t,o),st(s,o,null),F(t,l),r=!0,d||(u=ie(i,"click",c),d=!0)},p:function(t,i){e=t;var a={};16&i&&(a.iconHeight=.9*e[4]),2&i&&(a.bgColor=e[26].bgColor),32&i&&(a.bgSize=e[5]+"px"),2&i&&(a.name="share"+e[26].label),536870914&i&&(a.$$scope={di&i&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i:function(e){r||(Ge(n.$$.fragment,e),Ge(s.$$.fragment,e),r=!0)},o:function(e){Xe(n.$$.fragment,e),Xe(s.$$.fragment,e),r=!1},d:function(e){e&&K(t),lt(n),lt(s),d=!1,u()}}}function po(e){for(var t,i,n=nt(e[1]),a=[],o=0;o<n.length;o+=1)a[o]=ho(ro(e,n,o))ion(){t=G("ul");for(var i=0;i<a.length;i+=1)a[i].c();oe(t,"class","share-list svelte-1d1qfnj"),he(t,"as-grid",e[2]>=200&&e[3]<500)},m:function(e,n){J(e,t,n);for(var o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null);i=!0},p:function(e,o){if(4146&o){var l;for(n=nt(e[1]),1)ength;l+=1)s(l);Ye()}(!i||12&o)&&he(t,"as-grid",e[2]>=200&&e[3]<500)},i:function(e){if(!i){for(var t=0;t<n.length;t+=1)Ge(a[t]);i=!0}},o:function(e){a=a.filter(Boolean);for(var t=0;t<a.length;t+=1)Xe(a[t]);i=!1},d:function(e){e&&K(t),Y(a,e)}}}function _o(e){var t,i,n;return(i=new slots:{default:[po]},$$scope:{ctx:e}}})).$on("close",e[16]),i.$on("backdropClick",e[17]),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","share-pane")},m:function(a,o){J(a,t,o),e,t){var n=l.default(t,1)[0],a={};536870974&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(n){n&&K(t),lt(i),e[18](null)}}}function mo(e,t,i){var n,a,o,s,l,r,d,u,c=function(e,t){"Embed"!==t?y(e):h()},h=function(){var e=b();k(e,w("Embedcode copied to clipboard"))},p=Ae(Ht),_=p.playout,m=p.shareOptions,f=p.barIconSize,v=p.shareIconSize,g=p.trapAriaTabFocus,y=p.doShare,b=p.getEmbedCode,w=p.translate,k=p.copyToClipBoard,$=p.playerWidth,C=p.playerHeight;A(e,_,(function(e){return i(13,a=e)})),A(e,m,(function(e){return i(14,o=e)})),A(e,f,(function(e){return i(4,r=e)})),A(e,v,(function(e){return i(5,d=e)})),A(e,$,(function(e){return i(3,l=e)})),A(e,C,(function(e){return i(2,s=e)}));var S=[{label:"Embed",icon:za,bgColor:"#8B8B8B"},{label:"Email",icon:Ea,bgColor:"#575757",value:"email"},{label:"WhatsApp",icon:Fa,bgColor:"#25D366",value:"whatsapp"},{label:"Facebook",icon:La,bgColor:"X",icon:Oa,bgColor:"#000000",value:"twitter"},{label:"LinkedIn",icon:qa,bgColor:"#0A66C2",value:"linkedin"},{label:"Pinterest",icon:Na,bgColor:"#E60023",value:"pinterest"}];Ce((function(){g(u,".button-content")}));return e.$$.update=fter((function(e){return(null==o?void 0:o.map((function(e){return e.name})).includes(e.value))||a.shareButtonEmbedCode&&"Embed"===e.label})))},[u,n,s,l,r,d,_,m,f,v,$,C,c,a,o,function(e){return c(e.value,e.label)},function(t){Ie.call(this,e,t)},function(t){Ie.call(this,e,t)},function(e){De[e?"unshift":"push"]((function(){i(0,u=e)}))}]}var fo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,mo,_o,C,{},lo),c.default(n)}return i}(ut);function vo(e){var t,i,n;return{c:function(){t=X("svg"),i=X("circle"),n=X("path"),oe(i,"cx","11"),oe(i,"cy","11"),oe(i,"r","11"),oe(i,"fill","#12b76a"),oe(n,"d","M16.77 7.235a.81.81 0 0 1 0 1.13l-6.286 6.401c-.307.313-.803.313-1.11 0l-3.144-3.2a.81.81 0 0 1 0-1.13c.307-.312.804-.312 1.111 0l2.565 2.633 5.753-5.833c.307-.313.803-.313 1.11 0z"),oe(n,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 22 22"),oe(t,"fill","none")},m:function(e,a){J(e,t,a),F(t,i),F(t,n)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var go=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,vo,C,{}),c.default(n)}return i}(ut);function yo(e){var t,i,n;return{c:function(){t=X("svg"),i=X("circle"),n=X("path"),oe(i,"cx","11"),oe(i,"cy","11"),oe(i,"r","11"),oe(i,"fill","#f04438"),oe(n,"d","M11 12.873c.442 0 .8-.352.8-.765v-6.32c0-.435-.358-.788-.8-.788s-.8.353-.8.788v6.276c0 .457.358.809.8.809zm0 1.181c-.552 0-1 .441-1 .984s.448.962 1 .962 1-.44 1-.962-.448-.984-1-.984z"),oe(n,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 22 22"),oe(t,"fill","none")},m:function(e,a){J(e,t,a),F(t,i),F(t,n)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var bo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,yo,C,{}),c.default(n)}return i}(ut);function wo(e){U(e,"svelte-1h5hqlb",".toastr.svelte-1h5hqlb.svelte-1h5hqlb.svelte-1h5hqlb{display:flex;align-items:center;gap:0.9em;width:100%;box-sizing:border-box;max-height:calc(100% - var(--margin-size) * 2);overflow-y:auto;margin:var(--margin-size);padding:1em;background-color:var(--bg-color-pane);border-radius:5px}@supports (-webkit-touch-callout: none) and (not (translate: none)){.toastr.svelte-1h5hqlb>.svelte-1h5hqlb+.svelte-1h5hqlb{margin-left:0.9em}}.toastr.svelte-1h5hqlb .icon.svelte-1h5hqlb.svelte-1h5hqlb,.toastr.svelte-1h5hqlb .close-button.svelte-1h5hqlb.svelte-1h5hqlb{align-self:flex-start}.toastr.svelte-1h5hqlb .icon.svelte-1h5hqlb.svelte-1h5hqlb{width:1.1em;height:1.1em;flex-shrink:0}.toastr.svelte-1h5hqlb .content.svelte-1h5hqlb.svelte-1h5hqlb{word-break:break-word}.toastr.svelte-1h5hqlb .close-button.svelte-1h5hqlb.svelte-1h5hqlb{height:0.6em;height:0.6em;margin-left:auto;margin-top:0.1em}.ter t,i,n,a,o=function(e,t){return"success"===e[0]?0:1},s=[Co,$o],l=[];return i=o(e),n=l[i]=s[i](e),{c:function(){t=G("div"),n.c(),oe(t,"class","icon svelte-1h5hqlb")},m:function(e,n){J(e,t,n),l[i].m(var r=i;(i=o(e))!==r&&(Ke(),Xe(l[r],1,1,(function(){l[r]=null})),Ye(),(n=l[i])||(n=l[i]=s[i](e)).c(),Ge(n,1),n.m(t,null))},i:function(e){a||(Ge(n),a=!0)},o:function(e){Xe(n),a=!1},d:function(e){e&&K(t),l[i].d()}}}function $o(e){var t,i;return t=new bo({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Co(e){var t,i;return t=new go({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function So(e){var t,i,n;return i=new gi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Po(e){var t,i,n,a,o,s,l,r,d,u=e[0]&&ko(e),c=e[6].default,h=I(c,e,e[10],null);return s=new ci({props:{iconHeight:.6*e[2],$$slots:{normal:[So]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),u&&u.c(),i=ee(),n=G("div"),h&&h.c(),a=ee(),o=G("div"),ot(s.$$.fragment),oe(n,"class","content svelte-1h5hqlb"),oe(o,"class","close-button svelte-1h5hqlb"),oe(t,"class","toastr svelte-1h5hqlb"),he(t,"with-icon",!!e[0]),ue(t,"--margin-size",e[1]+"px")},m:function(c,p){J(c,t,p),u&&u.m(t,null),F(t,i),F(t,n),h&&h.m(n,null),F(t,a),F(t,o),st(s,o,null),l=!0,r||(d=[ie(o,"click",e[8]),ie(t,"click",ae(e[7]))],r=!0)},p:function(e,n){e[0]?u?(u.p(e,n),1&n&&Ge(u,1)):((u=ko(e)).c(),Ge(u,1),u.m(t,i)):u&&(Ke(),Xe(u,1,1,(function(){u=null})),Ye()),h&&h.p&&(!l||1024&n)&&M(h,c,e,e[10],l?D(c,e[10],n,null):E(e[10]),null);var a={};4&n&&(a.iconHeight=.6*e[2]),1024&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a),(!l||1&n)&&he(t,"with-icon",!!e[0]),2&n&&ue(t,"--margin-size",e[1]+"px")},i:function(e){l||(Ge(u),Ge(h,e),Ge(s.$$.fragment,e),l=!0)},o:function(e){Xe(u),Xe(h,e),Xe(s.$$.fragment,e),l=!1},d:function(e){e&&K(t),u&&u.d(),h&&h.d(e),lt(s),r=!1,k(d)}}}function xo(e){var t,i;return(t=new Ka({props:{vAlign:"flex-start",$$slots:{default:[Po]},$$scope:{ctx:e}}})).$on("backdropClick",e[9]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n=l.default(i,1)[0],a={};1031&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Ao(e,t,i){var n,a,o=function(){h(),m("close")},s=t.$$slots,l=void 0===s?{}:s,r=t.$$scope,d=Ae(Ht),n,h=d.resetToastr;A(e,u,(function(e){return i(2,a=e)})),A(e,c,(function(e){return i(1,n=e)}));var p,_=t.icon,m=Pe();Ce((function(){p=setTimeout((function(){return o()}),3e3)})),Se((function(){p&&clearTimeout(p)}));return e.$$set=function(e){"icon"in e&&i(0,_=e.icon),"$$scope"in e&&i(10,r=e.$$scope)},[_,n,a,u,c,o,l,function(t){Ie.call(this,e,t)},function(){return o()},function(){return o()},r]}var Io=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Ao,xo,C,{icon:0},wo),c.default(n)}return i}(ut);function To(e){U(e,"svelte-1edc5q4",".logo.svelte-1edc5q4 a.svelte-1edc5q4{pointer-events:all}.logo.hidden.svelte-1edc5q4.svelte-1edc5q4{opacity:0}.logo.svelte-1edc5q4 img.svelte-1edc5q4{max-height:calc(2 * var(--margin-size));max-width:calc(6 * var(--margin-sizver rl?Eo:Mo},n=i(e),a=n(e);return{c:function(){a.c(),t=te()},m:function(e,i){a.m(e,i),J(e,t,i)},p:function(e,o){n===(n=i(e))&&a?a.p(e,o):(a.d(1),(a=n(),S(oe(t,"src",i),oe(t,"alt","logo"),oe(t,"class","svelte-1edc5q4")},m:function(i,o){J(i,t,o),n||(a=ie(t,"error",e[5]),n=!0)},p:function(e,n){1&n&&!S(t.src,i=e[0].src)&&oe(t,"src",i)},d:function(e){e&&K(t),n=!1,a()}}}function Eo(e){var t,i,n,a,o;return{c:function(){t=G("a"),S((i=G("img")).src,n=e[0].src)||oe(i,"src",n),oe(i,"alt","logo"),oe(i,"class","svelte-1edc5q4"),oe(t,"href",a=e[0].url),oe(t,"target","_blank"),oe(t,"rel","noreferrer"),oe(t,"tabindex",o=e[1]?-1:0),oe(t,"aria-label",e[3]("logo")),oe(t,"class","button-content svelte-1edc5q4")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,s){1&s&&!S(i.src,n=e[0].src)&&oe(i,"src",n),1&s&&a!==(a=e[0].url)&&oe(t,"tabindex",o)},d:function(e){e&&K(t)}}}function Bo(e){var t,i=e[2]&&Do(e);return{c:function(){t=G("div"),i&&i.c(),oe(t,"class","logo svelte-1edc5q4"),he(t,"hidden",e[1])},m:function(e,n){J(e,t,n),i&&i.m(t,null)},p:function(e,n){var a=l.default(n,1)[0];e[2]?i?i.p(e,a):((i=Do(e)).c(),i.m(t,null)):i&&(i.d(1),i=null),2&a&&he(t,"hidden",e[1])},i:v,o:v,d:function(e){e&&K(t),i&&i.d()}}}function Lo(e,t,i){var n=function(){i(2,r=!1)},a=t.logoObject,o=t.placeholder,s=void 0!==o&&o,l=Ae(Ht).translate,r=!0;return e.$$set=function(e){"logoObject"in e&&i(0,a=e.logoObject),"placeholder"in e&&i(1,s=e.placeholder)},e.$$.update=function(){1&e.$$.dirty&&a&&i(2,r=!0)},[a,s,r,l,n,function(){return n()}]}var Ro=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Lo,Bo,C,{logoObject:0,placeholder:1},To),c.default(n)}return i}(ut);function qo(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M19.094 8.333h5.687c.675 0 1.219-.557 1.219-1.25s-.546-1.25-1.219-1.25h-4.469V1.25c0-.691-.543-1.25-1.219-1.25s-1.219.559-1.219 1.25v5.833c0 .693.543 1.25 1.219 1.25zM6.906 11.667H1.219c-.673 0-1.219.557-1.219 1.25s.546 1.25 1.219 1.25h4.469v4.583c0 .693.543 1.25 1.219 1.25s1.219-.557 1.219-1.25v-5.833c0-.693-.543-1.25-1.219-1.25zm17.875 0h-5.687c-.675 0-1.219.557-1.219 1.25v5.833c0 .69.546 1.25 1.219 1.25s1.219-.56 1.219-1.25v-4.583h4.469c.673 0 1.219-.56 1.219-1.25s-.543-1.25-1.219-1.25zM6.906 0c-.675 0-1.219.559-1.219 1.25v4.583H1.219C.546 5.833 0 6.391 0 7.083s.546 1.25 1.219 1.25h5.688c.675 0 1.219-.557 1.219-1.25V1.25C8.125.559 7.582 0 6.906 0z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 26 21"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Ho=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,qo,C,{}),c.default(n)}return i}(ut);function Oo(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M6.906 17.5H2.438v-4.583c0-.693-.546-1.25-1.219-1.25S0 12.224 0 12.917v5.833C0 19.443.546 20 1.219 20h5.688c.675 0 1.219-.557 1.219-1.25s-.543-1.25-1.219-1.25zm0-17.5H1.219C.546 0 0 .56 0 1.25v5.833c0 .693.546 1.25 1.219 1.25s1.219-.557 1.219-1.25V2.5h4.469c.675 0 1.219-.557 1.219-1.25S7.582 0 6.906 0zm17.875 0h-5.687c-.675 0-1.219.56-1.219 1.25s.546 1.25 1.219 1.25h4.469v4.583c0 .693.543 1.25 1.219 1.25S26 7.776 26 7.083V1.25C26 .56 25.457 0 24.781 0zm0 11.667c-.673 0-1.219.56-1.219 1.25V17.5h-4.469c-.673 0-1.219.56-1.219 1.25S18.418 20 19.094 20h5.687c.673 0 1.219-.56 1.219-1.25v-5.833c0-.693-.543-1.25-1.219-1.25z"),oe(i,"fill","#f5f5f5"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 26 20"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var jo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Oo,C,{}),c.default(n)}return i}(ut);function zo(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M23.111 0H2.889A2.89 2.89 0 0 0 0 2.889v14.443a2.89 2.89 0 0 0 2.889 2.889h20.222A2.89 2.89 0 0 0 26 17.331V2.889A2.89 2.89 0 0 0 23.111 0zM7.61 11.64a2.17 2.17 0 0 0 3.064 0c.423-.423 1.109-.423 1.532 0s.423 1.108 0 1.532a4.32 4.32 0 0 1-3.064 1.267c-1.11 0-2.219-.422-3.064-1.267a4.29 4.29 0 0 1-1.272-3.062c0-1.155.411-2.245 1.269-3.064 1.69-1.69 4.438-1.69 6.125 0 .423.423.423 1.108 0 1.532s-1.109.423-1.532 0a2.17 2.17 0 0 0-3.064 0 2.16 2.16 0 0 0-.632 1.532 2.14 2.14 0 0 0 .636 1.53zm8.667 0a2.17 2.17 0 0 0 3.064 0c.423-.423 1.109-.423 1.532 0s.423 1.108 0 1.532a4.32 4.32 0 0 1-3.064 1.267c-1.11 0-2.219-.422-3.064-1.267a4.29 4.29 0 0 1-1.271-3.062c0-1.155.411-2.245 1.269-3.064 1.69-1.69 4.438-1.69 6.125 0 .423.423.423 1.108 0 1.532s-1.109.423-1.532 0a2.17 2.17 0 0 0-3.064 0 2.16 2.16 0 0 0-.632 1.532 2.14 2.14 0 0 0 .637 1.53z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 26 21"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Vo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,zo,C,{}),c.default(n)}return i}(ut);function Fo(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M5.886 10c0-2.105 1.645-3.75 3.75-3.75 2.07 0 3.75 1.645 3.75 3.75a3.75 3.75 0 0 1-3.75 3.75c-2.105 0-3.75-1.68-3.75-3.75zm3.75-1.875c-1.035 0-1.875.84-1.875 1.875s.84 1.875 1.875 1.875 1.875-.84 1.875-1.875-.84-1.875-1.875-1.875zM11.085 0c.867 0 1.621.593 1.824 1.435l.305 1.268a7.8 7.8 0 0 1 .949.55l1.254-.369a1.88 1.88 0 0 1 2.156.861l1.449 2.509c.43.75.293 1.699-.332 2.297l-.949.867.02.582-.02.547.949.902c.625.598.762 1.547.332 2.297l-1.449 2.508c-.434.75-1.324 1.105-2.156.863l-1.254-.371c-.301.203-.617.387-.949.551l-.305 1.27c-.203.84-.957 1.434-1.824 1.434H8.187c-.867 0-1.621-.594-1.824-1.434l-.305-1.27c-.332-.164-.648-.348-.949-.551l-1.289.371c-.796.242-1.686-.113-2.119-.863L.251 13.746c-.433-.75-.296-1.699.331-2.297l.947-.902-.018-.582.018-.547-.947-.867c-.627-.598-.764-1.547-.331-2.297l1.449-2.509c.433-.75 1.323-1.106 2.119-.861l1.289.369c.301-.204.617-.388.949-.55l.305-1.268C6.566.593 7.32 0 8.187 0h2.898zM7.664 4.047l-.437.184a6.16 6.16 0 0 0-1.375.797l-.379.289-2.148-.633-1.45 2.508 1.621 1.543-.06.469a6.4 6.4 0 0 0 0 1.594l.06.469-1.621 1.543 1.449 2.508 2.148-.633.379.289a6.16 6.16 0 0 0 1.375.797l.438.184.523 2.172h2.898l.523-2.172.438-.184a6.16 6.16 0 0 0 1.375-.797l.379-.289 2.149.633 1.449-2.508-1.621-1.543.059-.469a5.99 5.99 0 0 0 .051-.797 5.99 5.99 0 0 0-.051-.797l-.059-.469 1.621-1.543-1.449-2.508-2.149.633-.379-.289c-.418-.32-.879-.59-1.375-.797l-.437-.184-.523-2.172H8.187l-.523 2.172z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 20 20"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Uo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Fo,C,{}),c.default(n)}return i}(ut);function No(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M23.555 0H3.445C1.545 0 0 1.482 0 3.304v2.768c0 .594.504 1.071 1.125 1.071S2.25 6.665 2.25 6.071V3.304c0-.64.536-1.161 1.195-1.161h20.109c.661 0 1.195.521 1.195 1.161v13.393c0 .64-.536 1.161-1.195 1.161h-8.93c-.621 0-1.125.48-1.125 1.072S14.006 20 14.625 20h8.93C25.453 20 27 18.518 27 16.696V3.304C27 1.482 25.453 0 23.555 0zM1.5 17.143c-.828 0-1.5.64-1.5 1.428S.672 20 1.5 20 3 19.36 3 18.571s-.672-1.428-1.5-1.428zm-.375-4.286c-.621 0-1.125.482-1.125 1.071S.504 15 1.125 15C3.4 15 5.25 16.762 5.25 18.929c0 .594.506 1.071 1.125 1.071S7.5 19.522 7.5 18.929c0-3.348-2.859-6.071-6.375-6.071zm0-4.286C.504 8.571 0 9.054 0 9.643s.504 1.071 1.125 1.071c4.758 0 8.625 3.684 8.625 8.214 0 .594.506 1.071 1.125 1.071S12 19.522 12 18.929c0-5.71-4.88-10.357-10.875-10.357z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 27 20"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Wo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,No,C,{}),c.default(n)}return i}(ut);function Qo(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M23.555 0H3.445C1.545 0 0 1.482 0 3.304v2.768c0 .594.504 1.071 1.125 1.071S2.25 6.665 2.25 6.071V3.304c0-.64.536-1.161 1.195-1.161h20.109c.661 0 1.195.521 1.195 1.161v13.393c0 .64-.536 1.161-1.195 1.161h-8.93c-.621 0-1.125.48-1.125 1.072S14.006 20 14.625 20h8.93C25.453 20 27 18.518 27 16.696V3.304C27 1.482 25.453 0 23.555 0zM1.5 17.143c-.828 0-1.5.64-1.5 1.428S.672 20 1.5 20 3 19.36 3 18.571s-.672-1.428-1.5-1.428zm-.375-4.286c-.621 0-1.125.482-1.125 1.071S.504 15 1.125 15C3.4 15 5.25 16.762 5.25 18.929c0 .594.506 1.071 1.125 1.071S7.5 19.522 7.5 18.929c0-3.348-2.859-6.071-6.375-6.071zm0-4.286C.504 8.571 0 9.054 0 9.643s.504 1.071 1.125 1.071c4.758 0 8.625 3.684 8.625 8.214 0 .594.506 1.071 1.125 1.071S12 19.522 12 18.929c0-5.71-4.88-10.357-10.875-10.357zM5 4a1 1 0 0 0-1 1v1.83c2.127.277 4.327 1.248 6.276 2.768 2.038 1.65 3.282 3.988 3.746 6.402H22a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5z"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 27 20"),oe(t,"fill","#fff")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Jo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Qo,C,{}),c.default(n)}return i}(ut);function Ko(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M22.5 2.142h-18c-1.242 0-2.25.96-2.25 2.142v8.57c0 1.183 1.008 2.142 2.25 2.142h2.508l-1.627 1.549c-.187.178-.347.379-.478.594H4.5c-2.484 0-4.5-1.919-4.5-4.285v-8.57C0 1.919 2.016 0 4.5 0h18C24.984 0 27 1.919 27 4.285v8.57c0 2.365-2.016 4.285-4.5 4.285h-.403a3.07 3.07 0 0 0-.478-.594l-1.627-1.549H22.5c1.242 0 2.25-.96 2.25-2.142v-8.57c0-1.183-1.008-2.142-2.25-2.142zm-7.941 9.703l6 5.713c.431.411.558 1.022.323 1.558s-.778.884-1.387.884H7.5c-.605 0-1.153-.348-1.388-.884a1.38 1.38 0 0 1 .323-1.558l6-5.713a1.56 1.56 0 0 1 2.124 0z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 27 20"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Yo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Ko,C,{}),c.default(n)}return i}(ut);function Go(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M22.5 2.142h-18c-1.242 0-2.25.96-2.25 2.142v8.57c0 1.183 1.008 2.142 2.25 2.142h2.508l-1.627 1.549a2.91 2.91 0 0 0-.478.594H4.5c-2.484 0-4.5-1.919-4.5-4.285v-8.57C0 1.919 2.016 0 4.5 0h18C24.984 0 27 1.919 27 4.285v8.57c0 2.365-2.016 4.285-4.5 4.285h-.403a3.07 3.07 0 0 0-.478-.594l-1.627-1.549H22.5c1.242 0 2.25-.96 2.25-2.142v-8.57c0-1.183-1.008-2.142-2.25-2.142zm-7.941 9.703l6 5.713c.431.411.558 1.022.323 1.558s-.778.884-1.387.884H7.5c-.605 0-1.153-.348-1.388-.884a1.38 1.38 0 0 1 .323-1.558l6-5.713a1.56 1.56 0 0 1 2.124 0zM5 5.5a1 1 0 0 1 1-1h15a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-2.116a1 1 0 0 1-.669-.257l-4.046-3.641a1 1 0 0 0-1.338 0l-4.046 3.641a1 1 0 0 1-.669.257H6a1 1 0 0 1-1-1v-6z"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 27 20"),oe(t,"fill","#fff")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Xo=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Go,C,{}),c.default(n)}return i}(ut);function Zo(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M2 1a1 1 0 1 0-2 0v5.109a2 2 0 0 0 2 2h4.959a1 1 0 1 0 0-2H3.392a7.68 7.68 0 0 1 8.483-3.319 7.68 7.68 0 0 1 5.693 7.42 7.68 7.68 0 0 1-5.693 7.419 7.68 7.68 0 0 1-8.64-3.579 1 1 0 1 0-1.732 1 9.68 9.68 0 0 0 10.89 4.511 9.68 9.68 0 0 0 7.176-9.351A9.68 9.68 0 0 0 12.393.858 9.68 9.68 0 0 0 2 4.595V1z"),oe(i,"fill",e[0]),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 20 20"),oe(t,"fill","none"),oe(t,"data-cy","reload-svg")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,t){1&l.default(t,1)[0]&&oe(i,"fill",e[0])},i:v,o:v,d:function(e){e&&K(t)}}}function es(e,t,i){var n=t.color,a=void 0===n?"#fff":n;return e.$$set=function(e){"color"in e&&i(0,a=e.color)},[a]}var ts=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,es,Zo,C,{color:0}),c.default(n)}return i}(ut);function is(e){U(e,"svelte-1wlsnz5","input.svelte-1wlsnz5{width:100%;--track-height:calc(var(--font-size) * 0.2);--thumb-size:calc(var(--font-size) * 0.7);pointer-events:all;background-color:transparent;border-radius:var(--track-height);height:calc(3 * var(--track-height));outline:none;-webkit-appearance:none;cursor:pointer}input.svelte-1wlsnz5:focus{outline:none}input.svelte-1wlsnz5::-webkit-slider-runnable-track{background:var(--bg);border:0;border-radius:var(--track-height);width:100%;height:var(--track-height);cursor:pointer}input.svelte-1wlsnz5::-webkit-slider-thumb{margin-top:calc(var(--thumb-size) * -0.333);width:var(--thumb-size);height:var(--thumb-size);background:#ffffff;border:0;border-radius:var(--thumb-size);cursor:pointer;-webkit-appearance:none}input.svelte-1wlsnz5::-moz-range-track{background:var(--bg);border:0;width:100%;height:var(--track-height);cursor:pointer}input.svelte-1wlsnz5::-moz-range-thumb{width:var(--thumb-size);height:var(--thumb-size);background:#ffffff;border:0;border-radius:var(--thumb-size);cursor:pointer}")}function ns(e){var t,i,n;return{c:function(){oe(t=G("input"),"type","range"),oe(t,"aria-label",e[4]("Volume input")),oe(t,"class","range-slider svelte-1wlsnz5"),oe(t,"min",e[6]),oe(t,"max",e[7]),oe(t,"step",e[8]),ue(t,"--bg","linear-gradient(to right, var(--accent-color) 0%, var(--accent-color) "+e[1]+"%, #fff "+e[1]+"%, white 100%)")},m:function(a,o){J(a,t,o),de(t,e[3]),i||(n=[ie(t,"change",e[14]),ie(t,"input",e[14]),ie(t,"input",e[10]),ie(t,"focus",e[15]),ie(t,"blur",e[16]),ie(t,"mousemove",e[17]),ie(t,"mouseleave",e[18]),ie(t,"mousedown",ae(e[11])),ie(t,"pointerdown",ae(e[12])),ie(t,"touchstart",ae(e[13])),ie(t,"keydown",e[19])],i=!0)},p:function(e,i){var n=l.default(i,1)[0];8&n&&de(t,e[3]),2&n&&ue(t,"--bg","linear-gradient(to right, var(--accent-color) 0%, var(--accent-color) "+e[1]+"%, #fff "+e[1]+"%, white 100%)")},i:v,o:v,d:function(e){e&&K(t),i=!1t?void 0:t.composedPath();null!=n&&n.length&&(i=n[n.length-1]),!f&&(!t||"#document-fragment"===(null==i?void 0:i.nodeName))&&h("setActive",e)},o=v,s=function(){return o(),o=P(c,(function(e){return i(3,n=e)})),c};e.$$.on_destroy.push((function(){return o()}));var l=Ae(Ht),r=l.translate,d=l.setUserActive,u=t.valueStore,c=void 0===u?ht(0):u;s();var h=Pe(),p=0,_=0,m=1,f=!1;Ce((function(){null==c||c.subscribe((function(){i(1,p=100*((n-_)/m-_))}))}));return e.$$set=function(e){"valueStore"in (t){Ie.call(this,e,t)},function(t){Ie.call(this,e,t)},funcIe.call(this,e,t)},function(){n=se(this.value),c.set(n)},function(e){return a(!0,e)},function(){return a(!1,null)},function(){return i(2,f=!0)},function(){return i(2,f=!1)},function(e){e.stopPropagation(),d(!0)}]}var os=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,as,ns,C,{valueStore:0},is),c.default(n)}return i}(ut);function ss(e){U(e,"svelte-i8j12m",".container.svelte-i8j12m .bb-slider-element.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{height:var(--height-progress-bar);border-radius:6px}.container.mounted.svelte-i8j12m .bb-slider-element.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{width:100%;margin-left:6px}.container.mounted.size-L.svelte-i8j12m .bb-slider-element.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{margin-left:1em}.container.mounted.size-L.svelte-i8j12m:not(.full-height) .bb-slider-element.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{margin-right:0.75em}.container.mounted.svelte-i8j12m .bar.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{background-color:rgba(0, 0, 0, 0.6);padding-right:6px}.container.full-height.svelte-i8j12m .bar.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{margin-top:0;height:100%;background-color:#444;padding-right:12px}.container.svelte-i8j12m .time-display.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{font-weight:500;flex-shrink:0;font-size:0.9em;z-index:0;display:flex}.container.svelte-i8j12m .time-display .current-time.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{display:inline-block;width:4.6ch}.container.svelte-i8j12m .time-display.hour-duration .current-time.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{width:6.3ch;text-align:right}.container.svelte-i8j12m .dot.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{height:0.25em;width:0.25em;border-radius:50%;background-color:white;flex-shrink:0;margin-left:0.6em}.container.svelte-i8j12m .bar.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{margin-top:calc(var(--margin-size) / 2);display:flex;gap:0.5em;align-items:center;min-height:var(--bar-button-size)}@supports (-webkit-touch-callout: none) and (not (translate: none)){.container.svelte-i8j12m .bar.svelte-i8j12m>.svelte-i8j12m+.svelte-i8j12m{margin-left:0.5em}}.container.svelte-i8j12m .bar.no-gap.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{gap:0}@supports (-webkit-touch-callout: none) and (not (translate: none)){.container.svelte-i8j12m .bar.no-gap.svelte-i8j12m>.svelte-i8j12m+.svelte-i8j12m{margin-left:0}}.container.svelte-i8j12m .bar.svelte-i8j12m>.svelte-i8j12m.svelte-i8j12m{display:flex;flex-direction:column;justify-content:center}.container.svelte-i8j12m .bar .spacer.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{flex-grow:1}.container.svelte-i8j12m .bar .chapter-button-text.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{max-width:40%;overflow:hidden;padding:2px}.container.svelte-i8j12m .bar .chapter-title.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{display:flex;flex-wrap:nowrap;align-items:center;padding:0.6em;padding-left:0.2em}.container.svelte-i8j12m .bar .chapter-title .text.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.9em;padding-left:0.5em}.container.svelte-i8j12m .bar .chapter-title .caret.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{height:1em;width:0.5em;flex-shrink:0;margin-top:1px;padding-left:0.5em;padding-right:0.3em}.container.svelte-i8j12m .bar-button.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{width:var(--bar-button-size);height:var(--bar-button-size);line-height:min(var(--font-size), 25px)}.container.svelte-i8j12m .volume-slider.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{outline-color:var(--aria-focus-color)}.container.svelte-i8j12m .live-indicator.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{display:flex;flex-direction:row;align-items:center;gap:0.3em;font-weight:bold;padding:0.6em;height:1em;min-width:unset}@supports (-webkit-touch-callout: none) and (not (translate: none)){.container.svelte-i8j12m .live-indicator.svelte-i8j12m>.svelte-i8j12m+.svelte-i8j12m{margin-left:0.3em}}.container.svelte-i8j12m .live-indicator .live-dot.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{flex-shrink:0;height:0.4em;width:0.4em;border-radius:50%;background-color:#ccc}.container.svelte-i8j12m .live-indicator .live-dot.is-live.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{background-color:#ff3e3e}.container.svelte-i8j12m .button-slider-container.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{height:100%;display:flex;gap:5px;flex-direction:row;align-items:center;pointer-events:all}@supports (-webkit-touch-callout: none) and (not (translate: none)){.container.svelte-i8j12m .button-slider-container.svelte-i8j12m>.svelte-i8j12m+.svelte-i8j12m{margin-left:5px}}.container.svelte-i8j12m .button-slider-container .slider-horizontal.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{transition:width 0.2s ease-in-out 0.15s, min-width 0.2s ease-in-out 0.15s, opacity 0.2s ease-in-out 0.15s;width:0;min-width:0;overflow:hidden;display:flex;align-items:center;opacity:0}.container.svelte-i8j12m .button-slider-container:hover .slider-horizontal.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m,.container.svelte-i8j12m .button-slider-container.display .slider-horizontal.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{width:3em;min-width:60px;opacity:1}.container.full-height.svelte-i8j12m .cast-button.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m,.container.full-height.svelte-i8j12m .chapter-button.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m,.container.full-height.svelte-i8j12m .chapter-button-text.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m,.container.full-height.svelte-i8j12m .subtitle-button.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m,.container.full-height.svelte-i8j12m .settings-button.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m,.container.full-height.svelte-i8j12m .fullscreen-button.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m,.container.full-height.svelte-i8j12m .share-button.svelte-i8j12m.svelte-i8j12m.svelte-i8j12m{display:none}")}function ls(e){var t,i,n,a,o,s=function(t){e[89](t)},l={accentColor:e[16],min:e[17]<0?e[17]:0,max:e[17]<0?0:e[17]};return void 0!==e[15]&&(l.value=e[15]),i=new la({props:l}),De.push((function(){return at(i,"value",s)})),i.$on("input",e[82]),{c:function(){var n,o,s,l;t=G("div"),ot(i.$$.fragment),oe(t,"class","bb-slider-element svelte-i8j12m"),oe(t,"style",a=e[0]("controlBar||progressBar")),he(t,"disabled",(null==(o=null==(n=e[14])?void 0:n.controlBar)?void 0:o.disabled)||(null==(l=null==(s=e[14])?void 0:s.progressBar)?void 0:l.disabled))},m:function(e,n){J(e,t,n),st(i,t,null),o=!0},p:function(e,s){var l,r,d,u,c={};65536&s[0]&&(c.accentColor=e[16]),131072&s[0]&&(c.min=e[17]<0?e[17]:0),131072&s[0]&&(c.max=e[17]<0?0:e[17]),!n&&32768&s[0]&&(n=!0,c.value=e[15],Oe((function(){return n=!1}))),i.$set(c),(!o||1&s[0]&&a!==(a=e[0]("controlBar||progressBar")))&&oe(t,"style",a),(!o||16384&s[0])&&he(t,"disabled",(null==(r=null==(l=e[14])?void 0:l.controlBar)?void 0:r.disabled)||(null==(u=null==(d=e[14])?void 0:d.progressBar)?void 0:u.disabled))},i:function(e){o||(Ge(i.$$.fragment,e),o=!0)},o:function(e){Xe(i.$$.fragment,e),o=!1},d:function(e){e&&K(t),lt(i)}}}function rs(e){var t,i,n,a,o,s,l;return n=new ts({props:{color:e[10]}}),s=new Pn({props:{color:e[10]}}),{c:function(){t=G("div"),i=G("div"),ot(n.$$.fragment),a=ee(),o=G("div"),ot(s.$$.fragment),ue(i,"display","POST"===e[19]||"EXIT"===e[19]?"block":"none"),ue(o,"display","POST"===e[19]||"EXIT"===e[19]?"none":"block"),oe(t,"slot","normal")},m:function(e,r){J(e,t,r),F(t,i),st(n,i,null),F(t,a),F(t,o),st(s,o,null),l=!0},p:function(e,t){var a={};1024&t[0]&&(a.color=e[10]),n.$set(a),524288&t[0]&&ue(i,"display","POST"===e[19]||"EXIT"===e[19]?"block":"none");var l={};1024&t[0]&&(l.color=e[10]),s.$set(l),524288&t[0]&&ue(o,"display","POST"===e[19]||"EXIT"===e[19]?"none":"block")},i:function(e){l||(Ge(n.$$.fragment,e),Ge(s.$$.fragment,e),l=!0)},o:function(e){Xe(n.$$.fragment,e),Xe(s.$$.fragment,e),l=!1},d:function(e){e&&K(t),lt(n),lt(s)}}}function ds(e){var t,i,n;return i=new In({props:{color:e[10]}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","toggled")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:function(e,t){var n={};1024&t[0]&&(n.color=e[10]),i.$set(n)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function us(e){var t,i,n;return i=new En({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function cs(e){var t,i,n;return i=new Ln({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","toggled")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function hs(e){var t,i,n,a,o;return(n=new os({props:{valueStore:e[42]}})).$on("input",e[83]),n.$on("setActive",e[90]),{c:function(){t=G("div"),i=G("div"),ot(n.$$.fragment),oe(i,"class","slider-horizontal svelte-i8j12m"),oe(t,"class","volume-slider svelte-i8j12m"),oe(t,"style",a=e[0]("volumeSliderHorizontal")),ue(t,"outline-style",e[8]?"auto":"unset")},m:function(e,a){J(e,t,a),F(t,i),st(n,i,null),o=!0},p:function(e,i){(!o||1&i[0]&&a!==(a=e[0]("volumeSliderHorizontal")))&&oe(t,"style",a);var n=1&i[0];(257&i[0]||n)&&ue(t,"outline-style",e[8]?"auto":"unset")},i:function(e){o||(Ge(n.$$.fragment,e),o=!0)},o:function(e){Xe(n.$$.fragment,e),o=!1},d:function(e){e&&K(t),lt(n)}}}function ps(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m,f=Mt(e[15]<=e[17]?e[15]:e[17])+"",v=Mt(e[17]-e[15])+"",g=Mt(e[17])+"";return{c:function(){t=G("div"),i=G("span"),n=G("span"),a=Z(f),s=ee(),l=G("span"),r=Z(v),u=ee(),c=G("span"),h=Z("/ "),p=Z(g),oe(n,"class","current-time svelte-i8j12m"),oe(n,"data-cy","current-time"),oe(n,"style",o=e[0]("currentTime")),oe(l,"class","cuoe(t,"class","time-display svelte-i8j12m"),oe(t,"style",m=e[0]("timeDisplay")),he(t,"hour-duration",e[17]/60/60>1)},m:function(e,o){J(e,t,o),F(t,i),F(i,n),F(n,a),F(i,s),F(i,l),F(l,r),F(i,u),F(i,c),F(c,h),F(c,p)},p:function(e,i){163840&i[0]&&f!==(f=Mt(e[15]<=e[17]?e[15]:e[17])+"")&&re(a,f),1&i[0]&&o!==(o=e[0]("currentTime"))&&oe(n,"style",o),163840&i[0]&&v!==(v=Mt(e[17]-e[15])+"")&&re(r,v),1&i[0]&&d!==(d=e[0]("remaining"))&&oe(l,"style",d),131072&i[0]&&g!==(g=Mt(e[17])+"")&&re(p,g),1&i[0]&&_!==(_=e[0]("duration"))&&oe(c,"style",_),1&i[0]&&m!==(m=e[0]("timeDisplay"))&&oe(t,"style",m),131072&i[0]&&he(t,"hour-duration",e[17]/60/60>1)},d:function(e){e&&K(t)}}}function _s(e){var t,i;return{c:function(){oe(t=G("div"),"class","dot svelte-i8j12m"),oe(t,"style",i=e[0]("timeDisplay"))},m:function(e,i){J(e,t,i)},p:function(e,n){1&n[0]&&i!==(i=e[0]("timeDisplay"))&&oe(t,"style",i)},d:function(e){e&&K(t)}}}function ms(e){var t,i,n,a,o,s=function(t){e[91](t)},l={hitHeight:.75*e[23],accentColor:e[16],min:e[17]<0?e[17]:0,max:e[17]<0?0:e[17]};return void 0!==e[15]&&(l.value=e[15]),i=new la({props:l}),De.push((function(){return at(i,"value",s)})),i.$on("input",e[82]),{c:function(){var n,o,s,l;t=G("div"),ot(i.$$.fragment),oe(t,"class","bb-slider-element mounted svelte-i8j12m"),oe(t,"style",a=e[0]("progressBar")),he(t,"disabled",(null==(o=null==(n=e[14])?void 0:n.controlBar)?void 0:o.disabled)||(null==(l=null==(s=e[14])?void 0:s.progressBar)?void 0:l.disabled))},m:function(e,n){J(e,t,n),st(i,t,null),o=!0},p:function(e,s){var l,r,d,u,c={};8388608&s[0]&&(c.hitHeight=.75*e[23]),65536&s[0]&&(c.accentColor=e[16]),131072&s[0]&&(c.min=e[17]<0?e[17]:0),131072&s[0]&&(c.max=e[17]<0?0:e[17]),!n&&32768&s[0]&&(n=!0,c.value=e[15],Oe((function(){return n=!1}))),i.$set(c),(!o||1&s[0]&&a!==(a=e[0]("progressBar")))&&oe(t,"style",a),(!o||16384&s[0])&&he(t,"disabled",(null==(r=null==(l=e[14])?void 0:l.controlBar)?void 0:r.disabled)||(null==(u=null==(d=e[14])?void 0:d.progressBar)?void 0:u.disabled))},i:function(e){o||(Ge(i.$$.fragment,e),o=!0)},o:function(e){Xe(i.$$.fragment,e),o=!1},d:function(e){e&&K(t),lt(i)}}}function fs(e){var t,i,n,a,o;return i=new ci({props:{isSquare:e[7],buttonPosition:"relative",iconHeight:.8*e[21],name:"goToLive",bgBorderRadius:1.33*e[21]+"px",hideToolTip:e[28],tooltipOffsetY:e[7]?"-2.5em":"-4em",disabledClick:e[28],$$slots:{normal:[vs]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","svelte-i8j12m")},m:function(s,l){J(s,t,l),st(i,t,null),n=!0,a||(o=ie(t,"click",e[79]),a=!0)},p:function(e,t){var n={};128&t[0]&&(n.isSquare=e[7]),2097152&t[0]&&(n.iconHeight=.8*e[21]),2097152&t[0]&&(n.bgBorderRadius=1.33*e[21]+"px"),268435456&t[0]&&(n.hideToolTip=e[28]),128&t[0]&&(n.tooltipOffsetY=e[7]?"-2.5em":"-4em"),268435456&t[0]&&(n.disabledClick=e[28]),268435456&t[0]|32768&t[3]&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i),a=!1,o()}}}function vs(e){var t,i,n,a;return{c:function(){t=G("div"),i=G("div"),n=ee(),(a=G("div")).textContent="".concat(e[39]("live").toUpperCaseive",e[28]),oe(a,"class","svelte-i8j12m"),oe(t,"slot","normal"),oe(t,"class","live-indicator svelte-i8j12m")},m:function(e,o){J(e,t,o),F(t,i),F(t,n),F(t,a)},p:function(e,t){268435456&t[0]&&he(i,"is-live",e[28])},d:function(e){e&&K(t)}}}function gs(e){var t,i,n,a,o;return i=new ci({props:{isSquare:!0,iconHeight:e[21],name:"shareButton",hideToolTip:e[1]||e[2],bgSize:e[23]+"px",tooltipOffsetY:e[7]?"-2.5em":"-4em",$$slots:{normal:[ys]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","playback-speed-button bar-button svelte-i8j12m")},m:function(s,l){J(s,t,l),st(i,t,null),n=!0,a||(o=ie(t,"click",ae(e[92])),a=!0)},p:function(e,t){var n={};2097152&t[0]&&(n.iconHeight=e[21]),6&t[0]&&(n.hideToolTip=e[1]||e[2]),8388608&t[0]&&(n.bgSize=e[23]+"px"),128&t[0]&&(n.tooltipOffsetY=e[7]?"-2.5em":"-4em"),536870912&t[e){n||(Ge(i.$$.fragment,e),n=!0)},o:functie){e&&K(t),lt(i),a=!1,o()}}}function ys(e){var t,i,n;return{c:function(){t=G("div"),i=Z(e[29]),n=Z("x"),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),F(t,i),F(t,n)},p:function(e,t){536870912&t[0]&&re(i,e[29])},d:function(e){e&&K(t)}}}function bs(e){var t,i,n,a,o,s;return i=new ci({props:{buttonPosition:"relative",name:"chapterButton",hideToolTip:!0,bgBorderRadius:1.33*e[21]+"px",iconHeight:.8*e[21],ariaLabel:"chapterButton",$$slots:{normal:[ws]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","chapter-button-text button-content svelte-i8j12m"),oe(t,"data-cy","chapter-button-text"),oe(t,"style",n=e[0]("chapterButton")),ue(t,"--icon-height",Math.round(e[30]/1.667)+"px")},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",ae(e[93])),o=!0)},p:function(e,o){var s={};2097152&o[0]&&(s.bgBorderRadius=1.33*e[21]+"px"),2097152&o[0]&&(s.iconHeight=.8*e[21]),67108864&o[0]|32768&o[3]&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||1&o[0]&&n!==(n=e[0]("chapterButton")))&&oe(t,"style",n);var l=1&o[0];(1073741825&o[0]||l)&&ue(t,"--icon-height",Math.round(e[30]/1.667)+"px")},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function ws(e){var t,i,n,a,o,s,l,r,d=(null==(t=e[26])?void 0:t.title)+"";return l=new ki({}),{c:func),oe(n,"class","text svelte-i8j12m"),oe(s,"class","caret svelte-i8j12m"),oe(i,"slot","normal"),oe(i,"class","chapter-title svelte-i8j12m")},m:function(e,t){J(e,i,t),F(i,n),F(n,a),F(i,o),F(i,s),st(l,s,null),r=!0},)},o:function(e){Xe(l.$$.fragment,e),r=!1},d:function(e){e&&K(i),lt(l)}}}function ks(e){var t;return{c:function(){oe(t=G("div"),"class","spacer svelte-i8j12m")},m:function(e,i){J(e,t,i)},d:function(e){e&&K(t)}}}function $s(e){var t,i,n,a,o,s;return i=new ci({props:{isSquare:e[7],iconHeight:e[21],name:"shareButton",hideToolTip:e[1]||e[2],bgSize:e[23]+"px",tooltipOffsetY:e[7]?"-2.5em":"-4em",$$slots:{normal:[Cs]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","share-button bar-button svelte-i8j12m"),oe(t,"style",n=e[0]("shareButton"))},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",ae(e[94])),o=!0)},p:function(e,o){var s={};128&o[0]&&(s.isSquare=e[7]),2097152&o[0]&&(s.iconHeight=e[21]),6&o[0]&&(s.hideToolTip=e[1]||e[2]),8388608&o[0]&&(s.bgSize=e[23]+"px"),128&o[0]&&(s.tooltipOffsetY=e[7]?"-2.5em":"-4em"),32768&o[3]&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||1&o[0]&&n!==(n=e[0]("shareButton")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function Cs(e){var t,i,n;return i=new Ut({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Ss(e){var t,i,n,a,o,s;return i=new ci({props:{isSquare:e[7],iconHeight:e[21],name:"chapterButton",hideToolTip:e[1]||e[2],bgSize:e[23]+"px",tooltipOffsetY:e[7]?"-2.5em":"-4em",$$slots:{normal:[Ps]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","chapter-button bar-button svelte-i8j12m"),oe(t,"data-cy","chapter-button"),oe(t,"style",n=e[0]("chapterButton"))},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",ae(e[95])),o=!0)},p:function(e,o){var s={};128&o[0]&&(s.isSquare=e[7]),2097152&o[0]&&(s.iconHeight=e[21]),6&o[0]&&(s.hideToolTip=e[1]||e[2]),8388608&o[0]&&(s.bgSize=e[23]+"px"),128&o[0]&&(s.tooltipOffsetY=e[7]?"-2.5em":"-4em"),32768&o[3]&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||1&o[0]&&n!==(n=e[0]("chapterButton")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function Ps(e){var t,i,n;return i=new cn({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function xs(e){var t,i;return t=new Wo({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function As(e){var t,i;return t=new Yo({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Is(e){var t,i,n,a,o=function(e,t){return"AirPlay"===e[35]?0:1},s=[As,xs],l=[];return i=o(e),n=l[i]=s[i](e),{c:function(){t=G("div"),n.c(),oe(t,"slot","normal")},m:function(e,n){J(e,t,n),l[i].m(t,null),a=!0},p:function(e,a){var r=i;(i=o(e))!==r&&(Ke(),Xe(l[r],1,1,(function(){l[r]=null})),Ye(),(n=l[i])||(n=l[i]=s[i](e)).c(),Ge(n,1),n.m(t,null))},i:function(e){a||(Ge(n),a=!0)},o:function(e){Xe(n),a=!1},d:function(e){e&&K(t),l[i].d()}}}function Ts(e){var t,i;return t=new Jo({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Ds(e){var t,i;return t=new Xo({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Ms(e){var t,i,n,a,o=function(e,t){return"AirPlay"===e[35]?0:1},s=[Ds,Ts],l=[];return i=o(e),n=l[i]=s[i](e),{c:function(){t=G("div"),n.c(),oe(t,"slot","toggled")},m:function(e,n){J(e,t,n),l[i].m(t,null),a=!0},p:function(e,a){var r=i;(i=o(e))!==r&&(Ke(),Xe(l[r],1,1,(function(){l[r]=null})),Ye(),(n=l[i])||(n=l[i]=s[i](e)).c(),Ge(n,1),n.m(t,null))},i:function(e){a||(Ge(n),a=!0)},o:function(e){Xe(n),a=!1},d:function(e){e&&K(t),l[i].d()}}}function Es(e){var t,i,n,a,o,s;return i=new ci({props:{isSquare:e[7],name:"subtitleButton",iconHeight:e[21],toggled:"-1"!==e[37],hideToolTip:e[1]||e[2],bgSize:e[23]+"px",tooltipOffsetY:e[7]?"-2.5em":"-4em",$$slots:{toggled:[Ls],normal:[Bs]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","subtitle-button bar-button svelte-i8j12m"),oe(t,"style",n=e[0]("subtitleButton"))},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",e[81]),o=!0)},p:function(e,o){var s={};128&o[0]&&(s.isSquare=e[7]),2097152&o[0]&&(s.iconHeight=e[21]),64&o[1]&&(s.toggled="-1"!==e[37]),6&o[0]&&(s.hideToolTip=e[1]||e[2]),8388608&o[0]&&(s.bgSize=e[23]+"px"),128&o[0]&&(s.tooltipOffsetY=e[7]?"-2.5em":"-4em"),32768&o[3]&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||1&o[0]&&n!==(n=e[0]("subtitleButton")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function Bs(e){var t,i,n;return i=new dn({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Ls(e){var t,i,n;return i=new Vo({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","toggled")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Rs(e){var t,i,n,a,o,s;return i=new ci({props:{isSquare:e[7],name:"settingsButton",iconHeight:e[21],toggled:e[1],hideToolTip:e[1]||e[2],toggleTransform:"rotate(30deg)",bgSize:e[23]+"px",tooltipOffsetY:e[7]?"-2.5em":"-4em",ariaLabel:"settingsButton",$$slots:{normal:[qs]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","settings-button bar-button asset-pane-wrapper svelte-i8j12m"),oe(t,"style",n=e[0]("settingsButton"))},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",ae(e[96])),o=!0)},p:function(e,o){var s={};128&o[0]&&(s.isSquare=e[7]),2097152&o[0]&&(s.iconHeight=e[21]),2&o[0]&&(s.toggled=e[1]),6&o[0]&&(s.hideToolTip=e[1]||e[2]),8388608&o[0]&&(s.bgSize=e[23]+"px"),128&o[0]&&(s.tooltipOffsetY=e[7]?"-2.5em":"-4em"),32768&o[3]&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||1&o[0]&&n!==(n=e[0]("settingsButton")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function qs(e){var t,i,n;return i=new Uo({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Hs(e){var t,i,n;return i=new jo({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Os(e){var t,i,n;return i=new Ho({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","toggled")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function js(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m,f,v,g,y,b,w,$,C,S,P,x,A,I,T,D,M,E,B,L,R,q,H,O,j,z,V="main"===e[4]&&e[33].length&&e[7]&&!["XS"].includes(e[13])&&!e[6],U=!e[7]&&e[9]&&ls(e);d=new ci({props:{isSquare:e[7],iconHeight:e[21],toggled:e[22],name:["POST","EXIT"].includes(e[19])?"replayButton":"playPauseButton",bgSize:e[23]+"px",bgBorderRadius:e[7]?"0px":"50%",bgColor:e[7]?e[16]:"transparent",tooltipOffsetY:e[7]?"-2.5em":"-4em",$$slots:{toggled:[ds],normal:[rs]},$$scope:{ctx:e}}}),_=new ci({props:{isSquare:e[7],iconHeight:e[21],toggled:e[24]||0===e[12],name:"muteButton",bgSize:e[23]+"px",tooltipOffsetY:e[7]?"-2.5em":"-4em",$$slots:{toggled:[cs],normal:[us]},$$scope:{ctx:e}}});var N=!e[11]&&hs(e),W=e[25]>410&&!e[6]&&e[17]>0&&ps(e),Q=(null==(t=e[26])?void 0:t.title)&&!e[7]&&e[27]&&e[9]&&e[17]>0&&_s(e),Y=("shorts"===e[4]||e[7]&&e[9])&&ms(e),X=e[6]&&fs(e),Z="main"===e[4]&&e[20]&&gs(e),te=(null==(i=e[26])?void 0:i.title)&&!e[7]&&e[27]&&!e[6]&&bs(e),ne=(!e[7]||e[6]&&!e[5]||(null==(n=e[14].progressBar)?void 0:n.hidden))&&ks(),ae="main"===e[4]&&e[32]&&$s(e),se=V&&Ss(e);I=new ci({props:{isSquare:e[7],iconHeight:e[21],toggled:e[40](e[34]),name:"castButton",hideToolTip:e[1]||e[2],bgSize:e[23]+"px",tooltipOffsetY:e[7]?"-2.5em":"-4em",$$slots:{toggled:[Ms],normal:[Is]},$$scope:{ctx:e}}});var le=(null==(a=e[36])?void 0:a.length)&&e[25]>350&&"main"===e[4]&&Es(e),re="main"===e[4]&&Rs(e);return L=new ci({props:{isSquare:e[7],iconHeight:e[21],toggled:e[38],hideToolTip:e[1]||e[2],name:"fullscreenButton",bgSize:e[23]+"px",tooltipOffsetY:e[7]?"-2.5em":"-4em",$$slots:{toggled:[Os],normal:[Hs]},$$scope:{ctx:e}}}),{c:function(){var t,i;o=G("div"),U&&U.c(),s=ee(),l=G("div"),r=G("div"),ot(d.$$.fragment),c=ee(),h=G("div"),p=G("div"),ot(_.$$.fragment),m=ee(),N&&N.c(),v=ee(),W&&W.c(),g=ee(),Q&&Q.c(),y=ee(),Y&&Y.c(),b=ee(),X&&X.c(),w=ee(),Z&&Z.c(),$=ee(),te&&te.c(),C=ee(),ne&&ne.c(),S=ee(),ae&&ae.c(),P=ee(),se&&se.c(),x=ee(),A=G("div"),ot(I.$$.fragment),D=ee(),le&&le.c(),M=ee(),re&&re.c(),E=ee(),B=G("div"),ot(L.$$.fragment),oe(r,"class","play-pause-button bar-button svelte-i8j12m"),oe(r,"style",u=e[0]("playPauseButton")),oe(p,"class","volume-button bar-button svelte-i8j12m"),oe(h,"class","button-slider-container svelte-i8j12m"),oe(h,"style",f=e[0]("muteButton")),he(h,"display",e[8]),oe(A,"class","cast-button bar-button svelte-i8j12m"),oe(A,"style",T=e[0]("castButton")),oe(B,"class","fullscreen-button bar-button svelte-i8j12m"),oe(B,"style",R=e[0]("fullscreenButton")),oe(l,"class","bar svelte-i8j12m"),oe(l,"style",q="INIT"===e[19]||e[20]?"":e[0]("controlBar")),he(l,"no-gap",e[18]),he(l,"disabled",null==(i=null==(t=e[14])?void 0:t.controlBar)?void 0:i.disabled),oe(o,"class",H="container size-"+e[13]+" svelte-i8j12m"),he(o,"mounted",e[7]),he(o,"full-height",e[3])},m:function(t,i){J(t,o,i),U&&U.m(o,null),F(o,s),F(o,l),F(l,r),st(d,r,null),F(l,c),F(l,h),F(h,p),st(_,p,null),F(h,m),N&&N.m(h,null),F(l,v),W&&W.m(l,null),F(l,g),Q&&Q.m(l,null),F(l,y),Y&&Y.m(l,null),F(l,b),X&&X.m(l,null),F(l,w),Z&&Z.m(l,null),F(l,$),te&&te.m(l,null),F(l,C),ne&&ne.m(l,null),F(l,S),ae&&ae.m(l,null),F(l,P),se&&se.m(l,null),F(l,x),F(l,A),st(I,A,null),F(l,D),le&&le.m(l,null),F(l,M),re&&re.m(l,null),F(l,E),F(l,B),st(L,B,null),O=!0,j||(z=[ie(r,"click",e[78]),ie(r,"mouseenter",e[85]),ie(p,"click",e[76]),ie(A,"click",e[80]),ie(B,"click",e[77])],j=!0)},p:function(e,t){var i,n,a,c,p,m;!e[7]&&e[9]?U?(U.p(e,t),640&t[0]&&Ge(U,1)):((U=ls(e)).c(),Ge(U,1),U.m(o,s)):U&&(Ke(),Xe(U,1,1,(function(){U=null})),Ye());var v={};128&t[0]&&(v.isSquare=e[7]),2097152&t[0]&&(v.iconHeight=e[21]),4194304&t[0]&&(v.toggled=e[22]),524288&t[0]&&(v.name=["POST","EXIT"].includes(e[19])?"replayButton":"playPauseButton"),8388608&t[0]&&(v.bgSize=e[23]+"px"),128&t[0]&&(v.bgBorderRadius=e[7]?"0px":"50%"),65664&t[0]&&(v.bgColor=e[7]?e[16]:"transparent"),128&t[0]&&(v.tooltipOffsetY=e[7]?"-2.5em":"-4em"),525312&t[0]|32768&t[3]&&(v.$$scope={dirty:t,ctx:e}),d.$set(v),(!O||1&t[0]&&u!==(u=e[0]("playPauseButton")))&&oe(r,"style",u);var k={};128&t[0]&&(k.isSquare=e[7]),2097152&t[0]&&(k.iconHeight=e[21]),16781312&t[0]&&(k.toggled=e[24]||0===e[12]),8388608&t[0]&&(k.bgSize=e[23]+"px"),128&t[0]&&(k.tooltipOffsetY=e[7]?"-2.5em":"-4em"),32768&t[3]&&(k.$$scope={dirty:t,ctx:e}),_.$set(k),e[11]?N&&(Ke(),Xe(N,1,1,(function(){N=null})),Ye()):N?(N.p(e,t),2048&t[0]&&Ge(N,1)):((N=hs(e)).c(),Ge(N,1),N.m(h,null)),(!O||1&t[0]&&f!==(f=e[0]("muteButton")))&&oe(h,"style",f),(!O||256&t[0])&&he(h,"display",e[8]),e[25]>410&&!e[6]&&e[17]>0?W?W.p(e,t):((W=ps(e)).c(),W.m(l,g)):W&&(W.d(1),W=null),null!=(i=e[26])&&i.title&&!e[7]&&e[27]&&e[9]&&e[17]>0?Q?Q.p(e,t):((Q=_s(e)).c(),Q.m(l,y)):Q&&(Q.d(1),Q=null),"shorts"===e[4]||e[7]&&e[9]?Y?(Y.p(e,t),656&t[0]&&Ge(Y,1)):((Y=ms(e)).c(),Ge(Y,1),Y.m(l,b)):Y&&(Ke(),Xe(Y,1,1,(function(){Y=null})),Ye()),e[6]?X?(X.p(e,t),64&t[0]&&Ge(X,1)):((X=fs(e)).c(),Ge(X,1),X.m(l,w)):X&&(Ke(),Xe(X,1,1,(function(){X=null})),Ye()),"main"===e[4]&&e[20]?Z?(Z.p(e,t),1048592&t[0]&&Ge(Z,1)):((Z=gs(e)).c(),Ge(Z,1),Z.m(l,$)):Z&&(Ke(),Xe(Z,1,1,(function(){Z=null})),Ye()),null!=(n=e[26])&&n.title&&!e[7]&&e[27]&&!e[6]?te?(te.p(e,t),201326784&t[0]&&Ge(te,1)):((te=bs(e)).c(),Ge(te,1),te.m(l,C)):te&&(Ke(),Xe(te,1,1,(function(){te=null})),Ye()),!e[7]||e[6]&&!e[5]||null!=(a=e[14].progressBar)&&a.hidden?ne||((ne=ks()).c(),ne.m(l,S)):ne&&(ne.d(1),ne=null),"main"===e[4]&&e[32]?ae?(ae.p(e,t),16&t[0]|2&t[1]&&Ge(ae,1)):((ae=$s(e)).c(),Ge(ae,1),ae.m(l,P)):ae&&(Ke(),Xe(ae,1,1,(function(){ae=null})),Ye()),8400&t[0]|4&t[1]&&(V="main"===e[4]&&e[33].length&&e[7]&&!["XS"].includes(e[13])&&!e[6]),V?se?(se.p(e,t),8400&t[0]|4&t[1]&&Ge(se,1)):((se=Ss(e)).c(),Ge(se,1),se.m(l,x)):se&&(Ke(),Xe(se,1,1,(function(){se=null})),Ye());var D={};128&t[0]&&(D.isSquare=e[7]),2097152&t[0]&&(D.iconHeight=e[21]),8&t[1]&&(D.toggled=e[40](e[34])),6&t[0]&&(D.hideToolTip=e[1]||e[2]),8388608&t[0]&&(D.bgSize=e[23]+"px"),128&t[0]&&(D.tooltipOffsetY=e[7]?"-2.5em":"-4em"),16&t[1]|32768&t[3]&&(D.$$scope={dirty:t,ctx:e}),I.$set(D),(!O||1&t[0]&&T!==(T=e[0]("castButton")))&&oe(A,"style",T),null!=(c=e[36])&&c.length&&e[25]>350&&"main"===e[4]?le?(le.p(e,t),33554448&t[0]|32&t[1]&&Ge(le,1)):((le=Es(e)).c(),Ge(le,1),le.m(l,M)):le&&(Ke(),Xe(le,1,1,(function(){le=null})),Ye()),"main"===e[4]?re?(re.p(e,t),16&t[0]&&Ge(re,1)):((re=Rs(e)).c(),Ge(re,1),re.m(l,E)):re&&(Ke(),Xe(re,1,1,(function(){re=null})),Ye());var j={};128&t[0]&&(j.isSquare=e[7]),2097152&t[0]&&(j.iconHeight=e[21]),128&t[1]&&(j.toggled=e[38]),6&t[0]&&(j.hideToolTip=e[1]||e[2]),8388608&t[0]&&(j.bgSize=e[23]+"px"),128&t[0]&&(j.tooltipOffsetY=e[7]?"-2.5em":"-4em"),32768&t[3]&&(j.$$scope={dirty:t,ctx:e}),L.$set(j),(!O||1&t[0]&&R!==(R=e[0]("fullscreenButton")))&&oe(B,"style",R),(!O||1572865&t[0]&&q!==(q="INIT"===e[19]||e[20]?"":e[0]("controlBar")))&&oe(l,"style",q),(!O||262144&t[0])&&he(l,"no-gap",e[18]),(!O||16384&t[0])&&he(l,"disabled",null==(m=null==(p=e[14])?void 0:p.controlBar)?void 0:m.disabled),(!O||8192&t[0]&&H!==(H="container size-"+e[13]+" svelte-i8j12m"))&&oe(o,"class",H),(!O||8320&t[0])&&he(o,"mounted",e[7]),(!O||8200&t[0])&&he(o,"full-height",e[3])},i:function(e){O||(Ge(U),Ge(d.$$.fragment,e),Ge(_.$$.fragment,e),Ge(N),Ge(Y),Ge(X),Ge(Z),Ge(te),Ge(ae),Ge(se),Ge(I.$$.fragment,e),Ge(le),Ge(re),Ge(L.$$.fragment,e),O=!0)},o:function(e){Xe(U),Xe(d.$$.fragment,e),Xe(_.$$.fragment,e),Xe(N),Xe(Y),Xe(X),Xe(Z),Xe(te),Xe(ae),Xe(se),Xe(I.$$.fragment,e),Xe(le),Xe(re),Xe(L.$$.fragment,e),O=!1},d:function(e){e&&K(o),U&&U.d(),lt(d),lt(_),N&&N.d(),W&&W.d(),Q&&Q.d(),Y&&Y.d(),X&&X.d(),Z&&Z.d(),te&&te.d(),ne&&ne.d(),ae&&ae.d(),se&&se.d(),lt(I),le&&le.d(),re&&re.d(),lt(L),j=!1,k(z)}}}function zs(e,t,i){var n,a,o,s,l,r,d,u,c,h,p,_,m,f,v,g,y,b,w,k,$,C,S,P,x,I,T,D,M,E,B,L,R,q,H,O,j,z=function(e){i(8,Qe=e)},V=t.iStyle,F=t.configPaneOpen,U=void 0!==F&&F,N=t.mountedChaptersOpen,W=void 0!==N&&N,Q=t.fullHeight,J=void 0!==Q&&Q,K=t.skinMode,Y=void 0===K?"main":K,G=Ae(Ht),X=G.translate,Z=G.seekTo,ee=G.toggleMute,te=G.toggleSubtitles,ie=G.setVolume,ne=G.showCastTargets,ae=G.castingActive,oe=G.playPause,se=G.api,le=G.accentColor,re=G.displayVolume,de=G.started,ue=G.currentTime,ce=G.duration,he=G.playing,pe=G.fullscreen,_e=G.activeSubtitleId,me=G.phase,fe=G.subtitlesList,ve=G.muted,ge=G.playerWidth,ye=G.mountedControlbar,be=G.currentChapter,we=G.mouseOverInterface,ke=G.detections,$e=G.livePlayer,Ce=G.livePlayerWithDvr,Se=G.livePlayerIsLive,xe=G.chapterList,Ie=G.chapterClick,Te=G.foregroundColor,De=G.iconContrastColor,Me=G.elementVisibility,Ee=G.barIconSize,Be=G.barButtonSize,Le=G.bigIconSize,Re=G.skinSize,qe=G.showChapterText,He=G.touchMode,Oe=G.noSizingGapControlBar,je=G.castState,ze=G.slimAudioPlayer,Ve=G.hasTimeline,Fe=G.playRate,Ue=G.castType,Ne=G.play;A(e,le,(function(e){return i(16,v=e)})),A(e,re,(function(e){return i(12,l=e)})),A(e,ue,(function(e){return i(15,f=e)})),A(e,ce,(function(e){return i(17,g=e)})),A(e,he,(function(e){return i(22,$=e)})),A(e,pe,(function(e){return i(38,j=e)})),A(e,_e,(function(e){return i(37,O=e)})),A(e,me,(function(e){return i(19,b=e)})),A(e,fe,(function(e){return i(36,H=e)})),A(e,ve,(function(e){return i(24,S=e)})),A(e,ge,(function(e){return i(25,P=e)})),A(e,ye,(function(e){return i(7,h=e)})),A(e,be,(function(e){return i(26,x=e)})),A(e,ke,(function(e){return i(88,p=e)})),A(e,$e,(function(e){return i(6,d=e)})),A(e,Ce,(function(e){return i(5,r=e)})),A(e,Se,(function(e){return i(28,T=e)})),A(e,xe,(function(e){return i(33,L=e)})),A(e,Ie,(function(e){return i(31,E=e)})),A(e,Te,(function(e){return i(86,u=e)})),A(e,De,(function(e){return i(87,c=e)})),A(e,Me,(function(e){return i(14,m=e)})),A(e,Ee,(function(e){return i(21,k=e)})),A(e,Be,(function(e){return i(23,C=e)})),A(e,Le,(function(e){return i(30,M=e)})),A(e,Re,(function(e){return i(13,_=e)})),A(e,qe,(function(e){return i(27,I=e)})),A(e,He,(function(e){return i(97,s=e)})),A(e,Oe,(function(e){return i(18,y=e)})),A(e,je,(function(e){rion(e){"iStyle"in e&&i(0,V=e.iStyle),"configPaneOpen"in e&&i(1,U=e.configPaneOpen),"mountedChaptersOpen"in e&&i(2,W=e.mountedChaptersOpen),"fullHeight"in e&&i(3,J=e.fullHeight),"skinMode"in e&&i(4,Y=e.skinMode)},e.$$.update=function(){67108864&e.$$.dirty[2]&&i(11,n=null==p?void 0:p.isMobileDevice),128&e.$$.dirty[0]|50331648&e.$$.dirty[2]&&i(10,a=h?c:u),96&e.$$.dirty[0]&&i(9,o=!d||r)},[V,U,W,J,Y,r,d,h,Qe,o,a,n,l,_,m,f,v,g,y,b,w,k,B,L,R,q,H,O,j,X,ae,le,re,ue,ce,he,pe,_e,me,fe,ve,ge,ye,be,ke,$e,Ce,Se,xe,Ie,Te,De,Me,on(){ee()},function(){se.toggleFullscreen()},function(){oe()},function(){Z(0,!0)},function(){ne()},function(){te()},function(e){de||Ne();var t=e.target;Z(+t.vae){s||we.set(!1)},u,c,p,function(e){f=e,ue.set(f)},function(e){return z(e.detail)},function(e){f=e,ue.set(f)},function(){return We("togglePlaybackSpeedPane")},function(){Ie.set(function(e,t,i){return e.set(i),t}(Ie,E++,E)),We("openChapterMenu")},function(){return We("toggleSharePane")},function(){return We("openChapterMenu")},function(){return We("openConfigMenu")}]}var Vs=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,zs,js,C,{iStyle:0,configPaneOpen:1,mountedChaptersOpen:2,fullHeight:3,skinMode:4},ss,[-1,-1,-1,-1]),c.default(n)}return i}(ut);function Fs(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M4.565.244a.78.78 0 0 0-1.132 0L.234 3.576c-.23.239-.297.596-.172.909A.8.8 0 0 0 .802 5h6.397c.322 0 .615-.203.74-.515a.86.86 0 0 0-.172-.909L4.568.244h-.003z"),oe(i,"fill","#FFF"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 8 6"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Us=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Fs,C,{}),c.default(n)}return i}(ut);function Ns(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M.58.128v2.2h.96v-1.08h7.3v1.08h.96v-2.2H.58z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 10 3"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Ws=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Ns,C,{}),c.default(n)}return i}(ut);function Qs(e){U(e,"svelte-9icqtm","label.svelte-9icqtm.svelte-9icqtm.svelte-9icqtm{--switch-width:36px;--switch-height:20px;--handle-size:16px;--spacing:calc((var(--switch-height) - var(--handle-size)) * 0.5);margin:2px}.switch-container.svelte-9icqtm.svelte-9icqtm.svelte-9icqtm{display:flex;align-items:center;cursor:pointer}.switch.svelte-9icqtm.svelte-9icqtm.svelte-9icqtm{position:relative;width:var(--switch-width);height:var(--switch-height);margin-right:10px}.switch-input.svelte-9icqtm.svelte-9icqtm.svelte-9icqtm{opacity:0;width:0;height:0}.switch-label.svelte-9icqtm.svelte-9icqtm.svelte-9icqtm{position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--element-background-color);transition:0.4s;border-radius:var(--switch-height)}.switch-handle.svelte-9icqtm.svelte-9icqtm.svelte-9icqtm{position:absolute;top:var(--spacing);left:var(--spacing);width:var(--handle-size);height:var(--handle-size);background-color:white;transition:0.25s;border-radius:50%;box-shadow:0px 1px 2px rgba(16, 24, 40, 0.06)}.switch-input.svelte-9icqtm:checked+.switch-label.svelte-9icqtm.svelte-9icqtm{background-color:var(--primary-color)}.tabbed.switch-input.svelte-9icqtm:focus+.switch-label.svelte-9icqtm.svelte-9icqtm{outline-color:var(--aria-focus-color);outline-style:auto;outline-width:1px}.switch-input.svelte-9icqtm:checked+.switch-label.svelte-9icqtm+.switch-handle.svelte-9icqtm{transform:translateX(calc(var(--switch-width) - var(--handle-size) - var(--spacing) * 2))}")}function Js(e){var t,i,n,a,o,s,r,d,u,c,h,p,_=e[6].default,m=I(_,e,e[5],null);return{c:function(){t=G("label"),i=G("div"),n=G("input"),a=ee(),o=G("span"),s=ee(),r=G("span"),d=ee(),u=G("span"),m&&m.c(),oe(n,"tabindex","0"),oe(n,"type","checkbox"),oe(n,"role","switch"),oe(n,"aria-checked",e[0]),n.checked=e[0],oe(n,"class","switch-input svelte-9icqtm"),he(n,"tabbed",e[1]),oe(o,"class","switch-label svelte-9icqtm"),oe(r,"class","switch-handle svelte-9icqtm"),oe(i,"class","switch svelte-9icqtm"),oe(u,"class","switch-text"),oe(t,"class","switch-container svelte-9icqtm")},m:function(l,_){J(l,t,_),F(t,i),F(i,n),F(i,a),F(i,o),F(i,s),F(i,r),F(t,d),F(t,u),m&&m.m(u,null),c=!0,h||(p=[ie(n,"click",e[4]),ie(n,"change",e[7]),ie(n,"input",e[2]),ie(n,"keydown",ae(e[8])),ie(n,"keyup",ae(e[3]))],dee(ked=e[0]),(!c||2&i)&&he(n,"tabbed",e[1]),m&&m.p&&(!c||32&i)&&M(m,_,e,e[5],c?D(_,e[5],i,null):E(e[5]),null)},i:function(e){c||(Ge(m,e),c=!0)},o:function(e){Xe(m,e),c=!1},d:function(e){e&&K(t),m&&m.d(e),h=!1,k(p)}}}function Ks(e,t,i){var n=function(e){console.warn("keydown",etTimeout((function(){i(1,r=!0)}),1)},a=t.$$slots,o=void 0===a?{}:a,s=t.$$scope,l=t.valueion(){document.addEventListener("keyup",n)})),Se((function(){document.removeEventListener("keyup",n)})),e.$$set=function(e){"value"in e&&i(0,l=e.value),"$$scope"in e&&i(5,s=e.$$scope)},[l,r,function(){i(0,l=!l)},n,function(){console.log("onClick"),i(1,r=!1)},s,o,function(t){Ie.call(this,e,t)},function(t){Ie.call(this,e,t)}]}var Ys=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Ks,Js,C,{value:0},Qs),c.default(n)}return i}(ut);function Gs(e){U(e,"svelte-kmrksn",".content.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{display:grid;grid-template-columns:auto auto;margin-bottom:1em;transition:opacity 0.25s ease-in-out;grid-gap:1em;gap:1em}@supports (-webkit-touch-callout: none) and (not (translate: none)){.content.svelte-kmrksn>.svelte-kmrksn+.svelte-kmrksn.svelte-kmrksn{margin-left:1em}}.content.disabled.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{opacity:0.33 !important}.content.svelte-kmrksn .option.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{display:flex;gap:9px;align-items:center}@supports (-webkit-touch-callout: none) and (not (translate: none)){.content.svelte-kmrksn .option.svelte-kmrksn>.svelte-kmrksn+.svelte-kmrksn{margin-left:9px}}.content.svelte-kmrksn .option.large.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{margin-right:1em}.content.svelte-kmrksn .option.large .key.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{width:90px}.content.svelte-kmrksn .option.large .key .icon.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{margin:0 auto;width:15px}.content.svelte-kmrksn .key.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{height:10px;width:10px;padding:8px 10px 12px;font-size:12px;font-weight:bold;text-align:center;color:white;border:2px solid white;border-radius:5px}.content.svelte-kmrksn .key .icon.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{width:10px}.content.size-XS.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{grid-template-columns:auto}.content.size-XS.svelte-kmrksn .option.large.svelte-kmrksn.svelte-kmrksn.svelte-kmrksn{margin-right:0}")}function Xs(e,t,i){var n=e.slice();return n[13]=t[i],n}function Zs(e){var t,i,n,a,o,s,l,r=e[13].value&&function(e){var t,i=e[13].value+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:v,d:function(e){e&&K(t)}}}(e),d=e[13].icon&&function(e){var t,i,n,a=e[13].icon;return a&&(i=_e(a,{})),{c:function(){t=G("div"),i&&ot(i.$$.fragment),oe(t,"class","icon svelte-kmrksn"),ue(t,"transform",e[13].iconTransform||"")},m:function(e,a){J(e,t,a),i&&st(i,t,null),n=!0},p:function(e,n){if(a!==(a=e[13].icon)){if(i){Ke();var o=i;Xe(o.$$.fragment,1,0,(function(){lt(o,1)})),Ye()}a?(ot((i=_e(a,{})).$$.fragment),Ge(i.$$.fragment,1),st(i,t,null)):i=null}},i:function(e){n||(i&&Ge(i.$$.fragment,e),n=!0)},o:function(e){i&&Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),i&&lt(i)}}}(e);return{c:function(){t=G("li"),i=G("div"),r&&r.c(),n=ee(),d&&d.c(),a=ee(),(o=G("div")).textContent="".concat(e[4](e[13].label,!0)),s=ee(),oe(i,"class","key svelte-kmrksn"),oe(o,"class","label svelte-kmrksn"),oe(t,"class","option svelte-kmrksn"),he(t,"large",e[13].large)},m:full),F(i,n),d&&d.m(i,null),F(t,a),F(t,o),F(t,s),l=!0},p:function(e,t){e[13].value&&r.p(e,t),e[13].icon&&d.p(e,t)},i:function(e){l||(Ge(d),l=!0)},o:function(e){Xe(d),l=!1},d:function(e){e&&K(t),r&&r.d(),d&&d.d()}}}function el(e){var t;return{c:function(){t=Z("Enable keyboard shortcuts")},m:function(e,i){J(e,t,i)},d:function(e){e&&K(t)}}}function tl(e){for(var t,i,n,a,o,s,l=function(t){e[7](t)},r=nt(e[6]),d=[],u=0;u<r.length;u+=1)d[u]=Zs(Xs(e,r,u));var c=function(e){return Xe(d[e],1,1,(function(){d[e]=null}))},h={$$slots:{default:[el]},$$scope:{ctx:e}};return void 0!==e[0]&&(h.value=e[0]),a=new Ys({props:h}),De.push((function(){return at(a,"value",l)})),{c:function(){t=G("ul");for(var o=0;o<d.length;o+=1)d[o].c();n=ee(),ot(a.$$.fragment),oe(t,"class",i="content size-"+e[2]+" svelte-kmrksn"),he(t,"disabled",!e[0])},m:function(e,i){J(e,t,i);for(var o=0;o<d.length;o+=1)d[o]&&d[o].m(t,null);J(e,n,i),st(a,e,i),s=!0},p:function(e,n){if(80&n){var l;for(r=nt(e[6]),l=0;l<r.length;l+=1){var u=Xs(e,r,l);d[l]?(d[l].p(u,n),Ge(d[l],1)):(d[l]=Zs(u),d[l].c(),Ge(d[l],1),d[l].m(t,null))}for(Ke(),l=r.length;l<d.length;l+=1)c(l);Ye()}(!s||4&n&&i!==(i="content size-"+e[2]+" svelte-kmrksn"))&&oe(t,"class",i),(!s||5&n)&&he(t,"disabled",!e[0]);var h={};65536&n&&(h.$$scope={dirty:n,ctx:e}),!o&&1&n&&(o=!0,h.value=e[0],Oe((function(){return o=!1}))),a.$set(h)},i:function(e){if(!s){for(var t=0;t<r.length;t+=1)Ge(d[t]);Ge(a.$$.fragment,e),s=!0}},o:function(e){d=d.filter(Boolean);for(var t=0;t<d.length;t+=1)Xe(d[t]);Xe(a.$$.fragment,e),s=!1},d:function(e){e&&(K(t),K(n)),Y(d,e),lt(a,e)}}}function il(e){var t,i,n;return(i=new so({props:{header:"Keyboard shortcuts",$$slots:{default:[tl]},$$scope:{ctx:e}}})).$on("close",e[8]),i.$on("backdropClick",e[9]),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","keyboard-pane")},m:function(a,o){J(a,t,o),st(i,t,null),e[10](t),n=!0},p:function(e,t){var n=l.default(t,1)[0],a={};65541&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(n){n&&K(t),lt(i),e[10](null)}}}function nl(e,t,i){var n,a,o=Ae(Ht),s=o.skinSize,l=o.translate,r=o.api,d=o.userDisabledShortcuts;A(e,s,(function(e){return i(2,a=e)})),A(e,d,(function(e){return i(11,n=e)}));var u,c=!n,h=[{label:"tooltip-muteButton",value:"M"},{label:"tooltip-fullscreenButton",value:"F"},{label:"Volume Up",icon:Us},{label:"Volume Down",icon:Us,iconTransform:"rotate(180deg)"},{label:"tooltip-rewindVideo",icon:Us,iconTransform:"rotate(270deg)"},{label:"tooltip-forwardVideo",icon:Us,iconTransform:"rotate(90deg)"},{label:"tooltip-decreasePlaybackRate",value:"<"},{label:"tooltip-increasePlaybackRate",value:">"},{label:"tooltip-playPauseButton",icon:Ws,large:!0},{label:"tooltip-subtitleButton",value:"C"}];return e.$$.update=function(){1&e.$$.dirty&&(c?(d.set(!1),r.updatePlayout({disableKeyboardControls:"false"})):(d.set(!0),r.updatePlayout({disableKeyboardControls:"true"})))},[c,u,a,s,l,d,h,function(e){i(0,c=e)},function(t){Ie.call(this,e,t)},function(t){Ie.call(this,e,t)},function(e){De[e?"unshift":"push"]((function(){i(1,u=e)}))}]}var al=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,nl,il,C,{},Gs),c.default(n)}return i}(ut);function ol(e){U(e,"svelte-8zag6l","@keyframes svelte-8zag6l-fadetext{0%{opacity:0}20%{opacity:1}}@keyframes svelte-8zag6l-fadein{0%{opacity:0;transform:scale(0)}20%{opacity:1}40%{transform:scale(1)}}.center-controls.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{display:flex;align-items:center;gap:var(--gap-size)}@supports (-webkit-touch-callout: none) and (not (translate: none)){.center-controls.svelte-8zag6l>.svelte-8zag6l+.svelte-8zag6l.svelte-8zag6l{margin-left:var(--gap-size)}}.center-controls.svelte-8zag6l .background.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{background-color:rgba(33, 33, 33, 0.5);position:absolute;border-radius:50%;top:0;right:0;bottom:0;left:0}.center-controls.svelte-8zag6l .center-button-container.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{width:var(--size);height:var(--size)}.center-controls.svelte-8zag6l .center-button-container .fade.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{opacity:1;transition:opacity 0.5s ease-in-out;animation:svelte-8zag6l-fadein 0.6s ease-in-out;position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.center-controls.svelte-8zag6l .center-button-container .fade.fade-out.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{opacity:0}.center-controls.svelte-8zag6l .center-button-container .fade.text.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{animation:svelte-8zag6l-fadetext 0.6s ease-in-out}.center-controls.svelte-8zag6l .center-button-container .fade.svelte-8zag6l svg{width:40%;height:40%;z-index:1}.center-controls.svelte-8zag6l .center-button-container .text-feedback.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{position:absolute;top:var(--offset-top);display:flex;justify-content:center}.center-controls.svelte-8zag6l .center-button-container .text-feedback .text-content.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{flex-shrink:0;background-color:rgba(33, 33, 33, 0.5);border-radius:1em;padding:0.5em 0.8em 0.5em 0.5em;display:flex;align-items:center;gap:0.5em;font-size:0.9em}@supports (-webkit-touch-callout: none) and (not (translate: none)){.center-controls.svelte-8zag6l .center-button-container .text-feedback .text-content.svelte-8zag6l>.svelte-8zag6l+.svelte-8zag6l{margin-left:0.5em}}.center-controls.svelte-8zag6l .center-button-container .text-feedback.svelte-8zag6l svg{width:1em;height:1em}.center-controls.svelte-8zag6l .playback.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{padding:1em;display:flex;justify-content:center;align-items:center;gap:0.25em}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.center-controls.svelte-8zag6l .playback.playback-decrease.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{transform:rotate(180deg)}.center-controls.svelte-8zag6l .left-right-spacer-container.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{width:2.4em;height:2.4em}.center-controls.svelte-8zag6l .left-right-button-container.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{width:calc(var(--icon-height) + 2.25em);height:calc(var(--icon-height) + 2.25em)}.center-controls.svelte-8zag6l .left-right-button-container.left .caret.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{transform:rotate(180deg)}.center-controls.svelte-8zag6l .left-right-button-container .left-right-content.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{position:relative;animation:svelte-8zag6l-fadein 0.6s ease-in-out;height:100%;display:flex;flex-direction:column;justify-content:center}.center-controls.svelte-8zag6l .left-right-button-container .left-right-content .caret.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{gap:2px;display:flex;justify-content:center;align-items:center}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.center-controls.svelte-8zag6l .left-right-button-container .left-right-content .caret.svelte-8zag6l svg{width:calc(var(--icon-height) * 0.4);height:calc(var(--icon-height) * 0.4);padding:0.2em 0;display:inline-flex;justify-content:center}.center-controls.svelte-8zag6l .left-right-button-container .left-right-content .time.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{margin-top:0.5em;text-align:center;font-size:0.9em}.center-controls.svelte-8zag6l .left-right-button-container .left-right-content .background.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{top:-0.5em;right:-0.5em;bottom:-0.5em;left:-0.5em}.center-controls.skinsize-XS.svelte-8zag6l .left-right-button-container.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{width:24px;height:24px;margin:12px}.center-controls.skinsize-XS.svelte-8zag6l .left-right-button-container .time.svelte-8zag6l.svelte-8zag6l.svelte-8zag6l{font-size:0.6em}")}function sl(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m=Mt(e[0])+"";return o=new ki({props:{animationDelay:"0s",animationDuration:"0.15s"}}),l=new ki({props:{animationDelay:"0.05s",animationDuration:"0.15s"}}),d=new ki({props:{animationDelay:"0.1s",animationDuration:"0.15s"}}),{c:function(){t=G("div"),i=G("div"),n=ee(),a=G("div"),ot(o.$$.fragment),s=ee(),ot(l.$$.fragment),r=ee(),ot(d.$$.fragment),u=ee(),c=G("div"),h=Z(m),oe(i,"class","background svelte-8zag6l"),oe(a,"class","caret svelte-8zag6l"),oe(c,"class","time svelte-8zag6l"),oe(t,"class","left-right-content svelte-8zag6l")},m:function(e,p){J(e,t,p),F(t,i),F(t,n),F(t,a),st(o,a,null),F(a,s),st(l,a,null),F(a,r),st(d,a,null),F(t,u),F(t,c),F(c,h),_=!0},p:function(e,t){(!_||1&t[0])&&m!==(m=Mt(e[0])+"")&&re(h,m)},i:function(e){_||(Ge(o.$$.fragment,e),Ge(l.$$.fragment,e),Ge(d.$$.fragment,e),p&&p.end(1),_=!0)},ogm&&K(t),lt(o),lt(l),lt(d),e&&p&&p.end()}}}function ll(e){var t,i,n,a=!e[3]&&rl(e),o=e[3]&&fl(e);return{c:function(){a&&a.c(),t=ee(),o&&o.c(),i=te()},m:function(e,s){a&&a.m(e,s),J(e,t,s),o&&o.m(e,s),J(e,i,s),n=!0},p:function(e,n){e[3]?a&&(Ke(),Xe(a,1,1,(function(){a=null})),Ye()):a?(a.p(e,n),8&n[0]&&Ge(a,1)):((a=rl(e)).c(),Ge(a,1),a.m(t):((o=fl(e)).c(),Ge(o,1),o.m(i.parentNode,i)):o&&(Ke(),Xe(o,1,1,(function(){o=null})),Ye())},i:function(e){n||(Ge(a),Ge(o),n=!0)},o:function(e){Xe(a),Xe(o),n=!1},d:function(e){e&&(K(t),K(i)),a&&a.d(e),o&&o.d(e)}}}function rl(e){var t,i,n,a,o,s,l,r,d=function(e,t){return 4&t[0]&&(a=null),4&t[0]&&(o=null),"play"===e[2]?0:"pause"===e[2]?1:(null==a&&(a=!!["Volume Up","Volume Down","Volume On"].includes(e[2])),a?2:"Volume Off"===e[2]?3:"Subtitles on"===e[2]?4:"Subtitles off"===e[2]?5:(null==o&&(o=!!["Decreased playback speed","Increased playback speed"].includes(e[2])),o?6:-1))},u=[ml,_l,pl,hl,cl,ul,dl],c=[];return~(s=d(e,[-1,-1]))&&(l=c[s]=u[s](e)),{c:function(){t=G("div"),i=G("div"),n=ee(),l&&l.c(),oe(i,"class","background svelte-8zag6l"),oe(t,"class","fade svelte-8zag6l"),he(t,"fade-out",e[5])},m:function(e,a){J(e,t,a),F(t,i),F(t,n),~s&&c[s].m(t,null),r=!0},p:function(e,i){var n=s;(s=d(e,i))===n?~s&&c[s].p(e,i):(l&&(Ke(),Xe(c[n],1,1,(function(){c[n]=null})),Ye()),~s?((l=c[s])?l.p(e,i):(l=c[s]=u[s](e)).c(),Ge(l,1),l.m(t,null)):l=null),(!r||32&i[0])&&he(t,"fade-out",e[5])},i:function(e){r||(Ge(l),r=!0)},o:function(e){Xe(l),r=!1},d:function(e){e&&K(t),~s&&c[s].d()}}}function dl(e){var t,i,n,a,o;return i=new Pn({}),a=new Pn({}),{c:function(){t=G("div"),ot(i.$$.fragment),n=ee(),ot(a.$$.fragment),oe(t,"class","playback svelte-8zag6l"),he(t,"playback-decrease","Decreased playback speed"===e[2])},m:function(e,s){J(e,t,s),st(i,t,null),F(t,n),st(a,t,null),o=!0},p:function(e,i){(!o||4&i[0])&&he(t,"playback-decrease","Decreased playback speed"===e[2])},i:function(e){o||(Ge(i.$$.fragment,e),Ge(a.$$.fragment,e),o=!0)},o:function(e){Xe(i.$$.fragment,e),Xe(a.$$.fragment,e),o=!1},d:function(e){e&&K(t),lt(i),lt(a)}}}function ul(e){var t,i;return t=new dn({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function cl(e){var t,i;return t=new Vo({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function hl(e){var t,i;return t=new Ln({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function pl(e){var t,i;return t=new En({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function _l(e){var t,i;return t=new In({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function ml(e){var t,i;return t=new Pn({props:{center:!0}}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function fl(e){var t,i,n,a,o,s,l,r=function(e,t){return 4&t[0]&&(n=null),4&t[0]&&(a=null),null==n&&(n=!!["Volume Up","Volume Down","Volume On"].includes(e[2])),n?0:"Volume Off"===e[2]?1:"Subtitles on"===e[2]?2:"Subtitles off"===e[2]?3:(null==a&&(a=!!["Decreased playback speed","Increased playback speed"].includes(e[2])),a?4:-1)},d=[wl,bl,yl,gl,vl],u=[];return~(o=r(e,[-1,-1]))&&(s=u[o]=d[o](e)),{c:function(){t=G("div"),i=G("div"),s&&s.c(),oe(i,"class","text-feedback svelte-8zag6l"),ue(i,"--offset-top",Math.round((e[11]-52)/4*-1)+"px"),oe(t,"class","fade text svelte-8zag6l"),he(t,"fade-out",e[5])},m:function(e,n){J(e,t,n),F(t,i),~o&&u[o].m(i,null),l=!0},p:function(e,n){var a=o;(o=r(e,n))===a?~o&&u[o].p(e,n):(s&&(Ke(),Xe(u[a],1,1,(function(){u[a]=null})),Ye()),~o?((s=u[o])?s.p(e,n):,null)):s=null),2048&n[0]&&ue(i,"--offset-top",Math.round((e[11]-52)/4*-1)+"px"),(!l||32&n[0])&&he(t,"fade-out",e[5])},i:function(e){l||(Ge(s),l=!0)},o:function(e){Xe(s),l=!1},d:function(e){e&&K(t),~o&&u[o].d()}}}function vl(e){var t,i,n,a,o,s,l,r,d;return n=new Pn({}),o=new Pn({}),{c:function(){t=G("div"),i=G("div"),ot(n.$$.fragment),a=ee(),ot(o.$$.fragment),s=ee(),l=G("span"),r=Z(e[4]),oe(i,"class","playback svelte-8zag6l"),he(i,"playback-decrease","Decreased playback speed"===e[2]),oe(l,"class","svelte-8zag6l"),oe(t,"class","text-content svelte-8zag6l")},m:function(e,u){J(e,t,u),F(t,i),st(n,i,null),F(i,a),st(o,i,null),F(t,s),F(t,l),F(l,r),d=!0},p:function(e,t){(!d||4&t[0])&&he(i,"playback-decrease","Decreased playback speed"===e[2]),(!d||16&t[0])&&re(r,e[4])},i:function(e){d||(Ge(n.$$.fragment,e),Ge(o.$$.fragment,e),d=!0)},o:function(e){Xe(n.$$.fragment,e),Xe(o.$$.fragment,e),d=!1},d:function(e){e&&K(t),lt(n),lt(o)}}}function gl(e){var t,i,n,a,o,s;return i=new dn({}),{c:function(){t=G("div"),ot(i.$$.fragment),n=ee(),a=G("span"),o=Z(e[4]),oe(t,"class","text-content svelte-8zag6l")},m:function(e,l){J(e,t,l),st(i,t,null),F(t,n),F(t,a),F(a,o),s=!0},p:function(e,t){(!s||16&t[0])&&re(o,e[4])},i:function(e){s||(Ge(i.$$.fragment,e),s=!0)},o:function(e){Xe(i.$$.fragment,e),s=!1},d:function(e){e&&K(t),lt(i)}}}function yl(e){var t,i,n,a,o,s;return i=new Vo({}),{c:function(){t=G("div"),ot(i.$$.fragment),n=ee(),a=G("span"),o=Z(e[4]),oe(t,"class","text-content svelte-8zag6l")},m:function(e,l){J(e,t,l),st(i,t,null),F(t,n),F(t,a),F(a,o),s=!0},p:function(e,t){(!s||16&t[0])&&re(o,e[4])},i:function(e){s||(Ge(i.$$.fragment,e),s=!0)},o:function(e){Xe(ition bl(e){var t,i,n,a,o;return i=new Ln({}),{c:function(){t=G("div"),ot(i.$$.fragment),n=G("span"),a=Z(e[4]),oe(t,"class","text-content svelte-8zag6l")},m:function(e,s){J(e,t,s),st(i,t,null),F(t,n),F(n,a),o=!0},p:function(e,t){(!o||16&t[0])&&re(a,e[4])},i:function(e){o||(Ge(i.$$.fragment,e),o=!0)},o:function(e){Xe(i.$$.fragm,i,n,a,o,s;return i=new En({}),{c:function(){t=G("div"),ot(i.$$.fragment),n=ee(),a=G("span"),o=Z(e[4]),oe(t,"class","text-content svelte-8zag6l")},m:function(e,l){J(e,t,l),st(i,t,null),F(t,n),F(t,a),F(a,o),s=!0},p:function(e,t){(!s||16&t[0])&&re(o,e[4])},i:function(e){s||(Ge(i.$$.fragment,e),s=!0)},o:function(e){Xe(i.$$.fragment,e),s=!1},d:function(e){e&&K(t),lt(i)}}}function kl(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m=Mt(e[1])+"";return o=new ki({props:{animationDelay:"0s",animationDuration:"0.15s"}}),l=new ki({props:{animationDelay:"0.05s",animationDuration:"0.15s"}}),d=new ki({props:{animationDelay:"0.1s",animationDuration:"0.15s"}}),{c:function(){t=G("div"),i=G("div"),n=ee(),a=G("div"),ot(o.$$.fragment),s=ee(),ot(l.$$.fragment),r=ee(),ot(d.$$.fragment),u=ee(),c=G("div"),h=Z(m),oe(i,"class","background svelte-8zag6l"),oe(a,"class","caret svelte-8zag6l"),oe(c,"class","time svelte-8zag6l"),oe(t,"class","left-right-content svelte-8zag6l")},m:function(e,p){J(e,t,p),F(t,i),F(t,n),F(t,a),st(o,a,null),F(a,s),st(l,a,null),F(a,r),st(d,a,null),F(t,u),F(t,c),F(c,h),_=!0},p:function(e,t){(!_||2&t[0])&&m!==(m=Mt(e[1])+"")&&re(h,m)},i:function(e){_||(Ge(o.$$.fragment,e),Ge(l.$$.fragment,e),Ge(d.$$.fragment,e),p&&p.end(1),_=!0)},o:function(e){Xe(o.$$.fragment,e),Xe(l.$$.fragment,e),Xe(d.$$.fragment,e),p=tt(t,zt,{}),_=!1},d:function(e){e&&K(t),lt(o),lt(l),lt(d),e&&p&&p.end()}}}function $l(e){var t,i,n,a,o,s,l,r,d,u,c,h,p=e[0]>0&&sl(e),_=e[2]&&ll(e),m=e[1]>0&&kl(e);return{c:function(){t=G("div"),i=G("div"),p&&p.c(),n=ee(),(a=G("div")).innerHTML="",o=ee(),s=G("div"),_&&_.c(),l=ee(),(r=G("div")).innerHTML="",d=ee(),u=G("div"),m&&m.c(),oe(i,"class","left-right-button-container left svelte-8zag6l"),oe(a,"class","left-right-spacer-container svelte-8zag6l"),oe(s,"class","center-button-container svelte-8zag6l"),ue(s,"--size",2*e[9]+e[10]+"px"),oe(r,"class","left-right-spacer-container svelte-8zag6l"),oe(u,"class","left-right-button-container right svelte-8zag6l"),oe(t,"class",c="center-controls skinsize-"+e[6]+" svelte-8zag6l"),ue(t,"--gap-size",e[7]+"px"),ue(t,"--icon-height",Math.round(e[8]/1.667)+"px")},m:function(e,c){J(e,t,c),F(t,i),p&&p.m(i,null),F(t,n),F(t,a),F(t,o),F(t,s),_&&_.m(s,null),F(t,l),F(t,r),F(t,d),F(t,u),m&&m.m(u,null),h=!0},p:function(e,n){e[0]>0?p?(p.p(e,n),1&n[0]&&Ge(p,1)):((p=sl(e)).c(),Ge(p,1),p.m(i,null)):p&&(Ke(),Xe(p,1,1,(function(){p=null})),Ye()),e[2]?_?(_.p(e,n),4&n[0]&&Ge(_,1)):((_=ll(e)).c(),Ge(_,1),_.m(s,null)):_&&(Ke(),Xe(_,1,1,(function(){_=null})),Ye()),1536&n[0]&&ue(s,"--size",2*e[9]+e[10]+"px"),e[1]>0?m?(m.p(e,n),2&n[0]&&Ge(m,1)):((m=kl(e)).c(),Ge(m,1),m.m(u,null)):m&&(Ke(),Xe(m,1,1,(functio"clte-8zag6l"))&&oe(t,"class",c),128&n[0]&&ue(t,"--gap-size",e[7]+"px"),256&n[0]&&ue(t,"--icon-height",Math.round(e[8]/1.667)+"px")},i:function(e){h||(Ge(p),Ge(_),Ge(m),h=!0)},o:function(e){Xe(p),Xe(_),Xe(m),h=!1},d:function(e){e&&K(t),p&&p.d(),_&&_.d(),m&&m.d()}}}function Cl(e,t,i){var n,a,o,s,l,r,d,u,c,h=function(e){clearTimeout(O),clearTimeout(q),i(5,H=!1),e!==R&&j.filter((function(t){return!(t.includes(e)&&t.includes(R))})).length===j.length&&i(2,R=""),setTimeout((function(){T("bigPlayButton")?i(3,x=!1):D()?i(3,x=!0):i(3,x=!1),i(2,R=e),x&&(["Increased playback speed","Decreased playback speed"].includes(R)?i(4,I=m.getPlaybackRate()+"x"):i(4,I=f(R)))}),10),q=setTimeout((function(){i(5,H=!0),O=setTimeout((function(){i(5,H=!1),i(2,R="")}),500)}),1e3)},p=function(e){"left"===e?(clearTimeout(E),i(0,M+=10),E=setTimeout((function(){i(0,M=0),E=0}),500)):(clearTimeout(L),i(1,B+=10),L=setTimeout((function(){i(1,B=0),L=0}),500))},_=Ae(Ht),m=_.api,f=_.translate,v=_.activeSubtitleId,g=_.playerHeight,y=_.playing,b=_.subtitlesList,w=_.keyPressed,k=_.bigIconSize,$=_.skinSize,C=_.gapSize,S=_.centerButtonBgSize,P=_.centerButtonBorderWidth;A(e,v,(function(e){return i(27,n=e)})),A(e,g,(function(e){return i(11,c=e)})),A(e,y,(function(e){return i(29,o=e)})),A(e,b,(function(e){return i(28,a=e)})),A(e,k,(function(e){return i(8,r=e)})),A(e,$,(function(e){return i(6,s=e)})),A(e,C,(function(e){return i(7,l=e)})),A(e,S,(function(e){return i(10,u=e)})),A(e,P,(function(e){return i(9,d=e)}));var x,I,T=t.iStyle,D=t.controlsVisible,M=0,E=0,B=0,L=0,R="",q=0,H=!1,O=0;w.subscribe((function(e){if(e){switch(e){case"space":h(o?"pause":"play");break;case"up":h("Volume Up");break;case"down":h(m.getMuted()?"Volume Off":"Volume Down");break;case"m":h(null!=m&&m.getMuted()?"Volume On":"Volume Off");break;case"c":if(null==a||!a.length)break;h("-1"!==n?"Subtitles off":"Subtitles on");break;case">":h("Increased playback speed");break;case"<":h("Decreased playback speed");break;case"left":p("left");break;case"right":p("right")}w.set("")}}));var j=[["Volume On","Volume Off"],["Volume Up","Volume Down"],["Subtitles on","Subtitles off"],["play","pause"],["Increased playback speed","Decreased playback speed"]];return e.$$set=function(e){"iStyle"in e&&i(21,T=e.iStyle),"controlsVisible"in e&&i(22,D=e.controlsVisible)},[M,B,R,x,I,H,s,l,r,d,u,c,v,g,y,b,k,$,C,S,P,T,D]}var Sl=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Cl,$l,C,{iStyle:21,controlsVisible:22},ol,[-1,-1]),c.default(n)}return i}(ut);function Pl(e){var t,i,n;return{c:function(){t=X("svg"),i=X("path"),n=X("path"),oe(i,"d","M20.173 8.039c5.206-.959 10.584.041 15.096 2.809s7.842 7.107 9.347 12.183 1.079 10.529-1.195 15.309-6.237 8.551-11.124 10.585-10.355 2.188-15.349.433-9.163-5.296-11.704-9.941S1.972 29.352 3.189 24.2s4.296-9.673 8.646-12.69m8.339-3.47l5.77-5.822m-5.77 5.822l5.756 5.608"),oe(i,"stroke","#fff"),oe(i,"stroke-width","4"),oe(i,"stroke-linecap","round"),oe(i,"stroke-linejoin","round"),oe(n,"d","M13.918 35.76h2.8v-7.35l.03-1.13-1.65 1.37c-.107.087-.213.15-.32.19a1.04 1.04 0 0 1-.31.05c-.173 0-.33-.037-.47-.11-.133-.08-.233-.163-.3-.25l-.98-1.3 4.54-3.81h2.56v12.34h2.4V38h-8.3v-2.24zM34.2 30.71c0 1.273-.137 2.377-.41 3.31s-.653 1.707-1.14 2.32c-.48.613-1.053 1.07-1.72 1.37-.66.3-1.377.45-2.15.45s-1.49-.15-2.15-.45c-.653-.3-1.22-.757-1.7-1.37s-.857-1.387-1.13-2.32c-.267-.933-.4-2.037-.4-3.31s.133-2.377.4-3.31c.273-.933.65-1.707 1.13-2.32s1.047-1.067 1.7-1.36c.66-.3 1.377-.45 2.15-.45s1.49.15 2.15.45c.667.293 1.24.747 1.72 1.36.487.613.867 1.387 1.14 2.32s.41 2.037.41 3.31zm-3.2 0c0-1.007-.063-1.83-.19-2.47-.127-.647-.297-1.153-.51-1.52-.207-.367-.443-.617-.71-.75-.267-.14-.537-.21-.81-.21s-.543.07-.81.21c-.26.133-.493.383-.7.75-.2.367-.363.873-.49 1.52-.12.64-.18 1.463-.18 2.47 0 1.013.06 1.84.18 2.48.127.64.29 1.147.49 1.52.207.367.44.62.7.76.267.133.537.2.81.2s.543-.067.81-.2c.267-.14.503-.393.71-.76.213-.373.383-.88.51-1.52s.19-1.467.19-2.48z"),oe(n,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 48 54"),oe(t,"fill","none")},m:function(e,a){J(e,t,a),F(t,i),F(t,n)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var xl=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Pl,C,{}),c.default(n)}return i}(ut);function Al(e){var t,i,n;return{c:function(){t=X("svg"),i=X("path"),n=X("path"),oe(i,"d","M27.927 8.037c-5.207-.955-10.584.049-15.094 2.82s-7.837 7.113-9.338 12.19S2.422 33.577 4.7 38.356s6.243 8.546 11.132 10.577 10.357 2.181 15.35.422 9.159-5.303 11.696-9.95 3.265-10.067 2.045-15.219-4.303-9.669-8.655-12.684m-8.341-3.464l-5.774-5.818m5.774 5.818l-5.752 5.612"),oe(i,"stroke","#fff"),oe(i,"stroke-width","4"),oe(i,"stroke-linecap","round"),oe(i,"stroke-linejoin","round"),oe(n,"d","M14.918 35.76h2.8v-7.35l.03-1.13-1.65 1.37c-.107.087-.213.15-.32.19a1.04 1.04 0 0 1-.31.05c-.173 0-.33-.037-.47-.11-.133-.08-.233-.163-.3-.25l-.98-1.3 4.54-3.81h2.56v12.34h2.4V38h-8.3v-2.24zM35.2 30.71c0 1.273-.137 2.377-.41 3.31s-.653 1.707-1.14 2.32c-.48.613-1.053 1.07-1.72 1.37-.66.3-1.377.45-2.15.45s-1.49-.15-2.15-.45c-.653-.3-1.22-.757-1.7-1.37s-.857-1.387-1.13-2.32c-.267-.933-.4-2.037-.4-3.31s.133-2.377.4-3.31c.273-.933.65-1.707 1.13-2.32s1.047-1.067 1.7-1.36c.66-.3 1.377-.45 2.15-.45s1.49.15 2.15.45c.667.293 1.24.747 1.72 1.36.487.613.867 1.387 1.14 2.32s.41 2.037.41 3.31zm-3.2 0c0-1.007-.063-1.83-.19-2.47-.127-.647-.297-1.153-.51-1.52-.207-.367-.443-.617-.71-.75-.267-.14-.537-.21-.81-.21s-.543.07-.81.21c-.26.133-.493.383-.7.75-.2.367-.363.873-.49 1.52-.12.64-.18 1.463-.18 2.47 0 1.013.06 1.84.18 2.48.127.64.29 1.147.49 1.52.207.367.44.62.7.76.267.133.537.2.81.2s.543-.067.81-.2c.267-.14.503-.393.71-.76.213-.373.383-.88.51-1.52s.19-1.467.19-2.48z"),oe(n,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 48 54"),oe(t,"fill","none")},m:function(e,a){J(e,t,a),F(t,i),F(t,n)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Il=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Al,C,{}),c.default(n)}return i}(ut);function Tl(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"fill-rule","evenodd"),oe(i,"d","M57 114c31.48 0 57-25.52 57-57S88.48 0 57 0 0 25.52 0 57s25.52 57 57 57zm7.038-81.617a26.47 26.47 0 0 0-16.806 1.09c-2.864 1.173-5.478 2.832-7.733 4.885v-1.721a4.5 4.5 0 1 0-9 0v12.161c0 3.098 2.526 5.524 5.535 5.524H47a4.5 4.5 0 1 0 0-9h-1.771a17.26 17.26 0 0 1 5.415-3.521 17.47 17.47 0 0 1 11.089-.718c3.676.974 6.914 3.118 9.219 6.088s3.548 6.6 3.548 10.33-1.244 7.361-3.548 10.33-5.543 5.114-9.219 6.088a17.47 17.47 0 0 1-11.089-.718c-3.513-1.439-6.438-3.98-8.328-7.218a4.5 4.5 0 1 0-7.772 4.538c2.895 4.959 7.359 8.825 12.689 11.009a26.47 26.47 0 0 0 16.806 1.09c5.57-1.476 10.502-4.731 14.024-9.27S83.5 63.236 83.5 57.5s-1.914-11.307-5.438-15.847-8.454-7.794-14.024-9.27z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 114 114"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Dl=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Tl,C,{}),c.default(n)}return i}(ut);function Ml(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"fill-rule","evenodd"),oe(i,"d","M57 114c31.48 0 57-25.52 57-57S88.48 0 57 0 0 25.52 0 57s25.52 57 57 57zm26-56.996c0-1.79-.929-3.451-2.456-4.394L49.798 33.755a5.11 5.11 0 0 0-5.179-.098A5.15 5.15 0 0 0 42 38.144v37.721a5.15 5.15 0 0 0 2.618 4.49 4.91 4.91 0 0 0 5.179-.193l30.747-18.86C82.071 60.455 83 58.794 83 57.004z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 114 115"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var El=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Ml,C,{}),c.default(n)}return i}(ut);function Bl(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"fill-rule","evenodd"),oe(i,"d","M57 114c31.48 0 57-25.52 57-57S88.48 0 57 0 0 25.52 0 57s25.52 57 57 57zm10.75-81h4.1c3.395 0 6.15 2.792 6.15 6.098v35.916C78 78.32 75.247 81 71.85 81l-4.1-.225c-3.397 0-6.15-2.68-6.15-5.986V38.874C61.6 35.68 64.353 33 67.75 33zm-24.6 0h4.1c3.395 0 6.15 2.792 6.15 6.098v35.916C53.4 78.32 50.647 81 47.25 81h-4.1C39.753 81 37 78.319 37 74.902V38.986C37 35.68 39.753 33 43.15 33z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 114 115"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Ll=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Bl,C,{}),c.default(n)}return i}(ut);function Rl(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M22.43 32.31c1.38 0 2.43-1.036 2.43-2.313V6.94c0-1.277-1.12-2.312-2.5-2.312s-2.43 1.036-2.43 2.247v23.118c0 1.342 1.188 2.318 2.5 2.318zm-18.327-.47l15-11.497c.596-.465.893-1.122.893-1.779a2.25 2.25 0 0 0-.893-1.779l-15-11.497C2.491 3.923 0 4.962 0 6.94v23.118c0 1.978 2.491 3.018 4.102 1.783z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 25 37"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var ql=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Rl,C,{}),c.default(n)}return i}(ut);function Hl(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M11.375 4.063c.896 0 1.625.729 1.625 1.625v5.688c0 .896-.729 1.625-1.625 1.625h-9.75C.727 13 0 12.271 0 11.375V5.688c0-.896.727-1.625 1.625-1.625h9.75zm0 1.219h-9.75c-.224 0-.406.183-.406.406v5.688c0 .223.182.406.406.406h9.75c.223 0 .406-.183.406-.406V5.688c0-.223-.183-.406-.406-.406zm-.203-3.25a.61.61 0 0 1 .609.609.61.61 0 0 1-.609.609H1.828a.61.61 0 0 1-.609-.609.61.61 0 0 1 .609-.609h9.344zM9.953 0a.61.61 0 0 1 .609.609.61.61 0 0 1-.609.609H3.047a.61.61 0 0 1-.609-.609A.61.61 0 0 1 3.047 0h6.906z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 13 13"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var Ol=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,Hl,C,{}),c.default(n)}return i}(ut);function jl(e){U(e,"svelte-12zy474",".container.svelte-12zy474.svelte-12zy474.svelte-12zy474.svelte-12zy474{position:absolute;left:var(--margin-size);right:var(--margin-size);top:var(--margin-size);bottom:calc(var(--related-desired-height-img) + var(--bar-height) + var(--margin-size) * 2);display:flex;flex-direction:column;justify-content:center;align-items:center}.container.no-related.svelte-12zy474.svelte-12zy474.svelte-12zy474.svelte-12zy474{bottom:var(--margin-size)}.container.no-related.svelte-12zy474 .buttons.svelte-12zy474.svelte-12zy474.svelte-12zy474{margin-bottom:calc(12px + 0.75 * var(--margin-size))}.container.svelte-12zy474 .up-next-container.svelte-12zy474.svelte-12zy474.svelte-12zy474{display:flex;flex-direction:column;gap:calc(0.75 * var(--margin-size));justify-content:center;align-items:center;width:100%}@supports (-webkit-touch-callout: none) and (not (translate: none)){.container.svelte-12zy474 .up-next-container.svelte-12zy474>.svelte-12zy474+.svelte-12zy474{margin-left:calc(0.75 * var(--margin-size))}}.container.svelte-12zy474 .up-next-container .up-next.svelte-12zy474.svelte-12zy474.svelte-12zy474{font-size:1.2em}.container.svelte-12zy474 .up-next-container .up-next .time.svelte-12zy474.svelte-12zy474.svelte-12zy474{font-weight:bold}.container.svelte-12zy474 .up-next-container .title.svelte-12zy474.svelte-12zy474.svelte-12zy474{font-size:1.5em;max-width:75%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:normal}.container.svelte-12zy474 .up-next-container .countdown.svelte-12zy474.svelte-12zy474.svelte-12zy474{--stroke-width:4px;--circle-size:3em;font-size:2em;font-weight:bold;display:flex;flex-direction:column;align-items:center;gap:var(--margin-size);position:relative}@supports (-webkit-touch-callout: none) and (not (translate: none)){.container.svelte-12zy474 .up-next-container .countdown.svelte-12zy474>.svelte-12zy474+.svelte-12zy474{margin-left:var(--margin-size)}}.container.svelte-12zy474 .up-next-container .countdown .base-timer.svelte-12zy474.svelte-12zy474.svelte-12zy474{position:relative;height:var(--circle-size);width:var(--circle-size)}.container.svelte-12zy474 .up-next-container .countdown .base-timer .icon.svelte-12zy474.svelte-12zy474.svelte-12zy474{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.container.svelte-12zy474 .up-next-container .countdown .base-timer .icon .action-button.svelte-12zy474.svelte-12zy474.svelte-12zy474{width:42px;height:42px}.container.svelte-12zy474 .up-next-container .countdown .base-timer .base-timer__circle.svelte-12zy474.svelte-12zy474.svelte-12zy474{fill:none}.container.svelte-12zy474 .up-next-container .countdown .base-timer .base-timer__path-bg.svelte-12zy474.svelte-12zy474.svelte-12zy474{stroke-width:var(--stroke-width);stroke:#777}.container.svelte-12zy474 .up-next-container .countdown .base-timer .base-timer__path-filler.svelte-12zy474.svelte-12zy474.svelte-12zy474{stroke-width:var(--stroke-width);stroke-linecap:round;transform:rotate(90deg);transform-origin:center;transition:0.2s linear all;stroke:currentColor}.container.svelte-12zy474 .up-next-container .countdown .base-timer .base-timer__svg.svelte-12zy474.svelte-12zy474.svelte-12zy474{transform:scale(-1, 1)}.container.svelte-12zy474 .up-next-container .countdown .buttons.svelte-12zy474.svelte-12zy474.svelte-12zy474{font-size:0.5em;display:flex;justify-content:center;gap:var(--margin-size)}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.container.svelte-12zy474 .up-next-container .countdown .buttons .cancel .button.svelte-12zy474.svelte-12zy474.svelte-12zy474{line-height:1.2em;padding:0.6em 1.6em 0.6em 1.2em}.container.svelte-12zy474 .button.svelte-12zy474.svelte-12zy474.svelte-12zy474{display:flex;align-items:center;gap:0.6em}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.container.mobile.svelte-12zy474.svelte-12zy474.svelte-12zy474.svelte-12zy474{bottom:var(--bar-height);top:10px}.container.mobile.svelte-12zy474 .up-next-container.svelte-12zy474.svelte-12zy474.svelte-12zy474,.container.mobile.svelte-12zy474 .countdown.svelte-12zy474.svelte-12zy474.svelte-12zy474{gap:calc(0.5 * var(--margin-size))}@supports (-webkit-touch-callout: none) and (not (translate: none)){.container.mobile.svelte-12zy474 .up-next-container.svelte-12zy474>.svelte-12zy474+.svelte-12zy474,.container.mobile.svelte-12zy474 .countdown.svelte-12zy474>.svelte-12zy474+.svelte-12zy474{margin-left:calc(0.5 * var(--margin-size))}}.container.mobile.no-progress-bar.svelte-12zy474.svelte-12zy474.svelte-12zy474.svelte-12zy474{flex-direction:column-reverse;margin-bottom:10px}.container.mobile.svelte-12zy474 .countdown .buttons.svelte-12zy474.svelte-12zy474.svelte-12zy474{font-size:0.5em}.container.mobile.svelte-12zy474 .countdown .buttons .cancel .button.svelte-12zy474.svelte-12zy474.svelte-12zy474{padding:6px 14px 6px 8px}.container.mobile.mobile-xs.svelte-12zy474 .countdown.svelte-12zy474.svelte-12zy474.svelte-12zy474{flex-direction:row-reverse;font-size:1em}.container.mobile.mobile-xs.svelte-12zy474 .countdown .buttons.svelte-12zy474.svelte-12zy474.svelte-12zy474{font-size:1em;margin-bottom:0}.container.mobile.mobile-xs.svelte-12zy474 .up-next-container.svelte-12zy474.svelte-12zy474.svelte-12zy474{gap:5px}@supports (-webkit-touch-callout: none) and (not (translate: none)){.container.mobile.mobile-xs.svelte-12zy474 .up-next-container.svelte-12zy474>.svelte-12zy474+.svelte-12zy474{margin-left:5px}}.container.mobile.mobile-xs.svelte-12zy474 .up-next.svelte-12zy474.svelte-12zy474.svelte-12zy474{font-size:0.8em}.container.mobile.mobile-xs.svelte-12zy474 .title.svelte-12zy474.svelte-12zy474.svelte-12zy474{font-size:1em}")}function zl(e){var t;return{c:function(){t=Z("Up next in")},m:function(e,i){J(e,t,i)},d:function(e){e&&K(t)}}}function Vl(e){var t,i,n;return i=new ci({props:{iconHeight:1.6*e[7],hoverTransform:"scale(1.1)",name:"pause",hideToolTip:!0,$$slots:{normal:[Ul]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment)},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:function(e,t){var n={};128&t&&(n.iconHeight=1.6*e[7]),536870912&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Fl(e){var t,i,n,a,o;return i=new ci({props:{iconHeight:2*e[7],hoverTransform:"scale(1.1)",name:"playNext",hideToolTip:!0,$$slots:{normal:[Nl]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","action-button svelte-12zy474")},m:function(s,l){J(s,t,l),st(i,t,null),n=!0,a||(o=ie(t,"click",e[25]),a=!0)},p:function(e,t){var n={};128&t&&(n.iconHeight=2*e[7]),536870912&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i),a=!1,o()}}}function Ul(e){var t,i,n;return i=new In({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Nl(e){var t,i,n;return i=new ql({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Wl(e){var t;return{c:function(){t=Z("Cancel")},m:function(e,i){J(e,t,i)},d:function(e){e&&K(t)}}}function Ql(e){var t,i,n,a,$$fragment),oe(t,"slot","normal"),oe(t,"class","button svelte-12zy474")},m:function(e,s){J(e,t,s),st(i,t,null),F(t,n),st(a,t,null536870912&t&&(i.$$scope={dirty:t,ctx:e}),a.$set(i)},i:function(e){o||(Ge(i.$$.fragment,e),Ge(a.$$.fragment,e),o=!0)},o:function(e){Xe(i.$$.fragment,e),Xe(a.$$.fragment,e),o=!1},d:function(e){e&&K(t),lt(i),lt(a)}}}function Jl(e){var t,i,n,a,o,s,r,d,u,c,h,p,_,m,f,v,g,y,b,w,k,$,C,S,P,x,A,I,T,D,M=function(e,t){return e[6]?1:0},E=Math.ceil(e[4])+"",B=((null==(t=e[5][0])?void 0:t.title)||"")+"";o=new Qt({props:{display:"inline-block",$$slots:{default:[zl]},$$scope:{ctx:e}}});var L=[Fl,Vl],R=[];return v=M(e),g=R[v]=L[v](e),A=new ci({props:{bgColor:"#424242",buttonPosition:"relative",bgBorderRadius:"8px",name:"cancel",hideToolTip:!0,iconHeight:.6*e[10],$$slots:{normal:[Ql]},$$scope:{ctx:e}}}),{c:function(){var t,l;i=G("div"),n=G("div"),a=G("div"),ot(o.$$.fragment),s=Z(" "),r=G("span"),d=Z(E),u=ee(),c=G("h2"),h=Z(B),p=ee(),_=G("div"),m=G("div"),f=G("div"),g.c(),y=ee(),b=X("svg"),w=X("g"),k=X("circle"),$=X("path"),S=ee(),P=G("div"),x=G("div"),ot(A.$$.fragment),oe(r,"class","time svelte-12zy474"),oe(a,"class","up-next svelte-12zy474"),oe(c,"class","title svelte-12zy474"),oe(f,"class","icon svelte-12zy474"),oe(k,"class","base-timer__path-bg svelte-12zy474"),oe(k,"cx","50"),oe(k,"cy","50"),oe(k,"r",Kl),oe($,"id","base-timer-path-filler"),oe($,"stroke-dasharray",C=e[23]/e[8]*e[9]+" "+e[23]),oe($,"class","base-timer__path-filler svelte-12zy474"),oe($,"d","\n\t\t\t\t\t\t\t  M 50, 50\n\t\t\t\t\t\t\t  m -45, 0\n\t\t\t\t\t\t\t  a 45,45 0 1,0 90,0\n\t\t\t\t\t\t\t  a 45,45 0 1,0 -90,0\n\t\t\t\t\t\t\t"),oe(w,"class","base-timer__circle svelte-12zy474"),oe(b,"class","base-timer__svg svelte-12zy474"),oe(b,"viewBox","0 0 100 100"),oe(b,"xmlns","http://www.w3.org/2000/svg"),oe(m,"class","base-timer svelte-12zy474"),oe(x,"class","cancel"),oe(x,"data-cy","autoplay-next-cancel"),oe(P,"class","buttons svelte-12zy474"),oe(_,"class","countdown svelte-12zy474"),oe(n,"class","up-next-container svelte-12zy474"),oe(i,"class","container svelte-12zy474"),he(i,"no-related","hide"===e[0].relatedItems||(null==(t=e[1].relatedItems)?void 0:t.hidden)),he(i,"mobile",["S","XS"].includes(e[2])),he(i,"mobile-xs","XS"===e[2]),he(i,"mobile-xxs",e[3]),he(i,"no-progress-bar",null==(l=e[1].controlBar)?void 0:l.hidden)},m:function(t,l){J(t,i,l),F(i,n),F(n,a),st(o,a,null),F(a,s),F(a,r),F(r,d),F(n,u),F(n,c),F(c,h),F(n,p),F(n,_),F(_,m),F(m,f),R[v].m(f,null),F(m,y),F(m,b),F(b,w),F(w,k),F(w,$),F(_,S),F(_,P),F(P,x),st(A,x,null),I=!0,T||(D=ie(x,"click",e[24]),T=!0)},p:function(e,t){var n,a,s,r=l.default(t,1)[0],u={};536870912&r&&(u.$$scope={dirty:r,ctx:e}),o.$set(u),(!I||16&r)&&E!==(E=Math.ceil(e[4])+"")&&re(d,E),(!I||32&r)&&B!==(B=((null==(n=e[5][0])?void 0:n.title)||"")+"")&&re(h,B);var c=v;(v=M(e))===c?R[v].p(e,r):(Ke(),Xe(R[c],1,1,(function(){R[c]=null})),Ye(),(g=R[v])?g.p(e,r):(g=R[v]=L[v](e)).c(),Ge(g,1),g.m(f,null)),(!I||768&r&&C!==(C=e[23]/e[8]*e[9]+" "+e[23]))&&oe($,"stroke-dasharray",C);var p={};1024&r&&(p.iconHeight=.6*e[10]),536870912&r&&(p.$$scope={dirty:r,ctx:e}),A.$set(p),(!I||3&r)&&he(i,"no-related","hide"===e[0].relatedItems||(null==(a=e[1].relatedItems)?void 0:a.hidde(I||2&r)&&he(i,"no-progress-bar",null==(s=e[1].controlBar)?void 0:s.hidden)},i:function(e){I||(Ge(o.$$.fragment,e),Ge(g),Ge(A.$$.fragment,e),I=!0)},o:function(e){Xe(o.$$.fragment,e),Xe(g),Xe(A.$$.fragment,e),I=!1},d:function(e){e&&K(i),lt(o),R[v].d(),lt(A),T=!1,D()}}}var Kl=45;function Yl(e,t,i){var n,a,o,s,l,r,d,u,c,h,p,_=Ae(Ht),m=_.fontSize,f=_.marginSize,v=_.screenXXS,g=_.skinSizeHeight,y=_.elementVisibility,b=_.userPausedCountDown,w=_.startCountDown,k=_.stopCountdown,$=_.timeTotal,C=_.timeLeft,S=_.timePassed,P=_.relatedItems,x=_.playout;A(e,m,(function(e){return i(10,p=e)})),A(e,f,(function(e){return i(7,u=e)})),A(e,v,(function(e){return i(3,s=e)})),A(e,g,(function(e){return i(2,o=e)})),A(e,y,(function(e){return i(1,a=e)})),A(e,b,(function(e){return i(6,d=e)})),A(e})),A(e,C,(function(e){return i(4,l=e)})),A(e,S,(function(e){return i(9,h=e)})),A(e,P,(function(e){return i(5,r=e)})),A(e,x,(function(e){reT=C.subscribe((function(e){0===e&&I("ended")})),D=Math.ceil(2*Math.PI*Kl);return Ce((function(){return w()})),Se((function(){k(),T()})),[n,a,o,s,l,r,d,u,c,h,p,m,f,v,g,y,b,$,C,S,P,x,I,D,function(){k(),I("cancel")},function(){return I("ended")}]}var Gl=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Yl,Jl,C,{},jl),c.default(n)}return i}(ut);function Xl(e){U(e,"svelte-1gf2c1v",'.entity-list.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{width:100%;transition:filter 0.25s ease-in-out 0.15s;position:relative;--btn-width:40px;filter:brightness(67%)}.entity-list.svelte-1gf2c1v .buttons.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;justify-content:space-between;pointer-events:none;left:-var(--margin-size);right:-var(--margin-size)}.entity-list.svelte-1gf2c1v .btn-container.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{display:flex;flex-direction:column;justify-content:center;opacity:0;transition:opacity 0.3s ease-in-out;margin-left:var(--margin-size);margin-right:var(--margin-size)}.entity-list.svelte-1gf2c1v .btn-container.show.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{opacity:1;display:flex}.entity-list.svelte-1gf2c1v .btn-container .btn.prev.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{margin-left:calc(var(--btn-width) / -2 + var(--cancel-button-right))}.entity-list.svelte-1gf2c1v .btn-container .btn.next.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{margin-right:calc(var(--btn-width) / -2 + var(--cancel-button-right))}.entity-list.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v:hover,.entity-list.mobile.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v,.entity-list.phase-exit.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{filter:brightness(100%)}.entity-list.svelte-1gf2c1v .container.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{width:calc(100% + 2 * var(--margin-size));margin-left:calc(-1 * var(--margin-size));height:100%;overflow:auto;scrollbar-width:none}.entity-list.svelte-1gf2c1v .container.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v::-webkit-scrollbar{width:0;height:0}.entity-list.svelte-1gf2c1v .end-dummy.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{width:var(--margin-size);flex-shrink:0}.entity-list.svelte-1gf2c1v .items.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{display:flex;gap:0.8em;height:100%;padding:2px 0}@supports (-webkit-touch-callout: none) and (not (translate: none)){.entity-list.svelte-1gf2c1v .items.svelte-1gf2c1v>.svelte-1gf2c1v+.svelte-1gf2c1v{margin-left:0.8em}}.entity-list.svelte-1gf2c1v .items .item.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{cursor:pointer;border-radius:var(--border-radius-related);position:relative;flex-shrink:0;overflow:hidden}.entity-list.svelte-1gf2c1v .items .item img.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v,.entity-list.svelte-1gf2c1v .items .item .fallback-img.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{transition:transform 0.2s ease-in-out;border-radius:var(--border-radius-related);height:var(--related-desired-height-img);width:calc(var(--related-desired-height-img) * 1.7777777778);background-color:rgba(0, 0, 0, 0.5)}.entity-list.svelte-1gf2c1v .items .item.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v:first-child{margin-left:var(--margin-size)}.entity-list.svelte-1gf2c1v .items .item:hover img.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v,.entity-list.svelte-1gf2c1v .items .item:hover .fallback-img.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{transform:scale(1.05)}.entity-list.svelte-1gf2c1v .items .item img.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{display:block;object-fit:cover}.entity-list.svelte-1gf2c1v .items .item .fallback-img.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{display:none;background-color:black}.entity-list.svelte-1gf2c1v .items .item.no-thumb .fallback-img.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{display:block}.entity-list.svelte-1gf2c1v .items .item .info.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 100%);border-radius:var(--border-radius-related);overflow:hidden}.entity-list.svelte-1gf2c1v .items .item .info .title.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{font-size:0.75em;line-height:1.2em;font-weight:bold;position:absolute;margin:calc(var(--margin-size) / 2);top:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.entity-list.svelte-1gf2c1v .items .item .info .duration.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{font-size:0.65em;font-weight:bold;color:var(--foreground-color);background-color:rgba(0, 0, 0, 0.5);margin:8px;padding:3px 0.75em;border-radius:calc(0.65em + 6px);position:absolute;right:0;bottom:0;border:1px solid transparent}.entity-list.svelte-1gf2c1v .items .item .info .duration.live.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{border:1px solid white;padding-left:20px}.entity-list.svelte-1gf2c1v .items .item .info .duration.live.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v::before{content:" ";position:absolute;left:6px;top:0.375em;margin-top:2px;width:0.65em;height:0.65em;border-radius:50%;background-color:#ff3e3e}.entity-list.svelte-1gf2c1v .items .item .up-next-title.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{font-size:0.75em;font-weight:normal}.entity-list.svelte-1gf2c1v .items .item .up-next-bar.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{isolation:isolate}.entity-list.svelte-1gf2c1v .items .item .up-next-bar .bar-bg.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v,.entity-list.svelte-1gf2c1v .items .item .up-next-bar .bar-fill.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{position:absolute;top:0;left:0;height:3px}.entity-list.svelte-1gf2c1v .items .item .up-next-bar .bar-bg.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{right:0;background-color:rgbup-next-bar .bar-fill.svelte-1gf2c1v.svelte-1gf2c1v.svelte-1gf2c1v{background-color:var(--accent-color);transition:0.2s linear all;max-width:100%}')}function Zl(e,t,i){var n=e.slice();return n[45]=t[i],n[47]=i,n}function er(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m,f,v,g,y=function(){return e[30](e[45])},b=(e[45].title||"")+"",w=e[23](e[45].mediatype,e[45].length,e[45].sourcetype)+"",$=0===e[47]&&e[1]&&!e[11]&&tr(e),C=0===e[47]&&e[1]&&!e[11]&&nr(e);return{c:function(){t=G("li"),i=G("img"),a=ee(),o=G("div"),s=ee(),l=G("div"),r=G("span"),$&&$.c(),d=ee(),u=Z(b),c=ee(),h=G("span"),p=Z(w),_=ee(),C&&C.c(),S(i.src,n=e[27](e[45],e[7]))||oe(i,"src",n),oe(i,"alt",""),oe(i,"loading","lazy"),oe(i,"class","svelte-1gf2c1v"),oe(o,"class","fallback-img svelte-1gf2c1v"),oe(r,"class","title svelte-1gf2c1v"),oe(h,"class","duration svelte-1gf2c1v"),he(h,"live","live"===e[45].sourcetype),oe(l,"class","info svelte-1gf2c1v"),oe(t,"class","item button-content svelte-1gf2c1v"),oe(t,"title",m=e[45].title||""),oe(t,"tabindex",0)},m:function(e,n){J(e,t,n),F(t,i),F(t,a),F(t,o),F(t,s),F(t,l),F(l,r),$&&$.m(r,null),F(r,d),F(r,u),F(l,c),F(l,h),F(h,p),F(t,_),C&&C.m(t,null),f=!0,v||(g=[ie(i,"error",dr),ie(t,"click",y)],v=!0)},p:function(a,o){e=a,(!f||129&o[0]&&!S(i.src,n=e[27](e[45],e[7])))&&oe(i,"src",n),0===e[47]&&e[1]&&!e[11]?$?2050&o[0]&&Ge($,1):(($=tr(e)).c(),Ge($,1),$.m(r,d)):$&&(Ke(),Xe($,1,1,(function(){$=null})),Ye()),(!f||1&o[0])&&b!==(b=(e[45].title||"")+"")&&re(u,b),(!f||1&o[0])&&w!==(w=e[23](e[45].mediatype,e[45].length,e[45].sourcetype)+"")&&re(p,w),(!f||1&o[0])&&he(h,"live","live"===e[):((C=nr(e)).c(),C.m(t,null)):C&&(C.d(1),C=null),(!f||1&o[0]&&m!==(m=e[45].title||""))&&oe(t,"title",m)},i:function(e){f||(Ge($),f=!0)},o:function(e){Xe($),f=!1},d:function(e){e&&K(t),$&&$.d(),C&&C.d(),v=!1,k(g)}}}function tr(e){var t,i,n;return i=new Qt({props:{$$slots:{default:[ir]},$$scope:{ctx:e}}}),{c:function(){t=G("span"),ot(i.$$.fragment),oe(t,"class","up-next-title svelte-1gf2c1v")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function ir(e){var t;return{c:function(){t=Z("Up next")},m:function(e,i){J(e,t,i)},d:function(e){e&&K(t)}}}function nr(e){var t,i,n,a;return{c:functioe(i,"class","bar-bg svelte-1gf2c1v"),oe(a,"class","bar-fill svelte-1gf2c1v"),ue(a,"width",Math.ceil(e[12]/e[13]*102)+"%"),oe(t,"class","up-next-bar svelte-1gf2c1v")},m:function(e,o){J(e,t,o),F(t,i),F(t,n),F(t,a)},p:function(e,t){12288&t[0]&&ue(a,"width",Math.ceil(e[12]/e[13]*102)+"%")},d:function(e){e&&K(t)}}}function ar(e){var t,i,n=e[45]&&er(e);return{c:function(){n&&n.c(),t=te()},m:function(e,a){n&&n.m(e,a),J(e,t,a),i=!0},p:function(e,i){e[45]?n?(n.p(e,i),1&i[0]&&Ge(n,1)):((n=er(e)).c(),Ge(n,1),n.m(t.parentNode,t)):n&&(Ke(),Xe(n,1,1,(function(){n=null})),Ye())},i:function(e){i||(Ge(n),i=!0)},o:function(e){Xe(n),i=!1},d:function(e){e&&K(t),n&&n.d(e)}}}function or(e){var t,i,n,a,o,s,l,r,d,u,c;return a=new ci({props:{iconHeight:.9*e[14],bgColor:bt,bgSize:"2em",tabindex:e[4]>0?0:-1,name:"previousRelatedButton",hideToolTip:!0,disabled:e[4]<=0,$$slots:{normal:[sr]},$$scope:{ctx:e}}}),r=new ci({props:{iconHeight:.9*e[14],bgColor:bt,bgSize:"2em",tabindex:e[4]+e[5]<e[6]-10?0:-1,name:"nextRelatedButton",hideToolTip:!0,disabled:e[4]+e[5]>=e[6]-10,$$slots:{normal:[lr]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),i=G("div"),n=G("div"),ot(a.$$.fragment),o=ee(),s=G("div"),l=G("div"),ot(r.$$.fragment),oe(n,"class","prev btn svelte-1gf2c1v"),oe(i,"class","btn-container svelte-1gf2c1v"),he(i,"show",e[4]>0),oe(l,"class","next btn svelte-1gf2c1v"),oe(s,"class","btn-container svelte-1gf2c1v"),he(s,"show",e[4]+e[5]<e[6]-10),oe(t,"class","buttons svelte-1gf2c1v")},m:function(h,p){J(h,t,p),F(t,i),F(i,n),st(a,n,null),F(t,o),F(t,s),F(s,l),st(r,l,null),d=!0,u||(c=[ie(n,"click",e[34]),ie(l,"click",e[35])],u=!0)},p:function(e,t){var n={};16384&t[0]&&(n.iconHeight=.9*e[14]),16&t[0]&&(n.tabindex=e[4]>0?0:-1),16&t[0]&&(n.disabled=e[4]<=0),131072&t[1]&&(n.$$scope={dirty:t,ctx:e}),a.$set(n),(!d||16&t[0])&&he(i,"show",e[4]>0);var o={};16384&t[0]&&?0&&112&t[0])&&he(s,"show",e[4]+e[5]<e[6]-10)},i:function(e){d||(Ge(a.$$.fragment,e),Ge(r.$$.fragment,e),d=!0)},o:function(e){Xe(a.$$.fragment,e),Xe(r.$$.fragment,e),d=!1},d:function(e){e&&K(t),lt(a),lt(r),u=!1,k(c)}}}function sr(e){var t,i,n;return i=new mi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function lr(e){var t,i,n;return i=new ki({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:func.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function rr(e){for(var t,i,n,a,o,s,l,r,d,u,c=nt(e[0]),h=[],p=0;p<c.length;p+=1)h[p]=ar(Zl(e,c,p));var _=function(e){return Xe(h[e],1,1,(function(){h[e]=null}))},m=!e[8]&&e[5]<e[6]&&or(e);return{c:function(){t=G("div"),i=h.length;s+=1)h[s].c();a=ee(),o=G("div"),l=ee(),m&&m.c(),oe(o,"class","end-dummy svelte-1gf2c1v"),oe(n,"class","items svelte-1gf2c1v"),oe(i,"class","container svelte-1gf2c1v"),He((function(){return e[33].call(i)})),oe(t,"class","entity-list svelte-1gf2c1v"),he(t,"mobile",e[8]),he(t,"phase-exit","EXIT"===e[10]),ue(t,"--border-radius-related",e[9].cornerRadius?Math.ceil(e[9].cornerRadius/1.5)+"px":"0px")},m:function(c,p){J(c,t,p),F(t,i),F(i,n);for(var _=0;_<h.length;_+=1)h[_]&&h[_].m(n,null);F(n,a),F(n,o),e[31](n),e[32](i),s=ce(i,e[33].bind(i)),F(t,l),m&&m.m(t,null),r=!0,d||(u=ie(i,"scroll",e[26]),d=!0)},p:function(e,i){if(159398019&i[0]){var o;for(c=nt(e[0]),o=0;o<c.length;o+=1){var s=Zl(e,c,o);h[o]?(h[o].p(s,i),Ge(h[o],1)):(h[o]=ar(s),h[o].c(),Ge(h[o],1),h[o].m(n,a))}for(Ke(),o=c.length;o<h.length;o+=1)_(o);Ye()}!e[8]&&e[5]<e[6]?m?(m.p(e,i),352&i[0]&&Ge(m,1)):((m=or(e)).c(),Ge(m,1),m.m(t,null)):m&&(Ke(),Xe(m,1,1,(function)&cornerRadius?Math.ceil(e[9].cornerRadius/1.5)+"px":"0px")},i:function(e){if(!r){for(var t=0;t<c.length;t+=1)Ge(h[t]);Ge(m),r=!0}},o:function(e){h=h.filter(Boolean);for(var t=0;t<h.length;t+=1)Xe(h[t]);Xe(m),r=!1},d:function(i){i&&K(t),Y(h,i),e[31](null),e[32](null),s(),m&&m.d(),d=!1,u()}}}function dr(e){var t;null!=(t=null==e?void 0:e.target)&&t.style&&(e.target.style.display="none",e.target.parentElement.classList.add("no-thumb"))}function ur(e,t,i){var n,a,o,s,l,r,d,u,c,h,p=function(){qe().then((function(){i(6,O=(null==M?void 0:M.scrollWidth)||0),i(4,q=(null==D?void 0:D.scrollLeft)||0)}))},_=function(){var e=o;return devicePixelRatio>1&&(e*=Math.min(2,devicePixelRatio)),e},m=function(e){D.scrollTo({left:q+H*e,behavior:"smooth"})},f=Ae(Ht),v=f.api,g=f.detections,y=f.playerHeight,b=f.triggeredRelated,w=f.playout,k=f.timeTotal,$=f.timePassed,C=f.barIconSize,S=f.relatedDesiredHeight,P=f.useMobileToggleRelated,x=f.getLengthLabel,I=f.loadRelatedItem,T=f.phase;A(e,g,(function(e){return i(29,s=e)})),A(e,y,(function(e){return i(37,a=e)})),A(e,w,(function(e){return i(9,l=e)})),A(e,k,(function(e){return i(13,c=e)})),A(e,$,(function(e){return i(12,u=e)})),A(e,C,(function(e){return i(14,h=e)}unctio)})),A(e,T,(function(e){return i(10,r=e)}));var D,M,E=t.items,B=void 0===E?[]:E,L=t.autoPlayNext,R=void 0!==L&&Lnction(){V(),F()}));var V=S.subscribe((function(){p(),z&&_()-z>=30&&i(7,j++,j)})),F=b.subscribe((function(){p()}));return e.$$set=function(e)0,B=e.items),"autoPlayNext"in e&&i(1,R=e.autoPlayNext)},e.$$.update=function(){536870912&e.$$.dirty[0]&&i(8,n=null==s?void 0:s.isMobileDevice)},[B,R,D,M,q,H,O,j,n,l,r,d,u,c,h,g,y,w,k,$,C,S,P,x,I,T,function(){p()},function(e,t){if(!e)return"";var i=(e.type||"MediaClip")+":"+e.id,n=120;return a>0&&(n=_()),z=n,null==v?void 0:v.getThumbnail(iI(e.id,e.type,e.deeplink,e.gendeeplink,"RelatedItem")},function(e){De[e?"unshift":"push"]((function(){i(3,M=e)}))},function(e){De[e?"unshift":"push"]((function(){i(2,D=e)}))},function(){H=this.clientWidth,i(5,H)},function(){return m(-1)},function(){return m(1)}]}var cr=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,ur,rr,C,{items:0,autoPlayNext:1},Xl,[-1,-1]),c.default(n)}return i}(ut);function hr(e){U(e,"svelte-1hcj69q",".center-controls.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{display:flex;align-items:center;gap:var(--gap-size)}@supports (-webkit-touch-callout: none) and (not (translate: none)){.center-controls.svelte-1hcj69q>.svelte-1hcj69q+.svelte-1hcj69q{margin-left:var(--gap-size)}}.center-controls.svelte-1hcj69q .prev-back-button.svelte-1hcj69q.svelte-1hcj69q,.center-controls.svelte-1hcj69q .dummy-button.svelte-1hcj69q.svelte-1hcj69q{width:2.4em;height:2.4em}.center-controls.svelte-1hcj69q .big-button.svelte-1hcj69q.svelte-1hcj69q{position:relative;transition:opacity 0.25s ease-in-out}.center-controls.svelte-1hcj69q .big-button .start-time.svelte-1hcj69q.svelte-1hcj69q{top:calc(8px + var(--size-big-button));position:absolute;left:50%;transform:translate(-50%, 0);background-color:var(--bg-color-pane);padding:8px 16px;border-radius:32px;font-size:0.8em}.center-controls.svelte-1hcj69q .center-button-placeholder.svelte-1hcj69q.svelte-1hcj69q{width:var(--size);height:var(--size)}.center-controls.skinsize-XS.svelte-1hcj69q .start-time.svelte-1hcj69q.svelte-1hcj69q{padding:4px 8px}.cast-info.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{pointer-events:all;position:absolute;top:25%;left:0;width:100%;display:grid;align-items:center;justify-items:center;place-items:center}.cast-info.svelte-1hcj69q .cast-state.svelte-1hcj69q.svelte-1hcj69q{display:flex}.cast-info.svelte-1hcj69q .inner.svelte-1hcj69q.svelte-1hcj69q{cursor:pointer;display:flex;gap:0.5em;align-items:center;justify-content:center;height:20px;white-space:nowrap}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.cast-info.svelte-1hcj69q svg{height:var(--font-size)}.button-container.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{position:absolute;bottom:0;right:calc(var(--margin-size) / 2 + 12px);transform:translateY(calc((var(--bar-height) - var(--margin-size) / 2) * -1));z-index:1;transition:transform 0.15s ease-in-out, opacity 0.15s ease-in-out;display:flex;justify-content:row;gap:12px}@supports (-webkit-touch-callout: none) and (not (translate: none)){.button-container.svelte-1hcj69q>.svelte-1hcj69q+.svelte-1hcj69q{margin-left:12px}}.button-container.svelte-1hcj69q .toggle-related-button.svelte-1hcj69q.svelte-1hcj69q{min-width:38px;z-index:-5}.button-container.hovering-scrubbar.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{opacity:0.15}.mobile-replay-button.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{position:absolute;left:12px;bottom:6px}.center-controls.mounted-controlbar.svelte-1hcj69q .related-items.svelte-1hcj69q.svelte-1hcj69q{left:calc(0.75 * var(--margin-size));right:calc(0.75 * var(--margin-size))}.center-controls.mounted-controlbar.svelte-1hcj69q .button-container.svelte-1hcj69q.svelte-1hcj69q{right:0}.related-items.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{--padding:0.7em;transition:opacity 0.3s ease, transform 0.3s ease-in-out, visibility 0.3s ease;position:absolute;left:calc(1 * var(--margin-size));right:calc(1 * var(--margin-size));bottom:0;transform:translateY(calc(var(--bar-height) * -1));height:calc(var(--related-desired-height-img) + var(--font-size) + var(--padding));pointer-events:all}.related-items.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q:not(.using-scrubbar){opacity:1;visibility:visible}.related-items.svelte-1hcj69q .header.svelte-1hcj69q.svelte-1hcj69q{padding-bottom:var(--padding);display:flex;justify-content:space-between;font-weight:bold}.related-items.svelte-1hcj69q .header .cancel.svelte-1hcj69q.svelte-1hcj69q{height:1.8em;width:1.8em;position:absolute;right:var(--cancel-button-right);top:-0.5em}.related-items.playing.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q,.related-items.waiting.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{opacity:0;pointer-events:none;visibility:hidden}.soft-embargo-container.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{display:flex;flex-direction:column;justify-content:center;align-items:center}.soft-embargo-text.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{font-size:clamp(1em, var(--player-height) / 6, 3em);line-height:1.5em;max-height:1.5em;text-align:center;overflow:hidden}.soft-embargo-timer.svelte-1hcj69q.svelte-1hcj69q.svelte-1hcj69q{font-size:clamp(2em, var(--player-height) / 3.5, 6em);max-height:6em;text-align:center}")}function pr(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m,f,v,g=function(e,t){return"AirPlay"===e[29]?0:1},y=function(e,t){return e[30]?0:1},b=(null==(i=null==(t=e[31])?void 0:t.getCastDevice())?void 0:i.friendlyName)+"",w=[mr,_r],k=[];o=g(e),s=k[o]=w[o](e);var $=[vr,fr],C=[];return d=y(e),u=C[d]=$[d](e),{c:function(){n=G("div"),a=G("div"),s.c(),l=ee(),r=G("span"),u.c(),c=ee(),h=G("span"),p=Z(" "),_=Z(b),oe(h,"class","device-name"),oe(r,"class","cast-state svelte-1hcj69q"),oe(a,"class","inner svelte-1hcj69q"),oe(n,"class","cast-info svelte-1hcj69q")},m:function(t,i){J(t,n,i),F(n,a),k[o].m(a,null),F(a,l),F(a,r),C[d].m(r,null),F(r,c),F(r,h),F(h,p),F(h,_),m=!0,f||(v=ie(a,"click",e[51]),f=!0)},p:function(e,t){var i,n,h=o;(o=g(e))!==h&&(Ke(),Xe(k[h],1,1,(function(){k[h]=null})),Ye(),(s=k[o])||(s=k[o]=w[o](e)).c(),Ge(s,1),s.m(a,l));var p=d;(d=y(e))!C[[d]=$[d](e)).c(),Ge(u,1),u.m(r,c)),(!m||1&t[1])&&b!==(b=(null==(n=null==(i=e[31])?void 0:i.getCastDevice())?void 0:n.friendlyName)+"")&&re(_,b)},i:function(e){m||(Ge(s),Ge(u),m=!0)},o:function(e){Xe(s),Xe(u),m=!1},d:function(e){e&&K(n),k[o].d(),C[d].d(),f=!1,v()}}}function _r(e){var t,i;return t=new Jo({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function mr(e){var t,i;return t=new Xo({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function fr(e){var t,i,n;return i=new Qt({props:{$$slots:{default:[gr]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment)},m:function(e,a){J(e,t,a),st(i,t,null),n),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function vr(e){var t,i,n;return i=new Qt({props:{$$slots:{default:[yr]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment)},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},i:function(e)n")},m:function(e,i){J(e,t,i)},d:function(e){e&&K(t)}}}function br(e){var t;return{c:function(){oe(t=G("div"),"class","dummy-button svelte-1hcj69q")},m:function(e,i){J(e,t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}function wr(e){var t,i,n=!e[20]&&(!e[13]||e[13]&&e[12])&&kr(e);return{c:function(){n&&n.c(),t=te()},m:function(e,a){n&&n.m(e,a),J(e,t,a),i=!0},p:function(e,i){!e[20]&&(!e[13]||e[13]&&e[12])?n?(n.p(e,i),1060864&i[0]&&Ge(n,1)):((n=kr(e)).c(),Ge(n,1),n.m(t.parentNode,t)):n&&(Ke(),Xe(n,1,1,(function(){n=null})),Ye())},i:function(e){i||(Ge(n),i=!0)},o:function(e){Xe(n),i=!1},d:function(e){e&&K(t),n&&n.d(e)}}}function kr(e){var t,i,n,a,o,s;return i=new ci({props:{iconHeight:Math.round(e[33]/1.667),hoverTransform:"scale(1.1)",name:"rewindVideo",hide),ot(i.$$.fragment),oe(t,"class","prev-back-button svelte-1hcj69q"),oe(t,"style",n=e[0]("seekButtons")),oe(t,"data-cy","rewind-button")},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",e[106]),o=!0)},p:function(e,o){var s={};4&o[1]&&(s.iconHeight=Mathope={dirty:o,ctx:e}),i.$set(s),(!a||1&o[0]&&n!==(n=e[0]("seekButtons")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function $r(e){var t,i,n;return t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,0}),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Cr(e){var t,i,n=(!e[13]||e[13]&&e[12])&&Sr(e)){n&&n.c(),t=te()},m:function(e,a){n&&n.m(e,a),J(e,t,a),i=!0},p:funcn?(n.p(e,i),12288&i[0]&&Ge(n,1)):((n=Sr(e)).c(),Ge(n,1),n.m(t.parentNode,t)):n&&(Ke(),Xe(n,1,1,(function(){n=null})),Ye())},i:function(e){i||(Gence()},m:function(e,i){l[t].m(e,i),J(e,n,i),a=!0},p:function(p(e,a):(Ke(),Xe(l[r],1,1,(function(){l[r]=null})),Ye(),(i=l[t])?i.p(e,a):(i=l[t]=s[t](e)).c(),Ge(i,1),i.m(n.parentNode,n))},i:function(e){a||(Ge(i),a=!0)},o:function(e){Xe(i),a=!1},d:function(e){e&&K(n),l[t].d(e)}}}function Pr(e){var t,i,n,a,o,s,l,r,d;i=new ci({props:{disabled:e[21],name:["POST","EXIT"].includes(e[5])?"replayButton":"playPauseButton",hideToolTip:!0,iconHeight:e[39],color:e[17],bgColor:e[19],bgSize:e[38]+"px",bgBorderRadius:e[18],border:e[40],toggled:e[7],hoverTransform:"scale(1.2)",noOpacityTransform:e[16],$$slots:{toggled:[Rr],normal:[Er]},$$scope:{ctx:e}}});var u="INIT"===e[5]&&e[41]>360&&!e[32]&&e[22]>0&&(e[3].showStartDuration||void 0===e[3].showStartDuration)&&qr(e);return{c:function(){var l,r,d,c;t=G("div"),ot(i.$$.fragment),n=ee(),u&&u.c(),o=ee(),s=G("div"),oe(t,"class","big-button big-play-pause-button svelte-1hcj69q"),oe(t,"style",a=e[0]("bigPlayButton")),ue(t,"opacity",e[21]?"0":"initial"),ue(t,"--size-big-button",e[38]?"":e[39]/2+"px"),oe(s,"class","center-button-placeholder svelte-1hcj69q"),ue(s,"display",null==(r=null==(l=e[6])?void 0:l.bigPlayButton)||!r.hidden||null!=(c=null==(d=e[6])?void 0:d.centerControls)&&c.hidden?"none":"block"),ue(s,"--size",2*e[42]+e[38]+"px")},m:function(a,c){J(a,t,c),st(i,t,null),F(t,n),u&&u.m(t,null),J(a,o,c),J(a,s,c),l=!0,r||(d=[ie(t,"click",e[97]),ie(t,"mouseenter",ae(e[101]))],r=!0)},p:function(e,n){var o,r,d,c,h={};2097152&n[0]&&(h.disabled=e[21]),32&n[0]&&(h.name=["POST","EXIT"].includes(e[5])?"replayButton":"playPauseButton"),256&n[1]&&(h.iconHeight=e[39]),131072&n[0]&&(h.color=e[17]),524288&n[0]&&(h.bgColor=e[19]),128&n[1]&&(h.bgSize=e[38]+"px"),262144&n[0]&&(h.bgBorderRadius=e[18]),512&n[1]&&(h.border=e[40]),128&n[0]&&(h.toggled=e[7]),65536&n[0]&&(h.noOpacityTransform=e[16]),196640&n[0]|1&n[4]&&(h.$$scope={dirty:n,ctx:e}),i.$set(h),"INIT"===e[5]&&e[41]>360&&!e[32]&&e[22]>0&&(e[3].showStartDuration||void 0===e[3].showStartDuration)?u?u.p(e,n):((u=qr(e)).c(),u.m(t,null)):u&&(u.d(1),u=null),(!l||1&n[0]&&a!==(a=e[0]("bigPlayButton")))&&oe(t,"style",a);var p=1&n[0];(2097153&n[0]||p)&&ue(t,"opacity",e[21]?"0":"initial"),(1&n[0]|384&n[1]||p)&&ue(t,"--size-big-button",e[38]?"":e[39]/2+"px"),64&n[0]&&ue(s,"display",null==(r=null==(o=e[6])?void 0:o.bigPlayButton)||!r.hidden||null!=(c=null==(d=e[6])?void 0:d.centerControls)&&c.hidden?"none":"block"),2176&n[1]&&ue(s,"--size",2*e[42]+e[38]+"px")},i:function(e){l||(Ge(i.$$.fragment,e),l=!0)},o:function(e){Xe(i.$$.fragment,e),l=!1},d:function(e){e&&(K(t),K(o),K(s)),lt(i),u&&u.d(),r=!1,k(d)}}}function xr(e){var t,i,n,a,o,s,l=Et(e[37])+"";return{c:function(){t=G("div"),i=G("div"bargo-text svelte-1hcj69q"),oe(o,"class","soft-embargo-timer svelte-1hcj69q"),oe(t,"class","soft-embargo-container svellor",e[14])},m:function(e,l){J(e,t,l),F(t,i),F(i,n),F(t,a),F(t,o),F(o,s)},p:function(e,i){32&i[1]&&re(n,e[36]),64&i[1]&&l!==(l=Et(e[37])+"")){e&&K(t)}}}function Ar(e){var t,i;return t=new Pn({props:{color:e[17],center:!0}}),{c:function(){ot(t.$$.fra Ir(e){var t,i;return t=new gment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:fagment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Tr(e){var t,i,n,a,o=function(e,t){return e[16]?0:1},s=[Mr,Dr],l=[];return t=o(e),i=l[t]=s[t](e),{c:function(){i.c(),n=te()},m:function(e,i){l[t].m(e,i),J(e,n,i),a=!0},p:function(e,a){var r=t;(t=o(e))===r?l[t].p(e,a):(Ke(),Xe(l[r],1,1,(function(){l[r]=null})),Ye(),(i=l[t])?i.p(e,a):(i=l[t]=s[t](e)).c(),Ge(i,1),i.m(n.parentNode,n))},i:function(e){a||(Ge(i),a=!0)},o:function(e){Xe(i),a=!1},d:function(e){e&&K(n),l[t].d(e)}}}function Dr(e){var t,i;return t=new ts({props:{color:e[17]}}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};131072&i[0]&&(n.color=e[17]),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Mr(e){var t,i;return t=new Dl({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Er(e){var t,i,n,a,o=function(e,t){return"POST"===e[5]||"EXIT"===e[5]?0:e[16]?1:2},s=[Tr,Ir,Ar],l=[];return i=o(e),n=l[i]=s[i](e),{c:function(){t=G("div"),n.c(),oe(t,"slot","normal")},m:function(e,n){J(e,t,n),l[i].m(t,null),a=!0},p:function(e,a){var r=i;(i=o(e))===r?l[i].p(e,a):(Ke(),Xe(l[r],1,1,(function(){l[r]=null})),Ye(),(n=l[i])?n.p(e,a):(n=l[i]=s[i](e)).c(),Ge(n,1),n.m(t,null))},i:function(e){a||(Ge(n),a=!0)},o:function(e){Xe(n),a=!1},d:function(e){e&&K(t),l[i].d()}}}function Br(e){var t,i;return t=new In({props:{color:e[17]}}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};131072&i[0]&&(n.color=e[17]),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Lr(e){var t,i;return t=new Ll({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Rr(e){var t,i,n,a,o=function(e,t){return e[16]?0:1},s=[Lr,Br],l=[];return i=o(e),n=l[i]=s[i](e),{c:function(){t=G("div"),n.c(),oe(t,"slot","toggled")},m:function(e,n){J(e,t,n),l[i].m(t,null),a=!0},p:function(e,a){var r=i;(i=o(e))===r?l[i].p(e,a):(Ke(),Xe(l[r],1,1,(function(){l[r]=null})),Ye(),(n=l[i])?n.p(e,a):(n=l[i]=s[i](e)).c(),Ge(n,1),n.m(t,null))},i:function(e){a||(Ge(n),a=!0)},o:function(e){Xe(n),a=!1},d:function(e){e&&K(t),l[i].d()}}}function qr(e){var t,i,n=Mt(e[22])+"";return{c:function(){t=G("div"),i=Z(n),oe(t,"class","start-time svelte-1hcj69q"),oe(t,"data-cy","start-screen-duration"),ue(t,"margin-top",e[38]?"var(--margin-size)":"calc(-8px + var(--margin-size))"),ue(t,"margin-left",["icon",void 0].includes(e[3].centerButtonType)?"2px":"0")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,a){4194304&a[0]&&n!==(n=Mt(e[22])+"")&&re(i,n),128&a[1]&&ue(t,"margin-top",e[38]?"var(--margin-size)":"calc(-8px + var(--margin-size))"),8&a[0]&&ue(t,"margin-left",["icon",void 0].includes(e[3].centerButtonType)?"2px":"0")},d:function(e){e&&K(t)}}}function Hr(e){var t,i,n,a,o,s;return i=new ci({props:{iconHeight:Math.round(e[33]/1.667),hoverTransform:"scale(1.1)",name:"playNext",hideToolTip:!0,$$slots:{normal:[jr]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","prev-back-button svelte-1hcj69q"),oe(t,"style",n=e[0]("seekButtons"))},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",e[108]),o=!0)},p:function(e,o){var s={};4&o[1]&&(s.iconHeight=Math.round(e[33]/1.667)),1&o[4]&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||1&o[0]&&n!==(n=e[0]("seekButtons")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function Or(e){var t,i,n=!e[20]&&(!e[13]||e[13]&&e[12])&&zr(e);return{c:function(){n&&n.c(),t=te()},m:function(e,a){n&&n.m(e,a),J(e,t,a),i=!0},p:function(e,i){!e[20]&&(!e[13]||e[13]&&e[12])?n?(n.p(e,i),1060864&i[0]&&Ge(n,1)):((n=zr(e)).c(),Ge(n,1),n.m(t.parentNode,t)):n&&(Ke(),Xe(n,1,1,(function(){n=null})),Ye())},i:function(e){i||(Ge(n),i=!0)},o:function(e){Xe(n),i=!1},d:function(e){e&&K(t),n&&n.d(e)}}}function jr(e){var t,i,n;return i=new ql({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function zr(e){var t,i,n,a,o,s;return i=new ci({props:{iconHeight:Math.round(e[33]/1.667),hoverTransform:"scale(1.1)",name:"forwardVideo",hideToolTip:!0,disabled:e[23]&&e[24]>-2,$$slots:{normal:[Vr]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","prev-back-button svelte-1hcj69q"),oe(t,"style",n=e[0]("seekButtons")),oe(t,"data-cy","forward-button")},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",e[107]),o=!0)},p:function(e,o){var s={};4&o[1]&&(s.iconHeight=Math.round(e[33]/1.667)),25165824&o[0]&&(s.disabled=e[23]&&e[24]>-2),1&o[4]&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||1&o[0]&&n!==(n=e[0]("seekButtons")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function Vr(e){var t,i,n;return i=new Il({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Fr(e){var t,i;return(t=new Gl({})).$on("cancel",e[109]),t.$on("ended",e[110]),t.$on("showRelated",e[111]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Ur(e){var t,i,n,a,o,s,l,r,d,u,c,h,p;o=new Qt({props:{$$slots:{default:[Nr]},$$scope:{ctx:e}}});var _=(e[13]||(null==(t=e[8])?void 0:t.length))&&Wr(e);return r=new cr({props:{items:e[4],autoPlayNext:e[11]}}),{c:function(){var t;i=G("div"),n=G("div"),a=G("h2"),ot(o.$$.fragment),s=ee(),_&&_.c(),l=ee(),ot(r.$$.fragment),oe(n,"class","header svelte-1hcj69q"),oe(i,"class","related-items svelte-1hcj69q"),oe(i,"style",d=null!=(t=e[6].relatedItems)&&t.hidden?"opacity: 0; visibility: hidden;":""),he(i,"using-scrubbar",e[43]),he(i,"playing",e[7]),he(i,"waiting",e[9])},m:function(t,d){J(t,i,d),F(i,n),F(n,a),st(o,a,null),F(n,s),_&&_.m(n,null),F(i,l),st(r,i,null),c=!0,h||(p=[ie(i,"mouseenter",e[50]),ie(i,"focus",e[50]),ie(i,"mouseleave",e[49]),ie(i,"blur",e[49])],h=!0)},p:function(e,t){var a,s,l={};1&t[4]&&(l.$$scope={dirty:t,ctx:e}),o.$set(l),e[13]||null!=(a=e[8])&&a.length?_?(_.p(e,t),8448&t[0]&&Ge(_,1)):((_=Wr(e)).c(),Ge(_,1),_.m(n,null)):_&&(Ke(),Xe(_,1,1,(function(){_=null})),Ye());var u={};16&t[0]&&(u.items=e[4]),2048&t[0]&&(u.autoPlayNext=e[11]),r.$set(u),(!c||64&t[0]&&d!==(d=null!=(s=e[6].relatedItems)&&s.hidden?"opacity: 0; visibility: hidden;":""))&&oe(i,"style",d),(!c||4096&t[1])&&he(i,"using-scrubbar",e[43]),(!c||128&t[0])&&he(i,"playing",e[7]),(!c||512&t[0])&&he(i,"waiting",e[9])},i:function(e){c||(Ge(o.$$.fragment,e),Ge(_),Ge(r.$$.fragment,e),He((function(){c&&(u||(u=it(i,zt,{duration:300},!0)),u.run(1))})),c=!0)},o:function(e){Xe(o.$$.fragment,e),Xe(_),Xe(r.$$.fragment,e),u||(u=it(i,zt,{duration:300},!1)),u.run(0),c=!1},d:function(e){e&&K(i),lt(o),_&&_.d(),lt(r),e&&u&&u.end(),h=!1,k(p)}}}function Nr(e){var t;return{c:function(){t=Z("Related videos")},m:function(e,i){J(e,t,i)},d:function(e){e&&K(t)}}}function Wr(e){var t,i,n,a,o;return i=new ci({props:{iconHeight:.7*e[44],bgColor:"rgba(33, 33, 33, 0.7)",$$slots:{normal:[Qr]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","cancel svelte-1hcj69q")},m:function(s,l){J(s,t,l),st(i,t,null),n=!0,a||(o=ie(t,"click",e[112]),a=!0)},p:function(e,t){var n={};8192&t[1]&&(n.iconHeight=.7*e[44]),1&t[4]&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i),a=!1,o()}}}function Qr(e){var t,i,n;return i=new gi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal"),oe(t,"class","button")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Jr(e){var t,i,n,a,o,s,l,r,d;a=new ci({props:{buttonPosition:"relative",bgBorderRadius:e[47]+"px",name:"close",hideToolTip:!0,iconHeight:.8*e[44],bgHeight:e[47]+"px",standalone:!0,text:e[48]?"":"Related videos",$$slots:{normal:[Kr]},$$scope:{ctx:e}}});var u=(null==(t=e[8])?void 0:t.length)&&Yr();return{c:function(){i=G("div"),n=G("div"),ot(a.$$.fragment),s=ee(),u&&u.c(),oe(n,"class","toggle-related-button svelte-1hcj69q"),oe(i,"class","button-container svelte-1hcj69q"),he(i,"hovering-scrubbar",e[45]||e[46])},m:function(t,o){J(t,i,o),F(i,n),st(a,n,null),F(i,s),u&&u.m(i,null),l=!0,r||(d=ie(n,"click",e[113]),r=!0)},p:function(e,t){var n,o={};65536&t[1]&&(o.bgBorderRadius=e[47]+"px"),8192&t[1]&&(o.iconHeight=.8*e[44]),65536&t[1]&&(o.bgHeight=e[47]+"px"),131072&t[1]&&(o.text=e[48]?"":"Related videos"),1&t[4]&&(o.$$scope={dirty:t,ctx:e}),a.$set(o),null!=(n=e[8])&&n.length?u?256&t[0]&&Ge(u,1):((u=Yr()).c(),Ge(u,1),u.m(i,null)):u&&(Ke(),Xe(u,1,1,(function(){u=null})),Ye()),(!l||49152&t[1])&&he(i,"hovering-scrubbar",e[45]||e[46])},i:function(e){l||(Ge(a.$$.fragment,e),e&&He((function(){l&&(o||(o=it(n,zt,{duration:300},!0)),o.run(1))})),Ge(u),l=!0)},o:function(e){Xe(a.$$.fragment,e),e&&(o||(o=it(n,zt,{duration:300},!1)),o.run(0)),Xe(u),l=!1},d:function(e){e&&K(i),lt(a),e&&o&&o.end(),u&&u.d(),r=!1,d()}}}function Kr(e){var t,i,n;return i=new Ol({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal"),oe(t,"class","button")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Yr(e){var t,i;return t=new Da({props:{placeholder:!0}}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Gr(e){var t,i,n,a,o;return i=new ci({props:{bgSize:"36px",iconHeight:18,name:"replayButton",hideToolTip:!0,$,oe(t,"class","mobile-replay-button svelte-1hcj69q")},m:function(s,l){J(s,t,l),st(i,t,null),n=!0,a||(o=ie(t,"click",e[97]),a=!0)},p:function(e,t){var n={};131072&t[0]|1&t[4]&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i),a=!1,o()}}}function Xr(e){var t,i,n;return i=new ts({props:{color:e[17]}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal"),oe(t,"class","button")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:function(e,t){var n={};131072&t[0]&&(n.color=e[17]),i.$set(n)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Zr(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m,f=function(e,t){return"MAIN"!==e[5]||e[11]||e[32]&&!e[23]?e[10]?1:-1:0},v=function(e,t){return"MAIN"!==e[5]||e[11]||e[32]&&!e[23]?!e[10]||e[2]&&!e[12]?-1:1:0},g=e[52](e[28]),y=g&&pr(e),b=[wr,br],w=[];~(a=f(e))&&(o=w[a]=b[a](e));var k=!e[34]&&(!e[11]||e[10])&&Cr(e),$=[Or,Hr],C=[];~(r=v(e))&&(d=C[r]=$[r](e));var S=e[11]&&!e[10]&&(!e[2]||"EXIT"===e[5]&&e[2]&&e[12])&&Fr(e),P=(null==(t=e[4])?void 0:t.length)&&Ur(e),x=e[12]&&e[13]&&!e[1]&&Jr(e),A=e[48]&&"EXIT"===e[5]&&e[12]&&!!e[3].autoPlayNext&&Gr(e);return{c:function(){i=G("div"),y&&y.c(),n=ee(),o&&o.c(),s=ee(),k&&k.c(),l=ee(),d&&d.c(),u=ee(),S&&S.c(),c=ee(),P&&P.c(),h=ee(),x&&x.c(),p=ee(),A&&A.c(),oe(i,"class",_="center-controls skinsize-"+e[25]+" svelte-1hcj69q"),he(i,"mounted-controlbar",e[27]),ue(i,"--gap-size",e[26]+"px")},m:function(e,t){J(e,i,t),y&&y.m(i,null),F(i,n),~a&&w[a].m(i,null),F(i,s),k&&k.m(i,null),F(i,l),~r&&C[r].m(i,null),F(i,u),S&&S.m(i,null),F(i,c),P&&P.m(i,null),F(i,h),x&&x.m(i,null),F(i,p),A&&A.m(i,null),m=!0},p:function(e,t){var I;268435456&t[0]&&(g=e[52](e[28])),g?y?(y.p(e,t),268435456&t[0]&&Ge(y,1)):((y=pr(e)).c(),Ge(y,1),y.m(i,n)):y&&(Ke(),Xe(y,1,1,(function(){y=null})),Ye());var T=a;(a=f(e))===T?~a&&w[a].p(e,t):(o&&(Ke(),Xe(w[T],1,1,(function(){w[T]=null})),Ye()),~a?((o=w[a])?o.p(e,t):(o=w[a]=b[a](e)).c(),Ge(o,1),o.m(i,s)):o=null),e[34]||e[11]&&!e[10]?k&&(Ke(),Xe(k,1,1,(function(){k=null})),Ye()):k?(k.p(e,t),3072&t[0]|8&t[1]&&Ge(k,1)):((k=Cr(e)).c(),Ge(k,1),k.m(i,l));var D=r;(r=v(e))===D?~r&&C[r].p(e,t):(d&&(Ke(),Xe(C[D],1,1,(function(){C[D]=null})),Ye()),~r?((d=C[r])?d.p(e,t):(d=C[r]=$[r](e)).c(),Ge(d,1),d.m(i,u)):d=null),e[11]&&!e[10]&&(!e[2]||"EXIT"===e[5]&&e[2]&&e[12])?S?(S.p(e,t),7204&t[0]&&Ge(S,1)):((S=Fr(e)).c(),Ge(S,1),S.m(i,c)):S&&(Ke(),Xe(S,1,1,(function(){S=null})),Ye()),null!=(I=e[4])&&I.length?P?(P.p(e,t),16&t[0]&&Ge(P,1)):((P=Ur(e)).c(),Ge(P,1),P.m(i,h)):P&&(Ke(),Xe(P,1,1,(function(){P=null})),Ye()),e[12]&&e[13]&&!e[1]?x?(x.p(e,t),12290&t[0]&&Ge(x,1)):((x=Jr(e)).c(),Ge(x,1),x.m(i,p)):x&&(Ke(),Xe(x,1,1,(function(){x=null})),Ye()),e[48]&&"EXIT"===e[5]&&e[12]&&e[3].autoPlayNext?A?(A.p(e,t),4136&t[0]|131072&t[1]&&Ge(A,1)):((A=Gr(e)).c(),Ge(A,1),A.m(i,null)):A&&(Ke(),Xe(A,1,1,(function(){A=null})),Ye()),(!m||33554432&t[0]&&_!==(_="center-controls skinsize-"+e[25]+" svelte-1hcj69q"))&&oe(i,"class",_),(!m||167772160&t[0])&&he(i,"mounted-controlbar",e[27]),67108864&t[0]&&ue(i,"--gap-size",e[26]+"px")},i:function(e){m||(Ge(y),Ge(o),Ge(k),Ge(d),Ge(S),Ge(P),Ge(x),Ge(A),m=!0)},o:function(e){Xe(y),Xe(o),Xe(k),Xe(d),Xe(S),Xe(P),Xe(x),Xe(A),m=!1},d:function(e){e&&K(i),y&&y.d(),~a&&w[a].d(),k&&k.d(),~r&&C[r].d(),S&&S.d(),P&&P.d(),x&&x.d(),A&&A.d()}}}function ed(e,t,i){var n,a,o,l,r,d,u,c,h,p,_,m,f,v,g,y,b,w,k,$,C,S,P,I,T,D,M,E,B,L,R,q,H,O,j,z,V,F,U,N,W,Q,J,K,Y,G,X,Z,ee,te,ie,ne,ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;fe(Math.min(P+e,S?0:C))},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;fe(Math.max(P-e,S?C:0))},se=function(e){var t,n,a,o;ve(null==(t=y[0])?void 0:t.id,null==(n=y[0])?void 0:n.type,null==(a=y[0])?void 0:a.deeplink,null==(o=y[0])?void 0:o.gendeeplink,e),i(10,_t=!1)},le=function(){i(10,_t=!0),de(!0)},re=function(){se("autoPlayNext")},de=function(e){var t,i=!1===(void 0!==e?e:!(null==(t=null==f?void 0:f.relatedItems)||!t.hidden))||void 0;et.set(s.default({},f,{relatedItems:{hidden:i}})),Ne.set(x(Ne)+1)},ue=t.iStyle,ce=t.hideRelatedButton,he=void 0!==ce&&ce,pe=Ae(Ht),_e=pe.continueCountdown,me=pe.pauseCountdown,fe=pe.seekTo,ve=pe.loadRelatedItem,ge=pe.showCastTargets,ye=pe.castingActive,be=pe.api,we=pe.gapSize,ke=pe.centerButtonSize,$e=pe.centerButtonBgSize,Ce=pe.centerButtonBorder,Se=pe.centerButtonBorderWidth,Pe=pe.bigIconSize,xe=pe.useMobileToggleRelated,Ie=pe.skinSizeHeight,Te=pe.screenXXS,De=pe.hoveringScrubbar,Me=pe.configPaneOpen,Ee=pe.barButtonSize,Be=pe.barIconSize,Le=pe.accentColor,Re=pe.currentTime,qe=pe.duration,He=pe.phase,Oe=pe.playerWidth,je=pe.playing,ze=pe.detections,Ve=pe.waiting,Fe=pe.mountedControlbar,Ue=pe.mouseOverInterface,Ne=pe.triggeredRelated,We=pe.livePlayer,Qe=pe.livePlayerWithDvr,Je=pe.foregroundColor,Ke=pe.iconContrastColor,Ye=pe.castSession,Ge=pe.castState,Xe=pe.started,Ze=pe.touchMode,et=pe.callOverrides,tt=pe.relatedItems,it=pe.usingScrubbar,nt=pe.playout,at=pe.elementVisibility,ot=pe.entity,st=pe.castType,lt=pe.play,rt=pe.pause,dt=pe.highlightList,ut=pe.softEmbargoText,ct=pe.softEmbargoTimerActive,ht=pe.softEmbargoTimerTime,pt=pe.notificationButtonActive;A(e,we,(function(e){return i(26,L=e)})),A(e,ke,(function(e){return i(39,J=e)})),A(e,$e,(function(e){return i(38,Q=e)})),A(e,Ce,(function(e){return i(40,K=e)})),A(e,Se,(function(e){return i(42,G=e)})),A(e,Pe,(function(e){return i(33,V=e)})),A(e,xe,(function(e){return i(2,v=e)})),A(e,Ie,(function(e){return i(25,B=e)})),A(e,Te,(function(e){return i(48,ne=e)})),A(e,De,(function(e){return i(45,ee=e)})),A(e,Me,(function(e){return i(46,te=e)})),A(e,Ee,(function(e){return i(47,ie=e)})),A(e,Be,(function(e){return i(44,Z=e)})),A(e,Le,(function(e){return i(104,D=e)})),A(e,Re,(function(e){return i(24,P=e)})),A(e,qe,(function(e){return i(22,C=e)})),A(e,He,(function(e){return i(5,b=e)})),A(e,Oe,(function(e){return i(41,Y=e)})),A(e,je,(function(e){return i(7,k=e)})),A(e,ze,(function(e){return i(105,M=e)})),A(e,Ve,(function(e){return i(9,E=e)})),A(e,Fe,(function(e){return i(27,R=e)})),A(e,We,(function(e){return i(32,z=e)})),A(e,Qe,(function(e){return i(23,S=e)})),A(e,Je,(function(e){return i(102,I=e)})),A(e,Ke,(function(e){return i(103,T=e)})),A(e,Ye,(function(e){return i(31,j=e)})),A(e,Ge,(function(e){return i(28,q=e)})),A(e,Xe,(function(e){return i(30,O=e)})),A(e,Ze,(function(e){return i(114,m=e)})),A(e,et,(function(e){return i(115,f=e)})),A(e,tt,(function(e){return i(4,y=e)})),A(e,it,(function(e){return i(43,X=e)})),A(e,nt,(function(e){return i(3,g=e)})),A(e,at,(function(e){return i(6,w=e)})),A(e,st,(function(e){return i(29,H=e)})),A(e,dt,(function(e){return i(8,$=e)})),A(e,ut,(function(e){return i(36,N=e)})),A(e,ct,(function(e){return i(35,U=e)})),A(e,ht,(function(e){return i(37,W=e)})),A(e,pt,(function(e){return i(34,F=e)}));var _t=!1;ot.subscribe((function(){i(10,_t=!1)})),xe.subscribe((function(e){de(!e||"EXIT"===b&&!n)})),He.subscribe((function(e){"EXIT"===e&&null!=y&&y.length&&!g.autoPlayNext&&de(!0),"PRE"===e&&v&&de(!1)}));return e.$$set=function(e){"iStyle"in e&&i(0,ue=e.iStyle),"hideRelatedButton"in e&&i(1,he=e.hideRelatedButton)},e.$$.update=function(){var t;56&e.$$.dirty[0]&&i(11,n="EXIT"===b&&(null==y?void 0:y.length)&&!!g.autoPlayNext),640&e.$$.dirty[0]&&i(21,a=E&&k),4096&e.$$.dirty[3]&&i(20,o=null==M?void 0:M.isMobileDevice),8&e.$$.dirty[0]|2048&e.$$.dirty[3]&&i(19,l=function(e,t){return["round","square","outline"].includes(e)?t:["inversed"].includes(e)?"transparent":["outline"].includes(e)?"white":"transparent"}(g.centerButtonType,D)),8&e.$$.dirty[0]&&i(18,r="square"===g.centerButtonType?"2px":"50%"),8&e.$$.dirty[0]|1536&e.$$.dirty[3]&&i(17,d="inversed"===g.centerButtonType?"transparent":["round","square","outline"].includes(g.centerButtonType)?T:I),8&e.$$.dirty[0]&&i(16,u="inversed"===g.centerButtonType),8&e.$$.dirty[0]&&i(15,c=(null==g?void 0:g.softEmbargoTimerHidden)||!1),8&e.$$.dirty[0]&&i(14,h="#"+((null==g?void 0:g.softEmbargoFontColor)||"ffffff")),444&e.$$.dirty[0]&&i(13,p=(null==y?void 0:y.length)&&(v||(null==$?void 0:$.length))&&("EXIT"===b&&"show"===g.relatedItems||!k&&"MAIN"===b&&"show"===g.relatedItemsPause)),64&e.$$.dirty[0]&&i(12,_=!(null==(t=null==w?void 0:w.relatedItems)||!t.hidden))},[ue,he,v,g,y,b,w,k,$,E,_t,n,_,p,h,c,j,z,V,F,Ue,ne,_e,me,ge,ye,we,ke,$e,Ce,Se,Pe,xe,Ie,Te,De,Me,Ee,Be,Le,Re,qe,He,Oe,je,ze,Ve,Fe,We,Qe,Je,Ke,Ye,Ge,Xe,Ze,et,tt,it,nt,at,st,dt,ut,ct,ht,pt,ae,oe,se,function(){be&&(k?rt():lt())},le,re,de,function(){m||Ue.set(!1)},I,T,D,M,function(){return oe()},function(){return ae()},function(){return se("RelatedItem")},function(){return le()},function(){return re()},function(){return de()},function(){return de()},function(){return de()}]}var td=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,ed,Zr,C,{iStyle:0,hideRelatedButton:1},hr,[-1,-1,-1,-1,-1]),c.default(n)}return i}(ut);function id(e){var t,i,n;return(i=new nn({props:{menuName:"Chapters",options:e[1],optionActiveIndex:e[1].findIndex(e[9]),hideHeaderArrow:!0,alignLeft:!e[3]}})).$on("headerClick",e[10]),i.$on("itemClick",e[11]),{c:function(){t=G("div"),ot(i.$$.fragment)},m:function(a,o){J(a,t,o),st(i,t,null),e[12](t),n=!0},p:function(e,t){var n=l.default(t,1)[0],a={};2&n&&(a.options=e[1]),6&n&&(a.optionActiveIndex=e[1].findIndex(e[9])),8&n&&(a.alignLeft=!e[3]),i.$set(a)},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(n){n&&K(t),lt(i),e[12](null)}}}function nd(e,t,i){var n,a,o,s=function(e){u.set(-1),c(Math.max(e,.01),!0),m("toggle")},l=Ae(Ht),r=l.chapterList,d=l.currentChapter,u=l.hoverChapterIndex,c=l.seekTo,h=l.trapAriaTabFocus,p1,n=e)})),A(e,d,(function(e){return i(2,a=e)})),A(e,p,(function(e){return i(3,o=e)}));var _,m=Pe();Ce((function(){h(_,".button-content")}));return[_,n,a,o,r,d,p,m,s,function(e){return e.id===(null==a?void 0:a.id)},function(){return m("toggle")},function(e){var t;return s(null==(t=e.detail)?void 0:t.start)},function(e){De[e?"unshift":"push"]((function(){i(0,_=e)}))}]}var ad=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,nd,id,C,{}),c.default(n)}return i}(ut);function od(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M2.01 14.404c3.022 0 6.306-.152 9.072-1.793C14.023 10.864 16 7.389 16 3.964h-2.105c0 2.738-1.573 5.513-3.916 6.905-2.571 1.526-5.826 1.507-8.977 1.489H0V14.4h.988 1.017l.005.005zm11.885 3.619H.005V20h13.89v-1.977zM9.571 0v1.968c0 4.974-2.87 5.992-7.18 5.992H.014v2.074H2.39c2.305 0 9.319 0 9.319-8.066V0H9.571z"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 25 20"),oe(t,"fill","#fff")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var sd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,od,C,{}),c.default(n)}return i}(ut);function ld(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M21.333.5H2.667C1.194.5 0 1.694 0 3.167v10.667C0 15.306 1.194 16.5 2.667 16.5h18.667c1.473 0 2.667-1.194 2.667-2.667V3.167A2.67 2.67 0 0 0 21.333.5zM22 13.833a.67.67 0 0 1-.667.667H2.667A.67.67 0 0 1 2 13.833V3.167a.67.67 0 0 1 .667-.667h18.667a.67.67 0 0 1 .667.667v10.667zM5.833 4.167h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1c0-.279-.221-.5-.5-.5zm2.333 2h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1c0 .279.221.5.5.5zm3.333 0h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1c0 .279.221.5.5.5zm3.333 0h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1c0 .279.221.5.5.5zm4.333-2h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1c0-.279-.221-.5-.5-.5zM5.833 7.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V8c0-.279-.221-.5-.5-.5zm2.333 2h1a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1c0 .279.221.5.5.5zm3.333 0h1A.5.5 0 0 0 13 9V8a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1c0 .279.221.5.5.5zm3.333 0h1a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1c0 .279.221.5.5.5zm4.333-2h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V8c0-.279-.221-.5-.5-.5zm-2.5 3.667H7.333c-.371 0-.667.296-.667.667v.667c0 .37.297.667.667.667h9.333c.37 0 .667-.297.667-.667v-.667c0-.371-.296-.667-.667-.667z"),oe(i,"fill","#fff"),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 25 17"),oe(t,"fill","none")},m:function(e,n){J(e,t,n),F(t,i)},p:v,i:v,o:v,d:function(e){e&&K(t)}}}var rd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,null,ld,C,{}),c.default(n)}return i}(ut);function dd(e){var t,i,n=e[4].length&&function(e){var t,i,n,a;return(i=new nn({props:{customPos:!0,menuName:"custom",hideHeader:!0,options:e[4],optionActiveIndex:-1}})).$on("itemClick",e[8]),{c:function(){var a,o,s,l;t=G("div"),ot(i.$$.fragment),oe(t,"class","context-menu-inner"),oe(t,"style",n="transform:".concat((null!=(a=e[0])&&a.x?"translateX("+(null==(o=e[0])?void 0:o.x)+")":"")+(null!=(s=e[0])&&s.y?"translateY("+(null==(l=e[0])?void 0:l.y)+")":"")))},m:function(n,o){J(n,t,o),st(i,t,null),e[9](t),a=!0},p:function(e,i){var o,s,l,r;(!a||1&i&&n!==(n="transform:".concat((null!=(o=e[0])&&o.x?"translateX("+(null==(s=e[0])?void 0:s.x)+")":"")+(null!=(l=e[0])&&l.y?"translateY("+(null==(r=e[0])?void 0:r.y)+")":""))))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(n){n&&K(t),lt(i),e[9](null)}}}(e);return{c:function(){n&&n.c(),t=te()},m:function(e,a){n&&n.m(e,a),J(e,t,a),i=!0},p:function(e,t){var i=l.default(t,1)[0];e[4].length&&n.p(e,i)},i:function(e){i||(Ge(n),i=!0)},o:function(e){Xe(n),i=!1},d:function(e){e&&K(t),n&&n.d(e)}}}function ud(e,t,i){var n,a,o,s=function(e){var t;"keyboard_shortcuts"===(null==(t=null==e?void 0:e.detail)?void 0:t.value)&&d.set(!0),null==f||f()},l=Ae(Ht),r=l.api,d=l.keyboardShortcutPaneOpen,u=l.playout,c=l.translate,h=l.skinMode,p=l.trapAriaTabFocus,_=l.userDisabledShortcuts;A(e,u,(function(e){return i(11,o=e)})),A(e,_,(function(e){return i(10,a=e)}));var m,f=t.onItemSelected,v=t.transform,g=void 0===v?{}:v,y=t.contextMenuByMouseClick,b=void 0===y||y,w=null==(n=null==r?void 0:r.getPublicationData)?void 0:n.call(r),k="https://www.bluebillywig.com/?utm_medium=referral&utm_campaign=player-traffic".concat(null!=w&&w.name?"&pp="+encodeURIComponent(w.name)+"&utm_source="+encodeURIComponent(w.name):"&utm_source=bbvms"),$=[];Ce((function(){p(m,".button-content",0,!b)})),o.disableContextMenuNavigate||$.push({label:c("Blue Billywig video player"),value:"bluebillywig",href:k,icon:sd}),(!o.disableKeyboardControls||a)&&"main"===h&&$.push({label:c("Keyboard shortcuts"),value:"keyboard_shortcuts",icon:rd});return e.$$set=function(e){"onItemSelected"in e&&i(6,f=e.onItemSelected),"transform"in e&&i(0,g=e.transform),"contextMenuByMouseClick"in e&&i(7,b=e.contextMenuByMouseClick)},[g,m,u,_,$,s,f,b,function(e){return s(e)},function(e){De[e?"unshift":"push"]((function(){i(1,m=e)}))}]}var cd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,ud,dd,C,{onItemSelected:6,transform:0,contextMenuByMouseClick:7}),c.default(n)}return i}(ut);function hd(e){U(e,"svelte-1ape8cz",".mobile-control.svelte-1ape8cz.svelte-1ape8cz{--bg-tap:rgba(0, 0, 0, 0.4);position:absolute;top:-12%;bottom:-12%;pointer-events:all;display:flex;justify-content:center;align-items:center;transition:background-color 0.2s ease-in-out;overflow:hidden;transform:translateZ(0)}.mobile-control.active.svelte-1ape8cz.svelte-1ape8cz{background-color:var(--bg-tap)}.mobile-control.position-back.svelte-1ape8cz.svelte-1ape8cz{left:0;right:60%;border-radius:0 50% 50% 0}.mobile-control.position-back.svelte-1ape8cz .content .caret.svelte-1ape8cz{transform:rotate(180deg)}.mobile-control.position-forward.svelte-1ape8cz.svelte-1ape8cz{right:0;left:60%;border-radius:50% 0 0 50%}.mobile-control.svelte-1ape8cz .content.svelte-1ape8cz{display:flex;flex-direction:column;gap:6px;align-items:center;font-weight:bold}@supports (-webkit-touch-callout: none) and (not (translate: none)){}.mobile-control.svelte-1ape8cz .content .caret.svelte-1ape8cz{display:flex;gap:2px;height:calc(1.5 * var(--margin-size));width:100%}@supports (-webkit-touch-callout: none) and (not (translate: none)){}@keyframes svelte-1ape8cz-ripple{to{transform:scale(4);opacity:0}}.mobile-control.svelte-1ape8cz .ripple.svelte-1ape8cz{position:absolute;border-radius:50%;transform:scale(0);animation:svelte-1ape8cz-ripple 1000ms linear;background-color:var(--bg-tap)}")}function pd(e){var t,i,n,a,o,s,l,r,d,u,c,h,p=Mt(e[1].offset)+"";n=new ki({props:{animationDelay:"0s"}}),o=new ki({props:{animationDelay:"0.1s"}}),l=new ki({props:{animationDelay:"0.2s"}});var _=e[2]&&_d(e);return{c:function(){t=G("div"),i=G("div"),ot(n.$$.fragment),a=ee(),ot(o.$$.fragment),s=ee(),ot(l.$$.fragment),r=ee(),d=Z(p),u=ee(),_&&_.c(),c=te(),oe(i,"class","caret svelte-1ape8cz"),oe(t,"class","content svelte-1ape8cz")},m:function(e,p){J(e,t,p),F(t,i),st(n,i,null),F(i,a),st(o,itie)).c(),_.m(c.parentNode,c)):_&&(_.d(1),_=null)},i:function(e){h||(Ge(n.$$.fragment,e),Ge(o.$$.fragment,e),Ge(l.$$.fragment,e),h=!0)},o:function(e){Xe(n.$$.fragment,e),Xe(o.$$.fragment,e),Xe(l.$$.fragment,e),h=!1},d:function(e){e&&(K(t),K(u),K(c)),lt(n),lt(o),lt(l),_&&_.d(e)}}}function _d(e){var t;return{c:function(){oe(t=G("div"),"class","ripple svelte-1ape8cz"),ue(t,"left",e[3]),ue(t,"top",e[4]),ue(t,"width",e[5]),ue(t,"height",e[5])},m:function(e,i){J(e,t,i)},p:function(e,i){8&i&&ue(t,"left",e[3]),16&i&&ue(t,"top",e[4]),32&i&&ue(t,"width",e[5]),32&i&&ue(t,"height",e[5])},d:function(e){e&&K(t)}}}function md(e){var t,i,n,a,o,s=e[1].offset>0&&pd(e);return{c:function(){t=G("div"),s&&s.c(),oe(t,"class",i=B("mobile-control position-".concat(e[0]))+" svelte-1ape8cz"),he(t,"active",e[1].offset>0)},m:function(i,l){J(i,t,l),s&&s.m(t,null),n=!0,a||(o=[ie(t,"touchend",ne(e[8])),ie(t,"contextmenu",e[9])],a=!0)},p:function(e,a){var o=l.default(a,1)[0];e[1].offset>0?s?(s.p(e,o),2&o&&Ge(s,1)):((s=pd(e)).c(),Ge(s,1),s.m(t,null)):s&&(Ke(),Xe(s,1,1,(function(){s=null})),Ye()),(!n||1&o&&i!==(i=B("mobile-control position-".concat(e[0]))+" svelte-1ape8cz"))&&oe(t,"class",i),(!n||3&o)&&he(t,"active",e[1].offset>0)},i:function(e){n||(Ge(s),n=!0)},o:function(e){Xe(s),n=!1},d:function(e){e&&K(t),s&&s.d(),a=!1,k(o)}}}function fd(e,t,i){var n=function(e){if(v)i(6,v=!1);else if(!x(r)||x(d)){if(!h.timeoutId)return l.set(!0),void a(gt);i(1,h.offset+=10,h),clearTimeout(h.timeoutId),a(500),o(e),c("doubleTap",10)}},a=function(e){i(1,h.timeoutId=setTimeout((function(){i(1,h.offset=0,h),i(1,h.timeoutId=0,h)}),e),h)},o=function(e){var t=e.currentTarget;i(2,p=!1);var n=t.getBoundingClientRect(),a=Math.max(n.width,n.height),o=a/2;i(5,f=a+"px"),i(3,_="".concat(e.clientX-(n.left+o),"px")),i(4,m="".concat(e.clientY-n.top-o,"px")),qe().then((function(){i(2,p=!0)}))},s=Ae(Ht),l=s.closeAllPanes,r=s.livePlayer,d=s.livePlayerWithDvr,u=t.position,c=Pe(),h={offset:0,timeoutId:0},p=!1,_="",m="",f="",v=!1;return e.$$set=function(e){"position"in e&&i(0,u=e.position)},[u,h,p,_,m,f,v,n,function(e){return n(e)},function(){i(6,v=!0)}]}var vd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,fd,md,C,{position:0},hd),c.default(n)}return i}(ut);function gd(e){U(e,"svelte-1al200m",".speedback-container.svelte-1al200m.svelte-1al200m{font-size:0.9em;overflow-x:auto;overflow-y:hidden;scrollbar-width:thin;height:100%;display:flex;align-items:center;justify-content:center;padding:0 12px;border-radius:var(--border-radius-skin);background-color:#4b4b4b;scroll-padding:50%}.speedback-container.svelte-1al200m.svelte-1al200m::-webkit-scrollbar{width:5px;height:5px}.speedback-container.svelte-1al200m.svelte-1al200m::-webkit-scrollbar-track{background:#888}.speedback-container.svelte-1al200m.svelte-1al200m::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.speedback-container.svelte-1al200m.svelte-1al200m::-webkit-scrollbar-thumb:hover{background:#f1f1f1}.speedback-container.svelte-1al200m .speedback-option.svelte-1al200m{padding:4px 2px 0px;border-bottom:1px solid transparent;line-height:unset;min-width:35px;overflow:hidden;flex-shrink:0}.speedback-container.svelte-1al200m .speedback-option .active.svelte-1al200m{border-bottom:1px solid white;font-weight:bold}.speedback-container.svelte-1al200m .speedback-option.svelte-1al200m svg,.speedback-container.svelte-1al200m .speedback-option.svelte-1al200m [slot]{min-height:calc(100% + 3px)}.speedback-container.svelte-1al200m .speedback-option.close.svelte-1al200m{padding-right:0;border-left:1px solid rgba(255, 255, 255, 0.3)}.speedback-container.svelte-1al200m .speedback-option.close.svelte-1al200m svg,.speedback-container.svelte-1al200m .speedback-option.close.svelte-1al200m [slot]{min-height:unset}")}function yd(e,t,i){var n=e.slice();return n[14]=t[i],n}function bd(e){var t,i;return{c:function(){t=G("div"),(i=G("div")).textContent="".concat(e[14]),oe(i,"class","svelte-1al200m"),he(i,"active",e[14]===e[2]),oe(t,"slot","normal")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,t){4&t&&he(i,"active",e[14]===e[2])},d:function(e){e&&K(t)}}}function wd(e){var t,i,n,a,o,s,l=function(){return e[10](e[14])};return i=new ci({props:{isSquare:!0,iconHeight:.7*e[3],hideToolTip:!0,bgSize:e[4]+"px",disabled:!e[1],$$slots:{normal:[bd]},$$scope:{ctx:e}}}),{c:function(){t=G("li"),ot(i.$$.fragment),n=ee(),oe(t,"class","speedback-option svelte-1al200m"),he(t,"is-active",e[14]===e[2])},m:function(e,r){J(e,t,r),st(i,t,null),F(t,n),a=!0,o||(s=ie(t,"click",ae(l)),o=!0)},p:function(n,o){e=n;var s={};8&o&&(s.iconHeight=.7*e[3]),16&o&&(s.bgSize=e[4]+"px"),2&o&&(s.disabled=!e[1]),131076&o&&(s.$$scope={dirty:o,ctx:e}),i.$set(s),(!a||4&o)&&he(t,"is-active",e[14]===e[2])},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i),o=!1,s()}}}function kd(e){var t,i,n;return i=new gi({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function $d(e){for(var t,i,n,a,o,s,r,d=nt(vt),u=[],c=0;c<d.length;c+=1)u[c]=wd(yd(e,d,c));var h=function(e){return Xe(u[e],1,1,(function(){u[e]=null}))};return a=new ci({props:{isSquare:!0,iconHeight:.7*e[3],hideToolTip:!0,bgSize:e[4]+"px",$$slots:{normal:[kd]},$$scope:{ctx:e}}}),{c:function(){t=G("ul");for(var e=0;e<u.length;e+=1)u[e].c();i=ee(),n=G("div"),ot(a.$$.fragment),oe(n,"class","speedback-option close svelte-1al200m"),oe(t,"class","speedback-container svelte-1al200m")},m:function(l,d){J(l,t,d);for(var c=0;c<u.length;c+=1)u[c]&&u[c].m(t,null);F(t,i),F(t,n),st(a,n,null),e[12](t),o=!0,s||(r=ie(n,"click",ae(e[11])),s=!0)},p:function(e,n){var o=l.default(n,1)[0];if(542&o){var s;for(d=nt(vt),s=0;s<d.length;s+=1){var r=yd(e,d,s);u[s]?(u[s].p(r,o),Ge(u;sope={dirty:o,ctx:e}),a.$set(c)},i:function(e){if(!o){for(var t=0;t<d.length;t+=1)Ge(u[t]).filter(Boolean);for(var t=0;t<u.length;t+=1)Xe(u[t]);Xe(a.$$.fragment,e),o=!1},d:function(i){i&&K(t),Y(u,i),lt(a),e[12](null),s=!1,r()}}}function Cd(e,t,i){var n,a,o,s=function(e){r.setPlaybackRate(e),_("close")},l=Ae(Ht),r=l.api,d=l.playRate,u=l.barIconSize,c=l.barButtonSize;A(e,d,(function(e){return i(2,n=e)})),A(e,u,(function(e){return i(3,a=e)})),A(e,c,(function(e){return i(4,o=e)}));var h,p=!1,_=Pe();Ce((function(){h.querySelector(".is-active").scrollIntoView({behavior:"smooth",inline:"nearest",block:"nearest"}),setTimeout((function(){i(1,p=!0)}),200)}));return[h,p,n,a,o,d,u,c,_,s,function(e){return s(e)},function(){return _("close")},function(e){De[e?"unshift":"push"]((function(){i(0,h=e)}))}]}var Sd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Cd,$d,C,{},gd),c.default(n)}return i}(ut);function Pd(e){U(e,"svelte-1m5jdp7",".highlights-container.svelte-1m5jdp7.svelte-1m5jdp7{display:grid;align-items:end;-webkit-mask-composite:destination-in;mask-composite:destination-in;max-height:max(50vh, 400px);scrollbar-width:none}.highlights-container.svelte-1m5jdp7.svelte-1m5jdp7::-webkit-scrollbar{width:0;height:0}.highlights-container.svelte-1m5jdp7 ul.svelte-1m5jdp7{display:flex;flex-direction:column;align-items:end}.highlights-container.svelte-1m5jdp7 .highlight-item.svelte-1m5jdp7{padding:0.75em calc(var(--margin-size) * 0.8);margin:0.25em 2px;border-radius:5em;max-width:calc(100% - 1.5em);background-color:var(--bg-color-highlight-pane);cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:all;transition:background-color 0.4s ease;font-size:0.8em;max-width:80%;white-space:nowrap;overflow:hidden !important;text-overflow:ellipsis}.highlights-container.svelte-1m5jdp7 .highlight-item.svelte-1m5jdp7:hover{background-color:var(--bg-color-pane-hover)}.highlights-container.svelte-1m5jdp7 .highlight-item.svelte-1m5jdp7:last-of-type{margin-bottom:1.1em}.highlights-container.svelte-1m5jdp7.svelte-1m5jdp7:not(.horizontal){--top:calc(var(--margin-size) * 2 + var(--bar-button-size) * 0.67);--bottom:calc(100% - var(--bar-button-size) * 1.2);--fade-height:calc(var(--bar-button-size) * 0.75);--mi:linear-gradient(\n  \t180deg,\n  \ttransparent calc(var(--top) - var(--fade-height)),\n  \trgba(0, 0, 0, 1) var(--top),\n  \trgba(0, 0, 0, 1) calc(var(--bottom) - 0px),\n  \ttransparent calc(var(--bottom) * 1.035)\n  );grid-template-rows:var(--top) 1fr calc(var(--fade-height));grid-template-columns:100%;justify-content:end;height:100%;max-width:40%;-webkit-mask-image:var(--mi);mask-image:var(--mi);overflow-y:auto;padding-bottom:10px}.highlights-container:not(.horizontal).show-mask.svelte-1m5jdp7.svelte-1m5jdp7{--mi:linear-gradient(\n  \t180deg,\n  \ttransparent calc(var(--top) - var(--fade-height)),\n  \trgba(0, 0, 0, 1) var(--top),\n  \trgba(0, 0, 0, 1) calc(var(--bottom) - var(--fade-height)),\n  \ttransparent var(--bottom)\n  )}.highlights-container.horizontal.svelte-1m5jdp7.svelte-1m5jdp7{align-items:center;margin-left:-1.5%;grid-template-columns:2% 1fr 2%;grid-template-rows:100%;width:100%;max-height:25%;height:var(--bar-button-size);overflow-x:auto;--mi:linear-gradient(\n  \t90deg,\n  \ttransparent 0%,\n  \trgba(0, 0, 0, 1) 3%,\n  \trgba(0, 0, 0, 1) calc(100% - var(--bar-button-size) * 1.75),\n  \ttransparent calc(100% - var(--bar-button-size) * 1.2)\n  );mask-image:var(--mi);-webkit-mask-image:var(--mi);padding-right:var(--bar-button-size)}.highlights-container.horizontal.svelte-1m5jdp7 ul.svelte-1m5jdp7{flex-direction:row}.highlights-container.horizontal.svelte-1m5jdp7 .highlight-item.svelte-1m5jdp7{padding:0.75em;margin:2px 0.25em;max-width:16em}.highlights-container.horizontal.svelte-1m5jdp7ne-hover)}.highlights-container.horizontal.svelte-1m5jdp7 .highlight-item.svelte-1m5jdp7:last-of-type{margin-bottom:2px;margin-right:1.1em}")}function xd(e,t,i){var n=e.slice();return n[26]=t[i],n[27]=t,n[28]=i,n}function Ad(e){var t,i,a,o,s,l,r=function(){return e[18](ear;a<t;a++)i[a]=arguments[a];var o;return(o=e)[19].apply(o,[e[26]].concat(n.default(i)))},u=function(){return e[20](e[28])},c=e[26].title+"",h=e[28],p=function(){return e[17](t,h)},_=function(){return e[17](null,h)};return{c:function(){t=G("li"),i=Z(c),a=ee(),oe(t,"class","highlight-item svelte-1m5jdp7"),oe(t,"tabindex","0"),oe(t,"title",o=Lt(e[1][e[28]])?e[26].title:"")},m:function(n,o){J(n,t,o),F(t,i),F(t,a),p(),s||(l=[ie(t,"click",ae(r)),ie(t,"keydown",d),ie(t,"mouseenter",u),ie(t,"mouseleave",e[21])],s=!0)},p:function(n,a){e=n,128&a&&c!==(c=e[26].title+"")&&re(i,c),130&a&&o!==(o=Lt(e[1][e[28]])?e[26].title:"")&&oe(t,"title",o),h!==e[28]&&(_(),h=e[28],p())},d:function(e){e&&K(t),_(),s=!1,k(l)}}}function Id(e){for(var t,i,n,a,o,s,r,d,u,c,h=nt(e[7]),p=[],_=0;_<h.length;_+=1)p[_]=Ad(xd(e,h,_));return{c:function(){t=G("div"),i=G("div"),n=ee(),a=G("ul");for(var l=0;l<p.length;l+=1)p[l].c();o=ee(),s=G("div"),oe(i,"class","padding-item"),oe(a,"class","svelte-1m5jdp7"),oe(s,"class","padding-item"),oe(t,"class","highlights-container svelte-1m5jdp7"),he(t,"show-mask",e[4]&&!e[5]),he(t,"horizontal",e[6])},m:function(l,r){J(l,t,r),F(t,i),F(t,n),F(t,a);for(var h=0;h<p.length;h+=1)p[h]&&p[h].m(a,null);e[22](a),F(t,o),F(t,s),e[23](t),d=!0,u||(c=ie(t,"scroll",e[13]),u=!0)},p:function(e,i){var n=l.default(i,1)[0];if(4227&n){var o;for(h=nt(e[7]),o=0;o<h.length;o+=1){var s=xd(e,h,o);p[o]?p[o].p(s,n):(p[o]=Ad(s),p[o].c(),p[o].m(a,null))}for(;o<p.length;o+=1)p[o].d(1);p.length=h.length}(!d||48&n)&&he(t,"show-mask",e[4]&&!e[5]),(!d||64&n)&&he(t,"horizontal",e[6])},i:function(e){d||(He((function(){d&&(r||(r=it(t,zt,{duration:200},!0)),r.run(1))})),d=!0)},o:function(e){r||(r=it(t,zt,{duration:200},!1)),r.run(0),d=!1},d:function(i){i&&K(t),Y(p,i),e[22](null),e[23](null),i&&r&&r.end(),u=!1,c()}}}function Td(e,t,i){var n,a,o,s,l,r=function(e){p.set(e)},d=function(){if(y){i(4,w=y.scrollHeight>y.clientHeight);var e=y.querySelector(".highlight-item:last-child");if(e){var t=e.getBoundingClientRect(),n=y.getBoundingClientRect(),a=1.3*t.height;i(5,k=t.top>=n.top&&t.bottom<=n.bottom-a)}}},u=t.goToHighlight,c=Ae(Ht),h=c.highlightList,p=c.hoverHighlightIndex,_=c.trapAriaTabFocus,m=c.playerWidth,f=c.playerHeight,v=c.touchMode;A(e,h,(function(e){return i(7,l=e)})),A(e,m,(function(e){return i(16,s=e)})),A(e,f,(fun;Ce((function(){_(g,".highlight-item",0),d(),window.addEventListener("resize",d),window.addEventListener("scroll",d)})),Se((function(){window.removeEventListener("resize",d),window.removeEventListener("scroll",don(e){"goToHighlight"in e&&i(0,u=e.goToHighlight)},e.$$.update=function(){114688&e.$$.dirty&&i(6,n=s>o&&o<400&&a)},[u,b,g,y,w,k,n,l,h,m,f,v,r,d,a,o,s,function(e,t){De[e?"unshift":"push"]((function(){b[t]=e,i(1,b)}))},function(e){return u(e.start)},function(e,t){("Enter"===t.key||" "===t.key)&&(t.preventDefault(),t.stopPropagation(),u(e.start))},function(e){return r(e)},function(){return r(-1)},function(e){De[e?"unshift":"push"]((function(){i(2,g=e)}))},function(e){De[e?"unshift":"push"]((function(){i(3,y=e)}))}]}var Dd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Td,Id,C,{goToHighlight:0},Pd),c.default(n)}return i}(ut);function Md(e){U(e,"svelte-1n6uj6g",".unmute-autofade-button.svelte-1n6uj6g{z-index:2;position:absolute;top:0;left:var(--margin-size);transform:translateY(calc(var(--header-area-height) + var(--margin-size) * 2))}")}function Ed(e){var t,i,n,a,o,s;return i=new ci({props:{buttonPosition:"relative",bgBorderRadius:e[6]+"px",name:"mutedIndication",hideToolTip:!0,iconHeight:.8*e[7],bgHeight:e[6]+"px",standalone:!0,text:"Unmute",$$slots:{normal:[Bd]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","unmute-autofade-button text-button svelte-1n6uj6g")},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",e[16]),o=!0)},p:function(e,t){var n={};64&t&&(n.bgBorderRadius=e[6]+"px"),128&t&&(n.iconHeight=.8*e[7]),64&t&&(n.bgHeight=e[6]+"px"),262144&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)ent,e),n=tt(t,zt,{}),a=!1},d:function(e){e&&K(t),lt(i),e&&n&&n.end(),o=!1,s()}}}function Bd(e){var t,i,n;return i=new Ln({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal"),oe(t,"class","button")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Ld(e){var t,i,n,a,o=!(null!=(i=null==(t=e[1])?void 0:t.mutedIndication)&&i.hidden)&&e[2]&&!e[3]&&!e[0]&&(e[4]||0===e[5])&&Ed(e);return{c:function(){o&&o.c(),n=te()},m:function(e,t){o&&o.m(e,t),J(e,n,t),a=!0},p:function(e,t){var i,a,s=l.default(t,1)[0];null!=(a=null==(i=e[1])?void 0:i.mutedIndication)&&a.hidden||!e[2]||e[3]||e[0]||!e[4]&&0!==e[5]?o&&(Ke(),Xe(o,1,1,(function(){o=null})),Ye()):o?(o.p(e,s),63&s&&Ge(o,1)):((o=Ed(e)).c(),Ge(o,1),o.m(n.parentNode,n))},i:function(e){a||(Ge(o),a=!0)},o:function(e){Xe(o),a=!1},d:function(e){e&&K(n),o&&o.d(e)}}}function Rd(e,t,i){var n,a,o,s,l,r,d,u=Ae(Ht),c=u.toggleMute,h=u.muted,p=u.started,_=u.barButtonSize,m=u.barIconSize,f=u.displayVolume,v=u.elementVisibility;A(e,h,(function(e){return i(4,s=e)})),A(e,p,(function(e){return i(2,a=e)})),A(e,_,(function(e){return i(6,r=e)})),A(e,m,(function(e){return i(7,d=e)})),A(e,f,(function(e){return i(5,l=e)})),A(e,v,(function(e){return i(1,n=e)}));var g,y=!1,b=ht(!1);return A(e,b,(function(e){return i(3,o=e)})),h.subscribe((function(e){e||i(0,y=!0)})),p.subscribe((function(){g||(g=setTimeout((function(){b.set(!0)}),1e4))})),[y,n,a,o,s,l,r,d,c,h,p,_,m,f,v,b,function(){return c()}]}var qd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Rd,Ld,C,{},Md),c.default(n)}return i}(ut);function Hd(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M224 0a31.97 31.97 0 0 0-32 32v17.9C119.5 61.4 64 124.2 64 200v33.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416h400c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6c-28.3-35.5-43.8-79.6-43.8-125V200c0-75.8-55.5-138.6-128-150.1V32a31.97 31.97 0 0 0-32-32zm0 96h8c57.4 0 104 46.6 104 104v33.4c0 47.9 13.9 94.6 39.7 134.6H72.3c25.8-40 39.7-86.7 39.7-134.6V200c0-57.4 46.6-104 104-104h8zm64 352h-64-64c0 17 6.7 33.3 18.7 45.3S207 512 224 512s33.3-6.7 45.3-18.7S288 465 288 448z"),oe(i,"fill",e[0]),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"viewBox","0 0 448 512")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,t){1&l.default(t,1)[0]&&oe(i,"fill",e[0])},i:v,o:v,d:function(e){e&&K(t)}}}function Od(e,t,i){var n=t.color,a=void 0===n?"#fff":n;return e.$$set=function(e){"color"in e&&i(0,a=e.color)},[a]}var jd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Od,Hd,C,{color:0}),c.default(n)}return i}(ut);function zd(e){var t,i;return{c:function(){t=X("svg"),oe(i=X("path"),"d","M320 0a31.97 31.97 0 0 0-32 32v19.2C215 66 160 130.6 160 208v18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S115.4 416 128 416h384c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3c-31.2-35.2-48.5-80.5-48.5-127.6V208c0-77.4-55-142-128-156.8V32a31.97 31.97 0 0 0-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3h-64-64c0 17 6.7 33.3 18.7 45.3S303 512 320 512s33.3-6.7 45.3-18.7zM0 200c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24H24c-13.3 0-24 10.7-24 24zm536-24c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-80zm61.5-154.7c-5.9-11.9-20.3-16.7-32.2-10.7l-64 32c-11.9 5.9-16.7 20.3-10.7 32.2s20.3 16.7 32.2 10.7l64-32c11.9-5.9 16.7-20.3 10.7-32.2zM53.3 53.5l64 32c11.9 5.9 26.3 1.1 32.2-10.7s1.1-26.3-10.7-32.2l-64-32c-11.9-6-26.3-1.2-32.3 10.7s-1.1 26.3 10.7 32.2z"),oe(i,"fill",e[0]),oe(t,"xmlns","http://www.w3.org/2000/svg"),oe(t,"height","1em"),oe(t,"viewBox","0 0 640 512")},m:function(e,n){J(e,t,n),F(t,i)},p:function(e,t){1&l.default(t,1)[0]&&oe(i,"fill",e[0])},i:v,o:v,d:function(e){e&&K(t)}}}function Vd(e,t,i){var n=t.color,a=void 0===n?"#fff":n;return e.$$set=function(e){"color"in e&&i(0,a=e.color)},[a]}var Fd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Vd,zd,C,{color:0}),c.default(n)}return i}(ut);function Ud(e){U(e,"svelte-vzrx4a",".container.svelte-vzrx4a{display:flex;padding-left:calc(1.2 * var(--font-size));align-items:center}.reminder-button.svelte-vzrx4a{background-color:#5d5c5c;margin:calc(0.65 * var(--margin-size));border-radius:20px;font-size:calc(var(--font-size));display:inline-block}.reminder-button.svelte-vzrx4a::before{content:attr(data-longtext);display:block;height:0;overflow:hidden;visibility:hidden}.soft-embargo-text.svelte-vzrx4a{display:flex;flex-direction:column;margin-right:10px;gap:calc(var(--margin-size) / 4)}.soft-embargo-title.svelte-vzrx4a{font-size:calc(var(--font-size))}.soft-embargo-date-time.svelte-vzrx4a{font-size:calc(var(--font-size) * 0.8)}")}function Nd(e){var t,i,n;return i=new jd({props:{color:"white"}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Wd(e){var t,i,n;return i=new Fd({props:{color:"white"}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","toggled")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function Qd(e){var t,i,n,a,o,s,r,d,u,c,h,p,_,m,f,v,g,y,b,w=Et(e[4],!0)+"",k=e[15](e[5])+"";return m=new ci({props:{text:e[1],iconHeight:.9*e[6],standalone:!0,bgHeight:.75*e[7]+"px",noTextShadow:!0,toggled:!!e[0],bgBorderRadius:"20px",$$slots:{toggled:[Wd],normal:[Nd]},$$scope:{ctx:e}}}),{c:function(){t=G("div"),i=G("div"),n=G("div"),a=G("span"),o=Z(e[3]),s=ee(),r=G("span"),d=Z(w),u=ee(),c=G("div"),h=Z(k),p=ee(),_=G("div"),f=G("div"),ot(m.$$.fragment),oe(n,"class","soft-embargo-title svelte-vzrx4a"),oe(c,"class","soft-embargo-date-time svelte-vzrx4a"),oe(i,"class","soft-embargo-text svelte-vzrx4a"),ue(f,"display","contents"),ue(f,"--bg-color-button","transparent"),ue(f,"--bg-color-button-hover","transparent"),oe(_,"class","reminder-button svelte-vzrx4a"),oe(_,"data-longtext",v="icon ".concat(e[2])),oe(t,"class","container svelte-vzrx4a")},m:function(l,v){J(l,t,v),F(t,i),F(i,n),F(n,a),F(a,o),F(n,s),F(n,r),F(r,d),F(i,u),F(i,c),F(c,h),F(t,p),F(t,_),F(_,f),st(m,f,null),g=!0,y||(b=ie(_,"click",ae(e[14])),y=!0)},p:function(e,t){var i=l.default(t,1)[0];(!g||8&i)&&re(o,e[3]),(!g||16&i)&&w!==(w=Et(e[4],!0)+"")&&re(d,w),(!g||32&i)&&k!==(k=e[15](e[5])+"")&&re(h,k);var n={};2&i&&(n.text=e[1]),64&i&&(n.iconHeight=.9*e[6]),128&i&&(n.bgHeight=.75*e[7]+"px"),1&i&&(n.toggled=!!e[0]),1048576&i&&(n.$$scope={dirty:i,ctx:e}),m.$set(n),(!g||4&i&&v!==(v="icon ".concat(e[2])))&&oe(_,"data-longtext",v)},i:function(e){g||(Ge(m.$$.fragment,e),g=!0)},o:function(e){Xe(m.$$.fragment,e),g=!1},d:function(e){e&&K(t),lt(m),y=!1,b()}}}function Jd(e,t,i){var n,a,o,s,l,r,d=Ae(Ht),u=d.translate,c=d.softEmbargoText,h=d.softEmbargoTimerTime,p=d.softEmbargoEndDate,_=d.enablePushNotification,m=d.barButtonSize,f=d.barIconSize;A(e,c,(function(e){return i(3,a=e)})),A(e,h,(function(e){return i(4,o=e)})),A(e,p,(function(e){return i(5,s=e)})),A(e,_,(function(e){return i(16,n=e)})),A(e,m,(function(e){return i(7,r=e)})),A(e,f,(function(e){return i(6,l=e)}));var v,g,y=n,b=u("Reminder set"),w=u("Set reminder");return e.$$.update=function(){1&e.$$.dirty&&i(1,v=y?b:w)},i(2,g=b.lec,h,p,_,m,f,function(){i(0,y=!y),"Notification"in window?"granted"===Notification.permission?_.set(y):"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){"granted"===e&&_.set(y)})):(alert("This browser does not support desktop notification"),i(0,y=!1))},function(e){var t=new Intl.NumberFormat(navigator.language).resolvedOptions().locale,i=e.toLocaleDateString(t,{day:"numeric",month:"long"}),n=new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric"});return"".concat(i," ").concat(u("at")," ").concat(n.format(e))}]}var Kd=function(e){r.default(i,e);var t=d.default(i);function i(e){var n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,Jd,Qd,C,{},Ud),c.default(n)}return i}(ut);function Yd(e){U(e,"svelte-ccj9mq",':host{--primary-color:#3578bb;--element-background-color:#4e4e4e}.bb-skin-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{all:initial;--transform-animation:transform 0.15s ease-in-out, visibility 0.15s ease-in-out;position:absolute;left:0;top:0;width:100%;height:100%;color:var(--foreground-color);-webkit-user-select:none;user-select:none;pointer-events:none;font-family:"Lato", "Montserrat", "Arial", sans-serif;font-size:var(--font-size);isolation:isolate;overflow:hidden;border-radius:var(--border-radius-skin)}.bb-skin-container.svelte-ccj9mq *{text-shadow:0px calc(var(--font-size) / 12.5) 0px rgba(0, 0, 0, 0.25)}.bb-skin-container.svelte-ccj9mq h1,.bb-skin-container.svelte-ccj9mq h2,.bb-skin-container.svelte-ccj9mq h3{margin:0}.bb-skin-container.svelte-ccj9mq h2,.bb-skin-container.svelte-ccj9mq h3{font-size:1em}.bb-skin-container.svelte-ccj9mq a{color:unset;-webkit-text-decoration:none;text-decoration:none}.bb-skin-container.svelte-ccj9mq ul{margin:0;padding:0;list-style-type:none}.bb-skin-container.svelte-ccj9mq .disabled{pointer-events:none !important;opacity:0.5 !important}.bb-skin-container.svelte-ccj9mq .disabled *{pointer-events:none !important}.bb-skin-container.svelte-ccj9mq .disabled-click-only{pointer-events:none !important}.bb-skin-container.svelte-ccj9mq .disabled-click-only *{pointer-events:none !important}.bb-skin-container.svelte-ccj9mq [tabindex="0"]:focus,.bb-skin-container.svelte-ccj9mq input:focus{outline-color:var(--aria-focus-color)}.bb-skin-container.svelte-ccj9mq svg,.bb-skin-container.svelte-ccj9mq svg path{shape-rendering:geometricPrecision}.bb-skin-container.is-mobile.svelte-ccj9mq [tabindex="0"]:focus,.bb-skin-container.is-mobile.svelte-ccj9mq input:focus{outline:none}.bb-skin-container.svelte-ccj9mq .chrome.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{width:100%;height:100%;display:flex;flex-direction:column;transition:opacity 0.15s ease-in-out;opacity:0}.bb-skin-container.svelte-ccj9mq .chrome-bottom-shadow.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{transition:opacity 0.15s ease-in-out;opacity:0;position:absolute;top:0;right:0;bottom:0;left:0}.bb-skin-container.svelte-ccj9mq .chrome-bottom-shadow.controlbar-visible.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{background:linear-gradient(rgba(0, 0, 0, 0) 66.67%, rgba(0, 0, 0, 0.5) 100%);opacity:1}.bb-skin-container.svelte-ccj9mq .center-area.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{flex-grow:1}.bb-skin-container.svelte-ccj9mq .keyboard-feedback.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{display:grid;align-content:center;justify-content:center;place-content:center;position:absolute;top:0;right:0;bottom:0;left:0}.bb-skin-container.svelte-ccj9mq .center-controls-layer.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{display:grid;align-content:center;justify-content:center;place-content:center;position:absolute;left:0;top:0;width:100%;height:100%;transition:opacity 0.15s ease-in-out}.bb-skin-container.svelte-ccj9mq .center-controls-layer.backdrop.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{background-color:rgba(33, 33, 33, 0.7)}.bb-skin-container.svelte-ccj9mq .center-controls-layer.backdrop-pause-related.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{background-color:var(--bg-color-pane)}.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .center-controls.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq,.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .top-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{pointer-events:none;visibility:hidden}.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .center-controls.svelte-ccj9mq *:not(.mobile-control),.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .top-container.svelte-ccj9mq *:not(.mobile-control){pointer-events:none !important}.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .center-controls.svelte-ccj9mq .mobile-control,.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .top-container.svelte-ccj9mq .mobile-control{pointer-events:all !important}.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .big-button .button-element{pointer-events:none !important}.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .bottom-container.svelte-ccj9mq .slider-hover-container{pointer-events:none !important}.bb-skin-container.svelte-ccj9mq:not(.user-active):not(.controls-visible) .bottom-container.svelte-ccj9mq input{pointer-events:none !important}.bb-skin-container.svelte-ccj9mq .top-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{background:linear-gradient(rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 100%);height:85px;transition:var(--transform-animation), opacity 0.15s ease-in-out;transform:translateY(-200%);z-index:1}.bb-skin-container.svelte-ccj9mq .top-container .header-area.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{margin:var(--margin-size);font-style:normal}.bb-skin-container.svelte-ccj9mq .top-container .header-area .top-bar.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{display:flex;align-items:flex-start;gap:var(--margin-size)}@supports (-webkit-touch-callout: none) and (not (translate: none)){.bb-skin-container.svelte-ccj9mq .top-container .header-area .top-bar.svelte-ccj9mq>.svelte-ccj9mq+.svelte-ccj9mq{margin-left:var(--margin-size)}}.bb-skin-container.svelte-ccj9mq .top-container .header-area .top-bar .metadata-wrapper.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{flex-grow:1;position:relative}.bb-skin-container.svelte-ccj9mq .top-container .header-area .top-bar .metadata-wrapper .metadata.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;width:100%;display:inline-flex;flex-direction:column;gap:0.3em}@supports (-webkit-touch-callout: none) and (not (translate: none)){.bb-skin-container.svelte-ccj9mq .top-container .header-area .top-bar .metadata-wrapper .metadata.svelte-ccj9mq>.svelte-ccj9mq+.svelte-ccj9mq{margin-left:0.3em}}.bb-skin-container.svelte-ccj9mq .top-container .header-area .top-bar .metadata-wrapper .metadata h1.title.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:1.1em}.bb-skin-container.svelte-ccj9mq .top-container .header-area .top-bar .metadata-wrapper .metadata .author-copyright.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{font-size:0.8em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bb-skin-container.svelte-ccj9mq .top-container .header-area .top-bar .share-button.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{margin-top:calc(-0.25 * var(--bar-button-size))}.bb-skin-container.svelte-ccj9mq .bottom-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{padding:calc(var(--margin-size) / 1.667) var(--margin-size);z-index:2;position:relative;transition:var(--transform-animation);position:absolute;bottom:0;left:0;right:0;opacity:1}.bb-skin-container.svelte-ccj9mq .bottom-container.mounted.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{padding:0}.bb-skin-container.svelte-ccj9mq .bottom-container:not(.mounted) .always-show-bg.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%);opacity:1;transition:opacity 0.15s ease-in-out}.bb-skin-container.svelte-ccj9mq .bottom-controls-highlights-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;bottom:0;right:calc(var(--margin-size) / 2 + 12px);transform:translateY(calc((var(--bar-height) - var(--margin-size) / 2) * -1));transition:opacity 0.15s ease-in-out}.bb-skin-container.svelte-ccj9mq .hovering-scrubbar.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{opacity:0.15}.bb-skin-container.controlbar-visible.svelte-ccj9mq .bottom-container .always-show-bg.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{opacity:0.2;z-index:-1}.bb-skin-container.controls-visible.svelte-ccj9mq .top-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq,.bb-skin-container.phase-init.svelte-ccj9mq .top-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{transform:translateY(0)}.bb-skin-container.controls-visible.svelte-ccj9mq .chrome.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq,.bb-skin-container.phase-init.svelte-ccj9mq .chrome.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{opacity:1}.bb-skin-container.controlbar-visible.svelte-ccj9mq .bottom-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{transform:translateY(0);visibility:visible}.bb-skin-container.svelte-ccj9mq .bar-button.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{width:var(--bar-button-size);height:var(--bar-button-size)}.bb-skin-container.svelte-ccj9mq .config-pane-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq,.bb-skin-container.svelte-ccj9mq .chapter-pane-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;bottom:var(--bar-height);z-index:9}.bb-skin-container.svelte-ccj9mq .config-pane-container.size-XS.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq,.bb-skin-container.svelte-ccj9mq .chapter-pane-container.size-XS.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{background-color:rgba(33, 33, 33, 0.5);top:0;right:0;bottom:0;left:0}.bb-skin-container.svelte-ccj9mq .config-pane-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{top:var(--margin-size);left:30%;right:0}.bb-skin-container.svelte-ccj9mq .speedback-pane-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{pointer-events:all;position:absolute;top:0;left:var(--button-width);bottom:0;right:0;z-index:9;background-color:#1c1c1c;display:flex;align-items:center;justify-content:flex-end;height:100%;background-color:rgba(0, 0, 0, 0.6);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px)}.bb-skin-container.svelte-ccj9mq .chapter-pane-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{top:40%;left:var(--position-left, 10%);right:40%}.bb-skin-container.svelte-ccj9mq .chapter-pane-container.size-S.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{top:20%;right:35%}.bb-skin-container.svelte-ccj9mq .chapter-pane-container.mounted.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{top:var(--margin-size);left:50%;right:0}.bb-skin-container.svelte-ccj9mq .chapter-pane-container .pane.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{left:0;right:unset}.bb-skin-container.svelte-ccj9mq .overlays.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;top:0;right:0;bottom:0;left:0}.bb-skin-container.svelte-ccj9mq .overlays .context-menu.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;z-index:99;width:200%;height:200%}.bb-skin-container.svelte-ccj9mq .overlays .context-menu.svelte-ccj9mq>div.svelte-ccj9mq.svelte-ccj9mq{position:absolute}.bb-skin-container.svelte-ccj9mq .overlays.svelte-ccj9mq>.svelte-ccj9mq.svelte-ccj9mq{position:absolute;width:100%;height:100%}.bb-skin-container.svelte-ccj9mq .overlays.svelte-ccj9mq>.svelte-ccj9mq.svelte-ccj9mq:not(.no-padding){padding:var(--margin-size)}.bb-skin-container.svelte-ccj9mq .overlays .loading-overlay.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{display:grid;align-content:center;justify-content:center;place-content:center}.bb-skin-container.svelte-ccj9mq .overlays .loading-overlay .loading.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{--size:var(--big-icon-size);--border-width:calc(max(var(--size) * 0.1, 5px));position:relative}.bb-skin-container.svelte-ccj9mq .overlays .loading-overlay .loading .loading-icon.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;left:calc(var(--size) * -0.5 - 7px);top:calc(var(--size) * -0.5 - 7px);animation:svelte-ccj9mq-loader-spin 2s linear infinite;border:var(--border-width) solid rgba(0, 0, 0, 0.2);border-left:var(--border-width) solid rgba(255, 255, 255, 0.75);border-radius:100px;width:var(--size);height:var(--size)}.bb-skin-container.svelte-ccj9mq .overlays .loading-overlay .loading .loading-icon.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq::after{position:absolute;left:calc(var(--border-width) * -1);top:calc(var(--border-width) * -1);animation:svelte-ccj9mq-loader-spin 3s ease-in-out infinite;content:"";display:block;width:var(--size);height:var(--size);border-radius:100px;border:var(--border-width) solid rgba(255, 255, 255, 0);border-left:var(--border-width) solid rgba(255, 255, 255, 0.5)}@keyframes svelte-ccj9mq-loader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.bb-skin-container.svelte-ccj9mq .logo-overlay.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;top:var(--margin-size);right:var(--margin-size);bottom:var(--margin-size);left:var(--margin-size);display:flex;z-index:2}.bb-skin-container.svelte-ccj9mq .logo-overlay.right.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{justify-content:flex-end}.bb-skin-container.svelte-ccj9mq .highlights-pane-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{z-index:1;position:absolute;top:calc(5% + var(--margin-size));bottom:calc(var(--bar-height) - var(--margin-size) / 2);right:calc(var(--margin-size) / 2 + 12px);left:calc(var(--margin-size) / 2 + 12px);pointer-events:all;display:flex;justify-content:end;align-items:end;transition:opacity 0.15s ease-in-out}.bb-skin-container.svelte-ccj9mq .sticky-progress-bar.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{position:absolute;bottom:0;left:0;right:0;height:var(--height-progress-bar)}.bb-skin-container.svelte-ccj9mq .notification-button-bar-container.svelte-ccj9mq.svelte-ccj9mq.svelte-ccj9mq{background-color:#1F1F1F;opacity:0.9;position:absolute;bottom:40px;border-radius:0px 4px 4px 0px}')}function Gd(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m,f,v,g,y,b,w,k,$,C,S,P,x,A,I,T=e[6]()&&!e[62]&&!e[5],D=!("INIT"===e[19]||"show"!==(null==(t=e[11])?void 0:t.controlBarSticky)||e[18]&&!e[7]||e[6]()),M=(null==(i=e[24])?void 0:i.isMobileDevice)&&!e[22]&&eu(e),E=e[52]&&tu(),B=e[29]&&iu(e),L=!e[16]&&nu(e),R=e[16]&&e[55]&&au(),q=e[56]&&!(e[26]&&(null==(a=null==(n=e[9])?void 0:n.relatedItems)||!a.hidden)&&("EXIT"!==e[19]||!e[5]))&&ou(e),H=e[0]&&su(e),O=(null==(o=e[57])?void 0:o.text)&&lu(e),j=e[13]&&du(e),z=e[1]&&uu(e),V=e[14]&&cu(e),U=e[2]&&hu(e);$=new qd({});var N=!e[62]&&pu(e),W=!e[17]&&bu(e),Q=T&&wu(e),Y=D&&$u(e);return{c:function(){var t,i;s=G("div"),M&&M.c(),l=ee(),r=G("div"),E&&E.c(),d=ee(),u=ee(),B&&B.c(),c=ee(),L&&L.c(),h=ee(),R&&R.c(),p=ee(),_=G("div"),q&&q.c(),f=ee(),H&&H.c(),v=ee(),O&&O.c(),g=ee(),j&&j.c(),y=ee(),z&&z.c(),b=ee(),V&&V.c(),w=ee(),U&&U.c(),k=ee(),ot($.$$.fragment),C=ee(),N&&N.c(),S=ee(),W&&W.c(),P=ee(),Q&&Q.c(),x=ee(),Y&&Y.c(),A=te(),oe(r,"class","loading-overlay no-padding svelte-ccj9mq"),oe(s,"class","overlays svelte-ccj9mq"),oe(_,"class","logo-overlay svelte-ccj9mq"),oe(_,"style",m=e[39]("logo")),he(_,"right",null==(i=null==(t=e[56])?void 0:t.position)?void 0:i.toLowerCase().includes("right"))},m:function(e,t){J(e,s,t),M&&M.m(s,null),F(s,l),F(s,r),E&&E.m(r,null),F(s,d),F(s,u),B&&B.m(s,null),J(e,c,t),L&&L.m(e,t),J(e,h,t),R&&R.m(e,t),J(e,p,t),J(e,_,t),q&&q.m(_,null),J(e,f,t),H&&H.m(e,t),J(e,v,t),O&&O.m(e,t),J(e,g,t),j&&j.m(e,t),J(e,y,t),z&&z.m(e,t),J(e,b,t),V&&V.m(e,t),J(e,w,t),U&&U.m(e,t),J(e,k,t),st($,e,t),J(e,C,t),N&&N.m(e,t),J(e,S,t),W&&W.m(e,t),J(e,P,t),Q&&Q.m(e,t),J(e,x,t),Y&&Y.m(e,t),J(e,A,t),I=!0},p:function(e,t){var i,n,a,o,d,u,c;null!=(i=e[24])&&i.isMobileDevice&&!e[22]?M?(M.p(e,t),20971520&t[0]&&Ge(M,1)):((M=eu(e)).c(),Ge(M,1),M.m(s,l)):M&&(Ke(),Xe(M,1,1,(function(){M=null})),Ye()),e[52]?E?2097152&t[1]&&Ge(E,1):((E=tu()).c(),Ge(E,1),E.m(r,null)):E&&(Ke(),Xe(E,1,1,(function(){E=null})),Ye()),e[29]?B?(B.p(e,t),536870912&t[0]&&Ge(B,1)):((B=iu(e)).c(),Ge(B,1),B.m(s,null)):B&&(Ke(),Xe(B,1,1,(function(){B=null})),Ye()),e[16]?L&&(Ke(),Xe(L,1,1,(function(){L=null})),Ye()):L?(L.p(e,t),65536&t[0]&&Ge(L,1)):((L=nu(e)).c(),Ge(L,1),L.m(h.parentNode,h)),e[16]&&e[55]?R?65536&t[0]|16777216&t[1]&&Ge(R,1):((R=au()).c(),Ge(R,1),R.m(p.parentNode,p)):R&&(Ke(),Xe(R,1,1,(function(){R=null})),Ye()),e[56]&&(!e[26]||null!=(a=null==(n=e[9])?void 0:n.relatedItems)&&a.hidden||"EXIT"===e[19]&&e[5])?q?(q.p(e,t),67633696&t[0]|33554432&t[1]&&Ge(q,1)):((q=ou(e)).c(),Ge(q,1),q.m(_,null)):q&&(Ke(),Xe(q,1,1,(function(){q=null})),Ye()),(!I||256&t[1]&&m!==(m=e[39]("logo")))&&oe(_,"style",m),(!I||33554432&t[1])&&he(_,"right",null==(d=null==(o=e[56])?void 0:o.position)?void 0:d.toLowerCase().includes("right")),e[0]?H?(H.p(e,t),1&t[0]&&Ge(H,1)):((H=su(e)).c(),Ge(H,1),H.m(v.parentNode,v)):H&&(Ke(),Xe(H,1,1,(function(){H=null})),Ye()),null!=(u=e[57])&&u.text?O?(O.p(e,t),67108864&t[1]&&Ge(O,1)):((O=lu(e)).c(),Ge(O,1),O.m(g.parentNode,g)):O&&(Ke(),Xe(O,1,1,(function(){O=null})),Ye()),e[13]?j?(j.p(e,t),8192&t[0]&&Ge(j,1)):((j=du(e)).c(),Ge(j,1),j.m(y.parentNode,y)):j&&(Ke(),Xe(j,1,1,(function(){j=null})),Ye()),e[1]?z?(z.p(e,t),2&t[0]&&Ge(z,1)):((z=uu(e)).c(),Ge(z,1),z.m(b.parentNode,b)):z&&(Ke(),Xe(z,1,1,(function(){z=null})),Ye()),e[14]?V?(V.p(e,t),16384&t[0]&&Ge(V,1)):((V=cu(e)).c(),Ge(V,1),V.m(w.parentNode,w)):V&&(Ke(),Xe(V,1,1,(function(){V=null})),Ye()),e[2]?U?(U.p(e,t),4&t[0]&&Ge(U,1)):((U=hu(e)).c(),Ge(U,1),U.m(k.parentNode,k)):U&&(Ke(),Xe(U,1,1,(function(){U=null})),Ye()),e[62]?N&&(Ke(),Xe(N,1,1,(function(){N=null})),Ye()):N?(N.p(e,t),1&t[2]&&Ge(N,1)):((N=pu(e)).c(),Ge(N,1),N.m(S.parentNode,S)),e[17]?W&&(W.d(1),W=null):W?W.p(e,t):((W=bu(e)).c(),W.m(P.parentNode,P)),96&t[0]|1&t[2]&&(T=e[6]()&&!e[62]&&!e[5]),T?Q?(Q.p(e,t),96&t[0]|1&t[2]&&Ge(Q,1)):((Q=wu(e)).c(),Ge(Q,1),Q.m(x.parentNode,x)):Q&&(Ke(),Xe(Q,1,1,(function(){Q=null})),Ye()),788672&t[0]&&(D=!("INIT"===e[19]||"show"!==(null==(c=e[11])?void 0:c.controlBarSticky)||e[18]&&!e[7]||e[6]())),D?Y?(Y.p(e,t),788672&t[0]&&Ge(Y,1)):((Y=$u(e)).c(),Ge(Y,1),Y.m(A.parentNode,A)):Y&&(Ke(),Xe(Y,1,1,(function(){Y=null})),Ye())},i:function(e){I||(Ge(M),Ge(E),Ge(B),Ge(L),Ge(R),Ge(q),Ge(H),Ge(O),Ge(j),Ge(z),Ge(V),Ge(U),Ge($.$$.fragment,e),Ge(N),Ge(Q),Ge(Y),I=!0)},o:function(e){Xe(M),Xe(E),Xe(B),Xe(L),Xe(R),Xe(q),Xe(H),Xe(O),Xe(j),Xe(z),Xe(V),Xe(U),Xe($.$$.fragment,e),Xe(N),Xe(Q),Xe(Y),I=!1},d:function(e){e&&(K(s),K(c),K(h),K(p),K(_),K(f),K(v),K(g),K(y),K(b),K(w),K(k),K(C),K(S),K(P),K(x),K(A)),M&&M.d(),E&&E.d(),B&&B.d(),L&&L.d(e),R&&R.d(e),q&&q.d(),H&&H.d(e),O&&O.d(e),j&&j.d(e),z&&z.d(e),V&&V.d(e),U&&U.d(e),lt($,e),N&&N.d(e),W&&W.d(e),Q&&Q.d(e),Y&&Y.d(e)}}}function Xd(e){var t,i,n,a,o,s,l;(a=new Vs({props:{fullHeight:!0,iStyle:e[39]}})).$on("togglePlaybackSpeedPane",e[141]);var r=e[31]&&Cu(e);return{c:function(){t=G("div"),i=G("div"),n=ee(),ot(a.$$.fragment),o=ee(),r&&r.c(),s=te(),oe(i,"class","always-show-bg svelte-ccj9mq"),oe(t,"class","bottom-container svelte-ccj9mq"),he(t,"mounted",!0)},m:function(d,u){J(d,t,u),F(t,i),F(t,n),st(a,t,null),e[142](t),J(d,o,u),r&&r.m(d,u),J(d,s,u),l=!0},p:function(e,t){var i={};256&t[1]&&(i.iStyle=e[39]),a.$set(i),e[31]?r?(r.p(e,t),1&t[1]&&Ge(r,1)):((r=Cu(e)).c(),Ge(r,1),r.m(s.parentNode,s)):r&&(Ke(),Xe(r,1,1,(function(){r=null})),Ye())},i:function(e){l||(Ge(a.$$.fragment,e),Ge(r),l=!0)},o:function(e){Xe(a.$$.fragment,e),Xe(r),l=!1},d:function(i){i&&(K(t),K(o),K(s)),lt(a),e[142](null),r&&r.d(i)}}}function Zd(e){var t,i,n=e[20]&&Su();return{c:function(){n&&n.c(),t=te()},m:function(e,a){n&&n.m(e,a),J(e,t,a),i=!0},p:function(e,i){e[20]?n?1048576&i[0]&&Ge(n,1):((n=Su()).c(),Ge(n,1),n.m(t.parentNode,t)):n&&(Ke(),Xe(n,1,1,(function(){n=null})),Ye())},i:function(e){i||(Ge(n),i=!0)},o:functiotition:"back"}})).$on("doubleTap",e[145]),(n=new vd({props:{position:"forward"}})).$on("doubleTap",e[146]),{c:function(){ot(t.$$.fragction(e,o){st(t,e,o),J(e,i,o),st(n,e,agment,e),a=!1},d:function(e){e&&K(i),lt(t,e),lt(n,e)}}}function tu(e){var t,i,n,a;return{c:function(){(t=G("div")).innerHTML='<div class="loading-icon svelte-ccj9mq"></ccj9mq")},m:function(e,i){J(e,t,i),a=!0},i:function(e){a||(He((function(){a&&(n&&n.end(1),(i=et(t,zt,{})).start())})),a=!0)},o:function(e){i&&i.invalidate(),n=tt(t,zt,{}),a=!1},d:function(e){e&&K(t),e&&n&&n.end()}}}function iu(e){var t,i,n,a,o;return(a=new cd({props:{onItemSelected:e[122],transform:null==(t=e[33])?void 0:t.transform,contextMenuByMouseClick:e[30]}})).$on("close",e[148]),a.$on("backdropClick",e[149]),{c:function(){var t,o;i=G("div"),n=G("div"),ot(a.velte-ccj9mq"),ue(n,"top",(null==(t=e[33])?void 0:t.y)+"px"),ue(n,"left",(null==(o=e[33])?void 0:o.x)+"px"),oe(i,"class","context-menu no-padding svelte-ccj9mq")},m:function(e,t){J(e,i,t),F(i,n),st(a,n,null),o=!0},p:function(e,t){var i,o,s,l={};4&t[1]&&(l.transform=null==(i=e[33])?void 0:i.transform),1073741824&t[0]&&(l.contextMenuByMouseClick=e[30]),a.$set(l),4&t[1]&&ue(n,"top",(null==(o=e[33])?void 0:o.y)+"px"),4&t[1]&&ue(n,"left",(null==(s=e[33])?void 0:s.x)+"px")},i:function(e){o||(Ge(a.$$.fragment,e),o=!0)},o:function(e){Xe(a.$$.fragment,e),o=!1},d:function(e){e&&K(i),lt(a)}}}function nu(e){var t,i.fragment),oe(t,"class","keyboard-feedback no-padding svelte-ccj9mq")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},:function(e,n){st(t,e,n),i=!0},p:function(e,i){var n={};33554432&i[1]&&(n.logoObject=e[56]),t.$set(n)},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function su(e){var t,i;return(t=new fo({})).$on("close",e[150]),t.$on("backdropClick",e[151]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function lu(e){var t,i;return t=new Io({props:{icon:e[57].icon,$$slots:{default:[ru]},$$scope:{ctx:e}}}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:function(e,i){vt,e),i=!1},d:function(e){lt(t,e)}}}function ru(e){var t,i=e[57].text+"";return{c:function(){t=Z(i)},m:function(e,i){J(e,t,i)},p:function(e,n){67108864&n[1]&&i!==(i=e[57].text+"")&&re(t,i)},d:function(e){e&&K(t)}}}function du(e){var t,i,n,a;return i=new $n({props:{onItemSelected:e[152]}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class",n="config-pane-container size-"+e[58]+" svelte-ccj9mq")},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:function(e,i){(!a||134217728&i[1]&&n!==(n="config-pane-container size-"+e[58]+" svelte-ccj9mq"))&&oe(t,"class",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i)}}}function uu(e){var t,i,n,a;return(i=new ad({})).$on("toggle",e[153]),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class",n="chapter-pane-container size-"+e[59]+" svelte-ccj9mq"),he(t,"mounted",e[17]),ue(t,"--position-left",e[60])},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:function(e,i){(!a||268435456&i[1]&&n!==(n="chapter-pane-container size-"+e[59]+" svelte-ccj9mq"))&&oe(t,"class",n),(!a||131072&i[0]|268435456&i[1])&&he(t,"mounted",e[17]),536870912&i[1]&&ue(t,"--position-left",e[60])},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i)}}}function cu(e){var t,i;return(t=new al({})).$on("close",e[154]),t.$on("backdropClick",e[155]),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},p:v,i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function hu(e){var t,i,n;return i=new Dd({props:{goToHighlight:e[126]}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","highlights-pane-container svelte-ccj9mq"),he(t,"hovering-scrubbar",e[61]||e[13])},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:function(e,i){(!n||8192&i[0]|1073741824&i[1])&&he(t,"hovering-scrubbar",e[61]||e[13])},i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function pu(e){var t,i,n,a,o,s,l,r,d,u,c,h=!(null!=(t=e[9].topContainer)&&t.hidden||"INIT"===e[19]&&e[20]&&"idle"!==e[54]||"EXIT"===e[19]&&null!=(i=e[63])&&i.length&&e[11].autoPlayNext&&null!==e[64]||e[26]&&(null==(a=null==(n=e[9])?void 0:n.relatedItems)||!a.hidden)&&("EXIT"!==e[19]||!e[5]))&&_u(e);return r=new td({props:{iStyle:e[39],hideRelatedButton:e[2]}}),{c:function(){var t,i,n,a,c;o=G("div"),h&&h.c(),s=ee(),l=G("div"),ot(r.$$.fragment),d=ee(),u=G("div"),oe(l,"class","center-controls-layer svelte-ccj9mq"),he(l,"backdrop",!(null!=(i=null==(t=e[9])?void 0:t.backdrop)&&i.hidden)),he(l,"backdrop-pause-related","EXIT"!==e[19]&&!e[10]&&e[65]&&!(null!=(a=null==(n=e[9])?void 0:n.relatedItems)&&a.hidden)),ue(l,"opacity",e[34]||e[66]&&e[10]?"0":null),oe(u,"class","center-area svelte-ccj9mq"),oe(o,"class","chrome svelte-ccj9mq"),he(o,"mounted",e[17]),he(o,"controlbar-visible",e[6]()),ue(o,"background-color",null!=(c=e[9].centerControls)&&c.hidden?"":"rgba(0, 0, 0, 0.15)")},m:function(e,t){J(e,o,t),h&&h.m(o,null),F(o,s),F(o,l),st(r,l,null),F(o,d),F(o,u),c=!0},p:function(e,t){var i,n,a,d,u,p,_,m,f;null!=(i=e[9].topContainer)&&i.hidden||"INIT"===e[19]&&e[20]&&"idle"!==e[54]||"EXIT"===e[19]&&null!=(n=e[63])&&n.length&&e[11].autoPlayNext&&null!==e[64]||e[26]&&(null==(d=null==(a=e[9])?void 0:a.relatedItems)||!d.hidden)&&("EXIT"!==e[19]||!e[5])?h&&(Ke(),Xe(h,1,1,(function(){h=null})),Ye()):h?(h.p(e,t),68684320&t[0]|8388608&t[1]|6&t[2]&&Ge(h,1)):((h=_u(e)).c(),Ge(h,1),h.m(o,s));var v={};256&t[1]&&(v.iStyle=e[39]),4&t[0]&&(v.hideRelatedButton=e[2]),r.$set(v),(!c||512&t[0])&&he(l,"backdrop",!(null!=(p=null==(u=e[9])?void 0:u.backdrop)&&p.hidden)),(!c||525824&t[0]|8&t[2])&&he(l,"backdrop-pause-related","EXIT"!==e[19]&&!e[10]&&e[65]&&!(null!=(m=null==(_=e[9])?void 0:_.relatedItems)&&m.hidden)),1024&t[0]|8&t[1]|16&t[2]&&ue(l,"opacity",e[34]||e[ntisound-color",null!=(f=e[9].centerControls)&&f.hidden?"":"rgba(0, 0, 0, 0.15)")},i:function(e){c||(Ge(h),Ge(r.$$.fragment,e),c=!0)},o:function(e){Xe(h),Xe(r.$$.fragment,e),c=!1},d:function(e){e&&K(o),h&&h.d(),lt(r)}}}function _u(e){var t,i,n,a,o,s,l,r,d=null==(i=null==(t=e[56])?void 0:t.position)?void 0:i.toLowerCase().includes("left"),u=d&&mu(e),c=e[15]&&fu(e),h=!e[22]&&vu(e);return{c:function(){n=G("div"),a=G("div"),o=G("div"),u&&u.c(),s=ee(),c&&c.c(),l=ee(),h&&h.c(),oe(o,"class","top-bar svelte-ccj9mq"),oe(a,"class","header-area svelte-ccj9mq"),oe(n,"class","top-container svelte-ccj9mq"),ue(n,"opacity",e[34]?"0":null)},m:function(e,t){J(e,n,t),F(n,a),F(a,o),u&&u.m(o,null),F(o,s),c&&c.m(o,null),F(o,l),h&&h.m(o,null),r=!0},p:function(e,t){var i,a;33554432&t[1]&&(d=null==(a=null==(i=e[56])?void 0:i.position)?void 0:a.toLowerCase().includes("left")),d?u?(u.p(e,t),33554432&t[1]&&Ge(u,1)):((u=mu(e)).c(),Ge(u,1),u.m(o,s)):u&&(Ke(),Xe(u,1,1,(function(){u=null})),Ye()),e[15]?c?c.p(e,t):((c=fu(e)).c(),c.m(o,l)):c&&(c.d(1),c=null),e[22]?h&&(Ke(),Xe(h,304&t[0]&&Ge(h,1)):((h=vu(e)).c(),Ge(h,1),h.m(o,null)),8&t[1]&&ue(n,"opacity",e[34]?"0":null)},i:function(e){r||(Ge(u),Ge(h),r=!0)},o:function(e){Xe(u),Xe(h),r=!1},d:function(e){e&&K(n),u&&u.d(),c&&c.d(),h&&h.d()}}}function mu(e){var t,i,n,a;return i=new Ro({props:{logoObject:e[56],placeholder:!0}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"style",n=e[39]("logo")),oe(t,"class","svelte-ccj9mq")},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:function(e,o){var s={};33554432&o[1]&&(s.logoObject=e[56]),i.$set(s),(!a||256&o[1]&&n!==(n=e[39]("logo")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a=!0)},o:function(e){Xe(i.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i)}}}function fu(e){var t,i,n,a,o,s,l,r,d,u,c,h,p,_,m,f,v,g,y,b,w,k,$=(e[15].title||"")+"",C=(e[11].authorCopyrightPrefixText||"")+"",S=(e[15].author||"")+"",P=(e[15].copyright||"")+"";return{c:function(){t=G("div"),i=G("div"),n=G("h1"),a=Z($),s=ee(),l=G("div"),r=G("span"),d=Z(C),u=ee(),c=G("span"),h=Z(S),_=ee(),m=G("span"),f=Z("|"),g=ee(),y=G("span"),b=Z(P),oe(n,"class","title svelte-ccj9mq"),oe(n,"style",o=e[39]("title")),oe(r,"class","pre-text"),oe(c,"class","author"),oe(c,"style",p=e[39]("author")),oe(m,"class","divider"),oe(m,"style",v=e[39]("author||copyright")),oe(y,"class","copyright"),oe(y,"style",w=e[39]("copyright")),oe(l,"class","author-copyright svelte-ccj9mq"),oe(l,"style",k=e[39]("author&&copyright")),oe(i,"class","metadata svelte-ccj9mq"),oe(i,"role","contentinfo"),oe(t,"class","metadata-wrapper svelte-ccj9mq")},m:function(o,p){J(o,t,p),F(t,i),F(i,n),F(n,a),F(i,s),F(i,l),F(l,r),F(r,d),F(l,u),F(l,c),F(c,h),F(l,_),F(l,m),F(m,f),F(l,g),F(l,y),F(y,b),e[156](i)},p:function(e,t){32768&t[0]&&$!==($=(e[15].title||"")+"")&&re(a,$),256&t[1]&&o!==(o=e[39]("title"))&&oe(n,"style",o),2048&t[0]&&C!==(C=(e[11].authorCopyrightPrefixText||"")+"")&&re(d,C),32768&t[0]&&S!==(S=(e[15].author||"")+"")&&re(h,S),256&t[1]&&p!==(p=e[39]("author"))&&oe(c,"style",p),256&t[1]&&v!==(v=e[39le",v),32768&t[0]&&P!==(P=(e[15].copyright||"")+"")&&re(b,P),256&t[1]&&w!==(w=e[39]("copyright"))&&oe(y,"style",w),256&t[1]&&k!==(k=e[39]("author&&copyright"))&&oe(l,"style",k)},d:function(i){i&&K(t),e[156](null)}}}function vu(e){var t,i,n,a,o,s,l,r,d,u,c=null==(i=null==(t=e[56])?void 0:t.position)?void 0:i.toLowerCase().includes("right");a=new ci({props:{iconHeight:e[45],name:"shareButton",tooltipOffsetY:"4em",$$slots:{normal:[gu]},$$scope:{ctx:e}}});var h=c&&yu(e);return{c:function(){n=G("div"),ot(a.$$.fragment),s=ee(),h&&h.c(),l=te(),oe(n,"class","share-button bar-button svelte-ccj9mq"),oe(n,"style",o=e[39]("shareButton"))},m:function(t,i){J(t,n,i),st(a,n,null),J(t,s,i),h&&h.m(t,i),J(t,l,i),r=!0,d||(u=ie(n,"click",ae(e[157])),d=!0)},p:function(e,t){var i,s,d={};16384&t[1]&&(d.iconHeight=e[45]),32&t[6]&&(d.$$scope={dirty:t,ctx:e}),a.$set(d),(!r||256&t[1]&&o!==(o=e[39]("shareButton")))&&oe(n,"style",o),33554432&t[1]&&(c=nul.t),33554432&t[1]&&Ge(h,1)):((h=yu(e)).c(),Ge(h,1),h.m(l.parentNode,l)):h&&(Ke(),Xe(h,1,1,(function(){h=null})),Ye())},i:function(e){r||(Ge(a.$$.fragment,e),Ge(h),r=!0)},o:function(e){Xe(a.$$.fragment,e),Xe(h),r=!1},d:function(e){e&&(K(n),K(s),K(l)),lt(a),h&&h.d(e),d=!1,u()}}}function gu(e){var t,i,n;return i=new Ut({}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"slot","normal")},m:function(e,a){J(e,t,a),st(i,t,null),n=!0},p:v,i:function(e){n||(Ge(i.$$.fragment,e),n=!0)},o:function(e){Xe(i.$$.fragment,e),n=!1},d:function(e){e&&K(t),lt(i)}}}function yu(e){var t,i,n,a;return i=new Ro({props:{logoObject:e[56],placeholder:!0}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"style",n=e[39]("logo")),oe(t,"class","svelte-ccj9mq")},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:function(e,o){var s={};33554432&o[1]&&(s.logoObject=e[56]),i.$set(s),(!a||256&o[1]&&n!==(n=e[39]("logo")))&&oe(t,"style",n)},i:function(e){a||(Ge(i.$$.fragment,e),a.$$.fragment,e),a=!1},d:function(e){e&&K(t),lt(i)}}}function bu(e){var t;return{c:function(){oe(t=G("div"),"class","chrome-bottom-shadow svelte-ccj9mq"),he(t,"controlbar-visible",e[6]())},m:function(e,i){J(e,t,i)},p:function(e,i){64&i[0]&&he(t,"controlbar-visible",e[6]())},d:function(e){e&&K(t)}}}function wu(e){var t,i,n,a,o,s,l,r,d,u=(null==(t=e[67])?void 0:t.length)&&ku(e);return(s=new Vs({props:{iStyle:e[39],configPaneOpen:e[13],mountedChaptersOpen:e[1]&&e[17]}})).$on("openConfigMenu",e[158]),s.$on("openChapterMenu",e[159]),s.$on("toggleSharePane",e[160]),{c:function(){i=G("div"),n=G("div"),a=ee(),u&&u.c(),o=ee(),ot(s.$$.fragment),oe(n,"class","always-show-bg svelte-ccj9mq"),oe(i,"class","bottom-container svelte-ccj9mq"),oe(i,"data-cy","bb-skin-bottom-controls"),he(i,"mounted",e[17])},m:function(t,l){J(t,i,l),F(i,n),F(i,a),u&&u.m(i,null),F(i,o),st(s,i,null),e[161](i),d=!0},p:function(e,t){var n;null!=(n=e[67])&&n.length?u?(u.p(e,t),32&t[2]&&Ge(u,1)):((u=ku(e)).c(),Ge(u,1),u.m(i,o)):u&&(Ke(),Xe(u,1,1,(function(){u=null})),Ye());var a={};256&t[1]&&(a.iStyle=e[39]),8192&t[0]&&(a.configPaneOpen=e[13]),131074&t[0]&&(a.mountedChaptersOpen=e[1]&&e[17]),s.$set(a),(!d||131072&t[0])&&he(i,"mounted",e[17])},i:function(e){d||(Ge(u),Ge(s.$$.fragment,e),He((function(){d&&(r&&r.end(1),(l=et(i,Vt,{duration:250,y:50})).start())})),d=!0)},o:function(e){Xe(u),Xe(s.$$.fragment,e),l&&l.invalidate(),r=tt(i,Vt,{duration:250,y:50}),d=!1},d:function(t){t&&K(i),u&&u.d(),lt(s),e[161](null),t&&r&&r.end()}}}function ku(e){var t,i,n,a;return i=new Da({props:{toggleHighlightPane:e[127],highlightPaneOpen:e[2],placeholder:!1}}),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","bottom-controls-highlights-container svelte-ccj9mq"),he(t,"hovering-scrubbar",e[61]||e[13])},m:function(e,n){J(e,t,n),st(i,t,null),a=!0},p:function(e,n){var o={};4&n[0]&&(o.highlightPaneOpen=e[2]),i.$set(o),(!a||8192&n[0]|1073741824&n[1])&&he(t,"hovering-scrubbar",e[61]||e[13])},i:function(e){a||(Ge(i.$$.fragment,e),He((function(){a&&(:300},!0)),n.run(1))})),a=!0)},o:function(e){Xe(i.$$.fragment,e),n||(n=it(t,zt,{duration:300},!1)),n.run(0),a=!1},d:function(e){e&&K(t),lt(i),e&&n&&n.end()=funce[lue=e[8]),i=new la({props:r}),De.push((function(){return at(i,"value",l)})),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","sticky-progress-bar svelte-ccj(e,t,n),st(i,t,null),s=!0},p:function(e,t){var a={};2048&t[1]&&(a.accentColor=e[42]),512&t[1]&&(a.min=e[40]<0?e[40]:0),512&t[1]&&(a.max=e[40]<0?0:e[40]),!n&&256&t[0]&&(n=!0,a.value=e[8],Oe((function(){return n=!1}))),i.$set(a)e((function(){s&&(o&&o.end(1),(a=et(t,Vt,{duration:250,y:10})).start())})),s=!0)},o:function(e){Xe(i.$$.fragment,e),a&&a.invalidate(),o=tt(t,Vt,{duration:250,y:10}),s=!1},d:function(e){e&&K(t),lt(i),e&&o&&o.end()}}}function Cu(e){var t,i,n,a,o,s;return(i=new Sd({})).$on("close",e[143]),{c:function(){t=G("div"),ot(i.$$.fragment),oe(t,"class","speedback-pane-container svelte-ccj9mq"),ue(t,"--button-width",e[44]+"px")},m:function(n,l){J(n,t,l),st(i,t,null),a=!0,o||(s=ie(t,"click",ae(e[144])),o=!0)},p:function(e,i){8192&i[1]&&ue(t,"--button-width",e[44]+"px")},i:function(e){a||(Ge(i.$$.fragmention Su(e){var t,i;return t=new ga({}),{c:function(){ot(t.$$.fragment)},m:function(e,n){st(t,e,n),i=!0},i:function(e){i||(Ge(t.$$.fragment,e),i=!0)},o:function(e){Xe(t.$$.fragment,e),i=!1},d:function(e){lt(t,e)}}}function Pu(e){var t,i,n,a,o,s,l,r,d=function(e,t){return"commercial"===e[51]?0:e[21]?1:2},u=[Zd,Xd,Gd],c=[];return i=d(e),n=c[i]=u[i](e),{c:function(){var i;t=G("div"),n.c(),oe(t,"class",a="bb-skin-container phase-"+(null==(i=e[19])?void 0:i.toLowerCase())+" svelte-ccj9mq"),oe(t,"tabindex",o=e[12]?-1:0),he(t,"controls-visible",e[38]()),he(t,"controlbar-visible",e[6]()),he(t,"user-active",e[12]),he(t,"playback-started",e[20]),he(t,"playing",e[10]),he(t,"touched",e[32]),he(t,"is-mobile",e[36]),ue(t,"--accent-color",e[42]),ue(t,"--foreground-color",e[43]),ue(t,"--background-gray",bt),ue(t,"--bar-button-size",e[44]+"px"),ue(t,"--bar-icon-size",e[45]+"px"),ue(t,"--big-icon-size",e[46]+"px"),ue(t,"--font-size",e[47]+"px"),ue(t,"--margin-size",e[23]+"px"),ue(t,"--cancel-button-right",e[48]+"em"),ue(t,"--related-desired-height-img",e[49]+"px"),ue(t,"--height-progress-bar",e[50]+"px"),ue(t,"--bg-color-highlight-pane","rgba(33, 33, 33, 0.75)"),ue(t,"--bg-color-pane","rgba(33, 33, 33, 0.9)"),ue(t,"--bg-color-pane-hover","rgba(45, 45, 45, 0.9)"),ue(t,"--bg-color-button","rgba(33, 33, 33, 0.75)"),ue(t,"--bg-color-button-hover","rgba(33, 33, 33, 0.9)"),ue(t,"--color-blue","#649BD2"),ue(t,"--aria-focus-color",e[11].ariaFocusColor?"#"+e[11].ariaFocusColor:"-webkit-focus-ring-color"),ue(t,"--bar-height",e[37]()),ue(t,"--border-radius-skin",e[11].cornerRadius?e[11].cornerRadius+"px":"0px"),ue(t,"--header-area-height",e[35]+"px"),ue(t,"--player-width",e[27]+"px"),ue(t,"--player-height",e[25]+"px")},m:function(n,a){J(n,t,a),c[i].m(t,nullick",e[123]),ie(t,"contextmenu",e[130]),ie(t,"mouseenter",e[163]),ie(t,"mouseleave",e[164]),ie(t,"focus",e[165])],l=!0)},p:function(e,l){var r,h=i;(i=d(e))===h?c[i].p(e,l):(Ke(),Xe(c[h],1,1,(function(){c[h]=null})),Ye(),(n=c[i])?n.p(e,l):(n=c[i]=u[i](e)).c(),Ge(n,1),n.m(t,null)),(!s||524288&l[0]&&a!==(a="bb-skin-container phase-"+(null==(r=e[19])?void 0:r.toLowerCase())+" svelte-ccj9mq"))&&oe(t,"class",a),(!s||4096&l[0]&&o!==(o=e[12]?-1:0))&&oe(t,"tabindex",o),(!s||524288&l[0]|128&l[1])&&he(t,"controls-visible",e[38]()),(!s||524352&l[0])&&he(t,"controlbar-visible",e[6]()),(!s||528384&l[0])&&he(t,"user-active",e[12]),(!s||1572864&l[0])&&he(t,"playback-started",e[20]),(!s||525312&l[0])&&he(t,"playing",e[10]),(!s||524288&l[0]|2&l[1])&&he(t,"touched",e[32]),(!s||524288&l[0]|32&l[1])&&he(t,"is-mobile",e[36]),2048&l[1]&&ue(t,"--accent-color",e[42]),4096&l[1]&&ue(t,"--foreground-color",e[43]),8192&l[1]&&ue(t,"--bar-button-size",e[44]+"px"),16384&l[1]&&ue(t,"--bar-icon-size",e[45]+"px"),32768&l[1]&&ue(t,"--big-icon-size",e[46]+"px"),65536&l[1]&&ue(t,"--font-size",e[47]+"px"),8388608&l[0]&&ue(t,"--margin-size",e[23]+"px"),131072&l[1]&&ue(t,"--cancel-button-right",e[48]+"em"),262144&l[1]&&ue(t,"--related-desired-height-img",e[49]+"px"),524288&l[1]&&ue(t,"--height-progress-bar",e[50]+"px"),2048&l[0]&&ue(t,"--aria-focus-color",e[11].ariaFocusColor?"#"+e[11].ariaFocusColor:"-webkit-focus-ring-color"),64&l[1]&&ue(t,"--bar-height",e[37]()),2048&l[0]&&ue(t,"--border-rs?"0",e[35]+"px"),134217728&l[0]&&ue(t,"--player-width",e[27]+"px"),33554432&l[0]&&ue(t,"--player-height",e[25]+"px")},i:function(e){s||(Ge(n),s=!0)},o:function(e){Xe(n),s=!1},d:function(e){e&&K(t),c[i].d(),l=!1,k(r)}}}function xu(e,t,i){var n,a,o,r,d,u,c,m,f,v,g,y,b,w,k,$,C,S,P,I,T,D,M,E,B,L,R,q,H,O,j,z,V,F,U,N,W,Q,J,K,Y,G,X,Z,ee,te,ie,ne,ae,oe,se,le,re,de,ue,ce,he,pe,_e,me,fe,ve,ge=function(e){var t;if(gi){i(29,vi=!1),i(31,yi=!1);var n=e.target;Zt.set(null==(t=null==wi?void 0:wi.parentElement)?void 0:t.contains(n)),ye()}else i(30,gi=!1)},ye=function(){g&&Le(),_i&&xi(),bt.set(!1),i(1,fi=!1),i(29,vi=!1),ei.set(!1),i(2,bi=!1),He()},be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&Re(),i(1,fi=!1),bt.set(!T),bt||(Le(),bt.set(!1))},we=function(){bt.set(!1),i(1,fi=!fi),fi||Le()},ke=function(e){S.disableKeyboardControls&&!["Enter","Escape"].includes(e.key)||(I||P)&&(e.shiftKey&&"F10"===e.key&&(e.preventDefault(),i(33,$i={x:10,y:10,transform:{}}),i(29,vi=!vi)),qe(e))},$e=function(){var e=!yi;setTimeout((function(){i(31,yi=e)}))},Pe=function(){!_i&&mi&&!C&&(Ne(),mi=!1)},Ie=function(e){e.preventDefault(),i(30,gi=3===e.which),i(29,vi=!0);var t=wi.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,o={x:"0",y:"0"};n>t.width/2&&(o.x="-100%"),a>t.height/2&&(o.y="-100%"),i(33,$i={x:n,y:a,transform:o})},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;We(Math.min(w+e,b?0:y),null,!1)},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;We(Math.max(w-e,b?y:0),null,!1)},Ee=t.apiProp;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i=xe(Ht,{api:e,skinMode:t,translations:ht({}),adPodInfo:ht({adPosition:null,totalAds:null}),playerHasFocus:ht(!1),keyboardShortcutPaneOpen:ht(!1),keyPressed:ht(""),timeTotal:ht(8),timeLeft:ht(null),timePassed:ht(0),userPausedCountDown:ht(!1),barIconSize:ht(20),barButtonSize:ht(48),bigIconSize:ht(70),bigButtonSize:ht(48),shareIconSize:ht(56),fontSize:ht(16),marginSize:ht(20),cancelButtonRight:ht(-.5),toastrMargin:ht(48),heightProgressBar:ht(6),framePreviewWidthVideo:ht(126),useMobileToggleRelated:ht(!1),relatedDesiredHeight:ht(0),screenXXS:ht(!1),isVerticalPlayer:ht(!1),showChapterText:ht(!1),noSizingGapControlBar:ht(!1),skinSize:ht("L"),skinSizeHeight:ht("L"),foregroundColor:ht("#ffffff"),iconContrastColor:ht("#ffffff"),accentColor:ht("#ED6A5D"),playing:ht(!1),seeking:ht(!1),usingScrubbar:ht(!1),hoveringScrubbar:ht(!1),configPaneOpen:ht(!1),started:ht(!1),fullscreen:ht(!1),displayVolume:ht(1),muted:ht(!1),userActive:ht(!1),mouseOverInterface:ht(!1),castType:ht(""),playerWidth:ht(0),playerHeight:ht(0),currentTime:ht(0),duration:ht(0),bufferTimeRanges:ht(null),playRate:ht(1),relatedItems:ht([]),shareOptions:ht([]),logoObject:ht(null),detections:ht({}),assets:ht([]),subtitlesList:ht([]),audiotracks:ht([]),currentAsset:ht({}),waiting:ht(!1),elementVisibility:ht({}),phase:ht("INIT"),playState:ht(""),playerMode:ht("commercial"),activeSubtitleId:ht("-1"),activeAudiotrackId:ht("-1"),lastActiveSubtitleId:ht(null),mountedControlbar:ht(!1),slimAudioPlayer:ht(!1),livePlayer:ht(!1),livePlayerWithDvr:ht(!1),livePlayerIsLive:ht(!1),chapterList:ht([]),highlightList:ht([]),currentChapter:ht(),hoverChapterIndex:ht(-1),hoverHighlightIndex:ht(-1),chapterPanePositionLeft:ht(""),chapterClick:ht(0),triggeredRelated:ht(0),hideTopContainerAutoPlay:ht(!1),entity:ht({}),clipList:ht([]),playout:ht({}),callOverrides:ht({}),closeAllPanes:ht(!1),lastActiveAriaElement:ht(null),usedEnterForClicking:ht(!1),castState:ht(""),castSession:ht(null),toastr:ht(_t),touchMode:ht(!0),gapSize:ht(0),centerButtonSize:ht(0),centerButtonBgSize:ht(0),centerButtonBorder:ht(""),centerButtonBorderWidth:ht(0),language:ht(""),ariaTrappedInMenu:ht(!1),lastEvent:ht(""),currentAd:ht({}),hasTimeline:ht(!1),dvrDurationCheckInterval:ht(null),passedFiveSeconds:ht(!1),userDisabledShortcuts:ht(!1),enablePushNotification:ht(!1),softEmbargoText:ht(null),softEmbargoTimerActive:ht(!1),softEmbargoEndDate:ht(null),softEmbargoTimerTime:ht(0),notificationButtonActive:ht(!1)});("main"===t||"shorts"===t)&&Dt(i),Tt(i),Ct(i),yt(i),ft(i),("main"===t||"shorts"===t)&&(mt(i),St(i),Pt(i)),xt(i),("main"===t||"shorts"===t)&&Bt(i);var n=i.playing,a=i.started,o=i.subtitlesList,s=i.audiotracks,r=iubtitleId,c=i.activeAudiotrackId,h=i.lastActiveSubtitleId,p=i.entity,_=i.detections,m=i.playerMode,f=i.playout,v=i.language;("main"===t||"shorts"===t)&&(qt(i.touchMode),u.subscribe((function(e){"-1"!==){if(!x(h)&&null!=e&&e.length){var t=x(f).defaultSubtitle;if("none"!==t){var i,n=x(v);n&&(i=e.find((function(e){return e.isocode===n}))),!i&&"default language"===t&&(i=e.find((function(e){return"true"===e.default}))),u.set(i?i.id:e[0].id)}else u.set("-1")}})),s.subscribe((function(e){null!=e&&e.length&&c.set(e[0].id)})),i.gapSize=pt([i.playerWidth],(function(e){var t=l.default(e,1)[0];return Math.max(8*Math.max(5,Math.min(25,Math.round(t/64)))-51,10)})),i.centerButtonSize=pt([i.playout,i.bigIconSize],(function(e){var t=l.default(e,2),i=t[0],n=t[1],a=i.centerButtonType;return a&&"icon"!==a?"inversed"===a?Math.ceil(1.2*n):["outline","border"].includes(a)?Math.ceil(n/1.8):Math.ceil(n/1.6):n})),i.centerButtonBgSize=pt([i.playout,i.centerButtonSize],(function(e){var t=l.default(e,2),i=t[0],n=t[1],a=i.centerButtonType;return!a||["icon","inversed"].includes(a)?n:2.2*n})),i.centerButtonBorder=pt([i.playout,i.skinSizeHeight,i.iconContrastColor],(function(e){var t=l.default(e,3),i=t[0],n=t[1],a=t[2],o=i.centerButtonType;return["border","outline"].includes(o)?("L"===n?6:2)+"px solid "+("outline"===o?a:"white"):"initial"})),i.centerButtonBorderWidth=pt([i.playout,i.skinSizeHeight],(function(e){var t=l.default(e,2),i=t[0],n=t[1],a=i.centerButtonType;return["border","outline"].includes(a)?"L"===n?6:2:0})),i.softEmbargoText=pt([i.playout],(function(e){return l.default(e,1)[0].softEmbargoText||i.translate("Live in")})),i.notificationButtonActive=pt([i.playout,i.softEmbargoTimerActive],(function(e){var t=l.default(e,2),i=t[0],n=t[1];return"bottomleft"===i.softEmbargoTimerVariant&&n}))),i.elementVisibility=pt([i.playout,i.callOverrides,_],(function(e,o){var s=l.default(e,2),u=s[0],c=s[1],h={};d.subscribe((function(e){var s,l,d,f=x(a),v=x(p),g=x(r),y=x(n),b=f&&"paused"===e,w=x(_),k=x(m),$={title:!(null!=v&&v.title)||"main"===t&&("show"!==u.title&&"idle"===e&&"INIT"===g||"show"!==u.titlePause&&b||"show"!==u.titleHover&&y||"hide"===u.titleEnd&&"EXIT"===g)||"shorts"===t&&"show"!==u.title,description:!(null!=v&&v.description)||"show"!==u.description,author:!(null!=v&&v.author)||"show"!==u.authorCopyright&&"idle"===e&&"INIT"===g||"show"!==u.authorCopyrightPause&&b||"show"!==u.authorCopyrightHover&&y||"show"!==u.authorCopyrightEnd&&"EXIT"===g,copyright:!(null!=v&&v.copyright)||"show"!==u.authorCopyright&&"idle"===e&&"INIT"===g||"show"!==u.authorCopyrightPause&&b||"show"!==u.authorCopyrightHover&&y||"show"!==u.authorCopyrightEnd&&"EXIT"===g,controlBar:"INIT"!==g&&"hide"===u.controlBar||"INIT"===g&&"show"!==u.showStartControlBar,bigPlayButton:"commercial"===k||!0!==u.showBigPlayButton&&"idle"===e&&"INIT"===g||!0!==u.showBigPauseButtons&&b||!0!==u.showBigHoverButtons&&y||!0!==u.showBigReplayButton&&"EXIT"===g,shareButton:!u.shareButtonEmbedCode&&!u.shareButtonEmail&&!u.shareButtonFacebook&&!u.shareButtonLinkedIn&&!u.shareButtonPinterest&&!u.shareButtonTwitter&&!u.shareButtonWhatsApp||"hide"===u.shareButton&&"idle"===e&&"INIT"===g||"hide"===u.shareButtonPause&&b||"hide"===u.shareButtonHover&&y||"hide"===u.shareButtonEnd&&"EXIT"===g,mutedIndication:"hide"===u.mutedIndication||(!u.mutedIndication||"auto"===u.mutedIndication)&&x(i.hasTimeline),muteButton:"hide"===u.muteButton,playPauseButton:"shorts"===t&&!u.showPlayButton,volumeSliderHorizontal:"hide"===u.volume,timeDisplay:"hide"===u.timeDisplay,currentTime:!(null!=(s=u.timeDisplay)&&s.includes("progress")),remaining:!(null!=(l=u.timeDisplay)&&l.includes("remaining")),duration:!(null!=(d=u.timeDisplay)&&d.includes("total")),commercialPauseButton:!0!==u.commercialPauseButton,commercialMuteButton:!0!==u.commercialMuteButton,commercialProgressBar:!0!==u.commercialProgressBar,commercialAdIcon:!1===u.commercialAdIcon,subtitleButton:"hide"===u.languageSelect,castButton:"show"!==u.castButton||!w.canAirPlay&&!w.canChromeCast,fullscreenButton:"show"!==u.fullScreen,progressBar:"show"!==u.timeLine,framePreview:!0===u.disableFramePreview,relatedItems:"INIT"===g||"MAIN"===g&&"idle"===e||(!f&&"show"!==u.relatedItems||b&&"show"!==u.relatedItemsPause)&&("MAIN"===g||"EXIT"===g)};$.topContainer=$.title&&$.author&&$.copyright&&($.shareButton||x(i.hasTimeline)),$.centerControls=$.seekButtons=$.bigPlayButton,$.backdrop="EXIT"!==g||$.centerControls&&!u.autoPlayNext&&$.relatedItems,Ot.forEach((function(e){var t,i,n;h[e]={hidden:(null==(t=c[e])?void 0:t.hidden)||$[e]&&!1!==(null==(i=c[e])?void 0:i.hidden),disabled:null==(n=c[e])?void 0:n.disabled}})),o(h)}))}))}(Ee);var Be=Ae(Ht),Le=Be.restoreFocusPreviousElement,Re=Be.setPreviousAriaElement,qe=Be.onKeyPressed,He=Be.resetToastr,Oe=Be.initializeApi,je=Be.exitApi,ze=Be.setUserActive,Ve=Be.onMouseEnterUI,Fe=Be.onMouseLeaveUI,Ue=Be.pause,Ne=Be.play,We=Be.seekTo,Qe=Be.getDeeplink,Je=Be.setLanguage,Ke=Be.accentColor,Ye=Be.foregroundColor,Ge=Be.started,Xe=Be.playing,Ze=Be.userActive,et=Be.phase,tt=Be.playerMode,it=Be.relatedItems,nt=Be.logoObject,at=Be.waiting,ot=Be.detections,st=Be.mountedControlbar,lt=Be.currentTime,rt=Be.duration,dt=Be.livePlayer,ut=Be.livePlayerWithDvr,ct=Be.slimAudioPlayer,vt=Be.usingScrubbar,gt=Be.hoveringScrubbar,bt=Be.configPaneOpen,wt=Be.playerHeight,kt=Be.playerWidth,$t=Be.playState,At=Be.hideTopContainerAutoPlay,It=Be.callOverrides,Mt=Be.playout,Et=Be.entity,Lt=Be.closeAllPanes,Rt=Be.barButtonSize,jt=Be.barIconSize,zt=Be.bigIconSize,Vt=Be.fontSize,Ft=Be.heightProgressBar,Ut=Be.marginSize,Nt=Be.cancelButtonRight,Wt=Be.relatedDesiredHeight,Qt=Be.screenXXS,Jt=Be.skinSizeHeight,Kt=Be.useMobileToggleRelated,Yt=Be.toastr,Gt=Be.timeLeft,Xt=Be.skinSize,Zt=Be.playerHasFocus,ei=Be.keyboardShortcutPaneOpen,ti=Be.elementVisibility,ii=Be.lastEvent,ni=Be.chapterPanePositionLeft,ai=Be.hasTimeline,oi=Be.highlightList,si=Be.enablePushNotification,li=Be.softEmbargoTimerActive,ri=Be.notificationButtonActive;A(e,Ke,(function(e){return i(42,W=e)})),A(e,Ye,(function(e){return i(43,Q=e)})),A(e,Ge,(function(e){return i(20,H=e)})),A(e,Xe,(function(e){return i(10,C=e)})),A(e,Ze,(function(e){return i(12,P=e)})),A(e,et,(function(e){return i(19,q=e)})),A(e,tt,(function(e){return i(51,te=e)})),A(e,it,(function(e){return i(63,pe=e)})),A(e,nt,(function(e){return i(56,se=e)})),A(e,at,(function(e){return i(52,ie=e)})),A(e,ot,(function(e){return i(24,V=e)})),A(e,st,(function(e){return i(17,L=e)})),A(e,lt,(function(e){return i(8,w=e)})),A(e,rt,(function(e){return i(40,y=e)})),A(e,dt,(function(e){return i(18,R=e)})),A(e,ut,(function(e){return i(7,b=e)})),A(e,ct,(function(e){return i(21,O=e)})),A(e,vt,(function(e){return i(66,fe=e)})),A(e,gt,(function(e){return i(61,ce=e)})),A(e,bt,(function(e){return i(13,T=e)})),A(e,wt,(function(e){return i(25,F=e)})),A(e,kt,(function(e){return i(27,N=e)})),A(e,$t,(function(e){return i(54,ae=e)})),A(e,At,(function(e){return i(62,he=e)})),A(e,It,(function(e){return i(170,$=e)})),A(e,Mt,(function(e){return i(11,S=e)})),A(e,Et,(function(e){return i(15,M=e)})),A(e,Rt,(function(e){return i(44,J=e)})),A(e,jt,(function(e){return i(45,K=e)})),A(e,zt,(function(e){return i(46,Y=e)})),A(e,Vt,(function(e){return i(47,G=e)})),A(e,Ft,(function(e){return i(50,ee=e)})),A(e,Ut,(function(e){return i(23,z=e)})),A(e,Nt,(function(e){return i(48,X=e)})),A(e,Wt,(function(e){return i(49,Z=e)})),A(e,Qt,(function(e){return i(26,U=e)})),A(e,Jt,(function(e){return i(59,de=e)})),A(e,Kt,(function(e){return i(65,me=e)})),A(e,Yt,(function(e){return i(57,le=e)})),A(e,Gt,(function(e){return i(64,_e=e)})),A(e,Xt,(function(e){return i(58,re=e)})),A(e,Zt,(function(e){return i(41,I=e)})),A(e,ei,(function(e){return i(14,D=e)})),A(e,ti,(function(e){return i(9,k=e)})),A(e,ii,(function(e){return i(53,ne=e)}(60,ue=e)})),A(e,ai,(function(e){return i(22,j=e)})),A(e,oi,(function(e){return i(67,ve=e)})),A(e,si,(function(e){return i(140,B=e)})),(function(e){return i(55,oe=e)}));var di=Ee;Oe();var ui,ci,hi,pi=!1,_i=!1,mi=!1,fi=!1,vi=!1,gi=!0,yi=!1,bi=!1,wi=null,ki=!1,$i={x:0,y:0,transform:{}},Ci=!1,Si=!1,Pi=0;function xi(){return Ai.apply(this,arguments)}function Ai(){return(Ai=p.default($parcel$interopDefault(_).mark((function e(){var t;return $parcel$interopDefault(_).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!navigator.share){e.next=13;break}return e.prev=1,C&&(Ue(),mi=!0),e.next=6,navigator.share({url:Qe(),text:null!==(t=S.shareText)&&void 0!==t?t:""});case 6:Pe(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Pe();case 12:return e.abrupt("return");case 13:i(0,_i=!_i),_i&&C?(Ue(),mi=!0):Pe();case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}vt.subscribe((function(e){e!==Si&&(e&&!hi?hi=setTimeout((function(){i(34,Ci=!0)}),120):(clearTimeout(hi),hi=null,i(34,Ci=!1)),Si=e)})),Ce((function(){var e;if(document.addEventListener("click",ge),document.addEventListener("keydown",ke),Je(),Ee&&(i(135,wi=null==(e=null==di?void 0:di.getWrapper)?void 0:e.call(di)),null==wi||wi.addEventListener("contextmenu",Ie),wi)){var t=document.createElement("style");t.innerText=".bb_wrapper video::-webkit-media-text-track-container { transition: transform 0.3s ease-in-out; transform: var(--subtitle-transform); }",wi.appendChild(t)}Lt.subscribection(){document.removeEventListener("click",ge),document.removeEventListener("keydown",ke),null==wi||wi.removeEventListener("contextmenu",Ie),je()}));return e.$$set=function(e){"apiProp"in e&&i(133,Ee=e.apiProp)},e.$$.update=function(){var t,s,h,p;if(67117062&e.$$.dirty[0]&&i(136,o=bi||T||fi&&!U),67635200&e.$$.dirty[0]&&i(5,r="EXIT"===q&&!!S.autoPlayNext&&U),3742752&e.$$.dirty[0]|4096&e.$$.dirty[4]&&i(6,f=function(){if(E)return!1;if(O)return!0;var e="show"===S.controlBar||P||O||"autohide"===S.controlBar&&!C||("autohide"===S.controlBar||"alwaysautohide"===S.controlBar)&&P;return"INIT"!==q?(!["MAIN","EXIT"].includes(q)||"hide"!==S.controlBar)&&(!!o||(!["MAIN","EXIT"].includes(q)||e)):H?e&&"hide"!==S.controlBar:!C&&(!!o||("show"===S.showStartControlBar||"autohide"===S.showStartControlBar&&P&&!r))}),167772232&e.$$.dirty[0]&&i(137,n=ui&&F&&N&&f()?Math.round(null==ui?void 0:ui.getBoundingClientRect().height):0),16777216&e.$$.dirty[0]&&i(36,a=null==V?void 0:V.isMobileDevice),2048&e.$$.dirty[4]&&i(139,d=null==wi?void 0:wi.querySelector(".bb-subtitle-layer .bb-subtitledisplay")),8388608&e.$$.dirty[0]|40960&e.$$.dirty[4]&&d&&i(139,d.style.transform="translateY(".concat(-1*((n||0)+(n?0:z)),"px)"),d),256&e.$$.dirty[0]&&i(138,u=Math.round(w)),33554960&e.$$.dirty[0]&&ci&&(F||null!=(t=null==k?void 0:k.author)&&t.hidden||null!=(s=null==k?void 0:k.copyright)&&s.hidden||null!=(h=null==k?void 0:k.title)&&h.hidden)&&setTimeout((function(){i(35,Pi=null==ci?void 0:ci.getBoundingClientRect().height)}),1),25165824&e.$$.dirty[0]|26624&e.$$.dirty[4]&&wi&&u&&wi.style.setProperty("--subtitle-transform",null!=V&&V.isiOS&&null!=(p=null==wi?void 0:wi.querySelector("video"))&&p.webkitDisplayingFullscreen?"":"translateY(".concat(-1*((n||0)+(n?0:z)),"px)")),512&e.$$.dirty[0]&&i(39,c=function(e){var t,i,n,a,o,s="display: none; visibility: hidden;";if(null!=e&&e.includes("||")){var r=l.default(e.split("||"),2),d=r[0],u=r[1];return null!=(t=null==k?void 0:k[d])&&t.hidden||null!=(i=null==k?void 0:k[u])&&i.hidden?s:null}if(null!=e&&e.includes("&&")){var c=l.default(e.split("&&"),2),h=c[0],p=c[1];return null!=(n=null==k?void 0:k[h])&&n.hidden&&null!=(a=null==k?void 0:k[p])&&a.hidden?s:null}return null!=(o=null==k?void 0:k[e])&&o.hidden?s:null}),7871488&e.$$.dirty[0]&&i(38,m=function(){var e=!!(O||P&&("show"===S.titleHover||"show"===S.authorCopyrightHover||S.showBigHoverButtons||"show"===S.shareButtonHover&&!j)||!C&&("show"===S.titlePause||"show"===S.authorCopyrightPause||S.showBigPauseButtons||"show"===S.relatedItemsPause||"show"===S.shareButtonPause&&!j)||O);return"INIT"!==q?"MAIN"!==q||e:H?e:!C}),921248&e.$$.dirty[0]|4096&e.$$.dirty[4]&&i(37,v=function(){var e;return null!=(e=k.controlBar)&&e.hidden||r||"INIT"===q&&"hide"===S.showStartControlBar||"INIT"!==q&&"hide"===S.controlBar||!o&&("INIT"===q&&"autohide"===S.showStartControlBar&&!Ze||"INIT"!==q&&"autohide"===S.controlBar&&!Ze&&C||"INIT"!==q&&"alwaysautohide"===S.controlBar&&!Ze)?"var(--margin-size)":R&&!b&&!L||L?"calc(var(--bar-button-size) + var(--margin-size))":"calc(var(--margin-size) * 2 + var(--bar-button-size) + 6px)"E){var _=M.id,y=M.description,$=M.title,x=di.getThumbnail(_,"default",120);if("granted"===Notification.permission)new Notification($,{body:y,image:x,icon:x}).onclick=function(){return window.parent.parent.focus()}}24579&e.$$.dirty[0]&&(g=T||_i||fi||D)},[_i,fi,bi,ui,ci,r,f,b,w,k,C,S,P,T,D,M,E,L,R,q,H,O,j,z,V,F,U,N,pi,vi,gi,yi,ki,$i,Ci,Pi,a,v,m,c,y,I,W,Q,J,K,Y,G,X,Z,ee,de,ue,ce,he,pe,_e,me,fe,ve,ze,Ve,Fe,Ke,Ye,Ge,Xe,Ze,et,tt,it,nt,at,ot,st,lt,rt,dt,ut,ct,vt,gt,bt,wt,kt,$t,At,It,Mt,Et,Rt,jt,zt,Vt,Ft,Ut,Nt,Wt,Qt,Jt,Kt,Yt,Gt,Xt,Zt,ei,ti,ii,ni,ai,oi,si,li,ri,function(){i(29,vi=!1)},function(e){i(32,ki="touch"===(null==e?void 0:e.pointerType)),e.stopPropagation(),ye(),Zt.set(!0)},be,we,function(e){We(e,!0),i(2,bi=!1)},function(){bt.set(!1),i(2,bi=!bi),bi||Le()},xi,$e,Ie,Te,Me,Ee,function(e,t){var i,n,a,o="",l=$;switch(e){case"show":o="hidden",a=!1;break;case"hide":o="hidden",a=!0;break;case"enable":o="disabled",a=!1;break;case"disable":o="disabled",a=!0;break;case"isVisible":return!(null!=(i=null==k?void 0:k[t])&&i.hidden);case"isEnabled":return!(null!=(n=null==k?void 0:k[t])&&n.disabled)}o&&void 0!==a&&It.set(s.default({},l,h.default({},t,s.defa $e()},function(e){De[e?"unshif)}))},function(){return $e()},function(){return $e()},function(e){return Me(e.detail)},function(e){return Te(e.detail)},functionon(){return i(29,vi=!1)},function(){return i(29,vi=!1)},function(){return xi()},function(){return xi()},function(){return be(!1)},funct]((function(){i(4,ci=e)}))function(){return we()},function(){return xi()},function(e){De[e?"unshift":"push"]((function(){i(3,ui=e)}))},function(e){w=e,lt.set(w)},function(e){return Ve(e)},function(e){return Fe(e)},function(){return ze(!0)}]}var Au=function(e){r.default(i,ear n;return a.default(this,i),n=t.call(this),dt(u.default(n),e,xu,Pu,C,{apiProp:133,callSkin:134},Yd,[-1,-1,-1,-1,-1,-1,-1]),c.default(n)}return o.default(i,[{key:"callSkin",get:function(){return this.$$.ctx[134]}}]),i}(ut),Iu=window,Tu=function(){function e(t){var n,o,s,l;a.default(this,e),f(this,"_api"),f(this,"skinComponent"),performance.mark("Skin constructor"),this._api=(void 0===t?"undefined":i.default(t))<"u"?t:null;var r=(null==(o=null==(n=this._api)?void 0:n.getSkinLayer)?void 0:o.call(n))||(null==(l=null==(s=this._api)?void 0:s.getWrapper)?void 0:l.call(s).querySelector(".bb-skin-layer"));r&&(r.innerHTML="",Iu.Cypress||r.attachShadow({mode:"open"}),this.skinComponent=new Au({target:Iu.Cypress?r:r.shadowRoot,props:{apiProp:this._api}}))}return o.default(e,[{key:"show",value:function(e){return this.skinComponent.callSkin("show",e)}},{key:"hide",value:function(e){return this.skinComponent.callSkin("hide",e)}},{key:"enable",value:function(e){return this.skinComponent.cais.skinComponent.callSe)}},{key:"isEnabled",value:function(e){return this.skinComponent.callSkin("isEnabled",e)}},{key:"getInfo",value:function(){return{name:"Blue Billywig Svelte Skin",type:"main",vendor:"Blue Billywig",generation:8}}}]),e}();Iu.BBg8Skin=Tu,e.exports=Tu})),parcelRequire.register("b8peP",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("dhZ6J");var i=parcelRequire("dwEjG"),n=parcelRequire("cWdJP"),a=parcelRequire("1MxPP"),o=function(e,t){this._opts=t||{},this._masterVolume=.8,this._previousMasterVolume=null,this._masterMuted=!1,this._previousMasterMuted=null,this._localStorage=null,this._masterMutedFromPlayout=!1,this._masterVolumeHandlers={},this._masterMuteHandlers={};var i=!1;if(this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onHeadVolumeChangedBound=this._onHeadVolumeChanged.bind(this),void 0!==e&&null!=e){this.$element=e,n.default.getService(this._opts.playerAliasOrId).setInstance("SoundController",this),this.$element.on("bb_media_volume_change",this._onHeadVolumeChangedBound),this.$element.on("bb_commercial_volume_change",this._onHeadVolumeChangedBound);var a=n.default.getService(this._opts.playerAliasOrId).getInstance("LocalStorage");if(void 0!==a&&null!=a){this._localStorage=a;var o=a.get("masterVolume"),s=a.get("masterMute");null!=o&&(this._masterVolume=Number(o),this._callMasterVolumeHandlers(),this.$element.trigger("bb_master_volume_set",[{volume:this._masterVolume}])),null!=s&&(this._masterMuted=s,i=!0)}null!=t&&void 0!==t.playoutData&&void 0!==t.playoutData.autoMute&&"true"==t.playoutData.autoMute&&(this._masterMuted=!0,this._masterMutedFromPlayout=!0,i=!0),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),1==i&&(this._callMasterMuteHandlers(),this.$element.trigger("bb_master_volume_mute",[{muted:this._masterMuted}]))}};o.prototype.registerMasterVolumeHandler=function(e,t){e=e||"__global__",this._masterVolumeHandlers[e]=t},o.prototype.unregisterMasterVolumeHandler=function(e){e=e||"__global__",delete this._masterVolumeHandlers[e]},o.prototype.registerMasterMuteHandler=function(e,t){e=e||"__global__",this._masterMuteHandlers[e]=t},o.prototype.unregisterMasterMuteHandler=function(e){e=e||"__global__",delete this._masterMuteHandlers[e]},o.prototype._callMasterVolumeHandlers=function(){for(var e in this._masterVolumeHandlers)try{"function"==typeof this._masterVolumeHandlers[e]&&this._masterVolumeHandlers[e]({volume:this._masterVolume})}catch(e){a.default("[SoundController] _callMasterVolumeHandlers error: "+e)}},o.prototype._callMasterMuteHandlers=function(){for(var e in this._masterMuteHandlers)try{"function"==typeof this._masterMuteHandlers[e]&&this._masterMuteHandlers[e]({muted:this._masterMuted})}catch(e){a.default("[SoundController] _callMasterMuteHandlers error: "+e)}},o.prototype.setVolume=function(e,t){return null!=this.$element&&null!=e&&e>=0&&e<=1&&(this._masterVolume=e,a.default("[SoundController] setVolume going to trigger 'bb_master_volume_set' with volume: "+this._masterVolume),this._callMasterVolumeHandlers(),this.$element.trigger("bb_master_volume_set",[{volume:this._masterVolume}]),!0===t&&!0===this._masterMuted&&this.setMuted(!1,!1,!0),!0)},o.prototype.getVolume=function(){return this._masterVolume},o.prototype.setMuted=function(e,t,o){if(null!=this.$element&&null!=e){if(!o&&!e){var s=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections");if(s&&!s.canAutoPlayAdvanced)return!1}return this._masterMuted=e,a.default("[SoundController] setMuted going to trigger 'bb_master_volume_mute' with muted: "+this._masterMuted+", storeValue: "+t+"("+(void 0===t?"undefined":i.default(t))+")"),this._callMasterMuteHandlers(),this.$element.trigger("bb_master_volume_mute",[{muted:this._masterMuted}]),1==this._masterMutedFromPlayout?(this._masterMutedFromPlayout=!1,!0):(null!=this._localStorage&&!1!==t&&this._localStorage.set("masterMute",e),!0)}return!1},o.prototype.getMuted=function(){return this._masterMuted},o.prototype._onPlayoutChanged=function(e,t){t&&void 0!==t.playoutData&&void 0!==t.playoutData.autoMute&&(this._masterMuted="true"==t.playoutData.autoMute,this._masterMutedFromPlayout=!0,this._callMasterMuteHandlers(),this.$element.trigger("bb_master_volume_mute",[{muted:this._masterMuted}]))},o.prototype._onHeadVolumeChanged=function(e,t){if(void 0!==t){void 0===t.masterVolume||isNaN(parseFloat(t.masterVolume))||(this._masterVolume=Math.max(0,Math.min(t.masterVolume,1))),void 0!==t.masterMuted&&null!=t.masterMuted&&(this._masterMuted=!!t.masterMuted);var i=!1;this._previousMasterVolume!==this._masterVolume&&(this._previousMasterVolume=this._masterVolume,i=!0,null!=this._localStorage&&this._localStorage.set("masterVolume",this._masterVolume)),this._previousMasterMuted!==this._masterMuted&&(this._previousMasterMuted=this._masterMuted,i=!0),i&&this.$element.trigger("bb_master_volume_change",[{volume:this._masterVolume,muted:this._masterMuted}])}},o.prototype.exit=function(){return null!=this.$element&&(n.default.getService(this._opts.playerAliasOrId).setInstance("SoundController",null),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_media_volume_change",this._onHeadVolumeChangedBound),this.$element.off("bb_commercial_volume_change",this._onHeadVolumeChangedBound)),this._localStorage=null,null}})),parcelRequire.register("Yh8Zl",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("1MxPP"),n=function(e,t){this.$element=null,this._onErrorBound=this._onError.bind(this),this._onWarningBound=this._onWarning.bind(this),void 0!==e&&null!=e&&(this.$element=e,this.$element.on("bb_error",this._onErrorBound),this.$element.on("bb_warning",this._onWarningBound))};n.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_error",this._onErrorBound),this.$element.off("bb_warning",this._onWarningBound)),null},n.prototype._onError=function(e,t){if(e.stopPropagation(),"undefined"!=typeof console){var i=t?t.msg:"";void 0!==console.debug?console.debug("Error: "+i):console.log("Error: "+i),void 0!==console.trace&&console.trace("Error: "+i)}},n.prototype._onWarning=function(e,t){if(e.stopPropagation(),"undefined"!=typeof console){var n=t?t.msg:"";i.default("Warning: "+n,!0)}}})),parcelRequire.register("as4oN",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6");parcelRequire("2UpbQ");var a=parcelRequire("eV1xY"),o=parcelRequire("cWdJP"),s=function(){"use strict";function e(t,n){var a;if(i.default(this,e),this.$element=void 0!==t?t:null,this._opts=void 0!==n?n:null,this.instanceService=o.default.getService(null===(a=this._opts)||void 0===a?void 0:a.playerAliasOrId),this._eventHandlers=null,this._server=null,this._disallowScripts=!1,this._widget=null,this._playerEventsStr="ready timeupdate ended assetselected audiotrackchange playing play pause unstalled stalled seeking seeked durationchange error resized volumechange subtitlechange inview outview subtitlelinechange fullscreen retractfullscreen loadedclipdata loadedmetadata loadeddata loadedinteractivity chapterlistchange started mouseover1s mouseover2s mouseover3s mouseover4s mouseover5s",this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onMessageBound=this._onMessage.bind(this),this._onPlayerEventBound=this._onPlayerEvent.bind(this),this._opts&&this._opts.playoutData&&void 0!==this._opts.playoutData.eventHandlers&&(this._eventHandlers=this._opts.playoutData.eventHandlers),this._opts&&this._opts.publicationData&&(void 0!==this._opts.publicationData.server&&(this._server=this._opts.publicationData.server),void 0!==this._opts.publicationData.disallowScripts&&(this._disallowScripts="true"==this._opts.publicationData.disallowScripts)),this.$element){this.$element.on("bb_playout_changed",this._onPlayoutChangedBound);var s=this.$element.closest(".bb_wrapper");s.on("bb_on_message",this._onMessageBound),s.on(this._playerEventsStr,this._onPlayerEventBound)}}return n.default(e,[{key:"exit",value:function(){if(this.$element){var e=this.$element.closest(".bb_wrapper");e.off(this._playerEventsStr,this._onPlayerEventBound),e.off("bb_on_message",this._onMessagnged",this._onPlayoutChangedBound)}if(this._widget){var t=this._widget.$element;.exit(),t&&t.remove()}return null}},{key:"getDisallowScripts",value:function(){return this._disallowScripts}},{key:"getWidgetById",value:function(e){return null}},{key:"getGroupById",value:function(e){return null}},{key:"_onPlayoutChanged",value:function(e,t){t&&t.playoutData&&void 0!==t.playoutData.eventHandlers&&(this._eventHandlers=t.playoutData.eventHandlers)}},{key:"_onPlayerEvent",value:function(e){(null==e?void 0:e.type)&&this.$element.trigger("bb_on_message",[{name:"player_"+e.type}])}},{key:"_onMessage",value:function(e,t){var i,n=""+t,o="message:2";t&&"string"!=typeof t&&(void 0!==t.name&&(n=""+t.name),void 0!==t.widgetId&&(o=t.widgetId));var s=n.toLowerCase();if(null===(i=this._eventHandlers)||void 0===i?void 0:i.some((function(e){var t;return(null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase)&&e.name.toLowerCase()===s}))){if(!this._widget){var l=this;return this._widgetPromise||(this._widgetPromise=parcelRequire("iSDff")),void this._widgetPromise.then((function(i){var n=i.default;if("function"==typeof n){var s=$parcel$interopDefault(a)('<div class="bb_timelinewidget" style="display: none;"></div>');l.$element.append(s),l._widget=new n(s,{id:o},l),l._onMessage(e,t)}}))}if(Array.isArray(this._eventHandlers)){var r,d=!0,u=!1,c=void 0;try{for(var h,p=this._eventHandlers[Symbol.iterator]();!(d=(h=p.next()).done);d=!0){var _=h.value;if((null==_||null===(r=_.name)||void 0===r?void 0:r.toLowerCase)&&_.name.toLowerCase()===s){var m,f=!0,v=!1,g=void 0;if(Array.isArray(_.procedures))try{for(var y,b=_.procedures[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var w=y.value;null===(m=this._widget)||void 0===m||m._handleAction(w)}}catch(e){v=!0,g=e}finally{try{f||null==b.return||b.return()}finally{if(v)throw g}}}}}catch(e){u=!0,c=e}finally{try{d||null==p.return||p.ret,parcelRequire.register("iSDff",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("dnjLp")).then((function(){return parcelRequire("3iFuO")}))})),parcelRequire.register("kSBTF",(function(e,t){"use strict";var i=parcelRequire("gbQZv");e.exports=i((function(e){return new Promise((function(t,i){var n=document.getElementsByTagName("script");if([].concat(n).some((function(t){return t.src===e})))t();else{var a=document.createElement("link");a.href=e,a.rel="preload",a.as="script",document.head.appendChild(a);var o=document.createElement("script");o.async=!0,o.type="text/javasor=function(t){var n=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));o.onerror=o.onload=nByTagName("head")[0].appendChild(o)}}))}))})),parcelRequire.register("gbQZv",(function(e,t){"use strict";vwitch(e){case"preload":return n;case"prefetch":return a;default:return i}}e.exports=function(e,t){return function(i){var n=i]=e.apply(v"$1")+"/"}i=function(e){var t=n[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),n[e]=t),t}})),parcelRequire.register("krOAZ",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var i,n,a,o,s,l=parcelRequire("gSCTB").default;i=parcelRequire("f0hLv").default,n=parcelRequire("7Pzqq").default,a=parcelRequire("kfOKt").default,o=parcelRequire("3y9f7").default,s=parcelRequire("5CdRg").default;var r=function(e,t){this.$element=null,this._opts=void 0!==t?t:null,this._noStats=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.noStats,this._autoPlayOnlyWithPrerollAd=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.autoPlayOnlyWithPrerollAd,this._autoPauseAfterPrePhase=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.autoPauseAfterPrePhase,this._autoPaused=!1,this._bblogger=null,this._nslogger=null,this._galogger=null,this._gtlogger=null,this._pwlogger=null,this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onAutoPauseBound=this._onAutoPause.bind(this),this._onAutoPausePlayBound=this._onAutoPausePlay.bind(this),this._onPlayBound=this._onPlay.bind(this),void 0!==e&&null!=e&&(this.$element=e,"function"==typeof l&&(this._bblogger=new l(this.$element,t)),"function"==typeof a&&(this._nslogger=new a(this.$element,t)),"function"==typeof i&&(this._galogger=new i(this.$element,t)),"function"==typeof n&&(this._gtlogger=new n(this.$element,t)),"function"==typeof o&&(this._pwlogger=new o(this.$element,t)),"function"==typeof s&&(this._mtlogger=new s(this.$element,t)),this._noStats||this._autoPlayOnlyWithPrerollAd||this._autoPauseAfterPrePhase?this._disableAll():this._enableAll(),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_program_autopause",this._onAutoPauseBound),this.$element.on("bb_program_autopauseplay",this._onAutoPausePlayBound),this.$element.on("bb_program_play",this._onPlayBound))};r.prototype.exit=function(){return this.$element&&(this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_program_autopause",this._onAutoPauseBound),this.$element.off("bb_program_autopauseplay",this._onAutoPausePlayBound),this.$element.off("bb_program_play",this._onPlayBound)),null!=this._bblogger&&(this._bblogger=this._bblogger.exit()),null!=this._nslogger&&(this._nslogger=this._nslogger.exit()),null!=this._galogger&&(this._galogger=this._galogger.exit()),null!=this._gtlogger&&(this._gtlogger=this._gtlogger.exit()),null!=this._pwlogger&&(this._pwlogger=this._pwlogger.exit()),null!=this._mtlogger&&(this._mtlogger=this._mtlogger.exit()),null},r.prototype._onPlayoutChanged=function(e,t){var i;if(null==t||null===(i=t.playoutData)||void 0===i?void 0:i.noStats){var n="true"===t.playoutData.noStats;this._noStats!==n&&(this._noStats=n,this._noStats?this._disableAll():this._enableAll())}},r.prototype._onAutoPause=function(e,t){this._autoPaused=!0,this._noStats||this._handleAutoPauseAll()},r.prototype._onAutoPausePlay=function(e,t){this._autoPaused=!1,this._noStats||this._enableAll()},r.prototype._onPlay=function(e){this._autoPaused&&(this._autoPaused=!1,this._noStats||this._enableAll())},r.prototype._handleAutoPauseAll=function(){this._bblogger&&this._bblogger.handleAutoPause&&this._bblogger.handleAutoPause(),this._nslogger&&this._nslogger.handleAutoPause&&this._nslogger.handleAutoPause(),this._galogger&&this._galogger.handleAutoPause&&this._galogger.handleAutoPause(),this._gtlogger&&this._gtlogger.handleAutoPause&&this._gtlogger.handleAutoPause(),this._pwlogger&&this._pwlogger.handleAutoPause&&this._pwlogger.handleAutoPause(),this._mtlogger&&this._mtlogger.handleAutoPause&&this._mtlogger.handleAutoPause()},r.prototype._enableAll=function(){this._bblogger&&this._bblogger.enable&&this._bblogger.enable(),this._nslogger&&this._nslogger.enable&&this._nslogger.enable(),this._galogger&&this._galogger.enable&&this._galogger.enable(),this._gtlogger&&this._gtlogger.enable&&this._gtlogger.enable(),this._pwlogger&&this._pwlogger.enable&&this._pwlogger.enable(),this._mtlogger&&this._mtlogger.enable&&this._mtlogger.enable()},r.prototype._disableAll=function(){this._bblogger&&this._bblogger.disable&&this._bblogger.disable(),this._nslogger&&this._nslogger.disable&&this._nslogger.disable(),this._galogger&&this._galogger.disable&&this._galogger.disable(),this._gtlogger&&this._gtlogger.disable&&this._gtlogger.disable(),thwlogger.disable&&this._pwlogger.disable(),this._mtlogger&&this._mtlogger.disable&&this._mtlogger.disable()}})),parcelRequire.register("gSCTB",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var i=parcelRequire("cWdJP"),n=parcelRequire("1MxPP"),a=parcelRequire("5SYG3"),o=parcelRequire("eeIYx"),s=parcelRequire("4AQp6");parcelRequire("lGhIk");var l=function(e,t){var n;this._opts=void 0!==t?t:null,this._loggerUrl="https://stats.bluebillywig.com",this._sessionId=null,this._playerSessionId=null,this._playerSessionStartLogged=!1,this._viewId=null,this._publication=null,this._mediaClip=null,this._duration=0,this._currentTime=0,this._commercialCurrentTime=0,this._playMode="html5",this._commercialPlayMode="html5",this._asset=null,this._timelineIds={},this._referrer=null,this._realReferrer=null,this._fullScreen=!1,this._uuid=null,this._uuid_unsaved=!1,this._timer=null,this._creativeId=null,this._tsOffset=0,this._timeOffset=0,this._quartile=-1,this._progressTimer=10,this._to=null,this._to_now=null,this._enabled=!1,this._enabledQueue=[],this._prevViewId=null,this._prevClipId=null,this._startedClipId=null,this._assetBandwidth=null,this._adProperties=null,this._adUnitCode=null,this._lineItemCode=null,this._lineItemLogging=!0,this._newCreativeLogging=!0,this._adScheduleCode=null,this._adScheduleItemCode=null,this._paused=!0,this._isInView=!1,this._contextEntityType=null,this._contextEntityId=null,this._projectId=null,this._projectXSTLogged=!1,this._outstreamMode=!1,this._logEventBundling=!0,this._logEventQueueProcessingLock=!1,this._logEventQueue=[],this._logEventQueueProcessingTimeout=null,this._detections=i.default.getService(null===(n=this._opts)||void 0===n?void 0:n.playerAliasOrId).getInstance("Detections");var l,r=i.default.getService(this._opts.playerAliasOrId).getInstance("LocalStorage");(r&&(this._uuid_ls=r.get("bb_uuid")),this._uuid_ls||(this._uuid_ls_unsaved=!0),a.getCookie&&(this._uuid_c=a.getCookie("uuid")),this._uuid_c||(this._uuid_c_unsaved=!0),this._uuid=this._uuid_ls||this._uuid_c||Math.uuid(),this._logEventBound=this._logEvent.bind(this),this._logSsEventDebounced=o.default(this._logEventBound,300,!0),this._logSeEventDebounced=o.default(this._logEventBound,300),this._logRsEventDebounced=o.default(this._logEventBound,300),this._onMediaVolumeChangeDebounced=o.default(this._onMediaVolumeChange.bind(this),300),this._opts&&this._opts.embedData&&"a"===this._opts.embedData.contentIndicator&&(this._loggerUrl="https://stats.mainroll.com",this._outstreamMode=!0),null!=this._opts&&void 0!==this._opts.playoutData)&&(this._playout=this._opts.playoutData,"true"!=this._playout.disableCookies&&"tracking"!=this._playout.disableCookies&&(this._uuid_ls_unsaved&&r&&(r.set("bb_uuid",this._uuid),this._uuid_ls_unsaved=!1),this._uuid_c_unsaved&&a.setCookie&&(a.setCookie("uuid",this._uuid,365,this._playout),this._uuid_c_unsaved=!1)),this._logProgressAsQuartiles=!("true"!==this._playout.logProgressAsQuartiles),void 0!==this._playout.context&&(this._context=null===(l=this._playout.context)||void 0===l?void 0:l.toLowerCase()));this._opts&&void 0!==this._opts.clipData&&(this._mediaClip=this._opts.clipData,this._mediaClip_initial=!0),this._opts&&this._opts.publicationData&&(this._publication=this._opts.publicationData),this._sessionId=this._generateSessionId(),this._playerSessionId=this._generateSessionId(),this._serialNumber=0,this._determineReferrer(),this._topMostHostname=s.determineTopMostHostname(),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onProjectDataLoadedBound=this._onProjectDataLoaded.bind(this),this._onClipDataLoadedBound=this._onClipDataLoaded.bind(this),this._onClipDataFailedBound=this._onClipDataFailed.bind(this),this._onFullscreenChangeBound=this._onFullscreenChange.bind(this),this._onPlayerErrorBound=this._onPlayerError.bind(this),this._onPlayerWarningBound=this._onPlayerWarning.bind(this),this._onHeadSelectedBound=this._onHeadSelected.bind(this),this._onCommercialHeadSelectedBound=this._onCommercialHeadSelected.bind(this),this._onAssetSelectedBound=this._onAssetSelected.bind(this),this._onMediaEventBound=this._onMediaEvent.bind(this),this._onWidgetShownBound=this._onWidgetShown.bind(this),this._onWidgetClickedBound=this._onWidgetClicked.bind(this),this._onWidgetCustomAnalyticsBound=this._onWidgetCustomAnalytics.bind(this),this._onAdUnitInitializedBound=this._onAdUnitInitialized.bind(this),this._onAdUnitFailedBound=this._onAdUnitFailed.bind(this),this._onInViewBound=this._onInView.bind(this),this._onOutViewBound=this._onOutView.bind(this),this._onAdSystemEventBound=this._onAdSystemEvent.bind(this),this._onAdScheduleEventBound=this._onAdScheduleEvent.bind(this),this._onCommercialTimeUpdateBound=this._onCommercialTimeUpdate.bind(this),this._onCommercialPausedBound=this._onCommercialPaused.bind(this),this._onCommercialPlayingBound=this._onCommercialPlaying.bind(this),this._onViewStartedBound=this._onViewStarted.bind(this),this._onViewFinishedBound=this._onViewFinished.bind(this),this._onApiCalledBound=this._onApiCalled.bind(this),this._onDvidChangedBound=this._onDvidChanged.bind(this),this._onMovingThumbnailStartedBound=this._onMovingThumbnailStarted.bind(this),this._onAdBlockDetectedBound=this._onAdBlockDetected.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,i.default.getService(this._opts.playerAliasOrId).setInstance("BlueBillywigStatisticsLogger",this),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_project_loaded",this._onProjectDataLoadedBound),this.$element.on("bb_mediaclip_loaded",this._onClipDataLoadedBound),this.$element.on("bb_mediaclip_failed",this._onClipDataFailedBound),this.$element.on("bb_fullscreen_change",this._onFullscreenChangeBound),this.$element.on("bb_error",this._onPlayerErrorBound),this.$element.on("bb_warning",this._onPlayerWarningBound),this.$element.on("bb_head_selected",this._onHeadSelectedBound),this.$element.on("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),this.$element.on("bb_asset_selected",this._onAssetSelectedBound),this.$element.on("bb_media_started bb_media_finished bb_media_paused bb_media_waiting bb_media_resumed bb_media_seeking bb_media_seeked bb_media_duration_change bb_media_volume_change bb_media_playback_rate_change bb_media_timeupdate",this._onMediaEventBound),this.$element.on("bb_widget_shown",this._onWidgetShownBound),this.$element.on("bb_widget_clicked",this._onWidgetClickedBound),this.$element.on("bb_widget_custom_analytics",this._onWidgetCustomAnalyticsBound),this.$element.on("bb_adunit_initialized",this._onAdUnitInitializedBound),this.$element.on("bb_adunit_failed",this._onAdUnitFailedBound),this.$element.on("bb_iawr_inview",this._onInViewBound),this.$element.on("bb_outview",this._onOutViewBound),this.$element.on("bb_adsystem_initialized bb_adsystem_loadstart bb_adsystem_blocked bb_adsystem_canplay bb_adsystem_started bb_adsystem_clicked bb_adsystem_skipped bb_adsystem_noad bb_adsystem_failed bb_adsystem_finished bb_adsystem_quartile",this._onAdSystemEventBound),this.$element.on("bb_as_initialized bb_as_placement_failed bb_as_loadstart bb_as_item_blocked bb_as_item_canplay bb_as_started bb_as_ad_clicked bb_as_item_skipped bb_as_item_noad bb_as_item_failed bb_as_finished bb_as_ad_quartile",this._onAdScheduleEventBound),this.$element.on("bb_commercial_timeupdate",this._onCommercialTimeUpdateBound),this.$element.on("bb_commercial_paused",this._onCommercialPausedBound),this.$element.on("bb_commercial_playing",this._onCommercialPlayingBound),this.$element.on("bb_view_started",this._onViewStartedBound),this.$element.on("bb_view_finished",this._onViewFinishedBound),this.$element.on("bb_api_called",this._onApiCalledBound),this.$element.on("bb_dvid_changed",this._onDvidChangedBound),this.$element.on("bb_movingthumbnail_stockDetected?this.$element.on("bb_adblock_detection_finished",this._onAdBlockDetectedBound):this._onAdBlockDetected())};l.prototype.reset=function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)},l.prototype.exit=function(){return this.reset(),null!=this.$element&&(this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_project_loaded",this._onProjectDataLoadedBound),this.$element.off("bb_mediaclip_loaded",this._onClipDataLoadedBound),this.$element.off("bb_mediaclip_failed",this._onClipDataFailedBound),this.$element.off("bb_fullscreen_change",this._onFullscreenChangeBound),this.$element.off("bb_error",this._onPlayerErrorBound),this.$element.off("bb_warning",this._onPlayerWarningBound),this.$element.off("bb_head_selected",this._onHeadSelectedBound),this.$element.off("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),this.$element.off("bb_asset_selected",this._onAssetSelectedBound),this.$element.off("bb_media_started bb_media_finished bb_media_paused bb_media_waiting bb_media_resumed bb_media_seeking bb_media_seeked bb_media_duration_change bb_media_volume_change bb_media_playback_rate_change bb_media_timeupdate",this._onMediaEventBound),this.$element.off("bb_widget_shown",this._onWidgetShownBound),this.$element.off("bb_widget_clicked",this._onWidgetClickedBound),this.$element.off("bb_widget_custom_analytics",this._onWidgetCustomAnalyticsBound),this.$element.off("bb_adunit_initialized",this._onAdUnitInitializedBound),this.$element.off("bb_adunit_failed",this._onAdUnitFailedBound),this.$element.off("bb_iawr_inview",this._onInViewBound),this.$element.off("bb_outview",this._onOutViewBound),this.$element.off("bb_adsystem_initialized bb_adsystem_loadstart bb_adsystem_blocked bb_adsystem_canplay bb_adsystem_started bb_adsystem_clicked bb_adsystem_skipped bb_adsystem_noad bb_adsystem_failed bb_adsystem_finished bb_adsystem_quartile",this._onAdSystemEventBound),this.$element.off("bb_as_initialized bb_as_placement_failed bb_as_loadstart bb_as_item_loaded bb_as_item_blocked bb_as_item_canplay bb_as_started bb_as_ad_clicked bb_as_item_skipped bb_as_item_noad bb_as_item_failed bb_as_finished bb_as_ad_quartile",this._onAdScheduleEventBound),this.$element.off("bb_commercial_timeupdate",this._onCommercialTimeUpdateBound),this.$element.off("bb_commercial_paused",this._onCommercialPausedBound),this.$element.off("bb_commercial_playing",this._onCommercialPlayingBound),this.$element.off("bb_view_started",this._onViewStartedBound),this.$element.off("bb_view_finished",this._onViewFinishedBound),this.$element.off("bb_api_called",this._onApiCalledBound),this.$element.off("bb_dvid_changed",this._onDvidChangedBound),this.$element.off("bb_movingthumbnail_started",this._onMovingThumbnailStartedBound),this.$element.off("bb_adblock_detection_finished",this._onAdBlockDetectedBound)),i.default.getService(this._opts.playerAliasOrId).setInstance("Bnull),null},l.prototype.enable=function(){for(this._enabled=!0;this._enabledQueue.length>0;){var e=this._enabledQueue.shift();this._logEvent_enabled(e.properties)}},l.prototype.disable=function(){this._enabled=!1},l.prototype.handleAutoPause=function(){for(var e=0;e<this._enabledQueue.length;){var t=this._enabledQueue[e].properties;"Session"===t.et||"it"===t.ev||"pf"===t.ev||"pw"===t.ev||"Creative"===t.et||"AdUnit"===t.et||"LineItem"===t.et?(this._enabledQueue.splice(e,1),this._logEvent_enabled(t)):e++}},l.prototype._determineProgressTimer=function(e,t){var i=e&&Number(e.length);if(i>0){var n=Math.min(i/5,3);return t&&(n=4),this._logProgressAsQuartiles?i/40:Math.min(Math.max(i/10,n),10)}return this._logProgressAsQuartiles?1:10},l.prototype._determineReferrer=function(){var e,t;this._referrer=(null===(e=this._detections)||void 0===e?void 0:e.location)||window.location.href,this._realReferrer=(null===(t=this._detections)||void 0===t?void 0:t.referrer)||document.referrer},l.prototype._onPlayoutChanged=function(e,t){var i;t&&t.playoutData&&(void 0!==t.playoutData.logProgressAsQuartiles&&(this._logProgressAsQuartiles=!("true"!==t.playoutData.logProgressAsQuartiles)),void 0!==t.playoutData.context&&void 0===this._context&&(this._context=null===(i=t.playoutData.context)||void 0===i?void 0:i.toLowerCase()))},l.prototype._onProjectDataLoaded=function(e,t){if(this._projectXSTLogged=!1,this._projectId=null,this._sessionId=this._generateSessionId(),this._serialNumber=0,null==this._mediaClip||this._mediaClip_initial||(this._prevClipId=this._mediaClip.id),this._timelineIds={},this._currentTime=0,this._timeOffset=0,this._quartile=-1,this.$element.attr("data-sid",this._sessionId),s.default.triggerEventOnJQueryObject(this.$element,"startedSession"),void 0===(null==t?void 0:t.contextEntityType)&&void 0===(null==t?void 0:t.contextEntityId)||(this._contextEntityType=null==t?void 0:t.contextEntityType,this._contextEntityId=null==t?void 0:t.contextEntityId),t&&t.projectData){this._projectId=t.projectData.id,this._mediaClip={id:"",title:"<unknown>",date:{published:"<unknown>"},projectId:this._projectId},this._mediaClip_initial=!1,this._determineReferrer();var i=this._playout?this._playout.name:"default",n={xu:this._referrer,xr:this._realReferrer,pt:i};void 0!==this._playout&&null!=this._playout&&(n.aup="true"==this._playout.autoPlay||!0===this._playout.autoPlay?"1":"0",n.aum="true"==this._playout.autoMute||!0===this._playout.autoMute?"1":"0",n.aul="true"==this._playout.autoLoop||!0===this._playout.autoLoop?"1":"0"),this._playerSessionStartLogged||(this._playerSessionStartLogged=!0,this._logExtensionEvent("xst",this._playerSessionId,"Session",null,null,n)),this._logExtensionEvent("xit",this._projectId,"Project",this._playerSessionId,"Session",n)}},l.prototype._onClipDataLoaded=function(e,t){if(this._sessionId=this._generateSessionId(),this._serialNumber=0,null==this._mediaClip||this._mediaClip_initial||(this._prevClipId=this._mediaClip.id),this._timelineIds={},this._currentTime=0,this._timeOffset=0,this._quartile=-1,this.$element.attr("data-sid",this._sessionId),s.default.triggerEventOnJQueryObject(this.$element,"startedSession"),void 0===(null==t?void 0:t.contextEntityType)&&void 0===(null==t?void 0:t.contextEntityId)||(this._contextEntityType=null==t?void 0:t.contextEntityType,this._contextEntityId=null==t?void 0:t.contextEntityId),t&&t.clipData){var i;if(this._mediaClip=t.clipData,this._mediaClip_initial=!1,!(this._mediaClip.id>0)&&this._mediaClip.sourceid)(i=this._mediaClip.sourceid.match(/^\d+yt-.*[&?]v=([^&]*)/))||(i=this._mediaClip.sourceid.match(/^imported-from\:.*youtube.*v=([^&]*)$/))||(i=this._mediaClip.sourceid.match(/^imported-from\:.*youtu\.be\/([^&]*)$/))?this._mediaClip.id=i[1]:this._mediaClip.id=a.SHA1(this._mediaClip.sourceid);this._projectId&&(this._mediaClip.projectId=this._projectId),this._determineReferrer();var n=this._playout?this._playout.name:"default",o={xu:this._referrer,xr:this._realReferrer,pt:n};void 0!==this._playout&&null!=this._playout&&(o.aup="true"==this._playout.autoPlay||!0===this._playout.autoPlay?"1":"0",o.aum="true"==this._playout.autoMute||!0===this._playout.autoMute?"1":"0",o.aul="true"==this._playout.autoLoop||!0===this._playout.autoLoop?"1":"0"),this._playerSessionStartLogged||(this._playerSessionStartLogged=!0,this._logExtensionEvent("xst",this._playerSessionId,"Session",null,null,o)),null!=this._mediaClip&&void 0!==this._mediaClip.usetype&&(o.ut=this._mediaClip.usetype);var l=this._constructCustomFieldLogging(this._mediaClip);l&&(o.csf=JSON.stringify(l)),this._logMediaClipEvent("it",o)}else this._mediaClip=null,this._logErrorEvent("pf",{why:"clip failed to open"});null!=this._timer&&(clearInterval(this._timer),this._timer=null)},l.prototype._constructCustomFieldLogging=function(e){var t=null,i={string:"_str",relation:"_str",multistring:"_strmulti",relationlist:"_strmulti",text:"_txt",boolean:"_bool",date:"_date",int:"_int",long:"_long",float:"_float",double:"_double"};if(this._publication&&this._publication.customfields&&this._publication.customfields.mediaclip&&this._publication.customfields.mediaclip.length)for(var n=0;n<this._publication.customfieldsication.customfields.mediaclip[n];a&&a.includeInStats&&a.name&&void 0!==e[a.name]&&(t||(t={}),t[a.name+(i[a.type]||"_str")]=e[a.name])}return t},l.prototype._onClipDataFailed=function(e){this._onClipDataLoaded(e)},l.prototype._onHeadSelected=functiercialHeadSelected=function(e,t){this._commercialPlayMode=this._playModeFromHeadType(t.headType)},l.prototype._playModeFromHeadType=function(e){switch(e){case"html5ima":case"html5":return"html5";default:return e}},l.prototype._onAdBlockDetected=function(){this._adBlockDetected=window.bluebillywig.adBlockDetected?1:0,this.$element&&this.$element.trigger("bb_ad_log",[{msg:"Ad event: "+(this._adBlockDetected?"An":"No")+" adblocker was detected"}])},l.prototype._onAssetSelected=function(e,t){var i,n,a=(null===(i=this._asset)||void 0===i?void 0:i["language-id"])||null,o=(null===(n=this._asset)||void 0===n?void 0:n.mediatype)||null;if(this._asset=t.asset,this._asset){if(null!=this._viewId){var s={};void 0!==this._asset["language-id"]&&this._asset["language-id"]!==a&&(s.ali=this._asset["language-id"],s.alc=this._asset["language-isocode"]),void 0!==this._asset.mediatype&&this._asset.mediatype!==o&&(s.amt=l._simplifyAmt(this._asset.mediatype)),Object.keys(s).length>0&&this._logExtensionEvent("xpc",this._viewId,"View",this._playerSessionId,"Session",s)}}else this._logErrorEvent("pf",{why:"no playable media"})},l._simplifyAmt=function(e){if(e){if(e.startsWith("MP4_HLS"))return"HLS";if(e.startsWith("MP4")||e.startsWith("FMP4"))return"MP4"}return e||""},l.prototype._onFullscreenChange=function(e,t){if(void 0!==t&&void 0!==t.fullscreen){this._fullScreen=t.fullscreen;var i={fs:this._fullScreen?"1":"0"};this._logExtensionEvent("xpc",this._viewId,"View",this._playerSessionId,"Session",i)}},l.prototype._onPlayerError=function(e,t){void 0!==t&&void 0!==t.msg&&this._logErrorEvent("pf",{why:t.msg}),null!=this._timer&&(clearInterval(this._timer),this._timer=null)},l.prototype._onPlayerWarning=function(e,t){void 0!==t&&void 0!==t.msg&&this._logErrorEvent("pw",{why:t.msg})},l.prototype._onDurationChange=function(e,t){void 0!==t&&void 0!==t.duration&&(this._duration=t.duration)},l.prototype._onMediaVolumeChange=function(e,t){if(null!==(null==t?void 0:t.volume)&&null!==(null==t?void 0:t.muted)){var i={mv:parseFloat(null==t?void 0:t.masterVolume)*parseFloat(null==t?void 0:t.volume),mm:(null==t?void 0:t.masterMuted)||(null==t?void 0:t.muted)?"true":"false"};this._logExtensionEvent("xpc",this._viewId,"View",this._playerSessionId,"Session",i)}},l.prototype._onMediaPlaybackRateChange=function(e,t){var i={mpr:parseFloat(null==t?void 0:t.rate)};this._logExtensionEvent("xpc",this._viewId,"View",this._playerSessionId,"Session",i)},l.prototype._onMediaEvent=function(e,t){switch(null==e?void 0:e.type){case"bb_media_started":this._onMediaStarted(e,t);break;case"bb_media_finished":this._onMediaFinished(e,t);break;case"bb_media_paused":this._onMediaPaused(e,t);break;case"bb_media_waiting":this._onMediaWaiting(e,t);break;case"bb_media_resumed":this._onMediaResumed(e,t);break;case"bb_media_seeking":this._onMediaSeeking(e,t);break;case"bb_media_seeked":this._onMediaSeeked(e,t);break;case"bb_media_duration_change":this._onDurationChange(e,t);break;case"bb_media_volume_change":this._onMediaVolumeChangeDebounced(e,t);break;case"bb_media_playback_rate_change":this._onMediaPlaybackRateChange(e,t);break;case"bb_media_timeupdate":this._onTimeUpdate(e,t)}},l.prototype._onMediaStarted=function(e){var t;this._paused=!1,this._isReplay=!1,this._mediaClip&&this._mediaClip.id===this._startedClipId&&(this._logMediaClipEvent("rp",{to:0}),this._isReplay=!0),this._mediaClip&&(this._startedClipId=this._mediaClip.id);var i=l._simplifyAmt(null===(t=this._asset)||void 0===t?void 0:t.mediatype);if(this._asset&&!isNaN(Number(this._asset.bandwidth))){var n=s.quantizeBitrate(Number(this._asset.bandwidth));this._logMediaClipEvent("st",{to:0,amt:i,ab:n})}else if(null==this._assetBandwidth||isNaN(Number(this._assetBandwidth)))this._logMediaClipEvent("st",{to:0,amt:i});else{var a=s.quantizeBitrate(Number(this._assetBandwidth));this._logMediaClipEvent("st",{to:0,amt:i,ab:a})}null!=this._timer&&(clearInterval(this._timer),this._timer=null);var o=this,r=1e3*this._determineProgressTimer(this._mediaClip,this._isReplay);r>2e3&&setTimeout((function(){o._handleTimerTick()}),2e3),this._timer=setInterval((function(){o._handleTimerTick()}),r),this._projectXSTLogged||null==this._projectId||(this._logExtensionEvent("xst",this._projectId,"Project",this._viewId,"View",null),this._projectXSTLogged=!0)},l.prototype._onMediaFinished=function(e){if(this._logProgressAsQuartiles)for(;this._quartile<4;){this._quartile++;var t=25*this._quartile;this._logMediaClipEvent("pg",{pct:t,pet:"Session",pid:this._playerSessionId,wpa:!!this._paused})}this._logMediaClipEvent("fn",{to:this._getTimeOffset()}),null!=this._timer&&(clearInterval(this._timer),this._timer=null)},l.prototype._onMediaPaused=function(e){this._paused=!0,this._logMedInterval(this._timer),this._timer=null);var t=this;this._timer=setInterval((function(){t._handleTimerTick()}),6e4)},l.prototype._onMediaWaiting=function(e){this._logMediaClipEvent("wa",{to:this._getTimeOffset()})},l.prototype._onMediaResumed=function(e){this._paused=!1,this._logMemeOffset()}),null!=this._timer&&(clearInterval(this._timer),this._timer=null);var t=this,i=1e3*this._determineProgressTimer(this._mediaClip,this._isReplay);this._timer=setInterval((function(){t._handleTimerTick()}),i)},l.prototype._onMediaSeeking=function(e,t){var i=parseFloat(null==t?void 0:t.currentTime);i>=0&&(this._currentTime=this._duration>=0?Math.min(i,this._duration):i),this._logMediaClipEvent("ss",{to:this._getTimeOffset()})},l.prototype._onMediaSeeked=function(e,t){t&&!isNaN(parseFloat(t.seekedPosition))&&t.seekedPosition>=0&&(this._currentTime=t.seekedPosition,this._duration&&this._currentTime>this._duration&&(this._currentTime=this._duration),this._timeOffset=Math.round(1e3*parseFloat(this._currentTime))),this._logMediaClipEvent("se",{to:this._getTimeOffset()})},l.prototype._onTimeUpdate=function(e,t){t&&!isNaN(parseFloat(t.currentTime))&&t.currentTime>=0&&(this._currentTime=t.currentTime,this._duration&&this._currentTime>this._duration&&(this._currentTime=this._duration))},l.prototype._getTimeOffset=function(){return this._timeOffset||(this._timeOffset=0),this._currentTime||(this._currentTime=0),this._timeOffset=Math.min(this._timeOffset+6e4,Math.round(1e3*parseFloat(this._currentTime)))},l.prototype._handleTimerTick=function(){var e=this._getTimeOffset();if(e===this._to){if(this._to_num||(this._to_num=1),this._to_now||(this._to_now=Date.now()),this._to_num++>60)return;if(Date.now()>this._to_now+36e5)return}else this._to=e,this._to_num=null,this._to_now=null;if(this._logProgressAsQuartiles)for(var t=this._duration>0?Math.floor(4*e/(1e3*this._duration)):0;this._quartile<t;){this._quartile++;var i=25*this._quartile;this._logMediaClipEvent("pg",{pct:i,pet:"Session",pid:this._playerSessionId,wpa:!!this._paused})}else this._logMediaClipEvent("pg",{to:e,pet:"Session",pid:this._playerSessionId,wpa:!!this._paused})},l.prototype._onWidgetShown=function(e,t){t&&void 0!==t.entityId&&void 0!==t.timelineId&&(this._projectXSTLogged||null==this._projectId||(this._logExtensionEvent("xst",this._projectId,"Project",this._viewId,"View",null),this._projectXSTLogged=!0),void 0===this._timelineIds[t.timelineId]&&(this._timelineIds[t.timelineId]=!0,null!=this._mediaClip?this._logExtensionEvent("xst",t.timelineId,"Timeline",this._mediaClip.id,"MediaClip"):this._logExtensionEvent("xst",t.timelineId,"Timeline")),this._logExtensionEvent("xst",t.entityId,"Widget",t.timelineId,"Timeline",{to:this._getTimeOffset(),fs:this._fullScreen?"1":"0"}))},l.prototype._onWidgetClicked=function(e,t){t&&void 0!==t.entityId&&void 0!==t.timelineId&&this._logExtensionEvent("xcl",t.entityId,"Widget",t.timelineId,"Timeline",{to:this._getTimeOffset(),fs:this._fullScreen?"1":"0"})},l.prototype._onWidgetCustomAnalytics=function(e,t){t&&void 0!==t.entityId&&void 0!==t.timelineId&&this._logExtensionEvent("xsl",t.entityId,"Widget",t.timelineId,"Timeline",{to:this._getTimeOffset(),fs:this._fullScreen?"1":"0",cs:t.data})},l.prototype._onAdUnitInitialized=function(e,t){if(void 0!==t&&null!=t&&(this._creativeId=null,this._adUnitLoggedXiv=!1,this._adUnitLoggedXov=!1,this._adUnitAdPosition=void 0!==t.adPosition&&null!==t.adPosition?t.adPosition.toLowerCase():null,this._adUnitCode=void 0!==t.adUnitCode?t.adUnitCode:null,null!=this._adUnitCode)){var i=this._adUnitAdPosition?{ap:this._adUnitAdPosition}:{};this._logExtensionEvent("xit",this._adUnitCode,"AdUnit",this._viewId,"View",i),this._isInView?this._adUnitLoggedXiv||(this._adUnitLoggedXiv=!0,this._logExtensionEvent("xiv",this._adUnitCode,"AdUnit",this._viewId,"View",i)):this._adUnitLoggedXov||(this._adUnitLoggedXov=!0,this._logExtensionEvent("xov",this._adUnitCode,"AdUnit",this._viewId,"View",i))}},l.prototype._onAdUnitFailed=function(e,t){if(void 0!==t&&null!=t&&(this._creativeId=null,this._adUnitCode=void 0!==t.adUnitCode?t.adUnitCode:null,null!=this._adUnitCode)){var i=void 0!==t.adPosition?{ap:t.adPosition.toLowerCase()}:{};this._logExtensionEvent("xpf",this._adUnitCode,"AdUnit",this._viewId,"View",i),this._isInView?this._adUnitLoggedXiv||(this._adUnitLoggedXiv=!0,this._logExtensionEvent("xiv",this._adUnitCode,"AdUnit",this._viewId,"View",i)):this._adUnitLoggedXov||(this._adUnitLoggedXov=!0,this._logExtensionEvent("xov",this._adUnitCode,"AdUnit",this._viewId,"View",i))}},l.prototype._onInView=function(e){if(this._isInView=!0,null!=this._adUnitCode&&!this._adUnitLoggedXiv){this._adUnitLoggedXiv=!0;var t=this._adUnitAdPosition?{ap:this._adUnitAdPosition}:{};this._logExtensionEvent("xiv",this._adUnitCode,"AdUnit",this._viewId,"View",t)}if(null!=this._adScheduleCode&&!this._adScheduleLoggedXiv){this._adScheduleLoggedXiv=!0;t=this._adScheduleAdPosition?{ap:this._adScheduleAdPosition}:{};this._logExtensionEvent("xiv",this._adScheduleCode,"AdSchedule",this._viewId,"View",t)}},l.prototype._onOutView=function(e){if(this._isInView=!1,null!=this._adUnitCode&&!this._adUnitLoggedXov){this._adUnitLoggedXov=!0;var t=this._adUnitAdPosition?{ap:this._adUnitAdPosition}:{};this._logExtensionEvent("xov",this._adUnitCode,"AdUnit",this._viewId,"View",t)}if(null!=this._adScheduleCode&&!this._adScheduleLoggedXov){this._adScheduleLoggedXov=!0;t=this._adScheduleAdPosition?{ap:this._adScheduleAdPosition}:{};this._logExtensionEvent("xov",this._adScheduleCode,"AdSchedule",this._viewId,"View",t)}},l.prototype._onAdSystemEvent=function(e,t){switch(null==e?void 0:e.type){case"bb_adsystem_initialized":this._onAdSystemInitialized(e,t);break;case"bb_adsystem_loadstart":this._onAdSystemLoadStart(e,t);break;case"bb_adsystem_blocked":this._onAdSystemBlocked(e,t);break;case"bb_adsystem_canplay":this._onAdSystemCanPlay(e,t);break;case"bb_adsystem_started":this._onAdSystemStarted(e,t);break;case"bb_adsystem_clicked":this._onAdSystemClicked(e,t);break;case"bb_adsystem_skipped":this._onAdSystemSkipped(e,t);break;case"bb_adsystem_noad":this._onAdSystemNoAd(e,t);break;case"bb_adsystem_failed":this._onAdSystemFailed(e,t);break;case"bb_adsystem_finished":this._onAdSystemFinished(e,t);break;case"bb_adsystem_quartile":this._onAdSystemQuartile(e,t)}},l.prototype._onAdSystemInitialized=function(e,t){void 0===t&&(t={}),this._adProperties=null,this._commercialCurrentTime=0;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(this._newCreativeLogging){this._lineItemLoggedXld=!1,this._lineItemLoggedXst=!1,this._creativeLoggedXit=!1,this._creativeLoggedXit_pi=-2,this._cuePointTuples={};var n=i;this._lineItemCode=t.lineItemCode,this._adUnitCode&&this._lineItemCode&&this._lineItemLogging&&this._logExtensionEvent("xit",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",n)}else null!=this._adUnitCode&&(this._lineItemCode=t.lineItemCode,this._lineItemLogging&&this._logExtensionEvent("xit",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),"vms"==t.adType?(this._creativeId=void 0!==t.vmsClipId?t.vmsClipId:"",this._assetBandwidth=void 0!==t.vmsAssetBandwidth?t.vmsAssetBandwidth:""):this._creativeId=t.adSystemCreativeId?t.adSystemCreativeId:this._constructCreativeId(t.adType,t.adPosition,this._lineItemCode),this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemLoadStart=function(e,t){void 0!==t&&void 0!==t.adProperties?this._adProperties=t.adProperties:this._adProperties=null;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(null!=this._adProperties&&(i.sdk=this._adProperties.sdk),this._newCreativeLogging){var n=i;void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._adUnitCode&&this._lineItemCode&&this._lineItemLogging&&this._logExtensionEvent("xls",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",n)}else null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xls",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),this._logExtensionEvent("xls",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemBlocked=function(e,t){void 0!==t&&void 0!==t.adProperties?this._adProperties=t.adProperties:this._adProperties=null;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};null!=this._adProperties&&(i.sdk=this._adProperties.sdk),null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xlb",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),null===this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._lineItemCode)),this._logExtensionEvent("xlb",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemCanPlay=function(e,t){void 0!==t&&void 0!==t.adProperties?this._adProperties=t.adProperties:this._adProperties=null;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(null!=this._adProperties&&(i.adi=this._adProperties.adId,i.adt=this._adProperties.adTitle,i.ads=this._adProperties.adSystem,i.adl=this._adProperties.adLinear,i.add=this._adProperties.duration,i.sdk=this._adProperties.sdk,this._adProperties.adPodInfo&&(i.adp_ap=this._adProperties.adPodInfo.adPosition,i.adp_ib=!0===this._adProperties.adPodInfo.isBumper?"true":"false",i.adp_md=this._adProperties.adPodInfo.maxDuration,i.adp_pi=this._adProperties.adPodInfo.podIndex,i.adp_to=this._adProperties.adPodInfo.timeOffset,i.adp_ta=this._adProperties.adPodInfo.totalAds)),this._newCreativeLogging){var n,a;if(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._adUnitCode&&this._lineItemCode){var o={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};null!=this._adProperties&&(o.sdk=this._adProperties.sdk),this._lineItemLoggedXld||(this._lineItemLoggedXld=!0,this._logExtensionEvent("xld",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",o)),this._lineItemLoggedXst||(this._lineItemLoggedXst=!0,this._logExtensionEvent("xst",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",o))}if(i.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",this._adProperties&&this._adProperties.adPodInfo){if(this._creativeLoggedXit_pi!==this._adProperties.adPodInfo.podIndex){this._creativeLoggedXit_pi=this._adProperties.adPodInfo.podIndex;for(var s=!0===this._adProperties.adPodInfo.isBumper?"true":"false",l=this._adProperties.adPodInfo.maxDuration,r=this._adProperties.adPodInfo.podIndex,d=this._adProperties.adPodInfo.timeOffset,u=this._adProperties.adPodInfo.totalAds,c=0;c<u;c++){var h=c+1,p=this._adProperties.adPodInfo.adPosition==h?i.vastid:"",_=this._constructCreativeId(h,d,this._lineItemCode);this._cuePointTuples["#"+d]||(this._cuePointTuples["#"+d]=[]),this._cuePointTuples["#"+d].push({adPosition:h,creativeId:_}),this._logExtensionEvent("xit",_,"Creative",this._viewId,"View",{at:i.at,ap:i.ap,ar:i.ar,auc:this._adUnitCode,lic:this._lineItemCode,vastid:p,adp_ap:h,adp_ib:s,adp_md:l,adp_pi:r,adp_to:d,adp_ta:u,sdk:this._adProperties.sdk})}}}else if(!this._creativeLoggedXit){this._creativeLoggedXit=!0;s="false",l=0,r="postroll"===i.ap?-1:(i.ap,0),d="postroll"===i.ap?-1:0,u=1,h=1;"vms"==t.adType?this._creativeId=void 0!==t.vmsClipId?t.vmsClipId:"":this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._lineItemCode),this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:i.at,ap:i.ap,ar:i.ar,auc:this._adUnitCode,lic:this._lineItemCode,vastid:i.vastid,adp_ap:h,adp_ib:s,adp_md:l,adp_pi:r,adp_to:d,adp_ta:u,sdk:this._adProperties.sdk})}if(i.auc=this._adUnitCode,i.lic=this._lineItemCode,this._adProperties&&this._adProperties.adPodInfo){h=this._adProperties.adPodInfo.adPosition,d=this._adProperties.adPodInfo.timeOffset;if(this._cuePointTuples&&this._cuePointTuples["#"+d])for(var m in this._cuePointTuples["#"+d]){var f=this._cuePointTuples["#"+d][m];f.adPosition===h&&(this._creativeId=f.creativeId)}}this._logExtensionEvent("xls",this._creativeId,"Creative",this._viewId,"View",i),this._logExtensionEvent("xld",this._creativeId,"Creative",this._viewId,"View",i)}else null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xld",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),this._logExtensionEvent("xld",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemStarted=function(e,t){void 0===t&&(t={}),this._adSystemStarted=!0;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(null!=this._adProperties&&(i.adi=this._adProperties.adId,i.adt=this._adProperties.adTitle,i.ads=this._adProperties.adSystem,i.adl=this._adProperties.adLinear,i.add=this._adProperties.duration,i.sdk=this._adProperties.sdk),this._newCreativeLogging){if(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._adUnitCode&&this._lineItemCode){var n={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};null!=this._adProperties&&(n.sdk=this._adProperties.sdk),this._lineItemLoggedXst||(this._lineItemLoggedXst=!0,this._logExtensionEvent("xst",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",n))}}else null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xst",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),this._logExtensionEvent("xst",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemClicked=function(e,t){void 0===t&&(t={});var i={at:t.adType,ap:t.adPosition.toLowerCase()};t.__pretend&&(i.hmm="1"),null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xcl",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),this._logExtensionEvent("xcl",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemSkipped=function(e,t){void 0===t&&(t={}),this._adSystemStarted=!1;var i={at:t.adType,ap:t.adPosition.toLowerCase()};null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xsk",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),this._logExtensionEvent("xsk",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemNoAd=function(e,t){var i,n;void 0!==t&&void 0!==t.adProperties?this._adProperties=t.adProperties:this._adProperties=null,this._adSystemStarted=!1;var a={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(null!=this._adProperties&&(a.why=this._adProperties.errorMessage?(this._adProperties.errorCode?"AdError "+this._adProperties.errorCode+": ":"")+this._adProperties.errorMessage:"No ad found",void 0!==this._adProperties.adId&&null!=this._adProperties.adId&&(a.adi=this._adProperties.adId),void 0!==this._adProperties.adTitle&&null!=this._adProperties.adTitle&&(a.adt=this._adProperties.adTitle),void 0!==this._adProperties.adSystem&&null!=this._adProperties.duration&&(a.ads=this._adProperties.adSystem),void 0!==this._adProperties.adLinear&&null!=this._adProperties.duration&&(a.adl=this._adProperties.adLinear),void 0!==this._adProperties.duration&&null!=this._adProperties.duration&&(a.add=this._adProperties.duration),void 0!==this._adProperties.sdk&&null!=this._adProperties.sdk&&(a.sdk=this._adProperties.sdk)),t.timeout&&(a.why="timeout after "+t.timeout/1e3+"s"),null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xpf",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",a),a.auc=this._adUnitCode,a.lic=this._lineItemCode),a.vastid=(null===(i=this._adProperties)||void 0===i||null===(n=i.adWrapperAdIds)||void 0===n?void 0:n.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",null===this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._lineItemCode)),this._newCreativeLogging)if(this._adProperties&&this._adProperties.adPodInfo);else if(!this._creativeLoggedXit){this._creativeLoggedXit=!0;var o="postroll"===a.ap?-1:(a.ap,0),s="postroll"===a.ap?-1:0;this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:a.at,ap:a.ap,ar:a.ar,auc:this._adUnitCode,lic:this._lineItemCode,vastid:a.vastid,adp_ap:1,adp_ib:"false",adp_md:0,adp_pi:o,adp_to:s,adp_ta:1,sdk:a.sdk})}this._logExtensionEvent("xpf",this._creativeId,"Creative",this._viewId,"View",a)},l.prototype._onAdSystemFailed=function(e,t){void 0!==t&&void 0!==t.adProperties?this._adProperties=t.adProperties:this._adProperties=null,this._adSystemStarted=!1;var i={at:t.adType,ap:t.adPosition.toLowerCase(),ar:t.adRequestUrl};if(null!=this._adProperties){var n,a;if(i.why=this._adProperties.errorMessage?(this._adProperties.errorCode?"AdError "+this._adProperties.errorCode+": ":"")+this._adProperties.errorMessage:"Ad system failed",void 0!==this._adProperties.adId&&null!=this._adProperties.adId&&(i.adi=this._adProperties.adId),void 0!==this._adProperties.adTitle&&null!=this._adProperties.adTitle&&(i.adt=this._adProperties.adTitle),void 0!==this._adProperties.adSystem&&null!=this._adProperties.duration&&(i.ads=this._adProperties.adSystem),void 0!==this._adProperties.adLinear&&null!=this._adProperties.duration&&(i.adl=this._adProperties.adLinear),void 0!==this._adProperties.duration&&null!=this._adProperties.duration&&(i.add=this._adProperties.duration),null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xpf",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),i.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",null===this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._lineItemCode)),this._newCreativeLogging)if(this._adProperties&&this._adProperties.adPodInfo);else if(!this._creativeLoggedXit){this._creativeLoggedXit=!0;var o="postroll"===i.ap?-1:(i.ap,0),s="postroll"===i.ap?-1:0;this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:i.at,ap:i.ap,ar:i.ar,auc:this._adUnitCode,lic:this._lineItemCode,vastid:i.vastid,adp_ap:1,adp_ib:"false",adp_md:0,adp_pi:o,adp_to:s,adp_ta:1,sdk:i.sdk})}this._logExtensionEvent("xpf",this._creativeId,"Creative",this._viewId,"View",i)}},l.prototype._onAdSystemFinished=function(e,t){void 0===t&&(t={}),this._adSystemStarted=!1;var i={at:t.adType,ap:t.adPosition.toLowerCase()};if(this._newCreativeLogging){var n=i;void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._adUnitCode&&this._lineItemCode&&this._lineItemLogging&&this._logExtensionEvent("xfn",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",n)}else null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xfn",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",i),i.auc=this._adUnitCode,i.lic=this._lineItemCode),this._logExtensionEvent("xfn",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onAdSystemQuartile=function(e,t){void 0===t&&(t={});var i=25*t.quartile,n={at:t.adType,ap:t.adPosition.toLowerCase(),pct:i};if(this._newCreativeLogging)switch(n.auc=this._adUnitCode,n.lic=this._lineItemCode,parseInt(t.quartile)){case 0:this._logExtensionEvent("xst",this._creativeId,"Creative",this._viewId,"View",n);break;default:this._logExtensionEvent("xpg",this._creativeId,"Creative",this._viewId,"View",n);break;case 4:this._logExtensionEvent("xfn",this._creativeId,"Creative",this._viewId,"View",n)}else null!=this._adUnitCode&&(void 0!==t.lineItemCode&&(this._lineItemCode=t.lineItemCode),this._lineItemLogging&&this._logExtensionEvent("xpg",this._lineItemCode,"LineItem",this._adUnitCode,"AdUnit",n),n.auc=this._adUnitCode,n.lic=this._lineItemCode),this._logExtensionEvent("xpg",this._creativeId,"Creative",this._viewId,"View",n)},l.prototype._onAdScheduleEvent=function(e,t){switch(null==e?void 0:e.type){case"bb_as_initialized":this._onAdScheduleInitialized(e,t);break;case"bb_as_placement_failed":this._onAdSchedulePlacementFailed(e,t);break;case"bb_as_loadstart":this._onAdScheduleLoadStart(e,t);break;case"bb_as_item_blocked":this._onAdScheduleItemBlocked(e,t);break;case"bb_as_item_canplay":this._onAdScheduleItemCanPlay(e,t);break;case"bb_as_started":this._onAdScheduleStarted(e,t);break;case"bb_as_ad_clicked":this._onAdScheduleAdClicked(e,t);break;case"bb_as_item_skipped":this._onAdScheduleItemSkipped(e,t);break;case"bb_as_item_noad":this._onAdScheduleItemNoAd(e,t);break;case"bb_as_item_failed":this._onAdScheduleItemFailed(e,t);break;case"bb_as_finished":this._onAdScheduleFinished(e,t);break;case"bb_as_ad_quartile":this._onAdScheduleAdQuartile(e,t)}},l.prototype._onAdScheduleInitialized=function(e,t){var i,n;t=t||{},this._adProperties=null,this._commercialCurrentTime=0,this._adScheduleAdPosition=null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase();var a={at:t.adType,ap:null===(n=t.adPosition)||void 0===n?void 0:n.toLowerCase(),ar:t.adRequestUrl};this._adScheduleLoggedXiv=!1,this._adScheduleLoggedXov=!1,this._adScheduleItemCodeLoggedXit=null,this._creativeLoggedXit=!1,this._creativeLoggedXit_pi=-2,this._cuePointTuples={},this._adScheduleCode=t.adScheduleCode,this._adScheduleCode&&(this._logExtensionEvent("xit",this._adScheduleCode,"AdSchedule",this._playerSessionId,"Session",a),this._isInView?this._adScheduleLoggedXiv||(this._adScheduleLoggedXiv=!0,this._logExtensionEvent("xiv",this._adScheduleCode,"AdSchedule",this._viewId,"View",a)):this._adScheduleLoggedXov||(this._adScheduleLoggedXov=!0,this._logExtensionEvent("xov",this._adScheduleCode,"AdSchedule",this._viewId,"View",a)))},l.prototype._onAdSchedulePlacementFailed=function(e,t){var i,n={at:(t=t||{}).adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),ar:t.adRequestUrl};this._adScheduleCode=t.adScheduleCode,null!=this._adScheduleCode&&(this._logExtensionEvent("xpf",this._adScheduleCode,"AdSchedule",this._playerSessionId,"Session",n),this._isInView?this._adScheduleLoggedXiv||(this._adScheduleLoggedXiv=!0,this._logExtensionEvent("xiv",this._adScheduleCode,"AdSchedule",this._viewId,"View",n)):this._adScheduleLoggedXov||(this._adScheduleLoggedXov=!0,this._logExtensionEvent("xov",this._adScheduleCode,"AdSchedule",this._viewId,"View",n)))},l.prototype._onAdScheduleLoadStart=function(e,t){var i;void 0!==(t=t||{}).adProperties?this._adProperties=t.adProperties:this._adProperties=null;var n={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),ar:t.adRequestUrl};null!=this._adProperties&&(n.sdk=this._adProperties.sdk),this._adScheduleCode&&this._logExtensionEvent("xls",this._adScheduleCode,"AdSchedule",this._playerSessionId,"Session",n)},l.prototype._onAdScheduleItemBlocked=function(e,t){var i,n,a;void 0!==(t=t||{}).adProperties?this._adProperties=t.adProperties:this._adProperties=null;var o={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),ar:t.adRequestUrl};null!=this._adProperties&&(o.sdk=this._adProperties.sdk),void 0!==t.adScheduleItemCode&&(this._adScheduleItemCode=t.adScheduleItemCode),this._adScheduleCode&&this._adScheduleItemCode&&this._logExtensionEvent("xlb",this._adScheduleItemCode,"AdScheduleItem",this._adScheduleCode,"AdSchedule",o),o.asc=this._adScheduleCode,o.asic=this._adScheduleItemCode,o.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",null===this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._adScheduleItemCode)),this._logExtensionEvent("xlb",this._creativeId,"Creative",this._viewId,"View",o)},l.prototype._onAdScheduleItemCanPlay=function(e,t){var i,n,a;void 0!==(t=t||{}).adProperties?this._adProperties=t.adProperties:this._adProperties=null;var o={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),ar:t.adRequestUrl};if(null!=this._adProperties&&(o.adi=this._adProperties.adId,o.adt=this._adProperties.adTitle,o.ads=this._adProperties.adSystem,o.adl=this._adProperties.adLinear,o.add=this._adProperties.duration,o.sdk=this._adProperties.sdk,this._adProperties.adPodInfo&&(o.adp_ap=this._adProperties.adPodInfo.adPosition,o.adp_ib=!0===this._adProperties.adPodInfo.isBumper?"true":"false",o.adp_md=this._adProperties.adPodInfo.maxDuration,o.adp_pi=this._adProperties.adPodInfo.podIndex,o.adp_to=this._adProperties.adPodInfo.timeOffset,o.adp_ta=this._adProperties.adPodInfo.totalAds)),void 0!==t.adScheduleItemCode&&(this._adScheduleItemCode=t.adScheduleItemCode),this._adScheduleCode&&this._adScheduleItemCode){var s,l,r,d={at:t.adType,ap:null===(s=t.adPosition)||void 0===s?void 0:s.toLowerCase(),ar:t.adRequestUrl,aic:t.adBreakItemCount};null!=this._adProperties&&(d.sdk=this._adProperties.sdk),d.adp_ta=(null===(l=this._adProperties)||void 0===l||null===(r=l.adPodInfo)||void 0===r?void 0:r.totalAds)||1,this._adScheduleItemCode!==this._adScheduleItemCodeLoggedXit&&(this._adScheduleItemCodeLoggedXit=this._adScheduleItemCode,this._logExtensionEvent("xit",this._adScheduleItemCode,"AdScheduleItem",this._adScheduleCode,"AdSchedule",d))}if(o.asc=this._adScheduleCode,o.asic=this._adScheduleItemCode,o.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",this._adProperties&&this._adProperties.adPodInfo){if(this._creativeLoggedXit_pi!==this._adProperties.adPodInfo.podIndex){this._creativeLoggedXit_pi=this._adProperties.adPodInfo.podIndex;for(var u=!0===this._adProperties.adPodInfo.isBumper?"true":"false",c=this._adProperties.adPodInfo.maxDuration,h=this._adProperties.adPodInfo.podIndex,p=this._adProperties.adPodInfo.timeOffset,_=this._adProperties.adPodInfo.totalAds,m=0;m<_;m++){var f=m+1,v=this._adProperties.adPodInfo.adPosition==f?o.vastid:"",g=this._constructCreativeId(f,p,this._adScheduleItemCode);this._cuePointTuples["#"+p]||(this._cuePointTuples["#"+p]=[]),this._cuePointTuples["#"+p].push({adPosition:f,creativeId:g}),this._logExtensionEvent("xit",g,"Creative",this._viewId,"View",{at:o.at,ap:o.ap,ar:o.ar,asc:o.asc,asic:o.asic,vastid:v,adp_ap:f,adp_ib:u,adp_md:c,adp_pi:h,adp_to:p,adp_ta:_,sdk:o.sdk})}}}else if(!this._creativeLoggedXit){this._creativeLoggedXit=!0;var y="postroll"===o.ap?-1:(o.ap,0),b="postroll"===o.ap?-1:0;this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._adScheduleItemCode),this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:o.at,ap:o.ap,ar:o.ar,asc:o.asc,asic:o.asic,vastid:o.vastid,adp_ap:1,adp_ib:"false",adp_md:0,adp_pi:y,adp_to:b,adp_ta:1,sdk:o.sdk})}if(this._adProperties&&this._adProperties.adPodInfo){var w=this._adProperties.adPodInfo.adPosition,k=this._adProperties.adPodInfo.timeOffset;if(this._cuePointTuples&&this._cuePointTuples["#"+k])for(var $ in this._cuePointTuples["#"+k]){var C=this._cuePointTuples["#"+k][$];C.adPosition===w&&(this._creativeId=C.creativeId)}}this._logExtensionEvent("xld",this._creativeId,"Creative",this._viewId,"View",o)},l.prototype._onAdScheduleStarted=function(e,t){var i;t=t||{},this._adScheduleStarted=!0;var n={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),ar:t.adRequestUrl};null!=this._adProperties&&(n.sdk=this._adProperties.sdk),this._adScheduleCode&&this._logExtensionEvent("xst",this._adScheduleCode,"AdSchedule",this._playerSessionId,"Session",n)},l.prototype._onAdScheduleAdClicked=function(e,t){var i,n,a;void 0!==(t=t||{}).adProperties&&(this._adProperties=t.adProperties);var o={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase()};t.__pretend&&(o.hmm="1"),null!==this._adScheduleCode&&this._logExtensionEvent("xcl",this._adScheduleCode,"AdSchedule",this._playerSessionId,"Session",o),o.asc=this._adScheduleCode,o.asic=this._adScheduleItemCode,o.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",this._logExtensionEvent("xcl",this._creativeId,"Creative",this._viewId,"View",o)},l.prototype._onAdScheduleItemSkipped=function(e,t){var i,n,a;void 0!==(t=t||{}).adProperties?this._adProperties=t.adProperties:this._adProperties=null,this._adScheduleStarted=!1;var o={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase()};null!=this._adProperties&&(void 0!==this._adProperties.adId&&null!=this._adProperties.adId&&(o.adi=this._adProperties.adId),void 0!==this._adProperties.adTitle&&null!=this._adProperties.adTitle&&(o.adt=this._adProperties.adTitle),void 0!==this._adProperties.adSystem&&null!=this._adProperties.adSystem&&(o.ads=this._adProperties.adSystem),void 0!==this._adProperties.adLinear&&null!=this._adProperties.adLinear&&(o.adl=this._adProperties.adLinear),void 0!==this._adProperties.duration&&null!=this._adProperties.duration&&(o.add=this._adProperties.duration),void 0!==this._adProperties.sdk&&null!=this._adProperties.sdk&&(o.sdk=this._adProperties.sdk)),null!=this._adScheduleCode&&(void 0!==t.adScheduleItemCode&&(this._adScheduleItemCode=t.adScheduleItemCode),this._logExtensionEvent("xsk",this._adScheduleItemCode,"AdScheduleItem",this._adScheduleCode,"AdSchedule",o)),o.asc=this._adScheduleCode,o.asic=this._adScheduleItemCode,o.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",this._logExtensionEvent("xsk",this._creativeId,"Creative",this._viewId,"View",o)},l.prototype._onAdScheduleItemNoAd=function(e,t){var i,n,a;void 0!==(t=t||{}).adProperties?this._adProperties=t.adProperties:this._adProperties=null,this._adScheduleStarted=!1;var o={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),ar:t.adRequestUrl,aic:t.adBreakItemCount};if(null!=this._adProperties&&(o.why=this._adProperties.errorMessage?(this._adProperties.errorCode?"AdError "+this._adProperties.errorCode+": ":"")+this._adProperties.errorMessage:"No ad found",void 0!==this._adProperties.adId&&null!=this._adProperties.adId&&(o.adi=this._adProperties.adId),void 0!==this._adProperties.adTitle&&null!=this._adProperties.adTitle&&(o.adt=this._adProperties.adTitle),void 0!==this._adProperties.adSystem&&null!=this._adProperties.adSystem&&(o.ads=this._adProperties.adSystem),void 0!==this._adProperties.adLinear&&null!=this._adProperties.adLinear&&(o.adl=this._adProperties.adLinear),void 0!==this._adProperties.duration&&null!=this._adProperties.duration&&(o.add=this._adProperties.duration),void 0!==this._adProperties.sdk&&null!=this._adProperties.sdk&&(o.sdk=this._adProperties.sdk)),t.timeout&&(o.why="timeout after "+t.timeout/1e3+"s"),void 0!==t.adScheduleItemCode&&(this._adScheduleItemCode=t.adScheduleItemCode),this._adScheduleCode&&this._adScheduleItemCode){var s,l,r,d={at:t.adType,ap:null===(s=t.adPosition)||void 0===s?void 0:s.toLowerCase(),ar:t.adRequestUrl,aic:t.adBreakItemCount};null!=this._adProperties&&(d.sdk=this._adProperties.sdk),d.adp_ta=(null===(l=this._adProperties)||void 0===l||null===(r=l.adPodInfo)||void 0===r?void 0:r.totalAds)||1,this._adScheduleItemCode!==this._adScheduleItemCodeLoggedXit&&(this._adScheduleItemCodeLoggedXit=this._adScheduleItemCode,this._logExtensionEvent("xit",this._adScheduleItemCode,"AdScheduleItem",this._adScheduleCode,"AdSchedule",d))}if(null!=this._adScheduleCode&&(void 0!==t.adScheduleItemCode&&(this._adScheduleItemCode=t.adScheduleItemCode),this._logExtensionEvent("xpf",this._adScheduleItemCode,"AdScheduleItem",this._adScheduleCode,"AdSchedule",o)),o.asc=this._adScheduleCode,o.asic=this._adScheduleItemCode,o.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",null===this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._adScheduleItemCode)),this._adProperties&&this._adProperties.adPodInfo);else if(!this._creativeLoggedXit){this._creativeLoggedXit=!0;var u="postroll"===o.ap?-1:(o.ap,0),c="postroll"===o.ap?-1:0;this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:o.at,ap:o.ap,ar:o.ar,asc:o.asc,asic:o.asic,vastid:o.vastid,adp_ap:1,adp_ib:"false",adp_md:0,adp_pi:u,adp_to:c,adp_ta:1,sdk:o.sdk})}this._logExtensionEvent("xpf",this._creativeId,"Creative",this._viewId,"View",o)},l.prototype._onAdScheduleItemFailed=function(e,t){var i,n,a;void 0!==(t=t||{}).adProperties?this._adProperties=t.adProperties:this._adProperties=null,this._adScheduleStarted=!1;var o={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),ar:t.adRequestUrl};if(null!=this._adProperties&&(o.why=this._adProperties.errorMessage?(this._adProperties.errorCode?"AdError "+this._adProperties.errorCode+": ":"")+this._adProperties.errorMessage:"Ad system failed",void 0!==this._adProperties.adId&&null!=this._adProperties.adId&&(o.adi=this._adProperties.adId),void 0!==this._adProperties.adTitle&&null!=this._adProperties.adTitle&&(o.adt=this._adProperties.adTitle),void 0!==this._adProperties.adSystem&&null!=this._adProperties.adSystem&&(o.ads=this._adProperties.adSystem),void 0!==this._adProperties.adLinear&&null!=this._adProperties.adLinear&&(o.adl=this._adProperties.adLinear),void 0!==this._adProperties.duration&&null!=this._adProperties.duration&&(o.add=this._adProperties.duration)),null!=this._adScheduleCode&&(void 0!==t.adScheduleItemCode&&(this._adScheduleItemCode=t.adScheduleItemCode),this._logExtensionEvent("xpf",this._adScheduleItemCode,"AdScheduleItem",this._adScheduleCode,"AdSchedule",o)),o.asc=this._adScheduleCode,o.asic=this._adScheduleItemCode,o.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",null===this._creativeId&&(this._creativeId=this._constructCreativeId(t.adType,t.adPosition,this._adScheduleItemCode)),this._adProperties&&this._adProperties.adPodInfo);else if(!this._creativeLoggedXit){this._creativeLoggedXit=!0;var s="postroll"===o.ap?-1:(o.ap,0),l="postroll"===o.ap?-1:0;this._logExtensionEvent("xit",this._creativeId,"Creative",this._viewId,"View",{at:o.at,ap:o.ap,ar:o.ar,asc:o.asc,asic:o.asic,vastid:o.vastid,adp_ap:1,adp_ib:"false",adp_md:0,adp_pi:s,adp_to:l,adp_ta:1,sdk:o.sdk})}this._logExtensionEvent("xpf",this._creativeId,"Creative",this._viewId,"View",o)},l.prototype._onAdScheduleFinished=function(e,t){var i;t=t||{},this._adScheduleStarted=!1;var n={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),ar:t.adRequestUrl};this._adScheduleCode&&this._logExtensionEvent("xfn",this._adScheduleCode,"AdSchedule",this._playerSessionId,"Session",n)},l.prototype._onAdScheduleAdQuartile=function(e,t){var i,n,a;void 0!==(t=t||{}).adProperties&&(this._adProperties=t.adProperties);var o=25*t.quartile,s={at:t.adType,ap:null===(i=t.adPosition)||void 0===i?void 0:i.toLowerCase(),pct:o};switch(s.asc=this._adScheduleCode,s.asic=this._adScheduleItemCode,s.vastid=(null===(n=this._adProperties)||void 0===n||null===(a=n.adWrapperAdIds)||void 0===a?void 0:a.length)>0?this._adProperties.adWrapperAdIds.slice(-1).toString():"[unknown]",parseInt(t.quartile)){case 0:this._logExtensionEvent("xst",this._creativeId,"Creative",this._viewId,"View",s);break;case 4:this._logExtensionEvent("xfn",this._creativeId,"Creative",this._viewId,"View",s);break;default:this._logExtensionEvent("xpg",this._creativeId,"Creative",this._viewId,"View",s)}},l.prototype._getCommercialTimeOffset=function(){return this._commercialCurrentTime||(this._commercialCurrentTime=0),Math.round(1e3*parseFloat(this._commercialCurrentTime))},l.prototype._onCommercialTimeUpdate=function(e,t){t&&!isNaN(parseFloat(t.currentTime))&&t.currentTime>=0&&(this._commercialCurrentTime=t.currentTime)},l.prototype._onCommercialPaused=function(e){this._commercialPaused=!0,this._logExtensionEvent("xpa",this._creativeId,"Creative",this._viewId,"View",{to:this._getCommercialTimeOffset()})},l.prototype._onCommercialPlaying=function(e){this._commercialPaused&&(this._commercialPaused=!1,this._logExtensionEvent("xrs",this._creativeId,"Creative",this._viewId,"View",{to:this._getCommercialTimeOffset()}))},l.prototype._onViewStarted=function(e,t){this._determineReferrer();var i=this._playout?this._playout.name:"default";if(!this._playerSessionStartLogged){this._playerSessionStartLogged=!0;var n={xu:this._referrer,xr:this._realReferrer,pt:i};void 0!==this._playout&&null!=this._playout&&(n.aup="true"==this._playout.autoPlay||!0===this._playout.autoPlay?"1":"0",n.aum="true"==this._playout.autoMute||!0===this._playout.autoMute?"1":"0",n.aul="true"==this._playout.autoLoop||!0===this._playout.autoLoop?"1":"0"),this._logExtensionEvent("xst",this._playerSessionId,"Session",null,null,n)}null!=this._viewId&&this._onViewFinished(e),this._viewId=this._generateSessionId(),this._projectXSTLogged||null==this._projectId||(this._logExtensionEvent("xst",this._projectId,"Project",this._viewId,"View",null),this._projectXSTLogged=!0);var a={fs:this._fullScreen?"1":"0",xu:this._referrer,xr:this._realReferrer,pt:i};if(void 0!==(null==t?void 0:t.initiator)&&null!=(null==t?void 0:t.initiator)){var o,s=t.initiator.split("/");s.length>0&&(a.iet=s[0]),s.length>1&&(a.iid=s[1]),null!=this._prevViewId&&(a.pvid=this._prevViewId),null!=this._prevClipId&&(a.pcid=this._prevClipId),(null===(o=a.iet)||void 0===o?void 0:o.match(/^Channel/i))&&void 0!==a.iid&&(this._channelId=a.iid)}null!=this._asset&&(void 0!==this._asset["language-id"]&&(a.ali=this._asset["language-id"]),void 0!==this._asset["language-isocode"]&&(a.alc=this._asset["language-isocode"]),void 0!==this._asset.mediatype&&(a.amt=l._simplifyAmt(this._asset.mediatype))),null!=this._mediaClip&&void 0!==this._mediaClip.usetype&&(a.ut=this._mediaClip.usetype),this._logExtensionEvent("xst",this._viewId,"View",this._playerSessionId,"Session",a)},l.prototype._onViewFinished=function(e){null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._logExtensionEvent("xfn",this._viewId,"View",this._playerSessionId,"Session",{fs:this._fullScreen?"1":"0"}),this._prevViewId=this._viewId,this._viewId=null},l.prototype._onApiCalled=function(e,t){var i={};if("setMuted"===t.method)t.userAction?i.api=t.muted?"mute_ua":"unmute_ua":i.api=t.muted?"mute":"unmute";else i.api=t.method;(null!==this._viewId||this._playerSessionId)&&this._logExtensionEvent("xac",this._viewId,"View",this._playerSessionId,"Session",i),this._adSystemStarted&&null!==this._creativeId&&this._logExtensionEvent("xac",this._creativeId,"Creative",this._viewId,"View",i)},l.prototype._onDvidChanged=function(e,t){t&&t.dvid?this._dvid=t.dvid:this._dvid=null},l.prototype._onMovingThumbnailStarted=function(){this._mediaClip&&this._logExtensionEvent("xmt",this._playerSessionId,"Session",null,null,null)},l.prototype._generateSessionId=function(){for(var e="",t=void 0!==this._mediaClip&&null!=this._mediaClip?this._mediaClip.id:0,i=new Date,n=a.SHA1(this._uuid+"/"+t+"/"+i.getTime()),o=0;o<n.length/6&&!(o>=3);o++)for(var s=parseInt("0x"+n.substr(6*o,6),16),l=0;l<4;l++)e+=this._jk64(s%64),s/=64;return e},l.prototype._constructCreativeId=function(e,t,i){for(var n="",o=a.SHA1(e+"/"+t+"/"+i),s=0;s<o.length/6&&!(s>=3);s++)for(var l=parseInt("0x"+o.substr(6*s,6),16),r=0;r<4;r++)n+=this._jk64(l%64),l/=64;return n},l.prototype._jk64=function(e){return e<10?String.fromCharCode(e+48):e<36?String.fromCharCode(e+55):e<62?String.fromCharCode(e+61):e<64?String.fromCharCode(e-7):""},l.prototype._logMediaClipEvent=function(e,t){if(null!=this._mediaClip){var i={},n=new Date;if(i.vu=this._uuid,i.pm=this._playMode,i.sid=this._sessionId,i.prid=this._projectId||(this._mediaClip||{}).projectId||"",i.ts=n.getTime()+this._tsOffset++,i.pp=void 0!==this._playout&&null!=this._playout?this._playout.publication:"__root__",i.pt=void 0!==this._playout&&null!=this._playout?this._playout.name:"default",i.pv="6.x",i.ev=e,i.id=this._mediaClip.id,i.ct=this._mediaClip.title,i.pd=this._mediaClip.publisheddate,i.vs="n/a",i.rs=screen.width+"x"+screen.height,window.devicePixelRatio>1&&(i.rs+=" (x".concat(window.devicePixelRatio.toFixed(2),")")),i.fs=this._fullScreen?"1":"0",void 0!==this._mediaClip.mediatype&&(i.mt=this._mediaClip.mediatype),void 0!==this._mediaClip.mediatype_override&&(i.mt=this._mediaClip.mediatype_override),(void 0===this._mediaClip.length||isNaN(parseFloat(this._mediaClip.length))||parseFloat(this._mediaClip.length)<=0)&&"live"!==this._mediaClip.sourcetype&&(this._mediaClip.length=this._duration),void 0!==this._mediaClip.length&&(i.du=Math.round(1e3*this._mediaClip.length)),void 0!==this._mediaClip.sourcetype&&(i.sot=this._mediaClip.sourcetype),this._dvid&&(i.dvid=this._dvid),this._context&&i.prid&&(i.ctx=this._context),void 0!==this._channelId&&null!=this._channelId&&(i.chid=this._channelId),"MediaClipList"===this._contextEntityType&&this._contextEntityId&&(i.clid=this._contextEntityId),void 0!==t&&null!=t)for(var a in t)void 0===i[a]&&(i[a]=t[a]);"ss"===e?this._logSsEventDebounced(i):"se"===e?this._logSeEventDebounced(i):"rs"===e?this._logRsEventDebounced(i):this._logEvent(i)}},l.prototype._logExtensionEvent=function(e,t,i,n,a,o){var s={},l=new Date,r="Creative"===i||"AdUnit"===i||"LineItem"===i||"AdSchedule"===i||"AdScheduleItem"===i;if(s.pm=r?this._commercialPlayMode:this._playMode,s.sid=this._sessionId,s.prid=this._projectId||(this._mediaClip||{}).projectId||"",s.ts=l.getTime()+this._tsOffset++,s.pp=void 0!==this._playout&&null!=this._playout?this._playout.publication:"__root__",s.ev=e,s.id=t,s.et=i,s.cid=null!=this._mediaClip?this._mediaClip.id:"",void 0!==n&&null!=n&&(s.pid=n),void 0!==a&&null!=a&&(s.pet=a),void 0!==this._adBlockDetected&&(s.abd=this._adBlockDetected),this._context&&s.prid&&(s.ctx=this._context),void 0!==this._channelId&&null!=this._channelId&&(s.chid=this._channelId),"MediaClipList"===this._contextEntityType&&this._contextEntityId&&(s.clid=this._contextEntityId),void 0!==o&&null!=o)for(var d in o)void 0===s[d]&&(s[d]=o[d]);(r||"xst"===e&&"View"===i)&&this._topMostHostname&&(s.hn=this._topMostHostname),this._logEvent(s)},l.prototype._logErrorEvent=function(e,t){var i=!1;null==this._mediaClip&&(this._mediaClip={id:0,title:"<unknown>",date:{published:"<unknown>"},projectId:0},i=!0),this._logMediaClipEvent(e,t),i&&(this._mediaClip=null)},l.prototype._logEvent=function(e){this._outstreamMode&&"pg"===(null==e?void 0:e.ev)||(e.sn=e.sn||++this._serialNumber,this._enabled?this._logEventBundling&&this._logEventQueueProcessingLock?this._logEventQueue.push(e):this._logEvent_enabled(e):this._enabledQueue.push({properties:e}))},l.prototype._constructLogLineQuerystring=function(e){var t="";for(var i in e){0==t.length?t+="?":t+="&";var n=e[i];null==n&&(n=""),Array.isArray(n)&&(n=JSON.stringify(n)),t+=i+"="+encodeURIComponent(n)}return t=(t=(t=(t=(t=t.replace(/-/g,"%2d")).replace("~~00~~","%7E%7E00%7E%7E").replace(/ad/g,"~~00~~")).replace("~~01~~","%7E%7E01%7E%7E").replace(/aD/g,"~~01~~")).replace("~~02~~","%7E%7E02%7E%7E").replace(/Ad/g,"~~02~~")).replace("~~03~~","%7E%7E03%7E%7E").replace(/AD/g,"~~03~~")},l.prototype._addLogEventToQueue=function(e){var t=this._constructLogLineQuerystring(e);if(e.logQs=t,0===this._logEventQueue.length){var i=this;this._logEventQueue.push(e),null!==this._logEventQueueProcessingTimeout&&(clearTimeout(this._logEventQueueProcessingTimeout),this._logEventQueueProcessingTimeout=null),this._logEventQueueProcessingTimeout=setTimeout((function(){i._processEventQueue()}),50)}else this._logEventQueue.push(e)},l.prototype._processEventQueue=function(){for(null!==this._logEventQueueProcessingTimeout&&(clearTimeout(this._logEventQueueProcessingTimeout),this._logEventQueueProcessingTimeout=null),this._logEventQueueProcessingLock=!0;this._logEventQueue.length;){var );if(this._logEventQueue.length){var t=this._logEventQueue[0],i={};for(var n in e)if("logQs"!==n){var a=Array.isArray(e[n])?e[n]:[e[n]];if(void 0!==t[n]){var o=a.slice().reverse().find((function(e){return"<-"!==e}));t[n]===o?i[n]="<-"===o?a.concat("\\<\\-"):a.concat("<-"):i[n]=a.concat(t[n])}else i[n]=a.concat(null)}for(var s in t)if(void 0===e[s]){var l=Array.isArray(t[s])?t[s]:[t[s]],r=Array.isArray(e.pp)?e.pp.length:1;i[s]=new Array(r).fill(null).concat(l)}if(i.logQs=this._constructLogLineQuerystring(i),(this._loggerUrl+i.logQs).length>1750){this._logEvent_enabled(e);continue}this._logEventQueue[0]=i}else this._logEvent_enabled(e)}this._logEventQueueProcessingLock=!1},l.prototype._logEvent_enabled=function(e){var t,i;if("function"!=typeof(null===(t=window.bbCustomStatistics)||void 0===t?void 0:t.send)||e.logQs||null===(i=window.bbCustomStatistics)||void 0===i||i.send(this._playerSessionId,e.ev,Object.assign({},e)),!this._logEventBundling||this._logEventQueueProcessingLock){var a=e.logQs||this._constructLogLineQuerystring(e),o=this._loggerUrl,s=new Image(1,1),l=0;s.onerror=function(t){n.default("[BlueBillywigS)}})),parcelRequire.register("eeIYx",(function(e,t){function i(e,t,i){var n;return function(){var a=this,o=arguments,s=function(){n=null,i||e.apply(a,o)},l=i&&!n;clearTimeout(n),n=setTimeout(s,t),l&&e.apply(a,o)}}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("lGhIk",(function(e,t){
/*!
Math.uuid.js (v1.4)
http://wwwn(e,t){var n,a,o=i,s=[];if(t=t||o.length,e)for(n=0;n<e;n++)s[n]=o[0|Math.random()*t];else for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",n=0;n<36;n++)s[n]||(a=0|16*Math.random(),s[n]=o[19==n?3&a|8:a]);return s.join("")},Math.uuidFast=function(){>>=4,n[o]=t[19==o?3&e|8:e]);return n.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}})),parcelRequire.register("f0hLv",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var i=parcelRequire("cWdJP");parcelRequire("2UpbQ");var n=parcelRequire("eV1xY"),a=parcelRequire("1MxPP"),o=parcelRequire("4AQp6"),s=parcelRequire("5SYG3"),l=function(e,t){var a,o;(this._opts=void 0!==t?t:null,this._sdkURL="https://www.googletagmanager.com/gtag/js?id=TAG_ID",this._sdkLoaded=!1,this._mediaClip=null,this._referrer=null,this._realReferrer=null,this._startedClipId=null,this._playerSessionId=null,this._playerSessionStartLogged=!1,this._viewId=null,this._projectId=null,this._projectTitle=null,this._projectXSTLogged=!1,this._timer=null,this._quartile=-1,this._deciles={},this._duration=0,this._queue=[],this._enabled=!1,this._enabledQueue=[],this._gaId=null,this._gtag=null,this._detections=i.default.getService(null===(a=this._opts)||void 0===a?void 0:a.playerAliasOrId).getInstance("Detections"),this._playerSessionId=this._generateSessionId(),this._determineReferrer(),null!=this._opts&&void 0!==this._opts.playoutData)&&(this._playout=this._opts.playoutData,null!=this._playout&&void 0!==this._playout.googleAnalyticsId&&""!=this._playout.googleAnalyticsId&&(this._gaId=$parcel$interopDefault(n).trim(this._playout.googleAnalyticsId)),null==this._playout||"true"!=this._playout.disableCookies&&"tracking"!=this._playout.disableCookies||this._gaId&&(window["ga-disable-"+this._gaId]=!0),this._logProgressAsQuartiles=!("true"!==(null===(o=this._playout)||void 0===o?void 0:o.logProgressAsQuartiles)));this._onEventBound=this._onEvent.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,null!=this._gaId&&(this.$element.on("bb_playout_changed",this._onEventBound),this.$element.on("bb_project_loaded",this._onEventBound),this.$element.on("bb_mediaclip_loaded",this._onEventBound),this.$element.on("bb_media_duration_change",this._onEventBound),this.$element.on("bb_media_started",this._onEventBound),this.$element.on("bb_media_finished",this._onEventBound),this.$element.on("bb_media_paused",this._onEventBound),this.$element.on("bb_media_resumed",this._onEventBound),this.$element.on("bb_media_seeked",this._onEventBound),this.$element.on("bb_view_started",this._onEventBound),this.$element.on("bb_view_finished",this._onEventBound),this.$element.on("bb_widget_custom_analytics",this._onEventBound),"undefined"!=typeof ga&&(this._sdkLoaded=!0),this._loadSDK(this._loadSDK_callback.bind(this))))};l.prototype.exit=function(){null!=this.$element&&(this.$element.off("bb_playout_changed",this._onEventBound),this.$element.off("bb_project_loaded",this._onEventBound),this.$element.off("bb_mediaclip_loaded",this._onEventBound),this.$element.off("bb_media_duration_change",this._onEventBound),this.$element.off("bb_media_started",this._onEventBound),this.$element.off("bb_media_finished",this._onEventBound),this.$element.off("bb_media_paused",this._onEventBound),this.$element.off("bb_media_resumed",this._onEventBound),this.$element.off("bb_media_seeked",this._onEventBound),this.$element.off("bb_view_started",this._onEventBound),this.$element.off("bb_view_finished",this._onEventBound),this.$element.off("bb_widget_custom_analytics",this._onEventBound))},l.prototype.enable=function(){for(this._enabled=!0;this._enabledQueue.length>0;){var e=this._enabledQueue.shift();this._logMediaClipEvent_enabled(e.ev,e.aux)}},l.prototype.disable=function(){this._enabled=!1},l.prototype.handleAutoPause=function(){for(var e=0;e<this._enabledQueue.length;){var t=this._enabledQueue[e]||{};t.aux&&"Session"===t.aux.et||"it"===t.ev?(this._enabledQueue.splice(e,1),this._logMediaClipEvent_enabled(t.ev,t.aux)):e++}},l.prototype._onEvent=function(e,t){if(this._ready)switch(e.type){case"bb_playout_changed":this._onPlayoutChanged(e,t);break;case"bb_project_loaded":this._onProjectDataLoaded(e,t);break;case"bb_mediaclip_loaded":this._onClipDataLoaded(e,t);break;case"bb_media_duration_change":this._onDurationChange(e,t);break;case"bb_media_started":this._onMediaStarted(e,t);break;case"bb_media_finished":this._onMediaFinished(e,t);break;case"bb_media_paused":this._onMediaPaused(e,t);break;case"bb_media_resumed":this._onMediaResumed(e,t);break;case"bb_media_seeked":this._onMediaSeeked(e,t);break;case"bb_view_started":this._onViewStarted(e,t);break;case"bb_view_finished":this._onViewFinished(e,t);break;case"bb_widget_custom_analytics":this._onWidgetCustomAnalytics(e,t)}else this._queue.push({ev:e,payload:t})},l.prototype._loadSDK=function(e){if(this._sdkLoaded)"function"==typeof e&&e(!0);else{var t=this,i=this._sdkURL.replace("TAG_ID",encodeURIComponent(this._gaId));o.fetchScript(i,{async:!0}).then((function(n){a.default("[GAStatisticsLogger] loaded sdk ("+i+")"),t._sdkLoaded=!0,"function"==typeof e&&e(!0)})).catc] failed to load sdk ("+i+")"),"function"==typeof e&&e(!1)}))}return!0},l.prototype._loadSDK_callback=function(e){if(e){window.dataLayer=window.dataLayer||[],this._gtag=function(){window.dataLayer.push(arguments)},this._gtag("js",new Date);for(this._gtag("config",this._gaId,{vendor:"bluebillywig",cookie_flags:"SameSite=None; Secure",anonymize_ip:!0}),this._ready=!0;this._queue.length>0;){var t=this._queue.shift();this._onEvent(t.ev,t.payload)}}else this.$element.trigger("bb_warning",[{msg:"Google Analytics SDK failed to load"}])},l.prototype._generateSessionId=function(){for(var e="",t=void 0!==this._mediaClip&&null!=this._mediaClip?this._mediaClip.id:0,i=new Date,n=s.SHA1(this._uuid+"/"+t+"/"+i.getTime()),a=0;a<n.length/6&&!(a>=3);a++)for(var o=parseInt("0x"+n.substr(6*a,6),16),l=0;l<4;l++)e+=this._jk64(o%64),o/=64;return e},l.prototype._jk64=function(e){return e<10?String.fromCharCode(e+48):e<36?String.fromCharCode(e+55):e<62?String.fromCharCode(e+61):e<64?String.fromCharCode(e-7):""},l.prototype._getSessionAux=function(){this._determineReferrer();var e=this._playout?this._playout.name:"default",t={xu:this._referrer,xr:this._realReferrer,pt:e};return this._playout&&(t.aup="true"==this._playout.autoPlay||!0===this._playout.autoPlay?"1":"0",t.aum="true"==this._playout.autoMute||!0===this._playout.autoMute?"1":"0",t.aul="true"==this._playout.autoLoop||!0===this._playout.autoLoop?"1":"0"),t},l.prototype._onPlayoutChanged=function(e,t){t&&t.playoutData&&void 0!==t.playoutData.logProgressAsQuartiles&&(this._logProgressAsQuartiles=!("true"!==t.playoutData.logProgressAsQuartiles))},l.prototype._onProjectDataLoaded=function(e,t){if(this._projectId=null,this._projectTitle=null,this._projectXSTLogged=!1,this._sessionId=this._generateSessionId(),this._serialNumber=0,null==this._mediaClip||this._mediaClip_initial||(this._prevClipId=this._mediaClip.id),t&&t.projectData){this._projectId=t.projectData.id,this._projectTitle=t.projectData.title,this._mediaClip={id:"",title:"<unknown>",date:{published:"<unknown>"},projectId:this._projectId},this._mediaClip_initial=!1,this._quartile=-1,this._deciles={},this._duration=0;var i=this._getSessionAux();this._playerSessionStartLogged||(this._playerSessionStartLogged=!0,this._logExtensionEvent("xst",this._playerSessionId,"Session",null,null,i)),i.entityTitle=this._projectTitle,this._logExtensionEvent("xit",this._projectId,"Project",this._playerSessionId,"Session",i)}},l.prototype._onClipDataLoaded=function(e,t){if(this._mediaClip=null,this._quartile=-1,this._deciles={},this._duration=0,t&&void 0!==t.clipData){if(this._mediaClip=t.clipData,null!=this._mediaClip){this._projectId&&(this._mediaClip.projectId=this._projectId),this._legacyEventLabel=this._mediaClip.id+" - "+this._mediaClip.title;var i={custom_map:{dimension1:"clip id",dimension2:"clip title",dimension3:"clip duration",dimension4:"clip source type",dimension5:"clip creation date"}};if(this._customParams={"clip id":this._mediaClip.id,"clip title":this._mediaClip.title,"clip duration":1e3*this._mediaClip.length,"clip source type":this._mediaClip.sourcetype,"clip creation date":this._mediaClip.createddate},void 0===this._playout.googleAnalytics_customVars&&(this._playout.googleAnalytics_customVars="contenttype"),this._playout.googleAnalytics_customVars)for(var n="object"!=typeof this._playout.googleAnalytics_customVars?this._playout.googleAnalytics_customVars.split(","):this._playout.googleAnalytics_customVars,a=0;a<n.length&&a<15;a++)void 0!==this._mediaClip[n[a]]&&(i.custom_map["dimension"+(a+6)]=n[a],this._customParams[n[a]]=this._mediaClip[n[a]]);i.send_page_view=!1,this._gtag("config",this._gaId,i),this._duration=this._mediaClip.length>0?parseFloat(this._mediaClip.length):0}if(!this._playerSessionStartLogged){this._playerSessionStartLogged=!0;var o=this._getSessionAux();this._logExtensionEvent("xst",this._playerSessionId,"Session",null,null,o)}this._logMediaClipEvent("it",{to:0})}},l.prototype._onDurationChange=function(e,t){void 0!==t&&void 0!==t.duration&&(this._duration=parseFloat(t.duration))},l.prototype._onViewStarted=function(e,t){this._determineReferrer();var i=this._playout?this._playout.name:"default";if(!this._playerSessionStartLogged){this._playerSessionStartLogged=!0;var n=this._getSessionAux();this._logExtensionEvent("xst",this._playerSessionId,"Session",null,null,n)}null!=this._viewId&&this._onViewFinished(e),this._viewId=this._generateSessionId(),this._projectXSTLogged||null==this._projectId||(this._logExtensionEvent("xst",this._projectId,"Project",this._viewId,"View",{entityTitle:this._projectTitle}),this._projectXSTLogged=!0);var a={fs:this._fullScreen?"1":"0",xu:this._referrer,xr:this._realReferrer,pt:i};if(void 0!==t.initiator&&null!=t.initiator){var o=t.initiator.split("/");o.length>0&&(a.iet=o[0]),o.length>1&&(a.iid=o[1]),null!=this._prevViewId&&(a.pvid=this._prevViewId),null!=this._prevClipId&&(a.pcid=this._prevClipId)}null!=this._asset&&(void 0!==this._asset["language-id"]&&(a.ali=this._asset["language-id"]),void 0!==this._asset["language-isocode"]&&(a.alc=this._asset["language-isocode"])),null!=this._mediaClip&&void 0!==this._mediaClip.usetype&&(a.ut=this._mediaClip.usetype)},l.prototype._onViewFinished=function(e){null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._prevViewId=this._viewId,this._viewId=null},l.prototype._onMediaStarted=function(e){if(this._mediaClip&&this._mediaClip.id===this._startedClipId&&this._logMediaClipEvent("rp",{to:0}),this._mediaClip&&(this._startedClipId=this._mediaClip.id),this._deciles={},this._logMediaClipEvent("st",{to:0}),null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._duration>0){var t=this;this._timer=setInterval((function(){t._handleTimerTick()}),50*this._duration)}this._projectXSTLogged||null==this._projectId||(this._logExtensionEvent("xst",this._projectId,"Project",this._viewId,"View",{entityTitle:this._projectTitle}),this._projectXSTLogged=!0)},l.prototype._onMediaFinished=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));if(this._logMediaClipEvent("fn",{to:t}),this._logProgressAsQuartiles)for(;this._quartile<4;){this._quartile++;var i=25*this._quartile;this._logMediaClipEvent("pg",{pct:i})}null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._handleTimerTick()},l.prototype._onMediaPaused=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("pa",{to:t}),null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._handleTimerTick()},l.prototype._onMediaResumed=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));if(this._logMediaClipEvent("rs",{to:t}),null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._duration>0){var i=this;this._timer=setInterval((function(){i._handleTimerTick()}),50*this._duration)}},l.prototype._onMediaSeeked=function(e,t){var i=Math.round(1e3*(t?parseFloat(t.seekedPosition):this.$element.attr("data-currentTime")));this._logMediaClipEvent("se",{to:i})},l.prototype._onWidgetCustomAnalytics=function(e,t){t&&void 0!==t.entityId&&void 0!==t.timelineId&&this._logExtensionEvent("xsl",t.entityId,"Widget",t.timelineId,"Timeline",{cs:t.data})},l.prototype._handleTimerTick=function(){var e=this.$element.attr("data-currentTime");if(e>0&&this._duration>0)if(e=Math.min(e,this._duration),this._logProgressAsQuartiles)for(var t=Math.floor(4*e/this._duration);this._quartile<t;){this._quartile++;var i=25*this._quartile;this._logMediaClipEvent("pg",{pct:i})}else{for(var n=Math.floor(10*e/this._duration),a=1;a<n;a++)this._deciles["#"+a]||(this._deciles["#"+a]=!0,this._logMediaClipEvent("pg",{pct:10*a}));this._deciles["#"+n]||(this._deciles["#"+n]=!0,this._logMediaClipEvent("pg",{pct:10*n}))}},l.prototype._determineReferrer=function(){var e,t;this._referrer=(null===(e=this._detections)||void 0===e?void 0:e.location)||window.location.href,this._realReferrer=(null===(t=this._detections)||void 0===t?void 0:t.referrer)||document.referrer},l.prototype._logExtensionEvent=function(e,t,i,n,a,o){void 0===(o=o||{}).id&&(o.id=t),void 0===o.et&&(o.et=i),void 0===o.pid&&(o.pid=n),void 0===o.pet&&(o.pet=a),this._logMediaClipEvent(e,o)},l.prototype._logMediaClipEvent=function(e,t){this._enabled?this._logMediaClipEvent_enabled(e,t):this._enabledQueue.push({ev:e,aux:t})},l.prototype._logMediaClipEvent_enabled=function(e,t){var i=this._mediaClip&&"audio"==this._mediaClip.mediatype?"Audio":"Video",n=null,a=this._legacyEventLabel||"",o=void 0;switch(e){case"it":n="Init",o={nonInteraction:!0};break;case"st":n="Play";break;case"fn":n="Finish";break;case"pa":case"rs":case"se":break;case"rp":n="Replay";break;case"pg":t.pct&&(n="Progress_"+Math.floor(t.pct));break;case"xsl":n="Custom",t&&t.cs&&(a=t.cs);break;case"xit":n="_Init",t&&t.et&&(n=t.et+n,a=t.id+" - "+(t.entityTitle||""));break;case"xst":n="_Start",t&&t.et&&(n=t.et+n,a=t.id+" - "+(t.entityTitle||""));break;case"xfn":n="_Finish",t&&t.et&&(n=t.et+n,a=t.id+" - "+(t.entityTitle||""))}if(null!=n){var s=Object.assign({},this._customParams);s.event_category=i,s.event_label=a,s.value=o;try{this._gtag("event",n,s)}catch(e){this.$element.trigger("bb_warning",[{msg:"Google Analytics SDK exception"}])}}}})),parcelRequire.register("7Pzqq",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=function(e,t){var n;(this._opts=void 0!==t?t:null,this._mediaClip=null,this._startedClipId=null,this._timer=null,this._quartile=-1,this._deciles={},this._duration=0,this._queue=[],this._enabled=!1,this._enabledQueue=[],this._gtmId=null,this._gtm=null,this._opts&&this._opts.playoutData)&&(this._playout=this._opts.playoutData,this._playout&&void 0!==this._playout.googleTagManagerId&&""!=this._playout.googleTagManagerId&&(this._gtmId=$parcel$interopDefault(i).trim(this._playout.googleTagManagerId)),!this._playout||"true"!==this._playout.disableCookies&&"tracking"!==this._playout.disableCookies||this._gtmId&&(window["gtm-disable-"+this._gtmId]=!0),this._logProgressAsQuartiles=!("true"!==(null===(n=this._playout)||void 0===n?void 0:n.logProgressAsQuartiles)));if(this._onEventBound=this._onEvent.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,null!=this._gtmId))for(this.$element.on("bb_playout_changed",this._onEventBound),this.$element.on("bb_mediaclip_loaded",this._onEventBound),this.$element.on("bb_media_duration_change",this._onEventBound),this.$element.on("bb_media_started",this._onEventBound),this.$element.on("bb_media_finished",this._onEventBound),this.$element.on("bb_media_paused",this._onEventBound),this.$element.on("bb_media_resumed",this._onEventBound),this.$element.on("bb_media_seeked",this._onEventBound),void 0===window.dataLayer&&(window.dataLayer=[]),this._gtm=window.dataLayer,this._gtm.push({vendor:"bluebillywig",gtmId:this._gtmId,anonymizeIp:!0}),this._ready=!0;this._queue.length>0;){var a=this._queue.shift();this._onEvent(a.ev,a.payload)}};n.prototype.exit=function(){null!=this.$element&&(this.$element.off("bb_playout_changed",this._onEventBound),this.$element.off("bb_mediaclip_loaded",this._onEventBound),this.$element.off("bb_media_duration_change",this._onEventBound),this.$element.off("bb_media_started",this._onEventBound),this.$element.off("bb_media_finished",this._onEventBound),this.$element.off("bb_media_paused",this._onEventBound),this.$element.off("bb_media_resumed",this._onEventBound),this.$element.off("bb_media_seeked",this._onEventBound))},n.prototype.enable=function(){for(this._enabled=!0;this._enabledQueue.length>0;){var e=this._enabledQueue.shift();this._logMediaClipEvent_enabled(e.ev,e.aux)}},n.prototype.disable=function(){this._enabled=!1},n.prototype.handleAutoPause=function(){for(var e=0;e<this._enabledQueue.length;){var t=this._enabledQueue[e].properties;"it"===t.ev?(this._enabledQueue.splice(e,1),this._logMediaClipEvent_enabled(t.ev,t.aux)):e++}},n.prototype._onEvent=function(e,t){if(this._ready)switch(e.type){case"bb_playout_changed":this._onPlayoutChanged(e,t);break;case"bb_mediaclip_loaded":this._onClipDataLoaded(e,t);break;case"bb_media_duration_change":this._onDurationChange(e,t);break;case"bb_media_started":this._onMediaStarted(e,t);break;case"bb_media_finished":this._onMediaFinished(e,t);break;case"bb_media_paused":this._onMediaPaused(e,t);break;case"bb_media_resumed":this._onMediaResumed(e,t);break;case"bb_media_seeked":this._onMediaSeeked(e,t)}else this._queue.push({ev:e,payload:t})},n.prototype._onPlayoutChanged=function(e,t){t&&t.playoutData&&void 0!==t.playoutData.logProgressAsQuartiles&&(this._logProgressAsQuartiles=!("true"!==t.playoutData.logProgressAsQuartiles))},n.prototype._onClipDataLoaded=function(e,t){if(this._mediaClip=null,this._quartile=-1,this._deciles={},this._duration=0,void 0!==t&&void 0!==t.clipData){if(this._mediaClip=t.clipData,this._mediaClip){var i="audio"==this._mediaClip.mediatype?"Audio":"Video",n=this._mediaClip.id+" - "+this._mediaClip.title;this._eventTemplate={event:"bluebillywig-None","bluebillywig-category":i,"bluebillywig-label":n},this._duration=this._mediaClip.length>0?parseFloat(this._mediaClip.length):0,this._eventTemplate["bluebillywig-duration"]=1e3*this._duration}this._logMediaClipEvent("it",{to:0})}},n.prototype._onDurationChange=function(e,t){void 0!==t&&void 0!==t.duration&&(this._duration=parseFloat(t.duration),this._eventTemplate["bluebillywig-duration"]=1e3*this._duration)},n.prototype._onMediaStarted=function(e){if(this._mediaClip&&this._mediaClip.id===this._startedClipId&&this._logMediaClipEvent("rp",{to:0}),this._mediaClip&&(this._startedClipId=this._mediaClip.id),this._deciles={},this._logMediaClipEvent("st",{to:0}),null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._duration>0){var t=this;this._timer=setInterval((function(){t._handleTimerTick()}),50*this._duration)}},n.prototype._onMediaFinished=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));if(this._logMediaClipEvent("fn",{to:t}),this._logProgressAsQuartiles)for(;this._quartile<4;){this._quartile++;var i=25*this._quartile;this._logMediaClipEvent("pg",{pct:i})}null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._handleTimerTick()},n.prototype._onMediaPaused=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("pa",{to:t}),null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._handleTimerTick()},n.prototype._onMediaResumed=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));if(this._logMediaClipEvent("rs",{to:t}),null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._duration>0){var i=this;this._timer=setInterval((function(){i._handleTimerTick()}),50*this._duration)}},n.prototype._onMediaSeeked=function(e,t){var i=Math.round(1e3*(t?parseFloat(t.seekedPosition):this.$element.attr("data-currentTime")));this._logMediaClipEvent("se",{to:i})},n.prototype._handleTimerTick=function(){var e=this.$element.attr("data-currentTime");if(e>0&&this._duration>0)if(e=Math.min(e,this._duration),this._logProgressAsQuartiles)for(var t=Math.floor(4*e/this._duration);this._quartile<t;){this._quartile++;var i=25*this._quartile;this._logMediaClipEvent("pg",{pct:i})}else{for(var n=Math.floor(10*e/this._duration),a=1;a<n;a++)this._deciles["#"+a]||(this._deciles["#"+a]=!0,this._logMediaClipEvent("pg",{pct:10*a}));this._deciles["#"+n]||(this._deciles["#"+n]=!0,this._logMediaClipEvent("pg",{pct:10*n}))}},n.prototype._logMediaClipEvent=function(e,t){this._enabled?this._logMediaClipEvent_enabled(e,t):this._enabledQueue.push({ev:e,aux:t})},n.prototype._logMediaClipEvent_enabled=function(e,t){var n=null,a=$parcel$interopDefault(i).extend({},this._eventTemplate);switch(e){case"it":n="Init",a["bluebillywig-nonInteraction"]=!0;break;case"st":n="Play";break;case"fn":n="Finish";break;case"pa":case"rs":case"se":break;case"rp":n="Replay";break;case"pg":t.pct&&(n="Progress_"+Math.floor(t.pct))}if(null!=n){a.event="bluebillywig-"+n;try{this._gtm.push(a)}catch(e){this.$element.trigger("bb_warning",[{msg:"Google Tag Manager exception"}])}}}})),parcelRequire.register("kfOKt",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("4AQp6"),n=function(e,t){if(this._opts=void 0!==t?t:null,this._loggerUrl=null,this._ss=null,this._enabled=!1,this._enabledQueue=[],this._sessionId=null,null!=this._opts&&void 0!==this._opts.playoutData&&(this._playout=this._opts.playoutData,null!=this._playout&&void 0!==this._playout.nedStatLoggerUrl&&""!=this._playout.nedStatLoggerUrl&&(this._loggerUrl=this._playout.nedStatLoggerUrl)),this._onClipDataLoadedBound=this._onClipDataLoaded.bind(this),this._onMediaEventBound=this._onMediaEvent.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,null!=this._loggerUrl)){try{this._ss=new window.ns_.StreamSense({},this._loggerUrl),null!=this._playout&&(this._ss.setLabel("ns_st_st",this._playout.publication),this._ss.setLabel("ns_st_mp","bluebillywig"))}catch(e){}this.$element.on("bb_mediaclip_loaded",this._onClipDataLoadedBound),this.$element.on("bb_media_duration_change bb_media_started bb_media_finished bb_media_paused bb_media_resumed bb_media_seeked",this._onMediaEventBound)}};n.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_mediaclip_loaded",this._onClipDataLoadedBound),this.$element.off("bb_media_duration_change bb_media_started bb_media_finished bb_media_paused bb_media_resumed bb_media_seeked",this._onMediaEventBound)),null},n.prototype.enable=function(){for(this._enabled=!0;this._enabledQueue.length>0;){var e=this._enabledQueue.shift();this._logMediaClipEvent_enabled(e.ev,e.aux)}},n.prototype.disable=function(){this._enabled=!1},n.prototype.handleAutoPause=function(){for(var e=0;e<this._enabledQueue.length;){var t=this._enabledQueue[e].properties;"it"===t.ev?(this._enabledQueue.splice(e,1),this._logMediaClipEvent_enabled(t.ev,t.aux)):e++}},n.prototype._onClipDataLoaded=function(e,t){if(this._sessionId=this._generateSessionId(),void 0!==t&&void 0!==t.clipData){if(this._mediaClip=t.clipData,null!=this._mediaClip){try{this._ss.getPlaylist().setLabel("ns_st_pl",this._mediaClip.title)}catch(e){}var i={ns_st_cn:1,ns_st_ci:this._mediaClip.id,ns_st_cl:1e3*this._mediaClip.length,ns_st_pn:1,ns_st_tp:1};i.ns_st_pr=this._mediaClip.title,i.ns_st_ep=this._mediaClip.title,i.ns_st_ty="live"==this._mediaClip.sourcetype?"live":"vod",i.ns_st_dt=this._mediaClip.createddate,i.ns_st_cu=this._mediaClip.src;try{this._ss.setClip(i)}catch(e){}}this._logMediaClipEvent("it",{to:0})}},n.prototype._onMediaEvent=function(e,t){switch(null==e?void 0:e.type){case"bb_media_duration_change":this._onDurationChange(e,t);break;case"bb_media_started":this._onMediaStarted(e,t);break;case"bb_media_finished":this._onMediaFinished(e,t);break;case"bb_media_paused":this._onMediaPaused(e,t);break;case"bb_media_resumed":this._onMediaResumed(e,t);break;case"bb_media_seeked":this._onMediaSeeked(e,t)}},n.prototype._onDurationChange=function(e,t){if(void 0!==t&&void 0!==t.duration)try{this._ss.getClip().setLabel("ns_st_cl",1e3*parseFloat(t.duration))}catch(e){}},n.prototype._onMediaStarted=function(e){this._logMediaClipEvent("st",{to:0})},n.prototype._onMediaFinished=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("fn",{to:t})},n.prototype._onMediaPaused=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("pa",{to:t})},n.prototype._onMediaResumed=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("rs",{to:t})},n.prototype._onMediaSeeked=function(e,t){var i=Math.round(1e3*(t?parseFloat(t.seekedPosition):this.$element.attr("data-currentTime")));this._logMediaClipEvent("se",{to:i})},n.prototype._generateSessionId=function(){for(var e="",t=void 0!==this._mediaClip&&null!=this._mediaClip?this._mediaClip.id:0,n=new Date,a=i.SHA1(this._uuid+"/"+t+"/"+n.getTime()),o=0;o<a.length/6&&!(o>=3);o++)for(var s=parseInt("0x"+a.substr(6*o,6),16),l=0;l<4;l++)e+=this._jk64(s%64),s/=64;return e},n.prototype._jk64=function(e){return e<10?String.fromCharCode(e+48):e<36?String.fromCharCode(e+55):e<62?String.fromCharCode(e+61):e<64?String.fromCharCode(e-7):""},n.prototype._logMediaClipEvent=function(e,t){this._enabled?this._logMediaClipEvent_enabled(e,t):this._enabledQueue.push({ev:e,aux:t})},n.prototype._logMediaClipEvent_enabled=function(e,t){var i=null;switch(e){case"st":i=window.ns_.StreamSense.PlayerEvents.PLAY;break;case"fn":i=window.ns_.StreamSense.PlayerEvents.END;break;case"pa":i=window.ns_.StreamSense.PlayerEvents.PAUSE;break;case"rs":i=window.ns_.StreamSense.PlayerEvents.PLAY}if(null!=i)try{this._ss.notify(i,{},t.to)}catch(e){}}})),parcelRequire.register("3y9f7",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("1MxPP"),n=parcelRequire("4AQp6"),a=function(e,t){this._opts=void 0!==t?t:null,this._sdkURL="//cdnjs.cloudflare.com/ajax/libs/piwik/2.8.0/piwik.js",this._sdkLoaded=!1,this._mediaClip=null,this._queue=[],this._enabled=!1,this._enabledQueue=[],this._pw=null,this._pwUrl=null,this._pwSiteId="",this._disableCookies="false",this._contentName="Blue Billywig Player",this._contentPiece="unknown",this._contentTarget=null,this._uuid=n.getCookie("uuid"),null!=this._opts&&void 0!==this._opts.playoutData&&(this._playout=this._opts.playoutData,null!=this._playout&&void 0!==this._playout.piwikUrl&&""!=this._playout.piwikUrl&&(this._pwUrl=this._playout.piwikUrl.replace(/^[htps:]*\/\//i,"https://"),this._pwSiteId=this._playout.piwikSiteId,this._disableCookies=this._playout.disableCookies)),this._onEventBound=this._onEvent.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,null!=this._pwUrl&&(this.$element.on("bb_mediaclip_loaded",this._onEventBound),this.$element.on("bb_media_duration_change",this._onEventBound),this.$element.on("bb_media_started",this._onEventBound),this.$element.on("bb_media_finished",this._onEventBound),this.$element.on("bb_media_paused",this._onEventBound),this.$element.on("bb_media_resumed",this._onEventBound),this.$element.on("bb_media_seeked",this._onEventBound),"undefined"!=typeof Piwik&&(this._sdkLoaded=!0),this._sdkURL=this._pwUrl+"/ppms.js",this._loadSDK(this._loadSDK_callback.bind(this))))};a.prototype.exit=function(){null!=this.$element&&(this.$element.off("bb_mediaclip_loaded",this._onEventBound),this.$element.off("bb_media_duration_change",this._onEventBound),this.$element.off("bb_media_started",this._onEventBound),this.$element.off("bb_media_finished",this._onEventBound),this.$element.off("bb_media_paused",this._onEventBound),this.$element.off("bb_media_resumed",this._onEventBound),this.$element.off("bb_media_seeked",this._onEventBound))},a.prototype.enable=function(){for(this._enabled=!0;this._enabledQueue.length>0;){var e=this._enabledQueue.shift();this._logMediaClipEvent_enabled(e.ev,e.aux)}},a.prototype.disable=function(){this._enabled=!1},a.prototype.handleAutoPause=function(){for(var e=0;e<this._enabledQueue.length;){var t=this._enabledQueue[e].properties;"it"===t.ev?(this._enabledQueue.splice(e,1),this._logMediaClipEvent_enabled(t.ev,t.aux)):e++}},a.prototype._onEvent=function(e,t){if(this._ready)switch(e.type){case"bb_mediaclip_loaded":this._onClipDataLoaded(e,t);break;case"bb_media_duration_change":this._onDurationChange(e,t);break;case"bb_media_started":this._onMediaStarted(e,t);break;case"bb_media_finished":this._onMediaFinished(e,t);break;case"bb_media_paused":this._onMediaPaused(e,t);break;case"bb_media_resumed":this._onMediaResumed(e,t);break;case"bb_media_seeked":this._onMediaSeeked(e,t)}else this._queue.push({ev:e,payload:t})},a.prototype._loadSDK=function(e){var t=this;return this._sdkLoaded?"function"==typeof e&&e(!0):n.fetchScript(this._sdkURL,{async:!0}).then((function(n){i.default("[PiwikStatisticsLogger] loaded sdk ("+t._sdkURL+")"),"function"==typeof e&&e(!0),t._sdkLoaded=!0})).catch((function(n){i.default("[PiwikStatisticsLogger] failed to load sdk ("+t._sdkURL+")"),"function"==typeof e&&e(!1)})),!0},a.prototype._loadSDK_callback=function(e){if(e)if(void 0!==window.Piwik)for(this._pw=window.Piwik.getTracker(this._pwUrl+"/ppms.php",this._pwSiteId),void 0!==this._uuid&&null!=this._uuid&&this._pw.setUserId(this._uuid),"tracking"==this._disableCookies&&this._pw.setDoNotTrack(!0),"true"==this._disableCookies&&this._pw.disableCookies(),this._pw.enableLinkTracking(!1),this._ready=!0;this._queue.length>0;){var t=this._queue.shift();this._onEvent(t.ev,t.payload)}else this.$element.trigger("bb_warning",[{msg:"Piwik SDK is undefined"}]);else this.$element.trigger("bb_warning",[{msg:"Piwik SDK failed to load"}])},a.prototype._onClipDataLoaded=function(e,t){this._mediaClip=null,void 0!==t&&void 0!==t.clipData&&(this._mediaClip=t.clipData,null!=this._mediaClip&&(this._legacyEventLabel=this._mediaClip.id+" - "+this._mediaClip.title,this._contentPiece="https://"+this._playout.publication+".bbvms.com/json/mediaclip/"+this._mediaClip.id,this._contentTarget=this._mediaClip.gendeeplink||this._mediaClip.deeplink,this._pw.setCustomVariable(1,"bb_id",this._mediaClip.id,"page"),this._pw.setCustomVariable(2,"bb_title",this._mediaClip.title,"page"),this._pw.setCustomVariable(3,"bb_duration",1e3*this._mediaClip.length,"page"),this._pw.setCustomVariable(4,"bb_sourcetype",this._mediaClip.sourcetype,"page"),this._pw.setCustomVariable(5,"bb_createddate",this._mediaClip.createddate,"page")),this._logMediaClipEvent("it",{to:0}))},a.prototype._onDurationChange=function(e,t){void 0!==t&&void 0!==t.duration&&this._pw.setCustomVariable(3,"bb_duration",1e3*parseFloat(t.duration),"page")},a.prototype._onMediaStarted=function(e){this._logMediaClipEvent("st",{to:0})},a.prototype._onMediaFinished=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("fn",{to:t})},a.prototype._onMediaPaused=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("pa",{to:t})},a.prototype._onMediaResumed=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("rs",{to:t})},a.prototype._onMediaSeeked=function(e,t){var i=Math.round(1e3*(t?parseFloat(t.seekedPosition):this.$element.attr("data-currentTime")));this._logMediaClipEvent("se",{to:i})},a.prototype._logMediaClipEvent=function(e,t){this._enabled?this._logMediaClipEvent_enabled(e,t):this._enabledQueue.push({ev:e,aux:t})},a.prototype._logMediaClipEvent_enabled=function(e,t){var i=null,n=null;switch(e){case"it":i="Init";break;case"st":i="Play";try{this._pw.trackContentImpression(this._contentName,this._contentPiece,this._contentTarget)}catch(e){this.$element.trigger("bb_warning",[{msg:"Piwik SDK exception: "+e.message}])}break;case"fn":i="Finish";break;case"pa":n="Pause";break;case"rs":n="Resume";break;case"se":n="Seek"}if(null!=i){var a="audio"==this._mediaClip.mediatype?"Audio":"Video";try{this._pw.trackEvent(a,i,this._legacyEventLabel)}catch(e){this.$element.trigger("bb_warning",[{msg:"Piwik SDK exception:"+e.message}])}}if(null!=n)try{this._pw.trackContentInteraction(n,this._contentName,this._contentPiece,this._contentTarget)}catch(e){this.$element.trigger("bb_warning",[{msg:"Piwik SDK exception: "+e.message}])}}})),parcelRequire.register("5CdRg",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("1MxPP"),n=parcelRequire("4AQp6"),a=(window._paq=window._paq||[],function(e,t){this._opts=void 0!==t?t:null,this._sdkURL=null,this._sdkLoaded=!1,this._mediaClip=null,this._queue=[],this._enabled=!1,this._enabledQueue=[],this._matomo=null,this._matomoUrl=null,this._matomoSiteId="",this._disableCookies="false",this._contentName="Blue Billywig Player",this._contentPiece="unknown",this._contentTarget=null,this._uuid=n.getCookie("uuid"),null!=this._opts&&void 0!==this._opts.playoutData&&(this._playout=this._opts.playoutData,null!=this._playout&&void 0!==this._playout.matomoUrl&&""!==this._playout.matomoUrl&&(this._matomoUrl=this._playout.matomoUrl.replace(/^[htps:]*\/\//i,"https://"),this._matomoSiteId=this._playout.matomoSiteId,this._disableCookies=this._playout.disableCookies)),this._onEventBound=this._onEvent.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,null!=this._matomoUrl&&(this.$element.on("bb_mediaclip_loaded",this._onEventBound),this.$element.on("bb_media_duration_change",this._onEventBound),this.$element.on("bb_media_started",this._onEventBound),this.$element.on("bb_media_finished",this._onEventBound),this.$element.on("bb_media_paused",this._onEventBound),this.$element.on("bb_media_resumed",this._onEventBound),this.$element.on("bb_media_seeked",this._onEventBound),void 0!==window.Matomo&&(this._sdkLoaded=!0),this._sdkURL=this._matomoUrl+"/matomo.js",this._loadSDK(this._loadSDK_callback.bind(this))))});a.prototype.exit=function(){null!=this.$element&&(this.$element.off("bb_mediaclip_loaded",this._onEventBound),this.$element.off("bb_media_duration_change",this._onEventBound),this.$element.off("bb_media_started",this._onEventBound),this.$element.off("bb_media_finished",this._onEventBound),this.$element.off("bb_media_paused",this._onEventBound),this.$element.off("bb_media_resumed",this._onEventBound),this.$element.off("bb_media_seeked",this._onEventBound))},a.prototype.enable=function(){for(this._enabled=!0;this._enabledQueue.length>0;){var e=this._enabledQueue.shift();this._logMediaClipEvent_enabled(e.ev,e.aux)}},a.prototype.disable=function(){this._enabled=!1},a.prototype.handleAutoPause=function(){for(var e=0;e<this._enabledQueue.length;){var t=this._enabledQueue[e].properties;"it"===t.ev?(this._enabledQueue.splice(e,1),this._logMediaClipEvent_enabled(t.ev,t.aux)):e++}},a.prototype._onEvent=function(e,t){if(this._ready)switch(e.type){case"bb_mediaclip_loaded":this._onClipDataLoaded(e,t);break;case"bb_media_duration_change":this._onDurationChange(e,t);break;case"bb_media_started":this._onMediaStarted(e,t);break;case"bb_media_finished":this._onMediaFinished(e,t);break;case"bb_media_paused":this._onMediaPaused(e,t);break;case"bb_media_resumed":this._onMediaResumed(e,t);break;case"bb_media_seeked":this._onMediaSeeked(e,t)}else this._queue.push({ev:e,payload:t})},a.prototype._loadSDK=function(e){var t=this;return this._sdkLoaded?"function"==typeof e&&e(!0):n.fetchScript(this._sdkURL,{async:!0}).then((function(n){i.default("[MatomoStatisticsLogger] loaded sdk ("+t._sdkURL+")"),"function"==typeof e&&e(!0),t._sdkLoaded=!0})).catch((function(n){i.default("[MatomoStatisticsLogger] failed to load sdk ("+t._sdkURL+")"),"function"==typeof e&&e(!1)})),!0},a.prototype._loadSDK_callback=function(e){if(e)if(void 0!==window.Matomo)for(this._matomo=window.Matomo.getTracker(this._matomoUrl+"/matomo.php",this._matomoSiteId),void 0!==this._uuid&&null!=this._uuid&&this._matomo.setUserId(this._uuid),"tracking"===this._disableCookies&&this._matomo.setDoNotTrack(!0),"true"===this._disableCookies&&this._matomo.disableCookies(),this._matomo.enableLinkTracking(!1),this._ready=!0;this._queue.length>0;){var t=this._queue.shift();this._onEvent(t.ev,t.payload)}else this.$element.trigger("bb_warning",[{msg:"Matomo SDK is undefined"}]);else this.$element.trigger("bb_warning",[{msg:"Matomo SDK failed to load"}])},a.prototype._onClipDataLoaded=function(e,t){this._mediaClip=null,void 0!==t&&void 0!==t.clipData&&(this._mediaClip=t.clipData,null!=this._mediaClip&&(this._legacyEventLabel=this._mediaClip.id+" - "+this._mediaClip.title,this._contentPiece="https://"+this._playout.publication+".bbvms.com/json/mediaclip/"+this._mediaClip.id,this._contentTarget=this._mediaClip.gendeeplink||this._mediaClip.deeplink,this._matomo.setCustomVariable(1,"bb_id",this._mediaClip.id,"page"),this._matomo.setCustomVariable(2,"bb_title",this._mediaClip.title,"page"),this._matomo.setCustomVariable(3,"bb_duration",1e3*this._mediaClip.length,"page"),this._matomo.setCustomVariable(4,"bb_sourcetype",this._mediaClip.sourcetype,"page"),this._matomo.setCustomVariable(5,"bb_createddate",this._mediaClip.createddate,"page")),this._logMedihange=function(e,t){void 0!==t&&void 0!==t.duration&&this._matomo.setCustomVariable(3,"bb_duration",1e3*parseFloat(t.duration),"page")},a.prototype._onMediaStarted=function(e){this._logMediaClipEvent("st",{to:0})},a.prototype._onMediaFinished=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("fn",{to:t})},a.prototype._onMediaPaused=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("pa",{to:t})},a.prototype._onMediaResumed=function(e){var t=Math.round(1e3*this.$element.attr("data-currentTime"));this._logMediaClipEvent("rs",{to:t})},a.prototype._onMediaSeeked=function(e,t){var i=Math.round(1e3*(t?parseFloat(t.seekedPosition):this.$element.attr("data-currentTime")));this._logMediaClipEvent("se",{to:i})},a.prototype._logMediaClipEvent=function(e,t){this._enabled?this._logMediaClipEvent_enabled(e,t):this._enabledQueue.push({ev:e,aux:t})},a.prototype._logMediaClipEvent_enabled=function(e,t){var i=null,n=null;switch(e){case"it":i="Init";break;case"st":i="Play";try{this._matomo.trackContentImpression(this._contentName,this._contentPiece,this._contentTarget)}catch(e){this.$element.trigger("bb_warning",[{msg:"Matomo SDK exception: "+e.message}])}break;case"fn":i="Finish";break;case"pa":n="Pause";break;case"rs":n="Resume";break;case"se":n="Seek"}if(null!=i){var a="audio"===this._mediaClip.mediatype?"Audio":"Video";try{this._matomo.trackEvent(a,i,this._legacyEventLabel)}catch(e){this.$element.trigger("bb_warning",[{msg:"Matomo SDK exception:"+e.message}])}}if(null!=n)try{this._matomo.trackContentInteraction(n,this._contentName,this._contentPiece,this._contentTarget)}catch(e){this.$element.trigger("bb_warning",[{msg:"Matomo SDK exception: "+e.message}])}}})),parcelRequire.register("9XayH",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}));var i=parcelRequire("cWdJP"),n=parcelRequire("1MxPP"),a=parcelRequire("4AQp6"),o=parcelRequire("j7M4L"),s=function(e,t){this._opts=void 0!==t?t:null,this._detections=null,this._bbcb_string=void 0!==o.bbcb&&null!=o.bbcb&&o.bbcb.length>0?"?bbcb="+o.bbcb:"",this._base=this._opts&&this._opts.playerPath?this._opts.playerPath+"components/":"//bb.bbvms.com/apps/player/html5/player/components/",this._loading=[],this._loadedPlayerComponents={},window.bluebillywig&&window.bluebillywig._internal&&window.bluebillywig._internal._brokerSubscriptions||(window.bluebillywig=window.bluebillywig||{},window.bluebillywig._internal=window.bluebillywig._internal||{},window.bluebillywig._internal._brokerSubscriptions={}),!window.location.protocol.match(/^http/)&&this._base.match(/^\/\//)&&(this._base="https:"+this._base),this._onClipLoadedBound=this._onClipLoaded.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,i.default.getService(this._opts.playerAliasOrId).setInstance("ComponentBroker",this),this._detections=i.default.getService(this._opts.playerAliasOrId).getInstance("Detections"),this.$element.on("bb_mediaclip_loaded",this._onClipLoadedBound)),this._opts&&this._opts.clipData&&("true"===this._opts.clipData.cubemapVideo||"360video"===this._opts.clipData.subtype||"true"===this._opts.clipData.isThreeSixtyVideo||!0===this._opts.clipData.isThreeSixtyVideo)&&(this.isPlayerComponentAvailable("WebGL360Helper")||this.load("WebGL360Helper:Html5SpriteGL360Head",15),this.isPlayerComponentAvailable("WebGL360Helper")||this.load("WebGL360Helper:Html5VideoGL360Head",15),this.isPlayerComponentAvailable("Html5Sprite360Head")||this.load("Html5Sprite360Head",15))};s.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_mediaclip_loaded",ths.playerAliasOrId).setInstance("Compoion(e){return!!this._loading[e]},s.prototype.isPlayerComponentAvailable=function(e){return!!this._loadedPlayerComponents[e]},s.prototype.getLoadedPlayerComponent=function(e){return this._loadedPlayerComponents[e]},s.prototype.load=function(e,t){if(t=void 0===t||isNaN(parseFloat(t))?-1:parseFloat(t),e){n.default("[ComponentBroker] load component: ".concat(e));var i=e;if(e.indexOf(":")>=0){var a=e.split(":");i=a[0],e=a[1]}e!==i&&(this._loading[e]=!0),this._loading[i]?this._loading[i].push(e):(this._loading[i]||(this._loading[i]=[]),this._loading[i].push(e),["WebGL360Helper","Html5Sprite360Head","Html5HLSHelper","Html5HLSDashHelper"].includes(i)?this._load_dynamic_import(i,e):window.requirejs&&!e.match(/_IMA/)?this._load_requirejs(i,e,t):this._load_ajax(i,e,t))}else this.$element&&this.$element.triggerHandler("bb_component_failed",[{component:null}])},s.prototype._load_dynamic_import=function(e,t,i){var n,a=this,o=!1;i&&!isNaN(i)&&(n=setTimeout((function(){a._load_result(e,t,!1,"Dynamic import timed out"),o=!0}),1e3*i));var s=function(i){n&&(clearTimeout(n),n=null),a._loadedPlayerComponents[e]=i.default,o||(a._load_result(e,t,!0),o=!0)},l=function(i){n&&(clearTimeout(n),n=null),console.warn(i),o||(a._load_result(e,t,!1,"Dynamic import failed"),o=!0)};switch(e){case"WebGL360Helper":parcelRequire("dlCCD").then(s).catch(l);break;case"Html5Sprite360Head":parcelRequire("kNtxp").then(s).catch(l);break;case"Html5HLSHelper":parcelRequire("aW6PD").then(s).catch(l);break;case"Html5HLSDashHelper":parcelRequire("f9SLJ").then(s).catch(l)}},s.prototype._load_requirejs=function(e,t,i){var n=e&&(e.match(/^\/\//)||e.match(/^\w+:\/\//))?e:this._base+e+"/"+e+".js"+this._bbcb_string;n.match(/^\/\//)&&(n="https:"+n);var a=this;try{window.requirejs([n],(function(i){"Html5HLSHead"===t&&void 0!==i&&(window.Hls=i),a._load_result(e,t,!0)}))}catch(i){this._load_result(e,t,!1)}},s.prototype._load_ajax=funh(/^\/\//)||e.match(/^\w+:\/\//))?e:this._base+e+"/"+e+".js"+this._bbcb_string;o.match(/^\/\//)&&(o="https:"+o);var s={async:!0};i>=0&&(s.timeout=1e3*i),a.fetchScript(o,s).then((function(i){n._load_result(e,t,!0)})).catch((function(i){n._load_result(e,t,!1,null==i?void 0:i.message)}))},s.prototype._load_result=function(e,t,i,a){n.default("[ComponentBroker] _load_result ("+e+") success: "+i+". textStatus: "+a);var o=i?"bb_component_loaded":"bb_component_failed";if(t!==e){for(var s=this._loading[e].length;s>=0;s--){if(t=this._loading[e][s],this._loading[t]){this._loading[t]=!1;var l={component:t};!i&&a&&(l.reason=a),this.$element&&this.$element.triggerHandler(o,[l]),this._handleSubscriptions(t,i)}this._loading[e].splice(s,1)}this._loading[e]=!1}else if(this._loading[t]){this._loading[t]=!1;l={component:t};!i&&a&&(l.reason=a),this.$element&&this.$element.triggerHandler(o,[l]),this._handleSubscriptions(t,i)}},s.prototype.subscribe=function(e,t){e&&t&&"string"==typeof e&&"function"==typeof t&&window.bluebillywig&&window.bluebillywig._internal&&window.bluebillywig._internal._brokerSubscriptions&&(window.bluebillywig._internal._brokerSubscriptions[e]=window.bluebillywig._internal._brokerSubscriptions[e]||[],window.bluebillywig._internal._brokerSubscriptions[e].push(t))},s.prototype._handleSubscriptions=function(e,t){if(window.bluebillywig&&window.bluebillywig._internal&&window.bluebillywig._internal._brokerSubscriptions&&window.bluebillywig._internal._brokerSubscriptions[e]){for(;window.bluebillywig._internal._brokerSubscriptions[e].length;)window.bluebillywig._internal._brokerSubscriptions[e].shift()(t);delete window.bluebillywig._internal._brokerSubscriptions[e]}},s.prototype._onClipLoaded=function(e,t){if(void 0!==t.clipData){var i=t.clipData;"true"!==(null==i?void 0:i.cubemapVideo)&&"360video"!==(null==i?void 0:i.subtype)&&"true"!==(null==i?void 0:i.isThreeSixtyVideo)&&!0!==(null==i?void 0:i.isThreeSixtyVideo)||(this._detections.hasWebGL?this._detections.canPlayInline?this.isPlayerComponentAvailable("WebGL360Helper")||this.load("WebGL360Helper:Html5VideoGL360Head",15):this.isPlayerCompnentAvailable("Html5Sprite360Head")||this.load("Html5Sprite360Head",15))}}})),parcelRequire.register("j7M4L",(function(e,t){e.exports=JSON.parse('{"playerBuildDate":"2024-02-05 12:11:15","bbcb":"1707135075401"}')})),parcelRequire.register("dlCCD",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("tVRCL")).then((function(){return parcelRequire("f4W8F")}))})),parcelRequire.register("kNtxp",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("eoSMn")).then((function(){return parcelRequire("1MkbJ")}))})),parcelRequire.register("aW6PD",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("crjym")).then((function(){return parcelRequire("gU7iH")}))})),parcelRequire.register("f9SLJ",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("efg2o")).then((function(){return parcelRequire("kltVK")}))})),parcelRequire.register("h7NM0",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=parcelRequire("j7M4L"),o=function(e,t){if(this.$element=null,this._opts=t||{},this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onResizedBound=this._onResized.bind(this),this._onContextMenuBound=this._onContextMenu.bind(this),this._onClickBound=this._onClick.bind(this),void 0!==e&&null!=e){if(this.$element=e,this._$contextLayer=null,this._playerWidth,this._playerHeight,this._detections=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections"),this._buildTime="unknown","number"==typeof parseInt(a.bbcb)&&!isNaN(parseInt(a.bbcb))){var o=new Date(1e3*parseInt(a.bbcb));this._buildTime=o.toString()}this._opts.playerPath&&this._opts.playerPath.match(/\.dev\./)?this._buildTime=this._buildTime+" (dev)":this._opts.playerPath&&this._opts.playerPath.match(/\.acc\./)&&(this._buildTime=this._buildTime+" (acc)"),this._detections.ieVersion>0&&this._detections.ieVersion<8?this._bbicon='<div style="width: 14px; height: 15px; margin-left: -20px; margin-right: 5px; display:inline;"><img style="border: none; vertical-align: middle;" width="14" height="15" src="'+this._opts.playerPath+'bb.png" /></div>':this._bbicon='<div style="width: 14px; height: 15px; margin-left: -20px; margin-right: 5px; display:inline;"><svg style="width: 14px; height: 15px; vertical-align: -20%;" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="14px" height="15px" viewBox="0 0 381.946 434.02" enable-background="new 0 0 381.946 434.02" xml:space="preserve"><path fill="#6DABDD" d="M330.789,279.364c0-32.41-14.492-58.056-51.207-58.056H219.31v166.717h60.272\tc36.715,0,51.207-25.688,51.207-58.064V279.364z"></path><path fill="#ABA095" d="M268.648,0H219.31v175.482h66.307c65.606,0,96.33,39.705,96.33,103.881V113.212 C381.946,50.684,331.222,0,268.648,0z"></path><path fill="#7E6B56" d="M0,320.807C0,383.295,50.727,434.02,113.299,434.02h54.85V0H0V320.807z"></path><path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M330.789,279.453c0-32.371-14.492-58.06-51.207-58.06H219.31\tV388.11h60.272c36.715,0,51.207-25.688,51.207-58.061V279.453z M285.616,433.935H168.149V0.087h51.161v175.482h66.307 c65.606,0,96.33,39.705,96.33,103.884v50.597C381.946,394.229,351.223,433.935,285.616,433.935z"></path></svg></div>',this._animSpeed=200,this.api=n.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this._$buildDisplay=$parcel$interopDefault(i)(document.createElement("div")).css({position:"absolute",width:"10px",height:"10px",bottom:"0px",left:"0px"}).attr("title",this._buildTime),this._$contextMenu=$parcel$interopDefault(i)(document.createElement("div")).addClass("bb-contextmenu bb-hidden").attr("dir","ltr").append(this._$buildDisplay),n.default.getService(this._opts.playerAliasOrId).setInstance("ContextMenu",this),this._init()}};o.prototype.disable=function(){this._enabled=!1},o.prototype.enable=function(){this._enabled=!0},o.prototype._init=function(){this._onResized(),this._build(),this._enabled=!0,this._$contextLayer=this.$element.find(".bb-context-layer"),this._$contextLayer.append(this._$contextMenu),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_resized",this._onResizedBound),"true"!=this._opts.playoutData.disableContextMenuNavigate&&this.$element.on("mousedown contextmenu",this._onContextMenuBound)},o.prototype.exit=function(){return this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_resized",this._onResizedBound),this.$element.off("mousedown contextmenu",this._onContextMenuBound),$parcel$interopDefault(i)(document).off("mousedown contextmenu",this._onClickBound),n.default.getService(this._opts.playerAliasOrId).setInstance("ContextMenu",null),null},o.prototype._build=function(){if(this._$contextMenu.css({position:"absolute",background:"#fff","z-index":"100",display:"none",padding:"6px 0","-webkit-box-shadow":"0 2px 3px rgba(0,0,0,0.5)","-moz-box-shadow":"0 2px 3px rgba(0,0,0,0.5)","box-shadow":"0 2px 3px rgba(0,0,0,0.5)",cursor:"default","font-size":"12px","font-family":"arial, helvetica, sans-serif","border-radius":"2px","line-height":"normal","pointer-events":"all !important","font-weight":"normal"}),this._$contextMenu.empty(),this._opts.playoutData&&void 0!==this._opts.playoutData.playerSignature&&null!=this._opts.playoutData.playerSignature&&""!=this._opts.playoutData.playerSignature){if(void 0!==this._opts.playoutData.playerSignatureLink&&null!=this._opts.playoutData.playerSignatureLink&&""!=this._opts.playoutData.playerSignatureLink)var e={href:this._opts.playoutData.playerSignatureLink,target:"_blank",rel:"noopener"};else e={};this._$contextMenu.bb_appendSanitized(this._button(e,this._opts.playoutData.playerSignature))}else this._$contextMenu.bb_appendSanitized(this._blueBillywigButton())},o.prototype._onPlayoutChanged=function(e,t){this._build(),t&&void 0!==t.playoutData&&void 0!==t.playoutData.disableContextMenuNavigate&&("true"!=t.playoutData.disableContextMenuNavigate?this.$element.on("mousedown contextmenu",this._onContextMenuBound):this.$element.off("mousedown contextmenu",this._onContextMenuBound))},o.prototype._button=function(e,t){var n=this,a=$parcel$interopDefault(i)(document.createElement("a"));return a.attr(e),a.html(t),a.css({display:"block",position:"relative",color:"#333",cursor:"pointer","pointer-events":"all","list-style":"none",margin:"0",padding:"4px 3em 4px 28px","white-space":"nowrap","font-family":"helvetica, arial, sans-serif","text-decoration":"none",background:"none",border:"none","text-align":"left","font-weight":"normal"}),a.on("mouseover",(function(e){$parcel$interopDefault(i)(n).css("background-color","#E6E6E6")})),a.on("mouseout",(function(e){$parcel$interopDefault(i)(n).css("background","none")})),a},o.prototype._blueBillywigButton=function(){var e={href:"https://www.bluebillywig.com/?utm_medium=referral&utm_campaign=player-traffic",target:"_blank"};this._opts&&this._opts.publicationData&&this._opts.publicationData.name?e.href+="&pp="+encodeURIComponent(this._opts.publicationData.name)+"&utm_source="+encodeURIComponent(this._opts.publicationData.name):e.href+="&utm_source=bbvms";var t=this._bbicon+"Blue Billywig Video Player";return this._button(e,t)},o.prototype._seb-context-seperator").css({height:"1px","background-color":"#DDD",width:"100%",margin:"3px 0"})},o.prototype._onResized=function(){this._playerWidth=this.$element.width(),this._playerHeight=this.$element.height()},o.prototype._onMouseDown=function(e){if(this._enabled&&3==e.which)return this._onContextMenu(e),e.preventDefault(),!1},o.prototype._onContextMenu=function(e){if(this._enabled&&("contextmenu"==e.type||3==e.which)){if(this._$contextMenu.outerWidth()>this._playerHeight||this._$contextMenu.outerHeight()>this._playerWidth)return this.$element.trigger("bb_contextmenu"),!1;var t=e.pageX-this.$element.offset().left,n=e.pageY-this.$element.offset().top,a="initial",o="initial",s="initial",l="initial";return t+this._$contextMenu.outerWidth()>this.$element.width()?o="1px":a=t+"px",n+this._$contextMenu.outerHeight()>this.$element.height()?l="1px":s=n+"px",this._$contextMenu.css({left:a,right:o,top:s,bottom:l}).show(),$parcel$interopDefault(i)(document).on("mousedown contextmenu",this._onClickBound),this.$element.trigger("bb_contextmenu"),!1}},o.prototype._onClick=function(e){if(this._enabled&&(3!=e.which||this._$contextMenu.has(e.target).length<=0)&&($parcel$interopDefault(i)(document).off("mousedown contextmenu",this._onClickBound),this._$contextMenu.is(":visible")))return this._$contextMenu.fadeOut(this._animSpeed),e.preventDefault(),!1}})),parcelRequire.register("aFOlr",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("1MxPP"),a=parcelRequire("cWdJP"),o=function(e,t){this.$element=e,this._opts=t,a.default.getService(this._opts.playerAliasOrId).setInstance("Detections",this),this._playout=t.playoutData,this._pubAvoidPreload=this._opts&&this._opts.publicationData&&"true"===this._opts.publicationData.avoidPreload,this._pubAvoidAndroidNativeHLS=this._opts&&this._opts.publicationData&&"true"===this._opts.publicationData.avoidAndroidNativeHLS,this._eventNS="Detections"+String(Math.random()).replace(".",""),this._forceCanAutoPlay=this._playout&&("true"==this._playout.forceCanAutoPlay||!0===this._playout.forceCanAutoPlay)||t&&t.requestParams&&"true"==t.requestParams.forceCanAutoPlay,this._testVid=document.createElement("video"),this._ua=navigator.userAgent.toLowerCase(),this.measuredBandwidth=null,this._html5Elements=["source","track","audio","video"],this._asyncDetections=["iPadVersionCheck","canAutoPlayAdvancedCheck","getUserBandwidth"],void 0!==this.$element&&this.init()};o.prototype._checkEventsReady=function(e){"canAutoPlayAdvancedCheck"==e&&(null!==this.canAutoPlayAdvanced&&(this.canAutoPlay=this.canAutoPlayAdvanced),null!==this.canAutoPlayMutedAdvanced&&(this.canAutoPlayMuted=this.canAutoPlayMutedAdvanced),this.$element&&tr("bb_autoplay_check_ready",[{autoPlay:this.canAutoPlayAdvanced,canAutoPlay:this.canAutoPlay,canAutoPlayMuted:this.canAutoPlayMuted}])),this._asyncDetections=this._asyncDetections.filter((function(t){return t!==e})),0==this._asyncDetections.length&&this.$element&&this.$element.triggerHandler("bb_detections_ready")},o.prototype.init=function(){var e,t,a,o,s,l,r=this,d=this;d.canAutoPlayAdvanced=null,d.canAutoPlayMutedAdvanced=null,d.objectFit="objectFit"in d._testVid.style,d.compute_hanvas").getContext("experimental-webgl")}catch(e){return!1}},Object.defineProperty?Object.defineProperty(this,"hasWebGL",{get:function(){return void 0===r._hasWebGL&&(r._hasWebGL=r.compute_hasWebGL()),r._hasWebGL}}):this.hasWebGL=this.compute_hasWebGL(),d.getUserBandwidth=function(e){if(!d._opts||!d._opts.publicationData)return!1;var t=function(e){d.measuredBandwidth=e,d.$element&&null!==e&&d.$element.triggerHandler("bb_bandwidth_measured",[{measuredBandwidth:d.measuredBandwidth}]),d._checkEventsReady("getUserBandwidth")};setTimeout((function(){var e,i,n,a,o,s,l=function(){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e)return 1024*e.downlink}()||function(){var e=window.performance;if(e&&PerformanceEntry.prototype.hasOwnProperty("duration")&&PerformanceResourceTiming.prototype.hasOwnProperty("transferSize"))return(e.getEntriesByType("resource")||[]).reduce((function(e,t){return t.transferSize>0&&t.duration>0?Math.max(e,Math.round(t.transferSize/1024*8/(t.duration/1e3))):e}),0)}();l||"mainroll"===(null===(e=d._opts)||void 0===e||null===(i=e.clipData)||void 0===i?void 0:i.mediatype)?t(l):(n=t,a=d._opts.publicationData.baseurl+"/player/common/bwcheck.jpg",o=new Date,(s=new Imageime()-o.getTime())/1e3)/1024*8;e*=6;var t=Math.round(e);n(t)})),s.src=a+"?"+o.getTime())}),10)}(),d.isHttps="https:"==location.protocol,d.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}}(),d.accessToParentIframe=function(){var e=!1;try{window.top.document.location;e=window.self.document!==window.top.document}catch(t){e=!1}return e}(),d.isUIWebView=!!navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i),d.isWindowsPhone=null!==d._ua.match(/Windows Phone/i),d.isSafari=!!navigator.userAgent.match(/Safari/i)&&!d.isUIWebView,d.isiPhone=null!==d._ua.match(/iphone/i),d.isiPad=null!==d._ua.match(/ipad/i)||"iPad"===navigator.platform||navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),d.isAndroid=null!==d._ua.match(/android/i),d.isFacebookApp=null!==d._ua.match(/fban/i)||null!==d._ua.match(/fbav/i),d.isInstagram=null!==d._ua.match(/Instagram/i),d.isMobileDevice=(t=!1,e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t||d.isiPad||d.isiPhone||d.isAndroid||d.isWindowsPhone),d.iPadVersionCheck=d.isiPad&&d.isiPad&&void 0!==window.ondevicemotion&&-1==navigator.userAgent.toLowerCase().indexOf("firefox/")&&-1==navigator.userAgent.toLowerCase().indexOf("android")?void(window.ondevicemotion=function(e){return e.acceleration?(window.bb_iPadVersion=2===window.devicePixelRatio?3:2,d.iPadVersion=2===window.devicePixelRatio?3:2):(window.bb_iPadVersion=1,d.iPadVersion=1),window.ondevicemotion=null,d._checkEventsReady("iPadVersionCheck"),!0}):(d.iPadVersion=-1,d._checkEventsReady("iPadVersionCheck"),!0),d.iOSVersion=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||-1,d.iOSVersion<0&&d.isiPad&&(d.iOSVersion=10),d.iOSVersion<0&&d.isiPhone&&(d.iOSVersion=10),d.isiOS=-1!=d.iOSVersion,d.isAndroidNative=d._ua.indexOf("mozilla/5.0")>-1&&d._ua.indexOf("android ")>-1&&d._ua.indexOf("applewebkit")>-1&&!(d._ua.indexOf("chrome")>-1),d.isBustedAndroid=null!==d._ua.match(/android 2\.[12]/),d.isBustedNativeHTTPS="https:"===location.protocol&&(null!==d._ua.match(/android [12]\./)||null!==d._ua.match(/macintosh.* version.* safari/)),d.androidVersion=!!(a=d._ua.match(/android\s([0-9\.]*)/i))&&a[1],d.chromeVersion=!!(o=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(o[2],10),d.canControlVolume=function(){if(d.isAndroidNative&&parseFloat(d.androidVersion)<4.1)return!1;try{var e=d._testVid.volume;return d._testVid.volume=e/2+d._testVid.volume==.2?.2:.1,e!==d._testVid.volume}catch(e){return!1}}(),d.canControlMuted=function(){if(d.isAndroidNative&&parseFloat(d.androidVersion)<4.1)return!1;try{var e=d._testVid.muted;return d._testVid.muted=!d._testVid.muted,e!==d._testVid.muted}catch(e){return!1}}(),d.isLinkedInAppIOS=function(){var e=!(null===d._ua.match(/linkedin/gi)),t=!(null===document.referrer.match(/\/\/[^\/]*linkedin/gi));try{window.sessionStorage&&(t?window.sessionStorage.setItem("bb_isLinkedIn_ref","true"):t="true"===window.sessionStorage.getItem("bb_isLinkedIn_ref"))}catch(e){}return(e||t&&d.isUIWebView)&&d.isiOS}(),d.canPlayInline=!(d.isiPhone&&d.iOSVersion<10||!1!==d.androidVersion&&parseFloat(d.androidVersion)<3||d.isWindowsPhone),d.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,d.deviceResolution=null,d.deviceResolution={width:window.screen.width,height:window.screen.height},d.deviceResolutionString=window.screen.width+"x"+window.screen.height,d.deviceOrientation=window.innerHeight>window.innerWidth?"landscape":"portrait",$parcel$interopDefault(i)(window).on("orientationchange",(function(){d.deviceOrientation=window.innerHeight>window.innerWidth?"landscape":"portrait",d.deviceResolution={width:window.screen.width,height:window.screen.height}})),d.isIE=-1!=navigator.appName.toLowerCase().indexOf("microsoft")||null!==navigator.userAgent.toLowerCase().match(/trident/gi),d.ieVersion=function(){var e=-1,t=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName)null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1));else if("Netscape"==navigator.appName){null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),d.edgeVersion=(s=navigator.userAgent,(l=s.indexOf("Edge/"))>0?(d.isEdge=!0,parseInt(s.substring(l+5,s.indexOf(".",l)),10)):(d.isEdge=!1,-1)),d.supportsHTML5IMA=!(d.isIE&&d.ieVersion<11),d.isChrome=null!==d._ua.match(/chrome/gi)&&!d.isEdge,d.isChrome&&(d.isSafari=!1),d.isFirefox=null!==d._ua.match(/firefox/gi)&&!d.isEdge,d.isWebkit=null!==d._ua.match(/webkit/gi)&&!d.isEdge,d.isChromeiOS=d.isWebkit&&null!==d._ua.match(/crios/gi),d.isGecko=null!==d._ua.match(/gecko/gi)&&!d.isWebkit&&!d.isIE&&!d.isEdge,d.isOpera=null!==d._ua.match(/opera/gi)&&!d.isEdge,d.hasTouch="ontouchstart"in window,d.safariVersion=function(){var e=navigator.userAgent.match(/Version\/([0-9]+)\./);return!(!d.isSafari||!e)&&parseInt(e[1],10)}(),d.isTouchDevice=d.isAndroid||d.isiOS||d.isWindowsPhone||d.isMobileDevice,d.avoidPreload=this._pubAvoidPreload&&(this.isSafari||this.isChrome||this.isFirefox),d.canAutoPlayTestComplete=!1,d.canAutoPlayAdvancedTest=function(){d.canAutoPlayAdvanced=null;try{d._media=d.canPlayInline?document.createElement("video"):document.createElement("audio"),d._media.setAttribute("playsinline",""),d._media.setAttribute("webkit-playsinline",""),d._media.setAttribute("aria-hidden","true");var e=d._media.canPlayType("audio/ogg")?"data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=":"data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";d._media.setAttribute("src",e)}catch(e){console.debug(e.message)}var t=!1;$parcel$interopDefault(i)(d._media).on("playing",(function(e){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayAdvanced&&(d.canAutoPlayAdvanced=!!d._media&&!d._media.muted),null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=!0),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")}));var n=window.setTimeout((function(){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayAdvanced&&(d.canAutoPlayAdvanced=d.canAutoPlay),null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=d.canAutoPlayMuted),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")}),960);try{var a=d._media.play();void 0!==a&&a.then?($parcel$interopDefault(i)(d._media).off("playing"),n&&window.clearTimeout(n),a.then((function(){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayAdvanced&&(d.canAutoPlayAdvanced=!0),null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=!0),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")})).catch((function(e){if(null===d.canAutoPlayAdvanced&&(d.canAutoPlayAdvanced=!1),d._media){d._media.muted=!0;var i=d._media.play();void 0!==i&&i.then&&i.then((function(){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=!0),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")})).catch((function(e){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=!1),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")}))}}))):d._media&&d._media.paused&&(d._media.muted=!0,d._media.play())}catch(e){console.debug(e.message)}},d.canAutoPlayAdvancedTest_mobile=function(){d.canAutoPlayAdvanced=null;try{d._media=d.canPlayInline?document.createElement("video"):document.createElement("audio"),d._media.setAttribute("playsinline",""),d._media.setAttribute("webkit-playsinline",""),d._media.setAttribute("aria-hidden","true");var e=d._media.canPlayType("audio/ogg")?"data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=":"data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";d._media.setAttribute("src",e)}catch(e){n.default("ERR placing media"+e.message)}var t=!1;$parcel$interopDefault(i)(d._media).on("playing",(function(e){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayAdvanced&&(d.canAutoPlayAdvanced=!!d._media&&!d._media.muted),null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=!0),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")}));var a=window.setTimeout((function(){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayAdvanced&&(d.canAutoPlayAdvanced=d.canAutoPlay),null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=d.canAutoPlayMuted),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")}),960);try{if(null===d.canAutoPlayAdvanced&&(d.canAutoPlayAdvanced=!1),d._media){d._media.muted=!0;var o=d._media.play();void 0!==o&&o.then&&($parcel$interopDefault(i)(d._media).off("playing"),a&&window.clearTimeout(a),o.then((function(){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=!0),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")})).catch((function(e){t=null===d.canAutoPlayAdvanced||null===d.canAutoPlayMutedAdvanced,null===d.canAutoPlayMutedAdvanced&&(d.canAutoPlayMutedAdvanced=!1),delete d._media,t&&d._checkEventsReady("canAutoPlayAdvancedCheck")})))}}catch(e){console.debug(e.message)}},d._forceCanAutoPlay?d._playout&&(d._playout.autoPlayAdvancedNotChecked="true"):d.isMobileDevice?(d.canAutoPlayAdvancedTest_mobile(),$parcel$in.canAutoPlayAdvanced||d.canAutoPlayAdvancedTest_mobile()}))):(d.canAutoPlayAdvancedTest(),$parcel$interopDefault(i)(document).one("click."+d._eventNS,(function(){d.canAutoPlayAdvanced||d.canAutoPlayAdvancedTest()}))),d.svg=!!document.createElettp://www.svg").createSVGRect,d.webp=!d.isSafari||d.iOSVersion>=14||!d.isiOS&&d.safariVersion>=16,d.checkWebpLossySupport=fuage;t.onload=function(){e(t.width>0&&t.height>0)},t.onerror=function(){e(!1)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"},d.checkWebpLossySupport((function(e){d.webp=e}));for(var u=0;u<d._html5Elements.length;u++)d.v=document.createElement(d._html5Elements[u]);d.supportsMediaTag=void 0!==d.v.canPlayType||d.isBustedAndroid;try{d.v.canPlayType("video/mp4")}catch(e){d.supportsMediaTag=!1}d.canPlayType=function(e,t){var i=d.v.canPlayType(e);return d.supportsMediaTag&&("probably"==i||!t&&"maybe"==i)},d.canPlayHLS=(!d._pubAvoidAndroidNativeHLS||!d.isAndroid)&&(d.canPlayType("application/x-mpegURL",d.isAndroid)||d.canPlayType("vnd.apple.mpegURL",d.isAndroid)||d.canPlayType("application/vnd.apple.mpegURL",d.isAndroid)||d.isAndroid&&"4.4"==d.androidVersion.substring(0,3)&&d.isChrome),d.canPlayMPD=!!d.canPlayType("application/dash+xml"),d.canPlayHLSJS=!(void 0===window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')),d.compute_canAutoPlay=function(){return!!d._forceCanAutoPlay||(null!==d.canAutoPlayAdvanced?d.canAutoPlayAdvanced:!!d.supportsMediaTag&&(!d.isiOS&&!d.isAndroid))},Object.defineProperty?Object.defineProperty(this,"canAutoPlay",{get:function(){return r.compute_canAutoPlay()}}):this.canAutoPlay=this.compute_canAutoPlay(),d.compute_canAutoPlayMuted=function(){return!!d._forceCanAutoPlay||(null!==d.canAutoPlayMutedAdvanced?d.canAutoPlayMutedAdvanced:!!d.supportsMediaTag&&(!(d.isiOS&&d.iOSVersion<10)&&!(d.isAndroid&&d.chromeVersion<53)))},Object.defineProperty?Object.defineProperty(this,"canAutoPlayMuted",{get:function(){return r.compute_canAutoPlayMuted()}}):this.canAutoPlayMuted=this.compute_canAutoPlayMuted(),d.hasSemiNativeFullScreen=void 0!==d.v.webkitEnterFullscreen,d.hasNativeFullscreen=void 0!==d.v.requestFullscreen,d.hasWebkitNativeFullScreen=void 0!==d.v.webkitRequestFullScreen,d.hasMozNativeFullScreen=void 0!==d.v.mozRequestFullScreen,d.hasMsNativeFullScreen=void 0!==d.v.msRequestFullscreen,d.hasTrueNativeFullScreen=d.hasWebkitNativeFullScreen||d.hasMozNativeFullScreen||d.hasMsNativeFullScreen,d.nativeFullScreenEnabled=d.hasTrueNativeFullScreen,d.hasMozNativeFullScreen?d.nativeFullScreenEnabled=document.mozFullScreenEnabled:d.hasMsNativeFullScreen&&(d.nativeFullScreenEnabled=document.msFullscreenEnabled),d.isChrome&&(d.hasSemiNativeFullScreen=!1),d.fullScreenEventName="",d.hasWebkitNatireenChange"),d.isFulFullscreenElement:vllscreen()},d.cancelFullScreen=function(){d.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():d.hasMozNativeFullScreen?document.mozCancelFullScreen():d.hasMsNativeFullScreen&&document.msExitFullscreen()},d.hasSemiNativeFullScreen&&d._ua.match(/mac os x 10_5/i)&&(d.hasNativeFullScreen=!1,d.hasSemiNativeFullScreen=!1),d.testAll=function(e){var t="";for(var i in d)-1=="$element init _asyncDetections _testVid _ua _html5Elements testAll requestFullScreen v fullScreenEventName cancelFullScreen _checkEventsReady".indexO+=";",e&&(t+="<br />"),t+="\n");return t},d.canAirPlay=!!window.WebKitPlaybackTargetAvailabilityEvent,d.compute_canChromeCast=function(){return!!(window.chrome&&window.chrome.cast&&windowroperty(this,"canChromeCast",{get:function(){return r.compute_canChromeCast()}}):this.canChromeCast=this.compute_canChromeCast(),d.compute_isSDKPlayer=function(){return!(!window.iOSAppPlayer&&!window.bbAppBridge)},Object.defineProperty?Object.defineProperty(this,"isSDKPlayer",{get:function(){return r.compute_isSDKPlayer()}}):this.isSDKPlayer=d.compute_isSDKPlayer(),Object.defineProperty?Object.defineProperty(this,"location",{get:function(){return r._getLocation()}}):this.location=this._getLocation(),Object.defineProperty?Object.defineProperty(this,"referrer",{get:function(){return r._getReferrer()}}):this.referrer=this._getReferrer()},o.prototype._getLocation=function(){var e=window.location.href,t=e.match(/#!.*referrer=([^&]+)/);return null!=t&&t.length>1&&(e=decodeURIComponent(t[1])),e},o.prototype._getReferrer=function(){var e=document.referrer,t=window.location.href.match(/#!.*realReferrer=([^&]+)/);return null!=t&&t.length>1&&(e=decodeURIComponent(t[1])),e},o.prototype.exit=function(){return a.default.getService(this._opts.playerAliasOrId).setInstance("Detections",null),null}})),parcelRequire.register("b53xq",(function(module,exports){$parcel$export(module.exports,"default",(function(){return Executer})),parcelRequire("2UpbQ");var $eV1xY=parcelRequire("eV1xY"),$cWdJP=parcelRequire("cWdJP"),Executer=function(e,t){this.$element=e,this._opts=t,this._playout=t.playoutData,this._msasController=$cWdJP.default.getService(this._opts.playerAliasOrId).getInstance("MSASController"),this._init()};Executer.prototype._init=function(){var e,t,i,n,a;$cWdJP.default.getService(this._opts.playerAliasOrId).setInstance("Executer",this),this._api=$cWdJP.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this.$iaWrapper=null===(e=this.$element)||void 0===e?void 0:e.closest(".bb_iawr"),(null===(t=this._opts)||void 0===t||null===(i=t.publicationData)||void 0===i?void 0:i.customCode)&&this.execute(this._opts.publicationData.customCode);var o=this._api;if((null===(n=this._playout)||void 0===n?void 0:n.customCode)&&this.execute(this._playout.customCode),(null===(a=this._playout)||void 0===a?void 0:a.passbackCode)&&o){var s,l,r,d=this;if(this._adPlayed=!1,o.on("adstarted",(function(){d._adPlayed=!0})),null===(s=this._msasController)||voidll===(l=this._msasController)||void 0===l?void 0:l.isOutstreamRefreshRetryEnabled())||null===(r=this.$element)||void 0===r||r.on("bb_msas_outstream_refresh_finished",(function(){d.execute(d._playout.passbackCode)}));else{var u=this,c=0;o.on("statechange",(function(){"idle"===o.getState()&&(1===c&&u.execute(u._playout.passbackCode),c++)}))}}},Executer.prototype.exit=function(){return this._api&&(this._api.off("statechange"),this._api.off("adstarted")),$cWdJP.default.getService(this._opts.playerAliasOrId).setInstance("Executer",null),null},Executer.prototype.execute=function(code){var _this=this,$=$parcel$interopDefault($eV1xY),$$api=this._api,$$adPlayed=!!this._adPlayed,$$wrapper=this.$iaWrapper;try{return eval(code)}catch(e){console.debug("Notice: there was an error executing the javascript by Executer.prototype.execute. Provided JavaScript was: "+code),console.debug(e)}}})),parcelRequire.register("jKHMz",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=parcelRequire("1MxPP"),o=function(e,t){var o,s,l,r,d,u,c=this;this.$element=e,this._opts=t,this._loggerUrl=window.location.protocol+"//stats.bluebillywig.com",this._phase="",this._ready=!1,this._firstPlay=!0,this._useStickyMode=!1,this._isSticky=!1,this._forceClosed=!1,this._animatingPosition=!1,this._inittedStickyness=!1,this._started=!1,this._autoPaused=!1,this._ended=!1,this._recentFullscreenChange=!1,this._showFloatingCloseButton=!1,this._msasController=n.default.getService(this._opts.playerAliasOrId).getInstance("MSASController"),this._isAMP=window.location.hash.indexOf("amp=1")>-1,this._clip=(null===(o=this._opts)||void 0===o?void 0:o.clipData)||null,this._assets=null,this._watchingElementSize=!1,this._wrapperIsInView=null,this._playing=!1,this._fullscreen=!1,this._fullScreenMismatch=!1,this._documentVisible="hidden"!==document.visibleState,this._playerWidth=null,this._playerHeight=null,this._windowWidth=null,this._windowHeight=null,this._aspectRatio=null,this._aspectRatio_override=null,this._aspectRatio_media=null,this._aspectRatio_clip=null,this._extraHeight=0,this._playoutData=(null===(s=this._opts)||void 0===s?void 0:s.playoutData)||null,this._forceInviewActions=!1,this._playoutData&&"true"==this._playoutData.forceInview&&(this._forceInviewActions=!0);var h=null===(l=this._playoutData)||void 0===l?void 0:l.width,p=null===(r=this._playoutData)||void 0===r?void 0:r.height;this._autoHeight="true"===(null===(d=this._playoutData)||void 0===d?void 0:d.autoHeight);var _="true"===(null===(u=this._playoutData)||void 0===u?void 0:u.responsiveSizing);if((_||void 0===p)&&(this._autoHeight=!0),this._percentagePlayer=(null==h?void 0:h.indexOf("%"))>-1&&(null==p?void 0:p.indexOf("%"))>-1&&!this._autoHeight&&!_,this._exited=!1,this._iaOrigZIndex=null,this._elOrigZIndex=null,this._deltaHeight_0=null,this._deltaHeight_1=null,this.$element&&this._playoutData){var m,f,v=this;if(n.default.getService(this._opts.playerAliasOrId).setInstance("Interactivity",this),this.$interactivityWrapper=this.$element.closest(".bb_iawr"),"always"===this._playoutData.clearBothOption&&this.$interactivityWrapper.css({clear:"both"}),this._playoutData.maxWidth&&this.$element.css({maxWidth:this._playoutData.maxWidth+"px"}),this._detections=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections"),this._playerIsReady=this.$element.attr("data-isready"),this._animationSpeed=this._opts.touchDevice||-1!=window.navigator.userAgent.indexOf("MSIE 7")||-1!==window.navigator.userAgent.indexOf("MSIE 6")?1:600,this._startCollapsed="true"===this._playoutData.startCollapsed||!0===this._playoutData.startCollapsed,this._showOnlyWhenPrerollAvailable="true"===this._playoutData.showOnlyWhenPrerollAvailable||!0===this._playoutData.showOnlyWhenPrerollAvailable,this._showOnlyWhenPrerollAvailable&&(this._startCollapsed=!0),this._startCollapsed&&this._startCollapsedInit(),this._onPlayerReadyBound=this._onPlayerReady.bind(this),this._onPhaseChangeBound=this._onPhaseChange.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onAdLoadedBound=this._onAdLoaded.bind(this),this._onPlayerEndedBound=this._onPlayerEnded.bind(this),this._onMsasFinishedBound=this._onMsasFinished.bind(this),this._onAdSkippedBound=this._onAdSkipped.bind(this),this._onFullScreenChangeBound=this._onFullScreenChange.bind(this),this._onAssetsChangedBound=this._onAssetsChanged.bind(this),this._onVolumeChangeBound=this._onVolumeChange.bind(this),this._onAdSizeChangedBound=this._onAdSizeChanged.bind(this),this._onAutoPlayCheckReadyBound=this._onAutoPlayCheckReady.bind(this),this._onAutoPauseBound=this._onAutoPause.bind(this),this._onResizedBound=this._onResized.bind(this),this._onPlayerPausedBound=this._onPlayerPaused.bind(this),this._onPlayerPlayingBound=this._onPlayerPlaying.bind(this),this._onWindowResizeBound=this._onWindowResize.bind(this),this._onOrientationChangeBound=this._onOrientationChange.bind(this),this._onInViewBound=this._onInView.bind(this),this._onOutViewBound=this._onOutView.bind(this),this._onMoveBackClickBound=this._onMoveBackClick.bind(this),"true"===this._playoutData.waitForPageReady?$parcel$interopDefault(i)((function(){v._playerIsReady=v.$element.attr("data-isready"),"true"===v._playerIsReady?v._onPlayerReady():v.$element.on("ready",v._onPlayerReadyBound)})):(this._playerIsReady=this.$element.attr("data-isready"),"true"===this._playerIsReady?this._onPlayerReady():this.$element.on("ready",this._onPlayerReadyBound)),this.$element.on("bb_phase_change",this._onPhaseChangeBound),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.on("bb_adsystem_loaded",this._onAdLoadedBound),this.$element.on("bb_media_finished",this._onPlayerEndedBound),this.$element.on("bb_msas_main_finished",this._onMsasFinishedBound),this.$element.on("bb_adsystem_skipped",this._onAdSkippedBound),this.$element.on("bb_fullscreen_change",this._onFullScreenChangeBound),this.$element.on("bb_assets_changed",this._onAssetsChangedBound),this.$element.on("bb_media_volume_change",this._onVolumeChangeBound),this.$element.on("bb_ad_size_changed",this._onAdSizeChangedBound),this.$element.on("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBound),this.$element.on("bb_program_autopause",this._onAutoPauseBound),this.$element.on("bb_resized",this._onResizedBound),this.$element.on("pause",this._onPlayerPausedBound),this.$element.on("playing",tabled())&&!(null===(f=this._msasController)||void 0===f?void 0:f.isOutstreamRefreshRetryEnabled())){var g=this,y=function(){g.$element.off("bb_msas_outstream_refresh_finished",y),g._collapseInteractivityWrapper()};this.$element.on("bb_msas_outstream_refresh_finished",y)}}window.ResizeObserver?this._setupResizeObserver():parcelRequire("kwjDq").then((function(e){"function"==typeof(null==e?void 0:e.install)&&(e.install(),c._setupResizeObserver())})).catch((function(){a.deion(){var e;this._ended||this._justForceClosed||this._autoPaused||null===(e=this.api)||void 0===e||e.play()},o.prototype._pause=function(){var e;this._justForceClosed&&(null===(e=this.api)||void 0===e||e.pause())},o.prototype._onPhaseChange=function(e,t){this._phase=(null==t?void 0:t.phase)||""},o.prototype._onPlayoutChanged=function(e,t){var i,n;if((null==t?void 0:t.playoutData)&&(this.api&&(this._playoutData=this.api.getPlayoutData()),this._alwaysFloat="true"===(null===(i=this._playoutData)||void 0===i?void 0:i.alwaysFloat)&&this._stickyMode&&"none"!==this._stickyMode&&"disabled"!==this._stickyMode,this._staySticky="true"===(null===(n=this._playoutData)||void 0===n?void 0:n.staySticky)&&this._stickyMode&&"none"!==this._stickyMode&&"disabled"!==this._stickyMode,void 0!==t.playoutData.stickyMode&&(this._stickyMode=t.playoutData.stickyMode,this._stickyMode&&"none"!==this._stickyMode&&"disabled"!==this._stickyMode?(this._useStickyMode=!0,this._checkStickyness()):(this._checkStickyness(!0),this._useStickyMode=!1)),void 0!==t.playoutData.aspectRatio&&this._getAspectRatio(!0),void 0!==t.playoutData.width||void 0!==t.playoutData.height||void 0!==t.playoutData.responsiveSizing||void 0!==t.playoutData.autoHeight)){var a,o,s,l,r=void 0!==t.playoutData.width?t.playoutData.width:null===(a=this._playoutData)||void 0===a?void 0:a.width,d=void 0!==t.playoutData.height?t.playoutData.height:null===(o=this._playoutData)||void 0===o?void 0:o.height;this._autoHeight=void 0!==t.playoutData.autoHeight?"true"===t.playoutData.autoHeight:"true"===(null===(s=this._playoutData)||void 0===s?void 0:s.autoHeight);var u=void 0!==t.playoutData.responsiveSizing?"true"===t.playoutData.responsiveSizing:"true"===(null===(l=this._playoutData)||void 0===l?void 0:l.responsiveSizing);(u||void 0===d)&&(this._autoHeight=!0),this._percentagePlayer=(null==r?void 0:r.indexOf("%"))>-1&&(null==d?void 0exOf("%"))>-1||(null==d?void 0:d.indexOf("%"))>-1?this._watchElementSize():this._unwatchElementSize()}},o.prototype._onVolumeChange=function(){var e;this._muted=null===(e=this.api)||void 0===e?void 0:e.getMuted()},o.prototype._onPlayerReady=function(){var e,t,a,o,s;if(this.api=n.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this._executer=n.default.getService(this._opts.playerAliasOrId).getInstance("Executer"),(null===(e=this._playoutData)||void 0===e?void 0:e.stickyMode)&&(this._stickyMode=this._playoutData.stickyMode),this._alwaysFloat="true"===(null===(t=this._playoutData)||void 0===t?void 0:t.alwaysFloat)&&this._stickyMode&&"none"!==this._stickyMode&&"disabled"!==this._stickyMode,this._staySticky="true"===(null===(a=this._playoutData)||void 0===a?void 0:a.staySticky)&&this._stickyMode&&"none"!==this._stickyMode&&"disabled"!==this._stickyMode,this._autoPlay="true"===(null===(o=this._playoutData)||void 0===o?void 0:o.autoPlay),this._showFloatingCloseButton="true"===(null===(s=this._playoutData)||void 0===s?void 0:s.showFloatingCloseButton),!this._ready){var l,r,d,u,c,h,p,_,m,f;if(this._ready=!0,this.$element.css({margin:"0 auto"}),$parcel$interopDefault(i)(window).on("resize",this._onWindowResizeBound),void 0!==window.onorientationchange&&(null===(l=this._detections)||void 0===l?void 0:l.isiOS)?window.onorientationchange=this._onOrientationChangeBound:$parcel$interopDefault(i)(window).on("orientationchange",this._onOrientationChangeBound),this.$element.on("bb_iawr_inview",this._onInViewBound),this.$element.on("bb_iawr_outview",this._onOutViewBound),!this._autoPlay&&(this._showOnlyWhenPrerollAvailable||"true"===(null===(r=this._playoutData)||void 0===r?void 0:r.preloadMainroll))){var v=this,g=function(e){var t;if(v._phase&&"INIT"!==v._phase)return window.removeEventListener("scroll",g),void window.removeEventListener("touchend",g);"scroll"===(null==e?void 0:e.type)&&"fake"===e.detail||window.scrollY>0&&(null===(t=v.api)||void 0===t?void 0:t.preloadAds(v._showOnlyWhenPrerollAvailable?"PRE":"MAIN"))&&(window.removeEventListener("scroll",g),window.removeEventListener("touchend",g))};window.addEventListener("scroll",g,{passive:!0}),window.addEventListener("touchend",g)}this._updateWindowSize(),this._playerHeight=this.$element.height(),this._playerWidth=this.$element.width(),this._iaHeight=this.$interactivityWrapper.height(),this._iaWidth=this.$interactivityWrapper.width();var y=null===(d=this._playoutData)||void 0===d?void 0:d.width,b=null===(u=this._playoutData)||void 0===u?void 0:u.height;if(this._autoHeight="true"===(null===(c=this._playoutData)||void 0===c?void 0:c.autoHeight),("true"===(null===(h=this._playoutData)||void 0===h?void 0:h.responsiveSizing)||void 0===b)&&(this._autoHeight=!0),(this._autoHeight||(null==y?void 0:y.indexOf("%"))>-1||(null==b?void 0:b.indexOf("%"))>-1)&&this._watchElementSize(),((null===(p=this._playoutData)||void 0===p?void 0:p.textAbovePlayer)||(null===(_=this._playoutData)||void 0===_?void 0:_.textCommercialSkip))&&(this.$wrapperAbovePlayer=$parcel$interopDefault(i)('<span class="bb-above" style="color:#000;font-size:10px;font-family:arial;text-align:center;z-index:99999;width:100%;display:block;height:14px;line-height:14px;"></span>'),this.$interactivityWrapper.prepend(this.$wrapperAbovePlayer)),(null===(m=this._playoutData)||void 0===m?void 0:m.textAbovePlayer)&&(this.$wrapperAbovePlayer.bb_appendSanitized(this._playoutData.textAbovePlayer),this._extraHeight=this.$wrapperAbovePlayer.height()),null===(f=this._playoutData)||void 0===f?void 0:f.textCommercialSkip){var w=this;this._$closeButton=$parcel$interopDefault(i)('<span class="bb-above-closebutton" style="cursor:pointer;position:relative;text-decoration:underline;right:3px;float:right;">'+this._playoutData.textCommercialSkip+"</span>").on("click",(function(){var e;(null===(e=w.api)||void 0===e?void 0:e.pause())||w._pause(),w._collapseInteractivityWrapper()})).bb_sanitize(),this.$wrapperAbovePlayer.prepend(this._$closeButton)}this._startCollapsed?this._showState="collapsed":(this._extraHeight&&this.$interactivityWrapper.height(this.$element.height()+this._extraHeight),this._showState="expanded"),$parcel$interopDefault(i)(window).trigger("resize"),this._alwaysFloat&&this._onInView()}},o.prototype._onAutoPlayCheckReady=function(e,t){"stickTop"!==this._stickyMode||this._autoPlay||(a.default("[Interactivity] _onAutoPlayCheckReady stickTop & not autoPlay"),(t&&t.canAutoPlay||t&&t.canAutoPlayMuted&&this._muted||t&&t.canAutoPlayMuted&&this._playoutData&&"true"===this._playoutData.autoMute)&&this._play())},o.prototype._onAutoPause=function(e,t){this._autoPaused=!0},o.prototype._onResized=function(e){this._checkFullScreenMismatch()},o.prototype.exit=function(){var e,t,a,o;return this._exited=!0,this.$element.off("ready",this._onPlayerReadyBound),this.$element.off("bb_phase_change",this._onPhaseChangeBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.off("bb_adsystem_loaded",this._onAdLoadedBound),this.$element.off("bb_media_finished",this._onPlayerEndedBound),this.$element.off("bb_msas_main_finished",this._onMsasFinishedBound),this.$element.off("bb_adsystem_skipped",this._onAdSkippedBound),this.$element.off("bb_fullscreen_change",this._onFullScreenChangeBound),this.$element.off("bb_assets_changed",this._onAssetsChangedBound),this.$element.off("bb_media_volume_change",this._onVolumeChangeBound),this.$element.off("bb_ad_size_changed",this._onAdSizeChangedBound),this.$element.off("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBound),this.$element.off("bb_program_autopause",this._onAutoPauseBound),this.$element.off("bb_resized",this._onResizedBound),this.$element.off("pause",this._onPlayerPausedBound),this.$element.off("playing",this._onPlayerPlayingBound),this.$element.off("bb_iawr_inview",this._onInViewBound),this.$element.off("bb_iawr_outview",this._onOutViewBound),$parcel$interopDefault(i)(window).off("resize",this._onWindowResizeBound),void 0!==window.onorientationchange&&(null===(e=this._detections)||void 0===e?void 0:e.isiOS)&&(window.onorientationchange=null),$parcel$interopDefault(i)(window).off("onorientationchange",this._onOrientationChangeBound),null===(t=this._$moveBackButton)||void 0===t||t.off("click",this._onMoveBackClickBound),null===(a=this._resizeObserver)||void 0===a||a.disconnect(),null===(o=this._intersectionObserver)||void 0===o||o.disconnect(),n.default.getService(this._opts.playerAliasOrId).setInstance("Interactivity",null),null},o.prototype.getShowState=function(){return this._showState},o.prototype._onFullScreenChange=function(e,t){var i=this;void 0!==(null==t?void 0:t.fullscreen)&&(this._fullscreen=!!t.fullscreen),this._checkFullScreenMismatch(),this._deltaHeight_0=null,this._deltaHeight_1=null,this._autoHeight&&this._updateHeight(),this._animatingPosition=!0,this._recentFullscreenChange=!0,setTimeout((function(){var e;i._animatingPosition=!1,!(null===(e=i.api)||void 0===e?void 0:e.isFullscreen())&&i._isSticky&&i._forceClose(!1),i._recentFullscreenChange=!1}),1)},o.prototype._setupResizeObserver=function(){var e=this,t=getComputedStyle(document.body)["writing-mode"]||"horizontal-tb",i="horizontal-tb"===t?"inlineSize":"blockSize",n="horizontal-tb"===t?"blockSize":"inlineSize",a=this.$element[0],o=this.$interactivityWrapper[0];this._animationFrameId=null,this._resizeObserver=new ResizeObserver((function(t){var s=!1,l=!1,r=!1,d=!1,u=!0,c=!1,h=void 0;try{for(var p,_=t[Symbol.iterator]();!(u=(p=_.next()).done);u=!0){var m,f,v,g=p.value;if((null===(m=g.contentBoxSize)||void 0===m?void 0:m.length)||g.contentRect){var y=(null===(f=g.contentBoxSize)||void 0===f?void 0:f[0][i])||g.contentRect.width,b=(null===(v=g.contentBoxSize)||void 0===v?void 0:v[0][n])||g.contentRect.height;switch(g.target){case a:s=e._width!==y,l=e._height!==b,e._width=y,e._height=b,e._playerWidth=y,e._playerHeight=b;break;case o:r=e._iaWidth!==y,d=e._iaHeight!==b,e._iaWidth=y,e._iaHeight=b}}}}catch(e){c=!0,h=e}finally{try{u||._checkResizedElement(s,l,r,d),s||l||d||r){var w=e;e._animatingPosition?e._animationFrameId||(e._animationFrameId=requestAnimationFrame((function(){w.$element.triggerHandler("bb_resized"),w._animationFrameId=null}))):e.$element.triggerHandler("bb_resized")}})),this._resizeObserver.observe(a),this._resizeObserver.observe(o)},o.prototype._handleInView=function(e){var t;this._wrapperIsInView!==e&&(this._wrapperIsInView=e,(!this._useStickyMode||this._alwaysFloat||this._staySticky&&this._isSticky||this._justForceClosed)&&(!this._useStickyMode||"stickToElement"!==this._stickyMode||!this._alwaysFloat||this._justForceClosed)||this._checkStickyness()),e&&!this._started&&(null===(t=this._startCollapsedInView)||void 0===t?void 0:t.match(/play/i))&&this._play()},o.prototype._checkResizedElement=function(e,t,i,n)|i||this._percentagePlayer&&n||this._expanding)&&(this._onPlayerResize(),this._autoHeight&&this._updateHeight()))},o.prototype._watchElementSize=function(){this._checkResizedElement(),this._watchingElementSize=!0},o.prototype._unwatchElementSize=function(){this._watchingElementSize=!1},o.prototype._startCollapsedInit=function(){this._showState="collapsed",this.$interactivityWrapper.css({height:"0",opacity:"0.01"}),this.$wrapperAbovePlayer&&this.$wrapperAbovePlayer.hide(),this._startCollapsedInView=this._playoutData.interactivity_inView||"none"},o.prototype._onPlayerPaused=function(){this._playing=!1},o.prototype._onAdLoaded=function(){this._showOnlyWhenPrerollAvailable&&"collapsed"===this._showState&&this._expandInteractivityWrapper(!0)},o.prototype._onPlayerPlaying=function(){var e,t;this._ended=!1,this._playoutData&&"whilePlaying"===this._playoutData.clearBothOption&&this.$interactivityWrapper.css({clear:"both"}),"mainroll"===(null===(e=this._opts)||void 0===e||null===(t=e.clipData)||void 0===t?void 0:t.mediatype)&&this.$interactivityWrapper.css("marginBottom","10px"),this._playing=!0,this._started=!0,this._autoPaused=!1,"collapsed"===this._showState&&this._expandInteractivityWrapper();var i=this._firstPlay;this._firstPlay&&(this._firstPlay=!1,this._initStickyness()),(this._alwaysFloat||i&&this._autoPlay&&!this._wrapperIsInView)&&this._checkStickyness()},o.prototype._onAdSkipped=function(){var e,t,i;!(null===(e=this._msasController)||void 0===e?void 0:e.isOutstreamRefreshEnabled())&&this._isSticky&&"mainroll"===(null===(t=this._opts)||void 0===t||null===(i=t.clipData)||void 0===i?void 0:i.mediatype)&&this._forceClose()},o.prototype._onMsasFinished=function(){var e,t,i,n,a;"mainroll"===(null===(e=this._opts)||void 0===e||null===(t=e.clipData)||void 0===t?void 0:t.mediatype)&&(this._ended=!0),this.$element.css("cursor","auto"),(null===(i=this._msasController)||void 0===i?void 0:i.isOutstreamRefreshEnabled())||"true"!==this._playoutData.hidePlayerOnEnd||"mainroll"!==(null===(n=this._opts)||void 0===n||null===(a=n.clipData)||void 0===a?void 0:a.mediatype)||this._collapseInteractivityWrapper()},o.prototype._onPlayerEnded=function(){var e,t,i;this._ended=!0;var n="mainroll"===(null===(e=this._opts)||void 0===e||null===(t=e.clipData)||void 0===t?void 0:tled()))&&n||"true"!==this._playoutData.hidePlayerOnEnd||this._collapseInteractivityWrapper()},o.prototype._onPlayerError=function(){"true"===this._playoutData.hidePlayerOnEnd&&this._collapseInteractivityWrapper()},o.prototype._expandInteractivityWrapper=function(e){var t=this;this.$wrapperAbovePlayer&&(this.$wrapperAbovePlayer.show(),this._extraHeight=this.$wrapperAbovePlayer.outerHeight());var i=n.default.getService(this._opts.playerAliasOrId).getInstance("InViewController");window.dispatchEvent(new CustomEvent("scroll",{detail:"fake"})),null==i||i.disable(),this._expanding=!0;var a=this._autoHeight?Math.round(this._playerWidth/this._getAspectRatio()):this.$element.height(),o=this._extraHeight+a;this.$element.height(a),this.$element.css({margin:"0 auto"}),this.$interactivityWrapper.css({opacity:"1"}),e||this._alwaysFloat?this._animationSpeed=0:this.$interactivityWrapper.css({transition:"height ".concat(this._animationSpeed/1e3,"s")}),this.$interactivityWrapper.css({height:"".concat(o,"px")}),setTimeout((function(){null==i||i.enable(),t._expanding=!1,t._showState="expanded",t.$element.trigger("bb_expanded"),window.dispatchEvent(new CustomEvent("resize")),t.$interactivityWrapper.css({transition:""}),t._useStickyMode&&t._checkStickyness()}),this._animationSpeed+1),this._useStickyMode&&this._checkStickyness()},o.prototype._collapseInteractivityWrapper=function(){var e,t,i,n=this;(null===(e=this._msasController)||void 0===e?void 0:e.isOutstreamRefreshRetryEnabled())||(this.$element.find(".bb-placeholder-layer").css("visibility","hidden"),this.exit(),null===(t=this._$moveBackButton)||void 0===t||t.hide(),null===(i=this._$closeButton)||void 0===i||i.hide(),this.$interactivityWrapper.css({transition:"height ".concat(this._animationSpeed/1e3,"s"),height:"0px"}),this._isSticky&&this.$element.css({transition:"height ".concat(this._animationSpeed/1e3,"s"),height:"0px"}),setTimeout((function(){var e;n.$interactivityWrapper.hide(),n._showState="collapsed",n.$elemption)&&n.$interactivityWrapper.css({clear:"none"})}),this._animationSpeed))},o.prototype._removePlayer=function(){this.$interactivityWrapper.hide(),this.$interactivityWrapper.remove(),this._showState="collapsed"},o.prototype._onAssetsChanged=function(e,t){t&&(this._assets=t.assets),this._autoHeight&&this._updateHeight()},o.prototype._onLoadedClipData=function(e,t){t&&(this._clip=t.clipData||null),this._aspectRatio_ull,this._checkFullScreen(){this._handleInView(!1)},o.prototype._convertHex=function(e,t){return e=e.replace("#",""),"rgba("+parseInt(e.substring(0,2),16)+","+parseInt(e.substring(2,4),16)+","+parseInt(e.substring(4,6),16)+","+t/100+")"},o.prototype._initStickyness=function(){var e,t;if(this._alwaysFloat="true"===(null===(e=this._playoutData)||void 0===e?void 0:e.alwaysFloat)&&this._stickyMode&&"none"!==this._stickyMode&&"disabled"!==this._stickyMode,this._disableFloatAnimation="true"===(null===(t=this._playoutData)||void 0===t?void 0:t.disableFloatAnimation)&&this._stickyMode&&"none"!==this._stickyMode,90===Math.abs(window.orientation)||!this._stickyMode||-1===["stickTop","stickBoth","stickBottomRight","stickBottomLeft","stickTopRight","stickTopLeft","stickDownBottomRight","stickDownBottomLeft","stickDownTopCenter","stickToElement"].indexOf(this._stickyMode))return!1;switch(this._stickyMode){case"stickBoth":case"stickBottomRight":case"stickBottomLeft":case"stickTopRight":case"stickTopLeft":case"stickDownBottomRight":case"stickDownBottomLeft":case"stickDownTopCenter":case"stickToElement":var n,a,o,s;this._disableFloatAnimation?this._animationSpeedMove=0:this._animationSpeedMove=500;var l,r={"transition-property":"top, right, bottom, left","transition-duration":"".concat(this._animationSpeedMove/1e3,"s")};if(!this._alwaysFloat)null===(l=this.$wrapperAbovePlayer)||void 0===l||l.css(r),this.$element.css(r);this._$moveBackButton=$parcel$interopDefault(i)('<div class="bb-float-close-button">&times;</div>'),this._$moveBackButton.css({cursor:"pointer",fontSize:"20px",boxSizing:"border-box",right:"0",top:"-26px",fontWeigth:"bold",borderRadius:"25px",lineHeight:"10px",padding:"5px",fontWeight:"bold",border:"2px solid #"+(null===(n=this._playoutData)||void 0===n?void 0:n.skin_foregroundColor),position:"absolute",display:"none",overflow:"hidden",backgroundColor:this._convertHex(null===(a=this._playoutData)||void 0===a?void 0:a.skin_backgroundColor,null===(o=this._playoutData)||void 0===o?void 0:o.alphaControlBar),color:"#"+(null===(s=this._playoutData)||void 0===s?void 0:s.skin_foregroundColor)}),this._$moveBackButton.on("click",this._onMoveBackClickBound),(!this._alwaysFloat&&!this._staySticky||(this._alwaysFloat||this._staySticky)&&this._showFloatingCloseButton)&&this.$element.append(this._$moveBackButton)}this._useStickyMode=this._stickyMode&&"none"!==this._stickyMode&&"disabled"!==this._stickyMode,this._inittedStickyness=!0},o.prototype._checkStickyness=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e||this._wrapperIsInView&&!this._alwaysFloat&&!(this._staySticky&&this._isSticky);if(this._useStickyMode&&"collapsed"!==this._showState&&(this._inittedStickyness||a)){this._executer||(this._executer=n.default.getService(this._opts.playerAliasOrId).getInstance("Executer"));var o=0,s=0,l=window.innerWidth>=454?400:window.innerWidth-54,r=this._getAspectRatio();this._executer&&this._executer.execute&&this._playoutData&&(this._playoutData.distanceFromTop&&(o=Number(this._executer.execute(this._playoutData.distanceFromTop))||0),this._playoutData.distanceFromBottom&&(s=Number(this._executer.execute(this._playoutData.distanceFromBottom))||0),this._playoutData.floatingWidth&&(l=Number(this._executer.execute(this._playoutData.floatingWidth))||l));var d=this.$interactivityWrapper||$parcel$interopDefault(i)("<div></div>"),u=this.$element||$parcel$interopDefault(i)("<div></div>"),c=this.$wrapperAbovePlayer||$parcel$interopDefault(i)("<div></div>"),h=d.length&&d[0].getBoundingClientRect?d[0].getBoundingClientRect():{top:0,left:0,width:0,height:0},p=u.length&&u[0].getBoundingClientRect?u[0].getBoundingClientRect():{top:0,left:0,width:0,height:0},_=c.length&&c[0].getBoundingClientRect?c[0].getBoundingClientRect():{top:0,left:0,width:0,height:0};if("stickToElement"===this._stickyMode&&void 0!==this._playoutData.domFloatElement){var m=$parcel$interopDefault(i)(this._playoutData.domFloatElement)[0];if(m){var f=m.getBoundingClientRect(),v=f.top+document.documentElement.scrollTop,g=f.bottom-p.height+document.documentElement.scrollTop,y=this._windowHeight-f.bottom,b=f.x+"px",w=f.x+f.width-l+"px";v=document.documentElement.scrollTop<v?v-document.documentElement.scrollTop+"px":document.documentElement.scrollTop>g?g-document.documentElement.scrollTop+"px":o?o+"px":"20px",f.bottom>this._windowHeight&&(y=s?s+"px":"20px")}else if(t<3)return void setTimeout(this._checkStickyness.bind(this),25,e,++t)}var k=this._playoutData,$=window.innerHeight/2,C=(h.top+h.bottom)/2,S=C<$?"above":"below",P=!this._wrapperIsInView&&"below"===S,x=!this._wrapperIsInView&&"above"===S;switch(this._stickyMode){case"stickTop":null==this._iaOrigZIndex&&(this._iaOrigZIndex=d.css("zIndex")),d.css({position:"fixed",zIndex:9999999,bottom:"auto",width:"100%",top:o+"px",left:0}),$parcel$interopDefault(i)("body").css({paddingTop:d.height()+"px"}),this._isSticky=!0;break;case"stickBoth":var A,I;if(this._forceClosed&&(x=!1,P=!1),a||!x&&!P)u.css({position:"relative",top:"auto",bottom:"auto"}),isNaN(parseFloat(this._elOrigZIndex))||u.css("zIndex",this._elOrigZIndex),null===(A=this._$moveBackButton)||void 0===A||A.hide(),null===(I=this._$closeButton)||void 0===I||I.show(),this._isSticky=!1;else if(x&&!this._forceClosed){var T,D;null==this._elOrigZIndex&&(this._elOrigZIndex=u.css("zIndex")),u.css({position:"fixed",zIndex:9999999,top:o+30+"px",bottom:"auto",width:d.width()+"px"}),null===(T=this._$moveBackButton)||void 0===T||T.show(),null===(D=this._$closeButton)||void 0===D||D.hide(),this._isSticky=!0}else if(P&&!this._forceClosed){var M,E;null==this._elOrigZIndex&&(this._elOrigZIndex=u.css("zIndex")),u.css({position:"fixed",zIndex:9999999,bottom:s+"px",top:"auto",width:d.width()+"px"}),null===(M=this._$moveBackButton)||void 0===M||M.show(),null===(E=this._$closeButton)||void 0===E||E.hide(),this._isSticky=!0}break;case"stickBottomRight":case"stickBottomLeft":case"stickTopRight":case"stickTopLeft":case"stickDownBottomRight":case"stickDownBottomLeft":case"stickDownTopCenter":case"stickToElement":var B,L,R=0;if(k&&k.minimumFloatWidth&&(R=Number(k.minimumFloatWidth)),a||(!this._staySticky&&!this._alwaysFloat||this._forceClosed)&&("stickToElement"!==this._stickyMode||!this._isSticky||this._forceClosed||this._wrapperIsInView)&&(this._ended||this._animatingPosition||!((window.innerWidth||window.clientWidth)>R)||this._forceClosed||this._isSticky||!this._playing||this._wrapperIsInView||(null===(B=this.api)||void 0===B?void 0:B.isFullscreen()))){if(this._isSticky&&!this._animatingPosition&&(this._wrapperIsInView||this._forceClosed||a)&&!(null===(L=this.api)||void 0===L?void 0:L.isFullscreen())){var q,H,O,j,z=this;u.triggerHandler("bb_returned_from_sticky_position"),null===(q=this._$moveBackButton)||void 0===q||q.hide(),null===(H=this._$closeButton)||void 0===H||H.show(),this._isSticky=!1,d.css({position:"relative",top:"",left:"",right:"",bottom:"",width:"",maxWidth:""}),null!=this._iaOrigZIndex&&d.css("zIndex",this._iaOrigZIndex),u.css({position:"relative",top:"",left:"",right:"",bottom:"",margin:"0px auto",width:(null===(O=k.width)||void 0===O?void 0:O.indexOf("%"))>-1?k.width:k.width+"px",maxWidth:k.maxWidth?k.maxWidth+"px":"",height:"0px"}),c.css({position:"relative",top:"",left:"",right:"",bottom:"",margin:"0px auto",height:"14px",width:(null===(j=k.width)||void 0===j?void 0:j.indexOf("%"))>-1?k.width:k.width+"px",maxWidth:""}),null!=this._elOrigZIndex&&(u.css("zIndex",this._elOrigZIndex),c.css("zIndex",this._elOrigZIndex)),setTimeout((function(){z._animatingPosition=!1}),this._animationSpeedMove),this._forceClosed&&(this._forceClosed=!1)}}else{var V=this;if(null==this._elOrigZIndex&&(this._elOrigZIndex=u.css("zIndex")),!this._alwaysFloat&&P&&("stickDownBottomLeft"===this._stickyMode||"stickDownBottomRight"===this._stickyMode||"stickDownTopCenter"===this._stickyMode))break;if("stickToElement"===this._stickyMode&&(""===k.domFloatElement||!f))break;u.triggerHandler("bb_to_sticky_position");var F=l/r,U=s?s+"px":"27px",N=o?o+"px":"27px",W="27px",Q="27px",J=(window.innerHeight||document.documentElement.clientHeight)-p.top-p.height+"px",K=(window.innerWidth||document.documentElement.clientWidth)-p.left-p.width+"px",Y=(window.innerHeight||document.documentElement.clientHeight)-_.top-_.height+"px",G=["stickBottomLeft","stickTopLeft","stickDownBottomLeft"].includes(this._stickyMode),X=["stickTopLeft","stickTopRight","stickDownTopCenter"].includes(this._stickyMode),Z={position:"fixed",zIndex:9999999,width:u.width()+"px",height:u.height()+"px"},ee={position:"fixed",zIndex:9999999,width:u.width()+"px"};G?(Z.left=p.left+"px",ee.left=_.left+"px"):(Z.right=K,ee.right=K),X?(Z.top=p.top+"px",ee.top=_.top+"px"):(Z.bottom=J,ee.bottom=Y),u.css(Z),c.css(ee),this._animatingPosition=this._disableFloatAnimation;var te={position:"fixed",zIndex:9999999,width:l+"px"};if("stickToElement"===this._stickyMode){if((null==k?void 0:k.domFloatElement)&&f){var ie=k.domElementAlignment||"stickTopRight";"stickTopLeft"!==ie&&"stickBottomLeft"!==ie||(te.left=b,te.marginLeft=0),"stickTopLeft"!==ie&&"stickTopRight"!==ie||(te.top=v),"stickBottomRight"!==ie&&"stickTopRight"!==ie||(te.left=w),"stickBottomRight"!==ie&&"stickBottomLeft"!==ie||(te.bottom=y)}}else G?(te.left=W,te.marginLeft=0):te.right=Q,X?te.top=N:te.bottom=U,"stickDownTopCenter"===this._stickyMode&&(te.right="calc(50% - "+l/2+"px)");if(requestAnimationFrame((function(){var e={};X?e.top=parseInt(te.topte.bottom)+parseInt(F)+"px",u.css(Object.assign({},te,{height:F})),c.css(Object.assign({},te,e))})),"stickToElement"===this._stickyMode&&(this._animationSpeedMove=0),setTimeout((function(){V._animatingPosition=!1}),this._animationSpeedMove||1e3/60),this._isSticky=!0,this._alwaysFloat||this._staySticky){var ne,ae,oe,se;if(this._playoutData&&this._showFloatingCloseButton)null===(ne=this._$moveBackButton)||void 0===ne||ne.show(),null===(ae=this._$closeButton)||void 0===ae||ae.hide();else null===(oe=this._$moveBackButton)||void 0===oe||oe.hide(),null===(se=this._$closeButton)||void 0===se||se.show();this.$interactivityWrapper.css("position","absolute")}else{var le,re;null===(le=this._$moveBackButton)||void 0===le||le.show(),null===(re=this._$closeButton)||void 0===re||re.hide()}}}}this.$element.triggerHandler("bb_sticky_check_done",[{isSticky:this._isSticky}])},o.prototype.isStickyModeEnabled=function(){return this._useStickyMode},o.prototype.isSticky=function(){return this._isSticky},o.prototype._forceClose=function(e){var t=this;thist||this._staySticky)&&this._showFloatingCckButton.hide(),setTimeout((function(){t._justForceClosed=!1,t._checkStickyness()}),100))},o.prototype._onOrientationChange=function(){this._onPlayerResize(),this._onWindowResize(),this._checkFullScreenMismatch()},o.prototype._checkFullScreenMismatch=function(){var e=this.$element&&this.$element.height()>0?this.$element.width()/this.$element.height():1,t=this._getAspectRatio_media()||1,i=null!==(document.fullscreenElement||document.fullScreenElement||document.mozFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.webkitFullScreenElement||document.msFullscreenElement),n=(e<1&&t>1||e>1&&t<1)&&(i||this._fullscreen);this._fullScreenMismatcen_mismatch",[{fullScreenMismatch:this._fullScreenMismatch,displayOrientation:e<1?"portrait":"landscape"}]))},o.prototype._onPlayerResize=function(){window.dispatchEvent(new CustomEvent("scroll",{detail:"fake"}))},o.prototype._onWindowResize=function(){this._updateWindowSize(),this._autoHeight&&this._updateHeight(),this.$element.triggerHandler("bb_resized"),window.dispatchEvent(new CustomEvent("scroll",{detail:"fake"}))},o.prototype._updateWindowSize=function(){this._windowWidth=$parcel$interopDefault(i)(window).width(),this._windowHeight=$parcel$interopDefault(i)(window).height()},o.prototype._updateHeight=function(){if((!this._animatingPosition||this._animatingPosition&&this._recentFullscreenChange)&&!this._exited&&this.api&&!this.api.isFullscreen()){var e=Math.round(this._playerWidth/this._getAspectRatio()),t=e-this.$element.height();Math.abs(t)>=.5&&((!this._deltaHeight_0||t/this._deltaHeight_0>0||!this._deltaHeight_1||t/this._deltaHeight_1<0)&&(this.$element.height(e),this.$element.triggerHandler("bb_resized"),void 0===this.$interactivityWrapper||"collapsed"===this._showState||this._isSticky?this._playoutData.maxWidth&&("stickBottomRight"===this._stickyMode||"stickBottomLeft"===this._stickyMode||"stickTopRight"===this._stickyMode||"stickTopLeft"===this._stickyMode||"stickDownBottomRight"===this._stickyMode||"stickDownBottomLeft"===this._stickyMode||"stickDownTopCenter"===this._stickyMode||"stickToElement"===this._stickyMode)&&!this._inittedStickyness&&this._showState:this.$interactivityWrapper.height(e+this._extraHeight)),this._deltaHeight_1=this._deltaHeight_0,this._deltaHeight_0=t)}},o.prototype._getAspectRatio=function(e){return this._aspectRatio&&!e?this._aspectRatio:(this._aspectRatio=this._getAspectRatio_override()||this._getAspectRatio_media()||this._getAspectRatio_clip(),this._aspectRatio?this._aspectRatio:16/9)},o.prototype._getAspectRatio_override=function(){if(null==this._aspectRatio_override&&this._playoutData&&this._playoutData.aspectRatio&&-1!==this._playoutData.aspectRatio.indexOf(":")){var e=this._playoutData.aspectRatio.split(":");e[0]>0&&e[1]>0&&(this._aspectRatio_override=Number(e[0])/Number(e[1]))}return this._aspectRatio_override},o.prototype._getAspectRatio_media=function(){if(null===this._aspectRatio_media&&this._assets)for(var e=this._assets.length-1;e>=0;){if(this._assets[e].width>0&&this._assets[e].height>0){this._aspectRatio_media=this._assets[e].width/this._assets[e].height;break}e--}return this._aspectRatio_media},o.prototype._getAspectRatio_clip=function(){return null==this._aspectRatio_clip&&this._clip&&(this._clip.width>0&&this._clip.height>0?this._aspectRatio_clip=this._clip.width/this._clip.height:this._clip.originalWidth>0&&this._clip.originaHeight>0&&(this._aspectRatio_clip=this._clip.originalWidth/this._clip.originaHeight)),this._aspectRatio_clip},o.prototype._onAdSizeChanged=function(e,t){var i,n,a;"mainroll"===(null===(i=this._opts.clipData)||void 0===i?void 0:i.mediatype)&&(0===(null==t?void 0:t.adWidth)||0===(null==t?void 0:t.adHeight)||(null===(n=this._playoutData)||void 0===n||null===(a=n.aspectRatio)||void 0===a?void 0:a.includes(":"))||(this._aspectRatio=t.adWidth/t.adHeight,this._autoHeight?this._updateHeight():this.$element.triggerHandler("bb_resized")))}})),parcelRequire.register("kwjDq",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("ctd4m")).then((function(){return parcelRequire("8dbZw")}))})),parcelRequire.register("hW0rB",(function(e,t){$parcel$export(e.exports,"default",(function(){return l})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6");parcelRequire("2UpbQ");var a=parcelRequire("eV1xY"),o=parcelRequire("cWdJP"),s=parcelRequire("1MxPP"),l=function(){"use strict";function e(t,n){if(i.default(this,e),this.$element=t,this._opts=n||{},this._interactivity_mouseIn=null,this._interactivity_mouseOut=null,this._allowMouseActions=!0,this._forceMouseActions=!1,this._ready=!1,this._mouseIn=!1,this._mouseOverInterval=null,this._autoPaused=!1,this._ended=!1,this._playing=!1,this._started=!1,this._exited=!1,this._playoutData=this._opts.playoutData||null,this._playoutData&&(this._interactivity_mouseIn=this._playoutData.interactivity_mouseIn,this._interactivity_mouseOut=this._playoutData.interactivity_mouseOut,this._interactivity_onClick=this._playoutData.interactivity_onClick,this._playout_youTubeSkinInMainPhase="true"===this._playoutData.youTubeSkinInMainPhase),o.default.getService(this._opts.playerAliasOrId).setInstance("MouseController",this),this._detections=o.default.getService(this._opts.playerAliasOrId).getInstance("Detections"),this._isTouchDevice=this._detections.isTouchDevice,this.$element){var s=this;this._onPlayerReadyBound=this._onPlayerReady.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onMediaFinishedBound=this._onMediaFinished.bind(this),this._onMsasMainFinishedBound=this._onMsasMainFinished.bind(this),this._onAutoPauseBound=this._onAutoPause.bind(this),this._onPlayerPausedBound=this._onPlayerPaused.bind(this),this._onPlayerPlayingBound=this._onPlayerPlaying.bind(this),this._onTouchEventBound=this._onTouchEvent.bind(this),this._onMouseInBound=this._onMouseIn.bind(this),this._onMouseOutBound=this._onMouseOut.bind(this),this._onClickBound=this._onClick.bind(this),this._onWindowBlurBound=this._onWindowBlur.bind(this),this._onWindowFocusBound=this._onWindowFocus.bind(this),"true"===this._playoutData.waitForPageReady||this._allowMouseActions&&!$parcel$interopDefault(a).isReady&&this._interactivity_mouseIn&&"none"!==this._interactivity_mouseIn?$parcel$interopDefault(a)((function(){s._playerIsReady=s.$element.attr("data-isready"),"true"===s._playerIsReady?s._onPlayerReady():s.$element.on("ready",s._onPlayerReadyBound)})):(this._playerIsReady=this.$element.attr("data-isready"),"true"===this._playerIsReady?this._onPlayerReady():this.$element.on("ready",this._onPlayerReadyBound)),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.on("bb_media_finished",this._onMediaFinishedBound),this.$element.on("bb_msas_main_finished",this._onMsasMainFinishedBound),this.$element.on("bb_program_autopause",this._onAutoPauseBound),this.$element.on("pause",this._onPlayerPausedBound),this.$element.on("playing",this._onPlayerPlayingBound)}}return n.default(e,[{key:"exit",value:function(){return this._exited=!0,this.$element.off("ready",this._onPlayerReadyBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.off("bb_media_finished",this._onMediaFinishedBound),this.$element.off("bb_msas_main_finished",this._onMsasMainFinishedBound),this.$element.off("bb_program_autopause",this._onAutoPauseBound),this.$element.off("pause",this._onPlayerPausedBound),this.$element.off("playing",this._onPlayerPlayingBound),window.removeEventListener("touchstart",this._onTouchEventBound),window.removeEventListener("touchend",this._onTouchEventBound),this.disable(),o.default.getService(this._opts.playerAliasOrId).setInstance("MouseController",null),null}},{key:"enable",value:function(){if(!this._enabled){var e;this._enabled=!0;var t=null===(e=this.$element)||void 0===e?void 0:e.get(0);t&&(this._isTouchDevice||(t.addEventListener("mouseenter",this._onMouseInBound),t.addEventListener("mouseleave",this._onMouseOutBound)),t.addEventListener("click",this._onClickBound)),window.addEventListener("blur",this._onWindowBlurBound),window.addEventListener("focus",this._onWindowFocusBound)}}},{key:"disable",value:function(){if(this._enabled){var e;this._enabled=!1;var t=null===(e=this.$element)||void 0===e?void 0:e.get(0);t&&(this._isTouchDevice||(t.removeEventListener("mouseenter",this._onMouseInBound),t.removeEventListener("mouseleave",this._onMouseOutBound)),t.removeEventListener("click",this._onClickBound)),window.removeEventListener("blur",this._onWindowBlurBound),window.removeEventListener("focus",this._onWindowFocusBound)}}},{key:"_onPlayerReady",value:function(){if(this._api=o.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this._forceMouseActions)this._allowMouseActions=!0;else{var e,t=null===(e=this._api)||void 0===e?void 0:e.getMuted();this._detections.canControlVolume||t&&this._detections.canAutoPlayMuted||"true"!==this._playoutData.nsiNoAutoPlay||(this._allowMouseActions=!1)}var i,n,a;this._allowMouseActions&&((null===(i=this._interactivity_onClick)||void 0===i?void 0:i.indexOf("open link"))>-1?null===(n=this.$element)||void 0===n||n.css("cursor","pointer"):null===(a=this.$element)||void 0===a||a.css("cursor","auto"));if(!this._ready){var s=this;this._ready=!0,window.addEventListener("touchstart",this._onTouchEventBound,{passive:!0}),window.addEventListener("touchend",this._onTouchEventBound,{passive:!0}),this.enable(),setTimeout((function(){!s._playing&&s._mouseIn&&s._intendedResume&&s._play()}),1)}}},{key:"_play",value:function(){if(this._playDeltaTime=(new Date).getTime(),this._detections.isiOS&&this._playDeltaTimePrev&&this._playDeltaTime-this._playDeltaTimePrev<500)return!1;var e;(this._playDeltaTimePrev=this._playDeltaTime,!this._allowMouseActions||this._ended||this._autoPaused)||(this._intendedResume=!0,null===(e=this._api)||void 0===e||e.play(!1))}},{key:"_pause",value:function(){var e;this._allowMouseActions&&(this._intendedResume=!1,null===(e=this._api)||void 0===e||e.pause(!1))}},{key:"_setMuted",value:function(e){var t;this._allowMouseActions&&(null===(t=this._api)||void 0===t||t.setMuted(e,!1,!1))}},{key:"_onPlayoutChanged",value:function(e,t){if(null==t?void 0:t.playoutData){var i,n;if(void 0!==t.playoutData.interactivity_mouseIn&&(this._interactivity_mouseIn=t.playoutData.interactivity_mouseIn),void 0!==t.playoutData.interactivity_mouseOut&&(this._interactivity_mouseOut=t.playoutData.interactivity_mouseOut),void 0!==t.playoutData.interactivity_onClick)this._interactivity_onClick=t.playoutData.interactivity_onClick,this._interactivity_onClick.indexOf("open link")>-1?null===(i=this.$element)||void 0===i||i.css("cursor","pointer"):null===(n=thiutData.youTubeSkinInMainPhase&&(this._playout_youTubeSkinInMainPhase="true"===t.playoutData.youTubeSkinInMainPhase)}}},{key:"_onLoadedClipData",value:function(e){window.dispatchEvent(new CustomEvent("mousemove"))}},{key:"_onAutoPause",value:function(e,t){this._autoPaused=!0}},{key:"_onPlayerPaused",value:function(e){this._playing=!1}},{key:"_onPlayerPlaying",value:function(e){this._ended=!1,this._playing=!0,this._autoPaused=!1}},{key:"_onMediaFinished",value:function(e){this._ended=!0,this._playing=!1,this.$element.css("cursor","auto")}},{key:"_onMsasMainFinished",value:function(){var e;"mainroll"===(null===(e=this._opts.clipData)||void 0===e?void 0:e.mediatype)&&(this._ended=!0,this._playing=!1),this.$element.css("cursor","auto")}},{key:"_onTouchEvent",value:function(e,t){t&&t.ignore||!this._playing&&this._mouseIn&&this._intendedResume&&this._play()}},{key:"_onMouseIn",value:function(e){var t,i=this;if(!this._mouseIn){s.default("[MouseController] _onMouseIn"),this._mouseIn=!0,this._mouseOverInterval&&clearInterval(this._mouseOverInterval);var n=1;switch(this._mouseOverInterval=setInterval((function(){i.$element&&i.$element.trigger("bb_mouseover_x_s",[{interval:n}]),n++}),1e3),null===(t=this._interactivity_mouseIn)||void 0===t?void 0:t.toUpperCase()){case"PLAY":this._play();break;case"UNMUTE":this._setMuted(!1);break;case"PLAY AND UNMUTE":this._setMuted(!1),this._play()}}}},{key:"_onMouseOut",value:function(e){var t;if(this._mouseIn)switch(s.default("[MouseController] _onMouseOut"),this._mouseIn=!1,this._mouseOverInterval&&clearInterval(this._mouseOverInterval),null===(t=this._interactivity_mouseOut)||void 0===t?void 0:t.toUpperCase()){case"PAUSE":this._pause();break;case"MUTE":this._setMuted(!0);break;case"PAUSE AND MUTE":this._setMuted(!0),this._pause()}}},{key:"_onWindowBlur",value:function(e){if(this._mouseIn&&!this._mouseWasIn)return this._mouseWasIn=!0,this._onMouseOut(e)}},{key:"_onWindowFocus",value:function(e){if(!this._mouseIn&&this._mouseWasIn)return this._mouseWasIn=!1,this._onMouseIn(e)}},{key:"_onClick",value:function(e){var t;if(s.default("[MouseController] _onClick"),(!this._ended||this._playout_youTubeSkinInMainPhase)&&!$parcel$interopDefault(a)(e.target).parents(".bb-commercial-layer, .bb-timeline-layer").length){var i=this._playoutData.clickUrl;switch(i&&-1===i.indexOf("http://")&&-1===i.indexOf("https://")&&(i="https://"+i),null===(t=this._interactivity_onClick)||void 0===t?void 0:t.toUpperCase()){case"PLAY OR PAUSE":var n,o;if(this._playing)null===(n=this._api)||void 0===n||n.pause(!1),this._playing=!1;else null===(o=this._api)||void 0===o||o.play(!1),this._playing=!0;break;case"OPEN LINK IN CURRENT WINDOW":var l;null===(l=this._api)||void 0===l||l.doOpenUrl(i,"_self",!0);break;case"OPEN LINK IN NEW WINDOW":var r,d;null===(r=this._api)||void 0===r||r.doOpenUrl(i,"_blank",!0),null===(d=this._api)||void 0===d||d.pause(!1),this._playing=!1;break;default:var u;if(!this._started)this._started=!0,null===(u=this._api)||void 0===u||u.play(!0),this._playing=!0}}}}]),e}()})),parcelRequire.register("hS874",(function(e,t){$parcel$export(e.exports,"default",(function(){return d})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=parcelRequire("dwEjG");parcelRequire("2UpbQ");var o=parcelRequire("eV1xY"),s=parcelRequire("cWdJP"),l=parcelRequire("1MxPP"),r=parcelRequire("eeIYx"),d=function(){"use strict";function e(t,n){if(i.default(this,e),this.$element=t,this._opts=n||{},this._interactivity_inView=null,this._interactivity_outView=null,this._inviewMarginThreshold=.5,this._allowInviewActions=!0,this._forceInviewActions=!1,this._startCollapsed=!1,this._ready=!1,this._enabled=!1,this._documentVisible=!0,this._inView=!1,this._inViewForced=null,this._inViewDetected=!1,this._autoPaused=!1,this._ended=!1,this._playing=!1,this._collapsed=!1,this._playoutData=this._opts.playoutData||null,this._playoutData){this._interactivity_inView=this._playoutData.interactivity_inView,this._interactivity_outView=this._playoutData.interactivity_outView;var a="stickBoth"===this._playoutData.stickyMode?.999:parseInt("".concat(this._playoutData.inviewMargin).replace("%",""))/100;this._inviewMarginThreshold=isNaN(a)?.5:a,this._forceInviewActions="true"===this._playoutData.forceInview,this._startCollapsed="true"===this._playoutData.startCollapsed,this._showOnlyWhenPrerollAvailable="true"===this._playoutData.showOnlyWhenPrerollAvailable,this._showOnlyWhenPrerollAvailable&&(this._startCollapsed=!0),this._startCollapsed&&(this._collapsed=!0)}if(s.default.getService(this._opts.playerAliasOrId).setInstance("InViewController",this),this._detections=s.default.getService(this._opts.playerAliasOrId).getInstance("Detections"),this._interactivity=s.default.getService(this._opts.playerAliasOrId).getInstance("Interactivity"),this._detections.canPlayInline||(this._allowInviewActions=!1),this._detections.isiPhone&&this._detections.iOSVersion<10&&(this._allowInviewActions=!1),this.$iaWrapper=null,this._iaWrapperIsectObserver=null,this._isectObserver=null,this.$element){var l=this;this.$iaWrapper=this.$element.closest(".bb_iawr"),this._onPlayerReadyBound=this._onPlayerReady.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onMediaFinishedBound=this._onMediaFinished.bind(this),this._onMsasMainFinishedBound=this._onMsasMainFinished.bind(this),this._onAutoPauseBound=this._onAutoPause.bind(this),this._onFlagChangeBound=this._onFlagChange.bind(this),this._onCollapsedBound=this._onCollapsed.bind(this),this._onExpandedBound=this._onExpanded.bind(this),this._onPlayerPausedBound=this._onPlayerPaused.bind(this),this._onPlayerPlayingBound=this._onPlayerPlaying.bind(this),this._onMediaLoadedMetadataBound=this._onMediaLoadedMetadata.bind(this),this._onTouchEventBound=this._onTouchEvent.bind(this),this._onInViewBound=this._onInView.bind(this),this._onOutViewBound=this._onOutView.bind(this),this._onVisibilityChangeBound=this._onVisibilityChange.bind(this),this._onMessageBound=this._onMessage.bind(this),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.on("bb_media_loadedmetadata",this._onMediaLoadedMetadataBound),this.$element.on("bb_media_finished",this._onMediaFinishedBound),this.$element.on("bb_msas_main_finished",this._onMsasMainFinishedBound),this.$element.on("bb_program_autopause",this._onAutoPauseBound),this.$element.on("bb_flagchange",this._onFlagChangeBound),this.$element.on("bb_collapsed",this._onCollapsedBound),this.$element.on("bb_expanded",this._onExpandedBound),this.$element.on("pause",this._onPlayerPausedBound),this.$element.on("playing",this._onPlayerPlayingBound),"true"===this._playoutData.waitForPageReady||this._allowInviewActions&&!$parcel$interopDefault(o).isReady&&this._interactivity_inView&&"none"!==this._interactivity_inView?$parcel$interopDefault(o)((function(){l._playerIsReady=l.$element.attr("data-isready"),"true"===l._playerIsReady?l._onPlayerReady():l.$element.on("ready",l._onPlayerReadyBound)})):(this._playerIsReady=this.$element.attr("data-isready"),"true"===this._playerIsReady?this._onPlayerReady():this.$element.on("ready",this._onPlayerReadyBound))}}return n.default(e,[{key:"exit",value:function(){var e,t;return this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.off("bb_media_loadedmetadata",this._onMediaLoadedMetadataBound),this.$element.off("bb_media_finished",this._onMediaFinishedBound),this.$element.off("bb_msas_main_finished",this._onMsasMainFinishedBound),this.$element.off("bb_program_autopause",this._onAutoPauseBound),this.$element.off("bb_flagchange",this._onFlagChangeBound),this.$element.off("pause",this._onPlayerPausedBound),this.$element.off("playing",this._onPlayerPlayingBound),this.$element.off("ready",this._onPlayerReadyBound),window.removeEventListener("touchstart",this._onTouchEventBound),window.removeEventListener("touchend",this._onTouchEventBound),document.removeEventListener("visibilitychange",this._onVisibilityChangeBound),window.removeEventListener("message",this._onMessageBound),this._onScrollBoundDebounced&&(window.removeEventListener("scroll",this._onScrollBoundDebounced),this._onScrollBoundDebounced=null),null===(e=this._iaWrapperIsectObserver)||void 0===e||e.disconnect(),null===(t=this._isectObserver)||void 0===t||t.disconnect(),this.disable(),s.default.getService(this._opts.playerAliasOrId).setInstance("InViewController",null),null}},{key:"enable",value:function(){this._enabled||(this._enabled=!0,l.default("[InViewController] enable"),this.$element.on("bb_inview",this._onInViewBound),this.$element.on("bb_outview",this._onOutViewBound))}},{key:"disable",value:function(){this._enabled&&(this._enabled=!1,l.default("[InViewController] disable"),this.$element.off("bb_inview",this._onInViewBound),this.$element.off("bb_outview",this._onOutViewBound))}},{key:"setInView",value:function(e){l.default("[InViewController] setInView"),this._inViewForced=e,this._handleInViewModified()}},{key:"getInView",value:function(){return this._inView}},{key:"_onPlayerReady",value:function(){if(this._api=s.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this._forceInviewActions)this._allowInviewActions=!0;else{var e,t,i=null===(e=this._api)||void 0===e?void 0:e.getFlag("canPlayInline");null!=i&&(this._allowInviewActions=!!i);var n=null===(t=this._api)||void 0===t?void 0:t.getMuted();this._detections.canControlVolume||n&&this._detections.canAutoPlayMuted||"true"!==this._playoutData.nsiNoAutoPlay||(this._allowInviewActions=!1)}if(!this._ready){var a=this;if(this._ready=!0,l.default("[InViewController] _onPlayerReady _allowInviewActions: "+this._allowInviewActions),this._debugMode=l.debugMode&&"none"!==this._interactivity_inView,this._debugMode){var r,d,u,c,h={publication:this._playoutData.publication,adUnit:null===(r=this._opts.adServicesData)||void 0===r||null===(d=r[0])||void 0===d?void 0:d.code,placementOption:this._opts.playoutData.placementOption,placementDOMSelector:this._opts.playoutData.placementDOMSelector||"",preloadMainroll:this._opts.playoutData.preloadMainroll||!1,iframeBreakout:this._opts.playoutData.iframeBreakout||!1,inviewMargin:this._opts.playoutData.inviewMargin};if(console.table(h),(null===(u=this._opts.adServicesData)||void 0===u?void 0:u.length)&&(null===(c=this._opts.adServicesData[0].lineitems)||void 0===c?void 0:c.length)){var p=this._opts.adServicesData[0],_=[],m=!0,f=!1,v=void 0;try{for(var g,y=p.lineitems[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var b=g.value;_.push({code:b.code,vast_url:b.vast_url})}}catch(e){f=!0,v=e}finally{try{m||null==y.return||y.return()}finally{if(f)throw v}}console.table(_)}this._$debugDiv=$parcel$interopDefault(o)('<div style="border:1px dashed #0f0;display:block;position:fixed;pointer-events:none !important;"></div>'),$parcel$interopDefault(o)("body").append(this._$debugDiv)}this.enable(),window.addEventListener("touchstart",this._onTouchEventBound,{passive:!0}),window.addEventListener("touchend",this._onTouchEventBound,{passive:!0}),document.addEventListener("visibilitychange",this._onVisibilityChangeBound),this._isAMP=window.location.hash.indexOf("amp=1")>-1,this._isAMP?(window.addEventListener("message",this._onMessageBound),windowtionObserver?this._setupIntersectionObservers():parcelRequire("iKHwG").then((function(){a._setupIntersectionObservers()})).catch((function(){l.default("[InViewController] Failed to polyfill IntersectionObserver")})),setTimeout((function(){!a._playing&&a._inView&&a._intendedResume&&a._play()}),1)}}},{key:"_play",value:function(){if(this._playDeltaTime=(new Date).getTime(),this._detections.isiOS&&this._playDeltaTimePrev&&this._playDeltaTime-this._playDeltaTimePrev<500)return!1;var e;(this._playDeltaTimePrev=this._playDeltaTime,!this._allowInviewActions||this._ended||this._autoPaused)||(this._intendedResume=!0,null===(e=this._api)||void 0===e||e.play(!1))}},{key:"_pause",value:function(){var e;this._allowInviewActions&&(this._intendedResume=!1,null===(e=this._api)||void 0===e||e.pause(!1))}},{key:"_setMuted",value:function(e){var t;this._allowInviewActions&&(null===(t=this._api)||void 0===t||t.setMuted(e,!1,!1))}},{key:"_onPlayoutChanged",value:function(e,t){if(null==t?void 0:t.playoutData){if(void 0!==t.playoutData.interactivity_inView&&(this._interactivity_inView=t.playoutData.interactivity_inView),void 0!==t.playoutData.interactivity_outView&&(this._interactivity_outView=t.playoutData.interactivity_outView),void 0!==t.playoutData.inviewMargin){var i=parseInt("".concat(t.playoutData.inviewMargin).replace("%",""))/100;this._inviewMarginThreshold=isNaN(i)?.5:i}"stickBoth"===a.default(t.playoutData.stickyMode)&&(this._inviewMarginThreshold=.999),void 0!==t.playoutData.forceInview&&(this._forceInviewActions="true"===t.playoutData.forceInview)}}},{key:"_onLoadedClipData",value:function(e){window.dispatchEvent(new CustomEvent("scroll",{detail:"fake"}))}},{key:"_onFlagChange",value:function(e,t){if(t&&void 0!==t.canPlayInlin!i}}},{key:"_onCollapsed",value:function(e){this._collapsed=!0,this._triggerIaWrapperIsectObserverCallback()}},{key:"_onExpanded",value:function(e){this._collapsed=!1,this._triggerIaWrapperIsectObserverCallback()}},{key:"_setupIntersectionObservers",value:function(){var e,t,i,n;null===(e=this._iaWrapperIsectObserver)||void 0===e||e.disconnect();var a=null===(t=this.$iaWrapper)||void 0===t?void 0:t.get(0);if(a){var o,s,l,d=this,u=(null===(o=this.$element)||void 0===o?void 0:o.width())||0,c=(null===(s=this.$element)||void 0===s?void 0:s.height())||0,h=c>0?u/c:16/9,p=h>0?((null===(l=this.$iaWrapper)||void 0===l?void 0:l.width())||0)/h:c,_=Math.ceil(this._inviewMarginThreshold*p);this._iaWrapperIsectObserver=new IntersectionObserver((function(e){if(e.length){var t=e[0],i=t.boundingClientRect,n=document.documentElement.scrollHeight,o=window.innerHeight,s=a.offsetTop,l=i.top<_&&i.top>=0,u=s<_||n-s<_,c=i.top>=0&&i.top<=o&&i.bottom>=0&&i.bottom<=o,h=t.isIntersecting||l||u&&c;h||d._onScrollBoundDebounced||(d._onScrollBoundDebounced=r.default(d._onScroll.bind(d),100),window.addEventListener("scroll",d._onScrollBoundDebounced,{passive:!0})),h&&d._onScrollBoundDebounced&&(window.removeEventListener("scroll",d._onScrollBoundDebounced),d._onScrollBoundDebounced=null),d._setIaWrapperInViewDetected(h)}}),{rootMargin:"-".concat(_,"px 0px -").concat(_,"px 0px")}),this._iaWrapperIsectObserver.observe(a=null===(n=this.$element)||void 0===n?void 0:n.get(0);if(m){var f=this;this._isectObserver=new IntersectionObserver((funrsecting)}))}),{threshold:this._inviewMarginThreshold}),this._isectObserver.observe(m)}}},{key:"_setIaWrapperInViewDetected",value:function(e){this._iaWrapperInViewDetected=e,this._handleIaWrapperInViewModified()}},{key:"_handleIaWrapperInViewModified",value:function(){var e,t,i=this._iaWrapperInView;(this._iaWrapperInView=!(!this._iaWrapperInViewDetected||!this._documentVisible),this._iaWrapperInView!==i)&&(this._iaWrapperInView?(l.default("[InViewController] _handleIaWrapperInViewModified going to trigger INVIEW"),null===(e=this.$element)||void 0===e||e.triggerHandler("bb_iawr_inview")):(l.default("[InViewController] _handleIaWrapperInViewModified going to trigger OUTVIEW"),null===(t=this.$element)||void 0===t||t.triggerHandler("bb_iawr_outview")))}},{key:"_setInViewDetected",value:function(e){l.default("[InViewController] _setInViewDetected"),this._inViewDetected=e,this._handleInViewModified()}},{key:"_handleInViewModified",value:function(){var e,t,i=this._inView;(this._inView=null!=this._inViewForced?!!this._inViewForced:!(!this._inViewDetected||!this._documentVisible),this._inView!==i)&&(this._inView?(l.default("[InViewController] _handleInViewModified going to trigger INVIEW"),null===(e=this.$element)||void 0==(l.default("[InViewController] _handleInViewModified going to trigger OUTVIEW"),null===(t=this.$element)||void 0===t||t.triggerHandler("bb_outview")))}},{key:"_onAutoPause",value:function(e,t){this._autoPaused=!0}},{key:"_onPlayerPaused",valuyerPlaying",value:function(e){var t;null===(t=this._$debugDiv)||void 0===t||t.hide(),this._ended=!1,this._playing=!0,this._autoPaused=!1}},{key:"_onMediaFinished",value:function(e){this._ended=!0,this._playing=!1}},{key:"_onMsasMainFinished",value:function(){var e;"mainroll"===(null===(e=this._opts.clipData)||void 0===e?void 0:e.mediatype)&&(this._ended=!0,this._playing=!1)}},{key:"_onMediaLoadedMetadata",value:function(e){window.dispatchEvent(new CustomEvent("scroll",{detail:"fake"}))}},{key:"_onTouchEvent",value:function(e,t){t&&t.ignore||!this._playing&&this._inView&&this._intendedResume&&this._play()}},{key:"_triggerIaWrapperIsectObserverCallback",value:function(){var e,t,i,n=null====(t=this._iaWrapperIsectObserver)||void 0===t||t.unobserve(n),null===(i=this._iaWrapperIsectObserver)||void 0===i||i.observe(n))}},{key:"_onScroll",value:function(){this._triggerIaWrapperIsectObserverCallback()}},{key:"_onInView",value:function(e){var t;switch(l.default("[InViewController] _onInView"),null===(t=this._interactivity_inView)||void 0===t?void 0:t.toUpperCase()){case"PLAY":this._play();break;case"UNMUTE":this._setMuted(!1);break;case"PLAY AND UNMUTE":this._setMuted(!1),this._play()}}},{key:"_onOutView",value:function(e){if(l.default("[InViewController] _onOutView"),this._interactivity.isStickyModeEnabled()){var t=this;this._interactivity.isSticky()?this._inView||this._handleOutViewAction():this.$element.one("bb_sticky_check_done",(function(e,i){(!i.isSticky||i.isSticky&&!t._inView)&&t._handleOutViewAction()}))}else this._handleOutViewAction()}},{key:"_handleOutViewAction",value:function(){var e;switch(l.default("[InViewController] _handleOutViewAction"),null===(e=this._interactivity_outView)||void 0===e?void 0:e.toUpperCase()){case"PAUSE":this._pause();break;case"MUTE":this._setMuted(!0);break;case"PAUSE AND MUTE":this._setMuted(!0),this._pause()}}},{key:"_onVisibilityChange",value:function(e){this._documentVisible="hidden"!==document.visibilityState,this._handleIaWrapperInViewModified(),this._handleInViewModified()}},{key:"_onMessage",value:function(e){var t=(null==e?void 0:e.originalEvent)||e||{};if(t.source===window.parent&&t.data&&"amp"===t.data.sentinel&&"intersection"===t.data.type&&t.data.changes){var i=this,n=!1;t.data.changes.forEach((function(e){e.intersectionRatio>=i._inviewMarginThreshold&&(n=!0)})),this._setInViewDetected(n)}}}]),e}()})),parcelRequire.register("iKHwG",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("1Xy8G")).then((function(){return parcelRequire("jRuQ8")}))})),parcelRequire.register("3rRHZ",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var i=parcelRequire("cWdJP"),n=parcelRequire("1MxPP"),a=null,o={_data:{},getItem:function(e){return void 0!==e&&this._data.hasOwnProperty(String(e))?this._data[String(e)]:null},key:function(e){if(Object&&Object.keys&&void 0!==e&&e>=0){var t=Object.keys(this._data);return t&&t.length-1>e?t[e]:null}return null},setItem:function(e,t.length++,this._data[String(e)]=String(t))},length:0,removeItem:function(e){void 0!==e&&this.hasOwnProperty(e)&&(delete this._data[e],this.length--)},hasOwnProperty:function(e){return this._data.hasOwnProperty(e)}};try{a=window.localStorage||null}catch(e){n.default("[LocalStorage] Not allowed to access window.localStorage (Cookies are probably disabled entirely)")}if(!a){var s=navigator&&navigator.cookieEnabled&&!0===navigator.cookieEnabled;s||(document.cookie="bb_test_cookies=1",-1!==document.cookie.indexOf("bb_test_cookies=")&&(s=!0,document.cookie="bb_test_cookies=1; expires=Thu, 01-Jan-1970 00:00:01 GMT")),s?(a={getescape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){void 0!==e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=dkie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}}).length=(document.cookie.match(/\=/g)||a).length:(window.bluebillywig=window.bluebillywig||{},window.bluebillywig._localStoragePolyfill=window.bluebillywig._localStoragePolyfill||o,a=window.bluebillywig._localStoragePolyfill)}var l=function(e,t){this._opts=null,this.$element=null,this._disableCookies="false",this._inMemoryBackup=!1,this._store=null;try{this._store=a}catch(e){n.default("[LocalStorage] Could not load LocalStorage (third party cookies are probably disabled and we are running in an iFrame.")}void 0!==t&&null!=t&&(this._opts=t,void 0!==this._opts.playoutData&&this._opts.playoutData&&void 0!==this._opts.playoutData.disableCookies&&(this._disableCookies=this._opts.playoutData.disableCookies,"true"===this._disableCookies&&(this._store=o,this._inMemoryBackup=!0))),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),void 0!==e&&null!=e&&(this.$element=e,i.default.getService(this._opts.playerAliasOrId).setInstance("LocalStorage",this),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound))};l.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),i.default.getService(this._opts.playerAliasOrId).setInstance("LocalStorage",null)),this._opts=null,this.$element=null,null},l.prototype.set=function(e,t){var i=this._store;if(("true"!=this._disableCookies||"true"===this._disableCookies&&this._inMemoryBackup)&&void 0!==e&&null!=e&&""!=e){try{window!==window.parent&&window.parent.postMessage({methodName:"setLocalStorageItem",params:[e,t]},"*")}catch(e){}if(void 0!==i&&null!=i&&JSON&&void 0!==JSON.stringify)try{e.match(/^bbtl_/)?i.setItem(e,t):i.setItem(e,JSON.stringify(t)),this.$element&&this.$element.trigger("bb_localstorage_updated",[{name:e,value:t}])}catch(e){}}},l.prototype.get=function(e){var t=this._store;if(void 0!==e&&null!=e&&""!=e&&void 0!==t&&null!=t&&JSON&&void 0!==JSON.parse){var i=t.getItem(e);if(void 0!==i&&null!=i)try{return e.match(/^bbtl_/)?i:JSON.parse(i)}catch(e){}}return null},l.prototype.remove=function(e){var t=this._store;if(void 0!==e&&null!=e&&""!=e){try{window!==window.parent&&window.parent.postMessage({methodName:"setLocalStorageItem",params:[e,null]},"*")}catch(e){}if(void 0!==t&&null!=t){var i,n=t.getItem(e);t.removeItem(e),null!=n&&(null===(i=this.$element)||void 0===i||i.trigger("bb_localstorage_updated",[{name:e,value:null}]))}}},l.prototype._onPlayoutChanged=function(e,t){if(t&&void 0!==t.playoutData&&void 0!==t.playoutData.disableCookies)if(this._disableCookies=t.playoutData.disableCookies,"true"===this._disableCookies)this._store=o,this._inMemoryBackup=!0;else try{this._store=a,this._inMemoryBackup=!1}catch(e){n.default("[LocalStorage] Could not load LocalStorage (third party cookies are probably disabled and we are running in an iFrame.")}}})),parcelRequire.register("d9nui",(function(e,t){$parcel$export(e.exports,"default",(function(){return a})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP");parcelRequire("3di0y");var a=function(e,t){this.$element=null,this._opts=t,void 0!==e&&null!=e&&(this.$element=e,n.default.getService(this._opts.playerAliasOrId).setInstance("Sizer",this),this._init())};a.prototype._setupIframeComs=function(){var e=this;"functioddEventListener("message",(function(t){e._onComsMessage(t.data)})):(this._windowProxy=new window.Porthole.WindowProxy(window.location.href),this._windowProxy.addEventListener((function(t){e._onComsMessage(t.data)})),this._windowProxy.post("handshake","*"))},a.prototype._onComsMessage=function(e){"handshakeSucceeded"!=e&&"handshake"!=e||(this._haveWindowProxy=!0)},a.prototype._sendComsMessage=function(e){var t;if(null===(t=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections"))||void 0===t?void 0:t.inIframe){this._topWindowAccess||("function"==typeof window.postMessage?window.parent.postMessage(e,"*"):this._windowProxy.post(e,"*"))}},a.prototype._iFrameSetup=function(){try{this._addIframeProps(window)&&window.parent!=window.top&&this._addIframeProps(window.parent)&&window.parent.parent!=window.top&&this._addIframeProps(window.parent.parent)&&window.parent.parent.parent!=window.top&&this._addIframeProps(window.parent.parent.parent)&&window.parent.parent.parent.parent!=window.top&&this._addIframeProps(window.parent.parent.parent.parent)}catch(e){this._setupIframeComs()}},a.prototype._addIframeProps=function(e){var t=!1,i=e.parent.document.getElementsByTagName("iframe"),n=null;if(void 0!==i&&null!=i)for(var a in i)parseInt(a)>=0&&i[a]&&i[a].contentWindow==e&&(n=i[a]);return n&&(n.setAttribute("webkitallowfullscreen",""),n.setAttribute("mozallowFullscreen",""),n.setAttribute("oallowFullscreen",""),n.setAttribute("msallowFullscreen",""),n.setAttribute("allowfullscreen",""),e.parent==window.top&&(this._topWindowAccess=!0),this._parentIframes.push({iframe:n,oldStyle:null}),t=!0),t},a.prototype._init=function(){var e,t,a,o,s;this._parentIframes=[],this._topWindowAccess=!1;this._opts;this.$initialViewport=$parcel$interopDefault(i)('head meta[name="viewport"]'),this._haveWindowProxy=!1,(null===(e=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections"))||void 0===e?void 0:e.inIframe)&&this._iFrameSetup(),this._width,this._height,this._originalViewport=null,this._oldStyle=null,this._oldIframeStyle=null,this._playoutWidth=this._opts.playerWidth,this._playoutHeight=this._opts.playerHeight,this._avoidNativeFullscreen=!1,this._forceNativeFullscreen=!1,this._forceIOSNativeVideo=!1,this._forceAndroidNativeVideo=!1,this.fullscreen=!1,this._opts&&this._opts.embedData&&(this._adUnitEmbed="a"===this._opts.embedData.appIndicator||"a"===this._opts.embedData.contentIndicator),this._playout=this._opts&&this._opts.playoutData?this._opts.playoutData:null,null!=this._playout&&(this._playoutWidth=this._playout.width,this._playoutHeight=this._playout.height,this._avoidNativeFullscreen="true"===this._playout.avoidNativeFullscreen,this._forceNativeFullscreen="true"===this._playout.forceNativeFullscreen,this._forceIOSNativeVideo="true"===this._playout.forceIOSNativeVideo,this._forceAndroidNativeVideo="true"===this._playout.forceAndroidNativeVideo),this._showState="expanded",null!=this._playout&&"true"==this._playout.startCollapsed&&(this._showState="collapsed");var l=null===(t=this._playout)||void 0===t?void 0:t.width,r=null===(a=this._playout)||void 0===a?void 0:a.height,d="true"===(null===(o=this._playout)||void 0===o?void 0:o.autoHeight),u="true"===(null===(s=this._playout)||void 0===s?void 0:s.responsiveSizing);(u||void 0===r)&&(d=!0),this._percentagePlayer=(null==l?void 0:l.indexOf("%"))>-1&&(null==r?void 0:r.indexOf("%"))>-1&&!d&&!u;var c=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections");c&&(this._isiOS=c.isiOS,this._isAndroid=c.isAndroid,this._useiOS13Sizing=c.isiPhone&&c.iOSVersion>=13),this._opts&&(this._playInline=this._determinePlayInline(this._opts.clipData)),this.setWrapperSize(this._playoutWidth,this._playoutHeight),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onSubtitleChangedBound=this._onSubtitleChanged.bind(this),this._onFullscreenChangeBound=this._onFullscreenChange.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onReadyBound=this._onReady.bind(this),this._onResizeiOS13Bound=this._onResizeiOS13.bind(this),this._onKeyDownBound=this._onKeyDown.bind(this),null!=this.$element&&(this._api=n.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_subtitle_changed",this._onSubtitleChangedBound),this.$element.on("fullscreenchange",this._onFullscreenChangeBound),this.$element.on("fullscreenchanged",this._onFullscreenChangeBound),this.$element.on("webkitfullscreenchange",this._onFullscreenChangeBound),$parcel$interopDefault(i)(document).on("MSFullscreenChange",this._onFullscreenChangeBound),$parcel$interopDefault(i)(document).on("mozfullscreenchange",this._onFullscreenChangeBound),this.$element.on("loadedclipdata",this._onLoadedClipDataBound),this.$element.on("ready",this._onReadyBound),this._useiOS13Sizing&&$parcel$interopDefault(i)(window).on("resize",this._onResizeiOS13Bound))},a.prototype._determinePlayInline=function(e){var t=!1;return e&&(t="true"===e.shouldPlayInline||!0===e.shouldPlayInline,e.timelines&&e.timelines.length>=1&&(t=!0),"true"!==e.cubemapVideo&&!0!==e.cubemapVideo&&"360video"!==e.subtype&&!0!==e.isThreeSixtyVideo&&"true"!==e.isThreeSixtyVideo||(t=!0),e.subtitles&&e.subtitles.length>0&&this._hasSubtitlesOn&&(this._isiOS||this._isAndroid)&&(t=!0)),this._avoidNativeFullscreen&&(this._isiOS||this._isAndroid)&&(t=!0),t},a.prototype._onLoadedClipData=function(e,t){t&&(this._playInline=this._determinePlayInline(t.clipData)),this._adUnitEmbed||this.$element.triggerHandler("bb_resized")},a.prototype._onReady=function(e){this._adUnitEmbed||this.$element.triggerHandler("bb_resized"),this._api||(this._api=n.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"))},a.prototype._onFullscreenChange=function(e){this._isRealFullscreen=!!((null==e?void 0:e.isRealFullscreen)||document.fullscreenElement||document.fullScreenElement||document.mozFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElscreenElement),!this._isRealFullscreen&&this.fullscreen&&this.retractFullscreen(),this.$element.triggerHandler("bb_resized")},a.prototype._onFullscreenBegan=function(e){this.$element.triggerHandler("bb_resized")},a.prototype._onFullscreenEnded=function(e){this._isRealFullscreen=!1,!this._isRealFullscreen&&this.fullscreen&&this.retractFullscreen(),this.$element.triggerHandler("bb_resized")},a.prototype._onResizeiOS13=function(e){if(this.fullscreen)if(this._useiOS13Sizing){var t;try{t=window.top.innerHeight}catch(e){t=window.innerHeight}this.setWrapperSize("100vw",(t||window.innerHeight)+"px",!0)}else this.setWrapperSize("100%","100%",!0)},a.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_subtitle_changed",this._onSubtitleChangedBound),this.$element.off("fullscreenchange",this._onFullscreenChangeBound),this.$element.off("fullscreenchanged",this._onFullscreenChangeBound),this.$element.off("webkitfullscreenchange",this._onFullscreenChangeBound),$parcel$interopDefault(i)(document).off("MSFullscreenChange",this._onFullscreenChangeBound),$parcel$interopDefault(i)(document).off("mozfullscreenchange",this._onFullscreenChangeBound),this.$element.off("loadedclipdata",this._onLoadedClipDataBound),this.$element.off("ready",this._onReadyBound),$parcel$interopDefault(i)(document).off("keydown",this._onKeyDownBound),this._useiOS13Sizing&&$parcel$interopDefault(i)(window).off("resize",this._onResizeiOS13Bound),n.default.getService(this._opts.playerAliasOrId).setInstance("Sizer",null)),null},a.prototype._onPlayoutDataLoaded=function(){this.fullscreen||this.setWrapperSize(this._playoutWidth,this._playoutHeight)},a.prototype.setWrapperSize=function(e,t,i){(e||0==e)&&e.toString().match(/^[\d.+-\s]+$/)&&(e=parseFloat(e).toString()+"px"),(t||0==t)&&t.toString().match(/^[\d.+-\s]+$/)&&(t=parseFloat(t).toString()+"px"),n.default.getService(this._opts.playerAliasOrId).getInstance("Interactivity")&&(this._showState=n.default.getService(this._opts.playerAliasOrId).getInstance("Interactivity").getShowState());var a=this.$element.parent();if(a.hasClass("bb_iawr")){if("collapsed"!=this._showState){var o=a.find(".bb-above");o.length>0&&!i?a.css({height:"calc("+t+" + "+o.height()+"px)"}):a.css({height:t}),this._percentagePlayer&&(a[0].style.minHeight=t);var s=t&&-1!==t.indexOf("%")?"100%":t;this.$element.css({height:s})}a.css({width:e});var l=e&&-1!==e.indexOf("%")?"100%":e;this.$element.css({width:l})}else this.$element.css({height:t,width:e});this.$element.trigger("bb_resized")},a.prototype.expandFullscreen=function(){this.fullscreen=!0,this._html5Fullscreen(),this.$element.triggerHandler("bb_fullscreen_change",[{fullscreen:this.fullscreen}])},a.prototype.retractFullscreen=function(){this.fullscreen=!1,this._retractHtml5Fullscreen(),this.$element.triggerHandler("bb_fullscreen_change",[{fullscreen:this.fullscreen}])},a.prototype.isFullscreen=function(){return this.fullscreen},a.prototype._html5Fullscreen=function(){if(this._requestFullScreen(this.$element[0]),this._useiOS13Sizing){var e;try{e=window.top.innerHeight}catch(t){e=window.innerHeight}this.setWrapperSize("100vw",(e||window.innerHeight)+"px",!0)}else this.setWrapperSize("100%","100%",!0)},a.prototype._retractHtml5Fullscreen=function(){this._cancelFullScreen(this.$element[0]),this.setWrapperSize(this._playoutWidth,this._playoutHeight)},a.prototype._iframesFullBrowser=function(){for(var e=0;e<this._parentIframes.length;e++){var t,n=this._parentIframes[e].iframe;if(null==this._parentIframes[e].oldStyle){var a={};a.position=n.style.position,a.width=n.style.width,a.height=n.style.height,a.top=n.style.top,a.left=n.style.left,a.zIndex=n.style.zIndex,a.element_width=n.width,a.element_height=n.height,this._parentIframes[e].oldStyle=a}try{t=window.top.innerHeight}catch(e){t=window.innerHeight}$parcel$interopDefault(i)(n).css({position:"fixed",top:"0",left:"0",bottom:"0",right:"0",zIndex:"2147483646",width:this._useiOS13Sizing?"100vw":"100%",height:this._useiOS13Sizing?(t||window.innerHeight)+"px":"100%"})}},a.prototype._retractIframesFullBrowser=function(){for(var e=0;e<this._parentIframes.length;e++){var t=this._parentIframes[e].iframe;if(null!=this._parentIframes[e].oldStyle){var i=this._parentIframes[e].oldStyle;t.style.position=i.position,t.style.width=i.width,t.style.height=i.height,t.style.top=i.top,t.style.left=i.left,t.style.zIndex=i.zIndex,t.width=i.element_width,t.height=i.element_height,this._parentIframes[e].oldStyle=null}}},a.prototype._fullBrowser=function(e){var t=this.$element[0];if(this._topWindowAccess?this._iframesFullBrowser():this._sendComsMessage("fullbrowser"),null==this._oldStyle&&(this._oldStyle={},this._oldStyle.position=t.style.position,this._oldStyle.width=t.style.width,this._oldStyle.height=t.style.height,this._oldStyle.top=t.style.top,this._oldStyle.left=t.style.left,this._oldStyle.bottom=t.style.bottom,this._oldStyle.right=t.style.right,this._oldStyle.zIndex=t.style.zIndex,this._oldStyle.element_width=t.width,this._oldStyle.element_height=t.height),$parcel$interopDefault(i)(document).on("keydown",this._onKeyDownBound),$parcel$interopDefault(i)(t).css({position:"fixed",top:"0",left:"0",bottom:"0",right:"0",zIndex:"999999"}),this._lockZoom(!0),this._useiOS13Sizing){var n;try{n=window.top.innerHeight}catch(e){n=window.innerHeight}this.setWrapperSize("100vw",(n||window.innerHeight)+"px",!0)}else this.setWrapperSize("100%","100%",!0);this.fullscreen=!0,e||this.$element.triggerHandler("bb_fullscreen_change",[{fullscreen:this.fullscreen}])},a.prototype._retractFullBrowser=function(e){var t=this.$element[0];this._topWindowAccess&&this._retractIframesFullBrowser(),this._sendComsMessage("fullbrowser-off"),null!=this._oldStyle&&(t.style.position=this._oldStyle.position,t.style.width=this._oldStyle.width,t.style.height=this._oldStyle.height,t.style.top=this._oldStyle.top,t.style.left=this._oldStyle.left,t.style.bottom=this._oldStyle.bottom,t.style.right=this._oldStyle.right,t.style.zIndex=this._oldStyle.zIndex,t.width=this._oldStyle.element_width,t.height=this._oldStyle.element_height,this._oldStyle=null),this._lockZoom(!1),this.setWrapperSize(this._playoutWidth,this._playoutHeight),this.fullscreen=!1,e||this.$element.triggerHandler("bb_fullscreen_change",[{fullscreen:this.fullscreen}])},a.prototype._vendorPrefixes=["o","ms","moz","webkit","khtml"],a.prototype._requestFullScreen=function(e){if(this._haveWindowProxy)return this._fullBrowser();if((this._forceNativeFullscreen||this._forceIOSNativeVideo&&this._isiOS&&!this._playInline||this._forceAndroidNativeVideo&&this._isAndroid&&!this._playInline)&&this._api&&this._api.nativeFullscreen())return!0;this._fullBrowser(!0),this._sendComsMessage("fullscr");var t=!1;if(e){var i=null;if("function"==typeof e.requestFullscreen)i="requestFullscreen";else if("function"==typeof e.requestFullScreen)i="requestFullScreen";else if("function"==typeof e.enterFullscreen)i="enterFullscreen";else if("function"==typeof e.enterFullScreen)i="enterFullScreen";else for(var n=["o","ms","moz","webkit","khtml"],a=0;a<n.length&&!i;a++){var o=n[a];"function"==typeof e[o+"RequestFullscreen"]?i=o+"RequestFullscreen":"function"==typeof e[o+"RequestFullScreen"]?i=o+"RequestFullScreen":"function"==typeof e[o+"EnterFullscreen"]?i=o+"EnterFullscreen":"function"==typeof e[o+"EnterFullScreen"]&&(i=o+"EnterFullScreen")}if(i)try{var s=e[i]();void 0!==s&&s.then&&s.then((function(){})).catch((function(e){})),t=!0}catch(e){}}return t||this._haveWindowProxy||this._playInline||!this._api||(t=this._api.nativeFullscreen()),t||(t=this._fullBrowser()),t},a.prototype._cancelFullScreen=function(){if(this._haveWindowProxy)return this._retractFullBrowser();if(this._forceNativeFullscreen||this._forceIOSNativeVideo&&this._isiOS&&!this._playInline||this._forceAndroidNativeVideo&&this._isAndroid&&!this._playInline)return!0;if(this._retractFullBrowser(!0),this._sendComsMessage("cancelfullscr"),this._isRealFullscreen)if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullscreen)document.cancelFullscreen();else{if(!document.cancelFullScreen){for(var e=0;e<this._vendorPrefixes.length;e++){var t=this._vendorPrefixes[e];if(void 0!==document[t+"ExitFullscreen"])return document[t+"ExitFullscreen"]();if(void 0!==document[t+"CancelFullscreen"])return document[t+"CancelFullscreen"]();if(void 0!==document[t+"CancelFullScreen"])return document[t+"CancelFullScreen"]()}return this._retractFullBrowser()}document.cancelFullScreen()}},a.prototype._lockZoom=function(e){e?(this._locked=!0,this.$initialViewport.length>0&&(this._originalViewport=$parcel$interopDefault(i)(this.$initialViewport[0]).attr("content"),this.$initialViewport.remove()),this.$metaViewport=$parcel$interopDefault(i)('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=1" />'),$parcel$interopDefault(i)("head").bb_prependSanitized(this.$metaViewport)):this._locked&&(void 0!==this.$metaViewport&&this.$metaViewport.length>0&&this.$metaViewport.remove(),this._originalViewport||(this._originalViewport=""),$parcel$interopDefault(i)("head").bb_prependSanitized('<meta name="viewport" content="'+this._originalViewport+'" />'))},a.prototype._onPlayoutChanged=function(e,t){if(t&&void 0!==t.playoutData&&(void 0!==t.playoutData.width&&(this._playoutWidth=t.playoutData.width),void 0!==t.playoutData.height&&(this._playoutHeight=t.playoutData.height),void 0!==t.playoutData.startCollapsed&&(this._showState="true"==t.playoutData.startCollapsed?"collapsed":"expanded"),void 0!==t.playoutData.width||void 0!==t.playoutData.height||void 0!==t.playoutData.autoHeight||void 0!==t.playoutData.responsiveSizing)){var i,n,a=void 0!==t.playoutData.width?t.playoutData.width:this._playoutWidth,o=void 0!==t.playoutData.height?t.playoutData.height:this._playoutHeight,s=void 0!==t.playoutData.autoHeight?"true"===t.playoutData.autoHeight:"true"===(null===(i=this._playout)||void 0===i?void 0:i.autoHeight),l=void 0!==t.playoutData.responsiveSizing?"true"===t.playoutData.responsiveSizing:"true"===(null===(n=this._playout)||void 0===n?void 0:n.responsiveSizing);(l||void 0===o)&&(s=!0),this._percentagePlayer=(null==a?void 0:a.indexOf("%"))>-1&&(null==o?void 0:o.indexOf("%"))>-1&&!s&&!l}},a.prototype._onSubtitleChanged=function(e,t){var i;t&&(void 0!==t.subtitleId?this._hasSubtitlesOn=!("-1"===t.subtitleId):this._hasSubtitlesOn=!("-1"===(null===(i=t.subtitle)||void 0===i?void 0:i.id)))},a.prototype._onKeyDown=function(e){if(27===e.keyCode)this.retractFullscreen();$parcel$interopDefault(i)(document).off("keydown",this._onKeyDownBound)}})),parcelRequire.register("3di0y",(function(e,t){!function(t){var i=!1,n=/xyz/.test((function(){}))?/\b_super\b/:/.*/,a=function()his;for(var l in i=!1,e)s[l]="function"==typeof e[l]&&"function"==typeof o[l]&&n.test(e[l])?function(e,t){return function(){var i=this._super;this._super=o[e];var n=t.apply(this,arguments);return this._super=i,n}}(l,e[l]):e[l];return(t.prototype=s).constructor=t,t.extend=a.ex={debug:!1,trace:function(e){th!==t.console&&t.console.log("Porthole: "+e)},error:console,"function"==typeof t.console.error&&t.console.error("Porthole: "+e)},WindowProxy:function(){}};o.WindowProxy.prototype={post:function(e,t){},addEventListener:function(e){},removeEventListener:function(e){}},o.WindowProxyBase=a.extend({init:function(e){void 0===e&&(e=""),this.this.eventListeners=[]},getTargetWindowName:function(){return this.targetWindowName},getOrigin:function(){return this.origin},getTargetWindow:function(){return o.WindowProxy.getTargetWindow(this.target),this.dispatchMessage({data:e,sourceOrigin:this.getOrigin(),targetOrigin:i,sourceWindowName:t.name,targetWindowName:this.getTargetWindowName()})},addEventListener:function(e){return this.eventListeners.push(e),e},removeEventListener:function(e){var t;try{t=this.eventListeners.indexOf(e),this.eventListeners.splice(t,1)}catch(e){this.eventListeners=[]}},dispatchEvent:function(e){var t;for(t=0;t<this.eventListeners.length;t++)try{this.eventListeners[t](e)}catch(e){o.error(e)}}}),o.WindowProxyLegacy=o.WindowProxyBase.extend({init:function(e,t){this._super(t),null!==e?(this.proxyIFrameName=this.ion=e,this.proxyIFrameElement=this.createIFrameProxy()):(this.proxyIFrameElement=null,o.trace("proxyIFrameUrl is null, window will be a receiver only"),this.post=function(){throw new Error("Receiver only window")})},createIFrameProxy:function(){var e=document.createElement("iframe");return e.setAttribute("id",this.proxyIFrameName),e.setAttribute("name",this.proxyIFrameName),e.setAttribute("src",this.proxyIFrameLocation),e.setAttribute("frameBorder","1"),e.setAttribute("scrolling","auto"),e.setAttribute("width",30),e.setAttribute("height",30),e.setAttribute("style","position: absolute; left: -100px; top:0px;"),e.style.setAttribute&&e.style.setAttribute("cssText","position: absolute; left: -100px; top:0px;"),document.body.appendChild(e),e},dispatchMessage:function(e){var i=t.encodeURIComponent;if(this.proxyIFrameElement){var n=this.proxyIFrameLocation+"#"+i(o.WindowProxy.serialize(e));this.proxyIFrameElement.setAttributedowProxyHTML5=o.WindowProxyBase.extend({init:function(e,t){this._super(t),this.eventListenerCallback=null},dispatchMessage).postMessage(o.WindowProxy.serialize(e),e.targetOrigin)},addEventListener:function(e){if(0===this.eventistener?(this.eventListenerCallback=function(e){i.eventListener(i,e)},t.addEventListener("message",this.eventListenerCallback,!1)):t.attachEvent&&(this.eventListenerCallback=function(e){i.eventListener(i,t.event)},t.attachEvent("onmessage",this.eventListenerCallback))}return this._super(e)},removeEventListener:function(e){this._super(e),0===this.eventListeners.length&&(t.removeEventListener?t.removeEventListener("message",this.eventListenerCallback):t.detachEvent&&(void 0===t.onmessage&&(t.onmessage=null),t.detachEvent("onmessage",this.eventListenerCallback)),this.eventListenerCallback=null)},eventListener:function(e,t){var i=o.WindowProxy.unserialize(t.data);!i||""!==e.targetWindowName&&i.sourceWindowName!=e.targetWindowName||e.dispatchEvent(new o.MessageEvent(i.data,t.origin,e))}}),t.postMessage?(o.trace("Using built-in browser support"),o.WindowProxy=o.WindowProxyHTML5.extend({})):(o.trace("Using legacy browser support"),o.WindowProxy=o.WindowProxyLegacy.extend({})),o.WindowProxy.serialize=function(e){if("undefined"==typeof JSON)throw new Error("Porthole serialization depends on JSON!");return JSON.stringify(e)},o.WindowProxy.unserialize=function(e){if("undefined"==typeof JSON)throw new Error("Por.parse(e)}catch(e){return!1}return t},o.WindowProxy.getTargetWindow=function(e){return""===e?parent:"top"===e||"parent"===e?t[e]:t.frames[e]},o.MessageEvent=function(e,t,i){this.data=e,this.origin=t,this.source=i},o.WindowProxyDispatcher={forwardMessageEvent:function(e){var i,n,a,s=t.decodeURIComponent;document.location.hash.length>0&&(i=o.WindowProxy.unserialize(s(document.location.hash.substr(1))),n=o.WindowProxy.getTargetWindow(i.targetWindowName),(a=o.WindowProxyDispatcher.findWindowProxyObjectInWindow(n,i.sourceWindowName))?a.origin===i.targetOrigin||"*"===i.targetOrigin?a.dispatchEvent(new o.MessageEvent(i.data,i.sourceOrigin,a)):o.error("Target origin "+a.origin+" does not match desired target of "+i.targetOrigin):o.error("Could not find window proxy object on the target window"))},findWindowProxyObjectInWindow:function(e,t){var i;if(e)for(i in e)if(Object.prototype.hasOwnProperty.call(e,i))try{if(null!==e[i]&&"object"==typeof e[i]&&e[i]instanceof e.Porthole.WindowProxy&&e[i].getTargetWindowName()===t)return e[i]}catch(e){}return null},start:function(){t.addEventListener?t.addEventListener("resize",o.WindowProxyDispatcher.forwardMessageEvent,!1):t.attachEvent&&"undefined"!==t.postMessage||document.body.attachEvent?t.attachEvent("onresize",o.WindowProxyDispatcher.forwardMessageEvent):o.error("Cannot attach resize event")}},e.exports=o}("undefined"!=typeof window?window:e.exports)})),parcelRequire.register("gKZVx",(function(e,t){$parcel$export(e.exports,"default",(function(){return l})),parcelRequire("dhZ6J");var i=parcelRequire("dwEjG");parcelRequire("2UpbQ");var n=parcelRequire("eV1xY"),a=parcelRequire("cWdJP"),o=parcelRequire("1MxPP"),s=parcelRequire("kp23R"),l=function(e,t){var i,l,r;if(this.$element=null,this._playerId="",this._playerAlias="",this._plc=null,this._pc=null,this._headController=null,this._sc=null,this._ls=null,this._relatedClipsHelper=null,this._contextMenu=null,this._browserLanguage=window.navigator.userLanguage||window.navigator.language,this._localStorage=null,this._opts=void 0!==t?t:null,null!=this._opts&&void 0!==this._opts.publicationData&&(this._opts.publicationData.server=this._opts.publicationData.baseurl),this._opts&&this._opts.playoutData&&this._opts.embedData&&(this._playerId="/p/"+this._opts.playoutData.label+"/"+this._opts.embedData.contentIndicator+"/"+this._opts.embedData.contentId),(null===(i=this._opts)||void 0===i?void 0:i.alias)&&(this._playerAlias=this._opts.alias),this._autoPlay=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.autoPlay,this._autoPlayNext="true"===(null===(l=this._opts)||void 0===l||null===(r=l.playoutData)||void 0===r?void 0:r.autoPlayNext),this._opts&&this._opts.playoutData&&"Show"==this._opts.playoutData.relatedItemsPause&&(this._relatedClipsPause=!0),e.data("flags",e.data("flags")||{}),this._playout=this._opts&&this._opts.playoutData?$parcel$interopDefault(n).extend({},this._opts.playoutData):null,this._projectData=null,this._clipListData=null,this._currentAd=null,this._clip=null,this._originalAssets=null,this._assets=null,this._assetsMap=null,this._asset=null,this._headType=null,this._commercialHeadType=null,this._relatedClips=null,this._relatedItems=null,this._canPlay=!1,this._phase=null,this._mode=null,this._state=null,this._mediaDuration=null,this._commercialDuration=null,this._lastKnownMediaCurrentTime=null,this._detections=null,this._msasController=null,this._currentSubtitle=null,this._currentSubtitleLine=null,this._audioTracks=null,this._currentAudioTrack=null,this._fullscreen=!1,this._beforeUnload=!1,this._timeEqual=0,this._haveplayed=!1,this._adLogs=[],this._pendingNonUserPlay=this._autoPlay,this._embedCodeForSharing=null,this._eventNS="bbapi"+String(Math.random()).replace(".",""),this._phases=["bb-phase-init","bb-phase-pre","bb-phase-main","bb-phase-post","bb-phase-exit"],this._modes=["bb-mode-static","bb-mode-commercial","bb-mode-audio","bb-mode-video","bb-mode-presentation","bb-mode-live-audio","bb-mode-live-video"],this._states=["bb-state-idle","bb-state-paused","bb-state-error","bb-state-playing","bb-state-loading"],this._adPodInfo=null,this._ready=!1,this._started=!1,this._state="idle",this._playing=!1,this._ended=!1,this._areBoundToTouchstart=!1,this._playing_med=!1,this._playing_com=!1,this._paused_com=!1,this._legacyTextTracks=!0,this._legacyAudioTracks=!0,this._loadedplayoutdata=!1,this._loadedprojectdata=!1,this._loadedclipdata=!1,this._loadedcliplistdata=!1,this._subtitles=null,void 0!==e&&null!=e){var d;this.$element=e;var u=a.default.getService(this._opts.playerAliasOrId);null==u||u.setInstance("PublicAPI",this),this._$skinLayer=null;var c=this.getSkinLayer();c&&(this._$skinLayer=$parcel$interopDefault(n)(c)),u&&(void 0!==u.getInstance("PlayoutController")&&(this._plc=u.getInstance("PlayoutController")),void 0!==u.getInstance("ProgramController")&&(this._pc=u.getInstance("ProgramController")),void 0!==u.getInstance("HeadController")&&(this._headController=u.getInstance("HeadController")),void 0!==u.getInstance("SoundController")&&(this._sc=u.getInstance("SoundController")),void 0!==u.getInstance("LocalStorage")&&(this._ls=u.getInstance("LocalStorage")),void 0!==u.getInstance("Detections")&&(this._detections=u.getInstance("Detections")),void 0!==u.getInstance("MSASController")&&(this._msasController=u.getInstance("MSASController")),void 0!==u.getInstance("Sizer")&&(this._sizer=u.getInstance("Sizer")),this._mouseController=u.getInstance("MouseController"),this._inViewController=u.getInstance("InViewController"),void 0!==u.getInstance("Interactivity")&&(this._interactivity=u.getInstance("Interactivity")),void 0!==u.getInstance("ContextMenu")&&(this._contextMenu=u.getInstance("ContextMenu"))),this._imageExtension=(null===(d=this._detections)||void 0===d?void 0:d.webp)?"webp":"jpg",o.debugMode&&performance.mark("RelatedClipsHelper"),"function"==typeof s.default&&(this._relatedClipsHelper=new s.default(this.$element,this._opts)),o.debugMode&&performance.mark("end_RelatedClipsHelper"),this.$element.get(0).call=this._call.bind(this),this._onAdLoadedBound=this._onAdLoaded.bind(this),this._onPlayoutLoadedBound=this._onPlayoutLoaded.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onProjectLoadedBound=this._onProjectLoaded.bind(this),this._onClipListLoadedBound=this._onClipListLoaded.bind(this),this._onClipLoadedBound=this._onClipLoaded.bind(this),this._onTimelineChaptersChangedBound=this._onTimelineChaptersChanged.bind(this),this._onTimelineLoadedBound=this._onTimelineLoaded.bind(this),this._onPhaseChangeBound=this._onPhaseChange.bind(this),this._onRelatedClipsChangedBound=this._onRelatedClipsChanged.bind(this),this._onAssetsChangedBound=this._onAssetsChanged.bind(this),this._onAssetSelectedBound=this._onAssetSelected.bind(this),this._onAudioTrackSelectedBound=this._onAudioTrackSelected.bind(this),this._onHeadSelectedBound=this._onHeadSelected.bind(this),this._onCommercialHeadSelectedBound=this._onCommercialHeadSelected.bind(this),this._onMediaLoadStartBound=this._onMediaLoadStart.bind(this),this._onCanPlayBound=this._onCanPlay.bind(this),this._onCouldPlayBound=this._onCouldPlay.bind(this),this._onPlayBound=this._onPlay.bind(this),this._onAutoPauseBound=this._onAutoPause.bind(this),this._onMediaPlayingBound=this._onMediaPlaying.bind(this),this._onMediaPausedBound=this._onMediaPaused.bind(this),this._onMediaWaitingBound=this._onMediaWaiting.bind(this),this._onStalledBound=this._onStalled.bind(this),this._onTimeUpdateBound=this._onTimeUpdate.bind(this),this._onSeekingBound=this._onSeeking.bind(this),this._onSeekedBound=this._onSeeked.bind(this),this._onProgressBound=this._onProgress.bind(this),this._onVolumeChangeBound=this._onVolumeChange.bind(this),this._onMediaDurationChangeBound=this._onMediaDurationChange.bind(this),this._onCommercialLoadStartBound=this._onCommercialLoadStart.bind(this),this._onCommercialPlayingBound=this._onCommercialPlaying.bind(this),this._onCommercialPausedBound=this._onCommercialPaused.bind(this),this._onCommercialEndedBound=this._onCommercialEnded.bind(this),this._onCommercialDurationChangeBound=this._onCommercialDurationChange.bind(this),this._onErrorBound=this._onError.bind(this),this._onResizedBound=this._onResized.bind(this),this._onSubtitleChangedBound=this._onSubtitleChanged.bind(this),this._onSubtitleLineChangedBound=this._onSubtitleLineChanged.bind(this),this._onInviewBound=this._onInview.bind(this),this._onOutviewBound=this._onOutview.bind(this),this._onFlagChangeBound=this._onFlagChange.bind(this),this._onFullscreenChangeBound=this._onFullscreenChange.bind(this),this._onFullScreenMismatchBound=this._onFullScreenMismatch.bind(this),this._onLoadedDataBound=this._onLoadedData.bind(this),this._onLoadedMetaDataBound=this._onLoadedMetaData.bind(this),this._onAdLogBound=this._onAdLog.bind(this),this._onAdQuartileBound=this._onAdQuartile.bind(this),this._onAutoPlayNextTimerEventBound=this._onAutoPlayNextTimerEvent.bind(this),this._onSoftEmbargoTimerEventBound=this._onSoftEmbargoTimerEvent.bind(this),this._onFloatStartBound=this._onFloatStart.bind(this),this._onFloatEndBound=this._onFloatEnd.bind(this),this._onAutoPlayCheckReadyBound=this._onAutoPlayCheckReady.bind(this),this._onPlaybackAvaChangedBound=this._onPlaybackAvaChanged.bind(this),this._onAdErrorBound=this._onAdError.bind(this),this._onPlaybackRateChangedBound=this._onPlaybackRateChanged.bind(this),this._onAdSystemLoadedBound=this._onAdSystemLoaded.bind(this),this._onAdScheduleItemCanPlayBound=this._onAdScheduleItemCanPlay.bind(this),this._onAdSkippedBound=this._onAdSkipped.bind(this),this._onMouseOverXSBound=this._onMouseOverXS.bind(this),this._onCollapsedBound=this._onCollapsed.bind(this),this._onExpandedBound=this._onExpanded.bind(this),this._onCastSessionChangeBound=this._onCastSessionChange.bind(this),this._onCastSessionStateChangeBound=this._onCastSessionStateChange.bind(this),this._onBeforeUnloadBound=this._onBeforeUnload.bind(this),this._onMessageBound=this._onMessage.bind(this),this.$element.on("bb_ad_loaded",this._onAdLoadedBound),this.$element.on("bb_playout_loaded",this._onPlayoutLoadedBound),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_project_loaded",this._onProjectLoadedBound),this.$element.on("bb_cliplist_loaded",this._onClipListLoadedBound),this.$element.on("bb_mediaclip_loaded",this._onClipLoadedBound),this.$element.on("bb_timeline_chapters_changed",this._onTimelineChaptersChangedBound),this.$element.on("bb_timeline_loaded",this._onTimelineLoadedBound),this.$element.on("bb_phase_change",this._onPhaseChangeBound),this.$element.on("bb_related_clips_changed",this._onRelatedClipsChangedBound),this.$element.on("bb_assets_changed",this._onAssetsChangedBound),this.$element.on("bb_asset_selected",this._onAssetSelectedBound),this.$element.on("bb_audiotrack_selected",this._onAudioTrackSelectedBound),this.$element.on("bb_head_selected",this._onHeadSelectedBound),this.$element.on("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),this.$element.on("bb_media_loadstart",this._onMediaLoadStartBound),this.$element.on("bb_media_canplay",this._onCanPlayBound),this.$element.on("bb_media_couldplay",this._onCouldPlayBound),this.$element.on("bb_program_play",this._onPlayBound),this.$element.on("bb_program_autopause",this._onAutoPauseBound),this.$element.on("bb_media_playing",this._onMediaPlayingBound),this.$element.on("bb_media_paused",this._onMediaPausedBound),this.$element.on("bb_media_waiting",this._onMediaWaitingBound),this.$element.on("bb_media_stalled",this._onStalledBound),this.$element.on("bb_media_timeupdate",this._onTimeUpdateBound),this.$element.on("bb_media_seeking",this._onSeekingBound),this.$element.on("bb_media_seeked",this._onSeekedBound),this.$element.on("bb_media_progress",this._onProgressBound),this.$element.on("bb_master_volume_change",this._onVolumeChangeBound),this.$element.on("bb_media_duration_change",this._onMediaDurationChangeBound),this.$element.on("bb_commercial_loadstart",this._onCommercialLoadStartBound),this.$element.on("bb_commercial_playing",this._onCommercialPlayingBound),this.$element.on("bb_commercial_paused",this._onCommercialPausedBound),this.$element.on("bb_commercial_ended",this._onCommercialEndedBound),this.$element.on("bb_commercial_stalled",this._onStalledBound),this.$element.on("bb_commercial_timeupdate",this._onTimeUpdateBound),this.$element.on("bb_commercial_duration_change",this._onCommercialDurationChangeBound),this.$element.on("bb_error",this._onErrorBound),this.$element.on("bb_resized",this._onResizedBound),this.$element.on("bb_subtitle_changed",this._onSubtitleChangedBound),this.$element.on("bb_subtitle_line_changed",this._onSubtitleLineChangedBound),this.$element.on("bb_inview",this._onInviewBound),this.$element.on("bb_outview",this._onOutviewBound),this.$element.on("bb_flagchange",this._onFlagChangeBound),this.$element.on("bb_fullscreen_change",this._onFullscreenChangeBound),this.$element.on("bb_fullscreen_mismatch",this._onFullScreenMismatchBound),this.$element.on("bb_media_loadeddata",this._onLoadedDataBound),this.$element.on("bb_media_loadedmetadata",this._onLoadedMetaDataBound),this.$element.on("bb_ad_log",this._onAdLogBound),this.$element.on("bb_adsystem_quartile bb_as_ad_quartile",this._onAdQuartileBound),this.$element.on("bb_autoplaynexttimer_started",this._onAutoPlayNextTimerEventBound),this.$element.on("bb_autoplaynexttimer_cancelled",this._onAutoPlayNextTimerEventBound),this.$element.on("bb_autoplaynexttimer_tick",this._onAutoPlayNextTimerEventBound),this.$element.on("bb_autoplaynexttimer_finished",this._onAutoPlayNextTimerEventBound),this.$element.on("bb_autoplaynexttimer_paused",this._onAutoPlayNextTimerEventBound),this.$element.on("bb_autoplaynexttimer_resumed",this._onAutoPlayNextTimerEventBound),this.$element.on("bb_softembargotimer_started",this._onSoftEmbargoTimerEventBound),this.$element.on("bb_softembargotimer_cancelled",this._onSoftEmbargoTimerEventBound),this.$element.on("bb_softembargotimer_tick",this._onSoftEmbargoTimerEventBound),this.$element.on("bb_softembargotimer_finished",this._onSoftEmbargoTimerEventBound),this.$element.on("bb_to_sticky_position",this._onFloatStartBound),this.$element.on("bb_returned_from_sticky_position",this._onFloatEndBound),this.$element.on("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBound),this.$element.on("bb_playbacktargetavailabilitychanged",this._onPlaybackAvaChangedBound),this.$element.on("bb_adsystem_noad",this._onAdErrorBound),this.$element.on("bb_adsystem_failed",this._onAdErrorBound),this.$element.on("bb_media_playback_rate_change",this._onPlaybackRateChangedBound),this.$element.on("bb_adsystem_loaded",this._onAdSystemLoadedBound),this.$element.on("bb_as_item_canplay",this._onAdScheduleItemCanPlayBound),this.$element.on("bb_adsystem_skipped bb_as_item_skipped",this._onAdSkippedBound),this.$element.on("bb_mouseover_x_s",this._onMouseOverXSBound),this.$element.on("bb_collapsed",this._onCollapsedBound),this.$element.on("bb_expanded",this._onExpandedBound),this.$element.on("bb_castsessionchange",this._onCastSessionChangeBound),this.$element.on("bb_castsessionstatechange",this._onCastSessionStateChangeBound),window.addEventListener("beforeunload",this._onBeforeUnloadBound),window.addEventListener("message",this._onMessageBound),this._ready=!0;try{window.parent.postMessage("handshake","*")}catch(e){}null!=this._sc&&(this._sc.getMuted()?(this.$element.addClass("bb-muted"),this._$skinLayer&&this._$skinLayer.addClass("bb-muted")):(this.$element.removeClass("bb-muted"),this._$skinLayer&&this._$skinLayer.removeClass("bb-muted")),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"volumechange"));var h=u.getInstance("LocalStorage");void 0!==h&&null!=h&&(this._localStorage=h)}};l.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_ad_loaded",this._onAdLoadedBound),this.$element.off("bb_playout_loaded",this._onPlayoutLoadedBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_project_loaded",this._onProjectLoadedBound),this.$element.off("bb_cliplist_loaded",this._onClipListLoadedBound),this.$element.off("bb_mediaclip_loaded",this._onClipLoadedBound),this.$element.off("bb_timeline_chapters_changed",this._onTimelineChaptersChangedBound),this.$element.off("bb_timeline_loaded",this._onTimelineLoadedBound),this.$element.off("bb_phase_change",this._onPhaseChangeBound),this.$element.off("bb_related_clips_changed",this._onRelatedClipsChangedBound),this.$element.off("bb_assets_changed",this._onAssetsChangedBound),this.$element.off("bb_asset_selected",this._onAssetSelectedBound),this.$element.off("bb_audiotrack_selected",this._onAudioTrackSelectedBound),this.$element.off("bb_head_selected",this._onHeadSelectedBound),this.$element.off("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),this.$element.off("bb_media_loadstart",this._onMediaLoadStartBound),this.$element.off("bb_media_canplay",this._onCanPlayBound),this.$element.off("bb_media_couldplay",this._onCouldPlayBound),this.$element.off("bb_program_play",this._onPlayBound),this.$element.off("bb_program_autopause",this._onAutoPauseBound),this.$element.off("bb_media_playing",this._onMediaPlayingBound),this.$element.off("bb_media_paused",this._onMediaPausedBound),this.$element.off("bb_media_waiting",this._onMediaWaitingBound),this.$element.off("bb_media_stalled",this._onStalledBound),this.$element.off("bb_media_timeupdate",this._onTimeUpdateBound),this.$element.off("bb_media_seeking",this._onSeekingBound),this.$element.off("bb_media_seeked",this._onSeekedBound),this.$element.off("bb_media_progress",this._onProgressBound),this.$element.off("bb_master_volume_change",this._onVolumeChangeBound),this.$element.off("bb_media_duration_change",this._onMediaDurationChangeBound),this.$element.off("bb_commercial_loadstart",this._onCommercialLoadStartBound),this.$element.off("bb_commercial_playing",this._onCommercialPlayingBound),this.$element.off("bb_commercial_paused",this._onCommercialPausedBound),this.$element.off("bb_commercial_ended",this._onCommercialEndedBound),this.$element.off("bb_commercial_stalled",this._onStalledBound),this.$element.off("bb_commercial_timeupdate",this._onTimeUpdateBound),this.$element.off("bb_commercial_duration_change",this._onCommercialDurationChangeBound),this.$element.off("bb_error",this._onErrorBound),this.$element.off("bb_resized",this._onResizedBound),this.$element.off("bb_subtitle_changed",this._onSubtitleChangedBound),this.$element.off("bb_subtitle_line_changed",this._onSubtitleLineChangedBound),this.$element.off("bb_inview",this._onInviewBound),this.$element.off("bb_outview",this._onOutviewBound),this.$element.off("bb_flagchange",this._onFlagChangeBound),this.$element.off("bb_fullscreen_change",this._onFullscreenChangeBound),this.$element.off("bb_fullscreen_mismatch",this._onFullScreenMismatchBound),this.$element.off("bb_media_loadeddata",this._onLoadedDataBound),this.$element.off("bb_media_loadedmetadata",this._onLoadedMetaDataBound),this.$element.off("bb_ad_log",this._onAdLogBound),this.$element.off("bb_adsystem_quartile bb_as_ad_quartile",this._onAdQuartileBound),this.$element.off("bb_autoplaynexttimer_started",this._onAutoPlayNextTimerEventBound),this.$element.off("bb_autoplaynexttimer_cancelled",this._onAutoPlayNextTimerEventBound),this.$element.off("bb_autoplaynexttimer_tick",this._onAutoPlayNextTimerEventBound),this.$element.off("bb_autoplaynexttimer_finished",this._onAutoPlayNextTimerEventBound),this.$element.off("bb_autoplaynexttimer_paused",this._onAutoPlayNextTimerEventBound),this.$element.off("bb_autoplaynexttimer_resumed",this._onAutoPlayNextTimerEventBound),this.$element.off("bb_softembargotimer_started",this._onSoftEmbargoTimerEventBound),this.$element.off("bb_softembargotimer_cancelled",this._onSoftEmbargoTimerEventBound),this.$element.off("bb_softembargotimer_tick",this._onSoftEmbargoTimerEventBound),this.$element.off("bb_softembargotimer_finished",this._onSoftEmbargoTimerEventBound),this.$element.off("bb_to_sticky_position",this._onFloatStartBound),this.$element.off("bb_returned_from_sticky_position",this._onFloatEndBound),this.$element.off("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBound),this.$element.off("bb_playbacktargetavailabilitychanged",this._onPlaybackAvaChangedBound),this.$element.off("bb_adsystem_noad",this._onAdErrorBound),this.$element.off("bb_adsystem_failed",this._onAdErrorBound),this.$element.off("bb_media_playback_rate_change",this._onPlaybackRateChangedBound),this.$element.off("bb_adsystem_loaded",this._onAdSystemLoadedBound),this.$element.off("bb_as_item_canplay",this._onAdScheduleItemCanPlayBound),this.$element.off("bb_adsystem_skipped bb_as_item_skipped",this._onAdSkippedBound),this.$element.off("bb_mouseover_x_s",this._onMouseOverXSBound),this.$element.off("bb_collapsed",this._onCollapsedBound),this.$element.off("bb_expanded",this._onExpandedBound),this.$element.off("bb_castsessionchange",this._onCastSessionChangeBound),this.$element.off("bb_castsessionstatechange",this._onCastSessionStateChangeBound),window.removeEventListener("beforeunload",this._onBeforeUnloadBound),window.removeEventListener("message",this._onMessageBound),a.default.getService(this._opts.playerAliasOrId).setInstance("PublicAPI",null)),null},l.prototype.reset=function(){this._clip=null,this._subtitles=null,this._originalAssets=null,this._assets=null,this._assetsMap=null,this._asset=null,this._relatedClips=null,this._relatedItems=null,this._canPlay=!1,this._phase=null,this._mode=null,this._state=null,this._mediaDuration=0,this._commercialDuration=0,this._currentSubtitle=null,this._currentSubtitleLine=null,this._timeEqual=0,this._haveplayed=!1,this._audioTracks=null,this._currentAudioTrack=null,this._adPodInfo=null,this._state="idle",this._playing=!1,this._playing_med=!1,this._playing_com=!1},l.prototype.on=function(e,t){if(!e||"function"!=typeof t)return!1;for(var i=e.split(" "),n=0;n<i.length;n++){if(null!=i[n].match(/^bb_/))return!1;i[n].indexOf(".")<0&&(i[n]+=".external"+this._eventNS)}var a=i.join(" ");this.$element.on(a,t);for(n=0;n<i.length;n++)switch(i[n].split(".")[0]){case"ready":this._ready&&t();break;case"loadedplayoutdata":this._loadedplayoutdata&&t();break;case"loadedprojectdata":this._loadedprojectdata&&t();break;case"loadedclipdata":this._loadedclipdata&&t();case"loadedcliplistdata":this._loadedcliplistdata&&t();break;case"error":"error"===this._state&&t()}},l.prototype.off=function(e){for(var t=e.split(" "),i=0;i<t.length;i++){if(null!=t[i].match(/^bb_/))return!1;t[i].indexOf(".")<0&&(t[i]+=".external"+this._eventNS)}var n=t.join(" ");this.$element.off(n)},l.prototype.load=function(e){var t=!1;if(this.reset(),null!=this._pc)if(void 0!==e&&null!=e){this._pc.pause();var i=null,n="c";void 0!==e.clipId&&(i=e.clipId,n="c"),void 0!==e.cliplistId&&(i=e.cliplistId,n="l"),void 0!==e.projectId&&(i=e.projectId,n="p"),void 0===e.initiator&&(e.initiator="external"),void 0===e.autoPlay&&(e.autoPlay=!0),(void 0===e.seekTo||!e.seekTo||e.seekTo<0)&&(e.seekTo=null),void 0===e.token&&(e.token=null),void 0===e.useSession&&(e.useSession=null),null!=i?(!0!==e.autoPlay&&"true"!==e.autoPlay||(this.$element.addClass("bb-pendingplay"),this._$skinLayer&&this._$skinLayer.addClass("bb-pendingplay")),t=this._pc.load(i,n,e)):"object"==typeof e.projectData?t=this._pc.loadData(e.projectData,e):"object"==typeof e.clipListData?t=this._pc.loadData(e.clipListData,e):"object"==typeof e.clipData?t=this._pc.loadData(e.clipData,e):"object"==typeof e.adSchedulingData?t=this._pc.loadData(e.adSchedulingData,e):"object"==typeof e.adServicesData&&(t=this._pc.loadData(e.adServicesData,e))}else{t=this._pc.unload();var o=a.default.getService(this._opts.playerAliasOrId).getInstance("BlueBillywigStatisticsLogger");void 0!==o&&null!=o&&o.reset()}return window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"timeupdate"),t},l.prototype.preloadAds=function(e,t){return null!=this._pc&&this._pc.preloadAds(e,t)},l.prototype.play=function(e){var t,i,n;if(!e&&!(o.default("[PublicAPI] play non-user action"),this._pendingNonUserPlay=!0,this._started||(this._autoPlayAdvancedCheckCanAutoPlay||!this._autoPlayAdvancedCheckCanAutoPlayMuted||this.getMuted()||this._playout&&"true"!==this._playout.autoMute&&"true"!==this._playout.avoidMutedAutoPlay&&this.updatePlayout({autoMute:"true"}),this._autoPlayAdvancedCheckCanAutoPlay||this._started||"true"!==(null===(t=this._playout)||void 0===t?void 0:t.avoidMutedAutoPlay))))return o.default("[PublicAPI] preventing muted autoplay"),!1;(this.$element.off("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBound),this._contextMenu||void 0===a.default.getService(this._opts.playerAliasOrId).getInstance("ContextMenu")||(this._contextMenu=a.default.getService(this._opts.playerAliasOrId).getInstance("ContextMenu")),e)&&(null===(i=this._mouseController)||void 0===i||i.disab=n||n.disable());return null!=this._pc&&this._pc.play(e)},l.prototype.setDvid=function(e){var t=!1;return this._pc&&(this._pc.setDvid(e),t=!0),t},l.prototype.getDvid=function(){return this._pc&&this._pc.getDvid()},l.prototype.pause=function(){var e,t,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(this._pendingNonUserPlay=!1,this._bindString&&(this._areBoundToTouchstart=!1,$parcel$interopDefault(n)(window).off(this._bindString),this._bindString=null),i)&&(null===(e=this._mouseController)||void 0===e||e.disable(),null===(t=this._inViewController)||void 0===t||t.disable());return null!=this._pc&&this._pc.pause()},l.prototype.seek=function(e){"EXIT"==this._phase&&this.play();var t="commercial"===this._mode?this._commercialDuration:this._mediaDuration;if(!isNaN(t)&&!isFinite(t)){var i,n=null===(i=this._pc)||void 0===i?void 0:i.get("seekable");n&&n.length?e+=n.end(n.length-1):e=t}return null!=this._pc&&this._pc.seek(e)},l.prototype.setFlag=function(e,t){var i=!1;if("string"==typeof e){var n={};n[e]=t,null!=this.$element&&(this.$element.triggerHandler("bb_flagchange",[n]),i=!0)}return i},l.prototype.setVolume=function(e,t){return e=e>1?Math.min(e/100,1):e,null!=this._sc&&this._sc.setVolume(e,t)},l.prototype.setMuted=function(e,t,i){var n;if((null===(n=this._sc)||void 0===n?void 0:n.getMuted())!==e){var a,o;if(this.$element.trigger("bb_api_called",[{method:"setMuted",muted:e,userAction:i}]),i)null===(a=this._mouseController)||void 0===a||a.disable(),null===(o=this._inViewController)||void 0===o||o.disable();return null!=this._sc&&this._sc.setMuted(e,t,i)}},l.prototype.setProgramVolume=function(e){return e=e>1?Math.min(e/100,1):e,null!=this._pc&&this._pn(e){return null!=this._pc&&this._pc.setMuted(e)},l.prototype.setAsset=function(e){return null!=this._pc&&this._pc.switchAsset(e)},l.prototype.setLocalStorageItem=function(e,t){return!!this._ls&&this._ls.set(e,t)},l.prototype.setLocalStorageItems=function(e){if(Array.isArray(e)&&this._ls){var t=!0,i=!1,n=void 0;try{for(var a,o=e[Symbol.iterate;s&&this._ls.set(s.key,s.value)}}catch(e){i=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}return!0}return!1},l.prototype.getLocalStorageItem=function(e){retun()},l.prototype.retractFullscreen=function(){return this._sizer.retractFullscreen()},l.prototype.toggleFullscreen=function(){return this._fullscreen?this._sizer.retracizer.expandFullscreen()},l.prototype.nativeFullscreen=function(){return!!t},l.prototype.increaseSizerRate=function(){return!1},l.prototype.decreaseSizerRate=function(){return!1},l.prototype.isReady=function(){return this._ready},l.prototype.getWrapper=function(){return this.$element[0]},l.prototype.getDetections=function(){return this._detections},l.prototype.getContentLayer=function(){var e=!1,t=this.$element.find(".bb-content-layer");return null!=t&&t.length>0&&(e=t[0]),e},l.prototype.getSkinLayer=function(){var e=this.$element.get(0),t=this.$element.find(".bb-skin-layer-host");return null!=t&&t.length>0&&(e=t[0].shadowRoot),e.querySelector(".bb-skin-layer")},l.prototype.getSkinContainer=function(){var e=!1,t=this.getSkinLayer(),i=$parcel$interopDefault(n)(t).find(".bb-container");return i&&i.length>0&&(e=i[0]),e},l.prototype.getSubtitleLayer=function(){var e=!1,t=this.$element.find(".bb-subtitle-layer");return null!=t&&t.length>0&&(e=t[0]),e},l.prototype.getPhase=function(){return this._phase},l.prototype.getMode=function(){return this._mode},l.prototype.getState=function(){return this._state},l.prototype.getCurrentTime=function(){var e=this.getPropertyValue("currentTime");if("EXIT"===this._phase&&this._lastKnownMediaCurrentTime)return this._lastKnownMediaCurrentTime;var t="commercial"===this._mode?this._commercialDuration:this._mediaDuration;if(!isNaN(t)&&!isFinite(t)){var i,n=null===(i=this._pc)||void 0===i?void 0:i.get("seekable");n&&n.length?e-=n.end(n.length-1):e=0}return!isNaN(e)&&e||(e=0),e},l.prototype.getBuffered=function(){return this.getPropertyValue("buffered")},l.prototype.getDuration=function(){var e="commercial"===this._mode?this._commercialDuration:this._mediaDuration;if(isNaN(e)||isFinite(e))(isNaN(parseFloat(e))||e<=0)&&(e=0);else{var t,i=null===(t=this._pc)||void 0===t?void 0:t.get("seekable");e=i&&i.length?i.start(0)-i.end(i.length-1):-10800}return e},l.prototype.getVolume=function(){return this.getPropertyValue("volume")},l.prototype.getMuted=function(){return this.getPropeion(){return null!=this._pc&&this._pc.get("volume")},l.prototype.getProgramMuted=function(){return null!=this._pc&&this._pc.get("muted")},l.prototype.getRootUrl=function(){return this._opts.publicationData.server},l.prototype.getLogo=function(e,t){if("number"!=typeof e&&(e="default"),"number"!=typeof t&&(t="default"),void 0!==this._opts.playoutData.logoId&&""!=this._opts.playoutData.logoId){var i=this._opts.playoutData.logoClickUrl;return i&&((i=i.replace(/^:?\/\//,"https://")).match(/^(\w+:|)\/\//)||i.match(/^\/[^/]+/)||(i="https://"+i)),{position:this._opts.playoutData.logoAlign,url:i,src:this._opts.publicationData.server+"/mediaclip/"+this._opts.playoutData.logoId+"/pthumbnail/"+e+"/"+t+("webp"===this._imageExtension?".webp":""),id:this._opts.playoutData.logoId}}return null},l.prototype.getThumbnail=function(e,t,i){if("number"!=typeof t&&(t="default"),"number"!=typeof i&&(i="default"),e="number"==typeof e||!isNaN(parseInt(e))||"string"==typeof e&&e.indexOf(":")<0?"MediaClip:"+e:""+e){var n=e.split(":"),a=n.length>=2?n[0]:"MediaClip",o=n.length>=1?n[n.length-1]:0;return this._opts.publicationData.server+"/"+a.toLowerCase()+"/"+o+"/pthumbnail/"+t+"/"+i+"."+this._imageExtension}return this._clip&&this._clip.id?this._opts.publicationData.server+"/mediaclip/"+this._clip.ill},l.prototype.getFlag=fags");if(void 0!==i&&null!=i)for(var n in i)n==e&&(t=i[n]);return t},l.prototype.isPlaying=function(){return this.getPropertyValue("playing")},l.prototype.isFullscreen=function(){return this._sizer.isFullscreen()},l.prototype.getAssets=function(){if(null!=this._assets)return this._assets},l.prototype.getPreviewAsset=function(){if(!this._headController||"true"===(lip||{}).isThreeSixtyVideo||"true"===(this._clip||{}).isThreeSixtyVideo)return null;var e=this,t=null,i=this._clip&&this._clip.assets&&this._clip.assets.map((function(t){return t=e._headController.processAsset(t)}));if(i&&i.length){for(var n=0;n<i.length;n++){var a=i[n];if(a&&"MP4_PREVIEW"===a.mediatype){t=a;break}}if(!t){var t(e.bandwidth)<=1e3&&e.mediatype&&(-1!==e.mediatype.indexOf("MP4")||-1!==e.mediatype.indexOf("WEBM"))&&-1===e.mediatype.indexOf("HLS")})).sort((fu t},l.prototype.getCurrentAsset=function(){var e=null;if(null!=this._asset)e=this._asset;return e},l.prototype.getCurrentHeadType=function(){return"commercial"===this._mode?this._commercialHeadType:this._headType},l.prototype.getSubtitlesList=function(){var e=null;return this._subtitles?e=this._subtitles:this._clip&&void 0!==this._clip.subtitles&&null!=this._clip.subtitles&&(e=this._clip.subtitles),e},l.prototype.getCurrentSubtitle=function(){return this._currentSubtitle},l.prototype.setSubtitle=function(e){var t,i,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$element.trigger("bb_subtitle_set",[{subtitleId:e,hint:this._legacyTextTracks?"":"textTracks"}]);var a=null;if(-1!=e&&e||(a="off"),this._subtitles)for(var o=0;o<this._subtitles.length;o++)if(this._subtitles[o].id&&this._subtitles[o].id==e&&this._subtitles[o].isocode){a=this._subtitles[o].isocode;break}a&&n&&this.$element.trigger("bb_api_called",[{method:"setSubtitle_"+a}]);var s=(null===(t=this._subtitles)||void 0===t?void 0:t.find((function(t){return(null==t?void 0:t.id)===e})))||{id:"-1",isocode:"dis"};null===(i=this._localStorage)||void 0===i||i.set("userSelectedTextTrackIsoCode",s.isocode)},l.prototype._setSubtitleList=function(e){this._subtitles=e,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"subtitlelistchange")},l.prototype.setPreviewSubtitleData=function(e,t){var i;e||""===e?this._setSubtitleList([{default:"false",id:"0",isocode:"preview",languageid:"0",languagename:t||"Preview",name:"",status:"published",srtData:e}]):this._setSubtitleList((null===(i=this._clip)||void 0===i?void 0:i.subtitles)||null),this.$element.trigger("bb_preview_subtitle_changed",[{subtitles:this._subtitles}]),this.setSubtitle("0",!1)},l.prototype.contentShared=function(e){e&&this.$element.trigger("bb_api_called",[{method:"shared_"+e}])},l.prototype.doShare=function(e,t){if(e){this.$element.trigger("bb_api_called",[{method:"shared_"+e}]);var i=this.getSharing(),n=i&&i.find((function(t){return t&&t.name===e}));null!=n&&this.doOpenUrl(n.url,"_blank",t)}},l.prototype.doOpenUrl=function(e,t,i){if(i=i||!1,e){var n,a,o;if(e.match(/^\/\//)&&(e="https:"+e),"_blank"===(t=t||"_self")&&!i)((null===(n=this._detections)||void 0===n?void 0:n.isSafari)||(null===(a=this._detections)||void 0===a?void 0:a.iOSVersion)>=9)&&!(null===(o=this._detections)||void 0===o?void 0:o.isSDKPlayer)&&(t="_top");var s=!1;if("_top"===t)try{window.top.location.href=e}catch(e){s=!0}else if("_parent"===t)try{window.parent.location.href=e}catch(e){s=!0}else if("_self"===t)try{window.location.href=e}catch(e){s=!0}else{var l=t;if("_blank"===l&&(l=this._generateRandomTarget()),0!==e.indexOf(window.location.origin)&&e.match(/^(\w+:|)\/\//))try{window.open(e,l,"noopener")}catch(e){s=!0}else try{s=!window.open(e,l)}catch(e){s=!0}}s&&(this._openUrlParameters={url:e,target:t},window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"requestOpenUrl"))}},l.prototype.getOpenUrlParameters=function(){return this._openUrlParameters},l.prototype.getCurrentAudioTrack=function(){return this._currentAudioTrack},l.prototype.getAudioTracks=function(){return null!=this._audioTracks&&this._audioTracks.length<=1?null:this._audioTracks},l.prototype.selectAudioTrack=function(e){var t,i,n=null===(t=this._audioTracks)||void 0===t?void 0:t.find((function(t){return t&&t.id===e}));return(null==n?void 0:n.isocode)&&(null===(i=this._localStorage)||void 0===i||i.set("userSelectedAudioTrackIsoCode",n.isocode)),null!=this._pc&&this._pc.switchAudioTrack(enfo=function(){return this._adPodInfo},l.prototype.getPlayoutData=function(){return this._playout},l.prototype.getPublicationData=function(){var e;return null===(e=this._opts)||void 0===e?void 0:e.publicationData},l.prototype.getProjectData=function(){return this._projectData},l.prototype.getClipData=function(){return this._clip},l.prototype.getClipListData=function(){return this._clipListData},l.prototype.getRelatedClips=function(){return this._relatedClips},l.prototype.getRelatedItems=function(){return this._relatedItems},l.prototype.setRelatedClips=function(e){return!(!e||!e.length)&&(this._relatedClipsHelper&&(this._relatedClipsHelper.exit(),this._relatedClipsHelper=null),this.$element.triggerHandler("bb_related_clips_changed",[{clips:e,items:e}]),!0)},l.prototype.getChapterList=function(){var e,t,i=(null===(e=this._timelineChapters)||void 0===e?void 0:e.length)?this._timelineChapters:(null===(t=this._clipChapters)||void 0===t?void 0:t.length)?this._clipChapters:null;return i?i.sort((function(e,t){return e.timeOffset-t.timeOffset})).map((function(e,t){return{id:e.id,timeOffset:e.timeOffset,title:e.title?e.titlon}})):null},l.prototype.getHighlightList=function(){var e,t=(null===(e=this._clipHighlights)||void 0===e?void 0:e.length)?this._clipHighlights:ffset})).map((function(e,t){return{id:e.id,timeOffset:e.timeOffset,title:e.title?e.title:"Highlight ".concat(t+1)}})):null},l.encodeURIComponentDotToo=function(e){return encodeURIComponent(e).replace(/\./g,"%2E")},l.prototype.getSharing=function(){var e,t,i,n,a;if(!this._clip)return null;"true"===(null===(e=this._playout.useDeeplinkForFacebook)||void 0===e?void 0:e.toLowerCase())?this.deeplink=this.getDeeplink():(null===(t=this._opts)||void 0===t||null===(i=t.publicationData)||void 0===i?void 0:i.baseurl)&&this._sharePlayout&&(null===(n=this._clip)||void 0===n?void 0:n.id)?(this.deeplink=this._opts.publicationData.baseurl+"/view/"+this._sharePlayout+"/"+this._clip.id+".html",this.deeplink=this.deeplink.replace(/^\/\//,"https://")):this.deeplink=(null===(a=this._detections)||void 0===a?void 0:a.location)||window.location.href;var o=(this._opts.publicationData.baseurl,this._sharePlayout,this._opts.embedData.contentIndicator,this._opts.embedData.contentId),s=this._playout.shareText||"";o=this._opts.publicationData.baseurl+"/s/"+this._sharePlayout+"/c/"+this._clip.id+".jpg";var r=[];return"true"===this._playout.shareButtonEmail&&r.push({id:0,title:"E-mail",url:"mailto:?subject="+encodeURIComponent(this._clip.title)+"&body="+l.encodeURIComponentDotToo(this.deeplink),name:"email"}),"true"===this._playout.shareButtonFacebook&&r.push({id:1,title:"Facebook",url:"https://www.facebook.com/sharer.php?display=page&u="+l.encodeURIComponentDotToo(this.deeplink),name:"facebook"}),"true"===this._playout.shareButtonTwitter&&r.push({id:2,title:"Twitter",url:"https://twitter.com/intent/tweet?text="+l.encodeURIComponentDotToo(s)+"&url="+l.encodeURIComponentDotToo(this.deeplink),name:"twitter"}),"true"===this._playout.shareButtonLinkedIn&&r.push({id:3,title:"LinkedIn",url:"https://www.linkedin.com/sharing/share-offsite/?url="+l.encodeURIComponentDotToo(this.deeplink),name:"linkedin"}),"true"===this._playout.shareButtonPinterest&&r.push({id:5,title:"Pinterest",url:"https://pinterest.com/pin/create/button/?url="+l.encodeURIComponentDotToo(this.deeplink)+"&is_video=true&media="+l.encodeURIComponentDotToo(o),name:"pinterest"}),"true"===this._playout.shareButtonWhatsApp&&r.push({id:6,title:"WhatsApp",url:"https://wa.me/?text="+l.encodeURIComponentDotToo(s)+"%20"+l.encodeURIComponentDotToo(this.deeplink),name:"whatsapp"}),"true"===this._playout.shareButtonUrl&&r.push({id:7,title:"URL",url:this.deeplink,name:"url"}),r},l.prototype.getDeeplink=function(){var e="";if(this._clip&&void 0!==this._clip.deeplink&&""!=this._clip.deeplink&&null!=this._clip.deeplink)e=this._clip.deeplink;else if(void 0!==this._playout.deeplink&&""!=this._playout.deeplink&&null!=this._playout.deeplink)e=this._playout.deeplink;else if(this._clip&&void 0!==this._clip.gendeeplink&&""!=this._clip.gendeeplink&&null!=this._clip.gendeeplink)e=this._clip.gendeeplink;else{var t,i,n,a,o,s,l,r="true"===(null===(t=this._playout)||void 0===t?void 0:t.useFallbackViewpage)||window.location.href.match(/iOSAppPlayer|AndroidAppPlayer/i),d=(null===(i=this._playout)||void 0===i?void 0:i.sharePlayout)||(null===(n=this._opts)||void 0===n||null===(a=n.embedData)||void 0===a?void 0:a.playoutSafeName);e=r&&(null===(o=this._opts)||void 0===o||null===(s=o.embedData)||void 0===s?void 0:s.baseurl)&&d&&this._clip?(e"/"+this._clip.id+".html").replace(/^\/\//,"https://"):(null===(l=this._detections)||void 0===l?void 0:l.location)||window.location.href}return e},l.prototype.getPlayerPath=function(){return this._opts.playerPath},l.prototype.getEmbedcode=function(e,t){if(this._embedCodeForSharing)return this._embedCodeForSharing;var i=this._opts.publicationData.baseurl+"/"+this._opts.embedData.playoutIndicator+"/"+this._sharePlayout+"/"+this._opts.embedData.contentIndicator+"/"+this._opts.embedData.contentId+".js";this._clip&&(i=this._opts.publicationData.baseurl+"/"+this._opts.embedData.playoutIndicator+"/"+this._sharePlayout+"/c/"+this._clip.id+".js");var n=i.replace(/\.js$/,".html?inheritDimensions=true"),a=[];"number"==typeof e?a.push("width="+e):e=768,"number"==typeof t?a.push("height="+t):t=432,a.length>0&&(i=i+"?"+a.join("&"));var o="",s=" onload=\"this.src += '#!referrer='+encodeURIComponent(location.href)+'&realReferrer='+encodeURIComponent(document.referrer)\" src=\""+n+'" frameborder="0" webkitallowfullscreen mozallowFullscreen oallowFullscreen msallowFullscreen allowfullscreen ></iframe>';return o+=e&&t?'<iframe width="'+e+'" height="'+t+'" style="width:'+e+"px; height:"+t+'px;"'+s:'<div style="padding-bottom: 56.25%; /* 16x9 Aspect Ratio */ position: relative; height: 0; overflow: hidden;"><iframe style="width:100%; height:100%;display:block"'+s+"</div>"},l.prototype.getViewPageUrl=function(){var e=window.location.href;return this._opts&&this._opts.publicationData&&this._opts.publicationData.baseurl&&this._sharePlayout&&this._clip&&this._clip.id&&(e=(e=this._opts.publicationData.baseurl+"/view/"+this._sharePlayout+"/"+this._clip.id+".html").replace(/^\/\//,"https://")),e},l.prototype.getPropertyValue=function(e){if(void 0===e||null==e)return!1;var t=e.toString().split(".");if(null!=t&&t.length>0)switch(t[0]){case"id":return this._playerId;case"alias":return this._playerAlias;case"playing":return!!this._playing;case"progress":return this._pc.get("currentTime");case"volume":return this._sc.getVolume();case"muted":return this._sc.getMuted();case"isPlaying":return this._playing?"true":"false";case"isMuted":return this._sc.getMuted()?"true":"false";case"isFullscreen":return this.isFullscreen()?"true":"false";case"currentSubtitleLanguage":return void 0!==this.getCurrentSubtitle()&&null!=this.getCurrentSubtitle()&&void 0!==this.getCurrentSubtitle().languagename&&null!=this.getCurrentSubtitle().languagename?this.getCurrentSubtitle().languagename:"Disabled";case"currentSubtitleIsoCode":return void 0!==this.getCurrentSubtitle()&&null!=this.getCurrentSubtitle()&&void 0!==this.getCurrentSubtitle().isocode&&null!=this.getCurrentSubtitle().isocode?this.getCurrentSubtitle().isocode:"dis";case"currentAudioTrackLanguage":return void 0!==this.getCurrentAudioTrack()&&null!=this.getCurrentAudioTrack()&&void 0!==this.getCurrentAudioTrack().label&&null!=this.getCurrentAudioTrack().label?this.getCurrentAudioTrack().label:"Main";case"hasEmailSharing":return this.hasSharingOption("email");case"hasFacebookSharing":return this.hasSharingOption("facebook");case"hasTwitterSharing":return this.hasSharingOption("twitter");case"hasLinkedinSharing":return this.hasSharingOption("linkedin");case"hasPinterestSharing":return this.hasSharingOption("pinterest");case"hasWhatsappSharing":return this.hasSharingOption("whatsapp");case"browserLanguage":return this._browserLanguage;case"device_isMobileDevice":case"device_measuredBandwidth":case"device_objectFit":case"device_hasWebGL":case"device_inIframe":case"device_isUIWebView":case"device_isWindowsPhone":case"device_isMobileDevice":case"device_isiPad":case"device_iPadVersion":case"device_iPadVersionCheck":case"device_isiPhone":case"device_iOSVersion":case"device_isiOS":case"device_isAndroid":case"device_isAndroidNative":case"device_androidVersion":case"device_canControlVolume":case"device_canPlayInline":case"device_devicePixelRatio":case"device_deviceResolution":case"device_deviceResolutionString":case"device_deviceOrientation":case"device_isIE":case"device_ieVersion":case"device_isEdge":case"device_isSafari":case"device_edgeVersion":case"device_supportsHTML5IMA":case"device_isChrome":case"device_isFirefox":case"device_isWebkit":case"device_isGecko":case"device_isOpera":case"device_hasTouch":case"device_isTouchDevice":case"device_canAutoPlayAdvanced":case"device_svg":var i=String(t[0]).substring(7,t[0].length);return this._detections[i];default:if(t.length>1){var n=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController");if("visible"==t[1]){if(void 0!==n&&null!=n)return n.isVisible(t[0])?"true":"false"}else if("enabled"==t[1]&&void 0!==n&&null!=n)return n.isEnabled(t[0])?"true":"false"}else if(null!=this._pc)return this._pc.get(t[0])}return null},l.prototype.hasSharingOption=function(e){for(var t=this.getSharing(),i=0;i<t.length;i++){var n=t[i];if(void 0!==n.name&&null!=n.name&&n.name==e)return!0}return!1},l.prototype.showInterfaceElement=function(e){var t=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController");void 0!==t&&null!=t&&t.show(e)},l.prototype.hideInterfaceElement=function(e){var t=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController");void 0!==t&&null!=t&&t.hide(e)},l.prototype.enableInterfaceElement=function(e){var t=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController");void 0!==t&&null!=t&&t.unction(e){var t=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController");void 0!==t&&null!=t&&t.disable(e)},l.prototype.getCurrentSubtitleLine=function(e,t){return this._currentSubtitleLine},l.prototype.getAdLogs=function(){return thi.prototype.updatePlayout=functitotype.updateLineItemPlayout=function(e){return null!=this._msasController&&this._msasController.updateLineItemPlayout(e)},l.prototype.autoPlayNextCancel=function(){return!!this._pc&&this._pc.autoPlayNextCancel()},l.prototype.triggerMessage=function(e){this.$element&&this.$element.trigger("bb_on_message",[{name:e}])},l.prototype.handleParentWindowEvent=function(e){switch(e.eventType){case"deviceorientation":case"orientationchange":this._triggerEvent(e.eventType,e.eventProps,"window")}},l.prototype.handleParentDocumentEvent=function(e){if("fullscreenchange"===e.eventType)this._triggerEvent(e.eventType,e.eventProps,"document")},l.prototype._triggerEvent=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new Event(e,{bubbles:!0,cancelable:!1});for(var a in t)n[a]=t[a];switch(i){case"window":window.dispatchEvent(n);break;case"document":document.dispatchEvent(n);break;default:var o;null===(o=this.$element)||void 0===o||o.get(0).dispatchEvent(n)}},l.prototype.appendSanitizedHtmlTo=function(e,t){t&&"function"==typeof t.appendChild&&$parcel$interopDefault(n)(t).bb_appendSanitized(e)},l.prototype.setSanitizedHtmlTo=function(e,t){t&&"function"==typeof t.appendChild&&$parcel$interopDefault(n)(t).bb_htmlSanitized(e)},l.prototype.sanitizeHtml=function(e){var t=document.createElement("div");return l.prototype.setSanitis._pc||"function"!=typeof this._pc.setPlaybackRate)&&this._pc.setPlaybackRate(e)},l.prototype.getPlaybackRate=function(){return!(!this._pc||"function"!=typeof this._pc.getPlaybackRate)&&this._pc.getPlaybackRate()},l.prototype.setInView=function(e){var t,i;return"function"==typeof(null===(t=this._inViewController)||void 0===t?void 0:t.setInView)&&(null===(i=this._inViewController)||void 0===i?void 0:i.setInView(e))},l.prototype._generateRandomTarget=function(){var e=new Date;return(Math.random().toString()+"_"+e.getTime()).replace(/[-.\s]/g,"")},l.prototype._onLoadedData=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadeddata")},l.prototype._onAdLog=function(e,t){this._adLogs&&this._adLogs.push||(this._adLogs=[]),this._adLogs.push(t)},l.prototype._onAdQuartile=function(e,t){if(t&&(0===t.quartile||t.quartile>0)){e=0===t.quartile?"adstarted":4===t.quartile?"adfinished":"adquartile"+t.quartile;window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,e)}},l.prototype._onAutoPlayNextTimerEvent=function(e,t){switch(t&&void 0!==t.remainingTime&&this.$element.attr("data-autoPlayNextRemainingTime",t.remainingTime),e.type){case"bb_autoplaynexttimer_started":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"autoplaynexttimerstarted");break;case"bb_autoplaynexttimer_cancelled":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"autoplaynexttimercancelled");break;case"bb_autoplaynexttimer_tick":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"autoplaynexttimertick");break;case"bb_autoplaynexttimer_finished":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"autoplaynexttimerfinished");break;case"bb_autoplaynexttimer_paused":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"autoplaynexttimerpaused");break;case"bb_autoplaynexttimer_resumed":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"autoplaynexttimerresumed")}},l.prototype._onSoftEmbargoTimerEvent=function(e,t){switch(t&&void 0!==t.remainingTime&&this.$element.attr("data-softEmbargoRemainingTime",t.remainingTime),e.type){case"bb_softembargotimer_started":void 0!==(null==t?void 0:t.endDate)&&this.$element.attr("data-softEmbargoEndDateTS",t.endDate.valueOf()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"softembargotimerstarted");break;case"bb_softembargotimer_cancelled":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"softembargotimercancelled");break;case"bb_softembargotimer_tick":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"softembargotimertick");break;case"bb_softembargotimer_finished":window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"softembargotimerfinished")}},l.prototype._onLoadedMetaData=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedmetadata")},l.prototype._assetId=function(e){var t="";return e&&(t="".concat(e.mediatype).concat(Math.round(e.bandwidth)).concat(Math.round(e.width)).concat(Math.round(e.height))),t},l.prototype._assetTitle=function(e){var t="",i="video";switch(this._clip&&void 0!==this._clip.mediatype&&(i=this._clip.mediatype),i){case"video":t=e.height>0?(120*Math.ceil(e.height/120)).toString()+"p":"",-1!==e.id&&"auto"!==e.height||(t="auto"+(t.length?" ("+t+")":""));break;case"audio":t=e.bandwidth>0?e.bandwidth.toString()+" kbps":"",-1!==e.id&&"auto"!==e.bandwidth||(t="auto"+(t.length?" ("+t+")":""))}return t},l.prototype._assetClasses=function(e){return"bb-"+this._assetTitle(e)+" bb-"+(e.height>=720?"hd":"sd")},l.prototype._fakeMode=function(e){if(null!=e&&void 0!==e.mediatype)switch(e.mediatype){case"image":case"interactive":case"document":case"text":return"static";case"mainroll":return"commercial";case"audio":case"video":return("live"==e.sourcetype?"live-":"")+e.mediatype;case"presentation":return e.mediatype}return"video"},l.prototype._call=function(e,t){switch(void 0===t&&(t=null),isNaN(t)||(t="boolean"==typeof t?{value:t}:{value:parseFloat(t)}),e){case"load":return this.load(t);case"unload":return this.load(null);case"resume":case"play":return this.play(t);case"pause":return this.pause();case"seek":return this.seek(t.value);case"setVolume":return this.setVolume(t.value);case"setMuted":return this.setMuted(t.value);case"updatePlayout":return this.updatePlayout(t)}},l.prototype._onAdLoaded=function(e,t){e.stopPropagation(),null!=t&&void 0!==t.ad&&(this._currentAd=$parcel$interopDefault(n).extend({},t.ad),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"ad_loaded"))},l.prototype._onPlayoutLoaded=function(e,t){e.stopPropagation(),null!=t&&void 0!==t.playoutData&&(this._playout=$parcel$interopDefault(n).extend({},t.playoutData),this._sharePlayout=this._opts.embedData.playoutSafeName,this._opts.playoutData&&void 0!==this._opts.playoutData.sharePlayout&&""!=this._opts.playoutData.sharePlayout&&(this._sharePlayout=this._opts.playoutData.sharePlayout),"true"!=this._playout.autoPlay||this._started||(this.$element.addClass("bb-pendingplay"),this._$skinLayer&&this._$skinLayer.addClass("bb-pendingplay")),this._loadedplayoutdata=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedplayoutdata"))},l.prototype._onPlayoutChanged=function(e,t){if(e.stopPropagation(),null!=t&&void 0!==t.playoutData&&null!=t.playoutData){if(this._playout||(this._playout={}),t.playoutData!==this._playout)for(var i in t.playoutData)this._playout[i]=t.playoutData[i];void 0!==t.playoutData.sharePlayout&&(this._sharePlayout=""!=t.playoutData.sharePlayout?t.playoutData.sharePlayout:this._opts.embedData.playoutSafeName),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"changedplayoutdata")}},l.prototype._onProjectLoaded=function(e,t){e.stopPropagation(),void 0!==t.projectData&&(this._projectData=t.projectData,this._loadedprojectdata=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedprojectdata"))},l.prototype._onClipListLoaded=function(e,t){e.stopPropagation(),t.clipListData&&(this._clipListData=t.clipListData,this._loadedcliplistdata=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedcliplistdata"))},l.prototype._onClipLoaded=function(e,t){if(e.stopPropagation(),this._canPlay=!1,this._relatedClips=null,this._relatedItems=null,this.$element.attr("data-currentTime","0"),t.clipData){this._clip=t.clipData,this._setSubtitleList(this._clip.subtitles||null),void 0!==this._clip.embedCodeForSharing&&this._clip.embedCodeForSharing.toString().match(/^\s*<.*>\s*$/)&&(this._embedCodeForSharing=this._clip.embedCodeForSharing),this._loadedclipdata=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedclipdata"),this.$element.trigger("bb_media_duration_change");var i=this._mode;this._mode=this._fakeMode(this._clip),this._mode!=i&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange")),this.updateClipChapters(this._clip),this.updateClipHighlights(this._clip)}this.$element.removeClass(this._states.join(" ")).addClass("bb-state-idle"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-idle"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"timeupdate")},l.prototype.updateClipChapters=function(e){this._clipChapters=(null==e?void 0:e.chapters)||[],window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"chapterlistchange")},l.prototype.updateClipHighlights=function(e){this._clipHighlights=(null==e?void 0:e.highlights)||[],window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"highlightlistchange")},l.prototype._onTimelineChaptersChanged=function(e,t){e.stopPropagation(),void 0!==t.chapters&&(this._timelineChapters=t.chapters,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"chapterlistchange"))},l.prototype._onTimelineLoaded=function(e){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"loadedinteractivity")},l.prototype._onPhaseChange=function(e,t){if(e.stopPropagation(),void 0!==t.phase&&!this._beforeUnload){this._phase=t.phase,o.default("[PublicAPI] _onPhaseChange phase = "+this._phase),this.$element.removeClass(this._phases.join(" ")).addClass("bb-phase-"+this._phase.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._phases.join(" ")).addClass("bb-phase-"+this._phase.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"phasechange");var i=this._mode;"PRE"==this._phase||"POST"==this._phase?(this._mode="commercial",this._mode!=i&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"))):(this._mode=this._fakeMode(this._clip),this._mode!=i&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"))),(this._autoPlayNext&&"MAIN"==this._phase||!this._autoPlayNext&&"EXIT"==this._phase||this._relatedClipsPause&&"MAIN"==this._phase)&&null!=this._relatedClipsHelper&&this._relatedClipsHelper.load(),"EXIT"==this._phase?this._ended||(this._ended=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"ended"),this._state="idle",this.$element.removeClass(this._states.join(" ")).addClass("bb-state-idle"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-idle"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange")):this._ended=!1,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"timeupdate"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange")}},l.prototype._onRelatedClipsChanged=function(e,t){e.stopPropagation(),void 0!==t.clips&&(this._relatedClips=t.clips,this._relatedItems=t.items||t.clips,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"relatedclipschange"))},l.prototype._onAssetsChanged=function(e,t){if(e.stopPropagation(),null==t?void 0:t.textTracks){var i;this._legacyTextTracks=!1,this._setSubtitleList(t.textTracks),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"texttracklistchange");var n=this._currentSubtitle;if(this._currentSubtitle=null===(i=this._subtitles)||void 0===i?void 0:i.find((function(e){return null==e?void 0:e.selected})),this._currentSubtitle!==n&&window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"subtitlechange"),!this._currentSubtitle){var a,o,s=null==n?void 0:n.isocode;s&&"dis"!==s||(s=null===(a=this._localStorage)||void 0===a?void 0:a.get("userSelectedTextTrackIsoCode"));var l=null===(o=this._subtitles)||void 0===o?void 0:o.find((function(e){return(null==e?void 0:e.isocode)===s}));l&&this.$element.trigger("bb_subtitle_set",[{subtitleId:l.id,hint:"textTracks"}])}}else{var r;this._legacyTextTracks=!0,this._setSubtitleList((null===(r=this._clip)||void 0===r?void 0:r.subtitles)||null)}if(null==t?void 0:t.audioTracks){var d;this._legacyAudioTracks=!1,this._audioTracks=t.audioTraEventOnJQueryObject(this.$element,"audiotracklistchange");var u=this._currentAudioTrack;this._currentAudioTrack=null===(d=this._audioTracks)||void 0===d?void 0:d.find((function(e){return null==e?void 0:e.selected})),this._currentAudioTrack!==u&&window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"audiotrackchange")}else if(null==t?void 0:t.assets){var c=this,h=function(e){var i=t.assets[e];if(i){var n=i["language-id"]||"-1",a={id:n,label:"-1"!==n?i["language-name"]:"Main",isocode:"-1"!==n?i["language-isocode"]:"main"};c._audioTracks.findIndex((function(e){return(null==e?void 0:e.id)===a.id}))<0&&c._audioTracks.push(a)}};this._legacyAudioTracks=!0,this._audioTracks=[];for(var p=0;p<t.assets.length;p++)h(p);window.bluebillywig._interns.$element,"audiotracklistchange")}if(void 0!==(null==t?void 0:t.assets)){var _=this._originalAssets=t.assets;if(null!=_){for(var m,f=this,v=function(e){var t=k[e],i=k.filter((function(e){return e.title===t.title}));if(i.length>1)if("MP3"===t.mediatype)k[e].title+=" low";else if("AAC"===t.mediatype)k[e].title+=" high";else{f._assetCanStay(t,i,t.height===S)||k.splice(e,1)}},g={},y=0;y<_.length;y++){var b=_[y];if(null!=b){var w={id:this._assetId(b),title:this._assetTitle(b),width:b.width,height:b.height,bitrate:b.bandwidth,mediatype:b.mediatype,classes:this._assetClasses(b),origId:b.id};g[""+b["language-id"]]||(g[""+b["language-id"]]=[]),g[""+b["language-id"]].push(w)}}var k=[],$=-1;for(var C in g)g[C].length>$&&($=g[C].length,k=g[C]);var S=k.reduce((function(e,t){return Number(t.height)<Number(e)?t.height:e}),null===(m=k[0])||void 0===m?void 0:m.height);"auto"!==S&&-1!=S||(S=1);for(var P=k.length-1;P>=0;P--)v(P);this._assets=k}window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"assetlistchange")}else this._originalAssets=null},l.prototype._findAssetId=function(e){var t,i=null===(t=this._originind((function(t){return t&&t.id===e}));if(null!=i)return this._assetId(i)},l.prototype._findAssetTitle=function(e){var t,i=null===(t=this._originalAssets)||void 0===t?void 0:t.find((function(t){return t&&t.id===e}));if(null!=i)return this._assetTitle(i)},l.prototype._assetCanStay=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1;if(!t||t.length<=1)return!0;if(i){var a,o=t.reduce((function(e,t){return Number(t.bitrate)<Number(e)?t.bitrate:e}),null===(a=t[0])||void 0===a?void 0:a.bitrate),s=t.filter((functibitrate===o&&e.origId===s[0].origId}else{var l,r=t.reduce((function(e,t){return Number(t.bitrate)>Number(e)?t.bitrate:e}),null===(l=t[0])||void 0===l?void 0:l.bitrate),d=t.filter((function(e){return e.bitrate===r}));n=e.bitrate===r&&e.origId===d[0].origId}return n},l.prototype._onAutoPlayCheckReady=function(e,t){o.default("[PublicAPI] _onAutoPlayCheckReady canAutoPlay = "+t.canAutoPlay+" canAutoPlayMuted = "+t.canAutoPlayMuted);var i,n=t.canAutoPlay,a=t.canAutoPlayMuted;(this._autoPlayAdvancedCheckCanAutoPlay=!!n,this._autoPlayAdvancedCheckCanAutoPlayMuted=!!a,!this._started&&this._pendingNonUserPlay)&&(this._pendingNonUserPlay=!1,n||a&&this._playout&&"true"!==this._playout.avoidMutedAutoPlay?this.play():(this.$element.removeClass("bb-pendingplay"),null===(i=this._$skinLayer)||void 0===i||i.removeClass("bb-pendingplay")))},l.prototype._onPlaybackAvaChanged=function(e,t){if(t)if("available"===t.availability)this.enableInterfaceElement("castButton");else this.disableInterfaceElement("castButton")},l.prototype._onPlaybackRateChanged=function(e,t){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"ratechange")},l.prototype.showCastTargetPicker=function(e){var t=!1;return this._pc&&(t=this._pc.showCastTargetPicker(e)),t},l.prototype.getCastSource=function(){var e=!1;return this._pc&&(e=this._pc.getCastSource()),e},l.prototype._onCastSessionChange=function(){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"castsessionchange")},l.prototype._onCastSessionStateChange=function(){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"castsessionstatechange")},l.prototype.getCastSession=function(){var e,t;return(null===(e=this._pc)||void 0===e||null===(t=e.getCastSession)||void 0===t?void 0:t.call(e))||!1},l.prototype._updateAssetAndAudioTrack=function(e,t){null!=this._asset&&this._asset.id===e.id||(this._asset=e,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"assetselected")),this._legacyAudioTracks&&(null!=this._currentAudioTrack&&this._currentAudioTrack.id===t.id||(this._currentAudioTrack=t,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"audiotrackchange")))},l.prototype._onAssetSelected=function(e,t){if(e.stopPropagation(),(null==t?void 0:t.asset)&&this._assets){var i,n;n=void 0!==t.asset["language-id"]?{id:t.asset["language-id"],label:t.asset["language-name"]}:{id:"-1",label:"Main"}assets.find((function(e){return(null==e?void 0:e.id)===a})))return this._updateAssetAndAudioTrack(i,n);var o=this._findAssetTitle(t.asset.id);if(i=this._assets.find((function(e){return(null==e?void 0:e.title)===o}))_onAudioTrackSelected=function(e,t){null==e||e.stopPropagation(),void 0!==(null==t?void 0:t.audioTrackId)&&(this._currentAudioTrack=this._audioTracks.find((function(e){return(null==e?void 0:e.id)===t.audioTrackId})),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"audiotrackchange"))},l.prototype._onHeadSelected=function(e,t){e.stopPropagation(),this._headType=t&&t.headType?t.headType.toLowerCase():"unknown"},l.prototype._onCommercialHeadSelected=function(e,t){e.stopPropagation(),this._commercialHeadType=t&&t.headType?t.headType.toLowerCase():"unknown"},l.prototype._onMediaLoadStart=function(e){this._isWaiting=!1,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"load"),"loading"!=this._state&&(this._state="loading",this._playing=!1,this._playing_med=!1,this._playing_com=!1,this._paused_com=!1,this.$element.removeClass(this._states.join(" ")).addClass("bb-state-loading"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-loading"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange"))},l.prototype._onCommercialLoadStart=function(e){"PRE"!=this._phase&&"POST"!=this._phase||this._onMediaLoadStart(e)},l.prototype._onCanPlay=function(e){e.stopPropagation(),this._canPlay||(this._canPlay=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"canplay")),this._isWaiting=!1,"loading"==this._state&&(this._playing||(this._state="paused",this.$element.removeClass(this._states.join(" ")).addClass("bb-state-paused"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-paused"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange")))},l.prototype._onCouldPlay=function(e){var t;e.stopPropagation(),(null===(t=this._detections)||void 0===t?void 0:t.avoidPreload)&&"loading"===this._state&&(this._playing||(this._state="paused",this.$element.removeClass(this._states.join(" ")).addClass("bb-state-paused"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-paused"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange")))},l.prototype._onPlay=function(e){e.stopPropagation(),this._contextMenu&&this._contextMenu.disable(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"play"),this.isPlaying()||(this.$element.addClass("bb-pendingplay"),this._$skinLayer&&this._$skinLayer.addClass("bb-pendingplay"))},l.prototype._onAutoPause=function(e,t){e.stopPropagation(),this.$element.removeClass("bb-pendingplay"),this.$element.removeClass("bb-loading"),this._$skinLayer&&(this._$skinLayer.removeClass("bb-pendingplay"),this._$skinLayer.removeClass("bb-loading")),this._pendingNonUserPlay=!1,"loading"==this._state&&(this._playing||(this._state="paused",this.$element.removeClass(this._states.join(" ")).addClass("bb-state-paused"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-paused"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange"))),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"autopause")},l.prototype._onFloatEnd=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"floatend")},l.prototype._onFloatStart=function(e){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"floatstart")},l.prototype._onPlaying=function(e){this._contextMenu&&this._contextMenu.enable(),e.stopPropagation(),this.$element.removeClass("bb-pendingplay"),this.$element.removeClass("bb-loading"),this._$skinLayer&&(this._$skinLayer.removeClass("bb-pendingplay"),this._$skinLayer.removeClass("bb-loading")),this._pendingNonUserPlay=!1;var t=this._mode;this._mode=this._playing_com||this._paused_com?"commercial":this._fakeMode(this._clip),this._mode!=t&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange")),this._isWaiting=!1;var i=this._playing;if(this._playing=this._playing_med||this._playing_com,!i&&this._playing&&(this.$element.removeClass(this._states.join(" ")).addClass("bb-state-playing"),this._$skinLayer&&this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-playing"),this._state="playing",window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"playing"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange")),!this._started){if(this._started=!0,o.debugMode)try{performance.mark("playingStarted"),performance.measure("from PLAYER_INIT to playingStarted","PLAYER_INIT","playingStarted"),performance.measure("from objectPlacement to playingStarted","objectPlacement","playingStarted");var n=performance.getEntriesByType("mark"),a={};n.forEach((function(e){if(e.name.startsWith("end_")){var t=e.name.substring(4);if(a[t]){var i="end_"+t;performance.measure(t,t,i)}}else a[e.name]=e}));var s=performance.getEntriesByType("measure");console.table(s,["startTime","name","duration"]),performance.clearMarks(),performance.clearMeasures()}catch(e){}window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"started")}this._isStalled&&(this._isStalled=!1,this.$element.removeClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.removeClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"unstalled"))},l.prototype._onMediaPlaying=function(e){this._playing_med=!0,this._paused_com=!1,this._onPlaying(e)},l.prototype._onCommercialPlaying=function(e){this._playing_com=!0,this._paused_com=!1,this._onPlaying(e)},l.prototype._onPaused=function(e){if(e.stopPropagation(),"MAIN"===this._phase){var t=this._mode;this._mode=this._playing_com||this._paused_com?"commercial":this._fakeMode(this._clip),this._mode!=t&&(this.$element.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),this._$skinLayer&&this._$skinLayer.removeClass(this._modes.join(" ")).addClass("bb-mode-"+this._mode.toLowerCase()),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"modechange"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange"))}this._isWaiting=!1;var i=this._playing;this._playing=this._playing_med||this._playing_com,i&&!this._playing&&(this._playing=!1,this.$element.removeClass("bb-pendingplay"),this.$element.removeClass(this._states.join(" ")).addClass("bb-state-paused"),this._$skinLayer&&(this._$skinLayer.removeClass("bb-pendingplay"),this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-paused")),this._state="paused",window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"pause"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange")),this._isStalled&&(this._isStalled=!1,this.$element.removeClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.removeClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"unstalled"))}gation(),this._isWaiting||(this._isWaiting=!0,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"waiting"))},ed(e)},l.prototype._onCommercialPaused=function(e){this._playing_com=!1,this._paused_com=!0,this._onPaused(e)},l.prototype._onCommercialEnded=function(e){this._playing_com=!1,this._paused_com=!1,this._onPaused(e)},l.prototype._onStalled=function(e){e.stopPropagation(),!this._isStalled&&this.isPlaying()&&(this._isStalled=!0,this.$element.addClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.addClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"stalled"))},l.prototype._onProgress=function(e,t){window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"progress")},l.prototype._onTimeUpdate=function(e,t){e.stopPropagation();t&&t.currentTime&&(this._ctDelta=t.currentTime-this._lastCurrentTime,this._lastCurrentTime=t.currentTime,0==this._ctDelta?this._timeEqual++:this._timeEqual=0,this._timeEqual>30?!this._isStalled&&this.isPlaying()&&(this._isStalled=!0,this.$element.addClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.addClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"stalled")):this._isStalled&&(this._isStalled=!1,this.$element.removeClass("bb-stalled"),this._$skinLayer&&this._$skinLayer.removeClass("bb-stalled"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"unstalled")),this.$element.attr("data-currentTime",t.currentTime),"commercial"!==this._mode&&(this._lastKnownMediaCurrentTime=this._lastCurrentTime),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"timeupdate"))},l.prototype._onSeeking=function(e){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"seeking")},l.prototype._onSeeked=function(e,t){e.stopPropagation(),void 0!==t&&(this.$element.attr("data-currentTime",t.seekedPosition),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"seeked"))},l.prototype._onMediaDurationChange=function(e,t){if(e.stopPropagation(),void 0!==t){var i,n=this._mediaDuration;isNaN(t.duration)?this._clip&&!isNaN(this._clip.length)?this._mediaDuration=this._clip.length:this._mediaDuration=null:this._mediaDuration=t.duration<4294967296?t.duration:1/0,n===1/0&&"live"===(null===(i=this._clip)||void 0===i?void 0:i.sourcetype)&&(this._mediaDuration=1/0),this.$element.attr("data-duration",this._mediaDuration),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange")}else this._clip&&!isNaN(this._clip.length)&&(this._mediaDuration=this._clip.length,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange"))},l.prototype._onCommercialDurationChange=function(e,t){e.stopPropagation(),void 0!==t&&(this._commercialDuration=t.duration,this.$element.attr("data-duration",this._commercialDuration),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"durationchange"))},l.prototype._onError=function(e,t){e.stopPropagation(),void 0===t||this._beforeUnload||("array"!==i.default(this.$element.data("errors"))&&this.$element.data("errors",[]),this._playing=!1,this._playing_med=!1,this._playing_com=!1,this._paused_com=!1,this.$element.data("errors").push(t),this.$element.removeClass("bb-pendingplay"),this.$element.removeClass(this._states.join(" ")).addClass("bb-state-error"),this._$skinLayer&&(this._$skinLayer.removeClass("bb-pendingplay"),this._$skinLayer.removeClass(this._states.join(" ")).addClass("bb-state-error")),this._state="error",window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"error"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"statechange"))},l.prototype._onResized=function(e,t){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"resized")},l.prototype._onVolumeChange=function(e,t){e.stopPropagation(),void 0!==t&&(this.$element.attr("data-volume",t.volume),t.muted?(this.$element.addClass("bb-muted"),this._$skinLayer&&this._$skinLayer.addClass("bb-muted")):(this.$element.removeClass("bb-muted"),this._$skinLayer&&this._$skinLayer.removeClass("bb-muted")),window.bluebillywig._internal.Util.triggerEventOnJQueryototype._onSubtitleChanged=function(e,t){var i;(e.stopPropagation(),t)&&(void 0!==t.subtitleId?this._currentSubtitle=null===(i=this._subtitles)||void 0===i?void 0:i.find((function(e){return e&&e.id===t.subtitleId})):this._currentSubtitle=t.subtitle||null,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"subtitlechange"))},l.prototype._onInview=function(e,t){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"inview")},l.prototype._onOutview=function(e,t){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"outview")},l.prototype._onFlagChange=function(e,t){if(e.stopPropagation(),void 0!==t&&null!=t&&null!=this.$element){var i=this.$element.data("flags");for(var n in void 0!==i&&null!=i||(i={}),t)i[n]=t[n];this.$element.data("flags",i)}window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"flagchange")},l.prototype._onSubtitleLineChanged=function(e,t){e.stopPropagation(),void 0!==t&&(this._currentSubtitleLine=t.subtitleLine,window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"subtitlelinechange"))},l.prototype._onFullscreenChange=function(e,t){e.stopPropagation(),void 0!==t&&(this._fullscreen=t.fullscreen,this._fullscreen?(this.$element.addClass("bb-fullscreen"),this._$skinLayer&&this._$skinLayer.addClass("bb-fullscreen"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"fullscreen")):(this.$element.removeClass("bb-fullscreen"),this._$skinLayer&&this._$skinLayer.removeClass("bb-fullscreen"),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"retractfullscreen")))},l.prototype._onFullScreenMismatch=function(e,t){(e.stopPropagation(),t&&void 0!==t.fullScreenMismatch)&&(!!t.fullScreenMismatch?window.bluebillywig.Object(this.$element,"fullscreenmismatch"):window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"fullscreenmismatchresolved"))},l.prototype._onBeforeUnload=function(e){this._beforeUnload=!0},l.prototype._onMessage=function(e){if("string"==typeof(null==e?void 0:e.data))switch(e.data){case"handshake":try{window.parent.postMessage("handshakeSucceeded","*")}catch(e){}case"handshakeSucceeded":this._handshakeSucceeded=!0;break;case"parentCancelFullscreen":this.retractFullscreen()}else if("object"==typeof(null==e?void 0:e.data)&&"string"==typeof e.data.methodName&&0!==e.data.methodName.indexOf("_")&&"function"==typeof this[e.data.methodName]){var t=e.data.params;try{t=JSON.parse(e.data.paramsJson)}catch(e){}Array.isArray(t)?this[e.data.methodName].apply(this,t):this[e.data.methodName](t)}},l.prototype._onAdError=function(e,t){if(e.stopPropagation(),"bb_adsystem_noad"===e.type)window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"adnotfound");else window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"aderror")},l.prototype._onAdSystemLoaded=function(e,t){var i=(null==t?void 0:t.adProperties)||null;this._updateAdPodInfo(i),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"adloaded")},l.prototype._onAdScheduleItemCanPlay=function(e,t){var i=(null==t?void 0:t.adProperties)||null;this._updateAdPodInfo(i),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"adloaded")},l.prototype._onAdSkipped=function(e,t){var i,n;null===(i=this._mouseController)||void 0===i||i.disable(),null===(n=this._inViewController)||void 0===n||n.disable()},l.prototype._updateAdPodInfo=function(e){var t;this._adPodInfo=null,e&&(null===(t=e.adPodInfo)||void 0===t?void 0:t.adPosition)&&e.adPodInfo.totalAds&&parseInt(e.adPodInfo.totalAds)>1&&(this._adPodInfo={adPosition:e.adPodInfo.adPosition,totalAds:e.adPodInfo.totalAds})},l.prototype._onMouseOverXS=function(e,t){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"mouseover"+t.interval+"s")},l.prototype._onCollapsed=function(e){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"collapsed")},l.prototype._onExpanded=function(e){e.stopPropagation(),window.bluebillywig._internal.Util.triggerEventOnJQueryObject(this.$element,"expanded")}})),parcelRequire.register("kp23R",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=parcelRequire("bcucV"),o=parcelRequire("4AQp6"),s=function(e,t){if(this._opts=void 0!==t?t:null,this._pc=null,this._clipsSeenThisSession=[],this._contentSeenThisSession=[],this._randomizeRelatedItems=!1,this._exitscreenItemsListId=null,this._autoPlayNext=!1,this._content=null,this._randomSeed=0,null!=this._opts){var i=void 0!==this._opts.playoutData?this._opts.playoutData:null;null!=i&&(void 0!==i.randomizeRelatedItems&&(this._randomizeRelatedItems=i.randomizeRelatedItems),void 0!==i.exitscreenItemsListId&&(this._exitscreenItemsListId=i.exitscreenItemsListId),void 0!==i.autoPlayNext&&(this._autoPlayNext=!0===i.autoPlayNext||"true"===i.autoPlayNext)),this._content=void 0!==this._opts.clipData?this._opts.clipData:null}this._relatedItems=null,this._relatedClips=null,this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onFailedClipDataBound=this._onFailedClipData.bind(this),this._onLoadedProjectDataBound=this._onLoadedProjectData.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,this._pc=n.default.getService(this._opts.playerAliasOrId).getInstance("ProgramController"),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.on("bb_mediaclip_failed",this._onFailedClipDataBound),this.$element.on("bb_project_loaded",this._onLoadedProjectDataBound))};s.prototype.exit=function(){return null!=this.$element&&(this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.off("bb_mediaclip_failed",this._onFailedClipDataBound),this.$element.off("bb_project_loaded",this._onLoadedProjectDataBound)),null},s.prototype.load=function(e){var t=this;if(this._content&&"mainroll"!=this._content.mediatype){var n,s=this;if(n=void 0!==this._content.title&&null!=this._content.title?this._content.title.split(" "):new Array,void 0===this._mode&&void 0===e){this._exitscreenAuxfield=null;for(var l="relateditems gerelateerdeitems relatedcliplist exitscreen exitscreenitems".split(" "),r=0;r<l.length;r++){var d=this._content[l[r]];void 0!==d&&""!=d&&null!=d&&(this._exitscreenAuxfield=d)}null!=this._exitscreenAuxfield?this._mode="exitscreenAuxfield":void 0!==this._exitscreenItemsListId&&null!=this._exitscreenItemsListId&&""!=this._exitscreenItemsListId?this._mode="exitscreenItemsListId":void 0!==this._content.cat&&null!=this._content.cat&&this._content.cat.length>0||null!=n&&void 0!==n&&n.length>0?this._mode="tagSearch":this._mode="latestItems"}void 0!==e&&(this._mode=e);var u,c="",h="",p="";switch(this._mode){case"exitscreenAuxfield":c="",u=this._exitscreenAuxfield;break;case"exitscreenItemsListId":c="",u=this._exitscreenItemsListId,!0!==this._randomizeRelatedItems&&"true"!==this._randomizeRelatedItems||(void 0===this._randomSeed&&(this._randomSeed=Math.round(10*Math.random())),h="random_"+this._randomSeed+" desc",this._randomSeed=(this._randomSeed+1)%10);break;case"tagSearch":var _="",m="",f="",v="",g="";if(null!=this._content.cat&&void 0!==this._content.cat&&this._content.cat.length>0&&$parcel$interopDefault(i).each(this._content.cat,(function(e,t){_+=0==e?'catSort:"'+this+'"':' AND catSort:"'+this+'"',m+=0==e?'catSort:"'+this+'"':' OR catSort:"'+this+'"',g+=this+" "})),null!=n&&void 0!==n&&n.length>0&&$parcel$interopDefault(i).each(n,(function(e){f+=0==e?'catSort:"'+this+'"':' AND catSort:"'+this+'"',v+=0==e?'catSort:"'+this+'"':' OR catSort:"'+this+'"',g+=this+" "})),null!=this._clipsSeenThisSession&&this._clipsSeenThisSession.length>0){p="-id:(";for(r=0;r<this._clipsSeenThisSession.length;r++)p+='"'+this._clipsSeenThisSession[r]+'"',r!=this._clipsSeenThisSession.length-1&&(p+=",");p+=")"}""!=_&&(c+="("+_+")^10 OR "),""!=m&&(c+="("+m+")^5 OR "),""!=f&&(c+="("+f+")^3 OR "),""!=v&&(c+="("+v+")^3 OR "),""!=g&&(c+="("+g+")^1"),!0===this._randomizeRelatedItems||"true"===this._randomizeRelatedItems?(void 0===this._randomSeed&&(this._randomSeed=Math.round(10*Math.random())),h="random_"+this._randomSeed+" desc",this._randomSeed=(this._randomSeed+1)%10):(c+=" OR (typeSort:MediaClip)^1 OR (typeSort:Project)^1",h="score desc,id desc");break;default:"append"!=this._mode||this._autoPlayNext||(!0===this._randomizeRelatedItems||"true"===this._randomizeRelatedItems?(void 0===this._randomSeed&&(this._randomSeed=Math.round(10*Math.random())),h="random_"+this._randomSeed+" desc",this._randomSeed=(this._randomSeed+1)%10):h="id desc",c+="typeSort:MediaClip OR typeSort:Project")}var y='((typeSort:MediaClip AND usetypeSort:editorial AND (mediatypeSort:video OR mediatypeSort:audio)) OR (typeSort:Project)) AND statusSort:"published"';c&&(y+=" AND ("+c+")");var b={query:y,"fq[0]":p,"fq[1]":"-timeline_multistring:[* TO *]",filterbyusetype:"all",genericEntity:1,"className[0]":"MediaClip","className[1]":"Project",limit:15,allowCache:!0};h&&(b.sort=h),void 0!==u&&(b.cliplistid=u,b["fq[1]"]="");var w=this._opts.publicationData.server+"/json/search";o.fetchData(w,{data:b}).then((function(i){if(i&&"true"!==i.error)if(!0===i.allowDatasource||"true"===i.allowDatasource||!0===i.allowDatasource_boolean){if(a.default){s._dataSourceHelper=new a.default(s.$element,s._opts);var n=null;"object"==typeof i.filters?n=i.filters:"string"==typeof i.filters_string&&(n=JSON.parse(i.filters_string)),n&&s._dataSourceHelper.processFiltersContainer(n,(function(e){t._doFilterSetSearch(e)}))}}else s._onDataLoaded(i);else"append"!=e?s.load("append"):s.$element.triggerHandler("bb_related_clips_changed",[{clips:s._relatedClips,items:s._relatedItems}])})).catch((function(t){"append"!=e?s.load("append"):s.$element.triggerHandler("bb_related_clips_changed",[{clips:s._relatedClips,items:s._relatedItems}])}))}},s.prototype._doFet){"object"==typeof e.filterset&&(e.filterset=JSON.stringify(e.filterset));var i=this._opts.publicationData.server+"/json/search";o.fetchData(i,{data:e}).then((function(e){e&&"true"!==e.error&&t._onDataLoaded(e)})).catch((function(e){}))}},s.prototype._onDataLoaded=function(e){var t=this._mode;if(0!=e.numfound){for(var i in"append"==t&&null!=this._relatedItems||(this._relatedItems=[]),"append"==t&&null!=this._relatedClips||(this._relatedClips=[]),e.items)if(parseInt(i)>=0){var n=e.items[i];if(n){var a=(n.type||"MediaClip")+":"+n.id;(!this._contentSeenThisSession||this._contentSeenThisSession.indexOf(a)<0)&&(this._relatedItems.push(this._sanitizeContentItem(n)),a.match(/^MediaClip:/)&&this._relatedClips.push(this._sanitizeContentItem(n)))}}e.numfound<14&&"tagSearch"==this._mode?this.load("append"):(!0!==this._randomizeRelatedItems&&"true"!==this._randomizeRelatedItems||(this._relatedItems=this._shuffleArray(this._relatedItems),this._relatedClips=this._shuffleArray(this._relatedClips)),this.$element.triggerHandler("bb_related_clips_changed",[{clips:this._relatedClips,items:this._relatedItems}]))}else"append"!=t?this.load("append"):this.$element.triggerHandler("bb_related_clips_changed",[{clips:this._relatedClips,items:this._relatedItems}])},s.prototype._sanitizeContentItem=function(e){return this._pc&&"function"==typeof this._pc.sanitizeContentItem?this._pc.sanitizeContentItem(e):e},s.prototype._shuffleArray=function(e){for(var t=e,i=0;i<t.length-1;i++){var n=i+Math.floor(Math.random()*(t.length-i)),a=t[n];t[n]=t[i],t[i]=a}return t},s.prototype._onPlayoutChanged=function(e,t){t&&void 0!==t.playoutData&&(void 0!==t.playoutData.randomizeRelatedItems&&(this._randomizeRelatedItems=t.playoutData.randomizeRelatedItems),void 0!==t.playoutData.exitscreenItemsListId&&(this._exitscreenItemsListId=t.playoutData.exitscreenItemsListId),void 0!==t.playoutData.autoPlayNext&&(this._autoPlayNext=!0===t.playoutData.autoPlayNext||"true"===t.playoutData.autoPlayNext))},s.prototype._onLoadedClipData=function(e,t){if(void 0!==t&&null!=t&&(this._content=void 0!==t.clipData?t.clipData:null,this._content)){this._clipsSeenThisSession.push(this._content.id);var i=(this._content.type||"MediaClip")+":"+this._content.id;this._contentSeenThisSession.push(i)}},s.prototype._onLoadedProjectData=functio 0!==t.projectData?t.projectData:null,this._content)){var i=(this._content.type||"Project")+":"+this._content.id;this._contentSeenThisSession.push(i)}},s.prototype._onFailedClipData=function(e){this._content=null}})),parcelRequire.register("bcucV",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=parcelRequire("4AQp6"),o=function(e,t){this._opts=t,this.$element=e,this._datafeeds={},this._dynamicPropertiesDict={},this._asyncDatasourceDispatches={},this._onDatafeedLoadedBound=this._onDatafeedLoaded.bind(this),this._onDatafeedLoadFailedBound=this._onDatafeedLoadFailed.bind(this),this.init()};o.prototype.init=function(){this.$element&&(n.default.getService(this._opts.playerAliasOrId).setInstance("DataSourceHelper",this),this.$wrapper=this.$element.closest(".bb_wrapper"),(!this.$wrapper||this.$wrapper.length<=0)&&(this.$wrapper=null)),this.$wrapper&&(void 0!==n.default.getService(this._opts.playerAliasOrId).getInstance("Executer")&&(this._executer=n.default.getService(this._opts.playerAliasOrId).getInstance("Executer")),void 0!==n.default.getService(this._opts.playerAliasOrId).getInstance("LocalStorage")&&(this._localStorage=n.default.getService(this._opts.playerAliasOrId).getInstance("LocalStorage")),this.$wrapper.on("bb_datafeed_loaded",this._onDatafeedLoadedBound),this.$wrapper.on("bb_datafeed_load_failed",this._onDatafeedLoadFailedBound))},o.prototype.exit=function(){return this.$wrapper&&(this.$wrapper.off("bb_datafeed_loaded",this._onDatafeedLoadedBound),this.$wrapper.off("bb_datafeed_load_failed",this._onDatafeedLoadFailedBound)),n.default.getService(this._opts.playerAliasOrId).setInstance("DataSourceHelper",null),null},o.prototype.processFiltersContainer=function(e,t){this._waitForDatafeeds=!1;var i=this;this._callback=t||null;for(var n={filterset:[],sort:e.sort,limit:e.limit||15},a=0;e[a];)n.filterset.push(e[a]),a++;n.filterset&&n.filterset.length&&n.filterset.forEach((function(e){e&&e.filters&&e.filters.length&&e.filters.forEach((function(e){i._processFilter(e)}))})),this.filterSetQueryObj=n,this._waitForDatafeeds||"function"!=typeof this._callback||this._callback(this.filterSetQueryObj)},o.prototype._processFilter=function(e){e&&e.datasource&&(e.value=this._processDataSource(e.datasource,e.value,e)||e.value)},o.prototype._processDataSource=function(e,t,n){var a=!1;if(e){var o=null;if("string"==typeof e)try{o=JSON.parse($parcel$interopDefault(i).trim(e.replace(/^dataSource:/i,"")))}catch(e){o=null}else o={sourceType:e.sourceType,sourceValue:this._replaceMacroStrings(e.sourceValue),defaultValue:this._replaceMacroStrreturn a.defaultValue=t||a.defaultValue,a},o.prototype._filterDatafeed=function(e){var t=this,i=[];if(e&&e.columns&&e.rows){i=e.rows;var n=e.columns.filter((function(e){return e&&"condition"===e.headerType&&e.key})).map((function(e){return e.key}));n&&n.length&&(i=e.rows.filter((function(e){var i=!0;return n.forEach((function(n){if(i){var a=t._localStorage.get(n),o=e[n],s=o;if("object"==typeof o)switch(s=o.value,o.operator){case"is":case"isNot":i=a===s||String(a).toLowerCase()===String(s).toLowerCase(),"isNot"===o.operator&&(i=!i);break;case">":i=parseFloat(a)>parseFloat(s);break;case"<":i=parseFloat(a)<parseFloat(s);break;case"defined":case"undefined":i=null!=a,"undefined"===o.operator&&(i=!i);break;case"doesNotContain":case"contains":i=a&&a.toLowerCase&&s&&s.toLowerCase&&-1!==a.toLowerCase().indexOf(s.toLowerCase()),"doesNotContain"===o.operator&&(i=!i)}else void 0!==s&&(i=a===s||String(a).toLowerCase()===String(s).toLowerCase())}})),i})))}return i},o.prototype._onDatafeedLoaded=function(e,t){var i=this;t&&t.datafeed&&t.datafeed.id&&(this._datafeeds[t.datafeed.id]=t.datafeed,this._updateDatafeedProps(),this._asyncDatasourceDispatches[t.datafeed.id]&&this._asyncDatasourceDispatches[t.datafeed.id].length&&(this._asyncDatasourceDispatches[t.datafeed.id].forEach((function(e){i._processFilter(e)})),delete this._asyncDatasourceDispatches[t.datafeed.id])),0===Object.keys(this._asyncDatasourceDispatches).length&&"function"==typeof this._callback&&this._callback(this.filterSetQueryObj)},o.prototype._onDatafeedLoadFailed=function(e,t){var i=this;t&&t.id&&(delete this._datafeeds[t.id],i._asyncDatasourceDispatches[t.id]&&i._asyncDatasourceDispatches[t.id].length&&(this._asyncDatasourceDispatches[t.datafeed.id].forEach((function(e){i._processFilter(e)}])),0===Object.keys(this._asyncDatasourceDispatches).length&&"function"==typeof this._callback&&this._callback(this.filterSetQueryObj)},o.prototype._onLocalStorageUpdated=function(e,t){this._updateDatafeedProps()},o.prototype._updateDatafeedProps=function(e){},o.prototype._fetchDatafeed=function(e){this._waitForDatafeeds=!0;var t=this.$wrapper;if(!this._datafeeds[e]&&(this._datafeeds[e]={},this._opts&&this._opts.publicationData&&this._opts.publicationData.server&&e)){var i=this._opts.publicationData.server+"/sapi/datafeed/"+e;a.fetchData(i).then((function(i){i?t&&t.trigger("bb_datafeed_loaded",[{datafeed:i}]):t&&t.trigger("bb_datafeed_load_failed",[{id:e}])})).catch((function(i){console.warn("error fetching datafeed",i),t&&t.trigger("bb_datafeed_load_failed",[{id:e}])}))}},o.prototype._processDataSource_obj=function(e,t){var i="";if(e&&void 0!==e.sourceType&&void 0!==e.sourceValue)if("JavaScript"==e.sourceType&&""!==e.sourceValue&&null!==this._executer&&"function"==typeof this._executer.execute){var n=this._executer.execute(e.sourceValue);void 0!==n?i=n:void 0!==e.defaultValue&&(i=String(e.defaultValue))}else if("QueryString"==e.sourceType&&""!==e.sourceValue){if(this._opts&&this._opts.joinedRequestParams){var a=this._opts.joinedRequestParams[String(e.sourceValue)];if(null!=a&&""!==a){var o;try{var s=atob(a),l=Uint8Array.from(s,(function(e){return e.codePointAt(0)}));o=(new TextDecoder).decode(l)}catch(e){}i=a.length%4==0&&null!=o?o:a}else void 0!==e.defaultValue&&null!==e.defaultValue&&(i=String(e.defaultValue))}}else if("LocalStorage"==e.sourceType&&""!==e.sourceValue){if(this._localStorage){var r=this._localStorage.get(e.sourceValue);null!=r?i=r:void 0!==e.defaultValue&&null!==e.defaultValue&&(i=String(e.defaultValue))}}else if("PlainText"==e.sourceType)void 0!==e.sourceValue&&null!==e.sourceValue&&""!==e.sourceValue?i=e.sourceValue:void 0!==e.defaultValue&&null!==e.defaultValue&&(i=String(e.defaultValue));else if("DatafeedValue"==e.sourceType&&""!==e.sourceValue){if(void 0!==e.sourceValue&&null!==e.sourceValue)if(2==(_=e.sourceValue.split(":")).length&&null!==_[0]&&void 0!==_[0]&&null!==_[1]&&void 0!==_[1]){var d=_[0],u=_[1];if(!d||this._datafeeds[d]&&"{}"!==JSON.stringify(this._datafeeds[d])||(this._asyncDatasourceDispatches[d]||(this._asyncDatasourceDispatches[d]=[]),t&&-1===this._asyncDatasourceDispatches[d].indexOf(t)&&this._asyncDatasourceDispatches[d].push(t)),this._datafeeds[d]){var c=this._datafeeds[d],h=this._filterDatafeed(c);if(h&&h.length){var p="true"===c.randomRowSelection||!0===c.randomRowSelection?Math.floor(Math.random()*h.length):0;void 0!==h[p][u]&&(i=String(h[p][u]))}else i=void 0!==e.defaultValue&&null!==e.defaultValue?String(e.defaultValue):""}else this._fetchDatafeed(d),i=void 0!==e.defaultValue&&null!==e.defaultValue?String(e.defaultValue):""}}else if("WidgetProperty"==e.sourceType&&""!==e.sourceValue){var _;if(void 0!==e.sourceValue&&null!==e.sourceValue)if(2==(_=e.sourceValue.split(":")).length&&null!==_[0]&&void 0!==_[0]&&null!==_[1]&&void 0!==_[1]){var m=_[0],f=_[1],v=this._arena.getWidgetById(m);null!==v&&(i=v.getPropertyValue(f))}else i=void 0!==e.defaultValue&&null!==e.defaultValue?String(e.defaultValue):"";else void 0!==e.defaultValue&&null!==e.defaultValue&&""!==e.sourceValue&&(i=String(e.defaultValuengs=function(e){var t=n.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),i=e?String(e).match(/{{\s*[\w\.]+\s*}}/g):null;if(null!==i)for(var a=i.map((function(e){return e.match(/[\w\.]+/)[0]})),o=0;o<a.length;o++){var s=a[o].split(".");if(s.length>1){switch(s[0]){case"mediaclip":if(null!=t){var l=t.getClipData();null!==l&&(d=l[s[1]])}break;case"asset":var r=t.getCurrentAsset();null!==r&&(d=r[s[1]]);break;case"player":var d=t.getPropertyValue(s[1]);break;case"playout":d=t.getPlayoutData()[s[1]];break;case"localstorage":if(this._localStorage){var u=this._localStorage.get(s[1]);null!=u?("string"==typeof u&&(u=u.replace(",","&com"querystring":if(this._opts&&this._opts.joinedRequestParams){var c=this._opts.joinedRequestParams[String(s[1])];if(null!=c&&""!==c){var h;try{var p=atob(c),_=Uint8Array.from(p,(function(e){return e.codePointAt(0)}));h=(new TextDecoder).decode(_)}catch(e){}d=c.length%4==0&&null!=h?h:c}else d=""}}void 0!==d&&null!=d||(d=""),e=e.replace("{{"+a[o]+"}}",d)}}return e}})),parcelRequire.register("jiyyY",(function(e,t){$parcel$export(e.exports,"default",(function(){return p})),parcelRequire("dhZ6J");var i=parcelRequire("dwEjG");parcelRequire("2UpbQ");var n=parcelRequire("eV1xY"),a=parcelRequire("cWdJP"),o=parcelRequire("1MxPP"),s=parcelRequire("4aNIZ"),l=parcelRequire("5N4wg"),r=parcelRequire("cYENG"),d=parcelRequire("11bIE"),u=parcelRequire("ghBtM"),c=parcelRequire("gFLWT"),h=parcelRequire("4AQp6"),p=function(e,t){var i,h,p;if(this.$element=null,this._opts=void 0!==t?t:null,this._data=null!=this._opts?$parcel$interopDefault(n).extend({},this._opts):null,this._clip=null,this._contentList=null,this._contentListIndex=0,this._projectClipList=null,this._projectClipListIndex=-1,this._prev=null,this._clipId=null,this._clipSourceId=null,this._clipSoftEmbargo=null,this._contextEntityType=null,this._contextEntityId=null,this._headController=null,this._msasController=null,this._posterController=null,this._session_started=!1,this._view_started=!1,this._phase="INIT",this._phase_started=!1,this._headController_preloaded=!1,this._mediaMainFinished=!1,this._commercialMainFinished=!1,this._expectingPlayEvent=!1,this._pendingPlay=!1,this._userAction=!1,this._timelineMessageMaster=0,this._skinGeneration=null===(i=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===i?void 0:i.getGeneration(),this._legacyAudioTracks=!0,this._assetsMap=[],this._currentAssetId="-1",this._currentAudioTrackId="-1",this._contentId=null!=this._opts&&void 0!==this._opts.embedData?this._opts.embedData.contentId:null,this._contentIndicator=null!=this._opts&&void 0!==this._opts.embedData?this._opts.embedData.contentIndicator:"c",this._autoPlay=null!=this._opts&&void 0!==this._opts.playoutData&&"true"==this._opts.playoutData.autoPlay,this._autoPlayOnlyWithPrerollAd=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.autoPlayOnlyWithPrerollAd,this._autoLoop=null!=this._opts&&void 0!==this._opts.playoutData&&"true"==this._opts.playoutData.autoLoop,this._autoPlayAdvancedNotChecked=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.autoPlayAdvancedNotChecked,this._autoPlayNext="true"===(null===(h=this._opts)||void 0===h||null===(p=h.playoutData)||void 0===p?void 0:p.autoPlayNext),this._autoPlayNext_excludeIds=[],this._ignoreProjectMetadata=this._opts&&this._opts.playoutData&&"true"==this._opts.playoutData.ignoreProjectMetadata,this._ignoreSingleMediaResource=this._opts&&this._opts.playoutData&&"true"==this._opts.playoutData.ignoreSingleMediaResource,this._noPosterInExitPhase=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.noPosterInExitPhase,this._showOnlyWhenPrerollAvailable=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.showOnlyWhenPrerollAvailable,this._initiator=this._opts&&this._opts.usingSuggest?"suggest":"l"===this._contentIndicator?"cliplist":"q"===this._contentIndicator?"query-embed":null,this._seekPosition=null,this._shouldPlayInline=null,this._outstreamRefreshFinished=!1,this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onSkinCreatedBound=this._onSkinCreated.bind(this),this._onAssetsChangedBound=this._onAssetsChanged.bind(this),this._onAssetSelectedBound=this._onAssetSelected.bind(this),this._onRelatedClipsChangedBound=this._onRelatedClipsChanged.bind(this),this._onErrorBound=this._onError.bind(this),this._onMediaPlayBound=this._onMediaPlay.bind(this),this._onMediaPlayingBound=this._onMediaPlaying.bind(this),this._onMediaFinishedBound=this._onMediaFinished.bind(this),this._onCommercialPreFinishedBound=this._onCommercialPreFinished.bind(this),this._onCommercialMainFinishedBound=this._onCommercialMainFinished.bind(this),this._onCommercialPostFinishedBound=this._onCommercialPostFinished.bind(this),this._onAdSystemRequestBound=this._onAdSystemRequest.bind(this),this._onAdSystemStartedBound=this._onAdSystemStarted.bind(this),this._onCommercialPlayingBound=this._onCommercialPlaying.bind(this),this._onSoftEmbargoTimerFinishedBound=this._onSoftEmbargoTimerFinished.bind(this),void 0!==e&&null!=e){var _,m,f,v,g=this;this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("ProgramController",this);var y,b,w,k,$=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections");if($&&(this._isiOS=$.isiOS,this._isAndroid=$.isAndroid),this._dynamicMode="d"===this._contentIndicator&&this._opts&&this._opts.requestParams&&this._opts.requestParams.dvid,this.setDvid(this._dynamicMode?this._opts.requestParams.dvid:null),this._initTimelineEngines(this._opts),"function"==typeof d.default&&(this._headController=new d.default(this.$element,this._opts),a.default.getService(this._opts.playerAliasOrId).setInstance("HeadController",this._headController)),"true"!==(null===(_=this._opts)||void 0===_||null===(m=_.publicationData)||void 0===m?void 0:m.disablePositions))(null===(y=this._opts)||void 0===y||null===(b=y.adSchedulingData)||void 0===b?void 0:b.scheduleId)||(null===(w=this._opts)||void 0===w||null===(k=w.adSchedulingData)||void 0===k?void 0:k.scheduleCode)?"function"==typeof c.default&&(this._adSchedulingController=new c.default(this.$element,this._opts),a.default.getService(this._opts.playerAliasOrId).setInstance("AdSchedulingController",this._adSchedulingController)):"function"==typeof u.default&&(o.debugMode&&performance.mark("MSASController"),this._msasController=new u.default(this.$element,this._opts),o.debugMode&&performance.mark("end_MSASController"),a.default.getService(this._opts.playerAliasOrId).setInstance("MSASController",this._msasController));"function"!=typeof r.default||this._opts.noSkinMode||(o.debugMode&&performance.mark("PosterController"),this._posterController=new r.default(this.$element,this._opts),o.debugMode&&performance.mark("end_PosterController"),a.default.getService(this._opts.playerAliasOrId).setInstance("PosterController",this._posterController)),this._autoPlayNext_timer="function"==typeof s.default?new s.default(this.$element,this._opts):null,this._softEmbargoTimer="function"==typeof l.default?new l.default(this.$element,this._opts):null,this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_skin_created",this._onSkinCreatedBound),this.$element.on("bb_assets_changed",this._onAssetsChangedBound),this.$element.on("bb_asset_selected",this._onAssetSelectedBound),this.$element.on("bb_related_clips_changed",this._onRelatedClipsChangedBound),this.$element.on("bb_error",this._onErrorBound),this.$element.on("bb_media_play",this._onMediaPlayBound),this.$element.on("bb_media_playing",this._onMediaPlayingBound),this.$element.on("bb_media_finished",this._onMediaFinishedBound),this.$element.on("bb_msas_pre_finished",this._onCommercialPreFinishedBound),this.$element.on("bb_msas_main_finished",this._onCommercialMainFinishedBound),this.$element.on("bb_msas_post_finished",this._onCommercialPostFinishedBound),this.$element.on("bb_as_pre_finished",this._onCommercialPreFinishedBound),this.$element.on("bb_as_main_finished",this._onCommercialMainFinishedBound),this.$element.on("bb_as_post_finished",this._onCommercialPostFinishedBound),this.$element.on("bb_adsystem_started",this._onAdSystemStartedBound),this.$element.on("bb_adsystem_request",this._onAdSystemRequestBound),this.$element.on("bb_as_started",this._onAdSystemStartedBound),this.$element.on("bb_as_request",this._onAdSystemRequestBound),this.$element.on("bb_commercial_playing",this._onCommercialPlayingBound),this.$element.on("bb_softembargotimer_finished",this._onSoftEmbargoTimerFinishedBound),(null===(f=this._msasController)||void 0===f?void 0:f.isOutstreamRefreshEnabled())&&(null===(v=this.$element)||void 0===v||v.on("bb_msas_outstream_refresh_finished",(function(){g._outstreamRefreshFinished=!0})))}};p.prototype.exit=function(){var e,t;null!=this.$element&&(this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_skin_created",this._onSkinCreatedBound),this.$element.off("bb_assets_changed",this._onAssetsChangedBound),this.$element.off("bb_asset_selected",this._onAssetSelectedBound),this.$element.off("bb_related_clips_changed",this._onRelatedClipsChangedBound),this.$element.off("bb_error",this._onErrorBound),this.$element.off("bb_media_play",this._onMediaPlayBound),this.$element.off("bb_media_playing",this._onMediaPlayingBound),this.$element.off("bb_media_finished",this._onMediaFinishedBound),this.$element.off("bb_msas_pre_finished",this._onCommercialPreFinishedBound),this.$element.off("bb_msas_main_finished",this._onCommercialMainFinishedBound),this.$element.off("bb_msas_post_finished",this._onCommercialPostFinishedBound),this.$element.off("bb_as_pre_finished",this._onCommercialPreFinishedBound),this.$element.off("bb_as_main_finished",this._onCommercialMainFinishedBound),this.$element.off("bb_as_post_finished",this._onCommercialPostFinishedBound),this.$element.off("bb_adsystem_started",this._onAdSystemStartedBound),this.$element.off("bb_adsystem_request",this._onAdSystemRequestBound),this.$element.off("bb_as_started",this._onAdSystemStartedBound),this.$element.off("bb_as_request",this._onAdSystemRequestBound),this.$element.off("bb_commercial_playing",this._onCommercialPlayingBound),this.$element.off("bb_softembargotimer_finished",this._onSoftEmbargoTimerFinishedBound),null!=this._headController&&(this._headController=this._headController.exit(),a.default.getService(this._opts.playerAliasOrId).setInstance("HeadController",this._headController)),this._adSchedulingController&&(this._adSchedulingController=this._adSchedulingController.exit(),a.default.getService(this._opts.playerAliasOrId).setInstance("AdSchedulingController",this._adSchedulingController)),null!=this._msasController&&(this._msasController=this._msasController.exit(),a.default.getService(this._opts.playerAliasOrId).setInstance("MSASController",this._msasController)),null!=this._posterController&&(this._posterController=this._posterController.exit(),a.default.getService(this._opts.playerAliasOrId).setInstance("PosterController",this._posterController)),this._timelineEngine_project=null===(e=this._timelineEngine_project)||void 0===e?void 0:e.exit(),this._timelineEngine=null===(t=this._timelineEngine)||void 0===t?void 0:t.exit(),a.default.getService(this._opts.playerAliasOrId).setInstance("ProgramController",null));return this._autoPlayNext_timer&&(this._autoPlayNext_timer=this._autoPlayNext_timer.exit()),null},p.prototype.loadData=function(e,t,i,n,a,o,s){var l,r;if(this._reset(),this._data=void 0!==e?e:null,"object"==typeof t){var d=t||{};t=d.initiator,i=d.autoPlay,n=d.seekTo,a=d.shouldPlayInline,o=d.token,s=d.useSession,l=d.contextEntityType,r=d.contextEntityId}if(this._initiator=void 0!==t?t:this._initiator,this._pendingPlay=void 0!==i&&i,this._seekPosition=void 0!==n?n:null,void 0!==a&&(this._shouldPlayInline=a),this._token=o,this._useSession=s,this._contextEntityType=void 0!==l?l:null,this._contextEntityId=void 0!==r?r:null,this._msasController&&this._msasController.resetAdCounter_load()].lineitems){if(this._msasController&&this._msasController.loadAdServicesData(this._data),!(this._data&&this._data.some&&this._data.some((function(e){return e&&"inarticle"===e.positionType&&"published"===e.status}))))return;this._data={type:"MediaClip",id:"0",usetype:"commercial",mediatype:"mainroll"}}return this._getData(this._dataCallback.bind(this))},p.prototype.load=function(e,t,i,n,a,o,s,l){var r,d;if(this._reset(),this._data=null,this._contentId=e,this._contentIndicator=void 0!==t?t:"c","object"==typeof i){var u=i||{};i=u.initiator,n=u.autoPlay,a=u.seekTo,o=u.shouldPlayInline,s=u.token,l=u.useSession,r=u.contextEntityType,d=u.contextEntityId}return this._initiator=void 0!==i?i:this._initiator,this._pendingPlay=void 0!==n&&n,this._seekPosition=void 0!==a?a:null,void 0!==o&&(this._shouldPlayInline=o),this._token=s,this._useSession=l,this._contextEntityType=void 0!==r?r:null,this._contextEntityId=void 0!==d?d:null,this._msasController&&this._msasController.resetAdCounter_load(),this._contentId&&"c"===this._contentIndicator&&this._dataMediaClipsById&&this._dataMediaClipsById["#"+this._contentId]&&(this._data=this._dataMediaClipsById["#"+this._contentId]),this._getData(this._dataCallback.bind(this))},p.prototype.unload=function(){return this._reset(),null!=this._headController&&this._headController.reset(),this._adSchedulingController&&this._adSchedulingController.reset(),null!=this._msasController&&this._msasController.reset(),!0},p.prototype.preloadAds=function(e,t){var i,n,a,o;switch(this.$element.trigger("bb_program_preload_ads"),void 0===e&&("INIT"===this._phase?e="PRE":"PRE"===this._phase?e="MAIN":"MAIN"===this._phase?e="POST":"POST"===this._phase?e="EXIT":"EXIT"===this._phase&&(e="MAIN")),void 0!==t&&(this._userAction=!!t),this._adSchedulingController&&this._adSchedulingController.setClipData({clipId:(null===(i=this._clip)||void 0===i?void 0:i.id)||"0",clipDuration:isNaN(parseFloat(null===(n=this._clip)||void 0===n?void 0:n.length))?0:parseFloat(null===(a=this._clip)||void 0===a?void 0:a.length),disablecommercials:(null===(o=this._clip)||void 0===o?void 0:o.disablecommercials)||!1}),e){case"PRE":e!==this._phase&&(this._phase=e,this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}])),this._phase_started||(this._phase_started=!0,this._adSchedulingController?this._adSchedulingController.load(this._phase)||this._onCommercialPreFinished(null):this._msasController&&this._msasController.load(this._phase)||this._onCommercialPreFinished(null));break;case"MAIN":if(e!==this._phase&&(this._phase=e,this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}])),this._phase_started){if(this._headController&&null!=this._seekPosition){s=this._seekPosition;this._seekPosition=null,this._headController.set("currentTime",s)}}else{if(this._phase_started=!0,this._headController&&(this._headController_preloaded||(this._expectingPlayEvent=!1,this._headController.load(this._clip,this._seekPosition)),null!=this._seekPosition)){var s=this._seekPosition;this._seekPosition=null,"html5"!=this._headController.getCurrentHeadType()&&this._headController.set("currentTime",s)}this._adSchedulingController?this._adSchedulingController.load(this._phase)||this._onCommercialMainFinished(null):this._msasController&&this._msasController.load(this._phase)||this._onCommercialMainFinished(null)}break;case"POST":case"EXIT":this._msasController&&this._msasController.load(e)}return!0},p.prototype.nativeFullscreen=function(){return!!this._headController&&this._headController.nativeFullscreen()},p.prototype.play=function(e){if(this.$element.trigger("bb_program_play"),this._autoPlayNext_timer&&this._autoPlayNext_timer.cancel(),void 0!==e&&(this._userAction=!!e),null!=this._clip){if(this._pendingPlay=!1,this._play(),null!=this._opts&&void 0!==this._opts.playoutData&&void 0!==this._opts.playoutData.autoFullscreen&&"true"==this._opts.playoutData.autoFullscreen&&!this._autoPlay){var t=a.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI");void 0!==t&&null!=t&&(t.fullscreen(),this._opts.playoutData.autoFullscreen="false")}}else this._pendingPlay=!0},p.prototype._play=function(){var e,t,i,n;switch(this._view_started||(this._view_started=!0,this.$element.trigger("bb_view_started",[{initiator:this._initiator}])),this._clip&&this._autoPlayNext_excludeIds.push(this._clip.id),this._adSchedulingController&&this._adSchedulingController.setClipData({clipId:(null===(e=this._clip)||void 0===e?void 0:e.id)||"0",clipDuration:isNaN(parseFloat(null===(t=this._clip)||void 0===t?void 0:t.length))?0:parseFloat(null===(i=this._clip)||void 0===i?void 0:i.length),disablecommercials:(null===(n=this._clip)||void 0===n?void 0:n.disablecommercials)||!1}),this._phase){case"INIT":null!=this._headController&&(this._headController.enableResizing(),this._headController_preloaded),this._phase="PRE",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._play();break;case"PRE":var a;if(this._keepPosterShowingOnPlaying=!1,this._autoPlayOnlyWithPrerollAd&&!this._userAction)this._keepPosterShowingOnPlaying=!0,null===(a=this._posterController)||void 0===a||a.show();null!=this._headController&&(this._headController.disableResizing(),this._headController_preloaded),this._phase_started?this._adSchedulingController?this._adSchedulingController.resume(this._userAction):null!=this._msasController&&this._msasController.resume(this._userAction):(this._phase_started=!0,this._adSchedulingController?this._adSchedulingController.play(this._phase,null,this._userAction)||this._onCommercialPreFinished(null):null!=this._msasController&&this._msasController.play(this._phase,null,this._userAction)||this._onCommercialPreFinished(null));break;case"MAIN":var o,s;if(this._keepPosterShowingOnPlaying=!1,"audio"===(null===(o=this._clip)||void 0===o?void 0:o.mediatype))this._keepPosterShowingOnPlaying=!0,null===(s=this._posterController)||void 0===s||s.show();if(null!=this._headController&&this._headController.enableResizing(),this._phase_started){if(null!=this._headController){if(null!=this._seekPosition){l=this._seekPosition;this._seekPosition=null,this._headController.set("currentTime",l)}this._pauseRequested||(this._expectingPlayEvent=!0,this._headController.play(this._userAction))}this._adSchedulingController?this._adSchedulingController.resume():this._msasController&&this._msasController.resume()}else{if(this._phase_started=!0,null!=this._headController){if(this._headController_preloaded||(this._expectingPlayEvent=!1,this._headController.load(this._clip,this._seekPosition)),null!=this._seekPosition){var l=this._seekPosition;this._seekPosition=null,"html5"!=this._headController.getCurrentHeadType()&&this._headController.set("currentTime",l)}this._pauseRequested||(this._expectingPlayEvent=!0,this._headController.play(this._userAction))}this._adSchedulingController?this._adSchedulingController.play(this._phase,null,this._userAction)||this._onCommercialMainFinished(null):null!=this._msasController&&this._msasController.play(this._phase,null,this._userAction)||this._onCommercialMainFinished(null)}break;case"POST":this._keepPosterShowingOnPlaying=!1,null!=this._headController&&(this._headController.disableResizing(),this._headController.reset()),this._phase_started?null!=this._msasController&&this._msasController.resume():(this._phase_started=!0,null!=this._msasController&&this._msasController.play(this._phase,null,this._userAction)||this._onCommercialPostFinished(null));break;case"EXIT":null!=this._headController&&this._headController.enableResizing(),this._mediaMainFinished=!1,this._commercialMainFinished=!1,this._phase="MAIN",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._headController_preloaded=!1,this._play()}},p.prototype.pause=function(){switch(this._phase){case"INIT":case"EXIT":break;case"PRE":this._adSchedulingController&&this._adSchedulingController.pause(),null!=this._msasController&&this._msasController.pause();break;case"MAIN":null==this._headController||this._pauseRequested||this._headController.pause(),this._adSchedulingController&&this._adSchedulingController.pause(),null!=this._msasController&&this._msasController.pause();break;case"POST":null!=this._msasController&&this._msasController.pause()}},p.prototype.seek=function(e){switch(this._phase){case"INIT":case"PRE":case"POST":case"EXIT":break;case"MAIN":null!=this._headController&&this._headController.set("currentTime",e)}},p.prototype.switchAsset=function(e){switch(this._phase){case"INIT":this._headController_preloaded&&this._switchAsset(e);break;case"PRE":case"POST":case"EXIT":break;case"MAIN":this._switchAsset(e)}},p.prototype._switchAsset=function(e){var t;if(this._assetsMap){var i,n=this._findAssetsMapEntry(e,this._currentAudioTrackId);void 0!==(null==n?void 0:n.assetId)&&null!=(null==n?void 0:n.assetId)&&(null===(i=this._headController)||void 0===i||i.switchAsset(n.assetId))}else null===(t=this._headController)||void 0===t||t.switchAsset(e)},p.prototype.switchAudioTrack=function(e){switch(this._phase){case"INIT":this._headController_preloaded&&this._switchAudioTrack(e);break;case"PRE":case"POST":case"EXIT":break;case"MAIN":this._switchAudioTrack(e)}},p.prototype._switchAudioTrack=function(e){if(this._assetsMap&&this._legacyAudioTracks){var t,i=this._findAssetsMapEntry(this._currentAssetId,e);void 0!==(null==i?void 0:i.assetId)&&null!==(null==i?void 0:i.assetId)&&(null===(t=this._headController)||void 0===t||t.switchAsset(i.assetId))}else{var n,a;e=null===(n=this._headController)||void 0===n?void 0:n.switchAudioTrack(e),null===(a=audiotrack_selected",[{audioTrackId:e}])}},p.prototype._findAssetsMapEntry=function(e,t){var i,n,a,o;return null!==(o=null===(i=this._assetsMap)||void 0===i?void 0:i.find((function(i){return i.bwh===e&&i.lang===t})))||null!==(o=null===(n=this._assetsMap)||void 0===n?void 0:n.find((function(t){return t.id===e})))?o:o=null===(a=this._assetsMap)||void 0===a?void 0:a.find((function(e){return e.lang===t}))},p.prototype.setVolume=function(e){switch(this._phase){case"INIT":case"EXIT":break;case"PRE":case"POST":null!=this._msasController&&this._msasController.set("volume",e);break;case"MAIN":null!=this._headController&&this._headController.set("volume",e),null!=this._msasController&&this._msasController.set("volume",e)}},p.prototype.setMuted=function(e){switch(this._phase){case"INIT":case"EXIT":break;case"PRE":case"POST":null!=this._msasController&&this._msasController.set("muted",e);break;case"MAIN":null!=this._headController&&this._headController.set("muted",e),null!=this._msasController&&this._msasController.set("muted",e)}},p.prototype.setFitMode=function(e){return null!=this._headController&&this._headController.setFitMode(e)},p.prototype.get=function(e){switch(e){case"phase":return this._phase;case"title":if(null!=this._clip)return this._clip.title;break;case"currentTime":if("PRE"==this._phase||"POST"==this._phase||"MAIN"==this._phase&&this._pauseRequested){if(null!=this._msasController)return this._msasController.get("currentTime");if(this._adSchedulingController)return this._adSchedulingController.get("currentTime")}else if(null!=this._headController)return this._headController.get("currentTime");break;default:if(null!=this._headController)return this._headController.get(e)}return null},p.prototype.autoPlayNextCancel=function(){var e=!1;if(this._autoPlayNext_timer&&(e=this._autoPlayNext_timer.cancel()),"INIT"==this._phase&&(this._phase="EXIT",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._prev)){this._clip=this._prev;var t={clipData:this._clip,autoPlay:this._pendingPlay,contextEntityType:this._contextEntityType,contextEntityId:this._contextEntityId};this.$element.trigger("bb_mediaclip_loaded",[t])}return e},p.prototype.showCastTargetPicker=function(e){var t=!1;return this._headController&&(t=this._headController.showCastTargetPicker(e)),t},p.prototype.getCastSession=function(){var e,t;return(null===(e=this._headController)||void 0===e||null===(t=e.getCastSession)||void 0===t?void 0:t.call(e))||!1},p.prototype.getCastSource=function(){var e=!1;return this._headController&&"function"==typeof this._headController.getCastSource&&(e=this._headController.getCastSource()),e},p.prototype.setPlaybackRate=function(e){var t=!1;return this._headController&&(t=this._headController.set("playbackRate",e)),t},p.prototype.getPlaybackRate=function(){var e=!1;return this._headController&&(e=this._headController.get("playbackRate")),e},p.prototype.setDvid=function(e){var t=this._dvid;return e?(this._dynamicMode=!0,this._dvid=e):(this._dynamicMode=!1,this._dvid=null),this._dvid!==t&&this.$element&&this.$element.trigger("bb_dvid_changed",[{dvid:this._dvid}]),!0},p.prototype.getDvid=function(){return this._dvid},p.prototype._reset=function(){var e;null===(e=this._softEmbargoTimer)||void 0===e||e.cancel(),this._view_started=!1,this._phase="INIT",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}])},p.prototype._getClipUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i="";return i=this._dynamicMode&&this._dvid?this._opts.publicationData.server+"/json/dynamicmediaclip/"+e+"?dvid="+this._dvid:this._opts.publicationData.server+"/json/mediaclip/"+e+"?",t&&(i+="&bbcb="+encodeURIComponent(t)),i},p.prototype._getData=function(e){var t=!1;if(null==this._data)if(null!=this._opts&&void 0!==this._opts.publicationData){var i=this,n={};this._token&&(n.token=this._token),this._useSession&&(n.useSession=this._useSession);var a=null;switch(this._contentIndicator){case"q":a=this._opts.publicationData.server+"/json/search",n.allowCache=!0,n.query=encodeURIComponent(this._contentId);break;case"l":a=this._opts.publicationData.server+"/papi/search?cliplistid="+encodeURIComponent(this._contentId),n.allowCache=!0;break;case"p":a=this._opts.publicationData.server+"/papi/project/"+encodeURIComponent(this._contentId);break;default:a=this._getClipUrl(this._contentId,this._clipSoftEmbargo)}h.fetchData(a,{data:n}).then((function(t){t?(i._data=t,"function"==typeof e&&e(!0)):(i._logError("json request failed: no data"),"function"==typeof e&&e(!1))})).catch((function(t){i._logError("json request failed: "+t),"function"==typeof e&&e(!1)})),t=!0}else this._logError("no publicationData"),"function"==typeof e&&e(!1),t=!1;else"function"==typeof e&&e(!0),t=!0;return t},p.prototype._dataCallback=function(e){if(e){if(null!=this._data){var t={contextEntityType:this._contextEntityType,contextEntityId:this._contextEntityId};switch(void 0!==this._data.items&&(this._data.type="MediaClipList"),this._data.type){case"MediaClipList":if(this._projectClipListIndex=-1,this._contentListIndex=-1,void 0!==this._data.items&&null!=this._data.items){this._contentList=[];for(var i=0;i<this._data.items.length;i++){var n=this._data.items[i];n&&(this._contentList.push(this.sanitizeContentItem(n)),this._contentListIndex=0)}}this._inProject()||(this._headController.setMediaData(null),this._setMediaData(null),t.projectData=null,this.$element&&this.$element.triggerHandler("bb_project_loaded",[t])),this._contextEntityType=this._data.type,this._contextEntityId=this._data.id,this.$element.triggerHandler("bb_cliplist_loaded",[Object.assign(t,{clipListData:this._contentList})]);break;case"Project":if(this._projectId=this._data.id,this._projectClipListIndex=-1,this._data.chapters&&this._data.chapters.length){this._projectClipList=[];for(var a=0;a<this._data.chapters.length;a++){var o=this._data.chapters[a];if(o.steps&&o.steps.length)for(var s=0;s<o.steps.length;s++){if((l=o.steps[s]).entityType||(l.entityType="MediaClip",l.entityId=l.mediaClipId),l.entityType.match(/mediaclip/i)&&void 0!==l.entityId)(r={id:l.entityId,projectId:this._projectId,sourceid:null,usetype:"editorial",isPrefetch:!1}).id==this._data.mainMediaClipId&&this._data.mainMediaClipData&&((r=this._data.mainMediaClipData).projectId=this._projectId),this._projectClipList.push(r),r.id==this._data.mainMediaClipId&&(this._projectClipListIndex=this._projectClipList.length-1),this._projectClipListIndex<0&&l.isStart&&(this._projectClipListIndex=this._projectClipList.length-1),this._projectClipListIndex<0&&"id-startstep"===l.id&&(this._projectClipListIndex=this._projectClipList.length-1),this._projectClipListIndex<0&&"id-startnode"===l.id&&(this._projectClipListIndex=this._projectClipList.length-1)}}}else if(this._data.steps&&this._data.steps.length){this._projectClipList=[];for(s=0;s<this._data.steps.length;s++){var l,r;if((l=this._data.steps[s]).entityType||(l.entityType="MediaClip",l.entityId=l.mediaClipId),l.entityType.match(/mediaclip/i)&&void 0!==l.entityId)(r={id:l.entityId,projectId:this._projectId,sourceid:null,usetype:"editorial",isPrefetch:!1}).id==this._data.mainMediaClipId&&this._data.mainMediaClipData&&((r=this._data.mainMediaClipData).projectId=this._projectId),this._projectClipList.push(r),r.id==this._data.mainMediaClipId&&(this._projectClipListIndex=this._projectClipList.length-1),this._projectClipListIndex<0&&l.isStart&&(this._projectClipListIndex=this._projectClipList.length-1),this._projectClipListIndex<0&&"id-startstep"===l.id&&(this._projectClipListIndex=this._projectClipList.length-1),this._projectClipListIndex<0&&"id-startnode"===l.id&&(this._projectClipListIndex=this._projectClipList.length-1)}}else this._data.mainMediaClipId&&(this._projectClipList=[{id:this._data.mainMediaClipId,projectId:this._projectId,sourceid:null,usetype:"editorial",isPrefetch:!1}],this._projectClipListIndex=0);var d=this._data.media||this._data.meda;d?(this._headController.setMediaData(this._ignoreSingleMediaResource?null:d),this._setMediaData(this._ignoreProjectMetadata?null:d)):(this._headController.setMediaData(null),this._setMediaData(null)),t.projectData=this._data,this.$element&&this.$element.triggerHandler("bb_project_loaded",[t]),this._initTimelineEngines({projectData:this._data});break;default:if(this._data.isPrefetch=!0,parseInt(this._data.id,10)>0||!this._data.sourceid||this._data.title||(this._data.isPrefetch=!1),this._projectClipListIndex=-1,this._projectClipList&&this._projectClipList.length>0){for(var u=0;u<this._projectClipList.length&&this._data.id!=this._projectClipList[u].id;)u++;u<this._projectClipList.length&&(this._projectClipList[u]=this._data,this._projectClipListIndex=u)}if(!this._inProject())if(this._headController.setMediaData(null),this._setMediaData(null),t.projectData=null,this.$element&&this.$element.triggerHandler("bb_project_loaded",[t]),this._contentListIndex=-1,this._contentList&&this._contentList.length>0){for(u=0;u<this._contentList.length&&this._data.id!=this._contentList[u].id;)u++;u<this._contentList.length?(this._contentList[u]=this._data,this._contentListIndex=u):(this._contentList=[this._data],this._contentListIndex=0)}else this._contentList=[this._data],this._contentListIndex=0}}if(this._playlist=[],this._inProject())this._playlist.push(this._projectClipList[this._projectClipListIndex]);else if(null!=this._contentList){this._contentListIndex<=0&&(this._contentListIndex=0);for(i=this._contentListIndex;i<this._contentList.length;i++)this._playlist.push(this._contentList[i])}this._playlistNextItem()||(this._clip=null)}else this._clip=null},p.prototype._playlistNextItem=function(){var e=!1;if(this._playlist&&this._playlist.length>0){this._prev=this._clip,this._clip=null,this._clipSoftEmbargo=null;var t=this._playlist.shift();if(this._inProject()||this._contentListIndex++,this._autoPlayNext&&!(this._skinGeneration>=8)||this._opts.usingSuggest||this._contentList_prefetchItem(this._playlist,0),t){switch(t.type||void 0===t.items||(t.type="MediaClipList"),t.type){case"Project":case"MediaClipList":this._data=null,this._contentIndicator="MediaClipList"===t.type?"l":"p",this._contentId=t.id,t.isPrefetch&&(this._data=t),this._getData(this._dataCallback.bind(this));break;default:this._clipId=t.id,this._clipSourceId=t.sourceid,this._clipUseType=t.usetype,t.isPrefetch&&(this._clip=this._sanitizeClip(t),this._clip&&null!==this._shouldPlayInline&&(this._clip.shouldPlayInline=this._shouldPlayInline?"true":"false")),this._getClip(this._clipCallback.bind(this)),this._autoPlayNext_excludeIds.push(this._clipId)}e=!0}else this.$element.trigger("bb_mediaclip_failed")}return e},p.prototype._inProject=function(){return this._projectClipList&&this._projectClipListIndex>=0&&this._projectClipListIndex<this._projectClipList.length},p.prototype._inContentList=function(){return this._contentList&&this._contentListIndex>=0&&this._contentListIndex<this._contentList.length},p.prototype._setMediaData=function(e){if(this._dataMediaClipsById=null,e&&e.MediaClips){this._dataMediaClipsById={};for(var t=0,i=e.MediaClips.length;t<i;t++){var n=e.MediaClips[t];"MediaClip"===n.type&&parseInt(n.id,10)>0&&(n.isPrefetch=!0,this._dataMediaClipsById["#"+n.id]=n)}}if(this._dataTimelinesById=null,e&&e.Timelines){this._dataTimelinesById={};for(var a=0,o=e.Timelines.length;a<o;a++){var s=e.Timelines[a];("Timeline"===s.type||"TimelineNG"===s.type)&&parseInt(s.id,10)>0&&(s.isPrefetch=!0,this._dataTimelinesById["#"+s.id]=s)}}},p.prototype._getClip=function(e){var t=!1;if(null==this._clip)if(this._dataMediaClipsById&&this._dataMediaClipsById["#"+this._clipId])this._clip=this._sanitizeClip(this._dataMediaClipsById["#"+this._clipId]),this._clip&&null!==this._shouldPlayInline&&(this._clip.shouldPlayInline=this._shouldPlayInline?"true":"false"),"function"==typeof e&&e(!0),t=!0;else if(null!=this._opts&&void 0!==this._opts.publicationData){var i;if(parseInt(this._clipId,10)>0){var n=this,a=this._getClipUrl(this._clipId,this._clipSoftEmbargo),o={};this._token&&(o.token=this._token),h.fetchData(a,{data:o}).then((function(t){t?(n._clip=n._sanitizeClip(t),null!==n._shouldPlayInline&&(n._clip.shouldPlayInline=n._shouldPlayInline?"true":"false"),n._clip.isPrefetch=!0,"function"==typeof e&&e(!0)):(n._logError("json request failed: no data"),"function"==typeof e&&e(!1))})).catch((function(t){n._logError("json request failed: "+t),"function"==typeof e&&e(!1)})),t=!0}else if(this._clipSourceId&&((i=this._clipSourceId.match(/^\d+yt-(.*)$/))||(i=this._clipSourceId.match(/^imported-from\:(.*youtube.*v=.*)$/))||(i=this._clipSourceId.match(/^imported-from\:(.*youtu\.be\/.*)$/)))){var s=this,l="https://noembed.com/embed?url="+encodeURIComponent(i[1]);this._sourceTimeoutHandle=window.setTimeout((function(){s._sourceTimeoutHandle=null,s._clip={id:s._clipId,usetype:s._clipUseType,mediatype:"video",sourceid:s._clipSourceId},s._clip&&null!==s._shouldPlayInline&&(s._clip.shouldPlayInline=s._shouldPlayInline?"true":"false"),s._inProject()&&!s._clip.projectId&&s._projectId&&(s._clip.projectId=s._projectId),"function"==typeof e&&e(!0)}),5e3),h.fetchData(l).then((function(t){t?(null!=s._sourceTimeoutHandle&&(window.clearTimeout(s._sourceTimeoutHandle),s._sourceTimeoutHandle=null),s._clip=s._sanitizeClip_noembed(t,{id:s._clipId,usetype:s._clipUseType,mediatype:"video",sourceid:s._clipSourceId}),null!==s._shouldPlayInline&&(s._clip.shouldPlayInline=s._shouldPlayInline?"true":"false"),s._clip.isPrefetch=!0,"function"==typeof e&&e(!0)):(s._logError("json request failed: no data"),"function"==typeof e&&e(!1))})).catch((function(t){s._logError("json request failed: "+t),"function"==typeof e&&e(!1)})),t=!0}else this._logError("no valid clip id or source id"),"function"==typeof e&&e(!1),t=!1}else this._logError("no publicationData"),"function"==typeof e&&e(!1),t=!1;else"function"==typeof e&&e(!0),t=!0;return t},p.prototype._clipCallback=function(e){var t,i,n={clipData:this._clip,autoPlay:this._pendingPlay,contextEntityType:this._contextEntityType,contextEntityId:this._contextEntityId};e?null!=this._clip?(this.$element.trigger("bb_mediaclip_loaded",[n]),this._initTimelineEngines({clipData:this._clip})):this.$element.trigger("bb_mediaclip_failed",[n]):(n.clipData=this._clip=null,this.$element.trigger("bb_mediaclip_failed",[n])),this._headController_preloaded=!1;var a=this._autoPlayNext&&!(this._skinGeneration>=8);"INIT"!==this._phase&&!a&&this._session_started||null!=this._posterController&&(this._pendingPlay||this._autoPlayAdvancedNotChecked&&this._autoPlay||this._posterController.show());var o,s,l,r,d=new Date,u=new Date(null===(t=this._clip)||void 0===t?void 0:t.softEmbargo);(null===(i=this._clip)||void 0===i?void 0:i.softEmbargo)&&u>d?(null===(o=this._posterController)||void 0===o||o.setSoftEmbargoActive(!0),null===(s=this._posterController)||void 0===s||s.show(),this._clipId=this._clip.id,this._clipSourceId=this._clip.sourceid,this._clipUseType=this._clip.usetype,this._clipSoftEmbargo=this._clip.softEmbargo,this._clip=null,null===(l=this._softEmbargoTimer)||void 0===l||l.start(u)):(null===(r=this._posterController)||void 0===r||r.setSoftEmbargoActive(!1),"INIT"!==this._phase&&!a&&this._session_started||(this._session_started=!0,null!=this._headController&&(this._expectingPlayEvent=!1,this._headController.load(this._clip,this._seekPosition),this._headController_preloaded=!0)),(this._pendingPlay||this._autoPlayAdvancedNotChecked&&this._autoPlay)&&this.play())},p.prototype.sanitizeContentItem=function(e){if(e)switch(e.type){case"Project":e=this._sanitizeProject(e);break;case"MediaClipList":e=this._sanitizeClipList(e);break;default:e=this._sanitizeClip(e)n(e){if((e=this._sanitizeGeneric(e))&&"string"==typeof e.chapters)try{e.chapters=JSON.parse(e.chapters)}catch(t){e.chapters=[]}return e},p.prototype._sanitizeClipList=function(e){return e=this._sanitizeGeneric(e)},p.prototype._sanitizeClip=function(e){if(void 0!==(e=this._sanitizeGeneric(e))&&null!=e){if("string"==typeof e.assets)try{e.assets=JSON.parse(e.assets)}catch(t){e.assets=[]}if("string"==typeof e.subtitletracks)try{e.subtitles=JSON.parse(e.subtitletracks)}catch(t){e.subtitles=[]}if(e.subtitles){e.subtitles_obj={};for(var t=0;t<e.subtitles.length;t++)e.subtitles_obj["#"+t]=e.subtitles[t]}"function"==typeof this._inProject&&this._inProject()&&!e.projectId&&this._projectId&&(e.projectId=this._projectId)}return e},p.prototype._sanitizeGeneric=function(e){if(e){if("string"==typeof e.thumbnails)try{e.thumbnails=JSON.parse(e.thumbnails)}catch(t){e.thumbnails=[]}if("array"===i.default(e.timeline_multistring)||"object"==typeof e.timeline_multistring)for(var t in e.timelines=[],e.timeline_multistring)parseInt(t)>=0&&e.timelines.push({id:e.timeline_multistring[t]});if("object"==typeof e.timelines)for(var t in e.timelines)if(parseInt(t)>=0){var n=e.timelines[t].id;this._dataTimelinesById&&this._dataTimelinesById["#"+n]&&(e.timelines[t]=this._dataTimelinesById["#"+n])}for(var a in void 0===e.publisheddate&&(e.publisheddate=e.published_date),void 0===e.date&&(e.date={created:e.createddate,published:e.publisheddate,modified:e.modifieddate}),e){(o=a.replace(/_string$/,""))!=a&&(e[o]=e[a])}for(var a in e){(o=a.replace(/_int$/,""))!=a&&(e[o]=e[a])}for(var a in e){var o;(o=a.replace(/_boolean$/,""))!=a&&(e[o]=e[a])}}return e},p.prototype._sanitizeClip_youtube=function(e){var t=null;if(void 0!==e&&null!=e){var i=e.snippet;if((t={id:this._clipId,mediatype:"video",sourceid:this._clipSourceId}).title=i.title,t.date={created:i.publishedAt,published:i.publishedAt,modified:i.publishedAt},t.author=i.channelTitle,t.cat=i.tags,i.thumbnails)for(var n in t.thumbnails=[],i.thumbnails){var a=i.thumbnails[n];t.thumbnails.push({src:a.url,width:a.width,height:a.height,main:"maxres"==n})}this._inProject()&&!t.projectId&&this._projectId&&(t.projectId=this._projectId)}return t},p.prototype._sanitizeClip_noembed=function(e,t){var i=null;return void 0!==e&&null!=e&&((i=t||{mediatype:"video"}).isYouTubeEmbed=!0,i.title=e.title,i.author=e.author_name,i.thumbnails=[{src:e.thumbnail_url,width:e.thumbnail_width,height:e.thumbnail_height,main:!0}],this._inProject()&&!i.projectId&&this._projectId&&(i.projectId=this._projectId)),i},p.prototype._onPlayoutChanged=function(e,t){t&&void 0!==t.playoutData&&(void 0!==t.playoutData.autoPlay&&(this._autoPlay="true"==t.playoutData.autoPlay),void 0!==t.playoutData.autoLoop&&(this._autoLoop="true"==t.playoutData.autoLoop),void 0!==t.playoutData.autoPlayNext&&(this._autoPlayNext="true"===t.playoutData.autoPlayNext),void 0!==t.playoutData.ignoreProjectMetadata&&(this._ignoreProjectMetadata="true"==t.playoutData.ignoreProjectMetadata),void 0!==t.playoutData.ignoreSingleMediaResource&&(this._ignoreSingleMediaResource="true"==t.playoutData.ignoreSingleMediaResource),void 0!==t.playoutData.noPosterInExitPhase&&(this._noPosterInExitPhase="true"===t.playoutData.noPosterInExitPhase))},p.prototype._onSkinCreated=function(e,t){t&&void 0!==t.skinGeneration&&(this._skinGeneration=t.skinGeneration)},p.prototype._onAssetsChanged=function(e,t){if((null==t?void 0:t.audioTracks)?this._legacyAudioTracks=!1:this._legacyAudioTracks=!0,null==t?void 0:t.assets){this._assetsMap=[];for(var i=0;i<t.assets.length;i++){var n=t.assets[i];if(n){var a="".concat(n.mediatype).concat(Math.round(n.bandwidth)).concat(Math.round(n.width)).concat(Math.round(n.height)),o=n["language-id"]||"-1",s=("-1"!==o&&n["language-name"],"-1"!==o?n["language-isocode"]:"main");this._assetsMap.push({bwh:a,lang:o,isocode:s,assetId:n.id})}}}},p.prototype._onAssetSelected=function(e,t){if(null==t?void 0:t.asset){var i=t.asset;if(void 0!==i.id){var n="".concat(i.mediatype).concat(Math.round(i.bandwidth)).concat(Math.round(i.width)).concat(Math.round(i.height));this._currentAssetId=n}else this._currentAssetId="-1";this._currentAudioTrackId=i["language-id"]||"-1"}},p.prototype._onRelatedClipsChanged=function(e,t){if(t&&void 0!==t.clips&&(this._autoPlayNext_clips=t.items||t.clips,this._autoPlayNext_clips))for(var i=0;i<this._autoPlayNext_clips.length;){if(this._autoPlayNext_excludeIds.indexOf(this._autoPlayNext_clips[i].id)<0){this._contentList_prefetchItem(this._autoPlayNext_clips,i);break}i++}},p.prototype._contentList_prefetchItem=function(e,t){var i=!1,n={};if(this._token&&(n.token=this._token),e&&e[t])switch(e[t].type){case"Project":case"MediaClipList":break;default:var a=e[t].id,o=e[t].usetype,s=e[t].sourceid;if(this._dataMediaClipsById&&this._dataMediaClipsById["#"+a])e[t]=this._sanitizeClip(this._dataMediaClipsById["#"+a]),e[t]&&null!==this._shouldPlayInline&&(e[t].shouldPlayInline=this._shouldPlayInline?"true":"false"),i=!0;else if(null!=this._opts&&void 0!==this._opts.publicationData){var l;if(parseInt(a,10)>0){var r=this,d=this._getClipUrl(a);h.fetchData(d,{data:n}).then((function(i){i?(e[t]=r._sanitizeClip(i),e[t]&&null!==r._shouldPlayInline&&(e[t].shouldPlayInline=r._shouldPlayInline?"true":"false"),e[t].isPrefetch=!0):(e[t]=null,r._logWarning("json request failed: no data"))})).catch((function(i){e[t]=null,r._logWarning("json request failed: "+i)})),i=!0}else if(s&&((l=s.match(/^\d+yt-(.*)$/))||(l=s.match(/^imported-from\:(.*youtube.*v=.*)$/))||(l=s.match(/^imported-from\:(.*youtu\.be\/.*)$/)))){var u=this,c="https://noembed.com/embed?url="+encodeURIComponent(l[1]);h.fetchData(c).then((function(i){i?(e[t]=u._sanitizeClip_noembed(i,{id:a,usetype:o,mediatype:"video",sourceid:s}),e[t]&&null!==u._shouldPlayInline&&(e[t].shouldPlayInline=u._shouldPlayInline?"true":"false"),e[t].isPrefetch=!0):(e[t]=null,u._logWarning("json request failed: no data"))})).catch((function(i){e[t]=null,u._logWarning("json request failed: "+i)})),i=!0}else e[t]=null,this._logWarning("no valid clip id or source id"),i=!1}else this._logWarning("no publicationData"),i=!1}return i},p.prototype._onError=function(e,t){switch(e.stopPropagation(),o.default("[ProgramController] _onError phase = "+this._phase),this._phase){case"INIT":case"EXIT":bbreak;case"MAIN":this._onCommercialMainFinished(null),this._onMediaFinished(null);break;case"POST":this._onCommercialPostFinished(null)}},p.prototype._onMediaPlay=function(e){this._expectingPlayEvent||this.play()},p.prototype._onMediaPlaying=function(e){var t;this._keepPosterShowingOnPlaying||null===(t=this._posterController)||void 0===t||t.hide(),this._pauseRequested&&this._headController&&this._headController.pause()},p.prototype._onMediaFinished=function(e){o.default("[ProgramController] _onMediaFinished"),null!=e&&e.stopPropagation(),"MAIN"==this._phase&&this._phase_started&&(this._mediaMainFinished=!0),this._clip&&"mainroll"==this._clip.mediatype||this._mediaMainFinished&&this._commercialMainFinished&&(this._phase="POST",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._play())},p.prototype._onCommercialPreFinished=function(e){var t,i;o.default("[ProgramController] _onCommercialPreFinished"),null!=e&&e.stopPropagation();var n=this._phase_started;this._mediaMainFinished=!1,this._commercialMainFinished=!1,this._phase="MAIN",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]);var a,s=(null===(t=this._adSchedulingController)||void 0===t?void 0:t.get("adCounter_clip"))||(null===(i=this._msasController)||void 0===i?void 0:i.get("adCounter_clip"))||0;if(this._userAction)n&&(this._play(),this.$element.trigger("bb_program_autopauseplay",[{why:"userAction"}]));else if(this._autoPlayOnlyWithPrerollAd&&s<=0)null===(a=this._posterController)||void 0===a||a.show(),this.$element.trigger("bb_program_autopause",[{why:"autoPlayOnlyWithPrerollAd"}]);else if(this._showOnlyWhenPrerollAvailable){var l;null===(l=this._posterController)||void 0===l||l.show(),this.$element.trigger("bb_program_autopause",[{why:"showOnlyWhenPrerollAvailable"}])}else n&&(this._play(),this.$element.trigger("bb_program_autopauseplay",[{why:"autoPlayOnlyWithPrerollAd"}]))},p.prototype._onCommercialMainFinished=function(e){o.default("[ProgramController] _onCommercialMainFinished"),null!=e&&e.stopPropagation();var t=this._phase_started;this._commercialMainFinished=!0,(this._clip&&"mainroll"==this._clip.mediatype||this._mediaMainFinished&&this._commercialMainFinished)&&(this._phase="POST",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),t&&this._play())},p.prototype._onCommercialPostFinished=function(e){var t;null!=e&&e.stopPropagation();var i=this._phase_started;if(this._view_started&&(this._view_started=!1,this.$element.trigger("bb_view_finished")),0==this._playlist.length&&this._inContentList()&&this._inProject()&&("true"===this._clip.isOutro||!0===this._clip.isOutro)){this._contentListIndex++;for(var n=this._contentListIndex;n<this._contentList.length;n++)this._playlist.push(this._contentList[n])}var a,o=this._autoPlayNext&&!(this._skinGeneration>=8);if(0==this._playlist.length)if(this._autoLoop){if(this._playlist=[],this._inProject())this._playlist.push(this._projectClipList[this._projectClipListIndex]);else if(null!=this._contentList){this._contentListIndex<=0&&(this._contentListIndex=0);for(n=0;n<this._contentList.length;n++)this._playlist.push(this._contentList[n])}}else if(o&&(this._playlist=[],this._autoPlayNext_clips))for(n=0;n<this._autoPlayNext_clips.length;){if(this._autoPlayNext_clips[n]&&this._autoPlayNext_excludeIds.indexOf(this._autoPlayNext_clips[n].id)<0){this._playlist.push(this._autoPlayNext_clips[n]);break}n++}if(this._playlistNextItem())o?(this._initiator="autoPlayNext",this._phase="INIT",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),null===(a=this._posterController)||void 0===a||a.show(),i&&this._autoPlayNext_timer&&this._autoPlayNext_timer.start()):(this._initiator||(this._initiator="autoLoop"),this._phase="PRE",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._headController_preloaded=!1,i&&null!=this._clip&&this._play());else if((null===(t=this._msasController)||void 0===t?void 0:t.isOutstreamRefreshEnabled())&&!this._outstreamRefreshFinished)this.pause(),this.loadData(this._opts.adServicesData,{autoPlay:!0,initiator:"OutstreamRefresh"});else{var s;this._phase="EXIT",this._phase_started=!1,this.$element.trigger("bb_phase_change",[{phase:this._phase}]),this._noPosterInExitPhase||this._inProject()&&"true"!==this._clip.isOutro&&!0!==this._clip.isOutro||null===(s=this._posterController)||void 0===s||s.show(),null!=this._headController&&this._headController.enableResizing()}},p.prototype._onCommercialPlaying=function(e){var t;this._keepPosterShowingOnPlaying||null===(t=this._posterController)||void 0===t||t.hide()},p.prototype._onSoftEmbargoTimerFinished=function(e){var t;null===(t=this._posterController)||void 0===t||t.setSoftEmbargoActive(!1),this._clipId?(this._dataMediaClipsById&&(this._dataMediaClipsById["#"+this._clipId]=null),this._clip=null,this._getClip(this._clipCallback.bind(this))):(this._dataMediaClipsById=null,this._data=null,this._getData(this._dataCallback.bind(this)))},p.prototype._onAdSystemRequest=function(e,t){if(null!=e&&e.stopPropagation(),t)switch(t.action){case"content_pause":var i;if("MAIN"===this._phase&&this._phase_started)this._pauseRequested=!0,null===(i=this._headController)||void 0===i||i.pause();break;case"content_resume":var n;if("MAIN"===this._phase)this._pauseRequested=!1,this._mediaMainFinished||null===(n=this._headController)||void 0===n||n.play()}},p.prototype._onAdSystemStarted=function(){this._autoPlayOnlyWithPrerollAd&&"PRE"===this._phase&&this.$element.trigger("bb_program_autopauseplay",[{why:"prerollStarted"}])},p.prototype._logError=function(e){this.$element.trigger("bb_error",[{msg:e}])},p.prototype._logWarning=function(e){this.$element.trigger("bb_warning",[{msg:e}])},p._needsTimelineEngine=function(e,t){if("all"===(t=t||"all")||"MediaClip"===t){var i,n,a,o,s;if(null==e||null===(i=e.clipData)||void 0===i?void 0:i.timelineId)return!0;if((null==e||null===(n=e.clipData)||void 0===n||null===(a=n.timelines)||void 0===a?void 0:a.length)>=1)return!0;if(null==e||null===(o=e.playoutData)||void 0===o?void 0:o.timelineId)return!0;if(null==e||null===(s=e.playoutData)||void 0===s?void 0:s.templateId)return!0}if("all"===t||"Project"===t){var l,r,d;if(null==e||null===(l=e.projectData)||void 0===l?void 0:l.timelineId)return!0;if((null==e||null===(r=e.projectData)||void 0===r||null===(d=r.timelines)||void 0===d?void 0:d.length)>=1)return!0}return!1},p.prototype._initTimelineEngines=function(e){if(p._needsTimelineEngine(e)){var t=this;this._timelineEnginePromise||(this._timelineEnginePromise=parcelRequire("5paxE")),this._timelineEnginePromise.then((function(i){var n=i.default;"function"!=typeof n||null==t._opts||t._opts.noSkinMode||(!t._timelineEngine&&p._needsTimelineEngine(e,"MediaClip")&&(o.debugMode&&performance.mark("TimelineEngine"),t._timelineEngine=new n(t.$element,t._opts,"MediaClip",0==t._timelineMessageMaster++,e),o.debugMode&&performance.mark("end_TimelineEngine")),!t._timelineEngine_project&&p._needsTimelineEngine(e,"Project")&&(o.debugMode&&performance.mark("TimelineEngine on Project"),t._timelineEngine_project=new n(t.$element,t._opts,"Project",0==t._timelineMessageMaster++,e),o.debugMode&&performance.mark("end_TimelineEngine on Project")))}))}}})),parcelRequire.register("4aNIZ",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("cWdJP"),n=function(e,t){this._opts=void 0!==t?t:null,this._ticks=0,this._playerOutOfView=!1,this._timerCanceledFromOutView=!1,this._shouldHaveStarted=!1,this._tickDuration=.5,this._totalDuration=8,this._interval=null,this._pc=null,this._onInViewBound=this._onInView.bind(this),this._onOutViewBound=this._onOutView.bind(this),this.$element=null,void 0!==e&&null!=e&&(this.$element=e,i.default.getService(this._opts.playerAliasOrId).setInstance("AutoPlayNextTimer",this),this._pc=i.default.getService(this._opts.playerAliasOrId).getInstance("ProgramController"),this.$element.on("bb_inview",this._onInViewBound),this.$element.on("bb_outview",this._onOutViewBound))};n.prototype.exit=function(){return this.$element&&(this.$element.off("bb_inview",this._onInViewBound),this.$element.off("bb_outview",this._onOutViewBound)),i.default.getService(this._opts.playerAliasOrId).setInstance("AutoPlayNextTimer",null),null},n.prototype.isRunning=function(){return!!this._interval},n.prototype.start=function(){if(!this._playerOutOfView)return this._interval&&(window.clearInterval(this._interval),this._interval=null),this._ticks=0,this._remainingTime=this._totalDuration,this._interval=window.setInterval(this._onTick.bind(this),1e3*this._tickDuration),this.$element&&this.$element.triggerHandler("bb_autoplaynexttimer_started",[{ticks:this._ticks,remainingTime:this._remainingTime}]),!0;this._shouldHaveStarted=!0},n.prototype.cancel=function(){return this._interval&&(window.clearInterval(this._interval),this._interval=null),this.$element&&this.$element.triggerHandler("bb_autoplaynexttimer_cancelled",[{ticks:this._ticks,remainingTime:0}]),this._playerOutOfView=!1,this._timerCanceledFromOutView=!1,!0},n.prototype._onTick=function(e){this._ticks++,this._remainingTime-=this._tickDuration,this._remainingTime>0?this.$element&&this.$element.triggerHandler("bb_autoplaynexttimer_tick",[{ticks:this._ticks,remainingTime:this._remainingTime}]):(this._interval&&(window.clearInterval(this._interval),this._interval=null),this.$element&&this.$element.triggerHandler("bb_autoplaynexttimer_finished",[{ticks:this._ticks,remainingTime:0}]),this._pc&&this._pc.play(!1))},n.prototype._onInView=function(e){this._playerOutOfView=!1,this.isRunning()||(this._timerCanceledFromOutView?(this._timerCanceledFromOutView=!1,this._interval=window.setInterval(this._onTick.bind(this),1e3*this._tickDuration),this.$element&&this.$element.triggerHandler("bb_autoplaynexttimer_resumed",[{ticks:this._ticks,remainingTime:this._remainingTime}])):this._shouldHaveStarted&&(this.start(),this._shouldHaveStarted=!1,this._playerOutOfView=!1))},n.prototype._onOutView=function(e){this.isRunning()?(this._timerCanceledFromOutView=!0,this._interval&&(window.clearInterval(this._interval),this._interval=null),this.$element&&this.$element.triggerHandler("bb_autoplaynexttimer_paused",[{ticks:this._ticks,remainingTime:this._remainingTime}])):this._playerOutOfView=!0}})),parcelRequire.register("5N4wg",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=parcelRequire("cWdJP"),o=function(){"use strict";function e(t,n){i.default(this,e),this._opts=void 0!==n?n:null,this._ticks=0,this._tickDuration=1,this._endDate=new Date,this._interval=null,this.$element=null,void 0!==t&&null!=t&&(this.$element=t,a.default.getService(this._opts.playerAliasOrId).setInstance("SoftEmbargoTiy:"exit",value:function(){return this._interval&&this.cancel(),a.default.getService(this._opts.playerAliasOrId).setInstance("SoftEmbargoTimer",null),null}},{key:"isRunning",value:function(){return!!this._interval}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(this._endDate=e),this._ticks=0;var t,i,n=new Date,a=(this._endDate-n)/1e3;a>0?(this._interval&&(window.clearInterval(this._interval),this._interval=null),this._interval=window.setInterval(this._onTick.bind(this),1e3*this._tickDuration),null===(t=this.$element)||void 0===t||t.triggerHandler("bb_softembargotimer_started",[{ticks:this._ticks,remainingTime:a,endDate:new Date(e)}])):(this._interval&&(window.clearInterval(this._interval),this._interval=null),null===(i=this.$element)||void 0===i||i.triggerHandler("bb_softembargotimer_finished",[{ticks:this._ticks,remainingTime:0}]));return!0}},{key:"cancel",value:function(){var e;return this._interval&&(window.clearInterval(this._interval),this._interval=null),null===(e=this.$element)||void 0===e||e.triggerHandler("bb_softembargotimer_cancelled",[{ticks:this._ticks,remainingTime:0}]),!0}},{key:"_onTick",value:function(e){var t;this._ticks++;var i,n=new Date,a=(this._endDate-n)/1e3;a>0?null===(t=this.$element)||void 0===t||t.triggerHandler("bb_softembargotimer_tick",[{ticks:this._ticks,remainingTime:a}]):(this._interval&&(window.clearInterval(this._interval),this._interval=null),null===(i=this.$element)||void 0===i||i.triggerHandler("bb_softembargotimer_finished",[{ticks:this._ticks,remainingTime:0}]))}}]),e}()})),parcelRequire.register("cYENG",(function(e,t){$parcel$export(e.exports,"default",(function(){return a})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=function(e,t){this._init(e,t)};a.prototype._init=function(e,t){if(this._resizeThresHold=.7,this._isVisible=!1,this._loadNewSize=!1,this._loadedGenericId=null,this.$posterLayer=null,this.$element=null,this._opts=null,this._projectData=null,this._clipData=null,this._phase=null,this._genericId=0,this._genericType="mediaclip",this._genericMediaType="video",this._genericThumbnails=null,this._genericIsYouTubeEmbed=!1,this._imageTransition="opacity .25s ease-in-out",this._w=640,this._h=360,this._initCount=0,this._useThumbsFromMetadata=!1,this._useSession=!1,this._useMovingThumbnail=!1,this._disableMovingThumbnail=!1,this._movingThumbnailPlayTimeout=null,this._hadMovingThumbnailPlay=!1,this._movingThumbnailSrc=null,this._onPhaseChangeBound=this._onPhaseChange.bind(this),this._onMouseEnterBound=this._onMouseEnter.bind(this),this._onMouseLeaveBound=this._onMouseLeave.bind(this),this._onInviewBound=this._onInview.bind(this),this._onOutviewBound=this._onOutview.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged(this),this._onProjectLoadedBound=this._onProjectLoaded.bind(this),this._onClipLoadedBound=this._onClipLoaded.bind(this),this._onResizeBound=this._onResize.bind(this),void 0!==t&&null!=t&&(this._opts=t),void 0!==e&&null!=e){var a,o,s,l,r,d;this.$element=e,this.$posterLayer=this.$element.find(".bb-poster-layer"),this.$posterLayer.css({opacity:0}),this.$media=this.$element.find(".bb-content-layer video");var u=n.default.getService(this._opts.playerAliasOrId).getInstance("Detections");this._isTouchDevice=!!u&&u.isTouchDevice,this._isSafari=!!u&&u.isSafari,this._imageExtension=(null==u?void 0:u.webp)?"webp":"jpg",this._w=this.$posterLayer.width(),this._h=this.$posterLayer.height(),this._opts&&this._opts.publicationData&&this._opts.publicationData.useThumbsFromMetadata&&(this._useThumbsFromMetadata="true"===this._opts.publicationData.useThumbsFromMetadata),this._opts&&this._opts.playoutData&&this._opts.playoutData.useThumbsFromMetadata&&(this._useThumbsFromMetadata="true"===this._opts.playoutData.useThumbsFromMetadata),this._opts&&this._opts.projectData&&this._opts.projectData.useThumbsFromMetadata&&(this._useThumbsFromMetadata="true"===this._opts.projectData.useThumbsFromMetadata),this._opts&&this._opts.clipData&&this._opts.clipData.useThumbsFromMetadata&&(this._useThumbsFromMetadata="true"===this._opts.clipData.useThumbsFromMetadata),this._opts&&this._opts.playoutData&&void 0!==this._opts.playoutData.useSession&&(this._useSession="true"===this._opts.playoutData.useSession);var c=new Date,h=null===(a=this._opts)||void 0===a||null===(o=a.clipData)||void 0===o?void 0:o.softEmbargo,p=new Date(h);h&&p>c&&(this._softEmbargoActive=!0),"true"===(null===(s=this._opts)||void 0===s||null===(l=s.playoutData)||void 0===l?void 0:l.softEmbargoHasCustomPoster)&&(this._softEmbargoCustomPosterClipId=null===(r=this._opts)||void 0===r||null===(d=r.playoutData)||void 0===d?void 0:d.softEmbargoCustomPosterClipId),this._opts&&(this._opts.playoutData&&"true"===this._opts.playoutData.disableMovingThumbnail||this._opts.publicationData&&"true"===this._opts.publicationData.disableMovingThumbnail)&&(this._disableMovingThumbnail=!0),!this._disableMovingThumbnail&&this._opts&&this._opts.clipData&&this._opts.clipData.movingThumbnails&&(this._useMovingThumbnail=!0),0==this.$posterLayer.length?this.$posterLayer=null:(this.$posterLayer.css({opacity:0,transition:this._imageTransition}),this._imageToLoad=1,this.$image1=$parcel$interopDefault(i)(document.createElement("img")).appendTo(this.$posterLayer),this.$image1.css({width:"100%",height:"100%",opacity:0,transition:this._imageTransition}),this.$image1.attr("alt","poster"),this.$image2=$parcel$interopDefault(i)(document.createElement("img")).appendTo(this.$posterLayer),this.$image2.css({width:"100%",height:"100%"}),this.$image2.attr("alt","poster"),this.$movingThumbnailVideo=null,this._useMovingThumbnail&&(this._createMovingThumbnailContainer(),this.$element.on("bb_phase_change",this._onPhaseChangeBound),this._isTouchDevice?(this.$element.on("bb_inview",this._onInviewBound),this.$element.on("bb_outview",this._onOutviewBound)):(this.$element.on("mouseenter",this._onMouseEnterBound),this.$element.on("mouseleave",this._onMouseLeaveBound)))),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_project_loaded",this._onProjectLoadedBound),this.$element.on("bb_mediaclip_loaded",this._onClipLoadedBound),this.$element.on("bb_resized",this._onResizeBound),void 0!==this.$posterLayer&&null!=this.$posterLayer&&this.$posterLayer.attr("aria-hidden","true")}},a.prototype.exit=function(){return this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_project_loaded",this._onProjectLoadedBound),this.$element.off("bb_mediaclip_loaded",this._onClipLoadedBound),this.$element.off("bb_resized",this._onResizeBound),this.$element.off("bb_phase_change",this._onPhaseChangeBound),this._isTouchDevice?(this.$element.off("bb_inview",this._onInviewBound),this.$element.off("bb_outview",this._onOutviewBound)):(this.$element.off("mouseenter",this._onMouseEnterBound),this.$element.off("mouseleave",this._onMouseLeaveBound)),this._destroyMovingThumbnailContainer(),this.$posterLayer&&this.$posterLayer.html(""),this.$element=null,this.$posterLayer=null,this._opts=null,null},a.prototype._handleDataChange=function(e){e&&e.disableMovingThumbnail&&(this._disableMovingThumbnail="true"===e.disableMovingThumbnail,this._disableMovingThumbnail?this._useMovingThumbnail=!1:this._useMovingThumbnail=!(!e.movingThumbnails||!e.movingThumbnails.length)),e&&e.useThumbsFromMetadata&&(this._useThumbsFromMetadata="true"===e.useThumbsFromMetadata),e&&e.movingThumbnails&&(this._useMovingThumbnail=!this._disableMovingThumbnail&&!!e.mseMovingThumbnail&&!this.$movingThumbnailVideo&&this._createMovingThumbnailContainer():this._destroyMovingThumbnailContainer()},a.prototype._onPlayoutChanged=function(e,t){t&&this._handleDataChange(t.playoutData)},a.prototype._onProjectLoaded=function(e,t){if(t){var i,n;if(this._projectData=t.projectData,this._projectData)this._genericId=this._projectData.id,this._genericType="project",this._genericMediaType=null,this._genericThumbnails=this._projectData.thumbnails,this._genericMovingThumbnails=this._projectData.movingThumbnails||null,this._genericIsYouTubeEmbed=!1,null===(i=this.$image1)||void 0===i||i.hide(),null===(n=this.$image2)||void 0===n||n.hide(),this._handleDataChange(this._projectData);!0===t.autoPlay||"true"===t.autoPlay||(this.load(),this._projectData&&this.show())}},a.prototype._onClipLoaded=function(e,t){if(t){var i,n,a;if(this._clipData=t.clipData,this._clipData&&!this._projectData)this._genericId=this._clipData.id,this._genericType="mediaclip",this._genericMediaType=this._clipData.mediatype,this._genericThumbnails=this._clipData.thumbnails,this._genericMovingThumbnails=this._clipData.movingThumbnails||null,this._genericIsYouTubeEmbed=this._clipData.isYouTubeEmbed,null===(n=this.$image1)||void 0===n||n.hide(),null===(a=this.$image2)||void 0===a||a.hide(),this._handleDataChange(this._clipData);var o=new Date,s=null===(i=this._clipData)||void 0===i?void 0:i.softEmbargo,l=new Date(s);s&&l>o&&(this._softEmbargoActive=!0),!0===t.autoPlay||"true"===t.autoPlay||this.load()}},a.prototype._onResize=function(e,t){if(this.$posterLayer){this._w=parseInt(this.$posterLayer[0].style.width.replace("px",""));var i=this._h=parseInt(this.$posterLayer[0].style.height.replace("px",""));this._loadNewSize=!1,(this._isVisible&&null==this._loadedHeight||this._loadedHeight/i<this._resizeThresHold||this._loadNewSize)&&(this._loadNewSize=!0,this._isVisible&&this.load())}},a.prototype._onInview=function(e,t){if(this._isTouchDevice&&this._useMovingThumbnail&&this.$movingThumbnailVideo){var i=this.$movingThumbnailVideo[0];if(i&&i.play){var n=i.play();n&&n.catch&&n.catch((function(e){}))}}},a.prototype._onOutview=function(e,t){if(this._isTouchDevice&&this._useMovingThumbnail&&this.$movingThumbnailVideo){var i=this.$movingThumbnailVideo[0];if(i&&i.pause)try{i.pause()}catch(e){}}},a.prototype.load=function(){var e=this,t=this._useThumbsFromMetadata,n=this._genericId,a=this._genericThumbnails,o=this._genericMovingThumbnails;if(this._softEmbargoActive&&this._softEmbargoCustomPosterClipId&&(t=!1,n=this._softEmbargoCustomPosterClipId,a=null,o=null),n&&(n!==this._loadedGenericId||this._loadNewSize)&&this._w>=50&&this._h>=50){var s=this._w%16,l=this._w/this._h;if(this._w=this._w-s,this._h=Math.round(this._w/l),null!=this._opts&&void 0!==this._opts.publicationData){var r=null;this._hadMovingThumbnailPlay=!1;var d=this._w*this._h;if(!t&&("project"===this._genericType||"mediaclip"===this._genericType)&&n>0){var u=this._useSession?"spthumbnail":"pthumbnail",c=this._useSession?"spmovingthumbnail":"pmovingthumbnail";if(this._isSafari&&(c="movingthumbnail"),r=this._opts.publicationData.server+"/"+this._genericType+"/"+n+"/"+u+"/"+this._w+"/"+this._h+"."+this._imageExtension,o&&o.length){for(var h=[{width:1280,height:720},{width:854,height:480},{width:640,height:360}],p=h[2],_=0;_<h.length;_++){var m=h[_].width*h[_].height,f=Math.abs(m-d);(void 0===g||f<g)&&(g=f,p=h[_])}this._movingThumbnailSrc=this._opts.publicationData.server+"/"+this._genericType+"/"+n+"/"+c+"/"+p.width+"/"+p.height}else this._movingThumbnailSrc=null}else if(a){for(_=0;_<a.length;_++){var v=a[_];if((v.main||0==_)&&(r=v.src),v.main)break}if(!r||r.match(/^\w+:\/\//)||r.match(/^\/\//)||(r=this._opts.publicationData.defaultMediaAssetPath+r),o&&o.length){var g;this._movingThumbnailSrc=o[0].src;for(_=0;_<o.length;_++){var y=o[_];if(y.main||"true"===y.main){this._movingThumbnailSrc=y.src;break}m=+y.width*+y.height,f=Math.abs(m-d);(void 0===g||f<g)&&(g=f,this._movingThumbnailSrc=y.src)}!this._movingThumbnailSrc||this._movingThumbnailSrc.match(/^\w+:\/\//)||this._movingThumbnailSrc.match(/^\/\//)||(this._movingThumbnailSrc=this._opts.publicationData.defaultMediaAssetPath+this._movingThumbnailSrc)}else this._movingThumbnailSrc=null}if(null!=this.$posterLayer&&null!=r)switch(this._loadedGenericId=n,this._loadedHeight=this._h,this._useMovingThumbnail&&this._movingThumbnailSrc?this.$movingThumbnailVideo||this._createMovingThumbnailContainer():this.$movingThumbnailVideo&&this._destroyMovingThumbnailContainer(),this._movingThumbnailSrc&&this.$movingThumbnailVideo&&this.$movingThumbnailVideo.attr("src",this._movingThumbnailSrc),this._imageToLoad){case 1:if(this.$image1)return this.$image1.hide(),this.$image1[0].onload=function(){var t,n;null===(t=e.$element)||void 0===t||t.triggerHandler("bb_poster_changed",[{width:e.$image1[0].naturalWidth,height:e.$image1[0].naturalHeight}]),$parcel$interopDefault(i)(this).show().css({opacity:1}),null===(n=e.$image2)||void 0===n||n.hide(),e._imageCurrentlyShown=1},this.$image1.attr("src",r),this._imageToLoad=2,!0;break;case 2:if(this.$image2)return this.$image2.hide(),this.$image2[0].onload=function(){var t,n;null===(t=e.$element)||void 0===t||t.triggerHandler("bb_poster_changed",[{width:e.$image2[0].naturalWidth,height:e.$image2[0].naturalHeight}]),$parcel$interopDefault(i)(this).show(),null===(n=e.$image1)||void 0===n||n.hide(),e._imageCurrentlyShown=2},this.$image2.attr("src",r),this._imageToLoad=1,!0}}}else switch(this._imageCurrentlyShown){case 1:var b,w;null===(b=this.$image1)||void 0=== 0===w||w.hide();break;case 2:var k,$;null===(k=this.$image1)||void 0===k||k.hide(),null===($=this.$image2)||void 0===$||$.show()}return!1},a.prototype.setSoftEmbargoActive=function(e){this._softEmbargoActive=!!e},a.prototype.show=function(){return"mainroll"!==this._genericMediaType&&!this._genericIsYouTubeEmbed&&(this.load(),null!=this.$posterLayer&&(this._isVisible=!0,this.$media&&this.$media.removeAttr("controls"),this.$media&&this.$media.prop("controls",!1),this.$posterLayer.css({opacity:1}),this.$posterLayer.removeAttr("aria-hidden"),!0))},a.prototype._createMovingThumbnailContainer=function(){this.$movingThumbnailVideo&&this._destroyMovingThumbnailContainer(),this.$movingThumbnailVideo=$parcel$interopDefault(i)(document.createElement("video")).appendTo(this.$posterLayer),this.$movingThumbnailVideo.css({width:"100%",height:"100%",display:"none",objectFit:"fill",position:"absolute",top:0,left:0}),this.$movingThumbnailVideo.attr("loop","true"),this.$movingThumbnailVideo.attr("preload","none"),this.$movingThumbnailVideo.attr("playsinline",""),this.$movingThumbnailVideo.attr("webkit-playsinline",""),this.$movingThumbnailVideo.attr("aria-hidden","true"),this.$movingThumbnailVideo.prop("muted",!0),this.$movingThumbnailVideo.prop("volume",0),this._movingThumbnailSrc&&this.$movingThumbnailVideo.attr("src",this._movingThumbnailSrc);var e=this;this.$movingThumbnailVideo.on("playing",(function(t){t.stopPropagation(),e._hadMovingThumbnailPlay||(e.$element.trigger("bb_movingthumbnail_started"),e._hadMovingThumbnailPlay=!0),e.$movingThumbnailVideo.show(),e.$movingThumbnailVideo.removeAttr("aria-hidden")})),this.$movingThumbnailVideo.on("pause ended error abort stalled",(function(t){switch(t.stopPropagation(),e._imageCurrentlyShown){case 1:var i;null===(i=e.$image1)||void 0===i||i.show();break;case 2:var n;null===(n=e.$image2)||void 0===n||n.show()}e.$movingThumbnailVideo.hide(),e.$movingThvingThumbnailContainer=function(){this._movingThumbnailPlayTimeout&&clearTimeout(this._movingThumbnailPlayTimeout),this.$movingThumbnailVideo&&(this.$movingThumbnailVideo.remove(),this.$movingThumbnailVideo=null)},a.prototype._onMouseEnter=function(){if(this._useMovingThumbnail&&this.$movingThumbnailVideo&&this.$movingThumbnailVideo[0]&&"function"==typeof this.$movingThumbnailVideo[0].play&&this.$movingThumbnailVideo.attr("src")){var e=this;this._movingThumbnailPlayTimeout&&clearTimeout(this._movingThumbnailPlayTimeout),this._movingThumbnailPlayTimeout=setTimeout((function(){try{var t=e.$movingThumbnailVideo[0].play();t&&t.catch&&t.catch((function(e){}))}catch(e){}}),150)}},a.prototype._onMouseLeave=function(){if(this._movingThumbnailPlayTimeout&&(clearTimeout(this._movingThumbnailPlayTimeout),this._movingThumbnailPlayTimeout=null),this._useMovingThumbnail)try{var e,t,i;null===(e=this.$movingThumbnailVideo)||void 0===e||null===(t=e[0])||void 0===t||null===(i=t.pause)||void 0===i||i.call(t)}catch(e){}},a.prototype._onPhaseChange=function(e,t){if(e.stopPropagation(),this._phase=t.phase,void 0!==t&&t.phase)if("INIT"===t.phase.toUpperCase())this._initCount++,this._initCount>1&&this._destroyMovingThumbnailContainer();else this._destroyMovingThumbnailContainer()},a.prototype.hide=function(e){return null!=this.$posterLayer&&(this._isVisible=!1,this.$posterLayer.css({opacity:0}),this.$posterLayer.attr("aria-hidden","true"),!0)}})),parcelRequire.register("11bIE",(function(e,t){$parcel$export(e.exports,"default",(function(){return d})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=function(e){"use strict";i.default(d,e);var t=n.default(d);function d(e,i){var n;return a.default(this,d),(n=t.call(this,e,i))._mediaData=null,n._reset_smr(),n._isIE=!!n._detections&&n._detections.isIE,n._isSafari=!!n._detections&&n._detections.isSafari,n._onAssetSelectedBound=n._onAssetSelected.bind(o.default(n)),n.$element&&n.$element.on("bb_asset_selected",n._onAssetSelectedBound),n}return s.default(d,[{key:"exit",value:function(){return this.$element&&this.$element.off("bb_asset_selected",this._onAssetSelectedBound),this._reset_smr(),this._mediaData=null,l.default(r.default(d.prototype),"exit",this).call(this,this)}},{key:"_reset_smr",value:function(){this._clipIds=[],this._clipDurationsTotal=0,this._clipOffsets={},this._clipDurations={},this._clipOffsetsPerAsset={},this._clipDurationsPerAsset={},this._origClip=null,this._origSeekPosition=0,this._origClipOffset=0,this._origClipDuration=0}},{key:"load",value:function(e,t){var i=!1;if(this._mediaData){this._origClip=e||{},this._origSeekPosition=t||0,this._origClipOffset=0,this._origClipDuration=parseFloat(this._origClip.length)||0;var n=this._origClip?this._origClip.id:0;this._clipOffsets&&this._clipOffsets["#"+n]>0&&(this._origClipOffset=this._clipOffsets["#"+n]),this._clipDurations&&this._clipDurations["#"+n]>0&&(this._origClipDuration=this._clipDurations["#"+n]),e=this._getClip(e),t=this._getSeekPosition(t),this._clip&&this._clip.id===e.id?(this._head&&this._head.pause(),this.$element&&(this.$element.triggerHandler("bb_media_loadstart"),this.$element.triggerHandler("bb_media_loadedmetadata"),this.$element.triggerHandler("bb_media_duration_change",[{duration:this._getDuration()}]),this.$element.triggerHandler("bb_media_loadeddata")),t!==l.default(r.default(d.prototype),"get",this).call(this,"currentTime")?(this._lastCurrentTime=0,this._started=!1,this._expectArtificialSeek=this._origSeekPosition<=0,i=l.default(r.default(d.prototype),"set",this).call(this,"currentTime",t)):i=!0,this.$element&&this.$element.triggerHandler("bb_media_canplay")):(i=l.default(r.default(d.prototype),"load",this).call(this,e,t),this._clip||(this._clip=e))}else i=l.default(r.default(d.prototype),"load",this).call(thi:function(e){if(this._reset_smr(),e&&e.items&&e.assets&&!this._isIE&&!this._isSafari){var t=this,i=function(e,i){var n=t._mediaData.items[e],a=t._mediaData.assets.filter((function(e){return e.jobdefid==n.jobdefid})).map((function(e){return e.id}));t._clipOffsetsPerAsset[a]={},t._clipDurationsPerAsset[a]={};for(var o=0,s=n.items.length;o<s;o++){var l=n.items[o],r=l.mediaclipid;t._clipIds.indexOf(r)<0&&(t._clipIds.push(r),t._clipOffsets["#"+r]=parseFloat(l.offset)/1e3,t._clipDurations["#"+r]=parseFloat(l.exactlength)/1e3,t._clipDurationsTotal+=parseFloat(l.exactlength)/1e3),t._clipOffsetsPerAsset[a]["#"+r]=parseFloat(l.offset)/1e3,t._clipDurationsPerAsset[a]["#"+r]=parseFloat(l.exactlength)/1e3}};this._mediaData=e;for(var n=0,a=this._mediaData.items.length;n<a;n++)i(n)}else this._mediaData=null}},{key:"set",value:function(e,t){if(this._mediaData&&"currentTime"===e)t=this._getSeekPosition(t);return l.default(r.default(d.prototype),"set",this).call(this,e,t)}},{key:"get",value:function(e){if(this._mediaData)switch(e){case"currentTime":return this._lastCurrentTime;case"duration":return this._getDuration();case"buffered":return this._getBuffered()}return l.default(r.default(d.prototype),"get",this).call(this,e)}},{key:"_onAssetSelected",value:function(e,t){if(t&&t.asset&&t.asset.id){var i=t.asset.id;this._clipOffsetsPerAsset[i]&&(this._clipOffsets=this._clipOffsetsPerAsset[i]),this._clipDurationsPerAsset[i]&&(this._clipDurations=this._clipDurationsPerAsset[i]);var n=this._origClip?this._origClip.id:0;this._clipOffsets&&this._clipOffsets["#"+n]>0&&(this._origClipOffset=this._clipOffsets["#"+n]),this._clipDurations&&this._clipDurations["#"+n]>0&&(this._origClipDuration=this._clipDurations["#"+n])}}},{key:"_getClip",value:function(e){var t=e;if(this._clipIds&&this._clipIds.indexOf(e.id)>=0)if(this._clip)t=this._clip;else{var i=this._mediaData.projectId,n=this._mediaData.assets;t={type:"MediaClip",id:i,mediatype:e.mediatype,usetype:e.usetype,assets:n,length:this._clipDurationsTotalreset_smr();return t}},{key:"_getSeekPosition",value:function(e){return this._origClipOffset+Math.max(0,Math.min(e,this._origClipDuration))}},{key:"_getCurrentTime",value:function(e){return e-this._origClipOffset}},{key:"_getDuration",value:function(){return this._origClipDuration}},{key:"_getBuffered",value:function(){var e=0,t=l.default(r.default(d.prototype),"get",this).call(this,"buffered");if(t&&t.start&&t.end){e={start:[],end:[],length:0};for(var i=0,n=t.start.length;i<n;i++){var a=Math.max(0,Math.min(t.start[i]-this._origClipOffset,this._origClipDuration)),o=Math.max(0,Math.min(t.end[i]-this._origClipOffset,this._origClipDuration));o>a&&(e.start.push(a),e.end.push(o),e.length++)}}return e}},{key:"_onHeadEvent",value:function(e){if(this._mediaData&&e)switch(e.stopPropagation(),e.type){case"timeupdate":var t=null;return this._head&&(t=this._getCurrentTime(this._head.get("currentTime")),this._lastCurrentTime=t),void(t>=this._origClipDuration-.16?(this._head&&(this._expectArtificialPause=!0,this._head.pause()),this.$element&&(this.$element.triggerHandler("bb_media_paused"),this._started&&(this._started=!1,this.$element.triggerHandler("bb_media_finished")))):null==this._savedSeekPosition&&this.$element&&this.$element.triggerHandler("bb_media_timeupdate",[{currentTime:t}]));case"durationchange":return void(this.$element&&this.$element.triggerHandler("bb_media_duration_change",[{duration:this._getDuration()}]));case"seeking":var i;if(this._expectArtificialSeek)return void(this._savedSeekPosition=null);var n=null;return this._head&&(n=this._getCurrentTime(this._head.get("currentTime")),this._lastCurrentTime=n),void(null===(i=this.$element)||void 0===i||i.triggerHandler("bb_media_seeking",[{currentTime:n}]));case"seeked":if(this._expectArtificialSeek)this._expectArtificialSeek=!1,this._savedSeekPosition=null,this._dispatchEvent("bb_assets_changed",{assets:this._shortlist}),this._dispatchEvent("bb_asset_selected",{asset:this._asset});else{var a=null;null!=this._savedSeekPosition?(a=this._savedSeekPosition,this._savedSeekPosition=null):this._head&&(a=this._head.get("currentTime")),a=this._getCurrentTime(a),this.$element.triggerHandler("bb_media_seeked",[{seekedPosition:a}])}return;case"pause":if(this._expectArtificialPause)return this._expectArtificialPause=!1,void(this._playing=!1)}l.default(r.default(d.prototype),"_onHeadEvent",this).call(this,e)}}]),d}(parcelRequire("7EmGg").default)})),parcelRequire.register("7EmGg",(function(e,t){$parcel$export(e.exports,"default",(function(){return I})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=parcelRequire("dwEjG");parcelRequire("2UpbQ");var u,c,h,p,_,m,f,v,g,y,b,w,k,$=parcelRequire("eV1xY"),C=parcelRequire("cWdJP"),S=parcelRequire("1MxPP"),P=parcelRequire("bBYRC"),x=parcelRequire("aDfrX"),A=parcelRequire("gjFvx");u=parcelRequire("iNDwQ").default,c=parcelRequire("jPgfD").default,h=parcelRequire("6gju3").default,p=parcelRequire("2wH3A").default,_=parcelRequire("cvAXk").default,m=parcelRequire("bd6lw").default,f=parcelRequire("h0jZu").default,v=parcelRequire("3Qbdh").default,g=parcelRequire("fBOv2").default,y=parcelRequire("dBtz6").default,b=parcelRequire("jEHqj").default,w=parcelRequire("5qUnl").default,k=parcelRequire("9mhRD").default;var I=function(e){"use strict";i.default(P,e);var t=n.default(P);function P(e,i){var n,s;if(a.default(this,P),(n=t.call(this,e,i))._opts=i,n._localStorage=null,n._started=!1,n._fullscreen=!1,n._couldPlay=!1,n._isiPhone=!1,n._lastCurrentTime=0,n._headLockForMainroll=!1,n._currentTextTrackIsoCode=null,n._muted=!1,n._userSelectedAsset=null,n._posterWidth=0,n._posterHeight=0,n._defaultSubtitle="first",n._defaultSubtitleOnlyIfMuted=!1,n._defaultAudioTrackPlayoutVal=null,n._mobileRotateOnFullScreenMismatch=!1,n._useChromeCast=!1,n._castSession=null,n._onPosterChangedBound=n._onPosterChanged.bind(o.default(n)),n._onFullScreenMismatchBound=n._onFullScreenMismatch.bind(o.default(n)),n._onCommercialHeadSelectedBound=n._onCommercialHeadSelected.bind(o.default(n)),n._onSubtitleSetBound=n._onSubtitleSet.bind(o.default(n)),null!=n.$element){var l=C.default.getService(n._opts.playerAliasOrId).getInstance("LocalStorage");void 0!==l&&null!=l&&(n._localStorage=l);var r=C.default.getService(n._opts.playerAliasOrId).getInstance("Detections");void 0!==r&&null!=r&&(n._isiPhone=r.isiPhone,n._isMobileDevice=r.isMobileDevice,n._isSafari=r.isSafari),n._mediaManager=x.default?new x.default(e,i):null,n._sc=C.default.getService(n._opts.playerAliasOrId).getInstance("SoundController"),n._sc&&(n._muted=n._sc.getMuted()),n.$element.on("bb_poster_changed",n._onPosterChangedBound),n.$element.on("bb_fullscreen_mismatch",n._onFullScreenMismatchBound),n.$element.on("bb_subtitle_set",n._onSubtitleSetBound)}return(null===(s=n._opts)||void 0===s?void 0:s.playoutData)&&(n._autoPlay="true"===n._opts.playoutData.autoPlay,void 0!==n._opts.playoutData.defaultSubtitle&&(n._defaultSubtitle=n._opts.playoutData.defaultSubtitle),void 0!==n._opts.playoutData.defaultSubtitleOnlyIfMuted&&(n._defaultSubtitleOnlyIfMuted="true"===n._opts.playoutData.defaultSubtitleOnlyIfMuted||!0===n._opts.playoutData.defaultSubtitleOnlyIfMuted),void 0!==n._opts.playoutData.defaultAudioTrack&&(n._defaultAudioTrackPlayoutVal=n._opts.playoutData.defaultAudioTrack),void 0!==n._opts.playoutData.mobileRotateOnFullScreenMismatch&&(n._mobileRotateOnFullScreenMismatch="true"===n._opts.playoutData.mobileRotateOnFullScreenMismatch),void 0!==n._opts.playoutData.autoMute&&(n._muted="true"===n._opts.playoutData.autoMute||!0===n._opts.playoutData.autoMute),n._castContext=null,"Show"===n._opts.playoutData.castButton&&n._initCastButton()),n}return s.default(P,[{key:"_initCastButton",value:function(){var e=C.default.getService(this._opts.playerAliasOrId).getInstance("Detections");e&&e.canChromeCast?this._initChromeCast():(this.__onGCastApiAvailable=window.__onGCastApiAvailable||null,window.__onGCastApiAvailable=this._handleGCastApiAvailable.bind(this),this._broker&&this._broker.load("//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1:ChromeCastFramework",15))}},{key:"exit",value:function(){var e;(this._mediaManager&&(this._mediaManager=this._mediaManager.exit()),null!=this.$element)&&(this.$element.off("bb_poster_changed",this._onPosterChangedBound),this.$element.off("bb_fullscreen_mismatch",this._onFullScreenMismatchBound),this.$element.off("bb_subtitle_set",this._onSubtitleSetBound),this.$element.off("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),null===(e=this.$wrapper)||void 0===e||e.off("bb_component_loaded bb_component_failed",this._onComponentBound),this._localStorage=null);return l.default(r.default(P.prototype),"exit",this).call(this)}},{key:"reset",value:function(e){l.default(r.default(P.prototype),"reset",this).call(this),this._castSession&&(this._castSession.endSession(!0),this._castSession=null),this._castContext&&(this._castContext.removeEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,this._onCastSessionChanged.bind(this)),this._castContext=null),this._lastCurrentTime=0,this._started=!1}},{key:"load",value:function(e,t){var i=!1;return this.reset(),t&&(this._seekPosition=t),void 0!==e&&null!=e?(this._clip=e,void 0!==this._clip.length&&this._dispatchEvent("bb_media_duration_change",{duration:this._clip.length}),this._clip.fitmode&&"FIT_NONE"!=this._clip.fitmode&&(this._fitMode=this._clip.fitmode),"mainroll"==this._clip.mediatype?(this._headLockForMainroll=!0,this.$element.on("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),i=!0):(this.$element.off("bb_commercial_head_selected",this._onCommercialHeadSelectedBound),this._headLockForMainroll=!1,this._selectAsset(),i=this._switchAsset("loadClip",this._seekPosition))):i=!0,i}},{key:"get",value:function(e){switch(e){case"bitrate":if(null!=this._asset)return this._asset.bandwidth;break;case"volume":return null!=this._head&&this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume;case"muted":return null!=this._head?this._masterMute?this._headMute:this._head.get("muted"):this._headMute;case"duration":if(null!=this._head){if(0!=this._head.get("duration"))return this._head.get("duration");if(null!=this._clip&&void 0!==this._clip.length)return Number(this._clip.length)}else if(null!=this._clip&&void 0!==this._clip.length)return Number(this._clip.length);break;case"currentTime":return this._lastCurrentTime}return l.default(r.default(P.prototype),"get",this).call(this,e)}},{key:"play",value:function(e){if(S.default("[MainHeadController] play user action: "+e),this._playPending=!0,null!=this._head){if(this._head.toFront(),this._couldPlay||this._canPlay||e)return this._head.play(e);this._head.load(e)}else this._clip&&"mainroll"==this._clip.mediatype&&this._isiPhone&&(void 0!==this._heads.html5_audio&&null!=this._heads.html5_audio||(this._heads.html5_audio=this._createHead("html5","audio")),this.loadHtml5Media(e));return!1}},{key:"switchAsset",value:function(e){var t=null;if(null!=this._shortlist)for(var i=0;i<this._shortlist.length;i++){var n=this._shortlist[i];if(null!=n&&n.id==e){t=n;break}}t&&!t.faked&&(this._savedAsset=null);var a,o,s=l.default(r.default(P.prototype),"switchAsset",this).call(this,e);if(s)if("auto"===(null===(a=this._asset)||void 0===a?void 0:a.bandwidth)||-1===(null===(o=this._asset)||void 0===o?void 0:o.bandwidth))this._userSelectedAsset=null;else try{this._userSelectedAsset=JSON.parse(JSON.stringify(this._asset))}catch(e){}return s}},{key:"loadHtml5Media",value:function(e){var t=null;void 0!==this._heads.sprite_video&&null!=this._heads.sprite_video?t=this._heads.sprite_video:void 0!==this._heads.html5_audio&&null!=this._heads.html5_audio?t=this._heads.html5_audio:void 0!==this._heads.html5_video&&null!=this._heads.html5_video&&(t=this._heads.html5_video),void 0===this._heads.youtube_video||null==this._heads.youtube_video||this._detections&&this._detections.isiOS&&this._detections.isiPhone&&this._detections.iOSVersion<10||this._heads.youtube_video.preload(),t&&t.load(e)}},{key:"getHtml5Video",value:function(){var e=null;return void 0!==this._heads.html5_video&&null!=this._heads.html5_video?e=this._heads.html5_video:void 0!==this._heads.Html5HLS_video&&null!=this._heads.Html5HLS_video?e=this._heads.Html5HLS_video:void 0!==this._heads.Html5VideoGL360_video&&null!==this._heads.Html5VideoGL360_video?e=this._heads.Html5VideoGL360_video:void 0!==this._heads.Html5HLSVideoGL360_video&&null!==this._heads.Html5HLSVideoGL360_video?e=this._heads.Html5HLSVideoGL360_video:(this._heads.html5_video=this._createHead("html5","video"),e=this._heads.html5_video),e&&(e.set("volume",this._headVolume*this._masterVolume),e.set("muted",this._headMute||this._masterMute)),e.$media}},{key:"borrowHtml5Video",value:function(){var e=this.getHtml5Video();return this._headBound&&!this._headLockForMainroll&&(this._headWasBound=!0,this._unbindFromHead()),this._headType,this._headIsBorrowed=!0,e}},{key:"returnHtml5Video",value:function(){this.returnHtml5Media()}},{key:"getHtml5Media",value:function(){var e=null;return void 0!==this._heads.sprite_video&&null!=this._heads.sprite_video?e=this._heads.sprite_video:void 0!==this._heads.html5_audio&&null!=this._heads.html5_audio?e=this._heads.html5_audio:void 0!==this._heads.Html5HLS_audio&&null!==this._heads.Html5HLS_audio?e=this._heads.Html5HLS_audio:void 0!==this._heads.html5_video&&null!=this._heads.html5_video?e=this._heads.html5_video:void 0!==this._heads.Html5HLS_video&&null!==this._heads.Html5HLS_video?e=this._heads.Html5HLS_video:void 0!==this._heads.Html5VideoGL360_video&&null!==this._heads.Html5VideoGL360_video?e=this._heads.Html5VideoGL360_video:void 0!==this._heads.Html5HLSVideoGL360_video&&null!==this._heads.Html5HLSVideoGL360_video?e=this._heads.Html5HLSVideoGL360_video:(this._heads.html5_audio=this._createHead("html5","audio"),e=this._heads.html5_audio),e&&(e.set("volume",this._headVolume*this._masterVolume),e.set("muted",this._headMute||this._masterMute)),e.$media}},{key:"borrowHtml5Media",value:function(){var e=this.getHtml5Media();return this._headBound&&!this._headLockForMainroll&&(this._headWasBound=!0,this._unbindFromHead()),"html5"==this._headType&&(this._canPlay=!1),this._headIsBorrowed=!0,e}},{key:"returnHtml5Media",value:function(){this._headIsBorrowed=!1,this._headWasBound&&(this._headWasBound=!1,this._bindToHead()),this.fitVideo()}},{key:"getHtml5Audio",value:function(){var e=null;return void 0!==this._heads.sprite_video&&null!=this._heads.sprite_video?e=this._heads.sprite_video:(void 0!==this._heads.html5_audio&&null!=this._heads.html5_audio||(this._heads.html5_audio=this._createHead("html5","audio")),e=this._heads.html5_audio),e.$media}},{key:"borrowHtml5Audio",value:function(){var e=this.getHtml5Audio();return this._headBound&&!this._headLockForMainroll&&(this._headWasBound=!0,this._unbindFromHead()),"html5"==this._headType&&(this._canPlay=!1),this._headIsBorrowed=!0,e}},{kedia()}},{key:"setFitMode",value:function(e){return(!this._opts||!0!==this._opts.noSkinMode)&&(this._fitMode=e,this.fitVideo(),!0)}},{key:"setRotation",value:function(e){return this._rotation=e,this.fitVideo(),!0}},{key:"fitVideo",value:function(e,t){var i;void 0!==e&&null!=e||(e=this._fitMode),void 0!==t&&null!=t||(t=this._rotation),(null===(i=this._detections)||void 0===i?void 0:i.isAndroid)&&(t="0deg"),null!=this._detections&&this._detections.isAndroidNative&&("FIT_SMART"!=e&&"FIT_STRETCH"!=e||(e="FIT_BOTH")),this._is360Video&&(e="FIT_OVERSCAN"),this._fullscreen&&this._clip&&this._clip.timelines&&this._clip.timelines.length>0&&(e="FIT_BOTH");var n=768,a=432,o=this.$element.find(".bb-content-layer");if(o.length>0&&(n=o.width(),a=o.height()),this._opts&&this._opts.playoutData&&this._opts.playoutData.width&&-1==this._opts.playoutData.width.indexOf("%")&&this._opts.playoutData.height&&-1==this._opts.playoutData.height.indexOf("%")&&"true"!=this._opts.playoutData.autoHeight&&!this.$element.hasClass("bb-fullscreen")&&(n=this._opts.playoutData.width,a=this._opts.playoutData.height),null!=this._detections&&this._detections.inIframe&&this._detections.ieVersion>8&&this._detections.isFullScreen()&&(n=window.innerWidth,a=window.innerHeight),this._headIsBorrowed)this.$element.find(".bb-content-layer .bb-fitme").css({width:Math.ceil(n)+"px",height:Math.ceil(a)+"px",position:"absolute",left:"0px",top:"0px"});else{var s,l,r,d,u,c,h=768,p=432,_=!0;if(null!=this._head&&this._head.get("mediaWidth")>0?(h=this._head.get("mediaWidth"),p=this._head.get("mediaHeight"),_=!1):null!=this._asset&&this._asset.width>0?(h=this._asset.width,p=this._asset.height,_=!1):(this._posterWidth>0||this._posterHeight>0)&&(h=this._posterWidth,p=this._posterHeight,_=!1),null!=this._detections&&!1!==this._detections.androidVersion&&parseFloat(this._detections.androidVersion)>=3&&null!=this._asset&&this._asset.width>0&&(h=this._asset.width,p=this._asset.height),"90deg"===t||"-90deg"===t||"270deg"===t||"-270deg"===t){var m=h;h=p,p=m}var f,v,g=a>0?n/a:1.778,y=(c=!_&&p>0?h/p:(null===(s=this._clip)||void 0===s?void 0:s.originalWidth)&&(null===(l=this._clip)||void 0===l?void 0:l.originalHeight)&&this._clip.originalHeight>0?this._clip.originalWidth/this._clip.originalHeight:(null===(r=this._clip)||void 0===r?void 0:r.width)&&(null===(d=this._clip)||void 0===d?void 0:d.height)&&this._clip.height>0?this._clip.width/this._clip.height:(null===(u=this._clip)||void 0===u?void 0:u.dar)?parseFloat(this._clip.dar):1.778)/g,b=g/c,w=1.33,k=1;switch(e){default:case"FIT_SMART":if(c>=g?y<1.67?y<w?(f=Math.ceil(a*(c/Math.sqrt(y))),v=Math.ceil(a)):(k=Math.sqrt(y)/Math.sqrt(w),f=Math.ceil(a/k*(c/Math.sqrt(w))),v=Math.ceil(a/k)):(f=Math.ceil(n),v=Math.ceil(n/c)):b<1.67?b<w?(f=Math.ceil(n),v=Math.ceil(n/(c/Math.sqrt(y)))):(k=Math.sqrt(b)/Math.sqrt(w),f=Math.ceil(n/k),v=Math.ceil(n/k/(c*Math.sqrt(w)))):(f=Math.ceil(a*c),v=Math.ceil(a)),this._clip&&this._clip.timelines&&this._clip.timelines.length>0){var $=f/v;f>Math.ceil(n)?(f=Math.ceil(n),v=Math.ceil(f/$)):v>Math.ceil(a)&&(v=Math.ceil(a),f=Math.ceil(v*$))}break;case"FIT_NATIVE":f=h,v=p;break;case"FIT_VERTICAL":f=Math.ceil(a*c),v=Math.ceil(a);break;case"FIT_HORIZONTAL":f=Math.ceil(n),v=Math.ceil(n/c);break;case"FIT_BOTH":c<=g?(f=Math.ceil(a*c),v=Math.ceil(a)):(f=Math.ceil(n),v=Math.ceil(n/c));break;case"FIT_STRETCH":f=Math.ceil(n),v=Math.ceil(a);break;case"FIT_OVERSCAN":c>=g?(f=Math.ceil(a*c),v=Math.ceil(a)):(f=Math.ceil(n),v=Math.ceil(n/c))}n=Math.ceil(n),a=Math.ceil(a);var C=Math.floor((n-f)/2),S=Math.floor((a-v)/2);if("90deg"===t||"-270deg"===t||"-90deg"===t||"270deg"===t){var P=Math.floor((n-v)/2),x=Math.floor((a-f)/2);this.$element.find(".bb-content-layer .bb-fitme").css({width:v+"px",height:f+"px",position:"absolute",left:"0",top:"0",transformOrigin:"center",transform:"translate("+P+"px, "+x+"px) rotate("+t+")"})}else this.$element.find(".bb-content-layer .bb-fitme").css({width:f+"px",height:v+"px",position:"absolute",left:C+"px",top:S+"px",transform:""});null!=this._head&&this._head.restretch(h,p)}}},{key:"updateCastSession",value:function(e){var t,i,n=e?null:null===(t=this._castContext)||void 0===t?void 0:t.getCurrentSession();n!==this._castSession&&(this._castSession=n,null===(i=this.$element)||void 0===i||i.trig",value:function(){var e=!1;if(this._castContext){var t=this,i=this._castContext.requestSession();i&&i.then&&i.then((function(){S.default("[MainHeadController] showCastTargetPicker success"),t.updateCastSession()})).catch((function(e){S.default("[MainHeadController] showCastTargetPicker error: "+e),t.updateCastSession("cancel"!==e)})),e=!0}return e}},{key:"showCastTargetPicker",value:function(e){var t=!1;switch(e){default:case"AirPlay":this._head&&(t=this._head.showAirPlayTargetPicker());br=this._headType?null===(i=this._head)||void 0===i||i.showChromeCastTargetPicker():this._castContext&&(t=this._requestCastSession())}return t}},{key:"getCastSession",value:function(){return this._castSession||null}},{key:"getCastSource",value:function(){var e=!1;return this._asset&&this._asset.processedSrc&&(e=this._asset.processedSrc),e}},{key:"_handleGCastApiAvailable",value:function(e){e&&this._initChromeCast(),window.__onGCastApiAvailable=this.__onGCastApiAvailable,this.__onGCastApiAvailable=null,"function"==typeof window.__onGCastApiAvailable&&window.__onGCastApiAvailable(e)}},{key:"_initChromeCast",value:function(){try{this._castContext=window.cast.framework.CastContext.getInstance()}catch(e){S.default("[MainHeadController] _initChromeCast error: "+e)}if(this._castContext){try{this._castContext.setOptions({receiverApplicationId:window.chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID})}catch(e){S.default("[MainHeadController] _initChromeCast error: "+e)}try{this._castContext.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,this._onCastSessionChanged.bind(this))}catch(e){S.default("[MainHeadController] _initChromeCast error: "+e)}this.$element&&this.$element.triggerHandler("bb_flagchange",[{canChromeCast:!0}])}}},{key:"_onCastSessionChanged",value:function(e){var t,i=this._useChromeCast;if(null===(t=this.$element)||void 0===t||t.triggerHandler("bb_castsessionstatechange",[]),null!=e&&Object(e)instanceof window.cast.framework.SessionStateEventData)switch(e.sessionState){case window.cast.framework.SessionState.SESSION_STARTED:case window.cast.framework.SessionState.SESSION_RESUMED:this._useChromeCast=!0,this.updateCastSession();break;case window.cast.framework.SessionState.NO_SESSION:case window.cast.framework.SessionState.SESSION_ENDED:this._useChromeCast=!1,this.updateCastSession()}this._useChromeCast!==i&&("Html5HLSDash"===this._headType&&this._head?S.default("[MainHeadController] _onCastSessionChanged do nothing; leave it to Html5HLSDash head"):(S.default("[MainHeadController] _onCastSessionChanged going to switch asset"),this._playPending=this._playPending||this._playing,this._headType&&this._headType.match(/^Html5HLS/)&&this._selectAsset(),this._switchAsset()))}},{key:"_masterVolumeHandler",value:function(e){if(null!=e&&null!=e.volume&&e.volume>=0&&e.volume<=1&&(S.default("[MainHeadController:"+this._eventNS+"] _masterVolumeHandler going to set masterVolume to: "+e.volume),this._masterVolume=e.volume,this.$element.triggerHandler("bb_media_volume_change",[{volume:null,masterVolume:this._masterVolume,muted:null,masterMuted:this._masterMute}]),null!=this._head&&!this._headIsBorrowed))this._head.set("volume",this._headVolume*this._masterVolume)}},{key:"_masterMuteHandler",value:function(e){if(null!=e&&null!=e.muted&&(S.default("[MainHeadController:"+this._eventNS+"] _masterMuteHandler going to set masterMute to: "+e.muted),this._masterMute=e.muted,this.$element.triggerHandler("bb_media_volume_change",[{volume:null,masterVolume:this._masterVolume,muted:null,masterMuted:this._masterMute}]),null!=this._head&&!this._headIsBorrowed))this._head.set("muted",this._headMute||this._masterMute)}},{key:"_selectAsset",value:function(e){if(l.default(r.default(P.prototype),"_selectAsset",this).call(this,!0),this._asset&&!this._asset.faked&&(this._savedAsset=null),this._savedShortlist=null,null!=this._localStorage){var t=null,i=this._localStorage.get("userSelectedAudioTrackIsoCode"),n=!1;if((void 0===i||null==i)&&(i="main",null!=this._defaultAudioTrackPlayoutVal))if("Main"==this._defaultAudioTrackPlayoutVal)i="main";else if("First Available Audio Track"==this._defaultAudioTrackPlayoutVal)for(var a=0;a<this._shortlist.length;a++){if(void 0!==(c=this._shortlist[a])["language-isocode"]&&""!=c["language-isocode"]){i=c["language-isocode"];break}}else if("Default Language"==this._defaultAudioTrackPlayoutVal)for(a=0;a<this._shortlist.length;a++){if((c=this._shortlist[a]).isDefaultLanguage,1==c.isDefaultLanguage&&void 0!==c["language-isocode"]&&""!==d.default(c["language-isocode"])){i=c["language-isocode"];break}}t=new Array;for(a=0;a<this._shortlist.length;a++)this._shortlist[a]["language-isocode"]!=i&&("main"!=i||void 0!==this._shortlist[a]["language-isocode"]&&""!==d.default(this._shortlist[a]["language-isocode"]))||t.push(this._shortlist[a]);0==t.length?t=this._shortlist:n=!0;null!=this._asset&&this._asset.id;var o=this._userSelectedAsset,s=null;if(void 0!==o&&null!=o?s=o:1==n&&(s=this._asset),null!=s&&t)if(this._clip&&"audio"===this._clip.mediatype){if(!s.faked&&!isNaN(parseInt(s.bandwidth))){var u=-1;for(a=0;a<t.length;a++){var c=t[a];Number(c.bandwidth)<=Number(s.bandwidth)&&Number(c.bandwidth)>=Number(u)&&(this._asset=c,u=this._asset.bandwidth)}}}else if(!s.faked&&!isNaN(parseInt(s.height))){var h=-1;for(a=0;a<t.length;a++){c=t[a];Number(c.height)<=Number(s.height)&&Number(c.height)>=Number(h)&&(this._asset=c,h=this._asset.height)}}}this._asset&&this.fitVideo(),e||(this._dispatchEvent("bb_assets_changed",{assets:this._shortlist}),this._dispatchEvent("bb_asset_selected",{asset:this._asset}))}},{key:"_onPlayoutChanged",value:function(e,t){l.default(r.default(P.prototype),"_onPlayoutChanged",this).call(this,e,t),t&&void 0!==t.playoutData&&(void 0!==t.playoutData.autoPlay&&(this._autoPlay="true"==t.playoutData.autoPlay),void 0!==t.playoutData.defaultSubtitle&&(this._defaultSubtitle=t.playoutData.defaultSubtitle),void 0!==t.playoutData.defaultSubtitleOnlyIfMuted&&(this._defaultSubtitleOnlyIfMuted="true"===t.playoutData.defaultSubtitleOnlyIfMuted||!0===t.playoutData.defaultSubtitleOnlyIfMuted),void 0!==t.playoutData.defaultAudioTrack&&(this._defaultAudioTrackPlayoutVal=t.playoutData.defaultAudioTrack),"Show"!==t.playoutData.castButton||this._castContext||this._initCastButton(),void 0!==t.playoutData.mobileRotateOnFullScreenMismatch&&(this._mobileRotateOnFullScreenMismatch="true"===t.playoutData.mobileRotateOnFullScreenMismatch))}},{key:"_onPosterChanged",value:function(e,t){var i;null!=t&&(t.width||t.height)&&(this._posterWidth=t.width,this._posterHeight=t.height,"audio"!==(null===(i=this._clip)||void 0===i?void 0:i.mediatype)&&this._started||this.fitVideo())}},{key:"_onFullScreenMismatch",value:function(e,t){if(!(!t||void 0===t.fullScreenMismatch)&&t.fullScreenMismatch&&this._mobileRotateOnFullScreenMismatch&&this._isMobileDevice){var i=-window.orientation||90;this.setRotation(i+"deg")}else this.setRotation("0deg")}},{key:"_createHead",value:function(e,t,i){var n=null,a=$parcel$interopDefault($)('<div class="bb-head" style="position:absolute; width:100%; height:100%; top:0; left:0;"></div>');switch(isNaN(parseInt(i))||a.css({zIndex:parseInt(i)}),this.$element.find(".bb-content-layer .bb-head-layer").append(a),this._avoidMediaManager||a.attr("data-useMediaManager","true"),a.attr("data-retryOnPlayFailed","false"),a.attr("data-shouldPlayInline",this._shouldPlayInline?"true":"false"),e){case"youtube":"function"==typeof k&&(n=new k(a,this._opts));break;case"Html5Sprite360":var o;if(this._broker)if(this._broker.isPlayerComponentAvailable("Html5Sprite360Head"))n=new(this._broker.getLoadedPlayerComponent("Html5Sprite360Head"))(a,this._opts);else null===(o=this.$wrapper)||void 0===o||o.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5Sprite360Head",15);break;case"Html5SpriteGL360":var s;if(this._broker)if(this._broker.isPlayerComponentAvailable("WebGL360Helper"))n=new _(a,this._opts);else null===(s=this.$wrapper)||void 0===s||s.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("WebGL360Helper:Html5SpriteGL360Head",15);break;case"Html5Seek":"function"==typeof p&&(n=new p(a,this._opts));break;case"Html5HLSVideoGL360":if(this._broker)if(this._broker.isPlayerComponentAvailable("Html5HLSHelper")&&this._broker.isPlayerComponentAvailable("WebGL360Helper"))n=new g(a,this._opts);else if(this._broker.isPlayerComponentAvailable("Html5HLSHelper")){if(!this._broker.isPlayerComponentAvailable("WebGL360Helper")){var l;null===(l=this.$wrapper)||void 0===l||l.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("WebGL360Helper:Html5HLSVideoGL360Head",15)}}else{var r;null===(r=this.$wrapper)||void 0===r||r.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSHelper:Html5HLSVideoGL360Head",15)}break;case"Html5HLSDashVideoGL360":if(this._broker)if(this._broker.isPlayerComponentAvailable("Html5HLSDashHelper")&&this._broker.isPlayerComponentAvailable("WebGL360Helper"))n=new w(a,this._opts);else if(this._broker.isPlayerComponentAvailable("Html5HLSDashHelper")){if(!this._broker.isPlayerComponentAvailable("WebGL360Helper")){var d;null===(d=this.$wrapper)||void 0===d||d.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("WebGL360Helper:".concat(e,"Head"),15)}}else{var C;null===(C=this.$wrapper)||void 0===C||C.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSDashHelper:".concat(e,"Head"),15)}break;case"Html5VideoGL360":var S;if(this._broker)if(this._broker.isPlayerComponentAvailable("WebGL360Helper"))n=new m(a,this._opts);else null===(S=this.$wrapper)||void 0===S||S.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("WebGL360Helper:Html5VideoGL360Head",15);break;case"Html5HLS":var P;if(this._broker)if("audio"!==t||this._isiOS)if(this._broker.isPlayerComponentAvailable("Html5HLSHelper"))n=new v(a,this._opts);else{var x;null===(x=this.$wrapper)||void 0===x||x.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSHelper:Html5HLSHead",15)}else if(this._broker.isPlayerComponentAvailable("Html5HLSHelper"))n=new f(a,this._opts);else null===(P=this.$wrapper)||void 0===P||P.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSHelper:Html5HLSHead",15);break;case"Html5HLSDash":var I;if(this._broker)if("audio"!==t||this._isiOS)if(this._broker.isPlayerComponentAvailable("Html5HLSDashHelper"))n=new b(a,this._opts);else{var T;null===(T=this.$wrapper)||void 0===T||T.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSDashHelper:".concat(e,"Head"),15)}else if(this._broker.isPlayerComponentAvailable("Html5HLSDashHelper"))n=new y(a,this._opts);else null===(I=this.$wrapper)||void 0===I||I.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSDashHelper:".concat(e,"Head"),15);break;case"ChromeCast":var D;if(window.cast&&window.cast.framework)n=new u(a,this._opts);else null===(D=this.$wrapper)||void 0===D||D.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker&&this._broker.load("//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1:ChromeCastHead",15);break;case"html5":"image"==t||"interactive"==t?"function"==typeof h&&(n=new h(a,this._opts)):"audio"==t?"function"==typeof c&&(n=new c(a,this._opts)):"function"==typeof A.default&&(n=new A.default(a,this._opts))}return null==n&&a.remove(),n}},{key:"_onCommercialHeadSelected",value:function(e,t){void 0!==t&&null!=t&&(this._unbindFromHead(),void 0!==t.headType&&(this._headType=t.headType),void 0!==t.head&&(this._head=t.head),null!=this.$element&&this.$element.triggerHandler("bb_head_selected",[{head:this._head,headType:this._headType}]),this._bindToHead())}},{key:"_onSubtitleSet",value:function(e,t){if("textTracks"===(null==t?void 0:t.hint)&&this._head){var i,n=this._head.set("textTrackId",t.subtitleId);null===(i=this.$element)||void 0===i||i.trigger("bb_subtitle_changed",[{subtitleId:n}])}}},{key:"_selectHead",value:function(){l.default(r.default(P.prototype),"_selectHead",this).call(this),S.default("[MainHeadController] selectHead "+this._headType),null!=this.$element&&(this.$element.triggerHandler("bb_head_selected",[{head:this._head,headType:this._headType}]),this._head&&this.$element.triggerHandler("bb_flagchange",[{canControlVolume:this._head.get("canControlVolume"),canControlPlaybackRate:this._head.get("canControlPlaybackRate")}]))}},{key:"_dispatchEvent",value:function(e,t){void 0!==t?this.$element.triggerHandler(e,[t]):this.$element.triggerHandler(e)}},{key:"_processTracksQualities",value:function(){var e,t,i,n=null===(e=this._head)||void 0===e?void 0:e.get("isLive");S.default("[MainHeadController] _processTracksQualities isLive: ".concat(n)),this.$element.triggerHandler("bb_flagchange",[{isLive:n}]);var a=null===(t=this._head)||void 0===t?void 0:t.get("textTracks"),o=null===(i=this._head)||void 0===i?void 0:i.get("audioTracks"),s=this._head?this._head.get("qualities"):null;if(s&&s.length>1&&this._asset&&!this._asset.faked){this._savedAsset||(this._savedAsset=this._asset),this._savedShortlist||(this._savedShortlist=this._shortlist),this._prevAsset=this._asset,this._asset=null,this._shortlist=[];var l=this;s.forEach((function(e,t){var i={faked:!0,id:e.level,src:l._savedAsset.src,processedSrc:l._savedAsset.processedSrc+"#q="+e.level,mediatype:l._savedAsset.mediatype,"language-id":l._savedAsset["language-id"],"language-name":l._savedAsset["language-name"],"language-isocode":l._savedAsset["language-isocode"],width:e.width,height:e.height,bandwidth:e.bandwidth};(e.selected||1==s.length)&&(l._asset=i),l._shortlist.push(i)})),this._asset?(this._dispatchEvent("bb_assets_changed",{assets:this._shortlist,textTracks:a,audioTracks:o}),this._setupTextTracks(a),this._prevAsset&&this._asset.id===this._prevAsset.id||this._dispatchEvent("bb_asset_selected",{asset:this._asset})):(this._asset=this._savedAsset,this._shortlist=this._savedShortlist)}else(a&&a.length||o&&o.length)&&(this._dispatchEvent("bb_assets_changed",{assets:this._shortlist,textTracks:a,audioTracks:o}),this._setupTextTracks(a))}},{key:"_setupTextTracks",value:function(e){if(e&&e.length>0){var t;if(null!=this._currentTextTrackIsoCode){var i=this._currentTextTrackIsoCode;if(this._setTextTrackIsoCode(i,e))return}if(this._localStorage){var n=this._localStorage.get("userSelectedTextTrackIsoCode");if(this._setTextTrackIsoCode(n,e))return}var a=(null===(t=this._clip)||void 0===t?void 0:t.subtitles)||e;if(this._defaultSubtitleOnlyIfMuted&&this._muted||!this._defaultSubtitleOnlyIfMuted)if("None"===this._defaultSubtitle)this._setTextTrackIsoCode("dis",e);else if("Default Language"===this._defaultSubtitle){var o=a.find((function(e){return"true"===(null==e?void 0:e.default)}));o&&this._setTextTrackIsoCode(o.isocode,e)}else{var s,l,r=(null===(s=this._clip)||void 0===s||null===(l=s.subtitles_obj)||void 0===l?void 0:l["#0"])||a[0];r&&this._setTextTrackIsoCode(r.isocode,e)}}}},{key:"_setTextTrackIsoCode",value:function(e,t){var i=!1;if(null!=e)if("dis"===e)this._currentTextTrackIsoCode="dis",this._setTextTrackId("-1"),i=!0;else{var n=null==t?void 0:t.find((function(t){return(null==t?void 0:t.isocode)===e}));n&&(this._currentTextTrackIsoCode=n.isocode,this._setTextTrackId(n.id),i=!0)}return i}},{key:"_setTextTrackId",value:function(e){var t,i=this._head.set("textTrackId",e);null===(t=this.$element)||void 0===t||t.trigger("bb_subtitle_changed",[{subtitleId:i}])}},{key:"_onHeadEvent",value:function(e,t){if(e.stopPropagation(),null!=this.$element)switch(e.type){case"couldplay":var i;if(!this._couldPlay)if(S.default("[MainHeadController] couldplay event, this._playPending = "+this._playPending),this._couldPlay=!0,this.$element.triggerHandler("bb_media_couldplay"),null!=this._seekPosition&&this._head&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)),this._playPending)null===(i=this._head)||void 0===i||i.set("playbackRate",this._playbackRate),this.play();this._processTracksQualities();break;case"loadstart":this._playing=!1,this._couldPlay=!1,this._canPlay=!1,this.$element.triggerHandler("bb_media_loadstart");break;case"loadedmetadata":this.$element.triggerHandler("bb_media_loadedmetadata");break;case"loadeddata":this.fitVideo(),this.$element.triggerHandler("bb_media_loadeddata"),"html5"!==this._headType||null==this._detections||this._detections.canAutoPlay||this._handleCanPlay();break;case"canplay":this._handleCanPlay(),this._processTracksQualities();break;case"play":this._playPending=!0,this.$element.triggerHandler("bb_media_play");break;case"playing":this._isSafari&&this._head.get("paused")||(this._playPending=!1,this._couldPlay=!1,this._handleCanPlay(),this._started?this.$element.triggerHandler("bb_media_resumed"):(this._started=!0,this.$element.triggerHandler("bb_media_started")),this._playing=!0,this.$element.triggerHandler("bb_media_playing"),this.fitVideo());break;case"pause":this._playing=!1,this.$element.triggerHandler("bb_media_paused");break;case"waiting":this.$element.triggerHandler("bb_media_waiting");break;case"stalled":this.$element.triggerHandler("bb_media_stalled");break;case"abort":this._playing=!1;break;case"adSkipped":case"ended":this._couldPlay=!1,this._playing=!1,this._started&&(this._started=!1,this.$element.triggerHandler("bb_media_finished"));break;case"error":this._couldPlay=!1;var n=!1,a="no head, no glory";if(null!=this._head){var o=this._head.get("error");if(null!=o){switch(o.code){case 1:a="MEDIA_ERR_ABORTED";break;case 2:a="MEDIA_ERR_NETWORK";break;case 3:a="MEDIA_ERR_DECODE";break;case 4:a="MEDIA_ERR_SRC_NOT_SUPPORTED",this._headType&&this._headType.match(/^Html5HLS/)&&(n=!0);break;default:a="unknown error code: "+o.code+", msg: "+o.error}a+=", src: "+this._head.get("currentSrc")}else a="no error specified"}if(this._headType.match(/^Html5HLS/)&&null===o)this._switchAsset();else if(!n&&null!=this._clip&&"mainroll"!=this._clip.mediatype){var s=null;this._asset&&(this._assetIdsToAvoid["#"+this._asset.id]=!0,s=this._asset.id),this._selectAsset(),this._asset&&this._asset.id!=s?(this.$element.triggerHandler("bb_warning",[{msg:a}]),this._switchAsset()):this.$element.triggerHandler("bb_error",[{msg:a}])}break;case"timeupdate":var l=null;null!=this._head&&(void 0!==t&&null!=t&&void 0!==t.currentTime&&(l=t.currentTime),null==l&&(l=this._head.get("currentTime")),this._lastCurrentTime=l),null==this._savedSeekPosition&&this.$element.triggerHandler("bb_media_timeupdate",[{currentTime:l}]);break;case"progress":this.$element.triggerHandler("bb_media_progress");break;case"seeking":var r;this.$element.triggerHandler("bb_media_seeking",[{currentTime:null===(r=this._head)||void 0===r?void 0:r.get("currentTime")}]);break;case"seeked":var d=null;null!=this._savedSeekPosition?(d=this._savedSeekPosition,this._savedSeekPosition=null):null!=this._head&&(d=this._head.get("currentTime")),this.$element.triggerHandler("bb_media_seeked",[{seekedPosition:d}]);break;case"volumechange":var u=null,c=null;null!=this._head&&(u=this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume,c=this._masterMute?this._headMute:this._head.get("muted")),this.$element.triggerHandler("bb_media_volume_change",[{volume:u,masterVolume:this._masterVolume,muted:c,masterMuted:this._masterMute}]);break;case"durationchange":var h=null;null!=this._head&&(h=this._head.get("duration")),this.$element.triggerHandler("bb_media_duration_change",[{duration:h}]);break;case"ratechange":this.$element.triggerHandler("bb_media_playback_rate_change",[{rate:this.get("playbackRate")}]);break;case"webkitplaybacktargetavailabilitychanged":var p,_=e.availability||(null===(p=e.originalEvent)||void 0===p?void 0:p.availability);this.$element&&this.$element.triggerHandler("bb_playbacktargetavailabilitychanged",[{availability:_}])}}},{key:"_handleCanPlay",value:function(){var e;this._canPlay||(this._canPlay=!0,this.$element.triggerHandler("bb_media_canplay"),null!=this._seekPosition&&this._head&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)),!this._couldPlay&&this._playPending&&(null===(e=this._head)||void 0===e||e.set("playbackRate",this._playbackRate),this.play()))}}]),P}(P.default)})),parcelRequire.register("bBYRC",(function(e,t){$parcel$export(e.exports,"default",(function(){return w})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6");parcelRequire("2UpbQ");var a,o,s,l,r,d,u,c,h,p,_,m,f,v=parcelRequire("eV1xY"),g=parcelRequire("1MxPP"),y=parcelRequire("cWdJP"),b=parcelRequire("4AQp6");a=parcelRequire("jPgfD").default,o=parcelRequire("6gju3").default,s=parcelRequire("2wH3A").default,l=parcelRequire("cvAXk").default,r=parcelRequire("gjFvx").default,d=parcelRequire("bd6lw").default,u=parcelRequire("h0jZu").default,c=parcelRequire("3Qbdh").default,h=parcelRequire("fBOv2").default,p=parcelRequire("dBtz6").default,_=parcelRequire("jEHqj").default,m=parcelRequire("fBOv2").default,f=parcelRequire("9mhRD").default;var w=function(){"use strict";function e(t,n){var a;if(i.default(this,e),this.$element=null,this.$wrapper=null,this._opts=void 0!==n?n:null,this._eventNS="headcontroller"+String(Math.random()).replace(".",""),(null===(a=this._opts)||void 0===a?void 0:a.publicationData)&&(this._avoidMediaManager="true"===this._opts.publicationData.avoidMediaManager,this._secureContent=this._opts.publicationData.secureContent||"",this._avoidHLSViaShaka="true"===this._opts.publicationData.avoidHLSViaShaka),this._avoidPreload=!1,this._fitMode=null!=this._opts&&void 0!==this._opts.playoutData&&void 0!==this._opts.playoutData.fitmode?this._opts.playoutData.fitmode:"FIT_SMART",this._masterVolume=.7,this._masterMute=!1,this._headVolume=1,this._headMute=!1,this._playbackRate=1,this._clip=null,this._asset=null,this._asset_ipod=null,this._detections=null,this._broker=null,this._sc=null,this._headType="none",this._heads={},this._head=null,this._headBound=!1,this._headTypesToAvoid={},this._assetIdsToAvoid={},this._shortlist=[],this._couldPlay=!1,this._canPlay=!1,this._playPending=!1,this._seekPosition=null,this._savedSeekPosition=null,this._playing=!1,this._resizingEnabled=!1,this._isiOS=!1,this._isChrome=!1,this._isChromeDesktop=!1,this._couldPlayVideoGL360=!1,this._shouldPlayInline=!1,this._isVPAID=!1,this._is360Video=!1,this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onContentResizedBound=this._onContentResized.bind(this),this._onComponentBound=this._onComponent.bind(this),this._onHeadEventBound=this._onHeadEvent.bind(this),void 0!==t&&null!=t){this.$element=t,this._isVPAID=!!this.$element.data("isVPAID"),this.$wrapper=this.$element.closest(".bb_wrapper"),void 0!==y.default.getService(this._opts.playerAliasOrId).getInstance("Detections")&&(this._detections=y.default.getService(this._opts.playerAliasOrId).getInstance("Detections")),void 0!==this._detections&&null!=this._detections&&(this._isiOS=this._detections.isiOS,this._isChrome=this._detections.isChrome,this._isChromeDesktop=this._detections.isChrome&&!this._detections.isMobileDevice,this._avoidPreload=this._detections.avoidPreload,this._couldPlayVideoGL360=this._isChromeDesktop||this._detections.isAndroid||this._detections.isFirefox||this._detections.isEdge||this._detections.isSafari||this._detections.isFacebookApp||this._detections.isInstagram),void 0!==y.default.getService(this._opts.playerAliasOrId).getInstance("ComponentBroker")&&(this._broker=y.default.getService(this._opts.playerAliasOrId).getInstance("ComponentBroker")),this._sc=y.default.getService(this._opts.playerAliasOrId).getInstance("SoundController"),void 0!==this._sc&&null!=this._sc&&(this._masterVolume=this._sc.getVolume(),this._masterMute=this._sc.getMuted(),this._sc.registerMasterVolumeHandler(this._eventNS,this._masterVolumeHandler.bind(this)),this._sc.registerMasterMuteHandler(this._eventNS,this._masterMuteHandler.bind(this)));var o=n&&n.playoutData&&"true"==n.playoutData.autoMute||this._headMute||this._masterMute;null==this._opts||o&&this._detections&&this._detections.canAutoPlayMuted||void 0===this._opts.playoutData||null==this._opts.playoutData||!(void 0!==this._opts.playoutData.autoPlay&&"true"==this._opts.playoutData.autoPlay||void 0!==this._opts.playoutData.interactivity_inView&&"none"!=this._opts.playoutData.interactivity_inView)?null!=this._opts&&(this._opts._loadOnTouch=!1):null!=this._opts&&(this._opts._loadOnTouch=!0),this.enableResizing(),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound)}}return n.default(e,[{key:"exit",value:function(){for(var e in this.reset(),this._heads)if(null!=this._heads[e]){var t=this._heads[e].$element;this._heads[e]=this._heads[e].exit(),t.remove()}var i;(this._heads={},null!=this.$element)&&(this.disableResizing(),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),null===(i=this.$wrapper)||void 0===i||i.off("bb_component_loaded bb_component_failed",this._onComponentBound));return this._sc&&(this._sc.unregisterMasterVolumeHandler(this._eventNS),this._sc.unregisterMasterMuteHandler(this._eventNS)),this._localStorage=null,null}},{key:"reset",value:function(){null!=this._head&&(this._head.reset(),this._unbindFromHead(),this._headVolume=1,this._headMute=!1,this._head=null),this._headTypesToAvoid={},this._assetIdsToAvoid={},this._couldPlay=!1,this._canPlay=!1,this._playing=!1,this._clip=null,this._asset=null,this._asset_ipod=null,this._playPending=!1,this._seekPosition=null,this._fitMode=null!=this._opts&&void 0!==this._opts.playoutData&&this._opts.playoutData.fitmode?this._opts.playoutData.fitmode:"FIT_SMART"}},{key:"enableResizing",value:function(){null==this.$element||this._resizingEnabled||(this._resizingEnabled=!0,this.$element.on("bb_resized",this._onContentResizedBound),this.$element.on("bb_content_resized",this._onContentResizedBound),this.$element.on("bb_fullscreen_change",this._onContentResizedBound))}},{key:"disableResizing",value:function(){null!=this.$element&&this._resizingEnabled&&(this._resizingEnabled=!1,this.$element.off("bb_resized",this._onContentResizedBound),this.$element.off("bb_content_resized",this._onContentResizedBound),this.$element.off("bb_fullscreen_change",this._onContentResizedBound))}},{key:"load",value:function(e,t){var i=!1;return this.reset(),t&&(this._seekPosition=t),void 0!==e&&null!=e?(this._clip=e,void 0!==this._clip.length&&this._dispatchEvent("bb_head_duration_change",{duration:this._clip.length}),this._clip.fitmode&&"FIT_NONE"!=this._clip.fitmode&&(this._fitMode=this._clip.fitmode),this._selectAsset(),i=this._switchAsset()):i=!0,i}},{key:"nativeFullscreen",value:function(){return!(!this._head||!this._head.mediaRequestFullscreen)&&this._head.mediaRequestFullscreen()}},{key:"play",value:function(e){if(g.default("[HeadController] play user action: "+e),this._playPending=!0,null!=this._head){if(this._head.toFront(),this._couldPlay||this._canPlay||e)return this._head.play(e);this._head.load(e)}return!1}},{key:"pause",value:function(){return this._playPending=!1,null!=this._head&&this._head.pause()}},{key:"switchAsset",value:function(e){var t=!1;if(null!=this._asset&&this._asset.id==e)return!0;var i=null;if(null!=this._shortlist)for(var n=0;n<this._shortlist.length;n++){var a=this._shortlist[n];if(null!=a&&a.id==e){i=a;break}}return null!=i?(null===this._seekPosition&&this._head&&!this._head.get("isLive")&&(this._seekPosition=this._head.get("currentTime")),this._playPending=this._playPending||this._playing,this._asset=i,this._dispatchEvent("bb_asset_selected",{asset:this._asset}),t=this._switchAsset()):this._dispatchEvent("bb_warning",{msg:"asset id not found"}),t}},{key:"_switchAsset",value:function(e,t){var i=!1;if(null!=this._asset)if(t?this._asset.processedSrc.match(/#t=[^;&]*/)?this._asset.processedSrc.replace(/#t=[^;&]*/,"#t="+t):this._asset.processedSrc+="#t="+t:this._asset.processedSrc.match(/#t=[^;&]*/)&&this._asset.processedSrc.replace(/#t=[^;&]*/,""),this._selectHead(),null!=this._head){var n,a,o,s,l=this._asset.processedSrc,r=!0===(null===(n=this._clip)||void 0===n?void 0:n.exclusive)||"true"===(null===(a=this._clip)||void 0===a?void 0:a.exclusive),d="exclusive"===this._secureContent&&r||"all"===this._secureContent;this._head.set("enforceDRM",d);var u=!0===(null===(o=this._clip)||void 0===o?void 0:o.isDVR)||"true"===(null===(s=this._clip)||void 0===s?void 0:s.isDVR)?10800:NaN;this._head.set("availabilityWindow",u),i=this._head.set("src",l,e);var c,h=this._avoidPreload;if(!h)this._preloadedOnce?(null===(c=this._headType)||void 0===c?void 0:c.match(/HLS/))&&(h=!0):this._preloadedOnce=!0;h||this._head.load()}else this._broker&&this._broker.isLoading(this._headType+"Head")||this._dispatchEvent("bb_error",{msg:"no head"});else this._dispatchEvent("bb_error",{msg:"no asset"});return i}},{key:"switchAudioTrack",value:function(e){return!!this._head&&this._head.set("audioTrackId",e)}},{key:"_onComponent",value:function(e,t){t.component===this._headType+"Head"&&(this.$wrapper.off("bb_component_loaded bb_component_failed",this._onComponentBound),this._switchAsset())}},{key:"set",value:function(e,t){switch(e){case"volume":this._headVolume=t,null!=this._head&&this._head.set("volume",this._headVolume*this._masterVolume);break;case"muted":this._headMute=t,null!=this._head&&this._head.set("muted",this._headMute||this._masterMute);break;case"currentTime":isNaN(parseFloat(t))||(this._seekPosition=t,null!=this._head&&(this._canPlay||this._playing)&&null!=this._seekPosition&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)));break;case"playbackRate":var i=!1;return isNaN(parseFloat(t))||(this._playbackRate=t,i=!0,this._head&&(i=this._head.set("playbackRate",this._playbackRate))),i;default:if(null!=this._head)return this._head.set(e,t)}return null}},{key:"get",value:function(e){switch(e){case"bitrate":if(null!=this._asset)return this._asset.bandwidth;break;case"volume":return null!=this._head&&this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume;case"muted":return null!=this._head?this._masterMute?this._headMute:this._head.get("muted"):this._headMute;case"duration":if(null!=this._head){if(0!=this._head.get("duration"))return this._head.get("duration");if(null!=this._clip&&void 0!==this._clip.length)return Number(this._clip.length)}else if(null!=this._clip&&void 0!==this._clip.length)return Number(this._clip.length);break;case"playbackRate":return this._head?this._head.get("playbackRate"):this._playbackRate;default:if(null!=this._head)return this._head.get(e)}return null}},{key:"getCurrentHeadType",value:function(){return this._headType}},{key:"getHeadByType",value:function(e,t,i){var n,a,o,s;if(void 0===t&&(t=null!=this._clip?this._clip.mediatype:"video"),"html5ima"===e&&((null===(n=this._opts)||void 0===n||null===(a=n.adSchedulingData)||void 0===a?void 0:a.scheduleId)||(null===(o=this._opts)||void 0===o||null===(s=o.adSchedulingData)||void 0===s?void 0:s.scheduleCode))){var l=this._heads=l?void 0:l.exit()}return void 0!==this._heads[e+"_"+t]&&null!=this._heads[e+"_"+t]||(this._heads[e+"_"+t]=this._createHead(e,t,i)),this._heads[e+"_"+t]}},{key:"getAssets",value:function(e){return this._shortlist}},{key:"fitVideo",value:function(){var e=!1;null!=this._detections&&this._detections.isAndroidNative&&(e=!0);var t=768,i=432;null!=this._head&&this._head.get("mediaWidth")>0?(t=this._head.get("mediaWidth"),i=this._head.get("mediaHeight")):null!=this._asset&&this._asset.width>0&&(t=this._asset.width,i=this._asset.height),null!=this._detections&&!1!==this._detections.androidVersion&&parseFloat(this._detections.androidVersion)>=3&&null!=this._asset&&(t=this._asset.width,i=this._asset.height),null==this._head||e||this._head.restretch(t,i)}},{key:"showCastTargetPicker",value:function(e){}},{key:"_onPlayoutChanged",value:function(e,t){t&&void 0!==t.playoutData&&void 0!==t.playoutData.fitmode&&(this._fitModode&&"FIT_NONE"!==this._clip.fitmode&&(this._fitMode=this._clip.fitmode))}},{key:"_onCommercialHeadSelected",value:function(e,t){}},{key:"_onContentResized",value:function(e,t){e.stopPropagation(),this.fitVideo()}},{key:"_onMasterVolumeSet",value:function(e,t){this._masterVolumeHandler(t)}},{key:"_masterVolumeHandler",value:function(e){if(e&&void 0!==e.volume&&null!=e.volume&&e.volume>=0&&e.volume<=1&&(g.default("[HeadController:"+this._eventNS+"] _masterVolumeHandler going to set masterVolume to: "+e.volume),this._masterVolume=e.volume,this.$element.triggerHandler("bb_head_volu._masterVolume,muted:null,masterMuted:this._masterMute}]),null!=this._head))this._head.set("volume",this._headVolume*this._masterVolume)}},{key:"_onMasterVolumeMute",value:function(e,t){this._masterMuteHandler(t)}},{key:"_masterMuteHandler",value:function(e){if(e&&void 0!==e.muted&&null!=e.muted&&(g.default("[HeadController:"+this._eventNS+"] _masterMuteHandler going to set masterMute to: "+e.muted),this._masterMute=e.muted,this.$element.triggerHandler("bb_head_volume_change",[{volume:null,masterVolume:this._masterVolume,muted:null,masterMuted:this._masterMute}]),null!=this._head))this._head.set("muted",this._headMute||this._masterMute)}},{key:"_selectHead",value:function(){var e=this._headType;this._determineHeadType(),this._headType!=e&&(null!=this._head&&(this._headVolume=this._masterVolume>0?this._head.get("volume")/this._masterVolume:1,this._headMute=!this._masterMute&&this._head.get("muted"),this._playbackRate=this._head.get("playbackRate")||1,this._head.reset(),this._unbindFromHead(),this._head=null),this._couldPlay=!1,this._canPlay=!1,this._playing=!1),this._head=this.getHeadByType(this._headType),this._bindToHead(),null!=this._head&&(this._head.set("muted",this._headMute||this._masterMute),this._head.set("volume",this._headVolume*this._masterVolume),this._head.set("playbackRate",this._playbackRate),void 0!==this._headControls&&this._head.set("controls",this._headControls))}},{key:"_selectAsset",value:function(t){if(this._asset=null,this._asset_ipod=null,this._shortlist=[],null!=this._clip){var i,n;switch(this._clip.mediatype){case"image":(d={mediatype:"image/"+this._clip.src.substr(this._clip.src.lastIndexOf(".")).toLowerCase(),id:this._clip.id,src:this._clip.src,bandwidth:-1}).processedSrc=this._preProcessSrc(d.src,this._clip.mediaassetpath),this._shortlist.push(d);break;case"interactive":(d={mediatype:"application/x-shockwave-flash",id:this._clip.id,src:this._clip.src,bandwidth:-1}).processedSrc=this._preProcessSrc(d.src,this._clip.mediaassetpath),this._shortlist.push(d);var a=this._opts.publicationData.server+"/mediaclip/"+this._clip.id+"/pthumbnail/default/default.png",o={mediatype:"image/png",id:this._clip.id,src:a,bandwidth:-2};o.processedSrc=this._preProcessSrc(o.src,this._clip.mediaassetpath),this._shortlist.push(o);break;case"mainroll":this._shouldPlayInline=!0;break;default:case"video":this._is360Video="true"===this._clip.cubemapVideo||!0===this._clip.cubemapVideo||"360video"===this._clip.subtype||!0===this._clip.isThreeSixtyVideo||"true"===this._clip.isThreeSixtyVideo;case"audio":var s;if(this._shouldPlayInline="true"==this._clip.shouldPlayInline,void 0!==this._clip.timelines&&null!=this._clip.timelines&&this._clip.timelines.length>=1&&(this._shouldPlayInline=!0),this._is360Video&&(this._shouldPlayInline=!0),this._useYouTubeHead=!1,this._opts&&this._opts.playoutData&&"true"==this._opts.playoutData.youTubeHosting){if(void 0!==this._clip.exports&&null!=this._clip.exports&&this._clip.exports.length>0)for(var l=0;l<this._clip.exports.length;l++)if(void 0!==this._clip.exports[l].exportchannel&&this._clip.exports[l].exportchannel.exportsystemname.match(/^youtube/i)&&void 0!==this._clip.exports[l].externalid){(d={mediatype:"YOUTUBE",id:this._clip.id,src:this._clip.exports[l].externalid,bandwidth:1e3}).processedSrc=d.src,this._shortlist.push(d)}var r;if(0==this._shortlist.length&&this._clip.sourceid&&(null!=(r=this._clip.sourceid.match(/[0-9]+yt-.*v=([^&]+)/))||null!=(r=this._clip.sourceid.match(/[0-9]+yt-.*embed\/([^&]+)/))||null!=(r=this._clip.sourceid.match(/imported-from\:.*youtube.*v=([^&]+)/))||null!=(r=this._clip.sourceid.match(/imported-from\:.*youtu\.be\/([^&]+)/)))&&r.length>1)(d={mediatype:"YOUTUBE",id:this._clip.id,src:r[1],bandwidth:1e3}).processedSrc=d.src,this._shortlist.push(d);if(this._shortlist.length>0&&null!=this._clip.assets)for(var l=0;l<this._clip.assets.length;l++){(d=this._clip.assets[l])&&d.mediatype&&d.mediatype.match(/^IMAGESEQUENCE/i)&&(d.processedSrc=this._preProcessSrc(d.src,this._clip.mediaassetpath),this._shortlist.push(d))}}if(0!=this._shortlist.length);else if((null===(s=this._clip.assets)||void 0===s?void 0:s.length)>0)for(l=0;l<this._clip.assets.length;l++){var d;(d=this._clip.assets[l])&&!this._doNotSelect(d)&&(d.processedSrc=this._preProcessSrc(d.src,this._clip.mediaassetpath),this._shortlist.push(d),d.mediatype&&d.mediatype.match(/^MP4_IPOD/i)&&(this._asset_ipod=d))}else{var u,c,h=new Date,p=new Date(null===(u=this._clip)||void 0===u?void 0:u.softEmbargo);(null===(c=this._clip)||void 0===c?void 0:c.softEmbargo)&&p>h||this._dispatchEvent("bb_error",{msg:"no assets"})}}if(null!=this._detections){if(!this._detections.supportsMediaTag)for(l=this._shortlist.length-1;l>=0;l--)this._needsMediaTag(this._shortlist[l])&&this._shortlist.splice(l,1);if(!this._detections.isiOS)for(l=this._shortlist.length-1;l>=0;l--)this._needsIOS(this._shortlist[l])&&this._shortlist.splice(l,1);if(!this._detections.canPlayType("video/webm"))for(l=this._shortlist.length-1;l>=0;l--)this._needsWebmSupport(this._shortlist[l])&&this._shortlist.splice(l,1);for(l=this._shortlist.length-1;l>=0;l--)this._needsDotAACSupport(this._shortlist[l])&&this._shortlist.splice(l,1);if(!this._detections.canPlayType("audio/aac"))for(l=this._shortlist.length-1;l>=0;l--)this._needsHtml5AACSupport(this._shortlist[l])&&this._shortlist.splice(l,1);if(this._detections.isiOS&&this._detections.iOSVersion>0&&this._detections.iOSVersion<5)for(l=this._shortlist.length-1;l>=0;l--)this._supportedByIOSVersionLessThan5(this._shortlist[l])||this._shortlist.splice(l,1);if(this._is360Video)if(this._couldPlayVideoGL360&&this._detections.hasWebGL)for(l=this._shortlist.length-1;l>=0;l--)this._needsSprite(this._shortlist[l])&&this._shortlist.splice(l,1);else for(l=this._shortlist.length-1;l>=0;l--)this._needsSprite(this._shortlist[l])||this._shortlist.splice(l,1);else{if((!this._detections.canPlayInline||(this._detections.isiPad||this._detections.isiPhone)&&this._isVPAID)&&this._shouldPlayInline)for(l=this._shortlist.length-1;l>=0;l--)this._needsHtml5Seek(this._shortlist[l])||this._shortlist.splice(l,1);else if(!this._opts.playoutData||"true"!=this._opts.playoutData.allowImageSequence)for(l=this._shortlist.length-1;l>=0;l--)this._needsHtml5Seek(this._shortlist[l])&&this._shortlist.splice(l,1);for(l=this._shortlist.length-1;l>=0;l--)this._needsSprite(this._shortlist[l])&&this._shortlist.splice(l,1)}for(l=this._shortlist.length-1;l>=0;l--)this._canPlayAsset(this._shortlist[l])||this._shortlist.splice(l,1)}0==this._shortlist.length&&null!=this._asset_ipod&&this._shortlist.push(this._asset_ipod),(null===(i=this._detections)||void 0===i?void 0:i.isSafari)||null===(n=this._detections)||void 0===n||n.isiOS;var _=this;if(this._shortlist.some((function(e){return _._needsHLSSupport(e)})))for(l=this._shortlist.length-1;l>=0;l--)this._needsMPDSupport(this._shortlist[l])&&this._shortlist.splice(l,1);this._shortlist.sort(e.sortShortList),this._shortlist&&this._shortlist.length&&(this._asset=this._shortlist[this._shortlist.length-1])}t||(this._dispatchEvent("bb_assets_changed",{assets:this._shortlist}),this._dispatchEvent("bb_asset_selected",{asset:this._asset}))}},{key:"_doNotSelect",value:function(e){return!!(e&&e.id&&this._assetIdsToAvoid["#"+e.id])||!!(e&&e.mediatype&&(e.mediatype.match(/^MPEG2/i)||e.mediatype.match(/^MP4_TIMELINE/i)||e.mediatype.match(/^MP4_PREVIEW/i)||e.mediatype.match(/^TEASER/i)||e.mediatype.match(/^thumbnailset/i)||e.mediatype.match(/WMV/i)||e.mediatype.match(/3GP/i)))}},{key:"_canPlayAsset",value:function(e){return!!e&&(this._needsYouTube(e)&&void 0!==f||this._needsHtml5HLS(e)&&void 0!==c||this._needsHtml5HLS(e)&&void 0!==u||this._needsHtml5MPD(e)&&void 0!==_||this._needsHtml5MPD(e)&&void 0!==p||this._needsSprite360(e)&&this._broker&&this._broker.isPlayerComponentAvailable("Html5Sprite360Head")||this._needsSpriteGL360(e)&&void 0!==l?"probably":this._detections&&e.mimetype?this._detections.canPlayType(e.mimetype):"maybe")}},{key:"_needsHtml5HLS",value:function(e){return!(null==this._detections||this._detections.canPlayHLS||!this._needsHLSSupport(e))}},{key:"_needsHtml5MPD",value:function(e){return!(null==this._detections||this._detections.canPlayMPD||!this._needsMPDSupport(e))}},{key:"_needsHtml5HLSDash",value:function(e){return!!this._needsHtml5MPD(e)||!(this._avoidHLSViaShaka||!this._needsHtml5HLS(e))}},{key:"_needsHtml5Seek",value:function(e){if(this._detections&&!this._detections.canPlayInline){if(e.mediatype.match(/^MP4_IPOD/i))retururn!0;if(e.mediatype.match(/^MP4_HD/i))return!0;if(e.mediatype.match(/^MP4_HLS/i))return!0;if(e.mediatype.match(/^MP4_HDS/i))return!0}return!1}},{key:"_needsYouTube",value:function(e){return"YOUTUBE"==e.mediatype}},{key:"_needsSprite",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^IMAGESEQUENCE/i))||!(!e.processedSrc||!e.processedSrc.match(/\.json$/i))}},{key:"_needsSprite360",value:function(e){if(this._is360Video&&this._detections){if(e.mediatype&&e.mediatype.match(/^IMAGESEQUENCE/i)&&!this._detections.hasWebGL)return!0;if(e.processedSrc&&e.processedSrc.match(/\.json$/i)&&!this._detections.hasWebGL)return!0}return!1}},{key:"_needsSpriteGL360",value:function(e){if(this._is360Video){if(e.mediatype&&e.mediatype.match(/^IMAGESEQUENCE/i))return!0;if(e.processedSrc&&e.processedSrc.match(/\.json$/i))return!0}return!1}},{key:"_needsVideoGL360",value:function(e){return!!this._is360Video}},{key:"_needsHtml5HLSDashVideoGL360",value:function(e){return!(!this._needsHtml5MPD(e)||!this._needsVideoGL360(e))||!(this._avoidHLSViaShaka||!this._needsHtml5HLS(e)||!this._needsVideoGL360(e))}},{keGL360",value:function(e){returndeoGL360(e))}},{key:"_needsMediaTag",value:function(e){return!!e.processedSrc.match(/\.aac$/i)}},{key:"_needsIOS",value:function(e){return!1}},{key:"_needsChromeCast",value:function(e){return!!this._useChromeCast}},{key:"_needsHLSSupport",value:function(e){return b.assetNeedsHLSSupport(e)}},{key:"_needsMPDSupport",value:function(e){return b.assetNeedsMPDSupport(e)}},{key:"_needsWebmSupport",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^WEBM/i))||!(!e.processedSrc||!e.processedSrc.match(/\.webm\?/i))}},{key:"_needsDotAACSupport",value:function(e){return!(!e.processedSrc||!e.processedSrc.match(/\.aac$/i))}},{key:"_needsHtml5AACSupport",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^AACP/i))||(!(!e.processedSrc||!e.processedSrc.match(/\.aac$/i))||!(!e.processedSrc||!e.processedSrc.match(/aacp$/i)))}},{key:"_needsAudioMP4Support",value:function(e){return!!(e.mediatype&&e.mediatype.match(/^AAC/i)&&e.processedSrc&&e.processedSrc.match(/\.mp4$/i))||!(!e.processedSrc||!e.processedSrc.match(/\.m4a$/i))}},{key:"_supportedByIOSVersionLessThan5",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^MP4_IPOD/i))||(!(!e.mediatype||!e.mediatype.match(/^MP3/i))||(!(!e.mediatype||!e.mediatype.mat!(!e.mediatype||!e.mediatype.match(/^image\/jpg/i))||!(!e.mediatype||!e.mediatype.match(/^image\/png/i))))))}},{key:"_supportedByMediaTag",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^MP4_IPOD/i))}},{key:"_determineHeadType",value:function(){this._headType="none",null!=this._clip&&null!=this._asset&&(this._needsYouTube(this._asset)&&!this._headTypesToAvoid.youtube?this._headType="youtube":this._needsSprite360(this._asset)&&!this._headTypesToAvoid.Html5Sprite360?(this._headType="Html5Sprite360",this._headTypesToAvoid.Html5Seek=!0,this._headTypesToAvoid.html5=!0):this._needsSpriteGL360(this._asset)&&!this._headTypesToAvoid.Html5SpriteGL360?(this._headType="Html5SpriteGL360",this._headTypesToAvoid.Html5Seek=!0,this._headTypesToAvoid.html5=!0):this._needsHtml5Seek(this._asset)&&!this._headTypesToAvoid.Html5Seek?this._headType="Html5Seek":this._needsHtml5HLSDashVideoGL360(this._asset)&&!this._headTypesToAvoid.Html5HLSDashVideoGL360?(this._headType="Html5HLSDashVideoGL360",this._headTypesToAvoid.sprite=!0,this._headTypesToAvoid.html5=!0):this._needsHtml5HLSVideoGL360(this._asset)&&!this._headTypesToAvoid.Html5HLSVideoGL360?(this._headType="Html5HLSVideoGL360",this._headTypesToAvoid.sprite=!0,this._headTypesToAvoid.html5=!0):this._needsVideoGL360(this._asset)&&!this._headTypesToAvoid.Html5VideoGL360?(this._headType="Html5VideoGL360",this._headTypesToAvoid.Html5Seek=!0,this._headTypesToAvoid.html5=!0):this._needsHtml5HLSDash(this._asset)&&!this._headTypesToAvoid.Html5HLSDash?this._headType="Html5HLSDash":this._needsChromeCast(this._asset)&&!this._headTypesToAvoid.ChromeCast?this._headType="ChromeCast":this._needsHtml5HLS(this._asset)&&!this._headTypesToAvoid.Html5HLS?this._headType="Html5HLS":this._headTypesToAvoid.html5||(this._headType="html5")),null!=this._opts&&void 0!==this._opts.playoutData&&void 0!==this._opts.playoutData.forcedHead&&(this._headType=this._opts.playoutData.forcedHead),null!=this._opts&&void 0!==this._opts.requestParams&&void 0!==this._opts.requestParams.forcedHead&&(this._headType=this._opts.requestParams.forcedHead)}},{key:"_createHead",value:function(e,t,i){var n=null,g=$parcel$interopDefault(v)('<div class="bb-head" style="position:absolute; width:100%; height:100%; top:0; left:0;"></div>');switch(isNaN(parseInt(i))||g.css({zIndex:parseInt(i)}),this.$element.append(g),g.attr("data-retryOnPlayFailed","false"),e){case"youtube":"function"==typeof f&&(n=new f(g,this._opts));break;case"Html5Sprite360":var y;if(this._broker)if(this._broker.isPlayerComponentAvailable("Html5Sprite360Head"))n=new(this._broker.getLoadedPlayerComponent("Html5Sprite360Head"))(g,this._opts);else null===(y=this.$wrapper)||void 0===y||y.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5Sprite360Head",15);break;case"Html5SpriteGL360":var b;if(this._broker)if(this._broker.isPlayerComponentAvailable("WebGL360Helper"))n=new l(g,this._opts);else null===(b=this.$wrapper)||void 0===b||b.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("WebGL360Helper:Html5SpriteGL360Head",15);break;case"Html5Seek":"function"==typeof s&&(n=new s(g,this._opts));break;case"Html5HLSVideoGL360":if(this._broker)if(this._broker.isPlayerComponentAvailable("Html5HLSHelper")&&this._broker.isPlayerComponentAvailable("WebGL360Helper"))n=new h(g,this._opts);else if(this._broker.isPlayerComponentAvailable("Html5HLSHelper")){if(!this._broker.isPlayerComponentAvailable("WebGL360Helper")){var w;null===(w=this.$wrapper)||void 0===w||w.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("WebGL360Helper:Html5HLSVideoGL360Head",15)}}else{var k;null===(k=this.$wrapper)||void 0===k||k.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSHelper:Html5HLSVideoGL360Head",15)}break;case"Html5HLSDashVideoGL360":if(this._broker)if(this._broker.isPlayerComponentAvailable("Html5HLSDashHelper")&&this._broker.isPlayerComponentAvailable("WebGL360Helper"))n=new m(g,this._opts);else if(this._broker.isPlayerComponentAvailable("Html5HLSDashHelper")){if(!this._broker.isPlayerComponentAvailable("WebGL360Helper")){var $;null===($=this.$wrapper)||void 0===$||$.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("WebGL360Helper:".concat(e,"Head"),15)}}else{var C;null===(C=this.$wrapper)||void 0===C||C.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSDashHelper:".concat(e,"Head"),15)}break;case"Html5VideoGL360":var S;if(this._broker)if(this._broker.isPlayerComponentAvailable("WebGL360Helper"))n=new d(g,this._opts);else null===(S=this.$wrapper)||void 0===S||S.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("WebGL360Helper:Html5VideoGL360Head",15);break;case"Html5HLS":var P;if(this._broker)if("audio"!==t||this._isiOS)if(this._broker.isPlayerComponentAvailable("Html5HLSHelper"))n=new c(g,this._opts);else{var x;null===(x=this.$wrapper)||void 0===x||x.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSHelper:Html5HLSHead",15)}else if(this._broker.isPlayerComponentAvailable("Html5HLSHelper"))n=new u(g,this._opts);else null===(P=this.$wrapper)||void 0===P||P.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSHelper:Html5HLSHead",15);break;case"Html5HLSDash":var A;if(this._broker)if("audio"!==t||this._isiOS)if(this._broker.isPlayerComponentAvailable("Html5HLSDashHelper"))n=new _(g,this._opts);else{var I;null===(I=this.$wrapper)||void 0===I||I.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSDashHelper:".concat(e,"Head"),15)}else if(this._broker.isPlayerComponentAvailable("Html5HLSDashHelper"))n=new p(g,this._opts);else null===(A=this.$wrapper)||void 0===A||A.on("bb_component_loaded bb_component_failed",this._onComponentBound),this._broker.load("Html5HLSDashHelper:".concat(e,"Head"),15);break;case"html5":"image"===t||"interactive"===t?"function"==typeof o&&(n=new o(g,this._opts)):"audio"===t?"function"==typeof a&&(n=new a(g,this._opts)):"function"==typeof r&&(n=new r(g,this._opts))}return null==n&&g.remove(),n}},{key:"_bindToHead",value:function(){null==this._head||this._headBound||(this._headBound=!0,null!=this._head.$element&&(this._head.$element.on("loadstart",this._onHeadEventBound),this._head.$element.on("couldplay",this._onHeadEventBound),this._head.$element.on("loadeddata",this._onHeadEventBound),this._head.$element.on("canplay",this._onHeadEventBound),this._head.$element.on("error",this._onHeadEventBound),this._head.$element.on("play",this._onHeadEventBound),this._head.$element.on("playing",this._onHeadEventBound),this._head.$element.on("pause",this._onHeadEventBound),this._head.$element.on("waiting",this._onHeadEventBound),this._head.$element.on("stalled",this._onHeadEventBound),this._head.$element.on("timeupdate",this._onHeadEventBound),this._head.$element.on("seeking",this._onHeadEventBound),this._head.$element.on("seeked",this._onHeadEventBound),this._head.$element.on("abort",this._onHeadEventBound),this._head.$element.on("adSkipped",this._onHeadEventBound),this._head.$element.on("ended",this._onHeadEventBound),this._head.$element.on("volumechange",this._onHeadEventBound),this._head.$element.on("durationchange",this._onHeadEventBound),this._head.$element.on("progress",this._onHeadEventBound),this._head.$element.on("suspend",this._onHeadEventBound),this._head.$element.on("emptied",this._onHeadEventBound),this._head.$element.on("loadedmetadata",this._onHeadEventBound),this._head.$element.on("canplaythrough",this._onHeadEventBound),this._head.$element.on("ratechange",this._onHeadEventBound),this._head.$element.on("resize",this._onHeadEventBound)),this._head.enableTimeUpdates())}},{key:"_unbindFromHead",value:function(){null!=this._head&&this._headBound&&(this._headBound=!1,null!=this._head.$element&&(this._head.$element.off("loadstart",this._onHeadEventBound),this._head.$element.off("couldplay",this._onHeadEventBound),this._head.$element.off("loadeddata",this._onHeadEventBound),this._head.$element.off("canplay",this._onHeadEventBound),this._head.$element.off("error",this._onHeadEventBound),this._head.$element.off("playing",this._onHeadEventBound),this._head.$element.off("pause",this._onHeadEventBound),this._head.$element.off("waiting",this._onHeadEventBound),this._head.$element.off("stalled",this._onHeadEventBound),this._head.$element.off("timeupdate",this._onHeadEventBound),this._head.$element.off("seeking",this._onHeadEventBound),this._head.$element.off("seeked",this._onHeadEventBound),this._head.$element.off("abort",this._onHeadEventBound),this._head.$element.off("adSkipped",this._onHeadEventBound),this._head.$element.off("ended",this._onHeadEventBound),this._head.$element.off("volumechange",this._onHeadEventBound),this._head.$element.off("durationchange",this._onHeadEventBound),this._head.$element.off("progress",this._onHeadEventBound),this._head.$element.off("suspend",this._onHeadEventBound),this._head.$element.off("emptied",this._onHeadEventBound),this._head.$element.off("loadedmetadata",this._onHeadEventBound),this._head.$element.off("canplaythrough",this._onHeadEventBound),this._head.$element.off("play",this._onHeadEventBound),this._head.$element.off("ratechange",this._onHeadEventBound),this._head.$element.off("resize",this._onHeadEventBound)),this._head.disableTimeUpdates())}},{key:"_dispatchEvent",value:function(e,t){void 0!==t?this.$element.triggerHandler(e,[t]):this.$element.triggerHandler(e)}},{key:"_onHeadEvent",value:function(e){if(e.stopPropagation(),null!=this.$element)switch(e.type){case"loadstart":this._playing=!1,this._couldPlay=!1,this._canPlay=!1;break;case"loadeddata":this.fitVideo(),this.$element.triggerHandler("bb_head_loadeddata");break;case"canplay":this._canPlay=!0,this.$element.triggerHandler("bb_head_canplay"),null!=this._seekPosition&&(this._savedSeekPosition=this._seekPosition,this._seekPosition=null,this._head.set("currentTime",this._savedSeekPosition)),this._playPending&&this.play();break;case"play":this._playPending=!0,this.$element.triggerHandler("bb_head_play");break;case"playing":this._playPending=!1,this._playing=!0,this.$element.triggerHandler("bb_head_playing");break;case"pause":this._playing=!1,this.$element.triggerHandler("bb_head_paused");break;case"waiting":this.$element.triggerHandler("bb_head_waiting");break;case"stalled":this.$element.triggerHandler("bb_head_stalled");break;case"abort":case"adSkipped":case"ended":this._playing=!1;break;case"error":var t="no head, no glory";if(null!=this._head){var i=this._head.get("error");if(null!=i){switch(i.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:t="unknown error code: "+i.code+", msg: "+i.error}t+=", src: "+this._head.get("currentSrc")}else t="no error specified"}this._assetIdsToAvoid["#"+this._asset.id]=!0;var n=this._asset.id;this._selectAsset(),this._asset&&this._asset.id!=n?(this.$element.triggerHandler("bb_warning",[{msg:t}]),this._switchAsset()):this.$element.triggerHandler("bb_error",[{msg:t}]);break;case"timeupdate":var a=null;null!=this._head&&(a=this._head.get("currentTime")),this.$element.triggerHandler("bb_head_timeupdate",[{currentTime:a}]);break;case"seeking":this.$element.triggerHandler("bb_head_seeking");break;case"seeked":var o=null;null!=this._savedSeekPosition?(o=this._savedSeekPosition,this._savedSeekPosition=null):null!=this._head&&(o=this._head.get("currentTime")),this.$element.triggerHandler("bb_head_seeked",[{seekedPosition:o}]);break;case"volumechange":var s=null,l=null;null!=this._head&&(s=this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume,l=this._masterMute?this._headMute:this._head.get("muted")),this.$element.triggerHandler("bb_head_volume_change",[{volume:s,masterVolume:this._masterVolume,muted:l,masterMuted:this._masterMute}]);break;case"durationchange":var r=null;null!=this._head&&(r=this._head.get("duration")),this.$element.triggerHandler("bb_head_duration_change",[{duration:r}])}}},{key:"processAsset",value:function(e){var t;return e&&!e.processedSrc&&(e.processedSrc=this._preProcessSrc(e.src,null===(t=this._clip)||void 0===t?void 0:t.mediaassetpath)),e}},{key:"_preProcessSrc",value:function(e,t){if(void 0===e||null==e)return!1;if(!(/^blob:https?:\/\//.test(e)||/^\w+:\/\//.test(e)||/^\/\//.test(e))&&null!=this._opts&&void 0!==this._opts.publicationData){void 0===t&&(t=null);var i=null;void 0!==this._opts.publicationData.defaultMediaAssetPath&&null!=(i=this._opts.publicationData.defaultMediaAssetPath)&&null==i.match(/\/\/mm\./)&&this._opts.embedData.forceSSL&&(i=i.replace(/^http:\/\//,"https://"));var n=null;void 0!==this._opts.publicationData.streamingMediaAssetPath&&null!=(n=this._opts.publicationData.streamingMediaAssetPath)&&null!=n.match(/^https:\/\//)&&this._opts.embedData.forceSSL&&(n=n.replace(/^http:\/\//,"https://"));var a=null;if(void 0!==this._opts.publicationData.mobileMediaAssetPath&&null!=(a=this._opts.publicationData.mobileMediaAssetPath)&&null==a.match(/\/\/mm\./)&&(this._opts.embedData.forceSSL&&(a=a.replace(/^http:\/\//,"https://")),a.match(/\&protocol=/)&&this._opts.embedData.forceSSL&&(a=a.replace(/\&protocol=[^&]*/,"&protocol=https")),a.match(/\?protocol=/)&&this._opts.embedData.forceSSL&&(a=a.replace(/\?protocol=[^&]*/,"?protocol=https"))),null==t&&(t=i,null!=n&&null!=this._clip&&"image"!=this._clip.mediatype&&"interactive"!=this._clip.mediatype&&null!=this._detections&&(this._detections.canPlayHLS||this._detections.canPlayHLSJS)&&(t=null!=a?a:i)),null!=t&&(e=null==t.match(/^http/)&&null==t.match(/^\/\//)||!t.match(/xspf/)?null!=t.match(/^rtmp/)?t+"%delimiter%"+e.replace(/^\//,""):null!=t.match(/\?/)&&null!=t.match(/\=$/)?t+encodeURIComponent(e):t+e:t+"&file="+encodeURIComponent(e)),null!=this._clip&&"image"==this._clip.mediatype){var o=e.substr(e.lastIndexOf("."));o&&".swf"!=o.toLowerCase()&&(e=this._opts.publicationData.server+"/mediaclip/"+this._clip.id+"/pthumbnail/default/default"+o.toLowerCase())}}return e}}],[{key:"sortShortList",value:function(e,t){return Number(e.bandwidth)<Number(t.bandwidth)||!isNaN(e.bandwidth)&&"auto"===t.bandwidth?-1:Number(e.bandwidth)>Number(t.bandwidth)||"auto"===e.bandwidth&&!isNaN(t.bandwidth)?1:0}}]),e}()})),parcelRequire.register("jPgfD",(function(e,t){$parcel$export(e.exports,"default",(function(){return h})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv");parcelRequire("2UpbQ");var d=parcelRequire("eV1xY"),u=parcelRequire("cWdJP"),c=parcelRequire("1MxPP"),h=function(e){"use strict";i.default(h,e);var t=n.default(h);function h(e,i){var n;if(a.default(this,h),(n=t.call(this,e,i))._headController=null,n._avoidPreload=!1,n._onClickToPlayLayerClickBound=n._onClickToPlayLayerClick.bind(o.default(n)),null!=n.$element){n._api=u.default.getService(n._opts.playerAliasOrId).getInstance("PublicAPI"),n.$element.addClass("bb-head-html5-audio"),"true"==n.$element.attr("data-borrowHtml5Media")&&(n._headController=u.default.getService(n._opts.playerAliasOrId).getInstance("HeadController"),void 0!==n._headController&&null!=n._headController&&(n.$media=n._headController.borrowHtml5Media(),n._canAutoPlay=n._canAutoPlay||n._headController._canplay));var s=u.default.getService(n._opts.playerAliasOrId).getInstance("Detections");if(void 0!==s&&null!=s&&(n._avoidPreload=s.avoidPreload,n._isAndroidNative=s.isAndroidNative),"true"===n.$element.attr("data-useMediaManager")?(n._useMediaManager=!0,n._mediaManager&&(n.$media=$parcel$interopDefault(d)(n._mediaManager.getMedia("AUDIO")),$parcel$interopDefault(d).contains(n.$element.get(0),n.$media.get(0))||n.$media.prependTo(n.$element))):"true"==n.$element.attr("data-borrowHtml5Media")&&(n._headController=u.default.getService(n._opts.playerAliasOrId).getInstance("HeadController"),void 0!==n._headController&&null!=n._headController&&(n.$media=n._headController.borrowHtml5Media(),n._canAutoPlay=n._canAutoPlay||n._headController._canplay)),null==n.$media&&(n.$media=$parcel$interopDefault(d)(document.createElement("audio")).appendTo(n.$element),n.$media.attr("webkit-playsinline",""),n.$media.attr("playsinline",""),n.$media.attr("controlsList","nodownload"),n.$media.attr("preload",n._avoidPreload?"none":"metadata"),n._opts&&n._opts.playoutData&&"true"===n._opts.playoutData.autoMute&&(n._muted=!0,n._effectuateVolumeAndMuted()),n.$media.css({width:"100%",height:"100%"}),n.$media.css({maxWidth:"none",maxHeight:"none"})),n.$element.append('<style type="text/css">.bb_wrapper .bb-head-html5-audio audio{max-width:none !important;max-height:none !important;}</style>'),i&&!i.noSkinMode?n.$element.append('<div style="width:100%;height:100%;position:absolute;top:0;left:0;"></div>'):(n.$clickToPlayLayer=$parcel$interopDefault(d)('<div style="width:100%;height:100%;position:absolute;top:0;left:0;" class="bb-click-to-play-layer"></div>'),n.$clickToPlayLayer.on("click",n._onClickToPlayLayerClickBound),n.$element.append(n.$clickToPlayLayer)),null!=n.$media&&n.$media.length<=0&&(n.$media=null),null!=n.$media){n._media=n.$media.get(0),n._useMediaManager&&n._mediaManager&&($parcel$interopDefault(d).contains(n.$element.get(0),n._media)||(n.$media=$parcel$interopDefault(d)(n._media).prependTo(n.$element)));var l=n._media.src,r=n._media.currentSrc;null!=r&&""!=r&&null==r.match(/\/null$/)?n._savedSrc=r:null!=l&&""!=l&&null==l.match(/\/null$/)&&(n._savedSrc=l),n._media.webkitCurrentPlaybackTargetIsWireless&&(n._media.setAttribute("preload","metadata"),n._media.setAttribute("x-webkit-airplay","allow"),n._antiFlickerHack&&n.$media&&(n._antiFlickerHack=!1,n.$media.css("visibility","visible")),n._isiOS&&n._useMediaManager&&n._mediaManager&&n._mediaManager.setSingleMediaMode(n._media.tagName))}var c=i&&i.clipData&&"mainroll"==i.clipData.mediatype;i.noSk&!c&&n.$media.attr("poster",n._api.getThumbnail())),n._bindMediaEvents()}return n}return s.default(h,[{key:"_onClickToPlayLayerClick",value:function(){this._api&&(this._api.play(!0),this.$clickToPlayLayer.hide())}},{key:"exit",value:function(){var e;return null===(e=this.$clickToPlayLayer)||void 0===e||e.off("click",this._onClickToPlayLayerClickBound),this._headController&&(this._headController.returnHtml5Media(),null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc,this._loadMedia(!1)),this._savedSrc=null),this._unbindMediaEvents(),this.$media=null,l.default(r.default(h.prototype),"exit",this).call(this)}},{key:"play",value:function(e){return c.default("[Html5AudioHead] play user action: "+e),l.default(r.default(h.prototype),"play",this).call(this,e)}},{key:"restretch",value:function(){}},{key:"_getMediaWidth",value:function(){return 0}},{key:"_getMediaHeight",value:function(){return 0}}]),h}(parcelRequire("9LZNl").default)})),parcelRequire.register("9LZNl",(function(e,t){$parcel$export(e.exports,"default",(function(){return _})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv");parcelRequire("2UpbQ");var d=parcelRequire("eV1xY"),u=parcelRequire("cWdJP"),c=parcelRequire("1MxPP"),h=parcelRequire("3ymwn"),p=parcelRequire("4AQp6"),_=function(e){"use strict";i.default(h,e);var t=n.default(h);function h(e,i){var n,s;if(a.default(this,h),(n=t.call(this,e,i)).$media=null,n._media=null,n._media_promise=null,n._isiOS=!1,n._isNativeAndroidBrowser=!1,n._canAutoPlay=!1,n._pendingSet=[],n._loadstart=!1,n._suspend=!1,n._canplay=!1,n._canplaythrough=!1,n._currentTime=null,n._isIE=!1,n._canControlVolume=!0,n._volume=1,n._muted=!1,n._shouldBePaused=!0,n._duration=null,n._retryOnPlayFailed=!1,n._retryCount=0,n._playing=!1,n._ended=!1,n._seeking=!1,n._exiting=!1,n._pendingPlay=!1,n._timeUpdatesEnabled=!0,n._haveStarted=!1,n._useMediaManager=!1,n._isLiveStream=!1,i&&i.clipData&&"live"==i.clipData.sourcetype&&(n._isLiveStream=!0),n._forceIOSNativeVideo=n._opts&&n._opts.playoutData&&"true"==n._opts.playoutData.forceIOSNativeVideo,n._forceAndroidNativeVideo=n._opts&&n._opts.playoutData&&"true"==n._opts.playoutData.forceAndroidNativeVideo,n._autoMuteIfNeededForAutoPlay=n._opts&&n._opts.playoutData&&("true"===n._opts.playoutData.autoMuteIfNeededForAutoPlay||!0===n._opts.playoutData.autoMuteIfNeededForAutoPlay),n._autoMuteIfNeededForAutoPlay=!1,n._antiFlickerHack=!0,n._animationFrameCallbackBound=n._animationFrameCallback.bind(o.default(n)),n._onPlayoutChangedBound=n._onPlayoutChanged.bind(o.default(n)),n._onPageShowBound=n._onPageShow.bind(o.default(n)),n._onPageHideBound=n._onPageHide.bind(o.default(n)),n._onWindowTouchstartBound=n._onWindowTouchstart.bind(o.default(n)),n._onAutoPlayCheckReadyBound=n._onAutoPlayCheckReady.bind(o.default(n)),n._onEventBound=n._onEvent.bind(o.default(n)),null!=n.$element){n.$wrapper=n.$element.closest(".bb_wrapper");var l=n._detections=u.default.getService(n._opts.playerAliasOrId).getInstance("Detections");void 0!==l&&null!=l&&(n._canAutoPlayMuted=l.canAutoPlayMuted,n._isiOS=l.isiOS,n._isNativeAndroidBrowser=l.isAndroidNative,n._canAutoPlay=l.canAutoPlay,n._isIE=l.isIE,n._isAndroid=l.isAndroid,n._canControlVolume=l.canControlVolume,n._isSafari=l.isSafari),n._retryOnPlayFailed="true"===n.$element.attr("data-retryOnPlayFailed"),n._mediaManager=u.default.getService(n._opts.playerAliasOrId).getInstance("MediaManager")}return n._noSkinMode=n._opts&&n._opts.noSkinMode,n._antiFlickerHack=n._antiFlickerHack&&!n._opts.addNativeControls,null===(s=n.$element)||void 0===s||s.on("bb_playout_changed",n._onPlayoutChangedBound),window.addEventListener("pageshow",n._onPageShowBound),window.addEventListener("pagehide",n._onPageHideBound),n}return s.default(h,[{key:"exit",value:function(){var e;return this._exiting=!0,this._unbindMediaEvents(),this.$wrapper&&this.$wrapper.off("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBound),null===(e=this.$element)||void 0===e||e.off("bb_playout_changed",this._onPlayoutChangedBound),window.removeEventListener("touchstart",this._onWindowTouchstartBound),window.removeEventListener("pageshow",this._onPageShowBound),window.removeEventListener("pagehide",this._onPageHideBound),null!=this.$element&&this.$element.empty(),this._retryCount=0,l.default(r.default(h.prototype),"exit",this).call(this)}},{key:"reset",value:function(){null!=this._media&&"function"==typeof this._media.pause&&(this._media.paused||this._pauseMedia()),this._pendingSet=[],this._loadstart=!1,this._suspend=!1,this._canplay=!1,this._canplaythrough=!1,this._retryCount=0,this._haveStarted=!1}},{key:"set",value:function(e,t,i){if(null!=this._media)switch(e){case"currentTime":return!isNaN(parseFloat(t))&&t>=0&&(t<.1&&(t=.1),this._isIE&&isNaN(this._media.duration)||!this._canplaythrough&&this._isSafari?this._pendingSet.push({key:e,value:t}):this._media.currentTime=t,!0);case"muted":return"boolean"==typeof t&&(this._muted=t,this._effectuateVolumeAndMuted(),!0);case"src":if("string"==typeof t||void 0!==t&&null==t){var n;this._retryCount=0,t!=this._media.currentSrc&&(this._suspend=!1,this._canplay=!1,this._canplaythrough=!1);try{this._antiFlickerHack&&this.$media&&this.$media.css("visibility","hidden"),this._media.src=t}catch(e){return!1}return"AUDIO"!=this._media.tagName&&"VIDEO"!=this._media.tagName||this._loadOnFirstTouch(),this._canAutoPlay||this.$media&&this.$media.data("canplay"),null===(n=this.$media)||void 0===n||n.show(),!0}return!1;case"volume":return!isNaN(parseFloat(t))&&t>=0&&t<=1&&(this._volume=t,this._effectuateVolumeAndMuted(),!0);case"playbackRate":return!isNaN(parseFloat(t))&&(!!this._media&&(this._media.playbackRate=t));default:return l.default(r.default(h.prototype),"set",this).call(this,e,t)}}},{key:"_effectuateVolumeAndMuted",value:function(){var e=this._muted?!!this._muted:!!(this._volume<=0);return this._media&&this._media.muted!==e&&(this._media.muted=e),this._media&&this._media.volume!==this._volume&&(this._media.volume=this._volume),e}},{key:"get",value:function(e){if(null!=this._media)switch(e){case"buffered":var t=this._media.buffered;if(t){for(var i=new Array,n=new Array,a=0;a<t.length;a++)i[a]=t.start(a),n[a]=t.end(a);t.start=i,t.end=n}else t=0;return t;case"currentTime":return this._media.currentTime;case"duration":return this._media.duration||0;case"ended":return null;case"error":return this._media.error;case"muted":return this._muted&&this._media.muted;case"networkState":return this._media.networkState;case"paused":return!(!this._isIE||1!=this._media.ended)||this._media.paused;case"readyState":return this._media.readyState;case"seekable":return this._media.seekable;case"src":case"currentSrc":return this._media.currentSrc;case"volume":return this._volume;case"videoWidth":return this._media.videoWidth;case"videoHeight":return this._media.videoHeight;case"mediaWidth":return this._getMediaWidth();case"mediaHeight":return this._getMediaHeight();case"canControlVolume":return this._canControlVolume;case"isLive":var o=this._media.seekable;return!o||o.length<=0;case"canControlPlaybackRate":return!!this._media&&void 0!==this._media.playbackRate;case"playbackRate":return!!this._media&&this._media.playbackRate;default:return l.default(r.default(h.prototype),"get",this).call(this,e)}}},{key:"play",value:function(e){return c.default("[Html5Head] play user action: "+e),this._pendingPlay=!0,this._shouldBePaused=!1,this._effectuateVolumeAndMuted(),this._playMedia(e),!0}},{key:"pause",value:function(){return this._pendingPlay=!1,this._shouldBePaused=!0,this._pauseMedia(),!0}},{key:"load",value:function(e){return this._loadMedia(e),this._pendingPlay&&(this._effectuateVolumeAndMuted(),this._playMedia(e)),!0}},{key:"on",value:function(e,t){}},{key:"toFront",value:function(){l.default(r.default(h.prototype),"toFront",this).call(this),this._useMediaManager&&this._mediaManager&&this.$media&&this.$element&&($parcel$interopDefault(d).contains(this.$element.get(0),this.$media.get(0))||this.$media.prependTo(this.$element))}},{key:"_playMedia",value:function(e){if(this._media)if(this._useMediaManager&&this._mediaManager)c.default("[Html5Head] going to call play() on mediaManager having src: "+this._media.src),this._mediaManager.play(e,this._media.tagName);else if(c.default("[Html5Head] going to call play() on media element having src: "+this._media.src),this._media_pauseDesired=!1,this._media.play&&!this._media_promise&&(this._media_promise=this._media.play(),this._media_promise&&this._media_promise.then&&this._media_promise.catch)){var t=this;this._media_promise.then((function(){t._media_promise=null})).catch((function(i){if(t._media_promise=null,i&&i.name&&c.default("[Html5Head] play promise error.name: "+i.name),t._retryOnPlayFailed||t._autoMuteIfNeededForAutoPlay)if(t._retryCount<5&&i&&"NotAllowedError"==i.name&&t._canAutoPlayMuted){for(t._retryCount++;t._pendingSet.length>0;){var n=t._pendingSet.shift();"muted"!==n.key&&"volume"!==n.key&&t.set(n.key,n.value)}t.set("muted",!0),t.set("volume",0),t._playMedia(e)}else t._retryCount<5&&i&&i.name}))}}},{key:"_pauseMedia",value:function(){if(this._media)if(this._useMediaManager&&this._mediaManager)this._mediaManager.pause();else if(this._media.pause)if(this._media_promise&&this._media_promise.then){this._media_pauseDesired=!0;var e=this;this._media_promise.then((function(){if(e._media_pauseDesired){var t=e._media.pause();t&&t.catch&&t.catch((function(e){}))}}))}else{var t=this._media.pause();t&&t.catch&&t.catch((function(e){}))}}},{key:"_loadMedia",value:function(e){if(this._media)if(this._useMediaManager&&this._mediaManager)c.default("[Html5Head] going to call load() on mediaManager having src: "+this._media.src),this._mediaManager.load(e,this._media"[Html5Head] going to call load() on media element having src: "+this._media.src),this._media.load)if(this._media_promise&&this._media_promise.then){var t=this;this._media_promise.then((function(){t._media.load()}))}else this._media.load()}},{key:"_loadOnFirstTouch",value:function(){null!=this._media&&this._opts&&this._opts._loadOnTouch&&(window.addEventListener("touchstart",this._onWindowTouchstartBound,{passive:!0}),this.$wrapper&&this.$wrapper.on("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBound))}},{key:"_onWindowTouchstart",value:function(e){window.removeEventListener("touchstart",this._onWindowTouchstartBound),this._pendingPlay?(this._effectuateVolumeAndMuted(),this._playMedia(!0)):this._loadMedia(!0)}},{key:"_onAutoPlayCheckReady",value:function(e,t){t&&!0===t.autoPlay&&window.removeEventListener("touchstart",this._onWindowTouchstartBound)}},{key:"_onPlayoutChanged",value:function(e,t){t&&void 0!==t.playoutData&&(void 0!==t.playoutData.commercials&&(this._antiFlickerHack=!0),this._antiFlickerHack=this._antiFlickerHack&&!this._opts.addNativeControls,void 0!==t.playoutData.forceIOSNativeVideo&&(this._forceIOSNativeVideo="true"==t.playoutData.forceIOSNativeVideo),void 0!==t.playoutData.forceAndroidNativeVideo&&(this._forceAndroidNativeVideo="true"==t.playoutData.forceAndroidNativeVideo))}},{key:"_getMediaWidth",value:function(){}},{key:"_getMediaHeight",value:function(){}},{key:"_onPageHide",value:function(e){this._useMediaManager&&this._mediaManager||(this._savedMedia="<"+this.$media.prop("tagName").toLowerCase()+' webkit-playsinline src="'+this.$media.attr("src")+'" style="'+this.$media.attr("style")+'" />',this._previousCurrentTime=this._media.currentTime,this._preSwitchPlaying=this._playing)}},{key:"_onPageShow",value:function(e){var t,i;if(!this._useMediaManager||!this._mediaManager){var n=this;|void 0===t?void 0:t.void 0===i?void 0:i.tagName))){var a="pause.tmp"+n._eventNS+" play.tmp"+n._eventNS,o=setTimeout((function(){n.$media.off(a),n._transplantElement()}),300);n.$media.on(a,(function(e){clearTimeout(o),n.$media.off(a)})),n._preSwitchPlaying?(this._pauseMedia(),this._playMedia(!1)):(this._playMedia(!1),this._pauseMedia())}}}},{key:"_transplantElement",value:function(){if(!this._useMediaManager||!this._mediaManager){var e=this;this.$element.triggerHandler("pause"),this._unbindMediaEvents(),this._previousCurrentTime&&this._pendingSet.push({key:"currentTime",value:this._previousCurrentTime});var t=$parcel$interopDefault(d)(this._savedMedia);this.$media.remove(),t.appendTo(this.$element),this.$media=t,this._media=t[0],this._bindMediaEvents(),$parcel$interopDefault(d)(window).one("touchstart",(function(){e._preSwitchPlaying?t[0].play():t[0].load()}))}}},{key:"_bindMediaEvents",value:function(){null!=this.$media&&(this.$media.on("playing",this._onEventBound),this.$media.on("pause",this._onEventBound),this.$media.on("durationchange",this._onEventBound),this.$media.on("timeupdate",this._onEventBound),this.$media.on("volumechange",this._onEventBound),this.$media.on("canplay",this._onEventBound),this.$media.on("seeked",this._onEventBound),this.$media.on("loadstart",this._onEventBound),this.$media.on("progress",this._onEventBound),this.$media.on("suspend",this._onEventBound),this.$media.on("abort",this._onEventBound),this.$media.on("error",this._onEventBound),this.$media.on("emptied",this._onEventBound),this.$media.on("stalled",this._onEventBound),this.$media.on("loadedmetadata",this._onEventBound),this.$media.on("loadeddata",this._onEventBound),this.$media.on("canplaythrough",this._onEventBound),this.$media.on("waiting",this._onEventBound),this.$media.on("seeking",this._onEventBound),this.$media.on("ended",this._onEventBound),this.$media.on("play",this._onEventBound),this.$media.on("ratechange",this._onEventBound),this.$media.on("resize",this._onEventBound))}},{key:"_unbindMediaEvents",value:function(){null!=this.$media&&(this.$media.off("playing",this._onEventBound),this.$media.off("pause",this._onEventBound),this.$media.off("durationchange",this._onEventBound),this.$media.off("timeupdate",this._onEventBound),this.$media.off("volumechange",this._onEventBound),this.$media.off("canplay",this._onEventBound),this.$media.off("seeked",this._onEventBound),this.$media.off("loadstart",this._onEventBound),this.$media.off("progress",this._onEventBound),this.$media.off("suspend",this._onEventBound),this.$media.off("abort",this._onEventBound),this.$media.off("error",this._onEventBound),this.$media.off("emptied",this._onEventBound),this.$media.off("stalled",this._onEventBound),this.$media.off("loadedmetadata",this._onEventBound),this.$media.off("loadeddata",this._onEventBound),this.$media.off("canplaythrough",this._onEventBound),this.$media.off("waiting",this._onEventBound),this.$media.off("seeking",this._onEventBound),this.$media.off("ended",this._onEventBound),this.$media.off("play",this._onEventBound),this.$media.off("ratechange",this._onEventBound),this.$media.off("resize",this._onEventBound))}},{key:"_onEvent",value:function(e){if(e.stopPropagation(),this._isIE&&"ended"==e.type&&this.$element.triggerHandler("pause"),this._isLiveStream&&this._isAndroid&&"ended"==e.type)return this._effectuateVolumeAndMuted(),void this._playMedia(!1);if("loadstart"===e.type||"stalled"===e.type){var t=this.get("avoidPreloadSrc");null==t&&null!=this.$element&&this.$element.triggerHandler(e.type)}else null!=this.$element&&this.$element.triggerHandler(e.type);switch(e.type){case"loadstart":this._loadstart=!0,this._detections&&(this._canAutoPlay=this._detections.canAutoPlay,this._canAutoPlayMuted=this._detections.canAutoPlayMuted),(this._canAutoPlay||this.$media&&this.$media.data("canplay")||this._muted&&this._canAutoPlayMuted)&&null!=this.$element&&this.$element.triggerHandler("couldplay");break;case"canplay":this.$media&&this.$media.data("canplay",!0),this._canplay=!0;break;case"progress":if(this._canplaythrough)for(;this._pendingSet.length>0;){var i=this._pendingSet.shift();this.set(i.key,i.value)}break;case"canplaythrough":if(this._canplaythrough=!0,!this._isiOS)for(;this._pendingSet.length>0;){i=this._pendingSet.shift();this.set(i.key,i.value)}break;case"playing":this._pendingPlay=!1,this._haveStarted=!0,this._loadstart=!0,this._antiFlickerHack&&this.$media&&this.$media.css("visibility","inherit"),window.removeEventListener("touchstart",this._onWindowTouchstartBound),this._playing||(this._playing=!0,p.default.requestAnimFrame(this._animationFrameCallbackBound));this.$clickToPlayLayer&&this.$clickToPlayLayer.hide();break;case"pause":case"error":case"ended":this._playing=!1;break;case"abort":this._playing=!1,this._canplay=!1,this._canplaythrough=!1;break;case"seeking":this._seeking=!0;break;case"seeked":this._seeking=!1;break;case"durationchange":this._duration=this._media.duration}}},{key:"enableTimeUpdates",value:function(){this._timeUpdatesEnabled=!0}},{key:"disableTimeUpdates",value:function(){this._timeUpdatesEnabled=!1}},{key:"showAirPlayTargetPicker",value:function(){var e=!1;return this._media&&this._media.webkitShowPlaybackTargetPicker&&(this._media.setAttribute("preload","metadata"),this._media.setAttribute("x-webkit-airplay","allow"),this._antiFlickerHack&&this.$media&&(this._antiFlickerHack=!1,this.$media.css("visibility","visible")),this._isiOS&&this._useMediaManager&&this._mediaManager&&this._mediaManager.setSingleMediaMode(this._media.tagName),this._media.webkitShowPlaybackTargetPicker(),e=!0),e}},{key:"_animationFrameCallback",value:function(){this._exiting||this._playing&&(p.default.requestAnimFrame(this._animationFrameCallbackBound),this._timeUpdatesEnabled&&!this._seeking&&this.$element.triggerHandler("timeupdate"))}}]),h}(h.default)})),parcelRequire.register("3ymwn",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=parcelRequire("1MxPP"),o=function(){"use strict";function e(t,n){i.default(this,e),this.$element=null,this._opts=void 0!==n?n:null,this._eventNS="head"+String(Math.random()).replace(".",""),this._started=!1,this._playing=!1,this._seeking=!1,this._exiting=!1,void 0!==t&&null!=t&&(this.$element=t)}return n.default(e,[{key:"exit",value:function(){return null!=this.$element&&(this.$element=null),null}},{key:"load",value:function(e){}},{key:"reset",value:function(){}},{key:"toFront",value:function(){null!=this.$element&&this.$element.css({zIndex:1,visibility:"inherit"}).siblings(".bb-head").css({zIndex:0,visibility:"hidden"})}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"set",value:function(e,t){switch(e){case"currentTime":case"muted":case"src":case"volume":a.default("Head set: "+e+"  is not implemented in current head")}}},{key:"get",value:function(e){switch(e){case"currentTime":case"duration":case"muted":case"volume":case"currentSrc":case"error":case"src":case"buffered":case"ended":case"networkState":case"paused":case"readyState":case"seekable":case"videoWidth":case"videoHeight":case"canControlVolume":case"canControlPlaybackRate":return a.default("Head get: "+e+"  is not implemented in current head"),null}}},{key:"restretch",value:function(){}},{key:"enableTimeUpdates",value:function(){}},{key:"disableTimeUpdates",value:function(){}},{key:"showAirPlayTargetPicker",value:function(){}}]),e}()})),parcelRequire.register("6gju3",(function(e,t){$parcel$export(e.exports,"default",(function(){return d})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("b3HW6"),s=parcelRequire("2PjQe"),l=parcelRequire("8DKpv");parcelRequire("2UpbQ");var r=parcelRequire("eV1xY"),d=function(e){"use strict";i.default(d,e);var t=n.default(d);function d(e,i){var n;return a.default(this,d),(n=t.call(this,e,i)).firstLoad=!0,n.$preloadImage=$parcel$interopDefault(r)(document.createElement("img")),n.$preloadImage.hide(),n._canControlVolume=!1,n._loaded=!1,n._imageWidth=null,n._imageHeight=null,n._playing=!1,null!=n.$element&&(n.$element.addClass("bb-head-html5-image"),n.$media=$parcel$interopDefault(r)(document.createElement("img")).appendTo(n.$element).css({width:"100%",height:"100%"}),n.$media.css({maxWidth:"none",maxHeight:"none",display:"inline-block",top:0,left:0,position:"absolute"}),n._media=n.$media.get(0),n.$media.attr("aria-hidden","true"),n._bindMediaEvents()),n}return o.default(d,[{key:"set",value:function(e,t){if(null!=this._media&&"src"===e){if("string"==typeof t){if(this._loaded=!1,this.$element.triggerHandler("loadstart"),this.firstLoad){var i=this;this._media.src=t,window.setTimeout((function(e){i.$media.trigger("load")}),5e3),this.firstLoad=!1}else this._preloadImage(t);return!0}return void 0!==t&&null==t&&(this._media.src=t,this._imageWidth=0,this._imageHeight=0,!0)}}},{key:"get",value:function(e){if(null!=this._media)switch(e){case"currentTime":return 0;case"src":case"currentSrc":return this._media.src;case"isLive":return!1;case"seekable":return{length:0,start:function(e){return 0},end:function(e){return 0}};case"mediaWidth":return this._getMediaWidth();case"mediaHeight":return this._getMediaHeight();default:return s.default(l.default(d.prototype),"get",this).call(this,e)}}},{key:"play",value:function(){return this.$element.triggerHandler("play"),this._playing||(this._playing=!0,this.$element.triggerHandler("playing")),!0}},{key:"pause",value:function(){return!1}},{key:"restretch",value:function(){}},{key:"_getMediaWidth",value:function(){return this._imageWidth}},{key:"_getMediaHeight",value:function(){return this._imageHeight}},{key:"_bindMediaEvents",value:function(){null!=this.$media&&this._onEventBound&&(this.$media.on("load",this._onEventBound),this.$media.on("error",this._onEventBound))}},{key:"_unbindMediaEvents",value:function(){null!=this.$media&&this._onEventBound&&(this.$media.off("load",this._onEventBound),this.$media.off("error",this._onEventBound))}},{key:"_onEvent",value:function(e){switch(e.stopPropagation(),e.type){case"load":var t,i;if(!this._loaded)this._loaded=!0,this._imageWidth=null===(t=this._media)||void 0===t?void 0:t.naturalWidth,this._imageHeight=null===(i=this._media)||void 0===i?void 0:i.naturalHeight,null!=this.$element&&(this.$element.triggerHandler("loadedmetadata"),this.$element.triggerHandler("loadeddata"),this.$element.triggerHandler("canplay"),this.$element.triggerHandler("canplaythrough"));break;case"error":this._loaded=!0,null!=this.$elemer")}}},{key:"_preloadImage",value:function(e){var t=this;this.$media.attr("src")!=e&&(this.$preloadImage[0].onload=function(){var i=t;t.$media.attr("src",e),window.setTimeout((function(e){i.$media.trigger("load")}),5e3)},this.$preloadImage.attr("src",e))}}]),d}(parcelRequire("9LZNl").default)})),parcelRequire.register("2wH3A",(function(e,t){$parcel$export(e.exports,"default",(function(){return _})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv");parcelRequire("2UpbQ");var d=parcelRequire("eV1xY"),u=parcelRequire("cWdJP"),c=parcelRequire("1MxPP"),h=parcelRequire("9LZNl"),p=parcelRequire("4AQp6"),_=function(e){"use strict";i.default(h,e);var t=n.default(h);function h(e,i){var n;if(a.default(this,h),(n=t.call(this,e,i))._canControlVolume=!0,n._bufferTime=10,n._src=null,n._frameRate=25,n._frameWidth=768,n._frameHeight=432,n._segmentDuration=.04,n._segmentNr=0,n._avoidPreload=!1,n._pendingSet=[],n._pretendStall=!1,n._pretendMute=!1,n._havePlayed=!1,n._loadstart=!1,n._loadstart_audio=!1,n._loadedmetadata=!1,n._loadeddata=!1,n._progress=!1,n._canplaythrough_audio=!1,n._muted=!1,n._currentTime=0,n._time_start=0,n._headController=null,n._error=null,n.$cinema_1=null,n._cinema_1=null,n._vendorPrefixes=["","-o-","-ms-","-moz-","-webkit-","-khtml-"],n._onCinema1LoadedMetadataBound=n._onCinema1LoadedMetadata.bind(o.default(n)),n._onCinema1EventBound=n._onCinema1Event.bind(o.default(n)),n._onTimeUpdateBound=n._onTimeUpdate.bind(o.default(n)),null!=n.$element){n.$element.addClass("bb-head-html5-seek"),n.$element.append('<style type="text/css">.bb_wrapper .bb-head-html5-seek audio{max-width:none !important;max-height:none !important;} .bb_wrapper .IIV::-webkit-media-controls-play-button, .bb_wrapper .IIV::-webkit-media-controls-start-playback-button { opacity: 0; pointer-events: none; width: 5px; }</style>');var s=u.default.getService(n._opts.playerAliasOrId).getInstance("Detections");if(void 0!==s&&null!=s&&(n._avoidPreload=s.avoidPreload),"true"===n.$element.attr("data-useMediaManager")?(n._useMediaManager=!0,n._mediaManager&&(n.$media=$parcel$interopDefault(d)(n._mediaManager.getMedia("AUDIO")),n.$cinema_1=$parcel$interopDefault(d)(n._mediaManager.getMedia("VIDEO")),$parcel$interopDefault(d).contains(n.$element.get(0),n.$cinema_1.get(0))||n.$cinema_1.prependTo(n.$element))):"true"==n.$element.attr("data-borrowHtml5Media")&&(n._headController=u.default.getService(n._opts.playerAliasOrId).getInstance("HeadController"),void 0!==n._headController&&null!=n._headController&&(n.$media=n._headController.borrowHtml5Audio(),n.$media.attr("webkit-playsinline",""),n.$media.attr("playsinline",""),n.$cinema_1=n._headController.borrowHtml5Video(),n.$cinema_1.addClass("IIV"),n.$cinema_1.attr("webkit-playsinline",""),n.$cinema_1.attr("playsinline",""),n.$cinema_1.attr("muted",""))),null==n.$media&&(n.$media=$parcel$interopDefault(d)(document.createElement("audio")).appendTo(n.$element),n.$media.attr("webkit-playsinline",""),n.$media.attr("playsinline",""),n.$media.attr("preload",n._avoidPreload?"none":"metadata"),n.$media.css({width:"100%",height:"100%"}),n.$media.css({maxWidth:"none",maxHeight:"none"})),null==n.$cinema_1&&(n.$cinema_1=$parcel$interopDefault(d)(document.createElement("video")).appendTo(n.$element),n.$cinema_1.css({width:"100%",height:"100%"}),n.$cinema_1.attr("crossOrigin",""),n.$cinema_1.attr("webkit-playsinline",""),n.$cinema_1.attr("playsinline",""),n.$cinema_1.attr("muted",""),n.$cinema_1.attr("preload","metadata"),n.$cinema_1.addClass("IIV")),null!=n.$media&&n.$media.length<=0&&(n.$media=null),null!=n.$media){n._media=n.$media.get(0);var l=n._media.src;if(void 0!==(c=n._media.currentSrc)&&null!=c&&""!=c&&null==c.match(/\/null$/))n._savedSrc=c;else if(void 0!==l&&null!=l&&""!=l&&null==l.match(/\/null$/))n._savedSrc=l;else if(n._media.canPlayType("audio/ogg"))n._media.src="data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=";else{var r=void 0!==n._opts.playerPath?n._opts.playerPath:"";null!=r&&""!=r&&null==r.match(/\/$/)&&(r+="/"),n._media.src=r+"dummy.mp3"}}if(null!=n.$cinema_1&&(n._cinema_1=n.$cinema_1.get(0),"true"==n.$element.attr("data-borrowHtml5Media"))){var c;l=n._cinema_1.src;void 0!==(c=n._cinema_1.currentSrc)&&null!=c&&""!=c&&null==c.match(/^data:$/)?n._cinema_1_savedSrc=c:void 0!==l&&null!=l&&""!=l&&null==l.match(/^data:$/)&&(n._cinema_1_savedSrc=l),n._cinema_1_savedStyles={height:n._cinema_1.style.height,width:n._cinema_1.style.width,display:n._cinema_1.style.display};for(var p=0;p<n._vendorPrefixes.length;p++)n.$cinema_1.css(n._vendorPrefixes[p]+"transform")&&(n._cinema_1_savedStyles[n._vendorPrefixes[p]+"transform"]=n.$cinema_1.css(n._vendorPrefixes[p]+"transform"),n.$cinema_1.css(n._vendorPrefixes[p]+"transform","scale(1.0, 1.0)"))}n.$cinema_1.on("loadedmetadata",n._onCinema1LoadedMetadataBound),n.$cinema_1.on("canplay canplaythrough durationchange emptied ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting",n._onCinema1EventBound),n.$element.on("timeupdate",n._onTimeUpdateBound),n._bindMediaEvents()}return n}return s.default(h,[{key:"exit",value:function(){return this.$element&&this.$element.off("timeupdate",this._onTimeUpdateBound),null!=this.$cinema_1&&(this.$cinema_1.off("loadedmetadata",this._onCinema1LoadedMetadataBound),this.$cinema_1.off("canplay canplaythrough durationchange emptied ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting",this._onCinema1EventBound),this._cinema_1_savedStyles&&this.$cinema_1.css(this._cinema_1_savedStyles)),this._headController&&(null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc,this._media.load()),this._headController.returnHtml5Audio(),this._savedSrc=null),this.$media=null,l.default(r.default(h.prototype),"exit",this).call(this)}},{key:"reset",value:function(){this.pause(),this._pendingPlay=!1,this._pendingSet=[],this._pretendStall=!1,this._loadstart=!1,this._loadedmetadata=!1,this._loadeddata=!1,this._canplay=!1,this._progress=!1,this._canplaythrough=!1}},{key:"set",value:function(e,t){var i=!1;if(void 0!==t)switch(e){case"src":t==this._src||"string"!=typeof t&&null!=t||(this._src=t,void 0!==this._src&&null!=this._src&&(this._pendingPlay=!1,this._pendingSet=[],this._pretendStall=!1,this._segmentNr=0,this._loadstart=!1,this._loadstart_audio=!1,this._loadedmetadata=!1,this._loadeddata=!1,this._canplay=!1,this._progress=!1,this._canplaythrough=!1,this._canplaythrough_audio=!1,this._playing=!1,this._frameRate=25,this._frameWidth=768,this._frameHeight=432,this._segmentDuration=.04,this._duration=0,this._media&&(this._media.src=this._src),this._cinema_1&&(this._cinema_1.src=this._src),this._muted&&null!=this.$element&&this.$element.triggerHandler("couldplay")),i=!0);break;case"volume":if(!(!isNaN(parseFloat(t))&&t>=0&&t<=1))return!1;t=t<=.01;case"muted":"boolean"==typeof t&&(t!=this._muted?(this._muted=t,this._muted?(this._media&&(this._currentTime=this._media.currentTime),this._playing||this._pendingPlay?(this._pretendMute=!0,this._playTimer(),this._media&&this._media.pause()):null!=this.$element&&this.$element.triggerHandler("volumechange")):(this._playing||this._pendingPlay?(this._pretendMute=!0,this._media&&this._media.play(),this._pauseTimer()):null!=this.$element&&this.$element.triggerHandler("volumechange"),this._canplaythrough_audio?this._media&&(this._media.currentTime=this._currentTime>.1?this._currentTime:.1):this._pendingSet.push({key:"currentTime",value:this._currentTime}))):null!=this.$element&&this.$element.triggerHandler("volumechange"),i=!0);break;case"currentTime":if(!isNaN(parseFloat(t))&&t>=0){if(this._muted){if(this._currentTime=t,this._playing){var n=new Date;this._time_start=n.getTime()-1e3*this._currentTime}null!=this.$element&&this.$element.triggerHandler("seeked")}else this._canplaythrough_audio?this._media.currentTime=t>.1?t:.1:this._pendingSet.push({key:e,value:t});i=!0}break;default:i=l.default(r.default(h.prototype),"set",this).call(this,e,t)}return i}},{key:"get",value:function(e){if("src"==e)return this._src;if("videoWidth"==e)return this._frameWidth;if("videoHeight"==e)return this._frameHeight;if("currentTime"==e){var t=null;if(this._muted)if(this._playing&&!this._stalled)t=((new Date).getTime()-this._time_start)/1e3;else t=this._currentTime;else t=this._media.currentTime;return t}return"duration"==e?this._canplaythrough_audio?this._media.duration:this._duration:"error"==e?this._error:l.default(r.default(h.prototype),"get",this).call(this,e)}},{key:"play",value:function(){return c.default("[Html5SeekHead] play currentTime: "+this._currentTime),this._pendingPlay=!0,this._muted?(this._pretendMute=!0,null!=this.$element&&this.$element.triggerHandler("play"),this._canplaythrough_audio||this._media&&this._media.load(),this._playTimer()):(this._pretendMute=!1,this._media&&this._media.play()),this._detections&&this._detections.isLinkedInAppIOS&&this._cinema_1.load(),!0}},{key:"pause",value:function(){return this._pendingPlay=!1,this._muted?(this._pretendMute=!0,this._pauseTimer(),this._playing&&(this._playing=!1,null!=this.$element&&this.$element.triggerHandler("pause"))):(this._pretendMute=!1,this._media&&this._media.pause()),!0}},{key:"load",value:function(){return this._muted?(this._currentTime=0,this._loadTimer(),this._pendingPlay&&this._playTimer()):this._media&&(this._media.load(),this._pendingPlay&&this._media.play()),!0}},{key:"_pauseTimer",value:function(){if(null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._playing&&!this._stalled){var e=new Date;this._currentTime=(e.getTime()-this._time_start)/1e3}this._playing&&this._handleTimerTick()}},{key:"_playTimer",value:function(){var e=new Date;if(this._time_start=e.getTime()-1e3*this._currentTime,null==this._timer){var t=this;this._timer=setInterval((function(){t._handleTimerTick()}),200)}this._handleTimerTick()}},{key:"_loadTimer",value:function(){this._loadstart||(this._loadstart=!0,null!=this.$element&&this.$element.triggerHandler("loadstart")),this._loadedmetadata_cinema_1&&(this._loadedmetadata||(this._loadedmetadata=!0,null!=this.$element&&this.$element.triggerHandler("loadedmetadata"),null!=this.$element&&this.$element.triggerHandler("durationchange")),this._loadeddata||(this._loadeddata=!0,null!=this.$element&&this.$element.triggerHandler("loadeddata")),this._canplay||(this._canplay=!0,null!=this.$element&&this.$element.triggerHandler("canplay")),this._progress||(this._progress=!0,null!=this.$element&&this.$element.triggerHandler("progress")),this._canplaythrough||(this._canplaythrough=!0,null!=this.$element&&this.$element.triggerHandler("canplaythrough")))}},{key:"_handleTimerTick",value:function(){if(this._playing&&!this._stalled){var e=new Date;this._currentTime=(e.getTime()-this._time_start)/1e3}this._loadTimer(),this._loadedmetadata_cinema_1&&(this._currentTime<this._duration?(this._ended=!1,this._playing||(this._playing=!0,null!=this.$element&&this.$element.triggerHandler("playing"),this._pendingPlay=!1,this._animationFrameCallbackBound&&p.default.requestAnimFrame(this._animationFrameCallbackBound))):(null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._currentTime=this._duration,this._playing&&(this._playing=!1,null!=this.$element&&this.$element.triggerHandler("pause"),this._currentTime=this._duration),this._ended||(this._ended=!0,null!=this.$element&&this.$element.triggerHandler("ended"))))}},{key:"restretch",value:function(e,t){if(null!=this.$element&&this.$element.parent().length>0){var i=this.$element.parent()[0];if(void 0!==i&&null!=i){var n=void 0!==i.style.width&&i.style.width.match(/px/)?parseInt(i.style.width.replace("px","")):this.$element.width(),a=void 0!==i.style.height&&i.style.height.match(/px/)?parseInt(i.style.height.replace("px","")):this.$element.height();n>0&&a>0&&this.$cinema_A&&(this.$cinema_A.attr("width",n),this.$cinema_A.attr("height",a))}}}},{key:"_onTimeUpdate",value:function(e){var t=this.get("currentTime");if(t<this._duration){var i=1+Math.floor(t/this._segmentDuration);this.$cinema_A=this.$cinema_1,this.$cinema_A.get(0).currentTime=(i-1)*this._segmentDuration}}},{key:"_onCinema1LoadedMetadata",value:function(e){this._loadedmetadata_cinema_1=!0,this._cinema_1&&(this._frameRate=25,this._cinema_1.videoWidthis._frameWidth=parseInt(this._cinema_1.videoWidth),this._frameHeight=parseInt(this._cinema_1.videoHeight)),this._segmentDuration=1/this._frameRate)}},{key:"_onCinema1Event",value:function(e){e.stopPropagation()}},{key:"_onEvent",value:function(e){if(e.stopPropagation(),this._loadstart_audio||"loadstart"==e.type){switch(e.type){case"timeupdate":if(this._media&&this._media.currentTime>=this._duration){if(this._playing&&this._media.pause(),this._ended)return;this._ended=!0,e.type="ended"}break;case"loadstart":if(this._media.currentSrc.replace(/^[a-z:]*\/\//,"")!=this._src.replace(/^[a-z:]*\/\//,""))return;if(this._loadstart_audio=!0,this._loadstart)return;this._loadstart=!0,(this._canAutoPlay||this.$media&&this.$media.data("canplay")||this._muted)&&null!=this.$element&&this.$element.triggerHandler("couldplay"),this._cinema_1&&this._cinema_1.load();break;case"loadedmetadata":if(this._loadedmetadata)return;this._loadedmetadata=!0,this._duration=this._media.duration;break;case"loadeddata":if(this._loadeddata)return;this._loadeddata=!0;break;case"canplay":if(this.$media&&this.$media.data("canplay",!0),this._canplay)return;this._canplay=!0,this._cinema_1&&this._cinema_1.load();break;case"progress":if(this._progress=!0,this._canplaythrough_audio)for(;this._pendingSet.length>0;){var t=this._pendingSet.shift();this.set(t.key,t.value)}break;case"canplaythrough":if(this._canplaythrough_audio=!0,!this._isiOS)for(;this._pendingSet.length>0;){t=this._pendingSet.shift();this.set(t.key,t.value)}if(this._canplaythrough)return;this._canplaythrough=!0;break;case"play":if(this._pretendMute)return;if(this._pretendStall)return;break;case"playing":this._ended=!1,this._pendingPlay=!1,this._havePlayed=!0,this._onWindowTouchstartBound&&window.removeEventListener("touchstart",this._onWindowTouchstartBound),this._pretendMute&&(this._pretendMute=!1,e.type="volumechange"),this._pretendStall&&(this._pretendStall=!1,e.type="volumechange"),this._playing||(this._playing=!0,this._animationFrameCallbackBound&&p.default.requestAnimFrame(this._animationFrameCallbackBound));break;case"pause":this._pretendMute?e.type="volumechange":this._pretendStall?e.type="stalled":this._playing=!1;break;case"stalled":if(this._pretendStall||this._pretendMute||this._muted)return;this._stalled=!0;break;case"error":if(this._pretendStall||this._pretendMute||this._muted)return;this._playing=!1,this._error=this._media.error;break;case"ended":if(this._playing=!1,this._isIE&&null!=this.$element&&this.$element.triggerHandler("pause"),this._isLiveStream&&this._isAndroid)return void(this._media&&this._media.play());this._ended=!0;break;case"abort":if(this._canplaythrough_audio=!1,this._pretendStall||this._pretendMute||this._muted)return;this._playing=!1,this._canplay=!1,this._canplaythrough=!1;break;case"seeking":if(this._pretendMute)return;this._seeking=!0;break;case"seeked":if(this._pretendMute)return;this._seeking=!1;break;case"durationchange":this._media&&this._media.duration>0&&(this._duration=this._duration>0?Math.min(this._media.duration,this._duration):this._media.duration)}null!=this.$element&&this.$element.triggerHandler(e.type)}}},{key:"_getMediaWidth",value:function(){return this._frameWidth}},{key:"_getMediaHeight",value:function(){return this._frameHeight}},{key:"_animationFrameCallback",value:function(){this._exiting||this._playing&&(this._animationFrameCallbackBound&&p.default.requestAnimFrame(this._animationFrameCallbackBound),this.$element.triggerHandler("timeupdate"))}}]),h}(h.default)})),parcelRequire.register("cvAXk",(function(e,t){$parcel$export(e.exports,"default",(function(){return p})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=parcelRequire("cWdJP"),u=parcelRequire("1MxPP"),c=parcelRequire("1RsBM"),h=parcelRequire("4AQp6"),p=function(e){"use strict";i.default(c,e);var t=n.default(c);function c(e,i){var n;if(a.default(this,c),(n=t.call(this,e,i))._fps=10,n._startTime=0,n._fpsInterval=1e3/n._fps,n._then=0,n._elapsed=0,n._broker=null,n._helper=null,n._onLoadedMetaDataBound=n._onLoadedMetaData.bind(o.default(n)),n._onElementPlayingBound=n._onElementPlaying.bind(o.default(n)),null!=n.$element&&(n.$element.on("loadedmetadata",n._onLoadedMetaDataBound),n.$element.on("playing",n._onElementPlayingBound),void 0!==d.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker"))){n._broker=d.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker");var s=n._broker.getLoadedPlayerComponent("WebGL360Helper");s&&(n._helper=new s(n.$element,n._opts),n._helper.setMedia(n.$canvas))}return n}return s.default(c,[{key:"exit",value:function(){return this._helper&&(this._helper=this._helper.exit()),null!=this.$element&&(this.$element.off("loadedmetadata",this._onLoadedMetaDataBound),this.$element.off("playing",this._onElementPlayingBound)),l.default(r.default(c.prototype),"exit",this).call(this)}},{key:"play",value:function(e){u.default("[Html5SpriteGL360Head] play userAction: "+e),l.default(r.default(c.prototype),"play",this).call(this,e),this._helper&&this._helper.requestControls(e)}},{key:"load",value:function(e){l.default(r.default(c.prototype),"load",this).call(this,e),this._helper&&this._helper.requestControls(e)}},{key:"_onLoadedMetaData",value:function(e){this._videoWidth=this._getMediaWidth(),this._videoHeight=this._getMediaHeight(),this._videoWidth>0&&this._videoHeight>0&&this._helper&&this._helper.setMediaSize(this._videoWidth,this._videoHeight)}},{key:"_onElementPlaying",value:function(e){this._startTime=this._then=Date.now()}},{key:"_animationFrameCallback",value:function(){!this._exiting&&this._loadstart&&(this._animationFrameCallbackBound&&h.default.requestAnimFrame(this._animationFrameCallbackBound),this._playing&&this.$element.triggerHandler("timeupdate"),this._helper&&(this._elapsed=Date.now()-this._then,this._elapsed>this._fpsInterval&&(this._then=Date.now()-this._elapsed%this._fpsInterval,this._helper.renderContent()),this._helper.renderGL()))}},{key:"restretch",value:function(e,t){if(l.default(r.default(c.prototype),"restretch",this).call(this,e,t),null!=this.$element&&null!=this._media&&this.$element.closest(".bb-fitme")&&this.$element.closest(".bb-fitme")[0]){var i=this.$element.parent()[0],n=void 0!==i.style.width&&i.style.width.match(/px/)?parseInt(i.style.width.replace("px","")):this.$element.width(),a=void 0!==i.style.height&&i.style.height.match(/px/)?parseInt(i.style.height.replace("px","")):this.$element.height();n>0&&a>0&&this._helper&&this._helper.setSize(n,a)}}}]),c}(c.default)})),parcelRequire.register("1RsBM",(function(e,t){$parcel$export(e.exports,"default",(function(){return _})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv");parcelRequire("2UpbQ");var d=parcelRequire("eV1xY"),u=parcelRequire("cWdJP"),c=parcelRequire("1MxPP"),h=parcelRequire("9LZNl"),p=parcelRequire("4AQp6"),_=function(e){"use strict";i.default(h,e);var t=n.default(h);function h(e,i){var n;if(a.default(this,h),(n=t.call(this,e,i))._canControlVolume=!0,n._bufferTime=10,n._ajaxLoaded=!1,n._src=null,n._base=null,n._audioSrc=null,n._spriteSrc_pre=null,n._spriteSrc_post=null,n._frameRate=12,n._frameWidth=512,n._frameHeight=288,n._segmentDuration=1,n._end=0,n._segmentNr=0,n._maxSegmentNr=0,n._isSegmentLoaded={},n._isSegmentLoading={},n._avoidPreload=!1,n._pendingSet=[],n._pretendStall=!1,n._pretendMute=!1,n._havePlayed=!1,n._loadstart=!1,n._loadstart_audio=!1,n._loadedmetadata=!1,n._loadeddata=!1,n._progress=!1,n._canplaythrough_audio=!1,n._muted=!1,n._currentTime=0,n._time_start=0,n._headController=null,n._error=null,n._vendorPrefixes=["","-o-","-ms-","-moz-","-webkit-","-khtml-"],n._onTimeUpdateBound=n._onTimeUpdate.bind(o.default(n)),n._onSegmentLoadedBound=n._onSegmentLoaded.bind(o.default(n)),n._onSegmentErrorBound=n._onSegmentError.bind(o.default(n)),null!=n.$element){n.$element.addClass("bb-head-html5-sprite"),n.$element.append('<style type="text/css">.bb_wrapper .bb-head-html5-sprite audio{max-width:none !important;max-height:none !important;}</style>');var s=u.default.getService(n._opts.playerAliasOrId).getInstance("Detections");if(void 0!==s&&null!=s&&(n._avoidPreload=s.avoidPreload),"true"===n.$element.attr("data-useMediaManager")?(n._useMediaManager=!0,n._mediaManager&&(n.$media=$parcel$interopDefault(d)(n._mediaManager.getMedia("AUDIO")),$parcel$interopDefault(d).contains(n.$element.get(0),n.$media.get(0))||n.$media.prependTo(n.$element))):"true"==n.$element.attr("data-borrowHtml5Media")&&(n._headController=u.default.getService(n._opts.playerAliasOrId).getInstance("HeadController"),void 0!==n._headController&&null!=n._headController&&(n.$media=n._headController.borrowHtml5Audio())),null==n.$media&&(n.$media=$parcel$interopDefault(d)(document.createElement("audio")).appendTo(n.$element),n.$media.attr("playsinline",""),n.$media.attr("webkit-playsinline",""),n.$media.attr("controlsList","nodownload"),n.$media.attr("preload",n._avoidPreload?"none":"metadata"),n._opts&&n._opts.playoutData&&"true"===n._opts.playoutData.autoMute&&(n._muted=!0,n._effectuateVolumeAndMuted()),n.$media.css({width:"100%",height:"100%"}),n.$media.css({maxWidth:"none",maxHeight:"none"})),null!=n.$media&&n.$media.length<=0&&(n.$media=null),null!=n.$media){n._media=n.$media.get(0);var l=n._media.src,r=n._media.currentSrc;if(void 0!==r&&null!=r&&""!=r&&null==r.match(/\/null$/))n._savedSrc=r;else if(void 0!==l&&null!=l&&""!=l&&null==l.match(/\/null$/))n._savedSrc=l;else if(n._media.canPlayType("audio/ogg"))n._media.src="data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=";else{var c=void 0!==n._opts.playerPath?n._opts.playerPath:"";null!=c&&""!=c&&null==c.match(/\/$/)&&(c+="/"),n._media.src=c+"dummy.mp3"}}n.$cinema_1=$parcel$interopDefault(d)(document.createElement("img")).appendTo(n.$element),n.$cinema_1.css({display:"none"}),n.$cinema_1.get(0).crossOrigin="",n.$cinema_2=$parcel$interopDefault(d)(document.createElement("img")).appendTo(n.$element),n.$cinema_2.css({display:"none"}),n.$cinema_2.get(0).crossOrigin="",n.$canvas=$parcel$interopDefault(d)(document.createElement("canvas")).appendTo(n.$element),n.$canvas.css({width:"100%",height:"100%",maxWidth:"none",maxHeight:"none",position:"absolute",top:0,left:0,zIndex:3}),n.canvasImageContext=n.$canvas.get(0).getContext("2d"),n.$element.on("timeupdate",n._onTimeUpdateBound),n._bindMediaEvents()}return n}return s.default(h,[{key:"exit",value:function(){var e;return null===(e=this.$element)||void 0===e||e.off("timeupdate",this._onTimeUpdateBound),this._headController&&(null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc,this._loadMedia(!1)),this._headController.returnHtml5Audio(),this._savedSrc=null),this.$media=null,l.default(r.default(h.prototype),"exit",this).call(this)}},{key:"reset",value:function(){this.pause(),this._pendingPlay=!1,this._pendingSet=[],this._pretendStall=!1,this._ajaxLoaded=!1,this._loadstart=!1,this._loadedmetadata=!1,this._loadeddata=!1,this._canplay=!1,this._progress=!1,this._canplaythrough=!1}},{key:"set",value:function(e,t){var i=!1;if(void 0!==t)switch(e){case"src":if(t!=this._src&&("string"==typeof t||null==t)){if(this._src=t,void 0!==this._src&&nu[^\/]*$/,"/"),this._ajaxLoaded=!1,p.fetchData(this._src).then((function(e){e?n._ajaxSuccessHandler(e):n._ajaxErrorHandler(null,"error","No Data")})).catch((function(e){n._ajaxErrorHandler(null,e.status,e.message)}))}i=!0}break;case"volume":if(!(!isNaN(parseFloat(t))&&t>=0&&t<=1))return!1;t=t<=.01;case"muted":"boolean"==typeof t&&(t!=this._muted?(this._muted=t,this._muted?(this._media&&(this._currentTime=this._media.currentTime),this._playing||this._pendingPlay?(this._pretendMute=!0,this._playTimer(),this._pauseMedia()):null!=this.$element&&this.$element.triggerHandler("volumechange")):(this._playing||this._pendingPlay?(this._pretendMute=!0,this._playMedia(!1),this._pauseTimer()):null!=this.$element&&this.$element.triggerHandler("volumechange"),this._canplaythrough_audio?this._media&&(this._media.currentTime=this._currentTime>.1?this._currentTime:.1):this._pendingSet.push({key:"currentTime",value:this._currentTime}))):null!=this.$element&&this.$element.triggerHandler("volumechange"),i=!0);break;case"currentTime":if(!isNaN(parseFloat(t))&&t>=0){if(this._muted){if(this._currentTime=t,this._playing){var a=new Date;this._time_start=a.getTime()-1e3*this._currentTime}null!=this.$element&&this.$element.triggerHandler("seeked")}else this._canplaythrough_audio?this._media&&(this._media.currentTime=t>.1?t:.1):this._pendingSet.push({key:e,value:t});i=!0}break;default:i=l.default(r.default(h.prototype),"set",this).call(this,e,t)}return i}},{key:"get",value:function(e){if("src"==e)return this._src;if("videoWidth"==e)return this._frameWidth;if("videoHeight"==e)return this._frameHeight;if("currentTime"==e){var t=null;if(this._muted)if(this._playing&&!this._stalled)t=((new Date).getTime()-this._time_start)/1e3;else t=this._currentTime;else t=this._media.currentTime;return t}return"duration"==e?this._canplaythrough_audio?this._media.duration:this._duration:"error"==e?this._error:l.default(r.default(h.prototype),"get",this).call(this,e)}},{key:"play",value:function(e){return c.default("[Html5SpriteHead] play currentTime: "+this._currentTime),this._pendingPlay=!0,this._muted?(this._pretendMute=!0,null!=this.$element&&this.$element.triggerHandler("play"),this._canplaythrough_audio||this._loadMedia(e),this._playTimer()):(this._pretendMute=!1,this._effectuateVolumeAndMuted(),this._playMedia(e)),!0}},{key:"pause",value:function(){return this._pendingPlay=!1,this._muted?(this._pretendMute=!0,this._pauseTimer(),this._playing&&(this._playing=!1,null!=this.$element&&this.$element.triggerHandler("pause"))):(this._pretendMute=!1,this._pauseMedia()),!0}},{key:"load",value:function(e){return this._muted?(this._currentTime=0,this._loadTimer(),this._pendingPlay&&this._playTimer()):(this._loadMedia(e),this._pendingPlay&&(this._effectuateVolumeAndMuted(),this._playMedia(e))),!0}},{key:"_pauseTimer",value:function(){if(null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._playing&&!this._stalled){var e=new Date;this._currentTime=(e.getTime()-this._time_start)/1e3}this._playing&&this._handleTimerTick()}},{key:"_playTimer",value:function(){var e=new Date;if(this._time_start=e.getTime()-1e3*this._currentTime,null==this._timer){var t=this;this._timer=setInterval((function(){t._handleTimerTick()}),200)}this._handleTimerTick()}},{key:"_loadTimer",value:function(){this._loadstart||(this._loadstart=!0,null!=this.$element&&this.$element.triggerHandler("loadstart")),this._ajaxLoaded&&(this._loadedmetadata||(this._loadedmetadata=!0,null!=this.$element&&this.$element.triggerHandler("loadedmetadata"),null!=this.$element&&this.$element.triggerHandler("durationchange")),this._loadeddata||(this._loadeddata=!0,null!=this.$element&&this.$element.triggerHandler("loadeddata")),this._canplay||(this._canplay=!0,null!=this.$element&&this.$element.triggerHandler("canplay")),this._progress||(this._progress=!0,null!=this.$element&&this.$element.triggerHandler("progress")),this._canplaythrough||(this._canplaythrough=!0,null!=this.$element&&this.$element.triggerHandler("canplaythrough")))}},{key:"_handleTimerTick",value:function(){if(this._playing&&!this._stalled){var e=new Date;this._currentTime=(e.getTime()-this._time_start)/1e3}this._loadTimer(),this._ajaxLoaded&&(this._currentTime<this._duration?(this._ended=!1,this._playing||(this._playing=!0,null!=this.$element&&this.$element.triggerHandler("playing"),this._pendingPlay=!1,this._animationFrameCallbackBound&&p.default.requestAnimFrame(this._animationFrameCallbackBound))):(null!=this._timer&&(clearInterval(this._timer),this._timer=null),this._currentTime=this._duration,this._playing&&(this._playing=!1,null!=this.$element&&this.$element.triggerHandler("pause"),this._currentTime=this._duration),this._ended||(this._ended=!0,null!=this.$element&&this.$element.triggerHandler("ended"))))}},{key:"restretch",value:function(e,t){if(null!=this.$element&&this.$element.parent().length>0){var i=this.$element.parent()[0];if(void 0!==i&&null!=i){var n=void 0!==i.style.width&&i.style.width.match(/px/)?parseInt(i.style.width.replace("px","")):this.$element.width(),a=void 0!==i.style.height&&i.style.height.match(/px/)?parseInt(i.style.height.replace("px","")):this.$element.height();if(n>0&&a>0){this.$canvas.css({width:"",height:""}),this.$canvas.attr("width",n),this.$canvas.attr("height",a);var o=this.get("currentTime"),s=Math.floor(o%this._segmentDuration*this._frameRate);try{this.canvasImageContext.drawImage(this.$cinema_A.get(0),s*this._frameWidth,0,this._frameWidth,this._frameHeight,0,0,this.$canvas.width(),this.$canvas.height())}catch(e){}}}}}},{key:"_ajaxSuccessHandler",value:function(e,t,i){if(void 0!==e&&null!=e){if(this._pendingPlay=!1,this._pendingSet=[],this._pretendStall=!1,this._segmentNr=0,this._maxSegmentNr=0,this._isSegmentLoaded={},this._isSegmentLoading={},this._loadstart=!1,this._loadstart_audio=!1,this._loadedmetadata=!1,this._loadeddata=!1,this._canplay=!1,this._progress=!1,this._canplaythrough=!1,this._canplaythrough_audio=!1,this._playing=!1,this._audioSrc="audio.mp3",this._spriteSrc_pre="sequence-",this._spriteSrc_post=".jpg",this._frameRate=12,this._frameWidth=512,this._frameHeight=288,this._segmentDuration=1,this._end=0,this._duration=0,this._audioSrc=e.audioSrc,void 0!==e.spriteSrc&&null!=e.spriteSrc){var n=e.spriteSrc.split("%d");this._spriteSrc_pre=n.length>0?n[0]:"",this._spriteSrc_post=n.length>1?n[1]:""}this._frameRate=parseFloat(e.frameRate),this._frameWidth=parseInt(e.frameWidth),this._frameHeight=parseInt(e.frameHeight),this._segmentDuration=parseFloat(e.segmentDuration),this._end=parseInt(e.end),this._duration=this._segmentDuration*this._end,this._maxSegmentNr=Math.min(1+Math.floor(this._bufferTime/this._segmentDuration),3),void 0!==e.base&&""!=e.base&&(this._base=e.base),this._ajaxLoaded=!0,null!=this._audioSrc?this._media.src=this._base+this._audioSrc:this._loadstart||(this._loadstart=!0,null!=this.$element&&this.$element.triggerHandler("loadstart")),this._muted&&null!=this.$element&&this.$element.triggerHandler("couldplay")}}},{key:"_ajaxErrorHandler",value:function(e,t,i){this._error={error:"manifest request failed",code:2},null!=this.$element&&this.$element.triggerHandler("error")}},{key:"_preloadSegment",value:function(e){this._isSegmentLoading["#"+e]=!0;var t=new Image;t.crossOrigin="",$parcel$interopDefault(d)(t).on("load",{segmentNr:e},this._onSegmentLoadedBound),$parcel$interopDefault(d)(t).on("error",{segmentNr:e},this._onSegmentErrorBound),t.src=this._base+this._spriteSrc_pre+e+this._spriteSrc_post}},{key:"_preloadNextSegment",value:function(e){if(!(e<this._segmentNr))for(var t=e+1;t<=this._maxSegmentNr;){if(!this._isSegmentLoaded["#"+t]&&!this._isSegmentLoading["#"+t]){this._preloadSegment(t);break}t++}}},{key:"_onSegmentLoaded",value:function(e){var t=e.data.segmentNr;t>=this._maxSegmentNr-1&&this._stalled&&(this._stalled=!1,this._muted?this._playTimer():this._pretendStall&&this._playMedia(!1)),this._isSegmentLoading["#"+t]&&(this._preloadNextSegment(t),this._isSegmentLoaded["#"+t]=!0,this._isSegmentLoading["#"+t]=!1)}},{key:"_onSegmentError",value:function(e){var t=e.data.segmentNr;this._isSegmentLoading["#"+t]&&(this._preloadNextSegment(t),this._isSegmentLoaded["#"+t]=!1,this._isSegmentLoading["#"+t]=!1)}},{key:"_onTimeUpdate",value:function(e){var t=this.get("currentTime");if(this._maxSegmentNr=Math.min(1+Math.floor((t+this._bufferTime)/this._segmentDuration),this._end),t<this._duration){var i=1+Math.floor(t/this._segmentDuration);if(this._isSegmentLoaded["#"+i]){var n=Math.floor(t%this._segmentDuration*this._frameRate);if(i!=this._segmentNr){this._segmentNr=i,this._segmentNr%2?(this.$cinema_A=this.$cinema_1,this.$cinema_B=this.$cinema_2):(this.$cinema_A=this.$cinema_2,this.$cinema_B=this.$cinema_1),this.$cinema_A.attr("data-segmentNr")!=i&&(this.$cinema_A.attr("src",this._base+this._spriteSrc_pre+this._segmentNr+this._spriteSrc_post),this.$cinema_A.attr("data-segmentNr",i)),this.$cinema_A.css("z-index",2),this.$cinema_B.css("z-index",1);for(var a=i+1;a<=this._maxSegmentNr&&!this._isSegmentLoading["#"+a];)a++;a>this._maxSegmentNr&&this._preloadNextSegment(i)}try{this.canvasImageContext.drawImage(this.$cinema_A.get(0),n*this._frameWidth,0,this._frameWidth,this._frameHeight,0,0,this.$canvas.width(),this.$canvas.height())}catch(e){}}else this._stalled||(this._stalled=!0,this._muted?(this._pauseTimer(),null!=this.$element&&this.$element.triggerHandler("stalled")):(this._pretendStall=!0,this._pauseMedia()),i<=this._maxSegmentNr&&(this._isSegmentLoaded["#"+i]||this._isSegmentLoading["#"+i]||this._preloadSegment(i)))}var o=i+1;this._isSegmentLoaded["#"+o]&&o!=this._segmentNr_B&&(this._segmentNr_B=o,this.$cinema_B.attr("src",this._base+this._spriteSrc_pre+this._segmentNr_B+this._spriteSrc_post),this.$cinema_B.attr("data-segmentNr",o))}},{key:"_onEvent",value:function(e){if(e.stopPropagation(),this._loadstart_audio||"loadstart"==e.type){switch(e.type){case"timeupdate":if(this._media&&this._media.currentTime>=this._duration){if(this._playing&&this._pauseMedia(),this._ended)return;this._ended=!0,e.type="ended"}break;case"loadstart":if(1<=this._maxSegmentNr&&(this._isSegmentLoaded["#1"]||this._isSegmentLoading["#1"]||this._preloadSegment(1)),this._media.currentSrc.replace(/^[a-z:]*\/\//,"")!=(this._base+this._audioSrc).replace(/^[a-z:]*\/\//,""))return;if(this._loadstart_audio=!0,this._loadstart)return;this._loadstart=!0,(this._canAutoPlay||this.$media&&this.$media.data("canplay")||this._muted)&&null!=this.$element&&this.$element.triggerHandler("couldplay");break;case"loadedmetadata":if(this._loadedmetadata)return;this._loadedmetadata=!0;break;case"loadeddata":if(this._loadeddata)return;this._loadeddata=!0;break;case"canplay":if(this.$media&&this.$media.data("canplay",!0),this._canplay)return;this._canplay=!0;break;case"progress":if(this._progress=!0,this._canplaythrough_audio)for(;this._pendingSet.length>0;){var t=this._pendingSet.shift();this.set(t.key,t.value)}break;case"canplaythrough":if(this._canplaythrough_audio=!0,!this._isiOS)for(;this._pendingSet.length>0;){t=this._pendingSet.shift();this.set(t.key,t.value)}if(this._canplaythrough)return;this._canplaythrough=!0;break;case"play":if(this._pretendMute)return;if(this._pretendStall)return;break;case"playing":this._ended=!1,this._pendingPlay=!1,this._havePlayed=!0,this._onWindowTouchstartBound&&window.removeEventListener("touchstart",this._onWindowTouchstartBound),this._pretendMute&&(this._pretendMute=!1,e.type="volumechange"),this._pretendStall&&(this._pretendStall=!1,e.type="volumechange"),this._playing||(this._playing=!0,this._animationFrameCallbackBound&&p.default.requestAnimFrame(this._animationFrameCallbackBound));break;case"pause":this._pretendMute?e.type="volumechange":this._pretendStall?e.type="stalled":this._playing=!1;break;case"stalled":if(this._pretendStall||this._pretendMute||this._muted)return;this._stalled=!0;break;case"error":if(this._pretendStall||this._pretendMute||this._muted)return;this._playing=!1,this._error=this._media.error;break;case"ended":if(this._playing=!1,this._isIE&&null!=this.$element&&this.$element.triggerHandler("pause"),this._isLiveStream&&this._isAndroid)return void this._playMedia(!1);this._ended=!0;break;case"abort":if(this._canplaythrough_audio=!1,this._pretendStall||this._pretendMute||this._muted)return;this._playing=!1,this._canplay=!1,this._canplaythrough=!1;break;case"seeking":if(this._pretendMute)return;this._seeking=!0;break;case"seeked":if(this._pretendMute)return;this._seeking=!1;break;case"durationchange":this._media&&this._media.duration>0&&(this._duration=this._duration>0?Math.min(this._media.duration,this._duration):this._media.duration)}null!=this.$element&&this.$element.triggerHandler(e.type)}}},{key:"_getMediaWidth",value:function(){return this._frameWidth}},{key:"_getMediaHeight",value:function(){return this._frameHeight}},{key:"_animationFrameCallback",value:function(){this._exiting||this._playing&&(this._animationFrameCallbackBound&&p.default.requestAnimFrame(this._animationFrameCallbackBound),this.$element.triggerHandler("timeupdate"))}}]),h}(h.default)})),parcelRequire.register("gjFvx",(function(e,t){$parcel$export(e.exports,"default",(function(){return _})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=parcelRequire("4h4pL");parcelRequire("2UpbQ");var u=parcelRequire("eV1xY"),c=parcelRequire("cWdJP"),h=parcelRequire("9LZNl"),p=parcelRequire("4AQp6"),_=function(e){"use strict";i.default(h,e);var t=n.default(h);function h(e,i){var n;if(a.default(this,h),(n=t.call(this,e,i))._headController=null,n._savedAttrCrossOrigin=null,n._savedSrc=null,n._savedStyles=null,n._avoidPreload=!1,n._objectFit=!1,n._isAndroid=!1,n._isSafari=!1,n._unmuteAfterLoad=null,n._canPlayHLS=!1,n._vendorPrefixes=["","-o-","-ms-","-moz-","-webkit-","-khtml-"],n._onClickToPlayLayerClickBound=n._onClickToPlayLayerClick.bind(o.default(n)),n._onFullscreenChangeBound=n._onFullscreenChange.bind(o.default(n)),n._onMediaEnterFullscreenBound=n._onMediaEnterFullscreen.bind(o.default(n)),n._onMediaLeaveFullscreenBound=n._onMediaLeaveFullscreen.bind(o.default(n)),null!=n.$element){n.$element.addClass("bb-head-html5-video");var s=n.$element.closest(".bb_wrapper");n._api=c.default.getService(n._opts.playerAliasOrId).getInstance("PublicAPI");var l,r,d,p=c.default.getService(n._opts.playerAliasOrId).getInstance("Detections");if(void 0!==p&&null!=p&&(n._objectFit=p.objectFit,n._isAndroid=p.isAndroid,n._isSafari=p.isSafari,n._isAndroidNative=p.isAndroidNative,n._avoidPreload=p.avoidPreload,n._canPlayHLS=p.canPlayHLS),n._shouldPlayInline="true"===n.$element.attr("data-shouldPlayInline"),"true"===n.$element.attr("data-useMediaManager")?(n._useMediaManager=!0,n._mediaManager&&(n.$media=$parcel$interopDefault(u)(n._mediaManager.getMedia("VIDEO")),$parcel$interopDefault(u).contains(n.$element.get(0),n.$media.get(0))||n.$media.prependTo(n.$element))):"true"==n.$element.attr("data-borrowHtml5Media")&&(n._headController=c.default.getService(n._opts.playerAliasOrId).getInstance("HeadController"),void 0!==n._headController&&null!=n._headController?(n.$media=n._headController.borrowHtml5Video(),n.$media.attr("playsinline",""),n.$media.attr("webkit-playsinline",""),n.$media.attr("controlsList","nodownload"),"true"===n.$element.attr("data-noCrossOrigin")&&(n._savedAttrCrossOrigin=n.$media.attr("crossOrigin"),n.$media.removeAttr("crossOrigin")),n._canAutoPlay=n._canAutoPlay||n._headController._canplay):(n.$media=s.find("video.bb-media-element"),n.$media.attr("playsinline",""),n.$media.attr("webkit-playsinline",""),n.$media.attr("controlsList","nodownload"))),null==n.$media)n.$media=$parcel$interopDefault(u)(document.createElement("video")).appendTo(n.$element),n.$media.attr("webkit-playsinline",""),n.$media.attr("playsinline",""),n.$media.attr("controlsList","nodownload"),n.$media.attr("preload",n._avoidPreload?"none":"metadata"),n.$media.attr("aria-hidden","true"),"true"==="".concat(null===(l=o.default(n))||void 0===l||null===(r=l._opts)||void 0===r||null===(d=r.playoutData)||void 0===d?void 0:d.useCors)&&n.$media.attr("crossorigin",""),n.$media.css({width:"100%",height:"100%"}),n.$media.css({maxWidth:"none",maxHeight:"none"}),n._opts&&n._opts.playoutData&&"true"===n._opts.playoutData.autoMute&&(n._muted=!0,n._effectuateVolumeAndMuted());if(n.$media.css({maxWidth:"none",maxHeight:"none",display:"block",top:0,left:0,position:"absolute"}),n._opts&&n._opts.playoutData&&n._updateFromPlayout(n._opts.playoutData),n.$element.append('<style type="text/css">.bb_wrapper .bb-head-html5-video video{max-width:none !important;max-height:none !important;}</style>'),i&&!i.noSkinMode?n.$element.append('<div style="width:100%;height:100%;position:absolute;top:0;left:0;"></div>'):(n.$clickToPlayLayer=$parcel$interopDefault(u)('<div style="width:100%;height:100%;position:absolute;top:0;left:0;" class="bb-click-to-play-layer"></div>'),n.$clickToPlayLayer.on("click",n._onClickToPlayLayerClickBound),n.$element.append(n.$clickToPlayLayer)),null!=n.$media&&n.$media.length<=0&&(n.$media=null),null!=n.$media){n._media=n.$media.get(0);var _=n._media.src,m=n._media.currentSrc;if(null!=m&&""!=m&&null==m.match(/\/null$/)?n._savedSrc=m:null!=_&&""!=_&&null==_.match(/\/null$/)&&(n._savedSrc=_),"true"==n.$element.attr("data-borrowHtml5Media")){n._savedStyles={height:n._media.style.height,width:n._media.style.width},n.$media.css({height:"100%",width:"100%"});for(var f=0;f<n._vendorPrefixes.length;f++)n.$media.css(n._vendorPrefixes[f]+"transform")&&(n._savedStyles[n._vendorPrefixes[f]+"transform"]=n.$media.css(n._vendorPrefixes[f]+"transform"),n.$media.css(n._vendorPrefixes[f]+"transform","scale(1.0, 1.0)"));n.$media.css("object-fit")&&(n._savedStyles["object-fit"]=n.$media.css("object-fit"),n.$media.css("object-fit","contain"))}else n._objectFit&&n.$media.css("object-fit","fill");n._media.webkitCurrentPlaybackTargetIsWireless&&(n._media.setAttribute("preload","metadata"),n._media.setAttribute("x-webkit-airplay","allow"),n._antiFlickerHack&&n.$media&&(n._antiFlickerHack=!1,n.$media.css("visibility","visible")),n._isiOS&&n._useMediaManager&&n._mediaManager&&n._mediaManager.setSingleMediaMode(n._media.tagName)),n._canPlayHLS&&n.$media.prepend('<style type="text/css">\n\t\t\t\t\t\t::cue(.white) { color: rgba(255,255,255,1); }\n\t\t\t\t\t\t::cue(.lime) { color: rgba(0,255,0,1); }\n\t\t\t\t\t\t::cue(.cyan) { color: rgba(0,255,255,1); }\n\t\t\t\t\t\t::cue(.red) { color: rgba(255,0,0,1); }\n\t\t\t\t\t\t::cue(.yellow) { color: rgba(255,255,0,1); }\n\t\t\t\t\t\t::cue(.magenta) { color: rgba(255,0,255,1); }\n\t\t\t\t\t\t::cue(.blue) { color: rgba(0,0,255,1); }\n\t\t\t\t\t\t::cue(.black) { color: rgba(0,0,0,1); }\n\n\t\t\t\t\t\t::cue(.bg_white) { background-color: rgba(255,255,255,1); }\n\t\t\t\t\t\t::cue(.bg_lime) { background-color: rgba(0,255,0,1); }\n\t\t\t\t\t\t::cue(.bg_cyan) { background-color: rgba(0,255,255,1); }\n\t\t\t\t\t\t::cue(.bg_red) { background-color: rgba(255,0,0,1); }\n\t\t\t\t\t\t::cue(.bg_yellow) { background-color: rgba(255,255,0,1); }\n\t\t\t\t\t\t::cue(.bg_magenta) { background-color: rgba(255,0,255,1); }\n\t\t\t\t\t\t::cue(.bg_blue) { background-color: rgba(0,0,255,1); }\n\t\t\t\t\t\t::cue(.bg_black) { background-color: rgba(0,0,0,1); }\n\t\t\t\t\t\t</style>')}var v=i&&i.clipData&&"mainroll"==i.clipData.mediatype,g=!1;i&&i.noSkinMode&&i.addNativeControls&&(n.$media.attr("controls","controls"),n._api&&!v&&n.$media.attr("poster",n._api.getThumbnail()),n._api&&p&&parseFloat(p.androidVersion)<3&&n.$media.on("click",(function(){g||(this.play(),g=!0)}))),n._$canvas=$parcel$interopDefault(u)("<canvas />"),n._$canvas.css({left:0,top:0,width:"100%",height:"100%",position:"absolute",display:"none"}),n.$element.append(n._$canvas),n._bindMediaEvents()}return n}return s.default(h,[{key:"_hideCanvas",value:function(){if(this._$canvas&&this._$canvas[0]&&"none"!==this._$canvas[0].style.display){var e=this;setTimeout((function(){e._$canvas[0].style.display="none",!0===e._unmuteAfterLoad&&e._safariMuteWhileLoading&&(e._unmuteAfterLoad=null,e.set("muted",!1))}),75)}}},{key:"_writeToCanvas",value:function(){if(this._$canvas&&this._media)try{var e=this._$canvas[0];if(!e)return;e.setAttribute("width",this._media.videoWidth),e.setAttribute("height",this._media.videoHeight);var t=e.getContext("2d");if(!t)return;t.drawImage(this._media,0,0,this._media.videoWidth,this._media.videoHeight),e.style.display="block"}catch(e){}}},{key:"_onClickToPlayLayerClick",value:function(){this._api&&(this._api.play(!0),this.$clickToPlayLayer.hide())}},{key:"exit",value:function(){return this._unbindFSEvents(),this.$clickToPlayLayer&&(this.$clickToPlayLayer.off("click",this._onClickToPlayLayerClickBound),this.$clickToPlayLayer.remove()),this._headController&&(null!=this._savedStyles&&null!=this.$media&&this.$media.css(this._savedStyles),null!==this._savedAttrCrossOrigin&&(void 0!==this._savedAttrCrossOrigin?this.$media.attr("crossOrigin",this._savedAttrCrossOrigin):this.$media.removeAttr("crossOrigin"),this._savedAttrCrossOrigin=null),this._headController.returnHtml5Video(),null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc,this._loadMedia(!1)),this._savedSrc=null),this.$media=null,l.default(r.default(h.prototype),"exit",this).call(this)}},{key:"set",value:function(e,t,i){var n,a=!1;if("src"===e){if(this._canvasWaitForSeeked=!1,t&&-1!==t.indexOf("#t=")){var o=parseFloat(t.split("#t=")[1]);this._canvasWaitForSeeked=!!(o>.2),this._canvasHaveSeeked=!1,this._canvasHadPlaying=!1}this._useCanvasFrameSwitch&&(this._writeToCanvas(),this._antiFlickerHack=!1),this._canvasWaitForSeeked&&this._media&&!this._media.muted&&this._safariMuteWhileLoading&&(this.set("muted",!0),this._unmuteAfterLoad=!0)}if(null!=this._media)switch(e){case"controls":t?(this.$media.attr("controls","controls"),this.$media.attr("disablePictureInPicture",""),this.$media.attr("controlsList","nofullscreen nodownload"),this.$media.css({"z-index":"1"}),this.$media.append('<style type="text/css">video::-webkit-media-controls-fullscreen-button{display:none !important;}</style>')):this.$media.removeAttr("controls");break;case"audioTrackId":var s,d;a=-1,this._audioTrackId=t,n=(null===(s=this._media)||void 0===s||null===(d=s.audioTracks)||void 0===d?void 0:d.length)||0;for(var u=0;u<n;u++){this._media.audioTracks[u].id===this._audioTrackId?(this._media.audioTracks[u].enabled=!0,a=this._audioTrackId):this._media.audioTracks[u].enabled=!1}return a;case"textTrackId":var c,p;a=-1,this._textTrackId=t,n=(null===(c=this._media)||void 0===c||null===(p=c.textTracks)||void 0===p?void 0:p.length)||0;for(var _=0;_<n;_++){var m=this._media.textTracks[_];m.id===this._textTrackId||m.language===this._textTrackId?(this._media.textTracks[_].mode="showing",this._media.textTracks[_].default=!0,this._media.textTracks[_].enabled=!0,a=this._textTrackId):(this._media.textTracks[_].mode="disabled",this._media.textTracks[_].default=!1,this._media.textTracks[_].enabled=!1)}return a;default:return l.default(r.default(h.prototype),"set",this).call(this,e,t,i)}}},{key:"get",value:function(e){var t,i,n;switch(e){case"qualities":var a,o;if(this._canPlayHLS&&p.assetNeedsHLSSupport({processedSrc:(null===(a=this._media)||void 0===a?void 0:a.currentSrc)||(null===(o=this._media)||void 0===o?void 0:o.src)||""}))return[{level:-1,selected:!0,width:-1,height:-1,bandwidth:-1}];break;case"audioTrackId":var s;if((null==(t=null===(s=this._media)||void 0===s?void 0:s.audioTracks)?void 0:t.length)&&this._canPlayHLS)return(n=(i=d.default(t)).find((function(e){return null==e?void 0:e.enabled})))&&(this._audioTrackId=n.id),this._audioTrackId;break;case"audioTracks":var u;if((null==(t=null===(u=this._media)||void 0===u?void 0:u.audioTracks)?void 0:t.length)&&this._canPlayHLS){var c=this;return(n=(i=d.default(t)).find((function(e){return null==e?void 0:e.enabled})))&&(this._audioTrackId=n.id),i.map((function(e){if(e){var t=e.label||p.default.languageFromIsoCode(e.language);return{id:e.id,selected:e.id===c._audioTrackId,isocode:e.language,label:t}}return null}))}break;case"textTrackId":var _;if((null==(t=null===(_=this._media)||void 0===_?void 0:_.textTracks)?void 0:t.length)&&this._canPlayHLS)return(n=(i=d.default(t)).find((function(e){return"showing"===(null==e?void 0:e.mode)||(null==e?void 0:e.enabled)})))&&(this._textTrackId=""!==n.id?n.id:n.language),this._textTrackId;break;case"textTracks":var m;if((null==(t=null===(m=this._media)||void 0===m?void 0:m.textTracks)?void 0:t.length)&&this._canPlayHLS){var f=this;return(n=(i=d.default(t).filter((function(e){return"subtitles"===(null==e?void 0:e.kind)}))).find((function(e){return"showing"===(null==e?void 0:e.mode)||(null==e?void 0:e.enabled)})))&&(this._textTrackId=""!==n.id?n.id:n.language),i.map((function(e){if(e){var t=""!==e.id?e.id:e.language,i=e.label||p.default.languageFromIsoCode(e.language);return{id:t,selected:e.id===f._textTrackId||e.language===f._textTrackId,isocode:e.language,languagename:i}}return null}))}break;default:return l.default(r.default(h.prototype),"get",this).call(this,e)}}},{key:"_onEvent",value:function(e){switch(l.default(r.default(h.prototype),"_onEvent",this).call(this,e),e&&e.type){case"play":this._forceIOSNativeVideo&&this._isiOS&&!this._shouldPlayInline&&this.mediaRequestFullscreen(),this._forceAndroidNativeVideo&&this._isAndroid&&!this._shouldPlayInline&&this.mediaRequestFullscreen();break;case"seeking":this._canvasHaveSeeked=!1;break;case"seeked":this._useCanvasFrameSwitch&&(this._canvasHaveSeeked=!0,this._canvasHadPlaying&&this._hideCanvas());break;case"playing":this._useCanvasFrameSwitch&&(this._canvasHadPlaying=!0,!this._canvasHaveSeeked&&this._canvasWaitForSeeked||this._hideCanvas())}}},{key:"_onMediaEnterFullscreen",value:function(e){e&&e.stopPropagation(),this._isNativeFullscreen=!0,this.$wrapper.trigger("fullscreenchange")}},{key:"_onMediaLeaveFullscreen",value:function(e){if(e&&e.stopPropagation(),this._unbindFSEvents(),this._isNativeFullscreen=!1,this._media){var t=$parcel$interopDefault(u)(this._media);this._savedAttrs&&(void 0!==this._savedAttrs.controls?t.attr("controls",this._savedAttrs.controls):t.removeAttr("controls"),this._savedAttrs=null),this._savedProps&&(void 0!==this._savedProps.controls?t.prop("controls",this._savedProps.controls):t.prop("controls",!1),this._savedProps=null),this._savedCss&&(t.css("pointer-events",this._savedCss["pointer-events"]),t.css("object-fit",this._savedCss["object-fit"]),t.css("transform-origin",this._savedCss["transform-origin"]),t.css("transform",this._savedCss.transform),t.css("background-color",this._savedCss["background-color"]),this._savedCss=null)}this.$wrapper.trigger("fullscreenchange")}},{key:"_onFullscreenChange",value:function(e){var t=document.fullscreenElement||document.fullScreenElement||document.mozFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.webkitFullScreenElement||document.msFullscreenElement;t&&t===this._media||this._media&&this._media.webkitDisplayingFullscreen?this._onMediaEnterFullscreen(e):this._onMediaLeaveFullscreen(e)}},{key:"_bindFSEvents",value:function(e){if(!this._boundFSEvents&&this._media){this._boundFSEvents=!0;var t=$parcel$interopDefault(u)(this._media);t.on("fullscreenchange",this._onFullscreenChangeBound),t.on("fullscreenerror",this._onFullscreenChangeBound),t.on("fullscreenchanged",this._onFullscreenChangeBound),t.on("webkitfullscreenchange",this._onFullscreenChangeBound),t.on("mozfullscreenchange",this._onFullscreenChangeBound),$parcel$interopDefault(u)(document).on("MSFullscreenChange",this._onFullscreenChangeBound),t.on("webkitbeginfullscreen",this._onMediaEnterFullscreenBound),t.on("webkitendfullscreen",this._onMediaLeaveFullscreenBound),t.on("webkitEnterFullScreen",this._onMediaEnterFullscreenBound),t.on("webkitExitFullScreen",this._onMediaLeaveFullscreenBound)}}},{key:"_unbindFSEvents",value:function(e){if(this._boundFSEvents&&this._media){this._boundFSEvents=!1;var t=$parcel$interopDefault(u)(this._media);t.off("fullscreenchange",this._onFullscreenChangeBound),t.off("fullscreenerror",this._onFullscreenChangeBound),t.off("fullscreenchanged",this._onFullscreenChangeBound),t.off("webkitfullscreenchange",this._onFullscreenChangeBound),t.off("mozfullscreenchange",this._onFullscreenChangeBound),$parcel$interopDefault(u)(document).off("MSFullscreenChange",this._onFullscreenChangeBound),t.off("webkitbeginfullscreen",this._onMediaEnterFullscreenBound),t.off("webkitendfullscreen",this._onMediaLeaveFullscreenBound),t.off("webkitEnterFullScreen",this._onMediaEnterFullscreenBound),t.off("webkitExitFullScreen",this._onMediaLeaveFullscreenBound)}}},{key:"mediaRequestFullscreen",value:function(){if(this._isNativeFullscreen)return!0;var e=!1;if(this._media){var t=null;if(this._media.requestFullscreen)t="requestFullscreen";else if(this._media.requestFullScreen)t="requestFullScreen";else if(this._media.enterFullscreen)t="enterFullscreen";else if(this._media.enterFullScreen)t="enterFullScreen";else for(var i=["o","ms","moz","webkit","khtml"],n=0;n<i.length&&!t;n++){var a=i[n];void 0!==this._media[a+"RequestFullscreen"]?t=a+"RequestFullscreen":void 0!==this._media[a+"RequestFullScreen"]?t=a+"RequestFullScreen":void 0!==this._media[a+"EnterFullscreen"]?t=a+"EnterFullscreen":void 0!==this._media[a+"EnterFullScreen"]&&(t=a+"EnterFullScreen")}if(t){this._isNativeFullscreen=!0;var o=$parcel$interopDefault(u)(this._media);this._savedProps||(this._savedProps={},this._savedProps.controls=o.prop("controls"),o.prop("controls",!0)),this._savedAttrs||(this._savedAttrs={},this._savedAttrs.controls=o.attr("controls"),o.attr("controls","controls")),this._savedCss||(this._savedCss={},this._savedCss["pointer-events"]=o.css("pointer-events"),o.css("pointer-events","auto"),this._savedCss["object-fit"]=o.css("object-fit"),o.css("object-fit","contain"),this._savedCss["transform-origin"]=o.css("transform-origin"),o.css("transform-origin",""),this._savedCss.transform=o.css("transform"),o.css("transform",""),this._savedCss["background-color"]=o.css("background-color"),o.css("background-color","black")),this._bindFSEvents();try{var s=this._media[t]();void 0!==s&&s.then&&s.then((function(){})).catch((function(e){})),e=!0}catch(e){$parcel$interopDefault(u)(this._media).trigger("fullscreenerror")}}}return e}},{key:"_updateFromPlayout",value:function(e){if(e){var t=c.default.getService(this._opts.playerAliasOrId).getInstance("Detections")||{};void 0!==e.bgColor&&this.$media&&this.$media.css("background-color","#"+e.bgColor),void 0!==e.forceNativeFullscreen&&(this._objectFit="true"!==e.forceNativeFullscreen&&(t&&t.objectFit)),this._useCanvasFrameSwitch="true"===e.showFrameWhileLoading&&"Html5VideoGL360Head"!==this._classType,this._safariMuteWhileLoading="true"===e.safariMuteWhileLoading&&this._isSafari}}},{key:"_onPlayoutChanged",value:function(e,t){l.default(r.default(h.prototype),"_onPlayoutChanged",this).call(this,e,t),t&&void 0!==t.playoutData&&this._updateFromPlayout(t.playoutData)}},{key:"_getMediaWidth",value:function(){if(null!=this._media)return this._media.videoWidth}},{key:"_getMediaHeight",value:function(){if(null!=this._media)return this._media.videoHeight}},{key:"restretch",value:function(e,t){if(this._isAndroidNative)return!1;if(this._isNativeFullscreen)return!1;try{var i;window.getComputedStyle(null===(i=this.$media)||void 0===i?void 0:i[0])}catch(e){return!1}if(null!=this.$element&&null!=this._media&&this.$element.closest(".bb-fitme")&&this.$element.closest(".bb-fitme")[0])if(this._objectFit){for(var n=0;n<this._vendorPrefixes.length;n++)this.$media.css(this._vendorPrefixes[n]+"transform","scale(1.0, 1.0)").css(this._vendorPrefixes[n]+"transform-origin","0 0");this.$media.css("height","100%").css("width","100%"),this.$media.css("object-fit","fill")}else{var a=this.$element.parent()[0],o=void 0!==(null==a?void 0:a.style.width)&&a.style.width.match(/px/)?parseInt(a.style.width.replace("px","")):this.$element.width(),s=void 0!==(null==a?void 0:a.style.height)&&a.style.height.match(/px/)?parseInt(a.style.height.replace("px","")):this.$element.height(),l=this._isAndroid&&void 0!==e?e:this._media.videoWidth,r=this._isAndroid&&void 0!==t?t:this._media.videoHeight;if(l>0&&r>0){var d=o/l,u=s/r;for(n=0;n<this._vendorPrefixes.length;n++)this.$media.css(this._vendorPrefixes[n]+"transform","scale("+d+", "+u+")").css(this._vendorPrefixes[n]+"transform-origin","0 0");this.$media.css("height",r+"px").css("width",l+"px"),this.$media.css("object-fit","contain")}}}}]),h}(h.default)})),parcelRequire.register("bd6lw",(function(e,t){$parcel$export(e.exports,"default",(function(){return p})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=parcelRequire("cWdJP"),u=parcelRequire("1MxPP"),c=parcelRequire("gjFvx"),h=parcelRequire("4AQp6"),p=function(e){"use strict";i.default(c,e);var t=n.default(c);function c(e,i){var n;if(a.default(this,c),(n=t.call(this,e,i))._classType="Html5VideoGL360Head",n._fps=25,n._startTime=0,n._fpsInterval=1e3/n._fps,n._then=0,n._elapsed=0,n._helper=null,n._onLoadedMetaDataBound=n._onLoadedMetaData.bind(o.default(n)),n._onElementPlayingBound=n._onElementPlaying.bind(o.default(n)),null!=n.$element&&(n.$element.on("loadedmetadata",n._onLoadedMetaDataBound),n.$element.on("playing",n._onElementPlayingBound)),null!==n.$wrapper&&void 0!==d.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")){n._broker=d.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker");var s=n._broker.getLoadedPlayerComponent("WebGL360Helper");s&&(n._helper=new s(n.$element,n._opts),n._helper.setMedia(n.$media))}return n}return s.default(c,[{key:"exit",value:function(){return this._helper&&(this._helper=this._helper.exit()),null!=this.$element&&(this.$element.off("loadedmetadata",this._onLoadedMetaDataBound),this.$element.off("playing",this._onElementPlayingBound)),l.default(r.default(c.prototype),"exit",this).call(this)}},{key:"set",value:function(e,t,i){var n,a=!1;"src"===e?(a=l.default(r.default(c.prototype),"set",this).call(this,e,t,i),null===(n=this.$media)||void 0===n||n.hide()):a=l.default(r.default(c.prototype),"set",this).call(this,e,t,i);return a}},{key:"play",value:function(e){var t;u.default("[Html5VideoGL360Head] play userAction: "+e),null===(t=this.$media)||void 0===t||t.hide(),l.default(r.default(c.prototype),"play",this).call(this,e),this._helper&&this._helper.requestControls(e)}},{key:"load",value:function(e){l.default(r.default(c.prototype),"load",this).call(this,e),this._helper&&this._helper.requestControls(e)}},{key:"_onLoadedMetaData",value:function(e){this._videoWidth=this._getMediaWidth(),this._videoHeight=this._getMediaHeight(),this._videoWidth>0&&this._videoHeight>0&&this._helper&&this._helper.setMediaSize(this._videoWidth,this._videoHeight)}},{key:"_onElementPlaying",value:function(e){this._startTime=this._then=Date.now()}},{key:"_animationFrameCallback",value:function(){!this._exiting&&this._loadstart&&(this._animationFrameCallbackBound&&h.default.requestAnimFrame(this._animationFrameCallbackBound),this._playing&&(this._timeUpdatesEnabled&&!this._seeking&&this.$element.triggerHandler("timeupdate"),this._helper&&(this._elapsed=Date.now()-this._then,this._elapsed>this._fpsInterval&&(this._then=Date.now()-this._elapsed%this._fpsInterval,this._helper.renderContent()))),this._helper&&this._helper.renderGL())}},{key:"restretch",value:function(e,t){if(l.default(r.default(c.prototype),"restretch",this).call(this,e,t),null!=this.$element&&null!=this._media&&this.$element.closest(".bb-fitme")&&this.$element.closest(".bb-fitme")[0]){var i=this.$element.parent()[0],n=void 0!==i.style.width&&i.style.width.match(/px/)?parseInt(i.style.width.replace("px","")):this.$element.width(),a=void 0!==i.style.height&&i.style.height.match(/px/)?parseInt(i.style.height.replace("px","")):this.$element.height();n>0&&a>0&&this._helper&&this._helper.setSize(n,a)}}}]),c}(c.default)})),parcelRequire.register("h0jZu",(function(e,t){$parcel$export(e.exports,"default",(function(){return d})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("b3HW6"),s=parcelRequire("2PjQe"),l=parcelRequire("8DKpv"),r=parcelRequire("cWdJP"),d=function(e){"use strict";i.default(d,e);var t=n.default(d);function d(e,i){var n,o;if(a.default(this,d),(n=t.call(this,e,i))._avoidPreloadSrc=null,n._broker=null,void 0!==r.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")&&(n._broker=r.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")),n._hlsHelper=null,null===(o=n._broker)||void 0===o?void 0:o.isPlayerComponentAvailable("Html5HLSHelper")){var s=n._broker.getLoadedPlayerComponent("Html5HLSHelper");n._hlsHelper=new s,n._hlsHelper.setMedia(n.$media)}return n}return o.default(d,[{key:"exit",value:function(){return s.default(l.default(d.prototype),"exit",this).call(this)}},{key:"set",value:function(e,t,i){if(null!=this._media){if("src"===e){if("string"==typeof t||void 0===t&&null==t){var n,a=t,o=t.match(/#q=([^&#]*)/);if(o&&o.length>=1){a=t.replace("#q="+o[1],"");var r=o[1]}return a!=(null===(n=this._hlsHelper)||void 0===n?void 0:n.getSrc())&&(this._suspend=!1,this._canplay=!1,this._canplaythrough=!1,this._avoidPreload?this._avoidPreloadSrc=a:this._hlsHelper&&this._hlsHelper.setSrc(a)),isNaN(parseFloat(r))||this._hlsHelper&&this._hlsHelper.setQualityLevel(r),!0}return!1}return s.default(l.default(d.prototype),"set",this).call(this,e,t,i)}}},{key:"get",value:function(e){switch(e){case"qualities":return!!this._hlsHelper&&this._hlsHelper.getQualities();case"textTrackId":case"textTracks":return;default:return s.default(l.default(d.prototype),"get",this).call(this,e)}}},{key:"load",value:function(e){this._avoidPreloadSrc||s.default(l.default(d.prototype),"load",this).call(this,e)}},{key:"play",value:function(e){var t;this._hlsHelper&&(this._avoidPreloadSrc?(this._hlsHelper.setSrc(this._avoidPreloadSrc),this._avoidPreloadSrc=null):!(null===(t=this._media)||void 0===t?void 0:t.src)&&this._hlsHelper.getSrc()&&this._hlsHelper.setSrc(this._hlsHelper.getSrc()));s.default(l.default(d.prototype),"play",this).call(this,e)}},{key:"_onPlayoutChanged",value:function(e,t){s.default(l.default(d.prototype),"_onPlayoutChanged",this).call(this,e,t)}}]),d}(parcelRequire("jPgfD").default)})),parcelRequire.register("3Qbdh",(function(e,t){$parcel$export(e.exports,"default",(function(){return u})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("b3HW6"),s=parcelRequire("2PjQe"),l=parcelRequire("8DKpv"),r=parcelRequire("cWdJP"),d=parcelRequire("1MxPP"),u=function(e){"use strict";i.default(u,e);var t=n.default(u);function u(e,i){var n,o;if(a.default(this,u),(n=t.call(this,e,i))._avoidPreloadSrc=n._avoidPreload?0:null,n._broker=null,void 0!==r.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")&&(n._broker=r.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")),n._hlsHelper=null,null===(o=n._broker)||void 0===o?void 0:o.isPlayerComponentAvailable("Html5HLSHelper")){var s=n._broker.getLoadedPlayerComponent("Html5HLSHelper");n._hlsHelper=new s,n._hlsHelper.setMedia(n.$media)}return n}return o.default(u,[{key:"exit",value:function(){var e;return this._hlsHelper=null===(e=this._hlsHelper)||void 0===e?void 0:e.exit(),s.default(l.default(u.prototype),"exit",this).call(this)}},{key:"reset",value:function(){var e;return null===(e=this._hlsHelper)||void 0===e||e.setSrc(null),s.default(l.default(u.prototype),"reset",this).call(this)}},{key:"set",value:function(e,t,i){if("src"===e&&this._useCanvasFrameSwitch&&this._writeToCanvas(),null!=this._media)switch(e){case"src":if("string"==typeof t||void 0===t&&null==t){var n,a,o=t,r=t.match(/#q=([^&#]*)/);if(r&&r.length>=1){o=t.replace("#q="+r[1],"");var d=r[1]}if(o!=(null===(n=this._hlsHelper)||void 0===n?void 0:n.getSrc())){var c=this._canplay;this._suspend=!1,this._canplay=!1,this._canplaythrough=!1,this._avoidPreload&&!c?(this._avoidPreloadSrc=o,this.$element&&this.$element.triggerHandler("couldplay")):(this._hlsHelper&&this._hlsHelper.setSrc(o),this._avoidPreloadSrc=null)}else this.$element&&this.$element.triggerHandler("couldplay");return isNaN(parseFloat(d))||this._hlsHelper&&this._hlsHelper.setQualityLevel(d),null===(a=this.$media)||void 0===a||a.show(),!0}return!1;case"qualityLevel":return!isNaN(parseFloat(t))&&(!!this._hlsHelper&&this._hlsHelper.setQualityLevel(t));default:return s.default(l.default(u.prototype),"set",this).call(this,e,t,i)}}},{key:"get",value:function(e){switch(e){case"qualityLevel":return!!this._hlsHelper&&this._hlsHelper.getQualityLevel();case"qualities":return!!this._hlsHelper&&this._hlsHelper.getQualities();case"textTrackId":case"textTracks":return;case"avoidPreloadSrc":return this._avoidPreloadSrc;default:return s.default(l.default(u.prototype),"get",this).call(this,e)}}},{key:"load",value:function(e){this._avoidPreloadSrc||s.default(l.default(u.prototype),"load",this).call(this,e)}},{key:"play",value:function(e){var t;(d.default("[Html5HLSVideoHead] play userAction: "+e),this._hlsHelper)&&(this._avoidPreloadSrc?(this._hlsHelper.setSrc(this._avoidPreloadSrc),this._avoidPreloadSrc=null):!(null===(t=this._media)||void 0===t?void 0:t.src)&&this._hlsHelper.getSrc()&&this._hlsHelper.setSrc(this._hlsHelper.getSrc()));s.default(l.default(u.prototype),"play",this).call(this,e)}},{key:"_onPlayoutChanged",value:function(e,t){s.default(l.default(u.prototype),"_onPlayoutChanged",this).call(this,e,t)}}]),u}(parcelRequire("gjFvx").default)})),parcelRequire.register("fBOv2",(function(e,t){$parcel$export(e.exports,"default",(function(){return p})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=parcelRequire("cWdJP"),u=parcelRequire("1MxPP"),c=parcelRequire("gjFvx"),h=parcelRequire("4AQp6"),p=function(e){"use strict";i.default(c,e);var t=n.default(c);function c(e,i){var n;if(a.default(this,c),(n=t.call(this,e,i))._fps=25,n._startTime=0,n._fpsInterval=1e3/n._fps,n._then=0,n._elapsed=0,n._avoidPreloadSrc=null,n._broker=null,n._hlsHelper=null,n._wglHelper=null,n._onMediaLoadedMetaDataBound=n._onMediaLoadedMetaData.bind(o.default(n)),n._onMediaPlayingBound=n._onMediaPlaying.bind(o.default(n)),void 0!==d.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")){if(n._broker=d.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker"),n._broker.isPlayerComponentAvailable("WebGL360Helper")){var s=n._broker.getLoadedPlayerComponent("WebGL360Helper");s&&(n._wglHelper=new s(n.$element,n._opts),n._wglHelper.setMedia(n.$media),n._media&&(n._media.addEventListener("loadedmetadata",n._onMediaLoadedMetaDataBound),n._media.addEventListener("playing",n._onMediaPlayingBound)))}if(n._broker.isPlayerComponentAvailable("Html5HLSHelper")){var l=n._broker.getLoadedPlayerComponent("Html5HLSHelper");l&&(n._hlsHelper=new l,n._hlsHelper.setMedia(n.$media))}}return n}return s.default(c,[{key:"exit",value:function(){var e;return this._hlsDashHelper=null===(e=this._hlsDashHelper)||void 0===e?void 0:e.exit(),this._media&&(this._media.removeEventListener("loadedmetadata",this._onMediaLoadedMetaDataBound),this._media.removeEventListener("playing",this._onMediaPlayingBound)),this._wglHelper&&(this._wglHelper=this._wglHelper.exit()),l.default(r.default(c.prototype),"exit",this).call(this)}},{key:"load",value:function(e){l.default(r.default(c.prototype),"load",this).call(this,e),this._wglHelper&&this._wglHelper.requestControls(e)}},{key:"play",value:function(e){var t,i;this._hlsHelper&&(this._avoidPreloadSrc?(this._hlsHelper.setSrc(this._avoidPreloadSrc),this._avoidPreloadSrc=null):!(null===(i=this._media)||void 0===i?void 0:i.src)&&this._hlsHelper.getSrc()&&this._hlsHelper.setSrc(this._hlsHelper.getSrc()));null===(t=this.$media)||void 0===t||t.hide(),l.default(r.default(c.prototype),"play",this).call(this,e),this._wglHelper&&this._wglHelper.requestControls(e)}},{key:"_onMediaLoadedMetaData",value:function(e){u.default("[Html5HLSVideoGL360Head] _onMediaLoadedMetaData"),this._videoWidth=this._getMediaWidth(),this._videoHeight=this._getMediaHeight(),this._videoWidth>0&&this._videoHeight>0&&this._wglHelper&&this._wglHelper.setMediaSize(this._videoWidth,this._videoHeight)}},{key:"set",value:function(e,t,i){if(null!=this._media){if("src"===e){if("string"==typeof t||void 0===t&&null==t){var n,a=t,o=t.match(/#q=([^&#]*)/);if(o&&o.length>=1){a=t.replace("#q="+o[1],"");var s=o[1]}return a!=(null===(n=this._hlsHelper)||void 0===n?void 0:n.getSrc())&&(this._suspend=!1,this._canplay=!1,this._canplaythrough=!1,this._avoidPreload?this._avoidPreloadSrc=a:this._hlsHelper&&this._hlsHelper.setSrc(a)),isNaN(parseFloat(s))||this._hlsHelper&&this._hlsHelper.setQualityLevel(s),!0}return!1}return l.default(r.default(c.prototype),"set",this).call(this,e,t,i)}}},{key:"get",value:function(e){switch(e){case"qualities":return!!this._hlsHelper&&this._hlsHelper.getQualities();case"textTrackId":case"textTracks":return;default:return l.default(r.default(c.prototype),"get",this).call(this,e)}}},{key:"_onPlayoutChanged",value:function(e,t){l.default(r.default(c.prototype),"_onPlayoutChanged",this).call(this,e,t)}},{key:"_onMediaPlaying",value:function(e){u.default("[Html5HLSVideoGL360Head] _onMediaPlaying"),this._startTime=this._then=Date.now()}},{key:"_animationFrameCallback",value:function(){!this._exiting&&this._loadstart&&(h.default.requestAnimFrame(this._animationFrameCallbackBound),this._playing&&this._timeUpdatesEnabled&&!this._seeking&&this.$element.triggerHandler("timeupdate"),this._wglHelper&&(this._elapsed=Date.now()-this._then,this._elapsed>this._fpsInterval&&(this._then=Date.now()-this._elapsed%this._fpsInterval,this._wglHelper.renderContent()),this._wglHelper.renderGL()))}},{key:"restretch",value:function(e,t){if(l.default(r.default(c.prototype),"restretch",this).call(this,e,t),null!=this.$element&&null!=this._media&&this.$element.closest(".bb-fitme")&&this.$element.closest(".bb-fitme")[0]){var i=this.$element.parent()[0],n=void 0!==i.style.width&&i.style.width.match(/px/)?parseInt(i.style.width.replace("px","")):this.$element.width(),a=void 0!==i.style.height&&i.style.height.match(/px/)?parseInt(i.style.height.replace("px","")):this.$element.height();n>0&&a>0&&this._wglHelper&&this._wglHelper.setSize(n,a)}}}]),c}(c.default)})),parcelRequire.register("dBtz6",(function(e,t){$parcel$export(e.exports,"default",(function(){return c})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("b3HW6"),s=parcelRequire("2PjQe"),l=parcelRequire("8DKpv"),r=parcelRequire("cWdJP"),d=parcelRequire("jPgfD");parcelRequire("3ymwn");var u=parcelRequire("4AQp6"),c=function(e){"use strict";i.default(d,e);var t=n.default(d);function d(e,i){var n,o,s;if(a.default(this,d),(n=t.call(this,e,i))._token=null,n._drmServers=null,n._avoidPreload=!0,n._avoidPreloadSrc=n._avoidPreload?0:null,n._broker=null,null===(o=n._opts)||void 0===o?void 0:o.publicationData)if("string"==typeof n._opts.publicationData.drm){var l;try{l=JSON.parse(n._opts.publicationData.drm)}catch(e){}(null==l?void 0:l.servers)&&(n._drmServers=l.servers)}else if("object"==typeof n._opts.publicationData.drm){var u=n._opts.publicationData.drm;(null==u?void 0:u.servers)&&(n._drmServers=u.servers)}if(n._opts&&n._opts.playoutData&&void 0!==n._opts.playoutData.token&&(n._token=n._opts.playoutData.token),void 0!==r.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")&&(n._broker=r.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")),n._hlsDashHelper=null,null===(s=n._broker)||void 0===s?void 0:s.isPlayerComponentAvailable("Html5HLSDashHelper")){var c=n._broker.getLoadedPlayerComponent("Html5HLSDashHelper");n._hlsDashHelper=new c,n._hlsDashHelper.setMedia(n._media),n._mediaProxy=n._hlsDashHelper.getMediaProxy(),n._bindMediaProxyEvents()}return n}return o.default(d,[{key:"exit",value:function(){return s.default(l.default(d.prototype),"exit",this).call(this)}},{key:"reset",value:function(){var e;return null===(e=this._hlsDashHelper)||void 0===e||e.setSrc(null),s.default(l.default(d.prototype),"reset",this).call(this)}},{key:"set",value:function(e,t,i){if(null!=this._media)switch(e){case"src":if("string"==typeof t||void 0===t&&null==t){var n,a,o=t,r=t.match(/#q=([^&#]*)/);if(r&&r.length>=1){o=t.replace("#q="+r[1],"");var u=r[1]}if(o!=(null===(n=this._hlsDashHelper)||void 0===n?void 0:n.getSrc())){var c=this._canplay;if(this._suspend=!1,this._canplay=!1,this._canplaythrough=!1,this._avoidPreload&&!c){var h;this._avoidPreloadSrc=o,null===(h=this.$element)||void 0===h||h.triggerHandler("couldplay")}else{var p=this._inferMimeType(o);this._hlsDashHelper&&this._hlsDashHelper.setSrc(o,p)}}else null===(a=this.$element)||void 0===a||a.triggerHandler("couldplay");return isNaN(parseFloat(u))||this._hlsDashHelper&&this._hlsDashHelper.setQualityLevel(u),!0}return!1;case"currentTime":return this._mediaProxy&&!isNaN(parseFloat(t))&&t>=0&&(this._mediaProxy.currentTime=t),s.default(l.default(d.prototype),"set",this).call(this,"currentTime",t,i);case"textTrackId":var _,m=null===(_=this._hlsDashHelper)||void 0===_?void 0:_.setTextTrackById(t);return!!m&&m.id;case"audioTrackId":var f,v=null===(f=this._hlsDashHelper)||void 0===f?void 0:f.setAudioTrackById(t);return!!v&&v.id;case"enforceDRM":var g,y;return t?null===(g=this._hlsDashHelper)||void 0===g?void 0:g.setDrmServers(this._drmServers,this._token):null===(y=this._hlsDashHelper)||void 0===y?void 0:y.setDrmServers({});default:return s.default(l.default(d.prototype),"set",this).call(this,e,t,i)}}},{key:"get",value:function(e){switch(e){case"currentTime":return this._mediaProxy?this._mediaProxy.currentTime:s.default(l.default(d.prototype),"get",this).call(this,"currentTime");case"qualities":return!!this._hlsDashHelper&&this._hlsDashHelper.getQualities();case"textTrackId":return!!this._hlsDashHelper&&this._hlsDashHelper.getTextTrackId();case"textTracks":return!!this._hlsDashHelper&&this._hlsDashHelper.getTextTracks();case"audioTrackId":return!!this._hlsDashHelper&&this._hlsDashHelper.getAudioTrackId();case"audioTracks":return!!this._hlsDashHelper&&this._hlsDashHelper.getAudioTracks();default:return s.default(l.default(d.prototype),"get",this).call(this,e)}}},{key:"load",value:function(e){this._avoidPreloadSrc||s.default(l.default(d.prototype),"load",this).call(this,e)}},{key:"play",value:function(e){if(this._avoidPreloadSrc&&this._hlsDashHelper){var t=this._inferMimeType(this._avoidPreloadSrc);this._hlsDashHelper.setSrc(this._avoidPreloadSrc,t),this._avoidPreloadSrc=null}s.default(l.default(d.prototype),"play",this).call(this,e)}},{key:"showChromeCastTargetPicker",value:function(){var e;null===(e=this._hlsDashHelper)||void 0===e||e.showChromeCastTargetPicker()}},{key:"_bindMediaEvents",value:function(){s.default(l.default(d.prototype),"_bindMediaEvents",this).call(this),this._bindMediaProxyEvents()}},{key:"_bindMediaProxyEvents",value:function(){this._mediaProxy&&(this._mediaProxy.addEventListener("playing",this._onEventBound),this._mediaProxy.addEventListener("pause",this._onEventBound),this._mediaProxy.addEventListener("durationchange",this._onEventBound),this._mediaProxy.addEventListener("timeupdate",this._onEventBound),this._mediaProxy.addEventListener("volumechange",this._onEventBound),this._mediaProxy.addEventListener("canplay",this._onEventBound),this._mediaProxy.addEventListener("seeked",this._onEventBound),this._mediaProxy.addEventListener("loadstart",this._onEventBound),this._mediaProxy.addEventListener("progress",this._onEventBound),this._mediaProxy.addEventListener("suspend",this._onEventBound),this._mediaProxy.addEventListener("abort",this._onEventBound),this._mediaProxy.addEventListener("error",this._onEventBound),this._mediaProxy.addEventListener("emptied",this._onEventBound),this._mediaProxy.addEventListener("stalled",this._onEventBound),this._mediaProxy.addEventListener("loadedmetadata",this._onEventBound),this._mediaProxy.addEventListener("loadeddata",this._onEventBound),this._mediaProxy.addEventListener("canplaythrough",this._onEventBound),this._mediaProxy.addEventListener("waiting",this._onEventBound),this._mediaProxy.addEventListener("seeking",this._onEventBound),this._mediaProxy.addEventListener("ended",this._onEventBound),this._mediaProxy.addEventListener("play",this._onEventBound),this._mediaProxy.addEventListener("ratechange",this._onEventBound),this._mediaProxy.addEventListener("resize",this._onEventBound))}},{key:"_unbindMediaEvents",value:function(){s.default(l.default(d.prototype),"_unbindMediaEvents",this).call(this),this._unbindMediaProxyEvents()}},{key:"_unbindMediaProxyEvents",value:function(){this._mediaProxy&&(this._mediaProxy.removeEventListener("playing",this._onEventBound),this._mediaProxy.removeEventListener("pause",this._onEventBound),this._mediaProxy.removeEventListener("durationchange",this._onEventBound),this._mediaProxy.removeEventListener("timeupdate",this._onEventBound),this._mediaProxy.removeEventListener("volumechange",this._onEventBound),this._mediaProxy.removeEventListener("canplay",this._onEventBound),this._mediaProxy.removeEventListener("seeked",this._onEventBound),this._mediaProxy.removeEventListener("loadstart",this._onEventBound),this._mediaProxy.removeEventListener("progress",this._onEventBound),this._mediaProxy.removeEventListener("suspend",this._onEventBound),this._mediaProxy.removeEventListener("abort",this._onEventBound),this._mediaProxy.removeEventListener("error",this._onEventBound),this._mediaProxy.removeEventListener("emptied",this._onEventBound),this._mediaProxy.removeEventListener("stalled",this._onEventBound),this._mediaProxy.removeEventListener("loadedmetadata",this._onEventBound),this._mediaProxy.removeEventListener("loadeddata",this._onEventBound),this._mediaProxy.removeEventListener("canplaythrough",this._onEventBound),this._mediaProxy.removeEventListener("waiting",this._onEventBound),this._mediaProxy.removeEventListener("seeking",this._onEventBound),this._mediaProxy.removeEventListener("ended",this._onEventBound),this._mediaProxy.removeEventListener("play",this._onEventBound),this._mediaProxy.removeEventListener("ratechange",this._onEventBound),this._mediaProxy.removeEventListener("resize",this._onEventBound))}},{key:"_pauseMedia",value:function(){this._hlsDashHelper?this._hlsDashHelper.pause():s.default(l.default(d.prototype),"_pauseMedia",this).call(this)}},{key:"_playMedia",value:function(e){this._hlsDashHelper?this._hlsDashHelper.play():s.default(l.default(d.prototype),"_playMedia",this).call(this,e)}},{key:"_onPlayoutChanged",value:function(e,t){s.default(l.default(d.prototype),"_onPlayoutChanged",this).call(this,e,t)}},{key:"_effectuateVolumeAndMuted",value:function(){var e=this._muted?!!this._muted:!!(this._volume<=0);return this._mediaProxy&&(this._mediaProxy.muted!==e&&(this._mediaProxy.muted=e),this._mediaProxy.volume!==this._volume&&(this._mediaProxy.volume=this._volume)),this._media&&(this._media.muted!==e&&(this._media.muted=e),this._media.volume!==this._volume&&(this._media.volume=this._volume)),e}},{key:"_inferMimeType",value:function(e){var t={processedSrc:e};return u.assetNeedsHLSSupport(t)?"application/x-mpegurl":u.assetNeedsMPDSupport(t)?"application/dash+xml":void 0}}]),d}(d.default)})),parcelRequire.register("jEHqj",(function(e,t){$parcel$export(e.exports,"default",(function(){return h})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("b3HW6"),s=parcelRequire("2PjQe"),l=parcelRequire("8DKpv"),r=parcelRequire("cWdJP"),d=parcelRequire("1MxPP"),u=parcelRequire("gjFvx");parcelRequire("3ymwn");var c=parcelRequire("4AQp6"),h=function(e){"use strict";i.default(u,e);var t=n.default(u);function u(e,i){var n,o,s;if(a.default(this,u),(n=t.call(this,e,i))._token=null,n._drmServers=null,n._avoidPreload=!0,n._avoidPreloadSrc=n._avoidPreload?0:null,n._broker=null,null===(o=n._opts)||void 0===o?void 0:o.publicationData)if("string"==typeof n._opts.publicationData.drm){var l;try{l=JSON.parse(n._opts.publicationData.drm)}catch(e){}(null==l?void 0:l.servers)&&(n._drmServers=l.servers)}else if("object"==typeof n._opts.publicationData.drm){var d=n._opts.publicationData.drm;(null==d?void 0:d.servers)&&(n._drmServers=d.servers)}if(n._opts&&n._opts.playoutData&&void 0!==n._opts.playoutData.token&&(n._token=n._opts.playoutData.token),void 0!==r.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")&&(n._broker=r.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")),n._hlsDashHelper=null,null===(s=n._broker)||void 0===s?void 0:s.isPlayerComponentAvailable("Html5HLSDashHelper")){var c=n._broker.getLoadedPlayerComponent("Html5HLSDashHelper");n._hlsDashHelper=new c,n._hlsDashHelper.setMedia(n._media),n._mediaProxy=n._hlsDashHelper.getMediaProxy(),n._bindMediaProxyEvents()}return n}return o.default(u,[{key:"exit",value:function(){var e;return this._hlsDashHelper=null===(e=this._hlsDashHelper)||void 0===e?void 0:e.exit(),s.default(l.default(u.prototype),"exit",this).call(this)}},{key:"reset",value:function(){var e;return null===(e=this._hlsDashHelper)||void 0===e||e.setSrc(null),s.default(l.default(u.prototype),"reset",this).call(this)}},{key:"set",value:function(e,t,i){if("src"===e&&this._useCanvasFrameSwitch&&this._writeToCanvas(),null!=this._media)switch(e){case"src":if("string"==typeof t||void 0===t&&null==t){var n,a,o,r,d=t,c=t.match(/#q=([^&#]*)/);if(c&&c.length>=1){d=t.replace("#q="+c[1],"");var h=c[1]}if(d!=(null===(n=this._hlsDashHelper)||void 0===n?void 0:n.getSrc())){var p=this._canplay;if(this._suspend=!1,this._canplay=!1,this._canplaythrough=!1,this._avoidPreload&&!p){var _;this._avoidPreloadSrc=d,null===(_=this.$element)||void 0===_||_.triggerHandler("couldplay")}else{var m,f=this._inferMimeType(d);null===(m=this._hlsDashHelper)||void 0===m||m.setSrc(d,f),this._avoidPreloadSrc=null}}else null===(a=this.$element)||void 0===a||a.triggerHandler("couldplay");return isNaN(parseFloat(h))||null===(o=this._hlsDashHelper)||void 0===o||o.setQualityLevel(h),null===(r=this.$media)||void 0===r||r.show(),!0}return!1;case"currentTime":return this._mediaProxy&&!isNaN(parseFloat(t))&&t>=0&&(this._mediaProxy.currentTime=t),s.default(l.default(u.prototype),"set",this).call(this,"currentTime",t,i);case"availabilityWindow":return!!this._hlsDashHelper&&this._hlsDashHelper.setAvailabilityWindow(t);case"qualityLevel":return!isNaN(parseFloat(t))&&(!!this._hlsDashHelper&&this._hlsDashHelper.setQualityLevel(t));case"textTrackId":var v,g=null===(v=this._hlsDashHelper)||void 0===v?void 0:v.setTextTrackById(t);return!!g&&g.id;case"audioTrackId":var y,b=null===(y=this._hlsDashHelper)||void 0===y?void 0:y.setAudioTrackById(t);return!!b&&b.id;case"enforceDRM":var w,k;return t?null===(w=this._hlsDashHelper)||void 0===w?void 0:w.setDrmServers(this._drmServers,this._token):null===(k=this._hlsDashHelper)||void 0===k?void 0:k.setDrmServers({});default:return s.default(l.default(u.prototype),"set",this).call(this,e,t,i)}}},{key:"get",value:function(e){switch(e){case"currentTime":return this._mediaProxy?this._mediaProxy.currentTime:s.default(l.default(u.prototype),"get",this).call(this,"currentTime");case"isLive":return!!this._hlsDashHelper&&this._hlsDashHelper.isLive();case"seekable":return!!this._hlsDashHelper&&this._hlsDashHelper.getSeekable();case"qualityLevel":return!!this._hlsDashHelper&&this._hlsDashHelper.getQualityLevel();case"qualities":return!!this._hlsDashHelper&&this._hlsDashHelper.getQualities();case"textTrackId":return!!this._hlsDashHelper&&this._hlsDashHelper.getTextTrackId();case"textTracks":return!!this._hlsDashHelper&&this._hlsDashHelper.getTextTracks();case"audioTrackId":return!!this._hlsDashHelper&&this._hlsDashHelper.getAudioTrackId();case"audioTracks":return!!this._hlsDashHelper&&this._hlsDashHelper.getAudioTracks();case"avoidPreloadSrc":return this._avoidPreloadSrc;default:return s.default(l.default(u.prototype),"get",this).call(this,e)}}},{key:"load",value:function(e){this._avoidPreloadSrc||s.default(l.default(u.prototype),"load",this).call(this,e)}},{key:"play",value:function(e){if(d.default("[Html5HLSDashVideoHead] play userAction: "+e),this._avoidPreloadSrc&&this._hlsDashHelper){var t=this._inferMimeType(this._avoidPreloadSrc);this._hlsDashHelper.setSrc(this._avoidPreloadSrc,t),this._avoidPreloadSrc=null}s.default(l.default(u.prototype),"play",this).call(this,e)}},{key:"showChromeCastTargetPicker",value:function(){var e;null===(e=this._hlsDashHelper)||void 0===e||e.showChromeCastTargetPicker()}},{key:"_bindMediaEvents",value:function(){s.default(l.default(u.prototype),"_bindMediaEvents",this).call(this),this._bindMediaProxyEvents()}},{key:"_bindMediaProxyEvents",value:function(){this._mediaProxy&&(this._mediaProxy.addEventListener("playing",this._onEventBound),this._mediaProxy.addEventListener("pause",this._onEventBound),this._mediaProxy.addEventListener("durationchange",this._onEventBound),this._mediaProxy.addEventListener("timeupdate",this._onEventBound),this._mediaProxy.addEventListener("volumechange",this._onEventBound),this._mediaProxy.addEventListener("canplay",this._onEventBound),this._mediaProxy.addEventListener("seeked",this._onEventBound),this._mediaProxy.addEventListener("loadstart",this._onEventBound),this._mediaProxy.addEventListener("progress",this._onEventBound),this._mediaProxy.addEventListener("suspend",this._onEventBound),this._mediaProxy.addEventListener("abort",this._onEventBound),this._mediaProxy.addEventListener("error",this._onEventBound),this._mediaProxy.addEventListener("emptied",this._onEventBound),this._mediaProxy.addEventListener("stalled",this._onEventBound),this._mediaProxy.addEventListener("loadedmetadata",this._onEventBound),this._mediaProxy.addEventListener("loadeddata",this._onEventBound),this._mediaProxy.addEventListener("canplaythrough",this._onEventBound),this._mediaProxy.addEventListener("waiting",this._onEventBound),this._mediaProxy.addEventListener("seeking",this._onEventBound),this._mediaProxy.addEventListener("ended",this._onEventBound),this._mediaProxy.addEventListener("play",this._onEventBound),this._mediaProxy.addEventListener("ratechange",this._onEventBound),this._mediaProxy.addEventListener("resize",this._onEventBound))}},{key:"_unbindMediaEvents",value:function(){s.default(l.default(u.prototype),"_unbindMediaEvents",this).call(this),this._unbindMediaProxyEvents()}},{key:"_unbindMediaProxyEvents",value:function(){this._mediaProxy&&(this._mediaProxy.removeEventListener("playing",this._onEventBound),this._mediaProxy.removeEventListener("pause",this._onEventBound),this._mediaProxy.removeEventListener("durationchange",this._onEventBound),this._mediaProxy.removeEventListener("timeupdate",this._onEventBound),this._mediaProxy.removeEventListener("volumechange",this._onEventBound),this._mediaProxy.removeEventListener("canplay",this._onEventBound),this._mediaProxy.removeEventListener("seeked",this._onEventBound),this._mediaProxy.removeEventListener("loadstart",this._onEventBound),this._mediaProxy.removeEventListener("progress",this._onEventBound),this._mediaProxy.removeEventListener("suspend",this._onEventBound),this._mediaProxy.removeEventListener("abort",this._onEventBound),this._mediaProxy.removeEventListener("error",this._onEventBound),this._mediaProxy.removeEventListener("emptied",this._onEventBound),this._mediaProxy.removeEventListener("stalled",this._onEventBound),this._mediaProxy.removeEventListener("loadedmetadata",this._onEventBound),this._mediaProxy.removeEventListener("loadeddata",this._onEventBound),this._mediaProxy.removeEventListener("canplaythrough",this._onEventBound),this._mediaProxy.removeEventListener("waiting",this._onEventBound),this._mediaProxy.removeEventListener("seeking",this._onEventBound),this._mediaProxy.removeEventListener("ended",this._onEventBound),this._mediaProxy.removeEventListener("play",this._onEventBound),this._mediaProxy.removeEventListener("ratechange",this._onEventBound),this._mediaProxy.removeEventListener("resize",this._onEventBound))}},{key:"_pauseMedia",value:function(){d.default("[Html5HLSDashVideoHead] _pauseMedia"),this._hlsDashHelper?this._hlsDashHelper.pause():s.default(l.default(u.prototype),"_pauseMedia",this).call(this)}},{key:"_playMedia",value:function(e){d.default("[Html5HLSDashVideoHead] _playMedia userAction: "+e),this._hlsDashHelper?this._hlsDashHelper.play():s.default(l.default(u.prototype),"_playMedia",this).call(this,e)}},{key:"_onPlayoutChanged",value:function(e,t){s.default(l.default(u.prototype),"_onPlayoutChanged",this).call(this,e,t)}},{key:"_effectuateVolumeAndMuted",value:function(){var e=this._muted?!!this._muted:!!(this._volume<=0);return this._mediaProxy&&(this._mediaProxy.muted!==e&&(this._mediaProxy.muted=e),this._mediaProxy.volume!==this._volume&&(this._mediaProxy.volume=this._volume)),this._media&&(this._media.muted!==e&&(this._media.muted=e),this._media.volume!==this._volume&&(this._media.volume=this._volume)),e}},{key:"_inferMimeType",value:function(e){var t={processedSrc:e};return c.assetNeedsHLSSupport(t)?"application/x-mpegurl":c.assetNeedsMPDSupport(t)?"application/dash+xml":void 0}}]),u}(u.default)})),parcelRequire.register("9mhRD",(function(e,t){$parcel$export(e.exports,"default",(function(){return f})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv");parcelRequire("2UpbQ");var d=parcelRequire("eV1xY"),u=parcelRequire("cWdJP"),c=parcelRequire("1MxPP"),h=parcelRequire("3ymwn"),p=0,_=function(e){window.YT.loaded&&"function"==typeof window.YT.Player?$parcel$interopDefault(d)(window).triggerHandler("bb_youtubeapiready"):p<20&&(p++,window.setTimeout(_,100))};if(void 0===window.YT){var m=null;"function"==typeof window.onYouTubeIframeAPIReady&&(m=window.onYouTubeIframeAPIReady),window.onYouTubeIframeAPIReady=function(){$parcel$interopDefault(d)(window).triggerHandler("bb_youtubeapiready"),"function"==typeof m&&m()}}else _(null);var f=function(e){"use strict";i.default(h,e);var t=n.default(h);function h(e,i){var n;if(a.default(this,h),(n=t.call(this,e,i))._commandQueue=[],n._youtubePlayer=null,n.$videoElement=null,n._lastError=null,n._pendingSet=[],n._videoId=null,n._queuedSrc=null,n._timeupdate=null,n._play=!1,n._seeked=!1,n._canplay=!1,n._opts=i,n._controls=0,n._currentTime=null,n._volume=null,n._muted=null,n._readyState=0,n._updateRate=250,n._opts&&n._opts.playoutData&&(n._controls="true"===n._opts.playoutData.youTubeSkinInMainPhase?1:0,n._hideControlBar=n._opts.playoutData.controlBar&&n._opts.playoutData.controlBar.match(/^hide$/i),n._hideRelatedItems=n._opts.playoutData.relatedItems&&n._opts.playoutData.relatedItems.match(/^hide$/i)),n._onYoutubeLoadedBound=n._onYoutubeLoaded.bind(o.default(n)),n._onYoutubeReadyBound=n._onYoutubeReady.bind(o.default(n)),n._onPlayerReadyBound=n._onPlayerReady.bind(o.default(n)),n._onStateChangeBound=n._onStateChange.bind(o.default(n)),n._onQualityChangeBound=n._onQualityChange.bind(o.default(n)),n._onErrorBound=n._onError.bind(o.default(n)),n._onApiChangeBound=n._onApiChange.bind(o.default(n)),$parcel$interopDefault(d)(window).on("bb_youtubeapiready",n._onYoutubeReadyBound),null!=n.$element&&(n.$element.addClass("bb-head-youtube"),n._detections=u.default.getService(n._opts.playerAliasOrId).getInstance("Detections"),n._api=u.default.getService(n._opts.playerAliasOrId).getInstance("PublicAPI"),n._hash="yt"+Math.random().toString(36).substr(2),n._$youtubeElement=n.$element.append('<div id="'+n._hash+'" style="pointer-events:all"></div>'),n._$blockLayer=$parcel$interopDefault(d)('<div class="bb-block-youtube-layer" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 1;pointer-events: all; user-select:none; cursor: pointer;"></div>'),n.$element.append(n._$blockLayer),n._detections&&n._detections.isiOS&&n._detections.iOSVersion<10&&n._api&&n._api.updatePlayout({commercials:"false",showBigPlayButton:"false"})),void 0===window.YT){if(!$parcel$interopDefault(d)("#bb-youtubeapi").length){var s=document.createElement("script");s.src=void 0!==i&&null!=i?i.protocol+"www.youtube.com/iframe_api":location.protocol+"//www.youtube.com/iframe_api",s.id="bb-youtubeapi",s.onload=n._onYoutubeLoadedBound;var l=document.getElementsByTagName("script")[0];n._retries=0,n._youtubeScriptTag=l.parentNode.insertBefore(s,l)}}else n._onYoutubeLoaded(null);return n}return s.default(h,[{key:"exit",value:function(){$parcel$interopDefault(d)(window).off("bb_youtubeapiready",this._onYoutubeReadyBound),clearInterval(this._timeupdate);try{null!=this._youtubePlayer&&this._youtubePlayer.getIframe()&&this._youtubePlayer.destroy()}catch(e){}return null!=this._youtubeScriptTag&&$parcel$interopDefault(d)(this._youtubeScriptTag).remove(),null!=this._youtubeElement&&$parcel$interopDefault(d)(this._youtubeElement).remove(),null!=this.$element&&this.$element.empty(),l.default(r.default(h.prototype),"exit",this).call(this)}},{key:"_onYoutubeLoaded",value:function(e){window.YT.loaded&&"function"==typeof window.YT.Player?$parcel$interopDefault(d)(window).triggerHandler("bb_youtubeapiready"):this._retries<20&&(this._retries++,window.setTimeout(this._onYoutubeLoadedBound,100))}},{key:"_onYoutubeReady",value:function(e){if($parcel$interopDefault(d)(window).off("bb_youtubeapiready",this._onYoutubeReadyBound),null==this._youtubePlayer){try{this._youtubePlayer=new window.YT.Player(this._hash,{width:"100%",height:"100%",playerVars:{enablejsapi:1,modestbranding:1,showinfo:0,fs:1,rel:0,wmode:"opaque",controls:this._controls,disablekb:1,autoplay:0},events:{onReady:this._onPlayerReadyBound,onStateChange:this._onStateChangeBound,onPlaybackQualityChange:this._onQualityChangeBound,onError:this._onErrorBound,onApiChange:this._onApiChangeBound}})}catch(e){}null!=this.$element&&(this._youtubeElement=this.$element.find("#"+this._hash))}}},{key:"_onPlayerReady",value:function(){if(this._youtubePlayerReady=!0,null!=this.$element){for(this._queuedSrc&&(this.set("src",this._queuedSrc),this._queuedSrc=null);this._pendingSet.length>0;){var e=this._pendingSet.shift();this.set(e.key,e.value)}var t=this;this._timeupdate=setInterval((function(){t._animationCallback()}),this._updateRate),this.$element.triggerHandler("ready")}for(var i=!1;i=this._commandQueue.shift();)i.cmd&&"function"==typeof h.prototype[i.cmd]&&h.prototype[i.cmd].apply(this,i.args)}},{key:"_onStateChange",value:function(e){if(void 0!==this.$element&&null!=this.$element&&null!=this._youtubePlayer)switch(e.data){case-1:this._play=!1;break;case 0:this._play=!1,null!=this.$element&&this.$element.triggerHandler("pause"),null!=this.$element&&this.$element.triggerHandler("ended");break;case 1:this._readyState=4,null!=this.$element&&this.$element.triggerHandler("durationchange"),this._play||(this._play=!0,null!=this.$element&&this.$element.triggerHandler("play")),null!=this.$element&&this.$element.triggerHandler("playing"),this._$blockLayer.hide();break;case 2:this._play=!1,null!=this.$element&&this.$element.triggerHandler("pause");break;case 3:this._readyState=2,null!=this.$element&&this.$element.triggerHandler("waiting");break;case 5:this._play=!1,this._canplay=!0,null!=this.$element&&this.$element.triggerHandler("canplay")}}},{key:"_onQualityChange",value:function(){void 0!==this.$element&&null!=this._youtubePlayer&&this.$element.triggerHandler("assetchange")}},{key:"_onError",value:function(e){void 0!==this.$element&&null!=this._youtubePlayer&&(this.$element.triggerHandler("error"),this._lastError=e)}},{key:"_onApiChange",value:function(){void 0!==this.$element&&this._youtubePlayer}},{key:"_animationCallback",value:function(){var e=this.get("currentTime"),t=this.get("volume"),i=this.get("muted"),n=null;try{n=this._youtubePlayer.getPlayerState()}catch(e){}this._seeked&&this._currentTime!=e&&(this.$element&&this.$element.triggerHandler("seeked"),this._seeked=!1),this._currentTime!=e&&(this._currentTime=e,this.$element&&this.$element.triggerHandler("timeupdate")),this._volume!=t&&(this._volume=t,this.$element&&this.$element.triggerHandler("volumechange")),this._muted!=i&&(this._muted=i,this.$element&&this.$element.triggerHandler("volumechange")),5!=n||this._canplay||(this._canplay=!0,this._readyState=4,this.$element&&(this.$element.triggerHandler("loadeddata"),this.$element.triggerHandler("canplay")))}},{key:"set",value:function(e,t){switch(e){case"currentTime":if(isNaN(parseFloat(t))||!(t>=0))return!1;if(null!=this._youtubePlayer&&this._youtubePlayerReady)try{return this._youtubePlayer.seekTo(t,!0),this._seeked=!0,!0}catch(e){return!1}else this._pendingSet.push({key:e,value:t});break;case"muted":if("boolean"!=typeof t)return!1;if(null!=this._youtubePlayer&&this._youtubePlayerReady)try{return 1==t?this._youtubePlayer.mute():this._youtubePlayer.unMute(),this.$element.triggerHandler("volumechange"),!0}catch(e){return!1}else this._pendingSet.push({key:e,value:t});break;case"src":if("string"!=typeof t)return!1;if(null!=this._youtubePlayer&&this._youtubePlayerReady)try{return this._videoId=t,this._canplay=!1,this._youtubePlayer.cueVideoById(this._videoId),!0}catch(e){return!1}else this._queuedSrc=t,this._videoId=t;break;case"volume":if(!(!isNaN(parseFloat(t))&&t>=0&&t<=1))return!1;if(null!=this._youtubePlayer&&this._youtubePlayerReady)try{return this._youtubePlayer.setVolume(100*t),this.$element.triggerHandler("volumechange"),!0}catch(e){return!1}else this._pendingSet.push({key:e,value:t});break;default:return l.default(r.default(h.prototype),"set",this).call(this,e,t)}}},{key:"get",value:function(e){if(null!=this._youtubePlayer)switch(e){case"buffered":var t={length:1,start:[],end:[]};t.start[0]=0;try{return isNaN(this.get("duration"))||isNaN(this._youtubePlayer.getVideoLoadedFraction())?t.end[0]=0:t.end[0]=this._youtubePlayer.getVideoLoadedFraction()*this.get("duration"),t}catch(e){return!1}break;case"currentTime":try{return this._youtubePlayer.getCurrentTime()}catch(e){return!1}break;case"duration":try{return 0==this._youtubePlayer.getDuration()?NaN:this._youtubePlayer.getDuration()}catch(e){return!1}break;case"ended":return null;case"error":return this._lastError;case"muted":try{return this._youtubePlayer.isMuted()}catch(e){return!1}break;case"networkState":return-1;case"paused":try{return 1!=this._youtubePlayer.getPlayerState()}catch(e){return!1}break;case"readyState":return this._readyState;case"seekable":var i=this;return{length:1,start:function(e){return 0},end:function(e){var t;return(null===(t=i._youtubePlayer)||void 0===t?void 0:t.getDuration())||0}};case"src":return this._videoId;case"volume":try{return this._youtubePlayer.getVolume()/100}catch(e){return!1}break;case"videoWidth":case"mediaWidth":return this._getVideoDimensions().x;case"videoHeight":case"mediaHeight":return this._getVideoDimensions().y;case"canControlVolume":return!0;default:return l.default(r.default(h.prototype),"get",this).call(this,e)}}},{key:"_getVideoDimensions",value:function(){try{var e=this._youtubePlayer.getPlaybackQuality()}catch(e){return!1}var t={};switch(e){case"small":t.y=240;break;case"medium":default:t.y=360;break;case"large":t.y=480;break;case"hd720":t.y=720;break;case"hd1080":t.y=1080;break;case"highres":t.y=1440}return t.x=t.y/9*16,t}},{key:"play",value:function(){if(c.default("[YoutubeHead] play"),null===this._youtubePlayer||!this._youtubePlayerReady)return this._commandQueue.push({cmd:"play"}),!1;try{return c.default(this._youtubePlayer.playVideo()),!0}catch(e){return!1}}},{key:"preload",value:function(){if(null===this._youtubePlayer||!this._youtubePlayerReady)return this._commandQueue.push({cmd:"preload"}),!1;try{return c.default("[YoutubeHead]"+this._videoId),c.default("[YoutubeHead]"+JSON.stringify(this._youtubePlayer.playVideo())),c.default("[YoutubeHead]"+this._youtubePlayer.pauseVideo()),!0}catch(e){return!1}}},{key:"pause",value:function(){if(null===this._youtubePlayer||!this._youtubePlayerReady)return this._commandQueue.push({cmd:"pause"}),!1;try{return this._youtubePlayer.pauseVideo(),!0}catch(e){return!1}}},{key:"load",value:function(){c.default("[YoutubeHead] load");var e=!1;if(null!==this._youtubePlayer&&this._youtubePlayerReady){if(this._canplay)this.$element.triggerHandler("canplay"),e=!0;else if(this._videoId){this._canplay=!1;try{this._youtubePlayer.cueVideoById(this._videoId),e=!0}catch(e){}}}else this._commandQueue.push({cmd:"load"}),e=!0;return e}},{key:"reset",value:function(){try{this._youtubePlayer.clearVideo()}catch(e){}this._play=!1,this._canplay=!1,this._controls&&this._hideControlBar&&this._hideRelatedItems||(this._$blockLayer.show(),this._$blockLayer.css("cursor","default"))}},{key:"restretch",value:function(){}}]),h}(h.default)})),parcelRequire.register("aDfrX",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var i=parcelRequire("cWdJP"),n=parcelRequire("1MxPP"),a=function(e,t){var a,o;if(this._opts=void 0!==t?t:null,this._eventNS="MediaManager"+String(Math.random()).replace(".",""),this._singleMediaMode=!1,this._avoidMutedAutoPlay=this._opts&&this._opts.playoutData&&("true"===this._opts.playoutData.avoidMutedAutoPlay||!0===this._opts.playoutData.avoidMutedAutoPlay),this._avoidPreload=!1,this._useCors="true"==="".concat(null===this||void 0===this||null===(a=this._opts)||void 0===a||null===(o=a.playoutData)||void 0===o?void 0:o.useCors),this.$element=null,void 0!==e&&null!=e){this.$element=e,i.default.getService(this._opts.playerAliasOrId).setInstance("MediaManager",this);var s=i.default.getService(this._opts.playerAliasOrId).getInstance("Detections");s&&("undefined"!==s.canAutoPlay&&(this._canAutoPlay=s.canAutoPlay),"undefined"!==s.canAutoPlayMuted&&(this._canAutoPlayMuted=s.canAutoPlayMuted),"undefined"!==s.avoidPreload&&(this._avoidPreload=s.avoidPreload)),this._sc=i.default.getService(this._opts.playerAliasOrId).getInstance("SoundController")}this._audio_loaded=!1,this._audio_promise=null,this._audio=document.createElement("audio");try{this._audio.setAttribute("muted",""),this._audio.setAttribute("preload",this._avoidPreload?"none":"metadata"),this._audio.setAttribute("playsinline",""),this._audio.setAttribute("webkit-playsinline",""),this._useCors&&this._audio.setAttribute("crossorigin",""),this._audio.setAttribute("controlsList","nodownload"),this._audio.setAttribute("aria-hidden","true")}catch(e){n.default("[MediaManager] audio error: "+e)}this._video_loaded=!1,this._video_promise=null,this._video=document.createElement("video");try{this._video.setAttribute("muted",""),this._video.setAttribute("preload",this._avoidPreload?"none":"metadata"),this._video.setAttribute("playsinline",""),this._video.setAttribute("webkit-playsinline",""),this._video.setAttribute("aria-hidden","true"),this._useCors&&this._video.setAttribute("crossorigin",""),this._video.setAttribute("controlsLdiaManager] video error: "+e)}};a.prototype.exit=function(){return i.default.getService(this._opts.playerAliasOrId).setInstance("MediaManager",null),null},a.prototype.load=function(e){return this.play(e,"_NONE_")},a.prototype.play=function(e,t){var i=this;n.default("[MediaManager] play userAction: "+e+", tagName: "+t);var a=void 0!==this._opts.playerPath?this._opts.playerPath:"";if(null!=a&&""!=a&&null==a.match(/\/$/)&&(a+="/"),"AUDIO"===t&&(this._audio_pauseDesired=!1),this._audio&&this._audio.play&&!this._audio_promise&&(!this._singleMediaMode||"AUDIO"===this._singleMediaMode))if(this._audio_loaded)this._audio_promise="AUDIO"===t?this._audio.play():this._audio.load(),void 0!==this._audio_promise&&this._audio_promise.then&&this._audio_promise.then((function(){i._audio_promise=null})).catch((function(){i._audio_promise=null}));else try{this._audio.src||this._audio.setAttribute("src",a+"dummy.mp3"),this._audio_promise="AUDIO"===t?this._audio.play():this._audio.load(),void 0!==this._audio_promise&&this._audio_promise.then?this._audio_promise.then((function(){i._audio_promise=null,i._audio_loaded=!0})).catch((function(e){i._audio_promise=null,n.default("[MediaManager] AUDIO promise rejected: ".concat(e.message))})):(n.default("[MediaManager] AUDIO promise not supported; falling back to user action tracking"),this._audio_promise=null,e&&(this._audio_loaded=!0))}catch(e){this._audio_promise=null}if("VIDEO"===t&&(this._video_pauseDesired=!1),this._video&&this._video.play&&!this._video_promise&&(!this._singleMediaMode||"VIDEO"===this._singleMediaMode))if(this._video_loaded)this._video_promise="VIDEO"===t?this._video.play():this._video.load(),void 0!==this._video_promise&&this._video_promise.then&&this._video_promise.then((function(){i._video_promise=null})).catch((function(){i._video_promise=null}));else try{mmy.mp3"),this._video_promise="VIDEO"===t?this._video.play():this._video.load(),void 0!==this._video_promise&&this._video_promise.then?this._video_promise.then((function(){i._video_promise=null,i._video_loaded=!0})).catch((function(e){var a;(i._video_promise=null,n.default("[MediaManager] VIDEO promise rejected: ".concat(e.message)),i._avoidMutedAutoPlay||i._video.muted)||(null===(a=i._sc)||void 0===a||a.setMuted(!0),i._video.muted=!0,i._video_promise="VIDEO"===t?i._video.play():i._video.load(),void 0!==i._video_promise&&i._video_promise.then&&i._video_promise.then((function(){i._video_promise=null})).catch((function(){i._video_promise=null})))})):(this._video_promise=null,e&&(this._video_loaded=!0))}catch(e){this._video_promise=null}return!0},a.prototype.pause=function(){var e,t=this;this._audio&&this._audio.pause&&(this._audio_promise&&this._audio_promise.then?(this._audio_pauseDesired=!0,this._audio_promise.then((function(){if(t._audio_pauseDesired){var e=t._audio.pause();e&&e.catch&&e.catch((function(e){}))}}))):(e=this._audio.pause())&&e.catch&&e.catch((function(e){})));this._video&&this._video.pause&&(this._video_promise&&this._video_promise.then?(this._video_pauseDesired=!0,this.tch((function(e){}))}}))):(e=the){})));return!0},a.prototype.getMedia=function(e){switch(e){case"AUDIO":return this._audio;case"VIDEO":return this._video}return null},a.prototype.setSingleMediaMode=function(e){return this._singleMediaMode=e,!0}})),parcelRequire.register("iNDwQ",(function(e,t){$parcel$export(e.exports,"default",(function(){return h})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=parcelRequire("1MxPP"),u=parcelRequire("3ymwn"),c=parcelRequire("4AQp6"),h=function(e){"use strict";i.default(u,e);var t=n.default(u);function u(e,i){var n;return a.default(this,u),(n=t.call(this,e,i))._muted=!1,n._onRemotePlayerChangeBound=n._onRemotePlayerChange.bind(o.default(n)),n._animationFrameCallbackBound=n._animationFrameCallback.bind(o.default(n)),n._castContext=null,n._castSession=null,n._remotePlayer=null,n._remotePlayerController=null,window.cast&&window.cast.framework&&window.cast.framework.CastContext&&(n._castContext=window.cast.framework.CastContext.getInstance(),n._castContext&&(n._castSession=n._castContext.getCurrentSession()),n._remotePlayer=new window.cast.framework.RemotePlayer,n._remotePlayerController=new window.cast.framework.RemotePlayerController(n._remotePlayer),n._remotePlayerController.addEventListener(window.cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,n._onRemotePlayerChangeBound),n._remotePlayerController.addEventListener(window.cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,n._onRemotePlayerChangeBound),n._remotePlayerController.addEventListener(window.cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,n._onRemotePlayerChangeBound),n._remotePlayerController.addEventListener(window.cast.framework.RemotePlayerEventType.DURATION_CHANGED,n._onRemotePlayerChangeBound),n._remotePlayerController.addEventListener(window.cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,n._onRemotePlayerChangeBound),n._remotePlayerController.addEventListener(window.cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,n._onRemotePlayerChangeBound),n._remotePlayerController.addEventListener(window.cast.framework.RemotePlayerEventType.CAN_CONTROL_VOLUME_CHANGED,n._onRemotePlayerChangeBound),n._remotePlayerController.addEventListener(window.cast.framework.RemotePlayerEventType.ANY_CHANGE,n._onRemotePlayerChangeBound)),n}return s.default(u,[{key:"exit",value:function(){return this.reset(),this._exiting=!0,this._remotePlayerController&&(this._remotePlayerController.removeEventListener(window.cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,this._onRemotePlayerChangeBound),this._remotePlayerController.removeEventListener(window.cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,this._onRemotePlayerChangeBound),this._remotePlayerController.removeEventListener(window.cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,this._onRemotePlayerChangeBound),this._remotePlayerController.removeEventListener(window.cast.framework.RemotePlayerEventType.DURATION_CHANGED,this._onRemotePlayerChangeBound),this._remotePlayerController.removeEventListener(window.cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,this._onRemotePlayerChangeBound),this._remotePlayerController.removeEventListener(window.cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,this._onRemotePlayerChangeBound),this._remotePlayerController.removeEventListener(window.cast.framework.RemotePlayerEventType.CAN_CONTROL_VOLUME_CHANGED,this._onRemotePlayerChangeBound),this._remotePlayerController.removeEventListener(window.cast.framework.RemotePlayerEventType.,this._remotePlayer=null,l.default(r.default(u.prototype),"exit",this).call(this)}},{key:"load",value:function(e){}},{key:"reset",value:function(){this._remotePlayerController&&this._remotePlayerController.stop()}},{key:"toFront",value:function(){null!=this.$element&&this.$element.css({zIndex:1,visibility:"visibile"}).siblings(".bb-head").css({zIndex:0,visibility:"hidden"})}},{key:"play",value:function(){this.$element&&this.$element.triggerHandler("play");var e=this._castSession.getMediaSession();if(e&&e.play(),this._remotePlayer&&this._remotePlayer.volumeLevel>=1&&(this._remotePlayer.volumeLevel=.99),this._remotePlayerController){var t=this._remotePlayerController;window.setTimeout((function(){t.setVolumeLevel()}),200),window.setTimeout((function(){t.setVolumeLevel()}),2e3)}}},{key:"pause",value:function(){var e=this._castSession.getMediaSession();if(e&&e.pause(),this._remotePlayer&&this._remotePlayer.volumeLevel>=1&&(this._remotePlayer.volumeLevel=.99),this._remotePlayerController){var t=this._remotePlayerController;window.setTimeout((function(){t.setVolumeLevel()}),200),window.setTimeout((function(){t.setVolumeLevel()}),2e3)}}},{key:"set",value:function(e,t){switch(e){case"currentTime":this._remotePlayer&&this._remotePlayerController&&(this._remotePlayer.currentTime=t,this._remotePlayerController.seek(),this._seeking=!0,this.$element&&this.$element.triggerHandler("seeking"));break;case"muted":this._muted=!!t,this._remotePlayer&&this._remotePlayer.isMuted!=this._muted&&this._remotePlayerController&&this._remotePlayerController.muteOrUnmute();break;case"src":if(this._castSession){this._src=t,this._src&&this._src.match(/^\/\//)&&(this._src="https:"+this._src);var i="application/x-mpeg",n=this._src.match(/\.(\w+)[?&#]*/);if(n&&n.length>1)switch(n[1].toLowerCase()){case"mp4":i="application/x-mpeg";break;case"m3u8":i="application/x-mpegURL";break;case"mp3":rc.match(/xlcdn\.com/)){var a=this,o=this._src+"&format=json";c.fetchData(o).then((function(e){if(e){var t=e.data||a._src;a._loadMedia(t,i)}else a._loadMedia(a._src,i)})).catch((function(e){a._loadMedia(a._src,i)}))}else this._loadMedia(this._src,i)}break;case"volume":this._remotePlayer&&this._remotePlayerController&&(this._remotePlayer.volumeLevel=Math.max(0,Math.min(t,.99)),this._remotePlayerController.setVolumeLevelmedia.MediaInfo(e,t),n=new window.chrome.cast.media.LoadRequest(i);n.autoplay=this._playing;var a=this;this._castSession.loadMedia(n).then((function(){window.setTimeout((function(){a._handleMediaLoaded(!0)}),2e3)}),(function(e){d.default("[ChromeCastHead] set src error code: "+e)}))}},{key:"_handleMediaLoaded",value:function(e){this._medialoaded=e,this._medialoaded&&(this._loadstart||(this._loadstart=!0,this.$element&&this.$element.triggerHandler("loadstart")),this.$element&&this.$element.triggerHandler("metadataloaded"),this.$element&&this.$element.triggerHandler("dataloaded"),this.$element&&this.$element.triggerHandler("canplay"),this.$element&&this.$element.triggerHandler("canplaythrough"),this._remotePlayer&&this._remotePlayer.isMuted!=this._muted&&this._remotePlayerController&&this._remotePlayerController.muteOrUnmute())}},{key:"get",value:function(e){switch(e){case"currentTime":if(this._remotePlayer)return this._remotePlayer.currentTime;break;case"duration":return this._remotePlayer?this._remotePlayer.duration:null;case"muted":return this._remotePlayer?this._remotePlayer.isMuted:null;case"volume":return this._remotePlayer?this._remotePlayer.volumeLevel:null;case"currentSrc":case"src":return this._src;case"error":case"buffered":case"ended":case"networkState":case"readyState":case"videoWidth":case"videoHeight":return null;case"paused":return this._remotePlayer?this._remotePlayer.isPaused:null;case"isLive":var t;return voi==t?void 0:t.liveSeekableRange);case"seekable":var i,n=this;return(null===(i=this._remotePlayer)||void 0===i?void 0:i.canSeek)?{length:1,start:function(e){return 0},end:function(e){return n._remotePlayer.duration}}:{length:0,start:function(e){return 0},end:function(e){return 0}};case"canControlVolume":return this._remotePlayer?this._remotePlayer.canControlVolume:null}}},{key:"restretch",value:function(){}},{key:"enableTimeUpdates",value:function(){this._timeUpdatesEnabled=!0}},{key:"disableTimeUpdates",value:function(){this._timeUpdatesEnabled=!1}},{key:"showCastTargetPicker",value:function(){}},{key:"_onRemotePlayerChange",value:function(e){if(null!=e&&Object(e)instanceof window.cast.framework.RemotePlayerChangedEvent)switch(e.type){case window.cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED:this._handleMediaLoaded(this._remotePlayer.isMediaLoaded);break;case window.cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED:this._playing=!this._remotePlayer.isPaused,this._playing?(this._seeking&&(this._seeking=!1,this.$element&&this.$element.triggerHandler("seeked")),this.$element&&this.$element.triggerHandler("playing")):this.$element&&this.$element.triggerHandler("pause");break;case window.cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED:if(this._playerState=this._remotePlayer.playerState,this._playerState===window.chrome.cast.media.PlayerState.IDLE){var t=this._castSession.getMediaSession();if(t)switch(t.idleReason){case"CANCELLED":case"INTERRUPTED":this._loadstart=!1,this.$element&&this.$element.triggerHandler("abort");break;case"FINISHED":this.$element&&this.$element.triggerHandler("pause"),this.$element&&this.$element.triggerHandler("ended");break;case"ERROR":this.$element&&this.$element.triggerHandler("error")}}else this._playerState===window.chrome.cast.media.PlayerState.PAUSED?(this._playing=!1,this.$element&&this.$element.triggerHandler("pause")):this._playerState===window.chrome.cast.media.PlayerState.PLAYING&&(this._playing=!0,this._seeking&&(this._seeking=!1,this.$element&&this.$element.triggerHandler("seeked")),this.$element&&this.$element.triggerHandler("playing"));break;case window.cast.framework.RemotePlayerEventType.DURATION_CHANGED:this.$element&&this.$element.triggerHandler("durationchange");break;case window.cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED:case window.cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED:this.$element&&this.$element.triggerHandler("volumechange");break;case window.cast.framework.RemotePlayerEventType.CAN_CONTROL_VOLUME_CHANGED:break;case window.cast.framework.RemotePlayerEventType.ANY_CHANGE:default:d.default("[ChromeCastHead] _onRemotePlayerChange field: "+e.field+", value: "+e.value)}}},{key:"_animationFrameCallback",value:function(){this._exiting||this._playing&&(c.default.requestAnimFrame(this._animationFrameCallbackBound),this._timeUpdatesEnabled&&!this._seeking&&this.$element&&this.$element.triggerHandler("timeupdate"))}}]),u}(u.default)})),parcelRequire.register("5qUnl",(function(e,t){$parcel$export(e.exports,"default",(function(){return p})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=parcelRequire("cWdJP"),u=parcelRequire("1MxPP"),c=parcelRequire("gjFvx");parcelRequire("3ymwn");var h=parcelRequire("4AQp6"),p=function(e){"use strict";i.default(c,e);var t=n.default(c);function c(e,i){var n,s,l,r;if(a.default(this,c),(n=t.call(this,e,i))._token=null,n._drmServers=null,n._avoidPreload=!0,n._avoidPreloadSrc=n._avoidPreload?0:null,n._broker=null,n._hlsDashHelper=null,n._wglHelper=null,n._onMediaLoadedMetaDataBound=n._onMediaLoadedMetaData.bind(o.default(n)),n._onMediaPlayingBound=n._onMediaPlaying.bind(o.default(n)),null===(s=n._opts)||void 0===s?void 0:s.publicationData)if("string"==typeof n._opts.publicationData.drm){var u;try{u=JSON.parse(n._opts.publicationData.drm)}catch(e){}(null==u?void 0:u.servers)&&(n._drmServers=u.servers)}else if("object"==typeof n._opts.publicationData.drm){var h=n._opts.publicationData.drm;(null==h?void 0:h.servers)&&(n._drmServers=h.servers)}if(n._opts&&n._opts.playoutData&&void 0!==n._opts.playoutData.token&&(n._token=n._opts.playoutData.token),void 0!==d.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")&&(n._broker=d.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")),null===(l=n._broker)||void 0===l?void 0:l.isPlayerComponentAvailable("WebGL360Helper")){var p=n._broker.getLoadedPlayerComponent("WebGL360Helper");p&&(n._wglHelper=new p(n.$element,n._opts),n._wglHelper.setMedia(n.$media),n._media&&(n._media.addEventListener("loadedmetadata",n._onMediaLoadedMetaDataBound),n._media.addEventListener("playing",n._onMediaPlayingBound)))}if(null===(r=n._broker)||void 0===r?void 0:r.isPlayerComponentAvailable("Html5HLSDashHelper")){var _=n._broker.getLoadedPlayerComponent("Html5HLSDashHelper");_&&(n._hlsDashHelper=new _,n._hlsDashHelper.setMedia(n._media),n._mediaProxy=n._hlsDashHelper.getMediaProxy(),n._bindMediaProxyEvents())}return n}return s.default(c,[{key:"exit",value:function(){var e,t;return this._hlsDashHelper=null===(e=this._hlsDashHelper)||void 0===e?void 0:e.exit(),this._media&&(this._media.removeEventListener("loadedmetadata",this._onMediaLoadedMetaDataBound),this._media.removeEventListener("playing",this._onMediaPlayingBound)),this._mediaOrig&&(this._mediaOrig.removeEventListener("loadedmetadata",this._onMediaLoadedMetaDataBound),this._mediaOrig.removeEventListener("playing",this._onMediaPlayingBound)),this._wglHelper=null===(t=this._wglHelper)||void 0===t?void 0:t.exit(),l.default(r.default(c.prototype),"exit",this).call(this)}},{key:"reset",value:function(){var e;return null===(e=this._hlsDashHelper)||void 0===e||e.setSrc(null),l.default(r.default(c.prototype),"reset",this).call(this)}},{key:"set",value:function(e,t,i){if("src"===e&&this._useCanvasFrameSwitch&&this._writeToCanvas(),null!=this._media)switch(e){case"src":if("string"==typeof t||void 0===t&&null==t){var n,a,o,s=t,d=t.match(/#q=([^&#]*)/);if(d&&d.length>=1){s=t.replace("#q="+d[1],"");var u=d[1]}if(s!=(null===(n=this._hlsDashHelper)||void 0===n?void 0:n.getSrc())){var h=this._canplay;if(this._suspend=!1,this._canplay=!1,this._canplaythrough=!1,this._avoidPreload&&!h){var p;this._avoidPreloadSrc=s,null===(p=this.$element)||void 0===p||p.triggerHandler("couldplay")}else{var _,m=this._inferMimeType(s);null===(_=this._hlsDashHelper)||void 0===_||_.setSrc(s,m),this._avoidPreloadSrc=null}}else null===(a=this.$element)||void 0===a||a.triggerHandler("couldplay");return isNaN(parseFloat(u))||null===(o=this._hlsDashHelper)||void 0===o||o.setQualityLevel(u),!0}return!1;case"currentTime":return this._mediaProxy&&!isNaN(parseFloat(t))&&t>=0&&(this._mediaProxy.currentTime=t),l.default(r.default(c.prototype),"set",this).call(this,"currentTime",t,i);case"qualityLevel":return!isNaN(parseFloat(t))&&(!!this._hlsDashHelper&&this._hlsDashHelper.setQualityLevel(t));case"textTrackId":var f,v=null===(f=this._hlsDashHelper)||void 0===f?void 0:f.setTextTrackById(t);return!!v&&v.id;case"enforceDRM":var g,y;return t?null===(g=this._hlsDashHelper)||void 0===g?void 0:g.setDrmServers(this._drmServers,this._token):null===(y=this._hlsDashHelper)||void 0===y?void 0:y.setDrmServers({});default:return l.default(r.default(c.prototype),"set",this).call(this,e,t,i)}}},{key:"get",value:function(e){switch(e){case"currentTime":return this._mediaProxy?this._mediaProxy.currentTime:l.default(r.default(c.prototype),"get",this).call(this,"currentTime");case"qualityLevel":return!!this._hlsDashHelper&&this._hlsDashHelper.getQualityLevel();case"qualities":return!!this._hlsDashHelper&&this._hlsDashHelper.getQualities();case"textTrackId":return!!this._hlsDashHelper&&this._hlsDashHelper.getTextTrackId();case"textTracks":return!!this._hlsDashHelper&&this._hlsDashHelper.getTextTracks();case"avoidPreloadSrc":return this._avoidPreloadSrc;default:return l.default(r.default(c.prototype),"get",this).call(this,e)}}},{key:"load",value:function(e){this._avoidPreloadSrc||l.default(r.default(c.prototype),"load",this).call(this,e),this._wglHelper&&this._wglHelper.requestControls(e)}},{key:"play",value:function(e){var t;if(u.default("[Html5HLSDashVideoGL360Head] play userAction: "+e),this._avoidPreloadSrc&&this._hlsDashHelper){var i=this._inferMimeType(this._avoidPreloadSrc);this._hlsDashHelper.setSrc(this._avoidPreloadSrc,i),this._avoid,"play",this).call(this,e),this._wglHelper&&this._wglHelper.requestControls(e)}},{key:"showChromeCastTargetPicker",value:function(){var e;null===(e=this._hlsDashHelper)||void 0===e||e.showChromeCastTargetPicker()}},{key:"restretch",value:function(e,t){if(l.default(r.default(c.prototype),"restretch",this).call(this,e,t),null!=this.$element&&null!=this._media&&this.$element.closest(".bb-fitme")&&this.$element.closest(".bb-fitme")[0]){var i=this.$element.parent()[0],n=void 0!==i.style.width&&i.style.width.match(/px/)?parseInt(i.style.width.replace("px","")):this.$element.width(),a=void 0!==i.style.height&&i.style.height.match(/px/)?parseInt(i.style.height.replace("px","")):this.$element.height();n>0&&a>0&&this._wglHelper&&this._wglHelper.setSize(n,a)}}},{key:"_bindMediaEvents",value:function(){l.default(r.default(c.prototype),"_bindMediaEvents",this).call(this),this._bindMediaProxyEvents()}},{key:"_bindMediaProxyEvents",value:function(){this._mediaProxy&&(this._mediaProxy.addEventListener("playing",this._onEventBound),this._mediaProxy.addEventListener("pause",this._onEventBound),this._mediaProxy.addEventListener("durationchange",this._onEventBound),this._mediaProxy.addEventListener("timeupdate",this._onEventBound),this._mediaProxy.addEventListener("volumechange",this._onEventBound),this._mediaProxy.addEventListener("canplay",this._onEventBound),this._mediaProxy.addEventListener("seeked",this._onEventBound),this._mediaProxy.addEventListener("loadstart",this._onEventBound),this._mediaProxy.addEventListener("progress",this._onEventBound),this._mediaProxy.addEventListener("suspend",this._onEventBound),this._mediaProxy.addEventListener("abort",this._onEventBound),this._mediaProxy.addEventListener("error",this._onEventBound),this._mediaProxy.addEventListener("emptied",this._onEventBound),this._mediaProxy.addEventListener("stalled",this._onEventBound),this._mediaProxy.addEventListener("loadedmetadata",this._onEventBound),this._mediaProxy.addEventListener("loadeddata",this._onEventBound),this._mediaProxy.addEventListener("canplaythrough",this._onEventBound),this._mediaProxy.addEventListener("waiting",this._onEventBound),this._mediaProxy.addEventListener("seeking",this._onEventBound),this._mediaProxy.addEventListener("ended",this._onEventBound),this._mediaProxy.addEventListener("play",this._onEventBound),this._mediaProxy.addEventListener("ratechange",this._onEventBound),this._mediaProxy.addEventListener("resize",this._onEventBound))}},{key:"_unbindMediaEvents",value:function(){l.default(r.default(c.prototype),"_unbindMediaEvents",this).call(this),this._unbindMediaProxyEvents()}},{key:"_unbindMediaProxyEvents",value:function(){this._mediaProxy&&(this._mediaProxy.removeEventListener("playing",this._onEventBound),this._mediaProxy.removeEventListener("pause",this._onEventBound),this._mediaProxy.removeEventListener("durationchange",this._onEventBound),this._mediaProxy.removeEventListener("timeupdate",this._onEventBound),this._mediaProxy.removeEventListener("volumechange",this._onEventBound),this._mediaProxy.removeEventListener("canplay",this._onEventBound),this._mediaProxy.removeEventListener("seeked",this._onEventBound),this._mediaProxy.removeEventListener("loadstart",this._onEventBound),this._mediaProxy.removeEventListener("progress",this._onEventBound),this._mediaProxy.removeEventListener("suspend",this._onEventBound),this._mediaProxy.removeEventListener("abort",this._onEventBound),this._mediaProxy.removeEventListener("error",this._onEventBound),this._mediaProxy.removeEventListener("emptied",this._onEventBound),this._mediaProxy.removeEventListener("stalled",this._onEventBound),this._mediaProxy.removeEventListener("loadedmetadata",this._onEventBound),this._mediaProxy.removeEventListener("loadeddata",this._onEventBound),this._mediaProxy.removeEventListener("canplaythrough",this._onEventBound),this._mediaProxy.removeEventListener("waiting",this._onEventBound),this._mediaProxy.removeEventListener("seeking",this._onEventBound),this._mediaProxy.removeEventListener("ended",this._onEventBound),this._mediaProxy.removeEventListener("play",this._onEventBound),this._mediaProxy.removeEventListener("ratechange",this._onEventBound),this._mediaProxy.removeEventListener("resize",this._onEventBound))}},{key:"_pauseMedia",value:function(){this._hlsDashHelper?this._hlsDashHelper.pause():l.default(r.default(c.prototype),this._hlsDashHelper.play():l.default(r.default(c.prototype),"_playMedia",this).call(this,e)}},{key:"_onPlayoutChanged",value:function(e,t){l.default(r.default(c.prototype),"_onPlayoutChanged",this).call(this,e,t)}},{key:"_onMediaLoadedMetaData",value:function(e){u.default("[Html5HLSDashVideoGL360Head] _onMediaLoadedMetaData"),this._videoWidth=this._getMediaWidth(),this._videoHeight=this._getMediaHeight(),this._videoWidth>0&&this._videoHeight>0&&this._wglHelper&&this._wglHelper.setMediaSize(this._videoWidth,this._videoHeight)}},{key:"_onMediaPlaying",value:function(e){u.default("[Html5HLSDashVideoGL360Head] _onMediaPlaying"),this._startTime=this._then=Date.now()}},{key:"_animationFrameCallback",value:function(){!this._exiting&&this._loadstart&&(h.default.requestAnimFrame(this._animationFrameCallbackBound),this._playing&&this._timeUpdatesEnabled&&!this._seeking&&this.$element.triggerHandler("timeupdate"),this._wglHelper&&(this._elapsed=Date.now()-this._then,this._elapsed>this._fpsInterval&&(this._then=Date.now()-this._elapsed%this._fpsInterval,this._wglHelper.renderContent()),this._wglHelper.renderGL()))}},{key:"_effectuateVolumeAndMuted",value:function(){var e=this._muted?!!this._muted:!!(this._volume<=0);return this._mediaProxy&&(this._mediaProxy.muted!==e&&(this._mediaProxy.muted=e),this._mediaProxy.volume!==this._volume&&(this._mediaProxy.volume=this._volume)),this._media&&(this._media.muted!==e&&(this._media.muted=e),this._media.volume!==this._volume&&(this._media.volume=this._volume)),e}},{key:"_inferMimeType",value:function(e){var t={processedSrc:e};return h.assetNeedsHLSSupport(t)?"application/x-mpegurl":h.assetNeedsMPDSupport(t)?"application/dash+xml":void 0}}]),c}(c.default)})),parcelRequire.register("ghBtM",(function(e,t){$parcel$export(e.exports,"default",(function(){return u})),parcelRequire("dhZ6J");var i=parcelRequire("dwEjG");parcelRequire("2UpbQ");var n=parcelRequire("eV1xY"),a=parcelRequire("cWdJP"),o=parcelRequire("1MxPP"),s=parcelRequire("c3JVl"),l=parcelRequire("6Qbq1"),r=parcelRequire("fNkWI"),d=parcelRequire("2EUST"),u=function(e,t){if(this.$element=null,this._opts=void 0!==t?t:null,this._adUnits=null,this._disabled=!1,this._disableCookies="false",this._clipDuration=0,this._clipAdUnits=null,this._clipDisabled=!1,this._clipIsInArticle=!1,this._shouldPause=!1,this._commercialBehaviour=null,this._minClipDurationPreroll=0,this._minClipDurationPostroll=0,this._skipOffset=-1,this._skipCounterText=null,this._skipButtonText=null,this._upcomingVideo=null,this._upcomingText=null,this._imaEnablePreloading=!1,this._imaCustomPlaybackForIOS10Plus=!1,this._adsystem_rdid=null,this._adsystem_idtype=null,this._adsystem_is_lat=!1,this._adsystem_buid=null,this._playout=null,this._playout_commercialBehaviour=null,this._playout_minClipDurationPreroll=0,this._playout_minClipDurationPostroll=0,this._playout_skipOffset=-1,this._playout_skipCounterText=null,this._playout_skipButtonText=null,this._playout_imaEnablePreloading=!1,this._adUnit_commercialBehaviour=null,this._adUnit_minClipDurationPreroll=0,this._adUnit_minClipDurationPostroll=0,this._adUnit_skipOffset=-1,this._adUnit_skipCounterText=null,this._adUnit_skipButtonText=null,this._adUnit_imaEnablePreloading=!1,this._adUnit_imaCustomPlaybackForIOS10Plus=!1,this._adSystemsSdk=null,this._perPositionAdCounter_clip={},this._perPositionAdCounter_load={},this._perPositionAdCounter_sess={},this._blockInsecureVPAID=!1,this._playoutLabel="untitled",this._canPlayInline=!1,this._isMobileDevice=!1,this._isTouchDevice=!1,this._placeholderText=null,this._placeholderShowReplay=!1,this._outstreamRefreshFinished=!1,this._pos=null,this._line=-1,this._currentAdUnit=null,this._loadedHtml5Media=!1,null!=this._opts){if(this._opts.publicationData&&(this._server=this._opts.publicationData.server),void 0!==this._opts.playoutData){var i=this._playout=this._opts.playoutData;void 0!==this._opts.playoutData.label&&(this._playoutLabel=this._opts.playoutData.label),void 0!==this._opts.playoutData.positions&&(this._adUnits=this._adUnitsFromLegacyPositions(this._opts.playoutData.positions)),this._disabled="false"==this._opts.playoutData.commercials,void 0!==this._opts.playoutData.disableCookies&&(this._disableCookies=this._opts.playoutData.disableCookies),void 0!==this._opts.playoutData.commercialBehaviour&&(this._commercialBehaviour=this._playout_commercialBehaviour=this._opts.playoutData.commercialBehaviour),void 0!==this._opts.playoutData.minClipDurationPreroll&&parseFloat(this._opts.playoutData.minClipDurationPreroll)>=0&&(this._minClipDurationPreroll=this._playout_minClipDurationPreroll=parseFloat(this._opts.playoutData.minClipDurationPreroll)),void 0!==this._opts.playoutData.minClipDurationPostroll&&parseFloat(this._opts.playoutData.minClipDurationPostroll)>=0&&(this._minClipDurationPostroll=this._playout_minClipDurationPostroll=parseFloat(this._opts.playoutData.minClipDurationPostroll)),void 0!==this._opts.playoutData.skipOffset&&parseFloat(this._opts.playoutData.skipOffset)>=0&&(this._skipOffset=this._playout_skipOffset=parseFloat(this._opts.playoutData.skipOffset),void 0!==this._opts.playoutData.skipCounterText&&null!=this._opts.playoutData.skipCounterText&&(this._skipCounterText=this._playout_skipCounterText=this._opts.playoutData.skipCounterText),void 0!==this._opts.playoutData.skipButtonText&&null!=this._opts.playoutData.skipButtonText&&(this._skipButtonText=this._playout_skipButtonText=this._opts.playoutData.skipButtonText)),this._forceCanAutoPlay="true"===this._opts.playoutData.forceCanAutoPlay,this._blockInsecureVPAID=this._playout_blockInsecureVPAID="true"==this._opts.playoutData.blockInsecureVPAID,void 0!==this._opts.playoutData.imaEnablePreloading&&(this._imaEnablePreloading=this._playout_imaEnablePreloading="true"===this._opts.playoutData.imaEnablePreloading),void 0!==i.useSession&&(this._useSession="true"===i.useSession),void 0!==i.adsystem_rdid&&(this._adsystem_rdid=i.adsystem_rdid),void 0!==i.adsystem_idtype&&(this._adsystem_idtype=i.adsystem_idtype),void 0!==i.adsystem_is_lat&&(this._adsystem_is_lat="true"===i.ads==i.adsystem_buid&&(this._adsystem_buid=i.adsystem_buid)}if(void 0!==this._opts.adServicesData){var o=this._adUnits&&this._adUnits.find&&this._adUnits.find((function(e){return e&&e.positionType===u.PosType.LEADER}));this._adUnits=this._opts.adServicesData,o&&this._adUnits.push(o)}if(void 0!==this._opts.clipData&&null!=this._opts.clipData){var s=this._opts.clipData;this._opts.msasClipData=s,void 0!==s.positions&&(this._clipAdUnits=this._adUnitsFromLegacyPositions(s.positions)),this._clipDuration=isNaN(parseFloat(s.length))?0:parseFloat(s.length),this._clipDisabled="true"==s.disablecommercials||!0===s.disablecommercials,this._clipIsInArticle=s.mediatype==u.PosType.INARTICLE||"mainroll"==s.mediatype}}if(this._onMouseOverBound=this._onMouseOver.bind(this),this._onMouseOutBound=this._onMouseOut.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onAdSystemStartedBound=this._onAdSystemStarted.bind(this),this._onAdSystemFinishedBound=this._onAdSystemFinished.bind(this),this._onAdSystemSkippedBound=this._onAdSystemSkipped.bind(this),this._onAdSystemFailedBound=this._onAdSystemFailed.bind(this),this._onAdSystemNoAdBound=this._onAdSystemNoAd.bind(this),this._onAdSystemRequestBound=this._onAdSystemRequest.bind(this),this._onResizedBound=this._onResized.bind(this),this._onLearnMoreClickedBound=this._onLearnMoreClicked.bind(this),this._onReplayClickedBound=this._onReplayClicked.bind(this),this._onPlayerPauseBound=this._onPlayerPause.bind(this),this._onPlayerPlayingBound=this._onPlayerPlaying.bind(this),void 0!==e&&null!=e){this.$element=e,a.default.getService(this._opts.playerAliasOrId).setInstance("MSASController",this),this.$wrapper=this.$element.closest(".bb_wrapper");var l=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections");l&&(this._canPlayInline=!!l.canPlayInline,this._isMobileDevice=!!l.isMobileDevice,this._isTouchDevice=!!l.isTouchDevice,this._avoidPreload=!!l.avoidPreload,this._isAndroid=!!l.isAndroid),this._playoutController=a.default.getService(this._opts.playerAliasOrId).getInstance("PlayoutController"),this.$placeholder=$parcel$interopDefault(n)('<a style="display:table-cell; vertical-align:middle; text-align:center; font-size:1.5em;text-decoration:none"></a>').css({backgroundColor:"#808080",color:"#000000"}),this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"none"}).append(this.$placeholder),this.$cta_style=$parcel$interopDefault(n)("<style></style>"),this._ctaBackColor="000000",this.$cta_style.text(".bb-commercial-layer .bb-cta-layer .bb-dimmed { background: "+r.default.rgbaCssColor(this._ctaBackColor,.4)+"; transition: background 0.3s linear; } .bb-commercial-layer .bb-cta-layer .bb-opaque { background: "+r.default.rgbaCssColor(this._ctaBackColor,1)+"; transition: background 0.3s linear; }"),this.$element.find(".bb-commercial-layer .bb-cta-layer").append(this.$cta_style),this.$cta=$parcel$interopDefault(n)('<div style="display:table-cell; height:100%;"><button class="bb-dimmed" style="border:solid 2px white; color:white; border-radius:16px; padding-right:1em; padding-left:1em; vertical-align:middle; letter-spacing:0.1em; font-family:Ubuntu, sans-serif; text-shadow:1px 1px 1px black;">LEARN MORE</button></div>'),this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}).append(this.$cta),l&&!l.isMobileDevice&&(this.$element.on("mouseover",this._onMouseOverBound),this.$element.on("mouseout",this._onMouseOutBound)),this._ctaRescale(),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.on("bb_adsystem_started",this._onAdSystemStartedBound),this.$element.on("bb_adsystem_finished",this._onAdSystemFinishedBound),this.$element.on("bb_adsystem_skipped",this._onAdSystemSkippedBound),this.$element.on("bb_adsystem_failed",this._onAdSystemFailedBound),this.$element.on("bb_adsystem_noad",this._onAdSystemNoAdBound),this.$element.on("bb_adsystem_request",this._onAdSystemRequestBound),this.$element.on("bb_resized",this._onResizedBound),this.$element.on("bb_content_resized",this._onResizedBound),this.$element.on("bb_fullscreen_change",this._onResizedBound),this.$element.on("pause",this._onPlayerPauseBound),this.$element.on("playing",this._onPlayerPlayingBound)}var c=null!=this._clipAdUnits?this._clipAdUnits:this._adUnits;null!=c&&(c=this._pruneLineItems(c),this._clipIsInArticle&&!this._canPlayInline&&null!=this.$element&&this.$element.triggerHandler("bb_flagchange",[{canPlayInline:c.length>0}])),(null==c?void 0:c.length)&&d.loadIMA()};u.prototype._onResized=function(e){this._ctaRescale()},u.prototype._onPlayerPause=function(e){var t,i,n;this._system&&"true"!==(null===(t=this._currentAdUnit)||void 0===t||null===(i=t.playout)||void 0===i?void 0:i.commercialPauseButton)&&(null===(n=this._playoutController)||void 0===n||n.setTemporaryPlayoutData({commercialPauseButton:"true"}))},u.prototype._onPlayerPlaying=function(e){var t,i,n,a,o;this._system&&"true"!==(null===(t=this._currentAdUnit)||void 0===t||null===(i=t.playout)||void 0===i?void 0:i.commercialPauseButton)&&(null===(n=this._playoutController)||void 0===n||n.setTemporaryPlayoutData({commercialPauseButton:null===(a=this._currentAdUnit)||void 0===a||null===(o=a.playout)||void 0===o?void 0:o.commercialPauseButton}))},u.prototype._onMouseOver=function(e){this.$cta&&this.$cta.find("button").removeClass("bb-dimmed").addClass("bb-opaque")},u.prototype._onMouseOut=function(e){this.$cta&&this.$cta.find("button").removeClass("bb-opaque").addClass("bb-dimmed")},u.prototype._ctaRescale=function(){if(this.$cta){var e="touch",t=this.$element.find(".bb-commercial-layer .bb-cta-layer").width();this.touchMode||(e=t>=1280?"XL":t>=600?"L":t>=480?"M":t>=300?"S":t>=220?"XS":"thumb"),this._pos===u.PosType.EXITSCREEN?(this.$cta.css({verticalAlign:"middle",textAlign:"center"}),"XL"==e?this.$cta.find("button").css({height:"98px",margin:"auto",fontSize:"36pt",borderRadius:"49px",borderWidth:"2px"}):"L"==e||"M"==e?this.$cta.find("button").css({height:"44px",margin:"auto",fontSize:"16pt",borderRadius:"22px",borderWidth:"2px"}):this.$cta.find("button").css({height:"32px",margin:"auto",fontSize:"12pt",borderRadius:"16px",borderWidth:"2px"})):(this.$cta.css({verticalAlign:"top",textAlign:"top_left"===this._ctaMidplayPosition?"left":"right"}),"XL"==e?this.$cta.find("button").css({height:"44px",margin:"20px",fontSize:"16pt",borderRadius:"22px",borderWidth:"1px"}):"L"==e||"M"==e?this.$cta.find("button").css({height:"32px",margin:"10px",fontSize:"12pt",borderRadius:"16px",borderWidth:"1px"}):this.$cta.find("button").css({height:"24px",margin:"5px",fontSize:"12pt",borderRadius:"12px",borderWidth:"1px"}),"BB_IMA"!==this._adSystemSdk&&this._isMobileDevice&&(this.$cta.css({verticalAlign:"top",textAlign:"right"}),this.$cta.find("button").css({margin:"2px"})))}},u.prototype.exit=function(){var e,t;return null!=this.$element&&(this.$element.off("mouseover",this._onMouseOverBound),this.$element.off("mouseout",this._onMouseOutBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$element.off("bb_adsystem_started",this._onAdSystemStartedBound),this.$element.off("bb_adsystem_finished",this._onAdSystemFinishedBound),this.$element.off("bb_adsystem_skipped",this._onAdSystemSkippedBound),this.$element.off("bb_adsystem_failed",this._onAdSystemFailedBound),this.$element.off("bb_adsystem_noad",this._onAdSystemNoAdBound),this.$element.off("bb_adsystem_request",this._onAdSystemRequestBound),this.$element.off("bb_resized",this._onResizedBound),this.$element.off("bb_content_resized",this._onResizedBound),this.$element.off("bb_fullscreen_change",this._onResizedBound),this.$element.off("pause",this._onPlayerPauseBound),this.$element.off("playing",this._onPlayerPlayingBound)),null===(e=this.$placeholder)||void 0===e||e.off("click",this._onLearnMoreClickedBound),null===(t=this.$placeholder)||void 0===t||t.find(".bb-placeholder-replay").off("click",this._onReplayClickedBound),this._line=-1,this._currentAdUnit={},null!=this._system&&(this._system=this._system.exit()),a.default.getService(this._opts.playerAliasOrId).setInstance("MSASController",null),null},u.prototype.reset=function(){var e;this._line=-1,this._currentAdUnit={},null!=this._system&&(this._system=this._system.exit()),null===(e=this._playoutController)||void 0===ion(e,t){return o.default("[MSASController] load, going to call play with shouldPause = true (preloadAds)"),this.play(e,!0,t)},u.prototype.loadAdServicesData=function(e){this._adUnits=e||[],this._clipAdUnits=null},u.prototype.play=function(e,t,i){if(this._userAction=i,this._shouldPause=!!t,this._disabled||this._clipDisabled)return!1;var n=!0;switch(e){case"PRE":this._playPosition(u.PosType.PREROLL)||(n=this._playNextPosition());break;case"MAIN":this._playPosition(u.PosType.INARTICLE)||this._playPosition(u.PosType.VMAP)||this._playPosition(u.PosType.MIDROLL)||this._playPosition(u.PosType.OVERLAY)||(n=this._playNextPosition());break;case"POST":this._playPosition(u.PosType.POSTROLL)||(n=this._playNextPosition());break;default:n=!1}return n},u.prototype.pause=function(){this._shouldPause=!0,null!=this._system&&this._system.pause()},u.prototype.resume=function(e){this._shouldPause=!1,null!=this._system&&this._system.resume(e)},u.prototype.set=function(e,t){var i=!1;switch(e){case"muted":case"volume":null!=this._system&&(i=this._system.set(e,t))}return i},u.prototype.get=function(e){switch(e){case"disabled":return this._disabled;case"adCounter_clip":var t=0;for(var i in this._perPositionAdCounter_clipsType.LEADER&&(t+=thissystem)return this._system.get(e)}},u.prototype.resetAdCounter_load=function(){this._perPositionAdCounter_load={},this.reset()},u.prototype.isPlaying=function(){return null!=this._system&&this._system.isPlaying()},u.PosType={PREROLL:"preroll",LEADER:"leader",INARTICLE:"inarticle",VMAP:"vmap",MIDROLL:"midroll",OVERLAY:"overlay",POSTROLL:"postroll",EXITSCREEN:"exitscreen"},u.prototype._adUnitsFromLegacyPositions=function(e){var t=null;if(void 0!==e&&null!=e){t=[];for(var i=0;i<e.length;i++){var n=e[i].systems;if(void 0!==n&&null!=n){for(var a=1,o="mainroll"==e[i].type?u.PosType.INARTICLE:e[i].type,s=void 0!==e[i].name?e[i].name:this._playoutLabel+"_"+this._pos,l={id:"-1",type:"AdUnit",status:"published",playout:{commercialControls:"automatic",commercialMuteButton:"true",commercialPauseButton:"true",textCommercialTimeRemaining:""},lineitems:[],positionType:o,title:"legacy",code:s,timeout:15},r=0;r<n.length;r++){var d=n[r].systemconfig;if(void 0!==d&&null!=d&&"true"!=d.disabled){var c=s+"_"+n[r].type+"_"+(void 0!==d.subtype?d.subtype:n[r].subtype)+"_"+a,h={id:"-1",playout:{},type:"LineItem",status:"published",title:d.label,code:c,priority:a};if("vms"===n[r].type)h.creativeType="creative",h.creativeId=d["media-clipid"];else h.creativeType="VAST",h.vast_url=d.url,h.vast_xml=d.xml,h.legacy_subtype=d.subtype,h.vast_subtype=n[r].subtype,h.timeout=d.timeout,h.legacy_isVPAIDAd="string"==typeof d.subtype&&d.subtype.match(/_inline/)||"true"==d.inline;h.playout={commercialBehaviour:this._commercialBehaviour,play_inline:d.inline,disableControls:"false",minClipDurationPreroll:this._minClipDurationPreroll,minClipDurationPostroll:this._minClipDurationPostroll,imaEnablePreloading:d.imaEnablePreloading},l.lineitems.push(h),a++}}t.push(l)}}}return t},u.prototype._onPlayoutChanged=function(e,t){if(t&&void 0!==t.playoutData){var i=t.playoutData;void 0!==i.label&&(this._playoutLabel=i.label),void 0!==i.positions&&(this._adUnits=this._adUnitsFromLegacyPositions(i.positions)),void 0!==i.commercials&&(this._disabled="false"==i.commercials),void 0!==i.disableCookies&&(this._disableCookies=i.disableCookies),void 0!==i.commercialBehaviour&&(this._commercialBehaviour=this._playout_commercialBehaviour=i.commercialBehaviour),void 0!==i.minClipDurationPreroll&&parseFloat(i.minClipDurationPreroll)>=0&&(this._minClipDurationPreroll=this._playout_minClipDurationPreroll=parseFloat(i.minClipDurationPreroll)),void 0!==i.minClipDurationPostroll&&parseFloat(i.minClipDurationPostroll)>=0&&(this._minClipDurationPostroll=this._playout_minClipDurationPostroll=parseFloat(i.minClipDurationPostroll)),void 0!==i.skipOffset&&parseFloat(i.skipOffset)>=0&&(this._skipOffset=this._playout_skipOffset=parseFloat(i.skipOffset),void 0!==i.skipCounterText&&null!=i.skipCounterText&&(this._skipCounterText=this._playout_skipCounterText=i.skipCounterText),void 0!==i.skipButtonText&&null!=i.skipButtonText&&(this._skipButtonText=this._playout_skipButtonText=i.skipButtonText)),void 0!==i.blockInsecureVPAID&&(this._blockInsecureVPAID=this._playout_blockInsecureVPAID="true"==i.blockInsecureVPAID),void 0!==i.imaEnablePreloading&&(this._imaEnablePreloading=this._playout_imaEnablePreloading="true"===i.imaEnablePreloading),void 0!==i.useSession&&(this._useSession="true"===i.useSession),void 0!==i.adsystem_rdid&&(this._adsystem_rdid=i.adsystem_rdid),void 0!==i.adsystem_idtype&&(this._adsystem_idtype=i.adsystem_idtype),void 0!==i.adsystem_is_lat&&(this._adsystem_is_lat="true"===i.adsystem_is_lat||1===parseInt(i.adsystem_is_lat,10)),void 0!==i.adsystem_buid&&(this._adsystem_buid=i.adsystem_buid)}},u.prototype._onLoadedClipData=function(e,t){if(this._clipDuration=0,this._clipPositions=null,this._clipDisabled=!1,this._clipIsInArticle=!1,this._perPositionAdCounter_clip={},void 0!==t&&null!=t){var i=t.clipData;this._opts.msasClipData=i,"object"==typeof i&&(i.length>0&&(this._clipDuration=parseFloat(i.length)),i.mediatype!=u.PosType.INARTICLE&&"mainroll"!=i.mediatype||(this._clipIsInArticle=!0),void 0!==i.positions&&(this._clipAdUnits=this._adUnitsFromLegacyPositions(i.positions)),void 0!==i.disablecommercials&&(this._clipDisabled="true"==i.disablecommercials||!0===i.disablecommercials))}},u.prototype._pruneLineItems=function(e){if(void 0!==e&&null!=e)for(var t=e.length-1;t>=0;t--){var i=e[t].lineitems;if(void 0!==i&&null!=i)for(var n=i.length-1;n>=0;n--){var a=i[n];if(void 0!==a&&null!=a){var o=!1;if("published"!=a.status?o=!0:this._clipIsInArticle&&!this._canPlayInline&&("true"==a.playout.play_inline||a.legacy_isVPAIDAd?this._clipDuration>0&&this._clipDuration<a.playout.minClipDuration&&(o=!0):o=!0),a.conditions){var s=void 0!==this._opts.userDeviceType?this._opts.userDeviceType:"UNKNOWN";"UNKNOWN"===s&&(s=this._isMobileDevice?"MOBILE":this._isTouchDevice?"TABLET":"DESKTOP");for(var l=!0,r=0;r<a.conditions.length;r++){var d=a.conditions[r];if()&&(u=!0):h.value!==s.toLower}l||(o=!0)}o&&i.splice(n,1)}}}return e},u._sortLineItems=function(e,t){return Number(e.priority)<Number(t.priority)?-1:Number(e.priority)>Number(t.priority)?1:0},u.prototype._preProcessAdUnit=function(e){return e},u.prototype._okForCommercialBehaviour=function(){var e=!1;if(this._clipIsInArticle)return!0;switch(this._commercialBehaviour){case"Once per load":e=!(this._perPositionAdCounter_load[this._pos]>0);break;case"Once per session":e=!(this._perPositionAdCounter_sess[this._pos]>0);break;default:e=!(this._perPositionAdCounter_clip[this._pos]>0)}return e},u.prototype._okForClipDuration=function(){var e=!0;switch(this._pos){case u.PosType.PREROLL:this._clipDuration>0&&this._clipDuration<this._minClipDurationPreroll&&(e=!1);break;case u.PosType.POSTROLL:this._clipDuration>0&&this._clipDuration<this._minClipDurationPostroll&&(e=!1)}return e},u.prototype._playPosition=function(e){o.default("MSASController.prototype._playPosition: "+e);var t=!1;this._pos=e.toLowerCase(),"mainroll"==this._pos&&(this._pos=u.PosType.INARTICLE),this._outstreamRefresh||this._pos!==u.PosType.INARTICLE&&!this._posInarticleSuccess?this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var i={display:"table",backgroundColor:this._ctaExitScreenShade?r.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===u.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(i):this._outstreamRefresh||this._pos!==u.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(i),this._commercialBehaviour=this._playout_commercialBehaviour,this._minClipDurationPreroll=this._playout_minClipDurationPreroll,this._minClipDurationPostroll=this._playout_minClipDurationPostroll,this._clipIsInArticle||this.reset();var n=null!=this._clipAdUnits?this._clipAdUnits:this._adUnits;if(null!=n){n=this._pruneLineItems(n),this._clipIsInArticle&&!this._canPlayInline&&null!=this.$element&&this.$element.triggerHandler("bb_flagchange",[{canPlayInline:n.length>0}]);for(var a=0;a<n.length&&(n[a].positionType!=this._pos||"published"!==n[a].status);)a++;if(a<n.length){var s=this._currentAdUnit=this._preProcessAdUnit(n[a]);this.$element.trigger("bb_adunit_initialized",[{adPosition:this._pos,adUnitCode:s.code}]),this._commercialBehaviour=this._adUnit_commercialBehaviour=s&&void 0!==s.playout&&void 0!==s.playout.commercialBehaviour?s.playout.commercialBehaviour:this._playout_commercialBehaviour,this._minClipDurationPreroll=this._adUnit_minClipDurationPreroll=s&&void 0!==s.playout&&void 0!==s.playout.minClipDurationPreroll&&parseFloat(s.playout.minClipDurationPreroll)>=0?Math.max(s.playout.minClipDurationPreroll,this._playout_minClipDurationPreroll):this._playout_minClipDurationPreroll,this._minClipDurationPostroll=this._adUnit_minClipDurationPostroll=s&&void 0!==s.playout&&void 0!==s.playout.minClipDurationPostroll&&parseFloat(s.playout.minClipDurationPostroll)>=0?Math.max(s.playout.minClipDurationPostroll,this._playout_minClipDurationPostroll):this._playout_minClipDurationPostroll,s&&s.playout&&parseFloat(s.playout.skipOffset)>=0?(this._skipOffset=this._adUnit_skipOffset=s&&s.playout&&void 0!==s.playout.skipOffset&&parseFloat(s.playout.skipOffset)>=0?parseFloat(s.playout.skipOffset):this._playout_skipOffset,this._skipCounterText=this._adUnit_skipCounterText=s&&s.playout&&void 0!==s.playout.skipCounterText&&null!=s.playout.skipCounterText?s.playout.skipCounterText:this._playout_skipCounterText,this._skipButtonText=this._adUnit_skipButtonText=s&&s.playout&&void 0!==s.playout.skipButtonText&&null!=s.playout.skipButtonText?s.playout.skipButtonText:this._playout_skipButtonText):(this._skipOffset=this._adUnit_skipOffset=this._playout_skipOffset,this._skipCounterText=this._adUnit_skipCounterText=this._playout_skipCounterText,this._skipButtonText=this._adUnit_skipButtonText=this._playout_skipButtonText),this._upcomingVideo=s&&void 0!==s.playout&&void 0!==s.playout.upcomingVideo&&null!=s.playout.upcomingVideo?s.playout.upcomingVideo:this._upcomingVideo,this._upcomingText=s&&void 0!==s.playout&&void 0!==s.playout.upcomingText&&null!=s.playout.upcomingText?s.playout.upcomingText:this._upcomingText,this._blockInsecureVPAID=this._adUnit_blockInsecureVPAID=s&&void 0!==s.playout&&"true"==s.playout.blockInsecureVPAID?"true"==s.playout.blockInsecureVPAID:this._playout_blockInsecureVPAID,this._imaEnablePreloading=this._adUnit_imaEnablePreloading=s&&s.playout&&void 0!==s.playout.imaEnablePreloading?"true"===s.playout.imaEnablePreloading:this._playout_imaEnablePreloading,this._imaCustomPlaybackForIOS10Plus=this._adUnit_imaCustomPlaybackForIOS10Plus=!(!s||!s.playout||void 0===s.playout.imaCustomPlaybackForIOS10Plus)&&"true"===s.playout.imaCustomPlaybackForIOS10Plus,s&&s.playout&&this.$placeholder&&(void 0!==s.playout.bgColor&&this.$placeholder.css("background-color",r.default.sanitizeCssColor(s.playout.bgColor)),void 0!==s.playout.placeholderTextColor&&this.$placeholder.css("color",r.default.sanitizeCssColor(s.playout.placeholderTextColor)),void 0!==s.playout.placeholderText&&this.$placeholder.text(s.playout.placeholderText),void 0!==s.playout.placeholderShowReplay&&(this._placeholderShowReplay="true"===s.playout.placeholderShowReplay)),s&&s.playout&&this.$cta&&(void 0!==s.playout.ctaMidplay&&(this._ctaShowMidplay=s.playout.ctaMidplay&&s.playout.ctaMidplay.match(/^show/i),s.playout.ctaMidplay&&s.playout.ctaMidplay.match(/^show_nonVPAID/i)&&(this._ctaShowMidplay="")),void 0!==s.playout.ctaMidplayPosition&&(this._ctaMidplayPosition=s.playout.ctaMidplayPosition),void 0!==s.playout.ctaExitScreen&&(this._ctaShowOnExitScreen=s.playout.ctaExitScreen&&s.playout.ctaExitScreen.match(/^show/i),s.playout.ctaExitScreen&&s.playout.ctaExitScreen.match(/^show_nonCompanion/i)&&(this._ctaShowOnExitScreen="")),void 0!==s.playout.ctaHighlightColor&&(this._ctaHighColor=r.default.sanitizeCssColor(s.playout.ctaHighlightColor),this.$cta.find("button").css("color",this._ctaHighColor),this.$cta.find("button").css("border-color",this._ctaHighColor)),void 0!==s.playout.ctaBackgroundColor&&(this._ctaBackColor=r.default.sanitizeCssColor(s.playout.ctaBackgroundColor),this.$cta_style.text(".bb-commercial-layer .bb-cta-layer .bb-dimmed { background: "+r.default.rgbaCssColor(this._ctaBackColor,.4)+"; transition: background 0.3s linear; } .bb-commercial-layer .bb-cta-layer .bb-opaque { background: "+r.default.rgbaCssColor(this._ctaBackColor,1)+"; transition: background 0.3s linear; }")),void 0!==s.playout.ctaExitScreenShade&&(this._ctaExitScreenShade=s.playout.ctaExitScreenShade&&s.playout.ctaExitScreenShade.match(/^true/i)),void 0!==s.playout.ctaText&&this.$cta.find("button").text(s.playout.ctaText.toUpperCase()),(this._ctaShowOnExitScreen||""===this._ctaShowOnExitScreen)&&this.$placeholder&&this.$placeholder.text("")),this._line=-1,this._okForCommercialBehaviour()&&this._okForClipDuration()&&(t=this._handleNextLineItem())}}return this._pos===u.PosType.INARTICLE&&t&&(this._posInarticleSuccess=!0),this._ctaRescale(),t},u.prototype._playNextPosition=function(e){var t;o.default("MSASController.prototype._playNextPosition: mayTrigger = "+e),null===(t=this._playoutController)||void 0===t||t.resetTemporaryPlayoutData();var i=!0;switch(void 0===e&&(e=!1),this._pos){case u.PosType.PREROLL:this._playPosition(u.PosType.LEADER)||(e&&this.$element.trigger("bb_msas_pre_finished"),i=!1);break;case u.PosType.LEADER:e&&this.$element.trigger("bb_msas_pre_finished"),i=!1;break;case u.PosType.INARTICLE:case u.PosType.VMAP:case u.PosType.OVERLAY:case u.PosType.MIDROLL:e&&this.$element.trigger("bb_msas_main_finished"),i=!1;break;case u.PosType.POSTROLL:this._playPositiCREEN:e&&this.$element.trigger("bb_msas_post_finished"),i=!1}return i},u.prototype.updateLineItemPlayout=function(e){var t;return null===(t=this._playoutController)||void 0===t?void 0:t.setTemporaryPlayoutData(e)},u.prototype._handleNextLineItem=function(){var e,t=!1;if(null===(e=this._playoutController)||void 0===e||e.resetTemporaryPlayoutData(),("array"===i.default(this._currentAdUnit.lineitems)||"object"==typeof this._currentAdUnit.lineitems&&null!=this._currentAdUnit.lineitems)&&(this._line++,this._line<this._currentAdUnit.lineitems.length)){var n,r=this._currentAdUnit.lineitems[this._line];o.default("[MSASController] _handleNextLineItem, LINEITEM code = "+r.code+"; id = "+r.id),void 0!==r.playout.disableControls||(r.playout.disableControls="false"),this._currentAdUnit&&this._currentAdUnit.playout&&(r.playout.commercialControls=this._currentAdUnit.playout.commercialControls,r.playout.commercialPauseButton=this._currentAdUnit.playout.commercialPauseButton,r.playout.commercialMuteButton=this._currentAdUnit.playout.commercialMuteButton,r.playout.textCommercialTimeRemaining=this._currentAdUnit.playout.textCommercialTimeRemaining,r.playout.commercialProgressBar=this._currentAdUnit.playout.commercialProgressBar,r.playout.commercialProgressBarColor=this._currentAdUnit.playout.commercialProgressBarColor,r.playout.eventHandlers=this._currentAdUnit.playout.eventHandlers),""==r.playout.commercialBehaviour&&delete r.playout.commercialBehaviour,null===(n=this._playoutController)||void 0===n||n.setTemporaryPlayoutData(r.playout),-1!=r.id&&(this._minClipDurationPreroll=r&&r.playout&&void 0!==r.playout.minClipDurationPreroll&&parseFloat(r.playout.minClipDurationPreroll)>=0?Math.max(r.playout.minClipDurationPreroll,this._adUnit_minClipDurationPreroll):this._adUnit_minClipDurationPreroll,this._minClipDurationPostroll=r&&r.playout&&void 0!==r.playout.minClipDurationPostroll&&parseFloat(r.playout.minClipDurationPostroll)>=0?Math.max(r.playout.minClipDurationPostroll,this._adUnit_minClipDurationPostroll):this._adUnit_minClipDurationPostroll,r&&r.playout&&parseFloat(r.playout.skipOffset)>=0?(this._skipOffset=r&&r.playout&&void 0!==r.playout.skipOffset&&parseFloat(r.playout.skipOffset)>=0?parseFloat(r.playout.skipOffset):this._adUnit_skipOffset,this._skipCounterText=r&&r.playout&&void 0!==r.playout.skipCounterText&&null!=r.playout.skipCounterText?r.playout.skipCounterText:this._adUnit_skipCounterText,this._skipButtonText=r&&r.playout&&void 0!==r.playout.skipButtonText&&null!=r.playout.skipButtonText?r.playout.skipButtonText:this._adUnit_skipButtonText):(this._skipOffset=this._adUnit_skipOffset,this._skipCounterText=this._adUnit_skipCounterText,this._skipButtonText=this._adUnit_skipButtonText),!this._blockInsecureVPAID&&r&&r.playout&&void 0!==r.playout.blockInsecureVPAID&&"true"===r.playout.blockInsecureVPAID?this._blockInsecureVPAID=!0:this._blockInsecureVPAID=this._blockInsecureVPAID||this._adUnit_blockInsecureVPAID,this._imaEnablePreloading=r&&r.playout&&void 0!==r.playout.imaEnablePreloading?"true"===r.playout.imaEnablePreloading:this._adUnit_imaEnablePreloading,this._imaCustomPlaybackForIOS10Plus=r&&r.playout&&void 0!==r.playout.imaCustomPlaybackForIOS10Plus&&""!==r.playout.imaCustomPlaybackForIOS10Plus?"true"===r.playout.imaCustomPlaybackForIOS10Plus:this._adUnit_imaCustomPlaybackForIOS10Plus);var d={systemconfig:{},type:null,subtype:null},c=this._line==this._currentAdUnit.lineitems.length-1?15e3:5e3;r&&parseFloat(r.timeout)>0?c=parseFloat(1e3*r.timeout):r&&r.playout&&parseFloat(r.playout.timeout)>0&&(c=parseFloat(1e3*r.playout.timeout));var h=!1;switch(r&&r.legacy_isVPAIDAd&&(h=!0),this._opts.msasSystemData={lineItem:r,config:d,timeout:c,isVPAIDAd:h,skipOffset:this._skipOffset,skipCounterText:this._skipCounterText,skipButtonText:this._skipButtonText,upcomingVideo:this._upcomingVideo,upcomingText:this._upcomingText,blockInsecureVPAID:this._blockInsecureVPAID,imaEnablePreloading:this._imaEnablePreloading,imaDisableCustomPlaybackForIOS10Plus:!this._imaCustomPlaybackForIOS10Plus},null!=this._system&&(this._system=this._system.exit()),r.creativeType){default:case"VAST":var p;d.type="VAST",d.systemconfig.adUnitCode=this._currentAdUnit.code,d.systemconfig.publication=null===(p=this._opts.playoutData)||void 0===p?void 0:p.publication,d.subtype=r.vast_subtype?r.vast_subtype:"generic",void 0!==r.legacy_subtype&&(d.systemconfig.subtype=r.legacy_subtype),d.systemconfig.url=r.vast_url,d.systemconfig.xml=r.vast_xml,d.systemconfig.vastPrefetch=r.vastPrefetch,d.systemconfig.useAuction="auction"===r.subtype&&"prebid"===r.auctionSubtype,d.systemconfig.useAuction&&(d.systemconfig.prebidConfig=r.auctionConfiguration),this._system=new s.default(this.$element,this._opts,{adsystem_rdid:this._adsystem_rdid,adsystem_idtype:this._adsystem_idtype,adsystem_is_lat:this._adsystem_is_lat?0:1,adsystem_buid:this._adsystem_buid});break;case"creative":d.type="VMS",d.subtype="generic",d.systemconfig["media-clipid"]=r.creativeId,this._system=new l.default(this.$element,this._opts)}if(null!=this._system){if((this._pos==u.PosType.PREROLL||this._pos==u.PosType.LEADER)&&(!this._avoidPreload||this._userAction)&&(!this._isAndroid||!this._forceCanAutoPlay)){var _=a.default.getService(this._opts.playerAliasOrId).getInstance("HeadController");null==_||this._loadedHtml5Media||(this._loadedHtml5Media=!0,_.loadHtml5Media(this._userAction))}this._okForCommercialBehaviour()&&this._okForClipDuration()&&(t=this._system.handlePosition(this._pos,this._shouldPause,this._userAction))}}return t},u.prototype._getCompanionAd=function(e){var t=null;try{var i=new window.google.ima.CompanionAdSelectionSettings;i.resourceType=window.google.ima.CompanionAdSelectionSettings.ResourceType.ALL,i.creativeType=window.google.ima.CompanionAdSelectionSettings.CreativeType.ALL,i.sizeCriteria=window.google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,t=e.getCompanionAds(1,1,i)}catch(e){}if(t&&t.length>0){var n=t[0],a=null;try{a=n.getContent(),n.getContentType()}catch(e){}return!!a&&(a+="<style>.bb-placeholder-layer div, .bb-placeholder-layer a, .bb-placeholder-layer img { width: 100% !important; pointer-events: all; } .bb-placeholder-layer div, .bb-placeholder-layer a { height: 100% !important; } .bb-placeholder-layer img { height: auto !important; }</style>")}return!1},u.prototype._onAdSystemStarted=function(e,t){this._adSystemSdk=t&&t.adProperties?t.adProperties.sdk:null,this._clickThroughUrl=t&&t.adProperties&&t.adProperties.clickThroughUrl?t.adProperties.clickThroughUrl:null,this._hasVPAIDAd=t&&t.adProperties&&("application/javascript"===t.adProperties.adContentType||"application/x-shockwave-flash"===t.adProperties.adContentType),this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"none"});var i=this._getCompanionAd(t.adProperties.ad);if(this.$placeholder&&i&&t&&t.adProperties&&t.adProperties.ad)this.$placeholder.html(i),this._hasCompanionAd=!0;else if(this.$placeholder){null==this._placeholderText&&(this._placeholderText=this.$placeholder.text());var n=this._placeholderText+"<br />",o=this.$placeholder.css("color");n+='<div class="bb-placeholder-anchors" style="display:inline-block; text-align:left; pointer-events:auto;">',this._clickThroughUrl&&(this.$placeholder.attr("href",this._clickThroughUrl),this.$placeholder.attr("target","_blank"),this.$placeholder.attr("rel","noopener"),this.$placeholder.css("pointer-events","auto"),this.$placeholder.on("click",this._onLearnMoreClickedBound)),this._placeholderShowReplay&&(n+='<br /><a class="bb-placeholder-anchor bb-placeholder-replay" href="#" style="text-decoration:none; color:'+o+';"><span style="font-weight:bold; background-color:#999; color:white; padding-left:0.25em; padding-right:0.2em;">&orarr;</span>&nbsp;replay</a><br />'),n+="</div>",this.$placeholder.bb_htmlSanitized(n),this.$placeholder.find(".bb-placeholder-replay").on("click",this._onReplayClickedBound),this._hasCompanionAd=!1}var s={display:"table",backgroundColor:"none"},l={display:"table",backgroundColor:this._ctaExitScreenShade?r.default.rgbaCssColor(this._ctaHighColor,.75):"none"};(this._pos===u.PosType.PREROLL||this._pos===u.PosType.POSTROLL||this._pos===u.PosType.INARTICLE)&&this._ctaShowMidplay&&"GOOGLE_IMA"===this._adSystemSdk&&this._isMobileDevice?(this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(s),this.$cta&&this.$cta.find("button").removeClass("bb-dimmed").addClass("bb-opaque")):(this._pos!==u.PosType.PREROLL&&this._pos!==u.PosType.POSTROLL&&this._pos!==u.PosType.INARTICLE||!this._ctaShowMidplay)&&(this._pos!==u.PosType.PREROLL&&this._pos!==u.PosType.POSTROLL&&this._pos!==u.PosType.INARTICLE||""!==this._ctaShowMidplay||this._hasVPAIDAd)?!this._outstreamRefresh&&this._pos===u.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(l):this._outstreamRefresh||this._pos!==u.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(l):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(s),this._ctaRescale(),void 0===t&&(t={});var d=t.adProperties;if(d&&"BB Adserver"===d.adSystem&&(!d.adContentType||d.adContentType.match(/application/i))){var c=a.default.getService(this._opts.playerAliasOrId).getInstance("SkinController");c&&c.hide("tapToUnmute")}},u.prototype._onLearnMoreClicked=function(e){if(("array"===i.default(this._currentAdUnit.lineitems)||"object"==typeof this._currentAdUnit.lineitems&&null!=this._currentAdUnit.lineitems)&&this._line<this._currentAdUnit.lineitems.length){var t=this._currentAdUnit.lineitems[this._line];if(t){var n={adType:t.vast_subtype?t.vast_subtype:"generic",adPosition:this._pos,lineItemCode:t.code};this.$element&&this.$element.triggerHandler("bb_adsystem_clicked",[n])}}},u.prototype._onReplayClicked=function(e){return e.preventDefault(),this._system&&this._system.replay(),!1},u.prototype._onAdSystemSkipped=function(e){if(this._perPositionAdCounter_clip[this._pos]?this._perPositionAdCounter_clip[this._pos]++:this._perPositionAdCounter_clip[this._pos]=1,this._perPositionAdCounter_load[this._pos]?this._perPositionAdCounter_load[this._pos]++:this._perPositionAdCounter_load[this._pos]=1,this._perPositionAdCounter_sess[this._pos]?this._perPositionAdCounter_sess[this._pos]++:this._perPositionAdCounter_sess[this._pos]=1,this._pos!==u.PosType.VMAP){this._system&&(this._system=this._system.exit()),this._outstreamRefresh||this._pos!==u.PosType.INARTICLE&&!this._posInarticleSuccess||this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var t={display:"table",backgroundColor:this._ctaExitScreenShade?r.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===u.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t):this._outstreamRefresh||this._pos!==u.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t),this._playNextPosition(!0)}},u.prototype._onAdSystemFinished=function(e){this._perPositionAdCounter_clip[this._pos]?this._perPositionAdCounter_clip[this._pos]++:this._perPositionAdCounter_clip[this._pos]=1,this._perPositionAdCounter_load[this._pos]?this._perPositionAdCounter_load[this._pos]++:this._perPositionAdCounter_load[this._pos]=1,this._perPositionAdCounter_sess[this._pos]?this._perPositionAdCounter_sess[this._pos]++:this._perPositionAdCounter_sess[this._pos]=1,this._system&&(this._system=this._system.exit()),this._outstreamRefresh||this._pos!==u.PosType.INARTICLE&&!this._posInarticleSuccess||this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var t={display:"table",backgroundColor:this._ctaExitScreenShade?r.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===u.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t):this._outstreamRefresh||this._pos!==u.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t),this._playNextPosition(!0)},u.prototype._onAdSystemFailed=function(e){null!=this._system&&(this._system=this._system.exit()),this._outstreamRefresh||this._pos!==u.PosType.INARTICLE&&!this._posInarticleSuccess||this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var t={display:"table",backgroundColor:this._ctaExitScreenShade?r.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===u.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t):this._outstreamRefresh||this._pos!==u.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t),this._okForCommercialBehaviour()&&this._okForClipDuration()&&this._handleNextLineItem()||(this.isOutstreamRefreshEnabled()&&(this._outstreamRefreshFinished=!0,this.$element.trigger("bb_msas_outstream_refresh_finished")),this._playNextPosition(!0))},u.prototype._onAdSystemNoAd=function(e){null!=this._system&&(this._system=this._system.exit()),this._outstreamRefresh||this._pos!==u.PosType.INARTICLE&&!this._posInarticleSuccess||this.$element&&this.$element.find(".bb-commercial-layer .bb-placeholder-layer").css({display:"table"});var t={display:"table",backgroundColor:this._ctaExitScreenShade?r.default.rgbaCssColor(this._ctaHighColor,.75):"none"};!this._outstreamRefresh&&this._pos===u.PosType.EXITSCREEN&&this._posInarticleSuccess&&this._ctaShowOnExitScreen?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t):this._outstreamRefresh||this._pos!==u.PosType.EXITSCREEN||!this._posInarticleSuccess||""!==this._ctaShowOnExitScreen||this._hasCompanionAd?this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css({display:"none"}):this.$element&&this.$element.find(".bb-commercial-layer .bb-cta-layer").css(t),this._okForCommercialBehaviour()&&this._okForClipDuration()&&this._handleNextLineItem()||(this.isOutstreamRefreshEnabled()&&(this._outstreamRefreshFinished=!0,this.$element.trigger("bb_msas_outstream_refresh_finished")),this._playNextPosition(!0))},u.prototype._onAdSystemRequest=function(e,t){switch(null==t?void 0:t.action){case"content_pause":var i;null===(i=this._playoutController)||void 0===i||i.setTemporaryPlayoutData({commercialPauseButton:"true",commercialMuteButton:"true",commercialProgressBar:"true",disableControls:"false"});break;case"content_resume":var n,a;(null===(n=this._currentAdUnit)||void 0===n?void 0:n.playout)&&(null===(a=this._playoutController)||void 0===a||a.setTemporaryPlayoutData({commercialPauseButton:this._currentAdUnit.playout.commercialPauseButton,commercialMuteButton:this._currentAdUnit.playout.commercialMuteButton,commercialProgressBar:this._currentAdUnit.playout.commercialProgressBar,disableControls:this._currentAdUnit.playout.disableControls}))}},u.prototype.isOutstreamRefreshEnabled=function(){var e,t,i,n,a;return(!this._currentAdUnit||(null===(e=this._currentAdUnit)||void 0===e||null===(t=e.lineitems)||void 0===t?void 0:t.length))&&!0!==(null===(i=this._opts)||void 0===i?void 0:i.isRenderer)&&"true"===(null===(n=this._opts)||void 0===n||null===(a=n.playoutData)||void 0===a?void 0:a.outstreamRefresh)},u.prototype.isOutstreamRefreshRetryEnabled=function(){var e,t;return this.isOutstreamRefreshEnabled()&&"true"===(null===(e=this._opts)||void 0===e||null===(t=e.playoutData)||void 0===t?void 0:t.outstreamRefreshRetry)}})),parcelRequire.register("c3JVl",(function(e,t){$parcel$export(e.exports,"default",(function(){return y})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv"),d=parcelRequire("kwlj2"),u=parcelRequire("bSO3J"),c=parcelRequire("gq7Yu");parcelRequire("2UpbQ");var h=parcelRequire("eV1xY"),p=parcelRequire("cWdJP"),_=parcelRequire("1MxPP"),m=parcelRequire("5SYG3");parcelRequire("lGhIk");var f=parcelRequire("4AQp6"),v=parcelRequire("bcEVx"),g=parcelRequire("50XHt"),y=function(e){"use strict";i.default(c,e);var t=n.default(c);function c(e,i){var n,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default(this,c),(n=t.call(this,e,i,s))._rdid=null,n._idtype=null,n._is_lat=!1,n._buid=null,n._consentString="",n._consentGdprApplies=0,n._consentCmpVersion=0,n._adMacroHelper=new g.default(e,i),s&&n._adMacroHelper.updateDeviceInfo(s),n.$wrapper&&(n._consentFrameworkSupport=p.default.getService(n._opts.playerAliasOrId).getInstance("ConsentFrameworkSupport"),n._consentFrameworkSupport&&n._consentFrameworkSupport.getCmpData(n._onCmpDataSuccessCallback.bind(o.default(n)),n._onCmpDataErrorCallback.bind(o.default(n)))),n}return s.default(c,[{key:"exit",value:function(){return this.$outstreamIframe&&this.$outstreamIframe.remove(),l.default(r.default(c.prototype),"exit",this).call(this)}},{key:"handlePosition",value:function(e,t,i){this._shouldPause=t,this._userAction=i;var n=!1;if(void 0!==e&&(this._pos=e),this._opts.msasPos=this._pos.toUpperCase(),this._loaded)this._headController&&(this._shouldPause||this._headController.play(this._userAction)),n=!0;else if(null!=this._config&&void 0!==this._config.systemconfig){var a=this;if(this._url=this._config.systemconfig.url,this._xml=this._config.systemconfig.xml,this._vastPrefetch=!0===this._config.systemconfig.vastPrefetch||"true"===this._config.systemconfig.vastPrefetch||this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.vastPrefetch,this._useAuction=this._config.systemconfig.useAuction,!this._url&&this._useAuction&&(this._url="__auction_direct__"),!this._url&&!this._xml)return!1;if(this._xml&&(this._url=null),this._url&&(this._urlPromise=this._handleMacros(this._url).then((function(e){e&&(a._url=e,a._vastPrefetch||a._useAuction||(a._data=f.wrapVastUrlInXml(a._url)))}))),this._vastPrefetch)this._data=null;else if(this._xml){var o,s,l;null===(o=this.$element)||void 0===o||o.trigger("bb_ad_log",[{msg:"Ad event: going to handle VAST XML "}]);var r={adType:(null===(s=this._config)||void 0===s?void 0:s.subtype)||"unknown",adPosition:this._pos,adRequestUrl:"n/a"};this._lineItem&&(r.lineItemCode=this._lineItem.code),null===(l=this.$element)||void 0===l||l.triggerHandler("bb_adsystem_initialized",[r]),this._data=this._xml}null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null),this._timeoutHandle=new f.Timer(this._onTimeout.bind(this),this._timeout),this._isInview||this._timeoutHandle.pause(),n=this._useAuction?this._getPrebidData(this._dataCallback.bind(this)):this._getData(this._dataCallback.bind(this))}return n}},{key:"_handleMacros",value:function(e){var t=this;return d.default($parcel$interopDefault(u).mark((function i(){var n,a,o,s,l,r,d,c,h,f,v,g,y,b,w,k;return $parcel$interopDefault(u).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c=(new Date).getTime().toString(),h=window.location.protocol+"//"+window.location.hostname+window.location.pathname,f=(null===(n=p.default.getService(t._opts.playerAliasOrId).getInstance("PublicAPI"))||void 0===n?void 0:n.getClipData())||{},(v=m.getCookie("uuid"))||(v=Math.uuid()),e.match(/doubleclick\.net\/[\w/]*pfadx\//i)&&(t._config.subtype="dart"),-1!==e.indexOf("doubleclick.net/gampad/")&&(t._config.subtype="dfp"),t._useAuction&&"__auction_direct__"===t._url&&(t._config.subtype="auction_direct"),e.startsWith("[aps:")&&(t._config.subtype="aps"),_.default("[MSASSystemVAST] handlePosition url: "+e),t.$element&&t.$element.trigger("bb_ad_log",[{msg:"Ad event: going to handle VAST URL "+t._url}]),i.t0=t._config.subtype,i.next="zoomin"===i.t0?15:"smartclip"===i.t0?17:"smartclip_old"===i.t0?18:"openx"===i.t0?26:"dart"===i.t0?28:"dfp"===i.t0?38:44;break;case 15:return t._url=t._url.replace(/&unk=[^&]*/g,"&unk="+v),i.abrupt("break",44);case 17:return i.abrupt("break",44);case 18:return g="400x320","MIDROLL"!==t._pos&&"OVERLAY"!==t._pos||(g="400x299"),"POSTROLL"===t._pos&&(g="400x300"),e.replace(/;sz=[^;|?]*/g,";sz="+g),e=(e=(e=e.replace(/\|;\|sz=[^;|?]*/g,"|;|sz="+g)).replace(/;ord=[^;|?]*/g,";ord="+c)).replace(/\|;\|ord=[^;|?]*/g,"|;|ord="+c),i.abrupt("break",44);case 26:return e=e.replace(/&r=[^&]*/g,"&r="+Math.random()),i.abrupt("break",44);case 28:return e=(e=(e=(e=e.replace(/;kw=[^;|?]*/g,";kw=html5linearnonlinear")).replace(/\|;\|kw=[^;|?]*/g,"|;|kw=html5linearnonlinear")).replace(/;ord=[^;|?]*/g,";ord="+c)).replace(/\|;\|ord=[^;|?]*/g,"|;|ord="+c),v&&t._idtype&&void 0!==t._is_lat&&(e=(e=e.match(/;dc_rdid=?[^;?&#]*/)?e.replace(/;dc_rdid=?[^;?&#]*/g,";dc_rdid="+v):e+";dc_rdid="+v).match(/;dc_lat=?[^;?&#]*/)?e.replace(/;dc_lat=?[^;?&#]*/g,";dc_lat="+(t._is_lat?"1":"0")):e+";dc_lat="+(t._is_lat?"1":"0")),t._restriction_npaOnly&&(e.match(/;npa=?[^;?&#]*/)?e=e.replace(/;npa=?[^;?&#]*/g,";npa=1"):e+=";npa=1"),e=(e=(e=t._addCustomDartParameters(e)).replace(/&url=[^&]*/g,"&url="+encodeURIComponent(h))).replace(/&correlator=[^&]*/g,"&correlator="+c),i.abrupt("break",44);case 38:return e=(e=e.replace(/&url=[^&]*/g,"&url="+encodeURIComponent(h))).replace(/&correlator=[^&]*/g,"&correlator="+c),v&&t._idtype&&void 0!==t._is_lat&&(e=(e=null!=(e=e.match(/[?&]{1}rdid=?[^&#]*/)?(e=e.replace(/&rdid=?[^&#]*/g,"&rdid="+v)).replace(/\?rdid=?[^&#]*/g,"?rdid="+v):e+(e.indexOf("?")>=0?"&":"?")+"rdid="+v).match(/[?&]{1}idtype=?[^&#]*/)?(e=e.replace(/&idtype=?[^&#]*/g,"&idtype="+t._idtype)).replace(/\?idtype=?[^&#]*/g,"?idtype="+t._idtype):e+(e.indexOf("?")>=0?"&":"?")+"idtype="+t._idtype).match(/[?&]{1}is_lat=?[^&#]*/)?(e=e.replace(/&is_lat=?[^&#]*/g,"&is_lat="+(t._is_lat?"1":"0"))).replace(/\?is_lat=?[^&#]*/g,"?is_lat="+(t._is_lat?"1":"0")):e+(e.indexOf("?")>=0?"&":"?")+"is_lat="+(t._is_lat?"1":"0")),t._restriction_npaOnly&&(e=null!=e.match(/[?&]{1}npa=?[^&#]*/)?(e=e.replace(/&npa=?[^&#]*/g,"&npa=1")).replace(/\?npa=?[^&#]*/g,"?npa=1"):e+(e.indexOf("?")>=0?"&":"?")+"npa=1"),e=t._addCustomDfPParameters(e),i.abrupt("break",44);case 44:return _.default("[MSASSystemVAST] url before replacing macros = "+t._url),y=window.location.protocol+"//"+window.location.hostname,b=y,"true"!==(null===(a=t._lineItem)||void 0===a||null===(o=a.playout)||void 0===o?void 0:o.blockInsecureVPAID)&&!0!==(null===(s=t._lineItem)||void 0===s||null===(l=s.playout)||void 0===l?void 0:l.blockInsecureVPAID)||(null===(r=t._detections)||void 0===r?void 0:r.isiOS)&&t._detections.iOSVersion<10||(b=window.location.protocol+"//imasdk.googleapis.com"),i.next=50,t._adMacroHelper.findAndResolveMacros(e,!0);case 50:return e=i.sent,"aps"===t._config.subtype&&(e=decodeURIComponent(e)),e=(e=(e=e.replace(/\[clipTitle\]/gi,encodeURIComponent(null==f?void 0:f.title))).replace(/\[clipID\]/gi,null==f?void 0:f.id)).replace(/\[corsdomain\]/gi,encodeURIComponent(b)),w=null!=t._config?t._config.subtype:"unknown",k={adType:w,adPosition:t._pos,adRequestUrl:t._url},t._lineItem&&(k.lineItemCode=t._lineItem.code),null===(d=t.$element)||void 0===d||d.triggerHandler("bb_adsystem_initialized",[k]),e=(e=e.replace(/\[format\]/gi,"application/javascript")).replace(/\[playmode\]/gi,"html5"),i.abrupt("return",e);case 62:case"end":return i.stop()}}),i)})))()}},{key:"_handleJsMacros",value:function(e){if(this._executer&&e){var t=e.match(/\[js:.*?\]/gi);if(!t)return e;for(var i=0;i<t.length;i++){var n=t[i],a=n.replace(/\[js:/,"").replace(/(.*)\]/,"$1"),o=this._executer.execute(a);e=e.replace(n,encodeURIComponent(o))}}return e}},{key:"_handleJs2Macros",value:function(e){if(this._executer&&e){var t=e.match(/\[js2:.*?\]/gi);if(!t)return e;for(var i=0;i<t.length;i++){var n=t[i],a=n.replace(/\[js2:/,"").replace(/(.*)\]/,"$1"),o=this._executer.execute(a);e=e.replace(n,o)}}return e}},{key:"_addCustomDfPParameters",value:function(e){var t=!1;if("object"==typeof this._opts.msasClipData){var i=[];if(null!=(n=e.match(/&iu=([^&#]*)/))&&n.length>1&&(i=n[1].split("/")),void 0!==this._opts.msasClipData.dfp_adunit_l1&&""!=this._opts.msasClipData.dfp_adunit_l1){for(;i.length<=2;)i.push("");i[2]=encodeURIComponent(this._opts.msasClipData.dfp_adunit_l1),t=!0}if(void 0!==this._opts.msasClipData.dfp_adunit_l2&&""!=this._opts.msasClipData.dfp_adunit_l2){for(;i.length<=3;)i.push("");i[3]=encodeURIComponent(this._opts.msasClipData.dfp_adunit_l2),t=!0}if(void 0!==this._opts.msasClipData.dart_zone&&""!=this._opts.msasClipData.dart_zone){for(;i.length<=3;)i.push("");i[3]=encodeURIComponent(this._opts.msasClipData.dart_zone),t=!0}if(void 0!==this._opts.msasClipData.dfp_adunit_l3&&""!=this._opts.msasClipData.dfp_adunit_l3){for(;i.length<=4;)i.push("");i[4]=encodeURIComponent(this._opts.msasClipData.dfp_adunit_l3),t=!0}t&&(e=e.replace(/&iu=[^&#]*/g,"&iu="+i.join("/")))}if(e=this._handleSystem_adunits(e),"object"==typeof this._opts.playoutData){var n,a={},o=[];if(null!=(n=e.match(/[?&]{1}cust_params=([^&#]*)/))&&n.length>1)try{o=decodeURIComponent(n[1]).split("&")}catch(e){}for(var s=0;s<o.length;s++)try{var l=o[s].split("=");if(1==l.length){var r=this._handleJsMacros(l[0]);decodeURIComponent(r).split("&").forEach((function(e){var t=decodeURIComponent(e).split("=");a[t[0]]=decodeURIComponent(t[1])}))}else a[l[0]]=decodeURIComponent(l[1])}catch(e){}if("object"==typeof this._opts.msasClipData)for(var d in this._opts.msasClipData){(h=d.replace(/^dart_/,""))!=d&&(a[h]=this._opts.msasClipData[d])}for(var u in this._opts.playoutData){(h=u.replace(/^dart_/,""))!=u&&(a[h]=this._opts.playoutData[u])}o=[];var c=[];for(var h in a)a[h]&&0==a[h].indexOf("[")?c.push(h+encodeURIComponent("=")+a[h]):o.push(h+"="+encodeURIComponent(a[h]));null!=n&&n.length>1?e=(e=e.replace(/&cust_params=[^&#]*/,(function(){return"&cust_params="+encodeURIComponent(o.join("&"))+(o.length&&c.length?encodeURIComponent("&"):"")+c.join(encodeURIComponent("&"))}))).replace(/\?cust_params=[^&#]*/,(function(){return"?cust_params="+encodeURIComponent(o.join("&"))+(o.length&&c.length?encodeURIComponent("&"):"")+c.join(encodeURIComponent("&"))})):e+=(e.indexOf("?")>=0?"&":"?")+"cust_params="+encodeURIComponent(o.join("&"))+(o.length&&c.length?encodeURIComponent("&"):"")+c.join(encodeURIComponent("&"))}return e}},{key:"_addCustomDartParameters",value:function(e){var t=e.indexOf("|;|")>0?"|;|":";",i=t.replace("|","|");if("object"==typeof this._opts.playoutData)for(var n in this._opts.playoutData){var a=n.replace(/^dart_/,"");if(a!=n){var o=new RegExp(i+a+"=[^;|?]*","g");e=e.replace(o,t+a+"="+encodeURIComponent(this._opts.playoutData[n]))}}if("object"==typeof this._opts.msasClipData&&void 0!==this._opts.msasClipData.dart_zone&&""!=this._opts.msasClipData.dart_zone){var s=new RegExp("/[^/;|?]*"+i);e=e.replace(s,"/"+encodeURIComponent(this._opts.msasClipData.dart_zone)+t)}return e}},{key:"_handleSystem_adunits",value:function(e){var t=!1;if("object"==typeof this._opts.playoutData){var i=[],n=e.match(/&iu=([^&#]*)/);for(var a in null!=n&&n.length>1&&(i=String(n[1]).split("/")),this._opts.playoutData){if(null!=(n=a.match(/^dfp_adunit/))&&n.length>0){var o=a.match(/^dfp_adunit_l([0-9]+)$/);if(null!=o&&o.length>1){for(var s=parseInt(o[1]);i.length<=s+1;)i.push("");i[s+1]=encodeURIComponent(this._opts.playoutData[a]),""!=this._opts.playoutData[a]&&(t=!0)}}}t&&(e=e.replace(/&iu=[^&#]*/g,"&iu="+i.join("/")))}return e}},{key:"_getPrebidData",value:function(e){var t=this,i=null!==this._url;return this._url?this._urlPromise.then((function(){try{var i=function(t){var i,n=!1,a=(null==t?void 0:t.length)&&t[0];if((null==a?void 0:a.vastXml)&&(n=!0,a.selfWrappedVast?this._data=a.vastXml:this._xml=a.vastXml,a.adId&&(a.renderer||(null===(i=a.adUnit)||void 0===i?void 0:i.renderer))))try{var o=a.bidderCode&&a.bidderCode.match(/unruly|teads/i),s=this._createOutstreamDoc(o);o&&(n=!1),window.bluebillywig_pbjs.renderAd(s,a.adId)}catch(e){_.default("[MSASSystemVAST] _getPrebidData warning: "+e)}"function"==typeof e&&e(n)}.bind(t),n={prebidConfig:t._config.systemconfig.prebidConfig,adServerUrl:t._url,position:t._pos,context:{type:"AdUnit",code:t._config.systemconfig.adUnitCode}},a=new v.default(t.$element,t._opts,n);a.addAdUnits(),a.getBids(i)}catch(e){_.default(e)}})):("function"==typeof e&&e(!1),i=!1),i}},{key:"_createOutstreamDoc",value:function(e){e=e||!1;var t={getElementsByTagName:function(){return[{firstChild:{},insertBefore:function(){}}]}},i=this.$element?this.$element.closest(".bb_wrapper"):null,n=i?i.parent():null;if(n){var a=null;this.$outstreamIframe=n.find("#"+this._eventNS),this.$outstreamIframe&&this.$outstreamIframe.length>0?a=this.$outstreamIframe.get(0):((a=document.createElement("iframe")).id=this._eventNS,a.height=e?i.height():1,a.width=e?i.width():1,a.border="0",a.hspace="0",a.vspace="0",a.marginWidth="0",a.marginHeight="0",a.scrolling="no",a.frameBorder="0",a.style.border="0",a.style.margin="0",a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.pointerEvents=e?"auto":"none",a.src="about:blank",this.$outstreamIframe=$parcel$interopDefault(h)(a).appendTo(n));try{t=a.contentWindow?a.contentWindow.document:a.contentDocument.document?a.contentDocument.document:a.contentDocument}catch(e){}}return t}},{key:"_getData",value:function(e){var t=!1;if(this._data)"function"==typeof e&&e(!0),t=!0;else if(this._url){var i=this;this._urlPromise.then((function(){var t=i;null!==i._data?e(!0):f.fetchData(i._url,{dataType:"text",credentials:"include"}).then((function(i){i?(t._xml=i,"function"==typeof e&&e(!0)):"function"==typeof e&&e(!1)})).catch((function(t){"function"==typeof e&&e(!1)}))})),t=!0}else"function"==typeof e&&e(!1);return t}},{key:"_dataCallback",value:function(e){if(e)if(this._xml)this._clip={assets:[{mediatype:"vast_"+this._config.subtype,response:this._xml}]};else{var t="string"==typeof this._data?$parcel$interopDefault(h)($parcel$interopDefault(h).parseXML(this._data)):$parcel$interopDefault(h)(this._data),i=t.find("VAST Ad InLine"),n=t.find("VAST Ad Wrapper");if(null!=i&&i.length>0)this._clip={assets:[{mediatype:"vast_"+this._config.subtype,src:this._url}]};else if(null!=n&&n.length>0){var a=n.find("AdSystem").text(),o=n.find("VASTAdTagURI").text();a.match(/UnwrapMe/i)?this._clip={assets:[{mediatype:"vast_"+this._config.subtype,src:o}]}:this._clip={assets:[{mediatype:"vast_"+this._config.subtype,src:this._url}]}}else this._clip={assets:[]}}else this._clip={assets:[]};if(this._clip&&this._clip.assets)for(var s=this._clip.assets.length-1;s>=0;s--){var l=this._clip.assets[s];if(l&&l.src)try{decodeURI(l.src)}catch(e){this._clip.assets.splice(s,1)}}null!=this._headController&&this._headController.load(this._clip),null!=this._headController&&(this._shouldPause||this._headController.play(this._userAction))}},{key:"_onCmpDataSuccessCallback",value:function(e,t){this._consentGdprApplies=e&&e.gdprApplies?1:0,this._consentCmpVersion=t,1===t?this._consentString=e&&e.consentData?e.consentData:"":2===t&&(this._consentString=e&&e.tcString?e.tcString:"")}},{key:"_onCmpDataErrorCallback",value:function(){}}]),c}(c.default)})),parcelRequire.register("gq7Yu",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=parcelRequire("cWdJP"),o=parcelRequire("eJX2b"),s=function(){"use strict";function e(t,n){i.default(this,e),this._init(t,n)}return n.default(e,[{key:"_init",value:function(e,t){if(this.$element=null,this._opts=void 0!==t?t:null,this._eventNS="MSASSystem"+String(Math.random()).replace(".",""),this._loaded=!1,this._config=null!=this._opts&&void 0!==this._opts.msasSystemData&&void 0!==this._opts.msasSystemData.config?this._opts.msasSystemData.config:null,this._lineItem=null!=this._opts&&void 0!==this._opts.msasSystemData&&void 0!==this._opts.msasSystemData.lineItem?this._opts.msasSystemData.lineItem:null,this._timeout=null!=this._opts&&void 0!==this._opts.msasSystemData&&void 0!==this._opts.msasSystemData.timeout?this._timeout=this._opts.msasSystemData.timeout:10,this._systemOverrule=null!=this._opts&&this._opts.msasSystemData&&this._opts.msasSystemData.config&&this._opts.msasSystemData.config.systemconfig&&this._opts.msasSystemData.config.systemconfig.subtype&&""!=this._opts.msasSystemData.config.systemconfig.subtype?this._opts.msasSystemData.config.systemconfig.subtype:null,this._config&&(this._timeout&&(this._config.timeout=this._timeout),this._systemOverrule&&(this._config.subtype=this._systemOverrule)),this._restriction_npaOnly=this._opts&&this._opts.playoutData&&"true"===this._opts.playoutData.restriction_npaOnly,this._pos=null,this._url=null,this._timeoutHandle=null,this._detections=null,this._shouldPause=!1,this._onInViewBound=this._onInView.bind(this),this._onOutViewBound=this._onOutView.bind(this),void 0!==e&&null!=e){this.$element=e,this.$wrapper=this.$element.closest(".bb_wrapper"),this.$wrapper&&(this.$wrapper.on("bb_inview",this._onInViewBound),this.$wrapper.on("bb_outview",this._onOutViewBound)),this._headController=new o.default(this.$element,this._opts),this._headController.setLoadStartCallback(this._loadStartCallback.bind(this)),this._headController.setLoadedDataCallback(this._loadedDataCallback.bind(this)),this._headController.setCanPlayCallback(this._canPlayCallback.bind(this)),this._headController.setStartedCallback(this._startedCallback.bind(this)),this._headController.setEndedCallback(this._endedCallback.bind(this)),this._headController.setClickCallback(this._clickCallback.bind(this)),this._headController.setQuartileCallback(this._quartileCallback.bind(this)),this._headController.setRequestCallback(this._requestCallback.bind(this)),this._headController.enableResizing(),void 0!==a.default.getService(this._opts.playerAliasOrId).getInstance("Detections")&&(this._detections=a.default.getService(this._opts.playerAliasOrId).getInstance("Detections"));var i=th0])}}},{key:"_onOutView",value:function(){this._timeoutHandle&&this._timeoutHandle.pause(),this._isInview=!1}},{key:"_onInView",value:function(){this._timeoutHandle&&this._timeoutHandle.resume(),this._isInview=!0}},{key:"exit",value:function(){return null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null),this.$wrapper&&(this.$wrapper.off("bb_inview",this._onInViewBououtview",this._onOutViewBound)),null!=this._headController&&(this._headController=this._headController.exit()),null!=this.$element&&(this.$element=null),null}},{key:"handlePosition",value:function(e,t,i){return!1}},{key:"reset",value:function(e){var t=!1;return null!=this._headController&&(t=this._headController.reset()),null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null),t}},{key:"resume",value:function(e){this._shouldPause=!1;return null!=this._headController&&this._headController.play(e),!1}},{key:"pause",value:function(){var e=!1;return null!=this._headController&&(e=this._headController.pause()),e}},{key:"replay",value:function(){this._shouldPause=!1;var e=!1;return this._headController&&this._headController.load(this._clip),this._headController&&(e=this._headController.play()),e}},{key:"isPlaying",value:function(){v),e}},{key:"set",value:function(e,t){var i=!1;return null!=this._headController&&(i=this._headController.set(e,t)),i}},{key:"get",value:function(e){if(null!=this._headController)return this._headController.get(e)}},{key:"_onTimeout",value:function(){this._timeoutHandle=null;var e=null!=this._config&&this._config.timeout?this._config.timeout:"unknown",t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,timeout:e};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),this.reset(),this.$element.triggerHandler("bb_adsystem_noad",[t])}},{key:"_loadStartCallback",value:function(e,t){var i={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,adProperties:t};null!=this._lineItem&&(i.lineItemCode=this._lineItem.code),e?null!=this.$element&&this.$element.triggerHandler("bb_adsystem_loadstart",[i]):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_blocked",[i])}},{key:"_loadedDataCallback",value:function(e,t){null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null);var i={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,adProperties:t};null!=this._lineItem&&(i.lineItemCode=this._lineItem.code),e?(this._loaded=!0,null!=this.$element&&this.$element.triggerHandler("bb_adsystem_loaded",[i])):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_noad",[i])}},{key:"_canPlayCallback",value:function(e,t){null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null);var i={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,adProperties:t};null!=this._lineItem&&(i.lineItemCode=this._lineItem.code),e?(this._loaded=!0,null!=this.$element&&this.$element.triggerHandler("bb_adsystem_canplay",[i])):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_noad",[i])}},{key:"_startedCallback",value:function(e,t){null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null);var i={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url,adProperties:t};null!=this._lineItem&&(i.lineItemCode=this._lineItem.code),e?null!=this.$element&&this.$element.triggerHandler("bb_adsystem_started",[i]):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_failed",[i])}},{key:"_endedCallback",value:function(e){null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null);var t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),e?null!=this.$element&&this.$element.triggerHandler("bb_adsystem_finished",[t]):null!=this.$element&&this.$element.triggerHandler("bb_adsystem_skipped",[t])}},{key:"_clickCallback",value:function(e){var t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),e&&null!=this.$element&&this.$element.triggerHandler("bb_adsystem_clicked",[t])}},{key:"_quartileCallback",value:function(e){var t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),e>=0&&e<=4&&(t.quartile=e,null!=this.$element&&this.$element.triggerHandler("bb_adsystem_quartile",[t]))}},{key:"_requestCallback",value:function(e){var t={adType:null!=this._config?this._config.subtype:"unknown",adPosition:this._pos,adRequestUrl:this._url};null!=this._lineItem&&(t.lineItemCode=this._lineItem.code),t.action=e,this.$element&&this.$element.triggerHandler("bb_adsystem_request",[t])}}]),e}()})),parcelRequire.register("eJX2b",(function(e,t){$parcel$export(e.exports,"default",(function(){return y})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv");parcelRequire("2UpbQ");var d,u,c,h,p=parcelRequire("eV1xY"),_=parcelRequire("cWdJP"),m=parcelRequire("bBYRC"),f=parcelRequire("7EmGg"),v=parcelRequire("j764S"),g=parcelRequire("gjFvx");d=parcelRequire("jPgfD").default,c=parcelRequire("6gju3").default,u=parcelRequire("2wH3A").default,h=parcelRequire("9mhRD").default;var y=function(e){"use strict";i.default(m,e);var t=n.default(m);function m(e,i){var n;return a.default(this,m),(n=t.call(this,e,i))._ended=!1,n._isNonLinearPosition=!1,n._errorCallback=null,n._loadStartCallback=null,n._canPlayCallback=null,n._startedCallback=null,n._endedCallback=null,n._clickCallback=null,n._quartileCallback=null,n._requestCallback=null,n._duration=0,n._quartile=0,n._onAdClickedBound=n._onAdClicked.bind(o.default(n)),n}return s.default(m,[{key:"exit",value:function(){for(var e in this.reset(),this._heads)if(null!=this._heads[e]){var t,i=this._heads[e].$element;if(-1!=e.indexOf("html5ima")&&null!=this.$wrapper)_.default.getService(this._opts.playerAliasOrId).setInstance("G_html5IMAHead",this._heads[e]),this._heads[e]=null,null===(t=_.default.getService(this._opts.playerAliasOrId).getInstance("G_html5IMAHead"))||void 0===t||t.reset(),i.hide();else this._heads[e]=this._heads[e].exit(),i.remove()}return this._heads={},null!=this.$element&&this.disableResizing(),this._sc&&(this._sc.unregisterMasterVolumeHandler(this._eventNS),this._sc.unregisterMasterMuteHandler(this._eventNS)),this._localStorage=null,null}},{key:"reset",value:function(){l.default(r.default(m.prototype),"reset",this).call(this),this._ended=!1}},{key:"setErrorCallback",value:function(e){void 0!==e&&(this._errorCallback=e)}},{key:"setLoadStartCallback",value:function(e){void 0!==e&&(this._loadStartCallback=e)}},{key:"setLoadedAdListMetadataCallback",value:function(e){void 0!==e&&(this._loadedAdListMetadataCallback=e)}},{key:"setLoadedDataCallback",value:function(e){void 0!==e&&(this._loadedDataCallback=e)}},{key:"setCanPlayCallback",value:function(e){void 0!==e&&(this._canPlayCallback=e)}},{key:"setStartedCallback",value:function(e){void 0!==e&&(this._startedCallback=e)}},{key:"setEndedCallback",value:function(e){void 0!==e&&(this._endion(e){void 0!==e&&(this._clickCallback=e)}},{key:"setQuartileCallback",value:function(e){void 0!==e&&(this._quartileCallback=e)}},{key:"setRequestCallback",value:function(e){void 0!==e&&(this._requestCallback=e)}},{key:"isPlaying",value:function(){return this._playing}},{key:"_switchAsset",value:function(){var e=!1;this._isNonLinearPosition=null!=this._opts&&("OVERLAY"==this._opts.msasPos||"EXITSCREEN"==this._opts.msasPos);var t=768,i=432,n=this.$element.find(".bb-commercial-layer");n.length>0&&(t=n.width(),i=n.height());var a=t,o=i,s=0;if(this._isNonLinearPosition){var l=$parcel$interopDefault(p)(".bb-controlbar").height(),r=i-(l>0?l:30);switch(this._opts.msasPos){case"OVERLAY":s=r-(o=90);break;case"EXITSCREEN":o=r,s=0}}return this.$element.find(".bb-commercial-layer .bb-fitme").css({width:a+"px",height:o+"px",position:"absolute",left:"0px",top:s+"px"}),null!=this._asset?(this._selectHead(),null!=this._head?e=void 0!==this._asset.response&&null!=this._asset.response&&""!=this._asset.response?this._head.set("adsResponse",this._asset.response):this._head.set("src",this._asset.processedSrc):this._dispatchEvent("bb_error",{msg:"no head"})):this._dispatchEvent("bb_error",{msg:"no asset"}),e}},{key:"_determineHeadType",value:function(){this._headType="html5";null!=this._clip&&null!=this._asset&&(this._needsIMA(this._asset)?this._headType="html5ima":this._needsYouTube(this._asset)?this._headType="youtube":this._needsHtml5Seek(this._asset)?this._headType="Html5Seek":this._headType="html5")}},{key:"_selectHead",value:function(){var e=this._headType;l.default(r.default(m.prototype),"_selectHead",this).call(this),this._headType!==e&&(this._ended=!1),null!=this.$element&&(this.$element.tpe+" rendering mode selected."}]),this.$element.triggerHandler("bb_commercial_head_selected",[{head:this._head,headType:this._headType}]))}},{key:"_needsIMA",value:function(e){return!!e.mediatype.match(/^vast_/i)}},{key:"_createHead",value:function(e,t){var i=null,n=$parcel$interopDefault(p)('<div class="bb-head" style="position:absolute; width:100%; height:100%; top:0; left:0;"></div>');switch(this.$element.find(".bb-commercial-layer .bb-head-layer").append(n),n.attr("data-retryOnPlayFailed","true"),e){case"youtube":"function"==typeof h&&(i=new h(n,this._opts)),this._addClickThrough(n);break;case"Html5Seek":n.attr("data-borrowHtml5Media","true"),"function"==typeof u&&(i=new u(n,this._opts));break;case"html5":"image"==t||"interactive"==t?"function"==typeof c&&(i=new c(n,this._opts)):"audio"==t?(n.attr("data-borrowHtml5Media","true"),"function"==typeof d&&(i=new d(n,this._opts))):(n.attr("data-borrowHtml5Media","true"),"function"==typeof g.default&&(i=new g.default(n,this._opts))),this._addClickThrough(n);break;case"html5ima":_.default.getService(this._opts.playerAliasOrId).getInstance("G_html5IMAHead")?((i=_.default.getService(this._opts.playerAliasOrId).getInstance("G_html5IMAHead")).updateOpts&&i.updateOpts(this._opts),i.$element.show(),n.remove()):(n.attr("data-borrowHtml5Media","true"),"function"==typeof v.default&&(i=new v.default(n,this._opts)))}return null==i&&n.remove(),i}},{key:"_addClickThrough",value:function(e){if(null!=e&&null!=this._clip){var t,i=null;if(void 0!==this._clip.gendeeplink&&null!=this._clip.gendeeplink)null==(t=this._clip.gendeeplink).match(/^\w+:\/\//)&&null==t.match(/^\/\//)||(i=t);if(void 0!==this._clip.deeplink&&null!=this._clip.deeplink)null==(t=this._clip.deeplink).match(/^\w+:\/\//)&&null==t.match(/^\/\//)||(i=t);var n="commercial"==this._clip.usetype&&"image"==this._clip.mediatype?this._clip.url:i;if(void 0!==n&&null!=n&&(null!=n.match(/^\w+:\/\//)||null!=n.match(/^\/\//))){var a=this;e.click((function(e){var t=_.default.getService(a._opts.playerAliasOrId).getInstance("PublicAPI");t?t.doOpenUrl(n,"_blank",!0):window.open(n,"_blank","noopener")})).css("cursor","pointer")}}}},{key:"_dispatchEvent",value:function(e,t){"bb_error"==e&&(this._canPlay=!1,"function"==typeof this._canPlayCallback&&this._canPlayCallback(this._canPlay))}},{key:"_bindToHead",value:function(){if(null!=this._head&&!this._headBound&&null!=this._head.$element){if("html5ima"===this._headType)this._head.$element.on("bb_ad_clicked",this._onAdClickedBound);else this._head.$element.on("click",this._onAdClickedBound);"html5ima"==this._headType&&(this._head.$element.on("adStarted",this._onHeadEventBound),this._head.$element.on("adFirstQuartile",this._onHeadEventBound),this._head.$element.on("adMidPoint",this._onHeadEventBound),this._head.$element.on("adThirdQuartile",this._onHeadEventBound),this._head.$element.on("adComplete",this._onHeadEventBound),this._head.$element.on("loadedadlistmetadata",this._onHeadEventBound),this._head.$element.on("adContentPauseReq",this._onHeadEventBound),this._head.$element.on("adContentResumeReq",this._onHeadEventBound))}l.default(r.default(m.prototype),"_bindToHead",this).call(this)}},{key:"_unbindFromHead",value:function(){if(null!=this._head&&this._headBound&&null!=this._head.$element){if("html5ima"===this._headType)this._head.$element.off("bb_ad_clicked",this._onAdClickedBound);else this._head.$element.off("click",this._onAdClickedBound);"html5ima"==this._headType&&(this._head.$element.off("adStarted",this._onHeadEventBound),this._head.$element.off("adFirstQuartile",this._onHeadEventBound),this._head.$element.off("adMidPoint",this._onHeadEventBound),this._head.$element.off("adThirdQuartile",this._onHeadEventBound),this._head.$element.off("adComplete",this._onHeadEventBound),this._head.$element.off("loadedadlistmetadata",this._onHeadEventBound),this._head.$element.off("adContentPauseReq",this._onHeadEventBound),this._head.$element.off("adContentResumeReq",this._onHeadEventBound))}l.default(r.default(m.prototype),"_unbindFromHead",this).call(this)}},{key:"fitVideo",value:function(){this._isNonLinearPosition||(this._head&&this._head.get("restretchWillObjectFitContain")?f.default.prototype.fitVideo.call(this,"FIT_STRETCH"):f.default.prototype.fitVideo.call(this,"FIT_BOTH"));var e=768,t=432,i=this.$element.find(".bb-commercial-layer");i.length>0&&(e=i.width(),t=i.height());var n=e,a=t,o=0;if(this._isNonLinearPosition){var s=$parcel$interopDefault(p)(".bb-controlbar").height(),l=t-(s>0?s:30);switch(this._opts.msasPos){case"OVERLAY":o=l-(a=90);break;case"EXITSCREEN":a=l,o=0}}this.$element.find(".bb-commercial-layer .bb-fitme").css({width:n+"px",height:a+"px",position:"absolute",left:"0px",top:o+"px"}),null!=this._head&&this._head.restretch()}},{key:"_onHeadEvent",value:function(e){e.stopPropagation();var t=this._head?{adWrapperAdIds:this._head.get("adWrapperAdIds")}:null;if(null!=this.$element)switch(e.type){case"couldplay":this._couldPlay=!0,this._playPending?this.play():null!=this._seekPosition&&this._head&&this._head.load(!1);break;case"loadstart":this._couldPlay=!1,this._loadedData=!1,this._canPlay=!1,this._playing=!1,this.$element.triggerHandler("bb_commercial_loadstart");var i=null;null!=this._head&&(i={sdk:this._head.get("sdk")}),"function"==typeof this._loadStartCallback&&this._loadStartCallback(!0,i);break;case"loadedadlistmetadata":var n={},a=this._head.get("cuePoints");(null==a?void 0:a.length)&&(n.cuePoints=a),"function"==typeof this._loadedAdListMetadataCallback&&this._loadedAdListMetadataCallback(!0,n);break;case"loadeddata":this._loadedData=!0,this._playing=!1;i=null;if(null!=this._head)(i={adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),adContentType:this._head.get("adContentType"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}).adWrapperAdIds=this._head.get("adWrapperAdIds"),(s=this._head.get("adPodInfo"))&&(i.adPodInfo=s),(l=this._head.get("cuePoints"))&&l.join&&(i.cuePoints=l.join(","));"function"==typeof this._loadedDataCallback&&this._loadedDataCallback(!0,i),this.fitVideo();break;case"error":i=null;if(null!=this._head){var o=this._head.get("error");null==o&&(o={error:"no error specified",code:666}),(i={errorMessage:o.error,errorCode:o.code,adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}).adWrapperAdIds=this._head.get("adWrapperAdIds"),this.$element&&this.$element.trigger("bb_ad_log",[{msg:"Ad error: "+o.error}])}this._canPlay?(this._canPlay=!1,"function"==typeof this._startedCallback&&this._startedCallback(!1,i)):this._loadedData?"function"==typeof this._canPlayCallback&&this._canPlayCallback(!1,i):"function"==typeof this._loadedDataCallback&&this._loadedDataCallback(!1,i);break;case"canplay":this._canPlay=!0;var s,l;i=null;if(null!=this._head)(i={adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),adContentType:this._head.get("adContentType"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}).adWrapperAdIds=this._head.get("adWrapperAdIds"),(s=this._head.get("adPodInfo"))&&(i.adPodInfo=s),(l=this._head.get("cuePoints"))&&l.join&&(i.cuePoints=l.join(","));"function"==typeof this._canPlayCallback&&this._canPlayCallback(!0,i),this._playPending&&(this._playPending=!1,this.play());break;case"playing":if(!this._started){this._started=!0;i=null;if(null!=this._head){(i={ad:this._head.get("ad"),adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adContentType:this._head.get("adContentType"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}).adWrapperAdIds=this._head.get("adWrapperAdIds");var r=this._head.get("clickThroughUrl");r&&(i.clickThroughUrl=r)}"function"==typeof this._startedCallback&&this._startedCallback(!0,i)}this._playPending=!1,this._playing=!0,this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_playing");break;case"pause":this._playing=!1,this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_paused");break;case"timeupdate":var d=null;null!=this._head&&(d=this._head.get("currentTime")),this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_timeupdate",[{currentTime:d}]),"html5ima"!=this._headType&&this._duration>0&&d>=(this._quartile+1)/4*this._duration&&(this._quartile++,"function"==typeof this._quartileCallback&&this._quartileCallback(this._quartile,t));break;case"adSkipped":if(this._playing=!1,this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_ended"),this._started&&!this._ended){var u=null!=this._head?{adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),duration:this._head.get("duration"),sdk:this._head.get("sdk"),adPodInfo:this._head.get("adPodInfo"),adWrapperAdIds:this._head.get("adWrapperAdIds")}:{},c=this._head.get("cuePoints");if((null==c?void 0:c.length)>1){var h,p=this._head.get("currentTime");this._ended=-1===(null==u||null===(h=u.adPodInfo)||void 0===h?void 0:h.podIndex)||-1===c.indexOf(-1)&&p>Math.max(c)}else this._ended=!0;"function"==typeof this._endedCallback&&this._endedCallback(!1,u,this._ended)}break;case"ended":if(this._playing=!1,this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_ended"),this._started)this._ended||(this._ended=!0,"function"==typeof this._endedCallback&&this._endedCallback(!0));else if(!this._ended){var _;(i=null!=this._head?{adId:this._head.get("adId"),adSystem:this._head.get("adSystem"),adTitle:this._head.get("adTitle"),adLinear:this._head.get("adLinear"),duration:this._head.get("duration"),sdk:this._head.get("sdk")}:{}).adWrapperAdIds=null===(_=this._head)||void 0===_?void 0:_.get("adWrapperAdIds"),this._canPlay?(i.errorMessage="BB - Timeout of MediaFile",i.errorCode=403,"function"==typeof this._canPlayCallback&&this._startedCallback(!1,i)):(i.errorMessage="BB - Timeout of Ad Tag URI",i.errorCode=402,"function"==typeof this._canPlayCallback&&this._canPlayCallback(!1,i))}break;case"volumechange":var m=null,f=null;null!=this._head&&(m=this._masterVolume>0?this._head.get("volume")/this._masterVolume:this._headVolume,f=this._masterMute?this._headMute:this._head.get("muted")),this.$element.triggerHandler("bb_commercial_volume_change",[{volume:m,masterVolume:this._masterVolume,muted:f,masterMuted:this._masterMute}]);break;case"durationchange":var v=null;null!=this._head&&(v=this._head.get("duration")),null!=v&&(this._duration=v),this._isNonLinearPosition||this.$element.triggerHandler("bb_commercial_duration_change",[{duration:v}]);break;case"adStarted":"function"==typeof this._quartileCallback&&this._quartileCallback(0,t);break;case"adFirstQuartile":"function"==typeof this._quartileCallback&&this._quartileCallback(1,t);break;case"adMidPoint":"function"==typeof this._quartileCallback&&this._quartileCallback(2,t);break;case"adThirdQuartile":"function"==typeof this._quartileCallback&&this._quartileCallback(3,t);break;case"adComplete":"function"==typeof this._quartileCallback&&this._quartileCallback(4,t);break;case"adContentPauseReq":"function"==typeof this._requestCallback&&this._requestCallback("content_pause");break;case"adContentResumeReq":"function"==typeof this._requestCallback&&this._requestCallback("content_resume")}}},{key:"_onAdClicked",value:function(e){e.stopPropagation();var t=this._head?{adWrapperAdIds:this._head.get("adWrapperAdIds")}:null;"function"==typeof this._clickCallback&&this._clickCallback(!0,t)}},{key:"_supportedByIOSVersionLessThan5",value:function(e){return!(!e.mediatype||!e.mediatype.match(/^vast_/i))||l.default(r.default(m.prototype),"_supportedByIOSVersionLessThan5",this).call(this,e)}}]),m}(m.default)})),parcelRequire.register("j764S",(function(e,t){$parcel$export(e.exports,"default",(function(){return v})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNq"),n=parcelRequire("56Oox"),a=parcelRequire("87rX1"),o=parcelRequire("WI3YU"),s=parcelRequire("b3HW6"),l=parcelRequire("2PjQe"),r=parcelRequire("8DKpv");parcelRequire("2UpbQ");var d=parcelRequire("eV1xY"),u=parcelRequire("cWdJP"),c=parcelRequire("1MxPP"),h=parcelRequire("3ymwn"),p=parcelRequire("3efHQ"),_=parcelRequire("5SYG3");parcelRequire("lGhIk");var m=parcelRequire("4AQp6"),f=parcelRequire("2EUST"),v=function(e){"use strict";i.default(h,e);var t=n.default(h);function h(e,i){var n,s,l,r,c,p,m,f,v,g,y,b,w,k,$,C,S,P,x,A,I,T,D,M,E,B,L,R,q;if(a.default(this,h),(n=t.call(this,e,i))._objectFit=!1,n._canControlVolume=!0,n._isiPhone=!1,n._isiPad=!1,window.tmpHead=o.default(n),n._adDisplayContainer=null,n._adDisplayContainerInitialized=!1,n._adsRequestTimeout=null,n._adLoadTimeout=null,n._adsManagerStarted=!1,n._adSkippable=!1,n._blockInsecureVPAID=!1,n._imaEnablePreloading=!1,n._imaDisableCustomPlaybackForIOS10Plus=!0,n._adTagUrl=null,n._adResponse=null,n._ad=null,n._adPodInfo_flat=null,n._adMediaMismatch=!1,n._currentTime=0,n._adDuration=-1,n._adContentType=null,n._volume=1,n._muted=!1,n._paused=!1,n._exiting=!1,n._expectingPause=!1,n._pausedByBlur=!1,n._savedSrc=null,n._api=null,n._isMuted=!1,n._haveStarted=!1,n._playing=!1,n._pendingCanplay=!1,n._isTouchDevice=!1,n._isMobileDevice=!1,n._pendingSet_imaReady=[],n._pendingSet_adsManager=[],n._lastTouchY=null,n._opts&&n._opts.publicationData&&n._opts.publicationData.googleImaURL&&(n._googleImaURL=n._opts.publicationData.googleImaURL),n._isNonLinearPosition="OVERLAY"===(null===(s=n._opts)||void 0===s?void 0:s.msasPos)||"EXITSCREEN"===(null===(l=n._opts)||void 0===l?void 0:l.msasPos),n._isVMAPPosition="VMAP"===(null===(r=n._opts)||void 0===r?void 0:r.msasPos),n._hasAdPlaylist=!1,n._isNotOverlayPosition="OVERLAY"!==(null===(c=n._opts)||void 0===c?void 0:c.msasPos)&&"MIDROLL"!==(null===(p=n._opts)||void 0===p?void 0:p.msasPos),n._disableHtml5VPAID="true"===(null===(m=n._opts)||void 0===m||null===(f=m.playoutData)||void 0===f?void 0:f.disableHtml5VPAID),n._isVPAIDAd=(null===(v=n._opts)||void 0===v||null===(g=v.msasSystemData)||void 0===g?void 0:g.isVPAIDAd)||!1,n._forceCanAutoPlay="true"===(null===(y=n._opts)||void 0===y||null===(b=y.playoutData)||void 0===b?void 0:b.forceCanAutoPlay),n._isAutoMuteSet="true"===(null===(w=n._opts)||void 0===w||null===(k=w.playoutData)||void 0===k?void 0:k.autoMute)||!0===(null===($=n._opts)||void 0===$||null===(C=$.playoutData)||void 0===C?void 0:C.autoMute),n._allowCustomClickLayer="true"===(null===(S=n._opts)||void 0===S||null===(P=S.playoutData)||void 0===P?void 0:P.allowCustomClickLayer),n._allowScrollFaking="true"===(null===(x=n._opts)||void 0===x||null===(A=x.publicationData)||void 0===A?void 0:A.allowScrollFaking)||!0===(null===(I=n._opts)||void 0===I||null===(T=I.publicationData)||void 0===T?void 0:T.allowScrollFaking),n._disableTrackingCookies=n._opts&&n._opts.playoutData&&"tracking"===n._opts.playoutData.disableCookies,!0===(null===(D=n._opts)||void 0===D||null===(M=D.msasSystemData)||void 0===M?void 0:M.blockInsecureVPAID)&&(n._blockInsecureVPAID=!0),(null===(E=n._opts)||void 0===E?void 0:E.msasSystemData)&&(void 0!==n._opts.msasSystemData.imaEnablePreloading&&(n._imaEnablePreloading="true"===n._opts.msasSystemData.imaEnablePreloading||!0===n._opts.msasSystemData.imaEnablePreloading),void 0!==n._opts.msasSystemData.imaDisableCustomPlaybackForIOS10Plus&&(n._imaDisableCustomPlaybackForIOS10Plus=!!n._opts.msasSystemData.imaDisableCustomPlaybackForIOS10Plus)),n.$media=null,n._media=null,n.$adClickLayer_fake=null,n.$adClickLayer=null,n.$adSkipLayer=null,n._skipOffset=-1,n._skipCounterText="You can skip this ad in",n._skipButtonText="Skip Ad",n._$skipLayer=null,n._skipController=null,n._skipTimer=null,n._usingAdSchedule=!!(null===(B=n._opts)||void 0===B?void 0:B.adSchedulingData),n._skippableAdBreaks=(null===(L=n._opts)||void 0===L||null===(R=L.adSchedulingData)||void 0===R?void 0:R.skippableAdBreaks)||[],n._upcomingVideo="false",n._upcomingText="Video will play after this ad",(null===(q=n._opts)||void 0===q?void 0:q.msasSystemData)&&(void 0!==n._opts.msasSystemData.skipOffset&&(n._skipOffset=n._opts.msasSystemData.skipOffset),void 0!==n._opts.msasSystemData.skipCounterText&&(n._skipCounterText=n._opts.msasSystemData.skipCounterText),void 0!==n._opts.msasSystemData.skipButtonText&&(n._skipButtonText=n._opts.msasSystemData.skipButtonText),void 0!==n._opts.msasSystemData.upcomingVideo&&(n._upcomingVideo=n._opts.msasSystemData.upcomingVideo),void 0!==n._opts.msasSystemData.upcomingText&&(n._upcomingText=n._opts.msasSystemData.upcomingText)),n._windowHasFocus=!0,n._onWindowBlurBound=n._onWindowBlur.bind(o.default(n)),n._onWindowFocusBound=n._onWindowFocus.bind(o.default(n)),n._onWindowTouchstartBound=n._onWindowTouchstart.bind(o.default(n)),n._onAdContainerTouchStartBound=n._onAdContainerTouchStart.bind(o.default(n)),n._onAdContainerTouchMoveBound=n._onAdContainerTouchMove.bind(o.default(n)),n._onAdsRequestTimeoutBound=n._onAdsRequestTimeout.bind(o.default(n)),n._onAdLoadTimeoutBound=n._onAdLoadTimeout.bind(o.default(n)),n._onDurationTimeoutBound=n._onDurationTimeout.bind(o.default(n)),n._onContentEndedBound=n._onContentEnded.bind(o.default(n)),n._onSkipClickBound=n._onSkipClick.bind(o.default(n)),n._onSkipTimerTickBound=n._onSkipTimerTick.bind(o.default(n)),n._onFakeAdClickLayerClickBound=n._onFakeAdClickLayerClick.bind(o.default(n)),n._onAdClickLayerClickBound=n._onAdClickLayerClick.bind(o.default(n)),n._onAdSkipLayerClickBound=n._onAdSkipLayerClick.bind(o.default(n)),n._onMediaPlayingBound=n._onMediaPlaying.bind(o.default(n)),n._onMediaPauseBound=n._onMediaPause.bind(o.default(n)),n._onMediaErrorBound=n._onMediaError.bind(o.default(n)),n._onMediaEndedBound=n._onMediaEnded.bind(o.default(n)),n._onIPhoneMediaPlayingBound=n._onIPhoneMediaPlaying.bind(o.default(n)),n._onAdsManagerLoadedBound=n._onAdsManagerLoaded.bind(o.default(n)),n._onAdsLoaderAdErrorBound=n._onAdsLoaderAdError.bind(o.default(n)),n._onAdStartedBound=n._onAdStarted.bind(o.default(n)),n._onAdErrorBound=n._onAdError.bind(o.default(n)),n._onAdEventBound=n._onAdEvent.bind(o.default(n)),$parcel$interopDefault(d)(window).on("blur",n._onWindowBlurBound),$parcel$interopDefault(d)(window).on("focus",n._onWindowFocusBound),n._vendorPrefixes=["","-o-","-ms-","-moz-","-webkit-","-khtml-"],null!=n.$element){n.$wrapper=n.$element.closest(".bb_wrapper"),n._api=u.default.getService(n._opts.playerAliasOrId).getInstance("PublicAPI");n.$adContainer=$parcel$interopDefault(d)('<div class="bb-ad-container"></div>').css({width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}),n.$element.append("<style>.bb_wrapper .bb-head-html5-ima .bb-ad-container video {left:0;top:0;}</style>"),n.$element.append(n.$adContainer),n._isNonLinearPosition||(n.$adClickLayer_fake=$parcel$interopDefault(d)('<div class="bb-ad-clicklayer"></div>').css({width:"100%",height:"66.7%",position:"absolute"}).css("cursor","pointer").css("pointer-events","auto"),n.$adClickLayer_fake.on("click",n._onFakeAdClickLayerClickBound),n.$element.append(n.$adClickLayer_fake.hide()),n.$adClickLayer=$parcel$interopDefault(d)('<div class="bb-ad-clicklayer"></div>').css({width:"100%",height:"66.7%",position:"absolute"}).css("cursor","pointer").css("pointer-events","auto"),n.$element.append(n.$adClickLayer.hide()),n.$adSkipLayer=$parcel$interopDefault(d)('<div class="bb-ad-clicklayer"></div>').css({width:"100%",height:"33.3%",position:"absolute",top:"66.7%"}).css("cursor","pointer").css("pointer-events","auto"),n.$element.append(n.$adSkipLayer.hide())),n.$element.addClass("bb-head-html5-ima");var H=u.default.getService(n._opts.playerAliasOrId).getInstance("LocalStorage");H&&(n._uuid_ls=H.get("bb_uuid")),_.getCookie&&(n._uuid_c=_.getCookie("uuid")),n._uuid=n._uuid_ls||n._uuid_c||Math.uuid(),n._checkAdSkipController(),n._onAdScheduleItemCanPlayBound=n._onAdScheduleItemCanPlay.bind(o.default(n)),n._onPlayoutChangedBound=n._onPlayoutChanged.bind(o.default(n)),n._onAutoPlayCheckReadyBound=n._onAutoPlayCheckReady.bind(o.default(n)),n._onBandwidthMeasuredBound=n._onBandwidthMeasured.bind(o.default(n)),n.$wrapper&&(n.$wrapper.on("bb_as_item_canplay",n._onAdScheduleItemCanPlayBound),n.$wrapper.on("bb_playout_changed",n._onPlayoutChangedBound),n.$wrapper.on("bb_autoplay_check_ready",n._onAutoPlayCheckReadyBound),n.$wrapper.on("bb_bandwidth_measured",n._onBandwidthMeasuredBound));var O,j,z=u.default.getService(n._opts.playerAliasOrId).getInstance("Detections");if(void 0!==z&&null!=z)n._objectFit=z.objectFit,n._canAutoPlay=z.canAutoPlay,n._canControlVolume=z.canControlVolume,n._canAutoPlayMuted=z.canAutoPlayMuted,n._isiPhone=z.isiPhone,n._isAndroid=z.isAndroid,n._androidVersion=z.androidVersion,n._isiPad=z.isiPad,n._isiOS=z.isiOS,n._iOSVersion=z.iOSVersion,n._isChrome=z.isChrome,n._isChromeiOS=z.isChromeiOS,n._chromeVersion=z.chromeVersion,n._isMainroll="mainroll"===(null===(O=n._opts)||void 0===O||null===(j=O.clipData)||void 0===j?void 0:j.mediatype),n._isTouchDevice=z.isTouchDevice,n._isMobileDevice=z.isMobileDevice,n._avoidPreload=z.avoidPreload,n._measuredBandwidth=z.measuredBandwidth;if(n._disableCustomClickLayer=!n._allowCustomClickLayer||n._isNonLinearPosition||n._isiOS&&n._iOSVersion<10,n._headController=u.default.getService(n._opts.playerAliasOrId).getInstance("HeadController"),void 0!==n._headController&&(n._isVPAIDAd?n.$media=n._headController.getHtml5Media():n.$media=n._headController.getHtml5Video(),null!=n.$media&&n.$media.length<=0&&(n.$media=null)),void 0!==u.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")&&(n._broker=u.default.getService(n._opts.playerAliasOrId).getInstance("ComponentBroker")),null!=n.$media){if(n._media=n.$media.get(0),n._media&&!n._usingAdSchedule){var V=n._media.src,F=n._media.currentSrc;F&&""!==F&&null==F.match(/\/null$/)?n._savedSrc=F:V&&""!==V&&null==V.match(/\/null$/)&&(n._savedSrc=V),n._savedCrossOrigin=n._media.crossOrigin}null!=n.$media&&n.$media.on("ended.content",n._onContentEndedBound),n._isNonLinearPosition||n._initializeOnFirstTouch()}}return n._loadIMA(),n}return s.default(h,[{key:"_checkAdSkipController",value:function(){if(this._skipOffset>=0||"true"===this._upcomingVideo||this._skippableAdBreaks.length){var e;null==this._$skipLayer&&(this._$skipLayer=$parcel$interopDefault(d)('<div class="bbima-skip-layer" style="width:100%; height:100%; position:absolute; z-index:99999; pointer-events:none;"></div>'),this._$skipLayer.on("click",this._onSkipClickBound),this._$skipLayer.appendTo(this.$element)),this._skipController=null===(e=this._skipController)||void 0===e?void 0:e.exit();var t={skipCounterText:this._skipCounterText,skipButtonText:this._skipButtonText,upcomingText:this._upcomingText};this._skipController=new p.default(this._$skipLayer,this._opts,t),this._skipController.setType(this._isNonLinearPosition?"close":"skip")}else this._skipController&&(this._skipController.reset(),this._skipController.exit(),this._skipController=null),this._$skipLayer&&(this._$skipLayer.remove(),this._$skipLayer=null)}},{key:"updateOpts",value:function(e){this._opts=e;var t=this._imaDisableCustomPlaybackForIOS10Plus;this._opts&&(this._isNonLinearPosition="OVERLAY"===this._opts.msasPos||"EXITSCREEN"===this._opts.msasPos,this._isVMAPPosition="VMAP"===this._opts.msasPos,this._opts.msasSystemData&&(void 0!==this._opts.msasSystemData.isVPAIDAd&&(this._isVPAIDAd="true"===this._opts.msasSystemData.isVPAIDAd||!0===this._opts.msasSystemData.isVPAIDAd),void 0!==this._opts.msasSystemData.blockInsecureVPAID&&(this._blockInsecureVPAID="true"===this._opts.msasSystemData.blockInsecureVPAID||!0===this._opts.msasSystemData.blockInsecureVPAID),void 0!==this._opts.msasSystemData.imaEnablePreloading&&(this._imaEnablePreloading="true"===this._opts.msasSystemData.imaEnablePreloading||!0===this._opts.msasSystemData.imaEnablePreloading),void 0!==this._opts.msasSystemData.imaDisableCustomPlaybackForIOS10Plus&&(this._imaDisableCustomPlaybackForIOS10Plus=!!this._opts.msasSystemData.imaDisableCustomPlaybackForIOS10Plus),void 0!==this._opts.msasSystemData.skipOffset&&(this._skipOffset=this._opts.msasSystemData.skipOffset),void 0!==this._opts.msasSystemData.skipCounterText&&(this._skipCounterText=this._opts.msasSystemData.skipCounterText),void 0!==this._opts.msasSystemData.skipButtonText&&(this._skipButtonText=this._opts.msasSystemData.skipButtonText),void 0!==this._opts.msasSystemData.upcomingVideo&&(this._upcomingVideo=this._opts.msasSystemData.upcomingVideo),void 0!==this._opts.msasSystemData.upcomingText&&(this._upcomingText=this._opts.msasSystemData.upcomingText)),this._opts.adSchedulingData?(this._usingAdSchedule=!0,this._skippableAdBreaks=this._opts.adSchedulingData.skippableAdBreaks||[]):this._usingAdSchedule=!1,this._checkAdSkipController()),t!==this._imaDisableCustomPlaybackForIOS10Plus&&this._loadIMA()}},{key:"_onWindowBlur",value:function(e){!this._paused&&this._isiOS&&(this._pausedByBlur=!0,this._expectingPause=!0,this.pause()),this._windowHasFocus=!1}},{key:"_onWindowFocus",value:function(e){this._pausedByBlur&&(this._pausedByBlur=!1,this._expectingPause=!1),this._windowHasFocus=!0}},{key:"_onAdScheduleItemCanPlay",value:function(e,t){var i,n;if(this._skipOffset=-1,this._upcomingVideo="false","function"!=typeof(null===(i=this._ad)||void 0===i?void 0:i.isSkippable)||!(null===(n=this._ad)||void 0===n?void 0:n.isSkippable())){var a=(null==t?void 0:t.adScheduleItemCode)||null,o=null;if(a&&a.indexOf("#")>-1){var s=a.split("#",2)[1];o=m.mapPodIndexToPosition(s)}"preroll"===o&&(this._upcomingVideo="true"),this._skippableAdBreaks.indexOf(o)>-1&&(this._skipOffset=5)}this._checkAdSkipController()}},{key:"_onPlayoutChanged",value:function(e,t){var i;t&&t.playoutData&&(void 0!==t.playoutData.skipOffset&&""!==t.playoutData.skipOffset&&(this._skipOffset=t.playoutData.skipOffset,this._checkAdSkipController()),(null==t||null===(i=t.playoutData)||void 0===i?void 0:i.allowCustomClickLayer)&&(this._allowCustomClickLayer="true"===t.playoutData.allowCustomClickLayer))}},{key:"_onAutoPlayCheckReady",value:function(e,t){if(t){var i=this._canAutoPlay,n=this._canAutoPlayMuted;void 0!==t.canAutoPlay&&(this._canAutoPlay=t.canAutoPlay),void 0!==t.canAutoPlayMuted&&(this._canAutoPlayMuted=t.canAutoPlayMuted),i===this._canAutoPlay&&n===this._canAutoPlayMuted||(this._canAutoPlay||this._canAutoPlayMuted&&this._isMuted)&&this._pendingCanplay&&this.$element&&(this._pendingCanplay=!1,this.$element.triggerHandler("canplay"),this.$element.triggerHandler("canplaythrough"))}}},{key:"_onBandwidthMeasured",value:function(e,t){(null==t?void 0:t.measuredBandwidth)&&(this._measuredBandwidth=t.measuredBandwidth)}},{key:"_performMediaBorrow",value:function(){if(this._headController&&(this._isNonLinearPosition||(this._isVPAIDAd?this.$media=this._headController.borrowHtml5Media():this.$media=this._headController.borrowHtml5Video()),null!=this.$media&&this.$media.length<=0&&(this.$media=null)),null!=this.$media&&(this._media=this.$media.get(0),this._isVMAPPosition&&(this._savedPlaybackStatePlaying=!this._media.paused&&!this._media.ended,this._savedPlaybackStatePlaying&&this._media.pause()),!this._isNonLinearPosition&&(void 0===this._savedCrossOrigin&&(this._savedCrossOrigin=this._media.crossOrigin),this._media.crossOrigin=null,!this._savedSrc))){var e=this._media.src,t=this._media.currentSrc;t&&""!==t&&null==t.match(/\/null$/)?this._savedSrc=t:e&&""!==e&&null==e.match(/\/null$/)&&(this._savedSrc=e)}}},{key:"_performMediaReturn",value:function(){this._isNonLinearPosition||(void 0!==this._savedCrossOrigin&&(this._media.crossOrigin=this._savedCrossOrigin),null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc),this._savedSrc=null,this._isVMAPPosition&&(this._savedPlaybackStatePlaying&&tthis._headController.returnHtml5Media():this._headController.returnHtml5Video()))}},{key:"_initializeOnFirstTouch",value:function(){window.addEventListener("touchstart",this._onWindowTouchstartBound,{passive:!0})}},{key:"exit",value:function(){var e,t,i,n;if(this.reset(),this._skipController&&(this._skipController=this._skipController.exit()),null===(e=this._$skipLayer)||void 0===e||e.off("click",this._onSkipClickBound),this._isNonLinearPosition||this._headController&&(this._isVPAIDAd?this.$media=this._headController.returnHtml5Media():this.$media=this._headController.returnHtml5Video(),null!=this._savedSrc&&null!=this._media&&(this._media.src=this._savedSrc),this._savedSrc=null,this._isVMAPPosition&&(this._savedPlaybackStatePlaying&&this._media.play(),this._savedPlaybackStatePlaying=!1)),this._media=null,this.$media=null,null!=this.$element&&this.$element.hide(),this.$wrapper&&(this.$wrapper.off("bb_as_item_canplay",this._onAdScheduleItemCanPlayBound),this.$wrapper.off("bb_playout_changed",this._onPlayoutChangedBound),this.$wrapper.off("bb_autoplay_check_ready",this._onAutoPlayCheckReadyBound),this.$wrapper.off("bb_bandwidth_measured",this._onBandwidthMeasuredBound)),null===(t=this.$adClickLayer_fake)||void 0===t||t.off("click",this._onFakeAdClickLayerClickBound),null===(i=this.$adClickLayer)||void 0===i||i.off("click",this._onAdClickLayerClickBound),null===(n=this.$adSkipLayer)||void 0===n||n.off("click",this._onAdSkipLayerClickBound),window.removeEventListener("touchstart",this._onWindowTouchstartBound),$parcel$interopDefault(d)(window).off("blur",this._onWindowBlurBound),$parcel$interopDefault(d)(window).off("focus",this._onWindowFocusBound),this._allowScrollFaking&&this._isMobileDevice&&this._isTouchDevice&&this.$adContainer&&this.$adContainer.length&&(this.$adContainer[0].removeEventListener("touchstart",this._onAdContainerTouchStartBound),this.$adContainer[0].removeEventListener("touchmove",this._onAdContainerTouchMoveBound),this._lastTouchY=null),this._imaReady=!1,null!=this._adsManager){try{this._adsManager.destroy()}catch(e){}this._adsManager=null}return this._adsManagerInited=!1,this._adsManagerStarted=!1,l.default(r.default(h.prototype),"exit",this).call(this)}},{key:"reset",value:function(){if(null!==this._adsRequestTimeout&&(clearTimeout(this._adsRequestTimeout),this._adsRequestTimeout=null),null!==this._adLoadTimeout&&(clearTimeout(this._adLoadTimeout),this._adLoadTimeout=null),this.$element.css("pointer-events","none"),this.$adContainer.css("pointer-events","none"),this.$adClickLayer&&this.$adClickLayer.hide(),this.$adSkipLayer&&this.$adSkipLayer.hide(),this._paused=!0,this._playing=!1,this._pendingPlay=!1,this._pendingCanplay=!1,this._hasAdPlaylist=!1,null!=this._adsManager){if(this._bindArray)for(var e=0;e<this._bindArray.length;e++)this._adsManager.removeEventListener(window.google.ima.AdEvent.Type[this._bindArray[e]],this._onAdEventBound);this._expectingPause=!0;try{this._adsManager.stop()}catch(e){}}this._pendingSet_imaReady=[],this._pendingSet_adsManager=[],this._skipController&&this._skipController.reset(),null!=this.$media&&this._unbindMediaEvents(this.$media),null!=this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null)}},{key:"_isImaLoaded",value:function(){var e=window.google;retu=typeof e.ima.VERSION)}},{key:"_loadIMA",value:function(e){var t=this;f.isIMALoaded()?this._onIMALoaded(!1):f.loadIMA().then((function(){return t._onIMALoaded(!0)})).catch((function(){return t._onLoadIMATimeout()}))}},{key:"_onLoadIMATimeout",value:function(){this._pendingPlay=!1,c.default("[Html5IMAHead] Timeout loading IMA script"),null!=this.$element&&this.$element.triggerHandler("bb_ima_load_failed"),this._errorMessage="Timeout loading IMA script",this._errorCode=-1,null!=this.$element&&this.$element.triggerHandler("error")}},{key:"_onIMALoaded",value:function(e){if(!this._isImaLoaded())return null!=this.$element&&this.$element.triggerHandler("bb_ima_load_failed"),this._errorMessage="Error loading IMA script",this._errorCode=0,null!=this.$element&&this.$element.triggerHandler("error"),!1;this._vendor=window.google,this._viewMode=window.google.ima.ViewMode.NORMAL,this._contentCompleteCalled=!1;try{window.google.ima.settings.setSessionId(this._uuid)}catch(e){"string"==typeof window.google.ima.settings.Y&&window.google.ima.settings.Y.match(/\w{8}-\w{4}-\w{4}-\w{4}-\w{12}/)&&(window.google.ima.settings.Y=this._uuid)}try{window.google.ima.settings.setPlayerType("Blue Billywig Player"),window.google.ima.settings.setPlayerVersion("6.x"),window.google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this._imaDisableCustomPlaybackForIOS10Plus),window.google.ima.settings.setCookiesEnabled(!this._disableTrackingCookies)}catch(e){}try{window.google.ima.settings.setNumRedirects(10)}catch(e){}if(this._disableHtml5VPAID)try{window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.DISABLED)}catch(e){}else{try{window.google.ima.settings.setVpaidAllowed(!0)}catch(e){}if(this._blockInsecureVPAID||this._isiOS&&this._isChromeiOS)try{window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.ENABLED)}catch(e){}else try{window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.INSECURE)}catch(e){}}var t,i=["af","am","ar","ar_eg","ar_sa","eu","be","bn","bg","ca","zh","zh_cn","zh_hk","zh_tw","hr","cs","da","nl","en","en_au","en_ca","en_gb","en_ie","en_in","en_sg","en_za","et","fa","fil","fi","fr","fr_ca","fr_ch","gl","de","de_at","el","gu","he","hi","hu","is","id","it","ja","kn","ko","lo","lv","ln","lt","ms","ml","mr","no","pl","pt","pt_br","pt_pt","ro","ru","sr","sk","sl","es","es_419","es_ar","es_cl","es_co","es_cr","es_do","es_ec","es_sv","es_gt","es_hn","es_mx","es_ni","es_pa","es_pe","es_pr","es_py","es_us","es_uy","es_ve","sw","sv","gsur","vi","zu"],n={"de-CH":"gsw"},a=window.navigator.languages.map((function(e){var t=n[e],a=e.replace("-","_").toLowerCase(),o=i.includes(a)?a:a.split("_")[0];return t||o})).find((function(e){return i.includes(e)}))||"en";if(window.google.ima.settings.setLocale(a),this._adDisplayContainerInitialized=!1,this._disableCustomClickLayer=!this._allowCustomClickLayer||this._isNonLinearPosition||this._isiOS&&this._iOSVersion<10,this._disableCustomClickLayer?(this._allowScrollFaking&&this._isMobileDevice&&this._isTouchDevice&&(null===(t=this.$adContainer)||void 0===t?void 0:t.length)&&(this.$adContainer[0].addEventListener("touchstart",this._onAdContainerTouchStartBound,{passive:!0}),this.$adContainer[0].addEventListener("touchmove",this._onAdContainerTouchMoveBound,{passive:!0})),this._adDisplayContainer=new window.google.ima.AdDisplayContainer(this.$adContainer[0],this._media)):this._adDisplayContainer=new window.google.ima.AdDisplayContainer(this.$adContainer[0],this._media,this.$adClickLayer_fake[0]),this._adsLoader=new window.google.ima.AdsLoader(this._adDisplayContainer),this._adsManager)try{this._adsManager.destroy()}catch(e){}for(this._adsManager=null,this._adsManagerInited=!1,this._adsManagerStarted=!1,this._adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoadedBound,!1),this._adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,this._onAdsLoaderAdErrorBound,!1),this._imaReady=!0;this._pendingSet_imaReady.length>0;){var o=this._pendingSet_imaReady.shift();this.set(o.propertyName,o.value)}if(!e&&(!this._isMainroll||this._forceCanAutoPlay||this._canAutoPlayMuted&&(this._isAutoMuteSet||this._media.muted))&&null!=this._adDisplayContainer&&!this._adDisplayContainerInitialized)try{var s;this._adDisplayContainer.initialize(),this._adDisplayContainerInitialized=!0,this._avoidPreload||!this._isNotOverlayPosition&&!this._isVMAPPosition||(null===(s=this._media.currentSrc)||void 0===s?void 0:s.match(/^blob:/))||this._media.load()}catch(e){}}},{key:"_onWindowTouchstart",value:function(e){if(null!=this._adDisplayContainer&&(window.removeEventListener("touchstart",this._onWindowTouchstartBound),!this._haveStarted&&!this._adDisplayContainerInitialized))try{var t;this._adDisplayContainer.initialize(),this._adDisplayContainerInitialized=!0,this._avoidPreload||!this._isNotOverlayPosition&&!this._isVMAPPosition||(null===(t=this._media.currentSrc)||void 0===t?void 0:t.match(/^blob:/))||this._media.load(),this._pendingCanplay&&this.$element&&(this._pendingCanplay=!1,this.$element.triggerHandler("canplay"),this.$element.triggerHandler("canplaythrough"))}catch(e){c.default("[Html5IMAHead] caught error in _initializeOnFirstTouch while going to initialize AdDisplayContainer")}}},{key:"_onAdContainerTouchStart",value:function(e){var t,i;this._lastTouchY=null==e||null===(t=e.changedTouches)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.screenY}},{key:"_onAdContainerTouchMove",value:function(e){var t,i=null==e||null===(t=e.changedTouches)||void 0===t?void 0:t[0];if(i){this._lastTouchY||(this._lastTouchY=i.screenY);var n=i.screenY-this._lastTouchY;0!==n&&window.scrollBy({top:-2.5*n,left:0,behavior:"instant"}),this._lastTouchY=i.screenY}}},{key:"_createAdsRequest",value:function(e,t){if(!this._vendor||"adTagUrl"!==e&&"adsResponse"!==e)return null;var i,n,a=new window.google.ima.AdsRequest;return a[e]=t,a.linearAdSlotWidth=this.$element.width(),a.linearAdSlotHeight=this.$element.height(),a.nonLinearAdSlotWidth=this.$element.width(),a.nonLinearAdSlotHeight=this.$element.height(),c.default("[Html5IMAHead.set] going to adsRequest.setAdWillAutoPlay("+(this._canAutoPlayMuted||this._canAutoPlay)+");"),null===(i=a.setAdWillAutoPlay)||void 0===i||i.call(a,this._canAutoPlayMuted||this._canAutoPlay),c.default("[Html5IMAHead.set] going to adsRequest.setAdWillPlayMuted("+(this._canAutoPlayMuted&&!this._canAutoPlay)+");"),null===(n=a.setAdWillPlayMuted)||void 0===n||n.call(a,this._canAutoPlayMuted&&!this._canAutoPlay),null!==this._adsRequestTimeout&&(clearTimeout(this._adsRequestTimeout),this._adsRequestTimeout=null),null!==this._adLoadTimeout&&(clearTimeout(this._adLoadTimeout),this._adLoadTimeout=null),this._adsRequestTimeout=setTimeout(this._onAdsRequestTimeoutBound,6e3),a}},{key:"set",value:function(e,t){if(!this._imaReady)return"muted"===e&&"boolean"==typeof t&&(this._muted=t),"volume"===e&&!isNaN(parseFloat(t))&&t>=0&&t<=1&&(this._volume=t),this._pendingSet_imaReady.push({propertyName:e,value:t}),!1;if(!this._adsManager&&"src"!==e&&"adsResponse"!==e)return this._pendingSet_adsManager.push({propertyName:e,value:t}),!1;switch(c.default("[Html5IMAHead] set: propertyName = "+e+", value = "+t),e){case"currentTime":break;case"muted":return"boolean"==typeof t&&(this._muted=t,this._effectuateVolumeAndMuted(!0),!0);case"src":case"adsResponse":var i,n;if(!this._adsLoader)return!1;null===(i=this._skipController)||void 0===i||i.reset(),null===(n=this.$element)||void 0===n||n.triggerHandler("loadstart");try{var a;null===(a=this._adsManager)||void 0===a||a.destroy()}catch(e){}this._adsManager=null,this._adsManagerInited=!1,this._adsManagerStarted=!1,this._manageLeaderStyle();var o="src"===e?"adTagUrl":"adsResponse";"adTagUrl"===o?this._adTagUrl=t:this._adsResponse=t;var s=this._createAdsRequest(o,t);if(s){var l;try{this._adsLoader.requestAds(s)}catch(e){return!1}return null===(l=this.$media)||void 0===l||l.show(),!0}return!1;case"volume":return!isNaN(parseFloat(t))&&t>=0&&t<=1&&(this._volume=t,this._effectuateVolumeAndMuted(!0),!0)}}},{key:"_manageLeaderStyle",value:function(){var e;"LEADER"===(null===(e=this._opts)||void 0===e?void 0:e.msasPos)?this.$leaderStyle||(this.$leaderStyle=$parcel$interopDefault(d)("<style>.bb-head-html5-ima video { object-fit: cover; }</style>"),this.$leaderStyle.prependTo(this.$element)):this.$leaderStyle&&(this.$leaderStyle.remove(),this.$leaderStyle=null)}},{key:"_effectuateVolumeAndMuted",value:function(e){if(c.default("[Html5IMAHead] _effectuateVolumeAndMuted muted: "+this._muted),this._muted?this._adsManager&&this._adsManager.setVolume&&this._adsManager.setVolume(0):this._adsManager&&this._adsManager.setVolume&&this._adsManageMuted=this._muted||this._volume<=0,this._media&&this._media.muted!==this._isMuted&&(this._media.muted=this._isMuted),this._isMainroll){var t=this;this.$element.find("video").each((function(e,i){i.muted=t._isMuted}))}if(this._isMuted&&e&&this._pendingPlay&&!this._playing&&this._adsManager&&this._adsManagerInited&&theffectuateVolumeAndMuted: pausing and resuming adsManager because of _pendingPlay and not _playing.");try{this._adsManager.pause()}catch(e){}var i=this;setTimeout((function(){try{i._adsManager.resume()}catch(e){}}),500)}return this._isMuted}},{key:"get",value:function(e){if(!this._imaReady)return!1;switch(e){case"remainingTime":return null!=this._adsManager&&this._adsManager.getRemainingTime();case"paused":return this._paused;case"duration":return null!=this._ad?this._ad.getDuration():-1;case"currentTime":return this._currentTime;case"muted":return void 0!==this._muted&&this._muted;case"src":return this._adTagUrl;case"adsResponse":return this._adsResponse;case"volume":return void 0!==this._volume&&this._volume;case"cuePoints":return null!=this._adsManager&&this._adsManager.getCuePoints();case"prerollCuePoint":var t,i;return null!==(i=null===(t=window.google.ima.AdCuePoints)||void 0===t?void 0:t.PREROLL)&&void 0!==i?i:-1;case"postrollCuePoint":var n,a;return null!==(a=null===(n=window.google.ima.AdCuePoints)||void 0===n?void 0:n.POSTROLL)&&void 0!==a?a:-1;case"mediaWidth":return this._adWidth;case"mediaHeight":return this._adHeight;case"ad":return this._ad;case"adId":return this._adId;case"adTitle":return this._adTitle;case"adLinear":return this._adLinear;case"adSystem":return this._adSystem;case"adContentType":return this._adContentType;case"adPodInfo":return this._adPodInfo_flat;case"adMediaMismatch":return this._adMediaMismatch;case"adWrapperAdIds":return this._adWrapperAdIds;case"creativeAdId":return this._creativeAdId;case"creativeId":return this._creativeId;case"clickThroughUrl":return this._savedClickThroughUrl;case"sdk":return"GOOGLE_IMA";case"restretchWillObjectFitContain":return this._objectFit&&null!=this.$media;case"error":return{error:this._errorMessage};case"canControlVolume":return this._canControlVolume}}},{key:"pause",value:function(){if(this._pendingPlay=!1,this._playing=!1,this._adsManager){this._expectingPause=!0;try{this._adsManager.pause()}catch(e){}}}},{key:"_onSkipTimerTick",value:function(){if(!this._paused&&null!=this._adsManager){var e=this._adsManager.getRemainingTime();h._timeIsValid(e)?(h._timeIsValid(this._adDuration)||(this._adDuration=e+0,null!=this.$element&&this.$element.triggerHandler("durationchange")),this._currentTime=Math.max(this._adDuration-e,this._currentTime+.5)):this._currentTime=this._currentTime+.5,null!=this.$element&&this.$element.triggerHandler("timeupdate"),this._skipController&&this._skipController.hasSkippableStateChanged(this._currentTime,this._skipOffset,this._adDuration)}}},{key:"_onAdStarted",value:function(e){c.default("[Html5IMAHead] ad started "),null!=this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null),this._skipTimer=window.setInterval(this._onSkipTimerTickBound,500),this._currentTime=0,this._skipController&&this._skipController.hasSkippableStateChanged(this._currentTime,this._skipOffset,this._adDuration),this._skipController&&"true"===this._upcomingVideo&&this._skipController.setUpcomingVideo()}},{key:"_tryInitialize",value:function(){if(null!==this._adDisplayContainer)try{this._adDisplayContainer.initialize(),this._adDisplayContainerInitialized=!0,this._pendingCanplay&&this.$element&&(this._pendingCanplay=!1,this.$element.triggerHandler("canplay"),this.$element.triggerHandler("canplaythrough"))}catch(e){e&&c.default("[Html5IMAHead] _tryInitialize => adDisplayContainer.initialize() error = "+e.message)}else this._pendingInitialize=!0}},{key:"load",value:function(e){!this._adDisplayContainerInitialized&&e&&this._tryInitialize()}},{key:"play",value:function(e){if(c.default("[Html5IMAHead] resume/play userAction: "+e),null!=this.$element&&this._isMuted&&this._isMainroll&&this.$element.find("video").each((function(e,t){t.muted=!0})),this._adDisplayContainerInitialized||this._tryInitialize(),!this._imaReady)return!1;if(this._adsManager&&!this._pendingPlay&&!this._playing){var t;this._pendingPlay=!0,null===(t=this.$element)||void 0===t||t.triggerHandler("play"),this._effectuateVolumeAndMuted();try{this._adsManagerStarted?this._adsManager.resume():this._adsManager.start()}catch(e){var i;this._errorMessage=e.message,c.default("[Html5IMAHead] play adsManager.start() error; error = "+this._errorMessage),null===(i=this.$element)||void 0===i||i.triggerHandler("error")}}}},{key:"resume",value:function(e){this.play(e)}},{key:"restretch",value:function(e,t){if(!this.$element)return!1;var i=this.$element.parent()[0];if(i){var n=void 0!==i.style.width&&i.style.width.match(/px/)?parseInt(i.style.width.replace("px","")):this.$element.width(),a=void 0!==i.style.height&&i.style.height.match(/px/)?parseInt(i.style.height.replace("px","")):this.$element.height();if(this._objectFit&&null!=this.$media){for(var o=0;o<this._vendorPrefixes.length;o++)this.$media.css(this._vendorPrefixes[o]+"transform","scale(1.0, 1.0)").css(this._vendorPrefixes[o]+"transform-origin","0 0");this.$media.css("height","100%").css("width","100%"),this.$media.css("object-fit","contain")}if(null!=this._adsManager){if(this._previousResizeWidth===n&&this._previousResizeHeight===a)return!1;this._api&&this._api.isFullscreen()?this._viewMode=window.google.ima.ViewMode.FULLSCREEN:this._viewMode=window.google.ima.ViewMode.NORMAL,this._isNonLinearPositioMode):this._adsManager.resize(n,a,this._viewMode),this._previousResizeWidth=n,this._previousResizeHeight=a}}}},{key:"contentEnded",value:function(){this._contentCompleteCalled=!0,this._adsLoader.contentComplete()}},{key:"_onAdsRequestTimeout",value:function(e){var t;this._adsRequestTimeout=null,this.reset(),null===(t=this.$element)||void 0===t||t.triggerHandler("error")}},{key:"_onAdLoadTimeout",value:function(e){var t;this._adLoadTimeout=null,this.reset(),null===(t=this.$element)||void 0===t||t.triggerHandler("error")}},{key:"_onAdsLoaderAdError",value:function(e){if(c.default("[Html5IMAHead] _onAdsLoaderAdError"),null!==this._adsRequestTimeout){clearTimeout(this._adsRequestTimeout),this._adsRequestTimeout=null,null!==this._adLoadTimeout&&(clearTimeout(this._adLoadTimeout),this._adLoadTimeout=null);var t,i=e.getError();if(c.default("[Html5IMAHead] _onAdsLoaderAdError error: "+i.toString()),(null==i?void 0:i.getErrorCode())===window.google.ima.AdError.ErrorCode.VAST_MEDIA_LOAD_TIMEOUT);else this._errorMessage=null==i?void 0:i.toString(),this._errorCode=null==i?void 0:i.getErrorCode().toString(),this.reset(),null===(t=this.$element)||void 0===t||t.triggerHandler("error")}}},{key:"_onAdsManagerLoaded",value:function(e){if(null!==this._adsRequestTimeout){if(clearTimeout(this._adsRequestTimeout),this._adsRequestTimeout=null,null!==this._adLoadTimeout&&(clearTimeout(this._adLoadTimeout),this._adLoadTimeout=null),this._adLoadTimeout=setTimeout(this._onAdLoadTimeoutBound,6e3),null!=this._media){var t=new window.google.ima.AdsRenderingSettings;t.loadVideoTimeout=1e4,t.useStyledNonLinearAds=!0,t.useStyledLinearAds=!1,t.uiElements=[],t.restoreCustomPlaybackStateOnAdBreakComplete=!1,t.enablePreloading=this._imaEnablePreloading,t.bitrate="number"==typeof this._measuredBandwidth&&this._measuredBandwidth>0?Math.round(.25*this._measuredBandwidth):-1,this._isMainroll&&this._isAutoMuteSet&&($parcel$interopDefault(d)(this._media).attr("muted",""),$parcel$interopDefault(d)(this._media).attr("defaultMuted","")),this._adsManager=e.getAdsManager(this._media,t)}else this._adsManager=e.getAdsManager({duration:0,currentTime:0});if(this._adsManager)for(;this._pendingSet_adsManager.length>0;){var i=this._pendingSet_adsManager.shift();this.set(i.propertyName,i.value)}this._processAdsManager(this._adsManager)}}},{key:"_processAdsManager",value:function(e){e.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,this._onAdErrorBound,!1),e.addEventListener(window.google.ima.AdEvent.Type.STARTED,this._onAdStartedBound,!1),this._bindArray="ALL_ADS_COMPLETED CLICK COMPLETE CONTENT_PAUSE_REQUESTED CONTENT_RESUME_REQUESTED FIRST_QUARTILE LOADED AD_METADATA LOG MIDPOINT PAUSED RESUMED SKIPPABLE_STATE_CHANGED SKIPPED STARTED AD_PROGRESS THIRD_QUARTILE USER_CLOSE VOLUME_CHANGED VOLUME_MUTED".split(" ");for(var t=0;t<this._bindArray.length;t++)e.addEventListener(window.google.ima.AdEvent.Type[this._bindArray[t]],this._onAdEventBound,!1);this._initAdsManager()}},{key:"_initAdsManager",value:function(){if(this._adsManager&&!this._adsManagerInited){this._adsManagerInited=!0;var e=this.$element.width(),t=this.$element.height();this._api&&this._api.isFullscreen()?this._viewMode=window.gooe=window.google.ima.ViewMode.NORMAL,this._adsManager.init(e,t,this._viewMode)}}},{key:"onContentPauseRequested_",value:function(e){}},{key:"onContentResumeRequested_",value:function(e){this._contentCompleteCalled}},{key:"_onAdEvent",value:function(e){switch(e.type!==window.google.ima.AdEvent.Type.AD_PROGRESS&&c.default("[Html5IMAHead] Ad event: "+e.type),this.$element&&this.$element.trigger("bb_ad_log",[{msg:"Ad event: "+e.type}]),e.type){case window.google.ima.AdEvent.Type.LOG:var t=e.getAdData();t.adError&&(c.default("[Html5IMAHead] Non-fatal error occurred: "+t.adError.getMessage()),null!=this.$element&&this.$element.triggerHandler("warning"));break;case window.google.ima.AdEvent.Type.AD_METADATA:var i;null!==this._adLoadTimeout&&(clearTimeout(this._adLoadTimeout),this._adLoadTimeout=null),this._hasAdPlaylist=!0,null===(i=this.$element)||void 0===i||i.triggerHandler("loadedadlistmetadata");break;case window.google.ima.AdEvent.Type.LOADED:var n;if(null!==this._adLoadTimeout&&(clearTimeout(this._adLoadTimeout),this._adLoadTimeout=nundMediaEvents(this.$media),this.$media.closest(".bb-head").show()),null!=this.$element&&(this.$element.triggerHandler("loadedmetadata"),this._isMainroll&&this.$element.find("video").each((function(e,t){t.muted=!0}))),this._adWidth=0,this._adHeight=0,this._ad=e.getAd(),null!=this._ad){var a,o,s,l,r={};r.duration=this._adDuration=this._ad.getDuration(),r.id=this._adId=this._ad.getAdId(),r.title=this._adTitle=this._ad.getTitle(),r.linear=this._adLinear=this._ad.isLinear(),r.adSystem=this._adSystem=this._ad.getAdSystem(),r.surveyURL=this._adSurveyUrl="function"==typeof this._ad.getSurveyUrl?this._ad.getSurveyUrl():null,r.wrapperAdIds=this._adWrapperAdIds="function"==typeof this._ad.getWrapperAdIds?this._ad.getWrapperAdIds():null,r.creativeAdId=this._creativeAdId=null===(o=(a=this._ad).getCreativeAdId)||void 0===o?void 0:o.call(a),r.creativeId=this._creativeId=null===(l=(s=this._ad).getCreativeId)||void 0===l?void 0:l.call(s),r.width=this._ad.getWidth(),r.height=this._ad.getHeight(),this._updateAdDimensions(),this._adLinear||this._adDuration<0&&(this._adDuration=27),r.contentType=this._adContentType=this._ad.getContentType(),this._adPodInfo_flat=null;var d=r.adPodInfo=this._ad.getAdPodInfo?this._ad.getAdPodInfo():null;d&&(this._adPodInfo_flat=r.adPodData={},r.adPodData.adPosition=this._adPodInfo_flat.adPosition=d.getAdPosition(),r.adPodData.isBumper=this._adPodInfo_flat.isBumper=d.getIsBumper(),r.adPodData.maxDuration=this._adPodInfo_flat.maxDuration=d.getMaxDuration(),r.adPodData.podIndex=this._adPodInfo_flat.podIndex=d.getPodIndex(),r.adPodData.timeOffset=this._adPodInfo_flat.timeOffset=d.getTimeOffset(),r.adPodData.totalAds=this._adPodInfo_flat.totalAds=d.getTotalAds()),null!=this.$element&&this.$element.triggerHandler("durationchange"),"function"==typeof this._ad.isSkippable&&this._ad.isSkippable()&&this._skipController&&(this._skipController=this._skipController.exit()),null!=this.$element&&this.$element.trigger("bb_ad_loaded",[{ad:r}])}null!=this.$element&&this.$element.triggerHandler("loadeddata"),this._pendingInitialize&&this._tryInitialize(),this._adDisplayContainerInitialized||this._canAutoPlay||this._canAutoPlayMuted&&this._isMuted?(null!=this.$element&&this.$element.triggerHandler("canplay"),null!=this.$element&&this.$element.triggerHandler("canplaythrough")):this._pendingCanplay=!0,null===(n=this.$adClickLayer)||void 0===n||n.off("click",this._onAdClickLayerClickBound);break;case window.google.ima.AdEvent.Type.AD_PROGRESS:this._adsManagerStarted=!0;break;case window.google.ima.AdEvent.Type.STARTED:if(this._adsManagerStarted=!0,this._ad=e.getAd(),null!=this._ad){var u;if(this._adDuration=this._ad.getDuration(),this._updateAdDimensions(),!this._adLinear)this._adDuration<0&&(this._adDuration=27),null!=this._durationTimeout&&(clearTimeout(this._durationTimeout),this._durationTimeout=null),this._durationTimeout=setTimeout(this._onDurationTimeoutBound,1e3*this._adDuration),"OVERLAY"===(null===(u=this._opts)||void 0===u?void 0:u.msasPos)&&null!=this._media&&this._media.play();for(var p in this._adContentType=this._ad.getContentType(),null!=this.$element&&this.$element.triggerHandler("durationchange"),this._ad)if(Object.prototype.hasOwnProperty.call(this._ad,p)&&"object"==typeof this._ad[p]){if(this._ad[p].clickThroughUrl){this._savedClickThroughUrl=this._ad[p].clickThroughUrl;break}if(this._ad[p].traffickingParameters)try{var _=JSON.parse(this._ad[p].traffickingParameters);if(null==_?void 0:_.page_url){this._savedClickThroughUrl=_.page_url;break}}catch(e){}}}if(this.$adClickLayer&&this.$adSkipLayer?(this._isCustomClickTrackingUsed=null!=this._adsManager&&this._adsManager.isCustomClickTrackingUsed(),this._isVPAIDAd&&(this._isCustomClickTrackingUsed=!1),"application/javascript"!==this._adContentType&&"application/x-shockwave-flash"!==this._adContentType||(this._isCustomClickTrackingUsed=!1),this._isCustomClickTrackingUsed?(this.$element.css("pointer-events","auto"),this.$adClickLayer.show(),this.$adSkipLayer.show(),this.$adClickLayer.on("click",this._onAdClickLayerClickBound),this.$adSkipLayer.on("click",this._onAdSkipLayerClickBound)):(this.$element.css("pointer-events","none"),this.$adClickLayer.off("click",this._onAdClickLayerClickBound),this.$adSkipLayer.off("click",this._onAdSkipLayerClickBound),this.$adClickLayer.hide(),this.$adSkipLayer.hide())):this.$element.css("pointer-events","none"),this.$adContainer.css("pointer-events","auto"),this._paused=!1,this._playing=!0,this._pendingPlay=!1,null!=this.$element&&this.$element.triggerHandler("playing"),null!=this.$element&&this.$element.triggerHandler("adStarch(/[/.]{tchScript(f,{async:!0}).then((function(e){c.default("[Html5IMAHead] _onAdEvent STARTED survey request status: "+e)})).catch((function(e){c.default("[Html5IMAHead] _onAdEvent STARTED survey request status: error")}))}),1)}break;case window.google.ima.AdEvent.Type.PAUSED:this._paused=!0,this._playing=!1,this._pendingPlay=!1,null!=this.$element&&this.$element.triggerHandler("pause");break;case window.google.ima.AdEvent.Type.RESUMED:this._paused=!1,this._playing=!0,this._pendingPlay=!1,null!=this.$element&&this.$element.triggerHandler("playing");break;case window.google.ima.AdEvent.Type.COMPLETE:this._playing=!1,this._pendingPlay=!1,this.$element.css("pointer-events","none"),this.$adContainer.css("pointer-events","none"),this.$adClickLayer&&this.$adClickLayer.hide(),this.$adSkipLayer&&this.$adSkipLayer.hide(),this._skipController&&this._skipController.reset(),null!=this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null),h._timeIsValid(this._adDuration)&&(this._currentTime=this._adDuration,null!=this.$element&&this.$element.triggerHandler("timeupdate")),this._paused=!0,null!=this.$element&&this.$element.triggerHandler("pause"),null!=this.$element&&this.$element.triggerHandler("adComplete");break;case window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.$element.css("pointer-events","none"),this._paused=!0,this._playing=!1,this._pendingPlay=!1,this.reset(),null!=this.$element&&this.$element.triggerHandler("ended");break;case window.google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:if(null!=this._adsManager&&this._adsManager.getAdSkippableState()&&this._pendingSkip){this._expectingPause=!0;try{this._adsManager.skip(),this._playing=!1}catch(e){}}break;case window.google.ima.AdEvent.Type.USER_CLOSE:case window.google.ima.AdEvent.Type.SKIPPED:this.$element.css("pointer-events","none"),this._paused=!0,this._playing=!1,this._pendingPlay=!1,this.reset(),this._opts&&this._opts.clipData&&"mainroll"===this._opts.clipData.mediatype&&this._media&&!this._avoidPreload&&this._media.load(),null!=this.$element&&this.$element.triggerHandler("adSkipped");break;case window.google.ima.AdEvent.Type.CLICK:this._isCustomClickTrackingUsed||null!=this.$element&&this.$element.triggerHandler("bb_ad_clicked");break;case window.google.ima.AdEvent.Type.FIRST_QUARTILE:null!=this.$element&&this.$element.triggerHandler("adFirstQuartile");break;case window.google.ima.AdEvent.Type.MIDPOINT:null!=this.$element&&this.$element.triggerHandler("adMidPoint");break;case window.google.ima.AdEvent.Type.THIRD_QUARTILE:null!=this.$element&&this.$element.triggerHandler("adThirdQuartile");break;case window.google.ima.AdEvent.Type.VOLUME_CHANGED:null!=this.$element&&this.$element.triggerHandler("volumechange");case window.google.ima.AdEvent.Type.VOLUME_MUTED:null!=this.$element&&this.$element.triggerHandler("volumechange");break;case window.google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:var v;this._adContentType&&this._adContentType.match(/^image/)&&!this._isNonLinearPosition||(this._adsManager&&this._adsManager.isCustomPlaybackUsed()?this._performMediaBorrow():(this._isVMAPPosition||this._usingAdSchedule||this._hasAdPlaylist)&&(this._expectingPause=!0,this.$element&&this.$element.triggerHandler("adContentPauseReq"))),null===(v=this.$media)||void 0===v||v.off("ended.content",this._onContentEndedBound);break;case window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:var g;null===(g=this.$media)||void 0===g||g.on("ended.content",this._onContentEndedBound),this._adContentType&&this._adContentType.match(/^image/)&&!this._isNonLinearPosition?(this.$element.css("pointer-events","none"),this._paused=!0,this._playing=!1,this._pendingPlay=!1,this.reset(),null!=this.$element&&this.$element.triggerHandler("ended")):this._adsManager&&this._adsManager.isCustomPlaybackUsed()?this._performMediaReturn():(this._isVMAPPosition||this._usingAdSchedule||this._hasAdPlaylist)&&(this._expectingPause=!1,this.$element&&this.$element.triggerHandler("adContentResumeReq"))}}},{key:"_updateAdDimensions",value:function(){var e=this._adWidth,t=this._adHeight;try{this._adWidth=this._ad.getWidth()||this._ad.getVastMediaWidth(),this._adHeight=this._ad.getHeight()||this._ad.getVastMediaHeight();var i=this._media.videoHeight>0?this._media.videoWidth/this._media.videoHeight:1.777,n=this._adHeight>0?this._adWidth/this._adHeight:1.777;if(this._adMediaMismatch=n>0&&Math.abs(1-i/n)>.05,this.$element&&0!==this._adWidth&&(e!==this._adWidth||t!==this._adHeight)){var a={adWidth:this._adWidth,adHeight:this._adHeight};this.$element.trigger("bb_ad_size_changed",[a])}}catch(e){e&&e.message&&c.default("[Html5IMAHead] error in _updateAdDimensions: "+e.message)}out",value:function(e){if(nulluse=!0;try{this._adsManager.stop()}catch(e){}}this._onAdEvent({type:window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,getAd:function(){return null}})}},{key:"_onSkipClick",value:function(e){this._handleSkipClick()}},{key:"_handleSkipClick",value:function(){var e=!1;if(null!=this._adsManager){var t,i=m.mapPodIndexToPosition(this._adPodInfo_flat.podIndex),n=this._adsManager.getAdSkippableState(),a=!!(null===(t=this._skipController)||void 0===t?void 0:t.getSkippableState()),o=n||a;if(this._isVMAPPosition&&(!this._usingAdSchedule||this._usingAdSchedule&&this._skippableAdBreaks.indexOf(i)>-1)&&o){try{this._adsManager.discardAdBreak(),e=!0}catch(e){}this._skipController&&this._skipController.reset(),this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null),this.$element&&this.$element.triggerHandler("adSkipped")}else if(n){this._expectingPause=!0;try{this._adsManager.skip(),e=!0}catch(e){}this._skipController&&this._skipController.reset(),null!=this._skipTimer&&(window.clearInterval(this._skipTimer),this._skipTimer=null)}else a&&(this._paused=!0,this.reset(),e=!0,this._opts&&this._opts.clipData&&"mainroll"===this._opts.clipData.mediatype&&this._media&&!this._avoidPreload&nt.trigger("bb_ad_log",[{msg:"Ad event: skip"}]),null!=this.$element&&this.$element.triggerHandler("adSkipped"))}return e}},{key:"_onFakeAdClickLayerClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_onAdClickLayerClick",value:function(e){var t=this._media&&!this._media.paused&&!this._media.ended;if(null!=this._adsManager&&this._adsManager.isCustomPlaybackUsed()&&!t)this.resume();else if(this.$adClickLayer_fake&&this.$adClickLayer_fake.trigger("click"),this.$element&&this.$element.triggerHandler("bb_ad_clicked"),this._windowHasFocus&&this._savedClickThroughUrl){e.preventDefault();var i=u.default..doOpenUrl(this._savedClickThroughUrl,"_blank",!0):window.open(this._savedClickThroughUrl,"_blank","noopener")}}},{key:"_onAdSkipLayerClick",value:function(e){this._handleSkipClick()||this._onAdClickLayerClick(e)}},{key:"_onAdError",value:function(e){c.default("[Html5IMAHead] Ad error: "+e.getError().toString());var t=e.getError();if(t.getErrorCode()===window.google.ima.AdError.ErrorCode.VAST_MEDIA_LOAD_TIMEOUT);else this._errorMessage=e.getError().toString(),this._errorCode=t.getErrorCode().toString(),this.reset(),null!=this.$element&&this.$element.triggerHandler("error")}},{key:"_bindMediaEvents",value:function(e){this._isiPhone?e.on("playing",this._onIPhoneMediaPlayingBound):(e.on("playing",this._onMediaPlayingBound),e.on("pause",this._onMediaPauseBound),e.on("error",this._onMediaErrorBound),e.on("ended",this._onMediaEndedBound))}},{key:"_unbindMediaEvents",value:function(e){this._isiPhone?e.off("playing",this._onIPhoneMediaPlayingBound):(e.off("playing",this._onMediaPlayingBound),e.off("pause",this._onMediaPauseBound),e.off("error",this._onMediaErrorBound),e.off("ended",this._onMediaEndedBound))}},{key:"_onIPhoneMediaPlaying",value:function(e){this._haveStarted=!0}},{key:"_onMediaPlaying",value:function(e){if(this._pausedUnexpectedly=!1,this._expectingPause=!1,this._haveStarted=!0,this._pausedByBlur=!1,!this._mediaPlaying){this._mediaPlaying=!0;var t=this;window.setTimeout((function(){t._animationCallback()}),1e3/60)}this._mediaFinished=!1}},{key:"_onMediaPause",value:function(e){this._pausedUnexpectedaError",value:function(e){this._pausedUnexpectedly=!1,this._mediaPlaying=!1,this._mediaFinished=!0}},{key:"_onMediaEnded",value:function(e){this._pausedUnexpectedly=!1,this._mediaPlaying=!1,this._mediaFinished=!0}},{key:"_onContentEnded",value:function(e){try{this._adsLoader.contentComplete()}catch(e){}}},{key:"_animationCallback",value:function(){var e;if(this._mediaPlaying){var t=this;window.setTimeout((function(){t._animationCallback()}),1e3/60)}this._pausedUnexpectedly&&!this._mediaFinished&&(null===(e=this._adsManager)||void 0===e?void 0:e.isCustomPlaybackUsed())&&this.$media[0].play()}}],[{key:"_timeIsValid",value:function(e){return!isNaN(parseFloat(e))&&e>0}}]),h}(h.default,(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=parcelRequire("1MxPP"),o=function(e,t,i){this._init(e,t,i)};o.prototype._init=function(e,t,a){var o,s,l,r;if(this._opts=t||{},this._skipOptions=a||{},this._eventNS="AdSkipController"+String(Math.random()).replace(".",""),this._type="skip",this._skipOffset=-1,this._skipCounterText=(null==a?void 0:a.skipCounterText)||"You can skip this ad in",this._skipButtonText=(null==a?void 0:a.skipButtonText)||"Skip Ad",this._upcomingText=(null==a?void 0:a.upcomingText)||"Video will play after this ad",this._upcomingTitle=null,this._upcomingClipId=null,this._upcomingThumb=null,this._isOutstream="mainroll"===(null===(o=this._opts)||void 0===o||null===(s=o.clipData)||void 0===s?void 0:s.mediatype)||"inarticle"===(null===(l=this._opts)||void 0===l||null===(r=l.clipData)||void 0===r?void 0:r.mediatype),this._visible=!1,this._skippable=!1,this._skipTimeRemaining=0,this.$skipCounter=null,this.$skipCounterText=null,this.$skipCounterIcon=null,this.$skipButton=null,this.$closeButton=null,this._api=null,this.$upcomingVideoDiv=null,this.$upcomingText=null,this.$upcomingThumbnail=null,this._genericType="mediaclip",this._onSkipClickBound=this._onSkipClick.bind(this),this._onLoadedClipDataBound=this._onLoadedClipData.bind(this),this._onResizedBound=this._onResized.bind(this),this.$element=null,void 0!==e&&null!=e){var d;this.$element=e,this.$element.hide();var u='<svg style="height: 12px;" viewBox="0 0 12 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<g>\n\t\t\t\t<path d="M10.8272 13.9677C11.4935 13.9677 12 13.4452 12 12.8009V1.1668C12 0.522508 11.4596 0 10.7932 0C10.1268 0 9.62037 0.522508 9.62037 1.13398V12.7983C9.62037 13.4755 10.1936 13.9677 10.8272 13.9677ZM1.98026 13.7307L9.22099 7.92951C9.50855 7.69483 9.65204 7.36324 9.65204 7.0318C9.65204 6.70021 9.5084 6.36891 9.22099 6.13409L1.98026 0.332903C1.20226 -0.355509 0 0.168821 0 1.1668V12.8312C0 13.8291 1.20226 14.3542 1.98026 13.7307Z" fill="white"/>\n\t\t\t</g>\n\t\t</svg>';if((null===(d=n.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===d?void 0:d.getGeneration())>=8?(this.$skipWrapper=$parcel$interopDefault(i)('<div class="bb-skip-wrapper" style="--skip-font-size:16px;pointer-events:none;user-select:none;font-weight:500;font-size:var(--skip-font-size);font-family:Lato,arial,sans-serif; color:#fff;min-width:var(--skip-font-size); min-height:var(--skip-font-size);background-color: rgba(0,0,0,0.5);border-radius: 5px 0 0 5px;text-align:center; position:absolute;right:0;bottom:max(40px,18%); display:flex"></div>').appendTo(this.$element),this.$skipCounter=$parcel$interopDefault(i)('<div class="bb-skip-counter" style="pointer-events:all;padding:var(--skip-font-size);display:flex;align-items:center;gap:12px;white-space:nowrap;"></div>').appendTo(this.$skipWrapper),this.$skipButton=$parcel$interopDefault(i)('<div class="bb-skip-button" style="padding:var(--skip-font-size);pointer-events:auto;cursor:pointer;display:flex;align-items:center;gap:12px;white-space:nowrap;"></div>').appendTo(this.$skipWrapper).hide(),$parcel$interopDefault(i)('<span class="bb-skip-text">'+this._skipButtonText+" </span>"+u).appendTo(this.$skipButton)):(this.$skipWrapper=$parcel$interopDefault(i)('<div class="bb-skip-button" style="pointer-events:none; user-select:none; font:normal 12px Ubuntu,arial,helvetica,sans-serif; color:#fff;min-width:12px; min-height:12px;background-color: rgba(0,0,0,0.6);border-radius: 2px;border: 1px solid #000000;text-align:center; position:absolute; right:-2px; bottom:50px; display:flex"></div>').appendTo(this.$element),this.$skipCounter=$parcel$interopDefault(i)('<div class="bb-skip-counter" style="pointer-events:all;padding:8px 12px 8px 10px;display:flex;align-items:center;gap:12px;white-space:nowrap;"></div>').appendTo(this.$skipWrapper),this.$skipButton=$parcel$interopDefault(i)('<div class="bb-skip-button" style="pointer-events:auto;padding:8px 12px 8px 10px;cursor:pointer;"></div>').appendTo(this.$skipWrapper).hide(),$parcel$interopDefault(i)('<span class="bb-skip-text">'+this._skipButtonText+" </span>").appendTo(this.$skipButton)),this.$skipButton.on("click",this._onSkipClickBound),this.$skipCounterText=$parcel$interopDefault(i)('<span class="bb-skip-counter-text"></span>').appendTo(this.$skipCounter),this.$skipCounterIcon=$parcel$interopDefault(i)(u).appendTo(this.$skipCounter),this.$closeButton=$parcel$interopDefault(i)('<div class="bb-skip-close-button" style="pointer-events:auto;padding:8px 12px 8px 10px;"></div>').appendTo(this.$skipWrapper).hide(),this.$closeButton.on("click",this._onSkipClickBound),!this._isOutstream&&(this.$upcomingVideoDiv=$parcel$interopDefault(i)('<div class="bb-upcoming" style="pointer-events:auto;cursor:auto;display:flex;align-items:center"></div>').appendTo(this.$skipWrapper).hide(),this.$upcomingVideoDiv.attr("title",this._upcomingTitle),this.$upcomingText=$parcel$interopDefault(i)('<span class="bb-upcoming-text" style="padding:0px 0.5em;display: -webkit-box;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:2">'+this._upcomingText+" </span>").appendTo(this.$upcomingVideoDiv),this.$upcomingThumbnail=$parcel$interopDefault(i)(document.createElement("img")).appendTo(this.$upcomingVideoDiv),this.$upcomingThumbnail.css({width:"75px",height:"42px",background:"rgba(0,0,0,0.6)",color:"transparent"}),this.$upcomingThumbnail.attr("alt","poster"),this._api=n.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI"),this._api)){if(!this._upcomingClipId||!this._upcomingTitle){var c=this._api.getClipData();this._upcomingClipId=null==c?void 0:c.id,this._upcomingTitle=null==c?void 0:c.title}this._upcomingClipId&&(this._upcomingThumb=this._api.getThumbnail(this._upcomingClipId,75,42))}this.$wrapper=this.$element.closest(".bb_wrapper"),this.$wrapper&&(this._onResized(),this.$wrapper.on("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$wrapper.on("bb_resized",this._onResizedBound))}},o.prototype.exit=function(){var e,t;null!=this.$element&&(null===(e=this.$skipButton)||void 0===e||e.off("click",this._onSkipClickBound),null===(t=this.$closeButton)||void 0===t||t.off("click",this._onSkipClickBound),this.$element.empty());return this.$wrapper&&(this.$wrapper.off("bb_mediaclip_loaded",this._onLoadedClipDataBound),this.$wrapper.off("bb_resize",this._onResizedBound)),null},o.prototype.reset=function(){var e,t;(this._skipOffset=-1,this._visible=!1,thihis.$upcomingThumbnail)||void 0===e||e.hide(),null===(t=this.$upcomingVideoDiv)||void 0===t||t.hide(),this.$element.hide());this._showHideElements()},o.prototype.setType=function(e){this._type=void 0!==e?e:"skip"},o.prototype.getSkippableState=function(){return this._skippable},o.prototype.hasSkippableStateChanged=function(e,t,i){void 0!==t&&(this._skipOffset=t),(isNaN(parseFloat(i))||i<=0)&&(i=999999);var n=!1;return this._skipOffset>=0&&this._skipOffset<i&&(this._visible||(this._visible=!0,this.$element.show(),this._showHideElements()),this._skipTimeRemaining=this._skipOffset-e,this._skipTimeRemaining>0?this._updateCounter():this._skippable||(this._skippable=!0,this._showHideElements(),a.default("[AdSkipController] hasSkippableStateChanged skippable!"),n=!0)),n},o.prototype.setUpcomingVideo=function(){!this._isOutstream&&this.$element&&(this.$upcomingVideoDiv.attr("title",this._upcomingTitle),this._upcomingThumb?this.$upcomingThumbnail.attr("src",this._upcomingThumb).show():this.$upcomingThumbnail.hide(),this._skipOffset>=0?(this.$upcomingText.css({display:"none"}),this.$skipCounter.css({padding:"12px 12px 8px 10px"}),this.$skipButton.css({padding:"12px 12px 8px 10px"})):(this.$upcomingText.css({display:"-webkit-box"}),this.$skipCounter.css({display:"none"})),this.$element.show(),this.$upcomingVideoDiv.show())},o.prototype._updateCounter=function(){if(this._skipTimeRemaining){var e="";this.$wrapper.width()>300?(e=this._skipCounterText+" ",this.$skipCounterIcon.hide()):this.$skipCounterIcon.show(),this.$skipCounterText.text(e+o._timeToTimeStr(Math.ceil(this._skipTimeRemaining)))}},o.prototype._onResized=function(){var e,t,i=Math.min(this.$wrapper.height(),this.$wrapper.width());null===(e=this.$skipWrapper)||void 0===e||e0235*i))+"px"}),null===(t=this.$upcomingText)||void 0===t||t.css({maxWidth:this.$wrapper.width()>480?"13em":"7em"}),this._updateCounter()},o.prototype._onSkipClick=function(e){this._skippable||e.stopPropagation()},o.prototype._showHideElements=function(e){var t,i;this._skippable?(this.$skipCounter.hide(),null===(t=this.$upcomingThumbnail)||void 0===t||t.css({cursor:"pointer"}),"close"===this._type?(this.$skipButton.hide(),this.$closeButton.show()):(this.$skipButton.show(),this.$closeButton.hide())):(null===(i=this.$upcomingThumbnail)||void 0===i||i.css({cursor:"auto"}),"close"===this._type?this.$skipCounter.hide():this.$skipCounter.show(),this.$skipButton.hide(),this.$closeButton.hide())},o._timeToTimeStr=function(e){var t="--:--";if(!isNaN(parseFloat(e))&&e>=0){var i=Math.round(e),n=Math.floor(i/3600),a=Math.floor((i-3600*n)/60),o=i-3600*n-60*a;n=n<10?"0"+n:n.toString(),a=a<10?"0"+a:a.toString(),o=o<10&&i>=60?"0"+o:o.toString();var s=[];i>=3600&&s.push(n),i>=60&&s.push(a),s.push(o),t=s.join(":")}return t},o.prototype._onLoadedClipData=function(e,t){!this._isOutstream&&(null==t?void 0:t.clipData)&&(this._upcomingTitle=t.clipData.title,this._upcomingClipId=t.clipData.id,this._api&&this._upcomingClipId?this._upcomingThumb=this._api.getThumbnail(this._upcomingClipId,75,42):this._upcomingThumb=null)}})),parcelRequire.register("2EUST",(function(e,t){$parcel$export(e.exports,"isIMALoaded",(function(){return o})),$parcel$export(e.exports,"loadIMA",(function(){return s}));var i=parcelRequire("1MxPP"),n=parcelRequire("4AQp6"),a="//s0.2mdn.net/instream/html5/".concat(i.debugMode?"ima3_debug":"ima3",".js"),o=function(){var e,t;return"string"==typeof(null===(e=window.google)||void 0===e||null===(t=e.ima)||void 0===t?void 0:t.VERSION)},s=function(){return o()||window.bluebillywig._internal.ima_load_promise?!o()&&window.bluebillywig._internal.ima_load_promise?window.bluebillywig._internal.ima_load_promise:o()?new Promise((function(e){return e()})):vion(e,t){o()?e():n.fetchScript(a,{async:!0,timeout:1e4}).then((function(){delete window.bluebillywig._internal.ima_load_promise,e()})).catch((function(e){delete window.bluebillywig._internal.ima_load_promise,t(e)}))})),window.bluebillywig._internal.ima_load_promise)}})),parcelRequire.register("bcEVx",(function(module,exports){$parcel$export(module.exports,"START_DELAY",(function(){return START_DELAY})),$parcel$export(module.exports,"default",(function(){return BBPrebid})),parcelRequire("dhZ6J");var $87rX1=parcelRequire("87rX1"),$b3HW6=parcelRequire("b3HW6"),$kwlj2=parcelRequire("kwlj2"),$4h4pL=parcelRequire("4h4pL"),$bSO3J=parcelRequire("bSO3J"),$50XHt=parcelRequire("50XHt"),$1MxPP=parcelRequire("1MxPP"),$4AQp6=parcelRequire("4AQp6");parcelRequire("lGhIk");var TOP_MOST_HOSTNAME=$4AQp6.determineTopMostHostname(),START_DELAY={PREROLL:0,GENERICMIDROLL:-1,MIDROLL:function(e){return e>0?Math.floor(e):-1},POSTROLL:-2},PREBID_AUCTION_ID_TO_BB_METADATA_MAPPING={},anyPlayerHasNoStats=!1,PREBID_EVENTS={AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_REJECTED:"bidRejected",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",AUCTION_DEBUG:"auctionDebug"},BBPrebid=function(){"use strict";function BBPrebid(e){var t,i,n,a,o,s,l,r,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=this;if($87rX1.default(this,BBPrebid),this.$element=e,this._opts=d,this._publication=null===(t=this._opts.playoutData)||void 0===t?void 0:t.publication,this._noStats="true"===(null===(i=this._opts.playoutData)||void 0===i?void 0:i.noStats),this._adMacroHelper=new $50XHt.default(e,this._opts),this._context=u.context||{},this._position=u.position||"inarticle",this._appId=(null===(n=this._opts.embedData)||void 0===n?void 0:n.appId)||"default",this._adUnits=u.prebidConfig.adUnits||this._opts.appConfig,this._config=u.prebidConfig.config||{usePrebidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}},this._adUnitCodes=[],this._analytics=u.prebidConfig.analytics,this._analyticsUrl="https://".concat((null===(a=this._publication)||void 0===a?void 0:a.indexOf("."))>-1?"dev.":"","pba.mainroll.com/v1/pba-ingest"),this._adServerUrl="__auction_direct__"===u.adServerUrl?null:u.adServerUrl||null,this._isOutstream="inarticle"===this._position||"mainroll"===(null===(o=this._opts.clipData)||void 0===o?void 0:o.mediatype)||"inarticle"===(null===(s=this._opts.clipData)||void 0===s?void 0:s.mediatype),this._startDelay=u.startDelay||null,this._skipOffset=null!==(r=null===(l=this._opts.msasSystemData)||void 0===l?void 0:l.skipOf&(anyPlayerHasNoStats=!0),window.bluebillywig_pbjs=window.bluebillywig_pbjs||{},window.bluebillywig_pbjs.que=window.bluebillywig_pbjs.que||[],window.bluebillywig_pbjs.que.push((function(){c._initPromise=c._init()})),!window.document.querySelector('script[src$="bluebillywig_pbjs.js"]')){var h;if(d.playerPath){var p=new URL(d.playerPath);h="".concat(p.protocol,"//").concat(p.hostname,"/scripts/prebid/bluebillywig_pbjs.js")}else if("string"==typeof this._publication){var _=-1===this._publication.indexOf(".")?"prod":this._publication.split(".")[1],m="prod"===_?"":"-".concat(_);h="https://cdn".concat(m,".bluebillywig.com/scripts/prebid/bluebillywig_pbjs.js")}var f=document.createElement("script");f.src=h,f.async=!0,window.document.getElementsByTagName("head")[0].appendChild(f)}}return $b3HW6.default(BBPrebid,[{key:"_init",value:function _init(){var _this=this;return $kwlj2.default($parcel$interopDefault($bSO3J).mark((function _callee(){var targetingOverride,label,adUnit,render,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,bid,multiplier,startDelay;return $parcel$interopDefault($bSO3J).wrap((function _callee$(_ctx){for(;;)switch(_ctx.prev=_ctx.next){case 0:return _ctx.next=2,_this._adMacroHelper.resolveMacrosRecursively(_this._config,!0);case 2:return _this._config=_ctx.sent,_ctx.next=5,_this._adMacroHelper.resolveMacrosRecursively(_this._adUnits,!0);case 5:_this._adUnits=_ctx.sent,targetingOverride=_this._config.adserverTargetingOverride||{},window.bluebillywig_pbjs.bidderSettings={standard:{storageAllowed:!0,allowAlternateBidderCodes:!0,allowedAlternateBidderCodes:["*"],adserverTargeting:[{key:targetingOverride.hb_bidder||"hb_bidder",val:function(e){return e.bidderCode}},{key:targetingOverride.hb_adid||"hb_adid",val:function(e){return e.adId}},{key:targetingOverride.hb_pb||"hb_pb",val:function(e){switch(_this._config.priceGranularity){case"low":return e.pbLg;case"medium":return e.pbMg;case"high":default:return e.pbHg;case"auto":return e.pbAg;case"dense":return e.pbDg}}},{key:targetingOverride.hb_size||"hb_size",val:function(e){return e.size}},{key:targetingOverride.hb_source||"hb_source",val:function(e){return e.source}},{key:targetingOverride.hb_format||"hb_format",val:function(e){return e.mediaType}},{key:targetingOverride.hb_impression_id||"hb_impression_id",val:function(e){return e.impression_id}}]}},_ctx.t0=regeneratorRuntime.keys(_this._adUnits);case 9:if((_ctx.t1=_ctx.t0()).done){_ctx.next=52;break}if(label=_ctx.t1.value,adUnit=_this._adUnits[label],_this._adUnitCodes.push(adUnit.code||label),void 0!==adUnit.renderer)if("BB"===adUnit.renderer)adUnit.renderer={url:"https://cdn.bluebillywig.com/apps/dummy/latest/app.js",render:function(e){}};else if(adUnit.renderer.url&&"string"==typeof adUnit.renderer.render&&adUnit.renderer.render.match(/^function/)){render=adUnit.renderer.render;try{eval('adUnit["renderer"]["render"] = '+render)}catch(e){}}else delete adUnit.renderer;if(void 0===adUnit.bids){_ctx.next=32;break}for(_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_ctx.prev=16,_iterator=adUnit.bids[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)bid=_step.value,void 0!==bid.bidCpmAdjustmentMultiplier&&("number"!=typeof bid.bidCpmAdjustmentMultiplier&&isNaN(parseFloat(bid.bidCpmAdjustmentMultiplier))||(multiplier="number"==typeof bid.bidCpmAdjustmentMultiplier?bid.bidCpmAdjustmentMultiplier:parseF),window.bluebillywig_pbjs.bidderSettings[bid.bidder]=window.bluebillywig_pbjs.bidderSettings[bid.bidder]||{},window.bluebillywig_pbjs.bidderSettings[bid.bidder].bidCpmAdjustment=function(e,t){return e*multiplier}),delete bid.bidCpmAdjustmentMultiplier);_ctx.next=24;break;case 20:_ctx.prev=20,_ctx.t2=_ctx.catch(16),_didIteratorError=!0,_iteratorError=_ctx.t2;case 24:_ctx.prev=24,_ctx.prev=25,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 27:if(_ctx.prev=27,!_didIteratorError){_ctx.next=30;break}throw _iteratorError;case 30:return _ctx.finish(27);case 31:return _ctx.finish(24);case 32:if(adUnit.mediaTypes=adUnit.mediaTypes||{},adUnit.mediaTypes.video=adUnit.mediaTypes.video||{},adUnit.mediaTypes.video.context=_this._isOutstream?"outstream":"instream",_this._isOutstream&&_this._adServerUrl&&(adUnit.mediaTypes.video.useCacheKey=!0),_this._isOutstream){_ctx.next=48;break}_ctx.t3=_this._position.toUpperCase(),_ctx.next="PREROLL"===_ctx.t3?41:"POSTROLL"===_ctx.t3?43:"MIDROLL"===_ctx.t3||"VMAP"===_ctx.t3?45:47;break;case 41:return startDelay=START_DELAY.PREROLL,_ctx.abrupt("break",47);case 43:return startDelay=START_DELAY.POSTROLL,_ctx.abrupt("break",47);case 45:return startDelay="number"==typeof _this._startDelay?START_DELAY.MIDROLL(_this._startDelay):START_DELAY.GENERICMIDROLL,_ctx.abrupt("break",47);case 47:adUnit.mediaTypes.video.startdelay=startDelay;case 48:adUnit.mediaTypes.video.skip=_this._skipOffset>-1?1:0,_this._skipOffset>-1?adUnit.mediaTypes.video.skipafter=_this._skipOffset:delete adUnit.mediaTypes.video.skipafter,_ctx.next=9;break;case 52:_this._config.userSync||(_this._config.userSync={}),_this._config.userSync.filterSettings||(_this._config.userSync.filterSettings={iframe:{bidders:"*",filter:"include"}}),_this._config.currency||(_this._config.currency={adServerCurrency:"USD"}),_this._config.debug=$1MxPP.debugMode,window.bluebillywig_pbjs.setConfig(_this._config),_this._analytics&&window.bluebillywig_pbjs.enableAnalytics&&window.bluebillywig_pbjs.enableAnalytics(_this._analytics),"true"!==_this._opts.publicationData.enablePrebidAnalytics&&!0!==_this._opts.publibleAnalytics({provider:"generic",options:{gvlid:684,batchSize:50,handler:_this.sendPrebidEvents.bind(_this),events:Object.values(PREBID_EVENTS).reduce((function(e,t){return e[t]=_this.mapEventData.bind(_this,t),e}),{})},includeEvents:Object.values(PREBID_EVENTS)});case 59:case"end":return _ctx.stop()}}),_callee,null,[[16,20,24,32],[25,,27,31]])})))()}},{key:"mapEventData",value:function(e,t){var i,n={};switch(e){case PREBID_EVENTS.AUCTION_DEBUG:if("ERROR"!==(null==t?void 0:t.type)||!(null==t?void 0:t.arguments))return!1;n.message=$4h4pL.default(t.arguments).join("").trim();break;case PREBID_EVENTS.AUCTION_INIT:case PREBID_EVENTS.AUCTION_END:n.bidders=t.bidderRequests.map((function(e){return e.bidderCode})).sort();break;case PREBID_EVENTS.BID_REQUESTED:var a,o,s=1===(null==t||null===(a=t.bids)||void 0===a?void 0:a.length)&&(null===(o=t.bids)||void 0===o?void 0:o[0]);if(!s)return!1;var l=Array.isArray(s.params)&&s.params.length?s.params[0]:s.params;n.bidder=t.bidderCode,n.params=$4AQp6.flattenObject(l);break;case PREBID_EVENTS.BIDDER_ERROR:n.bidder=t.bidderRequest.bidderCode;break;case PREBID_EVENTS.NO_BIs)&&t.params.length?t.params[0]:t.params;n.bidder=t.bidder,n.params=$4AQp6.flattenObject(r);break;case PREBID_EVENTS.BID_TIMEOUT:if(!(null==t?void 0:t.length))return!1;n.bidders=t.map((function(e){return e.bidder})).sort();break;case PREBID_EVENTS.BID_WON:case PREBID_EVENTS.BID_RESPONSE:n.bidder=t.bidder,n.timeToRespond=parseInt(t.timeToRespond),n.cpm=parseFloat(t.cpm),n.currency=t.currency,n.originalCpm=parseFloat(t.originalCpm||t.cpm),n.originalCurrency=t.originalCurrency||t.currency;var d=!0,u=!1,c=void 0;try{for(var h,p=["pbLg","pbMg","pbHg","pbAg","pbDg","pbCg"][Symbol.iterator]();!(d=(h=p.ne(m)||(n[_]=m)}}catch(e){u=!0,c=e}finally{try{d||null==p.return||p.return()}finally{if(u)throw c}}n.adserverTargeting=Object.keys(t.adserverTargeting).reduce((function(e,i){return e[i]=t.adserverTargeting[i]||"",e}),{}),t.floorData&&(n.floorValue=t.floorData.floorValue,t.floorData.cpmAfterAdjustments&&(n.floorCpm=t.floorData.cpmAfterAdjustments));break;default:return!1}var f=(null==t?void 0:t.auctionId)||(null==t||null===(i=t.bidderRequest)||void 0===i?void 0:i.auctionId)||(null==t?void 0:t.length)&&t[0].auctionId;return f&&PREBID_AUCTION_ID_TO_BB_METADATA_MAPPING[f]?n=Object.assign(n,PREBID_AUCTION_ID_TO_BB_METADATA_MAPPING[f]):n.publication="unknown",n.eventName=e,n.timestamp=(new Date).toISOString(),n.domain=TOP_MOST_HOSTNAME,n}},{key:"sendPrebidEvents",value:function(e){var t=this;return $kwlj2.default($parcel$interopDefaion i(){return $parcel$interopDefault($bSO3J).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!anyPlayerHasNoStats){i.next=2;break}return i.abrupt("return");case 2:if(!((e=e.filter((t=5;break}return i.abrupt("return");case 5:return i.prev=5,i.next=8,$4AQp6.fetchData(t._analyticsUrl,{method:"POST",contentType:"text/plain",dataType:"text",data:e.reduce((function(e,t){return e+JSON.stringify(t)}),""),cache:"no-store"});case 8:i.next=13;break;case 10:i.prev=10,i.t0=i.catch(5),$1MxPP.default("[BBPrebid] Error sending prebid events",i.t0);case 13:case"end":return i.stop()}}),i,null,[[5,10]])})))()}},{key:"addAdUnits",value:function(){var e=this;window.bluebillywig_pbjs.que.push((function(){var t,i,n=e;null===(t=e._initPromise)||void 0===t||null===(i=t.then)||void 0===i||i.call(t,(function(){for(var e in n._adUnits){var t,i=n._adUnits[e];if(null==i||null===(t=i.bids)||void 0===t?void 0:t.length){var a=!0,o=!1,s=void 0;try{for(var l,r=i.bids[Symbol.iterator]();!(a=(l=r.next()).done);a=!0){var d=l.value;d.alias&&d.code&&(window.bluebillywig_pbjs.aliasBidder(d.alias,d.code),delete d.alias,delete d.code)}}catch(e){o=!0,s=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw s}}}}for(var u in n._adUnits){var c=n._adUnits[u];window.bluebillywig_pbjs.removeAdUnit(c.code),window.bluebillywig_pbjs.addAdUnits(c)}}))}))}},{key:"getBids",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this,n=Math.uuid();PREBID_AUCTION_ID_TO_BB_METADATA_MAPPING[n]={publication:this._publication,contextType:this._context.type,contextCode:this._context.code,auctionCode:Object.keys(this._adUnits)[0]||""},window.bluebillywig_pbjs.que.push((function(){var a,o,s=i;null===(a=i._initPromise)||void 0===a||null===(o=a.then)||void 0===o||o.call(a,(function(){var i=s;window.bluebillywig_pbjs.requestBids({bidsBackHandler:function(n){var a=i,o=[];for(var s in n){var l,r=n[s].bids||[];(l=o).push.apply(l,$4h4pL.default(r))}var d=o.filter((function(e){var t,i,n,a;return e&&(e.vastXml||e.vastUrl||(null===(t=e.adResponse)||void 0===t||null===(i=t.ad)||void 0===i||null===(n=i.rtb)||void 0===n||null===(a=n.video)||void 0===a?void 0:a.content))})).sort((function(e,t){return e.cpm>t.cpm||e.cpm===t.cpm&&e.timeToRespond<t.timeToRespond?-1:1})).map((function(e){if(e.adUnit=a._adUnits[e.adUnitCode],a._adServerUrl){var t=window.bluebillywig_pbjs.adServers.dfp.buildVideoUrl({adUnit:e.adUnit,url:a._adServerUrl,bid:e,params:{output:"vast",ad_rule:"0"}});$1MxPP.default("[BBPrebid] mapped bid to url: "+t),e.vastXml=$4AQp6.wrapVastUrlInXml(t),e.selfWrappedVast=!0}else e.vastXml||(e.vastUrl?(e.vastXml=$4AQp6.wrapVastUrlInXml(e.vastUrl),e.selfWrappedVast=!0):e.vastXml=e.adResponse.ad.rtb.video.content);return e})).slice(0,t);if(!d.length&&i._adServerUrl){var u={};$1MxPP.default("[BBPrebid] no bids, set url to: "+i._adServerUrl),u.vastXml=$4AQp6.wrapVastUrlInXml(i._adServerUrl),u.selfWrappedVast=!0,d.push(u)}i._adUnitCodes=[],e(d)},adUnitCodes:s._adUnitCodes,auctionId:n})}))}))}}]),BBPrebid}()})),parcelRequire.register("50XHt",(function(e,t){$parcel$export(e.exports,"default",(function(){return c})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=parcelRequire("kwlj2"),o=parcelRequire("bSO3J"),s=parcelRequire("cWdJP"),l=parcelRequire("1MxPP"),r=parcelRequire("5SYG3");parcelRequire("lGhIk");var d=parcelRequire("gOD2K"),u=["[CONTENTCAT]","[PLAYBACKMETHODS]","[STOREID]","[STOREURL]","[CACHEBUSTING]","[TIMESTAMP]","[ADCATEGORIES]","[ADCOUNT]","[ADTYPE]","[BLOCKEDADCATEGORIES]","[BREAKMAXADLENGTH]","[BREAKMAXADS]","[BREAKMAXDURATION]","[BREAKMINADLENGTH]","[BREAKPOSITION]","[CONTENTPLAYHEAD]","[MEDIAPLAYHEAD]","[PLACEMENTTYPE]","[UNIVERSALADID]","[CLIENTUA]","[DEVICEIP]","[DEVICEUA]","[IFA]","[IFATYPE]","[LATLONG]","[SERVERSIDE]","[SERVERUA]","[APPBUNDLE]","[DOMAIN]","[PAGEURL]","[APIFRAMEWORKS]","[CLICKTYPE]","[EXTENSIONS]","[MEDIAMIME]","[OMIDPARTNER]","[PLAYERCAPABILITIES]","[VASTVERSIONS]","[VERIFICATIONVENDORS]","[ADPLAYHEAD]","[ADSERVINGID]","[ASSETURI]","[CONTENTID]","[CONTENTURI]","[INVENTORYSTATE]","[PLAYERSIZE]","[PLAYERSTATE]","[PODSEQUENCE]","[CLICKPOS]","[ERRORCODE]","[REASON]","[GDPRCONSENT]","[LIMITADTRACKING]","[REGULATIONS]"],c=function(){"use strict";function e(t,n){i.default(this,e),this._init(t,n)}return n.default(e,[{key:"_api",get:function(){return this._apiInternal||s.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI")}},{key:"_executer",get:function(){return this._executerInternal||s.default.getService(this._opts.playerAliasOrId).getInstance("Executer")}},{key:"_init",value:function(e,t){var i,n,a;for(var o in this.$element=e,this._opts=t,this.$wrapper=null===(i=this.$element)||void 0===i?void 0:i.closest(".bb_wrapper"),this.reset(),this.eventCallbacks={bb_playout_changed:this._onPlayoutChanged.bind(this)},this.eventCallbacks)null===(n=this.$wrapper)||void 0===n||n.on(o,this.eventCallbacks[o]);null===(a=s.default.getService(this._opts.playerAliasOrId).getInstance("ConsentFrameworkSupport"))||void 0===a||a.getCmpData(this._onCmpDataSuccessCallback.bind(this),this._onCmpDataErrorCallback.bind(this)),this._apiInternal=s.default.getService(this._opts.playerAliasOrId).getInstance("PublicAPI")||null,this._executerInternal=s.default.getService(this._opts.playerAliasOrId).getInstance("Executer")||null}},{key:"_onPlayoutChanged",value:function(e,t){if(null==t?void 0:t.playoutData){var i=t.playoutData;this.updateDeviceInfo(i)}}},{key:"updateDeviceInfo",value:function(e){e&&(e.adsystem_rdid&&(this._uuid=this._rdid=e.adsystem_rdid),e.adsystem_idtype&&(this._idtype=e.adsystem_idtype),void 0!==e.adsystem_is_lat&&(this._is_lat="true"===e.adsystem_is_lat||1===parseInt(e.adsystem_is_lat,10)),e.adsystem_buid&&(this._buid=e.adsystem_buid))}},{key:"_onCmpDataSuccessCallback",value:function(e,t){this._consentGdprApplies=e&&e.gdprApplies?1:0,this._consentCmpVersion=t,1===t?this._consentString=e&&e.consentData?e.consentData:"":2===t&&(this._consentString=e&&e.tcString?e.tcString:"")}},{key:"_onCmpDataErrorCallback",value:function(){l.default("[AdMacroService] Error getting CMP data")}},{key:"reset",value:function(){this._uuid=r.getCookie("uuid")||Math.uuid(),this._rdid=null,this._idtype=null,this._is_lat=!1,this._buid=null,this._consentGdprApplies=0,this._consentCmpVersion=0,this._consentString=""}},{key:"resolveMacrosRecursively",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this;return a.default($parcel$interopDefault(o).mark((function n(){var s,l,r,d;return $parcel$interopDefault(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s="object"==typeof e,l=Array.isArray(e),s||l){n.next=11;break}if("string"!=typeof e){n.next=10;break}return n.next=6,i.resolveMacro(e,t);case 6:return r=n.sent,n.abrupt("return",(null==r?void 0:r.doNotReplace)?e:r);(n){return $parcel$interopDefault(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.resolveMacrosRecursively(n,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return n.abrupt("return",n.sent);case 17:n.t0=regeneratorRuntime.keys(e);case 18:if((n.t1=n.t0()).done){n.next=25;break}return d=n.t1.value,n.next=22,i.resolveMacrosRecursively(e[d],t);case 22:e[d]=n.sent,n.next=18;break;case 25:return n.abrupt("return",e);case 26:case"end":return n.stop()}}),n)})))()}},{key:"findAndResolveMacros",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this;return a.default($parcel$interopDefault(o).mark((function n(){var a,s,l,r,d,u,c,h,p,_,m;return $parcel$interopDefault(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.startsWith("[aps:")){n.next=4;break}return n.next=3,i._resolveAPSMacro(e);case 3:return n.abrupt("return",n.sent);case 4:if(a=e.match(/%%[^%]*%%/g)||[],s=e.match(/(\[[^[]+?\])/g)||[],l=a.concat(s),r=!0,d=!1,u=void 0,!(null==l?void 0:l.length)){n.next=34;break}n.prev=9,c=l[Symbol.iterator]();case 11:if(r=(h=c.next()).done){n.next=20;break}return p=h.value,n.next=15,i.resolveMacro(p,t);case 15:(null==(_=n.sent)?void 0:_.doNotReplace)||(m=p.startsWith("[js2:"),e=e.replaceAll(p,m?_:encodeURIComponent(_)));case 17:r=!0,n.next=11;break;case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(9),d=!0,u=n.t0;case 26:n.prev=26,n.prev=27,r||null==c.return||c.return();case 29:if(n.prev=29,!d){n.next=32;break}throw u;case 32:return n.finish(29);case 33:return n.finish(26);case 34:return n.abrupt("return",e);case 35:case"end":return n.stop()}}),n,null,[[9,22,26,34],[27,,29,33]])})))()}},{key:"resolveMacro",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this;return a.default($parcel$interopDefault(o).mark((function n(){var a;return $parcel$interopDefault(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a={doNotReplace:!0},!e.startsWith("%%")){n.next=5;break}a=i._resolvePercentMacro(e),n.next=17;break;case 5:if(!/\[.+\]/.test(e)){n.next=17;break}if(!t||!e.startsWith("[js:")&&!e.startsWith("[js2:")){n.next=10;break}a=i._resolveJSMacro(e),n.next=17;break;case 10:if(!e.startsWith("[aps:")){n.next=16;break}return n.next=13,i._resolveAPSMacro(e);case 13:a=n.sent,n.next=17;break;case 16:a=i._resolveBracketMacro(e);case 17:return n.abrupt("return",a);case 18:case"end":return n.stop()}}),n)})))()}},{key:"_resolvePercentMacro",value:function(e){var t,i=e.replaceAll("%%","");switch(i){case"APP_BUNDLE_ID":t=this._buid;break;case"ADVERTISING_IDENTIFIER_PLAIN":t=this._uuid;break;case"ADVERTISING_IDENTIFIER_TYPE":t=this._idtype;break;case"ADVERTISING_IDENTIFIER_IS_LAT":t=this._is_lat?"1":"0";break;default:var n;t=null===(n=this._api)||void 0===n?void 0:n.getPlayoutData()["macro_".concat(i)]}return t||""}},{key:"_resolveBracketMacro",value:function(e){var t,i,n;if(u.includes(e))return{doNotReplace:!0};var a,o=null===(t=e.match(/\[(.+)\]/))||void 0===t?void 0:t[1];if(o.startsWith("mediaclip_"))a=null===(i=this._api)||void 0===i?void 0:i.getClipData()[o.split("mediaclip_")[1]];else if(o.startsWith("playout_"))a=null===(n=this._api)||void 0===n?void 0:n.getPlayoutData()[o.split("playout_")[1]];else switch(o.toLowerCase()){case"url":a=window.location.protocol+"//"+window.location.hostname+window.location.pathname;break;case"deeplink":case"description_url":var s;a=null===(s=this._api)||void 0===s?void 0:s.getDeeplink();break;case"correlator":a=this._uuid;break;case"timestamp":case"random":a=Date.now().toString();break;case"playerwidth":var l;a=((null===(l=this.$wrapper)||void 0===l?void 0:l.width())||768).toString();break;case"playerheight":var r;a=((null===(r=this.$wrapper)||void 0===r?void 0:r.height())||432).toString();break;case"consent_string":a=this._consentString;break;case"gdpr_applies":a=this._consentGdprApplies;break;case"cmp_version":a=this._consentCmpVersion}return a||""}},{key:"_resolveAPSMacro",value:function(e){var t=this;return a.default($parcel$interopDefault(o).mark((function i(){var n,a,s,l,r,u;return $parcel$interopDefault(o).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!((n=e.replace(/^\[aps:/,"").replace(/\]$/,"").split("|")).length<3)){i.next=3;break}return i.abrupt("return","");case 3:a={},s={0:"pubID",1:"slotID",2:"slotSize",3:"adServerUrl",4:"targetingKey",5:"targetingSeparator",6:"targetingOperator"},l=0;case 6:if(!(l<n.length)){i.next=13;break}if(!(l>=Object.keys(s).length)){i.next=9;break}return i.abrupt("break",13);case 9:a[s[l]]=n[l];case 10:l++,i.next=6;break;case 13:if(a.slotSize=a.slotSize.split("x").map((function(e){return parseInt(e)})),!a.adServerUrl){i.next=18;break}return i.next=17,t.findAndResolveMacros(a.adServerUrl);case 17:a.adServerUrl=i.sent;case 18:return r=new d.default(t.$element,t._opts,a),i.next=21,r.getVastUrl();case 21:return u=i.sent,i.abrupt("return",u||"");case 23:case"end":return i.stop()}}),i)})))()}},{key:"_resolveJSMacro",value:function(e)?:/,"").replace(/(.*)\]$/,"$1");t=null===(n=this._executer)||void 0===n?void 0:n.execute(a)}return t||""}},{key:"exit",value:function(){for(var e in this.eventCallbacks)this.$wrapper.off(e,this.eventCallbacks[e])}}]),e}()})),parcelRequire.register("gOD2K",(function(e,t){$parcel$export(e.exports,"default",(function(){return r})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=parcelRequire("kwlj2"),o=parcelRequire("bSO3J"),s=parcelRequire("cWdJP"),l=parcelRequire("1MxPP"),r=function(){"use strict";function e(t,n,a){var o;if(i.default(this,e),this.$element=t,this._opts=n,"string"!=typeof(null==a?void 0:a.pubID)||"string"!=typeof(null==a?void 0:a.slotID)||2!==(null==a||null===(o=a.slotSize)||void 0===o?void 0:o.length))throw new Error("APS config is incorrect, got ".concat(JSON.stringify(a)));this._pubID=a.pubID,this._slotID=a.slotID,this._slotSize=a.slotSize,a.adServerUrl&&(this._adServerUrl=a.adServerUrl),this._targetingKey=a.targetingKey||"cust_params",this._targetingSeparator=a.targetingSeparator||"&",this._targetingOperator=a.targetingOperator||"=",this._integrationWindowPromises={},this.initializeCmpInIntegrationWindow()}return n.default(e,[{key:"getIntegrationWindow",value:function(){var e=this;return this._integrationWindowPromises[this._pubID]||(this._integrationWindowPromises[this._pubID]=new Promise((function(t,i){var n="bb_aps_integration_".concat(e._pubID.replace(/[\W_]+/g,""));if(window.frames[n])return t(window.frames[n]);var a=document.createElement("iframe");a.name=n,(a.frameElement||a).style.cssText="display:none;",a.height=0,a.width=0,a.srcdoc='<html lang="en">\n\t\t\t\t\t\t<head>\n\t\t\t\t\t\t\t<meta charset="utf-8">\n\t\t\t\t\t\t\t<script src="https://c.amazon-adsystem.com/aax2/apstag.js" async><\/script>\n\t\t\t\t\t\t\t<script>\n\t\t\t\t\t\t\t\twindow.apstag = window.apstag || {\n\t\t\t\t\t\t\t\t\tinit: function() {\n\t\t\t\t\t\t\t\t\t\twindow.apstag._Q.push([\'i\', arguments, new Date().getTime()]);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfetchBids: function() {\n\t\t\t\t\t\t\t\t\t\twindow.apstag._Q.push([\'f\', arguments, new Date().getTime()]);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsetDisplayBids: function() { },\n\t\t\t\t\t\t\t\t\t_Q: []\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\twindow.apstag.init({\n\t\t\t\t\t\t\t\t\tpubID: \''.concat(e._pubID,"',\n\t\t\t\t\t\t\t\t\tdeals: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t<\/script>\html>"),a.addEventListener("load",(function(){l.default("[APS] Created integration window ".concat(n)),t(a.contentWindow)})),a.addEventListener("error",(function(){i(new Error("Failed to load integration frame"))})),e.$element.append(a)}))),this._integrationWindowPromises[this._pubID]}},{key:"initializeCmpInIntegrationWindow",value:function(){var e=this;return a.default($parcel$interopDefault(o).mark((function t(){var i,n,a;return $parcel$interopDefault(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=s.default.getService(e._opts.playerAliasOrId).getInstance("ConsentFrameworkSupport"))){t.next=12;break}return t.prev=2,t.next=5,e.getIntegrationWindow();case 5:n=t.sent,a=i.getApiName(),n[a]=function(e,t,n,a){i.cmpFound?i.callCmp(e,n):n({msg:"CMP not found"},!1)},t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:case"end":return t.stop()}}),t,null,[[2,10]])})))()}},{key:"getBids",value:function(){var e=this;return new Promise((function(t,i){var n=e,a=!1,o=setTimeout((function(){l.defaultt([])}),5e3);e.getIntegrationWindow().then((function(e){e.apstag.fetchBids({slots:[{slotID:n._slotID,mediaType:"video",sizes:[[n._slotSize[0],n._slotSize[1]]],timeout:5e3}]},(function(e){a||(clearTimeout(o),t(e))}))})).catch((function(e){i(e)}))}))}},{key:"getVastUrl",value:function(){var e=this;return a.default($par,c;return $parcel$interopDefault(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],t.prev=1,t.next=4,e.getBids();case 4:i=t.sent.filter((fune)})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),l.default("[APS] Failed to get bids");case 10:if(e._adServerUrl||!i.length){t.next=19;break}if(!(n=i.reduce((function(e,t){return Object.assign(e,t.targeting)}),{})).amznbid||!n.amzniid){t.next=16;break}return t.abrupt("return","https://aax.amazon-adsystem.com/e/dtb/vast?b=".concat(n.amzniid,"&rnd=").concat(Date.now(),"&pp=").concat(n.amznbid));case 16:return t.abrupt("return",null);case 17:t.next=39;break;cgetingSeparator),d=encodeURIComponent(e._targetingOperator),u=i.map((function(e){return Object.keys(e.targeting).reduce((function(t,i){return"".concat(t).concat(r).concat(i).concat(d).concat(e.targeting[i])}),"")})).join(""),(c=s.get(e._targetingKey)||"")||(u=u.substring(r.length)),s.set(e._targetingKey,c+u),a.search=s,t.abrupt("return",a.toString());case 33:return t.prev=33,t.t1=t.catch(20),t.abrupt("return",null);case 36:t.next=39;break;case 38:return t.abrupt("return",null);case 39:case"end":return t.stop()}}),t,null,[[1,7],[20,33]])})))()}}]),e}()})),parcelRequire.register("6Qbq1",(function(e,t){$parcel$export(e.exports,"default",(function(){return d})),parcelRequire("dhZ6J");var i=parcelRequire("1tpNqquire("b3HW6"),s=parcelRequire("gq7Yu"),l=parcelRequire("1MxPP"),r=parcelRequire("4AQp6"),d=function(e){"use strict";i.default(s,e);var t=n.default(s);function s(){return a.default(this,s),t.apply(this,arguments)}return o.default(s,[{key:"handlePosition",value:function(e,t){this._shouldPause=t;var i=!1;if(void 0!==e&&(this._pos=e),this._opts.msasPos=this._pos.toUpperCase(),this._loaded)this._headController&&(this._shouldPause||this._headController.play(this._userAction)),i=!0;else if(null!=this._config&&void 0!==this._config.systemconfig){this._clipid=this._config.systemconfig["media-clipid"],this._url=this._opts.publicationData.server+"/json/mediaclip/"+this._clipid,l.default("[MSASSystemVMS] handlePosition url: "+this._url),this._vastUrl=this._opts.publicationData.server+"/mediaclip/"+this._clipid+".xml?output=vast";var n={adType:"vms",adPosition:this._pos,adRequestUrl:this._url,vmsClipId:this._clipid};null!=this._lineItem&&(n.lineItemCode=this._lineItem.code),null!=this.$element&&this.$element.triggerHandler("bb_adsystem_initialized",[n]),this._data=null,this._data={assets:[{mediatype:"vast_"+this._config.subtype,src:this._vastUrl}]},null!=this._timeoutHandle&&(this._timeoutHandle.clear(),this._timeoutHandle=null),this._timeoutHandle=new r.Timer(this._onTimeout.bind(this),this._timeout),this._isInview||this._timeoutHandle.pause(),i=this._getData(this._dataCallback.bind(this))}return i}},{key:"_getData",value:function(e){var t=!1;if(null==this._datation(t){t?(i._data=t,"function"==typeof e&&e(!0)):(i._logError("json request failed: no data"),"function"==typeof e&&e(!1))})).catch((function(t){i._logError("json request failed: "+t),"function"==typeof e&&e(!1)})),t=!0}else this._logError("no url specified"),"function"==typeof e&&e(!1);else"function"==typeof e&&e(!0),t=!0;return t}},{key:"_dataCallback",value:function(e){if(e){if(this._clip=this._data,this._clip&&this._clip.assets)for(var t=this._clip.assets.length-1;t>=0;t--){var i=this._clip.assets[t];if(i&&i.src)try{decodeURI(i.src)}catch(e){l.default("[MSASSystemVMS] _dataCallback caught error: "+e),this._clip.assets.splice(t,1)}}null!=this._headController&&this._headController.load(this._clip),null!=this._headController&&(this._shouldPause||this._headController.play())}}}]),s}(s.default)})),parcelRequire.register("gFLWT",(function(e,t){$parcel$export(e.exports,"default",(function(){return h})),parcelRequire("dhZ6J");var i,n=parcelRequiO3J"),o=parcelRequire("1MxPP"),s=parcelRequire("eJX2b"),l=parcelRequire("50XHt"),r=parcelRequire("cWdJP"),d=parcelRequire("DBT2q"),u=parcelRequire("bcEVx"),c=parcelRequire("6Eaf3"),h=function(e,t){this._init(e,t)};h.prototype._init=function(e,t){var i,n;if(this._opts=t,this._baseUrl="https://bbvms.com",this._isCustomHostname=!1,this._publicationLabel="",this._scheduleId=0,this._scheduleCode="0",this._scheduleMacros=null,this._clipDuration=0,this._clipId=0,this._disabled="false"===(null==t||null===(i=t.playoutData)||void 0===i?void 0:i.commercials),this._clipDisabled=!1,this._adType="ad-scheduling",this._adPosition="vmap",this._adRequestUrl=null,this._adBreakItemCount={preroll:0,midroll:0,postroll:0},this._perPositionAdCounter_clip={},this._adMacroHelper=new l.default(e,t),this._finishedPhases=[],t){var a,u=t.embedData||null;void 0!==(null==u?void 0:u.baseurl)&&(this._baseUrl=null==u?void 0:u.baseurl);var h,p=t.publicationData||null;if(null==p?void 0:p.baseurl)this._baseUrl=null==p?void 0:p.baseurl.toLowerCase(),this._isCustomHostname=-1===this._baseUrl.indexOf("bbovp.com")&&-1===this._baseUrl.indexOf("bbvms.com")&&-1===this._baseUrl.indexOf("mainroll.com"),this._publicationLabel=(null===(h=t.playoutData)||void 0===h?void 0:h.publication)||p.name;var _=t.adSchedulingData||null;void 0!==(null==_?void 0:_.scheduleId)&&(this._scheduleId=_.scheduleId),void 0!==(null==_?void 0:_.scheduleCode)?this._scheduleCode=_.scheduleCode:this._scheduleCode=String(this._scheduleId),(null==_?void 0:_.adBreakItemCount)&&(this._adBreakItemCount=_.adBreakItemCount),this._disabled="false"===(null===(a=t.playoutData)||void 0===a?void 0:a.commercials),this._scheduleMacros=null==_?void 0:_.macros,this._auctionMapping=null==_?void 0:_.auctionMapping,this._auctionMapping&&(this._callbackScheduler=new d.default(e,t),this._prebidCache=new c.default(e,t),this._prebidCacheSuffix=Math.random().toString(36).substring(2),this._auctions=null==_?void 0:_.auctions),this._playoutController=r.default.getService(t.playerAliasOrId).getInstance("PlayoutController")}(this.$element=null,void 0!==e&&null!=e)&&(this.$element=e,t.msasPos=null===(n=this._adPosition)||void 0===n?void 0:n.toUpperCase(),o.debugMode&&performance.mark("MSASHeadController"),this._headController=new s.default(this.$element,t),o.debugMode&&performance.mark("end_MSASHeadController"),this._headController.setLoadStartCallback(this._loadStartCallback.bind(this)),this._headController.setLoadedDataCallback(this._loadedDataCallback.bind(this)),this._headController.setCanPlayCallback(this._canPlayCallback.bind(this)),this._headController.setStartedCallback(this._startedCallback.bind(this)),this._headController.setEndedCallback(this._endedCallback.bind(this)),this._headController.setClickCallback(this._clickCallback.bind(this)),this._headController.setQuartileCallback(this._quartileCallback.bind(this)),this._headController.setRequestCallback(this._requestCallback.bind(this)),this._headController.setLoadedAdListMetadataCallback(this._loadedAdListMetadataCallback.bind(this)),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onPhaseChangedBound=this._onPhaseChanged.bind(this),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_phase_change",this._onPhaseChangedBound))},h.prototype.exit=function(){var e,t,i;return this._headController=null===(e=this._headController)||void 0===e?void 0:e.exit(),null===(t=this.$element)||void 0===t||t.off("bb_playout_changed",this._onPlayoutChangedBound),null===(i=this.$element)||void 0===i||i.off("bb_phase_change",this._onPhaseChangedBound),null},h.prototype.setClipData=function(e){void 0!==(null==e?void 0:e.clipDuration)&&(this._clipDuration=e.clipDuration),void 0!==(null==e?void 0:e.clipId)&&(this._clipId=e.clipId),this._clipDisabled="true"===(null==e?void 0:e.disablecommercials)||!0===(null==e?void 0:e.disablecommercials)},h.prototype.reset=function(){this._scheduleId=0,this._scheduleCode="0",this._scheduleMacros=null,this._clipDuration=0,this._clipId=0,this._finishedPhases=[],this._adMacroHelper.reset()},h.prototype.get=function(e){var t;if("adCounter_clip"===e){var i=0;for(var n in this._perPositionAdCounter_clip)this._perPositionAdCounter_clip.hasOwnProperty(n)&&"leader"!==n&&(i+=this._perPositionAdCounter_clip[n]);return i}return null===(t=this._headController)||void 0===t?void 0:t.get(e)},h.prototype.load=function(e){var t,i=this;if(this._phase=e,"PRE"===this._phase&&(null===(t=this._auctionMapping)||void 0===t?void 0:t.preroll))for(var n in this._auctionMapping.preroll)this._runPrebidAuction(n,"preroll");return this._getScheduleUrl(e).then((function(e){var t;if(i._url=e,i._clip={assets:[{mediatype:"vast_as",src:i._url}]},null===(t=i._headController)||void 0===t||t.load(i._clip),"PRE"===i._phase){var n,a={adType:i._adType,adPosition:i._adPosition,adRequestUrl:i._url,adScheduleCode:i._scheduleCode};null===(n=i.$element)||void 0===n||n.triggerHandler("bb_as_initialized",[a])}})),!0},h.prototype.play=function(e,t,i){var n;return!this._disabl)||void 0===n||n.play(i),!0)},h.prototype.pause=function(){var e;null===(e=this._headController)||void 0===e||e.pause()},h.prototype.resume=function(e){var t;null===(t=this._headController)||void 0===t||t.play(e)},h.prototype._getScheduleUrl=(i=n.default($parcel$interopDefault(a).mark((function e(t){var i,n,o,s,l,r,d,u,c,h,p,_,m,f,v,g;return $parcel$interopDefault(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},!(null===(i=this._scheduleMacros)||void 0===i||null===(n=i[t.toLowerCase()])||void 0===n?void 0:n.length)){e.next=32;break}d=this._scheduleMacros[t.toLowerCase()],u=!0,c=!1,h=void 0,e.prev=5,p=d[Symbol.iterator]();case 7:if(u=(_=p.next()).done){e.next=18;break}if("string"==typeof(m=_.value)){e.next=11;break}return e.abrupt("continue",15);case 11:return e.next=13,this._adMacroHelper.resolveMacro(m);case 13:(null==(f=e.sent)?void 0:f.doNotReplace)||(r[encodeURIComponent(m)]=f);case 15:u=!0,e.next=7;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(5),c=!0,h=e.t0;case 24:e.prev=24,e.prev=25,u||null==p.return||p.return();case 27:if(e.prev=27,!c){e.next=30;break}throw h;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return v={scheduleCode:this._scheduleCode,clipLength:this._clipDuration,phase:t},("PRE"===t&&(null===(o=this._auctionMapping)||void 0===o?void 0:o.preroll)||"MAIN"===t&&((null===(s=this._auctionMapping)||void 0===s?void 0:s.midroll)||(null===(l=this._auctionMapping)||void 0===l?void 0:l.postroll)))&&(v.csfx=thi(r)),"MAIN"===t.toUpperCase()&&(v.clipId=this._clipId),this._isCustomHostname&&(v.publicationLabel=this._publicationLabel),g=Object.keys(v).map((function(e){return"".concat(e,"="&"),e.abrupt("return","".concat(this._baseUrl,"/ad-scheduling/document/vmap/1.0?").concat(g));case 39:case"end":return e.stop()}}),e,this,[[5,20,24,32],[25,,27,31]])}))),function(e){return i.apply(this,arguments)}),h.prototype._loadStartCallback=function(e,t){if(e){if("PRE"===this._phase){var i,n={adType:this._adType,adPosition:this._adPosition,adRequestUrl:this._adRequestUrl,adProperties:t};null===(i=this.$element)||void 0===i||i.triggerHandler("bb_as_loadstart",[n])}}else this._signalPhaseAsFinished(this._phase)},h.prototype._loadedDataCallback=function(e,t){var i,n;this._adScheduleItemCode="".concat(this._scheduleCode,"#").concat(null==t||null===(i=t.adPodInfo)||void 0===i?void 0:i.podIndex);var a,o={adType:this._adType,adPosition:this._adPosition,adRequestUrl:this._adRequestUrl,adScheduleItemCode:this._adScheduleItemCode,adProperties:t};e?null===(n=this.$element)||void 0===n||n.triggerHandler("bb_as_item_loaded",[o]):(null===(a=this.$element)||void 0===a||a.triggerHandler("bb_as_item_blocked",[o]),this._signalPhaseAsFinished(this._phase))},h.prototype._canPlayCallback=function(e,t){var i,n,a,o=null==t||null===(i=t.adPodInfo)||void 0===i?void 0:i.podIndex;this._adScheduleItemCode="".concat(this._scheduleCode,"#").concat(null==t||null===(n=t.adPodInfo)||void 0===n?void 0:n.podIndex);var s,l="PRE"===this._phase?"preroll":-1===o?"postroll":"midroll",r={adType:this._adType,adPosition:this._adPosition,adRequestUrl:this._adRequestUrl,adScheduleItemCode:this._adScheduleItemCode,adBreakPosition:l,adBreakItemCount:this._adBreakItemCount[l],adProperties:t};e?null===(a=this.$element)||void 0===a||a.triggerHandler("bb_as_item_canplay",[r]):(null===(s=this.$element)||void 0===s||s.triggerHandler("bb_as_item_noad",[r]),this._signalPhaseAsFinished(this._phase))},h.prototype._startedCallback=function(e,t){var i,n,a={adType:this._adType,adPosition:this._adPosition,adRequestUrl:this._adRequestUrl,adScheduleItemCode:this._adScheduleItemCode,adProperties:t};e?"PRE"===this._phase&&(null===(i=this.$element)||void 0===i||i.triggerHandler("bb_as_started",[a])):(null===(n=this.$element)||void 0===n||n.triggerHandler("bb_as_item_failed",[a]),this._signalPhaseAsFinished(this._phase))},h.prototype._endedCallback=function(e,t){var i,n,a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s={adType:this._adType,adPosition:this._adPosition,adRequestUrl:this._adRequestUrl,adScheduleItemCode:this._adScheduleItemCode,adProperties:t};e?("PRE"!==this._phase&&(null===(n=this.$element)||void 0===n||n.triggerHandler("bb_as_ended",[s])),this._signalPhaseAsFinished(this._phase)):(this._perPositionAdCounter_clip[this._adPosition]?this._perPositionAdCounter_clip[this._adPosition]++:this._perPositionAdCounter_clip[this._adPosition]=1,null===(a=this.$element)||void 0===a||a.triggerHandler("bb_as_item_skipped",[s]),"PRE"===this._phase?this._signalPhaseAsFinished("PRE"):o&&this._signalPhaseAsFinished("MAIN"));null===(i=this._playoutController)||void 0===i||i.resetTemporaryPlayoutData()},h.prototype._clickCallback=function(e,t){var i,n={adType:this._adType,adPosition:this._adPosition,adRequestUrl:this._adRequestUrl,adScheduleItemCode:this._adScheduleItemCode,adProperties:t};e&&(null===(i=this.$element)||void 0===i||i.triggerHandler("bb_as_ad_clicked",[n]))},h.prototype._quartileCallback=function(e,t){4==e&&(this._perPositionAdCounter_clip[this._adPosition]?this._perPositionAdCounter_clip[this._adPosition]++:this._perPositionAdCounter_clip[this._adPosition]=1);var i,n={adType:this._adType,adPosition:this._adPosition,adRequestUrl:this._adRequestUrl,adScheduleItemCode:this._adScheduleItemCode,adProperties:t};e>=0&&e<=4&&(n.quartile=e,null===(i=this.$element)||void 0===i||i.triggerHandler("bb_as_ad_quartile",[n]))},h.prototype._requestCallback=function(e){var t,i={adType:this._adType,adPosition:this._adPosition,adRequestUrl:this._adRequestUrl,adScheduleItemCode:this._adScheduleItemCode};switch(i.action=e,null===(t=this.$element)||void 0===t||t.triggerHandler("bb_as_request",[i]),e){case"content_pause":var n;null===(n=this._playoutController)||void 0===n||n.setTemporaryPlayoutData({commercialPauseButton:"true",commercialMuteButton:"true",commercialProgressBar:"true",commercialProgressBarColor:"ffcc00",disableControls:"false"});break;case"content_resume":var a;null===(a=this._playoutController)||void 0===a||a.resetTemporaryPlayoutData()}},h.prototype._loadedAdListMetadataCallback=function(e,t){var i;if(e&&"MAIN"===this._phase&&(null==t||null===(i=t.cuePoints)||void 0===i?void 0:i.length))for(var n=this,a=function(e){var t,i,a=n,l=o[e]===s,r=l?n._clipDuration:o[e],d=l?1:e+1,u=l?null===(t=n._auctionMapping)||void 0===t?void 0:t.postroll:null===(i=n._auctionMapping)||void 0===i?void 0:i.midroll,c=l&&o.length>1?Math.min(n._clipDuration-15,o[e-1]):r-15;u&&n._callbackScheduler.scheduleCallback(c,(function(e){var t=r-e>=3;for(var i in u)t?a._runPrebidAuction(i,l?"postroll":"midroll",d,r-e):a._submitResultToCache(i,u[i].sequence,d)}))},o=t.cuePoints,s=this._headController.get("postrollCuePoint"),l=0;l<o.length;l++)a(l)},h.prototype._signalPhaseAsFinished=function(e){var t;["PRE","MAIN"].includes(e)&&!this._finishedPhases.includes(e)&&(this._finishedPhases.push(e),null===(t=this.$element)||void 0===t||t.triggerHandler("bb_as_".concat(e.toLowerCase(),"_finished")))},h.prototype._runPrebidAuction=function(e,t){var i,n,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=t.toUpperCase(),r=null===(i=this._auctionMapping[t])||void 0===i||null===(n=i[e])||void 0===n?void 0:n.auctionId;if(!r)return!1;var d=null===(a=this._auctions[r])||void 0===a?void 0:a.auctionConfiguration;if(!d)return!1;var c={prebidConfig:d,adServerUrl:this._auctions[r].adServerUrl,position:l,startDelay:s,context:{type:"AdSchedule",code:this._scheduleCode}},h=new u.default(this.$element,this._opts,c);h.addAdUnits();var p=this._auctionMapping[t][e].sequence;h.getBids(this._handleAuctionResult.bind(this,e,p,o))},h.prototype._handleAuctionResult=function(e,t,i,n){var a=(null==n?void 0:n.length)&&n[0],o=null==a?void 0:a.vastXml;this._submitResultToCache(e,t,i,o)},h.prototype._submitResultToCache=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'<VAST version="2.0"></VAST>',a="".concat(e,"_seq").concat(t,"_adb").concat(i,"_").concat(this._prebidCacheSuffix);this._prebidCache.submitItem(a,n)},h.prototype._onPlayoutChanged=function(e,t){var i;this._disabled="false"===(null==t||null===(i=t.playoutData)||void 0===i?void 0:i.commercials)},h.prototype._onPhaseChanged=function(e,t){"INIT"!==(null==t?void 0:t.phase)&&"EXIT"!==(null==t?void 0:t.phase)||(this._finishedPhases=[])}})),parcelRequire.register("DBT2q",(function(e,t){$parcel$export(e.exports,"default",(function(){return a})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=function(){"use strict";function e(t,n){var a;i.default(this,e),this.$element=t,this.$wrapper=this.$element.closest(".bb_wrapper"),this._onClipDataLoadedBound=this._onClipDataLoaded.bind(this),this._onMediaSeekingBound=this._onMediaSeeking.bind(this),this._onMediaSeekedBound=this._onMediaSeeked.bind(this),this._onMediaTimeUpdateBound=this._onMediaTimeUpdate.bind(this),this,null===(a=this.$wrapper)||void 0===a||a.on("bb_mediaclip_loaded",this._onClipDataLoadedBound),this._bindMediaTimeEvents()}return n.default(e,[{key:"_onClipDataLoaded",value:function(){this._scheduledCallbacks={}}},{key:"_bindMediaTimeEvents",value:function(){var e,t,i;null===(e=this.$wrapper)||void 0===e||e.on("bb_media_seeking",this._onMediaSeekingBound),null==",this._onMediaSeekingBound),null===(t=this.$wrapper)||void 0===t||t.off("bb_media_seeked",this._onMediaSeekedBound),null===(i=this.$wrapper)||void 0===i||i.off("bb_media_timeupdate",this._onMediaTimeUpdateBound)}},{key:"_onMediaSeeking",value:function(){this._seeking=!0}},{key:"_onMediaSeeked",value:function(){this._seeking=!1}},{key:"_onMediaTimeUpdate",value:function(e,t){if(!this._seeking&&(null==t?void 0:t.currentTime)){var i=parseFloat(t.currentTime);for(var n in this._scheduledCallbacks){var a=this._scheduledCallbacks[n];i>=a.time&&(a.callback(i),delete this._scheduledCallbacks[n])}}}},{key:"scheduleCallback"m().toString().subslbacks[e]&&(delete this._scheduledCallbacks[e],!0)}},{key:"exit",value:function(){var e;null===(e=this.$wrapper)||void 0===e||e.off("bb_mediaclip_loaded",this._onClipDataLoadedBound),this._unbindMediaTimeEvents()}}]),e}()})),parcelRequire.register("6Eaf3",(function(e,t){$parcel$export(e.exports,"default",(function(){return r})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=parcelRequire("kwlj2"),o=parcelRequire("bSO3J"),s=parcelRequire("4AQp6"),l=parcelRequire("1MxPP"),r=function(){"use strict";function e(t,n){var a,o;i.default(this,e);var s=-1===(null==n||null===(a=n.playoutData)||void 0===a||null===(o=a.publication)||void 0===o?void 0:o.indexOf("."))?"prod":n.playoutData.publication.split(".")[1];this._cacheUrl=["dev","acc","test"].includes(s)?"https://".concat(s,".bb-pbc.mainroll.com/cache"):"https://bb-pbc.mainroll.com/cache"}return n.default(e,[{key:"submitItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xml",r=this;return a.default($parcel$interopDefault(o).mark((function a(){var d,u,c,h;return $parcel$interopDefault(o).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("string"==typeof e&&"string"==typeof t){a.next=2;break}return a.abrupt("return",!1);case 2:return d={puts:[{type:n,ttlseconds:i,key:e,value:t}]},a.prev=3,a.next=7,s.fetchData(r._cacheUrl,{method:"POST",data:d,cache:"no-store"});case 7:return h=a.sent,a.abrupt("return",(null==h||null===(u=h.responses)||void 0===u||null===(c=u[0])||void 0===c?void 0:c.uuid)===e);case 11:return a.prev=11,a.t0=a.catch(3),l.default("[PrebidCache] failed to submit ".concat(e," to cache: ").concat(a.t0)),a.abrupt("return",!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))()}}]),e}()})),parcelRequire.register("5paxE",(function(e,t){e.exports=Promise.all([parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("dnjLp")),parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("1nMpP"))]).then((function(){return parcelRequire("9lENP")}))})),parcelRequire.register("gw5Tk",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("dhZ6J");var i=parcelRequire("87rX1"),n=parcelRequire("b3HW6"),a=parcelRequire("cWdJP"),o=function(){"use strict";function e(t,n){i.default(this,e),this._eventNS="SharedDataService"+String(Math.random()).replace(".",""),this._clipData=null,this.widgetStats={},this.boundEvents=[],this.$element=t,this._opts=n,this._onWidgetStatsLoadedBound=this.onWidgetStatsLoaded.bind(this),this._onMediaclipLoadedBound=this.onMediaclipLoaded.bind(this),this.init()}return n.default(e,[{key:"init",value:function(){var e,t;this.$wrapper=null===(e=this.$element)||void 0===e?void 0:e.closest(".bb_wrapper"),(null===(t=this.$wrapper)||void 0===t?void 0:t.length)&&(a.default.getService(this._opts.playerAliasOrId).setInstance("SharedDataService",this),this.addListener("bb_widgetstats_loaded",this._onWidgetStatsLoadedBound),this.addListener("bb_widgetstats_load_failed",this._onWidgetStatsLoadedBound),this.addListener("bb_mediaclip_loaded",this._onMediaclipLoadedBound),this.addListener("bb_mediaclip_failed",this._onMediaclipLoadedBound))}},{key:"onMediaclipLoaded",value:function(e,t){this._clipData=(null==t?void 0:t.clipData)||{}}},{key:"onWidgetStatsLoaded",value:function(e,t){var i,n=(null==t?void 0:t.clipId)||(null===(i=this._clipData)||void 0===i?void 0:i.id);this.widgetStats[n]=(null==t?voithis._clipData)||void 0===t?void 0:t.id;return null===(i=this.widgetStats[e,t){this.$wrapper.on(e,t),this.boundEvents.push({eventName:e,callback:t})}},{key:"exit",value:function(){var e=this;return this.boundEvents.forEach((function(t){var i=t.eventName,n=t.callback;e.$wrapper.off(i,n)})),this.boundEvents=[],this.widgetStats={},this._clipData=null,a.default.getService(this._opts.playerAliasOrId).setInstance("SharedDataService",null),null}}]),e}()})),parcelRequire.register("82Auv",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=parcelRequire("4AQp6"),o=function(e,t){this._opts=t,n.default.getService(this._opts.playerAliasOrId).setInstance("CSSFontInjector",this),void 0!==e&&null!=e&&(this.$element=e)};o.prototype.exit=function(){return n.default.getService(this._opts.playerAliasOrId).setInstance("CSSFontInjector",null),null},o.prototype.addFontMediaClip=function(e){null!=this._opts&&(this._url=this._opts.publicationData.server+"/json/mediaclip/"+e,this._loadClip(this._dataCallback.bind(this)))},o.prototype._loadClip=function(e){var t=this;a.fetchData(this._url).then((function(i){t._loadedData=i,"function"==typeof e&&e(!0)})).catch((function(t){"function"==typeof e&&e(!1)}))},o.prototype._dataCallback=function(e){var t,n;if(e&&(null===(t=this._loadedData)||void 0oid 0:n.dData.originalfilename.replace(/\.[^.]*$/,""),s={ttf:"truetype"},l=this._loadedData.assets.filter((function(e){return e.mediatype&&e.src})).sort((function(e,t){return"eot"===e.mediatype?-1:"eot"===t.mediatype?1:0})).map((function(e){return e.src.match(/^\w+:\/\//)||(e.src=a._opts.publicationData.defaultMed&(e.src="https:"+e.src),e.src.match(/\.eot$/i)&&(e.src+="?"),"url('".concat(e.src,"') format('").concat(s[e.mediatype]||e.mediatype,"')")}));l.splice(Math.max(0,l.findIndex((function(e){return e.indexOf("eot")>-1}))+1),0,"local('☺')"),$parcel$interopDefault(i)("<style>").prop("type","text/css").html("\n\t\t\t\t\t@font-face {\n\t\t\t\t\t\tfont-family: '".concat(o,"';\n\t\t\t\t\t\tsrc: ").concat(l.join(", "),";\n\t\t\t\t\t}")).appendTo("head")}}})),parcelRequire.register("kDHLS",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=function(e,t){this.$element=null,this._opts=void 0!==t?t:null,this._mediaClip=null,this._alternativeTextDiv=null,this._onClipDataLoadedBound=this._onClipDataLoaded.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),void 0!==e&&null!=e&&(this.$element=e,this.$element.on("bb_mediaclip_loaded",this._onClipDataLoadedBound),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound))};n.prototype.exit=function(){return null!=this.$element&&(this.$element.empty(),this.$element.off("bb_mediaclip_loaded",this._onClipDataLoadedBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound)),this.$element=null,this._opts=null,this._mediaClip=null,this._alternativeTextDiv=null,null},n.prototype._onPlayoutChanged=function(e,t){},n.prototype._onClipDataLoaded=function(e,t){this._alternativeTextDiv&&this._alternativeTextDiv.remove(),void 0!==t&&void 0!==t.clipData&&(this._mediaClip=t.clipData),this._opts&&this._opts.playoutData&&this._mediaClip&&void 0!==this._opts.playoutData.textAlternative&&this._mediaClip[this._opts.playoutData.textAlternative]&&(this._alternativeTextDiv=$parcel$interopDefault(i)('<div clas="bb-fitme" id="text-alternative-'+this._mediaClip.id+'" style="visibility: hidden; position: absolute; pointer-events: none !important;">'+this._mediaClip[this._opts.playoutData.textAlternative]+"</div>"),this.$element.find(".bb-content-layer").append(this._alternativeTextDiv),this.$element.find(".bb-content-layer").attr({"aria-labelledby":"text-alternative-"+this._mediaClip.id,tabindex:"0"}))}})),parcelRequire.register("i5lEg",(function(e,t){$parcel$export(e.exports,"default",(function(){return s})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=parcelRequire("1et3j"),o=parcelRequire("4AQp6"),s=function(e,t){if(this.$element=null,this._opts=void 0!==t?t:null,this._enabled=!1,this._mediaClip=null,this._subtitles=null,this._currentSubtitle=null,this._currentData=null,this._loadedData=null,this._previousSubtitleText="",this._mayShowSubtitles=!0,this._localStorage=null,this._defaultSubtitle=this._playoutDefaultSubtitle="first",this._defaultSubtitleOnlyIfMuted=!1,this._muted=!1,this.__lastCurrentTime=null,this._opts&&this._opts.playoutData&&(void 0!==this._opts.playoutData.defaultSubtitle&&(this._defaultSubtitle=this._playoutDefaultSubtitle=this._opts.playoutData.defaultSubtitle),void 0!==this._opts.playoutData.defaultSubtitleOnlyIfMuted&&(this._defaultSubtitleOnlyIfMuted="true"===this._opts.playoutData.defaultSubtitleOnlyIfMuted||!0===this._opts.playoutData.defaultSubtitleOnlyIfMuted),void 0!==this._opts.playoutData.autoMute&&(this._muted="true"===this._opts.playoutData.autoMute||!0===this._opts.playoutData.autoMute)),this._onClipDataLoadedBound=this._onClipDataLoaded.bind(this),this._onTimeUpdateBound=this._onTimeUpdate.bind(this),this._onSubtitleSetBound=this._onSubtitleSet.bind(this),this._onPhaseChangeBound=this._onPhaseChange.bind(this),this._onPlayoutChangedBound=this._onPlayoutChanged.bind(this),this._onMasterVolumeChangedBound=this._onMasterVolumeChanged.bind(this),this._onAssetsChangedBound=this._onAssetsChanged.bind(this),this._onAssetSelectedBound=this._onAssetSelected.bind(this),this._onHeadSelectedBound=this._onHeadSelected.bind(this),this._onPreviewSubtitleDataChangedBound=this._onPreviewSubtitleDataChanged.bind(this),void 0!==e&&null!=e){this.$element=e,this._sc=n.default.getService(this._opts.playerAliasOrId).getInstance("SoundController"),void 0!==this._sc&&null!=this._sc&&(this._muted=this._sc.getMuted()),this._enable(),this.$element.on("bb_mediaclip_loaded",this._onClipDataLoadedBound),this.$element.on("bb_phase_change",this._onPhaseChangeBound),this.$element.on("bb_playout_changed",this._onPlayoutChangedBound),this.$element.on("bb_master_volume_change",this._onMasterVolumeChangedBound),this.$element.on("bb_assets_changed",this._onAssetsChangedBound),this.$element.on("bb_asset_selected",this._onAssetSelectedBound),this.$element.on("bb_head_selected",this._onHeadSelectedBound),this.$element.on("bb_preview_subtitle_changed",this._onPreviewSubtitleDataChangedBound);var o=$parcel$interopDefault(i)('<div class="bb-subtitledisplay" style="position: absolute; pointer-events: none !important;"></div>');this.$element.find(".bb-subtitle-layer").append(o),this._arena=new a.default(o,this._opts),void 0!==n.default.getService(this._opts.playerAliasOrId).getInstance("LocalStorage")&&(this._localStorage=n.default.getService(this._opts.playerAliasOrId).getInstance("LocalStorage"))}this._defaultSubtitle=this._defaultSubtitleOnlyIfMuted&&!this._muted?"None":this._playoutDefaultSubtitle,this._setup()};s.prototype.exit=function(){return null!=this.$element&&(this.$element.empty(),this._arena=this._arena.exit(),this._disable(),this.$element.off("bb_mediaclip_loaded",this._onClipDataLoadedBound),this.$element.off("bb_phase_change",this._onPhaseChangeBound),this.$element.off("bb_playout_changed",this._onPlayoutChangedBound),this.$element.off("bb_master_volume_change",this._onMasterVolumeChangedBound),this.$element.off("bb_assets_changed",this._onAssetsChangedBound),this.$element.off("bb_asset_selected",this._onAssetSelectedBound),this.$element.off("bb_head_selected",this._onHeadSelectedBound),this.$element.off("bb_preview_subtitle_changed",this._onPreviewSubtitleDataChangedBound)),this.$element=null,this._opts=null,this._mediaClip=null,this._subtitles=null,this._currentSubtitle=null,this._loadedData=null,null},s.prototype._disable=function(){this.$element&&this._enabled&&(this._enabled=!1,this.$element.off("bb_media_timeupdate",this._onTimeUpdateBound),this.$element.off("bb_media_seeking",this._onTimeUpdateBound),this.$element.off("bb_subtitle_set",this._onSubtitleSetBound));var e;""!==this._previousSubtitleText&&(this._previousSubtitleText="",null===(e=this.$element)||void 0===e||e.trigger("bb_subtitle_line_changed",[{subtitleLine:""}]))},s.prototype._enable=function(){this.$element&&!this._enabled&&(this._enabled=!0,this.$element.on("bb_media_timeupdate",this._onTimeUpdateBound),this.$element.on("bb_media_seeking",this._onTimeUpdateBound),this.$element.on("bb_subtitle_set",this._onSubtitleSetBound))},s.prototype._onPhaseChange=function(e,t){switch(t.phase){case"INIT":case"PRE":case"POST":case"EXIT":this._mayShowSubtitles=!1;break;case"MAIN":this._mayShowSubtitles=!0}},s.prototype._onPlayoutChanged=function(e,t){if(t&&t.playoutData){var i=!1;if(void 0!==t.playoutData.defaultSubtitle){var n=this._playoutDefaultSubtitle;this._playoutDefaultSubtitle=t.playoutData.defaultSubtitle,this._playoutDefaultSubtitle!==n&&(i=!0)}if(void 0!==t.playoutData.defaultSubtitleOnlyIfMuted){var a=this._defaultSubtitleOnlyIfMuted;this._defaultSubtitleOnlyIfMuted="true"===t.playoutData.defaultSubtitleOnlyIfMuted||!0===t.playoutData.defaultSubtitleOnlyIfMuted,this._defaultSubtitleOnlyIfMuted!==a&&(i=!0)}i&&(this._defaultSubtitle=this._defaultSubtitleOnlyIfMuted&&!this._muted?"None":this._playoutDefaultSubtitle,this._setup())}},s.prototype._onMasterVolumeChanged=function(e,t){if(t){var i=!1;if(void 0!==t.muted){var n=this._muted;this._muted=!!t.muted,this._muted!==n&&(i=!0)}i&&(this._defaultSubtitle=this._defaultSubtitleOnlyIfMuted&&!this._muted?"None":this._playoutDefaultSubtitle,this._setup())}},s.prototype._setSubtitle=function(e,t){if(null!=e&&this._subtitleIsValid(e)&&(this._currentSubtitle=e,this.$element.trigger("bb_subtitle_changed",[{subtitle:this._currentSubtitle}]),1==t&&null!=this._localStorage&&this._localStorage.set("subtitle",e),this._currentSubtitle&&"-1"!==this._currentSubtitle.id)){if(void 0!==this._currentSubtitle.parsedData&&null!=this._currentSubtitle.parsedData)return!0;this._loadSubtitleData(this._dataCallback.bind(this))}return!1},s.prototype._onPreviewSubtitleDataChanged=function(e,t){(null==t?void 0:t.subtitles)?this._setSubtitleList(t.subtitles):this._setSubtitleList(this._mediaClip.subtitles)},s.prototype._onSubtitleSet=function(e,t){if(this._clearSubtitles(),"textTracks"!==(null==t?void 0:t.hint)){if(this._subtitles&&void 0!==t&&void 0!==t.subtitleId)for(var i=0;i<this._subtitles.length;i++){var n=this._subtitles[i];if(null!=n&&this._subtitleIsValid(n)&&n.id==t.subtitleId)return void this._setSubtitle(n,!0)}this._setSubtitle({id:"-1",isocode:"dis",languageid:"-1",languagename:"Disabled",status:"published",default:"false",name:""},!0)}},s.prototype._clearSubtitles=function(){this._currentSubtitle=null,this.$element.trigger("bb_subtitle_line_changed",[{subtitleLine:""}])},s.prototype._onClipDataLoaded=function(e,t){this._clearSubtitles(),this._subtitles=null,&&(this._mediaClip=t.clipData,null!=this._mediaClip&&void 0!==this._mediaClip.subtitles&&(this._setSubtitleList(this._mediaClip.subtitles),this._setup()))},s.prototype._setSubtitleList=function(e){this._subtitles=e},s.prototype._setup=function(){if(null!=this._subtitles&&this._subtitles.length>0){if(null!=this._localStorage){var e=this._localStorage.get("subtitle");if(null!=e){if(void 0!==e.id&&"-1"==e.id&&this._subtitles.length>0)return void this._setSubtitle(e,!1);for(var t=0;t<this._subtitles.length;t++){if((i=this._subtitles[t])&&(i.parsedData=null),null!=i&&this._subtitleIsValid(i)&&i.isocode==e.isocode)return void this._setSubtitle(i,!1)}}}if(this._defaultSubtitle){if("None"===this._defaultSubtitle)this._setSubtitle({id:"-1",isocode:"dis",languageid:"-1",languagename:"Disabled",status:"published",default:"false",name:""},!1);else if("Default Language"===this._defaultSubtitle)for(t=0;t<this._subtitles.length;t++){var i;if(null!=(i=this._subtitles[t])&&this._subtitleIsValid(i)&&"true"==i.default)return void this._setSubtitle(i,!1)}else this._setSubtitle(this._mediaClip.subtitles_obj?this._mediaClip.subtitles_obj["#0"]:this._subtitles[0],!1);return}this._setSubtitle(this._mediaClip.subtitles_obj?this._mediaClip.subtitles_obj["#0"]:this._subtitles[0],!1)}},s.prototype._onTimeUpdate=function(e,t){if(this._lastCurrentTime=null==t?void 0:t.currentTime,1==this._enabled&&1==this._mayShowSubtitles){var i="",n=null;if(void 0!==t&&void 0!==t.currentTime&&null!=t.currentTime&&this._currentSubtitle&&this._currentSubtitle.parsedData){for(var a=0;a<this._currentSubtitle.parsedData.length;a++){var o=this._currentSubtitle.parsedData[a];if(Number(t.currentTime)>o.inPoint&&Number(t.currentTime)<o.outPoint){n=o;break}}null!=n&&(i=o.subtitleLine)}(i!==this._previousSubtitleText||(null==t?void 0:t.forceUpdate))&&(this._previousSubtitleText=i,this.$element.trigger("bb_subtitle_line_changed",[{subtitleLine:i}]))}},s.prototype._onAssetsChanged=function(e,t){this._textTracks=null==t?void 0:t.textTracks,this._assetNeedsHSSupport&&"html5"===this._headType||void 0!==this._textTracks?this._disable():this._enable()},s.prototype._onAssetSelected=function(e,t){this._assetNeedsHSSupport=o.assetNeedsHLSSupport(null==t?void 0:t.asset)||o.assetNeedsMPDSupport(null==t?void 0:t.asset),this._assetNeedsHSSupport&&"html5"===this._headType||void 0!==this._textTracks?this._disable():this._enable()},s.prototype._onHeadSelected=function(e,t){this._headType=null==t?void 0:t.headType,this._assetNeedsHSSupport&&"html5"===this._headType||void 0!==this._textTracks?this._disable():this._enable()},s.prototype._loadSubtitleData=function(e){if(this._currentSubtitle&&this._currentSubtitle.srtData)return this._loadedData=this._currentSubtitle.srtData,"function"==typeof e&&e(!0),void this._onTimeUpdate(null,{currentTime:this._lastCurrentTime||0,forceUpdate:!0});if(null==this._loadedData){var t=this,i=null;if(this._currentSubtitle&&this._currentSubtitle.src){if(!(i=this._currentSubtitle.src).match(/^\w+:\/\//)&&!i.match(/^\/\//))i=(this._opts&&this._opts.publicationData?this._opts.publicationData.defaultMediaAssetPath:"")+i}else this._opts&&this._opts.publicationData&&this._currentSubtitle&&(i=this._opts.publicationData.server+"/subtitle/"+this._currentSubtitle.id+".srt");i?o.fetchData(i,{dataType:"text"}).then((function(i){i?(t._loadedData=i,"function"==typeof e&&e(!0)):"function"==typeof e&&e(!1)})).catch((function(t){"function"==typeof e&&e(!1)})):"function"==typeof e&&e(!1)}else"function"==typeof e&&e(!0)},s.prototype._dataCallback=function(e){if(e){var t=new Array,i=this._loadedData.replace(/(\r\n|\r|\n)/g,"\n").split("\n\n");if(null!=i&&i.length>0){i.sort((function(e,t){var i=e.split("\n"),n=t.split("\n");return Number(i[0])-Number(n[0])}));for(var n=0;n<i.length;n++)if(""!=i[n]){var a=new Object,o=i[n].split("\n"),s=o[1].split(" --\x3e ");a.inPoint=this._timeCodeToSeconds(s[0]),a.outPoint=this._timeCodeToSeconds(s[1]);for(var l="",r=2;r<o.length;r++)l+=o[r],r<o.length-1&&(l+="<br />");a.subtitleLine=l,t.push(a)}this._currentSubtitle&&"-1"!==this._currentSubtitle.id&&(this._currentSubtitle.parsedData=t)}}this._loadedData=null},s.prototype._timeCodeToSeconds=function(e){var t,i,n;return e?(i=(t=e.split(","))[0].split(":"),n=t[1]?Number("0."+t[1]):0,Math.floor(3600*i[0])+Math.floor(60*i[1])+Math.floor(i[2])+n):0},s.prototype._subtitleIsValid=function(e){return null!=e&&null!=e.id&&""!=e.id&&null!=e.isocode&&""!=e.isocode&&null!=e.languageid&&""!=e.languageid&&null!=e.status&&"published"==e.status&&null!=e.default&&""!=e.default}})),parcelRequire.register("1et3j",(function(e,t){$parcel$export(e.exports,"default",(function(){return a})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=function(e,t){var i;this.$element=null,this.$wrapper=null,this._opts=void 0!==t?t:null,this._size=25,this.$display=null,this._skinGeneration=null===(i=n.default.getService(this._opts.playerAliasOrId).getInstance("SkinController"))||void 0===i?void 0:i.getGeneration(),this._onSubtitleLineChangedBound=this._onSubtitleLineChanged.bind(this),this._onResizedBound=this._onResized.bind(this),this._onSkinCreatedBound=this._onSkinCreated.bind(this),void 0!==e&&null!=e&&(this.$element=e,n.default.getService(this._opts.playerAliasOrId).setInstance("SubtitleDisplay",this),this.$wrapper=this.$element.closest(".bb_wrapper"),(!this.$wrapper||this.$wrapper.length<=0)&&(this.$wrapper=null)),this.init()};a.prototype.init=function(){null!=this.$wrapper&&(this.$wrapper.on("bb_subtitle_line_changed",this._onSubtitleLineChangedBound),this.$wrapper.on("bb_resized",this._onResizedBound),this.$wrapper.on("bb_skin_created",this._onSkinCreatedBound)),this._onResized(null),this._updateCss()},a.prototype._onSkinCreated=function(e,t){t&&void 0!==t.skinGeneration&&(this._skinGeneration=t.skinGeneration),this._updateCss()},a.prototype._updateCss=function(){var e,t,i;this._skinGeneration>=8?(null===(t=this.$element)||void 0===t||t.css({position:"absolute",display:"flex","flex-direction":"column",left:"10%",width:"80%",bottom:"5px","text-align":"center","font-family":"Roboto, Arial, Helvetica, sans-serif","font-weight":"500",color:"#FFF","text-shadow":"none",transition:"transform 0.25s ease-in-out",background:"none","line-height":"initial"}),null===(i=this.$wrapper)||void 0===i||i.append("<style>\n\t\t.bb_wrapper#".concat(this.$wrapper.attr("id")," video::cue {\n\t\t\tbackground-color: rgba(33, 33, 33, 0.8);\n\t\t}\n\t\t</style>"))):null===(e=this.$element)||void 0===e||e.css({position:"absolute",left:"10%",bottom:"5px",width:"80%","text-align":"center","font-family":"Helvetica, sans-serif","font-weight":"bold",color:"#FFF","text-shadow":"-1.5px -1.5px 0 #000, 0 -1.5px 0 #000, 1.5px -1.5px 0 #000, 1.5px 0 0 #000, 1.5px 1.5px 0 #000, 0 1.5px 0 #000, -1.5px 1.5px 0 #000, -1.5px 0 0 #000",transition:"bottom 0.25s",background:"none","line-height":"initial"})},a.prototype.exit=function(){return null!=this.$wrapper&&(this.$wrapper.off("bb_subtitle_line_changed",this._onSubtitleLineChangedBound),this.$wrapper.off("bb_resized",this._onResizedBound),this.$wrapper.off("bb_skin_created",this._onSkinCreatedBound)),n.default.getService(this._opts.playerAliasOrId).setInstance("SubtitleDisplay",null),null},a.prototype._onSubtitleLineChanged=function(e,t){if(void 0!==t&&void 0!==t.subtitleLine)if(this._skinGeneration>=8){var n=this,a=t.subtitleLine.split("<br />"),o="";this.$element.empty(),a.forEach((function(e){var t,a;if(e){var s=e,l=null===(t=(s=s.replace(/<font[^<>]*>[^<>]*<\/font>/gi,"")).match(/<font[^<>]*>/i))||void 0===t?void 0:t[0],r=null===(a=s.match(/<\/font>/i))||void 0===a?void 0:a[0];l?(o=l,e+="</font>"):r?(e=o+e,o=""):o&&(e=o+e+"</font>");var d=$parcel$interopDefault(i)(document.createElement("span")).bb_htmlSanitized(e);null!=n.$element&&(d.css({color:"#fff",background:"rgba(33,33,33,0.8)",margin:"0px auto","margin-top":"0.5%",padding:"min(0.25em, 5px) min(0.5em, 10px)","border-radius":"5px",display:"inline-block"}),n.$element.append(d),""===e&&d.css({background:"none"}))}}))}else{var s=$parcel$interopDefault(i)(document.createElement("span")).bb_htmlSanitized(t.subtitleLine);null!=this.$element&&(this.$element.empty().append(s),s.css({color:"#fff",background:"rgba(60,67,75,0.5)",margin:"0px auto","margin-top":"5px",padding:"0px 5px",display:"inline-block"}),""===t.subtitleLine&&s.css({background:"none"}))}},a.prototype._onResized=function(e){var t=432;this.$wrapper&&(t=Math.min(this.$wrapper.width()/1.75,this.$wrapper.height()));var i=Math.round(t/this._size);!isNaN(i)&&i>0&&(this._skinGeneration>=8?this.$element&&this.$element.css({"font-size":Math.min(i,55)+"px"}):(this.$element&&this.$element.css({"font-size":i+"px"}),this.$element&&this.$element.html(this.$element.html()+"&nbsp;")))}})),parcelRequire.register("iUJnS",(function(e,t){e.exports=parcelRequire("kSBTF")(parcelRequire("ast2j").getBundleURL("2hF73")+parcelRequire("kvHoK").resolve("5DuKo")).then((function(){return parcelRequire("default",(function(){return n})),parcelRequire("2UpbQ");var i=parcelRequire("1MxPP"),n=function(){this._init()};n.prototype._init=function(){this._onMessageBound=this._onMessage.bind(this),this._findCmpAndGetData()},n.prototype._findCmpAndGetData=function(){var e=window;for(this._cmpData=null,this._cmpFrame=null,this._cmpVersion=null,this._cmpFunction=null,this._cmpRequestInProgress=!1,this._successCallbacks=[],this._errorCallbacks=[];!this._cmpFrame;){try{if("function"==typeof e.__tcfapi||"function"==typeof e.__cmp){"function"==typeof e.__tcfapi?(this._cmpVersion=2,this._cmpFunction=e.__tcfapi):(this._cmpVersion=1,this._cmpFunction=e.__cmp),this._cmpFrame=e;break}}catch(e){}try{if(e.frames.__tcfapiLocator){this._cmpVersion=2,this._cmpFrame=e;break}}catch(e){}try{if(e.frames.__cmpLocator){this._cmpVersion=1,this._cmpFrame=e;break}}catch(e){}if(e===window.top)break;e=e.parent}if(!this._cmpFrame||!this._cmpVersion)return!1;i.default("[IABConsentFrameworkSupport] _findCmp: found CMP version "+this._cmpVersion+", requesting CMP data"),"functiw.addEventListener("message",this._onMessageBound)),this._makeCmpDataRequests(),this.cmpFound=!(!this._cmpFunction&&!this._cmpFrame)},n.prototype.getApiName=function(){return 2===this._cmpVersion?"__tcfapi":"__cmp"},n.prototype._callSuccessCallbacks=function(e,t){for(;this._successCallbacks.length;){var i=this._successCallbacks.shift();"function"==typeof i&&i(e,t)}this._errorCallbacks=[]},n.prototype._callErrorCallbacks=function(){for(;this._errorCallbacks.length;){var e=this._errorCallbacks.shift();"function"==typeof e&&e()}this._successCallbacks=[]},n.prototype._v2CmpResponseHandler=function(e,t){e&&"cmpuishown"===e.eventStatus||(this._cmpRequestInProgress=!1,"function"==typeof this._cmpFunction&&this._cmpFunction("removeEventListener",this._cmpVersion,(function(){}),e.listenerId),!t||!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus?(i.default("[IABConsentFrameworkSupport] _v2CmpResponseHandler: did not get tcfData in correct state, firing error callback"),this._callErrorCallbacks()):(i.default("[IABConsentFrameworkSupport] _v2CmpResponseHandler: got tcfData in correct state, firing success callback"),this._cmpData=e,this._callSuccessCallbacks(this._cmpData,this._cmpVersion)))},n.prototype._v1CmpResponseHandler=function(e){this._cmpRequestInProgress=!1,e?(this._cmpData=e,this._callSuccessCallbacks(this._cmpData,this._cmpVersion)):this._callErrorCallbacks()},n.prototype._callCmpFromIframe=function(e,t){var i=(Math.random()+"").replace(".",""),n={};n["".concat(this.getApiName(),"Call")]={command:e,parameter:null,callId:i},this._cmpCallbacks[i]=t,this._cmpFrame.postMessage(n,"*")},n.prototype._onMessage=function(e){e=e.originalEvent||e;var t=this.getApiName()+"Return";try{var i=e.data&&"string"==typeof e.data?JSON.parse(e.data):e.data;if(i&&i[t]&&i[t].callId){var n=i[t];"function"==typeof this._cmpCallbacks[n.callId]&&(this._cmpCallbacks[n.callId](n.returnValue,n.success),this._cmpCallbacks[n.callId]=null)}}catch(e){}},n.prototype._makeCmpDataRequests=function(){this._cmpRequestInProgress=!0,this._cmpFrame&&this._cmpVersion?"function"==typeof this._cmpFunction?1===this._cmpVersion?this._cmpFunction("getConsentData",null,this._v1CmpResponseHandler.bind(this)):2===this._cmpVersion&&this._cmpFunction("addEventListener",this._cmpVersion,this._v2CmpResponseHandler.bind(this)):1===this._cmpVersion?this._callCmpFromIframe("getConsentData",this._v1CmpResponseHandler.bind(this)):2===this._cmpVersion&&this._callCmpFromIframe("addEventListener",this._v2CmpResponseHandler.bind(this)):(this._cmpRequestInProgress=!1,this._callErrorCallbacks())},n.prototype.callCmp=function(e,t){"function"==typeof this._cmpFunction?1===this._cmpVersion?this._cmpFunction(e,null,t):2===this._cmpVersion&&this._cmpFunction(e,this._cmpVersion,t):(1===this._cmpVersion||2===this._cmpVersion)&&this._callCmpFromIframe(e,t)},n.prototype.getCmpData=function(e,t){this._successCallbacks.push(e),this._errorCallbacks.push(t),"function"==typeof e&&"function"==typeof t&&(!this._cmpRequestInProgress&&this._cmpData?this._callSuccessCallbacks(this._cmpData,this._cmpVersion):this._cmpn(){return this._cmpRequestInProgress},n.prototype.getCmpVersion=function(){return this._cmpVersion},n.prototype.refreshCmpData=function(){this._successCallbacks=[],this._errorCallbacks=[],this._findCmpAndGetData()},n.prototype.exit=function(){return window.removeEventListener("message",this._onMessageBound),this._cmpCallbacks={},this._cmpFrame=null,this._cmpFunction=null,this._cmpVersion=null,this._cmpData=null,this._cmpRequestInProgress=!1,null}})),parcelRequire.register("gUMfd",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var i=parcelRequire("1MxPP"),n={_pad:function(e,t,i){return void 0===t?e:i?(e+t).slice(-e.length):(t+e).substring(0,e.length)},decodeBase64StringToBitString:function(e){var t=!1,i=e.replace(ength%4);try{var a=atob(i);t="";for(var o=0;o<a.length;o++){var s=a.cha{}return t},decodeBitsToInt:function(e,t,i){return parseInt(e.substr(t,i),2)},decodeBitsToIds:function(e,t,i){return e.substr(t,i).split("").reduce((function(e,t,i){return"1"===t&&-1===e.indexOf(i+1)&&e.push(i+1),e}),[])},ingestConsentIntoPlayout:function(e,t){t=t||{},e&&e.indexOf(".")>-1&&(e=e.split(".")[0]);var a=e?n.decodeBase64StringToBitString(e):"00000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";switch(i.default("[IABConsentFrameworkUtils] consent_bs: "+a),n.decodeBitsToInt(a,0,6)){default:case 2:var o=n.decodeBitsToIds(a,152,24);if(["disableCookies","restriction_npaOnly","restriction_npcOnly","noStats"].forEach((function(e){void 0!==t[e]&&void 0===t[e+"__orig__"]&&(t[e+"__orig__"]=t[e])})),o){var s=-1===o.indexOf(1),l=-1===o.indexOf(3)||-1===o.indexOf(5);s?t.disableCookies="true":!s&&l?t.disableCookies="true"===t.disableCookies__orig__?"true":"tracking":s||l||(t.disableCookies="true"===t.disableCookies__orig__||"tracking"===t.disableCookies__orig__?t.disableCookies__orig__:"false"),-1===o.indexOf(4)?t.restriction_npaOnly="true":t.restriction_npaOnly="true"===t.restriction_npaOnly__orig__?"true ":"false",-1===o.indexOf(6)?t.restriction_npcOnly="true":t.restriction_npcOnly="true"===t.restriction_npcOnly__orig__?"true":"false",-1===o.indexOf(7)||-1===o.indexOf(8)||-1===o.indexOf(10)?t.noStats="true":t.noStats="true"===t.noStats__orig__?"true":"false"}break;case 1:var r=n.decodeBitsToInt(a,132,6);void 0!==t.disableCookies&&void 0===t.disableCookies__orig__&&(t.disableCookies__orig__=t.disableCookies),t.disableCookies=32&r?16&r?"false":"tracking":"true",void 0!==t.restriction_npaOnly&&void 0===t.restriction_npaOnly__orig__&&(t.restriction_npaOnly__orig__=t.restriction_npaOnly),t.restriction_npaOnly=8&r?"false":"true",void 0!==t.restriction_npcOnly&&void 0===t.restriction_npcOnly__orig__&&(t.restriction_npcOnly__orig__=t.restriction_npcOnly),t.restriction_npcOnly=4&r?"false":"true",void 0!==t.noStats&&void 0===t.noStats__orig__&&(t.noStats__orig__=t.noStats),t.noStats=2&r?"false":"true"}return t}}})),parcelRequire.register("3M4zN",(function(e,t){$parcel$export(e.exports,"default",(function(){return a})),parcelRequire("2UpbQ");var i=parcelRequire("eV1xY"),n=parcelRequire("cWdJP"),a=function(e,t){this.$element=e,this._opts=t,n.default.getService(this._opts.playerAliasOrId).setInstance("Placement",this),this._spotFound=!1};a.prototype.exit=function(){return n.default.getService(this._opts.playerAliasOrId).setInstance("Placement",null),null},a.prototype.inarticleFindSpot=function(){var e=this;this._playout=this._opts.playoutData;var t=$parcel$interopDefault(i)(window).height(),n=[],a=thisace(/((?:[\w-]+)?[#.][\w-]+):eq\((\d+)\)/gi,(func).concat(t,")")})).replace(/:eq\((\d+)\)/gi,(function(e,t){return":nth-of-type(".concat(parseInt(t)+1,")")})).replace(/((?:[\w-]+)?[#.][\w-]+):last(?!-)/gi,(function(e,t){return":nth-last-child(1 of ".concat(t,")")})).replace(/:last(?!-)/gi,":last-of-type"));var o=$parcel$interopDefault(i)(a);switch(e.$placementElement=null,this._playout.placementOption){default:break;case"afterSelector":case"appendTo":o&&(e.$placementElement=o[0]);break;case"halfwaySelectors":o&&o.length>0&&(e.$placementElement=o[Math.floor(o.length/2)-1]);break;case"fold":case"foldOrLast":if(o&&o.each((function(e,a){$parcel$interopDefault(i)(this).offset().top>t&&n.push(this)})),n.length>0){var s=o.length-n.length;s>0&&(s-=1),e.$placementElement=o[s]}else o&&o.length>0&&"foldOrLast"==this._playout.placementOption&&(e.$placementElement=o[o.length-1])}return e._movePlayerToSpotFound("appendTo"===this._playout.placementOption),this._spotFound},a.prototype._movePlayerToSpotFound=function(e){null!=this.$placementElement&&(void 0!==this._opts.debugmode&&!0===this._opts.debugmode&&$parcel$interopDefault(i)(this.$placementElement).css({border:"1px dashed red"}).attr("title","This element was found by the Blue Billywig placement DOM-selector"),e?$parcel$interopDefault(i)(this.$placementElement).append(this.$element):this.$element.insertAfter(this.$placementElement),this._spotFound=!0)}})),parcelRequire.register("6evWs",(function(module,exports){$parcel$export(module.exports,"default",(function(){return Suggest}));var $4AQp6=parcelRequire("4AQp6"),Suggest=function(e,t,i){this._opts=e,this._player=t,"function"==typeof i&&(this._callback=i),this._init()};Suggest.prototype._init=function(){this._jsonLdData=this._getJsonLdData(),this._pageLanguage=this._getLanguage(this._jsonLdData),this._viewedClips=[],this._extraSuggestQuery=this._checkExtraQuery();var e=this._opts&&this._opts.clipListData&&this._opts.clipListData.query;this._searchParams={limit:10,"fq[]":e?'typeSort:"MediaClip" AND ('+e+")":'typeSort:"MediaClip" AND status:"published"'},this._searchParams.query=this._createQuery();try{this._viewedClips=JSON.parse(localStorage.getItem("bb_player_viewed_clips"))||[]}catch(e){}this._search()},Suggest.prototype._getLanguage=function(e){var t="";if("NewsArticle BlogPosting WebPage".split(" ").forEach((function(i){!t&&e[i]&&e[i].inLanguage&&(t=e[i].inLanguage)})),!t){var i=document.querySelector("html");t=this._getMetaContent("locale")||i&&i.getAttribute("lang")||""}return t&&-1!==t.indexOf("-")&&(t=t.split("-")[0]),t.toLowerCase()},Suggest.prototype._search=function(){if(this._opts&&this._opts.publicationData&&this._opts.publicationData.baseurl){var e=this,t=this._opts.publicationData.baseurl+"/json/search",i=null;$4AQp6.fetchData(t,{data:this._searchParams}).then((function(t){var n=e;if(t&&t.items&&t.items.length){var a=e,o=null;e._viewedClips&&e._viewedClips.length&&t.items.forEach((function(e){!o&&e.id&&-1===a._viewedClips.indexOf(e.id)&&(o=e)})),e._opts.clipListData&&(e._opts.clipListData.items=t.items),e._opts.clipData=o||t.items[0],e._opts.usingSuggest=!0,i=e._opts}"function"==typeof e._callback&&e._callback(i),setTimeout((function(){var e=n;n._player&&n._player.on&&n._player.on("started",(function(){var t=e._player.getClipData();t&&t.id&&e._viewedClips&&e._viewedClips.indexOf&&-1===e._viewedClips.indexOf(t.id)&&(e._viewedClips.push(t.id),localStorage.setItem("bb_player_viewed_clips",JSON.stringify(e._viewedClips)))}))}),500)})).catch((function(t){console.warn("[Suggest] Error in search:",t),"function"==typeof e._callback&&e._callback(null)}))}},Suggest.prototype._createQuery=function(){var e="",t=[],i=this._getMetaContent("keywords"),n=this._getMetaContent("title"),a=this._getMetaContent("description");if(i&&i.length&&(t.push(i.join(" AND ")),t.push(i.join(" "))),n&&(t.push('"'+n.replaceAll('"',"")+'"'),t.push(this._filter(n))),a&&t.push(this._filter(a)),location&&location.pathname){var o=location.pathname.split("/").join(" "),s=this._filter(o);s&&t.push(s)}return this._extraSuggestQuery&&-1===this._extraSuggestQuery.indexOf("^")&&t.unshift(this._extraSuggestQuery),t.forEach((function(e,i){e&&(t[i]="("+e+")^"+15*(t.length-i))})),e+=t.join(" OR "),this._extraSuggestQuery&&-1!==this._extraSuggestQuery.indexOf("^")&&(e+=(e?" OR ":"")+this._extraSuggestQuery),e?e+=" OR *:*^1":(e="*:*",this._searchParams.sort="id desc"),e},Suggest.prototype._getMetaContent=function(e){var t=null,i=document.querySelector('meta[name="'+("keywords"===e?"":"og:")+e+'"]'),n=i&&i.getAttribute("content"),a=this._jsonLdData&&(this._jsonLdData.NewsArticle||this._jsonLdData.BlogPosting);switch(e){default:t=n||"";break;case"title":t=this._jsonLdData.NewsArticle&&this._jsonLdData.NewsArticle.headline||n||document.querySelector("title")&&document.querySelector("title").innerText;break;case"keywords":var o=n&&n.split(",")||a&&a.keywords&&"string"==typeof a.keywords&&a.keywords.split(",")||a&&a.tag;"object"==typeof o&&o.forEach((function(e,t){"string"==typeof e&&(o[t]=e.trim().toLowerCase(),o[t]||o.splice(t,1))})),t=o;break;case"description":t=this._jsonLdData.NewsArticle&&this._jsonLdData.NewsArticle.description||n||document.querySelector("description")&&document.querySelector("description").innerText}return"string"==typeof t&&(t=t.toLowerCase()),t},Suggest.prototype._getJsonLdData=function(){var e=document.querySelectorAll('script[type="application/ld+json"]'),t={};return e&&e.length&&e.forEach((function(e,i){var n;try{n=JSON.parse(e.innerText)}catch(e){}n&&n["@type"]&&(t[n["@type"]]=n)})),t},Suggest.prototype._filter=function(e){if("string"!=typeof e)return"";e=e.toLowerCase().replace(/[-_]/g," ").replace(/[^0-9a-z ]/g,"");var t={en:"a aboard about above according accordingly across actual actually additional additionally after again against all almost along alongside also although always am amid amidst among amongst an and another anti any anybody anyone anything anyway apparent apparently are around as astride at atop away barring be because been before behind below beneath beside besides between beyond both but by can cannot certain certainly circa clear clearly commonly comparable comparative comparatively concerning consequent consequently considering contrarily conversely could cum despite did different do does done down during each eight eighteen eighteenth eighth eightieth eighty either eleven eleventh elsewhere equally especially even every everybody everyone everything evident evidently except excepting excluding few fifteen fifteenth fifth fiftieth fifty finally first five following for fortieth forty four fourteen fourteenth fourth from further furthermore generally get gets getting go going gone got had has have he hence henceforth her here hers herself him himself his honestly how however I if important in incidentally including inside instead into is it its itself just less likely likewise little many may me meanwhile might mine minus more moreover most much must my myself namely near nearly neither never nevertheless next nine nineteen nineteenth ninetieth ninety ninth no nobody none nonetheless nor not nothing notwithstanding now of off often on once one only onto or other others otherwise our ours ourselves out outside over particular particularly per plus prior provided rather re really regard regarding regardless relatively same seem seemingly seems seven seventeen seventeenth seventh seventieth seventy several she should similar similarly since six sixteen sixteenth sixth sixtieth sixty small so some somebody someone something soon specific specific specifically still subsequent subsequently such ten tenth than that the their theirs them themselves then there thereafter therefore these they third thirteen thirteenth thirtieth thirty this those though three through throughout thru thus till to together too toward towards truly twelfth twelve twentieth twenty twice two ultimately under underneath undoubtedly unless unlike until up upon us versus very via vis-a-vis vs was way we well went were what whatever when whenever where whereas wherever whether which whichever while who whoever whom whomever whose why will with within without worse worst would yes yet you your yours yourself yourselves"},i=(t[this._pageLanguage]||t.en).split(" "),n=[];return e&&e.split(" ").forEach((function(e){e&&e.length>3&&isNaN(parseFloat(e))&&-1===i.indexOf(e)&&n.push(e)})),n.join(" ")},Suggest.prototype._checkExtraQuery=function(){var extraSuggestQuery=this._opts&&this._opts.clipListData&&this._opts.clipListData.extraSuggestQuery,q="";try{q=extraSuggestQuery?eval(extraSuggestQuery):""}catch(e){"string"==typeof extraSuggestQuery&&extraSuggestQuery&&(q=extraSuggestQuery)}return q}}));var $c2b6657211bdcb8a$exports={};parcelRequire("kvHoK").register(JSON.parse('{"2hF73":"player.js","dnjLp":"TimelineWidget.e162900f.js","tVRCL":"WebGL360Helper.8d2b6234.js","eoSMn":"Html5Sprite360Head.20bfc1d0.js","crjym":"Html5HLSHelper.63e50042.js","efg2o":"Html5HLSDashHelper.d0186925.js","ctd4m":"ResizeObserver.24d5c9ab.js","1Xy8G":"intersection-observer.c126be63.js","1nMpP":"TimelineEngine.cc89cb79.js","5DuKo":"ItemScope.cef86e39.js"}')),parcelRequire("lkMzx");var $j7M4L=parcelRequire("j7M4L");window.bluebillywig=window.bluebillywig||{},window.bluebillywig._internal=window.bluebillywig._internal||{},window.bluebillywig._internal.playerBuildDate=$j7M4L.playerBuildDate})();