!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[7981],{27341:82145:(e,t,d)=>{d.d(t,{Z:()=>g});var r=d(54138),n=d.n(r),a=d(54589),i=d.n(a),s=d(36343),o=d(55015),l=d(2629),u=["isCompact","isRounded"],p=(0,s.q)("reblog"),c=(0,s.q)("reblog-compact"),v=(0,s.q)("reblog-rounded"),_=e=>{var t=e.isCompact,d=e.isRounded,r=i()(e,u);return t?(0,l.jsx)(c,n()({},r)):d?(0,l.jsx)(v,n()({},r)):(0,l.jsx)(p,n()({},r))};_.defaultProps={size:o.Z.desktop.reblogIconSize,isCompact:!1,isRounded:!1};let g=_},37560:(e,t,d)=>{d.d(t,{Z:()=>l});var r=d(50209),n=d.n(r),a=d(95004),i=d(36485),s=d(2629);class o extends a.Component{render(){var e=this.props,t=e.className,d=e.src,r=e.title,n=e.queryParams,a=e.scrolling,o=e.frameBorder,l=e.style,u=e.onLoad,p=e.placementId,c=e.allow,v=e.allowFullScreen;return(0,s.jsx)("iframe",{className:t,name:p,title:r,src:(0,i.Z)(d,n),scrolling:a,frameBorder:o,style:l,onLoad:u,allow:c,allowFullScreen:v})}}n()(o,"defaultProps",{className:"",queryParams:{},scrolling:"no",frameBorder:0});let l=o},10777:(e,t,d)=>{d.d(t,{Z:()=>c});var r=d(33970),n=d.n(r),a=d(95004),i=d(85394),s=d(79536),o=d(43523),l=d(84976),u=d(78667),p=d(22424);let c=e=>{var t="production"===l.Z.Development?"/22639388115/rewarded_web_example":"/22749103964/rewarded-ad-web",d=(0,u.bp)().cspNonce,r=(0,p.wL)().logEvent,c=(0,a.useState)(1),v=n()(c,2),_=v[0],g=v[1],m=(0,a.useRef)(null),A=null,y=(e,t)=>{r({eventName:e,eventDetails:{event:t,refreshCount:_}})},I=()=>{var e=window;if(m.current&&(clearTimeout(m.current),m.current=null),A){var t,d,r=null===(t=e.googletag)||void 0===t?void 0:t.pubads().getSlots().filter(e=>{var t;return e.getSlotElementId()===(null===(t=A)||void 0===t?void 0:t.getSlotElementId())});r&&r.length&&(null===(d=e.googletag)||void 0===d||d.destroySlots(r))}},f=t=>{var d,r,n;t.slot.getSlotElementId()==(null===(d=A)||void 0===d?void 0:d.getSlotElementId())&&(!e.onSlotReady||null!==(r=e.onSlotReady)&&void 0!==r&&r.call(e,t))&&(t.makeRewardedVisible(),null===(n=window.googletag)||void 0===n||n.pubads().removeEventListener("rewardedSlotReady",f))},h=t=>{var d,r,n;t.slot.getSlotElementId()==(null===(d=A)||void 0===d?void 0:d.getSlotElementId())&&(null===(r=e.onSlotClosed)||void 0===r||r.call(e,t),I(),y(o.J.RewardedAdClosed,t),null===(n=window.googletag)||void 0===n||n.pubads().removeEventListener("rewardedSlotClosed",h))},S=t=>{var d,r,n;t.slot.getSlotElementId()==(null===(d=A)||void 0===d?void 0:d.getSlotElementId())&&(null===(r=e.onSlotGranted)||void 0===r||r.call(e,t),I(),y(o.J.RewardedAdGranted,t),null===(n=window.googletag)||void 0===n||n.pubads().removeEventListener("rewardedSlotGranted",S))},b=t=>{var d,r,n;t.slot.getSlotElementId()==(null===(d=A)||void 0===d?void 0:d.getSlotElementId())&&(t.isEmpty?e.autoRefreshWhenUnfilled?(y(o.J.GoogleRewardedAdUnfilled,t),_<=10&&(m.current=setTimeout(3e3*_))):null===(r=e.onEmpty)||void 0===r||r.call(e):(y(o.J.GoogleRewardedAdFilled,t),null===(n=e.onFilled)||void 0===n||n.call(e)))},E=()=>{var e,d=window;d.googletag||(d.googletag={},d.googletag.cmd=[]),null===(e=d.googletag)||void 0===e||e.cmd.push(()=>{var e,r,n,a,i;d.googletag&&(null===(e=d.googletag)||void 0===e||e.pubads().setForceSafeFrame(!0),(A=d.googletag.defineOutOfPageSlot(t,null===(r=d.googletag)||void 0===r?void 0:r.enums.OutOfPageFormat.REWARDED))&&(A.addService(d.googletag.pubads()),null===(n=d.googletag)||void 0===n||n.pubads().addEventListener("rewardedSlotReady",f).addEventListener("rewardedSlotClosed",h).addEventListener("rewardedSlotGranted",S).addEventListener("slotRenderEnded",b),null===(a=d.googletag)||void 0===a||a.enableServices(),null===(i=d.googletag)||void 0===i||i.display(A)))})};return(0,a.useEffect)(()=>((0,i.Eg)()||(0,s.o7)(d),E(),I),[_]),null}},9421:(e,t,d)=>{d.d(t,{fi:()=>S,ZP:()=>E});var r=d(54138),n=d.n(r),a=d(50209),i=d.n(a),s=d(9156),o=d(95004),l=d(46811),u=d(96834),p=d(26216),c=d(12001),v=function(e){return e.NO_FILL="no_fill",e.OTHER="other",e}({}),_=d(22979),g={[_.db.Google]:"googleNativeDashboardHydraSource",[_.db.GoogleRewarded]:"googleRewardedPremiumHydraSource",[_.db.Teads]:"teadsHydraSource",[_.db.Flurry]:"flurryHydraSource",[_.db.OneMobile]:"oneMobileHydraSource",[_.db.IponWeb]:"iponwebMrecHydraSource",[_.db.Smart]:"smartBannerHydraSource",[_.db.Post]:"",[_.Rd.TripleliftBanner]:"",[_.Rd.Smart]:"smartHydraSource",[_.Rd.TripleliftNative]:"tripleliftNativeHydraSource",[_.Rd.Smaato]:"smaatoHydraSource"},m=d(92183),A=d(70511),y=d(59215),I=d(12403),f=d(63421),h=d(45051);class S extends o.Component{constructor(){super(...arguments),i()(this,"state",{currentIndex:0,currentClientSideAdType:void 0,served:!1}),i()(this,"adTypeInitMapping",{[_.db.Google]:h.Z,[_.db.GoogleRewarded]:h.Z,[_.db.Smart]:h.Z,[_.db.Teads]:e=>{try{var t=this.props,d=t.timelineObject.supplyOpportunityInstanceId,r=t.appContext,n=r.logEvent,a=r.features.teadsLivePlacementNoCollapse,i=this.state.currentAd,s=JSON.parse(e.data);if(!d||!s.tumblrMsg)return;switch(d){case s.tumblrMsg[c.oG.NoAd]:a||this.handleNoAdResponse(_.db.Teads);return;case s.tumblrMsg[c.oG.AdServed]:this.handleSuccessfulAdResponse();return;case s.tumblrMsg[c.oG.TeadsImpression]:n(this.generateAnalyticsEvent({eventName:c.bI.ForeignImpression,ad:i}))}}catch(e){return}},[_.db.OneMobile]:e=>{try{var t=JSON.parse(e.data),d=this.props.timelineObject.supplyOpportunityInstanceId;if(!d)return;d===t.oneMobileMsg[c.oG.NoAd]&&this.handleNoAdResponse(_.db.OneMobile)}catch(e){return}},[_.db.Flurry]:e=>{try{var t=JSON.parse(e.data),d=this.props.timelineObject.supplyOpportunityInstanceId;if(!d)return;switch(d){case t.flurryMsg[c.oG.NoAd]:this.handleNoAdResponse(_.db.Flurry);return;case t.flurryMsg[c.oG.AdServed]:this.handleSuccessfulAdResponse();return;case t.flurryMsg[c.oG.AdError]:this.handleNoAdResponse(_.db.Flurry,t.flurryMsg.errorMsg);return}}catch(e){return}}}),i()(this,"fallbackAdMapping",{[m.E.RIGHT_RAIL]:()=>this.props.appContext.features.wordAdsWebAdSource?{Component:u.ZP,props:{supplyProviderId:this.props.supplyProviderId}}:null,[m.E.EXPLORE]:()=>this.props.appContext.features.wordAdsWebAdSource?{Component:u.ZP,props:{supplyProviderId:this.props.supplyProviderId}}:null,[m.E.COMMUNITY_HUB]:()=>this.props.appContext.features.wordAdsWebAdSource?{Component:u.ZP,props:{supplyProviderId:this.props.supplyProviderId}}:null}),i()(this,"getAdToRender",(0,s.Z)((e,t,d)=>{var r=t||d;return(null==r?void 0:r.id)===(null==e?void 0:e.id)?n()(n()({},r),e):r},{maxSize:1})),i()(this,"onBeforeUnload",()=>{var e=this.props,t=e.appContext.logEvent,d=e.timelineObject;if(this.detachAdEventHandlers(this.state.currentAd),0===this.state.currentIndex&&!this.state.currentAd&&((0,_.uz)(d)||null!=d&&null!==(r=d.resources)&&void 0!==r&&r.backfill)){var r,n,a=(0,_.uz)(d)?d:null===(n=d.resources)||void 0===n?void 0:n.backfill;t(this.generateAnalyticsEvent({eventName:c.ql.AdDropped,ad:a,dropReason:c.LI.WaterfallNotUsed}),{sendPayloadImmediately:!0})}}),i()(this,"handleSuccessfulAdResponse",()=>{var e,t,d=this.state,r=d.currentAd,n=d.currentIndex,a=this.props,i=a.appContext.logEvent,s=a.adContext,o=s.adPlacementConfiguration,u=s.hydraConfigInstanceId,p=a.setProvideEventDetails,v=a.setImpressionsEnabled,g=a.timelineObject;!(0,_.uz)(g)&&g.resources?(e=g.resources.clientSideAds,t=g.resources.backfill):(e=[],t=g);var m=e.length,A=this.getCurrentAdRequest();if(A&&(A.setEndTime(),A.generateAdInstance()),(0,_.uz)(g)||(0,_.uz)(r)||(i(this.generateAnalyticsEvent({eventName:c.rB.AdRequest,ad:r,adRequestStatus:c.ts.AdFilled})),p(()=>this.generateAnalyticsEvent({eventName:c.bI.Impression,ad:r}).eventDetails),v(!0),i(this.generateAnalyticsEvent({eventName:c.ql.SupplyOpportunityFilled,ad:r}))),(0,_.uz)(r)){var y=this.state.fillId||(0,l.Z)();(0,f.Y)(i,o,r,u,y),this.setState({fillId:y,served:!0})}else this.setState({served:!0});n<=m&&t&&!(0,_.uz)(g)&&i(this.generateAnalyticsEvent({eventName:c.ql.AdDropped,ad:t,dropReason:c.LI.BackfillNotNeeded}))}),i()(this,"handleNoAdResponse",(e,t)=>{var d,r,a=this.props.appContext.logEvent,i=this.state,s=i.currentClientSideAdType,o=i.currentAd,l=this.getCurrentAdRequest();null==l||l.setEndTime(),null==l||l.setErrorDetails(t?{error_type:v.OTHER,provider_error_message:t}:{error_type:v.NO_FILL}),a(this.generateAnalyticsEvent(n()({eventName:c.rB.AdRequest,ad:o},t?{adRequestStatus:c.ts.AdError}:{adRequestStatus:c.ts.NoAd}))),s===e&&this.getNextAd(),this.state.currentAd||null===(d=(r=this.props).onEmpty)||void 0===d||d.call(r)}),i()(this,"generateAnalyticsEvent",e=>{var t=this.props,d=t.isInstream,r=t.timelineObject,a=t.supplyProviderId,i=t.rootSupplyOpportunityId,s=t.refresh,o=t.adContext,u=o.adPlacementConfiguration,p=o.hydraConfigInstanceId,v=o.adProviderInstanceIdMap,y=t.appContext.features,f=t.dashboardContext.tabId,h=r.streamGlobalPosition,S=e.eventName,b=e.ad,E=e.adRequestStatus,R=e.dropReason,O=void 0===R?c.LI.BackfillNotNeeded:R,P=n()({tab:f,refresh:s,root_supply_opportunity_instance_id:i},u&&{hydra_signature:u.signature,hydra_config_instance_id:p}),T=this.getCurrentAdRequest(),D=a||m.E.DASHBOARD;switch(!Object.values(c.rB).includes(S)&&(P.supply_opportunity_instance_id=r.supplyOpportunityInstanceId,P.supply_provider_id=D,d&&(P.stream_session_id=r.streamSessionId,P.stream_global_position=h)),S){case c.ql.MediationOpportunityMissed:P.supply_request_id=null==r?void 0:r.supplyRequestId;break;case c.ql.AdDropped:((0,_.N0)(b)||(0,_.uz)(b)||(0,_.ou)(b))&&(P.ad_provider_id=b.adProviderId,P.ad_provider_placement_id=(0,A.fu)(b.adProviderPlacementId||""),P.ad_provider_foreign_placement_id=b.adProviderForeignPlacementId,P.ad_provider_instance_id=b.adProviderInstanceId,P.ad_request_id=b.adRequestId,P.supply_opportunity_instance_id=r.supplyOpportunityInstanceId,P.mediation_candidate_id=b.mediationCandidateId,P.ad_instance_id=b.adInstanceId,P.ad_instance_age=this.getAdInstanceAge(b),P.supply_request_id=r.supplyRequestId,P.supply_provider_id=r.supplyProviderId,P.drop_reason=O,P.is_tumblr_sponsored_post=b.isTumblrSponsoredPost?1:0,P.placement_id=b.placementId);break;case c.bI.ForeignImpression:case c.ql.MediationCandidateConsideration:if((0,_.MA)(b)||(0,_.ou)(b)){if(P.ad_provider_id=(0,_.ou)(b)?b.adProviderId:b.clientSideAdType,P.is_tumblr_sponsored_post=0,(0,_.MA)(b)){var N=g[P.ad_provider_id];u&&N&&(P.ad_provider_placement_id=(0,A.fu)(N),P.ad_provider_foreign_placement_id=(0,I.Wy)(b.clientSideAdType,b.adSourceTag,u,D,h,y),P.ad_provider_instance_id=v[N])}b.placementId&&(P.placement_id=b.placementId)}(0,_.uz)(b)&&(P.ad_provider_id=b.adProviderId,P.is_tumblr_sponsored_post=1,P.ad_provider_placement_id=(0,A.fu)(b.adProviderPlacementId||""),P.ad_provider_foreign_placement_id=b.adProviderForeignPlacementId,P.ad_provider_instance_id=b.adProviderInstanceId),P.mediation_candidate_id=null==b?void 0:b.mediationCandidateId,P.supply_request_id=r.supplyRequestId,P.supply_provider_id=D;break;case c.ql.SupplyOpportunityFilled:if((0,_.MA)(b)||(0,_.ou)(b)){if(b.placementId&&(P.placement_id=b.placementId),P.ad_provider_id=(0,_.ou)(b)?b.adProviderId:b.clientSideAdType,P.is_tumblr_sponsored_post=0,(0,_.MA)(b)){var w=g[P.ad_provider_id];u&&(P.ad_provider_placement_id=(0,A.fu)(w),P.ad_provider_foreign_placement_id=(0,I.Wy)(b.clientSideAdType,b.adSourceTag,u,D,h,y),P.ad_provider_instance_id=v[w])}P.ad_request_id=null==T?void 0:T.adRequestId,P.mediation_candidate_id=b.mediationCandidateId,null!=T&&T.adInstances&&T.adInstances[0]&&(P.ad_instance_id=T.adInstances[0].ad_instance_id,P.ad_instance_age=this.getAdInstanceAge(b)),P.supply_request_id=r.supplyRequestId,P.supply_provider_id=D,b.placementId&&(P.placement_id=b.placementId)}var q=(0,l.Z)();P.fill_id=q,this.setState({fillId:q});break;case c.bI.Impression:if((0,_.MA)(b)||(0,_.ou)(b)){if(P.ad_provider_id=(0,_.ou)(b)?b.adProviderId:b.clientSideAdType,P.is_tumblr_sponsored_post=0,(0,_.MA)(b)){var C=g[P.ad_provider_id];u&&(P.ad_provider_foreign_placement_id=(0,I.Wy)(b.clientSideAdType,b.adSourceTag,u,D,h,y),P.ad_provider_placement_id=(0,A.fu)(C),P.ad_provider_instance_id=v[C])}P.mediation_candidate_id=b.mediationCandidateId,null!=T&&T.adInstances[0]&&(P.ad_instance_id=T.adInstances[0].ad_instance_id,P.ad_instance_age=this.getAdInstanceAge(b)),P.supply_request_id=r.supplyRequestId,P.supply_provider_id=r.supplyProviderId}if(this.state.fillId)P.fill_id=this.state.fillId;else{var M=(0,l.Z)();P.fill_id=M,this.setState({fillId:M})}P.ad_request_id=null==T?void 0:T.adRequestId;break;case c.rB.AdRequest:if((0,_.MA)(b)||(0,_.ou)(b)){if(P.ad_provider_id=(0,_.ou)(b)?b.adProviderId:b.clientSideAdType,(0,_.MA)(b)){var L=g[P.ad_provider_id];u&&(P.ad_provider_foreign_placement_id=(0,I.Wy)(b.clientSideAdType,b.adSourceTag,u,D,h,y),P.ad_provider_placement_id=(0,A.fu)(L),P.ad_provider_instance_id=v[L])}P.ad_instances=null==T?void 0:T.adInstances}P.ad_request_is_success=E===c.ts.AdError?0:1,P.ad_request_id=null==T?void 0:T.adRequestId,P.ads_returned=E===c.ts.AdFilled?1:0,P.ad_request_latency=T&&T.requestEndTime-T.requestStartTime,P.ads_requested=1,E===c.ts.AdError&&(P.ad_request_error_detail=null==T?void 0:T.errorDetails)}return{eventName:S,eventDetails:P}})}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload),this.determineAdFetch()}omponentDidUpdate(e){var t=this.props.appContext.features.rightRailFallback;this.props.timelineObject.supplyOpportunityInstanceId!==e.timelineObject.supplyOpportunityInstanceId&&this.setState(e=>n()({currentIndex:0},t&&{previousAd:e.currentAd||e.previousAd}),()=>this.determineAdFetch())}render(){var e=this.props,t=e.children,d=e.supplyProviderId,r=void 0===d?m.E.DASHBOARD:d,n=e.timelineObject,a=n.streamGlobalPosition,i=n.supplyOpportunityInstanceId,s=this.state,o=s.currentClientSideAdType,l=s.currentAd,u=s.served,p=this.getAdToRender(n,l),c=this.getFallBackAd();return(p||c)&&(null==t?void 0:t({supplyOpportunityInstanceId:i,location:r,streamPosition:r===m.E.DASHBOARD?a:void 0,ad:p,fallbackAd:c||{},adServed:u,onFilled:this.handleSuccessfulAdResponse,onEmpty:()=>{this.handleNoAdResponse(o)},onError:))}getNextAd(){var e,t,d=this.state,r=d.currentAd,n=d.currentIndex,a=this.props,i=a.timelineObject,s=a.appContext.logEvent,o=(0,_.uz)(i)?[i]:(null===(e=i.resources)||void 0===e?void 0:e.clientSideAds)||[],l=(0,_.ou)(i)?i:null===(t=i.resources)||void 0===t?void 0:t.backfill,u=o.length;this.detachAdEventHandlers(r);var p=n===u?l:n<u?o[n]:void 0;s(this.generateAnalyticsEvent(p?{eventName:c.ql.MediationCandidateConsideration,ad:p}:0!==o.length||l?{eventName:c.ql.MediationOpportunityMissed}:{eventName:c.ql.SupplyOpportunityMissed}));var v={currentIndex:n+1,currentClientSideAdType:p?p.clientSideAdType||_.db.Post:void 0,currentAd:p||void 0};!p||(0,_.MA)(p)&&this.adTypeInitMapping[p.clientSideAdType]||(v.served=!0),this.setState(v,()=>{(0,_.uz)(p)&&this.handleSuccessfulAdResponse()}),(0,_.uz)(p)||(this.initializeAdEventHandlers(p),this.initializeAdRequest(p))}getFallBackAd(){var e,t,d=this.props,r=d.supplyProviderId;return(0,d.isApproachingView)()&&r&&r in this.fallbackAdMapping?null===(e=(t=this.fallbackAdMapping)[r])||void 0===e?void 0:e.call(t):null}initializeAdRequest(e){var t=this.props,d=t.adRequestContext,r=d.generateNewAdRequest,n=d.clearAdRequest,a=t.timelineObject.supplyOpportunityInstanceId;e?r(a,(0,_.ou)(e)?this.handleSuccessfulAdResponse:void 0):n(a)}initializeAdEventHandlers(e){if((0,_.MA)(e)){var t=this.adTypeInitMapping[e.clientSideAdType];t&&window.addEventListener("message",t)}}determineAdFetch(){var e=this.props,t=e.isApproachingView,d=e.setApproachingViewCallback;t()?this.getNextAd():d(}detachAdEventHandlers(e){if((0,_.MA)(e)){var t=this.adTypeInitMapping[e.clientSideAdType];t&&window.removeEventListener("message",t)}}getCurrentAdRequest(){var e=this.props,t=e.timelineObject.supplyOpportunityInstanceId;return e.adRequestContext.currentAdRequests[t]}getAdInstanceAge(e){if((0,_.MA)(e)){var t;return null===(t=this.getCurrentAdRequest())||void 0===t?void 0:t.getAdInstanceAge()}if((0,_.N0)(e)||(0,_.ou)(e))return new Date().getTime()-e.adInstanceCreatedTimestamp}}var b=(0,y.X9)(S,{appContext:!0,adContext:!0,adRequestContext:!0,dashboardContext:!0});let E=(0,p.s)(b,!0)},48352:(e,t,d)=>{d.d(t,{Z:()=>m});var r=d(54138),n=d.n(r),a=d(33970),i=d.n(a),s=d(95004),o=d(78994),l=d(55673),u=d(43523),p=d(22424),c=d(12736),v=d(14544),_=d(78667);let g=e=>{var t=(0,_.bp)().logEvent,d=(0,o.TH)().pathname,r=(0,l.lr)(),a=i()(r,1)[0];(0,s.useEffect)(()=>{"embed"===a.get("source")&&t({pathname:d,eventName:u.J.EmbedPostClick,eventDetails:n()(n()({},e),{},{refUrl:a.get("refUrl"),action:a.get("action")})})},[])},m=e=>{var t=e.page,d=e.eventDetails,r=(0,p.wL)().logEvent,a=(0,o.TH)().pathname,_=(0,l.lr)(),m=i()(_,1)[0],A=(0,v.M)().name,y=(0,c.z)(),I=y.isModalShowing,f=y.isPeeprShowing,h=(0,s.useRef)(I||f),S=m.get("source"),b=()=>r({page:t,pathname:a,eventName:u.J.ScreenView,eventDetails:n()(n()({pathname:a,referrer:document.referrer,color_palette:A},S&&{source:S}),d)});return(0,s.useEffect)([a,t]),(0,s.useEffect)(()=>{!h.current||I||f||b(),h.current=I||f},[h,I,f]),g(),null}},12001:(e,t,d)=>{d.d(t,{LI:()=>n,bI:()=>a,oG:()=>s,ql:()=>r,rB:()=>i,ts:()=>o});var r={}),n=function(e){return e.BackfillNotNeeded="backfill_not_needed",e.WaterfallNotUsed="waterfall_not_used",e}({}),a={}),i={}),s={}),o={})},95867:(e,t,d)=>{d.d(t,{ZP:()=>c,jx:()=>u,n5:()=>p});var r=d(33970),n=d.n(r),a=d(95004),i=d(5553),s=d(44561),o=d(49116),l="lastSelectedBlog",u=e=>{var t;try{t=JSON.parse(o.E.getItem(l)||"null")}catch(e){}return null==e?void 0:e.find(e=>{var d;return e.uuid===(null===(d=t)||void 0===d?void 0:d.uuid)})},p=let c=()=>{var e=(0,a.useState)(),t=n()(e,2),d=t[0],r=t[1],o=(0,i.n)().data;return(0,a.useEffect)(()=>{var e=u(o||[]),t=(0,s.Z)(o||[]);r(e||t)},[o]),{selectedBlog:d,onChangeSelectedBlog:}},68859:(e,t,d)=>{d.d(t,{Z:()=>r});let r=e=>{if(!e)return!1;try{t=new URL(e)}catch(e){return!1}var t,d=t.hostname;return"safe.txmblr.com"===d||/(?:^tumblr|\.tumblr)\.(?:com|net)$/.test(d)}},60042:(e,t,d)=>{d.d(t,{Ev:()=>i,ag:()=>s,bG:()=>o,oL:()=>a});var r=d(94576),n=d(68859);function a(e,t){var d,a=r=>{var a=function(e){var t,d=e.origin,r=e.source,a=e.data;if(!(a&&d&&r)||!(0,n.Z)(d))return null;try{t=JSON.parse(a)}catch(e){return null}if(!t.method)return null;var i=t.method.match(/^([^:]+):(.+)$/);if(!i)return null;var s=i[1],o=i[2],l=t.args[0];return{origin:d,namespace:s,name:o,source:r,cid:t.cid,data:l}}(r);if(a&&a.namespace===e){if("_syn"===a.name){d={namespace:e,source:a.source,origin:a.origin},function(e,t,d,r){var n=JSON.stringify({method:`${d}:_method_callback_responder`,args:[r]});e.postMessage(n,t)}(a.source,a.origin,e,{response:"ack",cid_response:a.cid});return}t[a.name]&&t[a.name](a.data)}};return(0,r.Rr)("message",a),{handler:a,getChannelInfo:()=>d}}ar s={listen:a,unlisten:i};function o(e,t,d){var r=e.source,n=e.target,a=e.namespace,i=JSON.stringify({method:`${a}:${t}`,args:[d]});r.postMessage(i,n)}},12403:(e,t,d)=>{d.d(t,{Wy:()=>s});var r=d(92183),n=d(22979),a=d(70511),i={}),s=function(e,t,d){var s,o,l,u,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.E.DASHBOARD,c=arguments.length>4?arguments[4]:void 0,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},_=null==d?void 0:d.placements;if(!_)return"";switch(e){case n.db.Google:return null!==(s=null!==(o=null===(l=_[(0,a.eV)(t)])||void 0===l?void 0:l.adPlacementId)&&void 0!==o?o:null===(u=_[i.GOOGLE_NATIVE_DASHBOARD])||void 0===u?void 0:u.adPlacementId)&&void 0!==s?s:"";case n.db.Teads:if(v.teadsTestPlacement)return _[i.TEADS_TEST_DASHBOARD].adPlacementId;if(p===r.E.DASHBOARD){if(void 0!==c&&c<=3)return _[i.TEADS_DASHBOARD_TOP].adPlacementId;return _[i.TEADS_DASHBOARD_SUBSEQUENT].adPlacementId}return _[i.TEADS_DEFAULT].adPlacementId;case n.db.Flurry:return _[i.FLURRY_DEFAULT].adPlacementId;case n.db.OneMobile:return _[i.ONE_MOBILE_DEFAULT].adPlacementId;default:return""}}},63421:(e,t,d)=>{d.d(t,{Y:()=>i});var r=d(12001),n=d(92183),a=d(70511),i=(e,t,d,i,s)=>{var o=d.supplyRequestId,l=d.supplyOpportunityInstanceId,u=d.adProviderId,p=d.isTumblrSponsoredPost,c=d.sponsoredBadgeUrl,v=d.adProviderForeignPlacementId,_=d.adProviderPlacementId,g=d.adProviderInstanceId,m=d.mediationCandidateId,A=d.streamSessionId,y=d.streamGlobalPosition,I=d.placementId,f=d.price,h=d.creativeId,S=d.adId,b=d.adRequestId,E=d.adInstanceId,R=d.adInstanceCreatedTimestamp,O=d.advertiserId,P=new Date().getTime()-R;e({eventName:r.ql.SupplyOpportunityFilled,eventDetails:{price:f,supply_opportunity_instance_id:l,supply_provider_id:n.E.DASHBOARD,supply_request_id:o,ad_provider_id:u,advertiser_id:O,is_tumblr_sponsored_post:p||c?1:0,ad_provider_placement_id:(0,a.fu)(_||""),ad_provider_foreign_placement_id:v,ad_provider_instance_id:g,mediation_candidate_id:m,stream_session_id:A,stream_global_position:y,placement_id:I,fill_id:s||d.fillId,hydra_config_instance_id:i,hydra_signature:null==t?void 0:t.signature,creative_id:h,ad_id:S,ad_instance_age:P,ad_request_id:b,ad_instance_id:E}},{sendPayloadImmediately:!0})}},59379:(e,t,d)=>{d.d(t,{h:()=>n});var r=d(22979),n=e=>{var t=e.editablePost,d=e.isReblog,n=e.isReblogWithPaywall,a=e.isInbox,i=e.isAsk,s=e.isPrefilledPost,o=e.isReblogWithPoll;return!!(null!=t&&t.isBlocksPostFormat||d&&t&&(0,r.WN)(t))||!!o||!!n||!!i||null!=t&&!!t.isAdFreeGiftAsk||null!=t&&!!t.isTumblrmartGiftAsk||!!a&&!(null!=t&&t.isSubmission)||!!s}},8737:(e,t,d)=>{d.d(t,{Ly:()=>s,Tf:()=>a,r9:()=>i});var r=d(49116),n="reblogPostData",a=(e,t)=>{try{var d=r.E.getItem(n);if(d){var a=JSON.parse(d),i=a.postId,o=a.placementId,l=a.isLongPost,u=a.tabId;if(e!==i)return s(),{placementId:t};return{placementId:o,isLongPost:l,tabId:u}}return{placementId:t}}catch(e){return{placementId:t}}},i=(e,t,d,a)=>{try{r.E.setItem(n,JSON.stringify({postId:e,placementId:t,isLongPost:d,tabId:a}))}catch(e){}},s=,82560:(e,t,d)=>{d.d(t,{fE:);var r=d(59379),n=e=>{var t=e.isMobile,d=e.features,n=d.redpopDesktopEditorBeta,a=d.legacyEditorAccess,i=e.editablePost,s=e.isReblog,o=e.isReblogWithPaywall,l=e.isInbox,u=e.isAsk,p=e.isPrefilledPost,c=e.isReblogWithPoll,v=e.isPremiumPartner;return!(0,r.h)({editablePost:i,isReblog:s,isReblogWithPaywall:o,isAsk:u,isInbox:l,isPrefilledPost:p,isReblogWithPoll:c})&&(null!=i&&!!i.shouldOpenInLegacy||!t&&!!(a||v)&&!n)}}}]);