(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[15],{399:function(e,r,i){"use strict";i.r(r);var o=i(3),t=i(7);r.default=()=>(Object(o.useEffect)(()=>{const{addEventListener:e}=globalThis;"serviceWorker"in navigator?e("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{t.a.log("Service worker registration succeeded:",e)},e=>{t.a.log("Service worker registration failed:",e)})}):t.a.log("Service workers are not supported.")},[]),null)}}]);
//# sourceMappingURL=https://static-assets.bleacherreport.net/js/atoms-registerServiceWorker-5e13c018.js.mapACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function t(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{h(r.next(t))}catch(t){o(t)}}function u(t){try{h(r.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}h((r=r.apply(t,e||[])).next())}))}function e(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function n(n){return t(this,void 0,void 0,(function(){var t,r,i;return e(this,(function(e){switch(e.label){case 0:return t=n.experimentId,r=n.fetchUrl,[4,fetch("".concat(r,"/").concat(t))];case 1:return[4,e.sent().json()];case 2:if(null==(i=e.sent().data))throw new Error("no config found");return[2,i]}}))}))}let r;"undefined"!=typeof window&&"undefined"==typeof global&&(window.global=window);const i=new Uint8Array(16);function o(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=[];for(let t=0;t<256;++t)s.push((t+256).toString(16).slice(1));var u={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function h(t,e,n){if(u.randomUUID&&!e&&!t)return u.randomUUID();const r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]}(r)}var a=[],f=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,l=!1;function g(){l=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)a[e]=t[e],f[t.charCodeAt(e)]=e;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63}function d(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(a[(i=r)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}function p(t){var e;l||g();for(var n=t.length,r=n%3,i="",o=[],s=16383,u=0,h=n-r;u<h;u+=s)o.push(d(t,u,u+s>h?h:u+s));return 1===r?(e=t[n-1],i+=a[e>>2],i+=a[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=a[e>>10],i+=a[e>>4&63],i+=a[e<<2&63],i+="="),o.push(i),o.join("")}function w(t,e,n,r,i){var o,s,u=8*i-r-1,h=(1<<u)-1,a=h>>1,f=-7,c=n?i-1:0,l=n?-1:1,g=t[e+c];for(c+=l,o=g&(1<<-f)-1,g>>=-f,f+=u;f>0;o=256*o+t[e+c],c+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+t[e+c],c+=l,f-=8);if(0===o)o=1-a;else{if(o===h)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,r),o-=a}return(g?-1:1)*s*Math.pow(2,o-r)}function v(t,e,n,r,i,o){var s,u,h,a=8*o-i-1,f=(1<<a)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,d=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),(e+=s+c>=1?l/h:l*Math.pow(2,1-c))*h>=2&&(s++,h/=2),s+c>=f?(u=0,s=f):s+c>=1?(u=(e*h-1)*Math.pow(2,i),s+=c):(u=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+g]=255&u,g+=d,u/=256,i-=8);for(s=s<<i|u,a+=i;a>0;t[n+g]=255&s,g+=d,s/=256,a-=8);t[n+g-d]|=128*p}var y={}.toString,m=Array.isArray||function(t){return"[object Array]"==y.call(t)};function E(){return _.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function b(t,e){if(E()<e)throw new RangeError("Invalid typed array length");return _.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=_.prototype:(null===t&&(t=new _(e)),t.length=e),t}function _(t,e,n){if(!(_.TYPED_ARRAY_SUPPORT||this instanceof _))return new _(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return I(this,t)}return A(this,t,e,n)}function A(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);_.TYPED_ARRAY_SUPPORT?(t=e).__proto__=_.prototype:t=R(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!_.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|P(e,n);t=b(t,r);var i=t.write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(L(e)){var n=0|T(e.length);return 0===(t=b(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?b(t,0):R(t,e);if("Buffer"===e.type&&m(e.data))return R(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function U(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function I(t,e){if(U(e),t=b(t,e<0?0:0|T(e)),!_.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function R(t,e){var n=e.length<0?0:0|T(e.length);t=b(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function T(t){if(t>=E())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E().toString(16)+" bytes");return 0|t}function L(t){return!(null==t||!t._isBuffer)}function P(t,e){if(L(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return nt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return rt(t).length;default:if(r)return nt(t).length;e=(""+e).toLowerCase(),r=!0}}function B(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return V(this,e,n);case"utf8":case"utf-8":return Z(this,e,n);case"ascii":return F(this,e,n);case"latin1":case"binary":return j(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function S(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function x(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=_.from(e,r)),L(e))return 0===e.length?-1:O(t,e,n,r,i);if("number"==typeof e)return e&=255,_.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):O(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function O(t,e,n,r,i){var o,s=1,u=t.length,h=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,u/=2,h/=2,n/=2}function a(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=n;o<u;o++)if(a(t,o)===a(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===h)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+h>u&&(n=u-h),o=n;o>=0;o--){for(var c=!0,l=0;l<h;l++)if(a(t,o+l)!==a(e,l)){c=!1;break}if(c)return o}return-1}function N(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var u=parseInt(e.substr(2*s,2),16);if(isNaN(u))return s;t[n+s]=u}return s}function M(t,e,n,r){return it(nt(e,t.length-n),t,n,r)}function q(t,e,n,r){return it(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function D(t,e,n,r){return q(t,e,n,r)}function Y(t,e,n,r){return it(rt(e),t,n,r)}function C(t,e,n,r){return it(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?p(t):p(t.slice(e,n))}function Z(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,u,h,a=t[i],f=null,c=a>239?4:a>223?3:a>191?2:1;if(i+c<=n)switch(c){case 1:a<128&&(f=a);break;case 2:128==(192&(o=t[i+1]))&&(h=(31&a)<<6|63&o)>127&&(f=h);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(h=(15&a)<<12|(63&o)<<6|63&s)>2047&&(h<55296||h>57343)&&(f=h);break;case 4:o=t[i+1],s=t[i+2],u=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&u)&&(h=(15&a)<<18|(63&o)<<12|(63&s)<<6|63&u)>65535&&h<1114112&&(f=h)}null===f?(f=65533,c=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=c}return function(t){var e=t.length;if(e<=z)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=z));return n}(r)}_.TYPED_ARRAY_SUPPORT=void 0===global.TYPED_ARRAY_SUPPORT||global.TYPED_ARRAY_SUPPORT,E(),_.poolSize=8192,_._augment=function(t){return t.__proto__=_.prototype,t},_.from=function(t,e,n){return A(null,t,e,n)},_.TYPED_ARRAY_SUPPORT&&(_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&_[Symbol.species]),_.alloc=function(t,e,n){return function(t,e,n,r){return U(e),e<=0?b(t,e):void 0!==n?"string"==typeof r?b(t,e).fill(n,r):b(t,e).fill(n):b(t,e)}(null,t,e,n)},_.allocUnsafe=function(t){return I(null,t)},_.allocUnsafeSlow=function(t){return I(null,t)},_.isBuffer=function(t){return null!=t&&(!!t._isBuffer||ot(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&ot(t.slice(0,0))}
/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */(t))},_.compare=function(t,e){if(!L(t)||!L(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},_.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(t,e){if(!m(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return _.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=_.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!L(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},_.byteLength=P,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},_.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},_.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},_.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Z(this,0,t):B.apply(this,arguments)},_.prototype.equals=function(t){if(!L(t))throw new TypeError("Argument must be a Buffer");return this===t||0===_.compare(this,t)},_.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},_.prototype.compare=function(t,e,n,r,i){if(!L(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),u=Math.min(o,s),h=this.slice(r,i),a=t.slice(e,n),f=0;f<u;++f)if(h[f]!==a[f]){o=h[f],s=a[f];break}return o<s?-1:s<o?1:0},_.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},_.prototype.indexOf=function(t,e,n){return x(this,t,e,n,!0)},_.prototype.lastIndexOf=function(t,e,n){return x(this,t,e,n,!1)},_.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return N(this,t,e,n);case"utf8":case"utf-8":return M(this,t,e,n);case"ascii":return q(this,t,e,n);case"latin1":case"binary":return D(this,t,e,n);case"base64":return Y(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;function F(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function V(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=et(t[o]);return i}function G(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function H(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function W(t,e,n,r,i,o){if(!L(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function J(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function X(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function K(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Q(t,e,n,r,i){return i||K(t,0,n,4),v(t,e,n,r,23,4),n+4}function $(t,e,n,r,i){return i||K(t,0,n,8),v(t,e,n,r,52,8),n+8}_.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),_.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=_.prototype;else{var i=e-t;n=new _(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},_.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||H(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},_.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||H(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},_.prototype.readUInt8=function(t,e){return e||H(t,1,this.length),this[t]},_.prototype.readUInt16LE=function(t,e){return e||H(t,2,this.length),this[t]|this[t+1]<<8},_.prototype.readUInt16BE=function(t,e){return e||H(t,2,this.length),this[t]<<8|this[t+1]},_.prototype.readUInt32LE=function(t,e){return e||H(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},_.prototype.readUInt32BE=function(t,e){return e||H(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},_.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||H(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},_.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||H(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},_.prototype.readInt8=function(t,e){return e||H(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},_.prototype.readInt16LE=function(t,e){e||H(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},_.prototype.readInt16BE=function(t,e){e||H(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},_.prototype.readInt32LE=function(t,e){return e||H(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},_.prototype.readInt32BE=function(t,e){return e||H(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},_.prototype.readFloatLE=function(t,e){return e||H(t,4,this.length),w(this,t,!0,23,4)},_.prototype.readFloatBE=function(t,e){return e||H(t,4,this.length),w(this,t,!1,23,4)},_.prototype.readDoubleLE=function(t,e){return e||H(t,8,this.length),w(this,t,!0,52,8)},_.prototype.readDoubleBE=function(t,e){return e||H(t,8,this.length),w(this,t,!1,52,8)},_.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||W(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},_.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||W(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},_.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,1,255,0),_.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},_.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):J(this,t,e,!0),e+2},_.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):J(this,t,e,!1),e+2},_.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,4,4294967295,0),_.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):X(this,t,e,!0),e+4},_.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,4,4294967295,0),_.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):X(this,t,e,!1),e+4},_.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);W(this,t,e,n,i-1,-i)}var o=0,s=1,u=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/s>>0)-u&255;return e+n},_.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);W(this,t,e,n,i-1,-i)}var o=n-1,s=1,u=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/s>>0)-u&255;return e+n},_.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,1,127,-128),_.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},_.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):J(this,t,e,!0),e+2},_.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):J(this,t,e,!1),e+2},_.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,4,2147483647,-2147483648),_.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):X(this,t,e,!0),e+4},_.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||W(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),_.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):X(this,t,e,!1),e+4},_.prototype.writeFloatLE=function(t,e,n){return Q(this,t,e,!0,n)},_.prototype.writeFloatBE=function(t,e,n){return Q(this,t,e,!1,n)},_.prototype.writeDoubleLE=function(t,e,n){return $(this,t,e,!0,n)},_.prototype.writeDoubleBE=function(t,e,n){return $(this,t,e,!1,n)},_.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!_.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},_.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!_.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=L(t)?t:nt(new _(t,r).toString()),u=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g;function et(t){return t<16?"0"+t.toString(16):t.toString(16)}function nt(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function rt(t){return function(t){var e,n,r,i,o,s;l||g();var u=t.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[u-2]?2:"="===t[u-1]?1:0,s=new c(3*u/4-o),r=o>0?u-4:u;var h=0;for(e=0,n=0;e<r;e+=4,n+=3)i=f[t.charCodeAt(e)]<<18|f[t.charCodeAt(e+1)]<<12|f[t.charCodeAt(e+2)]<<6|f[t.charCodeAt(e+3)],s[h++]=i>>16&255,s[h++]=i>>8&255,s[h++]=255&i;return 2===o?(i=f[t.charCodeAt(e)]<<2|f[t.charCodeAt(e+1)]>>4,s[h++]=255&i):1===o&&(i=f[t.charCodeAt(e)]<<10|f[t.charCodeAt(e+1)]<<4|f[t.charCodeAt(e+2)]>>2,s[h++]=i>>8&255,s[h++]=255&i),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(tt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function it(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function ot(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var st=null;try{st=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ut(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function ht(t){return!0===(t&&t.__isLong__)}function at(t){var e=Math.clz32(t&-t);return t?31-e:e}ut.prototype.__isLong__,Object.defineProperty(ut.prototype,"__isLong__",{value:!0}),ut.isLong=ht;var ft={},ct={};function lt(t,e){var n,r,i;return e?(i=0<=(t>>>=0)&&t<256)&&(r=ct[t])?r:(n=dt(t,0,!0),i&&(ct[t]=n),n):(i=-128<=(t|=0)&&t<128)&&(r=ft[t])?r:(n=dt(t,t<0?-1:0,!1),i&&(ft[t]=n),n)}function gt(t,e){if(isNaN(t))return e?At:_t;if(e){if(t<0)return At;if(t>=mt)return Lt}else{if(t<=-Et)return Pt;if(t+1>=Et)return Tt}return t<0?gt(-t,e).neg():dt(t%yt|0,t/yt|0,e)}function dt(t,e,n){return new ut(t,e,n)}ut.fromInt=lt,ut.fromNumber=gt,ut.fromBits=dt;var pt=Math.pow;function wt(t,e,n){if(0===t.length)throw Error("empty string");if("number"==typeof e?(n=e,e=!1):e=!!e,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e?At:_t;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return wt(t.substring(1),e,n).neg();for(var i=gt(pt(n,8)),o=_t,s=0;s<t.length;s+=8){var u=Math.min(8,t.length-s),h=parseInt(t.substring(s,s+u),n);if(u<8){var a=gt(pt(n,u));o=o.mul(a).add(gt(h))}else o=(o=o.mul(i)).add(gt(h))}return o.unsigned=e,o}function vt(t,e){return"number"==typeof t?gt(t,e):"string"==typeof t?wt(t,e):dt(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}ut.fromString=wt,ut.fromValue=vt;var yt=4294967296,mt=yt*yt,Et=mt/2,bt=lt(1<<24),_t=lt(0);ut.ZERO=_t;var At=lt(0,!0);ut.UZERO=At;var Ut=lt(1);ut.ONE=Ut;var It=lt(1,!0);ut.UONE=It;var Rt=lt(-1);ut.NEG_ONE=Rt;var Tt=dt(-1,2147483647,!1);ut.MAX_VALUE=Tt;var Lt=dt(-1,-1,!0);ut.MAX_UNSIGNED_VALUE=Lt;var Pt=dt(0,-2147483648,!1);ut.MIN_VALUE=Pt;var Bt=ut.prototype;Bt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Bt.toNumber=function(){return this.unsigned?(this.high>>>0)*yt+(this.low>>>0):this.high*yt+(this.low>>>0)},Bt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Pt)){var e=gt(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=gt(pt(t,6),this.unsigned),o=this,s="";;){var u=o.div(i),h=(o.sub(u.mul(i)).toInt()>>>0).toString(t);if((o=u).isZero())return h+s;for(;h.length<6;)h="0"+h;s=""+h+s}},Bt.getHighBits=function(){return this.high},Bt.getHighBitsUnsigned=function(){return this.high>>>0},Bt.getLowBits=function(){return this.low},Bt.getLowBitsUnsigned=function(){return this.low>>>0},Bt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Pt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},Bt.isZero=function(){return 0===this.high&&0===this.low},Bt.eqz=Bt.isZero,Bt.isNegative=function(){return!this.unsigned&&this.high<0},Bt.isPositive=function(){return this.unsigned||this.high>=0},Bt.isOdd=function(){return 1==(1&this.low)},Bt.isEven=function(){return 0==(1&this.low)},Bt.equals=function(t){return ht(t)||(t=vt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Bt.eq=Bt.equals,Bt.notEquals=function(t){return!this.eq(t)},Bt.neq=Bt.notEquals,Bt.ne=Bt.notEquals,Bt.lessThan=function(t){return this.comp(t)<0},Bt.lt=Bt.lessThan,Bt.lessThanOrEqual=function(t){return this.comp(t)<=0},Bt.lte=Bt.lessThanOrEqual,Bt.le=Bt.lessThanOrEqual,Bt.greaterThan=function(t){return this.comp(t)>0},Bt.gt=Bt.greaterThan,Bt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Bt.gte=Bt.greaterThanOrEqual,Bt.ge=Bt.greaterThanOrEqual,Bt.compare=function(t){if(ht(t)||(t=vt(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Bt.comp=Bt.compare,Bt.negate=function(){return!this.unsigned&&this.eq(Pt)?Pt:this.not().add(Ut)},Bt.neg=Bt.negate,Bt.add=function(t){ht(t)||(t=vt(t));var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=t.high>>>16,s=65535&t.high,u=t.low>>>16,h=0,a=0,f=0,c=0;return f+=(c+=i+(65535&t.low))>>>16,a+=(f+=r+u)>>>16,h+=(a+=n+s)>>>16,h+=e+o,dt((f&=65535)<<16|(c&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Bt.subtract=function(t){return ht(t)||(t=vt(t)),this.add(t.neg())},Bt.sub=Bt.subtract,Bt.multiply=function(t){if(this.isZero())return this;if(ht(t)||(t=vt(t)),st)return dt(st.mul(this.low,this.high,t.low,t.high),st.get_high(),this.unsigned);if(t.isZero())return this.unsigned?At:_t;if(this.eq(Pt))return t.isOdd()?Pt:_t;if(t.eq(Pt))return this.isOdd()?Pt:_t;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(bt)&&t.lt(bt))return gt(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=t.high>>>16,s=65535&t.high,u=t.low>>>16,h=65535&t.low,a=0,f=0,c=0,l=0;return c+=(l+=i*h)>>>16,f+=(c+=r*h)>>>16,c&=65535,f+=(c+=i*u)>>>16,a+=(f+=n*h)>>>16,f&=65535,a+=(f+=r*u)>>>16,f&=65535,a+=(f+=i*s)>>>16,a+=e*h+n*u+r*s+i*o,dt((c&=65535)<<16|(l&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Bt.mul=Bt.multiply,Bt.divide=function(t){if(ht(t)||(t=vt(t)),t.isZero())throw Error("division by zero");var e,n,r;if(st)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?dt((this.unsigned?st.div_u:st.div_s)(this.low,this.high,t.low,t.high),st.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?At:_t;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return At;if(t.gt(this.shru(1)))return It;r=At}else{if(this.eq(Pt))return t.eq(Ut)||t.eq(Rt)?Pt:t.eq(Pt)?Ut:(e=this.shr(1).div(t).shl(1)).eq(_t)?t.isNegative()?Ut:Rt:(n=this.sub(t.mul(e)),r=e.add(n.div(t)));if(t.eq(Pt))return this.unsigned?At:_t;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=_t}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var i=Math.ceil(Math.log(e)/Math.LN2),o=i<=48?1:pt(2,i-48),s=gt(e),u=s.mul(t);u.isNegative()||u.gt(n);)u=(s=gt(e-=o,this.unsigned)).mul(t);s.isZero()&&(s=Ut),r=r.add(s),n=n.sub(u)}return r},Bt.div=Bt.divide,Bt.modulo=function(t){return ht(t)||(t=vt(t)),st?dt((this.unsigned?st.rem_u:st.rem_s)(this.low,this.high,t.low,t.high),st.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Bt.mod=Bt.modulo,Bt.rem=Bt.modulo,Bt.not=function(){return dt(~this.low,~this.high,this.unsigned)},Bt.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Bt.clz=Bt.countLeadingZeros,Bt.countTrailingZeros=function(){return this.low?at(this.low):at(this.high)+32},Bt.ctz=Bt.countTrailingZeros,Bt.and=function(t){return ht(t)||(t=vt(t)),dt(this.low&t.low,this.high&t.high,this.unsigned)},Bt.or=function(t){return ht(t)||(t=vt(t)),dt(this.low|t.low,this.high|t.high,this.unsigned)},Bt.xor=function(t){return ht(t)||(t=vt(t)),dt(this.low^t.low,this.high^t.high,this.unsigned)},Bt.shiftLeft=function(t){return ht(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?dt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):dt(0,this.low<<t-32,this.unsigned)},Bt.shl=Bt.shiftLeft,Bt.shiftRight=function(t){return ht(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?dt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):dt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Bt.shr=Bt.shiftRight,Bt.shiftRightUnsigned=function(t){return ht(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?dt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):dt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Bt.shru=Bt.shiftRightUnsigned,Bt.shr_u=Bt.shiftRightUnsigned,Bt.rotateLeft=function(t){var e;return ht(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?dt(this.high,this.low,this.unsigned):t<32?(e=32-t,dt(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)):(e=32-(t-=32),dt(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned))},Bt.rotl=Bt.rotateLeft,Bt.rotateRight=function(t){var e;return ht(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?dt(this.high,this.low,this.unsigned):t<32?(e=32-t,dt(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)):(e=32-(t-=32),dt(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned))},Bt.rotr=Bt.rotateRight,Bt.toSigned=function(){return this.unsigned?dt(this.low,this.high,!1):this},Bt.toUnsigned=function(){return this.unsigned?this:dt(this.low,this.high,!0)},Bt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Bt.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Bt.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},ut.fromBytes=function(t,e,n){return n?ut.fromBytesLE(t,e):ut.fromBytesBE(t,e)},ut.fromBytesLE=function(t,e){return new ut(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},ut.fromBytesBE=function(t,e){return new ut(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};var St=new ut(3735928559,3735928559,!0),xt=96,Ot=function(t,e){return t.shl(e).or(t.shru(64-e))},Nt=function(t,e,n,r){var i=(n+1)%12,o=(n+2)%12,s=(n+11)%12,u=(n+10)%12;e[n]=e[n].add(t[n]),e[o]=e[o].xor(e[u]),e[s]=e[s].xor(e[n]),e[n]=Ot(e[n],r),e[s]=e[s].add(e[i])},Mt=function(t,e){Nt(t,e,0,11),Nt(t,e,1,32),Nt(t,e,2,43),Nt(t,e,3,31),Nt(t,e,4,17),Nt(t,e,5,28),Nt(t,e,6,39),Nt(t,e,7,57),Nt(t,e,8,55),Nt(t,e,9,54),Nt(t,e,10,22),Nt(t,e,11,46)},qt=function(t,e,n){var r=(e+1)%12,i=(e+2)%12,o=(e+11)%12;t[o]=t[o].add(t[r]),t[i]=t[i].xor(t[o]),t[r]=Ot(t[r],n)},Dt=function(t){qt(t,0,44),qt(t,1,15),qt(t,2,34),qt(t,3,21),qt(t,4,38),qt(t,5,33),qt(t,6,10),qt(t,7,13),qt(t,8,38),qt(t,9,53),qt(t,10,42),qt(t,11,54)},Yt=function(t,e,n){var r=(e+2)%4,i=(e+3)%4;t[r]=Ot(t[r],n),t[r]=t[r].add(t[i]),t[e]=t[e].xor(t[r])},Ct=function(t){Yt(t,0,50),Yt(t,1,52),Yt(t,2,30),Yt(t,3,41),Yt(t,0,54),Yt(t,1,48),Yt(t,2,38),Yt(t,3,37),Yt(t,0,62),Yt(t,1,34),Yt(t,2,5),Yt(t,3,36)},kt=function(t,e,n){var r=(e+2)%4,i=(e+3)%4;t[i]=t[i].xor(t[r]),t[r]=Ot(t[r],n),t[i]=t[i].add(t[r])},Zt=function(t,e,n){var r,i,o=t.length%32,s=[e,n,St,St],u=0;if(t.length>15){for(var h=t.length>>5,a=0;a<h;a++)r=t.readUIntLE(u,4),u+=4,i=t.readUIntLE(u,4),u+=4,s[2]=s[2].add(new ut(r,i)),r=t.readUIntLE(u,4),u+=4,i=t.readUIntLE(u,4),u+=4,s[3]=s[3].add(new ut(r,i)),Ct(s),r=t.readUIntLE(u,4),u+=4,i=t.readUIntLE(u,4),u+=4,s[0]=s[0].add(new ut(r,i)),r=t.readUIntLE(u,4),u+=4,i=t.readUIntLE(u,4),u+=4,s[1]=s[1].add(new ut(r,i));o>15&&(r=t.readUIntLE(u,4),u+=4,i=t.readUIntLE(u,4),u+=4,s[2]=s[2].add(new ut(r,i)),r=t.readUIntLE(u,4),u+=4,i=t.readUIntLE(u,4),u+=4,s[3]=s[3].add(new ut(r,i)),Ct(s),o-=16)}var f=t.length-o;switch(i=t.length<<24,r=0,s[3]=s[3].add(new ut(r,i)),i=0,o){case 15:u=f+14,i=t.readUIntLE(u,1)<<16,s[3]=s[3].add(new ut(0,i));case 14:u=f+13,i=t.readUIntLE(u,1)<<8,s[3]=s[3].add(new ut(0,i));case 13:u=f+12,i=t.readUIntLE(u,1),s[3]=s[3].add(new ut(0,i));case 12:u=f+8,r=t.readUIntLE(u,4),s[3]=s[3].add(new ut(r,0)),r=t.readUIntLE(f+0,4),i=t.readUIntLE(f+4,4),s[2]=s[2].add(new ut(r,i));break;case 11:u=f+10,r=t.readUIntLE(u,1)<<16,s[3]=s[3].add(new ut(r,0));case 10:u=f+9,r=t.readUIntLE(u,1)<<8,s[3]=s[3].add(new ut(r,0));case 9:u=f+8,r=t.readUIntLE(u,1),s[3]=s[3].add(new ut(r,0));case 8:r=t.readUIntLE(f+0,4),i=t.readUIntLE(f+4,4),s[2]=s[2].add(new ut(r,i));break;case 7:u=f+6,i=t.readUIntLE(u,1)<<16,s[2]=s[2].add(new ut(0,i));case 6:u=f+5,i=t.readUIntLE(u,1)<<8,s[2]=s[2].add(new ut(0,i));case 5:u=f+4,i=t.readUIntLE(u,1),s[2]=s[2].add(new ut(0,i));case 4:r=t.readUIntLE(f+0,4),s[2]=s[2].add(new ut(r,0));break;case 3:u=f+2,r=t.readUIntLE(u,1)<<16,s[2]=s[2].add(new ut(r,0));case 2:u=f+1,r=t.readUIntLE(u,1)<<8,s[2]=s[2].add(new ut(r,0));case 1:u=f+0,r=t.readUIntLE(u,1),s[2]=s[2].add(new ut(r,0));break;case 0:s[2]=s[2].add(St),s[3]=s[3].add(St)}return function(t){kt(t,0,15),kt(t,1,52),kt(t,2,26),kt(t,3,51),kt(t,0,28),kt(t,1,9),kt(t,2,47),kt(t,3,54),kt(t,0,32),kt(t,1,25),kt(t,2,63)}(s),{hash1:s[0],hash2:s[1]}},zt=function(t,e,n){if(null==e&&(e=new ut(0,0,!0)),null==n&&(n=new ut(0,0,!0)),console.assert(ut.isLong(e),"seed1 need to be Long"),console.assert(ut.isLong(e),"seed1 need to be Long"),console.assert(_.isBuffer(t),"msg need to be a Buffer"),t.length<192)return Zt(t,e,n);var r=[];r[0]=r[3]=r[6]=r[9]=e,r[1]=r[4]=r[7]=r[10]=n,r[2]=r[5]=r[8]=r[11]=St;for(var i,o,s,u,h=[],a=t.length/xt|0,f=t.length-a*xt,c=0;c/xt<a;){for(o=t.slice(c,c+xt),i=0;i<12;i++)s=o.readUIntLE(8*i,4),u=o.readUIntLE(8*i+4,4),h[i]=new ut(s,u);Mt(h,r),c+=xt}for(o=_.alloc(xt),t.copy(o,0,c),o.writeUInt8(f,95),i=0;i<12;i++)s=o.readUIntLE(8*i,4),u=o.readUIntLE(8*i+4,4),h[i]=new ut(s,u);return function(t,e){e.forEach((function(n,r){e[r]=e[r].add(t[r])})),Dt(e),Dt(e),Dt(e)}(h,r),{hash1:r[0],hash2:r[1]}},Ft=function(t){return function(t,e,n){return zt(t,e,n).hash1}(_.from(t),void 0,void 0)},jt=function(){function t(t){this.config=t}return t.prototype.isRequestSatisfied=function(t){var e=this.config.audience_group;return!Array.isArray(e)||0===e.length||!(!t||0===Object.keys(t).length)&&e.every((function(e){return Object.entries(e.value).every((function(e){var n=e[0],r=e[1];return Gt(Vt(t[n]),r)}))}))},t.prototype._contextSatisfiesAllowListItem=function(t,e){var n,r=null==e?void 0:e.values;if(!t||!Array.isArray(r))return!1;var i=Vt(t);null===(n=e.op)||void 0===n||n.toUpperCase();return Gt(i,r)},t.prototype.treatmentFromAllowList=function(t){var e=this,n=this.config.treatments;if(t&&Array.isArray(n))return n.find((function(n){var r,i=null===(r=null==n?void 0:n.whitelist)||void 0===r?void 0:r.items;return!(Object.keys(null!=i?i:{}).length<1)&&Object.entries(i).every((function(n){var r=n[0],i=n[1];return e._contextSatisfiesAllowListItem(t[r],i)}))}))},t}();function Vt(t){return Array.isArray(t)?t:(null!=t?t:"").split(",").map((function(t){return t.trim()}))}function Gt(t,e){return t.some((function(t){return e.some((function(e){return t.toUpperCase()===e.toUpperCase()}))}))}function Ht(t,e){return new Wt(t,e).getDecision()}var Wt=function(){function t(t,e){this.config=t,this.request=e}return t.prototype._isControlTreatment=function(t){var e,n;if(!t)return!1;var r=null===(n=null===(e=this.config.treatments)||void 0===e?void 0:e.find((function(t){return"C"===t.title})))||void 0===n?void 0:n.treatment_id;return!!r&&t===r},t.prototype._getDefaultDecision=function(t){var e,n,r=this.config.default_treatment,i=null===(n=null===(e=this.config.treatments)||void 0===e?void 0:e.find((function(t){return t.treatment_id===r})))||void 0===n?void 0:n.title,o=this.config.published,s={status:"success",control:this._isControlTreatment(r),treatmentId:null!=r?r:"",label:null!=i?i:"",active:!0===o};return t&&(s.message=t,!1!==o&&(s.status="error")),s},t.prototype._decisionFromTreatment=function(t){if(t)return{status:"success",control:this._isControlTreatment(t.treatment_id),treatmentId:t.treatment_id,label:t.title,active:this.config.published}},t.prototype._getTreatmentTotalAllocation=function(){var t=0;return this.config.treatments&&(t=this.config.treatments.reduce((function(t,e){return t+e.traffic_percentage}),t),t=Math.min(t,100)),t},t.prototype._getAllocationForRequest=function(t){var e;if(t<=0)throw new Error("Total allocation space for experiment is <= 0");var n=null!==(e=this.request.seedId)&&void 0!==e?e:h(),r="".concat(this.request.experimentId).concat(n),i=Ft(r);return Number(i.mod(t))+1},t.prototype._findRandomTreatment=function(t){var e,n,r=0,i=null===(e=this.config.treatments)||void 0===e?void 0:e.find((function(e){return r+=e.traffic_percentage,t<=r}));return null!=i||(i=null===(n=this.config.treatments)||void 0===n?void 0:n.at(-1)),i},t.prototype._splitTraffic=function(){var t=this._getTreatmentTotalAllocation(),e=this._getAllocationForRequest(t),n=this._findRandomTreatment(e);return this._decisionFromTreatment(n)},t.prototype._decide=function(){var e={status:"error",active:!1,treatmentId:"",label:"C",control:!0};if(!this.config)return e.message="config parameter undefined",e;if(!this.request)return e.message="request parameter undefined",e;if(this.config.experiment_id!==this.request.experimentId)return e.message="Experiment ID request/cfg mismatch: ".concat(this.config.experiment_id,", req: ").concat(this.request.experimentId),e;if(!this.config.published)throw new Error("experiment has not been activated/published");if(this.config.algorithm_type===t.ThompsonSampling)throw new Error("".concat(t.ThompsonSampling," is not supported yet"));var n=new jt(this.config);if(!n.isRequestSatisfied(this.request.context)){var r=this._getDefaultDecision("Audience requirements not met");return r.active=!1,r.status="success",r}var i=n.treatmentFromAllowList(this.request.context),o=this._decisionFromTreatment(i);return null!=o||(o=this._splitTraffic()),null!=o||(o=this._getDefaultDecision("failed to select a treatment bucket")),o},t.prototype._handleError=function(t){var e;return t instanceof Error?(e=t.message,console.log("Warn: ".concat(t.name," - ").concat(t.message))):console.log("Received error with undefined message"),e},t.prototype.getDecision=function(){var t,e;try{t=this._decide()}catch(t){e=this._handleError(t)}return null!=t?t:this._getDefaultDecision(e)},t.ThompsonSampling="THOMPSON_SAMPLING",t}(),Jt=function(){function n(t){this.trackUrl=t}return n.prototype.track=function(n,r){var i,o;return t(this,void 0,void 0,(function(){var t,s,u,h;return e(this,(function(e){switch(e.label){case 0:t=JSON.stringify({experiment_id:n.experimentId,treatment_id:r.treatmentId,seed_id:n.seedId,profile_id:null===(i=n.context)||void 0===i?void 0:i.profileId,user_id:null===(o=n.context)||void 0===o?void 0:o.userId}),s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(this.trackUrl,s)];case 2:return(u=e.sent()).ok||console.warn("track response not successful:",u),[3,4];case 3:return h=e.sent(),console.warn("Caught error during fetch():",h),[3,4];case 4:return[2]}}))}))},n}(),Xt=function(){function t(t,e){this.config=t,this.experimentConfig=e,this.tracker=new Jt(t.trackUrl)}return t.prototype.getDecision=function(t){var e=Ht(this.experimentConfig,t);return"success"===e.status&&!1!==e.active&&this.tracker.track(t,e),e},t}();function Kt(t,e){return new Xt(t,e)}export{Kt as NewSDK,n as getExperimentConfig,Ht as getExperimentDecision};
//# sourceMappingURL=labs-sdk-prod.js.map
