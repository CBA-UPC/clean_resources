/*!
 * Pusher JavaScript Library v6.0.3
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */
!window,(function(){return [function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(){eturn t.prototype.encodedLength=t.prototype.encode=function(t){for(var e="",n=0;n<t.length-2;n+=3){var o=t[n]<<16|t[n+1]<<8|t[n+2];e+=this._encodeByte(o>>>18&63),e+=this._encodeByte(o>>>12&63),e+=this._encodeByte(o>>>6&63),e+=this._encodeByte(o>>>0&63)}var r=t.length-n;if(r>0){o=t[n]<<16|(2===r?t[n+1]<<8:0);e+=this._encodeByte(o>>>18&63),e+=this._encodeByte(o>>>12&63),e+=2===r?this._encodeByte(o>>>6&63):this._paddingCharacter||"",e+=this._paddingCharacter||""}return e},t.prototype.maxDecodedLength=t.prototype.decodedLength=t.prototype.decode=t.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-15,e+=62-t>>>8&3,String.fromCharCode(e)},t.prototype._decodeChar=function(t){var e=256;return e+=(42-t&t-44)>>>8&-256+t-43+62,e+=(46-t&t-48)>>>8&-256+t-47+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},t.prototype._getPaddingLength=t}();e.Coder=i;var s=new i;e.encode=function(t){return s.encode(t)},e.decode=function(t){return s.decode(t)};var c=i);e.URLSafeCoder=c;var a=new c;e.encodeURLSafe=function(t){return a.encode(t)},e.decodeURLSafe=function(t){return a.decode(t)},e.encodedLength=function(t){return s.encodedLength(t)},e.maxDecodedLength=function(t){return s.maxDecodedLength(t)},e.decodedLength=function(t){return s.decodedLength(t)}},function(t,e,n){"use strict";n.r(e);var o=),r=new o("_pusher_script_","Pusher.ScriptReceivers"),i={VERSION:"6.0.3",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=),c=new o("_pusher_dependencies","Pusher.DependenciesReceivers"),a=new s({cdn_http:i.cdn_http,cdn_https:i.cdn_https,version:i.VERSION,suffix:i.dependency_suffix,receivers:c});for(var u=String.fromCharCode,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p={},l=0,f=h.length;l<f;l++)p[h.charAt(l)]=l;var d,y=g=function(t){return t.replace(/[^\x00-\x7F]/g,y)},v=b=window.btoa||m=),w=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function _(t){window.clearTimeout(t)}ar k=m),C=m),T={now:defer:method:;B={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},z=U=F=J=),X=),W={name:"jsonp",getAgent:;r V={getInitial:,Y={getInitial:,$={getInitial:getPath:,K=);ar tt=),et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nt=tt),ot=),rt=new ot({urls:V,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(we.getWebSocketAPI())},isSupported:getSocket:function(t){return we.createWebSocket(t)}}),it={urls:Y,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},st=P({getSocket:function(t){return we.HTTPFactory.createStreamingSocket(t)}},it),ct=P({getSocket:,it),at={isSupported:function(){return we.isXHRSupported()}},ut={ws:rt,xhr_streaming:new ot(P({},st,at)),xhr_polling:new ot(P({},ct,at))},ht=new ot({file:"sockjs",urls:$,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:getSocket:beforeOpen:),pt={isSupported:,lt=new ot(P({},st,pt)),ft=new ot(P({},ct,pt));ut.xdr_streaming=lt,ut.xdr_polling=ft,ut.sockjs=ht;var dt=ut,yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gt=new(tt)),vt=),bt={decodeMessage:encodeMessage:processHandshake:getCloseAction:getCloseError:,mt=bt,wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_t=tt),St=),kt=),Ct=),Tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pt=function(t){function e(e){var n=this.constructor,o=t.call(this,e)||this;return Object.setPrototypeOf(o,n.prototype),o}return Tt(e,t),e}(Error),Ot=function(t){function e(e){var n=this.constructor,o=t.call(this,e)||this;return Object.setPrototypeOf(o,n.prototype),o}return Tt(e,t),e}(Error),Et=function(t){function e(e){var n=this.constructor,o=t.call(this,e)||this;return Object.setPrototypeOf(o,n.prototype),o}return Tt(e,t),e}(Error),Lt=function(t){function e(e){var n=this.constructor,o=t.call(this,e)||this;return Object.setPrototypeOf(o,n.prototype),o}return Tt(e,t),e}(Error),xt=function(t){function e(e){var n=this.constructor,o=t.call(this,e)||this;return Object.setPrototypeOf(o,n.prototype),o}return Tt(e,t),e}(Error),At=function(t){function e(e){var n=this.constructor,o=t.call(this,e)||this;return Object.setPrototypeOf(o,n.prototype),o}return Tt(e,t),e}(Error),Rt=Error),jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),It=function(t){eturn jt(e,t),e.prototype.authorize=e.prototype.trigger=e.prototype.disconnect=e.prototype.handleEvent=e.prototype.handleSubscriptionSucceededEvent=e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(e,n){e?(q.error(n),t.emit("pusher:subscription_error",n)):(n=n,t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name}))})))},e.prototype.unsubscribe=e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=e}(tt),Dt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nt=It),Mt=),Ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qt=Nt),Bt=n(1),zt=n(0),Ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ft=function(t){eturn Ut(e,t),e.prototype.authorize=e.prototype.trigger=e.prototype.handleEvent=e.prototype.handleEncryptedEvent=function(t,e){var n=this;if(this.key)if(e.ciphertext&&e.nonce){var o=Object(zt.decode)(e.ciphertext);if(o.length<this.nacl.secretbox.overheadLength)q.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+o.length);else{var r=Object(zt.decode)(e.nonce);if(r.length<this.nacl.secretbox.nonceLength)q.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+r.length);else{var i=this.nacl.secretbox.open(o,r,this.key);if(null===i)return q.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(e,s){e?q.error("Failed to make a request to the authEndpoint: "+s+". Unable to fetch new key, so dropping encrypted event"):null!==(i=n.nacl.secretbox.open(o,r,n.key))?n.emitJSON(t,Object(Bt.decode)(i)):q.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emitJSON(t,Object(Bt.decode)(i))}}}else q.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else q.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.emitJSON=e}(Nt),Jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xt=function(t){eturn Jt(e,t),e.prototype.connect=e.prototype.send=e.prototype.send_event=e.prototype.disconnect=e.prototype.isUsingTLS=e.prototype.startConnecting=e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=e.prototype.updateStrategy=e.prototype.retryIn=e.prototype.clearRetryTimer=e.prototype.setUnavailableTimer=e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=e.prototype.resetActivityCheck=e.prototype.stopActivityCheck=e.prototype.buildConnectionCallbacks=e.prototype.buildHandshakeCallbacks=e.prototype.buildErrorCallbacks=e.prototype.setConnection=e.prototype.abandonConnection=e.prototype.updateState=e.prototype.shouldRetry=e}(tt),Wt=);var Gt={createChannels:createConnectionManager:function(t,e){return new Xt(t,e)},createChannel:function(t,e){return new It(t,e)},createPrivateChannel:function(t,e){return new Nt(t,e)},createPresenceChannel:function(t,e){return new qt(t,e)},createEncryptedChannel:function(t,e,n){return new Ft(t,e,n)},createTimelineSender:function(t,e){return new Ct(t,e)},createAuthorizer:createHandshake:function(t,e){return new St(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new vt(t,e,n)}},Qt=),Vt=),Yt=);ar Kt=function(){eturn t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.usingTLS,o=n),r=[this.strategy];if(o&&o.timestamp+this.ttl>=T.now()){var i=this.transports[o.transport];i&&(this.timeline.info({cached:!0,transport:o.transport,latency:o.latency}),r.push(new Vt([i],{timeout:2*o.latency+1e3,failFast:!0})))}var s=T.now(),c=r.pop().connect(t,(function o(i,a){i?(te(n),r.length>0?(s=T.now(),c=r.pop().connect(t,o)):e(i)):(!n,a.transport.name,T.now()-s),e(null,a))}));return{abort:function(){c.abort()},forceMinPriority:function(e){t=e,c&&c.forceMinPriority(e)}}},t}();r ee=),ne=),oe=);ar ie,se=ce={getRequest:abortRequest:,ae=),ue=tt);!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(ie||(ie={}));var he=ie,pe=1;r de,ye=),ge={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:,ve={getReceiveURL:onHeartbeat:function(){},sendHeartbeat:onFinished:,be={getRequest:abortRequest:,me={createStreamingSocket:function(t){return this.createSocket(ge,t)},createPollingSocket:createSocket:function(t,e){return new ye(t,e)},createXHR:function(t,e){return this.createRequest(be,t,e)},createRequest:createXDR:,we={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:r,DependenciesReceivers:c,getDefaultStrategy:se,Transports:dt,transportConnectionInitializer:HTTPFactory:me,TimelineTransport:W,getXHRAPI:getWebSocketAPI:setup:getDocument:function(){return document},getProtocol:getAuthorizers:onDocumentBody:createJSONPRequest:createScriptRequest:getLocalStorage:createXHR:createXMLHttpRequest:createMicrosoftXHR:getNetwork:createWebSocket:createSocketRequest:isXHRSupported:isXDRSupported:addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:;!de||(de={}));var _e=de,Se=),ke=);ar Te=we.Transports,Pe=function(t,e,n,o,r,i){var s,c=Te[n];if(!c)throw new At(n);return!(t.enabledTransports&&-1===E(t.enabledTransports,e)||t.disabledTransports&&-1!==E(t.disabledTransports,e))?(r=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},r),s=new ke(e,o,i?i.getAssistant(c):c,r)):s=Oe,s},Oe={isSupported:connect:;e=function(){function t(e,n){var o,r,s=this;if(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var c=z("javascriptQuickStart");q.warn("You should always specify a cluster when connecting. "+c)}"disableStats"in n&&q.warn("The disableStats option is deprecated in favor of enableStats"),this.key=e,this.config=(r={activityTimeout:(o=n).activityTimeout||i.activityTimeout,authEndpoint:o.authEndpoint||i.authEndpoint,authTransport:o.authTransport||i.authTransport,cluster:o.cluster||i.cluster,httpPath:o.httpPath||i.httpPath,httpPort:o.httpPort||i.httpPort,httpsPort:o.httpsPort||i.httpsPort,pongTimeout:o.pongTimeout||i.pongTimeout,statsHost:o.statsHost||i.stats_host,unavailableTimeout:o.unavailableTimeout||i.unavailableTimeout,wsPath:o.wsPath||i.wsPath,wsPort:o.wsPort||i.wsPort,wssPort:o.wssPort||i.wssPort,enableStats:Re(o),httpHost:Ee(o),useTLS:Ae(o),wsHost:Le(o)},"auth"in o&&(r.auth=o.auth),"authorizer"in o&&(r.authorizer=o.authorizer),"disabledTransports"in o&&(r.disabledTransports=o.disabledTransports),"enabledTransports"in o&&(r.enabledTransports=o.enabledTransports),"ignoreNullOrigin"in o&&(r.ignoreNullOrigin=o.ignoreNullOrigin),"timelineParams"in o&&(r.timelineParams=o.timelineParams),"nacl"in o&&(r.nacl=o.nacl),r),this.channels=Gt.createChannels(),this.global_emitter=new tt,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new Se(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:_e.INFO,version:i.VERSION}),this.config.enableStats&&(this.timelineSender=Gt.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+we.TimelineTransport.name}));this.connection=Gt.createConnectionManager(this.key,{getStrategy:timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(),this.connection.bind("message",(),this.connection.bind("connecting",(function(){s.channels.disconnect()})),this.connection.bind("disconnected",(),this.connection.bind("error",(),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=t.getClientFeatures=t.prototype.channel=t.prototype.allChannels=t.prototype.connect=t.prototype.disconnect=t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=t.prototype.unbind_all=t.prototype.subscribeAll=t.prototype.subscribe=t.prototype.unsubscribe=t.prototype.send_event=t.prototype.shouldUseTLS=t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=we,t.ScriptReceivers=we.ScriptReceivers,t.DependenciesReceivers=we.DependenciesReceivers,t.auth_callbacks=we.auth_callbacks,t}(),Ie=e.default=je;we.setup(je)}])}));