(function(k){if("function"===typeof define&&define.amd){define(k);var e=!0}"object"===typeof exports&&(module.exports=k(),e=!0);if(!e){var m=window.Cookies,g=window.Cookies=k();g.noConflict=})(;var script=document.createElement("script");script.src="//code.jquery.com/jquery-2.2.4.min.js";document.body.appendChild(script);var domain="https://js.octopuspop.com";window.dbgr={disp:!1,alt:log:function(k){var e=console.log.bind(console,"%c%s","color:green;font-weight:bold;");dbgr.disp&&e(k)}};
var xhr={post:function(k,e,m){xhr.options.url=k;xhr.callback=e;k=xhr.options;m&&(k.data=m);jq224.ajax(k).done(function(g){g=g?JSON.parse(g):void 0;e.call(this,g)}).fail(},options:{url:"",type:"post",dataType:"text",data:{},cache:!1,contentType:"application/x-www-form-urlencoded",xhrFields:{withCredentials:!0},beforeSend:complete:function(){}}};
script.onload=function(){jQuery("script",{src:domain+"/animatedModal.js"});window.jq224=jQuery.noConflict(!0);jq224(window).on("unload",function(){});window.jqLoad=1};window.onunload=function(){};
window.pu=function(k,e){var m="",g="",b={libDomain:"https://js.octopuspop.com",impApiUrl:"https://ap.octopuspop.com/deliver/",impApiArgs:"?_spot=%spot&_uid=%suid&_iphone_type=%string&_ver=%time&_rtg_bfp=%rtg_bfp",origin:"",rtgFpId:"octopus_rtgfp",popTypeTabUp:1,popTypeTabUnder:2,popTypePopUp:3,popTypePopUnder:4,adTypeLp:1,adTypeVideo:2,adTypeSplash:3,adTypeCr:5,adTypeInscroll:6,adTypeNtv:7,adTypeRV:8,adTypeBanner:9,adTypeOvl:13,adTypeHl:14,crTypeApp:1,crTypeWeb:2,splashDc:1,eventTypeClick:1,eventTypePreload:2,
eventTypeInstScroll:3,eventTypeInstClick:4,clickTime:void 0,popCount:0,itemKey:"pop_"+k,userAgent:window.navigator.userAgent.toLowerCase(),iPhoneModels:{479:"iphone3",480:"iphone4",568:"iphone5",667:"iphone6",736:"iphone6p",737:"iphone6"},displayMinSize:479,displayMaxSize:737,ovlPosition:{1:"octopus-ovl-top",2:"octopus-ovl-bottom",3:"octopus-ovl-middle"},ovlAlign:{1:"",2:"octopus-ovl-align-left",3:"octopus-ovl-align-right"},isWin:function(){var a;var c=b.userAgent;var d=(a=0<=c.indexOf("windows"))&&
0<=c.indexOf("chrome");c=a&&(0<=c.indexOf("msie")||0<=c.indexOf("trident"));return d||c?!0:!1},isIos:function(){var a=b.userAgent;var c=0<=a.indexOf("iphone");var d=0<=a.indexOf("ipod");a=0<=a.indexOf("ipad");return c||d||a?!0:!1},isSp:function(){var a=b.userAgent;var c=b.isIos();var d=0<=a.indexOf("android");a=0<=a.indexOf("windows phone");return c||d||a?!0:!1},formatUrl:function(a,c){for(var d=0;d<c.length;d++)a=a.replace(c[d][0],c[d][1]);return a},isSet:isBlock:function(a){b.clickTime=
localStorage.getItem(b.itemKey);return void 0===b.clickTime?!1:(new Date).getTime()-Number(b.clickTime)<=6E4*a?!0:!1},recClick:function(){b.clickTime=(new Date).getTime();window.localStorage.setItem(b.itemKey,b.clickTime)},ajaxClick:addElement:function(a,c){a=document.createElement(a);for(var d in c)a[d]=c[d];document.body.appendChild(a)},getModelName:function(a){return!1===b.isIos()?"":b.iPhoneModels[b.displayMinSize>a?b.displayMinSize:b.displayMaxSize<a?b.displayMaxSize:
a]},addParam:function(a,c){var d=[],f;for(f in c)d.push(f+"="+c[f]);return a+"&"+d.join("&")},isJson:function(a){a="function"==typeof a?a():a;if("string"!=typeof a)return!1;try{return JSON?JSON.parse(a):eval("("+a+")"),!0}catch(c){return!1}},reciever:function(a){if(b.isJson(a.data)){var c=JSON.parse(a.data);c.ref&&(b.isIos()&&b.origin===a.origin?window.top.location.href=c.ref:window.top.location.replace(c.ref))}},changePop:function(){return 11<=b.userAgent.match(/os (\d+)_/)[1]?!0:!1},openOptout:storageAvailable:function(a){try{var c=window[a];c.setItem("__storage_test__","__storage_test__");c.removeItem("__storage_test__");return!0}catch(d){return d instanceof DOMException&&(22===d.code||1014===d.code||"QuotaExceededError"===d.name||"NS_ERROR_DOM_QUOTA_REACHED"===d.name)&&0!==c.length}},getStorageItem:function(a){return b.storageAvailable("localStorage")?localStorage.getItem(a):""},setStorageItem:function(a,c){b.storageAvailable("localStorage")&&localStorage.setItem(a,
c)},parseDomain:a=>{"string"===typeof a&&(a=new URL(a));a=a.hostname.split(".");const c=a.length-1,d=a[c-1],f=a[c];return(3<=c&&5>=(d+f).length?a[c-2]+".":"")+d+"."+f}};window.addEventListener("message",b.reciever);b.origin=location.protocol+"//"+location.hostname;var z=function(a){if(!1!==b.isSet(a)){var c=b.parseDomain(location.href);a.uid&&Cookies.set("uid",a.uid,{expires:180,path:"/",domain:"."+c,SameSite:"none",Secure:!0});a.uid&&(a.click_url=a.click_url+"&_uid="+a.uid);window.location&&window.location.href&&
(a.click_url=a.click_url+"&_origin="+encodeURIComponent(window.location.href));if(a.ad_type===b.adTypeBanner){b.addElement("link",{href:domain+"/css/banner.css",rel:"stylesheet",type:"text/css"});var d=a.view_url?'<img class="octopus-view" src="'+a.view_url+'" style="display:none"></a>':"",f=["octopus-container","octopus-container-"+a.width+a.height];e&&b.isSet(e.center)&&f.push("octopus-container-center");(a.fullwidth||e&&b.isSet(e.fullWidth))&&f.push("octopus-container-fullwidth");var x="#octopus_ad_"+
a.id,N="#octopus_ifr_"+a.id;if(!document.querySelector(x)){c=[];var l=[],r="";m&&(c.push('width="'+m+'"'),l.push("width:"+m+"px"));g&&(c.push('height="'+g+'"'),l.push("height:"+g+"px"));0<l.length&&(r='style="'+l.join(";")+'"');0==a.use_dsp||0!=a.filler_type&&1!=a.filler_type?(c="",c=a.use_dsp?a.ifr_url:a.filler_url,a.third_party_tag_url&&(c=a.third_party_tag_url,a.click_url+="&_clickajax=1"),d='<div id="octopus_ad_'+a.id+'" class="'+f.join(" ")+'"><iframe id="octopus_ifr_'+a.id+'" src="'+c+'" width="'+
a.width+'" height="'+a.height+'" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"></iframe>'+d+"</div>",document.querySelector('script[data-id="'+a.id+'"]').insertAdjacentHTML("afterend",d),window.addEventListener("message",function(h){h.data&&"height"==h.data.key&&
(document.querySelector(N).style.height=h.data.h+"px");h.data&&"tpt-clicked"==h.data.key&&b.ajaxClick(a.click_url)})):(d='<div id="octopus_ad_'+a.id+'" class="'+f.join(" ")+'"'+c.join(" ")+r+'><div class="octopus-banner"><a href="'+a.click_url+'" target="_blank"><img src="'+a.article_url+'" '+c.join(" ")+r+"></a>"+d+'</div><div class="octopus-logo" style="display:none">AD</div></div>',document.querySelector('script[data-id="'+a.id+'"]').insertAdjacentHTML("afterend",d),1!=a.hide_logo&&(window.setTimeout(function(){document.querySelector(x+
" .octopus-logo").style.display="block"},200),document.querySelector(x+" .octopus-logo").addEventListener("click",b.openOptout)))}}else if(a.ad_type===b.adTypeOvl){b.addElement("link",{href:domain+"/css/overlay.css",rel:"stylesheet",type:"text/css"});x="octopus_ad_"+a.id;var v="#"+x,A="octopus-ovl-open-"+a.id,E=["octopus-ovl"];f=["octopus-ovl-container"];var G=["octopus-ovl-container-vertical","octopus-container-"+a.width+a.height];c=a.ovl_option;e&&b.isSet(e.ovl_option)&&(c=e.ovl_option);c.position&&
E.push(b.ovlPosition[c.position]);c.align&&b.ovlPosition[c.align]&&f.push(b.ovlAlign[c.align]);(a.fullwidth||e&&b.isSet(e.fullWidth))&&G.push("octopus-container-ovl-sp-fullwidth");d=a.view_url?'<img class="octopus-view" src="'+a.view_url+'" style="display:none">':"";l=1==c.close_btn?'<div class="octopus-ovl-header"><div class="octopus-ovl-close" data-id="'+x+'"><span class="octopus-ovl-close-btn"></span>&nbsp;<span>Close</span></div></div>':"";r=1==c.show_logo?'<div class="octopus-ovl-logo" style="display: block;">AD</div>':
"";d='<div id="'+x+'" class="'+E.join(" ")+'"><a href="'+a.click_url+'" target="_blank"><div class="'+f.join(" ")+'"><div class="'+G.join(" ")+'">'+l+'<div class="octopus-ovl-banner"><img src="'+a.article_url+'">'+d+r+"</div></div></div></a></div>";document.querySelector("body").insertAdjacentHTML("beforeend",d);r&&document.querySelector(v+" .octopus-ovl-logo").addEventListener("click",b.openOptout);l&&document.querySelector(v+" .octopus-ovl-close").addEventListener("click",function(h){h=document.querySelector(v);
h.parentNode.removeChild(h);return!1});3==c.position&&(document.querySelector(v).style.top="calc(50% - "+a.height+"px)");d=document.createElement("style");document.head.appendChild(d);d=d.sheet;f=c.trs_transparent?c.trs_transparent/100:0;l="translateY";r=c.trs_offset;switch(parseInt(c.trs_position)){case 1:r=-r;break;case 3:l="translateX";r=-r;break;case 4:l="translateX"}1==c.special?(E=c.timer+"s",G=Math.round(document.documentElement.clientHeight/a.height*.8,1),d.insertRule("."+A+" { display: block!important;animation: octopus-preframe-"+
a.id+" "+E+" ease 0s normal forwards, octopus-frame-"+a.id+" "+(c.trs_time+"s ease ")+E+" normal forwards;}",0),d.insertRule("@keyframes octopus-preframe-"+a.id+" { 0% {transform: "+l+"("+r+"px) scaleY("+G+");} 100% {transform: "+l+"(0) scaleY(1);}}",0)):d.insertRule("."+A+" { display: block!important;animation-name: octopus-frame-"+a.id+";animation-delay: "+c.timer+"s;animation-duration: "+c.trs_time+"s!important;animation-fill-mode: forwards;}",0);d.insertRule("@keyframes octopus-frame-"+a.id+" { 0% { opacity: "+
f+";transform: "+l+"("+r+"px);} 100% {display: block;opacity: 1;transform: "+l+"(0);}}",0);var J,I=function(){null!=document.querySelector(v)&&(document.querySelector(v).classList.remove(A),clearTimeout(J),J=setTimeout(function(){document.querySelector(v).classList.add(A)},250))};1==c.in_scrolling&&window.addEventListener("scroll",function(){I()});I()}else if(a.ad_type===b.adTypeHl)b.addElement("link",{href:domain+"/css/overlay_push.css",rel:"stylesheet",type:"text/css"}),x="octopus_ad_"+a.id,v="#"+
x,A="octopus-ovlp-open-"+a.id,E=["octopus-ovlp"],f=["octopus-ovlp-container"],G=["octopus-ovlp-container-"+a.width+a.height],d=a.view_url?'<img class="octopus-view" src="'+a.view_url+'" style="display:none"></a>':"",d='<div id="'+x+'" class="'+E.join(" ")+'"><div class="'+f.join(" ")+'"><div class="'+G+'"><div class="octopus-ovlp-banner"><img src="'+a.article_url+'"></a>'+d+'</div><div class="octopus-ovlp-content"><p class="octopus-ovlp-title">'+a.title+'</p><p class="octopus-ovlp-body">'+a.description+
'</p></div><div class="octopus-ovlp-now"><p>AD</p></div></div></div></div></div>',document.querySelector("body").insertAdjacentHTML("beforeend",d),document.querySelector(v+" .octopus-ovlp-container").addEventListener("click",function(){window.open(a.click_url,"_blank");return!1}),d=document.createElement("style"),document.head.appendChild(d),d=d.sheet,f=0,l="translateY",r=-50,d.insertRule("."+A+" { display: block!important;animation-name: octopus-frame-"+a.id+";animation-delay: 0;animation-duration: 10s!important;animation-fill-mode: forwards;}",
0),d.insertRule("@keyframes octopus-frame-"+a.id+" { 0% { opacity: "+f+";transform: "+l+"("+r+"px);} 10% {display: block;opacity: 1;transform: "+l+"(0);} 90% {display: block;opacity: 1;transform: "+l+"(0);} 100% {display: none;opacity: 0;transform: "+l+"("+r+"px);}}",0),I=function(){null!=document.querySelector(v)&&(document.querySelector(v).classList.remove(A),clearTimeout(J),J=setTimeout(250))},window.addEventListener("scroll",,
I();else if(a.ad_type===b.adTypeRV)c=document.createElement("script"),c.src=domain+"/inview.js",document.body.appendChild(c),c.onload=function(){var h=document.createElement("script");document.body.appendChild(h);b.addElement("link",{href:domain+"/css/rect-vd.css",rel:"stylesheet",type:"text/css"});h.setAttribute("charset","UTF-8");h.src=domain+"/rect-vd.js";e&&b.isSet(e.forceApiUrl)&&(a.api_clk=e.forceApiUrl);var B=a.view_url.match(/_spot=(\d+)/)[1];a.spot_id=B;h.onload=function(){window.rectVdConf.setConf(a)}};
else if(a.ad_type===b.adTypeNtv)c="#octopus_ntv",d="#format",f=document.createElement("script"),document.body.appendChild(f),f.setAttribute("charset","UTF-8"),f.src=domain+"/ntv.js",e&&b.isSet(e.forceApiUrl)&&(a.api_clk=e.forceApiUrl),e&&b.isSet(e.id)&&(c=e.id),e&&b.isSet(e.format)&&(d=e.format),a.ntv_id=c,a.ntv_format_id=d,a.spot_id=k,f.onload=function(){window.ntvConf.setConf(a)};else if(a.ad_type===b.adTypeInscroll)f=document.createElement("script"),document.body.appendChild(f),b.addElement("link",
{href:domain+"/css/inscroll.css",rel:"stylesheet",type:"text/css"}),f.src=domain+"/inscroll.js",e&&b.isSet(e.infeedId)&&(a.infeed_id=e.infeedId),f.onload=function(){window.inscrollConf.setConf(a)};else if(a.ad_type===b.adTypeVideo)window.jsv_config={doNotPatchCreateElement:!0},f=document.createElement("script"),document.body.appendChild(f),a.event_type===b.eventTypeClick&&(b.addElement("link",{href:domain+"/css/vd.css",rel:"stylesheet",type:"text/css"}),f.src=domain+"/vd.js",a.spot_id=k,f.onload=
function(){window.videoConf.setConf(a)});else if(a.ad_type===b.adTypeSplash)f=document.createElement("script"),document.body.appendChild(f),b.addElement("link",{href:domain+"/css/splash.css",rel:"stylesheet",type:"text/css"}),a.splash_dc===b.splashDc?(e&&b.isSet(e.noRef)&&(a.no_referrer=e.noRef),f.src=domain+"/splash-dc.js"):(b.addElement("link",{href:domain+"/css/animate.min.css",rel:"stylesheet",type:"text/css"}),f.src=domain+"/splash.js"),f.onload=else if(a.ad_type===
b.adTypeLp){a.splash_tag&&(c=jq224("<div>",{id:"op-obscure",html:a.splash_tag,css:{width:1,height:1,display:"none"}}),jq224("body").append(c),jq224("#op-obscure img").css({width:"100%",height:"100%"}));!1===b.isBlock(a.cap)&&window.localStorage.removeItem(b.itemKey);var L="toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=0,width="+a.width+",height="+a.height+",left="+(screen.width-a.width)/2+",top="+(screen.height-a.height)/2;jq224(a.element).on("click",function(h){h=this.href;var B=
this.target;if(!0!==b.isBlock(a.cap)&&h&&a.event_type==b.eventTypeClick){var C=a.click_url;switch(a.pop_type){case b.popTypeTabUp:window.open(C);break;case b.popTypeTabUnder:B&&this.removeAttribute("target");this.setAttribute("href",C);0<=b.userAgent.indexOf("msie")||0<=b.userAgent.indexOf("trident")?window.open(location.href).location.href=h:window.open(h);break;case b.popTypePopUp:window.open(C,"_blank",L).focus();break;case b.popTypePopUnder:if(b.isSp()){b.recClick();if(0<=b.userAgent.indexOf("android"))return window.location.href=
C,window.open(h,"_blank"),!1;if(b.isIos())return-1===b.userAgent.indexOf("crios")&&0<=b.userAgent.indexOf("safari")&&b.changePop()?window.location.href=C:(this.removeAttribute("target"),window.open(C,null)),window.open(h,"_blank"),!1}else{var O=B?B:"_blank",P=top!=self&&"string"===typeof top.document.location.toString()?top:self,H=null;if(0>b.userAgent.indexOf("chrome")){if(H=P.window.open(C,O,L),h=function(){var y=top.window.open("about:blank");y.focus();y.close()},B=function(){var y=window.document.createElement("a");
y.href="data:text/html,<script>window.close();\x3c/script>";document.getElementsByTagName("body")[0].appendChild(y);var M=top.window.document.createEvent("MouseEvents");M.initMouseEvent("click",!1,!0,window,0,0,0,0,0,!0,!1,!1,!0,0,null);y.dispatchEvent(M);y.parentNode.removeChild(y)},H&&(H.blur(),H.opener.window.focus(),window.self.window.focus(),window.focus(),0<=b.userAgent.indexOf("firefox")&&h(),0<=b.userAgent.indexOf("safari")&&B(),0<=b.userAgent.indexOf("msie")||0<=b.userAgent.indexOf("trident")))var Q=
setTimeout(function(){H.blur();H.opener.window.focus();window.self.window.focus();window.focus();clearTimeout(Q)},1200)}else 0<=b.userAgent.indexOf("edge")&&b.userAgent.indexOf("windows"),B&&this.removeAttribute("target"),this.setAttribute("href",C),window.open(h)}}window.onpageshow=b.recClick()}})}}};domain=e&&b.isSet(e.forceDomain)?e.forceDomain:b.libDomain;var q=e&&b.isSet(e.forceApiUrl)?e.forceApiUrl:b.impApiUrl;m=e&&b.isSet(e.width)?e.width:"";g=e&&b.isSet(e.height)?
e.height:"";let p=Cookies.get("rtg_bfp")||"";if(!p){null==document.getElementById(b.rtgBfpId)&&(script=document.createElement("script"),script.id=b.rtgBfpId,script.src="https://dmp.im-apps.net/sdk/im-uid.js",script.async=!0,document.body.appendChild(script));var n=setInterval(function(){window.IMUIDRequest&&(clearInterval(n),IMUIDRequest.push({customerId:1016592,callback:function(a){a.uid&&(p="dipfb"+a.uid,a=b.parseDomain(location.href),Cookies.set("rtg_bfp",p,{expires:7,path:"/",domain:"."+a,SameSite:"none",
Secure:!0}),b.setStorageItem("rtg_bfp",p))},callbackTimeout:1E3}))},300)}var u=0,w={},F="",t=function(){clearInterval(D);clearTimeout(K);var a=(new Date).getTime();xhr.post(b.formatUrl(q+b.impApiArgs,[["%spot",k],["%suid",""],["%string",F],["%time",a],["%rtg_bfp",p]]),z,w)},D=setInterval(function(){if(window.jqLoad){clearInterval(D);dbgr.disp=e&&b.isSet(e.debug)?!0:!1;if(!window.navigator.cookieEnabled){dbgr.log("Cookie\u304c\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u307e\u3059\n\r\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u8a31\u53ef\u3057\u3066\u304f\u3060\u3055\u3044\u3002");
return}F=b.getModelName(window.screen.height);t()}else 5<u&&(clearInterval(D),t());u++},300),K=window.setTimeout(function(){t()},1500)};
