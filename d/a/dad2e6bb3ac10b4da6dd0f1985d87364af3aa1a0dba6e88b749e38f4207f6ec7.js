/*
* Braze Web SDK v3.1.2
* (c) Braze, Inc. 2021 - http://braze.com
* License available at https://github.com/Appboy/appboy-web-sdk/blob/master/LICENSE
* Compiled on 2021-02-01
*/
(function(){(("undefined"!==typeof self?self:this,function(){var appboyInterface={};var q;r ca="function"==typeof Object.create?Object.create:da="function"==typeof Object.defineProperties?Object.defineProperty:
ar ha=ea(this);ar ja;
if("function"==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var ka;a:{var la={Wf:!0},ma={};try{ma.__proto__=la;ka=ma.Wf;break a}catch(a){}ka=!1}ja=ka?null}var na=ja;
ia("String.prototype.repeat",;
ia("Promise",;var pa={Ug:;var qa={ab:;a.prototype.setItem=ra.prototype.getItem=
a.prototype.clearData=var za={qd:Ab:Dd:Hd:info:error:;var w={CustomEvent:"ce",xf:"p",Gf:"pc",Zg:"ca",yf:"i",Ic:"ie",ef:"cci",gf:"ccic",cf:"ccc",df:"ccd",Wd:"ss",If:"se",wf:"si",Qd:"sc",Pd:"sbc",vf:"sfe",hf:"iec",Ef:"lr",Ze:"uae",bf:"ci",af:"cc",Cf:"lcaa",Df:"lcar",kf:"inc",jf:"add",lf:"rem",mf:"set"},Aa={uf:"feed_displayed",ff:"content_cards_displayed"},Ba={Qa:{R:"AppboyServiceWorkerAsyncStorage",VERSION:5,M:{nf:"data",Td:"pushClicks",Qc:"pushSubscribed",Xg:"fallbackDevice",$e:"cardUpdates",Oc:"optOut"},$b:1}},v=za;ype.oc=B.prototype.A=a.prototype.A=r Ua=/^[^\x00-\x1F\x22]+$/,Va=new RegExp(/^.+@.+\..+$/);var E={};function H(a,b){this.f=a;this.H=b}q=H.prototype;q.o=
q.Xf=q.Dg=function(a){return Ra(a,"set first name","the firstName",!0)?M(this.f,"first_name",a):!1};
q.Hg=function(a){return Ra(a,"set last name","the lastName",!0)?M(this.f,"last_name",a):!1};q.Bg=q.Eg=
q.Ag=q.yg=function(a){return Ra(a,"set country","the country",!0)?M(this.f,"country",a):!1};
q.Fg=function(a){return Ra(a,"set home city","the homeCity",!0)?M(this.f,"home_city",a):!1};q.Gg=q.Cg=function(a){return Ca(Za,a,'Email notification setting "'+a+'" is not a valid subscription type.',"User.NotificationSubscriptionTypes")?M(this.f,"email_subscribe",a):!1};
q.Ed=q.Ig=q.xg=
q.Cc=
q.Cd=
q.Yf=function(a,b){return!Ta(a,"add to custom user attribute array","the given key")||null!=b&&!Ta(b,"add to custom user attribute array","the given value")?!1:ab(this.H,w.jf,a,b).h};q.sg=
q.ng=q.zd=q.Hb=function(a){this.f.Hb(a)};
q.zg=var $a=/^[0-9 .\\(\\)\\+\\-]+$/,Ya={MALE:"m",FEMALE:"f",OTHER:"o",UNKNOWN:"u",NOT_APPLICABLE:"n",PREFER_NOT_TO_SAY:"p"},Za={OPTED_IN:"opted_in",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"};E.User=H;E.User.Genders=Ya;E.User.NotificationSubscriptionTypes=Za;E.User.prototype.getUserId=H.prototype.o;
E.User.prototype.setFirstName=H.prototype.Dg;E.User.prototype.setLastName=H.prototype.Hg;E.User.prototype.setEmail=H.prototype.Bg;E.User.prototype.setGender=H.prototype.Eg;E.User.prototype.setDateOfBirth=H.prototype.Ag;E.User.prototype.setCountry=H.prototype.yg;E.User.prototype.setHomeCity=H.prototype.Fg;E.User.prototype.setLanguage=H.prototype.Gg;E.User.prototype.setEmailNotificationSubscriptionType=H.prototype.Cg;E.User.prototype.setPushNotificationSubscriptionType=H.prototype.Ed;
E.User.prototype.setPhoneNumber=H.prototype.Ig;E.User.prototype.setAvatarImageUrl=H.prototype.xg;E.User.prototype.setLastKnownLocation=H.prototype.Cc;E.User.prototype.setCustomUserAttribute=H.prototype.Cd;E.User.prototype.addToCustomAttributeArray=H.prototype.Yf;E.User.prototype.removeFromCustomAttributeArray=H.prototype.sg;E.User.prototype.incrementCustomUserAttribute=H.prototype.ng;E.User.prototype.addAlias=H.prototype.Xf;E.User.prototype.setCustomLocationAttribute=H.prototype.zg;b.prototype.nd=function(){};db.prototype.pd=function(){};db.prototype.mb=function(){};var fb={Kd:"Chrome",Gc:"Edge",Tb:"Internet Explorer",Rd:"Opera",Rc:"Safari",Yg:"Firefox"};a(gb,db);gb.prototype.nd=function(){return this.Wa};gb.prototype.pd=function(){return this.version};
gb.prototype.mb=a(hb,db);hb.prototype.nd=function(){return this.we[0]||"Unknown Browser"};hb.prototype.pd=hb.prototype.mb=
b.prototype.mb=
var lb=[{V:navigator.platform,P:"Win",T:"Windows"},{V:navigator.platform,P:"Mac",T:"Mac"},{V:navigator.platform,P:"BlackBerry",T:"BlackBerry"},{V:navigator.platform,P:"FreeBSD",T:"FreeBSD"},{V:navigator.platform,P:"OpenBSD",T:"OpenBSD"},{V:navigator.platform,P:"Nintendo",T:"Nintendo"},{V:navigator.platform,P:"SunOS",T:"SunOS"},{V:navigator.platform,P:"PlayStation",T:"PlayStation"},{V:navigator.platform,P:"X11",T:"X11"},{V:navigator.userAgent,P:["iPhone","iPad","iPod"],T:"iOS"},{V:navigator.platform,
P:"Pike v",T:"iOS"},{V:navigator.userAgent,P:["Web0S"],T:"WebOS"},{V:navigator.platform,P:["Linux armv7l","Android"],T:"Android"},{V:navigator.userAgent,P:["Android"],T:"Android"},{V:navigator.platform,P:"Linux",T:"Linux"}],mb=new jb;function nb(a,b){this.ka=a;this.S=b}rototype.clearData=
r qb={Vc:"ab.storage.userId",Md:"ab.storage.deviceId",Ra:"ab.storage.sessionId"},P={Sc:"ab.test",Mb:"ab.storage.events",Na:"ab.storage.attributes",Fc:"ab.storage.device",Zb:"ab.storage.pushToken",Mc:"ab.storage.newsFeed",Lc:"ab.storage.lastNewsFeedRefresh",pb:"ab.storage.cardImpressions",Vd:"ab.storage.serverConfig",Tc:"ab.storage.triggers",Uc:"ab.storage.triggers.ts",Af:"ab.storage.lastTriggeredTime",zf:"ab.storage.lastTriggeredTimesById",Bf:"ab.storage.lastTriggerEventDataById",Wb:"ab.storage.messagingSessionStart",
qb:"ab.storage.cc",Rb:"ab.storage.ccLastFullSync",Qb:"ab.storage.ccLastCardUpdated",fb:"ab.storage.ccClicks",gb:"ab.storage.ccImpressions",sa:"ab.storage.ccDismissals",Vb:"ab.storage.lastDisplayedTriggerTimesById",Kc:"ab.storage.lastDisplayedTriggerTime",sb:"ab.storage.triggerFireInstancesById"};b.prototype.Va=
ub.prototype.store=ub.prototype.O=ub.prototype.remove=
b.prototype.Va=vb.prototype.store=
vb.prototype.O=vb.prototype.remove=
b.prototype.store=yb.prototype.O=
yb.prototype.remove=b.prototype.store=zb.prototype.O=zb.prototype.remove=.prototype.N=Ab.prototype.L= Eb=null,Lb="up",Mb="down",Jb="left",Kb="right";var Pb={pg:kg:qg:Pa:{Yb:0,Jc:1}};E.WindowUtils=Pb;
E.WindowUtils.openUri=Pb.qg;unction Rb(a){null==a.X&&(a.X=new Ab);return a.X}
=Qb.prototype;q.Kb=function(a){return Bb(Rb(this),a)};q.Gd=q.N=q.L=q.yd=q.eb=q.xd=
.Z=q.lc=q.Ce=
var Ub=-1,Wb={Ob:"captioned_image",Yd:"text_announcement",Xb:"short_news",Nb:"banner_image",Dc:"control"},T={ua:"id",ya:"v",ta:"db",Ud:"r",ba:"ca",ha:"p",aa:"ea",ga:"e",TYPE:"tp",va:"i",Sa:"tt",Oa:"ds",URL:"u",wa:"dm",qa:"ar",ra:"cl",W:"t"},U={ua:"id",ya:"v",ta:"db",Sb:"cr",ba:"ca",ha:"p",Pb:"t",aa:"ea",ga:"e",TYPE:"tp",va:"i",Sa:"tt",Oa:"ds",URL:"u",wa:"dm",qa:"ar",ra:"cl",W:"s"},cc=400;E.Card=Qb;E.Card.prototype.dismissCard=Qb.prototype.Ce;E.Card.prototype.subscribeToClickedEvent=Qb.prototype.Kb;
E.Card.prototype.subscribeToDismissedEvent=Qb.prototype.Gd;E.Card.prototype.removeSubscription=Qb.prototype.N;E.Card.prototype.removeAllSubscriptions=Qb.prototype.L;a(Zb,Qb);Zb.prototype.A=
E.Banner=Zb;function Yb(a,b,c,d,e,g,f,h,l,k,m,p,t,r,y,z){Qb.call(this,a,b,c,d,e,g,f,h,l,k,m,p,t,r,y,z);this.qc="ab-captioned-image";this.tc=!0}oa(Yb,Qb);
Yb.prototype.A=function(){var a={};a[U.TYPE]=Wb.Ob;a[U.ua]=this.id;a[U.ya]=this.viewed;a[U.Sa]=this.title;a[U.va]=this.imageUrl;a[U.Oa]=this.description;a[U.ba]=this.updated;a[U.Sb]=this.created;a[U.Pb]=this.categories;a[U.aa]=this.expiresAt;a[U.URL]=this.url;a[U.wa]=this.linkText;a[U.qa]=this.aspectRatio;a[U.ga]=this.extras;a[U.ha]=this.pinned;a[U.ta]=this.dismissible;a[U.ra]=this.clicked;a[U.W]=this.test;return a};E.CaptionedImage=Yb;a(Xb,Qb);
Xb.prototype.A=E.ClassicCard=Xb;a($b,Qb);$b.prototype.A=E.ControlCard=$b;W.prototype;q.Ga=function(){return!0};q.Ve=Kb=function(a){return Bb(this.X,a)};q.Gd=function(a){return Bb(this.bc,a)};q.N=q.L=q.yd=q.eb=function(){return this.Ta?!1:(this.Ta=!0,Cb(this.X),!0)};q.xd=function(){return this.ee?!1:(this.ee=!0,Cb(this.bc),!0)};
ye=
q.Z=function(a,b,c,d){ar g=this,f=document.createElement("div");f.className="ab-in-app-message ab-start-hidden ab-background";this.Ga()&&(f.className+=" ab-modal-interactions",f.setAttribute("tabindex","-1"));pc(this)||(f.style.color=fc(this.textColor),f.style.backgroundColor=fc(this.backgroundColor),ec(this.backgroundColor)&&(f.className+=" ab-no-shadow"));this.imageStyle===Lc&&
(f.className+=" graphic");this.orientation===Mc&&(f.className+=" landscape");0===this.buttons.length&&(this.clickAction!==ic&&(f.className+=" ab-clickable"),f.onclick=;var h=Ob("Close Message",pc(this)?void 0:fc(this.closeButtonColor),function(){Jc(g,f)});f.appendChild(h);h=document.createElement("div");h.className="ab-message-text";h.className+=
" "+(this.messageAlignment||this.jd).toLowerCase()+"-aligned";var l=!1,k=document.createElement("div");k.className="ab-image-area";if(this.imageUrl){if(this.cropType===Qc){var m=document.createElement("span");m.className="ab-center-cropped-img";m.style.backgroundImage="url("+this.imageUrl+")";m.setAttribute("role","img");this.lc(m);k.appendChild(m)}else m=document.createElement("img"),m.setAttribute("src",this.imageUrl),this.lc(m),l=!0,m.onload=e,setTimeout(e,1E3),k.appendChild(m);f.appendChild(k);
h.className+=" ab-with-image"}else if(this.icon){k.className+=" ab-icon-area";m=document.createElement("span");m.className="ab-icon";pc(this)||(m.style.backgroundColor=fc(this.iconBackgroundColor),m.style.color=fc(this.iconColor));var p=document.createElement("i");p.className="fa";p.appendChild(document.createTextNode(this.icon));p.setAttribute("aria-hidden",!0);m.appendChild(p);k.appendChild(m);f.appendChild(k);h.className+=" ab-with-icon"}Fb(h,"touchstart",function(){});this.header&&0<this.header.length&&
(k=document.createElement("h1"),k.className="ab-message-header",this.Zc=qa.ab(),k.id=this.Zc,k.className+=" "+(this.headerAlignment||gc).toLowerCase()+"-aligned",pc(this)||(k.style.color=fc(this.headerTextColor)),k.appendChild(document.createTextNode(this.header)),h.appendChild(k));h.appendChild(this.xe());f.appendChild(h);l||e();return this.fc=f};q.xe=
q.lc=q.yc=q.ma=
var mc={Ld:4281545523,Wc:4294967295,Jd:4278219733,rf:4293914607,sf:4283782485,Hf:3224580915,qf:4288387995},Rc={Nd:"hd",Ye:"ias",Ff:"of",tf:"do",tb:"umt",rb:"tf",Od:"te"},hc="BOTTOM",Sc={TOP:"TOP",BOTTOM:hc},Pc="NEWS_FEED",Nc="URI",ic="NONE",Tc={NEWS_FEED:Pc,URI:Nc,NONE:ic},kc="AUTO_DISMISS",Uc={AUTO_DISMISS:kc,MANUAL:"SWIPE"},jc="NONE",Oc="BLANK",Vc={NONE:jc,BLANK:Oc},lc="TOP",Lc="GRAPHIC",Wc={TOP:lc,GRAPHIC:Lc},Mc="LANDSCAPE",Xc={PORTRAIT:"PORTRAIT",LANDSCAPE:Mc},gc="CENTER",Yc={START:"START",CENTER:gc,
END:"END"},Qc="CENTER_CROP",nc="FIT_CENTER",Zc={CENTER_CROP:Qc,FIT_CENTER:nc},zc="SLIDEUP",uc="MODAL",vc="MODAL_STYLED",xc="FULL",Bc="WEB_HTML",Cc="HTML",Kc=500,Hc="ab-show",Ic="ab-hide",Fc="ab-pause-scrolling";E.InAppMessage=W;E.InAppMessage.SlideFrom=Sc;E.InAppMessage.ClickAction=Tc;E.InAppMessage.DismissType=Uc;E.InAppMessage.OpenTarget=Vc;E.InAppMessage.ImageStyle=Wc;E.InAppMessage.TextAlignment=Yc;E.InAppMessage.Orientation=Xc;E.InAppMessage.CropType=Zc;
E.InAppMessage.prototype.subscribeToClickedEvent=W.prototype.Kb;E.InAppMessage.prototype.subscribeToDismissedEvent=W.prototype.Gd;E.InAppMessage.prototype.removeSubscription=W.prototype.N;E.InAppMessage.prototype.removeAllSubscriptions=W.prototype.L;E.InAppMessage.prototype.closeMessage=W.prototype.ye;c.prototype.Kb=tc.prototype.N=tc.prototype.L=tc.prototype.eb=var $c=-1;E.InAppMessageButton=tc;
E.InAppMessageButton.prototype.subscribeToClickedEvent=tc.prototype.Kb;E.InAppMessageButton.prototype.removeSubscription=tc.prototype.N;E.InAppMessageButton.prototype.removeAllSubscriptions=tc.prototype.L;function sc(a){this.triggerId=a}E.ControlMessage=sc;(yc,W);yc.prototype.Z=function(a,b,c,d,e){this.hc=document.activeElement;b=W.prototype.Z.call(this,a,c,d,e);b.className+=" ab-fullscreen ab-centered";cd(this,a,c,b,e);ad(b);bd(this.Zc,b);return b};yc.prototype.ma=function(){return W.prototype.ma.call(this)+" ab-effect-fullscreen"};
ha.Object.defineProperties(yc.prototype,{jd:{configurable:!0,enumerable:!0,get:function(){return gc}}});E.FullScreenMessage=yc;var dd=new (Dc,W);Dc.prototype.Ve=function(){return!1};
Dc.prototype.eb=
Dc.prototype.Z=
Dc.prototype.ma=function(){return W.prototype.ma.call(this)+" ab-effect-html"};E.HtmlMessage=Dc;a(wc,W);wc.prototype.Z=wc.prototype.ma=function(){return W.prototype.ma.call(this)+" ab-effect-modal"};
ha.Object.defineProperties(wc.prototype,{jd:{configurable:!0,enumerable:!0,get:});E.ModalMessage=wc;a(Ac,W);q=Ac.prototype;q.Ga=
q.Z=q.xe=q.yc=q.ma=
ha.Object.defineProperties(Ac.prototype,{jd:{configurable:!0,enumerable:!0,get:});E.SlideUpMessage=Ac;ar hd,id;function jd(a,b){this.cards=a;this.lastUpdated=b}q=jd.prototype;q.Ge=.Ja=function(a,b){a.Ja(b)};q.Ia=
.se=function(a){a.Bc()};
q.Z=ar dc=500,ld="data-update-subscription-id",qd="data-last-requested-refresh",rd=1E4;E.Feed=jd;E.Feed.prototype.getUnreadCardCount=jd.prototype.Ge;a(nd,jd);nd.prototype.mg=nd.prototype.Ja=function(a,b){a.Ja(b,!0)};nd.prototype.Ia=nd.prototype.se=E.ContentCards=nd;E.ContentCards.prototype.getUnviewedCardCount=nd.prototype.mg;function td(a){this.$a=a}td.prototype.ca=td.prototype.A=function(){return this.$a};ud.prototype.ca=
ud.prototype.A=var Ad=1,Bd=2,Cd=3,wd=4,Dd=5,xd=6,Ed=10,Fd=11,Gd=12,yd=15,zd=16,Hd=17,vd="date";function Id(a){this.filters=a}Id.prototype.ca=Id.prototype.A=function Ld(a,b){this.$a=a;this.cb=b}Ld.prototype.ca=Ld.prototype.A=d.prototype.ca=Md.prototype.A=d.prototype.ca=Od.prototype.A=function(){return this.bb};function Pd(a,b){this.bb=a;this.cb=b}Pd.prototype.ca=function(a){if(null==this.bb||null==this.cb)return!1;var b=a[1];return a[0]===this.bb&&this.cb.ca(b)};Pd.prototype.A=function(){return{id:this.bb,pf:this.cb.A()}};function Qd(a){this.Xa=a}Qd.prototype.ca=Qd.prototype.A=function(){return this.Xa};var Rd={OPEN:"open",Pc:"purchase",Sd:"push_click",Ec:"custom_event",Ub:"iam_click",W:"test"};function Sd(a,b){this.type=a;this.data=b}d.prototype.A=var Wd="open",Xd="purchase",Yd="purchase_property",Zd="push_click",$d="custom_event",ae="custom_event_property",be="iam_click",ce="test",Ud={};Ud[Wd]=Rd.OPEN;Ud[Xd]=Rd.Pc;Ud[Yd]=Rd.Pc;Ud[Zd]=Rd.Sd;Ud[$d]=Rd.Ec;Ud[ae]=Rd.Ec;Ud[be]=Rd.Ub;Ud[ce]=Rd.W;e.prototype.A=
ar fe=-1,ie={Hc:"inapp",Xd:"templated_iam"};le.prototype;
q.Ka=
=q.Ab=function Ce(a,b){Bb(a.ad,b)}
q.zc=function(a){var b=this,c=this.D.od(),d=Xa(this.D);c=c!==d;pe(this,null,!1,null,null,null);bb(this);if(c&&null!=a&&(a.Cb()||a.Ha())){var e=c=Ba.Qa;wa(new ra(c),c.M.Qc,}};
q.Ya=function(a,b,c){var d=this.f.o();if(d!==a){var e=this.D,g=Qa(e.b.ka.O(qb.Ra));null!=g&&(e.b.ka.remove(qb.Ra),g=De(e,(new Date).valueOf(),g),null==g||J(e.b,[g]));e=this.f;g=null==e.o();ob(e.b,qb.Vc,new Pa(a));if(g){e=e.b;g=e.S.O(P.Na);if(null!=g){var f=P.Id,h=g[f];null!=h&&(g[f]=void 0,e.S.store(P.Na,g),h.user_id=a,rb(e,h))}f=Qa(e.ka.O(qb.Ra));g=null;null!=f&&(g=f.fa);f=pb(e);if(null!=f)for(h=0;h<f.length;h++){var l=f[h];null==l.Lb&&l.sessionId==g&&(l.Lb=a);null==l||J(e,[l])}}for(e=0;e<b.length;e++)b[e].Ya(null==
d);null!=d&&S(this.b,P.pb);S(this.b,P.Fc);this.zc(c);v.info('Changed user to "'+a+'".')}else v.info('Current user is already "'+a+'". Doing nothing.')};q.nb=q.Ib=q.Bc=q.td=q.ud=q.Cc=
q.Fb=
q.xc=
q.wc=
q.Eb=q.K=
q.Ja=
q.Ia=
q.vc=ar He={BROWSER:"browser",BROWSER_VERSION:"browserVersion",OS:"os",RESOLUTION:"resolution",LANGUAGE:"language",TIME_ZONE:"timeZone",USER_AGENT:"userAgent"};E.DeviceProperties=He;function Ie(a){this.id=a}Ie.prototype.oc=e.prototype.Vf=
Ke.prototype.Uf=Ke.prototype.watchPosition=e.prototype.A=function(){return{e:this.endpoint,c:this.ze,p:this.publicKey,u:this.Vg,v:this.pa}};=Ne.prototype;q.oa=
q.Ha=q.Cb=
q.sd=
subscribe=
q.unsubscribe=e.prototype.A=totype.od=
function af(a,b){this.I=a;this.b=b}af.prototype.o=af.prototype.Cd=af.prototype.zd=
af.prototype.Hb=function bf(){}bf.prototype.Bb=function(){};bf.prototype.Ya=function(){};bf.prototype.clearData=function(){};a(cf,bf);q=cf.prototype;q.Ea=
q.Bb=
.mc=function(){for(var a=[],b=0;b<this.B.length;b++)a.push(this.B[b].A());Q(this.b,P.qb,a)};
q.Ka=q.lb=
q.Ya=q.clearData=a(hf,bf);q=hf.prototype;q.Ea=q.mc=
q.Bb=q.sc=q.clearData=(lf,bf);f.prototype.Bb=
lf.prototype.na=lf.prototype.Ya=lf.prototype.clearData=
undefined"===typeof console&&(window.console={log:function(){}});var sf=window.Element.prototype;"function"!==typeof sf.matches&&(sf.matches=sf.msMatchesSelector||sf.mozMatchesSelector||sf.webkitMatchesSelector||;
Element.prototype.closest||(Element.prototype.closest=;
if("function"!==typeof window.CustomEvent){var tf=tf.prototype=window.Event.prototype;window.CustomEvent=tf};var uf;"object"===typeof module&&module.exports?uf=module.exports:(window.appboy||(window.appboy={}),uf=window.appboy);var vf=uf;var Y=new function(a){g={bg:function(n,u){return new Je(n,u)},fg:gd:cg:ag:function(n,u,x,D){return new cf(n,u,x,D)},gg:eg:dg:;null==a&&(a=g);var f,h,l,k,m,p,t,r,y,z,A,C,G,F,K=new Ab,N=new Ab,L=[],X=!1,fa=!1;return{Ng:function(n){return Bb(K,
n)},Mg:rd:function(n,u){if(X)return v.info("Braze has already been initialized with an API key."),!0;v.qd(null!=u&&u.enableLogging);if(null==n||""===n||"string"!==typeof n)return v.error("Braze requires a valid API key to be initialized."),!1;f=n;l=u||{};if(mb.og&&!l.allowCrawlerActivity)return v.info("Ignoring activity from crawler bot "+navigator.userAgent),fa=!0,!1;h=u=Ze(n,l.noCookies||!1);if((new vb(null,!0)).O("ab.optOut"))return v.info("Ignoring all activity due to previous opt out"),
fa=!0,!1;var x=["mparticle","wordpress","tealium"];if(null!=l.sdkFlavor){var D=l.sdkFlavor;-1!==x.indexOf(D)?k=D:v.error("Invalid sdk flavor passed: "+D)}var I=[];t=a.gd();L.push(t);r=a.cg(t,u);I.push(r);C=a.gd();L.push(C);x=l.baseUrl;if(null==x||""===x||"string"!==typeof x)return v.error("Braze requires a valid SDK Endpoint to be initialized. Please set the 'baseUrl' initialization option to the value of your SDK Endpoint."),!1;x=x.replace(/(\.[a-z]+)[^\.]*$/i,"$1/api/v3");0!==x.indexOf("http")&&
(x="https://"+x);D=l.devicePropertyAllowlist||l.devicePropertyWhitelist;if(null!=D)if(Ea(D)){for(var O=[],V=0;V<D.length;V++)Ca(He,D[V],"devicePropertyAllowlist contained an invalid value.","DeviceProperties")&&O.push(D[V]);D=O}else v.error("devicePropertyAllowlist must be an array. Defaulting to all properties."),D=null;p=a.bg(u,D);D=new We(u);m=a.fg(f,x,"3.1.2",k,l,u,p,D);O=l.minimumIntervalBetweenTriggerActionsInSeconds;null==
O&&(O=30);A=a.gg(O,C,u,m);I.push(A);O=!0===l.allowUserSuppliedJavascript||!0===l.enableHtmlInAppMessages;y=a.gd();L.push(y);z=a.ag(y,m,u,D,O);I.push(z);Xe(D,function(){z.Ka()});Ce(m,function(){z.Ka()});m.rd();G=a.eg(m.nb(),f,p,x,l,D,u);F=a.dg(m.nb());u="Initialized ";l&&l.baseUrl&&(u+='for the Braze backend at "'+l.baseUrl+'" ');v.info(u+('with API key "'+n+'".'));n=mb.language;u=!1;l&&(l.language&&(n=l.language,u=!0),l.localization&&(n=l.localization,u=!0));gd(n,u);Cb(K,l);return X=!0},Ab:jg:Hd:function(){v.Hd()},Dd:function(n){v.Dd(n)},zc:function(){if(e()){m.zc(G);var n=Ba.Qa,u=new ra(n);wa(u,n.M.Td,;ya(u,n.M.$e,}},Ya:function(n){e()&&(null==n||0===n.length||n!==n?v.error("changeUser requires a non-empty userId."):997<$e(n)?v.error('Rejected user id "'+n+'" because it is longer than 997 bytes.'):m.Ya(n.toString(),[r,z,A],G))},nb:function(){if(e())return m.nb()},lg:Ib:Bc:function(){e()&&m.Bc()},Se:function(n){if(e())return Bb(t,n)},sc:function(){if(e())return r.sc()},Ka:function(){if(e())return z.Ka()},
Re:function(n){if(e())return Bb(y,n)},lb:Og:Te:Fb:xc:wc:Eb:K:Ja:Ia:vc:Je:function(){if(e())return Fe(m,Aa.uf).h},Ie:N:L:td:ud:function(n,u,x,D,I){if(e()){null==x&&(x="USD");null==D&&(D=1);if(null==n||0>=n.length)return v.error('logPurchase requires a non-empty productId, got "'+n+'", ignoring.'),!1;if(!Ta(n,"log purchase","the purchase name"))return!1;
var O=parseFloat(u);if(isNaN(O))return v.error("logPurchase requires a numeric price, got "+u+", ignoring."),!1;O=O.toFixed(2);u=parseInt(D);if(isNaN(u))return v.error("logPurchase requires an integer quantity, got "+D+", ignoring."),!1;if(1>u||100<u)return v.error("logPurchase requires a quantity >1 and <100, got "+u+", ignoring."),!1;x=x.toUpperCase();if(-1==="AED AFN ALL AMD ANG AOA ARS AUD AWG AZN BAM BBD BDT BGN BHD BIF BMD BND BOB BRL BSD BTC BTN BWP BYR BZD CAD CDF CHF CLF CLP CNY COP CRC CUC CUP CVE CZK DJF DKK DOP DZD EEK EGP ERN ETB EUR FJD FKP GBP GEL GGP GHS GIP GMD GNF GTQ GYD HKD HNL HRK HTG HUF IDR ILS IMP INR IQD IRR ISK JEP JMD JOD JPY KES KGS KHR KMF KPW KRW KWD KYD KZT LAK LBP LKR LRD LSL LTL LVL LYD MAD MDL MGA MKD MMK MNT MOP MRO MTL MUR MVR MWK MXN MYR MZN NAD NGN NIO NOK NPR NZD OMR PAB PEN PGK PHP PKR PLN PYG QAR RON RSD RUB RWF SAR SBD SCR SDG SEK SGD SHP SLL SOS SRD STD SVC SYP SZL THB TJS TMT TND TOP TRY TTD TWD TZS UAH UGX USD UYU UZS VEF VND VUV WST XAF XAG XAU XCD XDR XOF XPD XPF XPT YER ZAR ZMK ZMW ZWL".split(" ").indexOf(x))return v.error("logPurchase requires a valid currencyCode, got "+
x+", ignoring."),!1;if(!c(I,"logPurchase","purchaseProperties",'log purchase "'+n+'"',"purchase"))return!1;D=m.ud(n,O,x,u,b(I));if(D.h)for(v.info("Logged "+u+" purchase"+(1<u?"s":"")+' of "'+n+'" for '+x+" "+O+"."),x=0;x<D.j.length;x++)A.na(Rd.Pc,[n,I],D.j[x]);return D.h}},oa:function(){if(e())return G.oa()},Ha:function(){if(e())return G.Ha()},sd:Cb:rg:Tg:Rg:Lg:vg:Wg:},Z={},wf;for(wf in E)Z[wf]=E[wf];Z.initialize=Y.rd;Z.destroy=Y.Ab;Z.getDeviceId=Y.jg;Z.toggleAppboyLogging=Y.Hd;Z.setLogger=Y.Dd;Z.openSession=Y.zc;Z.changeUser=Y.Ya;Z.getUser=Y.nb;Z.requestImmediateDataFlush=Y.Ib;Z.requestFeedRefresh=Y.Bc;Z.getCachedFeed=Y.sc;Z.subscribeToFeedUpdates=Y.Se;Z.requestContentCardsRefresh=Y.Ka;Z.getCachedContentCards=Y.lb;Z.subscribeToContentCardsUpdates=Y.Re;Z.logCardImpressions=Y.Ja;Z.logCardClick=Y.Ia;Z.logCardDismissal=Y.vc;
Z.logFeedDisplayed=Y.Je;Z.logContentCardsDisplayed=Y.Ie;Z.logInAppMessageImpression=Y.Fb;Z.logInAppMessageClick=Y.xc;Z.logInAppMessageButtonClick=Y.wc;Z.logInAppMessageHtmlClick=Y.Eb;Z.subscribeToNewInAppMessages=Y.Og;Z.subscribeToInAppMessage=Y.Te;Z.removeSubscription=Y.N;Z.removeAllSubscriptions=Y.L;Z.logCustomEvent=Y.td;Z.logPurchase=Y.ud;Z.isPushSupported=Y.oa;Z.isPushBlocked=Y.Ha;Z.isPushGranted=Y.sd;Z.isPushPermissionGranted=Y.Cb;Z.registerAppboyPushMessages=Y.rg;
Z.unregisterAppboyPushMessages=Y.Tg;Z.trackLocation=Y.Rg;Z.stopWebTracking=Y.Lg;Z.resumeWebTracking=Y.vg;Z.wipeData=Y.Wg;for(var xf in Z)"object"===typeof appboyInterface?appboyInterface[xf]=Z[xf]:vf[xf]=Z[xf];var yf="object"===typeof appboyInterface?appboyInterface:vf,zf=new Y,yf);yf.display={};yf.display.automaticallyShowNewInAppMessages=zf.$f;yf.display.showInAppMessage=zf.Qe;
yf.display.showFeed=zf.Fd;yf.display.destroyFeed=zf.Be;yf.display.toggleFeed=zf.Qg;yf.display.showContentCards=zf.Pe;yf.display.hideContentCards=zf.He;yf.display.toggleContentCards=zf.Pg;Y.display=zf;return appboyInterface});var a=window.appboyQueue||("undefined"!==typeof appboyQueue?appboyQueue:null);
if("undefined"!==typeof a&&a&&a.length&&0<a.length){var b=a===window.appboyQueue;window.appboyQueue=appboyQueue=null;for(var c=0;c<a.length;c++)if(a[c].callee){var d=a[c].callee.name;if(null==d||""===d)d=/^function ([\w]*)\(/g.exec(a[c].callee.toString())[1];if(null!=d&&""!==d){for(var e=d.split("_"),f=b?window.appboy:appboy,g=this,h="appboy",k=0;k<e.length;k++){if("prototype"===e[k]){var l=eval({"appboy.ContentCards":"appboy.getCachedContentCards","appboy.Feed":"appboy.getCachedFeed","appboy.User":"appboy.getUser"}[h]);
g=f=null!=l?l.apply():new f.constructor}else f=f[e[k]];h+="."+e[k]}null!=f&&"function"===typeof f&&f.apply(g,a[c])}}};
}).call(window);
