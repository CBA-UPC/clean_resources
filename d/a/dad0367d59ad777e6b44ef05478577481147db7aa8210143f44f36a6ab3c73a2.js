(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1221:function(e,t,n){var o={pt_BR:"br",en:"us"},i={pt_BR:"pt-br",en:"us"},s={googlePlay:function(e){return i[e]&&(e=i[e]),"https://play.google.com/store/apps/details?id=com.soundcloud.android&hl=[LANGUAGE]".replace("[LANGUAGE]",e)},appstore:function(e){return o[e]&&(e=o[e]),"https://itunes.apple.com/[LANGUAGE]/app/soundcloud/id336353151?mt=8".replace("[LANGUAGE]",e)}};e.exports={getStoreUrl:function(e,t){var o=n(19).LinguaLib.getLocale()||"en";return(0,s[e])(o,t)}}},1232:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI1IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0xIC4wMjNsLTEgMSAzLjk1NSAzLjk1NUw3Ljk3OC45NTVsLTEtMS0zLjAyMyAzLjAyM0wxIC4wMjN6IiBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+Cg=="},1233:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnBAMAAADd8MzuAAAAJ1BMVEUAAADt7e3v7+/u7u7u7u7v7+/V1dXu7u7v7+/v7+/u7u7u7u7t7e1+coy7AAAADXRSTlMAK4/V8v8GlP29LPOQA9OSagAAAOlJREFUeAHt3CVCBQEUBdCLdxIR3QEkIgvAXRuVRMatswESGVkC68It/jQPOfeP20mjf+Yl6R2dbzgTA0myfTzfeJZ2k+7L+YIsb6VnviQ76auBLzJSA89krAaezX0NvJqXbhrOiwkGg8FgMBgMBoP/E9zV+gpgMBgMBr9MmPq3MBgMBoPB3wb+Hvzd+1MwGAwGf+uDwWDwN/IlLcCfmQKDweDKIxcYDHbvBAaDwWB/hjQAg8FgMLjgfS4wGAwGg30LAwaDwWAwGFxW16euktFDDTyT6xp4v6w+V1lFsroabMnVeNPu7UDyBMXh8J9inpNdAAAAAElFTkSuQmCC"},1234:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFOCAMAAABpHD45AAAARVBMVEUAAADV1dXt7e3u7u7v7+/v7+/u7u7v7+/t7e3q6uru7u7u7u7b29vt7e3u7u7t7e3u7u7u7u7u7u7u7u7u7u7u7u7u7u7XoTEbAAAAF3RSTlMABkaVv9ny/0cYlvEHgfSCx8gt4y6X8/DMJysAAAMSSURBVHgB7d0FjiNJFEXRFwaF0824//0N96Q626RoKC7hjNBf52zh6hX+kFvutRu5ZowftoeRO/c9p9bOoYbNGMvTwC9bO4Q6ervMjwJPfUkt7L8t94HftznV8LL9nmSVZNK3onlMN4Ff9pJ9mXcvk5a8OqYmdv9klamlKMaUZN/L4lNWraUsvrbsemHssu6Fsc6mF8Ym214Y23zuhfG59Tx1CNfsec9VKE1ggREYgREYgREYgQVGYARGYARGYAQWGIERGIERGIERGIEFRmAERmAERmAEFhiBERiBERiBEVhgBEZgBEZgBEZgBBYYgREYgRGY/2tT41MKfO6EBQuMwAiMwAiMwAiMwAIjMAIjMAIjMAILjMAIjMAIjMAILDAC42WD9xEWjMAIjMAILDACIzACIzACI7DACIzACIzACIzAAiMwAiMwAiMwAnMFgREYgdl4O2jBCIzA+B7se6cFIzACC4zACIzACIzACCwwAiMwAiMwAiMwAguMmyyX1RaMwAiMwAgsMAIjMAIjMAIjsMAIjMAIjMBUvOjoJW48bhwsGIERGIERWGAERmAERmAERmCBERiBERiBKXHRcbjCS4+DBSMwAiMwAguMwAiMwAiMwAiMwAIjMAX+H8zBghEYgREYgRFYYARGYARGYARGYIERGIERGIERmIKBERiBBcZdtKtmC8aCLc+CERiBBUZgBEZgBEZgBEZggREYgREYgREYgQVGYARGYARGYAT2soGDBSMwAiMwAvNfAiMwAiMwAiMwAiOwwAiMwAiMwAiMwAIjMAIjMAIjMAKz8arIghEYgREYgREYgQVGYARGYARGYAQWGIERGIERGIERGIEFRmAERmAERmAEFhiBERiBERiBqRsYgfncC+Nztr0wttn0wthk3QtjnV0vjF3ai14WL9pq7FMWY6wy9xRFH1llaSmKsWSVXPYpiWnkZ+D528sUxMvD/CtwllawMC/HkqTlp2n3NbUwHZbcB87L9TikDvoYc35q98FbO6cGNmMsudFyr/VTa+/+CdfszV9jbA8jd74DN4TtIRHCQ7AAAAAASUVORK5CYII="},1241:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnBAMAAADd8MzuAAAAJ1BMVEUAAAD////z8/Pz8/Px8fHv7+/v7+/w8PDv7+/v7+/v7+/w8PDv7++6cvnQAAAADHRSTlMABissj5CUvdXy8/2UePAFAAAA6ElEQVR42u3coW2CURQF4IOp+gWKCepqcXXojoBo9+gCbRiAERBVYCsQTWjoHYoFEKQJ/4XkOwt87uS+J06Sx48aOetFksy+a/T8vSWT92rIYZqHaslrnnrgXV564J+seuDffPXAx1RVZeRUVYHBYDAYDAaDwWAwGAwGg8GXZ6iq/X/g4fK/sj0YDL5NuK1AwGBwO3y2YsBg8F3BKhMMdtCDwZ6pYJ+oYDAYDAaDweArHPRgMLgfVplgMBgMBoPBYDAYDAaDweC7gtt2fdqWjJZd203PPfC2b5+rbZGsbYMtmX+O7W4WyQmkQ82SS+JpNQAAAABJRU5ErkJggg=="},1242:function(e,t,n){e.exports=n.p+"assets/images/likes-3bcb162f.png"},1243:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACxCAMAAADNj8BpAAAANlBMVEX////////+/v75+fn09PT7+/vv7+/29vbx8fH9/f3z8/P4+Pj8/Pz6+vrw8PD19fXy8vL39/eXzOw5AAAAAXRSTlMAQObYZgAAAc1JREFUeAHs2UmOwyAQheG8Yh7t3P+yvWlZtlF3WGSRPOq/wScVohAP/7YeX5GCFwMrWMEKVrCC/SelYAUrWMEK/m6wNVWkmm0RsE34LW0rLB4Fpww/+IlLhR28C65lcrDDrcoN7oJ7kRq8YWijBgcMPanBBUOGGvzEUFntDAdqcMTQ/nm79BvBPuGWeG5wwS1DDs64ZbnBw0yLZwcXXDL04IhLOz3YN5xynh+cccqu8LfkhscwOXjDUVgC3HEUKcFDMlzC5OC0GlgOcF8B3A2OWmcHx+AEp8SFyAvuoWIMNURKcG6CPxKX+cAG/9bYwAYvalzgjJdZKnDFyxIT2GIiSwR2mKjygHdMlWnABVMZGrBgKmEBW0xmScAGkzUScMJkQgJugrncT3t3UAMADMQwjD/r0ogql0Heu8mOSwULDkywYMGCfcUTLFiwYMGCzczMzMzMzMzMzMzMzMw8lwoWLFiwYMGCnQ8LFixYsGDOA+eB88B54DxwHjgPnAfOA+eB88B54DxwHjgPnAfOA+eB88B54Dw8B3MeOA+cB84D54HzwHngPHAeOA+cB84D54HzwHngPHAeOA+cB8elggULFixYMOdBsGDBggUHNyKYasrzIS75AAAAAElFTkSuQmCC"},1244:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnCAMAAAAYACHvAAAATlBMVEUAAADq6uru7u7v7+/s7Ozs7Ozu7u7u7u7u7u7v7+/u7u7w8PDx8fHy8vLz8/P09PT19fX29vb5+fn6+vr7+/v8/Pz9/f3+/v7////v7+9UBIUXAAAAC3RSTlMAJT0+Q0SawNju8xxX58QAAAJ0SURBVHgB7dzXcqswGEVhudHSIEEQvf+Dnr5zJj1h/os9aK0rd/tzxRKQ/nRpuqHsuqFrzkkd2lJF7eGv99SXSuqPv72HGrwSH1JKbamoNqVzqapzauoCN6mrC9wl/f4+7r2/zCGVusAFMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAHvM8CAAQMGDHianh0rm7oeszf4mfCZeCwbG1d3sLzPxetm8c3qDZb3lfhuq3i0B8sbJZ7NwfK+Et9uBI/mYHnDxFfeYHkDxaszWN4YsT/4uTfom2vxAn/slVgtOed5nh/U/VMPap7nnJfFFPyxV+INrf5geWPEiz9Y3hixP1jeGLE/WN4YsT9Y3hixP1jeOHG2BssbI/YHyxsj9gfLGyh+Bs5GYHnjxb5geYPFtmB5o8WzK3j916Ke/c/5ny7nBg5oCXmogH3BuTw1AwYMGDBgwIABAwYMGDBgwIAB+w/EAw4Cx499+oHjR7cNwPkxXiyvPzhMLK8/OEY87WUgfor3eoMljvIagAPE8pqCl/h1gfzBkWJ5/cExYnn9wTFief3BMWJ5ncFr/FrX3uBlyXn+1Wfrv+flY7G8ruAN3a0fi+V1BK9lS7cfiuX1B8eI5TUDq6tosbyu4LHEiuW1Bc9FhXxzyWsIVmOkWF5n8HoTsgX8JK8xWOIxZHvwSV5jsMrj9TbxM+E0sR8PwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIB3EOChLvCQulJVXWrqAjfpXBf4nFJbk7dNKR36erz9If3q1FfjPaU/Hdo6vO0hqUvTDfvGDl1z+UP9CdD0wN3vOowrAAAAAElFTkSuQmCC"},1245:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACyAgMAAAABq6pmAAAACVBMVEX////v7+////+9ZSd4AAAAAXRSTlMAQObYZgAAAJFJREFUeF7t2bEJgDAQBVDdzBFsYuEI7uMIFmZKOxGEKFiEi+/47auUXMLv0m3G7u3Ex3Cfnqc6nrdPGH6XK85tY3hZ523a6+Pyvz20hpf1J3jK+cR5f9xVQXHpU4XG9U8S2K6C02fsylxO0KdRk69YWERERBQCsB4jDNZjwHoMPYYeQ4+hx4DtKliPocfQY8AHTV0CS6v3S5oAAAAASUVORK5CYII="},1246:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAMAAADnYz6mAAAAQlBMVEUAAAD09PTz8/P19fX19fXr6+vt7e319fX19fXx8fH09PT19fX19fX09PT09PS/v7/09PTMzMz19fX09PTz8/P19fXpFaatAAAAFXRSTlMAd1Uzxg0Ox8U4WvT4jKYEpwXEjhaS10p/AAABSklEQVR4XuzPuQ2AMAAEsKNNIh6h7L8qS9CcZG/gXOOoNp6cu9ydtcut7HoKP1BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCYu9zMu8t91c+7DQIxAMBQEx+fFDQI9l+VjvoUCSn2AtZ7whwnuiwfXuO/TU7mquBxZZPMC3BZECccGwkwL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCXBAUCMeNUOYFmBdgXoB5AeYFmBdgXoB5AeYFmBdgXoB5AeYF+BPECfewAPMCzAswL8C8APMC3hsLvt9F8VIcwPHcAAAAAElFTkSuQmCC"},1247:function(e,t,n){e.exports=n.p+"assets/images/history-ccb53270.png"},1248:function(e,t,n){e.exports=n.p+"assets/images/stations-96e82b90.svg"},1249:function(e,t,n){e.exports=n.p+"assets/images/likes@2x-0ea46c8c.png"},1250:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFOCAMAAABpHD45AAAARVBMVEUAAAD////////09PT09PT09PTw8PDx8fHv7+/v7+/w8PDw8PDw8PDw8PDw8PDw8PDw8PDv7+/v7+/v7+/v7+/v7+/v7+9u/7I5AAAAFnRSTlMABgcYLS5GR4GClZaXv8fI2ePx8vP0thwu4AAAAyNJREFUeF7s1FsOwyAQQ1HDtCWBTgIkdP9LrSpFfa6glq3zxe/VgNfCJXvdbtpf26rnFPA7K10BWPRi+FychgIwGXPE22xRADar4blTUwA+7Yxjpr6U2nHDUf8zqTXisUkBWM0AYEMBWA0DUBSA1xUIXQF49YCkAMwSsgIwy3AFYOaoCsCsYlcAZju+X+7s3FENwFAIALGpeP6lTgACDpKeBPpJ4LucpidgwAIswAIswAIMGDBgARZgARZgARZgwIABC7AAC7AACzBgwIAFWIAFWIAFWIABC7AAC3AfYAEWYAEWYAEWYMACLMAC3AVYgAVYgAVYgAUYMGDAAizAAizAAgwYMGABFmABFmABFmDAAizAAizAAizAgAEDFmABNu5TwAL8DgUYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAVYgJsAC7AAC3ATYAEWYAFuAizAAizAZYAFWAvvKwADFmABXhtgARbgtQEWYAFuAgwYsAALcBNgwIBl4S/AAtwEWIAFWICbAAuwAAtwGmABFuB3KMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGLMAXAyzAAizAAizAgAEDFmABFmABFmABBizAAizAfYAFWIAFWIAFWIABC7AAC7AAC7AAjwALsAALsAALsACPAAuwAAuwAAuwAAP2EBwwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQuwAAuwAAvwDLAAC7AAC7AAC/AMsAALsAALsAALMGABFmAB7gMswAIswAIswAIMWIAF+EiABViABViABViAAQuwAAtwH2ABFmABFmABFmDAAizAAizAAizAM8ACLMACLMACLMCAAQMWYAEWYAEWYMCAAQuwAAuwAAuw/nbqBYVhEAqi6OhrMdG8VEW7/6X2QwktWUGHOTu4DMxpz3EnJgOVOU8qnDlPHJk5TzISc54khM5bJz0AG2+eFAA2WetkGp5W1jxZ8BJvnHWyR7xZY6yTZvi4Ei4s7YKD0b207IYvcZ1McTKXiF9WOkuc9GI4Cyl7Hf9dJqN6TgGHBwkV6ceOnbSuAAAAAElFTkSuQmCC"},1251:function(e,t,n){e.exports=n.p+"assets/images/following@2x-65b4cc6f.png"},1252:function(e,t,n){e.exports=n.p+"assets/images/reposts@2x-34af13e5.png"},1253:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFkAgMAAACFmwDIAAAACVBMVEX////v7+////+9ZSd4AAAAAXRSTlMAQObYZgAAAPlJREFUeF7t3T0Kg0AUhVGb7C+NjfuzuasMgammCrzHMEnOV4nNKf1Bucf5SUd/YDC4EBgMBj/OlhbBYHDyMzAYDAb3txucrIfBYDAYDAZfud/eOPgfGFy/vX2uhsFg8HTwNTAYDL6SzPA4OeCuwGBwodpFohoYDPZgDgaDweDN3tCDwWAwGAwegTf4ShEMBoP9GQIGNwcGg8FgMFiSJEmSJEmSJEmSbA2AwWAwuCewPQkw2NYAGAwG25NoDwwGg8FgsHUFsK0BMNieBBgMticBBoNtDYDBYFsDYDAYbE8CDAaDwWCwPQlbA2Aw2J4EGGxPAgwGg8Fg8AuOzq2C1GollwAAAABJRU5ErkJggg=="},1254:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYQAAAGGCAMAAABMqwbqAAAAb1BMVEUAAADy8vL19fX09PT09PT19fXy8vLy8vLz8/P19fX19fX09PT09PT09PT09PT19fX19fX19fX09PT19fX19fXMzMz09PT19fW/v7+/v7/z8/P09PT19fX19fX09PT09PTy8vL19fXx8fHx8fHz8/PuwIOcAAAAJXRSTlMAE5XV7pYUABXk/+YXnqDi4/3UfnwFtbIEAFKRqszxkFBmOABY5HC7oAAAAvNJREFUeAHsw9sJACAMA8CkDxBB999Wu0V+cnAwPYIDpvKCzNVdKWM1cbaY3Qj89ugYtcowigLg/f4cEB4KRmwUK+P+tyUWbuFhccFeeeQQmNnClHHNrQ4JEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQlIkMDfBCQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAnPN8qe5+lG2afr41B2Xdf7oepDzpc558yDnN/z6j7f5y17Oj/nvJsH+vrr9Q9y5q3Lt3mgu4P/kWlzMHEgwcEmOJDgYOJAgoNNcCDBwcSBBAeb4ECCg4kDCQ42wYEEBxMHEhxsggMJDiYOJDjYBAcSHEwcSHCwCQ4kOJg4kOBgExxIcDBxIMHBJjiQ4GDiQIKDTXAgwcHEgQQHm+BAgoOJAwkONsGBBAcTBxIcbIIDCQ4mDiQ42AQHEhxMHEhwsAkOJDiYOOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446Ms46Ht5pB/fX/4dm1DFH8k5QrzsjBo3AAAAAElFTkSuQmCC"},1255:function(e,t,n){e.exports=n.p+"assets/images/history@2x-6eaa4edd.png"},1379:function(e,t,n){e.exports=n(751).extend({css:[n(1280),n(5020)],template:n(5022),tracking:{pageName:function(){var e=this.args,t=e.subpage;return(n(7).get("me").hasPermalink(e.userPermalink)?"you":"users")+":"+("sets"===t?"playlists":t||"main")},pageUrn:function(){return this.user.getUrn()}},setup:function(e){var t=this,s=e.userPermalink,a=e.subpage||"all",l=n(11).defer();return"you"===s&&n(7).get("router").navigateToRoute("user",[n(7).get("me")],{replace:!0}),n(45).resolve(s).done((function(e){t.user=e;var s=new(n(759))(null,{userId:e.id,keepBlocked:!1});(s.isPopulated()?n(11).resolve():s.fetch()).always((function(){var r=s.pluck("genre");s.release();var c=n(3037).getUserCategoryFromTrackGenres(r);t.setTitle(i.call(t,e,a,c),{withoutSuffix:!0});var u={resource_id:e.id,subpage:a};o.call(t,u,e,l)}))})).fail(l.reject).fail(n(309).ajaxFatal(n(1220).USER_NOT_FOUND)),l}});function o(e,t,o){var i=function(){return{resource_id:e.resource_id}};this.setViews({"l-banner":[n(5023),i()],"l-user-hero":[n(5028),i()],"l-vertical-bar":[n(5055),n(0).clone(e)],"l-main":[n(5086),n(0).defaults({playQueuePriority:1},e)],"l-sidebar-right":[n(5130),i()]}).done(o.resolve).done((function(){return n(12).trigger("tracking:userLayout",{user:t})}))}function i(e,t,o){var i=e.get("username");switch(t){case"all":return o===n(3037).userCategoryMap.podcaster?n(2).Lingua.t("Stream [[[username]]] | Listen to podcast episodes online for free on SoundCloud",{username:i}):o===n(3037).userCategoryMap.audiobookPublisher?n(2).Lingua.t("Stream [[[username]]] | Listen to audiobooks and book excerpts online for free on SoundCloud",{username:i}):n(2).Lingua.t("Stream [[[username]]] music | Listen to songs, albums, playlists for free on SoundCloud",{username:i});case"popular-tracks":return o===n(3037).userCategoryMap.podcaster?n(2).Lingua.t("Stream [[[username]]] | Listen to popular podcast episodes online for free on SoundCloud",{username:i}):o===n(3037).userCategoryMap.audiobookPublisher?n(2).Lingua.t("Stream popular titles from [[[username]]] | Listen to audiobooks and book excerpts online for free on SoundCloud",{username:i}):n(2).Lingua.t("Stream [[[username]]] | Listen to top hits and popular tracks online for free on SoundCloud",{username:i});case"tracks":return o===n(3037).userCategoryMap.podcaster?n(2).Lingua.t("Stream [[[username]]] | Listen to podcast episodes online for free on SoundCloud",{username:i}):o===n(3037).userCategoryMap.audiobookPublisher?n(2).Lingua.t("Stream [[[username]]] | Listen to audiobooks and book excerpts online for free on SoundCloud",{username:i}):n(2).Lingua.t("Stream [[[username]]] | Listen to music albums online for free on SoundCloud",{username:i});case"albums":return o===n(3037).userCategoryMap.podcaster?n(2).Lingua.t("Stream [[[username]]] podcast | Listen to series and episodes online for free on SoundCloud",{username:i}):o===n(3037).userCategoryMap.audiobookPublisher?n(2).Lingua.t("Stream [[[username]]] | Listen to audiobooks and book excerpts online for free on SoundCloud",{username:i}):n(2).Lingua.t("Stream [[[username]]] | Listen to music albums online for free on SoundCloud",{username:i});case"sets":return o===n(3037).userCategoryMap.podcaster?n(2).Lingua.t("Stream [[[username]]] podcast | Listen to podcasts online for free on SoundCloud",{username:i}):o===n(3037).userCategoryMap.audiobookPublisher?n(2).Lingua.t("Stream audiobooks from [[[username]]] | Listen to collections online for free on SoundCloud",{username:i}):n(2).Lingua.t("Stream [[[username]]] | Listen to music playlists online for free on SoundCloud",{username:i});case"reposts":return n(2).Lingua.t("Listen to [[[username]]]’s favorite music online for free on SoundCloud",{username:i});default:return n(2).Lingua.t("Stream [[[username]]] music | Listen to songs, albums, playlists for free on SoundCloud",{username:i})}}},2969:function(e,t,n){e.exports=n(35).extend({resource_type:"stats-totals",baseUrl:function(){var e=this.options;var t=e.user,n=e.track,o={user_urn:t,track_urn:n,metric:e.singleMetric};return n?this.getEndpointUrl("totalsTrackStats",o):this.getEndpointUrl("totalsUserStats",o)},fetch:function(e){var t=this.options,o=t.from,i=t.to;return o&&i&&(e=n(0).assign({data:{from:+o,to:+i}},e)),n(35).prototype.fetch.call(this,e)},pars}},{hashFn:function(e,t){return void 0===t&&(t={}),[t.singleMetric,+t.from,+t.to,t.track].map(o).join("_")}}}},2977:function(e,t,n){var o=[{emitter:n(54),event:"follow",getInstance:function(e,t){var n=t.target;return e.options.userId===n},handler:function(e){var t,n=e.state,o=e.origin;n&&this.shouldAddFromActions?this.add({id:o},{at:0}):!n&&(t=this.get(o))&&this.remove(t)}}];e.exports=n(276).extend(n(277).withOptions({events:o}),{model:n(45),defaults:{limit:7,type:"followers"},shouldAddFromActions:!0,baseUrl:function(){return this.getEndpointUrl("userFollowers",{id:this.options.userId})}})},2981:function(e,t,n){var o=[{emitter:n(54),event:"follow",getInstanc},handler:function(e){var t=e.state,n=e.target;t&&this.add({id:n},{at:0})}}],i=e.exports=n(276).extend(n(277).withOptions({events:o}),{model:n(45),defaults:{limit:3,type:"followings"},baseUrl:function(){return this.getEndpointUrl("userFollowings",{id:this.options.userId})}});n(1218).applyTo(i,{fields:["username","full_name"]})},2986:function(e,t,n){e.exports=n(276).extend({model:n(74),defaults:{type:"playlists"},baseUrl:function(){return this.getEndpointUrl("userPlaylistsWithoutAlbums",{id:this.options.userId})}})},3012:function(e,t,n){var o=n(3032).locale(n(19).LinguaLib.getD3LocaleData());n(3032).time.format=o.timeFormat,n(3032).format=o.numberFormat,e.exports=n(3032)},3013:function(e,t,n){var o=e.exports=n(254).extend({initialize:function(e){n(0).defaults(this,e,{maxDate:n(3012).time.day.utc.floor(new Date)})},toJSO},offset:function(e){var t=(Math.round((+this.to-this.from)/n(43).MS_IN_DAY)+1)*e;return new o({from:n(3012).time.day.utc.offset(this.from,t),to:n(3012).time.day.utc.offset(this.to,t)})},pre},next:function(){return this.offset(1)},hasPrev:function(){return this.prev().from>this.minDate},hasNext:function(){return this.next().to<=this.maxDate},getResolution:function(){var e,t=(e=this.to,(e=new Date(e)).setUTCHours(23),e);return n(0).find(["hour","day","month","year"],(function(e){var o=n(3012).time[e].utc.offset(this.from,35);return t<=o}),this)},equals:function(e){return+this.from==+e.from&&+this.to==+e.to},format:function(e){return e=e||this.getResolution(),n(3036).$formatStatRange(this.from,this.to,e)}});function i(e,t,i,s){return function(){var a=n(3012).time[t].utc,l=a(new Date),r=n(3012).time.day.utc(new Date),c=a.offset(l,-(e-1)),u=a.offset(r,0);return new o({from:c,to:u,key:i,title:s})}}function s(e,t){o[t]=e,o.all.push(e)}o.find=function(e){var t=n(0).find(o.all}));return t&&t()},o.findByKey=function(e){var t=n(0).find(o.all,(function(t){return t().key===e}));return t&&t()},o.all=[],o.addAllTimeRange=function(e,t){void 0===t&&(t=n(2).Lingua.t("All time"));var i=new Date(new Date(e)-n(43).MS_IN_DAY),a=n(3029).getLatestDateBetweenGivenDateAnd2016(i),l=n(3012).time.day.utc(a),r=n(3012).time.day.utc.floor(new Date),c=l+"_"+r,u=function(){return new o({from:l,to:r,title:t,key:c})};return s(u,c),{makeRange:u,key:c}},o.removeTimeRange=function(e,t){delete o[t],o.all=n(0).without(o.all,e)},s(i(1,"day","today",n(2).Lingua.t("Today"))),s(i(7,"day","last7Days",n(2).Lingua.t("Last 7 days"))),s(i(30,"day","last30Days",n(2).Lingua.t("Last 30 days"))),s(i(12,"month","last12Months",n(2).Lingua.t("Last 12 months")))},3029:function(e,t,n){"use strict";n.r(t),n.d(t,"dataStartDate",(function(){return i})),n.d(t,"getLatestDateBetweenGivenDateAnd2016"}));var o=n(3012),i=n.n(o).a.time.format.utc("%Y-%m-%d").parse("2016-01-01"),s=function(e){var t=new Date(e),n=Math.max(t.getTime(),i.getTime());return new Date(n)}},3031:function(e,t,n){var o,i=((o={})[n(392).englishLabels.business]=!0,o[n(392).englishLabels.comedy]=!0,o[n(392).englishLabels.entertainment]=!0,o[n(392).englishLabels.learning]=!0,o[n(392).englishLabels.newspolitics]=!0,o[n(392).englishLabels.religionspirituality]=!0,o[n(392).englishLabels.science]=!0,o[n(392).englishLabels.sports]=!0,o[n(392).englishLabels.storytelling]=!0,o[n(392).englishLabels.technology]=!0,o),s={audiobook:"Audiobook",podcast:"Podcast",music:"Music"};e.exports={PODCAST_CATEGORIES:i,trackCategory:s,getTrackCategoryFromGenre:function(e){return e?"Audiobooks"===e?s.audiobook:i[e]?s.podcast:s.music:s.music}}},3036:function(e,t,n){var o=n(3012).time.format.utc("%b");e.exports={$formatStatRange:function(e,t,n){var l,r,c="",u="";return"day"!==n&&"hour"!==n||(r=t,(l=e).getUTCDate()===r.getUTCDate()&&s(l,r)||(c+=e.getUTCDate()),u+=t.getUTCDate()),"year"!==n&&(s(e,t)||(c=i(c," ",o(e))),u=i(u," ",o(t))),a(e,t)||(c=i(c,", ",e.getUTCFullYear())),c&&(c+=" - "),c+(u=i(u,", ",t.getUTCFullYear()))},getMetricTitle:function(e,t,o,i){return function(e,t,o,i){var s=n(19).LinguaLib.getNativeLocaleData().dates.monthsShort[i.getMonth()],l=n(19).LinguaLib.getNativeLocaleData().dates.monthsDayShort&&n(19).LinguaLib.getNativeLocaleData().dates.monthsDayShort[i.getMonth()]||s;return{plays:{year:n(2).Lingua.tp("Play in [[year]]","Plays in [[year]]",t,{year:i.getFullYear()}),month:n(2).Lingua.tp("Play in [[month]]","Plays in [[month]]",t,{month:s}),monthYear:n(2).Lingua.tp("Play in [[month]] [[year]]","Plays in [[month]] [[year]]",t,{month:s,year:i.getFullYear()}),monthDay:n(2).Lingua.tp("Play on [[month]] [[day]]","Plays on [[month]] [[day]]",t,{month:l,day:i.getDate()}),monthDayTime:n(2).Lingua.tp("Play on [[month]] [[day]] at [[time]]","Plays on [[month]] [[day]] at [[time]]",t,{month:l,day:i.getDate(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)}),date:n(2).Lingua.tp("Play on [[month]] [[day]] [[year]]","Plays on [[month]] [[day]] [[year]]",t,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(2).Lingua.tp("Play on [[month]] [[day]] [[year]] at [[time]]","Plays on [[month]] [[day]] [[year]] at [[time]]",t,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)})},likes:{year:n(2).Lingua.tp("Like in [[year]]","Likes in [[year]]",t,{year:i.getFullYear()}),month:n(2).Lingua.tp("Like in [[month]]","Likes in [[month]]",t,{month:s}),monthYear:n(2).Lingua.tp("Like in [[month]] [[year]]","Likes in [[month]] [[year]]",t,{month:s,year:i.getFullYear()}),monthDay:n(2).Lingua.tp("Like on [[month]] [[day]]","Likes on [[month]] [[day]]",t,{month:l,day:i.getDate()}),monthDayTime:n(2).Lingua.tp("Like on [[month]] [[day]] at [[time]]","Likes on [[month]] [[day]] at [[time]]",t,{month:l,day:i.getDate(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)}),date:n(2).Lingua.tp("Like on [[month]] [[day]] [[year]]","Likes on [[month]] [[day]] [[year]]",t,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(2).Lingua.tp("Like on [[month]] [[day]] [[year]] at [[time]]","Likes on [[month]] [[day]] [[year]] at [[time]]",t,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)})},comments:{year:n(2).Lingua.tp("Comment in [[year]]","Comments in [[year]]",t,{year:i.getFullYear()}),month:n(2).Lingua.tp("Comment in [[month]]","Comments in [[month]]",t,{month:s}),monthYear:n(2).Lingua.tp("Comment in [[month]] [[year]]","Comments in [[month]] [[year]]",t,{month:s,year:i.getFullYear()}),monthDay:n(2).Lingua.tp("Comment on [[month]] [[day]]","Comments on [[month]] [[day]]",t,{month:l,day:i.getDate()}),monthDayTime:n(2).Lingua.tp("Comment on [[month]] [[day]] at [[time]]","Comments on [[month]] [[day]] at [[time]]",t,{month:l,day:i.getDate(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)}),date:n(2).Lingua.tp("Comment on [[month]] [[day]] [[year]]","Comments on [[month]] [[day]] [[year]]",t,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(2).Lingua.tp("Comment on [[month]] [[day]] [[year]] at [[time]]","Comments on [[month]] [[day]] [[year]] at [[time]]",t,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)})},reposts:{year:n(2).Lingua.tp("Repost in [[year]]","Reposts in [[year]]",t,{year:i.getFullYear()}),month:n(2).Lingua.tp("Repost in [[month]]","Reposts in [[month]]",t,{month:s}),monthYear:n(2).Lingua.tp("Repost in [[month]] [[year]]","Reposts in [[month]] [[year]]",t,{month:s,year:i.getFullYear()}),monthDay:n(2).Lingua.tp("Repost on [[month]] [[day]]","Reposts on [[month]] [[day]]",t,{month:l,day:i.getDate()}),monthDayTime:n(2).Lingua.tp("Repost on [[month]] [[day]] at [[time]]","Reposts on [[month]] [[day]] at [[time]]",t,{month:l,day:i.getDate(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)}),date:n(2).Lingua.tp("Repost on [[month]] [[day]] [[year]]","Reposts on [[month]] [[day]] [[year]]",t,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(2).Lingua.tp("Repost on [[month]] [[day]] [[year]] at [[time]]","Reposts on [[month]] [[day]] [[year]] at [[time]]",t,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)})},downloads:{year:n(2).Lingua.tp("Download in [[year]]","Downloads in [[year]]",t,{year:i.getFullYear()}),month:n(2).Lingua.tp("Download in [[month]]","Downloads in [[month]]",t,{month:s}),monthYear:n(2).Lingua.tp("Download in [[month]] [[year]]","Downloads in [[month]] [[year]]",t,{month:s,year:i.getFullYear()}),monthDay:n(2).Lingua.tp("Download on [[month]] [[day]]","Downloads on [[month]] [[day]]",t,{month:l,day:i.getDate()}),monthDayTime:n(2).Lingua.tp("Download on [[month]] [[day]] at [[time]]","Downloads on [[month]] [[day]] at [[time]]",t,{month:l,day:i.getDate(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)}),date:n(2).Lingua.tp("Download on [[month]] [[day]] [[year]]","Downloads on [[month]] [[day]] [[year]]",t,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(2).Lingua.tp("Download on [[month]] [[day]] [[year]] at [[time]]","Downloads on [[month]] [[day]] [[year]] at [[time]]",t,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(19).LinguaLib.dateTimeHelper.formatTime(i)})}}[e][function(e,t){if("year"===e)return"year";if("month"===e&&a(t,new Date))return"month";if("month"===e)return"monthYear";if(a(t,new Date))return"hour"===e?"monthDayTime":"monthDay";if("hour"===e)return"dateTime";return"date"}(o,i)]}(e,t,o,i)}};function i(e,t,n){return e&&(e+=t),e+=n}function s(e,t){return e.getUTCMonth()===t.getUTCMonth()&&a(e,t}},3037:function(e,t,n){var o,i={audiobookPublisher:"Audiobook Publisher",podcaster:"Podcaster",musicCreator:"Music Creator"},s=((o={})[n(3031).trackCategory.audiobook]=i.audiobookPublisher,o[n(3031).trackCategory.podcast]=i.podcaster,o[n(3031).trackCategory.music]=i.musicCreator,o);e.exports={CATEGORY_MAP:s,getUserCategoryFromTrackGenres:function(e){var t=e.map})),o=n(0).chain(t).countBy().pairs().max(n(0).last).head().value();return s[o||n(3031).trackCategory.music]},userCategoryMap:i}},3040:function(e,t,n){var o=n(35).extend({submodelMap:{subject:null},createSubmodel:function(e,t){var o,i=this.get(t),s=(null==i?void 0:i.urn)||(null==i||null==(o=i.self)?void 0:o.urn);if(s){var a=n(36).getAsAttributes(s),l=a.id,r=function(e){switch(e){case"user":return n(45);case"sound":return n(32);case"playlist":return n(74)}}(a.resource_type);r&&this.addSubmodel(new r(n(0).assign({id:l},n(0).omit(i,"self")),{parse:!0}))}}},{hashFn:function(){return null}});e.exports=n(59).extend({model:o,defaults:{metric:null,by:null,from:null,to:null,user:null,track:null},baseUrl:function(){var e=this.options,t=e.user,n=e.track,o=e.metric,i=e.by,s=e.to,a=e.from,l={user_urn:t,track_urn:n,metric:o,by:i},r={from:Number(a),to:Number(s)};return this.getEndpointUrl(n?"topListsTrackStats":"topListsUserStats",l,r)},parse:function(e){return this.next_href=null,this.totalCount=e.total_count,e.counts},getTotalCoun},setLimit:function(e){var t=e!==this.options.limit;n(59).prototype.setLimit.call(this,e),t&&e>this.length&&this.lastFetchTime&&(this.lastFetchTime=null)}},{hashFn:function(e,t){var n=t.metric,o=t.by,i=t.from,s=t.to,a=t.user,l=t.track;return[n,o,Number(i),Number(s),a,l].filter(Boolean).join("_")}})},3063:function(e,t,n){e.exports=new(n(30))({applyTo:function(e,t){var i=void 0===t?{}:t,s=i.clickObject,a=void 0===s?o:s,l=i.clickName,r=void 0===l?"click::ext_url":l;function c(e){n(21).trackV1Click({click_category:"navigation",click_object:a.call(this),click_name:r,click_target:e.target.href})}this.merge(e,{events:{'click a[href^="http://"]':c,'click a[href^="https://"]':c}})}});function o(){return this.model.getUrn()}},3078:function(e,t,n){e.exports=n(65).extend({defaults:{width:650,warnBeforeClosing:!0,stayOpenOnNavigate:!0,Subview:n(590),confirmCloseMessage:n(2).Lingua.t("Your message has not been sent.\n\nAre you sure you want to leave this page?")},events:{'click a[href^="/"]':"onLinksClick"},setup:function(){n(65).prototype.setup.apply(this,arguments),this.listenTo(n(12),"new-message:sent",this.close)},canBeClosed:function(){var e=this.getContentView();return n(21).trackV0Click(["messages","overlay-clicked"]),!(null==e||!e.form||e.form.get("body").trim())||n(65).prototype.canBeClosed.call(this)},onLinksClic}})},3095:function(e,t,n){var o=["system"];e.exports=n(10).extend(n(46).withOptions("muteButton"),n(77),{className:"blockButton sc-button",defaults:{responsive:!1,showUserName:!1,showIcon:!1},buttonLabels:{default:function(){return this.options.showUserName?n(2).Lingua.t("Block [[username]]",{username:this.user.get("username")}):n(2).Lingua.t("Block")},selected:{text:function(){return this.options.showUserName?n(2).Lingua.t("Blocked [[username]]",{username:this.user.get("username")}):n(2).Lingua.t("Blocked")},title:function(){return this.options.showUserName?n(2).Lingua.t("Unblock [[username]]",{username:this.user.get("username")}):n(2).Lingua.t("Unblock")}}},ModelClass:n(596),modal:null,setup:function(e){var t=e.resource_id,i=e.showUserName,s=e.showIcon;this.$el.toggleClass("sc-button-block",s),this.user=this.addDataSource(new(n(45))({id:t}),{requiredAttributes:i?["username"]:[]}),this.observedAttributes=[t],o.indexOf(t)>-1&&this.$el.hide()},isButtonSelecte},onClick:function(e){e.preventDefault(),this.isButtonSelected()?n(54).block(this.options.resource_id,!1,!1,!1,{context:this.getContextData()}):i.call(this)}});function i(){this.modal||(this.modal=new(n(65))({togglerEl:this.el,width:567,Subview:n(776),subviewArgs:{resource_id:this.options.resource_id}})),this.modal.open()}},3096:function(e,t,n){var o=n(13),i=n(3268);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},3097:function(e,t,n){e.exports=n(184).extend(n(29).withOptions({names:["v2_ui_evolution"]}),{icon:n(16).Bin,ModelClass:n(252),defaults:{icon_only:!0,ContentViewClass:n(3098),overlayType:"dialog",commentDeleteIcon:!1,overlayOptions:{relativeElementAnchor:"center bottom",anchor:"right top",offset:"30 17",width:"282px"}},setup:function(){this.$el.toggleClass(this.options.commentDeleteIcon?"commentItem__delete":"sc-button-delete"),this.hasFeature("v2_ui_evolution")||(this.options.overlayOptions.offset="18 7"),n(184).prototype.setup.apply(this,arguments)},buttonLabels:{default:n(2).Lingua.t("Delete this comment")}})},3098:function(e,t,n){e.exports=n(10).extend(n(349),{template:n(3099),css:n(3100),className:"deleteCommentForm sc-text-captions",ModelClass:n(252),requiredAttributes:["user"],onSubmit:function(e){var t=e.is_spam,o=e.is_user_spam,i=!(null==t||!t.checked),s=!(null==o||!o.checked),a=this.model.get("user");i?this.model.reportAsSpam():n(54).destroy(this.model),s&&n(54).block(a.id,!0,!0,!0).then((function(){return n(12).trigger("user:blocked",{report:!0,userData:a})})),n(766).trackTrackCommentDelete({comment_urn:n(36).generate("comment",this.model.get("id")),track_urn:n(36).generate("sound",this.model.get("track_id"))})},getTemplateData:function(e){e.isMine=n(7).get("me").owns(this.model),e.isSpamLabel=n(2).Lingua.t("Also report comment as spam.")}})},3099:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+r((n(9)||t&&c(t,"$view")||l).call(a,n(203),{name:"$view",hash:{className:"deleteCommentForm__spam sc-text-light sc-text-primary sc-mb-1x sc-mt-1x",label:(n(3)||t&&c(t,"$t")||l).call(a,"Also report comment as spam.",{name:"$t",hash:{},data:s,loc:{start:{line:8,column:10},end:{line:8,column:45}}}),name:"is_spam"},data:s,loc:{start:{line:6,column:2},end:{line:10,column:4}}}))+"\n  "+r((n(9)||t&&c(t,"$view")||l).call(a,n(203),{name:"$view",hash:{className:"deleteCommentForm__spam sc-text-light sc-text-primary",label:(n(3)||t&&c(t,"$t")||l).call(a,"Also block and report user as spam.",{name:"$t",hash:{},data:s,loc:{start:{line:13,column:10},end:{line:13,column:52}}}),name:"is_user_spam"},data:s,loc:{start:{line:11,column:2},end:{line:15,column:4}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="sc-text-primary">\n'+c((n(3)||t&&u(t,"$t")||r).call(l,"Do you really want to remove this comment?",{name:"$t",hash:{},data:s,loc:{start:{line:2,column:0},end:{line:2,column:51}}}))+"<br>\n</div>\n\n"+(null!=(a=u(o,"unless").call(l,null!=t?u(t,"isMine"):t,{name:"unless",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:5,column:0},end:{line:16,column:11}}}))?a:"")+'\n<div class="deleteCommentForm__actions sc-mt-2x">\n  <button type="reset"  class="sc-button sc-button-small sc-button-tertiary sc-button-medium sc-mr-2x">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Cancel",{name:"$t",hash:{},data:s,loc:{start:{line:19,column:103},end:{line:19,column:118}}}))+'</button>\n  <button type="submit" class="sc-button sc-button-small sc-button-primary sc-button-medium">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Yes",{name:"$t",hash:{},data:s,loc:{start:{line:20,column:93},end:{line:20,column:105}}}))+"</button>\n</div>\n"},useData:!0})},3100:function(e,t,n){var o=n(13),i=n(3101);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},3101:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".deleteCommentContent__form{margin:7px 0 11px}.deleteCommentForm__actions{text-align:right}.sc-classic .deleteCommentForm__actions,.sc-classic .deleteCommentForm__spam{margin-top:5px}","",{version:3,sources:["webpack://./app/views/comments/delete-comment-form.css"],names:[],mappings:"AAAA,4BAA4B,iBAAiB,CAAC,4BAA4B,gBAAgB,CAAC,6EAA6E,cAAc",sourcesContent:[".deleteCommentContent__form{margin:7px 0 11px}.deleteCommentForm__actions{text-align:right}.sc-classic .deleteCommentForm__actions,.sc-classic .deleteCommentForm__spam{margin-top:5px}"],sourceRoot:""}]),t.default=a},3127:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}e.exports=n(10).extend(n(29).withOptions({names:["v2_ui_evolution"]}),{template:n(3702),css:[n(3703),n(1274)],className:"profileUploadFooter paging-eof sc-border-light-top",events:{"click .profileUploadFooter__cta":function(e){n(21).trackUploadFunnel({chapter:"upload-button-end-of-list",event:e})}},getTemplateDat}})},3128:function(e,t,n){(function(t){e.exports=n(276).extend(n(469),n(470),{defaults:{type:"spotlight"},model:n(763),baseUrl:function(){return this.getEndpointUrl("userSpotlight",{id:this.options.userId})},add:function(){return n(276).prototype.add.apply(this,arguments),this.length>5&&this.remove(this.models.slice(5)),this},parse:function(e){return e.collection.slice(0,5).map((function(e){var t="playlist"===e.kind;return{type:t?"playlist_spotlight":"track_spotlight",created_at:e.display_date,track:t?null:e,playlist:t?e:null}}))},getMaxItemCount:function(){return 5},getCurrentOrder:function(){return this.map((function(e){return(e.get("playlist")||e.get("track")).id}))},getCurrentUrn},reorder:function(e){this.sort({silent:!0,comparato}})},resetOrde},saveOrde},save:function(){var e=this.getCurrentUrns();return t.ajax(n(0).result(this,"baseUrl"),{type:"PUT",data:JSON.stringify({spotlight:e}),dataType:"json",contentType:"application/json"})}})}).call(this,n(28))},3137:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjEyIiB2aWV3Qm94PSIwIDAgNyAxMiI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMy43NzIgMTEuMlY5Ljk3NmMuNzkyLS4xMDQgMS4zODYtLjM2NiAxLjc4Mi0uNzg2LjM5Ni0uNDIuNTk0LS45NzQuNTk0LTEuNjYyIDAtLjM3Ni0uMDYtLjY5NC0uMTgtLjk1NHMtLjI5Ni0uNDgyLS41MjgtLjY2NmMtLjIzMi0uMTg0LS41MTQtLjM0Mi0uODQ2LS40NzQtLjMzMi0uMTMyLS43MS0uMjYyLTEuMTM0LS4zOS0uNzM2LS4yMjQtMS4yMjItLjQyMi0xLjQ1OC0uNTk0cy0uMzU0LS40MDItLjM1NC0uNjljMC0uMjguMTEyLS41MS4zMzYtLjY5LjIyNC0uMTguNTc2LS4yNyAxLjA1Ni0uMjcuNDMyIDAgLjc5NC4wNzQgMS4wODYuMjIyLjI5Mi4xNDguNTg2LjM1Ljg4Mi42MDZsLjg3Ni0uODg4Yy0uMjk2LS4yOTYtLjYxOC0uNTM4LS45NjYtLjcyNi0uMzQ4LS4xODgtLjczLS4zMTQtMS4xNDYtLjM3OFYuNGgtMS4yNnYxLjIzNmMtLjYwOC4wOTYtMS4xMTguMzM2LTEuNTMuNzItLjQxMi4zODQtLjYxOC44ODgtLjYxOCAxLjUxMiAwIC4zNi4wNTQuNjY2LjE2Mi45MTguMTA4LjI1Mi4yNy40NjYuNDg2LjY0Mi4yMTYuMTc2LjQ4OC4zMzIuODE2LjQ2OC4zMjguMTM2LjcxNi4yNjggMS4xNjQuMzk2LjY5Ni4yMDggMS4xODIuNDA2IDEuNDU4LjU5NC4yNzYuMTg4LjQxNC40NDYuNDE0Ljc3NCAwIC4zNjgtLjEzOC42NS0uNDE0Ljg0Ni0uMjc2LjE5Ni0uNzE0LjI5NC0xLjMxNC4yOTQtLjM5MiAwLS43NjgtLjA4LTEuMTI4LS4yNC0uMzYtLjE2LS42OTItLjQwNC0uOTk2LS43MzJsLS45Ni44MTZjLjI3Mi4zNTIuNjI2LjY0NiAxLjA2Mi44ODIuNDM2LjIzNi45MDIuMzg2IDEuMzk4LjQ1VjExLjJoMS4yNnoiLz4KPC9zdmc+Cg=="},3139:function(e,t,n){e.exports=n(35).extend({baseUrl:function(){return this.getEndpointUrl("verificationStatus")}},{hashFn:function(){return 1}})},3261:function(e,t,n){e.exports=n(10).extend(n(77),{icon:n(16).Social.MessageLogoBold,defaults:{size:"medium",show_icon:!0},tagName:"a",buttonLabels:{default:{text:n(2).Lingua.t("Message"),title:n(2).Lingua.t("Send a message")}},attributes:{href:""},states:{icon:"sc-button-message"},ModelClass:n(45),modal:null,setu},onClick:function(e){e.preventDefault(),this.modal||(this.modal=new(n(3078))({togglerEl:this.el,subviewArgs:{resource_id:this.model?this.model.id:null}})),n(12).trigger("messages:write-new"),n(21).trackV0Click(["messages","write-new-clicked"]),this.modal.open()}})},3262:function(e,t,n){e.exports=n(10).extend(n(77),{className:"reportButton sc-button sc-button-tertiary",defaults:{responsive:!1,showUserName:!1,showIcon:!1},buttonLabels:{default:function(){return this.options.showUserName?n(2).Lingua.t("Report [[username]]",{username:this.model.get("username")}):n(2).Lingua.t("Report")}},ModelClass:n(45),modal:null,setu},onClic}});function o(){this.modal||(this.modal=new(n(65))({togglerEl:this.el,width:567,Subview:n(607),subviewArgs:{resource_id:this.options.resource_id,className:"reportModalContent__reportContent"}})),this.modal.open()}},3267:function(e,t,n){e.exports=new(n(30))({applyTo:function(e){e.css?(Array.isArray(e.css)||(e.css=[e.css]),e.css.push(n(3096))):e.css=n(3096),e.className&&!/\bupsellBanner\b/.test(e.className)&&(e.className+=" upsellBanner")}})},3268:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s),l=n(15),r=n.n(l),c=n(3269),u=n.n(c),p=a()(i.a),d=r()(u.a);p.push([e.i,".upsellBanner{display:none;position:relative}body:not(.sc-classic) .upsellBanner{margin:0 16px 8px;margin:0 var(--spacing-2x) var(--spacing-1x);padding:16px 48px 16px 32px;padding:var(--spacing-2x) var(--spacing-6x) var(--spacing-2x) var(--spacing-4x);border-radius:4px}.sc-classic .upsellBanner{padding:23px 30px}.upsellBanner.expanded{display:block}body:not(.sc-classic) .upsellBanner__wrapper{display:flex;justify-content:space-between}.upsellBanner__title{color:#fff;color:var(--surface-color)}.sc-classic .upsellBanner__title{font-size:18px;color:#fff;padding:0 0 4px}.upsellBanner__copy{color:#fff;color:var(--surface-color)}body:not(.sc-classic) .upsellBanner__copy{margin-bottom:0}.sc-classic .upsellBanner__copy{padding-bottom:4px}body:not(.sc-classic) .upsellBanner__button{align-self:center}.sc-classic .upsellBanner__close{position:absolute;top:10px;right:10px;width:15px;height:15px;border:0;padding:0;display:block;background:url("+d+") 50% no-repeat;cursor:pointer}body:not(.sc-classic) .upsellBanner__close{position:absolute;top:16px;top:var(--spacing-2x);right:16px;right:var(--spacing-2x)}@media (max-width:1079px){.sc-classic .upsellBanner{background-image:none}}","",{version:3,sources:["webpack://./app/lib/mixins/views/upsell-banner.css"],names:[],mappings:"AAAA,cAAc,YAAY,CAAC,iBAAiB,CAAC,oCAAoC,iBAAiB,CAAC,4CAA4C,CAAC,2BAA2B,CAAC,+EAA+E,CAAC,iBAAiB,CAAC,0BAA0B,iBAAiB,CAAC,uBAAuB,aAAa,CAAC,6CAA6C,YAAY,CAAC,6BAA6B,CAAC,qBAAqB,UAAU,CAAC,0BAA0B,CAAC,iCAAiC,cAAc,CAAC,UAAU,CAAC,eAAe,CAAC,oBAAoB,UAAU,CAAC,0BAA0B,CAAC,0CAA0C,eAAe,CAAC,gCAAgC,kBAAkB,CAAC,4CAA4C,iBAAiB,CAAC,iCAAiC,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,aAAa,CAAC,gEAA2D,CAAC,cAAc,CAAC,2CAA2C,iBAAiB,CAAC,QAAQ,CAAC,qBAAqB,CAAC,UAAU,CAAC,uBAAuB,CAAC,0BAA0B,0BAA0B,qBAAqB,CAAC",sourcesContent:[".upsellBanner{display:none;position:relative}body:not(.sc-classic) .upsellBanner{margin:0 16px 8px;margin:0 var(--spacing-2x) var(--spacing-1x);padding:16px 48px 16px 32px;padding:var(--spacing-2x) var(--spacing-6x) var(--spacing-2x) var(--spacing-4x);border-radius:4px}.sc-classic .upsellBanner{padding:23px 30px}.upsellBanner.expanded{display:block}body:not(.sc-classic) .upsellBanner__wrapper{display:flex;justify-content:space-between}.upsellBanner__title{color:#fff;color:var(--surface-color)}.sc-classic .upsellBanner__title{font-size:18px;color:#fff;padding:0 0 4px}.upsellBanner__copy{color:#fff;color:var(--surface-color)}body:not(.sc-classic) .upsellBanner__copy{margin-bottom:0}.sc-classic .upsellBanner__copy{padding-bottom:4px}body:not(.sc-classic) .upsellBanner__button{align-self:center}.sc-classic .upsellBanner__close{position:absolute;top:10px;right:10px;width:15px;height:15px;border:0;padding:0;display:block;background:url(~assets/images/close-dark.png) 50% no-repeat;cursor:pointer}body:not(.sc-classic) .upsellBanner__close{position:absolute;top:16px;top:var(--spacing-2x);right:16px;right:var(--spacing-2x)}@media (max-width:1079px){.sc-classic .upsellBanner{background-image:none}}"],sourceRoot:""}]),t.default=p},326},3287:function(e,t,n){e.exports=new(n(30))({merge:{defaults:{userId:null}},after:{setup:function(){var e=this.ModelClass===n(45)&&(this.options.resource_id||this.options._id)||this.options.userId;this._userWebProfiles=new(n(762))(null,{userId:e}),this.addDataSource(this._userWebProfiles),this.listenTo(this,"update:collection",this.rerender)}},getDirectSupportProfile:function(){return n(7).get("features").has("v2_direct_support_link")&&this._userWebProfiles.getDirectSupportProfile()}})},3288:function(e,t,n){e.exports=n(10).extend(n(29).withOptions({names:["v2_ui_evolution"]}),{tagName:"article",className:"directSupport sc-mb-3x sc-px-2x",template:n(3289),css:n(3290),ModelClass:n(45),requiredAttributes:["username"],defaults:{profile:null},events:{"click .directSupport__button":function(){n(21).trackV1Click({click_name:"covid_support_link::click",click_object:this.model.getUrn(),click_category:"engagement"})}},getTemplateData:function(){var e=this.options.profile;return{profileUrl:n(185).formatUserGeneratedLink(e.get("url")),username:this.model.get("username"),MonetizeIcon:this.hasFeature("v2_ui_evolution")&&n(16).Monetize}}})},3289:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <a href="'+c("function"==typeof(a=null!=(a=u(o,"profileUrl")||(null!=t?u(t,"profileUrl"):t))?a:r)?a.call(l,{name:"profileUrl",hash:{},data:s,loc:{start:{line:9,column:13},end:{line:9,column:27}}}):a)+'" target="_blank" class="theme-dark directSupport__button sc-button sc-button-primary sc-button-medium">\n      '+c((n(38)||t&&u(t,"$react-view")||r).call(l,null!=t?u(t,"MonetizeIcon"):t,{name:"$react-view",hash:{},data:s,loc:{start:{line:10,column:6},end:{line:10,column:34}}}))+'\n      <span class="sc-truncate">\n        '+c((n(3)||t&&u(t,"$t")||r).call(l,"Support [[username]]",{name:"$t",hash:{username:(n(215)||t&&u(t,"$normalize")||r).call(l,null!=t?u(t,"username"):t,{name:"$normalize",hash:{},data:s,loc:{start:{line:12,column:45},end:{line:12,column:66}}})},data:s,loc:{start:{line:12,column:8},end:{line:12,column:68}}}))+"\n      </span>\n    </a>\n"},3:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <a href="'+c("function"==typeof(a=null!=(a=u(o,"profileUrl")||(null!=t?u(t,"profileUrl"):t))?a:r)?a.call(l,{name:"profileUrl",hash:{},data:s,loc:{start:{line:16,column:13},end:{line:16,column:27}}}):a)+'" target="_blank" class="sc-button sc-button-large directSupport__button">\n      <span class="directSupport__buttonIcon"></span>\n      <span class="directSupport__buttonLabel">\n        '+c((n(3)||t&&u(t,"$t")||r).call(l,"Support [[username]]",{name:"$t",hash:{username:(n(215)||t&&u(t,"$normalize")||r).call(l,null!=t?u(t,"username"):t,{name:"$normalize",hash:{},data:s,loc:{start:{line:19,column:45},end:{line:19,column:66}}})},data:s,loc:{start:{line:19,column:8},end:{line:19,column:68}}}))+"\n      </span>\n    </a>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="directSupport__box">\n  <p class="directSupport__copy sc-font-light">\n    '+e.escapeExpression((n(3)||t&&r(t,"$t")||e.hooks.helperMissing).call(l,"The COVID-19 virus has impacted the creative community around the world. Show support for your favorite creators. [[[linkBegin]]]Learn more[[[linkEnd]]]",{name:"$t",hash:{linkEnd:"</a>",linkBegin:'<a href="https://help.soundcloud.com/hc/articles/360045363454" target="_blank">'},data:s,loc:{start:{line:3,column:4},end:{line:6,column:6}}}))+"\n  </p>\n"+(null!=(a=r(o,"if").call(l,null!=t?r(t,"MonetizeIcon"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:8,column:2},end:{line:22,column:9}}}))?a:"")+"</div>\n"},useData:!0})},3290:function(e,t,n){var o=n(13),i=n(3291);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},329},3292:function(e,t,n){e.exports=n.p+"assets/images/direct-support-bg-ad2384d0.jpg"},3293:function(e,t,n){e.exports=n.p+"assets/images/direct-support-bg@2x-05c2898f.jpg"},3702:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=u(o,"if").call(l,null!=t?u(t,"soundCloudLogo"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:3,column:7}}}))?a:"")+'<div class="sc-font-light medium sc-text-body profileUploadFooter__text">'+c((n(3)||t&&u(t,"$t")||r).call(l,"More uploads means more listeners.",{name:"$t",hash:{},data:s,loc:{start:{line:4,column:73},end:{line:4,column:118}}}))+'</div>\n<a href="'+c((n(27)||t&&u(t,"$route")||r).call(l,"upload",{name:"$route",hash:{},data:s,loc:{start:{line:5,column:9},end:{line:5,column:28}}}))+'" class="sc-button sc-button-cta sc-button-primary sc-button-medium sc-mt-1x sc-font-light profileUploadFooter__cta">\n   '+c((n(3)||t&&u(t,"$t")||r).call(l,"Upload more",{name:"$t",hash:{},data:s,loc:{start:{line:6,column:3},end:{line:6,column:24}}}))+"\n</a>\n"},useData:!0})},3703:function(e,t,n){var o=n(13),i=n(3704);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},3704:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".profileUploadFooter{text-align:center}.sc-classic .profileUploadFooter{position:relative;margin:10px 0 0;border-radius:2px;background-color:#fff;padding-bottom:45px}.sc-classic .profileUploadFooter__text{padding:15px 0}","",{version:3,sources:["webpack://./app/views/user/profile-upload-footer.css"],names:[],mappings:"AAAA,qBAAqB,iBAAiB,CAAC,iCAAiC,iBAAiB,CAAC,eAAe,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,uCAAuC,cAAc",sourcesContent:[".profileUploadFooter{text-align:center}.sc-classic .profileUploadFooter{position:relative;margin:10px 0 0;border-radius:2px;background-color:#fff;padding-bottom:45px}.sc-classic .profileUploadFooter__text{padding:15px 0}"],sourceRoot:""}]),t.default=a},3706:function(e,t,n){e.exports=n(10).extend(n(29).withOptions({names:["v2_ui_evolution"]}),{template:n(3707),css:n(3710),className:"commentBadge",ModelClass:n(252),requiredAttributes:["user"],defaults:{compact:!0},states:{canDelete:"canDelete",dialogOpen:"dialogOpen"},initialize:function(){this.bubbleEvents={},this.bubbleEvents[n(397).TOGGLE]="onDeleteDialogToggle",n(10).prototype.initialize.apply(this,arguments)},renderDecorate:function(){this.toggleState("canDelete",n(7).get("me").owns(this.model))},onDeleteDialogToggl},getTemplateData:function(e){e.isUIEvo=this.hasFeature("v2_ui_evolution"),e.canDelete=n(7).get("me").owns(this.model)}})},3707:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((n(2996)||t&&r(t,"$usertextOneline")||l).call(a,null!=t?r(t,"body"):t,{name:"$usertextOneline",hash:{maxLength:200,links:(n(62)||t&&r(t,"$ternary")||l).call(a,null!=t?r(t,"isUIEvo"):t,!0,!1,{name:"$ternary",hash:{},data:s,loc:{start:{line:7,column:35},end:{line:7,column:64}}})},data:s,loc:{start:{line:7,column:4},end:{line:7,column:80}}}))},3:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((n(2987)||t&&a(t,"$usertext")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?a(t,"body"):t,{name:"$usertext",hash:{paragraphs:!1},data:s,loc:{start:{line:9,column:4},end:{line:9,column:40}}}))},5:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="commentBadge__deleteCommentButton">\n    '+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(3097),{name:"$view",hash:{className:"sc-button-secondary",size:null!=t?a(t,"button_size"):t,key:"deleteCommentButton",resource_id:null!=t?a(t,"_resource_id"):t},data:s,loc:{start:{line:17,column:4},end:{line:17,column:144}}}))+"\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="commentBadge__title sc-text-secondary sc-mb-1x">\n  \x3c!-- TODO When sound model will be included in comment we don\'t need this --\x3e\n  '+c((n(9)||t&&u(t,"$view")||r).call(l,n(3708),{name:"$view",hash:{resource_id:null!=t?u(t,"track_id"):t},data:s,loc:{start:{line:3,column:2},end:{line:3,column:61}}}))+'\n</div>\n<div class="commentBadge__body'+c((n(149)||t&&u(t,"$unless")||r).call(l,null!=(a=null!=t?u(t,"_options"):t)?u(a,"compact"):a," sc-font-light",{name:"$unless",hash:{},data:s,loc:{start:{line:5,column:30},end:{line:5,column:75}}}))+'">'+(null!=(a=u(o,"if").call(l,null!=(a=null!=t?u(t,"_options"):t)?u(a,"compact"):a,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:6,column:2},end:{line:10,column:11}}}))?a:"")+'</div>\n<span class="commentBadge__time sc-text-light sc-text-secondary">\n  '+c((n(9)||t&&u(t,"$view")||r).call(l,n(457),{name:"$view",hash:{timestamp:null!=t?u(t,"created_at"):t},data:s,loc:{start:{line:13,column:2},end:{line:13,column:68}}}))+"\n</span>\n"+(null!=(a=u(o,"if").call(l,null!=t?u(t,"canDelete"):t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:15,column:0},end:{line:19,column:7}}}))?a:"")},useData:!0})},3708:function(e,t,n){e.exports=n(10).extend({template:function(e){return n(2).Lingua.t("on [[[linkToTrack]]]",{linkToTrack:n(3709)(e)})},ModelClass:n(32),requiredAttributes:["title","permalink"],defaults:{noFollow:!1}})},3709:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="sc-link-light sc-link-primary" href="'+u((n(27)||t&&p(t,"$route")||c).call(r,"listen",t,{name:"$route",hash:{},data:s,loc:{start:{line:1,column:47},end:{line:1,column:71}}}))+'"'+(null!=(a=(n(37)||t&&p(t,"$if")||c).call(r,null!=t?p(t,"noFollow"):t,' rel="nofollow"',{name:"$if",hash:{},data:s,loc:{start:{line:1,column:72},end:{line:1,column:108}}}))?a:"")+">"+u("function"==typeof(l=null!=(l=p(o,"title")||(null!=t?p(t,"title"):t))?l:c)?l.call(r,{name:"title",hash:{},data:s,loc:{start:{line:1,column:109},end:{line:1,column:118}}}):l)+"</a>\n"},useData:!0})},3710:function(e,t,n){var o=n(13),i=n(3711);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},3711:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,'.commentBadge{position:relative;overflow:hidden}.commentBadge__title{margin-right:85px}.sc-classic .commentBadge__title{margin-right:78px}.sc-classic .commentBadge:hover .commentBadge__title a{color:#333}.commentBadge__time{color:#666;color:var(--font-secondary-color);position:absolute;right:0;top:0}.sc-classic .commentBadge__time{color:#ccc}.commentBadge__deleteCommentButton{display:none;position:absolute;top:8px;top:var(--spacing-1x);right:0}.sc-classic .commentBadge__deleteCommentButton{top:5px;right:7px}.commentBadge.dialogOpen .commentBadge__deleteCommentButton,.commentBadge:hover .commentBadge__deleteCommentButton{display:block}.commentBadge.canDelete:hover .commentBadge__time,.commentBadge.dialogOpen .commentBadge__time{display:none}.commentBadge__body:before{content:"“"}.commentBadge__body:after{content:"”"}',"",{version:3,sources:["webpack://./app/views/comments/comment-badge.css"],names:[],mappings:"AAAA,cAAc,iBAAiB,CAAC,eAAe,CAAC,qBAAqB,iBAAiB,CAAC,iCAAiC,iBAAiB,CAAC,uDAAuD,UAAU,CAAC,oBAAoB,UAAU,CAAC,iCAAiC,CAAC,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,gCAAgC,UAAU,CAAC,mCAAmC,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,qBAAqB,CAAC,OAAO,CAAC,+CAA+C,OAAO,CAAC,SAAS,CAAC,mHAAmH,aAAa,CAAC,+FAA+F,YAAY,CAAC,2BAA2B,WAAW,CAAC,0BAA0B,WAAW",sourcesContent:['.commentBadge{position:relative;overflow:hidden}.commentBadge__title{margin-right:85px}.sc-classic .commentBadge__title{margin-right:78px}.sc-classic .commentBadge:hover .commentBadge__title a{color:#333}.commentBadge__time{color:#666;color:var(--font-secondary-color);position:absolute;right:0;top:0}.sc-classic .commentBadge__time{color:#ccc}.commentBadge__deleteCommentButton{display:none;position:absolute;top:8px;top:var(--spacing-1x);right:0}.sc-classic .commentBadge__deleteCommentButton{top:5px;right:7px}.commentBadge.dialogOpen .commentBadge__deleteCommentButton,.commentBadge:hover .commentBadge__deleteCommentButton{display:block}.commentBadge.canDelete:hover .commentBadge__time,.commentBadge.dialogOpen .commentBadge__time{display:none}.commentBadge__body:before{content:"“"}.commentBadge__body:after{content:"”"}'],sourceRoot:""}]),t.default=a},3712:function(e,t,n){e.exports=n(276).extend({model:n(252),defaults:{type:"comments"},baseUrl:function(){return this.getEndpointUrl("userComments",{id:this.options.userId})}})},3713:function(e,t,n){e.exports=n(10).extend({template:n(5093),className:"userStreamItem",defaults:{userStreamItem:null,userId:nul.hold()},hasSpotlightEdit:function(){return n(7).get("features").has("spotlight")&&"public"===this.model.getModelData().sharing&&!this.model.isRepost()&&!this.model.isLike()&&n(7).get("me").id===this.options.userId},getTemplateData:function(e){var t=this.model,o=this.options.userId,i=!!e.track,s=e[i?"track":"playlist"];return n(0).assign(e,{user_id:o,model_type:i?"sound":"playlist",model_id:s.id,actorId:(t.isRepost()||t.isLike())&&o,actionType:t.getActionType(),time_to_show:e.created_at,time_display_prefix:this.model.isRepost()?"Reposted":"Posted",show_spotlight:this.hasSpotlightEdit()})}})},3810:functitCache()}e.exports=n(10).extend(n(157),{template:n(5031),className:"headerImageEditChooser",ModelClass:n(45),events:{"click .headerImageEditChooser__choo.click()},"change .headerImageEditChooser__fileInput":function(e){var t=e.target.files[0];t&&(o.call(this),this.openModalWithFile(t))}},defaults:{buttonClass:"sc-button-nostyle",text:n(2).Lingua.t("Replace image"),dialogType:"genericDialog",dialogEnabled:!1},element2selector:{chooseButton:".headerImageEditChooser__chooseButton",fileInput:".headerImageEditChooser__fileInput"},dialogArgs:{text:n(2).Lingua.t("For best results, upload PNG or JPG images of at least 2480x520 pixels. 2MB file-size limit."),smallText:!0,offset:"50 10",width:215},renderDecorate:function(){this.getElement("chooseButton").prop("disabled",!n(7).get("me").isConfirmed())},openModalWithFile:function(e){var t=new(n(5032))({togglerEl:this.el,subviewArgs:{resource_id:this.model.id,file:e}});t.on(n(65).Events.CLOSED,t._dispose,t),t.open()},getreturn{}},getTeme/png",e}})},3811:function(e,t,n){e.exports=n(10).extend(n(1240).withOptions({id:"verifiedBadge",elSelector:".profileHeaderInfo__verifiedBadge .sc-status-icon-verified",displayCondition:function(){if(!this._verificationStatus)return!1;var e=new Date;return e.setDate(e.getDate()-7),"verified"===this._verificationStatus.get("status")&&new Date(this._verificationStatus.get("timestamp"))>e}}),{template:n(5034),css:n(5036),className:"profileHeaderInfo sc-media",ModelClass:n(45),requiredAttributes:["avatar_url","username","full_name","city","country_code","urn"],setup:function(){this.model.isMe()&&(this._verificationStatus=this.addDataSource(new(n(3139)),{requiredAttributes:["status"],observedAttributes:["timestamp"]}))},getTemplateData:function(e){return n(0).assign(e,{_address:[e.city,this.model.getCountry()].filter(Boolean).join(", "),isMe:this.model.isMe(),containerOptions:{style:{display:"inline-block"}}})}})},3812:function(e,t,n){e.exports=n(10).extend(n(46).withOptions("userActionButtons"),n(29).withOptions({names:["v2_buy_button"]}),{className:"sc-button-group",ModelClass:n(45),requiredAttributes:["track_count"],template:function(){var e=this.model.isMe(),t=n(23).isLoggedIn(),o=this.model.get("id"),i=e&&n(234).hasUploads(),s=this.hasFeature("v2_buy_button"),a=!e&&s&&{View:n(5061)},l=!e&&{View:n(399).default,args:{size:"medium",resource_id:o,is_primary:!s,text_only:n(7).get("features").has("v2_ui_evolution")}},r=this.model.getNumTracks("public")>0&&{View:n(614),args:{stationType:"artist",seedId:o,text_only:!1,noStyle:!1,size:"medium",noFollow:!0,icon_only:s}},c=e&&i&&{View:n(5064),args:{text_only:n(7).get("features").has("v2_ui_evolution")}},u={View:n(593),args:{size:"medium",resource_id:o,resource_type:"user",icon_only:s}},p=!e&&t&&!this.model.isSystemUser()&&{View:n(3261),args:{size:"medium",resource_id:o,icon_only:!0,className:"sc-button-secondary"}},d=e&&{View:n(5065),args:{size:"medium",resource_id:o,hideLabelOnSmallScreen:!0,icon_only:s}},A=!e&&t&&{View:n(5083),args:{size:"medium",resource_id:o,icon_only:!0,contentViewArgs:{size:"medium"}}},m=s?[c,a,l,r,u,p,d,A].filter(Boolean):[c,r,l,u,p,d,A].filter(Boolean);return n(22).children(m.map((function(e){var t=e.View,o=e.args;return n(22).subview(t,o)})))}})},3813:function(e,t,n){e.exports=n(197).extend(n(455),{className:"soundList",itemClassName:"soundList__item",css:[n(2975),n(2970)],emptyTemplate:n(2971),defaults:{showEndView:!0,showUploadFooter:!1},events:{"click .emptyNetworkPage__buofile"})}},Subview:n(578),setup:function(e){var t=e.resource_id;this.collection=new(n(759))(null,{userId:t,keepBlocked:!1}),this.user=this.addDataSource(new(n(45))({id:t}),{requiredAttributes:["username"]}),e.showUploadFooter&&(this.EndOfListView=n(3127))},getTemplateData:function(e){return this.user.isMe()?(e.message=n(2).Lingua.t("Seems a little quiet over here"),e.linkUrl=e.buttonUrl=n(33).getRoute("upload")&&!n(7).get("features").has("v2_ui_evolution"),e.buttonUrl=n(33).getRoute("upload"),e.linkText=n(2).Lingua.t("Upload a track to share it with your followers."),e.buttonText=n(2).Lingua.t("Upload now")):(e.message=n(2).Lingua.t("Nothing to hear here"),e.subheaderMessage=n(2).Lingua.t("Follow [[username]] for updates on sounds they share in the future.",{username:this.user.get("username")})),e.isUiEvolutionEnabled=n(7).get("features").has("v2_ui_evolution"),e.emptyPageClass="emptyTracks",e}})},3814:function(e,t,n){e.exports=n(59).extend(n(5149),{defaults:{limit:3},songkickId:null,songkickUrl:null,url:function(){return"//"+n(39).stringify({path:"/api/3.0/artists/"+this.songkickId+"/calendar.json",query:{apikey:n(7).get("songkick_api_key"),per_page:this.options.limit,jsoncallback:""}},"api.songkick.com")+"?"},fetchServiceData:function(e){var t=this._webProfileCollection.getProfileByName("songkick");return t&&-1!==t.get("url").indexOf("/artists/")?(this.songkickId=t.get("username"),this.songkickUrl=t.get("url"),n(59).prototype.fetch.call(this,n(0).assign(e,{jsonpCallback:"soundcloud"+this.songkickId,cache:!0}))):(this.resetFetch(),n(11).resolve(ts.event}})},3815:function(e,t,n){e.exports=n(2977).extend({shouldAddFromActions:!1,baseUrl:function(){return this.getEndpointUrl("userFollowersFollowedBy",{id:this.options.userId,followed_by:n(7).get("me").id})}})},5020:function(e,t,n){var o=n(13),i=n(5021);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5021:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".l-fluid-fixed .l-user-main{padding-top:0}.l-fluid-fixed .l-user-sidebar-right,.sc-classic .l-fluid-fixed .l-sidebar-right.l-user-sidebar-right{top:0}.sc-classic .l-fluid-fixed .l-user-main{margin-top:20px;padding-top:0}","",{version:3,sources:["webpack://./app/layouts/user.css"],names:[],mappings:"AAAA,4BAA4B,aAAa,CAAC,sGAAsG,KAAK,CAAC,wCAAwC,eAAe,CAAC,aAAa",sourcesContent:[".l-fluid-fixed .l-user-main{padding-top:0}.l-fluid-fixed .l-user-sidebar-right,.sc-classic .l-fluid-fixed .l-sidebar-right.l-user-sidebar-right{top:0}.sc-classic .l-fluid-fixed .l-user-main{margin-top:20px;padding-top:0}"],sourceRoot:""}]),t.defaulata:!0})},5023:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}e.exports=n(10).extend(n(3267),n(29).withOptions({names:["v2_ui_evolution"]}),{template:n(5024),css:n(5025),className:"userUpsell sc-type-light sc-text-secondary sc-border-box",events:{"click .upsellBanner__button":"onClick","click .upsellBanner__close":"onClose"},states:{expanded:"expanded"},setup:function(e){this.collection=new(n(759))(null,{resource_id:e.resource_id})},onClose:function(){this.toggleState("expanded",!1),n(1224).dismissUserUpsell(),n(21).trackV0Click(["upsell_teaser_user","dismiss"],{impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(7).get("me").getUrn()})},onClick:function(){n(21).trackV0Click(["upsell_teaser_user","click"],{impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(7).get("me").getUrn()})},renderDecorate:function(){n(1224).couldHaveUserUpsell(this.options.resource_id)&&n(1224).isValidUserSounds(this.collection)&&(n(1224).dismissUserUpsell(),this.toggleState("expanded",!0),n(21).trackImpression({impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(7).get("me").getUrn()}))},getTemplateData:function(e){return o({},e,{closeIcon:this.hasFeature("v2_ui_evolution")&&n(16).Close})},hasData:function(){return!n(1224).couldHaveUserUpsell(this.options.resource_id)||n(10).prototype.hasData.call(this)}})},5024:function(e,t,n){var o=n(14);e.exports=(o.default||o).tetton>\n"},3:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <button type="button" class="upsellBanner__close sc-ir">'+e.escapeExpression((n(3)||t&&a(t,"$t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"Close",{name:"$t",hash:{},data:s,loc:{start:{line:17,column:58},end:{line:17,column:72}}}))+"</button>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="upsellBanner__wrapper">\n  <div class="upsellBanner__description">\n    <h3 class="upsellBanner__title sc-type-light sc-pb-0.5x">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Help your audience discover your sounds",{name:"$t",hash:{},data:s,loc:{start:{line:3,column:61},end:{line:3,column:109}}}))+'</h3>\n    <p class="upsellBanner__copy">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Let your audience know what to hear first.<br> With any Pro plan, get Spotlight to showcase the best of your music &amp; audio at the top of your profile.",{name:"$t",hash:{},data:s,loc:{start:{line:4,column:34},end:{line:4,column:197}}}))+"</p>\n  </div>\n  "+c((n(9)||t&&u(t,"$view")||r).call(l,n(253),{name:"$view",hash:{text:(n(3)||t&&u(t,"$t")||r).call(l,"Learn more about Pro",{name:"$t",hash:{},data:s,loc:{start:{line:9,column:9},end:{line:9,column:36}}}),tcode:"t113",className:"upsellBanner__button sc-button sc-button-medium sc-button-cta sc-button-tertiary"},data:s,loc:{start:{line:6,column:2},end:{line:10,column:4}}}))+"\n</div>\n"+(null!=(a=u(o,"if").call(l,null!=t?u(t,"closeIcon"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:12,column:0},end:{line:18,column:7}}}))?a:"")},useData:!0})},5025:function(e,t,n){var o=n(13),i=n(5026);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exportefaul287.png"},5028:function(e,t,n){e.exports=n(10).extend(n(46).withOptions("userProfileBanner"),{template:n(5029),css:n(5053),className:"profileHeader",ModelClass:n(45),requiredAttributes:["visuals"],events:{"keydown .profileHeader__headerImageEditChooser":function(e){var t=this.subviews.chooser;t&&e.keyCode===n(73).ENTER&&t.chooseFile()}},getTemplateData:function(e){return e.hasVisuals=this.model.hasVisuals(),e.showEdit=o.call(tl.isMe()}},5029:function(e,t,n){var o=n(14);e.exports=(o.default||o).te/div>\n"},2:function(e,t,o,i,s){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+e.escapeExpression((n(9)||t&&l(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(5030),{name:"$view",hash:{className:"profileHeader__headerImageEditChooser sc-button-secondary right",resource_id:null!=(a=null!=t?l(t,"_options"):t)?l(a,"resource_id"):a},data:s,loc:{start:{line:5,column:8},end:{line:5,column:168}}}))+"\n"},4:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+e.escapeExpression((n(9)||t&&c(t,"$view")||r).call(l,n(3810),{name:"$view",hash:{dialogEnabled:!0,text:(n(3)||t&&c(t,"$t")||r).call(l,"Upload header image",{name:"$t",hash:{},data:s,loc:{start:{line:10,column:15},end:{line:10,column:41}}}),buttonClass:"profileHeader__headerImageEditChooser profileHeader__headerImageEditChooserFirstTime sc-button-medium sc-button-camera sc-button-translucent right",resource_id:null!=(a=null!=t?c(t,"_options"):t)?c(a,"resource_id"):a},data:s,loc:{start:{line:7,column:8},end:{line:12,column:10}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=u(o,"if").call(l,null!=t?u(t,"showEdit"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:16,column:7}}}))?a:"")+'<div class="profileHeader__info">\n  '+c((n(9)||t&&u(t,"$view")||r).call(l,n(3811),{name:"$view",hash:{resource_id:null!=t?u(t,"_resource_id"):t},data:s,loc:{start:{line:18,column:2},end:{line:18,column:69}}}))+"\n</div>\n\n"+c((n(9)||t&&u(t,"$view")||r).call(l,n(5041),{name:"$view",hash:{resource_id:null!=t?u(t,"_resource_id"):t},data:s,loc:{start:{line:21,column:0},end:{line:21,column:73}}}))+"\n"+c((n(9)||t&&u(t,"$view")||r).call(l,n(5046),{name:"$view",hash:{userId:null!=t?u(t,"_resource_id"):t},data:s,loc:{start:{line:22,column:0},end:{line:22,column:60}}}))+"\n"},useData:!0})},5030:function(e,t,n){e.exports=n(1315).extend({defaults:{ContentViewClass:n(1316).extend({defaults:{DeleteImageView:n(801).ModalDeleteImageButton.extend({defaults:{DeleteModalView:n(1317).HeaderImageDeleteModal}}),ImageChooserView:n(3810)}})}})},5031:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var s,a,l=e.lambda,r=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button type="button" class="headerImageEditChooser__chooseButton sc-button sc-button-tertiary sc-button-medium '+r(l(null!=(s=null!=t?c(t,"_options"):t)?c(s,"buttonClass"):s,t))+'">'+r(l(null!=(s=null!=t?c(t,"_options"):t)?c(s,"text"):s,t))+'</button>\n<input class="headerImageEditChooser__fileInput sc-visuallyhidden" type="file" accept="'+r("function"==typeof(a=null!=(a=c(n,"mimeTypes")||(null!=t?c(t,"mimeTypes"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"mimeTypes",hash:{},data:i,loc:{start:{line:2,column:87},end:{line:2,column:100}}}):a)+'">\n'},useData:!0})},5032:function(e,t,n){var o=n(10).extend({template:n(5033),css:n(5038),className:"headerImageEditModal sc-selection-disabled",ModelClass:n(45),requiredAttributes:["visuals"],defaults:{file:null},_savedNewVisual:!1,onMorender()},getTemplateData:function(e){var t=this;return e.cropSizes={width:1240,height:260,previewWidth:850},e.user_id=this.model.id,e.file=this.options.file,e.saveFile=s.bind(this),ecancel")},e.onSaveSuccess=i.bind(this),e}});function i(e){this._savedNewVisual=!0,this.model.set("visuals",[{visual_url:e.image_url,urn:e.user_urn}]),n(21).trackV1Click({context:this.getContextData(),click_name:"banner_image:add",click_category:"profile_edit",click_object:n(7).get("me").getUrn()}),this.bubble("headerImageEditModal:success")}function s(e){var t=this.model.getUrn();return n(608).trackUserProfileHeaderUpdated(t),function(e){return(new(n(5040))).upload(e)}(e).then(a)}function a(e){var t=new(n(1318))({image_url:e});return t.release(),t.save()}e.exports=n(65).extend({bubbleEvents:{"headerImageEditModal:success":"close","headerImageEditModal:cancel":"close"},defaults:{width:900,Subview:o}})},5033:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h2 class="g-modal-title-h1 sc-truncate">'+r((n(3)||t&&c(t,"$t")||l).call(a,"Position and resize your profile header",{name:"$t",hash:{},data:s,loc:{start:{line:1,column:41},end:{line:1,column:89}}}))+'</h2>\n<p class="headerImageEditModal__hint sc-mt-1x sc-mb-2x">'+r((n(3)||t&&c(t,"$t")||l).call(a,"For best results, upload PNG or JPG images of at least 2480x520 pixels. 2MB file-size limit. Avoid using text within your header image, as it will be cropped on smaller screens.",{name:"$t",hash:{},data:s,loc:{start:{line:2,column:56},end:{line:2,column:242}}}))+'</p>\n<div class="headerImageEditModal__cropper">\n  '+r((n(9)||t&&c(t,"$view")||l).call(a,n(800),{name:"$view",hash:{sizes:null!=t?c(t,"cropSizes"):t,onCancel:null!=t?c(t,"onCancel"):t,onSaveSuccess:null!=t?c(t,"onSaveSuccess"):t,saveFile:null!=t?c(t,"saveFile"):t,file:null!=t?c(t,"file"):t},data:s,loc:{start:{line:4,column:2},end:{line:10,column:4}}}))+'\n  <div class="headerImageEditModal__previewOverlay">\n    <div class="headerImageEditModal__previewOverlayUser">\n      '+r((n(9)||t&&c(t,"$view")||l).call(a,n(3811),{name:"$view",hash:{resource_id:null!=t?c(t,"user_id"):t},data:s,loc:{start:{line:13,column:6},end:{line:13,column:68}}}))+"\n    </div>\n  </div>\n</div>\n"},useData:!0})},5034:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(1260),{name:"$view",hash:{boundaryOutlineStyle:"none",zoomable:!0,alwaysShowEditButton:!1,classicSize:200,resource_type:"me-user",resource_id:1},data:s,loc:{start:{line:3,column:4},end:{line:10,column:6}}}))+"\n"},3:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(133),{name:"$view",hash:{boundaryOutlineStyle:"none",zoomable:!0,classicSize:200,resource_type:null!=t?a(t,"_resource_type"):t,resource_id:null!=t?a(t,"_resource_id"):t},data:s,loc:{start:{line:12,column:4},end:{line:18,column:6}}}))+"\n"},5:function(e,t,n,o,i){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <br><h3 class="profileHeaderInfo__additional g-type-shrinkwrap-block theme-dark g-type-shrinkwrap-large-secondary">'+e.escapeExpression("function"==typeof(s=null!=(s=a(n,"full_name")||(null!=t?a(t,"full_name"):t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"full_name",hash:{},data:i,loc:{start:{line:28,column:119},end:{line:28,column:132}}}):s)+"</h3>\n"},7:function(e,t,n,o,i){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <br><h3 class="profileHeaderInfo__additional g-type-shrinkwrap-block theme-dark g-type-shrinkwrap-large-secondary sc-mt-1x">'+e.escapeExpression("function"==typeof(s=null!=(s=a(n,"_address")||(null!=t?a(t,"_address"):t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"_address",hash:{},data:i,loc:{start:{line:31,column:128},end:{line:31,column:140}}}):s)+"</h3>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="profileHeaderInfo__avatar sc-media-image sc-mr-4x">\n'+(null!=(a=p(o,"if").call(r,null!=t?p(t,"isMe"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:2,column:2},end:{line:19,column:9}}}))?a:"")+'\n</div>\n<div class="profileHeaderInfo__content sc-media-content">\n  <h2 class="profileHeaderInfo__userName g-type-shrinkwrap-block g-type-shrinkwrap-large-primary sc-text-h1 theme-dark">\n    '+u("function"==typeof(l=null!=(l=p(o,"username")||(null!=t?p(t,"username"):t))?l:c)?l.call(r,{name:"username",hash:{},data:s,loc:{start:{line:24,column:4},end:{line:24,column:16}}}):l)+"\n    "+u((n(38)||t&&p(t,"$react-view")||c).call(r,n(257),{name:"$react-view",hash:{size:"medium",className:"profileHeaderInfo__verifiedBadge sc-ml-1x theme-light",containerOptions:null!=t?p(t,"containerOptions"):t,userUrn:null!=t?p(t,"urn"):t},data:s,loc:{start:{line:25,column:4},end:{line:25,column:195}}}))+"\n  </h2>\n"+(null!=(a=p(o,"if").call(r,null!=t?p(t,"full_name"):t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:27,column:2},end:{line:29,column:9}}}))?a:"")+(null!=(a=p(o,"if").call(r,null!=t?p(t,"_address"):t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s,loc:{start:{line:30,column:2},end:{line:32,column:9}}}))?a:"")+'    <h3 class="profileHeaderInfo__additional sc-mt-1x">\n      '+u((n(9)||t&&p(t,"$view")||c).call(r,n(5035),{name:"$view",hash:{tcode:"t071",resource_id:null!=t?p(t,"_resource_id"):t},data:s,loc:{start:{line:34,column:6},end:{line:34,column:87}}}))+"\n    </h3>\n</div>\n"},useData:!0})},5035:function(e,t,n){e.exports=n(10).extend(n(29).withOptions({names:["v2_ui_evolution","creator_plan_names_repositioning"]}),n(104).withOptions({type:"pro"}),{className:"creatorBadge",tagName:"a",ModelClass:n(45),requiredAttributes:["badges.pro_unlimited","badges.pro"],defaults:{tcode:null,upsellName:"creator_badge"},template:function(){var e=function(e){var t=void 0===e?{}:e,n=t.pro_unlimited,o=t.pro;if(n)return"pro_unlimited";if(o)return"pro";return""}(this.model.get("badges"));if(!e)return"";var t=function(e,t){return{pro_unlimited:{title:n(102).productNameInstance.getNameVariants(n(63).ProductId.CREATOR_SUBSCRIPTION_3).short,cssClass:e?"creatorBadge__nextProIcon":"sc-status-label-pro-u",icon:e?n(16).NextProBadge:t?n(16).ProBadgeUnlimited:null},pro:{title:n(102).productNameInstance.getNameVariants(n(63).ProductId.CREATOR_SUBSCRIPTION_1).short,cssClass:"sc-status-label-pro",icon:t?n(16).ProBadgeSmall:null}}}(this.hasFeature("creator_plan_names_repositioning"),this.hasFeature("v2_ui_evolution"))[e],o=t.title,i=t.cssClass,s=t.icon,a=n(95).getCreatorLink(this.getUpsellRef()),l=a.link,r=a.target;return this.$el.attr({href:l,target:r,title:o}),'\n        <span class="sc-status-label '+i+' sc-status-label-dark sc-ir">\n          '+(s?n(22).reactSubview(s):"")+"\n          "+o+"\n        </span>\n      "},getUpsellRef:function(){return this.options.tcode},getUsellName}})},5036:function(e,t,n){var o=n(13),i=n(5037);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5037:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,"body:not(.sc-classic) .profileHeaderInfo{display:flex}body:not(.sc-classic) .profileHeaderInfo__content{align-self:center}.sc-classic .profileHeaderInfo__avatar{margin-right:30px}.profileHeaderInfo__details{margin:4px 0 10px}.sc-classic .profileHeaderInfo__additional{margin-top:4px}.sc-classic .profileHeaderInfo__verifiedBadge{position:relative;top:10px}.creatorBadge__nextProIcon{width:98px;height:20px}","",{version:3,sources:["webpack://./app/views/user/profile-header-info.css"],names:[],mappings:"AAAA,yCAAyC,YAAY,CAAC,kDAAkD,iBAAiB,CAAC,uCAAuC,iBAAiB,CAAC,4BAA4B,iBAAiB,CAAC,2CAA2C,cAAc,CAAC,8CAA8C,iBAAiB,CAAC,QAAQ,CAAC,2BAA2B,UAAU,CAAC,WAAW",sourcesContent:["body:not(.sc-classic) .profileHeaderInfo{display:flex}body:not(.sc-classic) .profileHeaderInfo__content{align-self:center}.sc-classic .profileHeaderInfo__avatar{margin-right:30px}.profileHeaderInfo__details{margin:4px 0 10px}.sc-classic .profileHeaderInfo__additional{margin-top:4px}.sc-classic .profileHeaderInfo__verifiedBadge{position:relative;top:10px}.creatorBadge__nextProIcon{width:98px;height:20px}"],sourceRoot:""}]),t.default=a},5038:function(e,t,n){var o=n(13),i=n(5039);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5039:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".headerImageEditModal__cropper{position:relative}.sc-classic .headerImageEditModal__hint{color:#666;margin-bottom:8px}.headerImageEditModal__previewOverlay{position:absolute;left:0;top:0;bottom:0;right:0;pointer-events:none;transform:scale(.68548);transform-origin:0 0}.headerImageEditModal__previewOverlayUser{padding:30px 30px 0}","",{version:3,sources:["webpack://./app/views/edit/image/header/edit-modal.css"],names:[],mappings:"AAAA,+BAA+B,iBAAiB,CAAC,wCAAwC,UAAU,CAAC,iBAAiB,CAAC,sCAAsC,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,mBAAmB,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,0CAA0C,mBAAmB",sourcesContent:[".headerImageEditModal__cropper{position:relative}.sc-classic .headerImageEditModal__hint{color:#666;margin-bottom:8px}.headerImageEditModal__previewOverlay{position:absolute;left:0;top:0;bottom:0;right:0;pointer-events:none;transform:scale(.68548);transform-origin:0 0}.headerImageEditModal__previewOverlayUser{padding:30px 30px 0}"],sourceRoot:""}]),t.default=a},5040:function(e,t,n){(function(t){e.exports=n(1307).extend({presign:function(e,t){return n(55).callEndpoint("visualsPolicy",null,{contentType:e.type},null,null,{abort:n e.body}))},uploadFile:function(e,o,i,s){var a=new window.FormData;return n(0).each(end(t,e)})),a.append("file",e),t.ajax({url:o.url,type:"POST",data:a,processData:!1,contentType:!1,dataType:"xml",timeout:0,progress:s,abort:i})},reelds.key}})}).call(this,n(28))},5041:function(e,t,n){e.exports=n(10).extend({template:n(5042),css:n(5044),className:"profileHeaderBackground",ModelClass:n(45),requiredAttributes:["visuals"],events:{"click .profileHeaderBackground__link":function(e){n(21).trackV0Click(["deeplink"])}},states:{visualLoaded:"m-visualLoaded"},getTemplateData:function(e){var t=this.model.hasVisuals()&&this.model.getVisual();return e.visual=t,e.background_url=t&&this.model.getVisualURL(),e.clickthrough_url=null==t?void 0:t.link,e},renderDecorate:function(){this.model.hasVisuals()&&(o.call(this,this.model.getVisualURL()),n(103).trackEvent("impression",n(0).pick(this.model.get("visuals"),"tracking")))}});function o(e){var t=this;this.addDeferred(n(69).load(ded",!0)}))}},5042:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,n,o,i){var s,a,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(s=r(n,"if").call(l,null!=t?r(t,"clickthrough_url"):t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:2},end:{line:4,column:9}}}))?s:"")+'  <div class="profileHeaderBackground__visual" style="background-image: url('+e.escapeExpression("function"==typeof(a=null!=(a=r(n,"background_url")||(null!=t?r(t,"background_url"):t))?a:e.hooks.helperMissing)?a.call(l,{name:"background_url",hash:{},data:i,loc:{start:{line:5,column:76},end:{line:5,column:94}}}):a)+');"></d><}))+"\n"},compiler:[8,">= 4.3}))?s:""},useData:!0})},5043:function(e,t,n){e.exports=n(10).extend(n(2995).withOptions({angle:315,colorAdjustment:"muted"}),{ModelClass:n(45),requiredAttributes:[n(45).prototype.imageProperties.read]})},5044:function(e,t,n){var o=n(13),i=n(5045);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5045:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".profileHeaderBackground{position:absolute;top:0;left:0;bottom:0;right:0;background:#e5e5e5}.profileHeaderBackground__visual{position:absolute;top:0;left:0;bottom:0;right:0;background-color:#666;background-size:auto 100%;background-position:0 0;background-repeat:no-repeat;opacity:0;transition:opacity .2s linear}.profileHeaderBackground.m-visualLoaded .profileHeaderBackground__visual{opacity:1}.profileHeader__link{position:absolute;left:230px;right:0;top:0;bottom:0;z-index:1}","",{version:3,sources:["webpack://./app/views/user/profile-header-background.css"],names:[],mappings:"AAAA,yBAAyB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,kBAAkB,CAAC,iCAAiC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAqB,CAAC,yBAAyB,CAAC,uBAAuB,CAAC,2BAA2B,CAAC,SAAS,CAAC,6BAA6B,CAAC,yEAAyE,SAAS,CAAC,qBAAqB,iBAAiB,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS",sourcesContent:[".profileHeaderBackground{position:absolute;top:0;left:0;bottom:0;right:0;background:#e5e5e5}.profileHeaderBackground__visual{position:absolute;top:0;left:0;bottom:0;right:0;background-color:#666;background-size:auto 100%;background-position:0 0;background-repeat:no-repeat;opacity:0;transition:opacity .2s linear}.profileHeaderBackground.m-visualLoaded .profileHeaderBackground__visual{opacity:1}.profileHeader__link{position:absolute;left:230px;right:0;top:0;bottom:0;z-index:1}"],sourceRoot:""}]),t.default=a},5046:function(e,t,n){e.exports=n(88).extend(n(400),{template:n(5047),css:n(5048),className:"featuredProfiles g-dark",itemClassName:"featuredProfiles__item",Subview:n(5050),_closeTimeout:null,defaults:{userId:null,maxDisplay:0},element2selector:{list:".featuredProfiles__list",scrollContent:".featuredProfiles__wrapper",scrollWrapper:".featuredProfiles__scroll"},states:{expanded:function(e){this.$el.toggleClass("expanded",e),e||this.getElement("scrollContent").scrollTop(0)},populated:"populated"},events:{"click .featuredProfiles__title":"onTitleClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},setup:function(e){n(0).bindAll(this,"onMouseEnter","onMouseLeave"),this.collection=new(n(5052))(null,{userId:e.userId})},emptreturn""},onMouseEnter:function(){window.clearTimeout(this._closeTimeout),this.toggleState("expanded",!0)},onMouseLeave:function(){window.clearTimeout(this._closeTimeout),this._closeTimeout=this.addDeferred(window.setTimeout(this.toggleState.bind(this,"expanded",!1),200))},renderDecorate:function(){var e=this;n(88).prototype.renderDecorate.apply(this,arguments),this.toggleState("populated",this.collection.length),this.collection.length&&this.whenInserted().done((function(){e.setupScrollable(e.getElement("scrollWrapper"),e.getElement("scrollContent"),{hScroll:!1})}))},teardown:function(){this.disposeScrollable()},getModelind")}))},getTemplateData:function(e){var t=this.collection("kind")}));e.userId=this.options.userId,e.hasProfiles=!!t.user},getListContainer:function(){return this.getElement("list")},onTefault()}})},5047:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <a class="featuredProfiles__title sc-type-small sc-text-body" href="">\n        <span class="sc-icon sc-icon-large sc-icon-user"></span>'+e.escapeExpression((n(3)||t&&a(t,"$t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"Featured profiles",{name:"$t",hash:{},data:s,loc:{start:{line:5,column:64},end:{line:5,column:90}}}))+'\n      </a>\n      <div class="featuredProfiles__list"></div>\n'},compiler:[8,">= 4.3/div>\n"},useData:!0})},5048:function(e,t,n){var o=n(13),i=n(5049);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5049:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".featuredProfiles{display:none;position:absolute;width:100%;height:100%;bottom:0;transform:translateY(220px);right:30px;width:330px;height:260px;background-color:rgba(0,0,0,.8);transition:transform .3s ease-out;z-index:1}.featuredProfiles.populated{display:block}.featuredProfiles.expanded{transform:translateY(0)}@media (max-width:1079px){.featuredProfiles{right:20px}}.featuredProfiles .featuredProfiles__title{display:block;cursor:pointer;margin:5px 10px 10px;color:#fff;outline:0 none;line-height:30px}.featuredProfiles.expanded .featuredProfiles__title{border-bottom:1px solid #000;border-bottom:1px solid var(--font-primary-color);color:#666;color:var(--font-secondary-color)}.sc-classic .featuredProfiles.expanded .featuredProfiles__title{border-bottom:1px solid #333;color:#999}.featuredProfiles__scroll{position:absolute;top:0;bottom:0;width:330px}.featuredGroups__list,.featuredProfiles__list{padding:0 10px}.featuredProfiles__item{margin:10px 0;padding-bottom:10px;border-bottom:1px solid #000;border-bottom:1px solid var(--font-primary-color)}.sc-classic .featuredProfiles__item{border-bottom:1px solid #333}.featuredProfiles__item:last-child{border-bottom:0}.featuredProfiles__item:first-child{margin-top:0;padding-top:0}.featuredProfile .groupBadge{padding-top:0}","",{version:3,sources:["webpack://./app/views/user/featured-profiles.css"],names:[],mappings:"AAAA,kBAAkB,YAAY,CAAC,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,2BAA2B,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,CAAC,+BAA+B,CAAC,iCAAiC,CAAC,SAAS,CAAC,4BAA4B,aAAa,CAAC,2BAA2B,uBAAuB,CAAC,0BAA0B,kBAAkB,UAAU,CAAC,CAAC,2CAA2C,aAAa,CAAC,cAAc,CAAC,oBAAoB,CAAC,UAAU,CAAC,cAAc,CAAC,gBAAgB,CAAC,oDAAoD,4BAA4B,CAAC,iDAAiD,CAAC,UAAU,CAAC,iCAAiC,CAAC,gEAAgE,4BAA4B,CAAC,UAAU,CAAC,0BAA0B,iBAAiB,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,8CAA8C,cAAc,CAAC,wBAAwB,aAAa,CAAC,mBAAmB,CAAC,4BAA4B,CAAC,iDAAiD,CAAC,oCAAoC,4BAA4B,CAAC,mCAAmC,eAAe,CAAC,oCAAoC,YAAY,CAAC,aAAa,CAAC,6BAA6B,aAAa",sourcesContent:[".featuredProfiles{display:none;position:absolute;width:100%;height:100%;bottom:0;transform:translateY(220px);right:30px;width:330px;height:260px;background-color:rgba(0,0,0,.8);transition:transform .3s ease-out;z-index:1}.featuredProfiles.populated{display:block}.featuredProfiles.expanded{transform:translateY(0)}@media (max-width:1079px){.featuredProfiles{right:20px}}.featuredProfiles .featuredProfiles__title{display:block;cursor:pointer;margin:5px 10px 10px;color:#fff;outline:0 none;line-height:30px}.featuredProfiles.expanded .featuredProfiles__title{border-bottom:1px solid #000;border-bottom:1px solid var(--font-primary-color);color:#666;color:var(--font-secondary-color)}.sc-classic .featuredProfiles.expanded .featuredProfiles__title{border-bottom:1px solid #333;color:#999}.featuredProfiles__scroll{position:absolute;top:0;bottom:0;width:330px}.featuredGroups__list,.featuredProfiles__list{padding:0 10px}.featuredProfiles__item{margin:10px 0;padding-bottom:10px;border-bottom:1px solid #000;border-bottom:1px solid var(--font-primary-color)}.sc-classic .featuredProfiles__item{border-bottom:1px solid #333}.featuredProfiles__item:last-child{border-bottom:0}.featuredProfiles__item:first-child{margin-top:0;padding-top:0}.featuredProfile .groupBadge{padding-top:0}"],sourceRoot:""}]),t.default=a},5050:function(e,t,n){e.exports=n(10).extend({ModelClass:n(45),template:n(5051),className:"featuredProfile sc-media",requiredAttributes:["permalink"],getTemplateData:function(e){return e.name=e.name||e.username,e.route=e.kind,e}})},5051:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(768),{name:"$view",hash:{dark:!0,resource_id:null!=t?a(t,"_resource_id"):t},data:s,loc:{start:{line:1,column:0},end:{line:1,column:68}}}))+"\n"},useData:!0})},5052:function(e,t,n){e.exports=n(59).extend({model:n(45),defaults:{userId:nulluserId})}t.userId}})},5053:function(e,t,n){var o=n(13),i=n(5054);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5054:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".profileHeader{position:relative;padding:32px;padding:var(--spacing-4x);box-sizing:border-box;overflow:hidden;height:264px}.sc-classic .profileHeader{margin-left:-30px;margin-right:-30px;padding:30px;height:260px}.profileHeader__info{position:relative;z-index:1}.profileHeader__edit{padding:32px;padding:var(--spacing-4x);position:absolute;left:232px;left:calc(var(--spacing-4x) + 200px);right:0;top:0;bottom:0;z-index:4}.sc-classic .profileHeader__edit{padding:30px}.profileHeader__edit .profileHeader__headerImageEditChooser:disabled,.profileHeader__headerImageEditChooser{opacity:0;transition:opacity .2s}.profileHeader__edit:hover .profileHeader__headerImageEditChooser,.profileHeader__headerImageEditChooser.sc-button-active,.profileHeader__headerImageEditChooser.sc-button-selected,.profileHeader__headerImageEditChooser:focus,.profileHeader__headerImageEditChooserFirstTime{outline:0;opacity:1}.profileHeader__edit:hover .profileHeader__headerImageEditChooser:disabled,.profileHeader__headerImageEditChooser.sc-button-active:disabled,.profileHeader__headerImageEditChooser:focus:disabled,.profileHeader__headerImageEditChooserFirstTime:disabled{opacity:.5}@media (max-width:1079px){.profileHeader{padding-left:20px;padding-right:20px}.sc-classic .profileHeader{margin-left:-20px;margin-right:-20px}.profileHeader__edit{left:220px;padding-right:20px}}","",{version:3,sources:["webpack://./app/views/user/profile-header.css"],names:[],mappings:"AAAA,eAAe,iBAAiB,CAAC,YAAY,CAAC,yBAAyB,CAAC,qBAAqB,CAAC,eAAe,CAAC,YAAY,CAAC,2BAA2B,iBAAiB,CAAC,kBAAkB,CAAC,YAAY,CAAC,YAAY,CAAC,qBAAqB,iBAAiB,CAAC,SAAS,CAAC,qBAAqB,YAAY,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,UAAU,CAAC,oCAAoC,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,iCAAiC,YAAY,CAAC,4GAA4G,SAAS,CAAC,sBAAsB,CAAC,iRAAiR,SAAS,CAAC,SAAS,CAAC,2PAA2P,UAAU,CAAC,0BAA0B,eAAe,iBAAiB,CAAC,kBAAkB,CAAC,2BAA2B,iBAAiB,CAAC,kBAAkB,CAAC,qBAAqB,UAAU,CAAC,kBAAkB,CAAC",sourcesContent:[".profileHeader{position:relative;padding:32px;padding:var(--spacing-4x);box-sizing:border-box;overflow:hidden;height:264px}.sc-classic .profileHeader{margin-left:-30px;margin-right:-30px;padding:30px;height:260px}.profileHeader__info{position:relative;z-index:1}.profileHeader__edit{padding:32px;padding:var(--spacing-4x);position:absolute;left:232px;left:calc(var(--spacing-4x) + 200px);right:0;top:0;bottom:0;z-index:4}.sc-classic .profileHeader__edit{padding:30px}.profileHeader__edit .profileHeader__headerImageEditChooser:disabled,.profileHeader__headerImageEditChooser{opacity:0;transition:opacity .2s}.profileHeader__edit:hover .profileHeader__headerImageEditChooser,.profileHeader__headerImageEditChooser.sc-button-active,.profileHeader__headerImageEditChooser.sc-button-selected,.profileHeader__headerImageEditChooser:focus,.profileHeader__headerImageEditChooserFirstTime{outline:0;opacity:1}.profileHeader__edit:hover .profileHeader__headerImageEditChooser:disabled,.profileHeader__headerImageEditChooser.sc-button-active:disabled,.profileHeader__headerImageEditChooser:focus:disabled,.profileHeader__headerImageEditChooserFirstTime:disabled{opacity:.5}@media (max-width:1079px){.profileHeader{padding-left:20px;padding-right:20px}.sc-classic .profileHeader{margin-left:-20px;margin-right:-20px}.profileHeader__edit{left:220px;padding-right:20px}}"],sourceRoot:""}]),t.default=a},5055:function(e,t,n){e.exports=n(10).extend({css:n(5056),template:n(5058),className:"userInfoBar sc-px-2x",ModelClass:n(45),defaults:{subpage:"all"}})},5056:function(e,t,n){var o=n(13),i=n(5057);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5057:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,"body:not(.sc-classic) .userInfoBar{padding:16px;padding:var(--spacing-2x);display:flex;justify-content:space-between;align-items:center}body:not(.sc-classic) .userInfoBar__tabs .g-tabs-link{padding:14px 8px;padding:14px var(--spacing-1x)}.sc-classic .userInfoBar{position:relative;padding-top:15px}.sc-classic .userInfoBar__buttons{position:absolute;right:0;bottom:9px}@media (max-width:1079px){.userInfoBar__buttons .sc-button-share .sc-button-label{display:none}}","",{version:3,sources:["webpack://./app/views/user/info-bar.css"],names:[],mappings:"AAAA,mCAAmC,YAAY,CAAC,yBAAyB,CAAC,YAAY,CAAC,6BAA6B,CAAC,kBAAkB,CAAC,sDAAsD,gBAAgB,CAAC,8BAA8B,CAAC,yBAAyB,iBAAiB,CAAC,gBAAgB,CAAC,kCAAkC,iBAAiB,CAAC,OAAO,CAAC,UAAU,CAAC,0BAA0B,wDAAwD,YAAY,CAAC",sourcesContent:["body:not(.sc-classic) .userInfoBar{padding:16px;padding:var(--spacing-2x);display:flex;justify-content:space-between;align-items:center}body:not(.sc-classic) .userInfoBar__tabs .g-tabs-link{padding:14px 8px;padding:14px var(--spacing-1x)}.sc-classic .userInfoBar{position:relative;padding-top:15px}.sc-classic .userInfoBar__buttons{position:absolute;right:0;bottom:9px}@media (max-width:1079px){.userInfoBar__buttons .sc-button-share .sc-button-label{display:none}}"],sourceRoot:""}]),t.default=a},5058:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="userInfoBar__tabs">\n  '+c((n(9)||t&&u(t,"$view")||r).call(l,n(5059),{name:"$view",hash:{subpage:null!=(a=null!=t?u(t,"_options"):t)?u(a,"subpage"):a,resource_id:null!=t?u(t,"_resource_id"):t},data:s,loc:{start:{line:2,column:2},end:{line:5,column:4}}}))+'\n</div>\n<div class="userInfoBar__buttons">\n  '+c((n(9)||t&&u(t,"$view")||r).call(l,n(3812),{name:"$view",hash:{resource_id:null!=t?u(t,"_resource_id"):t},data:s,loc:{start:{line:8,column:2},end:{line:8,column:64}}}))+"\n</div>\n"},useData:!0})},5059:function(e,t,n){var o=[{title:n(2).Lingua.t("All"),subpage:"all"user",e)}},{title:n(2).Lingua.t("Popular tracks"),subpage:"popular-tracks",getRoute:function(e){return n(33).getRoute("user",e,"popular-tracks")}},{title:n(2).Lingua.t("Tracks"),subpage:"tracks",getRoute:function(e){return n(33).getRoute("user",e,"tracks")}},{title:n(2).Lingua.t("Albums"),subpage:"albums",getRoute:function(e){return n(33).getRoute("user",e,"albums")}},{title:n(2).Lingua.t("Playlists"),subpage:"sets",getRoute:function(e){return n(33).getRoute("user",e,"sets")}},{title:n(2).Lingua.t("Reposts"),subpage:"reposts",getRoute:function(e){return n(33).getRoute("user",e,"reposts")}}];e.exports=n(10).extend({ModelClass:n(45),template:n(5060),className:"profileTabs g-tabs g-tabs-medium",tagName:"ul",defaults:{subpage:"all"},getTemplateData:function(e){var t;e.tabs=(t=this.modtitle:i}})));var i=n(0).findWhere(e.tabs,{subpage:this.options.subpage});return i&&(i.isActive=!0),e}})},5060:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="g-tabs-item">\n    <a class="g-tabs-link'+c((n(37)||t&&u(t,"$if")||r).call(l,null!=t?u(t,"isActive"):t," active",{name:"$if",hash:{},data:s,loc:{start:{line:3,column:25},end:{line:3,column:51}}}))+'" href="'+c("function"==typeof(a=null!=(a=u(o,"route")||(null!=t?u(t,"route"):t))?a:r)?a.call(l,{name:"route",hash:{},data:s,loc:{start:{line:3,column:59},end:{line:3,column:68}}}):a)+'" rel="nofollow">\n      '+c("function"==typeof(a=null!=(a=u(o,"title")||(null!=t?u(t,"title"):t))?a:r)?a.call(l,{name:"title",hash:{},data:s,loc:{start:{line:4,column:6},end:{line:4,column:15}}}):a)+"\n    </a>\n  </li>\n"},compiler:[8,">= 4.3}))?s:""},useData:!0})},5061:function(e,t,n){e.exports=n(10).extend(n(77),{className:"buyButton sc-button-cta sc-button-primary",tagName:"a",css:n(5062),attributes:{role:"button",type:"button",href:"https://www.research.net/r/DX787ZT",target:"_blank",rel:"nofollow"},defaults:{text:n(2).Lingua.t("Buy"),title:n(2).Lingua.t("Buy"),isScButton:!0,size:"medium"licked()}})},5062:function(e,t,n){var o=n(13),i=n(5063);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5063:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".buyButton{margin-right:28px!important}","",{version:3,sources:["webpack://./app/views/buttons/buy.css"],names:[],mappings:"AAAA,WAAW,2BAA2B",sourcesContent:[".buyButton{margin-right:28px!important}"],sourceRoot:""}]),t.default=a},5064:function(e,t,n){e.exports=n(10).extend(n(77),{className:"sc-button-insights",icon:n(16).Insights,defaults:{isCTA:!0,text:n(2).Lingua.t("Your Insights"),title:n(2).Lingua.t("Go to your Insights"),isScButton:!0,size:"medium",text_only:!1},onClick:function(e){e.preventDefault(),n(21).trackV1Click({click_name:"insights::open",context:this.getContextData()}),n(7).get("router").navigate(n(33).getRoute("insights"),{trigger:!0,replace:!1})},renderDecorate:function(){this.$el.toggleClass("sc-button-cta sc-button-primary",this.options.isCTA)}})},5065:function(e,t,n){e.exports=n(10).extend(n(29).withOptions({names:["v2_ui_evolution"]}),n(77),{icon:n(16).Edit,className:"sc-button-edit editProfileButton sc-button-secondary",css:n(5066),ModelClass:n(123),defaults:{title:n(2).Lingua.t("Edit"),allPossibleLabels:n(7).get("features").has("v2_ui_evolution")?null:[n(2).Lingua.t("Edit")],hideLabelOnSmallScreen:!1},buttonLabels:{default:n(2).Lingua.t("Edit")},onClick:function(){n(21).trackV1Click({click_name:"profile_edit::open",click_category:"profile_edit",click_object:this.model.get("urn")});var e={togglerEl:this.el};this.hasFeature("v2_ui_evolution")||(e.width=850);var t=new(n(5068))(e);t.on(n(65).Events.CLOSED,t._dispose,t),t.open()},rendelScreen)}})},5066:function(e,t,n){var o=n(13),i=n(5067);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5067:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,"@media (max-width:1079px){.editProfileButton--hiddenLabelOnSmallScreen .sc-button-label,.sc-classic .editProfileButton--hiddenLabelOnSmallScreen .sc-button-alt-labels{display:none}}","",{version:3,sources:["webpack://./app/views/buttons/edit-profile.css"],names:[],mappings:"AAAA,0BAA0B,6IAA6I,YAAY,CAAC",sourcesContent:["@media (max-width:1079px){.editProfileButton--hiddenLabelOnSmallScreen .sc-button-label,.sc-classic .editProfileButton--hiddenLabelOnSmallScreen .sc-button-alt-labels{display:none}}"],sourceRoot:""}]),t.default=a},5068:function(e,t,n){e.exports=n(65).extend({defaults:{Subview:n(5069),width:788},setup:function(){n(65).prototype.setup.apply(this,arguments),this.form=new(n(1223)),this.listenTo(this,n(65).Events.CLOSED,this.onClosed).listenTo(this.form,"saved",this.onSaved).listenTo(this.form,"canceled",this.onCanceled)},dispose:function(){n(65).prototype.dispose.apply(this,arguments),this.form.release(),this.form=null}lEdits()},onCanceled:function(){this.close().close()}})},5069:function(e,t,n){e.exports=n(10).extend(n(1236),{template:n(5070),css:n(5081),className:"profileSettings",states:{showPermalinkWarning:"m-showPermalinkWarning"},element2selector:{currentPermalink:".profileSettings__currentPermalink"},setup:function(){this.model=new(n(1223)),this.me=this.addDataSource(n(7).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold(),this.listenTo(this.model,"change:permalink",s).listenTo(this.model,"saved",i).listenTo(this.me,"change:confirmed",o)},getTemplateData:function(e){return e.meId=this.me.id,e.feedsUrl=this.me.getRSSFeedUrl(),e},rendell(this)}});function o(){this.model.setFieldDisabled("description",!this.me.isConfirmed()),this.model.setFieldDisabled("web-profiles",!this.me.isConfirmed())}function i(){var e=n(7).get("me");n(21).trackV1Click({click_name:"user_metadata:update",click_category:"profile_edit",click_object:e.getUrn()}),this.toggleState("showPermalinkWarning",!1)}function s(){a.call(this),this.toggleState("showPermalinkWarning",n(7).get("me").get("permalink")!==this.model.get("permalink"))}function a(){this.getElement("currentPermalink").text(n(7).get("me").get("permalink"))}},5070:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      "+e.escapeExpression((n(3)||t&&a(t,"$t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"Add links to your website and social network profiles to help your audience find you wherever you are.",{name:"$t",hash:{},data:s,loc:{start:{line:80,column:6},end:{line:80,column:117}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h2 class="g-modal-title-h1 sc-text-h2 sc-py-1x sc-truncate">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Edit your Profile",{name:"$t",hash:{},data:s,loc:{start:{line:1,column:61},end:{line:1,column:87}}}))+'</h2>\n<div class="profileSettings__form">\n  <div class="sc-media sc-mt-2x">\n    <div class="profileSettings__avatar sc-media-image sc-mr-4x">\n      '+c((n(9)||t&&u(t,"$view")||r).call(l,n(1260),{name:"$view",hash:{size:"29x",deleteImageAutomatically:!1,uploadImageAutomatically:!1,resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t},data:s,loc:{start:{line:5,column:6},end:{line:11,column:8}}}))+'\n    </div>\n    <div class="profileSettings__baseFields sc-media-content">\n      <div class="profileSettings__cell m-fullWidth">\n        '+c((n(9)||t&&u(t,"$view")||r).call(l,n(51),{name:"$view",hash:{size:"large",label:(n(3)||t&&u(t,"$t")||r).call(l,"Display name",{name:"$t",hash:{},data:s,loc:{start:{line:19,column:16},end:{line:19,column:35}}}),field:"username",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:15,column:8},end:{line:21,column:10}}}))+'\n      </div>\n      <div class="profileSettings__permalinkControl sc-mb-2x profileSettings__cell m-fullWidth" spellcheck="false">\n        '+c((n(9)||t&&u(t,"$view")||r).call(l,n(1319),{name:"$view",hash:{permalinkType:"user",label:(n(3)||t&&u(t,"$t")||r).call(l,"Profile URL",{name:"$t",hash:{},data:s,loc:{start:{line:29,column:16},end:{line:29,column:34}}}),field:"permalink",size:"medium",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:24,column:8},end:{line:31,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell" spellcheck="false">\n        '+c((n(9)||t&&u(t,"$view")||r).call(l,n(51),{name:"$view",hash:{label:(n(3)||t&&u(t,"$t")||r).call(l,"First name",{name:"$t",hash:{},data:s,loc:{start:{line:38,column:16},end:{line:38,column:33}}}),field:"first_name",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:34,column:8},end:{line:39,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell" spellcheck="false">\n        '+c((n(9)||t&&u(t,"$view")||r).call(l,n(51),{name:"$view",hash:{label:(n(3)||t&&u(t,"$t")||r).call(l,"Last name",{name:"$t",hash:{},data:s,loc:{start:{line:46,column:16},end:{line:46,column:32}}}),field:"last_name",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:42,column:8},end:{line:47,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+c((n(9)||t&&u(t,"$view")||r).call(l,n(51),{name:"$view",hash:{label:(n(3)||t&&u(t,"$t")||r).call(l,"City",{name:"$t",hash:{},data:s,loc:{start:{line:54,column:16},end:{line:54,column:27}}}),field:"city",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:50,column:8},end:{line:55,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+c((n(9)||t&&u(t,"$view")||r).call(l,n(1283),{name:"$view",hash:{label:(n(3)||t&&u(t,"$t")||r).call(l,"Country",{name:"$t",hash:{_comment:"Not the music genre",_context:"Country"},data:s,loc:{start:{line:62,column:16},end:{line:62,column:80}}}),field:"country_code",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:58,column:8},end:{line:63,column:10}}}))+'\n      </div>\n      <div class="profileSettings__cell m-fullWidth">\n        '+c((n(9)||t&&u(t,"$view")||r).call(l,n(802),{name:"$view",hash:{className:"profileSettings__description",placeholder:(n(3)||t&&u(t,"$t")||r).call(l,"Tell the world a little bit about yourself. The shorter the better.",{name:"$t",hash:{},data:s,loc:{start:{line:71,column:22},end:{line:71,column:96}}}),label:(n(3)||t&&u(t,"$t")||r).call(l,"Bio",{name:"$t",hash:{_comment:"Short for 'Biography'"},data:s,loc:{start:{line:70,column:16},end:{line:70,column:59}}}),field:"description",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:66,column:8},end:{line:73,column:10}}}))+'\n      </div>\n    </div>\n  </div>\n  <div class="g-form-section-head">\n    <h3 class="g-form-section-title sc-text-h4">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Your links",{name:"$t",hash:{},data:s,loc:{start:{line:78,column:48},end:{line:78,column:67}}}))+"</h3>\n"+(null!=(a=(n(9)||t&&u(t,"$view")||r).call(l,n(579),{name:"$view",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:79,column:4},end:{line:81,column:14}}}))?a:"")+'  </div>\n  <div class="profileSettings__webProfiles sc-mt-2x">\n    '+c((n(9)||t&&u(t,"$view")||r).call(l,n(5071),{name:"$view",hash:{resource_id:null!=t?u(t,"meId"):t},data:s,loc:{start:{line:84,column:4},end:{line:84,column:60}}}))+'\n  </div>\n  <div class="profileSettings__formButtons sc-button-toolbar sc-border-light-top">\n    <div class="profileSettings__permalinkWarning sc-text-light sc-text-secondary">\n      '+c((n(3)||t&&u(t,"$t")||r).call(l,"[[[strongStart]]]Please note:[[[strongEnd]]]You’re about to replace your old URL [[[scTextSpanStart]]]soundcloud.com/[[[permalinkSpanStart]]][[[spanEnd]]][[[spanEnd]]]. This will affect all links you’ve already posted outside of SoundCloud. Make sure you don’t forget to update these too.",{name:"$t",hash:{spanEnd:"</span>",permalinkSpanStart:'<span class="profileSettings__currentPermalink">',scTextSpanStart:'<span class="sc-text sc-text-primary">',strongEnd:"</strong>",strongStart:'<strong class="sc-text sc-text-primary">'},data:s,loc:{start:{line:88,column:6},end:{line:93,column:25}}}))+"\n    </div>\n    "+c((n(9)||t&&u(t,"$view")||r).call(l,n(196),{name:"$view",hash:{size:"medium",button:"cancel",noStyle:!0,className:"sc-button-secondary",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:95,column:4},end:{line:102,column:6}}}))+"\n    "+c((n(9)||t&&u(t,"$view")||r).call(l,n(196),{name:"$view",hash:{size:"medium",button:"save",className:"sc-button-cta sc-button-primary",resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t,Form:n(1223)},data:s,loc:{start:{line:103,column:4},end:{line:109,column:6}}}))+"\n  </div>\n</div>\n"},useData:!0})},5071:his,arguments)}e.exports=n(88).extend(n(29).withOptions({names:["v2_direct_support_link"]}),{css:n(5072),template:n(5074),Subview:n(5075),tagName:"div",className:"webProfilesControl",itemClassName:"webProfilesControl__item",element2selector:{list:".webProfilesControl__list",addLinkButton:".webProfilesControl__add",addSupportLinkButton:".webProfilesControl__addSupportLink",maxLinksMessage:".webProfilesControl__maxLinksMessage"},events:{"click .webProfilesControl__add":"onAddClick","click .webProfilesControl__addSupportLink":"onAddSupportLinkClick"},defaults:{maxDisplay:0,resource_id:null,limit:10},states:{reachedMaxWebprofiles:"reachedMaxWebprofiles"},setup:function(e){this.collection=new(n(1308))(null,{userId:e.resource_id}),this.collection.setLimit(50),this.me=this.addDataSource(n(7).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold(),this.listenTo(this.collection,"add remove change",this.onCollectionAddedChanged).listenTo(this.collection,"deleted",i)},getTemplateData:function(e){return e.shouldShowAddSupportLink=this.hasFeature("v2_direct_support_link"),e}),s.call(th("form:dirty")},onAddSupportLinkClick:function(){this.collection.add(o({},a(),{network:"support"})),this.collection.trigger("form:dirty")},glement("list")},onCollect){s.call(this)}});function i(e){var t=this.getListItemView(e.form);t&&this.getSubviewWrapper(t).hide()}function s(){var e=this.collection.length>=this.options.limit,t=this.me.isConfirmed(),n=!!this.csSupportLink()}));this.getElement("addLinkButton").attr("disabled",e||!t),this.getElement("addSupportLinkButton").attr("disabled",n||e||!t),this.getElement("maxLinksMessage").toggleClass("sc-input-invalid-message-hidden g-input-validation-hidden",!e),this.toggleState("reachedMaxWebprofiles",e)}function a(){return{id:n(0).uniqueId("web-pro});e.]),t.default=a},5074:function(e,t,n){var o=n(14);e.exports=(o.default|\n</button>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="webProfilesControl__list"></div>\n<button\n  type="button"\n  class="webProfilesControl__add sc-button sc-button-medium sc-button-secondary"\n>\n  '+c((n(3)||t&&u(t,"$t")||r).call(l,"Add link",{name:"$t",hash:{},data:s,loc:{start:{line:6,column:2},end:{line:6,column:19}}}))+"\n</button>\n"+(null!=(a=u(o,"if").call(l,null!=t?u(t,"shouldShowAddSupportLink"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:8,column:0},end:{line:15,column:7}}}))?a:"")+'<span \n  class="webProfilesControl__maxLinksMessage sc-input-invalid-message sc-input-invalid-message-hidden g-input-validation g-input-validation-hidden"\n>\n  '+c((n(3)||t&&u(t,"$t")||r).call(l,"A maximum of 10 links can be added to your profile.",{name:"$t",hash:{},data:s,loc:{start:{line:19,column:2},end:{line:19,column:62}}}))+"\n</span>\n"},useData:!0})},5075:function(e,t,n){e.exports=n(10).extend(n(29).withOptions({names:["v2_ui_evolution"]}),{template:n(5076),css:n(5079),className:"webProfileControl sc-media",events:{"click .webProfileCveWebProfile()}},element2selector:{removeButton:".webProfileControl__remove"},ModelClass:n(1238),setup:function(){this.me=this.addDataSource(n(7).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold()},getTemplateData:function(e){return e.isSupportLink=this.model.isSupportLink(),e.binIcon=n(16).Bin,e.isUiEvolutionEnabled=this.hasFeature("v2_ui_evolution"),e},renderDecorate:function(){var e=this;o.call(this),this.model.get("url")||this.whenIws.url.focus()}))}});function o(){var e=this.me.isConfirmed();this.model.setFieldDisabled(["title","url"],!e),this.getElement("removeButton").attr("disabled",!e)}},5076:function(e,t,n){var o=n(14);e.exports=(o.default|     </div>\n"},3:function(e,t,o,i,s){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <div class="webProfileControl__hintWrapper sc-mr-2x sc-mt-1x sc-text-secondary">\n'+(null!=(a=(n(9)||t&&l(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(579),{name:"$view",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s,loc:{start:{line:31,column:8},end:{line:38,column:18}}}))?a:"")+"      </div>\n"},4:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"          <p>\n            "+c((n(3)||t&&u(t,"$t")||r).call(l,"Support Links are a single link that you add to your profile in order to highlight an app or site where you would like to direct supporters who want to chip in and provide some financial relief for you, if you choose to activate it.",{name:"$t",hash:{},data:s,loc:{start:{line:33,column:12},end:{line:33,column:253}}}))+'\n          </p>\n          <p class="g-flex-row-centered-right">\n            <a '+(null!=(a=(n(37)||t&&u(t,"$if")||r).call(l,null!=t?u(t,"isUiEvolutionEnabled"):t,'class="sc-button sc-button-medium sc-button-tertiary"',{name:"$if",hash:{},data:s,loc:{start:{line:36,column:15},end:{line:36,column:101}}}))?a:"")+' href="https://help.soundcloud.com/hc/articles/360045363454" target="_blank">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Learn more",{name:"$t",hash:{},data:s,loc:{start:{line:36,column:178},end:{line:36,column:197}}}))+"</a>\n          </p>\n"},6:function(e,t,o,i,s){var a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.t))return e[t]};return"      "+e.escapeExpression((n(9)||t&&r(t,"$view")||l).call(a,n(51),{name:"$view",hash:{placeholder:(n(3)||t&&r(t,"$t")||l).call(a,"Short title",{name:"$t",hash:{_comment:"placeholder for input with title of a link by user"},data:s,loc:{start:{line:46,column:20},end:{line:46,column:100}}}),field:"title",className:"webProfileControl__title sc-mr-2x",Form:n(1238),resource_id:null!=t?r(t,"id"):t},data:s,loc:{start:{line:41,column:6},end:{line:47,column  </button>\n"},10:function(e,t,n,o,i){return'    <button type="button" class="webProfileControl__remove sc-button sc-button-medium sc-button-icon sc-button-delete">\n    </button>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="webProfileControl__wrapper g-flex-row">\n  '+c((n(9)||t&&u(t,"$view")||r).call(l,n(5077),{name:"$view",hash:{field:"icon",Form:n(1238),resource_id:null!=t?u(t,"id"):t},data:s,loc:{start:{line:2,column:2},end:{line:6,column:4}}}))+'\n  <div class="g-flex-one g-flex-row">\n    <div class="'+c((n(756)||t&&u(t,"$concat")||r).call(l,(n(62)||t&&u(t,"$ternary")||r).call(l,null!=t?u(t,"isSupportLink"):t,"webProfileControl__url m-fullWidth","webProfileControl__url",{name:"$ternary",hash:{},data:s,loc:{start:{line:8,column:26},end:{line:8,column:112}}})," sc-mr-2x",{name:"$concat",hash:{},data:s,loc:{start:{line:8,column:16},end:{line:8,column:126}}}))+'">\n      '+c((n(9)||t&&u(t,"$view")||r).call(l,n(51),{name:"$view",hash:{key:"url",placeholder:(n(3)||t&&u(t,"$t")||r).call(l,(n(62)||t&&u(t,"$ternary")||r).call(l,null!=t?u(t,"isSupportLink"):t,"e.g.: https://paypal.me/username","Web or email address",{name:"$ternary",hash:{},data:s,loc:{start:{line:14,column:10},end:{line:14,column:92}}}),{name:"$t",hash:{_comment:"placeholder for input with a URL or Email by user"},data:s,loc:{start:{line:13,column:20},end:{line:16,column:9}}}),field:"url",Form:n(1238),resource_id:null!=t?u(t,"id"):t},data:s,loc:{start:{line:9,column:6},end:{line:18,column:8}}}))+"\n\n"+(null!=(a=u(o,"if").call(l,null!=t?u(t,"isSupportLink"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:20,column:6},end:{line:27,column:13}}}))?a:"")+"    </div>\n"+(null!=(a=u(o,"if").call(l,null!=t?u(t,"isSupportLink"):t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.program(6,s,0),data:s,loc:{start:{line:29,column:4},end:{line:48,column:11}}}))?a:"")+"  </div>\n"+(null!=(a=u(o,"if").call(l,null!=t?u(t,"isUiEvolutionEnabled"):t,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(10,s,0),data:s,loc:{start:{line:50,column:2},end:{line:58,column:9}}}))?a:"")+"</div>\n"},useData:!0})},5077:function(e,t,n){e.exports=n(10).extend(n(119),n(29).withOptions({names:["v2_ui_evolution"]}),{template:function(){var e=this.form.get("icon"),t=this.form.isSupportLink()?"webProfileControl__supportIcon":e?"sc-social-logo sc-social-logo-square sc-social-logo-"+e:"webProfileControl__emptyIcon";return this.hasFeature("v2_ui_evolution")?n(22).reactSubview(n(5078).default,{name:e,className:"webProfileControl__icon sc-text-secondary sc-mr-2x sc-mt-1x"}):'<span class="webProfileControl__icon sc-media-image '+t+'" />'},onFieldChange:function(){this.rerender()}})},5078:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n(16);var s=i.Social;t.default=function(e)e[n]);return i}(e,["name"]),a=function(e){if(null!=e&&e.startsWith("support"))return i.Monetize;var t=e&&e.charAt(0).toUpperCase()+e.slice(1)+"Logo";return s[t]||s.LinkLogo}(t);return o.createElement(a,n)}},5079:function(e,t,n){var o=n(13),i=n(5080);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5080:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s),l=n(15),r=n.n(l),c=n(3137),u=n.n(c),p=a()(i.a),d=r()(u.a);p.push([e.i,".sc-classic .webProfileControl__wrapper{margin:10px 0}.webProfileControl__icon{width:16px;height:16px;box-sizing:border-box}.sc-classic .webProfileControl__icon{margin-top:4px}.sc-classic .webProfileControl__emptyIcon{background-color:#f4f4f4;margin-top:4px}.webProfileControl__supportIcon{background-color:#38d;background-image:url("+d+");background-position:50%;background-repeat:no-repeat}.webProfileControl__url{width:66.666%}.webProfileControl__url .textfield{margin:0}.sc-classic .webProfileControl__url.m-fullWidth{width:auto}.webProfileControl__url.m-fullWidth{flex:1 0 auto}.webProfileControl__title{width:33.333%}.sc-classic .webProfileControl__title,.sc-classic .webProfileControl__url{margin:0 8px 0 0}.sc-classic .webProfileControl__hintWrapper{margin-right:10px;margin-top:4px}.sc-classic .webProfileControl__supportLinkDescription{margin:6px 0 5px}.webProfileControl__remove{margin-top:2px;margin-top:var(--spacing-0_25x)}","",{version:3,sources:["webpack://./app/views/settings/web-profile.css"],names:[],mappings:"AAAA,wCAAwC,aAAa,CAAC,yBAAyB,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,qCAAqC,cAAc,CAAC,0CAA0C,wBAAwB,CAAC,cAAc,CAAC,gCAAgC,qBAAqB,CAAC,wDAA4D,CAAC,uBAAuB,CAAC,2BAA2B,CAAC,wBAAwB,aAAa,CAAC,mCAAmC,QAAQ,CAAC,gDAAgD,UAAU,CAAC,oCAAoC,aAAa,CAAC,0BAA0B,aAAa,CAAC,0EAA0E,gBAAgB,CAAC,4CAA4C,iBAAiB,CAAC,cAAc,CAAC,uDAAuD,gBAAgB,CAAC,2BAA2B,cAAc,CAAC,+BAA+B",sourcesContent:[".sc-classic .webProfileControl__wrapper{margin:10px 0}.webProfileControl__icon{width:16px;height:16px;box-sizing:border-box}.sc-classic .webProfileControl__icon{margin-top:4px}.sc-classic .webProfileControl__emptyIcon{background-color:#f4f4f4;margin-top:4px}.webProfileControl__supportIcon{background-color:#38d;background-image:url(~assets/images/support-web-profile.svg);background-position:50%;background-repeat:no-repeat}.webProfileControl__url{width:66.666%}.webProfileControl__url .textfield{margin:0}.sc-classic .webProfileControl__url.m-fullWidth{width:auto}.webProfileControl__url.m-fullWidth{flex:1 0 auto}.webProfileControl__title{width:33.333%}.sc-classic .webProfileControl__title,.sc-classic .webProfileControl__url{margin:0 8px 0 0}.sc-classic .webProfileControl__hintWrapper{margin-right:10px;margin-top:4px}.sc-classic .webProfileControl__supportLinkDescription{margin:6px 0 5px}.webProfileControl__remove{margin-top:2px;margin-top:var(--spacing-0_25x)}"],sourceRoot:""}]),t.default=p},5081:function(e,t,n){var o=n(13),i=n(5082);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5082:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".profileSettings__emailBanner{margin:-25px -25px 0;padding-bottom:7px}.sc-classic .profileSettings__avatar{margin-right:18px}.profileSettings__baseFields{display:flex;justify-content:space-between;flex-wrap:wrap}.profileSettings__baseFields .textfield{margin:0}.profileSettings__cell{margin-bottom:16px;margin-bottom:var(--spacing-2x);width:48.9%}.sc-classic .profileSettings__cell{margin-bottom:15px}.profileSettings__cell.m-fullWidth{width:100%}body:not(.sc-classic) .profileSettings__permalinkControl label{font:700 1rem/1.4285714285714286rem SoundCloud Sans,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Lucida Grande,Apple Color Emoji,Segoe UI Emoji;font:var(--typography-heading4-font)}body:not(.sc-classic) .profileSettings__permalinkControl input:disabled{background-color:#fff;background-color:var(--surface-color)}.sc-classic .profileSettings__permalinkControl{margin:4px 0 12px}.profileSettings.m-showPermalinkWarning .profileSettings__permalinkWarning{display:block}.profileSettings__description textarea{height:66px}.profileSettings__description textarea:disabled{background-color:#f2f2f2;border-color:#e5e5e5;color:#ccc;cursor:default;resize:none}.profileSettings__description textarea:disabled::-webkit-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::-moz-placeholder{color:#ccc}.profileSettings__description textarea:disabled::-ms-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::placeholder{color:#ccc}.sc-classic .profileSettings__webProfiles{margin:18px 0}.profileSettings__formButtons{padding:20px 25px 0;margin:0 -25px;position:relative;display:flex;justify-content:flex-end}.profileSettings__permalinkWarning{display:none;line-height:1.6}body:not(.sc-classic) .profileSettings__form .g-form-section-title{color:#000;color:var(--font-primary-color)}","",{version:3,sources:["webpack://./app/views/settings/profile.css"],names:[],mappings:"AAAA,8BAA8B,oBAAoB,CAAC,kBAAkB,CAAC,qCAAqC,iBAAiB,CAAC,6BAA6B,YAAY,CAAC,6BAA6B,CAAC,cAAc,CAAC,wCAAwC,QAAQ,CAAC,uBAAuB,kBAAkB,CAAC,+BAA+B,CAAC,WAAW,CAAC,mCAAmC,kBAAkB,CAAC,mCAAmC,UAAU,CAAC,+DAA+D,gLAAgL,CAAC,oCAAoC,CAAC,wEAAwE,qBAAqB,CAAC,qCAAqC,CAAC,+CAA+C,iBAAiB,CAAC,2EAA2E,aAAa,CAAC,uCAAuC,WAAW,CAAC,gDAAgD,wBAAwB,CAAC,oBAAoB,CAAC,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,2EAA2E,UAAU,CAAC,kEAAkE,UAAU,CAAC,uEAAuE,UAAU,CAAC,6DAA6D,UAAU,CAAC,0CAA0C,aAAa,CAAC,8BAA8B,mBAAmB,CAAC,cAAc,CAAC,iBAAiB,CAAC,YAAY,CAAC,wBAAwB,CAAC,mCAAmC,YAAY,CAAC,eAAe,CAAC,mEAAmE,UAAU,CAAC,+BAA+B",sourcesContent:[".profileSettings__emailBanner{margin:-25px -25px 0;padding-bottom:7px}.sc-classic .profileSettings__avatar{margin-right:18px}.profileSettings__baseFields{display:flex;justify-content:space-between;flex-wrap:wrap}.profileSettings__baseFields .textfield{margin:0}.profileSettings__cell{margin-bottom:16px;margin-bottom:var(--spacing-2x);width:48.9%}.sc-classic .profileSettings__cell{margin-bottom:15px}.profileSettings__cell.m-fullWidth{width:100%}body:not(.sc-classic) .profileSettings__permalinkControl label{font:700 1rem/1.4285714285714286rem SoundCloud Sans,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Lucida Grande,Apple Color Emoji,Segoe UI Emoji;font:var(--typography-heading4-font)}body:not(.sc-classic) .profileSettings__permalinkControl input:disabled{background-color:#fff;background-color:var(--surface-color)}.sc-classic .profileSettings__permalinkControl{margin:4px 0 12px}.profileSettings.m-showPermalinkWarning .profileSettings__permalinkWarning{display:block}.profileSettings__description textarea{height:66px}.profileSettings__description textarea:disabled{background-color:#f2f2f2;border-color:#e5e5e5;color:#ccc;cursor:default;resize:none}.profileSettings__description textarea:disabled::-webkit-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::-moz-placeholder{color:#ccc}.profileSettings__description textarea:disabled::-ms-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::placeholder{color:#ccc}.sc-classic .profileSettings__webProfiles{margin:18px 0}.profileSettings__formButtons{padding:20px 25px 0;margin:0 -25px;position:relative;display:flex;justify-content:flex-end}.profileSettings__permalinkWarning{display:none;line-height:1.6}body:not(.sc-classic) .profileSettings__form .g-form-section-title{color:#000;color:var(--font-primary-color)}"],sourceRoot:""}]),t.default=a},5083:function(e,t,n){var o=n(2).Lingua.t("More");e.exports=n(184).extend({className:"sc-button-more sc-button sc-button-secondary",icon:n(16).Ellipsis,defaults:{ContentViewClass:n(5084),contentViewArgs:{size:"medium"},overlayType:"dropdown",overlayOptions:{anchor:"left top",relativeElementAnchor:"left bottom"}},buttonLabels:{default:o,selected:{text:o,title:o}}})},5084:function(e,t,n){e.exports=n(10).extend(n(29).withOptions({names:["v2_dsa_report_content_links"]}),n(592),{ModelClass:n(45),defaults:{size:"medium"},getTemplateData:function(){var e=n(118).isCountryEU()&&this.hasFeature("v2_dsa_report_content_links");return{items:[[o.call(this,n(3095),{showUserName:!0}),e?o.call(this,n(5085),{showUserName:!0}):o.call(this,n(3262),{showUserName:!0})]]}},getModelData:function(){return{}}});function o(e,t){var o=this.options.size,i=this.model.id;return{args:n(0).assign({className:"moreActions__button m-noIcon sc-button-"+o+" sc-button-tertiary",size:o,_id:i,resource_id:i,resource_type:"user",isScButton:!1,icon_only:!1,selectedClass:"sc-button-selected"},t),View:e}}},5085:function(e,t,n){"use strict";n.r(t),n.d(t,"ReportUserDsaButton",(function(){return l}));n(10),n(89);var o=n(594),i=n(45),s=n.n(i),a=n(2),l=(n(382),o.default.extend({className:"reportButton sc-button sc-button-tertiary",defaults:{showUserName:!1},ModelClass:s.a,buttonLabels:{default:function(){return this.options.showUserName?a.Lingua.t("Report [[username]]",{username:this.model.get("username")}):a.Lingua.t("Report")}}}));t.default=l},5086:function(e,t,n){e.exports=n(10).extend({template:n(5087),css:n(5128),ModelClass:n(45),className:"userMain",defaults:{subpage:"all"},getTemplateData:function(e){var t=n(7).get("me");return e["show_"+this.options.subpage]=!0,e.showUploadFooter=this.model.isMe()&&t.hasOwnSounds(),e}})},5087:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+e.escapeExpression((n(9)||t&&l(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(5088),{name:"$view",hash:{subpage:null!=(a=null!=t?l(t,"_options"):t)?l(a,"subpage"):a,resource_id:null!=t?l(t,"_resource_id"):t},data:s,loc:{start:{line:2,column:2},end:{line:2,column:90}}}))+"\n"},3:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(5092),{name:"$view",hash:{showUploadFooter:null!=t?a(t,"showUploadFooter"):t,showEndView:!0,resource_id:null!=t?a(t,"_resource_id"):t},data:s,loc:{start:{line:7,column:4},end:{line:7,column:109}}}))+"\n"},5:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(3813),{name:"$view",hash:{showUploadFooter:null!=t?a(t,"showUploadFooter"):t,resource_id:null!=t?a(t,"_resource_id"):t},data:s,loc:{start:{line:10,column:4},end:{line:10,column:1:105}}}))+"\n"},9:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(5122),{name:"$view",hash:{resource_id:null!=t?a(t,"_resource_id"):t},data:s,loc:{start:{line:16,column:4},end:{line:16,column:71}}}))+"\n"},11:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(5125),{name:"$view",hash:{resource_id:null!=t?a(t,"_resource_id"):t},data:s,loc:{start:{line:19,column:4},end:{line:19,column:69}}}))+"\n"},13:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(5126),{name:"$view",hash:{resource_id:null!=t?a(t,"_resource_id"):t},data:s,loc:{start:{line:22,column:4},end:{line:22,column:59}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=(n(9)||t&&r(t,"$view")||e.hooks.helperMissing).call(l,n(2997),{name:"$view",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:3,column:10}}}))?a:"")+'\n<div class="userMain__content">\n'+(null!=(a=r(o,"if").call(l,null!=t?r(t,"show_all"):t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s,loc:{start:{line:6,column:2},end:{line:8,column:9}}}))?a:"")+(null!=(a=r(o,"if").call(l,null!=t?r(t,"show_tracks"):t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:9,column:2},end:{line:11,column:9}}}))?a:"")+(null!=(a=r(o,"if").call(l,null!=t?r(t,"show_popular-tracks"):t,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s,loc:{start:{line:12,column:2},end:{line:14,column:9}}}))?a:"")+(null!=(a=r(o,"if").call(l,null!=t?r(t,"show_albums"):t,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s,loc:{start:{line:15,column:2},end:{line:17,column:9}}}))?a:"")+(null!=(a=r(o,"if").call(l,null!=t?r(t,"show_sets"):t,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s,loc:{start:{line:18,column:2},end:{line:20,column:9}}}))?a:"")+(null!=(a=r(o,"if").call(l,null!=t?r(t,"show_reposts"):t,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s,loc:{start:{line:21,column:2},end:{line:23,column:9}}}))?a:"")+"</div>\n"},useData:!0})},5088:function(e,t,n){(function(t){e.exports=n(10).extend({template:n(5089),css:n(5090),className:"userDropbar sc-media sc-border-light-bottom",ModelClass:n(45),requiredAttributes:["username","urn"],defaults:{subpage:null},events:{"click .userDropbar__title":function(e){t("body,html").animate({scrollTop:0},{duration:300})}},getTemplateData:function(e){return e.containerOptions={style:{display:"inline-block"}},e.dropbarHeading=function(e,t){switch(e){case"popular-tracks":return n(2).Lingua.t("Popular tracks by [[username]]",{username:t});case"tracks":return n(2).Lingua.t("Tracks by [[username]]",{username:t});case"albums":return n(2).Lingua.t("Albums by [[username]]",{username:t});case"sets":return n(2).Lingua.t("Playlists by [[username]]",{username:t});case"reposts":return n(2).Lingua.t("Reposts by [[username]]",{username:t});default:return t}}(this.options.subpage,e.username),e}})}).call(this,n(28))},5089:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="sc-media-image">\n  '+c((n(9)||t&&u(t,"$view")||r).call(l,n(133),{name:"$view",hash:{classicSize:30,resource_type:null!=t?u(t,"_resource_type"):t,resource_id:null!=t?u(t,"_resource_id"):t},data:s,loc:{start:{line:2,column:2},end:{line:6,column:4}}}))+'\n</div>\n<div class="userDropbar__buttons sc-media-extra">\n  '+c((n(9)||t&&u(t,"$view")||r).call(l,n(3812),{name:"$view",hash:{resource_id:null!=t?u(t,"_resource_id"):t},data:s,loc:{start:{line:9,column:2},end:{line:9,column:64}}}))+'\n</div>\n<div class="sc-media-content">\n  <h1 class="userDropbar__title sc-truncate">\n    '+c("function"==typeof(a=null!=(a=u(o,"dropbarHeading")||(null!=t?u(t,"dropbarHeading"):t))?a:r)?a.call(l,{name:"dropbarHeading",hash:{},data:s,loc:{start:{line:13,column:4},end:{line:13,column:22}}}):a)+"\n      "+c((n(38)||t&&u(t,"$react-view")||r).call(l,n(257),{name:"$react-view",hash:{size:"medium",className:"userDropbar__verifiedBadge",userUrn:null!=t?u(t,"urn"):t,containerOptions:null!=t?u(t,"containerOptions"):t},data:s,loc:{start:{line:14,column:6},end:{line:14,column:170}}}))+"\n  </h1>\n</div>\n"},useData:!0})},5090:function(e,t,n){var o=n(13),i=n(5091);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5091:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".userDropbar{padding:16px;padding:var(--spacing-2x);background:#fff;background:var(--surface-color)}.sc-classic .userDropbar{padding:22px 0 10px}.userDropbar__title{font-size:24px;line-height:1.3;cursor:pointer}.userDropbar__buttons{margin-top:2px}.sc-classic .userDropbar__verifiedBadge{position:relative;top:8px}","",{version:3,sources:["webpack://./app/views/user/dropbar-content.css"],names:[],mappings:"AAAA,aAAa,YAAY,CAAC,yBAAyB,CAAC,eAAe,CAAC,+BAA+B,CAAC,yBAAyB,mBAAmB,CAAC,oBAAoB,cAAc,CAAC,eAAe,CAAC,cAAc,CAAC,sBAAsB,cAAc,CAAC,wCAAwC,iBAAiB,CAAC,OAAO",sourcesContent:[".userDropbar{padding:16px;padding:var(--spacing-2x);background:#fff;background:var(--surface-color)}.sc-classic .userDropbar{padding:22px 0 10px}.userDropbar__title{font-size:24px;line-height:1.3;cursor:pointer}.userDropbar__buttons{margin-top:2px}.sc-classic .userDropbar__verifiedBadge{position:relative;top:8px}"],sourceRoot:""}]),t.default=a},5092:function(e,t,n){e.exports=n(197).extend(n(455),n(46).withOptions("userStream"),{Subview:n(3713),template:n(5097),css:[n(2975),n(2970),n(5117)],emptyTemplate:n(2971),tagName:"div",className:"userStream",listClassName:"soundList sc-list-nostyle",itemClassName:"soundList__item",element2selector:{list:".userStream__list"},animations:{remove:{delay:0}},defaults:{showEndView:!0,initialPageSize:5,pageSize:10,showUploadFooter:!1},events:{"click .emptyNetworkPage__button > a":function(){n(21).trackUploadFunnel({chapter:"upload_button_user_profile"})}},setup:function(e){var t=e.resource_id,o=e.showUploadFooter;this.collection=new(n(5119))(null,{userId:t}),this.collection.setLimit(20),this.user=this.addDataSource(new(n(45))({id:t}),{requiredAttributes:["username"]}),o&&(this.EndOfListView=n(3127))},onAdd:function(e,t,i){o(e)&&n(197).prototype.onAdd.call(this,e,t,i)},getTemplateData:function(e){return this.user.isMe()?(e.message=n(2).Lingua.t("Seems a little quiet over here"),e.linkUrl=e.buttonUrl=n(33).getRoute("upload"),e.linkText=n(2).Lingua.t("Upload a track to share it with your followers."),e.buttonText=n(2).Lingua.t("Upload now")):(e.message=n(2).Lingua.t("Nothing to hear here"),e.subheaderMessage=n(2).Lingua.t("Follow [[username]] for updates on sounds they share in the future.",{username:this.user.get("username")})),e.isUiEvolutionEnabled=n(7).get("features").has("v2_ui_evolution"),e.emptyPageClass="emptyStream",e},getListContainer:function(){return this.getElement("list")},getion.filter(o)},getSubviewArgs:function(e){return{userStreamItem:e,userId:this.options..isSpotlight()}},5093:function(e,t,n){var o=n(14);e.exports=(o.default|:120}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((n(9)||t&&r(t,"$view")||e.hooks.helperMissing).call(l,n(578),{name:"$view",hash:{time_display_prefix:null!=t?r(t,"time_display_prefix"):t,time_to_show:null!=t?r(t,"time_to_show"):t,actionType:null!=t?r(t,"actionType"):t,actorId:null!=t?r(t,"actorId"):t,resource_type:null!=t?r(t,"model_type"):t,resource_id:null!=t?r(t,"model_id"):t},data:s,loc:{start:{line:1,column:0},end:{line:8,column:2}}}))+"\n\n"+(null!=(a=r(o,"if").call(l,null!=t?r(t,"show_spotlight"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:10,column:0},end:{line:12,column:7}}}))?a:"")},useData:!0})},5094:function(e,t,n){var o=n(2).Lingua.t("Remove from Spotlight");e.exports=n(10).extend(n(77),{css:n(5095),className:"spotlightRemove sc-ir sc-button sc-button-secondary sc-button-medium sc-button-icon",tagName:"a",icon:n(16).Close,buttonLabels:{default:o},ModelClass:n(763),defaults:{icon_only:!0,stream_owner_id:null,isScButton:!1},states:{removing:"removing"},setup:function(){this.spotlight=new(n(3128))(null,{userId:this.options.stream_ownethis.spotlight},onClick:function(){n(7).get("me").id===this.options.stream_owner_id&&(this.toggleState("removing",!0),this.removeFromSpotlight())},removeFromSpotlight:function(){this.model.isSpotlight()&&this.spotlight.remove(this.model)}})},5095:function(e,t,n){var o=n(13),i=n(5096);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5096:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s),l=n(15),r=n.n(l),c=n(373),u=n.n(c),p=a()(i.a),d=r()(u.a);p.push([e.i,".spotlightRemove{opacity:0;cursor:pointer;position:absolute;right:16px;right:var(--spacing-2x);top:8px;top:var(--spacing-1x);visibility:hidden;z-index:3}.sc-classic .spotlightRemove{background:transparent url("+d+") no-repeat 0 0;border:0;right:23px;top:22px;width:15px;height:15px}.sc-classic .spotlightRemove:active{transform:translateY(1px)}.sc-classic .spotlightRemove.removing{-webkit-animation:g-rotate .8s linear infinite;animation:g-rotate .8s linear infinite}.editing .spotlightRemove{opacity:1;visibility:visible}","",{version:3,sources:["webpack://./app/views/buttons/spotlight-remove.css"],names:[],mappings:"AAAA,iBAAiB,SAAS,CAAC,cAAc,CAAC,iBAAiB,CAAC,UAAU,CAAC,uBAAuB,CAAC,OAAO,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,SAAS,CAAC,6BAA6B,4EAAwE,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,oCAAoC,yBAAyB,CAAC,sCAAsC,8CAA8C,CAAC,sCAAsC,CAAC,0BAA0B,SAAS,CAAC,kBAAkB",sourcesContent:[".spotlightRemove{opacity:0;cursor:pointer;position:absolute;right:16px;right:var(--spacing-2x);top:8px;top:var(--spacing-1x);visibility:hidden;z-index:3}.sc-classic .spotlightRemove{background:transparent url(~assets/images/close-light.png) no-repeat 0 0;border:0;right:23px;top:22px;width:15px;height:15px}.sc-classic .spotlightRemove:active{transform:translateY(1px)}.sc-classic .spotlightRemove.removing{-webkit-animation:g-rotate .8s linear infinite;animation:g-rotate .8s linear infinite}.editing .spotlightRemove{opacity:1;visibility:visible}"],sourceRoot:""}]),t.default=p},5097:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return c((n(9)||t&&u(t,"$view")||r).call(l,n(5098),{name:"$view",hash:{resource_id:null!=(a=null!=t?u(t,"_options"):t)?u(a,"resource_id"):a},data:s,loc:{start:{line:1,column:0},end:{line:1,column:65}}}))+'\n\n<h3 class="userstream__header sc-px-2x sc-py-1x sc-mt-2x sc-text-h2">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Recent",{name:"$t",hash:{},data:s,loc:{start:{line:3,column:69},end:{line:3,column:84}}}))+'</h3>\n<div class="userStream__list"></div>\n'},useData:!0})},5098:function(e,t,n){(function(t){e.exports=n(88).extend(n(771),n(609),{Subview:n(3713),css:[n(5099),n(2975)],template:n(5101),tagName:"div",className:"spotlight",listClassName:"spotlight__list soundList sc-list-nostyle",itemClassName:"spotlight__item soundList__item g-all-transitions-300",events:{"click .spotlight__upsellCTA":function(){var e=n(7).get("me");n(213).default.trackUserEvent("spotlight_edit_attempt",{creator_display_name:e.get("username"),creator_user_urn:e.getUrn()})}},states:{empty:"empty",full:"full",isMine:"isMine"},element2selector:{counter:".spotlight__counter",listContainer:".spotlight__listContainer"},defaults:{maxDisplay:5},editableObject:null,listSelector:".spotlight__list",listItemSelector:".spotlight__item",animations:{remove:{delay:0}},setup:function(){var e={userId:this.options.resource_id};this.collection=new(n(3128))(null,e),this.customUserAudiblesFilter=o.bind(null,this.collection),this.editableObject=this.collection,this.toggleState("isMine",n(7).get("me").id===this.options.resource_id)},renderDecorate:function(){n(88).prototype.renderDecorate.call(this),this.syncState(),this.subviews.userAudibleSearch&&this.subviews.userAudibleSearch.on("onItemSelected",this.addItem,this)},syncState:function(){if(this.getState("isMine")){var e=this.collection.length,t=this.collection.getMaxItemCount();this.toggleState("empty",0===e).toggleState("full",e===t&&this.getState("editing")).getElement("counter").text("("+[e,t].join("/")+")")}},addItem:function(e){var t="playlist"===e.get("kind"),o=new(n(763))({type:t?"playlist":"track",track:t?null:e.toJSON(),playlist:t?e.toJSON():null});o.release(),o.toggleSpotlight(!0),this.collection.add(o,{at:0})},onAddItem:function(){this.syncState(),this.collection.isEditing()&&(i(this,!1),i(this,!0))},onRemoveItem:function(){var e=t e.syncState()}),200)},onEditEnter:function(){this.syncState(),this.enableSorting(),i(this,!0)},onEditLeave:function(){this.disableSorting(),this.syncState(),i(this,!1)},getListContainer:function(){return this.getElement("listContainer")},getSubviewArgs:function(e){return{userStreamItem:e,userId:this.options.resource_id}},getTemplateData:function(){var e=this.getState("isMine"),t=n(7).get("me"),o=n(7).get("features").has("spotlight"),i=e&&!o&&t.getNumTracks()>=1,s=this.getModelsToRender().length||e&&o||i;return{userId:this.options.resource_id,customUserAudiblesFilter:this.customUserAudiblesFilter,showSpotlight:s,isMine:e,showUpsell:i}}});function o(e,t){tAudible()!==t}))}function i(e,o){var i=e.$el,s="fakePlayButton",a="."+s;o?(i.find(".commentPlaceholder").hide(),i.find(".playButton").each((function(){var e;t(this).hide().before('<span class="'+[(e=this).className,s].join(" ")+'">'+(n(7).get("features").has("v2_ui_evolution")?e.innerHTML:"")+"</span>")}))):(i.find(a).remove(),i.find(".playButton").show(),i.find(".commentPlaceholder").show())}}).call(this,n(28))},5099:function(e,t,n){var o=n(13),i=n(5100);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5100:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,'.spotlight{position:relative}.spotlight__full{margin:0 0 10px;display:none}.spotlight__empty{margin:0;display:none;min-height:32px}.spotlight.empty .spotlight__empty,.spotlight.full .spotlight__full{display:block}.spotlight__mine{margin-bottom:0;position:relative;height:0;transition:margin .3s,height .3s,padding .3s,margin .3s}.sc-classic .spotlight__mine{padding:0}.spotlight.empty .spotlight__mine{height:auto}.sc-classic .spotlight.empty .spotlight__mine{padding:10px 0 20px}.spotlight__item{position:relative}.sc-classic .spotlight__item{border:1px solid transparent;border-radius:5px;margin-bottom:0;padding:22px 0 13px}.spotlight.full .spotlight__search,.spotlight__search{display:none}.spotlight.editing .spotlight__mine{height:auto}.sc-classic .spotlight.editing .spotlight__mine{padding:10px 0 20px}.spotlight.editing .spotlight__empty{display:none}.spotlight.editing .spotlight__search{display:block}.spotlight.editing .spotlight__item{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body:not(.sc-classic) .spotlight.editing .spotlight__item{background-color:#fff;background-color:var(--surface-color);border-radius:6px}.sc-classic .spotlight.editing .spotlight__item{background-color:#fff;padding-left:22px;margin-left:-22px;padding-right:23px;margin-right:-23px}.sc-classic .spotlight.editing .spotlight__item:hover{border-color:#f2f2f2}body:not(.sc-classic) .spotlight.editing .spotlight__item:hover{background-color:hsla(0,0%,95.3%,.9);background-color:rgba(var(--highlight-rgb),.9)}.spotlight.editing .spotlight__item:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}.spotlight__list .sortable-placeholder{border:1px solid transparent;padding-top:10px;padding-bottom:25px}.spotlight.editing .spotlight__item .soundTitle__tag,.spotlight.editing .spotlight__item .soundTitle__uploadTime{display:none}.spotlight__upsellCTA{position:absolute;top:0;right:0}',"",{version:3,sources:["webpack://./app/views/user/spotlight.css"],names:[],mappings:"AAAA,WAAW,iBAAiB,CAAC,iBAAiB,eAAe,CAAC,YAAY,CAAC,kBAAkB,QAAQ,CAAC,YAAY,CAAC,eAAe,CAAC,oEAAoE,aAAa,CAAC,iBAAiB,eAAe,CAAC,iBAAiB,CAAC,QAAQ,CAAC,uDAAuD,CAAC,6BAA6B,SAAS,CAAC,kCAAkC,WAAW,CAAC,8CAA8C,mBAAmB,CAAC,iBAAiB,iBAAiB,CAAC,6BAA6B,4BAA4B,CAAC,iBAAiB,CAAC,eAAe,CAAC,mBAAmB,CAAC,sDAAsD,YAAY,CAAC,oCAAoC,WAAW,CAAC,gDAAgD,mBAAmB,CAAC,qCAAqC,YAAY,CAAC,sCAAsC,aAAa,CAAC,oCAAoC,WAAW,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,0DAA0D,qBAAqB,CAAC,qCAAqC,CAAC,iBAAiB,CAAC,gDAAgD,qBAAqB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,sDAAsD,oBAAoB,CAAC,gEAAgE,oCAAoC,CAAC,8CAA8C,CAAC,0CAA0C,UAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,uCAAuC,4BAA4B,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,iHAAiH,YAAY,CAAC,sBAAsB,iBAAiB,CAAC,KAAK,CAAC,OAAO",sourcesContent:['.spotlight{position:relative}.spotlight__full{margin:0 0 10px;display:none}.spotlight__empty{margin:0;display:none;min-height:32px}.spotlight.empty .spotlight__empty,.spotlight.full .spotlight__full{display:block}.spotlight__mine{margin-bottom:0;position:relative;height:0;transition:margin .3s,height .3s,padding .3s,margin .3s}.sc-classic .spotlight__mine{padding:0}.spotlight.empty .spotlight__mine{height:auto}.sc-classic .spotlight.empty .spotlight__mine{padding:10px 0 20px}.spotlight__item{position:relative}.sc-classic .spotlight__item{border:1px solid transparent;border-radius:5px;margin-bottom:0;padding:22px 0 13px}.spotlight.full .spotlight__search,.spotlight__search{display:none}.spotlight.editing .spotlight__mine{height:auto}.sc-classic .spotlight.editing .spotlight__mine{padding:10px 0 20px}.spotlight.editing .spotlight__empty{display:none}.spotlight.editing .spotlight__search{display:block}.spotlight.editing .spotlight__item{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body:not(.sc-classic) .spotlight.editing .spotlight__item{background-color:#fff;background-color:var(--surface-color);border-radius:6px}.sc-classic .spotlight.editing .spotlight__item{background-color:#fff;padding-left:22px;margin-left:-22px;padding-right:23px;margin-right:-23px}.sc-classic .spotlight.editing .spotlight__item:hover{border-color:#f2f2f2}body:not(.sc-classic) .spotlight.editing .spotlight__item:hover{background-color:hsla(0,0%,95.3%,.9);background-color:rgba(var(--highlight-rgb),.9)}.spotlight.editing .spotlight__item:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}.spotlight__list .sortable-placeholder{border:1px solid transparent;padding-top:10px;padding-bottom:25px}.spotlight.editing .spotlight__item .soundTitle__tag,.spotlight.editing .spotlight__item .soundTitle__uploadTime{display:none}.spotlight__upsellCTA{position:absolute;top:0;right:0}'],sourceRoot:""}]),t.default=a},5101:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+e.escapeExpression((n(9)||t&&r(t,"$view")||e.hooks.helperMissing).call(l,n(5102),{name:"$view",hash:{resource_id:null!=t?r(t,"userId"):t},data:s,loc:{start:{line:2,column:2},end:{line:2,column:59}}}))+"\n"+(null!=(a=r(o,"if").call(l,null!=t?r(t,"isMine"):t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s,loc:{start:{line:3,column:2},end:{line:18,column:9}}}))?a:"")+'  <div class="spotlight__listContainer"></div>\n  <span class="sc-border-light-top g-box-full"></span>\n'},2:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=u(o,"if").call(l,null!=t?u(t,"showUpsell"):t,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s,loc:{start:{line:4,column:4},end:{line:6,column:11}}}))?a:"")+'    <div class="spotlight__editButton">'+c((n(9)||t&&u(t,"$view")||r).call(l,n(5106),{name:"$view",hash:{showUpsell:null!=t?u(t,"showUpsell"):t,resource_id:null!=t?u(t,"userId"):t},data:s,loc:{start:{line:7,column:39},end:{line:7,column:117}}}))+"</div>\n"+(null!=(a=u(o,"if").call(l,null!=t?u(t,"showUpsell"):t,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:8,column:4},end:{line:10,column:11}}}))?a:"")+'    <div class="spotlight__mine sc-px-2x sc-py-1x">\n      <p class="spotlight__empty sc-text-secondary">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Highlight your best tracks and playlists: put them in Spotlight so that your audience will find them first when they visit your profile.",{name:"$t",hash:{},data:s,loc:{start:{line:12,column:52},end:{line:12,column:197}}}))+'</p>\n      <p class="spotlight__full sc-type-h3 sc-text-h4">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Your Spotlight is full, with the maximum of five tracks or playlists. Take one or more of them out to showcase something else.",{name:"$t",hash:{},data:s,loc:{start:{line:13,column:55},end:{line:13,column:190}}}))+'</p>\n      <div class="spotlight__search">\n        '+c((n(9)||t&&u(t,"$view")||r).call(l,n(1305),{name:"$view",hash:{customUserAudiblesFilter:null!=t?u(t,"customUserAudiblesFilter"):t,key:"userAudibleSearch"},data:s,loc:{start:{line:15,column:8},end:{line:15,column:124}}}))+"\n      </div>\n    </div>\n"},3:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <div class="spotlight__upsellCTA sc-px-2x sc-py-1x">'+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(5111),{name:"$view",hash:{},data:s,loc:{start:{line:5,column:58},end:{line:5,column:104}}})}))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(s=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"showSpotlight"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:21,column:7}}}))?s:""},useData:!0})},5102:function(e,t,n){e.exports=n(10).extend({css:n(5103),template:n(5105),className:"spotlightTitle sc-px-2x sc-py-1x",tagName:"h2",setup:function(e){this.collection=new(n(3128))(null,e)},onAdd:function(){this.rerender()},onRemove:function(){this.rerender()},getTemplateData:function(e){return e.isMe=this.options.resource_id===n(7).get("me").id,e.maxItems=this.collection.getMaxItemCount(),e.currentItems=this.collection.length,e}})},5103:function(e,t,n){var o=n(13),i=n(5104);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5104:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".sc-classic .spotlightTitle{margin-bottom:20px;font-size:24px;font-weight:100}","",{version:3,sources:["webpack://./app/views/user/spotlight-title.css"],names:[],mappings:"AAAA,4BAA4B,kBAAkB,CAAC,cAAc,CAAC,eAAe",sourcesContent:[".sc-classic .spotlightTitle{margin-bottom:20px;font-size:24px;font-weight:100}"],sourceRoot:""}]),t.default=a},5105:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+e.escapeExpression((n(3)||t&&a(t,"$t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"Spotlight ([[currentItems]]/[[maxItems]])",{name:"$t",hash:{maxItems:null!=t?a(t,"maxItems"):t,currentItems:null!=t?a(t,"currentItems"):t},data:s,loc:{start:{line:2,column:2},end:{line:2,column:96}}}))+"\n"},3:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+e.escapeExpression((n(3)||t&&a(t,"$t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"Spotlight",{name:"$t",hash:{},data:s,loc:{start:{line:4,column:2},end:{line:4,column:20}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(s=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isMe"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?s:""},useData:!0})},5106:function(e,t,n){e.exports=n(10).extend(n(771),{template:n(5107),css:n(5108),className:"editSpotlight sc-button-group sc-px-2x sc-py-1x",editableObject:null,enterEditingStateDefaults:{addNavigationBlock:!0},element2selector:{editButton:".editSpotlight__editButton",cancelButton:".editSpotlight__cancelButton",saveButton:".editSpotlight__saveButton"},events:function(){return this.options.showUpsell?{}:{"click .editSpotlight__editButton":"onEditButtonClick","click .editSpotlight__cancelButton":"onCancelButtonClick","click .editSpotlight__saveButton":"onSaveButtonClick"}},defaults:{showUpsell:!1},states:{upsellable:"m-upsellable"},setup:function(e){this.collection=new(n(3128))(null,e),this.editableObject=this.collection,this.toggleState("upsellable",e.showUpsell)},renderDecorate:function(){this.options.showUpsell||this.getElement("editButton").one("click",this.onFirstEditClick.bind(this))},onFirstEditClick:function(){var e=new(n(5110))(null,{userId:this.options.resource_id,limit:25}),t=new(n(1258))(null,{resource_id:this.options.resource_id,playlists_for:"user",limit:25});e.fetch().always((function(){e.release()})),t.(){t.release()}))},onEditLeave:function(){var e=this.collection,t=this.editableObject;if(t.isCanceling())e.resetOrder();else if(t.isSaving()){e.saveOrder();var o=n(7).get("me");n(213).default.trackUserEvent("add_a_track_to_spotlight",{creator_display_name:o.get("username"),creator_user_urn:o.getUrn()}),n(21).trackV1Click({click_name:"user::spotlight_saved",click_attributes:{user_subscription:n(7).get("me").getCreatorSubscriptionIdentifier()}})}}})},5107:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button type="button" class="editSpotlight__editButton sc-button sc-button-medium sc-button-secondary sc-button-edit">'+r((n(3)||t&&c(t,"$t")||l).call(a,"Edit Spotlight",{name:"$t",hash:{},data:s,loc:{start:{line:1,column:118},end:{line:1,column:141}}}))+'</button>\n<button type="button" class="editSpotlight__cancelButton sc-button sc-button-nostyle sc-button-medium">'+r((n(3)||t&&c(t,"$t")||l).call(a,"Cancel",{name:"$t",hash:{},data:s,loc:{start:{line:2,column:103},end:{line:2,column:118}}}))+'</button>\n<button type="button" class="editSpotlight__saveButton sc-button sc-button-medium sc-button-cta sc-button-primary">'+r((n(3)||t&&c(t,"$t")||l).call(a,"Save",{name:"$t",hash:{},data:s,loc:{start:{line:3,column:115},end:{line:3,column:128}}}))+"</button>\n"},useData:!0})},5108:function(e,t,n){var o=n(13),i=n(5109);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5109:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".editSpotlight{position:absolute;top:0;right:0}.editSpotlight .editSpotlight__editButton{margin-right:0}.editSpotlight.editing .editSpotlight__editButton,.editSpotlight.m-upsellable .editSpotlight__editButton,.editSpotlight__cancelButton,.editSpotlight__saveButton{display:none}.editSpotlight.editing .editSpotlight__cancelButton,.editSpotlight.editing .editSpotlight__saveButton{display:block}","",{version:3,sources:["webpack://./app/views/user/edit-spotlight.css"],names:[],mappings:"AAAA,eAAe,iBAAiB,CAAC,KAAK,CAAC,OAAO,CAAC,0CAA0C,cAAc,CAAC,iKAAiK,YAAY,CAAC,sGAAsG,aAAa",sourcesContent:[".editSpotlight{position:absolute;top:0;right:0}.editSpotlight .editSpotlight__editButton{margin-right:0}.editSpotlight.editing .editSpotlight__editButton,.editSpotlight.m-upsellable .editSpotlight__editButton,.editSpotlight__cancelButton,.editSpotlight__saveButton{display:none}.editSpotlight.editing .editSpotlight__cancelButton,.editSpotlight.editing .editSpotlight__saveButton{display:block}"],sourceRoot:""}]),t.default=a},5110:function(e,t,n){e.exports=n(59).extend({model:n(32),defaults:{limit:250},baseUrl:function(){return this.getEndpointUrl("userTracks",{id:this.options.userId})}})},5111:function(e,t,n){e.exports=n(10).extend(n(29).withOptions({names:["creator_plan_names_repositioning"]}),n(157),n(104).withOptions({type:"pro"}),{tagName:"button",className:"sc-button sc-button-medium sc-button-cta sc-button-secondary sc-button-disabled sc-button-edit",defaults:{dialogType:"genericProUpit Spotlight")},getUpsellRef:function(){return"t282"},dialogArgs:function(){return{subviewArgs:{text:n(2).Lingua.t("Get a [[planName]] subscription to pin tracks and playlists to the top of your profile with Spotlight.",{planName:this.hasFeature("creator_plan_names_repositioning")?n(102).productNameInstance.getNameVariants(n(63).ProductId.CREATOR_SUBSCRIPTION_3).short:"Pro"}),buttonText:n(2).Lingua.t("Learn more"),tcode:"t232"}}}})},5112:function(e,t,n){var o=new(n(64))("has-dismissed");e.exports=n(10).extend(n(29).withOptions({names:["v2_ui_evolution","creator_plan_names_repositioning"]}),{css:n(5113),template:n(5115),events:{"click .spotlightUpsellBanner__closeButton":function(){o.set("spotlight-upsell-banner",{dismissed:!0}),this.toggleState("showSpotlightUpsellBanner",!1)}},states:{showSpotlightUpsellBanner:"showSpotlightUpsellBanner"},className:"spotlightUpsellBanner sc-font",setup:function(){if(this.toggleState("showSpotlightUpsellBanner",!i()),!i()){var e=n(7).get("me").getUrn(),t=n(0).pick(n(3013).findByKey("last12Months"),"from","to"),o=t.from,s=t.to;this.collection=new(n(3040))(null,{metric:"plays",by:"track",from:o,to:s,user:e,track:null,limit:1})}},getTemplateData:function(){var e=this.collection&&this.collection.first()&&this.collection.first().get("subject");return{artworkUrl:(null==e?void 0:e.artwork_url)?n(69).urlFrom(e,200):n(5116),isUIEvo:this.hasFeature("v2_ui_evolution"),closeIcon:n(16).Close,spotlightUpsellBannerText:n(2).Lingua.t("[[planName]] users who pin tracks to the top of their profiles get heard 10% more than those who don’t.",{planName:n(102).productNameInstance.getNameVariants(n(63).ProductId.CREATOR_SUBSCRIPTION_3).short})}}});function i(){var e;return!(null==(e=o.get("spotlight-upsell-banner"))||!e.dismissed)}},5113:function(e,t,n){var o=n(13),i=n(5114);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5114:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".spotlightUpsellBanner__background{color:#000;color:var(--primary-color);background:#f3f3f3;background:var(--background-highlight-color);padding:0 32px;padding:0 var(--spacing-4x);border-radius:4px;display:flex;flex-direction:column;justify-content:center;position:relative}.sc-classic .spotlightUpsellBanner__background{margin:-1px -1px -1px 0;border-radius:0;background:rgba(0,0,0,.8);padding:0 30px}.spotlightUpsellBanner__artWork{width:160px;height:160px;margin:10px;flex-shrink:0}body:not(.sc-classic) .spotlightUpsellBanner__artWork{border-radius:6px;margin:8px;margin:var(--spacing-1x)}body:not(.sc-classic) .spotlightUpsellBanner__artWorkWrapper{border-radius:12px;margin-right:16px;margin-right:var(--spacing-2x);border:2px dashed #000;border:2px dashed var(--primary-color)}.sc-classic .spotlightUpsellBanner__header{font-size:24px;font-weight:300;margin-bottom:16px}.spotlightUpsellBanner__header{margin-bottom:16px;margin-bottom:var(--spacing-2x)}.sc-classic .spotlightUpsellBanner__text{flex:2;margin-right:10px;font-size:14px;font-weight:300;line-height:1.57}.spotlightUpsellBanner__text{margin-right:32px;margin-right:var(--spacing-4x)}.spotlightUpsellBanner__closeButton{position:absolute;right:32px;right:var(--spacing-4x);top:16px;top:var(--spacing-2x);width:16px;height:16px;cursor:pointer;color:#000;color:var(--primary-color)}.sc-classic .spotlightUpsellBanner__closeButton{right:16px;top:16px;width:24px;height:24px;color:#fff}.sc-classic .spotlightUpsellBanner__button.g-button-premium{flex:1;font-size:16px}body:not(.sc-classic) .spotlightUpsellBanner__button{align-self:end}.spotlightUpsellBanner{display:none}.sc-classic .showSpotlightUpsellBanner.spotlightUpsellBanner{border:2px dashed #d6d6d6;width:100%;color:#fff}.showSpotlightUpsellBanner.spotlightUpsellBanner{display:flex;height:180px}","",{version:3,sources:["webpack://./app/views/user/spotlight-upsell.css"],names:[],mappings:"AAAA,mCAAmC,UAAU,CAAC,0BAA0B,CAAC,kBAAkB,CAAC,4CAA4C,CAAC,cAAc,CAAC,2BAA2B,CAAC,iBAAiB,CAAC,YAAY,CAAC,qBAAqB,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,+CAA+C,uBAAuB,CAAC,eAAe,CAAC,yBAAyB,CAAC,cAAc,CAAC,gCAAgC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC,aAAa,CAAC,sDAAsD,iBAAiB,CAAC,UAAU,CAAC,wBAAwB,CAAC,6DAA6D,kBAAkB,CAAC,iBAAiB,CAAC,8BAA8B,CAAC,sBAAsB,CAAC,sCAAsC,CAAC,2CAA2C,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,+BAA+B,kBAAkB,CAAC,+BAA+B,CAAC,yCAAyC,MAAM,CAAC,iBAAiB,CAAC,cAAc,CAAC,eAAe,CAAC,gBAAgB,CAAC,6BAA6B,iBAAiB,CAAC,8BAA8B,CAAC,oCAAoC,iBAAiB,CAAC,UAAU,CAAC,uBAAuB,CAAC,QAAQ,CAAC,qBAAqB,CAAC,UAAU,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,0BAA0B,CAAC,gDAAgD,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,4DAA4D,MAAM,CAAC,cAAc,CAAC,qDAAqD,cAAc,CAAC,uBAAuB,YAAY,CAAC,6DAA6D,yBAAyB,CAAC,UAAU,CAAC,UAAU,CAAC,iDAAiD,YAAY,CAAC,YAAY",sourcesContent:[".spotlightUpsellBanner__background{color:#000;color:var(--primary-color);background:#f3f3f3;background:var(--background-highlight-color);padding:0 32px;padding:0 var(--spacing-4x);border-radius:4px;display:flex;flex-direction:column;justify-content:center;position:relative}.sc-classic .spotlightUpsellBanner__background{margin:-1px -1px -1px 0;border-radius:0;background:rgba(0,0,0,.8);padding:0 30px}.spotlightUpsellBanner__artWork{width:160px;height:160px;margin:10px;flex-shrink:0}body:not(.sc-classic) .spotlightUpsellBanner__artWork{border-radius:6px;margin:8px;margin:var(--spacing-1x)}body:not(.sc-classic) .spotlightUpsellBanner__artWorkWrapper{border-radius:12px;margin-right:16px;margin-right:var(--spacing-2x);border:2px dashed #000;border:2px dashed var(--primary-color)}.sc-classic .spotlightUpsellBanner__header{font-size:24px;font-weight:300;margin-bottom:16px}.spotlightUpsellBanner__header{margin-bottom:16px;margin-bottom:var(--spacing-2x)}.sc-classic .spotlightUpsellBanner__text{flex:2;margin-right:10px;font-size:14px;font-weight:300;line-height:1.57}.spotlightUpsellBanner__text{margin-right:32px;margin-right:var(--spacing-4x)}.spotlightUpsellBanner__closeButton{position:absolute;right:32px;right:var(--spacing-4x);top:16px;top:var(--spacing-2x);width:16px;height:16px;cursor:pointer;color:#000;color:var(--primary-color)}.sc-classic .spotlightUpsellBanner__closeButton{right:16px;top:16px;width:24px;height:24px;color:#fff}.sc-classic .spotlightUpsellBanner__button.g-button-premium{flex:1;font-size:16px}body:not(.sc-classic) .spotlightUpsellBanner__button{align-self:end}.spotlightUpsellBanner{display:none}.sc-classic .showSpotlightUpsellBanner.spotlightUpsellBanner{border:2px dashed #d6d6d6;width:100%;color:#fff}.showSpotlightUpsellBanner.spotlightUpsellBanner{display:flex;height:180px}"],sourceRoot:""}]),t.default=a},5115:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="spotlightUpsellBanner__artWorkWrapper">\n  <img class="spotlightUpsellBanner__artWork" src="'+c("function"==typeof(a=null!=(a=u(o,"artworkUrl")||(null!=t?u(t,"artworkUrl"):t))?a:r)?a.call(l,{name:"artworkUrl",hash:{},data:s,loc:{start:{line:2,column:51},end:{line:2,column:67}}}):a)+'">\n</div>\n<div class="spotlightUpsellBanner__background">\n  '+c((n(38)||t&&u(t,"$react-view")||r).call(l,null!=t?u(t,"closeIcon"):t,{name:"$react-view",hash:{className:"spotlightUpsellBanner__closeButton"},data:s,loc:{start:{line:5,column:2},end:{line:5,column:75}}}))+'\n  <div class="spotlightUpsellBanner__header sc-text-h2">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Get more plays with Spotlight",{name:"$t",hash:{},data:s,loc:{start:{line:6,column:56},end:{line:6,column:94}}}))+'</div>\n  <div class="g-flex-row-centered">\n    <div class="sc-font-light spotlightUpsellBanner__text">\n      '+c("function"==typeof(a=null!=(a=u(o,"spotlightUpsellBannerText")||(null!=t?u(t,"spotlightUpsellBannerText"):t))?a:r)?a.call(l,{name:"spotlightUpsellBannerText",hash:{},data:s,loc:{start:{line:9,column:6},end:{line:9,column:35}}}):a)+"\n    </div>\n    "+c((n(9)||t&&u(t,"$view")||r).call(l,n(1262),{name:"$view",hash:{text:(n(3)||t&&u(t,"$t")||r).call(l,"Get Spotlight",{name:"$t",hash:{},data:s,loc:{start:{line:11,column:165},end:{line:11,column:185}}}),tcode:"t281",size:(n(62)||t&&u(t,"$ternary")||r).call(l,null!=t?u(t,"isUIEvo"):t,"medium","large",{name:"$ternary",hash:{},data:s,loc:{start:{line:11,column:111},end:{line:11,column:146}}}),isPrimary:!0,className:"spotlightUpsellBanner__button"},data:s,loc:{start:{line:11,column:4},end:{line:11,column:187}}}))+"\n  </div>\n</div>\n"},useData:!0})},5116:function(e,t,n){e.exports=n.p+"assets/images/spotlight-upsell-fallback-cover-b8984aa7.jpg"},5117:function(e,t,n){var o=n(13),i=n(5118);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5118:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".sc-classic .userstream__header{padding-top:22px;margin:12px 0 20px;font-size:24px;font-weight:100}","",{version:3,sources:["webpack://./app/views/user/stream.css"],names:[],mappings:"AAAA,gCAAgC,gBAAgB,CAAC,kBAAkB,CAAC,cAAc,CAAC,eAAe",sourcesContent:[".sc-classic .userstream__header{padding-top:22px;margin:12px 0 20px;font-size:24px;font-weight:100}"],sourceRoot:""}]),t.default=a},5119:function(e,t,n){e.exports=n(251).extend(n(342),{model:n(763),getSourceInfo:function(e){void 0===e&&(e=this.getAudioCursor());var t="tracks";e>=0&&(this.models[e].isSpotlight()&&(t="spotlight"));return{type:t,resourceId:this.options.resource_id||this.options.userId,resourceType:"user"}},setupSources:function(){var e=[new(n(1275))(null,{userId:this.options.userId||this.options.resource_id})],t=n(45).getInstance({id:this.options.userId}),o=t&&t.hasSpotlightFeature();return(o||void 0===o)&&e.unshift(new(n(3128))(null,{userId:this.options.userId||this.options.resource_i&&t.getAurce_id||t.userId}})},5120:function(e,t,n){e.exports=n(3813).extend({setup:function(e){var t=e._id;this.collection=new(n(5121))(null,{userId:t}),this.user=this.addDataSource(new(n(45))({id:t}),{requiredAttributes:["username"]}),e.showUploadFooter&&(this.EndOfListView=n(3127))}})},5121:function(e,t,n){e.exports=n(276).extend({model:n(32),defaults:{type:"popular_tracks"},baseUrl:function(){return this.getEndpointUrl("userToptracks",{id:this.options.userId})},parse:function(e){return e.collection}})},5122:function(e,t,n){e.exports=n(197).extend(n(455),{Subview:n(578),css:[n(2975),n(2970)],className:"soundList",itemClassName:"soundList__item",emptyTemplate:n(2971),defaults:{showEndView:!0},events:{"click .emptyNetworkPage__button > a":function(){n(21).trackUploadFunnel({chapter:"upload_button_user_profile"})}},user:null,setup:function(e){var t=e.resource_id;this.collection=new(n(5123))(null,{userId:t}),this.user=this.addDataSource(new(n(45))({id:t}),{requiredAttributes:["username"]})},getTemplateData:function(e){return this.user.isMe()?(e.message=n(2).Lingua.t("Seems a little quiet over here"),e.linkUrl=e.buttonUrl=n(33).getRoute("upload")&&!n(7).get("features").has("v2_ui_evolution"),e.buttonUrl=n(33).getRoute("upload"),e.linkText=n(2).Lingua.t("Upload a track to share it with your followers."),e.buttonText=n(2).Lingua.t("Upload now")):e.message=n(2).Lingua.t("[[username]] hasn’t created any albums yet.",{username:this.user.get("username")}),e.isUiEvolutionEnabled=n(7).get("features").has("v2_ui_evolution"),e.emptyPageClass="emptyAlbums",e}})},5123:function(e,t,n){e.exports=n(276).extend({model:n(5124),defaults:{type:"albums"},baseUrl:function(){return this.getEndpointUrl("userAlbums",{id:this.optionn){e.exports=n(74)},5125:function(e,t,n){e.exports=n(197).extend(n(455),{Subview:n(578),css:[n(2975),n(2970)],className:"soundList",itemClassName:"soundList__item",emptyTemplate:n(2971),defaults:{showEndView:!0},user:null,setup:function(e){var t=e.resource_id;this.collection=new(n(2986))(null,{userId:t}),this.user=this.addDataSource(new(n(45))({id:t}),{requiredAttributes:["username"]})},getTemplateData:function(e){return this.user.isMe()?(e.message=n(2).Lingua.t("You haven’t created any playlists."),e.linkUrl="https://help.soundcloud.com/hc/articles/115003449787-Creating-and-adding-tracks-to-a-playlist",e.linkExternal=!0,e.linkText=n(2).Lingua.t("Learn about playlists")):e.message=n(2).Lingua.t("[[username]] hasn’t created any playlists yet.",{username:this.user.get("username")}),e.isUiEvolutionEnabled=n(7).get("features").has("v2_ui_evolution"),e.emptyPageClass="emptySets",e}})},5126:function(e,t,n){e.exports=n(197).extend(n(455),n(46).withOptions("userReposts"),{className:"userReposts",Subview:n(3713),css:[n(2975),n(2970)],listClassName:"soundList sc-list-nostyle",itemClassName:"soundList__item",animations:{remove:{delay:0}},emptyTemplate:n(2971),defaults:{showEndView:!0},setup:function(e){var t=e.resource_id;this.collection=new(n(5127))(null,{userId:t}),this.user=this.addDataSource(new(n(45))({id:t}),{requiredAttributes:["username"]})},getTemplateData:function(e){return this.user.isMe()?(e.message=n(2).Lingua.t("You haven’t reposted any sounds."),e.linkUrl="https://help.soundcloud.com/hc/articles/115003567488-Reposting-tracks-or-playlists",e.linkExternal=!0,e.linkText=n(2).Lingua.t("Learn about reposts")):e.message=n(2).Lingua.t("[[username]] hasn’t reposted any sounds yet.",{username:this.user.get("username")}),e.isUiEvolutionEnabled=n(7).get("features").has("v2_ui_evolution"),e.emptyPageClass="empt:this.options.resource_id}}})},5127:function(e,t,n){e.exports=n(276).extend(n(1312),{defaults:{type:"reposts"},baseUrl:function(){return this.getEndpointUrl("streamUserReposts",{id:this.options.userId})}})},5128:function(e,t,n){var o=n(13),i=n(5129);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5129:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".userMain__tabs{position:relative;margin-bottom:20px}","",{version:3,sources:["webpack://./app/views/user/user.css"],names:[],mappings:"AAAA,gBAAgB,iBAAiB,CAAC,kBAAkB",sourcesContent:[".userMain__tabs{position:relative;margin-bottom:20px}"],sourceRoot:""}]),t.default=a},5130:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}e.exports=n(761).extend(n(29).withOptions({names:[n(234).INSIGHTS_ROLLOUT,"v2_listener_badges"]}),n(46).withOptions("userSidebar"),n(3287),{className:"userSidebar",ModelClass:n(45),defaults:{showLikes:!0,showComments:!0,targetOffsetTop:125},getModelData:function(){return{}},getTemplateData:function(){var e=this.model,t=n(7).get("me"),s=e.isMe(),a=!!t.id,l=this.options,r=l.showLikes,c=l.showComments,u=a&&n(234).hasUploads(),p=n(){return{resource_id:e.id}},A=r&&(!s||e.get("likes_count")),m=n(283).getQuotaInfo(t).isNearingQuota,g=this.hasFeature("v2_listener_badges")&&n(0).contains(i,e.id),h=this.getDirectSupportProfile();return{modules:n(0).compact([h&&[n(3288),o({},d(),{profile:h})],[n(5131),d()],s&&u&&!p&&[n(1337),{}],s&&!t.hasUnlimitedUpload()&&m&&[n(1264),{stretchedVersion:!1,ref:t.isOverQuota()?"t259":"t258"}],[n(5144),d()],g&&[n(5150),d()],A&&[n(1339).default,d()],[n(5155),d()],a&&!s&&[n(5158),d()],[n(5160),d()],c&&[n(5162),d()],[n(1272),{userName:e.get("usModuleView:e[0],args:e[1]}}))}},template:function(e){return n(22).children(e.modules.map((function(e){var t=e.args,o=e.ModuleView;return n(22).subview(o,t)})))}});var i=[1284333535,84906680,1044385867,66832782,650535,53724724,346254,964832581,1266807142]},5131:function(e,t,n){e.exports=n(10).extend({tagName:"article",className:"infoStats",template:n(5132),css:n(5142),ModelClass:n(45),requiredAttributes:["description","followers_count","followings_count","track_count"],setup:function(){this.model.isMe()&&(this.meUser=this.addDataSource(new(n(123)),{observedAttributes:["private_tracks_count","blocked_tracks_count","hidden_tracks_count"]}))},getTemplateData:function(e){return e.trackCount=this.model.isMe()?this.meUser.getNumTracks():this.model.getNumTracks(),e}})},5132:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="infoStats__description">\n    '+e.escapeExpression((n(9)||t&&a(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(5133),{name:"$view",hash:{resource_id:null!=t?a(t,"id"):t},data:s,loc:{start:{line:25,column:4},end:{line:25,column:63}}}))+"\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<table class="infoStats__table sc-type-small sc-text-body">\n  <tr>\n    <td class="infoStats__stat sc-link-light sc-border-light-right">\n      <a href="'+c((n(27)||t&&u(t,"$route")||r).call(l,"userNetwork",t,"followers",{name:"$route",hash:{},data:s,loc:{start:{line:4,column:15},end:{line:4,column:56}}}))+'" rel="nofollow" class="infoStats__statLink sc-link-light sc-link-primary" title="'+c((n(755)||t&&u(t,"$tp")||r).call(l,null!=t?u(t,"followers_count"):t,"%d follower","%d followers",{name:"$tp",hash:{},data:s,loc:{start:{line:4,column:138},end:{line:4,column:190}}}))+'">\n        <h3 class="infoStats__title sc-font-light sc-text-secondary">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Followers",{name:"$t",hash:{},data:s,loc:{start:{line:5,column:69},end:{line:5,column:87}}}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+c((n(460)||t&&u(t,"$formatStatNumber")||r).call(l,null!=t?u(t,"followers_count"):t,{name:"$formatStatNumber",hash:{},data:s,loc:{start:{line:6,column:52},end:{line:6,column:89}}}))+'</div>\n      </a>\n    </td>\n    <td class="infoStats__stat sc-link-light sc-border-light-right">\n      <a href="'+c((n(27)||t&&u(t,"$route")||r).call(l,"userNetwork",t,"following",{name:"$route",hash:{},data:s,loc:{start:{line:10,column:15},end:{line:10,column:56}}}))+'" rel="nofollow" class="infoStats__statLink sc-link-light sc-link-primary" title="'+c((n(755)||t&&u(t,"$tp")||r).call(l,null!=t?u(t,"followings_count"):t,"Following %d person","Following %d people",{name:"$tp",hash:{},data:s,loc:{start:{line:10,column:138},end:{line:10,column:206}}}))+'">\n        <h3 class="infoStats__title sc-font-light sc-text-secondary">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Following",{name:"$t",hash:{},data:s,loc:{start:{line:11,column:69},end:{line:11,column:87}}}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+c((n(460)||t&&u(t,"$formatStatNumber")||r).call(l,null!=t?u(t,"followings_count"):t,{name:"$formatStatNumber",hash:{},data:s,loc:{start:{line:12,column:52},end:{line:12,column:90}}}))+'</div>\n      </a>\n    </td>\n    <td class="infoStats__stat">\n      <a href="'+c((n(27)||t&&u(t,"$route")||r).call(l,"user",t,"tracks",{name:"$route",hash:{},data:s,loc:{start:{line:16,column:15},end:{line:16,column:46}}}))+'" rel="nofollow" class="infoStats__statLink sc-link-light sc-link-primary" title="'+c((n(755)||t&&u(t,"$tp")||r).call(l,null!=t?u(t,"trackCount"):t,"%d track","%d tracks",{name:"$tp",hash:{},data:s,loc:{start:{line:16,column:128},end:{line:16,column:169}}}))+'">\n        <h3 class="infoStats__title sc-font-light sc-text-secondary">'+c((n(3)||t&&u(t,"$t")||r).call(l,"Tracks",{name:"$t",hash:{},data:s,loc:{start:{line:17,column:69},end:{line:17,column:84}}}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+c((n(460)||t&&u(t,"$formatStatNumber")||r).call(l,null!=t?u(t,"trackCount"):t,{name:"$formatStatNumber",hash:{},data:s,loc:{start:{line:18,column:52},end:{line:18,column:84}}}))+"</div>\n      </a>\n    </td>\n  </tr>\n</table>\n"+(null!=(a=u(o,"if").call(l,null!=t?u(t,"description"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:23,column:0},end:{line:27,column:7}}}))?a:"")+c((n(9)||t&&u(t,"$view")||r).call(l,n(5137),{name:"$view",hash:{resource_id:null!=t?u(t,"id"):t},data:s,loc:{start:{line:28,column:0},end:{line:28,column:50}}}))+"\n"},useData:!0})},5133:function(e,t,n){e.exports=n(10).extend(n(3063),{template:n(5134),css:n(5135),className:"truncatedUserDescription",ModelClass:n(45),requiredAttributes:["description"],states:{overflow:"m-overflow",collapsed:"m-collapsed"},element2selector:{wrapper:".truncatedUserDescription__wrapper",content:".truncatedUserDescription__content",showToggle:".truncatedUserDescription__collapse"},events:{"click .truncatedUserDescription__collapse":"onCollapseClick"},defaults:{height:85,collapsed:!0},onCollapseClick:function(e){e.preventDefault(),this.toggleCollapse(!this.getState("collapsed"))},renderDecorate:function(){this.toggleCollapse(this.options.collapsed),this.whenInserted().done(this.calculateOverflow.bind(this))},toggleCollapse:function(e){var t=e?n(2).Lingua.t("Show more"):n(2).Lingua.t("Show less");this.toggleState("collapsed",e),this.getElement("showToggle").toggleClass("collapsed",e).text(t),this.getElement("wrapper").css("max-height",e?this.options.height+"px":"")},calculateOverflow:function(){this.toggleState("overflow",this.getElement("content").height()>this.options.height)}})},5134:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,r=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="truncatedUserDescription__wrapper">\n  <div class="truncatedUserDescription__content">\n    '+r((n(9)||t&&c(t,"$view")||l).call(a,n(1227),{name:"$view",hash:{usertext:!0,content:null!=t?c(t,"description"):t},data:s,loc:{start:{line:3,column:4},end:{line:3,column:69}}}))+'\n  </div>\n</div>\n<a class="truncatedUserDescription__collapse sc-link-dark sc-link-primary g-link-collapse collapsed" href="#">'+r((n(3)||t&&c(t,"$t")||l).call(a,"Show more",{name:"$t",hash:{},data:s,loc:{start:{line:6,column:110},end:{line:6,column:128}}}))+"</a>\n"},useData:!0})},5135:function(e,t,n){var o=n(13),i=n(5136);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5136:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,'.truncatedUserDescription__wrapper{overflow:hidden;position:relative}.truncatedUserDescription__collapse{font:700 1rem/1.4285714285714286rem SoundCloud Sans,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Lucida Grande,Apple Color Emoji,Segoe UI Emoji;font:var(--typography-heading4-font);margin-top:4px;margin-top:var(--spacing-0_5x);display:none;outline:0}.sc-classic .truncatedUserDescription__collapse{font:unset;margin-top:10px}.truncatedUserDescription.m-overflow.m-collapsed .truncatedUserDescription__wrapper:after{content:" ";position:absolute;left:0;bottom:0;height:25px;width:100%;background:linear-gradient(hsla(0,0%,100%,0),#fff);background:linear-gradient(rgba(var(--surface-rgb),0),var(--surface-color))}.sc-classic .truncatedUserDescription.m-overflow.m-collapsed .truncatedUserDescription__wrapper:after{background:#fff;background:linear-gradient(hsla(0,0%,100%,0),#fff)}.truncatedUserDescription__collapse:after{border-width:4px}.truncatedUserDescription.m-overflow .truncatedUserDescription__collapse{display:block}',"",{version:3,sources:["webpack://./app/views/user/truncated-description.css"],names:[],mappings:"AAAA,mCAAmC,eAAe,CAAC,iBAAiB,CAAC,oCAAoC,gLAAgL,CAAC,oCAAoC,CAAC,cAAc,CAAC,8BAA8B,CAAC,YAAY,CAAC,SAAS,CAAC,gDAAgD,UAAU,CAAC,eAAe,CAAC,0FAA0F,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,kDAAkD,CAAC,2EAA2E,CAAC,sGAAsG,eAAe,CAAC,kDAAkD,CAAC,0CAA0C,gBAAgB,CAAC,yEAAyE,aAAa",sourcesContent:['.truncatedUserDescription__wrapper{overflow:hidden;position:relative}.truncatedUserDescription__collapse{font:700 1rem/1.4285714285714286rem SoundCloud Sans,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Lucida Grande,Apple Color Emoji,Segoe UI Emoji;font:var(--typography-heading4-font);margin-top:4px;margin-top:var(--spacing-0_5x);display:none;outline:0}.sc-classic .truncatedUserDescription__collapse{font:unset;margin-top:10px}.truncatedUserDescription.m-overflow.m-collapsed .truncatedUserDescription__wrapper:after{content:" ";position:absolute;left:0;bottom:0;height:25px;width:100%;background:linear-gradient(hsla(0,0%,100%,0),#fff);background:linear-gradient(rgba(var(--surface-rgb),0),var(--surface-color))}.sc-classic .truncatedUserDescription.m-overflow.m-collapsed .truncatedUserDescription__wrapper:after{background:#fff;background:linear-gradient(hsla(0,0%,100%,0),#fff)}.truncatedUserDescription__collapse:after{border-width:4px}.truncatedUserDescription.m-overflow .truncatedUserDescription__collapse{display:block}'],sourceRoot:""}]),t.default=a},5137:function(e,t,n){e.exports=n(88).extend({Subview:n(5138),css:n(5140),className:"web-profiles",listClassName:"sc-list-nostyle sc-clearfix",itemClassName:"web-profiles__item",defaults:{maxDisplay:0},setup:function(){this.collection=new(n(762))(null,{userId:this.options.resouNonDirectSupportProfiles()}})},5138:function(e,t,n){e.exports=n(10).extend(n(29).withOptions({names:["v2_ui_evolution"]}),n(3063).withOptions({clickName:"cr",this.model.getUserId())}}),{template:n(5139),className:"sc-truncate",ModelClass:n(778),getTemplateData:function(e){var t=e.url,i=this.model,s=i.getNetworkClassName(),a=i.isEmail();return{url:a?"mailto:"+t:n(185).formatUserGeneratedLink(t),icon:this.hasFeature("v2_ui_evolution")?o(s,this.model.isEmail()):null,iconOptions:{style:{display:"inline-block",width:"16px",height:"16px","vertical-align":"top","margin-right":n(128).Themes.DEFAULT_THEME_EXPANDED.spacing["1x"].css,"margin-top":n(128).Themes.DEFAULT_THEME_EXPANDED.spacing["0_25x"].css}},classicIcon:s,label:i.getNetworkName(),openInNewWin:!a&&"soundcloud"!==i.get("network")}}});function o(e,t){var o,i,s=n(778).NETWORKS,a=((o={})[s.bandcamp]=n(16).Social.BandcampLogo,o[s.bandsintown]=n(16).Social.BandsintownLogo,o[s.discogs]=n(16).Social.DiscogsLogo,o[s.facebook]=n(16).Social.FacebookLogo,o[s.flickr]=n(16).Social.FlickrLogo,o[s.google_plus]=n(16).Social.GoogleLogo,o[s.instagram]=n(16).Social.InstagramLogo,o[s.itunes_podcast]=n(16).Social.AppleLogo,o[s.lastfm]=n(16).Social.LastfmLogo,o[s.linktree]=n(16).Social.LinktreeLogo,o[s.mixcloud]=n(16).Social.MixcloudLogo,o[s.pinterest]=n(16).Social.PinterestLogo,o[s.residentadvisor]=n(16).Social.ResidentadvisorLogo,o[s.reverbnation]=n(16).Social.ReverbnationLogo,o[s.snapchat]=n(16).Social.SnapchatLogo,o[s.songkick]=n(16).Social.SongkickLogo,o[s.soundcloud]=n(16).Social.SoundcloudLogo,o[s.spotify]=n(16).Social.SpotifyLogo,o[s.tumblr]=n(16).Social.TumblrLogo,o[s.twitter]=n(16).Social.TwitterLogo,o[s.vimeo]=n(16).Social.VimeoLogo,o[s.vkontakte]=n(16).Social.VkontakteLogo,o[s.youtube]=n(16).Social.YoutubeLogo,o.email=n(16).Social.EmailLogo,o.website=n(16).Social.WebsiteLogo,o);return t?a.email:null!=(i=a[s[e]])?i:a.website}},5139:function(e,t,n){var o=n(14);e.exportsline:3,column:51}}}))+"\n"},3:function(e,t,n,o,i){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <span class="sc-social-logo sc-social-logo-'+e.escapeExpression("function"==typeof(s=null!=(s=a(n,"classicIcon")||(null!=t?a(t,"classicIcon"):t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"classicIcon",hash:{},data:i,loc:{start:{line:5,column:45},end:{line:5,column:60}}}):s)+'"></span>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,o,i,s){var a,l,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+u("function"==typeof(l=null!=(l=p(o,"url")||(null!=t?p(t,"url"):t))?l:c)?l.call(r,{name:"url",hash:{},data:s,loc:{start:{line:1,column:9},end:{line:1,column:16}}}):l)+'" '+(null!=(a=(n(37)||t&&p(t,"$if")||c).call(r,null!=t?p(t,"openInNewWin"):t,'target="_blank"',{name:"$if",hash:{},data:s,loc:{start:{line:1,column:18},end:{line:1,column:58}}}))?a:"")+' rel="me nofollow ugc" class="web-profile sc-link-light sc-link-secondary sc-social-logo-interactive sc-text-h4">\n'+(null!=(a=p(o,"if").call(r,null!=t?p(t,"icon"):t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:2,column:2},end:{line:6,column:9}}}))?a:"")+"  "+u("function"==typeof(l=null!=(l=p(o,"label")||(null!=t?p(t,"label"):t))?l:c)?l.call(r,{name:"label",hash:{},data:s,loc:{start:{line:7,column:2},end:{line:7,column:11}}}):l)+"\n</a>\n"},useData:!0})},5140:function(e,t,n){var o=n(13),i=n(5141);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5141:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,"body:not(.sc-classic) .web-profiles{margin-bottom:8px;margin-bottom:var(--spacing-1x)}.sc-classic .web-profiles{font-size:12px}.sc-classic .web-profiles__item:not(:last-child){margin-bottom:5px}.web-profiles__item:not(:last-child){margin-bottom:4px;margin-bottom:var(--spacing-0_5x)}","",{version:3,sources:["webpack://./app/views/user/web-profiles.css"],names:[],mappings:"AAAA,oCAAoC,iBAAiB,CAAC,+BAA+B,CAAC,0BAA0B,cAAc,CAAC,iDAAiD,iBAAiB,CAAC,qCAAqC,iBAAiB,CAAC,iCAAiC",sourcesContent:["body:not(.sc-classic) .web-profiles{margin-bottom:8px;margin-bottom:var(--spacing-1x)}.sc-classic .web-profiles{font-size:12px}.sc-classic .web-profiles__item:not(:last-child){margin-bottom:5px}.web-profiles__item:not(:last-child){margin-bottom:4px;margin-bottom:var(--spacing-0_5x)}"],sourceRoot:""}]),t.default=a},5142:function(e,t,n){var o=n(13),i=n(5143);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5143:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,'.infoStats{margin:8px 16px 24px;margin:var(--spacing-1x) var(--spacing-2x) var(--spacing-3x)}.sc-classic .infoStats{margin:0 0 30px}.infoStats__table{width:100%;margin-bottom:16px;margin-bottom:var(--spacing-2x)}.sc-classic .infoStats__table{margin-bottom:14px}.infoStats__stat{width:33.33%;text-align:left;text-indent:10px}.infoStats__stat:first-child{text-indent:0}body:not(.sc-classic) .infoStats__title{font:700 1rem/1.4285714285714286rem SoundCloud Sans,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Lucida Grande,Apple Color Emoji,Segoe UI Emoji;font:var(--typography-heading4-font);margin-bottom:4px;margin-bottom:var(--spacing-0_5x)}.sc-classic .infoStats__title{line-height:.9;padding:5px 0 3px;font-size:12px}.infoStats__statLink{display:block}body:not(.sc-classic) .infoStats__value{font:700 2rem/2.5714285714285716rem SoundCloud Sans,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Lucida Grande,Apple Color Emoji,Segoe UI Emoji;font:var(--typography-heading1-font)}.sc-classic .infoStats__value{font-size:20px;line-height:1.2;-webkit-font-feature-settings:"tnum";font-feature-settings:"tnum";font-variant-numeric:tabular-nums}.infoStats__description{margin-bottom:16px;margin-bottom:var(--spacing-2x)}.sc-classic .infoStats__description{margin-bottom:20px}',"",{version:3,sources:["webpack://./app/views/user/info-stats.css"],names:[],mappings:"AAAA,WAAW,oBAAoB,CAAC,4DAA4D,CAAC,uBAAuB,eAAe,CAAC,kBAAkB,UAAU,CAAC,kBAAkB,CAAC,+BAA+B,CAAC,8BAA8B,kBAAkB,CAAC,iBAAiB,YAAY,CAAC,eAAe,CAAC,gBAAgB,CAAC,6BAA6B,aAAa,CAAC,wCAAwC,gLAAgL,CAAC,oCAAoC,CAAC,iBAAiB,CAAC,iCAAiC,CAAC,8BAA8B,cAAc,CAAC,iBAAiB,CAAC,cAAc,CAAC,qBAAqB,aAAa,CAAC,wCAAwC,gLAAgL,CAAC,oCAAoC,CAAC,8BAA8B,cAAc,CAAC,eAAe,CAAC,oCAAoC,CAAC,4BAA4B,CAAC,iCAAiC,CAAC,wBAAwB,kBAAkB,CAAC,+BAA+B,CAAC,oCAAoC,kBAAkB",sourcesContent:['.infoStats{margin:8px 16px 24px;margin:var(--spacing-1x) var(--spacing-2x) var(--spacing-3x)}.sc-classic .infoStats{margin:0 0 30px}.infoStats__table{width:100%;margin-bottom:16px;margin-bottom:var(--spacing-2x)}.sc-classic .infoStats__table{margin-bottom:14px}.infoStats__stat{width:33.33%;text-align:left;text-indent:10px}.infoStats__stat:first-child{text-indent:0}body:not(.sc-classic) .infoStats__title{font:700 1rem/1.4285714285714286rem SoundCloud Sans,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Lucida Grande,Apple Color Emoji,Segoe UI Emoji;font:var(--typography-heading4-font);margin-bottom:4px;margin-bottom:var(--spacing-0_5x)}.sc-classic .infoStats__title{line-height:.9;padding:5px 0 3px;font-size:12px}.infoStats__statLink{display:block}body:not(.sc-classic) .infoStats__value{font:700 2rem/2.5714285714285716rem SoundCloud Sans,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Lucida Grande,Apple Color Emoji,Segoe UI Emoji;font:var(--typography-heading1-font)}.sc-classic .infoStats__value{font-size:20px;line-height:1.2;-webkit-font-feature-settings:"tnum";font-feature-settings:"tnum";font-variant-numeric:tabular-nums}.infoStats__description{margin-bottom:16px;margin-bottom:var(--spacing-2x)}.sc-classic .infoStats__description{margin-bottom:20px}'],sourceRoot:""}]),t.default=a},5144:function(e,t,n){e.exports=n(186).default.extend(n(29).withOptions({names:["v2_ui_evolution"]}),{title:n(2).Lingua.t("On tour"),Subview:n(5145),iconClassName:function(){return this.hasFeature("v2_ui_evolution")?null:"songkick"},moreText:n(2).Lingua.t("View all"),events:{"click .sidebarHeader":function(){n(21).trackV1Click({context:this.getContextData(),click_category:"sidebar_module",click_name:"clickthrough::view_all",click_target:this.collection.songkickUrl})}},setup:function(e){this.collection=new(n(3814))(null,{resource_id:e.resource_id}),this.moreLink=this.collection.songkickUrl},onCollectionReset:function(){this.moreLink=this.collection.songkickUrl,n(186).default.prototype.onCollectionReset.apply(this,arguments)},getCount:function(){return this.collection.hasDataForView()?this.collection.length:void 0}})},5145:function(e,t,n){(function(t){e.exports=n(10).extend(n(795),{template:n(5146),css:n(5147),className:"songkickDates",defaults:{resource_id:null},events:{"click .songkickDate__link":function(e){n(21).trackV1Click({context:this.getContextData(),click_category:"sidebar_module",click_name:"clickthrough::view_date",click_target:t(e.target).attr("href")})}},setup:function(e){this.collection=new(n(3814))(null,{resource_id:e.resme:"tour_sidebar_module"})},getTemplateData:function(e){var t=parseInt(this.collection.songkickId,10);return{events:n(0).map(e,(function(e){var o,i=[],s=new Date,a=en(e){return parseInt(e,10)})),l=a[0],r=a[1]-1,c=a[2];return e.performance.forEach((function(e){e.artist.id!==t&&i.push(e.artist)})),i.length&&(o=function(e){return e.others?n(2).Lingua.tp("With [[[anchorStart]]][[artist]][[[anchorEnd]]] + %d other","With [[[anchorStart]]][[artist]][[[anchorEnd]]] + %d others",e.others,{anchorStart:'<a href="'+e.artist.uri+'" class="sc-link-light sc-link-secondary" target="_blank">',anchorEnd:"</a>",artist:e.artist.displayName}):n(2).Lingua.t("With [[[anchorStart]]][[artist]][[[anchorEnd]]]",{anchorStart:'<a href="'+e.artist.uri+'" class="sc-link-light sc-link-secondary" target="_blank">',anchorEnd:"</a>",artist:e.artist.displayName})}(i={artist:i[0],others:i.length-1||!1})),s.setFullYear(l,r,c),{uri:e.uri,title:e.displayName,date:n(19).LinguaLib.dateTimeHelper.format(s,"readable_with_weekday"),city:e.location.city,venue:e.venue.displayName,support:i,supportText:o}}))}}})}).call(this,n(28))},5146:function(e,t,n){var o=n(14);e.exports=(o.default||o).template({1:function(e,t,o,i,s){var a,l,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,p="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="songkickDate'+u((n(149)||t&&d(t,"$unless")||c).call(r,s&&d(s,"first")," sc-border-light-top",{name:"$unless",hash:{},data:s,loc:{start:{line:2,column:26},end:{line:2,column:67}}}))+' sc-px-2x sc-py-1x">\n    <a href="'+u(typeof(l=null!=(l=d(o,"uri")||(null!=t?d(t,"uri"):t))?l:c)===p?l.call(r,{name:"uri",hash:{},data:s,loc:{start:{line:3,column:13},end:{line:3,column:20}}}):l)+'" title="'+u(typeof(l=null!=(l=d(o,"title")||(null!=t?d(t,"title"):t))?l:c)===p?l.call(r,{name:"title",hash:{},data:s,loc:{start:{line:3,column:29},end:{line:3,column:38}}}):l)+'" class="songkickDate__link sc-link-dark sc-link-primary" target="_blank">\n      <h3>\n        <div class="songkickDate__date sc-type-light sc-text-secondary sc-text-captions sc-mb-0.25x">'+u(typeof(l=null!=(l=d(o,"date")||(null!=t?d(t,"date"):t))?l:c)===p?l.call(r,{name:"date",hash:{},data:s,loc:{start:{line:5,column:101},end:{line:5,column:109}}}):l)+'</div>\n        <div class="songkickDate__title sc-truncate sc-text-h4 sc-mb-0.5x">'+u(typeof(l=null!=(l=d(o,"city")||(null!=t?d(t,"city"):t))?l:c)===p?l.call(r,{name:"city",hash:{},data:s,loc:{start:{line:6,column:75},end:{line:6,column:83}}}):l)+'</div>\n      </h3>\n      <div class="songkickDate__venue sc-text-light sc-text-secondary">'+u(typeof(l=null!=(l=d(o,"venue")||(null!=t?d(t,"venue"):t))?l:c)===p?l.call(r,{name:"venue",hash:{},data:s,loc:{start:{line:8,column:71},end:{line:8,column:80}}}):l)+"</div>\n    </a>\n"+(null!=(a=d(o,"if").call(r,null!=t?d(t,"support"):t,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s,loc:{start:{line:10,column:4},end:{line:16,column:11}}}))?a:"")+"  </div>\n"},2:function(e,t,n,o,i){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <div class="sc-truncate songkickDate__support sc-text-light sc-text-secondary">\n'+(null!=(s=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"supportText"):t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:12,column:8},end:{line:14,column:15}}}))?s:"")+"      </div>\n"},3:function(e,t,n,o,i){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"          "+e.escapeExpression("function"==typeof(s=null!=(s=a(n,"supportText")||(null!=t?a(t,"supportText"):t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"supportText",hash:{},data:i,loc:{start:{line:13,column:10},end:{line:13,column:25}}}):s)+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(s=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"events"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:18,column:9}}}))?s:""},useData:!0})},5147:function(e,t,n){var o=n(13),i=n(5148);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5148:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".sc-classic .songkickDate{padding:10px 0}.songkickDate__link{display:block}.sc-classic .songkickDate__title{margin-bottom:3px}body:not(.sc-classic) .songkickDate__date{font-weight:700}.sc-classic .songkickDate__date{margin-bottom:2px}body:not(.sc-classic) .songkickDate__support .sc-link-secondary{font-weight:700}","",{version:3,sources:["webpack://./app/views/user/songkick-dates.css"],names:[],mappings:"AAAA,0BAA0B,cAAc,CAAC,oBAAoB,aAAa,CAAC,iCAAiC,iBAAiB,CAAC,0CAA0C,eAAe,CAAC,gCAAgC,iBAAiB,CAAC,gEAAgE,eAAe",sourcesContent:[".sc-classic .songkickDate{padding:10px 0}.songkickDate__link{display:block}.sc-classic .songkickDate__title{margin-bottom:3px}body:not(.sc-classic) .songkickDate__date{font-weight:700}.sc-classic .songkickDate__date{margin-bottom:2px}body:not(.sc-classic) .songkickDate__support .sc-link-secondary{font-weight:700}"],sourceRoot:""}]),t.default=a},5149:function(e,t,n){e.exports=new(n(30))({_fetchDeferred:null,_webProfileCollection:null,defaults:{resource_id:null},applyTo:functionrofileCollectioll,{userId:e.resource_id})}},requires:["fetchServiceData"],override:{model:n(35).extend(),fetch:function(e){var t,o,i=this;return this._fetchDeferred||(this._fetchDefon(){i._fetchDeferred=null})),t=function(){i._fetchDeferred.resolve()},o=function(){i._fetchDeferred.resolve()},this._webProfiiceData({i._fetchDeferred.reject()}))),this._fetchDeferred}},resetFetch:function(){this.next_href=!1,this.lastFetchTime=Date.now(),this.reset([])}})},5150:function(e,t,n){e.exports=n(186).default.extend({moreText:null,title:n(2).Lingua.tPending("Top Artists"),Subview:n(5151),ModelClass:n(45),moduleClassName:"listenerBadgeModule",iconClassName:"sc-icon sc-icon-user sc-icon-large sidebarHeader__icon"})},5151:function(e,t,n){e.exports=n(10).extend({template:n(5152),css:n(5153),ModelClass:n(45),className:"listenerBadges",default:{u:this.opge-embed>\n'},useData:!0})},5153:function(e,t,n){var o=n(13),i=n(5154);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5154:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".sidebarContent .listenerBadges{padding-top:10px}","",{version:3,sources:["webpack://./app/views/user/listener-badges.css"],names:[],mappings:"AAAA,gCAAgC,gBAAgB",sourcesContent:[".sidebarContent .listenerBadges{padding-top:10px}"],sourceRoot:""}]),t.default=a},5155:function(e,t,n){e.exports=n(186).default.extend(n(29).withOptions({names:["v2_ui_evolution"]}),n(46).withOptions("userRelatedArtists"),{title:n(2).Lingua.t("Fans also like"),moreText:n(2).Lingua.t("Refresh"),moreLink:"#",moreClassName:"refresh-ra",moduleClassName:"relatedArtistsModule",itemMinHeight:70.2,iconClassName:function(){return this.hasFeature("v2_ui_evolution")?null:"following"},Subview:n(5156),ModelClass:n(45),setup:function(){var e=this.model;this.subviewArgs={subviewName:"user-badge",UsersCollection:n(5157),usersCollectionArgs:{userId:e.id},maxDisplay:3}},events:{"click .refresh-ra":"onRefresh(),e.preventDefault()}})},5156:function(e,t,n){e.expo:this.options.maxDisplay})}})},5157:function(e,t,n){e.exports=n(276).extend({model:n(45),defaults:{limit:12,maxPageSize:12},baseUrl:function(){return this.getEndpointUrl("userRelatedArtists",{id:this.options.userId})},rotateItems:function(e){var t=e.maxDisplay,n=this.remove(this.first(t));this.add(n)}})},5158:function(e,t,n){e.exports=n(186).default.extend(n(46).withOptions("userFollowers"),n(29).withOptions({names:["v2_ui_evolution"]}),{ModelClass:n(45),requiredAttributes:["followers_count"],iconClassName:function(){return this.hasFeature("v2_ui_evolution")?null:"user"},moduleClassName:"followersModule",moreText:n(2).Lingua.t("View all"),contentMinHeight:60,Subview:n(2982),countableAttribute:"followers_count",titleWithCount:function(e){return n(2).Lingua.tp("[[count]] follower","[[count]] followers",e,{count:n(204).render(e,{useSIUnits:!0})},{context:"sidebar"})},setup:function(){this.noFollow=!0,this.moreLink=n(33).getRoute(n(7).get("me").owns(this.model)?"youNetwork":"userNetwork",this.model,"followers"),this.subviewArgs={subviewArgs:{noFollow:!0},maxDisplay:9,floating:!0,UsersCollection:n(5159),usersCollectionArgs:{userId:this.model.id,limit:9},subviewName:"user-avatar-badge-hover"}}})},5159:function(e,t,n){e.exports=n(251).extend({model:n(45),defaults:{userId:null},setupSources:function(){var e=this.options.userId;return[new(n(3815))(null,{userId:e}),new(n(2977))(null,{userId:e})]}},{hashFn:n(3815).hashFn})},5160:function(e,t,n){e.exports=n(186).default.extend(n(29).withOptions({names:["v2_ui_evolution"]}),n(46).withOptions("userFollowings"),{moreText:n(2).Lingua.t("View all"),title:n(2).Lingua.t("Following"),moduleClassName:"followingsModule",itemMinHeight:70.2,iconClassName:function(){return this.hasFeature("v2_ui_evolution")?null:"following"},Subview:n(2982),ModelClass:n(45),requiredAttributes:["followings_count"],countableAttribute:"followings_count",titleWithCount:function(e){return n(2).Lingua.tp("[[count]] following","[[count]] following",e,{count:n(204).render(e,{useSIUnits:!0})},{context:"sidebar"})},setup:function(){var e=this.model,t=!e.isMe()&&n(23).isLoggedIn()?n(5161):n(2981);this.noFollow=!0,this.subviewArgs={subviewName:"user-badge",subviewArgs:{noFollow:!0},UsersCollection:t,usersCollectionArgs:{userId:e.id},maxDisplay:3},this.moreLink=n(33).getRoute("userNetwork",e,"following")}})},5161:function(e,t,n){e.exports=n(2981).extend({baseUrl:function(){return this.getEndpointUrl("userFollowingsNotFollowedBy",{id:this.options.userId,not_followed_by:n(7).get("me").id})}})},5162:function(e,t,n){e.exports=n(186).default.extend(n(29).withOptions({names:["v2_ui_evolution","v2_disable_sidebar_comments_count"]}),n(46).withOptions("usevolution")?null:"comment"},moduleClassName:"commentsModule",moreText:n(2).Lingua.t("View all"),noFollow:!0,title:n(2).Lingua.t("Latest Comments"),itemMinHeight:53,Subview:n(5163),ModelClass:n(45),titleWithCount:function(e){var t=n(2).Lingua.tp("[[count]] comment","[[count]] comments",e,{count:n(204).render(e,{useSIUnits:!0})},{context:"sidebar"});return this.hasFeature("v2_disable_sidebar_comments_count")?this.title:t},setup:function(){this.moreLink=n(33).getRoute("userNetwork",this.model,"comments")},events:{"click .sidebarHeader":function(){n(21).trackV1Click({event_name:"Comment Component Clicked",click_name:"view_all_comments::click",context:this.getContextData()})}}})},5163:function(e,t,n){e.exports=n(88).extend({Subview:n(3706),css:n(5164),className:"commentBadgeList",itemClassName:"commentBadgeList__item sc-border-light-top sc-py-1x sc-px-2x sc-text-body",setup:function(){this.collection=new(n(3712))(null,{userId:this.options.resource_id,limit:20})}})},5164:function(e,t,n){var o=n(13),i=n(5165);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},a=(o(i,s),i.locals?i.locals:{});e.exports=a},5165:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n.n(o),s=n(6),a=n.n(s)()(i.a);a.push([e.i,".sc-classic .commentBadgeList__item{padding:10px 0}.sc-classic .commentBadgeList__item:first-child{border-top:0}","",{version:3,sources:["webpack://./app/views/comments/comment-badge-list.css"],names:[],mappings:"AAAA,oCAAoC,cAAc,CAAC,gDAAgD,YAAY",sourcesContent:[".sc-classic .commentBadgeList__item{padding:10px 0}.sc-classic .commentBadgeList__item:first-child{border-top:0}"],sourceRoot:""}]),t.default=a},752:function(e,t,n){var o=e.exports=n(584).extend({defaults:{type:"track_likes"},baseUrl:function(){return this.getEndpointUrl("userTrackLikes",{id:this.opction(e){return"sound"===e}});n(1218).applyTo(o,{fields:["track.title","track.genre","track.tag_list","track.user.username","track.user.full_name","track.user.permalink"],mixins:[n(342)],protoProps:{defaults:{type:"track_likes"}}})}}]);
//# sourceMappingURL=http://ent/web-sourcemaps/44-7387ce75.js.map},this.currency(this.recurly.config.currency)}},{key:"reprice",value:function(t){var e=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).internal,n=void 0!==r&&r;return this.debug("reprice"),new tt((function(t){new e.Calculations(e,(function(r){if(JSON.stringify(r)===JSON.stringify(e.price))return t(r);e.price=r;var o=e.resolveAndEmit("change",r,t);n||e.emit("change:external",o)}))}),this).nodeify(t)}},{key:"remove",value:function(t,e){var r=this;return this.debug("remove",t),new tt((function(e,n){var o=Object.keys(t)[0],i=t[o];if(!~Object.keys(r.items).indexOf(o))return r.error((0,p.Z)("invalid-item"),n);if(Array.isArray(r.items[o])){var a=r.items[o].indexOf(st(r.items[o],i));~a&&r.items[o].splice(a)}else{if(!r.items[o]||i!==r.items[o].code&&!0!==i)return r.error((0,p.Z)("unremovable-item",{type:o,id:i,reason:"does not exist on this pricing instance."}),n);r.items[o],delete r.items[o]}e()}),this).nodeify(e)}},{key:"guardTaxSignature",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.amount){if("object"!==rt(t.amount))throw"Invalid 'amount'. Expected 'Object', got '".concat(rt(t.amount),"'");if(!isFinite(+t.amount.now))throw"Invalid 'amount.now'. Expected 'Finite Numeric', got '".concat(rt(t.amount.now),"'");if(!isFinite(+t.amount.next))throw"Invalid 'amount.next'. Expected 'Finite Numeric', got '".concat(rt(t.amount.next),"'")}}},{key:"resolveAndEmit",value:function(t,r,n){var o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).copy,i=void 0===o||o;return this.debug(t),"object"!==rt(r)&&(i=!1),i&&(r=e()(r)),this.emit(t,r),n(r),r}},{key:"bindReporting",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pricing",r=function(){var e;return(e=t.recurly).report.apply(e,arguments)},n=function(t){return r("".concat(e,":set:giftCard"),{amount:t.unit_amount})},o=function(){return r("".concat(e,":unset:giftCard"))};this.on("set.addon",(function(t){return r("".concat(e,":set:addOn"),l()(t,["code","quantity"]))})),this.on("set.coupon",(function(t){return r("".concat(e,":set:coupon"),{code:t.code})})),this.on("set.currency",(function(t){return r("".concat(e,":set:currency"),{code:t})})),this.on("set.gift_card",n),this.on("set.giftCard",n),this.on("set.plan",(function(t){return r("".concat(e,":set:plan"),{code:t.code})})),this.on("unset.coupon",(function(){return r("".concat(e,":unset:coupon"))})),this.on("unset.gift_card",o),this.on("unset.giftCard",o)}},{key:"itemUpdateFactory",value:function(t,e){var r=this,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).eventName,o=void 0===n?t:n;return function(n){if(JSON.stringify(e)===JSON.stringify(r.items[t]))return n(r.items[t]);r.items[t]=e,r.resolveAndEmit("set.".concat(o),e,n)}}},{key:"error",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0;return n&&n.split(".").reduce((function(r,n){return e.emit("".concat(r,".").concat(n),t)}),"error"),this.emit("error",t),r(t)}}],n&&nt(r.prototype,n),o&&nt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),a}(u());function st(t,e){return t&&G()(t,{code:e})}function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==lt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).recurring,n=void 0!==r&&r;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach((function(e){pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({label:t,amount:et(e)},n&&{paymentTiming:"recurring"})}var dt=r(9245),ht=r.n(dt);function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(r),!0).forEach((function(e){gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function gt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==bt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===bt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wt={first_name:"givenName",last_name:"familyName",address1:{field:"addressLines",index:0},address2:{field:"addressLines",index:1},city:"locality",state:"administrativeArea",postal_code:"postalCode",country:"countryCode"},Ot=mt(mt({},wt),{email:"emailAddress",phone:"phoneNumber"});function jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.to,n=void 0===r?"contact":r,o=e.except,i=void 0===o?[]:o,a=e.map,c=void 0===a?Ot:a;if(ht()(t))return null;var u=Object.keys(c).reduce((function(e,r){var o,a=c[r],u="contact"===n?r:a,s="address"===n?r:a;if(~i.indexOf(u))return e;var l="object"===bt(u)?null===(o=t[u.field])||void 0===o?void 0:o[u.index]:t[u];if(!l)return e;if("object"===bt(s)){var f=s.field,p=s.index;e[f]=e[f]||[],e[f][p]=l}else e[s]=l;return e}),{});return ht()(u)?null:u}var Pt=r(1460),St=r.n(Pt),_t={elo:5,mada:5,mir:11,girocard:11,dankort:13,bancomat:14,bancontact:14};function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Et(t){return function(t){if(Array.isArray(t))return xt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return xt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==kt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===kt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function At(t,e,r){var n=t.recurly,o=t.config,i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(r),!0).forEach((function(e){Rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({currencyCode:e.currency,countryCode:e.country,requiredShippingContactFields:e.requiredShippingContactFields},e.paymentRequest);if(!i.currencyCode)return r((0,p.Z)("apple-pay-config-missing",{opt:"currency"}));if(!i.countryCode)return r((0,p.Z)("apple-pay-config-missing",{opt:"country"}));if(i.requiredBillingContactFields=i.requiredBillingContactFields?Array.from(new Set([].concat(Et(i.requiredBillingContactFields),["postalAddress"]))):["postalAddress"],!o.pricing){var a=function(t,e,r){var n=r.total;if(!n){var o=e.recurring,i=e.total;r.total=n=yt(t.i18n.totalLineItemLabel,i,{recurring:o})}r.recurringPaymentRequest||"recurring"!==n.paymentTiming||(r.recurringPaymentRequest={paymentDescription:n.label,regularBilling:n})}(o,e,i);if(a)return r(a)}if(e.enforceVersion&&i.requiredShippingContactFields&&!window.ApplePaySession.supportsVersion(6))return r((0,p.Z)("apple-pay-not-supported"));n.request.get({route:"/apple_pay/info",data:{currency:i.currencyCode,country:i.countryCode,host:window.location.hostname},done:Tt(i,r)})}function Tt(t,e){return function(r,n){if(r)return e(r);if("countries"in n&&!~n.countries.indexOf(t.countryCode))return e((0,p.Z)("apple-pay-config-invalid",{opt:"country",set:n.countries}));if("currencies"in n&&!~n.currencies.indexOf(t.currencyCode))return e((0,p.Z)("apple-pay-config-invalid",{opt:"currency",set:n.currencies}));"subdomain"in n&&(t.applicationData=btoa(n.subdomain)),t.merchantCapabilities=n.merchantCapabilities||[];var o=t.supportedNetworks?St()(n.supportedNetworks,t.supportedNetworks):n.supportedNetworks;t.supportedNetworks=function(t){return t.filter((function(t){var e=_t[t];return void 0===e||window.ApplePaySession.supportsVersion(e)}))}(o);var i=t.recurringPaymentRequest;if(i){if(i.tokenNotificationURL=n.tokenNotificationURL,!i.managementURL&&!n.managementURL)return e((0,p.Z)("apple-pay-config-invalid",{opt:"recurringPaymentRequest.managementURL"}));i.managementURL||(i.managementURL=n.managementURL)}e(null,t)}}function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(r),!0).forEach((function(e){Ft(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ft(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==It(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===It(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lt(t,e){var r,n;if(t.billingContact&&t.shippingContact)return t;var o=e.form?(0,y.F)(e.form,A.WW,{parseCard:!1}).values:null,i=null!=o&&o.phone?{phone:o.phone}:null,a=null!==(r=t.billingContact)&&void 0!==r?r:function(t,e){var r;if(e=null!==(r=null==t?void 0:t.items.address)&&void 0!==r?r:e)return jt(e,{map:wt})}(e.pricing,o),c=null!==(n=t.shippingContact)&&void 0!==n?n:function(t,e){var r,n=null==t||null===(r=t.items.address)||void 0===r?void 0:r.phone;if(e=n||null!=t&&t.items.shippingAddress?Dt({phone:n},t.items.shippingAddress):e)return jt(e)}(e.pricing,i);return Dt(Dt(Dt({},t),a&&{billingContact:a}),c&&{shippingContact:c})}var Mt=["errors"];function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function qt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function zt(){return zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zt.apply(this,arguments)}function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){Gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gt(t,e,r){return(e=Vt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vt(n.key),n)}}function Vt(t){var e=function(t,e){if("object"!==Bt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bt(e)?e:String(e)}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Kt(t);if(e){var o=Kt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}var Jt=r(1227)("recurly:apple-pay"),Yt={subtotalLineItemLabel:"Subtotal",totalLineItemLabel:"Total",discountLineItemLabel:"Discount",taxLineItemLabel:"Tax",giftCardLineItemLabel:"Gift card"},Qt={onPaymentMethodSelected:"paymentMethodSelected",onShippingContactSelected:"shippingContactSelected",onShippingMethodSelected:"shippingMethodSelected",onCouponCodeChanged:"couponCodeChanged",onPaymentAuthorized:"paymentAuthorized"},Xt=["newTotal","newLineItems","newRecurringPaymentRequest"],te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ht(t,e)}(i,t);var e,r,n,o=$t(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this))._ready=!1,e.config={},e.once("ready",(function(){return e._ready=!0})),window.ApplePaySession&&window.ApplePaySession.supportsVersion(4)?window.ApplePaySession.canMakePayments()||(e.initError=e.error("apple-pay-not-available")):e.initError=e.error("apple-pay-not-supported"),e.initError||e.configure(Zt({},t)),e}return e=i,r=[{key:"session",get:function(){if(this._session)return this._session;var t=Lt(this._paymentRequest,this.config);Jt("Creating new Apple Pay session",t);var e=new window.ApplePaySession(4,t);return e.oncancel=this.onCancel.bind(this),e.onvalidatemerchant=this.onValidateMerchant.bind(this),e.onpaymentmethodselected=ee(this,"onPaymentMethodSelected"),e.oncouponcodechanged=ee(this,"onCouponCodeChanged"),e.onshippingcontactselected=ee(this,"onShippingContactSelected"),e.onshippingmethodselected=ee(this,"onShippingMethodSelected"),e.onpaymentauthorized=this.token.bind(this),this.session=e},set:function(t){var e=this;Xt.forEach((function(t){return delete e[t]})),this._session=t}},{key:"recurringPaymentRequest",get:function(){var t,e;return null!==(t=this.newRecurringPaymentRequest)&&void 0!==t?t:null===(e=this._paymentRequest)||void 0===e?void 0:e.recurringPaymentRequest}},{key:"lineItems",get:function(){var t,e,r;return null!==(t=null!==(e=this.newLineItems)&&void 0!==e?e:null===(r=this._paymentRequest)||void 0===r?void 0:r.lineItems)&&void 0!==t?t:[]}},{key:"totalLineItem",get:function(){var t,e,r;return null!==(t=null!==(e=this.newTotal)&&void 0!==e?e:null===(r=this._paymentRequest)||void 0===r?void 0:r.total)&&void 0!==t?t:{}}},{key:"finalTotalLineItem",get:function(){return zt({},this.totalLineItem,{type:"final"})}},{key:"ready",value:function(t){this._ready?t():this.once("ready",t)}},{key:"configure",value:function(t){var e=this;if(!t.recurly)return this.initError=this.error("apple-pay-factory-only");this.recurly=t.recurly,t.callbacks&&(this.config.callbacks=t.callbacks),t.form&&(this.config.form=t.form),"recurring"in t&&(this.config.recurring=t.recurring),this.config.i18n=Zt(Zt(Zt({},Yt),t.label&&{totalLineItemLabel:t.label}),t.i18n),t.pricing instanceof tt?this.config.pricing=t.pricing.pricing:t.pricing instanceof ut&&(this.config.pricing=t.pricing),At(this,t,(function(t,r){if(t)return e.initError=e.error(t);e._paymentRequest=r,e.config.pricing&&(e.onPricingChange(),e.config.pricing.on("change",(function(){return e.onPricingChange()}))),e.emit("ready")}))}},{key:"begin",value:function(){if(this.initError)return this.error("apple-pay-init-error",{err:this.initError});if(this.config.pricing){var t=this.config.pricing.items,e=t.address,r=t.shippingAddress;this._savedPricingState={address:e,shippingAddress:r}}delete this._session,this.session.begin()}},{key:"onPricingChange",value:function(){var t=this.config,e=t.pricing,r=t.recurring;if(this._paymentRequest.total=yt(this.config.i18n.totalLineItemLabel,e.totalNow,{recurring:r}),this._paymentRequest.lineItems=[],e.hasPrice){var n=e.price.now.taxes||e.price.now.tax,o=this._paymentRequest.lineItems;o.push(yt(this.config.i18n.subtotalLineItemLabel,e.subtotalPreDiscountNow)),+e.price.now.discount&&o.push(yt(this.config.i18n.discountLineItemLabel,-e.price.now.discount)),+n&&o.push(yt(this.config.i18n.taxLineItemLabel,n)),+e.price.now.giftCard&&o.push(yt(this.config.i18n.giftCardLineItemLabel,-e.price.now.giftCard))}}},{key:"onValidateMerchant",value:function(t){var e=this;Jt("validateMerchant",t);var r=t.validationURL;this.recurly.request.post({route:"/apple_pay/start",data:{host:window.location.hostname,validationURL:r},done:function(t,r){if(t)return e.error(t);e.session.completeMerchantValidation(r)}})}},{key:"setAddress",value:function(t,e,r){if(!e||!this.config.pricing)return null==r?void 0:r();var n=jt(e,{to:"address",except:["emailAddress"]});return this.config.pricing[t](n).done(r)}},{key:"completeSelection",value:function(t){var e,r,n,o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.errors,c=qt(i,Mt);null!=c&&c.total&&!c.newTotal&&(c.newTotal=Zt(Zt({},this.totalLineItem),{},{amount:c.total})),null!=c&&c.newRecurringPaymentRequest?c.newRecurringPaymentRequest=Zt({managementURL:null===(r=this.recurringPaymentRequest)||void 0===r?void 0:r.managementURL,paymentDescription:null===(n=this.recurringPaymentRequest)||void 0===n?void 0:n.paymentDescription},c.newRecurringPaymentRequest):this.recurringPaymentRequest&&"recurring"===(null==c||null===(e=c.newTotal)||void 0===e?void 0:e.paymentTiming)&&(c.newRecurringPaymentRequest=Zt(Zt({},this.recurringPaymentRequest),{},{regularBilling:c.newTotal})),Xt.forEach((function(t){var e;return o[t]=null!==(e=null==c?void 0:c[t])&&void 0!==e?e:o[t]})),t.call(this.session,Zt(Zt({newTotal:this.finalTotalLineItem,newLineItems:this.lineItems,newRecurringPaymentRequest:this.recurringPaymentRequest},"object"===Bt(a)&&a.length>0&&{errors:a.map(re)}),c))}},{key:"onCouponCodeChanged",value:function(t,e){this.completeSelection(this.session.completeCouponCodeChange,e)}},{key:"onPaymentMethodSelected",value:function(t,e){var r=this,n=t.paymentMethod.billingContact;this.setAddress("address",n,(function(){r.completeSelection(r.session.completePaymentMethodSelection,e)}))}},{key:"onShippingContactSelected",value:function(t,e){var r=this,n=t.shippingContact;this.setAddress("shippingAddress",n,(function(){r.completeSelection(r.session.completeShippingContactSelection,e)}))}},{key:"onShippingMethodSelected",value:function(t,e){this.completeSelection(this.session.completeShippingMethodSelection,e)}},{key:"onPaymentAuthorized",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).errors;"object"===Bt(e)&&e.length>0?this.session.completePayment({status:this.session.STATUS_FAILURE,errors:e.map(re)}):(this.session.completePayment({status:this.session.STATUS_SUCCESS}),this.emit("authorized",t),this.emit("token",t.payment.recurlyToken,t))}},{key:"token",value:function(t){var e=this,r=this.mapPaymentData(t);this.recurly.request.post({route:"/apple_pay/token",data:r,done:function(r,n){if(r)return Jt("tokenization error",r),e.session.completePayment({status:e.session.STATUS_FAILURE}),e.error("apple-pay-payment-failure",r);Jt("Token received",n),t.payment.recurlyToken=n,ee(e,"onPaymentAuthorized")(t)}})}},{key:"onCancel",value:function(t){var e=this;Jt("User canceled Apple Pay payment",t),function(t,e,r){if(!t)return r();var n,o=e.address,i=e.shippingAddress;t.items.address!==o&&(n=(n||t).address(o)),t.items.shippingAddress!==i&&(n=(n||t).shippingAddress(i)),n?n.done(r):r()}(this.config.pricing,this._savedPricingState,(function(){return e.emit("cancel",t)}))}},{key:"error",value:function(){var t=this,e=(arguments.length<=0?void 0:arguments[0])instanceof Error?arguments.length<=0?void 0:arguments[0]:p.Z.apply(void 0,arguments);return setTimeout((function(){return t.emit("error",e)}),0),e}},{key:"mapPaymentData",value:function(t){var e=t.payment,r=e.billingContact,n=e.token;return Zt(Zt({paymentData:n.paymentData,paymentMethod:n.paymentMethod},this.config.form&&(0,y.F)(this.config.form,A.m3,{parseCard:!1}).values),jt(r,{to:"address",except:["emailAddress"]}))}}],r&&Wt(e.prototype,r),n&&Wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u());function ee(t,e){var r,n=null===(r=t.config.callbacks)||void 0===r?void 0:r[e],o=Qt[e],i=t[e].bind(t);return function(e){Jt(o,e),t.emit(o,e),function(t,e,r){var n=null==t?void 0:t(e);"function"==typeof(null==n?void 0:n.then)?n.catch((function(t){return{errors:t}})).then((function(t){return r(e,t)})):r(e,n)}(n,e,i)}}function re(t){var e=t.code,r=t.contactField,n=t.message;return new window.ApplePayError(e,r,n)}var ne=r(7432),oe=r(1227),ie=r.n(oe),ae=r(7287);function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return se(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ce(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ce(i)?i:String(i)),n)}var o,i}function fe(){return fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=de(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},fe.apply(this,arguments)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pe(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=de(t);if(e){var o=de(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function de(t){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},de(t)}var he=ie()("recurly:apple-pay:braintree"),be={client:"client",applePay:"apple-pay",dataCollector:"data-collector"},ve=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(t){var e,r;return(null===(e=window.braintree)||void 0===e||null===(r=e.client)||void 0===r?void 0:r.VERSION)===ae.Q&&t in window.braintree?V().resolve():(0,ne.Z)(me.libUrl(t))};return n("client").then((function(){return V().all(e.map(n))}))},me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}(i,t);var e,r,n,o=ye(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,n=[{key:"libUrl",value:function(t){return"https://js.braintreegateway.com/web/".concat(ae.Q,"/js/").concat(be[t],".min.js")}}],(r=[{key:"configure",value:function(t){var e=this;he("Initializing client");var r=t.braintree.clientAuthorization;t.braintree.displayName?this.displayName=t.braintree.displayName:this.displayName="My Store",ve("applePay","dataCollector").then((function(){return window.braintree.client.create({authorization:r})})).then((function(t){return V().all([window.braintree.dataCollector.create({client:t}),window.braintree.applePay.create({client:t})])})).then((function(t){var r=ue(t,2),n=r[0],o=r[1];e.braintree={dataCollector:n,applePay:o}})).catch((function(t){return e.initError=e.error("apple-pay-init-error",{err:t}),V().reject(e.initError)})).then((function(){return fe(de(i.prototype),"configure",e).call(e,t)}))}},{key:"onValidateMerchant",value:function(t){var e=this;he("Validating merchant session",t),this.braintree.applePay.performValidation({validationURL:t.validationURL,displayName:this.displayName}).then((function(t){return e.session.completeMerchantValidation(t)})).catch((function(t){return e.error(t)}))}},{key:"token",value:function(t){var e=this;he("Creating token"),this.braintree.applePay.tokenize({token:t.payment.token}).then((function(r){return t.payment.gatewayToken=r,fe(de(i.prototype),"token",e).call(e,t)})).catch((function(t){return e.session.completePayment({status:e.session.STATUS_FAILURE}),e.error("apple-pay-payment-failure",t)}))}},{key:"mapPaymentData",value:function(t){return{type:"braintree",payload:{deviceData:this.braintree.dataCollector.deviceData,tokenizePayload:t.payment.gatewayToken,applePayPayment:fe(de(i.prototype),"mapPaymentData",this).call(this,t)}}}}])&&le(e.prototype,r),n&&le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(te);function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ge.apply(this,arguments)}function we(t){var e;return new(null!=t&&null!==(e=t.braintree)&&void 0!==e&&e.clientAuthorization?me:te)(ge({},t,{recurly:this}))}var Oe=r(9024),je=r.n(Oe);function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}var Se=["onClick","onError"];function _e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ke(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(r),!0).forEach((function(e){Ee(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ee(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Pe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Pe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xe(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Ce=r(1227)("recurly:google-pay");var Re=function(t){var e,r,n,o,i=t.paymentOptions,a=t.isReadyToPayRequest,c=t.paymentDataRequest,u=t.buttonOptions,s=i.paymentDataCallbacks;if(s){var l=s.onPaymentAuthorized,f=s.onPaymentDataChanged,y=c.callbackIntents=[];if(l){var d=u.onClick;delete u.onClick,s.onPaymentAuthorized=function(t){return d(t).catch((function(){return V().reject({reason:"OTHER_ERROR",message:"Error processing payment information, please try again later",intent:"PAYMENT_AUTHORIZATION"})})).then(l).then((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error;return t?V().reject(t):{transactionState:"SUCCESS"}})).catch((function(t){return{transactionState:"ERROR",error:t}}))},y.push("PAYMENT_AUTHORIZATION")}f&&c.shippingAddressRequired&&y.push("SHIPPING_ADDRESS"),f&&c.shippingOptionRequired&&y.push("SHIPPING_OPTION")}return V().resolve((null===(r=window.google)||void 0===r||null===(n=r.payments)||void 0===n||null===(o=n.api)||void 0===o?void 0:o.PaymentsClient)||(0,Oe.loadLibs)("https://pay.google.com/gp/p/js/pay.js")).then((function(){return Ce("GooglePay.newPaymentsClient",i),e=new window.google.payments.api.PaymentsClient(i),Ce("GooglePay.isReadyToPay",a),e.isReadyToPay(a)})).catch((function(t){throw(0,p.Z)("google-pay-init-error",{err:t})})).then((function(t){var r=t.result,n=t.paymentMethodPresent;if(!r||!1===n)throw(0,p.Z)("google-pay-not-available");return function(t,e,r){var n=r.onClick,o=r.onError,i=xe(r,Se),a=e.allowedPaymentMethods,c=e.transactionInfo;return t.prefetchPaymentData(ke(ke({},e),{},{transactionInfo:ke(ke({},c),{},{totalPriceStatus:"NOT_CURRENTLY_KNOWN"})})),Ce("GooglePay.createButton",e,i),t.createButton(ke(ke({},i),{},{allowedPaymentMethods:a,onClick:function(){return t.loadPaymentData(e).then(n).catch(o)}}))}(e,c,u)}))};function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ie(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(r),!0).forEach((function(e){Ne(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ne(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Ae(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ae(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var De=r(1227)("recurly:google-pay"),Fe={apiVersion:2,apiVersionMinor:0},Le=function(t){var e=t.recurly,r=t.$form,n=t.paymentData,o=t.gatewayCodeSelected,i=function(t){var e=t.$form,r=t.inputNames;return e?(0,y.F)(e,r,{parseCard:!1}).values:{}}({$form:r,inputNames:A._f}),a=function(t){var e,r,n=t.paymentData,o=(null==n||null===(e=n.paymentMethodData)||void 0===e||null===(r=e.info)||void 0===r?void 0:r.billingAddress)||{},i=o.name,a=o.address1,c=o.address2,u=o.countryCode,s=o.postalCode,l=o.locality,f=o.administrativeArea,p=(i||"").trim().split(" ");return{first_name:p[0],last_name:p.slice(1).join(" "),address1:a,address2:c,city:l,state:f,postal_code:s,country:u}}({paymentData:n}),c=Object.keys(i).some((function(t){return t in a})),u=Ie(Ie(Ie({gateway_code:o},i),!c&&a),{},{paymentData:n});return e.request.post({route:"/google_pay/token",data:u})},Me=function(t){var e,r,n,o,i=t.recurlyMerchantInfo,a=t.options,c=i.siteMode,u=i.paymentMethods,s=a.environment||("production"===c?"PRODUCTION":"TEST"),l=null===(e=u.filter((function(t){return t.gatewayCode}))[0])||void 0===e?void 0:e.gatewayCode,f=function(t,e){var r=e.billingAddressRequired;return Ie(Ie({},Fe),{},{allowedPaymentMethods:t.map((function(t){var e=t.cardNetworks,n=t.authMethods,o=t.paymentGateway,i=t.direct;return{type:"CARD",parameters:Ie({allowedCardNetworks:e,allowedAuthMethods:n},r&&{billingAddressRequired:!0,billingAddressParameters:{format:"FULL"}}),tokenizationSpecification:Ie(Ie({},o&&{type:"PAYMENT_GATEWAY",parameters:o}),i&&{type:"DIRECT",parameters:i})}}))})}(u,{billingAddressRequired:null!==(r=a.billingAddressRequired)&&void 0!==r?r:a.requireBillingAddress}),p=a.googleMerchantId,y=a.googleBusinessName,d=a.country,h=a.currency,b=a.total,v=Ie(Ie(Ie({},f),a.paymentDataRequest),{},{merchantInfo:Ie({merchantId:p,merchantName:y},null===(n=a.paymentDataRequest)||void 0===n?void 0:n.merchantInfo),transactionInfo:Ie({currencyCode:h,countryCode:d,totalPrice:b,totalPriceStatus:"FINAL"},null===(o=a.paymentDataRequest)||void 0===o?void 0:o.transactionInfo)});return{gatewayCode:l,environment:s,isReadyToPayRequest:Ie(Ie({},f),!0===a.existingPaymentMethodRequired&&{existingPaymentMethodRequired:!0}),paymentDataRequest:v}},Be=function(t){var e=t.recurly,r=t.options;return new(V())((function(t,e){var n,o,i,a,c={gateway_code:r.gatewayCode,currency:null!==(n=r.currency)&&void 0!==n?n:null===(o=r.paymentDataRequest)||void 0===o?void 0:o.transactionInfo.currencyCode,country:null!==(i=r.country)&&void 0!==i?i:null===(a=r.paymentDataRequest)||void 0===a?void 0:a.transactionInfo.countryCode};return c.currency?c.country?void t(c):e((0,p.Z)("google-pay-config-missing",{opt:"country"})):e((0,p.Z)("google-pay-config-missing",{opt:"currency"}))})).then((function(t){return e.request.get({route:"/google_pay/info",data:t})})).then((function(t){return function(t){var e=t.recurlyMerchantInfo;if(0===e.paymentMethods.length)throw(0,p.Z)("google-pay-not-configured");return e}({recurlyMerchantInfo:t,options:r})})).then((function(t){return Me({recurlyMerchantInfo:t,options:r})}))};function qe(t){return function(t,e){var r,n=new(u()),o=function(t){return n.emit("error",t)},i=function(i){return Le({recurly:t,paymentData:i,gatewayCodeSelected:r,$form:e.form}).catch((function(t){throw o((0,p.Z)("google-pay-payment-failure",t)),t})).then((function(t){return n.emit("token",t,i),i.recurlyToken=t,De("GooglePay.onPaymentAuthorized",i),n.emit("paymentAuthorized",i),i}))};return Be({recurly:t,options:e}).then((function(t){var n=t.gatewayCode,a=t.environment,c=t.isReadyToPayRequest,u=t.paymentDataRequest;return r=n,Re({paymentOptions:{environment:a,merchantInfo:u.merchantInfo,paymentDataCallbacks:e.callbacks},isReadyToPayRequest:c,paymentDataRequest:u,buttonOptions:Ie(Ie({},e.buttonOptions),{},{onClick:i,onError:function(t){return o((0,p.Z)("google-pay-payment-failure",t))}})})})).then((function(t){return n.emit("ready",t)})).catch(o),n}(this,t)}function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function Ue(t){return function(t){if(Array.isArray(t))return Ge(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ze(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(t,e){if(t){if("string"==typeof t)return Ge(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(t,e):void 0}}function Ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function We(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ze(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ze(i)?i:String(i)),n)}var o,i}function Ve(t,e){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ve(t,e)}function He(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$e(t);if(e){var o=$e(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function $e(t){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$e(t)}function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ke.apply(this,arguments)}var Je=r(1227)("recurly:bank-redirect");function Ye(t){return new Qe(Ke({},t,{recurly:this}))}var Qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ve(t,e)}(i,t);var e,r,n,o=He(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Je("Creating new BankRedirect session"),(e=o.call(this)).recurly=t.recurly,e}return e=i,r=[{key:"loadBanks",value:function(t,e){var r=this;Je("Load banks");var n=function(t){return Xe(t)}(t);if(n.length>0)return this.error("validation",{fields:n});this.recurly.request.get({route:"/bank_redirect/banks",data:t,done:function(t,n){if(t)return r.error("banks-error",{cause:t});e&&rr(e,n.banks,"issuer_id"),r.emit("banks",n.banks)}})}},{key:"loadCountries",value:function(t,e){Je("Load countries");var r=function(t){return Xe(t)}(t);if(r.length>0)return this.error("validation",{fields:r});var n=[{id:"AT",name:"Austria"},{id:"BE",name:"Belgium"},{id:"DE",name:"Germany"},{id:"IT",name:"Italy"},{id:"ES",name:"Spain"},{id:"NL",name:"The Netherlands"}];e&&rr(e,n,"country_code"),this.emit("countries",n)}},{key:"start",value:function(t){var e=this;Je("Start BankRedirect Payment Modal");var r=function(t){var e=Xe(t),r={ideal:tr,sofort:er}[t&&t.payment_method_type];return r&&e.push.apply(e,Ue(r(t))),e}(t);if(r.length>0)return this.error("validation",{fields:r});var n=this.recurly.Frame({height:600,path:"/bank_redirect/start",payload:t});return n.once("error",(function(t){return e.error("bank-redirect-error",{cause:t})})),n.once("done",(function(t){return e.emit("token",t)})),n}},{key:"error",value:function(){var t=(arguments.length<=0?void 0:arguments[0])instanceof Error?arguments.length<=0?void 0:arguments[0]:p.Z.apply(void 0,arguments);return this.emit("error",t),t}}],r&&We(e.prototype,r),n&&We(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u());function Xe(t){return t&&t.payment_method_type?"ideal"!==t.payment_method_type&&"sofort"!==t.payment_method_type?["invalid payment_method_type"]:[]:["payment_method_type cannot be blank"]}function tr(t){var e=[];return t&&t.issuer_id||e.push("issuer_id cannot be blank"),t&&t.invoice_uuid||e.push("invoice_uuid cannot be blank"),e}function er(t){var e=[];return t&&t.country_code||e.push("country_code cannot be blank"),t&&t.invoice_uuid||e.push("invoice_uuid cannot be blank"),e}function rr(t,e,r){var n=document.querySelector(t);if(n){if("SELECT"!=n.tagName){var o=n;(n=document.createElement("select")).id=r,n.setAttribute("name",r),o.appendChild(n)}for(;n.options.length>0;)n.remove(0);var i,a=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ze(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(e);try{for(a.s();!(i=a.n()).done;){var c=i.value,u=c.id,s=c.name,l=document.createElement("option");l.appendChild(document.createTextNode(s)),l.setAttribute("value",u),n.appendChild(l)}}catch(t){a.e(t)}finally{a.f()}}}function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function or(){or=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:O(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function y(){}function d(){}var h={};u(h,i,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(k([])));v&&v!==e&&r.call(v,i)&&(h=v);var m=d.prototype=p.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=l(t[n],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==nr(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:y,configurable:!0}),y.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ir(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ar(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ir(i,n,o,a,c,"next",t)}function c(t){ir(i,n,o,a,c,"throw",t)}a(void 0)}))}}function cr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==nr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===nr(i)?i:String(i)),n)}var o,i}function ur(t,e){return ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ur(t,e)}function sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=lr(t);if(e){var o=lr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lr(t)}var fr=new Error("not implemented"),pr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ur(t,e)}(c,t);var e,r,n,o,i,a=sr(c);function c(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this)).constructor==c)throw new Error("Base class cannot be instantiated");return e.options=t,e}return e=c,r=[{key:"scripts",value:function(){throw fr}},{key:"styles",value:function(){throw fr}},{key:"libsLoaded",value:function(){throw fr}},{key:"createAndMountWebComponent",value:(i=ar(or().mark((function t(){return or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw fr;case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"data",get:function(){throw fr}},{key:"handleAction",value:(o=ar(or().mark((function t(){return or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw fr;case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}],r&&cr(e.prototype,r),n&&cr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(u());function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function dr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dr(Object(r),!0).forEach((function(e){br(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function br(t,e,r){return(e=Or(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vr(){vr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:O(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function y(){}function d(){}var h={};u(h,i,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(k([])));v&&v!==e&&r.call(v,i)&&(h=v);var m=d.prototype=p.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=l(t[n],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==yr(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:y,configurable:!0}),y.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function mr(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function gr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){mr(i,n,o,a,c,"next",t)}function c(t){mr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function wr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Or(n.key),n)}}function Or(t){var e=function(t,e){if("object"!==yr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yr(e)?e:String(e)}function jr(t,e){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jr(t,e)}function Pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sr(t);if(e){var o=Sr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===yr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}var _r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jr(t,e)}(c,t);var e,r,n,o,i,a=Pr(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this,t)).state={},e.webComponent=void 0,e}return e=c,r=[{key:"scripts",value:function(){return[{url:"https://checkoutshopper-live.adyen.com/checkoutshopper/sdk/5.31.1/adyen.js",urlintegrity:"sha384-d6l5Qqod+Ks601U/jqsLz7QkW0LL6T5pfEsSHypuTSnDUYVGRLNV1ZdITbEwb1yL",crossorigin:"anonymous"}]}},{key:"styles",value:function(){return[{url:"https://checkoutshopper-live.adyen.com/checkoutshopper/sdk/5.31.1/adyen.css",integrity:"sha384-u0ZzEn9TjQx9ID0fkB21aOi32DxL9+b2ngTVz2x3q5wTi8sMfW3l49Dpe+TmBhb2",crossorigin:"anonymous"}]}},{key:"libsLoaded",value:function(){return!!window.AdyenCheckout}},{key:"createAndMountWebComponent",value:(i=gr(vr().mark((function t(e){var r,n,o=this;return vr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.options.adyen||{},t.next=3,window.AdyenCheckout({clientKey:r.publicKey,locale:this.options.locale||"en-US",countryCode:this.options.countryCode,paymentMethodsResponse:e,environment:r.env||"test",showPayButton:r.showPayButton||!1,amount:r.showPayButton?{value:this.options.amount,currency:this.options.currency}:this.options.amount,onChange:function(t){o.state=t,o.emit("change",t.isValid)},onSubmit:function(t){o.state=t,o.emit("submit")},onError:function(t){o.emit("error",t)}});case 3:return n=t.sent,this.webComponent=n.create("dropin",r.componentConfig||{}).mount(this.options.containerSelector),t.abrupt("return",this.webComponent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"data",get:function(){var t,e,r=this.state.data,n=null===(t=this.webComponent)||void 0===t||null===(e=t.activePaymentMethod)||void 0===e?void 0:e.data;return hr(hr({},r),n)}},{key:"handleAction",value:(o=gr(vr().mark((function t(e){return vr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.webComponent.handleAction(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})}],r&&wr(e.prototype,r),n&&wr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(pr);function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}var Er=["url"],xr=["url"];function Cr(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Rr(t){return function(t){if(Array.isArray(t))return Ir(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Tr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Tr(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Tr(t,e){if(t){if("string"==typeof t)return Ir(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ir(t,e):void 0}}function Ir(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nr(){Nr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:O(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function y(){}function d(){}var h={};u(h,i,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(k([])));v&&v!==e&&r.call(v,i)&&(h=v);var m=d.prototype=p.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=l(t[n],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==kr(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:y,configurable:!0}),y.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Dr(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Fr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Dr(i,n,o,a,c,"next",t)}function c(t){Dr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Lr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==kr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===kr(i)?i:String(i)),n)}var o,i}function Mr(t,e){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mr(t,e)}function Br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qr(t);if(e){var o=qr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function qr(t){return qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qr(t)}var zr={adyen:_r},Ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mr(t,e)}(b,t);var e,r,n,o,i,a,c,u,s,l,f,y,d,h=Br(b);function b(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),(r=h.call(this)).recurly=t,r.options=e,r.gatewayStrategy=void 0,r}return e=b,r=[{key:"start",value:(d=Fr(Nr().mark((function t(){var e,r,n;return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.validateOptions();case 3:return t.next=5,this.getPaymentMethods();case 5:return e=t.sent,r=e.gatewayType,n=e.paymentMethodData,this.gatewayType=r,t.next=11,this.selectGatewayStrategy(r);case 11:return this.gatewayStrategy=t.sent,t.next=14,this.setupGatewayStrategyListeners();case 14:return t.next=16,this.loadExternalLibraries();case 16:return t.next=18,this.initWebComponent(n);case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),this.error(t.t0);case 23:case"end":return t.stop()}}),t,this,[[0,20]])}))),function(){return d.apply(this,arguments)})},{key:"submit",value:(y=Fr(Nr().mark((function t(){var e,r,n=arguments;return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(n.length>0&&void 0!==n[0]?n[0]:{}).billingAddress,this.validateBillingAddress(e),t.prev=2,t.next=5,this.tokenizePaymentMethod({billingAddress:e});case 5:r=t.sent,this.emit("token",r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.error(t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,9]])}))),function(){return y.apply(this,arguments)})},{key:"handleAction",value:(f=Fr(Nr().mark((function t(e){return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{"string"==typeof e&&(e=JSON.parse(e)),this.gatewayStrategy.handleAction(e)}catch(t){this.error(t)}case 1:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"error",value:function(t){return this.emit("error",t)}},{key:"allowedGatewayTypes",get:function(){var t=this;return Object.keys(zr).filter((function(e){return e in t.options}))}},{key:"validateOptions",value:(l=Fr(Nr().mark((function t(){var e,r,n=this;return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=(e=function(t,e){var r,n=Ar(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(!(o in t))return o}}catch(t){n.e(t)}finally{n.f()}})(this.options,["allowedPaymentMethods","currency","amount","countryCode","containerSelector"]))){t.next=4;break}throw(0,p.Z)("payment-methods-config-missing",{opt:r});case 4:if(this.allowedGatewayTypes.forEach((function(t){var r=e(n.options[t],["publicKey"]);if(r)throw(0,p.Z)("payment-methods-config-missing",{opt:"".concat(t,".").concat(r)})})),this.allowedGatewayTypes.length){t.next=7;break}throw(0,p.Z)("payment-methods-config-missing",{opt:Object.keys(zr).join(", ")});case 7:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getPaymentMethods",value:(s=Fr(Nr().mark((function t(){return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.recurly.request.get({route:"/payment_methods/list",data:{allowedPaymentMethods:this.options.allowedPaymentMethods,blockedPaymentMethods:this.options.blockedPaymentMethods,currency:this.options.currency,amount:this.options.amount,countryCode:this.options.countryCode,locale:this.options.locale||"en-US",channel:this.options.channel||"Web",allowedGatewayTypes:this.allowedGatewayTypes}}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"selectGatewayStrategy",value:(u=Fr(Nr().mark((function t(e){var r;return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=zr[e]){t.next=3;break}throw(0,p.Z)("payment-methods-not-available");case 3:return t.abrupt("return",new r(this.options));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"setupGatewayStrategyListeners",value:(c=Fr(Nr().mark((function t(){var e=this;return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.gatewayStrategy.on("change",(function(t){e.emit("valid",t)})),this.gatewayStrategy.on("submit",(function(){e.submit()})),this.gatewayStrategy.on("error",(function(t){e.error(t)}));case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"loadExternalLibraries",value:(a=Fr(Nr().mark((function t(){return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gatewayStrategy.libsLoaded()){t.next=2;break}return t.abrupt("return");case 2:return t.abrupt("return",V().all([].concat(Rr(this.gatewayStrategy.scripts().map((function(t){var e=t.url,r=Cr(t,Er);return(0,Oe.loadScript)(e,r)}))),Rr(this.gatewayStrategy.styles().map((function(t){var e=t.url,r=Cr(t,xr);return(0,Oe.loadStyle)(e,r)}))))));case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"initWebComponent",value:(i=Fr(Nr().mark((function t(e){return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.gatewayStrategy.createAndMountWebComponent(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"tokenizePaymentMethod",value:(o=Fr(Nr().mark((function t(e){var r;return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.billingAddress,t.abrupt("return",this.recurly.request.post({route:"/payment_methods/token",data:{currency:this.options.currency,amount:this.options.amount,countryCode:this.options.countryCode,locale:this.options.locale||"en-US",channel:this.options.channel||"Web",paymentMethodData:this.gatewayStrategy.data,gatewayType:this.gatewayType,returnURL:this.options.returnURL,billingAddress:r}}));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"validateBillingAddress",value:function(t){if(t){var e=["address1","address2","city","state","postalCode","country"],r=Object.keys(t).filter((function(t){return!e.includes(t)}));if(r.length)throw(0,p.Z)("invalid-billing-address-fields",{field:r.join(", ")})}}}],r&&Lr(e.prototype,r),n&&Lr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),b}(u()),Zr=Ur;function Gr(t){return new Zr(this,t)}var Wr=r(4186),Vr=r(9458);function Hr(t){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(t)}function $r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Hr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Hr(i)?i:String(i)),n)}var o,i}function Kr(t,e){return Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kr(t,e)}function Jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yr(t);if(e){var o=Yr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Hr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Yr(t){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yr(t)}var Qr=r(1227)("recurly:paypal:strategy"),Xr=["amount","currency","displayName","locale","enableShippingAddress","shippingAddressOverride","shippingAddressEditable","billingAgreementDescription","landingPageType","logoImageUrl","headerImageUrl"],tn={locale:"en_US"},en=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kr(t,e)}(i,t);var e,r,n,o=Jr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).isReady=!1,e.config={},e.once("ready",(function(){return e.isReady=!0})),e.configure(t),e}return e=i,r=[{key:"ready",value:function(t){this.isReady?t():this.once("ready",t)}},{key:"configure",value:function(t){var e=this;if(!(t.recurly instanceof Ja))throw this.error("paypal-factory-only");this.recurly=t.recurly,t.gatewayCode&&(this.config.gatewayCode=t.gatewayCode),this.config.display={},"object"===Hr(t.display)&&(this.config.display=l()(t.display,Xr)),this.config.display.locale||(this.config.display.locale=tn.locale),t.pricing instanceof ut&&(this.pricing=t.pricing,this.pricing.on("change",(function(){return e.updatePriceFromPricing()})),this.pricing.hasPrice&&this.updatePriceFromPricing())}},{key:"initialize",value:function(){Qr("Method 'initialize' not implemented")}},{key:"start",value:function(){Qr("Method 'start' not implemented")}},{key:"cancel",value:function(){this.emit("cancel")}},{key:"onFail",value:function(t){this.failure?t():this.once("fail",t)}},{key:"fail",value:function(t,e){if(!this.failure){Qr("Failure scenario encountered",t,e);var r=this.failure=this.error(t,e);this.emit("fail",r)}}},{key:"error",value:function(){var t=(arguments.length<=0?void 0:arguments[0])instanceof Error?arguments.length<=0?void 0:arguments[0]:p.Z.apply(void 0,arguments);return this.emit("error",t),t}},{key:"updatePriceFromPricing",value:function(){this.config.display.amount=this.pricing.totalNow,this.config.display.currency=this.pricing.currencyCode}}],r&&$r(e.prototype,r),n&&$r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u());function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==rn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===rn(i)?i:String(i)),n)}var o,i}function on(t,e){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},on(t,e)}function an(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=cn(t);if(e){var o=cn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function cn(t){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cn(t)}var un=r(1227)("recurly:paypal:strategy:direct"),sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&on(t,e)}(i,t);var e,r,n,o=an(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).emit("ready"),t}return e=i,r=[{key:"payload",get:function(){var t={description:this.config.display.displayName};return this.config.display.amount&&(t.amount=this.config.display.amount),this.config.display.logoImageUrl&&(t.logoImageUrl=this.config.display.logoImageUrl),this.config.display.headerImageUrl&&(t.headerImageUrl=this.config.display.headerImageUrl),this.config.gatewayCode&&(t.gatewayCode=this.config.gatewayCode),t}},{key:"start",value:function(){var t=this,e=this.payload,r=this.frame=this.recurly.Frame({path:"/paypal/start",payload:e});r.once("done",(function(e){return t.emit("token",e)})),r.once("close",(function(){return t.emit("cancel")})),r.once("error",(function(e){"paypal-cancel"===e.code&&t.emit("cancel"),t.error("paypal-tokenize-error",{cause:e})}))}},{key:"destroy",value:function(){this.frame&&this.frame.destroy(),this.off()}}],r&&nn(e.prototype,r),n&&nn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(en);function ln(t,e){un("start");var r=this.Frame({path:"/paypal/start",payload:t});r.once("error",(function(t){return e(t)})),r.once("done",(function(t){return e(null,t)}))}var fn=r(9090),pn=r.n(fn);function yn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,r=0;return function(){return r++&&r===t&&e()}}function dn(t){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(t)}function hn(){return hn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hn.apply(this,arguments)}function bn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==dn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===dn(i)?i:String(i)),n)}var o,i}function vn(){return vn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},vn.apply(this,arguments)}function mn(t,e){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mn(t,e)}function gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wn(t);if(e){var o=wn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function wn(t){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wn(t)}var On=r(1227)("recurly:paypal:strategy:braintree"),jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mn(t,e)}(i,t);var e,r,n,o=gn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).load(),t}return e=i,r=[{key:"configure",value:function(t){if(vn(wn(i.prototype),"configure",this).call(this,t),!t.braintree||!t.braintree.clientAuthorization)throw this.error("paypal-config-missing",{opt:"braintree.clientAuthorization"});this.config.clientAuthorization=t.braintree.clientAuthorization}},{key:"load",value:function(){var t=this;On("loading Braintree libraries");var e=yn(2,(function(){return t.initialize()})),r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="https://js.braintreegateway.com/web/".concat(ae.Q,"/js/").concat(e,".min.js");pn()(n,(function(e){e?t.error("paypal-load-error",{cause:e}):r()}))},n=function(){t.braintreeClientAvailable("paypal")?e():r("paypal",e),t.braintreeClientAvailable("dataCollector")?e():r("data-collector",e)};this.braintreeClientAvailable()?n():r("client",n)}},{key:"initialize",value:function(){var t=this;On("Initializing Braintree client");var e=this.config.clientAuthorization,r=window.braintree;r.client.create({authorization:e},(function(e,n){if(e)return t.fail("paypal-braintree-api-error",{cause:e});On("Braintree client created"),r.dataCollector.create({client:n,paypal:!0},(function(e,o){if(e)return t.fail("paypal-braintree-api-error",{cause:e});On("Device data collector created"),t.deviceFingerprint=o.deviceData,r.paypal.create({client:n},(function(e,r){if(e)return t.fail("paypal-braintree-api-error",{cause:e});On("PayPal client created"),t.paypal=r,t.emit("ready")}))}))}))}},{key:"start",value:function(){var t=this,e=hn({},this.config.display,{flow:"vault"}),r=this.paypal.tokenize(e,(function(e,r){if(e)return"PAYPAL_POPUP_CLOSED"===e.code?t.emit("cancel"):t.error("paypal-braintree-tokenize-braintree-error",{cause:e});On("Token payload received",r),t.deviceFingerprint&&(r.deviceFingerprint=t.deviceFingerprint),t.recurly.request.post({route:"/paypal/token",data:{type:"braintree",payload:r},done:function(e,r){if(e)return t.error("paypal-braintree-tokenize-recurly-error",{cause:e});t.emit("token",r)}})})),n=r.close;this.close=n}},{key:"destroy",value:function(){this.close&&this.close(),this.off()}},{key:"braintreeClientAvailable",value:function(t){var e=window.braintree;return e&&e.client&&e.client.VERSION===ae.Q&&(!t||t in e)}}],r&&bn(e.prototype,r),n&&bn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(en);function Pn(t){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(t)}function Sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Pn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Pn(i)?i:String(i)),n)}var o,i}function _n(t,e){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_n(t,e)}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=En(t);if(e){var o=En(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function En(t){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},En(t)}var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_n(t,e)}(i,t);var e,r,n,o=kn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).emit("ready"),t}return e=i,r=[{key:"start",value:function(){var t=this,e=this.frame=this.recurly.Frame({path:"/paypal_complete/start"});e.once("done",(function(e){return t.emit("token",e)})),e.once("close",(function(){return t.emit("cancel")})),e.once("error",(function(e){"paypal-cancel"===e.code&&t.emit("cancel"),t.error("paypal-tokenize-error",{cause:e})}))}},{key:"destroy",value:function(){this.frame&&this.frame.destroy(),this.off()}}],r&&Sn(e.prototype,r),n&&Sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(en);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function Rn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Cn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Cn(i)?i:String(i)),n)}var o,i}function An(t,e){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},An(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Nn(t);if(e){var o=Nn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}(this,r)}}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nn(t)}function Dn(){return Dn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dn.apply(this,arguments)}var Fn=r(1227)("recurly:paypal");function Ln(t){return t=Dn({},t,{recurly:this}),new Bn(t)}var Mn=["ready","token","error","cancel"],Bn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&An(t,e)}(i,t);var e,r,n,o=Tn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).isReady=!1,e.options=t,e.once("ready",(function(){return e.isReady=!0})),t.braintree?(e.strategy=new jn(t),e.strategy.onFail(e.fallback.bind(In(e)))):t.payPalComplete?e.strategy=new xn(t):e.strategy=new sn(t),e.bindStrategy(),e}return e=i,r=[{key:"ready",value:function(t){this.isReady?t():this.once("ready",t)}},{key:"start",value:function(){var t;return(t=this.strategy).start.apply(t,arguments)}},{key:"destroy",value:function(){var t=this.strategy;t&&(t.destroy(),delete this.strategy),this.off()}},{key:"fallback",value:function(){var t=this;Fn("Initializing strategy fallback");var e=Dn({},this.options);delete e.braintree,this.strategy=new sn(e),this.bindStrategy(),this.strategy.ready((function(){return t.emit("ready")}))}},{key:"bindStrategy",value:function(){var t=this;Mn.forEach((function(e){return t.strategy.on(e,t.emit.bind(t,e))}))}}],r&&Rn(e.prototype,r),n&&Rn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u());function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}function zn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==qn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===qn(i)?i:String(i)),n)}var o,i}function Un(t,e){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Un(t,e)}function Zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Gn(t);if(e){var o=Gn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}var Wn=r(1227)("recurly:paypal:strategy"),Vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Un(t,e)}(i,t);var e,r,n,o=Zn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).isReady=!1,e.config={},e.once("ready",(function(){return e.isReady=!0})),e.configure(t[0]),e}return e=i,r=[{key:"ready",value:function(t){this.isReady?t():this.once("ready",t)}},{key:"configure",value:function(t){if(!(t.recurly instanceof Ja))throw this.error("venmo-factory-only");this.recurly=t.recurly}},{key:"initialize",value:function(){Wn("Method 'initialize' not implemented")}},{key:"start",value:function(){Wn("Method 'start' not implemented")}},{key:"cancel",value:function(){this.emit("cancel")}},{key:"onFail",value:function(t){this.failure?t():this.once("fail",t)}},{key:"fail",value:function(t,e){if(!this.failure){Wn("Failure scenario encountered",t,e);var r=this.failure=this.error(t,e);this.emit("fail",r)}}},{key:"error",value:function(){var t=(arguments.length<=0?void 0:arguments[0])instanceof Error?arguments.length<=0?void 0:arguments[0]:p.Z.apply(void 0,arguments);return this.emit("error",t),t}},{key:"updatePriceFromPricing",value:function(){this.config.display.amount=this.pricing.totalNow,this.config.display.currency=this.pricing.currencyCode}}],r&&zn(e.prototype,r),n&&zn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u());function Hn(t){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(t)}function $n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(r),!0).forEach((function(e){Jn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Jn(t,e,r){return(e=Qn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qn(n.key),n)}}function Qn(t){var e=function(t,e){if("object"!==Hn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Hn(e)?e:String(e)}function Xn(){return Xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ro(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Xn.apply(this,arguments)}function to(t,e){return to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},to(t,e)}function eo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ro(t);if(e){var o=ro(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ro(t){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(t)}var no=r(1227)("recurly:paypal:strategy:braintree"),oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&to(t,e)}(i,t);var e,r,n,o=eo(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call(this,r)).load(r[0]),t}return e=i,r=[{key:"configure",value:function(t){if(Xn(ro(i.prototype),"configure",this).call(this,t),!t.braintree||!t.braintree.clientAuthorization)throw this.error("venmo-config-missing",{opt:"braintree.clientAuthorization"});this.config.clientAuthorization=t.braintree.clientAuthorization,this.config.allowDesktopWebLogin=!!t.braintree.webAuthentication&&t.braintree.webAuthentication}},{key:"load",value:function(t){var e=this,r=t.form;no("loading Braintree libraries"),this.form=r;var n=yn(2,(function(){return e.initialize()})),o=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="https://js.braintreegateway.com/web/".concat(ae.Q,"/js/").concat(t,".min.js");pn()(n,(function(t){t?e.error("venmo-load-error",{cause:t}):r()}))},i=function(){e.braintreeClientAvailable("venmo")?n():o("venmo",n),e.braintreeClientAvailable("dataCollector")?n():o("data-collector",n)};this.braintreeClientAvailable()?i():o("client",i)}},{key:"initialize",value:function(){var t=this;no("Initializing Braintree client");var e=this.config.clientAuthorization,r=window.braintree,n=this.config.allowDesktopWebLogin;r.client.create({authorization:e},(function(e,o){if(e)return t.fail("venmo-braintree-api-error",{cause:e});no("Braintree client created"),r.dataCollector.create({client:o,paypal:!0},(function(e,i){if(e)return t.fail("venmo-braintree-api-error",{cause:e});no("Device data collector created"),t.deviceFingerprint=i.deviceData,r.venmo.create({client:o,allowDesktop:!0,allowDesktopWebLogin:n,paymentMethodUsage:"multi_use",collectCustomerBillingAddress:!0,collectCustomerShippingAddress:!0},(function(e,r){if(e)return t.fail("venmo-braintree-api-error",{cause:e});no("Venmo client created"),t.venmo=r,t.emit("ready")}))}))}))}},{key:"handleVenmoError",value:function(t){return no("Venmo error",t),this.emit("cancel"),this.error("venmo-braintree-tokenize-braintree-error",{cause:t})}},{key:"handleVenmoSuccess",value:function(t){var e=this,r=(0,y.F)(this.form,["first_name","last_name"]);this.deviceFingerprint&&(t.deviceFingerprint=this.deviceFingerprint),this.recurly.request.post({route:"/venmo/token",data:{type:"braintree",payload:Kn(Kn({},t),{},{values:r.values})},done:function(t,r){if(t)return e.error("venmo-braintree-tokenize-recurly-error",{cause:t});e.emit("token",r)}})}},{key:"start",value:function(){this.venmo.tokenize().then(this.handleVenmoSuccess.bind(this)).catch(this.handleVenmoError.bind(this))}},{key:"destroy",value:function(){this.close&&this.close(),this.off()}},{key:"braintreeClientAvailable",value:function(t){var e=window.braintree;return e&&e.client&&e.client.VERSION===ae.Q&&(!t||t in e)}}],r&&Yn(e.prototype,r),n&&Yn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Vn);function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function ao(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==io(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===io(i)?i:String(i)),n)}var o,i}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},co(t,e)}function uo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=so(t);if(e){var o=so(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function so(t){return so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},so(t)}function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lo.apply(this,arguments)}function fo(t){return t=lo({},t,{recurly:this}),new yo(t)}var po=["ready","token","error","cancel"],yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(i,t);var e,r,n,o=uo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).isReady=!1,e.options=t,e.once("ready",(function(){return e.isReady=!0})),e.strategy=new oo(t),e.bindStrategy(),e}return e=i,r=[{key:"ready",value:function(t){this.isReady?t():this.once("ready",t)}},{key:"start",value:function(){var t;return(t=this.strategy).start.apply(t,arguments)}},{key:"destroy",value:function(){var t=this.strategy;t&&(t.destroy(),delete this.strategy),this.off()}},{key:"bindStrategy",value:function(){var t=this;po.forEach((function(e){return t.strategy.on(e,t.emit.bind(t,e))}))}}],r&&ao(e.prototype,r),n&&ao(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u()),ho=r(5906);function bo(t){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(t)}function vo(){vo=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:O(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function y(){}function d(){}var h={};u(h,i,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(k([])));v&&v!==e&&r.call(v,i)&&(h=v);var m=d.prototype=p.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=l(t[n],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==bo(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=j(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:y,configurable:!0}),y.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),u(m,c,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function mo(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function go(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==bo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==bo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===bo(i)?i:String(i)),n)}var o,i}function wo(t,e){return wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wo(t,e)}function Oo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=jo(t);if(e){var o=jo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function jo(t){return jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jo(t)}var Po=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wo(t,e)}(c,t);var e,r,n,o,i,a=Oo(c);function c(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(r=a.call(this)).recurly=t,r.options=e,r.region=r.options.region||"us",r.setLocaleAndCurrency(),r.start(),r}return e=c,r=[{key:"start",value:(o=vo().mark((function t(){return vo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([this.loadExternalLibraries(),this.obtainMerchantId(this.recurly)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),this.error(t.t0);case 8:case"end":return t.stop()}}),t,this,[[0,5]])})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){mo(i,r,n,a,c,"next",t)}function c(t){mo(i,r,n,a,c,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"obtainMerchantId",value:function(){var t=this;this.recurly.request.get({route:"/amazon_pay/button_render"}).then((function(e){t.options.merchantId=e.merchant_id}))}},{key:"scriptUrl",value:function(){switch(this.options.region){case"uk":case"eu":return"https://static-eu.payments-amazon.com/checkout.js";case"us":return"https://static-na.payments-amazon.com/checkout.js"}}},{key:"loadExternalLibraries",value:function(){var t=this;return new Promise((function(e,r){var n=document.createElement("script");n.src=t.scriptUrl(),n.onload=function(){t.emit("ready")},n.onerror=r,document.head.appendChild(n)}))}},{key:"renderButton",value:function(t){var e=this;return new Promise((function(r,n){var o=document.createElement("script");o.innerHTML="const button = amazon.Pay.renderButton('#".concat(t,"', {\n        merchantId: '").concat(e.options.merchantId,"',\n        ledgerCurrency: '").concat(e.options.currency,"',\n        checkoutLanguage: '").concat(e.options.locale,"',\n        productType: 'PayOnly',\n        placement: 'Other',\n        sandbox: ").concat(e.options.sandbox,",\n        buttonColor: 'Gold',\n      });"),o.onload=r,o.onerror=n,document.head.appendChild(o)}))}},{key:"attach",value:function(){var t=this,e=this.options.gatewayCode||"";this.frame=this.recurly.Frame({path:"/amazon_pay/start?region=".concat(this.region,"&gateway_code=").concat(e),type:Vr.R.TYPES.WINDOW,defaultEventName:"amazon-pay"}).on("error",(function(e){return t.emit("error",e)})).on("close",(function(){return t.emit("error","closed")})).on("done",(function(e){return t.emit("token",e)}))}},{key:"setLocaleAndCurrency",value:function(){switch(this.options.region){case"uk":this.options.currency="GBP",this.options.locale="en_GB";break;case"eu":this.options.currency="EUR",this.options.locale="en_GB";break;case"us":this.options.currency="USD",this.options.locale="en_US"}}}],r&&go(e.prototype,r),n&&go(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(u()),So=Po;function _o(t){return new So(this,t)}var ko=r(11),Eo=r(2787);function xo(t){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(t)}function Co(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==xo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===xo(i)?i:String(i)),n)}var o,i}function Ro(t,e){return Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ro(t,e)}function Ao(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Io(t);if(e){var o=Io(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return To(t)}(this,r)}}function To(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Io(t){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(t)}var No=r(1227)("recurly:fraud"),Do=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ro(t,e)}(i,t);var e,r,n,o=Ao(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),No("initializing fraud object"),(e=o.call(this)).recurly=t,e.dataCollectorInitiated=!1,e.attachedNodes=[],t.ready(e.getCollectorProfiles.bind(To(e))),e.activateProfiles=e.activateProfiles.bind(To(e)),e}return e=i,(r=[{key:"shouldCollectKountData",get:function(){return!!this.recurly.config.fraud.kount.dataCollector}},{key:"udfParams",get:function(){var t=this.recurly.config.fraud.kount.udf||{};return Object.keys(t).map((function(e){return{label:e,value:t[e]}}))}},{key:"params",value:function(t){var e,r=this.recurly.config.fraud,n=[];No("creating fraud params",t,r),r.kount.dataCollector&&t.fraud_session_id&&n.push({processor:"kount",session_id:t.fraud_session_id,udf:this.udfParams}),r.litle.sessionId&&n.push({processor:"litle_threat_metrix",session_id:r.litle.sessionId}),r.braintree.deviceData&&n.push({processor:"braintree",session_id:r.braintree.deviceData});var o=null===(e=this.profiles)||void 0===e?void 0:e.find((function(t){return"fraudnet"===t.processor}));return o&&n.push({processor:"fraudnet",session_id:o.params.session_id}),n}},{key:"getCollectorProfiles",value:function(){var t=this;this.dataCollectorInitiated||(this.dataCollectorInitiated=!0,this.recurly.request.get({route:"/risk/info",done:function(e,r){if(No("risk info",e,r),e)return No("error detected",e),void(t.shouldCollectKountData&&t.emit("error",(0,p.Z)("fraud-data-collector-request-failed",{error:e})));var n=r.profiles;No("preparing to activate profiles",n),t.profiles=n,t.activateProfiles()}}))}},{key:"activateProfiles",value:function(){var t=this;this.profiles?(No("setting profiles",this.profiles),this.profiles.forEach((function(e){var r=e.processor,n=e.params;"kount"===r&&t.shouldCollectKountData?(No("enabling kount profile",n),t.activateKountProfile(n)):"fraudnet"===r&&(No("enabling fraudnet profile"),t.activateFraudnetProfile(n))}))):No("no profiles available",this.profiles)}},{key:"activateKountProfile",value:function(t){var e=this;No("activating Kount profiles");var r=this.recurly.config.fraud.kount.form,n=je().createHiddenInput({"data-recurly":"fraud_session_id",value:t.session_id,type:"hidden"});No("kount configured form",r);var o=document.createElement("script");o.setAttribute("src",t.script_url),o.onload=function(){if(!window.ka)return No("kount integration failed, no SDK attached"),e.emit("error",(0,p.Z)("fraud-data-collector-request-failed",{error:"Kount SDK failed to load."}));No("initializing kount SDK"),(new ka.ClientSDK).autoLoadEvents()};var i=document.createElement("div");i.className="kaxsdc",i.setAttribute("data-event","load");var a=je().element(r)||this.getHostedFieldParentForm();if(a){No("form",a);var c=[n,o,i];c.forEach((function(t){return a.appendChild(t)})),this.attachedNodes=c,No("nodes attached",this.attachedNodes,a)}else No("no form available, kount activation skipped",a);this.emit("ready")}},{key:"activateFraudnetProfile",value:function(t){var e=document.createElement("iframe");e.setAttribute("id","fraudnet-iframe"),e.setAttribute("style","display:none;"),document.body.appendChild(e);var r=document.createElement("script");r.setAttribute("id","fraudnet-params"),r.setAttribute("type","application/json"),r.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"),r.innerHTML=JSON.stringify({f:t.session_id,s:t.page_identifier,sandbox:t.sandbox});var n=document.createElement("script");n.setAttribute("id","fraudnet-script"),n.setAttribute("src",t.script_url),e.contentWindow.document.head.appendChild(r),e.contentWindow.document.head.appendChild(n),this.attachedNodes.push(e),this.emit("ready")}},{key:"getHostedFieldParentForm",value:function(){if(this._form)return this._form;var t=this.recurly.config.fields;No("form fields",t);var e,r=Object.keys(t).map((function(e){return t[e].selector})).filter(Boolean);if(G()(r,(function(t){var r=je().findNodeInParents(window.document.querySelector(t),"form");je().element(r)&&(No("found form",r),e=r)})),e)return this._form=e;var n=(0,p.Z)("fraud-data-collector-missing-form",{selectors:r});No("no form found, emitting error",n),this.emit("error",n)}},{key:"destroy",value:function(){this.attachedNodes.forEach((function(t){t.parentElement&&t.parentElement.removeChild(t)}))}}])&&Co(e.prototype,r),n&&Co(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u()),Fo=r(4760),Lo=r.n(Fo);function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bo.apply(this,arguments)}function qo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Mo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Mo(i)?i:String(i)),n)}var o,i}function zo(t,e){return zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zo(t,e)}function Uo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Go(t);if(e){var o=Go(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zo(t)}(this,r)}}function Zo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Go(t){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(t)}var Wo=r(5470),Vo=r(1227)("recurly:hostedField"),Ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zo(t,e)}(a,t);var r,n,o,i=Uo(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).onReady=e.onReady.bind(Zo(e)),e.onChange=e.onChange.bind(Zo(e)),e.onConfigure=e.onConfigure.bind(Zo(e)),e.onStateChange=e.onStateChange.bind(Zo(e)),e.focus=e.focus.bind(Zo(e)),e.destroy=e.destroy.bind(Zo(e)),e.ready=!1,e.state={},e.configure(t),e.inject(),e.bindDeferredFocus(),e.on("bus:added",(function(t){e.bus=t,e.bus.add(e.window)})),e.on("hostedField:ready",e.onReady),e.on("hostedField:change",e.onChange),e.on("hostedField:configure",e.onConfigure),e.on("hostedField:state:change",e.onStateChange),e.once("destroy",e.destroy),e}return r=a,(n=[{key:"type",get:function(){return this.config.type}},{key:"url",get:function(){var t=encodeURIComponent(JSON.stringify(this.config));return"".concat(this.config.recurly.api,"/field.html#config=").concat(t)}},{key:"classList",get:function(){var t="recurly-hosted-field",e=[t];return this.ready&&(e.push("".concat(t,"-").concat(this.config.type)),this.state.focus&&(e.push("".concat(t,"-focus")),e.push("".concat(t,"-").concat(this.config.type,"-focus"))),this.state.valid?(e.push("".concat(t,"-valid")),e.push("".concat(t,"-").concat(this.config.type,"-valid"))):this.state.focus||this.state.empty||(e.push("".concat(t,"-invalid")),e.push("".concat(t,"-").concat(this.config.type,"-invalid")))),e.join(" ")}},{key:"tabIndex",get:function(){var t=parseInt(this.config.tabIndex,10);return isNaN(t)?0:t}},{key:"integrityCheck",value:function(){var t=[this.target,this.container,this.iframe],e=document.body.contains.bind(document.body);return!~t.map(e).indexOf(!1)}},{key:"configure",value:function(t){if(t=e()(t),this.target||(this.target=je().element(window.document.querySelector(t.selector))),!this.target){var r=t,n=r.type,o=r.selector;throw(0,p.Z)("missing-hosted-field-target",{type:n,selector:o})}this.config=t}},{key:"inject",value:function(){this.target.innerHTML='\n      <div class="'.concat(this.classList,'">\n        <iframe\n          src="').concat(this.url,'"\n          allowtransparency="true"\n          border="0"\n          frameborder="0"\n          scrolling="no"\n          style="background: transparent; width: 100%; height: 100%;">\n        </iframe>\n      </div>\n    '),this.container=this.target.children[0],this.iframe=this.container.querySelector("iframe"),this.window=this.iframe.contentWindow,this.iframeTitle&&this.iframe.setAttribute("title",this.iframeTitle),(Wo.mobile||Wo.tablet)&&(this.tabbingProxy=je().createHiddenInput(),this.tabbingProxy.addEventListener("focus",this.focus),this.container.insertBefore(this.tabbingProxy,this.iframe))}},{key:"bindDeferredFocus",value:function(){var t=this;if(this.container.addEventListener("click",this.focus),this.target.id){var e=window.document.querySelectorAll("label[for=".concat(this.target.id,"]"));[].slice.apply(e).forEach((function(e){e.addEventListener("click",t.focus)}))}}},{key:"destroy",value:function(){Vo("destroying ".concat(this.type," hosted field"),this),this.off(),this.bus&&(this.bus.remove(this.window),this.bus.remove(this)),this.target&&(this.target.innerHTML=""),delete this.target,delete this.container,delete this.iframe,delete this.window}},{key:"iframeTitle",get:function(){var t,e;return"card"===this.config.type?"Billing information":null!==(t=this.config.style)&&void 0!==t&&null!==(e=t.placeholder)&&void 0!==e&&e.content?this.config.style.placeholder.content:null}},{key:"update",value:function(){this.container.className=this.classList,this.iframe.setAttribute("tabindex",this.tabIndex)}},{key:"onReady",value:function(t){t.type===this.type&&(this.ready=!0,this.off("hostedField:ready",this.onReady),this.update())}},{key:"onStateChange",value:function(t){if(t.type===this.type){var e=Bo({},t);delete e.type,this.state=e,this.update()}}},{key:"onChange",value:function(t){t.type===this.type&&this.update()}},{key:"onConfigure",value:function(t){t.type===this.type&&(this.configure(t),this.update())}},{key:"focus",value:function(){this.bus&&this.bus.send("hostedField:".concat(this.type,":focus!"))}}])&&qo(r.prototype,n),o&&qo(r,o),Object.defineProperty(r,"prototype",{writable:!1}),a}(u());function $o(t){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ko.apply(this,arguments)}function Jo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==$o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===$o(i)?i:String(i)),n)}var o,i}function Yo(t,e){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yo(t,e)}function Qo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ti(t);if(e){var o=ti(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===$o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xo(t)}(this,r)}}function Xo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ti(t){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ti(t)}var ei=r(1227)("recurly:hostedFields"),ri=["number","month","year","cvv","card"],ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yo(t,e)}(c,t);var r,n,i,a=Qo(c);function c(t){var e,r=t.recurly;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this)).ready=!1,e.state={},e.fields=[],e.errors=[],e.initQueue=[],e.recurly=r,e.configure(r.sanitizedConfig),e.inject(),e.on("hostedFields:configure",(function(t){e.configure(t.recurlyConfig),e.fields.forEach((function(t){e.bus&&e.bus.send("hostedField:configure",e.fieldConfig(t.type))}))})),e.on("hostedField:ready",e.onReady.bind(Xo(e))),e.on("hostedField:tab:previous",(function(t){return e.onTab("previous",t)})),e.on("hostedField:tab:next",(function(t){return e.onTab("next",t)})),e.on("hostedField:state:change",e.update.bind(Xo(e))),e.on("bus:added",(function(t){e.bus=t,e.fields.forEach((function(e){return t.add(e)}))})),e.once("destroy",e.destroy.bind(Xo(e))),e}return r=c,(n=[{key:"integrityCheck",value:function(t){var e=this;return!!this.ready&&(0!==this.fields.length&&((!t||Object.keys(t).map((function(e){return t[e].selector})).join("")===Object.keys(this.config.recurly.fields).map((function(t){return e.config.recurly.fields[t].selector})).join(""))&&!~this.fields.map((function(t){return t.integrityCheck()})).indexOf(!1)))}},{key:"inject",value:function(){var t=this;ri.forEach((function(e){try{t.fields.push(new Ho(t.fieldConfig(e))),t.initQueue.push(e)}catch(r){if("missing-hosted-field-target"!==r.name)throw r;~["number","month","year","card"].indexOf(e)&&t.errors.push(r)}})),this.errors.some((function(t){return"card"===t.type}))?1===this.errors.filter((function(t){return"missing-hosted-field-target"===t.name})).length&&(this.errors=this.errors.filter((function(t){return!("missing-hosted-field-target"===t.name&&"card"===t.type)}))):this.errors=this.errors.filter((function(t){return"missing-hosted-field-target"!==t.name}))}},{key:"configure",value:function(t){this.config={recurly:e()(t||{})}}},{key:"destroy",value:function(){ei("destroying HostedFields"),this.off(),this.ready=!1,this.fields.forEach((function(t){return t.destroy()})),this.bus&&this.bus.remove(this),this.fields=[],this.errors=[],this.initQueue=[],delete this.recurly}},{key:"onReady",value:function(t){var e=this.initQueue.indexOf(t.type);~e&&this.initQueue.splice(e,1),0===this.initQueue.length&&(this.off("hostedField:ready",this.onReady),this.bus.send("hostedFields:ready"),this.ready=!0),this.update(t)}},{key:"onTab",value:function(t,e){var r=this.getFieldByType(e.type);if(r instanceof Ho){var n=this.tabbableItems(),o=n.indexOf(r.tabbingProxy),i="previous"===t?n[o-1]:n[o+1];i&&i.focus()}}},{key:"tabbableItems",value:function(){var t=this.fields.map((function(t){return t.iframe}));return Lo()(window.document.body).filter((function(e){return!~t.indexOf(e)}))}},{key:"update",value:function(t){var e=Ko({},t);delete e.type,this.state[t.type]=e,this.ready&&this.bus.send("hostedFields:state:change",this.state)}},{key:"fieldConfig",value:function(t){var e=this.config.recurly.fields,r=e[t],n=this.recurly.bus.groupId,i=this.config,a=i.deviceId,c=i.sessionId,u=r.displayIcon,s=r.inputType,l=r.selector;if(e[t])return{type:t,deviceId:a,sessionId:c,busGroupId:n,displayIcon:u,inputType:s,selector:l,format:"boolean"==typeof r.format?r.format:e.all.format,recurly:this.config.recurly,style:(0,o.Z)({},e.all.style,r.style),tabIndex:"number"==typeof e.all.tabIndex?e.all.tabIndex:r.tabIndex}}},{key:"getFieldByType",value:function(t){return this.fields.filter((function(e){return e.config.type===t}))[0]}}])&&Jo(r.prototype,n),i&&Jo(r,i),Object.defineProperty(r,"prototype",{writable:!1}),c}(u()),oi=r(2658),ii=r.n(oi),ai=r(365),ci=r.n(ai),ui=r(129),si=r.n(ui);function li(t){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(t)}function fi(){return fi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fi.apply(this,arguments)}function pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,di(n.key),n)}}function yi(t,e,r){return(e=di(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function di(t){var e=function(t,e){if("object"!==li(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==li(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===li(e)?e:String(e)}var hi=r(1227)("recurly:Request"),bi=function(){var t=window.XMLHttpRequest,e=window.XDomainRequest;return t&&"withCredentials"in new t?t:e||void 0}(),vi=function(){},mi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.recurly=e.recurly,this.cache={}}var e,r,n;return e=t,r=[{key:"timeout",get:function(){return this.recurly.config.timeout||6e4}},{key:"key",get:function(){return this.recurly.config.publicKey}},{key:"version",get:function(){return this.recurly.isParent?this.recurly.version:this.recurly.config.parentVersion}},{key:"deviceId",get:function(){return this.recurly.deviceId}},{key:"instanceId",get:function(){return this.recurly.id}},{key:"sessionId",get:function(){return this.recurly.sessionId}},{key:"shouldUseXHR",get:function(){return!!this.recurly.config.cors}},{key:"isConfigured",get:function(){return!!this.recurly.configured}},{key:"get",value:function(t){var e=t.route,r=t.data,n=t.done,o=t.cached;return this.requestWithCallback({method:"get",route:e,data:r,done:n,cached:o})}},{key:"post",value:function(t){var e=t.route,r=t.data,n=t.done,o=t.cached;return this.requestWithCallback({method:"post",route:e,data:r,done:n,cached:o})}},{key:"requestWithCallback",value:function(t){var e=t.method,r=t.route,n=t.data,o=t.done,i=t.cached,a=this[void 0!==i&&i?"cached":"request"]({method:e,route:r,data:n});return o?a.done((function(t){return o(null,t)}),(function(t){return o(t,null)})):a}},{key:"request",value:function(t){var e=t.method,r=t.route,n=t.data,i=void 0===n?{}:n;if(hi("request",e,r,i),!this.isConfigured)return V().reject((0,p.Z)("not-configured"));var a=this.version,c=this.key,u=this.deviceId,s=this.sessionId,l=this.instanceId,f=this.recurly.url(r);return i=(0,o.Z)({},i,{version:a,key:c,deviceId:u,sessionId:s,instanceId:l}),this.shouldUseXHR?this.xhr({method:e,url:f,data:i}):this.jsonp({method:e,url:f,data:i})}},{key:"cached",value:function(t){var e=t.method,r=t.route,n=t.data,o=this.cache,i="".concat(e,"-").concat(r,"-").concat(JSON.stringify(n));return o[i]?V().resolve(o[i]):this.request({method:e,route:r,data:n}).then((function(t){return o[i]=t}))}},{key:"queued",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.isConfigured?this.request.apply(this,r):new(V())((function(e,n){t.recurly.once("configured",(function(){return t.request.apply(t,r).then(e,n)}))}))}},{key:"piped",value:function(t){var e=this,r=t.method,n=void 0===r?"get":r,o=t.route,i=t.data,a=void 0===i?{}:i,c=t.by,u=t.size,s=void 0===u?100:u,l=ii()(a[c],s).map((function(t){return fi({},a,yi({},c,t))}));if(0===l.length)return this.request({method:n,route:o,data:a});var f=function(t){return"not-found"===t.code?{error:t}:V().reject(t)},p=l.map((function(t){return e.request({method:n,route:o,data:t}).catch(f)}));return V().all(p).then((function(t){var e=t.filter((function(t){return!t.error}));if(0===e.length)return V().reject(t[0].error);var r=e.filter((function(t){return!Array.isArray(t)}))[0];return r?V().resolve(r):V().resolve(e.reduce((function(t,e){return t.concat(e)})))}))}},{key:"xhr",value:function(t){var e=this,r=t.method,n=t.url,o=t.data,i=function(){var t;return(t=e.recurly).error.apply(t,arguments)};return new(V())((function(t,a){var c=new bi,u=si().stringify(o,{encodeValuesOnly:!0}),s=e.timeout;"get"===r&&(n+="?".concat(u)),c.open(r,n),c.timeout=s,c.ontimeout=function(){return a(i("api-timeout"))},c.onerror=function(){return a(i("api-error"))},c.onprogress=vi,c.onload=function(){var e;try{this.responseText&&(e=JSON.parse(this.responseText))}catch(t){return hi(t,this.responseText),a(i("api-error",{message:"There was a problem parsing the API response.\n              request:\n                url: ".concat(r," ").concat(n,"\n                body: ").concat(o,"\n              response:\n                body: ").concat(this.responseText)}))}e&&e.error?a(i("api-error",e.error)):t(e)},e.recurly.config.hostname&&c.setRequestHeader&&c.setRequestHeader("Recurly-Credential-Checkout-Hostname",e.recurly.config.hostname),setTimeout((function(){"post"===r||"put"===r?(c.setRequestHeader&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(u)):c.send()}),0)}))}},{key:"jsonp",value:function(e){var r=e.method,n=e.url,o=e.data,i=this.timeout,a=this.recurly;return"post"===r&&(o._method=r),n+="?".concat(si().stringify(o,{encodeValuesOnly:!0})),new(V())((function(e,r){t.makeJsonpRequest(n,{prefix:"__rjs",timeout:i},(function(t,n){if(t)return r(t);n.error?r(a.error("api-error",n.error)):e(n)}))}))}}],r&&pi(e.prototype,r),n&&pi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();yi(mi,"makeJsonpRequest",ci());var gi=r(1227)("recurly:web-storage"),wi="__recurly__",Oi={local:function(){return window.localStorage},session:function(){return window.sessionStorage}},ji={setItem:function(t,e){return this[t]=e},getItem:function(t){return t in this?this[t]:null}},Pi=function(t){return"".concat(wi,".").concat(t)};function Si(t){var e=t.scope,r=void 0===e?"local":e,n=t.key,o=t.otherwise,i=ki(r).getItem(Pi(n));return null!==i||~[null,void 0].indexOf(o)||(i=o,ki(r).setItem(Pi(n),i)),i}function _i(t){var e=t.scope,r=void 0===e?"local":e,n=t.key,o=t.value;return ki(r).setItem(Pi(n),o),ki(r).getItem(Pi(n))}function ki(t){try{var e=Oi[t]();return e.setItem(wi,wi),e.removeItem(wi),e}catch(t){return gi("Web storage is not available due to",t),ji}}var Ei=r(5302),xi=r.n(Ei),Ci=r(9332),Ri=r.n(Ci);function Ai(t){"number"==typeof this[t]&&(this[t]=et(this[t]))}function Ti(t){return+(((t=Math.max(t,0))<0?-1:1)*Math.round(Math.abs(t)+"e+2")+"e-2")}function Ii(t,e,r){var n;return null===(n=function(t,e,r){var n=t.tiers;return null==n?void 0:n.map((function(o,i){var a=0===i,c=a?null:n[i-1],u=o.ending_quantity,s=o.currencies.filter((function(t){return t.currency_code===r}))[0];if(void 0===s)return null;var l,f=s.unit_amount;l=a?1:c.ending_quantity+1;var p=parseFloat(e);if(p<l)return null;var y=0;switch(t.tier_type){case"tiered":y=(p>=u?u-l+1:p-l+1)*f;break;case"volume":p<=u&&(y=p*f);break;case"stairstep":e&&e<=u&&(y=f)}return y}))}(t,e,r))||void 0===n?void 0:n.reduce((function(t,e){return e&&(t+=e),t}),0)}function Ni(t){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}function Di(){return Di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Di.apply(this,arguments)}function Fi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Ni(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ni(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ni(i)?i:String(i)),n)}var o,i}var Li=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pricing=e,this.items=e.items,this.price={now:{},next:{},base:{plan:{},addons:{}},addons:{},currency:{code:this.pricing.currencyCode,symbol:this.pricing.currencySymbol},taxes:[]},this.subtotal(),this.tax((function(){this.total(),this.giftCard(),Ri()(this.price.base.plan,Ai,this.price.base.plan),Ri()(this.price.base.addons,Ai,this.price.base.addons),Ri()(this.price.addons,Ai,this.price.addons),Ri()(this.price.now,Ai,this.price.now),Ri()(this.price.next,Ai,this.price.next),r(this.price)}))}var e,r,n;return e=t,r=[{key:"subtotal",value:function(){this.price.now.subtotal=0,this.price.next.subtotal=0,this.plan(),this.price.now.subtotal+=this.price.now.plan,this.price.next.subtotal+=this.price.next.plan,this.addons(),this.price.now.subtotal+=this.price.now.addons,this.price.next.subtotal+=this.price.next.addons,this.setupFee(),this.discount(),this.price.now.subtotal-=this.price.now.discount,this.price.next.subtotal-=this.price.next.discount,this.price.now.subtotal+=this.price.now.setup_fee}},{key:"total",value:function(){this.price.now.total=this.price.now.subtotal+this.price.now.tax,this.price.next.total=this.price.next.subtotal+this.price.next.tax}},{key:"tax",value:function(t){var e=this;if(this.price.now.tax=0,this.price.next.tax=0,this.items.tax&&this.items.tax.amount)return this.price.now.tax=Ti(this.items.tax.amount.now),this.price.next.tax=Ti(this.items.tax.amount.next),t.call(this);var r=Di({},this.items.shippingAddress||this.items.address,this.items.tax);ht()(r)?t.call(this):this.pricing.recurly.tax(r,(function(r,n){r?e.pricing.emit("error",r):(e.price.taxes=[],Ri()(n,(function(t){e.pricing.taxExempt||(e.price.now.tax+=parseFloat((e.price.now.subtotal*t.rate).toFixed(6)),e.price.next.tax+=parseFloat((e.price.next.subtotal*t.rate).toFixed(6)),e.price.taxes.push(t))})),e.price.now.tax=Ti(e.price.now.tax),e.price.next.tax=Ti(e.price.next.tax)),t.call(e)}))}},{key:"plan",value:function(){if(this.price.now.plan=0,this.price.next.plan=0,this.items.plan){var t=this.items.plan.price[this.items.currency];this.price.base.plan.unit=t.unit_amount,this.price.base.plan.setup_fee=t.setup_fee;var e=this.planPrice().amount;this.price.now.plan=e,this.price.next.plan=e,this.isTrial()&&(this.price.now.plan=0)}}},{key:"addons",value:function(){var t=this;this.price.now.addons=0,this.price.next.addons=0,this.items.plan&&Array.isArray(this.items.plan.addons)&&this.items.plan.addons.forEach((function(e){var r;if("fixed"===e.add_on_type){var n,o,i,a=(null===(r=G()(t.items.addons,{code:e.code}))||void 0===r?void 0:r.quantity)||0;if("fixed"===(i=e).add_on_type&&"flat"!==i.tier_type){var c=t.pricing.currencyCode;o=Ii(e,a,c),n=function(t,e,r){var n=G()(t.tiers,(function(t){return(e||1)<=t.ending_quantity}));return G()(n.currencies,(function(t){return t.currency_code===r})).unit_amount}(e,a,c)}else o=(n=e.price[t.items.currency].unit_amount)*a;t.price.base.addons[e.code]=n,t.price.addons[e.code]=o,t.isTrial()||(t.price.now.addons+=o),t.price.next.addons+=o}}))}},{key:"discount",value:function(){var t=this.items.coupon;if(this.price.now.discount=0,this.price.next.discount=0,t){if(t.discount.rate){var e=parseFloat((this.price.now.subtotal*t.discount.rate).toFixed(6)),r=parseFloat((this.price.next.subtotal*t.discount.rate).toFixed(6));this.price.now.discount=Math.round(100*e)/100,this.price.next.discount=Math.round(100*r)/100}else if("free_trial"===t.discount.type);else{var n=this.price.now.subtotal+this.price.now.setup_fee,o=this.price.next.subtotal;this.price.now.discount=Math.min(n,t.discount.amount[this.items.currency]),this.price.next.discount=Math.min(o,t.discount.amount[this.items.currency])}t.single_use&&this.price.now.discount>0&&(this.price.next.discount=0)}}},{key:"setupFee",value:function(){this.price.now.setup_fee=this.planPrice().setup_fee,this.price.next.setup_fee=0}},{key:"giftCard",value:function(){if(this.pricing.items.gift_card){var t=this.price.now.total,e=this.price.next.total,r=o(t,this.pricing.items.gift_card.unit_amount),n=o(e,r.remains);this.price.now.gift_card=r.used,this.price.next.gift_card=n.used,this.price.now.total=t-r.used,this.price.next.total=e-n.used}function o(t,e){var r=0,n=0;return e>t?(r=t,n=e-t):r=e,{used:r,remains:n}}}},{key:"planPrice",value:function(){var t=this.items.plan;if(!t)return{amount:0,setup_fee:0};var e=t.price[this.items.currency];return e.amount=e.unit_amount*(t.quantity||1),e}},{key:"isTrial",value:function(){var t=this.items.coupon;return!(!t||"free_trial"!==t.discount.type)||this.items.plan.trial}}],r&&Fi(e.prototype,r),n&&Fi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Mi(t){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(t)}function Bi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Mi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Mi(i)?i:String(i)),n)}var o,i}function qi(t,e){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qi(t,e)}function zi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Zi(t);if(e){var o=Zi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ui(t)}(this,r)}}function Ui(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zi(t){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zi(t)}var Gi=r(1227)("recurly:pricing:attachment"),Wi="init-all",Vi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qi(t,e)}(i,t);var e,r,n,o=zi(i);function i(t,e){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this)).pricing=t,r.container=je().element(e),!r.container)throw new Error("invalid dom element");return r.change=r.change.bind(Ui(r)),r.update=r.update.bind(Ui(r)),r.pricing.on("change",r.update),r.elements.all.forEach((function(t){t.addEventListener("change",r.change),t.addEventListener("propertychange",r.change)})),r.change(Wi),r}return e=i,r=[{key:"elements",get:function(){if(this._elements)return this._elements;var t={all:[].slice.call(this.container.querySelectorAll("[data-recurly]"))};return t.all.forEach((function(e){var r=je().data(e,"recurly");r in t||(t[r]=[]),t[r].push(e)})),this._elements=t,t}},{key:"change",value:function(t){var e=this;Gi("change");var r=this.elements,n=t.target||t.srcElement,o=je().data(n,"recurly"),i=function(e){return e in r&&t===Wi||o===e},a=r.addon&&i("addon"),c=i("country")||i("postal_code"),u=i("currency"),s=r.coupon&&(i("coupon")||i("plan")),l=r.gift_card&&i("gift_card"),f=i("shipping_address.country")||i("shipping_address.postal_code"),p=["vat_number","tax_code","tax_amount.now","tax_amount.next"].some(i),y=this.pricing.plan(je().value(r.plan),{quantity:je().value(r.plan_quantity)});if(u&&(y=y.currency(je().value(r.currency))),a&&(y=y.then((function(){return V().all(r.addon.map((function(t){var r=e.pricing.items.plan,n=je().data(t,"recurlyAddon"),o=je().value(t);if(r.addons&&G()(r.addons,{code:n}))return e.pricing.addon(n,{quantity:o})})))}))),s&&(y=y.coupon(je().value(r.coupon).trim()).then(null,Hi)),l&&(y=y.giftcard(je().value(r.gift_card).trim()).then(null,Hi)),c&&(y=y.address({country:je().value(r.country),postal_code:je().value(r.postal_code)})),f&&(y=y.shippingAddress({country:je().value(r["shipping_address.country"]),postal_code:je().value(r["shipping_address.postal_code"])})),p){var d={vatNumber:je().value(r.vat_number),taxCode:je().value(r.tax_code)};(r["tax_amount.now"]||r["tax_amount.next"])&&(d.amount={now:je().value(r["tax_amount.now"])||0,next:je().value(r["tax_amount.next"])||0}),y=y.tax(d)}this.pricing=y.done((function(){return t===Wi&&e.emit("ready")}))}},{key:"update",value:function(t){var e=this.elements;je().value(e.currency_code,t.currency.code),je().value(e.currency_symbol,t.currency.symbol),je().value(e.plan_base,t.base.plan.unit),je().value(e.plan_interval,t.base.plan.interval),["plan","addons","discount","setup_fee","subtotal","tax","total","gift_card"].forEach((function(r){je().value(e[r+"_now"],t.now[r]),je().value(e[r+"_next"],t.next[r])})),e.addon_price&&e.addon_price.forEach((function(e){var r=t.base.addons[je().data(e,"recurlyAddon")];r&&je().value(e,r)}))}},{key:"detach",value:function(){var t=this;this.pricing.off("change",this.update),this.elements.all.forEach((function(e){e.removeEventListener("change",t.change),e.removeEventListener("propertychange",t.change)}))}}],r&&Bi(e.prototype,r),n&&Bi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u());function Hi(t){if("not-found"!==t.code)throw t}function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}function Ki(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==$i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===$i(i)?i:String(i)),n)}var o,i}function Ji(){return Ji="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xi(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ji.apply(this,arguments)}function Yi(t,e){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yi(t,e)}function Qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xi(t);if(e){var o=Xi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===$i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xi(t)}var ta=r(1227)("recurly:pricing:subscription-pricing"),ea=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yi(t,e)}(a,t);var r,n,o,i=Qi(a);function a(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id,n=void 0===r?(0,f.Z)():r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).id=n,e.debug=ta,e.recurly.report("pricing:subscription:create"),e}return r=a,n=[{key:"Calculations",get:function(){return Li}},{key:"PRICING_METHODS",get:function(){return Ji(Xi(a.prototype),"PRICING_METHODS",this).concat(["addon","address","coupon","currency","giftcard","plan","shippingAddress","tax"])}},{key:"isValid",get:function(){return!(!this.items.plan||!this.price)}},{key:"taxCode",get:function(){if(this.items.tax)return this.items.tax.taxCode||this.items.tax.tax_code}},{key:"taxExempt",get:function(){return this.items.plan&&this.items.plan.tax_exempt}},{key:"reset",value:function(){Ji(Xi(a.prototype),"reset",this).call(this),this.items.addons=[]}},{key:"attach",value:function(t){var e=this;return this.attachment&&this.attachment.detach(),this.attachment=new Vi(this,t),this.attachment.once("ready",(function(){return e.emit("attached")})),this.attachment}},{key:"plan",value:function(){var t=this,r=this.resolvePlanOptions.apply(this,arguments),n=r.currentPlan,o=r.quantity,i=r.planCode,a=r.done;return new tt((function(r,a){if(n&&n.code===i)return n.quantity=o,r(e()(n));t.recurly.plan(i,(function(e,n){if(e)return t.error(e,a,"plan");n.quantity=o,t.items.plan=n,t.items.currency in n.price||t.currency(Object.keys(n.price)[0]);var i=function(){return t.resolveAndEmit("set.plan",n,r)};t.items.coupon?t.coupon(t.items.coupon.code).then(i,i):i()}))}),this).nodeify(a)}},{key:"addon",value:function(t,e,r){var n=this;return"function"==typeof e&&(r=e,e=void 0),e=e||{},new tt((function(r,o){if(!n.items.plan)return n.error((0,p.Z)("missing-plan"),o,"addon");var i=st(n.items.plan.addons,t);if(!i)return n.error((0,p.Z)("invalid-addon",{planCode:n.items.plan.code,addonCode:t}),o,"addon");var a=function(t,e){var r=1;return"quantity"in e&&(r=e.quantity),"quantity"in t&&(r=t.quantity),parseInt(r,10)||0}(e,i),c=st(n.items.addons,t);0===a?n.remove({addons:t}):c?c.quantity=a:((c=JSON.parse(JSON.stringify(i))).quantity=a,n.items.addons.push(c)),n.resolveAndEmit("set.addon",c,r)}),this).nodeify(r)}},{key:"giftcard",value:function(t,e){var r=this;return new tt((function(e,o){if(n(),!t)return e();r.recurly.giftCard({code:t},(function(t,i){return t&&"not-found"===t.code&&n(),t?r.error(t,o,"gift_card"):r.items.currency!==i.currency?(n(),r.error((0,p.Z)("gift-card-currency-mismatch"),o,"gift_card")):(r.items.gift_card=i,void r.resolveAndEmit("set.gift_card",i,e))}))}),this).nodeify(e);function n(){ta("unset.gift_card"),delete r.items.gift_card,r.emit("unset.gift_card")}}},{key:"coupon",value:function(t,r){var n=this;return~this.couponCodes.indexOf(t)?new tt((function(t,r){if(!n.couponIsValidForSubscription(n.items.coupon))return n.removeCurrentCoupon(),n.error("invalid-coupon-for-subscription",r,"coupon");t(e()(n.items.coupon))}),this):new tt((function(e,r){if(!n.items.plan)return n.error((0,p.Z)("missing-plan"),r,"coupon");if(n.items.coupon&&n.removeCurrentCoupon(),!t)return e();var o=function(t,o){return t?n.error(t,r,"coupon"):n.couponIsValidForSubscription(o)?(n.items.coupon=o,void n.resolveAndEmit("set.coupon",o,e)):n.error("invalid-coupon-for-subscription",r,"coupon")};"string"==typeof t?n.recurly.coupon({plan:n.items.plan.code,coupon:t},o):o(null,t)}),this).nodeify(r)}},{key:"address",value:function(t,e){return new tt(this.itemUpdateFactory("address",t),this).nodeify(e)}},{key:"shippingAddress",value:function(t,e){return new tt(this.itemUpdateFactory("shippingAddress",t,{eventName:"shipping_address"}),this).nodeify(e)}},{key:"tax",value:function(t,e){return this.guardTaxSignature(t),new tt(this.itemUpdateFactory("tax",t),this).nodeify(e)}},{key:"currency",value:function(t,e){var r=this;return new tt((function(e,n){var o=r.items.plan;return r.items.currency===t?e(r.items.currency):o&&!(t in o.price)?r.error((0,p.Z)("invalid-currency",{currency:t,allowed:Object.keys(o.price)}),n,"currency"):(r.items.currency=t,void r.resolveAndEmit("set.currency",t,e))}),this).nodeify(e)}},{key:"couponIsValidForSubscription",value:function(t){return!(!t||!t.applies_to_plans||!t.applies_to_all_plans&&!~t.plans.indexOf(this.items.plan.code))}},{key:"removeCurrentCoupon",value:function(){var t=this;if(this.items.coupon){var r=e()(this.items.coupon);ta("unset.coupon"),this.remove({coupon:r.code}).then((function(){return t.emit("unset.coupon",r)}))}}},{key:"resolvePlanOptions",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=this.items.plan;return"function"==typeof r&&(n=r,r={}),o&&o.quantity&&(e=o.quantity),r.quantity&&(e=parseInt(r.quantity,10)),(!e||e<1)&&(e=1),{currentPlan:o,quantity:e,planCode:t,options:r,done:n}}},{key:"bindReporting",value:function(){var t=this;Ji(Xi(a.prototype),"bindReporting",this).call(this,"pricing:subscription");var e=function(){var e;return(e=t.recurly).report.apply(e,arguments)};this.on("attached",(function(){return e("pricing:subscription:attached")})),this.on("change:external",(function(r){return e("pricing:subscription:change",{price:{addons:r.now.addons,couponCodes:t.couponCodes,currency:t.currencyCode,discount:r.now.discount,giftCard:r.now.gift_card,taxes:r.now.taxes,total:r.now.total,totalNext:r.next.total}})}))}}],n&&Ki(r.prototype,n),o&&Ki(r,o),Object.defineProperty(r,"prototype",{writable:!1}),a}(ut);function ra(t){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(t)}function na(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ra(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ra(i)?i:String(i)),n)}var o,i}var oa=["address","coupon","currency","giftcard","shippingAddress","bindReporting"],ia=["couponIsValidForSubscription"],aa=function(){function t(e,r){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subscription=e,this.checkout=r,oa.forEach((function(t){var r=e[t];e[t]=function(t,e){return function(){return new tt((function(t){return t()}),e)}}(0,e),n[t]=r.bind(e)})),ia.forEach((function(t){n[t]=function(){return e[t].apply(e,arguments)}})),e.plan=this.plan.bind(this)}var e,r,n;return e=t,r=[{key:"id",get:function(){return this.subscription.id}},{key:"isValid",get:function(){return this.subscription.isValid}},{key:"items",get:function(){return this.subscription.items}},{key:"price",get:function(){return this.subscription.price}},{key:"taxCode",get:function(){return this.subscription.taxCode}},{key:"taxExempt",get:function(){return this.subscription.taxExempt}},{key:"plan",value:function(){var t,e=this,r=(t=this.subscription).resolvePlanOptions.apply(t,arguments),n=r.currentPlan,o=r.quantity,i=r.planCode,a=r.done;return new tt((function(t,r){if(n&&n.code===i)return n.quantity=o,t(n);e.checkout.recurly.plan(i,(function(n,i){if(n)return e.subscription.error(n,r,"plan");if(e.checkout.items.subscriptions.length>1)try{e.checkout.resolveCurrency(Object.keys(i.price),{commit:!1})}catch(n){return r((0,p.Z)("invalid-plan-currency",{planCode:i.code,currencies:e.checkout.subscriptionCurrencies}))}i.quantity=o,e.subscription.items.plan=i;var a=function(){e.subscription.emit("set.plan",i),t(i)};if(e.checkout.currencyCode in i.price)a();else try{e.checkout.resolveCurrency(Object.keys(i.price)).then(a)}catch(t){r(n)}}))}),this.subscription).nodeify(a)}}],r&&na(e.prototype,r),n&&na(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ca(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return t.reduce((function(t,r){var n=e(r);return(t[n]=t[n]||[]).push(r),t}),{})}function ua(t){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(t)}function sa(){return sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sa.apply(this,arguments)}function la(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ua(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ua(i)?i:String(i)),n)}var o,i}var fa=function(){function t(e,r){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pricing=e,this.items=e.items,this._itemizedSets={now:{},next:{}},this.price={now:{items:[]},next:{items:[]},currency:{code:this.pricing.currencyCode,symbol:this.pricing.currencySymbol},taxes:[]},this.subscriptions().then((function(){return n.adjustments()})).then((function(){return n.discounts()})).then((function(){return n.subtotals()})).then((function(){return n.taxes()})).then((function(){return n.giftCards()})).then((function(){return n.totals()})).then((function(){return n.itemizedSets()})).catch((function(t){return n.pricing.error(t)})).done((function(){Ri()(n.price.now,Ai,n.price.now),Ri()(n.price.next,Ai,n.price.next),n.price.now.items.forEach((function(t){return Ri()(t,Ai,t)})),n.price.next.items.forEach((function(t){return Ri()(t,Ai,t)})),r(n.price)}))}var e,r,n;return e=t,r=[{key:"validAdjustments",get:function(){return this.pricing.validAdjustments}},{key:"validSubscriptions",get:function(){return this.pricing.validSubscriptions}},{key:"hasValidSubscriptions",get:function(){return this.validSubscriptions.length>0}},{key:"taxableAdjustments",get:function(){return this.validAdjustments.filter((function(t){return!t.taxExempt&&t.amount>0}))}},{key:"taxableSubscriptions",get:function(){return this.validSubscriptions.filter((function(t){return!t.items.plan.tax_exempt}))}},{key:"taxCodes",get:function(){var t=this.taxableAdjustments.concat(this.taxableSubscriptions);return xi()(t.map((function(t){return t.taxCode})))}},{key:"subscriptions",value:function(){var t=this;return this.price.now.subscriptions=0,this.price.next.subscriptions=0,this._itemizedSets.now.subscriptions=[],this._itemizedSets.next.subscriptions=[],this.validSubscriptions.forEach((function(e){t.price.now.subscriptions+=Number(e.price.now.total),t.price.next.subscriptions+=Number(e.price.next.total),t._itemizedSets.now.subscriptions.push(pa("now",e)),t._itemizedSets.next.subscriptions.push(pa("next",e))})),V().resolve()}},{key:"adjustments",value:function(){var t=this;return this.price.now.adjustments=0,this.price.next.adjustments=0,this._itemizedSets.now.adjustments=[],this.validAdjustments.forEach((function(e){var r=e.amount,n=e.quantity,o=r*n,i={type:"adjustment",id:e.id,amount:o,quantity:n,unitAmount:r};t.price.now.adjustments+=o,t._itemizedSets.now.adjustments.push(i)})),V().resolve()}},{key:"discounts",value:function(){var t=this,e=this.items.coupon,r=V().resolve();if(this.price.now.discount=0,this.price.next.discount=0,this.validSubscriptions.forEach((function(t){r=r.then((function(){return t.coupon().reprice(null,{internal:!0})}))})),!e)return r;if("free_trial"===e.discount.type)r=r.then((function(){return t.applyFreeTrialCoupon()}));else{var n=this.discountAmounts(),o=n.discountNow,i=n.discountNext;this.price.now.discount=o,this.price.next.discount=i}return r}},{key:"subtotals",value:function(){var t=this.price,e=t.now,r=t.next;return this.price.now.subtotal=e.subscriptions+e.adjustments-e.discount,this.price.next.subtotal=r.subscriptions-r.discount,V().resolve()}},{key:"taxes",value:function(){var t=this,e=this.price.now.taxes=0,r=this.price.next.taxes=0;if(this.items.tax&&this.items.tax.amount)return this.price.now.taxes=Ti(this.items.tax.amount.now),this.price.next.taxes=Ti(this.items.tax.amount.next),V().resolve();var n=sa({},this.items.shippingAddress||this.items.address,this.items.tax);if(ht()(n))return V().resolve();var o=this.pricing.recurly.tax.bind(this.pricing.recurly),i=function(t){return new(V())((function(e,r){o(t,(function(t,n){t?r(t):e(n)}))}))},a=function(t){return i(sa({},n,{taxCode:t.taxCode}))},c=function(t){return parseFloat(t.toFixed(6))},u=[];return V().all(this.taxableAdjustments.map((function(t){return a(t).then((function(r){u=u.concat(r),e+=r.reduce((function(e,r){return e+c(t.amount*t.quantity*r.rate)}),0)}))}))).then((function(){return V().all(t.taxableSubscriptions.map((function(t){return a(t).then((function(n){u=u.concat(n),n.forEach((function(n){e+=c(t.price.now.subtotal*n.rate),r+=c(t.price.next.subtotal*n.rate)}))}))})))})).then((function(){if(t.items.coupon){var o=t.discountAmounts({taxExempt:!1}),a=o.discountNow,u=o.discountNext;return i(n).then((function(t){t.forEach((function(t){e-=c(a*t.rate),r-=c(u*t.rate)}))}))}})).catch((function(e){return t.pricing.emit("error",e)})).then((function(){u=u.map(JSON.stringify).filter((function(t,e,r){return r.indexOf(t)===e})).map(JSON.parse),t.price.taxes=u,t.price.now.taxes=Ti(e),t.price.next.taxes=Ti(r)}))}},{key:"giftCards",value:function(){if(this.price.now.giftCard=0,this.price.next.giftCard=0,this.items.giftCard){var t=this.price.now.subtotal+this.price.now.taxes,e=this.price.next.subtotal+this.price.next.taxes,r=i(t,this.items.giftCard.unit_amount),n=r.used,o=i(e,r.remains).used;return this.price.now.giftCard=n,this.price.next.giftCard=o,V().resolve()}function i(t,e){var r=0,n=0;return e>t?(r=t,n=e-t):r=e,{used:r,remains:n}}}},{key:"totals",value:function(){return this.price.now.total=this.price.now.subtotal+this.price.now.taxes-this.price.now.giftCard,this.price.next.total=this.price.next.subtotal+this.price.next.taxes-this.price.next.giftCard,V().resolve()}},{key:"itemizedSets",value:function(){return this.price.now.items=this._itemizedSets.now.subscriptions.concat(this._itemizedSets.now.adjustments),this.price.next.items=this._itemizedSets.next.subscriptions,V().resolve()}},{key:"applyFreeTrialCoupon",value:function(){var t=this,e=this.items.coupon;return this.hasValidSubscriptions?"subscription"===e.redemption_resource?this.mostValuableSubscriptionForFreeTrial().coupon(e).reprice(null,{internal:!0}).then((function(){return t.subscriptions()})):V().all(this.validSubscriptions.map((function(t){return t.coupon(e).reprice(null,{internal:!0})}))).then((function(){return t.subscriptions()})):V().resolve()}},{key:"discountAmounts",value:function(){var t=this.items.coupon,e=0,r=0;if(t)if("free_trial"===t.discount.type);else if(t.discount.rate){var n=this.discountableSubtotals(t,{setupFees:!1}),o=n.discountableNow,i=n.discountableNext;e=ba(o*t.discount.rate),t.single_use||(r=ba(i*t.discount.rate))}else if(t.discount.amount){var a=this.discountableSubtotals(t),c=a.discountableNow,u=a.discountableNext,s=t.discount.amount[this.items.currency]||0;e=Math.min(c,s),t.single_use||(r=Math.min(u,s))}return{discountNow:e,discountNext:r}}},{key:"discountableSubtotals",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.setupFees,n=void 0===r||r,o=e.taxExempt,i=void 0===o||o,a=0,c=0;return t.applies_to_non_plan_charges&&(a+=i?this.price.now.adjustments:this.validAdjustments.reduce((function(t,e){return t+(e.taxExempt?0:e.amount*e.quantity)}),0)),t.applies_to_plans&&this.hasValidSubscriptions&&ha("subscription"===t.redemption_resource?[this.mostValuableSubscriptionForDiscount()]:this.validSubscriptions,t).forEach((function(t){!i&&t.taxExempt||(a+=da("now",t,{setupFees:n}),c+=da("next",t,{setupFees:n}))})),{discountableNow:a,discountableNext:c}}},{key:"mostValuableSubscriptionForDiscount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.validSubscriptions;return(t=ha(t,this.items.coupon)).sort((function(t,e){var r=parseFloat(t.price.now.subtotal),n=parseFloat(e.price.now.subtotal);return r>n?-1:r<n?1:0}))[0]}},{key:"mostValuableSubscriptionForFreeTrial",value:function(){var t=ca(ha(this.validSubscriptions,this.items.coupon),ya),e=Object.keys(t).sort((function(t,e){return e-t}))[0];return this.mostValuableSubscriptionForDiscount(t[e])}}],r&&la(e.prototype,r),n&&la(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function pa(t,e){var r=e.id,n=e.price;return{type:"subscription",id:r,amount:n[t].total,setupFee:n[t].setup_fee,addons:n[t].addons,plan:n[t].plan}}function ya(t){if(!t.items.plan.trial)return 0;var e={days:86400,months:2678400}[t.items.plan.trial.interval]||0;return t.items.plan.trial.length*e}function da(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).setupFees,n=void 0===r||r,o=e.price[t],i=parseFloat(o.subtotal)+parseFloat(o.discount);return n||(i-=parseFloat(o.setup_fee)),i}function ha(t,e){return 0===t.length||e.applies_to_all_plans?t:t.filter((function(t){return t.couponIsValidForSubscription(e)}))}function ba(t){return parseFloat((Math.round(100*t)/100).toFixed(6))}function va(t){return t.reduce((function(t,e){return t.concat(Array.isArray(e)?va(e):e)}),[])}function ma(t){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(t)}function ga(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ma(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ma(i)?i:String(i)),n)}var o,i}function wa(t,e){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wa(t,e)}function Oa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pa(t);if(e){var o=Pa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ma(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ja(t)}(this,r)}}function ja(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pa(t){return Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pa(t)}var Sa=r(1227)("recurly:pricing:checkout:attachment"),_a="init-all",Ea=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wa(t,e)}(i,t);var e,r,n,o=Oa(i);function i(t,e){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this)).pricing=t,r.recurly=t.recurly,r.container=je().element(e),!r.container)throw new Error("invalid dom element");return r.onInputChange=r.onInputChange.bind(ja(r)),r.updateOutput=r.updateOutput.bind(ja(r)),r.pricing.on("change",r.updateOutput),r.elements.all.forEach((function(t){t.addEventListener("change",r.onInputChange),t.addEventListener("propertychange",r.onInputChange)})),r.onInputChange(_a),r}return e=i,r=[{key:"elements",get:function(){if(this._elements)return this._elements;var t={all:[].slice.call(this.container.querySelectorAll("[data-recurly]"))};return t.all.forEach((function(e){var r=je().data(e,"recurly");r in t||(t[r]=[]),t[r].push(e)})),this._elements=t,t}},{key:"onInputChange",value:function(t){var e=this;Sa("onInputChange");var r=this.elements,n=(0,f.Z)();va([r.plan,r.plan_quantity,r.addon,r.tax_code]).forEach((function(t){t&&(je().data(t,"recurlySubscription")||je().data(t,"recurlySubscription",n))}));var o=ca(r.all,(function(t){return je().data(t,"recurlySubscription")}));delete o.undefined,this.pricing.items.subscriptions.forEach((function(t){o[t.id]||e.pricing.remove({subscription:t})}));var i=(r.adjustment||[]).map((function(t){return je().data(t,"recurlyAdjustment")}));this.pricing.items.adjustments.forEach((function(t){~i.indexOf(t.id)||e.pricing.remove({adjustment:t})})),V().all(Object.keys(o).map((function(t){var r=ca(o[t],(function(t){return je().data(t,"recurly")})),n=e.pricing.findSubscriptionById(t);n||(n=new ea(e.recurly,{id:t}),e.pricing.subscription(n));var i=je().value(r.plan_quantity)||1;return n.plan(je().value(r.plan),{quantity:i}).then((function(){if(r.addon)return V().all(r.addon.map((function(t){var r=je().data(t,"recurlyAddon"),o=je().value(t);return n.addon(r,{quantity:o}).catch((function(t){return e.pricing.error(t)}))})))})).then((function(){if(r.tax_code)return n.tax({tax_code:je().value(r.tax_code)})})).reprice()}))).then((function(){if(r.adjustment)return V().all(r.adjustment.map((function(t){var r=je().data(t,"recurlyAdjustment"),n=je().data(t,"recurlyAdjustmentItemCode"),o=je().data(t,"recurlyAdjustmentAmount"),i=je().value(t)||0,a=je().data(t,"recurlyAdjustmentCurrency"),c=je().data(t,"recurlyAdjustmentTaxCode"),u=je().data(t,"recurlyAdjustmentTaxExempt");return e.pricing.adjustment({id:r,itemCode:n,amount:o,quantity:i,currency:a,taxCode:c,taxExempt:u})})))})).then((function(){if(r.currency)return e.pricing.currency(je().value(r.currency))})).then((function(){if(r.coupon)return e.pricing.coupon(je().value(r.coupon).trim()).then(null,Hi)})).then((function(){if(r.gift_card)return e.pricing.giftCard(je().value(r.gift_card).trim()).then(null,Hi)})).then((function(){if(r.country||r.postal_code)return e.pricing.address({country:je().value(r.country),postal_code:je().value(r.postal_code)})})).then((function(){if(r["shipping_address.country"]||r["shipping_address.postal_code"])return e.pricing.shippingAddress({country:je().value(r["shipping_address.country"]),postal_code:je().value(r["shipping_address.postal_code"])})})).then((function(){var t={};return(r["tax_amount.now"]||r["tax_amount.next"])&&(t.amount={now:je().value(r["tax_amount.now"])||0,next:je().value(r["tax_amount.next"])||0}),r.vat_number&&(t.vat_number=je().value(r.vat_number)),e.pricing.tax(t)})).then((function(){return e.pricing.reprice()})).then((function(){t===_a&&e.emit("ready")})).done()}},{key:"updateOutput",value:function(t){var e=this,r=this.elements;je().value(r.currency_code,t.currency.code),je().value(r.currency_symbol,t.currency.symbol),["subscriptions","adjustments","discount","subtotal","taxes","total"].forEach((function(e){je().value(r[e+"_now"],t.now[e]),je().value(r[e+"_next"],t.next[e])})),je().value(r.gift_card_now,t.now.giftCard),je().value(r.gift_card_next,t.next.giftCard),r.addon_price&&r.addon_price.forEach((function(t){var r=je().data(t,"recurlySubscription"),n=r&&e.pricing.findSubscriptionById(r);if(n&&n.isValid){var o=n.price.base.addons[je().data(t,"recurlyAddon")];o&&je().value(t,o)}}))}},{key:"detach",value:function(){var t=this;this.pricing.off("change",this.updateOutput),this.elements.all.forEach((function(e){e.removeEventListener("change",t.onInputChange),e.removeEventListener("propertychange",t.onInputChange)}))}}],r&&ga(e.prototype,r),n&&ga(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u());function xa(t){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(t)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ca.apply(this,arguments)}function Ra(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Aa(n.key),n)}}function Aa(t){var e=function(t,e){if("object"!==xa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==xa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xa(e)?e:String(e)}function Ta(){return Ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Da(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ta.apply(this,arguments)}function Ia(t,e){return Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ia(t,e)}function Na(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Da(t);if(e){var o=Da(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===xa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Da(t){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Da(t)}var Fa=r(1227)("recurly:pricing:checkout-pricing"),La=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ia(t,e)}(a,t);var r,n,o,i=Na(a);function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=i.call.apply(i,[this].concat(r))).debug=Fa,t.recurly.report("pricing:checkout:create"),t}return r=a,n=[{key:"reset",value:function(){Ta(Da(a.prototype),"reset",this).call(this),this.items.subscriptions=[],this.items.adjustments=[]}},{key:"Calculations",get:function(){return fa}},{key:"PRICING_METHODS",get:function(){return Ta(Da(a.prototype),"PRICING_METHODS",this).concat(["address","adjustment","coupon","currency","giftCard","shippingAddress","subscription","tax"])}},{key:"validAdjustments",get:function(){var t=this;return this.items.adjustments.filter((function(e){return e.currency===t.items.currency}))}},{key:"validSubscriptions",get:function(){return this.items.subscriptions.filter((function(t){return t.isValid}))}},{key:"subscriptionCurrencies",get:function(){return St()(this.validSubscriptions.map((function(t){return Object.keys(t.items.plan.price)})))}},{key:"subscriptionPlanCodes",get:function(){return xi()(this.validSubscriptions.map((function(t){return t.items.plan.code})))}},{key:"findSubscriptionById",value:function(t){var e=G()(this.items.subscriptions,(function(e){return e.id===t}));if(e)return e.subscription}},{key:"attach",value:function(t){var e=this;return this.attachment&&this.attachment.detach(),this.attachment=new Ea(this,t),this.attachment.once("ready",(function(){return e.emit("attached")})),this.attachment}},{key:"currency",value:function(t){var e=this;return new tt((function(r,n){return e.items.currency===t?r(e.items.currency):e.subscriptionsAllowCurrency(t)?(e.items.currency=t,void V().all(e.validSubscriptions.map((function(e){return Fa("checkout currency has changed. Updating subscription",e),e.currency(t).reprice()}))).then((function(){return e.giftCard(null)})).then((function(){return e.resolveAndEmit("set.currency",t,r)}))):e.error((0,p.Z)("invalid-currency",{currency:t,allowed:e.subscriptionCurrencies}),n,"currency")}),this)}},{key:"subscription",value:function(t){var e=this;return new tt((function(r,n){if(!(t instanceof ea))return e.error((0,p.Z)("invalid-option",{name:"subscription",expect:"a {recurly.Pricing.Subscription}"}),n,"subscription");if(e.items.subscriptions.some((function(e){return e.subscription===t})))return r(t);var o=t.items.plan;if(e.items.currency&&o){var i=Object.keys(o.price);if(!~i.indexOf(e.currencyCode))try{e.resolveCurrency(i)}catch(t){return e.error((0,p.Z)("invalid-subscription-currency",{checkoutCurrency:e.currencyCode,checkoutSupportedCurrencies:e.subscriptionCurrencies,subscriptionPlanCurrencies:i}),n,"currency")}}e.items.currency||e.currency(t.items.currency);var a=function(r){return function(n){return e.emit("set.".concat(r),(o={subscription:{id:t.id}},a=n,(i=Aa(i=r))in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o));var o,i,a}},c=function(){t.on("change:external",(function(){return e.reprice()})),t.on("set.plan",a("plan")),t.on("set.addon",a("addon")),e.items.subscriptions.push(new aa(t,e)),e.resolveAndEmit("set.subscription",t,r,{copy:!1})};t.isValid?t.coupon(null).giftcard(null).then(c):c()}),this)}},{key:"adjustment",value:function(t){var e=this,r=t.itemCode,n=void 0===r?null:r,o=t.amount,i=t.quantity,a=t.id,c=void 0===a?(0,f.Z)():a,u=t.currency,s=t.taxExempt,l=t.taxCode,y=this.recurly;return new tt((function(t,r){var a=G()(e.items.adjustments,(function(t){return t.id===c})),f=!0;if((n||a&&void 0===o)&&(f=!1),f&&(o=Number(o),!isFinite(o)))return e.error((0,p.Z)("invalid-option",{name:"amount",expect:"a finite Number"}),r,"adjustment");a&&a.itemCode&&!n&&(n=a.itemCode),new(V())((function(t,r){return n?y.item({itemCode:n}).then((function(i){var c=u||a&&a.currency||e.items.currency;if(void 0===o){var f=G()(i.currencies,(function(t){return t.currency_code===c}));if(!f)return r((0,p.Z)("invalid-item-currency",{itemCode:n,currency:c}));o=f.unit_amount}l=i.tax_code,s=i.tax_exempt,t()}),r):t()})).then((function(){return a||(u=u||e.items.currency,i=Ma(i),s=!!s),{amount:o,quantity:i,id:c,currency:u,taxExempt:s,taxCode:l,itemCode:n}})).then((function(r){a?(void 0===o&&delete r.amount,void 0===u&&delete r.currency,void 0===i?delete r.quantity:i=Ma(i),(a.itemCode||void 0===l)&&delete r.taxCode,(a.itemCode||void 0===s)&&delete r.taxExempt,r=Ca(a,r)):e.items.adjustments.push(r),e.resolveAndEmit("set.adjustment",r,t)})).catch((function(t){e.error(t,r,"adjustment")}))}),this)}},{key:"coupon",value:function(t){var r=this;return~this.couponCodes.indexOf(t)?new tt((function(t){return t(e()(r.items.coupon))}),this):new tt((function(t){return t()}),this).then((function(){if(r.items.coupon){var t=e()(r.items.coupon);return Fa("unset.coupon"),r.remove({coupon:t.code}).then((function(){r.emit("unset.coupon",t)}))}})).then((function(){return new tt((function(e,n){if(!t)return e();r.recurly.coupon({plans:r.subscriptionPlanCodes,coupon:t},(function(t,o){if(t)return r.error(t,n,"coupon");r.items.coupon=o,r.resolveAndEmit("set.coupon",o,e)}))}))}))}},{key:"address",value:function(t){return new tt(this.itemUpdateFactory("address",t),this)}},{key:"shippingAddress",value:function(t){return new tt(this.itemUpdateFactory("shippingAddress",t),this)}},{key:"tax",value:function(t){return this.guardTaxSignature(t),new tt(this.itemUpdateFactory("tax",t),this)}},{key:"giftCard",value:function(t){var e=this,r=function(){e.items.giftCard&&(Fa("unset.giftCard"),delete e.items.giftCard,e.emit("unset.giftCard"))};return new tt((function(n,o){if(!t)return r(),n();e.recurly.giftCard({code:t},(function(t,i){return t?e.error(t,o,"giftCard"):(r(),e.items.currency!==i.currency?e.error((0,p.Z)("gift-card-currency-mismatch"),o,"giftCard"):(e.items.giftCard=i,void e.resolveAndEmit("set.giftCard",i,n)))}))}),this)}},{key:"remove",value:function(t){var e=this;return new tt((function(r,n){t.subscription?e.removeFromSet("subscriptions",t.subscription):t.adjustment?e.removeFromSet("adjustments",t.adjustment):t.coupon?V().all(e.validSubscriptions.map((function(t){return t.coupon().reprice({internal:!0})}))).then((function(){return Ta(Da(a.prototype),"remove",e).call(e,t).then(r,n)})):Ta(Da(a.prototype),"remove",e).call(e,t).then(r,n)}))}},{key:"removeFromSet",value:function(t,e){this.items[t]=this.items[t].filter((function(t){return t.id!==e.id}))}},{key:"subscriptionsAllowCurrency",value:function(t){return!!ht()(this.items.subscriptions)||!!~this.subscriptionCurrencies.indexOf(t)}},{key:"resolveCurrency",value:function(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).commit,n=void 0===r||r;if(e=ht()(this.validSubscriptions)?t:St()(this.subscriptionCurrencies,t),ht()(e))throw new Error("unresolvable");if(n)return this.currency(e[0])}},{key:"bindReporting",value:function(){var t=this;Ta(Da(a.prototype),"bindReporting",this).call(this,"pricing:checkout");var e=function(){var e;return(e=t.recurly).report.apply(e,arguments)};this.on("attached",(function(){return e("pricing:checkout:attached")})),this.on("set.subscription",(function(){return e("pricing:checkout:set:subscription")})),this.on("change:external",(function(r){return e("pricing:checkout:change",{price:{couponCodes:t.couponCodes,currency:t.currencyCode,discount:r.now.discount,giftCard:r.now.giftCard,items:r.now.items.map((function(t){return{type:t.type,amount:t.amount,quantity:t.quantity}})),taxes:r.now.taxes,total:r.now.total,totalNext:r.next.total}})}))}}],n&&Ra(r.prototype,n),o&&Ra(r,o),Object.defineProperty(r,"prototype",{writable:!1}),a}(ut);function Ma(t){return t=parseInt(t,10),isNaN(t)&&(t=1),t}function Ba(t){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(t)}function qa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Va(n.key),n)}}function za(t,e){return za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},za(t,e)}function Ua(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ga(t);if(e){var o=Ga(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ba(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Za(t)}(this,r)}}function Za(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ga(t){return Ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ga(t)}function Wa(t,e,r){return(e=Va(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Va(t){var e=function(t,e){if("object"!==Ba(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ba(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ba(e)?e:String(e)}var Ha=r(1227)("recurly"),$a="https://api.recurly.com/js/v1",Ka={currency:"USD",timeout:6e4,publicKey:"",parent:!0,parentVersion:R(),cors:!0,fraud:{kount:{dataCollector:!1,form:void 0},litle:{sessionId:void 0},braintree:{deviceData:void 0}},risk:{threeDSecure:{preflightDeviceDataCollector:!0}},api:$a,fields:{all:{style:{}},number:{selector:"[data-recurly=number]",style:{}},month:{selector:"[data-recurly=month]",style:{}},year:{selector:"[data-recurly=year]",style:{}},cvv:{selector:"[data-recurly=cvv]",style:{}},card:{selector:"[data-recurly=card]",style:{}}}},Ja=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&za(t,e)}(s,t);var n,i,c,u=Ua(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Wa(Za(e=u.call(this)),"Adyen",B),Wa(Za(e),"ApplePay",we),Wa(Za(e),"GooglePay",qe),Wa(Za(e),"BankRedirect",Ye),Wa(Za(e),"AlternativePaymentMethods",Gr),Wa(Za(e),"coupon",g),Wa(Za(e),"Elements",Wr.d),Wa(Za(e),"Frame",Vr.d),Wa(Za(e),"giftCard",j),Wa(Za(e),"giftcard",j),Wa(Za(e),"item",S),Wa(Za(e),"PayPal",Ln),Wa(Za(e),"Venmo",fo),Wa(Za(e),"paypal",ln),Wa(Za(e),"plan",k),Wa(Za(e),"Risk",ho.d),Wa(Za(e),"tax",x),Wa(Za(e),"token",A.JM),Wa(Za(e),"AmazonPay",_o),Wa(Za(e),"validate",r(6953).jt),Wa(Za(e),"Recurly",e.constructor),e.id=(0,f.Z)(),e.version=R(),e.configured=!1,e.readyState=0,e.request=new mi({recurly:Za(e)}),e.config=(0,o.Z)({},Ka),t&&e.configure(t),e.bankAccount={token:b.token.bind(Za(e)),bankInfo:b.bankInfo.bind(Za(e))},e.reporter=new Eo.b({recurly:Za(e)}),e.Pricing=function(){return new ea(Za(e))},e.Pricing.Checkout=function(){return new La(Za(e))},e.Pricing.Subscription=function(){return new ea(Za(e))},e.once("ready",(function(){return e.report("ready")})),e.bindReporting(),e}return n=s,i=[{key:"isParent",get:function(){return!!this.config.parent}},{key:"deviceId",get:function(){return Si({key:"deviceId",otherwise:(0,f.Z)()})},set:function(t){return _i({key:"deviceId",value:t})}},{key:"sessionId",get:function(){return Si({scope:"session",key:"sessionId",otherwise:(0,f.Z)()})},set:function(t){return _i({scope:"session",key:"sessionId",value:t})}},{key:"sanitizedConfig",get:function(){return a()(this.config,(function(t){return!(t instanceof Node)}))}},{key:"url",value:function(t){return this.config.api+t}},{key:"ready",value:function(t){this.readyState>1?t():this.once("ready",t)}},{key:"configure",value:function(t){if(Ha("configure"),"string"==typeof(t=e()(t))&&(t={publicKey:t}),(t=function(t){var e=t.style||{};return delete t.style,ri.forEach((function(r){t.fields&&"string"==typeof t.fields[r]&&(t.fields[r]={selector:t.fields[r]}),e[r]&&(t.fields=t.fields||{},t.fields[r]=t.fields[r]||{},t.fields[r].style=(0,o.Z)({},e[r],t.fields[r].style))})),e.all&&(t.fields=t.fields||{},t.fields.all={style:e.all}),t}(t)).publicKey)this.config.publicKey=t.publicKey;else if(t.hostname)this.config.hostname=t.hostname;else if(!this.config.publicKey)throw(0,p.Z)("config-missing-public-key");t.api?this.config.api=t.api:0===this.config.publicKey.lastIndexOf("fra-",0)&&this.config.api===$a&&(this.config.api="https://api.eu.recurly.com/js/v1"),t.currency&&(this.config.currency=t.currency),"cors"in t&&(this.config.cors=t.cors),"fraud"in t&&(0,o.Z)(this.config.fraud,t.fraud),"risk"in t&&(0,o.Z)(this.config.risk,t.risk),"parent"in t&&(this.config.parent=t.parent),"object"===Ba(t.fields)&&(0,o.Z)(this.config.fields,t.fields),this.config.required=t.required||this.config.required||[],this.config.parent?this.parent():t.parentVersion&&(this.config.parentVersion=t.parentVersion),this.configured||(this.configured=!0,this.emit("configured"),this.report("configured")),3===this.readyState&&this.emit("ready")}},{key:"destroy",value:function(){Ha("destroying Recurly instance",this.id),this.off(),this.bus&&(this.bus.send("destroy"),this.bus.destroy()),this.fraud&&this.fraud.destroy(),this.reporter&&(this.reporter.destroy(),delete this.reporter)}},{key:"parent",value:function(){var t=this,e=this.hostedFields&&this.readyState>0&&!this.hostedFields.integrityCheck(this.config.fields);e&&(1===this.readyState&&(this.off("hostedFields:ready"),this.off("hostedFields:state:change"),this.off("hostedField:submit")),this.readyState=0,this.hostedFields.destroy()),this.readyState>0?this.bus.send("hostedFields:configure",{recurlyConfig:this.sanitizedConfig}):(this.fraud?this.ready(this.fraud.activateProfiles):(this.fraud=new Do(this),this.fraud.on("error",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.emit.apply(t,["error"].concat(r))}))),this.bus||(this.bus=new ko.G({api:this.config.api,role:"recurly"}),this.bus.add(this)),this.hostedFields&&!e||(this.hostedFields=new ni({recurly:this})),0===this.hostedFields.errors.length?(this.bus.add(this.hostedFields),this.once("hostedFields:ready",(function(){t.readyState=2,setTimeout((function(){return t.emit("ready")}),0)})),this.on("hostedFields:state:change",(function(e){return t.emit("change",{fields:e})})),this.on("hostedField:submit",(function(){return t.emit("field:submit")})),this.readyState=1):this.readyState=3)}},{key:"report",value:function(){var t;this.reporter&&(t=this.reporter).send.apply(t,arguments)}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.Z)(t,e,{reporter:this.reporter})}},{key:"bindReporting",value:function(){var t=this;this.isParent&&["focus","blur"].forEach((function(e){t.on("hostedField:".concat(e),(function(r){var n=r.type,o=t.hostedFields.state[n],i=l()(o,["type","valid","empty"]);o.brand&&(i.brand=o.brand),t.report("hosted-field:".concat(e),i)}))}))}}],i&&qa(n.prototype,i),c&&qa(n,c),Object.defineProperty(n,"prototype",{writable:!1}),s}(u());var Ya=new Ja}(),recurly=n.default}();