/*! For license information please see graun.standalone.commercial.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,i={1284:(e,t,n)=>{n.d(t,{B4:()=>le,ER:()=>ce,Nl:()=>de,Uc:()=>ue});var r,i=n(2500),o=n(1881),a=n(5783);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}var f,p,v=e=>{(0,i.c)("cmp","Framework set to ".concat(e)),r=e},m=()=>r,g=e=>{var t,n;null===(t=window.performance)||void 0===t||null===(n=t.mark)||void 0===n||n.call(t,e),(0,i.c)("cmp","[event]",e)},h="undefined"==typeof window,b=w=e=>y={__disable:b,__enable:w(!1),__isDisabled:w(!1),hasInitialised:w(!1),init:b,showPrivacyManager:b,version:"n/a",willShowPrivacyMessage:w(Promise.resolve(!1)),willShowPrivacyMessageSync:w(!1)},_=()=>(void 0===f&&(f=!!h||window.location.host.endsWith(".theguardian.com")),f),S=1257,E=540252,P=106842,O=540341,k=_()?"https://sourcepoint.theguardian.com":"https://cdn.privacy-mgmt.com",j=()=>{return e="getUSPData",new Promise(((t,n)=>{window.__uspapi?window.__uspapi(e,1,((r,i)=>i?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __uspapi found on window"))}));var e},C=function(){var e=d((function*(){return{personalisedAdvertising:!("Y"===(yield j()).uspString.charAt(2))}}));return function(){return e.apply(this,arguments)}}(),x=()=>{return e="getUSPData",new Promise(((t,n)=>{window.__uspapi?window.__uspapi(e,1,((r,i)=>i?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __uspapi found on window"))}));var e},A=function(){var e=d((function*(){return{doNotSell:"Y"===(yield x()).uspString.charAt(2)}}));return function(){return e.apply(this,arguments)}}(),T=e=>new Promise(((t,n)=>{window.__tcfapi?window.__tcfapi(e,2,((r,i)=>i?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __tcfapi found on window"))})),N={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1},D=function(){var e=d((function*(){var[e,t]=yield Promise.all([T("addEventListener"),T("getCustomVendorConsents")]);if(void 0===e){var n,r=null!==(n=m())&&void 0!==n?n:"undefined";throw new Error("No TC Data found with current framework: ".concat(r))}var i=c(c({},N),e.purpose.consents),{eventStatus:o,gdprApplies:a,tcString:s,addtlConsent:l}=e,{grants:u}=t;return{consents:i,eventStatus:o,vendorConsents:Object.keys(u).sort().reduce((,{}),addtlConsent:l,gdprApplies:a,tcString:s}}));return function(){return e.apply(this,arguments)}}(),B=[],M=L=(e,t)=>{if(!M(t)){var n=JSON.stringify(t);n!==e.lastState&&(e.fn(t),e.lastState=n)}},I=e=>{var t=h?void 0:navigator.globalPrivacyControl;if(e.tcfv2){var n=e.tcfv2.consents;return c(c({},e),{},{canTarget:Object.keys(n).length>0&&Object.values(n).every(Boolean),framework:"tcfv2",gpcSignal:t})}return e.ccpa?c(c({},e),{},{canTarget:!e.ccpa.doNotSell,framework:"ccpa",gpcSignal:t}):e.aus?c(c({},e),{},{canTarget:e.aus.personalisedAdvertising,framework:"aus",gpcSignal:t}):c(c({},e),{},{canTarget:!1,framework:null,gpcSignal:t})},F=function(){var e=d((function*(){switch(m()){case"aus":return I({aus:yield C()});case"ccpa":return I({ccpa:yield A()});case"tcfv2":return I({tcfv2:yield D()});default:throw new Error("no IAB consent framework found on the page")}}));return function(){return e.apply(this,arguments)}}(),R=()=>{0!==B.length&&F().then((e=>{M(e)||B.forEach((t=>L(t,e)))}))},Z=e=>{var t={fn:e};B.push(t),F().then((e=>{L(t,e)})).catch((()=>{}))},z=()=>{![function(e,t,n){n(4),function(){if("function"!=typeof window.__tcfapi){var e,t=[],n=window,r=n.document;!n.__tcfapi&&)&&(n.__tcfapi=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return t;if("setGdprApplies"===r[0])r.length>3&&2===parseInt(r[1],10)&&"boolean"==typeof r[3]&&(e=r[3],"function"==typeof r[2]&&r[2]("set",!0));else if("ping"===r[0]){var o={gdprApplies:e,cmpLoaded:!1,apiVersion:"2.0"};"function"==typeof r[2]&&r[2](o,!0)}else t.push(r)},n.addEventListener("message",(,!1))}}()},)},H=e=>{"tcfv2"===e?z():function(){var e=!1,t=window,n=document;),"function"!=typeof __uspapi&&(t.__uspapi=function(){var t=arguments;if(__uspapi.a=__uspapi.a||[],!t.length)return __uspapi.a;"ping"===t[0]?t[2]({gdprAppliesGlobally:e,cmpLoaded:!1},!0):__uspapi.a.push([].slice.apply(t))},__uspapi.msgHandler=r,t.addEventListener("message",r,!1))}()},U=new Promise((e=>{p=e})),q=e=>"aus"==e?"https://au.theguardian.com":_()?null:"https://test.theguardian.com";var G,W,V,J,K,$=(e,t)=>{g("cmp-init"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(H(e),window._sp_)throw new Error("Sourcepoint global (window._sp_) is already defined!");v(e),R();var n="tcfv2"==e?"gdpr":"ccpa";(0,i.c)("cmp","framework: ".concat(e)),(0,i.c)("cmp","frameworkMessageType: ".concat(n)),window._sp_queue=[],window._sp_={config:{baseEndpoint:k,accountId:S,propertyHref:q(e),targetingParams:{framework:e},pubData:c(c({},t),{},{cmpInitTimeUtc:(new Date).getTime()}),events:{onConsentReady:(e,t,r)=>{(0,i.c)("cmp","onConsentReady ".concat(e)),e==n&&((0,i.c)("cmp","consentUUID ".concat(t)),(0,i.c)("cmp","euconsent ".concat(r)),g("cmp-got-consent"),setTimeout(R,0))},onMessageReady:e=>{(0,i.c)("cmp","onMessageReady ".concat(e)),e==n&&g("cmp-ui-displayed")},onMessageReceiveData:(e,t)=>{(0,i.c)("cmp","onMessageReceiveData ".concat(e)),e==n&&((0,i.c)("cmp","onMessageReceiveData ",t),p(0!==t.messageId))},onMessageChoiceSelect:(e,t,r)=>{(0,i.c)("cmp","onMessageChoiceSelect message_type: ".concat(e)),console.log(),e==n&&((0,i.c)("cmp","onMessageChoiceSelect choice_id: ".concat(t)),(0,i.c)("cmp","onMessageChoiceSelect choice_type_id: ".concat(r)),11!==r&&13!==r&&15!==r||setTimeout(R,0))},onPrivacyManagerAction:function(e,t){(0,i.c)("cmp","onPrivacyManagerAction message_type: ".concat(e)),e==n&&(0,i.c)("cmp","onPrivacyManagerAction ".concat(t))},onMessageChoiceError:function(e,t){(0,i.c)("cmp","onMessageChoiceError ".concat(e)),e==n&&(0,i.c)("cmp","onMessageChoiceError ".concat(t))},onPMCancel:onSPPMObjectReady:onError:function(e,t,r,o){(0,i.c)("cmp","errorCode: ".concat(e)),e==n&&((0,i.c)("cmp","errorCode: ".concat(t)),(0,i.c)("cmp",r),(0,i.c)("cmp","userReset: ".concat(o)))}}}},"tcfv2"===e?window._sp_.config.gdpr={targetingParams:{framework:e}}:window._sp_.config.ccpa={targetingParams:{framework:e}};var r=document.createElement("script");r.id="sourcepoint-lib",r.src="".concat(k,"/unified/wrapperMessagingWithoutDetection.js"),document.body.appendChild(r)}(e,t)},X=()=>U,Y=function(){var e,t,n,r,i,o,a,s,c;switch(m()){case"tcfv2":null===(e=window._sp_)||void 0===e||null===(t=e.gdpr)||void 0===t||null===(n=t.loadPrivacyManagerModal)||void 0===n||n.call(t,P);break;case"ccpa":null===(r=window._sp_)||void 0===r||null===(i=r.ccpa)||void 0===i||null===(o=i.loadPrivacyManagerModal)||void 0===o||o.call(i,E);break;case"aus":null===(a=window._sp_)||void 0===a||null===(s=a.ccpa)||void 0===s||null===(c=s.loadPrivacyManagerModal)||void 0===c||c.call(s,O)}},Q="gu-cmp-disabled",ee=()=>new RegExp("".concat(Q,"=true(\\W+|$)")).test(document.cookie),te=c(c({},{a9:["5f369a02b8e05c308701f829"],acast:["5f203dcb1f0dea790562e20f"],braze:["5ed8c49c4b8ce4571c7ad801"],comscore:["5efefe25b8e05c06542b2a77"],criteo:["5e98e7f1b8e05c111d01b462"],"google-analytics":["5e542b3a4cd8884eb41b5a72"],"google-mobile-ads":["5f1aada6b8e05c306c0597d7"],"google-tag-manager":["5e952f6107d9d20c88e7c975"],googletag:["5f1aada6b8e05c306c0597d7"],ias:["5e7ced57b8e05c485246ccf3"],inizio:["5e37fc3e56a5e6615502f9c9"],ipsos:["5fa51b29a228638b4a1980e4"],magnite:["5e7ced57b8e05c485246cce5"],nielsen:["5ef5c3a5b8e05c69980eaa5b"],ophan:["5f203dbeeaaaa8768fd3226a"],permutive:["5f369a02b8e05c2f2d546a40"],prebid:["5f92a62aa22863685f4daa4c"],qm:["5f295fa4b8e05c76a44c3149"],remarketing:["5ed0eb688a76503f1016578f"],sentry:["5f0f39014effda6e8bbd2006"],teads:["5eab3d5ab8e05c2bbe33f399"],twitter:["5e71760b69966540e4554f01"],"youtube-player":["5e7ac3fae30e7d1bc1ebf5e8"]}),{redplanet:["not-tcfv2-vendor"]}),ne=(e,t)=>{var n,r=te[e];if(void 0===r||Array.isArray(r)&&0===r.length)throw new Error("Vendor '".concat(e,"' not found, or with no Sourcepoint ID. ")+"If it should be added, raise an issue at https://github.com/guardian/consent-management-platform/issues");if(t.ccpa)return!t.ccpa.doNotSell;if(t.aus)return t.aus.personalisedAdvertising;var i=r.find((e=>{var n;return void 0!==(null===(n=t.tcfv2)||void 0===n?void 0:n.vendorConsents[e])}));if(void 0===i)return console.warn("No consent returned from Sourcepoint for vendor: '".concat(e,"'")),!1;var o=null===(n=t.tcfv2)||void 0===n?void 0:n.vendorConsents[i];return void 0===o?(console.warn("No consent returned from Sourcepoint for vendor: '".concat(e,"'")),!1):o},re={a9:{localStorage:["apstagUserAgentClientHints","apstagCxMEnabled"]},inizio:{localStorage:["__bm_s","__bm_m"]},criteo:{cookies:["cto_bundle"],localStorage:["criteo_fast_bid_expires","cto_bundle","criteo_fast_bid","criteo_pt_cdb_mngr_metrics","__ansync3rdp_criteo"]},comscore:{cookies:["comScore"]},ipsos:{cookies:["DM_SitId1073","DM_SitId1073SecId5802","DotMetrics.AmpCookie"],localStorage:["DotmetricsSiteData","DotMetricsTimeOnPage","DotMetricsUserId","DotMetricsDeviceGuidId"]},permutive:{cookies:["permutive-id"],localStorage:["permutive-data-queries","_pubcid","permutive-pvc","permutive-data-enrichers","permutive-session","permutive-data-misc","permutive-unprocessed-pba","permutive-app","permutive-data-models","permutive-id","permutive-consent","permutive-events-cache","permutive-data-queries","permutive-events-for-page","__permutiveConfigQueryParams"],sessionStorage:["__permutiveConfigQueryParams"]},prebid:{localStorage:["_psegs","_pubcid_exp"]},googletag:{cookies:["__gpi","__gads"]},"google-analytics":{cookies:["_gid","_ga"]}},ie=e=>Object.keys(re).forEach((t=>{var n=ne(t,e),r=re[t];n||("cookies"in r&&r.cookies.forEach((),"localStorage"in r&&r.localStorage.forEach((e=>{a.t.local.remove(e)})),"sessionStorage"in r&&r.sessionStorage.forEach((e=>{a.t.session.remove(e)})))}));h||window.guCmpHotFix||(window.guCmpHotFix={});var oe,ae=!1,se=new Promise((e=>{oe=e})),ce=h?y:(G=window.guCmpHotFix).cmp||(G.cmp={init:e=>{var{pubData:t,country:n}=e;if(!ee()&&!h)if(window.guCmpHotFix.initialised){var r,o;"13.7.1"!==(null===(r=window.guCmpHotFix.cmp)||void 0===r?void 0:r.version)&&console.warn("Two different versions of the CMP are running:",["13.7.1",null===(o=window.guCmpHotFix.cmp)||void 0===o?void 0:o.version])}else{if(window.guCmpHotFix.initialised=!0,void 0===n)throw new Error("CMP initialised without `country` property. A 2-letter, ISO ISO_3166-1 country code is required.");var a=((n);$(a,null!=t?t:{}),X().then((e=>{K=e,ae=!0,(0,i.c)("cmp","initComplete")})),oe(),Z((e=>{"requestIdleCallback"in window?requestIdleCallback((()=>{ie(e)}),{timeout:2e3}):ie(e)}))}},willShowPrivacyMessage:()=>se.then((()=>X())),willShowPrivacyMessageSync:()=>{if(void 0!==K)return K;throw new Error("CMP has not been initialised. Use the async willShowPrivacyMessage() instead.")},hasInitialised:()=>ae,showPrivacyManager:()=>{se.then(Y)},version:"13.7.1",__isDisabled:ee,__enable:()=>{document.cookie="".concat(Q,"=false")},__disable:),le=h?()=>(b(),Promise.resolve({canTarget:!1,framework:null})):(W=window.guCmpHotFix).onConsent||(W.onConsent=()=>new Promise(((e,t)=>{Z((n=>{(n.tcfv2||n.ccpa||n.aus)&&e(n),t("Unknown framework")}))}))),ue=h?()=>b():(V=window.guCmpHotFix).onConsentChange||(V.onConsentChange=Z),de=h?(e,t)=>(console.log("Server-side call for getConsentFor(".concat(e,", ").concat(JSON.stringify(t),")"),"getConsentFor will always return false server-side"),b(),!1):(J=window.guCmpHotFix).getConsentFor||(J.getConsentFor=ne)},3602:8251:(e,t,n)=>{n.d(t,{e:()=>o});var r=n(2510),i=n(2965),o=e=>{var{name:t,shouldMemoize:n=!1}=e,o=i.k.get(t);if(o)return o;var[a]=(0,r.H)(t);return a?(n&&i.k.set(t,a),a):null}},2510:(e,t,n)=>{n.d(t,{H:()=>r});var r=e=>{var t="".concat(e,"=");return document.cookie.split(";").reduce(((e,n)=>{var r=n.trim();return r.startsWith(t)&&e.push(r.substring(t.length,r.length)),e}),[])}},3007:(e,t,n)=>{n.d(t,{B:()=>i});var r=n(7176),i=function(){var{isCrossSubdomain:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.W)({isCrossSubdomain:e});return"localhost"===t?"":" domain=".concat(t,";")}},7176:(e,t,n)=>{n.d(t,{W:()=>r});var r=function(){var e,t,n,{isCrossSubdomain:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=document.domain||"";return"localhost"===i||null!==(e=window.guardian)&&void 0!==e&&null!==(t=e.config)&&void 0!==t&&null!==(n=t.page)&&void 0!==n&&n.isPreview?i:r?["",...i.split(".").slice(-2)].join("."):i.replace(/^(www|m\.code|dev|m)\./,".")}},1254:(e,t,n)=>{n.d(t,{I:()=>o});var r=/[()<>@,;"\\/[\]?={} \t]/g,i=e=>!r.test(e),o=,2965:1881:(e,t,n)=>{n.d(t,{n:()=>i});var r=n(7176),i=e=>{var{name:t,currentDomainOnly:n=!1}=e,i="expires=Thu, 01 Jan 1970 00:00:01 GMT;",o="path=/;";document.cookie="".concat(t,"=;").concat(o).concat(i),n||(document.cookie="".concat(t,"=;").concat(o).concat(i," domain=").concat((0,r.W)(),";"))}},4953:(e,t,n)=>{n.d(t,{d:()=>c});var r=n(3602),i=n(2510),o=n(3007),a=n(1254),s=n(2965),c=e=>{var{name:t,value:n,daysToLive:c,isCrossSubdomain:l=!1}=e,u=new Date;if(!(0,a.I)(t,n))throw new Error("".concat(r.P," ").concat(t,"=").concat(n));if(c?u.setUTCDate(u.getUTCDate()+c):(u.setUTCMonth(u.getUTCMonth()+5),u.setUTCDate(1)),document.cookie="".concat(t,"=").concat(n,"; path=/; expires=").concat(u.toUTCString(),";").concat((0,o.B)({isCrossSubdomain:l})),s.k.has(t)){var[d]=(0,i.H)(t);d&&s.k.set(t,d)}}},4367:(e,t,n)=>{n.d(t,{C:()=>r});var r=,1083:(e,t,n)=>{n.d(t,{K:()=>r});var r=,5336:(e,t,n)=>{n.d(t,{H:()=>r});var r=,1401:(e,t,n)=>{n.d(t,{v:()=>r});var r=(e,t)=>new Promise(((n,r)=>{var i,o=document.createElement("script");if(o.src=e,Array.from(document.scripts).some(())return n(void 0);Object.assign(o,t),o.onload=n,o.onerror=(t,n,i,o,a)=>{if(a)r(a);else if("string"!=typeof t)if(t instanceof Event){var s,c=null!==(s=t.target.getAttribute("src"))&&void 0!==s?s:"";r(new Error("Error loading script: src: ".concat(e," targetSrc: ").concat(c)))}else r(new Error("Error loading script: src: ".concat(e)));else r(new Error("Error loading script: src: ".concat(e," event: ").concat(t)))};var a=document.scripts[0];null==a||null===(i=a.parentNode)||void 0===i||i.insertBefore(o,a)}))},2500:(e,t,n)=>{n.d(t,{c:()=>m});var r=n(5336),i=n(5783),o="gu.logger",a=n(3091);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,d,f=c(c({},a.aH),a.zH),p=e=>{var{background:t,font:n}=f[e];return"background: ".concat(t,"; color: ").concat(n,"; padding: 2px 3px; border-radius:3px")},v=()=>{var e=i.t.local.get(o);return(0,r.H)(e)?e.split(",").filter(a.HU):[]};"undefined"!=typeof window&&((u=window).guardian||(u.guardian={}),(d=window.guardian).logger||(d.logger={subscribeTo:e=>{var t=v();t.includes(e)||t.push(e),i.t.local.set(o,t.join(",")),m(e,"🔔 Subscribed, hello!")},unsubscribeFrom:e=>{m(e,"🔕 Unsubscribed, good-bye!");var t=v().filter((t=>t!==e));i.t.local.set(o,t.join(","))},a.aH)}));var m=function(e){if(v().includes(e)){for(var t=[p("common"),"",p(e),""],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console.log("%c@guardian%c %c".concat(e,"%c"),...t,...r)}}},3091:(e,t,n)=>{n.d(t,{HU:()=>o,aH:()=>i,zH:()=>r});var r={common:{background:"#052962",font:"#ffffff"}},i={commercial:{background:"#77EEAA",font:"#004400"},cmp:{background:"#FF6BB5",font:"#2F0404"},dotcom:{background:"#000000",font:"#ff7300"},design:{background:"#185E36",font:"#FFF4F2"},tx:{background:"#2F4F4F",font:"#FFFFFF"},supporterRevenue:{background:"#0F70B7",font:"#ffffff"},identity:{background:"#6F5F8F",font:"#ffffff"},openJournalism:{background:"#C74600",font:"#FEF9F5es(e)},5783:(e,t,n)=>{n.d(t,{t:()=>p});var r,i,o=n(1083),a=n(5336);function s(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function c(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,u(e,t,"get"))}function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,u(e,t,"set"),n),n}function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var d=new WeakMap;class f{constructor(e){s(this,d,{writable:!0,value:void 0});try{var t=window[e],n=(new Date).toString();t.setItem(n,n);var r=t.getItem(n)==n;t.removeItem(n),r&&l(this,d,t)}catch(e){}}isAva,d))}get(e){try{var t,n,r=JSON.parse(null!==(t=null===(n=c(this,d))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:"");if(!(0,o.K)(r))return null;var{value:i,expires:s}=r;return(0,a.H)(s)&&new Date>new Date(s)?(this.remove(e),null):i}catch(e){return null}}set(e,t,n){var r;return null===(r=c(this,d))||void 0===r?void 0:r.setItem(e,JSON.stringify({value:t,expires:n}))}remove(e){var t;return null===(t=c(this,d))||void 0===t?void 0:t.removeItem(e)}clear(){var e;return null===(e=c(this,d))||void 0===e?void 0:e.clear()}getRaw(e){var t,n;return null!==(t=null===(n=c(this,d))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:null}setRaw(e,t){var n;return null===(n=c(this,d))||void 0===n?void 0:n.setItem(e,t)}}var p=new(r=new WeakMap,i=new WeakMap,class{constructor(){s(this,r,{writable:!0,value:void 0}),s(this,i,{writable:!0,value:void 0})}get local(){return c(this,r)||l(this,r,new f("localStorage"))}get session(){return c(this,i)||l(this,i,new f("sessionStorage"))}})}300}}t}()},8023:function(e,t,n){var r;!function(t){var i=function(){},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationF)}a.prototype={constructor:a,run)t()},measure:function(e,t){i("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},ms),n},s,e)},e(),t},catch:null};var u=t.fastdom=t.fastdom||new a;void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r)}("undefined"!=typeof window?window:this)}ts=t}}}}}},8281:(e,t,n)=>{var r=n(2581),i=n(4176),o=n(9655),a=n(7577),s=n(3930),c=s.isErrorEvent,l=s.isDOMError,u=s.isDOMException,d=s.isError,f=s.isObject,p=s.isPlainObject,v=s.isUndefined,m=s.isFunction,g=s.isString,h=s.isArray,b=s.isEmptyObject,w=s.each,y=s.objectMerge,_=s.truncate,S=s.objectFrozen,E=s.hasKey,P=s.joinRegExp,O=s.urlencode,k=s.uuid4,j=s.htmlTreeAsString,C=s.isSameException,x=s.isSameStacktrace,A=s.parseUrl,T=s.fill,N=s.supportsFetch,D=s.supportsReferrerPolicy,B=s.serializeKeysForMessage,M=s.serializeException,L=s.sanitize,I=n(2593).wrapMethod,F="source protocol user pass host port path".split(" "),R=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\Date}var z="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},H=z.document,U=z.navi[e]}G.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,crs,n},inthis},sff()},cos,n)}=t,i},uninthis},_promiseRejectionHa1}})},_attachPromiseRejectionHathis},_detachPromiseRejectionHathis},captureExcethis},_getCaptureExceptionOptionsFromPlainOt),r},captureMeis}}},captureBreadthis},addPthis},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsCothis},clearCothis},getCoxt))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=q(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=q(t,e),this},setShouldSendCalthis},setTranthis},lastException:function(){return this._lastCapturedException},lastEvntId},is!1))},aftell()},showReportD(s)}},_ignoreNextOn1}))},_trigger){}}},_breadcrumbEventHa})}}},_keypressEventHa3)}}},_captureUrlCe}})},_patchFunctionToSts)}},_unpatchFunctionToSing)},_instrumentTry[a])},_instrumentBreadc}))}},_restoreBui]=r}},_restoreCos[e]},_drainPl)}))},_parrn n},_getGlobalSt),t},_handleOnErrorStace,t)},_handleStacn,t)},_prepareFmit)},_normalize)),n},_processExce(c)}},_trimPs),e},_trimBreadca=r}},_getHtt),e}},_resetBanull},_shouldBation},_isRepeant))},_setBackoff()}}},e)))},_sanitizeys)},_getUuid:function(){return k()},_sendProcessedPa",e)},_makeRe))))},_evaluatrn t},_log,1))},_mergeCo},t)}},G.prototype.setUser=G.prototype.setUserContext,G.prototype.setReleaseContext=G.prototype.setRelease,e.exports=G}nt=r},3930:(e,t,n)=>{var r=n(4176),i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?se===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.caar h=3,b=512_(e)}e.exports={ill!==e},Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMExall(e)},isUndefined:o,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:c,isEmptturn!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMExurn!1}},supportsFetch:l,supportsReferreurn!1}},supportsPromiseRejectinEvent},wrappedCr)||r}},each:u,obje),e):e},truncate:d,objeczen(e)},hasKey:f,joinRegExp:p,urn("&")16)}))},htmlTreeA" > ")},htmlElementAsString:v,isSameExar n,r},isSameStacktrace:g,p]+n+rt,i])}},soin(t)},serializeExn-1):o},serializeKeysForreturn""}}):t}(n)}}},2581:(e,t,n)=>{var r=n(3930),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},a=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error):ion.href,n=[]},g}(),i.computeSProp=e,r}(),e.exportializu(f(e))}},3141:function(e,t,n){var r;!fuion i(){}var o=i.prototype,a=t.Evetener)}o.getreturn t},o.flattenreturn n},o.getListener=n),t||n},o.adurn this},o.on=c("addListener"),o.addOncnce:!0})},o.once=c("addOnceListener"),o.de(e),this},o.defurn this},o.removurn this},o.off=c("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.remove(!0,e,t)},o.manipulateurn this},o.reurn this},o.removeAllListeners=c("removeEvent"),o.urn this},o.trigger=c("emitEventent(e,t)},o.setOnceRee=e,this},o._getOnceReurnValue},o._ents={})},i.ntter=a,i},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},578:(e,t,n)=>{n.d(t,{N9:()=>d,PH:()=>c,W:()=>g,ZN:()=>v,oe:()=>m});var r=n(8673);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends Array{constructor(e){var[t,n]=e;super(),a(this,0,void 0),a(this,1,void 0),this[0]=t,this[1]=n}toString(){return 0===this.width&&0===this.height?"fluid":"".concat(this.width,",").concat(this.height)}toArray(){return[this[0],this[1]]}isProxy(){var e=1===this.width&&1===this.height,t=2===this.width&&2===this.height,n="fluid"===this.toString(),r=88===this.width,i=3===this.width&&3===this.height;return e||t||n||r||i}get width(){retur this[1]}}var c=(e,t)=>new s([e,t]),l={billboard:c(970,250),halfPage:c(300,600),leaderboard:c(728,90),mobilesticky:c(320,50),mpu:c(300,250),portrait:c(300,1050),skyscraper:c(160,600),cascade:c(940,230),portraitInterstitial:c(320,480)},u={"970x250":l.billboard,"300x600":l.halfPage,"728x90":l.leaderboard,"300x250":l.mpu,"300x1050":l.portrait,"160x600":l.skyscraper},d={outstreamDesktop:c(620,350),outstreamGoogleDesktop:c(550,310),outstreamMobile:c(300,197)},f={fluid:c(0,0),googleCard:c(300,274),outOfPage:c(1,1)},p={empty:c(2,2),fabric:c(88,71),inlineMerchandising:c(88,85),merchandising:c(88,88),merchandisingHigh:c(88,87),merchandisingHighAdFeature:c(88,89),sponsorLogo:c(3,3)},v=o(o(o(o(o({},l),u),d),f),p),m={inline:{mobile:[v.outOfPage,v.empty,v.outstreamMobile,v.mpu,v.googleCard,v.fluid],desktop:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.fluid]},right:{mobile:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.halfPage,v.fluid]},comments:{mobile:[v.outOfPage,v.empty,v.outstreamMobile,v.mpu,v.googleCard,v.fluid],desktop:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.fluid]},"comments-expanded":{mobile:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.fluid,v.skyscraper,v.halfPage]},"top-above-nav":{mobile:[v.outOfPage,v.empty,v.fabric,v.outstreamMobile,v.mpu,v.fluid],tablet:[v.outOfPage,v.empty,v.fabric,v.fluid,v.leaderboard],desktop:[v.outOfPage,v.empty,v.leaderboard,c(940,230),c(900,250),v.billboard,v.fabric,v.fluid]},"fronts-banner":{desktop:[v.outOfPage,v.empty,v.billboard,v.merchandisingHigh,v.fluid]},mostpop:{mobile:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.fluid],phablet:[v.outOfPage,v.empty,v.outstreamMobile,v.mpu,v.googleCard,v.halfPage,v.fluid],tablet:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.halfPage,v.fluid],desktop:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.halfPage,v.fluid]},im:{mobile:[v.outOfPage,v.empty,v.inlineMerchandising,v.fluid]},"merchandising-high":{mobile:[v.outOfPage,v.empty,v.merchandisingHigh,v.fluid,v.mpu],tablet:[v.outOfPage,v.empty,v.merchandisingHigh,v.fluid],desktop:[v.outOfPage,v.empty,v.merchandisingHigh,v.fluid,v.billboard]},"merchandising-high-lucky":{mobile:[v.outOfPage,v.empty,v.fluid]},merchandising:{mobile:[v.outOfPage,v.empty,v.merchandising,v.fluid,v.mpu],tablet:[v.outOfPage,v.empty,v.merchandising,v.fluid],desktop:[v.outOfPage,v.empty,v.merchandising,v.fluid,v.billboard]},survey:{desktop:[v.outOfPage]},carrot:{mobile:[v.fluid]},epic:{mobile:[v.fluid]},"mobile-sticky":{mobile:[v.mobilesticky]},"crossword-banner":{phablet:[v.outOfPage,v.empty,v.leaderboard]},"article-end":{mobile:[]},exclusion:{mobile:[v.empty]},external:{mobile:[v.outOfPage,v.empty,v.fluid,v.mpu]},"sponsor-logo":{mobile:[v.outOfPage,v.empty,v.fluid,v.sponsorLogo]}},g=(e,t)=>{if(!(0,r.z)(t))return[];for(var n=r.A.findIndex((e=>e===t));n>=0;){var i=e[r.A[n]];if(null!=i&&i.length)return i;n--}return[]}},3517:(e,t,n)=>{n.d(t,{O5:()=>f,dQ:()=>v,iw:()=>p,x8:()=>d});var r=n(2500),i=n(578),o=n(8673);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={im:{label:!1,refresh:!1},"merchandising-high":{refresh:!1},carrot:{label:!1,refresh:!1,name:"carrot"},"mobile-sticky":{label:!0,refresh:!0,name:"mobile-sticky"}},l=(e,t,n)=>{var i="".concat("dfp-ad--").concat(e);if(window.guardian.config.isDotcomRendering&&"top-above-nav"===e){var o=document.getElementById(i);null!=o&&o.parentNode&&((0,r.c)("commercial","warning: cleaning up dom node id: dfp-ad--".concat(e)),o.parentNode.removeChild(o))}var a=document.createElement("div");return a.id=i,a.className="js-ad-slot ad-slot ".concat(n.join(" ")),a.dataset.linkName="ad slot ".concat(e),a.dataset.name=e,a.setAttribute("aria-hidden","true"),Object.entries(t).forEach((e=>{var[t,n]=e;return a.dataset[t]=n})),a},u=(e,t)=>{var n;return[...null!==(n=null==t?void 0:t.split(" "))&&void 0!==n?n:[concat(e)))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(t).reduce(((e,t)=>{var[n,r]=t;if((0,o.z)(n)){var a=(0,i.W)(e,n);e[n]=a.concat(r)}return e}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},f="ad-slot-container",p=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("div");return r.className="".concat(f," ").concat(null!==(t=n.className)&&void 0!==t?t:""),r.appendChild(e),r},v=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null!==(t=c[e])&&void 0!==t?t:{},a=null!==(n=null!==(r=i.name)&&void 0!==r?r:o.name)&&void 0!==n?n:e,s={};return!1===o.label&&(s.label="false"),!1===o.refresh&&(s.refresh="false"),l(a,s,u(a,i.classes))}},4963:(e,t,n)=>{n.d(t,{X:()=>o,a:()=>v});var r=n(2500);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=()=>"undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.mark,a=["top-above-nav","inline1","inline2","fronts-banner-1","fronts-banner-2"],s=["slotReady","adRenderStart","prebidStart","adOnPage","viewable"],c=["adRender","defineSlot","prepareSlot","prebid","fetchAd"],l=["commercialStart","commercialModulesLoaded"],u=["commercialBoot","googletagInit"],d=[...s,...c.map((e=>"".concat(e,"Start"))),(e,"End")))],f=["cmp-init","cmp-ui-displayed","cmp-got-consent"],p=e=>{var[t,n]=e.split("_");n||(n=t,t="page");var r=a.includes(t)&&s.includes(n)||"page"===t&&l.includes(n),i=a.includes(t)&&c.includes(n)||"page"===t&&u.includes(n);return r||i};class v{static init(){var e;return(e=window.guardian).commercialTimer||(e.commercialTims.init()}get _externalMarks(){return o()?f.reduce(((e,t)=>{var n=window.performance.getEntriesByName(t);return n.length&&n[0]&&e.set(t,n[0]),e}),new Map):new Map}get marks(){return[...this._marks,...this._externalMarks].map((e=>{var[t,n]=e;return{name:t,ts:n.startTime}}))}get measures(){return[...this._measuuration}}))}constructor(){i(this,"_marks",void 0),i(this,"_measures",void 0),i(this,"properties",void 0),this._marks=new Map,this._measures=new Map,this.properties={},window.navigator.connection&&(this.properties.type=window.navigator.connection.type,this.properties.downlink=window.navigator.connection.downlink,this.properties.effectiveType=window.navigator.connection.effecies[e]=t}mark(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=e;if(d.includes(e)&&"page"!==t&&(n="".concat(t,"_").concat(n)),!this._marks.get(n)&&o()){var r=window.performance.mark(n);"number"==typeof(null==r?void 0:r.startTime)&&p(n)&&this._marks.set(n,r),n.endsWith("End")&&this.measure(n)}}measure(e){var t=e.replace("End","Start"),n=e.replace("End","");if(window.performance.getEntriesByName(t).length>0)try{var i=window.performance.measure(n,t,e);i&&p(n)&&this._measures.set(n,i)}catch(e){(0,r.c)("commercial","error measuring ".concat(n),e)}}}},8673:(e,t,n)=>{n.d(t,{A:()=>r,z:()=>i});var r=["mobile","phablet","tablet","desktop"],i=e=>r.includes(e)},5172:(e,t,n)=>{n.d(t,{cY:()=>l,jC:()=>c,vD:()=>s});var r=n(5783),i="_papns",o="_pdfps",a=e=>{try{var t=r.t.local.getRaw(e),n=t?JSON.parse(t):null;return Array.isArray(n)?n.slice(0,Int(e,10)).isNaN(e))).map(String):[]}catch(e){return[]}},s=()=>a(i),c=(emove(o)}},5480:(e,t,n)=>{n.d(t,{I:()=>o});var r=n(675),i=["ab","at","bl","bp","br","cc","ct","dcre","edition","firstvisit","k","rc","rp","s","se","sens","sh","si","skinsize","su","tn","url","urlkw"],o=(e,t,n)=>{var o=(0,r.l)({adFree:t,consentState:e,clientSideParticipations:{},isSignedIn:n});return Object.fromEntries(Object.entries(o).filter((e=>{var t,[n]=e;return t=n,i.includes(t)})))}},675:(e,t,n)=>{n.d(t,{l:()=>P});var r,i=n(1284),o=n(5336),a=n(8251),s=n(4963),c=n(5783),l=/^[A-Z]{2}$/,u=e=>(0,o.H)(e)&&l.test(e),d={UK:"GB",US:"US",AU:"AU"},f=()=>{if(r)return r;var e=c.t.local.get("gu.geo.override");if(u(e))return r=e;var t=(0,a.e)({name:"GU_geo_country"});if(t&&u(t))return r=t;var n,i=(n=window.guardian.config.page.edition,d[n]);return r=i},p=["25","30","60","90","120","150","180","210","240","270","300"],v=e=>{var t,n=Math.min(Math.ceil(e/30),10);return null!==(t=p[n])&&void 0!==t?t:null},m=e=>{var t=(Date.now()-e)/1e3/60/60,n=t/24,r=n/30;return t<2?"0":t<24?"1":n<3?"2":n<7?"3":n<30?"4":r<10?"5":r<14?"6":"7"},g=e=>{var t,n,r,{eligibleForDCR:i,path:a,renderingPlatform:s,section:c,sensitive:l,videoLength:u,webPublicationDate:d,keywords:f}=e,p=(t=a.split("/").filter(Boolean).slice(-1)[0],(0,o.H)(t)?t.split("-").filter(Boolean):[]);return{dcre:i?"t":"f",rc:m(d),rp:s,s:c,sens:l?"t":"f",urlkw:p,vl:u?v(u):null,allkw:(n=p,r=f,[...new Set([...n,...r])])}},h=n(166),b=n(876),w=n(4817);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=e=>(!(0,s.X)()||"navigate"===(()=>{if((0,s.X)()){var e=performance.getEntriesByType("navigation"),t=e[e.length-1];return null==t?void 0:t.type}})())&&!(e=>!!e&&new URL(e).hostname===window.location.hostname)(e),P=e=>{var t,n,{adFree:r,clientSideParticipations:s,consentState:c,isSignedIn:l=!1,youtube:u=!1}=e,{page:d,isDotcomRendering:p}=window.guardian.config,v=r?{af:"t"}:{},m=d.sharedAdTargeting?(0,w.y)(d.sharedAdTargeting):{},y=g({webPublicationDate:d.webPublicationDate,eligibleForDCR:d.dcrCouldRender,path:"/".concat(d.pageId),renderingPlatform:p?"dotcom-rendering":"dotcom-platform",section:d.section,sensitive:d.isSensitive,videoLength:d.videoDuration,keywords:null!==(t=m.k)&&void 0!==t?t:[]}),S=document.referrer||"",P=(0,b.H)({adTest:(0,a.e)({name:"adtest",shouldMemoize:!0}),countryCode:f(),isSignedIn:l,pageViewId:window.guardian.config.ophan.pageViewId,participations:{clientSideParticipations:s,serverSideParticipations:null!==(n=window.guardian.config.tests)&&void 0!==n?n:{}},referrer:S}),O=(e=>{var t,{viewPortWidth:n,cmpBannerWillShow:r}=e,i=window.guardian.config.page.isPreview;return{bp:(t=n,t>=980?"desktop":t>=660?"tablet":"mobile"),skinsize:n>=1560?"l":"s",inskin:r||i?"f":"t"}})({viewPortWidth:[window.innerWidth||document.body.clientWidth||0,window.innerHeight||document.body.clientHeight][0],cmpBannerWillShow:!i.ER.hasInitialised()||i.ER.willShowPrivacyMessageSync()}),k=(0,h.s)({state:c,youtube:u}),j={};c.canTarget||(j.firstvisit=E(S)?"t":"f");var C=(e=>{var t={};for(var n in e){var r=e[n];((0,o.H)(r)||Array.isArray(r)&&r.length>0&&r.every(o.H))&&(t[n]=r)}return t})(_(_(_(_(_(_(_({},k),m),v),y),P),O),j));return C}},166:(e,t,n)=>{n.d(t,{s:()=>p});var r=n(5783),i=n(5172);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["0","1","2","3","4","5","6-9","10-15","16-19","20-29","30plus"],c="gu.adManagerGroup",l=["1","2","3","4","5","6","7","8","9","10","11","12"],u=e=>{var t=((e,t)=>t.tcfv2&&t.tcfv2.consents[1]||t.ccpa&&!t.ccpa.doNotSell||t.aus&&t.aus.personalisedAdvertising?r.t.local.getRaw(e):null)("gu.alreadyVisited",e);if(!t)return"0";var n,i=parseInt(t,10);return i<=5?null!==(n=s[i])&&void 0!==n?n:"0":i>=6&&i<=9?"6-9":i>=10&&i<=15?"10-15":i>=16&&i<=19?"16-19":i>=20&&i<=29?"20-29":i>=30?"30plus":"0"},d=e=>{if(!e.framework)return r.t.local.remove(c),null;if(e.tcfv2&&!e.canTarget)return r.t.local.remove(c),null;var t,n,i,o,a=r.t.local.getRaw(c);return o=a,l.some((e=>e===o))?a:(n=Math.floor(Math.random()*l.length),i=null!==(t=l[n])&&void 0!==t?t:"12",r.t.local.setRaw(c,i),i)},f=(e,t)=>e.canTarget?t?(0,i.jC)():(0,i.vD)():((0,i.cY)(),[]),p=e=>{var{state:t,youtube:n}=e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amtgrp:d(t),fr:u(t),permutive:f(t,n)},(e=>e.tcfv2?{cmp_interaction:e.tcfv2.eventStatus,pa:e.canTarget?"t":"f",consent_tcfv2:e.canTarget?"t":"f",rdp:"na"}:e.ccpa?{consent_tcfv2:"na",rdp:e.canTarget?"f":"t",pa:e.canTarget?"t":"f"}:e.aus?{consent_tcfv2:"na",rdp:"na",pa:e.canTarget?"t":"f"}:{cmp_interaction:"na",consent_tcfv2:"na",rdp:"na",pa:"f"})(t))}},876:(e,t,n)=>{n.d(t,{H:()=>s});var r=n(5336),i=[{id:"facebook",match:"facebook.com"},{id:"google",match:"www.google"},{id:"twitter",match:"/t.co/"},{id:"reddit",match:"reddit.com"}],o=e=>{var t;if(""===e)return null;var n=null!==(t=i.find((t=>e.includes(t.match))))&&void 0!==t?t:null;return n?n.id:null},a=e=>{var{clientSideParticipations:t,serverSideParticipations:n}=e,i=(e,t)=>"notintest"===t?null:"".concat(e,"-").concat(t).substring(0,40),o=Object.entries(t).map((e=>{var[t,n]=e;return i(t,n.variant)})).filter(r.H),a=Object.entrie=>i(...e))).filter(r.H);return o.length+a.length===0?null:[...o,...a]},s=e=>{var{adTest:t,countryCode:n,isSignedIn:r,pageViewId:i,participations:s,referrer:c}=e;return{ab:a(s),at:t,cc:n,pv:i,ref:o(c),si:r?"t":"f"}}},4817:(e,t,n)=>{n.d(t,{y:()=>a});var r=)&&""!==e,o=e=>{return!!i(e)||(t=e,!!(Array.isArray(t)&&t.filter(i).length>0));var t},a=e=>{return t=e,Object.entries(t).reduce(((e,t)=>{var[n,r]=t;return o(r)&&(e[n]=Array.isArray(r)?r.filter(i):r),e}),{});var t}},7869:(e,t,n)=>{n.d(t,{_k:()=>m,bc:()=>d,qZ:()=>v,vv:()=>f});var r,i,o=n(3876),a=n(9204),s={mobile:o.A.mobile,tablet:o.A.tablet,desktop:o.A.desktop,wide:o.A.wide},c={mobileMedium:o.A.mobileMedium,mobileLandscape:o.A.mobileLandscape,phablet:o.A.phablet,leftCol:o.A.leftCol},l=["wide","leftCol","desktop","tablet","phablet","mobileLandscape","mobileMedium","mobile"],u=(e,t)=>{var n=l.find((n=>(e=>e in s)(n)?t>=s[n]:!!e&&t>=c[n]));return null!=n?n:"mobile"},d=()=>{var e,t;return null!==(e=r)&&void 0!==e?e:(t=(0,a.a)().width,u(!1,t))},f=()=>{var e,t;return null!==(e=i)&&void 0!==e?e:(t=(0,a.a)().width,u(!0,t))},p=e=>{var{min:t,max:n}=e,r=t?"number"==typeof t?t:o.A[t]:null,i=n?"number"==typeof n?n:o.A[n]-1:null;return[r?"(min-width: ".concat(r,"px)"):null,i?"(max-width: ".concat(i,"px)"):null].filter(Boolean).join(" and ")},v=e=>{var{min:t,max:n}=e;return window.matchMedia(p({min:t,max:n})).matches},m=e=>{var t=e?f():d();return n=>{var r=e?f():d();r!==t&&(n(r,t),t=r)}};Object.entries(o.A).forEach(((e,t,n)=>{var[a]=e;if(a in o.A){var s=n[t+1],c=window.matchMedia(p({min:a,max:s?s[1]:void 0})),l=e=>e.matches&&(i=a,void(r=u(!1,o.A[i])));void 0!==c.addEventListener?c.addEventListener("change",l):void 0!==c.addListener&&c.addListener(l),l(c)}}))},9204:(e,t,n)=>{n.d(t,{a:()=>r});var r=()=>({width:window.innerWidth||document.body.clientWidth||0,height:window.innerHeight||document.body.clientHeight||0})},172:(e,t,n)=>{n.d(t,{F:()=>a});var r,i=n(7869),o=n(3663).E,a={renderStartTime:-1,adSlotSelector:".js-ad-slot",lazyLoadEnabled:!1,lazyLoadObserve:"IntersectionObserver"in window,advertsToLoad:[],adverts:new Map,shouldLazyLoad:()=>"1"!==o().dll&&(!!["mobile","tablet"].includes((0,i.bc)())||!window.guardian.config.page.hasPageSkin)};window.guardian.commercial=null!==(r=window.guardian.commercial)&&void 0!==r?r:{},window.guardian.commercial.dfpEnv=a},6318:(e,t,n)=>{n.d(t,{Gj:()=>p,z5:()=>f});var r,i=n(8251),o=n(4586);function a(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var s=null,c=!!window.guardian.config.switches.okta,l=null!==(r=window.guardian.config.page.idApiUrl)&&void 0!==r?r:"/ID_API_ROOT_URL_NOT_FOUND";o.K.emit("module:identity:api:loaded");var u=()=>{if(null===s){var e=(0,i.e)({name:"GU_U"});if(e){var t,n,r,o=JSON.parse((d=null!==(t=e.split(".")[0])&&void 0!==t?t:"",decodeURIComponent(escape(window.atob(d.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"=")))))),a=parseInt(null!==(n=o[0])&&void 0!==n?n:"",10),c=decodeURIComponent(null!==(r=o[2])&&void 0!==r?r:""),l=o[6],u=Boolean(o[7]);a&&l&&(s={id:a,publicFields:{displayName:c},dates:{accountCreatedDate:l},statusFields:{userEmailValidated:u},rawResponse:e})}}var d;return s},d=function(){var e,t=(e=function*(){if(c){try{var{isSignedInWithOktaAuthState:e}=yield Promise.all([n.e(209),n.e(963)]).then(n.bind(n,6963)),t=yield e();if(t.isAuthenticated)return{kind:"SignedInWithOkta",accessToken:t.accessToken,idToken:t.idToken}}catch(e){console.error(e)}return{kind:"SignedOutWithOkta"}}return null!==u()?{kind:"SignedInWithCookies"}:{kind:"SignedOutWithCookies"}},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,c,"next",e)}function c(e){a(o,r,i,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),f=()=>===e.kind)),p=()=>d().then((e=>{switch(e.kind){case"SignedInWithCookies":return fetch("".concat(l,"/user/me/identifiers"),{mode:"cors",credentials:"include"}).then((e=>{if(200===e.status)return e.json();throw e.status})).then((e=>e.googleTagId,e),null)));case"SignedInWithOkta":return e.idToken.claims.google_tag_id;default:return null}}))},7748:(e,t,n)=>{n.d(t,{P:()=>f,w:()=>d});var r=n(2500),i=n(2308),o=n(172),a=n(606),s=[o.F.adSlotSelector,".top-banner-ad-container"],c=()=>s.reduce(((e,t)=>[...e,...Array.from(document.querySelectorAll(t)).display,u=e=>a.Z.mutate((()=>e.forEach((e=>{(0,r.c)("commercial","Removing ad slot: ".concat(e.id)),e.remove)=>u(c()),f=(0,i.Z)((()=>u(c().filter(l))))},5714:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(1881),i=n(4953),o=n(3663),a=()=>{var e=(0,o.E)();return"clear"===e.adtest?(0,r.n)({name:"adtest"}):e.adtest&&(0,i.d)({name:"adtest",value:encodeURIComponent(e.adtest),daysToLive:10}),Promise.resolve()}},7726:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(1881),i=n(4953),o=n(3663),a=()=>{var e=(0,o.E)();return"clear"===e.adtestInLabels?(0,r.n)({name:"adtestInLabels"}):e.adtestInLabels&&(0,i.d)({name:"adtestInLabels",value:"true"}),Promise.resolve()}},3204:(e,t,n)=>{n.d(t,{d:()=>_});var r=n(2500),i=n(8251),o=n(7869),a="GU_AF1",s=()=>{var e=(0,i.e)({name:a});return!!e&&!Number.isNaN(parseInt(e,10))},c=n(5783),l="gu.prefs.",u={type:"local"},d=function(e,t){var{type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;c.t[n].set(l+e,t)},f=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;c.t[t].remove(l+e)},p=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;c.t[t].set("".concat(l,"switch.").concat(e),!0)},v=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;c.t[t].set("".concat(l,"switch.").concat(alse"===e,g=e=>{var t,n,r,i=e.hash.substring(1).split("&");for(t=0,n=i.length;t<n;t+=1){var o=i[t];if(o){var a=/^gu\.prefs\.(.*)=(.*)$/.exec(o);if(a){var s=a[1],c=a[2];s&&(void 0!==c?"switchOn"===s?p(c):"switchOff"===s?v(c):(r=c,Number.isNaN(Number(r))?m(c)?d(s,"true"===String(c).toLowerCase()):d(s,c):d(s,+c)):f(s))}}}};g(window.location);const h=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return!1===c.t[t].get("".concat(l,"switch.").concat(e))};function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n=(e,t)=>(0,r.c)("commercial","Adverts are not shown because ".concat(e," = ").concat(String(t)));for(var[i,o]of Object.entries(e))o||n(i,o);for(var[a,s]of Object.entries(t))s&&n(a,s)}var y=()=>"true"===(0,i.e)({name:"gu_digital_subscriber"})||s();var _=new class{constructor(){b(this,"shouldLoadGoogletag",void 0),b(this,"isSecureContact",void 0),b(this,"articleBodyAdverts",void 0),b(this,"carrotTrafficDriver",void 0),b(this,"highMerch",void 0),b(this,"thirdPartyTags",void 0),b(this,"commentAdverts",void 0),b(this,"liveblogAdverts",void 0),b(this,"adFree",void 0),b(this,"comscore",void 0),b(this,"launchpad",void 0),b(this,"youtubeAdvertising",void 0);var e,t=/[#&]noads(&.*)?$/.test(window.location.hash),n=/[#&]noadsaf(&.*)?$/.test(window.location.hash),r=/[?&]forceads(&.*)?$/.test(window.location.search),i=!t&&!h("adverts"),a=window.guardian.config.page.shouldHideAdverts||"childrens-books-site"===window.guardian.config.page.section,s=window.guardian.config.page.isMinuteArticle,c="Article"===window.guardian.config.page.contentType,l="Interactive"===window.guardian.config.page.contentType,u=window.guardian.config.page.isLiveBlog,d=window.guardian.config.page.isHosted,f="Identity"===window.guardian.config.page.contentType||"identity"===window.guardian.config.page.section,p=window.guardian.config.switches,v="wide"===(0,o.bc)(),m=window.guardian.config.page.showNewRecipeDesign,g=!(null===(e=navigator.userAgent.match(/MSIE|Trident/g))||void 0===e||!e.length);this.isSecureContact=["help/ng-interactive/2017/mar/17/contact-the-guardian-securely","help/2016/sep/19/how-to-contact-the-guardian-securely"].includes(window.guardian.config.page.pageId),this.adFree=!!n||y(),this.youtubeAdvertising=!this.adFree&&!a;var _={"switches.shouldLoadGoogletag":!!p.shouldLoadGoogletag,externalAdvertising:i},S={sensitiveContent:a,isIdentityPage:f,adFree:this.adFree,isUnsupportedBrowser:g};this.shouldLoadGoogletag=r||Object.values(_).every(Boolean)&&!Object.values(S).some(Boolean),this.shouldLoadGoogletag||w(_,S);var E={isArticle:c},P={isMinuteArticle:s,isLiveBlog:!!u,isHosted:d,newRecipeDesign:!!m};this.articleBodyAdverts=this.shouldLoadGoogletag&&!this.adFree&&Object.values(E).every(Boolean)&&!Object.values(P).some(Boolean),c&&!this.articleBodyAdverts&&w(E,P),this.carrotTrafficDriver=!this.adFree&&this.articleBodyAdverts&&!window.guardian.config.page.isPaidContent,this.highMerch=this.shouldLoadGoogletag&&!this.adFree&&!s&&!d&&!l&&!window.guardian.config.page.isFront&&!window.guardian.config.isDotcomRendering&&!m,this.thirdPartyTags=!this.adFree&&i&&!f&&!this.isSecureContact,this.launchpad=!this.adFree&&i&&!f&&!this.isSecureContact&&!!window.guardian.config.switches.redplanetForAus,this.commentAdverts=this.shouldLoadGoogletag&&!this.adFree&&!s&&!!window.guardian.config.switches.enableDiscussionSwitch&&window.guardian.config.page.commentable&&(!u||v),this.liveblogAdverts=!!u&&this.shouldLoadGoogletag&&!this.adFree,this.comscore=!!window.guardian.config.switches.comscore&&!f&&!this.isSecureContact}}},606:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8023),i=n.n(r),o=n(4291),a=n.n(o);const s=i().extend(a())},2546:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(4546),i=n.n(r);function o(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var a=function(){var e,t=(e=function*(){return!window.guardian.config.isDotcomRendering&&new Promise((e=>{window.guardian.adBlockers.active?e(window.guardian.adBlockers.active):window.guardian.adBlockers.onDetect.push(e)}))},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}()(),{sentryPublicApiKey:s,sentryHost:c,edition:l,contentType:u,revisionNumber:d,isDev:f}=window.guardian.config.page,{enableSentryReporting:p}=window.guardian.config.switches,v="https://".concat(s,"@").concat(c),m=!1,g={whitelistUrls:[/localhost/,/assets\.guim\.co\.uk/,/ophan\.co\.uk/],tags:{edition:l,contentType:u,revisionNumber:d},ignoreErrors:["Can't execute code from a freed script",/There is no space left matching rules from/gi,"Top comments failed to load:","Comments failed to load:",/InvalidStateError/gi,/Fetch error:/gi,"Network request failed","This video is no longer available.","UnknownError","TypeError: Failed to fetch","TypeError: NetworkError when attempting to fetch resource","Fetch error while requesting https://api.nextgen.guardianapps.co.uk/weatherapi/city.json:"],dataCallback(e){var{culprit:t}=e,n=e,r=!!t&&/j.ophan.co.uk/.test(t);return t&&(n.culprit=t.replace(/\/[a-z\d]{32}(\/[^/]+)$/,"$1")),n.tags.origin=r?"ophan":"app",n},shouldSendCallback(e){var t=!!e.tags.ignored,n=Math.random()<.008;return f&&!t&&console.warn("Raven captured event.",e),!!p&&n&&!t&&!m}(e=>{m=e}));const h=i().config(v,g).install()},2083:(e,t,n)=>{n.d(t,{e:()=>G});var r=n(2546),i=n(2500),o=n(7991),a=n(606),s=n(3663);var c=!!(0,s.E)().sfdebug,l="rgb(255 178 178)",u="rgb(200 0 0)",d="rgb(255 213 178)",f="rgb(255 128 0)",p={absoluteMinAbove:{colour:l,reason:"Too close to the top of page"},aboveAndBelow:{colour:d,reason:"Too close to top or bottom of article"},isStartAt:{colour:"rgb(178 178 255)",reason:"Spacefinder is starting from this position"},startAt:{colour:d,reason:"Before the starting element"},custom:{colour:"rgb(254 255 178)",reason:"Too close to other winner"},winner:{colour:"rgb(178 255 184)",reason:"Winner"},tooClose:{colour:"rgb(178 248 255)",reason:"Too close to other element"}},v=e=efore(n)},g=(e,t,n)=>{t.forEach((t=>{e.addEventListener("mouseenter",(()=>!!(e=>{var t;return(null===(t=document.querySelector('input[name="sfdebug-pass"]:checked'))||void 0===t?void 0:t.value)===e})(n)&&(document.body.contains(t.element)?(t.element.classList.add("blocking-element"),void m(t.element,"".concat(t.actual,"px/").concat(t.required,"px"))):(m(e,"Blocking element(s) removed from DOM: see console for details"),void(0,i.c)("commercial","Spacefinder: blocking element removed from DOM.\nCandidate:",e,"\nBlocking element:",t.element))))),e.addEventListener("mouseleave",(()=>{t.element.classList.remove("blocking-element"),document.querySelectorAll(".overlay").forEach((e=>e.remove()))}))}))},h=(e,t,n,r)=>{try{((e,t,n)=>{var r=function(e){o.forEach((r=>{var i=r instanceof Element?r:r.element,o=r instanceof Element?null:r.meta,a=v(e)&&p[e];i==t.startAt?i.setAttribute("data-sfdebug-".concat(n),"isStartAt"):a?i.setAttribute("data-sfdebug-".concat(n),e):o&&o.tooClose.length>0&&(i.setAttribute("data-sfdebug-".concat(n),"tooClose"),g(i,o.tooClose,n)),i.classList.add("candidate")}))};for(var[i,o]of Object.entries(e))r(i)})(e,n,r),((e,t)=>{e.forEach((e=>{e.element.setAttribute("data-sfdebug-".concat(t),"winner"),e.element.classList.add("candidate")}))})(t,r),((e,t)=>{var n=document.querySelector(e.bodySelector);n.id="sfdebug-body",n.setAttribute("data-sfdebug-min-above-".concat(t),"".concat(e.minAbove,"px"))})(n,r)}catch(e){console.error("SFDebug Error",e)}},b=e=>{(e=>{var t=document.getElementById("sfdebug-body");if(t){var n=t.getAttribute("data-sfdebug-min-above-".concat(e));if(n){var r=document.querySelector(".line");r||((r=document.createElement("div")).className="line",t.appendChild(r)),r.innerHTML="<div class='label'>Ads below here (".concat(n,")</div>"),r.style.top=n}}})(e),(e=>{document.querySelectorAll(".candidate").forEach((t=>{var n;if(t instanceof HTMLElement){var r=null!==(n=t.getAttribute("data-sfdebug-".concat(e)))&&void 0!==n?n:"";if(v(r)){var i=p[r];t.dataset.reason=i.reason,t.style.backgroundColor=i.colour}}}))})(e)},w=e=>{var t=document.querySelector("#sfdebug-panel .controls");if(t){var n=document.createElement("input");n.type="radio",n.id="sfdebug-".concat(e),n.name="sfdebug-pass",n.value=e;var r=document.createElement("label");r.htmlFor="sfdebug-".concat(e),r.innerText=e,n.addEventListener(lue;b(t)})),t.appendChild(n),t.appendChild(r)}},y=()=>{if(!document.querySelector("#sfdebug-panel")){var e=document.createElement("div");e.id="sfdebug-panel",e.innerHTML='\n\t\t<div class="logo">\n\t\t\t'.concat('<svg xmlns="http://www.w3.org/2000/svg" width="3042.7" height="954.7" version="1.0" viewBox="0 0 2282 716"><path d="M400 44a374 374 0 0 0-208 64c-20 15-43 38-59 57-21 25-53 89-62 124-8 33-9 96-2 132 4 21 12 42 28 70a2161 2161 0 0 1 25 45c8 10 50 53 65 66 21 18 45 31 90 48 26 9 47 14 81 16l149 4h46v-3c2-8 3-81 3-176l-3-420V45h-4c-6-1-120-2-149-1zm90 94c16 3 27 10 40 23 12 13 17 23 19 39 0 9-1 23-5 33-6 19-25 53-41 72-18 21-51 54-67 67a964 964 0 0 1-98 61c-20 10-27 14-35 15l-17 6a249 249 0 0 1-137 9c-21-7-32-17-37-32-4-14-3-25 3-36 3-7 23-27 36-37 16-13 23-21 27-29 6-12 8-10 8 6 0 10-2 22-6 32-6 14-14 24-28 33-10 6-11 8-8 12 3 3 15 11 21 13 5 2 7 3 38 3 30 0 33-1 44-3 29-6 75-25 114-48 20-12 53-35 64-44 20-17 51-51 65-72 6-9 15-26 17-34 3-11 3-26 0-33s-10-14-16-17c-5-2-7-2-63-3-42-1-57-2-58-3s-1-2 2-4c11-10 37-23 55-28 17-4 45-5 63-1zm-96 321c24 6 36 18 42 39a58 58 0 0 1-52 70c-15 1-28-4-42-15a48 48 0 0 1-20-43c0-19 3-27 14-38 14-13 36-18 58-13zM1835 62l-55 2c-19 4-37 15-47 29-6 8-11 19-13 27-3 15-6 79-4 111 2 46 6 58 23 75 8 8 12 11 26 18l10 6h76l77 1v-56h-13l-69-1-57-1-4-4c-7-8-8-11-9-23v-11h38l59-1h21v-57h-20l-59-1h-39v-21c0-23 1-26 7-29l9-3 104-4h30v-16l-1-28V61h-20l-70 1zM668 63c-16 1-24 3-33 9-25 14-36 48-36 111 0 27 0 32 6 41l7 8c5 2 25 3 76 3 48 0 73 1 77 3 8 5 10 21 3 29-6 6-27 8-115 8h-64v56h65l95-1c36-1 35-1 49-13 13-12 20-22 24-39 2-7 3-11 2-26a79 79 0 0 0-21-60c-16-15-16-15-91-15h-58v-41l7-10 5-6h171V62h-78l-92 1zM907 84c-12 26-14 33-13 34s35 2 105 2h75v59H872v152h53v-86h84l91-2c17-4 23-12 27-31l2-77V63h-27l-106-1h-79l-10 22zM1176 197v134h53v-98c1-101 1-105 5-105 2 0 15 13 26 27a6210 6210 0 0 1 129 172l3 4h53V83h-58l1 75-1 75a640 640 0 0 1-79-106 113 113 0 0 0-13-18c0-2-7-12-21-29l-16-18h-82v135zM1557 63c-12 1-18 3-29 8-27 14-44 46-49 94-2 15-1 63 1 79 5 32 13 48 32 67 19 18 23 18 111 20h51v-56h-26l-45-1c-27 0-44-1-49-4-6-3-13-11-17-18-2-6-5-20-7-36s-1-47 2-57c4-22 13-34 28-37l60-2h55l-1-11-1-28V63h-116zM1973 197v134h53v-86l24 1 37 1h13l6 12c7 15 19 34 35 56l11 16h27l34-1h8l-2-3c-2-6-11-18-25-37l-24-32-10-14 13-1 18-2c12-3 20-9 29-21l5-7V63h-32l-126-1h-94v135zm199-76v29l1 29h-144v-59l71 1h72zM970 384c-30 2-44 7-57 20-11 11-23 33-27 49-5 17-5 23-5 113v83l26 1 26 1v-99h25a2704 2704 0 0 1 122-2h21l-1-29v-29l-82-1h-82v-7l2-12c3-11 14-24 22-27 5-3 26-4 60-4l54-1h30v-56h-24a7849 7849 0 0 1-110 0zM2002 384h-42v266h55V549h16l19 1c7 2 12 8 45 63l22 37h31l33-1c3-1 2-2-3-10l-15-23a653 653 0 0 0-40-63l25-1c28-1 36-2 45-8 9-5 17-17 20-29 1-6 2-82 1-111v-21h-85l-127 1zm160 83v27h-147v-23l2-26c0-3 0-3 7-3l111-2h27v27zM638 385c-2 6-3 45-4 148v115h56v-7l2-89 69-2h68v-59H693v-11l-1-22v-11l4-1c5-1 42-3 99-4h46v-8l1-29v-21H741l-102 1zM1206 388a2372 2372 0 0 0-34 74c-11 23-22 46-28 63l-30 66-25 55c0 2 2 2 30 4l24 2h5l10-23 10-24h151l11 23 11 23h22l29-1c8 0 8 0 8-3l-19-42-31-68a3604 3604 0 0 0-70-151l-49-2h-24l-1 4zm45 68a2087 2087 0 0 1 43 92c-1 2-99 1-101 0a1108 1108 0 0 0 42-92c6-11 8-13 9-12l7 12zM1420 450l2 200 121 3c66 0 72 0 85-4 8-4 18-11 24-19l11-20 7-13v-65c0-74-1-89-5-101-8-28-23-43-45-45l-104-2h-96v66zm192-4c2 8 3 24 3 74 0 48-1 72-3 74s-18 3-77 4h-61V443h137l1 3zM1734 385l-18 1c-1 2-2 45-2 115 0 92 1 119 7 130 3 6 10 13 19 17 5 3 8 3 18 4l87 1 75 1v-56l-74-1h-73v-47h15a1833 1833 0 0 1 111-2h11v-56h-68l-69 1v-53h144v-56h-83l-100 1z"/></svg>','\n\t\t\t<div class="label">debug mode</div>\n\t\t</div>\n\t\t<div class="controls"></div>\n\t'),document.body.appendChild(e);var t=document.createElement("style");t.innerHTML="\n\t\t#sfdebug-panel {\n\t\t\tfont-family: sans-serif;\n\t\t\tposition: fixed;\n\t\t\tbottom: 0;\n\t\t\tright: 0;\n\t\t\tbackground-color: #ffffff;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 10px 0 0 0;\n\t\t\tz-index: 9999999;\n\t\t\tpadding: 5px;\n\t\t\tborder-top: solid gray 2px;\n\t\t\tborder-left: solid gray 2px;\n\t\t\tbackground: #f1f1f1;\n\t\t\topacity: 0.9;\n\t\t}\n\n\t\t#sfdebug-panel .logo {\n\t\t\theight: 90px;\n\t\t\twidth: 245px;\n\t\t}\n\n\t\t#sfdebug-panel .logo svg {\n\t\t\theight: 65px;\n\t\t\twidth: 100%;\n\t\t\tpadding: 5px;\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t#sfdebug-panel .logo .label {\n\t\t\tfont-size: 17px;\n\t\t\tfont-family: cursive;\n\t\t\tcolor: #c80000;\n\t\t\tposition: relative;\n\t\t\ttop: -5px;\n\t\t\tright: -134px;\n\t\t\tfont-style: italic;\n\t\t}\n\n\t\t#sfdebug-panel .controls {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: center;\n\t\t\tpadding: 0px 10px 5px 10px;\n\t\t}\n\n\t\t#sfdebug-panel .controls label {\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: #454545;\n\t\t\tcolor: white;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 3px;\n\t\t\tuser-select: none;\n\t\t\tmargin: 0 5px;\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-panel .controls input:checked + label {\n\t\t\tbackground-color: rgb(0 128 0);\n\t\t}\n\n\t\t#sfdebug-panel .controls input {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t#sfdebug-body {\n\t\t\tposition: relative;\n\t\t}\n\n\t\t#sfdebug-body .overlay {\n\t\t\tposition:absolute;\n\t\t\tright:0;\n\t\t\tbackground-color:".concat(l,";\n\t\t\tpadding:5px 5px 10px 20px;\n\t\t\tfont-family: sans-serif;\n\t\t\tz-index:20;\n\t\t}\n\n\t\t#sfdebug-body .blocking-element {\n\t\t\tbox-shadow: 0px 0px 0px 10px ").concat(l,";\n\t\t\tz-index:10;\n\t\t\tposition:relative;\n\t\t\tdisplay:block;\n\t\t}\n\n\t\t#sfdebug-body .line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\tbackground-color: ").concat(f,";\n\t\t\theight: 3px;\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-body .line .label {\n\t\t\tposition: absolute;\n\t\t\ttop: -27px;\n\t\t\tleft: 230px;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 14px;\n\t\t\tbackground-color: white;\n\t\t\tpadding: 5px 10px 5px 10px;\n\t\t\tborder: 3px solid ").concat(f,";\n\t\t\tborder-radius: 5px 5px 0px 0px;\n\t\t}\n\n\t\t#sfdebug-body .candidate {\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-body .candidate::before {\n\t\t\tcontent: attr(data-reason);\n\t\t\tposition:absolute;\n\t\t\tright:0;\n\t\t\tbackground-color:#fffffff7;\n\t\t\tpadding:10px;\n\t\t\tborder-radius:0 0 0 10px;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 17px;\n\t\t\tline-height: 1;\n\t\t}\n\n\t\t/* tiny fix for liveblogs */\n\t\t.js-liveblog-body .candidate::before {\n\t\t\tmargin-top: -8px;\n\t\t}\n\n\t\t#sfdebug-body .ad-slot-container {\n\t\t\toutline: 4px solid ").concat(u,"\n\t\t}\n\t\t"),document.body.appendChild(t)}},_=()=>{var e,t=document.querySelector("#sfdebug-panel .controls");null!=t&&t.hasChildNodes&&"INPUT"===(null===(e=t.firstElementChild)||void 0===e?void 0:e.tagName)&&t.firstElementChild.click()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;c&&(y(),h(e,t,n,r),w(r),_())};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){k(o,r,i,a,s,"next",e)}function s(e){k(o,r,i,a,s,"throw",e)}a(void 0)}))}}var C=(e,t)=>[...(null!=t?t:document).querySelectorAll(e)],x={waitForImages:!0,waitForInteractives:!1,pass:"inline1"},A=e=>e instanceof HTMLIFrameElement,T=e=>{try{var t;return"complete"===(null===(t=e.contentWindow)||void 0===t?void 0:t.document.readyState)}catch(e){return((e,t,n)=>{if(window.guardian.config.switches.sentinelLogger){var r=window.guardian.config.page.isDev?"//logs.code.dev-guardianapis.com/log":"//logs.guardianapis.com/log",i=[{name:"module_name",value:e},{name:"function_name",value:t},{name:"URL",value:window.location.href}],o={label:"commercial.amiused",properties:n?[...i,...Object.entriering(n)}}))]:i};window.navigator.sendBeacon(r,JSON.stringify(o))}})("spacefinder.ts","isIframeLoadeddogeElement,B=(0,o.Z)((e=>{var t=C("img",e.body).filter(De.loading)).map((e=>newload",t)}))));return Promise.all(t).then((()=>Promise.resolve()))}),N),M=(0,o.Z)(function(){var e=j((function*(e){var t=C(".element-interactive",e.body).filter((e=>{var t=Array.from(e.children).filter(A);return!(t[0]&&T(t[0]))}));if(0===t.length||!("MutationObserver"in window))return Promise.resolve();var n=t.map((e=>new Promise((t=>{new MutationObserver(((e,n)=>{var r,o;null!==(r=e[0])&&void 0!==r&&r.addedNodes[0]&&A(null===(o=e[0])||void 0===o?void 0:o.addedNodes[0])&&((e,t)=>{window.addEventListener("message",(n=>{if(n.source===e.contentWindow)try{var r=JSON.parse(n.data);"set-height"===r.type&&Number(r.value)>0&&t()}catch(e){(0,i.c)("commercial","Unparsable message sent from iframe",e)}}))})(e[0].addedct(),t()}))})).observe(e,{childList:!0})}))));yield Promise.all(n)}));return function(t){return e.apply(this,arguments)}}(),N),L=(e,t)=>{var n=[],r=[];return e.forEach((e=>{t(e,n[n.length-1])?n.push(e):r.push(e)})),[n,r]},I=(e,t,n)=>{var r=e.candidates,[i,o]=L(r,(n=>!t.absoluteMinAbove||n.top+e.bodyTop>=t.absoluteMinAbove));n.absoluteMinAbove=o,r=i,[i,o]=L(r,(n=>{var r=n.top>=t.minAbove,i=n.top+t.minBelow<=e.bodyHeight;return r&&i})),n.aboveAndBelow=o,r=i;var{clearContentMeta:a}=t;if(a&&([i,o]=L(r,(t=>!!e.contentMeta&&t.top>e.contentMeta.bottom+a)),n.contentMeta=o,r=i),t.selectors){var s=[],c=function(t,a){[i,o]=L(r,(n=>{var r,i;return((e,t,n)=>n.map((n=>((e,t,n)=>{var r=t.top-n.bottom>=e.minAbove,i=n.top-t.top>=e.minBelow,o=r||i;if(!o){var a,s=t.top<n.top,c=s?e.minBelow:e.minAbove,l=s?n.top-t.top:t.top-n.bottom;null===(a=t.meta)||void 0===a||a.tooClose.push({required:c,actual:l,element:n.element})}return o})(e,t,n))).every(Boolean))(a,n,null!==(r=null===(i=e.opponents)||void 0===i?void 0:i[t])&&void 0!==r?r:[])})),n[t]=o,s.push(...o)};for(var[l,u]of Object.entries(t.selectors))c(l,u);r=r.filter((e=>!s.includes(e)))}return t.filter&&([i,o]=L(r,t.filter),n.custom=o,r=i),r};class F extends Error{constructor(e){super(),this.name="SpaceError",this.message="There is no space left matching rules from ".concat(e.bodySelector)}}var R=(e,t)=>Promise.race([new Promise((e=>window.setimeout")),5e3))),Promise.all([t.waitForImages?B(e):Promise.resolve(),t.waitForInteractives?M(e):Promise.resolve()])]).then((e=>{"timeout"===e&&(0,i.c)("commercial","Spacefinder timeout hit")})),Z=(e,t)=>{var n=C(e.bodySelector+e.slotSelector);if(e.fromBottom&&n.reverse(),e.startAt){var r=!0,[i,o]=L(n,(t=>(t===e.startAt&&(r=!1),!r)));t.startAt=o,n=i}if(e.stopAt){var a=!0,[s,c]=L(n,(t=>(t===e.stopAt&&(a=!1),a)));t.stopAt=c,n=s}return n},z=e=>Object.freeze({top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e,meta:{tooClose:[]}}),H=(e,t)=>{var n,r=e.clearContentMeta&&null!==(n=document.querySelector(".js-content-meta"))&&void 0!==n?n:void 0,i=e.selectors?Object.keys(e.selectors).map((t=>[t,C(e.bodySelector+t)])):[];return a.Z.measure((()=>{var n=0,o=0;if(e.body instanceof Element){var a=e.body.getBoundingClientRect();n=a.top+window.scrollY,o=a.height}return{bodyTop:n,bodyHeight:o,candidates:t.map(z),contentMeta:e.clearContentMeta&&r?z(r):void 0,opponents:map(z),e}),{})}}))},U=function(){var e=j((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=P(P({},x),t),e.body=e.bodySelector&&document.querySelector(e.bodySelector)||document,yield R(e,t);var r=Z(e,n),i=yield H(e,r),o=I(i,e,n);if(S(n,o,e,t.pass),!o.length)throw new F(e);return o.map((e=>e.element))}));return function(t,n){return e.apply(this,arguments)}}();function q(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=new class{constructor(){q(this,"queue",Promise.resolve(!0))}fillSpace(e,t,n){return this.queue=this.queue.then((()=>U(e,n).then((e=>t(e))).then((()=>!0)).catch((e=>{if(e instanceof F)return!1;throw e}))on(e),!1))),this.queue}}},1947:(e,t,n)=>{n.d(t,{j:()=>s,M:()=>a});var r=n(3876),i=n(606);function o(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var a=e=>{var t=window.guardian.config.page.isPaidContent?"".concat(61,"px"):0,n=e.reduce(((e,n)=>{var[r,i]=n;return"".concat(e," .").concat(r," { min-height: ").concat(i,"px; } .").concat(r," > * { position: sticky; top: ").concat(t,"; }")}),""),o="\n        @media (min-width: ".concat(r.A.desktop,"px) {\n            ").concat(n,"\n        }\n    "),a=document.createElement("style");return a.appendChild(document.createTextNode(o)),i.Child(a)}))},s=function(){var e,t=(e=function*(e,t){var n=[...document.querySelectorAll('[data-spacefinder-role="immersive"]')],{figures:r,winningParas:o,articleBodyElementHeightBottom:a}=yield i.Z.measure((()=>{var r,i;return{figures:n.map((e=>({kind:"figure",top:e.getBoundingClientRect().top,element:e}))),winningParas:e.map((e=>({kind:"winningPara",top:e.getBoundingClientRect().top,element:e}))),articleBodyElementHeightBottom:null!==(r=null===(i=document.querySelector(t))||void 0===i?void 0:i.getBoundingClientRect().bottom)&&void 0!==r?r:0}}));return[...r,..top-t.top)).map(((e,t,n)=>{if("figure"!==e.kind){var r=n[t+1];if(void 0===r)return a-e.top-100;var i="winningPara"===r.kind?600:100;return Math.floor(r.top-e.top-i)}})id 0===e)))},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},4586:(e,t,n)=>{n.d(t,{K:()=>i});var r=n(3141),i=new(n.n(r)())},3663:(e,t,n)=>{n.d(t,{B:()=>i,E:()=>a});var r=n(7991),i=(0,r.Z)((()=>new URLSearchParams(window.location.search).getAll("pbtest"[t]=!0,e)),{})),(()=>window.location.search)),o=(0,r.Z)((e=>Array.from(new URLSearchParams(e).entries()).reduce(((e,t)=>{var[n,r]=t;return e[n]=""===r||r,e}),{}))),a=e=>o(null!=e?e:window.location.searZ.Symbol},9530:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(6802),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.Z?r.Z.toStringTag:void  e[s]),i};var l=Object.prototype.toStrin.call(e)};var d="[object Null]",f="[object Undefined]",p=r.Z?r.Z.toStringTag:void (e):u(e)}},9307:(e,t,n)=>{n.d(t,{Z:()=>o});const r="object"==typeof global&&global&&global.Object===Object&&global;var i="object"==typeof self&&self&&self.Object===Object&&self;const o=r||i||Function("return this"on"==ypeof e}},7991:(e,t,n)=>{n.d(t,{Z:()=>ae});var r=n(9530),i=n(1029),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";const l=function(e){if(!(0,i.Z)(e))return!1;var t=(0,r.Z)(e);return t==a||t==s||t==o||t==c};var u=n(9307);const d=u.Z["__core-js_shared__"];var f,p=(f=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"&&p in e};var m=Function.prototype.toStrinreturn""};var h=/^\[object .+?Constructor\]$/,b=Function.prototype,w=Object.prototype,y=b.toString,_=w.hasOwnProperty,S=RegExp("^"+y.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"st(g(e))d 0:e[t]n:void 0};const k=O(Object,"create"s.size=0=t?1:0,t};var x="__lodash_hash_undefined__",A=Object.prototype.hasOwnPropert]:void 0};var N=Object.prototype.hasOwnPropertall(t,e)};var B="__lodash_hash_undefined__B:t,this};function L(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}L.prototype.clear=j,L.prototype.delete=C,L.prototype.get=T,L.prototype.has=D,L.prototype.set=M;const I=s.size=0=e&&t!=treturn-1};var z=Array.prototype.splicsize,!0):t[n][1]__,e)>-1]=t,this};function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}W.prototype.clear=F,W.prototype.delete=H,W.prototype.get=U,W.prototype.has=q,W.prototype.set=G;const V=W;const J=O(u.Z,"Map"g:new I}null===e"]:n.map=t?1:0,t};const Q=function(e){return X(this,e).get(e)}).has(e)}],r[1])}}ne.prototype.clear=K,ne.prototype.delete=Y,ne.prototype.get=Q,ne.prototype.has=ee,ne.prototype.set=te;const re=ne;var ie="Expected a e||re),n}oe.Cache=re;const ae=oe},2308:(e,t,n)=>{n.d(t,{Z:()=>P});var r=/\sreturn t};var o=/^\s+(o,""):e};var s=n(1029),c=n(9530),l=n(9858),u="[object Symbol]";const d=function(e){return"symbol"==typeof e||(0,l.Z)(e)&&(0,c.Z)(e)==u};var f=NaN,p=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseIn(e)?f:+e};var b=1/0,w=17976931348623157e29===e?e:0?t-n:t:0};var S="Expected a functionid 0),n}n E(2,e.exports}{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__prd(i,t:t[n]})},a,t)),[])),a.u=e=>({209:"8bdb0ec5318a8e764791",322:"dce56a0b25a290160dbd",501:"30d7a02165f371883f1c",963:"10fa4f769441f551e79c"}[e]+"/graun."+({322:"Prebid.js",501:"consentless"}[e]||e)+".commercial windocall(e,t),n={},r="@guardian/commerchildl=e+"bind(n))})(),(()=>{var e,t=a(1284),n=a(2500),r=a(1401),i=a(4963),o=a(5336),s=a(3091),c=e=>"getEntriesByType"in window.performance?window.performance.getEntriesByType("measure").flatMap((t=>{var{entryType:n,name:r,duration:i,startTime:a}=t,c=(e=>{var[t,n,r]=e.split(":");return(0,o.H)(t)&&(0,s.HU)(t)&&(0,o.H)(n)?{team:t,name:n,action:r}:void 0})(r);return"measure"===n&&c&&e.includes(c.team)?{name:r,detail:c,duration:i,entryType:n,startTimey(void 0)}:[]})):[],l=a(4367);function u(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(voimetrics"}(e||(e={}));var f,p={page_view_id:void 0,browser_id:void 0,platform:"NEXT_GEN",metrics:[],properties:[]},v=[],m=[],g=!1,h=e=>Object.entries(e),b=ring(n)}})),w=(e,t)=>[...e.map((e=>{var{name:t,ts:n}=e;return{name:t,value:Math.ceil(n)}})),ceil(n)}}))];var y=()=>"number"==typeof window.guardian.offlineCount?[{name:"offlineCount",value:window.guardian.offlineCount}]:[],_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(t).map((e=>{var{detail:{team:t,name:n,action:r},duration:i}=e;return{name:[t,n,r].filter(l.C).join("_"),value:i}}))};function S(){var e=i.a.get(),t=h(e.properties 0!==e[1])),r=b(t).concat(v).concat(m);p.properties=r;var o=w(e.marks,e.measures).concat(y()).concat(_("dotcom"));p.metrics=o,(0,n.c)("commercial","About to send commercial metrics",p),navigator.sendBeacon(f,JSON.stringify(p))}var E=e=>{switch(e.type){case"visibilitychange":return void("hidden"===document.visibilityState&&S());case"pagehide":return voince:!0})},O=function(){var e=d((function*(){var e=yield(0,t.B4)();if(e.tcfv2){var n=e.tcfv2.consents;return[7,8].every((e=>n[e]))}return!0}));return function(){return e.apply(this,arguments)}}();function k(){return(k=d((function*(){g?(yield O())?P():(0,n.c)("commercial","Metrics won't be sent because consent wasn't given"):console.warn("initCommercialMetrics not yet initialised")}))).apply(this,arguments)}var j=a(172),C=e=>{var t;return null!==(t=j.F.adverts.get(e))&&void 0!==t?t:null},x=a(8023),A=a.n(xreturn e};var N=a(6802),D=a(9530),B=a(9858),M="[object Arguments]Z)(e)==M};var I=Object.prototype,F=I.hasOwnProperty,R=I.propertyIsEnumerable;const Z=L(function(){return argumecallee")};const z=Array.isArray;var H=N.Z?N.Z.isConcatSpreadable:void e&&e[H])return o(e,1):[]};var W,V=function(){},J=a(578),K=a(5783),$=a(8251),X={UK:"GB",US:"US",AU:"AU"},Y="GU_geo_country",Q=()=>{var e,t,n=window.guardian.config.page.edition,r=K.t.local.get("gu.geo.override");return null!==(e=null!==(t=(0,o.H)(r)?r:null)&&void 0!==t?t:(0,$.e)({name:Y,shouldMemoize:!0}))&&voi0]:"UK"]}(n)},ee=()=>{var e;return W=null!==(e=W)&&void 0!==e?e:Q()},te=()=>"GB"===ee(),ne=()=>"US"=A"=e()Z"===ee(),ae=()=>!te()&&!ie()&&!oe(),se=a(2308),ce=a(7869),le=a(7991),ue={url:window.location.href},de=(a(4953),"GU_mvt_id"),fe=1,pe=1e6,ve=()=>{var e,t=parseInt(null!==(e=(0,$.e)({name:de,shouldMemoize:!0}))&&void 0!==e?e:"NaN",10);return Number.isNaN(t)?null:Math.max(Math.min(t,pe),fe)},me=()=>pe,ge="notintest",he={id:ge,test:()=>{}};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=(e,t)=>{var n=t[e.id];return n?n.variant===ge?he:e.varian.variant)):null},Se=e=>{return _e(e,null!==(t=K.t.local.get("gu.ab.participations"))&&void 0!==t?t:{});var t};function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=e=>_e(e,window.location.hash.startsWith("#ab")?window.location.hash.replace("#ab-","").split(",").reduce(((e,t)=>{var[n,r]=t.split("=");return n&&r?Pe(Pe({},e),{},{[n]:{variant:r}}):e}),{}):{});function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae,Te,Ne,De,Be,Me,Le,Ie,Fe,Re,Ze,ze,He,Ue=e=>{var t,n,r,i=(t=e.expiry,(new Date).setHours(0,0,0,0)>new Date(t).getTime()),o=window.guardian.config.page.isSensitive,a=!!e.showForSensitive,s=(n=e.id,!!window.guardian.config.switches["ab".concat(n)]),c=e.canRun();return r={key:e.id,value:{test:e,expired:i,isSensitive:o,shouldShowForSensitive:a,isTestOn:s,canTestBeRun:c}},ue[r.key]=r.value,(!o||a)&&s&&!i&&c},qe=e=>{var t,n,r=ke(e),i=Se(e),o=(e=>{var t=me()*e.audienceOffset,n=t+me()*e.audience,r=ve();if(r&&r>t&&r<=n)return e.variants[r%e.variants.length]})(e),a=null!==(t=null!=r?r:i)&&void 0!==t?t:o,s=r&&window.location.hash.includes("ignoreCanRun=true");return a&&s||Ue(e)&&a&&((!(n=a).canRun||n.canRun())&&n.id!==ge)?Ce(Ce({},e),{},{variantToRun:a}):null},Ge={}.hasOwnProperty;Be=("undefined"!=typeof window&&null!==window?window.opanRemoteHost:void 0)||"//ophan.theguardian.com",Ne=function(){return(new Date).getTime().toString(36)+"xxxxxxxxxxxx".replring(36)}))},He=null!=(Me="undefined"!=typeof guardian&&null!==guardian&&null!=(Le=guardian.config)&&null!=(Ie=Le.ophan)?Ie.pageViewId:void 0)?M He=Ne()},Re=function(e){return Fe(Be+"/img/1?".concat(Ae(e)))},ze=function(e){return"string"==typeof e||"number"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e))},Ze=function(e,t){var n,r,i;if(JSON&&(i=function(){var t;for(n in t=[],e)Ge.call(e,n)&&(r=e[n],De(r)&&t.push("".concat(encodeURIComponent(n),"=").concat(ze(r))));return t}()).length)return Fe(Be+"/img/2?viewId=".concat(He,"&").concat(i.join("&")),t)},De=function(e){return Array.isArray(e)?e.length:null!=e},Ae=function(e){var t,n;return e.viewId=He,function(){var r;for(t in r=[],e)Ge.call(e,t)&&null!=(n=e[t])&&r.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n)));return r}().join("&")},Fe=function(e,t){var n,r;return r=new Image,n=setInterval((function(){if(r.complete)return"function"==typeof t&&t(),clearInterval(n)}),10),r.src=e};const We={sendInitial:Re,sendMore:Ze,viewId:He,bumpViewId:Te},ityState},changeEvent:document.visibilityState?"visibilitychange":document.webkitVisibilityState?"webkitvisibilitychange":document.mozVisibilityState?"mozvisibilitychange":document.msVisibilityState?"msvisibilitychange":void 0};const Je={init:function(){var e="offset",t="client",n=function(){},r=void 0===window.addEventListener,i={loopDelay:50,maxLoop:5,debug:!1,found:n,notfound:n,complete:n},o=[],a=null,s={cssClass:"ad-slot pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"},c={nullProps:[e+"Parent"],zeroProps:[]};c.zeroProps=[e+"Height",e+"Left",e+"Top",e+"Width",e+"Height",t+"Height",t+"Width"];var l={quick:null,remote:null},u=null,d={test:0,do] "+e))}function v(e){p("start beginTest"),1!=u&&(!0,m(e),l.quick="testing",d.test=se){g(eg cast")}function g(e,t){var n,r=document.body,l=!1;if(null==a&&(p("recast bait"),m(e||s)),"string"==typeof e)return p("invalid bait used",!0),void(h()&&setTimeout((function(){!1}),5));for(d.test>0&&(clearTimeout(d.test),d.test=0),null!==r.getAttribute("abp")&&(p("found adblock body attribute"),l=!0),n=0;n<c.nullProps.length;n++){if(null==a[c.nullProps[n]]){t>4&&(l=!0),p("found adblock null attr: "+c.nullProps[n]);break}if(1==l)break}for(n=0;n<c.zeroProps.length&&1!=l;n++)0==a[c.zeroProps[n]]&&(t>4&&(l=!0),p("found adblock zero attr: "+c.zeroProps[n]));if(void 0!==window.getComputedStyle){var v=window.getComputedStyle(a,null);"none"!=v.getPropertyValue("display")&&"hidden"!=v.getPropertyValue("visibility")||(t>4&&(l=!0),p("found adblock computedStyle indicator"))}!0,l||t++>=i.maxLoop?(p("exiting test loop - value:ge,!0)}}}(),h()&&seion(){!1}),5)):d.test=se){g(e,t)}),i.l,i,!1))}return function(e){var t,r;if(e){for(t in r={complete:n,found:n,notfound:n},e)e.hasOwnProperty(t)&&("complete"==t||"found"==t||"notFound"==t?r[t.toLowerCase()]=e[t]:i[t]=e[t]);o.push(r),b()}}}()},Ke={run:function(){return new Promise((function(e,t){if(!Je.init)return t(new Error("Failed to initialise adblock detection"));try{return Je.init(urn e(t)}})}catch(e){return t(e)}}))}};var $e,Xe,Ye,Qe,et,tt,nt,rt,it,ot,at,st,ct,lt,ut={}.hasOwnProperty;$e=17,tt=window.document,et=null!=window.localStorage&&"undefined"!=typeof JSON&&null!==JSON,st=null,it=function(e,t){return st=e,"prerender"!==Ve.state()?ct(t):Ve.changeEvent?tt.addEventListener(Ve.changeEvent,(function(){if("visible"===Ve.state())return ct(t)}),!1):void 0},nt=function(e){var t,n,r,i;for(t=0,r=(i=window.location.search.substring(1).split("&")).length;t<r;t++)if((n=i[t].split("="))[0]===e)return decodeURIComponent(n[1])},rt=function(e){var t;return e||(null!=(t=nt("pre-auth-ref"))?t:"")},ct=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document.referrer;return t={v:$e,platform:st,url:n,ref:rt(r),visibilityState:Ve.state(),isModernBrowser:"undefined"!=typeof guardian&&null!==guardian?guardian.isModernBrowser:void 0,httpStatus:e,tz:(new Date).getTimezoneOffset()},Ye(t),Qe(t),We.sendInitial(t),Ke.rudden:e})}))},at=[],ot=function(e){var t,n,r,i;if("complete"===document.readyState){for(n in r={},t=e())i=t[n],r[n]=i;return We.sendMore(r)}return at.push(e)},"function"==typeof window.addEventListener&&window.addEventListener("load",(function(){var e,t,n,r,i,o;for(i={},t=0,r=at.length;t<r;t++)for(n in e=(0,at[t])())o=e[n],i[n]=o;return"next-gen"===st&&Xe(i),We.sendMore(i)}),!1),Qe=function(e){var t,n,r;if(et){if(null!=(n=JSON.parse(window.localStorage.getItem("ophan_follow"))))for(t in n)ut.call(n,t)&&(r=n[t],e[t]=r);return window.localStorage.removeItem("ophan_follow")}},lt=function(e){return e.map((function(e){return e.length>50?e.substring(0,50).concat("…"):e}))},Xe=function(e){var t,n,r,i,o,a,s;if(t=function(){var e,t,r,i;for(i=[],e=0,t=(r=document.querySelectorAll("[data-component]")).length;e<t;e++)n=r[e],i.push(n.getAttribute("data-component"));return i}(),t.length>0){for(s=lt(t),a={},r=0,o=s.length;r<o;r++)n=s[r],a[n]=1;return e.rendere);return e}()}},Ye=function(e){var t,n,r;if(null!=(t="undefined"!=typeof guardian&&null!==guardian&&null!=(n=guardian.config)&&null!=(r=n.page)?r.contentType:void 0)&&""!==t)return e.contentType=t.toLowerCase()};const dt={init:it,storeDataToSendOnNextEvent:function(e){var t,n,r;if(et){for(n in t=JSON.parse(window.localStorage.getItem("ophan_follow"))||{},e)ut.call(e,n)&&(r=e[n],t[n]=r);return window.localStorage.setItem("ophan_follow",JSON.stringify(t))}},onLoadCapture:ot,servingPlatform:function(){return st},viewId:We.viewId,sendInitialEvent:ct};var ft,pt,vt;pt=[],vt=null,ft=class{constructor(e,t,n,r){this.name=e,this.element=t,this.visibilityThreshold=n,this.reportingInterval=r,this.visible=!1,this.totalAttentionMs=0,this.unrecordedAttentionStarted=null,this.reportedTotalAttentionMs=0,this.usingEmitter=!1,this.visCheck=this.checkVisibility.bind(this),null!=vt?(this.usingEmitter=!0,vt.on("window:throttledScroll",this.visCheck)):window.addEventListener("scroll",this.visCheck),window.addEventListener("resize",this.visCheck)}isVisible(){var e,t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return!!this.element.offsetParent&&(n=(e=this.element.getBoundingClientRect()).right-e.left,t=e.bottom-e.top,r=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,e.left>=-n*(1-o)&&e.top>=-t*(1-o)&&e.right<=i+n*(1-o)&&e.bottom<=r+t*(1-o))}visibilityHasChanged(){var e;return e=this.visible,this.visible=this.isVisible(this.visibilityThreshold),e!==this.visible}rebindToEventEmitter(){if(!this.usingEmitter&&null!=vt)return window.removeEventListener("scroll",this.visCheck),this.usingEmitter=!0,vt.on("window:throttledScroll",this.visCheck)}checkVisibility(){if(this.rebindToEventEmitter(),this.visibilityHasChanged())return this.visible?this.makeActive():this.makeInactive()}makeActive(){return null!=this.unrecordedAttentionStarted?this.unrecordedAttentionStarted:this.unrecordedAttentionStarted=performance.now()}arted=null}hadAttentionSinceLastGet(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.totalAttentionMs!==this.reportedTotalAttentionMs}getAttentionTime(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.reportedTotalAttentionMs=this.totalAttentionMs,this.totalAttentionMs}incrementTotalAttentionTimeByUnrecordedAmount(){var e,t;if(null!=this.unrecordedAttentionStarted)return e=performance.now(),t=Math.min(e-this.unrecordedAttentionStarted,this.reportingInterval),this.totalAttentionMs+=t,this.unrecordedAttentionStarted=e}};const mt={setEeturn vt=e},startMonitoring:function(){var e,t,n,r;for(r=[],t=0,n=pt.length;t<n;t++)(e=pt[t]).isVisible()&&r.push(e.makeActive());return r},stopMonitoring:function(){var e,t,n,r;for(r=[],t=0,n=pt.length;t<n;t++)e=pt[t],r.push(e.makeInactive());return r},getAttentionTimes:function(){var e,t,n,r;for(r={},t=0,n=pt.length;t<n;t++)(e=pt[t]).hadAttentionSinceLastGet()&&(r[e.name]=Math.round(e.getAttentionTime()));return r},registerComponent:function(e,t,n,r){return pt.push(new ft(e,t,n,r))}};var gt,ht,bt,wt,yt,_t,St,Et,Pt,Ot,kt,jt,Ct;gt=["focus","click","scroll","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove","keyup","keydown"],ht=1e4,kt=0,jt=null,Pt=null,wt=null,Ct=!1,bt=function(){return null!=wt&&window.clearTimeout(wt),wt=null},St=function(){return null==jt&&(jt=performance.now()),mt.startMonitoring(),bt(),wt=window.eturn Et()}),5e3)},yt=function(){var e,t;if(null!=jt)return e=performance.now(),t=Math.min(e-jt,ht),kt+=t,jt=e},Et=function(){return bt(),mt.stopMonitoring(),yt(),jt=null},Ot=function(){var e,t;if(yt(),kt!==Pt)return t={attentionMs:Math.round(kt)},e=mt.getAttentionTimes(),Object.keys(e).length&&(t.componentAttentionMs=e),We.sendMore(t),Pt=kt},_t=function(e){var t,n,r;for(n=0,r=gt.length;n<r;n++)t=gt[n],window.addEventListener(t,St);return document.addEventListener(e.changeEvent,(function(){return"visible"===e.state()?St():Et()}),!1),document.addEventListener("videoPlaying",(function(){return Ct=!0,St()})),document.addEventListener("videoEnded",(function(){return Ct=!1,Et()})),document.addEventListener("vCt=!1,Et()})),window.setTimeout(Ot,100),window.setInterval(Ot,ht)};const xt={init:_t,initComponent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return mt.registerComponent(e,t,n,ht)},setEventEmitter:function(e){return mt.setEventEmitter(e)}};var At;const Tt=function(){return At((function(e){var t;return t={inPrivateBrowsingMode:e},We.sendMore(t)}))};At=function(e){var t,n,r,i;return t=function(){retuturn e(!0)},i=function(){try{return localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),t()}catch(e){return e,n()}},r=function(){var e;try{return(e=indexedDB.open("test")).onsuccess=t,e.onerror=n}catch(e){return e,n()}},window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.TEMPORARY,1,t,n):"MozAppearance"in document.documentElement.style?r():/constructor/i.test(window.HTMLElement)?i():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?t():n()};var Nt;Nt=!1;const Dt=function(){var e;return e=function(){var e;if("undefined"!=typeof localStorage&&null!==localStorage&&!Nt&&(Nt=!0,"true"!==(e=window.location.search.replace(/^(?:.*[&\?]heatmap(?:\=([^&]*))?)?.*$/,"$1"))&&"false"!==e||(localStorage.ophan_heatmap=e),"true"===localStorage.ophan_heatmap||"show"===e))return document.body.appendChild(document.createElement("script")).src="//dashboard.ophan.co.uk/assets/js/heatmap-bookmarklet.js"},"complete"===document.readyState?e():"function"==typeof window.addEventListener?window.addEventListener("load",(function(){return e()}),!1):void 0};var Bt,Mt,Lt;Lt=function(e){var t,n;return"a"===(t=null!=e&&null!=(n=e.nodeName)?n.toLowerCase():void 0)?e:null==t||"body"===t?null:Lt(e.parentNode)},Bt=function(e){var t,n;return null==(t=null!=e&&null!=(n=e.nodeName)?n.toLowerCase():void 0)||"body"===t?null:("function"==typeof e.getAttribute?e.getAttribute("data-component"):void 0)||Bt(e.parentNode)},Mt=function(e){var t,n,r;return t=function(e){var t;return(null!=e&&null!=(t=e.nodeName)?t.toLowerCase():void 0)===document.body.nodeName.toLow==document},r=function(e,i){var o;return null==e||t(e)||n(e)?i:(null!=(o=e.getAttribute("data-link-name"))&&i.push(o),r(e.parentNode,i))},r(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).slice())},"function"==typeof document.addEventListener&&document.addEventListener("click",(function(e){var t,n;if(t=Lt(e.target),null!=(n={from:[location.protocol,"//",location.host,location.pathname].join(""),to:t?t.href:void 0,referringComponent:Bt(e.target),referringDataLinkNames:Mt(e.target),refPlatform:dt.servingPlatform(),refViewId:dt.viewId}).referringDataLinkNames&&We.sendMore({clickComponent:n.referringComponent,clickLinkNames:n.referringDataLinkNames}),null!=t)return dt.storeDataToSendOnNextEvent(n)}),!1);const It=Mt;var Ft,Rt;Ft=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,Rt=function(){var e;return null!=(e=null!=Ft?Ft.timing:void 0)?{performance:{dns:e.domainLookupEnd-e.domainLookupStart,connection:e.connectEnd-e.connectStart,firstByte:e.responseStart-e.connectEnd,lastByte:e.responseEnd-e.responseStart,domContentLoadedEvent:e.domContentLoadedEventStart-e.responseEnd,loadEvent:e.loadEventStart-e.domContentLoadedEventStart,navType:Ft.navigation.type,redirectCount:Ft.navigation.redirectCount}}:{}},dt.onLoadCapture(Rt);var Zt,zt,Ht,Ut,qt,Gt,Wt;Gt=[".theguardian.com",".dev-theguardian.com",".thegulocal.com"],zt=function(e){var t,n,r;(r=qt(e.origin))&&Gt.some((e=>r.endsWith(e)))&&("ophan-iframe-click-event"===e.data.type?(t=e.data.value,n=document.getElementById(e.data.iframeId),Ht(n,t)):"ophan-iframe-component-event"===e.data.type&&(t=e.data.value,Ut(t)))},qt=function(e){var t;try{return new URL(e).host}catch(e){if((t=e)instanceof TypeError)return null;throw t}},Ht=function(e,t){e&&(t.clickLinkNames=It(e,t.clickLinkNames)||t.clickLinkNames),window.guardian.ophan.record(t)},Zt=function(e){return!(!e||"object"!=typeof e)&&!(!e.componentEvent||"object"!=typeof e.componentEvent)},Ut=function(e){Zt(e)&&window.guardian.ophan.record(e)},window.addEventListener("message",zt,!1),null!=(null!=(Wt=window.guardian)?Wt.ophan:void 0)?window.guardian.ophan:(dt.init("next-gen"),Tt(),Dt(),null!=window.addEventListener&&xt.init(Ve),null!=window.guardian?window.guardian:window.guardian={},window.guardian.ophan={setEventEmitter:xt.setEventEmitter,trackComponentAttention:xt.initComponent,record:We.sendMore,viewId:We.viewId,pageViewId:We.viewId});var Vt=a(2546),Jt=e=>e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e)),Kt=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=Jt(e);if(r>=Math.random()&&Vt.Z.captureException(i,{tags:t}),n)throw i.reported=!0,i},$t={id:"MpuWhenNoEpic",author:"@commercial-dev",start:"2023-11-22",expiry:"2024-01-31",audience:.1,audienceOffset:.05,audienceCriteria:"",successMeasure:"",description:"Test MPU when there is no epic at the end of Article on the page.",variants:[{id:"control",test:()=>{}},{id:"variant",test:()=>{}}],canRun:()=>!0},Xt={id:"PrebidKargo",author:"@commercial-dev",start:"2023-12-05",expiry:"2024-02-29",audience:.04,audienceOffset:0,audienceCriteria:"USA only",successMeasure:"",description:"Test Kargo as a prebid bidder for US traffic",variants:[{id:"control",test:()=>{}},{id:"variant",test:()=>{}}],canRun:()=>!0},Yt=[{id:"SignInGateMainVariant",start:"2020-05-20",expiry:"2025-12-01",author:"Mahesh Makani",description:"Show sign in gate to 100% of users on 3rd article view of simple article templates, with higher priority over banners and epic. Main/Variant Audience.",audience:.8,audienceOffset:.1,successMeasure:"Users sign in or create a Guardian account",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",ophanComponentId:"main_variant_4",dataLinkNames:"SignInGateMain",idealOutcome:"Increase the number of users signed in whilst running at a reasonable scale",showForSensitive:!1,canRun:()=>!0,variants:[{id:"main-variant-4",test:()=>{}}]},{id:"SignInGateMainControl",start:"2020-05-20",expiry:"2025-12-01",author:"Mahesh Makani",description:"Show sign in gate to 100% of users on 3rd article view of simple article templates, with higher priority over banners and epic. Control Audience.",audience:.1,audienceOffset:.9,successMeasure:"N/A - User does not see gate, only to compare to variant.",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",ophanComponentId:"main_control_4",dataLinkNames:"SignInGateMain",idealOutcome:"Increase the number of users signed in whilst running at a reasonable scale",showForSensitive:!1,canRun:()=>!0,variants:[{id:"main-control-4",test:()=>{}}]},{id:"SignInGateCopyTestJan2023",start:"2023-01-23",expiry:"2023-05-01",author:"Lindsey Dew",description:"Test varying the copy in the call to action for sign in gate",audience:.1,audienceOffset:0,successMeasure:"Users sign in or create a Guardian account",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",dataLinkNames:"SignInGateCopyTest",idealOutcome:"One variants performs at least 2% better than the control and/OR 10% better than the other variant. Neither variant performs 5% worse than the control",showForSensitive:!1,canRun:()=>!0,variants:[{id:"quick-and-easy",test:()=>{}},{id:"take-a-moment",test:()=>{}},{id:"sign-in-copy-control",test:()=>{}}]},{id:"ConsentlessAds",author:"@commercial-dev",start:"2022-08-11",expiry:"2023-06-01",audience:0,audienceOffset:0,audienceCriteria:"All pageviews",successMeasure:"Testing Opt Out ads in production",description:"Use consentless ad stack rather than consented / standalone",variants:[{id:"control",test:V},{id:"variant",test:V}],canRun:()=>!0},{id:"IntegrateIma",start:"2022-07-14",expiry:"2024-02-28",author:"Zeke Hunter-Green",description:"Test the commercial impact of replacing YouTube ads with Interactive Media Ads on first-party videos",audience:0,audienceOffset:0,audienceCriteria:"Opt in",successMeasure:"IMA integration works as expected without adversely affecting pages with videos",canRun:()=>!0,variants:[{id:"control",test:()=>V},{id:"variant",test:()=>V}]},{id:"PublicGoodTest",author:"@commercial-dev",start:"2023-08-22",expiry:"2023-09-15",audience:.1,audienceOffset:0,audienceCriteria:"USA only",successMeasure:"No significant impact to UX",description:"Test public good messaging on articles",variants:[{id:"control",test:()=>{}},{id:"variant",test:()=>{}}],canRun:()=>!0},Xt,$t];var Qt=(0,le.Z)((()=[...e,n]:e}),[]))),en=()=>Qt().reduce(((e,t)=>{var{id:n,variantToRun:r}=t;return we(we({},e),{[n]:{variant:r.id}})}),{}),tn=(e,t)=>Qt().some((n=>{var{id:r,variantToRun:i}=n;return r===e.id&&i.id===t})),nn=a(3663),rn={},on=(e,t)=>{var n,r=null!==(n=rn[t])&&void 0!==n?n:rn[t]=new RegExp("".concat(t,"$"));return e.replace(r,"")},an={},sn=(e,t)=>Boolean(e.find((e=>e[0]===t[0]&&e[1]===t[1]))),cn=e=>((e,t)=>{var n,r=null!==(n=an[t])&&void 0!==n?n:an[t]=new RegExp("^".concat(t));return e.replace(r,"")})(e,"dfp-ad--"),ln=e=>sn(e,(0,J.PH)(300,250)),un=e=>sn(e,(0,J.PH)(300,600)),dn=e=>sn(e,(0,J.PH)(728,90)),fn=e=>sn(e,(0,J.PH)(9(e)&&!dn(e),vn=e=>ln(e)||un(e),mn=e=>sn(e,(0,J.PH)(n(e)||fn(e),hn=()=>{switch((0,ce.vv)()){case"mobile":case"mobileMedium":case"mobileLandscape":default:return"M";case"phablet":case"tablet":return"T";case"desktop":case"leftCol":case"wide":return"D"}},bn=e=>ln(e),wn=()=>{var e;return!re()&&!oe()&&null!==(e=window.guardian.config.switches.prebidOzone)&&void 0!==e&&e},yn=(0,se.Z)((()=>window.location.hash.includes("#mobile-sticky")||(0,ce.qZ)({min:"mobile",max:"mobileLandscape"})&&!te()&&"Article"===window.guardian.config.page.contentType&&!window.guardian.config.page.is),"Mobile"),Sn=window.location.hash.includes("#o"desktop"}},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{var{key:n,sizes:r}=t;return"inline"!==n?{key:n,sizes:r}:{key:n,sizes:r.filter((t=>{var[n,r]=t;ret===e.height))}))}}},On=(e,t,n)=>{var r,i,o,a=(e=>Object.keys(e).filter((e=>"inline"!==e)))(n),s=(i=a,o=e.node.dataset.ne((e=>e===o))?o:null!=o&&o.includes("inline")?"inline":null!=o&&o.includes("fronts-banner")?"fronts-banner":void 0);if(!s)return[];var c=null===(r=n[s])||void 0===r?void 0:r[t];return!c||c.length<1?[]:[{key:s,sizes:c}]},kn=()=>{var{contentType:e,hasShowcaseMainElement:t}=window.guardian.config.page,n="Article"===e,r="Crossword"===e,i=n&&window.guardian.config.switches.extendedMostPopular;return{right:{desktop:t?[J.ZN.mpu]:[J.ZN.halfPage,J.ZN.mpu],tablet:t?[J.ZN.mpu]:[J.ZN.halfPage,J.ZN.mpu],mobile:t?[J.ZN.mpu]:[J.ZN.halfPage,J.ZN.mpu]},"top-above-nav":{desktop:[J.ZN.billboard,J.ZN.leaderboard],tablet:[J.ZN.leaderboard],mobile:[J.ZN.mpu]},"fronts-banner":{desktop:[J.ZN.billboard]},inline:{desktop:n?[J.ZN.skyscraper,J.ZN.halfPage,J.ZN.mpu]:[J.ZN.mpu],tablet:[J.ZN.mpu],mobile:[J.ZN.mpu]},inline1:{desktop:n?[J.ZN.mpu,J.ZN.outstreamDesktop]:[J.ZN.mpu],tablet:n?[J.ZN.mpu,J.ZN.outstreamDesktop]:[J.ZN.mpu],mobile:n?[J.ZN.outstreamMobile,J.ZN.mpu,J.ZN.portraitInterstitial]:[J.ZN.mpu]},inline2:{desktop:n?[J.ZN.skyscraper,J.ZN.halfPage,J.ZN.mpu]:[J.ZN.mpu],tablet:[J.ZN.mpu],mobile:n?[J.ZN.mpu,J.ZN.portraitInterstitial]:[J.ZN.mpu]},mostpop:{desktop:i?[J.ZN.halfPage,J.ZN.mpu]:[J.ZN.mpu],tablet:i?[J.ZN.halfPage,J.ZN.mpu,J.ZN.leaderboard]:[J.ZN.mpu],mobile:[J.ZN.mpu]},comments:{desktop:[J.ZN.skyscraper,J.ZN.mpu,J.ZN.halfPage]},banner:{desktop:[(0,J.PH)(88,70),J.ZN.leaderboard,J.ZN.cascade,(0,J.PH)(900,250),J.ZN.billboard]},"mobile-sticky":{mobile:yn()?[J.ZN.mobilesticky]:[]},"crossword-banner":{desktop:r?[J.ZN.leaderboard]:[],tablet:r?[J.ZN.leaderboard]:[]},merchandising:{mobile:[J.ZN.mpu],desktop:[J.ZN.billboard]},"merchandising-high":{mobile:[J.ZN.mpu],desktop:[J.ZN.billboard]},"article-end":{mobile:te()?[J.ZN.mpu]:[],tablet:te()?[J.ZN.mpu]:[],desktop:te()?[J.ZN.mpu]:[]}}},jn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?as[1]:e=>[e],n=En();return On(e,n,kn()).map(Pn(e.sizes[n])).mape.concat(t)),[])};function Cn(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function xn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class An{constructor(e,t){xn(this,"slotID",void 0),xn(this,"slotName",void 0),xn(this,"sizes",void 0),this.slotID=e.id,this.slotName=window.guardian.config.page.adUnit,this.sizes=t.sizes.map((e=>Array.from(e)))}}var Tn=!1,Nn=Promise.resolve(),Dn={initialise:()=>{!Tn&&window.apstag&&(Tn=!0,window.apstag.init({pubID:window.guardian.config.page.a9PublisherId,adServer:"googletag",bidTimeout:1500}))},requestBids:function(){var e,t=(e=function*(e,t){if(!Tn)return Nn;if(!window.guardian.config.switches.a9HeaderBidding)return Nn;var n=G(e.map((e=>jnew An(e,t))))));return 0===n.length?Nn:Nn=Nn.then((()=>new Promise((e=>{var t;null===(t=window.apstag)||void 0===t||t.fetchBids({slots:n},(()=>{window.googletaBids(),e()}))}))})))).catch(V)},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Cn(o,r,i,a,s,"next",e)}function s(e){Cn(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},Bn=function(e,t,n,r,i){if(i)e=i(e,t,n);else{var o=[];try{var a=JSON.parse(localStorage._psegs||"[]").map(String),s=JSON.parse(localStorage._ppam||"[]"),c=JSON.parse(localStorage._pcrprs||"[]");o=[...a,...s,...c]}catch(e){}n&&t.ac&&t.ac.length>0&&(o=o.concat(t.acturn{id:e}})),pbjs.setBidderConfig({bidders:["pubmatic"],config:{ortb2:{user:{data:[{name:"permutive.com",segment:o}]}}}})}},Mn=a(6318),Ln=a(675),In=a(3204),Fn=(0,se.Z)((e=>(e=>Object.entries(e).reduce(((e,t)=>{var[n,r]=t;return r?((0,o.H)(r)&&(e[n]=r),Array.isArray(r)&&r.length>0&&r.some(Boolean)&&r.every(o.H)&&(e[n]=r.filter(Boolean)),e):e}),{}))({sens:e.sens,pt1:e.url,pt2:e.edition,pt3:e.ct,pt4:e.p,pt5:e.k,pt6:e.su,pt7:e.bp,pt9:[e.pv,e.co,e.tn].join("|"),permutive:e.permutive}))),Rn=(0,se.Z)((e=>{return t=Fn(e),n=Object.entries(t).map((e=>{var[t,n]=e;return Array.isArra).concat(e))):"".concat(t,"=").concat(n)})),Array.prototype.concat.apply([],n).join(",");var t,n})),Zn=(e,t)=>{var{page:r}=window.guardian.config,i=(0,Ln.l)({adFree:In.d.adFree,clientSideParticipations:en(),consentState:e,isSignedIn:t});return r.appNexusPageTargeting=Rn(i),r.pageAdTargeting=i,(0,n.c)("commercial","pageTargeting object:",i),i};function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){Un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn=e=>{if(oe())return"11016434";if(ae()&&mn(e))return"31512573";var t="9251752";switch(hn()){case"D":return pn(e)?"30017511":vn(e)?"9251752":gn(e)?"9926678":t;case"M":return ln(e)?"4298191":t;case"T":return ln(e)?"4371641":dn(e)?"4371640":t;default:return t}},Gn=(e,t)=>{if(oe()&&window.guardian.config.switches.prebidAppnexusInvcode){var n=(e=>{var t="M"===hn()?"M":"D",n=window.guardian.config.page.section||window.guardian.config.page.sectionName.replace(/ /g,"-"),r=(e=>e.length>0?e.reduce(((e,t)=>e[0]>=t[0]&&e[1]>=t[1]?e:t)):null)(e);if(r)return"".concat(t).concat(n.toLowerCase()).concat(r.join("x"))})(e);if(n)return{invCode:n,member:"7012",keywords:Hn({invc:[n]},Fn(t))}}return{placementId:qn(e),keywords:Fn(t)}},Wn=e=>{if(te())switch(hn()){case"D":return pn(e)?22987847:vn(e)?1116396:gn(e)?1116397:-1;case"M":return vn(e)?1116400:-1;case"T":return vn(e)?1116398:gn(e)?1116399:-1;default:return-1}if(ae())switch(hn()){case"D":return vn(e)?1116420:gn(e)?1116421:-1;case"M":return vn(e)?1116424:mn(e)?23060750:-1;case"T":return vn(e)?1116422:gn(e)?1116423:-1;default:return-1}return-1},Vn=(e,|\\d{2,})"))(_n(e));return n&&(n.endsWith("mostpop")||n.endsWith("comments")||n.endsWith("inline1")||n.endsWith("inline")&&!t)?{w:300,h:250}:{}};function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn="Article"===window.guardian.config.page.contentType,Yn="D"===hn()&&Xn,Qn=(e,t)=>{switch(_n(e)){case"dfp-ad--inline1":return"2960";case"dfp-ad--inline2":return t?"3826":"3827";case"dfp-ad--inline3":return t?"3828":"3829";case"dfp-ad--inline4":return t?"3830":"3831";case"dfp-ad--inline5":return t?"3832":"3833";case"dfp-ad--inline6":return t?"3834":"3835";case"dfp-ad--inline7":return t?"3836":"3837";case"dfp-ad--inline8":return t?"3838":"3839";case"dfp-ad--inline9":return t?"3840":"3841";case"dfp-ad--mostpop":return"2961";case"dfp-ad--right":return"2962";case"dfp-ad--top-above-nav":return"2963";case"dfp-ad--comments":return"3840";case"dfp-ad--mobile-sticky":return"8519";default:return e.startsWith("dfp-ad--inline")?t?"3840":"3841":((0,n.c)("commercial","PREBID: Failed to get TrustX ad unit for slot ".concat(e,".")),"")}},er=()=>{var e=window.guardian.config.page.pbIndexe.bp===hn()));return null!=e&&e.id?e.id.toString():""},tr=e=>{switch(hn()){case"D":return vn(e)?20943665:gn(e)?20943666:20943668;case"M":return vn(e)?20943669:20943670;case"T":return vn(e)?20943671:gn(e)?20943672:20943674;default:return-1}},nr=(e,t)=>{if(dn(t)){if(ie())return"theguardian_topbanner_728x90_prebid";if(oe())return"theguardian_topbanner_728x90_prebid_AU"}if(ln(t)){if(ie())return Xn?"theguardian_article_300x250_prebid":"theguardian_sectionfront_300x250_prebid";if(oe())return Xn?"theguardian_article_300x250_prebid_AU":"theguardian_sectionfront_300x250_prebid_AU"}if(mn(t)){if(ie())return"theguardian_320x50_HDX";if(oe())return"theguardian_320x50_HDX_AU"}return""},rr=()=>Object.keys((0,nn.B)()).length>0,ir=e=>({name:"and",switchName:"prebidAppnexusn)=>Gn(n,e)}),or=e=>({name:"oxd",switchName:"prebidOpenx",bidParams:(t,n)=>{var r=Fn(e);return ie()?{delDomain:"guardian-us-d.openx.net",unit:"540279544",customParams:r}:oe()?{delDomain:"guardian-aus-d.openx.net",unit:"540279542",customParams:r}:ae()&&mn(n)?{delDomain:"guardian-d.openx.net",unit:"560429384",customParams:r}:{delDomain:"guardian-d.openx.net",unit:"540279541",customParams:r}}}),ar=e=>{if(ne()){if("D"===hn()){if(fn(e))return"3500010912";if(ln(e))return"3500010911"}return"M"===hn()&&mn(e)?"3500014217":"1420436308"}return ae()&&mn(e)?"1500000260":"0420420500"},sr=e=>({name:"ozone",switchName:"prebidOzone",bidParams:(t,n)=>{var r=j.F.adverts.get(t),i=null!=r&&r.testgroup?{testgroup:r.testgroup}:{};return{publisherId:"OZONEGMG0001",siteId:"4204204209",placementId:ar(n),customData:[{settings:{},targeting:Kn(Kn({},i),Fn(e))}],ozoneData:{}}}}),cr=e=>({name:"sonobi",switchName:"prebidSonobi",bidParams:t=>({ad_unit:window.guardian.config.page.adUnit,dom_id:t,appNexusTargeting:Rn(e),pageViewId:window.guardian.ophan.pageViewId})}),lr=e=>"D"===hn()?gn(e)?"_yflg9S7c2x":ln(e)&&un(e)?"_zOpeEAyfiz":"_qDBbBXYtzA":mn(e)?"_odszPLn2hK":"_y9LINEsbfh",ur=e=>{var t={name:"pubmatic",switchName:"prebidPubmatic",bidParams:e=>({publisherId:ie()?"157206":oe()?"157203":"157207",adSlot:cn(e)})};return pn(e)?Kn(Kn({},t),{},{bidParams:e=>Kn(Kn({},t.bidParams(e)),{},{placementId:"theguardian_970x250_only"})}):t},dr={name:"trustx",switchName:"prebidTrustx:Qn(e,Yn)})},fr={name:"triplelift",switchName:"prebidTriplelift",bidParams:(e,t)=>({inventoryCode:nr(0,t)})},pr={name:"improvedigital",switchName:"prebidImproveDigital",bidParams:(e,t)=>({publisherId:995,placementId:Wn(t),size:Vn(e,Yn)})},vr={name:"improvedigital",switchName:"prebidImproveDigitalSkins",bidParams:()=>({placementId:te()?"D"===hn()?22526482:-1:ae()&&"D"===hn()?22526483:-1,size:{}})},mr={name:"xhb",switchName:"prebidXaxis",bidParams:(e,t)=>({placementId:tr(t)})},gr={name:"adyoulike",switchName:"prebidAdYouLike",bidParams:()=>te()?{placement:"2b4d757e0ec349583ce704699f1467dd"}:ie()?{placement:"7fdf0cd05e1d4bf39a2d3df9c61b3495"}:oe()?{placement:"5cf05e1705a2d57ba5d51e03f2af9208"}:{placement:"c1853ee8bfe0d4e935cbf2db9bb76a8b"}},hr=e=>{var t={name:"criteo",switchName:"prebidCriteo"};return pn(e)?Kn(Kn({},t),{},{bidParams:()=>({zoneId:1759354})}):Kn(Kn({},t),{}orkId:337})})},br={name:"smartadserver",switchName:"prebidSmartId:105870})},wr={name:"kargo",switchName:"prebidKargo",bidParams:(e,t)=>({placementId:lr(t)})},yr=e=>{var t=(e=>pn(e)?"983842":mn(e)?"1047869":er())(e);return e.map((e=>({name:"ix",switchName:"prebidIndexExchange:t,size:e})})))},_r=e=>e.filter((e=>(e=>{var t;return null!==(t=window.guardian.config.switches[e.switchName])&&void 0!==t&&t})(e))),Sr=(e,t)=>{var n=[[!oe(),hr(e)],[te()||ae(),br],[ie(),cr(t)],[ie(),dr],[ie()||oe(),fr],[oe()||window.guardian.config.switches.prebidAppnexusUkRow&&!ie()||!!(0,nn.B)().and,ir(t)],[te()||ae(),pr],[!!window.guardian.config.switches.prebidImproveDigitalSkins&&window.guardian.config.page.isFront&&(te()||ae())&&"D"===hn(),vr],[te(),mr],[!0,ur(e)],[bn(e),gr],[wn(),sr(t)],[!ie(),or(t)],[ne()&&!tn(Xt,"variant"),wr]].filter((e=>{var t,[n]=e;return t=n,rr()e;return t})),r=yr(e).concat(n);return rr()?(e=>e.filter((e=>(0,nn.B)()[e.name])))(r):_r(r)},Er={buckets:[{max:10,increment:.01},{max:15,increment:.1},{max:100,increment:1}]},Pr={buckets:[{max:12,increment:.01},{max:20,increment:.05},{max:500,increment:1}]},Or=(e,t)=>{var n=[e,t].join(",");return n===J.ZN.skyscraper.toString()||n===J.ZN.halfPage.toString()?{buckets:[{max:10,increment:.01},{max:15,increment:.1},{max:50,increment:1}]}:n===J.ZN.leaderboard.toString()||n===J.ZN.billboard.toString()||n===J.ZN.mpu.toString()||n===J.ZN.outstreamDesktop.toString()||n===J.ZN.outstreamMobile.toString()?{buckets:[{max:12,increment:.01},{max:20,increment:.1},{max:50,increment:1}]}:void 0},kr=(e,t)=>{var n=[e,t].join(",");return n===J.ZN.skyscraper.toString()||n===J.ZN.halfPage.toString()?{buckets:[{max:10,increment:.01},{max:15,increment:.05},{max:50,increment:1}]}:n===J.ZN.leaderboard.toString()||n===J.ZN.billboard.toString()||n===J.ZN.mpu.toString()?{buckets:[{max:12,increment:.01},{max:20,increment:.05},{max:50,increment:1}]}:void 0};function jr(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Cr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){jr(o,r,i,a,s,"next",e)}function s(e){jr(o,r,i,a,s,"throw",e)}a(void 0)}))}}function xr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ar{constructor(e,t,r){xr(this,"code",void 0),xr(this,"bids",void 0),xr(this,"mediaTypes",void 0),this.code=e.id,this.bids=((e,t,n)=>Sr(t,n).map((n=>({bidder:n.name,params:n.bidParams(e,t)}))))(e.id,t.sizes,r),this.mediaTypes={banner:{sizes:t.sizes}},e.headerBiddingSizes=t.sizes,(0,n.c)("commercial","PrebidAdUnit ".concat(this.code)=this.code}}var Tr=400,Nr=1500,Dr=Promise.resolve(),Br=!1,Mr=function(){var e=Cr((function*(e,r){if(!Br)return Dr;if(!window.guardian.config.switches.prebidHeaderBidding)return Dr;var a=yield(0,t.B4)().then(function(){var t=Cr((function*(t){var n=yield(0,Mn.z5)(),i=Zn(t,n);return G(e.map((e=>jw Ar(e,t,ie.isEmpty())))))}));return function(e){return t.apply(this,arguments)}}()).catch((e=>((0,n.c)("commercial","Failed to execute prebid onConsent",e),[]))),s=i.a.get();return Dr=Dr.then((()=>new Promise((e=>{var t;a.forEach((e=>{(0,o.H)(e.code)&&s.mark("prebidStart",cn(e.code))})),null===(t=window.pbjs)||void 0===t||t.que.push((()=>{var t;null===(t=window.pbjs)||void 0===t||t.requestBids({adUnits:a,bidsBackHandler:()=>{((e,t)=>new Promise((n=>{var r;null===(r=window.pbjs)||void 0===r||r.setTargetingForGPTAsync(e.map((e=>e.code)).filter(o.H)),n(),e.forEach((e=>{(0,o.H)(e.code)&&t.mark("prebidEnd",cn(e.code))}))})))(a,s).then(e)}})}))})))),Dr}));return function(t,n){return e.apply(this,arguments)}}(),Lr={initialise:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tcfv2";if(e.pbjs){Br=!0;var r,i=e.guardian.config.switches.prebidUserSync?{syncsPerBidder:0,filterSettings:{all:{bidders:"*",filter:"include"}}}:{syncEnabled:!1},a=Object.assign({},{bidderTimeout:Nr,timeoutBuffer:Tr,priceGranularity:Er,userSync:i});if(e.pbjs.bidderSettings={},e.guardian.config.switches.consentManagement&&(a.consentManagement=(()=>{switch(t){case"aus":case"ccpa":return{usp:{cmpApi:"iab",timeout:1500}};default:return{gdpr:{cmpApi:"iab",timeout:200,defaultGdprScope:!0}}}})()),e.guardian.config.switches.permutive&&e.guardian.config.switches.prebidPermutiveAudience&&(a.realTimeData={dataProviders:[{name:"permutive",params:{acBidders:["appnexus","ix","ozone","pubmatic","trustx"],overwrites:{pubmatic:Bn}}}]}),e.guardian.config.switches.prebidCriteo&&(e.pbjs.bidderSettings.criteo={storageAllowed:!0},a.criteo={fastBidVersion:"latest"},e.pbjs.setBidderConfig({bidders:["criteo"],config:{customPriceBucket:Pr}})),e.guardian.config.switches.prebidOzone&&e.pbjs.setBidderConfig({bidders:["ozone"],config:{guCustomPriceBucket:e=>{var{width:t,height:r}=e,i=Or(t,r);return(0,n.c)("commercial","Custom Prebid - Ozone price bucket for size (".concat(t,",").concat(r,"):"),i),i}}}),e.guardian.config.switches.prebidIndexExchange&&e.pbjs.setBidderConfig({bidders:["ix"],config:{guCustomPriceBucket:e=>{var{width:t,height:r}=e,i=kr(t,r);return(0,n.c)("commercial","Custom Prebid - Index price bucket for size (".concat(t,",").concat(r,"):"),i),i}}}),e.guardian.config.switches.prebidAnalytics)e.pbjs.enableAnalytics([{provider:"gu",options:{ajaxUrl:null!==(r=e.guardian.config.page.ajaxUrl)&&void 0!==r?r:"",pv:e.guardian.ophan.pageViewId}}]);if(e.guardian.config.switches.prebidXaxis&&(e.pbjs.bidderSettings.xhb={adserverTargeting:[{key:"hb_b0!==t?t:""}}],bidCpt:e=>1.05*e}),e.guardian.config.switches.prebidImproveDigital){var s=new RegExp(/placement_id=\\?"(\d+)\\?"/);e.pbjs.bidderSettings.improvedigital={adserverTargeting:[{key:"hb_pid",val(e){if((0,o.H)(e.ad)){var t=s.exec(e.ad);return null==t?void 0:t[1]}}}],suppressEmptyKeys:!0},a.improvedigital={usePrebidSizes:!0}}e.guardian.config.switches.prebidKargo&&(e.pbjs.bidderSettings.kargo={storageAllowed:!0}),e.pbjs.setConfig(a),e.pbjs.onEvent("bidWon",(e=>{var{width:t,height:n,adUnitCode:r}=e;if(t&&n&&r){var i=(0,J.PH)(t,n),o=C(r);o&&(o.size=i,o.hasPrebidSize=!0)}}))}else(0,n.c)("commercial","window.pbjs not found on window")},requestBids:Mr};function Ir(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ir(o,r,i,a,s,"next",e)}function s(e){Ir(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hr=(e,t)=>"top-above-nav"===t.key||t.key.startsWith("fronts-banner")?1===t.sizes.length?[t]:Array.isArray(e)?[Zr(Zr({},t),{},{sizes:[[e[0],e[1]]]})]:[]:[t],Ur=function(){var e=Fr((function*(e){var gBidRequest)),n=Promise.all([Lr.requestBids(t),Dn.requestBids(t)])dRequest=n})),yield n}));return function(t){return e.apply(this,arguments)}}(),qr=function(){var e=Fr((function*(e){e.headerBiddingBidRequest=Ur([e]),yield e.headerBiddingBidRequest}));return function(t){return e.apply(this,arguments)}}(),Gr=function(){var e=Fr((function*(e){var t=Lr.requestBids([e],(t=>Hr(e.size,t))),n=Dn.requer(e.size,t)));yield Promise.all([t,n])}));return function(t){return e.apply(this,arguments)}}(),Wr=i.a.get(),Vr=e=>{var t=cn(e.id);Wr.mark("adRenderStart",t),e.whenSlotRtch((()=>{})).then((()=>(Wr.mark("prepareSlotStart",t),e.headerBiddingBidRequest?e.headerBiddingBidRequest:qr(e)))).then((()=>{Wr.mark("prepareSlotEnd",t),Wr.mark("fetchAdStart",t),window.googletag.display(e.id)}))},Jr=e=>{e.whenSlotReady.then((()=>A().mutate((()=>{var t;e.id.includes("fronts-banner")&&(null===(t=e.node.closest(".ad-slot-container"))||void 0===t||t.classList.remove("ad-slot--full-width"))((()=>Gr(e))).then((()=>{if(e.slot.setTargeting("refreshed","true"),"dfp-ad--top-above-nav"===e.id&&Array.isArray(e.size)){var t=window.googletag.sizeMapping();t.addSize([0,0],e.size),e.slot.defineSizeMapping(t.build())}window.googletag.pubads().refresh([e.slot])}))};function Kr(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var $r=e=>{(0,n.c)("commercial","Failed to load Confiant:",e)},Xr=[],Yr=(e,t,r,o,a,s)=>{var c,l,u=null==s||null===(c=s.prebid)||void 0===c?void 0:c.s,d=null==s||null===(l=s.dfp)||void 0===l?void 0:l.s,f=null!=u?u:d;if((0,n.c)("commercial","".concat(r?"🚫 Blocked":"🚨 Screened"," bad ad with Confiant"),{blockedSlotPath:f,blockingType:e,blockingId:t,wrapperId:o,tagId:a}),r&&f){var p=C(f);if(!p)throw new Error("No slot found for ".concat(f));i.a.get().mark("".concat(cn(p.id),"-blo(this,arguments)}(),p.slot.setTargeting("confiant",String(e)),Xr.includes(f)||(Jr(p),Xr.push(f))}},Qr=function(){var e,t=(e=function*(){var e="//".concat("cdn.confiant-integrations.net","/").concat("7oDgiTsq88US4rrBG0_Nxpafkrg","/gpt_and_prebid/config.js");if(window.guardian.config.switches.confiantAdVerification){var t;if(yield(0,r.v)(e,{async:!0}).catch($r),null===(t=window.confiant)||void 0===t||!t.settings)return;"#confiantDevMode"===window.location.hash&&(window.confiant.settings.devMode=!0),window.confiant.settings.callback=Yr}},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Kr(o,r,i,a,s,"next",e)}function s(e){Kr(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),ei="dfp-ad--",ti=a(7748),ni=(0,se.Z)((()=>In.d.adFree?(0,ti.w)():Promise.resoturn t.get(e)}var ci=new WeakMap;class li{constructor(e,t){ii(this,ci,{writable:!0,value:void 0}),ai(this,ci,Array.from((null!=t?t:document).querySelectorAll(e)))}get(e){return"number"==typeof e?oi(this,ci)[e]:oi(this,ci)}setAttributes(e){return Object.entries(e).forEach((e=>{var[t,n]=e;return oi(setAttribute(t,n)))})),this}css(e){return Object.entries(e).forEach((e=>{var[t,n]=e;oi(.setProperty(t,n)))})),this}remove(){oi(t.removeChe,t)=>new li(e,t),di=a(4586),ove("is-sticky")}))},pi=e=>{if(!e)return 0;var t=e.ownerDocument.documentElement;return e.getBoundingClientRect().top+(window.scrollY||document.documentElement.scrollTop)-Math.max(0,t.clientTop,window.document.body.clientTop)},vi=a(3517),mi=a(2083),gi=a(3876),hi=/([a-z])([A-Z])/g,bi={shouldRun:!0,url:"//cdn.adsafeprotected.com/iasPET.1.js",name:"ias"},wi=(e,t)=>{e&&(window.googletag&&window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("inizio","t")})),console.log("surveyAvailable: ".concat(t.measurementId)))},yi=()=>{var e;(e=window)._brandmetrics||(e._brandmetrics=[]),window._brandmetrics.push({cmd:"_querySurvey",val:{callback:wi}})},_i=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//cdn.brandmetrics.com/survey/script/e96d04c832084488a841a06b49b8fb2d.js",name:"inizio",onLoad:yi}};a(5172);a(166),a(876),a(4817);var Si=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";t.postMessage(JSON.stringify(e),{targetOrigin:n})};function Ei(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Pi={},Oi=0,ki=()=>{},ji={code:405,message:"Service %% not implemented"},Ci={code:500,message:"Internal server error\n\n%%"},xi=(e,t)=>{if(e.slotId){var n,r=document.getElementById("dfp-ad--".concat(e.slotId));return null!==(n=null==r?void 0:r.querySelector("iframe"))&&void 0!==n?n:void 0}if(e.iframeId){var i=document.getElementById(e.iframeId);return i instanceof HTMLIFrameElement?i:void 0}if(t){var o=document.querySelectorAll("iframe");return ArcontentWindow===t))}},Ai=/^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/,Ti=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((e,t)=>(e.message=e.message.replace("%%",t),e)),e)},Ni=e=>{try{var t=JSON.parse(e.data),n="set-ad-height"===(r=t).type&&("id"in r.value||"slotId"in r.value)&&"height"in r.value?(e=>({id:"aaaa0000-bb11-cc22-dd33-eeeeee444444",type:"resize",iframeId:e.value.id,slotId:e.value.slotId,value:{height:e.value.height,width:e.value.width}}))(t):t;if((e=>{var t=e;return"type"in t&&"value"in t&&"id"in t&&t.type in Pi&&Ai.test(t.id)})(n))return n}catch(e){}var r},Di=(e,t,n,r)=>{Si({id:e,error:n,result:r},null!=t?t:window)},Bi=function(){var e,t=(e=function*(e){var t=Ni(e);if(t){var n=Pi[t.type];if(Array.isArray(n)&&n.length){var r=n.reduce(((n,r)=>n.then((n=>{var i=r(t.value,n,xi(t,e.source));return void 0===i?n:i}))),Promise.resolve());return r.then((n=>{Di(t.id,e.source,null,n)})).catch((n=>{ki(n,{feature:"native-ads"}),Di(t.id,e.source,Ti(Ci,n.toString()),null)}))}"function"==typeof n?n(((n,r)=>Di(t.id,e.source,n,r)),t.value,xi(t,e.source)):Di(t.id,e.source,Ti(ji,t.type),null)}},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ei(o,r,i,a,s,"next",e)}function s(e){Ei(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,e",(e=>{Bi(e)}))},Li=(e,t,n)=>{var r,i;0===Oi&&Mi(null!==(i=null==n?void 0:n.window)&&void 0!==i?i:window);var o=null!==(r=Pi[e])&&void 0!==r?r:[];Array.isArray(o)&&!o.includes(t)&&(Pi[e]=[...o,t],Oi+=1)},Ii=(e,t,n)=>{var r;0===Oi&&Mi(null!==(r=null==n?void 0:n.window)&&void 0!==r?r:window);Pi[e]=t,Oi+=1};a(5480);var Fi=e=>0===e[0]&&0===e[1]?"fluid":[e[0],e[1]];function Ri(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Zi=(0,se.Z)((()=>{var e=(0,nn.E)();return e["ad-unit"]?"/".concat(window.guardian.config.page.dfpAccountId,"/").concat(String(e["ad-unit"])):window.guardian.config.page.adUnit})),zi=function(){var e,t=(e=function*(e,t){var n;return Promise.rac.setTimeoulearTimeout(n),e)))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ri(o,r,i,a,s,"next",e)}function s(e){Ri(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),Hi=(e,t)=>zi(new Promise((n=>{var r,i;window.__iasPET=null!==(r=window.__iasPET)&&void 0!==r?r:{};var o=window.__iasPET;o.queue=null!==(i=o.queue)&&void 0!==i?i:[],o.pubId="10249";var a=t.getSizes(),s=[{adSlotIdr((e=>"(),e.getHeight()])),adUnitPath:Zi()}];o.queue.push({adSlots:s,dataHandler:r=>{var i,o=JSON.parse(r);Object.keys(o.brandSafety).forEach((e=>{var t=o.brandSafety[e];t&&window.googletag.pubads().setTargeting(e,t)})),o.fr&&window.googletag.pubads().setTargeting("fra",o.fr),null!==(i=o.custom)&&void 0!==i&&i["ias-kw"]&&window.googletag.pubads().setTargeting("ias-kw",o.custom["ias-kw"]);var a=["pub"],s=o.slots[e];s&&Object.keys(s).filter((e=>!a.includes(e))).forEach((n=>{var r=o.slots[e];if(r){var i=r[n];i&&t.setTargeting(n,i)}})),n()}})})),1e3),Ui={mobile:[0,0],phablet:[gi.A.phablet,0],tablet:[gi.A.tablet,0],desktop:[gi.A.desktop,0]},qi=(0,se.Z)((()=>{var e=(0,nn.E)();return e["ad-unit"]?"/".concat(window.guardian.config.page.dfpAccountId,"/").concat(String(e["ad-unit"])):window.guardian.config.page.adUnit})),Gi=e=>{var t=window.googletag.sizeMapping();return Object.entries(e).forEach,r]=e;(e=>e in Ui)(n)&&t.addSize(Ui[n],r.map(Fi))})),t.build()},Wi=e=>{var t=[];return null==e||e.forEach((e=>{var n,[,r]=e;n=r,Array.isArray(n)&&n.length&&r.forEach((e=>{((e,t)=>"fluid"===e?t.includes("fluid"):!!Array.isAre[0]&&t[1]===e[1])))(e,t)||t.push(e)}))})),t},Vi=e=>"string"==typeof e&&("inline1"===e||"top-above-nav"===e),Ji=e=>(e.setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0}),e);function Ki(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function $i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xi=e=>e.split("|").map((e=>(0,J.PH)(...(e=>{var t=e.split(",",2).map(Number);return 2===t.length&&t[0some((e=>isNaN(e)))?[t[0],t[1]]:[0,0]})(e)))),Yi=e=>Object.entries(gi.A).reduce(((t,n)=>{var[r]=n,i=e.getAttribut2").toLowerCase())(r)));return i&&(t[r]=Xi(i)),t}),{}),Qiturn(e=>e in J.oe)(t=e.includes("inline")?"inline":e.includes("fronts-banner")?"fronts-banner":e.includes("external")?"external":e)?J.oe[t]:{}},eo=e=>0===Object.keys(e).length||Object.entries(e).every((e=>{var[,t]=e;return 0===t.length}));class to{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$i(this,"id",void 0),$i(this,"node",void 0),$i(this,"sizes",void 0),$i(this,"headerBiddingSizes",null),$i(this,"size",null),$i(this,"slot",void 0),$i(this,"isEmpty",null),$i(this,"isRendered",!1),$i(this,"shouldRefresh",!1),$i(this,"whenSlotReady",void 0),$i(this,"extraNodeClasses",[]),$i(this,"hasPrebidSize",!1),$i(this,"headerBiddingBidRequest",null),$i(this,"lineItemId",null),$i(this,"testgroup",void 0),this.id=e.id,this.node=e,this.sizes=this.generateSizeMapping(t);var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.getAttribute("data-name");i.a.get().mark("defineSlotStart",r);var o=e.id,a=Gi(t);if(!a)throw new Error("Could not define slot for ".concat(o,". A googletag size mapping could not be created."));var s,c,l,u=Wi(a);if(e.getAttribute("data-out-of-page")?null===(c=s=window.googletag.defineOutOfPageSlot(qi(),o))||void 0===c||c.defineSizeMapping(a):(null===(l=s=window.googletag.defineSlot(qi(),u,o))||void 0===l||l.defineSizeMapping(a),s&&Vi(r)&&Ji(s)),!s)throw new Error("Could not define slot for ".concat(o));var d=Hi(o,s);d.then((()=>{i.a.get().mark("defineSlotEnd",r),i.a.get().mark("slotReady",r)}));var f=window.guardian.config.page.isbn;"im"===r&&f&&s.setTargeting("isbn",f);var p=new Map([["top-above-nav","fabric1"],["merchandising-high","fabric2"],["merchandising","fabric3"]]).get(r);return p&&s.setTargeting("slot-fabric",p),Object.entries(n).forEach((e=>{var t,[n,r]=e;null===(t=s)||void 0===t||t.setTargeting(n,r)})),s.addService(window.googletag.pubads()).setTargeting("slot",r).setTargeting("testgroup",String(Math.floor(100*Math.random()))),{slot:s,slotReady:d}}(e,this.sizes,n);this.slot=r.slot,this.whenSlotReady=r.slotReady,this.testgroup=r.slot.getTargetinhis.isRendered=e}updateExtraSlotClasses(){var e,t=arguments,n=this;return(e=function*(){for(var e=t.length,r=new Array(e),i=0;i<e;i++)r[i]=t[i];var o=n.extraNoe=>!r.includes(e)));yield ri.Z.mutate((()=>{n.node.classList.remove(...o),n.node.classList.add(...r)})),n.extraNodeClasses=r},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ki(o,r,i,a,s,"next",e)}function s(e){Ki(o,r,i,a,s,"throw",e)}a(void 0)}))})()}generateSizeMapping(e){var t,n=this.node.dataset.name?Qi(this.node.dataset.name):{},r=(0,vi.x8)(n,e);if(eo(r)&&(r=Yi(this.node),eo(r)))throw new Error("Tried to render ad slot '".concat(null!==(t=this.node.dataset.name)&&void 0!==t?t:"","' without any size mappings"));return r}updateSizeMapping(e){var t=this.generateSizeMapping(e);this.sizes=t;var n=Gi(t);n&&this.slot.defineSizeMapping(n)}}var no=(e,t,r)=>{try{return new to(e,t,r)}catch(r){var i="Could not create advert. Ad slot: ".concat(e.id,". Additional Sizes: ").concat(JSON.stringify(t),". Error: ").concat(r instanceof Error?r.message:"Unknown error");return(0,n.c)("commercial",i),navigator.userAgent.includes("DuckDuckGo")||Kt(new Error(i),{feature:"commercial"},!1,.01),null}},ro=e=>{var t=C(e);t&&(t.isRendered?Jr(t):Vr(t))},io=(e,t)=>{var r=[];e.filter((e=>!("isIntersecting"in e)||e.isIntersecting)).forEach((e=>{(0,n.c)("commercial","display observer triggered for: ",e.target.id),t.unobserve(e.target),ro(e.target.id),r.push(e.target.id)})),j.F.advertsToLoad=j.F.adve!r.includes(e.id)))},oo=(e,t)=>{v|e.isIntersecting)).forEach((e=>{var i,o;(0,n.c)("commercial","prebid observer triggered for: ",e.target.id),t.unobserve(e.target),i=e.target.id,(o=C(i))&&qr(o),r.push(e.target.id)}))},ao=(0,se.Z)((e=>new window.IntersectionObserver(io,{rootMargin:e?"10% 0px":"20% 0px"argin:"50% 0px"}))),co=e=>{if(j.F.lazyLoadObserve){var t=["desktop","wide"].includes((0,ce.bc)());ao(t).observe(e.node),t&&so().observe(e.node)}else ro(e.id)},lo=e=>{j.F.advertsToLoad.push(e)},uo=(e,t,r,i)=>new Promise((o=>{window.googletag.cmd.push((()=>{if(j.F.adverts.has(e.id)){var a="Attempting to add slot with exisiting id ".concat(e.id);return(0,n.c)("commercial",a),void Kt(Error(a),{feature:"commercial",slotId:e.id},!1)}var s=no(e,r,i);null!==s&&(j.F.adverts.set(s.id,s),((e,t)=>{j.F.shouldLazyLoad()&&!t?(lo(e),co(e)):Vr(e)})(s,t),o(s))}))})),fo=(0,le.Z)((e=>new Promise((t=>{var n=()=>{var r=C(e);r?t(r):window.setTimeout(n,200)};n()}))));function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){mo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var go,ho={bodySelector:".article-body-commercial-selector",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:100,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote):not(#sign-in-gate)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:100,minBelow:100}," .element-pullquote":{minAbove:400,minBelow:400},' > figure[data-spacefinder-role="inline"]':{minAbove:400,minBelow:400}},fromBottom:!0},bo=vo(vo({},ho),{},{selectors:vo(vo({},ho.selectors),{},{" .element-rich-link":{minAbove:400,minBelow:400}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}})}),wo=e=>{var t=(0,vi.dQ)("carrot"),n=e.slice(1);return ri.Z.mutate((()=>{var e;null!==(e=n[0])&&void 0!==e&&e.parentNode&&n[0].parentNode.insertBeforen((()=>{uo(t,!0)}))},yo=()=>In.d.carrotTrafficDriver?mi.e.fillSpace((()=>{switch((0,ce.vv)()){case"leftCol":case"wide":return ho;default:return bo}})(),wo,{waitForImages:!0,waitForInteractives:!0,pass:"carrot"}):Promise.resolve(!1),_o=a(1947);function So(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Eo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){So(o,r,i,a,s,"next",e)}function s(e){So(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Po=".article-body-commercial-selector",Oo=window.guardian.config.page.isPaidContent,ko=!(null===(go=window.guardian.config.page.lightboxImages)||void 0===go||!go.images.length),jo=window.guardian.config.page.hasShowcaseMainElement,Co={minAbove:500,minBelow:500},xo=e=>"".concat(vi.O5,"-").concat(e+2),Ao=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=(0,vi.dQ)(n,{name:t,classes:r}),s=(0,vi.iw)(a,o);rensertBefore(s,e)})).then(Eo((function*(){var e=["im","carrot"].includes(t);yield uo(a,e,i)})))},To=e=>(t,n)=>void 0===n||Math.abs(t.top-n.top)-e>=Co.minBelow,No=function(){var e=Eo((function*(e,t,n){if(!n)return t;var r=yield ri.Z.measure((()=>{var t,n=e.getBoundingClientRect().top,r=null===(t=document.querySelector(Po))||void 0===t?void 0:t.getBoundingClientRect().bottom;return r?Math.abs(n-r):void 0}));return t.filter((e=>!!r&&r>=e.height))}));return function(t,n,r){return e.apply(this,arguments)}}(),Do=()=>{var e=(0,ce.vv)(),t=["leftCol","wide"].includes(e),n=" > :not(p):not(h2):not(ul):not(.".concat(vi.O5,"):not(#sign-in-gate)");t&&(n+=':not([data-spacefinder-role="richLink"]):not([data-spacefinder-role="thumbnail"])');var r=window.guardian.config.page.isImmersive,i={bodySelector:Po,slotSelector:" > p",minAbove:r?700:300,minBelow:300,selectors:{" > h2":{minAbove:5,minBelow:190},[" .".concat(vi.O5)]:Co,[n]:{minAbove:35,minBelow:400},' [data-spacefinder-role="immersive"]':{minAbove:0,minBelow:600}," figure.element--supporting":{minAbove:500,minBelow:0}}},o={phablet:[J.ZN.outstreamDesktop,J.ZN.outstreamGoogleDesktop],desktop:[J.ZN.outstreamDesktop,J.ZN.outstreamGoogleDesktop]},a=function(){var e=Eo((function*(e){var t=e.slice(0,1).map(function(){var e=Eo((function*(e){return Ao(e,"inline1","inline","inline",o)}));return function(t){return e.apply(this,arguments)}}());yield Promise.all(t)}));return function(t){return e.apply(this,arguments)}}();return mi.e.fillSpace(i,a,{waitForImages:!0,waitForInteractives:!0,pass:"inline1"})},Bo=()=>{var e=1e3;Oo&&(e+=600),ko?jo&&(e+=100):e+=600;var t=J.ZN.halfPage.height,n={bodySelector:Po,slotSelector:" > p",minAbove:e,minBelow:300,selectors:{[" .".concat(vi.O5)]:Co,' [data-spacefinder-role="immersive"]':{minAbove:0,minBelow:600}},filter:To(t)},r=function(){var e=Eo((function*(e){var t=yield(0,_o.j)(e,Po);(0,_o.M)(t.map(((e,t)=>[xo(t),e])));var n=e.slice(0,e.length).map(function(){var t=Eo((function*(t,n){var r=n===e.length-1,i={sticky:!0,className:xo(n)+" offset-right ad-slot--offset-right ad-slot-container--offset-right"},o={desktop:yield No(t,[J.ZN.halfPage,J.ZN.skyscraper],r)};return Ao(t,"inline".concat(n+2),"inline","inline",o,i)}));return function(e,n){return t.apply(this,arguments)}}());yield Promise.all(n)}));return function(t){return e.apply(this,arguments)}}();return mi.e.fillSpace(n,r,{waitForImages:!0,waitForInteractives:!0,pass:"subsequent-inlines"})},Mo=()=>{var e={bodySelector:Po,slotSelector:" > p",minAbove:200,minBelow:200,selectors:{" > h2":{minAbove:100,minBelow:250},[" .".concat(vi.O5)]:Co,[" > :not(p):not(h2):not(.".concat(vi.O5,"):not(#sign-in-gate)")]:{minAbove:35,minBelow:200}},filter:To(J.ZN.mpu.height)},t=function(){var e=Eo((function*(e){var t=e.map(((e,t)=>Ao(e,0===t?"top-above-nav":"inline".concat(t),0===t?"top-above-nav":"inline","inline",1==t||2==t?{mobile:[J.ZN.portraitInterstitial]}:void 0)));yield Promise.all(t)}));return function(t){return e.apply(this,arguments)}}();return mi.e.fillSpace(e,t,{waitForImages:!0,waitForInteractives:!0,pass:"inline1"})},Lo=function(){var e=Eo((function*(){if(!In.d.articleBodyAdverts)return Promise.resolve(!1);var e,t,n=window.guardian.config.page.hasInlineMerchandise?(e=(0,ce.bc)(),t={bodySelector:Po,slotSelector:" > p",minAbove:300,minBelow:300,selectors:{" > .merch":{minAbove:0,minBelow:0}," > header":{minAbove:"mobile"===e||"tablet"===e?300:700,minBelow:0}," > h2":{minAbove:100,minBelow:250},[" .".concat(vi.O5)]:Co,[" > :not(p):not(h2):not(.".concat(vi.O5,"):not(#sign-in-gate)")]:{minAbove:200,minBelow:400}}},mi.e.fillSpace(t,(e=>{if(void 0===e[0])throw new Error("Trying to insert inline merch before a node that does not exist");return Ao(e[0],"im","im","",{},{className:"ad-slot-container--im"})}),{waitForImages:!0,waitForInteractives:!0,pass:"im"})):Promise.resolve(!1);return(yield n)&&(yield fo("dfp-ad--im")),yield"mobile"===(0,ce.bc)()?Mo():Oo?Bo():Do().then((()=>Bo())),yield yo(),n}));return function(){return e.apply(this,arguments)}}();function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.ap,t))}))}return e}function Ro(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function zo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Zo(o,r,i,a,s,"next",e)}function s(e){Zo(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Ho=()=>{var e=(0,vi.dQ)("comments");return e.classList.add("js-sticky-mpu"),e},Uo=(e,t,n)=>{var r=Ho();return ri.Z.mutate((()=>(e.classList.add("discussion__ad-wrapper"),window.guardian.config.page.isLiveBlog||window.guardian.config.page.isMinuteArticle||e.classList.add("discussion__ad-wrapper-wider"),t.appendChild(r),r))).then(function(){var e=zo((function*(e){yield uo(e,!1,n?{desktop:[J.ZN.halfPage,J.ZN.skyscraper]}:{}),Promise.resolve(di.K.emit("page:commercial:comments"))}));return function(t){return e.apply(this,arguments)}}())},qo=e=>{var t;return!(null===(t=e.sizes.desktop)||void 0===t||!t.some((e=>300===e[0]&&600===e[1]||160===e[0]&&600===e[1])))},Go=e=>(!qo(e)&&e.sizes.desktop&&e.updateSizeMapping(Fo(Fo({},e.sizes),{},{desktop:[...e.sizes.desktop,J.ZN.halfPage,J.ZN.skyscraper]})),e),Wo=(e,t)=>{var n=t.querySelector(".js-ad-slot"),r=C("dfp-ad--comments");r&&n&&Jr(Go(r)),r||Uo(e,t,!0)},Vo=function(){var e=zo((function*(){var e=document.querySelector(".js-discussion__ad-slot"),t="mobile"===(0,ce.bc)();if(!In.d.commentAdverts||!e||t)return Promise.resolve(!1);var n=yield(0,Mn.z5)();return di.K.once("modules:comments:renderComments:rendered",(()=>{var t=document.querySelector(".js-comments .content__main-column");t&&ri.Z.measure((()=>t.offsetHeight)).then((r=>{r>=800||n&&r>=600?Uo(t,e,!0):n&&Uo(t,e,!1),di.K.on("discussion:comments:gs",(()=>{Wo(t,e)}))}))})),Promise.resolve(!0)}));return function(){return e.apply(this,arguments)}}();function Jo(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Ko(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Jo(o,r,i,a,s,"next",e)}function s(e){Jo(o,r,i,a,s,"throw",e)}a(void 0)}))}}var $o=J.ZN.mpu.height+24,Xo=J.ZN.halfPage.height+24,Yo=e=>{(0,n.c)("commercial","Inserting comments-expanded advert");var t=(0,vi.dQ)("comments-expanded",{classes:"comments-expanded"}),r=document.createElement("div");r.className="ad-slot-container",r.style.position="sticky",r.style.top="0",r.appendChild(t);var i=document.createElement("div");return i.style.flexGrow="1",i.appendChile.appendhen((()=>uo(t,!1)))},Qo=function(){var e=Ko((function*(){return ri.Z.measure((()=>{var e=document.querySelector(".commentsRightColumn");if(!e)throw new Error("Could not find right column.");return e}))}));return function(){return e.apply(this,arguments)}}(),ea=e=>{var t=$o+Xo+window.innerHeight;return e.offsetHeight>=t},ta=function(){var e=Ko((function*(){if(In.d.commentAdverts){var e=yield Qo();ea(e)?Yo(e):(e=>{var t=new ResizeObserver((()=>{ea(e)&&(Yo(e),t.unobserve(e))}));t.observe(e)})(e)}else(0,n.c)("commercial","Adverts in comments are disabled in commercialFeatures")}));return function(){return e.apply(this,arguments)}}();function na(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var ra="//sb.scorecardresearch.com/cs/6035250/beacon.js",ia="6035250",oa=e=>{var t={c1:"2",c2:ia,cs_ucfr:"1"};return"Network Front"!==e&&(t.comscorekw=e),t},aa=function(){var e,i=(e=function*(){if(!In.d.comscore)return Promise.resolve();try{var e=yield(0,t.B4)(),i=e.tcfv2&&(0,t.Nl)("comscore",e),o=!!e.aus,a=!!e.ccpa&&!e.ccpa.doNotSell;if(!(i||o||a))throw Error("No consent for comscore");return void(yield(window._comscore=null!==(s=window._comscore)&&void 0!==s?s:[],window._comscore.push(oa(window.guardian.config.page.keywords)),(0,r.v)(ra,{id:"comscore",async:!0})))}catch(e){(0,n.c)("commercial","⚠️ Failed to execute comscore",e)}var s},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){na(o,r,i,a,s,"next",e)}function s(e){na(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return i.apply(this,arguments)}}(),sa=(0,se.Z)(aa),ca=a(3602),la=a(2510),ua=a(3007),da=a(1254),fa=a(2965);function pa(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var 0,o.H)(e)&&ma.test(e),ha=function(){var e,t=(e=function*(){if(va)return va;var e=K.t.local.get("gu.geo.override");if(ga(e))return va=e;var t=(0,$.e)({name:"GU_geo_country"});if(t&&ga(t))return va=t;try{var{country:n}=yield fetch("https://api.nextgen.guardianapps.co.uk/geolocation").then((e=>e.json()));if(ga(n))return(e=>{var{name:t,value:n}=e;if(!(0,da.I)(t,n))throw new Error("".concat(ca.P," ").concat(t,"=").concat(n));if(document.cookie="".concat(t,"=").concat(n,"; path=/;").concat((0,ua.B)()),fa.k.has(t)){var[r]=(0,la.H)(t);r&&fa.k.set(t,r)}})({name:"GU_geo_country",value:n}),va=n}catch(e){}return null},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pa(o,r,i,a,s,"next",e)}function s(e){pa(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function ba(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var wa=e=>{window.dm=window.dm||{AjaxData:[]},window.dm.AjaxEvent=(e,t,n,r)=>{dm.AjaxData.push({et:e,d:t,ssid:n,ad:r}),window.DotMetricsObj&&DotMetricsObj.onAjaxDataUpdate()};var t=window.guardian.config.page.ipsosTag;if(void 0===t)throw Error("Ipsos tag undefined");var n="https://".concat(e,"-script.dotmetrics.net/door.js?d=").concat(document.location.host,"&t=").concat(t);return(0,r.v)(n,{id:"ipsos",async:!0,type:"text/javascript"})},ya=function(){var e,r=(e=function*(){var e=yield ha(),r=yield(0,t.B4)(),i="AU"===e&&!!r.aus,o="GB"===e&&!!r.tcfv2;i||o||(0,n.c)("commercial","Skipping ipsos process outside GB or AU"),i?wa("au"):o&&((0,t.Nl)("ipsos",r)?wa("uk"):(0,n.c)("commercial","No consent for ipsos in GB"))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ba(o,r,i,a,s,"next",e)}function s(e){ba(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();function _a(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Sa(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_a(o,r,i,a,s,"next",e)}function s(e){_a(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Ea=0,Pa=(e,t)=>e?0===t?"top-above-nav":"inline".concat(t):"inline".concat(t+1),Oa=e=>{var t="mobile"===(0,ce.bc)(),n=document.createElement("div");n.className="ad-slot-container ad-slot-".concat(t?"mobile":"desktop");var r=(0,vi.dQ)("inline",{name:Pa(t,Ea),classes:"liveblog-inline".concat(t?"--mobile":"")});return n.appendChild(r),ri.Z.mutate((()=>{e.parentNode&&e.parentNode.insertBefore(n,e.nextSibling)})).then(Sa((function*(){return uo(r,!1,{phablet:[J.ZN.outstreamDesktop,J.ZN.outstreamGoogleDesktop],desktop:[J.ZN.outstreamDesktop,J.ZN.outstreamGoogleDesktop]})})))},ka=function(){var e=Sa((function*(e){for(var t=[],n=0;n<e.length&&Ea<8;n+=1){var r=e[n];if(null!=r&&r.parentNode){var i=Oa(r);t.push(i),Ea+=1}}yield Promise.all(t)}));return function(t){return e.apply(this,arguments)}}(),ja=e=>mi.e.fillSpace(e,ka,{pass:"inline1"}),Ca=(e,t)=>{var n;return{bodySelector:".js-liveblog-body",slotSelector:" > .block",fromBottom:!0,startAt:e,absoluteMinAbove:0,minAbove:0,minBelow:0,clearContentMeta:0,selectors:{},filter:e=>n?!!((e,t,n)=>Math.abs(e.bottom-t.bottom)>1.5*n)(n,e,t)&&(n=e,!0):(n=e,!1)}},xa=function(){var e=Sa((function*(e){var t=e.previousElementSibling;return null===t?null:t.classList.contains("block")?t:xa(t)}));return function(t){return e.apply(this,arguments)}}(),Aa=function(){var e=Sa((function*(){return ri.Z.measure((()=>{var e,t=document.querySelectorAll(".js-liveblog-body > .block");return null!==(e=t[t.length-1])&&void 0!==e?e:null}))}));return function(){return e.apply(this,arguments)}}(),Ta=function(){var e=Sa((function*(e){var t=document.querySelector(".js-liveblog-body > ".concat(e));return null===t?yield Aa():xa(t)}));return function(t){return e.apply(this,arguments)}}(),Na=function(){var e=Sa((function*(){var e="mobile"===(0,ce.bc)(),t=".ad-slot-container.ad-slot-".concat(e?"mobile":"desktop");return ri.Z.measure((()=>{var e=document.querySelectorAll(t).length;if(e>=8)throw new Error("Cannot insert any more inline ads. At ad slot limit.");Ea=e})).then(Sa((function*(){var e=yield Ta(t);if(!e)throw new Error("Cannot insert new inline ads. Cannot find a content block to start searching");return e}))).ttElement.clientHeight)).then((t=>Ca(e,tn.c)("commercial",e)}))}));return function(){return e.apply(tks-updated",Da),Na()},Ba=()=>window.guardian.config.isDotcomRendering?(()=>{var e=document.querySelector(".mobilesticky-container");if(e){var t=(0,vi.dQ)("mobile-sticky",{});e.appendChild(t)}return e})():(()=>{var e=document.createElement("div");e.className="mobilesticky-container";var t=(0,vi.dQ)("mobile-sticky",{});return e.appendChild(t),e})(),Ma=()=>Boolean(navigator.userAgent.includes("Google Web Preview")||navigator.userAgent.includes("googleweblight")),La=()=>((In.d.isSecureContact||Ma()||!window.guardian.config.switches.a9HeaderBidding||!In.d.shouldLoadGoogletag||In.d.adFree||window.guardian.config.page.hasPageSkin||re())&&!Sn||(!fu{t[e]._Q.push([n,r])}t[e]||(t[e]={init(){s("i"s(){s("f",argu)},setDisplayB,targetingKeys:()=>[],_Q:[]},(o=n.createElement(r)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(r)[0]).parentNode.insertBefore(o,a))}("apstag",window,document,"script"),Dn.initialise()),Promise.resolve()),Ia=(0,se.Z)(La),Fa=a(1083),Ra=e=>(0,Fa.K)(e)&&(0,o.H)(e.slotId)?e.slotId:void 0,Za=i.a.get();function za(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Ha=function(){var e,t=(e=function*(e){Ma()||!window.guardian.config.switches.prebidHeaderBidding||!In.d.shouldLoadGoogletag||In.d.adFree||window.guardian.config.page.hasPageSkin||Sn||re()||(yield a.e(322).then(a.t.bind(a,1601,23)),Lr.initialise(window,e))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){za(o,r,i,a,s,"next",e)}function s(e){za(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Ua=()=>(0,t.B4)().then((e=>e.framework?(0,t.Nl)("prebid",e)?Ha(e.framework):Promise.reject("No consent for prebid"):Promise.reject("Unknown framework"))).catch((e=>{(0,n.c)("commercial","⚠️ Failed to execute prebid",e)})),qa=(0,se.Z)(Ua),Ga=()=>{var e=document.body,t=window.guardian.config.page.hasPageSkin,n="au"===window.guardian.config.page.edition.toLowerCase(),r=0,i=!1,o=!1,a=()=>{t&&(0,ce._k)(!0)&&!In.d.adFree&&A().mutate((()=>{e.classList.toggle("has-active-pageskin",(0,ceon="50% ".concat(t,"px")},c=()=>{if(0===r){var e=document.querySelector(".new-header");e&&(r=i?e.offsetTop+24:e.offsetTop+e.offsetHeight)}},l=e=>{var t=document.querySelector(".fc-container__inner");t&&(e.style.cssText="max-width: ".concat(t.clientWidth,"px; margin-right: auto; margin-left: auto;"))},u=()=>{i&&t&&(()=>{var e=document.querySelector(".new-header"),t=document.querySelector(".l-footer"),n=document.querySelector(".ad-slot--top-banner-ad");if(e&&t&&n){var i=document.querySelector(".top-banner-ad-container");i&&(i.style.borderBottom="none",i.style.minHeight="0"),c(),l(e),l(t),0===window.pageYOffset&&s(r);var o=e.getBoundingClientRect(),a=n.getBoundingClientRect(),u=o.top,d=a.bottom;u<=a.height+24-o.height&&d>0?s(d):d<=0&&s(0)}})(),o&&t&&n&&(c(),0===window.pageYOffset?s(r):window.pageXOffset<=r&&s(r-window.pageYOffset),window.pageYOffset>r&&s(0))};a(),window.addEventListener("message",(e=>{"pageskinRendered"===e.data&&(o=!0,u()),"truskinRendered"===e.data&&(i=!0,u())}),!1),di.K.on("window:throttledResize",a),t&&di.K.on("window:throttledScroll",u)},Wa=["dfp-ad--im"];function Va(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Ja=function(){var e,t=(e=function*(){var e=[(0,ti.P)()];if(yield Promiseld not load Prebid.js",e))),In.d.adFree)return Promise.resolve();var t=window.guardian.config.isDotcomRendering&&"mobile"===(0,ce.bc)(),r=[...document.querySelectorAll(j.Fe=>!j.F.adverts.has(e.id))).filter((e=>!(t&&"dfp-ad--top-above-nav"===e.id))).map((e=>{var t=(e=>{var{contentType:t}=window.guardian.config.page,{name:n}=e.dataset;return"Gallery"===t&&null!=n&&n.includes("inline")?{desktop:[J.ZN.billboard,(0,J.PH)(900,250)]}:"LiveBlog"===t&&null!=n&&n.includes("inline")?{phablet:[J.ZN.outstreamDesktop,J.ZN.outstreamGoogleDesktop],desktop:[J.ZN.outstreamDesktop,J.ZN.outstreamGoogleDesktop]}:"article-end"===n&&ne()?{mobile:[J.ZN.fluid]}:"article-end"===n&&tn($t,"variant")&&te()?{desktop:[J.ZN.outstreamDesktop,J.ZN.outstreamGoogleDesktop]}:{}})(e);return no(e,t)})).filter(l.C);for(var i of r)j.F.adverts.set(i.id,i);r.forEach(lo),j.F.shouldLazyLoad()?(()=>{window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices();var e,t,[n,ad,t=e=>Wa.includes(e.id),e.reduce(((n,r,i)=>(t(r,i,e)?n[0].push(r):n[1].push(r),n)),[[],[]]));j.F.advertsToLoad=r,n.forEach(Vr),r.forEach(co)})():(()=>{window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices();var e=j.F.advertsToLoad.length?j.F.advertsToLoad[0]:void 0;e&&(Vr(e),j.F.advertsToLoad=[]),Ga()})()},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Va(o,r,i,a,s,"next",e)}function s(e){Va(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Ka="".concat(window.location.protocol,"//").concat(window.location.host),$a=e=>{var t=C(e.slot.getSlotElementId());if(t){var n=t.node.getElementsByTagName("iframe").item(0);null!=n&&n.contentWindow?Si({id:n.id,host:Ka},n.contentWindow):console.log("No iFrame found for slot",t.id,t.slot)}},Xa=e=>{(0,n.c)("commercial","Removing empty advert: ".concat(e.id)),A().mutate((()=>{window.googletag.destroySlots([e.slot]),(e=>{var t=e.node.parentElement;null!=t&&t.classList.contains("ad-slot-container")?t.remove():e.node.remove()})(e),(e=>{j.F.adverts.delete(e.id),j.F.advertsToLoad=tsToLoad.filter((t=>t!==e))})(e)}))},Ya=e=>(e=>new Promise(((t,n)=>{var r=e.querySelector('iframe:not([id*="__hidden__"])');if(r)if(r.readyState&&"complete"!==r.readyState){var i=e=>{var n=e.srcElement;n&&"complete"===n.readyState&&(n.removeEventListener("readystatechange",i),t(r))};r.addEventListener("readystatechange",i)}else t(r);else n()})))n((()=>!0)).catch((()=>!1));var Qa=e=>ri.Z.measure((()=>{if((e=>!(e.classList.contains("ad-slot--fluid")&&!e.classList.contains("ad-slot--interscroller")&&!e.classList.contains("ad-slot--article-end")||e.classList.contains("ad-slot--frame")||e.classList.contains("ad-slot--gc")||e.classList.contains("u-h")||e.classList.contains("ad-slot--collapse")||"false"===e.getAttribute("data-label")))(e)){var t,n,r=(e=>!!(0,$.e)({name:"adtestInLabels",shouldMemoize:!0})&&!e.classList.contains("ad-slot--sky"))(e),i=(null===(t=e.parentNode)||void 0===t||null===(n=t.firstElementChild)||void 0===n?void 0:n.firstElementChild)instanceof HTMLAnchorElement,o=(0,$.e)({name:"adtest",shouldMemoize:!0}),a="Advertisement".concat((s=o,c="",r&&s&&(c+=" [?adtest=".concat(s,"] ")),c));return ri.Z.mutate((()=>{var t,n;(e.setAttribute("data-label-show","true"),e.setAttribute("ad-label-text",a),null!==(t=e.parentElement)&&void 0!==t&&t.classList.contains("ad-slot-container")&&"dfp-ad--top-above-nav"===e.id&&e.parentElement.setAttribute("top-above-"ad-slot--mobile-sticky"))(e)&&e.insertBefore((()=>{var e=document.createElement("button");e.className="ad-slot__close-button",e.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9l-6.5-7 1-1 7 6.5 7-6.5 1 1-6.5 7 6.5 7-1 1-7-6.5-7 6.5-1-1 6.5ontainer");t&&t.remove()};var t=document.createElement("div");return t.style.cssText="position: relative;padding: 0;height: 0",t.appendChild(e),t})(),e.firstChild),r&&o&&!i)&&(null===(n=e.parentNode)||void 0===n||n.insertBefore((()=>{var e=document.createElement("div");e.style.cssText="position: relative;padding: 0;text-align: left;box-sizing: border-box;display: block;width: 0;height: 0";var t=new URL(window.location.href);t.searchParams.set("adtest","clear");var n=document.createElement("a");return n.className="ad-slot__adtest-cookie-clear-link",n.href=t.href,n.innerHTML="clear",e.appendChild(n),e})(),e))}))}var s,c;return Promise.resolve()})),es=e=>function(t){return fode.classList.contains(e)))?ri.{n.node.classList.add(e)}))})):Promise.resolve()}},ts=es(["ad-slot--fluid250"]),ns=es(["ad-slot--fluid"]),rs={};rs[J.ZN.fluid.toString()]=e=>ns(["ad-slot"])(e).then((()=>((e,t)=>{var n=e.node.querySelect.style.removeProperty(t)}))})(e,"vertical-align"))),rs[J.ZN.mpu.toString()]=e=>e.updateExtraSlotClasses(),rs[.updateExtraSlotClasses(),rs[J.ZN.skyscraper.toString()]=e=>e.updateExtraSlotClasses("ad-slot--sky"),rs[J.ZN.outstreamDesktop.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),rs[J.ZN.outstreamGoogleDesktop.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),rs[J.ZN.outstreamMobile.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),rs[J.lotClasses("ad-slot--gc");var is=e=>{var t=e.node.parentNode;return ri.Z.mutate((()=>{if(e.node.classList.add("ad-slot--collapse"),e.id.includes("top-above-nav")){var n=e.node.closest(".top-banner-ad-container");n&&(n.style.display="none")}if(e.id.includes("fronts-banner")){var r=e.node.closest(".top-fronts-banner-ad-container");r&&(r.style.display="none")}t.classList.contains("fc-slice__item--mpu-candidate")&&t.classList.add("fc-slice__item--no-mpu")}))};rs[J.ZN.outOfPage.toString()]=is,rs[J.ZN.empty.toString()]=is,rs[J.ZN.merchandising.toString()]=ts(["ad-slot--commercial-component"]);var os=(e,t)=>{var n,r;return n=e.node,(r=ui("#".concat(n.id," > div:not(.ad-slot__label)"),n).get()).length&&ri.Z.mutate((()=>{var e;null===(e=r[0])||void 0===e||e.classList.add("ad-slot__content")})),Ya(e.node).then((n=>(()=>{if(e.size){e.hasPrebidSize=!1;var n=rs[e.size.toString()];return Promise.resolve(void 0!==n?n(e,t):e.updateExtraSlotClasses())}return Pr})().then((()=>Qa(e.node))).then((()=>((e,t)=>{var n=["dfp-ad--top-above-nav","dfp-ad--merchandising-high","dfp-ad--merchandising"];return ri.Z.measure((()=>{var r;return t&&!e.classList.contains("ad-slot--fluid")&&(null===(r=e.parentElement)||void 0===r?void 0:r.classList.contains("ad-slot-container"))&&n.includes(e.id)})).then((t=>container--centre-slot")}))}))})(e.node,n)))add("ad-slot--rendered")})):e.resolve())).then((()=>n)))).catch((e=>(Kt(e,{feature:"commercial"},!1),Promise.resolve(!1))))},as=e=>{var t,n=C(e.slot.getSlotElementId());n&&(n.isEmpty=e.isEmpty,e.isEmpty?(Xa(n),((e,t)=>{if(Math.random()<1e-4){var n=t.slot.getAdUnitPath(),r=(t.slot.getTargetingKeys().includes("k")?t.slot.getTargeting("k"):[]).join(", ");Kt(new Error("dfp returned an empty ad response"),{feature:"commercial",adUnit:n,adSlot:e,adKeywords:r},!1)}})(n.id,e),n.finishedRendering(!1)):(!n.hasPrebidSize&&e.size&&(n.size=(t=e.size,(0,o.H)(t)?"fluid":(0,J.PH)(Number(t[0]),Number(t[1])))),n.lineItemId=e>{n.finishedRendering(e)}))))};function ss(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var cs=function(){var e,t=(e=function*(){var{host:e,isProd:t}=window.guardian.config.page,n=new URL("/commercial/non-refreshable-line-items.json",t?e:"https://m.code.dev-theguardian.com"),r=yield fetch(n.toString());if(r.ok){var i=yield r.json();if(!Array.isArray(i))throw Error("Failed to parse non-refreshable line items as an array");var o=i.reduce(((e,t)=>e instanceof Error||"number"!=typeof t?Error("Failed to parse element in non-refreshable line item array as number"):{lineItems:[...e.lineItems,t]}),{lineItems:[]});if(o instanceof Error)throw o;return o.lineItems}var a=Error("Failed to fetch non-refreshable line items");throw Kt(a,{feature:"commercial",status:String(r.status)},!1),a},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ss(o,r,i,a,s,"next",e)}function s(e){ss(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),ls=(0,le.Z)(cs),us=e=>{var t=C(e.slot.getSlotEl(e=>null!==e&&"fluid"!==e)(e.size)){var{size:t,node:n}=e;===t.width&&r===t.height}))||)=>{n.style.minHetAttribute("data-label"))).then((e=>{var r=e?24:0;ri.Z.mutate((()=>{var e=t.height+r;n.style.minHeight="".concat(e,"px")}))})))}})(t),ls().then((e=>{t.shouldRefresh=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=null===(t=e.size)||void 0===t?void 0:t.toString();return!("false"===e.node.dataset.refresh||"fluid"===r||Object.values(J.N9).map((e=>e.toString())).includes(r)||e.lineItemId&&n.includes(e.lineItemId)||window.guardian.config.page.hasPageSkin)}(t,e)})).catch((e=>{(0,n.c)("commercial","⚠️ Error fetching non-refreshable line items",e)}));var r=()=>{document.hidden||(document.removeEventListener("visibilitychange",r),co(t))};setTimeout((()=>{t.shouldRefresh&&(document.hidden?document.addEventListener("visibilitychange",r):co(t))}),3e4)}};function ds(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function fs(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ds(o,r,i,a,s,"next",e)}function s(e){ds(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ms,gs,hs,bs,ws,ys,_s,Ss=window.guardian.config.isDotcomRendering,Es=e=>{var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.scrollType,delete t.ctaUrl,delete t.videoSource,t.backgroundColour&&(t.backgroundColor=t.backgroundColour,delete t.backgroundColour),t},Ps=function(){var e=fs((function*(e,t){var{backgroundParent:n,background:r}=((e,t)=>{var n=e.querySelector(".creative__background-parent"),r=e.querySelector(".creative__background");return n&&r||(n=document.createElement("div"),r=document.createElement("div"),n.classList.add("creative__background-parent"),r.classList.add("creative__background"),t&&(n.classList.add("creative__background-parent--".concat(t)),r.classList.add("creative__background--".concat(t))),n.appendChild(r),Ss&&(n.style.zIndex="-1",n.style.position="absolute",n.style.inset="0",n.style.clipPath="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",n.style.overflow="hidden",r.style.inset="0",r.style.transition="background 100ms ease")),{backgroundParent:n,background:r}})(t,e.scrollType);return ri.Z.mutate((()=>{if(((e,t)=>{var n=Es(e);Object.assign(t.style,n)})(e,r),"parallax"===e.scrollType&&((e,t,n)=>{t.style.position="absolute",e.style.position="relative";var r=e=>ri.Z.measure((()=>e.getBoundingClientRect())).then((t=>ri.Z.mutate((()=>{var n=t.height,r=window.innerHeight,i=Math.floor(t.bottom/(r+n)*130);e.style.backgroundPositionY="".concat(i,"%")}))));new IntersectionObserver((e=>e.filter((e=>e.isIntersecting)).forEach((()=>{windListener("scroll",(()=>{r(t)}),{passive:!0}),r(t)}))),{rootMargin:"10px"}).observe(n)})(t,r,n),"fixed"===e.scrollType&&(t.style.position="relative",Ss&&(r.style.position="fixed"),e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor)),"interscroller"===e.scrollType){if(Ss&&(t.style.height="85vh",t.style.marginBottom="12px",t.style.position="relative"),Qa(t),a=n,ri.Z.mutate((()=>{var e=document.createElement("div");e.classList.add("ad-slot__scroll"),e.innerHTML="Scroll for More",e.setAttribute("role","button"),e.onclick=e=>{a.scrollIntoView({behavior:"smooth",block:"start"}),e.preventDefault()},a.appendChild(e)})),Ss&&((e,t)=>{e.style.position="fixed";var n=document.createElement("div");n.classList.add("ad-slot__line"),n.style.position="absolute",n.style.width="100%",n.style.bottom="0",n.style.borderBottom="1px solid #dcdcdc",t.appendChild(n)})(r,n),e.ctaUrl){var i=((e,t)=>{var n=document.createElement("a");return n.href=e,n.target="_new",n.appendChild(t),n.style.width="100%",n.style.height="100%",n.style.display="inline-block",n})(e.ctaUrl,n);t.insertBefore(i,t.firstChild)}if(e.videoSource){var o=document.createElement("video");o.autoplay=!0,o.muted=!0,o.playsInline=!0,o.src=e.videoSource,o.style.inset="50% 0 0 50%",o.style.position="fixed",o.style.height="100%",o.style.transform="translate(-50%, -50%)",r.appendChild(o)}}else t.insertBefore(n,t.firstChild);var a}))}));return function(t,n){return e.apply&(Otriturm()ed:t":(fuent function|do==e.type?e.timeStamp:0,Rs())},Fs=function(){addEventListener("visibilitychange",Is,!0),addEventListener("p("pirsction(){return e()}),!0):e()},Hs=[1800,3e3],Us=[.1,.25],qs={passive:s(r((fcantion(t){return e(t,Js,qs)}))},$s=[100,300],Xs=[2500,4e3],Ys={},Qs=null!==(ws=null===(ys=window.guardian.config.googleAnalytics)||void 0===ys||null===(_s=ys.trackers)||void 0===_s?void 0:_s.editorial)&&void 0!==ws?ws:"no-ga-tracker-found",ec="".concat(Qs,".send"),tc=e=>{var{name:t,delta:n,id:r}=e,{ga:i}=window;i&&i(ec,"event",{eventCategory:"Web Vitals",eventAction:t,eventValue:Math.round("CLS"===t?1e3*n:n),eventLabel:r,nonInteraction)})),Ys[r),r=o,bs.push(r),Vs()}))}))}(tc));var nc=(e,t)=>{var n,r;n=e.id,r=t,window.ga(ec,"event","click","native ad",r,{nonInteraction:!0,dimension25:n})},rc=(e,t)=>A().mutate((()=>{e?t.classList.add("ad-slot--full-width"):t.classList.remove("ad-slot--full-width")})),ic=e=>(0,Fa.K)(e)&&"selector"in e,oc=(e,t)=>{for(var n=[],r=0;r<t.length;r+=1){var i,o=null===(i=t[r])||void 0===i?void 0:i.ownerNode;o instanceof HTMLStyleElement&&o.matches(e.selector)&&null!==o.textContent&&n.push(o.textContent)}return n},ac=[J.ZN.mpu.width,J.ZN.mpu.height],sc=[J.ZN.outstreamDesktop.width,J.ZN.outstreamDesktop.height],cc=[J.ZN.outstreamMobile.width,J.ZN.outstreamMo,lc=(e,t)=>e.map((e=>[e,t(e)])),uc=e=>{var t="mobile"===(0,ce.bc)();return"".concat(e).concat(t?"mobile":"desktop")},dc=(e,t)=>{var n=C(t.id);n&&(n.slot.setTargeting("passback",e),Jr(n))},fc=e=>{var t=/^(\d+)(%|px|em|ex|ch|rem|vh|vw|vmin|vmax)?/.exec(String(e));if(!t)return"";var n=t[1],r=void 0===t[2]?"px":t[2];return n?n+r:""},pc=(e,t,n,r)=>{if(!(e=>(0,Fa.K)(e)&&(void 0===e.width||(0,o.H)(e.width)||"number"==typeof e.width)&&(void 0===e.height||(0,o.H)(e.height)||"number"==typeof e.height))(e)||!r)return Promise.resolve();var i={};return e.width&&(i.width=fc(e.width)),e.height&&(i.height=fc(e.height)),ri.Z.mutate((()=>{Object.assign(t.style,i),n&&Object.assign(n.style,i)}))},vc=a(9204)et passive(){return mc=!0,!1}};window.addEventListener("test",null,gc),window.removeEventListener("test",null,gc)}catch(ms){}var hc,bc=window,wc="IntersectionObserver"in bc,yc=!1,_c={},Sc=0,Ec=[],Pc=(e,t)=>{var n,r;null===(n=_c[e])||void 0===n||n.respond(null,{width:(r=t).width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right})},Oc=e=>{var t;return[e,(null===(t=_c[e])||void 0===t?void 0:t.node).getBoundingClientRect()]},kc=function(e){return e[1].bottom>0&&e[1].top<thiter((e=Ratio>0)).map((e=>e.target.id))},Cc=()=>{if(!yc){var e=(0,vc.a)();yc=!0,ri.Z.measure((()=>{yc=!1;var t=Object.keys(_c);wc?Ec.map(Oc).forEach((e=>{Pc(e[0],e[1])})):t.).forEach((e=>{Pc(e[0],e[1])}))}))}},xc=(e,t)=>{0===Sc&&(!function(e,t,n){var{passive:r=!1,capture:i=!1,once:o=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};mc?e.addEventListener(t,n,{passive:r,capture:i,once:o}):o?e.addEventListener(t,(function r(i){n.call(this,i),e.removeEventListener(t,r)}),i):e.addEventListener(t,n,i)}(bc,"scroll",Cc,{passive:!0}),wc&&(hc=new bc.IntersectionObserver(jc))),_c[e.id]={node:e,visible:!wc,respond:t},Sc+=1,hc()=>e.getBoundingClientRect())).then((t=>{Pc(e.id,t)}))},Ac=e=>{e.id in _c&&(wc&&hc&&hc.unobserve(e),delete _c[e.id],Sc-=1),0===Sc&&(bc.removeEventListener("scroll",Cc),wc&&hc&&(hc.disconnect(),hc=null))},Tc=window,Nc={},Dc>ri.Z.measure((()=>(0,vc.a)())),Lc=(e,t)=>{var n;null===(n=Nc[e])||void 0===n||n.respond(null,t)},Ic=()=>{Bc||(Bc=!0,Mc().then(eys(Nc).forEach((t=>{Lc(t,e)})),Bc=!1})))},Fc=(e,t)=>(0===Dc&&Tc.addEventListener("resize",Ic),Nc[e.id]={node:=1,Mc().then((t=>{Lc(e.id,t)}))),Rc=e=>{delete Nc[e.id],0===(Dc-=1)&&Tc.removeEventListener("resize",Ic)},Zc=(e,t,n)=>{n&&"boolean"==typeof t&&(t?Fc(n,e):Rc(n))};function zc(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}((e,t,n)=>{ki=n,e.forLi,n))),t.forEach((e=>e(Ii,n)))})([e=>{e("type",((e,t,n)=>{var r=null==n?void 0:n.closest(".js-ad-slot");r&&(0,o.H)(e)&&((e,t)=>{ri.Z.mutate((()=>{t.classList.add("ad-slot--".concat(e))}))})(e,r)}))},e=>{e("get-styles",(e=>{if(ic(e))return oc(e,document.styleSheets)}))config.page.sharedAdTargeting))},e=>{e("get-page-url",(()=>window.location.origin+window.location.pathname))},e=>{e("measure-ad-load",(e=>{Za.mark("adOnPage",Ra(e)),Za.mark("fetchAdEnd",Ra(e)),Za.mark("adRenderEnd",Ra(e))}))},e=>{e("passback-refresh",((e,t,n)=>{if(n&&(0,o.H)(e)){var r,i=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?r:void 0;if(!i)return;return dc(e,i)}}))},e=>{e("resize",((e,t,n)=>{if(n&&e){var r,i,o=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?remove("ad-slot--outstream")}))})(o);var a=null!==(i=n.closest(".ad-slot__content"))&&void 0!==i?i:void 0;return pc(e,n,a,o)}}))},e=>{e("full-width",((e,t,n)=>{if(n&&e){var r,i;if(!(e=>"boolean"==typeof e)(e))return;var o=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?r:void 0,a=null==o?void 0:o.dataset.name;if(null==a||!a.startsWith("fronts-banner")||!o)return;var s=null!==(i=n.closest(".ad-slot-container"))&&void 0!==i?i:void 0;if(!s)return;return rc(e,s)}}))},e=>{e("click",((e,t,n)=>{var r;return nc(null!==(r=null==n?void 0:n.closest(".js-ad-slot"))&&void 0!==r?r:{id:"unknown"},(0,o.H)(e)?e:"")}))},e=>{e("background",function(){var e=fs((function*(e,t,n){if(!(e=>(0,Fa.K)(e)&&"backgroundImage"in e)(e))return Promise.resolve();var r=null==n?void 0:n.closest(".js-ad-slot");retuturn e.apply(this,arguments)}}())},e=>{e("disable-refresh",((e,t,n)=>{if(n){var r=n.closest(".js-ad-slot");if(r instanceof HTMLElement){var i=j.F.adverts.get(r.id);i&&(i.shouldRefresh=!1)}}}))},e=>{e("passback",((e,t,r)=>{window.googletag.cmd.push((()=>{var{source:t}=e;if(t)if(r){var i=r.closest(".ad-slot"),o=null==i?void 0:i.dataset.name;if(o){var a="".concat(ei).concat(o);(0,n.c)("commercial","Passback: from source '".concat(t,"' for slot '").concat(a,"'"));var s=r.closest(".ad-slot__content");if(s)ri.Z.mutate((()=>{s.style.visibility="hidden",i.style.position="relative",i.classList.remove("ad-slot--outstream")})).then((()=>{var e=document.createElement("div");return e.id="".concat(a,"--passback"),e.classList.add("ad-slot","js-ad-slot"),e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.top="".concat(24,"px"),e.stjacentElforeend",e)})).then((()=>e.id))})).then((e=>{var c=window.google((e=>e.getSlotElementId()===a));if(c){var l=lc(window.googletagetag.pubads().getTargeting(e)gKeys(),(e=>c.getTargeting(e)));(0,n.c)("commercial","Passback: initial slot targeting",Object.fromEntries([...l,...u]));var d=[...l,...u,["passback",[uc(t)]],["slot",[o]]];googletag.pubads().addEventListener("slotRenderEnded",(function(t){if(t.slot.getSlotElementId()===e){var o=t.size;if(Array.isArray(o)&&o[1]){var a=o[1];(0,n.c)("commercial","Passback: ad height is ".concat(a)),ri.Z.mutate((()=>{var e="".concat(a+24,"px");(0,n.c)("commercial","Passback: setting height of passback slot to ".concat(e)),i.style.height=e,r.style.height=e,s.style.height=e}))}}})),window.googletag.cmd.push((()=>{var t=googletag.defineSlot(c.getAdUnitPath(),[ac,cc,sc],e);t&&(t.defineSizeMapping([[[gi.A.phablet,0],[ac,sc]],[[gi.A.mobile,0],[ac,cc]]]),t.addService(window.gr[n,r]=e;t.setTargeting(n,r)})),(0,n.c)("commercial","Passback: passback slot targeting map",t.getTargetingMap()),(0,n.c)("commercial","Passback: displaying slot '".concat(e,"'")),googletag.display(e))}))}else(0,n.c)("commercial","Passback: cannot determine the googletag slot from the slotId")}));else(0,n.c)("commercial","Passback: cannot determine the iFrameContainer from the calling iFrame")}else(0,n.c)("commercial","Passback: cannot determine the slot from the calling iFrame")}else(0,n.c)("commercial","Passback: iframe has not been passed by messenger");else(0,n.c)("commercial","Passback: postMessage does not have source set")}))}))}],[e=>{&(t&&(e=>"function"==tyn))}))},e=>{e("viewport",Zc)}],Kt);var Hc=()=>{var e,t=window.googletag.pubads();t.addEventListener("slotRenderEnded",Vt.Z.wrap(as)),t.addEventListener("slotOnload",Vt.Z.wrap($a)),t.addEventListener("impressionViewable",(e=(0,nn.E)(),t=>{i.a.get().mark("viewable",t.slot.getTargeting("slot")[0]),"false"!==e.adrefresh&&us(t)}))},Uc=()=>{(0,Mn.Gj)().then((e=>{null!==e&&window.googletag.pubads().setPublisherProvidedId(e)}))},qc=()=>In.d.shouldLoadGoogletag?(0,t.B4)().then(function(){var e,o=(e=function*(e){i.a.get().mark("googletagInitStart");var o=!0;if(e.canTarget&&window.googletag.cmd.push(Uc),e.ccpa)window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!e.canTarget})}));else if(e.tcfv2)o=(0,t.Nl)("googletag",e);else if(e.aus){var a=!(0,t.Nl)("googletag",ings({nonPersonalizedAds:a})}))}if(o){var s,c,l=yield(0,Mn.z5)et().mark("googletagInitEnd")),Hc,(()=>{((e,t)=>{Object.entries(Zn(e,t)).forEach((e=>{var[t,n]=e;n&&window.googletag.pubads().setTargeting(t,n)}))})(e,l)}),(()=>{Ja()})),(0,r.v)(null!==(s=null===(c=window.guardian.config.page.libs)||void 0===c?void 0:c.googletag)&&void 0!==s?s:"//securepubads.g.doubleclick.net/tag/js/gpt.js",{async:!1}).catch((e=>{if(!navigator.userAgent.includes("DuckDuckGo"))throw e;(0,n.c)("commercial","🦆 Caught loadScript error on DuckDuckGo",e)}))}return Promise.resolve()},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){zc(o,r,i,a,s,"next",e)}function s(e){zc(o,r,i,a,s,{return o.apply(this,arguments)}}()).catch(ti.w):(0,ti.w)(),Gc=e=>""===e||null==e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length,Wc=e=>{var t;for(t in e)"object"==typeof e[t]&&Wc(e[t]),Gc(e[t])&&delete e[t];return e},Vc=e=>{var{page:t,user:n}=e,{isPaidContent:r,pageId:i,headline:o,contentType:a,section:s,author:c,keywords:l,webPublicationDate:u,series:d,edition:f,toneIds:p}=t,v=(c&&"string"==typeof c?c.split(","):[]).map((e=>e.trim())),m=(l&&"string"==typeof l?l.split(","):[]).map((e=>e.trim())),g=u&&"number"==typeof u?new Date(u).toISOString():"",h=(p&&"string"==typeof p?p.split(","):[]).map((e=>e.trim()));return Wc({content:{premium:r,id:i,title:o,type:a,section:s,authors:v,keywords:m,publishedAt:g,series:d,tone:h},user:{edition:f,identity:!Gc(n)&&!Gc(null==n?void 0:n.id)}})},Jc=e=>"object"==typeof e.ophan&&"string"==typeof e.ophan.browserId&&e.ophan.browserId.length>0?[{tag:"ophan",id:e.ophan.browserId}]:[],Kc=(e,t,n)=>{try{if(null==t||!t.addon)throw new Error("Global Permutive setup error");var r=Jc(e);t.identify&&r.length>0&&t.identify(r);var i=Vc(e);t.addon("web",{page:i})}catch(e){n(e,{feature:"commercial"},!1)}},$c=!1,Xc=()=>(0,t.B4)().then((e=>e.aus?(0,t.Nl)("redplanet",e)?void 0:Promise.reject("No consent for redplanet"):Promise.reject("Redplanet should only run in Australia on AUS mode"))).then((()=>{if($c)return Promise.reject("repla.parentNode.insertBefore(o,a))}(window,document,"script",0,"launchpad")})).then((()=>{(()=>{var e;window.launchpad&&(window.launchpad("newTracker","launchpad","lpx.qantas.com",{discoverRootDomain:!0,appId:"the-guardian"}),window.launchpad("trackUnstructEvent",{schema:"iglu:com.qantas.launchpad/hierarchy/jsonschema/1-0-0",data:{u1:"theguardian.com",u2:window.guardian.config.page.section,u3:window.guardian.config.page.sectionName,u4:window.guardian.config.page.contentType,uid:null!==(e=window.guardian.config.ophan.browserId)&&void 0!==e?e:""}}))})()})).catch((e=>{(0,n.c)("commercial","⚠️ Failed to execute redplanet",e)})),Yc=(0,se.Z)((()=>Promise.resolve(void(0,t.Uc)((e=>{"tcfv2"!==e.framework||e.canTarget||(0,ti.w)()})))));function Qc(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var el=function(){var e,n=(e=function*(){var e,n,i=yield(0,t.B4)();(0,t.Nl)("teads",i)&&["Article","LiveBlog"].includes(window.guardian.config.page.contentType)&&(window.teads_analytics=null!==(e=window.teads_analytics)&&void 0!==e?e:{},window.teads_analytics.analytics_tag_id="PUB_2167",window.teads_analytics.share=null!==(n=window.teads_analytics.share)&&void 0!==n?n:function(){var e;window.teads_analytics&&(window.teads_analytics.shared_data=null!==(e=window.teads_analytics.shared_data)&&void 0!==e?e:[]).push(...arguments)},yield(0,r.v)("https://a.teads.tv/analytics/tag.js",{async:!1}))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Qc(o,r,i,a,s,"next",e)}function s(e){Qc(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();(0,t.Uc)((e=>{var n=(0,t.Nl)("teads",e),r=(0,$.e)({name:"_tfpvi"});!n&&r&&(document.cookie="_tfpvi=;path=/")}));var tl=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//cdn.permutive.com/d6691a17-6fdb-4d26-85d6-b3dd27f55f08-web.js",name:"permutive"}},nl=()=>{var e,t;null===(e=(t=window).google_trackConversion)||void 0===e||e.call(t,{google_conversion_id:971225648,google_custom_params:window.google_tag_params,google_remarketing_only:!0})},rl=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//www.googleadservices.com/pagead/conversion_async.js",name:"remarketing",onLoad:nl}},il=()=>{!function(e,t,n,r,i,o){e.twq||(r=e.twq=function(){r.exe?r.exe(...arguments):r.queue.push(arguments)},r.version="1.1",r.queue=[],(i=t.createElement(n)).async=!0,i.src="//static.ads-twitter.com/uwt.js",(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(i,o))}(window,document,"script"),twq("init","nyl43"),twq("track","PageView"),twq("init","ny4k9"),twq("track","PageView")},ol=e=>{var{shouldRun:t}=e;return{shouldRun:t,name:"twitter",insertSnippet:il}},al={books:"P5033A084-E9BF-453A-91D3-C558751D9A85",business:"P5B109609-6223-45BA-B052-55F34A79D7AD",commentisfree:"PA878EFC7-93C8-4352-905E-9E03883FD6BD",artanddesign:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",culture:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",stage:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",education:"P4A01DB74-5B97-435A-89F0-C07EA2C739EC",environment:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",cities:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","global-development":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","sustainable-business":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",fashion:"PCF345621-F34D-40B2-852C-6223C9C8F1E2",film:"P878ECFA5-14A7-4038-9924-3696C93706FC",law:"P1FA129DD-9B9E-49BB-98A4-AA7ED8523DFD",lifeandstyle:"PCFE04250-E5F6-48C7-91DB-5CED6854818C",media:"P1434DC6D-6585-4932-AE17-2864CD0AAE99",money:"PB71E7F1E-F231-4F73-9CC8-BE8822ADD0C2",music:"P78382DEE-CC9B-4B36-BD27-809007BFF300",international:"P505182AA-1D71-49D8-8287-AA222CD05424",au:"P505182AA-1D71-49D8-8287-AA222CD05424","australia-news":"P505182AA-1D71-49D8-8287-AA222CD05424",uk:"P505182AA-1D71-49D8-8287-AA222CD05424","uk-news":"P505182AA-1D71-49D8-8287-AA222CD05424",us:"P505182AA-1D71-49D8-8287-AA222CD05424","us-news":"P505182AA-1D71-49D8-8287-AA222CD05424",world:"P505182AA-1D71-49D8-8287-AA222CD05424",politics:"P5B7468E3-CE04-40FD-9444-22FB872FE83E",careers:"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","culture-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","global-development-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","government-computing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","guardian-professional":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","healthcare-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","higher-education-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","housing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-government-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","public-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","small-business-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","social-care-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","teacher-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","voluntary-sector-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","women-in-leadership":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA",science:"PDAD6BC22-C97B-4151-956B-7F069B2C56E9",society:"P7AF4A592-96FB-4255-B33F-352406F4C7D2",sport:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",football:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",technology:"P29EF991A-3FEE-4215-9F03-58EACA8286B9",travel:"PD1CEDC3E-2653-4CB6-A4FD-8A315DE07548","tv-and-radio":"P66E48909-8FC9-49E8-A7E6-0D31C61805AD","brand-only":"P0EE0F4F4-8D7C-4082-A2A4-82C84728DC59"},sl={shouldRun:!!window.guardian.config.switches.imrWorldwide&&oe(),url:"//secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",onLoad:()=>{var e,t=window.guardian.config.page.section.toLowerCase(),n=null!==(e=al[t])&&void 0!==e?e:al["brand-only"],r=t in al?t:"The Guardian - brand only",i={sfcode:"dcr",apid:n,apn:"theguardian"},o=window.NOLCMB.getInstance(i.apid);o.ggInitialize(i);var a={type:"static",assetid:window.guardian.config.page.pageId,section:r};o.ggPM("staticstart",a)}},cl={shouldRun:!!window.guardian.config.switches.imrWorldwide&&oe(),url:"//secure-au.imrworldwide.com/v60.js",onLoad:()=>{window.nol_t({cid:"au-guardian",content:"0",server:"secure-gl"}).record().post()}};function ll(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ul(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ll(o,r,i,a,s,"next",e)}function s(e){ll(o,r,i,a,s,"throw",e)}a(void 0)}))}}var dl=e=>{var t=document.scripts[0],n=document.createDocumentFragment(),r=!1;return e.forEach((e=>{if(!0!==e.loaded){if(e.beforeLoad&&e.beforeLoad(),!0===e.useImage&&void 0!==e.url)(new Image).src=e.url;else if(e.insertSnippet)e.insertSnippet();else{var t;r=!0;var i=document.createElement("script");void 0!==e.url&&(i.src=e.url),i.onload=null!==(t=e.onLoad)&&void 0!==t?t:null,!0===e.async&&i.setAttribute("(e=>{i.setAttribute(e.name,e.value)})),n.appendChild(i)}e.loaded=!0}})),r?ri.Z.mutate((()=>{null!=t&&t.parentNode&&t.parentNode.insertBefore(n,t)})):Promise.resolve()},fl=function(){var e=ul((function*(e,n){yield dl(n);var r=yield(0,t.B4)(),i=e.filter((e=>void 0!==e.name&&(0,t.Nl)(e.name,r)))t,n){return e.apply(this,arguments)}}(),pl=()=>{var e,t,n,r,i=[rl({shouldRun:null!==(e=window.guardian.config.switches.remarketing)&&void 0!==e&&e}),tl({shouldRun:null!==(t=window.guardian.config.switches.permutive)&&void 0!==t&&t}),bi,_i({shouldRun:null!==(n=window.guardian.config.switches.inizio)&&void 0!==n&&n}),ol({shouldRun:null!==(r=window.guardian.config.switches.twitterUwt)&&void 0!==r&&r})].filtern)),o=[sl,cl].filter((e=>e.shouldRun));return fl(i,o)},vl=function(){var e=ul((function*(){return In.d.thirdPartyTags?(yield pl(),Promise.resolve(!0)):Promise.resolve(!1)}));return function(){return e.apply(this,arguments)}}();function ml(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var gl=function(){var e,r=(e=function*(){var e=yield(0,t.B4)();e.canTarget?((e=>{var t=void 0===e.gpcSignal?-1:+e.gpcSignal,r=i.a.get();(0,n.c)("commercial","gpcSignal ".concat(t)),r.setProperty("gpcSignal",t)})(e),(0,n.c)("commercial","tracking gpc signal")):(0,n.c)("commercial","No consent to track gpc signal")},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ml(o,r,i,a,s,"next",e)}function s(e){ml(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();function hl(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var bl=function(){var e,r=(e=function*(){var e,r=yield(0,t.B4)();"tcfv2"==r.framework&&null!==(e=r.tcfv2)&&void 0!==e&&e.consents[8]||r.canTarget?((()=>{var e=document.body.offsetHeight,t=window.innerHeight,r=Math.floor(e/t),o=i.a.get();o.setProperty("pageHeightVH",r);for(var a=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){var t=String(e.target.getAttribute("data-depth"));(0,n.c)("commercial","current scroll depth ".concat(t)),o.mark("scroll-depth-vh-".concat(t)),a.unobserve(e.target)}}))})),s=1;s<=r;s++){var c=document.createElement("div");c.dataset.depth=String(s),c.style.top=String(100*s)+"%",c.style.position="absolute",c.className="scroll-depth-marker",document.body.appendChild(c),a.observe(c)}})(),(0,n.c)("commercial","tracking scroll depth")):(0,n.c)("commercial","No consent to track scroll depth")},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){hl(o,r,i,a,s,"next",e)}function s(e){hl(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,igurable:!0,writable:!0}):e[t]=n,e}var El=(e,t,n)=>{window.consolropertyDescriptor(n,t))}))}return e}({module:e},n),!1)},Pl=(e,t,n)=>{var r=(e=>{var t;try{e()}catch(e){t=Jt(e)}return t})(t)ch(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Cl,{frontendAssetsFullURL:xl,switches:Al,page:Tl}=window.guardian.config;a.p=(Cl=null!=xl?xl:Tl.assetsPath,"".concat(Cl,"javascripts/commercial/"));var Nl={feature:"commercial",bundle:"standalone"},Dl=[],Bl=[["cm-adFreeSlotRemoveFronts",ni],["cm-removeConsentedAdsOnConsentChange",Yc],["cm-closeDisabledSlots",ti.P],["cm-comscore",()=>sa()],["cm-ipsosmori",ya],["cm-teadsCookieless",el],["cm-trackScrollDepth",bl],["cm-trackGpcSignal",gl]];In.d.adFree||(Dl.push(["cm-setAdTestCookie",wl.S],["cm-setAdTestInLabe,yl.S],["cm-prepare-prebid",()=>qa()functionName:e,arguments:n})}}(s)}}}(document,window.permutive),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{if(0===window.googletag.pubads().getTargeting("permutive").length){var e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[])}}));var e={user:window.guardian.config.user,page:window.guardian.config.page,ophan:window.guardian.config.ophan};return Kc(e,window.permutive,Kt),Promise.resolve()})().then(qc)],["cm-prepare-a9",()=>(0,t.B4)().then((e=>{if((0,t.Nl)("a9",e))return Ia();throw rcial","⚠️ Failed to execute a9",e)}))],["cm-prepare-fill-slot-listener",()=>Promise.resolve(void document.addEventListener("gu.commercial.slot.fill",letag.cmd.push((()=>{if((e=>"detail"in e)(e)){var{slotId:t,additionalSizes:n}=e.detail;if(j.F.adverts.has(t))return;var r=document.getElementById(t);r&&uo(r,!1,n)}}))})))]),Bl.push(["cm-prepare-adverification",Qr],["cm-mobileSticky",()=>{if(yn()){var e=Ba();return ri.Z.mutate((()=>{document.body&&e&&document.body.appendChild(e)})).then((()=>{if(e){var t=e.querySelector("#dfp-ad--mobile-sticky");t&&uo(t,!0)}}))}return Promise.resolve()}],["cm-highMerch",()=>{if(In.d.highMerch){var e=window.guardian.config.page.commentable?"#comments + *":".content-footer > :first-child",t=document.querySelector(e),n=(0,vi.dQ)("merchandising-high"),r=(0,vi.iw)(n,{className:"fc-container fc-container--commercial"});return r.style.display="flex",r.style.justifyContent="center",ri.Z.mutate((()=>{null!=t&&t.parentNode&&t.parentNode.insertBefore(r,t)}))}return Promise.resolve()}],["cm-articleAsideAdverts",()=>{var e=ui(".js-secondary-column");if(!e.get().length||"none"===e.get(0).style.display)return Promise.resolve(!1);var t=ui(".js-content-main-column"),n=ui(".js-ad-slot",e.get(0)),r=ui(".element--immersive",t.get(0)),i=n.get(),o=r.get();return i.length&&t.get().length?ri.Z.measure((()=>{var e=pi(o[0]),n=pi(t.get(0));return[t.get(0).offsetHeight,e-n]})).then((e=>{var[t,n]=e;return window.guardian.config.page.hasShowcaseMainElement?i[0]:window.guardian.config.page.isImmersive&&o.length>0?ri.Z.mutate((()=>{var e,t;return fi(i),null===(e=i[0])||void 0===e||e.setAttribute("data-mobile",(t=n)>600?"1,1|2,2|300,250|300,274|300,600|fluid":t>274?"1,1|2,2|300,250|300,274":t>250?"1,1|2,2|300,250":"1,1|2,2"),i[0]})):t<1300?ri.Z.mutate((()=>{var e;return fi(i),null===(e=i[0])||void 0===e||e.setAttribute("data-mobile","1,1|2,2|300,250|300,274|fluid"),i[0]})):i[0]})).then((e=>(di.K.emit("page:defaultcommercial:right",e),!0))):Promise.resolve(!1)}],["cm-articleBodyAdverts",()=>(di.K.on("page:article:redisplayed",Lo),document.addEventListener("article:sign-in-gate-dismissed",(()=>{Lo()})),Lo())],["cm-liveblogAdverts",()=>(In.d.liveblogAdverts&&document.addEventListener("liveblog:blocks-updated",Da),Promise.resolve())],["cm-commentAdverts",Vo],["cm-commentsExpandedAdverts",()=>(documeListener("comments-expanded",(()=>{ta()})),Promise.resolve())],["cm-thirdPartyTags",vl],["cm-redplanet",()=>In.d.launchpad&&oe()?Xc():Promise.resolve()]));var Ml=()=>{var e=i.a.get();e.mark("commercialBootEnd"),e.mark("commercialModulesLoaded");var t=document.querySelectorAll('[id^="'.concat(ei,'"]')).length;e.setProperty("adSlotsTotal",t);var n=document.querySelectorAll('[id^="'.concat(ei,'inline"]')).length;e.setProperty("adSlotsInline",n)},Ll=function(){var e=jl((function*(){(0,n.c)("commercial","📦 standalone.commercial.ts",a.p),(0,n.c)("commercial","@guardian/commercial commit https://github.com/guardian/commercial/blob/".concat("88f412663938e513fb0e10847f76a6556142483a")),i.a.init(),Ol([["ga-user-timing-commercial-start",function(){i.a.get().mark("commercialStart"),i.a.get().mark("commercialBootStart")}]],Nl),window.googletag={cmd:[]};try{var e=[[Dl,"commercialBaseModulesLoaded"],[Bl,"commercialExtraModulesLoaded"]].map((e=>((e,t)=>{var nr]=e;Ol([[t,function(){var e=r();n.puallSettled(n).then((()=>{i.a.get().mark(t)}))})(...e)));yield Promise.all(e).then(Ml)}catch(e){Kt(e,Nl,!1)}}));return function(){return e.apply(this,arguments)}}(),Il=()=>{window.guardian.mustardCut||window.guardian.polyfilled?Ll():window.guardian.queue.push(Ll)},Fl=function(){var e=jl((function*(){var e=yield(0,t.B4)();!e.tcfv2||(0,t.Nl)("googletag",e)||In.d.adFr((t=>{var{bo function(){return e.apply(this,arguments)}}();Al.optOutAdvertising?Fl():Il()})()})();
//# sourceMappingURL=graun.standalone.commercial.js.map