"use strict";(self.webpackChunkphotobucket_web=self.webpackChunkphotobucket_web||[]).push([[5062],{39162:function(e,i,t){t.r(i),t.d(i,{default:function(){return xe}});var n,r,o=t(58467),s=t(70592),a=t(93433),l=t(1413),d=t(29439),u=t(61511),c=t(96420),p=t(72668),g=t(61113),f=t(16031),v=t.n(f),m=t(47313),h=t(2135),x=t(53104),b=t(39837),Z=t(28422),j=t(91345),R=t(25258),E=t(94624);function y(e){return!!e&&(0,E.MS)(e)&&e.graphQLErrors.some((function(i){var t=v().get(i,"extensions.exception.name","");return t===n.NEED_PASSWORD_ERROR||t===n.WRONG_PASSWORD_ERROR||e.message===r.PASSWORD_REQUIRED}))}!n||(n={})),r||(r={}));var w=t(39437),S=t(93305),P=t(32756),k=t(46171),I=t(77406),D=t(91210),O=t(17592),T=t(73428),A=t(16783),_=t(41727),C=t(47131),N=t(24193),W=t(2493),M=t(46417),U=(0,O.ZP)("div")({backgroundColor:"#161e37",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"0 30px",width:"100%",height:"calc(100vh - 64px)"}),B={card:{maxWidth:"560px",width:"100%",display:"flex",flexDirection:"column",padding:"50px 15px 60px",alignItems:"center",borderRadius:"0 0 4px 4px",backgroundColor:"#fff",color:"#192037",textAlign:"center",marginBottom:"64px"},heading:{fontSize:"30px",lineHeight:"35px",fontWeight:"bold",paddingBottom:"5px",paddingTop:"50px"},hint:{opacity:"0.9",color:"#717583",marginBottom:"30px"},button:{paddingBottom:"12px",paddingTop:"12px",marginBottom:"24px"}};function F(e){var i=e.setPassword,t=e.isFullScreen,n=(0,m.useState)(""),r=(0,d.Z)(n,2),o=r[0],s=r[1],a=(0,m.useState)(!1),l=(0,d.Z)(a,2),u=l[0],c=l[1];return(0,M.jsx)(U,{sx:{height:t?"100vh":"calc(100vh - 64px)"},children:(0,M.jsxs)(T.Z,{sx:B.card,children:[(0,M.jsx)(W.Z,{}),(0,M.jsx)(g.Z,{sx:B.heading,children:"Password protected album"}),(0,M.jsx)(g.Z,{sx:B.hint,children:"Enter the password below to view the album"}),(0,M.jsx)(A.Z,{fullWidth:!0,"data-test":"password",label:"Password",margin:"normal",name:"password","data-sr-redact":!0,value:o,required:!0,type:u?"text":"password",variant:"filled",onChange:onKeyPress:InputProps:{endAdornment:(0,M.jsx)(_.Z,{position:"end",children:(0,M.jsx)(C.Z,{"aria-label":"toggle password visibility",onClick:children:u?(0,M.jsx)(I.Z,{}):(0,M.jsx)(D.Z,{})})})}}),(0,M.jsx)(N.Z,{sx:B.button,color:"primary",fullWidth:!0,variant:"contained",onClick:children:"View Album"})]})})}F.defaultProps={isFullScreen:!1};var z=t(4942),L=t(57829),H=t(57451),G=t(66212),V=t(19860),K=t(9289),q=t(24813),Q=t(56179),Y=t(28154),$=t(36575),X=t(9019),J=(0,O.ZP)(g.Z)((function(e){return{"& :hover":{color:e.theme.palette.primary.main,cursor:"pointer"}}}));function ee(e){var i=e.hidden,t=e.title;return i?null:(0,M.jsx)("div",{style:{paddingLeft:12,paddingRight:12},children:(0,M.jsx)(X.ZP,{container:!0,columnSpacing:1,alignItems:"center",children:(0,M.jsx)(X.ZP,{item:!0,children:(0,M.jsx)(J,{variant:"h6",children:(0,M.jsx)("strong",{"data-test":"shared-album-main-title",children:t})})})})})}ee.defaultProps={hidden:!1,title:""};var ie=t(33604),te=t(96467),ne=t(24929),re=t(66149),oe=t(15186),se=t(11149),ae=t(64271),le=t(47053);function de(e){var i=e.item,t=e.boundary,n=(0,le.Z)(i,320);return(0,M.jsx)("img",{src:n,alt:i.originalFilename,style:{width:t,height:t,objectFit:"cover"}},i.id)}function ue(e){var i,t,n,r,s=e.username,a=e.album,l=e.subalbumCount,u=e.numberOfItems,c=e.handleClose,f=(0,V.Z)(),v=(0,o.s0)(),m=(0,oe.Z)(),h=(0,d.Z)(m,2),x=h[0],b=h[1].width,j=(0,se.Z)().settings,R={field:null===j||void 0===j||null===(i=j.sortBy)||void 0===i?void 0:i.field,desc:null===j||void 0===j||null===(t=j.sortBy)||void 0===t?void 0:t.desc},E={albumId:a.id||"",pageSize:4,sortBy:R},y=(null===(n=(0,p.a)(Z.jDK,{variables:E,onError:).data)||void 0===n?void 0:n.getPublicAlbumImagesV2.items)||[],w=1===a.imageCount?"Image":"Images",S=1===l?"Album":"Albums",P=4,k=6;return 1===u&&(P=12,k=12),2===u&&(P=6,k=12),(0,M.jsx)(X.ZP,{item:!0,sm:P,xs:k,children:(0,M.jsxs)(L.Z,{ref:x,sx:{cursor:"pointer",borderWidth:1,borderColor:f.palette.customGrey[400],borderStyle:"solid"},onClick:(r=a.id,function(){c(),v("/u/".concat(s,"/a/").concat(r))}),children:[(0,M.jsxs)(L.Z,{sx:{display:"flex",flexWrap:"wrap",height:b,width:b,marginBottom:1},children:[!y.length&&(0,M.jsx)(L.Z,{sx:{cursor:"pointer",background:ne.Z[200],width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,M.jsx)(ae.Z,{})}),y.length>0&&y.length<4&&(0,M.jsx)(de,{item:y[0],boundary:"100%"}),y.length>=4&&y.map((function(e){return(0,M.jsx)(de,{item:e,boundary:"50%"},null===e||void 0===e?void 0:e.id)}))]}),(0,M.jsxs)(L.Z,{sx:{padding:1},children:[(0,M.jsx)(g.Z,{variant:"subtitle1",style:{fontWeight:500},children:a.title}),(0,M.jsxs)(g.Z,{variant:"caption",sx:{marginRight:1},children:[a.imageCount," ",w]}),(0,M.jsxs)(g.Z,{variant:"caption",children:["\u2022 ",l," ",S]})]})]})})}function ce(){var e,i,t,n=(0,o.UO)().userId,r=(0,Q.Z)(),s=r.currentAlbum,a=r.groupedAlbums,l=(0,m.useState)(null),u=(0,d.Z)(l,2),c=u[0],p=u[1],f=Boolean(c),v=if(!s)return null;var h=1===(null===(e=a[s.id])||void 0===e?void 0:e.length)?"Album":"Albums";return a[s.id]?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(G.Z,{color:"primary",variant:"outlined",label:"".concat(null===(i=a[s.id])||void 0===i?void 0:i.length," ").concat(h),onClick:size:"small"}),(0,M.jsxs)(re.Z,{open:f,onClose:v,children:[(0,M.jsx)(ie.Z,{sx:{display:"flex",alignItems:"center"},children:(0,M.jsx)(g.Z,{variant:"body1",sx:{flex:1},children:"Albums"})}),(0,M.jsx)(te.Z,{sx:{padding:3,paddingTop:0},children:(0,M.jsx)(X.ZP,{container:!0,spacing:1,children:null===(t=a[s.id])||void 0===t?void 0:t.map((function(e){var i,t;return(0,M.jsx)(ue,{album:e,username:n,numberOfItems:(null===(i=a[s.id])||void 0===i?void 0:i.length)||0,subalbumCount:(null===(t=a[e.id])||void 0===t?void 0:t.length)||0,handleClose:v},e.id)}))})})]})]}):null}var pe=t(36951),ge=t(24198),fe=(0,O.ZP)(K.Z)((function(e){return(0,z.Z)({background:"white",position:"sticky",width:"100%",justifyContent:"space-between",alignItems:"center",top:0,zIndex:1e3,minHeight:"90px"},e.theme.breakpoints.up("sm"),{top:0,paddingLeft:"15px",minHeight:"90px"})}));function ve(e){var i=e.config;R.Z.debug("Bottom toolbar config: ",i);var t=(0,V.Z)(),n=(0,Q.Z)().currentAlbum,r=(0,q.Z)(t.breakpoints.down("lg")),o=!1;n||(o=!0);var s=(null===i||void 0===i?void 0:i.overridenImageCount)||(null===n||void 0===n?void 0:n.imageCount)||0,a=1===Number(s)?"image":"images";return(0,M.jsx)($.Z,{children:(0,M.jsxs)(fe,{disableGutters:r,children:[(0,M.jsxs)(L.Z,{sx:{display:"flex",alignItems:{xs:"flex-start",xl:"center"},flexDirection:{xs:"column",xl:"row"},flexWrap:"nowrap",paddingLeft:{xs:"10px",sm:"0"},gap:{xs:"4px",xl:"10px"}},children:[(0,M.jsx)(L.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"nowrap",gap:"5px"},children:(0,M.jsx)(ee,{title:(null===n||void 0===n?void 0:n.title)||(null===i||void 0===i?void 0:i.overridenAlbumTitle)})}),(0,M.jsx)(L.Z,{sx:{display:"flex",alignItems:"center",flexDirection:{xs:"row",lg:"row"},flexWrap:"nowrap",gap:"5px"},children:!o&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(H.Z,{mdDown:!0,children:(0,M.jsx)(G.Z,{variant:"outlined",label:"".concat(s," ").concat(a),size:"small"})}),(0,M.jsx)(ce,{})]})})]}),(0,M.jsxs)(L.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"nowrap"},children:[(0,M.jsx)(ge.Z,{isDisabled:null===i||void 0===i?void 0:i.isZoomMenuDisabled}),(0,M.jsx)(pe.Z,{isDisabled:null===i||void 0===i?void 0:i.isSortMenuDisabled,sortingOptions:null===i||void 0===i?void 0:i.enabledSortingOptions,isPublic:!0}),(0,M.jsx)(Y.Z,{hidden:null===i||void 0===i?void 0:i.isCropModeHidden})]})]})})}ve.defaultProps={config:void 0};var me=t(59447);function he(){var e,i,t,n,r,s=(0,u.x)(),v=(0,o.s0)(),E=(0,o.TH)(),I=(0,h.lr)(),D="slideshow"===(0,d.Z)(I,1)[0].get("mode"),O=(E.state||{}).password,T=(0,m.useState)(null),A=(0,d.Z)(T,2),_=A[0],C=A[1],N=new URLSearchParams(window.location.search),W=N.get("field"),U=N.get("desc"),B=(0,se.Z)(),z=B.settings,L=B.saveGallerySettings,H=(0,w.Z)().createAlert,G=(0,o.UO)(),V=G.albumId,K=G.userId,q=G.mediaId,Q=Z.hqH.DateTaken;switch(W){case"DATE":Q=Z.hqH.Date;break;case"TITLE":Q=Z.hqH.Title;break;default:Q=Z.hqH.DateTaken}var Y={field:null===z||void 0===z||null===(e=z.sortBy)||void 0===e?void 0:e.field,desc:null===z||void 0===z||null===(i=z.sortBy)||void 0===i?void 0:i.desc},$={albumId:V,pageSize:40,password:O,sortBy:Y},X=(0,c.t)(Z.skV,{onCompleted:function(e){var i=e.getPublicImage;i&&s.cache.updateQuery({query:Z.jDK,variables:$},(function(e){if(!e)return null;var t=null===e||void 0===e?void 0:e.getPublicAlbumImagesV2;return{getPublicAlbumImagesV2:(0,l.Z)((0,l.Z)({},t),{},{items:[].concat((0,a.Z)(t.items),[i])})}}))}}),J=(0,d.Z)(X,1)[0],ee=(0,p.a)(Z.Wwh,{skip:!K||!V,variables:{albumId:V,owner:K,password:O},onError:function(e){y(e)?C(!0):(H("There was a problem retrieving album details. Please try again later."),R.Z.info(e),v("/"))},onCompleted:),ie=(0,p.a)(Z.jDK,{skip:!1!==_,variables:$,notifyOnNetworkStatusChange:!0,onError:function(e){y(e)?C(!0):(H("There was a problem retrieving album details. Please try again later."),R.Z.info(e),v("/"))}}),te=(null===(t=ee.data)||void 0===t?void 0:t.getPublicAlbumDetails.title)||"Unknown Shared Album Title",ne=(null===(n=ie.data)||void 0===n?void 0:n.getPublicAlbumImagesV2.items)||[],re=null===(r=ie.data)||void 0===r?void 0:r.getPublicAlbumImagesV2.scrollPointer,oe=ne.find((),ae=(0,m.useRef)(J);(0,m.useEffect)((function(){q&&ie.called&&!ie.loading&&!oe&&ae.current({variables:{imageId:q}})}),[ie,q,oe]),(0,m.useEffect)((function(){D&&v("/u/".concat(K,"/a/").concat(V,"/slideshow"))}),[D,v,K,V]),(0,m.useEffect)((function(){(0,j.sE)({shouldPrivacyMenuHide:!0,overridenAlbumTitle:te})}),[te]),(0,x.Z)((function(){L((0,l.Z)((0,l.Z)({},z),{},{sortBy:{field:Q,desc:U!==me.S.ASC}}))}));var le=(0,f.debounce)((function(){re&&ie.fetchMore({variables:{scrollPointer:re}})}),500,{leading:!0});return _?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(b.Z,{title:"Gallery"}),(0,M.jsx)(F,{setPassword:function(e){v(E.pathname,{replace:!0,state:{password:e}})},isFullScreen:!0}),(0,M.jsx)(S.Z,{})]}):ie.data||ie.error?(0,f.isEmpty)(ne)?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(b.Z,{title:"Gallery"}),(0,M.jsx)("div",{style:{position:"relative"},children:(0,M.jsx)(g.Z,{textAlign:"center",variant:"h6",sx:{paddingTop:3},children:"It appears that this album is empty. Please select a different album."})})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(b.Z,{title:"Gallery"}),(0,M.jsx)(ve,{}),(0,M.jsx)(k.Z,{items:ne,fetchMore:le,hasMore:!!re,isPublic:!0,loading:ie.loading}),(!q||oe)&&(0,M.jsx)(P.Z,{items:ne,fetchMore:le,hasMore:!!re,isPublic:!0})]}):null}function xe(e){var i=e.username,t=(0,o.TH)(),n=i?"/u/".concat(i):"/auth/login?redirect=".concat(t.pathname);return(0,M.jsx)(s.Z,{isPublic:!0,children:(0,M.jsxs)(o.Z5,{children:[(0,M.jsx)(o.AW,{path:"a/:albumId/p/:mediaId",element:(0,M.jsx)(he,{})}),(0,M.jsx)(o.AW,{path:"a/:albumId/:mode",element:(0,M.jsx)(he,{})}),(0,M.jsx)(o.AW,{path:"a/:albumId",element:(0,M.jsx)(he,{})}),(0,M.jsx)(o.AW,{path:"*",element:(0,M.jsx)(o.Fg,{to:n,replace:!0})})]})})}xe.defaultProps={username:void 0}},46171:function(e,i,t){t.d(i,{Z:function(){return z}});var n=t(11149),r=t(76391),o=t(33594),s=t(15861),a=t(1413),l=t(29439),d=t(64687),u=t.n(d),c=t(90297),p=t(8566),g=t(90110),f=t(24813),v=t(20201),m=t(16031),h=t.n(m),x=t(47313),b=t(58467),Z=t(91345),j=t(25258),R=t(4587),E=t(30183),y=t(11069),w=t(17592),S=t(71651),P=t(944),k=t(35982),I=t(20716),D=t(19332),O=t(47053),T=t(65582),A=t(96849),_=t(62982),C=t(46417),N=(0,w.ZP)("img")((),W=(0,w.ZP)("div")((function(e){var i=e.theme;return{position:"relative",display:"flex",borderWidth:3,borderStyle:"solid",borderColor:e.isSelected?i.palette.primary.main:"transparent",transition:"opacity 0.25s ease, border-color 0.25s ease","&:hover":{"& $check":{display:"inline"},"& $easyLinkContainer":{display:"inline"}}}}));function M(e){var i,t=e.item,n=e.items,r=e.zoom,o=e.settings,s=e.isLimitedHostingAccount,a=e.selectModeEnabled,l=e.width,d=e.isPublic,u=e.isFavoriteDisabled,p=(0,b.TH)(),g=(0,x.useRef)(null),f=!(0,c.l)(Z.YR)&&(null===t||void 0===t?void 0:t.isBlurred),m=(0,b.s0)(),h=(0,I.Z)(),R=h.toggleSelect,w=h.isEmpty,M=h.isSelected,U=h.toggleBulkSelect,B=M(t.id),F=(0,D.Z)().mutation,z=(0,v.Z)(),L=!(null===t||void 0===t||null===(i=t.attributes)||void 0===i||!i.find(()),H=(0,S.Z)(g),G=(0,k.Z)(),V=G.getDragImage,K=G.removeDragImage,q="small";r<4&&(q="medium"),j.Z.debug(s);var Q=(0,O.Z)(t,l);return(0,C.jsxs)(W,{id:t.id,isSelected:B,ref:g,draggable:"false",children:[(0,C.jsxs)(A.Z,{isActive:a||B||H,onClick:function(e){e.shiftKey?U(t.id,n):R(t.id)},sx:{top:8,left:8,zIndex:1,backgroundColor:B?z.palette.primary.main:"rgba(71,85,105,0.5)","&:hover":{backgroundColor:B?"white":"rgba(71,85,105,0.9)"}},"data-test":B?"deselect":"select",children:[B&&(0,C.jsx)(E.Z,{color:"inherit",fontSize:q,sx:{background:z.palette.primary.main,borderRadius:"50%",padding:"2px"}}),!B&&(0,C.jsx)(E.Z,{color:"inherit",fontSize:q,sx:{background:"transparent",borderRadius:"50%",padding:"2px"}})]}),!u&&!d&&!t.isBlurred&&(0,C.jsxs)(A.Z,{isActive:L||H,sx:{top:8,right:8,"&:hover":{backgroundColor:"rgba(71,85,105,0.9)"}},onClick:function(){var e={imageIds:[t.id],add:["favorite"]};L&&(delete e.add,e.delete=["favorite"]),F({variables:e})},children:[L&&(0,C.jsx)(y.Z,{fontSize:q,sx:{stroke:"white",strokeWidth:2,padding:"2px"}}),!L&&(0,C.jsx)(y.Z,{fontSize:q,sx:{stroke:z.palette.primary.contrastText,fillOpacity:0,strokeWidth:2,zIndex:1,padding:"2px"}})]}),(0,C.jsx)(N,{alt:t.title,isBlurred:f,"data-test":"image",onClick:function(e){var i;w()&&!a?(d&&(i={returnUri:"".concat(p.pathname),password:(p.state||{}).password}),m("".concat(p.pathname,"/p/").concat(t.id),{state:i})):e.shiftKey?U(t.id,n):R(t.id)},onError:function(e){e.stopPropagation(),e.currentTarget.src=t.isVideoType?P.h:P.N,e.currentTarget.srcset=t.isVideoType?P.h:P.N},onDragStart:function(e){e.stopPropagation();var i=V(t,B),n=B?"all":t.id;return e.dataTransfer.setData("id",n),e.dataTransfer.setDragImage(i,0,0),!1},onDragEnd:role:"presentation",src:Q,srcSet:Q}),t.isBlurred&&(0,C.jsx)(T.Z,{}),(0,C.jsx)(_.Z,{media:t,isActive:!d&&(B||H),settings:o,displayFab:r>5})]})}M.defaultProps={isPublic:!1,isLimitedHostingAccount:!1,isFavoriteDisabled:!1,width:void 0};var U=t(63694),B={xs:[1,1,1,1,1,3,3,3,3,3,3],sm:[1,1,1,1,1,3,3,3,3,3,3],md:[1,1,2,3,4,5,6,7,8,9,10],lg:[1,1,2,3,4,5,6,7,8,9,10],xl:[1,1,2,3,4,5,6,7,8,9,10]};function F(e){var i,t,r,o,d,m,E,y,w,S,P,k,I,D=e.items,O=e.hasMore,T=e.loading,A=e.fetchMore,_=e.isPublic,N=(0,b.UO)().albumId,W=(0,c.l)(Z._N),F=(0,x.useRef)(null),z=(0,x.useState)(3),L=(0,l.Z)(z,2),H=L[0],G=L[1],V=(0,x.useRef)(0),K=(0,n.Z)().settings.zoom,q=(0,U.Z)(),Q=(0,Z.at)(),Y=(0,v.Z)(),$=(0,f.Z)(Y.breakpoints.up("sm")),X=(0,f.Z)(Y.breakpoints.up("md")),J=(0,f.Z)(Y.breakpoints.up("lg")),ee=(0,f.Z)(Y.breakpoints.up("xl")),ie=!(null===Q||void 0===Q||null===(i=Q.profile)||void 0===i||null===(t=i.subscription)||void 0===t||null===(r=t.plan)||void 0===r||!r.hostingThreshold)&&!(null!==Q&&void 0!==Q&&null!==(o=Q.profile)&&void 0!==o&&null!==(d=o.subscription)&&void 0!==d&&null!==(m=d.plan)&&void 0!==m&&null!==(E=m.hostingThreshold)&&void 0!==E&&E.maxHostingThreshold),te=(0,a.Z)({easyLinkingMode:!(null===Q||void 0===Q||null===(y=Q.profile)||void 0===y||null===(w=y.albumsSettings)||void 0===w||!w.easyLinkingMode),linkBackOption:!(null===Q||void 0===Q||null===(S=Q.profile)||void 0===S||null===(P=S.albumsSettings)||void 0===P||!P.linkBackOption)},null===Q||void 0===Q||null===(k=Q.profile)||void 0===k||null===(I=k.albumsSettings)||void 0===I?void 0:I.links);(0,x.useEffect)((function(){var e=K;G(ee?B.xl[e]:J?B.lg[e]:X?B.md[e]:$?B.sm[e]:B.xs[e])}),[$,X,J,ee,K]),(0,x.useEffect)((function(){return(0,Z.WV)([]),(0,Z._N)({}),(0,Z.MD)(null),(0,Z.eG)({}),function(){(0,Z.WV)([]),(0,Z._N)({}),(0,Z.MD)(null),(0,Z.eG)({})}}),[N]);var ne=function(){var e=(0,s.Z)(u().mark((function e(){var i,t,n,r,o,s,a,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null===(i=F.current)||void 0===i?void 0:i.getVisibleItems(),j.Z.debug("current visible items: %j",t),n=null,r=null,t&&t[0].key&&(o=t[0].key.replaceAll(/[.$]/g,""),s=h().filter(D,(function(e){return e.id===o})),j.Z.debug("current first visible items: %j %s",s,o),s[0]&&(n=s[0].uploadDate)),t&&t[t.length-1].key&&(a=t[t.length-1].key.replaceAll(/[.$]/g,""),l=h().filter(D,(),j.Z.debug("current last visible items: %j %s",l,a),l[0]&&(r=l[0].uploadDate)),n&&r&&(0,Z.eG)({startDate:n,endDate:r});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,s.Z)(u().mark((function e(){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(i=F.current)||void 0===i||i.renderItems({useResize:!0}),e.next=3,ne();case 3:case"end":return e.stop()}}),e)})));return ();if(!D.length)return null;var oe=function(){var e=(0,s.Z)(u().mark((function e(i){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.wait,n=i.ready,T||!O){e.next=6;break}return t(),e.next=5,A();case 5:n();case 6:case"end":return e.stop()}}),e)})));return (),se=function(e){e.currentTarget.scrollTop>V.current?(0,Z.MD)("down"):(0,Z.MD)("up"),V.current=e.currentTarget.scrollTop};return(0,C.jsxs)("div",{id:"grid-container","data-test":"grid-container",style:{flex:1,position:"relative"},children:[!_&&(0,C.jsx)(R.Z,{}),(0,C.jsx)(p.Z,{children:function(e){var i=e.height,t=e.width;return t?(0,C.jsx)("div",{style:{height:i,width:t,overflow:"scroll",paddingTop:84},onScroll:se,children:(0,C.jsx)(g.L2,{loading:T?(0,C.jsx)("div",{children:"Loading..."}):(0,C.jsx)("div",{}),threshold:5,useRecycle:!0,useFit:!0,horizontal:!1,maxResizeDebounce:5,percentage:!0,autoResize:!0,"data-test":"grid",id:"grid",ref:F,column:H,containerTag:"#grid-container",gap:0,align:"stretch",onRequestAppend:oe,onRenderComplete:re,children:D.map((function(e){return(0,C.jsx)(M,{item:e,items:D,settings:te,isLimitedHostingAccount:ie,isFavoriteDisabled:q.isFavoriteDisabled,selectModeEnabled:Boolean(W.media),isPublic:_,zoom:K,width:Math.floor(t/H)},null===e||void 0===e?void 0:e.id)}))})}):(0,C.jsx)("div",{})}})]})}function z(e){var i=e.items,t=e.hasMore,s=e.fetchMore,a=e.isPublic,l=e.loading;switch((0,n.Z)().settings.layout){case r.sH.MasonryVertical:return(0,C.jsx)(F,{items:i,hasMore:t,fetchMore:s,isPublic:a,loading:l});case r.sH.Grid:default:return(0,C.jsx)(o.Z,{items:i,hasMore:t,fetchMore:s,isPublic:a})}}F.defaultProps={isPublic:!1,loading:!1},z.defaultProps={isPublic:!1}},36575:function(e,i,t){t.d(i,{Z:);var n=t(29439),r=t(87462),o=t(63366),s=t(47313),a=["getTrigger","target"];ar d="undefined"!==typeof window?window:null;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getTrigger,t=void 0===i?l:i,u=e.target,c=void 0===u?d:u,p=(0,o.Z)(e,a),g=s.useRef(),f=s.useState((),v=(0,n.Z)(f,2),m=v[0],h=v[1];return s.useEffect((function(){var e=return e(),c.addEventListener("scroll",e,{passive:!0}),),[c,t,JSON.stringify(p)]),m}var c=t(50301),p=t(25258),g=t(46417);function f(e){var i=e.children,t=e.window,r=(0,s.useState)(void 0),o=(0,n.Z)(r,2),a=o[0],l=o[1],d=document.getElementById("main")||void 0,f=t?t():d,v=u({target:a});return p.Z.debug("Trigger target %s",a),(0,s.useEffect)((,[d,f]),(0,g.jsx)(c.Z,{id:"slider",appear:!1,direction:"down",in:!v,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.2, 1)"},children:i})}f.defaultProps={window:void 0}}}]);