/*!
 * JW Player
 * Copyright (c) 2018, JW Player, All Rights Reserved 
 * This source code and its use and distribution is subject to the terms 
 * and conditions of the applicable license agreement. 
 * https://www.jwplayer.com/tos/
 * This product includes portions of other software, see below.
 *
 *************************************************************************************************
 The following software is used under MIT license
 *************************************************************************************************
 * AlloyFinger v0.1.10
 * Copyright (c) 2016 腾讯 AlloyTeam
 * https://github.com/AlloyTeam/AlloyFinger/blob/master/LICENSE
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 5s)},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-arrow-left" viewBox="0 0 240 240"><path d="M55.4,104.4c-1.1,1.1-2.2,2.3-3.1,3.6c-6.9,9.9-4.4,23.5,5.5,30.4L159.7,240l33.9-33.9l-84.9-84.9l84.9-84.9L157.3,0L55.4,104.4L55.4,104.4z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-arrow-right" viewBox="0 0 240 240"><path d="M183.6,104.4L81.8,0L45.4,36.3l84.9,84.9l-84.9,84.9L79.3,240l101.9-101.7c9.9-6.9,12.4-20.4,5.5-30.4C185.8,106.7,184.8,105.4,183.6,104.4L183.6,104.4z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-play" viewBox="0 0 240 240"><path d="M62.8,199.5c-1,0.8-2.4,0.6-3.3-0.4c-0.4-0.5-0.6-1.1-0.5-1.8V42.6c-0.2-1.3,0.7-2.4,1.9-2.6c0.7-0.1,1.3,0.1,1.9,0.4l154.7,77.7c2.1,1.1,2.1,2.8,0,3.8L62.8,199.5z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-more-videos" viewBox="0 0 240 240"><path d="M0,30h60v75H0V30z M0,135h60v75H0V135z M90,135h60v75H90V135z M180,135h60v75h-60V135z M90,30h60v75H90V30z M180,30h60v75h-60V30z"></path></svg>'},function(e,t,i){"use striunction s(e){var t=e.type,i=e.actionType,a=e.interactionMethod,n=e.autoplay,r=e.autoplayTimeout,l=e.feedData,o=e.page,s=e.pages,d=s.current,c=s.nextUp,u=e.centeredItem,m=e.smallPlayer,j=e.itemsPerPage,f=e.ui,g=a;"PAGED"!==i&&"PAGED_SWIPE"!==i&&"RESIZED"!==i||(g=i.toLowerCase());var y=c&&n&&"complete"===a,v=w(o,c,d);return m&&(o=p(o,u,v.length,j),v=[v[u]]),{mode:h(t),feedData:l,itemsShown:v,page:o,reason:g,autoTimer:y&&r>=0?r:-1,ui:f}}function d(e){var t=e.type,i=e.selectedItem,a=e.feedData,n=e.page,r=e.pages,l=r.current,o=r.nextUp,s=e.centeredItem,d=e.smallPlayer,c=e.itemsPerPage,u=e.lastReasonShown,m=e.ui,j=u.toLowerCase(),f=w(n,o,l);return d&&(n=p(n,s,f.length,c),f=[i]),{mode:h(t),feedData:a,itemsShown:f,reason:j,target:i,index:f.indexOf(i)+1,page:n,ui:m}}function p(e,t,i,a){return e<0?(e+1)*a-(i-t):t+e*a}function c(e){var t=e.type,i=e.selectedItem,a=e.feedData,n=e.page,r=e.pages,l=r.current,o=r.nextUp,s=e.smallPlayer,d=e.ui,p=s?[i]:w(n,o,l);return{mode:h(t),feedData:a,itemsShown:p,target:i,uifunction j(e){return e?' style="background-image: url('+e+')"'I}function y(e,t){var i="left"===e?Ae.a:Se.a,a=x("jw-related-page jw-related-page-"+e,i);return a.setAttribute("aria-label","Page "+e),_(a,t,e,a}function x(e,t,i,a){var n=document.createElement("div");return n.className="jw-reset jw-icon jw-icon-inline "+e+(a?"":" jw-button-color"),n.appendChild(C(t)),n.setAttribute("role","button"),n.setAttribute("tabindex","0"),_(n,i),n}function b(e,t){return P(Ne.createElement(Oe(e)),e,t)}function k(e,t,i){var a=Ne.createElement(Ve(e));return a.setAttribute("data-jw-index",i),P(a,e,t)}function E(e,t,i){if(e){return P(Ne.createElement(Be(e,t)),e,i)}}function _(e,t,i){t&&(new qe(e).on("click tap ente)},{directSelect:!0}),e.addEventListener("mousedo()}))}function P(e,t,i){return e.setAttribute("aria-label","Video - "+t.title||"Untitled Video"),_(e,i,t}}function A(e,t,i,a){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=t*i+a,l=n?S(i):0,o=void 0;if(0===t){vai)};o={previous:s(r-i,r),current:s(r+1,i+r-l),next:s(i+r-l,2*i+r-l)}}else o=t>0?D(e,i,r-l):D(e,i,r);return o}function T(e,t){if("shelf"===e)switch(t){case 7:case 6:case 5:return 5;case 4:return 4;case 3:case 2:return 3;case 1:case 0:default:return 0}switch(t){case 7:case 6:case 5:case 4:return 9;case 3:return 6;case 2:return 4;case 1:case 0:return 5;default:return}function M(e,t){return e.smallPlayer?R(e.centeredItem,e.page,e.pages,t):z(e.page,t)}function R(e,t,i,a){var n=i.current.length+1*(0===t&&!!i.nextUp);return"right"===a?++e>=n&&(e=0,t++):--e<0&&(e=i.previous.length-1,t--),{centeredItem:e,page:t}}function z(e,t){return{page:"right"===t?e+1:e-1}}function U(e,t,i){var a=e.nextUp,n=a?a.index:0,r=A(e.items,t,i,n);return r.nextUp=e.nextU)}function B(e,t){return dt.extend({},e,t)}function H(e){var t=Array.isArray(e.sources)&&e.sources[0]||{};return e.mediaid||e.file||t.file}function N(e,t){return e.filk)})}function q(e){return e.,})}function Y(e,t){return e.fil)ge}function X(e,t,i){var a=A(e.availableItems,t,i,0,"overlay"===e.ui);return a.nextUp=e.nextUt)}function J(e){var t=e.loadPromise;if(t){var i=this;return void t.te)}).catch(function(){i.destroyInterface()})}Z.call(this,e.contros)}function K(){this.div||(this.div=this.player.getContainer().querySelector(".jw-button-container")),this.div&&this.shelfContainer&&this.div.appendChild(this.shelfContainer)}function Q(){this.div&&this.shelfContainer&&(this.div.removeChild(this.shelfContainer),this.div=null)}function $(e,t,i,a,n){var r=Math.max(0,a),l=Math.min(t.length,n),o=e.childNodes;if(o.length)te(e,r,l),function(a){var n=o[0];if(n)for(var r=parseInt(n.getAttribute("data-jw-index")),l=a;l<r;l++){var s=k(t[l],i,l);e.insertBefore(s,n)}}(r),function(a){var n=o[o.length-1];if(n)for(var r=parseInt(n.getAttribute("data-jw-index")),l=r+1;l<a;l++){var s=k(t[l],i,l);e.appendChild(s)}}(l);else for(var s=r;s<l;s++){var d=k(t[s],i,s);e.appendChild(e)}function te(e,t,i){for(var a=Array.prototype.slice.call(e.childNodes),n=0;n<=a.length-1;n++){var r=a[n].getAttribute("data-jw-index");(r<t||r>=i||void 0===t)&&e.removeChild(a[n])}}function ie(e,t,i){function a(e){if(e)switch(e.keyCode){case 39:n(t,e),e.stopPropagation();break;case 37:r(t,e),e.stopPropagation()}}function n(e,t){!j&&b&&(0===y?m.removeClass(u,"jw-related-shelf-start"):m.addClass(u,"jw-related-shelf-slide-next"),y++,l(t),e("right"))}function r(e,t){!j&&k&&(1===y?m.addClass(u,"jw-related-shelf-start"):m.addClass(u,"jw-related-shelf-slide-prev"),y--,l(t),e("left"))}function l(e){E=o.bind(this,e),u.addEventListener("transitionend",E),m.addClass(u,"jw-related-shelf-animating"),j=!0}function o(e,t){if(t.target===u){if(t.stopImmediatePropagation(),u.removeEventListener("transitionend",E),j){s((y-1)*f,(y+2)*f),m.removeClass(u,["jw-related-shelf-animating","jw-related-shelf-slide-next","jw-related-shelf-slide-prev"]),j=!1;var i=u.querySelector(".jw-related-item-visible");e&&("enter"===e.type||"keydown"===e.type)&&i&&i.focus()}p()}}function s(e,t){if(v&&!(v.length<1)){$(u,v,g,e,t);for(var i=u.children,a=0;a<i.length;a++){var n=i[a],r=parseInt(n.getAttribute("data-jw-index")),l=r>=y*f&&r<(y+1)*f;m.toggleClass(n,"jw-related-item-visible",l),n.setAttribute("tabindex",l?"0":"-1"ll}function p(){k=0!==y,m.toggleClass(h,"jw-off",!k),h.setAttribute("tabindex",k?"0":"-1"),b=y!==x-1,m.toggleClass(w,"jw-off",!b),w.setAttribute("tabindex",b?"0":"-1")}var c=this,h=e.querySelector(".jw-related-control-left"),w=e.querySelector(".jw-related-control-right"),u=e.querySelector(".jw-related-shelf-items"),m=he.utils,j=!1,f=void 0,g=void 0,y=void 0,v=void 0,x=void 0,b=!1,k=!1,E=void 0;this.load=function(e,t,i){f=t,g=i,d(),v=e,x=Math.ceil(e.length/f),c.scrollToFirstPage()},this.resize=function(e){if(e!==f&&v&&!(v.length<1)){var t=x>1&&y===x-1;f=e,x=Math.ceil(v.length/f),y=t?x-1:Math.min(y,x),s((y-1)*f,(y+2)*f),p(),0===y&&m.addClass(u,"jw-related-shelf-start")}},this.onShelfTogga)},this.enableSwipe=function(){return new Ce(u,{swi)}})},this.scrollToFirstPage=function(){0===y||!v||v.length<1||(y=0,s(0,2*f),m.addClass(u,"jw-related-shelf-start"),p())},_(h,r.bind(this,t)),_(w,n.bind(this,t))}function ae(e,t){var i=e.pages.current.length+1*(0===e.page&&!!e.pages.nextUp);return e.smallPlayer&&0===e.actionType.indexOf("PAGED")&&e.centeredItem!==t.centeredItem&&e.centeredItem<=i&&t.page===e.pl}function le(e,t){if(!e)return"api";var i=void 0;switch(e.type){case"click":case"tap":i="interaction"+(t?"_more":"");break;case"enter":case"escape":case"adBreak":i=e.type;break;case"pause":"interaction"===e.pauseReason&&(i="on_pause");break;case"playlistComplete":i="complete"}returObject.defineProperty(t,"__esModule",{value:!0});var ce={};i.d(ce,"cached",function(){return We}),i.d(ce,"close",function(){return Je}),i.d(ce,"open",function(){return Ze}),i.d(ce,"loaded",function(){return Ke}),i.d(ce,"loadFailed",function(){return Qe}),i.d(ce,"loading",function(){return $e}),i.d(ce,"page",function(){return et}),i.d(ce,"scroll",function(){return tt}),i.d(ce,"resize",function(){return it}),i.d(ce,"resetPagePosition",function(){return at}),i.d(ce,"selectItem",function(){return nt}),i.d(ce,"setupRelated",function(){return rt}),i.d(ce,"setupPlaylist",function(){return lt}),i.d(ce,"uiChangot});var he={},we=void 0,ue=void 0,me=function(e){we=he.utils,ue=he._,this.currentRequest=null,this.requestOptions=e};me.prototype.load=function(e,t,i,a){var r=this;this.currentRequest&&this.abort();va")},o=this.requestOptions;if(o&&o.queryParams){var s=Object.keys(o.queryParams).e]});e=e+(e.indexOf("?")?"&":"?")+s}this.currentRequest=we.ajax(e,l,i)},me.prototype.loadRecommendata)},me.prototype.clearCall},me.prototype.abll};var je=me})};fe.prototype.dispa0)},fe.prototype.subscribe=function(e){this.subscribers.push(e)},fe.prototype.getState=function(){return this.state},fe.prototype.getReduer},fe.prototype.replaceRedu})};var ge=fe,ye=void 0,ve=void 0=e};xe.prototype.createEventData=function(e,t){var i=void 0;switch(e){case"setup":i=u();break;case"play":i=r(t);break;case"playlist":i=l(t);break;case"open":i=o(!0,t);break;case"close":i=o(!1,t);break;case"feedShown":i=s(t);break;case"feedClick":i=d(t);break;case"feedAutoAdvance":i=c(t);break;default:i={}}return t.relatedFile&&(i.relatedFile=t.relatedFile),t.recommendationParams&&(i=ye.extend(i,t.recommendationParams)),i.onclick="play"===t.onClick?"play":"link",i};var be=xell};ke.prototype.st))},ke.prototype.cll)};var Ee=ke=e};_e.prototype.e)},_e.prototype.1)},_e.prototype.dispa)}};var Pe=function(e,t){this.element="string"==typeof e?document.querySelector(e):e,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null};var i=function(){};this.touchStart=m(this.element,t.touchStart||i),this.swipe=m(this.element,t.swipe||i),this.touchMove=m(this.element,t.touchMove||i),this.touchEnd=m(this.element,t.touchEnd||i),this.touchCancel=m(this.element,t.touchCancel||i),this._cancelAllHandler=this.cancelAll.bind(this),window.removeEventListener("scroll",this._cancelAllHandler),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.swipeTimeout=null,this.x1=null,this.x2=null,this.y1=null,this.y2=null};Pe.prototype={st)}},m)}},l}},cancelt)},cane)},_swipeDirectn"},on:function(e,t){this[e]&&this[e].add(t)},t)},destll}};var Ce=Pe,Ie=i(1),Ae=i.n(Ie),Te=i(2),Se=i.n(Te),Le=i(6),De=i.n(Le),Me=i(7),Re=i.n(Me),ze=i(3),Ue=i.n(ze),Oe=function(e){var t=e.indexText,i=void 0===t?"":t,a=e.image,n=void 0===a?"":a,r=e.duration,l=void 0===r?"":r,o=e.title,s=void 0===o?"":o;return'<div class="jw-reset jw-related-item"><div class="jw-reset jw-related-item-container"><div class="jw-reset jw-related-item-content jw-color-active-hover" role="button" aria-expanded="false" tabindex="0"><div class="jw-reset jw-related-item-content-container jw-color-inactive jw-color-active-hover"><div class="jw-reset jw-related-item-poster"'+j(n)+'><div class="jw-reset jw-related-item-poster-content"><div class="jw-reset jw-related-item-duration">'+l+'</div><div class="jw-reset jw-related-item-play jw-icon jw-icon-inline">'+Ue.a+'</div></div></div><div class="jw-reset jw-related-item-title"><div class="jw-reset jw-related-item-title-content"><span class="jw-reset jw-item-index-text jw-related-item-title-text">'+i+"<em>"+s+"</em></span></div></div></div></div></div></div>"},Ve=function(e){var t=e.image,i=void 0===t?"":t,a=e.duration,n=void 0===a?"":a,r=e.title,l=void 0===r?"":r;return'<div class="jw-reset jw-related-shelf-item" '+(i?'style="background-image: url('+i+')"':"")+' tabindex="0" aria-label="'+l+'"><div class="jw-reset jw-related-shelf-item-contents">'+(n?'<div class="jw-reset jw-related-shelf-item-duration jw-text">'+n+"</div>":"")+'<div class="jw-reset jw-related-shelf-item-title jw-text">'+l+"</div></div></div>"},Be=function(e){var t=e.image,i=void 0===t?"":t,a=e.duration,n=void 0===a?"":a,r=e.title,l=void 0===r?"":r,o=e.description,s=void 0===o?"":o,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'<div class="jw-related-item jw-related-item-next-up jw-reset"><div class="jw-related-item-container jw-reset"><div class="jw-related-item-content jw-color-active-hover jw-reset" role="button" aria-expanded="false" tabindex="0"><div class="jw-related-item-content-container jw-color-inactive jw-color-active-hover jw-reset"><div class="jw-related-item-poster jw-reset"'+f(i)+'><div class="jw-related-item-poster-content jw-reset"><div class="jw-related-item-duration jw-reset">'+n+'</div><div class="jw-related-item-play jw-icon jw-icon-inline jw-reset">'+Ue.a+'</div></div></div><div class="jw-related-item-title jw-reset"><div class="jw-related-item-title-content jw-reset"><strong class="jw-related-next-up-text jw-reset">'+d+'</strong><span class="jw-item-index-text jw-related-item-title-text jw-reset">'+l+'</span></div></div><div class="jw-related-item-description jw-reset"><div class="jw-related-item-description-content jw-reset">'+s+'</div></div></div><div class="jw-related-item-countdown jw-reset" id="countdown"></div></div></div></div>'},He=void 0,Ne=void 0,qe=void 0,Fe=void 0,Ye=void 0,Ge=function(e,t,i){Fe=he.utils,Ye=he._,this.div=e,this.enableSwipe=t.getEnvironment().OS.mobile,this.player=t,this.resizeAction=i,this.swipeHandler=null,this.keyDownHandler=null,this.transitionEndHandler=null,this.rightArrowEnabled=!1,this.leftArrowEnabled=!1,this.currentItem=0,this.isOpen=!1};Ge.prototype.renderInterface=function(e,t,i,a,n,r,l,o,s,d){var p=this;this.currentItem=d,this.leftArrowEnabled=!1,this.rightArrowEnabled=!1,this.isOpen=!0;var c=e.current,h=this.smallPlayer&&this.currentItem>-1,w=e.current.length+1*(0===t&&!!e.nextUp),u=document.createElement("div");if(u.className="jw-reset jw-related jw-overlay jw-overlay-open",this.enableSwipe){var m=this;this.swipeHandler=new Ce(u,{swipe:function(t){var i=null;"Left"===t.direction&&(e.next.length||h&&w&&m.currentItem<w-1)?i="right":"Right"===t.direction&&(e.previous.length||h&&w&&m.currentItem>0)&&(i="left"),i&&l(i)}})}var j=v(o.close,n);if(u.appendChild(j),e.previous.length||h){var f=y("left",r);u.appendChild(f),this.leftArrowEnabled=!0}var g=document.createElement("div");g.className="jw-reset jw-related-container";var x=document.createElement("div");x.className="jw-related-title jw-reset",x.textContent=o.title,x.setAttribute("aria-label",o.title),this.smallPlayer?u.appendChild(x):g.appendChild(x);var k=E(i,o.nextUp,a);0===t&&i&&("enter"===s&&k.addEventListener("animationend",function(){var e=k.querySelector(".jw-related-item-content");e&&e.focus()},{once:!0}),h||g.appendChild(k));var _=document.createElement("div");_.className="jw-reset jw-related-item-group",0===t&&i&&h&&_.appendChild(k),Ye.forEact)});var P=_.children;if("enter"===s&&!h&&P&&P.length>0&&(0!==t||!i)){var C=P[0];C.addEventListener("animatione()},{once:!0})}if(Fe.toggleClass(_,"jw-slide-back",h&&this.currentItem===w-1),g.appendChild(_),u.appendChild(g),e.next.length||h){var I=y("right",r);u.appendChild(I),this.rightArrowEnabled=!0}this.div.appendChild(u),this.keyDownHandler=function(e){if(e)switch(e.keyCode){case 39:p.rightArrowEnabled&&r("right"),e.stopPropagation();break;case 37:p.leftArrowEnabled&&r("left"),e.stopPropagation()}},this.div.removeEventListener("keydown",this.keyDownHandler),this.div.addEventListener("keydown",this.keyDownHandler),h&&this.centerItem(_,this.currentItem,e)},Ge.prototype.renderAutoplayAnimation=function(e){var t=this.div.querySelector(".jw-related-item-content");if(t){var i=Fe.createElement('<svg xmlns="http://www.w3.org/2000/svg" class="jw-related-autoplay-svg"><rect class="jw-related-autoplay-frame" width="100%" height="100%"/><rect class="jw-related-autoplay-frame-progress jw-color-active jw-color-inactive-hover" width="100%" height="100%"/></svg>'),a=i.querySelector(".jw-related-autoplay-frame-progress");t.appendChild(i),I(a),a.style.animation=e+"s linear forwards jw-dash"}},Ge.prototype.removeInterface=function(){this.div.removeEventListener("keydown",this.keyDownHandler),Fe.emptyElement(this.div),this.toggleClasses(!1)},Ge.prototype.toggleClasses=function(e){var t=this.player.getContainer();Fe.toggleClass(this.div,"jw-plugin-related-open",e),Fe.toggleClass(t,"jw-flag-overlay-open-related",e),this.isOpen=e},Ge.prototype.resize=function(e){var t=e.breakpoint;I(this.div.querySelector(".jw-related-autoplay-frame-progress")),this.smallPlayer=t<2,this.resizeAction(t,this.smallPlayer)},Ge.prototype.centerItem=function(e,t,i){var a=this;if(this.currentItem=t,!(t<0||t>i.current.length)){e.removeEventListener("animationend",this.transitionEndHandler);var n=e.children,r=n[t].querySelector(".jw-related-item-content"),l=this.div.querySelector(".jw-related-page-left"),o=this.div.querySelector(".jw-related-page-right"),s=i.next&&i.next.length;if(t===n.length-1&&s>0){var d=Fe.createElement('<div class="jw-related-item jw-related-item-poster" style="background-image: url(\''+i.next[0].image+"')\"></div>");e.appendChild(d)}Ye.forEach(n,function(e,i){var n=i===t;Fe.toggleClass(e,"jw-related-active-item",n);var r=e.querySelector(".jw-related-item-content");r&&(r.removeEventListener("transitionend",a.transitionEndHandler),r.setAttribute("tabindex",n?"0":"-1"))}),this.transitionEndHand()};var p=this.player.getEnvironment();p.OS.iOS&&p.Features.iframe||(r.addEventListener("transitionend",this.transitionEndHandler,{once:!0}),e.addEventListener("animationend",this.transitionEndHandler,{once:!0})),e.style.transform="translateX(-"+100*t+"%)",l&&(this.leftArrowEnabled=i.previous.length||t>0,Fe.toggleClass(l,"jw-hidden",!this.leftArrowEnabled)),o&&(this.rightArrowEnabled=i.next.length||t<n.length-1,Fe.toggleClass(o,"jw-hidden",!this.rightArrowEnabled))}};var Xe=Ge,We=function(){return{type:"PLAYLIST_CACHED",payload:{}}}}}}}}}}}},Qe=function(e){return{type:"PLAYLIST_LOADED_FAILED",payload:{errorMessage:e}}}"}},et=function(e){return{type:"PAGED",payload:{direction:e}}},tt=function(e){return{type:"PAGED_SWIPE",payload:{direction:e}}},it=function(e,t){return{type:"RESIZED",payload:{breakpoint:e,smallPlayer:t}}}}}},nt=function(e,t){return{type:"ITEM_SELECTED",payload:{selectedItem:e,method:t}}},rt=function(e,t,i,a,n,r,l,o,s,d){return{type:"SETUP_RELATED",payload:{playerState:r,playlist:l,heading:a,onClick:n,autoplay:e,autoplayMessage:t,autoplayTimeout:i,showButton:o,breakpoint:s,ui:d}}}}}}}}},st=void 0,dt=void 0,pt=Object.freeze({actionType:null,open:!1,pages:null,error:!1,errorMessage:"",feedData:null,centeredItem:0,items:[],itemsPerPage:9,nextUp:null,nextUpHeading:"Next Up",onClick:"play",page:0,playedRecs:{},selectedItem:null,selecting:!1,showButton:!0,stateWhenOpened:"",type:"playlist",smallPlayer:!1,lastReasonShown:null,ui:"overlay"})._};ct.prototype.reduce=function(e,t){var i=e,a=t.payload;switch(i||(i=dt.extend({},pt)),t.type){case"SETUP_PLAYLIST":return B(i,{actionType:t.type,nextUpHeading:a.nextUpHeading||pt.nextUpHeading,showButton:a.showButton});case"PLAYLIST_LOADED":var n=a.items,r=void 0;return r=n.length>1?{items:V(n),feedData:a.feedData,error:pt.error,errorMessage:pt.errorMessage,page:0,nextUp:n[1]}:{error:!0,errorMessage:"Not enough items in the playlist (need at least 2)",nextUp:pt.nextUp,open:!1},r.actionType=t.type,r.selectedItem=pt.selectedItem,B(i,r);case"RELATED_OPENED":return B(i,{actionType:t.type,open:!0,pages:U(i,i.page,i.itemsPerPage),interactionMethod:a.method,stateWhenOpened:a.playerState,centeredItem:0,lastReasonShown:a.method});case"RELATED_CLOSED":return B(i,{actionType:t.type,open:!1,interactionMethod:a.method,page:0,centeredItem:0});case"ITEM_SELECTED":var l=t.payload.selectedItem,o=l.index,s=i.items[(o+1)%i.items.length];return B(i,{actionType:t.type,nextUp:s,selectedItem:l,interactionMethod:t.payload.method,selecting:!1,open:!1});case"PAGED":case"PAGED_SWIPE":var d=M(i,a.direction);return d.page!==i.page&&dt.extend(d,{pages:U(i,d.page,i.itemsPerPage)}),B(i,dt.extend({actionType:t.type,lastReasonShown:t.type},d));case"RESET_PAGE_POSITION":return B(i,{actionType:t.type,page:0,nextUp:i.items[0],selectedItem:pt.selectedItem});case"RESIZED":var p=a.breakpoint,c=T(i.ui,p);return B(i,{actionType:t.type,itemsPerPage:c,page:0,pages:U(i,0,c),smallPlayer:a.smallPlayer,lastReasonShown:t.type,breakpoint:p});case"REDUCER_REPLACED":return B(pt,{actionType:t.type,itemsPerPage:i.itemsPerPage,smallPlayer:i.smallPlayer});default:return i}};var ht=ct,wt=function(e){function t(t,i){try{c=e.localStorage}catch(e){}var r=i||6e5,l=t||36e5;this.addItem=function(e,t){var i="auto"===t?l:r;a(e,Date.now()+i)},this.removeIe)},this.containsI{}}function a(e,t){(c[s]||"").length>=d&&r(1),p[e]=t,()}function r(e){for(var t=l();e-- >0;)delete p[t.shift()];i()}function l(){return Object.keys(p).filter(function(e){return!(Date.now()>=p[e])||(n(e),!1)}).st]})}var o=void 0,s="jwplayer.mediaIds",d=1e3,p=void 0,c={};return function(e,i){if(!o){o=new t(e,i);var a=c[s];if(a)try{p=JSON.parse(a)}catch(e){}p=p||{}}return o}}(window),ut=wt,mt=void 0,jt=function(e){mt=he.utils,this.storage=e};jt.prototype.filterAvailableItems=function(e,t,i){var a=q(N(e,i));if(!(a=Y(a,F(t))))return null;var n=this.getUnstoredRecommendations(a);return n.length?n:(this.restoreRecommendations(a),a)},jt.prototype.saveRecommendations=function(e){var t=this;e.forEach(function(e){return t.storage.addItem(H(e))})},jt.prototype.itemSelected=function(e,t,i){return this.storage.addItem(H(e),i),t.splice(t.indexOf(e),1),t},jt.prototype.restoreRecommendati})},jt.prototype.getUnstoredRecommendati})};var ft=jt,gt=void 0,yt=void 0,vt=Object.freeze({actionType:null,autoplay:!1,autoplayMessage:"Next up in xx",autoplayTimeout:10,cached:!1,error:!1,errorMessage:"",feedData:null,centeredItem:0,interactionMethod:null,itemsLoaded:!1,itemsPerPage:9,nextUp:null,nextUpHeading:"Next Up",onClick:null,open:!1,pages:null,page:0,playlist:[],recommendationParams:null,relatedFile:"",relatedItems:[],availableItems:[],selectedItem:null,showButton:!0,stateWhenOpened:"",type:"related",smallPlayer:!1,lastReasonShown:null,breakpoint:0,ui:"shelf",canAddOnPause:!1}),xt=function(){gt=he._,yt=new ft(ut())};xt.prototype.reduce=function(e,t){var i=e,a=t.payload;switch(i||(i=gt.extend({},vt)),t.type){case"SETUP_RELATED":var n=a.autoplayMessage;n||""===n||(n=vt.autoplayMessage);var r=parseFloat(a.autoplayTimeout);(gt.isNaN(r)||r<0)&&(r=vt.autoplayTimeout);var l=a.autoplay?"play":a.onClick,o=a.ui,s=a.breakpoint;return W(i,{actionType:t.type,nextUpHeading:a.nextUpHeading||vt.nextUpHeading,onClick:l,autoplay:a.autoplay||vt.autoplay,autoplayTimeout:r,autoplayMessage:n,showButton:a.showButton,playlist:a.playlist,breakpoint:s,itemsPerPage:T(o,s),ui:o});case"PLAYLIST_LOADING":return W(i,{actionType:t.type,itemsLoaded:vt.itemsLoaded,cached:vt.cached});case"PLAYLIST_LOADED":var d={},p=a.items,c=yt.filterAvailableItems(p,i.playlist,i.onClick);if(c&&c.length){var h=c[0];d={itemsLoaded:!0,canAddOnPause:!0,relatedItems:p,availableItems:c,feedData:a.feedData,error:vt.error,errorMessage:vt.errorMessage,recommendationParams:i.recommendationParams||a.recommendationParams,page:vt.page,nextUp:h}}else d={itemsLoaded:!1,error:!0,errorMessage:"No related items",nextUp:vt.nextUp};return d.actionType=t.type,d.relatedFile=a.relatedFile,d.selectedItem=vt.selectedItem,W(i,d);case"PLAYLIST_LOADED_FAILED":return W(i,{actionType:t.type,itemsLoaded:!0,error:!0,errorMessage:a.errorMessage,relatedItems:vt.relatedItems,availableItems:vt.availableItems});case"PLAYLIST_CACHED":var w={},u=i.relatedItems.slice();return i.availableItems.length||(yt.restoreRecommendations(u),w={selectedItem:vt.selectedItem,page:vt.page,nextUp:vt.nextUp,availableItems:u}),w.actionType=t.type,w.itemsLoaded=!0,w.cached=!0,W(i,w);case"RELATED_OPENED":return W(i,{actionType:t.type,open:!0,pages:X(i,i.page,i.itemsPerPage),interactionMethod:a.method,stateWhenOpened:a.playerState,centeredItem:0,lastReasonShown:a.method});case"RELATED_CLOSED":return W(i,{actionType:t.type,open:!1,interactionMethod:a.method,page:G(i),centeredItem:0});case"ITEM_SELECTED":var m=void 0,j=a.method,f=a.selectedItem,g=yt.itemSelected(f,i.availableItems,j);return g.length&&(m=g[0]),W(i,{actionType:t.type,selectedItem:f,interactionMethod:j,nextUp:m,open:!1,availableItems:g});case"PAGED":case"PAGED_SWIPE":var y=M(i,a.direction);return y.page!==i.page&&gt.extend(y,{pages:X(i,y.page,i.itemsPerPage)}),W(i,gt.extend({actionType:t.type,lastReasonShown:t.type},y));case"RESIZED":var v=a.breakpoint,x=T(i.ui,v),b=G(i);return W(i,{actionType:t.type,page:b,pages:X(i,b,x),smallPlayer:a.smallPlayer,lastReasonShown:t.type,breakpoint:v,itemsPerPage:x});case"RESET_PAGE_POSITION":return W(i,{actionType:t.type,page:0,selectedItem:vt.selectedItem});case"REDUCER_REPLACED":return W(vt,{actionType:t.type,itemsPerPage:i.itemsPerPage,smallPlayer:i.smallPlayer});case"UI_CHANGED":return W(i,{actionType:t.type,ui:a.ui,page:G(a),itemsPerPage:T(a.ui,i.breakpoint)});default:return i}};var bt=xt,kt=i(8),Et=i.n(kt),_t=i(9),Pt=i.n(_t),Ct=i(4),It=i.n(Ct),At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'<div class="jw-reset jw-related-shelf"><div class="jw-reset jw-icon jw-related-control jw-related-control-left jw-off" aria-label="'+e+'" tabindex="-1">'+Ae.a+'</div><div class="jw-reset jw-related-shelf-list"><div class="jw-reset jw-related-shelf-items jw-related-shelf-start"></div></div><div class="jw-reset jw-icon jw-related-control jw-related-control-right jw-off" aria-label="'+t+'" tabindex="-1">'+Se.a+"</div></div>"},Tt=void 0,St=void 0,Lt=function(e){Tt=he.utils,this.player=e,this.transitionEndHandler=null,this.currentItem=0,this.isOpen=!1,St=this.onToggleAnimationEnd.bind(this)};Lt.prototype.renderInterface=function(){},Lt.prototype.setUpInterface=function(e,t,i){if(!this.shelfContainer){var a=Tt.createElement('<div class="jw-related-shelf-contents jw-reset">');this.moreButton=x("jw-related-more",It.a,e,!0),this.moreButton.appendChild(window.document.createTextNode(t.related));var n=v(t.close,e,!0);if(Tt.addClass(n,"jw-related-more"),n.insertBefore(window.document.createTextNode(t.close),n.firstChild),this.shelfElement=Tt.createElement(At(t.prev,t.next)),this.shelfList=this.shelfElement.querySelector(".jw-related-shelf-items"),a.appendChild(this.moreButton),a.appendChild(this.shelfElement),a.appendChild(n),this.shelfContainer=Tt.createElement('<div class="jw-related-shelf-container jw-reset">'),this.shelfContainer.appendChild(a),i&&"bottom-left"===i.position){var r=this.player.getContainer().querySelector(".jw-logo");Tt.addClass(r,"jw-logo-bump")}this.player.getControls()&&K.call(this),this.player.on("controls",J,this)}},Lt.prototype.destroyInterface=function(){this.player.off("controls",J,this),this.shelfContainer&&(Tt.emptyElement(this.shelfContainer),this.player.getControls()&&Q.call(this),this.shelfContainer=null)},Lt.prototype.toggle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isOpen,t=arguments[1];this.isOpen=e,this.shelfElement.removeEventListener("transitionend",St),"enter"!==t&&"escape"!==t||this.shelfElement.addEventListener("transitionend",St),Tt.toggleClass(this.player.getContainer(),"jw-flag-overlay-open-related-shelf",e)},Lt.prototype.onToggleAnimationEnd=function(e){if(e.stopImmediatePropagation(),this.shelfElement.removeEventListener("transitionend",St),this.isOpen){var t=this.shelfList.querySelector(".jw-related-item-visible");t&&t.focus()}else this.moreButton.focus()},Lt.prototype.visibility=function(e){this.shelfContainer&&Tt.css.style(this.shelfContainer,e?{display:""}:{display:"none"})},Lt.prototype.renderAutoplayAnimation=function(){},Lt.prototype.removeInterface=function(){},Lt.prototype.toggleClasses=function(){},Lt.prototype.centerI){};var Dt=Lt,Mt=void 0,Rt=function(e,t,i,a,n,r,l,o,s){var d=this;Mt=he._,this.player_=e,this.localization_=i,this.open=a,this.close=n,this.playItem=r,this.triggerAnalyticsEvent=l,this.shelfView=new Dt(e),this.shelfView.setUpInterface(function(e){return d.toggleShelf(e)},this.localization_,this.player_.getConfig().logo),this.active=!0,this.scroller=new ie(this.shelfView.shelfContainer,o,s),e.getEnvironment().OS.mobile&&this.scroller.enableSwipe()};Rt.prototype.onRelatedStateChange=function(e,t){var i=this,a=e.open,n=e.selectedItem,r=e.itemsLoaded;if(this.player_.getControls()||"RELATED_OPENED"!==e.actionType&&"RELATED_CLOSED"!==e.actionType)if(r&&!t.itemsLoaded&&this.triggerAnalyticsEvent("playlist",e),e.canAddOnPause&&!t.canAddOnPause&&this.player_.on("pause",this.onPause,this),a||this.player_.off("play",this.close,this),"RESIZED"===e.actionType&&this.scroller.resize(e.itemsPerPage),e.error)this.shelfView.destroyInterface();else if("UI_CHANGED"===e.actionType)this.active="shelf"===e.ui,this.active||this.onShelfToggle(!1,e.interactionMethod),this.scroller.scrollToFirstPage(),this.shelfView.visibility(this.active||"complete"===this.player_.getState());else if(n&&n!==t.selectedItem){var l=e.interactionMethod;if("click"===l||"enter"===l?this.triggerAnalyticsEvent("feedClick",e):"auto"===l&&this.triggerAnalyticsEvent("feedAutoAdvance",e),"link"===e.onClick)window.top.location=n.link,this.close({type:"play"});else{this.player_.load(n,e.feedData);var o="auto"===l?"related-auto":"related-interaction";this.player_.play({reason:o})}this.triggerAnalyticsEvent("play",e),this.onShelfToggle(!1,l),this.triggerAnalyticsEvent("close",Mt.extend(e,{interactionMethod:"play"}))}else if("PAGED"===e.actionType||"PAGED_SWIPE"===e.actionType)this.triggerAnalyticsEvent("feedShown",e);else if(a&&r)this.onShelfToggle(!0,e.interactionMethod),"enter"===e.interactionMethod&&(e=Mt.extend(e,{interactionMethod:"interaction_more"})),this.triggerAnalyticsEvent("open",e),this.triggerAnalyticsEvent("feedShown",e);else if(!a&&t.open)"play"!==e.interactionMethod&&this.player_.off("pause",this.onPause,this),this.onShelfToggle(!1,e.interactionMethod),this.triggerAnalyticsEvent("close",e);else if(e.smallPlayer!==t.smallPlayer)this.onShelfToggle(a,e.interactionMethod);else if(e.showButton&&!a){if(r&&("PLAYLIST_LOADED"===e.actionType||"PLAYLIST_CACHED"===e.actionType)){var s=function(e){i.playItem(e,"click")};this.scroller.load(e.availableItems,e.itemsPerPage,s)}this.shelfView.visibility(r)}},Rt.prototype.onPause=function(e){this.active&&!this.shelfView.isOpen&&(this.player_.once("play",this.close,this),this.toggleShelf(e))},Rt.prototype.toggleShe)},Rt.prototype.onShelfToge)},Rt.prototype.destroy=function(){this.player_.off("pause",this.onPause,this),this.player_.off("play",this.close,this),this.player_=null,this.open=null,this.close=null,this.playItem=null,this.triggerAnalyticsEvent=null,this.onShelfToggle(!1),this.shelfView.destroyInterface(),this.shelfView=null};var zt=Rt,Ut=void 0,Ot=!1,Vt=function(e,t,i){var a=this;he.utils=e.utils,Ut=he._=e._,g(),Ut.extend(this,e.Events),this.player_=e,this.config_=t,this.localization_=e.getConfig().localization,this.div_=i,this.loader_=new je(t.requestOptions),this.analyticsEvents_=new be(t),this.autoplay_=new Ee,this.playlistReducer_=(new ht).reduce,this.relatedReducer_=(new bt).reduce,this.store_=new ge(this.playlistReducer_),this.store_.subscribe(this.onStateChange.bind(this)),this.action_=se(ce,this.store_),this.overlayView=new Xe(i,e,this.action_.resize),e.on("ready",this.ready,this),e.on("playlist",this.onPlaylist,this),e.on("playlistItem",this.onPlaylistItem,this),e.on("beforePlay",this.closeOverlay,this),e.on("breakpoint",this.onResize,this),e.on("adBreakSta})},this),!0!==e.getConfig().repeat&&e.on("complete",this.onComplete,this),he.utils.toggleClass(this.div_,"jw-plugin-related",!0)};Vt.prototype.open=function(e){if(!this.player_.getConfig().instreamMode){var t=le(e,this.shelfMode&&!this.smallPlayer)||"unknown";this.action_.open(e,t,this.player_.getState())}},Vt.prototype.onResize=function(e){var t=this.smallPlayer,i=e.breakpoint;if(this.breakpoint=i,this.smallPlayer=i<2,this.shelfMode&&(t!==this.smallPlayer&&(this.toggleRelatedButton(this.smallPlayer),this.action_.uiChanged(this.smallPlayer?"overlay":"shelf")),!this.smallPlayer))return this.overlayView.removeInterface(),void this.action_.resize(e.breakpoint,this.smallPlayer);this.overlayView.resize(e)},Vt.prototype.onComplete=function(){var e=this;this.action_.uiChanged("overlay"),this.player_.once("play",function(){e.shelfMode&&!e.smallPlayer&&e.action_.uiChanged("shelf")})},Vt.prototype.closeOverlay=function(e){this.shelfMode&&!this.smallPlayer||this.close(e)},Vt.prototype.cl))},Vt.prototype.nexUp},Vt.prototype.n")},Vt.prototype.playI()},Vt.prototype.re0)},Vt.prototype.setupRelated=function(e){var t=this.player_,a=this.config_;Ot||(i(0),Ot=!0),this.shelfMode="overlay"!==a.displayMode,this.shelfMode&&(this.removeControlbarButton(),this.shelfController=new zt(t,a,this.localization_,this.open.bind(this),this.close.bind(this),this.playItem.bind(this),this.triggerAnalyticsEvent.bind(this),this.action_.page,this.action_.scroll),this.shelfController.active=!this.smallPlayer),t.off("playlistComplete",this.open,this),"hide"!==a.oncomplete&&!1!==a.oncomplete&&!0!==t.getConfig().repeat&&t.on("playlistComplete",this.open,this),this.action_.setupRelated("autoplay"===a.oncomplete,a.autoplaymessage,a.autoplaytimer,this.localization_.nextUp,a.onclick,t.getState(),e,a.showButton,this.breakpoint,this.shelfMode&&!this.smallPlayer?"shelf":"overlay")},Vt.prototype.setupPlayln)},Vt.prototype.loadFet)},Vt.prototype.swapRedu")},Vt.prototype.onPlaylistIx)},Vt.prototype.onPlayla)},Vt.prototype.loadRelatedPlayl")},Vt.prototype.onStateChange=function(e,t){if(!de(e,t))switch("playlist"===e.type&&"related"===t.type&&this.shelfController&&(this.shelfController.destroy(),this.shelfController=null),e.type){case"related":if(e.nextUp!==t.nextUp){var i=0===this.config_.autoplaytimer||"hide"===this.config_.oncomplete||!1===this.config_.oncomplete;this.trigger("nextUp",re(e.nextUp,{mode:"discovery",feedData:e.feedData,showNextUp:i}))}this.shelfMode?(("UI_CHANGED"===e.actionType||"PLAYLIST_LOADED"===e.actionType||"PLAYLIST_CACHED"===e.actionType||!this.smallPlayer&&"complete"!==this.player_.getState())&&this.shelfController.onRelatedStateChange(e,t),("UI_CHANGED"===e.actionType||this.smallPlayer||"complete"===this.player_.getState())&&this.onRelatedStateChange(e,t)):this.onRelatedStateChange(e,t);break;case"playlist":this.onPlaylistStateChange(e,t)}},Vt.prototype.onRelatedStateChange=function(e,t){var a=this;e.itemsLoaded&&!t.itemsLoaded&&this.triggerAnalyticsEvent("playlist",e);var n=e.nextUp,r=n&&e.autoplay&&"complete"===e.interactionMethod,l=this.div_.querySelector(".jw-related-item-group");if(l&&ae(e,t)&&!e.error){if(r&&"RELATED_OPENED"===t.actionType&&0!==e.centeredItem){this.autoplay_.clear();var o=this.div_.querySelector(".jw-related-autoplay-svg");o&&o.parentNode&&o.parentNode.removeChild(o);this.div_.querySelector(".jw-related-next-up-text").innerHTML=t.nextUpHeading}return this.overlayView.centerItem(l,e.centeredItem,e.pages),void this.triggerAnalyticsEvent("feedShown",e)}this.overlayView.removeInterface();var s=function(e){a.playItem(e,"click")};if(e.error)this.autoplay_.clear(),this.removeControlbarButton();else{if("UI_CHANGED"===e.actionType)return;if(e.selectedItem&&e.selectedItem!==t.selectedItem){var d=e.interactionMethod;"click"===d||"enter"===d?this.triggerAnalyticsEvent("feedClick",e):"auto"===d&&this.triggerAnalyticsEvent("feedAutoAdvance",e);var p=e.selectedItem;if("link"===e.onClick)window.top.location=p.link,this.close({type:"play"});else{this.player_.load(p,e.feedData);var c="auto"===d?"related-auto":"related-interaction";this.player_.play({reason:c})}this.triggerAnalyticsEvent("play",e),this.triggerAnalyticsEvent("close",Ut.extend(e,{interactionMethod:"play"}))}else if(e.open&&e.itemsLoaded){if(this.player_.pause(),!n&&!e.pages.current.length)return void this.action_.resetPagePosition();Ot||(i(0),Ot=!0);var h=function(e){a.playItem(e,"auto")};if(r&&0===e.autoplayTimeout)return void h(n);var w={nextUp:this.localization_.nextUp,close:this.localization_.close,title:this.localization_.related};this.overlayView.toggleClasses(!0),this.overlayView.renderInterface(e.pages,e.page,n,s,this.close.bind(this),this.action_.page.bind(this),this.action_.scroll.bind(this),w,e.interactionMethod,e.centeredItem);var u=this.player_.getContainer().querySelector(".jw-related-btn");if(!e.smallPlayer||t.smallPlayer||u||this.addRelatedButton(),!t.open||t.open&&!t.itemsLoaded||t.open&&"UI_CHANGED"===t.actionType){if(r){var m=e.autoplayTimeout,j=e.autoplayMessage.replace(/__title__/i,n.title),f=this.div_.querySelector(".jw-related-next-up-text"),g=function(e){f&&(f.innerHTML=j.replace(/xx/i,e))};this.autoplay_.start(n,m,h,g),setTimeout(function(){a.overlayView.renderAutoplayAnimation(Math.max(0,m-.25))},250)}this.triggerAnalyticsEvent("open",e)}else e.page!==t.page&&this.autoplay_.clear();"enter"===e.interactionMethod&&"RELATED_OPENED"===e.actionType&&(e=Ut.extend(e,{interactionMethod:"interaction"+(this.shelfMode&&!this.smallPlayer?"_more":"")})),this.triggerAnalyticsEvent("feedShown",e)}else if(!e.open&&t.open){this.autoplay_.clear(),"paused"===this.player_.getState()&&"playing"===e.stateWhenOpened&&"link"!==e.onClick&&this.player_.play({reason:"related-interaction"}),this.triggerAnalyticsEvent("close",e);var y=this.shelfMode?".jw-related-more":".jw-related-btn",v=this.player_.getContainer().querySelector(y);"RELATED_CLOSED"!==e.actionType||!v||"enter"!==e.interactionMethod&&"escape"!==e.interactionMethod||v.focus()}else e.showButton&&!e.open&&(e.itemsLoaded?(this.addRelatedButton(),this.toggleRelatedButton(!this.shelfMode||this.smallPlayer)):this.removeControlbarButton())}},Vt.prototype.onPlaylistStateChange=function(e,t){var a=this,n=e.nextUp;if(n!==t.nextUp&&this.trigger("nextUp",re(n,{mode:"playlist",feedData:e.feedData,showNextUp:!0})),!e.error){var r=this.div_.querySelector(".jw-related-item-group");if(r&&ae(e,t))return this.overlayView.centerItem(r,e.centeredItem,e.pages),void this.triggerAnalyticsEvent("feedShown",e);if(this.overlayView.removeInterface(),e.selectedItem&&e.selectedItem!==t.selectedItem){var l=e.interactionMethod;if("playlist"!==l){"click"===l?this.triggerAnalyticsEvent("feedClick",e):"auto"===l&&this.triggerAnalyticsEvent("feedAutoAdvance",e);var o=e.selectedItem,s="next"===l?"interaction":"related-interaction";this.player_.playlistItem(o.index,{reason:s})}}else if(e.open){this.player_.pause(),Ot||(i(0),Ot=!0);va")},p={nextUp:this.localization_.nextUp,close:this.localization_.close,title:this.localization_.playlist};this.overlayView.toggleClasses(!0),this.overlayView.renderInterface(e.pages,e.page,n,d,this.close.bind(this),this.action_.page.bind(this),this.action_.scroll.bind(this),p,e.interactionMethod,e.centeredItem),"enter"===e.interactionMethod&&"RELATED_OPENED"===e.actionType&&(e=Ut.extend(e,{interactionMethod:"interaction"+(this.shelfMode&&!this.smallPlayer?"_more":"")})),this.triggerAnalyticsEvent("feedShown",e)}else e.showButton&&(this.addControlbarButton(function(e){return a.open(e)},this.localization_.playlist,"jw-playlist-btn",Et.a),"RELATED_CLOSED"!==e.actionType||"enter"!==e.interactionMethod&&"escape"!==e.interactionMethod||this.player_.getContainer().querySelector(".jw-playlist-btn").focus()),"paused"===this.player_.getState()&&"playing"===e.stateWhenOpened&&this.player_.play({reason:"interaction"})}},Vt.prototype.triggerAnalyticsEv))},Vt.prototype.addRelatedButton=function(){var e=this,t=this.shelfMode||"discover"!==this.config_.recsButton?It.a:Pt.a;this.addControlbarButt)},this.localization_.related,"jw-related-btn",t)},Vt.prototype.toggleRelatedButton=function(e){var t=this.player_.getContainer().querySelector(".jw-related-btn");t&&(t.style.display=e?"":"none")},Vt.prototype.addControlbarButton=function(e,t,i,a){this.player_.addButton(a,t,e,"related",i)},Vt.prototype.removeControlbarBut")},Vt.version="6.2.3";var Bt=Vt;(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)("related","8.0.0",Bt)},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-close" viewBox="0 0 240 240"><path d="M176,56.6a5.164,5.164,0,0,0-7.2-.2L120,105.2,71.4,56.6a5.164,5.164,0,0,0-7.2-.2L56.6,64a5.164,5.164,0,0,0-.2,7.2l48.8,48.9L56.6,168.7a5.164,5.164,0,0,0-.2,7.2l7.6,7.6a5.164,5.164,0,0,0,7.2.2l48.9-48.8,48.6,48.6a5.164,5.164,0,0,0,7.2.2l7.6-7.6a5.164,5.164,0,0,0,.2-7.2L134.8,120l48.6-48.6a5.164,5.164,0,0,0,.2-7.2"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-arrow-down" viewBox="0 0 240 240"><path d="M105.398,185.598c1.1,1.1,2.3,2.2,3.6,3.1c9.9,6.9,23.5,4.4,30.4-5.5l101.6-101.9l-33.9-33.9l-84.9,84.9l-84.9-84.9l-36.3,36.3L105.398,185.598L105.398,185.598z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-playlist" viewBox="0 0 240 240"><path d="M205,80H35c-2.7,0-5,2.2-5,5v110c0,2.7,2.2,5,5,5h170c2.7,0,5-2.2,5-5V85C210,82.2,207.8,80,205,80z M145.7,142.6l-41.4,24.9c-2.4,1.4-4.3,0.3-4.3-2.4v-50c0-2.7,1.9-3.8,4.3-2.4l41.4,24.9c1.4,0.5,2.1,2.1,1.6,3.5C147,141.7,146.4,142.2,145.7,142.6z M190,70H50V60h140V70z M170,50H70V40h100V50z"></path></svga)}]);