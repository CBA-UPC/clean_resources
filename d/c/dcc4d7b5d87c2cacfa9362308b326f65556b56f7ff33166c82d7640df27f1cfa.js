!window,function(e){return [function(t,n){t.exports=e},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),c=function(e){eturn i(t,e),t.prototype.doneBuildingQuery=function(e){this.hasDefaultPipelineNameSet()&&this.queryBuilderUsesDefaultPipeline(e.queryBuilder)&&(e.queryBuilder.pipeline=this.options.scDefaultPipelineName)},t.prototype.buildingQuerySuggest=t.prototype.hasDefaultPipelineNameSet=t.prototype.queryBuilderUsesDefaultPipeline=function(e){return void 0===e.pipeline},t.prototype.querySuggestUsesDefaultPipeline=t.prototype.afterComponentsInitialization=function(){var e={sitecoreItemId:this.options.scItemId,sitecoreItemUri:this.options.scItemUri,sitecorePageName:this.options.scPageName,shouldHaveAnalyticsComponent:this.options.scShouldHaveAnalyticsComponent,analyticsEnabled:this.options.scAnalyticsEnabled,indexSourceName:this.options.scIndexSourceName,currentLanguage:this.options.scCurrentLanguage,languageFieldName:this.options.scLanguageFieldName,latestVersionFieldName:this.options.scLatestVersionFieldName,isInExperienceEditor:this.options.scIsInExperienceEditor,sitecorePageFullPath:this.options.scPageNameFullPath,siteName:this.options.scSiteName,restEndpointUri:this.options.scRestEndpointUri};this.bind.trigger(this.element,a.SitecoreContextEvents.onSitecoreContextInitialization,e)},t.ID="ForSitecoreContext",t.options={scItemId:o.ComponentOptions.buildStringOption(),scItemUri:o.ComponentOptions.buildStringOption(),scLanguageFieldName:o.ComponentOptions.buildStringOption(),scLatestVersionFieldName:o.ComponentOptions.buildStringOption(),scCurrentLanguage:o.ComponentOptions.buildStringOption(),scRestEndpointUri:o.ComponentOptions.buildStringOption(),scLabels:o.ComponentOptions.buildJsonOption(),scPageName:o.ComponentOptions.buildStringOption(),scDefaultPipelineName:o.ComponentOptions.buildStringOption(),scShouldHaveAnalyticsComponent:o.ComponentOptions.buildBooleanOption(),scAnalyticsEnabled:o.ComponentOptions.buildBooleanOption(),scIsUserAnonymous:o.ComponentOptions.buildBooleanOption(),scFieldPrefix:o.ComponentOptions.buildStringOption(),scFieldSuffix:o.ComponentOptions.buildStringOption(),scExternalFields:o.ComponentOptions.buildJsonOption(),scSourceSpecificFields:o.ComponentOptions.buildJsonOption(),scPreferSourceSpecificFields:o.ComponentOptions.buildBooleanOption(),scIndexSourceName:o.ComponentOptions.buildStringOption(),scIsInExperienceEditor:o.ComponentOptions.buildBooleanOption(),scMaximumAge:o.ComponentOptions.buildNumberOption(),scPageNameFullPath:o.ComponentOptions.buildStringOption(),scSiteName:o.ComponentOptions.buildStringOption()},t}(o.Component);t.CoveoForSitecoreContext=c,o.Initialization.registerAutoCreateComponent(c)},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=function(){eturn e.prototype.toCoveo=function(t){if(this.isValidFieldName(t)){var n=t.toLowerCase(),r=this.stripCoveoFieldDelimiter(n);e.escapedCharacterRegex.test(r)&&(console.warn("Field name "+t+" contains the z\\d{2,3}x pattern. Ensure you avoid using this pattern in field names."),console.trace());var i=this.translateFieldName(r);return this.startsWithAt(t)?this.addCoveoFieldDelimiter(i):i}return console.error("Could not translate the '"+t+"' field to a Coveo field. Returning as is."),t},e.prototype.addCoveoFieldDelimiter=e.prototype.isCoveoFieldName=e.prototype.isDecorated=e.prototype.isValidFieldName=e.prototype.startsWithAt=e.prototype.stripCoveoFieldDelimiter=e.prototype.translateFieldName=e.prototype.isFieldAlreadyTranslated=e.prototype.replaceFirstCharacter=e.prototype.replaceSpecialCharacters=e.prototype.replaceSpecialCharacter=e.prototype.escapeSpecialCharacter=e.nonSpecialCharactersString="[a-wyA-WY0-9]",e.nonSpecialCharacters=new RegExp(e.nonSpecialCharactersString),e.coveoFieldDelimiter="@",e.fieldNameRegex=new RegExp("^[^\\W_]*$"),e.escapedCharacterRegex=new RegExp("z\\d{2,3}x"),e}();t.CoveoFieldsHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.name="analyticsEnabled"}return e.prototype.getPrebind=function(e){return function(t,n){return e.context.scAnalyticsEnabled?"true":"false"}},e}();t.AnalyticsEnabledPrebind=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){eturn e.configureSitecoreEndpoint=e.initializeEndPoint=e.dispatchInitializationEvent=function(){var e=document.createEvent("CustomEvent");e.initEvent("CoveoSearchEndpointInitialized",!1,!0),document.dispatchEvent(e)},e.getAccessToken=e.fetchAccessToken=e.createNewEndpoint=e}();t.SearchEndpoint=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||i=this&&this.__generator||Object.defineProperty(t,"__esModule",{value:!0});var o=function(){eturn e.prototype.initializeSearchPage=function(e){var t=this;this.searchPageElement=e,this.searchEndpointUri=e.dataset.searchEndpointUri,this.organizationId=e.dataset.organizationId,this.searchHub=e.dataset.searchHub,this.isInExperienceEditor="true"===e.dataset.isInExperienceEditor,this.getAccessToken=this.getAccessToken.bind(this),this.getAccessToken().then(.catch(},e.prototype.getAccessToken=e.prototype.initializeCoveo=function(e){var t=document.querySelector(".CoveoSearchInterface");t&&"undefined"!=typeof Coveo&&(Coveo.SearchEndpoint.endpoints.default=new Coveo.SearchEndpoint({restUri:this.searchEndpointUri+"/rest/search/",accessToken:e,queryStringArguments:{organizationId:this.organizationId},renewAccessToken:this.getAccessToken}),Coveo.Analytics.options.searchHub.defaultValue=this.searchHub,Coveo.Analytics.options.organization.defaultValue=this.organizationId,Coveo.init(t))},e.prototype.fetchAccessToken=function(){return r(this,void 0,void 0,},e.prototype.displayErrorMessageInExperienceEditor=e}();t.HostedSearchPageInitializer=o},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreAnalytics=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreAnalytics",function(){return new Promise(function(e,t){n.e(2).then(function(){var t=n(15).CoveoForSitecoreAnalytics;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreAnalytics",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreConfigureSearchHub=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreConfigureSearchHub",function(){return new Promise(function(e,t){n.e(4).then(function(){var t=n(16).CoveoForSitecoreConfigureSearchHub;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreConfigureSearchHub",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoSendAnalyticsToSitecore=function(){r.LazyInitialization.registerLazyComponent("SendAnalyticsToSitecore",function(){return new Promise(function(e,t){n.e(13).then(function(){var t=n(17).SendAnalyticsToSitecore;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("SendAnalyticsToSitecore",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyValidateAnalyticsIncluded=function(){r.LazyInitialization.registerLazyComponent("ValidateAnalyticsIncluded",function(){return new Promise(function(e,t){n.e(15).then(function(){var t=n(18).ValidateAnalyticsIncluded;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("ValidateAnalyticsIncluded",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreBindWithUserContext=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreBindWithUserContext",function(){return new Promise(function(e,t){n.e(3).then(function(){var t=n(19).CoveoForSitecoreBindWithUserContext;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreBindWithUserContext",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreExpressions=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreExpressions",function(){return new Promise(function(e,t){n.e(5).then(function(){var t=n(20).CoveoForSitecoreExpressions;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreExpressions",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreSyntax=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreSyntax",function(){return new Promise(function(e,t){n.e(10).then(function(){var t=n(21).CoveoForSitecoreSyntax;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreSyntax",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreRankingExpression=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreRankingExpression",function(){return new Promise(function(e,t){n.e(9).then(function(){var t=n(22).CoveoForSitecoreRankingExpression;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreRankingExpression",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreExternalContent=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreExternalContent",function(){return new Promise(function(e,t){n.e(6).then(function(){var t=n(23).CoveoForSitecoreExternalContent;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreExternalContent",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreFilterExpression=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreFilterExpression",function(){return new Promise(function(e,t){n.e(7).then(function(){var t=n(24).CoveoForSitecoreFilterExpression;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreFilterExpression",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoForSitecoreLocalExpression=function(){r.LazyInitialization.registerLazyComponent("ForSitecoreLocalExpression",function(){return new Promise(function(e,t){n.e(8).then(function(){var t=n(25).CoveoForSitecoreLocalExpression;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("CoveoForSitecoreLocalExpression",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoGoogleApiPositionProvider=function(){r.LazyInitialization.registerLazyComponent("GoogleApiPositionProvider",function(){return new Promise(function(e,t){n.e(11).then(function(){var t=n(26).GoogleApiPositionProvider;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("GoogleApiPositionProvider",e))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.lazyCoveoNavigatorPositionProvider=function(){r.LazyInitialization.registerLazyComponent("NavigatorPositionProvider",function(){return new Promise(function(e,t){n.e(12).then(function(){var t=n(27).NavigatorPositionProvider;e(t)}.bind(null,n)).catch(r.LazyInitialization.buildErrorCallback("NavigatorPositionProvider",e))})})}},)});
//# sourceMappingURL=CoveoForSitecore.Lazy.min.js.map