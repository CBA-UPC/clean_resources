(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{KQYy:OAuS:function(e){e.exports=JSON.parse('{"game_data":{"game":{"boardState":["crane","slide","tithe","biome","pique",""],"currentRowIndex":5,"dayOffset":859,"id":532,"status":"WIN","timestamps":{"lastCompleted":1698335109323,"lastPlayed":1698335109323}},"settings":{"colorblindMode":false,"darkMode":true,"hardMode":true},"stats":{"averageGuesses":4,"currentStreak":1,"gamesPlayed":348,"gamesWon":339,"guesses":{"1":2,"2":20,"3":68,"4":129,"5":89,"6":31,"fail":9},"hasPlayed":true,"isOnStreak":false,"maxStreak":13,"winPercentage":97}},"puzzle_id":"532","game":"wordle","user_id":98358852,"version":"1698335109","timestamp":1698335109,"schema_version":"0.2.0"}')},XMA8:aFeP:hG4R:hkPW:lKtF:sYsD:yFeE:function(e,t,n){"use strict";n.r(t);var a=n("gcR/"),o=n.n(a),r=n("lSNA"),i=n.n(r),c=n("RIqP"),l=n.n(c),d=n("yXPU"),s=n.n(d),u=n("J4zp"),f=n.n(u),b=n("o0o1"),p=n.n(b),m=n("q1tI"),y=n.n(m),g=n("X6oL"),v=n("/KYJ"),h=w="GET_USER_CONFIG",k="PATCH_OPT_OUT",x="PATCH_SEEN",O="PATCH_HIDE_SURVEY",j=C=function(){var e=s()(p.a.mark((function e(t){var n,a,o,r,i,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:"",o={method:"GET",credentials:"include",mode:"cors"},e.t0=t,e.next=e.t0===w?5:e.t0===k?7:e.t0===x?11:e.t0===O?15:19;break;case 5:return a=h("/widgets"),e.abrupt("break",20);case 7:return o.method="PATCH",o.body=JSON.stringify({opted_out:!0}),a=h("/widgets/".concat(n)),e.abrupt("break",20);case 11:return o.method="PATCH",o.body=JSON.stringify({last_seen_widgets_at:j()}),a=h(""),e.abrupt("break",20);case 15:return o.method="PATCH",o.body=JSON.stringify({hide_survey:!0}),a=h("/widgets/".concat(n)),e.abrupt("break",20);case 19:return e.abrupt("return",{});case 20:return e.prev=20,e.next=23,fetch(a,o);case 23:return r=e.sent,e.next=26,r.json();case 26:return i=e.sent,e.abrupt("return",{data:i,response:r});case 30:return e.prev=30,e.t1=e.catch(20),console.error("error in fetching user api",e.t1),e.abrupt("return",{});case 34:case"end":return e.stop()}}),e,null,[[20,30]])})));return function(t){return e.apply(this,arguments)}}(),N=),I=function(){var e=s()(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(O,t);case 3:if(n=e.sent,200!==(null==(a=n.response)?void 0:a.status)){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error("Could not update the hide_survey value for ",t),e.abrupt("return",!1);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P="CO",E="WO",M="SH",T="GL",W="widget_load_fail",_="webview_load_fail",z=function(e){var t=e.hasPlayedWordle,n=e.hasVisitedWordleBot;return t&&n?"Played_YesBot":t&&!n?"Played_NoBot":!t&&n?"NotPlayed_YesBot":t||n?"":"NotPlayed_NoBot"},A=D=V=F=H=R=B={event:"moduleInteraction",eventData:{type:"tap",pagetype:"widget hub"},module:{context:"you tab",name:"asset tap",label:T}},U=function(){return S(S({},B),{},{module:S(S({},B.module),{},{region:"filter",element:{label:"manage_places"}})})},Z=q=G={}),Y=function(e){return e.INIT_SURVEY_VIEW="survey",e.REMOVAL_VIEW="removal",e.CONFIRMATION_VIEW="confirmation",e.HIDDEN_VIEW="hidden",e}({}),J={}),X=n("Jqp9"),K=Object(X.css)("background-color:",v.color.background.primary,";height:100%;width:100vw;gap:",v.spaceScale.get(2),";display:grid;"),Q=Object(X.css)("background-color:",v.color.background.primary,";z-index:-1;position:fixed;height:100vh;width:100vw;"),$=$.displayName="ErrorBanner";var ee,te=$,ne=n("wXC7"),ae=n.n(ne),oe=Object(X.css)("margin:23px 20px 20px 20px;display:flex;flex-direction:column;line-height:",ae.a.font.size(28),";"),re=Object(X.css)("margin-bottom:4px;font-weight:",ae.a.font.weight.light,";line-height:",ae.a.font.size(24),";"),ie=))};ie.displayName="EmptySpace";var ce,le,de=ie,se=n("hkPW"),ue=o()("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,o()("rect",{opacity:"0.1",width:"28",height:"28",rx:"3",fill:"black"}),o()("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M19.25 12.2501C19.8917 12.2501 20.4167 12.7751 20.4167 13.4167L20.4108 13.4634L20.4167 13.4692V14.5834C20.4167 14.7351 20.3875 14.8751 20.335 15.0092L18.5733 19.1217C18.3983 19.5417 17.9842 19.8334 17.5 19.8334H12.25C11.6083 19.8334 11.0833 19.3084 11.0833 18.6667V12.8334C11.0833 12.5126 11.2117 12.2209 11.4275 12.0109L15.2658 8.16675L15.8842 8.77925C16.0417 8.93675 16.1408 9.15841 16.1408 9.39758L16.1233 9.58425L15.5692 12.2501H19.25ZM9.91667 19.8334H7.58333V12.8334H9.91667V19.8334Z",fill:"black"})),fe=o()("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,o()("rect",{opacity:"0.1",width:"28",height:"28",rx:"3",fill:"black"}),o()("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M8.75 15.7499C8.10833 15.7499 7.58333 15.2249 7.58333 14.5833L7.58917 14.5366L7.58333 14.5308L7.58333 13.4166C7.58333 13.2649 7.6125 13.1249 7.665 12.9908L9.42666 8.87825C9.60166 8.45825 10.0158 8.16659 10.5 8.16659L15.75 8.16659C16.3917 8.16659 16.9167 8.69159 16.9167 9.33325L16.9167 15.1666C16.9167 15.4874 16.7883 15.7791 16.5725 15.9891L12.7342 19.8333L12.1158 19.2208C11.9583 19.0633 11.8592 18.8416 11.8592 18.6024L11.8767 18.4158L12.4308 15.7499L8.75 15.7499ZM18.0833 8.16659L20.4167 8.16658L20.4167 15.1666L18.0833 15.1666L18.0833 8.16659Z",fill:"black"})),be=Object(X.styled)("div",{target:"eqmvhrk0"})("border-radius:10px;min-height:53px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin:0 20px;background-color:",v.color.background.secondary,";box-sizing:border-box;"),pe=Object(X.css)("button:first-child{margin-right:28px;}button{height:28px;border-radius:3px;}"),me=Object(X.css)("display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;box-sizing:border-box;"),ye=Object(X.css)(me,";padding:20px;"),ge=Object(X.css)(me,";padding:15px 20px;"),ve=Object(X.css)("button:first-child{margin-right:28px;}button{",v.typography["Text/14"],";color:",v.color.content.primary,";text-decoration:underline;background-color:transparent;}"),he=Object(X.css)("padding:20px;white-space:pre-line;font-weight:300;"),we={type:"survey",step:"1",name:"",confirmationMsg:"",linkCopy:""},ke={type:"thumbs_down",step:"1",name:"down",confirmationMsg:"Would you like to remove it?",linkCopy:""},xe={type:"thumbs_up",step:"1",name:"up",confirmationMsg:"Thanks.",linkCopy:"How can we make it even better?"},Oe={type:"thumbs_up",step:"2",name:"up_survey",confirmationMsg:"Thanks.",linkCopy:"How can we make it even better?"},je={type:"removal",step:"2",name:"down_yes",confirmationMsg:"The interest has been removed.",linkCopy:"Help us improve this experience."},Ce={type:"removal_exit",step:"2",name:"down_no",confirmationMsg:"Okay.",linkCopy:"How can we improve it?"},Ne={type:"removal_end",step:"3",name:"down_yes_survey",confirmationMsg:"The interest has been removed.",linkCopy:"Help us improve this experience."},Ie={type:"removal_end",step:"3",name:"down_no_survey",confirmationMsg:"Okay.",linkCopy:"How can we improve it?"},Le={type:"feedback",confirmationMsg:"The interest has been removed.",linkCopy:"Help us improve this experience."},Se="https://nyt.qualtrics.com/jfe/form/SV_e4lsvLspbcp6cx8",Pe=function(e){var t=e.surveyObj;return{event:"impression",module:{context:"you tab",label:e.widgetCode,region:t.step,name:"interest feedback flow"}}},Ee=function(e){var t=e.trackEvent,n=e.surveyObj;t({event:"moduleInteraction",module:{label:e.widgetCode,context:"you tab",name:"tap",region:n.step,element:{name:n.name,label:"interest feedback flow"}}})},Me=function(e){var t=e.surveyObj,n=e.widgetCode,a=xe,r=je,i=Ce,c=Ie,l=Ne,d=Oe,s=Le,u=Object(m.useState)(!1),b=f()(u,2),p=b[0],h=b[1],w=Object(g.useTracking)().trackEvent,k=Object(se.a)({rootMargin:"0px",threshold:.5,data:Pe({surveyObj:t,widgetCode:n})}),x=k.isTracked,O=k.ref;return p?null:o()(be,{},void 0,y.a.createElement("div",{className:he,ref:x?void 0:O},o()(v.Text,{size:14,color:"primary"},void 0,t.confirmationMsg," ",o()(v.Link,{sx:{whiteSpace:"nowrap"},target:"_blank",onClick:function(){t.type===i.type&&(Ee({trackEvent:w,surveyObj:c,widgetCode:n}),window.open(Se)),t.type===r.type&&(Ee({trackEvent:w,surveyObj:l,widgetCode:n}),window.open(Se)),t.type===a.type&&(Ee({trackEvent:w,surveyObj:d,widgetCode:n}),window.open("https://nyt.qualtrics.com/jfe/form/SV_d3VcIcLbUrF7GxU")),t.type===s.type&&(Ee({trackEvent:w,surveyObj:s,widgetCode:n}),window.open(Se)),h(!0)}},void 0,t.linkCopy))))},Te=function(e){var t,n=e.updateWidgetPrefsCallback,a=e.widgetId,r=e.widgetCode,c=e.isHiddenOptOut,l=ke,d=xe,s=je,u=Ce,b=we,p=Object(m.useState)(Y.INIT_SURVEY_VIEW),h=f()(p,2),w=h[0],k=h[1],x=Object(m.useState)(b),O=f()(x,2),j=O[0],C=O[1],N=Object(g.useTracking)().trackEvent,L=Object(se.a)({rootMargin:"0px",threshold:.5,data:Pe({surveyObj:j,widgetCode:r})}),S=L.isTracked,P=L.ref;Object(m.useEffecW)}),[c,w]);var E=function(e){e===d.type&&(C(d),k(Y.CONFIRMATION_VIEW),Ee({trackEvent:N,surveyObj:d,widgetCode:r}),I(a)),e===l.type&&(C(l),k(Y.REMOVAL_VIEW),Ee({trackEvent:N,surveyObj:l,widgetCode:r})),e===s.type&&(n(a),C(s),k(Y.HIDDEN_VIEW),Ee({trackEvent:N,surveyObj:s,widgetCode:r}),I(a)),e===u.type&&(C(u),k(Y.CONFIRMATION_VIEW),Ee({trackEvent:N,surveyObj:u,widgetCode:r}),I(a))},M=y.a.createElement("div",{ref:S?void 0:P,className:ye},o()(v.Text,{color:"primary",size:14},void 0,l.confirmationMsg),o()("div",{className:ve},void 0,o()("button",{type:"button",onClick:function(){return E(s.type)}},void 0,"Yes"),o()("button",{type:"button",onClick:function(){return E(u.type)}},void 0,"No"))),T=y.a.createElement("div",{ref:S?void 0:P,className:ge},ce||(ce=o()(v.Text,{color:"primary",size:14},void 0,"Do you like using this feature?")),o()("div",{className:pe},void 0,o()("button",{type:"button","aria-label":"thumbs up",onClick:function(){return E(d.type)}},void 0,ue),o()("button",{type:"button","aria-label":"thumbs down",onCle)}},void 0,fe)));return(t={},i()(t,Y.CONFIRMATION_VIEW,{content:o()(Me,{surveyObj:j,widgetCode:r})}),i()(t,Y.REMOVAL_VIEW,{content:o()(be,{},void 0,M)}),i()(t,Y.INIT_SURVEY_VIEW,{content:o()(be,{},void 0,T)}),i()(t,Y.HIDDEN_VIEW,{content:null}),t)[w].content},We=Object(X.css)("border-top:1px solid ",v.color.stroke.tertiary,";"))),"."))};_e.displayName="BottomOfTabFeedback";var ze,Ae=_e,De=n("Kxyt"),Ve=Object(X.css)("display:flex;min-height:220px;flex-direction:row;gap:",v.spaceScale.get(1),";width:100vw;overflow-x:scroll;overflow-y:hidden;scrollbar-width:none;-ms-overflow-style:none;::-webkit-scrollbar{display:none;}a:last-child{margin-right:",v.spaceScale.get(2.5),";}"),Fe=Object(X.css)("display:flex;flex-direction:column;flex-grow:1;justify-content:space-between;"),He=Object(X.css)("display:flex;flex-direction:column;"),Re=Object(X.css)("height:",v.spaceScale.get(8),";width:",v.spaceScale.get(8),";"),Be=Object(X.css)("min-width:142px;border:1px solid ",v.color.stroke.tertiary,";border-radius:10px;display:flex;flex-direction:column;padding:12px 16px 16px;margin-left:",v.spaceScale.get(2.5),";justify-content:space-between;box-sizing:border-box;color:",v.color.content.primary,";"),Ue=Object(X.css)("height:199px;min-width:142px;border:1px solid ",v.color.stroke.tertiary,";border-radius:10px;display:flex;flex-direction:column;margin:0 ",v.spaceScale.get(2.5)," ",v.spaceScale.get(2.5)," ",v.spaceScale.get(2.5),";justify-content:center;align-items:center;"),Ze=Object(X.css)("font-weight:",ae.a.font.weight.light,";font-family:",ae.a.font.franklinBase,";color:",v.color.content.primary,";"),qe=Object(X.css)("font-weight:",ae.a.font.weight.medium,";margin-top:5px;color:",v.color.content.primary,";"),Ge=n("hG4R"),Ye=Object(X.css)("background-color:",v.color.background.tertiary,";height:128px;"),Je=function(e,t){var n,a,o,r=null==e||null===(n=e.filter((function(e){var t,n,a;return null==e||null===(t=e.promotionalProperties)||void 0===t||null===(n=t.media)||void 0===n||null===(a=n.crops)||void 0===a?void 0:a[0]})))||void 0===n||null===(a=n[0])||void 0===a||null===(o=a.promotionalProperties)||void 0===o?void 0:o.media;return(null==t?void 0:t.promotionalMedia)|me:Ye}))};Xe.displayName="Image",Xe.defaultProps={preferredCrop:"threeByTwoLargeAt2X",crop:"threeByTwoLargeAt2X"};var Ke=Xe,Qe=function(e){return!!e&&(Date.now()-new Date(e))/1e3/60/60<24},$e=Object(X.css)("height:calc(100% - 2px);min-width:192px;border:1px solid ",v.color.stroke.tertiary,";border-radius:10px;position:relative;overflow:hidden;background:",v.color.background.primary,";"),et=Object(X.css)("padding:",v.spaceScale.get(1)," ",v.spaceScale.get(1.5)," ",v.spaceScale.get(2.5),";"),tt=Object(X.css)("-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:4;overflow:hidden;text-overflow:ellipsis;color:",v.color.content.primary,";"),nt=Object(X.css)("background-color:",v.dark.colors.background.primary.hex,";color:",v.dark.colors.content.primary.hex,";border-radius:100px;font-size:",ae.a.font.size(8),";font-weight:",ae.a.font.weight.bold,";font-family:",ae.a.font.franklinBase,";display:flex;align-items:center;justify-content:center;letter-spacing:",ae.a.font.size(.8),";top:12px;left:12px;position:absolute;margin:0;box-sizing:border-box;padding:4px 4px 3px oid 0,t)};at.displayName="StatusBadge";var ot,rt=at,it=function(e){var t=e.asset,n=e.isOpinion,a=e.columnName,r=e.index,i=e.trackingWidgetIndex,c=Object(g.useTracking)().trackEvent,l=t.promotionalHeadline,d=t.promotionalMedia,s=t.promotions,u=t.url,f=t.firstPublished,b=Object(se.a)({rootMargin:"0px",threshold:.5,data:R({trackingWidgetIndex:i,columnName:a,index:r})}),p=b.isTracked,m=b.ref;if(!u||!l)return null;var h=Je(s,d)||{},w=function(){return Qe(f)},k=n?o()(v.HeadlineOpinion,{className:tt,size:18},void 0,l):o()(v.Headline,{className:tt,size:16},void 0,l);return y.a.createElement("a",{ref:p?void 0:m,href:Code:P})}},o()("div",{className:$e},void 0,w()&&(ot||(ot=o()(rt,{type:"NEW"}))),o()(Ke,{media:h,preferredCrop:"threeByTwoMediumAt2X",crop:"threeByTwoMediumAt2X"}),o()("div",{className:et},void 0,k)))};it.displayName="ColumnBlock";var ct,lt=it,dt=Object(X.css)("text-decoration:underline;margin-top:11px;color:",v.color.content.primary,";:hover{text-decoration:nomove")))};st.displayName="RemoveWidgetButton";var ut=st,ft=Object(X.css)("width:100%;border-radius:10px;margin:0 20px;display:flex;flex-direction:column;background-color:",v.color.background.secondary,";box-sizing:border-box;padding:16px 16px 20px;justify-content:center;min-height:220px;"),bt=Object(X.css)("font-weight:",ae.a.font.weight.light,";color:",v.color.content.primary,";margin:0;line-height:1.3;"),pt=Object(X.css)("text-decoration:underline;margin:16px 0 0;font-size:0.875rem;color:",v.color.content.primary,";width:fit-content;:hover{text-decoration:none;}"),mt=[{text:"Not relevant to my interests.",isRemove:!0},{text:"Too many things in my feed.",isRemove:!0},{text:"Issues with this feature on my device.",isRemove:!0},{text:"Undo — I don’t want to remove this.",isRd 0,e.text))})))};yt.displayName="FeedbackForm";var gt,vt,ht,wt=yt,kt=n("VkAN"),xt=n.n(kt),Ot=n("eFc+"),jt=n.n(Ot),Ct=jt()(gt||(gt=xt()(['\n  fragment ColumnPromoImageFragment_data on Image {\n    id\n    crops(renditionNames: ["threeByTwoSmallAt2X"]) {\n      name\n      renditions {\n        url\n        name\n        width\n        height\n      }\n    }\n  }\n\n  fragment ColumnThumbImageFragment_data on Image {\n    id\n    crops(renditionNames: ["thumbLarge"]) {\n      name\n      renditions {\n        url\n        name\n        width\n        height\n      }\n    }\n  }\n\n  query columnQuery($url: String!, $first: Int) {\n    legacyCollection(id: $url) {\n      id\n      tone\n      url\n      type\n      name\n      showPicture\n      promotionalMedia {\n        ... on Image {\n          id\n          ...ColumnThumbImageFragment_data\n        }\n      }\n      ... on CreativeWork {\n        bylines {\n          creatorSnapshots {\n            ... on PersonSnapshot {\n              promotionalMedia {\n                ... on Image {\n                  id\n                  ...ColumnThumbImageFragment_data\n                }\n              }\n            }\n          }\n        }\n      }\n      assets(first: $first) {\n        edges {\n          node {\n            ... on Article {\n              id\n              sourceId\n              promotions {\n                promotionalProperties {\n                  media {\n                    ... on Image {\n                      id\n                      ...ColumnPromoImageFragment_data\n                      __typename\n                    }\n                  }\n                  __typename\n                }\n                __typename\n              }\n            }\n            ... on Published {\n              url\n              firstPublished\n            }\n            promotionalHeadline\n            promotionalMedia {\n              __typename\n              ... on Audio {\n                id\n                promotionalMedia {\n                  ... on Image {\n                    id\n                    ...ColumnPromoImageFragment_data\n                    __typename\n                  }\n                }\n              }\n              ... on Slideshow {\n                id\n                promotionalMedia {\n                  ... on Image {\n                    id\n                    ...ColumnPromoImageFragment_data\n                    __typename\n                  }\n                }\n              }\n              ... on Interactive {\n                id\n                promotionalMedia {\n                  ... on Image {\n                    id\n                    ...ColumnPromoImageFragment_data\n                    __typename\n                  }\n                }\n              }\n              ... on Video {\n                id\n                promotionalMedia {\n                  ... on Image {\n                    id\n                    ...ColumnPromoImageFragment_data\n                    __typename\n                  }\n                }\n              }\n              ... on Image {\n                id\n                ...ColumnPromoImageFragment_data\n                __typename\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']))),Nt=function(e){var t,n,a,r,i,c,l,d,s,u,b=e.index,p=e.widgetId,h=e.url,w=e.updateWidgetPrefsCallback,k=e.isHiddenOptOut,x=Object(g.useTracking)().trackEvent,O=Object(m.useState)({type:G.Loading}),j=f()(O,2),C=j[0],N=j[1],I=Object(De.useQuery)(Ct,{variables:{url:h,first:8},ssr:!1,context:{queryDeduplication:!1},fetchPolicy:"cache-first"}),L=I.data,S=I.loading,E=I.error;Object(m.useEffect)((function(){S||N({type:G.Initial}),E&&(x(V({code:P,errorType:W})),N({type:G.Error,error:E})),k&&N({type:G.SubmitFeedback})}),[S,E,x,k]);var M=Le,T=b,_=null==L?void 0:L.legacyCollection,z=null==_?void 0:_.name,A=P,D=null==_||null===(t=_.assets)||void 0===t?void 0:t.edges,R=(null==_||null===(n=_.promotionalMedia)||void 0===n||null===(a=n.crops[0])||void 0===a||null===(r=a.renditions[0])||void 0===r?void 0:r.url)||(null==_||null===(i=_.bylines[0])||void 0===i||null===(c=i.creatorSnapshots[0])||void 0===c||null===(l=c.promotionalMedia)||void 0===l||null===(d=l.crops[0])||void 0===d||null===(s=d.renditions[0])||void 0===s?void 0:s.url),B=null==_||null===(u=_.promotionalMedia)||void 0===u?void 0:u.altText,U="OPINION"===(null==_?void 0:_.tone),Z=U?"Opinion Column":"Column",q=ObjecubmitFeedback}))}),[p,w,z,A,x,T]),Y=Object(se.a)({rootMargin:"0px",threshold:.5,data:H(z,T)}),J=Y.isTracked,X=Y.ref;return C.type===G.Error?null:C.type===G.SubmitFeedback?o()(Me,{surveyObj:M,widgetCode:A}):C.type===G.Loading?o()("div",{className:Ue},void 0,vt||(vt=o()(v.Spinner,{}))):C.type===G.Feedback?o()("div",{className:Ve},void 0,o()(wt,{name:z,handleFeedbackCallback:q})):C.type===G.Initial?y.a.createElement("div",{className:Ve,ref:J?void 0:X},o()("div",{className:Be},void 0,o()("a",{className:gWidgetIndex:T})}},void 0,o()("div",{className:He},void 0,o()(v.Title,{size:12,className:Ze},void 0,Z),o()(v.Title,{size:14,className:qe},void 0,z)),R&&o()("img",{alt:B,className:Re,src:R})ype:G.Feedback})}})),nullT},t.toString())}))):null},It=Object(X.css)("fill:#e0e0e0;stroke:#000000;stroke-width:4.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;"),Lt=Object(X.css)("fill:#787c7e;stroke:#000000;stroke-width:4.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;"),St=Object(X.css)("fill:#68a963;stroke:#000000;stroke-width:4.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;"),Pt=Object(X.css)("fill:#f0c105;stroke:#000000;stroke-width:4.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10.0002;"),Et=Object(X.css)("fill:#ffffff;stroke:#000000;stroke-width:4.2491;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;"),Mt=Object(X.css)("fill:#f0c105;stroke:#000000;stroke-width:4.2491;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;"),Tt=Object(X.css)("fill:none;stroke:#000000;stroke-width:4.2491;stroke-linecap:round;stroke-linejoin:round;stroke-mi:"156.6"})))))))};Wt.displayName="BotSVG";var _t,zt,At,Dt,Vt,Ft,Ht,Rt,Bt,Ut,Zt,qt,Gt,Yt,Jt,Xt,Kt,Qt,$t,en,tn,nn,an,on=Wt,rn=Object(X.css)("transform:scale(1.15) translateY(-8px) traneWidth:"4.5"})))};cn.displayName="WordleBotAttention";var ln=cn,dn=Object(X.css)("text-decoration:none;border-bottom:1px solid currentColor;font-weight:600;width:fit-content;&:hover{border-color:transparent;}"),sn=Object(X.css)("fontn,i)},void 0,t))};un.displayName="CopyLink";var fn,bn,pn,mn,yn=un,gn=Object(X.css)("grid-area:copy;width:90%;height:70px;display:flex;flex-direction:column;justify-content:center;padding-bottom:6px;"),vn=Object(X.css)("grid-area:svg;"),hn=Object(X.css)("justify-self:center;"),wn=Object(X.css)("padding-bottom:10px;"),kn=Object(X.css)("border-bottom:1px solid ",v.dark.colors.stroke.pr)(ln,{className:vn})))},On=Object(X.css)("transfor57",fill:"white"})))))};jn.displayName="Wordl 0=Object(X.cx)(vn,hn)}))},Sn=Object(X.css)(v.typography["Text/14"],";border-radius:10px;background-color:rgb(54,54,54);color:",v.dark.colors.content.primary.hex,";width:auto;display:grid;grid-template-areas:'header' 'content';grid-template-rows:auto 100px;padding:16px 0 16px 16px;height:145px;margin-left:20px;margin-right:20px;"),Pn=Object(X.css)("grid-area:header;font-weight:400;"),En=Object(X.css)("justify-self:center;align-self:center;position:absolute;"),Mn=Object(X.css)("font-weight:100;grid-area:content;display:grid;grid-template-areas:'copy svg';grid-template-columns:70% 30%;line-height:120%;align-items:center;min-height:1n"=g()voi0==w DverwerCase()&&i||n?o:null};function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bn=function(e){var t,n,a,r,i,c,l,d,u,b=e.widgetId,h=e.updateWidgetPrefsCallback,w=e.index,k=e.isHiddenOptOut,x=Object(m.useState)({readerData:null,recentAveragesData:null}),O=f()(x,2),j=O[0],C=O[1],N=Le,I=E,L=Object(m.useState)(!0),S=f()(L,2),P=S[0],M=S[1],T=Object(m.useState)(null),_=f()(T,2),D=_[0],H=_[1],R=Object(m.useState)(null),B=f()(R,2),U=B[0],Z=B[1],q=Object(m.useState)(!1),Y=f()(q,2),J=Y[0],X=Y[1],K=Object(g.useTracking)().trackEvent,Q=Object(se.a)({rootMargin:"0px",data:A({hasPlayedWordle:D,hasVisitedWordleBot:U})}),$=Q.ref,ee=Q.isTracked,te=Object(m.useState)({type:G.Loading}),ne=f()(te,led to fetch stats."})},ie=Object(m.useCallback)((function(e){var t,n;K(F({name:"",widgetCode:I,i:e,trackingWidgetIndex:w})),null!==(t=mt[e])&&void 0!==t&&t.isRemove||oe({type:G.Initial}),null!==(n=mt[e])&&void 0!==n&&n.isRemove&&(h(b),oe({type:G.SubmitFeedback}))}),[b,h,K,I,w]);return Object(m.useEffect)((function(){P||J||oe({type:G.Initial}),k&&oe({type:G.SubmitFeedback})}),[P,J,kthis,arguments)}})()()}),[]),ae.type===G.Error?null:ae.type===G.SubmitFeedback?o()(Me,{surveyObj:N,widgetCode:I}):ae.type===G.Feedback?o()("div",{className:Ve},void 0,o()(wt,{name:"WordleBot",handleFeedbackCallback:ie})):ae.type===G.Initial?y.a.createElement("div",{className:Sn,ref:ee?void 0:$},o()(v.Text,{size:14,colorBehavior:"alwaysDark",color:"primary",as:"span",className:Pn},void 0,"WordleBot"),P&&(Cn||(Cn=o()(v.Spinner,{className:En}))),o()("div",{className:Mn},void 0,!P&&D&&o()(xn,{mostRecentAggAvgSteps:null===(t=j.recentAveragesData)||void 0===t?void 0:t.mostRecentAverageSteps,aggAvgLuck:null===(n=j.recentAveragesData)||void 0===n?void 0:n.luck,readerSteps:null===(a=j.readerData)||void 0===a?void 0:a.steps,readerLuck:null===(r=j.readerData)||void 0===r?void 0:r.luck,readerStatus:null===(i=j.readerData)||void 0===i?void 0:i.status,hasVisitedWordleBot:!!U}),!P&&!D&&o()(Ln,{mode:null===(c=j.readerData)||void 0===c?void 0:c.mode,solution:null===(l=j.readerData)||void 0===l?void 0:l.solution,readerSteps:null===(d=j.readerData)||void 0===d?void 0:d.steps,mostRecentAggAvgSteps:null===(u=j.recentAveragesData)||void 0===u?void 0:u.mostRecentAverageSteps,hasVisitedWordleBot,oe({type:G.Feedback})}})):null},Un=Object(X.css)("border-radius:5px;border:1px solid ",v.color.stroke.tertiary,";padding:12px 16px;max-width:390px;min-height:432px;overflow-x:hidden;font-family:",ae.a.font.franklinBase,";box-sizing:border-box;margin:0 20px;overflow:hidden;color:",v.color.content.primary,";"),Zn=Object(X.css)("margin-bottom:6px;"),qn=Object(X.css)("font-weight:",ae.a.font.weight.light,";margin-bottom:",v.spaceScale.get(2.5),";"),Gn=Object(X.css)("position:relative;height:285px;scroll-snap-type:x mandatory;box-sizing:border-box;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"),Yn=Object(X.css)("font-weight:",ae.a.font.weight.light,";margin-bottom:",v.spaceScale.get(1),";"),Jn=Object(X.css)("font-weight:",ae.a.font.weight.light,";margin-bottom:",v.spaceScale.get(2.5),";"),Xn=Object(X.css)("width:100%;flex:1;"),Kn=Object(X.css)("line-height:115%;width:100%;height:108px;padding:9px 12px;overflow-wrap:break-word;box-"primary"},void 0,n)))};Qn.displayName="Card";var $n,ea,ta=Qn;function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?na(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(noid 0,"Start again")))};oa.displayName="CardStack";var ra,ia,ca,la=oa,da=jt()('\n  query GetRecommendedArticles($count: Int!) {\n    lists {\n      personalizedList(\n        first: $count\n        listUri: "nyt://per/personalized-list/user-space-shuffle"\n      ) {\n        edges {\n          article: node {\n            ... on Article {\n              sourceId\n              uri\n              url\n              firstPublished\n              headline {\n                default\n              }\n              promotionalMedia {\n                ... on Image {\n                  id\n                  altText\n                  crops(renditionNames: ["mediumThreeByTwo440"]) {\n                    name\n                    renditions {\n                      url\n                    }\n                  }\n                }\n              }\n            }\n            ... on Interactive {\n              sourceId\n              uri\n              url\n              firstPublished\n              headline {\n                default\n              }\n              promotionalMedia {\n                ... on Image {\n                  id\n                  altText\n                  crops(renditionNames: ["mediumThreeByTwo440"]) {\n                    name\n                    renditions {\n                      url\n                    }\n                  }\n                }\n              }\n            }\n          }\n          trackingParams {\n            key\n            value\n          }\n        }\n      }\n    }\n  }\n'),sa=function(e){var t,n,a=e.isHiddenOptOut,r=e.widgetId,i=e.updateWidgetPrefsCallback,c=e.index,l=Object(m.useState)({type:G.Loading}),d=f()(l,2),s=d[0],u=d[1],b=M,p=Object(g.useTracking)().trackEvent,y=Le,h=Object(De.useQuery)(da,{variables:{count:10},ssr:!0,fetchPolicy:"cache-first"}),w=h.data,k=h.loading,x=h.error,O=null==w||null===(t=w.lists)||void 0===t||null===(n=t.personalizedList)||void 0===n?void 0:n.edges;Object(m.useEffect)((function(){k||u({type:G.Initial}),x&&(p(V({code:P,errorType:W})),u({type:G.Error,error:x})),a&&u({type:G.SubmitFeedback})}),[k,x,O,p,a]);var j=Object(m.useCallback)((function(e){var t,n;p(F({name:"",widgetCode:b,i:e,trackingWidgetIndex:c})),null!==(t=mt[e])&&void 0!==t&&t.isRemove||u({type:G.Initial}),null!==(n=mt[e])&&void 0!==n&&n.isRemove&&(u({type:G.SubmitFeedback}),i(r))}),[r,i,p,b,c]);return s.type===G.Error?null:s.type===G.SubmitFeedback?o()(Me,{surveyObj:y,widgetCode:b}):s.type===G.Loading?ra||(ra=o()(v.Flex,{flexDirection:"column",alignItems:"center",justifyContent:"center",flex:"1",width:"100%"},void 0,o()(v.Spinner,{color:"primary"}))):s.type===G.Feedback?o()("div",{className:Ve},void 0,o()(wt,{name:"Shuffle",handleFeedbackCallback:j})):s.type===G.Initial?o()(v.Flex,{bg:"primary",className:Un,flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},void 0,ia||(ia=o()(v.Text,{size:14,className:Zn,color:"primary"},void 0,"Daily Shuffle")),ca||(ca=o()(v.Text,{size:14,className:qn,color:"primary"},void 0,"Explore your recommendations, one story at a time.")),o()(la,{data:O,trackingWidgetIn),u({type:G.Feedback})}})):null},ua=n("pjM+"),fa=n("dlEz"),ba=function(e){var t,n,a,r,i=e.asset,c=e.placeName,l=i.promotionalHeadline,d=i.promotionalMedia,s=i.promotions,u=i.url,f=i.firstPublished,b=Object(g.useTracking)().trackEvent,p=Je(s,d)||{};return o()(v.Link,{href:u,onClick:function(){return b((e={moduleElementName:c}.moduleElementName,S(S({},B),{},{module:S(S({},B.module),{},{region:"card-list",element:{name:e}})})));var e},sx:{marginRight:"6px",textDecoration:"none"}},void 0,o()(v.Box,{width:"192px",height:"calc(100% - 2px)",background:"primary",sx:{border:"1px solid ".concat(v.color.stroke.tertiary),borderRadius:"10px",overflow:"hidden"}},void 0,o()(Ke,{media:p,preferredCrop:"mediumThreeByTwo440",crop:"mediumThreeByTwo440"}),o()(v.Box,{px:1.5,display:"grid",height:"50%",sx:{gridTemplateAreas:'"headline" "location"',gridTemplateRows:"80% 20%"}},void 0,o()(v.Box,{sx:{gridArea:"headline"}},void 0,o()(v.Headline,{size:16,sx:{pt:1,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"3",overflow:"hidden",textOverflow:"ellipsis",gridArea:"headline"},color:"primary"},void 0,l),o()(v.Text,{size:12,color:"primary",sx:{pt:.5,pb:1.5,gridArea:"published"}},void 0,Qe(f)?(t=new Date(f),n=Math.ceil(Math.abs(t-Date.now())/1e3),a=Math.floor(n/60),(r=Math.floor(a/60))<24&&r>0?"".concat(r,"h ago"):a<60&&a>0?"".concat(a,"m ago"):"1m ago"):o()(fa.a,{formatter:"nyt-date",iso:f}))),o()(v.Text,{size:12,sx:{pb:1.5,gridArea:"location"},color:"primary"},void 0,"Mentions"," ",o()(v.Text,{as:"span",size:12,sx:{fontWeight:"700"},color:"primary"},void 0,c)))))};ba.displayName="Card";var pa=ba,ma=jt()('\n  fragment PlacePromoImageFragment_data on Image {\n    id\n    crops(renditionNames: ["mediumThreeByTwo440"]) {\n      name\n      renditions {\n        url\n        name\n        width\n        height\n      }\n    }\n  }\n\n  query ArticlesFromPlaceTagsQuery($fq: String!){\n    contentSearch(\n      types: [ARTICLE, INTERACTIVE],\n      sort: newest,\n      fq: $fq\n    ) {\n      hits(first:100) {\n        totalCount\n        edges {\n          node {\n            ... on Article {\n            id\n            slug\n            typeOfMaterials\n            sourceId\n            promotions {\n              promotionalProperties {\n                media {\n                  ... on Image {\n                    id\n                    ...PlacePromoImageFragment_data\n                    __typename\n                  }\n                }\n                __typename\n              }\n              __typename\n            }\n          }\n          ... on Published {\n            url\n            uri\n            firstPublished\n          }\n          ... on HasPromotionalProperties {\n            promotionalHeadline\n            promotionalMedia {\n              __typename\n              ... on Audio {\n                id\n                promotionalMedia {\n                  ... on Image {\n                    id\n                    ...PlacePromoImageFragment_data\n                    __typename\n                  }\n                }\n              }\n              ... on Slideshow {\n                id\n                promotionalMedia {\n                  ... on Image {\n                    id\n                    ...PlacePromoImageFragment_data\n                    __typename\n                  }\n                }\n              }\n              ... on Interactive {\n                id\n                promotionalMedia {\n                  ... on Image {\n                    id\n                    ...PlacePromoImageFragment_data\n                    __typename\n                  }\n                }\n              }\n              ... on Video {\n                id\n                promotionalMedia {\n                  ... on Image {\n                    id\n                    ...PlacePromoImageFragment_data\n                    __typename\n                  }\n                }\n              }\n              ... on Image {\n                id\n                ...PlacePromoImageFragment_data\n                __typename\n              }\n            }\n          }\n          }\n        }\n      }\n    }\n  }\n'),ya=function(e){var t,n,a=e.place,r=e.EmptyState,i=a.tags,c=a.displayName,l=Object(g.useTracking)().trackEvent,d=Object(m.useState)(),s=f()(d,2),u=s[0],b=s[1],p='!section.name:"briefing" AND !desk:"SpecialSections" AND timesTags.uri:('eturn'"'.concat(e,'"')})).join(","):'""',")"),y=Object(De.useQuery)(ma,{variables:{fq:p}}),h=y.data,w=y.loading,k=y.error;return Object(m.useEffect)((function(){if(!w&&!u){var e,t,n,a,o,r=null==h||null===(e=h.contentSearch)||void 0===e||null===(t=e.hits)||void 0===t||null===(n=t.edges)||void 0===n||null===(a=n.map((function(e){if(null==e||!e.node)return null;var t=e.node;if(!t.uri||!t.firstPublished||!("slug"in t))return null;return["fact-urn t.slug.includes(e)}))&&"typeOfMaterials"in t&&t.typeOfMaterials.includes("Live Blog Post")?null:{url:t.url,firstPublished:t.firstPublished,promotionalHeadline:null==t?void 0:t.promotionalHeadline,promotions:null==t?void 0:t.promotions,promotionalMedia:null==t?void 0:t.promotionalMedia}})))||void 0===a||null===(o=a.filter(Boolean))||void 0===o?void 0:o.slice(0,15);b(r)}}),[w,null==h||null===(t=h.contentSearch)||void 0===t||null===(n=t.hits)||void 0===n?void 0:n.edges,c,u,b]),k?(console.error("error running content search for place: ".concat(a.uri),{cause:k}),l(V({code:T,errorType:W})),null):w||void 0===u?null:null!=u&&u.length?o()(v.Flex,{flexDirection:"row",className:"place"},void e:c},e.firstPublished)}))):o()(v.Flex,{pr:4,pt:4,width:"100%"},void 0,o()(r,{}))};ya.displayName="Place";var ga,va,ha=ya,wa=n("sYsD"),ka=n("aFeP"),xa=Object(m.createContext)({handleDone:void 0,places:[],setIsEmptyState:void 0}),Oa=n("zt+w").places,ja=function(e){var t,n,a=e.handleCallback,r=e.children,i=Object(ua.a)(),c=Object(ka.a)(),d=Object(m.useRef)(null==c||null===(t=c.newsletterSubscriptions)||void 0===t||null===(n=t.newsletters)||vo"YPGU"===e.productCode}))),u=Object(m.useContext)(xa),b=u.handleDone,y=u.places,g=Object(m.useState)([]),h=f()(g,2),w=h[0],k=h[1],x=Object(m.useState)((null==y?void 0:y.map((function(e){return e.uri})))||[]),O=f()(x,2),nction(e)){return j.includes(e)})),I=function(){var e=s()(p.a.mark((function e(){var t,n,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.current||(Object(wa.getNewsletterProduct)({newsletterId:"YPGU"}).signup({signupFormVersion:"You_Tab"}),d.current=!0),e.next=3,i.update({yourPlacesGlobalUpdate:{placeSelections:[].concat(l()(j),l()(w))}});case 3:n=e.sent,o=null==n||null===(t=n.yourPlacesGlobalUpdate)||void 0===t?void 0:t.placeSelections,C(o),null==b||b(o),null==a||a(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o()(v.Flex,{flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},void 0,o()(v.Text,{size:16,color:"primary",sx:{textAlign:"center",mb:2,width:"16.8125rem",fontWeight:"300"}},void 0,!N&&r,N&&"We couldn’t find recent stories to display right now. Check back later or manage your places.",o()(v.Flex,{as:"span",justifyContent:"center",alignItems:"center",width:"100%",pt:2},void 0,o()(v.Text,{as:"span",size:14,color:"primary",sx:{fontWeight:"700"}},void 0,"Tap ",ga||(ga=o()(v.PlusIcon,{size:12,color:"primary",inline:!0}))," to select places."))),o()(v.Flex,{flexWrap:"wrap",justifyContent:"center",gap:"0.25rem 1rem"},void 0,Oa.map((function(e){var t,n=e.displayName,a=e.uri;return o()(v.TextButton,{"aria-disabled":(t=a,[].cofunction(e){return e===t}))),color:"primary",height:"extraCompact",icon:v.PlusIcon,onClick:funcurn[].concat(l()(t),[e])}));var e},sx:{flexDirection:"row-reverse"}},n,n)})),o()(v.Flex,{justifyContent:"center",alignContent:"center",width:"100%",pt:2},void 0,o()(v.Button,{height:"compact",onClick:I},void 0,va||(va=o()(v.Text,{size:14},void 0,"Save Selections"))))))};ja.displayName="EmptyState";var Ca=ja,Na=Object(X.css)("display:flex;flex-direction:row;width:100vw;overflow-x:scroll;overflow-y:hidden;scrollbar-width:none;-ms-overflow-style:none;::-webkit-scrollbar{display:none;}.place:last-child{margin-right:",v.spaceScale.get(4),";}"),Ia=function(){var e,t=Object(m.useContext)(xa),n=t.places,a=void 0===n?[]:n,r=t.setIsEmptyState,i=Object(g.useTracking)().trackEvent,c=Object(m.useSt0===t?void 0:t.length)>0})))||void 0===e?void 0:e[0])||a[0]),l=f()(c,2),d=l[0],s=l[1],u=function(e){var t,n,o=null===(t=a.filter((function(t){return t.displayName===e})))||void 0===t?void 0:t[0];s(o),i((n={moduleElementName:e}.moduleElementName,S(S({},B),{},{module:S(S({},B.module),{},{region:"filter",element:{label:"filtered_country_select",name:n}})}))),null!=o&&o.tags.length?null==r||r(!1):null==r||r(!0)},b=function(){retuction(e){return s(Wa(e))}},void 0,"No stories for this area were found. Would you like to add one of these places to follow?")};return o()(v.Flex,{height:"100%",pt:2,pb:2.5,display:"grid",sx:{gridArea:"content",gridTemplateAreas:'"filter" "cards"',gridTemplateRows:"2rem 16.5rem",gridTemplateColumns:"100%"}},void 0,o()(v.Flex,{flexDirection:"row",width:"100%",pl:2,pb:2,minHeight:"auto",sx:{gridArea:"filter"},className:Na},void 0,a.map((function(e){var t=e.displayName;return o()(k:function(){return u(t)},sx:{marginRight:2},className:"place"},t,o()(v.Text,{color:(null==d?void 0:d.displayName)===t?"primary":"secondary",size:14,sx:{width:"max-content"}},void 0,t))}))),o()(v.Flex,{flexDirection:"row",width:"100%",pl:2,sx:{gridArea:"cards"},className:Na},void 0,a.map((function(e){return o()(v.Flex,{as:"span",sx:{display:d.displayName===e.displayName?"flex":"none"}},e.displayName,o()(ha,{place:e,EmptyState:b}))}))))};Ia.displayName="Carousel";var La,Sa,Pa,Ea=Ia,Ma=Object(X.css)("display:grid;grid-template-areas:'title' 'content' 'footer';grid-template-columns:100%;grid-template-rows:max-content 3fr 2rem;max-width:390px;height:23.9375rem;border:1px solid ",v.color.stroke.tertiary,";border-radius:10px;overflow-x:hidden;overflow-y:hidden;scrollbar-width:none;-ms-overflow-style:none;::-webkit-scrollbar{display:none;}"),Ta=n("CKHg").places,Wa=function(e){var t;return(n(t){return t.uri===e}))})))||vor((function(e){return!!e})))||[]},_a=function(e){var t,n,a,r,i,c=e.index,d=e.widgetId,s=e.updateWidgetPrefsCallback,u=e.isHiddenOptOut,b=Le,p=Object(ua.a)(),h=Object(g.useTracking)().trackEvent,w=Object(m.useState)(),k=f()(w,2),x=k[0],O=k[1],j=Object(m.useState)(!1),C=f()(j,2),N=C[0],I=C[1],L=Object(m.useRef)(),S=Object(m.useState)({type:G.Loading}),P=f()(S,2),E=P[0],M=P[1],W=Object(se.a)({rootMargin:"0px",threshold:.5,data:(t={moduleLabel:T,moduleRegion:"shuffle-stack"},n=t.moduleLabel,a=t.moduleRegion,r=t.blockName,i={event:"impression",module:{context:"you tab",name:"interest",label:n,region:a}},r&&(i.block={name:r}),i)}),_=W.isTracked,z=W.reftype:G.SubmitFe?youtab_redirect=true")};return Object(m.useEffect)((function(){var e,t=p.data();if("yourPlacesGlobalUpdate"in t&&!x){var n,a=Wa(null==t||null===(n=t.yourPlacesGlobalUpdate)||void 0===n?void 0:n.placeSelect){return setTimeout(t,e)}))).then((function(){a.length||I(!0),O(l()(a)),M({type:G.Initial})}))}}),[p,x]),Object(m.useEffect)((function(){try{L.current=window.location.origin}catch(e){L.current="https://www.nytimes.com"}}){type:G.SubmitFeedback})}),[u]),E.type===G.SubmitFeedback?o()(Me,{surveyObj:b,widgetCode:T}):E.type===G.Feedback?o()(v.Flex,{width:"100vw",minHeight:"13.75rem"},void 0,o()(wt,{name:"Your Places: Global Update",handleFeedbackCallback:A})):o()(xa.Provider,{value:{handleDone:function(e){var t=Wa(e);O(l()(t)),I(!1)},places:x,setIsEmptyState:I}},void 0,y.a.createElement(v.Box,{background:"primary",my:1.5,mx:2.5,py:2,className:Ma,ref:_?void 0:z},o()(v.Box,{sx:{gridArea:"title"},pl:2},void 0,o()(v.Title,{size:14,color:"primary",sx:{fontWeight:"500"}},void 0,"Your Places: Global Update"),E.type===G.Initial&&!(null!=x&&x.length)&&o()(v.Text,{size:14,color:"secondary",sx:{fontWeight:"300",pt:.5}},void 0,"Follow any part of the world outside of the U.S.")),E.type===G.Loading&&o()(v.Flex,{flexDirection:"column",justifyContent:"center",alignContent:"center",alignItems:"center",flexWrap:"wrap",sx:{gridArea:"content"}},void 0,La||(La=o()(v.Flex,{mb:2},void 0,o()("img",{alt:"Your Places logo",width:"200px",height:"166px",src:"https://static.nytimes.com/email-images/NYT-Newsletters-PlacesYouFollow-Animation-transparent.gif"}))),o()(v.Text,{size:16,color:"primary",sx:{textAlign:"center",fontWeight:"300",width:"192px"}},void 0,"Gathering stories based on the places you follow.")),E.type===G.Initial&&Boolean(null==x?void 0:x.length)&&(Sa||(Sa=o()(Ea,{}))),E.type===G.Initial&&!(null!=x&&x.length)&&o()(v.Flex,{justifyContent:"center",sx:{gridArea:"content"}},void 0,Pa||(Pa=o()(Ca,{},void 0,"Select places to follow. You’ll see stories that feature or mention them here, and get an email when new articles publish."))),o()(v.Flex,{flexDirection:"row",justifyContent:"space-between",alignItems:"self-end",px:2,sx:{gridArea:"footer"}},void 0,o()(ut,{onClick:function(){var e;h({event:"moduleInteraction",eventData:{type:"tap",pagetype:"widget hub"},module:{label:(e={moduleLabel:T,elementName:"Global Update"}).moduleLabel,context:"you tab",name:"asset tap",region:"remove",element:{name:e.elementName,label:"remove"}}}),M({type:G.Feedback})}}),!N&&o()(v.Button,{href:D(),sx:{visibility:E.type===G.Loading?"hidden":"visible"},height:"compact",color:"primary",onClick:function(){return h(U())}},void 0,"Add or Edit Places"),N&&o()(v.TextButton,{color:"primary",height:"extk:function(){return h(U())}},void 0,"See other places"))))};_a.displayName="GlobalUpcriptor(n,t))}))}return e}var Ba=function(){var e=Object(g.useTracking)().trackEvent,t=Object(m.useState)(),n=f()(t,2),a=n[0],r=n[1],c=Object(m.useState)(),d=f()(c,2),u=d[0],b=d[1],h=Object(m.useState)(),x=f()(h,2),O=x[0],j=x[1],I=function(){var e=s()(p.a.mark((function e(){var t,n,a,o,i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(w);case 3:if(t=e.sent,n=t.response,a=t.data,200!==(null==n?void 0:n.status)){e.next=11;break}return i=null===(o=a.widgets)||void 0===o?void 0:o.filter((function(e){return!e.opted_out})),c=q(i.sort(Z)),r(l()(c)),e.abrupt("return",{});case 11:throw Error("response code ".concat(null==n?void 0:n.status));case 14:return e.prev=14,e.t0=e.catch(0),console.error("Could not fetch user widgets.",e.t0),j(!0),e.abrupt("return",{});case 19:case"end":return e.stop()}}),rn e.apply(this,argumentffect)((function(){I(),N()}),[]),Object(m.useEffect)((function(){var e=a&&a.filter((function(e){return!e.opted_out})).length<1;b(e)}n(){O&&e(V({errorType:_}))}),[O,e]);var L=Object(m.useCallback)((function(e){(function(){var e=s()(p.a.mark((function e(t){var n,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(k,t);case 3:if(n=e.sent,200!==(null==(o=n.response)?void 0:o.status)){e.next=9;break}ret{},e),{},{opted_out:!0}):e})),r(i),e.abrupt("return",!0);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.error("Could not update widget preference for ",t),e.abrupt("return",!1);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),rn e.apply(this,arguments)}})()(e)}),[a]),S=function(e,t){return e.impression_count>0&&!e.hide_survey&&o()(Te,{updateWidgetPrefsCallback:L,widgetCode:t,widgetId:e.id,isHiddenOptOut:e.opted_out})};return o()(v.Root,{},void 0,za||(za=o()(v.Box,{height:"100vh",className:Q})),O&&(Aa||(Aa=o()(te,{},void 0,"We’re having trouble gathering your interests.",o()("br",{})," Try again later."))),u&&!O&&(Da||(Da=o()("div",{className:K},void 0,o()(de,{})))),(null==a?void 0:a.length)&&!O&&o()(v.Box,{py:2.5,className:K},void 0,a.map((function(e,t){var n,a,r=function(e,t){var n,a={index:t,widgetId:e.id,isHiddenOptOut:e.opted_out,updateWidgetPrefsCallback:L};return n={},i()(n,J.WORDLE,{Interest:y.a.createElement(Bn,a),Survey:S(e,E)}),i()(n,J.COLUMN,{Interest:y.a.createElement(Nt,Ra(Ra({},a),{},{url:e.column_url})),Survey:S(e,P)}),i()(n,J.SHUFFLE,{Interest:y.a.createElement(sa,a),Survey:S(e,M)}),i()(n,J.GLOBAL,{Interest:y.a.createElement(Fa,a),Survey:S(e,T)}),n}(e,t);return e.widget_type?o()(y.a.Fragment,{},e.id,null===(n=r[e.widget_type])||void 0===n?void 0:n.Interest,null===(a=r[e.widget_type])||void 0===a?voinction(e){return!e.opted_out}))&&(Va||(Va=o()(Ae,{})))))};Ba.displayName="Yoes","Northern Ireland"]}]}')}}]);
//# sourceMappingURL=your-space-e76271a6756de913f531.js.map