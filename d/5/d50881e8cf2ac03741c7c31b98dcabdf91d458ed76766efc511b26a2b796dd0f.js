function TNStats_Tracker(t){if(this._domain=t,this._trackerURI="/shared-content/art/stats/common/tracker.gif",this._plugins=["DetectRes","DetectVisitor","DetectPageTitle","DetectUniquePageview"],this._globalvars=[],this._trackvars=[],this._uriPrefix="",this._sessionTimeout=1800,this._cookieTimeout=43800,this._pageStart=new Date,this._ignoreURI=[],this._cookiePath="/",document.getElementsByTagName)for(var i=document.getElementsByTagName("meta"),e=0;e<i.length;e++)if("murlinstats"===i[e].name&&"ignore"===i[e].content.substr(0,6))for(var r=i[e].content.substr(7).split(","),s=0;s<r.length;s++)this._ignoreURI[r[s]]=1;this._setGlobalVar=this._getGlobalVar=this._addTrackVar=function(t,i){t=escape(t),i=escape(i),this._trackvars[t]=i},this._clearTrackVars=this._joinGlobalVars=function(){var t=[];for(var i in this._globalvars)"string"==typeof this._globalvars[i]&&(t[t.length]=escape(i)+"="+escape(this._globalvars[i]));return t.join("&")},this._joinTrackVars=function(){var t=[];for(var i in this._trackvars)"string"==typeof this._trackvars[i]&&(t[t.length]=i+"="+this._trackvars[i]);return t.join("&")},this._addCookie=function(t,i,e){if(void 0!==window.sessionStorage&&void 0!==window.localStorage){var r=e?window.localStorage:window.sessionStorage;try{r["tnms:"+this._domain+":"+t]=i}catch(t){r.clear()}}else{var s=t+"="+escape(i)+"; path="+this._cookiePath+";";if(e>0){var o=new Date,n=o.getTime();o.setTime(3600*e*1e3+n),s=s+" expires="+o.toGMTString()+";"}document.cookie=s}},this._getCookie=function(t){for(var i=document.cookie,e=i.split("; "),r="",s=0;s<e.length;s++){var o=e[s].split("=");if(o[0]===t){r=unescape(o[1]);break}}return void 0!==window.sessionStorage&&void 0!==window.localStorage&&(window.localStorage["tnms:"+this._domain+":"+t]&&(r=window.localStorage["tnms:"+this._domain+":"+t]),window.sessionStorage["tnms:"+this._domain+":"+t]&&(r=window.sessionStorage["tnms:"+this._domain+":"+t])),r},this._sendTracker=function(){var t=new Date,i="";i=(0===window.location.protocol.indexOf("http:")?"s":"")?"http://"+this._domain+this._trackerURI:"https://"+this._domain+this._trackerURI,i=i+"?"+this._joinTrackVars()+"&rt="+t.getTime(),new Image(1,1).src=i},this._hashString=function(t){function i(t,i){var n=t[0],a=t[1],h=t[2],c=t[3],n=s(n,a,h,c,i[0],7,-680876936),c=s(c,n,a,h,i[1],12,-389564586),h=s(h,c,n,a,i[2],17,606105819),a=s(a,h,c,n,i[3],22,-1044525330),n=s(n,a,h,c,i[4],7,-176418897),c=s(c,n,a,h,i[5],12,1200080426),h=s(h,c,n,a,i[6],17,-1473231341),a=s(a,h,c,n,i[7],22,-45705983),n=s(n,a,h,c,i[8],7,1770035416),c=s(c,n,a,h,i[9],12,-1958414417),h=s(h,c,n,a,i[10],17,-42063),a=s(a,h,c,n,i[11],22,-1990404162),n=s(n,a,h,c,i[12],7,1804603682),c=s(c,n,a,h,i[13],12,-40341101),h=s(h,c,n,a,i[14],17,-1502002290),a=s(a,h,c,n,i[15],22,1236535329),n=r(n,a,h,c,i[1],5,-165796510),c=r(c,n,a,h,i[6],9,-1069501632),h=r(h,c,n,a,i[11],14,643717713),a=r(a,h,c,n,i[0],20,-373897302),n=r(n,a,h,c,i[5],5,-701558691),c=r(c,n,a,h,i[10],9,38016083),h=r(h,c,n,a,i[15],14,-660478335),a=r(a,h,c,n,i[4],20,-405537848),n=r(n,a,h,c,i[9],5,568446438),c=r(c,n,a,h,i[14],9,-1019803690),h=r(h,c,n,a,i[3],14,-187363961),a=r(a,h,c,n,i[8],20,1163531501),n=r(n,a,h,c,i[13],5,-1444681467),c=r(c,n,a,h,i[2],9,-51403784),h=r(h,c,n,a,i[7],14,1735328473),a=r(a,h,c,n,i[12],20,-1926607734),n=o(a^h^c,n,a,i[5],4,-378558),c=o(n^a^h,c,n,i[8],11,-2022574463),h=o(c^n^a,h,c,i[11],16,1839030562),a=o(h^c^n,a,h,i[14],23,-35309556),n=o(a^h^c,n,a,i[1],4,-1530992060),c=o(n^a^h,c,n,i[4],11,1272893353),h=o(c^n^a,h,c,i[7],16,-155497632),a=o(h^c^n,a,h,i[10],23,-1094730640),n=o(a^h^c,n,a,i[13],4,681279174),c=o(n^a^h,c,n,i[0],11,-358537222),h=o(c^n^a,h,c,i[3],16,-722521979),a=o(h^c^n,a,h,i[6],23,76029189),n=o(a^h^c,n,a,i[9],4,-640364487),c=o(n^a^h,c,n,i[12],11,-421815835),h=o(c^n^a,h,c,i[15],16,530742520),a=o(h^c^n,a,h,i[2],23,-995338651),n=e(n,a,h,c,i[0],6,-198630844),c=e(c,n,a,h,i[7],10,1126891415),h=e(h,c,n,a,i[14],15,-1416354905),a=e(a,h,c,n,i[5],21,-57434055),n=e(n,a,h,c,i[12],6,1700485571),c=e(c,n,a,h,i[3],10,-1894986606),h=e(h,c,n,a,i[10],15,-1051523),a=e(a,h,c,n,i[1],21,-2054922799),n=e(n,a,h,c,i[8],6,1873313359),c=e(c,n,a,h,i[15],10,-30611744),h=e(h,c,n,a,i[6],15,-1560198380),a=e(a,h,c,n,i[13],21,1309151649),n=e(n,a,h,c,i[4],6,-145523070),c=e(c,n,a,h,i[11],10,-1120210379),h=e(h,c,n,a,i[2],15,718787259),a=e(a,h,c,n,i[9],21,-343485551);t[0]=n+t[0]&4294967295,t[1]=a+t[1]&4294967295,t[2]=h+t[2]&4294967295,t[3]=c+t[3]&4294967295}rn function(t){for(var i=0;i<t.length;i++){for(var e=t[i],r="0123456789abcdef".split(""),s="",o=0;4>o;o++)s+=r[e>>8*o+4&15]+r[e>>8*o&15];t[i]=s}return t.join("")}(function(t){var e,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64){for(var o=t.substring(e-64,e),n=[],a=void 0,a=0;64>a;a+=4)n[a>>2]=o.charCodeAt(a)+(o.charCodeAt(a+1)<<8)+(o.charCodeAt(a+2)<<16)+(o.charCodeAt(a+3)<<24);i(s,n)}for(t=t.substring(e-64),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),55<e)for(i(s,o),e=0;16>e;e++)o[e]=0;return o[14]=8*r,i(s,o),s}(t))}}TNStats_Tracker.prototype.setTracker=TNStats_Tracker.prototype.setTrackerDomain=TNStats_Tracker.prototype.setTrackerURI=function(t){this._trackerURI=t},TNStats_Tracker.prototype.setURIPrefix=TNStats_Tracker.prototype.ignoreURI=function(t,i){i?this._ignoreURI[i+"-"+t]=1:this._ignoreURI[t]=1},TNStats_Tracker.prototype.pluginDetectRes=function(){screen&&this._addTrackVar("tnms_rs",screen.width+"x"+screen.height+"x"+screen.colorDepth)},TNStats_Tracker.prototype.pluginDetectPageTitle=function(){var t=this._getCookie("tnms_pdt"),i=this._getGlobalVar("title");i.length||(i="(empty title)"),t&&this._addTrackVar("tnms_pdt",t),this._addTrackVar("tnms_dt",i),this._addCookie("tnms_pdt",i,this._cookieTimeout)},TNStats_Tracker.prototype.pluginDetectUniquePageview=function(){if(void 0!==window.sessionStorage){var t=this._getGlobalVar("uri"),i=this._getGlobalVar("domain"),e="tnmsup:"+this._hashString(i+t);window.sessionStorage[e]||(this._addTrackVar("tnms_upage",1),window.sessionStorage[e]=1)}},TNStats_Tracker.prototype.pluginDetectVisitor=function(){var t=new Date,i=0,e=String(this._getCookie("tnms_vid")),r=this._getCookie("tnms_vsst"),s=this._getCookie("tnms_vssl"),o=this._getCookie("tnms_vpuri"),n=0;e.length?(!r||t.getTime()/1e3-s>this._sessionTimeout)&&(i=2,r=t.getTime()/1e3):(i=1,r=t.getTime()/1e3,e+=t.getTime(),window.screenX?e+=Math.abs(window.screenX):window.screenLeft&&(e+=Math.abs(window.screenLeft)),window.screenX?e+=Math.abs(window.screenY):window.screenTop&&(e+=Math.abs(window.screenTop)),document.body&&document.body.clientWidth?e+=document.body.clientWidth:window.innerWidth&&(e+=window.innerWidth),document.body&&document.body.clientHeight?e+=document.body.clientHeight:window.innerHeight&&(e+=window.innerHeight),e+=Math.floor(Math.random()*t.getTime())),this._addCookie("tnms_vsst",Math.ceil(r)),this._addCookie("tnms_vssl",Math.ceil(t.getTime()/1e3)),this._addCookie("tnms_vpuri",this._uri,this._cookieTimeout),this._addCookie("tnms_vid",e,this._cookieTimeout);var a=this._getCookie("tnms_vtumt"),h=String(t.getFullYear())+String(t.getMonth());a!==h&&(this._addTrackVar("tnms_vtum",1),this._addCookie("tnms_vtumt",h,this._cookieTimeout)),s&&(this._addTrackVar("tnms_vpuri",o),n=i?0:t.getTime()/1e3-s,this._addTrackVar("tnms_vplen",Math.ceil(n))),this._addTrackVar("tnms_vt",i),this._addTrackVar("tnms_vid",e)},TNStats_Tracker.prototype.runPlugins=function(){for(var $x=0;$x<this._plugins.length;$x++)if(!this._ignoreURI[this._plugins[$x]+"-"+this._uri])try{eval("this.plugin"+this._plugins[$x]+"();")}catch(t){}this._addTrackVar("tnms_do",this._domain),this._addTrackVar("tnms_uri",this._uri),this._addTrackVar("tnms_ref",this._getGlobalVar("referrer")),this._sendTracker()},TNStats_Tracker.prototype.trackPageView=function(t){var i=String(document.location).replace(/#.*$/,""),e=i.match(/^(http|https):\/\/([^\/]{1,})(.*)$/);this._clearTrackVars(),e&&(this._uri=this._uriPrefix+e[3],this._scheme=e[1]),t&&(this._uri=this._uriPrefix+t),this._ignoreURI[this._uri]||(this._setGlobalVar("title",document.title),this._setGlobalVar("referrer",document.referrer),this._setGlobalVar("domain",this._domain),this._setGlobalVar("uri",this._uri),this.runPlugins())};