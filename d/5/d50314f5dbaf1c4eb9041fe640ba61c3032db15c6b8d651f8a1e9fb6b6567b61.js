(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["bundle.TV","bundle.TrustedFriendsManagement"],{865938:879075:824034:645875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TVHome:()=>ue,default:);var r=n(202784),i=n(325686),o=n(973186),a=n(765526),c=n(882392),l=n(196234),s=(n(571372),n(315735),n(906886),n(801206)),u=r.createContext({focusedElement:{current:""},setFocusedElement:s.Z,registerKeyHandler:s.Z,unregisterKeyHandler:s.Z,registerFocusHandler:s.Z,unregisterFocusHandler:s.Z}),d=function(e){var t=e.children,n=e.initialFocusedElement,i=r.useRef(n),o=r.useRef(new Map),a=r.useRef(new Map),c=r.useCallback((,[i]),l=r.useCallback((function(e,t){o.current.set(e,t)}),[]),s=r.useCallback((function(e){o.current.delete(e)}),[]),d=r.useCallback((,[]),m=r.useCallback((,[]),f=r.useCallback((,[i]);r.useEffect((,[f]);var v={focusedElement:i,setFocusedElement:c,registerKeyHandler:l,unregisterKeyHandler:s,registerFocusHandler:d,unregisterFocusHandler:m};return r.createElement(u.Provider,{value:v},t)};ar f=v=n(879075),p=(n(888233),n(468139)),_=n(460673),h=Object.freeze({VIDEO:"VIDEO",SHORT_VIDEO:"SHORT_VIDEO"}),b=n(411839),w=n(706296),y=function(e){var t=e.analytics,n=e.name,i=e.parent,o=e.tweet,a="".concat(i,".").concat(n),c=r.useCallback((function(e){return!1}),[]),l=f(a,{keyHandler:c}).hasFocus,s=r.useCallback((,[]),u=r.useMemo((,[l]);return r.createElement(b.Z,{interactivityState:u,style:g.interactiveView},r.createElement(w.N,{analytics:t,onPress:s,tweet:o,tweetId:o.id_str}))},g=o.Z.create((),E=(n(368995),n(694407)),T=n(484740),Z=n(191300),x=n(645184),C=n.n(x),H=n(824034),k=n(807896),F=n(459740),R=["children","hasFocus","style"],S=I=o.Z.create((),M=C().d58baa7f,V=function(e){var t,n=e.name,o=e.parent,a=e.tweet,l=r.useMemo((,[o,n]),s=r.useCallback((function(e){return!1}),[]),u=f(l,{keyHandler:s}).hasFocus,d=a),m=r.useMemo((function(){return r.createElement(i.Z,{style:D.screenNameSuffix},r.createElement(T.Z,{style:D.relativeTimestamp,timestamp:a.created_at}))}),[a.created_at]);return r.createElement(S,{accessibilityLabel:null==d?void 0:d.ext_alt_text,accessibilityRole:"link",hasFocus:u,style:D.interactiveView,testID:"tv-video-card-".concat(a.id_str)},r.createElement(i.Z,{style:D.videoPreview},r.createElement(E.Z,{source:null==d?void 0:d.media_url_https,style:D.videoPreviewImage}),r.createElement(i.Z,{style:D.videoDurationContainer},r.createElement(c.ZP,{size:"subtext2",style:D.videoInfoText},(0,H.y)(null==d?void 0:d.video_info.duration_millis)))),r.createElement(i.Z,{style:D.tweetInfo},r.createElement(E.Z,{source:a.user.profile_image_url_https,style:D.userAvatar}),r.createElement(i.Z,{style:D.userNameAndText},r.createElement(i.Z,{style:D.userNameContainer},r.createElement(c.ZP,{style:D.userName},a.user.name),r.createElement(c.ZP,{style:D.screenName},"@".concat(a.user.screen_name)),r.createElement(Z.Z,null),m),r.createElement(c.ZP,{color:"white",numberOfLines:2,size:"subtext2"},a.full_text)),null!==(t=a.views)&&void 0!==t&&t.count?r.createElement(i.Z,{style:D.videoViewCountContainer},r.createElement(c.ZP,{size:"subtext2",style:D.videoInfoText},M(parseInt(a.views.count,10)))):null))},D=o.Z.create((),L="tv-video-card-",O=o.Z.create(();const A=function(e){var t=e.content,n=e.displayType,o=e.name,a=e.parent,c=(0,_.z)(),s=m().setFocusedElement,u="".concat(a,".").concat(o),d=r.useState(0),b=(0,l.Z)(d,2),w=b[0],g=b[1],E="".concat(L).concat(w.toString()),T=r.useCallback((,[t.length,u,w,s,g]),Z=f(u,{keyHandler:T}).hasFocus;r.useEffect((function(){Z&&s("".concat(u,".").concat(E))}),[u,E,Z,s]);var x=r.useMemo((,[t]);return r.createElement(i.Z,{style:O.container},r.createElement(p.Z,{visibleItemIndex:w},x.map((function(e,t,o){var a=null;if(e){switch(n){case h.VIDEO:a=r.createElement(V,{name:"".concat(L).concat(t),parent:u,tweet:e});break;case h.SHORT_VIDEO:a=r.createElement(y,{analytics:c,name:"".concat(L).concat(t),parent:u,tweet:e});break;default:a=null}return r.createElement(i.Z,{key:"tv-carousel-item-".concat(e.id_str),style:t===o.length-1?void 0:O.scrollSnapElement},a)}return null}))))};var P="tv-carousel-",Q=o.Z.create(();const N=function(e){var t=e.categories,n=e.name,o=e.parent,a="".concat(o,".").concat(n),l=m().setFocusedElement,s=r.useRef(null),u=r.useRef(Array(t.length).fill(null)),d=r.useRef(0),p=r.useRef("".concat(P).concat(t[d.current].id)),_=r.useCallback((,[t,a,l]),h=f(a,{keyHandler:_}).hasFocus;return r.useEffect((,[t,a,h,l]),r.createElement(i.Z,{ref:s,style:Q.contentContainer},t.map((function(e,t){return r.createElement(i.Z,{key:"category-".concat(e.id),ref:,r.createElement(c.ZP,{size:"headline1",style:Q.headlineText,weight:"bold"},e.title),r.createElement(A,{content:e.content,displayType:e.displayType,name:"".concat(P).concat(e.id),parent:a}))})),r.createElement(i.Z,{style:Q.blankSpaceSegment}))};var q=o.Z.create(();const z=var U=n(392160),K=(n(136728),n(506899)),G=n(211469),X=n(133028),W=n(17360),j=n(983175),B=n(865938),Y=n.n(B),J=n(482249);const $=var ee=n(70852),te=n(753392),ne=n(851670),re=("rweb/".concat("tv"),Object.freeze({REQUEST:"rweb/FETCH_TV_HOME_MIXER/REQUEST",SUCCESS:"rweb/FETCH_TV_HOME_MIXER/SUCCESS",FAILURE:"rweb/FETCH_TV_HOME_MIXER/FAILURE"})),ie=function(e){var t,n=null==e||null===(t=e.instructions)||void 0===t?void 0:t.find(();return(0,G.Z)((null==n?void 0:n.entries)||[],(function(e){var t,n,r,i,o;if("TimelineTimelineModule"===(null==e||null===(t=e.content)||void 0===t?void 0:t.__typename)&&"Carousel"===(null==e||null===(n=e.content)||void 0===n?void 0:n.displayType))return{id:(null==e||null===(r=e.content)||void 0===r||null===(r=r.clientEventInfo)||void 0===r?void 0:r.component)||"",title:(null==e||null===(i=e.content)||void 0===i||null===(i=i.header)||void 0===i?void 0:i.text)||"",content:(0,G.Z)((null==e||null===(o=e.content)||void 0===o?void 0:o.items)||[],(function(e){var t;if("TimelineTweet"===(null==e?void 0:e.item.itemContent.__typename))return function(e){var t,n;if("Tweet"===(null==e||null===(t=e.result)||void 0===t?void 0:t.__typename))return(0,K.Fv)(null==e?void 0:e.result,ee.Z).entities.tweets[null==e||null===(n=e.result)||void 0===n||null===(n=n.legacy)||void 0===n?void 0:n.id_str]}(null==e||null===(t=e.item)||void 0===t||null===(t=t.itemContent)||void 0===t?void 0:t.tweet_results)})),displayType:h.VIDEO}}))},oe=function(){return function(e,t,n){var r=n.api;return te._O(e,{params:{count:20,requestContext:"launch",include_page_configuration:!0,entity_tokens:!1},request:r.withEndpoint($).fetchTVHomeMixerGraphQL})({actionTypes:re,context:"FETCH_TV_HOME_MIXER",meta:{}},(function(e){var t=[];if(e){var n=ie(e);t.push((0,ne.dP)({tv:{home:n}}))}return t}))}},ae=const ce=(0,U.Z)().propsFromState((function(){return{tvHome:ae}})).propsFromActions(().withAnalytics({element:"chat_client"});var le="tvHome",se="mediaGrid",ue=function(e){var t=e.fetchTVHomeMixerGraphQL,n=e.tvHome,o=r.useCallback((,[]);return f(le,{keyHandler:o}),(0,a.q)((),r.createElement(i.Z,{style:de.container,testID:"tv-home-container"},r.createElement(z,null,n&&n.length?r.createElement(N,{categories:n,name:se,parent:le}):null))},de=o.Z.create(();const me=ce(()},703655:235193:936386:]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web-legacy/bundle.TV.7d67cfba.js.map