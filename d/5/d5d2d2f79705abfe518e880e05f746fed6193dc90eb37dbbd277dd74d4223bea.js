!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"},(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[5571],{66176:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n=a(54138),r=a.n(n),s=a(54589),i=a.n(s),o=a(5754),l=a.n(o),c=a(68384),d=a(63583),u=a(2629),m=["checked","labelledBy","boxClassName","wrapperClassName"];let h=e=>{var t=e.checked,a=e.labelledBy,n=e.boxClassName,s=e.wrapperClassName,o=i()(e,m);return(0,u.jsxs)("div",{className:l()("SJR84",s),children:[(0,u.jsx)("input",r()({type:"checkbox","aria-labelledby":a,checked:t},o)),(0,u.jsx)("div",{className:l()("uNugm",n),children:t&&(0,u.jsx)(c.Z,{colors:{primary:d.paletteWhite},size:{height:12,width:12}})})]})}},38740:(e,t,a)=>{"use strict";a.d(t,{e:()=>n});var n=(0,a(95004).createContext)({hotkeyWrapper:null,isEnterAsSubmitDisabled:!1})},48341:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var n=a(54138),r=a.n(n),s=a(50209),i=a.n(s),o=a(9156),l=a(95004),c=a(93853),d=a(38740),u=a(2629);class m extends l.Component{constructor(){super(...arguments),i()(this,"state",{disableHotkeysForTextEntryOverrideCount:0,disableEnterAsSubmitOverrideCount:0}),i()(this,"isEnterAsSubmitDisabled",()=>{var e;return(null===(e=this.props.hotkeyDisablerForTextEntryContext)||void 0===e?void 0:e.isEnterAsSubmitDisabled)||!!this.state.disableEnterAsSubmitOverrideCount}),i()(this,"canModifyDisableCounter",(e,t)=>!(-1===e&&0===t)),i()(this,"disableParentControlOfHotkeys",e=>{var t=e?1:-1;this.setState(e=>({disableHotkeysForTextEntryOverrideCount:this.canModifyDisableCounter(t,e.disableHotkeysForTextEntryOverrideCount)?e.disableHotkeysForTextEntryOverrideCount+t:e.disableHotkeysForTextEntryOverrideCount}))}),i()(this,"disableEnterAsSubmit",e=>{var t=e?1:-1;this.setState(e=>({disableEnterAsSubmitOverrideCount:this.canModifyDisableCounter(t,e.disableEnterAsSubmitOverrideCount)?e.disableEnterAsSubmitOverrideCount+t:e.disableEnterAsSubmitOverrideCount}))}),i()(this,"getHotkeyWrapperMethods",,i()(this,"hotkeyWrapper",function(e){var t=e.disableParentControlOfHotkeys,a=e.disableEnterAsSubmit;return class extends l.Component{omponentWillUnmountomponentDidUpdate(e){!e.shouldRenderHotkeyComponent&&this.props.shouldRenderHotkeyComponent?this.setHotkeyOptionsOnWrapper():e.shouldRenderHotkeyComponent&&!this.props.shouldRenderHotkeyComponent&&this.setHotkeyOptionsOnWrapper({unsetValues:!0})}etHotkeyOptionsOnWrapper(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.unsetValues,r=this.props,s=r.shouldRenderHotkeyComponent,i=r.shouldDisableParentControlOfHotkeys,o=r.shouldDisableEnterAsSubmit;this.lastUnsetValues=!!n,(s||n)&&(i&&t(!n),o&&(null==a||a(!n)))}}}(this.getHotkeyWrapperMethods())),i()(this,"getContextValue",(0,o.Z)({maxSize:1}))}render(){var e=this.props,t=e.children,a=e.shouldRenderHotkeyBlocker,n=e.hotkeyDisablerForTextEntryContext,r=this.state.disableHotkeysForTextEntryOverrideCount;return null!=n&&n.hotkeyWrapper?t:(0,u.jsxs)(u.Fragment,{children:[a&&!r&&(0,u.jsx)(c.ZP,{disable:c.z9}),(0,u.jsx)(d.e.Provider,{value:this.getContextValue(!!r),children:t})]})}}class h extends l.Component{render(){return(0,u.jsx)(d.e.Consumer,{children:e=>(0,u.jsx)(m,r()(r()({},this.props),{},{ref:this.props.forwardedRef,hotkeyDisablerForTextEntryContext:e}))})}}let p=h},41595:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=(0,a(36343).q)("apple-logo");n.defaultProps={size:{width:23,height:24}};let r=n},44787:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=(0,a(36343).q)("google-logo");n.defaultProps={size:{width:23,height:24}};let r=n},2731:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=(0,a(36343).q)("plus");n.defaultProps={size:{width:16,height:16}};let r=n},69260:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(5754),r=a.n(n);let s={meter:"kdCBg",strengthIndicatorBar:"ygCDb",level0:"BtnTy",level1:"TZ37z",level2:"CwZaB",level3:"hTKX9",level4:"W3gv4",level5:"hXGzk",noScore:"NQOwh"};var i=a(2629);let o=function(e){var t=e.score,a=e.className,n=void 0===t;return(0,i.jsx)("div",{className:r()("kdCBg",a,{[s[`level${Math.max(Math.min(5,t||0),0)}`]]:!n,NQOwh:n}),children:[,,,,,].fill("").map(})}},43107:(e,t,a)=>{"use strict";a.d(t,{Z:()=>M});var n=a(54138),r=a.n(n),s=a(33970),i=a.n(s),o=a(54589),l=a.n(o),c=a(5754),d=a.n(c),u=a(95004),m=a(55673),h=a(36485),p=a(44009),g=(0,a(36343).q)("filter-alt");g.defaultProps={size:{width:24,height:24}};var b=a(99708),x=a(39191),v=a(25190),f=a(90127),j=a(43523),y=a(78667),w=a(68144),N=a(96467);let C={tabsNavArrowButton:"KO5EN",arrowLeft:"V7v4g",arrowRight:"TyF2z",hidden:"m2bR1"};var P=a(2629);function S(e){var t=e.scrollingEl,a=(0,y.bp)()._c,n=(0,u.useState)(!0),r=i()(n,2),s=r[0],o=r[1],l=(0,u.useState)(!0),c=i()(l,2),m=c[0],h=c[1],g=e=>{var a=t.scrollLeft+(e?t.clientWidth/2:-Math.abs(t.clientWidth/2));t.scrollTo({left:a})};return(0,u.useEffect)(()=>{function e(e){var a=t.clientWidth,n=t.children[0].clientWidth;o(e<=N.timelineTabHorizontalMarginPx),h(e>=n-a-N.timelineTabHorizontalMarginPx)}(t.scrollLeft),t.addEventListener("scroll",a);var n=new ResizeObserver(;return n.observe(t.children[0]),function(){null==t||t.children[0].removeEventListener("scroll",a),n.unobserve(t),n.disconnect()}},[t]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.Z,{onClick:()=>g(!1),wrapperClassName:d()(C.tabsNavArrowButton,C.arrowLeft,s&&C.hidden),"aria-label":a("Label for a button that scrolls left","Scroll left"),children:(0,P.jsx)(w.UX,{})}),(0,P.jsx)(p.Z,{onClick:()=>{g(!0)},wrapperClassName:d()(C.tabsNavArrowButton,C.arrowRight,m&&C.hidden),"aria-label":a("Label for a button that scrolls right","Scroll right"),children:(0,P.jsx)(w.jV,{})})]})}var k=a(28431),T=a(98384),Z=a(9557),D=a(54382),A=a(43684);let E={dropdownMenu:"rTGl_",dropdownMenuItem:"RSD75",dropdownTitleContainer:"WojaA",arrow:"hXMYF",isActive:"nNfe0"},F=function(e){var t,a=e.submenuElements,n=e.activeOption,s=e.getLinkProps,i=e.getButtonProps,o=e.wrapperClassName,l=e.isActiveClassName,c=!!a.includes(n),u=(0,P.jsx)("div",{className:E.dropdownMenu,children:a.map(e=>{if(s){var t=s(e);return(0,P.jsx)(k.Z,{linkTo:t.to,className:E.dropdownMenuItem,onClick:t.onClick,children:(0,P.jsx)("span",{"aria-label":t["aria-label"],children:t.children})},t.to)}return!!i&&(0,P.jsx)(k.Z,{children:(0,P.jsx)(p.Z,r()({},i(e)))},e)})});return(0,P.jsx)(Z.Z,{component:u,position:A.I2.BottomStart,width:200,height:"auto",usePortals:!0,children:(0,P.jsx)(p.Z,{wrapperClassName:d()(void 0===o?"wrapper":o,{[void 0===l?"active":l]:c}),className:E.timelineOptionInner,children:(0,P.jsxs)("span",{className:E.dropdownTitleContainer,children:[(0,P.jsx)("span",{className:E.titleContainerText,children:(t=a.find()?s?s(t).children:i(t).label:(0,P.jsx)(D.ZP,{children:"More"})}),(0,P.jsx)("span",{className:d()(E.arrow,{[E.isActive]:c}),children:(0,P.jsx)(T.$S,{})})]})})})},L={timelineHeader:"p4DiZ",reblogRedesignEnabled:"ani78",timelineHeaderNavInner:"WVvBo",timelineOptionsItemWrapper:"MNkkC",timelineHeaderNav:"JuP8X",timelineHeaderButtons:"Ojie7",configurableTabsHeader:"Wxvpx",timelineOptions:"uM3pd",timelineLoggedOut:"kjNtH",addBottomMargin:"ZHf8b",timelineChangeOption:"wl0Ka",timelineOptionInner:"OPOal",active:"sSq2h",timelineScrollable:"bZTy6",submenuWrapper:"vBp1h",loggedOutOptions:"DV0UQ",tabManagementLink:"vli36",sparkle:"P6ZvZ",hidden:"MR2LH"};var I=["activeOption","addBottomMargin","defaultActiveOption","getButtonProps","getLinkProps","hideOnDesktop","isConfigurableTabsHeader","isScrollingHeader","submenuOptions","timelineChangeOptionClassName","timelineOptions","timelineOptionsClassName"];let M=function(e){var t,a,n=e.activeOption,s=e.addBottomMargin,o=e.defaultActiveOption,c=e.getButtonProps,w=e.getLinkProps,N=e.hideOnDesktop,C=e.isConfigurableTabsHeader,k=void 0!==C&&C,T=e.isScrollingHeader,Z=void 0!==T&&T,D=e.submenuOptions,A=e.timelineChangeOptionClassName,E=e.timelineOptions,M=e.timelineOptionsClassName,B=l()(e,I),_=(0,v.v$)().isMobile,z=(0,y.bp)(),R=z._c,O=z.features,G=z.isLoggedIn,W=z.logEvent,V=!G&&_,U=(0,u.useState)(null),H=i()(U,2),Y=H[0],q=H[1],J=(0,u.useState)(!1),K=i()(J,2),$=K[0],X=K[1],Q=(0,u.useCallback)(e=>d()(L.timelineChangeOption,A,{[L.active]:e,[L.loggedOutOptions]:V}),[A]),ee=(0,u.useCallback)(e=>{q(e)},[]),et=null!==(t=(0,u.useRef)(),(0,u.useEffect)([n]),a=t.current)&&void 0!==a?a:o;(0,u.useEffect)(()=>{var e=E.indexOf(n),t=et&&E.indexOf(et);return W({eventName:j.J.DashboardTabScreenView,eventDetails:{screen_id:"DashboardTab",tab_position:e}}),void 0!==t&&t!=e&&W({eventName:j.J.TabbedDashboardTabChanged,eventDetails:{origin_tab_index:t,destination_tab_index:e,origin_tab_id:E[t],destination_tab_id:E[e]}}),()=>{W({eventName:j.J.DashboardTabScreenLeft,eventDetails:{screen_id:"DashboardTab",tab_position:e}})}},[n,k]);var ea=(0,u.useRef)(new Map),en=(e,t)=>{var a=ea.current;t?null==a||a.set(e,t):null==a||a.delete(e),e===n&&er(e),X(!0)},er=(0,u.useCallback)(e=>{if(Z){var t=ea.current,a=null==t?void 0:t.get(e);a&&Y&&((e,t)=>{var a=matchMedia("(prefers-reduced-motion: reduce)").matches?"instant":"smooth",n=e.offsetLeft-(t.clientWidth/2-e.clientWidth/2);t.scrollTo({left:n,behavior:a})})(a,Y)}},[n,E]);return(0,P.jsxs)("div",{className:d()(L.timelineHeader,{[L.addBottomMargin]:void 0!==s&&s,[L.hideOnDesktop]:void 0!==N&&N,[L.reblogRedesignEnabled]:O.reblogRedesignNew}),children:[(0,P.jsx)("div",{className:L.timelineHeaderNav,children:(0,P.jsx)("div",{className:d()(L.timelineHeaderNavInner,{[L.timelineScrollable]:Z}),ref:ee,children:(0,P.jsxs)("div",{className:d()(L.timelineOptions,M,{[L.timelineLoggedOut]:V}),children:[Z&&Y&&$?(0,P.jsx)(S,{scrollingEl:Y}):null,E.map(e=>{var t=Q(e===n),a={key:e},s=null==c?void 0:c(e);return w?Z?(0,P.jsx)("div",{className:d()(e===n&&L.active,L.timelineOptionsItemWrapper),ref:children:(0,P.jsx)(m.rU,r()(r()(r()({},a),w(e)),{},{className:t}))},e):(0,P.jsx)(m.rU,r()(r()(r()({},a),w(e)),{},{className:t})):(0,P.jsx)(p.Z,r()(r()(r()({},a),s),{},{wrapperClassName:t,className:L.timelineOptionInner,children:s.label}))}),D&&(0,P.jsx)("div",{className:d()(L.submenuWrapper,{[L.loggedOutOptions]:V}),children:(0,P.jsx)(F,r()({activeOption:n,submenuElements:D,isActiveClassName:L.active,wrapperClassName:L.timelineChangeOption},c?{getButtonProps:c}:{getLinkProps:w}),"submenu")})]})})}),!_&&B.viewsShown.length>0&&(0,P.jsx)("div",{className:L.timelineHeaderButtons,children:(0,P.jsx)(x.Z,r()({},B))}),k?(0,P.jsx)("div",{className:d()(L.timelineHeaderButtons,L.configurableTabsHeader),children:(0,P.jsx)("div",{className:L.tabManagementLink,children:(0,P.jsxs)(m.rU,{to:n?(0,h.S)(f.o_.tabManagement,{active:n}):f.o_.tabManagement,title:R("Button that opens Dashboard Tabs Configure screen","Configure Dashboard Tabs"),children:[(0,P.jsx)(g,{}),(0,P.jsx)("span",{className:d()(L.sparkle,L.hidden),children:(0,P.jsx)(b.Z,{})})]})})}):null]})}},96613:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(5754),r=a.n(n);let s={creditCardLogo:"nC4hC",text:"OEz91",logo:"NErP7",digits:"YhC7x",americanexpress:"kELje",discover:"cXWjm",mastercard:"s5cFj",visa:"ve6Vt"};var i=a(2629),o=["americanexpress","discover","mastercard","visa"];let l=e=>{var t=e.className,a=e.digits,n=e.name,l=n.toLowerCase().replace(/\s/g,""),c=o.includes(l);return(0,i.jsxs)("div",{className:r()(s.creditCardLogo,t),children:[(0,i.jsx)("div",{className:r()({[s.text]:!c,[s.logo]:c,[s[l]]:c}),"data-testid":"creditCardLogo",children:!c&&n}),!!a&&(0,i.jsx)("span",{className:s.digits,children:a})]})}},43369:(e,t,a)=>{"use strict";a.d(t,{Dy:()=>h,EG:()=>u,tL:()=>m});var n=a(17276),r=a.n(n),s=a(33590),i=a(91253),o=a(78667),l=a(94833),c=(0,i.i)(l.z.object({age:l.z.number(),born:l.z.number(),birthDate:l.z.string()}));function d(e){var t,a,n,s;return r()().async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r()().awrap(e("/v2/user/birth_date",c));case 2:return a=(t=i.sent.response).birthDate,n=t.born,s=t.age,i.abrupt("return",{birthDate:a,born:n,age:s});case 8:case"end":return i.stop()}},null,null,null,Promise)}var u=["user-birthday"];function m(e,t){return r()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",t.prefetchQuery({queryKey:u,queryFn:()=>{var t;return r()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r()().awrap(d(e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}},null,null,null,Promise)}}));case 1:case"end":return a.stop()}},null,null,null,Promise)}function h(){var e=(0,o.bp)().apiFetchWithSchema;return(0,s.a)({queryKey:u,queryFn:()=>{var t;return r()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r()().awrap(d(e));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}},null,null,null,Promise)},staleTime:1/0,refetchOnMount:!1})}},99233:(e,t,a)=>{"use strict";a.d(t,{P:()=>d,T:()=>c});var n=a(33970),r=a.n(n),s=a(17276),i=a.n(s),o=a(43369),l=a(838),c=e=>i()().async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.yY)(e.apiFetch).fetch().then();case 1:case"end":return t.stop()}},null,null,null,Promise),d=(e,t,a)=>{var n,s;return i()().async(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.tL)(e.apiFetchWithSchema,a),s=c(e),t.abrupt("return",Promise.allSettled([n,s]).then(e=>{var t=r()(e,2)[1];return"fulfilled"===t.status?t.value:{}}));case 3:case"end":return t.stop()}},null,null,null,Promise)}},88353:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SettingsPage:()=>iH,default:()=>iY,extraDataFetchConfig:()=>iq,extraDataPrefetchConfig:()=>iJ,settingsPages:);var n=a(54138),r=a.n(n),s=a(33970),i=a.n(s),o=a(5754),l=a.n(o),c=a(95004),d=a(78994),u=a(48810),m=a(52980),h=a(98724),p=a(30337),g=a(81844),b=a(43597),x=a(90127),v=a(32468),f=a(47211),j=a(78667),y=a(83932),w=a(58546),N=a(54589),C=a.n(N),P=a(2629),S=["children","className","as"];let k=e=>{var t=e.children,a=e.className,n=e.as,s=C()(e,S);return(0,P.jsx)(void 0===n?"h2":n,r()(r()({className:l()("mvtqT",a)},s),{},{children:t}))};var T=a(54382),Z=a(17276),D=a.n(Z),A=a(24425),E=a(41595),F=a(44787),L=a(18488),I=a(63583),M=a.n(I);let B=e=>{var t=e.authOption,a=e.disconnect,n=e.thirdPartyAuthEmail,r=e.label,s=t.providerId;return(0,P.jsxs)("div",{className:"pGaw3",children:[(0,P.jsxs)("div",{className:"A0pGQ",children:[(0,P.jsxs)("div",{className:"NVhYO",children:[s===V?(0,P.jsx)(F.Z,{}):(0,P.jsx)(E.Z,{})," ",(0,P.jsx)("div",{className:"W19cD",children:t.name})]}),(0,P.jsx)("div",{"data-testid":"email",className:"Gh6jR",children:n})]}),(0,P.jsx)(L.Z,{wrapperClassName:"hhA25",backgroundColor:M().paletteAccent,textColor:M().paletteNavy,disabledTheme:"default",disabledBackgroundColor:M().paletteGray13,disabledTextColor:M().paletteGray40,size:"small",label:r,onClick:a,type:"button",children:r})]},s)};var _=a(50213),z=a(23326),R=a(838),O=a(93613);let G=e=>{var t=e.dismissDialog,a=e.providerIdsToDisconnect,n=e.disconnectButtonText,r=e.dialogBody,s=e.dialogTile,i=(0,y.rV)(),o=i.extraData,l=i.setExtraData,c=(0,j.bp)(),d=c.apiFetch,u=c._t,m=(0,O.V)().toggleToast;if(!o)throw Error("Requesting ExtraDataAccountSettings is required");var h=[{text:(0,P.jsx)(T.ZP,{children:"Nevermind"}),onClick:t,buttonStyle:z.X.Neutral},{text:n||(0,P.jsx)(T.ZP,{children:"Disconnect"}),onClick:()=>{var e;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return e=[...o.thirdPartyAuthProviders],n.next=3,D()().awrap(Promise.all(a.map(a=>(0,R.sk)(d,{providerId:a}).fetch().then(()=>{e=e.filter(e=>e.providerId!==a),t(),m(u("Disconnected!"))}).catch()));case 3:l("thirdPartyAuthProviders",e);case 4:case"end":return n.stop()}},null,null,null,Promise)},buttonStyle:z.X.Cancel}];return(0,P.jsx)(_.Z,{onGlassClick:t,glassIsClickable:!1,children:(0,P.jsx)(z.O,{useWhiteContainerDesign:!0,title:s||u("Disconnect"),body:r||(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{children:"To make these changes, you'll need to disconnect from your login provider."})}),buttons:h})})},W=e=>{var t=e.dismissDialog,a=(0,y.rV)().extraData,n=(0,j.bp)(),r=n.apiFetch,s=n._t,i=(0,O.V)().toggleToast;if(!a)throw Error("Requesting ExtraDataAccountSettings is required");var o=[{text:(0,P.jsx)(T.ZP,{children:"Nevermind"}),onClick:t,buttonStyle:z.X.Neutral},{text:(0,P.jsx)(T.ZP,{children:"Send password reset"}),onClick:()=>D()().async(function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,D()().awrap((0,R.cx)(r,a.thirdPartyAuthEmail).fetch());case 3:i(s("Password reset email sent!"));case 4:case"end":return e.stop()}},null,null,null,Promise),buttonStyle:z.X.Confirm}];return(0,P.jsx)(_.Z,{onGlassClick:t,glassIsClickable:!1,children:(0,P.jsx)(z.O,{useWhiteContainerDesign:!0,title:s("Set your password"),body:(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{children:"To make these changes, you'll first need to set a password with a password reset link sent to your email."})}),buttons:o})})};var V=1,U={1:"Google",2:"Apple"};let H=()=>{var e,t,a=(0,j.bp)(),n=a._t,r=a.getUserInfo,s=(0,y.rV)().extraData,o=(0,c.useState)(!1),l=i()(o,2),d=l[0],u=l[1],m=(0,c.useState)(),h=i()(m,2),p=h[0],g=h[1],b=e=>()=>D()().async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D()().awrap(r());case 2:if(!t.sent.isPasswordless){t.next=7;break}return u(!0),t.abrupt("return");case 7:g(e);case 8:case"end":return t.stop()}},null,null,null,Promise);if(!s)throw Error("Requesting ExtraDataAccountSettings is required");if(!(null!==(e=s.thirdPartyAuthProviders)&&void 0!==e&&e.length))return null;var x=d&&(0,P.jsx)(W,{dismissDialog:()=>u(!1)}),v=null;if(p){var f=U[p];v=(0,P.jsx)(G,{dismissDialog:()=>g(void 0),providerIdsToDisconnect:[p],disconnectButtonText:(0,P.jsx)(T.ZP,{params:{provider:f},children:"Disconnect from [provider]"}),dialogTile:(0,P.jsx)(T.ZP,{params:{provider:f},children:"Disconnect your [provider] account?"}),dialogBody:(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{params:{provider:f},children:"You’ll no longer be able to use your [provider] account to log in to Tumblr."})})})}return(0,P.jsx)(A.Z,{label:n("Login Options"),isFocused:!1,anchorId:"login-options",children:(0,P.jsxs)("div",{className:"SYqpq",children:[x,v,null===(t=s.thirdPartyAuthProviders)||void 0===t?void 0:t.map(e=>(0,P.jsx)(B,{authOption:e,disconnect:b(e.providerId),thirdPartyAuthEmail:s.thirdPartyAuthEmail,label:n("Disconnect")},e.providerId))]})})};var Y=a(66589),q=a(43369),J=a(77865),K=a(14113),$=a(67023),X=a(84705),Q=a(6117);let ee=e=>{var t=e.day,a=e.month,n=e.year,r=e.minYear,s=e.maxYear,o=e.isYearLocked,d=e.onChange,u=e.className,m=(0,j.bp)(),h=m._c,p=m._getLocaleDateString,g=(0,c.useState)(31),b=i()(g,2),x=b[0],v=b[1],f=(e,t,a)=>{var n=new Date(a,e,t);return e===n.getMonth()};(0,c.useEffect)(()=>{if(void 0!==a&&n){var e=(0,X.N)(a+1,n);e!==x&&v(e)}},[a,n,x]),(0,c.useEffect)(()=>{void 0!==a&&n&&t&&!f(a,t,n)&&(null==d||d(n,a,void 0))},[a,n,t,d]);var y=h("Label for birthdate month dropdown in account settings","Month"),w=h("Label for birthdate day dropdown in account settings","Day"),N=h("Label for birthdate year dropdown in account settings","Year");return(0,P.jsxs)("div",{className:l()("GVV9C",u),children:[(0,P.jsx)("div",{className:"dtQUP",children:(0,P.jsxs)(K.Z,{"aria-label":y,onChange:e=>{var a=parseInt(e.target.value,10);null==d||d(n,a,t)},value:null!=a?a:"default",children:[(0,P.jsx)("option",{value:"default",disabled:!0,children:y},"month-placeholder"),Q.l.map((e,t)=>(0,P.jsx)("option",{value:t,children:p(new Date(Date.UTC(2e3,t)),$.C.MonthNameLong,!1)},e))]})}),(0,P.jsx)("div",{className:"BYWq2",children:(0,P.jsxs)(K.Z,{"aria-label":w,onChange:e=>{var t=parseInt(e.target.value,10);null==d||d(n,a,t)},value:null!=t?t:"default",children:[(0,P.jsx)("option",{value:"default",disabled:!0,children:w},"day-placeholder"),Array(x).fill(null).map((e,t)=>(0,P.jsx)("option",{value:t+1,children:t+1},`day-${t}`))]})}),(0,P.jsx)("div",{className:"TW1Nh",children:(0,P.jsxs)(K.Z,{"aria-label":N,onChange:e=>{var n=parseInt(e.target.value,10);null==d||d(n,a,t)},value:null!=n?n:"default",disabled:o,children:[(0,P.jsx)("option",{value:"default",disabled:!0,children:N},"year-placeholder"),(()=>{for(var e=[],t=r;t>=s;t--)e.push((0,P.jsx)("option",{value:t,children:t},`year-${t}`));return e})()]})})]})};var et=a(55466);let ea={inputRow:"E5a3Z",datePicker:"T9Tvl",saveButton:"W44Hp",dialogBirthdate:"cYtHj"},en=e=>{var t=e.birthdate,a=e.onConfirm,n=e.onCancel,r=(0,(0,j.bp)()._getLocaleDateString)(t,$.C.MonthDayYearLong,!1),s=[{text:(0,P.jsx)(T.ZP,{children:"Cancel"}),onClick:n,buttonStyle:z.X.Neutral},{text:(0,P.jsx)(T.ZP,{children:"Confirm"}),onClick:a,buttonStyle:z.X.Confirm}];return(0,P.jsx)(_.Z,{onGlassClic),glassIsClickable:!1,children:(0,P.jsx)(z.O,{useWhiteContainerDesign:!0,className:ea.confirmationModal,body:(0,P.jsx)(T.ZP,{comment:"Text for confirmation dialog, when user sets their birthdate on the account settings page. [birthdate] is the user's selected birthdate formatted according to the user's locale, e.g. 'May 2, 1995'.",components:{p:(0,P.jsx)("p",{}),birthdate:(0,P.jsx)("b",{className:ea.dialogBirthdate,children:r})},children:"[p]You are confirming that your birthday of [birthdate /] is accurate. If Tumblr determines at any point that this information is inaccurate, your account may be permanently closed.[/p] [p]You can only confirm your birthday once.[/p]"}),buttons:s})})},er=()=>{var e=(0,j.bp)(),t=e.apiFetch,a=e._c,n=(0,O.V)().toggleToast,s=(0,c.useState)(!1),o=i()(s,2),l=o[0],d=o[1],u=(0,J.NL)(),m=(0,q.Dy)(),h=m.isPending,p=m.data,g=null==p?void 0:p.born,b=(0,c.useState)(),x=i()(b,2),v=x[0],f=x[1],y=(0,c.useState)(),w=i()(y,2),N=w[0],C=w[1],S=(0,c.useState)(g||void 0),k=i()(S,2),Z=k[0],D=k[1],A=(0,c.useState)(),E=i()(A,2),F=E[0],I=E[1];if(h)return null;var B=new Date().getFullYear(),_=B-et.t,z=g?g-1:B-et.A,G=e=>{var s=e.toISOString().slice(0,10);d(!1),(0,R.fL)(t,s).fetch().then(()=>{n(a("Toast that appears when birthday is successfully saved in account settings page","Birthday saved! 🎁"),"success"),u.setQueryData(q.EG,e=>r()(r()({},e),{},{birthDate:s})),u.invalidateQueries({queryKey:q.EG,exact:!0})}).catch(()=>{n(a("Toast that appears when birthday could not be saved in account settings page","Oops, could not save your birthdate. Try again later?"),"error")})};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:ea.inputRow,children:[(0,P.jsx)(ee,{className:ea.datePicker,minYear:_,maxYear:z,onChange:(e,t,a)=>{if(D(e),f(t),C(a),void 0!==e&&void 0!==t&&void 0!==a){var n=new Date(Date.UTC(e,t,a));isNaN(n.getTime())||I(n)}},day:N,month:v,year:Z}),(0,P.jsx)(L.Z,{wrapperClassName:ea.saveButton,backgroundColor:M().paletteAccent,textColor:M().paletteNavy,disabledTheme:"default",disabledBackgroundColor:M().paletteGray13,disabledTextColor:M().paletteGray40,size:"small",isRounded:!0,disabled:!F,onC!0)},children:(0,P.jsx)(T.ZP,{comment:"Button for saving birthday in account settings page",children:"Save"})})]}),l&&F&&(0,P.jsx)(en,{birthdate:F,onConfirm:()=>G(F),onCancel:()=>d(!1)})]})};var es=a(36383),ei=e=>new Date(Date.UTC(parseInt(e.slice(0,4),10),parseInt(e.slice(5,7),10)-1,parseInt(e.slice(8,10),10)));let eo=e=>{var t=e.birthDate,a=(0,j.bp)()._getLocaleDateString,n=ei(t),r=(0,es.e)(t);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{className:ea.birthDate,children:a(n,$.C.MonthDayYearLong,!1)}),(0,P.jsx)(Y.Z,{children:0===r?(0,P.jsx)(T.ZP,{comment:"Text shown under your birthdate in the account settings page, when it's your birthday",children:"Hey, it's your birthday today! Happy birthday! \uD83C\uDF82 \uD83C\uDF89"}):(0,P.jsxs)(T.M2,{comment:"Text shown under your birthdate in the account settings page, when it's not your birthday",number:r,children:[(0,P.jsx)(T.CJ,{children:"It's your birthday tomorrow \uD83D\uDC40"}),(0,P.jsx)(T.CN,{children:"[number] days until your next birthday! \uD83C\uDF89"})]})})]})},el=()=>{var e=(0,q.Dy)(),t=e.isPending,a=e.data;if(t)return null;var n=null==a?void 0:a.birthDate,r=n&&n.match(/^\d{4}-\d{2}-\d{2}/),s="https://help.tumblr.com/hc/articles/360003018754";return(0,P.jsxs)(A.Z,{label:(0,P.jsx)(T.ZP,{comment:"Title for birthday section in account settings page",children:"Birthday"}),anchorId:"birthday",children:[r?(0,P.jsx)(eo,{birthDate:n}):(0,P.jsx)(er,{}),r?(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{comment:"Help text for birthday section in account settings page, when a birthdate is set",components:{helpLink:(0,P.jsx)("a",{href:s,target:"_blank"})},children:"Some content can only be viewed if you're old enough. We will never share your birthday with other users. You can't change your birthday after entering it. [helpLink]Help[/helpLink]"})}):(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{comment:"Help text for birthday section in account settings page, when full birthdate not set yet",components:{strong:(0,P.jsx)("strong",{}),helpLink:(0,P.jsx)("a",{href:s,target:"_blank"})},children:"Some content can only be viewed if you're old enough. We will never share your birthday with other users. [strong]You can't change your birthday after entering it.[/strong] [helpLink]Help[/helpLink]"})})]})};var ec=a(43523),ed=e=>{var t=e.onDismissDialog,a=(0,j.bp)(),n=a._c,r=a.logEvent,s=[{buttonStyle:z.X.Neutral,onCk})},text:(0,P.jsx)(T.ZP,{children:"Nevermind"})},{buttonStyle:z.X.Confirm,onClick:()=>{t(),r({eventName:ec.J.AccountDeleteDomainsWarningSupportClick}),window.open("https://www.tumblr.com/support","_blank")},text:(0,P.jsx)(T.ZP,{children:"Contact Tumblr Support"})}];return(0,P.jsx)(_.Z,{onGlassClick:t,glassIsClickable:!1,children:(0,P.jsx)(z.O,{useWhiteContainerDesign:!0,title:n("Title of a dialogue box that asks users to contact support if they want to delete an account with purchased domains","Please contact support"),body:(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Content of a dialogue box that asks users to contact support if they want to delete an account with purchased domains",children:"It appears that you have purchased a Tumblr domain from this account. Please contact support for available options to handle your domains before deleting your account."})}),buttons:s})})},eu=()=>{var e=(0,c.useState)(!1),t=i()(e,2),a=t[0],n=t[1],r=(0,c.useState)(!1),s=i()(r,2),o=s[0],l=s[1],d=(0,j.bp)(),u=d._t,m=d.getUserInfo;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(A.Z,{contentClassName:"OKxqZ",label:u("Delete account"),anchorId:"delete-account",children:(0,P.jsx)(L.Z,{backgroundColor:I.paletteRed,feature:!1,href:"/account/delete?redirect_to=/settings/account",onClick:e=>{var t,a,r;return D()().async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,D()().awrap(m());case 2:a=(t=s.sent).isPasswordless,r=t.hasDomains,a&&(n(!0),e.preventDefault()),r&&(l(!0),e.preventDefault());case 7:case"end":return s.stop()}},null,null,null,Promise)},textColor:I.paletteWhite,children:u("Delete account")})}),a&&(0,P.jsx)(W,{dismissDialog:()=>n(!1)}),o&&(0,P.jsx)(ed,{onDismissDialog:()=>l(!1)})]})},em=a(89952),eh=a(6135),ep=a(81192),eg=a(35381),eb=a(85795);let ex=e=>{var t=e.setBlurred,a=(0,y.rV)(),n=a.settings.email,r=a.set,s=(0,j.bp)(),o=s._t,l=s._c,d=s.apiFetch,u=s.getUserInfo,m=(0,c.useState)(!1),h=i()(m,2),p=h[0],g=h[1],b=(0,c.useState)(!1),x=i()(b,2),v=x[0],f=x[1],w=(0,c.useState)(n),N=i()(w,2),C=N[0],S=N[1],k=(0,c.useState)(),Z=i()(k,2),E=Z[0],F=Z[1],L=(0,c.useState)(""),M=i()(L,2),B=M[0],_=M[1],z=(0,c.useState)({emailAddress:!1,password:!1}),O=i()(z,2),V=O[0],U=O[1],H=(0,c.useState)(!1),Y=i()(H,2),q=Y[0],J=Y[1];(0,c.useEffect)(()=>S(n),[n]);var K=()=>{var e=!1,t={emailAddress:!1,password:!1};return 0!==C.length||t.emailAddress||(t.emailAddress=l("Account settings email address empty error message","You need to enter an email address"),e=!0),0!==B.length||t.password||(t.password=l("Account settings password empty error message when changing email address","You need to enter your password to change your email address"),e=!0),U(t),!e},$=()=>{g(!1),t(!1),S(n),_(""),U({emailAddress:!1,password:!1})},X=[{text:(0,P.jsx)(T.ZP,{children:"Cancel"}),label:o("Cancel changes"),onClick:$,buttonStyle:"cancel",disabled:v,type:"button"},{text:v?(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:I.paletteWhite}):(0,P.jsx)(T.ZP,{children:"Save"}),label:o("Save changes"),buttonStyle:"confirm",disabled:v,type:"submit"}];return(0,P.jsxs)(A.Z,{label:o("Email"),isFocused:p,anchorId:"email",children:[(0,P.jsx)(eg.Z,{controlled:!0,isOpen:p,onToggle:()=>{var e,a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D()().awrap(u());case 2:if(!n.sent.isPasswordless){n.next=7;break}return J(!0),n.abrupt("return");case 7:return n.next=9,D()().awrap((0,R.yY)(d).fetch());case 9:if(!((null===(e=(a=n.sent.response).thirdPartyAuthProviders)||void 0===e?void 0:e.length)>0)){n.next=14;break}return F(a.thirdPartyAuthProviders.map(e=>e.providerId)),n.abrupt("return");case 14:g(!0),t(!0);case 16:case"end":return n.stop()}},null,null,null,Promise)},label:{buttonLabel:o("Change your email address"),label:n},children:(0,P.jsxs)("form",{onSubmit:e=>{var a,n;return D()().async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),K()){s.next=3;break}return s.abrupt("return");case 3:return f(!0),s.prev=4,s.next=7,D()().awrap((0,eb.ZP)(d).changeEmailAddress(C,B).fetch());case 7:r("email",C),t(!1),g(!1),_(""),U({emailAddress:!1,password:!1}),s.next=23;break;case 14:if(s.prev=14,s.t0=s.catch(4),!((null===s.t0||void 0===s.t0?void 0:s.t0.status)===400&&(null===s.t0||void 0===s.t0||null===(a=s.t0.body)||void 0===a||null===(a=a.errors)||void 0===a?void 0:a.length)>0)||(n={emailAddress:!1,password:!1},s.t0.body.errors.map(e=>{(null==e?void 0:e.code)===1030||(null==e?void 0:e.code)===1029?n.password=e.detail:(null==e?void 0:e.code)===1028&&(n.emailAddress=e.detail)}),!(n.password||n.emailAddress))){s.next=22;break}return U(n),s.abrupt("return");case 22:$();case 23:return s.prev=23,f(!1),s.finish(23);case 26:case"end":return s.stop()}},null,null,[[4,14,23,26]],Promise)},children:[(0,P.jsx)(ep.Z,{value:C,onChange:e=>S(e.target.value),error:V.emailAddress,placeholder:o("Your email address"),"aria-label":o("Your email address")}),(0,P.jsx)(ep.Z,{value:B,onChange:e=>_(e.target.value),placeholder:o("Confirm password"),"aria-label":o("Confirm password"),type:"password",error:V.password}),(0,P.jsx)(em.Z,{buttons:X})]})}),q&&(0,P.jsx)(W,{dismissDialog:()=>J(!1)}),E&&(0,P.jsx)(G,{dismissDialog:()=>F(void 0),providerIdsToDisconnect:E})]})"})};var ef=a(44009);let ej=e=>{var t=e.onAdd,a=(0,j.bp)()._t,n=(0,c.useState)(""),r=i()(n,2),s=r[0],o=r[1];return(0,P.jsxs)("form",{className:"z3fHG",onSubmit:e=>{e.preventDefault(),o(""),t(s)},children:[(0,P.jsx)(ep.Z,{placeholder:a("Add a filter"),onChange:e=>{o(e.target.value)},value:s,className:"D9uaF"}),(0,P.jsx)(ef.Z,{type:"submit",wrapperClassName:"OY7m1",label:a("Add new filter"),children:a("Add")})]})},ey=e=>{var t=e.filter,a=e.onRemove,n=e.prefix,r=(0,j.bp)()._t;return(0,P.jsxs)("li",{className:"pRdpD",children:[(0,P.jsxs)("span",{className:"ApYbk",children:[n,t]}),(0,P.jsx)(ef.Z,{onC(t)},wrapperClassName:"WufiE",label:r("Remove filter"),children:(0,P.jsx)(T.ZP,{children:"Remove"})})]})};var ew=["filters"];let eN=e=>{var t=e.filters,a=C()(e,ew);return(0,P.jsx)("ul",{className:"QRLai",children:t.map(e=>(0,P.jsx)(ey,r()({filter:e},a),e))})},eC=e=>{var t=e.filters,a=e.prefix,n=e.onItemClick;return(0,P.jsx)("ul",{className:"oWAHi",children:t.map(e=>(0,P.jsx)("li",{className:"iAkIE",children:(0,P.jsxs)("button",{type:"button",onClick:n,children:[a,e]})},e))})},eP={headingWrapper:"PgBCo",heading:"Eo6XY",helpLink:"Y_7mh"},eS=function(e){var t=e.id,a=e.helpUrl,n=e.children;return(0,P.jsxs)("div",{className:eP.headingWrapper,id:t,children:[(0,P.jsx)("h4",{className:eP.heading,children:n}),a&&(0,P.jsx)(Y.Z,{className:eP.helpLink,children:(0,P.jsx)("a",{href:a,target:"_blank",children:(0,P.jsx)(T.ZP,{children:"Help"})})})]})},ek={wrapper:"sZGoV",topicListTitle:"vZnaF",ratingLabel:"BAUJo",ratingLabelRow:"iKrSi",lockIcon:"uEH8s"},eT=()=>{var e=(0,j.bp)()._t,t=(0,y.rV)(),a=t.settings.filteredContent,n=t.set;return(0,P.jsxs)("div",{className:ek.wrapper,children:[(0,P.jsx)(eS,{id:"filtered-post-content-heading",helpUrl:"https://tumblr.zendesk.com/hc/articles/360046752174",children:(0,P.jsx)(T.ZP,{children:"Filtered Post Content"})}),(0,P.jsxs)(eg.Z,{label:{buttonLabel:e("Edit filtered content"),label:0===a.length?(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{children:"You are not filtering any post content":e})},children:[(0,P.jsx)(ej,{onAdd:e=>{-1===a.indexOf(e)&&0!==e.length&&n("filteredContent",[...a,e])}}),(0,P.jsx)(eN,{filters:a,onRemove:e=>{-1!==a.indexOf(e)&&n("filteredContent",a.filter(t=>t!==e))}})]})]})};var eZ=a(19299),eD=a(25756),eA=a(32415);let eE=()=>{var e,t=(0,eA.Pc)().data,a=(0,y.rV)(),n=a.settings,r=a.toggle,s=(0,c.useState)(!1),o=i()(s,2),l=o[0],d=o[1],u=(0,c.useCallback)(()=>{r("hideSensitiveContent")(),d(!0)},[r,d]),m=!(null!=t&&t.isLoggedIn)||!(null!=t&&null!==(e=t.user)&&void 0!==e&&e.age),h=(null==t?void 0:t.isLoggedIn)&&!!t.user.age&&t.user.age<18;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ev,{}),(0,P.jsxs)("div",{className:ek.wrapper,children:[(0,P.jsx)(eD.Z,{onChange:u,label:(0,P.jsxs)(P.Fragment,{children:[(m||h)&&(0,P.jsx)(eZ.Z,{className:ek.lockIcon}),(0,P.jsx)(T.ZP,{comment:"A setting to hide possibly mature content",children:"Hide additional potentially mature content"})]}),id:"hide-sensitive-content-toggle",helpText:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(T.ZP,{children:"By default, we hide potentially mature content in the iOS app. Posts that use tags related to mature content will be hidden, and blogs marked mature will have a prompt before viewing."})," ",m&&(0,P.jsx)(T.ZP,{children:"Since we don't know your age, you cannot disable this."}),h&&(0,P.jsx)(T.ZP,{children:"Since you are under 18, you cannot disable this."})]}),checked:n.hideSensitiveContent,disabled:m||h}),l&&(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{children:"You'll need to restart the iOS app for the setting to take effect."})})]})]})};var eF=a(46819);let eL={wrapper:"cDRRt",label:"SZL9M",labelMain:"ZDM1B",labelDetail:"DYswf",inputWrapper:"QcqHC"},eI=e=>{var t=e.id,a=e.label,n=e.description,r=e.value,s=e.onChanue)},o=[{value:eF.Gl,label:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Label for Show column",children:"Show"})},{value:eF.aY,label:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Label for Blur column",children:"Blur"})},{value:eF.fj,label:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Label for Hide column",children:"Hide"})}];return(0,P.jsxs)("div",{role:"radiogroup","aria-labelledby":`${t}-label`,className:eL.wrapper,children:[(0,P.jsxs)("div",{className:eL.label,children:[(0,P.jsx)("div",{id:`${t}-label`,className:eL.labelMain,children:a}),n&&(0,P.jsx)("div",{className:eL.labelDetail,children:n})]}),o.map(e=>(0,P.jsxs)("div",{className:eL.inputWrapper,children:[(0,P.jsx)("label",{htmlFor:`${t}-${e.value}`,className:"screenReaderOnly",children:e.label}),(0,P.jsx)("input",{type:"radio",id:`${t}-${e.value}`,name:t,value:e.value,onChange:i,checked:r===e.value})]},e.value))]})},eM=()=>{var e,t=(0,j.bp)()._c,a=(0,y.rV)(),n=a.settings,s=a.set,i=(0,q.Dy)().data,o=(e,t)=>{s("communityLabelCategories",r()(r()({},n.communityLabelCategories),{},{[e]:t}),!0)},l=!(null!=i&&i.age),c=(null==i?void 0:i.age)&&i.age<18;return e=l?(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Text shown when user age unknown",children:"Since we don't know your age, posts with a Community Label are removed from your view across Tumblr."})}):c?(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Text shown when user is under 18",children:"Since you're under 18, posts with a Community Label are removed from your view across Tumblr."})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Description for section",children:"Control how you see certain topics across Tumblr"})}),(0,P.jsxs)("div",{className:ek.ratingLabelRow,children:[(0,P.jsx)("div",{className:ek.ratingLabel,children:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Label for Show column",children:"Show"})}),(0,P.jsx)("div",{className:ek.ratingLabel,children:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Label for Blur column",children:"Blur"})}),(0,P.jsx)("div",{className:ek.ratingLabel,children:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Label for Hide column",children:"Hide"})})]}),(0,P.jsx)(eI,{id:"communityLabelVisibilitySetting",label:t("Community labels settings: Label for mature content setting","Mature"),description:t("Community labels settings: Description for mature content setting","Contains content that may not be suitable for all audiences."),value:n.communityLabelVisibilitySetting||"warn",onChange:e=>{s("communityLabelVisibilitySetting",e,!0)}}),(0,P.jsx)("p",{className:ek.topicListTitle,children:(0,P.jsx)(T.ZP,{comment:"Community labels settings: Heading for topic list",children:"Customize per topic"})}),(0,P.jsx)(eI,{id:"drugUse",label:t("Community labels settings: Label for drug use topic","Drug and alcohol addiction"),description:t("Community labels settings: Description for drug use topic","Contains discussion of substance abuse or addiction experience."),value:n.communityLabelCategories.drugUse,onChange:e=>o("drugUse",e)}),(0,P.jsx)(eI,{id:"violence",label:t("Community labels settings: Label for violence topic","Violence"),description:t("Community labels settings: Description for violence topic","Contains violent or graphic content similar to what you might see in an age-restricted movie."),value:n.communityLabelCategories.violence,onChange:e=>o("violence",e)}),(0,P.jsx)(eI,{id:"sexualThemes",label:t("Community labels settings: Label for sexual themes topic","Sexual themes"),description:t("Community labels settings: Description for sexual themes topic","Contains sexually suggestive subject matter, such as erotic writing or imagery."),value:n.communityLabelCategories.sexualThemes,onCh",e)})]}),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ev,{}),(0,P.jsxs)("div",{className:ek.wrapper,children:[(0,P.jsx)(eS,{id:"filtered-ratings-heading",helpUrl:eF.OR,children:(0,P.jsx)(T.ZP,{children:"Community labels"})}),e]})]})},eB=()=>{var e=(0,j.bp)()._t,t=(0,y.rV)(),a=t.settings.filteredTags,n=t.set;return(0,P.jsxs)("div",{className:ek.wrapper,children:[(0,P.jsx)(eS,{id:"filtered-tags-heading",helpUrl:"https://tumblr.zendesk.com/hc/articles/360046752174",children:(0,P.jsx)(T.ZP,{children:"Filtered Tags"})}),(0,P.jsxs)(eg.Z,{label:{buttonLabel:e("Edit filtered tags"),label:0===a.length?(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{children:"You are not filtering any tags"})}):e=>(0,P.jsx)(eC,{filters:a,prefix:"#",onItemClick:e})},children:[(0,P.jsx)(ej,{onAdd:e=>{-1===a.indexOf(e)&&0!==e.length&&n("filteredTags",[...a,e])}}),(0,P.jsx)(eN,{filters:a,onRemove:e=>{-1!==a.indexOf(e)&&n("filteredTags",a.filter(t=>t!==e))},prefix:"#","aria-labelledby":"filtered-tags-heading"})]})]})},e_=()=>{var e=(0,j.bp)(),t=e._t,a=e.features.safeModeToggle;return(0,P.jsxs)(A.Z,{label:t("Content you see"),anchorId:"filters",children:[(0,P.jsx)(Y.Z,{children:t("Control what you see across Tumblr. To see changes, refresh the page, or restart Tumblr on your devices.")}),(0,P.jsx)(ev,{}),(0,P.jsx)(eB,{}),(0,P.jsx)(eT,{}),(0,P.jsx)(eM,{}),a&&(0,P.jsx)(eE,{})]})};var ez=a(24085);let eR=()=>{var e=(0,y.rV)(),t=e.settings.language,a=e.set;return(0,P.jsx)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Language"}),anchorId:"language",children:(0,P.jsx)(K.Z,{onChange:e=>a("language",e.target.value,!0),value:t,children:Object.entries(ez.zX).map(e=>{var a=i()(e,2),n=a[0],r=a[1];return(0,P.jsx)("option",{value:n,"aria-selected":n===t,children:r.localizedName},n)})})})};var eO=a(48341),eG=a(69260),eW=a(42914),eV=a(86033);let eU=e=>{var t=e.setBlurred,a={currentPassword:!1,newPassword:!1,confirmedPassword:!1},n=(0,j.bp)(),r=n.apiFetch,s=n._t,o=n.getUserInfo,l=(0,O.V)().toggleToast,d=(0,c.useState)(!1),u=i()(d,2),m=u[0],h=u[1],p=(0,c.useState)(!1),g=i()(p,2),b=g[0],x=g[1],v=(0,c.useState)(a),f=i()(v,2),y=f[0],w=f[1],N=(0,c.useState)(!1),C=i()(N,2),S=C[0],k=C[1],Z=(0,c.useState)(""),E=i()(Z,2),F=E[0],L=E[1],M=(0,c.useState)(""),B=i()(M,2),_=B[0],z=B[1],G=(0,c.useState)(""),V=i()(G,2),U=V[0],H=V[1],Y=(0,c.useState)(0),q=i()(Y,2),J=q[0],K=q[1],$=()=>{var e=!1,t={currentPassword:!1,newPassword:!1,confirmedPassword:!1};return F.length||(e=!0,t.currentPassword=s("Password is empty.")),_.length||(e=!0,t.newPassword=s("Password is empty.")),_.length&&_!==U&&(e=!0,t.confirmedPassword=s("Passwords don't match.")),w(t),e},X=()=>{K(void 0),z(""),L(""),H(""),w(a)},Q=()=>{X(),h(!1),t(!1)},ee=(e,t)=>a=>{e(a.target.valu!1}))};(0,c.useEffect)(()=>{var e=()=>_.length?(0,eV.Z)((0,R.Vs)(r,{password:_}).fetch().then(e=>{K(e.response.score)}).catch(()=>K(void 0))):(K(void 0),(0,eV.Z)(Promise.resolve())),t=void 0,a=(0,ee()},250);return a(),()=>{var e;a.cancel(),null===(e=t)||void 0===e||e.cancel()}},[_]);var et=[{text:(0,P.jsx)(T.ZP,{children:"Cancel"}),label:s("Cancel"),onC!1)},buttonStyle:"cancel",disabled:b,type:"button"},{text:b?(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:I.paletteWhite}):(0,P.jsx)(T.ZP,{children:"Change password"}),label:s("Change password"),buttonStyle:"confirm",disabled:b,type:"submit"}];return(0,P.jsxs)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Password"}),isFocused:m,anchorId:"password",children:[(0,P.jsx)(eg.Z,{controlled:!0,isOpen:m,onToggle:()=>D()().async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()().awrap(o());case 2:if(!e.sent.isPasswordless){e.next=7;break}return k(!0),e.abrupt("return");case 7:h(!0),t(!0);case 9:case"end":return e.stop()}},null,null,null,Promise),label:{buttonLabel:s("Change your password"),label:"••••••••••"},children:(0,P.jsx)("form",{method:"post",onSubmit:e=>{var t,a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!$()){n.next=3;break}return n.abrupt("return");case 3:return x(!0),n.prev=4,n.next=7,D()().awrap((0,eb.ZP)(r).changePassword(F,_).fetch());case 7:l(s("Password changed successfully!"),"success"),n.next=19;break;case 10:if(n.prev=10,n.t0=n.catch(4),!(400===n.t0.status&&(null===n.t0||void 0===n.t0||null===(t=n.t0.body)||void 0===t||null===(t=t.errors)||void 0===t?void 0:t.length)>0)||(a={currentPassword:!1,newPassword:!1,confirmedPassword:!1},n.t0.body.errors.map(e=>{a.currentPassword||(null==e?void 0:e.code)!==1030?a.newPassword||(null==e?void 0:e.code)!==1029||(a.newPassword=e.detail):a.currentPassword=e.detail}),!(a.currentPassword||a.newPassword))){n.next=19;break}return w(a),x(!1),n.abrupt("return");case 19:Q(),x(!1);case 21:case"end":return n.stop()}},null,null,[[4,10]],Promise)},children:(0,P.jsxs)(eO.Z,{shouldRenderHotkeyBlocker:m,children:[(0,P.jsx)(ep.Z,{name:"current-password",placeholder:s("Current password"),type:"password",value:F,onChange:ee(L,"currentPassword"),error:y.currentPassword}),(0,P.jsx)(ep.Z,{name:"new-password",placeholder:s("New password"),type:"password",value:_,onChange:ee(z,"newPassword"),suffix:(0,P.jsx)(eG.Z,{score:J,className:"yHeHp"}),error:y.newPassword}),(0,P.jsx)(ep.Z,{name:"confirm-password",placeholder:s("Confirm new password"),type:"password",value:U,onChange:ee(H,"confirmedPassword"),error:y.confirmedPassword}),(0,P.jsx)(em.Z,{buttons:et})]})})}),S&&(0,P.jsx)(W,{dismissDialog:()=>k(!1)})]})},eH=e=>{var t=e.onStart,a=e.onEnd,n=e.onCancel,r=e.confirmLabel,s=e.cancelLabel,o=e.className,l=e.inputPlaceholder,d=e.label,u=e.confirmStyle,m=e.cancelStyle,h=(0,j.bp)(),p=h._t,g=h.apiFetch,b=(0,c.useState)(!1),x=i()(b,2),v=x[0],f=x[1],y=(0,c.useState)(""),w=i()(y,2),N=w[0],C=w[1],S=(0,c.useState)(""),k=i()(S,2),T=k[0],Z=k[1],A=[{tex,onClick:()=>{C(""),n()},buttonStyle:void 0===m?"cancel":m,disabled:v},{text:v?(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:M().paletteWhite}):r||p("Check password"),disabled:v||0===N.length,onClick:()=>{var e,n;return D()().async(function(r){for(;;)switch(r.prev=r.next){case 0:return null==t||t(),f(!0),r.prev=2,r.next=5,D()().awrap(g("/v2/password/confirm",{method:"POST",body:{password:N}}));case 5:a(!0,N),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(2),(null===r.t0||void 0===r.t0?void 0:r.t0.status)===400&&(null===r.t0||void 0===r.t0||null===(e=r.t0.body)||void 0===e||null===(e=e.errors[0])||void 0===e?void 0:e.code)===1030&&Z(null===r.t0||void 0===r.t0||null===(n=r.t0.body)||void 0===n||null===(n=n.errors[0])||void 0===n?void 0:n.detail),a(!1,N);case 12:return r.prev=12,C(""),f(!1),r.finish(12);case 16:case"end":return r.stop()}},null,null,[[2,8,12,16]],Promise)},buttonStyle:void 0===u?"confirm":u}];return(0,P.jsxs)("div",{className:o,children:[d,(0,P.jsx)(ep.Z,{"aria-label":p("Account password"),placeholder:l||p("Account password"),type:"password",autoComplete:"cunge:e=>C(e.target.value),value:N,error:T}),(0,P.jsx)(em.Z,{buttons:A})]})};var eY=a(94133);let eq={confirmPassword:"Mx5PA",barCodeForm:"c9).then(a.bind(a,90536)));let eK=e=>{var t=e.onCancel,a=e.onConfirmed,n=e.password,r=(0,j.bp)(),s=r._t,o=r.apiFetch,l=(0,c.useState)(!1),d=i()(l,2),u=d[0],m=d[1],h=(0,c.useState)(null),p=i()(h,2),g=p[0],b=p[1],x=(0,c.useState)(""),v=i()(x,2),f=v[0],y=v[1],w=(0,c.useState)(!1),N=i()(w,2),C=N[0],S=N[1],k=(0,O.V)().toggleToast;(0,c.useEffect)(()=>{(()=>{var e,a,r;return D()().async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,D()().awrap(o("/v2/user/tfa/totp/start",{method:"POST",body:{password:n}}));case 3:null!=(a=s.sent)&&null!==(e=a.response)&&void 0!==e&&e.totpQrcode&&b(a.response.totpQrarCodeAt(0)+13)?e:e-26)})),s.next=11;break;case 7:s.prev=7,s.t0=s.catch(0),k(null===s.t0||void 0===s.t0||null===(r=s.t0.body)||void 0===r||null===(r=r.errors[0])||void 0===r?void 0:r.detail,"error","totp-error"),t();case 11:case"end":return s.stop()}},null,null,[[0,7]],Promise)})()},[]);var Z=[{text:(0,P.jsx)(T.ZP,{children:"Cancel"}),onClick:t,buttonStyle:"cancel",disabled:u,type:"button"},{text:u?(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal"}):(0,P.jsx)(T.ZP,{children:"Enable"}),disabled:u||6!==f.length,buttonStyle:"confirm",type:"submit"}],A=(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"vertical",color:M().paletteGray40});return(0,P.jsxs)("form",{className:eq.barCodeForm,onSubmit:e=>{var t;return D()().async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),!(6!==f.length)){r.next=3;break}return r.abrupt("return");case 3:return m(!0),r.prev=4,r.next=7,D()().awrap(o("/v2/user/tfa/totp/verify",{method:"POST",body:{password:n,token:f}}));case 7:a(),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(4),S(null===r.t0||void 0===r.t0||null===(t=r.t0.body)||void 0===t||null===(t=t.errors[0])||void 0===t?void 0:t.detail);case 13:return r.prev=13,m(!1),r.finish(13);case 16:case"end":return r.stop()}},null,null,[[4,10,13,16]],Promise)},children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{children:"Use the authenticator app to scan the barcode below"})}),g?(0,P.jsx)(eY.Z,{fallback:A,children:(0,P.jsx)(eJ,{value:g,size:130})}):A]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Y.Z,{as:"label",htmlFor:"authenticator-code",children:(0,P.jsx)(T.ZP,{children:"Enter the code generated by the authenticator app"})}),(0,P.jsx)(ep.Z,{name:"code",placeholder:s("Enter 6-digit code"),value:f,onChange:e=>{y(e.target.value)},maxLength:6,minLength:6,id:"authenticator-code",error:C})]}),(0,P.jsx)(em.ZDisabling="disabling",e}(e$||{});let eX=e=>{var t=e.password,a=e.setBlurred,n=(0,y.rV)(),r=n.settings.tfaAuthenticatorEnabled,s=n.set,o=(0,j.bp)().apiFetch,l=(0,c.useState)(r?e$.Enabled:e$.Disabled),d=i()(l,2),u=d[0e$.Enabled:e$.Disable)=>{a(u===e$.Disabling)},[u,a]);var h=()=>{switch(u){case e$.Enabled:m(e$.Disabling);break;case e$.Disabled:m(e$.Enabling);break;case e$.Disabling:m(e$.Enabled);break;case e$.Enabling:m(e$.Disabled)}};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(eD.Z,{controlled:!0,checked:u!==e$.Disabled,label:(0,P.jsx)(T.ZP,{children:"Generate code via authenticator app"}),id:"use-authenticator-app-toggle",onChange:h}),u===e$.Enablingcel:()=>{m(e$.Disabled)},password:t,onConfirmed:()=>{s("tfaAuthenticatorEnabled",!0)}}),u===e$.Disabling&&(0,P.jsx)(eH,{className:eq.confirmPassword,label:(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{children:"If you disable the authenticator app, you will not be able to login without receiving the code via SMS."})}),onEnd:(e,t)=>D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,D()().awrap(o("/v2/user/tfa/totp/disable",{method:"POST",body:{password:t}}));case 5:s("tfaAuthenticatorEnabled",!1),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(2);case 10:case"end":return a.stop()}},null,null,[[2,8]],Promise),onCancel:h,confirmLabel:(0,P.jsx)(T.ZP,{children:"Disable"}),confirmStyle:"danger"})]})},eQ={labelWrapper:"AYoSP",notice:"xmfAZ",sent:"Rakgc",resendEmail:"T09uW"},e0=e=>{var t=e.isTwoFactorDisabled,a=(0,j.bp)().apiFetch,n=(0,eA.Pc)().data,r=(0,c.useState)(!1),s=i()(r,2),o=s[0],d=s[1],u=(0,c.useState)(!1),m=i()(u,2),h=m[0],p=m[1];return t?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(T.ZP,{components:{link:(0,P.jsx)("a",{href:"https://help.tumblr.com/hc/articles/226270148",target:"_blank"})},children:"Enabling two-factor authentication makes it extra difficult for anyone other than you to access your account. [link]Learn more[/link]."}),(null==n?void 0:n.isLoggedIn)&&!n.user.isEmailVerified&&!h&&(0,P.jsxs)("div",{className:l()(eQ.notice,{[eQ.sent]:o}),onAnimationEnd:()=>p(!0),children:[(0,P.jsx)(T.ZP,{children:"Please verify your email address first, check your inbox for the message we just sent."}),(0,P.jsx)(ef.Z,{onClick:()=>{d(!0),a("/v2/user/resend_verification_email",{method:"POST"})},wrapperClassName:eQ.resendEmail,children:(0,P.jsx)(T.ZP,{comment:"Button that resends the verification",children:"Resend"})})]})]}):null},e1=e=>{var t=e.tfaAuthenticatorEnabled,a=e.tfaSmsEnabled,n=e.isChecked,r=e.changeCheckbox,s=e.twoFactorEnabled,i=e.state,o=(0,eA.Pc)(),l=o.data,c=o.isPending||(null==l?void 0:l.isLoggedIn)&&!l.user.isEmailVerified;return(0,P.jsx)(eD.Z,{label:(0,P.jsxs)("div",{className:eQ.labelWrapper,children:[(0,P.jsx)("span",{children:(0,P.jsx)(T.ZP,{children:"Two-factor authentication"})}),(0,P.jsx)(Y.Z,{as:"small",children:(()=>{var e="";return a&&t?e=(0,P.jsx)(T.ZP,{children:"via SMS and authenticator app"}):a?e=(0,P.jsx)(T.ZP,{children:"via SMS"}):t&&(e=(0,P.jsx)(T.ZP,{children:"via authenticator app"})),e})()})]}),disabled:c,id:"two-factor-auth-toggle",checked:n,controlled:!0,onChange:r,helpText:(0,P.jsx)(e0,{isTwoFactorDisabled:!s&&"enabling"!==i})})};var e2=function(e){return e.AD="Andorra",e.AE="United Arab Emirates",e.AF="Afghanistan",e.AG="Antigua and Barbuda",e.AI="Anguilla",e.AL="Albania",e.AM="Armenia",e.AN="Netherlands Antilles",e.AO="Angola",e.AQ="Antarctica",e.AR="Argentina",e.AS="American Samoa",e.AT="Austria",e.AU="Australia",e.AW="Aruba",e.AX="Åland Islands",e.AZ="Azerbaijan",e.BA="Bosnia and Herzegovina",e.BB="Barbados",e.BD="Bangladesh",e.BE="Belgium",e.BF="Burkina Faso",e.BG="Bulgaria",e.BH="Bahrain",e.BI="Burundi",e.BJ="Benin",e.BL="Saint Barthélemy",e.BM="Bermuda",e.BN="Brunei Darussalam",e.BO="Bolivia",e.BR="Brazil",e.BS="Bahamas",e.BT="Bhutan",e.BV="Bouvet Island",e.BW="Botswana",e.BY="Belarus",e.BZ="Belize",e.CA="Canada",e.CC="Cocos Islands",e.CD="Democratic Republic of the Congo",e.CF="Central African Republic",e.CG="Republic of the Congo",e.CH="Switzerland",e.CI="Côte d'Ivoire",e.CK="Cook Islands",e.CL="Chile",e.CM="Cameroon",e.CN="China",e.CO="Colombia",e.CR="Costa Rica",e.CU="Cuba",e.CV="Cape Verde",e.CW="Curaçao",e.CX="Christmas Island",e.CY="Cyprus",e.CZ="Czechia",e.DE="Germany",e.DJ="Djibouti",e.DK="Denmark",e.DM="Dominica",e.DO="Dominican Republic",e.DZ="Algeria",e.EC="Ecuador",e.EE="Estonia",e.EG="Egypt",e.EH="Western Sahara",e.ER="Eritrea",e.ES="Spain",e.ET="Ethiopia",e.FI="Finland",e.FJ="Fiji",e.FK="Falkland Islands",e.FM="Micronesia",e.FO="Faroe Islands",e.FR="France",e.GA="Gabon",e.GB="United Kingdom",e.GD="Grenada",e.GE="Georgia",e.GF="French Guiana",e.GG="Guernsey",e.GH="Ghana",e.GI="Gibraltar",e.GL="Greenland",e.GM="Gambia",e.GN="Guinea",e.GP="Guadeloupe",e.GQ="Equatorial Guinea",e.GR="Greece",e.GS="South Georgia",e.GT="Guatemala",e.GU="Guam",e.GW="Guinea-Bissau",e.GY="Guyana",e.HK="Hong Kong",e.HM="Heard Island and McDonald Islands",e.HN="Honduras",e.HR="Croatia",e.HT="Haiti",e.HU="Hungary",e.ID="Indonesia",e.IE="Ireland",e.IL="Israel",e.IM="Isle Of Man",e.IN="India",e.IO="Indian Ocean",e.IQ="Iraq",e.IR="Iran",e.IS="Iceland",e.IT="Italy",e.JE="Jersey",e.JM="Jamaica",e.JO="Jordan",e.JP="Japan",e.KE="Kenya",e.KG="Kyrgyzstan",e.KH="Cambodia",e.KI="Kiribati",e.KM="Comoros",e.KN="Saint Kitts and Nevis",e.KP="North Korea",e.KR="South Korea",e.KW="Kuwait",e.KY="Cayman Islands",e.KZ="Kazakhstan",e.LA="Lao People's Democratic Republic",e.LB="Lebanon",e.LC="Saint Lucia",e.LI="Liechtenstein",e.LK="Sri Lanka",e.LR="Liberia",e.LS="Lesotho",e.LT="Lithuania",e.LU="Luxembourg",e.LV="Latvia",e.LY="Libyan Arab Jamahiriya",e.MA="Morocco",e.MC="Monaco",e.MD="Moldova",e.ME="Montenegro",e.MF="Saint Martin",e.MG="Madagascar",e.MH="Marshall Islands",e.MK="Macedonia",e.ML="Mali",e.MM="Myanmar",e.MN="Mongolia",e.MO="Macao",e.MP="Northern Mariana Islands",e.MQ="Martinique",e.MR="Mauritania",e.MS="Montserrat",e.MT="Malta",e.MU="Mauritius",e.MV="Maldives",e.MW="Malawi",e.MX="Mexico",e.MY="Malaysia",e.MZ="Mozambique",e.NA="Namibia",e.NC="New Caledonia",e.NE="Niger",e.NF="Norfolk Island",e.NG="Nigeria",e.NI="Nicaragua",e.NL="Netherlands",e.NO="Norway",e.NP="Nepal",e.NR="Nauru",e.NU="Niue",e.NZ="New Zealand",e.OM="Oman",e.PA="Panama",e.PE="Peru",e.PF="French Polynesia",e.PG="Papua New Guinea",e.PH="Philippines",e.PK="Pakistan",e.PL="Poland",e.PM="Saint Pierre and Miquelon",e.PN="Pitcairn Islands",e.PR="Puerto Rico",e.PS="Palestinian Territory",e.PT="Portugal",e.PW="Palau",e.PY="Paraguay",e.QA="Qatar",e.RE="Réunion",e.RO="Romania",e.RS="Serbia",e.RU="Russian Federation",e.RW="Rwanda",e.SA="Saudi Arabia",e.SB="Solomon Islands",e.SC="Seychelles",e.SD="Sudan",e.SE="Sweden",e.SG="Singapore",e.SH="Saint Helena",e.SI="Slovenia",e.SJ="Svalbard and Jan Mayen",e.SK="Slovakia",e.SL="Sierra Leone",e.SM="San Marino",e.SN="Senegal",e.SO="Somalia",e.SR="Suriname",e.SS="South Sudan",e.ST="São Tomé and Príncipe",e.SV="El Salvador",e.SY="Syrian Arab Republic",e.SZ="Swaziland",e.TC="Turks and Caicos Islands",e.TD="Chad",e.TF="French Southern Territories",e.TG="Togo",e.TH="Thailand",e.TI="Tibet",e.TJ="Tajikistan",e.TK="Tokelau",e.TL="Timor-Leste",e.TM="Turkmenistan",e.TN="Tunisia",e.TO="Tonga",e.TR="Turkey",e.TT="Trinidad and Tobago",e.TV="Tuvalu",e.TW="Taiwan",e.TZ="Tanzania",e.UA="Ukraine",e.UG="Uganda",e.UM="U.S. Territory",e.US="United States",e.UY="Uruguay",e.UZ="Uzbekistan",e.VA="Vatican City",e.VC="Saint Vincent",e.VE="Venezuela",e.VG="British Virgin Islands",e.VI="U.S. Virgin Islands",e.VN="Viet Nam",e.VU="Vanuatu",e.WF="Wallis and Futuna",e.WS="Samoa",e.XK="Kosovo",e.YE="Yemen",e.YT="Mayotte",e.ZA="South Africa",e.ZM="Zambia",e.ZW="Zimbabwe",e}({}),e3={[e2.AF]:"+93",[e2.AL]:"+355",[e2.AX]:"+358",[e2.DZ]:"+213",[e2.AS]:"+1 684",[e2.AD]:"+376",[e2.AO]:"+244",[e2.AI]:"+1 264",[e2.AQ]:"+672",[e2.AG]:"+1 268",[e2.AR]:"+54",[e2.AM]:"+374",[e2.AW]:"+297",[e2.AU]:"+61",[e2.AT]:"+43",[e2.AZ]:"+994",[e2.BS]:"+1 242",[e2.BH]:"+973",[e2.BD]:"+880",[e2.BB]:"+1 246",[e2.BY]:"+375",[e2.BE]:"+32",[e2.BZ]:"+501",[e2.BJ]:"+229",[e2.BM]:"+1 441",[e2.BT]:"+975",[e2.BV]:"+55",[e2.BO]:"+591",[e2.BA]:"+387",[e2.BW]:"+267",[e2.BR]:"+55",[e2.VG]:"+1 284",[e2.BN]:"+673",[e2.BG]:"+359",[e2.BF]:"+226",[e2.MM]:"+95",[e2.BI]:"+257",[e2.KH]:"+855",[e2.CM]:"+237",[e2.CA]:"+1",[e2.CV]:"+238",[e2.KY]:"+1 345",[e2.CF]:"+236",[e2.TD]:"+235",[e2.CL]:"+56",[e2.CN]:"+86",[e2.CX]:"+61",[e2.CC]:"+61",[e2.CO]:"+57",[e2.KM]:"+269",[e2.CK]:"+682",[e2.CR]:"+506",[e2.HR]:"+385",[e2.CU]:"+53",[e2.CW]:"+599",[e2.CY]:"+357",[e2.CZ]:"+420",[e2.CD]:"+243",[e2.DK]:"+45",[e2.DJ]:"+253",[e2.DM]:"+1 767",[e2.DO]:"+1 809",[e2.EC]:"+593",[e2.EG]:"+20",[e2.EH]:"+212",[e2.SV]:"+503",[e2.GQ]:"+240",[e2.ER]:"+291",[e2.EE]:"+372",[e2.ET]:"+251",[e2.FK]:"+500",[e2.FO]:"+298",[e2.FJ]:"+679",[e2.FI]:"+358",[e2.FR]:"+33",[e2.PF]:"+689",[e2.GA]:"+241",[e2.GM]:"+220",[e2.GE]:"+995",[e2.GF]:"+594",[e2.GG]:"+44",[e2.DE]:"+49",[e2.GH]:"+233",[e2.GI]:"+350",[e2.GR]:"+30",[e2.GS]:"+500",[e2.GL]:"+299",[e2.GD]:"+1 473",[e2.GU]:"+1 671",[e2.GT]:"+502",[e2.GN]:"+224",[e2.GP]:"+590",[e2.GW]:"+245",[e2.GY]:"+592",[e2.HT]:"+509",[e2.VA]:"+39",[e2.HN]:"+504",[e2.HK]:"+852",[e2.HM]:"+672",[e2.HU]:"+36",[e2.IS]:"+354",[e2.IN]:"+91",[e2.IO]:"+246",[e2.ID]:"+62",[e2.IR]:"+98",[e2.IQ]:"+964",[e2.IE]:"+353",[e2.IM]:"+44",[e2.IL]:"+972",[e2.IT]:"+39",[e2.JE]:"+44",[e2.CI]:"+225",[e2.JM]:"+1 876",[e2.JP]:"+81",[e2.JO]:"+962",[e2.KZ]:"+7",[e2.KE]:"+254",[e2.KI]:"+686",[e2.KW]:"+965",[e2.KG]:"+996",[e2.LA]:"+856",[e2.LV]:"+371",[e2.LB]:"+961",[e2.LS]:"+266",[e2.LR]:"+231",[e2.LY]:"+218",[e2.LI]:"+423",[e2.LT]:"+370",[e2.LU]:"+352",[e2.MO]:"+853",[e2.MK]:"+389",[e2.MG]:"+261",[e2.MW]:"+265",[e2.MY]:"+60",[e2.MV]:"+960",[e2.ML]:"+223",[e2.MT]:"+356",[e2.MH]:"+692",[e2.MR]:"+222",[e2.MU]:"+230",[e2.YT]:"+262",[e2.MX]:"+52",[e2.FM]:"+691",[e2.MD]:"+373",[e2.MC]:"+377",[e2.MN]:"+976",[e2.ME]:"+382",[e2.MS]:"+1 664",[e2.MA]:"+212",[e2.MZ]:"+258",[e2.NA]:"+264",[e2.NR]:"+674",[e2.NP]:"+977",[e2.NL]:"+31",[e2.AN]:"+599",[e2.NC]:"+687",[e2.NZ]:"+64",[e2.NI]:"+505",[e2.NE]:"+227",[e2.NG]:"+234",[e2.NU]:"+683",[e2.KP]:"+850",[e2.MP]:"+1 670",[e2.NO]:"+47",[e2.OM]:"+968",[e2.PK]:"+92",[e2.PW]:"+680",[e2.PA]:"+507",[e2.PG]:"+675",[e2.PY]:"+595",[e2.PE]:"+51",[e2.PH]:"+63",[e2.PN]:"+870",[e2.PL]:"+48",[e2.PT]:"+351",[e2.PR]:"+1",[e2.QA]:"+974",[e2.CG]:"+242",[e2.RO]:"+40",[e2.RU]:"+7",[e2.RW]:"+250",[e2.BL]:"+590",[e2.SH]:"+290",[e2.KN]:"+1 869",[e2.LC]:"+1 758",[e2.MF]:"+1 599",[e2.PM]:"+508",[e2.VC]:"+1 784",[e2.WS]:"+685",[e2.SM]:"+378",[e2.ST]:"+239",[e2.SA]:"+966",[e2.SN]:"+221",[e2.RS]:"+381",[e2.SC]:"+248",[e2.SL]:"+232",[e2.SG]:"+65",[e2.SK]:"+421",[e2.SI]:"+386",[e2.SB]:"+677",[e2.SO]:"+252",[e2.ZA]:"+27",[e2.KR]:"+82",[e2.ES]:"+34",[e2.LK]:"+94",[e2.SD]:"+249",[e2.SR]:"+597",[e2.SZ]:"+268",[e2.SE]:"+46",[e2.CH]:"+41",[e2.SY]:"+963",[e2.TW]:"+886",[e2.TJ]:"+992",[e2.TZ]:"+255",[e2.TH]:"+66",[e2.TL]:"+670",[e2.TG]:"+228",[e2.TK]:"+690",[e2.TO]:"+676",[e2.TT]:"+1 868",[e2.TN]:"+216",[e2.TR]:"+90",[e2.TM]:"+993",[e2.TC]:"+1 649",[e2.TV]:"+688",[e2.UG]:"+256",[e2.UA]:"+380",[e2.AE]:"+971",[e2.GB]:"+44",[e2.US]:"+1",[e2.UY]:"+598",[e2.VI]:"+1 340",[e2.UZ]:"+998",[e2.VU]:"+678",[e2.VE]:"+58",[e2.VN]:"+84",[e2.WF]:"+681",[e2.YE]:"+967",[e2.ZM]:"+260",[e2.ZW]:"+263",[e2.MQ]:"+596",[e2.NF]:"+672",[e2.PS]:"+970",[e2.RE]:"+262",[e2.SJ]:"+47",[e2.SS]:"+211",[e2.TF]:"+262",[e2.TI]:"+86",[e2.UM]:"+1",[e2.XK]:"+383"},e4=["AD","AF","AI","AL","AM","AR","AS","AT","AU","AZ","BA","BB","BD","BE","BG","BH","BM","BN","BO","BR","BT","BY","CA","CC","CH","CL","CN","CO","CR","CV","CX","CY","CZ","DE","DK","DO","DZ","EC","EE","EG","ES","ET","FI","FK","FM","FO","FR","GA","GB","GE","GF","GG","GI","GL","GP","GR","GS","GT","GU","GW","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IS","IT","JE","JM","JO","JP","KE","KG","KH","KR","KW","KY","KZ","LA","LB","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MG","MH","MK","MM","MN","MP","MQ","MT","MV","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","RE","RO","RS","RU","SA","SE","SG","SH","SI","SK","SM","SN","SV","SZ","TC","TD","TH","TJ","TM","TN","TR","TT","TW","UA","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","WF","WS","XK","YT","ZA","ZM"];let e5=e=>{var t=e.onCancel,a=e.onGetToken,n=e.password,r=(0,j.bp)(),s=r._t,o=r.apiFetch,l=(0,c.useState)(!1),d=i()(l,2),u=d[0],m=d[1],h=(0,c.useState)("US"),p=i()(h,2),g=p[0],b=p[1],x=(0,c.useState)(""),v=i()(x,2),f=v[0],y=v[1],w=(0,c.useState)(null),N=i()(w,2),C=N[0],S=N[1],k=[{text:(0,P.jsx)(T.ZP,{children:"Cancel"}),onClick:t,buttonStyle:"cancel",disabled:u,type:"button"},{text:u?(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:M().paletteWhite}):(0,P.jsx)(T.ZP,{children:"Enable"}),disabled:u||0===f.length,buttonStyle:"confirm",type:"submit"}],Z=Object.entries(e2).sort((e,t)=>{var a=i()(e,2),n=(a[0],a[1]),r=i()(t,2),s=(r[0],r[1]);return n.localeCompare(s)});return(0,P.jsxs)("form",{className:"c4pHa",onSubmit:e=>{var t,r,s,i;return D()().async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),0!==f.length){l.next=3;break}return l.abrupt("return");case 3:return m(!0),l.prev=4,l.next=7,D()().awrap(o("/v2/user/tfa/sms/start",{method:"POST",body:{country_code:e3[e2[g]],phone_no:f,password:n}}));case 7:a(null==(s=l.sent)||null===(t=s.response)||void 0===t?void 0:t.tfaFormKey,null==s||null===(r=s.response)||void 0===r?void 0:r.phoneNo),l.next=14;break;case 11:l.prev=11,l.t0=l.catch(4),S(null===l.t0||void 0===l.t0||null===(i=l.t0.body)||void 0===i||null===(i=i.errors[0])||void 0===i?void 0:i.detail);case 14:return l.prev=14,m(!1),l.finish(14);case 17:case"end":return l.stop()}},null,null,[[4,11,14,17]],Promise)},children:[(0,P.jsx)("select",{defaultValue:g,onChange:e=>{b(e.target.value)},className:"FuD76",children:Z.map(e=>{var t=i()(e,2),a=t[0],n=t[1];return(0,P.jsx)("option",{value:a,"aria-selected":a===g,children:n},a)})}),(0,P.jsx)(ep.Z,{name:"mobile_number",placeholder:s("Mobile Number"),value:f,onChange:e=>{y(e.target.value)},prefix:e3[e2[g]],error:C}),(0,P.jsx)(em.Z,{buttons:k})]})},e6=e=>{var t=e.token,a=e.onCancel,n=e.onConfirmed,r=e.password,s=(0,j.bp)(),o=s._t,l=s.apiFetch,d=(0,c.useState)(!1),u=i()(d,2),m=u[0],h=u[1],p=(0,c.useState)(""),g=i()(p,2),b=g[0],x=g[1],v=(0,c.useState)(!1),f=i()(v,2),y=f[0],w=f[1],N=[{text:(0,P.jsx)(T.ZP,{children:"Cancel"}),onClick:a,buttonStyle:"cancel",disabled:m,type:"button"},{text:m?(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:M().paletteWhite}):(0,P.jsx)(T.ZP,{children:"Enable"}),disabled:m||6!==b.length,buttonStyle:"confirm",type:"submit"}];return(0,P.jsxs)("form",{style:{marginBottom:50},onSubmit:e=>{var a;return D()().async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),!(6!==b.length)){s.next=3;break}return s.abrupt("return");case 3:return h(!0),s.prev=4,s.next=7,D()().awrap(l("/v2/user/tfa/sms/verify",{method:"POST",body:{form_key:t,token:b,password:r}}));case 7:n(),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(4),w(null===s.t0||void 0===s.t0||null===(a=s.t0.body)||void 0===a||null===(a=a.errors[0])||void 0===a?void 0:a.detail);case 13:return s.prev=13,h(!1),s.finish(13);case 16:case"end":return s.stop()}},null,null,[[4,10,13,16]],Promise)},children:[(0,P.jsx)(Y.Z,{as:"label",style:{marginBottom:20},children:"Confirm mobile number"}),(0,P.jsx)(ep.Z,{name:"code",placeholder:o("Enter 6-digit code"),value:b,onChange:e=>{x(e.target.value)},maxLength:6,minLength:6,error:y}),(0,P.jsx)(em.Z,{buttons:N})]})},e7={wrapper:"FPcze",confirmPassword:"Ww_QU"},e8=e=>{var t=e.password,a=e.setBlurred,n=(0,y.rV)(),r=n.settings,s=r.tfaSmsEnabled,o=r.tfaSmsPhoneNo,l=n.set,d=n.merge,u=(0,j.bp)().apiFetch,m=(0,c.useState)(null),h=i()(m,2),p=h[0],g=h[1],b=(0,c.useState)(s?"enabled":"disabled"),x=i()(b,(()=>{f(s?"enabled":"Effect)(()=>{a("disabling"===v)},[v]);var w=()=>{switch(v){case"enabled":f("disabling");break;case"disabled":f("enabling");break;case"disabling":f("enabled");break;case"enabling":f("disabled")}},N=()=>{f("disabled"),g(null),l("tfaSmsPhoneNo","")};return"confirm-token"===v&&p&&t?(0,P.jsx)(e6,{token:p,ormed:()=>{l("tfaSmsEnabled",!0)}}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(eD.Z,{controlled:!0,checked:"disabled"!==v,label:(0,P.jsxs)("div",{className:e7.wrapper,children:[(0,P.jsx)("span",{children:(0,P.jsx)(T.ZP,{children:"Send code via SMS"})}),"enabled"===v&&(0,P.jsxs)(Y.Z,{as:"span",children:["+",o]})]}),id:"send-code-via-sms-toggle",helpText:(0,P.jsx)(T.ZP,{children:"Standard messaging rates apply"}),onChange:w}),"enabling"===v&&(0,P.jsx)(e5,{onCancel:N,onGetToken:(e,t)=>{f("confirm-token"),g(e),l("tfaSmsPhoneNo",t)},password:t}),"disabling"===v&&(0,P.jsx)(eH,{className:e7.confirmPassword,label:(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{children:"Disable automatic SMS for Two-Factor Authentication"})}),onEnd:(e,t)=>D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,D()().awrap(u("/v2/user/tfa/sms/disable",{method:"POST",body:{password:t}}));case 5:d({tfaSmsEnabled:!1,tfaSmsPhoneNo:""}),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(2);case 10:case"end":return a.stop()}},null,null,[[2,8]],Promise),onCancel:w,confirmLabel:(0,P.jsx)(T.ZP,{children:"Disable"}),confirmStyle:"danger"})]})},e9={wrapper:"vffsM",helpText:"tdnMh",disabling:"SkFZP"},te=e=>{var t=e.unlocked,a=e.lock,n=e.unlock,r=e.password,s=e.setBlurred,o=(0,j.bp)(),d=o._t,u=o.apiFetch,m=(0,y.rV)(),h=m.settings,p=h.tfaAuthenticatorEnabled,g=h.tfaSmsEnabled,b=m.merge,x=g||p,v=(0,c.useState)("default"),f=i()(v,2),w=f[0],N=f[1],C=x||"enabling"===w,S=e=>D()().async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D()().awrap(u("/v2/user/tfa/disable",{method:"POST",body:{password:e}}));case 3:b({tfaSmsEnabled:!1,tfaAuthenticatorEnabled:!1,tfaSmsPhoneNo:""}),s(!1),N("default"),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},null,null,[[0,8]],Promise);return(0,P.jsxs)(eg.Z,{label:{buttonLabel:d("Change your two-factor authentication settings"),label:(0,P.jsx)(e1,{tfaSmsEnabled:g,tfaAuthenticatorEnabled:p,isChecked:C,changeCheckbox:e=>{x?(N(e.target.checked?"default":"disabling"),s(!e.target.checked)):(N(e.target.checked?"enabling":"default"),a())},twoFactorEnabled:x,state:w}),hideWhenEditing:!1,showEditButton:x},controlled:ggle:e=>N(e?"editing":"default"),contentClassName:e9.wrapper,aboveBlurWhenOpen:!1,children:["disabling"===w&&(0,P.jsx)(Y.Z,{className:e9.disabling,children:(0,P.jsx)(T.ZP,{children:"We strongly advise against this. Your account is far less likely to get compromised if you've enabled Two-Factor Authentication."})}),(!t||"disabling"===w)&&(0,P.jsx)(eH,{onEnd:(e,t)=>D()().async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return a(),r.abrupt("return");case 3:if("disabling"!==w){r.next=7;break}return r.next=6,D()().awrap(S(t));case 6:return r.abrupt("return");case 7:n(t);case 8:case"end":return r.stop()}},nCancel:()=>{N("default"),s(!1)},confirmLabel:"enabling"===w&&(0,P.jsx)(T.ZP,{children:"Enable"})||"disabling"===w&&(0,P.jsx)(T.ZP,{children:"Disable"}),confirmStyle:"danger",label:"disabling"===w&&(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{children:"But if you must, enter your password below:"})}),className:l()({[e9.disabling]:"disabling"===w})}),t&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(Y.Z,{className:e9.helpText,children:["Each time you log in, you'll receive a unique, single-use code via text or through an authenticator app—your choice."," ",(0,P.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tumblr.zendesk.com/hc/articles/226270148-Two-factor-authentication",children:"Learn more"})]}),(0,P.jsx)(e8,{password:r,setBlurred:s}),(0,P.jsx)(eX,{password:r,setBlurred:s})]})]})};var tt=a(36343),ta=a(55015),tn=(0,tt.q)("mobile");tn.defaultProps={size:ta.Z.desktop.reblogIconSize};let tr={wrapper:"FyNuo",lock:"QpFlt",otpWrapper:"AspDb",newPasswordButton:"HLnJd",otp:"d8HPJ"},ts=e=>{var t=e.unlocked,a=e.unlock,n=e.password,r=(0,j.bp)().apiFetch,s=(0,c.useState)(!1),o=i()(s,2),l=o[0],d=o[1],u=(0,c.useState)(null),m=i()(u,2),h=m[0],p=m[1],g=(0,c.useState)(!1),b=i()(g,2),x=b[0],v=b[1],f=e=>{var t,a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return v(!0),n.prev=1,n.next=4,D()().awrap(r("/v2/user/tfa/generate_otp",{method:"POST",body:{password:e}}));case 4:p(null==(a=n.sent)||null===(t=a.response)||void 0===t?void 0:t.otp),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(1);case 10:return n.prev=10,v(!1),n.finish(10);case 13:case"end":return n.stop()}},null,null,[[1,8,10,13]],Promise)},y=()=>D()().async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||!n)){e.next=3;break}return d(!0),e.abrupt("return");case 3:return e.next=5,D()().awrap(f(n));case 5:case"end":return e.stop()}},null,null,null,Promise);return(0,P.jsxs)("div",{className:tr.wrapper,children:[(0,P.jsx)("div",{className:tr.lock,children:(0,P.jsx)(tn,{size:{width:40,height:51},colors:{primary:M().paletteGray80}})}),(0,P.jsxs)("div",{className:tr.content,children:[l&&(0,P.jsx)(eH,{onEnd:(e,t)=>D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return a(t),d(!1),n.next=6,D()().awrap(f(t));case 6:case"end":return n.stop()}},null,null,null,Promise),onCancel:()=>{d(!1)}}),!l&&!h&&!x&&(0,P.jsx)(em.Z,{buttons:[{text:(0,P.jsx)(T.ZP,{children:"Generate app password"}),onClick:y,buttonStyle:"neutral"}]}),t&&(x||h)&&(0,P.jsxs)("div",{className:tr.otpWrapper,children:[x&&(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:M().transparentBlack75}),!x&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{className:tr.otp,children:h}),(0,P.jsx)(ef.Z,{type:"button",onClick:y,className:tr.newPasswordButton,children:(0,P.jsx)(T.ZP,{children:"New password"})})]})]}),(0,P.jsx)(Y.Z,{style:{marginTop:10},children:(0,P.jsx)(T.ZP,{children:"Some apps require a specific one-time-use password to access your Tumblr account. Get one here."})})]})]})};var ti=a(79153),to=["children"],tl=e=>{var t=e.target,a=e.title,n=e.bodyClassName,r=e.onClose,s=e.onMount,i=window.open("",void 0===t?"":t),o=null;return i&&(i.document.body.innerHTML="",n&&i.document.body.classList.add(n),o=i.document.createElement("div"),i.document.body.appendChild(o),Array.from(document.styleSheets).forEach(e=>{var t;if(e.href){var a=i.document.createElement("link");a.rel="stylesheet",a.href=e.href,i.document.head.appendChild(a)}else if((null==e||null===(t=e.cssRules)||void 0===t?void 0:t.length)>0){var n=i.document.createElement("style");Array.from(e.cssRules).forEach(e=>{n.appendChild(i.document.createTextNode(e.cssText))}),i.document.head.appendChild(n)}}),i.document.title=void 0===a?"":astener("beforeunload",()=>{r&&r()}),s&&s(i)),{externalWindow:i,containerElement:o}};let tc=e=>{var t=e.children,a=C()(e,to),n=(0,c.useState)(null),r=i()(n,2),s=r[0],o=r[1];return((0,c.useEffect)(()=>{var e=tl(a),t=e.externalWment),()=>null==t?void 0:t.close()},[]),s)?ti.createPortal(t,s):null},td=e=>{var t=e.backupCodes,a=e.onClose;return(0,P.jsx)(tc,{bodyClassName:"Iaw2_focus(),setTimeout(()=>{e.print()},500)},onClose:a,target:"TumblrBackupCodesPrintView",children:(0,P.jsxs)("div",{className:"lwRBs",children:[(0,P.jsx)("img",{src:"https://assets.tumblr.com/images/logo_page/1x/wordmark-black.png",srcSet:"https://assets.tumblr.com/images/logo_page/2x/wordmark-black@2x.png 2x",className:"K1HxJ",alt:"tumblr"}),(0,P.jsx)(Y.Z,{className:"CUUVy",children:(0,P.jsx)(T.ZP,{children:"Enter one of these backup codes when prompted for a two-factor authentication code. Keep in mind: Each code can only be used once. Learn more at https://tumblr.zendesk.com/hc/articles/226270148-Two-factor-authentication."})}),(0,P.jsx)("div",{className:"oqOHo",children:t.map(e=>(0,P.jsx)("span",{children:e},e))})]})})},tu={wrapper:"Jki5o",lock:"qmVlD",codeWrapper:"BVJcC",buttons:"UNRuR"},tm=e=>{var t=e.unlocked,a=e.unlock,n=e.lock,r=e.password,s=(0,c.useState)(!1),o=i()(s,2),l=o[0],d=o[1],u=(0,c.useState)(!1),m=i()(u,2),h=m[0],p=m[1],g=(0,c.useState)([]),b=i()(g,2),x=b[0],v=b[1],f=(0,c.useState)(!1),y=i()(f,2),w=y[0],N=y[1],C=(0,j.bp)().apiFetch,S=e=>{var t,a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return p(!0),n.prev=1,n.next=4,D()().awrap(C("/v2/user/tfa/generate_backup_codes",{method:"POST",body:{password:e}}));case 4:v(null==(a=n.sent)||null===(t=a.response)||void 0===t?void 0:t.backupCodes),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(1);case 10:return n.prev=10,p(!1),n.finish(10);case 13:case"end":return n.stop()}},null,null,[[1,8,10,13]],Promise)},k=()=>D()().async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||!r)){e.next=3;break}return d(!0),e.abrupt("return");case 3:return e.next=5,D()().awrap(S(r));case 5:case"end":return e.stop()}},null,null,null,Promise);return(0,P.jsxs)("div",{className:tu.wrapper,children:[(0,P.jsx)("div",{className:tu.lock,children:(0,P.jsx)(eZ.Z,{size:{width:40,height:51},colors:{primary:M().paletteGray80}})}),(0,P.jsxs)("div",{className:tu.content,children:[l&&!t&&(0,P.jsx)(eH,{onEnd:(e,t)=>D()().async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=4;break}return n(),d(!1),r.abrupt("return");case 4:return a(t),d(!1),r.next=8,D()().awrap(S(t));case 8:case"end":return r.stop()},Promise),onCancel:()=>{n(),d(!1)}}),!l&&(!t||0===x.length&&!h)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(em.Z,{buttons:[{text:(0,P.jsx)(T.ZP,{children:"Generate backup codes"}),onClick:k,buttonStyle:"neutral"}]}),(0,P.jsxs)(Y.Z,{style:{marginTop:10},children:[(0,P.jsx)(T.ZP,{children:"Sometimes you can't get to your phone for the two-factor authentication verification codes. Download backup codes for those times. Get them here."})," ",(0,P.jsx)("a",{href:"https://tumblr.zendesk.com/hc/articles/226270148-Two-factor-authentication",target:"_blank",rel:"noopener",children:(0,P.jsx)(T.ZP,{children:"Learn more"})}),"."]})]}),t&&(0!==x.length||h)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:=>(0,P.jsx)("span",{children:e},e)),h&&(0,P.jsx)(eh.Z,{centerOrientation:"horizontal",color:M().transparentBlack25})]}),(0,P.jsxs)(Y.Z,{style:{marginTop:10},children:[(0,P.jsx)(T.ZP,{children:"Enter one of these backup codes when prompted for a two-factor authentication code. Keep in mind: Each code can only be used once."})," ",(0,P.jsx)("a",{href:"https://tumblr.zendesk.com/hc/articles/226270148-Two-factor-authentication",target:"_blank",rel:"noopener",children:(0,P.jsx)(T.ZP,{children:"Learn more"})}),"."]}),!h&&(0,P.jsxs)("div",{className:tu.buttons,children:[w&&(0,P.jsx)(td,{backupCodes:x,onClose:()=>N(!1)}),(0,P.jsx)(em.Z,{buttons:[{text:(0,P.jsx)(T.ZP,{children:"Print Codes"}),onClick:()=>N(!0),buttonStyle:"confirm"},{text:(0,P.jsx)(T.ZP,{children:"Generate new"}),onClick:k,buttonStyle:"neutral"}]})]})]})]})]})},th=e=>{var t=e.setBlurred,a=(0,y.rV)(),n=a.settings,r=n.accountActivityEmails,s=n.tfaAuthenticatorEnabled,o=n.tfaSmsEnabled,l=a.set,d=(0,c.useStatei(h=u[1],p=e=>{h(e)},g=()=>{h(null)};return(0,P.jsxs)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Security"}),anchorId:"security",tActivityEmails",e.target.checked),label:(0,P.jsx)(T.ZP,{children:"Email me about account activity."}),id:"email-me-account-activity-toggle",helpText:(0,P.jsx)(T.ZP,{children:"You will receive an email when someone logs into your account or a new app is authorized."}),checked:r}),(0,P.jsx)(te,{unlocked:null!==m,unlock:p,lock:g,password:m,setBlurred:t}),(o||s)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ev,{}),(0,P.jsx)(ts,{unlocked:null!==m,unlock:p,lock:g,password:m}),(0,P.jsx)(tm,{unlocked:null!==m,lock:g,unlock:p,password:m})]})]})};var tp=a(46244),tg=a(33590),tb=a(91253),tx=a(90077),tv=a(94833),tf=tv.z.lazy(()=>(0,tb.i)(tv.z.object({sessions:tv.z.array(tv.z.object({id:tv.z.string(),parsedUa:tv.z.string(),parsedOs:tv.z.string().nullable(),location:tv.z.string().nullish(),clientIp:tv.z.string().nullable(),lastSeenText:tv.z.string(),lastSeenDate:tv.z.string()tion tj(){return["user-sessions"]}var ty=()=>{var e=(0,j.bp)().apiFetch,t=(0,J.NL)();return(0,tp.D)({mutationFn:t=>D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D()().awrap(e(`/v2/user/sessions/${t}`,{method:"DELETE"}));case 2:case"end":return a.stop()}},null,null,null,Promise),onMutate:e=>{var a,n,r;return D()().async(function(s){for(;;)switch(s.prev=s.next){case 0:a=tj(),yData(a))&&(r=n.filter(t=>t.id!==e),t.setQueryData(a,r));case 3:case"end":return s.stop()}},null,null,null,Promise)}})},tw=a(30420);let tN={row:"E1RbQ",current:"pEKDO"},tC=e=>{var t=e.session,a=e.current,n=e.onRemove;return(0,P.jsxs)("tr",{className:tN.row,children:[(0,P.jsxs)("td",{children:[(0,P.jsx)("strong",{children:t.parsedUa}),t.parsedOs&&(0,P.jsx)(Y.Z,{children:t.parsedOs})]}),(0,P.jsxs)("td",{children:[(0,P.jsx)("strong",{children:t.location}),t.clientIp&&(0,P.jsx)(Y.Z,{children:t.clientIp})]}),a&&(0,P.jsx)("td",{colSpan:2,className:tN.current,children:(0,P.jsx)("strong",{children:(0,P.jsx)(T.ZP,{children:"Current session"})})}),!a&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("td",{children:[(0,P.jsx)("strong",{children:t.lastSeenText}),t.lastSeenDate&&(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{params:{lastSeenDate:t.lastSeenDate},children:"on [lastSeenDate]"})})]}),(0,P.jsx)("td",{children:(0,P.jsx)(ef.Z,{onClick:()=>{n()},children:(0,P.jsx)(tw.Z,{colors:{primary:"gray"}})})})]})]})},tP={sessions:"Zj8Vp"},tS=()=>{var e=function(e){var t=(0,j.bp)().apiFetchWithSchema;return(0,tg.a)(r()({queryKey:tj(),queryFn:()=>{var e;return D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D()().awrap(t("/v2/user/sessions",tf));case 2:return e=a.sent.response,a.abrupt("return",e.sessions);case 5:case"end":return a.stop()}},null,null,null,Promise)},refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:6e5},void 0))}(),t=e.data,a=e.isPending,n=ty().mutate;return(0,P.jsxs)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Active Sessions"}),subLabel:(0,P.jsx)(T.ZP,{children:"Past 30 days"}),anchorId:"active-sessions",children:[a&&(0,P.jsx)(eh.Z,{centerOrientation:"horizontal",color:M().transparentBlack25}),!a&&(0,P.jsxs)("table",{className:tP.sessions,children:[(0,P.jsx)("thead",{children:(0,P.jsxs)("tr",{children:[(0,P.jsx)("th",{children:(0,P.jsx)(T.ZP,{children:"Browser"})}),(0,P.jsx)("th",{children:(0,P.jsx)(T.ZP,{children:"Location"})}),(0,P.jsx)("th",{colSpan:2,children:(0,P.jsx)(T.ZP,{children:"Last seen"})})]})}),(0,P.jsx)("tbody",{children:null==t?void 0:t.map((e,t)=>(0,P.jsx)(tC,{current:0===t,session:e,onRemove:()=>n(e.id)},e.id))})]})]})};var tk=a(99233),tT=a(97953),tZ=a(43906);let tD=()=>{var e=(0,j.bp)().features.tourGuide,t=(0,tZ.g)();return(0,P.jsxs)(A.Z,{label:"Tour guide",children:[!e&&(0,P.jsx)("h2",{children:"Tour Guide disabled"}),e&&(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[!t.shouldShowWelcomeMessage()&&(0,P.jsx)(L.Z,{onClick:t.newUserRegistered,textColor:I.paletteWhite,children:"Start tour guide"}),t.shouldShowWelcomeMessage()&&(0,P.jsx)(L.Z,{onClick:t.reset,theme:"border",children:"Reset tour guide"})]}),(0,P.jsx)("h3",{style:{fontWeight:"bold",marginBottom:"10px",fontSize:"18px"},children:"Tour guide state"}),(0,P.jsxs)("dl",{children:[(0,P.jsx)("dt",{style:{marginTop:"10px",fontWeight:"bold"},children:"Should show welcome message"}),(0,P.jsx)("dd",{children:t.shouldShowWelcomeMessage()?"Yes":"No"}),(0,P.jsx)("dt",{style:{marginTop:"10px",fontWeight:"bold"},children:"Should show reblogging discovered"}),(0,P.jsx)("dd",{children:t.shouldShowRebloggingDiscovered()?"Yes":"No"}),(0,P.jsx)("dt",{style:{marginTop:"10px",fontWeight:"bold"},children:"Should show own blog discovered"}),(0,P.jsx)("dd",{children:t.shouldShowOwnBlogDiscovered()?"Yes":"No"}),(0,P.jsx)("dt",{style:{marginTop:"10px",fontWeight:"bold"},children:"Should show reblog tooltip"}),(0,P.jsx)("dd",{children:t.shouldShowReblogTip(tT.nr)?"Yes":"No"}),(0,P.jsx)("dt",{style:{marginTop:"10px",fontWeight:"bold"},children:"Should show like tooltip"}),(0,P.jsx)("dd",{children:t.shouldShowLikeTip(tT.hW)?"Yes":"No"})]})]})]})},tA=a.p+"src/assets/images/apps/apps_mobile_ios_android-fd1115d6.png",tE=a.p+"src/assets/images/apps/apps_mobile_ios_android_2x-a86bff5d.png";var tF=a(19694),tL=a(94347),tI=a(22183);let tM={wrapper:"uRfDs",section:"KhLZS",sectionTitle:"GxAPl",appList:"HsNyj",appIcon:"lzoVN",appText:"hUABj",row:"XuSud",rowText:"RupCA",bold:"AbcYn",centered:"EC08m",promoFull:"hGBk1",promoFullImg:"wQxdE",promoFullText:"mQu8q",makeAnApp:"Sknd7"},tB=e=>{var t=e.app,a=(0,j.bp)(),n=a._c,r=a.wwwBaseUrl,s=n("Label of the button to edit one of your apps on the apps settings page. The placeholder is the name of the app.","Edit %1$s",[t.title]);return(0,P.jsxs)("div",{className:tM.row,children:[(0,P.jsx)("div",{className:tM.appIcon,children:(0,P.jsx)("img",{src:t.iconUrl,alt:n("alt text for the icon of an app listed in the apps settings page","app icon")})}),(0,P.jsxs)("div",{className:l()(tM.appText,tM.rowText),children:[(0,P.jsx)("div",{children:(0,P.jsx)("a",{className:tM.bold,href:t.url,target:"_blank",rel:"noopener noreferrer",children:t.title})}),(0,P.jsx)("div",{children:(0,P.jsx)(Y.Z,{children:t.description})})]}),(0,P.jsx)("div",{className:tM.appAction,children:(0,P.jsx)("a",{title:s,"aria-label":s,href:`${r}/oauth/edit/${t.id}`,target:"_blank",children:(0,P.jsx)(tI.Z,{size:{width:16,height:16},colors:{primary:M().paletteGray40}})})})]})};var t_=a(77095),tz=(e,t)=>e("/v2/oauth2/revoke",{method:"POST",body:{consumer_id:t}}),tR=a(399),tO=a(68782);let tG=e=>{var t=e.app,a=e.removeCallback,n=(0,j.bp)(),r=n.apiFetch,s=n._c,o=n._t,d=(0,c.useState)(!1),u=i()(d,2),m=u[0],h=u[1],p=(0,tp.D)({mutationFn:e=>tz(r,e)}),g=p.isPending,b=p.mutate,x=(0,O.V)().toggleToast,v=(0,c.useCallback)(()=>{b(t.id,{onSuccess:()=>{a&&a(t.id),h(!1)},onError:()=>{x((0,tO.U)((0,tR.Pr")}})},[t,a,b,x,o]),f=()=>{h(!1)},y=s("Label of the button to revoke an app's authorization on the apps settings page. The placeholder is the name of the app e.g. 'Tumblr for iOS'.","Remove %1$s",[t.title]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:tM.row,children:[(0,P.jsx)("div",{className:tM.appIcon,children:(0,P.jsx)("img",{src:t.iconUrl,alt:s("alt text for the icon of an app listed in the apps settings page","app icon")})}),(0,P.jsxs)("div",{className:l()(tM.appText,tM.rowText),children:[(0,P.jsx)("div",{children:(0,P.jsx)("a",{className:tM.bold,href:t.url,target:"_blank",rel:"noopener noreferer",children:t.title})}),(0,P.jsx)("div",{children:(0,P.jsx)(Y.Z,{children:t.description})})]}),(0,P.jsx)("div",{className:tM.centered,children:(0,P.jsx)(ef.Z,{onClick:()=>h(!0),label:y,title:y,children:(0,P.jsx)(t_.Z,{size:{width:16,height:16},colors:{primary:M().paletteGray40}})})})]}),m&&(0,P.jsx)(_.Z,{onGlassClick:f,glassIsClickable:!1,children:(0,P.jsx)(z.O,{title:s("Text of the dialog to confirm revoking an app's authorization from your account. The placeholder is the name of the app e.g. 'Tumblr for iOS'.","Are you sure you want to remove %1$s?",[t.title]),buttons:[{text:o("Nevermind"),onClick:f,buttonStyle:z.X.Neutral,disabled:g},{text:o("Remove"),onClick:v,buttonStyle:z.X.Cancel,disabled:g}]})})]})},tW=e=>{var t=e.children;return(0,P.jsxs)("div",{className:tM.row,children:[(0,P.jsx)("div",{className:tM.rowText,children:(0,P.jsx)(T.ZP,{comment:"Next to a button that links to the tumblr mobile app",components:{div:(0,P.jsx)("div",{className:tM.bold}),mutedText:(0,P.jsx)(Y.Z,{as:"div"})},children:"[div]Got another device?[/div][mutedText]Get Tumblr.[/mutedText]"})}),(0,P.jsx)("div",{children:t})]})};var tV=a(73113);let tU=e=>{var t=e.label,a=e.children;return(0,P.jsxs)("div",{className:tM.section,children:[(0,P.jsx)(tV.Z,{className:tM.sectionTitle,label:t}),(0,P.jsx)("div",{className:tM.appList,children:a})]})};var tH=a(34438),tY=a(50899),tq=a(66498),tJ=a(14544),tK=a(99693),t$={"en-us":"staff","de-de":"mitarbeiter","es-es":"equipo","fr-fr":"equipe","it-it":"lostaff","ja-jp":"nihongo","ko-kr":"hangulteam","nl-nl":"medewerkers","ru-ru":"komanda","pl-pl":"ekipa","pt-br":"equipebrasil","pt-pt":"equipaportugal","tr-tr":"ekip","zh-cn":"guanbo","zh-tw":"taiwanteam","zh-hk":"hongkong-team","id-id":"staf","hi-in":"saathi"};let tX=a.p+"src/assets/images/domains/logo-tumblr-domains-7ccf3e7f.svg";var tQ=(0,tt.q)("connect");tQ.defaultProps={size:{width:42,height:35}};var t0=(0,tt.q)("transfer");t0.defaultProps={size:{width:42,height:28}};var t1=a(452),t2=a(22365),t3=a(38255),t4=(0,tb.i)(tv.z.object({isDomainConnectable:tv.z.boolean(),checkoutUrl:tv.z.string().optional(),reason:tv.z.union([tv.z.literal("cname_already_mapped"),tv.z.literal("domain_already_mapped"),tv.z.literal("dns_records_incorrect")]).optional()})),t5=(e,t)=>{if(""===t)return e("Error message for when a domain name is empty","Please enter a domain name");var a=/(http(s)*:\/\/)/.exec(t);return a?e("Error message for when a domain name contains the protocol","Please remove %1$s from the input",[a[1]]):/^([a-z0-9-_]{1,63}\.)*[a-z0-9-]{1,63}\.[a-z]{2,63}$/i.test(t)?"":e("Error message for when a domain search term contains invalid characters","Please enter a valid domain name")},t6=a(26963),t7=(0,tb.i)(tv.z.object({price:tv.z.number()})),t8=()=>["domains","lowest-price"];function t9(){var e=(0,j.bp)().apiFetchWithSchema;return(0,tg.a)({queryKey:t8(),queryFn:()=>{var t;return D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D()().awrap(e("/v2/domains/lowest_price",t7,{method:"GET"}));case 2:return t=a.sent,a.abrupt("return",t.response.price);case 4:case"end":return a.stop()}},null,null,null,Promise)},refetchOnWindowFocus:!1,retry:!1})}var ae=a(88926),at=e=>{var t,a=e.onClick,n=(0,j.bp)()._getPriceInCurrency,r=t9(),s=r.data;return r.isFetched?(t=s?(0,P.jsx)(T.ZP,{comment:"CTA button for Domains upsell with lowest price",params:{price:(0,ae.T4)(s,t2.oX,n)},children:"Get a domain from [price]"}):(0,P.jsx)(T.ZP,{comment:"CTA button for Domains upsell",children:"Get a Tumblr Domain"}),(0,P.jsxs)("div",{className:"URjQf",children:[(0,P.jsx)("div",{className:"rndvp",children:(0,P.jsx)(T.ZP,{comment:"Title of the domain purchase banner",children:"Don't have a domain?"})}),(0,P.jsx)(L.Z,{href:x.o_.domainPurchase,isRounded:!0,onClick:a,className:"_Q3k0",children:t})]})):null},aa=a(2474),an=a(52533);let ar={pageWrapper:"gjuXg",header:"CilHp",newDesktopLayout:"SUVQv",link:"gnchz",linkIcon:"AvjnH",linkText:"IIoTe"};function as(e){var t=e.children,a=e.linkLabel,n=e.linkUrl,r=(0,j.bp)().features.redpopDesktopVerticalNav;return(0,P.jsxs)("div",{className:l()(ar.pageWrapper,{[ar.newDesktopLayout]:r}),children:[a&&n&&(0,P.jsx)("div",{className:ar.header,children:(0,P.jsxs)(an.Z,{to:n,wrapperClassName:ar.link,"data-automation-id":"back-button",children:[(0,P.jsx)(aa.Mq,{className:ar.linkIcon}),(0,P.jsx)("span",{className:ar.linkText,children:a})]})}),t]})}var ai=a(68144),ao=a(68384),al=a(53714),ac=e=>{var t=e.isLoading,a=e.isDisabled,n=e.onChange,r=e.options,s=r.find(e=>e.selected);if(!s)throw Error("An option must be selected");var o=(0,c.useState)(!1),l=i()(o,2),d=l[0],u=l[1],m=()=>u(!d),h=(0,P.jsx)(P.Fragment,{children:r.map(e=>(0,P.jsxs)("button",{classon",onClick:()=>{u(!1),n(e.value)},children:[(0,P.jsx)("div",{className:"bEt7W",children:e.value===s.value&&(0,P.jsx)(ao.Z,{})}),(0,P.jsx)("div",{className:"OChHA",children:e.label})]},e.value))});return(0,P.jsxs)("div",{className:"bn0_I",children:[(0,P.jsx)("button",{className:"lKO5E",disabled:a||t,"data-automation-id":"domain-search-form-submit",children:t?(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0}):s.label}),(0,P.jsx)(al.ZP,{isOpen:d,toggle:m,width:160,height:"auto",maxHeight:300,component:h,popoverWrapperClassName:"ph0LA",children:(0,P.jsx)("button",{type:"button",className:"fglrH",onClick:m,disabled:a||t,children:(0,P.jsx)(ai.nT,{colors:{primary:M().palettePurple}})})})]})};let ad={searchForm:"N81a2",searchFormCompanion:"a9Erb",searchFormInputWrapper:"Anewe",searchFormInput:"iDf49",wrapperButtons:"A4XtN",searchFormButton:"SGAyh"};function au(e){var t=e.autoComplete,a=e.value,n=e.onSubmit,r=e.onButtonChange,s=e.isDisabled,i=void 0!==s&&s,o=e.isLoading,l=void 0!==o&&o,d=e.isAutoFocused,u=e.companion,m=e.placeholder,h=e.submitButtonText,p=e.themeColor,g=void 0===p?M().paletp,b=e.validate,x=void 0===b?()=>"":b,v=e.buttons,f=(0,j.bp)()._c,y=(0,c.useRef)(null);return m=m||f("Domain search field placeholder","Enter a word or a phrase"),(0,P.jsxs)("form",{className:ad.searchForm,onSubmit:e=>{if(e.preventDefault(),y.current){var t=y.current.value.trim(),a=x(t);if(a){y.current.setCustomValidity(a),y.current.reportValidity();return}n(t)}},style:{"--theme-color":g},children:[(0,P.jsx)("div",{className:ad.searchFormCompanion,children:u}),(0,P.jsx)("div",{className:ad.searchFormInputWrapper,children:(0,P.jsx)("input",{"aria-label":m,autoFocus:void 0!==d&&d,className:ad.searchFormInput,"data-automation-id":"domain-search-form-input",defaultValue:void 0===a?"":a,disabrrentTarget.setCustomValidity("")},placeholder:m,ref:y,type:"search",autoComplete:t})}),(0,P.jsx)("div",{className:ad.wrapperButtons,children:v&&r?(0,P.jsx)(ac,{options:v,isDisabled:i,isLoading:l,onChange:r}):(0,P.jsx)("button",{className:ad.searchFormButton,disabled:i||l,"data-automation-id":"domain-search-form-submit",children:l?(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0}):h||(0,P.jsx)(T.ZP,{comment:"Label of the search button for getting domain suggestions",children:"Search"})})})]})}var am=a(55673),ah=a(97707);let ap={dnsSnippet:"DVFXW",errorDialogButtonWrapper:"TAIXM"};var ag=e=>{var t=e.label,a=e.handler;return{text:(0,P.jsx)(L.Z,{isRounded:!0,onClick:a,backgroundColor:M().paletteWhite,borderColor:M().paletteGray65,textColor:M().gray65,theme:"border",wrapperClassName:ap.errorDialogButtonWrapper,children:t},t.props.children),buttonStyle:z.X.Custom}},ab=e=>(0,P.jsx)(_.Z,{onGlassClick:e.handleClose,children:(0,P.jsx)(z.O,{buttons:e.buttons,title:e.title,useWhiteContainerDesign:!0,children:e.children})}),ax=e=>{var t=e.domainName,a=e.onClose,n=e.reason,r=(0,j.bp)().logEvent,s=(0,P.jsx)(T.ZP,{comment:"Title of a modal that appears when a domain cannot be connected",children:"This domain is already in use"}),i=(0,P.jsx)(T.ZP,{comment:"Title of a modal that appears when a domain cannot be connected",children:"You're almost there!"});(0,c.useEffect)(()=>{r({eventName:ec.J.DomainAddConnectFailed,eventDetails:{reason:n}})},[n,r]);var o=()=>{r({eventName:ec.J.DomainConnectRejectedDismissClick}),a()};return"domain_already_mapped"===n||"cname_already_mapped"===n?(0,P.jsx)(ab,{buttons:[ag({handler:o,label:t3.CN})],handleClose:o,title:s,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain cannot be connected",params:{domainName:t},components:{b:(0,P.jsx)("b",{})},children:"The domain [b][domainName][/b] is already in use on Tumblr. Please double-check if you entered the correct domain name."})}):"dns_records_incorrect"===n?(0,P.jsx)(ab,{buttons:[ag({handler:o,label:t3.CN})],handleClose:o,title:i,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain cannot be connected",params:{domainName:t},components:{b:(0,P.jsx)("b",{}),link:(0,P.jsx)(am.rU,{to:ah.J5,target:"_blank"}),pre:(0,P.jsx)("span",{className:ap.dnsSnippet})},children:"It looks like your domain [b][domainName][/b] is not pointing to Tumblr. Please ensure that the A record for your domain is pointing to Tumblr. [pre]A [domainName] 66.6.44.4[/pre] Try again in 30 minutes after adding the DNS record. Stuck? This [link]guide[/link] may help."})}):null};let av={domainAdd:"LC0hv",header:"HLJjf",headerLogo:"p2QQh",searchFormWrapper:"t9t4e",body:"ir4Co",loader:"o9MsY",subsectionWrapper:"VhEyf",subsection:"ePBeP",subsectionInner:"BvgBh",subsectionImage:"ZKElo",subsectionTitle:"tPt3V",subsectionText:"zwa0K",act:"MXFok"};var af=()=>{var e=(0,d.s0)(),t=(0,j.bp)(),a=t._c,n=t.apiFetchWithSchema,r=t.logEvent,s=(0,d.UO)().domainName,o=void 0===s?"":s,u=(0,t1.s3)(o),m=u.data,h=u.isFetching,p=(0,c.useState)(!1),g=i()(p,2),b=g[0],v=g[1],f=(0,c.useState)(),y=i()(f,2),w=y[0],N=y[1],C=(0,O.V)().toggleToast,S=(0,d.TH)().search,k=(0,t6.b)(S).action,Z=(0,c.useState)(k||"transfer"),D=i()(Z,2),A=D[0],E=D[1];(0,c.useEffect)(()=>{r({eventName:ec.J.DomainAddScreenView})},[r]);var F=e=>{r({eventName:ec.J.DomainAddConnectClick,eventDetails:{tld:e.split(".").pop()}}),v(!0),n(`/v2/domains/${e}/connect`,t4,{method:"GET"}).then(t=>{var a=t.response;if(a.isDomainConnectable&&a.checkoutUrl){window.location.assign(a.checkoutUrl);return}!a.isDomainConnectable&&a.reason?N({failureReason:a.reason,domainName:e}):C(t3.K7,"error"),v(!1)}).catch(()=>{v(!1),C(t3.K7,"error")})},L=e=>{"connect"===e?r({eventName:ec.J.DomainAddConnectBannerClick}):r({eventName:ec.J.DomainAddTransferBannerClick}),E(e)},I=[(0,P.jsxs)(ef.Z,{wrapperClassName:l()(av.subsection,{[av.act]:"transfer"===A}),className:av.subsectionInner,onClick:()=>L("transfer"),children:[(0,P.jsx)("div",{className:av.subsectionImage,children:(0,P.jsx)(t0,{colors:{primary:M().palettePurple}})}),(0,P.jsx)("div",{className:av.subsectionTitle,children:t3.a4}),(0,P.jsx)("div",{className:av.subsectionText,children:t3.W_})]},"section-transfer"),(0,P.jsxs)(ef.Z,{wrapperClassName:l()(av.subsection,{[av.act]:"connect"===A}),className:av.subsectionInner,onClick:()=>L("connect"),children:[(0,P.jsx)("div",{className:av.subsectionImage,children:(0,P.jsx)(tQ,{colors:{primary:M().palettePurple}})}),(0,P.jsx)("div",{className:av.subsectionTitle,children:t3.bV}),(0,P.jsx)("div",{className:av.subsectionText,children:null!=m&&m.connection.price&&(null==m?void 0:m.connection.price)!==(null==m?void 0:m.connection.renewalPrice)?(0,P.jsx)(t3.hQ,{firstYearPrice:m.connection.price}):(0,P.jsx)(t3.jb,{price:t2.eJ})})]},"section-connect")];return(0,P.jsx)(as,{linkLabel:a("Label of a link that navigates to the domain purchase page","Domains"),linkUrl:x.o_.domainPurchase,children:(0,P.jsxs)("section",{className:av.domainAdd,children:[(0,P.jsxs)("header",{className:av.header,children:[(0,P.jsx)("img",{className:av.headerLogo,alt:"Tumblr Domains",src:tX,width:"716",height:"560"}),(0,P.jsx)("h1",{children:(0,P.jsx)(T.ZP,{comment:"Title of page for transferring or connecting a domain to Tumblr",children:"Tumblrize your domain"})}),(0,P.jsx)("h3",{children:(0,P.jsx)(T.ZP,{comment:"Subtitle of the Domain Add page for transferring or connecting a domain",children:"Use your own domain to house all your chaos."})})]}),(0,P.jsx)("div",{className:av.searchFormWrapper,children:(0,P.jsx)(au,{onSubmit:t=>{if("transfer"===A){r({eventName:ec.J.DomainAddTransferClick}),e((0,x.q8)({domainName:t}));return}"connect"===A&&F(t)},onButtonChange:e=>{"connect"===e?r({eventName:ec.J.DomainAddConnectSelect}):r({eventName:ec.J.DomainAddTransferSelect}),E(e)},isA!0,isLoading:b,validate:e=>t5(a,e),value:o,themeColor:M().palettePurple,placeholder:a("Domain search field placeholder","Enter your domain name"),buttons:(()=>{var e=[{label:t3.a4,value:"transfer",selected:"transfer"===A},{label:t3.bV,value:"connect",selected:"connect"===A}];return"connect"===k?e.reverse():e})()})}),(0,P.jsxs)("div",{className:av.body,children:[h?(0,P.jsx)("div",{className:av.loader,children:(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0,centerOrientation:"horizontal"})}):(0,P.jsx)("div",{className:av.subsectionWrapper,children:"connect"===k?I.reverse():I}),(0,P.jsx)(at,{onClick:()=>{r({eventName:ec.J.DomainAddDomainPurchaseBannerClick})}})]}),w&&(0,P.jsx)(aw.domainName,onClose:()=>N(void 0),reason:w.failureReason})]})})},aj=a(92779),ay=tv.z.union([tv.z.literal("active"),tv.z.literal("deletion_failed"),tv.z.literal("in_argp"),tv.z.literal("in_redemption"),tv.z.literal("invalid_dns"),tv.z.literal("pending_deletion"),tv.z.literal("pending_dns"),tv.z.literal("pending_registration"),tv.z.literal("pending_restoration"),tv.z.literal("pending_transfer_in"),tv.z.literal("pending_transfer_out"),tv.z.literal("registration_failed"),tv.z.literal("restoration_failed"),tv.z.literal("suspended"),tv.z.literal("transfer_in_failed"),tv.z.literal("transfer_in_succeeded"),tv.z.literal("unsuspended")]),aw={blog:tv.z.object({avatar:tv.z.array(aj.k0).optional(),description:tv.z.string().optional(),name:tv.z.string(),title:tv.z.string().optional(),updated:tv.z.number().optional(),url:tv.z.string(),uuid:tv.z.string().optional()}).nullable(),domainName:tv.z.string(),expiryDate:tv.z.coerce.date().nullable(),id:tv.z.number(),isSslActivated:tv.z.boolean().optional(),ownerId:tv.z.number(),status:ay,tumblrpaySubscriptionId:tv.z.number()},aN=tv.z.discriminatedUnion("type",[tv.z.object(r()({type:tv.z.literal("connected")},aw)),tv.z.object(r()(r()({type:tv.z.literal("registered")},aw),{},{isContactDisclosed:tv.z.boolean().optional(),isContactInformationVerified:tv.z.boolean(),isLocked:tv.z.boolean(),isLockedAtRegistry:tv.z.boolean(),isPrivacyServiceEnabled:tv.z.boolean().optional(),isRegistered:tv.z.boolean(),pendingContactVerificationEmail:tv.z.string().nullable(),registrationDate:tv.z.coerce.date().nullable(),transferlockedUntilDate:tv.z.coerce.date().nullable().optional(),transferRequestDate:tv.z.coerce.date().nullable().optional(),renewableUntilDate:tv.z.coerce.date().nullable()}))]),aC=tv.z.object({cancelledTime:tv.z.number().nullable().optional(),canCancel:tv.z.boolean(),canReactivate:tv.z.boolean(),canRepurchase:tv.z.boolean(),canRequestRefund:tv.z.boolean().nullable().optional(),currencyCode:tv.z.string(),customerMembershipsId:tv.z.string().nullable().optional(),endTime:tv.z.number().nullable().optional(),id:tv.z.number(),isManagedByTumblrpay:tv.z.boolean().nullable().optional(),nextBillingTime:tv.z.number().nullable().optional(),paymentMethod:tv.z.string().nullable().optional(),periodAbbreviation:tv.z.string(),periodAdverb:tv.z.string(),price:tv.z.number(),startTime:tv.z.number()});tv.z.object({domain:aN,subscription:aC});var aP={subdomain:tv.z.string().optional(),id:tv.z.string(),isReadOnly:tv.z.boolean()},aS=tv.z.discriminatedUnion("type",[tv.z.object(r()(r()({type:tv.z.literal("A")},aP),{},{data:tv.z.string()})),tv.z.object(r()(r()({type:tv.z.literal("AAAA")},aP),{},{data:tv.z.string()})),tv.z.object(r()(r()({type:tv.z.literal("CNAME")},aP),{},{subdomain:tv.z.string(),data:tv.z.string()})),tv.z.object(r()(r()({type:tv.z.literal("MX")},aP),{},{data:tv.z.string(),priority:tv.z.string()})),tv.z.object(r()(r()({type:tv.z.literal("TXT")},aP),{},{data:tv.z.string()})),tv.z.object(r()(r()({type:tv.z.literal("SRV")},aP),{},{service:tv.z.string(),protocol:tv.z.string(),priority:tv.z.string(),weight:tv.z.string(),targetHost:tv.z.string(),targetPort:tv.z.string()})),tv.z.object(r()(r()({type:tv.z.literal("NS")},aP),{},{data:tv.z.string()})),tv.z.object(r()(r()({type:tv.z.literal("SOA")},aP),{},{data:tv.z.string()}))]),ak=aS.options.reduce((e,t)=>{var a=t.shape.type.value;return"NS"!==a&&"SOA"!==a&&e.push(a),e},[]),aT=e=>["domain-dns-records",e];function aZ(e){var t=(0,j.bp)().apiFetchWithSchema;return(0,tg.a)({queryKey:aT(e),queryFn:()=>{var a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D()().awrap(t(`/v2/domains/${e}/dns`,(0,tb.i)(tv.z.object({records:tv.z.array(aS)})),{method:"GET"}));case 2:return a=n.sent.response.records.reduce((e,t)=>("NS"!==t.type&&"SOA"!==t.type&&e.push(t),e),[]).sort((e,t)=>e.isReadOnly&&!t.isReadOnly?-1:!e.isReadOnly&&t.isReadOnly?1:ak.indexOf(e.type)-ak.indexOf(t.type)),n.abrupt("return",a);case 6:case"end":return n.stop()}},null,null,null,Promise)},refetchOnWindowFocus:!1})}var aD=a(88451),aA=["id","isReadOnly"],aE=()=>{var e=(0,j.bp)().apiFetch;return(0,tp.D)({mutationFn:t=>{var a,n;return D()().async(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.domainName,n=t.updatedDnsRecords,r.abrupt("return",e(`/v2/domains/${a}/dns`,{method:"POST",body:{records:n.map(e=>{e.id,e.isReadOnly;var t=C()(e,aA);return(0,aD.v)(t)})},headers:{"Content-Type":"application/json"}}));case 2:case"end":return r.stop()}},null,null,null,Promise)}})},aF=e=>{var t=e.onClose,a=e.title,n=(0,j.bp)()._c;return(0,P.jsx)(_.Z,{onGlassClick:t,children:(0,P.jsx)(z.O,{buttons:[{text:(0,P.jsx)(L.Z,{wrapperClassName:"v3Ysq",isRounded:!0,onClick:t,backgroundColor:M().paletteWhite,textColor:M().paletteGray65,borderColor:M().paletteGray65,children:n("OK button that is placed on a modal to close it","OK")},"ok-button"),onClick:t,buttonStyle:z.X.Custom}],isBodyHtml:!0,title:a,useWhiteContainerDesign:!0,children:(0,P.jsx)(T.ZP,{comment:"Text for when a domain is under maintenance",children:"Sorry, your domain is under maintenance at the registry. Please trn e===aL.Z.DomainTldInMaintenance}var aM=[{id:"",isReadOnly:!1,type:"A",subdomain:"",data:""},{id:"",isReadOnly:!1,type:"AAAA",subdomain:"",data:""},{id:"",isReadOnly:!1,type:"CNAME",subdomain:"",data:""},{id:"",isReadOnly:!1,type:"MX",subdomain:"",data:"",priority:"10"},{id:"",isReadOnly:!1,type:"TXT",subdomain:"",data:""},{id:"",isReadOnly:!1,type:"SRV",subdomain:"",service:"",protocol:"_tcp",priority:"10",weight:"10}],aB=(e,t)=>e.find(e=>e.type===t),a_=a(56237),az=["required","label","options","value"],aR=e=>{var t=e.required,a=e.label,n=e.options,s=e.value,i=C()(e,az);return(0,P.jsx)(a_.Z,{text:(0,P.jsxs)(P.Fragment,{children:[a,t?" *":""]}),children:(0,P.jsx)(K.Z,r()(r()({className:"dJz)("option",{value:e,children:e},e))}))})},aO=e=>e("Error message when form field is missing a value","Field is required"),aG=e=>e("Common error message for invalid form fields","Invalid value"),aW=e=>e("Error message for invalid DNS form fields: Weight, Priority, Target Port","Value must be as m=e=>["MX","SRV","TXT"].includes(e),aH=(e,t)=>!e||["@",t,t+".","@."+t,"@."+t+"."].includes(e),aY=(e,t,a)=>{if(aH(e,a)&&aU(t))return!0;switch(t){case"A":case"AAAA":return/^([a-z0-9]([a-z0-9-]*[a-z0-9])?\.)*[a-z0-9]([a-z0-9-]*[a-z0-9])?$/i.test(e);case"CNAME":return/^([a-z0-9-_]{1,63}\.)*([a-z0-9-_]{1,63})$/i.test(e)||"*"===e;default:return/^([a-z0-9-_]{1,63}\.)*([a-z0-9-_]{1,63})$/i.test(e)}},aq=(e,t)=>{switch(t){case"A":return/^(\d{1,3}\.){3}\d{1,3}$/.test(e);case"AAAA":return/^[a-f0-9:]+$/i.test(e);case"CNAME":case"MX":return aJ(e);case"TXT":return e.length>0&&e.length<256;default:return!1}},aJ=(e,t)=>!(e.length>253)&&("SRV"===t&&"."===e||/^([a-z0-9-_]{1,63}\.)*[a-z0-9-]{1,63}\.[a-z]{2,63}$/i.test(e)),aK=e=>{var t=parseI=65535},a$=e=>/^_[^\s.]+$/.test(e),aX=a(91086),aQ=e=>{var t=e.message;return(0,P.jsxs)("div",{className:"c2jN3",children:[(0,P.jsx)(aX.Z,{size:{height:18,width:18},colors:{primary:M().paletteGray65}}),(0,P.jsx)(Y.Z,{children:t})]})},a0=["description","required","label","validate","onInput"],a1=e=>{var t=e.description,a=e.required,n=e.label,s=e.validate,o=e.onInput,l=C()(e,a0),d=(0,j.bp)()._c,u=(0,c.useRef)(null),m=(0,c.useState)(void 0),h=i()(m,2),p=h[0],g=h[1],b=(0,c.useCallback)(function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=e.value,r="";a&&!n?r=aO(d):s&&(r=s(n)),e.setCustomValidity(r),t&&g(r)},[d,a,s]);return(0,c.useEffect)(()=>{if(u.current){var e=!!l.value;b(u.current,e)}},[]),(0,P.jsxs)(a_.Z,{text:(0,P.jsxs)(P.Fragment,{children:[n,a?" *":""]}),children:[(0,P.jsx)(ep.Z,r()(r()({},l),{},{ref:u,value:l.value||"",wrapperClassName:"gCgsU",inputWrapperClassName:"ORg2v",errorClassName:"nQmqS",error:p||!1,onBlur:e=>b(e.target),onInput:e=>{null==o||o(e),p&&b(e.target)},onInvalid:e=>{e.preventDefault(),b(e.target)}})),t&&(0,P.jsx)(Y.Z,{children:t})]})},a2=e=>({label:e("Form field label for adding or editing a DNS records","Name"),placeholder:e("Provide hint to user on what to input","Enter subdomain")}),a3=e=>{var t=e.type,a=e.domainName,n=e.dnsRecord,s=e.updateRecord,i=(0,j.bp)()._c;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(aQ,{message:i("Description of a DNS A record","A records are used to point a domain (e.g. example.com) or a subdomain (e.g. subdomain.example.com) to an IP address (e.g. 192.168.1.1).")}),(0,P.jsx)(a1,r()({required:!0,validate:e=>aY(e,t,a)?"":aG(i),value:n.subdomain,onInput:e=>{s("subdomain",e.target.value)},suffix:"."+a},a2(i))),(0,P.jsx)(a1,{required:!0,validate:e=>aq(e,t)?"":aG(i),value:n.data,onInput:e=>{s("data",e.target.value)},label:i("Form field label for adding or editing A and AAAA DNS records, the expected input is an IP address","Points to"),placeholder:i("Give users an example of the expected input","e.g. 192.168.1.1")})]})},a4=e=>{var t=e.type,a=e.domainName,n=e.dnsRecord,s=e.updateRecord,i=(0,j.bp)()._c;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(aQ,{message:i("Description of a DNS AAAA record","AAAA records are used to point a domain (e.g. example.com) or a subdomain (e.g. subdomain.example.com) to an IPv6 address (e.g. ::ffff:c0a8:101).")}),(0,P.jsx)(a1,r()({required:!0,validate:e=>aY(e,t,a)?"":aG(i),value:n.subdomain,onInput:e=>{s("subdomain",e.target.value)},suffix:"."+a},a2(i))),(0,P.jsx)(a1,{required:!0,validate:e=>aq(e,t)?"":aG(i),value:n.data,onInput:e=>{s("data",e.target.value)},label:i("Form field label for adding or editing a DNS record, the expected input is an IP address","Points to"),placeholder:i("Give users an example of the expected input","e.g. ::ffff:c0a8:101")})]})},a5=e=>{var t=e.type,a=e.domainName,n=e.dnsRecord,s=e.updateRecord,i=(0,j.bp)()._c;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(aQ,{message:i("CNAME record description","CNAME (canonical name) records are typically used to link a subdomain (e.g. subdomain.example.com) to a domain (e.g. example.com).")}),(0,P.jsx)(a1,r()({required:!0,validate:e=>aY(e,t,a)?"":aG(i),value:n.subdomain,onInput:e=>{s("subdomain",e.target.value)},suffix:"."+a},a2(i))),(0,P.jsx)(a1,{required:!0,validate:e=>aq(e,t)?"":aG(i),value:n.data,onInput:e=>{s("data",e.target.value)},label:i("Form field label for adding or editing a DNS record, the expected input is a domain or subdomain name","Alias of (Points to)"),placeholder:i("Give users an example of the expected input","e.g. example.com")})]})},a6=e=>{var t=e.type,a=e.domainName,n=e.dnsRecord,s=e.updateRecord,i=(0,j.bp)()._c;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(aQ,{message:i("MX record description","MX (mail exchange) records are used to route emails to the correct mail servers.")}),(0,P.jsx)(a1,r()({validate:e=>aY(e,t,a)?"":aG(i),value:n.subdomain,onInput:e=>{s("subdomain",e.target.value)},suffix:"."+a},a2(i))),(0,P.jsx)(a1,{required:!0,validate:e=>aq(e,t)?"":aG(i),value:n.data,onInput:e=>{s("data",e.target.value)},label:i("Form field label for adding or editing a DNS record, the expected input is a domain name","Handled by"),placeholder:i("Give users an example of the expected input","e.g. mail.your-provider.com"),description:i("Additional description of the form field","Please use a domain name here (e.g. mail.your-provider.com) - an IP address (e.g. 192.168.1.1) will not work.")}),(0,P.jsx)(a1,{required:!0,validate:e=>aK(e)?"":aW(i),value:n.priority,onInput:e=>{s("priority",e.target.value)},placeholder:i("Give users an example of the expected input","e.g. 10"),label:i("Form field label for adding or editing a DNS record, the expected input is a number","Priority")})]})},a7=e=>{var t=e.type,a=e.domainName,n=e.dnsRecord,s=e.updateRecord,i=(0,j.bp)()._c;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(aQ,{message:i("SRV record description","SRV (service) records define the information to access certain internet services.")}),(0,P.jsx)(a1,r()({validate:e=>aY(e,t,a)?"":aG(i),value:n.subdomain,onInput:e=>{s("subdomain",e.target.value)},suffix:"."+a},a2(i))),(0,P.jsx)(a1,{required:!0,validate:e=>a$(e)?"":aG(i),value:n.service,onInput:e=>{s("service",e.target.value)},label:i("Form field label for adding or editing a DNS record","Service"),placeholder:i("%1$s is an example of the expected input","e.g. %1$s",["_sip"])}),(0,P.jsx)(aR,{required:!0,value:n.protocol,onChange:e=>{s("protocol",e.target.value)},options:["_tcp","_udp","_tls"],label:i("Form field label for adding or editing a DNS record","Protocol")}),(0,P.jsx)(a1,{required:!0,validate:e=>aK(e)?"":aW(i),value:n.priority,onInput:e=>{s("priority",e.target.value)},placeholder:i("Give users an example of the expected input","e.g. 10"),label:i("Form field label for adding or editing a DNS record, the expected input is a number","Priority")}),(0,P.jsx)(a1,{required:!0,validate:e=>aK(e)?"":aW(i),value:n.weight,onInput:e=>{s("weight",e.target.value)},placeholder:i("Give users an example of the expected input","e.g. 10"),label:i("Form field label for adding or editing a DNS record, the expected input is a number","Weight")}),(0,P.jsx)(a1,{required:!0,validate:e=>aJ(e,"SRV")?"":aG(i),value:n.targetHost,onInput:e=>{s("targetHost",e.target.value)},label:i("Form field label for adding or editing a DNS record","Target Host"),placeholder:i("Give users an example of the expected input","e.g. sip.your-provider.com")}),(0,P.jsx)(a1,{required:!0,validate:e=>aK(e)?"":aW(i),value:n.targetPort,onInput:e=>{s("targetPort",e.target.value)},label:i("Form field label for adding or editing a DNS record, the expected input is a port number","Target Port"),placeholder:i("Give users an example of the expected input","e.g. 5060")})]})};let a8={dnsTextarea:"n4rQZ",error:"y4Z3X"};var a9=["required","label","validate","onInput"],ne=e=>{var t=e.required,a=e.label,n=e.validate,s=e.onInput,o=C()(e,a9),l=(0,j.bp)()._c,d=(0,c.useRef)(null),u=(0,c.useState)(void 0),m=i()(u,2),h=m[0],p=m[1],g=(0,c.useCallback)(function(e){var a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=e.value,s="";t&&!r?s=aO(l):n&&(s=n(r)),e.setCustomValidity(s),a&&p(s)},[l,t,n]);return(0,c.useEffect)(()=>{if(d.current){var e=!!o.value;g(d.current,e)}},[]),(0,P.jsxs)(a_.Z,{text:(0,P.jsxs)(P.Fragment,{children:[a,t?" *":""]}),children:[(0,P.jsx)("textarea",r()(r()({ref:d},o),{.dnsTextarea,onBlur:e=>g(e.target),onInput:e=>{null==>{e.preventDefault(),g(e.target)}})),h&&(0,P.jsx)("div",{className:a8.error,children:h})]})},nt=e=>{var t=e.type,a=e.domainName,n=e.dnsRecord,s=e.updateRecord,i=(0,j.bp)()._c;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(aQ,{message:i("TXT record description","TXT (text) records are used to record any textual information on a domain. They're typically used by other service providers (e.g. email services) to ensure you are the owner of the domain.")}),(0,P.jsx)(a1,r()({validate:e=>aY(e,t,a)?"":aG(i),value:n.subdomain,onInput:e=>{s("subdomain",e.target.value)},suffix:"."+a},a2(i))),(0,P.jsx)(ne,{required:!0,validate:e=>aq(nput:e=>{s("data",e.target.value)},label:i("Form field label for adding or editing a DNS record","Text"),placeholder:i("Give users an example of the expected input","e.g. v=spf1 include:example.com ~all")})]})},na=e=>{var t=e.type,a=e.updateType,n=e.recordDrafts,s=e.updateRecordDrafts,i=(0,j.bp)()._c,o=(0,d.UO)().domainName,l=void 0===o?"":o,c=function(){var e={type:t,domainName:l,updateRecord:(e,a)=>{s(n.reduce((n,s)=>(s.type!==t?n.push(s):n.push(r()(r()({},s),{},{[e]:a})),n),[]))}};switch(t){case"A":return(0,P.jsx)(a3,r()(r()({},e),{},{dnsRecord:aB(n,"A")}));case"AAAA":return(0,P.jsx)(a4,r()(r()({},e),{},{dnsRecord:aB(n,"AAAA")}));case"CNAME":return(0,P.jsx)(a5,r()(r()({},e),{},{dnsRecord:aB(n,"CNAME")}));case"MX":return(0,P.jsx)(a6,r()(r()({},e),{},{dnsRecord:aB(n,"MX")}));case"TXT":return(0,P.jsx)(nt,r()(r()({},e),{},{dnsRecord:aB(n,"TXT")}));case"SRV":return(0,P.jsx)(a7,r()(r()({},e),{},{dnsRecord:aB(n,"SRV")}))}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(aR,{red:!0,valange:e=>{a(e.currentTarget.value)},label:i("Label for DNS record type selection","Type")}),c]})},nn=a(18042),nr=a(43684),ns=e=>{var t=e.record;if("SRV"===t.type){var a=`${t.service}.${t.protocol}`;return t.subdomain&&(a+=`.${t.subdomain}`),a}return t.subdomain||"@"},ni=e=>{var t=e.record,a=(0,j.bp)()._c;return"MX"===t.type?a("%1$s is email service domain name and %2$s is a numeric priority","%1$s with priority %2$s",[t.data,t.priority]):"SRV"===t.type?a("%1$s is a domain name and %2$s is the respective port number. %3$s is a numeric priority. %4$s is a numeric weight value","%1$s:%2$s, with priority %3$s and weight %4$s",[t.targetHost,t.targetPort,t.priority,t.weight]):t.data};let no={dnsRecordsListHead:"OxzrL",dnsRecordsListBody:"e1CWs",dnsRecordsListItem:"zZPmI",columnType:"eWwyp",columnName:"OTlxd",columnValue:"fG2zs",loader:"yiQ7Y",columnActions:"P2oCD",ellipsis:"FiuSa",actionMenuItem:"TLNGy"};var nl=e=>{var t=e.isEditable,a=e.domainName,n=(0,j.bp)(),r=n._c,s=n.logEvent,o=(0,d.s0)(),l=(0,O.V)().toggleToast,u=aE(),m=(0,J.NL)(),h=(0,c.useState)(),p=i()(h,2),g=p[0],b=p[1],v=(0,c.useState)(),f=i()(v,2),y=f[0],w=f[1],N=(0,c.useState)(!1),C=i()(N,2),S=C[0],k=C[1],T=aZ(a),Z=T.data,A=void 0===Z?[]:Z,E=T.isFetched,F=e=>{s({eventName:ec.J.DomainSettingsEditDnsClick}),o((0,x.GE)({domainName:a,recordId:e}))},L=e=>{var t,n;return D()().async(function(i){for(;;)switch(i.prev=i.next){case 0:return w(e),i.prev=1,t=A.reduce((t,a)=>(a.id===e||t.push(a),t),[]),i.next=5,D()().awrap(u.mutateAsync({domainName:a,updatedDnsRecords:t}));case 5:m.invalidateQueries({queryKey:aT(a)}),i.next=12;break;case 8:i.prev=8,i.t0=i.catch(1),w(void 0),aI(null===i.t0||void 0===i.t0||null===(n=i.t0.detailedErrors)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.code)?k(!0):l(r("error message when an unknown error occurred while updating a domain setting","Oops. There was an error. Please reload the page and try again."),"error");case 12:s({eventName:ec.J.DomainSettingsDeleteDnsSubmit});case 13:case"end":return i.stop()}},null,null,[[1,8]],Promise)},I=e=>{b(g===e?void 0:e)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Y.Z,{children:r("A description of what DNS records are","DNS records are special settings that change how your domain works. They let you connect to third-party services, like an email provider.")}),(0,P.jsxs)("div",{className:no.dnsRecordsListHead,children:[(0,P.jsx)("div",{className:no.columnType,children:r("The title of a column from the table that displays DNS records for a specific domain.","Type")}),(0,P.jsx)("div",{className:no.columnName,children:r("The column title of the table that lists the DNS records for a domain","Name")}),(0,P.jsx)("div",{className:no.columnValue,children:r("The column title of the table that lists the DNS records for a domain","Value")})]}),(0,P.jsx)("div",{className:no.dnsRecordsListBody,children:E?A.map(e=>(0,P.jsxs)("div",{className:no.dnsRecordsListItem,children:[(0,P.jsx)("div",{className:no.columnType,children:e.type}),(0,P.jsx)("div",{className:no.columnName,children:(0,P.jsx)(ns,{record:e})}),(0,P.jsx)("div",{className:no.columnValue,children:(0,P.jsx)(ni,{record:e})}),t&&!e.isReadOnly&&(0,P.jsx)("div",{className:no.columnActions,children:y===e.id?(0,P.jsx)(eh.Z,{small:!0,color:M().paletteGray65}):(0,P.jsx)(al.ZP,{isOpen:g===e.id,toggle:()=>I(e.id),width:100,position:nr.I2.BottomEnd,shouldFocusContentOnPopoverOpen:!0,render:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ef.Z,{wrapperClassName:no.actionMenuItem,onClick:()=>F(e.id),children:r("The menu item that takes users to the edit DNS record page","Edit")}),(0,P.jsx)(ef.Z,{wrapperClassName:no.actionMenuItem,onClick:()=>L(e.id),children:r("The menu item that deletes a DNS record","Delete")})]}),children:(0,P.jsx)(ef.Z,{wrapperClassName:no.ellipsis,role:"menu",children:(0,P.jsx)(nn.b,{})})})})]},e.id)):(0,P.jsx)("div",{className:no.loader,children:(0,P.jsx)(eh.Z,{small:!0,color:M().paletteGray65})})}),S&&(0,P.jsx)(aF,{title:r("Title for the modal that appears when dns delete failed","Failed to delete DNS record"),onClose:()=>k(!1)})]})},nc=a(19486),nd=(0,tb.i)(tv.z.oby(aN)})),nu=()=>["domains","list"];function nm(){var e=(0,j.bp)().apiFetchWithSchema;return(0,tg.a)({queryKey:nu(),queryFn:()=>{var t;return D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D()().awrap(e("/v2/domains/list",nd,{method:"GET"}));case 2:return t=a.sent,a.abrupt("return",t.response.domains);case 4:case"end":return a.stop()}},null,null,null,Promise)},refetchOnWindowFocus:!1})}var nh=(e,t)=>""===t?e("Error message for when a domain search term is empty","Domain searches can't be empty"):/[^a-z0-9\-.\s]/i.test(t)?e("Error message for when a domain search term contains invalid characters","Domain searches can only contain alphanumeric characters, spaces, dots, or hyphens"):/[a-z0-9]/i.test(t)?"":e("Error message for when a domain search term doesn't contain at least one letter (a-z) or one number (0-9)","Domain searches must contain alphanumeric characters"),np=a(5553),ng=a(14066),nb=a(96976);let nx={domainPurchaseSuggestions:"Gr8iv",loaderWrapper:"oRgDO",list:"blzxq",isLoaded:"DFn1o",isHidden:"BYd1c"};function nv(){var e=(0,j.bp)(),t=e._getPriceInCurrency,a=e.apiFetchWithSchema,n=e.logEvent,r=(0,c.useRef)(null),s=(0,c.useRef)(),o=(0,c.useState)(!1),u=i()(o,2),m=u[0],h=u[1],p=(0,d.s0)(),g=(0,np.n)(),b=g.data,v=g.isFetched,y=nm(),w=y.data,N=void 0===w?[]:w,C=y.isFetched,S=(0,O.V)().toggleToast,k=[];if(C&&v)(e,t)=>(t.admin&&e.push!N.some(t=>t.blog&&t.blog.name===e));T.length&&(k=T)}var Z=(0,nb.Kj)(k.slice(0,3)),D=Z.data,A=Z.isFetched,E=e=>{h(!0),n({eventName:ec.J.DomainPurchaseSuggestionClick});var t=(0,x.B9)({page:f.f.DomainsManagement}),r=new URL(t,window.location.href);(0,ng.K)(a,e,r.href).then(t=>{var a=t.response;if(a.isAvailable&&a.url){window.location.assign(a.url);return}p((0,x.W8)(e,"domainSearch"))}).catch(()=>{S(t3.K7,"error")})},F=null!=D&&D.length?D:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,a=[],n=0;n<t;n++){var r=e?e[n%e.length]:"example";a.push({domainName:`${r}.com`,domainNameParts:{base:r,tld:"com"},price:0,salePrice:0})}return a}(k);return(0,c.useEffect)(()=>{if(null!==r.current){var e,t,a,n=parseInt(getComputedStyle(r.current).getPropertyValue("--start-offset")),i=-(r.current.scrollWidth/2)+n,o=[{transform:`translateX(${n}px)`},{transform:`translateX(${i}px)`}],l=F.length/2*7e3;s.current=null===(e=r.current)||void 0===e||null===(t=e.animate)||void 0===t?void 0:t.call(e,o,{duration:l,easing:"cubic-bezier(0.035, 0, 0.02, 0.02)"}),null===(a=s.current)||void 0===a||a.finished.then(()=>{var e,t;s.current=null===(e=r.current)||void 0===e||null===(t=e.animate)||void 0===t?void 0:t.call(e,o,{duration:l,iterations:1/0})})}},[F.length]),(0,P.jsxs)("div",{className:nx.domainPurchaseSuggestions,onMouseEnter:()=>{var e;null===(e=s.current)||v=s.current)||void 0===e||e.play()},children:[m&&(0,P.jsx)("div",{className:nx.loaderWrapper,children:(0,P.jsx)(eh.Z,{centerOrientation:"horizontal",color:M().paletteGray65})}),(0,P.jsx)("ul",{className:l()(nx.list,{[nx.isLoaded]:A,[nx.isHidden]:m}),ref:r,"data-automation-id":"domain-suggestions-carousel",children:F.map((e,a)=>{var n=(0,ae.T4)(null!=e&&e.salePrice?null==e?void 0:e.salePrice:null==e?void 0:e.price,t2.oX,t);return(0,P.jsx)("li",{chi,{onClick:()=>E(`${e.domainName}`),disabled:!A,children:[e.domainNameParts.base,(0,P.jsxs)("strong",{children:[".",e.domainNameParts.tld]})," ",n]})},e.domainName+a)})})]})}let nf={domainPurchase:"wIl3t",header:"tU8nj",searchFormWrapper:"lB5dO",priceBadgeWrapper:"urxWj",priceBadgeGraphic:"YpJ__",priceBadge:"NN1eI",headerText:"Jamlp",headerLogo:"yQROX",body:"_6O_nA",bodyDescription:"uh_q8",sectionAddDomain:"Q7wdZ",sectionAddDomainTitle:"yH5dG",subsectionAddDomain:"rzTr_",subsectionAddDomainInner:"VOF4f",subsectionAddDomainLogo:"lTERG",subsectionAddDomainArrow:"sjCSn",subsectionAddDomainTitle:"akYv2",subsectionAddDomainDescription:"Inrzc"};var nj=a(1539),ny=a(11476),nw=e=>{var t=e.label,a=e.handler;return{text:(0,P.jsx)(L.Z,{isRounded:!0,onClick:a,textColor:M().paletteWhite,children:t},t.props.children),buttonStyle:z.X.Custom}},nN=(0,P.jsx)(T.ZP,{comment:"Title of a modal that appears when a domain registry is under maintenance",children:"Domain registry under maintenance"}),nC=e=>{var t=e.onClose,a=(0,j.bp)().logEvent;(0,c.useEffect)(()=>{a({eventName:ec.J.DomainSearchTldInMaintenanceDialogView})},[a]);var n=()=>{a({eventName:ec.J.DomainSearchTldInMaintenanceDialogDismissClick}),t()};return(0,P.jsx)(_.Z,{onGlassClick:n,children:(0,P.jsx)(z.O,{buttons:[nw({handler:n,label:t3.CN})],title:nN,useWhiteContainerDesign:!0,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain registry is under maintenance",children:"This domain cannot be purchased right now, since the registry is under maintenance. Please try again later!"})})})},nP=a(20041);function nS(e){var t=e.tld,a=(0,c.useState)(!0),n=i()(a,2),r=n[0],s=n[1],o=()=>s(!0),l=()=>s(!1),d=(0,nP.Z)({outsideEvents:{click:!0},onOutsideEvent:o});return(0,P.jsxs)("button",{className:"SDAvP",ref:d,"aria-hidden":r,children:[(0,P.jsx)(aX.Z,{size:{height:16.5,width:16.5},colors:{primary:M().palettme:"if7eE",onClick:()=>{r?l():o()}}),(0,P.jsxs)("div",{className:"vPj3X",role:"tooltip",children:[(0,P.jsxs)("div",{className:"WfbKc",children:["All domains ending in .",t," ","require an SSL certificate to host a website. When you host this domain at Tumblr an SSL certificate is included."]}),(0,P.jsx)("a",{href:"https://wordpress.com/support/domains/https-ssl/",target:"_blank",children:(0,P.jsx)(T.ZP,{comment:"A hyperlink that links out to the learn more page",children:"Learn more"})})]})]})}let nk={domainSearchItem:"V5ykg",domainName:"eqjjC",base:"lNZUX",tld:"PsAQ4",badgeContainer:"uXgja",badge:"CilcQ",sale:"pDRLR",priceContainer:"dqcgz",price:"mp75G",salePrice:"Agjkn",renewalPrice:"ZpEJX",button:"bVyG3",checking:"bEsOf",buttonLabel:"Os7dp",loader:"C7DxZ",isRecommended:"u7Ovg"};var nT={CHECKING:"checking",UNAVAILABLE:"unavailable",AVAILABLE:""};function nZ(e){var t=e.data,a=e.disableAllButtons,n=e.isRecommended,r=e.isDisabled,s=(0,j.bp)(),o=s.apiFetchWithSchema,d=s.logEvent,u=s._getPriceInCurrency,m=(0,c.useState)(nT.AVAILABLE),h=i()(m,2),p=h[0],g=h[1],b=(0,c.useState)(),v=i()(b,2),y=v[0],w=v[1],N=(0,O.V)().toggleToast,C=(0,ae.T4)(t.price,t2.oX,u),S=t.salePrice?(0,ae.T4)(t.salePrice,t2.oX,u):"",k=()=>{var e={tld:t.domainNameParts.tld,isRecommended:n,isOnSale:!!t.salePrice};d({eventName:ec.J.DomainSearchBuyClick,eventDetails:e},{sendPayloadImmediately:!0})};return(0,P.jsxs)("li",{className:l()(nk.domainSearchItem,{[nk.isRecommended]:n}),"data-testid":"domain-search-item",children:[(0,P.jsxs)("div",{className:nk.domainName,"data-automation-id":"domain-name",children:[(0,P.jsx)("span",{className:nk.base,children:t.domainNameParts.base}),(0,P.jsxs)("span",{className:nk.tld,children:[".",t.domainNameParts.tld]}),t.isHstsRequired&&(0,P.jsx)(nS,{tld:t.domainNameParts.tld})]}),t.salePrice&&(0,P.jsx)("div",{className:nk.badgeContainer,children:t.salePrice&&(0,P.jsx)("span",{className:l()(nk.badge,nk.sale),"data-automation-id":"sale-badge",children:(0,P.jsx)(T.ZP,{comment:"A flag indicating the domain is on sale",children:"Sale"})})}),(0,P.jsx)("div",{className:nk.priceContainer,children:t.salePrice?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{className:nk.salePrice,"data-automation-id":"domain-sale-price",children:(0,P.jsx)(T.ZP,{comment:"Domain sale price only for the first year",params:{formatedSalePrice:S},children:"[formatedSalePrice] for the first year"})}),(0,P.jsx)("span",{className:nk.renewalPrice,"data-automation-id":"domain-price",children:(0,P.jsx)(T.ZP,{comment:"Domain price per year",params:{formatedPrice:C},children:"[formatedPrice]/year"})})]}):(0,P.jsx)("span",{className:nk.price,"data-automation-id":"domain-price",children:(0,P.jsx)(T.ZP,{comment:"Domain price per year",params:{formatedPrice:C},children:"[formatedPrice]/year"})})}),(0,P.jsxs)("button",{className:l()(nk.button,nk[p]),onClick:()=>{g(nT.CHECKING),a(!0),k();var e=(0,x.B9)({page:f.f.DomainsManagement}),n=new URL(e,window.location.href);(0,ng.K)(o,t.domainName,n.href).then(e=>{var t=e.response;if((null==t?void 0:t.reason)==="tld_in_maintenance"){w(t.reason);return}if(t.isAvailable&&t.url){window.location.assign(t.url);retuLE)}).catch(()=>{N(t3.K7,"error")})},disabled:void 0!==r&&r||p===nT.UNAVAILABLE,"data-automation-id":"buy-domain-button",children:[p===nT.CHECKING&&(0,P.jsx)("div",{className:nk.loader,"data-testid":"loader",children:(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0})}),(0,P.jsx)("div",{className:nk.buttonLabel,children:p===nT.UNAVAILABLE?(0,P.jsx)(T.ZP,{comment:"Label of the buy button when a domain is unavailable for purchase",children:"Unavailable"}):(0,P.jsx)(T.ZP,{comment:"Label of the buy button for purchasing a domain",children:"Buy"})})]}),"tld_in_maintenance"===y&&(0,P.jsx)(nC,{onClose:()=>{w(void 0),a(!1),g(nT.AVAILABLE)}})]})}let nD={domainSearch:"PGazH",searchFormWrapper:"_7uhE",domains:"lZbK8",loader:"jYCEW",buttonsWrapper:"GkVz0",showMoreButton:"jqBZi"};var nA=(0,tt.q)("warning-circle-outline");nA.defaultProps={size:{width:16,height:16}};var nE=a(4870),nF=aC.extend({status:tv.z.nativeEnum(nE.Ti),period:tv.z.nativeEnum(nE.zF)}),nL=(0,tb.i)(tv.z.object({domain:aN,subscription:nF})),nI=e=>r()(r()({},e),{},{canRequestRefund:e.canRequestRefund||!1,isManagedByTumblrpay:e.isManagedByTumblrpay||!0}),nM=e=>["domain-details",e],nB=tv.z.object({firstName:tv.z.string(),lastName:tv.z.string(),organization:tv.z.string(),address1:tv.z.string(),address2:tv.z.string(),postalCode:tv.z.string(),countryCode:tv.z.enum(Object.keys(e2)),state:tv.z.string(),city:tv.z.string(),email:tv.z.string(),phone:tv.z.string(),phoneParts:tv.z.object({countryIso:tv.z.enum(Object.keys(e2)),countryCode:tv.z.string(_=e=>["get-domain-contact-info",e],nz=e=>{var t=[];return e.forEach(e=>{"registered"===e.type&&t.push(e)}),t>{"connsta.tumblr.com/checkout"].includes(e),nW=a(24759);function nV(e){var t=e.title,a=e.description,n=e.automationId,r=e.children,s=e.isCollapsedOnPageLoad,o=e.onToggle,d=e.krakenPanelName,u=(0,c.useState)(void 0!==s&&s),m=i()(u,2),h=m[0],p=m[1],g=(0,j.bp)().logEvent,b=()=>{var e=!h;p(e),g({eventName:ec.J.DomainSettingsPanelToggled,eventDetails:{panel:d,isOpened:!e}}),null==o||o(e,d)};return(0,P.jsxs)("div",{className:l()("jWFcY",{dfrpo:!h}),"data-automation-id":n,role:"contentinfo",children:[(0,P.jsxs)("div",{className:"J9he2",onClick:b,"Enter"," "].includes(e.key)&&b()},children:[(0,P.jsx)("h3",{className:"Z7F5y",children:t}),(0,P.jsx)("div",{className:"zEGdE",children:a}),(0,P.jsx)("div",{className:"RTSMt","data-automation-id":`${n}-arrow-button`,children:(0,P.jsx)(ai.nT,{colors:{primary:M().paletteBlack},size:{width:14,height:14}})})]}),(0,P.jsx)(nW.Z,{showCollapsable:!h,children:r})]})}var nU=a(15608),nH=a(6644),nY=e=>{var t=e.children;return(0,P.jsxs)("div",{className:"MEdz_",children:[(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0}),(0,P.jsx)("div",{className:"BLwFv",children:t})]})};let nq={domainSettingsContactInfo:"kJ3Bd",editButtonContainer:"IoPR0",contactInfoToggle:"zuruO",contactInfoToggleLabel:"CW5US",contactInfoToggleText:"WQ5WE",privacyRecommendationText:"m_cmU",loader:"EEkV6",loaderPrivacySettings:"FuaMF"};var nJ=e=>{var t=e.isRegistered,a=e.isPendingTransferOut,n=null;return n=t?a?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(T.ZP,{comment:"Description of the reason for disabled buttons of editing contact information at the moment.",children:"The transfer process for your domain has started, you will not be able to edit its contact information and privacy settings."})," ",(0,P.jsx)("a",{href:"https://help.tumblr.com/hc/en-us/articles/14449316040087#transfers",rel:"noopener noreferrer",target:"_blank",children:(0,P.jsx)(T.ZP,{comment:"A hyperlink that links out to the learn more page",children:"Learn more"})})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(T.ZP,{comment:"Refers to the contact information about a domain owner",children:"We recommend keeping privacy protection on."})," ",(0,P.jsx)("a",{href:"https://help.tumblr.com/hc/articles/14449316040087#privacy-protection",rel:"noopener noreferrer",target:"_blank",children:(0,P.jsx)(T.ZP,{comment:"A hyperlink that links out to the learn more page",children:"Learn more"})})]}):(0,P.jsx)(T.ZP,{comment:"Description of the reason for disabled buttons of editing contact information at the moment.",children:"You will be able to edit your contact information and privacy settings once domain registration is completed."}),(0,P.jsx)("p",{className:nq.privacyRecommendationText,children:n})},nK=a(66176),n$=a(6233),nX=()=>{var e=(0,j.bp)().apiFetch,t=(0,J.NL)();return(0,tp.D)({mutationFn:t=>e(`/v2/domains/${t.domainName}/contact_information/owner`,{method:"POST",body:{contact:(0,aD.v)(t.contactInformation),transferlock_opt_out:t.transferlockOptOut},headers:{"Content-Type":"application/json"}}),onMutate:e=>{var a,n;return D()().async(function(r){for(;;)switch(r.prev=r.next){case 0:return a=n_(e.domainName),r.next=3,D()().awrap(t.cancelQueries({queryKey:a}));case 3:return ctInformation:e.contactInformation})),r.abrupt("return",{previousValue:n});case 6:case"end":return r.stop()}},null,null,null,Promise)},onError:(e,a,n)=>{null!=n&&n.previousVa),()=>null==n?void 0:n.previousValue)}})},nQ=a(94522),n0=a(45051);let n1={intro:"QkgIw",form:"JLcu6",label:"zqUTO",full:"ApKX0",half:"Tek5P",quarter:"UFgwV",isFieldToggle:"_rqHx",errorMessage:"AQcHV",labelText:"WFYB0",fieldToggleButton:"SyYyq",phoneField:"qFeP2",countryWrapper:"U_Les",isDisabled:"Cratr",countrySelect:"xrccd",iconWrapper:"_pKkF",caretIcon:"qFLDu",inputFieldWrapper:"x69g8",inputWrapper:"w8ITJ",input:"kqqvQ",select:"Jsf4X",transferlockOptOut:"pffb4",formTerms:"JtblJ",transferLockOptOutCheckbox:"Xev0h",formFooter:"HJ4jy"};var n2=["defaultValue","isDisabled","name","required","onValidationError","staticError"],n3={firstName:"given-name",lastName:"family-name",organization:"organization",email:"email",phone:"tel-national",countryCode:"country",address1:"address-line1",address2:"address-line2",city:"address-level2",state:"address-level1",postalCode:"postal-code"},n4=(e,t)=>"email"!==e.type||/@.+\.[^.]{2,}/.exec(e.value)?"":t("Error message when an email form field contains a malformed value","Not a valid email");function n5(e){var t=e.defaultValue,a=e.isDisabled,n=e.name,s=e.required,o=e.onValidationError,l=e.staticError,d=C()(e,n2),u=(0,j.bp)()._c,m=(0,c.useState)(""),h=i()(m,2),p=h[0],g=h[1],b=(0,c.useRef)(null);(0,c.useEffect)(()=>{var e=b.current;if(e){var t=e=>{var t=e.currentTarget,a=n4(t,u);g(a),null==o||o(!!a),t.setCustomValidity(a),t.reportValidity()};r>{e.removeEventListener("change",t)}}},[u,o]);var x=(0,c.useCallback)(e=>{e.preventDefault();var t=e.currentTarget.validity,a="";t.customError||(g(a=t.valueMissing?u("Error message when form field is missing a value","Field is required"):t.typeMismatch&&"email"===d.type?u("Error message when an email form field contains a malformed value","Not a valid email"):u("Default error message when form field contains a bad value","Invalid value")),null==o||o(!!a))},[u,o,d.type]);return(0,P.jsx)(ep.Z,r()({autoComplete:n3[n],className:n1.input,defaultValue:t,disabled:a,errorClassName:n1.errorMessage,error:l||p||!1,inputWrapperClassName:n1.inputWrapper,name:n,onFocus:n0.Z,onInvalid:x,required:s,ref:b,wrapperClassName:n1.inputFieldWrapper},d))}var n6=["defaultValue","isDisabled","label","required","toggleableLabel","width"];function n7(e){var t=e.defaultValue,a=e.isDisabled,n=e.label,s=e.required,o=e.toggleableLabel,d=e.width,u=C()(e,n6),m=(0,c.useState)(!!o&&!t),h=i()(m,2),p=h[0],g=h[1],b=(0,c.useRef)(!1),x=(0,c.useState)(!1),v=i(c.useEffect)(()=>{p&&(b.current=!0)},[p]);var y=l()(n1.label,n1[void 0===d?"half":d]);return p?(0,P.jsx)("div",{className:l()(y,n1.isFieldToggle),children:(0,P.jsxs)("button",{className:n1.fieldToggleButton,disabled:a,onClick:()=>g(!1),type:"button",children:["+ ",o]})}):(0,P.jsx)(a_.Z,{className:y,text:s?`${n} *`:n,"data-scroll-id":u.staticError||f?"contact-info-error":void 0,children:(0,P.jsx)(n5,r()({autoFocus:!p&&b.current,defaultValue:t,isDisabled:a,required:s,onValidationError:e=>j(e)},u))})}var n8=a(98384),n9=a(46811),re=Object.entries(e2).sort((e,t)=>{var a=i()(e,2)[1],n=i()(t,2)[1];return a.localeCompare(n)}),rt=["isDisabled","label","onChangeCountryIso","onChangeLocalNumber","phoneParts","required","width"];function ra(e){var t=e.isDisabled,a=e.label,n=e.onChangeCountryIso,s=e.onChangeLocalNumber,o=e.phoneParts,d=e.required,u=e.width,m=C()(e,rt),h=(0,j.bp)()._c,p=(0,c.useState)((0,n9.Z)()),g=i()(p,1)[0],b=(0,c.useState)(!1),x=i()(b,2),v=x[0],f=x[1];return(0,P.jsxs)("div",{className:l()(n1.label,n1.phoneField,n1[void 0===u?"half":u]),children:[(0,P.jsx)("label",{className:n1.labelText,htmlFor:g,"data-scroll-id":m.staticError||v?"contact-info-error":void 0,children:(0,P.jsx)(Y.Z,{className:n1.text,children:d?`${a} *`:a})}),(0,P.jsxs)("div",{className:l()(n1.countryWrapper,{[n1.isDisabled]:t}),children:[(0,P.jsx)("div",{className:n1.countryIsoCode,children:o.countryIso}),(0,P.jsx)("select",{className:n1.countrySelect,"aria-label":h("Form label for editing domain contact info","Phone country code"),autoComplete:"tel-country-code",disabled:t,name:"phoneCountryIso",onChange:n,required:!0,value:o.countryIso,children:re.map(e=>{var t=i()(e,2),a=t[0],n=t[1];return(0,P.jsx)("option",{value:a,children:n},a)})}),(0,P.jsx)("span",{className:n1.iconWrapper,children:(0,P.jsx)(n8.$S,{className:n1.caretIcon,useAltIcon:!0})})]}),(0,P.jsx)(n5,r()({value:o.localNumber,prefix:o.countryCode,id:g,isDisabled:t,required:d,onChange:s,onValidationError:e=>f(e)},m))]})}var rn=()=>{var e,t=document.querySelector('[data-scroll-id="contact-info-error"]');null==t||null===(e=t.scrollIntoView)||void 0===e||e.call(t,{behavior:"smooth"})};function rr(e){var t=e.contactInfo,a=e.domainName,n=e.onClose,s=e.onMaintenanceError,o=void 0===s?n0.Z:s,d=(0,j.bp)()._c,u=(0,O.V)().toggleToast,m=(0,c.useState)(t),h=i()(m,2),p=h[0],g=h[1],b=nX(),x=(0,c.useState)(!1),v=i()(x,2),f=v[0],y=v[1],w=(0,c.useState)(!1),N=i()(w,2),C=N[0],S=N[1],k=(0,c.useState)([]),Z=i()(k,2),A=Z[0],E=Z[1],F=(0,tg.a)({queryKey:["domain-settings-supported-states",p.countryCode],queryFn:()=>fetch(`https://public-api.wordpress.com/rest/v1.1/domains/suppo${p.countryCode}/`).then(e=>e.json())}),I=F.data,B=F.isPending,_=!!(null!=I&&I.length),z=e4.includes(p.countryCode),R="domain_settings_edit_contact_info_transfer_lock_opt_out",G={firstName:d("Form label for editing domain contact info","First name"),lastName:d("Form label for editing domain contact info","Last name"),organization:d("Form label for editing domain contact info","Organization"),email:d("Form label for editing domain contact info","Email address"),phone:d("Form label for editing domain contact info","Phone"),countryCode:d("Form label for editing domain contact info","Country"),address1:d("Form label for editing domain contact info","Address"),address2:d("Form label for editing domain contact info","Address line 2"),city:d("Form label for editing domain contact info","City"),state:d("Form label for editing domain contact info","State"),postalCode:"US"===p.countryCode?d("Form label for editing postal code field in domain contact info. Only applies to the USA.","Zip"):d("Form label for editing postal code field in domain contact info. Applies to all countries but the USA.","Postal code")},W=e=>{if(A.includes(e))return d("Error message when form field contains an invalid value","Invalid field")},V=e=>({defaultValue:t[e],isDisabled:f,name:e,value:p[e]||"",onChange:t=>g(r()(r()({},,onInput:()=>{E(A.filter(t=>t!==e))},staticError:W(e)}),U=!(0,nQ.X)(p,t),H=e=>{var t=r()(r()({},p.phoneParts),e),a=`${t.countryCode}${t.localNumber}`;g(r()(r()({},p),{},{phoneParts:t,phone:a}))};return(0,P.jsxs)(n$.Z,{title:d("Modal heading for editing domain contact information","Edit contact information"),modalWrapperClass:"domainContactInfo",onClose:n,preventClosing:f,showClose:!f,children:[(0,P.jsxs)("div",{className:n1.intro,children:[(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Introductory text when editing domain contact information",components:{icann:(0,P.jsx)("a",{href:"https://www.icann.org/resources/pages/contact-verification-2013-05-03-en",rel:"noopener",target:"_blank"})},children:"Provide accurate contact information. [icann]ICANN[/icann] requires accurate contact information for registrants. This information will be validated after purchase. Failure to validate your contact information will result in domain suspension."})}),(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Introductory text when editing domain contact information",components:{more:(0,P.jsx)("a",{href:"https://wordpress.com/support/domains/domain-registrations-and-privacy/#privacy-protection",rel:"noopener",target:"_blank"})},children:"Domain privacy is included for free on applicable domains. [more]Learn more[/more]."})})]}),(0,P.jsxs)("form",{className:n1.form,onSubmit:e=>{var t,r;return D()().async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),e.currentTarget.checkValidity()){s.next=4;break}return rn(),s.abrupt("return");case 4:return y(!0),s.prev=5,s.next=8,D()().awrap(b.mutateAsync({domainName:a,contactInformation:p,transferlockOptOut:C}));case 8:y(!1),n(),s.next=19;break;case 12:if(s.prev=12,s.t0=s.catch(5),y(!1),!aI(null===s.t0||void 0===s.t0||null===(t=s.t0.detailedErrors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.code)){s.next=18;break}return o(),s.abrupt("return");case 18:(null===(r=s.t0.body)||void 0===r||null===(r=r.meta)||void 0===r?void 0:r.status)===400?(E(s.t0.body.response.errors.invalidFields),rn()):u(d("error message when saving domain contact information fails","Oops. There was an error. Please reload the page and try again."),"error");case 19:case"end":return s.stop()}},null,null,[[5,12]],Promise)},noValidate:!0,children:[(0,P.jsx)(n7,r()({label:G.firstName,required:!0},V("firstName"))),(0,P.jsx)(n7,r()({label:G.lastName,required:!0},V("lastName"))),(0,P.jsx)(n7,r()({label:G.organization,width:"full",toggleableLabel:d("Button for displaying domain contact info form field","Add organization name")},V("organization"))),(0,P.jsx)(n7,r()({label:G.email,required:!0,type:"email"},V("email"))),(0,P.jsx)(ra,{label:G.phone,name:"phone",required:!0,isDisabled:f,phoneParts:p.phoneParts,onChangeCountryIso:e=>{var t=e.target.value,a=e3[e2[t]];H({countryIso:t,e=>{H({localNumber:e.tarInput:()=>{E(A.filter(e=>"phone"!==e))},staticError:W("phone")}),(0,P.jsx)(a_.Z,{className:l()(n1.label,n1.full),text:`${G.countryCode} *`,children:(0,P.jsx)(K.Z,{className:n1.select,autoComplete:"country",required:!0,disabled:f,name:"countryCode",value:p.countryCode,"aria-label":d('"aria-label" for editing the "country" field in the domain contact information form',"Country"),onChange:e=>{var t=e.currentTarget.value;g(r()(r()({},p),{},{countryCode:t}))},children:re.map(e=>{var t=i()(e,2),a=t[0],n=t[1];return(0,P.jsx)("option",{value:a,children:n},a)})})}),(0,P.jsx)(n7,r()({label:G.address1,width:"full",required:!0},V("address1"))),(0,P.jsx)(n7,r()({label:G.address2,width:"full",toggleableLabel:d("Button for displaying domain contact info form field","Add address line 2")},V("address2"))),(0,P.jsx)(n7,r()({label:G.city,required:!0},V("city"))),_?(0,P.jsx)(a_.Z,{className:l()(n1.label,n1.quarter),text:`${G.state} *`,children:(0,P.jsxs)(K.Z,{className:n1.select,"aria-label":d('"aria-label" for editing the "state" field in domain contact information form',"State"),autoComplete:"address-level1",required:!0,disabled:f,name:"state",value:p.state,onChange:e=>{var t=e.currentTarget.value;g(r()(r()({},p),{},{state:t}))},children:[B?(0,P.jsx)("option",{disabled:!0,value:"",children:d("Placeholder while dropdown menu is loading data","Loading…")}):null,I.map(e=>{var t=e.code,a=e.name;return(0,P.jsx)("option",{value:t,children:a},t)})]})}):null,z?(0,P.jsx)(n7,r()({label:G.postalCode,width:_?"quarter":"half",required:!0},V("postalCode"))):null,(0,P.jsxs)("div",{className:n1.transferlockOptOut,children:[(0,P.jsx)(nK.Z,{checked:C,disabled:f,itransferlockOptOut",onChange:()=>S(!C),boxClassName:n1.transferLockOptOutCheckbox}),(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{components:{label:(0,P.jsx)("label",{htmlFor:R}),whatsThis:(0,P.jsx)("a",{href:"https://wordpress.com/support/domains/update-contact-information/#email-or-name-changes",rel:"noopener",target:"_blank"})},children:"[label]Opt-out of the 60-day transfer lock.[/label] [whatsThis]What's this?[/whatsThis]"})})]}),(0,P.jsxs)("div",{className:n1.formTerms,children:[(0,P.jsx)(aX.Z,{colors:{primary:M().paletteGray65},size:{width:20,height:20}}),(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Terms text when editing domain contact information",components:{terms:(0,P.jsx)("a",{href:"https://wordpress.com/automattic-domain-name-registration-agreement/",rel:"noopener",target:"_blank"}),designatedAgent:(0,P.jsx)("a",{href:"https://wordpress.com/support/domains/update-contact-information/#designated-agent",rel:"noopener",target:"_blank"})},params:{buttonLabel:d("Save domain contain info form","Save contact info")},children:"By clicking [buttonLabel], you agree to the applicable [terms]Domain Registration Agreement[/terms] and confirm that the Transferee has agreed in writing to be bound by the same agreement. You authorize the respective registrar to act as your [designatedAgent]Designated Agent[/designatedAgent]."})})]}),(0,P.jsxs)("div",{className:n1.formFooter,children:[(0,P.jsx)(L.Z,{backgroundColor:M().paletteWhite,disabled:f,disabledTextColor:M().paletteGray25,isRounded:!0,onClick:n,textColor:M().paletteGray65,theme:"border",type:"button",children:(0,P.jsx)(T.ZP,{comment:"Close domain contain info form",children:"Cancel"})}),(0,P.jsx)(L.Z,{disabled:f||!U,disabledTextColor:M().paletteGray25,isRounded:!0,textColor:M().paletteNavy,children:f?(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0}):(0,P.jsx)(T.ZP,{comment:"Save domain contain info form",children:"Save contact info"})})]})]})]})}var rs=(e,t,a)=>`${t}, ${e} ${a}`.replace(/^[,\s]*/,"").replace(/[,\s]*$/,"");function ri(e){var t,a,n=e.contactInfo,r=e.domainName,s=e.domainStatus,o=e.isContactDisclosed,l=e.isContactVerified,d=e.isPrivacyServiceEnabled,u=e.isRegistered,m=(0,j.bp)(),h=m._c,p=m.logEvent,g=(0,c.useState)(!1),b=i()(g,2),x=b[0],v=b[1],f=(0,c.useState)(null),y=i()(f,2),w=y[0],N=y[1],C=(0,c.useState)(!1),S=i()(C,2),k=S[0],Z=S[1],A={isContactDisclosed:o,isPrivacyServiceEnabled:d},E=(0,O.V)().toggleToast,F=(t=(0,J.NL)(),a=(0,j.bp)().apiFetch,(0,tp.D)({mutationFn:e=>{var t=new URLSearchParams;void 0!==e.isPrivacyServiceEnabled&&t.set("is_privacy_service_enabled",e.isPrivacyServiceEnabled?"1":"0"),void 0!==e.isContactDisclosed&&t.set("is_contact_disclosed",e.isContactDisclosed?"1":"0");var n=t.toString();return a(`/v2/domains/${r}/privacy_setting?${n}`,{method:"POST",headers:{"Content-Type":"application/json"}})},onMutate:e=>{var a,n,s;return D()().async(function(i){for(;;)switch(i.prev=i.next){case 0:return a=nM(r),i.next=3,D()().awrap(t.cancelQueries({queryKey:a}));case 3:return s=(n=t.getQueryData(a))&&{isContactDisclosed:n.domain.isContactDisclosed,isPrivacyServiceEnabled:n.domain.isPrivacyServiceEnabled},t.setQueryData(a,t=>(0,nH.Uy)(t,t=>{t.domain.isContactDisclosed=e.isContactDisclosed,t.domain.isPrivacyServiceEnabled=e.isPrivacyServiceEnabled})),i.abrupt("return",{restoreData:s});case 7:case"end":return i.stop()}},null,null,null,Promise)},onError:(e,a,n)=>{var s=null==n?void 0:n.restoreData;if(s){var iviceEnabled=s.isPrivacyServiceEnabled}))}}}));if(void 0===n)return(0,P.jsx)("div",{className:nq.loader,"data-testid":"contact-info-loader",children:(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0})});var I="domain-settings-contact-info-privacy-protection-label",B="domain-settings-contact-info-domain-public-contact-info-label",_="pending_transfer_out"===s,z=u&&!_;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:nq.domainSettingsContactInfo,children:[(0,P.jsxs)("p",{children:[n.firstName," ",n.lastName]}),(0,P.jsx)("p",{children:n.organization}),(0,P.jsx)("p",{children:n.email}),(0,P.jsx)("p",{children:n.address1}),(0,P.jsx)("p",{children:rs(n.state,n.city,n.postalCode)}),(0,P.jsx)("p",{children:n.countryCode}),(0,P.jsx)("p",{children:n.phone})]}),(0,P.jsx)("div",{className:nq.editButtonContainer,children:(0,P.jsx)(L.Z,{backgroundColor:M().paletteWhite,"data-automation-id":"domain-settings-contact-info-edit-button",isRounded:!0,onClick:()=>{v(!0),p({eventName:ec.J.DomainSettingsEditContactInfoClick})},textColor:M().paletteGray65,theme:"border",disabled:!z,disabledTextColor:M().paletteGray25,children:(0,P.jsx)(T.ZP,{comment:"Link for editing the owner contact information for a domain",children:"Edit contact info"})})}),(0,P.jsxs)("label",{className:nq.contactInfoToggleLabel,"data-automation-id":"domain-settings-contact-info-privacy-protection-toggle",id:I,children:[(0,P.jsx)(nU.Z,{checked:null==A?void 0:A.isPrivacyServiceEnabled,className:nq.contactInfoToggle,controlled:!0,disabled:!z||k,labelledBy:I,onChange:e=>{var t,a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return p({eventName:(t=!!e.target.checked)?ec.J.DomainSettingsPrivacyProtectionEnabled:ec.J.DomainSettingsPrivacyProtectionDisabled}),n.prev=2,Z(!0),n.next=6,D()().awrap(F.mutateAsync({isPrivacyServiceEnabled:t}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),aI(null===n.t0||void 0===n.t0||null===(a=n.t0.detailedErrors)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.code)?N("privacy_settings_update_failed"):E(h("error message when an error occurred while updating privacy protection","Oops. There was an error. Please reload the page and try again."),"error");case 11:return n.prev=11,Z(!1),n.finish(11);case 14:case"end":return n.stop()}},null,null,[[2,8,11,14]],Promise)}}),(0,P.jsx)("span",{className:nq.contactInfoToggleText,children:null!=A&&A.isPrivacyServiceEnabled?(0,P.jsx)(T.ZP,{comment:"Refers to the privacy protection status of a domain",children:"Privacy protection is enabled"}):(0,P.jsx)(T.ZP,{comment:"Refers to the privacy protection status of a domain",children:"Privacy protection is disabled"})})]}),(0,P.jsx)(nW.Z,{showCollapsable:!(null!=A&&A.isPrivacyServiceEnabled),children:(0,P.jsxs)("label",{id:B,className:nq.contactInfoToggleLabel,children:[(0,P.jsx)(nU.Z,{checked:null==A?void 0:A.isContactDisclosed,className:nq.contactInfoToggle,controlled:!0,"data-automation-id":"domain-settings-contact-info-domain-public-contact-info-toggle",disabled:!z||k||!l,labelledBy:B,onChange:e=>{var t;return D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return p({eventName:(t=!!e.target.checked)?ec.J.DomainSettingsPublicContactInfoEnabled:ec.J.DomainSettingsPublicContactInfoDisabled}),a.prev=2,Z(!0),a.next=6,D()().awrap(F.mutateAsync({isContactDisclosed:t}));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),E(h("error message when an error occurred while updating contact information disclosure","Oops. There was an error. Please reload the page and try again."),"error");case 11:return a.prev=11,Z(!1),a.finish(11);case 14:case"end":return a.stop()}},null,null,[[2,8,11,14]],Promise)}}),(0,P.jsx)("span",{className:nq.contactInfoToggleText,children:(0,P.jsx)(T.ZP,{comment:"Toggle for making contact information public in WHOIS",children:"Display my contact information in public WHOIS"})})]})}),k&&(0,P.jsx)("div",{className:nq.loaderPrivacySettings,children:(0,P.jsx)(nY,{children:(0,P.jsx)(T.ZP,{comment:"Text for when privacy settings are being updated",children:"Updating privacy settings"})})}),(0,P.jsx)(nJ,{isRegistered:u,isPendingTransferOut:_}),x&&(0,P.jsx)(rr,{contactInfo:n,domainName:r,onClose:()=>v(!1),onMaintenanceError:()=>N("contact_info_update_failed")}),w&&(0,P.jsx)(aF,{title:"privacy_settings_update_failed"===w?h("Title for the modal that appears when privacy settings update failed due to domain maintenance","Privacy settings update failed"):h("Title for the modal that appears when contact information update failed due to domain maintenance","Contact information update failed"),onClose:()=>N(null)})]})}var ro=a(74837),rl=()=>{var e=(0,j.bp)().apiFetch,t=(0,J.NL)();return(0,tp.D)({mutationFn:t=>e(`/v2/domains/${t.domainName}/auto_renew`,{method:"PUT",body:{auto_renew:t.autoRenew},headers:{"Content-Type":"application/json"}}),onMutate:e=>{var a,n,r;return D()().async(function(s){for(;;)switch(s.prev=s.next){case 0:return a=nM(e.domainName),s.next=3,D()().awrap(t.cancelQueries({queryKey:a}));case 3:return r=(n=t.getQueryData(a))&&{subscriptionStatus:n.subscription.status},t.setQueryData(a,t=>(0,nH.Uy)(t,t=>{t.subscription.status=e.autoRenew?nE.Ti.Active:nE.Ti.PendingCancel})),s.abrupt("return",{restoreData:r});case 7:case"end":return s.stop()}},null,null,null,Promise)},onError:(e,a,n)=>{var r=null==n?void 0:n.restoreData;if(r){var s=nM(a.domainName);t.setQueryData(s,e=>(0,nH.Uy)(e,e=>{e.subscription.status=r.subscriptionStatus}))}}})},rc=(0,tb.i)(tv.z.object({editLink:tv.z.string()}));let rd={autoRenewLabel:"m8psy",autoRenewStatus:"hNAz8",autoRenewToggle:"tdXBg",buttonContainer:"ABiCL",loader:"ahLU1",renewalDetails:"GFQmY",renewalDetail:"g7aVV",headerDetail:"cQeAP",warning:"bDoSK",bodyDetail:"cBDm8",renewDescription:"n2Tix",agreement:"KFJW7",renewalLoader:"jYR3r"};var ru=e=>{var t=e.domainName,a=e.domainType,n=e.subscriptionStatus,s=e.isAutoRenewing,o=e.isUpdatingAutoRenewalStatus,l=e.setIsUpdatingAutoRenewalStatus,d=(0,j.bp)(),u=d.logEvent,m=d.apiFetchWithSchema,h=(0,O.V)().toggleToast,p=(0,c.useState)(!1),g=i()(p,2),b=g[0],x=g[1],v=rl(),f=()=>h(t3.K7,"error"),y="domain-settings-details-auto-renew-toggle-label";return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("label",{className:rd.autoRenewLabel,"data-automation-id":"auto-renew-toggle",id:y,children:[(0,P.jsx)(nU.Z,{checked:s,className:rd.autoRenewToggle,controlled:!0,disabled:o,labelledBy:y,onChange:e=>{var a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return a=!!e.target.checked,n.prev=1,u({eventName:a?ec.J.DomainSettingsAutoRenewEnabled:ec.J.DomainSettingsAutoRenewDisabled}),l(!0),n.next=6,D()().awrap(v.mutateAsync({domainName:t,autoRenew:a}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),f();case 11:return n.prev=11,l(!1),n.finish(11);case 14:case"end":return n.stop()}},null,null,[[1,8,11,14]],Promise)}}),(0,P.jsx)("span",{className:rd.autoRenewStatus,children:s?(0,P.jsx)(T.ZP,{comment:"Refers to the auto-renewal setting for a domain subscription",children:"Auto-renew on"}):(0,P.jsx)(T.ZP,{comment:"Refers to the auto-renewal setting for a domain subscription",children:"Auto-renew off"})})]}),(0,P.jsx)("div",{className:rd.buttonContainer,children:n===nE.Ti.Active&&(0,P.jsxs)(L.Z,{backgroundColor:M().paletteWhite,"data-automation-id":"edit-payment-details-button",disabled:b,disabledTextColor:M().paletteGray25,isRounded:!0,onClick:()=>{var e;return D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:var n;return u({eventName:ec.J.DomainSettingsEditPaymentDetailsClick}),x(!0),a.prev=2,a.next=5,D()().awrap((n=location.href,m(`/v2/domains/${t}/payment_method`,rc,r()({method:"GET"},n?{queryParams:{redirect_url:n}}:null))));case 5:e=a.sent.response,location.href=null==e?void 0:e.editLink,a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),x(!1),f();case 14:case"end":return a.stop()}},null,null,[[2,10]],Promise)},textColor:M().paletteGray65,theme:"border",children:[(0,P.jsx)(T.ZP,{comment:"Button for editing the payment details of a domain subscription",children:"Edit payment details"}),(0,P.jsx)("div",{className:rd.loader,children:(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0})})]})}),s&&(0,P.jsx)("div",{className:rd.renewDescription,children:"registered"===a?(0,P.jsx)(T.ZP,{comment:"Description of renewal date of subscription",children:"*To avoid hiccups during domain renewal and secure your ownership, we will attempt to renew your domain 14 days ahead of expiry."}):(0,P.jsx)(T.ZP,{comment:"Description of renewal date of subscription",children:"*To avoid hiccups during subscription renewal that may disrupt your domain connection, we will attempt to renew your domain 14 days ahead of expiry."})})]})},rm=(0,tb.i)(tv.z.object({checkoutUrl:tv.z.string()})),rh=e=>{var t=e.domainName,a=e.status,n=e.renewableUntilDate,r=(0,ro.j)(n),s=(0,j.bp)(),o=s.logEvent,l=s.apiFetchWithSchema,d=(0,O.V)().toggleToast,u=(0,c.us),h=m[0],p=m[1],g=()=>d(t3.K7,"error");return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:rd.renewDescription,children:"in_argp"===a?(0,P.jsx)(T.ZP,{comment:"Description for domains in auto-renew grace period",params:{renewableUntilDateFormatted:r},components:{linkRedemptionFee:(0,P.jsx)(am.rU,{to:ah.TN,target:"_blank"}),linkLearnMore:(0,P.jsx)(am.rU,{to:ah.Vn,target:"_blank"})},children:"Your domain name has expired. If you do not renew your domain by [renewableUntilDateFormatted], a [linkRedemptionFee]redemption fee[/linkRedemptionFee] will apply. Your domain name may also become available for someone else to register, in which case you will no longer be able to renew or use the domain name. [linkLearnMore]Learn more[/linkLearnMore]"}):(0,P.jsx)(T.ZP,{comment:"Description of expired domain and now in redemption period",components:{linkRedemptionFee:(0,P.jsx)(am.rU,{to:ah.TN,target:"_blank"}),linkLearnMore:(0,P.jsx)(am.rU,{to:ah.Vn,target:"_blank"})},children:"Your domain name has expired. To redeem your domain, a [linkRedemptionFee]redemption fee[/linkRedemptionFee] will apply. Your domain name may also become available for someone else to register, in which case you will no longer be able to renew or use the domain name. [linkLearnMore]Learn more[/linkLearnMore]"})}),(0,P.jsx)("div",{className:rd.buttonContainer,children:(0,P.jsxs)(L.Z,{disabled:h,disabledTheme:"default",disabledBackgroundColor:M().paletteAccent,isRounded:!0,textColor:M().paletteWhite,onClick:()=>{var e;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return o({eventName:"in_argp"===a?ec.J.DomainSettingsRenewNowClick:ec.J.DomainSettingsRedeemNowClick}),p(!0),n.prev=2,n.next=5,D()().awrap(l(`/v2/domains/${t}/renew`,rm,{method:"GET"}));case 5:e=n.sent.response,location.href=e.checkoutUrl,n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),g(),p(!1);case 14:case"end":return n.stop()}},null,null,[[2,10]],Promise)},children:["in_argp"===a?(0,P.jsx)(t3.GZ,{}):(0,P.jsx)(t3.j2,{}),(0,P.jsx)("div",{className:rd.loader,children:(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0})})]})})]})},rp=()=>(0,P.jsx)("div",{className:rd.agreement,children:(0,P.jsx)(am.rU,{to:"https://wordpress.com/automattic-domain-name-registration-agreement/",target:"_blank",children:(0,P.jsx)(T.ZP,{comment:"Link to the domain registration agreement",children:"Domain Registration Agreement"})})});function rg(e){var t=e.subscription,a=e.domainName,n=e.domain,r=(0,c.useState)(!1),s=i()(r,2),o=s[0],d=s[1],u=(0,ro.j)("registered"===n.type?n.registrationDate:null),m=(0,ae.VU)(t,!0),h=(0,ro.j)(n.expiryDate),p=(0,ae.o$)(t,"nextBillingTime",$.C.Notes);"pending_transfer_in"===n.status&&(p=t2.WB);var g=(0,c.useState)("active"===t.status),b=i()(g,2)seEffect)(()=>{v("active"===t.status)},[t.status]);var j=(0,P.jsxs)("div",{className:rd.renewalDetails,children:[(0,P.jsxs)("div",{className:rd.renewalDetail,children:[(0,P.jsx)("span",{className:l()(rd.headerDetail,{[rd.warning]:!x||f}),children:f?(0,P.jsx)(T.ZP,{comment:"Label for indicating that a domain is expired",children:"Expired on"}):x?(0,P.jsx)(T.ZP,{comment:"Label for the renewal date of a domain",children:"Renews on*"}):(0,P.jsx)(T.ZP,{comment:"Label for indicating that a domain will expire",children:"Expires on"})}),(0,P.jsxs)("span",{className:rd.bodyDetail,children:[o&&(0,P.jsx)("div",{className:rd.renewalLoader,children:(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0})}),f?h:!o&&(x?p:h)]})]}),(0,P.jsxs)("div",{className:rd.renewalDetail,children:[(0,P.jsx)("span",{className:rd.headerDetail,children:(0,P.jsx)(T.ZP,{comment:"Label for the renewal price of a domain",children:"Renewal price"})}),(0,P.jsx)("span",{className:rd.bodyDetail,children:m})]}),"registered"===n.type&&(0,P.jsxs)("div",{className:rd.renewalDetail,children:[(0,P.jsx)("span",{className:rd.headerDetail,children:(0,P.jsx)(T.ZP,{comment:"Label for the registration date of a domain",children:"Registered on"})}),(0,P.jsx)("span",{className:rd.bodyDetail,children:u})]}),"registered"===n.type&&!f&&(0,P.jsxs)("div",{className:rd.renewalDetail,children:[(0,P.jsx)("span",{className:rd.headerDetail,children:(0,P.jsx)(T.ZP,{comment:"Label for the expiration date of a domain",children:"Registered until"})}),(0,P.jsx)("span",{className:rd.bodyDetail,children:h})]})]});return(0,P.jsxs)(P.Fragment,{children:[j,"registered"===n.type&&("in_argp"===n.status||"in_redemption"===n.status)?(0,P.jsx)(rh,{domainName:a,status:n.status,renewableUntilDate:n.renewableUntilDate}):(0,P.jsx)(ru,{domainName:a,domainType:n.type,subscriptionStatus:t.status,isAutoRenewing:x,isUpdatingAutoRenewalStatus:o,setIsUpdatingAutoRenewalStatus:d}),"registered"===n.type&&(0,P.jsx)(rp,{})]})}function rb(){var e=(0,d.UO)().domainName,t=void 0===e?"":e,a=(0,j.bp)().logEvent,n=(0,d.s0)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(nl,{domainName:t,isEditable:!1}),(0,P.jsx)(L.Z,{backgroundColor:M().paletteWhite,"data-automation-id":"domain-settings-dns-manage-button",isRounded:!0,onClick:()=>{a({eventName:ec.J.DomainSettingsManageDnsClick}),n((0,x.dy)({domainName:t}))},textColor:M().paletteGray65,theme:"border",children:(0,P.jsx)(T.ZP,{comment:"Link for managing DNS records of a domain",children:"Manage DNS records"})})]})}var rx=a(20069),rv=a(87693),rf=a(34846),rj=a.n(rf),ry=()=>{var e=(0,j.bp)().apiFetch,t=(0,J.NL)();return(0,tp.D)({mutationFn:t=>{var a=t.tumblelogUuid?"POST":"DELETE";return e(`/v2/domains/${t.domainName}/blog_connection`,{method:a,body:{tumblelog_uuid:"POST"===a?t.tumblelogUuid:void 0}})},onSettled:(e,a,n)=>{var r,s;return D()().async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=nM(n.domainName),e.t0=rj(),e.t1=Promise,e.t2=t,e.t3={predicate:e=>(s=e.queryKey)[0]===r[0]&&s[1]!==r[1]},e.t4=e.t2.removeQueries.call(e.t2,e.t3),e.t5=t.invalidateQueries({queryKey:r}),e.t6=t.invalidateQueries({queryKey:nu()}),e.t7=[e.t4,e.t5,e.t6],e.t8=e.t1.all.call(e.t1,e.t7),e.next=12,e.t0.awrap.call(e.t0,e.t8);case 12:case"end":return e.stop()}},null,null,null,Promise)}})},rw=e=>{var t=e.title,a=e.body,n=e.onConfirm,r=e.onCancel,s=e.confirmButtonText,i=e.cancelButtonText;return(0,P.jsx)(_.Z,{glassIsClickable:!1,onGlassClick:n0.Z,children:(0,P.jsx)(z.O,{buttons:[{text:(0,P.jsx)(L.Z,{wrapperClassName:"XegA4",isRounded:!0,onClick:r,backgroundColor:M().paletteWhite,textColor:M().paletteGray65,borderColor:M().paletteGray65,children:i},"cancel-button"),buttonStyle:z.X.Custom},{text:(0,P.jsx)(L.Z,{wrapperClassName:"FLsXy",textColor:M().paletteWhite,isRounded:!0,onClick:n,children:s},"confirm-button"),buttonStyle:z.X.Custom}],title:t,body:a,isBodyHtml:!0,useWhiteContainerDesign:!0})})},rN=e=>{var t=e.blogName,a=e.domainName,n=e.onCancel,r=e.onConfirm,s=(0,j.bp)(),i=s._c,o=s.logEvent;return(0,P.jsx)(rw,{title:i("Prompt user to confirm disconnecting a domain from a blog","Disconnect Domain"),body:i("Prompt user to confirm disconnecting a domain from a blog","Are you sure you want to disconnect <strong>%1$s</strong> from the blog <strong>%2$s</strong>?",[a,t]),confirmButtonText:i("Button text for confirming domain disconnection","Disconnect domain"),cancelButtonText:i("Button text for cancelling domain disconnection","Nevermind"),onCancel:()=>{o({eventName:ec.J.DomainSettingsBlogDisconnectCancelled}),n()},onConfirm:()=>{o({eventName:ec.J.DomainSettingsBlogDisconnectConfirmed}),r()}})},rC=e=>{var t=e.blogName,a=e.currentDomainName,n=e.newDomainName,r=e.onCancel,s=e.onConfirm,i=(0,j.bp)(),o=i._c,l=i.logEvent;return(0,P.jsx)(rw,{title:o("Prompt user to confirm domain connection","Connect Domain"),body:o("Prompt user to confirm a domain connection when the selected blog is already connected to another domain","The blog <strong>%1$s</strong> is currently connected to <strong>%2$s</strong>. Are you sure you want to connect it to <strong>%3$s</strong> instead?",[t,a,n]),confirmButtonText:o("Button text for confirming domain connection","Connect domain"),cancelButtonText:o("Button text for cancelling domain connection","Nevermind"),onCancel:()=>{l({eventName:ec.J.DomainSettingsBlogConnectionCancelled}),r()},onConfirm:()=>{l({eventName:ec.J.DomainSettingsBlogConnectionConfirmed}),s()}})},rP=e=>{var t=e.blogName,a=e.currentDomainName,n=e.newDomainName,r=e.onCancel,s=e.onConfirm,i=(0,j.bp)(),o=i._c,l=i.logEvent;return(0,P.jsx)(rw,{title:o("Prompt user to confirm permanently disconnecting legacy domain which was bought outside Tumblr","Connect Domain"),body:o("Prompt user to confirm permanently disconnecting legacy domain which was bought outside Tumblr","The blog <strong>%1$s</strong> is currently connected to <strong>%2$s</strong>, a domain that was not purchased on Tumblr. Connecting <strong>%3$s</strong> to <strong>%1$s</strong> will disconnect <strong>%2$s</strong> and you will no longer be able to connect it to your Tumblr blog in the future. Are you sure?",[t,a,n]),confirmButtonText:o("Button text for confirming domain connection","Connect domain"),cancelButtonText:o("Button text for cancelling domain connection","Nevermind"),onCancel:()=>{l({eventName:ec.J.DomainSettingsBlogConnectionCancelled}),r()},onConfirm:()=>{l({eventName:ec.J.DomainSettingsBlogConnectionConfirmed}),s()}})},rS=e=>{var t,a,n,r=e.disabled,s=void 0!==r&&r,o=e.domain,d=e.blogs,u=(0,j.bp)(),m=u._c,h=u.apiFetch,p=u.logEvent,g=(0,O.V)().toggleToast,b=(0,c.useState)((0,rx.vn)(m("Message displayed in a blog selector dropdown, when no blog is chosen.","Choose a blog"))),x=i()(b,1)[0],v=ry(),f=v.mutateAsync,y=v.isPending,w=(0,c.useState)(!1),N=i()(w,2),C=N[0],S=N[1],k=(0,c.useState)(null!==(t=o.blog)&&void 0!==t?t:x),T=i()(k,2),Z=T[0],A=T[1],E=(0,c.useState)(null),F=i()(E,2),L=F[0],I=F[1];(0,c.useEffect)(()=>{var e;A(null!==(e=o.blog)&&void 0!==e?e:x)},[o.blog,x]);var B=e=>{var t,a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D()().awrap(f({domainName:o.domainName,tumblelogUuid:null!==(t=e.uuid)&&void 0!==t?t:null}));case 3:A(e),(0,rx.al)(e)?p({eventName:ec.J.DomainSettingsBlogConnectionDisabled}):p({eventName:ec.J.DomainSettingsBlogConnectionEnabled,eventDetails:{isLegacyReplaced:!!(null!=L&&null!==(a=L.blogSettings)&&void 0!==a&&a.hasLegacyDomain)}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),g(m("error message when an error occurred connecting a domain to a blog","Oops. There was an error. Please reload the page and try again."),"error");case 10:I(null);case 11:case"end":return n.stop()}},null,null,[[0,7]],Promise)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:l()("NNLkb",{CuAxA:s}),"data-automation-id":"domain-blog-connector-selector",children:(0,P.jsx)(rx.ZP,{unselectText:m("Allows the user to unselect a blog in the blog selector component.","Remove connection"),align:"left",avatarDimension:20,blogs:d||[],disableToggle:s,displayAvatar:!0,maxTextWidth:"fit-content",onClickSelectedBlog:e=>{var t;return D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(0,rx.al)(e)){a.next=3;break}return I({blog:e}),a.abrupt("return");case 3:return S(!0),a.prev=4,a.next=7,D()().awrap((0,rv.Z)(h,e.name));case 7:if(t=a.sent,S(!1),!(t.connectedDomainName||t.hasLegacyDomain)){a.next=13;break}I({blog:e,blogSettings:t}),a.next=15;break;case 13:return a.next=15,D()().awrap(B(e));case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(4),S(!1);case 20:case"end":return a.stop()}},null,null,[[4,17]],Promise)},selectedBlog:Z,textColor:M().paletteGray65})}),L&&(0,rx.al)(L.blog)&&(0,P.jsx)(rN,{blogName:Z.name,domainName:o.domainName,onCancel:()=>I(null),onConfirm:()=>B(L.blog)}),(null==L||null===(a=L.blogSettings)||void 0===a?void 0:a.connectedDomainName)&&L.blogSettings.cname!==o.domainName&&(0,P.jsx)(rC,{blogName:L.blog.name,currentDomainName:L.blogSettings.connectedDomainName,newDomainName:o.domainName,onCancel:()=>I(null),onConfirm:()=>B(L.blog)}),(null==L||null===(n=L.blogSettings)||void 0===n?void 0:n.hasLegacyDomain)&&L.blogSettings.cname!==o.domainName&&(0,P.jsx)(rP,{blogName:L.blog.name,currentDomainName:L.blogSettings.cnaName:o.domel:()=>I(null),onConfirm:()=>B(L.blog)}),(C||y)&&(0,P.jsx)(_.Z,{glassIsClickable:!1,onGlassClick:n0.Z,children:(0,P.jsx)(eh.Z,{centerOrientation:"horition rT(e){return e.replace(".","​.")}let rZ={domainSettingsHeader:"oaV3v",selectorContainer:"qYQGG",selectorLabel:"wQtmU",domainNameWrapper:"tYSwI",domainName:"jQ8Uf"};var rD=e=>"connected"===e.type||!["pending_transfer_in","trrA=e=>["invalid_dns"].includes(e.status),rE=e=>{var t=e.domain,a=e.blogs;return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:rZ.domainSettingsHeader,children:[(0,P.jsxs)("div",{className:rZ.domainNameWrapper,children:[(0,P.jsx)(k,{className:rZ.domainName,children:rT(t.domainName)}),(0,P.jsx)(rk.B,{status:t.status})]}),rD(t)&&(0,P.jsxs)("div",{className:rZ.selectorContainer,children:[(0,P.jsx)("div",{className:rZ.selectorLabel,children:(0,P.jsx)(T.ZP,{comment:"Label of the blog switcher used for selecting a blog for domain mapping",children:"Connected to"})}),(0,P.jsx)(rS,{blogs:a.filter(e=>e.admin),disabled:rA(t),domain:t})]})]})})};function rF(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"EgVE2",children:[(0,P.jsx)(eZ.Z,{size:{width:12,height:12},colors:{primary:M().paletteBlack}}),(0,P.jsx)("span",{className:"mHHDs",children:(0,P.jsx)(T.ZP,{comment:"SSL certificate status",children:"SSL certificate active"})})]}),(0,P.jsxs)("p",{className:"WNtzg",children:[(0,P.jsx)(T.ZP,{comment:"SSL certificate description",children:"We give you strong HTTPS encryption with your domain for free. This provides a trust indicator for your visitors and keeps their connection to your site secure."})," ",(0,P.jsx)("a",{href:"https://help.tumblr.com/hc/articles/14449316040087#domain-security",rel:"noopener noreferrer",target:"_blank",children:(0,P.jsx)(T.ZP,{comment:"A hyperlink that links out to the learn more page",children:"Learn more"})})]})]})}var rL=()=>{var e=(0,j.bp)().apiFetch,t=(0,J.NL)();return(0,tp.D)({mutationFn:t=>e(`/v2/domains/${t.domainName}/transfer_lock`,{method:"PUT",body:{is_locked:t.isLocked},headers:{"Content-Type":"application/json"}}),onMutate:e=>{var a,n,r;return D()().async(function(s){for(;;)switch(s.prev=s.next){case 0:return a=nM(e.domainName),s.next=3,D()().awrap(t.cancelQueries({queryKey:a}));case 3:return r=(n=t.getQueryData(a))&&{isLocked:n.domain.isLocked},t.setQueryData(a,t=>(0,nH.Uy)(t,t=>{t.domain.isLocked=e.isLocked})),s.abrupt("return",{restoreData:r});case 7:case"end":return s.stop()}},null,null,null,Promise)},onError:(e,a,n)=>{var r=null==n?void 0:n.restoreData;if(r){var s=nM(a.doH.Uy)(e,e=>{e.domain.isLocked=r.isLocked}))}}})},rI=()=>{var e=(0,j.bp)().apiFetch;return(0,tp.D)({mutationFn:t=>{var a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D()().awrap(e(`/v2/domains/${t.domainName}/send_authorization_code`,{method:"POST"}));case 2:return a=n.sent.response,n.abrupt("return",{email:a.email});case 5:case"end":return n.stop()}},null,null,null,Promise)}})},rM=e=>{var t=e.transferLockedUntilDateLocalized,a=e.isLockedAtRegistry,n=e.domainStatus,r=e.transferRequestDateLocalized,s=(0,P.jsx)("a",{href:"https://help.tumblr.com/hc/articles/14449316040087#transfers",target:"_blank"});if(a)return(0,P.jsx)(T.ZP,{comment:"Explanation on why the domain is locked for transfer",params:{date:t},components:{link:s},children:"You can unlock this domain after [date]. [link]Why is your domain locked?[/link]"});var i=(0,P.jsx)(T.ZP,{comment:"Description of the outbound transfer process",components:{link:s},children:"Transferring a domain to another provider can take five to seven days during which no changes to the domain can be made. Read [link]this important information[/link] before starting a transfer."});return"pending_transfer_out"===n?(0,P.jsxs)(P.Fragment,{children:[i,(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),(0,P.jsx)(T.ZP,{comment:"Status of a domain transfer process",params:{date:r},children:"The transfer process for your domain started on [date]."})]}):(0,P.jsxs)(P.Fragment,{children:[i,(0,P.jsx)("br",{}),(0,P.jsx)("br",{}),(0,P.jsx)(T.ZP,{comment:"Description of the outbound transfer process",children:"We recommend leaving the transfer lock on unless you want to transfer your domain to another provider."})]})};let rB={transferDescription:"cJmMG",transferLockLabel:"JKvh7",transferLockStatus:"yA0SB",getAuthorizationCodeButtonContainer:"Ssshi"};function r_(e){var t=e.domain,a=e.transferLockLabel,n=(0,j.bp)(),r=n._c,s=n.logEvent,o=(0,O.V)().toggleToast,l=(0,c.useState)(!1),d=i()(l,2),u=d[0],m=d[1],h=rL(),p=rI(),g=(0,ro.j)(t.transferlockedUntilDate),b=(0,ro.j)(t.transferRequestDate),x="transfer-lock-toggle",v=!t.isLockedAtRegistry&&"pending_transfer_out"!==t.status;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{className:rB.transferDescription,children:(0,P.jsx)(rM,{domainStatus:t.status,isLockedAtRegistry:t.isLockedAtRegistry,transferLockedUntilDateLocalized:g,transferRequestDateLocalized:b})}),(0,P.jsxs)("label",{className:rB.transferLockLabel,"data-automation-id":x,id:x,children:[(0,P.jsx)(nU.Z,{disabled:!v||h.isPending,checked:t.isLocked,className:rB.transferLockToggle,controlled:!0,labelledBy:x,onChange:e=>{var a,n;return D()().async(function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.target.checked,i.prev=1,i.next=4,D()().awrap(h.mutateAsync({domainName:t.domainName,isLocked:a}));case 4:s({eventName:a?ec.J.DomainSettingsTransferLockEnabled:ec.J.DomainSettingsTransferLockDisabled}),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(1),aI(null===i.t0||void 0===i.t0||null===(n=i.t0.detailedErrors)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.code)?m(!0):o(r("error message when an unknown error occurred while updating a domain setting","Oops. There was an error. Please reload the page and try again."),"error");case 10:case"end":return i.stop()}},null,null,[[1,7]],Promise)}}),(0,P.jsxs)("span",{className:rB.transferLockStatus,children:[(0,P.jsx)(eZ.Z,{size:{width:16,height:16},colors:{primary:M().paletteBlack}}),a]})]}),h.isPending&&(0,P.jsx)(nY,{children:t.isLocked?(0,P.jsx)(T.ZP,{comment:"Message shown when the transfer lock of a domain is being enabled",children:"Locking your domain"}):(0,P.jsx)(T.ZP,{comment:"Message shown when the transfer lock of a domain is being disabled",children:"Unlocking your domain"})}),(0,P.jsx)("div",{className:rB.getAuthorizationCodeButtonContainer,children:(0,P.jsx)(L.Z,{backgroundColor:M().paletteWhite,"data-automation-id":"get-authorization-code-button",disabled:!v||p.isPending,disabledBackgroundColor:M().paletteAccent,disabledTextColor:M().paletteGray25,isRounded:!0,onClick:()=>D()().async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D()().awrap(p.mutateAsync({domainName:t.domainName}));case 3:s({eventName:ec.J.DomainSettingsSendAuthorizationCodeClick}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o(r("error message when an unknown error occurred while updating a domain setting","Oops. There was an error. Please reload the page and try again."),"error");case 9:case"end":return e.stop()}},null,null,[[0,6]],Promise),textColor:M().paletteGray65,theme:"border",children:(0,P.jsx)(T.ZP,{comment:"Label of a button that generates an authorization code for transferring a domain away",children:"Get authorization code"})})}),p.isPending&&(0,P.jsx)(nY,{children:(0,P.jsx)(T.ZP,{comment:"Message shown when the authorization code to transfer a domain out is being sent to user's email address",children:"Sending authorization code"})}),p.isSuccess&&(0,P.jsx)(nj.Z,{theme:"info",icon:(0,P.jsx)(aX.Z,{colors:{primary:M().paletteBlue}}),message:(0,P.jsx)(T.ZP,{comment:"A message letting users know the authorization code has been emailed to their mailbox",params:{ownerEmailAddress:p.data.email},children:"We sent the transfer authorization code to [ownerEmailAddress]. If you don't receive it shortly, check your spam folder."})}),u&&(0,P.jsx)(aF,{title:r("Title for the modal that appears when transfer lock update failed due to domain maintenance","Transfer lock update failed"),onClose:()=>m(!1)})]})}let rz={domainSettings:"pGu_A",errorIcon:"emaWi"};var rR=()=>{var e=(0,j.bp)()._c;return(0,P.jsx)(nV,{automationId:"domain-settings-security-collapsable-section",title:e("Title of the domain security panel in domain settings","Domain security"),description:e("Subheader of the domain security panel in domain settings","SSL certificate active"),isCollapsedOnPageLoad:!0,krakenPanelName:"security",children:(0,P.jsx)(rF,{})})},rO=e=>{var t=e.domain,a=e.blogs,n=e.subscription,r=(0,j.bp)()._c,s=(0,c.useState)(!1),o=i()(s,2),l=o[0],d=o[1],u=(0,c.useState)(!1),m=i()(u,2),h=m[0],p=m[1],g=function(e){var t=(0,j.bp)().apiFetchWithSchema;return(0,tg.a)({queryKey:n_(e),queryFn:()=>{var a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D()().awrap(t(`/v2/domains/${e}/contact_information/owner`,(0,tb.i)(tv.z.object({contact:tv.z.object({contactInformation:nB})})),{method:"GET"}));case 2:return a=n.sent.response,n.abrupt("return",a.contact);case 5:case"end":return n.stop()}},null,null,null,Promise)},refetchOnWindowFocus:!1,enabled:!!e})}(l?t.domainName:"").data,b=null==g?void 0:g.contactInformation,x=nO(t);return(0,P.jsxs)(P.Fragment,{children:[t.pendingContactVerificationEmail&&(0,P.jsx)(nj.Z,{theme:"info",icon:(0,P.jsx)(aX.Z,{colors:{primary:M().paletteBlue}}),message:r("Info alert to verify email address","Please check your %1$s mailbox to verify your contact information.",[t.pendingContactVerificationEmail])}),(0,P.jsx)(rE,{domain:t,blogs:a}),(0,P.jsx)(nV,{automationId:"domain-settings-details-collapsable-section",title:r("Title of the domain registration details panel in domain settings","Details"),description:r("Subheader of the domain registration details panel in domain settings","Registration, payment details and auto-renewal"),krakenPanelName:"details",children:(0,P.jsx)(rg,{subscription:n,domain:t,domainName:t.domainName})}),!["pending_transfer_in","transfer_in_failed"].includes(t.status)&&!x&&(0,P.jsx)(nV,{automationId:"domain-settings-contact-info-collapsable-section",title:r("Title of the contact information panel in domain settings","Contact information"),description:r("Subheader of the contact information panel in domain settings","Manage contact info and privacy settings"),isCollapsedOnPageLoad:!0,onToggle:()=>d(!0),krakenPanelName:"contactInfo",children:(0,P.jsx)(ri,{contactInfo:b,domainName:t.domainName,domainStatus:t.status,isContactDisclosed:t.isContactDisclosed,isContactVerified:null===t.pendingContactVerificationEmail,isPrivacyServiceEnabled:t.isPrivacyServiceEnabled,isRegistered:t.isRegistered})}),t.isRegistered&&!x&&(0,P.jsx)(nV,{automationId:"domain-settings-dns-collapsable-section",title:r("Title of the domain DNS panel in domain settings where users can manage their DNS records","DNS records"),description:r("Subheader of the domain DNS panel in domain settings","Manage how your domain works"),isCollapsedOnPageLoad:!0,onToggle:()=>p(!0),krakenPanelName:"dns",children:h?(0,P.jsx)(rb,{}):(0,P.jsx)(P.Fragment,{})}),t.isSslActivated&&!x&&(0,P.jsx)(rR,{}),t.isRegistered&&!x&&(0,P.jsx)(nV,{automationId:"domain-settings-transfer-collapsable-section",title:r("Title of the domain transfer panel in domain settings where users can enable and disable transfer lock and generate a transfer authorization code","Transfer"),description:t.isLocked?r("Transfer lock setting is on for a given domain","Locked for transfer to another registrar"):r("Transfer lock setting is off for a given domain","Unlocked for transfer to another registrar"),isCollapsedOnPageLoad:!0,krakenPanelName:"transfer",children:(0,P.jsx)(r_,{domain:t,transferLockLabel:t.isLocked?r("Transfer lock setting is on for a given domain","Transfer lock on"):r("Transfer lock setting is off for a given domain","Transfer lock off")})})]})},rG=e=>{var t=e.domain,a=e.blogs,n=e.subscription,r=(0,j.bp)()._c;return(0,P.jsxs)(P.Fragment,{children:["invalid_dns"===t.status&&(0,P.jsx)(nj.Z,{theme:"error",icon:(0,P.jsx)(nA,{colors:{background:M().transparent,primary:M().paletteRed},size:{height:24,width:24}}),message:(0,P.jsx)(T.ZP,{comment:"Alert to inform users that action is required to restore functionality for their domain connection",components:{link:(0,P.jsx)(am.rU,{to:ah.J5,target:"_blank"})},children:"Uh oh, your domain is disconnected. Please ensure the domain’s DNS points to Tumblr’s IP address 66.6.44.4. [link]Learn more[/link]."})}),(0,P.jsx)(rE,{domain:t,blogs:a}),(0,P.jsx)(nV,{automationId:"domain-settings-details-collapsable-section",title:r("Title of the domain registration details panel in domain settings","Details"),description:r("Subheader of the domain connection details panel in domain settings","Payment details and auto-renewal"),krakenPanelName:"details",children:(0,P.jsx)(rg,{subscription:n,domain:t,domainName:t.domainName})}),t.isSslActivated&&(0,P.jsx)(rR,{})]})},rW=(0,tb.i)(tv.z.object({isDomainTransferable:tv.z.boolean(),checkoutUrl:tv.z.string().optional(),reasonCode:tv.z.union([tv.z.literal("domain_locked"),tv.z.literal("domain_pending_transfer"),tv.z.literal("authorization_failed"),tv.z.literal("domain_not_registered"),tv.z.literal("domain_not_eligible"),tv.z.literal("domain_recent_registration")]).optional()})),rV=(e,t)=>""===t?e("Error message for when an authorization code is empty","Please enter an authorization code"):"",rU=e=>{var t=e.label,a=e.onClose;return{text:(0,P.jsx)(L.Z,{isRounded:!0,onClick:a,backgroundColor:M().paletteWhite,textColor:M().paletteGray65,borderColor:M().paletteGray65,theme:"border",children:t},"close-button"),buttonStyle:z.X.Custom}},rH=e=>{var t=e.label,a=e.href,n=e.onClick;return{text:(0,P.jsx)(L.Z,{textColor:M().paletteWhite,isRounded:!0,href:a,style:{marginLeft:"8px"},onClick:n,children:t},"cta-button"),buttonStyle:z.X.Custom}},rY=e=>{var t=e.reasonCode,a=e.onClose,n=e.domainName,r=(0,j.bp)().logEvent,s=(0,P.jsx)(T.ZP,{comment:"Title of a modal that appears when a domain cannot be transferred",children:"Oops! Your domain cannot be transferred"});(0,c.useEffect)(()=>{r({eventName:ec.J.DomainTransferRejected,eventDetails:{reasonCode:t}})},[t,r]);var i=()=>{r({eventName:ec.J.DomainTransferRejectedDismissClick}),a()};return"domain_locked"===t?(0,P.jsx)(_.Z,{onGlassClick:i,children:(0,P.jsx)(z.O,{buttons:[rU({label:t3.CN,onClose:i})],isBodyHtml:!0,title:s,useWhiteContainerDesign:!0,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain cannot be transferred",params:{domainName:n},components:{b:(0,P.jsx)("b",{}),link:(0,P.jsx)(am.rU,{to:"https://help.tumblr.com/hc/articles/18207779163543#h_01HCGDY9Q74DQC5S2C24Q7F8XQ",target:"_blank"})},children:"Your domain [b][domainName][/b] seems to be locked. Please check with your current registrar and make sure it's unlocked before trying again. Stuck? This [link]guide[/link] may help!"})})}):"domain_pending_transfer"===t?(0,P.jsx)(_.Z,{onGlassClick:i,children:(0,P.jsx)(z.O,{buttons:[rU({label:t3.Zp,onClose:i}),rH({label:t3.BL,href:x.o_.domainPurchase,onClick:()=>{r({eventName:ec.J.DomainTransferRejectedDomainPurchaseClick})}})],isBodyHtml:!0,title:(0,P.jsx)(T.ZP,{comment:"Title of a modal that appears when a domain cannot be transferred",children:"Your domain is being transferred"}),useWhiteContainerDesign:!0,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain cannot be transferred",params:{domainName:n},components:{b:(0,P.jsx)("b",{})},children:"Hold up! It looks like your domain [b][domainName][/b] is already in the middle of a transfer. You will receive an email once that's done. Meanwhile, interested in shopping for another domain?"})})}):"authorization_failed"===t?(0,P.jsx)(_.Z,{onGlassClick:i,children:(0,P.jsx)(z.O,{buttons:[rU({label:t3.CN,onClose:i})],isBodyHtml:!0,title:s,useWhiteContainerDesign:!0,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain cannot be transferred",params:{domainName:n},components:{b:(0,P.jsx)("b",{}),link:(0,P.jsx)(am.rU,{to:"https://help.tumblr.com/hc/articles/18207779163543#h_01HCGDY9Q74DQC5S2C24Q7F8XQ",target:"_blank"})},children:"There was an issue authorizing the transfer of [b][domainName][/b]. Double-check your authorization code and give it another whirl. Stuck? This [link]guide[/link] may help!"})})}):"domain_not_registered"===t?(0,P.jsx)(_.Z,{onGlassClick:i,children:(0,P.jsx)(z.O,{buttons:[rH({label:t3.Ty,href:(0,x.yj)({domainName:n}),onClick:()=>{r({eventName:ec.J.DomainTransferRejectedTryAgainClick})}})],isBodyHtml:!0,title:s,useWhiteContainerDesign:!0,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain cannot be transferred",params:{domainName:n},components:{b:(0,P.jsx)("b",{})},children:"The domain [b][domainName][/b] doesn't appear to be registered anywhere. Make sure you've got the right domain name."})})}):"domain_not_eligible"===t?(0,P.jsx)(_.Z,{onGlassClick:i,children:(0,P.jsx)(z.O,{buttons:[rU({label:t3.Zp,onClose:i}),rH({label:t3.vY,href:(0,x.hG)({domainName:n}),onClick:()=>{r({eventName:ec.J.DomainTransferRejectedDomainConnectClick})}})],isBodyHtml:!0,title:s,useWhiteContainerDesign:!0,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain cannot be transferred",params:{domainName:n},components:{b:(0,P.jsx)("b",{}),link:(0,P.jsx)(am.rU,{to:"https://help.tumblr.com/hc/articles/18207779163543#h_01HCGG54QP09D0Z9GBXD8JQM7N",target:"_blank"})},children:"Your domain [b][domainName][/b] isn't eligible for transfer right now. There could be a few reasons for this, so check with your current registrar or our [link]guide[/link] for details. Alternatively, you can leave the domain with your current registrar, and connect it to Tumblr!"})})}):"domain_recent_registration"===t?(0,P.jsx)(_.Z,{onGlassClick:i,children:(0,P.jsx)(z.O,{buttons:[rU({label:t3.CN,onClose:i})],isBodyHtml:!0,title:s,useWhiteContainerDesign:!0,children:(0,P.jsx)(T.ZP,{comment:"Text of a modal that appears when a domain cannot be transferred",params:{domainName:n},components:{b:(0,P.jsx)("b",{})},children:"Your domain [b][domainName][/b] must be registered for at least 60 days before it can be transferred."})})}):null},rq=a(2731),rJ=a(45222),rK=a(10381),r$=a(96467);let rX={domainsManagementBlogWithAvatar:"K2e9U",domainsManagementBlogNotConnected:"mXIHd"};function rQ(e){var t=e.blog,a=(0,rK.pG)().width;return t?(0,P.jsxs)("div",{className:rX.domainsManagementBlogWithAvatar,children:[(0,P.jsx)(rJ.Z,{dimension:a<r$.phoneResponsiveMaxBreakpoint?20:28,imageResponse:t.avatar,isLink:!1,name:t.name,showBlogCard:!1}),(0,P.jsx)("span",{children:t.name})]}):(0,P.jsx)("div",{className:rX.domainsManagementBlogNotConnected,children:(0,P.jsx)(T.ZP,{comment:"Indicates that a domain purchased by a user does not redirect to a Tumblr blog yet",children:"Not connected"})})}function r0(e){var t=e.domainName,a=e.status,n=(0,j.bp)().logEvent;return(0,P.jsxs)("div",{className:"d6Bxp",children:[(0,P.jsx)(an.Z,{onClick:()=>{n({eventName:ec.J.DomainsManagementEditClick})},to:(0,x.uq)({domainName:t}),"data-automation-id":"domain-name-button",children:(0,P.jsx)("strong",{children:rT(t)})}),(0,P.jsx)(rk.B,{status:a})]})}function r1(e){var t=e.domainName,a=(0,j.bp)(),n=a._t,r=a.logEvent;return(0,P.jsx)(an.Z,{wrapperClassName:"QceOP",title:n("Manage %1$s dom{eventName:ec.J.DomainsManagementEditClick})},"data-automation-id":"edit-domain-button",children:(0,P.jsx)(tI.Z,{size:{height:16,width:16},colors:{primary:M().paletteGray40}})})}function r2(e){var t=e.expiryDate,a=["in_argp","in_redemption","suspended"].includes(e.status),n=(0,ro.j)(a?null:t);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{className:"OG4Gc",children:(0,P.jsx)(T.ZP,{comment:"Refers to the last date of a purchased domain's registration period",children:"Registered until"})})," ",n]})}function r3(e){var t=e.expiryDate,a=(0,ro.j)(t);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{className:"jIle6",children:(0,P.jsx)(T.ZP,{comment:"Refers to the date of a connected domain, when the connection expires",children:"Connected until"})})," ",a]})}let r4={domainsManagementContent:"yvKYm",domainSection:"kkgDG",domainSectionHead:"YaAmY",domainSectionHeadCell:"IMeFk",domainSectionRow:"nKP4f",domainSectionCell:"uezhm",domainSectionCellGroup:"HIhui"};function r5(e){var t=e.domains,a=nz(t),n=nR(t),r=a.length>0,s=n.length>0;return(0,P.jsxs)("div",{className:r4.domainsManagementContent,children:[r&&(0,P.jsx)("h3",{children:(0,P.jsx)(T.ZP,{comment:"Refers to domains that have been purchased by a user through Tumblr",children:"Registered with Tumblr"})}),r&&(0,P.jsxs)("div",{className:r4.domainSection,children:[(0,P.jsxs)("div",{className:r4.domainSectionHead,children:[(0,P.jsx)("div",{className:r4.domainSectionHeadCell,children:(0,P.jsx)(T.ZP,{comment:"Refers to the name of a domain",children:"Domain name"})}),(0,P.jsx)("div",{className:r4.domainSectionHeadCell,children:(0,P.jsx)(T.ZP,{comment:"Refers to the Tumblr blog a domain purchased by a user redirects to",children:"Connected to"})}),(0,P.jsx)("div",{className:r4.domainSectionHeadCell,children:(0,P.jsx)(T.ZP,{comment:"Refers to the last date of a purchased domain's registration period",children:"Registered until"})})]}),a.map(e=>{var t=e.blog,a=e.domainName,n=e.expiryDate,r=e.status;return(0,P.jsxs)("div",{className:r4.domainSectionRow,children:[(0,P.jsx)("div",{className:r4.domainSectionCell,children:(0,P.jsx)(r0,{domainName:a,status:r})}),(0,P.jsx)("div",{className:r4.domainSectionCell,children:(0,P.jsx)(rQ,{blog:t})}),(0,P.jsx)("div",{className:r4.domainSectionCell,children:(0,P.jsxs)("div",{className:r4.domainSectionCellGroup,children:[(0,P.jsx)(r2,{expiryDate:n,status:r}),(0,P.jsx)(r1,{domainName:a})]})})]},a)})]}),s&&(0,P.jsx)("h3",{children:(0,P.jsx)(T.ZP,{comment:"Refers to domains that have been purchased by a user through a third-party registrar",children:"Registered with other registrars"})}),s&&(0,P.jsxs)("div",{className:r4.domainSection,children:[(0,P.jsxs)("div",{className:r4.domainSectionHead,children:[(0,P.jsx)("div",{className:r4.domainSectionHeadCell,children:(0,P.jsx)(T.ZP,{comment:"Refers to the name of a domain",children:"Domain name"})}),(0,P.jsx)("div",{className:r4.domainSectionHeadCell,children:(0,P.jsx)(T.ZP,{comment:"Refers to the Tumblr blog a domain purchased by a user redirects to",children:"Connected to"})}),(0,P.jsx)("div",{className:r4.domainSectionHeadCell,children:(0,P.jsx)(T.ZP,{comment:"Refers to the Tumblr blog a domain purchased by a user redirects to",children:"Connected until"})})]}),n.map(e=>{var t=e.blog,a=e.domainName,n=e.expiryDate,r=e.status;return(0,P.jsxs)("div",{className:r4.domainSectionRow,children:[(0,P.jsx)("div",{className:r4.domainSectionCell,children:(0,P.jsx)(r0,{domainName:a,status:r})}),(0,P.jsx)("div",{className:r4.domainSectionCell,children:(0,P.jsx)(rQ,{blog:t})}),(0,P.jsx)("div",{className:r4.domainSectionCell,children:(0,P.jsxs)("div",{className:r4.domainSectionCellGroup,children:[(0,P.jsx)(r3,{expiryDate:n}),(0,P.jsx)(r1,{domainName:a})]})})]},a)})]})]})}var r6=a(48352),r7=a(56249),r8=a(30646),r9=a(73465),se=a(24464),st=a(37236),sa=a(68757),sn=a(80391);let sr={submenu:"xINW8",menuItems:"zg7Ni",blogSelector:"Uz5cf",submenuItem:"ZYmys",active:"VXTLZ",content:"kPCh2",title:"b9fH3",loader:"Rnk43",empty:"GL3jS",message:"wNngb",table:"_JgF2",header:"YPZbT",row:"pGD4D",body:"qzhc2",column:"jXyhw",gift:"npfxm",from:"QIdfS",status:"dV1ln",unopened:"zFXOv",icon:"qjKOg",avatar:"rcSMy",date:"ozzS5",button:"miiNl"},ss=e=>{var t=e.tab,a=e.blogName,n=e.isLoadingBlog,r=(0,j.bp)(),s=r._c,o=r._t,d=r._getLocaleDateString,u="valid"===t?["active","opened","unopened"]:["completed","expired"],m=(0,sn.V)(u,a),h=m.data,p=m.isPending,g=m.isFetchingNextPage,b=m.hasNextPage,x=m.isError,v=m.fetchNextPage,f=(0,se.i)(u,null!=a?a:"").mutate,y=(0,c.useState)(null),w=i()(y,2),N=w[0],C=w[1],S=(0,c.useState)(!1),k=i()(S,2),Tid 0:h.pages.reduce((e,t)=>e.concat(t.orders),[]))||[],A="expired"===t?s("[TumblrMart] Gift management page title that appears when there are no expired gifts","No expired gifts"):s("[TumblrMart] Gift management page title that appears when there are no valid gifts","No valid gifts"),E=e=>{var t=e.availableOnTimestamp,a=e.availableUntilDate,n=e.displayStatus,r=e.receivedTimestamp;return"active"===n&&a?s("[TumblrMart] Status date string for active gifts","Expires %1$s",[d(new Date(1e3*a),$.C.DateAndTimeShort,!0)]):"expired"===n&&a?s("[TumblrMart] Status date string for expired gifts","Expired %1$s",[d(new Date(1e3*a),$.C.DateAndTimeShort,!0)]):"pending"===n&&t?s("[TumblrMart] Status date string for pending gifts","Available %1$s",[d(new Date(1e3*t),$.C.DateAndTimeShort,!0)]):"redeemed"===n&&r?s("[TumblrMart] Status date string for redeemed gifts","Redeemed %1$s",[d(new Date(1e3*r),$.C.DateAndTimeShort,!0)]):""},F=e=>{C(e),e.opened||f(e.uuid),L()},L=()=>Z(!0);return x?(0,P.jsx)("div",{className:sr.empty,children:(0,P.jsx)("p",{className:sr.message,children:s("[TumblrMart] Gift management page message that appears when gifts fail to load.","There was a problem loading your gifts. Please try again later.")})}):p||n?(0,P.jsx)("div",{className:sr.empty,children:(0,P.jsx)("div",{className:sr.loader,children:(0,P.jsx)(eh.Z,{centerOrientation:"horizontal"})})}):D.length?(0,P.jsxs)(P.Fragment,{children:[N&&T&&(0,P.jsx)(r8.Gl,{gift:N,onClose:()=>Z(!1)}),(0,P.jsx)("div",{className:sr.content,children:(0,P.jsxs)("table",{className:sr.table,children:[(0,P.jsx)("thead",{className:sr.header,children:(0,P.jsxs)("tr",{className:sr.row,children:[(0,P.jsx)("td",{className:l()(sr.column,sr.gift),children:s("[TumblrMart] Gifts Management page Gift column header","Gift")}),(0,P.jsx)("td",{className:l()(sr.column,sr.from),children:s("[TumblrMart] Gifts Management page From column header","From")}),(0,P.jsx)("td",{className:l()(sr.column,sr.status),children:s("[TumblrMart] Gifts Management page Status column header","Status")})]})}),(0,P.jsxs)("tbody",{className:sr.body,children:[D.map(e=>{var a=e.availableOnTimestamp,n=e.availableUntilDate,r=e.displayStatus,i=e.imageUrls.icon,c=e.isAnonymous,d=e.opened,u=e.receivedTimestamp,m=e.shortTitle,h=e.senderAvatar,p=e.senderUsername,g=e.uuid,b=(0,P.jsx)("img",{srcSet:`${i}, ${(0,r9.LJ)(i)} 2x`,src:i,alt:s("[TumblrMart] Thumbnail icon for TumblrMart gift","TumblrMart gift icon"),className:sr.icon});return(0,P.jsxs)("tr",{cla)(sr.row,{[sr.unopened]:!d}),onClick:()=>F(e),children:[(0,P.jsxs)("td",{className:l()(sr.column,sr.gift),children:[b,m]}),(0,P.jsxs)("td",{className:l()(sr.column,sr.from),children:[(0,P.jsx)(rJ.Z,{avatarShape:st.o.Circle,className:sr.avatar,dimension:20,imageResponse:h||void 0,isAnonymous:c}),null!=p?p:o("anonymous")]}),(0,P.jsx)("td",{className:l()(sr.column,sr.status),children:(0,P.jsxs)("div",{className:sr.info,children:["redeemed"===r&&"valid"===t?(0,P.jsx)(sa.Z,{status:"redeemedValid"}):(0,P.jsx)(sa.Z,{status:r}),(a||n||u)&&(0,P.jsx)("p",{className:sr.date,children:E(e)})]})})]},g)}),b&&(0,P.jsx)("tr",{className:sr.row,children:(0,P.jsx)("td",{colSpan:3,className:sr.column,children:g?(0,P.jsx)(eh.Z,{centerOrientation:"horizontal"}):(0,P.jsx)(ef.Z,{className:sr.button,label:s("[TumblrMart] Button label to fetch more gifts on the giftt page.","Load More Gifts"),onClick:()=>{v()},children:s("[TumblrMart] Button text to fetch more gifts on the gift management page.","Load more")})})})]})]})})]}):(0,P.jsxs)("div",{className:sr.empty,children:[(0,P.jsx)("p",{className:sr.title,children:A}),(0,P.jsx)("p",{className:sr.message,children:"valid"===t?s("[TumblrMart] Gift management page message that appears when there are no gifts in the valid tab of the gift management screen.","Your gifts will appear here when they are sent to you."):s("[TumblrMart] Gift management page message that appears when there are no gifts in the expired tab of the gift management screen.","Your gifts will appear here when they are used or expire.")})]})},si=a.p+"src/assets/images/labs/labs-header-grey-0aa93ea7.gif",so={wrapper:"KpXL_",header:"N5rfV",form:"jAB8C",experiment:"To1a0",description:"boiereturn e.All="All",e.No="No",e.Some="Some",e}({});let sm=e=>{switch(e.level){case su.All:return(0,P.jsx)(T.ZP,{comment:"Text shown on the notifications settings when you have enabled all emails",children:"all emails"});case su.No:return(0,P.jsx)(T.ZP,{comment:"Text shown on the notifications settings when you have disabled all emails",children:"no emails"});case su.Some:return(0,P.jsx)(T.ZP,{comment:"Text shown on the notifications settings when you have enabled some emails but not all",children:"some emails"})}},sh=e=>{switch(e.setting){case"newFollowers":return(0,P.jsx)(T.ZP,{comment:"Set whether you want to receive an email notification when you have a new follower",children:"New followers"});case"newReplies":return(0,P.jsx)(T.ZP,{comment:"Set whether you want to receive an email notification when you have a new reply",children:"New replies"});case"newSubmissions":return(0,P.jsx)(T.ZP,{comment:"Set whether you want to receive an email notification when you have a new submission",children:"New submissions"});case"newMentions":return(0,P.jsx)(T.ZP,{comment:"Set whether you want to receive an email notification when you have a mention",children:"Mentions"});case"newAsks":return(0,P.jsx)(T.ZP,{comment:"Set whether you want to receive an email notification when you have a new ask",children:"New Asks"});case"askAnswer":return(0,P.jsx)(T.ZP,{comment:"Set whether you want to receive an email notification when you have an answered ask",children:"Answered Asks"})}},sp=e=>{switch(e.notifications){case sd.Tx.All:return(0,P.jsx)(T.ZP,{comment:'Text shown on the notifications settings when you receive notifications "From everyone"',children:"All notifications"});case sd.Tx.Following:return(0,P.jsx)(T.ZP,{comment:'Text shown on the notifications settings when you receive notifications "From people you follow"',children:"Some notifications"});case sd.Tx.None:return(0,P.jsx)(T.ZP,{comment:'Text shown on the notifications settings when you receive notifications "From nobody"',children:"No notifications"})}},sg={sectionWrapper:"ufRsS",sectionHeader:"pL0jC",blogColumn:"ijEt4",open:"pMkt4",blogTitle:"F6V0M",settingColumn:"fR9nH",closed:"OYJzQ",applyToAllToggle:"bSg4J",editBlogLabel:"X7YA0",sectionContent:"T_cYX",subSection:"Q5xi5",subSectionTitle:"NOglH",subSectionContent:"GZ8PO",reblogRedesignEnabled:"Fw30M",emailSettings:"pBCVj",emailSettingToggle:"ONvYy",sectionContentOpen:"xIS86",focused:"zHTar t=Object.values(e).reduce((e,t)=>e+(t?1:0),0);return 0===t?su.No:t===Object.keys(e).length?su.All:su.Some};let sx=e=>{var t=e.info,a=e.saveAll,n=e.setBlurred,s=t.avatar,o=t.emailNotificationsSettings,d=t.name,u=t.notifications,m=t.title,h=(0,c.useState)(!1),p=i()(h,2),g=p[0],b=p[1],x=(0,c.useState)(!1),v=i()(x,2),f=v[0],w=v[1],N=(0,c.useState)(!1),C=i()(N,2),S=C[0],k=C[1],Z=(0,c.useState)(),A=i()(Z,2),E=A[0],F=A[1],L=(0,c.useState)(),M=i()(L,2),B=M[0],_=M[1],z=(0,j.bp)(),R=z._c,O=z._t,G=z.features,W=(0,sc.L)(d).mutateAsync,V=(0,y.rV)().setExtraData,U=[{label:R("Option that sets from which users you would like to receive notifications","From nobody"),value:sd.Tx.None},{label:R("Option that sets from which users you would like to receive notifications","From people you follow"),value:sd.Tx.Following},{label:R("Option that sets from which users you would like to receive notifications","From everyone"),value:sd.Tx.All}],H=[{buttonStyle:"cancel",disabled:S,label:O("Cancel changes"),text:(0,P.jsx)(T.ZP,{children:"Cancel"}),type:"button",onClick:()=>{n(!1),b(!1),w(!1),V(d,r()(r()(r()({},t),E&&{emailNotificationsSettings:E}),B&&{notifications:B}))}},{buttonStyle:"confirm",disabled:S,label:O("Save changes"),text:S?(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:I.paletteWhite}):f?(0,P.jsx)(T.ZP,{comment:"Button shown when the user activates a toggle to save settings for all blogs at once instead of jut the current one",children:"Save for all"}):(0,P.jsx)(T.ZP,{children:"Save"}),type:"submit"}];return(0,P.jsxs)("section",{className:l()(sg.sectionWrapper,{[sg.focused]:g}),children:[(0,P.jsxs)("div",{className:sg.sectionHeader,children:[(0,P.jsxs)("div",{className:l()(sg.blogColumn,{[sg.open]:g}),children:[(0,P.jsx)(rJ.Z,{name:m||d,dimension:28,imageResponse:s,showBlogCard:!1,isLink:!1}),(0,P.jsx)("span",{className:sg.blogTitle,children:m||d})]}),(0,P.jsx)("div",{className:l()(sg.settingColumn,{[sg.closed]:!g}),children:g?(0,P.jsx)(eD.Z,{checked:f,controlled:!0,id:"apply-to-all-toggle",label:(0,P.jsx)(Y.Z,{as:"span",className:sg.applyToAllToggle,children:(0,P.jsx)(T.ZP,{comment:"Toggle button that lets the user save settings for all blogs at once instead of jut the current one",children:"Apply settings to all blogslass:sg.applyToAllToggle,onChange:()=>{w(!f)}}):(0,P.jsx)(sl.Z,{buttonLabel:R("Button that opens the notifications settings of a blog","Edit this blog's notifications' settings"),className:sg.editBlogLabel,isOpen:g,toggle:()=>{n(!0),b(!0),F(o),_(u)},children:(0,P.jsxs)("span",{children:[(0,P.jsx)("b",{children:(0,P.jsx)(sp,{notifications:u})})," ",R('Coordinating conjunction as in "Some notifications AND some emails"',"and")," ",(0,P.jsx)("b",{children:(0,P.jsx)(sm,{level:sb(o)})})]})})})]}),(0,P.jsxs)("form",{"aria-hidden":!g,className:l()(sg.sectionContent,{[sg.sectionContentOpen]:g}),onSubmit:e=>D()().async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),k(!0),!f){t.next=7;break}return t.next=5,D()().awrap(a({emailNotificationsSettings:o,notifications:u}));case 5:t.next=9;break;case 7:return t.next=9,D()().awrap(W(r()({notifications:u},o)));case 9:n(!1),b(!1),k(!1);case 12:case"end":return t.stop()}},null,null,null,Promise),children:[(0,P.jsxs)("div",{className:sg.subSection,children:[(0,P.jsx)("div",{className:sg.subSectionTitle,children:(0,P.jsx)(T.ZP,{comment:"Notifications settings section that lets the user decide which emails he/she wants to receive",children:"Email you about"})}),(0,P.jsx)("div",{className:l()(sg.subSectionContent,sg.emailSettings,{[sg.reblogRedesignEnabled]:G.reblogRedesignNew}),children:Object.entries(o).map(e=>{var a=i()(e,2),n=a[0],s=a[1];return(0,P.jsx)(eD.Z,{checked:s,className:sg.emailSettingToggle,controlled:!0,id:`${n}-toggle`,label:(0,P.jsx)(sh,{setting:n}),onChange:()=>V(d,r()(r()({},t),{},{emailNotificationsSettings:r()(r()({},t.emailNotificationsSettings),{},{[n]:!s})}))},n)})})]}),(0,P.jsxs)("div",{className:sg.subSection,children:[(0,P.jsx)("div",{className:sg.subSectionTitle,children:(0,P.jsx)(T.ZP,{comment:"Notifications settings section that lets the user decide from which users he/she wants to receive notifications",children:"Notifications"})}),(0,P.jsx)("div",{className:sg.subSectionContent,children:(0,P.jsx)(K.Z,{value:u,onChange:e=>{var a=e.target.value;V(d,r()(r()({},t),{},{notifications:a}))},children:U.map(e=>{var t=e.label,a=e.value;return(0,P.jsx)("option",{value:a,"aria-selected":u===a,children:t},a)})})})]}),(0,P.jsxs)("div",{className:sg.subSection,children:[(0,P.jsx)("div",{className:sg.subSectionTitle}),(0,P.jsx)(em.Z,{className:sg.subSectionContent,buttons:H})]})]})]})},sv={wrapper:"Y70__",section:"rZ12w",toggle:"HsbdS"};var sf=e=>{var t=e.toJSON();return{web_endpoint:t.endpoint,web_expiration_time:t.expirationTime,web_keys:t.keys,uuid:e.endpoint.substring(e.endpoint.length-256),service_type:"web",app_id:1}};let sj=()=>{var e=(0,c.useState)(!0),t=i()(e,2),a=t[0],n=t[1],r=(0,c.useState)(!1),s=i()(r,2),o=s[0],l=s[1],d=(0,j.bp)(),u=d.apiFetch,m=(0,d.getBootstrap)("vapidPublicKey").value,h=(0,c.useCallback)(()=>{var e,t,a;return D()().async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,D()().awrap(null===(e=navigator.serviceWorker)||void 0===e?void 0:e.ready);case 2:return t=r.sent,r.next=5,D()().awrap(t.pushManager.getSubscription());case 5:if(!(a=r.sent)){r.next=22;break}return l(!1),r.prev=8,r.next=11,D()().awrap(u("/v2/device/unregister",{method:"POST",body:sf(a)}));case 11:r.next=18;break;case 13:return r.prev=13,r.t0=r.catch(8),console.error(r.t0),l(!0),r.abrupt("return");case 18:return r.next=20,D()().awrap(a.unsubscribe());case 20:case 37:r.next=43;break;case 22:return l(!0),r.prev=23,r.prev=24,r.next=27,D()().awrap(t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m}));case 27:a=r.sent,r.next=34;break;case 30:throw r.prev=30,r.t1=r.catch(24),n(!0),r.t1;case 34:if(!a){r.next=37;break}return r.next=37,D()().awrap(u("/v2/device/register",{method:"POST",body:sf(a)}));case 39:r.prev=39,r.t2=r.catch(23),console.error(r.t2),l(!1);case 43:case"end":return r.stop()}},null,null,[[8,13],[23,39],[24,30]],Promise)},[u,m]);return(0,c.useEffect)(()=>{var e=!0;return((t,a)=>{var r,s,i;return D()().async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,D()().awrap(null===(t=navigator.serviceWorker)||void 0===t?void 0:t.ready);case 2:if(r=o.sent,e){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,D()().awrap(null===(a=r.pushManager)||void 0===a?void 0:a.permissionState({userVisibleOnly:!0,applicationServerKey:m}));case 7:if(s=o.sent,e){o.next=10;break}return o.abrupt("return");case 10:if("granted"!==s){o.next=20;break}return o.next=13,D()().awrap(r.pushManager.getSubscription());case 13:if(i=o.sent,e){o.next=16;break}return o.abrupt("return");case 16:l(!!i),n(!1),o.next=21;break;case 20:"denied"===s?n(!0):n(!1);case 21:case"end":op()}},null,null,null,Promise)})(),()=>{e=!1}},[m]),(0,P.jsx)(A.Z,{className:sv.section,label:(0,P.jsx)(T.ZP,{children:"Browser Push Notifications"}),children:(0,P.jsx)(eD.Z,{checked:o,controlled:!0,label:(0,P.jsx)(T.ZP,{children:"Send push notifications to this browser"}),disabled:a,onChange:h,id:"web-push-toggle"})})};var sy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.emailNotificationsSettings,n=t.notifications;return Object.keys(e).reduce((t,s)=>{var i=e[s],o=Object.keys(a).reduce((e,t)=>{var n=a[t];return t in i.emailNotificationsSettings?r()(r()({},e),{},{[t]:n}):e},r()({},i.emailNotificationsSettings));return r()(r()({},t),{},{[s]:r()(r()({},i),{},{emailNotificationsSettings:o,notifications:n})})},{})},sw=a(83013),sN=a(1308),sC=a(17447),sP=["rail","tsp","stream","tsd","staff","settings","blog-view","trending_blogs_mail","resubscribe-mail","tumblrbot-campaign","pn-resubscribe"],sS={currencyCode:"USD",period:nE.zF.Month,periodAbbreviation:"mo",periodAdverb:"monthly"},sk={currencyCode:"USD",period:nE.zF.Year,periodAbbreviation:"yr",periodAdverb:"yearly"},sT=a(23627),sZ=e=>(0,eb.ZP)(e)d(nE.Ll.Premium).fetch().then(e=>(0,ae.Pz)(e)),sD=e=>(0,eb.ZP)(e).getPremiumPricePoints().fetch().then(e=>e.response).catch(eb.OO),sA=e=>(0,eb.ZP)(e).getPremiumSubscription().fetch().then(e=>e.response).catch(e=>404===e.status?null:(0,eb.OO)(e)),sE=e=>etRewardedAdInfo().fetch().then(e=>e.response).catch(eb.OO),sF=e=>(0,sw.b)(e.apiFetch).then(t=>{var a=t.response.user,n=a.hasTumblrPremium,s=a.usedToHaveTumblrPremium,o=a.hasTumblrFreePremium;return Promise.all([sD(e.apiFetch),(0,y.Am)(e),n&&!o||s?sZ(e.apiFetch):Promise.resolve(null),n&&!o||s?sA(e.apiFetch):Promise.resolve(null),sE(e.apiFetch)]).then(e=>{var t=i()(e,5),a=t[0],o=t[1],l=t[2],c=t[3],d=t[4];return r()({hasTumblrPremium:n,usedToHaveTumblrPremium:s,paymentMethod:l,pricePoints:a.premiumPricePoints,subscription:c,rewardedAdInfo:d},o)})});let sL=a.p+"src/assets/images/ad-free-browsing/tee-51275fe5.png";var sI=a(10777),sM=a(9421),sB=a(92183),s_=a(31679),sz=a(81321),sR=a(77),sO=a(27341),sG=e=>{var t=(0,j.bp)(),a=(0,s_.b)(),n=(0,sR.iv)(),r=(0,sz.Q)(),s=(0,sT.v)(),o=s.hasTumblrFreePremium,d=s.rewardedAd,u=(0,c.useRef)(""),m=(0,c.useRef)(null),h=(0,c.useState)(0),p=i()(h,2),g=p[0],b=p[1];if(o||!d)return null;var x=a=>{var n=a.slot.getResponseInformation();return m.current=a,(0,eb.ZP)(t.apiFetch).rewardedAdStartAd(n).fetch().then(a=>{var n,r;u.current=a.response.token,null===(n=document.getElementsByClassName("button-wrapper")[0])||void 0===n||n.classList.remove(sO.Z.hidden),t.logEvent({eventName:ec.J.RewardedAdButtonVisible,eventDetails:{rewardedAdToken:u.current}}),null===(r=e.onSlotReady)||void 0===rl(e)}),!1},v=()=>{var t;u.current="",b(e=>e+1),null===(t=e.onSlotClosed)||void 0===t||t.call(e)},f=()=>{(0,eb.ZP)(t.apiFetch).rewardedAdFinishAd(u.current).fetch().then(()=>{var t;u.current="",null===(t=e.onSlotGranted)||void 0===t||t.call(e)})};return(0,P.jsxs)("div",{className:e.wrapperClassName,"data-refreshcount":g,children:[(0,P.jsx)("div",{onClick:()=>{u.current&&m.current&&m.current.makeRewardedVisible(),t.logEvent({eventName:ec.J.RewardedAdButtonClicked,eventDetails:{rewardedAdToken:u.current}})},className:l()("button-wrapper",{[sO.Z.hidden]:!u.current}),children:e.button}),(0,P.jsx)(sM.fi,{timelineObject:d,supplyProviderId:sB.E.PREMIUM,isApproachingView:()=>!0,setApproachingViewCallback:n0.Z,setImpressionsEnabled:n0.Z,setProvideEventDetails:n0.Z,appContext:t,adContext:a,ddContext:n,adRequestContext:r,isInView:()=>!1,setInViewCallback:n0.Z,children:e=>{var t=e.onFilled,a=e.onEmpty,n=e.onError;return(0,P.jsx)(sI.Z,{onEmpty:a,onFilled:t,onError:n,onSlotReady:x,onSlotClosed:v,onSlotGranted:f,autoRefreshWhenUnfilled:!0})}})]},`rewarded_ad_${g}`)},sW=a(26321),sV=a(42580);let sU={buttonWrapper:"NWfwL",button:"SDuYR"},sH=e=>{var t=e.children,a=e.period,n=e.label,s=e.textColor,o=e.backgroundColor,d=e.loaderColor,u=e.theme,m=e.className,h=e.disabled,p=e.onClick,g=e.onSetFetch,b=e.redirectPath,v=e.giftReceiverBlog,y=e.giftIsAnonymous,w=e.giftMessage,N=e.trackingSource,C=(0,j.bp)(),S=C.apiFetch,k=C.isLoggedIn,T=C._t,Z=(0,O.V)().toggleToast,D=(0,c.useState)(!1),A=i()(D,2),E=A[0],F=A[1],I=e=>{if(k){var t,a=r()(r()(r()(r()(r()({},N&&{source:N}),b&&{path:b}),v&&{gift_receiver_tumblelog:v}),v&&{gift_is_anonymous:y}),w&&{gift_message:w});F(!0),null==g||g(!0),(t=window.location.host,(0,eb.ZP)(S).generatePremiumCheckoutUrl(e,t,a)).fetch().then(e=>{var t=e.response;window.location.assign(t.url)}).catch(()=>{F(!1),null==g||g(!1),Z((0,tO.U)((0,tR.Pk)(T)),"error")})}},B=k?void 0:(0,x.gZ)({formToShow:sV.c.Login},{redirect_to:(0,x.B9)({page:f.f.AdFreeBrowsing})}),_=h?{disabled:h,disabledTheme:"default",disabledBackgroundColor:M().paletteGray13,disabledTextColor:M().paletteGray40}:{},z=t||n;return(0,P.jsx)(L.Z,r()(r()({wrapperClassName:l()(sU.buttonWrapper,m),className:sU.button,label:n,theme:u,size:"small",textColor:s,backgroundColor:o,borderColor:"border"===u?o:void 0,onClick:()=>{null==p||p(),E||I(a)},href:B},_),{},{children:E?(0,P.jsxs)(P.Fragment,{children:[" ",(0,P.jsx)(eh.Z,{color:d,small:!0})]}):z}))};var sY=a(80062),sq=(0,tt.q)("hashtag");sq.defaultProps={size:{width:21,height:21}};var sJ=a(82145),sK=a(25793),s$=e=>{var t=e.productGroup,a=e.children,n=(0,sK.m)(t),r=n.data,s=n.isError,i=n.isPending;if(s||i||!r)return null;var o=a||r.title;return(0,P.jsxs)("a",{className:"LXEs5",href:(0,x.v)({productGroup:t}),children:[(0,P.jsx)("span",{className:"NL3AX",children:(0,r9.C6)(r.imageUrls.avatar,"")}),(0,P.jsx)("span",{className:"w65Ee",children:o})]})};let sX={wrapper:"xu8W2",redesign:"iVqFw",splashImage:"DmOP1",wrapperInner:"r9j7Q",title:"o9Dc0",description:"UX_E2",listWithIcons:"PJKnx",listItem:"Shhu7",listText:"Hm7oK",or:"QAAfW",manageButtons:"jbtjN",rewardedAdButton:"ozoaa",footer:"eqo62",tos:"RmcFk",pill:"YUhwz"},sQ=()=>{var e,t=(0,sT.v)(),a=t.monthlyPriceCents,n=t.yearlyPriceCents,s=(0,j.bp)(),o=s._getPriceInCurrency,u=s.logEvent,m=s._c,h=s.features,p=(0,d.TH)(),g=(0,O.V)().toggleToast,b=(0,eA.Pc)(),x=b.data,v=b.isPending,f=(0,c.useState)(!1),y=i()(f,2),w=y[0],N=y[1],C=(0,c.useState)(""),S=i()(C,2),k=S[0],Z=S[1];(0,c.useEffect)(()=>{null!=x&&x.isLoggedIn&&!x.user.isEmailVerified&&g(m("Toast notification on Tumblr Ad-Free landing page when a users email hasn't been verified yet.","Oh no! Looks like you still need to verify your email address."),"error")},[null==x?void 0:x.isLoggedIn,null==x||null===(e=x.user)||void 0===e?void 0:e.isEmailVerified]),(0,c.useEffect)(()=>{if(!w){N(!0);var e=(0,t6.b)(p.search),t=null!=e&&e.source&&sP.includes(e.source)?e.source:"";switch(Z(t),u({eventName:ec.J.AdFreeBrowsingPerksScreenShown,eventDetails:r()({},t&&{source:t})}),t){case"rail":u({eventName:ec.J.AdFreeBrowsingRightRailAdClick});break;case"tsp":u({eventName:ec.J.AdFreeBrowsingTspAdClick});break;case"stream":u({eventName:ec.J.AdFreeBrowsingInStreamAdClick});break;case"tsd":u({eventName:ec.J.AdFreeBrowsingTsdClick});break;case"staff":u({eventName:ec.J.AdFreeBrowsingStaffPostClick});break;case"settings":u({eventName:ec.J.AdFreeBrowsingSettingsClick});break;case"trending_blogs_mail":u({eventName:ec.J.AdFreeBrowsingTrendingBlogsMailClick});break;case"resubscribe-mail":u({eventName:ec.J.AdFreeBrowsingResubscribeMailClick});break;case"tumblrbot-campaign":u({eventName:ec.J.AdFreeBrowsingTumblrbotCampaignClick})}}},[w,u]);var DeState)(!1),A=i()(D,2),E=A[0],F=A[1],I=e=>F(e),B=m("Ad-free browsing price per month","%1$s/month",[(0,ae.T4)(a,sS.currencyCode,o)]),_=m("Ad-free browsing price per year","%1$s/year",[(0,ae.T4)(n,sk.currencyCode,o)]),z=(0,ae.aJ)(12*a,n),R=e=>{u({eventName:ec.J.AdFreeBrowsingPurchaseTap,eventDetails:r()({period:e===nE.zF.Year?"yearly":"monthly"},k&&{source:k})})},G=(0,P.jsx)(L.Z,{wrapperClassName:sU.buttonWrapper,theme:"default",size:"small",textColor:M().white,borderColor:M().white,backgroundColor:"#FF51D3",children:(0,P.jsx)(T.ZP,{comment:"CTA button on Tumblr Ad-Free landing page to watch an ad in exchange for 30 mins Ad-Free session",children:"Try 30 min Ad-free browsing"})}),W=E||v||(null==x?void 0:x.isLoggedIn)&&!x.user.isEmailVerified,V=h.adFreeRedesign?(0,P.jsxs)("div",{children:[(0,P.jsx)("h1",{className:sX.title,children:(0,P.jsx)(T.ZP,{comment:"Heading on a page that describes ad-free browsing",params:{adsPerYear:2568},children:"The average Tumblr user saw [adsPerYear] ads last year."})}),(0,P.jsx)("p",{className:sX.description,children:(0,P.jsx)(T.ZP,{comment:"Copy that is shown on the landing page for Tumblr Ad-Free Browsing",params:{hoursPerYear:5},children:"That's over [hoursPerYear] hours worth of ads. Go ad-free and never see another sponsored post or banner ad."})}),(0,P.jsxs)("ul",{className:sX.listWithIcons,children:[(0,P.jsxs)("li",{className:sX.listItem,children:[(0,P.jsx)(sJ.Z,{size:{width:24,height:24},colors:{primary:M().white}}),(0,P.jsx)("span",{className:sX.listText,children:(0,P.jsx)(T.ZP,{comment:"Description of a benefit of ad-free subscription",params:{postsPerYear:850},children:"That's nearly [postsPerYear] more GIFs, reblogs, and memes you could've scrolled through."})})]}),(0,P.jsxs)("li",{className:sX.listItem,children:[(0,P.jsx)(sY.Z,{size:{width:24,height:24},colors:{primary:M().white}}),(0,P.jsx)("span",{className:sX.listText,children:(0,P.jsx)(T.ZP,{comment:"Description of a benefit of ad-free subscription",params:{minutesPerYear:300},children:"It's over [minutesPerYear] minutes a year! That's almost a whole season of that show you pretend not to watch but secretly love."})})]}),(0,P.jsxs)("li",{className:sX.listItem,children:[(0,P.jsx)(sq,{size:{width:24,height:24},colors:{primary:M().white}}),(0,P.jsx)("span",{className:sX.listText,children:(0,P.jsx)(T.ZP,{comment:"Description of a benefit of ad-free subscription",children:"Keep your focus where it belongs: on that deep-dive thread you never knew you needed."})})]})]})]}):(0,P.jsxs)("div",{children:[(0,P.jsx)("h1",{className:sX.title,children:(0,P.jsx)(T.ZP,{comment:"Product feature name for Ad-Free Browsing",children:"Tumblr Ad-Free Browsing"})}),(0,P.jsx)("p",{className:sX.description,children:(0,P.jsx)(T.ZP,{comment:"Copy that is shown on the landing page for Tumblr Ad-Free Browsing",children:"It's Tumblr, only ad-free. Ad-Free Browsing gives you more of what you love and less of what you don't. What are you waiting for? It's a whole new world out there."})})]}),U=h.adFreeRedesign?(0,P.jsxs)("div",{className:sX.manageButtons,children:[(0,P.jsx)(sH,{label:_,theme:"default",textColor:M().black,backgroundColor:M().white,loaderColor:M().black,period:nE.zF.Year,onClick:()=>R(nE.zF.Year),onSetFetch:I,disabled:W,trackingSource:k,children:(0,P.jsx)(T.ZP,{comment:"For Ad-Free browsing discount. Price is a string containing price per period, discountPercent contains full percentage off, and pill is a visual wrapper t make the discount stand out.",params:{price:_,discountPercent:z},components:{pill:(0,P.jsx)(sW.Z,{className:sX.pill,isThin:!0,noHover:!0})},children:"[price] [pill][discountPercent]% off![/pill]"})}),(0,P.jsx)("span",{className:sX.or,children:(0,P.jsx)(T.ZP,{comment:"Text between yearly price and monthly price of subscription",children:"— or —"})}),(0,P.jsx)(sH,{label:B,theme:"border",textColor:M().white,backgroundColor:M().white,loaderColor:M().black,period:nE.zF.Month,onClick:()=>R(nE.zF.Month),onSetFetch:I,disabled:W,trackingSource:k})]}):(0,P.jsxs)("div",{className:sX.manageButtons,children:[(0,P.jsx)(sH,{label:B,theme:"default",textColor:M().black,backgroundColor:M().white,loaderColor:M().black,period:nE.zF.Month,onClick:()=>R(nE.zF.Month),onSetFetch:I,disabled:W,trackingSource:k}),(0,P.jsx)(sH,{label:_,theme:"default",textColor:M().black,backgroundColor:M().whi.black,period:nE.zF.Year,onClick:()=>R(nE.zF.Year),onSetFetch:I,disabled:W,trackingSource:k,children:(0,P.jsx)(T.ZP,{comment:"For Ad-Free browsing discount. Price is a string containing price per period, discountPercent contains full percentage off, and pill is a visual wrapper t make the discount stand out.",params:{price:_,discountPercent:z},components:{pill:(0,P.jsx)(sW.Z,{className:sX.pill,isThin:!0,noHover:!0})},children:"[price] [pill][discountPercent]% off![/pill]"})})]});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:l()({[sX.wrapper]:!0,[sX.redesign]:h.adFreeRedesign}),children:(0,P.jsxs)("div",{className:sX.wrapperInner,children:[(0,P.jsx)("img",{src:sL,alt:"",className:sX.splashImage}),V,(0,P.jsx)(sG,{button:G,wrapperClassName:sX.rewardedAdButton,onSlotGranted:()=>{g(m("Toast notification on Tumblr Ad-Free landing page after a user finishes watching a rewarded video ad.","Enjoy 30 min of Ad-free browsing"),"success","rewarded-ad-granted"),window.location.assign("/dashboard")},onSlotClosed:()=>{g(m("Toast notification on Tumblr Ad-Free landing page when a user closes rewarded video ad before it finishes.","Almost made it to ad-free browsing!"),"info","rewarded-ad-closed")}}),U]})}),(0,P.jsxs)("div",{className:sX.footer,children:[(0,P.jsx)("p",{className:sX.tos,children:(0,P.jsx)(T.ZP,{comment:"Legal text and disclaimer about ad-free browsing",components:{link:(0,P.jsx)("a",{href:"https://tumblr.zendesk.com/hc/articles/4418605293975#promotional-content",target:"_blank"})},children:"Subscriptions renew automatically. Ad-Free excludes certain promotional content. [link]Learn more[/link]."})}),(0,P.jsx)(s$,{productGroup:"supporter-badge",children:(0,P.jsx)(T.ZP,{comment:"Text on a button to purchase the supporter badge.",components:{u:(0,P.jsx)("u",{})},children:"You can help to support Tumblr directly with the [u]Supporter Badge[/u]."})})]})]})};var s0=a(96613),s1=a(74529),s2=a(81846);let s3={wrapper:"Kz0DZ",cc:"Gy2oW",ccDetails:"PoRzR",ccExpiry:"FcKVd",vertical:"QFzLH",logo:"w__75",action:"DmbDn",button:"p6oSd"},s4=e=>{var t=e.baseRoute,a=e.ccExpiryMonth,n=e.ccExpiryYear,r=e.ccNumber,s=e.ccType,o=e.className,d=e.label,u=e.layout,m=void 0===u?"horizontal":u,h=(0,j.bp)(),p=h._c,g=h.apiFetch,b=h.logEvent,x=(0,am.lr)(),v=i()(x,2),f=v[0],y=v[1],w=(0,O.V)().toggleToast,N=(0,c.useState)(!1),C=i()(N,2),S=C[0],k=C[1],Z=(0,c.useState)(!1),D=i()(Z,2),A=D[0],E=D[1];(0,c.useEffect)(()=>{(0,ae.C5)(window.location.search)&&!A&&(t&&b({eventName:t===nE.Ll.Premium?ec.J.AdFreeBrowsingPaymentMethodDone:ec.J.PostpPaymentMethodDone}),w(p("[Payment & Purchases] Notice that appears after successfully updating payment method.","Payment method successfully updated."),"success"),f.delete("update"),y(f),E(!0))},[p,t,b,A,f,y,w]);var F=!!a&&!!s&&!!r&&!!n;return(0,P.jsxs)("div",{className:l()(s3.wrapper,s3[m],o),children:[F&&(0,P.jsxs)("div",{className:s3.cc,children:["vertical"===m&&(0,P.jsx)(T.ZP,{comment:"Credit card type and last four digits.",params:{type:(0,s2.k)(s),digits:r},children:"[type] ending in [digits]"}),(0,P.jsxs)("div",{className:s3.ccDetails,children:[(0,P.jsx)(s0.Z,{className:s3.logo,name:s,digits:"horizontal"===m?r:void 0}),(0,P.jsx)("span",{className:s3.ccExpiry,children:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Credit card expiry date.",params:{month:a.toString().padStart(2,"0"),year:n.toString().substring(2)},children:"Exp. [month]/[year]"})})]})]}),(0,P.jsx)("div",{className:s3.action,children:(0,P.jsx)(L.Z,{className:s3.button,disabled:S,onClick:()=>{k(!0),t&&b({eventName:t===nE.Ll.Premium?ec.J.AdFreeBrowsingPaymentMethodTap:ec.J.PostpPaymentMethodTap}),(0,s1.wr)(g,null!=t?t:nE.Ll.Premium,window.location.host,window.location.pathname).then(e=>{var t=e.response;(null==t?void 0:t.type)==="paypal"?window.location.assign("https://paypal.com/myaccount/autopay"):window.location.assign(t.links.updatePaymentMethodUrl.href)}).catch(()=>{k(!1),w(p("[Payment & Purchases] Error message that appears when there is a problem getting payment method.","Oops! There was a problem getting your payment method."))})},label:p("Update payment method label text","Update your payment method"),theme:"border",size:"small",disabledTheme:"border",disabledTextColor:M().paletteGray65,disabledBackgroundColor:M().paletteGray65,textColor:M().paletteGray65,backgroundColor:M().paletteGray65,isRounded:"vertical"===m,children:S?(0,P.jsxs)(P.Fragment,{children:[" ",(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0})]}):null!=d?d:(0,P.jsx)(T.ZP,{comment:"Payment method update button default label",children:"Update"})})})]})},s5={paymentMethod:"ae6fW"},s6=()=>{var e,t=(0,j.bp)()._c,a=(0,sT.v)(),n=a.subscription,s=a.paymentMethod,i=n.status,o=(0,ae.PP)(n),l=(0,ae.o$)(n,"nextBillingTime",$.C.MonthDayYearLong),c="android_in_app_purchase"===n.paymentMethod,d="apple_in_app_purchase"===n.paymentMethod,u="tumblrpay_gift"===n.paymentMethod;switch(i){case nE.Ti.PendingCancel:case nE.Ti.Cancelled:case nE.Ti.Expired:e=(0,P.jsx)(T.ZP,{children:"You will not be charged for Ad-Free Browsing again unless you resubscribe."});break;case nE.Ti.OnHold:e=(0,ae.Ar)(n)?(0,P.jsx)(T.ZP,{comment:"Message that appears when a payment method is currently processing a payment.",children:"Your payment method is currently processing."}):(0,P.jsx)(T.ZP,{comment:"Message that appears when there is an issue with a payment method.",children:"There's an issue with your payment method."});break;case nE.Ti.Active:default:e=d||c||!s.isInvalid?(0,P.jsx)(T.ZP,{params:{nextBilling:l,price:o},components:{strong:(0,P.jsx)("strong",{})},children:"Next Payment: [strong][price][/strong] on [strong][nextBilling][/strong]"}):(0,P.jsx)(T.ZP,{children:"There's an issue with your payment method."})}return u&&i===nE.Ti.PendingCancel&&(e=(0,P.jsx)(T.ZP,{comment:"Message shown to users who are on a fully gifted plan, but who have a previously saved payment method",children:"You are on a gifted Ad-Free Browsing plan. Your plan will not renew automatically and your payment method will not be charged."})),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:e}),d||c?(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Message shown to users who have purchased ad free via in app purchase",params:{store:d?t("Name of the Apple App Store","App Store"):t("Name of the Google Play Store","Play Store")},children:"You signed up for Ad-Free Browsing via the [store]. You can manage your payment method and subscription on your mobile device."})}):(0,P.jsx)(s4,r()({baseRoute:nE.Ll.Premium,className:s5.paymentMethod},s))]})};var s7=a(51364),s8=a(93853);let s9={buttonWrapper:"vffGc"},ie={container:"UH33k",perks:"Wu9wb",dialogButtons:"Vz97X",button:"ksUaY",cancelButton:"wBAJL",closeButton:"GH53P",terms:"hGvNs"},it=()=>{var e=(0,j.bp)(),t=e.apiFetch,a=e._t,n=e.logEvent,r=(0,O.V)().toggleToast,s=(0,sT.v)(),o=s.subscription,d=s.setSubscription,u=(0,c.useState)(!1),m=i()(u,2),h=m[0],p=m[1],g=(0,c.useState)(!1),b=i()(g,2),x=b[0],v=b[1],f=(0,ae.o$)(o,"nextBillingTime",$.C.MonthDayYearLong),y=(0,c.useCallback)(()=>{w(),v(!0),n({eventName:ec.J.AdFreeBrowsingCancelConfirm}),(0,eb.ZP)(t).unsubscribeToPremium().fetch().then(e=>{var t=e.response;v(!1),d(t)}).catch(()=>{v(!1),r(a("Something went wrong. Please try again."),"error")})},[n,t,d,r,a]),w=()=>p(!1);return(0,P.jsxs)(P.Fragment,{children:[h&&(0,P.jsxs)(_.Z,{centerContent:!0,onGlassClick:w,opacity:.95,children:[(0,P.jsx)(s8.ZP,{disable:s8.z9}),(0,P.jsx)(z.O,{className:ie.container,buttonContainerClassname:ie.dialogButtons,title:a("Are you sure you want to cancel?"),body:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:ie.perks,children:(0,P.jsx)(T.ZP,{children:"If you cancel your subscription, you will start seeing ads on Tumblr in the apps and on desktop."})}),(0,P.jsx)("div",{className:ie.terms,children:(0,P.jsx)(T.ZP,{params:{nextBillingLabel:f},components:{strong:(0,P.jsx)("strong",{})},children:"Your subscription will still be active until the end of your current billing period. Cancellation will be effective on [strong][nextBillingLabel][/strong]."})})]}),buttons:[{text:(0,P.jsx)(ef.Z,{className:l()(ie.button,ie.cancelButton),label:a("Cancel subscription"),onClick:y,children:a("Cancel subscription")}),buttonStyle:z.X.Custom},{text:(0,P.jsx)(ef.Z,{className:l()(ie.button,ie.closeButton),label:a("Nevermind"),onClick:w,children:a("Nevermind")}),buttonStyle:z.X.Custom}]})]}),(0,P.jsx)(L.Z,{wrapperClassName:s9.buttonWrapper,label:a("Cancel subscription"),theme:"border",size:"small",textColor:M().paletteGray65,backgroundColor:M().paletteGray65,onClick:()=>{n({eventName:ec.J.AdFreeBrowsingCancelTap}),p(!0)},children:x?(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0}):(0,P.jsx)(T.ZP,{children:"Cancel subscription"})})]})};var ia=a(36583);let ir={price:"_VaWd",label:"HNMgz",nextButton:"F3C_N",planGroup:"ueLAP"},is=e=>{var t=e.priceCents,a=e.plan,n=(0,sT.v)(),r=n.subscription.period,s=n.monthlyPriceCents,i=n.yearlyPriceCents,o=(0,j.bp)()._getPriceInCurrency,l=(0,ae.aJ)(12*s,i);return(0,P.jsxs)("div",{className:ir.priceGroup,children:[(0,P.jsx)("span",{className:ir.price,children:(0,ae.T4)(t,a.currencyCode,o)}),(0,P.jsxs)("span",{className:ir.label,children:[" ","/ ",a.period,"  ",a.period===sk.period&&r!==sk.period&&(0,P.jsx)(T.ZP,{comment:"Text is shown after price selection option for Ad-Free browsing. Example: 34.99 (save 33%)",params:{yearlyDiscountPercent:l},children:"(save [yearlyDiscountPercent]%)"})]})]})},ii=()=>{var e=(0,j.bp)(),t=e._t,a=e._c,n=(0,sT.v)(),r=n.monthlyPriceCents,s=n.yearlyPriceCents,o=[{value:nE.zF.Month,children:(0,P.jsx)(is,{priceCents:r,plan:sS})},{value:nE.zF.Year,children:(0,P.jsx)(is,{priceCents:s,plan:sk})}],l=(0,c.useState)(1),d=i()(l,2),u=d[0],m=d[1],h=(0,c.useState)(!1),p=i()(h,2),g=p[0],b=p[1],x=a("text on a button that will start the process of resubscribing to Ad-free browsing","Choose a plan and resubscribe");return(0,P.jsxs)(P.Fragment,{children:[g&&(0,P.jsx)(n$.Z"Resubscribe to Ad-Free Browsing"),onClose:()=>b(!1),theme:n$.L.Rounded,children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ia.Z,{className:ir.planGroup,groupLabel:t("Resubscribe to Ad-Free Browsing"),name:"plan",options:o,selectedOptionIndex:u,onChange:m}),(0,P.jsx)(sH,{label:t("Next"),className:ir.nextButton,theme:"default",textColor:M().paletteNavy,backgroundColor:M().paletteAccent,loaderColor:M().paletteNavy,period:0===u?nE.zF.Month:nE.zF.Year})]})}),(0,P.jsx)(L.Z,{wrapperClassName:s9.buttonWrapper,label:x,theme:"default",size:"small",textColor:M().paletteNavy,backgroundColor:M().paletteAccent,onClick:()=>{b(!0)},children:x})]})},io=()=>{var e=(0,j.bp)(),t=e.apiFetch,a=e._t,n=e.logEvent,r=e._getPriceInCurrency,s=(0,c.useState)(!1),o=i()(s,2),l=o[0],d=o[1],u=(0,sT.v)(),m=u.subscription,h=u.setSubscription,p=(0,O.V)().toggleToast,g=(0,ae.o$)(m,"endTime",$.C.MonthDayYearLong),b=(0,ae.T4)(m.price,m.currencyCode,r),x=(0,c.useCallback)(()=>{d(!0),n({eventName:ec.J.AdFreeBrowsingResubscribe}),(0,eb.ZP)(t).resubscribeToPremium().fetch().then(e=>{var t=e.response;d(!1),h(t)}).catch(()=>{d(!1),p(a("Something went wrong. Please try again."),"error")})},[n,t,h,p,a]);return m.status===nE.Ti.PendingCancel?(0,P.jsx)(L.Z,{wrapperClassName:s9.buttonWrapper,label:a("Resubscribe"),theme:"default",size:"small",textColor:M().paletteNavy,backgroundColor:M().paletteAccent,onClick:x,children:l?(0,P.jsxs)(P.Fragment,{children:[" ",(0,P.jsx)(eh.Z,{color:M().paletteNavy,small:!0})]}):(0,P.jsx)(T.ZP,{params:{nextBilling:g,price:b},comment:"Text on a button to resubscribe to a Tumblr Ad-Free subscription. Price is the cost of the subscription. Next billing is the day the payment will be billed.",children:"Resubscribe for [price] billed on [nextBilling]"})}):(0,P.jsx)(ii,{})},il={actions:"lQ3b6",alertMessage:"LSnDP"},ic=()=>{var e,t,a,n,r=(0,sT.v)(),s=r.subscription,o=r.paymentMethod,l=s.canReactivate,d=s.canRepurchase,u=s.status,m=s.paymentMethod,h=(0,j.bp)().logEvent,p=(0,ae.VU)(s,!0),g=(0,ae.o$)(s,"endTime",$.C.MonthDayYearLong),b=(0,ae.o$)(s,"nextBillingTime",$.C.MonthDayYearLong),x=(0,c.useState)(!1),v=i()(x,2),f=v[0],y=v[1];(0,c.useEffect)(()=>{!f&&(y(!0),u===nE.Ti.OnHold&&h({eventName:ec.J.AdFreeBrowsingOnHoldView}),u===nE.Ti.Active&&o.isInvalid&&h({eventName:ec.J.AdFreeBrowsingInvalidPaymentView}))},[f,u,o,h]);var w="apple_in_app_purchase"===m,N="tumblrpay_gift"===m;switch(u){case nE.Ti.PendingCancel:e=(0,P.jsx)(T.ZP,{children:"Your subscription has been canceled"}),t=(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{params:{endDate:g},components:{strong:(0,P.jsx)("strong",{})},children:"Enjoy Ad-Free Browsing until the end of your current billing period. Your subscription will end on [strong][endDate][/strong]."})}),a="info",n=l?(0,P.jsx)(io,{}):(0,P.jsx)(P.Fragment,{});break;case nE.Ti.OnHold:(0,ae.Ar)(s)?(e=(0,P.jsx)(T.ZP,{comment:"Status title that appears for subscriptions that have a status of on-hold and are currently processing.",children:"Your subscription is processing"}),t=(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Message that appears for subscriptions that have a status of on-hold and are currently processing.",children:"This subscription is currently processing and may take a few minutes to complete."})})):(e=(0,P.jsx)(T.ZP,{comment:"Status title that appears for subscriptions that have a status of on-hold due to a payment method issue.",children:"Update your payment method"}),t=(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Message that appears for subscriptions that have a status of on-hold due to a payment method issue.",params:{endDate:g},components:{strong:(0,P.jsx)("strong",{})},children:"This subscription is paused due to a payment issue. Please fix the issue with your payment so that you can continue Ad-Free Browsing. On-hold since [strong][endDate][/strong]."})})),a="warning",n=(0,P.jsx)(P.Fragment,{});break;case nE.Ti.Cancelled:e=(0,P.jsx)(T.ZP,{children:"Your subscription has been cancelled"}),t=(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{params:{endDate:g},components:{strong:(0,P.jsx)("strong",{})},children:"Your subscription was cancelled on [strong][endDate][/strong]."})}),a="warning",n=d?(0,P.jsx)(io,{}):(0,P.jsx)(P.Fragment,{});break;case nE.Ti.Expired:e=(0,P.jsx)(T.ZP,{children:"Your subscription expired"}),t=(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{params:{endDate:g},components:{strong:(0,P.jsx)("strong",{})},children:"Your subscription ended on [strong][endDate][/strong]."})}),a="warning",n=d?(0,P.jsx)(io,{}):(0,P.jsx)(P.Fragment,{});break;case nE.Ti.Active:default:!o.isInvalid||"android_in_app_purchase"===m||w?(e=(0,P.jsx)(T.ZP,{children:"Your subscription is active"}),t=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{children:"Enjoy Tumblr without interruptions from ads."})}),(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{params:{price:p},components:{strong:(0,P.jsx)("strong",{})},children:"Plan: [strong][price][/strong]."})})]}),a="success"):(e=(0,P.jsx)(T.ZP,{children:"Update your payment method"}),t=(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{params:{nextBillingTime:b},components:{strong:(0,P.jsx)("strong",{})},children:"Please fix the issue with your payment so that you can continue Ad-Free Browsing. Your subscription will end on [strong][nextBillingTime][/strong]."})})}),a="warning"),n=(0,P.jsx)(it,{})}return(N||w)&&u!==nE.Ti.Cancelled&&u!==nE.Ti.Expired&&(n=(0,P.jsx)(P.Fragment,{})),u===nE.Ti.PendingCancel&&N&&(e=(0,P.jsx)(T.ZP,{children:"Your subscription is active"}),t=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{children:"Enjoy Tumblr without interruptions from ads."})}),(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{params:{endDate:g},components:{strong:(0,P.jsx)("strong",{})},children:"Plan: [strong]Gift[/strong]. Your subscription will end on [strong][endDate][/strong]."})})]}),a="success"),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(nj.Z,{message:(0,P.jsxs)("div",{className:il.alertMessage,children:[(0,P.jsx)("p",{children:(0,P.jsx)("strong",{children:e})}),(0,P.jsx)("div",{className:il.message,children:t})]}),theme:a}),(0,P.jsx)("div",{className:il.actions,children:n})]})},id={settingsWrapper:"Ve3b5",sectionWrapper:"C2x46",section:"vnlw6",leftAlignedWrapper:"AnmzE",rightAlignedWrapper:"r_hbX",subSettings:"MN_DR",heading:"azmx7",buttonWrapper:"SKWZr"},iu=()=>{var e=(0,j.bp)(),t=e.wwwBaseUrl,a=e.logEvent,n=e._t,s=(0,sT.v)(),o=s.subscription,u=s.paymentMethod,m=(0,y.rV)().settings,p=o.status,g=(0,d.TH)(),b=(0,c.useState)(!1),x=i()(b,2),v=x[0],f=x[1],N=!(p===nE.Ti.Active||p===nE.Ti.PendingCancel);(0,c.useEffect)(()=>{if(!v){if(f(!0),(0,ae.zc)(g.search)){var e=(0,t6.b)(g.search),t=null!=e&&e.source&&sP.includes(e.source)?e.source:"";a({eventName:ec.J.AdFreeBrowsingPurchaseDone,eventDetails:r()({},t&&{source:t})})}a({eventName:ec.J.AdFreeBrowsingSubscriptionManagementScreenShown})}},[v,a]);var C=n("Contact support");if((0,w.Q)(m))return(0,P.jsx)(h.w,{});var S="tumblrpay_gift"!==o.paymentMethod||!u.isInvalid;return(0,P.jsxs)("section",{className:id.settingsWrapper,children:[(0,P.jsx)("section",{className:id.sectionWrapper,children:(0,P.jsxs)("div",{className:id.section,children:[(0,P.jsx)("div",{className:id.leftAlignedWrapper,children:(0,P.jsx)("h2",{className:id.heading,children:(0,P.jsx)(T.ZP,{children:"Your subscription"})})}),(0,P.jsx)("div",{className:id.rightAlignedWrapper,children:(0,P.jsx)(ic,{})})]})}),S&&(0,P.jsx)("section",{className:id.sectionWrapper,children:(0,P.jsxs)("div",{className:id.section,children:[(0,P.jsx)("div",{className:id.leftAlignedWrapper,children:(0,P.jsx)("h2",{className:id.heading,children:(0,P.jsx)(T.ZP,{children:"Payment method"})})}),(0,P.jsx)("div",{className:id.rightAlignedWrapper,children:(0,P.jsx)(s6,{})})]})}),(0,P.jsx)("section",{className:id.sectionWrapper,children:(0,P.jsxs)("div",{className:id.section,children:[(0,P.jsx)("div",{className:id.leftAlignedWrapper,children:(0,P.jsx)("h2",{className:id.heading,children:(0,P.jsx)(T.ZP,{children:"Settings"})})}),(0,P.jsx)("div",{className:l()(id.rightAlignedWrapper,id.subSettings),children:(0,P.jsx)(s7.Z,{name:"visibilityOptionManage",disabled:N})})]})}),(0,P.jsx)("section",{className:id.sectionWrapper,children:(0,P.jsxs)("div",{className:id.section,children:[(0,P.jsx)("div",{className:id.leftAlignedWrapper,children:(0,P.jsx)("h2",{className:id.heading,children:(0,P.jsx)(T.ZP,{children:"Need help?"})})}),(0,P.jsxs)("div",{className:id.rightAlignedWrapper,children:[(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{children:"Need some help with your subscription?"})}),(0,P.jsx)(L.Z,{className:id.buttonWrapper,label:C,theme:"border",size:"small",textColor:M().paletteGray65,backgroundColor:M().paletteGray65,feature:!1,href:`${t}/support`,children:(0,P.jsx)("span",{children:C})})]})]})})]})},im={title:"ME_Ts"};var ih=a(40693);let ip={wrapper:"KpwLh",stack:"y07kV",downloadRequests:"SjDjC",invalid:"gSuAz",details:"dcoVy",actions:"XhNuj"};var ig=()=>{var e=(0,j.bp)().apiFetch;return(0,tg.a)({queryKey:["tumblrmart-payment-method"],queryFn:()=>{var t,a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D()().awrap((0,s1.wr)(e,nE.Ll.Premium,window.location.host,window.location.pathname));case 2:return a=n.sent.response,n.abrupt("return",{ccExpiryMonth:null==a?void 0:a.expiryMonth,ccExpiryYear:null==a?void 0:a.expiryYear,ccNumber:null==a?void 0:a.lastFour,ccType:null==a?void 0:a.cardNetwork,isValid:(null==a?void 0:a.type)==="paypal"||(null==a?void 0:a.type)==="card"&&!!(null!=a&&a.lastFour)&&!!(null!=a&&a.cardNetwork)&&!!(null!=a&&a.expiryMonth)&&!!(null!=a&&a.expiryYear),type:null==a?void 0:a.type,updateUrl:null==a||null===(t=a.links)||void 0===t||null===(t=t.updatePaymentMethodUrl)||void 0===t?void 0:t.href});case 5:case"end":return n.stop()}},null,null,null,Promise)}})},ib=()=>{var e=(0,j.bp)().apiFetch;return(0,tg.a)({queryKey:["tumblrmart-purchases"],queryFn:()=>{var t;return D()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D()().awrap((0,s1.GP)(e).fetch());case 2:return t=a.sent.response,a.abrupt("return",t);case 5:case"end":return a.stop()}},null,null,null,Promise)}})};let ix={wrapper:"U2xhN",details:"JdgIn"},iv=e=>{var t=e.ccExpiryMonth,a=e.ccExpiryYear,n=e.ccNumber,r=e.ccType,s=e.isValid,i=e.type,o=e.updateUrl,l=(0,j.bp)()._c;return s?(0,P.jsxs)("div",{className:ix.wrapper,children:[(0,P.jsx)(s4,{ccExpiryMonth:t,ccExpiryYear:a,ccNumber:n,ccType:r,label:l("[Payment & Purchases] Manage payment method button label","Manage payment"),layout:"vertical",updateUrl:o}),(0,P.jsx)("div",{className:ix.details,children:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Details about payment methods on Tumblr.com.",params:{type:"paypal"===i?"PayPal":"Stripe"},children:"Your payment method is stored on [type] and used for all payments on Tumblr.com including subscriptions, tipping and TumblrMart."})})]}):(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Text shown when there is no stored payment method in the payment & purchases settings page.",children:"When you make a payment on Tumblr.com including subscriptions, tipping and TumblrMart your payment method will appear here."})};var ij=a(84665),iy=a(9557);let iw={ellipsis:"IJykV",wrapper:"QGQgi",buttons:"hK59y",button:"f7Pes"},iN=e=>{var t=e.actions,a=(0,j.bp)()._c;return(0,P.jsx)(iy.Z,{closeForAllExternalClicks:!0,component:(0,P.jsx)("div",{className:iw.buttons,children:null==t?void 0:t.map(e=>{var t=e.label,a=e.url;return(0,P.jsx)(ef.Z,{as:"a",className:iw.button,href:a,label:t,children:t},t)})}),popoverWrapperClassName:iw.wrapper,position:nr.I2.BottomEnd,children:(0,P.jsx)(ef.Z,{className:iw.ellipsis,label:a("[Payment & Purchases] Button label text for purchase history item settings.","Settings"),children:(0,P.jsx)(nn.b,{})})})},iC={wrapper:"_8Cfx",table:"aOcNc",header:"gpRNN",column:"ZP4l0",date:"_Snnw",description:"Ol9HL",amount:"YlIVc",settings:"bwmQF",body:"OQdm1",title:"Pj0Xa",subtitle:"_jdr0",dateString:"GNWaW",paginator:"L5i2j",loader:"YUxX_",next:"RDLbG"},iP=e=>{var t=e.nextLink,a=e.purchases,n=(0,j.bp)(),r=n._c,s=n._getLocaleDateString,i=n._getPriceInCurrency,o=n.apiFetch,c=(0,O.V)().toggleToast;return null!=a&&a.length?(0,P.jsx)(ij.ZP,{children:e=>{var t=e.objects;return(0,P.jsx)("div",{className:iC.wrapper,children:(0,P.jsxs)("table",{className:iC.table,children:[(0,P.jsx)("thead",{className:iC.header,children:(0,P.jsxs)("tr",{className:iC.row,children:[(0,P.jsx)("td",{className:l()(iC.column,iC.date),children:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Purchase history table date column header",children:"Date"})}),(0,P.jsx)("td",{className:l()(iC.column,iC.description),children:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Purchase history table description column header",children:"Description"})}),(0,P.jsx)("td",{className:l()(iC.column,iC.amount),children:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Purchase history table amount column header",children:"Amount"})}),(0,P.jsx)("td",{className:l()(iC.column,iC.settings)})]})}),(0,P.jsx)("tbody",{className:iC.body,children:null==t?void 0:t.map((e,t)=>{var a=e.actions,n=e.creationDate,r=e.currency,o=e.priceCents,c=e.subtitle,d=e.title;return(0,P.jsxs)("tr",{className:iC.row,children:[(0,P.jsx)("td",{className:iC.column,children:(0,P.jsx)("span",{className:iC.dateString,children:s(new Date(1e3*n),$.C.Notes,!0)})}),(0,P.jsxs)("td",{className:iC.column,children:[(0,P.jsx)("span",{className:iC.title,children:d}),(0,P.jsx)("span",{className:iC.subtitle,dangerouslySetInnerHTML:{__html:c}})]}),(0,P.jsx)("td",{className:iC.column,children:(0,P.jsx)("span",{className:iC.amount,children:(0,ae.T4)(o,r,i)})}),(0,P.jsx)("td",{className:l()(iC.column,iC.settings),children:(0,P.jsx)(iN,{actions:a})})]},t)})})]})})},concatenate:!0,endpointApiRequest:(0,s1.GP)(o),getInitialPage:()=>null!=a&&a.lengtha}:void 0,getObjectsFromResponse:e=>e.response.orders,loader:(0,P.jsx)("div",{className:iC.loader,children:(0,P.jsx)(eh.Z,{centerOrientation:"horizontal"})}),manualPaginatorButtonCss:{containerClassName:iC.paginator},nextButton:(0,P.jsx)(ef.Z,{className:iC.next,label:r("[Payment & Purchases] Button label to fetch more purchases.","Load More"),children:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Button label to fetch more purchases.",children:"Load More"})}),onPaginationError:()=>{c(r("[Payment & Purchases] Error message when purchase history pagination fails.","There was an error retrieving additional purchase history. Please try again later."),"error")}}):(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Text shown when there is no purchase history in the payment & purchases settings page.",children:"Purchases made on Tumblr.com including subscriptions, tipping and TumblrMart will appear here."})},iS={header:"weO3d",pageTitle:"RCtqL",help:"BDUH0",section:"M7TOT",sectionContent:"NqsEh",vertical:"Vu8RA",sectionTitle:"BYAjB",empty:"Y0ILu"};var ik=a(50209),iT=a.n(ik),iZ=a(43107),iD=a(31893);let iA=e=>{var t=e.filter,a=t===iD.y.Active?(0,P.jsx)(T.ZP,{comment:"Title when no active subscriptions",children:"No Active Subscriptions"}):(0,P.jsx)(T.ZP,{comment:"Title when no inactive subscriptions",children:"No Inactive Subscriptions"}),n=t===iD.y.Active?(0,P.jsx)(T.ZP,{comment:"Message when no active subscriptions",children:"Your subscriptions will appear here once they are active."}):(0,P.jsx)(T.ZP,{comment:"Message when no inactive subscriptions",children:"Your past subscriptions will appear here once they are inactive."});return(0,P.jsxs)("div",{className:"yNw3u",children:[(0,P.jsx)("span",{className:"M1c2r",children:a}),(0,P.jsx)("span",{className:"BuQvB",children:n})]})};var iE=a(22979),iF=a(59215),iL=a(72171);let iI={main:"jDY_G",info:"zcn7A",heading:"chWk3",title:"_sHe1",subtitle:"gDeKG",action:"IGXCi",errorMessage:"IidE2",icon:"GPfOD",message:"QPAYt"},iM=e=>{var t=e.isInvalid,a=(0,j.bp)()._t,n=(0,c.useState)(!1),s=i()(n,2),o=s[0],l=s[1];return(0,P.jsxs)("div",{className:iI.main,children:[(0,P.jsxs)("div",{className:iI.info,children:[(0,P.jsxs)("div",{className:iI.heading,children:[(0,P.jsx)("span",{className:iI.title,children:a("Payment method")}),(0,P.jsx)("span",{className:iI.subtitle,children:a("Your payment method is used for tipping and all of your subscriptions.")})]}),(0,P.jsx)(ef.Z,{label:a("Edit your payment method"),wrapperClassName:iI.action,onClick:()=>{l(!o)},children:o?(0,P.jsx)(ai.Cq,{colors:{primary:M().paletteGray65}}):(0,P.jsx)(ai.nT,{colors:{primary:M().paletteGray65}})})]}),o&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s4,r()({baseRoute:nE.Ll.Memberships},e)),t&&(0,P.jsxs)("div",{className:iI.errorMessage,children:[(0,P.jsx)("span",{className:iI.icon,children:(0,P.jsx)(ny.Z,{colors:{primary:M().paletteOrange}})}),(0,P.jsxs)("div",{className:iI.message,children:[(0,P.jsx)("h3",{children:a("Update your payment method")}),(0,P.jsx)("p",{children:a("Your payment method is no longer valid. Please update it to resume your Pa.e(9583),a.e(1264),a.e(5500)]).then(a.bind(a,95468)),"SubscribersTimelineWithAppContext"),i_={mainWrapper:"GPkuc",title:"qJDLB",settingsWrapper:"lZRX9",sectionHeader:"jw0sU",sectionSubheader:"wqddf"};var iz=[iD.y.Active,iD.y.Inactive];class iR extends c.Component{constructor(){super(...arguments),iT()(this,"state",this.props.appContext.getBootstrap(sC.Rn)),iT()(this,"fetchPageData",()=>(this.setState({isFetching:!0}),(0,iL.a)(thisiFetch,window.location.host).then(e=>this.setState(e)))),iT()(this,"renderBody",()=>{var e=this.state,t=e.activeFilter,a=e.ccExpiryMonth,n=e.ccExpiryYear,r=e.ccNumber,s=e.ccType,i=e.isInvalid,o=e.filterClicked,l=this.props.appContext._t,c=this.getPaginatorContent("Tumblrpay"),d=this.getPaginatorContent("Ios"),u=!s||!r||!a||!n,m=r7.Zq[f.f.Subscriptions].analyticsPageName;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r6.Z,{page:o?`${m}Tab`:m,eventDetails:{tab:t||iD.y.Active}},t),(0,P.jsxs)("div",{className:i_.mainWrapper,children:[(0,P.jsx)("h2",{className:i_.title,children:(0,P.jsx)(T.ZP,{children:"Subscriptions"})}),!u&&(0,P.jsx)("div",{className:i_.settingsWrapper,children:(0,P.jsx)(iM,{isInvalid:i,ccType:s,ccNumber:r,ccExpiryMonth:a,ccExpiryYear:n})}),(0,P.jsx)(iZ.Z,{timelineOptions:iz,viewsShown:[],onViewClick:n0.Z,getButtonProps:this.getTimelineChangeButtonProps,currentView:iE.mt.List,activeOption:t}),(0,P.jsxs)("main",{children:[0!==c.objects.length&&(0,P.jsxs)("div",{className:i_.settingsWrapper,children:[(0,P.jsx)("h3",{className:i_.sectionHeader,children:l("Tumblr subscriptions")}),(0,P.jsx)("p",{className:i_.sectionSubheader,children:l("Purchased via tumblr.com")}),(0,P.jsx)("div",{children:(0,P.jsx)(iB,{initialPage:c,filter:t,paymentManager:"Tumblrpay"})})]}),0!==d.objects.length&&(0,P.jsxs)("div",{className:i_.settingsWrapper,children:[(0,P.jsx)("h3",{className:i_.sectionHeader,children:l("Mobile subscriptions")}),(0,P.jsx)("p",{className:i_.sectionSubheader,children:l("Purchased on other platforms")}),(0,P.jsx)(nj.Z,{message:l("Manage mobile subscriptions on the Tumblr app. Just go to Account settings > Subscriptions to get started."),theme:"info"}),(0,P.jsx)("div",{children:(0,P.jsx)(iB,{initialPage:d,filter:t,paymentManager:"Ios"})})]}),0===c.objects.length&&0===d.objects.length&&(0,P.jsx)("div",{className:i_.settingsWrapper,children:(0,P.jsx)(iA,{filter:t})})]})]})]})}),iT()(this,"getPaginatorContent",e=>{var t=this.state,a=t.activeFilter,n=t.activeSubscriptions,s=t.inactiveSubscriptions,i=a===iD.y.Active?n:s,o=(0,iL.s)((null==i?void 0:i.objects)||[],e);return r()(r()({},i),{},{objects:o})}),iT()(this,"getTimelineChangeButtonProps",e=>{var t=this.props.appContext._cn,a=this.state,n=a.activeCount,r=a.inactiveCount,s=e===iD.y.Active?t("Label for the amount of active subscriptions","Active","Active",n):t("Label for the amount of inactive subscriptions","Inactive","Inactive",r),in{label:`${i} ${s}`,onClick:(",e=>this.setState({activeFilter:e,filterClick=this.fetchInProgress)||void 0===e?void 0:e.cancel()})}componentDidMount(){return this.fetchInProgress=(0,eV.Z)(null==this.state.isFetching?this.fetchPageData():Promise.resolve()),this.fetchInProgress}componentWillUnmount(){this.cancelInProgressFetchIfNecessary()}render(){return this.state.isFetching?(0,P.jsx)(h.w,{}):this.renderBody()}}let iO=(0,iF.X9)(iR,{appContext:!0});var iG=a(57905);class iW extends iG.Z{constructor(e,t,a){super(`Server error${a?` at ${a}`:""} (${e}: ${t})`,"ServerError"),this.status=e}}var iV=a(97621);let iU={settings:"s9s8Q",isBlurred:"j41hu"};var iH=e=>{var t=e.children,a=(0,y.rV)().settings,n=(0,c.useState)(!1),r=i()(n,2),s=r[0],o=r[1];return(0,w.Q)(a)?(0,P.jsx)(h.w,{}):(0,P.jsx)("div",{className:l()({[iU.isBlurred]:s}),children:(0,c.cloneElement)(t,{setBlurred:o})})};let iY=()=>{var e=(0,j.bp)(),t=(0,d.s0)(),a=(0,d.TH)().pathname,n=(0,u.LX)(x.o_.legacyGifts,a),r=(0,r7.Nk)(a);if((0,c.useEffect)(()=>{n?t((0,x.B9)({page:f.f.Gifts}),{replace:!0}):r||t((0,x.B9)({page:f.f.Account}))},[t,n,r]),!r)return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r6.Z,{page:iV.H.analyticsPageName,eventDetails:{section:(null==r?void 0:r[0])||f.f.Account}}),(0,P.jsx)(m.Z,{children:(0,P.jsx)(b.Z,{sidebar:null,children:(0,P.jsx)("main",{className:iU.settings,children:(0,P.jsx)(h.w,{})})})})]});var s=i()(r,2),o=s[0],w=s[1],N=v.vS.settings(o),C=iK[o],S=C.component,k=C.prefetch,T=iq[o],Z=(0,r7.J1)(w.isVisible,e),D=r7.Zq[o].analyticsPageName;return(0,P.jsxs)(P.Fragment,{children:[!D&&(0,P.jsx)(r6.Z,{page:iV.H.analyticsPageName,eventDetails:{section:o}}),(0,P.jsx)(m.Z,{activePage:N,children:(0,P.jsx)(b.Z,{sidebar:(0,P.jsx)(p.Z,{children:(0,P.jsx)(g.Z,{activePage:N,settingsPagesConfigs:r7.Zq})}),children:(0,P.jsx)("main",{className:l()(iU.settings,o),children:Z&&(k?(0,P.jsx)(S,{}):(0,P.jsx)(y.mu,{additionalDataFetcher:T,children:(0,P.jsx)(iH,{children:(0,P.jsx)(S,{})})},o))})})})]})};var iq={[f.f.Privacy]:function(e){var t=e.apiFetch;return(0,eb.ZP)(t).getConfig().fetch().then(e=>{var t,a=e.response,n=a.redpop;return{gdprIsEu:n.gdprIsEu,olderThanMinimumCcpaAge:n.olderThanMinimumCcpaAge,downloadRequests:null===(t=a.gdpr)||void 0===t?void 0:t.downloadRequests}})},[f.f.Notifications]:e=>{var t,a,n,s;return D()().async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.apiFetch,a=(0,eb.ZP)(t).getBlogInfo,o.next=4,D()().awrap((0,sw.b)(t).then(e=>e.response.user.blogs));case 4:return n=o.sent,o.next=7,D()().awrap(Promise.all(n.map(e=>{var n=e.avatar,r=e.name,s=e.title;return Promisons"])).fetch().then(e=>e.response.blog.notifications),(0,rv.Z)(t,r).then(e=>e.emailNotificationsSettings)]).then(e=>{var t=i()(e,2),a=t[0];return{avatar:n,emailNotificationsSettings:t[1],name:r,notifications:a,title:s}})})));case 7:return s=o.sent,o.abrupt("return",s.reduce((e,t)=>r()(r()({},e),{},{[t.name]:t}),{}));case 9:case"end":return o.stop()}},null,null,null,Promise)},[f.f.Account]:tk.T},iJ=r()(r()({},iq),{},{[f.f.Account]:tk.P}),iK={[f.f.Account]:{component:e=>{var t=e.setBlurred,a=(0,j.hz)().redpopThirdPartyAuthentication;return(0,P.jsxs)("div",{className:"wdSm_",children:[(0,P.jsx)(k,{children:(0,P.jsx)(T.ZP,{children:"Account"})}),(0,P.jsx)(ex,{setBlurred:t}),a&&(0,P.jsx)(H,{}),(0,P.jsx)(eU,{setBlurred:t}),(0,P.jsx)(th,{setBlurred:t}),(0,P.jsx)(eR,{}),(0,P.jsx)(el,{}),(0,P.jsx)(e_,{}),(0,P.jsx)(tS,{}),(0,P.jsx)(eu,{})]})}},[f.f.Dashboard]:{component:()=>{var e,t=(0,j.bp)(),a=t._t,n=t._c,r=t._getLanguage,s=t.features,o=s.liveStreamingUserAllowed,l=s.liveStreamingSnooze,d=(0,tJ.M)(),u=d.usePalette,m=d.name,h=d.selectPalette,p=(0,y.rV)(),g=p.settings,b=p.toggle,x=p.select,v=p.isForceReloading,f=(0,c.useState)(),w=i()(f,2),N=w[0],C=w[1],S=e=>()=>{C(e),b(e,!0)()},Z=null!==(e=t$[r().localization])&&void 0!==e?e:"staff",D=`${tY.uO}${(0,tH.SS)({peeprBlogname:Z})}`;return(0,P.jsxs)("div",{className:"RVtii",children:[(0,P.jsx)(k,{children:a("Dashboard")}),(0,P.jsxs)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Interface"}),children:[(0,P.jsx)(eD.Z,{"data-testid":"endlessScrolling",onChange:S("endlessScrolling"),label:(0,P.jsx)(T.ZP,{children:"Endless scrolling"}),id:"endless-scrolling-toggle",helpText:(0,P.jsx)(T.ZP,{children:"Disabling this will allow you to surf the dashboard page-by-page instead of the endlessly-scrolling feed. To update the URL in your browser for each page, disable Best Stuff First below."}),checked:g.endlessScrolling,disabled:v&&"endlessScrolling"===N}),(0,P.jsx)(eD.Z,{"data-testid":"timestamps",onChange:S("timestamps"),label:(0,P.jsx)(T.ZP,{children:"Show timestamps on posts, reblogs, and notes."}),id:"timestamps-toggle",helpText:(0,P.jsx)(T.ZP,{children:"Enabling this displays timestamps in the post, reblog trail, and notes views. By default, timestamps are only visible in the meatballs menu on posts."}),checked:g.timestamps,disabled:v&&"timestamps"===N}),(0,P.jsx)(eD.Z,{"data-testid":"autoTruncatingPosts",onChange:S("autoTruncatingPosts"),label:(0,P.jsx)(T.ZP,{children:"Shorten long posts"}),id:"enable-auto-truncating-posts-toggle",helpText:(0,P.jsx)(T.ZP,{children:"Make it easier to browse Tumblr feeds by capping the length of long posts."}),checked:g.autoTruncatingPosts,disabled:v&&"autoTruncatingPosts"===N}),(0,P.jsx)(eD.Z,{"data-testid":"viewWithBlogTheme",onChange:S("viewWithBlogTheme"),label:(0,P.jsx)(T.ZP,{children:"Use blog colors when viewing blogs"}),id:"view-with-blog-theme-toggle",helpText:(0,P.jsx)(T.ZP,{params:{staffBlogViewUrl:D},children:"Enables a blog's custom colors in the blog view (e.g. [staffBlogViewUrl]). If disabled, all blogs will be shown using your selected palette's colors instead."}),checked:g.viewWithBlogTheme,disabled:v&&"viewWithBlogTheme"===N})]}),u&&(0,P.jsx)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Color Palette"}),children:(0,P.jsx)(K.Z,{id:"colorPaletteSwitcher","aria-label":a("Change palette"),onChange:e=>h(e.target.value),value:m,helpText:(0,P.jsx)(T.ZP,{components:{strong:(0,P.jsx)("strong",{}),break:(0,P.jsx)("br",{})},children:"Change your palette at any time with [strong]Shift + P[/strong] [break/] This setting doesn't sync to the apps."}),children:tq.z.map(e=>(0,P.jsx)("option",{value:e,children:(0,tK.QL)(e,n)},`palette-option-${e}`))})}),(0,P.jsx)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Text Editor"}),children:(0,P.jsxs)(K.Z,{id:"defaultPostFormat","aria-label":a("Text Editor"),onBlur:x,defaultValue:g.defaultPostFormat,children:[(0,P.jsx)("option",{value:0,children:a("Rich text editor")}),(0,P.jsx)("option",{value:1,children:a("Plain text/HTML")}),(0,P.jsx)("option",{value:2,children:a("Markdown")})]})}),(0,P.jsx)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Sounds"}),children:(0,P.jsx)(eD.Z,{"data-testid":"messagingSounds",onChange:S("messagingSounds"),label:(0,P.jsx)(T.ZP,{children:"Messaging sounds"}),id:"messaging-sounds-toggle",helpText:(0,P.jsx)(T.ZP,{children:"Assorted 'shling!' and 'fwip!' noises in messaging."}),checked:g.messagingSounds,disabled:v&&"messagingSounds"===N})}),(0,P.jsxs)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Preferences"}),children:[(0,P.jsx)(eD.Z,{"data-testid":"dashboardBestStuffFirst",onChange:S("dashboardBestStuffFirst"),label:(0,P.jsx)(T.ZP,{children:"Best Stuff First"}),id:"best-stuff-first-toggle",helpText:(0,P.jsx)(T.ZP,{children:"This switch puts stuff you'll like at the top of your dash."}),checked:g.dashboardBestStuffFirst,disabled:v&&"dashboardBestStuffFirst"===N}),(0,P.jsx)(eD.Z,{"data-testid":"dashboardInYourOrbit",onChange:S("dashboardInYourOrbit"),label:a("Include posts liked by the blogs you follow"),id:"in-your-orbit-toggle",helpText:(0,P.jsx)(T.ZP,{children:"Posts that your favorite people liked."}),checked:g.dashboardInYourOrbit,disabled:v&&"dashboardInYourOrbit"===N}),(0,P.jsx)(eD.Z,{"data-testid":"dashboardBasedOnYourLikes",onChange:S("dashboardBasedOnYourLikes"),label:(0,P.jsx)(T.ZP,{children:'Include "Based On Your Likes!"'}),id:"based-on-your-likes-toggle",helpText:(0,P.jsx)(T.ZP,{children:'Show "Based On Your Likes!" in the following tab alongside posts from blogs you follow.'}),checked:g.dashboardBasedOnYourLikes,disabled:v&&"dashboardBasedOnYourLikes"===N}),(0,P.jsx)(eD.Z,{"data-testid":"dashboardFollowedTagsPosts",onChange:S("dashboardFollowedTagsPosts"),label:(0,P.jsx)(T.ZP,{children:"Include followed tag posts"}),id:"inclued-followed-tag-posts-toggle",helpText:(0,P.jsx)(T.ZP,{children:"Posts from the tags you follow."}),checked:g.dashboardFollowedTagsPosts,disabled:v&&"dashboardFollowedTagsPosts"===N}),(0,P.jsx)(eD.Z,{"data-testid":"colorizedTags",onChange:S("colorizedTags"),label:(0,P.jsx)(T.ZP,{children:"Enable colorized tags"}),id:"enable-colorized-tags-toggle",helpText:(0,P.jsx)(T.ZP,{children:"Colorize matching tags on the dashboard. Colorized tags add a nice touch to your dashboard but they might be harder to read."}),checked:g.colorizedTags,disabled:v&&"colorizedTags"===N}),o&&l&&(0,P.jsx)(eD.Z,{"data-testid":"snoozeTmgLive",onChange:S("snoozeTmgLive"),label:(0,P.jsx)(T.ZP,{comment:"setting name",children:"Snooze Tumblr Live on your dashboard"}),id:"enable-snooze-tumblr-live-toggle",helpText:(0,P.jsx)(T.ZP,{comment:"description of snooze the Snooze Tumblr Live on your dashboard setting",children:"Snooze Tumblr Live on your dashboard for 30 days."}),checked:g.snoozeTmgLive,disabled:v&&"snoozeTmgLive"===N})]})]})}},[f.f.Notifications]:{component:e=>{var t=e.setBlurred,a=(0,j.bp)(),n=a.apiFetch,s=a.features,o=(0,y.rV)(),l=o.extraData,c=o.settings,d=o.isFetching,u=o.mergeExtraData,m=o.toggle,p=c.conversationalNotifications,g=c.permitMarketingEmails,b=s.pushNotificationWeb,x=e=>{var t=e.emailNotificationsSettings,a=e.notifications,s=sy(l,{emailNotificationsSettings:t,notifications:a});return u(s),Promise.all(Object.entries(s).map(e=>{var t=i()(e,2),s=t[0],o=t[1].emailNotificationsSettings;return(0,eb.ZP)(n).updateBlogSettings(s,r()({notifications:a},o)).fetch()}))};return d?(0,P.jsx)(h.w,{}):(0,P.jsxs)("div",{className:sv.wrapper,children:[(0,P.jsx)(k,{children:(0,P.jsx)(T.ZP,{children:"Notificati>(0,P.jsx)(sx,{info:e,saveAll:x,setBlurred:t},e.name)),(0,P.jsx)(A.Z,{className:sv.section,label:(0,P.jsx)(T.ZP,{comment:"Title for the section on the notifications settings page to enable whether you want to receive promotional emails",children:"Tumblr news"}),children:(0,P.jsx)(eD.Z,{checked:g,className:sv.toggle,controlled:!0,id:"permit-marketing-emails-toggle",label:(0,P.jsx)(T.ZP,{comment:"Toggle button to enable whether you want to receive promotional emails",children:"Email me about trending topics, interesting blogs, whatever."}),onChange:m("permitMarketingEmails")})}),(0,P.jsx)(A.Z,{className:sv.section,label:(0,P.jsx)(T.ZP,{comment:"Title for the section on the notifications settings page to enable whether you want to receive notifications about posts you participate in",children:"Conversational notifications"}),children:(0,P.jsx)(eD.Z,{checked:p,className:sv.toggle,controlled:!0,id:"conversational-notifications-toggle",label:(0,P.jsx)(T.ZP,{comment:"Toggle button to enable whether you want to receive notifications about posts you participate in",children:"Notifications about posts you're participating in."}),onChange:m("conversationalNotifications")})})]})}},[f.f.Purchases]:{component:()=>{var e,t,a=(0,j.bp)()._c,n=(0,O.V)().toggleToast,s=ig(),i=s.isPending,o=s.isError,d=s.data,u=ib(),m=u.isPending,p=u.isError,g=u.data;return((0,c.useEffect)(()=>{(o||p)&&n(a("[Payment & Purchases] Error message when fetching payment and purchases data fails.","There was a problem retreiving your payment and purchases data. Please refresh the page and try again."),"error")},[a,o,p,n]),i||m)?(0,P.jsx)(h.w,{}):(0,P.jsxs)("div",{className:iS.wrapper,children:[(0,P.jsxs)("div",{className:iS.header,children:[(0,P.jsx)(k,{className:iS.pageTitle,children:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Page title",children:"Payment & purchases"})}),(0,P.jsx)("span",{className:iS.help,children:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Help text for the payment & purchases settings page.",components:{helpLink:(0,P.jsx)("a",{href:"https://www.tumblr.com/support",target:"_blank"})},children:"Questions or need help? [helpLink]Contact Tumblr Support[/helpLink]"})})]}),(0,P.jsx)(A.Z,{className:l()(iS.section,{[iS.vertical]:!(null!=d&&d.isValid),[iS.empty]:!(null!=d&&d.isValid)}),contentClassName:iS.sectionContent,titleClassName:iS.sectionTitle,label:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Title for the payment method section on the payment & purchases settings page to manage saved payment method.",children:"Payment method"}),children:(0,P.jsx)(iv,r()({},d))}),(0,P.jsx)(A.Z,{className:l()(iS.section,iS.vertical,{[iS.empty]:!(null!=g&&null!==(e=g.orders)&&void 0!==e&&e.length)}),contentClassName:iS.sectionContent,titleClassName:iS.sectionTitle,label:(0,P.jsx)(T.ZP,{comment:"[Payment & Purchases] Title for the purchase history section on the payment & purchases settings page to see all purchases.",children:"Purchase history"}),children:(0,P.jsx)(iP,{nextLink:null==g||null===(t=g.links)||void 0===t?void 0:t.next,purchases:null==g?void 0:g.orders})})]})}},[f.f.DomainAdd]:{component:af},[f.f.DomainAddAny]:{component:af},[f.f.DomainTransfer]:{component:()=>{var e=(0,j.bp)(),t=e._c,a=e.logEvent,n=e.apiFetchWithSchema,r=(0,d.UO)().domainName,s=void 0===r?"":r,o=(0,c.useState)(!1),l=i()(o,2),u=l[0],m=l[1],h=(0,c.useState)(),p=i()(h,2),g=p[0],b=p[1],v=(0,O.V)().toggleToast;return(0,c.useEffect)(()=>{a({eventName:ec.J.DomainTransferScreenView})},[a]),(0,P.jsx)(as,{linkLabel:t("Label of a button that takes users back to the domain add page","Transfer another domain"),linkUrl:(0,x.yj)({domainName:s}),children:(0,P.jsxs)("section",{className:"xUO3y",children:[(0,P.jsxs)("header",{className:"_G0t5",children:[(0,P.jsx)("img",{className:"Ztxwt",alt:"Tumblr Domains",src:tX,width:"716",height:"560"}),(0,P.jsx)("h1",{children:(0,P.jsx)(T.ZP,{comment:"Title of the domain transfer page",children:"Transfer your domain"})}),(0,P.jsx)("h3",{children:s})]}),(0,P.jsx)("div",{className:"I08ye",children:(0,P.jsx)(T.ZP,{comment:"Description of the domain transfer process",components:{p:(0,P.jsx)("p",{})},children:"[p]To transfer your domain, we will need the domain's authorization code. It might also be called secret code, auth code, or EPP code. You can usually find this in the domain settings page of your domain provider.[/p] [p]It takes 10-20 minutes to set up. It can take up to 5 days for the domain to be transferred, depending on your provider.[/p]"})}),(0,P.jsx)("div",{className:"Saps2",children:(0,P.jsx)(au,{autoComplete:"off",onSubmit:e=>{a({eventName:ec.J.DomainTransferAuthorizationCodeSubmit,eventDetails:{tld:s.split(".").pop()}}),m(!0),n(`/v2/domains/${s}/transfer`,rW,{method:"POST",body:{authorization_code:e}}).then(e=>{var t=e.response;if(t.isDomainTransferable&&t.checkoutUrl){window.location.assign(t.checkoutUrl);return}!t.isDomainTransferable&&t.reasonCode?b(t.reasonCode):v(t3.K7,"error"),m(!1)}).catch(()=>{m(!1),v(t3.K7,"error")})},isAutoFocused:!0,isLoading:u,validate:e=>rV(t,e),themeColor:M().palettePurple,placeholder:t("Input field hint","Enter authorization code"),submitButtonText:(0,P.jsx)(T.ZP,{comment:"Submit button label",children:"Submit"})})}),(0,P.jsxs)("div",{className:"P0H4f",children:[(0,P.jsx)("div",{className:"YGqkt",children:(0,P.jsx)(T.ZP,{comment:"Help text for finding authorization code.",components:{link:(0,P.jsx)(am.rU,{to:"https://help.tumblr.com/hc/articles/18207779163543#h_01HCGDY9Q74DQC5S2C24Q7F8XQ",target:"_blank"})},children:"Having trouble finding the code? Don't worry, we've [link]got you covered[/link]!"})}),(0,P.jsx)(at,{onClick:()=>{a({eventName:ec.J.DomainTransferDomainPurchaseBannerClick})}})]}),g&&(0,P.jsx)(rY,{reasonCode:g,onClose:()=>b(void 0),domainName:s})]})})}},[f.f.DomainsManagement]:{component:function(){var e=(0,j.bp)(),t=e._c,a=e.logEvent,n=(0,d.s0)(),r=nm(),s=r.data,i=void 0===s?[]:s,o=r.isFetching,l=r.isFetched,u=(0,d.TH)().search;return((0,c.useEffect)(()=>{l&&!i.length&&n(x.o_.domainPurchase)},[l,i.length,n]),(0,c.useEffect)(()=>{if(l&&i.length){var e,t=decodeURIComponent(null!==(e=(0,t6.b)(u).referrer)&&void 0!==e?e:"");a({eventName:ec.J.DomainsManagementScreenView,eventDetails:{referrer:t}}),nG(t)&&a({eventName:ec.J.DomainsManagementCheckoutCancelled})}},[l,i.length,a,u]),o)?(0,P.jsx)(h.w,{}):(0,P.jsxs)("section",{className:"v62ea",children:[(0,P.jsxs)("header",{className:"gjN7W",children:[(0,P.jsx)(k,{className:"Aix5r",children:(0,P.jsx)(T.ZP,{comment:"Main heading on the Domains Management page",children:"Domains"})}),(0,P.jsxs)(L.Z,{href:"/domains",isRounded:!0,onClick:()=>{a({eventName:ec.J.DomainsManagementAddNewClick})},textColor:M().paletteWhite,"data-automation-id":"add-domain-button",title:t("Tooltip for link on Domains Management page to Domain Purchase page","Get a brand new awesome domain"),children:[(0,P.jsx)(rq.Z,{className:"jLpf1",size:{width:18,height:18}}),(0,P.jsx)(T.ZP,{comment:"Link allowing a user to purchase an additional domain",children:"Add"})]})]}),(0,P.jsx)(r5,{domains:i})]})}},[f.f.DomainPurchase]:{component:function(){var e=(0,d.s0)(),t=(0,j.bp)(),a=t._c,n=t.logEvent,r=t._getPriceInCurrency,s=nm(),i=s.data,o=s.isFetched&&(void 0===i?[]:i).length>0,l=t9().data;return(0,c.useEffect)(()=>{n({eventName:ec.J.DomainPurchaseScreenView})},[n]),(0,P.jsx)(as,{linkLabel:o?a("Button which leads to list of purchased domains","Your Domains"):void 0,linkUrl:o?(0,x.uq)():void 0,children:(0,P.jsxs)("section",{className:nf.domainPurchase,children:[(0,P.jsxs)("header",{className:nf.header,children:[(0,P.jsxs)("div",{className:nf.priceBadgeWrapper,children:[(0,P.jsx)("svg",{className:nf.priceBadgeGraphic,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 75",children:(0,P.jsx)("path",{d:"m37.5 0 2.12 3.817L42.2.296l1.624 4.052 3.002-3.17 1.103 4.224 3.376-2.769.565 4.33 3.696-2.325.018 4.366 3.958-1.842-.529 4.333 4.157-1.331-1.067 4.232 4.291-.8-1.59 4.066 4.358-.255-2.087 3.834 4.356.292-2.551 3.543 4.285.836-2.975 3.195 4.146 1.366-3.352 2.797 3.942 1.875L71.25 37.5l3.676 2.355-3.942 1.875 3.352 2.797-4.146 1.366 2.975 3.195-4.285.836 2.551 3.543-4.356.292 2.087 3.834-4.358-.255 1.59 4.065-4.291-.8 1.067 4.233-4.157-1.331.529 4.333-3.958-1.842-.018 4.366-3.696-2.324-.565 4.329-3.376-2.769-1.103 4.224-3.002-3.17-1.624 4.052-2.58-3.52L37.5 75l-2.12-3.817-2.58 3.521-1.624-4.052-3.002 3.17-1.103-4.224-3.376 2.769-.565-4.33-3.696 2.325-.018-4.366-3.958 1.842.529-4.333-4.158 1.331 1.068-4.233-4.291.8 1.59-4.065-4.358.255 2.087-3.834-4.356-.292 2.551-3.543-4.285-.836 2.975-3.195-4.146-1.366 3.352-2.797-3.942-1.875L3.75 37.5.074 35.145l3.942-1.875-3.352-2.797 4.146-1.366-2.975-3.195 4.285-.836-2.551-3.543 4.356-.292-2.087-3.834 4.358.255-1.59-4.065 4.291.8-1.068-4.233 4.158 1.331-.529-4.333 3.958 1.842.018-4.365 3.696 2.323.565-4.329 3.376 2.769 1.103-4.224 3.002 3.17L32.8.296l2.58 3.52L37.5 0Z"})}),l&&(0,P.jsxs)("div",{className:nf.priceBadge,children:["From"," ",(0,P.jsx)("span",{children:(0,ae.T4)(l,t2.oX,r)})]})]}),(0,P.jsxs)("div",{className:nf.headerText,children:[(0,P.jsx)("img",{className:nf.headerLogo,alt:"Tumblr Domains",src:tX,width:"716",height:"560"}),(0,P.jsx)("h1",{children:(0,P.jsx)(T.ZP,{comment:"Title of the home page of purchasing domains at Tumblr",children:"Tumblr Domains"})}),(0,P.jsx)("h3",{children:(0,P.jsx)(T.ZP,{comment:"Subtitle of the home page of purchasing domains at Tumblr",children:"A home address for all your chaos."})})]})]}),(0,P.jsx)("div",{className:nf.searchFormWrapper,children:(0,P.jsx)(au,{onSubmit:t=>{n({eventName:ec.J.DomainPurchaseSearchClick}),e((0,x.W8)(t,"domainSearch"))},isAutoFocused:!0,companion:(0,P.jsx)(nc.Z,{size:{width:24,height:24}}),validate:e=>nh(a,e)})}),(0,P.jsx)(nv,{}),(0,P.jsxs)("div",{className:nf.body,children:[(0,P.jsxs)("div",{className:nf.bodyDescription,children:[(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Tumblr Domains marketing copy",components:{strong:(0,P.jsx)("strong",{})},children:"[strong]It’s unique.[/strong] Get a Tumblr Domain so your blog can be reached at a unique address of your choice! (Yes, a unique address that doesn't say tumblr.com.)"})}),(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Tumblr Domains marketing copy - blurb 1 out of 3",components:{strong:(0,P.jsx)("strong",{})},children:"[strong]It’s so easy.[/strong] Simply search for your desired personal dot com, and within a few seconds you, too, can have a place to call your very own. Serve your stuff with a little verve."})}),(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Tumblr Domains marketing copy - blurb 2 out of 3",components:{strong:(0,P.jsx)("strong",{})},children:"[strong]It’s so legit (or not).[/strong] Nothing says you’re the real deal quite like your very own domain name. (Unless it’s a .wtf domain. We’re Tumblr. We have those too.)"})}),(0,P.jsx)("p",{children:(0,P.jsx)(T.ZP,{comment:"Tumblr Domains marketing copy - blurb 3 out of 3",components:{strong:(0,P.jsx)("strong",{})},children:"[strong]It’s so private.[/strong] We keep your identity safe and secure. Your domain registration information is kept private, for free."})})]}),(0,P.jsxs)("div",{className:nf.sectionAddDomain,children:[(0,P.jsx)("div",{className:nf.sectionAddDomainTitle,children:(0,P.jsx)(T.ZP,{comment:"Title of the section that introduces feature for using user's own domain",children:"Already have your own domain name?"})}),(0,P.jsxs)(ef.Z,{wrapperClassName:nf.subsectionAddDomain,className:nf.subsectionAddDomainInner,onClick:()=>{n({eventName:ec.J.DomainPurchaseTransferClick}),e(x.o_.domainAddAny)},children:[(0,P.jsx)("div",{className:nf.subsectionAddDomainLogo,children:(0,P.jsx)(t0,{colors:{primary:M().palettePurple}})}),(0,P.jsx)(aa.fj,{className:nf.subsectionAddDomainArrow,colors:{primary:M().paletteWhite}}),(0,P.jsx)("div",{className:nf.subsectionAddDomainTitle,children:t3.a4}),(0,P.jsx)("div",{className:nf.subsectionAddDomainDescription,children:(0,P.jsx)(T.ZP,{comment:"Marketing copy for domain transfer",children:"Manage your domain directly on Tumblr! We'll extend your registration for another year."})})]}),(0,P.jsxs)(ef.Z,{wrapperClassName:nf.subsectionAddDomain,className:nf.subsectionAddDomainInner,onClick:()=>{n({eventName:ec.J.DomainPurchaseConnectClick}),e((0,x.hG)())},children:[(0,P.jsx)("div",{className:nf.subsectionAddDomainLogo,children:(0,P.jsx)(tQ,{colors:{primary:M().palettePurple}})}),(0,P.jsx)(aa.fj,{className:nf.subsectionAddDomainArrow,colors:{primary:M().paletteWhite}}),(0,P.jsx)("div",{className:nf.subsectionAddDomainTitle,children:t3.bV}),(0,P.jsx)("div",{className:nf.subsectionAddDomainDescription,children:(0,P.jsx)(T.ZP,{comment:"Marketing copy for domain connection",children:"Keep your domain with your current provider and point it to your Tumblr blog!"})})]})]})]})]})})}},[f.f.DomainSearch]:{component:function(){var e=(0,c.useState)(1),t=i()(e,2),a=t[0],n=t[1],r=(0,c.useState)(!1),s=i()(r,2),o=s[0],l=s[1],u=15*a,m=(0,d.UO)().searchTerm,h=void 0===m?"":m,p=(0,d.s0)(),g=(0,j.bp)(),b=g._c,v=g._t,f=g.logEvent;(0,c.useEffect)(()=>{f({eventName:ec.J.DomainSearchScreenView})},[f]);var y=(0,nb.Of)(h),w=y.data,N=y.isFetching,C=yw.domainSuggestions)||[],k=(0,c.useMemo)(()=>(0,tO.U)((0,tR.Pk)(v)),[v]),Z=C?k:null==w?void 0:w.error;return(0,P.jsx)(as,{linkLabel:b("Label of a link that navigates to the domain purchase page","Domains"),linkUrl:x.o_.domainPurchase,children:(0,P.jsxs)("div",{className:nD.domainSearch,children:[(0,P.jsx)("div",{className:nD.searchFormWrapper,children:(0,P.jsx)(au,{value:h,onSubmit:e=>{n(1),f({eventName:ec.J.DomainSearchSearchClick}),p((0,x.W8)(e,"domainSearch"))},isDisabled:o,companion:(0,P.jsx)(nc.Z,{size:{width:24,height:24}}),validate:e=>nh(b,e)})}),Z&&(0,P.jsx)("div",{"data-automation-id":"search-domain-error",children:(0,P.jsx)(nj.Z,{theme:"error",message:Z,icon:(0,P.jsx)(ny.Z,{colors:{primary:M().paletteBlack}})})}),(0,P.jsx)("div",{className:nD.domains,children:N?(0,P.jsx)("div",{className:nD.loader,"data-testid":"loader",children:(0,P.jsx)(eh.Z,{color:M().paletteGray65})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("ul",{className:nD.domains,children:S.slice(0,u).map((e,t)=>(0,P.jsx)(nZ,{data:e,disableAllButtons:e=>{l(e)},isRecommended:0===t,isDisabled:o},e.domainName))}),u<S.length&&(0,P.jsx)("div",{className:nD.buttonsWrapper,children:(0,P.jsx)("button",{className:nD.showMoreButton,onClick:()=>{f({eventName:ec.J.DomainSearchShowMoreClick}),n(e=>e+1)},children:(0,P.jsx)(T.ZP,{comment:"Label of the show more button for revealing more domain suggestions",children:"Show more results"})})})]})})]})})}},[f.f.DomainSettings]:{component:function(){var e,t,a=(0,d.UO)().domainName,n=(0,j.bp)().logEvent,s=(0,j.bp)()._c,i=(0,d.TH)().search;(0,c.useEffect)(()=>{var e,t=decodeURIComponent(null!==(e=(0,t6.b)(i).referrer)&&void 0!==e?e:"");n({eventName:ec.J.DomainSettingsScreenView,eventDetails:{referrer:t}}),nG(t)&&n({eventName:ec.J.DomainSettingsCheckoutCompleted})},[n,i]);var o=(e=void 0===a?"":a,t=(0,j.bp)().apiFetchWithSchema,(0,tg.a)(r()(r()({},{retry:8,retryDelay:3e3}),{},{queryKey:nM(e),queryFn:()=>{var a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D()().awrap(t(`/v2/domains/${e}/details`,nL,{method:"GET"}));case 2:return a=n.sent,n.abrupt("return",{domain:a.response.domain,subscription:nI(a.response.subscription)});case 4:case"end":return n.stop()}},null,null,null,Promise)},refetchOnWindowFocus:!1}))),l=o.data,u=o.isError,m=(0,np.n)().data,p=!m||!l;return u?(0,P.jsx)(as,{children:(0,P.jsxs)("div",{className:rz.domainSettings,children:[(0,P.jsx)("p",{children:s("Error message displayed when data could not be fetched on domain settings page","Oops, sorry about that. There was an issue fetching your domain data. Please wait a few moments before refreshing your browser. Your domain should show up imminently.")}),(0,P.jsx)(nA,{className:rz.errorIcon,colors:{background:M().transparent,primary:M().paletteBlue},size:{height:64,width:64}})]})}):p?(0,P.jsx)(h.w,{}):(0,P.jsx)(as,{linkLabel:s("Button which leads to list of purchased domains","Your Domains"),linkUrl:(0,x.uq)(),children:(0,P.jsx)("div",{className:rz.domainSettings,children:"registered"===l.domain.type?(0,P.jsx)(rO,{domain:l.domain,blogs:m,subscription:l.subscription}):(0,P.jsx)(rG,{domain:l.domain,blogs:m,subscription:l.subscription})})})}},[f.f.DomainManageDns]:{component:()=>{var e=(0,d.s0)(),t=(0,j.bp)(),a=t._c,n=t.logEvent,r=(0,d.UO)().domainName,s=void 0===r?"":r;return(0,c.useEffect)(()=>{n({eventName:ec.J.DomainSettingsManageDnsScreenView})},[n]),(0,P.jsx)(as,{linkLabel:a("Label of a link that navigates to the domain settings page","Domain Settings"),linkUrl:(0,x.uq)({domainName:s}),children:(0,P.jsxs)("section",{className:"cUTKe",children:[(0,P.jsx)(k,{className:"pcmQy",children:s}),(0,P.jsx)(nl,{domainName:s,isEditable:!0}),(0,P.jsx)(L.Z,{backgroundColor:M().paletteWhite,"data-automation-id":"domain-settings-dns-add-button",isRounded:!0,onClick:()=>{n({eventName:ec.J.DomainSettingsAddDnsClick}),e((0,x.S0)({domainName:s}))},textColor:M().paletteGray65,theme:"border",children:(0,P.jsx)(T.ZP,{comment:"Button that takes users to a page for adding a new DNS record",children:"Add a record"})})]})})}},[f.f.DomainManageDnsAdd]:{component:()=>{var e=(0,d.s0)(),t=(0,j.bp)(),a=t._c,n=t.logEvent,r=(0,O.V)().toggleToast,s=aE(),o=(0,d.UO)().domainName,l=void 0===o?"":o,u=(0,c.useState)("A"),m=i()(u,2),h=m[0],p=m[1],g=(0,c.useState)(aM),b=i()(g,2),v=b[0],f=b[1],y=(0,c.useState)(!1),w=i()(y,2),N=w[0],C=w[1],S=(0,c.useState)(!1),Z=i()(S,2),A=Z[0],E=Z[1],F=aZ(l),I=F.data,B=void 0===I?[]:I,_=F.isFetched;return(0,c.useEffect)(()=>{n({eventName:ec.J.DomainSettingsAddDnsScreenView})},[n]),(0,P.jsx)(as,{linkLabel:a("Label of a link that navigates to the domain DNS management page. %1$s is a domain name the user is adding a DNS record for","DNS Records for %1$s",[l]),linkUrl:(0,x.dy)({domainName:l}),children:(0,P.jsxs)("section",{className:"Iy_cA",children:[(0,P.jsx)(k,{className:"RMw4F",children:(0,P.jsx)(T.ZP,{comment:"Title of the adding new DNS record. Placeholder is a domain name the user is adding a DNS record for",params:{domainName:l},children:"Add DNS record for [domainName]"})}),(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{comment:"A description of what DNS records are",children:"DNS records are special settings that change how your domain works. They let you connect to third-party services, like an email provider."})}),(0,P.jsxs)("form",{onSubmit:t=>{var i,o,c;return D()().async(function(d){for(;;)switch(d.prev=d.next){case 0:if(t.preventDefault(),t.currentTarget.checkValidity()){d.next=3;break}return de 3:return C(!0),d.prev=4,i=aB(v,h),o=B.reduce((e,t)=>(e.push(t),e),[i]),d.next=9,D()().awrap(s.mutateAsync({domainName:l,updatedDnsRecords:o}));case 9:e((0,x.dy)({domainName:l})),d.next=16;break;case 12:d.prev=12,d.t0=d.catch(4),C(!1),aI(null===d.t0||void 0===d.t0||null===(c=d.t0.detailedErrors)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.code)?E(!0):r(a("error message when an unknown error occurred while updating a domain setting","Oops. There was an error. Please reload the page and try again."),"error");case 16:n({eventName:ec.J.DomainSettingsAddDnsSubmit});case 17:case"end":return d.stop()}},null,null,[[4,12]],Promise)},noValidate:!0,children:[_?(0,P.jsx)(na,{type:h,updateType:p,recordDrafts:v,updateRecordDrafts:f}):(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:M().paletteGray65}),(0,P.jsxs)("div",{className:"jEDgN",children:[(0,P.jsx)(L.Z,{backgroundColor:M().paletteWhite,disabled:N,disabledTextColor:M().paletteGray25,isRounded:!0,onClick:()=>{n({eventName:ec.J.DomainSettingsAddDnsCancel}),e((0,x.dy)({domainName:l}))},textColor:M().paletteGray65,theme:"border",type:"button",children:(0,P.jsx)(T.ZP,{comment:"Label for cancel button",children:"Cancel"})}),(0,P.jsx)(L.Z,{disabled:N||!_,disabledTextColor:M().paletteGray25,isRounded:!0,textColor:M().paletteNavy,children:N?(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0}):(0,P.jsx)(T.ZP,{comment:"Label for the submit button on the form for adding a new DNS record",children:"Add"})})]})]}),A&&(0,P.jsx)(aF,{title:a("Title for the modal that appears when adding new DNS record failed","Failed to add DNS record"),onClose:()=>E(!1)})]})})}},[f.f.DomainManageDnsEdit]:{component:()=>{var e=(0,d.s0)(),t=(0,j.bp)(),a=t._c,n=t.logEvent,s=(0,O.V)().toggleToast,o=aE(),l=(0,d.UO)(),u=l.domainName,m=void 0===u?"":u,h=l.recordId,p=void 0===h?"":h,g=(0,c.useState)(),b=i()(g,2),v=b[0],f=b[1],y=(0,c.useState)(aM),w=i()(y,2),N=w[0],C=w[1],S=(0,c.useState)(!1),Z=i()(S,2),A=Z[0],E=Z[1],F=(0,c.useState)(!1),I=i()(F,2),B=I[0],_=I[1],z=aZ(m),R=z.data,G=void 0===R?[]:R,W=z.isFetched;return(0,c.useEffect)(()=>{n({eventName:ec.J.DomainSettingsEditDnsScreenView})},[n]),(0,c.useEffect)(()=>{var e=G.find(e=>e.id===p);e&&(C(aM.reduce((t,a)=>(a.type===e.type?t.push(e):t.push(r()(r()({},a),{},{id:e.id})),t),[])),f(e.type))},[p,G]),(0,P.jsx)(as,{linkLabel:a("Label of a link that navigates to the domain DNS management page. %1$s is a domain name the user is editing a DNS record for","DNS Records for %1$s",[m]),linkUrl:(0,x.dy)({domainName:m}),children:(0,P.jsxs)("section",{className:"aJlgE",children:[(0,P.jsx)(k,{className:"CHSue",children:(0,P.jsx)(T.ZP,{comment:"Title of the editing a DNS record. Placeholder is a domain name the user is editing a DNS record for",params:{domainName:m},children:"Edit DNS record for [domainName]"})}),(0,P.jsx)(Y.Z,{children:(0,P.jsx)(T.ZP,{comment:"A description of what DNS records are",children:"DNS records are special settings that change how your domain works. They let you connect to third-party services, like an email provider."})}),(0,P.jsxs)("form",{onSubmit:t=>{var r,i,l;return D()().async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t.preventDefault(),t.currentTarget.checkValidity()){c.next=3;break}return c.abrupt("return");case 3:return E(!0),c.prev=4,r=aB(N,v),i=G.reduce((e,t)=>(t.id===r.id?(t.type!==r.type&&e.push(t),e.push(r)):e.push(t),e),[]),c.next=9,D()().awrap(o.mutateAsync({domainName:m,updatedDnsRecords:i}));case 9:e((0,x.dy)({domainName:m})),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(4),E(!1),aI(null===c.t0||void 0===c.t0||null===(l=c.t0.detailedErrors)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.code)?_(!0):s(a("error message when an unknown error occurred while updating a domain setting","Oops. There was an error. Please reload the page and try again."),"error");case 16:n({eventName:ec.J.DomainSettingsEditDnsSubmit});case 17:case"end":return c.stop()}},null,null,[[4,12]],Promise)},noValidate:!0,children:[W?(0,P.jsx)(na,{type:v,updateType:f,recordDrafts:N,updateRecordDrafts:C}):(0,P.jsx)(eh.Z,{small:!0,centerOrientation:"horizontal",color:M().paletteGray65}),(0,P.jsxs)("div",{className:"uxbzC",children:[(0,P.jsx)(L.Z,{backgroundColor:M().paletteWhite,disabled:A||!W,disabledTextColor:M().paletteGray25,isRounded:!0,onClick:()=>{n({eventName:ec.J.DomainSettingsEditDnsCancel}),e((0,x.dy)({domainName:m}))},textColor:M().paletteGray65,theme:"border",type:"button",children:(0,P.jsx)(T.ZP,{comment:"Label for cancel button",children:"Cancel"})}),(0,P.jsx)(L.Z,{disabled:A,disabledTextColor:M().paletteGray25,isRounded:!0,textColor:M().paletteNavy,children:A?(0,P.jsx)(eh.Z,{color:M().paletteGray65,small:!0}):(0,P.jsx)(T.ZP,{comment:"Submit form button for editing a DNS record",children:"Update"})})]})]}),B&&(0,P.jsx)(aF,{title:a("Title for the modal that appears when updating a DNS record failed","Failed to update DNS record"),onClose:()=>_(!1)})]})})}},[f.f.AdFreeBrowsing]:{prefetch:e=>D()().async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",sF(e).then(e=>e));case 1:case"end":return t.stop()}},null,null,null,Promise),component:()=>{var e,t,a,n,r=(0,j.bp)(),s=r.getBootstrap,o=r.apiFetch,l=r.apiFetchWithSchema,u=r.logEvent,m=r._t,p=(0,O.V)().toggleToast,g=(0,d.TH)(),b=g.search,x=g.pathname,v=null==s?void 0:s(sC.Rn),w=(0,c.useState)(v.pricePoints||[]),N=i()(w,2),C=N[0],S=N[1],k=(0,c.useState)(v.subscription),Z=i()(k,2),D=Z[0],A=Z[1],E=(0,c.useState)(v.paymentMethod),F=i()(E,2),L=F[0],I=F[1],M=(0,c.useState)(v.hasTumblrPremium),B=i()(M,2),_=B[0],z=B[1],R=(0,c.useState)(v.tumblrFreePremiumExpiration),G=i()(R,2),W=G[0],V=G[1],U=(0,c.useState)(null===(e=v.rewardedAdInfo)||void 0===e?void 0:e.rewardedAd),H=i()(U,2),Y=H[0],q=H[1],J=(0,c.useState)(v.usedToHaveTumblrPremium),K=i()(J,2),$=K[0],X=K[1],Q=(0,c.useState)(v.hasTumblrPremium),ee=i()(Q,2),et=ee[0],ea=ee[1],en=(0,c.useState)((null===(t=v.pricePoints)||void 0===t?void 0:t.length)===0),er=i()(en,2),es=er[0],ei=er[1],eo=(0,c.useState)((0,ae.zc)(b)&&!v.hasTumblrPremium),el=i()(eo,2),ec=el[0],ed=el[1],eu=(0,c.useState)(0),em=i()(eu,2),eh=em[0],ep=em[1];if((0,c.useEffect)(()=>{var e=()=>{var e=eh+1;if(ep(e),e>=5){ed(!1),ei(!1),p(m("Oops, sorry about that. There was an issue fetching your current subscription status. Please wait a few moments before refreshing your browser. Your subscription should show up imminently."));return}ei(!0),sF({apiFetch:o,apiFetchWithSchema:l}).then(e=>{var t;S(e.pricePoints),A(e.subscription),I(e.paymentMethod),X(e.usedToHaveTumblrPremium),z(e.hasTumblrPremium),ea(e.hasTumblrFreePremium),V(e.tumblrFreePremiumExpiration),q(null===(t=e.rewardedAdInfo)||void 0===t?void 0:t.rewardedAd),ei(!1),ec&&e.hasTumblrPremition.reload())})};if(ec&&!es&&!_){setTimeout(function(){ei(!0),e()},4e3);return}!(C.length>0)&&(es||e())},[m,o,eh,C,ec,es,_,D,$,u,p,x]),es||ec)return(0,P.jsx)(h.w,{});var eg=null===(a=C.find(e=>e.period===sSid 0:a.priceCents,eb=null===(n=C.find(e=>e.period===sk.periodAdverb))||void 0===n?void 0:n.priceCents,ex=(_||$)&&(null==D?void 0:D.id);return C.length?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r6.Z,{page:r7.Zq[f.f.AdFreeBrowsing].analyticsPageName}),(0,P.jsx)(sT.q.Provider,{value:{hasTumblrPremium:_,usedToHaveTumblrPremium:$,hasTumblrFreePremium:et,tumblrFreePremiumExpiration:W,subscription:D,setSubscription:A,paymentMethod:L,monthlyPriceCents:eg,yearlyPriceCents:eb,rewardedAd:Y},children:ex?(0,P.jsx)(y.mu,{children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h1",{className:im.title,children:(0,P.jsx)(T.ZP,{children:"Tumblr Ad-Free Browsing"})}),(0,P.jsx)(iu,{})]})}):(0,P.jsx)(sQ,{})})]}):null}},[f.f.Subscriptions]:{prefetch:(e,t)=>{var a;return D()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.apiFetch,n.next=3,D()().awrap(t.userConfigRequest);case 3:if(n.sent.features.paywallConsumption){n.next=7;break}throw new iW(404,"Not found","/settings/subscriptions");case 7:return n.abrupt("return",(0,iL.a)(a));case 8:case"end":return n.stop()}},null,null,null,Promise)},component:iO},[f.f.Apps]:{component:()=>{var e=(0,y.rV)(),t=e.settings.connectedApps,a=t.mine,n=t.tumblr,r=t.others,s=e.set,i=(0,j.bp)(),o=i.wwwBaseUrl,l=i._c,u=(0,d.TH)().pathname,m=e=>{var t=t=>t.id!==e;s("connectedApps",{mine:a,tumblr:null==n?void 0:n.filter(t),others:null==r?void 0:r.filter(t)})},h=(0,c.useMemo)((umblrIos),[n]),p=(0,c.useMemo)(()=>n&&n.some(e=>!!e.isTumblrAndroid),[n]);return(0,P.jsxs)("div",{className:tM.wrapper,children:[(0,P.jsx)(k,{children:(0,P.jsx)(T.ZP,{comment:"Title of the apps settings page",children:"Apps"})}),n&&n.length>0?(0,P.jsxs)(tU,{label:(0,P.jsx)(T.ZP,{comment:"Title of the section listing the tumblr apps you used and authorized on the apps settings page",children:"Tumblr Apps"}),children:[n.map(e=>(0,P.jsx)(tG,{app:e,removeCallback:m},e.id)),!h&&(0,P.jsx)(tW,{children:(0,P.jsx)(tF.Z,{pathname:u})}),!p&&(0,P.jsx)(tW,{children:(0,P.jsx)(tL.Z,{pathname:u})})]}):(0,P.jsxs)("div",{className:tM.promoFull,children:[(0,P.jsx)("div",{className:tM.promoFullImg,children:(0,P.jsx)("img",{srcSet:`${tA} 405w, ${tE} 810w`,alt:l("alt text of an image on the apps settings page","Smartphones running the tumblr mobile app")})}),(0,P.jsxs)("div",{className:tM.promoFullText,children:[(0,P.jsx)("p",{children:(()=>{var e=[l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Put Tumblr in your pocket. Right now."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Use Tumblr in bathrooms with our slick mobile apps."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Bored? That's dumb. Download a Tumblr app."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","One weird click to download a Tumblr app."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","No one should have to go through life without a Tumblr app."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Distract yourself in line with the Tumblr app."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Ignore your loved ones with the Tumblr app."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Explore and share from anywhere."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Use Tumblr from all your favorite places. Download the mobile app."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Put Tumblr in your pocket rn. lol swag."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","For relaxing times, make it Tumblr time."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Go ahead. Touch Tumblr."),l("Next to an image of iOS and Android smartphones running the tumblr app and next to links to download the apps","Pretend you're reading with the Tumblr app.")];return e[Math.floor(Math.random()*e.length)]})()}),(0,P.jsxs)("div",{children:[(0,P.jsx)(tF.Z,{pathname:u}),(0,P.jsx)(tL.Z,{pathname:u})]})]})]}),a&&a.length>0&&(0,P.jsx)(tU,{label:(0,P.jsx)(T.ZP,{comment:"Title of the section listing the apps you admini",children:"My Apps"}),children:a.map(e=>(0,P.jsx)(tB,{app:e},e.id))}),r&&r.length>0&&(0,P.jsx)(tU,{label:(0,P.jsx)(T.ZP,{comment:"Title of the section listing other apps you authorizeps"}),children:r.map(e=>(0,P.jsx)(tG,{app:e,removeCallback:m},e.id))}),(0,P.jsx)(Y.Z,{className:tM.makeAnApp,children:(0,P.jsx)(T.ZP,{comment:"Inviting users to make their own tumblr apps",components:{a1:(0,P.jsx)("a",{href:`${o}/oauth/apps`,target:"_blank"}),a2:(0,P.jsx)("a",{href:`${o}/api`,target:"_blank"})},children:"Wanna make an app? Cool. [a1]Register[/a1] to use the [a2]Tumblr API[/a2], then have at it."})})]})}},[f.f.Privacy]:{component:()=>{var e=(0,j.bp)(),t=e._t,a=e._c,n=e.apiFetch,r=e.features,s=r.ccpa,o=r.ccpaOptOutSwitch,u=r.gdprAnalyticsConsent,m=(0,c.useState)(!1),h=i()(m,2),p=h[0],g=h[1],b=(0,c.useState)(""),v=i()(b,2),f=v[0],w=v[1],N=(0,y.rV)(),C=N.settings,S=N.extraData,A=N.refetch,E=(0,d.TH)(),F=(0,tp.D)({mutationFn:()onSuccess:()=>{w(""),A()}}),M=(0,tp.D)({mutationFn:()=>(0,ih.JQ)(n),onSuccess:()=>{A()}});if(!S)throw Error("Requesting ExtraDataar B=S.downloadRequests||[],R=B.some(e=>e.isInProgress||e.isPending);return(0,P.jsxs)("div",{className:ip.wrapper,children:[(0,P.jsx)(k,{children:(0,P.jsx)(T.ZP,{children:"Privacy"})}),(0,P.jsxs)("section",{className:ip.stack,children:[(0,P.jsx)(eD.Z,{id:"online_status_indicator",onChange:D("onlineStatusIndicator"),label:(0,P.jsx)(T.ZP,{children:"Let others see that you're active"}),helpText:(0,P.jsx)(T.ZP,{children:"A green dot next to your avatar will show people that you're active."}),checked:C.onlineStatusIndicator}),(0,P.jsx)(eD.Z,{id:"improved_search",onChange:D("improvedSearch"),label:(0,P.jsx)(T.ZP,{children:"Improved search"}),helpText:(0,P.jsx)(T.ZP,{children:"Let Tumblr use your search history to help provide more relevant recommendations."}),checked:C.improvedSearch}),s&&o&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(eD.Z,{id:"ccpa_opted_out",controlled:!0,onChange:()=>{if(C.ccpaOptedOut){g(!0);return}Z("ccpaOptedOut",!0)},disabled:!S.olderThanMinimumCcpaAge,label:(0,P.jsx)(T.ZP,{children:"Do not sell my personal information"}),helpText:S.olderThanMinimumCcpaAge?(0,P.jsx)(T.ZP,{components:{aboutAds:(0,P.jsx)("a",{href:"https://optout.aboutads.info",target:"_blank"}),networkAdvertising:(0,P.jsx)("a",{href:"https://optout.networkadvertising.org/",target:"_blank"})},children:"Opt-out of seeing ads personalized by our ads partners based on information from your visits to Tumblr. After you opt out you will still see ads on Tumblr, and some of them may be ads that Tumblr personalized for you. To learn more about interest-based advertising and to opt out from seeing interest-based ads on other publisher sites, please visit [aboutAds]optout.aboutads.info[/aboutAds] or [networkAdvertising]optout.networkadvertising.org[/networkAdvertising]."}):(0,P.jsx)(T.ZP,{children:"You are automatically opted out of this experience because you are under 16 years old."}),checked:!!S.olderThanMinimumCcpaAge&&C.ccpaOptedOut}),p&&(0,P.jsx)(n$.Z,{title:a("Title for confirmation dialog when user opts-in to data sharing (CCPA)","Are you sure?"),onClose:()=>{g(!1)},children:(0,P.jsx)(z.O,{body:a("Confirmation text when user opts-in to data sharing (CCPA)","Disabling this setting will allow us to personalize the advertisements you see on Tumblr using information we and our advertising partners know about you."),buttons:[{buttonStyle:z.X.Neutral,text:t("Cancel"),onClick:()=>{g(!1)}},{buttonStyle:z.X.Confirm,text:t("OK"),onClick:()=>{Z("ccpaOptedOut",!1),g(!1)}}],useWhiteContainerDesign:!0})})]}),s&&!o&&(0,P.jsx)(L.Z,{backgroundColor:I.paletteGray40,textColor:I.paletteWhite,href:"https://tumblr.zendesk.com/hc/en-us/articles/360041012973",target:"_blank",rel:"noreferrer,noopener",feature:!1,style:{width:"fit-content"},children:(0,P.jsx)(T.ZP,{children:"Do not sell my personal information"})}),S.gdprIsEu&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(L.Z,{backgroundColor:I.paletteGray40,textColor:I.paletteWhite,href:(0,x.XU)({redirect:E.pathname},u),style:{width:"fit-content"},feature:!1,children:(0,P.jsx)(T.ZP,{children:"Update Privacy Consent"})}),(0,P.jsx)(Y.Z,{style:{marginTop:10},children:(0,P.jsx)(T.ZP,{children:"Click this to update your GDPR privacy consents."})})]})]}),(0,P.jsxs)("section",{className:ip.stack,children:[(0,P.jsx)(k,{children:(0,P.jsx)(T.ZP,{children:"Download Requests"})}),(0,P.jsx)("div",{children:(0,P.jsx)("ul",{className:ip.downloadRequests,children:B.map(e=>(0,P.jsxs)("li",{className:l()({[ip.invalid]:!e.isValid}),children:[(0,P.jsxs)("div",{className:ip.details,children:[(0,P.jsxs)("div",{children:[(0,P.jsxs)("strong",{children:[(0,P.jsx)(T.ZP,{children:"Requested on"}),":"," "]}),e.createdOn," "]}),e.isComplete&&e.downloadExpiry&&(0,P.jsxs)("div",{children:[(0,P.jsxs)("strong",{children:[(0,P.jsx)(T.ZP,{children:"Available until"}),":"," "]}),e.downloadExpiry," "]}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("strong",{children:[(0,P.jsx)(T.ZP,{children:"Status"}),":"," "]}),e.isComplete&&e.downloadExpired?(0,P.jsx)(T.ZP,{children:"Expired"}):e.statusMessage," "]})]}),(0,P.jsxs)("div",{className:ip.actions,children:[e.isComplete&&e.downloadUrl?(0,P.jsx)(L.Z,{backgroundColor:I.paletteGray40,textColor:I.paletteWhite,href:e.downloadUrl,target:"_blank",rel:"noreferrer,noopener",feature:!1,children:(0,P.jsx)(T.ZP,{children:"Download"})}):null,e.isPending||e.isComplete&&!e.downloadExpired?(0,P.jsx)(em.Z,{buttons:[{text:e.isPending?(0,P.jsx)(T.ZP,{children:"Cancel"}):(0,P.jsx)(T.ZP,{children:"Delete"}),onClick:()=>w(e.transactionId),buttonStyle:"danger"}]}):null]})]},e.transactionId))})}),(0,P.jsx)(Y.Z,{style:{marginTop:10},children:(0,P.jsx)(T.ZP,{children:"It may take up to 30 days for downloads to become available."})}),R?null:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(em.Z,{buttons:[{text:M.isPending?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(eh.Z,{small:!0})," ",(0,P.jsx)(T.ZP,{children:"Request Privacy Data"})]}):(0,P.jsx)(T.ZP,{children:"Request Privacy Data"}),onClick:()=>M.mutate(),buttonStyle:"neutral",disabled:M.isPending}]}),(0,P.jsx)(Y.Z,{style:{marginTop:10},children:(0,P.jsx)(T.ZP,{components:{gdpr:(0,P.jsx)("a",{href:"https://ec.europa.eu/info/",target:"_blank"})},children:"Download your privacy data, as required by [gdpr]GDPR[/gdpr]."})})]})]}),f&&(0,P.jsx)(_.Z,{onGlassClick:()=>w(""),glassIsClickable:!1,children:(0,P.jsx)(z.O,{body:(0,P.jsx)(T.ZP,{children:"Are you sure you want to cancel/delete this download request?"}),buttons:[{text:(0,P.jsx)(T.ZP,{children:"Cancel"}),onClick:()=>w(""),buttonStyle:z.X.Neutral},{text:F.isPending?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(eh.Z,{small:!0})," ",(0,P.dren:"Ok"})]}):(0,P.jsx)(T.ZP,{children:"Ok"}),onClick:()=>F.mutate(),buttonStyle:z.X.Cancel,disabled:F.isPending}]})})]})}},[f.f.Admin]:{component:()=>{var e=(0,y.rV)(),t=e.settings,a=e.toggle,n=(0,j.bp)().logEvent;return(0,P.jsxs)("div",{className:"CNM5x",children:[(0,P.jsx)(k,{children:(0,P.jsx)(T.ZP,{children:"Admin"})}),(0,P.jsxs)("div",{className:"BXlw4",children:[(0,P.jsx)(eD.Z,{"data-testid":"disableAdminOnlyFeatures",onChange:a("disableAdminOnlyFeatures"),label:(0,P.jsxs)("div",{className:"vW450",children:["Disable admin-only site features",(0,P.jsx)(Y.Z,{className:"Cn_DY",children:"Use for demos and screenshots!"})]}),id:"disable-admin-only-features",helpText:(0,P.jsxs)(P.Fragment,{children:["Opt out of preview access to upcoming features. Does not affect access to Admin Panel.",(0,P.jsx)("br",{}),(0,P.jsx)("strong",{children:"Please allow five minutes for changes to take effect."})]}),checked:t.disableAdminOnlyFeatures}),(0,P.jsx)(eD.Z,{"data-testid":"disableAdminTagButtons",onChange:a("disableAdminTagButtons"),label:"Disable admin-only site tag page buttons",id:"disable-admin-tag-buttons",helpText:"Opt out of NSFW, Adult, and Spam buttons in view on tag pages.",checked:t.disableAdminTagButtons}),(0,P.jsx)(eD.Z,{"data-testid":"tumblrPremium",onChange:a("tumblrPremium"),label:"Tumblr Premium™",id:"tumblr-premium",helpText:"Enable this to opt out of ads on Tumblr and get some premium features.",checked:t.tumblrPremium}),(0,P.jsx)(tD,{}),(0,P.jsx)(L.Z,{onClick:()=>{n({eventName:ec.J.ResetRecommendations}),alert("Okay!")},theme:"border",children:"Reset my recommendations*"}),(0,P.jsx)(Y.Z,{children:"* Not working yet, here as a placeholder to fire the event for now."})]})]})}},[f.f.Labs]:{component:()=>{var e=(0,y.rV)(),t=e.settings,a=t.labsEnabled,n=t.labsExperiments,r=e.toggle,s=e.merge,i=e.set,o=(0,j.bp)(),l=o.labsSettings,c=o.updateLabsSettings,d=e=>()=>{i("labsExperiments",n.map(t=>(t.id===e&&(t.optIn=!t.optIn,214===t.id&&c("fastQueue",t.optIn),31===t.id&&c("queuePlus",t.optIn)),t)))},u=(e,t)=>()=>{i("labsExperiments",n.map(a=>(a.id===e&&a.options&&a.options.forEach(e=>{e.key===t&&(e.optIn=!e.optIn,"queue_plus_primary"===e.key&&c("queuePlusPrimary",e.optIn),"queue_plus_secondary"===e.key&&c("queuePlusSecondary",e.optIn))}),a)))};return(0,P.jsxs)("div",{className:so.wrapper,children:[(0,P.jsx)("div",{className:so.header,children:(0,P.jsx)("img",{src:si,alt:""})}),(0,P.jsxs)("div",{className:so.form,children:[(0,P.jsx)(A.Z,{label:(0,P.jsx)(T.ZP,{comment:"Next to the toggle to enable or disable tumblr labs experiments",children:"Watch your step"}),children:(0,P.jsx)(eD.Z,{"data-testid"hange:()=>{a?(s({labsEnablxperiments:n.map(e=>(e.optIn=!1,e))}),Object.keys(l).forEach(e=>c(e,!1))):r("labsEnabled")()},label:(0,P.jsx)(T.ZP,{children:"Enable Tumblr Labs"}),id:"labs-enabled-toggle",helpText:(0,P.jsx)(T.ZP,{comment:"Description of tumblr labs experiments",components:{br:(0,P.jsx)("br",{})},children:"Tumblr Labs is a collection of experiments we're working on that might turn out to be useful, fun, both, or neither.[br/][br/]They're not official features, so if something weird happens, please let us know! And if it keeps being weird, you can just turn it off."}),checked:a})}),n.length>0&&(0,P.jsx)(A.Z,{label:(0,P.jsx)(T.ZP,{children:"Experiments"}),children:(0,P.jsx)(P.Fragment,{children:n.map(e=>(0,P.jsx)(eD.Z,{className:so.experiment,"data-testid":e.key,id:e.key,onChange:d(e.id),label:e.title,helpText:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:so.description,dangerouslySetInnerHTML:{__html:e.description}}),e.bannerImage&&(0,P.jsx)("img",{src:e.bannerImage,alt:""}),e.optIn&&e.options&&e.options.map(t=>(0,P.jsx)(eD.Z,{"data-testid":t.key,id:t.key,onChange:u(e.id,t.key),label:t.title,helpText:t.description,checked:t.optIn,controlled:!0},t.key))]}),helpTextAs:"span",checked:a&&e.optIn,disabled:!a,controlled:!0},e.key))})})]})]})}},[f.f.Gifts]:{component:()=>{v,am.lr)(),n=i()(a,2),r=n[0],s=n[1],o=(0,eA.Pc)(e=>null==e?void 0:e.user),d=o.data,u=o.isPending,m=(0,c.useState)("valid"),h=i()(m,2),p=h[0],g=h[1],b=(0,c.useState)(null),x=i()(b,2),v=x[0],y=x[1],w=(0,c.useState)(!1),N=i()(w,2),C=N[0],S=N[1];(0,c.useEffect)(()=>{var e;if(null!=d&&null!==(th&&r.has("blogname")){var t=d.blogs.find(e=>e.name===r.get("blogname"))||null;v!==t&&(y(t),r.delete("blogname"),s(r,{replace:!0}))}},[r,s,null==d?void 0:d.blogs]);var k=v||(null==d||null===(e=d.blogs)||void 0===e?void 0:e.find(e=>e.primary)),T=[{isActive:"valid"===p,label:t("[TumblrMart] Tab title for valid gifts in gift management page.","Valid"),onClick:()=>{"valid"!==p&&g("valid"),S(!0)}},{isActive:"expired"===p,label:t("[TumblrMart] Tab title for expired gifts in gift management page.","Expired"),onClick:()=>{"expired"!==p&&g("expired"),S(!0)}}],Z=null!=d&&d.blogs?null==d?void 0:d.blogs.filter(e=>e.admin):[],D=r7.Zq[f.f.Gifts].analyticsPageName;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r6.Z,{page:C?`${D}Tab`:D,eventDetails:{tab:p}},p),(0,P.jsx)("p",{className:sr.title,children:t("[TumblrMart] Gift management page title","Gifts")}),(0,P.jsxs)("div",{className:sr.submenu,children:[(0,P.jsx)("div",{className:sr.menuItems,children:T.map((e,t)=>{var a=e.isActive,n=e.label,r=e.onClick;return(0,P.jsx)("div",{className:l()(sr.submenuItem,{[sr.active]:a}),children:(0,P.jsx)(ef.Z,{label:n,onClick:r,children:n})},t)})}),(0,P.jsx)("div",{className:sr.blogSelector,children:Z&&Z.length>1&&(0,P.jsx)(rx.ZP,{displayAvatar:!0,blogs:Z,selectedBlog:k||(0,rx.vn)(),onClickSelectedBlog:y,textColor:I.paletteWhiteOnDark})})]}),(0,P.jsx)(ss,{tab:p,isLoadingBlog:u,blogName:null==k?void 0:k.name})]})}}}},72171:(e,t,a)=>{"use strict";a.d(t,{a:()=>d,s:()=>m});var n=a(33970),r=a.n(n),s=a(31893),i=a(22979),o=a(4870),l=a(85795),c=a(88926),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Promise.all([u(e,s.y.Active),u(e,s.y.Inactive),(0,l.ZP)(e).getPaymentMethod(o.Ll.Memberships,t).fetch().then(e=>(0,c.Pz)(e))]).then(e=>{var t=r()(e,3),a=t[0],n=t[1],i=t[2];return{filterClicked:!1,isFetching:!1,activeFilter:s.y.Active,activeSubscriptions:a.timelineContent,activeCount:a.count,inactiveSubscriptions:n.timelineContent,inactiveCount:n.count,isInvalid:i.isInvalid,ccNumber:i.ccNumber,ccExpiryMonth:i.ccExpiryMonth,ccExpiryYear:i.ccExpiryYear,ccType:i.ccType,updateUrl:i.updateUrl}}).catch(l.OO)};function u(e,t){return(0,l.ZP)(e).getSubscriptions(t).fetch().then(e=>{var t,a,n=e.response;return{timelineContent:{objects:n.timeline.elements,nextLink:null===(t=n.timeline.links)||void 0===t?void 0:t.next,prevLink:null===(a=n.timeline.links)||void 0===a?void 0:a.prev},count:n.timeline.count}})}function m(e,t){return e.filter(e=>(e.objectType===i.TE.PaywallSubscriptionInfo||e.objectType===i.TE.SupporterSubscriptionInfo)&&("Tumblrpay"===t?e.subscriptar n=f},55466:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,t:()=>n});var n=13,r=130},84705:(e,t,a)=>{"use strict";a.d(t,{N:()=>n});var n=(e,t)=>new Date(t,e,0).getDate()},36383:(e,t,a)=>{"use strict";a.d(t,{e:()=>r});var n=a(42946);function r(e){var t=new Date,a=new Date;return a.setFullYear(t.getFullYear()),a.setMonth(parseInt(e.slice(5,7),10)-1),a.setDate(parseInt(e.slice(8,10),10)),t.getTime()>a.getTime()&&a.setFullYear(t.getFullYear()+1),Math.floor((a.valueOf()-t.valueOf())/n.g.Day)}},6117:(e,t,a)=>{"use strict";a.d(t,{l:()=>n});var n=["january","february","march","april","may","jualThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}}]);