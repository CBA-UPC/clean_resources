(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{1021:function(e,s,a){"use strict";(function(e){var t=a(5),o=a(1208),r=a(1209),l=a(17);s.a=Object(t.defineComponent)({__name:"thread-stats",props:{thread:null},setup(s){const a=s,c=Object(t.computed)((()=>Object(l.y)(a.thread.threadTypeId))),i=Object(t.computed)((()=>{const{hours:s,minutes:t}=a.thread.insights.nextUpdateIn;return 0!==s?e("Next update in :count hour|Next update in :count hours",{count:s}):e("Next update in :count minute|Next update in :count minutes",{count:t})})),n=Object(t.computed)((()=>{const{views:e,visits:s,clicks:t}=a.thread.insights,o={icon:"click",label:"Clicks",value:t},r=[{icon:"show",label:"Views",value:e},{icon:"binoculars",label:"Visits",value:s}];return a.thread.isLocal?r:[...r,o]}));return{__sfc:!0,props:a,isVoucher:c,nextUpdate:i,cardsConfig:n,ThreadStatsHeader:o.a,ThreadStatsCard:r.a}}})}).call(this,a(70).translation)},1208:function(e,s,a){"use strict";var t=a(5),o=a(511),r=a(575),l=Object(t.defineComponent)({__name:"thread-stats-header",props:{isVoucher:{type:Boolean},isExpired:{type:Boolean}},setup(e){const s=e,a=Object(t.ref)(!1),l=Object(t.computed)((()=>s.isVoucher?c.value:i.value)),c=Object(t.computed)((()=>({header:s.isExpired?"Your voucher results":"Your voucher performance",modalHeader:"Voucher Performance",clicks:"Clicks: number of users who clicked on the voucher button to open the link",views:"Views: number of users who saw your voucher appearing in a list of deals (homepage, categories, search...)",visits:"Visits: number of users who opened your voucher page to consult it"}))),i=Object(t.computed)((()=>({header:s.isExpired?"Your deal results":"Your deal performance",modalHeader:"Deal Performance",clicks:"Clicks: number of users who clicked on the deal button to open the link",views:"Views: number of users who saw your deal appearing in a list of deals (homepage, categories, search...)",visits:"Visits: number of users who opened your deal page to consult it"})));return{__sfc:!0,props:s,showModal:a,labels:l,voucherLabels:c,dealLabels:i,BaseButton:o.a,BaseModal:r.a,ModalHead:r.e,ModalBody:r.b}}}),c=a(45),i=Object(c.a)(l,(function(){var e=this,s=e._self._c,a=e._self._setupProxy;return s("div",{staticClass:"card-header flex boxAlign-ai--all-c"},[s("h2",{staticClass:"size--all-l size--fromW3-xl text--b overflow--wrap-off"},[e._v(" "+e._s(a.labels.header)+" ")]),s(a.BaseButton,{staticClass:"space--ml-1",attrs:{variant:"tertiary",mode:"default",size:"s",square:""},on:{click:function(e){a.showModal=!0}}},[s("BaseIcon",{staticClass:"text--color-greyShade",attrs:{name:"info",small:""}})],1),a.showModal?s(a.BaseModal,{attrs:{active:a.showModal,width:"780"},on:{"update:active":function(e){a.showModal=e}}},[s(a.ModalHead,[e._v(e._s(a.labels.modalHeader))]),s(a.ModalBody,{staticClass:"size--all-s size--fromW2-m"},[s("p",[e._v(e._s(a.labels.views))]),s("p",[e._v(e._s(a.labels.visits))]),s("p",[e._v(e._s(a.labels.clicks))])])],1):e._e()],1)}),[],!1,null,null,null);s.a=i.exports},1209:function(e,s,a){"use strict";var t=a(5),o=Object(t.defineComponent)({__name:"thread-stats-card",props:{card:null,isExpired:{type:Boolean,default:!1}},setup:e=>({__sfc:!0})}),r=a(45),l=Object(r.a)(o,(function(){var e=this,s=e._self._c;e._self._setupProxy;return s("div",{class:["flex flex--dir-col flex--grow-1 boxAlign-ai--all-c","space--v-2 space--h-1 space--mr-1 space--fromW2-mr-2 space--last-mr-0","bg--color-greyPanel bRad--a"]},[s("div",{staticClass:"text--b size--all-l size--fromW2-xxl"},[e._v(e._s(e.card.value))]),s("div",{staticClass:"flex boxAlign-ai--all-c text--color-charcoalTint"},[s("BaseIcon",{class:["space--mr-1",e.isExpired?"text--color-greyShade":"text--color-brandPrimary"],attrs:{name:e.card.icon,small:e.$breakpoint.xsOnly}}),s("span",{staticClass:"size--all-s"},[e._v(e._s(e.card.label))])],1)])}),[],!1,null,null,null);s.a=l.exports},1370:function(e,s,a){"use strict";a.r(s);var t=a(1021).a,o=a(45),r=Object(o.a)(t,(function(){var e=this,s=e._self._c,a=e._self._setupProxy;return s("section",{staticClass:"card card--type-horizontal card--space-responsive bRad--fromW4-a space--mv-2 space--b-4"},[s(a.ThreadStatsHeader,{attrs:{"is-expired":a.props.thread.isExpired,"is-voucher":a.isVoucher}}),s("div",{staticClass:"flex space--h-3 space--fromW3-h-4"},e._l(a.cardsConfig,(function(t,o){return s(a.ThreadStatsCard,{key:o,attrs:{card:t,"is-expired":e.thread.isExpired}})})),1),s("div",{staticClass:"space--h-3 space--fromW3-h-4 space--t-2"},[s("span",{staticClass:"size--all-s text--color-charcoalTint"},[e._v(e._s(a.nextUpdate))])])],1)}),[],!1,null,null,null);s.default=r.exports}}]);etActive(!1)}))},wrapsArea(e){Array.isArray(e)||(e=[e]);let{top:t=0,bottom:n}=e[0].options.args;n||(n=t),e.forEach((e=>{const{top:o,bottom:r}=e.rect();e.setActive(r>t&&o<n)}))}};let w=function(){function e(t){r()(this,e);let n=t.data(g);if(!n){n=this;const o=p.a.params(v,t);n.$elem=t,n.elem=t[0],n.active=!1,n.destroyed=!1,n.options=c.a.extend(!0,{},e.defaults,o);const r=n.options;r.container&&(r.$container=u.a.findTargets(t,r.container),delete r.container),t.data(g,n)}return n.container=new b(n.options.$container),n.container.add(n),n.container.cache&&(n.scrollRect=new f.a.ScrollRect(n.$elem,n.container.scrollSpeed.value)),n}return s()(e,[{key:"rect",value:function(){return this.container.cache?this.scrollRect.get(this.container.scrollSpeed.value):u.a.rect(this.elem)}},{key:"destroy",value:function(){this.container.remove(this),this.$elem.removeClass(m),this.$elem.data(g,null),this.$elem=null,this.elem=null,this.destroyed=!0}},{key:"setActive",value:function(e){if(!this.destroyed&&this.active!==e){const t=this.options,n=t[e?"onEvent":"offEvent"];t.onClass&&this.$elem.toggleClass(t.onClass,e),t.offClass&&this.$elem.toggleClass(t.offClass,!e),n&&u.a.findTargets(this.$elem,t.target).triggerAll(n,t.eventParams),e&&t.oneOff&&this.destroy(),this.active=e}}},{key:"scrollUpdate",value:function(){b.conditions[this.options.condition](this,this.container.elemRect())}}]),e}();function k(){if(!h.a.badScrollPerformance()){const e=c()(".".concat(m));e.toArray().forEach((e=>new w(c()(e)))),e.removeClass(m),setTimeout((()=>{y.forEach((e=>{e.scrollUpdate()}))}),0)}}w.defaults={$container:u.a.$win,target:"$self",condition:"inView",args:{},eventParams:{}},u.a.$win.on("debouncedDomChanged",k),t.a={initAll:k,ScrollTrigger:w,DIRECTIVE_NAME:v}},243:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return O}));var o=n(5),r=n(4),a=n(64),s=n(208),i=n.n(s),c=n(21),u=n(0),l=n.n(u),d=n(2),f=n(182),h=n(65);const p=(()=>{let e=0,t=null;function n(){e>0||(t=setTimeout((()=>{window.prerenderReady=!0}),1e3))}return{add(){e+=1,clearTimeout(t)},remove(){e-=1,n()},checkReady:n}})();document.addEventListener("DOMContentLoaded",p.checkReady);var v=n(28),m=n(87);const g="vue2",y=a.a.get(),b=(()=>{let e={};const t=new h.a;return{add:n=>{Object.keys(n).forEach((o=>{o in e||(e[o]=n[o],t.fire(o))}))},get:function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8e4;return n in e?(r=e[n],"function"!=typeof r||r.extend?Promise.resolve(r):r().then((e=>e.default))).then((e=>Object(v.c)().then((()=>e)))):new Promise(((e,r)=>{setTimeout(r,o),t.one(n,(()=>e(b.get(n))))}));var r},reset:()=>e={}}})(),w=e=>e.data("vue-instance"),k=e=>{if(w(e))return;const{id:t,name:n,attrs:a,props:s,domProps:u,mapState:f,class:h,useStoreProps:v,vModel:k}=d.a.params(g,e),E=t||n;v&&!(E in r.a.state.component.state)&&r.a.dispatch("component/update",{id:E,props:s});const O=e=>f?Object.entries(f).reduce(((e,t)=>{let[n,o]=t;const r=i()(y,o);return void 0!==r&&(e[n]=r),e}),e||{}):e,j=b.get(n);j.catch((()=>{throw Error("Missing embed: ".concat(n))})),j.finally(p.remove);const A=j.then((t=>new o.default({el:e[0],name:"Wrapper:".concat(n),mixins:[v?{data:()=>({storeProps:Object.keys(s).reduce(((e,t)=>{const n="string"==typeof s[t]&&s[t]?s[t]:t;return Object.defineProperty(e,t,{get:()=>Object(m.c)(r.a.state.component.state[E].props)(n),set(e){r.a.commit("component/MERGE_FIELD",{path:"state.".concat(E,".props.").concat(n),value:e})},configurable:!0,enumerable:!0}),e}),{})})}:{}],store:r.a,router:c.l,async mounted(){l()(this.$el).trigger("domChanged")},render(e){const n=this;return e(t,{props:v?n.storeProps:O(s),attrs:a,domProps:u,class:h,on:v&&k?{update(e){n.storeProps[k]=e}}:{}})}})));e.data("vue-instance",A)},E=async e=>{if(e.data("vue-initialised"))return;const{lazy:t}=d.a.params(g,e);t?((e=>{d.a.updateParams(f.a.DIRECTIVE_NAME,e,{oneOff:!0,onEvent:"vueCreate"}),new f.a.ScrollTrigger(e).scrollUpdate()})(e),await Object(v.b)(),k(e)):k(e),p.add(),e.data("vue-initialised",!0)},O=()=>{l()(".js-vue2").toArray().map((e=>l()(e))).forEach(E)};document.addEventListener("DOMContentLoaded",O),d.a.add(g,"init",E),d.a.add(g,"vueCreate",k),d.a.add(g,"destroy",(async e=>{const t=await w(e);t&&t.$destroy()}))},308:function(e,t,n){var o=n(310),r=n(88),a=n(183),s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=i.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},309:function(e,t,n){var o=n(80);e.exports=function(){return o.Date.now()}},310:function(e,t,n){var o=n(311),r=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(r,""):e}},311:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},587:function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure "+e)},e.exports.__esModule=!0,e.exports.default=e.exports},86:function(e,t,n){var o=n(88),r=n(309),a=n(308),s=Math.max,i=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,h,p=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,o=u;return c=u=void 0,p=t,d=e.apply(o,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function w(){var e=r();if(b(e))return k(e);f=setTimeout(w,function(e){var n=t-(e-h);return m?i(n,l-(e-p)):n}(e))}function k(e){return f=void 0,g&&c?y(e):(c=u=void 0,d)}function E(){var e=r(),n=b(e);if(c=arguments,u=this,h=e,n){if(void 0===f)return function(e){return p=e,f=setTimeout(w,t),v?y(e):d}(h);if(m)return clearTimeout(f),f=setTimeout(w,t),y(h)}return void 0===f&&(f=setTimeout(w,t)),d}return t=a(t)||0,o(n)&&(v=!!n.leading,l=(m="maxWait"in n)?s(a(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=u=f=void 0},E.flush=function(){return void 0===f?d:k(r())},E}},89:function(e,t,n){"use strict";function o(e){const t=Object.prototype.toString;let n=e.length;const a=new Array(n);for(;n;)switch(n-=1,t.call(e[n])){case"[object Object]":a[n]=r({},e[n]);break;case"[object Array]":a[n]=o(e[n]);break;default:a[n]=e[n]}return a}function r(e,t){const n=Object.prototype.toString;let a;for(a in t)if(t.hasOwnProperty(a))switch(n.call(t[a])){case"[object Object]":e[a]=r("[object Object]"===n.call(e[a])?e[a]:{},t[a]);break;case"[object Array]":e[a]=o(t[a]);break;default:e[a]=t[a]}return e}t.a={boundMethod:function(e,t){return e[""+t]||(e[""+t]=e[t].bind(e))},deepCloneArray:o,deepMerge:r,uniqueArray:function(e){return e.filter(((t,n)=>e.indexOf(t)===n))}}}}]);