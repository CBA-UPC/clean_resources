/* https://proxi.cloud/wp-content/plugins/fluentform/assets/css/fluent-forms-elementor-widget.css?ver=5.1.5 */
.fluentform-widget-wrapper.hide-fluent-form-labels .ff-el-input--label{display:none!important}.fluentform-widget-wrapper.hide-error-message .ff-el-is-error .text-danger{display:none}.fluentform-widget-wrapper.fluentform-widget-align-left{margin:0 auto 0 0}.fluentform-widget-wrapper.fluentform-widget-align-center{float:none;margin:0 auto}.fluentform-widget-wrapper.fluentform-widget-align-right{margin:0 0 0 auto}.fluentform-widget-custom-radio-checkbox input[type=checkbox],.fluentform-widget-custom-radio-checkbox input[type=radio]{background:#ddd;height:15px;min-width:1px;outline:none;padding:3px;width:15px}.fluentform-widget-custom-radio-checkbox input[type=checkbox]:after,.fluentform-widget-custom-radio-checkbox input[type=radio]:after{border:0 solid transparent;content:"";display:block;height:100%;margin:0;padding:0;width:100%}.fluentform-widget-custom-radio-checkbox input[type=checkbox]:checked:after,.fluentform-widget-custom-radio-checkbox input[type=radio]:checked:after{background:#999;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3E%3C/svg%3E");background-position:50%;background-repeat:no-repeat;background-size:12px}.fluentform-widget-custom-radio-checkbox input[type=radio],.fluentform-widget-custom-radio-checkbox input[type=radio]:after{border-radius:50%}.fluentform-widget-wrapper .frm-fluent-form .ff-step-header{margin-bottom:0}.ff-el-progress-bar{align-items:center;display:flex;height:100%;justify-content:flex-end}.fluent-form-widget-step-header-yes .ff-step-header .ff-el-progress-status,.fluent-form-widget-step-progressbar-yes .ff-el-progress{display:block}.fluent-form-widget-step-header-yes .frm-fluent-form .ff-step-header,.fluent-form-widget-step-progressbar-yes .frm-fluent-form .ff-step-header{margin-bottom:20px}.fluentform-widget-section-break-content-left .ff-el-group.ff-el-section-break{text-align:left}.fluentform-widget-section-break-content-center .ff-el-group.ff-el-section-break{text-align:center}.fluentform-widget-section-break-content-right .ff-el-group.ff-el-section-break{text-align:right}.fluentform-widget-submit-button-full-width .ff-btn-submit{display:block;width:100%}.fluentform-widget-submit-button-center .ff-el-group .ff-btn-submit,.fluentform-widget-submit-button-center .ff-el-group.ff-text-left .ff-btn-submit,.fluentform-widget-submit-button-center .ff-el-group.ff-text-right .ff-btn-submit{align-items:center;display:flex;justify-content:center;margin:0 auto}.fluentform-widget-submit-button-right .ff-el-group .ff-btn-submit,.fluentform-widget-submit-button-right .ff-el-group.ff-text-left .ff-btn-submit,.fluentform-widget-submit-button-right .ff-el-group.ff-text-right .ff-btn-submit{float:right}.fluentform-widget-submit-button-left .ff-el-group .ff-btn-submit,.fluentform-widget-submit-button-left .ff-el-group.ff-text-left .ff-btn-submit,.fluentform-widget-submit-button-left .ff-el-group.ff-text-right .ff-btn-submit{float:left}.fluentform-widget-wrapper.hide-placeholder input::-webkit-input-placeholder,.fluentform-widget-wrapper.hide-placeholder textarea::-webkit-input-placeholder{opacity:0;visibility:hidden}.fluentform-widget-wrapper.hide-placeholder input:-moz-placeholder,.fluentform-widget-wrapper.hide-placeholder input::-moz-placeholder,.fluentform-widget-wrapper.hide-placeholder textarea:-moz-placeholder,.fluentform-widget-wrapper.hide-placeholder textarea::-moz-placeholder{opacity:0;visibility:hidden}.fluentform-widget-wrapper.hide-placeholder input:-ms-input-placeholder,.fluentform-widget-wrapper.hide-placeholder textarea:-ms-input-placeholder{opacity:0;visibility:hidden}.fluentform-widget-wrapper.hide-placeholder input::-ms-input-placeholder,.fluentform-widget-wrapper.hide-placeholder textarea::-ms-input-placeholder{opacity:0;visibility:hidden}.lity{z-index:9999!important}=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof f.Promise?f.Promise=r:(f.Promise.prototype.finally||(f.Promise.prototype.finally=e),f.Promise.allSettled||(f.Promise.allSettled=t),f.Promise.any||(f.Promise.any=n))});var Geohash={base32:"0123456789bcdefghjkmnpqrstuvwxyz",encode:function(e,t,n){if(void 0===n){for(var o=1;o<=12;o++){var i=Geohash.encode(e,t,o),r=Geohash.decode(i);if(r.lat==e&&r.lon==t)return i}n=12}if(e=Number(e),t=Number(t),n=Number(n),isNaN(e)||isNaN(t)||isNaN(n))throw new Error("Invalid geohash");for(var a,s=0,c=0,l=!0,u="",d=-90,p=90,m=-180,f=180;u.length<n;)l?(a=(m+f)/2)<=t?(s=2*s+1,m=a):(s*=2,f=a):(a=(d+p)/2)<=e?(s=2*s+1,d=a):(s*=2,p=a),l=!l,5==++c&&(u+=Geohash.base32.charAt(s),s=c=0);return u},decode:function(e){var e=Geohash.bounds(e),t=e.sw.lat,n=e.sw.lon,o=e.ne.lat,e=e.ne.lon,i=(n+e)/2,r=(r=(t+o)/2).toFixed(Math.floor(2-Math.log(o-t)/Math.LN10)),i=i.toFixed(Math.floor(2-Math.log(e-n)/Math.LN10));return{lat:Number(r),lon:Number(i)}},bounds:function(e){if(0===e.length)throw new Error("Invalid geohash");e=e.toLowerCase();for(var t=!0,n=-90,o=90,i=-180,r=180,a=0;a<e.length;a++){var s=e.charAt(a),c=Geohash.base32.indexOf(s);if(-1==c)throw new Error("Invalid geohash");for(var l=4;0<=l;l--){var u,d=c>>l&1;t?(u=(i+r)/2,1==d?i=u:r=u):(u=(n+o)/2,1==d?n=u:o=u),t=!t}}return{sw:{lat:n,lon:i},ne:{lat:o,lon:r}}},adjacent:function(e,t){if(e=e.toLowerCase(),t=t.toLowerCase(),0===e.length)throw new Error("Invalid geohash");if(-1=="nsew".indexOf(t))throw new Error("Invalid direction");var n=e.slice(-1),o=e.slice(0,-1),e=e.length%2;return(o=-1!={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]}[t][e].indexOf(n)&&""!==o?Geohash.adjacent(o,t):o)+Geohash.base32.charAt({n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]}[t][e].indexOf(n))},neighbours:function(e){return{n:Geohash.adjacent(e,"n"),ne:Geohash.adjacent(Geohash.adjacent(e,"n"),"e"),e:Geohash.adjacent(e,"e"),se:Geohash.adjacent(Geohash.adjacent(e,"s"),"e"),s:Geohash.adjacent(e,"s"),sw:Geohash.adjacent(Geohash.adjacent(e,"s"),"w"),w:Geohash.adjacent(e,"w"),nw:Geohash.adjacent(Geohash.adjacent(e,"n"),"w")}}};"undefined"!=typeof module&&module.exports&&(module.exports=Geohash);!function(_){var o={fr:{FRA:"France",BEL:"Belgique",ESP:"Espagne",UNKNOWN_POSITION:"Position inconnue",DESC_IP_DISQUALIFIED:"Selon votre IP disqualifiée",DESC_UNSHARED:"Position non partagée",DESC_IP_QUALIFIED:"Selon votre IP qualifiée",DESC_HTML5:"Selon la position de votre appareil",DESC_MANUAL:"Selon votre position encodée manuellement",RELOCATION:'<button class="pxs-link">Rafra&icirc;chissez</button> ou <button class="pxs-link">modifiez votre position</button>',MORE_INFO:"Plus d'infos",POSITION_BLOCKED:"Votre navigateur bloque actuellement la localisation.",CLOSE:"Fermer",DETAIL:"Détail",REFUSE_GEOLOC:"Ne plus être localisé",BE_GEOLOC:"Être localisé",NOT_SUPPORTED:"Votre navigateur n'est pas supporté"},nl:{FRA:"Frankrijk",BEL:"België",ESP:"Spanje",UNKNOWN_POSITION:"Onbekende positie",DESC_IP_DISQUALIFIED:"Volgens uw gediskwalificeerd IP",DESC_IP_QUALIFIED:"Volgens uw gekwalificeerd IP",DESC_UNSHARED:"niet gedeelde lokalisatie",DESC_HTML5:"Volgens de lokalisatie van uw toestel",DESC_MANUAL:"Volgens de lokalisatie dat uw manueel heeft gecodeerde",RELOCATION:'<button class="pxs-link">Update</button> of <button class="pxs-link">verander uw lokalisatie</button>',MORE_INFO:"Meer info",POSITION_BLOCKED:"Uw navigator blokkeert momenteel de lokalisatie.",CLOSE:"Sluiten",DETAIL:"Detail",REFUSE_GEOLOC:"Ik wil niet gelokaliseerd zijn",BE_GEOLOC:"Ik wil gelokaliseerd zijn",NOT_SUPPORTED:"Uw browser is niet compatibel met onze system"},es:{FRA:"Francia",BEL:"Bélgica",ESP:"España",UNKNOWN_POSITION:"Posición desconocida",DESC_IP_DISQUALIFIED:"Según su IP descalificada",DESC_IP_QUALIFIED:"Según su IP calificada",DESC_HTML5:"Según la posición de su dispositivo",DESC_MANUAL:"Según su posición codificada manualmente",DESC_UNSHARED:"Position non partagée",RELOCATION:'<button class="pxs-link">Refrescar</button> o <button class="pxs-link">modificar su posición</button>',MORE_INFO:"Más información",POSITION_BLOCKED:"Tu navegador está actualmente bloqueando la localización.",CLOSE:"Cerca",DETAIL:"Detalle",REFUSE_GEOLOC:"",BE_GEOLOC:"",NOT_SUPPORTED:""},en:{FRA:"France",BEL:"Belgium",ESP:"Spain",UNKNOWN_POSITION:"Unknown position",DESC_IP_DISQUALIFIED:"Based on your disqualified IP",DESC_IP_QUALIFIED:"From your qualified IP",DESC_UNSHARED:"Unshared location",DESC_HTML5:"From your device position",DESC_MANUAL:"From your manually encoded location",RELOCATION:'<button class="pxs-link">Refresh</button> or <button class="pxs-link">update your location</button>',MORE_INFO:"More info",POSITION_BLOCKED:"Your browser is currently blocking the position.",CLOSE:"Close",DETAIL:"Detail",REFUSE_GEOLOC:"Don’t be located",BE_GEOLOC:"Be located",NOT_SUPPORTED:"Your navigator is not supported"}};function x(e,t){var n=_.config().language;return o[n=o[n]?n:"en"][e]||t||""}function t(e){var g,o,t,h,n,E,y,i,r,a,s,c,l,u,d,p=document.getElementById(e);function v(e){var t=document.getElementById(o).childNodes;t[t.length-1].nodeValue=e}function I(e){document.getElementById(t).textContent=e}function b(e,t){s=e,c=t,setTimeout(function(){m("update-map-center",{position:e,showMarker:t})},1e3)}function m(e,t){var n=document.getElementById(y).contentWindow,o=new MessageChannel;n.postMessage({type:e,data:t},"*",[o.port2])}function w(e,t,n){var o;document.getElementById(a)||((o=document.createElement("div")).setAttribute("id",a),o.setAttribute("class","pxs-slideOutRight"),o.innerHTML='    <?xml version="1.0" encoding="iso-8859-1"?>\n    \x3c!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="120 -220 100 730" width="60px" height="45px">\n        <g>\n            <g>\n                <path d="M467.819,431.851l-36.651-61.056c-16.896-28.181-25.835-60.437-25.835-93.312V224    c0-82.325-67.008-149.333-149.333-149.333S106.667,141.675,106.667,224v53.483c0,32.875-8.939,65.131-25.835,93.312    l-36.651,61.056c-1.984,3.285-2.027,7.403-0.149,10.731c1.899,3.349,5.461,5.419,9.301,5.419h405.333    c3.84,0,7.403-2.069,9.301-5.419C469.845,439.253,469.803,435.136,467.819,431.851z M72.171,426.667l26.944-44.907    C118.016,350.272,128,314.219,128,277.483V224c0-70.592,57.408-128,128-128s128,57.408,128,128v53.483    c0,36.736,9.984,72.789,28.864,104.277l26.965,44.907H72.171z" fill="#91DC5A"/>\n            </g>\n        </g>\n        <g>\n            <g>\n                <path d="M256,0c-23.531,0-42.667,19.136-42.667,42.667v42.667C213.333,91.221,218.112,96,224,96s10.667-4.779,10.667-10.667    V42.667c0-11.776,9.557-21.333,21.333-21.333s21.333,9.557,21.333,21.333v42.667C277.333,91.221,282.112,96,288,96    s10.667-4.779,10.667-10.667V42.667C298.667,19.136,279.531,0,256,0z" fill="#91DC5A"/>\n            </g>\n        </g>\n        <g>\n            <g>\n                <path d="M302.165,431.936c-3.008-5.077-9.515-6.741-14.613-3.819c-5.099,2.987-6.805,9.536-3.819,14.613    c2.773,4.715,4.288,10.368,4.288,15.936c0,17.643-14.357,32-32,32c-17.643,0-32-14.357-32-32c0-5.568,1.515-11.221,4.288-15.936    c2.965-5.099,1.259-11.627-3.819-14.613c-5.141-2.923-11.627-1.259-14.613,3.819c-4.715,8.064-7.211,17.301-7.211,26.731    C202.667,488.085,226.581,512,256,512s53.333-23.915,53.376-53.333C309.376,449.237,306.88,440,302.165,431.936z" fill="#91DC5A"/>\n            </g>\n        </g>\n    </svg>\n    <p>'+e+'</p>\n    <ul id="px-toolbar-menu">\n        <li>'+n+'</li>\n <li><a href="https://www.proxistore.com/geolocation?lang='+_.config().language+'" target="_blank" >'+t+"</a></li>\n    </ul>\n</div>",document.body.appendChild(o),l=document.getElementById(a),document.getElementById("px-toolbar-menu").children[0].onclick=function(){l.style.display="none"},l.onmouseover=function(){this.children[2].style.display="flex",clearTimeout(u)},l.onmouseout=function(){this.children[2].style.display="none",u=setTimeout(f,2e3)})}function f(){l.classList.replace("pxs-slideInRight","pxs-slideOutRight"),setTimeout(void(l.style.display="none"),1e3)}function O(e){for(var t=document.getElementById(o).getElementsByTagName("div")[0].getElementsByTagName("svg")[0].getElementsByTagName("g")[0].getElementsByTagName("g")[0].getElementsByTagName("path"),n=0;n<t.length;n++)t[n].setAttribute("class",e)}null!=p&&(g=e+"-country",o=e+"-location",t=e+"-descr",h=e+"-reloc",n=e+"-more",E=e+"-modal",y=e+"-modal-iframe",i=_.config().customClassName||"pxs-custom-"+(2<=(r=window.location.hostname.split(".")).length?r[r.length-2]+"-"+r[r.length-1]:r[0]),a="px-toolbar",_.config().darkTheme&&(i+=" pxs-theme-dark"),p.innerHTML=function(){var e='<div class="pxs-widget '+i+'"> <div id="'+E+'" class="pxs-modal">\n  <div class="pxs-modal-content">\n<span class="pxs-modal-close">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" version="1.1" width="48px" height="48px">\n<g id="surface1">\n<path style=" " d="M 19.28125 5.28125 L 9 15.5625 L 4.71875 11.28125 L 3.28125 12.71875 L 8.28125 17.71875 L 9 18.40625 L 9.71875 17.71875 L 20.71875 6.71875 Z "/>\n</g>\n</svg>\n</span>\n    <iframe allow="geolocation *;" id="'+y+'" width="100%" height="500px" scrolling="no" frameBorder="0" ></iframe>\n  </div>\n</div><span id="'+g+'" class="pxs-country"></span>\n    <div class="pxs-container">\n                <span id="'+o+'" class="pxs-location">\n                    <div class="pxs-dot pxs-turn">\n                        <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 303.68 469.22">\n                           <g class="Calque_2" data-name="Calque 2">\n                                <g class="Layer_1" data-name="Layer 1">\n                                    <path class="pxs-ip" d="M151.83,469.22a13,13,0,0,1-12.68-10L99.43,294.36a151.1,151.1,0,0,1-17.26-7.61,148.42,148.42,0,0,1-22.55-14.31,151.83,151.83,0,1,1,199.59-228,152.06,152.06,0,0,1,38.09,151,154.42,154.42,0,0,1-8.9,22.76,152.79,152.79,0,0,1-84.16,76.1L164.51,459.25A13,13,0,0,1,151.83,469.22Zm0-441A123.69,123.69,0,0,0,95.14,261.7a125.85,125.85,0,0,0,20.33,8.3,14.08,14.08,0,0,1,9.43,9.54l26.93,111.8,26.78-111.15c0-.06.19-.72.2-.78a13,13,0,0,1,8.89-9.26,123.43,123.43,0,0,0,87.74-117.6c0-.24,0-.47,0-.71s0-.48,0-.72A123.65,123.65,0,0,0,151.83,28.22Z"\n                                    />\n                                    <path class="pxs-ip" d="M151.83,207.16a56,56,0,1,1,56-55.95A56,56,0,0,1,151.83,207.16Zm0-85.82a29.87,29.87,0,1,0,29.87,29.87A29.9,29.9,0,0,0,151.83,121.34Z"\n                                    />\n                                </g>\n                            </g>\n                        </svg>\n                    </div>\n                </span>\n        <span class="pxs-sep">-</span>\n        <span id="'+t+'" class="pxs-desc"></span>\n        <span class="pxs-sep">-</span>\n        <span id="'+h+'" class="pxs-reloc"></span>\n        <span class="pxs-sep">-</span>\n';e+='<a id="untrack" class="pxs-link" target="_blank"><a> <span class="pxs-sep">-</span>\n',_.config().backLink?e+='<a href="'+_.config().backLink+'" class="pxs-link" target="_blank" id="'+n+'" class="pxs-more"></a>\n':e+='<a class="pxs-more"></a>\n';return e+="    </div>"}(),_.isSafari()&&(v(x("UNKNOWN_POSITION")),I(x("NOT_SUPPORTED")),O("pxs-ip-disqualified"),document.querySelectorAll(".pxs-sep").forEach(function(e){e.textContent=""})),_.config().hasConsent||(v(x("DESC_UNSHARED")),I(""),O("pxs-unknown")),_.appendSegmentsHtml(),-1<_.config().shortWidgetIds.indexOf(e)&&_.isMobile()&&(p.innerHTML=p.innerHTML.replace("pxs-widget","pxs-widget pxs-mini")),(d=document.getElementById(E)).getElementsByClassName("pxs-modal-close")[0].onclick=function(){d.style.display="none",_.config().hasConsent&&_.em.publish(_.em.GEOLOCATION_REQUESTED,{})},window.onclick=function(e){document.getElementsByTagName("body"),e.target===d&&(d.style.display="none",_.config().hasConsent)&&_.em.publish(_.em.GEOLOCATION_REQUESTED,{})},document.getElementById(y).addEventListener("load",function e(){document.getElementById(y).removeEventListener("load",e),null!=s&&b(s,c)},!1),_.em.subscribe(_.em.GEOLOCATION_CHANGED,function(e){for(var t,n,o=x(e.countryIso3,e.country),i=(e.postalCode||"")+" "+(e.locality||""),r="",a=x("RELOCATION"),s=x("POSITION_BLOCKED"),c=x("DETAIL"),l=x("CLOSE"),u=x("MORE_INFO"),d=null,p=!1,m=document.getElementsByClassName("pxs-turn"),f=0;f<m.length;f++)m[f].className="pxs-dot";"UNTRACK"!==e.type&&_.config().hasConsent?"IP"===e.type?e.disqualified?(i=x("UNKNOWN_POSITION"),r=x("DESC_IP_DISQUALIFIED"),O("pxs-ip-disqualified"),t=x("REFUSE_GEOLOC")):(r=x("DESC_IP_QUALIFIED"),O("pxs-ip-qualified"),d=e.position,t=x("REFUSE_GEOLOC"),p=!0):"HTML5"===e.type?(r=x("DESC_HTML5"),O("pxs-html5"),d=e.position,p=!0,t=x("REFUSE_GEOLOC")):"MANUAL"===e.type?(r=x("DESC_MANUAL"),O("pxs-manual"),d=e.position,p=!0,t=x("REFUSE_GEOLOC")):(i=x("UNKNOWN_POSITION"),O("pxs-unknown"),t=x("REFUSE_GEOLOC"),p=!1):(i=x("DESC_UNSHARED"),O("pxs-unknown"),t=x("BE_GEOLOC"),p=!1),e=o,document.getElementById(g).textContent=e,v(i),I(r),o=a,document.getElementById(h).innerHTML=o,document.getElementById(h).getElementsByTagName("button")[0].onclick=function(){for(var e=new _.Ajax,t=_.config().apiRootVersionedUrl+"/cookie/geo",n=(e.delete(t).then(function(e){_.config().hasConsent&&_.em.publish(_.em.GEOLOCATION_REQUESTED,{});var t=x("REFUSE_GEOLOC");document.getElementById("untrack").innerHTML=t},function(e){console.error(e)}),document.getElementsByClassName("pxs-dot")),o=0;o<n.length;o++)n[o].className+=" pxs-turn";document.getElementById("px-toolbar").className+="canShow",_.em.publish(_.em.GEOLOCATION_REQUESTED,{forceHtml5:!0})},document.getElementById(h).getElementsByTagName("button")[1].onclick=function(){_.config().hasConsent&&_.em.publish(_.em.GEOLOCATION_REQUESTED,{});var e=document.getElementById(y),t=_.config().apiRoot+"/assets/html/geolocation.html?language="+_.config().language+"&googleApiKey="+_.config().googleApiKey+"&apiRoot="+encodeURIComponent(_.config().apiRoot);e.setAttribute("src",t),document.getElementById(E).style.display="block"},e=t,(n=document.getElementById("untrack")).innerHTML=e,n.onclick=function(){var e,t;this.textContent===x("REFUSE_GEOLOC")?(_.config().hasConsent&&_.em.publish(_.em.GEOLOCATION_REFUSED),e=x("BE_GEOLOC"),n.innerHTML=e):(e=new _.Ajax,t=_.config().apiRootVersionedUrl+"/cookie/geo",e.delete(t).then(function(e){_.config().hasConsent&&_.em.publish(_.em.GEOLOCATION_REQUESTED,{});var t=x("REFUSE_GEOLOC");n.innerHTML=t},function(e){console.error(e)}))},i=u,r="fr"===(r=_.config().language)?"https://www.proxistore.com/vie-privee/":"en"===r?"https://www.proxistore.com/en/privacy/":"nl"===r?"https://www.proxistore.com/nl/privacy-nl/":void 0,document.querySelector(".pxs-more").setAttribute("href",r),document.querySelector(".pxs-more").textContent=i,b(d,p),w(s,c,l)}),_.em.subscribe(_.em.GEOLOCATION_ERROR,function(e){_.log("geolocation error:",e),l&&"flex"!==l.style.display&&"pxs-slideOutRightcanShow"===l.className&&(l.classList.remove("pxs-slideOutRightcanShow"),l.className+="pxs-slideOutRight",u=setTimeout(f,5e3),l.style.display="flex",l.classList.replace("pxs-slideOutRight","pxs-slideInRight"))}))}function n(e){t(e)}function i(){_.config().widgetIds&&(Array.isArray(_.config().widgetIds)||_.config().widgetIds instanceof String||"string"==typeof _.config().widgetIds)&&0<_.config().widgetIds.length&&_.isAllowedToWriteCookies().then(function(e){var t;e?(_.config().hasConsent=!0,e=_.config().customSegmentId,"www.essilor.fr"===(t=window.location).host&&(e="https://www.essilor.fr/nos-verres/varilux"===t.href||"https://www.essilor.fr/en-ce-moment/varilux-et-offre-2eme-paire"===t.href?"10003":"10002"),"www.malingo.fr"===t.host&&(e="4289223610"),(e=t.host.includes("bookad.fr")?"4289223613":e)&&(new _.Ajax).get("https://abs.proxistore.com/v3/cookie/adv/segment-pixel?segmentIds="+e),"function"==typeof _.config().geoLocationCallback&&_.em.subscribe(_.em.GEOLOCATION_CHANGED,function(e){var t="",n="",e=(e.areas.forEach(function(e){"POSTAL CODE"==e.label?t=e.code:e.label.match("NISS|IRIS")&&(n=e.code)}),{type:e.type,locality:e.locality,postalCode:e.postalCode,countryIso2:e.countryIso2,countryIso3:e.countryIso3,country:e.country,disqualified:e.disqualified,px_country:e.countryIso2,px_city:e.locality,px_zip:t,px_district:n});_.config().geoLocationCallback(e)}),(!_.config().visible&&_.config().hasConsent||(Array.isArray(_.config().widgetIds)?_.config().widgetIds.forEach(function(e){n(e)}):n(_.config().widgetIds),_.config().hasConsent))&&_.em.publish(_.em.GEOLOCATION_REQUESTED,{})):(_.config().hasConsent=!1,Array.isArray(_.config().widgetIds)?_.config().widgetIds.forEach(function(e){n(e)}):n(_.config().widgetIds))})}var r=_.config;_.config=function(e){var t=r(e);return e&&i(),t},_.createWidgets=i}((Proxistore=function(i){Object.defineProperty(i.em,"GEOLOCATION_CHANGED",{value:"GEOLOCATION_CHANGED",writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(i.em,"GEOLOCATION_ERROR",{value:"GEOLOCATION_ERROR",writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(i.em,"GEOLOCATION_REQUESTED",{value:"GEOLOCATION_REQUESTED",writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(i.em,"GEOLOCATION_REFUSED",{value:"GEOLOCATION_REFUSED",writable:!1,enumerable:!0,configurable:!1});var t,r=new i.Ajax;function n(e,t,n,o,i,r,a,s,c){this.type=e,this.locality=t,this.postalCode=n,this.countryIso2=o,this.countryIso3=i,this.country=r,this.disqualified=s,a&&(this.position=Geohash.decode(a)),this.areas=c}function o(o){navigator&&navigator.geolocation&&!i.isMobile()&&navigator.geolocation.getCurrentPosition(function(e){var t,n;t={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy},n=i.config().apiRootVersionedUrl+"/cookie/geo/html5?",Object.keys(t).forEach(function(e){n+=e+"="+t[e]+"&"}),n+="1=1",r.post(n).then(function(e){a(JSON.parse(e)),o&&(e=i.config().apiRootVersionedUrl+"/cookie/geo/manual",r.delete(e))},function(e){s(e)})},function(e){var t;t=i.config().apiRootVersionedUrl+"/cookie/geo/html5-refusal",r.get(t).then(function(){},function(e){s(e)}),s(e)},{maximumAge:6e5,timeout:6e4,enableHighAccuracy:!1})}function a(e){e=new n(e.geoCookieType,e.locality,e.postalCode,e.countryIso2,e.countryIso3,e.country,e.geoHash,e.disqualified,e.areas);i.em.publish(i.em.GEOLOCATION_CHANGED,e)}function s(e){i.em.publish(i.em.GEOLOCATION_ERROR,e)}return i.em.subscribe(i.em.GEOLOCATION_REQUESTED,function(e){var t,n;e.latitude&&e.longitude?(t=e,n=i.config().apiRootVersionedUrl+"/cookie/geo/manual?",Object.keys(t).forEach(function(e){n+=e+"="+t[e]+"&"}),n+="1=1",r.post(n).then(function(e){a(JSON.parse(e))},function(e){s(e)})):e.forceHtml5?o(e.forceHtml5):(e=i.config().apiRootVersionedUrl+"/widget/geo",r.get(e).then(function(e){e=JSON.parse(e);"untrack"===e.geoCookieType&&i.em.publish(i.em.GEOLOCATION_REFUSED),a(e),i.config().disableHtml5GeoLocation||e.html5Refusal||"IP"!==e.geoCookieType||o()},function(e){s(e)}))}),i.em.subscribe(i.em.GEOLOCATION_CHANGED,function(e){Array.isArray(e.areas)&&void 0!==e.areas&&1<e.areas.length&&(e={type:e.type,locality:e.locality,postalCode:e.postalCode,countryIso2:e.countryIso2,countryIso3:e.countryIso3,country:e.country,disqualified:e.disqualified,areas:e.areas[e.areas.length-1]},t(e))}),i.em.subscribe(i.em.GEOLOCATION_REFUSED,function(){r.get("https://abs.proxistore.com/v3/cookie/geo/untrack").then(function(e){e=JSON.parse(e),loc={type:e.geoCookieType,locality:e.locality,postalCode:e.postalCode,countryIso2:e.countryIso2,countryIso3:e.countryIso3,country:e.country,disqualified:e.disqualified,areas:e.areas},i.em.publish(i.em.GEOLOCATION_CHANGED,loc)},function(e){s(e)})}),t=function(e){var t,n={cmp:0,pa:"22509",si:function(e){switch(e){case"be":return"1";case"fr":return"2";case"es":return"3";default:return"4"}}(e.countryIso2.toLowerCase()),uf_postal_code:e.postalCode,user_country:e.countryIso2.toLowerCase(),user_city:e.locality,user_lat:"",user_long:"",user_iris:"",user_nis9:"",custom_segment:"",rand:(new Date).getTime()},o=("IRIS CODE"===e.areas.label?n.user_iris=e.areas.code:"NISS CODE"===e.areas.label&&(n.user_nis9=e.areas.code),[]);for(t in n)o.push(t+"="+encodeURIComponent(n[t]));e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://js.cookieless-data.com/GS.d?"+o.join("&"),document.getElementsByTagName("head")[0].appendChild(e)},i}((Proxistore=function(e){return e.Ajax=function(){function n(o,i,r){return e.log("AJAX -",i,o,r||""),new Promise(function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?e(n.responseText):t(Error(n.statusText)))},n.onerror=function(){t(Error("Network Error"))},n.withCredentials=!0,n.open(i,o,!0),n.setRequestHeader("Content-Type","application/json"),n.send(r)})}this.get=function(e){return n(e,"GET")},this.post=function(e,t){return n(e,"POST",t)},this.put=function(e,t){return n(e,"PUT",t)},this.delete=function(e,t){return n(e,"DELETE",t)}},e}((Proxistore=function(e){return e.em=new function(){var o={};this.publish=function(e,t){e=o[e];!1!=!!e&&e.forEach(function(e){e.call(this,t)})},this.subscribe=function(e,t){var n=o[e];-1===(n=!1==!!n?o[e]=[]:n).indexOf(t)&&n.push(t)},this.unsubscribe=function(e,t){e=o[e];!1!=!!e&&-1!==(t=e.indexOf(t))&&e.splice(t)}},e}((Proxistore=function(i){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},writable:!0,configurable:!0});var e={apiRoot:"//abs.proxistore.com",apiVersion:"v3",language:"fr",disableHtml5GeoLocation:!1,googleApiKey:"AIzaSyDRj3mL_PQt-lWdvN3RP1iJwLoB95iJdXg",geoLocationCallback:new function(e){},darkTheme:!1,customSegmentId:null,customClassName:null,widgetIds:[],shortWidgetIds:[],verbose:!1,backLink:"",visible:!0,hasConsent:!1,consentString:null},t=(e.apiRootUrl=e.apiRoot,e.apiRootVersionedUrl=e.apiRootUrl+"/"+e.apiVersion,Object.assign({},e));return i.config=function(e){return e&&((t=Object.assign(t,e)).language.match("fr|nl|es"),t.apiRootUrl=t.apiRoot,t.apiRootVersionedUrl=t.apiRootUrl+"/"+t.apiVersion),t},i.log=function(){var e;t.verbose&&((e=Array.prototype.slice.call(arguments)).splice(0,0,"PROXISTORE -"),console.log.apply(this,e))},i.isAllowedToWriteCookies=function(){return new Promise(function(n,o){"function"!=typeof __tcfapi?n(!0):__tcfapi("getTCData",2,function(e,t){i.config().consentString=e.tcString,t?n(e.purpose.consents[1]&&e.vendor.consents[418]):o(!1)})})},i.isSafari=function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")},i.isMobile=function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e},i.appendSegmentsHtml=function(){var e=document.createElement("style");e.textContent="#px_frame_sir_data {display: none;}",document.head.appendChild(e),(e=document.createElement("iframe")).setAttribute("id","px_frame_sir_data"),e.setAttribute("src","//abs.proxistore.com/sirdata/segments.html"),document.body.appendChild(e)},i}(Proxistore||{}))||{}))||{}))||{}))||{});var Proxistore=function(I){function a(e,t){var n=document.createElement("img");n.setAttribute("src",t),e.appendChild(n)}function s(e,t){e=document.createAttribute(e);return e.value=t,e}function b(e,t,n){e=e,o=t,o=document.getElementById(t),null===(t=document.getElementById("ps-pixelCounter-"+e))&&(t=document.createElement("div"),e=s("id","ps-pixelCounter-"+e),t.setAttributeNode(e),e=s("class","ps-pixelCounter"),t.setAttributeNode(e),e=s("style","display:none"),t.setAttributeNode(e),o.appendChild(t));var o,i=t;if(n.constructor!==Array)a(i,n);else for(var r=n.length;r--;)a(i,n[r])}function w(e,t,n){var o=(new Date).getTime(),i=Math.floor(1e4*Math.random())+1,o=o.toString()+String(i).padStart(4,"0");const r={"{CAMPAIGN_ID}":n.campaignId,"{ADVERTISEMENT_ID}":n.advertisementId,"{CONSENT_STRING}":t,"{RANDOM}":o,"{random}":o};return e.replace(/{ADVERTISER_ID}|{CAMPAIGN_ID}|{ADVERTISEMENT_ID}|{CONSENT_GIVEN}|{CONSENT_STRING}|{RANDOM}|{random}/gi,function(e){return r[e]})}function O(e,t,n,o,i){var r;return t.redirectUrl&&(e.urlRedirection=t.redirectUrl),e.urlRedirection=w(e.urlRedirection,n,e),C(e)?(t=n,n=o,r=(o=e).brandSlug,"d26e6a54-face-4547-85f5-20be1ede1a26"===o.advertiserId&&(r="emilfrey"),i?"https://audience-api.wts-okube.com/redirect?brand_slug="+r+"&module=dclic&campaign_id="+o.prefix+o.advertisementId+"&client_id="+n+"&consent_string="+t+"&redirect_url="+o.urlRedirection:"https://audience-api.wts-okube.com/redirect?brand_slug="+r+"&module=dclic&campaign_id="+o.prefix+o.advertisementId+"&consent_string="+t+"&redirect_url="+o.urlRedirection):e.urlRedirection}function _(e,t,n){clearTimeout(window["ps_infoboxTimeout_"+e]);e=document.getElementById("ps-infobox-"+e);e.style.width="horizontal"===t?0===e.clientWidth||n?"250px":0:0===e.clientWidth||n?"116px":0}function x(e){var t=document.getElementsByTagName("body")[0]||document.body,n=document.createElement("div");n.innerHTML='<img src="'+e+'" width="1" height="1" alt="" style="display:none">',t.appendChild(n)}function C(e){return e.measureStoreVisits||e.alwaysUseRedirect}function d(e){return e.measureStoreVisits||e.alwaysInsertScript}function t(e){var t,n,o,i,r,a=e.advertisement,s=e.consentString,c=a.visuals.map(e=>e.impressionTracker).filter(e=>null!==e),l=a.urlPixelCounters;function u(e,t){var n=document,o=n.createElement("script"),n=n.getElementsByTagName("script")[0];o.src=e,t&&o.addEventListener("load",function(e){t(null,e)},!1),n.parentNode.insertBefore(o,n)}e.inApp&&d(a)?(i="https://audience-api.wts-okube.com/pixel.png?brand_slug="+a.brandSlug+"&module=dprint&campaign_id="+a.prefix+a.advertisementId+"&gdpr_consent="+s,x(i=e.proxistoreId?"https://audience-api.wts-okube.com/pixel.png?brand_slug="+a.brandSlug+"&module=dprint&campaign_id="+a.prefix+a.advertisementId+"&gdpr_consent="+s+"&client_id="+e.uvId:i)):d(a)&&(t=a,n=s,o=e.uvId,i=e.proxistoreId,r=t.brandSlug,"d26e6a54-face-4547-85f5-20be1ede1a26"===t.advertiserId&&(r="emilfrey"),u("https://audience-static.wts-okube.com/rtb.js",i?function(){window.stAudience.launchApp({clientId:o,brandSlug:r,module:"dprint",campaignId:t.prefix+t.advertisementId,consentString:n})}:function(){window.stAudience.launchApp({brandSlug:r,module:"dprint",campaignId:t.prefix+t.advertisementId,consentString:n})})),0<c.length?c.forEach(e=>{x(w(e,s,a))}):l&&0<l.length&&l.forEach(e=>{x(w(e,s,a))}),x(e.viewUrl)}return I.advertisementBox=function(e){t(e),I.box(e.advertisement,e.dealId,e.boxId,e.uvId,e.consentString,e.interstitial,e.proxistoreId)},I.box=function(n,o,e,i,t,r,a){g=document.createElement("link"),E=document.getElementsByTagName("head")[0]||document.documentElement,g.setAttribute("rel","stylesheet"),g.setAttribute("type","text/css"),g.setAttribute("href","https://abs.proxistore.com/assets/css/proxistore.min.css"),E.insertBefore(g,E.firstChild);var s,c,l,u,d,p,m,f,g=n.publisherSpot.publisherSpotReferenceId,h="horizontal",E=n.visuals.map(e=>e.urlVisual),y='<img src="%%CLICK_URL_UNESC%%" alt="googleMacroClick" style="display: none;" />',v=(r&&document.querySelector("body").setAttribute("style","display: flex; justify-content: center; align-items: center; height: 100vh; width: 100vw;"),b(g,e,"https://cm.g.doubleclick.net/pixel?google_cm&google_nid=proxistore&google_hm="+btoa(i)),y);Array.isArray(E)&&-1!==E[0].indexOf(".html")?(E=E[0],v+='<iframe id="pxIframeHtml5"title="titleExample"width="'+n.width+'"height="'+n.height+'"src="'+E+'"marginwidth="0" marginheight="0" hspace="0" vspace="0" scrolling="no" frameborder="0"</iframe>',n.urlPixelCounters&&(w(n.urlRedirection,t,n),b(g,e,n.urlPixelCounters)),p=n,m=o,f=t,setTimeout(function(){document.getElementById("pxIframeHtml5").contentWindow.postMessage({advertisementId:p.advertisementId,campaignId:p.campaignId,publisherSpotReferenceId:p.publisherSpot.publisherSpotReferenceId,dealId:m,canCallSmartTrafik:C(p),consentString:f,urlRedirection:p.urlRedirection},"*")},1e3),document.getElementById(e).innerHTML=v):(v+=y+(E=h,y=g,n.surferCityName,r?"<a id='ps-ad-"+y+"' target='_blank'>   <img id='ps-ad-img-"+y+"' class='ps-ad-img "+E+"'></a>":"<span id='ps-infobox-"+y+"' class='ps-infobox "+E+"'>   <span class='ps-actions "+E+"'>       <a id='ps-store-"+y+"' class='ps-store "+E+"' target='_blank'>           <svg viewBox='0 0 525.16 525.16' width='0'><path d='M517.47,244.07,281.09,7.68a26.12,26.12,0,0,0-37,0L7.68,244.07a26.12,26.12,0,0,0,0,37L244.09,517.47a26.12,26.12,0,0,0,37,0L517.49,281.07C527.71,271.15,527.71,254.52,517.47,244.07ZM315,328.35V262.69H209.89v78.84H157.39V236.45a26.34,26.34,0,0,1,26.24-26.26H315V144.55l91.9,91.9Z'/></svg>       </a>   </span></span><a id='ps-ad-"+y+"' class='ps-ad "+E+"' target='_blank'>   <img id='ps-ad-img-"+y+"' class='ps-ad-img "+E+"'></a>"),document.getElementById(e).innerHTML=v,s=g,y=e,c=n,l=t,u=i,d=a,y=document.getElementById(y),clearInterval(window["ps_interval_"+s]),y.style.width=c.width+"px",y.style.height=c.height+"px",y=c.visuals[0],document.getElementById("ps-ad-img-"+s).src=y.urlVisual,document.getElementById("ps-ad-"+s).href=O(c,y,l,u),1<c.visuals.length&&(window["ps_visualIdx_"+s]=2,window["ps_interval_"+s]=setInterval(function(){document.getElementById("ps-ad-img-"+s).src=c.visuals[window["ps_visualIdx_"+s]].urlVisual,document.getElementById("ps-ad-"+s).href=O(c,c.visuals[window["ps_visualIdx_"+s]],l,u,d),window["ps_visualIdx_"+s]=(window["ps_visualIdx_"+s]+1)%c.visuals.length},3e3)),E=function(e){const t=`https://abs.proxistore.com/tags/click/${n.advertisementId}?publisherSpotReferenceId=${n.publisherSpot.publisherSpotReferenceId}&campaignId=${n.campaignId}${i?"&uniqueVisitorId="+i:""}&dealId=${o}&imgSrc=`+e.target.src.replace("https://images.proxistore.com/","");I.isAllowedToWriteCookies().then(function(e){x(t+"&pxsDoNotTrack="+!e)}).catch(function(e){console.error(e),x(t)})},(document.getElementById("ps-ad-"+n.publisherSpot.publisherSpotReferenceId)||document.getElementById("inlineFrameExample")).addEventListener("click",E),r||(v=function(){_(n.publisherSpot.publisherSpotReferenceId,h,!0)},document.getElementById("ps-infobox-"+n.publisherSpot.publisherSpotReferenceId).addEventListener("mouseover",v))),I.appendSegmentsHtml()},I}(Proxistore||{});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvbHlmaWxsLmpzIiwibGF0bG9uLWdlb2hhc2guanMiLCJweC13aWRnZXQuanMiLCJweC1nZW8uanMiLCJweC1hamF4LmpzIiwicHgtZW0uanMiLCJweC1hcGkuanMiLCJweC1ib3guanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJmaW5hbGx5Q29uc3RydWN0b3IiLCJjYWxsYmFjayIsImNvbnN0cnVjdG9yIiwidGhpcyIsInRoZW4iLCJ2YWx1ZSIsInJlc29sdmUiLCJyZWFzb24iLCJyZWplY3QiLCJhbGxTZXR0bGVkIiwiYXJyIiwibGVuZ3RoIiwiVHlwZUVycm9yIiwiYXJncyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwicmVtYWluaW5nIiwiaSIsInJlcyIsInZhbCIsImUiLCJzdGF0dXMiLCJBZ2dyZWdhdGVFcnJvciIsImVycm9ycyIsIm1lc3NhZ2UiLCJuYW1lIiwiYW55IiwiUCIsInJlamVjdGlvblJlYXNvbnMiLCJjYXRjaCIsImVycm9yIiwicHVzaCIsImV4IiwiRXJyb3IiLCJzZXRUaW1lb3V0RnVuYyIsInNldFRpbWVvdXQiLCJpc0FycmF5IiwieCIsIkJvb2xlYW4iLCJub29wIiwiUHJvbWlzZSIsImZuIiwiX3N0YXRlIiwiX2hhbmRsZWQiLCJfdmFsdWUiLCJ1bmRlZmluZWQiLCJfZGVmZXJyZWRzIiwiZG9SZXNvbHZlIiwiaGFuZGxlIiwic2VsZiIsImRlZmVycmVkIiwiX2ltbWVkaWF0ZUZuIiwicmV0IiwiY2IiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJwcm9taXNlIiwibmV3VmFsdWUiLCJmaW5hbGUiLCJ0aGlzQXJnIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfdW5oYW5kbGVkUmVqZWN0aW9uRm4iLCJsZW4iLCJIYW5kbGVyIiwiZG9uZSIsInByb20iLCJhbGwiLCJyYWNlIiwic2V0SW1tZWRpYXRlIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJnbG9iYWxOUyIsIndpbmRvdyIsImdsb2JhbCIsIkdlb2hhc2giLCJiYXNlMzIiLCJlbmNvZGUiLCJsYXQiLCJsb24iLCJwcmVjaXNpb24iLCJwIiwiaGFzaCIsInBvc24iLCJkZWNvZGUiLCJOdW1iZXIiLCJpc05hTiIsImxhdE1pZCIsImlkeCIsImJpdCIsImV2ZW5CaXQiLCJnZW9oYXNoIiwibGF0TWluIiwibGF0TWF4IiwibG9uTWluIiwibG9uTWF4IiwibG9uTWlkIiwiY2hhckF0IiwiYm91bmRzIiwic3ciLCJuZSIsInRvRml4ZWQiLCJNYXRoIiwiZmxvb3IiLCJsb2ciLCJMTjEwIiwidG9Mb3dlckNhc2UiLCJjaHIiLCJpbmRleE9mIiwibiIsImJpdE4iLCJhZGphY2VudCIsImRpcmVjdGlvbiIsImxhc3RDaCIsInBhcmVudCIsInR5cGUiLCJzIiwidyIsIm5laWdoYm91cnMiLCJzZSIsIm53IiwiUHJveGlzdG9yZSIsIm1lc3NhZ2VzIiwiZnIiLCJGUkEiLCJCRUwiLCJFU1AiLCJVTktOT1dOX1BPU0lUSU9OIiwiREVTQ19JUF9ESVNRVUFMSUZJRUQiLCJERVNDX1VOU0hBUkVEIiwiREVTQ19JUF9RVUFMSUZJRUQiLCJERVNDX0hUTUw1IiwiREVTQ19NQU5VQUwiLCJSRUxPQ0FUSU9OIiwiTU9SRV9JTkZPIiwiUE9TSVRJT05fQkxPQ0tFRCIsIkNMT1NFIiwiREVUQUlMIiwiUkVGVVNFX0dFT0xPQyIsIkJFX0dFT0xPQyIsIk5PVF9TVVBQT1JURUQiLCJubCIsImVzIiwiZW4iLCJrZXkiLCJkZWZhdWx0VmFsdWUiLCJsYW5ndWFnZSIsImNvbmZpZyIsImNyZWF0ZVdpZGdldCIsInBhcmVudEVsZW1lbnRJZCIsImNvdW50cnlFbGVtZW50SWQiLCJsb2NhdGlvbkVsZW1lbnRJZCIsImRlc2NyaXB0aW9uRWxlbWVudElkIiwicmVsb2NhdGlvbkVsZW1lbnRJZCIsIm1vcmVJbmZvRWxlbWVudElkIiwibW9kYWxFbGVtZW50SWQiLCJtb2RhbElGcmFtZUVsZW1lbnRJZCIsImN1c3RvbUNsYXNzTmFtZSIsIml0ZW1zIiwibm90aWZpY2F0aW9uVG9vbGJhcklkIiwibGF0ZXN0UG9zaXRpb24iLCJsYXRlc3RTaG93TWFya2VyIiwibm90aWZpY2F0aW9uQmFyIiwidGltZU91dEhhbmxkZXIiLCJtb2RhbCIsIndpZGdldCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRMb2NhdGlvbiIsImxvY2F0aW9uIiwibm9kZXMiLCJjaGlsZE5vZGVzIiwibm9kZVZhbHVlIiwic2V0RGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInRleHRDb250ZW50IiwidXBkYXRlTWFwQ2VudGVyIiwicG9zaXRpb24iLCJzaG93TWFya2VyIiwicG9zdE1lc3NhZ2VUb0lGcmFtZSIsImRhdGEiLCJpRnJhbWVXaW5kb3ciLCJjb250ZW50V2luZG93IiwiY2hhbm5lbCIsIk1lc3NhZ2VDaGFubmVsIiwicG9zdE1lc3NhZ2UiLCJwb3J0MiIsImNyZWF0ZU5vdGlmaWNhdGlvbkJhciIsImdlbG9jQmxvY2siLCJkZXRhaWwiLCJjbG9zZSIsIm5vdGlmaWNhdGlvbkRpdiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjaGlsZHJlbiIsIm9uY2xpY2siLCJzdHlsZSIsImRpc3BsYXkiLCJvbm1vdXNlb3ZlciIsImNsZWFyVGltZW91dCIsIm9ubW91c2VvdXQiLCJoaWRlTm90aWZpY2F0aW9uIiwiY2xhc3NMaXN0IiwicmVwbGFjZSIsImNvbnRhaW5lciIsInNldEljb25DbGFzcyIsImNscyIsInBhdGhzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJob3N0bmFtZSIsInNwbGl0IiwiZGFya1RoZW1lIiwid2lkZ2V0SFRNTCIsImJhY2tMaW5rIiwiaXNTYWZhcmkiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsZSIsImhhc0NvbnNlbnQiLCJhcHBlbmRTZWdtZW50c0h0bWwiLCJzaG9ydFdpZGdldElkcyIsImlzTW9iaWxlIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImVtIiwicHVibGlzaCIsIkdFT0xPQ0FUSU9OX1JFUVVFU1RFRCIsImV2ZW50IiwidGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImlGcmFtZUxvYWRlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzdWJzY3JpYmUiLCJHRU9MT0NBVElPTl9DSEFOR0VEIiwidW50cmFja01zZyIsInVudHJhY2tMaW5rIiwiY291bnRyeSIsImNvdW50cnlJc28zIiwicG9zdGFsQ29kZSIsImxvY2FsaXR5IiwicmVsb2NhdGlvbiIsIm1vcmVJbmZvIiwiaWNvbnMiLCJjbGFzc05hbWUiLCJkaXNxdWFsaWZpZWQiLCJhamF4IiwiQWpheCIsInVybCIsImFwaVJvb3RWZXJzaW9uZWRVcmwiLCJkZWxldGUiLCJyZXNwb25zZSIsIm1zZyIsImZvcmNlSHRtbDUiLCJweF9pZnJhbWUiLCJzcmMiLCJhcGlSb290IiwiZ29vZ2xlQXBpS2V5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVmdXNlR2VvbG9jIiwiR0VPTE9DQVRJT05fUkVGVVNFRCIsImhyZWZWYWx1ZSIsInF1ZXJ5U2VsZWN0b3IiLCJHRU9MT0NBVElPTl9FUlJPUiIsInJlbW92ZSIsIldpZGdldCIsImNyZWF0ZVdpZGdldHMiLCJ3aWRnZXRJZHMiLCJTdHJpbmciLCJpc0FsbG93ZWRUb1dyaXRlQ29va2llcyIsInNlZ21lbnRJZCIsImN1c3RvbVNlZ21lbnRJZCIsImhvc3QiLCJocmVmIiwiaW5jbHVkZXMiLCJnZXQiLCJnZW9Mb2NhdGlvbkNhbGxiYWNrIiwiZXYiLCJweF96aXAiLCJweF9kaXN0cmljdCIsImxvY2F0aW9uUmVzdHJpY3RlZCIsImFyZWFzIiwiYXJlYSIsImxhYmVsIiwiY29kZSIsIm1hdGNoIiwiY291bnRyeUlzbzIiLCJweF9jb3VudHJ5IiwicHhfY2l0eSIsInZpc2libGUiLCJ3aWRnZXRJZCIsIm92ZXJyaWRkZW5Db25maWciLCJjZmciLCJjIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3cml0YWJsZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJzZW5kR2VvbG9jVG9TaXJEYXRhIiwiTG9jYXRpb24iLCJnZW9IYXNoIiwiaHRtbDVHZW9sb2NhdGlvbiIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicGFyYW1zIiwibGF0aXR1ZGUiLCJjb29yZHMiLCJsb25naXR1ZGUiLCJhY2N1cmFjeSIsImtleXMiLCJwb3N0IiwiaHRtbDVDb29raWVWYWx1ZSIsImdlb2xvY2F0aW9uQ2hhbmdlZCIsIkpTT04iLCJwYXJzZSIsImdlb2xvY2F0aW9uRXJyb3IiLCJtYXhpbXVtQWdlIiwidGltZW91dCIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsImNvb2tpZSIsImdlb0Nvb2tpZVR5cGUiLCJtYW51YWxDb29raWVWYWx1ZSIsImNvb2tpZVZhbHVlIiwiZGlzYWJsZUh0bWw1R2VvTG9jYXRpb24iLCJodG1sNVJlZnVzYWwiLCJsb2MiLCJuZXdMb2MiLCJ2IiwiY21wIiwicGEiLCJzaSIsImNvdW50cnlDb2RlIiwidWZfcG9zdGFsX2NvZGUiLCJ1c2VyX2NvdW50cnkiLCJ1c2VyX2NpdHkiLCJ1c2VyX2xhdCIsInVzZXJfbG9uZyIsInVzZXJfaXJpcyIsInVzZXJfbmlzOSIsImN1c3RvbV9zZWdtZW50IiwicmFuZCIsIkRhdGUiLCJnZXRUaW1lIiwiY29uZmlnUGFyYW1zIiwic2RkYW5KUyIsImFzeW5jIiwiam9pbiIsIm1ldGhvZCIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJET05FIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJwdXQiLCJldmVudHMiLCJoYW5kbGVycyIsImhhbmRsZXIiLCJ1bnN1YnNjcmliZSIsImhhbmRsZXJJZHgiLCJzcGxpY2UiLCJhc3NpZ24iLCJ0byIsImluZGV4IiwibmV4dFNvdXJjZSIsIm5leHRLZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIl9kZWZhdWx0cyIsImFwaVZlcnNpb24iLCJ2ZXJib3NlIiwiY29uc2VudFN0cmluZyIsIl9jb25maWciLCJhcGlSb290VXJsIiwiX190Y2ZhcGkiLCJ0Y0RhdGEiLCJzdWNjZXNzIiwidGNTdHJpbmciLCJwdXJwb3NlIiwiY29uc2VudHMiLCJ2ZW5kb3IiLCJ1YSIsInVzZXJBZ2VudCIsImxldCIsImNoZWNrIiwiYSIsIm9wZXJhIiwidGVzdCIsInN1YnN0ciIsInB4X2lmcmFtZV9zdHlsZSIsImhlYWQiLCJweF9pZnJhbWVfc2lyZGF0YSIsImluc2VydFBpeGVsVHJhY2tlciIsInBpeGVsQ291bnRlckRpdiIsInBpeGVsVHJhY2tlckltZyIsImNyZWF0ZUF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsImFkZFBpeGVsQ291bnRlciIsInB1Ymxpc2hlclNwb3RJZCIsImJveElkIiwicGl4ZWxDb3VudGVySW1nVXJscyIsImJveFBvc2l0aW9uIiwicGl4ZWxDb3VudGVyX2Rpdl9pZCIsInNldEF0dHJpYnV0ZU5vZGUiLCJwaXhlbENvdW50ZXJfZGl2X2NsYXNzIiwicGl4ZWxDb3VudGVyX2Rpdl9zdHlsZSIsInJlcGxhY2VNYWNyb1VybCIsImFkdmVydGlzZW1lbnQiLCJjdXJyZW50VGltZU1pbGxpcyIsInJhbmRvbU9mZnNldCIsInJhbmRvbSIsInJhbmRvbU51bWJlciIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJyZXBsYWNlciIsIntDQU1QQUlHTl9JRH0iLCJjYW1wYWlnbklkIiwie0FEVkVSVElTRU1FTlRfSUR9IiwiYWR2ZXJ0aXNlbWVudElkIiwie0NPTlNFTlRfU1RSSU5HfSIsIntSQU5ET019Iiwie3JhbmRvbX0iLCJtYXRjaGVkIiwiZ2V0VXJsUmVkaXJlY3Rpb24iLCJjdXJyZW50VmlzdWFsIiwidXZJZCIsInByb3hpc3RvcmVJZCIsImNhbkluc2VydFNtYXJ0VHJhZmZpa1JlZGlyZWN0IiwiYnJhbmRTbHVnIiwicmVkaXJlY3RVcmwiLCJ1cmxSZWRpcmVjdGlvbiIsImFkdmVydGlzZXJJZCIsInByZWZpeCIsIm1hbmFnZUluZm9Cb3giLCJwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQiLCJpbmZvQm94T3JpZW50YXRpb24iLCJmb3JjZUV4cGFuZCIsImluZm9Cb3giLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaW5qZWN0R2V0UmVxdWVzdEluTWFya3VwIiwiZGl2IiwibWVhc3VyZVN0b3JlVmlzaXRzIiwiYWx3YXlzVXNlUmVkaXJlY3QiLCJjYW5JbnNlcnRTbWFydFRyYWZmaWtJbXByZXNzaW9uVHJhY2tlciIsImFsd2F5c0luc2VydFNjcmlwdCIsImNhbGxJbXByZXNzaW9uVHJhY2tlcnMiLCJvcHRpb25zIiwiaW1wcmVzc2lvblRyYWNrZXJzIiwidmlzdWFscyIsIm1hcCIsImltcHJlc3Npb25UcmFja2VyIiwiZmlsdGVyIiwidXJsUGl4ZWxDb3VudGVycyIsInN0QXN5bmNMb2FkZXIiLCJ1IiwiZCIsIm8iLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiaW5BcHAiLCJzdEF1ZGllbmNlIiwibGF1bmNoQXBwIiwiY2xpZW50SWQiLCJ0cmFja2VyIiwidmlld1VybCIsImFkdmVydGlzZW1lbnRCb3giLCJib3giLCJkZWFsSWQiLCJpbnRlcnN0aXRpYWwiLCJsaW5rIiwiZG9jdW1lbnRFbGVtZW50IiwiZmlyc3RDaGlsZCIsInB1Ymxpc2hlclNwb3QiLCJ1cmxWaXN1YWxzIiwidXJsVmlzdWFsIiwiZ29vZ2xlTWFjcm9DbGljayIsIiRwc19ib3hfY29kZSIsImJ0b2EiLCJoZWlnaHQiLCJjYW5DYWxsU21hcnRUcmFmaWsiLCJzdXJmZXJDaXR5TmFtZSIsImNsZWFySW50ZXJ2YWwiLCJ2aXN1YWwiLCJzZXRJbnRlcnZhbCIsImNsaWNrVXJsIiwibW91c2VPdmVySGFuZGxlciJdLCJtYXBwaW5ncyI6IkFBQUEsQ0FBQSxTQUFBQSxJQUNBLFVBQUEsT0FBQUMsU0FBQSxhQUFBLE9BQUFDLFNBQ0EsWUFBQSxPQUFB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QUFBdUksQ0FBQSxFQW9ZQStHLElBdFhBaUIsRUFnWUEsV0FDQXJELEVBQ0ExQixFQUFBa0UsY0FBQXZDLHlCQUNBQyxFQUNBLENBQUEsQ0FDQSxDQUNBLEVBN1hBclIsU0FBQUMsZUFDQSxjQThXQXdQLEVBOVdBa0UsY0FBQXZDLHdCQUNBLEVBQ0FuTixpQkFBQSxZQUFBdVEsQ0FBQSxJQWlZQXJYLEVBQUFxRyxtQkFBQSxDQUNBLEVBRUFyRyxDQUNBLEVBQUFBLFlBQUEsRUFBQSIsImZpbGUiOiJwcm94aXN0b3JlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHRoaXMge1Byb21pc2V9XG4gKi9cbmZ1bmN0aW9uIGZpbmFsbHlDb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICB2YXIgY29uc3RydWN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdGhpcy50aGVuKFxuICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGFsbFNldHRsZWQoYXJyKSB7XG4gIHZhciBQID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghKGFyciAmJiB0eXBlb2YgYXJyLmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIHR5cGVvZiBhcnIgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIGFyciArXG4gICAgICAgICAgICAnIGlzIG5vdCBpdGVyYWJsZShjYW5ub3QgcmVhZCBwcm9wZXJ0eSBTeW1ib2woU3ltYm9sLml0ZXJhdG9yKSknXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiByZXNvbHZlKFtdKTtcbiAgICB2YXIgcmVtYWluaW5nID0gYXJncy5sZW5ndGg7XG5cbiAgICBmdW5jdGlvbiByZXMoaSwgdmFsKSB7XG4gICAgICBpZiAodmFsICYmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGVuLmNhbGwoXG4gICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICBhcmdzW2ldID0geyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbjogZSB9O1xuICAgICAgICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFyZ3NbaV0gPSB7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlOiB2YWwgfTtcbiAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgbWVzc2FnZSkge1xuICB0aGlzLm5hbWUgPSAnQWdncmVnYXRlRXJyb3InLCB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCAnJztcbn1cbkFnZ3JlZ2F0ZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblxuZnVuY3Rpb24gYW55KGFycikge1xuICB2YXIgUCA9IHRoaXM7XG4gIHJldHVybiBuZXcgUChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIShhcnIgJiYgdHlwZW9mIGFyci5sZW5ndGggIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdQcm9taXNlLmFueSBhY2NlcHRzIGFuIGFycmF5JykpO1xuICAgIH1cblxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiByZWplY3QoKTtcblxuICAgIHZhciByZWplY3Rpb25SZWFzb25zID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBQLnJlc29sdmUoYXJnc1tpXSlcbiAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0aW9uUmVhc29ucy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAgIGlmIChyZWplY3Rpb25SZWFzb25zLmxlbmd0aCA9PT0gYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgIG5ldyBBZ2dyZWdhdGVFcnJvcihcbiAgICAgICAgICAgICAgICAgIHJlamVjdGlvblJlYXNvbnMsXG4gICAgICAgICAgICAgICAgICAnQWxsIHByb21pc2VzIHdlcmUgcmVqZWN0ZWQnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vLyBTdG9yZSBzZXRUaW1lb3V0IHJlZmVyZW5jZSBzbyBwcm9taXNlLXBvbHlmaWxsIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuLy8gb3RoZXIgY29kZSBtb2RpZnlpbmcgc2V0VGltZW91dCAobGlrZSBzaW5vbi51c2VGYWtlVGltZXJzKCkpXG52YXIgc2V0VGltZW91dEZ1bmMgPSBzZXRUaW1lb3V0O1xuXG5mdW5jdGlvbiBpc0FycmF5KHgpIHtcbiAgcmV0dXJuIEJvb2xlYW4oeCAmJiB0eXBlb2YgeC5sZW5ndGggIT09ICd1bmRlZmluZWQnKTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8vIFBvbHlmaWxsIGZvciBGdW5jdGlvbi5wcm90b3R5cGUuYmluZFxuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIFByb21pc2UoZm4pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpO1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdub3QgYSBmdW5jdGlvbicpO1xuICAvKiogQHR5cGUgeyFudW1iZXJ9ICovXG4gIHRoaXMuX3N0YXRlID0gMDtcbiAgLyoqIEB0eXBlIHshYm9vbGVhbn0gKi9cbiAgdGhpcy5faGFuZGxlZCA9IGZhbHNlO1xuICAvKiogQHR5cGUge1Byb21pc2V8dW5kZWZpbmVkfSAqL1xuICB0aGlzLl92YWx1ZSA9IHVuZGVmaW5lZDtcbiAgLyoqIEB0eXBlIHshQXJyYXk8IUZ1bmN0aW9uPn0gKi9cbiAgdGhpcy5fZGVmZXJyZWRzID0gW107XG5cbiAgZG9SZXNvbHZlKGZuLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlKHNlbGYsIGRlZmVycmVkKSB7XG4gIHdoaWxlIChzZWxmLl9zdGF0ZSA9PT0gMykge1xuICAgIHNlbGYgPSBzZWxmLl92YWx1ZTtcbiAgfVxuICBpZiAoc2VsZi5fc3RhdGUgPT09IDApIHtcbiAgICBzZWxmLl9kZWZlcnJlZHMucHVzaChkZWZlcnJlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbGYuX2hhbmRsZWQgPSB0cnVlO1xuICBQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpIHtcbiAgICB2YXIgY2IgPSBzZWxmLl9zdGF0ZSA9PT0gMSA/IGRlZmVycmVkLm9uRnVsZmlsbGVkIDogZGVmZXJyZWQub25SZWplY3RlZDtcbiAgICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICAgIChzZWxmLl9zdGF0ZSA9PT0gMSA/IHJlc29sdmUgOiByZWplY3QpKGRlZmVycmVkLnByb21pc2UsIHNlbGYuX3ZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJldDtcbiAgICB0cnkge1xuICAgICAgcmV0ID0gY2Ioc2VsZi5fdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChkZWZlcnJlZC5wcm9taXNlLCBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzb2x2ZShkZWZlcnJlZC5wcm9taXNlLCByZXQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShzZWxmLCBuZXdWYWx1ZSkge1xuICB0cnkge1xuICAgIC8vIFByb21pc2UgUmVzb2x1dGlvbiBQcm9jZWR1cmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9taXNlcy1hcGx1cy9wcm9taXNlcy1zcGVjI3RoZS1wcm9taXNlLXJlc29sdXRpb24tcHJvY2VkdXJlXG4gICAgaWYgKG5ld1ZhbHVlID09PSBzZWxmKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4nKTtcbiAgICBpZiAoXG4gICAgICBuZXdWYWx1ZSAmJlxuICAgICAgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG5ld1ZhbHVlID09PSAnZnVuY3Rpb24nKVxuICAgICkge1xuICAgICAgdmFyIHRoZW4gPSBuZXdWYWx1ZS50aGVuO1xuICAgICAgaWYgKG5ld1ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBzZWxmLl9zdGF0ZSA9IDM7XG4gICAgICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGZpbmFsZShzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkb1Jlc29sdmUoYmluZCh0aGVuLCBuZXdWYWx1ZSksIHNlbGYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGYuX3N0YXRlID0gMTtcbiAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIGZpbmFsZShzZWxmKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChzZWxmLCBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3Qoc2VsZiwgbmV3VmFsdWUpIHtcbiAgc2VsZi5fc3RhdGUgPSAyO1xuICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICBmaW5hbGUoc2VsZik7XG59XG5cbmZ1bmN0aW9uIGZpbmFsZShzZWxmKSB7XG4gIGlmIChzZWxmLl9zdGF0ZSA9PT0gMiAmJiBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoID09PSAwKSB7XG4gICAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXNlbGYuX2hhbmRsZWQpIHtcbiAgICAgICAgUHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4oc2VsZi5fdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNlbGYuX2RlZmVycmVkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGhhbmRsZShzZWxmLCBzZWxmLl9kZWZlcnJlZHNbaV0pO1xuICB9XG4gIHNlbGYuX2RlZmVycmVkcyA9IG51bGw7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb21pc2UpIHtcbiAgdGhpcy5vbkZ1bGZpbGxlZCA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogbnVsbDtcbiAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBUYWtlIGEgcG90ZW50aWFsbHkgbWlzYmVoYXZpbmcgcmVzb2x2ZXIgZnVuY3Rpb24gYW5kIG1ha2Ugc3VyZVxuICogb25GdWxmaWxsZWQgYW5kIG9uUmVqZWN0ZWQgYXJlIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogTWFrZXMgbm8gZ3VhcmFudGVlcyBhYm91dCBhc3luY2hyb255LlxuICovXG5mdW5jdGlvbiBkb1Jlc29sdmUoZm4sIHNlbGYpIHtcbiAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBmbihcbiAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvbHZlKHNlbGYsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlamVjdChzZWxmLCByZWFzb24pO1xuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICBkb25lID0gdHJ1ZTtcbiAgICByZWplY3Qoc2VsZiwgZXgpO1xuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlWydjYXRjaCddID0gZnVuY3Rpb24ob25SZWplY3RlZCkge1xuICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgdmFyIHByb20gPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBoYW5kbGUodGhpcywgbmV3IEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb20pKTtcbiAgcmV0dXJuIHByb207XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddID0gZmluYWxseUNvbnN0cnVjdG9yO1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uKGFycikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFpc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheScpKTtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzb2x2ZShbXSk7XG4gICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZnVuY3Rpb24gcmVzKGksIHZhbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHZhbCAmJiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhlbi5jYWxsKFxuICAgICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIHJlcyhpLCB2YWwpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyZ3NbaV0gPSB2YWw7XG4gICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJlamVjdChleCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMoaSwgYXJnc1tpXSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UuYW55ID0gYW55O1xuXG5Qcm9taXNlLmFsbFNldHRsZWQgPSBhbGxTZXR0bGVkO1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gUHJvbWlzZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVqZWN0KHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbihhcnIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UucmFjZSBhY2NlcHRzIGFuIGFycmF5JykpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZShhcnJbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gVXNlIHBvbHlmaWxsIGZvciBzZXRJbW1lZGlhdGUgZm9yIHBlcmZvcm1hbmNlIGdhaW5zXG5Qcm9taXNlLl9pbW1lZGlhdGVGbiA9XG4gIC8vIEB0cy1pZ25vcmVcbiAgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICBmdW5jdGlvbihmbikge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgc2V0SW1tZWRpYXRlKGZuKTtcbiAgICB9KSB8fFxuICBmdW5jdGlvbihmbikge1xuICAgIHNldFRpbWVvdXRGdW5jKGZuLCAwKTtcbiAgfTtcblxuUHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbiBfdW5oYW5kbGVkUmVqZWN0aW9uRm4oZXJyKSB7XG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZSkge1xuICAgIGNvbnNvbGUud2FybignUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOicsIGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG59O1xuXG4vKiogQHN1cHByZXNzIHt1bmRlZmluZWRWYXJzfSAqL1xudmFyIGdsb2JhbE5TID0gKGZ1bmN0aW9uKCkge1xuICAvLyB0aGUgb25seSByZWxpYWJsZSBtZWFucyB0byBnZXQgdGhlIGdsb2JhbCBvYmplY3QgaXNcbiAgLy8gYEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKClgXG4gIC8vIEhvd2V2ZXIsIHRoaXMgY2F1c2VzIENTUCB2aW9sYXRpb25zIGluIENocm9tZSBhcHBzLlxuICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZ2xvYmFsO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0Jyk7XG59KSgpO1xuXG4vLyBFeHBvc2UgdGhlIHBvbHlmaWxsIGlmIFByb21pc2UgaXMgdW5kZWZpbmVkIG9yIHNldCB0byBhXG4vLyBub24tZnVuY3Rpb24gdmFsdWUuIFRoZSBsYXR0ZXIgY2FuIGJlIGR1ZSB0byBhIG5hbWVkIEhUTUxFbGVtZW50XG4vLyBiZWluZyBleHBvc2VkIGJ5IGJyb3dzZXJzIGZvciBsZWdhY3kgcmVhc29ucy5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YXlsb3JoYWtlcy9wcm9taXNlLXBvbHlmaWxsL2lzc3Vlcy8xMTRcbmlmICh0eXBlb2YgZ2xvYmFsTlNbJ1Byb21pc2UnXSAhPT0gJ2Z1bmN0aW9uJykge1xuICBnbG9iYWxOU1snUHJvbWlzZSddID0gUHJvbWlzZTtcbn0gZWxzZSB7XG4gIGlmICghZ2xvYmFsTlMuUHJvbWlzZS5wcm90b3R5cGVbJ2ZpbmFsbHknXSkge1xuICAgIGdsb2JhbE5TLlByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10gPSBmaW5hbGx5Q29uc3RydWN0b3I7XG4gIH1cbiAgaWYgKCFnbG9iYWxOUy5Qcm9taXNlLmFsbFNldHRsZWQpIHtcbiAgICBnbG9iYWxOUy5Qcm9taXNlLmFsbFNldHRsZWQgPSBhbGxTZXR0bGVkO1xuICB9XG4gIGlmICghZ2xvYmFsTlMuUHJvbWlzZS5hbnkpIHtcbiAgICBnbG9iYWxOUy5Qcm9taXNlLmFueSA9IGFueTtcbiAgfVxufVxuXG59KSkpO1xuIiwiLyogLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtICAqL1xuLyogR2VvaGFzaCBlbmNvZGluZy9kZWNvZGluZyBhbmQgYXNzb2NpYXRlZCBmdW5jdGlvbnMgICAoYykgQ2hyaXMgVmVuZXNzIDIwMTQtMjAxNiAvIE1JVCBMaWNlbmNlICAqL1xuLyogLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtICAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuLyoqXG4gKiBHZW9oYXNoIGVuY29kZSwgZGVjb2RlLCBib3VuZHMsIG5laWdoYm91cnMuXG4gKlxuICogQG5hbWVzcGFjZVxuICovXG52YXIgR2VvaGFzaCA9IHt9O1xuXG4vKiAoR2VvaGFzaC1zcGVjaWZpYykgQmFzZTMyIG1hcCAqL1xuR2VvaGFzaC5iYXNlMzIgPSAnMDEyMzQ1Njc4OWJjZGVmZ2hqa21ucHFyc3R1dnd4eXonO1xuXG4vKipcbiAqIEVuY29kZXMgbGF0aXR1ZGUvbG9uZ2l0dWRlIHRvIGdlb2hhc2gsIGVpdGhlciB0byBzcGVjaWZpZWQgcHJlY2lzaW9uIG9yIHRvIGF1dG9tYXRpY2FsbHlcbiAqIGV2YWx1YXRlZCBwcmVjaXNpb24uXG4gKlxuICogQHBhcmFtICAge251bWJlcn0gbGF0IC0gTGF0aXR1ZGUgaW4gZGVncmVlcy5cbiAqIEBwYXJhbSAgIHtudW1iZXJ9IGxvbiAtIExvbmdpdHVkZSBpbiBkZWdyZWVzLlxuICogQHBhcmFtICAge251bWJlcn0gW3ByZWNpc2lvbl0gLSBOdW1iZXIgb2YgY2hhcmFjdGVycyBpbiByZXN1bHRpbmcgZ2VvaGFzaC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEdlb2hhc2ggb2Ygc3VwcGxpZWQgbGF0aXR1ZGUvbG9uZ2l0dWRlLlxuICogQHRocm93cyAgSW52YWxpZCBnZW9oYXNoLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgdmFyIGdlb2hhc2ggPSBHZW9oYXNoLmVuY29kZSg1Mi4yMDUsIDAuMTE5LCA3KTsgLy8gZ2VvaGFzaDogJ3UxMjBmeHcnXG4gKi9cbkdlb2hhc2guZW5jb2RlID0gZnVuY3Rpb24obGF0LCBsb24sIHByZWNpc2lvbikge1xuICAgIC8vIGluZmVyIHByZWNpc2lvbj9cbiAgICBpZiAodHlwZW9mIHByZWNpc2lvbiA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyByZWZpbmUgZ2VvaGFzaCB1bnRpbCBpdCBtYXRjaGVzIHByZWNpc2lvbiBvZiBzdXBwbGllZCBsYXQvbG9uXG4gICAgICAgIGZvciAodmFyIHA9MTsgcDw9MTI7IHArKykge1xuICAgICAgICAgICAgdmFyIGhhc2ggPSBHZW9oYXNoLmVuY29kZShsYXQsIGxvbiwgcCk7XG4gICAgICAgICAgICB2YXIgcG9zbiA9IEdlb2hhc2guZGVjb2RlKGhhc2gpO1xuICAgICAgICAgICAgaWYgKHBvc24ubGF0PT1sYXQgJiYgcG9zbi5sb249PWxvbikgcmV0dXJuIGhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgcHJlY2lzaW9uID0gMTI7IC8vIHNldCB0byBtYXhpbXVtXG4gICAgfVxuXG4gICAgbGF0ID0gTnVtYmVyKGxhdCk7XG4gICAgbG9uID0gTnVtYmVyKGxvbik7XG4gICAgcHJlY2lzaW9uID0gTnVtYmVyKHByZWNpc2lvbik7XG5cbiAgICBpZiAoaXNOYU4obGF0KSB8fCBpc05hTihsb24pIHx8IGlzTmFOKHByZWNpc2lvbikpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBnZW9oYXNoJyk7XG5cbiAgICB2YXIgaWR4ID0gMDsgLy8gaW5kZXggaW50byBiYXNlMzIgbWFwXG4gICAgdmFyIGJpdCA9IDA7IC8vIGVhY2ggY2hhciBob2xkcyA1IGJpdHNcbiAgICB2YXIgZXZlbkJpdCA9IHRydWU7XG4gICAgdmFyIGdlb2hhc2ggPSAnJztcblxuICAgIHZhciBsYXRNaW4gPSAgLTkwLCBsYXRNYXggPSAgOTA7XG4gICAgdmFyIGxvbk1pbiA9IC0xODAsIGxvbk1heCA9IDE4MDtcblxuICAgIHdoaWxlIChnZW9oYXNoLmxlbmd0aCA8IHByZWNpc2lvbikge1xuICAgICAgICBpZiAoZXZlbkJpdCkge1xuICAgICAgICAgICAgLy8gYmlzZWN0IEUtVyBsb25naXR1ZGVcbiAgICAgICAgICAgIHZhciBsb25NaWQgPSAobG9uTWluICsgbG9uTWF4KSAvIDI7XG4gICAgICAgICAgICBpZiAobG9uID49IGxvbk1pZCkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGlkeCoyICsgMTtcbiAgICAgICAgICAgICAgICBsb25NaW4gPSBsb25NaWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlkeCA9IGlkeCoyO1xuICAgICAgICAgICAgICAgIGxvbk1heCA9IGxvbk1pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJpc2VjdCBOLVMgbGF0aXR1ZGVcbiAgICAgICAgICAgIHZhciBsYXRNaWQgPSAobGF0TWluICsgbGF0TWF4KSAvIDI7XG4gICAgICAgICAgICBpZiAobGF0ID49IGxhdE1pZCkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGlkeCoyICsgMTtcbiAgICAgICAgICAgICAgICBsYXRNaW4gPSBsYXRNaWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlkeCA9IGlkeCoyO1xuICAgICAgICAgICAgICAgIGxhdE1heCA9IGxhdE1pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBldmVuQml0ID0gIWV2ZW5CaXQ7XG5cbiAgICAgICAgaWYgKCsrYml0ID09IDUpIHtcbiAgICAgICAgICAgIC8vIDUgYml0cyBnaXZlcyB1cyBhIGNoYXJhY3RlcjogYXBwZW5kIGl0IGFuZCBzdGFydCBvdmVyXG4gICAgICAgICAgICBnZW9oYXNoICs9IEdlb2hhc2guYmFzZTMyLmNoYXJBdChpZHgpO1xuICAgICAgICAgICAgYml0ID0gMDtcbiAgICAgICAgICAgIGlkeCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2VvaGFzaDtcbn07XG5cblxuLyoqXG4gKiBEZWNvZGUgZ2VvaGFzaCB0byBsYXRpdHVkZS9sb25naXR1ZGUgKGxvY2F0aW9uIGlzIGFwcHJveGltYXRlIGNlbnRyZSBvZiBnZW9oYXNoIGNlbGwsXG4gKiAgICAgdG8gcmVhc29uYWJsZSBwcmVjaXNpb24pLlxuICpcbiAqIEBwYXJhbSAgIHtzdHJpbmd9IGdlb2hhc2ggLSBHZW9oYXNoIHN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gbGF0aXR1ZGUvbG9uZ2l0dWRlLlxuICogQHJldHVybnMge3tsYXQ6bnVtYmVyLCBsb246bnVtYmVyfX0gKENlbnRlciBvZikgZ2VvaGFzaGVkIGxvY2F0aW9uLlxuICogQHRocm93cyAgSW52YWxpZCBnZW9oYXNoLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgdmFyIGxhdGxvbiA9IEdlb2hhc2guZGVjb2RlKCd1MTIwZnh3Jyk7IC8vIGxhdGxvbjogeyBsYXQ6IDUyLjIwNSwgbG9uOiAwLjExODggfVxuICovXG5HZW9oYXNoLmRlY29kZSA9IGZ1bmN0aW9uKGdlb2hhc2gpIHtcblxuICAgIHZhciBib3VuZHMgPSBHZW9oYXNoLmJvdW5kcyhnZW9oYXNoKTsgLy8gPC0tIHRoZSBoYXJkIHdvcmtcbiAgICAvLyBub3cganVzdCBkZXRlcm1pbmUgdGhlIGNlbnRyZSBvZiB0aGUgY2VsbC4uLlxuXG4gICAgdmFyIGxhdE1pbiA9IGJvdW5kcy5zdy5sYXQsIGxvbk1pbiA9IGJvdW5kcy5zdy5sb247XG4gICAgdmFyIGxhdE1heCA9IGJvdW5kcy5uZS5sYXQsIGxvbk1heCA9IGJvdW5kcy5uZS5sb247XG5cbiAgICAvLyBjZWxsIGNlbnRyZVxuICAgIHZhciBsYXQgPSAobGF0TWluICsgbGF0TWF4KS8yO1xuICAgIHZhciBsb24gPSAobG9uTWluICsgbG9uTWF4KS8yO1xuXG4gICAgLy8gcm91bmQgdG8gY2xvc2UgdG8gY2VudHJlIHdpdGhvdXQgZXhjZXNzaXZlIHByZWNpc2lvbjog4oyKMi1sb2cxMCjOlMKwKeKMiyBkZWNpbWFsIHBsYWNlc1xuICAgIGxhdCA9IGxhdC50b0ZpeGVkKE1hdGguZmxvb3IoMi1NYXRoLmxvZyhsYXRNYXgtbGF0TWluKS9NYXRoLkxOMTApKTtcbiAgICBsb24gPSBsb24udG9GaXhlZChNYXRoLmZsb29yKDItTWF0aC5sb2cobG9uTWF4LWxvbk1pbikvTWF0aC5MTjEwKSk7XG5cbiAgICByZXR1cm4geyBsYXQ6IE51bWJlcihsYXQpLCBsb246IE51bWJlcihsb24pIH07XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyBTVy9ORSBsYXRpdHVkZS9sb25naXR1ZGUgYm91bmRzIG9mIHNwZWNpZmllZCBnZW9oYXNoLlxuICpcbiAqIEBwYXJhbSAgIHtzdHJpbmd9IGdlb2hhc2ggLSBDZWxsIHRoYXQgYm91bmRzIGFyZSByZXF1aXJlZCBvZi5cbiAqIEByZXR1cm5zIHt7c3c6IHtsYXQ6IG51bWJlciwgbG9uOiBudW1iZXJ9LCBuZToge2xhdDogbnVtYmVyLCBsb246IG51bWJlcn19fVxuICogQHRocm93cyAgSW52YWxpZCBnZW9oYXNoLlxuICovXG5HZW9oYXNoLmJvdW5kcyA9IGZ1bmN0aW9uKGdlb2hhc2gpIHtcbiAgICBpZiAoZ2VvaGFzaC5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBnZW9oYXNoJyk7XG5cbiAgICBnZW9oYXNoID0gZ2VvaGFzaC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgdmFyIGV2ZW5CaXQgPSB0cnVlO1xuICAgIHZhciBsYXRNaW4gPSAgLTkwLCBsYXRNYXggPSAgOTA7XG4gICAgdmFyIGxvbk1pbiA9IC0xODAsIGxvbk1heCA9IDE4MDtcblxuICAgIGZvciAodmFyIGk9MDsgaTxnZW9oYXNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaHIgPSBnZW9oYXNoLmNoYXJBdChpKTtcbiAgICAgICAgdmFyIGlkeCA9IEdlb2hhc2guYmFzZTMyLmluZGV4T2YoY2hyKTtcbiAgICAgICAgaWYgKGlkeCA9PSAtMSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGdlb2hhc2gnKTtcblxuICAgICAgICBmb3IgKHZhciBuPTQ7IG4+PTA7IG4tLSkge1xuICAgICAgICAgICAgdmFyIGJpdE4gPSBpZHggPj4gbiAmIDE7XG4gICAgICAgICAgICBpZiAoZXZlbkJpdCkge1xuICAgICAgICAgICAgICAgIC8vIGxvbmdpdHVkZVxuICAgICAgICAgICAgICAgIHZhciBsb25NaWQgPSAobG9uTWluK2xvbk1heCkgLyAyO1xuICAgICAgICAgICAgICAgIGlmIChiaXROID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9uTWluID0gbG9uTWlkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvbk1heCA9IGxvbk1pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGxhdGl0dWRlXG4gICAgICAgICAgICAgICAgdmFyIGxhdE1pZCA9IChsYXRNaW4rbGF0TWF4KSAvIDI7XG4gICAgICAgICAgICAgICAgaWYgKGJpdE4gPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBsYXRNaW4gPSBsYXRNaWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGF0TWF4ID0gbGF0TWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW5CaXQgPSAhZXZlbkJpdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBib3VuZHMgPSB7XG4gICAgICAgIHN3OiB7IGxhdDogbGF0TWluLCBsb246IGxvbk1pbiB9LFxuICAgICAgICBuZTogeyBsYXQ6IGxhdE1heCwgbG9uOiBsb25NYXggfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGJvdW5kcztcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGFkamFjZW50IGNlbGwgaW4gZ2l2ZW4gZGlyZWN0aW9uLlxuICpcbiAqIEBwYXJhbSAgIGdlb2hhc2ggLSBDZWxsIHRvIHdoaWNoIGFkamFjZW50IGNlbGwgaXMgcmVxdWlyZWQuXG4gKiBAcGFyYW0gICBkaXJlY3Rpb24gLSBEaXJlY3Rpb24gZnJvbSBnZW9oYXNoIChOL1MvRS9XKS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEdlb2NvZGUgb2YgYWRqYWNlbnQgY2VsbC5cbiAqIEB0aHJvd3MgIEludmFsaWQgZ2VvaGFzaC5cbiAqL1xuR2VvaGFzaC5hZGphY2VudCA9IGZ1bmN0aW9uKGdlb2hhc2gsIGRpcmVjdGlvbikge1xuICAgIC8vIGJhc2VkIG9uIGdpdGh1Yi5jb20vZGF2ZXRyb3kvZ2VvaGFzaC1qc1xuXG4gICAgZ2VvaGFzaCA9IGdlb2hhc2gudG9Mb3dlckNhc2UoKTtcbiAgICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24udG9Mb3dlckNhc2UoKTtcblxuICAgIGlmIChnZW9oYXNoLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGdlb2hhc2gnKTtcbiAgICBpZiAoJ25zZXcnLmluZGV4T2YoZGlyZWN0aW9uKSA9PSAtMSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRpcmVjdGlvbicpO1xuXG4gICAgdmFyIG5laWdoYm91ciA9IHtcbiAgICAgICAgbjogWyAncDByMjE0MzZ4OHpiOWRjZjVoN2tqbm1xZXNndXR3dnknLCAnYmMwMWZnNDUyMzg5NjdkZXV2aGp5em5wa21zdHFyd3gnIF0sXG4gICAgICAgIHM6IFsgJzE0MzY1aDdrOWRjZmVzZ3Vqbm1xcDByMnR3dnl4OHpiJywgJzIzODk2N2RlYmMwMWZnNDVrbXN0cXJ3eHV2aGp5em5wJyBdLFxuICAgICAgICBlOiBbICdiYzAxZmc0NTIzODk2N2RldXZoanl6bnBrbXN0cXJ3eCcsICdwMHIyMTQzNng4emI5ZGNmNWg3a2pubXFlc2d1dHd2eScgXSxcbiAgICAgICAgdzogWyAnMjM4OTY3ZGViYzAxZmc0NWttc3Rxcnd4dXZoanl6bnAnLCAnMTQzNjVoN2s5ZGNmZXNndWpubXFwMHIydHd2eXg4emInIF0sXG4gICAgfTtcbiAgICB2YXIgYm9yZGVyID0ge1xuICAgICAgICBuOiBbICdwcnh6JywgICAgICdiY2ZndXZ5eicgXSxcbiAgICAgICAgczogWyAnMDI4YicsICAgICAnMDE0NWhqbnAnIF0sXG4gICAgICAgIGU6IFsgJ2JjZmd1dnl6JywgJ3ByeHonICAgICBdLFxuICAgICAgICB3OiBbICcwMTQ1aGpucCcsICcwMjhiJyAgICAgXSxcbiAgICB9O1xuXG4gICAgdmFyIGxhc3RDaCA9IGdlb2hhc2guc2xpY2UoLTEpOyAgICAvLyBsYXN0IGNoYXJhY3RlciBvZiBoYXNoXG4gICAgdmFyIHBhcmVudCA9IGdlb2hhc2guc2xpY2UoMCwgLTEpOyAvLyBoYXNoIHdpdGhvdXQgbGFzdCBjaGFyYWN0ZXJcblxuICAgIHZhciB0eXBlID0gZ2VvaGFzaC5sZW5ndGggJSAyO1xuXG4gICAgLy8gY2hlY2sgZm9yIGVkZ2UtY2FzZXMgd2hpY2ggZG9uJ3Qgc2hhcmUgY29tbW9uIHByZWZpeFxuICAgIGlmIChib3JkZXJbZGlyZWN0aW9uXVt0eXBlXS5pbmRleE9mKGxhc3RDaCkgIT0gLTEgJiYgcGFyZW50ICE9PSAnJykge1xuICAgICAgICBwYXJlbnQgPSBHZW9oYXNoLmFkamFjZW50KHBhcmVudCwgZGlyZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBhcHBlbmQgbGV0dGVyIGZvciBkaXJlY3Rpb24gdG8gcGFyZW50XG4gICAgcmV0dXJuIHBhcmVudCArIEdlb2hhc2guYmFzZTMyLmNoYXJBdChuZWlnaGJvdXJbZGlyZWN0aW9uXVt0eXBlXS5pbmRleE9mKGxhc3RDaCkpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgYWxsIDggYWRqYWNlbnQgY2VsbHMgdG8gc3BlY2lmaWVkIGdlb2hhc2guXG4gKlxuICogQHBhcmFtICAge3N0cmluZ30gZ2VvaGFzaCAtIEdlb2hhc2ggbmVpZ2hib3VycyBhcmUgcmVxdWlyZWQgb2YuXG4gKiBAcmV0dXJucyB7e24sbmUsZSxzZSxzLHN3LHcsbnc6IHN0cmluZ319XG4gKiBAdGhyb3dzICBJbnZhbGlkIGdlb2hhc2guXG4gKi9cbkdlb2hhc2gubmVpZ2hib3VycyA9IGZ1bmN0aW9uKGdlb2hhc2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAnbic6ICBHZW9oYXNoLmFkamFjZW50KGdlb2hhc2gsICduJyksXG4gICAgICAgICduZSc6IEdlb2hhc2guYWRqYWNlbnQoR2VvaGFzaC5hZGphY2VudChnZW9oYXNoLCAnbicpLCAnZScpLFxuICAgICAgICAnZSc6ICBHZW9oYXNoLmFkamFjZW50KGdlb2hhc2gsICdlJyksXG4gICAgICAgICdzZSc6IEdlb2hhc2guYWRqYWNlbnQoR2VvaGFzaC5hZGphY2VudChnZW9oYXNoLCAncycpLCAnZScpLFxuICAgICAgICAncyc6ICBHZW9oYXNoLmFkamFjZW50KGdlb2hhc2gsICdzJyksXG4gICAgICAgICdzdyc6IEdlb2hhc2guYWRqYWNlbnQoR2VvaGFzaC5hZGphY2VudChnZW9oYXNoLCAncycpLCAndycpLFxuICAgICAgICAndyc6ICBHZW9oYXNoLmFkamFjZW50KGdlb2hhc2gsICd3JyksXG4gICAgICAgICdudyc6IEdlb2hhc2guYWRqYWNlbnQoR2VvaGFzaC5hZGphY2VudChnZW9oYXNoLCAnbicpLCAndycpLFxuICAgIH07XG59O1xuXG5cbi8qIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAgKi9cbmlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0cyA9IEdlb2hhc2g7IC8vIENvbW1vbkpTLCBub2RlLmpzXG4iLCJcbihmdW5jdGlvbiAoUHJveGlzdG9yZSkge1xuICB2YXIgbWVzc2FnZXMgPSB7XG4gICAgZnI6IHtcbiAgICAgIEZSQTogJ0ZyYW5jZScsXG4gICAgICBCRUw6ICdCZWxnaXF1ZScsXG4gICAgICBFU1A6ICdFc3BhZ25lJyxcbiAgICAgIFVOS05PV05fUE9TSVRJT046ICdQb3NpdGlvbiBpbmNvbm51ZScsXG4gICAgICBERVNDX0lQX0RJU1FVQUxJRklFRDogJ1NlbG9uIHZvdHJlIElQIGRpc3F1YWxpZmnDqWUnLFxuICAgICAgREVTQ19VTlNIQVJFRDogJ1Bvc2l0aW9uIG5vbiBwYXJ0YWfDqWUnLFxuICAgICAgREVTQ19JUF9RVUFMSUZJRUQ6ICdTZWxvbiB2b3RyZSBJUCBxdWFsaWZpw6llJyxcbiAgICAgIERFU0NfSFRNTDU6ICdTZWxvbiBsYSBwb3NpdGlvbiBkZSB2b3RyZSBhcHBhcmVpbCcsXG4gICAgICBERVNDX01BTlVBTDogJ1NlbG9uIHZvdHJlIHBvc2l0aW9uIGVuY29kw6llIG1hbnVlbGxlbWVudCcsXG4gICAgICBSRUxPQ0FUSU9OOlxuICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwicHhzLWxpbmtcIj5SYWZyYSZpY2lyYztjaGlzc2V6PC9idXR0b24+IG91IDxidXR0b24gY2xhc3M9XCJweHMtbGlua1wiPm1vZGlmaWV6IHZvdHJlIHBvc2l0aW9uPC9idXR0b24+JyxcbiAgICAgIE1PUkVfSU5GTzogXCJQbHVzIGQnaW5mb3NcIixcbiAgICAgIFBPU0lUSU9OX0JMT0NLRUQ6ICdWb3RyZSBuYXZpZ2F0ZXVyIGJsb3F1ZSBhY3R1ZWxsZW1lbnQgbGEgbG9jYWxpc2F0aW9uLicsXG4gICAgICBDTE9TRTogJ0Zlcm1lcicsXG4gICAgICBERVRBSUw6ICdEw6l0YWlsJyxcbiAgICAgIFJFRlVTRV9HRU9MT0M6ICdOZSBwbHVzIMOqdHJlIGxvY2FsaXPDqScsXG4gICAgICBCRV9HRU9MT0M6ICfDinRyZSBsb2NhbGlzw6knLFxuICAgICAgTk9UX1NVUFBPUlRFRDogXCJWb3RyZSBuYXZpZ2F0ZXVyIG4nZXN0IHBhcyBzdXBwb3J0w6lcIixcbiAgICB9LFxuICAgIG5sOiB7XG4gICAgICBGUkE6ICdGcmFua3JpamsnLFxuICAgICAgQkVMOiAnQmVsZ2nDqycsXG4gICAgICBFU1A6ICdTcGFuamUnLFxuICAgICAgVU5LTk9XTl9QT1NJVElPTjogJ09uYmVrZW5kZSBwb3NpdGllJyxcbiAgICAgIERFU0NfSVBfRElTUVVBTElGSUVEOiAnVm9sZ2VucyB1dyBnZWRpc2t3YWxpZmljZWVyZCBJUCcsXG4gICAgICBERVNDX0lQX1FVQUxJRklFRDogJ1ZvbGdlbnMgdXcgZ2Vrd2FsaWZpY2VlcmQgSVAnLFxuICAgICAgREVTQ19VTlNIQVJFRDogJ25pZXQgZ2VkZWVsZGUgbG9rYWxpc2F0aWUnLFxuICAgICAgREVTQ19IVE1MNTogJ1ZvbGdlbnMgZGUgbG9rYWxpc2F0aWUgdmFuIHV3IHRvZXN0ZWwnLFxuICAgICAgREVTQ19NQU5VQUw6ICdWb2xnZW5zIGRlIGxva2FsaXNhdGllIGRhdCB1dyBtYW51ZWVsIGhlZWZ0IGdlY29kZWVyZGUnLFxuICAgICAgUkVMT0NBVElPTjpcbiAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInB4cy1saW5rXCI+VXBkYXRlPC9idXR0b24+IG9mIDxidXR0b24gY2xhc3M9XCJweHMtbGlua1wiPnZlcmFuZGVyIHV3IGxva2FsaXNhdGllPC9idXR0b24+JyxcbiAgICAgIE1PUkVfSU5GTzogJ01lZXIgaW5mbycsXG4gICAgICBQT1NJVElPTl9CTE9DS0VEOiAnVXcgbmF2aWdhdG9yIGJsb2trZWVydCBtb21lbnRlZWwgZGUgbG9rYWxpc2F0aWUuJyxcbiAgICAgIENMT1NFOiAnU2x1aXRlbicsXG4gICAgICBERVRBSUw6ICdEZXRhaWwnLFxuICAgICAgUkVGVVNFX0dFT0xPQzogJ0lrIHdpbCBuaWV0IGdlbG9rYWxpc2VlcmQgemlqbicsXG4gICAgICBCRV9HRU9MT0M6ICdJayB3aWwgZ2Vsb2thbGlzZWVyZCB6aWpuJyxcbiAgICAgIE5PVF9TVVBQT1JURUQ6ICdVdyBicm93c2VyIGlzIG5pZXQgY29tcGF0aWJlbCBtZXQgb256ZSBzeXN0ZW0nLFxuICAgIH0sXG4gICAgZXM6IHtcbiAgICAgIEZSQTogJ0ZyYW5jaWEnLFxuICAgICAgQkVMOiAnQsOpbGdpY2EnLFxuICAgICAgRVNQOiAnRXNwYcOxYScsXG4gICAgICBVTktOT1dOX1BPU0lUSU9OOiAnUG9zaWNpw7NuIGRlc2Nvbm9jaWRhJyxcbiAgICAgIERFU0NfSVBfRElTUVVBTElGSUVEOiAnU2Vnw7puIHN1IElQIGRlc2NhbGlmaWNhZGEnLFxuICAgICAgREVTQ19JUF9RVUFMSUZJRUQ6ICdTZWfDum4gc3UgSVAgY2FsaWZpY2FkYScsXG4gICAgICBERVNDX0hUTUw1OiAnU2Vnw7puIGxhIHBvc2ljacOzbiBkZSBzdSBkaXNwb3NpdGl2bycsXG4gICAgICBERVNDX01BTlVBTDogJ1NlZ8O6biBzdSBwb3NpY2nDs24gY29kaWZpY2FkYSBtYW51YWxtZW50ZScsXG4gICAgICBERVNDX1VOU0hBUkVEOiAnUG9zaXRpb24gbm9uIHBhcnRhZ8OpZScsXG4gICAgICBSRUxPQ0FUSU9OOlxuICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwicHhzLWxpbmtcIj5SZWZyZXNjYXI8L2J1dHRvbj4gbyA8YnV0dG9uIGNsYXNzPVwicHhzLWxpbmtcIj5tb2RpZmljYXIgc3UgcG9zaWNpw7NuPC9idXR0b24+JyxcbiAgICAgIE1PUkVfSU5GTzogJ03DoXMgaW5mb3JtYWNpw7NuJyxcbiAgICAgIFBPU0lUSU9OX0JMT0NLRUQ6XG4gICAgICAgICAgJ1R1IG5hdmVnYWRvciBlc3TDoSBhY3R1YWxtZW50ZSBibG9xdWVhbmRvIGxhIGxvY2FsaXphY2nDs24uJyxcbiAgICAgIENMT1NFOiAnQ2VyY2EnLFxuICAgICAgREVUQUlMOiAnRGV0YWxsZScsXG4gICAgICBSRUZVU0VfR0VPTE9DOiAnJyxcbiAgICAgIEJFX0dFT0xPQzogJycsXG4gICAgICBOT1RfU1VQUE9SVEVEOiAnJyxcbiAgICB9LFxuICAgIGVuOiB7XG4gICAgICBGUkE6ICdGcmFuY2UnLFxuICAgICAgQkVMOiAnQmVsZ2l1bScsXG4gICAgICBFU1A6ICdTcGFpbicsXG4gICAgICBVTktOT1dOX1BPU0lUSU9OOiAnVW5rbm93biBwb3NpdGlvbicsXG4gICAgICBERVNDX0lQX0RJU1FVQUxJRklFRDogJ0Jhc2VkIG9uIHlvdXIgZGlzcXVhbGlmaWVkIElQJyxcbiAgICAgIERFU0NfSVBfUVVBTElGSUVEOiAnRnJvbSB5b3VyIHF1YWxpZmllZCBJUCcsXG4gICAgICBERVNDX1VOU0hBUkVEOiAnVW5zaGFyZWQgbG9jYXRpb24nLFxuICAgICAgREVTQ19IVE1MNTogJ0Zyb20geW91ciBkZXZpY2UgcG9zaXRpb24nLFxuICAgICAgREVTQ19NQU5VQUw6ICdGcm9tIHlvdXIgbWFudWFsbHkgZW5jb2RlZCBsb2NhdGlvbicsXG4gICAgICBSRUxPQ0FUSU9OOlxuICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwicHhzLWxpbmtcIj5SZWZyZXNoPC9idXR0b24+IG9yIDxidXR0b24gY2xhc3M9XCJweHMtbGlua1wiPnVwZGF0ZSB5b3VyIGxvY2F0aW9uPC9idXR0b24+JyxcbiAgICAgIE1PUkVfSU5GTzogJ01vcmUgaW5mbycsXG4gICAgICBQT1NJVElPTl9CTE9DS0VEOiAnWW91ciBicm93c2VyIGlzIGN1cnJlbnRseSBibG9ja2luZyB0aGUgcG9zaXRpb24uJyxcbiAgICAgIENMT1NFOiAnQ2xvc2UnLFxuICAgICAgREVUQUlMOiAnRGV0YWlsJyxcbiAgICAgIFJFRlVTRV9HRU9MT0M6ICdEb27igJl0IGJlIGxvY2F0ZWQnLFxuICAgICAgQkVfR0VPTE9DOiAnQmUgbG9jYXRlZCcsXG4gICAgICBOT1RfU1VQUE9SVEVEOiAnWW91ciBuYXZpZ2F0b3IgaXMgbm90IHN1cHBvcnRlZCcsXG4gICAgfSxcbiAgfTtcblxuXG4gIGZ1bmN0aW9uIGRpc3BsYXlOb25lKGNvbnRhaW5lcikge1xuICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgZnVuY3Rpb24gbWVzc2FnZShrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBsYW5ndWFnZSA9IFByb3hpc3RvcmUuY29uZmlnKCkubGFuZ3VhZ2U7XG4gICAgaWYgKCFtZXNzYWdlc1tsYW5ndWFnZV0pIGxhbmd1YWdlID0gJ2VuJztcbiAgICByZXR1cm4gbWVzc2FnZXNbbGFuZ3VhZ2VdW2tleV0gfHwgZGVmYXVsdFZhbHVlIHx8ICcnO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlV2lkZ2V0KHBhcmVudEVsZW1lbnRJZCkge1xuICAgIHZhciB3aWRnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRFbGVtZW50SWQpO1xuICAgIGlmICh3aWRnZXQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluZmVycmVkQ2xhc3NOYW1lKCkge1xuICAgICAgdmFyIHRoZW1lQ2xhc3NOYW1lcyA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgICAgIHZhciBpdGVtcyA9IHRoZW1lQ2xhc3NOYW1lcy5zcGxpdCgnLicpO1xuICAgICAgdmFyIHJlc3VsdCA9XG4gICAgICAgICAgaXRlbXMubGVuZ3RoID49IDJcbiAgICAgICAgICAgICAgPyBpdGVtc1tpdGVtcy5sZW5ndGggLSAyXSArICctJyArIGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICAgIDogaXRlbXNbMF07XG4gICAgICByZXR1cm4gJ3B4cy1jdXN0b20tJyArIHJlc3VsdDtcbiAgICB9XG5cbiAgICB2YXIgdGhlbWVOYW1lID0gZnVuY3Rpb24gKHRoZW1lQ2xhc3NOYW1lcykge1xuICAgICAgcmV0dXJuIHRoZW1lQ2xhc3NOYW1lcztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0U2hvcnRNb2JpbGVNb2RlKCkge1xuICAgICAgaWYgKFByb3hpc3RvcmUuaXNNb2JpbGUoKSkge1xuICAgICAgICB3aWRnZXQuaW5uZXJIVE1MID0gd2lkZ2V0LmlubmVySFRNTC5yZXBsYWNlKFxuICAgICAgICAgICAgJ3B4cy13aWRnZXQnLFxuICAgICAgICAgICAgJ3B4cy13aWRnZXQgcHhzLW1pbmknXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBjb3VudHJ5RWxlbWVudElkID0gcGFyZW50RWxlbWVudElkICsgJy1jb3VudHJ5JztcbiAgICB2YXIgbG9jYXRpb25FbGVtZW50SWQgPSBwYXJlbnRFbGVtZW50SWQgKyAnLWxvY2F0aW9uJztcbiAgICB2YXIgZGVzY3JpcHRpb25FbGVtZW50SWQgPSBwYXJlbnRFbGVtZW50SWQgKyAnLWRlc2NyJztcbiAgICB2YXIgcmVsb2NhdGlvbkVsZW1lbnRJZCA9IHBhcmVudEVsZW1lbnRJZCArICctcmVsb2MnO1xuICAgIHZhciBtb3JlSW5mb0VsZW1lbnRJZCA9IHBhcmVudEVsZW1lbnRJZCArICctbW9yZSc7XG4gICAgdmFyIG1vZGFsRWxlbWVudElkID0gcGFyZW50RWxlbWVudElkICsgJy1tb2RhbCc7XG4gICAgdmFyIG1vZGFsSUZyYW1lRWxlbWVudElkID0gcGFyZW50RWxlbWVudElkICsgJy1tb2RhbC1pZnJhbWUnO1xuICAgIHZhciBjdXN0b21DbGFzc05hbWUgPVxuICAgICAgICBQcm94aXN0b3JlLmNvbmZpZygpLmN1c3RvbUNsYXNzTmFtZSB8fCBpbmZlcnJlZENsYXNzTmFtZSgpO1xuICAgIHZhciBub3RpZmljYXRpb25Ub29sYmFySWQgPSAncHgtdG9vbGJhcic7XG4gICAgaWYgKCEhUHJveGlzdG9yZS5jb25maWcoKS5kYXJrVGhlbWUpIHtcbiAgICAgIGN1c3RvbUNsYXNzTmFtZSArPSAnIHB4cy10aGVtZS1kYXJrJztcbiAgICB9XG4gICAgdGhlbWVOYW1lKGN1c3RvbUNsYXNzTmFtZSk7XG5cbiAgICB2YXIgbGF0ZXN0UG9zaXRpb24sIGxhdGVzdFNob3dNYXJrZXI7XG5cbiAgICBmdW5jdGlvbiBzZXRDb3VudHJ5KGNvdW50cnkpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdW50cnlFbGVtZW50SWQpLnRleHRDb250ZW50ID0gY291bnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRMb2NhdGlvbihsb2NhdGlvbikge1xuICAgICAgdmFyIG5vZGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobG9jYXRpb25FbGVtZW50SWQpLmNoaWxkTm9kZXM7XG4gICAgICBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXS5ub2RlVmFsdWUgPSBsb2NhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXREZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVzY3JpcHRpb25FbGVtZW50SWQpLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UmVsb2NhdGlvbihyZWxvY2F0aW9uKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZWxvY2F0aW9uRWxlbWVudElkKS5pbm5lckhUTUwgPSByZWxvY2F0aW9uO1xuICAgICAgLy8gTXVzdCBhdHRhY2ggdGhlIGNsaWNrIGV2ZXJ5IHRpbWUgdGhlIGlubmVySFRNTCBpcyBjaGFuZ2VkXG4gICAgICBkb2N1bWVudFxuICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChyZWxvY2F0aW9uRWxlbWVudElkKVxuICAgICAgICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnV0dG9uJylbMF0ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFqYXggPSBuZXcgUHJveGlzdG9yZS5BamF4KCk7XG4gICAgICAgIHZhciB1cmwgPSBQcm94aXN0b3JlLmNvbmZpZygpLmFwaVJvb3RWZXJzaW9uZWRVcmwgKyAnL2Nvb2tpZS9nZW8nO1xuICAgICAgICBhamF4LmRlbGV0ZSh1cmwpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKFByb3hpc3RvcmUuY29uZmlnKCkuaGFzQ29uc2VudClcbiAgICAgICAgICAgICAgICBQcm94aXN0b3JlLmVtLnB1Ymxpc2goUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9SRVFVRVNURUQsIHt9KTtcbiAgICAgICAgICAgICAgdmFyIG1zZyA9IG1lc3NhZ2UoJ1JFRlVTRV9HRU9MT0MnKTtcbiAgICAgICAgICAgICAgdmFyIHVudHJhY2tMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VudHJhY2snKTtcbiAgICAgICAgICAgICAgdW50cmFja0xpbmsuaW5uZXJIVE1MID0gbXNnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgdmFyIGljb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncHhzLWRvdCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGljb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWNvbnNbaV0uY2xhc3NOYW1lICs9ICcgcHhzLXR1cm4nO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdweC10b29sYmFyJykuY2xhc3NOYW1lICs9ICdjYW5TaG93JztcbiAgICAgICAgUHJveGlzdG9yZS5lbS5wdWJsaXNoKFByb3hpc3RvcmUuZW0uR0VPTE9DQVRJT05fUkVRVUVTVEVELCB7XG4gICAgICAgICAgZm9yY2VIdG1sNTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBkb2N1bWVudFxuICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChyZWxvY2F0aW9uRWxlbWVudElkKVxuICAgICAgICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnV0dG9uJylbMV0ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFByb3hpc3RvcmUuY29uZmlnKCkuaGFzQ29uc2VudClcbiAgICAgICAgICBQcm94aXN0b3JlLmVtLnB1Ymxpc2goUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9SRVFVRVNURUQsIHt9KTtcblxuICAgICAgICB2YXIgcHhfaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobW9kYWxJRnJhbWVFbGVtZW50SWQpO1xuICAgICAgICB2YXIgc3JjID1cbiAgICAgICAgICAgIFByb3hpc3RvcmUuY29uZmlnKCkuYXBpUm9vdCArXG4gICAgICAgICAgICAnL2Fzc2V0cy9odG1sL2dlb2xvY2F0aW9uLmh0bWw/bGFuZ3VhZ2U9JyArXG4gICAgICAgICAgICBQcm94aXN0b3JlLmNvbmZpZygpLmxhbmd1YWdlICtcbiAgICAgICAgICAgICcmZ29vZ2xlQXBpS2V5PScgK1xuICAgICAgICAgICAgUHJveGlzdG9yZS5jb25maWcoKS5nb29nbGVBcGlLZXkgK1xuICAgICAgICAgICAgJyZhcGlSb290PScgK1xuICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KFByb3hpc3RvcmUuY29uZmlnKCkuYXBpUm9vdCk7XG4gICAgICAgIHB4X2lmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gICAgICAgIHZhciBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsRWxlbWVudElkKTtcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIC8qc2V0Rm9jdXNPbklucHV0KCk7Ki9cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UmVmdXNlR2VvbG9jKHJlZnVzZUdlb2xvYykge1xuICAgICAgdmFyIHVudHJhY2tMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VudHJhY2snKTtcbiAgICAgIHVudHJhY2tMaW5rLmlubmVySFRNTCA9IHJlZnVzZUdlb2xvYztcbiAgICAgIHVudHJhY2tMaW5rLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRleHRDb250ZW50ID09PSBtZXNzYWdlKCdSRUZVU0VfR0VPTE9DJykpIHtcbiAgICAgICAgICBpZiAoUHJveGlzdG9yZS5jb25maWcoKS5oYXNDb25zZW50KVxuICAgICAgICAgICAgUHJveGlzdG9yZS5lbS5wdWJsaXNoKFByb3hpc3RvcmUuZW0uR0VPTE9DQVRJT05fUkVGVVNFRCk7XG4gICAgICAgICAgdmFyIG1zZyA9IG1lc3NhZ2UoJ0JFX0dFT0xPQycpO1xuICAgICAgICAgIHVudHJhY2tMaW5rLmlubmVySFRNTCA9IG1zZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYWpheCA9IG5ldyBQcm94aXN0b3JlLkFqYXgoKTtcbiAgICAgICAgICB2YXIgdXJsID0gUHJveGlzdG9yZS5jb25maWcoKS5hcGlSb290VmVyc2lvbmVkVXJsICsgJy9jb29raWUvZ2VvJztcbiAgICAgICAgICBhamF4LmRlbGV0ZSh1cmwpLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChQcm94aXN0b3JlLmNvbmZpZygpLmhhc0NvbnNlbnQpXG4gICAgICAgICAgICAgICAgICBQcm94aXN0b3JlLmVtLnB1Ymxpc2goUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9SRVFVRVNURUQsIHt9KTtcbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gbWVzc2FnZSgnUkVGVVNFX0dFT0xPQycpO1xuICAgICAgICAgICAgICAgIHVudHJhY2tMaW5rLmlubmVySFRNTCA9IG1zZztcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBhcmVNb2RhbCgpIHtcbiAgICAgIC8vIEdldCB0aGUgbW9kYWxcbiAgICAgIHZhciBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsRWxlbWVudElkKTtcbiAgICAgIC8vIEdldCB0aGUgPHNwYW4+IGVsZW1lbnQgdGhhdCBjbG9zZXMgdGhlIG1vZGFsXG4gICAgICBtb2RhbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdweHMtbW9kYWwtY2xvc2UnKVswXS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBpZiAoUHJveGlzdG9yZS5jb25maWcoKS5oYXNDb25zZW50KVxuICAgICAgICAgIFByb3hpc3RvcmUuZW0ucHVibGlzaChQcm94aXN0b3JlLmVtLkdFT0xPQ0FUSU9OX1JFUVVFU1RFRCwge30pO1xuICAgICAgfTtcblxuICAgICAgLy8gV2hlbiB0aGUgdXNlciBjbGlja3MgYW55d2hlcmUgb3V0c2lkZSBvZiB0aGUgbW9kYWwsIGNsb3NlIGl0XG4gICAgICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpO1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBtb2RhbCkge1xuICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgaWYgKFByb3hpc3RvcmUuY29uZmlnKCkuaGFzQ29uc2VudClcbiAgICAgICAgICAgIFByb3hpc3RvcmUuZW0ucHVibGlzaChQcm94aXN0b3JlLmVtLkdFT0xPQ0FUSU9OX1JFUVVFU1RFRCwge30pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBpRnJhbWVMb2FkZWQoKSB7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQobW9kYWxJRnJhbWVFbGVtZW50SWQpXG4gICAgICAgICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGlGcmFtZUxvYWRlZCk7XG4gICAgICAgIGlmIChsYXRlc3RQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgdXBkYXRlTWFwQ2VudGVyKGxhdGVzdFBvc2l0aW9uLCBsYXRlc3RTaG93TWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkb2N1bWVudFxuICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChtb2RhbElGcmFtZUVsZW1lbnRJZClcbiAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGlGcmFtZUxvYWRlZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgbWFwIGNlbnRlcmluZyBpbiB0aGUgaUZyYW1lIHdoZW4gdGhlIHBvc2l0aW9uIGhhcyBjaGFuZ2VkXG4gICAgZnVuY3Rpb24gdXBkYXRlTWFwQ2VudGVyKHBvc2l0aW9uLCBzaG93TWFya2VyKSB7XG4gICAgICAvLyB7bGF0LCBsb259LCB0cnVlL2ZhbHNlXG4gICAgICBsYXRlc3RQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgbGF0ZXN0U2hvd01hcmtlciA9IHNob3dNYXJrZXI7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9zdE1lc3NhZ2VUb0lGcmFtZSgndXBkYXRlLW1hcC1jZW50ZXInLCB7XG4gICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgIHNob3dNYXJrZXI6IHNob3dNYXJrZXIsXG4gICAgICAgIH0pO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBmb2N1cyBvbiB0aGUgaW5wdXQgZmllbGQgb2YgdGhlIGlGcmFtZVxuICAgIGZ1bmN0aW9uIHNldEZvY3VzT25JbnB1dCgpIHtcbiAgICAgIHBvc3RNZXNzYWdlVG9JRnJhbWUoJ3NldC1mb2N1cy1vbi1pbnB1dCcsIG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc3RNZXNzYWdlVG9JRnJhbWUodHlwZSwgZGF0YSkge1xuICAgICAgdmFyIGlGcmFtZVdpbmRvdyA9XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobW9kYWxJRnJhbWVFbGVtZW50SWQpLmNvbnRlbnRXaW5kb3c7XG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgaUZyYW1lV2luZG93LnBvc3RNZXNzYWdlKHsgdHlwZTogdHlwZSwgZGF0YTogZGF0YSB9LCAnKicsIFtcbiAgICAgICAgY2hhbm5lbC5wb3J0MixcbiAgICAgIF0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE1vcmVJbmZvKG1vcmVJbmZvKSB7XG4gICAgICBjb25zdCBocmVmVmFsdWUgPSBnZXRIcmVmVmFsdWUoKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5weHMtbW9yZScpLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWZWYWx1ZSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHhzLW1vcmUnKS50ZXh0Q29udGVudCA9IG1vcmVJbmZvO1xuICAgICAgZnVuY3Rpb24gZ2V0SHJlZlZhbHVlKCkge1xuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IFByb3hpc3RvcmUuY29uZmlnKCkubGFuZ3VhZ2U7XG4gICAgICAgIGlmIChsYW5ndWFnZSA9PT0gJ2ZyJykge1xuICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly93d3cucHJveGlzdG9yZS5jb20vdmllLXByaXZlZS8nO1xuICAgICAgICB9IGVsc2UgaWYgKGxhbmd1YWdlID09PSAnZW4nKSB7XG4gICAgICAgICAgcmV0dXJuICdodHRwczovL3d3dy5wcm94aXN0b3JlLmNvbS9lbi9wcml2YWN5Lyc7XG4gICAgICAgIH0gZWxzZSBpZiAobGFuZ3VhZ2UgPT09ICdubCcpIHtcbiAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vd3d3LnByb3hpc3RvcmUuY29tL25sL3ByaXZhY3ktbmwvJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBub3RpZmljYXRpb25CYXI7XG4gICAgdmFyIHRpbWVPdXRIYW5sZGVyO1xuXG4gICAgZnVuY3Rpb24gc2V0Tm90aWZpY2F0aW9uQmFyKCkge1xuICAgICAgbm90aWZpY2F0aW9uQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobm90aWZpY2F0aW9uVG9vbGJhcklkKTtcbiAgICAgIHZhciBjbG9zZUJhckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdweC10b29sYmFyLW1lbnUnKS5jaGlsZHJlblswXTtcbiAgICAgIGNsb3NlQmFyQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5vdGlmaWNhdGlvbkJhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfTtcbiAgICAgIG5vdGlmaWNhdGlvbkJhci5vbm1vdXNlb3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlblsyXS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZU91dEhhbmxkZXIpO1xuICAgICAgfTtcbiAgICAgIG5vdGlmaWNhdGlvbkJhci5vbm1vdXNlb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuWzJdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRpbWVPdXRIYW5sZGVyID0gc2V0VGltZW91dChoaWRlTm90aWZpY2F0aW9uLCAyMDAwKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uQmFyKGdlbG9jQmxvY2ssIGRldGFpbCwgY2xvc2UpIHtcbiAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobm90aWZpY2F0aW9uVG9vbGJhcklkKSkge1xuICAgICAgICB2YXIgbm90aWZpY2F0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5vdGlmaWNhdGlvbkRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgbm90aWZpY2F0aW9uVG9vbGJhcklkKTtcbiAgICAgICAgbm90aWZpY2F0aW9uRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncHhzLXNsaWRlT3V0UmlnaHQnKTtcbiAgICAgICAgbm90aWZpY2F0aW9uRGl2LmlubmVySFRNTCA9XG4gICAgICAgICAgICAnICAgIDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cImlzby04ODU5LTFcIj8+XFxuJyArXG4gICAgICAgICAgICAnICAgIDwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT5cXG4nICtcbiAgICAgICAgICAgICcgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgdmVyc2lvbj1cIjEuMVwiIGlkPVwiQ2FwYV8xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMTIwIC0yMjAgMTAwIDczMFwiIHdpZHRoPVwiNjBweFwiIGhlaWdodD1cIjQ1cHhcIj5cXG4nICtcbiAgICAgICAgICAgICcgICAgICAgIDxnPlxcbicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgIDxnPlxcbicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTQ2Ny44MTksNDMxLjg1MWwtMzYuNjUxLTYxLjA1NmMtMTYuODk2LTI4LjE4MS0yNS44MzUtNjAuNDM3LTI1LjgzNS05My4zMTJWMjI0ICAgIGMwLTgyLjMyNS02Ny4wMDgtMTQ5LjMzMy0xNDkuMzMzLTE0OS4zMzNTMTA2LjY2NywxNDEuNjc1LDEwNi42NjcsMjI0djUzLjQ4M2MwLDMyLjg3NS04LjkzOSw2NS4xMzEtMjUuODM1LDkzLjMxMiAgICBsLTM2LjY1MSw2MS4wNTZjLTEuOTg0LDMuMjg1LTIuMDI3LDcuNDAzLTAuMTQ5LDEwLjczMWMxLjg5OSwzLjM0OSw1LjQ2MSw1LjQxOSw5LjMwMSw1LjQxOWg0MDUuMzMzICAgIGMzLjg0LDAsNy40MDMtMi4wNjksOS4zMDEtNS40MTlDNDY5Ljg0NSw0MzkuMjUzLDQ2OS44MDMsNDM1LjEzNiw0NjcuODE5LDQzMS44NTF6IE03Mi4xNzEsNDI2LjY2N2wyNi45NDQtNDQuOTA3ICAgIEMxMTguMDE2LDM1MC4yNzIsMTI4LDMxNC4yMTksMTI4LDI3Ny40ODNWMjI0YzAtNzAuNTkyLDU3LjQwOC0xMjgsMTI4LTEyOHMxMjgsNTcuNDA4LDEyOCwxMjh2NTMuNDgzICAgIGMwLDM2LjczNiw5Ljk4NCw3Mi43ODksMjguODY0LDEwNC4yNzdsMjYuOTY1LDQ0LjkwN0g3Mi4xNzF6XCIgZmlsbD1cIiM5MURDNUFcIi8+XFxuJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgPC9nPlxcbicgK1xuICAgICAgICAgICAgJyAgICAgICAgPC9nPlxcbicgK1xuICAgICAgICAgICAgJyAgICAgICAgPGc+XFxuJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgPGc+XFxuJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjU2LDBjLTIzLjUzMSwwLTQyLjY2NywxOS4xMzYtNDIuNjY3LDQyLjY2N3Y0Mi42NjdDMjEzLjMzMyw5MS4yMjEsMjE4LjExMiw5NiwyMjQsOTZzMTAuNjY3LTQuNzc5LDEwLjY2Ny0xMC42NjcgICAgVjQyLjY2N2MwLTExLjc3Niw5LjU1Ny0yMS4zMzMsMjEuMzMzLTIxLjMzM3MyMS4zMzMsOS41NTcsMjEuMzMzLDIxLjMzM3Y0Mi42NjdDMjc3LjMzMyw5MS4yMjEsMjgyLjExMiw5NiwyODgsOTYgICAgczEwLjY2Ny00Ljc3OSwxMC42NjctMTAuNjY3VjQyLjY2N0MyOTguNjY3LDE5LjEzNiwyNzkuNTMxLDAsMjU2LDB6XCIgZmlsbD1cIiM5MURDNUFcIi8+XFxuJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgPC9nPlxcbicgK1xuICAgICAgICAgICAgJyAgICAgICAgPC9nPlxcbicgK1xuICAgICAgICAgICAgJyAgICAgICAgPGc+XFxuJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgPGc+XFxuJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMzAyLjE2NSw0MzEuOTM2Yy0zLjAwOC01LjA3Ny05LjUxNS02Ljc0MS0xNC42MTMtMy44MTljLTUuMDk5LDIuOTg3LTYuODA1LDkuNTM2LTMuODE5LDE0LjYxMyAgICBjMi43NzMsNC43MTUsNC4yODgsMTAuMzY4LDQuMjg4LDE1LjkzNmMwLDE3LjY0My0xNC4zNTcsMzItMzIsMzJjLTE3LjY0MywwLTMyLTE0LjM1Ny0zMi0zMmMwLTUuNTY4LDEuNTE1LTExLjIyMSw0LjI4OC0xNS45MzYgICAgYzIuOTY1LTUuMDk5LDEuMjU5LTExLjYyNy0zLjgxOS0xNC42MTNjLTUuMTQxLTIuOTIzLTExLjYyNy0xLjI1OS0xNC42MTMsMy44MTljLTQuNzE1LDguMDY0LTcuMjExLDE3LjMwMS03LjIxMSwyNi43MzEgICAgQzIwMi42NjcsNDg4LjA4NSwyMjYuNTgxLDUxMiwyNTYsNTEyczUzLjMzMy0yMy45MTUsNTMuMzc2LTUzLjMzM0MzMDkuMzc2LDQ0OS4yMzcsMzA2Ljg4LDQ0MCwzMDIuMTY1LDQzMS45MzZ6XCIgZmlsbD1cIiM5MURDNUFcIi8+XFxuJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgPC9nPlxcbicgK1xuICAgICAgICAgICAgJyAgICAgICAgPC9nPlxcbicgK1xuICAgICAgICAgICAgJyAgICA8L3N2Zz5cXG4nICtcbiAgICAgICAgICAgICcgICAgPHA+JyArXG4gICAgICAgICAgICBnZWxvY0Jsb2NrICtcbiAgICAgICAgICAgICc8L3A+XFxuJyArXG4gICAgICAgICAgICAnICAgIDx1bCBpZD1cInB4LXRvb2xiYXItbWVudVwiPlxcbicgK1xuICAgICAgICAgICAgJyAgICAgICAgPGxpPicgK1xuICAgICAgICAgICAgY2xvc2UgK1xuICAgICAgICAgICAgJzwvbGk+XFxuJyArXG4gICAgICAgICAgICAnIDxsaT48YSBocmVmPVwiaHR0cHM6Ly93d3cucHJveGlzdG9yZS5jb20vZ2VvbG9jYXRpb24/bGFuZz0nICtcbiAgICAgICAgICAgIFByb3hpc3RvcmUuY29uZmlnKCkubGFuZ3VhZ2UgK1xuICAgICAgICAgICAgJ1wiIHRhcmdldD1cIl9ibGFua1wiID4nICtcbiAgICAgICAgICAgIGRldGFpbCArXG4gICAgICAgICAgICAnPC9hPjwvbGk+XFxuJyArXG4gICAgICAgICAgICAnICAgIDwvdWw+XFxuJyArXG4gICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub3RpZmljYXRpb25EaXYpO1xuICAgICAgICBzZXROb3RpZmljYXRpb25CYXIoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKCkge1xuICAgICAgbm90aWZpY2F0aW9uQmFyLmNsYXNzTGlzdC5yZW1vdmUoJ3B4cy1zbGlkZU91dFJpZ2h0Y2FuU2hvdycpO1xuICAgICAgbm90aWZpY2F0aW9uQmFyLmNsYXNzTmFtZSArPSAncHhzLXNsaWRlT3V0UmlnaHQnO1xuICAgICAgdGltZU91dEhhbmxkZXIgPSBzZXRUaW1lb3V0KGhpZGVOb3RpZmljYXRpb24sIDUwMDApO1xuICAgICAgbm90aWZpY2F0aW9uQmFyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICBub3RpZmljYXRpb25CYXIuY2xhc3NMaXN0LnJlcGxhY2UoXG4gICAgICAgICAgJ3B4cy1zbGlkZU91dFJpZ2h0JyxcbiAgICAgICAgICAncHhzLXNsaWRlSW5SaWdodCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZU5vdGlmaWNhdGlvbigpIHtcbiAgICAgIG5vdGlmaWNhdGlvbkJhci5jbGFzc0xpc3QucmVwbGFjZShcbiAgICAgICAgICAncHhzLXNsaWRlSW5SaWdodCcsXG4gICAgICAgICAgJ3B4cy1zbGlkZU91dFJpZ2h0J1xuICAgICAgKTtcbiAgICAgIHNldFRpbWVvdXQoZGlzcGxheU5vbmUobm90aWZpY2F0aW9uQmFyKSwgMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0SWNvbkNsYXNzKGNscykge1xuICAgICAgdmFyIHBhdGhzID0gZG9jdW1lbnRcbiAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQobG9jYXRpb25FbGVtZW50SWQpXG4gICAgICAgICAgLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKVswXVxuICAgICAgICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF1cbiAgICAgICAgICAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2cnKVswXVxuICAgICAgICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZycpWzBdXG4gICAgICAgICAgLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYXRoJyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBhdGhzW2ldLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbHMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdpZGdldC5pbm5lckhUTUwgPSBnZXRXaWRnZXRIVE1MKCk7XG4gICAgaWYgKFByb3hpc3RvcmUuaXNTYWZhcmkoKSkge1xuICAgICAgc2V0TG9jYXRpb24obWVzc2FnZShcIlVOS05PV05fUE9TSVRJT05cIikpO1xuICAgICAgc2V0RGVzY3JpcHRpb24obWVzc2FnZShcIk5PVF9TVVBQT1JURURcIikpO1xuICAgICAgc2V0SWNvbkNsYXNzKFwicHhzLWlwLWRpc3F1YWxpZmllZFwiKTtcbiAgICAgIHZhciBweHNfc2VwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5weHMtc2VwXCIpO1xuICAgICAgcHhzX3NlcC5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHtcbiAgICAgICAgZWxlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIVByb3hpc3RvcmUuY29uZmlnKCkuaGFzQ29uc2VudCkge1xuICAgICAgc2V0TG9jYXRpb24obWVzc2FnZSgnREVTQ19VTlNIQVJFRCcpKTtcbiAgICAgIHNldERlc2NyaXB0aW9uKCcnKTtcbiAgICAgIHNldEljb25DbGFzcygncHhzLXVua25vd24nKTtcbiAgICB9XG4gICAgUHJveGlzdG9yZS5hcHBlbmRTZWdtZW50c0h0bWwoKTtcblxuICAgIGZ1bmN0aW9uIGdldFdpZGdldEhUTUwoKSB7XG4gICAgICB2YXIgd2lkZ2V0SFRNTCA9XG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJweHMtd2lkZ2V0ICcgK1xuICAgICAgICAgIGN1c3RvbUNsYXNzTmFtZSArXG4gICAgICAgICAgJ1wiPiAnICtcbiAgICAgICAgICAnPGRpdiBpZD1cIicgK1xuICAgICAgICAgIG1vZGFsRWxlbWVudElkICtcbiAgICAgICAgICAnXCIgY2xhc3M9XCJweHMtbW9kYWxcIj5cXG4nICtcbiAgICAgICAgICAnICA8ZGl2IGNsYXNzPVwicHhzLW1vZGFsLWNvbnRlbnRcIj5cXG4nICtcbiAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJweHMtbW9kYWwtY2xvc2VcIj5cXG4nICtcbiAgICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHZlcnNpb249XCIxLjFcIiB3aWR0aD1cIjQ4cHhcIiBoZWlnaHQ9XCI0OHB4XCI+XFxuJyArXG4gICAgICAgICAgJzxnIGlkPVwic3VyZmFjZTFcIj5cXG4nICtcbiAgICAgICAgICAnPHBhdGggc3R5bGU9XCIgXCIgZD1cIk0gMTkuMjgxMjUgNS4yODEyNSBMIDkgMTUuNTYyNSBMIDQuNzE4NzUgMTEuMjgxMjUgTCAzLjI4MTI1IDEyLjcxODc1IEwgOC4yODEyNSAxNy43MTg3NSBMIDkgMTguNDA2MjUgTCA5LjcxODc1IDE3LjcxODc1IEwgMjAuNzE4NzUgNi43MTg3NSBaIFwiLz5cXG4nICtcbiAgICAgICAgICAnPC9nPlxcbicgK1xuICAgICAgICAgICc8L3N2Zz5cXG4nICtcbiAgICAgICAgICAnPC9zcGFuPlxcbicgK1xuICAgICAgICAgICcgICAgPGlmcmFtZSBhbGxvdz1cImdlb2xvY2F0aW9uICo7XCIgaWQ9XCInICtcbiAgICAgICAgICBtb2RhbElGcmFtZUVsZW1lbnRJZCArXG4gICAgICAgICAgJ1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjUwMHB4XCIgc2Nyb2xsaW5nPVwibm9cIiBmcmFtZUJvcmRlcj1cIjBcIiA+PC9pZnJhbWU+XFxuJyArXG4gICAgICAgICAgLy8gIFwiICAgIDxpZnJhbWUgYWxsb3c9XFxcImdlb2xvY2F0aW9uICo7XFxcIiBpZD1cXFwiXCIgKyBtb2RhbElGcmFtZUVsZW1lbnRJZCArIFwiXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCIgaGVpZ2h0PVxcXCI1MDBweFxcXCIgc2Nyb2xsaW5nPVxcXCJub1xcXCIgZnJhbWVCb3JkZXI9XFxcIjBcXFwiIHNyYz1cXFwiXCIgKyAnaHR0cDovL2xvY2FsaG9zdC9nZW9sb2NhdGlvbi5odG1sP2xhbmd1YWdlPScrICBQcm94aXN0b3JlLmNvbmZpZygpLmxhbmd1YWdlICsgXCImZ29vZ2xlQXBpS2V5PVwiICsgUHJveGlzdG9yZS5jb25maWcoKS5nb29nbGVBcGlLZXkgKyAgXCJcXFwiPjwvaWZyYW1lPlxcblwiICtcbiAgICAgICAgICAnICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgJzxzcGFuIGlkPVwiJyArXG4gICAgICAgICAgY291bnRyeUVsZW1lbnRJZCArXG4gICAgICAgICAgJ1wiIGNsYXNzPVwicHhzLWNvdW50cnlcIj48L3NwYW4+XFxuJyArXG4gICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwicHhzLWNvbnRhaW5lclwiPlxcbicgK1xuICAgICAgICAgICcgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCInICtcbiAgICAgICAgICBsb2NhdGlvbkVsZW1lbnRJZCArXG4gICAgICAgICAgJ1wiIGNsYXNzPVwicHhzLWxvY2F0aW9uXCI+XFxuJyArXG4gICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInB4cy1kb3QgcHhzLXR1cm5cIj5cXG4nICtcbiAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAzMDMuNjggNDY5LjIyXCI+XFxuJyArXG4gICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGNsYXNzPVwiQ2FscXVlXzJcIiBkYXRhLW5hbWU9XCJDYWxxdWUgMlwiPlxcbicgK1xuICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGNsYXNzPVwiTGF5ZXJfMVwiIGRhdGEtbmFtZT1cIkxheWVyIDFcIj5cXG4nICtcbiAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggY2xhc3M9XCJweHMtaXBcIiBkPVwiTTE1MS44Myw0NjkuMjJhMTMsMTMsMCwwLDEtMTIuNjgtMTBMOTkuNDMsMjk0LjM2YTE1MS4xLDE1MS4xLDAsMCwxLTE3LjI2LTcuNjEsMTQ4LjQyLDE0OC40MiwwLDAsMS0yMi41NS0xNC4zMSwxNTEuODMsMTUxLjgzLDAsMSwxLDE5OS41OS0yMjgsMTUyLjA2LDE1Mi4wNiwwLDAsMSwzOC4wOSwxNTEsMTU0LjQyLDE1NC40MiwwLDAsMS04LjksMjIuNzYsMTUyLjc5LDE1Mi43OSwwLDAsMS04NC4xNiw3Ni4xTDE2NC41MSw0NTkuMjVBMTMsMTMsMCwwLDEsMTUxLjgzLDQ2OS4yMlptMC00NDFBMTIzLjY5LDEyMy42OSwwLDAsMCw5NS4xNCwyNjEuN2ExMjUuODUsMTI1Ljg1LDAsMCwwLDIwLjMzLDguMywxNC4wOCwxNC4wOCwwLDAsMSw5LjQzLDkuNTRsMjYuOTMsMTExLjgsMjYuNzgtMTExLjE1YzAtLjA2LjE5LS43Mi4yLS43OGExMywxMywwLDAsMSw4Ljg5LTkuMjYsMTIzLjQzLDEyMy40MywwLDAsMCw4Ny43NC0xMTcuNmMwLS4yNCwwLS40NywwLS43MXMwLS40OCwwLS43MkExMjMuNjUsMTIzLjY1LDAsMCwwLDE1MS44MywyOC4yMlpcIlxcbicgK1xuICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxcbicgK1xuICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBjbGFzcz1cInB4cy1pcFwiIGQ9XCJNMTUxLjgzLDIwNy4xNmE1Niw1NiwwLDEsMSw1Ni01NS45NUE1Niw1NiwwLDAsMSwxNTEuODMsMjA3LjE2Wm0wLTg1LjgyYTI5Ljg3LDI5Ljg3LDAsMSwwLDI5Ljg3LDI5Ljg3QTI5LjksMjkuOSwwLDAsMCwxNTEuODMsMTIxLjM0WlwiXFxuJyArXG4gICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XFxuJyArXG4gICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxcbicgK1xuICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxcbicgK1xuICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cXG4nICtcbiAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvc3Bhbj5cXG4nICtcbiAgICAgICAgICAnICAgICAgICA8c3BhbiBjbGFzcz1cInB4cy1zZXBcIj4tPC9zcGFuPlxcbicgK1xuICAgICAgICAgICcgICAgICAgIDxzcGFuIGlkPVwiJyArXG4gICAgICAgICAgZGVzY3JpcHRpb25FbGVtZW50SWQgK1xuICAgICAgICAgICdcIiBjbGFzcz1cInB4cy1kZXNjXCI+PC9zcGFuPlxcbicgK1xuICAgICAgICAgICcgICAgICAgIDxzcGFuIGNsYXNzPVwicHhzLXNlcFwiPi08L3NwYW4+XFxuJyArXG4gICAgICAgICAgJyAgICAgICAgPHNwYW4gaWQ9XCInICtcbiAgICAgICAgICByZWxvY2F0aW9uRWxlbWVudElkICtcbiAgICAgICAgICAnXCIgY2xhc3M9XCJweHMtcmVsb2NcIj48L3NwYW4+XFxuJyArXG4gICAgICAgICAgJyAgICAgICAgPHNwYW4gY2xhc3M9XCJweHMtc2VwXCI+LTwvc3Bhbj5cXG4nICtcbiAgICAgICAgICAnJztcbiAgICAgIHdpZGdldEhUTUwgKz1cbiAgICAgICAgICAnPGEgaWQ9XCJ1bnRyYWNrXCIgY2xhc3M9XCJweHMtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiPjxhPiA8c3BhbiBjbGFzcz1cInB4cy1zZXBcIj4tPC9zcGFuPlxcbic7XG4gICAgICBpZiAoUHJveGlzdG9yZS5jb25maWcoKS5iYWNrTGluaykge1xuICAgICAgICB3aWRnZXRIVE1MICs9XG4gICAgICAgICAgICAnPGEgaHJlZj1cIicgK1xuICAgICAgICAgICAgUHJveGlzdG9yZS5jb25maWcoKS5iYWNrTGluayArXG4gICAgICAgICAgICAnXCIgY2xhc3M9XCJweHMtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGlkPVwiJyArXG4gICAgICAgICAgICBtb3JlSW5mb0VsZW1lbnRJZCArXG4gICAgICAgICAgICAnXCIgY2xhc3M9XCJweHMtbW9yZVwiPjwvYT5cXG4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkZ2V0SFRNTCArPSAnPGEgY2xhc3M9XCJweHMtbW9yZVwiPjwvYT5cXG4nO1xuICAgICAgfVxuICAgICAgd2lkZ2V0SFRNTCArPSAnICAgIDwvZGl2Pic7XG4gICAgICAoJzwvZGl2PicpO1xuICAgICAgcmV0dXJuIHdpZGdldEhUTUw7XG4gICAgfVxuXG4gICAgaWYgKFByb3hpc3RvcmUuY29uZmlnKCkuc2hvcnRXaWRnZXRJZHMuaW5kZXhPZihwYXJlbnRFbGVtZW50SWQpID4gLTEpIHtcbiAgICAgIHNldFNob3J0TW9iaWxlTW9kZSgpO1xuICAgIH1cblxuICAgIHByZXBhcmVNb2RhbCgpO1xuXG4gICAgUHJveGlzdG9yZS5lbS5zdWJzY3JpYmUoXG4gICAgICAgIFByb3hpc3RvcmUuZW0uR0VPTE9DQVRJT05fQ0hBTkdFRCxcbiAgICAgICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIGNvdW50cnkgPSBtZXNzYWdlKGV2ZW50LmNvdW50cnlJc28zLCBldmVudC5jb3VudHJ5KTtcbiAgICAgICAgICB2YXIgbG9jYXRpb24gPSAoZXZlbnQucG9zdGFsQ29kZSB8fCAnJykgKyAnICcgKyAoZXZlbnQubG9jYWxpdHkgfHwgJycpO1xuICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICAgIHZhciByZWxvY2F0aW9uID0gbWVzc2FnZSgnUkVMT0NBVElPTicpO1xuICAgICAgICAgIHZhciBnZWxvY0Jsb2NrID0gbWVzc2FnZSgnUE9TSVRJT05fQkxPQ0tFRCcpO1xuICAgICAgICAgIHZhciBkZXRhaWwgPSBtZXNzYWdlKCdERVRBSUwnKTtcbiAgICAgICAgICB2YXIgY2xvc2UgPSBtZXNzYWdlKCdDTE9TRScpO1xuICAgICAgICAgIHZhciBtb3JlSW5mbyA9IG1lc3NhZ2UoJ01PUkVfSU5GTycpO1xuICAgICAgICAgIHZhciB1bnRyYWNrTXNnO1xuICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgdmFyIHNob3dNYXJrZXIgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgaWNvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdweHMtdHVybicpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWNvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGljb25zW2ldLmNsYXNzTmFtZSA9ICdweHMtZG90JztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdVTlRSQUNLJyB8fCAhUHJveGlzdG9yZS5jb25maWcoKS5oYXNDb25zZW50KSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IG1lc3NhZ2UoJ0RFU0NfVU5TSEFSRUQnKTtcbiAgICAgICAgICAgIHNldEljb25DbGFzcygncHhzLXVua25vd24nKTtcbiAgICAgICAgICAgIHVudHJhY2tNc2cgPSBtZXNzYWdlKCdCRV9HRU9MT0MnKTtcbiAgICAgICAgICAgIHNob3dNYXJrZXIgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09ICdJUCcpIHtcbiAgICAgICAgICAgIGlmICghIWV2ZW50LmRpc3F1YWxpZmllZCkge1xuICAgICAgICAgICAgICBsb2NhdGlvbiA9IG1lc3NhZ2UoJ1VOS05PV05fUE9TSVRJT04nKTtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBtZXNzYWdlKCdERVNDX0lQX0RJU1FVQUxJRklFRCcpO1xuICAgICAgICAgICAgICBzZXRJY29uQ2xhc3MoJ3B4cy1pcC1kaXNxdWFsaWZpZWQnKTtcbiAgICAgICAgICAgICAgdW50cmFja01zZyA9IG1lc3NhZ2UoJ1JFRlVTRV9HRU9MT0MnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gbWVzc2FnZSgnREVTQ19JUF9RVUFMSUZJRUQnKTtcbiAgICAgICAgICAgICAgc2V0SWNvbkNsYXNzKCdweHMtaXAtcXVhbGlmaWVkJyk7XG4gICAgICAgICAgICAgIHBvc2l0aW9uID0gZXZlbnQucG9zaXRpb247XG4gICAgICAgICAgICAgIHVudHJhY2tNc2cgPSBtZXNzYWdlKCdSRUZVU0VfR0VPTE9DJyk7XG4gICAgICAgICAgICAgIHNob3dNYXJrZXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ0hUTUw1Jykge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBtZXNzYWdlKCdERVNDX0hUTUw1Jyk7XG4gICAgICAgICAgICBzZXRJY29uQ2xhc3MoJ3B4cy1odG1sNScpO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBldmVudC5wb3NpdGlvbjtcbiAgICAgICAgICAgIHNob3dNYXJrZXIgPSB0cnVlO1xuICAgICAgICAgICAgdW50cmFja01zZyA9IG1lc3NhZ2UoJ1JFRlVTRV9HRU9MT0MnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09ICdNQU5VQUwnKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IG1lc3NhZ2UoJ0RFU0NfTUFOVUFMJyk7XG4gICAgICAgICAgICBzZXRJY29uQ2xhc3MoJ3B4cy1tYW51YWwnKTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZXZlbnQucG9zaXRpb247XG4gICAgICAgICAgICBzaG93TWFya2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIHVudHJhY2tNc2cgPSBtZXNzYWdlKCdSRUZVU0VfR0VPTE9DJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gbWVzc2FnZSgnVU5LTk9XTl9QT1NJVElPTicpO1xuICAgICAgICAgICAgc2V0SWNvbkNsYXNzKCdweHMtdW5rbm93bicpO1xuICAgICAgICAgICAgdW50cmFja01zZyA9IG1lc3NhZ2UoJ1JFRlVTRV9HRU9MT0MnKTtcbiAgICAgICAgICAgIHNob3dNYXJrZXIgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0Q291bnRyeShjb3VudHJ5KTtcbiAgICAgICAgICBzZXRMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgICAgICAgc2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb24pO1xuICAgICAgICAgIHNldFJlbG9jYXRpb24ocmVsb2NhdGlvbik7XG4gICAgICAgICAgc2V0UmVmdXNlR2VvbG9jKHVudHJhY2tNc2cpO1xuICAgICAgICAgIHNldE1vcmVJbmZvKG1vcmVJbmZvKTtcbiAgICAgICAgICB1cGRhdGVNYXBDZW50ZXIocG9zaXRpb24sIHNob3dNYXJrZXIpO1xuICAgICAgICAgIGNyZWF0ZU5vdGlmaWNhdGlvbkJhcihnZWxvY0Jsb2NrLCBkZXRhaWwsIGNsb3NlKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICBQcm94aXN0b3JlLmVtLnN1YnNjcmliZShQcm94aXN0b3JlLmVtLkdFT0xPQ0FUSU9OX0VSUk9SLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIFByb3hpc3RvcmUubG9nKCdnZW9sb2NhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICBpZiAoIW5vdGlmaWNhdGlvbkJhcikgcmV0dXJuO1xuICAgICAgaWYgKFxuICAgICAgICAgIG5vdGlmaWNhdGlvbkJhci5zdHlsZS5kaXNwbGF5ICE9PSAnZmxleCcgJiZcbiAgICAgICAgICBub3RpZmljYXRpb25CYXIuY2xhc3NOYW1lID09PSAncHhzLXNsaWRlT3V0UmlnaHRjYW5TaG93J1xuICAgICAgKSB7XG4gICAgICAgIHNob3dOb3RpZmljYXRpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFdpZGdldChwYXJlbnRFbGVtZW50SWQpIHtcbiAgICBjcmVhdGVXaWRnZXQocGFyZW50RWxlbWVudElkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbVNlZ21lbnQoKSB7XG4gICAgdmFyIHNlZ21lbnRJZCA9IFByb3hpc3RvcmUuY29uZmlnKCkuY3VzdG9tU2VnbWVudElkO1xuICAgIHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICBpZiAobG9jYXRpb24uaG9zdCA9PT0gJ3d3dy5lc3NpbG9yLmZyJykge1xuICAgICAgaWYgKFxuICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPT09ICdodHRwczovL3d3dy5lc3NpbG9yLmZyL25vcy12ZXJyZXMvdmFyaWx1eCcgfHxcbiAgICAgICAgICBsb2NhdGlvbi5ocmVmID09PVxuICAgICAgICAgICdodHRwczovL3d3dy5lc3NpbG9yLmZyL2VuLWNlLW1vbWVudC92YXJpbHV4LWV0LW9mZnJlLTJlbWUtcGFpcmUnXG4gICAgICApXG4gICAgICAgIHNlZ21lbnRJZCA9ICcxMDAwMyc7XG4gICAgICBlbHNlIHNlZ21lbnRJZCA9ICcxMDAwMic7XG4gICAgfVxuICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnd3d3Lm1hbGluZ28uZnInKSB7XG4gICAgICBzZWdtZW50SWQgPSAnNDI4OTIyMzYxMCc7XG4gICAgfVxuICAgIGlmIChsb2NhdGlvbi5ob3N0LmluY2x1ZGVzKCdib29rYWQuZnInKSkge1xuICAgICAgc2VnbWVudElkID0gJzQyODkyMjM2MTMnO1xuICAgIH1cbiAgICBpZiAoIXNlZ21lbnRJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYWpheCA9IG5ldyBQcm94aXN0b3JlLkFqYXgoKTtcbiAgICBhamF4LmdldChcbiAgICAgICAgJ2h0dHBzOi8vYWJzLnByb3hpc3RvcmUuY29tL3YzL2Nvb2tpZS9hZHYvc2VnbWVudC1waXhlbD9zZWdtZW50SWRzPScgK1xuICAgICAgICBzZWdtZW50SWRcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlV2lkZ2V0cygpIHtcbiAgICBpZiAoXG4gICAgICAgIFByb3hpc3RvcmUuY29uZmlnKCkud2lkZ2V0SWRzICYmXG4gICAgICAgIChBcnJheS5pc0FycmF5KFByb3hpc3RvcmUuY29uZmlnKCkud2lkZ2V0SWRzKSB8fFxuICAgICAgICAgICAgUHJveGlzdG9yZS5jb25maWcoKS53aWRnZXRJZHMgaW5zdGFuY2VvZiBTdHJpbmcgfHxcbiAgICAgICAgICAgIHR5cGVvZiBQcm94aXN0b3JlLmNvbmZpZygpLndpZGdldElkcyA9PT0gJ3N0cmluZycpICYmXG4gICAgICAgIFByb3hpc3RvcmUuY29uZmlnKCkud2lkZ2V0SWRzLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIFByb3hpc3RvcmUuaXNBbGxvd2VkVG9Xcml0ZUNvb2tpZXMoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgICBQcm94aXN0b3JlLmNvbmZpZygpLmhhc0NvbnNlbnQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShQcm94aXN0b3JlLmNvbmZpZygpLndpZGdldElkcykpIHtcbiAgICAgICAgICAgIFByb3hpc3RvcmUuY29uZmlnKCkud2lkZ2V0SWRzLmZvckVhY2goZnVuY3Rpb24gKHdpZGdldElkKSB7XG4gICAgICAgICAgICAgIG5ldyBXaWRnZXQod2lkZ2V0SWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ldyBXaWRnZXQoUHJveGlzdG9yZS5jb25maWcoKS53aWRnZXRJZHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBQcm94aXN0b3JlLmNvbmZpZygpLmhhc0NvbnNlbnQgPSB0cnVlO1xuICAgICAgICAgIGNyZWF0ZUN1c3RvbVNlZ21lbnQoKTtcbiAgICAgICAgICBpZiAodHlwZW9mIFByb3hpc3RvcmUuY29uZmlnKCkuZ2VvTG9jYXRpb25DYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgUHJveGlzdG9yZS5lbS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9DSEFOR0VELFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgdmFyIHB4X3ppcCA9ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIHB4X2Rpc3RyaWN0ID0gJyc7XG4gICAgICAgICAgICAgICAgICBldi5hcmVhcy5mb3JFYWNoKGZ1bmN0aW9uIChhcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmVhLmxhYmVsID09ICdQT1NUQUwgQ09ERScpIHtcbiAgICAgICAgICAgICAgICAgICAgICBweF96aXAgPSBhcmVhLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJlYS5sYWJlbC5tYXRjaCgnTklTU3xJUklTJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICBweF9kaXN0cmljdCA9IGFyZWEuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25SZXN0cmljdGVkID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBldi50eXBlLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGl0eTogZXYubG9jYWxpdHksXG4gICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IGV2LnBvc3RhbENvZGUsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50cnlJc28yOiBldi5jb3VudHJ5SXNvMixcbiAgICAgICAgICAgICAgICAgICAgY291bnRyeUlzbzM6IGV2LmNvdW50cnlJc28zLFxuICAgICAgICAgICAgICAgICAgICBjb3VudHJ5OiBldi5jb3VudHJ5LFxuICAgICAgICAgICAgICAgICAgICBkaXNxdWFsaWZpZWQ6IGV2LmRpc3F1YWxpZmllZCxcbiAgICAgICAgICAgICAgICAgICAgcHhfY291bnRyeTogZXYuY291bnRyeUlzbzIsXG4gICAgICAgICAgICAgICAgICAgIHB4X2NpdHk6IGV2LmxvY2FsaXR5LFxuICAgICAgICAgICAgICAgICAgICBweF96aXA6IHB4X3ppcCxcbiAgICAgICAgICAgICAgICAgICAgcHhfZGlzdHJpY3Q6IHB4X2Rpc3RyaWN0LFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIFByb3hpc3RvcmUuY29uZmlnKCkuZ2VvTG9jYXRpb25DYWxsYmFjayhsb2NhdGlvblJlc3RyaWN0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghUHJveGlzdG9yZS5jb25maWcoKS52aXNpYmxlICYmIFByb3hpc3RvcmUuY29uZmlnKCkuaGFzQ29uc2VudCkge1xuICAgICAgICAgICAgUHJveGlzdG9yZS5lbS5wdWJsaXNoKFByb3hpc3RvcmUuZW0uR0VPTE9DQVRJT05fUkVRVUVTVEVELCB7fSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KFByb3hpc3RvcmUuY29uZmlnKCkud2lkZ2V0SWRzKSkge1xuICAgICAgICAgICAgUHJveGlzdG9yZS5jb25maWcoKS53aWRnZXRJZHMuZm9yRWFjaChmdW5jdGlvbiAod2lkZ2V0SWQpIHtcbiAgICAgICAgICAgICAgbmV3IFdpZGdldCh3aWRnZXRJZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3IFdpZGdldChQcm94aXN0b3JlLmNvbmZpZygpLndpZGdldElkcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChQcm94aXN0b3JlLmNvbmZpZygpLmhhc0NvbnNlbnQpIHtcbiAgICAgICAgICAgIFByb3hpc3RvcmUuZW0ucHVibGlzaChQcm94aXN0b3JlLmVtLkdFT0xPQ0FUSU9OX1JFUVVFU1RFRCwge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBjb25maWcgbWV0aG9kIHRvIGdldCBhIGNoYW5jZSB0byBpbml0aWFsaXplIHdpZGdldHNcbiAgICogQHR5cGUge2NvbmZpZ3wqfVxuICAgKi9cbiAgLyogc3RhcnQtaGlkZS1mb3ItdGVzdGluZyAqL1xuICB2YXIgb3ZlcnJpZGRlbkNvbmZpZyA9IFByb3hpc3RvcmUuY29uZmlnO1xuICBQcm94aXN0b3JlLmNvbmZpZyA9IGZ1bmN0aW9uIChjZmcpIHtcbiAgICB2YXIgYyA9IG92ZXJyaWRkZW5Db25maWcoY2ZnKTtcbiAgICBpZiAoY2ZnKSB7XG4gICAgICBjcmVhdGVXaWRnZXRzKCk7XG4gICAgfVxuICAgIHJldHVybiBjO1xuICB9O1xuICAvKiBlbmQtaGlkZS1mb3ItdGVzdGluZyAqL1xuXG4gIC8qIHN0YXJ0LWhpZGUtZm9yLXByb2QgKi9cbiAgUHJveGlzdG9yZS5jcmVhdGVXaWRnZXRzID0gY3JlYXRlV2lkZ2V0cztcbiAgLyogZW5kLWhpZGUtZm9yLXByb2QgKi9cblxuICByZXR1cm4gUHJveGlzdG9yZTtcbn0pKFByb3hpc3RvcmUgfHwge30pO1xuIiwiLyoqXG4gKiBQcm94aXN0b3JlIGdlb2xvY2F0aW9uIEFQSVxuICovXG52YXIgUHJveGlzdG9yZSA9IChmdW5jdGlvbiAoUHJveGlzdG9yZSkge1xuICAgIC8qKlxuICAgICAqIEV2ZW50IHNlbnQgd2hlbiB0aGUgZ2VvIGxvY2F0aW9uIGhhcyBmaW5pc2hlZCBzdWNjZXNzZnVsbHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJveGlzdG9yZS5lbSwgJ0dFT0xPQ0FUSU9OX0NIQU5HRUQnLCB7XG4gICAgICAgIHZhbHVlOiAnR0VPTE9DQVRJT05fQ0hBTkdFRCcsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEV2ZW50IHNlbnQgd2hlbiB0aGUgZ2VvIGxvY2F0aW9uIGhhcyBmYWlsZWRcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJveGlzdG9yZS5lbSwgJ0dFT0xPQ0FUSU9OX0VSUk9SJywge1xuICAgICAgICB2YWx1ZTogJ0dFT0xPQ0FUSU9OX0VSUk9SJyxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQgc2VudCB3aGVuIGEgZ2VvIGxvY2F0aW9uIGlzIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJveGlzdG9yZS5lbSwgJ0dFT0xPQ0FUSU9OX1JFUVVFU1RFRCcsIHtcbiAgICAgICAgdmFsdWU6ICdHRU9MT0NBVElPTl9SRVFVRVNURUQnLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBzZW50IHdoZW4gYSBnZW8gbG9jYXRpb24gaXMgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm94aXN0b3JlLmVtLCAnR0VPTE9DQVRJT05fUkVGVVNFRCcsIHtcbiAgICAgICAgdmFsdWU6ICdHRU9MT0NBVElPTl9SRUZVU0VEJyxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgdmFyIGFqYXggPSBuZXcgUHJveGlzdG9yZS5BamF4KCk7XG5cbiAgICBmdW5jdGlvbiBMb2NhdGlvbihcbiAgICAgICAgdHlwZSxcbiAgICAgICAgbG9jYWxpdHksXG4gICAgICAgIHBvc3RhbENvZGUsXG4gICAgICAgIGNvdW50cnlJc28yLFxuICAgICAgICBjb3VudHJ5SXNvMyxcbiAgICAgICAgY291bnRyeSxcbiAgICAgICAgZ2VvSGFzaCxcbiAgICAgICAgZGlzcXVhbGlmaWVkLFxuICAgICAgICBhcmVhc1xuICAgICkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmxvY2FsaXR5ID0gbG9jYWxpdHk7XG4gICAgICAgIHRoaXMucG9zdGFsQ29kZSA9IHBvc3RhbENvZGU7XG4gICAgICAgIHRoaXMuY291bnRyeUlzbzIgPSBjb3VudHJ5SXNvMjtcbiAgICAgICAgdGhpcy5jb3VudHJ5SXNvMyA9IGNvdW50cnlJc28zO1xuICAgICAgICB0aGlzLmNvdW50cnkgPSBjb3VudHJ5O1xuICAgICAgICB0aGlzLmRpc3F1YWxpZmllZCA9IGRpc3F1YWxpZmllZDtcbiAgICAgICAgaWYgKGdlb0hhc2gpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBHZW9oYXNoLmRlY29kZShnZW9IYXNoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyZWFzID0gYXJlYXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gR2VvKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJpZ2dlcnMgYW4gSFRNTDUgZ2VvIGxvY2F0aW9uIGlmIHRoZSBuYXZpZ2F0b3IgYWxsb3dzIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gZm9yY2VIdG1sNSBpZiB0cnVlLCBkZWxldGUgYWxsIGNvb2tpZXMgd2l0aCBoaWdoZXIgcHJpb3JpdHkgdGhhbiBIVE1MNSAoTUFOVUFMKVxuICAgICAgICAgKi9cblxuICAgICAgICBmdW5jdGlvbiBodG1sNUdlb2xvY2F0aW9uKGZvcmNlSHRtbDUpIHtcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLmdlb2xvY2F0aW9uICYmICFQcm94aXN0b3JlLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvb2tpZUh0bWw1KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2N1cmFjeTogcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoaHRtbDVDb29raWVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9sb2NhdGlvbkNoYW5nZWQoSlNPTi5wYXJzZShodG1sNUNvb2tpZVZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIWZvcmNlSHRtbDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvb2tpZU1hbnVhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbG9jYXRpb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVDb29raWVSZWZ1c2FsSHRtbDUoKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbG9jYXRpb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9sb2NhdGlvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUFnZTogMTAgKiA2MCAqIDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA2MDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW1hZ2VQaXhlbFVybCh1cmwpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZVBpeGVsVXJsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWFnZVBpeGVsVXJsLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcbiAgICAgICAgICAgIGltYWdlUGl4ZWxVcmwuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBub25lOycpO1xuICAgICAgICAgICAgY29uc3Qgd2lkZ2V0SWQgPVxuICAgICAgICAgICAgICAgIFByb3hpc3RvcmUuY29uZmlnKCkud2lkZ2V0SWQgfHwgUHJveGlzdG9yZS5jb25maWcoKS53aWRnZXRJZHM7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHdpZGdldElkKS5hcHBlbmRDaGlsZChpbWFnZVBpeGVsVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNhbGxPa3ViZVBpeGVsKGNvb2tpZSkge1xuICAgICAgICAgICAgbGV0IG9rdWJlUGl4ZWxVcmwgPSAnaHR0cHM6Ly9hdWRpZW5jZS1hcGkucHJveGktd3RzLmNvbS9waXhlbC5wbmc/YnJhbmRfc2x1Zz1zeW5jLXByb3hpc3RvcmUmbW9kdWxlPWRwcmludCZjYW1wYWlnbl9pZD0mY2xpZW50X2lkPScgK1xuICAgICAgICAgICAgICAgIGNvb2tpZS51dklkICtcbiAgICAgICAgICAgICAgICAnJmdkcHJfY29uc2VudD0nICsgUHJveGlzdG9yZS5jb25maWcoKS5jb25zZW50U3RyaW5nO1xuICAgICAgICAgICAgY3JlYXRlSW1hZ2VQaXhlbFVybChva3ViZVBpeGVsVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNhbGxSb3FhZFBpeGVsKGNvb2tpZSkge1xuICAgICAgICAgICAgaWYgKGNvb2tpZS5jb3VudHJ5SXNvMy50b0xvd2VyQ2FzZSgpID09PSAnZnJhJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByb3FhZFVybCA9XG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vd3QucnF0cmsuZXU/cGlkPTRiM2VkYjRhLWNhNGMtNDQ0MC04NTliLWEzNzU2MWNmYTQ0ZSZzcmM9d3d3JnR5cGU9MTAwJnNpZD0wJmNiPScgK1xuICAgICAgICAgICAgICAgIGNhY2hlQnVzdGVyKCkgK1xuICAgICAgICAgICAgICAgICcmdWlkPScgK1xuICAgICAgICAgICAgICAgIGNvb2tpZS51dklkICtcbiAgICAgICAgICAgICAgICAnJmdkcHI9JztcbiAgICAgICAgICAgIHJvcWFkVXJsICs9IFByb3hpc3RvcmUuY29uZmlnKCkuaGFzQ29uc2VudFxuICAgICAgICAgICAgICAgID8gMSA6IDA7XG4gICAgICAgICAgICByb3FhZFVybCArPSAnJmdkcHJfcGQ9MCZnZHByX2NvbnNlbnQ9JyArIFByb3hpc3RvcmUuY29uZmlnKCkuY29uc2VudFN0cmluZztcbiAgICAgICAgICAgIGNyZWF0ZUltYWdlUGl4ZWxVcmwocm9xYWRVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2FjaGVCdXN0ZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0ZW4gdG8gZ2VvIGxvY2F0aW9uIHJlcXVlc3QgZXZlbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIE1BTlVBTCBnZW8gbG9jYXRpb25cbiAgICAgICAgICogUHJveGlzdG9yZS5lbS5wdWJsaXNoKFByb3hpc3RvcmUuZW0uR0VPTE9DQVRJT05fUkVRVUVTVEVELCB7IGxhdGl0dWRlOiA1NSwgbG9uZ2l0dWRlOiAyIH0pXG4gICAgICAgICAqXG4gICAgICAgICAqIEhUTUw1IGF1dG9tYXRpY1xuICAgICAgICAgKiBQcm94aXN0b3JlLmVtLnB1Ymxpc2goUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9SRVFVRVNURUQsIHsgIH0pXG4gICAgICAgICAqXG4gICAgICAgICAqIEhUTUw1IHdpdGggZGVsZXRpb24gb2YgTUFOVUFMIGNvb2tpZVxuICAgICAgICAgKiBQcm94aXN0b3JlLmVtLnB1Ymxpc2goUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9SRVFVRVNURUQsIHsgZm9yY2VIdG1sNSA6IHRydWUgfSlcbiAgICAgICAgICpcbiAgICAgICAgICogU29tZSBicm93c2VycyAobWFpbmx5IFNhZmFyaSkgcHJvbXB0cyB0aGUgdXNlciBhbnl0aW1lIHRoZSBodG1sNSBnZW9sb2NhdGlvbiBpcyB0cmlnZ2VyZWQsIHVubGVzcyB0aGUgdXNlcnNcbiAgICAgICAgICogZXhwbGljaXRseSBhZ3JlZSB0byBzaGFyZSBoaXMgbG9jYXRpb24gZm9yIGEgcHJlZGVmaW5lZCBwZXJpb2QgKDEgZGF5IGZvciBzYWZhcmkpLlxuICAgICAgICAgKiBJbiBvcmRlciB0byBhdm9pZCB0aGUgSFRNTDUgcG9wdXAgZGlhbG9nLCBpZiB0aGUgdXNlciBhbHJlYWR5IGhhdmUgYW4gSFRNTDUgY29va2llLCB3ZSBkbyBub3QgdHJpZ2dlciB0aGUgSFRNTDVcbiAgICAgICAgICogZ2VvbG9jYXRpb24uIEl0IHdpbGwgYmUgYXV0b21hdGljYWxseSB0cmlnZ2VyZWQgd2hlbiB0aGUgY29va2llIGV4cGlyZXMgb3IgaWYgZm9yY2VIdG1sNSBmbGFnIGlzIHRydWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBIVE1MNSBnZW8gbG9jYXRpb24gaGFzIGJlZW4gZGlzYWJsZWQgdmlhIFByb3hpc3RvcmUuY29uZmlnKCB7IGRpc2FibGVIdG1sNUdlb0xvY2F0aW9uOiB0cnVlIH0pLCB0aGVuIHRoZVxuICAgICAgICAgKiBJUCBmYWxsYmFjayBnZW8gbG9jYXRpb24gaXMgdXNlZC5cbiAgICAgICAgICovXG4gICAgICAgIFByb3hpc3RvcmUuZW0uc3Vic2NyaWJlKFxuICAgICAgICAgICAgUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9SRVFVRVNURUQsXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGF0aXR1ZGUgJiYgZGF0YS5sb25naXR1ZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ29va2llTWFudWFsKGRhdGEpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAobWFudWFsQ29va2llVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9sb2NhdGlvbkNoYW5nZWQoSlNPTi5wYXJzZShtYW51YWxDb29raWVWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb2xvY2F0aW9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghIWRhdGEuZm9yY2VIdG1sNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBleHBsaWNpdGx5IGNsaWNrZWQgb24gV2lkZ2V0J3MgcmVmcmVzaCBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw1R2VvbG9jYXRpb24oZGF0YS5mb3JjZUh0bWw1KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWQoKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChjb29raWVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29va2llID0gSlNPTi5wYXJzZShjb29raWVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb29raWUuZ2VvQ29va2llVHlwZSA9PT0gJ3VudHJhY2snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm94aXN0b3JlLmVtLnB1Ymxpc2goUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9SRUZVU0VEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsT2t1YmVQaXhlbChjb29raWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9sb2NhdGlvbkNoYW5nZWQoY29va2llKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIVByb3hpc3RvcmUuY29uZmlnKCkuZGlzYWJsZUh0bWw1R2VvTG9jYXRpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFjb29raWUuaHRtbDVSZWZ1c2FsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29raWUuZ2VvQ29va2llVHlwZSA9PT0gJ0lQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw1R2VvbG9jYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlb2xvY2F0aW9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgUHJveGlzdG9yZS5lbS5zdWJzY3JpYmUoUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9DSEFOR0VELCBmdW5jdGlvbiAobG9jKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsb2MuYXJlYXMpICYmIGxvYy5hcmVhcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvYy5hcmVhcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdMb2MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBsb2MudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsaXR5OiBsb2MubG9jYWxpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBsb2MucG9zdGFsQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnlJc28yOiBsb2MuY291bnRyeUlzbzIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5SXNvMzogbG9jLmNvdW50cnlJc28zLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeTogbG9jLmNvdW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNxdWFsaWZpZWQ6IGxvYy5kaXNxdWFsaWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVhczogbG9jLmFyZWFzW2xvYy5hcmVhcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZEdlb2xvY1RvU2lyRGF0YShuZXdMb2MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgUHJveGlzdG9yZS5lbS5zdWJzY3JpYmUoUHJveGlzdG9yZS5lbS5HRU9MT0NBVElPTl9SRUZVU0VELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhamF4LmdldCgnaHR0cHM6Ly9hYnMucHJveGlzdG9yZS5jb20vdjMvY29va2llL2dlby91bnRyYWNrJykudGhlbihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogcmVzcG9uc2UuZ2VvQ29va2llVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsaXR5OiByZXNwb25zZS5sb2NhbGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IHJlc3BvbnNlLnBvc3RhbENvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5SXNvMjogcmVzcG9uc2UuY291bnRyeUlzbzIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5SXNvMzogcmVzcG9uc2UuY291bnRyeUlzbzMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5OiByZXNwb25zZS5jb3VudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcXVhbGlmaWVkOiByZXNwb25zZS5kaXNxdWFsaWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVhczogcmVzcG9uc2UuYXJlYXMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIFByb3hpc3RvcmUuZW0ucHVibGlzaChQcm94aXN0b3JlLmVtLkdFT0xPQ0FUSU9OX0NIQU5HRUQsIGxvYyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvbG9jYXRpb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNlbmRHZW9sb2NUb1NpckRhdGEgPSBmdW5jdGlvbiAobG9jKSB7XG4gICAgICAgICAgICB2YXIgZ2V0Q291bnRyeVNJID0gZnVuY3Rpb24gKGNvdW50cnlDb2RlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjb3VudHJ5Q29kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdiZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzEnO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdmcic6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzInO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdlcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzMnO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSAnR1MuZCc7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGNtcDogMCxcbiAgICAgICAgICAgICAgICBwYTogJzIyNTA5JyxcbiAgICAgICAgICAgICAgICBzaTogZ2V0Q291bnRyeVNJKGxvYy5jb3VudHJ5SXNvMi50b0xvd2VyQ2FzZSgpKSxcbiAgICAgICAgICAgICAgICB1Zl9wb3N0YWxfY29kZTogbG9jLnBvc3RhbENvZGUgLyogMTIzNDUgKi8sXG4gICAgICAgICAgICAgICAgdXNlcl9jb3VudHJ5OiBsb2MuY291bnRyeUlzbzIudG9Mb3dlckNhc2UoKSAvKiBmciwgYmUsIC4uLiAqLyxcbiAgICAgICAgICAgICAgICB1c2VyX2NpdHk6IGxvYy5sb2NhbGl0eSAvKiBwYXJpcywgLi4uICovLFxuICAgICAgICAgICAgICAgIHVzZXJfbGF0OiAnJyAvKiA0OC44NjI3MjUgKi8sXG4gICAgICAgICAgICAgICAgdXNlcl9sb25nOiAnJyAvKiAyLjI4NzU5MiAqLyxcbiAgICAgICAgICAgICAgICB1c2VyX2lyaXM6ICcnIC8qIDAxMjYyMDEwMSAqLyxcbiAgICAgICAgICAgICAgICB1c2VyX25pczk6ICcnIC8qID8gKi8sXG4gICAgICAgICAgICAgICAgY3VzdG9tX3NlZ21lbnQ6ICcnIC8qIHNlZ21lbnQgaWQgKi8sXG4gICAgICAgICAgICAgICAgcmFuZDogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGxvYy5hcmVhcy5sYWJlbCA9PT0gJ0lSSVMgQ09ERScpIHtcbiAgICAgICAgICAgICAgICBjb25maWcudXNlcl9pcmlzID0gbG9jLmFyZWFzLmNvZGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYy5hcmVhcy5sYWJlbCA9PT0gJ05JU1MgQ09ERScpIHtcbiAgICAgICAgICAgICAgICBjb25maWcudXNlcl9uaXM5ID0gbG9jLmFyZWFzLmNvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY29uZmlnUGFyYW1zID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciB2IGluIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIGNvbmZpZ1BhcmFtcy5wdXNoKHYgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoY29uZmlnW3ZdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2RkYW5KUyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgc2RkYW5KUy5hc3luYyA9IHRydWU7XG4gICAgICAgICAgICBzZGRhbkpTLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgICAgIHNkZGFuSlMuc3JjID1cbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9qcy5jb29raWVsZXNzLWRhdGEuY29tLycgK1xuICAgICAgICAgICAgICAgIHNlcnZpY2UgK1xuICAgICAgICAgICAgICAgICc/JyArXG4gICAgICAgICAgICAgICAgY29uZmlnUGFyYW1zLmpvaW4oJyYnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc2RkYW5KUyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYSByZWZ1c2FsSFRNTDUgY29va2llXG4gICAgICAgICAqIEBwYXJhbSBwYXJhbXMgeyBsYXRpdHVkZTogMSwgbG9uZ2l0dWRlOiAxLCBhY2N1cmFjeTogMSwgZm9yY2VIdG1sNTogdHJ1ZS9mYWxzZSB9XG4gICAgICAgICAqIEByZXR1cm5zIGEgUHJvbWlzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29va2llUmVmdXNhbEh0bWw1KCkge1xuICAgICAgICAgICAgdmFyIHVybCA9XG4gICAgICAgICAgICAgICAgUHJveGlzdG9yZS5jb25maWcoKS5hcGlSb290VmVyc2lvbmVkVXJsICsgJy9jb29raWUvZ2VvL2h0bWw1LXJlZnVzYWwnO1xuICAgICAgICAgICAgcmV0dXJuIGFqYXguZ2V0KHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIEhUTUw1IGNvb2tpZVxuICAgICAgICAgKiBAcGFyYW0gcGFyYW1zIHsgbGF0aXR1ZGU6IDEsIGxvbmdpdHVkZTogMSwgYWNjdXJhY3k6IDEsIGZvcmNlSHRtbDU6IHRydWUvZmFsc2UgfVxuICAgICAgICAgKiBAcmV0dXJucyBhIFByb21pc2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvb2tpZUh0bWw1KHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIHVybCA9IFByb3hpc3RvcmUuY29uZmlnKCkuYXBpUm9vdFZlcnNpb25lZFVybCArICcvY29va2llL2dlby9odG1sNT8nO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9IG5hbWUgKyAnPScgKyBwYXJhbXNbbmFtZV0gKyAnJic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVybCArPSAnMT0xJztcbiAgICAgICAgICAgIHJldHVybiBhamF4LnBvc3QodXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgbWFudWFsIGNvb2tpZVxuICAgICAgICAgKiBAcGFyYW0gcGFyYW1zIHsgbGF0aXR1ZGU6IDEsIGxvbmdpdHVkZTogMSwgYWNjdXJhY3k6IDEsIGNvdW50cnk6IGNvdW50cnksIGNvdW50cnljb2RlMjogY291bnRyeUNvZGUyLCBsb2NhbGl0eTogbG9jYWxpdHksIHBvc3RhbENvZGU6IHBvc3RhbENvZGUgfVxuICAgICAgICAgKiBAcGFyYW0gbG9uZ2l0dWRlXG4gICAgICAgICAqIEByZXR1cm5zIGEgUHJvbWlzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29va2llTWFudWFsKHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIHVybCA9IFByb3hpc3RvcmUuY29uZmlnKCkuYXBpUm9vdFZlcnNpb25lZFVybCArICcvY29va2llL2dlby9tYW51YWw/JztcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHVybCArPSBuYW1lICsgJz0nICsgcGFyYW1zW25hbWVdICsgJyYnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1cmwgKz0gJzE9MSc7XG4gICAgICAgICAgICByZXR1cm4gYWpheC5wb3N0KHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZHMgdGhlIGJlc3QgZ2VvIGNvb2tpZS5cbiAgICAgICAgICogV2FybmluZyEgVGhpcyBpcyB1c2VkIGJ5IHRoZSB3aWRnZXQsIGFuZCB0aHVzIHRoZSBzZXJ2ZXIgQVBJIGlzIGJsb2NrZWQgYnkgZGVmYXVsdC4gT25seSB0aGUgcmVmZXJyZXJzIHByZXNlbnQgaW4gdGhlIHdoaXRlbGlzdCBjYW4gcXVlcnkgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4gYSBQcm9taXNlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZWFkKCkge1xuICAgICAgICAgICAgdmFyIHVybCA9IFByb3hpc3RvcmUuY29uZmlnKCkuYXBpUm9vdFZlcnNpb25lZFVybCArICcvd2lkZ2V0L2dlbyc7XG4gICAgICAgICAgICByZXR1cm4gYWpheC5nZXQodXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGVzIHRoZSBNQU5VQUwgZ2VvIGNvb2tpZS5cbiAgICAgICAgICogQHJldHVybiBhIFByb21pc2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNvb2tpZU1hbnVhbCgpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBQcm94aXN0b3JlLmNvbmZpZygpLmFwaVJvb3RWZXJzaW9uZWRVcmwgKyAnL2Nvb2tpZS9nZW8vbWFudWFsJztcbiAgICAgICAgICAgIHJldHVybiBhamF4LmRlbGV0ZSh1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHRoYXQgZ2VvIGxvY2F0aW9uIGhhcyBjaGFuZ2VkXG4gICAgICAgICAqIEBwYXJhbSBjb29raWVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdlb2xvY2F0aW9uQ2hhbmdlZChjb29raWUpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBQWFAtMzAwIEZpbHRlciBwdWJsaXNoZWQgZGF0YVxuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gbmV3IExvY2F0aW9uKFxuICAgICAgICAgICAgICAgIGNvb2tpZS5nZW9Db29raWVUeXBlLFxuICAgICAgICAgICAgICAgIGNvb2tpZS5sb2NhbGl0eSxcbiAgICAgICAgICAgICAgICBjb29raWUucG9zdGFsQ29kZSxcbiAgICAgICAgICAgICAgICBjb29raWUuY291bnRyeUlzbzIsXG4gICAgICAgICAgICAgICAgY29va2llLmNvdW50cnlJc28zLFxuICAgICAgICAgICAgICAgIGNvb2tpZS5jb3VudHJ5LFxuICAgICAgICAgICAgICAgIGNvb2tpZS5nZW9IYXNoLFxuICAgICAgICAgICAgICAgIGNvb2tpZS5kaXNxdWFsaWZpZWQsXG4gICAgICAgICAgICAgICAgY29va2llLmFyZWFzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgUHJveGlzdG9yZS5lbS5wdWJsaXNoKFByb3hpc3RvcmUuZW0uR0VPTE9DQVRJT05fQ0hBTkdFRCwgbG9jYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHRoYXQgZ2VvIGxvY2F0aW9uIGZhaWxlZFxuICAgICAgICAgKiBAcGFyYW0gZXJyb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdlb2xvY2F0aW9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgIFByb3hpc3RvcmUuZW0ucHVibGlzaChQcm94aXN0b3JlLmVtLkdFT0xPQ0FUSU9OX0VSUk9SLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXcgR2VvKCk7XG5cbiAgICByZXR1cm4gUHJveGlzdG9yZTtcbn0pKFByb3hpc3RvcmUgfHwge30pO1xuIiwiLyoqXG4gKiBBdHRhY2ggYW4gQWpheCBDbGFzcyB0byB0aGUgUHJveGlzdG9yZSBuYW1lc3BhY2UuXG4gKlxuICogR0VULFBPU1QsIFBVVCBhbmQgREVMRVRFIGFyZSBjdXJyZW50bHkgaW1wbGVtZW50ZWQuXG4gKlxuICogQWxsIG1ldGhvZHMgcmV0dXJuIFByb21pc2UgYW5kIGd1YXJhbnRlZSB0aGF0IGNvb2tpZXMgd2lsbCBiZSBzZW50LlxuICogSFRUUCBzdGF0dXMgY29kZSBpbiB0aGUgcmFuZ2UgMjAwLTI5OSB3aWxsIGJlIGNvbnNpZGVyZWQgYXMgc3VjY2Vzc2Z1bC5cbiAqL1xudmFyIFByb3hpc3RvcmUgPSAoZnVuY3Rpb24gKFByb3hpc3RvcmUpIHtcbiAgZnVuY3Rpb24gQWpheCgpIHtcbiAgICBmdW5jdGlvbiBhamF4KHVybCwgbWV0aG9kLCBkYXRhKSB7XG4gICAgICBQcm94aXN0b3JlLmxvZygnQUpBWCAtJywgbWV0aG9kLCB1cmwsIGRhdGEgfHwgJycpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID49IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdChFcnJvcihyZXF1ZXN0LnN0YXR1c1RleHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZWplY3QoRXJyb3IoJ05ldHdvcmsgRXJyb3InKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgcmVxdWVzdC5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICByZXF1ZXN0LnNlbmQoZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgIHJldHVybiBhamF4KHVybCwgJ0dFVCcpO1xuICAgIH07XG4gICAgdGhpcy5wb3N0ID0gZnVuY3Rpb24gKHVybCwgZGF0YSkge1xuICAgICAgcmV0dXJuIGFqYXgodXJsLCAnUE9TVCcsIGRhdGEpO1xuICAgIH07XG4gICAgdGhpcy5wdXQgPSBmdW5jdGlvbiAodXJsLCBkYXRhKSB7XG4gICAgICByZXR1cm4gYWpheCh1cmwsICdQVVQnLCBkYXRhKTtcbiAgICB9O1xuICAgIHRoaXMuZGVsZXRlID0gZnVuY3Rpb24gKHVybCwgZGF0YSkge1xuICAgICAgcmV0dXJuIGFqYXgodXJsLCAnREVMRVRFJywgZGF0YSk7XG4gICAgfTtcbiAgfVxuXG4gIFByb3hpc3RvcmUuQWpheCA9IEFqYXg7XG5cbiAgcmV0dXJuIFByb3hpc3RvcmU7XG59KShQcm94aXN0b3JlIHx8IHt9KTtcbiIsIi8qKlxuICogQXR0YWNoIGEgZ2xvYmFsIGV2ZW50IG1hbmFnZXIgdG8gdGhlIFByb3hpc3RvcmUgbmFtZXNwYWNlLlxuICpcbiAqIHZhciBoYW5kbGVyID0gIGZ1bmN0aW9uKGV2ZW50KSB7IGNvbnNvbGUubG9nKFwiZXZlbnRcIiwgZXZlbnQpfTtcbiAqIFByb3hpc3RvcmUuZW0uc3Vic2NyaWJlKFwiRVZFTlQxXCIsIGhhbmRsZXIpO1xuICogUHJveGlzdG9yZS5lbS5wdWJsaXNoKFwiRVZFTlQxXCIsIHsgXCJhXCI6IFwiYlwifSlcbiAqIFByb3hpc3RvcmUuZW0udW5zdWJzY3JpYmUoXCJFVkVOVDFcIiwgaGFuZGxlcik7XG4gKi9cbnZhciBQcm94aXN0b3JlID0gKGZ1bmN0aW9uIChQcm94aXN0b3JlKSB7XG5cbiAgICBmdW5jdGlvbiBFdmVudE1hbmFnZXIoKSB7XG4gICAgICAgIHZhciBldmVudHMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHVibGlzaCBhbiBldmVudFxuICAgICAgICAgKiBAcGFyYW0gbmFtZSB0aGUgZXZlbnQncyBuYW1lXG4gICAgICAgICAqIEBwYXJhbSBkYXRhIHRoZSBldmVudCdzIGRhdGFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHVibGlzaCA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVycyA9IGV2ZW50c1tuYW1lXTtcbiAgICAgICAgICAgIGlmKCEhaGFuZGxlcnMgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICBoYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3Vic2NyaWJlIGEgaGFuZGxlciBmb3IgYSBzcGVjaWZpYyB0eXBlIG9mIGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSBuYW1lIHRoZSBldmVudCdzIG5hbWVcbiAgICAgICAgICogQHBhcmFtIGhhbmRsZXIgdGhlIGV2ZW50J3MgaGFuZGxlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdWJzY3JpYmUgPSBmdW5jdGlvbihuYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV07XG4gICAgICAgICAgICBpZighIWhhbmRsZXJzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzID0gZXZlbnRzW25hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGFuZGxlcklkeCA9IGhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcklkeCA9PT0gLTEpIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuc3Vic2NyaWJlIGEgaGFuZGxlciBmb3IgYSBzcGVjaWZpYyB0eXBlIG9mIGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSBuYW1lIHRoZSBldmVudCdzIG5hbWVcbiAgICAgICAgICogQHBhcmFtIGhhbmRsZXIgdGhlIGV2ZW50J3MgaGFuZGxlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKG5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVycyA9IGV2ZW50c1tuYW1lXTtcbiAgICAgICAgICAgIGlmKCEhaGFuZGxlcnMgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBoYW5kbGVySWR4ID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVySWR4ICE9PSAtMSkgaGFuZGxlcnMuc3BsaWNlKGhhbmRsZXJJZHgpO1xuICAgICAgICB9O1xuXG4gICAgfVxuXG4gICAgUHJveGlzdG9yZS5lbSA9IG5ldyBFdmVudE1hbmFnZXIoKTtcblxuICAgIHJldHVybiBQcm94aXN0b3JlXG5cbn0oUHJveGlzdG9yZSB8fCB7fSkpOyIsInZhciBQcm94aXN0b3JlID0gKGZ1bmN0aW9uIChQcm94aXN0b3JlKSB7XG4gIC8vdXNlIFBvbHlmaWxsIGZvciBmdW50aW9uIGFzc2lnblxuICBpZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT0gJ2Z1bmN0aW9uJykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3QsICdhc3NpZ24nLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG87XG4gICAgICB9LFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuXG4gIC8vIGRlZmF1bHQgY29uZmlndXJhdGlvblxuICB2YXIgX2RlZmF1bHRzID0ge1xuICAgIGFwaVJvb3Q6ICcvL2Ficy5wcm94aXN0b3JlLmNvbScsXG4gICAgYXBpVmVyc2lvbjogJ3YzJyxcbiAgICBsYW5ndWFnZTogJ2ZyJyxcbiAgICBkaXNhYmxlSHRtbDVHZW9Mb2NhdGlvbjogZmFsc2UsXG4gICAgZ29vZ2xlQXBpS2V5OiAnQUl6YVN5RFJqM21MX1BRdC1sV2R2TjNSUDFpSndMb0I5NWlKZFhnJyxcbiAgICBnZW9Mb2NhdGlvbkNhbGxiYWNrOiBuZXcgKGZ1bmN0aW9uIChldmVudCkge30pKCksXG4gICAgZGFya1RoZW1lOiBmYWxzZSxcbiAgICBjdXN0b21TZWdtZW50SWQ6IG51bGwsXG4gICAgY3VzdG9tQ2xhc3NOYW1lOiBudWxsLFxuICAgIHdpZGdldElkczogW10sXG4gICAgc2hvcnRXaWRnZXRJZHM6IFtdLFxuICAgIHZlcmJvc2U6IGZhbHNlLFxuICAgIGJhY2tMaW5rOiAnJyxcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIGhhc0NvbnNlbnQ6IGZhbHNlLFxuICAgIGNvbnNlbnRTdHJpbmc6IG51bGwsXG4gIH07XG4gIF9kZWZhdWx0cy5hcGlSb290VXJsID0gX2RlZmF1bHRzLmFwaVJvb3Q7XG4gIF9kZWZhdWx0cy5hcGlSb290VmVyc2lvbmVkVXJsID1cbiAgICBfZGVmYXVsdHMuYXBpUm9vdFVybCArICcvJyArIF9kZWZhdWx0cy5hcGlWZXJzaW9uO1xuXG4gIHZhciBfY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgX2RlZmF1bHRzKTtcblxuICAvKipcbiAgICogU3RhcnQgUHJveGlzdG9yZSBlbmdpbmUgd2l0aCB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbi5cbiAgICogQWxsIG1pc3NpbmcgY29uZmlndXJhdGlvbiB3aWxsIGdldCBkZWZhdWx0cy5cbiAgICpcbiAgICogQHBhcmFtIGNmZ1xuICAgKiBAcmV0dXJuIHRoZSBjb25maWd1cmF0aW9uIGNvbXBsZXRlZCB3aXRoIGRlZmF1bHRzIGZvciBtaXNzaW5nIHZhbHVlc1xuICAgKi9cbiAgZnVuY3Rpb24gY29uZmlnKGNmZykge1xuICAgIGlmIChjZmcpIHtcbiAgICAgIC8vIENhbGxlZCBvbmx5IG9uY2UgZHVyaW5nIGluaXRpYWxpemF0aW9uIG9mIFByb3hpc3RvcmUgZW5naW5lXG4gICAgICBfY29uZmlnID0gT2JqZWN0LmFzc2lnbihfY29uZmlnLCBjZmcpO1xuICAgICAgaWYgKCFfY29uZmlnLmxhbmd1YWdlLm1hdGNoKCdmcnxubHxlcycpKSB7XG4gICAgICAgIF9jb25maWcuYXBpUm9vdFVybCA9IF9jb25maWcuYXBpUm9vdDtcbiAgICAgICAgX2NvbmZpZy5hcGlSb290VmVyc2lvbmVkVXJsID1cbiAgICAgICAgICBfY29uZmlnLmFwaVJvb3RVcmwgKyAnLycgKyBfY29uZmlnLmFwaVZlcnNpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY29uZmlnLmFwaVJvb3RVcmwgPSBfY29uZmlnLmFwaVJvb3Q7XG4gICAgICAgIF9jb25maWcuYXBpUm9vdFZlcnNpb25lZFVybCA9XG4gICAgICAgICAgX2NvbmZpZy5hcGlSb290VXJsICsgJy8nICsgX2NvbmZpZy5hcGlWZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2NvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zb2xlIGxvZyB0aGF0IGNhbiBiZSBkaXNhYmxlZCB3aXRoIHRoZSBjb25maWcgdmFyaWFibGUgICB7IHZlcmJvc2UgOiBmYWxzZSB9XG4gICAqL1xuICBmdW5jdGlvbiBsb2coKSB7XG4gICAgaWYgKF9jb25maWcudmVyYm9zZSkge1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgYXJncy5zcGxpY2UoMCwgMCwgJ1BST1hJU1RPUkUgLScpO1xuICAgICAgY29uc29sZS5sb2cuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9XG5cbiAgLy8gY2hlY2sgaWYgdXNlciBhbGxvd3MgdXMgdG8gd3JpdGUgY29va2llIGJ5IHVzaW5nIHRjZiBsaWJyYXJ5XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9JbnRlcmFjdGl2ZUFkdmVydGlzaW5nQnVyZWF1L0dEUFItVHJhbnNwYXJlbmN5LWFuZC1Db25zZW50LUZyYW1ld29yay9ibG9iL21hc3Rlci9UQ0Z2Mi9JQUIlMjBUZWNoJTIwTGFiJTIwLSUyMENNUCUyMEFQSSUyMHYyLm1kXG4gIGZ1bmN0aW9uIGlzQWxsb3dlZFRvV3JpdGVDb29raWVzKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAodHlwZW9mIF9fdGNmYXBpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfX3RjZmFwaSgnZ2V0VENEYXRhJywgMiwgZnVuY3Rpb24gKHRjRGF0YSwgc3VjY2Vzcykge1xuICAgICAgICAgIFByb3hpc3RvcmUuY29uZmlnKCkuY29uc2VudFN0cmluZyA9IHRjRGF0YS50Y1N0cmluZztcbiAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgcmVzb2x2ZSh0Y0RhdGEucHVycG9zZS5jb25zZW50c1sxXSAmJiB0Y0RhdGEudmVuZG9yLmNvbnNlbnRzWzQxOF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLy8gaWYgYnJvd3NlciBpcyBzYWZhcmkgd2UgY2FuIG5vdCB1c2UgdGhlIHdpZGdldCBhbmQgaGF2ZSB0byBkaXNwbGF5IGEgd2FybmluZyBtZXNzYWdlXG4gIGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICAgIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAodWEuaW5kZXhPZignc2FmYXJpJykgIT09IC0xKSB7XG4gICAgICByZXR1cm4gdWEuaW5kZXhPZignY2hyb21lJykgPT09IC0xO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBpc01vYmlsZSgpIHtcbiAgICBsZXQgY2hlY2sgPSBmYWxzZTtcbiAgICAoZnVuY3Rpb24oYSl7aWYoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLnRlc3QoYSl8fC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoYS5zdWJzdHIoMCw0KSkpIGNoZWNrID0gdHJ1ZTt9KShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpO1xuICAgIHJldHVybiBjaGVjaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZFNlZ21lbnRzSHRtbCgpIHtcbiAgICAvL1NJUkRBVEFcbiAgICB2YXIgcHhfaWZyYW1lX3N0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBweF9pZnJhbWVfc3R5bGUudGV4dENvbnRlbnQgPSAnI3B4X2ZyYW1lX3Npcl9kYXRhIHtkaXNwbGF5OiBub25lO30nO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocHhfaWZyYW1lX3N0eWxlKTtcbiAgICB2YXIgcHhfaWZyYW1lX3NpcmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBweF9pZnJhbWVfc2lyZGF0YS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3B4X2ZyYW1lX3Npcl9kYXRhJyk7XG4gICAgcHhfaWZyYW1lX3NpcmRhdGEuc2V0QXR0cmlidXRlKFxuICAgICAgICAnc3JjJyxcbiAgICAgICAgJy8vYWJzLnByb3hpc3RvcmUuY29tL3NpcmRhdGEvc2VnbWVudHMuaHRtbCdcbiAgICApO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocHhfaWZyYW1lX3NpcmRhdGEpO1xuICB9XG5cbiAgUHJveGlzdG9yZS5jb25maWcgPSBjb25maWc7XG4gIFByb3hpc3RvcmUubG9nID0gbG9nO1xuICBQcm94aXN0b3JlLmlzQWxsb3dlZFRvV3JpdGVDb29raWVzID0gaXNBbGxvd2VkVG9Xcml0ZUNvb2tpZXM7XG4gIFByb3hpc3RvcmUuaXNTYWZhcmkgPSBpc1NhZmFyaTtcbiAgUHJveGlzdG9yZS5pc01vYmlsZSA9IGlzTW9iaWxlO1xuICBQcm94aXN0b3JlLmFwcGVuZFNlZ21lbnRzSHRtbCA9IGFwcGVuZFNlZ21lbnRzSHRtbDtcblxuICByZXR1cm4gUHJveGlzdG9yZTtcbn0pKFByb3hpc3RvcmUgfHwge30pO1xuIiwidmFyIFByb3hpc3RvcmUgPSAoZnVuY3Rpb24gKFByb3hpc3RvcmUpIHtcbiAgICBmdW5jdGlvbiBsb2FkQ1NTKCkge1xuICAgICAgICBjb25zdCBocmVmID0gXCJodHRwczovL2Ficy5wcm94aXN0b3JlLmNvbS9hc3NldHMvY3NzL3Byb3hpc3RvcmUubWluLmNzc1wiO1xuICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICB2YXIgaGVhZCA9XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZShcInJlbFwiLCBcInN0eWxlc2hlZXRcIik7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHQvY3NzXCIpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgaHJlZik7XG4gICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKGxpbmssIGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGl4ZWxDb3VudGVyRGl2KHB1Ymxpc2hlclNwb3RJZCwgYm94SWQpIHtcbiAgICAgICAgdmFyIGJveFBvc2l0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYm94SWQpO1xuICAgICAgICB2YXIgcGl4ZWxDb3VudGVyRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICBcInBzLXBpeGVsQ291bnRlci1cIiArIHB1Ymxpc2hlclNwb3RJZFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChwaXhlbENvdW50ZXJEaXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHBpeGVsQ291bnRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB2YXIgcGl4ZWxDb3VudGVyX2Rpdl9pZCA9IGNyZWF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICBcImlkXCIsXG4gICAgICAgICAgICAgICAgXCJwcy1waXhlbENvdW50ZXItXCIgKyBwdWJsaXNoZXJTcG90SWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwaXhlbENvdW50ZXJEaXYuc2V0QXR0cmlidXRlTm9kZShwaXhlbENvdW50ZXJfZGl2X2lkKTtcbiAgICAgICAgICAgIHZhciBwaXhlbENvdW50ZXJfZGl2X2NsYXNzID0gY3JlYXRlQXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwcy1waXhlbENvdW50ZXJcIik7XG4gICAgICAgICAgICBwaXhlbENvdW50ZXJEaXYuc2V0QXR0cmlidXRlTm9kZShwaXhlbENvdW50ZXJfZGl2X2NsYXNzKTtcbiAgICAgICAgICAgIHZhciBwaXhlbENvdW50ZXJfZGl2X3N0eWxlID0gY3JlYXRlQXR0cmlidXRlKFwic3R5bGVcIiwgXCJkaXNwbGF5Om5vbmVcIik7XG4gICAgICAgICAgICBwaXhlbENvdW50ZXJEaXYuc2V0QXR0cmlidXRlTm9kZShwaXhlbENvdW50ZXJfZGl2X3N0eWxlKTtcbiAgICAgICAgICAgIGJveFBvc2l0aW9uLmFwcGVuZENoaWxkKHBpeGVsQ291bnRlckRpdik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGl4ZWxDb3VudGVyRGl2O1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBhbiBpbWFnZSBvZiAxWDEgdG8gbWFrZSBhIEdFVCByZXF1ZXN0IGFuZCBhdm9pZCBDT1JTXG4gICAgZnVuY3Rpb24gaW5zZXJ0UGl4ZWxUcmFja2VyKHBpeGVsQ291bnRlckRpdiwgdXJsKSB7XG4gICAgICAgIHZhciBwaXhlbFRyYWNrZXJJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBwaXhlbFRyYWNrZXJJbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIHVybCk7XG4gICAgICAgIHBpeGVsQ291bnRlckRpdi5hcHBlbmRDaGlsZChwaXhlbFRyYWNrZXJJbWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICBhdHRyaWJ1dGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRQaXhlbENvdW50ZXIocHVibGlzaGVyU3BvdElkLCBib3hJZCwgcGl4ZWxDb3VudGVySW1nVXJscykge1xuICAgICAgICB2YXIgcGl4ZWxDb3VudGVyRGl2ID0gZ2V0UGl4ZWxDb3VudGVyRGl2KHB1Ymxpc2hlclNwb3RJZCwgYm94SWQpO1xuICAgICAgICBpZiAocGl4ZWxDb3VudGVySW1nVXJscy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpIHtcbiAgICAgICAgICAgIGluc2VydFBpeGVsVHJhY2tlcihwaXhlbENvdW50ZXJEaXYsIHBpeGVsQ291bnRlckltZ1VybHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHBpeGVsQ291bnRlckltZ1VybHMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgICAgIGluc2VydFBpeGVsVHJhY2tlcihwaXhlbENvdW50ZXJEaXYsIHBpeGVsQ291bnRlckltZ1VybHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdXNlIHRvIHJlcGxhY2VNYXJjb1VybCBmb3Igb2t1YmVcbiAgICBmdW5jdGlvbiByZXBsYWNlTWFjcm9VcmwodXJsLCBjb25zZW50U3RyaW5nLCBhZHZlcnRpc2VtZW50KSB7XG4gICAgICAgIGxldCBjdXJyZW50VGltZU1pbGxpcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBsZXQgcmFuZG9tT2Zmc2V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMDAwKSArIDE7XG4gICAgICAgIGxldCByYW5kb21OdW1iZXIgPSBjdXJyZW50VGltZU1pbGxpcy50b1N0cmluZygpICsgU3RyaW5nKHJhbmRvbU9mZnNldCkucGFkU3RhcnQoNCwnMCcpO1xuXG4gICAgICAgIGNvbnN0IHJlcGxhY2VyID0ge1xuICAgICAgICAgICAgLy8gJ3tBRFZFUlRJU0VSX0lEfSc6IGFkdmVydGlzZW1lbnQuYWR2ZSxcbiAgICAgICAgICAgIFwie0NBTVBBSUdOX0lEfVwiOiBhZHZlcnRpc2VtZW50LmNhbXBhaWduSWQsXG4gICAgICAgICAgICBcIntBRFZFUlRJU0VNRU5UX0lEfVwiOiBhZHZlcnRpc2VtZW50LmFkdmVydGlzZW1lbnRJZCxcbiAgICAgICAgICAgIC8vICd7Q09OU0VOVF9HSVZFTn0nOiBhZHZlcnRpc2VtZW50LmNvbnNlbnRHaXZlbixcbiAgICAgICAgICAgIFwie0NPTlNFTlRfU1RSSU5HfVwiOiBjb25zZW50U3RyaW5nLFxuICAgICAgICAgICAgXCJ7UkFORE9NfVwiOiByYW5kb21OdW1iZXIsXG4gICAgICAgICAgICBcIntyYW5kb219XCI6IHJhbmRvbU51bWJlclxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB1cmwucmVwbGFjZShcbiAgICAgICAgICAgIC97QURWRVJUSVNFUl9JRH18e0NBTVBBSUdOX0lEfXx7QURWRVJUSVNFTUVOVF9JRH18e0NPTlNFTlRfR0lWRU59fHtDT05TRU5UX1NUUklOR318e1JBTkRPTX18e3JhbmRvbX0vZ2ksXG4gICAgICAgICAgICBmdW5jdGlvbiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXBsYWNlclttYXRjaGVkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gcmVkaXJlY3RVcmwgZnJvbSB2aXN1YWwgaW4gcHJpb3JpdHlcbiAgICBmdW5jdGlvbiBnZXRVcmxSZWRpcmVjdGlvbihhZHZlcnRpc2VtZW50LCBjdXJyZW50VmlzdWFsLCBjb25zZW50U3RyaW5nLCB1dklkLCBwcm94aXN0b3JlSWQpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRWaXN1YWwucmVkaXJlY3RVcmwpIHtcbiAgICAgICAgICAgIGFkdmVydGlzZW1lbnQudXJsUmVkaXJlY3Rpb24gPSBjdXJyZW50VmlzdWFsLnJlZGlyZWN0VXJsO1xuICAgICAgICB9XG4gICAgICAgIGFkdmVydGlzZW1lbnQudXJsUmVkaXJlY3Rpb24gPSByZXBsYWNlTWFjcm9VcmwoXG4gICAgICAgICAgICBhZHZlcnRpc2VtZW50LnVybFJlZGlyZWN0aW9uLFxuICAgICAgICAgICAgY29uc2VudFN0cmluZyxcbiAgICAgICAgICAgIGFkdmVydGlzZW1lbnRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGNhbkluc2VydFNtYXJ0VHJhZmZpa1JlZGlyZWN0KGFkdmVydGlzZW1lbnQpXG4gICAgICAgICAgICA/IGdldFNtYXJ0VHJhZmlrVXJsUmVkaXJlY3Rpb24oYWR2ZXJ0aXNlbWVudCwgY29uc2VudFN0cmluZywgdXZJZCwgcHJveGlzdG9yZUlkKVxuICAgICAgICAgICAgOiBhZHZlcnRpc2VtZW50LnVybFJlZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUFkKFxuICAgICAgICBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQsXG4gICAgICAgIGJveElkLFxuICAgICAgICBhZHZlcnRpc2VtZW50LFxuICAgICAgICBsb2MsXG4gICAgICAgIGNvbnNlbnRTdHJpbmcsXG4gICAgICAgIHV2SWQsXG4gICAgICAgIHByb3hpc3RvcmVJZFxuICAgICkge1xuICAgICAgICB2YXIgYm94UG9zaXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChib3hJZCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwod2luZG93W1wicHNfaW50ZXJ2YWxfXCIgKyBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWRdKTtcbiAgICAgICAgYm94UG9zaXRpb24uc3R5bGUud2lkdGggPSBhZHZlcnRpc2VtZW50LndpZHRoICsgXCJweFwiO1xuICAgICAgICBib3hQb3NpdGlvbi5zdHlsZS5oZWlnaHQgPSBhZHZlcnRpc2VtZW50LmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgLy8gZmlsbCBmaXJzdCBpbWFnZSB3aXRoIHByb3BlcnRpZXNcbiAgICAgICAgY29uc3QgdmlzdWFsID0gYWR2ZXJ0aXNlbWVudC52aXN1YWxzWzBdO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBzLWFkLWltZy1cIiArIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCkuc3JjID1cbiAgICAgICAgICAgIHZpc3VhbC51cmxWaXN1YWw7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHMtYWQtXCIgKyBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQpLmhyZWYgPVxuICAgICAgICAgICAgZ2V0VXJsUmVkaXJlY3Rpb24oYWR2ZXJ0aXNlbWVudCwgdmlzdWFsLCBjb25zZW50U3RyaW5nLCB1dklkKTtcblxuICAgICAgICBpZiAoYWR2ZXJ0aXNlbWVudC52aXN1YWxzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBjYXJvdXNlbFxuICAgICAgICAgICAgd2luZG93W1wicHNfdmlzdWFsSWR4X1wiICsgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkXSA9IDI7XG4gICAgICAgICAgICB3aW5kb3dbXCJwc19pbnRlcnZhbF9cIiArIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZF0gPSBzZXRJbnRlcnZhbChcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHMtYWQtaW1nLVwiICsgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkKS5zcmMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2ZXJ0aXNlbWVudC52aXN1YWxzW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tcInBzX3Zpc3VhbElkeF9cIiArIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLnVybFZpc3VhbDtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcy1hZC1cIiArIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCkuaHJlZiA9XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRVcmxSZWRpcmVjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQudmlzdWFsc1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93W1wicHNfdmlzdWFsSWR4X1wiICsgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNlbnRTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXZJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94aXN0b3JlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd1tcInBzX3Zpc3VhbElkeF9cIiArIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgKHdpbmRvd1tcInBzX3Zpc3VhbElkeF9cIiArIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZF0gKyAxKSAlXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LnZpc3VhbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgMzAwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRpc3BsYXkgcHJveGlzdG9yZSAncGlwZXR0ZSdcbiAgICBmdW5jdGlvbiBzdGFydEluZm9ib3hUcmFuc2l0aW9uKHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCkge1xuICAgICAgICB2YXIgcGljdG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBzLXBpY3RvLVwiICsgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkKTtcbiAgICAgICAgd2luZG93W1wicHNfaW5mb2JveFRpbWVvdXRfXCIgKyBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWRdID0gc2V0VGltZW91dChcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwaWN0by5jbGljaygpO1xuICAgICAgICAgICAgICAgIHdpbmRvd1tcInBzX2luZm9ib3hUaW1lb3V0X1wiICsgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkXSA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY3RvLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIDQwMDBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDEwMDBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCB0byByZWdpc3RlciBhZHZlcnRpc2VtZW50IGNsaWNrIG9uIHByb3hpc3RvcmUgYmFja2VuZFxuICAgICAqIEBwYXJhbSBoYW5kbGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkQWR2ZXJ0aXNlbWVudENsaWNrSGFuZGxlcihhZHZlcnRpc2VtZW50LCBkZWFsSWQsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGFkID1cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgIFwicHMtYWQtXCIgKyBhZHZlcnRpc2VtZW50LnB1Ymxpc2hlclNwb3QucHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkXG4gICAgICAgICAgICApIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5saW5lRnJhbWVFeGFtcGxlXCIpO1xuICAgICAgICBhZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXZlbnRzIHRvIG9wZW4vY2xvc2UgdGhlIGluZm9ib3hcbiAgICAgKiBAcGFyYW0gYWR2ZXJ0aXNlbWVudFxuICAgICAqIEBwYXJhbSBpbmZvQm94T3JpZW50YXRpb25cbiAgICAgKiBAcGFyYW0gY2xpY2tIYW5kbGVyXG4gICAgICogQHBhcmFtIG1vdXNlT3ZlckhhbmRsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRQaWN0b0hhbmRsZXJzKFxuICAgICAgICBhZHZlcnRpc2VtZW50LFxuICAgICAgICBpbmZvQm94T3JpZW50YXRpb24sXG4gICAgICAgIGNsaWNrSGFuZGxlcixcbiAgICAgICAgbW91c2VPdmVySGFuZGxlclxuICAgICkge1xuICAgICAgICAvLyBFdmVudCB0byBvcGVuL2Nsb3NlIHRoZSBpbmZvYm94XG4gICAgICAgIC8vIHZhciBwaWN0byA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAvLyAgICAgXCJwcy1waWN0by1cIiArIGFkdmVydGlzZW1lbnQucHVibGlzaGVyU3BvdC5wdWJsaXNoZXJTcG90UmVmZXJlbmNlSWRcbiAgICAgICAgLy8gKTtcbiAgICAgICAgLy8gcGljdG8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrSGFuZGxlcik7XG5cbiAgICAgICAgLy8gRXZlbnQgdG8gcmVvcGVuIHRoZSBjbG9zaW5nIGluZm9ib3hcbiAgICAgICAgdmFyIGluZm9Cb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgIFwicHMtaW5mb2JveC1cIiArIGFkdmVydGlzZW1lbnQucHVibGlzaGVyU3BvdC5wdWJsaXNoZXJTcG90UmVmZXJlbmNlSWRcbiAgICAgICAgKTtcbiAgICAgICAgaW5mb0JveC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIG1vdXNlT3ZlckhhbmRsZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hbmFnZUluZm9Cb3goXG4gICAgICAgIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCxcbiAgICAgICAgaW5mb0JveE9yaWVudGF0aW9uLFxuICAgICAgICBmb3JjZUV4cGFuZFxuICAgICkge1xuICAgICAgICBjbGVhclRpbWVvdXQod2luZG93W1wicHNfaW5mb2JveFRpbWVvdXRfXCIgKyBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWRdKTtcbiAgICAgICAgdmFyIGluZm9Cb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgIFwicHMtaW5mb2JveC1cIiArIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChpbmZvQm94T3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICAgICAgICAvLyBIb3Jpem9udGFsIGluZm9Cb3hcbiAgICAgICAgICAgIGluZm9Cb3guc3R5bGUud2lkdGggPVxuICAgICAgICAgICAgICAgIGluZm9Cb3guY2xpZW50V2lkdGggPT09IDAgfHwgZm9yY2VFeHBhbmQgPyBcIjI1MHB4XCIgOiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVmVydGljYWwgaW5mb0JveFxuICAgICAgICAgICAgaW5mb0JveC5zdHlsZS53aWR0aCA9XG4gICAgICAgICAgICAgICAgaW5mb0JveC5jbGllbnRXaWR0aCA9PT0gMCB8fCBmb3JjZUV4cGFuZCA/IFwiMTE2cHhcIiA6IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgYSBpbnZpc2libGUgcGl4ZWwgaW1hZ2UgdG8gbWFrZSBhIGdldCByZXF1ZXN0IHdpdGhvdXQgY29yc1xuICAgIGZ1bmN0aW9uIGluamVjdEdldFJlcXVlc3RJbk1hcmt1cCh1cmwpIHtcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0gfHwgZG9jdW1lbnQuYm9keTtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxpbWcgc3JjPVwiJyArXG4gICAgICAgICAgICB1cmwgK1xuICAgICAgICAgICAgJ1wiIHdpZHRoPVwiMVwiIGhlaWdodD1cIjFcIiBhbHQ9XCJcIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPic7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5JbnNlcnRTbWFydFRyYWZmaWtSZWRpcmVjdChhZHZlcnRpc2VtZW50KSB7XG4gICAgICAgIHJldHVybiBhZHZlcnRpc2VtZW50Lm1lYXN1cmVTdG9yZVZpc2l0cyB8fCBhZHZlcnRpc2VtZW50LmFsd2F5c1VzZVJlZGlyZWN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbkluc2VydFNtYXJ0VHJhZmZpa0ltcHJlc3Npb25UcmFja2VyKGFkdmVydGlzZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGFkdmVydGlzZW1lbnQubWVhc3VyZVN0b3JlVmlzaXRzIHx8IGFkdmVydGlzZW1lbnQuYWx3YXlzSW5zZXJ0U2NyaXB0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGxTbWFydFRyYWZpayhhZHZlcnRpc2VtZW50LCBjb25zZW50U3RyaW5nLCB1dklkLCBwcm94aXN0b3JlSWQpIHtcbiAgICAgICAgZnVuY3Rpb24gc3RBc3luY0xvYWRlcih1LCBjKSB7XG4gICAgICAgICAgICB2YXIgZCA9IGRvY3VtZW50LFxuICAgICAgICAgICAgICAgIHQgPSBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICAgIG8gPSBkLmNyZWF0ZUVsZW1lbnQodCksXG4gICAgICAgICAgICAgICAgcyA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodClbMF07XG4gICAgICAgICAgICBvLnNyYyA9IHU7XG4gICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgIG8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgXCJsb2FkXCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjKG51bGwsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8sIHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUUgV2Ugc2hvdWxkIHJlbW92ZSB0aGlzIGhhY2ssIHRoaXMgaGFzIGJlZW4gZm9yY2VkIGJ5IHRoZSBldmlsIHNhbGVzIHRlYW1cbiAgICAgICAgdmFyIGJyYW5kU2x1ZyA9IGFkdmVydGlzZW1lbnQuYnJhbmRTbHVnO1xuICAgICAgICBpZiAoYWR2ZXJ0aXNlbWVudC5hZHZlcnRpc2VySWQgPT09IFwiZDI2ZTZhNTQtZmFjZS00NTQ3LTg1ZjUtMjBiZTFlZGUxYTI2XCIpIHtcbiAgICAgICAgICAgIGJyYW5kU2x1ZyA9IFwiZW1pbGZyZXlcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm94aXN0b3JlSWQpIHtcbiAgICAgICAgICAgIHN0QXN5bmNMb2FkZXIoXCJodHRwczovL2F1ZGllbmNlLXN0YXRpYy53dHMtb2t1YmUuY29tL3J0Yi5qc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnN0QXVkaWVuY2UubGF1bmNoQXBwKHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50SWQ6IHV2SWQsXG4gICAgICAgICAgICAgICAgICAgIGJyYW5kU2x1ZzogYnJhbmRTbHVnLFxuICAgICAgICAgICAgICAgICAgICBtb2R1bGU6IFwiZHByaW50XCIsXG4gICAgICAgICAgICAgICAgICAgIGNhbXBhaWduSWQ6IGFkdmVydGlzZW1lbnQucHJlZml4ICsgYWR2ZXJ0aXNlbWVudC5hZHZlcnRpc2VtZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnNlbnRTdHJpbmc6IGNvbnNlbnRTdHJpbmcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0QXN5bmNMb2FkZXIoXCJodHRwczovL2F1ZGllbmNlLXN0YXRpYy53dHMtb2t1YmUuY29tL3J0Yi5qc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnN0QXVkaWVuY2UubGF1bmNoQXBwKHtcbiAgICAgICAgICAgICAgICAgICAgYnJhbmRTbHVnOiBicmFuZFNsdWcsXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZTogXCJkcHJpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgY2FtcGFpZ25JZDogYWR2ZXJ0aXNlbWVudC5wcmVmaXggKyBhZHZlcnRpc2VtZW50LmFkdmVydGlzZW1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgY29uc2VudFN0cmluZzogY29uc2VudFN0cmluZyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRQaWN0b0h0bWwocHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkLCBpbmZvQm94T3JpZW50YXRpb24sIHN1cmZlckNpdHlOYW1lKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAvLyAgIFwiPHNwYW4gaWQ9J3BzLXBpY3RvLVwiICsgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkICsgXCInIGNsYXNzPSdwcy1waWN0byBcIiArIGluZm9Cb3hPcmllbnRhdGlvbiArIFwiJz5cIiArXG4gICAgICAgICAgICAvLyBcIiAgIDxzdmcgdmlld0JveD0nMCAwIDE1MDAgMTUwMCcgd2lkdGg9JzAnPjxwYXRoIGQ9J003NTAsMTUwMGE0MS43LDQxLjcsMCwwLDEtNDAuNTMtMzEuODhMNTgyLjQ3LDk0MWE0ODMuMDYsNDgzLjA2LDAsMCwxLTU1LjE5LTI0LjMzLDQ3My43NCw0NzMuNzQsMCwwLDEtNzIuMDktNDUuNzdDMzM0LjEyLDc3OC4yOSwyNjQuNjEsNjM3Ljc2LDI2NC42MSw0ODUuMzljMC0xMjkuNzMsNTAuNDktMjUxLjYzLDE0Mi4xNi0zNDMuMjVTNjIwLjQsMCw3NTAsMHMyNTEuNSw1MC40NywzNDMuMjYsMTQyLjE0LDE0Mi4xNiwyMTMuNTksMTQyLjE2LDM0My4yNUE0ODYuMTQsNDg2LjE0LDAsMCwxLDEyMTUsNjI1LDQ4Niw0ODYsMCwwLDEsOTE3LjUsOTQxbC0xMjcsNTI3LjExQTQxLjcxLDQxLjcxLDAsMCwxLDc1MCwxNTAwWk03NTAsOTAuMjJjLTEwNS40OSwwLTIwNC43MSw0MS4xMi0yNzkuMzcsMTE1Ljc3UzM1NC44OCwzNzkuOTIsMzU0Ljg4LDQ4NS4zOWMwLDEyNCw1Ni41OSwyMzguNDQsMTU1LjI0LDMxMy45MWEzOTAuNzYsMzkwLjc2LDAsMCwwLDEyMy42MSw2My44MmMxNC4wNSw0LjMyLDI2LjY4LDE2LjI0LDMwLjE2LDMwLjUyTDc1MCwxMjUxbDg1LjU5LTM1NS4zMmMwLS4yLjYxLTIuMzMuNjUtMi41MWE0MS42Myw0MS42MywwLDAsMSwyOC40Mi0yOS42MmMxMDUuNjUtMzIuNDYsMTkyLjg1LTEwNy4xNCwyNDAuNzYtMjA1LjM0QTQwMC4zNiw0MDAuMzYsMCwwLDAsMTEyOC41Niw1OTlhMzk2LjM1LDM5Ni4zNSwwLDAsMCwxNi41OC0xMTEuMzJjMC0uNzctLjA3LTEuNTItLjA3LTIuMjhzMC0xLjUxLjA3LTIuMjhBMzkyLjQsMzkyLjQsMCwwLDAsMTAyOS4zOSwyMDZDOTU0LjcxLDEzMS4zNCw4NTUuNDksOTAuMjIsNzUwLDkwLjIyWicvPjxwYXRoIGQ9J003NTAsNjYyLjI1Yy05OC42MSwwLTE3OC44NC04MC4yNC0xNzguODQtMTc4Ljg3UzY1MS4zNywzMDQuNTEsNzUwLDMwNC41MXMxNzguODksODAuMjQsMTc4Ljg5LDE3OC44N1M4NDguNjEsNjYyLjI1LDc1MCw2NjIuMjVabTAtMjc0LjM1YTk1LjQ4LDk1LjQ4LDAsMSwwLDk1LjQ5LDk1LjQ5QTk1LjU4LDk1LjU4LDAsMCwwLDc1MCwzODcuODlaJy8+PC9zdmc+XCIgK1xuICAgICAgICAgICAgLy8gXCI8L3NwYW4+XCIgK1xuICAgICAgICAgICAgXCI8c3BhbiBpZD0ncHMtaW5mb2JveC1cIiArIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCArIFwiJyBjbGFzcz0ncHMtaW5mb2JveCBcIiArIGluZm9Cb3hPcmllbnRhdGlvbiArIFwiJz5cIiArXG4gICAgICAgICAgICAvLyBcIiAgIDxzcGFuIGNsYXNzPSdwcy1sb2NhdGlvbiBcIiArIGluZm9Cb3hPcmllbnRhdGlvbiArIFwiJz5cIiArXG4gICAgICAgICAgICAvLyBcIiAgICAgICA8c3ZnIHZpZXdCb3g9JzAgMCAxMDkuMzIgMTA5LjMyJyB3aWR0aD0nMCc+PHBhdGggZD0nTTEwOC4xNCwxLjE4YTQsNCwwLDAsMC00LjQ1LS44NEwyLjQxLDQ0LjVBNCw0LDAsMCwwLDIuOSw1Mkw0NSw2NC4zNGwxMi4yOSw0Mi4wOGE0LDQsMCwwLDAsMy42MSwyLjg5aC4yNmE0LDQsMCwwLDAsMy42OS0yLjQxTDEwOSw1LjYzQTQsNCwwLDAsMCwxMDguMTQsMS4xOFonLz48L3N2Zz5cIiArXG4gICAgICAgICAgICAvLyBcIiAgICAgICA8YSBjbGFzcz0ncHMtY2l0eSBcIiArIGluZm9Cb3hPcmllbnRhdGlvbiArIFwiJyBocmVmPSdodHRwczovL3d3dy5wcm94aXN0b3JlLmNvbS9nZW9sb2NhbGlzYXRpb24nIHRhcmdldD0nX2JsYW5rJz5cIiArIHN1cmZlckNpdHlOYW1lICsgXCI8L2E+XCIgK1xuICAgICAgICAgICAgLy8gXCIgICA8L3NwYW4+XCIgK1xuICAgICAgICAgICAgXCIgICA8c3BhbiBjbGFzcz0ncHMtYWN0aW9ucyBcIiArIGluZm9Cb3hPcmllbnRhdGlvbiArIFwiJz5cIiArXG4gICAgICAgICAgICBcIiAgICAgICA8YSBpZD0ncHMtc3RvcmUtXCIgKyBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQgKyBcIicgY2xhc3M9J3BzLXN0b3JlIFwiICsgaW5mb0JveE9yaWVudGF0aW9uICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgICAgPHN2ZyB2aWV3Qm94PScwIDAgNTI1LjE2IDUyNS4xNicgd2lkdGg9JzAnPjxwYXRoIGQ9J001MTcuNDcsMjQ0LjA3LDI4MS4wOSw3LjY4YTI2LjEyLDI2LjEyLDAsMCwwLTM3LDBMNy42OCwyNDQuMDdhMjYuMTIsMjYuMTIsMCwwLDAsMCwzN0wyNDQuMDksNTE3LjQ3YTI2LjEyLDI2LjEyLDAsMCwwLDM3LDBMNTE3LjQ5LDI4MS4wN0M1MjcuNzEsMjcxLjE1LDUyNy43MSwyNTQuNTIsNTE3LjQ3LDI0NC4wN1pNMzE1LDMyOC4zNVYyNjIuNjlIMjA5Ljg5djc4Ljg0SDE1Ny4zOVYyMzYuNDVhMjYuMzQsMjYuMzQsMCwwLDEsMjYuMjQtMjYuMjZIMzE1VjE0NC41NWw5MS45LDkxLjlaJy8+PC9zdmc+XCIgK1xuICAgICAgICAgICAgXCIgICAgICAgPC9hPlwiICtcbiAgICAgICAgICAgIFwiICAgPC9zcGFuPlwiICtcbiAgICAgICAgICAgIFwiPC9zcGFuPlwiXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJbWFnZUJhbm5lckNvZGUoXG4gICAgICAgIGluZm9Cb3hPcmllbnRhdGlvbixcbiAgICAgICAgaXNJbnRlcnN0aXRhbCxcbiAgICAgICAgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkLFxuICAgICAgICBzdXJmZXJDaXR5TmFtZVxuICAgICkge1xuICAgICAgICBpZiAoaXNJbnRlcnN0aXRhbCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiPGEgaWQ9J3BzLWFkLVwiICtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQgK1xuICAgICAgICAgICAgICAgIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgK1xuICAgICAgICAgICAgICAgIFwiICAgPGltZyBpZD0ncHMtYWQtaW1nLVwiICtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQgK1xuICAgICAgICAgICAgICAgIFwiJyBjbGFzcz0ncHMtYWQtaW1nIFwiICtcbiAgICAgICAgICAgICAgICBpbmZvQm94T3JpZW50YXRpb24gK1xuICAgICAgICAgICAgICAgIFwiJz5cIiArXG4gICAgICAgICAgICAgICAgXCI8L2E+XCJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0UGljdG9IdG1sKHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCwgaW5mb0JveE9yaWVudGF0aW9uLCBzdXJmZXJDaXR5TmFtZSkgK1xuICAgICAgICAgICAgXCI8YSBpZD0ncHMtYWQtXCIgK1xuICAgICAgICAgICAgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkICtcbiAgICAgICAgICAgIFwiJyBjbGFzcz0ncHMtYWQgXCIgK1xuICAgICAgICAgICAgaW5mb0JveE9yaWVudGF0aW9uICtcbiAgICAgICAgICAgIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgK1xuICAgICAgICAgICAgXCIgICA8aW1nIGlkPSdwcy1hZC1pbWctXCIgK1xuICAgICAgICAgICAgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkICtcbiAgICAgICAgICAgIFwiJyBjbGFzcz0ncHMtYWQtaW1nIFwiICtcbiAgICAgICAgICAgIGluZm9Cb3hPcmllbnRhdGlvbiArXG4gICAgICAgICAgICBcIic+XCIgK1xuICAgICAgICAgICAgXCI8L2E+XCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SHRtbEJhbm5lckNvZGUod2lkdGgsIGhlaWdodCwgdXJsVmlzdWFsKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAnPGlmcmFtZSBpZD1cInB4SWZyYW1lSHRtbDVcIicgK1xuICAgICAgICAgICAgJ3RpdGxlPVwidGl0bGVFeGFtcGxlXCInICtcbiAgICAgICAgICAgICd3aWR0aD1cIicgK1xuICAgICAgICAgICAgd2lkdGggK1xuICAgICAgICAgICAgJ1wiJyArXG4gICAgICAgICAgICAnaGVpZ2h0PVwiJyArXG4gICAgICAgICAgICBoZWlnaHQgK1xuICAgICAgICAgICAgJ1wiJyArXG4gICAgICAgICAgICAnc3JjPVwiJyArXG4gICAgICAgICAgICB1cmxWaXN1YWwgK1xuICAgICAgICAgICAgJ1wiJyArXG4gICAgICAgICAgICAnbWFyZ2lud2lkdGg9XCIwXCIgbWFyZ2luaGVpZ2h0PVwiMFwiIGhzcGFjZT1cIjBcIiB2c3BhY2U9XCIwXCIgc2Nyb2xsaW5nPVwibm9cIiBmcmFtZWJvcmRlcj1cIjBcIicgK1xuICAgICAgICAgICAgXCI8L2lmcmFtZT5cIlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNtYXJ0VHJhZmlrVXJsUmVkaXJlY3Rpb24oYWR2ZXJ0aXNlbWVudCwgY29uc2VudFN0cmluZywgdXZJZCwgcHJveGlzdG9yZUlkKSB7XG5cbiAgICAgICAgLy8gRklYTUUgV2Ugc2hvdWxkIHJlbW92ZSB0aGlzIGhhY2ssIHRoaXMgaGFzIGJlZW4gZm9yY2VkIGJ5IHRoZSBldmlsIHNhbGVzIHRlYW1cbiAgICAgICAgdmFyIGJyYW5kU2x1ZyA9IGFkdmVydGlzZW1lbnQuYnJhbmRTbHVnO1xuICAgICAgICBpZiAoYWR2ZXJ0aXNlbWVudC5hZHZlcnRpc2VySWQgPT09IFwiZDI2ZTZhNTQtZmFjZS00NTQ3LTg1ZjUtMjBiZTFlZGUxYTI2XCIpIHtcbiAgICAgICAgICAgIGJyYW5kU2x1ZyA9IFwiZW1pbGZyZXlcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm94aXN0b3JlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgXCJodHRwczovL2F1ZGllbmNlLWFwaS53dHMtb2t1YmUuY29tL3JlZGlyZWN0P2JyYW5kX3NsdWc9XCIgK1xuICAgICAgICAgICAgICAgIGJyYW5kU2x1ZyArXCImbW9kdWxlPWRjbGljJmNhbXBhaWduX2lkPVwiICsgYWR2ZXJ0aXNlbWVudC5wcmVmaXggK1xuICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQuYWR2ZXJ0aXNlbWVudElkICtcbiAgICAgICAgICAgICAgICBcIiZjbGllbnRfaWQ9XCIgK1xuICAgICAgICAgICAgICAgIHV2SWQgK1xuICAgICAgICAgICAgICAgIFwiJmNvbnNlbnRfc3RyaW5nPVwiICtcbiAgICAgICAgICAgICAgICBjb25zZW50U3RyaW5nICtcbiAgICAgICAgICAgICAgICBcIiZyZWRpcmVjdF91cmw9XCIgK1xuICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQudXJsUmVkaXJlY3Rpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIFwiaHR0cHM6Ly9hdWRpZW5jZS1hcGkud3RzLW9rdWJlLmNvbS9yZWRpcmVjdD9icmFuZF9zbHVnPVwiICtcbiAgICAgICAgICAgICAgICBicmFuZFNsdWcgK1wiJm1vZHVsZT1kY2xpYyZjYW1wYWlnbl9pZD1cIiArIGFkdmVydGlzZW1lbnQucHJlZml4ICtcbiAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LmFkdmVydGlzZW1lbnRJZCArXG4gICAgICAgICAgICAgICAgXCImY29uc2VudF9zdHJpbmc9XCIgK1xuICAgICAgICAgICAgICAgIGNvbnNlbnRTdHJpbmcgK1xuICAgICAgICAgICAgICAgIFwiJnJlZGlyZWN0X3VybD1cIiArXG4gICAgICAgICAgICAgICAgYWR2ZXJ0aXNlbWVudC51cmxSZWRpcmVjdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNlbmQgdGhlIGFkdmVydGlzZW1lbnREVE8gYXMgYSBtZXNzYWdlIHRvIHRoZSBpZnJhbWUgdG8gaGFuZGxlIGNsaWNrc1xuICAgIGZ1bmN0aW9uIHBvc3RNZXNzYWdlVG9JZnJhbWUoYWR2ZXJ0aXNlbWVudCwgZGVhbElkLCBjb25zZW50U3RyaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsSUZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJweElmcmFtZUh0bWw1XCIpO1xuICAgICAgICAgICAgdmFyIGlGcmFtZVdpbmRvdyA9IG1vZGFsSUZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgICAgICAgICBpRnJhbWVXaW5kb3cucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50SWQ6IGFkdmVydGlzZW1lbnQuYWR2ZXJ0aXNlbWVudElkLFxuICAgICAgICAgICAgICAgICAgICBjYW1wYWlnbklkOiBhZHZlcnRpc2VtZW50LmNhbXBhaWduSWQsXG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZDpcbiAgICAgICAgICAgICAgICAgICAgYWR2ZXJ0aXNlbWVudC5wdWJsaXNoZXJTcG90LnB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCxcbiAgICAgICAgICAgICAgICAgICAgZGVhbElkOiBkZWFsSWQsXG4gICAgICAgICAgICAgICAgICAgIGNhbkNhbGxTbWFydFRyYWZpazogY2FuSW5zZXJ0U21hcnRUcmFmZmlrUmVkaXJlY3QoYWR2ZXJ0aXNlbWVudCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnNlbnRTdHJpbmc6IGNvbnNlbnRTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgIHVybFJlZGlyZWN0aW9uOiBhZHZlcnRpc2VtZW50LnVybFJlZGlyZWN0aW9uLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCIqXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGxJbXByZXNzaW9uVHJhY2tlcnMob3B0aW9ucykge1xuICAgICAgICB2YXIgYWR2ZXJ0aXNlbWVudCA9IG9wdGlvbnMuYWR2ZXJ0aXNlbWVudDtcbiAgICAgICAgdmFyIGNvbnNlbnRTdHJpbmcgPSBvcHRpb25zLmNvbnNlbnRTdHJpbmc7XG4gICAgICAgIHZhciBpbXByZXNzaW9uVHJhY2tlcnMgPSBhZHZlcnRpc2VtZW50LnZpc3VhbHMubWFwKCh4KSA9PiB4LmltcHJlc3Npb25UcmFja2VyKS5maWx0ZXIoKHgpID0+IHggIT09IG51bGwpO1xuICAgICAgICB2YXIgdXJsUGl4ZWxDb3VudGVycyA9IGFkdmVydGlzZW1lbnQudXJsUGl4ZWxDb3VudGVycztcblxuICAgICAgICAvLyBjYWxsIG9ubHkgaWYgYmlkIGluIGFwcFxuICAgICAgICBpZihvcHRpb25zLmluQXBwICYmIGNhbkluc2VydFNtYXJ0VHJhZmZpa0ltcHJlc3Npb25UcmFja2VyKGFkdmVydGlzZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYXVkaWVuY2UtYXBpLnd0cy1va3ViZS5jb20vcGl4ZWwucG5nP2JyYW5kX3NsdWc9JyArIGFkdmVydGlzZW1lbnQuYnJhbmRTbHVnICsgJyZtb2R1bGU9ZHByaW50JmNhbXBhaWduX2lkPScgKyBhZHZlcnRpc2VtZW50LnByZWZpeCArIGFkdmVydGlzZW1lbnQuYWR2ZXJ0aXNlbWVudElkICtcbiAgICAgICAgICAgICAgICAnJmdkcHJfY29uc2VudD0nICsgY29uc2VudFN0cmluZztcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb3hpc3RvcmVJZCkge1xuICAgICAgICAgICAgICAgIHVybCA9ICdodHRwczovL2F1ZGllbmNlLWFwaS53dHMtb2t1YmUuY29tL3BpeGVsLnBuZz9icmFuZF9zbHVnPScgKyBhZHZlcnRpc2VtZW50LmJyYW5kU2x1ZyArICcmbW9kdWxlPWRwcmludCZjYW1wYWlnbl9pZD0nICsgYWR2ZXJ0aXNlbWVudC5wcmVmaXggKyBhZHZlcnRpc2VtZW50LmFkdmVydGlzZW1lbnRJZCArXG4gICAgICAgICAgICAgICAgICAgICcmZ2Rwcl9jb25zZW50PScgKyBjb25zZW50U3RyaW5nICsgXCImY2xpZW50X2lkPVwiICsgb3B0aW9ucy51dklkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5qZWN0R2V0UmVxdWVzdEluTWFya3VwKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FuSW5zZXJ0U21hcnRUcmFmZmlrSW1wcmVzc2lvblRyYWNrZXIoYWR2ZXJ0aXNlbWVudCkpIHtcbiAgICAgICAgICAgIGNhbGxTbWFydFRyYWZpayhhZHZlcnRpc2VtZW50LCBjb25zZW50U3RyaW5nLCBvcHRpb25zLnV2SWQsIG9wdGlvbnMucHJveGlzdG9yZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbXByZXNzaW9uVHJhY2tlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW1wcmVzc2lvblRyYWNrZXJzLmZvckVhY2goKHRyYWNrZXIpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3VXJsID0gcmVwbGFjZU1hY3JvVXJsKHRyYWNrZXIsIGNvbnNlbnRTdHJpbmcsIGFkdmVydGlzZW1lbnQpO1xuICAgICAgICAgICAgICAgIGluamVjdEdldFJlcXVlc3RJbk1hcmt1cChuZXdVcmwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh1cmxQaXhlbENvdW50ZXJzICYmIHVybFBpeGVsQ291bnRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdXJsUGl4ZWxDb3VudGVycy5mb3JFYWNoKCh1cmwpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3VXJsID0gcmVwbGFjZU1hY3JvVXJsKHVybCwgY29uc2VudFN0cmluZywgYWR2ZXJ0aXNlbWVudCk7XG4gICAgICAgICAgICAgICAgaW5qZWN0R2V0UmVxdWVzdEluTWFya3VwKG5ld1VybCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpbmplY3RHZXRSZXF1ZXN0SW5NYXJrdXAob3B0aW9ucy52aWV3VXJsKTtcbiAgICB9XG5cbiAgICAvLyBlbnRyeSBwb2ludFxuICAgIFByb3hpc3RvcmUuYWR2ZXJ0aXNlbWVudEJveCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGNhbGxJbXByZXNzaW9uVHJhY2tlcnMob3B0aW9ucyk7XG4gICAgICAgIFByb3hpc3RvcmUuYm94KFxuICAgICAgICAgICAgb3B0aW9ucy5hZHZlcnRpc2VtZW50LFxuICAgICAgICAgICAgb3B0aW9ucy5kZWFsSWQsXG4gICAgICAgICAgICBvcHRpb25zLmJveElkLFxuICAgICAgICAgICAgb3B0aW9ucy51dklkLFxuICAgICAgICAgICAgb3B0aW9ucy5jb25zZW50U3RyaW5nLFxuICAgICAgICAgICAgb3B0aW9ucy5pbnRlcnN0aXRpYWwsXG4gICAgICAgICAgICBvcHRpb25zLnByb3hpc3RvcmVJZFxuICAgICAgICApO1xuICAgIH07XG5cblxuICAgIFByb3hpc3RvcmUuYm94ID0gZnVuY3Rpb24gKFxuICAgICAgICBhZHZlcnRpc2VtZW50LFxuICAgICAgICBkZWFsSWQsXG4gICAgICAgIGJveElkLFxuICAgICAgICB1dklkLFxuICAgICAgICBjb25zZW50U3RyaW5nLFxuICAgICAgICBpbnRlcnN0aXRpYWwsXG4gICAgICAgIHByb3hpc3RvcmVJZFxuICAgICkge1xuICAgICAgICBsb2FkQ1NTKCk7XG5cbiAgICAgICAgdmFyIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCA9XG4gICAgICAgICAgICBhZHZlcnRpc2VtZW50LnB1Ymxpc2hlclNwb3QucHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkO1xuICAgICAgICB2YXIgaW5mb0JveE9yaWVudGF0aW9uID0gXCJob3Jpem9udGFsXCI7XG4gICAgICAgIHZhciB1cmxWaXN1YWxzID0gYWR2ZXJ0aXNlbWVudC52aXN1YWxzLm1hcCgoeCkgPT4geC51cmxWaXN1YWwpO1xuICAgICAgICB2YXIgZ29vZ2xlTWFjcm9DbGljayA9ICc8aW1nIHNyYz1cIiUlQ0xJQ0tfVVJMX1VORVNDJSVcIiBhbHQ9XCJnb29nbGVNYWNyb0NsaWNrXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIC8+JztcblxuICAgICAgICBpZiAoaW50ZXJzdGl0aWFsKSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgXCJzdHlsZVwiLFxuICAgICAgICAgICAgICAgIFwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGhlaWdodDogMTAwdmg7IHdpZHRoOiAxMDB2dztcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCB0aGUgZ29vZ2xlIGNvb2tpZSBtYXRjaGluZyB1cmwgYXMgYSBwaXhlbFxuICAgICAgICBhZGRQaXhlbENvdW50ZXIoXG4gICAgICAgICAgICBwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQsXG4gICAgICAgICAgICBib3hJZCxcbiAgICAgICAgICAgICdodHRwczovL2NtLmcuZG91YmxlY2xpY2submV0L3BpeGVsP2dvb2dsZV9jbSZnb29nbGVfbmlkPXByb3hpc3RvcmUmZ29vZ2xlX2htPScgKyBidG9hKHV2SWQpXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyICRwc19ib3hfY29kZSA9IGdvb2dsZU1hY3JvQ2xpY2s7XG4gICAgICAgIC8vIGlzIHZpc3VhbCBpcyBodG1sXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVybFZpc3VhbHMpICYmIHVybFZpc3VhbHNbMF0uaW5kZXhPZihcIi5odG1sXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIHVybFZpc3VhbCA9IHVybFZpc3VhbHNbMF07XG4gICAgICAgICAgICAkcHNfYm94X2NvZGUgKz0gZ2V0SHRtbEJhbm5lckNvZGUoXG4gICAgICAgICAgICAgICAgYWR2ZXJ0aXNlbWVudC53aWR0aCxcbiAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LmhlaWdodCxcbiAgICAgICAgICAgICAgICB1cmxWaXN1YWwsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGFkdmVydGlzZW1lbnQudXJsUGl4ZWxDb3VudGVycykge1xuICAgICAgICAgICAgICAgIHJlcGxhY2VNYWNyb1VybChhZHZlcnRpc2VtZW50LnVybFJlZGlyZWN0aW9uLCBjb25zZW50U3RyaW5nLCBhZHZlcnRpc2VtZW50KTtcbiAgICAgICAgICAgICAgICBhZGRQaXhlbENvdW50ZXIoXG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCxcbiAgICAgICAgICAgICAgICAgICAgYm94SWQsXG4gICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQudXJsUGl4ZWxDb3VudGVyc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3N0TWVzc2FnZVRvSWZyYW1lKGFkdmVydGlzZW1lbnQsIGRlYWxJZCwgY29uc2VudFN0cmluZyk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJveElkKS5pbm5lckhUTUwgPSAkcHNfYm94X2NvZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB2aXN1YWwgaXMgaW1hZ2VcbiAgICAgICAgICAgICRwc19ib3hfY29kZSArPVxuICAgICAgICAgICAgICAgICcnICsgZ29vZ2xlTWFjcm9DbGljayArXG4gICAgICAgICAgICAgICAgZ2V0SW1hZ2VCYW5uZXJDb2RlKFxuICAgICAgICAgICAgICAgICAgICBpbmZvQm94T3JpZW50YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGludGVyc3RpdGlhbCxcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkLFxuICAgICAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LnN1cmZlckNpdHlOYW1lXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJveElkKS5pbm5lckhUTUwgPSAkcHNfYm94X2NvZGU7XG5cbiAgICAgICAgICAgIHZhciBkZWZhdWx0Q29vcmQgPSB7IGdlb1R5cGU6IFwiXCIsIGxhdGl0dWRlOiAwLCBsb25naXR1ZGU6IDAgfTtcbiAgICAgICAgICAgIHVwZGF0ZUFkKFxuICAgICAgICAgICAgICAgIHB1Ymxpc2hlclNwb3RSZWZlcmVuY2VJZCxcbiAgICAgICAgICAgICAgICBib3hJZCxcbiAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LFxuICAgICAgICAgICAgICAgIGRlZmF1bHRDb29yZCxcbiAgICAgICAgICAgICAgICBjb25zZW50U3RyaW5nLFxuICAgICAgICAgICAgICAgIHV2SWQsXG4gICAgICAgICAgICAgICAgcHJveGlzdG9yZUlkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gaGlkZSAncGlwZXR0ZScgZm9yIGludGVyc3RpdGlhbFxuICAgICAgICAgICAgLy8gaWYgKCFpbnRlcnN0aXRpYWwpIHtcbiAgICAgICAgICAgIC8vICAgc3RhcnRJbmZvYm94VHJhbnNpdGlvbihwdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQpO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICBhZGRBZHZlcnRpc2VtZW50Q2xpY2tIYW5kbGVyKGFkdmVydGlzZW1lbnQsIGRlYWxJZCwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpY2tVcmwgPSBgaHR0cHM6Ly9hYnMucHJveGlzdG9yZS5jb20vdGFncy9jbGljay8ke1xuICAgICAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LmFkdmVydGlzZW1lbnRJZFxuICAgICAgICAgICAgICAgIH0/cHVibGlzaGVyU3BvdFJlZmVyZW5jZUlkPSR7XG4gICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQucHVibGlzaGVyU3BvdC5wdWJsaXNoZXJTcG90UmVmZXJlbmNlSWRcbiAgICAgICAgICAgICAgICB9JmNhbXBhaWduSWQ9JHthZHZlcnRpc2VtZW50LmNhbXBhaWduSWR9JHtcbiAgICAgICAgICAgICAgICAgICAgdXZJZCA/IFwiJnVuaXF1ZVZpc2l0b3JJZD1cIiArIHV2SWQgOiBcIlwiXG4gICAgICAgICAgICAgICAgfSZkZWFsSWQ9JHtkZWFsSWR9JmltZ1NyYz0ke2V2LnRhcmdldC5zcmMucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgXCJodHRwczovL2ltYWdlcy5wcm94aXN0b3JlLmNvbS9cIixcbiAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICl9YDtcblxuICAgICAgICAgICAgICAgIFByb3hpc3RvcmUuaXNBbGxvd2VkVG9Xcml0ZUNvb2tpZXMoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoaGFzQ29uc2VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5qZWN0R2V0UmVxdWVzdEluTWFya3VwKGAke2NsaWNrVXJsfSZweHNEb05vdFRyYWNrPSR7IWhhc0NvbnNlbnR9YCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5qZWN0R2V0UmVxdWVzdEluTWFya3VwKGNsaWNrVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaW50ZXJzdGl0aWFsKSB7XG4gICAgICAgICAgICAgICAgYWRkUGljdG9IYW5kbGVycyhcbiAgICAgICAgICAgICAgICAgICAgYWR2ZXJ0aXNlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgaW5mb0JveE9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VJbmZvQm94KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQucHVibGlzaGVyU3BvdC5wdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0JveE9yaWVudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VJbmZvQm94KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQucHVibGlzaGVyU3BvdC5wdWJsaXNoZXJTcG90UmVmZXJlbmNlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0JveE9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIFByb3hpc3RvcmUuYXBwZW5kU2VnbWVudHNIdG1sKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBQcm94aXN0b3JlO1xufSkoUHJveGlzdG9yZSB8fCB7fSk7XG4iXX0=
