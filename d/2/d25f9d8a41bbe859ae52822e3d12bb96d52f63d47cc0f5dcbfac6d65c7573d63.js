// Build version: v1.63.15 - Thu, 08 Feb 2024 11:37:32 GMT 
 "use strict";(self.webpackJsonpViP=self.webpackJsonpViP||[]).push([["pb"],{9941:(e,t,r)=>{r.r(t),r.d(t,{default:);var n=r(8669),i=r.n(n),a=r(3414),o=r.n(a),s=r(5232),d=r.n(s),c=r(7571),p=r.n(c),u=r(6145),l=r.n(u),m=r(9128),f=r(3817),g=r(5066),b=r(7366),y=r(6791),h=r(1923),v=r(612),_=r(6873),I=(r(8863),r(6005)),x=r(5595),w=r(354),O=r(4111),E=r(3396),T=r(5295);const S=["core","prebid-module"];let k=[];function P(){let{gvlid:e,moduleName:t,bidderCode:r,moduleType:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{bidderSettings:i=T.S}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function a(a){if((0,I.q9)(S,n)){return a({valid:!0})}if()){(0,E.PN)("bidderSettings denied access to device storage for bidder '".concat(r,"'"));return a({valid:!1})}{let n;return C(e,r||t,{hasEnforcementHook:!1},(),n}}const o=return{setCookie:getCookie:localStorageIsEnabled:cookiesAreEnabled:setDataInLocalStorage:getDataFromLocalStorage:removeDataFromLocalStorage:hasLocalStorage:o,findSimilarCookies:}const C=function(e,t,r,n){(0,_.rH)((,e,t,r)};ar R=r(356);const j="User ID",D="cookie",N="html5",U={name:"_pbjs_userid_consent_data",expires:30},M="_pbjs_id_optout",B=P({moduleName:"userid",moduleType:"core"});let q,Z,z,L,F,X=[],H=!1,J=[],V=[],K=[];n re(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!B.cookiesAreEnabled())return e;const t=e.split(".");if(2==t.length)return e;let r,n,i=-2;const a="_rdc".concat(Date.now()),o="writeable";do{r=t.slice(i).join(".");let e=new Date((0,E.AB)()+1e4).toUTCString();B.setCookie(a,o,e,"Lax",r,void 0);B.getCookie(a,void 0)===o?(n=!1,B.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,r,void 0)):(i+=-1,n=Math.abs(i)<=t.length)}while(n);return r}function ne(e,t){let r=()=>{};t&&(r=(0,E.yx)((,e.length)),e.forEach(()}function ie(e){if(!Array.isArray(e)||!e.length)return{};return e.filter((e=>(0,E.PO)(e.idObj)&&Object.keys(e.idObj).length)).reduce(((e,t)=>(Object.keys(t.idObj).forEach((r=>{e[r]=t.idObj[r]})),e)),{})}unction oe(e){let t=!1;if(void 0===q&&(q=function(e,t){let{userIdModules:r,hasValidated:n}=ge(e,t);if(!n&&!te(t))return(0,E.yN)("".concat(j," - gdpr permission not valid for local storage or cookies, exit module")),[];const i=ee();return Q(t),r.reduce(((e,r)=>(be(r,t,i,!1),e.push(r),e)),[])}(J,y.rp.getConsentData()),q.length)){Y(q);const r=q.filter((e=>(0,E.LQ)(e.callback)));if(r.length)if(e&&L>0){t=!0;let n=!1;const i=(0,E.PN)("".concat(j," - auction delayed by ").concat(L," at most to fetch ids")),Z=setTimeout(i,L),ne(r,i)}else h.on(v.FP.AUCTION_END,()}e&&!t&&e()}function se(e,t){oe((function(){ae(t.adUnits||(0,x.R)().adUnits,q);const r=F&&(ce()||[]).find((e=>e.source===F));if(r&&"string"==typeof(0,R.Z)(r,"uids.0.id")){const e=r.uids[0].id.replace(/[\W_]/g,"");e.length>=32&&e.length<=150?(0,E.T9)()?window.googletag.pubads().setPublisherProvidedId(e):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(()):(0,E.yN)("User ID - Googletag Publisher Provided ID for ".concat(F," is not between 32 and 150 characters - ").concat(e))}e.call(this,t)}))}nction pe(e){return oe(),(0,O.HQ)(function(e,t){if(!Array.isArray(e)||!e.length)return{};const r=e.filter((e=>(0,E.PO)(e.idObj)&&Object.keys(e.idObj).length&&O.UR[Object.keys(e.idObj)[0]].source===t));return(0,E.xb)(r)?[]:r[0].idObj}(q,e))[0]}ction fe(e,t){let r=e?e.submoduleNames:null;r||(r=[]),oe((function(){let e=y.rp.getConsentData(),{userIdModules:n,hasValidated:i}=ge(J,e);if(!i&&!te(e))return void(0,E.yN)("".concat(j," - gdpr permission not valid for local storage or cookies, exit module"));const a=ee();Q(e);let o=[];for(let t of n)r.length>0&&-1===r.indexOf(t.submodule.name)||((0,E.PN)("".concat(j," - refreshing ").concat(t.submodule.name)),be(t,e,a,!0),ye(t),q.length&&Y(q),(0,E.LQ)(t.callback)&&o.push(t));o.length>0&&ne(o),t&&t()}))}const ge=function(e,t){let r={};return(0,_.pL)((,e,t),r};unction ye(e){let t=!1;for(let r=0;r<q.length;r++)if(e.config.name.toLowerCase()===q[r].config.name.toLowerCase()){t=!0,q[r]=e;break}t||q.push(e)}function he(){const e=function(e,t,r){return Array.isArray(e)?e.reduce(((e,t)=>(!t||(0,E.jH)(t.name)||(!t.storage||(0,E.jH)(t.storage.type)||(0,E.jH)(t.storage.name)||-1===r.indexOf(t.storage.type)?(0,E.PO)(t.value)?e.push(t):t.storage||t.value||e.push(t):e.push(t)),e)),[]):[]}(V,0,X);if(!e.length)return;const t=K.filter(();J=t.map(().filter((e=>null!==e)),!H&&J.length&&((0,x.R)().requestBids.before(se,40),(0,E.PN)("".concat(j," - usersync config updated for ").concat(J.length," submodules: "),J.map((e=>e.submodule.name))),H=!0)}(0,w.bA)("userId",(function(e){(0,I.sE)(K,(t=>t.name===e.name))||(K.push(e),he())}));var ve=r(2640),_e=(r(9242),r(2941),r(6774));function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}nst Te=30,Se="id5id",ke="".concat(Se,"_privacy"),Pe="html5",Ce="User ID - ID5 submodule: ",Ae=["pbjs-id5id","id5id.1st","id5id"],Re=A({gvlid:131,moduleName:"id5Id"}),je={name:"id5Id",gvlid:131,decodegetIdextendId;var De=new WeakSet,Ne=new WeakSet,Ue=new WeakSet,Me=new WeakSet,Be=new WeakSet;tion Fe(e,t){let r=e.url,n=e.overrides||{},i=xe(xe(xe({},Ee(this,Be,Xe).call(this)),n),{},{extensions:t});return Ee(this,De,Ze).call(this,r,JSON.stringify(i),{method:"POST",withCredentials:!0}).then(()}("userId",je);const $e="criteo",Qe=A({gvlid:91,moduleName:$e}),et="cto_bidid",tt="cto_bundle",rt=new Date(0).toString(),nt=new Date((0,E.AB)()+33696e6).toString(); ct={name:$e,gvlid:91,decode:e=>e,getId;(0,w.Bx)("userId",ct);const pt="panoramaId",ut="".concat(pt,"_expiry"),lt="_cc_id",mt="lotamePanoramaId",ft=A({gvlid:95,moduleName:mt});let gt;st vt={name:mt,gvlid:95,decode:getId;(0,w.Bx)("userId",vt);const _t="uid2",It="PrebidJS-".concat("7.42.0","-UID2Module-").concat("1.0"),xt="__uid2_advertising_token",wt="https://prod.uidapi.com";const Ot=A({gvlid:887,moduleName:_t}),Et=(Tt="UID2: ",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,E.PN)(Tt+" ",...t)});var Tt;ass Pt{constructor(e){this._baseUrl=e.baseUrl?e.baseUrl:wt,this._clientVersion=It}asStatusResponsesValidRefreshResponseesponseToRefreshResultallRefreshApi(e){const t=this._baseUrl+"/v2/token/refresh",r=new XMLHttpRequest;let n,i;r.overrideMimeType("text/plain"),r.open("POST",t,!0),r.setRequestHeader("X-UID2-Client-Version",this._clientVersion);const a=new Promise(();return r.onreadystatechange=()=>{if(r.readyState===r.DONE)try{if(e.refresh_response_key&&200===r.status){Et("Decrypting refresh API response");const t=this.createArrayBuffer(atob(r.responseText));window.crypto.subtle.importKey("raw",this.createArrayBuffer(atob(e.refresh_response_key)),{name:"AES-GCM"},!1,["decrypt"]).then((e=>{Et("Imported decryption key"),window.crypto.subtle.decrypt({name:"AES-GCM",iv:t.slice(0,12),tagLength:128},e,t.slice(12)).then((e=>{const t=String.fromCharCode(...new Uint8Array(e));Et("Decrypted to:",t);const r=JSON.parse(t),a=this.ResponseToRefreshResult(r);"string"==typeof a?i(a):n(a)}),(e=>console.warn("Call to UID2 API failed",e)))}),()}else{Et("Error status OR no response decryption key available, assuming unencrypted JSON");const e=JSON.parse(r.responseText),t=this.ResponseToRefreshResult(e);"string"==typeof t?i(t):n(t)}}catch(e){i(e)}},Et("Sending refresh request",r),r.send(e.refresh_token),a}}const Ct={name:_t,gvlid:887,decode(e){const t=function(e){if("string"==typeof e){Et("Found an old-style ID from an earlier version of the module. Refresh is unavailable for this token.");return{uid2:{id:e}}}if(Date.now()<e.latestToken.identity_expires)return{uid2:{id:e.latestToken.advertising_token}};return null}(e);return Et("UID2 decode returned",t),t},getId(e,t){const r=function(e,t){var r,n,i,a,o;let s=null;const d=null!==(r=null==e||null===(n=e.params)||void 0===n?void 0:n.uid2ApiBase)&&void 0!==r?r:wt;e&&e.params&&(e.params.uid2Token?(s=e.params.uid2Token,Et("Read token from params",s)):e.params.uid2ServerCookie&&(c=e.params.uid2ServerCookie,s=JSON.parse(St(c)),Et("Read token from server-supplied cookie",s)));var c;let p=function(){const e=St(xt);return e&&e.includes("{")?JSON.parse(e):e}()||(Ot.localStorageIsEnabled()?Ot.getDataFromLocalStorage(xt):null);if(Et("Loaded module-stored tokens:",p),p&&"string"==typeof p){if(!s)return Et("Returning legacy cookie value."),{id:p};Et("Discarding superseded legacy cookie."),p=null}var u;if(s&&p&&(null===(u=p.originalToken)||void 0===u?void 0:u.advertising_token)!==s.advertising_token){var l;Et("Server supplied new token - ignoring stored value.",null===(l=p.originalToken)||void 0===l?void 0:l.advertising_token,s.advertising_token),p=null}const m=!(null!==(i=p)&&void 0!==i&&i.latestToken)||s&&s.identity_expires>p.latestToken.identity_expires,f=m?s:p.latestToken;if(Et("UID2 module selected latest token",m,f),!f||Date.now()>f.refresh_expires)return Et("Newest available token is expired and not refreshable."),{id:null};if(Date.now()>f.identity_expires){const e=At(d,f);return Et("Token is expired but can be refreshed, attempting refresh."),{callback:}Date.now()>f.refresh_from&&(Et("Refreshing token in background with low priority."),At(d,f));const g={originalToken:null!==(a=s)&&void 0!==a?a:null===(o=p)||void 0===o?void 0:o.originalToken,latestToken:f};return kt(g),{id:g}}(e);return Et("UID2 getId returned",r),r}};function At(e,t){Et("UID2 base url provided: ",e);return new Pt({baseUrl:e}).callRefreshApi(t).then((e=>{Et("Refresh endpoint responded with:",e);const r={originalToken:t,latestToken:e.identity};return kt(r),r}))}(0,w.Bx)("userId",Ct);var Rt=r(4455),jt=r(5920),Dt=r(2193),Nt=r(4593),Ut=r(9351);const Mt=e=>{switch("string"==typeof e?e.toLowerCase():e){case!0:case"true":case 1:case"1":return!0;case!1:case"false":case 0:case"0":return!1;default:return}};var Bt=r(6735),qt=r(7875),Zt=r(3935),zt=r(9546),Lt=r(7955),Ft=r(7775),Xt=r(2689);window.$$REPO_AND_VERSION$$=`${Xt.cj.H.split("/")[3]}_prebid_${Xt.i8}`,window.FEATURES||(window.FEATURES={NATIVE:!1});var Ht=r(1116),Jt=r(3099),Vt=r(5796),Kt=r(6112),Wt=r(2044),Yt=r(7136),Gt=r(1285),$t=r(9251);const Qt="appnexus",er="https://ib.adnxs.com/ut/v3/prebid",tr="https://ib.adnxs-simple.com/ut/v3/prebid",rr=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],nr=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],ir=["age","externalUid","external_uid","segments","gender","dnt","language"],ar=["geo","device_id"],or=["enabled","dongle","member_id","debug_timeout"],sr={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},dr={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},cr={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},pr="<script",ur=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,lr="trk.js",mr=(0,Yt.df)({gvlid:32,bidderCode:Qt}),fr={code:Qt,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[Vt.Mk,Vt.pX,Vt.B5],isBidRequestValid:buildRequests:function(e,t){var r,n;const i=(e=(0,$t.lY)(e)).map(yr),a=(0,I.sE)(e,vr);let o={};!0===f.vc.getConfig("coppa")&&(o={coppa:!0}),a&&Object.keys(a.params.user).filter((e=>(0,I.q9)(ir,e))).forEach(();const s=(0,I.sE)(e,Ir);let d;s&&s.params&&s.params.app&&(d={},Object.keys(s.params.app).filter((e=>(0,I.q9)(ar,e))).forEach(());const c=(0,I.sE)(e,xr);let p;c&&c.params&&s.params.app&&s.params.app.id&&(p={appid:c.params.app.id});let u={},l={};const m=mr.getCookie("apn_prebid_debug")||null;if(m)try{u=JSON.parse(m)}catch(e){(0,E.H)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(sr).forEach((),u=(0,E.uh)({member_id:"number",debug_timeout:"number"},u);const t=(0,I.sE)(e,wr);t&&t.debug&&(u=t.debug)}u&&u.enabled&&Object.keys(u).filter((e=>(0,I.q9)(or,e))).forEach(();const g=(0,I.sE)(e,_r),b=g?parseInt(g.params.member,10):0,y=e[0].schain,h=(0,I.sE)(e,Er),v={tags:[...i],user:o,sdk:{source:"pbjs",version:"7.42.0"},schain:y};h&&(v.iab_support={omidpn:"Appnexus",omidpv:"7.42.0"}),b>0&&(v.member_id=b),s&&(v.device=d),c&&(v.app=p);let _=(0,E.I8)(t&&t.ortb2)).map((e=>Cr(e))),x=(0,E.I8)(f.vc.getConfig("appnexusAuctionKeywords"))||{};Object.keys(x).forEach((e=>{((0,E.d8)(x[e])||(0,E.hj)(x[e]))&&(x[e]=[x[e]])}));let w=(0,E.Ee)({},x,..._),O=(0,E.Bq)(w);if(O.length>0&&(O.forEach(br),v.keywords=O),f.vc.getConfig("adpod.brandCategoryExclusion")&&(v.brand_category_uniqueness=!0),l.enabled&&(v.debug=l,(0,E.PN)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(l,null,4))),t&&t.gdprConsent&&(v.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){let e=t.gdprConsent.addtlConsent,r=e.substring(e.indexOf("~")+1);v.gdpr_consent.addtl_consent=r.split(".").map((e=>parseInt(e,10)))}if(t&&t.uspConsent&&(v.us_privacy=t.uspConsent),null!=t&&t.gppConsent?v.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!==(r=t.ortb2)&&void 0!==r&&null!==(n=r.regs)&&void 0!==n&&n.gpp&&(v.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){let e={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((e=>encodeURIComponent(e))).join(",")},r=t.refererInfo.canonicalUrl;(0,E.d8)(r)&&""!==r&&(e.rd_can=r),v.referrer_detection=e}if((0,I.sE)(e,Or)&&e.filter(Or).forEach((),e[0].userId){let t=[];e[0].userIdAsEids.forEach((),t.length&&(v.eids=t)}i[0].publisher_id&&(v.publisher_id=i[0].publisher_id);const T=v,t);return T},interpretResponse:function(e,t){let{bidderRequest:r}=t;e=e.body;const n=[];if(!e||e.error){let t="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(t+=": ".concat(e.error)),(0,E.H)(t),n}if(e.tags&&e.tags.forEach((e=>{const t=(i=e)&&i.ads&&i.ads.length&&(0,I.sE)(i.ads,(e=>e.rtb));var i;if(t){if((!0===T.S.get(r.bidderCode,"allowZeroCpmBids")?t.cpm>=0:t.cpm>0)&&(0,I.q9)(this.supportedMediaTypes,t.ad_type)){const i=function(e,t,r){const n=(0,E.zE)(e.uuid,[r]),i=(0,E._d)(),a={adId:i,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};t.adomain&&(a.meta=Object.assign({},a.meta,{advertiserDomains:[t.adomain]}));t.advertiser_id&&(a.meta=Object.assign({},a.meta,{advertiserId:t.advertiser_id}));.buyer_member_id&&(a.meta=Object.assign({},a.meta,{dchain:o(t)}));t.brand_id&&(a.meta=Object.assign({},a.meta,{brandId:t.brand_id}));if(t.rtb.video){Object.assign(a,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600});switch((0,R.Z)(n,"mediaTypes.video.context")){case Vt.Oh:const i=(0,Jt.Q1)(n.bidder,t.brand_category_id);a.meta=Object.assign({},a.meta,{primaryCatId:i});const o=t.deal_priority;a.video={context:Vt.Oh,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:o},a.vastUrl=t.rtb.video.asset_url;break;case Wt.gZ:if(a.adResponse=e,a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video,a.vastXml=t.rtb.video.content,t.renderer_url){const n=(0,I.sE)(r.bids,(t=>t.bidId===e.uuid));let i=(0,R.Z)(n,"mediaTypes.video.renderer.options");i||(i=(0,R.Z)(n,"renderer.options")),a.renderer=a.adUnitCode,t,i)}break;case Wt.LD:a.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}}else if(FEATURES.NATIVE&&t.rtb[Vt.B5]){const e=t.rtb[Vt.B5];let r;if(t.viewability.config)){let e="pbjs_adid="+i+";pbjs_auc="+n.adUnitCode;r=t.viewability.config.replace("dom_id=%native_dom_id%",e)}let o=e.javascript_trackers;null==o?o=r:(0,E.d8)(o)?o=[o,r]:o.push(r),a[Vt.B5]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,video:e.video,javascriptTrackers:o},e.main_img&&(a.native.image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(a.native.icon={url:e.icon.url,height:e.icon.height,width:e.icon.width})}else{Object.assign(a,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(let e=0;e<t.rtb.trackers[0].impression_urls.length;e++){const r=t.rtb.trackers[0].impression_urls[e],n=(0,E.SG)(r);a.ad+=n}}catch(e){(0,E.H)("Error appending tracking pixel",e)}}return a}(e,t,r);i.mediaType=t),n.push(i)}}})),e.debug&&e.debug.debug_info){let t="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;t=t.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,E.ji)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,E.ji)(t)}return n},getMappingFileInfo:getUserSyncs:transformBidParams:;nction yr(e){const t={};Object.keys(e.params).forEach((),t.sizes=hr(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code,t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;let r=e);if(r&&(t.reserve=r),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{let r=(0,R.Z)(e,"mediaTypes.banner.pos")||(0,R.Z)(e,"mediaTypes.video.pos");0!==r&&1!==r&&3!==r||(t.position=3===r?2:r)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=hr(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);let n=(0,R.Z)(e,"ortb2Imp.ext.data.keywords");if((0,E.d8)(n)&&""!==n||!(0,E.xb)(e.params.keywords)){let r=Cr(n),i=(0,E.PO)(e.params.keywords)?(0,E.I8)(e.params.keywords):{};Object.keys(i).forEach(();let a=(0,E.Ee)({},i,r),o=(0,E.Bq)(a);o.length>0&&(o.forEach(br),t.keywords=o)}let i=(0,R.Z)(e,"ortb2Imp.ext.data.pbadslot");if(i&&(t.gpid=i),FEATURES.NATIVE&&(e.mediaType===Vt.B5||(0,R.Z)(e,"mediaTypes.".concat(Vt.B5)))&&(t.ad_types.push(Vt.B5),0===t.sizes.length&&(t.sizes=hr([1,1])),e.nativeParams)){const r=e.nativeParams);t[Vt.B5]={layouts:[r]}}const a=(0,R.Z)(e,"mediaTypes.".concat(Vt.pX)),o=(0,R.Z)(e,"mediaTypes.video.context");t.hb_source=a&&"adpod"===o?7:1,(e.mediaType===Vt.pX||a)&&t.ad_types.push(Vt.pX),(e.mediaType===Vt.pX||a&&"outstream"!==o)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((e=>(0,I.q9)(rr,e))).forEach((),e.params.video.frameworks&&(0,E.kJ)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),a&&(t.video=t.video||{},Object.keys(a).filter((e=>(0,I.q9)(nr,e))).forEach(()),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,E.kJ)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);let s=(0,I.sE)(Kt.K.getAdUnits(),(t=>e.transactionId===t.transactionId));return s&&s.mediaTypes&&s.mediaTypes.banner&&t.ad_types.push(Vt.Mk),0===t.ad_types.length&&delete t.ad_types,t},t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(r),!0).forEach((function(t){jr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Jt.dX)(fr);const Dr="1.19",Nr="BFIO_PREBID",Ur="USD",Mr=["mimes","playbackmethod","maxduration","placement","skip","skipmin","skipafter"],Br=["video/mp4","application/javascript"],qr=[{key:"tdid",source:"adserver.org",rtiPartner:"TDID",queryParam:"tdid"},{key:"idl_env",source:"liveramp.com",rtiPartner:"idl",queryParam:"idl"},{key:"uid2.id",source:"uidapi.com",rtiPartner:"UID2",queryParam:"uid2"},{key:"hadronId",source:"audigent.com",atype:1,queryParam:"hadronid"}];let Zr="";const zr={code:"beachfront",supportedMediaTypes:[Vt.pX,Vt.Mk],isBidRequestValidbuildRequests(e,t){let r=[],n=e.filter((e=>function(e){return Yr(e)&&$r(e,"appId")&&$r(e,"bidfloor")}(e))),i=e.filter((e=>e)));return n.forEach((e=>{Zr=$r(e,"appId"),r.push({method:"POST",url:"https://reachms.bfmio.com/bid.json?exchange_id="+Zr,data:an(e,t),bidRequest:e})})),i.length&&(Zr=Qr(i[0],"appId"),r.push({method:"POST",url:"https://display.bfmio.com/prebid_display",data:on(i,t),bidRequest:i})),r},interpretResponse(e,t){let{bidRequest:r}=t;if(e=e.body,Yr(r)){if(!e||!e.bidPrice)return(0,E.yN)("No valid video bids from ".concat(zr.code," bidder")),[];let t=Fr(Hr(r)),n=(0,R.Z)(r,"mediaTypes.video.context"),i=$r(r,"responseType")||"both",a=Object.assign({mediaType:Vt.pX,advertiserDomains:[]},e.meta),o={requestId:r.bidId,bidderCode:zr.code,cpm:e.bidPrice,width:t.w,height:t.h,creativeId:e.crid||e.cmpId,meta:a,renderer:"outstream"===n?Lr(r):null,mediaType:Vt.pX,currency:Ur,netRevenue:!0,ttl:300};return"nurl"!==i&&"both"!==i||(o.vastUrl=e.url),"adm"!==i&&"both"!==i||(o.vastXml=e.vast),o}return e&&e.length?e.filter((e=>e.adm)).map((e=>{let t=(0,I.sE)(r,(t=>t.adUnitCode===e.slot)),n=Object.assign({mediaType:Vt.Mk,advertiserDomains:[]},e.meta);return{requestId:t.bidId,bidderCode:zr.code,ad:e.adm,creativeId:e.crid,cpm:e.price,width:e.w,height:e.h,meta:n,mediaType:Vt.Mk,currency:Ur,netRevenue:!0,ttl:300}})):((0,E.yN)("No valid banner bids from ".concat(zr.code," bidder")),[])},getUserSyncs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[],{gdprApplies:a,consentString:o=""}=r,s=(0,I.sE)(t,();return s?e.iframeEnabled&&s.body.filter((e=>e.sync)).forEach((e=>{i.push({type:"iframe",url:e.sync})})):e.iframeEnabled?i.push({type:"iframe",url:"https://sync.bfmio.com/sync_iframe?ifg=1&id=".concat(Zr,"&gdpr=").concat(a?1:0,"&gc=").concat(o,"&gce=1&us_privacy=").concat(n)}):e.pixelEnabled&&i.push({type:"image",url:"https://sync.bfmio.com/syncb?pid=144&id=".concat(Zr,"&gdpr=").concat(a?1:0,"&gc=").concat(o,"&gce=1&us_privacy=").concat(n)}),i}};function Lr(e){const t=Ht.Th.install({id:e.bidId,url:"https://player-cdn.beachfrontmedia.com/playerapi/loader/outstream.js",loaded:!1});return t.setRender((t=>{t.renderer.push((()=>{window.Beachfront.Player(t.adUnitCode,{adTagUrl:t.vastUrl,width:t.width,height:t.height,expandInView:en(e,"expandInView",!1),collapseOnComplete:en(e,"collapseOnComplete",!0),progressColor:en(e,"progressColor"),adPosterColor:en(e,"adPosterColor")})}))})),t}unction Xr(e){return(0,E.sF)(e).map((e=>{let[t,r]=e.split("x");return{w:parseInt(t,10)||void 0,h:parseInt(r,10)||void 0}}))}function Hr(e){return Xr((0,R.Z)(e,"mediaTypes.video.playerSize")||e.sizes)}unction Vr(){let e=(0,I.sE)([{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"Linux",r:/(Linux|X11)/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"UNIX",r:/UNIX/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],();return e?e.s:"unknown"}tion $r(e,t){return(0,R.Z)(e,"params.video."+t)||(0,R.Z)(e,"params."+t)}tion nn(e){return qr.map(function(e){return t=>{let{key:r,source:n,rtiPartner:i,atype:a}=t,o=(0,R.Z)(e,"userId.".concat(r));return o?o,n,i,a):null}}(e)).filter((e=>e))}function an(e,t){let r=Fr(Hr(e)),n=function(e){const t={},r=["playerSize","context","w","h"];return Object.keys(Object(e.mediaTypes.video)).filter(().forEach((r=>{t[r]=e.mediaTypes.video[r]})),Object.keys(Object(e.params.video)).filter((e=>(0,I.q9)(Mr,e))).forEach((),t}(e),i=$r(e,"appId"),a=e),o=$r(e,"tagid"),s=rn(t),d=nn(e),c=(0,E.I8)(t.ortb2),p={isPrebid:!0,appId:i,domain:document.location.hostname,id:(0,E._d)(),imp:[{video:Object.assign({w:r.w,h:r.h,mimes:Br},n),bidfloor:a,tagid:o,secure:0===s.protocol.indexOf("https")?1:0,displaymanager:Nr,displaymanagerver:Dr}],site:Rr(Rr({},(0,R.Z)(c,"site",{})),{},{page:s.href,domain:s.hostname}),device:{ua:navigator.userAgent,language:navigator.language,devicetype:Kr()?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:Wr()?1:0,js:1,geo:{}},app:(0,R.Z)(c,"app"),user:(0,R.Z)(c,"user"),cur:[Ur]};if(t&&t.uspConsent&&(0,_e.N)(p,"regs.ext.us_privacy",t.uspConsent),t&&t.gdprConsent){let{gdprApplies:e,consentString:r}=t.gdprConsent;(0,_e.N)(p,"regs.ext.gdpr",e?1:0),(0,_e.N)(p,"user.ext.consent",r)}e.schain&&(0,_e.N)(p,"source.ext.schain",e.schain),d.length>0&&(0,_e.N)(p,"user.ext.eids",d);let u=navigator.connection||navigator.webkitConnection;return u&&u.effectiveType&&(0,_e.N)(p,"device.connectiontype",u.effectiveType),p}function on(e,t){var r;let n=rn(t),i=null===(r=t.refererInfo)||void 0===r?void 0:r.ref,a={slots:e.map((e=>({slot:e.adUnitCode,id:Qr(e,"appId"),bidfloor:tn(e),tagid:Qr(e,"tagid"),sizes:Jr(e)}))),ortb2:(0,E.I8)(t.ortb2),page:n.href,domain:n.hostname,search:n.search,secure:0===n.protocol.indexOf("https")?1:0,referrer:i,ua:navigator.userAgent,deviceOs:Vr(),isMobile:Kr()?1:0,dnt:Wr()?1:0,adapterVersion:Dr,adapterName:Nr};if(t&&t.uspConsent&&(a.usPrivacy=t.uspConsent),t&&t.gdprConsent){let{gdprApplies:e,consentString:r}=t.gdprConsent;a.gdpr=e?1:0,a.gdprConsent=r}return e[0]&&e[0].schain&&(a.schain=e[0].schain),qr.forEach((t=>{let{key:r,queryParam:n}=t,i=(0,R.Z)(e,"0.userId.".concat(r));i&&(a[n]=i)})),a}(0,Jt.dX)(zr);r(1425);const sn="freewheel-ssp",dn="https",cn=dn+"://ads.stickyadstv.com/www/delivery/swfIndex.php",pn=dn+"://cdn.stickyadstv.com/mustang/mustang.min.js",un=dn+"://cdn.stickyadstv.com/prime-time/",ln=dn+"://ads.stickyadstv.com/auto-user-sync";n=vn=const _n={code:sn,supportedMediaTypes:[Vt.Mk,Vt.pX],aliases:["stickyadstv","freewheelssp"],isBidRequestValid:buildRequests:function(e,t){let r=(e,t)=>{var r,n=e.params.zoneId,i=(new Date).getTime(),a=n+""+i),o=function(e,t){if(!(0,E.LQ)(e.getFloor))return(0,R.Z)(e,"params.bidfloor",0);try{return e.getFloor({currency:yn(t),mediaType:"object"==typeof e.mediaTypes.banner?"banner":"video",size:"*"}).floor}catch(e){return-1}}(e,f.vc),s={reqType:"AdsSetup",protocolVersion:"4.2",zoneId:n,componentId:"prebid",componentSubId:bn(e.params.format),timestamp:i,_fw_bidfloor:o>0?o:0,_fw_bidfloorcur:o>0?yn(f.vc):"",pbjs_version:"7.42.0",pKey:a};t&&t.gdprConsent&&(s._fw_gdpr_consent=t.gdprConsent.consentString,"boolean"==typeof t.gdprConsent.gdprApplies&&(s._fw_gdpr=t.gdprConsent.gdprApplies)),e.params.gdpr_consented_providers&&(s._fw_gdpr_consented_providers=e.params.gdpr_consented_providers),t&&t.uspConsent&&(s._fw_us_privacy=t.uspConsent);var d=e.schain;if(d)try{s.schain=JSON.stringify(d)}catch(e){(0,E.yN)("PREBID - "+sn+": Unable to stringify the schain: "+e)}if(e.userIdAsEids&&e.userIdAsEids.length>0)try{s._fw_prebid_3p_UID=JSON.stringify(e.userIdAsEids)}catch(e){(0,E.yN)("PREBID - "+sn+": Unable to stringify the userIdAsEids: "+e)}var c=e.params.vastUrlParams;if("object"==typeof c)for(var p in c)c.hasOwnProperty(p)&&(s[p]=c[p]);var u,l=null==t||null===(r=t.refererInfo)||void 0===r?void 0:r.page;(u=l)&&/^(https?|ftp|file):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(u)&&(s.loc=l);var m=[];return((m=e.mediaTypes.video&&e.mediaTypes.video.playerSize?(0,E.kJ)(e.mediaTypes.video.playerSize[0])?e.mediaTypes.video.playerSize[0]:e.mediaTypes.video.playerSize:e.mediaTypes.banner.sizes?fn(e.mediaTypes.banner.sizes,e.mediaTypes.banner.minSizeLimit,e.mediaTypes.banner.maxSizeLimit):mn(e.sizes))[0]>0||m[1]>0)&&(s.playerSize=m[0]+"x"+m[1]),{method:"GET",url:cn,data:s,bidRequest:e}};return e.map(()},interpretResponse:function(e,t){var r,n=t.bidRequest,i=[];i=n.mediaTypes.video&&n.mediaTypes.video.playerSize?(0,E.kJ)(n.mediaTypes.video.playerSize[0])?n.mediaTypes.video.playerSize[0]:n.mediaTypes.video.playerSize:n.mediaTypes.banner.sizes?fn(n.mediaTypes.banner.sizes,n.mediaTypes.banner.minSizeLimit,n.mediaTypes.banner.maxSizeLimit):mn(n.sizes),"object"==typeof e&&"string"==typeof e.body&&(e=e.body);try{r=(new DOMParser).parseFromString(e,"application/xml")}catch(e){return void(0,E.yN)("Prebid.js - "+sn+" : "+e)}const a=function(e){var t,r={},n=e.querySelectorAll("Extension");if(Array.prototype.forEach.call(n,(function(e){"StickyPricing"===e.getAttribute("type")&&(t=e)})),t){var i=t.querySelector("Price");r={currency:i.getAttribute("currency"),price:i.textContent||i.innerText}}else(0,E.yN)("PREBID - "+sn+": No bid received or missing pricing extension.");return r}(r),o=(s="",d=r.querySelectorAll("Ad"),Array.prototype.forEach.call(d,(),s);var s,d;const c=function(e){return gn(e,"dealId")}(r),p=function(e){return gn(e,"campaignId")}(r),u=r),l=),m=function(e){var t,r=[],n=e.querySelectorAll("Extension");if(Array.prototype.forEach.call(n,(),t){var i=t.querySelector("Domain");r.push(i.textContent||i.innerText)}else(0,E.yN)("PREBID - "+sn+": No bid received or missing StickyBrand extension.");return r}(r);l.freewheelssp_cache||(l.freewheelssp_cache={}),l.freewheelssp_cache[n.adUnitCode]=e;const f=[];if(a.price){const t={requestId:n.bidId,cpm:a.price,width:i[0],height:i[1],creativeId:o,currency:a.currency,netRevenue:!0,ttl:360,meta:{advertiserDomains:m},dealId:c,campaignId:p,bannerId:u};n.mediaTypes.video&&(t.vastXml=e,t.mediaType="video"),t.ad=(b=i,y=(g=n).params.format,h='<div id="freewheelssp_prebid_target" style="width:'+b[0]+"px;height:"+b[1]+'px;"></div>',v="",_="",y&&"inbanner"!==y?(_=un+bn(g.params.format)+".min.js",v=vn(g)):(_=pn,v=hn(g,b)),h+"<script type='text/javascript'>(function() {  var st = document.createElement('script'); st.type = 'text/javascript'; st.async = true;  st.src = '"+_+"';  st.onload = function(){    var vastLoader = new window.com.stickyadstv.vast.VastLoader();    var vast = vastLoader.getVast();    var topWindow = (function(){var res=window; try{while(top != res){if(res.parent.location.href.length)res=res.parent;}}catch(e){}return res;})();    vast.setXmlString(topWindow.freewheelssp_cache[\""+g.adUnitCode+'"]);    vastLoader.parseAds(vast, {      onSuccess: function() {'+v+" }    });  };  document.head.appendChild(st);})();<\/script>"),f.push(t)}var g,b,y,h,v,_;return f},getUserSyncs:;function In(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?In(Object(r),!0).forEach((function(t){wn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Jt.dX)(_n);const On="grid",En="https://grid.bidswitch.net/hbjson",Tn="https://bidder.criteo.com/cdb",Sn="cto_sid",kn="cto_idcpy",Pn="cto_optout",Cn="cto_bundle",An="https://x.bidswitch.net/sync?ssp=themediagrid",Rn="tmguid",jn="https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",Dn=(0,Yt.df)({gvlid:686,bidderCode:On}),Nn="Bid from response has no auid parameter - ",Un="Bid from response has no adm parameter - ",Mn="Array of bid objects is empty",Bn="Seatbid array from response has empty item",qn="Response is empty",Zn="Response has empty seatbid array",zn="Seatbid from response has no array of bid objects - ",Ln={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}}};let Fn=!1;const Xn={code:On,gvlid:686,aliases:["playwire","adlivetech",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[Vt.Mk,Vt.pX],isBidRequestValid:buildRequests:function(e,t){if(!e.length)return null;let r=null,n=null,i=null,a=null,o=null,s=null,d=null,c=!1,{bidderRequestId:p,auctionId:u,gdprConsent:l,uspConsent:m,timeout:g,refererInfo:b,gppConsent:y}=t||{};const h=b?encodeURIComponent(b.page):"",v=g||f.vc.getConfig("bidderTimeout"),_=[],I={},x=[],w={},O=[],T=[],S=[];e.forEach((e=>{const t={bid:e,savedPrebidBid:null};if(e.params.withCriteo&&Vn.isBidRequestValid(e)&&(w[e.bidId]=t,O.push(e)),!e.params.uid&&!e.params.secid)return;p||(p=e.bidderRequestId),u||(u=e.auctionId),i||(i=e.schain),a||(a=e.userIdAsEids),d||(d=Ln[e.bidder]&&Ln[e.bidder].endpoint);const{params:{uid:o,keywords:s,forceBidder:l,multiRequest:m},mediaTypes:f,bidId:g,adUnitCode:b,rtd:y,ortb2Imp:k}=e,{secid:P,pubid:C,source:A,content:R}=e.params,j=function(e,t){const r=e.video?"video":"banner";let n=t.params.bidFloor||t.params.floorcpm||0;if("function"==typeof t.getFloor){const e=t.getFloor({currency:"USD",mediaType:r,size:t.sizes.map(()});"object"!=typeof e||"USD"!==e.currency||isNaN(parseFloat(e.floor))||(n=Math.max(n,parseFloat(e.floor)))}return n}(f||{},e),D=y&&y.jwplayer&&y.jwplayer.targeting;D&&!n&&D.content&&(n=D.content);let N={id:g.toString(),tagid:(P||o).toString(),ext:{divid:b.toString()}};if(k&&(k.instl&&(N.instl=k.instl),k.ext&&k.ext.data&&(N.ext.data=k.ext.data,N.ext.data.adserver&&N.ext.data.adserver.adslot?N.ext.gpid=N.ext.data.adserver.adslot.toString():N.ext.gpid=k.ext.data.pbadslot&&k.ext.data.pbadslot.toString())),(0,E.xb)(s)||(r||(r=s),N.ext.bidder={keywords:s}),j&&(N.bidfloor=j),!f||f[Vt.Mk]){const t=function(e,t){const r=t.sizes||e.sizes;if(!r||!r.length)return;let n=r.map((e=>(0,E.NI)(e))),i=(0,E.NI)(r[0]);n.length&&(i.format=n);return i}(e,f?f[Vt.Mk]:{});t&&(N.banner=t)}if(f&&f[Vt.pX]){const t=function(e,t){const{playerSize:r,mimes:n,durationRangeSec:i,protocols:a}=t,o=(r||e.sizes||[])[0];if(!o)return;let s=(0,E.NI)(o);n&&(s.mimes=n);i&&2===i.length&&(s.minduration=i[0],s.maxduration=i[1]);a&&a.length&&(s.protocols=a);return s}(e,f[Vt.pX]);t&&(N.video=t)}if(N.banner||N.video)if(m){const r={tid:e.auctionId&&e.auctionId.toString(),ext:{wrapper:"Prebid_js",wrapper_version:"7.42.0"}};e.schain&&(r.ext.schain=e.schain);const n={id:e.bidderRequestId&&e.bidderRequestId.toString(),site:{page:h},tmax:v,source:r,imp:[N]};C&&(n.site.publisher={id:C});const i=R||D&&D.content;i&&(n.site.content=i),x.push(n),T.push(A),S.push(t)}else I[g]=t,_.push(N);!c&&l&&Ln[l]&&(c=l)})),c=f.vc.getConfig("forceBidderName")||c,c&&Ln[c]&&(d=Ln[c].endpoint,this.forceBidderName=c);const k={tid:u&&u.toString(),ext:{wrapper:"Prebid_js",wrapper_version:"7.42.0"}};i&&(k.ext.schain=i);const P=_.length||!x.length?{id:p&&p.toString(),site:{page:h},tmax:v,source:k,imp:_}:null;n&&(P.site.content=n),[...x,P].forEach((e=>{if(!e)return;o=null;const n=(0,R.Z)(t,"ortb2.user.data");n&&n.length&&(o={data:[...n]}),l&&l.consentString&&(s={consent:l.consentString});const i=(0,R.Z)(t,"ortb2.user.ext.device");i&&(s=s||{},s.device=xn({},i)),a&&a.length&&(s=s||{},s.eids=[...a]),s&&Object.keys(s).length&&(o=o||{},o.ext=s);const d=Dn.getDataFromLocalStorage(Rn)||);d&&(o=o||{},o.id=d.toString()),o&&(e.user=o);const c=(0,R.Z)(t,"ortb2.user.keywords")||null,p=(0,R.Z)(t,"ortb2.site.keywords")||null;c&&(r=r||{},r.user=r.user||{},r.user.ortb2=[{name:"keywords",keywords:c.split(",")}]),p&&(r=r||{},r.site=r.site||{},r.site.ortb2=[{name:"keywords",keywords:p.split(",")}]),r&&(r=function(e){const t={};return Object.keys(e).forEach((r=>{const n=e[r];if(n)if("site"===r||"user"===r){const e={};Object.keys(n).forEach((t=>{if(Array.isArray(n[t])){const r=[];n[t].forEach((e=>{if("object"==typeof e&&e.name){const t={name:e.name,segments:[]};Object.keys(e).forEach((r=>{Array.isArray(e[r])&&e[r].forEach((e=>{e&&("string"==typeof e?t.segments.push({name:r,value:e}):"segments"===r&&"string"==typeof e.name&&"string"==typeof e.value&&t.segments.push(e))}))})),t.segments.length&&r.push(t)}})),r.length&&(e[t]=r)}})),t[r]=e}else t[r]=n})),Object.keys(t).length&&t}(r),r&&(e.ext={keywords:r})),l&&l.gdprApplies&&(e.regs={ext:{gdpr:l.gdprApplies?1:0}});const u=(0,R.Z)(t,"ortb2.regs")||{};if(y||null!=u&&u.gpp){var g,b,h;const t={gpp:null!==(g=null==y?void 0:y.gppString)&&void 0!==g?g:null==u?void 0:u.gpp,gpp_sid:null!==(b=null==y?void 0:y.applicableSections)&&void 0!==b?b:null==u?void 0:u.gpp_sid};e.regs=(0,E.Ee)(null!==(h=null==e?void 0:e.regs)&&void 0!==h?h:{},t)}m&&(e.regs||(e.regs={ext:{}}),e.regs.ext||(e.regs.ext={}),e.regs.ext.us_privacy=m),!0===f.vc.getConfig("coppa")&&(e.regs||(e.regs={}),e.regs.coppa=1);const v=(0,R.Z)(t,"ortb2.site");if(v){const t=[...v.cat||[],...v.pagecat||[]].filter(();t.length&&(e.site.cat=t);const r=(0,R.Z)(v,"content.genre");r&&"string"==typeof r&&(e.site.content=xn(xn({},e.site.content),{},{genre:r}));const n=(0,R.Z)(v,"content.data");if(n&&n.length){const t=e.site.content||{};e.site.content=(0,E.Ee)(t,{data:n})}const i=(0,R.Z)(v,"content.id");i&&(e.site.content=xn(xn({},e.site.content),{},{id:i}))}}));const C=O.length&&Vn.buildRequests(O,t);return C&&(C.criteoBidsMap=w),[...x.map(((e,t)=>{let r;const n=(d||En).replace(/[?&]sp=([^?&=]+)/,((e,t)=>(t&&(r=t),"")));let i=T[t]||r;return{method:"POST",url:n+(n.indexOf("?")>-1?"&":"?")+"no_mapping=1"+(i?"&sp=".concat(i):""),data:JSON.stringify(e),bidObject:S[t]}})),...P?[{method:"POST",url:d||En,data:JSON.stringify(P),bidsMap:I}]:[],...C?[C]:[]]},interpretResponse:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ht.Th;if(t.criteoBidsMap&&t.bidRequests){return Vn.interpretResponse(e,t).filter((e=>{const{savedPrebidBid:r}=t.criteoBidsMap[e.requestId]||{};return Hn(e.cpm,r&&r.cpm)}))}{e=e&&e.body;const n=[];let i;e?e.seatbid&&!e.seatbid.length&&(i=Zn):i=qn;const a=this.forceBidderName||this.code;return!i&&e.seatbid&&e.seatbid.forEach((e=>{!function(e,t,r,n,i){if(!e)return;let a;e.auid||(a=Nn+JSON.stringify(e));if(a||e.adm||e.nurl){const a=t.bidsMap?t.bidsMap[e.impid]:t.bidObject,{bid:o,savedPrebidBid:s}=a||{};if(o&&Hn(e.price,s&&s.cpm)){const t={requestId:o.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain?e.adomain:[]},dealId:e.dealid};a.savedPrebidBid=t,e.ext&&e.ext.bidder&&e.ext.bidder.grid&&e.ext.bidder.grid.demandSource&&(t.adserverTargeting={hb_ds:e.ext.bidder.grid.demandSource},t.meta.demandSource=e.ext.bidder.grid.demandSource),"video"===e.content_type?(e.adm?(t.vastXml=e.adm,t.adResponse={content:t.vastXml}):e.nurl&&(t.vastUrl=e.nurl),t.mediaType=Vt.pX,o.renderer||o.mediaTypes&&o.mediaTypes.video&&"outstream"!==o.mediaTypes.video.context||(t.renderer=0,{id:o.bidId,url:jn},n))):(t.ad=e.adm,t.mediaType=Vt.Mk);const s=Ln[i]&&Ln[i].bidResponseExternal||{};r.push((0,E.Ee)(t,s))}}else a=Un+JSON.stringify(e);a&&(0,E.H)(a)}(e),t,n,r,a)})),i&&(0,E.H)(i),n}},getUserSyncs:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[n,,i,a]=t;if(!Fn&&n.pixelEnabled){let e="";i&&("boolean"==typeof i.gdprApplies&&(e+="&gdpr=".concat(Number(i.gdprApplies))),"string"==typeof i.consentString&&(e+="&gdpr_consent=".concat(i.consentString))),a&&(e+="&us_privacy=".concat(a));const t=this.forceBidderName||this.code,r=Ln[t]&&Ln[t].syncurl||An;return Fn=!0,{type:"image",url:r+e}}}};unction Jn(e){e.renderer.push(()}const Vn={isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId)&&!(Gn(e)&&!e)),buildRequests:(e,t)=>{var r,n;let i,a,o=t.ortb2||{};Object.assign(t,{publisherExt:null===(r=o.site)||void 0===r?void 0:r.ext,userExt:null===(n=o.user)||void 0===n?void 0:n.ext,ceh:f.vc.getConfig("criteo.ceh"),coppa:f.vc.getConfig("coppa")});const s=function(e,t){var r;let n="";t&&t.refererInfo&&(n=t.refererInfo.page);const i=(0,E.en)(null==t||null===(r=t.refererInfo)||void 0===r?void 0:r.topmostLocation).search,a={url:n,debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,amp:!1};return e.forEach((),a}(e,t);if(i=s),a=function(e,t,r){let n,i;const a={publisher:{url:e.url,ext:r.publisherExt},regs:{coppa:!0===r.coppa?1:!1===r.coppa?0:void 0},slots:t.map((e=>{n=e.params.networkId||n,i=e.schain||i;const t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,R.Z)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),!e)?t.sizes=[]:t.sizes=Wn((0,R.Z)(e,"mediaTypes.banner.sizes"),Yn),Gn(e)){const r={playersizes:Wn((0,R.Z)(e,"mediaTypes.video.playerSize"),Yn),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay},n=e.params.video;void 0!==n&&(r.skip=r.skip||n.skip||0,r.placement=r.placement||n.placement,r.minduration=r.minduration||n.minduration,r.playbackmethod=r.playbackmethod||n.playbackmethod,r.startdelay=r.startdelay||n.startdelay||0),t.video=r}return function(e,t){try{const i={};if(t.getFloor){var r,n;if(null!==(r=t.mediaTypes)&&void 0!==r&&r.banner){i.banner={};Wn((0,R.Z)(t,"mediaTypes.banner.sizes")).forEach((e=>i.banner[Yn(e).toString()]=t.getFloor({size:e,mediaType:Vt.Mk})))}if(null!==(n=t.mediaTypes)&&void 0!==n&&n.video){i.video={};Wn((0,R.Z)(t,"mediaTypes.video.playerSize")).forEach((e=>i.video[Yn(e).toString()]=t.getFloor({size:e,mediaType:Vt.pX})))}Object.keys(i).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:i}))}}catch(e){(0,E.H)("Could not parse floors from Prebid: "+e)}}(t,e),t}))};n&&(a.publisher.networkid=n);i&&(a.source={ext:{schain:i}});a.user={ext:r.userExt},r&&r.ceh&&(a.user.ceh=r.ceh);r&&r.gdprConsent&&(a.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(a.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),a.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(a.gdprConsent.consentData=r.gdprConsent.consentString));r&&r.uspConsent&&(a.user.uspIab=r.uspConsent);return a}(s,e,t),a)return{method:"POST",url:i,data:a,bidRequests:e}},interpretResponse:(e,t)=>{const r=e.body||e,n=[];return r&&r.slots&&(0,E.kJ)(r.slots)&&r.slots.forEach((i=>{var a,o,s,d;const c={requestId:(0,I.sE)(t.bidRequests,(e=>e.adUnitCode===i.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===i.zoneid))).bidId,cpm:i.cpm,currency:i.currency,netRevenue:!0,ttl:i.ttl||60,creativeId:i.creativecode,width:i.width,height:i.height,dealId:i.dealCode};if(null!==(a=r.ext)&&void 0!==a&&null!==(o=a.paf)&&void 0!==o&&o.transmission&&null!==(s=i.ext)&&void 0!==s&&null!==(d=s.paf)&&void 0!==d&&d.content_id){const t={content_id:i.ext.paf.content_id,transmission:e.ext.paf.transmission};c.meta=Object.assign({},c.meta,{paf:t})}i.adomain&&(c.meta=Object.assign({},c.meta,{advertiserDomains:i.adomain})),i.video?(c.vastUrl=i.displayurl,c.mediaType=Vt.pX):c.ad=i.creative,n.push(c)})),n}};unction Wn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return void 0===e?[]:Array.isArray(e[0])?e.map((e=>t(e))):[t(e)]},Jt.dX)(Xn);var $n=r(9818),Qn=r(2180);function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach((function(t){ri(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ri(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ni="improvedigital",ii={DEFAULT_MIMES:["video/mp4"],PLACEMENT_TYPE:{INSTREAM:1,OUTSTREAM:3}},ai={code:ni,gvlid:253,aliases:["id"],supportedMediaTypes:[Vt.Mk,Vt.B5,Vt.pX],syncStore:{extendMode:!1,placementId:null},isBidRequestValid:e=>!!(e&&e.params&&(e.params.placementId||e.params.placementKey&&e.params.publisherId)),buildRequestsinterpretResponse(e,t){let{ortbRequest:r}=t;return oi.fromORTB({request:r,response:e.body}).bids},getUserSyncs(e,t,r,n){if(!0===f.vc.getConfig("coppa")||!(0,Gt.h)(r))return[];const i=[];if(!this.syncStore.extendMode&&e.pixelEnabled||!e.iframeEnabled)e.pixelEnabled&&t.forEach((e=>{(0,R.Z)(e,"body.ext.".concat(ni,".sync"),[]).forEach(()}));else{const{gdprApplies:e,consentString:a}=r||{},o=new Set;this.syncStore.extendMode&&t&&t.forEach((e=>{var t,r;null!=e&&null!==(t=e.body)&&void 0!==t&&null!==(r=t.ext)&&void 0!==r&&r.responsetimemillis&&Object.keys(e.body.ext.responsetimemillis).forEach((e=>o.add(e)))})),i.push({type:"iframe",url:"https://hb.360yield.com/prebid-universal-creative/load-cookie.html"+"?placement_id=".concat(this.syncStore.placementId)+(this.syncStore.extendMode?"&pbs=1":"")+("boolean"==typeof e?"&gdpr=".concat(Number(e)):"")+(a?"&gdpr_consent=".concat(a):"")+(n?"&us_privacy=".concat(encodeURIComponent(n)):"")+(o.size?"&bidders=".concat([...o].join(",")):"")})}return i}};(0,Jt.dX)(ai);const oi=(0,$n.x)({context:{ttl:300,nativeRequest:{eventtrackers:[{event:1,methods:[1,2]}]}},imprequestbidResponse(e,t,r){if(!t.adm||!t.price||t.hasOwnProperty("errorCode"))return;const{bidRequest:n}=r;r.mediaType=(()=>{const e=Object.keys(n.mediaTypes);return 1===e.length?e[0]:-1!==t.adm.search(/^(<\?xml|<vast)/i)?Vt.pX:"{"===t.adm[0]?Vt.B5:Vt.Mk})();const i=e(t,r),a=(0,R.Z)(t,"ext.".concat(ni),{});return Object.assign(i,{dealId:"string"==typeof a.buying_type&&"rtb"!==a.buying_type?a.line_item_id:void 0,netRevenue:a.is_net||!1}),i.mediaType===Vt.pX&&si.isOutstreamVideo(n)&&Object.assign(i,{adResponse:{content:i.vastXml},renderer:di.createRenderer(n)}),ci.forwardBid({bidRequest:n,bid:i}),i},overrides:{imp:{banner(e,t,r,n){if(r.mediaTypes[Vt.Mk]){if(!0!==f.vc.getConfig("improvedigital.usePrebidSizes")){const e=Object.assign({},r.mediaTypes[Vt.Mk],{sizes:null});r=ti(ti({},r),{},{mediaTypes:{[Vt.Mk]:e}})}e(t,r,n)}},video(e,t,r,n){var i;if(!r.mediaTypes[Vt.pX])return;const a=Object.assign({mimes:ii.DEFAULT_MIMES},r.mediaTypes[Vt.pX],null===(i=r.params)||void 0===i?void 0:i.video);e(t,ti(ti({},r),{},{mediaTypes:{[Vt.pX]:a}}),n),(0,_e.N)(t,"ext.is_rewarded_inventory",1===a.rewarded||1===(0,R.Z)(a,"ext.rewarded")||void 0),!t.video.placement&&si.isOutstreamVideo(r)&&(t.video.placement=ii.PLACEMENT_TYPE.OUTSTREAM)}},request:{gdprAddtlConsent(e,t,r){var n;const i=null==r||null===(n=r.gdprConsent)||void 0===n?void 0:n.addtlConsent;if(i)if(ai.syncStore.extendMode)e(t,r);else if(i&&-1!==i.indexOf("~")){const e=i.substring(i.indexOf("~")+1);e&&(0,_e.N)(t,"user.ext.consented_providers_settings.consented_providers",e.split(".").map(())}}}}}),si={buildServerRequests(e,t){const r=!0===f.vc.getConfig("improvedigital.extend"),n=[],i=!0===f.vc.getConfig("improvedigital.singleRequest"),a=[],o=[];t c=null;return e.map((e=>{const t=e.params.publisherId,s=this.isExtendModeEnabled(r,e.params);if(i){if(c){if(t&&c!==t)throw new Error("All Improve Digital placements in a single call must have the same publisherId. Please check your 'params.publisherId' or turn off the single request mode.")}else c=t;s?a.push(e):o.push(e)}else n.push(d([e],t,s))})),i?(a.length&&n.push(d(a,c,!0)),o.length&&n.push(d(o,c,!1)),n):n},isExtendModeEnabledisOutstreamVideo:,di={RENDERER_URL:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",createRendererrenderhandleRendererEvents,ci={RENDERER_URL:"https://cdn.360yield.com/razr/tag.js",forwardBid(e){let{bidRequest:t,bid:r}=e;if(r.mediaType!==Vt.Mk)return;const n={prebid:{bidRequest:t,bid:r}},i=JSON.stringify(n).replace(/<\/script>/gi,"\\x3C/script>"),a="<script>window.__razr_config = ".concat(i,";<\/script>");r.ad=r.ad.replace(/<body[^>]*>/,(),this.installListener()},installListener(){this._listenerInstalled||(window.addEventListener("message",(function(e){var t,r;const n=null===(t=e.data)||void 0===t||null===(r=t.razr)||void 0===r?void 0:r.load;if(!n)return;e.source&&(n.source=e.source,n.id&&e.source.postMessage({razr:{id:n.id}},"*"));const i=window.razr=window.razr||{};i.q=i.q||[],i.q.push(n),i.loaded||(0,Qn.B)(ci.RENDERER_URL,ni)})),this._listenerInstalled=!0)}};function pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(r),!0).forEach((function(t){li(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function li(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const mi="ix",fi="roundel",gi=[Vt.Mk,Vt.pX,Vt.B5],bi=[144,144],yi={JPY:1},hi={PBJS:"p",IX:"x"},vi={BID_SIZE_INVALID_FORMAT:1,BID_SIZE_NOT_INCLUDED:2,PROPERTY_NOT_INCLUDED:3,SITE_ID_INVALID_VALUE:4,BID_FLOOR_INVALID_FORMAT:5,IX_FPD_EXCEEDS_MAX_SIZE:6,EXCEEDS_MAX_SIZE:7,PB_FPD_EXCEEDS_MAX_SIZE:8,VIDEO_DURATION_INVALID:9},_i={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},Ii={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":"","intimatemerger.com":""},xi=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId"],wi=["mimes","minduration","maxduration"],Oi=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],Ei="ixdiag",Ti="".concat(mi,"_features");let Si=!1;const ki=(0,Yt.df)({gvlid:10,bidderCode:mi}),Pi={featureToggles:{},isFeatureEnabled:getFeatureToggles:setFeatureToggles:clearFeatureToggles:;let Ci=0,Ai="",Ri="";const ji=2;let Di=0,Ni=0,Ui=!1,Mi=0; Ji(e,t,r){if(!e)return;return ui(ui({},(0,I.sE)(r,(t=>t.bidId===e))),(0,I.sE)(t,(t=>t.id===e)))}function Vi(e,t,r,n){Di=0,Ni=0,Ui=!1,Mi=0;let i="https://htlb.casalemedia.com/openrtb/pbjs",a=(0,R.Z)(e,"0.userIdAsEids")),o=a.toSend,s=8e3;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&o,a),t&&t.bidderCode===fi&&!a.seenSources["liveramp.com"])return[];const d=[];let c=e),p=e);for(var u in p)c.ext.ixdiag[u]=p[u];c=c,t,r,e,o),c=c,t);let l={};!function(e,t,r,n,i,a,o){Ci=e[0].params.siteId,a.s=Ci;const s=t&&t.bidderCode||"ix",d=f.vc.getConfig(s);if(Di="".concat(n).concat((0,E.Re)(ui(ui({},a),{},{r:JSON.stringify(r)}))).length,Di>o)return(0,E.H)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:mi,code:vi.EXCEEDS_MAX_SIZE}),i;Ni=Di;let c=0;if(d&&"object"==typeof d.firstPartyData){const e=d.firstPartyData;let t="?";for(const r in e)e.hasOwnProperty(r)&&(t+="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e[r]),"&"));t=t.slice(0,-1),c=encodeURIComponent(t).length,Pi.isFeatureEnabled("pbjs_use_buildRequestV2")?"page"in r.site?r.site.page+=t:r.site.page=t:c<o?("page"in r.site?r.site.page+=t:r.site.page=t,Ni+=c):(0,E.H)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:mi,code:vi.IX_FPD_EXCEEDS_MAX_SIZE})}}(e,t,c,i,d,l,s);let m=0;const g=Object.keys(r);let b=!1;for(let n=0;n<g.length&&(Pi.isFeatureEnabled("pbjs_use_buildRequestV2")||!(Ni>=s))&&!(d.length>=4);n++){c=Ki(r,g,c,n,s),Ni+=Mi;const a=(0,R.Z)(t,"ortb2")||{},o=ui({},a.site||a.context),p=ui({},a.user);if(!(0,E.xb)(a)&&!b){c=Wi(t,c,a,o,p);const e=(0,E.I8)(c);e.site=(0,E.Ee)({},e.site,o),e.user=(0,E.Ee)({},e.user,p);if("".concat(i).concat((0,E.Re)(ui(ui({},l),{},{r:JSON.stringify(e)}))).length<s){c.site=(0,E.Ee)({},c.site,o),c.user=(0,E.Ee)({},c.user,p),b=!0;const e=encodeURIComponent(JSON.stringify(ui(ui({},o),p))).length;Ni+=e}else(0,E.H)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:mi,code:vi.PB_FPD_EXCEEDS_MAX_SIZE})}c=Yi(r,c,g,n,l,i,s);const u=n===g.length-1;(Ui||u)&&(u&&!m||(c.ext.ixdiag.sn=m),m++,d.push({method:"POST",url:i+"?s="+Ci,data:(0,E.I8)(c),option:{contentType:"text/plain"},validBidRequests:e}),Ni=Di,c.imp=[],b=!1)}return d}unction Wi(e,t,r,n,i){if(t.ext.ixdiag.fpd=!0,Object.keys(n).forEach((e=>{-1===_i.SITE.indexOf(e)&&delete n[e]})),Object.keys(i).forEach((),r.device){const e=ui({},r.device.sua);(0,E.xb)(e)||(0,_e.N)(t,"device.sua",e)}return r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&(0,_e.N)(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&(0,_e.N)(t,"regs.gpp_sid",r.regs.gpp_sid)),t}ode:mi,gvlid:10,aliases:[{code:fi,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:gi,isBidRequestValid:function(e){Si||(h.on(v.FP.AUCTION_DEBUG,na),h.on(v.FP.AD_RENDER_FAILED,na),Si=!0);const t=(0,R.Z)(e,"params.video"),r=(0,R.Z)(e,"params.size"),n=(0,R.Z)(e,"mediaTypes.banner.sizes"),i=(0,R.Z)(e,"mediaTypes.video"),a=(0,R.Z)(e,"mediaTypes.video.playerSize"),o=e.params.hasOwnProperty("bidFloor"),s=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,E.r3)(gi,e.mediaType))return(0,E.yN)("IX Bid Adapter: media type is not supported."),!1;if((0,R.Z)(e,"mediaTypes.banner")&&!n)return!1;if(r){const t=Hi(r);if(!t)return(0,E.H)("IX Bid Adapter: size has invalid format.",{bidder:mi,code:vi.BID_SIZE_INVALID_FORMAT}),!1;if(!Fi(e.sizes,t)&&!Fi(a,t)&&!Fi(n,t))return(0,E.H)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:mi,code:vi.BID_SIZE_NOT_INCLUDED}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,E.H)("IX Bid Adapter: siteId must be string or number type.",{bidder:mi,code:vi.SITE_ID_INVALID_VALUE}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,E.H)("IX Bid Adapter: siteId must valid value",{bidder:mi,code:vi.SITE_ID_INVALID_VALUE}),!1;if((o||s)&&!(o&&s&&function(e,t){return Boolean("number"==typeof e&&"string"==typeof t&&t.match(/^[A-Z]{3}$/))}(e.params.bidFloor,e.params.bidFloorCur)))return(0,E.H)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:mi,code:vi.BID_FLOOR_INVALID_FORMAT}),!1;if(i&&t){const r=Bi(e).video,n=Xi(i,t);if((0,R.Z)(e,"mediaTypes.video.context")===Wt.gZ&&oa(e)&&r){const e=[(0,R.Z)(r,"w"),(0,R.Z)(r,"h")];if(!(e[0]>=bi[0]&&e[1]>=bi[1]))return(0,E.H)("IX Bid Adapter: ".concat(e," is an invalid size for IX outstream renderer")),!1}if(n.length)return n.forEach((),!1}return e)},buildRequests:interpretResponse:transformBidParams:getUserSyncs:;0,Jt.dX)(sa);const ca="medianet",pa="https://prebid.media.net/video/bundle.js",ua={NOT_DETERMINED:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:2},la="client_timeout",ma="client_bid_won";let fa=(0,g.nH)(),ga={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],ga.urlData={domain:fa.domain,page:fa.page,isTop:fa.reachedTop};let ba=window.pbjs||{};unction ha(e,t){const r=t.refererInfo;let n={domain:(e=e||{}).domain||r.domain,page:e.page||r.page,ref:e.ref||ya(),topMostLocation:r.topmostLocation,isTop:e.isTop||r.reachedTop};return Object.assign(n,))}function va(e,t){let r=e,t);return r&&r)}nction xa(e,t){const r=(0,R.Z)(e,"params"),n=(0,R.Z)(t,"gdprConsent"),i=(0,R.Z)(t,"uspConsent"),a=(0,R.Z)(e,"userId"),o=(0,R.Z)(e,"schain")||{},s=Ca.getWindowSize(),d=!(!n||!n.gdprApplies),c=!!i,p=!!f.vc.getConfig("coppa");return Object.assign({},{customer_id:r.cid},{prebid_version:"7.42.0"},{gdpr_applies:d},d&&{gdpr_consent_string:n.consentString||""},{usp_applies:c},c&&{usp_consent_string:i||""},{coppa_applies:p},-1!==s.w&&-1!==s.h&&{screen:s},a&&{user_id:a},ba.medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,E.xb)(o)&&{schain:o})}function wa(e){let t={id:e.bidId,transactionId:e.transactionId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(t.ortb2Imp=e.ortb2Imp);let r=(0,R.Z)(e,"mediaTypes.banner.sizes")||[];const n=(0,R.Z)(e,"mediaTypes.video")||{},i=(0,R.Z)(e,"params.video")||{},a=Object.assign({},i,n);var o;if((0,E.xb)(a)||(t.video=a),r.length>0&&(t.banner=(o=r,(0,E.kJ)(o)&&2===o.length&&!(0,E.kJ)(o[0])?[Ia(o)]:o.map((e=>Ia(e))))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){(0,E.H)("".concat(ca," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());let s=parseFloat(e.params.bidfloor||e.params.bidFloor);s&&(t.bidfloor=s);const d=function(e){let t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){const{divId:r}=(0,E.ky)(e);(0,E.d8)(r)&&(t=document.getElementById(r))}if(t&&t.getBoundingClientRect){const e=t.getBoundingClientRect();let r={};return r.top_left={y:e.top,x:e.left},r.bottom_right={y:e.bottom,x:e.right},r}return null}(e.adUnitCode);if(d&&t.banner&&0!==t.banner.length){let e=d);t.ext.coordinates=e,t.ext.viewability=Ta(d.top_left,Ea(t.banner)),Ta(e.top_left,Ea(t.banner))>.5?t.ext.visibility=ua.ABOVE_THE_FOLD:t.ext.visibility=ua.BELOW_THE_FOLD}else t.ext.visibility=ua.NOT_DETERMINED;const c=function(e){let t=[];"function"==typeof e.getFloor&&[Vt.Mk,Vt.pX,Vt.B5].forEach((r=>{e.mediaTypes.hasOwnProperty(r)&&(r==Vt.Mk?e.mediaTypes.banner.sizes.forEach(():Oa(e,r,"*",t))}));return t}(e);return c&&c.length>0&&(t.bidfloors=c),t}ction Sa(e,t){t=(0,E.kJ)(t)&&t||[];let r={logid:"kfk",evtid:"projectevents",project:"prebid"};return r.acid=(0,R.Z)(t,"0.auctionId")||"",r.cid=ba.medianetGlobals.cid||"",r.crid=t.map((e=>(0,R.Z)(e,"params.0.crid")||e.adUnitCode)).join("|"),r.adunit_count=t.length||0,r.dn=ga.urlData.domain||"",r.requrl=ga.urlData.page||"",r.istop=ga.urlData.isTop||"",r.event=e.name||"",r.value=e.value||"",r.rd=e.related_data||"",r}unction Pa(e){const t=(0,R.Z)(e,"context")||"",r=(0,R.Z)(e,"vto");"outstream"==t&&r&&(e.renderer=function(e){const t=Ht.Th.install({url:pa});return t.setRender((),t}())}ba.medianetGlobals=ba.medianetGlobals||{};const Ca={code:ca,gvlid:142,aliases:[{code:"aax",gvlid:720}],supportedMediaTypes:[Vt.Mk,Vt.B5,Vt.pX],isBidRequestValid:buildRequests:function(e,t){let r=function(e,t){return{site:ha(e[0].params.site,t),ext:xa(e[0],t),id:e[0].auctionId,imp:e.map((e=>wa(e))),ortb2:t.ortb2,tmax:t.timeout||f.vc.getConfig("bidderTimeout")}}(e=(0,$t.lY)(e),t);return{method:"POST",url:(n=r.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(r)};var n},interpretResponse:function(e,t){let r=[];if(!e||!e.body)return(0,E.PN)("".concat(ca," : response is empty")),r;let n=e.body.bidList;return(0,E.kJ)(n)&&0!==n.length?(r=n.filter((e=>e))),r.forEach(Pa),r):((0,E.PN)("".concat(ca," : no bids")),r)},getUserSyncs:function(e,t){let r=(n=t,!(0,E.xb)(n)&&n[0].body&&n[0].body.ext&&(0,E.kJ)(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[]);var n;return e.iframeEnabled?_a(r,"iframe"):e.pixelEnabled?_a(r,"image"):void 0},onTimeout:e=>{try{ka({name:la,value:e.length,related_data:e[0].timeout||f.vc.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:e=>{try{ka({name:ma,value:e.cpm},[e])}catch(e){}},clearMnData:getWindowSize:;(0,Jt.dX)(Ca);const Aa=[Vt.Mk,Vt.pX],Ra=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],ja="hb_pb",Da="3.0.3",Na="USD",Ua={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",hadronId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",admixerId:"admixerid",deepintentId:"deepintentid",dmdId:"dmdid",nextrollId:"nextrollid",novatiq:"novatiqid",mwOpenLinkId:"mwopenlinkid",dapId:"dapid",amxId:"amxid",kpuid:"kpuid",publinkId:"publinkid",naveggId:"naveggid",imuid:"imuid",adtelligentId:"adtelligentid"},Ma={code:"openx",gvlid:69,supportedMediaTypes:Aa,isBidRequestValid:buildRequests:interpretResponse:getUserSyncs:transformBidParams:;t.dX)(Ma);const La="USD",Fa={0:"title",2:"icon",3:"image",5:"sponsoredBy",4:"body",1:"cta"},Xa={title:{id:0,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},sponsoredBy:{id:5,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:1,type:12,name:"data"}},Ha="https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",Ja={code:"outbrain",gvlid:164,supportedMediaTypes:[Vt.B5,Vt.Mk,Vt.pX],isBidRequestValid:e=>"object"==typeof e.params&&("string"==typeof(0,R.Z)(e,"params.publisher.id")&&((!e.params.tagid||"string"==typeof e.params.tagid)&&(!(e.params.bcat&&("object"!=typeof e.params.bcat||!e.params.bcat.every((e=>"string"==typeof e))))&&(!(e.params.badv&&("object"!=typeof e.params.badv||!e.params.badv.every((e=>"string"==typeof e))))&&(!!f.vc.getConfig("outbrain.bidderUrl")&&(!(!e.nativeParams&&!e.sizes)||e))))))),buildRequests:(e,t)=>{e=(0,$t.lY)(e);const r=t.ortb2||{},n=t.refererInfo.page,i=navigator.userAgent,a=Va(e,"params.test"),o=Va(e,"params.publisher"),s=r.bcat||Va(e,"params.bcat"),d=r.badv||Va(e,"params.badv"),c=Va(e,"userIdAsEids"),p=r.wlang,u=La,l=f.vc.getConfig("outbrain.bidderUrl"),m=t.timeout,g=e.map(((e,t)=>{e.netRevenue="net";const r={id:t+1+""};if(e.params.tagid&&(r.tagid=e.params.tagid),e.nativeParams?r.native={request:JSON.stringify({assets:Wa(e)})}:Ga(e)?r.video=e):r.banner={format:Ya(e.sizes)},"function"==typeof e.getFloor){const t=function(e,t){const r=e.getFloor({currency:La,mediaType:t,size:"*"});if("object"==typeof r&&r.currency===La&&!isNaN(parseFloat(r.floor)))return parseFloat(r.floor);return null}(e,e.nativeParams?Vt.B5:Vt.Mk);t&&(r.bidfloor=t)}return r})),b={id:t.auctionId,site:{page:n,publisher:o},device:{ua:i},source:{fd:1},cur:[u],tmax:m,imp:g,bcat:s,badv:d,wlang:p,ext:{prebid:{channel:{name:"pbjs",version:"7.42.0"}}}};return a&&(b.is_debug=!!a,b.test=1),(0,R.Z)(t,"gdprConsent.gdprApplies")&&((0,_e.N)(b,"user.ext.consent",t.gdprConsent.consentString),(0,_e.N)(b,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&(0,_e.N)(b,"regs.ext.us_privacy",t.uspConsent),!0===f.vc.getConfig("coppa")&&(0,_e.N)(b,"regs.coppa",1&f.vc.getConfig("coppa")),c&&(0,_e.N)(b,"user.ext.eids",c),{method:"POST",url:l,data:JSON.stringify(b),bids:e}},interpretResponse:(e,t)=>{let{bids:r}=t;if(!e.body)return[];const{seatbid:n,cur:i}=e.body,a=Ka(n.map((e=>e.bid))).reduce((,[]);return r.map(((e,t)=>{const r=a[t];if(r){let t=Vt.Mk;e.nativeParams?t=Vt.B5:Ga(e)&&(t=Vt.pX);const n={requestId:e.bidId,cpm:r.price,creativeId:r.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:i,mediaType:t,nurl:r.nurl};if(t===Vt.B5)n.native=function(e){const{assets:t,link:r,privacy:n,eventtrackers:i}=JSON.parse(e.adm),a={clickUrl:r.url,clickTrackers:r.clicktrackers||void 0};t.forEach((e=>{const t=Fa[e.id],r=t&&e[Xa[t].name];r&&(a[t]=r.text||r.value||{url:r.url,width:r.w,height:r.h})})),n&&(a.privacyLink=n);i&&(a.impressionTrackers=[],i.forEach((e=>{if(1===e.event)switch(e.method){case 1:a.impressionTrackers.push(e.url);break;case 2:a.javascriptTrackers='<script src="'.concat(e.url,'"><\/script>')}})));return a}(r);else if(t===Vt.Mk)n.ad=r.adm,n.width=r.w,n.height=r.h;else if(t===Vt.pX){n.vastXml=r.adm;(0,R.Z)(e,"mediaTypes.video.context")===Wt.gZ&&(n.renderer=function(e){let t={},r=Ha,n=function(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:e.sizes,targetId:e.adUnitCode,adResponse:{content:e.vastXml}})}))},i=(0,R.Z)(e,"mediaTypes.video.renderer");i||(i=(0,R.Z)(e,"renderer"));i&&(t=i.options,r=i.url,n=i.render);const a=Ht.Th.install({id:e.adUnitCode,url:r,config:t,adUnitCode:e.adUnitCode,loaded:!1});try{a.setRender(n)}catch(e){(0,E.yN)("Prebid Error calling setRender on renderer",e)}return a}(e))}return n.meta={},r.adomain&&r.adomain.length>0&&(n.meta.advertiserDomains=r.adomain),n}})).filter(Boolean)},getUserSyncs:(e,t,r,n)=>{const i=[];let a=f.vc.getConfig("outbrain.usersyncUrl"),o=[];return e.pixelEnabled&&a&&(r&&(o.push("gdpr="+(1&r.gdprApplies)),o.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),n&&o.push("us_privacy="+encodeURIComponent(n)),i.push({type:"image",url:a+(o.length?"?"+o.join("&"):"")})),i},onBidWon:e=>{e.nurl&&(0,m.h)((0,E.ew)(e.nurl,e.originalCpm))}};nction Wa(e){return(0,E.HA)(e.nativeParams,((e,t)=>{const r=Xa[t],n={required:1&e.required};if(r){let t,i,a,o;n.id=r.id;let s=e.aspect_ratios;if(s&&s[0]&&(s=s[0],t=s.min_width||0,i=s.ratio_height*t/s.ratio_width|0),e.sizes){const t=Ka(e.sizes);a=parseInt(t[0],10),o=parseInt(t[1],10)}return n[r.name]={len:e.len,type:r.type,wmin:t,hmin:i,w:a,h:o},n}})).filter(Boolean)}function Ya(e){return(0,E.kJ)(e)?2!==e.length||(0,E.kJ)(e[0])?(0,E.kJ)(e[0])?e.map((e=>({w:parseInt(e[0],10),h:parseInt(e[1],10)}))):[]:[{w:parseInt(e[0],10),h:parseInt(e[1],10)}]:[]}unction $a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Jt.dX)(Ja);const eo="pubmatic",to="PubMatic: ",ro="USD",no=void 0,io="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),ao="Video.Placement param missing",oo={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},so={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},co={mimes:so.ARRAY,minduration:so.NUMBER,maxduration:so.NUMBER,startdelay:so.NUMBER,playbackmethod:so.ARRAY,api:so.ARRAY,protocols:so.ARRAY,w:so.NUMBER,h:so.NUMBER,battr:so.ARRAY,linearity:so.NUMBER,placement:so.NUMBER,minbitrate:so.NUMBER,maxbitrate:so.NUMBER,skip:so.NUMBER},po={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},uo={ICON:1,LOGO:2,IMAGE:3},lo=[{id:po.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:po.TITLE.ID,required:!0},{id:po.IMAGE.ID,required:!0}],mo={1:"PMP",5:"PREF",6:"PMPG"},fo={bootstrapPlayer:newRenderer:outstreamRender:getRendererId:,go=[Vt.Mk,Vt.pX,Vt.B5];let bo=0,yo=!1,ho={},vo={},_o=["pubmatic"];const Io=["all"];tion To(e){var t={assets:[]};for(var r in e){if(e.hasOwnProperty(r)){var n={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(r)))switch(r){case po.TITLE.KEY:n={id:po.TITLE.ID,required:e[r].required?1:0,title:{len:e[r].len||e[r].length,ext:e[r].ext}};break;case po.IMAGE.KEY:n={id:po.IMAGE.ID,required:e[r].required?1:0,img:{type:uo.IMAGE,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:no),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:no),wmin:e[r].wmin||e[r].minimumWidth||(e[r].minsizes?e[r].minsizes[0]:no),hmin:e[r].hmin||e[r].minimumHeight||(e[r].minsizes?e[r].minsizes[1]:no),mimes:e[r].mimes,ext:e[r].ext}};break;case po.ICON.KEY:n={id:po.ICON.ID,required:e[r].required?1:0,img:{type:uo.ICON,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:no),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:no)}};break;case po.VIDEO.KEY:n={id:po.VIDEO.ID,required:e[r].required?1:0,video:{minduration:e[r].minduration,maxduration:e[r].maxduration,protocols:e[r].protocols,mimes:e[r].mimes,ext:e[r].ext}};break;case po.EXT.KEY:n={id:po.EXT.ID,required:e[r].required?1:0};break;case po.LOGO.KEY:n={id:po.LOGO.ID,required:e[r].required?1:0,img:{type:uo.LOGO,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:no),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:no)}};break;case po.SPONSOREDBY.KEY:case po.BODY.KEY:case po.RATING.KEY:case po.LIKES.KEY:case po.DOWNLOADS.KEY:case po.PRICE.KEY:case po.SALEPRICE.KEY:case po.PHONE.KEY:case po.ADDRESS.KEY:case po.DESC2.KEY:case po.DISPLAYURL.KEY:case po.CTA.KEY:n=Eo(vo[r],e)}}n&&n.id&&(t.assets[t.assets.length]=n)}var i=lo.length,a=0;return lo.forEach((),yo=i!=a,t}nction Po(e,t){var r,n,i={},a={},o=e.hasOwnProperty("sizes")?e.sizes:[],s="",d=[];if(i={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:xo("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:xo("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?xo("currency",e.params.currency):ro},e),i,e),i,e),e.hasOwnProperty("mediaTypes"))for(s in e.mediaTypes)switch(s){case Vt.Mk:(r=So(e))!==no&&(i.banner=r);break;case Vt.B5:a.request=JSON.stringify(To(e.nativeParams)),yo?(0,E.yN)(to+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):i.native=a;break;case Vt.pX:(n=ko(e))!==no&&(i.video=n)}else r={pos:0,w:e.params.width,h:e.params.height,topframe:(0,E.yL)()?0:1},(0,E.kJ)(o)&&o.length>1&&((o=o.splice(1,o.length-1)).forEach((),r.format=d),i.banner=r;return function(e,t){const r={},(0,R.Z)(t,"ortb2Imp.ext.data"));Object.keys(r).forEach(()}(i,e),i,e),i.hasOwnProperty(Vt.Mk)||i.hasOwnProperty(Vt.B5)||i.hasOwnProperty(Vt.pX)?i:no},E.yi)(po,(),(0,E.yi)(po,(e=>{vo[e.KEY]=e}));const Ro={code:eo,gvlid:76,supportedMediaTypes:[Vt.Mk,Vt.pX,Vt.B5],isBidRequestValid:buildRequests:(e,t)=>{var r,n,i,a,o,s;e=(0,$t.lY)(e),t&&t.refererInfo&&(s=t.refererInfo);var d,c=s),p=c),u="",l=[],m=[],g=[];if(e.forEach((),0==p.imp.length)return;p.site.publisher.id=c.pubId.trim(),bo=c.pubId.trim(),p.ext.wrapper={},p.ext.wrapper.profile=parseInt(c.profId)||no,p.ext.wrapper.version=parseInt(c.verId)||no,p.ext.wrapper.wiid=c.wiid||t.auctionId,p.ext.wrapper.wv="prebid_prebid_7.42.0",p.ext.wrapper.transactionId=c.transactionId,p.ext.wrapper.wp="pbjs";const b=t?T.S.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==b){if(p.ext.marketplace={},t&&1==b){let e=T.S.get(t.bidderCode,"allowedAlternateBidderCodes");(0,E.kJ)(e)?(e=e.map(().filter((e=>!!e)).filter(E.tT),_o=e.includes("*")?Io:[..._o,...e]):_o=Io}p.ext.marketplace.allowedbidders=_o.filter(E.tT)}p.user.gender=c.gender?c.gender.trim():no,p.user.geo={},p.user.geo.lat=xo("lat",c.lat),p.user.geo.lon=xo("lon",c.lon),p.user.yob=xo("yob",c.yob),p.device.geo=p.user.geo,p.site.page=c.kadpageurl.trim()||p.site.page.trim(),p.site.domain=p.site.page),"object"==typeof f.vc.getConfig("content")&&(p.site.content=f.vc.getConfig("content")),"object"==typeof f.vc.getConfig("device")&&(p.device=Object.assign(p.device,f.vc.getConfig("device"))),p.device.language=p.device.language&&p.device.language.split("-")[0],(0,_e.N)(p,"source.tid",c.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(p.test=1),e[0].schain&&(0,_e.N)(p,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,_e.N)(p,"user.ext.consent",t.gdprConsent.consentString),(0,_e.N)(p,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,_e.N)(p,"regs.ext.us_privacy",t.uspConsent),!0===f.vc.getConfig("coppa")&&(0,_e.N)(p,"regs.coppa",1),p,e);const y=t&&t.ortb2||{};if(y.site){const{page:e,domain:t,ref:r}=p.site;(0,E.Ee)(p,{site:y.site}),p.site.page=e,p.site.domain=t,p.site.ref=r}var h,v,_,I;(y.user&&(0,E.Ee)(p,{user:y.user}),y.bcat&&(m=m.concat(y.bcat)),null!==(r=y.device)&&void 0!==r&&r.sua)&&(p.device.sua=null===(h=y.device)||void 0===h?void 0:h.sua);if(null!==(n=y.ext)&&void 0!==n&&null!==(i=n.prebid)&&void 0!==i&&null!==(a=i.bidderparams)&&void 0!==a&&null!==(o=a[t.bidderCode])&&void 0!==o&&o.acat){const e=y.ext.prebid.bidderparams[t.bidderCode].acat;Co(p,e)}else g.length&&Co(p,g);(p,m),null!=t&&t.timeout)?p.tmax=t.timeout||f.vc.getConfig("bidderTimeout"):p.tmax=null===(v=window)||void 0===v||null===(_=v.PWT)||void 0===_||null===(I=_.versionDetails)||void 0===I?void 0:I.timeout;return p.ext.epoch=(new Date).getTime(),"object"==typeof f.vc.getConfig("app")&&(p.app=f.vc.getConfig("app"),p.app.publisher=p.site.publisher,p.app.ext=p.site.ext||no,"object"!=typeof p.app.content&&(p.app.content=p.site.content||no),delete p.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(p),bidderRequest:t}},interpretResponse:(e,t)=>{const r=[];var n=ro;let i=JSON.parse(t.data),a=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&(0,E.kJ)(e.body.seatbid)&&(n=e.body.cur||n,e.body.seatbid.forEach((e=>{e.bid&&(0,E.kJ)(e.bid)&&e.bid.forEach((o=>{let s={requestId:o.impid,cpm:parseFloat((o.price||0).toFixed(2)),width:o.w,height:o.h,creativeId:o.crid||o.id,dealId:o.dealid,currency:n,netRevenue:true,ttl:300,referrer:a,ad:o.adm,pm_seat:e.seat||null,pm_dspid:o.ext&&o.ext.dspid?o.ext.dspid:null,partnerImpId:o.id||""};i.imp&&i.imp.length>0&&i.imp.forEach((e=>{if(o.impid===e.id)switch(o,s),s.mediaType){case Vt.Mk:break;case Vt.pX:s.width=o.hasOwnProperty("w")?o.w:e.video.w,s.height=o.hasOwnProperty("h")?o.h:e.video.h,s.vastXml=o.adm,s,t),s,o,t);break;case Vt.B5:!o,s)}})),o.ext&&o.ext.deal_channel&&(s.dealChannel=mo[o.ext.deal_channel]||null),s,o,e.seat),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),o.ext&&o.ext.marketplace&&(s.bidderCode=o.ext.marketplace),r.push(s)}))})))}catch(e){(0,E.H)(e)}return r},getUserSyncs:transformBidParams:;(0,Jt.dX)(Ro);const jo={TITLE_LEN:100,DESCR_LEN:200,SPONSORED_BY_LEN:50,IMG_MIN:150,ICON_MIN:50},Do="USD",No=["cp","ct","cf","video","battr","bcat","badv","bidfloor"],Uo={code:"pulsepoint",gvlid:81,aliases:["pulseLite","pulsepointLite"],supportedMediaTypes:["banner","native","video"],isBidRequestValid:e=>!!(e&&e.params&&e.params.cp&&e.params.ct),buildRequests:(e,t)=>({method:"POST",url:"https://bid.contextweb.com/header/ortb?src=prebid",data:{id:(e=(0,$t.lY)(e))[0].bidderRequestId,imp:e.map((e=>function(e){var t,r=(null===(t=e.ortb2Imp)||void 0===t?void 0:t.ext)||{},n=Object.assign({},r,function(e){const t={},r={};return No.forEach((),Object.keys(e.params).forEach((n=>{r[n]||(t[n]=e.params[n])})),Object.keys(t).length>0?{prebid:t}:null}(e));return{id:e.bidId,banner:Mo(e),native:qo(e),tagid:e.params.ct.toString(),video:Bo(e),bidfloor:Ko(e),ext:Object.keys(n).length>0?n:null}}(e))),site:Fo(e,t),app:Xo(e),device:{ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},bcat:(0,R.Z)(t.ortb2Imp,"bcat")||e[0].params.bcat,badv:e[0].params.badv,user:Ho(e[0],t),regs:Jo(t),source:Vo(e[0].schain),tmax:t.timeout||500},bidderRequest:t}),interpretResponse:(e,t)=>function(e,t){const r={},n={},i={},a=t.body,o=e.data;o.imp.forEach((e=>{r[e.id]=e})),a&&a.seatbid.forEach((e=>e.bid.forEach((e=>{n[e.impid]=e}))));e.bidderRequest&&e.bidderRequest.bids&&e.bidderRequest.bids.forEach(();const s=[];return Object.keys(r).forEach((e=>{if(n[e]){const t={requestId:e,cpm:n[e].price,creative_id:n[e].crid,creativeId:n[e].crid,adId:e,ttl:n[e].exp||20,netRevenue:true,currency:a.cur||Do,meta:{advertiserDomains:n[e].adomain||[]}};r[e].video?(i[e]&&"outstream"===(0,R.Z)(i[e],"mediaTypes.video.context")&&(t.renderer=function(e,t){const r=Ht.Th.install({url:t.rendererUrl,config:{defaultOptions:t.config,rendererOptions:e,type:t.type},loaded:!1});return r.setRender((t=>{t.renderer.push((()=>{const r=t.renderer.getConfig();(new window.PulsePointOutstreamRenderer).render({adUnitCode:t.adUnitCode,vastXml:t.vastXml,type:r.type,defaultOptions:r.defaultOptions,rendererOptions:e})}))})),r}((0,R.Z)(i[e],"renderer.options"),(0,R.Z)(n[e],"ext.outstream"))),t.vastXml=n[e].adm,t.mediaType="video",t.width=n[e].w,t.height=n[e].h):r[e].banner?(t.ad=n[e].adm,t.width=n[e].w||r[e].banner.w,t.height=n[e].h||r[e].banner.h):r[e].native&&(t.native=function(e,t){if(e.native){const e=t.adm),r={};if(e&&e.native&&e.native.assets)return e.native.assets.forEach((e=>{r.title=e.title?e.title.text:r.title,r.body=e.data&&2===e.data.type?e.data.value:r.body,r.sponsoredBy=e.data&&1===e.data.type?e.data.value:r.sponsoredBy,r.image=e.img&&3===e.img.type?e.img.url:r.image,r.icon=e.img&&1===e.img.type?e.img.url:r.icon})),e.native.link&&(r.clickUrl=encodeURIComponent(e.native.link.url)),r.impressionTrackers=e.native.imptrackers,r}return null}(r[e],n[e]),t.mediaType="native"),s.push(t)}})),s}(t,e),getUserSyncs:e=>e.iframeEnabled?[{type:"iframe",url:"https://bh.contextweb.com/visitormatch"}]:e.pixelEnabled?[{type:"image",url:"https://bh.contextweb.com/visitormatch/prebid"}]:void 0,transformBidParams:function(e,t){return(0,E.uh)({cf:"string",cp:"number",ct:"number"},e)}};function Mo(e){const t=function(e){const t=(0,R.Z)(e,"mediaTypes.banner.sizes");if(t&&(0,E.kJ)(t))return t.filter(().map((e=>({w:e[0],h:e[1]})));return null}(e),r=e,t);return e.mediaTypes&&e.mediaTypes.banner?{w:r[0],h:r[1],battr:e.params.battr,format:t}:null}unction qo(e){if(e.nativeParams){const t=[];return Zo(t,t.length+1,e.nativeParams.title,jo.TITLE_LEN)),Zo(t,Lo(t.length+1,e.nativeParams.body,2,jo.DESCR_LEN)),Zo(t,Lo(t.length+1,e.nativeParams.sponsoredBy,1,jo.SPONSORED_BY_LEN)),Zo(t,zo(t.length+1,e.nativeParams.icon,1,jo.ICON_MIN,jo.ICON_MIN)),Zo(t,zo(t.length+1,e.nativeParams.image,3,jo.IMG_MIN,jo.IMG_MIN)),{request:JSON.stringify({assets:t}),ver:"1.1",battr:e.params.battr}}return null}(Uo);var Wo=r(3105);function Yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(r),!0).forEach((function(t){$o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Qo="https://video-outstream.rubiconproject.com/apex-2.2.1.js";let es={};f.vc.getConfig("rubicon",();var ts={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160"};(0,E.yi)(ts,();const rs=(0,$n.x)({request(e,t,r,n){var i,a;const{bidRequests:o}=n,s=e(t,r,n);s.cur=["USD"],s.test=f.vc.getConfig("debug")?1:0,(0,_e.N)(s,"ext.prebid.cache",{vastxml:{returnCreative:!0===es.returnVast}}),(0,_e.N)(s,"ext.prebid.bidders",{rubicon:{integration:es.int_type||"pbjs"}}),(0,_e.N)(s,"ext.prebid.targeting.pricegranularity",f.vc));let d=(0,x.R)().installedModules;!d||d.length&&-1===d.indexOf("rubiconAnalyticsAdapter")||(0,_e.N)(s,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t){var r,n;let i={};const a=new Set;t.forEach((t=>{const r={user:{ext:{data:Go({},t.params.visitor)}},site:{ext:{data:Go({},t.params.inventory)}}},n=e.imp.find(();var o,s,d,c,p;n&&(r.site.content={language:null===(o=n.ext)||void 0===o||null===(s=o.prebid)||void 0===s||null===(d=s.bidder)||void 0===d||null===(c=d.rubicon)||void 0===c||null===(p=c.video)||void 0===p?void 0:p.language});if(t.params.keywords){(Array.isArray(t.params.keywords)?t.params.keywords:t.params.keywords.split(",")).forEach((e=>a.add(e)))}i=(0,E.Ee)(i,t.ortb2||{},r);const u=f.vc.getConfig("user.id");i.user.id=i.user.id||u})),(0,E.Ee)(e,i),a&&a.size&&(0,_e.N)(e,"site.keywords",Array.from(a.values()).join(","));null==e||(null===(r=e.ext)||void 0===r||(null===(n=r.prebid)||void 0===n||delete n.storedrequest))}(s,o),null==s||(null===(i=s.ext)||void 0===i||(null===(a=i.prebid)||void 0===a||delete a.storedrequest)),!0===es.disableFloors&&delete s.ext.prebid.floors;return o.filter(().length>0&&(s.ext.prebid.floors={enabled:!1}),s},imp(e,t,r){var n,i;const a=ds(t);if(a.includes(Vt.Mk)&&1==a.length)return;const o=e(t,r);return o.id=t.adUnitCode,delete o.banner,f.vc.getConfig("s2sConfig.defaultTtl")&&(o.exp=f.vc.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&(o.video.pos=1),"btf"===t.params.position&&(o.video.pos=3),null===(n=o.ext)||void 0===n||(null===(i=n.prebid)||void 0===i||delete i.storedrequest),t,o),o},bidResponsecontext:{netRevenue:!1!==es.netRevenue,ttl:300},processors:Wo.X}),ns={code:"rubicon",gvlid:52,supportedMediaTypes:[Vt.Mk,Vt.pX,Vt.B5],isBidRequestValid:buildRequests:getOrderedParams:function(e){const t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((e=>n.test(e)))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((e=>t.test(e)))).concat(Object.keys(e).filter((e=>r.test(e)))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter(())},combineSlotUrlParams:createSlotParams:function(e,t){e.startTime=(new Date).getTime();const r=e.params,n=os(e,"banner"),[i,a]=r.latLong||[],o={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:n[0],alt_size_ids:n.slice(1).join(",")||void 0,rp_floor:(r.floor=parseFloat(r.floor))>=.01?r.floor:void 0,rp_secure:"1",tk_flint:"".concat(es.int_type||"pbjs_lite","_v7.42.0"),"x_source.tid":e.transactionId,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(i))?void 0:parseFloat(i).toFixed(4),"p_geo.longitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"tg_fl.eid":e.code,rf:is(e,t)};if("function"==typeof e.getFloor&&!es.disableFloors){let t;try{t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,E.H)("Rubicon: getFloor threw an error: ",e)}o.rp_hard_floor="object"!=typeof t||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:t.floor}let s={1:"atf",3:"btf"}[(0,R.Z)(e,"mediaTypes.banner.pos")]||"";o.p_pos="atf"===r.position||"btf"===r.position?r.position:s;const d=f.vc.getConfig("user.id");return d&&(o.ppuid=d),e.userIdAsEids&&e.userIdAsEids.forEach((),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(o.gdpr=Number(t.gdprConsent.gdprApplies)),o.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(o.us_privacy=encodeURIComponent(t.uspConsent)),o.rp_maxbids=t.bidLimit||1,function(e,t,r){const n={user:{ext:{data:Go({},e.params.visitor)}},site:{ext:{data:Go({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=(0,E.kJ)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);let i=(0,E.Ee)({},e.ortb2||{},n),a=(0,R.Z)(e.ortb2Imp,"ext")||{},o=(0,R.Z)(e.ortb2Imp,"ext.data")||{};const s=(0,R.Z)(e,"ortb2Imp.ext.gpid"),d={user:[4],site:[1,2,5,6]},c={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},p=u=t===Vt.Mk?(["site","user"].forEach((),Object.keys(o).forEach((),s&&(r.p_gpid=s),r["tg_i.pbadslot"]&&delete r["tg_i.dfp_ad_unit_code"]):(Object.keys(a).length&&(0,E.Ee)(r.imp[0].ext,a),s&&(r.imp[0].ext.gpid=s),(0,E.Ee)(r,i))}(e,Vt.Mk,o),!0===f.vc.getConfig("coppa")&&(o.coppa=1),e.schain&&cs(e.schain)&&(o.rp_schain=ns.serializeSupplyChain(e.schain)),o},serializeSupplyChain:serializeSupplyChainNodes:interpretResponse:getUserSyncs:transformBidParams:;!1;function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(r),!0).forEach((function(t){fs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Jt.dX)(ns);const gs="sharethrough",bs="https://btlr.sharethrough.com/universal/v1?supply_id=".concat("WYu2BXv1"),ys={getProtocol:,hs={code:gs,supportedMediaTypes:[Vt.pX,Vt.Mk],gvlid:80,isBidRequestValid:e=>!!e.params.pkey&&e.bidder===gs,buildRequests:(e,t)=>{const r=f.vc.getConfig("bidderTimeout"),n=t.ortb2||{},i=ys.getProtocol().indexOf("http")<0||ys.getProtocol().indexOf("https")>-1,a={id:(0,E.DO)(),at:1,cur:["USD"],tmax:r,site:ms({domain:(0,R.Z)(t,"refererInfo.domain",window.location.hostname),page:(0,R.Z)(t,"refererInfo.page",window.location.href),ref:(0,R.Z)(t,"refererInfo.ref")},n.site),device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:"1"===navigator.doNotTrack?1:0,h:window.screen.height,w:window.screen.width},regs:{coppa:!0===f.vc.getConfig("coppa")?1:0,ext:{}},source:{tid:t.auctionId,ext:{version:"7.42.0",str:"4.3.0",schain:e[0].schain}},bcat:(0,R.Z)(t.ortb2,"bcat")||e[0].params.bcat||[],badv:(0,R.Z)(t.ortb2,"badv")||e[0].params.badv||[],test:0};if(a.user=xs(n.user,{}),a.user.ext||(a.user.ext={}),a.user.ext.eids=(0,O.HQ)((0,R.Z)(e[0],"userId"))||[],t.gdprConsent){const e=!0===t.gdprConsent.gdprApplies;a.regs.ext.gdpr=e?1:0,e&&(a.user.ext.consent=t.gdprConsent.consentString)}t.uspConsent&&(a.regs.ext.us_privacy=t.uspConsent);const o=e.map((e=>{const t={ext:{}},r=(0,R.Z)(e,"ortb2Imp.ext.tid");r&&(t.ext.tid=r);const n=(0,R.Z)(e,"ortb2Imp.ext.gpid",(0,R.Z)(e,"ortb2Imp.ext.data.pbadslot"));n&&(t.ext.gpid=n);const a=(0,R.Z)(e,"mediaTypes.video");if(a){let[e,r]=[640,360];a.playerSize&&a.playerSize[0]&&a.playerSize[1]&&([e,r]=a.playerSize),t.video={pos:xs(a.pos,0),topframe:(0,E.yL)()?0:1,skip:xs(a.skip,0),linearity:xs(a.linearity,1),minduration:xs(a.minduration,5),maxduration:xs(a.maxduration,60),playbackmethod:a.playbackmethod||[2],api:vs(a),mimes:a.mimes||["video/mp4"],protocols:_s(a),w:e,h:r,startdelay:xs(a.startdelay,0),skipmin:xs(a.skipmin,0),skipafter:xs(a.skipafter,0),placement:"instream"===a.context?1:+(0,R.Z)(a,"placement",4)},a.delivery&&(t.video.delivery=a.delivery),a.companiontype&&(t.video.companiontype=a.companiontype),a.companionad&&(t.video.companionad=a.companionad)}else t.banner={pos:(0,R.Z)(e,"mediaTypes.banner.pos",0),topframe:(0,E.yL)()?0:1,format:e.sizes.map((e=>({w:+e[0],h:+e[1]})))};return ms({id:e.bidId,tagid:String(e.params.pkey),secure:i?1:0,bidfloor:Is(e)},t)})).filter(();return o.map((e=>({method:"POST",url:bs,data:ms(ms({},a),{},{imp:[e]})})))},interpretResponse:(e,t)=>{let{body:r}=e;return r&&r.seatbid&&0!==r.seatbid.length&&r.seatbid[0].bid&&0!==r.seatbid[0].bid.length?r.seatbid[0].bid.map((e=>{const n={requestId:e.impid,width:+e.w,height:+e.h,cpm:+e.price,creativeId:e.crid,dealId:e.dealid||null,mediaType:t.data.imp[0].video?Vt.pX:Vt.Mk,currency:r.cur||"USD",netRevenue:!0,ttl:360,ad:e.adm,nurl:e.nurl,meta:{advertiserDomains:e.adomain||[]}};return n.mediaType===Vt.pX&&(n.ttl=3600,n.vastXml=e.adm),n})):[]},getUserSyncs:(e,t)=>e.pixelEnabled&&void 0!==(0,R.Z)(t,"0.body.cookieSyncUrls")?t[0].body.cookieSyncUrls.map(():[],onTimeout:e=>{},onBidWon:e=>{},onSetTargeting:;function vs(e){let{api:t}=e,r=[2];return t&&Array.isArray(t)&&t.length>0?t:r}function _s(e){let{protocols:t}=e,r=[2,3,5,6,7,8];return t&&Array.isArray(t)&&t.length>0?t:r}function Is(e){let t=null;if("function"==typeof e.getFloor){const r=e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.video?"video":"banner",size:e.sizes.map((e=>({w:e[0],h:e[1]})))});"object"!=typeof r||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=parseFloat(r.floor))}return null!==t?t:e.params.floor}0,Jt.dX)(hs);const{NATIVE_IMAGE_TYPES:ws}=v,Os="prebid_js_7.42.0_1.8",Es="USD",Ts=(e,t)=>{var r;const n={id:t.auctionId,at:1,cur:[Es],tmax:t.timeout,site:{id:window.location.hostname,domain:t.refererInfo.domain||window.location.hostname,page:t.refererInfo.page||window.location.href,ref:t.refererInfo.ref},device:{language:navigator&&navigator.language?navigator.language.split("-")[0]:"",ua:navigator.userAgent,dnt:(0,E.oV)()?1:0,h:screen.height,w:screen.width},regs:{coppa:!0===f.vc.getConfig("coppa")?1:0,ext:{}},user:{ext:{}},source:{ext:{schain:e.schain}},ext:{client:Os}};let i=t.ortb2||{};if(Object.assign(n.user,i.user),Object.assign(n.site,i.site),(0,_e.N)(n,"site.publisher.id",(0,R.Z)(e,"params.publisherId")),t.gdprConsent&&!0===t.gdprConsent.gdprApplies&&((0,_e.N)(n,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0),(0,_e.N)(n,"user.ext.consent",t.gdprConsent.consentString)),void 0!==t.uspConsent&&(0,_e.N)(n,"regs.ext.us_privacy",t.uspConsent),void 0!==(null===(r=i.regs)||void 0===r?void 0:r.gpp)&&((0,_e.N)(n,"regs.ext.gpp",i.regs.gpp),(0,_e.N)(n,"regs.ext.gpp_sid",i.regs.gpp_sid)),(0,R.Z)(e,"params.app")){const t=(0,R.Z)(e,"params.app.geo");(0,_e.N)(n,"device.geo",t);const r=(0,R.Z)(e,"params.app.ifa");(0,_e.N)(n,"device.ifa",r)}const a=(0,R.Z)(e,"userIdAsEids");a&&a.length&&(0,_e.N)(n,"user.ext.eids",a);let o=[];if((0,R.Z)(e,"mediaTypes.banner")){const t=Object.assign({},n,function(e){const t=(0,E.pw)(e),r=t.map((e=>({w:e[0],h:e[1]})));return{imp:[{id:e.bidId,tagid:(0,R.Z)(e,"params.adspaceId"),bidfloor:js(e,Vt.Mk,t),instl:(0,R.Z)(e.ortb2Imp,"instl"),banner:{w:r[0].w,h:r[0].h,format:r}}]}}(e));o.push(t)}const s=(0,R.Z)(e,"mediaTypes.video");if(s)if(s.context===Vt.Oh){const t=Object.assign({},n,function(e,t){const r=(0,R.Z)(e,"params.adbreakId"),n=f.vc.getConfig("adpod.brandCategoryExclusion");let i={id:e.bidId,tagid:r,bidfloor:js(e,Vt.pX,t.playerSize),instl:(0,R.Z)(e.ortb2Imp,"instl"),video:{w:t.playerSize[0][0],h:t.playerSize[0][1],mimes:t.mimes,startdelay:t.startdelay,linearity:t.linearity,skip:t.skip,protocols:t.protocols,skipmin:t.skipmin,api:t.api,ext:{context:Vt.Oh,brandcategoryexclusion:void 0!==n&&n}}};const a=t);let o=(0,E.hl)(i,a);const s=t.durationRangeSec;if(t.requireExactDuration){const e=Math.ceil(a/s.length),t=(0,E.yo)(o,e);s.forEach(((e,r)=>{t[r].map((t=>{const n=r+1;t.video.minduration=e,t.video.maxduration=e,t.video.sequence=n}))}))}else{const e=(0,E.d5)(s);o.map(((t,r)=>{const n=r+1;t.video.maxduration=e,t.video.sequence=n}))}return{imp:o}}(e,s));Rs(t,s),o.push(t)}else{const t=Object.assign({},n,e,s));o.push(t)}const d=e.nativeOrtbRequest;if(d){const t=Object.assign({},n,e,d));o.push(t)}return o},Ss={code:"smaato",supportedMediaTypes:[Vt.Mk,Vt.pX,Vt.B5],gvlid:82,isBidRequestValid:e=>{if("object"!=typeof e.params)return(0,E.H)("[SMAATO] Missing params object"),!1;if("string"!=typeof e.params.publisherId)return(0,E.H)("[SMAATO] Missing mandatory publisherId param"),!1;if((0,R.Z)(e,"mediaTypes.video.context")===Vt.Oh){if((0,E.PN)("[SMAATO] Verifying adpod bid request"),"string"!=typeof e.params.adbreakId)return(0,E.H)("[SMAATO] Missing for adpod request mandatory adbreakId param"),!1;if(e.params.adspaceId)return(0,E.H)("[SMAATO] The adspaceId param is not allowed in an adpod bid request"),!1}else{if((0,E.PN)("[SMAATO] Verifying a non adpod bid request"),"string"!=typeof e.params.adspaceId)return(0,E.H)("[SMAATO] Missing mandatory adspaceId param"),!1;if(e.params.adbreakId)return(0,E.H)("[SMAATO] The adbreakId param is only allowed in an adpod bid request"),!1}return(0,E.PN)("[SMAATO] Verification done, all good"),!0},buildRequests:(e,t)=>((0,E.PN)("[SMAATO] Client version:",Os),e.map((e=>Ts(e,t).map((t=>((e,t)=>((0,E.PN)("[SMAATO] OpenRTB Request:",t),{method:"POST",url:e.params.endpoint||"https://prebid.ad.smaato.net/oapi/prebid",data:JSON.stringify(t),options:{withCredentials:!0,crossOrigin:!0}}))(e,t))))).reduce((,[])),interpretResponse:(e,t)=>{if((0,E.xb)(e.body))return(0,E.PN)("[SMAATO] Empty response body HTTP 204, no bids"),[];const r=e.headers,n=r.get("X-SMT-Expires");(0,E.PN)("[SMAATO] Expires:",n);const i=n?Math.floor((n-Date.now())/1e3):300,a=e.body;(0,E.PN)("[SMAATO] OpenRTB Response:",a);const o=r.get("X-SMT-ADTYPE"),s=[];return a.seatbid.forEach((e=>{e.bid.forEach((r=>{let n={requestId:r.impid,cpm:r.price||0,width:r.w,height:r.h,ttl:i,creativeId:r.crid,dealId:r.dealid||null,netRevenue:(0,R.Z)(r,"ext.net",!0),currency:a.cur,meta:{advertiserDomains:r.adomain,networkName:r.bidderName,agencyId:e.seat}};if((0,R.Z)(JSON.parse(t.data).imp[0],"video.ext.context")===Vt.Oh)n.vastXml=r.adm,n.mediaType=Vt.pX,f.vc.getConfig("adpod.brandCategoryExclusion")&&(n.meta.primaryCatId=r.cat[0]),n.video={context:Vt.Oh,durationSeconds:r.ext.duration},s.push(n);else switch(o){case"Img":n.ad=ks(r.adm),n.mediaType=Vt.Mk,s.push(n);break;case"Richmedia":n.ad=Ps(r.adm),n.mediaType=Vt.Mk,s.push(n);break;case"Video":n.vastXml=r.adm,n.mediaType=Vt.pX,s.push(n);break;case"Native":n.native=Cs(r.adm),n.mediaType=Vt.B5,s.push(n);break;default:(0,E.PN)("[SMAATO] Invalid ad type:",o)}n.meta.mediaType=n.mediaType}))})),(0,E.PN)("[SMAATO] Prebid bids:",s),s},getUserSyncs:(e,t,r,n)=>[]};(0,Jt.dX)(Ss);const ks=e=>{const t=JSON.parse(e).image;let r="";t.clicktrackers.forEach((e=>{r+="fetch(decodeURIComponent('".concat(encodeURIComponent(e),"'), {cache: 'no-cache'});")}));let n='<div style="cursor:pointer" onclick="'.concat(r,";window.open(decodeURIComponent('").concat(encodeURIComponent(t.img.ctaurl),'\'));"><img src="').concat(t.img.url,'" width="').concat(t.img.w,'" height="').concat(t.img.h,'"/>');return t.impressiontrackers.forEach((e=>{n+='<img src="'.concat(e,'" alt="" width="0" height="0"/>')})),n+"</div>"},Ps=e=>{const t=JSON.parse(e).richmedia;let r="";t.clicktrackers.forEach((e=>{r+="fetch(decodeURIComponent('".concat(encodeURIComponent(e),"'), {cache: 'no-cache'});")}));let n='<div onclick="'.concat(r,'">').concat(t.mediadata.content);return t.impressiontrackers.forEach((e=>{n+='<img src="'.concat(e,'" alt="" width="0" height="0"/>')})),n+"</div>"},Cs=e=>({ortb:JSON.parse(e).native});function As(e){const t=(0,I.sE)(e.assets,(e=>e.hasOwnProperty("img")&&e.img.type===ws.MAIN));if(t){if((0,E.hj)(t.img.w)&&(0,E.hj)(t.img.h))return[[t.img.w,t.img.h]];if((0,E.hj)(t.img.wmin)&&(0,E.hj)(t.img.hmin))return[[t.img.wmin,t.img.hmin]]}return[]}const Rs=(e,t)=>{const r={};t.tvSeriesName&&(r.series=t.tvSeriesName),t.tvEpisodeName&&(r.title=t.tvEpisodeName),"number"==typeof t.tvSeasonNumber&&(r.season=t.tvSeasonNumber.toString()),"number"==typeof t.tvEpisodeNumber&&(r.episode=t.tvEpisodeNumber),"number"==typeof t.contentLengthSec&&(r.len=t.contentLengthSec),t.contentMode&&["live","on-demand"].indexOf(t.contentMode)>=0&&(r.livestream="live"===t.contentMode?1:0),(0,E.xb)(r)||(e.site.content=r)};onst Ds={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[Vt.Mk,Vt.pX],isBidRequestValid:serializeSupplyChain:adaptBannerSizes:fillPayloadForVideoBidRequest:getProtocolForVideoBidRequest:getStartDelayForVideoBidRequest:createServerRequest:buildRequests:interpretResponse:getBidFloor:getUserSyncs:;Jt.dX)(Ds);const Bs={mimes:e=>Array.isArray(e)&&e.length>0&&e.every((),minduration:e=>(0,E.U)(e),maxduration:e=>(0,E.U)(e),protocols:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=10)),w:e=>(0,E.U)(e),h:e=>(0,E.U)(e),startdelay:e=>(0,E.U)(e),placement:e=>(0,E.U)(e)&&e>=1&&e<=5,linearity:e=>-1!==[1,2].indexOf(e),skip:e=>-1!==[0,1].indexOf(e),skipmin:e=>(0,E.U)(e),skipafter:e=>(0,E.U)(e),sequence:e=>(0,E.U)(e),battr:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=17)),maxextended:e=>(0,E.U)(e),minbitrate:e=>(0,E.U)(e),maxbitrate:e=>(0,E.U)(e),boxingallowed:playbackmethod:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=6)),playbackend:delivery:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=3)),pos:api:e=>Array.isArray(e)&&e.every(()},qs={context:mimes:Bs.mimes,minduration:Bs.minduration,maxduration:Bs.maxduration,protocols:Bs.protocols},Zs={code:"sovrn",supportedMediaTypes:[Vt.Mk,Vt.pX],gvlid:13,isBidRequestValid:function(e){var t;const r=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||r&&!Object.keys(qs).every(())},buildRequests:function(e,t){try{let r,n,i,a,o=[];(0,E.yi)(e,(function(e){!i&&e.userId&&(i=(0,O.HQ)(e.userId),i.forEach(()),e.schain&&(n=n||e.schain),r=r||(0,E.An)("iv",e.params);const t=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{};t.floor=t.floor||(0,E.An)("bidfloor",e.params);const s={adunitcode:e.adUnitCode,id:e.bidId,tagid:String((0,E.An)("tagid",e.params)),bidfloor:t.floor};if((0,R.Z)(e,"mediaTypes.banner")){let t=(0,R.Z)(e,"mediaTypes.banner.sizes")||e.sizes;t=(0,E.kJ)(t)&&(0,E.kJ)(t[0])?t:[t],t=t.filter(();const r=t.map((e=>({w:parseInt(e[0],10),h:parseInt(e[1],10)})));s.banner={format:r,w:1,h:1}}(0,R.Z)(e,"mediaTypes.video")&&(s.video=function(e){const t={},r=(0,R.Z)(e,"sizes"),n=(0,R.Z)(e,"mediaTypes.video",{}),i=(0,R.Z)(e,"params.video",{}),a={};if(r){const e=Array.isArray(r[0])?r[0]:r;a.w=e[0],a.h=e[1]}else if(Array.isArray(n.playerSize)){const e=Array.isArray(n.playerSize[0])?n.playerSize[0]:n.playerSize;a.w=e[0],a.h=e[1]}const o=Us(Us(Us({},a),n),i);return Object.keys(Bs).forEach((e=>{o.hasOwnProperty(e)&&(Bs[e](o[e])?t[e]=o[e]:(0,E.yN)("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),t}(e)),s.ext=(0,E.An)("ext",e.ortb2Imp)||void 0;const d=(0,E.An)("segments",e.params);d&&(s.ext=s.ext||{},s.ext.deals=d.split(",").map(()),o.push(s)}));const s=t.ortb2||{},d=s.site||{};d.page=t.refererInfo.page,d.domain=t.refererInfo.domain;const c={id:(0,E._d)(),imp:o,site:d,user:s.user||{}};n&&(c.source={ext:{schain:n}}),t.gdprConsent&&((0,_e.N)(c,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),(0,_e.N)(c,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&(0,_e.N)(c,"regs.ext.us_privacy",t.uspConsent),i&&((0,_e.N)(c,"user.ext.eids",i),a&&(0,_e.N)(c,"user.ext.prebid_criteoid",a));let p="https://ap.lijit.com/rtb/bid?src='prebid_prebid_7.42.0'";return r&&(p+="&iv=".concat(r)),{method:"POST",url:p,data:JSON.stringify(c),options:{contentType:"text/plain"}}}catch(e){(0,E.H)("Could not build bidrequest, error deatils:",e)}},interpretResponse:function(e){let{body:{id:t,seatbid:r}}=e;if(!t||!r||!Array.isArray(r))return[];try{return r.filter(().map((e=>e.bid.map((e=>{var t;const r={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?Vt.Mk:Vt.pX,ttl:(null===(t=e.ext)||void 0===t?void 0:t.ttl)||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?r.ad=decodeURIComponent("".concat(e.adm,'<img src="').concat(e.nurl,'">')):r.vastXml=decodeURIComponent(e.adm),r})))).flat()}catch(e){return(0,E.H)("Could not interpret bidresponse, error details:",e),e}},getUserSyncs:function(e,t,r,n){try{const i=[];if(t&&0!==t.length){if(e.iframeEnabled){const e=t.filter((e=>(0,R.Z)(e,"body.ext.iid"))).map((),a=[];r&&r.gdprApplies&&"string"==typeof r.consentString&&a.push(["gdpr_consent",r.consentString]),n&&a.push(["us_privacy",n]),e[0]&&(a.push(["informer",e[0]]),i.push({type:"iframe",url:"https://ap.lijit.com/beacon?"+a.map(().join("&")}))}e.pixelEnabled&&t.filter(().reduce(((e,t)=>e.concat(t.body.ext.sync.pixels)),[]).map(().forEach(()}return i}catch(e){return[]}}};(0,Jt.dX)(Zs);const zs="spotx",Ls={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},Fs={code:zs,gvlid:165,supportedMediaTypes:[Vt.pX],isBidRequestValid:function(e){if(e&&"object"!=typeof e.params)return(0,E.H)(zs+": params is not defined or is incorrect in the bidder settings."),!1;if(!(0,R.Z)(e,"mediaTypes.video"))return(0,E.H)(zs+": mediaTypes.video is not present in the bidder settings."),!1;const t=(0,R.Z)(e,"mediaTypes.video.playerSize");if(!t||!(0,E.kJ)(t))return(0,E.H)(zs+": mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!(0,E.An)("channel_id",e.params))return(0,E.H)(zs+": channel_id is not present in bidder params"),!1;if(("outstream"==(0,R.Z)(e,"mediaTypes.video.context")||"outstream"==(0,R.Z)(e,"params.ad_unit"))&&!(0,E.An)("outstream_function",e.params)){if(!(0,E.An)("outstream_options",e.params))return(0,E.H)(zs+": please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!(0,E.An)("slot",e.params.outstream_options))return(0,E.H)(zs+": please define parameter slot in outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,t){const r=t.refererInfo.page||t.refererInfo.topmostLocation,n=!!r.match(/^https:/);return e.map((function(e){let i;i=(0,E.An)("page",e.params)?(0,E.An)("page",e.params):r;const a=(0,E.An)("channel_id",e.params);let o=null;const s=(0,R.Z)(e,"mediaTypes.video.playerSize"),d=s[0][0],c=s[0][1],p=n||((0,E.An)("secure",e.params)?1:0),u={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=(0,E.An)("hide_skin",e.params)&&(u.hide_skin=+!!(0,E.An)("hide_skin",e.params)),""!=(0,E.An)("ad_volume",e.params)&&(u.ad_volume=(0,E.An)("ad_volume",e.params)),""!=(0,E.An)("ad_unit",e.params)&&(u.ad_unit=(0,E.An)("ad_unit",e.params)),""!=(0,E.An)("outstream_options",e.params)&&(u.outstream_options=(0,E.An)("outstream_options",e.params)),""!=(0,E.An)("outstream_function",e.params)&&(u.outstream_function=(0,E.An)("outstream_function",e.params)),""!=(0,E.An)("custom",e.params)&&(u.custom=(0,E.An)("custom",e.params)),""!=(0,E.An)("pre_market_bids",e.params)&&(0,E.kJ)((0,E.An)("pre_market_bids",e.params))){const t=(0,E.An)("pre_market_bids",e.params);u.pre_market_bids=[];for(let e in t){const r=t[e];let n="";r.vast_url?n='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+r.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":r.vast_string&&(n=r.vast_string),u.pre_market_bids.push({id:r.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:r.deal_id,price:r.price,adm:n}]}],cur:r.currency,ext:{event_log:[{}]}})}}const l=(0,E.An)("mimes",e.params)||(0,R.Z)(e,"mediaTypes.video.mimes")||["application/javascript","video/mp4","video/webm"],m={id:e.bidId,secure:p,video:{w:d,h:c,ext:u,mimes:l}};if((0,E.LQ)(e.getFloor)){let t=e.getFloor({currency:"USD",mediaType:"video",size:"*"});"USD"===t.currency&&(m.bidfloor=t.floor)}else""!=(0,E.An)("price_floor",e.params)&&(m.bidfloor=(0,E.An)("price_floor",e.params));const g=(0,E.An)("start_delay",e.params)||(0,R.Z)(e,"mediaTypes.video.startdelay");g&&(m.video.startdelay=0+Boolean(g));const b=(0,E.An)("min_duration",e.params)||(0,R.Z)(e,"mediaTypes.video.minduration");b&&(m.video.minduration=b);const y=(0,E.An)("max_duration",e.params)||(0,R.Z)(e,"mediaTypes.video.maxduration");y&&(m.video.maxduration=y);const h=(0,E.An)("placement_type",e.params)||(0,R.Z)(e,"mediaTypes.video.placement");h&&(m.video.ext.placement=h);const v=(0,E.An)("position",e.params)||(0,R.Z)(e,"mediaTypes.video.pos");v&&(m.video.ext.pos=v),e.crumbs&&e.crumbs.pubcid&&(o=e.crumbs.pubcid);const _=navigator.language?"language":"userLanguage",I={id:a,imp:m,site:{id:"",page:i,content:"content"},device:{h:screen.height,w:screen.width,dnt:(0,E.oV)()?1:0,language:navigator[_].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent},ext:{wrap_response:1}};f.vc.getConfig("cache")&&f.vc.getConfig("cache.url")&&!0===f.vc.getConfig("cache.ignoreBidderCacheKey")&&(I.ext.wrap_response=0),(0,E.An)("number_of_ads",e.params)&&(I.ext.number_of_ads=(0,E.An)("number_of_ads",e.params));const x={};1==(0,E.An)("spotx_all_google_consent",e.params)&&(x.consented_providers_settings=Ls),t&&t.gdprConsent&&(x.consent=t.gdprConsent.consentString,void 0!==t.gdprConsent.gdprApplies&&(0,_e.N)(I,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,_e.N)(I,"regs.ext.us_privacy",t.uspConsent),e.userIdAsEids&&(x.eids=e.userIdAsEids,x.eids.forEach((e=>{"uidapi.com"===e.source&&e.uids.forEach((e=>{e.ext=e.ext||{},e.ext.rtiPartner="UID2"}))}))),o&&(x.fpc=o),e&&e.schain&&(I.source={ext:{schain:e.schain}}),(0,E.xb)(x)||(I.user={ext:x});return{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+a+"?src_sys=prebid",data:I,bidRequest:t}}))},interpretResponse:;function Xs(e){if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function){const t=function(e){const t=window.document.createElement("script");let r=Hs(e);return t.type="text/javascript",t.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js",(0,E.D9)(t,r),t}(e);e.renderer.config.outstream_function(e,t)}else try{const t=(0,E.An)("in_iframe",e.renderer.config.outstream_options),r="https://js.spotx.tv/easi/v1/"+e.channel_id+".js";let n=Hs(e);if(t&&"IFRAME"==window.document.getElementById(t).nodeName){const e=window.document.getElementById(t);let i=e.contentDocument;!i&&e.contentWindow&&(i=e.contentWindow.document),(0,Qn.B)(r,zs,void 0,i,n)}else(0,Qn.B)(r,zs,void 0,void 0,n)}catch(e){(0,E.H)("[SPOTX][renderer] Error:"+e.message)}}function Hs(e){const t=(0,E.An)("slot",e.renderer.config.outstream_options);(0,E.ji)("[SPOTX][renderer] Handle SpotX outstream renderer");let r={};r["data-spotx_channel_id"]=""+e.channel_id,r["data-spotx_vast_url"]=""+e.vastUrl,r["data-spotx_content_page_url"]=e.renderer.config.content_page_url,r["data-spotx_ad_unit"]="incontent",(0,E.ji)("[SPOTX][renderer] Default behavior"),(0,E.An)("ad_mute",e.renderer.config.outstream_options)&&(r["data-spotx_ad_mute"]="1"),r["data-spotx_collapse"]="0",r["data-spotx_autoplay"]="1",r["data-spotx_blocked_autoplay_override_mode"]="1",r["data-spotx_video_slot_can_autoplay"]="1",r["data-spotx_content_container_id"]=t;const n=(0,E.An)("playersize_auto_adapt",e.renderer.config.outstream_options);if(n&&(0,E.jn)(n)&&!0===n){const n=e.width&&(0,E.hj)(e.width)&&e.height&&(0,E.hj)(e.height)?e.width/e.height:4/3,i=window.document.getElementById(t).clientWidth;let a=e.renderer.config.player_width,o=e.renderer.config.player_height,s=0,d=0;i<a&&(a=i,o=a/n),n<=1?(s=Math.round(o*n),d=o):(s=a,d=Math.round(a/n)),r["data-spotx_content_width"]=""+s,r["data-spotx_content_height"]=""+d}const i=(0,E.An)("custom_override",e.renderer.config.outstream_options);if(i&&(0,E.PO)(i)){(0,E.ji)("[SPOTX][renderer] Custom behavior.");for(let e in i)i.hasOwnProperty(e)&&("channel_id"===e||"vast_url"===e||"content_page_url"===e||"ad_unit"===e?(0,E.yN)("[SPOTX][renderer] Custom behavior: following option cannot be overridden: "+e):r["data-spotx_"+e]=i[e])}return r}(0,Jt.dX)(Fs);const Js="tremorhub.com",Vs="ads.".concat(Js,"/ad/tag"),Ks="events.".concat(Js,"/diag"),Ws={code:"telaria",gvlid:202,aliases:[{code:"tremor",gvlid:202},{code:"tremorvideo",gvlid:202}],supportedMediaTypes:[Vt.pX],isBidRequestValid:buildRequests:function(e,t){let r=[];return e.forEach((e=>{let n=function(e,t){let r,n,i=(0,R.Z)(e,"mediaTypes.video.playerSize");i||(0,E.yN)("Although player size isn't required it is highly recommended");i&&(!(0,E.kJ)(i)||2!==i.length||isNaN(i[0])||isNaN(i[1])?"object"==typeof i&&(r=i[0][0],n=i[0][1]):(r=i[0],n=i[1]));let a=(0,R.Z)(e,"params.supplyCode"),o=(0,R.Z)(e,"params.adCode");if(a&&o){let i="https://".concat(a,".").concat(Vs,"?adCode=").concat(o);r&&(i+="&playerWidth=".concat(r)),n&&(i+="&playerHeight=".concat(n));const s=Object.assign({srcPageUrl:Ys()},e.params);return delete s.adCode,i+="".concat($s(s,e.schain)),i+="&transactionId=".concat(e.transactionId),t&&(t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(i+="&gdpr=".concat(t.gdprConsent.gdprApplies?1:0)),t.gdprConsent.consentString&&(i+="&gdpr_consent=".concat(t.gdprConsent.consentString))),t.refererInfo&&t.refererInfo.page&&(i+="&referrer=".concat(encodeURIComponent(t.refererInfo.page)))),i+"&hb=1&fmt=json"}}(e,t);n&&r.push({method:"GET",url:n,bidId:e.bidId,vastUrl:n.split("&fmt=json")[0]})})),r},interpretResponse:function(e,t){let r,n,i,a=[];try{r=e.body,t.url.split("&").forEach((e=>{let t=e.toLowerCase();t.indexOf("player")>-1&&(t.indexOf("width")>-1?n=e.split("=")[1]:t.indexOf("height")>-1&&(i=e.split("=")[1]))}))}catch(e){(0,E.H)(e),n=0,i=0}if(!r||r.error){let e="in response for ".concat(t.bidderCode," adapter");r&&r.error&&(e+=": ".concat(r.error)),(0,E.H)(e)}else(0,E.xb)(r.seatbid)||r.seatbid[0].bid.forEach((e=>{e&&a.push(t,e,n,i))}));return a},getUserSyncs:function(e,t){const r=[];return e.pixelEnabled&&t.length&&((0,R.Z)(t,"0.body.ext.telaria.userSync")||[]).forEach((e=>r.push({type:"image",url:e}))),r},onTimeout:;nction $s(e,t){let r="";if(!(0,E.xb)(e)){for(let t in e)"schain"!==t&&e.hasOwnProperty(t)&&!(0,E.xb)(e[t])&&(r+="&".concat(t,"=").concat(e[t]));r+=function(e){if((0,E.xb)(e))return"";let t="&schain=".concat(e.ver,",").concat(e.complete);return e.nodes.forEach((e=>{t+="!",t+="".concat(Gs(e.asi),","),t+="".concat(Gs(e.sid),","),t+="".concat(Gs(e.hp),","),t+="".concat(Gs(e.rid),","),t+="".concat(Gs(e.name),","),t+="".concat(Gs(e.domain))})),t}((0,E.xb)(t)?e.schain:t)}return r}const Qs=function(e){let t=(0,R.Z)(e,"0.params.0");if(!(0,E.xb)(t)){let e="https://".concat(Ks);return t=Object.assign({srcPageUrl:Ys()},t),e+="".concat($s(t)),e+="&hb=1&evt=TO",e}};function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(r),!0).forEach((function(t){rd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Jt.dX)(Ws);const nd="triplelift";let id=!0,ad=null;const od=(0,Yt.df)({gvlid:28,bidderCode:nd}),sd={gvlid:28,code:nd,supportedMediaTypes:[Vt.Mk,Vt.pX],isBidRequestValid:buildRequests:function(e,t){let r="https://tlx.3lift.com/header/auction?",n=function(e,t){var r,n;let i={},{schain:a}=e[0];const o=t);i.imp=e.map(();let s=[...md([e[0]]),...fd([e[0]]),...gd([e[0]]),...bd([e[0]]),...yd(e[0])];s.length>0&&(i.user={ext:{eids:s}});let d=a,o);(0,E.xb)(d)||(i.ext=d);null!=t&&null!==(r=t.ortb2)&&void 0!==r&&null!==(n=r.regs)&&void 0!==n&&n.gpp&&(i.regs=Object.assign({},t.ortb2.regs));return i}(e,t);if(r=(0,E.t0)(r,"lib","prebid"),r=(0,E.t0)(r,"v","7.42.0"),t&&t.refererInfo){let e=t.refererInfo.page;r=(0,E.t0)(r,"referrer",e)}return t&&t.timeout&&(r=(0,E.t0)(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(id=t.gdprConsent.gdprApplies,r=(0,E.t0)(r,"gdpr",id.toString())),void 0!==t.gdprConsent.consentString&&(ad=t.gdprConsent.consentString,r=(0,E.t0)(r,"cmp_cs",ad))),t&&t.uspConsent&&(r=(0,E.t0)(r,"us_privacy",t.uspConsent)),!0===f.vc.getConfig("coppa")&&(r=(0,E.t0)(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),(0,E.ji)("tlCall request built: "+r),{method:"POST",url:r,data:n,bidderRequest:t}},interpretResponse:function(e,t){let{bidderRequest:r}=t;return(e.body.bids||[]).map(()},getUserSyncs:;ion md(e){return hd(e,"tdid","adserver.org","TDID")}function fd(e){return hd(e,"idl_env","liveramp.com","idl")}function gd(e){return hd(e,"criteoId","criteo.com","criteoId")}st vd=,Jt.dX)(sd);const xd=["bids","bidderRequestId","auctionId","bidderCode"];function wd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(r),!0).forEach((function(t){Ed(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ed(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}onst Sd=(e,t,r)=>{const{bids:n,bidderRequestId:i,auctionId:a,bidderCode:o}=r,s=Td(r,xd),d=r.bids.length-t.length;let c={};t.forEach((e=>{const t=e.params.siteId;(e=>{Object.keys(e.mediaTypes).forEach((t=>{let r;r="function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:t,size:"*"}).floor||0:e.params.floor||0,e.mediaTypes[t].floor=r}))})(e),(e=>{let t=(0,R.Z)(e,"mediaTypes.banner");if(t){let e={},r=[];t.sizes.forEach((t=>{e[t.toString()]||(e[t.toString()]=!0,r.push(t))})),t.sizes=r}})(e),c[t]=c[t]||[],c[t].push(e)}));let p=[];return Object.keys(c).forEach((t=>{let r={bidderRequest:Object.assign({},Od({bids:c[t],invalidBidsCount:d},s))};p.push(Object.assign({},Od({data:r},e)))})),p},kd=e=>{if(e.ad)return e;(0,E.H)(new Error("UnrulyBidAdapter: Missing ad config."))},Pd=e=>{if(e.vastUrl||e.vastXml)return e;(0,E.H)(new Error("UnrulyBidAdapter: Missing vastUrl or vastXml config."))},Cd=e=>{const t=!!(0,R.Z)(e,"ext.renderer.config"),r=!!(0,R.Z)(e,"ext.renderer.config.siteId");if(!t)return void(0,E.H)(new Error("UnrulyBidAdapter: Missing renderer config."));if(!r)return void(0,E.H)(new Error("UnrulyBidAdapter: Missing renderer siteId."));const n=(0,R.Z)(e,"ext.renderer");!n,e.requestId),parent.window.unruly.native.prebid=parent.window.unruly.native.prebid||{},parent.window.unruly.native.prebid.uq=parent.window.unruly.native.prebid.uq||[];const i=Ht.Th.install(Object.assign({},n)),a=Object.assign({},e,{renderer:i,adUnitCode:(0,R.Z)(e,"ext.adUnitCode")});return i.setRender((()=>{var e;e=a,parent.window.unruly.native.prebid.uq.push(["render",e])})),e.renderer=e.renderer||i,e},Ad=e=>{if(!e.context)return!1;return-1!==["outstream","instream"].indexOf(e.context)},Rd=e=>e.sizes,jd={code:"unruly",supportedMediaTypes:[Vt.pX,Vt.Mk],gvlid:36,isBidRequestValid:function(e){let t=(0,R.Z)(e,"params.siteId")&&(e=>{const t=(0,R.Z)(e,"mediaTypes.video"),r=(0,R.Z)(e,"mediaTypes.banner");let n=!(!t&&!r);return n&&t&&(n=Ad(t)),n&&r&&(n=Rd(r)),n})(e);return!!t},buildRequests:interpretResponse:function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).body;return!e||!e.bids?[]:(e=>{let t=[];return e.forEach((e=>{let r,n=(0,R.Z)(e,"meta.mediaType");if(n&&"banner"===n.toLowerCase())e.mediaType=Vt.Mk,r=kd(e);else if(n&&"video"===n.toLowerCase()){let t=(0,R.Z)(e,"meta.videoContext");e.mediaType=Vt.pX,"instream"===t?r=Pd(e):"outstream"===t&&(r=Cd(e))}r&&t.push(r)})),t})(e.bids)}};function Dd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Jt.dX)(jd);const Ud="7.42.0",Md=300,Bd="USD",qd=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxdt.net","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","epsilon.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","tapad.com","uidapi.com","verizonmedia.com","yahoo.com","zeotap.com"];nction Ld(e){return(0,E.kJ)((0,R.Z)(e,"userIdAsEids"))?e.userIdAsEids.filter(():[]}nction Hd(){let e=f.vc.getConfig("yahoossp.mode");return e=e?e.toLowerCase():void 0,void 0===e||e===Vt.Mk?Vt.Mk:e===Vt.pX?Vt.pX:"all"===e?"*":void 0}unction Vd(e,t,r,n){const i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dd(Object(r),!0).forEach((function(t){Nd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n);for(const n in r)switch(e){case"string":-1!==t.indexOf(n)&&(0,E.d8)(r[n])&&(i[n]=r[n]);break;case"number":-1!==t.indexOf(n)&&(0,E.hj)(r[n])&&(i[n]=r[n]);break;case"array":-1!==t.indexOf(n)&&(0,E.kJ)(r[n])&&(i[n]=r[n]);break;case"object":-1!==t.indexOf(n)&&(0,E.PO)(r[n])&&(i[n]=r[n]);break;case"objectAllKeys":(0,E.PO)(r)&&(i[n]=r[n])}return i}ction Gd(e,t){if(e){var r,n;let i={id:(0,E.DO)(),cur:[Jd(e).currency||(0,R.Z)(t,"params.bidOverride.cur")||Bd],imp:[],site:{page:(0,R.Z)(e,"refererInfo.page")},device:{dnt:0,ua:navigator.userAgent,ip:(0,R.Z)(t,"params.bidOverride.device.ip")||(0,R.Z)(t,"params.ext.ip")||void 0,w:window.screen.width,h:window.screen.height},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0}},source:{ext:{hb:1,adapterver:"1.0.2",prebidver:Ud,integration:{name:"prebid.js",ver:Ud}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:Ld(t)}}};!0===Xd(t)?(i.site.publisher={id:t.params.pubId},((0,R.Z)(t,"params.bidOverride.site.id")||(0,R.Z)(t,"params.siteId"))&&(i.site.id=(0,R.Z)(t,"params.bidOverride.site.id")||t.params.siteId)):i.site.id=t.params.dcn,null!==(r=e.ortb2)&&void 0!==r&&null!==(n=r.regs)&&void 0!==n&&n.gpp&&(i.regs.ext.gpp=e.ortb2.regs.gpp,i.regs.ext.gpp_sid=e.ortb2.regs.gpp_sid),e.ortb2&&(i=function(e,t){const r=t.ortb2,n=(0,R.Z)(r,"site")||void 0,i=(0,R.Z)(n,"content")||void 0,a=(0,R.Z)(n,"content.data")||void 0,o=(0,R.Z)(r,"app.content")||void 0,s=(0,R.Z)(r,"app.content.data")||void 0,d=(0,R.Z)(r,"user")||void 0;if(n&&(0,E.PO)(n)){const t=["name","domain","page","ref","keywords","search"],r=["cat","sectioncat","pagecat"],i=["ext"];e.site=Vd("string",t,n,e.site),e.site=Vd("array",r,n,e.site),e.site=Vd("object",i,n,e.site)}if(i&&(0,E.PO)(i)){const t=["id","title","series","season","genre","contentrating","language"],r=["episode","prodq","context","livestream","len"],n=["cat"],o=["ext"];e.site.content=Vd("string",t,i,e.site.content),e.site.content=Vd("number",r,i,e.site.content),e.site.content=Vd("array",n,i,e.site.content),e.site.content=Vd("object",o,i,e.site.content),a&&(0,E.kJ)(a)&&a.every((t=>{let r={};const n=["segment"],i=["ext"];r=Vd("string",["id","name"],t,r),r=Vd("array",n,t,r),r=Vd("object",i,t,r),e.site.content.data=[],e.site.content.data.push(r)}))}o&&(0,E.PO)(o)&&s&&(0,E.kJ)(s)&&s.every((t=>{let r={};const n=["segment"],i=["ext"];r=Vd("string",["id","name"],t,r),r=Vd("array",n,t,r),r=Vd("object",i,t,r),e.app={content:{data:[]}},e.app.content.data.push(r)}));if(d&&(0,E.PO)(d)){const t=["id","buyeruid","gender","keywords","customdata"],r=["yob"],n=["data"],i=["ext"];e.user=Vd("string",t,d,e.user),e.user=Vd("number",r,d,e.user),e.user=Vd("array",n,d,e.user),e.user.ext=Vd("object",i,d,e.user.ext)}return e}(i,t));const a=(0,R.Z)(t,"schain.nodes");return(0,E.kJ)(a)&&a.length>0&&(i.source.ext.schain=t.schain,i.source.ext.schain.nodes[0].rid=i.id),i}}function $d(e,t){const r=Hd();if(t&&e){const n={id:e.bidId,secure:Fd(e),bidfloor:Jd(e).floor||(0,R.Z)(e,"params.bidOverride.imp.bidfloor")};if(!e.mediaTypes.banner||void 0!==r&&r!==Vt.Mk&&"*"!==r||(n.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:zd(e.sizes)},e.mediaTypes.banner.pos&&(n.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&(r===Vt.pX||"*"===r)){const t=zd(e.mediaTypes.video.playerSize);n.video={mimes:(0,R.Z)(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:(0,R.Z)(e,"params.bidOverride.imp.video.w")||t[0].w,h:(0,R.Z)(e,"params.bidOverride.imp.video.h")||t[0].h,maxbitrate:(0,R.Z)(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:(0,R.Z)(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:(0,R.Z)(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:(0,R.Z)(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:(0,R.Z)(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:(0,R.Z)(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:(0,R.Z)(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:(0,R.Z)(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:(0,R.Z)(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:(0,R.Z)(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],startdelay:(0,R.Z)(e,"params.bidOverride.imp.video.startdelay")||e.mediaTypes.video.startdelay||0,rewarded:(0,R.Z)(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(n.ext={dfp_ad_unit_code:e.adUnitCode},(0,R.Z)(e,"params.kvp")&&(0,E.PO)(e.params.kvp)){n.ext.kvs={};for(const t in e.params.kvp)if((0,E.d8)(e.params.kvp[t])||(0,E.hj)(e.params.kvp[t]))n.ext.kvs[t]=e.params.kvp[t];else if((0,E.kJ)(e.params.kvp[t])){const r=e.params.kvp[t];(r.every((e=>(0,E.d8)(e)))||r.every((e=>(0,E.hj)(e))))&&(n.ext.kvs[t]=e.params.kvp[t])}}(0,R.Z)(e,"ortb2Imp.ext.data")&&(0,E.PO)(e.ortb2Imp.ext.data)&&(n.ext.data=e.ortb2Imp.ext.data),(0,R.Z)(e,"ortb2Imp.instl")&&(0,E.hj)(e.ortb2Imp.instl)&&1===e.ortb2Imp.instl&&(n.instl=e.ortb2Imp.instl),!1===Xd(e)?(n.tagid=e.params.pos,n.ext.pos=e.params.pos):(0,R.Z)(e,"params.placementId")&&(n.tagid=e.params.placementId),t.imp.push(n)}}function Qd(e){let{payload:t,requestOptions:r,bidderRequest:n}=e;const i=Xd(n);let a=f.vc.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/bidRequest";if(!0===i&&(a=f.vc.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),!0===(0,R.Z)(n,"params.testing.e2etest"))if((0,E.PN)("yahoossp adapter e2etest mode is active"),r.withCredentials=!1,!0===i)t.site.id="1234567";else{const e=Hd();t.site.id="8a969516017a7a396ec539d97f540011",t.imp.forEach((t=>{t.ext.e2eTestMode=!0,e===Vt.Mk?t.tagid="8a969978017a7aaabab4ab0bc01a0009":e===Vt.pX?t.tagid="8a96958a017a7a57ac375d50c0c700cc":((0,E.yN)('yahoossp adapter e2etest mode does not support yahoossp.mode="all". \n Please specify either "banner" or "video"'),(0,E.yN)("yahoossp adapter e2etest mode: Please make sure your adUnit matches the yahoossp.mode video or banner"))}))}return{url:a,method:"POST",data:t,options:r,bidderRequest:n}}const ec={code:"yahoossp",gvlid:25,aliases:[],supportedMediaTypes:[Vt.Mk,Vt.pX],isBidRequestValid:buildRequests:function(e,t){if((0,E.xb)(e)||(0,E.xb)(t))return void(0,E.yN)('yahoossp Adapter: buildRequests called with either empty "validBidRequests" or "bidderRequest"');const r={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};r.withCredentials=(0,Gt.h)(t.gdprConsent);const n=function(e){const t=Hd();let r=[];return t===Vt.Mk?r=e.filter((e=>Object.keys(e.mediaTypes).some((e=>e===Vt.Mk)))):t===Vt.pX?r=e.filter((e=>Object.keys(e.mediaTypes).some(())):"*"===t&&(r=e.filter((e=>Object.keys(e.mediaTypes).some(()))),r}(e);if(!0===f.vc.getConfig("yahoossp.singleRequestMode")){const e=Gd(t,n[0]);return n.forEach((),Qd({payload:e,requestOptions:r,bidderRequest:t})}return n.map((e=>{const n=Gd(t,e);return $d(e,n),Qd({payload:n,requestOptions:r,bidderRequest:e})}))},interpretResponse:function(e,t){let{data:r,bidderRequest:n}=t;const i=[];if(!e.body||!Array.isArray(e.body.seatbid))return i;return e.body.seatbid.forEach((e=>{let t;try{t=e.bid[0]}catch(e){return i}let r=t.ext&&t.ext.encp?t.ext.encp:t.price,a={adId:(0,R.Z)(t,"adId")?t.adId:t.impid||t.crid,adUnitCode:n.adUnitCode,requestId:t.impid,cpm:r,width:t.w,height:t.h,creativeId:t.crid||0,currency:t.cur||Bd,dealId:t.dealid?t.dealid:null,netRevenue:!0,ttl:Kd(n),meta:{advertiserDomains:t.adomain}};const o=t);o===Vt.Mk?(a.mediaType=Vt.Mk,a.ad=t.adm,a.meta.mediaType=Vt.Mk):o===Vt.pX&&(a.mediaType=Vt.pX,a.meta.mediaType=Vt.pX,a.vastXml=t.adm,t.nurl&&(a.vastUrl=t.nurl)),"outstream"!==(0,R.Z)(n,"mediaTypes.video.context")||n.renderer||(a.renderer=n)||void 0),i.push(a)})),i},getUserSyncs:function(e,t,r,n){const i=!(0,E.xb)(t)&&t[0].body;return i&&i.ext&&i.ext.pixels?function(e,t){let r=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,n=/\w*(?=\s)/,i=/src=("|')(.*?)\1/,a=[];if(t){let o=t.match(r);o&&o.forEach((t=>{let r=t.match(n)[0],o=t.match(i)[2];if(r&&o){let t="img"===r.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===t||!e.pixelEnabled&&"image"===t)return;a.push({type:t,url:o})}}))}return a}(e,i.ext.pixels):[]}};(0,Jt.dX)(ec);const tc="https://ad.yieldlab.net",rc="EUR",nc="x",ic={code:"yieldlab",gvlid:70,supportedMediaTypes:[Vt.pX,Vt.Mk,Vt.B5],isBidRequestValid:e=>!!(e&&e.params&&e.params.adslotId&&e.params.supplyId),buildRequests(e,t){e=(0,$t.lY)(e);const r=[],n=[],i=[],a={ts:Date.now(),json:!0};(0,E.yi)(e,(function(e){r.push(e.params.adslotId);const t=function(e){const{mediaTypes:t}=e,r=[];if((0,E.PO)(t)){const{[Vt.Mk]:e}=t;e&&(0,E.kJ)(e.sizes)&&((0,E.kJ)(e.sizes[0])?r.push(e.sizes):r.push([e.sizes]))}else(0,E.kJ)(e.sizes)&&((0,E.kJ)(e.sizes[0])?r.push(e.sizes):r.push([e.sizes]));const n=new Set(r.flat().map((e=>{let[t,r]=e;return t+nc+r})));return Array.from(n)}(e);if(t.length>0&&n.push(e.params.adslotId+":"+t.join("|")),e.params.extId&&(a.id=e.params.extId),e.params.targeting&&(a.t=e.params.targeting)),e.userIdAsEids&&Array.isArray(e.userIdAsEids)&&(a.ids=function(e){const t=[];for(let r=0;r<e.length;r++)t.push(e[r].source+":"+e[r].uids[0].id);return t.join(",")}(e.userIdAsEids),a.atypes=function(e){const t=[];for(let r=0;r<e.length;r++)e[r].uids[0].atype&&t.push(e[r].source+":"+e[r].uids[0].atype);return t.join(",")}(e.userIdAsEids)),e.params.customParams&&(0,E.PO)(e.params.customParams))for(const t in e.params.customParams)a[t]=e.params.customParams[t];e.schain&&(0,E.PO)(e.schain)&&Array.isArray(e.schain.nodes)&&(a.schain=function(e){const t=e.ver||"",r=1===e.complete||0===e.complete?e.complete:"",n=["asi","sid","hp","rid","name","domain","ext"],i=e.nodes.reduce(((e,t)=>e+"!".concat(n.map((e=>{return t[e]?(r=t[e],encodeURIComponent(r).replace(/!/g,"%21")):"";var r})).join(","))),"");return"".concat(t,",").concat(r).concat(i)}(e.schain));const o=e);o&&(a.iab_content=function(e){const t=["keywords","cat"],r=[],n=function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(const a in n)-1!==t.indexOf(a)&&Array.isArray(n[a])?r.push("".concat(a,":",n[a].map((e=>encodeURIComponent(e))).join("|"))):"object"!=typeof n[a]?r.push("".concat(i+a,":",encodeURIComponent(n[a]))):e(n[a],"".concat(i,a,"."));return r.join(",")};return encodeURIComponent(n(e))}(o));const s=e,t);s&&i.push(e.params.adslotId+":"+s)})),t&&(t.refererInfo&&t.refererInfo.page&&(a.pubref=t.refererInfo.page),t.gdprConsent&&(a.gdpr="boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,a.gdpr&&(a.consent=t.gdprConsent.consentString)));const o=r.join(",");n.length>0&&(a.sizes=n.join(",")),i.length>0&&(a.floor=i.join(","));const s=a);return{method:"GET",url:"".concat(tc,"/yp/").concat(o,"?").concat(s),validBidRequests:e,queryParams:a}},interpretResponse(e,t){const r=[],n=Date.now(),i=t.queryParams;return t.validBidRequests.forEach((function(t){if(!e.body)return;const a=(0,I.sE)(e.body,();if(a){const e=2!==t.sizes.length||(0,E.kJ)(t.sizes[0])?t.sizes[0]:t.sizes,d=void 0!==t.params.adSize?ac(t.params.adSize):void 0!==a.adsize?ac(a.adsize):e,c=void 0!==t.params.extId?"&id="+t.params.extId:"",p=void 0!==a.adtype?a.adtype:"",u=i.gdpr?"&gdpr="+i.gdpr:"",l=i.consent?"&consent="+i.consent:"",m=void 0!==a.pvid?"&pvid="+a.pvid:"",f=i.iab_content?"&iab_content="+i.iab_content:"",g={requestId:t.bidId,cpm:a.price/100,width:d[0],height:d[1],creativeId:""+a.id,dealId:a["c.dealid"]?a["c.dealid"]:a.pid,currency:rc,netRevenue:!1,ttl:300,referrer:"",ad:'<script src="'.concat(tc,"/d/").concat(a.id,"/").concat(t.params.supplyId,"/?ts=").concat(n).concat(c).concat(u).concat(l).concat(m).concat(f,'"><\/script>'),meta:{advertiserDomains:a.advertiser?a.advertiser:"n/a"}};if(o=t,s=p,(0,R.Z)(o,"mediaTypes.video")&&"video"===s.toLowerCase()){const e=t);if(e&&(g.width=e[0],g.height=e[1]),g.mediaType=Vt.pX,g.vastUrl="".concat(tc,"/d/").concat(a.id,"/").concat(t.params.supplyId,"/?ts=").concat(n).concat(c).concat(u).concat(l).concat(m).concat(f),function(e){const t=(0,R.Z)(e,"mediaTypes.video.context");return"outstream"===t}(t)){const e=Ht.Th.install({id:t.bidId,url:"https://ad.adition.com/dynamic.ad?a=o193092&ma_loadEvent=ma-start-event",loaded:!1});e.setRender(oc),g.renderer=e}}if(t,p)){const e="".concat(tc,"/d/").concat(a.id,"/").concat(t.params.supplyId,"/?ts=").concat(n).concat(c).concat(u).concat(l).concat(m);g.adUrl=e,g.mediaType=Vt.B5;const r=(0,I.sE)(a.native.assets,(e=>2===e.id)),i=r?r.img:{url:"",w:0,h:0},o=(0,I.sE)(a.native.assets,(e=>1===e.id)),s=(0,I.sE)(a.native.assets,();g.native={title:o?o.title.text:"",body:s?s.data.value:"",image:{url:i.url,width:i.w,height:i.h},clickUrl:a.native.link.url,impressionTrackers:a.native.imptrackers}}r.push(g)}var o,s})),r},getUserSyncs;unction oc(e){e.renderer.push((()=>{window.ma_width=e.width,window.ma_height=e.height,window.ma_vastUrl=e.vastUrl,window.ma_container=e.adUnitCode,window.document.dispatchEvent(new Event("ma-start-event"))}))}(0,Jt.dX)(ic);var sc=r(461);r(923);const dc={appnexus:"xhb"},cc={};const pc={code:"mock",buildRequests:([e],t)=>({data:"",method:e.params.method,url:e.params.url,bidderRequest:t,options:{withCredentials:!1},payload:{}}),isBidRequestValid:({params:{method:e,url:t,cpm:r}})=>"GET"!==e&&"POST"!==e?(E.H(`params.method must be one of ('GET', 'POST'), got ${e}`),!1):"string"!=typeof t?(E.H(`params.url must be a string, got ${t}`),!1):!!(0,qt.z0)(r)||(E.H(`params.cpm must be a finite number, got ${r}`),!1),interpretResponse:({body:e},{bidderRequest:{bidderRequestId:t,bids:r}})=>"string"!=typeof e?[]:[{requestId:t,cpm:o()(r,"[0].params.cpm",0),width:0,height:0,ad:"",ttl:0,creativeId:"",netRevenue:!1,currency:"",vastXml:e}]};var uc;dc[(uc=pc).code]&&(cc[dc[uc.code]]=uc),cc[uc.code]=uc;var lc=r(572),mc=r.n(lc),fc=r(786),gc=r.n(fc);class bc{nit(e){return this.config||(this.config=e),this.initPromise||(this.initPromise=Zt.Vs(l().resolve().then((()=>{let e;return e=window.IntentIqObject&&"function"==typeof window.IntentIqObject?l().resolve():(0,Bt.ve)(bc.intentIqUrl),e.then((()=>window.IntentIqObject&&"function"==typeof window.IntentIqObject?new(l())(((e,t)=>{new window.IntentIqObject({partner:this.config.partner,callback:r=>{r&&gc()(r.eids)&&r.eids.length>0?(this.eids=r.eids,this.userId=this.createUserIdFromEids(this.eids),e()):t()},timeoutInMillis:this.config.timeout||500,ABTestingConfigurationSource:"percentage",abPercentage:100,domainName:this.config.pageDomain})})):l().reject(new Error("IntentIqObject function is missing"))))})),this.config.timeout||500,"IntentIqManager.init")),this.initPromise}getUserId(){return this.userId}getEids(){return this.eids}createUserIdFromEids(e){const t={};return e.forEach((e=>{if(mc()(e.source)&&gc()(e.uids)&&e.uids.length>0&&mc()(e.uids[0].id)){const r=e.uids[0];switch(t[e.source]=r.id,e.source){case"adserver.org":t.tdid=r.id;break;case"liveramp.com":t.idl_env=r.id;break;case"criteo.com":t.criteoId=r.id;break;case"pubcid.org":t.pubcid=r.id;break;case"uidapi.com":t["uid2.id"]=r.id,t.uid2={id:r.id};break;case"audigent.com":t.hadronId=r.id;break;case"merkleinc.com":t.merkleId={id:r.id};break;case"liveintent.com":t.lipb={lipbid:r.id};break;case"parrable.com":t.parrableId={eid:r.id};break;case"id5-sync.com":t.id5id={uid:r.id};break;case"novatiq.com":t.novatiq={snowflake:r.id}}}})),t}}bc.intentIqUrl="https://libs.outbrain.com/s-vi-serve/current/intentiq/IIQUniversalID.js";const yc=new bc;class hc extends Lt.Z{static id(){return`${Date.now()}-${Math.floor(1e3*Math.random())}`}static request({method:e,url:t,data:r,options:n}){const i=(i=!1)=>new(l())(((a,o)=>{const s={success:(e,t)=>{let r;try{r=JSON.parse(e)}catch(t){r=e}a({body:r,headers:{get:t.getResponseHeader.bind(t)}})},error:(e,t)=>{o(new Error(`request error: status ${t.status} request:${JSON.stringify(r)}`))}};switch(e.toUpperCase()){case"GET":{const e=Object.assign({method:"GET"},n);i&&(e.withCredentials=!1);let a=t,o="string"==typeof r?r:r?zt.J(r):"";if(o){let e;-1!==t.indexOf("?")?o.startsWith("?")?(o=o.substring(1),e="&"):e="&":e=o.startsWith("?")?"":"?",a=`${t}${e}${o}`}return(0,m.h)(`${a}`,s,void 0,e)}case"POST":{const e=Object.assign({method:"POST",contentType:"text/plain"},n);return i&&(e.withCredentials=!1),(0,m.h)(t,s,"string"==typeof r?r:JSON.stringify(r),e)}default:return o(new Error("method must be either GET or POST"))}}));return i().catch((e=>n.withCredentials?i(!0):e))}static getDefaultRefererInfo(){let e=(0,g.nH)();return e?e.referer||(e.referer=document.referrer):e={referer:document.referrer,reachedTop:!1,canonicalUrl:"",numIframes:0,stack:[]},e}static parseBidderRequest(e){const t=Array.isArray(e)?e[0]:e,r=t.options||{},n={method:t.method,url:t.url,data:t.data,payload:t.payload,bidderRequest:t.bidderRequest||{},bidRequest:t.bidRequest,bids:e.bids,validBidRequests:t.validBidRequests,bidsMap:t.bidsMap,options:{withCredentials:void 0===Mt(r.withCredentials)||Mt(r.withCredentials),contentType:r.contentType}};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&"bidderRequest"!==e&&"options"!==e&&(n[e]=t[e]);return r.customHeaders&&(n.options.customHeaders=r.customHeaders),n}static parseBidderResponse(e){let t;try{t=(Array.isArray(e)?e:[e]).map((e=>({requestId:e.requestId,cpm:(0,qt.ZQ)(e.cpm),width:(0,qt.ZQ)(e.width),height:(0,qt.ZQ)(e.height),ad:e.ad,ttl:(0,qt.ZQ)(e.ttl),creativeId:e.creativeId,netRevenue:Mt(e.netRevenue)||!1,currency:e.currency,vastUrl:e.vastUrl,vastXml:e.vastXml,vastImpUrl:e.vastImpUrl,dealId:e.dealId}))).filter((({vastUrl:e,vastXml:t,cpm:r})=>(e||t)&&(0,qt.z0)(r))).sort(()[0]}catch(e){const t=e instanceof Error?e.message:e;throw new Error(`parseBidderResponse failed: "${t}"`)}return t}constructor(e,t,r,n,i,a,o,s,d,c,p){super(e,t,r,n,i,a,o,s,d,c,p),this.waterfallId=e,this.runNumber=t,this.adSource=r,this.container=n,this.environment=o,this.macros=s,this.video=d,this.gdprConsent=c,this.schain=p,this.bidCPM=0,this.disposed=!1,f.vc.setConfig({userSync:{filterSettings:{all:{bidders:"*",filter:"include"}},userIds:[{name:"criteo"},{name:"id5Id",params:{partner:164},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"lotamePanoramaId"},{name:"uid2"}]},outbrain:{bidderUrl:"https://b1h.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h.zemanta.com/usersync/prebid"},yahoossp:{mode:"video"}})}bidRequests(){try{const e=JSON.parse(this.adSource.url);e.sizes=this.getSingleSize(e.sizes);const t=d()(e,{code:hc.id(),mediaTypes:{video:{context:"instream",renderer:{url:"about:blank",render:function(){}}}},renderer:{url:"about:blank",render:,bids:[{}]});return t.sizes||(t.sizes=[this.width,this.height]),t.mediaTypes.video.playerSize||(t.mediaTypes.video.playerSize=[this.width,this.height]),t.bids.map((e=>p()(e,Object.assign(Object.assign({bidder:this.adSource.prebidBidderCode,params:{}},i()(t,["mediaTypes","sizes"])),{adUnitCode:t.code,transactionId:hc.id(),bidId:hc.id(),auctionId:hc.id(),src:"client",bidderRequestId:hc.id(),bidRequestsCount:1,bidderRequestsCount:1,bidderWinsCount:0,schain:this.schain}))))}catch(e){const t=e instanceof Error?e.message:e;throw new Error(` Bid request parse failed. JSON: ${this.adSource.url}, Error; ${t}`)}}init(e=Rt.q,t={ignorePriceFloor:!1,priceFloorStart:0,priceFloorReducePercent:0,intentIqConfig:null}){return this.initPromise?this.initPromise:this.initPromise=Zt.Vs(l().resolve().then((()=>{var e,r,n,i,a;if(!this.adSource.prebidBidderCode)throw new Error("prebidBidderCode is empty");const s=null===(e=null===y.ZP||void 0===y.ZP?void 0:y.ZP.getBidAdapter(this.adSource.prebidBidderCode))||void 0===e?void 0:e.getSpec();if(!s)throw new Error(`unsupported adapter ${this.adSource.prebidBidderCode}`);let d=this.bidRequests(),c=!(null===(r=this.gdprConsent)||void 0===r?void 0:r.gdprApplies);if((null===(n=this.gdprConsent)||void 0===n?void 0:n.gdprApplies)&&(null===(i=this.gdprConsent)||void 0===i?void 0:i.vendorData)&&2===(null===(a=this.gdprConsent)||void 0===a?void 0:a.apiVersion)){if(d=d.filter((e=>(c=(0,_.Ng)({purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},this.gdprConsent,e.bidder,s.gvlid),c))),!d.length)throw new Error(`tcf validateRules failed for "${this.adSource.prebidBidderCode}"`)}else if(!c)throw new Error(`missing tcf data for "${this.adSource.prebidBidderCode}"`);const p={bidderCode:this.adSource.prebidBidderCode,refererInfo:hc.getDefaultRefererInfo(),auctionId:hc.id(),bidderRequestId:hc.id(),bids:d,gdprConsent:this.gdprConsent},u=d.filter(s.isBidRequestValid);if(!u.length){try{this.registerSyncs(s,[],p),this.emit(Ut.B.log,`no valid bid requests, bidRequests: ${d}`)}catch(e){}throw new Error(`no valid bid requests for "${this.adSource.prebidBidderCode}" bidderRequest:${JSON.stringify(p)}`)}if(this.adSource.enablePubmaticIdentityHub)if(window.IHPWT&&"function"==typeof window.IHPWT.getUserIds)u.forEach(();else{const e="https://ads.pubmatic.com/AdServer/js/pwt/158055/9562";let t="";if(this.environment.pageUrl.indexOf("pwtv=")>0){const e=/pwtv=(.*?)(&|$)/g.exec(this.environment.pageUrl);e&&e.length>=2&&e[1].length>0&&(t="/"+e[1])}(0,Bt.ve)(e+t+"/pwt.js")}let m;return this.adSource.enableUserIdModules&&((0,_.lN)(f.vc),[je,ct,vt,Ct]),function(e){if(F=void 0,J=[],V=[],H=!0,q=void 0,X=[B.localStorageIsEnabled()?N:null,B.cookiesAreEnabled()?D:null].filter((),-1!==X.indexOf(D)&&B.getCookie(M))return void(0,E.PN)("".concat(j," - opt-out cookie found, exit module"));if(-1!==X.indexOf(N)&&B.getDataFromLocalStorage(M))return void(0,E.PN)("".concat(j," - opt-out localStorage found, exit module"));const t=e.getConfig().userSync;F=t.ppid,t&&t.userIds&&(V=t.userIds,z=(0,E.hj)(t.syncDelay)?t.syncDelay:500,L=(0,E.hj)(t.auctionDelay)?t.auctionDelay:0,he()),(0,x.R)().getUserIds=de,(0,x.R)().getUserIdsAsEids=ce,(0,x.R)().getEncryptedEidsForSource=ue,(0,x.R)().registerSignalSources=me,(0,x.R)().refreshUserIds=fe,(0,x.R)().getUserIdsAsEidBySource=pe}(f.vc),y.rp.setConsentData(this.gdprConsent),se((,{adUnits:[{bids:u}]})),m=t.intentIqConfig?yc.init(t.intentIqConfig).then((()=>{u.forEach((e=>{e.userId||(e.userId={}),e.userIdAsEids||(e.userIdAsEids=[]),Object.assign(e.userId,yc.getUserId()),e.userIdAsEids.push(...yc.getEids())}))})).catch((e=>{this.emit(Ut.B.log,`IntentIq error: ${e}`)})).finally((()=>{m=l().resolve()})):l().resolve(),m.finally((()=>(w.z3.ready(),(0,ve.S)(l().resolve({})).then((e=>{p.ortb2=e,p.bids.forEach(();const r=s.buildRequests(u,p),n=hc.parseBidderRequest(r);return hc.request(n).then((e=>{(0,Nt.n)(this),h.j8(v.FP.AUCTION_END),this.registerSyncs(s,[e],p);const r=s.interpretResponse(e,n),i=hc.parseBidderResponse(r);if(!i)throw new Error("no bid");if(this.bidCPM=i.cpm,this.emit(Dt.e.bid),!t.ignorePriceFloor){const e=o()(this.adSource,"algorithm.priceFloor.priceFloorMin",o()(this.adSource,"trackingParams.sell_cpm",0)),r=(0,jt.Z)(this.runNumber,this.adSource,t.ignorePriceFloor,t.priceFloorStart,t.priceFloorReducePercent);if(i.cpm<e)throw new Error(`bid ${i.cpm} below the price floor ${r}`)}return this.adPlayer=new Ft.default(this.waterfallId,this.runNumber,Object.assign(Object.assign({},this.adSource),{type:"VAST",url:i.vastUrl||"",vastXML:i.vastXml}),this.container,this.width,this.height,this.environment,this.macros,this.video),this.adPlayer.init()}))})))))})),e,"PrebidPlayer.init")}get trackingParams(){return Object.assign(Object.assign({},this.adSource.trackingParams),{bid_cpm:(0,qt.FH)(this.bidCPM,5),sell_cpm:(0,qt.FH)((0,sc.PM)(this.adSource,this.bidCPM),5)})}get acu(){return(0,qt.FH)((0,sc.Ak)(this.adSource,this.bidCPM),5)}get bidCpm(){return this.bidCPM}et pubNetCpm(){return(0,qt.FH)((0,sc.ZT)(this.adSource,this.bidCPM),5)}getSingleSize(e){const t=e&&e.reduce(((e,t)=>(Array.isArray(t)?e.push(...t):e.push(t),e)),[])||[];return[Math.round(t[0]||0),Math.round(t[1]||0)]}registerSyncs(e,t,r){var n,i,a,o;if(e.getUserSyncs){let s=!(null===(n=this.gdprConsent)||void 0===n?void 0:n.gdprApplies);if((null===(i=this.gdprConsent)||void 0===i?void 0:i.gdprApplies)&&(null===(a=this.gdprConsent)||void 0===a?void 0:a.vendorData)&&2===(null===(o=this.gdprConsent)||void 0===o?void 0:o.apiVersion)&&(s=(0,_.Ng)({purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},this.gdprConsent,r.bidderCode,e.gvlid)),s){const n={iframeEnabled:!0,pixelEnabled:!0};let i=e.getUserSyncs(n,t,r.gdprConsent,r.uspConsent);i&&(Array.isArray(i)||(i=[i]),i.forEach((t=>{b.userSync.registerSync(t.type,e.code,t.url),b.userSync.canBidderRegisterSync(e,t.type)&&b.userSync.syncUsers()})))}}}}const vc=hc},1425:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3396),prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(356),prebid_js_src_adloader__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2180),prebid_js_src_adapters_bidderFactory__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3099),prebid_js_src_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3817),prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5796),prebid_js_src_polyfill__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6005),criteo_direct_rsa_validate_build_verify__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9354),prebid_js_src_storageManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7136),prebid_js_src_native__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9251),prebid_js_src_refererDetection__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5066),prebid_js_src_utils_gpdr__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1285);const GVLID=91,ADAPTER_VERSION=35,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,prebid_js_src_storageManager__WEBPACK_IMPORTED_MODULE_1__.df)({gvlid:GVLID,bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=135,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__.Mk,prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__.pX,prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__.B5],getUserSyncs:function(e,t,r,n){if(canFastBid(prebid_js_src_config__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion")))return[];const i=(0,prebid_js_src_refererDetection__WEBPACK_IMPORTED_MODULE_4__.nH)(),a="criteoPrebidAdapter";if(e.iframeEnabled&&(0,prebid_js_src_utils_gpdr__WEBPACK_IMPORTED_MODULE_5__.h)(r)){const e=[];e.push("origin=".concat(a)),e.push("topUrl=".concat(i.domain)),r&&(r.gdprApplies&&e.push("gdpr=".concat(1==r.gdprApplies?1:0)),r.consentString&&e.push("gdpr_consent=".concat(r.consentString))),n&&e.push("us_privacy=".concat(n));const t=Math.random().toString(),o={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:a,requestId:t,tld:i.domain,topUrl:i.domain,version:"7.42.0".replace(/\./g,"_")};window.addEventListener("message",(function e(r){if(!r.data||"https://gum.criteo.com"!=r.origin)return;if(r.data.requestId!==t)return;this.removeEventListener("message",e),r.stopImmediatePropagation();const n=r.data;n.optout?(deleteFromAllStorages(BUNDLE_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):n.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,n.bundle,GUID_RETENTION_TIME_HOUR)}),!0);const s=JSON.stringify(o).replace(/"/g,"%22");return[{type:"iframe",url:"https://gum.criteo.com/syncframe?".concat(e.join("&"),"#").concat(s)}]}return[]},isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId)&&!(hasVideoMediaType(e)&&!hasValidVideoMediaType(e)),buildRequests:(e,t)=>{var r,n;let i,a;e=(0,prebid_js_src_native__WEBPACK_IMPORTED_MODULE_6__.lY)(e);let o=t.ortb2||{};Object.assign(t,{publisherExt:null===(r=o.site)||void 0===r?void 0:r.ext,userExt:null===(n=o.user)||void 0===n?void 0:n.ext,ceh:prebid_js_src_config__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.ceh"),coppa:prebid_js_src_config__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("coppa")});const s=prebid_js_src_config__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion"),d=canFastBid(s);if(!publisherTagAvailable()&&d){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();const e=getFastBidUrl(s);setTimeout((,t.timeout)}if(publisherTagAvailable()){const r=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"7.42.0");i=r.buildCdbUrl(),a=r.buildCdbRequest()}else{const r=buildContext(e,t);i=buildCdbUrl(r),a=buildCdbRequest(r,e,t)}if(a)return{method:"POST",url:i,data:a,bidRequests:e}},interpretResponse:(e,t)=>{const r=e.body||e;if(publisherTagAvailable()){const e=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(e)return e.interpretResponse(r,t)}const n=[];return r&&r.slots&&(0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_8__.kJ)(r.slots)&&r.slots.forEach((i=>{var a,o,s,d;const c=(0,prebid_js_src_polyfill__WEBPACK_IMPORTED_MODULE_9__.sE)(t.bidRequests,(e=>e.adUnitCode===i.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===i.zoneid))),p=c.bidId,u={requestId:p,cpm:i.cpm,currency:i.currency,netRevenue:!0,ttl:i.ttl||60,creativeId:i.creativecode,width:i.width,height:i.height,dealId:i.dealCode};if(null!==(a=r.ext)&&void 0!==a&&null!==(o=a.paf)&&void 0!==o&&o.transmission&&null!==(s=i.ext)&&void 0!==s&&null!==(d=s.paf)&&void 0!==d&&d.content_id){const t={content_id:i.ext.paf.content_id,transmission:e.ext.paf.transmission};u.meta=Object.assign({},u.meta,{paf:t})}i.adomain&&(u.meta=Object.assign({},u.meta,{advertiserDomains:[i.adomain].flat()})),i.native?c.params.nativeCallback?u.ad=createNativeAd(p,i.native,c.params.nativeCallback):(u.native=createPrebidNativeAd(i.native),u.mediaType=prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__.B5):i.video?(u.vastUrl=i.displayurl,u.mediaType=prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__.pX):u.ad=i.creative,n.push(u)})),n},onTimeout:e=>{if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach((e=>{if(-1===t.indexOf(e.auctionId)){t.push(e.auctionId);Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout()}}))}},onBidWon:e=>{if(publisherTagAvailable()&&e){Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)}},onSetTargeting:e=>{if(publisherTagAvailable()){Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}}};function readFromAllStorages(e){const t=storage.getCookie(e),r=storage.getDataFromLocalStorage(e);return t||r||void 0}ction buildContext(e,t){var r;let n="";t&&t.refererInfo&&(n=t.refererInfo.page);const i=(0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_8__.en)(null==t||null===(r=t.refererInfo)||void 0===r?void 0:r.topmostLocation).search,a={url:n,debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,amp:!1};return e.forEach((e=>{"amp"===e.params.integrationMode&&(a.amp=!0)})),a}function buildCdbUrl(e){let t=CDB_ENDPOINT;t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("7.42.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");const r=readFromAllStorages(BUNDLE_COOKIE_NAME);r&&(t+="&bundle=".concat(r));return readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1"),t}unction buildCdbRequest(e,t,r){var n,i;let a,o;const s={publisher:{url:e.url,ext:r.publisherExt},regs:{coppa:!0===r.coppa?1:!1===r.coppa?0:void 0},slots:t.map((e=>{a=e.params.networkId||a,o=e.schain||o;const t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(t.native=!0,checkNativeSendId(e)||(0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_8__.yN)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?t.sizes=parseSizes((0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.banner.sizes"),parseSize):t.sizes=[],hasVideoMediaType(e)){const r={playersizes:parseSizes((0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay},n=e.params.video;void 0!==n&&(r.skip=r.skip||n.skip||0,r.placement=r.placement||n.placement,r.minduration=r.minduration||n.minduration,r.playbackmethod=r.playbackmethod||n.playbackmethod,r.startdelay=r.startdelay||n.startdelay||0),t.video=r}return enrichSlotWithFloors(t,e),t}))};return a&&(s.publisher.networkid=a),o&&(s.source={ext:{schain:o}}),s.user=(null===(n=r.ortb2)||void 0===n?void 0:n.user)||{},s.site=(null===(i=r.ortb2)||void 0===i?void 0:i.site)||{},r&&r.ceh&&(s.user.ceh=r.ceh),r&&r.gdprConsent&&(s.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(s.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),s.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(s.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(s.user.uspIab=r.uspConsent),s}function parseSizes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return null==e?[]:Array.isArray(e[0])?e.map((e=>t(e))):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==(0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==(0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.native")}unction createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((e=>e.url))}}unction pickAvailableGetFloorFunc(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{const t=parseFloat(e.params.bidFloor);return()=>({currency:e.params.bidFloorCur,floor:t})}catch(e){}}function enrichSlotWithFloors(e,t){try{const a={},o=pickAvailableGetFloorFunc(t);if(o){var r,n,i;if(null!==(r=t.mediaTypes)&&void 0!==r&&r.banner){a.banner={};parseSizes((0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__.Z)(t,"mediaTypes.banner.sizes")).forEach((e=>a.banner[parseSize(e).toString()]=o.call(t,{size:e,mediaType:prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__.Mk})))}if(null!==(n=t.mediaTypes)&&void 0!==n&&n.video){a.video={};parseSizes((0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_10__.Z)(t,"mediaTypes.video.playerSize")).forEach((e=>a.video[parseSize(e).toString()]=o.call(t,{size:e,mediaType:prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__.pX})))}null!==(i=t.mediaTypes)&&void 0!==i&&i.native&&(a.native={},a.native["*"]=o.call(t,{size:"*",mediaType:prebid_js_src_mediaTypes__WEBPACK_IMPORTED_MODULE_2__.B5})),Object.keys(a).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:a}))}}catch(e){(0,prebid_js_src_utils__WEBPACK_IMPORTED_MODULE_8__.H)("Could not parse floors from Prebid: "+e)}}prebid_js_src_adapters_bidderFactory__WEBPACK_IMPORTED_MODULE_11__.dX)(spec)}}]); 