!"undefined"!=typeof window?window:this,;"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),jQuery,window);
(function($,window,undefined){'$:nomunge';var str_hashchange='hashchange',doc=document,fake_onhashchange,special=$.event.special,doc_mode=doc.documentMode,supports_onhashchange='on'+str_hashchange in window&&(doc_mode===undefined||doc_mode>7);$.fn[str_hashchange]=$.fn[str_hashchange].delay=50;special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){if(supports_onhashchange){return false;}
$(fake_onhashchange.start);},teardown:);fake_onhashchange=(function(){var self={},timeout_id,last_hash=get_fragment(),fn_retval=history_set=fn_retval,history_get=fn_retval;self.start=self.stop=$.browser.msie&&!supports_onhashchange&&(function(){var iframe,iframe_src;self.start=self.stop=fn_retval;history_get=function(){try{return get_fragment(iframe.location.href||"");}catch(e){return get_fragment("");}};history_set=})();return self;})();})(jQuery,this);
(function(){var mydlink={timer:{abort:function(timers){for(var t in timers){window.clearTimeout(timers[t]);}},core:{},clearCoreByType:function(type){if($mUtil.hasProperty(this.core,type)){for(var name in this.core[type]){this.clearCoreByName(type,name);}}},clearCoreByName:function(type,name){if($mUtil.hasProperty(this.core,type)){window.clearTimeout(this.core[type][name]);window.clearInterval(this.core[type][name]);}},setCoreTimeout:function(config){if('type'in config&&'name'in config&&'func'in config&&'time'in config){var type=config.type;var name=config.name;var func=config.func;var time=config.time;this.core[type]=this.core[type]||{};this.core[type][name]=window.setTimeout(func,time);}},setCoreInterval:function(config){if('type'in config&&'name'in config&&'func'in config&&'time'in config){var type=config.type;var name=config.name;var func=config.func;var time=config.time;this.core[type]=this.core[type]||{};this.core[type][name]=window.setInterval(func,time);}},page:{},clearAllPage:function(){for(var index in this.page){for(var name in this.page[index]){window.clearTimeout(this.page[index][name]);window.clearInterval(this.page[index][name]);}}},clearPage:function(){var device_list=$mDlist;var selected_index=$mDevice.selected_index;if($mUtil.hasProperty(device_list,selected_index)){for(var name in this.page[selected_index]){this.clearPageByName(name);}}},clearPageByName:function(name){var device_list=$mDlist;var selected_index=$mDevice.selected_index;if($mUtil.hasProperty(device_list,selected_index)){var dev=device_list[selected_index];if($mUtil.hasProperty(this.page[selected_index],name)){window.clearTimeout(this.page[selected_index][name]);window.clearInterval(this.page[selected_index][name]);}}},setPageInterval:function(config){if('name'in config&&'func'in config&&'time'in config){var name=config.name;var func=config.func;var time=config.time;var device_list=$mDlist;var selected_index=$mDevice.selected_index;if($mUtil.hasProperty(device_list,selected_index)){this.page[selected_index]=this.page[selected_index]||{};this.page[selected_index][name]=window.setInterval(func,time);}}},setPageTimeout:function(config){if('name'in config&&'func'in config&&'time'in config){var name=config.name;var func=config.func;var time=config.time;var device_list=$mDlist;var selected_index=$mDevice.selected_index;if($mUtil.hasProperty(device_list,selected_index)){var dev=device_list[selected_index];this.page[selected_index]=this.page[selected_index]||{};this.page[selected_index][name]=window.setTimeout(func,time);return true;}}
return false;}},ajax:{xhr:{page:[]},abortPage:function(){$.each(this.xhr.page,function(x,xhr){('readyState'in xhr)&&(4!==xhr.readyState)&&('abort'in xhr)&&xhr.abort();});},pageSend:function(config){return this.xhr.page.push=this.send(config);},send:,browser:{userAgent:navigator.userAgent,getMatchedVersion:function(objPattern){var aryMatches=objPattern.exec(this.userAgent.toLowerCase());if(aryMatches!=null){if(aryMatches.length<2)
return false;return parseFloat(aryMatches[1]);}
return false;},isIE:function(){var bolFirstTest=new RegExp("MSIE",'i').test(this.userAgent.toLowerCase());return(bolFirstTest===true)?bolFirstTest:new RegExp("Trident/.*rv:","i").test(this.userAgent.toLowerCase());},isEdge:isOpera:function(){return new RegExp("Opera|OPR",'i').test(this.userAgent.toLowerCase());},isWebkit:function(){return new RegExp("Webkit",'i').test(this.userAgent.toLowerCase());},isFirefox:function(){return new RegExp("Firefox",'i').test(this.userAgent.toLowerCase());},isChrome:function(){if(this.isOpera())return false;return new RegExp("Chrome",'i').test(this.userAgent.toLowerCase());},isSafari:function(){return new RegExp("Version/.*Safari",'i').test(this.userAgent.toLowerCase());},checkIE:function(){var objFirstMatch=this.getMatchedVersion(new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})","i"));return(objFirstMatch)?objFirstMatch:this.getMatchedVersion(new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})","i"));},checkFirefox:function(){return this.getMatchedVersion(new RegExp("Firefox/([0-9]{1,}[\.0-9]{0,})","i"));},checkChrome:function(){if(this.isOpera())return false;else return this.getMatchedVersion(new RegExp("Chrome/([0-9]{1,}[\.0-9]{0,})","i"));},checkSafari:checkOpera:function(){var objFirstMatch=this.getMatchedVersion(new RegExp("Opera/.*Versio/([0-9]{1,}[\.0-9]{0,})","i"));return(objFirstMatch)?objFirstMatch:this.getMatchedVersion(new RegExp("OPR/([0-9]{1,}[\.0-9]{0,})","i"));}},object:{obj_pool:{},config:null,waiting_cycle_time:500,timer:null,abort:function(){for(var id in this.obj_pool){var obj=this.obj_pool[id];$mUtil.hasProperty(obj,'timer')&&window.clearTimeout(obj.timer);}},onLoadActiveX:function(){},onLoadApplet:function(){},onReady:function(){},setOnLoadActiveX:function(f){$.isFunction(f)&&(this.onLoadActiveX=f);},setOnLoadApplet:function(f){$.isFunction(f)&&(this.onLoadApplet=f);},setOnReady:function(f){$.isFunction(f)&&(this.onReady=f);},ObjectElement:null,isApplet:null,isActiveX:null,id:'',init:load:function(config){this.init();var thisObj=this;var o=this.config=$.isPlainObject(config)?config:{};this.isActiveX=('activex'===o.type.toLowerCase());this.isApplet=('applet'===o.type.toLowerCase());var document=(o.parent&&$mUtil.isHTMLElement(o.parent))?$mDOM.getRootDocument(o.parent):window.document;o.param=$.isPlainObject(o.param)?o.param:{};o.attr=$.isPlainObject(o.attr)?o.attr:{};('undefined'!==$.type(o.width))&&(o.width=/^[1-9][0-9]*$/.test(o.width)?o.width+'px':o.width);('undefined'!==$.type(o.height))&&(o.height=/^[1-9][0-9]*$/.test(o.height)?o.height+'px':o.height);o.attr.id=o.id=this.config.id=this.config.id||("mydlink:object#"+(new Date()).getTime());if($('#'+o.id).length){return $mDdebug.appendLog("$mObject:object with this id("+o.id+") already exists, aborted.");}else{this.id='obj_'+(new Date()).getTime();$mDlog.log({id:this.id,mydlink_no:'-',state:'INSTALL_OBJECT',message:'[begin]['+o.type.toLowerCase()+']['+(this.isApplet?o.code:o.codeBase)+']'});var $obj=$(document.createElement(this.isApplet?'applet':'object'));o.hidden&&$obj.css({visibility:'hidden',position:'absolute'});o.width&&$obj.css({width:o.width});o.height&&$obj.css({height:o.height});if(this.isApplet){o.codeBase&&(o.param.codeBase=o.codeBase);o.archive&&(o.attr.archive=o.archive);o.code&&(o.attr.code=o.code);o.attr.name="mydlink plugin";}
$obj.attr(o.attr);if(o.param&&$.isPlainObject(o.param)){for(var name in o.param){$obj.append($(document.createElement('param')).attr({'name':name,'value':o.param[name]}));}}
if(!o.parent||!$mUtil.isHTMLElement(o.parent)){$obj.css({visibility:'hidden',top:'-1000px',left:'-1000px',position:'absolute'});}
if(this.isActiveX){try{$obj.get(0).attachEvent=function(handlerFuncName,handlerFunc){$mUtil.attachActiveXEvent(thisObj.config.id,handlerFuncName,handlerFunc);};$obj.get(0).detachEvent=}catch(e){$mDdebug.appendLog("$mObject:object can't override ActiveX attach event.",e.message);}}
if(!o.skipOnLoad){this.isActiveX&&this.onLoadActiveX&&$.isFunction(this.onLoadActiveX)&&this.onLoadActiveX.call($obj.get(0));this.isApplet&&this.onLoadApplet&&$.isFunction(this.onLoadApplet)&&this.onLoadApplet.call($obj.get(0));}
if($mBrowser.isFirefox()){o.parent.innerHTML+=$obj.get(0).outerHTML;}else{if(this.isActiveX&&$mBrowser.checkIE()>=11){              try{o.codeBase&&($obj.get(0).codeBase=o.codeBase+(o.version?"#version="+o.version:''));o.classID&&($obj.get(0).classid=o.classID);              }catch(e){}
          }
$(o.parent).append($obj.get(0));if(this.isActiveX&&$mBrowser.checkIE()<11){            try{              
o.codeBase&&($obj.get(0).codeBase=o.codeBase+(o.version?"#version="+o.version:''));o.classID&&($obj.get(0).classid=o.classID);            }catch(e){}
          }}
var thisObj=this.obj_pool[this.id]=$.extend(true,{},this);this.obj_pool[this.id].timer=setTimeout($.proxy(function(){this.ObjectElement=$mDOM.get.apply(document,[this.config.id]);this.check();},thisObj),this.isApplet?1000:0);document=null;}},check:function(){var thisObj=this;var callee=arguments.callee;if((this.isApplet&&$mUtil.hasProperty(this.ObjectElement,'isActive')&&this.ObjectElement.isActive())||(this.config.isReady&&$.isFunction(this.config.isReady)&&this.config.isReady.call(this.ObjectElement))){this.onReady&&$.isFunction(this.onReady)&&this.onReady();this.config.ready&&$.isFunction(this.config.ready)&&this.config.ready.call(this.ObjectElement);$mDlog.log({id:this.id,mydlink_no:'-',state:'Issage:'[installed]['+this.config.type+']['+(this.isApplet?this.config.code:this.config.codeBase)+']'});}else{return(this.timer=setTimeout(function(){callee.call(thisObj);},this.waiting_cycle_time));}},setParam:function(object,name,value){object&&$(object).find('param[name="'+name+'"]').attr('value',value);}},device:{selected_index:"",triggerOnDeviceStatusChanged:function(no,status){var no=no||'',status=status||'';$mDdebug.appendLog("$mDevice.onDeviceStatusChanged:["+no+"]["+status+"]");try{modCoreDevList.setDevStatus(no,status);}catch(e){$mDdebug.appendLog("$mDevice.onDeviceStatusChanged:can't set status to modCoreDevList");}},e!");$mTimer.clearCoreByType('device');try{modCoreWget.abortAll();}catch(e){}
$mDconnector.abort();},init:function(){$(window).bind("beforeunload unload",this.LeavePage);},isLeavePage:false,LeavePage:function(){if($mDevice.isLeavePage){return;}
$mDcanvas.triggerOnBeforeUnloadPage();$mDevice.isLeavePage=true;$mDevice.abort();},camera:{localViewSize:{width:640,height:480}},connector:{config:{},signal_addr:"",connections:{},connections_last:{},onConnect:function(){},onConnected:function(){},onConnBroken:function(){},onConnBrokenTimeout:function(){},onConnFailed:function(){},onRelayConnFull:function(){},onRelayRemainingTimeChange:function(t){},setOnConnect:function(f){$.isFunction(f)&&(this.onConnect=f);},setOnConnected:function(f){$.isFunction(f)&&(this.onConnected=f);},setOnConnBroken:function(f){$.isFunction(f)&&(this.onConnBroken=f);},setOnConnBrokenTimeout:function(f){$.isFunction(f)&&(this.onConnBrokenTimeout=f);},sesetOnR)&&(this.onRelayange:function(f){$.isFunction(f)&&(this.onRelayRemainingTimeChange=f);},retry:functioored_services:[],devConnEventsBind:{},getConnectionsHandler:null,abort:function(){this.is_aborted=true;if(this.getConnectionsHandler){this.getConnectionsHandler.abort();}},connect:function(config){this.onConnect();var thisObj=this;var callee=arguments.callee;if(!config||!$.isFunction(config.callbackSuccess)){return $mDdebug.appendLog('$mDconnector.connect:callbackSuccess error');}
this.config=config;this.callbackSuccess=config.callbackSuccess;this.mydlink_no=config.index;this.is_timeout=this.is_aborted=false;if(!config.isBrokenFromConnected){delete this.connections[this.mydlink_no];delete this.connections_last[this.mydlink_no];}
this.ignored_services=$.isArray(config.ignored_services)?config.ignored_services:[];var dev=modCoreDevList&&modCoreDevList.getDev(this.mydlink_no),arrServices=[];if(dev){if(-1===$.inArray('HTTP',this.ignored_services)){arrServices.push('http');}
if(dev.supportHttps()){(-1===$.inArray('HTTPS',this.ignored_services))&&arrServices.push('https');}
if(dev.isNvr()){(-1===$.inArray('LIVEVIEW',this.ignored_services))&&arrServices.push('liveview');(-1===$.inArray('PLAYBACK',this.ignored_services))&&arrServices.push('playback');}
if(dev.isNas()){(-1===$.inArray('LIVEVIEW',this.ignored_services))&&arrServices.push('liveview');(-1===$.inArray('PLAYBACK',this.ignored_services))&&arrServices.push('playback');(-1===$.inArray('CONFIG',this.ignored_services))&&arrServices.push('config');}
if(dev.isCamera()){(-1===$.inArray('IMG',this.ignored_services))&&arrServices.push('httpWithCredential');}
if(!this.devConnEventsBind[this.mydlink_no]){this.devConnEventsBind[this.mydlink_no]=true;dev.bind('disconnected',function(service){var mydlink_no=this.getId();if((-1===$.inArray(service,arrServices))||String(thisObj.mydlink_no)!==String(mydlink_no)||thisObj.is_timeout||thisObj.is_aborted){return;}
if(thisObj.connections[mydlink_no]){thisObj.connections_last[mydlink_no]=thisObj.connections[mydlink_no];thisObj.connections[mydlink_no]=null;thisObj.onConnBroken();thisObj.connect($.extend({},thisObj.config,{isBrokenFromConnected:true}));}});}
if(this.getConnectionsHandler){this.getConnectionsHandler.abort();}
this.getConnectionsHandler=dev.getConnections(arrServices,{timeout:this.timeout*1000,success:function(arrObjConns){var data={type:null,ip:null,port:{}};if(thisObj.is_timeout||thisObj.is_aborted){return;}
$.each(arrObjConns,function(index,objConn){if(/^http/.test(objConn.scheme)&&!data.type){data.type=(objConn.tunnel==='relay')?'tunnel':objConn.tunnel;data.ip=objConn.ip}
(objConn.service==='http')&&(data.port.http=objConn.port);(objConn.service==='https')&&(data.port.https=objConn.port);(objConn.service==='liveview')&&(data.port.liveview=objConn.port);(objConn.service==='playback')&&(data.port.playback=objConn.port);(objConn.service==='config')&&(data.port.config=objConn.port);(objConn.service==='httpWithCredential')&&(data.port.img=objConn.port);});thisObj.connections[thisObj.mydlink_no]=data;thisObj.onConnected();thisObj.callbackSuccess(data);},error:function(err){if(thisObj.is_timeout||thisObj.is_aborted){return;}
thisObj.is_timeout=true;if(err==="Relay Full"){thisObj.onRelayConnFull();}else if(thisObj.config.isBrokenFromConnected){thisObj.onConnBrokenTimeout();}else{thisObj.onConnFailed();}}});}}},debugWin:{id:'mydlink:debugWin',titlebar_id:'mydlink:debugWin_titlebar',log_msg_textarea_id:'mydlink:debugWin_log_msg',type_buffer:'',toggle_hotkey:'0266000123',isDebug:false,isDragable:false,document:window.document,setDoc:function(d){if(!$($mDOM.get(this.id),ent(d)&&(this.document=d);}else{this.appendLog("$mDdebug:debug window already initialized, setting new document is forbidden.");}ousedownTop:null,debugWin_mousedownLeft:null,mousedownX:0,mousedownY:0},is_log_scroll_locked:false,lockLogScroll:function(lock){this.is_log_scroll_locked=lock?true:false;},isInitial:function(){return!!$($mUtil.$id(this.id),this.document).get(0);},init:function(){if(!/^\/frontend_dev\.php/.test(window.location.pathname)){return false;}
if(this.isInitial())return;var doc=this.document;var toggle_scroll_lock_id=this.id+'-toggle-scroll-lock';$(doc.body).append($(doc.createElement('div')).attr({id:this.id}).css({'z-index':19999,'width':'650px','top':'-1000px','left':'-1000px','position':'absolute','visibility':'hidden','background-color':'#eeeeee','opacity':'0.9','filter':'alpha(opacity=90)','font-family':'tahoma','font-size':'12px'}).append($(doc.createElement('table')).attr({id:this.titlebar_id}).css({'background-color':'black','color':'white','width':'100%','cursor':'pointer','font-family':'tahoma','font-size':'12px'}).append($(doc.createElement('tbody')).append($(doc.createElement('tr')).append($(doc.createElement('td')).text('Debug Window for device'),$(doc.createElement('td')).text('[ x ]').css({'text-align':'right','width':'100px','font-family':'Arial','cursor':'pointer','text-a lign':'right','font-size':'15px','font-weight':'bolder'}).click(function(){$mDdebug.hide();})))),$(doc.createElement('div')).css({'height':'600px','ovnd($(doc.createElement('legend')).text('Log messages'),$('<div />').append($('<input type="checkbox"/>').click(function(e){$mDdebug.lockLogScroll($(this).is(':checked'));}).css('margin-right','3px').attr('id',toggle_scroll_lock_id),$('<label />').attr('for',toggle_scroll_lock_id).text('Scroll Lock')),$('<div />').append($('<label />').text('Change log level:').css('margin','0 5px 0 3px'),$('<input type="button" value="error" />').click(function(e){try{modCoreDebug.setLogLevel('error');$mDdebug.appendLog('Change log level: error');}catch(e){}}).css('margin','0 3px 3px 0'),$('<input type="button" value="warn" />').click(function(e){try{modCoreDebug.setLogLevel('warn');$mDdebug.appendLog('Change log level: warn');}catch(e){}}).css('margin','0 3px 3px 0'),$('<input type="button" value="info" />').click(function(e){try{modCoreDebug.setLogLevel('info');$mDdebug.appendLog('Change log level: info');}catch(e){}}).css('margin','0 3px 3px 0'),$('<input type="button" value="debug" />').click(function(e){try{modCoreDebug.setLogLevel('debug');$mDdebug.appendLog('Change log level: debug');}catch(e){}}).css('margin','0 3px 3px 0')),$(doc.createElement('textarea')).attr({id:this.log_msg_textarea_id,readonly:'readonly'}).css({'font-size':'12px','width':'600px','height':'200px'})))));$($mUtil.$id(this.titlebar_id)).get(0).onselectstart=function(){return false;};$(doc).keypress((function(thisObj){return function(e){thisObj.type_buffer+=String.fromCharCode(e.which);new RegExp('^.*'+$mDdebug.toggle_hotkey+'$').test(thisObj.type_buffer)&&thisObj.toggle();}})(this));try{modCoreDebug.bind('message',function(name,level,messages){$.each(messages,function(index,message){messages[index]=$.isPlainObject(message)?JSON.stringify(message):String(message);});this.appendLog("["+([name,level].concat(messages)).join("][")+"]");},this);}catch(e){}},show:function(){if(!this.isInitial())return false;var doc=this.document;$($mUtil.$id(this.id),doc).css({'visibility':'visible','top':'0px','left':'0px'});$($mUtil.$id(this.titlebar_id),doc).mousedown((function(thisObj){return function(e){var $debugWin=$($mUtil.$id(thisObj.id),thisObj.document);thisObj.isDragable=true;thisObj.debugWin_mousedownLeft=$debugWin.position().left;thisObj.debugWin_mousedownTop=$debugWin.position().top;thisObj.mousedownX=e.pageX;thisObj.mousedownY=e.pageY;$(this).css('cursor','move');return false;};})(this));$(doc).mousemove((function(thisObj){return function(e){if(thisObj.isDragable){var mouseOffsetX=e.pageX-thisObj.mousedownX;var mouseOffsetY=e.pageY-thisObj.mousedownY;var debugWin_new_top=thisObj.debugWin_mousedownTop+mouseOffsetY;var debugWin_new_left=thisObj.debugWin_mousedownLeft+mouseOffsetX;$($mUtil.$id(thisObj.id),thisObj.document).offset({top:debugWin_new_top<0?0:debugWin_new_top,left:debugWin_new_left<0?0:debugWin_new_left});}
return false;};})(this));$(doc).mouseup((function(thisObj){return function(e){$($mUtil.$id(thisObj.titlebar_id),thisObj.document).css({'cursor':'pointer'});thisObj.isDragable=false;return false;};})(this));try{modCoreDebug.setLogLevel('debug');$mDdebug.appendLog('Set default log level: debug');}catch(e){}},hide:function(){$($mUtil.$id(this.id),this.document).css({'visibility':'hidden','top':'-1000px','left':'-1000px'});try{modCoreDebug.setLogLevel('off');}catch(e){}},toggle:function(){'visible'===$($mUtil.$id(this.id),this.document).css('visibility')?this.hide():this.show();},appendLog:function(msg){if(!this.isInitial()){return false;}
var d=new Date(),h,m,s;(h=String(d.getHours()))&&(h=(1===h.length)?'0'+h:h);(m=String(d.getMinutes()))&&(m=(1===m.length)?'0'+m:m);(s=String(d.getSeconds()))&&(s=(1===s.length)?'0'+s:s);var time_str=[h,m,s].join(':');var logBox=$($mUtil.$id(this.log_msg_textarea_id),this.document).get(0);if(logBox){$(logBox).append(["[",time_str,"]",msg,"\r\n"].join(''));!this.is_log_scroll_locked&&$(logBox).scrollnID:null,prev_winID:null,content_loading_msg:'',show_win_delay_time:500,xhr:nullt',abort:function(){if(this.xhr){this.xhr.abort();}},setContentLoadingMsg:function(msg){this.content_loading_msg=msg;},setXHRtimeout:function(time){this.xhr_timeout=time;},postContent:function(config){if(!$.isPlainObject(config)){return false;}
var thisObj=this;var callee=arguments.callee;var retry=config.retry=config.retry||0;var url=$mUtil.hasProperty(config,'url')?config.url:'';var data=config.data||{};var $content=$($mDOM.get(this.contentID));$content.empty();this.show_progress(this.content_loading_msg,(function(thisObj,callee,url){return function(){callee.apply(thisObj,[url]);};})(this,arguments.callee,url));this.abort();this.xhr=$mAjax.send({type:"POST",url:url,timeout:this.xhr_timeout,cache:false,dataType:"html",success:function(data){$mDcanvas.show_content_win();$content.html(data);},error:function(jqXHR,textStatus,errorThrown){if('abort'!==textStatus){if(retry+retry+') => too many times\r\n'+url);thisObj.show_progress(thisObj.content_loading_msg,(function(thisObj,callee,config){return function(){callee.apply(thisObj,[config]);};})(thisObj,callee,config));}else{$mDdebug.appendLog('Post content fail('+retry+') => ['+textStatus+']'+errorThrown+'\r\n'+url);config.retry++;callee.apply(thisObj,[config]);}}}});},loadContent:function(url,retry,cache){var thisObj=this;var callee=arguments.callee;var retry=retry||0;var $content=$($mDOM.get(this.contentID));var cache=cache||false;$content.empty()r=$mAjax.send({type:"GET",url:url,timeout:this.xhr_timeout,cache:cache?true:false,dataType:"html",success:function(data){$mDcanvas.show_content_win();$content.html(data);},error:function(jqXHR,textStatus,errorThrown){var numStatus=jqXHR.status;if('error'===textStatus||12007===numStatus||12019===numStatus){$mDcanvas.show_win('win_device_unavailable');$('#win_device_unavailable #btnRefresh').off('click').on('click',function(){callee.apply(thisObj,[url,++retry,cache]);})
return;}
if('abort'!==textStatus){if(retry>=2){$mDdebug.appendLog('Load content fail('+retry+') => too many times\r\n'+url);thisObj.show_progress(thisObj.content_loading_msg,(function(thisObj,callee,url,cache){return function(){callee.apply(thisObj,[url,0,cache]);};})(thisObj,callee,url,cache));}else{$mDdebug.appendLog('Load content fail('+retry+') => ['+textStatus+']'+errorThrown+'\r\n'+url);callee.apply(thisObj,[url,++retry,cache]);}}}});},TabBox:{ID:'mydlinkTabBox',winID:'win_mydlinkTabBox',config:[],selected_index:null,show:function(){$($mDOM.get(this.ID)).css('display','block');$($mDOM.get(this.winID)).css('display','block');},hide:function(){$($mDOM.get(this.ID)).css('display','none');$($mDOM.get(this.winID)).css('display','none');},reset:function(){$mDcanvas.abort();this.render([]);this.selected_index=null;this.hide();},render:function(config){var thisObj=this;this.config=config||[];var $TabBox=$($mDOM.get(this.ID));$TabBox.empty();var target_url='';var m,tab=(m=(new RegExp("^[^/]+/([^/]+)/?")).exec($mHash.getHash()))&&m[1];var target_tab=0;$.each(config,function(t,c){if(!$.isPlainObject(c)){return;}
if(c.selected){target_tab=c;}else if(((m=/^tab(\d+)/.exec(tab))&&(t===parseInt(m[1],10)))||tab===c.alias){target_tab=c;return false;}});$.each(config,function(t,c){if(!$.isPlainObject(c)){return;}
var selected=(target_tab===0)?(t==0):(target_tab===c);var hash=$mDevice.selected_index+'/'+(c.alias||('tab'+t));var $tab=$(document.createElement('div'));var text=c.arget_url=url;$tab.addClass('selected').text(text);}else{var $a=$('<a />')(){return $mDcanvas.triggerOnBeforeUnloadPage();});$tab.append($a);}
$mHash.setHandler(hash,(function(thisObj,index){return function(){thisObj.select(index);return false;};})(thisObj,t));$TabBox.append($tab);});if(target_url){$mDcanvas.loadContent(target_url,0,true);}},select:function(target_index){if($mUtil.isNumber(target_index)){var selected_index=this.selected_index;if((null===selected_index||target_index!=selected_index)&&this.config[target_index]){$mObject.abort();$mDevice.abort();$mDcanvas.abort();$mTimer.clearPage();$mAjax.abortPage();$mDcanvas.triggerOnBeforeUnloadPage();$mLightbox.hide();if(this.config[selected_index]){this.config[selected_index].selected=false;}
this.config[target_index].selected=true;this.render(this.config);}}}},show_progress:function(str,retry_handler){str="undefined"!==typeof(str)?str:'';$($mDOM.get('span_progress_msg')).html(str);if("undefined"!==typeof(retry_handler)){$($mDOM.get('btn_progress_retry')).unbind('click').click(retry_handler).css('display','block');$mDOM.get('btn_progress_retry').style.display='';}else{$($mDOM.get('btn_progress_retry')).unbind('click').css('display','none');}
this.show_win('win_progress');},show_win:function(id){if($mDOM.get(id)){if(id!=$mDcanvas.curr_winID){if($mDOM.get(this.curr_winID)){$($mDOM.get(this.curr_winID)).css({'z-index':'-1','visibility':'hidden','position':'absolute','top':'-1000px','left':'-1000px'});}
this.prev_winID=this.curr_winID;this.curr_winID=id;$($mDOM.get(this.curr_winID)).css({'display':'block','z','left':'0px'});}}},show_content_win:function()tID);},show_prev_win:function(){this.prev_winID&&this.show_win(this.prev_winID);},onbeforeunloadPage:null,clearOnBeforeUnloadPage:function(){this.onbeforeunloadPage=null;},setOnBeforeUnloadPage:function(func){if('function'===typeof(func)){this.onbeforeunloadPage=func;}},triggerOnBeforeUnloadPage:function(){var do_leave=true;try{if($.isFunction(this.onbeforeunloadPage)){do_leave=this.onbeforeunloadPage();}
return do_leave;}finally{if(false!==do_leave){try{modMydevice.saveOrder(true);}cbug.appendLog(e.message);}
this.onbeforeunloadPage=null;$mDconnector.onConnBroken=function(){};$mDconnector.onRelayRemainingTimeChange=function(){};}}}},ready:function(){},log:{type:1,url:"/tssm/tssml.php",type2NO:{"8D":0,"LV":1,"IPHONE":2,"ANDROID":3},state2NO:{"START_PAGE":0,"DCP_INSTALLED":1,"CONNECTION_BEGIN":2,"CONNECTION_END":3,"TSA_INSTALLED":4,"LEAVE_DEVICE":5,"TSSM_W":6,"TSSM_INPUT":7,"TSSM_G":8,"TSSM_CONNECT1":9,"TSSM_CONNECT2":10,"INSTALL_OBJECT":11},status2NO:{"FAILED":0,"SUCCESS":1},ctype2NO:{"LOCAL":1,"UPNP":2,"STUNT":3,"RELAY":4},setType:function(type){if($mUtil.hasProperty(this.type2NO,String(type).toUpperCase())){this.type=this.type2NO[String(type).toUpperCase()];}},log:function(data){if(!/\.mydlink\.com$/.test(window.location.hostname)||!data||!$mUtil.hasProperty(data,'id')||!$mUtil.hasProperty(data,'mydlink_no')){return false;}
var param={"id":data.id,"no":data.mydlink_no,"type":this.type,"state":$mUtil.hasProperty(this.state2NO,String(data.state).toUpperCase())?this.state2NO[String(data.state).toUpperCase()]:"","status":$mUtil.hasProperty(this.status2NO,String(data.status).toUpperCase())?this.status2NO[String(data.status).toUpperCase()]:"","ctype":$mUtil.hasProperty(this.ctype2NO,String(data.ctype).toUpperCase())?this.ctype2NO[String(data.ctype).toUpperer":encodeURI($mBrowser.userAgent),"message":data.message||""};$.ajax({type:"GET",url:this.url,timeout:1000,cache:false,dataType:"html",data:param,success:function(data){}});}},supportNotification:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return((-1!==$.inArray(5,features))||(-1!==$.inArray(28,features)));}
return false;},supportSMTPNotifycationOnly:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return((-1==$.inArray(5,features))&&(-1!==$.inArray(28,features)));}
return false;},supportEventNotifycationOnly:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return((-1!==$.inArray(5,features))&&(-1==$.inArray(28,features)));}
return false;},support2wayBoth:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return((-1!==$.inArray(10,features))&&(-1!==$.inArray(20,features)));}
return false;},supportSDCard:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return(-1!==$.inArray(9,features));}
return false;},supportPrivacyMode:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return(-1!==$.inArray(38,features));}
return false;},supportWirelessOnly:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return((-1!==$.inArray(24,features))&&(-1==$.inArray(29,features)));}
return false;},isbabyCam:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return(-1!==$.inArray(19,features));}
return false;},supportPortalInfo:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return(-1!==$.inArray(31,features));}
return false;},supportMotionDetection:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return(-1!==$.inArray(7,features));}
return false;},supportSoundDetection:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return(-1!==$.inArray(11,features));}
return false;},supportThermalDetection:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return(-1!==$.inArray(18,features));}
return false;},supportSpeaker:function(no){var features=$mDlist[no]&&$.isArray($mDlist[no].features)?$mDlist[no].features:null;if(features){return(-1!==$.inArray(26,features));}
return false;}},util:{getPageSize:function(){var xScroll,yScroll;if(window.innerHeight&&window.scrollMaxY){xScroll=window.innerWidth+window.scrollMaxX;yScroll=window.innerHeight+window.scrollMaxY;}else if(document.body.scrollHeight>document.body.offsetHeight){xScroll=document.body.scrollWidth;yScroll=document.body.scrollHeight;if(yScroll<document.documentElement.scrollHeight){yScroll=document.documentElement.scrollHeight;}}else{xScroll=document.body.offsetWidth;yScroll=document.body.offsetHeight;if(yScroll<document.documentElement.scrollHeight){yScroll=document.documentElement.scrollHeight;}}
var windowWidth,windowHeight;if(self.innerHeight){if(document.documentElement.clientWidth){windowWidth=document.documentElement.clientWidth;}else{windowWidth=self.innerWidth;}
windowHeight=self.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){windowWidth=document.documentElement.clientWidth;windowHeight=document.documentElement.clientHeight;}else if(document.body){windowWidth=document.body.clientWidth;windowHeight=document.body.clientHeight;}
if(yScroll<windowHeight){pageHeight=windowHeight;}else{pageHeight=yScroll;}
if(xScroll<windowWidth){pageWidth=windowWidth;}else{pageWidth=xScroll;}
arrayPageSize=new Array(pageWidth,pageHeight,windowWidth,windowHeight);return arrayPageSize;},getMouseCoor:function(e){var document=$mUtil.isHTMLDocument(this)?this:window.document;var e=e||document.parentWindow.event;var mouseX=0;var mouseY=0;if("undefined"!==typeof(e.pageX)){mouseX=e.pageX;mouseY=e.pageY;}else if("undefined"!==typeof(e.clientX)){mouseX=e.clientX+document.body.scrollLeft-document.body.clientLeft;mouseY=e.clientY+document.body.scrollTop-document.body.clientTop;}
return{x:mouseX,y:mouseY};},getBytes:function(str)
{var cArr=str.match(/[^\x00-\xff]/ig);return str.length+(null===cArr?0:cArr.length);},obj_dump:function(obj){String.prototype.repeat=function(length){for(var s=0,str='';s<length;s++){str+=this;}
return str;};var i=arguments[1]?arguments[1]+1:1;var str="";str+="{\n";for(var a in obj){str+=[" ee.i--;return str;},verifyIP:function(ip){var patIP=/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;return patIP.test(ip);},hasProper(e){return false;}},getProperty:function(obj,p){return(this.hasProperty(obj)&&obj[p]);},isRegExp:function(r){return Object.protot{return('f){retur;for(var :function(o){return o&&'object'===typeof(o);},isArray:function(a){return this.isObject(a)&&this.hasProperty(a,'length');},isString:function(s){return'string'===typeof(s);},isHTMLElement:function(e){return($mUtil.isObject(e)&&$mUtil.hasProperty(e,'nodeType')&&1==e.nodeType);},isHTMLDocument:function(e){return($mUtil.hasProperty(e,'nodeName')&&'#document'===e.nodeName.toLowerCase());},trim:function(s){return this.isString(s)&&s.replace(/^\s*([\S\s]*?)\s*$/,'$1');},cLog:function(s){return($mUtil.hasProperty(window,'console')&&$mUtil.hasProperty(console,'log')&&console.log(s));},$id:function(id){return id?'#'+String(id).replace(/(:|\.)/g,'\\$1'):'';},isXML:function(xml){xml=String($mUtil.trim(xml));if(xml&&('<'===xml.charAt(0))&&('>'===xml.charAt(xml.length-1))){try{$.parseXML(xml);return true;}catch(e){}}
return false;},getFuncParams:function(f){if($mUtil.isFunction(f)){var fStr=f.toString();return fStr.slice(fStr.indexOf('(')+1,fStr.indexOf(')')).match(/([^\s,]+)/g);}
return null;},getFuncBody:function(f){if($mUtil.isFunction(f)){var fStr=f.toString();return fStr.substring(fStr.indexOf("{")+1,fStr.lastIndexOf("}"));}
return'';},attachActiveXEvent:function(elemId,handlerFuncName,handlerFunc){if(!document.getElementById(handlerFuncName)&&$mUtil.isFunction(handlerFunc)){if($mBrowser.checkIE()<8){document.getElementById(elemId).attachEvent(handlerFuncName,handlerFunc);}else{var fParams=$mUtil.getFuncParams(handlerFunc),fBody=$mUtil.getFuncBody(handlerFunc),s=document.createElement('script');s.setAttribute('id',handlerFuncName);s.setAttribute('for',elemId);s.setAttribute('event',handlerFuncName+'('+((!fParams)?'':fParams.join(','))+')');s.text=fBody;document.body.appendChild(s);}}},detachActiveXEvent:function(elemId,handlerFuncName,handlerFunc){if(document.getElementById(handlerFuncName)&&$mUtil.isFunction(handlerFunc)){if($mBrowser.checkIE()<8){document.getElementById(elemId).detachEvent(handlerFuncName,handlerFunc);}else{var elm;(elm=document.getElementById(handlerFuncName)).parentNode.removeChild(elm);}}},genNoCacheLink:function(objLink){var qs=objLink.search;if(!qs||/^\?(.*&)?nocache=\d+(.*)/i.test(qs)==false){var qt='nocache='+(new Date()).getTime();objLink.href=objLink.pathname+
(qs?(qs+'&'+qt):'?'+qt)+
objLink.hash;}
return true;}},temp:{set:function(name,value){var device_list=$mDlist;var selected_index=$mDevice.selected_index;if($mUtil.hasProperty(device_list,selected_index)){var dev=device_list[selected_index];var mydlink_no=selected_index;this[mydlink_no]=this[mydlink_no]||{};this[mydlink_no][name]=value;return value;}
return false;},get:function(name){var device_list=$mDlist;var selected_index=$mDevice.selected_index;if($mUtil.hasProperty(device_list,selected_index)){var dev=device_list[selected_index];var mydlink_no=selected_index;if($mUtil.hasProperty(this,mydlink_no)&&$mUtil.hasProperty(this[mydlink_no],name)){return this[mydlink_no][name];}}
return false;},clean:function(){for(var p in this){if('function'!==typeof(this[p])){delete this[p];}}}},lightbox:{id:'mydlink:lbox',bgID:'mydlink:lbox_bg',contentID:'mydlink:lbox_content',lboxStyle:'',show_with_content:function(content){if(!$mDOM.get(this.id)){this.create_lbox();}
$mDOM.get(this.contentID).innerHTML=content;$mDOM.get(this.id).style.display="block";$mDOM.get(this.bgID).style.display="block";},adjust:function(e){var lbox=$mDOM.get(this.id);var lbox_bg=$mDOM.get(this.bgID);var lbox_bg_iframe=$(lbox_bg).find('iframe').get(0);var lbox_content=$mDOM.get(this.contentID);if(!lbox||!lbox_bg||!lbox_content){return false;}
if($mBrowser.isIE()&&($.browser.version>='6')&&($.browser.version<'8')){$(window).scrollTop(0);$(window).scrollLeft(0);}
$([lbox_bg,lbox_bg_iframe]).css({'top':'0px','height':$mUtil.getPageSize()[1]+"px"});lbox=lbox_bg=lbox_bg_iframe=lbox_content=null;},show:function(id){if(!$mDOM.get(this.id)){this.create_lbox();}
var thisObj=this;var lbox=$mDOM.get(this.id);var lbox_bg=$mDOM.get(this.bgID);var lbox_content=$mDOM.get(this.contentID);if(!lbox||!lbox_bg||!lbox_content){return false;}
if(!$mBrowser.isFirefox()){if($mBrowser.isIE()){var elems
if(elems=document.getElementsByTagName('html')){$mDOM.css.set(elems[0],'overflow','hidden');elems=null;}}
$mDOM.css.set(document.body,'overflow','hidden');}
for(var c=0;c<lbox_content.childNodes.length;c++){$mDOM.css.set(lbox_content.childNodes[c],'display','none');lbox_bg.appendChild(lbox_content.childNodes[c]);}
var contentElement=$mDOM.get(id);if(contentElement){$mDOM.css.set(contentElement,'display','block');$mDOM.css.set(contentElement,'visibility','visible');$mDOM.css.set(contentElement,'top','');$mDOM.css.set(contentElement,'left','');$mDOM.css.set(contentElement,'posChild(contentElement);}
$([lbox,lbox_bg]).css('display','block');$([lbox,lbox_bg]).css('visibility','visible');this.adjust();$(window).resize(function(){thisObj.adjust();});lbox=lbox_bg=lbox_content=null;},hide:function(){var lbox=$mDOM.get(this.id);var lbox_bg=$mDOM.get(this.bgID);if(!$mBrowser.isFirefox()){$mDOM.css.set(document.body,'overflow','');if($mBrowser.isIE()){var elems
if(elems=document.getElementsByTagName('html')){$mDOM.css.set(elems[0],'overflow','');elems=null;}}else if($mBrowser.isOpera()){$mDOM.css.set(document.body,'overflow','auto');}}
$([lbox,lbox_bg]).css({'display':'none'});lbox=lbox_bg=null;},create_lbox:function(){if(document){var fragment=document.createDocumentFragment();if(!$mDOM.get(this.bgID)){var div1=$mDOM.createElement({tag:'div',id:this.bgID,style:'z-index:9999990;display:none;position:fixed;_position:absolute;filter:alpha(opacity=70);-moz-opacity:.70;opacity:.70;top:0;left:0;width:100%;height:100%;background-color:#000'});var iframe=$mDOM.createElement({tag:'iframe',attr:{src:'javascript:false',marginwidth:'0',marginheight:'0',align:'bottom',scrolling:'no',frameborder:'no',bgco00%;height:100%;position:fixed;_position:absolute;left:0;top:0px;display:block;filter:alpha(opacity=0.8);-moz-opacity: 0.80;opacity: 0.8',onclick:function(){return false;}});div1.appendChild(iframe);iframe=null;fragment.appendChild(div1);}
if(!$mDOM.get(this.id)){var div2=$mDOM.createElement({tag:'div',id:this.id,style:'z-index:9999991;display:none;top:0;left:0;position:fixed;_position:absolute;width:100%;height:100%'});var table1=$mDOM.createElement({tag:'table',attr:{border:0,width:'100%',height:'100%'}});var tbody1=$mDOM.createElement({tag:'tbody'});var tr1=$mDOM.createElement({tag:'tr'});var td1=$mDOM.createElement({tag:'td',attr:{align:'center'},style:'vertical-align:middle'});var table2=$mDOM.createElement({tag:'table',attr:{border:0},style:'margin: 0px 0px'});var tbody2=$mDOM.createElement({tag:'tbody'});var tr2=$mDOM.createElement({tag:'tr'});var td2=$mDOM.createElement({tag:'td',attr:{align:'left'},style:this.lboxStyle});var div3=$mDOM.createElement({tag:'div',style:'margin: 0px 0px'});var div4=$mDOM.createElement({tag:'div',id:this.contentID});div3.appendChild(div4);div4=null;td2.appendChild(div3);div3=null;tr2.appendChild(td2);td2=null;tbody2.appendChild(tr2);tr2=null;table2.appendChild(tbody2);tbody2=null;td1.appendChild(table2);table2=null;tr1.appendChild(td1);td1=null;tbody1.appendChild(tr1);tr1=null;table1.appendChild(tbody1);tbody1=null;div2.appendChild(table1);table1=null;fragment.appendChild(div2);div2=null;}
document.body.appendChild(fragment);fragment=null;}}},dom:{getRootDocument:function(e){while(e&&e.nodeType!=9){e=e.parentNode;}
try{return e;}finally{e=null;}},removeChildById:function(node,id){if($mUtil.isString(id)){for(var c=0;c<node.childNodes.length;c++){if(node.childNodes[c].id===id){return $mDOM.removeNode(node.childNodes[c]);}}}},removeNode:function(e){if(e){var parent=e.parentNode;if(parent){e.parentNode.removeChild(e);}
e=null;}},empty:function(e){if($mUtil.isHTMLElement(e)){for(var c=0;c<e.childNodes.length;c++){$mDOM.removeNode(e.childNodes[c]);}
e=null;}},get:function(id){var document=$mUtil.isHTMLDocument(this)?this:window.document;return $mUtil.isString(id)&&document.getElementById(id);},createText:function(str){var document=$mUtil.isHTMLDocument(this)?this:window.document;if($mUtil.isString(str)){return document.createTextNode(str);}},createElement:function(config){var document=$mUtil.isHTMLDocument(this)?this:window.document;if($mUtil.isObject(config)&&$mUtil.hasProperty(config,'tag')){var e=document.createElement(config.tag);e.id=config.id||'';config.attr=$mUtil.isObject(config.attr)?config.attr:{};for(var a in config.attr){e.setAttribute(a,config.attr[a]);}
$mDOM.css.set(e,config.style);try{return e;}finally{e=null;}}},css:{get:function(e,property){if($mUtil.isHTMLElement(e)&&$mUtil.isString(property)){var m,pat=new RegExp(property+'\\s*:\\s*([^:;]+)','i');if(m=e.style.cssText.match(pat)){e=null;return $mUtil.trim(m[1]);}}
return false;},set:function(){var e=arguments[0];if($mUtil.isHTMLElement(e)&&($mUtil.isString(arguments[1])||$mUtil.isObject(arguments[1]))){switch(arguments.length){case 2:var css_config=arguments[1];if($mUtil.isString(css_config)){if($mBrowser.isIE()){e.style.cssText=css_config;}else{var m1,m2;var pat_g=/([^:;]+):([^:;]+)/g;var pat=new RegExp(pat_g.source);if(m1=css_config.match(pat_g)){for(var s=0;s<m1.length;s++){if(m2=pat.exec($mUtil.trim(m1[s]))){var property=$mUtil.trim(m2[1]);var value=$mUtil.trim(m2[2]);e.style.setProperty(property,value,null);}}}}}else if($mUtil.isObject(css_config)){var cssText4ie='';for(var property in css_config){var value=css_config[property];if($mBrowser.isIE()){cssText4ie+=property+':'+value+';';}else{e.style.setProperty(property,value,null);}}
if($mBrowser.isIE()){e.style.cssText=cssText4ie;}}
break;case 3:var property=$mUtil.trim(arguments[1]);var value=$mUtil.trim(arguments[2]);if($mBrowser.isIE()){var pat=new RegExp(property+'\\s*:\\s*[^:;]+','i');if(pat.test(e.style.cssText)){e.style.cssText=e.style.cssText.replace(pat,property+':'+value);}else{var cssText=e.style.cssText;e.style.cssText=cssText+';'+property+':'+value+';';}}else{e.style.setProperty(property,value,null);}
break;}
e=null;}}}},hash:{hashHandlers:{},setHandler:function(hash,handler){$.isFunction(handler)&&(this.hashHandlers[hash]=handler);},onHashChange:function(){var hash=$mHash.getHash();$mUtil.hasProperty($mHash.hashHand)&&$mHash.hashHandlers[hash]();},hasHash:function(hash){return hash&&$mUtil.hasProperty(this.hashHandlers,hash);},getHash:function(){return location.hash.replace(/#/,'');}}};window.$m=window.$m||mydlink;window.$mUtil=window.$m.util;window.$mObject=window.$m.object;window.$mDevice=window.$m.device;window.$mDlist=window.$m.device.device_list;window.$mDconnector=window.$mDevice.connector;window.$mDOM=window.$m.dom;window.$mTimer=window.$m.timer;window.$mBrowser=window.$m.browser;window.$mLightbox=window.$m.lightbox;window.$mDdebug=window.$m.device.debugWin;window.$mAjax=window.$m.ajax;window.$mTemp=window.$m.temp;window.$mDcanvas=window.$m.device.canvas;window.$mDlog=window.$m.device.log;window.$mHash=window.$m.hash;if($&&$mUtil.hasProperty($,'fn')&&$mUtil.hasProperty($.fn,'hashchange')){$(window).hashchange($mHash.onHashChange);$(document).ready(function($){$('a[href^=\\#]').click(function(4;}elseode(chr1);if(ode((c&63)|12c&31)<<6)|(c2&63));i+=2;}
else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<1).ready(function(){function show_language_menu(e){$('#language_menu').show();e.stopPropagation();return false;}
function hide_language_menu(e){$('#language_menu').hide();}
$('#language_menu li a').click(function(e){var lang=$(this).attr('lang');if(window.location.search){var pat_lang=/([?&]lang=)([^&#]+)/;if(pat_lang.test(window.location.href)){window.location.href=window.location.search.replace(pat_lang,"$1"+lang)+window.location.hash;}else{window.location.href=window.location.search+'&lang='+lang+window.location.hash;}}else{window.location.href='?lang='+lang+window.location.hash;}
return false;});$('#Lang').click(show_language_menu);$(document.body).click(hide_language_menu);$('.lang_switch_panel').css({visibility:'hidden',display:'block'});var intFixPanelwidth=$('.lang_switch_panel').outerWidth(true);var intFixPanelHeight=$('.lang_switch_panel').height();var intLIHeight=$('.lang_switch a:first').height();$('.lang_switch_panel').css({visibility:'visible',display:'none'});var intBaseWidth=$('.footer_btmline').outerWidth();var intPanelHeight=intLIHeight*$('#language_menu li').size();var intPanelTop=(intPanelHeight<intFixPanelHeight)?-(intPanelHeight):-(intFixPanelHeight);$('.lang_switch_panel').css('top',intPanelTop);(intFixPanelwidth<intBaseWidth)&&$('.lang_switch_panel').css('width',intBaseWidth);});
function truste_error(img,code){img.src='/css/images/basic_icon/transparent.gif';img.className='truste_seal_'+code;}