var __webpack_modules__=[(e,t,i)=>{i.d(t,{$:()=>Pe,A:()=>C,B:()=>A,C:()=>Ne,D:()=>he,E:()=>$,F:()=>z,G:()=>j,H:()=>Me,I:()=>Ae,J:()=>xe,K:()=>de,L:()=>ue,M:()=>me,N:()=>je,O:()=>Ie,P:()=>Ve,Q:()=>Z,R:()=>ie,S:()=>ne,T:()=>ae,U:()=>Q,V:()=>ve,W:()=>$e,X:()=>ee,Y:()=>te,Z:()=>De,_:()=>Y,a:()=>re,ab:()=>G,b:()=>se,bb:()=>L,c:()=>T,cb:()=>F,d:()=>tt,db:()=>V,e:()=>Ke,eb:()=>Ze,f:()=>pe,fb:()=>Je,g:()=>ke,gb:()=>U,h:()=>Fe,hb:()=>N,i:()=>qe,ib:()=>M,j:()=>oe,jb:()=>P,k:()=>be,kb:()=>He,l:()=>Qe,lb:()=>Le,m:()=>K,mb:()=>W,n:()=>Te,nb:()=>Ce,o:()=>Xe,ob:()=>Se,p:()=>Oe,pb:()=>Ye,q:()=>ge,qb:()=>et,r:()=>We,rb:()=>we,s:()=>k,sb:()=>Ee,t:()=>O,tb:()=>B,u:()=>ye,ub:()=>ce,v:()=>_e,vb:()=>fe,w:()=>Ue,wb:()=>ze,x:()=>Be,y:()=>X,z:()=>Re});var a=i(2),n=i(73),r=i.n(n),o=i(4),s=i(6),d=i(12),l=i(11),c="String",p="Function",u="Number",m="Object",b="Boolean",f=Object.prototype.toString;let g,y=Boolean(window.console),h=Boolean(y&&window.console.log),_=Boolean(y&&window.console.info),v=Boolean(y&&window.console.warn),I=Boolean(y&&window.console.error);const w=(0,l.a)();function T(e){g=e}function x(...e){null!=g&&g(...e)}const D={checkCookieSupport:ke,createTrackPixelIframeHtml:function(e,t=!0,i=""){return e?(t&&(e=encodeURI(e)),i&&(i=`sandbox="${i}"`),`<iframe ${i} id="${A()}"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="${e}">\n    </iframe>`):""},getWindowSelf:z,getWindowTop:j,getWindowLocation:$,insertUserSyncIframe:me,insertElement:de,isFn:Q,triggerPixel:ce,logError:G,logWarn:V,logMessage:F,logInfo:L,parseQS:Ge,formatQS:We,deepEqual:Xe};let S={};function C(){return S}var E,R=(E=0,function(){return++E});function A(){return R()+Math.random().toString(16).substr(2)}function k(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,k)}function O(e,t){return t?.[e]||""}function M(e){let t="";for(var i in e)e.hasOwnProperty(i)&&(t+=i+"="+encodeURIComponent(e[i])+"&");return t=t.replace(/&$/,""),t}function B(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"):""}function P(e){return"string"==typeof e?e.split(",").filter((e=>e.match(/^(\d)+x(\d)+$/i))):"object"==typeof e?2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[N(e)]:e.map(N):[]}function N(e){if(q(e))return e[0]+"x"+e[1]}function U(e){if(q(e))return{w:e[0],h:e[1]}}function q(e){return Z(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function j(){return window.top}function z(){return window.self}function $(){return window.location}function F(){K()&&h&&console.log.apply(console,H(arguments,"MESSAGE:"))}function L(){K()&&_&&console.info.apply(console,H(arguments,"INFO:"))}function V(){K()&&v&&console.warn.apply(console,H(arguments,"WARNING:")),x(s.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments})}function G(){K()&&I&&console.error.apply(console,H(arguments,"ERROR:")),x(s.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments})}function W(e){function t(t){return function(...i){t(e,...i)}}return{logError:t(G),logWarn:t(V),logMessage:t(F),logInfo:t(L)}}function H(e,t){e=[].slice.call(e);let i=a.config.getCurrentBidder();return t&&e.unshift(t),i&&e.unshift(n("#aaa")),e.unshift(n("#3b88c3")),e.unshift("%cPrebid"+(i?`%c${i}`:"")),e;function n(e){return`display: inline-block; color: #fff; background: ${e}; padding: 1px 4px; border-radius: 3px;`}}function K(){return!!a.config.getConfig("debug")}function X(e){return Ge($().search)[e]||""}function J(e,t){return f.call(e)==="[object "+t+"]"}function Q(e){return J(e,p)}function Y(e){return J(e,c)}const Z=Array.isArray.bind(Array);function ee(e){return J(e,u)}function te(e){return J(e,m)}function ie(e){return J(e,b)}function ae(e){return!e||(Z(e)||Y(e)?!(e.length>0):Object.keys(e).length<=0)}function ne(e){return Y(e)&&(!e||0===e.length)}function re(e,t){if(Q(e?.forEach))return e.forEach(t,this);Object.entries(e||{}).forEach((([e,i])=>t.call(this,i,e)))}function oe(e,t){return Q(e?.includes)&&e.includes(t)}function se(e,t){return Q(e?.map)?e.map(t):Object.entries(e||{}).map((([i,a])=>t(a,i,e)))}function de(e,t,i,a){let n;t=t||document,n=i?t.getElementsByTagName(i):t.getElementsByTagName("head");try{if(n=n.length?n:t.getElementsByTagName("body"),n.length){n=n[0];let t=a?null:n.firstChild;return n.insertBefore(e,t)}}catch(e){}}function le(e,t){let i=null;return new d.a((a=>{const n=function(){e.removeEventListener("load",n),e.removeEventListener("error",n),null!=i&&window.clearTimeout(i),a()};e.addEventListener("load",n),e.addEventListener("error",n),null!=t&&(i=window.setTimeout(n,t))}))}function ce(e,t,i){const a=new Image;t&&D.isFn(t)&&le(a,i).then(t),a.src=e}function pe({source:e,burl:t}){e===s.S2S.SRC&&t&&D.triggerPixel(t)}function ue(e){if(!e)return;const t=((i=document.createElement("iframe")).id=A(),i.height=0,i.width=0,i.border="0px",i.hspace="0",i.vspace="0",i.marginWidth="0",i.marginHeight="0",i.style.border="0",i.scrolling="no",i.frameBorder="0",i.src="about:blank",i.style.display="none",i.style.height="0px",i.style.width="0px",i.allowtransparency="true",i);var i,a;D.insertElement(t,document,"body"),(a=t.contentWindow.document).open(),a.write(e),a.close()}function me(e,t,i){let a=D.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),n=document.createElement("div");n.innerHTML=a;let r=n.firstChild;t&&D.isFn(t)&&le(r,i).then(t),D.insertElement(r,document,"html",!0)}function be(e){if(!e)return"";let t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>',t}function fe(e,t,i){return i.indexOf(e)===t}function ge(e,t){return e.concat(t)}function ye(e,t){if(e)return t.flatMap((e=>e.bids)).find((t=>["bidId","adId","bid_id"].some((i=>t[i]===e))))}function he(e,t){return e[t]}function _e(e=w.adUnits){return e.map((e=>e.bids.map((e=>e.bidder)).reduce(ge,[]))).reduce(ge,[]).filter((e=>void 0!==e)).filter(fe)}function ve(){if(window.googletag&&Q(window.googletag.pubads)&&Q(window.googletag.pubads().getSlots))return!0}function Ie(){if(window.apntag&&Q(window.apntag.getTag))return!0}function we(e){let t=e.length;for(;t>0;){let i=Math.floor(Math.random()*t);t--;let a=e[t];e[t]=e[i],e[i]=a}return e}function Te(e){return r()(e)}function xe(){try{return D.getWindowSelf()!==D.getWindowTop()}catch(e){return!0}}function De(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Se(e,t){if(e)return Object.entries(t).reduce(((e,[t,i])=>e.replace(new RegExp("\\$\\{"+t+"\\}","g"),i||"")),e)}function Ce(e,t){return Se(e,{AUCTION_PRICE:t})}function Ee(){return(new Date).getTime()}function Re(){return window.performance&&window.performance.now&&window.performance.now()||0}function Ae(){return!1!==a.config.getConfig("deviceAccess")}function ke(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Oe(e,t){if(t<1)throw new Error(`numRequiredCalls must be a positive number. Got ${t}`);let i=0;return function(){i++,i===t&&e.apply(this,arguments)}}function Me(e,t){return e.reduce((function(e,i){return(e[i[t]]=e[i[t]]||[]).push(i),e}),{})}function Be(e,t){return t.filter((t=>e[t])).reduce(((t,i)=>Object.assign(t,{[i]:e[i]})),{})}function Pe(e){const t=["banner","native","video"];return!!Object.keys(e).every((e=>(0,o.c)(t,e)))&&(!e.video||!e.video.context||(0,o.c)(["instream","outstream","adpod"],e.video.context))}function Ne(e,t,i){return e.filter((e=>e.code===t)).flatMap((e=>e.bids)).filter((e=>e.bidder===i)).map((e=>e.params||{}))}function Ue(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}const qe=(e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t;function je(e){return t=>qe(e,t)}function ze(e,t){const i=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return`\n    ${e.code} is a ${i} ad unit\n    containing bidders that don't support ${i}: ${t}.\n    This bidder won't fetch demand.\n  `}const $e=Number.isInteger.bind(Number);function Fe(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>void 0!==t)))}function Le(e,t){return"object"!=typeof e?{}:t.reduce(((i,a,n)=>{if("function"==typeof a)return i;let r=a,o=a.match(/^(.+?)\sas\s(.+?)$/i);o&&(a=o[1],r=o[2]);let s=e[a];return"function"==typeof t[n+1]&&(s=t[n+1](s,i)),void 0!==s&&(i[r]=s),i}),{})}function Ve(e,t){return Z(e)&&(!t||e.length===t)&&e.every((e=>$e(e)))}function Ge(e){return e?e.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[i,a]=t.split("=");return/\[\]$/.test(i)?(i=i.replace("[]",""),e[i]=e[i]||[],e[i].push(a)):e[i]=a||"",e}),{}):{}}function We(e){return Object.keys(e).map((t=>Array.isArray(e[t])?e[t].map((e=>`${t}[]=${e}`)).join("&"):`${t}=${e[t]}`)).join("&")}function He(e,t){let i=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?i.href=e:i.href=decodeURIComponent(e);let a=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:i.href,protocol:(i.protocol||"").replace(/:$/,""),hostname:i.hostname,port:+i.port,pathname:i.pathname.replace(/^(?!\/)/,"/"),search:a?i.search:D.parseQS(i.search||""),hash:(i.hash||"").replace(/^#/,""),host:i.host||window.location.host}}function Ke(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?`:${e.port}`:""))+(e.pathname||"")+(e.search?`?${D.formatQS(e.search||"")}`:"")+(e.hash?`#${e.hash}`:"")}function Xe(e,t,{checkTypes:i=!1}={}){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let a in e){if(!t.hasOwnProperty(a))return!1;if(!Xe(e[a],t[a],{checkTypes:i}))return!1}return!0}function Je(e,...t){if(!t.length)return e;const i=t.shift();if(te(e)&&te(i))for(const t in i)te(i[t])?(e[t]||Object.assign(e,{[t]:{}}),Je(e[t],i[t])):Z(i[t])?e[t]?Z(e[t])&&i[t].forEach((i=>{let a=1;for(let n=0;n<e[t].length;n++)if(Xe(e[t][n],i)){a=0;break}a&&e[t].push(i)})):Object.assign(e,{[t]:[...i[t]]}):Object.assign(e,{[t]:i[t]});return Je(e,...t)}function Qe(e,t=0){let i=function(e,t){if(Q(Math.imul))return Math.imul(e,t);var i=(4194303&e)*(t|=0);return 4290772992&e&&(i+=(4290772992&e)*t|0),0|i},a=3735928559^t,n=1103547991^t;for(let t,r=0;r<e.length;r++)t=e.charCodeAt(r),a=i(a^t,2654435761),n=i(n^t,1597334677);return a=i(a^a>>>16,2246822507)^i(n^n>>>13,3266489909),n=i(n^n>>>16,2246822507)^i(a^a>>>13,3266489909),(4294967296*(2097151&n)+(a>>>0)).toString()}function Ye(e){try{return JSON.parse(e)}catch(e){}}function Ze(e,t=function(e){return e}){const i=new Map,a=function(){const a=t.apply(this,arguments);return i.has(a)||i.set(a,e.apply(this,arguments)),i.get(a)};return a.clear=i.clear.bind(i),a}function et(e,t){Object.entries(t).forEach((([t,i])=>e.setAttribute(t,i)))}function tt(e,t,i=(e=>e)){let a=0,n=e.length&&e.length-1;const r=i(t);for(;n-a>1;){const t=a+Math.round((n-a)/2);r>i(e[t])?a=t:n=t}for(;e.length>a&&r>i(e[a]);)a++;return a}},(e,t,i)=>{i.d(t,{a:()=>_,b:()=>b,c:()=>c,d:()=>f,e:()=>s,f:()=>u,g:()=>p,h:()=>g,i:()=>o,j:()=>r,k:()=>n,l:()=>d,m:()=>m,n:()=>y,o:()=>h,p:()=>v,q:()=>l,r:()=>a});const a=e=>void 0===e,n=e=>null===e,r=e=>n(e)||a(e),o=e=>!r(e),s=e=>"boolean"==typeof e,d=e=>"number"==typeof e&&!isNaN(e),l=e=>"string"==typeof e,c=e=>Array.isArray(e),p=e=>"function"==typeof e,u=e=>e instanceof Date,m=e=>"object"==typeof e&&!c(e)&&!n(e),b=(e,t)=>c(e)&&e.every(t),f=(e,t)=>b(e,t)||t(e),g=(e,t)=>i=>e(i,t),y=(e,t)=>a(e)||t(e),h=(e,t)=>m(e)&&Object.values(e).every(t),_=(e,...t)=>t.some((t=>t===e)),v=e=>b(e,d)&&2===e.length},(e,t,i)=>{i.d(t,{a:()=>l,config:()=>m});var a=i(82),n=i(4),r=i(0),o=i(5),s=i(6);const d="TRUE"===(0,r.y)(s.DEBUG_MODE).toUpperCase(),l="random",c={};c[l]=!0,c.fixed=!0;const p=l,u={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},m=function(){let e,t,i,s=[],l=null;function m(){function o(e){return l[e].val}function s(e,t){l[e].val=t}e={};const l={publisherDomain:{set(e){null!=e&&(0,r.db)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),s("publisherDomain",e)}},priceGranularity:{val:u.MEDIUM,set(e){f(e)&&("string"==typeof e?s("priceGranularity",b(e)?e:u.MEDIUM):(0,r.Y)(e)&&(s("customPriceBucket",e),s("priceGranularity",u.CUSTOM),(0,r.cb)("Using custom price granularity")))}},customPriceBucket:{val:{},set(){}},mediaTypePriceGranularity:{val:{},set(e){null!=e&&s("mediaTypePriceGranularity",Object.keys(e).reduce(((t,i)=>(f(e[i])?"string"==typeof e?t[i]=b(e[i])?e[i]:o("priceGranularity"):(0,r.Y)(e)&&(t[i]=e[i],(0,r.cb)(`Using custom price granularity for ${i}`)):(0,r.db)(`Invalid price granularity for media type: ${i}`),t)),{}))}},bidderSequence:{val:p,set(e){c[e]?s("bidderSequence",e):(0,r.db)(`Invalid order: ${e}. Bidder Sequence was not set.`)}},auctionOptions:{val:{},set(e){(function(e){if(!(0,r.Y)(e))return(0,r.db)("Auction Options must be an object"),!1;for(let t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return(0,r.db)(`Auction Options given an incorrect param: ${t}`),!1;if("secondaryBidders"===t){if(!(0,r.Q)(e[t]))return(0,r.db)(`Auction Options ${t} must be of type Array`),!1;if(!e[t].every(r._))return(0,r.db)(`Auction Options ${t} must be only string`),!1}else if("suppressStaleRender"===t&&!(0,r.R)(e[t]))return(0,r.db)(`Auction Options ${t} must be of type boolean`),!1}return!0})(e)&&s("auctionOptions",e)}}};let m={debug:d,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10};function b(e){return(0,n.b)(Object.keys(u),(t=>e===u[t]))}function f(e){if(!e)return(0,r.ab)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)b(e)||(0,r.db)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,r.Y)(e)&&!(0,a.b)(e))return(0,r.ab)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(m,Object.fromEntries(Object.entries(l).map((([e,t])=>[e,Object.assign({get:o.bind(null,e),set:s.bind(null,e),enumerable:!0},t)])))),t&&v(Object.keys(t).reduce(((e,i)=>(t[i]!==m[i]&&(e[i]=m[i]||{}),e)),{})),t=m,i={}}function b(){if(l&&i&&(0,r.Y)(i[l])){let e=i[l];const a=new Set(Object.keys(t).concat(Object.keys(e)));return(0,n.a)(a).reduce(((i,a)=>(void 0===e[a]?i[a]=t[a]:void 0===t[a]?i[a]=e[a]:(0,r.Y)(e[a])?i[a]=(0,r.fb)({},t[a],e[a]):i[a]=e[a],i)),{})}return Object.assign({},t)}const[f,g]=[b,function(){const e=b();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((e=>function(...t){if(t.length<=1&&"function"!=typeof t[0]){const i=t[0];return i?(0,o.a)(e(),i):b()}return function(e,t,i={}){let a=t;if("string"!=typeof e&&(a=e,e="*",i=t||{}),"function"!=typeof a)return void(0,r.ab)("listener must be a function");const n={topic:e,callback:a};return s.push(n),i.init&&a("*"===e?g():{[e]:g(e)}),function(){s.splice(s.indexOf(n),1)}}(...t)})),[y,h]=[g,f].map((e=>function(...t){let i=e(...t);return i&&"object"==typeof i&&(i=(0,r.n)(i)),i}));function _(i){if(!(0,r.Y)(i))return void(0,r.ab)("setConfig options must be an object");let a=Object.keys(i),n={};a.forEach((a=>{let o=i[a];(0,r.Y)(e[a])&&(0,r.Y)(o)&&(o=Object.assign({},e[a],o));try{n[a]=t[a]=o}catch(e){(0,r.db)(`Cannot set config for property ${a} : `,e)}})),v(n)}function v(e){const t=Object.keys(e);s.filter((e=>(0,n.c)(t,e.topic))).forEach((t=>{t.callback({[t.topic]:e[t.topic]})})),s.filter((e=>"*"===e.topic)).forEach((t=>t.callback(e)))}function I(e,t=!1){try{!function(e){if(!(0,r.Y)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,r.Y)(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((a=>{i[a]||(i[a]={}),Object.keys(e.config).forEach((n=>{let o=e.config[n];if((0,r.Y)(o)){const e=t?r.fb:Object.assign;i[a][n]=e({},i[a][n]||{},o)}else i[a][n]=o}))}))}catch(e){(0,r.ab)(e)}}function w(e,t){l=e;try{return t()}finally{T()}}function T(){l=null}return m(),{getCurrentBidder:function(){return l},resetBidder:T,getConfig:g,getAnyConfig:f,readConfig:y,readAnyConfig:h,setConfig:_,mergeConfig:function(e){if(!(0,r.Y)(e))return void(0,r.ab)("mergeConfig input must be an object");const t=(0,r.fb)(b(),e);return _({...t}),t},setDefaults:function(i){(0,r.Y)(e)?(Object.assign(e,i),Object.assign(t,i)):(0,r.ab)("defaults must be an object")},resetConfig:m,runWithBidder:w,callbackWithBidder:function(e){return function(t){return function(...i){if("function"==typeof t)return w(e,t.bind(this,...i));(0,r.db)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:I,getBidderConfig:function(){return i},mergeBidderConfig:function(e){return I(e,!0)}}}()},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(76),n=i(29),r=i(105);const o=i(106).a.value,s=new a.b("HUBVISOR","wrapper",(()=>{const e=[];return o&&e.push(o),n.f&&e.push(r.a),e})())},(e,t,i)=>{function a(e,t,i){return e&&e.includes(t,i)||!1}function n(){return Array.from.apply(Array,arguments)}function r(e,t,i){return e&&e.find(t,i)}i.d(t,{a:()=>n,b:()=>r,c:()=>a})},(e,t,i)=>{function a(e,t,i,a,n){for(t=t.split?t.split("."):t,a=0;a<t.length;a++)e=e?e[t[a]]:n;return e===n?i:e}i.d(t,{a:()=>a})},e=>{e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_TIMEOUT":"auctionTimeout","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent","BID_ACCEPTED":"bidAccepted"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat","CRID":"hb_crid","DSP":"hb_dsp"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","FLOOR_NOT_MET":"Bid does not meet price floor","CANNOT_CONVERT_CURRENCY":"Unable to convert currency"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],"FLOOR_VALUES":{"NO_DATA":"noData","AD_UNIT":"adUnit","SET_CONFIG":"setConfig","FETCH":"fetch","SUCCESS":"success","ERROR":"error","TIMEOUT":"timeout"}}')},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>r,c:()=>o});var a=i(1);const n={adserverTimeout:90,onDisplayCallback:91,onDisplayOrDfpRefresh:92,onAmpRendering:93,onAdditionalTargetings:94,onParallaxInvalidParameters:95,onRtcRendering:96,onCustomNativeRendering:97,bypassGamRenderError:98,doubleRenderError:99,publisherPlacementsBuildError:666,autorefreshError:700,customInsertionPointNotFound:829,beamError:900,unexpected:1e3,nativeCriteoBidNotFound:1001,nativeAdserverPlacementInvalid:1002,overrideRenderFormatFailed:1003,noNativeRenderer:1004,noSkinRenderer:1005,skinFrameNullDocument:1006,skinPageWrapNotFound:1007,skinPageContentNotFound:1008,skinDomElementNotFound:1009,unsupportedRenderableContent:1010,iframeDocumentNotFound:1011,iasResponseValidationFailed:1012,sandboxHostFrameWindowNotAvailable:1013,sandboxHostRenderWithoutChannel:1014,safeframeHostFrameWindowNotAvailable:1015,sandboxClientPlacementIdNotFound:1016,consentManagementError:1017,noNativePayload:1018,overrideRichMediaOptionsFailed:1019,overrideDisplayFormatFailed:1020,generateNativeOrtbRequestFailed:1022,customRichMediaNullDocument:1023,customRichMediaPageWrapNotFound:1024,renderingFailed:1049,amazonRenderingFailed:1050,elementMeasurementFailed:2001,publisherConfigNotFound:3e3,contextNotProvided:3001,videoWrapperDivNotFound:4200,vastContentNotFound:4201,outstreamPlayerLoadingFailed:4202,noPublisherIdForVimp:4203,outstreamPlayerError:4204,instreamCacheServiceRequestError:5e3,instreamConfigurationError:5001,instreamCacheIdMissing:5003,amazonCpmMappingError:6e3,secondChanceError:8e3,visitsProviderError:9e3};class r extends Error{code;source;constructor(e,t,i){i?super(i):t instanceof Error?super(t.message):super(t),this.code=e,t instanceof Error&&(this.source=t),(0,a.g)(Error.captureStackTrace)?Error.captureStackTrace(this,this.constructor):this.stack=new Error(i).stack}}class o extends r{secondaryCode;constructor(e,t,i){super(e,t),this.secondaryCode="unknown",(0,a.m)(t)&&(0,a.m)(t.j)?(this.message=`IMA Vast error - ${t.j.errorCode} - ${t.j.type}: ${t.j.innerError??t.j.errorMessage} - VAST: ${i}`,((0,a.q)(t.j.errorCode)||(0,a.l)(t.j.errorCode))&&(this.secondaryCode=`${t.j.errorCode}`)):this.message=`Vast error: ${t instanceof Error?t:JSON.stringify(t)} - VAST: ${i}`}}},(e,t,i)=>{i.d(t,{a:()=>ie});var a=i(0),n=i(5),r=i(82),o=i(35),s=i(26),d=i(2);function l(e,{index:t=ie.index}={}){const i=e.vastXml?e.vastXml:`<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA[${e.vastUrl}]]></VASTAdTagURI>\n        <Impression>${(a=e.vastImpUrl)?`<![CDATA[${a}]]>`:""}</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>`;var a;const n=t.getAuction(e);let r={type:"xml",value:i,ttlseconds:Number(e.ttl)+15};return d.config.getConfig("cache.vasttrack")&&(r.bidder=e.bidder,r.bidid=e.requestId,r.aid=e.auctionId),null!=n&&(r.timestamp=n.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(r.key=e.customCacheKey),r}var c=i(51),p=i(49),u=i(9),m=i(4),b=i(34),f=i(36),g=i(15),y=i(21),h=i(23),_=i(6),v=i(12),I=i(25),w=i(85),T=i(11);const{syncUsers:x}=p.userSync,D="completed";y.on(_.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){let t=(0,w.a)(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));const S={},C={},E=[],R=(0,T.a)();function A({adUnits:e,adUnitCodes:t,callback:i,cbTimeout:o,labels:s,auctionId:l,ortb2Fragments:p,metrics:u}){u=(0,I.d)(u);const g=e,w=s,T=t,A=l||(0,a.s)(),U=o,q=new Set,j=(0,v.b)();let z,L,V,G,W=[],H=i,K=[],X=[],J=[],Y=[],Z=[];function ee(){return{auctionId:A,timestamp:z,auctionEnd:L,auctionStatus:G,adUnits:g,adUnitCodes:T,labels:w,bidderRequests:K,noBids:J,bidsReceived:X,bidsRejected:W,winningBids:Y,timeout:U,metrics:u,seatNonBids:Z}}function te(t){if(t?y.emit(_.EVENTS.AUCTION_TIMEOUT,ee()):clearTimeout(V),void 0===L){let i=[];t&&((0,a.cb)(`Auction ${A} timedOut`),i=K.filter((e=>!q.has(e.bidderRequestId))).flatMap((e=>e.bids)),i.length&&y.emit(_.EVENTS.BID_TIMEOUT,i)),G=D,L=Date.now(),u.checkpoint("auctionEnd"),u.timeBetween("requestBids","auctionEnd","requestBids.total"),u.timeBetween("callBids","auctionEnd","requestBids.callBids"),j.resolve(),y.emit(_.EVENTS.AUCTION_END,ee()),B(g,(function(){try{if(null!=H){const e=X.filter((e=>T.includes(e.adUnitCode))).reduce(Q,{});H.apply(R,[e,t,A]),H=null}}catch(e){(0,a.ab)("Error executing bidsBackHandler",null,e)}finally{i.length&&h.a.callTimedOutBidders(e,i,U);let t=d.config.getConfig("userSync")||{};t.enableOverride||x(t.syncDelay)}}))}}function ae(){d.config.resetBidder(),(0,a.bb)(`Bids Received for Auction with id: ${A}`,X),G=D,te(!1)}function ne(e){q.add(e)}function re(e){e.forEach((e=>{var t;t=e,K=K.concat(t)}));let t={},i={bidRequests:e,run:()=>{V=setTimeout((()=>te(!0)),U),G="inProgress",y.emit(_.EVENTS.AUCTION_INIT,ee());let i=function(e,t,{index:i=ie.index}={}){let o=0,s=!1,l=new Set,p={};function u(){o--,s&&0===o&&e()}function g(e,t,i){return p[t.requestId]=!0,function(e,t,{index:i=ie.index}={}){const n=i.getBidderRequest(e),r=i.getAdUnit(e),o=n&&n.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,a.sb)(),requestTimestamp:e.requestTimestamp||o,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=r?.ttlBuffer&&(e.ttlBuffer=r.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),o++,i(u)}function h(e,i){g(e,i,(e=>{let o=function(e,{index:t=ie.index}={}){y.emit(_.EVENTS.BID_ADJUSTMENT,e);const i=t.getBidRequest(e)?.renderer||t.getAdUnit(e).renderer,a=e.mediaType,n=t.getMediaTypes(e),o=n&&n[a];var s=o&&o.renderer,l=null;s&&s.url&&s.render&&(!0!==s.backupOnly||!e.renderer)?l=s:i&&i.url&&i.render&&(!0!==i.backupOnly||!e.renderer)&&(l=i),l&&(e.renderer=c.a.install({url:l.url,config:l.options}),e.renderer.setRender(l.render));const p=F(e.mediaType,n,d.config.getConfig("mediaTypePriceGranularity")),u=(0,r.a)(e.cpm,"object"==typeof p?p:d.config.getConfig("customPriceBucket"),d.config.getConfig("currency.granularityMultiplier"));return e.pbLg=u.low,e.pbMg=u.med,e.pbHg=u.high,e.pbAg=u.auto,e.pbDg=u.dense,e.pbCg=u.custom,e}(i);y.emit(_.EVENTS.BID_ACCEPTED,o),o.mediaType===f.d?function(e,t,i,{index:r=ie.index}={}){let o=!0;const s=(0,n.a)(r.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),l=s&&(0,n.a)(s,"context"),c=s&&(0,n.a)(s,"useCacheKey");d.config.getConfig("cache.url")&&(c||l!==b.b)&&(!t.videoCacheKey||d.config.getConfig("cache.ignoreBidderCacheKey")?(o=!1,$(e,t,i,s)):t.vastUrl||((0,a.ab)("videoCacheKey specified but not required vastUrl for video bid"),o=!1)),o&&(P(e,t),i())}(t,o,e):(null!=o.native&&"object"==typeof o.native&&N(o),P(t,o),e())}))}function I(e,i,n){return g(e,i,(e=>{i.rejectionReason=n,(0,a.db)(`Bid from ${i.bidder||"unknown bidder"} was rejected: ${n}`,i),y.emit(_.EVENTS.BID_REJECTED,i),t.addBidRejected(i),e()}))}function w(){let i=t.getBidRequests();const n=d.config.getConfig("auctionOptions");if(l.add(this),n&&!(0,a.T)(n)){const e=n.secondaryBidders;e&&!i.every((t=>(0,m.c)(e,t.bidderCode)))&&(i=i.filter((t=>!(0,m.c)(e,t.bidderCode))))}s=i.every((e=>l.has(e))),this.bids.forEach((e=>{p[e.bidId]||(t.addNoBid(e),y.emit(_.EVENTS.NO_BID,e))})),s&&0===o&&e()}return{addBidResponse:function(){function e(e,t){k.call({dispatch:h},e,t,(()=>{let i=!1;return a=>{i||(I(e,t,a),i=!0)}})())}return e.reject=I,e}(),adapterDone:function(){O(v.a.resolve()).finally((()=>w.call(this)))}}}(ae,this);h.a.callBids(g,e,i.addBidResponse,i.adapterDone,{request(e,i){s(S,i),s(t,e),C[e]||(C[e]={SRA:!0,origin:i}),t[e]>1&&(C[e].SRA=!1)},done(e){S[e]--,E[0]&&o(E[0])&&E.shift()}},U,ne,p)}};function o(e){let t=!0,i=d.config.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((e=>{let a=1,n=void 0!==e.src&&e.src===_.S2S.SRC?"s2s":e.bidderCode;return C[n]&&(!1===C[n].SRA&&(a=Math.min(e.bids.length,i)),S[C[n].origin]+a>i&&(t=!1)),!t})),t&&e.run(),t}function s(e,t){void 0===e[t]?e[t]=1:e[t]++}o(i)||((0,a.db)("queueing auction due to limited endpoint capacity"),E.push(i))}return y.on(_.EVENTS.SEAT_NON_BID,(e=>{var t;e.auctionId===A&&(t=e.seatnonbid,Z=Z.concat(t))})),{addBidReceived:function(e){X=X.concat(e)},addBidRejected:function(e){W=W.concat(e)},addNoBid:function(e){J=J.concat(e)},callBids:function(){G="started",z=Date.now();let e=u.measureTime("requestBids.makeRequests",(()=>h.a.makeBidRequests(g,z,A,U,w,p,u)));(0,a.bb)(`Bids Requested for Auction with id: ${A}`,e),u.checkpoint("callBids"),e.length<1?((0,a.db)("No valid bid requests returned for auction"),ae()):M.call({dispatch:re,context:this},e)},addWinningBid:function(t){const i=e.find((e=>e.transactionId===t.transactionId));Y=Y.concat(t),(0,a.f)(t),h.a.callBidWonBidder(t.adapterCode||t.bidder,t,e),i&&!i.deferBilling&&h.a.callBidBillableBidder(t)},setBidTargeting:function(e){h.a.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>Y,getAuctionStart:()=>z,getAuctionEnd:()=>L,getTimeout:()=>U,getAuctionId:()=>A,getAuctionStatus:()=>G,getAdUnits:()=>g,getAdUnitCodes:()=>T,getBidRequests:()=>K,getBidsReceived:()=>X,getNoBids:()=>J,getNonBids:()=>Z,getFPD:()=>p,getMetrics:()=>u,end:j.promise}}const k=(0,u.b)("sync",(function(e,t){this.dispatch.call(null,e,t)}),"addBidResponse"),O=(0,u.b)("sync",(e=>e),"responsesReady"),M=(0,u.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),B=(0,u.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function P(e,t){!function(e){let t;const i=!0===g.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(i||e.dealId)&&(t=function(e,t,{index:i=ie.index}={}){if(!t)return{};const a=i.getBidRequest(t);var n={};return J(n,X(t.mediaType,e),t,a),e&&g.a.getOwn(e,_.JSON_MAPPING.ADSERVER_TARGETING)&&(J(n,g.a.ownSettingsFor(e),t,a),t.sendStandardTargeting=g.a.get(e,"sendStandardTargeting")),t.native&&(n=Object.assign({},n,(0,o.g)(t))),n}(e.bidderCode,e)),e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),(0,I.d)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),y.emit(_.EVENTS.BID_RESPONSE,t)}const N=e=>{const t=ie.index.getAdUnit(e)?.nativeOrtbRequest,i=e.native?.ortb;if(t&&i){const a=(0,o.j)(i,t);Object.assign(e.native,a)}},U=e=>{!function(e,t,i=s.a){const a={puts:e.map(l)};i(d.config.getConfig("cache.timeout"))(d.config.getConfig("cache.url"),function(e){return{success:function(t){let i;try{i=JSON.parse(t).responses}catch(t){return void e(t,[])}i?e(null,i):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,i){e(new Error(`Error storing video ad in the cache: ${t}: ${JSON.stringify(i)}`),[])}}}(t),JSON.stringify(a),{contentType:"text/plain",withCredentials:!0})}(e.map((e=>e.bidResponse)),(function(t,i){i.forEach(((i,n)=>{const{auctionInstance:r,bidResponse:o,afterBidAdded:s}=e[n];var l;t?(0,a.db)(`Failed to save to the video cache: ${t}. Video bid must be discarded.`):""===i.uuid?(0,a.db)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(o.videoCacheKey=i.uuid,o.vastUrl||(o.vastUrl=(l=o.videoCacheKey,`${d.config.getConfig("cache.url")}?uuid=${l}`)),P(r,o),s())}))}))};let q,j;d.config.getConfig("cache",(e=>{q="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,j="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));const z=((e=setTimeout,t=U)=>{let i=[[]],a=!1;const n=e=>e();return function(r,o,s){const d=j>0?e:n;i[i.length-1].length>=q&&i.push([]),i[i.length-1].push({auctionInstance:r,bidResponse:o,afterBidAdded:s}),a||(a=!0,d((()=>{i.forEach(t),i=[[]],a=!1}),j))}})(),$=(0,u.b)("async",(function(e,t,i){z(e,t,i)}),"callPrebidCache");function F(e,t,i){if(e&&i){if(e===f.d){const e=(0,n.a)(t,`${f.d}.context`,"instream");if(i[`${f.d}-${e}`])return i[`${f.d}-${e}`]}return i[e]}}const L=e=>t=>{const i=e||((e,{index:t=ie.index}={})=>{const i=F(e.mediaType,t.getMediaTypes(e),d.config.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":d.config.getConfig("priceGranularity")})(t);return i===_.GRANULARITY_OPTIONS.AUTO?t.pbAg:i===_.GRANULARITY_OPTIONS.DENSE?t.pbDg:i===_.GRANULARITY_OPTIONS.LOW?t.pbLg:i===_.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:i===_.GRANULARITY_OPTIONS.HIGH?t.pbHg:i===_.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0},V=()=>e=>e.creativeId?e.creativeId:"",G=()=>e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:"",W=()=>e=>e.meta&&(e.meta.networkId||e.meta.networkName)?(0,n.a)(e,"meta.networkName")||(0,n.a)(e,"meta.networkId"):"",H=()=>e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:"";function K(e,t){return{key:e,val:"function"==typeof t?function(e,i){return t(e,i)}:function(e){return(0,a.D)(e,t)}}}function X(e,t){const i=_.TARGETING_KEYS,r=Object.assign({},g.a.settingsFor(null));if(r[_.JSON_MAPPING.ADSERVER_TARGETING]||(r[_.JSON_MAPPING.ADSERVER_TARGETING]=function(){const e=_.TARGETING_KEYS;return[K(e.BIDDER,"bidderCode"),K(e.AD_ID,"adId"),K(e.PRICE_BUCKET,L()),K(e.SIZE,"size"),K(e.DEAL,"dealId"),K(e.SOURCE,"source"),K(e.FORMAT,"mediaType"),K(e.ADOMAIN,G()),K(e.ACAT,H()),K(e.DSP,W()),K(e.CRID,V())]}()),"video"===e){const e=r[_.JSON_MAPPING.ADSERVER_TARGETING].slice();if(r[_.JSON_MAPPING.ADSERVER_TARGETING]=e,[i.UUID,i.CACHE_ID].forEach((t=>{void 0===(0,m.b)(e,(e=>e.key===t))&&e.push(K(t,"videoCacheKey"))})),d.config.getConfig("cache.url")&&(!t||!1!==g.a.get(t,"sendStandardTargeting"))){const t=(0,a.kb)(d.config.getConfig("cache.url"));void 0===(0,m.b)(e,(e=>e.key===i.CACHE_HOST))&&e.push(K(i.CACHE_HOST,(function(e){return(0,n.a)(e,`adserverTargeting.${i.CACHE_HOST}`)?e.adserverTargeting[i.CACHE_HOST]:t.hostname})))}}return r}function J(e,t,i,n){var r=t[_.JSON_MAPPING.ADSERVER_TARGETING];return i.size=i.getSize(),(r||[]).forEach((function(r){var o=r.key,s=r.val;if(e[o]&&(0,a.db)("The key: "+o+" is being overwritten"),(0,a.U)(s))try{s=s(i,n)}catch(e){(0,a.ab)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==_.TARGETING_KEYS.DEAL&&o!==_.TARGETING_KEYS.ACAT&&o!==_.TARGETING_KEYS.DSP&&o!==_.TARGETING_KEYS.CRID||!(0,a.S)(s)&&null!=s?e[o]=s:(0,a.bb)("suppressing empty key '"+o+"' from adserver targeting")})),e}function Q(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function Y(e){Object.assign(this,{getAuction({auctionId:t}){if(null!=t)return e().find((e=>e.getAuctionId()===t))},getAdUnit({transactionId:t}){if(null!=t)return e().flatMap((e=>e.getAdUnits())).find((e=>e.transactionId===t))},getMediaTypes({transactionId:e,requestId:t}){if(null!=t){const i=this.getBidRequest({requestId:t});if(null!=i&&(null==e||i.transactionId===e))return i.mediaTypes}else if(null!=e){const t=this.getAdUnit({transactionId:e});if(null!=t)return t.mediaTypes}},getBidderRequest({requestId:t,bidderRequestId:i}){if(null!=t||null!=i){let a=e().flatMap((e=>e.getBidRequests()));return null!=i&&(a=a.filter((e=>e.bidderRequestId===i))),null==t?a[0]:a.find((e=>e.bids&&null!=e.bids.find((e=>e.bidId===t))))}},getBidRequest({requestId:t}){if(null!=t)return e().flatMap((e=>e.getBidRequests())).flatMap((e=>e.bids)).find((e=>e&&e.bidId===t))}})}var Z=i(116),ee=i(84);const te="minBidCacheTTL",ie=function(){let e=null;const t=(0,Z.a)({startTime:e=>e.end.then((()=>e.getAuctionEnd())),ttl:t=>null==e?null:t.end.then((()=>1e3*Math.max(e,...t.getBidsReceived().map(ee.a))))});(0,ee.b)((()=>{null!=e&&t.refresh()})),d.config.getConfig(te,(i=>{const a=e;e=i?.[te],e="number"==typeof e?e:null,a!==e&&t.refresh()}));const i={};function n(e){for(const i of t)if(i.getAuctionId()===e)return i}function r(){return t.toArray().flatMap((e=>e.getBidsReceived()))}return i.addWinningBid=function(e){const t=(0,I.d)(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","render.pending"),t.timeBetween("requestBids","bidWon","render.e2e");const i=n(e.auctionId);i?(e.status=_.BID_STATUS.RENDERED,i.addWinningBid(e)):(0,a.db)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:e=>e.getAuctionStatus()===D},getAdUnitCodes:{post:a.vb}}).forEach((([e,{name:a=e,pre:n,post:r}])=>{const o=null==n?e=>e[a]():e=>n(e)?e[a]():[],s=null==r?e=>e:e=>e.filter(r);i[e]=()=>s(t.toArray().flatMap(o))})),i.getAllBidsForAdUnitCode=function(e){return r().filter((t=>t&&t.adUnitCode===e))},i.createAuction=function(e){const i=A(e);return function(e){t.add(e)}(i),i},i.findBidByAdId=function(e){return r().find((t=>t.adId===e))},i.getStandardBidderAdServerTargeting=function(){return X()[_.JSON_MAPPING.ADSERVER_TARGETING]},i.setStatusForBids=function(e,t){let a=i.findBidByAdId(e);if(a&&(a.status=t),a&&t===_.BID_STATUS.BID_TARGETING_SET){const e=n(a.auctionId);e&&e.setBidTargeting(a)}},i.getLastAuctionId=function(){const e=t.toArray();return e.length&&e[e.length-1].getAuctionId()},i.clearAllAuctions=function(){t.clear()},i.index=new Y((()=>t.toArray())),i}()},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>o,c:()=>p,d:()=>d,e:()=>u,f:()=>m});var a=i(74),n=i.n(a),r=i(12);let o=n()({ready:n().SYNC|n().ASYNC|n().QUEUE});const s=(0,r.b)();o.ready=(()=>{const e=o.ready;return function(){try{return e.apply(o,arguments)}finally{s.resolve()}}})();const d=s.promise,l=o.get,c={};function p(e,t,{postInstallAllowed:i=!1}={}){o("async",(function(a){a.forEach((e=>t(...e))),i&&(c[e]=t)}),e)([])}function u(e,...t){const i=c[e];if(i)return i(...t);l(e).before(((e,i)=>{i.push(t),e(i)}))}function m(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((t=>[t,{get:()=>e[t]}])))),t}},(e,t,i)=>{i.d(t,{a:()=>c});var a=i(18),n=i(7),r=i(3),o=i(1);const{warn:s,error:d}=r.a.tag("errors"),l=(e,t,i,n,...r)=>{if(a.d.value){const s=`${t} \n ${r.filter((e=>(0,o.q)(e))).join("\n")}`;a.d.value({errorCode:e,message:s,stack:i,secondaryCode:n})}else s(`trying to report error code #${e} but error reporting module was not setup`);d(`#${e}:`,t,i,...r)},c=(e,...t)=>{if(e instanceof n.c){const i=`${e.source?e.source.stack:e.stack}`;return l(e.code,e.message,i,e.secondaryCode,...t)}if(e instanceof n.b){const i=`${e.source?e.source.stack:e.stack}`;return l(e.code,e.message,i,void 0,...t)}const i=`${e.stack}`;l(n.a.unexpected,e.message,i,void 0,...t)}},(e,t,i)=>{i.d(t,{a:()=>r});const a=window,n=a.hubjs=a.hubjs||{};function r(){return n}n.cmd=n.cmd||[],n.que=n.que||[],a===window&&(a._pbjsGlobals=a._pbjsGlobals||[],a._pbjsGlobals.push("hubjs"))},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>o});const a=0,n=1;class r{#e;#t;static timeout(e=0){return new r((t=>{0===e?t():setTimeout(t,e)}))}constructor(e){if("function"!=typeof e)throw new Error("resolver not a function");const t=[],i=[];let[r,o]=[a,n].map((e=>function(n){if(e===a&&"function"==typeof n?.then)n.then(r,o);else if(!t.length)for(t.push(e,n);i.length;)i.shift()()}));try{e(r,o)}catch(e){o(e)}this.#e=t,this.#t=i}then(e,t){const i=this.#e;return new this.constructor(((n,r)=>{const o=()=>{let o=i[1],[s,d]=i[0]===a?[e,n]:[t,r];if("function"==typeof s){try{o=s(o)}catch(e){return void r(e)}d=n}d(o)};i.length?o():this.#t.push(o)}))}catch(e){return this.then(null,e)}finally(e){let t;return this.then((i=>(t=i,e())),(i=>(t=this.constructor.reject(i),e()))).then((()=>t))}static#i(e,t,i){let a=e.length;function n(){t.apply(this,arguments),--a<=0&&i&&i()}0===e.length&&i?i():e.forEach(((e,t)=>this.resolve(e).then((e=>n(!0,e,t)),(e=>n(!1,e,t)))))}static race(e){return new this(((t,i)=>{this.#i(e,((e,a)=>e?t(a):i(a)))}))}static all(e){return new this(((t,i)=>{let a=[];this.#i(e,((e,t,n)=>e?a[n]=t:i(t)),(()=>t(a)))}))}static allSettled(e){return new this((t=>{let i=[];this.#i(e,((e,t,a)=>i[a]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}),(()=>t(i)))}))}static resolve(e){return new this((t=>t(e)))}static reject(e){return new this(((t,i)=>i(e)))}}function o({promiseFactory:e=(e=>new r(e))}={}){function t(e){return t=>e(t)}let i,a;return{promise:e(((e,t)=>{i=e,a=t})),resolve:t(i),reject:t(a)}}},(e,t,i)=>{i.d(t,{a:()=>d,b:()=>m,c:()=>s,d:()=>o,e:()=>r,f:()=>l,g:()=>p,h:()=>u,i:()=>c,j:()=>b});var a=i(14),n=i(9);const r="component",o=r+"Type",s=r+"Name",d="adapterCode",l="storageType",c="configName",p="syncType",u="syncUrl",m="_config";function b(e){return function(t,i,n){const l={[o]:t,[s]:i,[r]:`${t}.${i}`};return t===a.b&&(l[d]=e(i)),f(Object.assign(l,n))}}const f=(0,n.b)("sync",(e=>e))},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>n,c:()=>a,d:()=>o,e:()=>r});const a="prebid",n="bidder",r="userId",o="rtd",s="analytics"},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(5),n=i(0),r=i(11),o=i(6);const s=new class{constructor(e,t){this.getSettings=e,this.defaultScope=t}get(e,t){let i=this.getOwn(e,t);return void 0===i&&(i=this.getOwn(null,t)),i}getOwn(e,t){return e=this.#a(e),(0,a.a)(this.getSettings(),`${e}.${t}`)}getScopes(){return Object.keys(this.getSettings()).filter((e=>e!==this.defaultScope))}settingsFor(e){return(0,n.fb)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=this.#a(e),this.getSettings()[e]||{}}#a(e){return e??this.defaultScope}}((()=>(0,r.a)().bidderSettings||{}),o.JSON_MAPPING.BD_SETTING_STANDARD)},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(53);const n=e=>{let t;return(...i)=>(t??=a.a.tryCatch((()=>e(...i))),t.get())}},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>a});const a=e=>new Promise((t=>setTimeout(t,1e3*e))),n=()=>{let e,t;return{promise:new Promise(((i,a)=>{e=i,t=a})),resolve:e,reject:t}}},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>c,c:()=>p,d:()=>d,e:()=>b,f:()=>m,g:()=>s,h:()=>o,i:()=>u});var a=i(109),n=i(54),r=i(110);const o=new a.a("Renderers"),s=new n.a,d=new n.a,l=new r.a("prebid-bid-formatters"),c=new r.a("bid-iab-vendorids"),p=new r.a("content-providers"),u=new Set,m=new n.a,b=new n.a},(e,t,i)=>{var a=i(3);const{error:n}=a.a.tag("assert")},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>o});var a=i(17),n=i(16);const r=(0,a.a)(),o=r.promise,s=(0,n.a)((e=>{r.resolve(e)}))},(e,t,i)=>{i.r(t),i.d(t,{addEvents:()=>v,clearEvents:()=>w,emit:()=>_,get:()=>y,getEvents:()=>h,has:()=>I,off:()=>g,on:()=>f});var a=i(0),n=i(6),r=i(116),o=i(2);const s="eventHistoryTTL";let d=null;const l=(0,r.a)({monotonic:!0,ttl:()=>d});o.config.getConfig(s,(e=>{const t=d;e=e?.[s],d="number"==typeof e?1e3*e:null,t!==d&&l.refresh()}));let c=Array.prototype.slice,p=Array.prototype.push,u=Object.values(n.EVENTS);const m=n.EVENT_ID_PATHS,b=function(){let e={},t={};function i(e){return u.includes(e)}return t.has=i,t.on=function(t,n,r){if(i(t)){let i=e[t]||{que:[]};r?(i[r]=i[r]||{que:[]},i[r].que.push(n)):i.que.push(n),e[t]=i}else a.ab("Wrong event name : "+t+" Valid event names :"+u)},t.emit=function(t){!function(t,i){a.cb("Emitting event for: "+t);let n=i[0]||{},r=n[m[t]],o=e[t]||{que:[]};var s=Object.keys(o);let d=[];l.add({eventType:t,args:n,id:r,elapsedTime:a.z()}),r&&s.includes(r)&&p.apply(d,o[r].que),p.apply(d,o.que),(d||[]).forEach((function(e){if(e)try{e.apply(null,i)}catch(e){a.ab("Error executing handler:","events.js",e,t)}}))}(t,c.call(arguments,1))},t.off=function(t,i,n){let r=e[t];a.T(r)||a.T(r.que)&&a.T(r[n])||n&&(a.T(r[n])||a.T(r[n].que))||(n?(r[n].que||[]).forEach((function(e){let t=r[n].que;e===i&&t.splice(t.indexOf(e),1)})):(r.que||[]).forEach((function(e){let t=r.que;e===i&&t.splice(t.indexOf(e),1)})),e[t]=r)},t.get=function(){return e},t.addEvents=function(e){u=u.concat(e)},t.getEvents=function(){return l.toArray().map((e=>Object.assign({},e)))},t}();a.c(b.emit.bind(b));const{on:f,off:g,get:y,getEvents:h,emit:_,addEvents:v,has:I}=b;function w(){l.clear()}},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r});var a=i(0),n=i(13);const[r,o]=function(e=(0,a.mb)("Activity control:")){const t={};function i(e){return t[e]=t[e]||[]}function r(t,i,a,r){let o;try{o=a(r)}catch(a){e.logError(`Exception in rule ${i} for '${t}'`,a),o={allow:!1,reason:a}}return o&&Object.assign({activity:t,name:i,component:r[n.e]},o)}const o={};function s({activity:t,name:i,allow:a,reason:n,component:r}){const s=`${i} ${a?"allowed":"denied"} '${t}' for '${r}'${n?":":""}`,d=o.hasOwnProperty(s);if(d&&clearTimeout(o[s]),o[s]=setTimeout((()=>delete o[s]),1e3),!d){const t=[s];n&&t.push(n),(a?e.logInfo:e.logWarn).apply(e,t)}}return[function(e,t,a,n=10){const r=i(e),o=r.findIndex((([e])=>n<e)),s=[n,t,a];return r.splice(o<0?r.length:o,0,s),function(){const e=r.indexOf(s);e>=0&&r.splice(e,1)}},function(e,t){let a,n;for(const[o,d,l]of i(e)){if(a!==o&&n)break;a=o;const i=r(e,d,l,t);if(i){if(!i.allow)return s(i),!1;n=i}}return n&&s(n),!0}]}()},(e,t,i)=>{i.d(t,{a:()=>W,b:()=>$});var a=i(0),n=i(5),r=i(35),o=i(48),s=i(26),d=i(2),l=i(9),c=i(4),p=i(83),u=i(37),m=i(75),b=i(21),f=i(6),g=i(25),y=i(8),h=i(14),_=i(22),v=i(24),I=i(13);const w=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((e=>`user.${e}`)).concat("device.ext.cdep"),T=["user.eids","user.ext.eids"],x=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function D(e){return Object.assign({get(){},run(e,t,i,a,n){const r=i&&i[a];if(function(e){return null!=e&&("object"!=typeof e||Object.keys(e).length>0)}(r)&&n()){const e=this.get(r);void 0===e?delete i[a]:i[a]=e}}},e)}function S(e){return e.forEach((e=>{e.paths=e.paths.map((e=>{const t=e.split("."),i=t.pop();return[t.length>0?t.join("."):null,i]}))})),function(t,i,...a){const r=[],o=function(e,...t){return function(i){return e.hasOwnProperty(i.name)||(e[i.name]=!!i.applies(...t)),e[i.name]}}(t,...a);return e.forEach((e=>{if(!1!==t[e.name])for(const[a,s]of e.paths){const d=null==a?i:(0,n.a)(i,a);if(r.push(e.run(i,a,d,s,o.bind(null,e))),!1===t[e.name])return}})),r.filter((e=>null!=e))}}function C(e,t=_.a){return function(i){return!t(e,i)}}const E=function(e=_.a){const t=S(function(e=_.a){return[{name:v.j,paths:w,applies:C(v.j,e)},{name:v.g,paths:T,applies:C(v.g,e)},{name:v.h,paths:x,applies:C(v.h,e),get:e=>Math.round(100*(e+Number.EPSILON))/100},{name:v.i,paths:["source.tid"],applies:C(v.i,e)}].map(D)}(e)),i=S(function(e=_.a){return[{name:v.g,paths:["userId","userIdAsEids"],applies:C(v.g,e)},{name:v.i,paths:["ortb2Imp.ext.tid"],applies:C(v.i,e)}].map(D)}(e));return function(e){const a={};return{ortb2:i=>(t(a,i,e),i),bidRequest:t=>(i(a,t,e),t)}}}();(0,_.b)(v.i,"enableTIDs config",(()=>{if(!d.config.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}));const R="pbsBidAdapter",A={CLIENT:"client",SERVER:"server"},k={isAllowed:_.a,redact:E};let O={},M=O.bidderRegistry={},B=O.aliasRegistry={},P=[];d.config.getConfig("s2sConfig",(e=>{e&&e.s2sConfig&&(P=(0,a.Q)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var N={};const U=(0,I.j)((e=>O.resolveAlias(e))),q=(0,l.b)("sync",(function({bidderCode:e,auctionId:t,bidderRequestId:i,adUnits:r,src:o,metrics:s}){return r.reduce(((r,d)=>{const l=d.bids.filter((t=>t.bidder===e));return null==e&&0===l.length&&null!=d.s2sBid&&l.push({bidder:null}),r.push(l.reduce(((e,r)=>{const l=null==(r=Object.assign({},r,{ortb2Imp:(0,a.fb)({},d.ortb2Imp,r.ortb2Imp)},(0,a.x)(d,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?d.mediaTypes:r.mediaTypes;return(0,a.$)(l)?r=Object.assign({},r,{mediaTypes:l}):(0,a.ab)(`mediaTypes is not correctly configured for adunit ${d.code}`),e.push(Object.assign({},r,{adUnitCode:d.code,transactionId:d.transactionId,sizes:(0,n.a)(l,"banner.sizes")||(0,n.a)(l,"video.playerSize")||[],bidId:r.bid_id||(0,a.B)(),bidderRequestId:i,auctionId:t,src:o,metrics:s,bidRequestsCount:p.a.getRequestsCounter(d.code),bidderRequestsCount:p.a.getBidderRequestsCounter(d.code,r.bidder),bidderWinsCount:p.a.getBidderWinsCounter(d.code,r.bidder)})),e}),[])),r}),[]).reduce(a.q,[]).filter((e=>""!==e))}),"getBids"),j=(0,l.b)("sync",(function(e,t,{getS2SBidders:i=$}={}){if(null==t)return e;{const a=i(t);return e.filter((e=>a.has(e.bidder)))}}),"filterBidsForAdUnit"),z=(0,l.b)("sync",(e=>e),"setupAdUnitMediaTypes");function $(e){(0,a.Q)(e)||(e=[e]);const t=new Set([null]);return e.filter((e=>e&&e.enabled)).flatMap((e=>e.bidders)).forEach((e=>t.add(e))),t}const F=(0,l.b)("sync",(function(e,t,{getS2SBidders:i=$}={}){const n=i(t);return(0,a.v)(e).reduce(((e,t)=>(e[n.has(t)?A.SERVER:A.CLIENT].push(t),e)),{[A.CLIENT]:[],[A.SERVER]:[]})}),"partitionBidders");function L(e,t){const i=M[e],a=i?.getSpec&&i.getSpec();if(a&&a[t]&&"function"==typeof a[t])return[a,a[t]]}function V(e,t,i,n,...r){try{(0,a.bb)(`Invoking ${e}.${t}`),d.config.runWithBidder(e,n.bind(i,...r))}catch(i){(0,a.db)(`Error calling ${t} of ${e}`)}}function G(e,t,i){if(i?.src!==f.S2S.SRC){const a=L(e,t);null!=a&&V(e,t,...a,i)}}O.makeBidRequests=(0,l.b)("sync",(function(e,t,i,n,o,s={},l){l=(0,g.d)(l),b.emit(f.EVENTS.BEFORE_REQUEST_BIDS,e),(0,r.c)(e),e.forEach((e=>{(0,a.Y)(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((e=>!e.bidder||k.isAllowed(v.d,U(h.b,e.bidder))))})),e=z(e,o);let{[A.CLIENT]:p,[A.SERVER]:y}=F(e,P);d.config.getConfig("bidderSequence")===d.a&&(p=(0,a.rb)(p));const _=(0,u.a)();let w=[];const T=s.global||{},x=s.bidder||{};function D(e,t){const n=k.redact(null!=t?t:U(h.b,e.bidderCode)),r=Object.freeze(n.ortb2((0,a.fb)({source:{tid:i}},T,x[e.bidderCode])));return e.ortb2=r,e.bids=e.bids.map((e=>(e.ortb2=r,n.bidRequest(e)))),e}P.forEach((n=>{const r=function(e){return U(h.c,R,{[I.i]:e.configName})}(n);if(n&&n.enabled&&k.isAllowed(v.d,r)){let{adUnits:o,hasModuleBids:s}=function(e,t){let i=(0,a.n)(e),n=!1;return i.forEach((e=>{const i=e.bids.filter((e=>e.module===R&&e.params?.configName===t.configName));1===i.length?(e.s2sBid=i[0],n=!0,e.ortb2Imp=(0,a.fb)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):i.length>1&&(0,a.db)('Multiple "module" bids for the same s2s configuration; all will be ignored',i),e.bids=j(e.bids,t).map((e=>(e.bid_id=(0,a.B)(),e)))})),i=i.filter((e=>0!==e.bids.length||null!=e.s2sBid)),{adUnits:i,hasModuleBids:n}}(e,n),d=(0,a.s)();(0===y.length&&s?[null]:y).forEach((e=>{const s=(0,a.B)(),c=l.fork(),p=D({bidderCode:e,auctionId:i,bidderRequestId:s,uniquePbsTid:d,bids:q({bidderCode:e,auctionId:i,bidderRequestId:s,adUnits:(0,a.n)(o),src:f.S2S.SRC,metrics:c}),auctionStart:t,timeout:n.timeout,src:f.S2S.SRC,refererInfo:_,metrics:c},r);0!==p.bids.length&&w.push(p)})),o.forEach((e=>{let t=e.bids.filter((e=>(0,c.b)(w,(t=>(0,c.b)(t.bids,(t=>t.bidId===e.bid_id))))));e.bids=t})),w.forEach((e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((e=>e.bids.length>0||null!=e.s2sBid)))}))}}));let S=function(e){let t=(0,a.n)(e);return t.forEach((e=>{e.bids=j(e.bids,null)})),t=t.filter((e=>0!==e.bids.length)),t}(e);return p.forEach((e=>{const r=(0,a.B)(),s=l.fork(),d=D({bidderCode:e,auctionId:i,bidderRequestId:r,bids:q({bidderCode:e,auctionId:i,bidderRequestId:r,adUnits:(0,a.n)(S),labels:o,src:"client",metrics:s}),auctionStart:t,timeout:n,refererInfo:_,metrics:s}),c=M[e];c||(0,a.ab)(`Trying to make a request for bidder that does not exist: ${e}`),c&&d.bids&&0!==d.bids.length&&w.push(d)})),w.forEach((e=>{m.e.getConsentData()&&(e.gdprConsent=m.e.getConsentData()),m.g.getConsentData()&&(e.uspConsent=m.g.getConsentData()),m.f.getConsentData()&&(e.gppConsent=m.f.getConsentData())})),w}),"makeBidRequests"),O.callBids=(e,t,i,n,r,o,l,c={})=>{if(!t.length)return void(0,a.db)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[p,u]=t.reduce(((e,t)=>(e[Number(void 0!==t.src&&t.src===f.S2S.SRC)].push(t),e)),[[],[]]);var m=[];u.forEach((e=>{for(var t=-1,i=0;i<m.length;++i)if(e.uniquePbsTid===m[i].uniquePbsTid){t=i;break}t<=-1&&m.push(e)}));let g=0;P.forEach((e=>{if(e&&m[g]&&$(e).has(m[g].bidderCode)){const t=(0,s.a)(o,r?{request:r.request.bind(null,"s2s"),done:r.done}:void 0);let d=e.bidders;const p=M[e.adapter];let y=m[g].uniquePbsTid,h=m[g].adUnitsS2SCopy,_=u.filter((e=>e.uniquePbsTid===y));if(p){let r={ad_units:h,s2sConfig:e,ortb2Fragments:c};if(r.ad_units.length){let e=_.map((e=>(e.start=(0,a.sb)(),function(){l(e.bidderRequestId),n.apply(e,arguments)})));const o=(0,a.v)(r.ad_units).filter((e=>d.includes(e)));(0,a.cb)(`CALLING S2S HEADER BIDDERS ==== ${o.length>0?o.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only'}`),_.forEach((e=>{b.emit(f.EVENTS.BID_REQUESTED,{...e,tid:e.auctionId})})),p.callBids(r,u,i,(()=>e.forEach((e=>e()))),t)}}else(0,a.ab)("missing "+e.adapter);g++}})),p.forEach((e=>{e.start=(0,a.sb)();const t=M[e.bidderCode];d.config.runWithBidder(e.bidderCode,(()=>{(0,a.cb)("CALLING BIDDER"),b.emit(f.EVENTS.BID_REQUESTED,e)}));let c=(0,s.a)(o,r?{request:r.request.bind(null,e.bidderCode),done:r.done}:void 0);const p=n.bind(e);try{d.config.runWithBidder(e.bidderCode,t.callBids.bind(t,e,i,p,c,(()=>l(e.bidderRequestId)),d.config.callbackWithBidder(e.bidderCode)))}catch(t){(0,a.ab)(`${e.bidderCode} Bid Adapter emitted an uncaught error when parsing their bidRequest`,{e:t,bidRequest:e}),p()}}))},O.videoAdapters=[],O.registerBidAdapter=function(e,t,{supportedMediaTypes:i=[]}={}){e&&t?"function"==typeof e.callBids?(M[t]=e,m.b.register(h.b,t,e.getSpec?.().gvlid),(0,c.c)(i,"video")&&O.videoAdapters.push(t),(0,c.c)(i,"native")&&r.h.push(t)):(0,a.ab)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,a.ab)("bidAdapter or bidderCode not specified")},O.aliasBidAdapter=function(e,t,i){if(void 0===M[t]){let n=M[e];if(void 0===n){const i=[];P.forEach((a=>{if(a.bidders&&a.bidders.length){const n=a&&a.bidders;a&&(0,c.c)(n,t)?B[t]=e:i.push(e)}})),i.forEach((e=>{(0,a.ab)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{let s,d=function(e){let t=[];return(0,c.c)(O.videoAdapters,e)&&t.push("video"),(0,c.c)(r.h,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)s=new n.constructor,s.setBidderCode(t);else{let r=n.getSpec(),d=i&&i.gvlid;null!=r.gvlid&&null==d&&(0,a.db)(`Alias '${t}' will NOT re-use the GVL ID of the original adapter ('${r.code}', gvlid: ${r.gvlid}). Functionality that requires TCF consent may not work as expected.`);let l=i&&i.skipPbsAliasing;s=(0,o.a)(Object.assign({},r,{code:t,gvlid:d,skipPbsAliasing:l})),B[t]=e}O.registerBidAdapter(s,t,{supportedMediaTypes:d})}catch(t){(0,a.ab)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,a.cb)('alias name "'+t+'" has been already specified.')},O.resolveAlias=function(e){let t,i=e;for(;B[i]&&(!t||!t.has(i));)i=B[i],(t=t||new Set).add(i);return i},O.registerAnalyticsAdapter=function({adapter:e,code:t,gvlid:i}){e&&t?"function"==typeof e.enableAnalytics?(e.code=t,N[t]={adapter:e,gvlid:i},m.b.register(h.a,t,i)):(0,a.ab)(`Prebid Error: Analytics adaptor error for analytics "${t}"\n        analytics adapter must implement an enableAnalytics() function`):(0,a.ab)("Prebid Error: analyticsAdapter or analyticsCode not specified")},O.enableAnalytics=function(e){(0,a.Q)(e)||(e=[e]),e.forEach((e=>{const t=N[e.provider];t&&t.adapter?k.isAllowed(v.e,U(h.a,e.provider,{[I.b]:e}))&&t.adapter.enableAnalytics(e):(0,a.ab)(`Prebid Error: no analytics adapter found in registry for '${e.provider}'.`)}))},O.getBidAdapter=function(e){return M[e]},O.getAnalyticsAdapter=function(e){return N[e]},O.callTimedOutBidders=function(e,t,i){t=t.map((t=>(t.params=(0,a.C)(e,t.adUnitCode,t.bidder),t.timeout=i,t))),t=(0,a.H)(t,"bidder"),Object.keys(t).forEach((e=>{G(e,"onTimeout",t[e])}))},O.callBidWonBidder=function(e,t,i){t.params=(0,a.C)(i,t.adUnitCode,t.bidder),p.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),G(e,"onBidWon",t)},O.callBidBillableBidder=function(e){G(e.bidder,"onBidBillable",e)},O.callSetTargetingBidder=function(e,t){G(e,"onSetTargeting",t)},O.callBidViewableBidder=function(e,t){G(e,"onBidViewable",t)},O.callBidderError=function(e,t,i){G(e,"onBidderError",{error:t,bidderRequest:i})},O.callDataDeletionRequest=(0,l.b)("sync",(function(...e){const t="onDataDeletionRequest";Object.keys(M).filter((e=>!B.hasOwnProperty(e))).forEach((i=>{const a=L(i,t);if(null!=a){const n=y.a.getBidsRequested().filter((e=>function(e){const t=new Set;for(;B.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=B[e];return e}(e.bidderCode)===i));V(i,t,...a,n,...e)}})),Object.entries(N).forEach((([i,n])=>{const r=n?.adapter?.[t];if("function"==typeof r)try{r.apply(n.adapter,e)}catch(e){(0,a.ab)(`error calling ${t} of ${i}`,e)}}))}));const W=O},(e,t,i)=>{i.d(t,{a:()=>a,b:()=>o,c:()=>r,d:()=>s,e:()=>d,f:()=>n,g:()=>l,h:()=>p,i:()=>u,j:()=>c});const a="accessDevice",n="syncUser",r="enrichUfpd",o="enrichEids",s="fetchBids",d="reportAnalytics",l="transmitEids",c="transmitUfpd",p="transmitPreciseGeo",u="transmitTid"},(e,t,i)=>{i.d(t,{a:()=>b,b:()=>g,c:()=>y,d:()=>m});var a=i(2);const n="performanceMetrics",r=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),o=new WeakMap;function s({now:e=r,mkNode:t=c,mkTimer:i=l,mkRenamer:a=(e=>e),nodes:n=o}={}){return function(){return function r(o,s=(e=>({forEach(t){t(e)}}))){s=a(s);const d=function(e){return o.dfWalk({visit(t,i){const a=i.timestamps;if(a.hasOwnProperty(e))return a[e]}})};function l(e,t){const i=s(e);o.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,a){i.forEach((i=>{null==e?a.metrics[i]=t:(a.groups.hasOwnProperty(i)||(a.groups[i]=[]),a.groups[i].push(t))}))}})}function c(t){return i(e,(e=>l(t,e)))}function p(){let e={};return o.dfWalk({visit(t,i){e=Object.assign({},!t||t.includeGroups?i.groups:null,i.metrics,e)}}),e}const u={startTiming:c,measureTime:function(e,t){return c(e).stopAfter(t)()},measureHookTime:function(e,t,i){const a=c(e);return i(function(e){const t=a.stopBefore(e);return t.bail=e.bail&&a.stopBefore(e.bail),t.stopTiming=a,t.untimed=e,t}(t))},checkpoint:function(t){o.timestamps[t]=e()},timeSince:function(t,i){const a=d(t),n=null!=a?e()-a:null;return null!=i&&l(i,n),n},timeBetween:function(e,t,i){const a=d(e),n=d(t),r=null!=a&&null!=n?n-a:null;return null!=i&&l(i,r),r},setMetric:l,getMetrics:p,fork:function({propagate:e=!0,stopPropagation:i=!1,includeGroups:a=!1}={}){return r(t([[o,{propagate:e,stopPropagation:i,includeGroups:a}]]),s)},join:function(e,{propagate:t=!0,stopPropagation:i=!1,includeGroups:a=!1}={}){const r=n.get(e);null!=r&&r.addParent(o,{propagate:t,stopPropagation:i,includeGroups:a})},newMetrics:function(){return r(o.newSibling(),s)},renameWith:function(e){return r(o,e)},toJSON:()=>p()};return n.set(u,o),u}(t([]))}}function d(e,t,i){return function(){t&&t();try{return e.apply(this,arguments)}finally{i&&i()}}}function l(e,t){const i=e();let a=!1;function n(){a||(t(e()-i),a=!0)}return n.stopBefore=e=>d(e,n),n.stopAfter=e=>d(e,null,n),n}function c(e){return{metrics:{},timestamps:{},groups:{},addParent(t,i){e.push([t,i])},newSibling:()=>c(e.slice()),dfWalk({visit:t,follow:i=(()=>!0),visited:a=new Set,inEdge:n}={}){let r;if(!a.has(this)){if(a.add(this),r=t(n,this),null!=r)return r;for(const[o,s]of e)if(i(n,s)&&(r=o.dfWalk({visit:t,follow:i,visited:a,inEdge:s}),null!=r))return r}}}}const p=(()=>{const e=function(){},t=()=>({}),i={forEach:e},a=()=>null;a.stopBefore=e=>e,a.stopAfter=e=>e;const n=Object.defineProperties({dfWalk:e,newSibling:()=>n,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((e=>[e,{get:t}]))));return s({now:()=>0,mkNode:()=>n,mkRenamer:()=>()=>i,mkTimer:()=>a,nodes:{get:e,set:e}})()})();let u=!0;function m(e){return u&&e||p}a.config.getConfig(n,(e=>{u=!!e[n]}));const b=(()=>{const e=s();return function(){return u?e():p}})();function f(e,t){return function(i,a){return function(n,...r){const o=this;return m(t.apply(o,r)).measureHookTime(e+i,n,(function(e){return a.call(o,e,...r)}))}}}const g=f("requestBids.",(e=>e.metrics)),y=f("addBidResponse.",((e,t)=>t.metrics))},(e,t,i)=>{i.d(t,{a:()=>p,b:()=>u,c:()=>m});var a=i(2),n=i(0);const r={fetch:window.fetch.bind(window),makeRequest:(e,t)=>new Request(e,t),timeout(e,t){const i=new AbortController;let a=setTimeout((()=>{i.abort(),(0,n.ab)(`Request timeout after ${e}ms`,t),a=null}),e);return{signal:i.signal,done(){a&&clearTimeout(a)}}}},o="GET",s="POST",d="Content-Type";function l(e=3e3,{request:t,done:i}={}){let n=(t,i)=>{let n;null==e||null!=i?.signal||a.config.getConfig("disableAjaxTimeout")||(n=r.timeout(e,t),i=Object.assign({signal:n.signal},i));let o=r.fetch(t,i);return null!=n?.done&&(o=o.finally(n.done)),o};return null==t&&null==i||(n=(e=>function(a,n){const r=new URL(null==a?.url?a:a.url,document.location).origin;let o=e(a,n);return t&&t(r),i&&(o=o.finally((()=>i(r)))),o})(n)),n}function c({status:e,statusText:t="",headers:i,url:a},r){let o=0;function s(e){if(0===o)try{o=(new DOMParser).parseFromString(r,i?.get(d)?.split(";")?.[0])}catch(t){o=null,e&&e(t)}return o}return{readyState:XMLHttpRequest.DONE,status:e,statusText:t,responseText:r,response:r,responseType:"",responseURL:a,get responseXML(){return s(n.ab)},getResponseHeader:e=>i?.has(e)?i.get(e):null,toJSON(){return Object.assign({responseXML:s()},this)},getAllResponseHeaders:()=>i?Array.from(i).flat().join():""}}function p(e=3e3,{request:t,done:i}={}){const a=l(e,{request:t,done:i});return function(e,t,i,l={}){!function(e,t){const{success:i,error:a}="object"==typeof t&&null!=t?t:{success:"function"==typeof t?t:()=>null,error:(e,t)=>(0,n.ab)("Network error",e,t)};e.then((e=>e.text().then((t=>[e,t])))).then((([e,t])=>{const n=c(e,t);e.ok||304===e.status?i(t,n):a(e.statusText,n)}),(()=>a("",c({status:0},""))))}(a(function(e,t,i={}){const a=i.method||(t?s:o);if(a===o&&t){const a=(0,n.kb)(e,i);Object.assign(a.search,t),e=(0,n.e)(a)}const l=new Headers(i.customHeaders);l.set(d,i.contentType||"text/plain");const c={method:a,headers:l};return a!==o&&t&&(c.body=t),i.withCredentials&&(c.credentials="include"),i.browsingTopics&&isSecureContext&&(c.browsingTopics=!0),r.makeRequest(e,c)}(e,i,l)),t)}}const u=p(),m=l()},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>s});var a=i(1),n=i(55);class r{pushEvent;constructor(e){this.pushEvent=e}next(e){this.pushEvent(e)}}class o{factory;eventRetention=!1;observers=[];lastEvent=void 0;constructor(...e){if(0===e.length)this.factory=n.a;else if(2===e.length)this.factory=e[0],this.eventRetention=e[1];else{const t=e[0];(0,a.e)(t)?(this.eventRetention=t,this.factory=n.a):this.factory=t}this.eventRetention&&this.factory(new r(this.next.bind(this)))}next(e){for(const t of this.observers)t(e);this.lastEvent=e}get value(){return this.lastEvent}subscribe(e){this.eventRetention?(this.observers.push(e),void 0!==this.lastEvent&&e(this.lastEvent)):this.factory(new r(e))}pipe(e){return new o((t=>{this.subscribe((i=>{const a=e(i);void 0!==a&&t.next(a)}))}))}static of(e){return new o((async t=>{t.next(await e)}))}}const s=e=>new o((t=>{const i=[void 0,void 0];e.forEach(((e,a)=>{e.subscribe((e=>{i[a]=e;const[n,r]=i;void 0!==n&&void 0!==r&&t.next([n,r])}))}))}))},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>o});var a=i(17),n=i(1);const r=({interval:e,maxTryCount:t})=>{let i=1;return async()=>!((0,n.i)(t)&&i>=t||(await(0,a.b)(e),i+=1,0))},o=async(e,t)=>{let i=!0;do{const a=await t();if((0,n.i)(a))return a;i=await e()}while(i)}},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>c,c:()=>d,d:()=>l,e:()=>r,f:()=>p,g:()=>o});var a=i(62);const n="production",r="production"===n,o="1.6.0-8588-g7714ce3e7",s=["prv","beta"],d=(()=>{const e=!r;return s.reduce(((e,t)=>(0,a.a)(t)??e),void 0)??e})(),l=!d,c=()=>(0,a.a)("autorefresh")??!0,p=!r||(["prv","peek","gravity"].reduce(((e,t)=>(0,a.a)(t)??e),void 0)??!1)},(e,t,i)=>{i.d(t,{a:()=>D});var a=i(3),n=i(28),r=i(27),o=i(7);const{debug:s,info:d,error:l}=a.a.tag("cmp:api");var c=i(77),p=i(20),u=i(107),m=i(32),b=i(117),f=i(17),g=i(108),y=i(1);const h=e=>(0,y.m)(e)&&Object.values(e).every((e=>(0,y.e)(e))),_=e=>(0,y.m)(e)&&(0,y.n)(e.consents,h)&&(0,y.n)(e.legitimateInterests,h),v=e=>(0,y.m)(e)&&(0,y.n)(e.tcString,y.q)&&(0,y.n)(e.purpose,_)&&(0,y.n)(e.vendor,_);var I=i(33);const w=(0,f.a)(),T=new r.a((async e=>{(await(async({cmpTimeout:e,totalConsentTimeout:t})=>{d("started waiting for cmp...");const i=await(e=>{const t=Date.now();return s(`checking cmp... (timeout=${e}s)`),(0,n.b)((0,n.a)({interval:.1,maxTryCount:10*e}),(()=>{if(window.__tcfapi)return!0})).then((e=>{const i=Date.now()-t;return e?(s(`__tcfapi found in ${i/1e3}s`),{status:"found",elapsed:i}):(s(`no cmp found, timeout after ${i/1e3}s`),{status:"missing",elapsed:i})}))})(e);return"found"===i.status?(({cmpLatency:e,maxDuration:t})=>new r.a((i=>{d(`retrieving consent from __tcfapi (maxDuration=${t})`);const a=(()=>{let t=!0;const i=Date.now();return a=>{const n={...a,cmpLatency:t?e:0,consentLatency:t?Date.now()-i:0};return t=!1,n}})();try{new r.a((e=>{if(!window.__tcfapi)throw new Error("No CMP available for 'addEventListener'!");window.__tcfapi("addEventListener",2,((t,i)=>{i?e.next(t):l("__tcfapi call failed for command 'addEventListener'!")}))})).subscribe((e=>{(e=>{const t=e.eventStatus?.toLowerCase();return!!t&&("useractioncomplete"===t||"tcloaded"===t)})(e)&&i.next(a({tcData:e,cmpStatus:"useractioncomplete"===e.eventStatus?.toLowerCase()?"user":"loaded"}))}))}catch(e){return reportError(new o.b(o.a.consentManagementError,e)),i.next(a({cmpStatus:"error"}))}})))({cmpLatency:i.elapsed,maxDuration:t-i.elapsed}):r.a.of({cmpStatus:"missing",cmpLatency:i.elapsed,consentLatency:0})})(await w.promise)).subscribe((t=>{e.next(t)}))}),!0),x=(0,g.a)({cmp:T,storagePolicy:r.a.of(u.a)},{name:"consent",assumeConsentBeforeCmp:!0}),D=new m.a({name:"turbo-cmp",expirationInterval:2592e3,storageType:()=>x,stream:()=>T,customEncoder:(()=>{const e=(0,I.a)((0,b.a)(v));return{encode:e=>{if(!e.value.tcData)return null;const t={value:e.value.tcData,fetchTime:e.fetchTime};return JSON.stringify(t)},decode:t=>{const i=e(JSON.parse(t));if(!i.value)throw new Error(`stored data does not contain appropriate consent and will be ignored: "${t}"`);return{fetchTime:i.fetchTime,value:{cmpStatus:"cached",tcData:i.value,cmpLatency:0,consentLatency:0}}}}})()});w.promise,p.b.then((e=>{const{consentTimeout:t,cmpTimeout:i}=e.consent;w.resolve({totalConsentTimeout:t,cmpTimeout:i})})),(0,f.b)(1).then((()=>w.resolve(c.a)))},(e,t,i)=>{i.d(t,{a:()=>a,b:()=>o,c:()=>r,d:()=>n});const a={storageAccess:1,personalization:2,adSelectionDeliveryReporting:3,contentSelectionDeliveryReporting:4,measurement:5},n=(e,t,i=!1)=>{const a=e?.purpose?.consents?.[t],n=e?.purpose?.legitimateInterests?.[t];return a??n??i},r=(e,t,i=!1)=>{const a=e?.vendor?.consents?.[t];return a??i},o=e=>e?.tcString},(e,t,i)=>{i.d(t,{a:()=>l});var a=i(3),n=(i(19),i(117)),r=i(88),o=i(33),s=i(1),d=i(27);class l{#n;#r;#o;#s;#d;#l;#c;#p=!1;#u=!1;constructor(e){this.#n=e,this.#r=a.a.tag(`bundle:${e.name}`),this.#d=`hbv:bundle:${this.#n.name}`;const t=e.validator??o.b;this.#c=(0,o.a)((0,n.a)(t)),e.validator||this.#r.debug("validator should be provided to bundle option and will become mandatory"),this.#s=e.storageType(),this.#o=new d.a(!0);const i=this.#o.pipe((e=>{if("origin"===e?.source)return e}));(0,d.b)([this.#s,i]).subscribe((([e,t])=>{this.#m(e,t)})),this.#l=new d.a((async e=>{if(this.#r.debug("started loading from source..."),this.#p=!0,this.#n.loader)try{const t=await Promise.resolve(this.#n.loader());e.next(t)}catch(e){this.#r.error("Loading from loader failed",e)}finally{this.#p=!1}else{if(this.#u)return;this.#u=!0,this.#n.stream().subscribe((t=>e.next(t)))}})).pipe((e=>(this.#r.info("a new value was retrieved from origin:",e),this.#o.next({value:e,fetchTime:Date.now(),source:"origin"}),e))),this.#b()}#f=async()=>this.#n.keySuffix?`${this.#d}-${await this.#n.keySuffix()}`:this.#d;#m=async(e,t)=>{try{const i=t?this.#g({fetchTime:t.fetchTime,value:t.value}):null;(0,r.b)(e,await this.#f(),i)}catch(i){this.#r.error(`error while persisting data to storage '${e}'`,t)}};#y=e=>this.#n.customEncoder?this.#n.customEncoder.decode(e):this.#c(JSON.parse(e));#g=e=>this.#n.customEncoder?this.#n.customEncoder.encode(e):JSON.stringify(e);_fetchTask=()=>this.#p?this.#h():void 0;#b=async(e=!1)=>{const t=await this.#f();this.#r.debug("started loading of cached data...");let i=!1;this.#s.subscribe((a=>{if(i)return;i=!0;const n=(0,r.a)(a,t);if(!n)return;const o=this.#y(n);if((0,s.r)(this.#o.value)||e){const t=e?" (forced)":"";this.#r.debug(`cached data will be used${t}:`,o),this.#o.next({...o,source:"cache"})}else this.#r.debug("cached data won't be used because data is already available",o)}))};#_;#h=async()=>(this.#p||(this.#p=!0,this.#_=new Promise((e=>{this.#l.subscribe((t=>{this.#p=!1,e(t)}))}))),this.#_);#v=(e,t)=>!(0,s.r)(this.#n.freshnessInterval)&&t-e.fetchTime<1e3*this.#n.freshnessInterval;#I=(e,t)=>t-e.fetchTime>1e3*this.#n.expirationInterval;updatedValue=()=>{const e=Date.now(),t=this.#o.value;if(t&&this.#v(t,e))return this.#r.info("current data is fresh enough and won't be refreshed right now",t.value),Promise.resolve(t.value);const i=this.#h();return t&&!this.#I(t,e)?(this.#r.info("current data will be used and bundle will be refreshed in background if needed",t),Promise.resolve(t.value)):(this.#r.info("current data is expired or unavailable and bundle must wait for refresh task"),i)};fetchIfNeeded=()=>this.updatedValue();clearData=()=>{this.#m("local-storage",null)};get asStream(){return this.#o.pipe((e=>{if((0,s.i)(e)&&!this.#I(e,Date.now()))return e.value}))}get currentValue(){const e=this.#o.value;return e&&!this.#I(e,Date.now())?e.value:this.#n.defaultValue}}},(e,t,i)=>{i.d(t,{a:()=>_,b:()=>v,c:()=>h}),i(32);var a=i(1),n=i(65);const r=new Set([n.b.no,n.b.yes]),o=e=>(0,a.m)(e);var s=i(66),d=i(67);const l=new Set([0,1,2,3,4,5,6,7,8]),c=new Set([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),p=new Set([s.a.vpaid10,s.a.vpaid20,s.a.mraid1,s.a.ormma,s.a.mraid2,s.a.mraid3,s.a.omid1]),u=new Set([d.a.vast10,d.a.vast20,d.a.vast30,d.a.vast10Wrapper,d.a.vast20Wrapper,d.a.vast30Wrapper,d.a.vast40,d.a.vast40Wrapper,d.a.daast10,d.a.daast10Wrapper,d.a.vast41,d.a.vast41Wrapper,d.a.vast42,d.a.vast42Wrapper]),m=new Set([1,2,3]),b=e=>(0,a.q)(e),f=e=>(0,a.l)(e)&&c.has(e),g=e=>(0,a.m)(e)&&(0,a.q)(e.id)&&(0,a.q)(e.impid)&&(0,a.l)(e.price)&&((0,a.j)(e.adid)||(0,a.q)(e.adid))&&((0,a.j)(e.nurl)||(0,a.q)(e.nurl))&&((0,a.j)(e.adm)||(0,a.q)(e.adm))&&((0,a.j)(e.adomain)||(0,a.b)(e.adomain,a.q))&&((0,a.j)(e.bundle)||(0,a.q)(e.bundle))&&((0,a.j)(e.iurl)||(0,a.q)(e.iurl))&&((0,a.j)(e.cid)||(0,a.q)(e.cid))&&((0,a.j)(e.crid)||(0,a.q)(e.crid))&&((0,a.j)(e.cat)||(0,a.b)(e.cat,b))&&((0,a.j)(e.attr)||(0,a.b)(e.attr,f))&&((0,a.j)(e.api)||(e=>(0,a.l)(e)&&p.has(e))(e.api))&&((0,a.j)(e.protocol)||(e=>(0,a.l)(e)&&u.has(e))(e.protocol))&&((0,a.j)(e.qagmediarating)||(e=>(0,a.l)(e)&&m.has(e))(e.qagmediarating))&&((0,a.j)(e.dealid)||(0,a.q)(e.dealid))&&((0,a.j)(e.w)||(0,a.l)(e.w))&&((0,a.j)(e.h)||(0,a.l)(e.h))&&((0,a.j)(e.exp)||(0,a.l)(e.exp))&&((0,a.j)(e.ext)||o(e.ext)),y=e=>(0,a.m)(e)&&((0,a.j)(e.bid)||(0,a.b)(e.bid,g))&&((0,a.j)(e.seat)||(0,a.q)(e.seat))&&((0,a.j)(e.group)||(e=>(0,a.l)(e)&&r.has(e))(e.group))&&((0,a.j)(e.ext)||o(e.ext)),h=e=>(0,a.m)(e)&&(0,a.q)(e.id)&&((0,a.j)(e.seatbid)||(0,a.b)(e.seatbid,y))&&((0,a.j)(e.bidid)||(0,a.q)(e.bidid))&&((0,a.j)(e.cur)||(e=>(0,a.q)(e))(e.cur))&&((0,a.j)(e.customdata)||(0,a.q)(e.customdata))&&((0,a.j)(e.nbr)||(e=>(0,a.l)(e)&&l.has(e))(e.nbr))&&((0,a.j)(e.ext)||o(e.ext)),_=e=>t=>{if(!e(t))throw new Error("validation failed");return t},v=()=>!0},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>d,c:()=>u,d:()=>c,e:()=>p});var a=i(5),n=i(0),r=i(2),o=i(9),s=i(8);const d="outstream",l="instream";function c(e){const t=e?.mediaTypes?.video;null!=t&&null==t.plcmt&&(t.context===d||[2,3,4].includes(t.placement)?t.plcmt=4:t.context!==d&&[2,6].includes(t.playbackmethod)&&(t.plcmt=2))}function p(e,{index:t=s.a.index}={}){const i=(0,a.a)(t.getMediaTypes(e),"video"),n=i&&(0,a.a)(i,"context"),r=i&&(0,a.a)(i,"useCacheKey"),o=t.getAdUnit(e);return u(e,o,i,n,r)}const u=(0,o.b)("sync",(function(e,t,i,a,o){return i&&(o||a!==d)?r.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,n.ab)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with hubjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(a===d&&!o&&!(e.renderer||t&&t.renderer||i.renderer))}),"checkVideoBidSetup")},(e,t,i)=>{i.d(t,{a:()=>c,b:()=>B,c:()=>w,d:()=>D,e:()=>A,f:()=>R,g:()=>S,h:()=>l,i:()=>x,j:()=>U});var a=i(5),n=i(0),r=i(4),o=i(8),s=i(6),d=i(36);const l=[],c=Object.keys(s.NATIVE_KEYS).map((e=>s.NATIVE_KEYS[e])),p={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},{NATIVE_ASSET_TYPES:u,NATIVE_IMAGE_TYPES:m,PREBID_NATIVE_DATA_KEYS_TO_ORTB:b,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:f,NATIVE_KEYS:g}=s,y=q(b),h=q(u),_={img:1,js:2,1:"img",2:"js"},v={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};function I(e){if(e&&e.type&&(!(!(t=e.type)||!(0,r.c)(Object.keys(p),t))||((0,n.ab)(`${t} nativeParam is not supported`),!1))&&(e=p[e.type]),!e||!e.ortb||T(e.ortb))return e;var t}function w(e){e.forEach((e=>{const t=e.nativeParams||(0,a.a)(e,"mediaTypes.native");t&&(e.nativeParams=I(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!(0,n.Y)(e))return void(0,n.ab)("Native assets object is empty or not an object: ",e);const t={ver:"1.2",assets:[]};for(let i in e){if(f.includes(i))continue;if(!g.hasOwnProperty(i)){(0,n.ab)(`Unrecognized native asset code: ${i}. Asset will be ignored.`);continue}if("privacyLink"===i){t.privacy=1;continue}const a=e[i];let r=0;a.required&&(0,n.R)(a.required)&&(r=Number(a.required));const o={id:t.assets.length,required:r};if(i in b)o.data={type:u[b[i]]},a.len&&(o.data.len=a.len);else if("icon"===i||"image"===i){if(o.img={type:"icon"===i?m.ICON:m.MAIN},a.aspect_ratios)if((0,n.Q)(a.aspect_ratios))if(a.aspect_ratios.length){const{min_width:e,min_height:t}=a.aspect_ratios[0];(0,n.W)(e)&&(0,n.W)(t)?(o.img.wmin=e,o.img.hmin=t):(0,n.ab)("image.aspect_ratios min_width or min_height are invalid: ",e,t);const i=a.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>`${e.ratio_width}:${e.ratio_height}`));i.length>0&&(o.img.ext={aspectratios:i})}else(0,n.ab)("image.aspect_ratios was passed, but it's empty:",a.aspect_ratios);else(0,n.ab)("image.aspect_ratios was passed, but it's not a an array:",a.aspect_ratios);a.sizes&&(2===a.sizes.length&&(0,n.W)(a.sizes[0])&&(0,n.W)(a.sizes[1])?(o.img.w=a.sizes[0],o.img.h=a.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,n.ab)("image.sizes was passed, but its value is not an array of integers:",a.sizes))}else"title"===i?o.title={len:a.len||140}:"ext"===i&&(o.ext=a,delete o.required);t.assets.push(o)}return t}(e.nativeParams))}))}function T(e){const t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,n.ab)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;const i=t.map((e=>e.id));return t.length!==new Set(i).size||i.some((e=>e!==parseInt(e,10)))?((0,n.ab)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,n.ab)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((e=>function(e){if(!(0,n.Y)(e))return(0,n.ab)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,n.X)(e.img.w)&&!(0,n.X)(e.img.wmin))return(0,n.ab)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,n.X)(e.img.h)&&!(0,n.X)(e.img.hmin))return(0,n.ab)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,n.X)(e.title.len))return(0,n.ab)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,n.X)(e.data.type))return(0,n.ab)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,n.X)(e.video.minduration)&&(0,n.X)(e.video.maxduration)))return(0,n.ab)("video asset is not properly configured"),!1;return!0}(e)))}function x(e,{index:t=o.a.index}={}){const i=t.getAdUnit(e);if(!i)return!1;let s=i.nativeOrtbRequest;return function(e,t){if(!(0,a.a)(e,"link.url"))return(0,n.ab)("native response doesn't have 'link' property. Ortb response: ",e),!1;let i=t.assets.filter((e=>1===e.required)).map((e=>e.id)),o=e.assets.map((e=>e.id));const s=i.every((e=>(0,r.c)(o,e)));return s||(0,n.ab)(`didn't receive a bid with all required assets. Required ids: ${i}, but received ids in response: ${o}`),s}(e.native?.ortb||N(e.native,s),s)}function D(e,t){const i=t.native.ortb||P(t.native);return"click"===e.action?function(e,t=null,{fetchURL:i=n.ub}={}){if(t){const a=(e.assets||[]).filter((e=>e.link)).reduce(((e,t)=>(e[t.id]=t.link,e)),{}),n=e.link?.clicktrackers||[];let r=a[t],o=n;r&&(o=r.clicktrackers||[]),o.forEach((e=>i(e)))}else(e.link?.clicktrackers||[]).forEach((e=>i(e)))}(i,e?.assetId):function(e,{runMarkup:t=(e=>(0,n.L)(e)),fetchURL:i=n.ub}={}){const a=(e.eventtrackers||[]).filter((e=>e.event===v.impression));let{img:r,js:o}=a.reduce(((e,t)=>(_.hasOwnProperty(t.method)&&e[_[t.method]].push(t.url),e)),{img:[],js:[]});e.imptrackers&&(r=r.concat(e.imptrackers)),r.forEach((e=>i(e))),o=o.map((e=>`<script async src="${e}"><\/script>`)),e.jstracker&&(o=o.concat([e.jstracker])),o.length&&t(o.join("\n"))}(i),e.action}function S(e,{index:t=o.a.index}={}){let i={};const n=t.getAdUnit(e);(0,a.a)(n,"nativeParams.rendererUrl")?e.native.rendererUrl=k(n.nativeParams.rendererUrl):(0,a.a)(n,"nativeParams.adTemplate")&&(e.native.adTemplate=k(n.nativeParams.adTemplate));const r=!1!==(0,a.a)(n,"nativeParams.sendTargetingKeys"),d=function(e){const t={};return(0,a.a)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((e=>{t[e]=`hb_native_${e}`})),{...s.NATIVE_KEYS,...t}}(n),l={...e.native,...e.native.ext};return delete l.ext,Object.keys(l).forEach((t=>{const o=d[t];let s=k(e.native[t])||k((0,a.a)(e,`native.ext.${t}`));if("adTemplate"===t||!o||!s)return;let l=(0,a.a)(n,`nativeParams.${t}.sendId`);"boolean"!=typeof l&&(l=(0,a.a)(n,`nativeParams.ext.${t}.sendId`)),l&&(s=`${o}:${e.adId}`);let c=(0,a.a)(n,`nativeParams.${t}.sendTargetingKeys`);"boolean"!=typeof c&&(c=(0,a.a)(n,`nativeParams.ext.${t}.sendTargetingKeys`)),("boolean"==typeof c?c:r)&&(i[o]=s)})),i}function C(e,t,i,{index:a=o.a.index}={}){const n={message:"assetResponse",adId:e.adId},r=a.getAdUnit(t);let d=t.native;return t.native.ortb?n.ortb=t.native.ortb:r.mediaTypes?.native?.ortb&&(n.ortb=N(t.native,r.nativeOrtbRequest)),n.assets=[],(i??Object.keys(d)).forEach((function(e){if("adTemplate"===e&&d[e])n.adTemplate=k(d[e]);else if("rendererUrl"===e&&d[e])n.rendererUrl=k(d[e]);else if("ext"===e)Object.keys(d[e]).forEach((t=>{if(d[e][t]){const i=k(d[e][t]);n.assets.push({key:t,value:i})}}));else if(d[e]&&s.NATIVE_KEYS.hasOwnProperty(e)){const t=k(d[e]);n.assets.push({key:e,value:t})}})),n}const E=Object.fromEntries(Object.entries(s.NATIVE_KEYS).map((([e,t])=>[t,e])));function R(e,t){const i=e.assets.map((e=>E[e]));return C(e,t,i)}function A(e,t){return C(e,t,null)}function k(e){return e?.url||e}function O(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}function M(e){if(!T(e))return;const t={};for(const i of e.assets){if(i.title){const e={required:!!i.required&&Boolean(i.required),len:i.title.len};t.title=e}else if(i.img){const e={required:!!i.required&&Boolean(i.required)};if(i.img.w&&i.img.h)e.sizes=[i.img.w,i.img.h];else if(i.img.wmin&&i.img.hmin){const t=O(i.img.wmin,i.img.hmin);e.aspect_ratios=[{min_width:i.img.wmin,min_height:i.img.hmin,ratio_width:i.img.wmin/t,ratio_height:i.img.hmin/t}]}i.img.type===m.MAIN?t.image=e:t.icon=e}else if(i.data){let e=Object.keys(u).find((e=>u[e]===i.data.type)),a=Object.keys(b).find((t=>b[t]===e));t[a]={required:!!i.required&&Boolean(i.required)},i.data.len&&(t[a].len=i.data.len)}e.privacy&&(t.privacyLink={required:!1})}return t}function B(e){{if(!e||!(0,n.Q)(e))return e;if(!e.some((e=>(e?.mediaTypes||{})[d.c]?.ortb)))return e;let t=(0,n.n)(e);for(const e of t)e.mediaTypes&&e.mediaTypes[d.c]&&e.mediaTypes[d.c].ortb&&(e.mediaTypes[d.c]=Object.assign((0,n.lb)(e.mediaTypes[d.c],f),M(e.mediaTypes[d.c].ortb)),e.nativeParams=I(e.mediaTypes[d.c]));return t}}function P(e){const t={link:{},eventtrackers:[]};return Object.entries(e).forEach((([e,i])=>{switch(e){case"clickUrl":t.link.url=i;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(i)?i:[i];break;case"impressionTrackers":(Array.isArray(i)?i:[i]).forEach((e=>{t.eventtrackers.push({event:v.impression,method:_.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(i)?i.join(""):i;break;case"privacyLink":t.privacy=i}})),t}function N(e,t){const i={...P(e),assets:[]};function a(e,a){let r=t.assets.find(e);null!=r&&(r=(0,n.n)(r),a(r),i.assets.push(r))}return Object.keys(e).filter((t=>!!e[t])).forEach((t=>{const i=k(e[t]);switch(t){case"title":a((e=>null!=e.title),(e=>{e.title={text:i}}));break;case"image":case"icon":const e="image"===t?m.MAIN:m.ICON;a((t=>null!=t.img&&t.img.type===e),(e=>{e.img={url:i}}));break;default:t in b&&a((e=>null!=e.data&&e.data.type===u[b[t]]),(e=>{e.data={value:i}}))}})),i}function U(e,t){const i={},a=t?.assets||[];i.clickUrl=e.link.url,i.privacyLink=e.privacy;for(const t of e?.assets||[]){const e=a.find((e=>t.id===e.id));t.title?i.title=t.title.text:t.img?i[e.img.type===m.MAIN?"image":"icon"]={url:t.img.url,width:t.img.w,height:t.img.h}:t.data&&(i[y[h[e.data.type]]]=t.data.value)}i.impressionTrackers=[];let n=[];e.imptrackers&&i.impressionTrackers.push(...e.imptrackers);for(const t of e?.eventtrackers||[])t.event===v.impression&&t.method===_.img&&i.impressionTrackers.push(t.url),t.event===v.impression&&t.method===_.js&&n.push(t.url);return n=n.map((e=>`<script async src="${e}"><\/script>`)),e?.jstracker&&n.push(e.jstracker),n.length&&(i.javascriptTrackers=n.join("\n")),i}function q(e){var t={};for(var i in e)t[e[i]]=i;return t}},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r,c:()=>a,d:()=>n});const a="native",n="video",r="banner",o="adpod"},(e,t,i)=>{i.d(t,{a:()=>d,b:()=>o});var a=i(2),n=i(0);function r(e,t=window){if(!e)return e;if(/\w+:\/\//.exec(e))return e;let i=t.location.protocol;try{i=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?i+e:`${i}//${e}`}function o(e,{noLeadingWww:t=!1,noPort:i=!1}={}){try{e=new URL(r(e))}catch(e){return}return e=i?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}function s(e){try{const t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}const d=function(e,t=window){if(t.top!==t)return e;let i,a,n;return function(){const r=s(t.document),o=t.location.href;return i===r&&o===a||(i=r,a=o,n=e()),n}}((l=window,function(){const e=[],t=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(l),i=a.config.getConfig("maxNestedIframes");let d,c,p,u,m=!1,b=0,f=!1,g=!1,y=!1;do{const i=d,a=g;let r,o=!1,u=null;g=!1,d=d?d.parent:l;try{r=d.location.href||null}catch(e){o=!0}if(o)if(a){const e=i.context;try{u=e.sourceUrl,c=u,y=!0,f=!0,d===l.top&&(m=!0),e.canonicalUrl&&(p=e.canonicalUrl)}catch(e){}}else{(0,n.db)("Trying to access cross domain iframe. Continuing without referrer and location");try{const e=i.document.referrer;e&&(u=e,d===l.top&&(m=!0))}catch(e){}!u&&t&&t[b-1]&&(u=t[b-1],d===l.top&&(y=!0)),u&&!f&&(c=u)}else{if(r&&(u=r,c=u,f=!1,d===l.top)){m=!0;const e=s(d.document);e&&(p=e)}d.context&&d.context.sourceUrl&&(g=!0)}e.push(u),b++}while(d!==l.top&&b<i);e.reverse();try{u=l.top.document.referrer}catch(e){}const h=m||y?c:null,_=a.config.getConfig("pageUrl")||p||null;let v=a.config.getConfig("pageUrl")||h||r(_,l);return h&&h.indexOf("?")>-1&&-1===v.indexOf("?")&&(v=`${v}${h.substring(h.indexOf("?"))}`),{reachedTop:m,isAmp:f,numIframes:b-1,stack:e,topmostLocation:c||null,location:h,canonicalUrl:_,page:v,domain:o(v)||null,ref:u||null,legacy:{reachedTop:m,isAmp:f,numIframes:b-1,stack:e,referer:c||null,canonicalUrl:_}}}));var l},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(23);const n=(0,i(13).j)((e=>a.a.resolveAlias(e)))},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>r});var a=i(1);const n=e=>(0,a.d)(e,(e=>(0,a.q)(e)||e instanceof RegExp)),r=(e,...t)=>!(0,a.j)(e)&&((0,a.c)(e)?e.some((e=>r(e,...t))):(0,a.q)(e)?t.some((t=>t===e)):e instanceof RegExp&&t.some((t=>e.test(t))))},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>d,c:()=>o,d:()=>p,e:()=>u,f:()=>b,g:()=>y,h:()=>f,i:()=>g,j:()=>m,k:()=>h,l:()=>c,m:()=>s,n:()=>v,o:()=>_});var a=i(16),n=i(28),r=i(1);const o=e=>{for(;e.firstChild;)e.firstChild.remove()},s=(e,t)=>{for(const[i,a]of Object.entries(t)){const t=a.replace(/\s*!important\s*$/gi,""),n=a!==t;e.style.setProperty(i,t,n?"important":"")}},d=(e,t,i)=>{const a=e.getElementById(t)??((e,t)=>{const i=e.createElement("style");return i.id=t,e.head.append(i),i})(e,t);return o(a),a.append(document.createTextNode(i)),a},l=((0,a.a)(d),(e,t)=>d(document,e,t)),c=(e,{id:t,width:i,height:a})=>{t&&(e.id=t),s(e,{width:`${i}px`,height:`${a}px`,border:"0"});const n={marginheight:"0",marginwidth:"0",width:`${i}`,height:`${a}`,topmargin:"0",leftmargin:"0",allowtransparency:"true",scrolling:"no"};for(const[t,i]of Object.entries(n))e.setAttribute(t,i)},p=e=>{e.setAttribute("width","0"),e.setAttribute("height","0"),e.style.display="none",e.style.width="0px",e.style.height="0px",e.style.border="0"},u=e=>9===e.nodeType,m=e=>11===e.nodeType&&!!e.host,b=e=>1===e.nodeType,f=e=>{const t=e?.ownerDocument.defaultView;return!!t&&e instanceof t.HTMLIFrameElement},g=e=>{const t=e?.ownerDocument.defaultView;return!!t&&e instanceof t.HTMLElement},y=/Firefox\//i.test(navigator.userAgent),h=e=>(0,r.i)(e)&&"uninitialized"!==e.readyState,_=async(e,t)=>{await(0,n.b)((0,n.a)({interval:.01,maxTryCount:10}),(()=>h(e.contentDocument)||void 0)),t()},v=async e=>(0,n.b)((0,n.a)({interval:.01,maxTryCount:10}),(()=>h(e.contentDocument)?e.contentDocument:void 0))},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>a});const a={pageView:"page-view",visibility:"visibility",secondChance:"second-chance"};class n{bidderTimeout;placements;refreshReason;context;amazonOrtb2;constructor(e){Object.assign(this,e)}}},(e,t,i)=>{i.d(t,{a:()=>a});const a={error:"lifecycle::error",refresh:"lifecycle::refresh",auctionStarted:"lifecycle::auction-started",auctionFinished:"lifecycle::auction-finished",auctionResolved:"lifecycle::auction-resolved",renderRequested:"lifecycle::render-requested",renderableRequested:"lifecycle::renderable-requested",impression:"lifecycle::impression",adrequest:"lifecycle::adrequest",amazonImp:"lifecycle::amazon-imp",measuredImp:"lifecycle::measured-imp",visibleImp:"lifecycle::visible-imp",renderedImp:"lifecycle::rendered-imp",backupRenderRequested:"lifecycle::backup-render-requested",carbonFilteredBid:"lifecycle::carbon-filtered-bid",AmazonRenderRequest:"lifecycle::amazon-render-request"}},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>d});var a=i(30),n=i(31),r=i(20);const o={assumeConsentlessIfCmpUnavailable:!1};r.b.then((e=>{o.assumeConsentlessIfCmpUnavailable=e.consent.assumeConsentlessIfCmpUnavailable}));const s=()=>!!a.a.currentValue?.tcData?.gdprApplies,d=()=>{const e=a.a.currentValue;return e?.tcData?!!e.tcData.gdprApplies&&!(0,n.d)(e.tcData,n.a.storageAccess):o.assumeConsentlessIfCmpUnavailable}},(e,t,i)=>{i.d(t,{a:()=>a});const a=(0,i(97).a)({value:!0,weight:1},{value:!1,weight:99})},(e,t,i)=>{i.d(t,{remoteConfiguration:()=>R});var a=i(32);const n={currencies:{lastUpdated:"2024-01-15T01:00:02.000Z",rates:{USD:{FJD:2.210981,MXN:16.868335,STD:20697.981008,LVL:.60489,SCR:13.272035,CDF:2700.000459,BBD:2.019897,GTQ:7.81831,CLP:909.420233,HNL:24.66906,UGX:3801.353907,ZAR:18.65092,TND:3.093502,SLE:22.910013,CUC:1,BSD:1.000356,SLL:19749.999788,SDG:600.999819,IQD:1310.506434,CUP:26.5,GMD:67.274981,TWD:31.090599,RSD:107.102497,DOP:58.632755,KMF:449.59594,MYR:4.650243,FKP:.784354,XOF:599.260924,GEL:2.677502,BTC:23665496e-12,UYU:39.365619,MAD:9.964097,CVE:100.734508,TOP:2.35035,AZN:1.698224,OMR:.38497,PGK:3.738318,KES:158.302957,SEK:10.2879,BTN:82.938307,UAH:37.864354,GNF:8597.582701,ERN:15,MZN:63.24995,ARS:815.508612,QAR:3.64075,IRR:42105.000373,CNY:7.110602,THB:34.970211,UZS:12349.603969,XPF:109.350383,MRU:39.612179,BDT:109.792529,LYD:4.796229,BMD:1,KWD:.30733,PHP:55.925035,RUB:87.960044,PYG:7294.835604,ISK:136.730491,JMD:155.416084,COP:3923.43,MKD:56.202666,USD:1,DZD:134.589864,PAB:1.000356,GGP:.784354,SGD:1.332198,ETB:56.573757,JEP:.784354,KGS:89.319724,SOS:571.000243,VEF:3588628.095393,VUV:117.88141,LAK:20634.652366,BND:1.332803,ZMK:9001.204195,XAF:599.260924,LRD:189.049573,XAG:.043084,CHF:.85356,HRK:6.88032,ALL:94.96533,DJF:178.118234,VES:35.921009,ZMW:26.134422,TZS:2515.96459,VND:24505,XAU:488e-6,AUD:1.49534,ILS:3.73075,GHS:11.974128,GYD:209.462731,KPW:899.954962,BOB:6.912964,KHR:4085.510689,MDL:17.761496,IDR:15544,KYD:.833626,AMD:404.618997,BWP:13.546377,SHP:1.27485,TRY:30.08875,LBP:15035.58345,TJS:10.939006,JOD:.709497,AED:3.672815,HKD:7.82024,RWF:1285.02389,EUR:.91333,LSL:18.669453,DKK:6.8116,CAD:1.340495,BGN:1.786755,MMK:2100.748212,MUR:44.229765,NOK:10.292502,SYP:13001.784107,IMP:.784354,ZWL:321.999592,GIP:.784354,RON:4.543303,LKR:322.442137,NGN:957.860045,CRC:520.185271,CZK:22.510097,PKR:277.342615,XCD:2.70255,ANG:1.802925,HTG:131.701078,BHD:.377121,KZT:451.957994,SRD:36.6335,SZL:18.663268,LTL:2.95274,SAR:3.750601,TTD:6.790515,YER:250.374992,MVR:15.400568,AFN:71.093814,INR:82.87955,AWG:1.8025,KRW:1313.530065,NPR:132.701145,JPY:145.125963,MNT:3412.527902,AOA:830.496259,PLN:3.981736,GBP:.78517,SBD:8.425461,BYN:3.27386,HUF:346.412971,BYR:19600,BIF:2851.517892,MWK:1683.978769,MGA:4572.404783,XDR:.749582,BZD:2.016426,BAM:1.786755,EGP:30.901101,MOP:8.060094,NAD:18.67024,NIO:36.634052,PEN:3.704607,NZD:1.605655,WST:2.682402,TMT:3.5,CLF:.032958,BRL:4.871598}}}};var r=i(71),o=i(33),s=i(20),d=i(64),l=i(1);const c=e=>(0,l.m)(e)&&(0,l.n)(e.pageZones,(0,l.h)(l.d,l.q))&&(0,l.n)(e.layouts,(0,l.h)(l.d,l.q))&&(0,l.n)(e.placementIds,(0,l.h)(l.d,l.q))&&(0,l.n)(e.supportCodes,(0,l.h)(l.d,l.q))&&(0,l.n)(e.isConsentless,l.e)&&((0,l.n)(e.startDate,l.f)||!isNaN(Date.parse(e.startDate)))&&((0,l.n)(e.endDate,l.f)||!isNaN(Date.parse(e.endDate))),p=e=>(0,l.m)(e)&&("window"===e.type||"tcvars"===e.type||"datalayer"===e.type)&&(0,l.q)(e.key)&&(0,l.n)(e.values,(0,l.h)(l.b,l.q))&&(0,l.n)(e.regex,(0,l.h)(l.b,l.q)),u=e=>(0,l.m)(e)&&(0,l.n)(e.pageZones,(0,l.h)(l.d,l.q))&&(0,l.n)(e.layouts,(0,l.h)(l.d,l.q))&&(0,l.n)(e.placementIds,(0,l.h)(l.d,l.q))&&(0,l.n)(e.supportCodes,(0,l.h)(l.d,l.q))&&(0,l.n)(e.isConsentless,l.e)&&(0,l.n)(e.urlMatching,(0,l.h)(l.d,l.q))&&(0,l.n)(e.allowedDisplayFormats,(0,l.h)(l.b,l.q))&&((0,l.r)(e.viewability)||"atf"===e.viewability||"btf"===e.viewability)&&(0,l.n)(e.countries,(0,l.h)(l.d,l.q))&&(0,l.n)(e.allowedSizes,(0,l.h)(l.d,l.q))&&(0,l.n)(e.allowedCustomFormats,(0,l.h)(l.d,l.q))&&(0,l.n)(e.customTargeting,p),m=e=>(0,l.m)(e)&&u(e)&&(0,l.q)(e.name)&&((0,l.r)(e.priceFloor)||(0,l.l)(e.priceFloor))&&((0,l.r)(e.currency)||(0,l.q)(e.currency))&&((0,l.r)(e.startDate)||(0,l.f)(e.startDate)||!isNaN(Date.parse(e.startDate)))&&((0,l.r)(e.endDate)||(0,l.f)(e.endDate)||!isNaN(Date.parse(e.endDate)))&&(0,l.n)(e.isGuaranteed,l.e)&&(0,l.n)(e.conditions,(0,l.h)(l.d,u)),b=e=>(0,l.m)(e)&&c(e)&&(0,l.n)(e.displayFormats,(0,l.h)(l.d,l.q))&&(0,l.n)(e.bidders,(0,l.h)(l.d,l.q))&&(0,l.n)(e.enabledBehindFlag,l.e)&&(0,l.n)(e.countries,(0,l.h)(l.d,l.q))&&(0,l.n)(e.devices,(0,l.h)(l.d,l.q))&&(0,l.e)(e.disabled),f=e=>(0,l.m)(e)&&c(e)&&(0,l.n)(e.displayFormats,(0,l.h)(l.d,l.q))&&(0,l.l)(e.adjustment)&&(0,l.n)(e.devices,(0,l.h)(l.d,l.q))&&(0,l.n)(e.bidders,(0,l.h)(l.d,l.q))&&("adserver"===e.adjustmentKind||"cpm"===e.adjustmentKind),g=e=>(0,l.m)(e)&&(0,l.q)(e.device)&&(0,l.q)(e.support)&&(0,l.q)(e.creativeId),y=e=>(0,l.m)(e)&&(0,l.n)(e.pageZones,(0,l.h)(l.d,l.q))&&(0,l.n)(e.devices,(0,l.h)(l.d,l.q))&&(0,l.n)(e.placementIds,(0,l.h)(l.d,l.q))&&(0,l.n)(e.supportCodes,(0,l.h)(l.d,l.q))&&(0,l.n)(e.mediaTypes,(0,l.h)(l.d,(e=>"banner"===e||"video"===e)))&&("atf"===e.fold||"btf"===e.fold)&&((0,l.n)(e.startDate,l.f)||!isNaN(Date.parse(e.startDate)))&&((0,l.n)(e.endDate,l.f)||!isNaN(Date.parse(e.endDate))),h=e=>(0,l.m)(e)&&(0,l.n)(e.layouts,(0,l.h)(l.d,l.q))&&(0,l.n)(e.supportCodes,(0,l.h)(l.d,l.q))&&(0,l.n)(e.countries,(0,l.h)(l.d,l.q))&&(0,l.n)(e.pageZones,(0,l.h)(l.d,l.q))&&(0,l.n)(e.isConsentless,l.e)&&(0,l.n)(e.defaultFloor,l.l)&&(0,l.n)(e.currency,l.q)&&(0,l.b)(e.schema,l.q)&&(0,l.o)(e.floorRules,(e=>(0,l.l)(e)||(e=>(0,l.m)(e)&&(0,l.l)(e.floor)&&(0,l.n)(e.currency,l.q))(e)))&&((0,l.n)(e.startDate,l.f)||!isNaN(Date.parse(e.startDate)))&&((0,l.n)(e.endDate,l.f)||!isNaN(Date.parse(e.endDate))),_=e=>(0,l.m)(e)&&(0,l.d)(e.devices,l.q)&&(0,l.n)(e.categories,(0,l.h)(l.d,l.q))&&(0,l.n)(e.zones,(0,l.h)(l.d,l.q))&&(0,l.n)(e.placement,l.q)&&(0,l.n)(e.refresh,l.e)&&(0,l.n)(e.support,l.q)&&(0,l.o)(e.multiplierByHour,(e=>(0,l.l)(e))),v=e=>(0,l.m)(e)&&(0,l.b)(e.multipliers,_),I=e=>(0,l.m)(e)&&(0,l.o)(e.rates,(e=>(0,l.o)(e,(e=>(0,l.l)(e)))))&&(0,l.b)(e.bidders,l.q)&&(0,l.o)(e.dimensionValues,(e=>(0,l.b)(e,l.q)))&&(0,l.b)(e.contextDimensions,l.q),w=e=>(0,l.c)(e)&&e.every((e=>(0,l.m)(e)&&(0,l.e)(e.enabled)&&(0,l.n)(e.devices,(0,l.h)(l.b,l.q))&&(0,l.n)(e.supportCodes,(0,l.h)(l.b,l.q))&&(0,l.n)(e.placementIds,(0,l.h)(l.b,l.q))&&(0,l.n)(e.customTargeting,p))),T=e=>(0,l.m)(e)&&(0,l.n)(e.callRates,I)&&(0,l.n)(e.configs,w),x=e=>(0,l.m)(e)&&(0,l.n)(e.bidders,(0,l.h)(l.b,b))&&(0,l.n)(e.cpmAdjustments,(0,l.h)(l.b,f))&&(0,l.n)(e.deals,(0,l.h)(l.b,m))&&(0,l.n)(e.blacklistedCreatives,(0,l.h)(l.b,g))&&(0,l.n)(e.floors,(0,l.h)(l.b,h))&&(0,l.n)(e.folds,(0,l.h)(l.b,y))&&(0,l.n)(e.floorMultipliers,(0,l.h)(l.b,v))&&(0,l.n)(e.cleanr,T),D=e=>(0,l.m)(e)&&(e=>(0,l.m)(e)&&(0,l.o)(e.rates,(e=>(0,l.o)(e,(e=>(0,l.l)(e)))))&&(0,l.q)(e.lastUpdated))(e.currencies)&&(0,l.n)(e.publisherConfiguration,x),S=(0,o.a)(D),C=e=>{const t=(new Date).getTime(),{startDate:i,endDate:a}=e;return(!i||new Date(i).getTime()<t)&&(!a||t<new Date(a).getTime())},E={encode:e=>JSON.stringify(e),decode:e=>{const t=JSON.parse(e),{publisherConfiguration:i}=S(t.value);return i&&(i.bidders=i.bidders?.filter(C),i.cpmAdjustments=i.cpmAdjustments?.filter(C),i.deals=i.deals?.filter(C),i.floors=i.floors?.filter(C),i.folds=i.folds?.filter(C)),t}},R=new a.a({name:`remote-configuration-${d.b}`,keySuffix:async()=>(await s.b).support,storageType:()=>(0,r.a)({name:"remoteConfiguration"}),freshnessInterval:3600,expirationInterval:604800,loader:async()=>{const e=await s.b,t=new URL("https://c.client-context.hubvisor.io/configuration");t.searchParams.set("publisherId",e.publisherId),t.searchParams.set("device",d.b),t.searchParams.set("support",e.support);const i=await fetch(t);if(!i.ok)throw new Error(`http status: ${i.statusText}`);const a=await i.json();return S(a)},customEncoder:E,defaultValue:D(n)?n:void 0,validator:D})},(e,t,i)=>{i.d(t,{a:()=>a});const a=new(i(47).TinyEmitter)},e=>{function t(){}t.prototype={on:function(e,t,i){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var a=this;function n(){a.off(e,n),t.apply(i,arguments)}return n._=t,this.on(e,n,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),a=0,n=i.length;a<n;a++)i[a].fn.apply(i[a].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),a=i[e],n=[];if(a&&t)for(var r=0,o=a.length;r<o;r++)a[r].fn!==t&&a[r].fn._!==t&&n.push(a[r]);return n.length?i[e]=n:delete i[e],this}},e.exports=t,e.exports.TinyEmitter=t},(e,t,i)=>{function a(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}i.d(t,{a:()=>D,b:()=>x});var n=i(23),r=i(2),o=i(86),s=i(49),d=i(35),l=i(34),c=i(6),p=i(21),u=i(4),m=i(0),b=i(9),f=i(8),g=i(15),y=i(25),h=i(22),_=i(38),v=i(14),I=i(24);const w=["cpm","ttl","creativeId","netRevenue","currency"],T=["auctionId","transactionId"];function x(e){const t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function i(e){const i=D(e);n.a.registerBidAdapter(i,e.code,t)}i(e),Array.isArray(e.aliases)&&e.aliases.forEach((t=>{let a,r,o=t;(0,m.Y)(t)&&(o=t.code,a=t.gvlid,r=t.skipPbsAliasing),n.a.aliasRegistry[o]=e.code,i(Object.assign({},e,{code:o,gvlid:a,skipPbsAliasing:r}))}))}function D(e){return Object.assign(new a(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:t,callBids:function(i,a,s,b,x,D){if(!Array.isArray(i.bids))return;const C=function(e){if((0,h.a)(I.i,(0,_.a)(v.b,e)))return{bidRequest:e=>e,bidderRequest:e=>e};function t(e,t,i){return T.includes(t)?null:Reflect.get(e,t,i)}function i(e,t){const i=new Proxy(e,t);return Object.entries(e).filter((([e,t])=>"function"==typeof t)).forEach((([t,a])=>i[t]=a.bind(e))),i}const a=(0,m.eb)((e=>i(e,{get:t})),(e=>e.bidId));return{bidRequest:a,bidderRequest:e=>i(e,{get:(i,n,r)=>"bids"===n?e.bids.map(a):t(i,n,r)})}}(i.bidderCode),A={},k=[];function O(){s(),r.config.runWithBidder(e.code,(()=>{p.emit(c.EVENTS.BIDDER_DONE,i),t(k,i.gdprConsent,i.uspConsent,i.gppConsent)}))}const M=R(i).measureTime("validate",(()=>i.bids.filter((t=>{return i=C.bidRequest(t),!!e.isBidRequestValid(i)||((0,m.db)(`Invalid bid sent to bidder ${e.code}: ${JSON.stringify(i)}`),!1);var i}))));if(0===M.length)return void O();const B={};M.forEach((e=>{B[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),S(e,M.map(C.bidRequest),C.bidderRequest(i),b,D,{onRequest:e=>p.emit(c.EVENTS.BEFORE_BIDDER_HTTP,i,e),onResponse:t=>{x(e.code),k.push(t)},onFledgeAuctionConfigs:e=>{e.forEach((e=>{const t=B[e.bidId];t?E(t,e.config):(0,m.db)("Received fledge auction configuration for an unknown bidId",e)}))},onError:(t,a)=>{x(e.code),n.a.callBidderError(e.code,a,i),p.emit(c.EVENTS.BIDDER_ERROR,{error:a,bidderRequest:i}),(0,m.ab)(`Server call for ${e.code} failed: ${t} ${a.status}. Continuing without bids.`)},onBid:t=>{const i=B[t.requestId];if(i){if(t.adapterCode=i.bidder,function(e,t){let i=g.a.get(t,"allowAlternateBidderCodes")||!1,a=g.a.get(t,"allowedAlternateBidderCodes");return!!(e&&t&&t!==e&&(a=(0,m.Q)(a)?a.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(m.vb):a,!i||(0,m.Q)(a)&&"*"!==a[0]&&!a.includes(e)))}(t.bidderCode,i.bidder))return(0,m.db)(`${t.bidderCode} is not a registered partner or known bidder of ${i.bidder}, hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.`),void a.reject(i.adUnitCode,t,c.REJECTION_REASON.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[i.bidder]);const e=Object.assign((0,o.a)(c.STATUS.GOOD,i),t,(0,m.lb)(i,T));!function(e,t){const i=(0,y.d)(t.metrics);i.checkpoint("addBidResponse"),A[e]=!0,i.measureTime("addBidResponse.validate",(()=>function(e,t,{index:i=f.a.index}={}){function a(e){return`Invalid bid from ${t.bidderCode}. Ignoring bid: ${e}`}return e?t?function(){let e=Object.keys(t);return w.every((i=>(0,u.c)(e,i)&&!(0,u.c)([void 0,null],t[i])))}()?"native"!==t.mediaType||(0,d.i)(t,{index:i})?"video"!==t.mediaType||(0,l.e)(t,{index:i})?!("banner"===t.mediaType&&!function(e,t,{index:i=f.a.index}={}){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;const a=i.getBidRequest(t),n=i.getMediaTypes(t),r=a&&a.sizes||n&&n.banner&&n.banner.sizes,o=(0,m.jb)(r);if(1===o.length){const[e,i]=o[0].split("x");return t.width=parseInt(e,10),t.height=parseInt(i,10),!0}return!1}(0,t,{index:i})&&((0,m.ab)(a("Banner bids require a width and height")),1)):((0,m.ab)(a("Video bid does not have required vastUrl or renderer property")),!1):((0,m.ab)(a("Native bid missing some required properties.")),!1):((0,m.ab)(a(`Bidder ${t.bidderCode} is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.`)),!1):((0,m.db)(`Some adapter tried to add an undefined bid for ${e}.`),!1):((0,m.db)("No adUnitCode was supplied to addBidResponse."),!1)}(e,t)))?a(e,t):a.reject(e,t,c.REJECTION_REASON.INVALID)}(i.adUnitCode,e)}else(0,m.db)(`Bidder ${e.code} made bid for unknown request ID: ${t.requestId}. Ignoring.`),a.reject(null,t,c.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:O})}});function t(t,i,a,n){C(e,t,i,a,n)}}const S=(0,b.b)("sync",(function(e,t,i,a,n,{onRequest:r,onResponse:o,onFledgeAuctionConfigs:s,onError:d,onBid:l,onCompletion:c}){const p=R(i);c=p.startTiming("total").stopBefore(c);let u=p.measureTime("buildRequests",(()=>e.buildRequests(t,i)));if(!u||0===u.length)return void c();Array.isArray(u)||(u=[u]);const b=t,f=u.length,y=b.length/f,w=(0,m.p)(c,u.length);u.forEach((t=>{const i="string"==typeof t.data?t.data:JSON.stringify(t.data),c=new Blob([i]).size/y||void 0;for(const e of b)e.hbvMetadata.payloadBidRequestSize=c;const u=p.fork();function f(e){null!=e&&(e.metrics=u.fork().renameWith()),l(e)}const T=n((function(i,a){D();try{i=JSON.parse(i)}catch(e){}i={body:i,headers:{get:a.getResponseHeader.bind(a)}};const n=new Blob([a.getAllResponseHeaders()]).size,r=parseInt(a.getResponseHeader("content-length"),10)||new Blob([a.responseText]).size,d=r?(n+r)/y:void 0;for(const e of b)e.hbvMetadata.payloadBidResponseSize=d;o(i);try{i=u.measureTime("interpretResponse",(()=>e.interpretResponse(i,t)))}catch(t){return(0,m.ab)(`Bidder ${e.code} failed to interpret the server's response. Continuing without bids`,null,t),void w()}let l;i&&(0,m.Q)(i.fledgeAuctionConfigs)?(s(i.fledgeAuctionConfigs),l=i.bids):l=i,l&&((0,m.Q)(l)?l.forEach(f):f(l)),w()})),x=n((function(e,t){D(),d(e,t),w()}));r(t);const D=u.startTiming("net");function S(i){const a=t.options;return Object.assign(i,a,{browsingTopics:!(a?.hasOwnProperty("browsingTopics")&&!a.browsingTopics)&&(g.a.get(e.code,"topicsHeader")??!0)&&(0,h.a)(I.j,(0,_.a)(v.b,e.code))})}switch(t.method){case"GET":a(`${t.url}${C=t.data,C?`?${"object"==typeof C?(0,m.ib)(C):C}`:""}`,{success:T,error:x},void 0,S({method:"GET",withCredentials:!0}));break;case"POST":a(t.url,{success:T,error:x},"string"==typeof t.data?t.data:JSON.stringify(t.data),S({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,m.db)(`Skipping invalid request from ${e.code}. Request type ${t.type} must be GET or POST`),w()}var C}))}),"processBidderRequests"),C=(0,b.b)("async",(function(e,t,i,a,o){const d=r.config.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(d||!n.a.aliasRegistry[e.code])){let n=r.config.getConfig("userSync.filterSettings"),d=e.getUserSyncs({iframeEnabled:!(!n||!n.iframe&&!n.all),pixelEnabled:!(!n||!n.image&&!n.all)},t,i,a,o);d&&(Array.isArray(d)||(d=[d]),d.forEach((t=>{s.userSync.registerSync(t.type,e.code,t.url)})),s.userSync.bidderDone(e.code))}}),"registerSyncs"),E=(0,b.b)("sync",(()=>{}),"addComponentAuction");function R(e){return(0,y.d)(e.metrics).renameWith((t=>[`adapter.client.${t}`,`adapters.client.${e.bidderCode}.${t}`]))}},(e,t,i)=>{i.d(t,{userSync:()=>m});var a=i(0),n=i(2),r=i(4),o=i(50),s=i(22),d=i(24),l=i(13),c=i(14),p=i(38);n.config.setDefaults({userSync:(0,a.n)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});const u=(0,o.c)("usersync"),m=function(e){let t={},i={image:[],iframe:[]},o=new Set,s={},u={image:!0,iframe:!1},m=e.config;function b(){if(m.syncEnabled&&e.browserSupportsCookies){try{u.iframe&&f(i.iframe,(e=>{let[t,n]=e;(0,a.cb)(`Invoking iframe user sync for bidder: ${t}`),(0,a.M)(n),function(e,t){e.image=e.image.filter((e=>e[0]!==t))}(i,t)})),u.image&&f(i.image,(e=>{let[t,i]=e;(0,a.cb)(`Invoking image pixel user sync for bidder: ${t}`),(0,a.ub)(i)}))}catch(e){return(0,a.ab)("Error firing user syncs",e)}i={image:[],iframe:[]}}}function f(e,t){(0,a.rb)(e).forEach(t)}return n.config.getConfig("userSync",(e=>{if(e.userSync){let t=e.userSync.filterSettings;(0,a.Y)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}m=Object.assign(m,e.userSync)})),e.regRule(d.f,"userSync config",(e=>{if(!m.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[l.d]===c.b){const i=e[l.g],a=e[l.c];if(!t.canBidderRegisterSync(i,a))return{allow:!1,reason:`${i} syncs are not enabled for ${a}`}}})),t.registerSync=(t,n,r)=>o.has(n)?(0,a.cb)(`already fired syncs for "${n}", ignoring registerSync call`):m.syncEnabled&&(0,a.Q)(i[t])?n?0!==m.syncsPerBidder&&Number(s[n])>=m.syncsPerBidder?(0,a.db)(`Number of user syncs exceeded for "${n}"`):void(e.isAllowed(d.f,(0,p.a)(c.b,n,{[l.g]:t,[l.h]:r}))&&(i[t].push([n,r]),s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,n))):(0,a.db)("Bidder is required for registering sync"):(0,a.db)(`User sync type "${t}" not supported`),t.bidderDone=o.add.bind(o),t.syncUsers=(e=0)=>{if(e)return setTimeout(b,Number(e));b()},t.triggerUserSyncs=()=>{m.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=(e,t)=>!m.filterSettings||!function(e,t){let i=m.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,a.db)(`Detected presence of the "filterSettings.all" and "filterSettings.${t}" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.`),!1;let i=e.all?e.all:e[t],n=e.all?"all":t;if(!i)return!1;let r=i.filter,o=i.bidders;return r&&"include"!==r&&"exclude"!==r?((0,a.db)(`UserSync "filterSettings.${n}.filter" setting '${r}' is not a valid option; use either 'include' or 'exclude'.`),!1):!!("*"===o||Array.isArray(o)&&o.length>0&&o.every((e=>(0,a._)(e)&&"*"!==e)))||((0,a.db)(`Detected an invalid setup in userSync "filterSettings.${n}.bidders"; use either '*' (to represent all bidders) or an array of bidders.`),!1)}(i,e)){u[e]=!0;let a=i.all?i.all:i[e],n="*"===a.bidders?[t]:a.bidders;const o={include:(e,t)=>!(0,r.c)(e,t),exclude:(e,t)=>(0,r.c)(e,t)};return o[a.filter||"include"](n,t)}return!u[e]}(e,t),t}(Object.defineProperties({config:n.config.getConfig("userSync"),isAllowed:s.a,regRule:s.b},{browserSupportsCookies:{get:function(){return!(0,a.Z)()&&u.cookiesAreEnabled()}}}))},(e,t,i)=>{i.d(t,{a:()=>m,b:()=>u,c:()=>y,d:()=>g,e:()=>b});var a=i(0),n=i(15),r=i(14),o=i(22),s=i(13),d=i(24),l=i(2),c=i(23),p=i(38);const u="html5",m="cookie";let b=[];function f({moduleName:e,moduleType:t}={},{isAllowed:i=o.a}={}){function n(a,n){let o=e;const u=l.config.getCurrentBidder();return u&&t===r.b&&c.a.aliasRegistry[u]===e&&(o=u),a({valid:i(d.a,(0,p.a)(t,o,{[s.f]:n}))})}function f(e,t,i){if(!i||"function"!=typeof i)return n(e,t);b.push((function(){let a=n(e,t);i(a)}))}const g=function(e){return f((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,a.ab)("Local storage api disabled")}return!1}),u,e)};return{setCookie:function(e,t,i,a,n,r){return f((function(r){if(r&&r.valid){const r=n&&""!==n?` ;domain=${encodeURIComponent(n)}`:"",o=i&&""!==i?` ;expires=${i}`:"",s=null!=a&&"none"==a.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${o}; path=/${r}${a?`; SameSite=${a}`:""}${s}`}}),m,r)},getCookie:function(e,t){return f((function(t){if(t&&t.valid){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}),m,t)},localStorageIsEnabled:function(e){return f((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),u,e)},cookiesAreEnabled:function(e){return f((function(e){return!(!e||!e.valid)&&(0,a.g)()}),m,e)},setDataInLocalStorage:function(e,t,i){return f((function(i){i&&i.valid&&g()&&window.localStorage.setItem(e,t)}),u,i)},getDataFromLocalStorage:function(e,t){return f((function(t){return t&&t.valid&&g()?window.localStorage.getItem(e):null}),u,t)},removeDataFromLocalStorage:function(e,t){return f((function(t){t&&t.valid&&g()&&window.localStorage.removeItem(e)}),u,t)},hasLocalStorage:g,findSimilarCookies:function(e,t){return f((function(t){if(t&&t.valid){const t=[];if((0,a.I)()){const i=document.cookie.split(";");for(;i.length;){const a=i.pop();let n=a.indexOf("=");n=n<0?a.length:n,decodeURIComponent(a.slice(0,n).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(a.slice(n+1)))}}return t}}),m,t)}}}function g({moduleType:e,moduleName:t,bidderCode:i}={}){function a(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return i?((e&&e!==r.b||t)&&a(),e=r.b,t=i):t&&e||a(),f({moduleType:e,moduleName:t})}function y(e){return f({moduleName:e,moduleType:r.c})}(0,o.b)(d.a,"deviceAccess config",(function(){if(!(0,a.I)())return{allow:!1}})),(0,o.b)(d.a,"bidderSettings.*.storageAllowed",(function(e,t=n.a){if(e[s.d]!==r.b)return;let i=t.get(e[s.a],"storageAllowed");if(i&&!0!==i){const t=e[s.f];i=Array.isArray(i)?i.some((e=>e===t)):i===t}else i=!!i;return i?void 0:{allow:i}}))},(e,t,i)=>{i.d(t,{a:()=>l,b:()=>p,c:()=>c});var a=i(52),n=i(0),r=i(5),o=i(4);const s=(0,i(11).a)(),d="outstream";function l(e){const{url:t,config:i,id:l,callback:c,loaded:p,adUnitCode:u,renderNow:m}=e;this.url=t,this.config=i,this.handlers={},this.id=l,this.renderNow=m,this.loaded=p,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):(0,n.ab)("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||(()=>{this.loaded=!0,this.process()}),this.render=function(){const e=arguments,i=()=>{this._render?this._render.apply(this,e):(0,n.db)("No render function was provided, please use .setRender on the renderer")};!function(e){const t=s.adUnits,i=(0,o.b)(t,(t=>t.code===e));if(!i)return!1;const a=(0,r.a)(i,"renderer"),n=!!(a&&a.url&&a.render),d=(0,r.a)(i,"mediaTypes.video.renderer"),l=!!(d&&d.url&&d.render);return!!(n&&!0!==a.backupOnly||l&&!0!==d.backupOnly)}(u)?m?i():(this.cmd.unshift(i),(0,a.a)(t,d,this.callback,this.documentContext)):((0,n.db)(`External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ${u}`),i())}.bind(this)}function c(e){return!(!e||!e.url&&!e.renderNow)}function p(e,t,i){let a=null;e.config&&e.config.documentResolver&&(a=e.config.documentResolver(t,document,i)),a||(a=document),e.documentContext=a,e.render(t,e.documentContext)}l.install=function({url:e,config:t,id:i,callback:a,loaded:n,adUnitCode:r,renderNow:o}){return new l({url:e,config:t,id:i,callback:a,loaded:n,adUnitCode:r,renderNow:o})},l.prototype.getConfig=function(){return this.config},l.prototype.setRender=function(e){this._render=e},l.prototype.setEventHandlers=function(e){this.handlers=e},l.prototype.handleVideoEvent=function({id:e,eventName:t}){"function"==typeof this.handlers[t]&&this.handlers[t](),(0,n.cb)(`Prebid Renderer event for id ${e} type ${t}`)},l.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,n.ab)("Error processing Renderer command: ",e)}}},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(4),n=i(0);const r=new WeakMap,o=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","mediafilter","qortex","dynamicAdBoost"];function s(e,t,i,s,d){if(!t||!e)return void(0,n.ab)("cannot load external script without url and moduleCode");if(!(0,a.c)(o,t))return void(0,n.ab)(`${t} not whitelisted for loading external JavaScript`);s||(s=document);const l=u(s,e);if(l)return i&&"function"==typeof i&&(l.loaded?i():l.callbacks.push(i)),l.tag;const c=r.get(s)||{},p={loaded:!1,tag:null,callbacks:[]};return c[e]=p,r.set(s,c),i&&"function"==typeof i&&p.callbacks.push(i),(0,n.db)(`module ${t} is loading external JavaScript`),function(t,i,a,r){a||(a=document);var o=a.createElement("script");o.type="text/javascript",o.async=!0;const s=u(a,e);return s&&(s.tag=o),o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,i())}:o.onload=function(){i()},o.src=t,r&&(0,n.qb)(o,r),(0,n.K)(o,a),o}(e,(function(){p.loaded=!0;try{for(let e=0;e<p.callbacks.length;e++)p.callbacks[e]()}catch(e){(0,n.ab)("Error executing callback","adloader.js:loadExternalScript",e)}}),s,d);function u(e,t){const i=r.get(e);return i&&i[t]?i[t]:null}}},(e,t,i)=>{i.d(t,{a:()=>a});class a{error;value;constructor(e,t){this.value=e,this.error=t}static value(e){return new a(e,void 0)}static error(e){return new a(void 0,e)}static tryCatch(e){try{return a.value(e())}catch(e){return a.error(e)}}get isError(){return!!this.error}get isSuccess(){return!this.error}onError=e=>(this.isError&&e(this.error),this);or=e=>this.isError?e:this.value;get=()=>{if(this.isError)throw this.error;return this.value}}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(16);class n{#w;provide=(0,a.a)((e=>{this.#w=e}));get value(){return this.#w}}},(e,t,i)=>{i.d(t,{a:()=>a});const a=()=>{}},(e,t,i)=>{i.d(t,{a:()=>a});const a="prebid"},(e,t,i)=>{i.d(t,{a:()=>a});const a="amazon"},(e,t,i)=>{i.d(t,{a:()=>a});const a={"33across":"33across",Adhese:"adhese",amx:"amx",AppNexus:"appnexus",Appnexus_Hubvisor:"appnexus hubvisor",craft:"craft",Criteo:"criteo",dailymotion:"dailymotion",Rubicon:"rubicon",MSQ_AppNexus_Brand:"MSQ-AppNexus Brand",MSQ_AppNexus_Classic:"MSQ-AppNexus Classic",MSQ_AppNexus_Max:"MSQ-AppNexus Max",MSQ_AppNexus_Max_View:"MSQ-AppNexus Max View",MSQ_AppNexus:"MSQ-AppNexus",MSQ_SpotX:"MSQ-SpotX",MSQ_Freewheel:"MSQ-Freewheel",MSQ_Rubicon:"MSQ-Rubicon",MSQ_Rubicon_TRA:"MSQ-Rubicon TRA",MSQ_Rubicon_PRV:"MSQ-Rubicon PRV",ImproveDigital:"improvedigital",Smart:"smartadserver",Freewheel:"freewheelssp",Adot:"adot",IndexExchange:"ix",Gravity_Appnexus:"Gravity-Appnexus",Adyoulike:"adyoulike",Quantum_AppNexus:"Quantum-AppNexus",Quantum_Improve:"Quantum-Improve",Ravel:"raveltech",Sublime:"sublime",Teads:"teads",SpotX:"spotx",Adagio:"adagio",Unruly:"unruly",Invibes:"invibes",TripleLift:"triplelift",TripleLiftNative:"tripleliftNative",Proxistore:"proxistore",OpenX:"openx",amazon:"amazon",vidazoo:"vidazoo",visx:"visx",outbrain:"outbrain",mediasquare:"mediasquare",pubmatic:"pubmatic",gumgum:"gumgum",microad:"microad",smilewanted:"smilewanted",seedtag:"seedtag",richaudience:"richaudience",sovrn:"sovrn",conversant:"conversant",onetag:"onetag",qwarry:"qwarry",sharethrough:"sharethrough",yieldlift:"yieldlift",backfill:"backfill",medianet:"medianet",hawk:"hawk",kargo:"kargo",ogury:"ogury",relaido:"relaido",hubvisor:"hubvisor",beop:"beop",rtbhouse:"rtbhouse",nexx360:"nexx360",noBid:"nobid",hbvRichmedia:"hbv-richmedia",impactify:"impactify",fluct:"fluct",unicorn:"unicorn",prisma:"prisma",bliink:"bliink",taboola:"taboola",missena:"missena",minuteMedia:"minutemedia",caroda:"caroda",nextMillennium:"nextMillennium",Adform:"adform",ttdDirectPath:"ttdDirectPath",ttd:"ttd",yieldlab:"yieldlab",adkernel:"adkernel"};new Set([a.MSQ_Rubicon_TRA,a.MSQ_Rubicon_PRV,a.MSQ_AppNexus_Classic,a.MSQ_AppNexus_Max,a.MSQ_AppNexus_Brand,a.MSQ_SpotX,a.MSQ_Freewheel])},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>a});const a=e=>!!e&&!!e.prebid,n={outstream:"outstream",banner:"banner",instream:"instream",native:"native",nativeBanner:"nativeBanner",skin:"skin"}},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>o,c:()=>s,d:()=>l,e:()=>d});var a=i(39),n=i(1);const r={dfp:"dfp",sas:"sas",ast:"ast",hsc:"hsc",generic:"generic",instream:"instream"},o={whenVisible:"when-visible",whenViewable:"when-viewable",noLazyLoad:"no-lazy-load",playWhenVisible:"play-when-visible"},s=e=>(0,n.m)(e)&&(0,a.a)(e.adUnitPath),d=e=>(0,n.m)(e)&&(0,a.a)(e.match),l=e=>(0,n.m)(e)&&(0,a.a)(e.elementId)},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>a,c:()=>n});const a=e=>{window.googletag=window.googletag??{},window.googletag.cmd=window.googletag.cmd??[],window.googletag.cmd.push((()=>e(window.googletag)))},n=e=>{window.sas=window.sas??{},window.sas.cmd=window.sas.cmd??[],window.sas.cmd.push((()=>e(window.sas)))},r=e=>new Promise((t=>e(t))),o=r(a);r(n)},(e,t,i)=>{i.d(t,{a:()=>c,b:()=>p,c:()=>u});var a=i(104),n=i(88),r=i(1);const o=e=>{const t=parseFloat(e);if(!isNaN(t))return t},s=(e,t)=>{const i=(0,a.a)(),n=`hbv-${e}`;return Object.prototype.hasOwnProperty.call(i,n)?{found:!0,value:t(i[n]??"")}:{found:!1}},d=(e,t)=>{const i=(0,n.a)("local-storage",`hbv:${e}`);return(0,r.k)(i)?{found:!1}:{found:!0,value:t(i)}},l=(...e)=>{for(const t of e){const{found:e,value:i}=t();if(e)return i}},c=e=>{const t=e=>""===e||(e=>!!["yes","true","1"].some((t=>0===t.localeCompare(e,void 0,{sensitivity:"accent"})))||!["no","false","0"].some((t=>0===t.localeCompare(e,void 0,{sensitivity:"accent"})))&&void 0)(e),i=e=>{const i=t(e);if((0,r.i)(i))return!i};return l((()=>s(e,t)),(()=>s(`no-${e}`,i)),(()=>d(e,t)),(()=>d(`no-${e}`,i)))},p=e=>l((()=>s(e,o)),(()=>d(e,o))),u=e=>l((()=>s(e,(e=>e))),(()=>d(e,(e=>e))))},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r});var a=i(3);const{warn:n}=a.a.tag("ActionMap"),{register:r,execute:o}=new class{#T={};#x=(e,t)=>(i,a)=>{const r=(t,r)=>{try{a&&a(t,r)}catch(t){n(`error for action '${e}' callback`,i,t)}};(async i=>{try{return await t(i)}catch(t){throw n(`error for action '${e}'`,i,t),t}})(i).then((e=>r(null,e))).catch((e=>r(e)))};register=(e,t)=>{this.#T[e]&&n(`trying to register an action named '${e}' multiple times, previous action will be overriden`),this.#T[e]=this.#x(e,t)};execute=(e,t,i)=>(this.#T[e]??this.#x(e,(()=>{throw new Error("action doesn't exist")})))(t,i)}},(e,t,i)=>{i.d(t,{b:()=>o,a:()=>s});const a="phone",n="tablet",r="desktop",o=(()=>{const e=(navigator.userAgent??window.opera).toLowerCase();return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)?n:/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|dolphin|zune)/.test(e)?a:r})(),s=(()=>{switch(o){case a:return 4;case n:return 5;case r:return 2}})()},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>a});const a={no:0,yes:1},n={firstPrice:1,secondPrice:2}},(e,t,i)=>{i.d(t,{a:()=>a});const a={vpaid10:1,vpaid20:2,mraid1:3,ormma:4,mraid2:5,mraid3:6,omid1:7}},(e,t,i)=>{i.d(t,{a:()=>a});const a={vast10:1,vast20:2,vast30:3,vast10Wrapper:4,vast20Wrapper:5,vast30Wrapper:6,vast40:7,vast40Wrapper:8,daast10:9,daast10Wrapper:10,vast41:11,vast41Wrapper:12,vast42:13,vast42Wrapper:14}},(e,t,i)=>{i.d(t,{a:()=>n,b:()=>o});const a=(()=>{let e=0;return()=>++e})(),n=()=>a()+Math.random().toString(16).substring(2),r=(()=>{const e=new Uint8Array(16),t=[];for(let e=0;e<256;++e)t.push((e+256).toString(16).substring(1));return()=>(crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,(t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]).toLowerCase())})(),o=crypto.randomUUID?.bind(crypto)??r},(e,t,i)=>{i.d(t,{a:()=>r});var a=i(3);const{error:n}=a.a.tag("bus");class r{#D={};clear=()=>{this.#D={}};#S=(e,t)=>{this.#D[e]||(this.#D[e]=[]),this.#D[e]?.push(t)};on=(e,t)=>{this.#S(e,{listener:t,original:t})};off=(e,t)=>{this.#D[e]=this.#D[e]?.filter((e=>e.original!==t))};once=(e,t)=>{this.#S(e,{listener:(e,i)=>{t(e,i),this.off(i,t)},original:t})};dispatch=(e,t)=>{for(const i of this.#D[e]??[])try{i.listener(t,e)}catch(i){n(`listener registration failed for event '${String(e)}'`,t,i)}}}},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>d,c:()=>o,d:()=>p,e:()=>c,f:()=>l});var a=i(10),n=i(7),r=i(3);const{info:o,debug:s,error:d,warn:l}=r.a.tag("second-chance"),c="hbv_bf",p=(e,t)=>{try{return!e.isPlacementAllowed||e.isPlacementAllowed(t)}catch(e){return(0,a.a)(new n.b(n.a.secondChanceError,`Error checking if placement is allowed for Slot or tagId: ${t}. Aborting ${e}`)),!1}}},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(30),n=i(107),r=i(108),o=i(27);const s=e=>(0,r.a)({cmp:a.a.asStream,storagePolicy:o.a.of(n.a)},e)},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(7),n=(i(19),i(10)),r=i(1),o=i(46);const s=(e,t)=>{try{const i=(e=>{if((0,r.q)(e)){const t=(e=>{try{return document.querySelector(e)}catch(e){return null}})(e);if(t)return t;throw new a.b(a.a.videoWrapperDivNotFound,`Player container not found with '${e}'`)}return e})(e);if(!window.HbvPlayer)throw new a.b(a.a.outstreamPlayerLoadingFailed,"Failed to load player");window.HbvPlayer.playOutstream(i,t).catch((i=>{(0,n.a)(new a.c(a.a.outstreamPlayerError,i,t.vastXml??t.vastUrl??"no-vast")),t.renderContext&&o.a.emit("outstream-error",{containerOrSelector:e,renderContext:t.renderContext})}))}catch(i){(0,n.a)(i,"unexpected player error"),t.renderContext&&o.a.emit("outstream-error",{containerOrSelector:e,renderContext:t.renderContext})}}},e=>{e.exports=function e(t){var i=Array.isArray(t)?[]:{};for(var a in t){var n=t[a];i[a]=n&&"object"==typeof n?e(n):n}return i}},e=>{s.SYNC=1,s.ASYNC=2,s.QUEUE=4;var t="fun-hooks",i=Object.freeze({useProxy:!0,ready:0}),a=new WeakMap,n="2,1,0"===[1].reduce((function(e,t,i){return[e,t,i]}),2).toString()?Array.prototype.reduce:function(e,t){var i,a=Object(this),n=a.length>>>0,r=0;if(t)i=t;else{for(;r<n&&!(r in a);)r++;i=a[r++]}for(;r<n;)r in a&&(i=e(i,a[r],r,a)),r++;return i};function r(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return n.call(r(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(i){e[i]=t[i]})),e}),e)};function s(e){var d,l={},c=[];function p(e,t){return"function"==typeof e?f.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?f.apply(null,arguments):"object"==typeof e?u.apply(null,arguments):void 0}function u(e,t,i){var a=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),a=!1);var n={},r=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==r.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var a=t.split(":"),r=a[0],o=a[1]||"sync";if(!n[r]){var s=e[r];n[r]=e[r]=f(o,s,i?[i,r]:void 0)}})),e=Object.getPrototypeOf(e)}while(a&&e);return n}function m(e){var i=Array.isArray(e)?e:e.split(".");return n.call(i,(function(a,n,r){var o=a[n],s=!1;return o||(r===i.length-1?(d||c.push((function(){s||console.warn(t+": referenced '"+e+"' but it was never created")})),a[n]=b((function(e){a[n]=e,s=!0}))):a[n]={})}),l)}function b(e){var t=[],i=[],n=function(){},r={before:function(e,i){return d.call(this,t,"before",e,i)},after:function(e,t){return d.call(this,i,"after",e,t)},getHooks:function(e){var a=t.concat(i);"object"==typeof e&&(a=a.filter((function(t){return Object.keys(e).every((function(i){return t[i]===e[i]}))})));try{o(a,{remove:function(){return a.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return a},removeAll:function(){return this.getHooks().remove()}},s={install:function(a,r,o){this.type=a,n=o,o(t,i),e&&e(r)}};return a.set(r.after,s),r;function d(e,a,r,o){var s={hook:r,type:a,priority:o||10,remove:function(){var a=e.indexOf(s);-1!==a&&(e.splice(a,1),n(t,i))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),n(t,i),this}}function f(i,n,l){var p=n.after&&a.get(n.after);if(p){if(p.type!==i)throw t+": recreated hookable with different type";return n}var u,f,g=l?m(l):b(),y={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return d||c.push(h),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?f=new Proxy(n,y):(f=function(){return y.apply?y.apply(n,this,r(arguments)):n.apply(this,arguments)},o(f,g)),a.get(f.after).install(i,f,(function(e,t){var a,n=[];function o(e){n.push(e.hook)}e.length||t.length?(e.forEach(o),a=n.push(void 0)-1,t.forEach(o),u=function(e,t,o){var s,d=0,l="async"===i&&"function"==typeof o[o.length-1]&&o.pop();function c(e){"sync"===i?s=e:l&&l.apply(null,arguments)}function p(e){if(n[d]){var a=r(arguments);return p.bail=c,a.unshift(p),n[d++].apply(t,a)}"sync"===i?s=e:l&&l.apply(null,arguments)}return n[a]=function(){var a=r(arguments,1);"async"===i&&l&&(delete p.bail,a.push(p));var n=e.apply(t,a);"sync"===i&&p(n)},p.apply(null,o),s}):u=void 0,h()})),f;function h(){!d&&("sync"!==i||e.ready&s.SYNC)&&("async"!==i||e.ready&s.ASYNC)?"sync"!==i&&e.ready&s.QUEUE?y.apply=function(){var e=arguments;c.push((function(){f.apply(e[1],e[2])}))}:y.apply=function(){throw t+": hooked function not ready"}:y.apply=u}}return(e=o({},i,e)).ready?p.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(c)}:d=!0,p.get=m,p}e.exports=s},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>m,c:()=>o,d:()=>f,e:()=>l,f:()=>p,g:()=>c});var a=i(0),n=i(12),r=i(2);const o=Object.freeze({}),s=Object.freeze({});class d{#C;#E;#R;#A;#k=!0;#O;generatedTime;hashFields;constructor(){this.reset()}#M(e){this.#A=!0,this.#E=e,this.#R.resolve(e)}reset(){this.#R=(0,n.b)(),this.#C=!1,this.#E=null,this.#A=!1,this.generatedTime=null}enable(){this.#C=!0}get enabled(){return this.#C}get ready(){return this.#A}get promise(){return this.#A?n.a.resolve(this.#E):(this.#C||this.#M(null),this.#R.promise)}setConsentData(e,t=(0,a.sb)()){this.generatedTime=t,this.#k=!0,this.#M(e)}getConsentData(){return this.#E}get hash(){return this.#k&&(this.#O=(0,a.l)(JSON.stringify(this.#E&&this.hashFields?this.hashFields.map((e=>this.#E[e])):this.#E)),this.#k=!1),this.#O}}const l=new class extends d{hashFields=["gdprApplies","consentString"];getConsentMeta(){const e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,a._)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}},c=new class extends d{getConsentMeta(){const e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}},p=new class extends d{hashFields=["applicableSections","gppString"];getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},u=(()=>{function e(){return!!r.config.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset(){},get promise(){return n.a.resolve(e())},get hash(){return e()?"1":"0"}}})(),m=function(){const e={},t={},i={};return{register(a,n,r){r&&((e[n]=e[n]||{})[a]=r,t.hasOwnProperty(n)?t[n]!==r&&(t[n]=i):t[n]=r)},get(a){const n={modules:e[a]||{}};return t.hasOwnProperty(a)&&t[a]!==i&&(n.gvlid=t[a]),n}}}(),b={gdpr:l,usp:c,gpp:p,coppa:u},f=function(e=b){return e=Object.entries(e),Object.assign({get promise(){return n.a.all(e.map((([e,t])=>t.promise.then((t=>[e,t]))))).then((e=>Object.fromEntries(e)))},get hash(){return(0,a.l)(e.map((([e,t])=>t.hash)).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((t=>{return[t,(i=t,function(){return Object.fromEntries(e.map((([e,t])=>[e,t[i]()])))})];var i}))))}()},(e,t,i)=>{i.d(t,{a:()=>a,b:()=>n});const a={debug:"debug",info:"info",table:"table",warn:"warn",error:"error"};class n{#B;#P;#N;constructor(e,t,i){this.#B=e,this.#P=t,this.#N=i}#r=(e,t,i="",a)=>{const n={name:this.#B,tag:this.#P,level:e,type:t,ts:Date.now()/1e3,message:i,metadata:a};for(const e of this.#N)e(n)};debug=(e,...t)=>this.#r(20,a.debug,e,t);info=(e,...t)=>this.#r(30,a.info,e,t);table=(e,...t)=>this.#r(30,a.table,void 0,[e,...t]);warn=(e,...t)=>this.#r(40,a.warn,e,t);error=(e,...t)=>this.#r(50,a.error,e,t);tag=e=>new n(this.#B,e,this.#N)}},(e,t,i)=>{i.d(t,{a:()=>a});const a={totalConsentTimeout:1/0,cmpTimeout:1/0}},(e,t,i)=>{i.d(t,{a:()=>a});const a=new(i(54).a)},(e,t,i)=>{var a=i(111),n=i(112);t.a=function(e,t,i,r){var o=new a.BigInteger(a.b64toHex(t)),s=new a.BigInteger(a.b64toHex(i)),d=o.modPowInt(r,s);return a.removeExtraSymbols(d.toHexString())===n.Sha256.hash(e)}},(e,t,i)=>{i.d(t,{a:()=>I,b:()=>C,c:()=>S});var a=i(3),n=i(29),r=i(7),o=i(10),s=i(56),d=i(57),l=i(99),c=i(18),p=i(41),u=i(44),m=i(70),b=i(45);const f=([e,t])=>({code:e,minValue:t}),g=(e,t)=>t[1]-e[1],y=new Map,{debug:h}=a.a.tag("targetings-resolver"),_=(e,t,i)=>{const a=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0,increment:1});if(e>a.max)return a.max.toFixed(2);let n=0;const r=(t.buckets.find((t=>e<=t.max&&e>=n||(n=t.max,!1)))||a).increment,o=1e4,s=(e*o-n*o)/(r*o),d=i?i(s):Math.floor(s);return Number((d*r+n).toFixed(10)).toFixed(2)},v=(e,t,i)=>{try{return t.additionalTargetings?.(e,i)??{}}catch(t){const i=new r.b(r.a.onAdditionalTargetings,t);(0,o.a)(i,`additionalTargetings failed for ${e.placement.placementId}`,e)}return{}},I=(e,t)=>{for(const[i,a]of Object.entries(t))i.startsWith("hb_native")||(e[i]&&h(`Assigned targetings overrides existing targetings at key '${i}'`,e,t),e[i]=a)},w=(e,t,i)=>{const a=t.targetingKeyPrefix,n=i?`${i}`:"",c=e=>[a,e,n].filter((e=>!!e)).join("_"),p=e=>[e,n].filter((e=>!!e)).join("_");if(e.bidResponse.providerId===s.a)return i?{}:{[c("adid")]:e.bidResponse.bidId,[c("pb")]:_(e.cpmAdjustment.adjustedCpm,t.priceGranularity,t.cpmRoundingFunction)};if(e.bidResponse.providerId===l.a)return{[c("backfillid")]:e.bidResponse.bidId,[c("backfill")]:"backfill"};if(e.bidResponse.providerId===d.a){if(i)return{};const a=((e,t)=>{if(!t.amazon?.cpmMapping||0===e.cpmAdjustment.adjustedCpm)return;const i=Number(b.remoteConfiguration.currentValue?.currencies.rates.USD?b.remoteConfiguration.currentValue?.currencies.rates.USD.EUR:1),a=(e=>{const t=y.get(e);if(t)return t;const i=(e=>{const t=Object.entries(e).sort(g);return{banner:t.filter((([e])=>!e.startsWith("v_")&&!e.startsWith("o_"))).map(f),instream:t.filter((([e])=>e.startsWith("v_"))).map(f),outstream:t.filter((([e])=>e.startsWith("o_"))).map(f)}})(e);return y.set(e,i),i})(t.amazon.cpmMapping),n=((e,t)=>"video"===e.bidResponse.mediaType?"outstream"===e.bidResponse.displayFormat?t.outstream:t.instream:t.banner)(e,a),s=n.find((({minValue:a})=>("EUR"===t.amazon?.currency?i*a:a)<=e.cpmAdjustment.adjustedCpm));if(s)return s.code;(0,o.a)(new r.b(r.a.amazonCpmMappingError,`No code found for the cpm '${e.cpmAdjustment.adjustedCpm}' in mapping for Amazon bid`))})(e,t);if(a)return{[p("amznbid")]:a}}return{}},T=(e,t,i,a)=>{const n=t.targetingKeyPrefix;return{[`${n}_${i}_cacheid`]:a,[`${n}_${i}_pb`]:_(e.cpmAdjustment.adjustedCpm,t.priceGranularity)}},x=e=>({...e.bidResponse.targetings}),D=(e,t)=>t.sas?.formatId?{}:e.bidResponse.targetings,S=({renderable:e,settings:t,sasFormatId:i})=>{const a=n.c&&e.content.some((e=>e.bidResponse.providerId===s.a)),{content:r,pgContent:o}=e.content.reduce(((e,t)=>(t.bidResponse.deal?.isGuaranteed?e.pgContent.push(t):e.content.push(t),e)),{content:[],pgContent:[]}),d={hbv_debug:a?"true":null,hbv_uplift:u.a?"0":"1"};for(const e of c.i)d[e]=null;t.secondChance.enabled&&e.config.refreshReason!==p.b.secondChance&&(d[m.e]="false");for(const e of r){const t=D(e,{sas:{formatId:i}});I(d,t)}for(const e of r){const a=w(e,t,i);I(d,a)}const l={hbv_pg_dealid:o.map((e=>e.bidResponse.deal.name)),hbv_pg_adid:o.map((e=>e.bidResponse.bidId))};I(d,l);const b=v(e,t,d);return I(d,b),d},C=({renderable:e,settings:t,slotId:i,cacheId:a})=>{const l={hbv_debug:n.c&&e.content.some((e=>e.bidResponse.providerId===s.a))?"true":null,hbv_uplift:u.a?"0":"1"};for(const n of e.content)if(n.bidResponse.providerId!==d.a)if(a){I(l,{[`${t.targetingKeyPrefix}_${i}_bidder`]:n.bidResponse.bidder});const e=T(n,t,i,a);I(l,e)}else{const t=new r.b(r.a.instreamCacheIdMissing,`couldn't find cacheID for prebid instream bid for placement ${e.placement.placementId} - bid: ${JSON.stringify(n)}`);(0,o.a)(t)}else{const e=x(n);I(l,e)}const c=v(e,t,l);return I(l,c),l}},(e,t,i)=>{i.d(t,{a:()=>a});const a=new(i(69).a)},(e,t,i)=>{i.d(t,{a:()=>u,b:()=>b});var a=i(4),n=i(0),r=i(2);const o=2,s={buckets:[{max:5,increment:.5}]},d={buckets:[{max:20,increment:.1}]},l={buckets:[{max:20,increment:.01}]},c={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},p={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(e,t,i=1){let a=parseFloat(e);return isNaN(a)&&(a=""),{low:""===a?"":m(e,s,i),med:""===a?"":m(e,d,i),high:""===a?"":m(e,l,i),auto:""===a?"":m(e,p,i),dense:""===a?"":m(e,c,i),custom:""===a?"":m(e,t,i)}}function m(e,t,i){let s="";if(!b(t))return s;const d=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0});let l=0,c=(0,a.b)(t.buckets,(t=>{if(e>d.max*i){let e=t.precision;void 0===e&&(e=o),s=(t.max*i).toFixed(e)}else{if(e<=t.max*i&&e>=l*i)return t.min=l,t;l=t.max}}));return c&&(s=function(e,t,i){const a=void 0!==t.precision?t.precision:o,s=t.increment*i,d=t.min*i;let l=Math.floor,c=r.config.getConfig("cpmRoundingFunction");"function"==typeof c&&(l=c);let p,u,m=Math.pow(10,a+2),b=(e*m-d*m)/(s*m);try{p=l(b)*s+d}catch(e){u=!0}return(u||"number"!=typeof p)&&((0,n.db)("Invalid rounding function passed in config"),p=Math.floor(b)*s+d),p=Number(p.toFixed(10)),p.toFixed(a)}(e,c,i)),s}function b(e){if((0,n.T)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach((e=>{e.max&&e.increment||(t=!1)})),t}},(e,t,i)=>{i.d(t,{a:()=>o});var a=i(5);let n={};function r(e,t,i){let a=function(e,t){let i=n[e]=n[e]||{bidders:{}};return t?i.bidders[t]=i.bidders[t]||{}:i}(e,i);return a[t]=(a[t]||0)+1,a[t]}let o={incrementRequestsCounter:function(e){return r(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return r(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return r(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,a.a)(n,`${e}.requestsCounter`)||0},getBidderRequestsCounter:function(e,t){return(0,a.a)(n,`${e}.bidders.${t}.requestsCounter`)||0},getBidderWinsCounter:function(e,t){return(0,a.a)(n,`${e}.bidders.${t}.winsCounter`)||0}}},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>d});var a=i(2),n=i(0);let r=1;const o=[];function s(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:r)}function d(e){o.push(e)}a.config.getConfig("ttlBuffer",(e=>{if("number"==typeof e.ttlBuffer){const t=r;r=e.ttlBuffer,t!==r&&o.forEach((e=>e(r)))}else(0,n.ab)("Invalid value for ttlBuffer",e.ttlBuffer)}))},(e,t,i)=>{i.d(t,{a:()=>o});var a=i(8),n=i(15),r=i(0);function o(e,t,i,{index:o=a.a.index,bs:s=n.a}={}){i=i||o.getBidRequest(t);const d=t?.adapterCode,l=t?.bidderCode||i?.bidder,c=s.get(t?.adapterCode,"adjustAlternateBids"),p=s.getOwn(l,"bidCpmAdjustment")||s.get(c?d:l,"bidCpmAdjustment");if(p&&"function"==typeof p)try{return p(e,Object.assign({},t),i)}catch(e){(0,r.ab)("Error during bid adjustment",e)}return e}},(e,t,i)=>{i.d(t,{a:()=>r});var a=i(0);function n(e,{src:t="client",bidder:i="",bidId:n,transactionId:r,auctionId:o}={}){var s=t,d=e||0;this.bidderCode=i,this.width=0,this.height=0,this.statusMessage=function(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=(0,a.B)(),this.requestId=n,this.transactionId=r,this.auctionId=o,this.mediaType="banner",this.source=s,this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function r(e,t){return new n(e,t)}},(e,t,i)=>{function a(e,t,i){t.split&&(t=t.split("."));for(var a,n,r=0,o=t.length,s=e;r<o&&"__proto__"!==(n=t[r++])&&"constructor"!==n&&"prototype"!==n;)s=s[n]=r===o?i:typeof(a=s[n])==typeof t?a:0*t[r]!=0||~(""+t[r]).indexOf(".")?{}:[]}i.d(t,{a:()=>a})},(e,t,i)=>{i.d(t,{a:()=>s,b:()=>o});const a=(e,t,i)=>{i?e.setItem(t,i):e.removeItem(t)},n=(e,t)=>e.getItem(t),r=(e,t,i)=>{try{switch(e){case"in-memory":return;case"session-storage":return a(sessionStorage,t,i);case"local-storage":return a(localStorage,t,i)}}catch{}},o=(e,t,i)=>{const a=["in-memory","session-storage","local-storage"];for(const n of a)r(n,t,n===e?i:null)},s=(e,t)=>{try{switch(e){case"in-memory":return null;case"session-storage":return n(sessionStorage,t);case"local-storage":return n(localStorage,t)}}catch(e){return null}}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(1);const n=e=>(0,a.j)(e)?[]:(0,a.c)(e)?[...e]:[e]},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>d,c:()=>r,d:()=>l,e:()=>a,f:()=>n,g:()=>s,h:()=>u,i:()=>p});const a=["request","imp","bidResponse","response"],[n,r,o,s]=a,[d,l]=["default","pbs"],c=new Set(a),{registerOrtbProcessor:p,getProcessors:u}=function(){const e={};return{registerOrtbProcessor({type:t,name:i,fn:n,priority:r=0,dialects:o=[d]}){if(!c.has(t))throw new Error(`ORTB processor type must be one of: ${a.join(", ")}`);o.forEach((a=>{e.hasOwnProperty(a)||(e[a]={}),e[a].hasOwnProperty(t)||(e[a][t]={}),e[a][t][i]={priority:r,fn:n}}))},getProcessors:t=>e[t]||{}}}()},(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r});var a=i(4),n=i(0);function r(e){return t=>(0,n.i)(t,e)}function o(e){const t=function(e){let t;return(0,n.V)()&&(t=(0,a.b)(window.googletag.pubads().getSlots(),r(e))),t}(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>a});const a=(e,t)=>{const i={...e};if(t.overrideMediaTypes)return t.overrideMediaTypes;const a=t.allowedMediaTypes;if(a){const e=Object.keys(i);for(const t of e)a.includes(t)||delete i[t]}return i},n=(e,t,i,n,r)=>{n.provideFormatter(t.bidder)(e,{placement:i,bid:t,resolvedMediaTypes:a(i.bidRequest.mediaTypes,t),context:r})},r=(e,t,i,a)=>{for(const r of t)for(const t of r.bidRequest.bids)n(e,t,r,i,a);return e}},(e,t,i)=>{i.d(t,{a:()=>a});const a=(e,t=document)=>new Promise(((i,a)=>{const n=t.createElement("script");n.async=!0,n.src=e,n.addEventListener("load",(()=>i())),n.addEventListener("error",(e=>a(e))),t.head.append(n)}))},(e,t,i)=>{i.d(t,{a:()=>a});const a=(e,t)=>{let i;return(...a)=>{i&&clearTimeout(i),i=window.setTimeout((()=>{i=void 0,e(...a)}),1e3*t)}}},(e,t,i)=>{i.d(t,{a:()=>r,b:()=>n,c:()=>o});var a=i(1);const n=e=>(0,a.m)(e)&&(0,a.q)(e.bidder)&&(0,a.q)(e.creativeId)&&(0,a.q)(e.placementId),r=(e,t,i)=>e.createComment(` Hubvisor: '${i.creativeType}' creative #${t.creativeId} from '${t.bidder}' for placement '${t.placementId}' `),o=(e,t,i)=>{const a=()=>{e.body.insertBefore(r(e,t,i),e.body.firstChild)};e.body?a():e.addEventListener("DOMContentLoaded",a)}},(e,t,i)=>{i.d(t,{a:()=>a});const a=(e,t)=>({kind:e,value:t})},(e,t,i)=>{i.d(t,{a:()=>a});const a=(e,...t)=>{const i=e.weight+t.reduce(((e,t)=>e+t.weight),0);if(i<=0)return e.value;let a=Math.random()*i;for(const i of[e,...t]){if(a<i.weight)return i.value;a-=i.weight}return e.value}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(5);function n(e){return!e?.gdprApplies||!0===(0,a.a)(e,"vendorData.purpose.consents.1")}},(e,t,i)=>{i.d(t,{a:()=>a});const a="backfill"},(e,t,i)=>{i.r(t),i.d(t,{AmazonContentProvider:()=>W,isAmazonBidResponse:()=>G});var a=i(3),n=i(92),r=i(16),o=i(17);const{debug:s,warn:d}=a.a.tag("apstag"),l=(0,r.a)((e=>{e.loadScript&&(()=>{if(window.apstag)return;const e=(e,t)=>{window.apstag?._Q.push([e,t])};window.apstag={init(){e("i",arguments)},fetchBids(){e("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],renderImp(){},_Q:[]};const t=document.createElement("script");t.async=!0,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",document.scripts[0]?.insertAdjacentElement("afterend",t)})(),window.apstag&&e.config&&(s("Initializing apstag",e.config),window.apstag.init(e.config))}));var c=i(1);const{warn:p}=a.a.tag("content-provider:amazon:accumulator");class u{#U={};push=e=>{this.#U[e.slot.slotID]&&p(`Amazon does not support multiple bids per slotId '${e.slot.slotID}'`,e),this.#U[e.slot.slotID]=e};build=()=>Object.values(this.#U).filter(c.i)}var m=i(59),b=i(58),f=i(68),g=i(55);const y=(e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.banner&&e.push({metadata:{bidId:`amzn-${(0,f.a)()}`,bidder:i.bidder,placementId:t.placementId,displayFormat:m.a.banner,mediaType:"banner",requestSizes:a.banner.sizes},slot:{slotID:i.params?.slotId??t.placementId,sizes:a.banner.sizes,slotName:i.params?.slotName}}),a.outstream&&e.push({metadata:{bidId:`amzn-outstream-${(0,f.a)()}`,bidder:i.bidder,placementId:t.placementId,displayFormat:m.a.outstream,mediaType:"video",requestSizes:[]},slot:{slotID:i.params?.slotId??t.placementId,mediaType:"video",sizes:i.params.sizes}}),a.instream&&e.push({metadata:{bidId:`amzn-instream-${(0,f.a)()}`,bidder:i.bidder,placementId:t.placementId,displayFormat:m.a.instream,mediaType:"video",requestSizes:[]},slot:{slotID:i.params?.slotId??t.placementId,mediaType:"video"}})};var h=i(18),_=i(30),v=i(31);const I=e=>(0,c.m)(e)&&(0,c.m)(e.targeting)&&(0,c.j)(e.amznbid);var w=i(57),T=i(95),x=i(96),D=i(7),S=i(40),C=i(10),E=i(93),R=i(72),A=i(46);const{info:k,error:O}=a.a.tag("amazon:outstream-player"),M=new Map;var B=i(43),P=i(42),N=i(45),U=i(78);const{error:q,debug:j,info:z}=a.a.tag("content-provider:amazon"),$=e=>{if(!e)return[0,0];const[t=0,i=0]=e.split("x").map((e=>parseInt(e,10))).map((e=>isNaN(e)?0:e));return[t,i]},F=e=>I(e)?$(e.targeting.amznsz):$(e.amznsz),L=e=>{if(I(e))return e.targeting;{const{amznbid:t,amzniid:i,amznp:a,amznsz:n,amznactt:r}=e;return{amznbid:t,amzniid:i,amznp:a,amznsz:n,amznactt:r}}},V=e=>{if(I(e)){const t=Object.entries(e.targeting).find((([e])=>e.endsWith("amzniid")));return t?.[1]??"unknown"}return e.amzniid},G=e=>!!e.amazon;class W{#q;#j;#z;#$;constructor(e){for(const e of["amznbid","amzniid","amznp","amznsz","amznactt"])h.i.add(e);this.#$=e.bus,this.#$.on(P.a.AmazonRenderRequest,(e=>{try{this.#z?.(...e)}catch(e){const t=new D.b(D.a.amazonRenderingFailed,`Error while rendering Amazon ${e}`);return reportError(t)}})),e.globalSettings.amazon?this.#j=e.globalSettings.amazon:q("AmazonContentProvider was loaded, but no configuration was provided: Amazon wrapper can't be initialized"),this.#q=e.globalSettings.bidderAliases}#F=e=>(0,c.m)(e)&&!0===e.timeout;#L=e=>{if((0,c.q)(e.amznbid)&&this.#j?.cpmMapping){const t=this.#j.cpmMapping[e.amznbid];if(t)return"EUR"===this.#j.currency?t/Number(N.remoteConfiguration.currentValue?.currencies.rates.USD?N.remoteConfiguration.currentValue?.currencies.rates.USD.EUR:1):t}return 0};#V=e=>{const t=`${Math.round(1e12*Math.random())}${Date.now()}`;return`https://aax.amazon-adsystem.com/e/dtb/vast?b=${e.amzniid}&pp=${e.amznbid}&rnd=${t}`};#G=(e,t,i,a,n)=>{const r=(e=>{const t={};for(const a of e)t[(i=a,i.slot.slotID)]=a;var i;return t})(a);for(const a of n){const n=r[a.slotID];if(!n)continue;if(this.#F(a)){e.timeouts.push({placementId:n.metadata.placementId,bidId:n.metadata.bidId,bidder:n.metadata.bidder,displayFormat:n.metadata.displayFormat,mediaType:n.metadata.mediaType,vendorId:793,requestSizes:n.metadata.requestSizes,userIdPartners:[],demandSource:"apstag"}),delete r[a.slotID];continue}const[o,s]=F(a),d=L(a);if(I(a))for(const e of Object.keys(d))h.i.add(e);if(""===d.amznbid&&""===d.amzniid&&""===d.amznp&&"0x0"===d.amznsz)continue;if(""===d.amzniid&&"0x0"===d.amznsz)continue;const l={providerId:w.a,amazon:a,auctionId:t,placementId:n.metadata.placementId,bidId:n.metadata.bidId,bidder:n.metadata.bidder,vendorId:793,mediaType:n.metadata.mediaType,width:o,height:s,creativeId:V(a),cpm:this.#L(d),currency:"USD",originalCpm:0,originalCurrency:this.#j?.currency??"USD",isNetRevenue:!1,targetings:d,ttl:30,fetchDuration:i,native:void 0,vastUrl:void 0,vastXml:void 0,displayFormat:n.metadata.displayFormat,requestSizes:n.metadata.requestSizes,userIdPartners:[],requestParams:void 0,demandSource:"apstag"};"outstream"!==l.displayFormat||I(l.amazon)||(l.vastUrl=this.#V(l.amazon)),e.bids.push(l),delete r[a.slotID]}for(const t of Object.values(r))t&&e.noBids.push({placementId:t.metadata.placementId,bidId:t.metadata.bidId,bidder:t.metadata.bidder,displayFormat:t.metadata.displayFormat,mediaType:t.metadata.mediaType,vendorId:793,requestSizes:t.metadata.requestSizes,userIdPartners:[],demandSource:"apstag"})};#W=()=>U.a.value?.()??[];#H=(e,t)=>{if(!this.#j?.pubId)return;const i={bidTimeout:e.bidderTimeout,pubID:this.#j.pubId,adServer:this.#j.adServer,videoAdServer:this.#j.videoAdServer};if(this.#j.enableDeals&&(i.deals=!0),t&&(i.gpdr={enabled:!0,consent:t}),e.amazonOrtb2){const t={...e.amazonOrtb2.user,eids:this.#W()};i.signals={ortb2:{...e.amazonOrtb2,user:t}}}return i};#K=(0,r.a)((()=>{window.apstag?.renderImp&&(this.#z=window.apstag?.renderImp.bind(window.apstag),window.apstag.renderImp=(...e)=>{const[t,i]=e,a=i&&M.get(i);if(this.#j?.useHbvPlayer&&a){M.delete(i);const{bid:n,placement:r}=a;(async(e,t,i)=>{const a=e.defaultView?.frameElement;(0,S.h)(a)&&(0,S.d)(a),(0,T.c)(e,t,{creativeType:"outstream-player"});const n=document.querySelector(i.rendering?.outstream?.selector??`#${i.placementId}`)??e.body;try{return await(0,E.a)("https://cdn.hubvisor.io/wrapper/common/player.js"),(0,R.a)(n,{vastUrl:t.vastUrl,vastXml:t.vastXml,targetWidth:t.width,targetHeight:t.height,renderContext:{document:e,bidResponse:t,context:void 0},...i.rendering?.outstream,onEvent:(e,i)=>{const a=(0,x.a)(e,i);switch(a.kind){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":return A.a.emit("outstream-imp",{adId:t.bidId,kind:"impression"===a.kind?"video-imp":a.kind}),k(`Outstream ${a.kind} pixel triggered for ${t.placementId}`);case"error":return O("Error playing outstream",JSON.stringify({error:a.value,bidResponse:t}))}}}),!0}catch(e){return(0,C.a)(new D.b(D.a.outstreamPlayerLoadingFailed,`failed to load player: ${e.message} - bid ${t.bidder} ${t.vastUrl} ${t.vastXml}  - ${JSON.stringify(e)}`),e),!1}})(t,n,r).then((a=>{a||this.#z?.(...e),this.#$.emit(P.a.amazonImp,{amzniid:i,doc:t})}))}else this.#z?.(...e),i&&this.#$.emit(P.a.amazonImp,{amzniid:i,doc:t})})}));provideContent=async(e,t)=>{const i={bids:[],noBids:[],timeouts:[],rejectedBids:[]};if(!this.#j)return i;const a=(0,v.b)(_.a.currentValue?.tcData);if(this.#j.abortOnNoConsent&&(0,B.b)())return j("no consent: skipping Amazon auction"),i;l({config:this.#H(t,a),loadScript:!this.#j.skipScriptLoad});const r=(0,n.a)(new u,t.placements,{provideFormatter:(s=this.#q,e=>(s[e]??e)!==b.a.amazon?g.a:y)},t.context).build();var s,c;if(r.length>0)try{const a=r.map((e=>e.slot));z(`Starting auction with id #${e}`,a);const n=1e3*t.bidderTimeout,s=Date.now(),l=await(c={slots:a,timeout:n},new Promise(((e,t)=>{if(window.apstag){const t={resolved:!1};window.apstag.fetchBids(c,(i=>{t.resolved=!0,e(i)})),c.timeout&&(0,o.b)(c.timeout/1e3).then((()=>{t.resolved||(d(`Amazon 'fetchBids' didn't respond within timeout of ${c.timeout}ms`),e(c.slots.map((({slotID:e})=>({slotID:e,timeout:!0})))))}))}else t(new Error("'fetchBids' was called before 'setupApstag' and this is a developer error"))}))),p=Date.now()-s;z(`Ended auction with id #${e}`,l),this.#G(i,e,p,r,l);for(const e of i.bids)if("outstream"===e.displayFormat&&!I(e.amazon)){const i=t.placements.find((t=>t.placementId===e.placementId));i&&M.set(e.creativeId,{bid:e,placement:i})}this.#K()}catch(e){q("Error requesting bids to Amazon",e)}return i}}},(e,t,i)=>{i.r(t),i.d(t,{_floorDataForAuction:()=>R,addBidResponseHook:()=>te,allowedFields:()=>x,calculateAdjustedFloor:()=>P,continueAuction:()=>L,createFloorsDataForAuction:()=>F,fieldMatchingFunctions:()=>O,generateAndHandleFetch:()=>Z,getBiddersCpmAdjustment:()=>B,getFirstMatchingFloor:()=>M,getFloor:()=>U,getFloorDataFromAdUnits:()=>j,getFloorsDataForAuction:()=>q,handleFetchResponse:()=>Q,handleSetFloorsConfig:()=>ee,isFloorsDataValid:()=>H,normalizeDefault:()=>V,parseFloorData:()=>K,pickRandomModel:()=>$,requestBidsHook:()=>X,setImpExtPrebidFloors:()=>ae,setOrtbExtPrebidFloors:()=>ne,setOrtbImpBidFloor:()=>ie,updateAdUnitsForAuction:()=>z});var a=i(0),n=i(5),r=i(87),o=i(11),s=i(2),d=i(26),l=i(21),c=i(6),p=i(9),u=i(4),m=i(37),b=i(15),f=i(8),g=i(90),y=i(25),h=i(85),_=i(91);function v(e,t,i,a=!0){if(t===i)return e;let n=e;try{n=(0,o.a)().convertCurrency(e,t,i)}catch(e){if(!a)throw e}return n}const I="Price Floors",w=(0,d.a)(1e4),T=Symbol();let x=[T,"gptSlot","adUnitCode","size","domain","mediaType"],D=!1,S=!1,C={},E=[],R={};const A=(()=>{let e;return function(){return null==e&&(e=(0,a.kb)((0,m.a)().topmostLocation,{noDecodeWholeURL:!0}).hostname),e}})();function k(e,t,{index:i=f.a.index}={}){return e?.adUnitCode||i.getAdUnit(t).code}let O={[T]:()=>"*",size:(e,t)=>(0,a.hb)(t.size)||"*",mediaType:(e,t)=>t.mediaType||"banner",gptSlot:(e,t)=>function(e,{index:t=f.a.index}={}){const i=t.getAdUnit({transactionId:e});return"gam"===(0,n.a)(i,"ortb2Imp.ext.data.adserver.name")&&i.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||(0,_.a)(k(e,t)).gptSlot,domain:A,adUnitCode:(e,t)=>k(e,t)};function M(e,t,i={}){let a=function(e,t,i){return e.length?e.reduce(((e,a)=>{let n=O[a](t,i)||"*";return e.push("*"===n?["*"]:[n.toLowerCase(),"*"]),e}),[]):[]}((0,n.a)(e,"schema.fields")||[],t,i);if(!a.length)return{matchingFloor:void 0};let o=a.map((e=>e[0])).join("-"),s=(0,n.a)(e,`matchingInputs.${o}`);if(s)return{...s};let d=(l=a,c=(0,n.a)(e,"schema.delimiter")||"|",l.reduce(((e,t)=>{let i=[];return e.map((e=>{t.map((t=>{i.push(e+c+t)}))})),i})).sort(((e,t)=>e.split("*").length-t.split("*").length)));var l,c;let p=(0,u.b)(d,(t=>e.values.hasOwnProperty(t))),m={floorMin:e.floorMin||0,floorRuleValue:e.values[p],matchingData:d[0],matchingRule:p===e.meta?.defaultRule?void 0:p};const b=(0,n.a)(t,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof b&&(m.floorMin=b),m.matchingFloor=Math.max(m.floorMin,m.floorRuleValue),(0,r.a)(e,`matchingInputs.${o}`,{...m}),m}function B(e,t,i){return parseFloat((0,h.a)(e,{...t,cpm:e},i))}function P(e,t){const i=Math.pow(10,10);return e*i/(t*i)*(e*i)/i}const N={banner:e=>(0,n.a)(e,"mediaTypes.banner.sizes")||[],video:e=>(0,n.a)(e,"mediaTypes.video.playerSize")||[],native:e=>(0,n.a)(e,"mediaTypes.native.image.sizes")?[(0,n.a)(e,"mediaTypes.native.image.sizes")]:[]};function U(e={currency:"USD",mediaType:"*",size:"*"}){let t=this,i=R[t.auctionId];if(!i||i.skipped)return{};e=function(e,t){let i=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===i.length&&(t.mediaType=i[0]),"*"===t.size&&-1!==i.indexOf(t.mediaType)&&N[t.mediaType]&&1===N[t.mediaType](e).length&&(t.size=N[t.mediaType](e)[0]),t}(t,e);let n=M(i.data,{...t},{mediaType:e.mediaType,size:e.size}),r=e.currency||i.data.currency;if(n.matchingFloor&&r!==i.data.currency)try{n.matchingFloor=(0,o.a)().convertCurrency(n.matchingFloor,i.data.currency,r)}catch(e){(0,a.db)(`${I}: Unable to get currency conversion for getFloor for bidder ${t.bidder}. You must have currency module enabled with defaultRates in your currency config`),r=i.data.currency}if(i.enforcement.bidAdjustment&&n.matchingFloor){const e=b.a.get(t.bidder,"inverseBidAdjustment");if(e)n.matchingFloor=e(n.matchingFloor,t);else{let e=B(n.matchingFloor,null,t);n.matchingFloor=e?P(n.matchingFloor,e):n.matchingFloor}}return n.matchingFloor?{floor:(s=n.matchingFloor,Math.ceil((parseFloat(s)*Math.pow(10,4)).toFixed(1))/Math.pow(10,4)),currency:r}:{};var s}function q(e,t){let i=(0,a.n)(e);return i.schema.delimiter=e.schema.delimiter||"|",i.values=function(e,t){let i=e.schema.fields,a=e.schema.delimiter,n=t&&-1===i.indexOf("adUnitCode")&&i.unshift("adUnitCode");return Object.keys(e.values).reduce(((i,r)=>(i[(n?`${t}${a}${r}`:r).toLowerCase()]=e.values[r],i)),{})}(i,t),i.currency=i.currency||"USD",i}function j(e){const t=e.find((e=>null!=e.floors?.schema));return e.reduce(((e,i)=>{if(null!=i.floors?.schema&&!(0,a.o)(i.floors.schema,t?.floors?.schema))return(0,a.ab)(`${I}: adUnit '${i.code}' declares a different schema from one previously declared by adUnit '${t.code}'. Floor config for '${i.code}' will be ignored.`),e;const n=Object.assign({},t?.floors,{values:void 0},i.floors);if(H(n))if(e.values){let t=q(n,i.code).values;Object.assign(e.values,t)}else(e=q(n,i.code)).location="adUnit";else null!=i.floors&&(0,a.db)(`adUnit '${i.code}' provides an invalid \`floor\` definition, it will be ignored for floor calculations`,i);return e}),{})}function z(e,t,i){e.forEach((e=>{e.bids.forEach((e=>{t.skipped?delete e.getFloor:e.getFloor=U,e.auctionId=i,e.floorData={skipped:t.skipped,skipRate:(0,n.a)(t,"data.skipRate")??t.skipRate,floorMin:t.floorMin,modelVersion:(0,n.a)(t,"data.modelVersion"),modelWeight:(0,n.a)(t,"data.modelWeight"),modelTimestamp:(0,n.a)(t,"data.modelTimestamp"),location:(0,n.a)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:C.fetchStatus}}))}))}function $(e,t){let i=Math.floor(Math.random()*t+1);for(let t=0;t<e.length;t++)if(i-=e[t].modelWeight,i<=0)return e[t]}function F(e,t){let i=(0,a.n)(C);if(2===(0,n.a)(i,"data.floorsSchemaVersion")){let{modelGroups:e,...t}=i.data;i.data=Object.assign(t,$(e,t.modelWeightSum))}let r=0===Object.keys((0,n.a)(i,"data.values")||{}).length;if(i.data=r?j(e):q(i.data),0===Object.keys((0,n.a)(i,"data.values")||{}).length)i.skipped=!0;else{const e=(0,a.y)("pbjs_skipRate")||((0,n.a)(i,"data.skipRate")??i.skipRate),t=100*Math.random()<parseFloat(e);i.skipped=t}return i.hasOwnProperty("floorMin")&&(i.data.floorMin=i.floorMin),z(e,i,t),i}function L(e){e.hasExited||(E=E.filter((t=>t.timer!==e.timer)),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,a.s)(),R[e.reqBidsConfigObj.auctionId]=F(e.reqBidsConfigObj.adUnits||(0,o.a)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function V(e){if((0,a.X)(e.default)){let t="*";const i=(e.schema?.fields||[]).length;i?t=Array(i).fill("*").join(e.schema?.delimiter||"|"):(0,r.a)(e,"schema.fields",[T]),e.values=e.values||{},null==e.values[t]&&(e.values[t]=e.default,e.meta={defaultRule:t})}return e}function G(e){return e=V(e),t=(0,n.a)(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((e=>-1!==x.indexOf(e)))||((0,a.ab)(`${I}: Fields received do not match allowed fields`),0))&&(i=e,r=e.schema.fields.length,o=e.schema.delimiter||"|","object"==typeof i.values&&(i.values=Object.keys(i.values).reduce(((e,t)=>(function(e,t,i,a){return"string"==typeof e&&e.split(a).length===i&&"number"==typeof t}(t,i.values[t],r,o)&&(e[t]=i.values[t]),e)),{}),Object.keys(i.values).length>0));var t,i,r,o}const W={1:e=>G(e),2:e=>!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((t=>!("number"!=typeof t.modelWeight||!G(t)||(e.modelWeightSum+=t.modelWeight,0)))))};function H(e){return"object"==typeof e&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof W[e.floorsSchemaVersion]?((0,a.ab)(`${I}: Unknown floorsSchemaVersion: `,e.floorsSchemaVersion),!1):W[e.floorsSchemaVersion](e))}function K(e,t){if(e&&"object"==typeof e&&H(e))return(0,a.bb)(`${I}: A ${t} set the auction floor data set to `,e),{...e,location:t};(0,a.ab)(`${I}: The floors data did not contain correct values`,e)}const X=(0,y.b)("priceFloors",(function(e,t){const i={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};C.auctionDelay>0&&D?(i.timer=setTimeout((()=>{(0,a.db)(`${I}: Fetch attempt did not return in time for auction`),C.fetchStatus="timeout",L(i)}),C.auctionDelay),E.push(i)):L(i)}));function J(){E.forEach((e=>{clearTimeout(e.timer),L(e)})),E=[]}function Q(e){let t;D=!1,C.fetchStatus="success";try{t=JSON.parse(e)}catch(i){t=e}const i=K(t,"fetch");i&&(C.data=i,C.skipRate=(0,a.X)(i.skipRate)?i.skipRate:C.skipRate,C.floorProvider=i.floorProvider||C.floorProvider),J()}function Y(e){D=!1,C.fetchStatus="error",(0,a.ab)(`${I}: Fetch errored with: `,e),J()}function Z(e){e.url&&!D?"GET"!==(e.method||"GET")?(0,a.ab)(`${I}: 'GET' is the only request method supported at this time!`):(w(e.url,{success:Q,error:Y},null,{method:"GET"}),D=!0):D&&(0,a.db)(`${I}: A fetch is already occuring. Skipping.`)}function ee(e){C=(0,a.lb)(e,["floorMin","enabled",e=>!1!==e,"auctionDelay",e=>e||0,"floorProvider",t=>(0,n.a)(e,"data.floorProvider",t),"endpoint",e=>e||{},"skipRate",()=>isNaN((0,n.a)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate,"enforcement",e=>(0,a.lb)(e||{},["enforceJS",e=>!1!==e,"enforcePBS",e=>!0===e,"floorDeals",e=>!0===e,"bidAdjustment",e=>!1!==e]),"additionalSchemaFields",e=>{return"object"==typeof e&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((e=>{-1===x.indexOf(e)&&"function"==typeof t[e]&&(x.push(e),O[e]=t[e])}))):void 0;var t},"data",e=>e&&K(e,"setConfig")||void 0]),C.enabled?(Z(C.endpoint),S||(l.on(c.EVENTS.AUCTION_END,(e=>{setTimeout((()=>delete R[e.auctionId]),3e3)})),(0,o.a)().requestBids.before(X,50),(0,p.a)("addBidResponse").before(te,(0,a.m)()?4:50),S=!0)):((0,a.bb)(`${I}: Turning off module`),C={},R={},(0,p.a)("addBidResponse").getHooks({hook:te}).remove(),(0,o.a)().requestBids.getHooks({hook:X}).remove(),S=!1)}const te=(0,y.c)("priceFloors",(function(e,t,i,r){let s=R[i.auctionId];if(!s||!i||s.skipped)return e.call(this,t,i,r);const d=f.a.index.getBidRequest(i);let l,p=M(s.data,d,{...i,size:[i.width,i.height]});if(!p.matchingFloor)return 0!==p.matchingFloor&&(0,a.db)(`${I}: unable to determine a matching price floor for bidResponse`,i),e.call(this,t,i,r);let u=s.data.currency.toUpperCase(),m=i.currency||"USD";if(u===m.toUpperCase())l=i.cpm;else if(i.originalCurrency&&u===i.originalCurrency.toUpperCase())l=i.originalCpm;else try{l=(0,o.a)().convertCurrency(i.cpm,m.toUpperCase(),u)}catch(n){return(0,a.ab)(`${I}: Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ${i}`),e.call(this,t,i,r)}return l=B(l,i,d),function(e,t,i,a){i.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:a,enforcements:{...e.enforcement},matchedFields:{}},e.data.schema.fields.forEach(((a,n)=>{let r=t.matchingData.split(e.data.schema.delimiter)[n];i.floorData.matchedFields[a]=r}))}(s,p,i,l),function(e,t,i){let a=!1!==(0,n.a)(e,"enforcement.enforceJS"),r=!0===(0,n.a)(e,"enforcement.floorDeals")||!i.dealId,o=i.floorData.cpmAfterAdjustments<t.matchingFloor;return a&&o&&r}(s,p,i)?(r(c.REJECTION_REASON.FLOOR_NOT_MET),void(0,a.db)(`${I}: ${i.bidderCode}'s Bid Response for ${t} was rejected due to floor not met (adjusted cpm: ${i?.floorData?.cpmAfterAdjustments}, floor: ${p?.matchingFloor})`,i)):e.call(this,t,i,r)}));function ie(e,t,i){if("function"==typeof t.getFloor){let n,r;try{({currency:n,floor:r}=t.getFloor({currency:i.currency||s.config.getConfig("currency.adServerCurrency")||"USD",mediaType:i.mediaType||"*",size:"*"}))}catch(e){return void(0,a.db)("Cannot compute floor for bid",t)}r=parseFloat(r),null==n||null==r||isNaN(r)||Object.assign(e,{bidfloor:r,bidfloorcur:n})}}function ae(e,t,i){if(null!=e.bidfloor){let{floorMinCur:t,floorMin:a}=i.reqContext.floorMin||{};null==t&&(t=e.bidfloorcur);const n=e.ext?.prebid?.floors?.floorMinCur||e.ext?.prebid?.floorMinCur||t,o=e.ext?.prebid?.floors?.floorMin||e.ext?.prebid?.floorMin,s=v(e.bidfloor,e.bidfloorcur,t),d=!(!o||!n)&&v(o,n,t),l=d&&d<s?d:s;(0,r.a)(e,"ext.prebid.floors.floorMin",l),(null==a||a>l)&&(a=l),i.reqContext.floorMin={floorMin:a,floorMinCur:t}}}function ne(e,t,i){S&&(0,r.a)(e,"ext.prebid.floors.enabled",e.ext?.prebid?.floors?.enabled||!1),i?.floorMin&&(0,a.fb)(e,{ext:{prebid:{floors:i.floorMin}}})}s.config.getConfig("floors",(e=>ee(e.floors))),(0,g.i)({type:g.c,name:"bidfloor",fn:ie}),(0,g.i)({type:g.c,name:"extPrebidFloors",fn:ae,dialects:[g.d],priority:-1}),(0,g.i)({type:g.f,name:"extPrebidFloors",fn:ne,dialects:[g.d]})},(e,t,i)=>{i.r(t);var a=i(18),n=i(94),r=i(3),o=i(42),s=i(61),d=i(89),l=i(1),c=i(16);const{debug:p,info:u}=r.a.tag("gam:interceptors"),m={isProcessingEvents:!1,pendingEvents:[]},b=(e,t)=>{try{switch(t.type){case"after-define-slot":return e.gamDidDefineSlot(t.definedSlot,...t.params);case"after-display":return e.gamDidDisplay(...t.params);case"before-refresh":return e.gamWillRefresh(t.next,...t.params)}}catch{}},f=(0,n.a)((()=>{if(!m.delegate)return;if(m.isProcessingEvents)return;let e;for(m.isProcessingEvents=!0;(0,l.i)(e=m.pendingEvents.shift());)b(m.delegate,e);m.isProcessingEvents=!1}),0),g=(e,t)=>!!t&&((0,l.q)(t)?e.includes(t):e.includes(t.getSlotElementId())),y=(0,c.a)((e=>{window.Hubvisor?.ready||(p("preparing gam for header bidding"),(0,s.b)((t=>{((e,t)=>{const i=e.pubads(),a=i.refresh.bind(i);i.refresh=(...e)=>{if(t&&t.length>0){const i=(0,d.a)(e[0]).filter((e=>g(t,e)));if(i.length>0){if(a(i),(0,d.a)(e[0]).length===i.length)return;e[0]=(0,d.a)(e[0]).filter((e=>!g(t,e)))}}const i=(0,d.a)(e[0]).filter(l.i).map((e=>(0,l.q)(e)?e:e.getSlotElementId())),n=i.length>0?i.join(", "):"*";u(`before 'refresh': ${n}`),m.pendingEvents.push({type:"before-refresh",params:e,next:a}),f()}})(t,e),(e=>{const t=e.defineSlot.bind(e);e.defineSlot=(...e)=>{const i=t(...e);return p("after 'defineSlot'",e),m.pendingEvents.push({type:"after-define-slot",params:e,definedSlot:i}),f(),i}})(t),(e=>{const t=e.display.bind(e);e.display=(...e)=>{t(...e),p("after 'display'",e),m.pendingEvents.push({type:"after-display",params:e}),f()}})(t),p("gam interceptors ready")})))}));var h=i(7),_=i(10);const{info:v}=r.a.tag("GoogletagEvent"),I=(0,c.a)((()=>{(0,s.b)((e=>{e.pubads().addEventListener("impressionViewable",(e=>{v(`Slot '${e.slot.getSlotElementId()}' has been viewed`)}))}))})),w=(0,c.a)((()=>{(0,s.b)((e=>{e.pubads().addEventListener("slotRenderEnded",(e=>{const t=e.slot.getSlotElementId();if(e.isEmpty)return v(`Empty slot: ${t}`);v(`Slot '${t}' has been rendered. Advertiser: ${e.advertiserId}. Line item: ${e.lineItemId}. Size: ${e.size}`)}))}))}));var T=i(80),x=i(39),D=i(17),S=i(60),C=(i(19),i(40)),E=i(63),R=i(99),A=i(56),k=i(81);const{debug:O,error:M,info:B}=r.a.tag("short-circuit"),P=e=>{if((0,l.g)(e)){const t=e();return O("Forwarding retrieved HTMLElement",t),t}{const t=document.querySelector(e);if(O(`Getting HTMLElement from selector '${e}'`,t),t)return t}},N=(e,t,i)=>{const{placementId:a}=e.placement;var n;((e,t,i,a)=>{const n=a?.isDfpBypass??!1,r=a?.isSmartNoAd??!1;if(!e){B(`placement ${i} won't be rendered without content`);const e=t.skipIframe?document.body:P(t.selector);return k.a.dispatch("hsc-no-content",{placementId:i,bidResponse:void 0,renderingDiv:e,isGamBypass:n,isSmartNoAd:r})}const o=e.bidResponse,s=o.bidId;if(t.skipIframe)O(`Rendering content #${s} in current frame`),setTimeout((()=>{(0,E.a)("adServerRender",{document,adId:s}),k.a.dispatch("hsc-render",{placementId:i,bidResponse:e.bidResponse,renderingDiv:document.body,isGamBypass:n,isSmartNoAd:r})}),0);else{const a=t.selector;B(`Rendering content: #${s} for placement '${a}'`);const d=P(a);if(!d)throw new Error(`couldn't match element w/ selector '${a}' for content #${s} from placement ${i}`);O(`found element w/ selector '${a}' for content #${s}`,d);const l=((e,t,i)=>{O(`Using an iframe for bid #${e}`);const{width:a,height:n,placementId:r}=t;(0,C.i)(i)&&(0,C.c)(i);const o=document.createElement("iframe");return(0,C.l)(o,{width:a,height:n,id:`hbv-${r}`}),i.append(o),o})(s,o,d);(0,C.o)(l,(()=>{setTimeout((()=>{(0,E.a)("adServerRender",{document:l.contentDocument,adId:s}),k.a.dispatch("hsc-render",{placementId:i,bidResponse:e.bidResponse,renderingDiv:d,isGamBypass:n,isSmartNoAd:r})}),0)}))}})((n=e.content).find((({bidResponse:e})=>!e.deal?.isGuaranteed&&e.providerId===A.a))??n.find((e=>e.bidResponse.providerId===R.a)),t,a,i)};var U=i(41),q=i(43),j=i(44);const{info:z,debug:$,warn:F,error:L}=r.a.tag("dfp"),V="initial",G="waitingForRefresh",W=new class{#X={};#J=[];#Q=!0;#n={shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1,matchPlacementOnce:!1,shouldRefreshOnDisplay:!1,shouldBypassDfp:!1};#Y;#Z=V;#$;#ee=(0,D.a)();tagsReady=()=>this.#ee.promise;start=e=>{const{settings:t,bus:i}=e;this.#n=Object.assign({},t.dfp2),this.#Y=e.settings,this.#$=i,this.#$.on(o.a.impression,this.#te),this.#$.on(o.a.refresh,this.#ie),this.#Z=this.#n.shouldPerformInitialRefresh?V:G,y(e.settings.dfp2.elementIdsExcludedFromHB),I(),w(),(0,s.b)((e=>{e.pubads().disableInitialLoad();const t=e.pubads().getSlots();t&&t.length>0&&this.#ae()})),m.delegate=this,f()};#ne=(0,c.a)((()=>{setTimeout((()=>{this.#Q&&(this.render([]),(0,_.a)(new h.b(h.a.adserverTimeout,"Adserver timeout for GAM")))}),1e3*this.#Y.renderTimeout)}));#re=(0,c.a)((()=>{}));#ae=(0,c.a)((()=>{$("tags are ready"),this.#ee.resolve(),this.#n.shouldPerformInitialRefresh&&this.#ne()}));#oe=(0,n.a)((()=>{this.#ae()}),.05);#se=e=>{(0,s.b)((t=>{try{t.pubads().refresh([e])}catch(t){const i=new h.b(h.a.onDisplayOrDfpRefresh,t);(0,_.a)(i,"Failed to display/refresh slot",e)}}))};#de=e=>{if(!(0,l.j)(e)){if((0,l.q)(e)||e instanceof HTMLElement){const t=e instanceof HTMLElement?e.id:e;return this.#le().find((e=>e.getSlotElementId()===t))}return e}};#ce=e=>(0,d.a)(e).map(this.#de).filter(l.i);#pe=()=>{const e=new Set;let t;for(const{refresh:i,args:a}of this.#J){const n=this.#ce(a[0]);if(0===n.length)return{refresh:i};t=i;for(const t of n)e.add(t)}if(t)return{refresh:t,slots:[...e]}};#ue=(e,t)=>{const i=e.placement.rendering?.dfp;return!(!(0,S.c)(i)||!(0,x.b)(i.adUnitPath,t.getAdUnitPath()))||!(!(0,S.d)(i)||!(0,x.b)(i.elementId,t.getSlotElementId()))||!(!(0,S.e)(i)||!(0,x.b)(i.match,t.getAdUnitPath(),t.getSlotElementId()))||(0,x.b)(e.placement.placementId,t.getAdUnitPath(),t.getSlotElementId())};#me=(e,t)=>{const i=Object.values(this.#X).filter((e=>!t.has(e.placement.placementId))).filter((t=>this.#ue(t,e)));return i.length>1&&F(`multiple renderables matching slot ${e.getSlotElementId()}: check if this is a configuration error as only the first one will be used and impressions may be lost`,i),i[0]};#be=e=>{const t=new Set,i=[];for(const a of e){const e=this.#me(a,t);if(e){const n=e.placement.placementId;this.#n.matchPlacementOnce&&t.add(n),z(`Matched slot '${a.getSlotElementId()}' with placement '${n}'`),i.push({slot:a,renderable:e})}}return i};#fe=e=>{const t=this.#Y;if(!t)return L("Cannot setup targetings without global options");for(const{slot:i,renderable:a}of e){const e=(0,T.c)({renderable:a,settings:t});z("Set targeting",e,`for slot '${i.getSlotElementId()}'`);for(const[t,a]of Object.entries(e))(0,l.i)(a)?i.setTargeting(t,a):i.getTargeting(t).length>0&&i.clearTargeting(t)}};#le=()=>window.googletag?.pubads().getSlots()??[];#ge=async()=>{this.#n.shouldPerformInitialRefresh&&this.#Z===V&&(this.#Z="awaitTags",await this.#ee.promise,this.#Z=G,window.googletag?.pubads().refresh())};#ye=async()=>{try{return await(a.f.value?.setupTargetings())}catch(e){F("failed to apply ias targetings to GAM slots",e)}};#he=e=>{const t=new Set;for(const{renderable:{content:i}}of e)for(const e of i)t.add(e.bidResponse.placementId);this.#$?.emit(o.a.adrequest,t)};#_e=()=>this.#n.isNoConsentForGam?this.#n.isNoConsentForGam():(0,q.b)();#ve=(0,n.a)((async()=>{if(this.#Q)return $("Bids are not ready yet. AdRequests will be buffered until bids are ready.");const e=this.#pe();if(!e)return $("No pending AdRequest: waiting for more");const t=e.slots?.map((e=>e.getSlotElementId())).join(", ")??"*";z(`sending pending ad requests: ${t}`),await this.#ye();const i=e.slots??this.#le();this.#J=[];const a=this.#be(i);this.#he(a),this.#n.shouldBypassDfp&&this.#_e()&&!j.a?(z("bypassing GAM"),((e,t)=>{const i=[];for(const{renderable:a,options:n}of e)try{N(a,n,t)}catch(e){i.push(e)}if(i.length>0){const e=i.map((e=>`${e}`)).join("\n");t.isDfpBypass?(0,_.a)(new h.b(h.a.bypassGamRenderError,`failed to render while bypassing gam...\n${e}`)):M(`Failed to render the following:\n${e}`)}})(a.flatMap((({renderable:e,slot:t})=>{const i=t.getSlotElementId();return document.getElementById(i)?[{renderable:e,options:{selector:`#${CSS.escape(i)}`}}]:[]})),{isDfpBypass:!0})):(this.#fe(a),this.#Ie(e.slots),e.refresh(e.slots))}),.1);#we=()=>{this.#n.shouldPerformInitialRefresh?this.#ge():this.#ve()};#te=e=>{const t=e.renderable.placement.rendering?.dfp;if(!t)return;const{placementId:i}=e.renderable.placement;this.#X[i]&&(delete this.#X[i],$(`Removed pending bid for placement '${i}'`),this.#Te({placements:[i]}))};#ie=e=>{e.refreshConfig.refreshReason===U.b.pageView&&($("Discard all pending renderables"),this.#X={})};#Te=e=>{this.#$?.emit(o.a.renderableRequested,e)};#Ie=e=>{try{return this.#n?.preGamCallStep?.(e)}catch(e){L("preGamCallStep error",e)}};gamDidDefineSlot=e=>{this.#oe(),this.#n.shouldRefreshNewTags&&this.#Z===G&&this.#se(e)};gamDidDisplay=e=>{if(!this.#n.shouldRefreshOnDisplay)return;const t=this.#de(e);if(!t)return F("couldn't find matching slot, it won't be refreshed",e);this.#se(t)};gamWillRefresh=(e,...t)=>{this.#J.push({refresh:e,args:t}),this.#ve(),this.#n.shouldPerformInitialRefresh||this.#ne()};canRender=e=>!!e.placement.rendering?.dfp;render=e=>{z("Renderables received",e);for(const t of e)this.#X[t.placement.placementId]=t;this.#Q=!1,this.#we()}};a.e.provide({tagsReady:W.tagsReady()}),a.h.register(S.a.dfp,W)},(e,t,i)=>{var a=i(11),n=i(0),r=i(5),o=i(87),s=i(21),d=i(35),l=i(6),c=i(8),p=i(4),u=i(2),m=i(51),b=i(36);const{AD_RENDER_FAILED:f,AD_RENDER_SUCCEEDED:g,STALE_RENDER:y,BID_WON:h}=l.EVENTS;function _({reason:e,message:t,bid:i,id:a}){const r={reason:e,message:t};i&&(r.bid=i),a&&(r.adId=a),(0,n.ab)(`Error rendering ad (id: ${a}): ${t}`),s.emit(f,r)}function v({doc:e,bid:t,id:i}){const a={doc:e};t&&(a.bid=t),i&&(a.adId=i),s.emit(g,a)}function I(e,{adId:t,options:i,bidResponse:a}){if(null!=a){if(a.status!==l.BID_STATUS.RENDERED||((0,n.db)(`Ad id ${t} has been rendered before`),s.emit(y,a),!(0,r.a)(u.config.getConfig("auctionOptions"),"suppressStaleRender"))){try{const{adId:t,ad:r,adUrl:o,width:s,height:d,renderer:c,cpm:p,originalCpm:u,mediaType:f}=a;if((0,m.c)(c))(0,m.b)(c,a);else if(t){if(f===b.d)return void _({reason:l.AD_RENDER_FAILED_REASON.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"Cannot render video ad",bid:a,id:t});const c={AUCTION_PRICE:u||p,CLICKTHROUGH:i?.clickUrl||""};e({ad:(0,n.ob)(r,c),adUrl:(0,n.ob)(o,c),adId:t,width:s,height:d})}}catch(e){return void _({reason:l.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t,bid:a})}c.a.addWinningBid(a),s.emit(h,a)}}else _({reason:l.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:`Cannot find ad '${t}'`,id:t})}l.EVENTS.AD_RENDER_SUCCEEDED,l.EVENTS.AD_RENDER_FAILED;const w=l.AD_RENDER_FAILED_REASON.NO_AD,T=l.AD_RENDER_FAILED_REASON.EXCEPTION,x=l.EVENTS.BID_WON,D=new WeakSet,S={"Prebid Request":function(e,t,i){I((function(t){E(i),e(Object.assign({message:"Prebid Response"},t))}),{options:t.options,adId:t.adId,bidResponse:i})},"Prebid Event":function(e,t,i){if(null!=i)if(i.status===l.BID_STATUS.RENDERED)switch(t.event){case l.EVENTS.AD_RENDER_FAILED:_({bid:i,id:t.adId,reason:t.info.reason,message:t.info.message});break;case l.EVENTS.AD_RENDER_SUCCEEDED:v({doc:null,bid:i,id:t.adId});break;default:(0,n.ab)(`Received x-origin event request for unsupported event: '${t.event}' (adId: '${t.adId}')`)}else(0,n.db)(`Received x-origin event request without corresponding render request for ad '${t.adId}'`);else(0,n.ab)(`Cannot find ad '${t.adId}' for x-origin event request`)}};function C(e){var t=e.message?"message":"data",i={};try{i=JSON.parse(e[t])}catch(e){return}if(i&&i.adId&&i.message){const t=(0,p.b)(c.a.getBidsReceived(),(function(e){return e.adId===i.adId}));S.hasOwnProperty(i.message)&&S[i.message](function(e){return null==e.origin&&0===e.ports.length?function(){const e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,n.ab)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),i,t)}}function E({adId:e,adUnitCode:t,width:i,height:a}){["div","iframe"].forEach((r=>{let o=function(i){let a=function(e,t){return(0,n.V)()?function(e){const t=(0,p.b)(window.googletag.pubads().getSlots(),(t=>(0,p.b)(t.getTargetingKeys(),(i=>(0,p.c)(t.getTargeting(i),e)))));return t?t.getSlotElementId():null}(e):(0,n.O)()?function(e){let t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(e,t),r=document.getElementById(a);return r&&r.querySelector(i)}(r+':not([style*="display: none"])');if(o){let e=o.style;e.width=i?i+"px":"100%",e.height=a+"px"}else(0,n.db)(`Unable to locate matching page element for adUnitCode ${t}.  Can't resize it to ad's dimensions.  Please review setup.`)}))}Object.assign(S,{"Prebid Native":function(e,t,i){if(null!=i)switch(D.has(i)||(D.add(i),c.a.addWinningBid(i),s.emit(x,i)),t.action){case"assetRequest":e((0,d.f)(t,i));break;case"allAssetRequest":e((0,d.e)(t,i));break;case"resizeNativeHeight":i.height=t.height,i.width=t.width,E(i);break;default:(0,d.d)(t,i)}else(0,n.ab)(`Cannot find ad for x-origin event request: '${t.adId}'`)}});var R=i(49),A=i(9),k=i(15);function O(e,t){return e===t?0:e<t?-1:1}function M(e=(e=>e)){return(t,i)=>O(e(t),e(i))}function B(e=O){return(t,i)=>-e(t,i)||0}function P(...e){return function(t,i){for(const a of e){const e=a(t,i);if(0!==e)return e}return 0}}function N(e=O){return function(e=O){return(t,i)=>e(i,t)<0?i:t}(B(e))}const U=M((e=>e.cpm)),q=M((e=>e.responseTimestamp)),j=N(P(U,B(M((e=>e.timeToRespond))))),z=N(P(U,B(q)));N(P(U,q));var $=i(84),F=[];const L="targetingControls.allowTargetingKeys",V="targetingControls.addTargetingKeys",G=`Only one of "${L}" or "${V}" can be set`,W=Object.keys(l.TARGETING_KEYS).map((e=>l.TARGETING_KEYS[e]));let H={isActualBid:e=>e.getStatusCode()===l.STATUS.GOOD,isBidNotExpired:e=>e.responseTimestamp+1e3*(0,$.a)(e)>(0,n.sb)(),isUnusedBid:e=>e&&(e.status&&!(0,p.c)([l.BID_STATUS.RENDERED],e.status)||!e.status)};function K(e){return!Object.values(H).some((t=>!t(e)))}const X=(0,A.b)("sync",(function(e,t,i=0,a=!1){if(!a){const a=[],r=u.config.getConfig("sendBidsControl.dealPrioritization");let o=(0,n.H)(e,"adUnitCode");return Object.keys(o).forEach((e=>{let s=[],d=(0,n.H)(o[e],"bidderCode");Object.keys(d).forEach((e=>s.push(d[e].reduce(t)))),i>0?(s=r?s.sort(J(!0)):s.sort(((e,t)=>t.cpm-e.cpm)),a.push(...s.slice(0,i))):a.push(...s)})),a}return e}));function J(e=!1){return function(t,i){return void 0!==t.adserverTargeting.hb_deal&&void 0===i.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==i.adserverTargeting.hb_deal?1:e?i.cpm-t.cpm:i.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}const Q=function(e){let t={},i={};function a(e,t){return e.adserverTargeting&&t&&((0,n.Q)(t)&&(0,p.c)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function o(t){return"string"==typeof t?[t]:(0,n.Q)(t)?t:e.getAdUnitCodes()||[]}function s(){let t=e.getBidsReceived();if(u.config.getConfig("useBidCache")){const e=u.config.getConfig("bidCacheFilterFunction");"function"==typeof e&&(t=t.filter((t=>i[t.adUnitCode]===t.auctionId||!!e(t))))}else t=t.filter((e=>i[e.adUnitCode]===e.auctionId));return t=t.filter((e=>(0,r.a)(e,"video.context")!==b.a)).filter(K),t.forEach((e=>(e.latestTargetedAuctionId=i[e.adUnitCode],e))),X(t,z)}function c(e,i){let a=t.getWinningBids(e,i),n=m();return a=a.map((e=>({[e.adUnitCode]:Object.keys(e.adserverTargeting).filter((t=>void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===n.indexOf(t))).reduce(((t,i)=>{const a=[e.adserverTargeting[i]],n={[i.substring(0,20)]:a};if(i===l.TARGETING_KEYS.DEAL){const r={[`${i}_${e.bidderCode}`.substring(0,20)]:a};return[...t,n,r]}return[...t,n]}),[])}))),a}function m(){return e.getStandardBidderAdServerTargeting().map((e=>e.key)).concat(W).filter(n.vb)}function f(e,t){return Object.keys(t.adserverTargeting).filter(g()).forEach((i=>{e.length&&e.filter(function(e){return function(i){return i.adUnitCode===t.adUnitCode&&i.adserverTargeting[e]}}(i)).forEach(function(e){return function(i){(0,n.Q)(i.adserverTargeting[e])||(i.adserverTargeting[e]=[i.adserverTargeting[e]]),i.adserverTargeting[e]=i.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(n.vb),delete t.adserverTargeting[e]}}(i))})),e.push(t),e}function g(){let e=m();return e=e.concat(d.a),function(t){return-1===e.indexOf(t)}}function y(e){return{[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(g()).map((t=>({[t.substring(0,20)]:[e.adserverTargeting[t]]})))}}function h(e,t){return t.map((t=>({[`${t}_${e.bidderCode}`.substring(0,20)]:[e.adserverTargeting[t]]})))}return t.setLatestAuctionForAdUnit=function(e,t){i[e]=t},t.resetPresetTargeting=function(t,i){if((0,n.V)()){const a=o(t),r=e.getAdUnits().filter((e=>(0,p.c)(a,e.code)));let s=F.reduce(((e,t)=>(e[t]=null,e)),{});window.googletag.pubads().getSlots().forEach((e=>{let t=(0,n.U)(i)&&i(e);r.forEach((i=>{(i.code===e.getAdUnitPath()||i.code===e.getSlotElementId()||(0,n.U)(t)&&t(i.code))&&e.updateTargetingFromMap(s)}))}))}},t.resetPresetTargetingAST=function(e){o(e).forEach((function(e){const t=window.apntag.getTag(e);if(t&&t.keywords){const i=Object.keys(t.keywords),a={};i.forEach((e=>{(0,p.c)(F,e.toLowerCase())||(a[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:a})}}))},t.getAllTargeting=function(t,i=s()){const m=o(t);var b=c(m,i).concat(function(e,t){return t.filter((t=>(0,p.c)(e,t.adUnitCode))).map((e=>Object.assign({},e))).reduce(f,[]).map(y).filter((e=>e))}(m,i)).concat(u.config.getConfig("enableSendAllBids")?function(e,t){const i=W.concat(d.a),n=u.config.getConfig("sendBidsControl.bidLimit"),r=X(t,j,n),o=u.config.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),s=o?o.map((e=>l.TARGETING_KEYS[e])):i;return r.map((t=>{if(a(t,e))return{[t.adUnitCode]:h(t,i.filter((e=>void 0!==t.adserverTargeting[e]&&-1!==s.indexOf(e))))}})).filter((e=>e))}(m,i):function(e,t){if(!0===u.config.getConfig("targetingControls.alwaysIncludeDeals")){const i=W.concat(d.a);return X(t,j).map((t=>{if(t.dealId&&a(t,e))return{[t.adUnitCode]:h(t,i.filter((e=>void 0!==t.adserverTargeting[e])))}})).filter((e=>e))}return[]}(m,i)).concat(function(t){function i(e){return(0,r.a)(e,l.JSON_MAPPING.ADSERVER_TARGETING)}function a(e){const t=i(e);return Object.keys(t).map((function(e){return(0,n._)(t[e])&&(t[e]=t[e].split(",").map((e=>e.trim()))),(0,n.Q)(t[e])||(t[e]=[t[e]]),{[e]:t[e]}}))}return e.getAdUnits().filter((e=>(0,p.c)(t,e.code)&&i(e))).map((e=>({[e.code]:a(e)})))}(m));b.map((e=>{Object.keys(e).map((t=>{e[t].map((e=>{-1===F.indexOf(Object.keys(e)[0])&&(F=Object.keys(e).concat(F))}))}))}));const g=Object.keys(Object.assign({},l.DEFAULT_TARGETING_KEYS,l.NATIVE_KEYS));let _=u.config.getConfig(L);const v=u.config.getConfig(V);if(null!=v&&null!=_)throw new Error(G);_=null!=v?g.concat(v):_||g,Array.isArray(_)&&_.length>0&&(b=function(e,t){const i=Object.assign({},l.TARGETING_KEYS,l.NATIVE_KEYS),a=Object.keys(i),r={};(0,n.bb)(`allowTargetingKeys - allowed keys [ ${t.map((e=>i[e])).join(", ")} ]`),e.map((e=>{const n=Object.keys(e)[0],o=e[n].filter((e=>{const n=Object.keys(e)[0],o=0===a.filter((e=>0===n.indexOf(i[e]))).length||(0,p.b)(t,(e=>{const t=i[e];return 0===n.indexOf(t)}));return r[n]=!o,o}));e[n]=o}));const o=Object.keys(r).filter((e=>r[e]));return(0,n.bb)(`allowTargetingKeys - removed keys [ ${o.join(", ")} ]`),e.filter((e=>e[Object.keys(e)[0]].length>0))}(b,_)),b=function(e){let t=e.map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(",")}))).reduce(((e,t)=>Object.assign(t,e)),{})}))).reduce((function(e,t){var i=Object.keys(t)[0];return e[i]=Object.assign({},e[i],t[i]),e}),{});return t}(b);const I=u.config.getConfig("targetingControls.auctionKeyMaxChars");return I&&((0,n.bb)(`Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ${I} characters.  Running checks on auction keys...`),b=function(e,t){let i=(0,n.n)(e),a=Object.keys(i).map((e=>({adUnitCode:e,adserverTargeting:i[e]}))).sort(J());return a.reduce((function(e,a,r,o){let s=(d=a.adserverTargeting,Object.keys(d).reduce((function(e,t){return e+`${t}%3d${encodeURIComponent(d[t])}%26`}),""));var d;r+1===o.length&&(s=s.slice(0,-3));let l=a.adUnitCode,c=s.length;return c<=t?(t-=c,(0,n.bb)(`AdUnit '${l}' auction keys comprised of ${c} characters.  Deducted from running threshold; new limit is ${t}`,i[l]),e[l]=i[l]):(0,n.db)(`The following keys for adUnitCode '${l}' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ${c}, the current allotted amount was ${t}.\n`,i[l]),r+1===o.length&&0===Object.keys(e).length&&(0,n.ab)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(b,I)),m.forEach((e=>{b[e]||(b[e]={})})),b},u.config.getConfig("targetingControls",(function(e){null!=(0,r.a)(e,L)&&null!=(0,r.a)(e,V)&&(0,n.ab)(G)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((i=>{Object.keys(e).filter(t?t(i):(0,n.N)(i)).forEach((t=>{Object.keys(e[t]).forEach((i=>{let a=e[t][i];"string"==typeof a&&-1!==a.indexOf(",")&&(a=a.split(",")),e[t][i]=a})),(0,n.cb)(`Attempting to set targeting-map for slot: ${i.getSlotElementId()} with targeting-map:`,e[t]),i.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e,t=s()){const i=o(e);return t.filter((e=>(0,p.c)(i,e.adUnitCode))).filter((e=>!0===k.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0)).map((e=>e.adUnitCode)).filter(n.vb).map((e=>t.filter((t=>t.adUnitCode===e?t:null)).reduce(j)))},t.setTargetingForAst=function(e){let i=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,n.ab)("unable to reset targeting for AST"+e)}Object.keys(i).forEach((e=>Object.keys(i[e]).forEach((t=>{if((0,n.cb)(`Attempting to set targeting for targetId: ${e} key: ${t} value: ${i[e][t]}`),(0,n._)(i[e][t])||(0,n.Q)(i[e][t])){let a={},n=/pt[0-9]/;t.search(n)<0?a[t.toUpperCase()]=i[e][t]:a[t]=i[e][t],window.apntag.setKeywords(e,a,{overrideKeyValue:!0})}}))))},t.isApntagDefined=function(){if(window.apntag&&(0,n.U)(window.apntag.setKeywords))return!0},t}(c.a);var Y=i(86),Z=i(52),ee=i(12);const te="__hubjs_debugging__";function ie(){return(0,a.a)().installedModules.includes("debugging")}function ae(e){return new ee.a((t=>{(0,Z.a)(e,"debugging",t)}))}function ne({alreadyInstalled:e=ie,script:t=ae}={}){let i=null;return function(){return null==i&&(i=new ee.a(((i,r)=>{setTimeout((()=>{if(e())i();else{const e="$$PREBID_DIST_URL_BASE$$debugging-standalone.js";(0,n.cb)(`Debugging module not installed, loading it from "${e}"...`),(0,a.a)()._installDebugging=!0,t(e).then((()=>{(0,a.a)()._installDebugging({DEBUG_KEY:te,hook:A.b,config:u.config,createBid:Y.a,logger:(0,n.mb)("DEBUG:")})})).then(i,r)}}))}))),i}}const re=function({load:e=ne(),hook:t=(0,A.a)("requestBids")}={}){let i=null,a=!1;function n(e,...t){return(i||ee.a.resolve()).then((()=>e.apply(this,t)))}function r(){t.getHooks({hook:n}).remove(),a=!1}return{enable:function(){a||(i=e(),t.before(n,99),a=!0)},disable:r,reset:function(){i=null,r()}}}();re.reset,u.config.getConfig("debugging",(function({debugging:e}){e?.enabled?re.enable():re.disable()}));var oe=i(83),se=i(50),de=i(23),le=i(25),ce=i(37);const pe=(0,se.c)("fpdEnrichment"),ue=(0,n.eb)((function(e=window.location.host){if(!pe.cookiesAreEnabled())return e;const t=e.split(".");if(2===t.length)return e;let i,a,r=-2;const o=`_rdc${Date.now()}`,s="writeable";do{i=t.slice(r).join(".");let e=new Date((0,n.sb)()+1e4).toUTCString();pe.setCookie(o,s,e,"Lax",i,void 0),pe.getCookie(o,void 0)===s?(a=!1,pe.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,i,void 0)):(r+=-1,a=Math.abs(r)<=t.length)}while(a);return i})),me=["architecture","bitness","model","platformVersion","fullVersionList"],be=["brands","mobile","platform"],fe=function(e=window.navigator?.userAgentData){const t=e&&be.some((t=>void 0!==e[t]))?Object.freeze(ye(1,e)):null;return function(){return t}}(),ge=function(e=window.navigator?.userAgentData){const t={},i=new WeakMap;return function(a=me){if(!i.has(a)){const e=Array.from(a);e.sort(),i.set(a,e.join("|"))}const r=i.get(a);if(!t.hasOwnProperty(r))try{t[r]=e.getHighEntropyValues(a).then((e=>(0,n.T)(e)?null:Object.freeze(ye(2,e)))).catch((()=>null))}catch(e){t[r]=ee.a.resolve(null)}return t[r]}}();function ye(e,t){function i(e,t){const i={brand:e};return(0,n._)(t)&&!(0,n.S)(t)&&(i.version=t.split(".")),i}const a={source:e};return t.platform&&(a.platform=i(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(a.browsers=(t.fullVersionList||t.brands).map((({brand:e,version:t})=>i(e,t)))),void 0!==t.mobile&&(a.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((e=>{const i=t[e];(0,n._)(i)&&(a[e]=i)})),a}const he=["dooh","app","site"];function _e(e){return function(t){return he.reduce(((i,a)=>(ve(t,a)&&(null!=i?((0,n.db)(`${e} specifies both '${i}' and '${a}'; dropping the latter.`),delete t[a]):i=a),i)),null),t}}function ve(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}var Ie=i(22),we=i(38),Te=i(24),xe=i(14);const De={getRefererInfo:ce.a,findRootDomain:ue,getWindowTop:n.G,getWindowSelf:n.F,getHighEntropySUA:ge,getLowEntropySUA:fe},Se=_e("FPD"),Ce=(0,A.b)("sync",(e=>{const t=[e,Re().catch((()=>null)),ee.a.resolve("cookieDeprecationLabel"in navigator&&(0,Ie.a)(Te.a,(0,we.a)(xe.c,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch((()=>null))];return ee.a.all(t).then((([e,t,i])=>{const a=De.getRefererInfo();if(function(e){["app","site","device"].forEach((t=>{const i=u.config.getConfig(t);null!=i&&(e[t]=(0,n.fb)({},i,e[t]))}))}(e),Object.entries(ke).forEach((([t,i])=>{const r=i(e,a);r&&Object.keys(r).length>0&&(e[t]=(0,n.fb)({},r,e[t]))})),t&&(0,o.a)(e,"device.sua",Object.assign({},t,e.device.sua)),i){const t={cdep:i};(0,o.a)(e,"device.ext",Object.assign({},t,e.device.ext))}e=Se(e);for(let t of he)if(ve(e,t)){e[t]=(0,n.fb)({},Oe(0,a),e[t]);break}return e}))}));function Ee(e){try{return e(De.getWindowTop())}catch(t){return e(De.getWindowSelf())}}function Re(){const e=u.config.getConfig("firstPartyData.uaHints");return Array.isArray(e)&&0!==e.length?De.getHighEntropySUA(e):ee.a.resolve(De.getLowEntropySUA())}function Ae(e){return(0,n.x)(e,Object.keys(e))}const ke={site(e,t){if(!he.filter((e=>"site"!==e)).some(ve.bind(null,e)))return Ae({page:t.page,ref:t.ref})},device:()=>Ee((e=>({w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,n.w)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}))),regs(){const e={};Ee((e=>e.navigator.globalPrivacyControl))&&(0,o.a)(e,"ext.gpc",1);const t=u.config.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function Oe(e,t){const i=(0,ce.b)(t.page,{noLeadingWww:!0}),a=Ee((e=>e.document.querySelector("meta[name='keywords']")))?.content?.replace?.(/\s/g,"");return Ae({domain:i,keywords:a,publisher:Ae({domain:De.findRootDomain(i)})})}var Me=i(75);const Be={frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,topMargin:0,leftMargin:0,allowTransparency:"true"};var Pe=i(34);const Ne=(0,a.a)(),{triggerUserSyncs:Ue}=R.userSync,{ADD_AD_UNITS:qe,REQUEST_BIDS:je,SET_TARGETING:ze}=l.EVENTS,$e={bidWon:function(e){if(c.a.getBidsRequested().map((e=>e.bids.map((e=>e.adUnitCode)))).reduce(n.q).filter(n.vb).includes(e))return!0;(0,n.ab)('The "'+e+'" placement is not defined.')}};function Fe(e,t){let i=[];return(0,n.Q)(e)&&(t?e.length===t:e.length>0)&&(e.every((e=>(0,n.P)(e,2)))?i=e:(0,n.P)(e,2)&&i.push(e)),i}function Le(e){const t=(0,n.n)(e),i=t.mediaTypes.banner,a=Fe(i.sizes);return a.length>0?(i.sizes=a,t.sizes=a):((0,n.ab)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Ve(e){const t=(0,n.n)(e),i=t.mediaTypes.video;if(i.playerSize){let e="number"==typeof i.playerSize[0]?2:1;const a=Fe(i.playerSize,e);a.length>0?(2===e&&(0,n.bb)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),i.playerSize=a,t.sizes=a):((0,n.ab)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function Ge(e){const t=(0,n.n)(e),i=t.mediaTypes.native;if(i.ortb){const e=Object.keys(l.NATIVE_KEYS).filter((e=>l.NATIVE_KEYS[e].includes("hb_native_"))),a=Object.keys(i).filter((t=>e.includes(t)));a.length>0&&((0,n.ab)(`when using native OpenRTB format, you cannot use legacy native properties. Deleting ${a} keys from request.`),a.forEach((e=>delete t.mediaTypes.native[e])))}return i.image&&i.image.sizes&&!Array.isArray(i.image.sizes)&&((0,n.ab)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),i.image&&i.image.aspect_ratios&&!Array.isArray(i.image.aspect_ratios)&&((0,n.ab)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),i.icon&&i.icon.sizes&&!Array.isArray(i.icon.sizes)&&((0,n.ab)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function We(e,t){let i=(0,r.a)(e,`mediaTypes.${t}.pos`);if(!(0,n.X)(i)||isNaN(i)||!isFinite(i)){let i=`Value of property 'pos' on ad unit ${e.code} should be of type: Number`;(0,n.db)(i),s.emit(l.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:i}),delete e.mediaTypes[t].pos}return e}function He(e){const t=t=>`adUnit.code '${e.code}' ${t}`,i=e.mediaTypes,a=e.bids;return null==a||(0,n.Q)(a)?null==a&&null==e.ortb2Imp?((0,n.ab)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):i&&0!==Object.keys(i).length?(null==e.ortb2Imp||null!=a&&0!==a.length||(e.bids=[{bidder:null}],(0,n.cb)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,n.ab)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,n.ab)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){let e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){let t=re,i=null;try{i=e.getItem(te)}catch(e){}null!==i&&t.enable()}}(),Ne.bidderSettings=Ne.bidderSettings||{},Ne.libLoaded=!0,Ne.version="v8.30.0",(0,n.bb)("Prebid.js v8.30.0 loaded"),Ne.installedModules=Ne.installedModules||[],Ne.adUnits=Ne.adUnits||[],Ne.triggerUserSyncs=Ue;const Ke={validateAdUnit:He,validateBannerMediaType:Le,validateSizes:Fe};Object.assign(Ke,{validateNativeMediaType:Ge}),Object.assign(Ke,{validateVideoMediaType:Ve});const Xe=(0,A.b)("sync",(function(e){const t=[];return e.forEach((e=>{if(null==(e=He(e)))return;const i=e.mediaTypes;let a,n,r;i.banner&&(a=Le(e),i.banner.hasOwnProperty("pos")&&(a=We(a,"banner"))),i.video&&(n=Ve(a||e),i.video.hasOwnProperty("pos")&&(n=We(n,"video"))),i.native&&(r=Ge(n||a||e));const o=Object.assign({},a,n,r);t.push(o)})),t}),"checkAdUnitSetup");function Je(e){const t=c.a[e]().filter((e=>c.a.getAdUnitCodes().includes(e.adUnitCode))),i=c.a.getLastAuctionId();return t.map((e=>e.adUnitCode)).filter(n.vb).map((e=>t.filter((t=>t.auctionId===i&&t.adUnitCode===e)))).filter((e=>e&&e[0]&&e[0].adUnitCode)).map((e=>({[e[0].adUnitCode]:{bids:e}}))).reduce(((e,t)=>Object.assign(e,t)),{})}Ne.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,n.bb)("Invoking hubjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Ne.getAdserverTargetingForAdUnitCode(e);return(0,n.tb)(t)}(0,n.cb)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Ne.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){const t=c.a.getAllBidsForAdUnitCode(e).filter(K);return t.length?t.reduce(j):{}}(0,n.cb)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Ne.getAdserverTargetingForAdUnitCode=function(e){return Ne.getAdserverTargeting(e)[e]},Ne.getAdserverTargeting=function(e){return(0,n.bb)("Invoking hubjs.getAdserverTargeting",arguments),Q.getAllTargeting(e)},Ne.getConsentMetadata=function(){return(0,n.bb)("Invoking hubjs.getConsentMetadata"),Me.d.getConsentMeta()},Ne.getNoBids=function(){return(0,n.bb)("Invoking hubjs.getNoBids",arguments),Je("getNoBids")},Ne.getNoBidsForAdUnitCode=function(e){return{bids:c.a.getNoBids().filter((t=>t.adUnitCode===e))}},Ne.getBidResponses=function(){return(0,n.bb)("Invoking hubjs.getBidResponses",arguments),Je("getBidsReceived")},Ne.getBidResponsesForAdUnitCode=function(e){return{bids:c.a.getBidsReceived().filter((t=>t.adUnitCode===e))}},Ne.setTargetingForGPTAsync=function(e,t){if((0,n.bb)("Invoking hubjs.setTargetingForGPTAsync",arguments),!(0,n.V)())return void(0,n.ab)("window.googletag is not defined on the page");let i=Q.getAllTargeting(e);Q.resetPresetTargeting(e,t),Q.setTargetingForGPT(i,t),Object.keys(i).forEach((e=>{Object.keys(i[e]).forEach((t=>{"hb_adid"===t&&c.a.setStatusForBids(i[e][t],l.BID_STATUS.BID_TARGETING_SET)}))})),s.emit(ze,i)},Ne.setTargetingForAst=function(e){(0,n.bb)("Invoking hubjs.setTargetingForAn",arguments),Q.isApntagDefined()?(Q.setTargetingForAst(e),s.emit(ze,Q.getAllTargeting())):(0,n.ab)("window.apntag is not defined on the page")},Ne.renderAd=(0,A.b)("async",(function(e,t,i){(0,n.bb)("Invoking hubjs.renderAd",arguments),(0,n.cb)("Calling renderAd with adId :"+t),function(e,t,i){let r;function o(i){null!=i?_(Object.assign({id:t,bid:r},i)):v({doc:e,bid:r,adId:t})}try{if(t&&e){r=c.a.findBidByAdId(t);{const e=r&&c.a.index.getAdUnit(r),t=(0,a.a)().videoModule;if(e?.video&&t)return void t.renderBid(e.video.divId,r)}e!==document||(0,n.J)()?I((function(t){(function({ad:e,adUrl:t,width:i,height:a},n,r=document){e||t?(t&&!e?function(e,t){const i=e.createElement("iframe");t=Object.assign({},t,Be),Object.entries(t).forEach((([e,t])=>i.setAttribute(e,t))),e.body.appendChild(i)}(r,{width:i,height:a,src:t}):(r.write(e),r.close()),n()):n({reason:w,message:"Missing ad markup or URL"})})(t,o,e),e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t.width,e.defaultView.frameElement.height=t.height);const i=document.createComment(`Creative ${r.creativeId} served by ${r.bidder} Prebid.js Header Bidding`);(0,n.K)(i,e,"html")}),{adId:t,options:{clickUrl:i?.clickThrough},bidResponse:r}):o({reason:l.AD_RENDER_FAILED_REASON.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"renderAd was prevented from writing to the main document."})}else o({reason:l.AD_RENDER_FAILED_REASON.MISSING_DOC_OR_ADID,message:"missing "+(t?"doc":"adId")})}catch(e){o({reason:T,message:e.message})}}(e,t,i)})),Ne.removeAdUnit=function(e){if((0,n.bb)("Invoking hubjs.removeAdUnit",arguments),!e)return void(Ne.adUnits=[]);let t;t=(0,n.Q)(e)?e:[e],t.forEach((e=>{for(let t=Ne.adUnits.length-1;t>=0;t--)Ne.adUnits[t].code===e&&Ne.adUnits.splice(t,1)}))},Ne.requestBids=function(){const e=(0,A.b)("async",(function({bidsBackHandler:e,timeout:t,adUnits:i,adUnitCodes:a,labels:r,auctionId:o,ttlBuffer:d,ortb2:l,metrics:c,defer:m}={}){s.emit(je);const b=t||u.config.getConfig("bidderTimeout");(0,n.bb)("Invoking hubjs.requestBids",arguments),a&&a.length?i=i.filter((e=>(0,p.c)(a,e.code))):a=i&&i.map((e=>e.code));const f={global:(0,n.fb)({},u.config.getAnyConfig("ortb2")||{},l||{}),bidder:Object.fromEntries(Object.entries(u.config.getBidderConfig()).map((([e,t])=>[e,t.ortb2])).filter((([e,t])=>null!=t)))};return Ce(ee.a.resolve(f.global)).then((t=>(f.global=t,Qe({bidsBackHandler:e,timeout:b,adUnits:i,adUnitCodes:a,labels:r,auctionId:o,ttlBuffer:d,ortb2Fragments:f,metrics:c,defer:m}))))}),"requestBids");return(0,A.f)(e,(function(t={}){let i=t.adUnits||Ne.adUnits;return t.adUnits=(0,n.Q)(i)?i.slice():[i],t.metrics=(0,le.a)(),t.metrics.checkpoint("requestBids"),t.defer=(0,ee.b)({promiseFactory:e=>new Promise(e)}),e.call(this,t),t.defer.promise}))}();const Qe=(0,A.b)("async",(function({bidsBackHandler:e,timeout:t,adUnits:i,ttlBuffer:a,adUnitCodes:r,labels:s,auctionId:d,ortb2Fragments:l,metrics:m,defer:b}={}){const f=(0,de.b)(u.config.getConfig("s2sConfig")||[]);function g(t,i,a){if("function"==typeof e)try{e(t,i,a)}catch(e){(0,n.ab)("Error executing bidsBackHandler",null,e)}b.resolve({bids:t,timedOut:i,auctionId:a})}if(function(e){e.forEach((e=>(0,Pe.d)(e)))}(i),(i=(0,le.d)(m).measureTime("requestBids.validate",(()=>Xe(i)))).forEach((e=>{const t=Object.keys(e.mediaTypes||{banner:"banner"}),i=e.bids.map((e=>e.bidder)),r=de.a.bidderRegistry,s=i.filter((e=>!f.has(e))),d=e.ortb2Imp?.ext?.tid||(0,n.s)();e.transactionId=d,null==a||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=a),(0,o.a)(e,"ortb2Imp.ext.tid",d),s.forEach((i=>{const a=r[i],o=a&&a.getSpec&&a.getSpec(),s=o&&o.supportedMediaTypes||["banner"];t.some((e=>(0,p.c)(s,e)))?oe.a.incrementBidderRequestsCounter(e.code,i):((0,n.db)((0,n.wb)(e,i)),e.bids=e.bids.filter((e=>e.bidder!==i)))})),oe.a.incrementRequestsCounter(e.code)})),i&&0!==i.length){const e=c.a.createAuction({adUnits:i,adUnitCodes:r,callback:g,cbTimeout:t,labels:s,auctionId:d,ortb2Fragments:l,metrics:m});let a=i.length;a>15&&(0,n.bb)(`Current auction ${e.getAuctionId()} contains ${a} adUnits.`,i),r.forEach((t=>Q.setLatestAuctionForAdUnit(t,e.getAuctionId()))),e.callBids()}else(0,n.cb)("No adUnits configured. No bids requested."),g()}),"startAuction");Ne.requestBids.before((function(e,t){function i(e){for(var t;t=e.shift();)t()}i(se.e),i(Ye),e.call(this,t)}),49),Ne.addAdUnits=function(e){(0,n.bb)("Invoking hubjs.addAdUnits",arguments),Ne.adUnits.push.apply(Ne.adUnits,(0,n.Q)(e)?e:[e]),s.emit(qe)},Ne.onEvent=function(e,t,i){(0,n.bb)("Invoking hubjs.onEvent",arguments),(0,n.U)(t)?!i||$e[e].call(null,i)?s.on(e,t,i):(0,n.ab)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,n.ab)('The event handler provided is not a function and was not set on event "'+e+'".')},Ne.offEvent=function(e,t,i){(0,n.bb)("Invoking hubjs.offEvent",arguments),i&&!$e[e].call(null,i)||s.off(e,t,i)},Ne.getEvents=function(){return(0,n.bb)("Invoking hubjs.getEvents"),s.getEvents()},Ne.registerBidAdapter=function(e,t){(0,n.bb)("Invoking hubjs.registerBidAdapter",arguments);try{de.a.registerBidAdapter(e(),t)}catch(e){(0,n.ab)("Error registering bidder adapter : "+e.message)}},Ne.registerAnalyticsAdapter=function(e){(0,n.bb)("Invoking hubjs.registerAnalyticsAdapter",arguments);try{de.a.registerAnalyticsAdapter(e)}catch(e){(0,n.ab)("Error registering analytics adapter : "+e.message)}},Ne.createBid=function(e){return(0,n.bb)("Invoking hubjs.createBid",arguments),(0,Y.a)(e)};const Ye=[],Ze=(0,A.b)("async",(function(e){e&&!(0,n.T)(e)?((0,n.bb)("Invoking hubjs.enableAnalytics for: ",e),de.a.enableAnalytics(e)):(0,n.ab)("hubjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");Ne.enableAnalytics=function(e){Ye.push(Ze.bind(this,e))},Ne.aliasBidder=function(e,t,i){(0,n.bb)("Invoking hubjs.aliasBidder",arguments),e&&t?de.a.aliasBidAdapter(e,t,i):(0,n.ab)("bidderCode and alias must be passed as arguments","hubjs.aliasBidder")},Ne.aliasRegistry=de.a.aliasRegistry,u.config.getConfig("aliasRegistry",(e=>{"private"===e.aliasRegistry&&delete Ne.aliasRegistry})),Ne.getAllWinningBids=function(){return c.a.getAllWinningBids()},Ne.getAllPrebidWinningBids=function(){return c.a.getBidsReceived().filter((e=>e.status===l.BID_STATUS.BID_TARGETING_SET))},Ne.getHighestCpmBids=function(e){return Q.getWinningBids(e)},Ne.markWinningBidAsUsed=function(e){const t=et(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");t.length>0&&c.a.addWinningBid(t[0])};const et=(e,t)=>{let i=[];return e.adUnitCode&&e.adId?i=c.a.getBidsReceived().filter((t=>t.adId===e.adId&&t.adUnitCode===e.adUnitCode)):e.adUnitCode?i=Q.getWinningBids(e.adUnitCode):e.adId?i=c.a.getBidsReceived().filter((t=>t.adId===e.adId)):(0,n.db)(t),i};function tt(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,n.ab)("Error processing command :","prebid.js",e)}}))}Ne.getConfig=u.config.getAnyConfig,Ne.readConfig=u.config.readAnyConfig,Ne.mergeConfig=u.config.mergeConfig,Ne.mergeBidderConfig=u.config.mergeBidderConfig,Ne.setConfig=u.config.setConfig,Ne.setBidderConfig=u.config.setBidderConfig,Ne.que.push((()=>{window.addEventListener("message",C,!1)})),Ne.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,n.ab)("Error processing command :",e.message,e.stack)}else(0,n.ab)("Commands written into hubjs.cmd.push must be wrapped in a function")},Ne.que.push=Ne.cmd.push,Ne.processQueue=function(){A.b.ready(),tt(Ne.que),tt(Ne.cmd)},Ne.triggerBilling=e=>{const t=et(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),i=t.find((t=>t.requestId===e.requestId))||t[0];if(t.length>0&&i)try{de.a.callBidBillableBidder(i)}catch(e){(0,n.ab)("Error when triggering billing :",e)}else(0,n.db)("The bid provided to triggerBilling did not match any bids received.")};const it=Ne;var at=i(48);Promise.resolve().then((()=>{var e=new Error("Module is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e})).then((e=>!!e)).catch((()=>!1)),Promise.resolve().then((()=>{if(!i.m[101]){var e=new Error("Module '101' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return i(101)})).then((e=>!!e)).catch((()=>!1));const nt=Promise.resolve().then((()=>{if(!i.m[100]){var e=new Error("Module '100' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return i(100)})).then((e=>!!e)).catch((()=>!1));Promise.resolve().then((()=>{var e=new Error("Module is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e})).then((e=>!!e)).catch((()=>!1)),Promise.resolve().then((()=>{if(!i.m[102]){var e=new Error("Module '102' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return i(102)})).then((e=>!!e)).catch((()=>!1));var rt=i(30),ot=i(3),st=(i(19),i(31));const{debug:dt,warn:lt,info:ct}=ot.a.tag("turbo-cmp");var pt=i(68);const ut=new class{#xe=(0,pt.b)();newPageViewId(){this.#xe=(0,pt.b)()}get pageViewId(){return this.#xe}};var mt=i(77);const bt={smartadserver:!0,richAudience:!0,pubmatic:!0,prisma:!0,mediasquare:!0,smileWanted:!0,xandr:!0,magnite:!0,indexExchange:!0,criteo:!0,triplelift:!0,invibes:!0,spotx:!0,nexx360:!0,noBid:!0,missena:!0,nextMillennium:!0,adagio:!0,bliink:!0};class ft{priceGranularity={buckets:[{max:1,increment:.01},{max:2,increment:.02},{max:4,increment:.05},{max:6,increment:.1},{max:8,increment:.2},{max:10,increment:.5},{max:20,increment:1},{max:50,increment:5},{max:100,increment:10},{max:300,increment:50},{max:1e3,increment:100}]};cpmRoundingFunction;strictGdprSettings=!1;consent;#De=e=>({enabled:e?.enabled??!0,consentTimeout:e?.consentTimeout??mt.a.totalConsentTimeout,shouldSkipAuctionOnConsentFailure:e?.shouldSkipAuctionOnConsentFailure??!0,shouldSkipAuctionOnNegativeConsent:e?.shouldSkipAuctionOnNegativeConsent??!1,assumeConsentlessIfCmpUnavailable:e?.assumeConsentlessIfCmpUnavailable??!1,shouldSkipAdserverOnConsentless:e?.shouldSkipAdserverOnConsentless??!1,storageVendorExceptions:e?.storageVendorExceptions,cmpTimeout:e?.cmpTimeout??e?.consentTimeout??mt.a.cmpTimeout,defaults:{gdprApplies:!0,...e?.defaults},overrides:{...e?.overrides},uspEnabled:e?.enabled??!1,strictStorageEnforcement:e?.strictStorageEnforcement});beam;#Se=e=>({collectUrl:"https://beam.hubvisor.io/v2/",vimpUrl:"https://beam.hubvisor.io/imp/video",collectRetryDelay:1,collectRetryCount:1,collectDebounceDelay:.1,...e});bidderTimeout=1.8;renderTimeout=10;targetingKeyPrefix="hbv";publisherId;support;buildRefreshOptions;shouldPerformInitialAuction=!0;shouldUseDynamicFloors=!1;carbonFilter;nativeRendering;skinRendering;cpmMultiplier;adserverMultiplier;renderList={competitionDebounceDelay:.05};dfp2;#Ce=e=>({shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1,matchPlacementOnce:!1,shouldRefreshOnDisplay:!1,shouldBypassDfp:!1,...e});ias;#Ee=()=>{};userSync;#Re=e=>({smartadserver:{enabled:!0,useIframes:!0},richAudience:{enabled:!1},pubmatic:{enabled:!0,useIframes:!0},prisma:{enabled:!1,useIframes:!1},mediasquare:{enabled:!0,useIframes:!0},smileWanted:{enabled:!1,useIframes:!1},xandr:{enabled:!0,useIframes:!0},magnite:{enabled:!0,useIframes:!0},indexExchange:{enabled:!0,useIframes:!0},triplelift:{enabled:!0,useIframes:!0},criteo:{enabled:!0,useIframes:!0},invibes:{enabled:!0},spotx:{enabled:!0},nexx360:{enabled:!1,useIframes:!1},noBid:{enabled:!1,useIframes:!1},missena:{enabled:!1,useIframes:!1},nextMillennium:{enabled:!1,useIframes:!1},adagio:{enabled:!1,useIframes:!1},bliink:{enabled:!1,useIframes:!1},...e});rtdSettings;#Ae=e=>({auctionDelay:100,adloox:{enabled:!1,waitForIt:!1,thresholds:[50,60,70,80,90],slotinpath:!1},onePlusX:{enabled:!1,waitForIt:!1,customerId:void 0,bidders:void 0,timeout:void 0},ias:{enabled:!1,waitForIt:!1,pubId:"",keyMappings:void 0,pageUrl:void 0,adUnitPath:void 0},oxxionRtd:{enabled:!1,waitForIt:!1,domain:"",contexts:void 0,threshold:void 0,samplingRate:void 0,bidders:void 0},greenbidsRtd:{enabled:!1,waitForIt:!1,pbuid:""},...e});sas={};criteo;#ke=e=>({fastBidVersion:"latest",...e});adot;#Oe=e=>({...e});schains=[];storagePolicy;#Me=e=>{const t={consent:"local-storage",noConsent:"session-storage"},i={consent:"local-storage",noConsent:"local-storage"};return{settings:{intrastitial:e?.settings?.intrastitial??i,consent:e?.settings?.consent??i,dynamicTimeout:e?.settings?.dynamicTimeout??i,clientContext:e?.settings?.clientContext??t,remoteConfiguration:e?.settings?.remoteConfiguration??i,tdid:e?.settings?.tdid??t,adnxsid:e?.settings?.adnxsid??t},custom:e?.custom}};secondChance;#Be=e=>({adserver:e?.adserver,enabled:e?.enabled??!1,mode:e?.mode??"boolean",maxCount:e?.maxCount??1,isPlacementAllowed:e?.isPlacementAllowed});secondaryBidders;s2sConfig;#Pe=e=>({enabled:e?.enabled??!1,bidders:e?.bidders??[]});#Ne=e=>({externalVisitsProvider:e?.externalVisitsProvider,periodicity:e?.periodicity??-1,sessionDuration:e?.sessionDuration});bidderSettings;preAuctionStep;filterAuctionStep;postAuctionStep;preRenderStep;postRenderStep;preAdserverCallStep;overrideRenderFormat;overrideRichMediaSettings;overrideDisplayFormat;additionalTargetings;overrideBidPriority;auctionTags;floors;bidderAliases={};exposePbjsAdUnits=!1;amazon;sublime;ortb;intrastitial;instream;constructor(e){Object.assign(this,e),this.consent=this.#De(e.consent),this.dfp2=this.#Ce(e.dfp2),this.userSync=this.#Re(e.userSync),this.beam=this.#Se(e.beam),this.criteo=this.#ke(e.criteo),this.storagePolicy=this.#Me(e.storagePolicy),this.secondChance=this.#Be(e.secondChance)}}var gt=i(16);const yt=(e,t,i)=>{e[t]=i},ht=()=>console.log("%c⃠","color:red"),_t={requestBids:it.requestBids,getConfig:it.getConfig,readConfig:it.readConfig,setConfig:it.setConfig,mergeConfig:it.mergeConfig,addAdUnits:it.addAdUnits,removeAdUnit:it.removeAdUnit,setBidderConfig:it.setBidderConfig,setBidderSettings:e=>{it.bidderSettings=e}};(0,gt.a)((()=>{yt(it,"getConfig",ht),yt(it,"setConfig",ht),yt(it,"mergeConfig",ht),yt(it,"addAdUnits",ht),yt(it,"removeAdUnit",ht),yt(it,"setBidderConfig",ht);let e=it.bidderSettings;_t.setBidderSettings=t=>{e=t},Object.defineProperty(it,"bidderSettings",{get:()=>e,set(){ht()}})}));var vt=i(58),It=i(64),wt=i(45);const Tt=({userSync:e,bidderAliases:t},i)=>{const a=(e=>{const t=new Set;for(const i of e??[])for(const{bidder:e}of i.bidRequest.bids)t.add(e);return t})(i),n=Object.entries(t).reduce(((e,[t,n])=>(i&&!a.has(t)||(e[n]??=t),e)),{}),r=new Set,o=new Set;e.smartadserver.enabled&&(e.smartadserver.useIframes&&o.add(vt.a.Smart),r.add(vt.a.Smart)),e.richAudience.enabled&&(e.richAudience.useIframes&&o.add(vt.a.richaudience),r.add(vt.a.richaudience)),e.pubmatic.enabled&&(e.pubmatic.useIframes&&o.add(vt.a.pubmatic),r.add(vt.a.pubmatic)),e.mediasquare.enabled&&(e.mediasquare.useIframes&&o.add(vt.a.mediasquare),r.add(vt.a.mediasquare)),e.prisma.enabled&&(e.prisma.useIframes&&o.add(vt.a.prisma),r.add(vt.a.prisma)),e.smileWanted.enabled&&(e.smileWanted.useIframes&&o.add(vt.a.smilewanted),r.add(vt.a.smilewanted)),e.xandr.enabled&&(e.xandr.useIframes&&o.add(vt.a.AppNexus),r.add(vt.a.AppNexus)),e.magnite.enabled&&(e.magnite.useIframes&&o.add(vt.a.Rubicon),r.add(vt.a.Rubicon)),e.indexExchange.enabled&&(e.indexExchange.useIframes&&o.add(vt.a.IndexExchange),r.add(vt.a.IndexExchange)),e.triplelift.enabled&&(e.triplelift.useIframes&&o.add(vt.a.TripleLift),r.add(vt.a.TripleLift)),e.criteo.enabled&&(e.criteo.useIframes&&o.add(vt.a.Criteo),r.add(vt.a.Criteo)),e.invibes.enabled&&r.add(vt.a.Invibes),e.spotx.enabled&&r.add(vt.a.SpotX),e.nexx360.enabled&&(e.nexx360.useIframes&&o.add(vt.a.nexx360),r.add(vt.a.nexx360)),e.noBid.enabled&&(e.noBid.useIframes&&o.add(vt.a.noBid),r.add(vt.a.noBid)),e.missena.enabled&&(e.missena.useIframes&&o.add(vt.a.missena),r.add(vt.a.missena)),e.nextMillennium.enabled&&(e.nextMillennium.useIframes&&o.add(vt.a.nextMillennium),r.add(vt.a.nextMillennium)),e.adagio.enabled&&(e.adagio.useIframes&&o.add(vt.a.Adagio),r.add(vt.a.Adagio)),e.bliink.enabled&&(e.bliink.useIframes&&o.add(vt.a.bliink),r.add(vt.a.bliink));const s=((e,t,i)=>{const a=[...t].flatMap((t=>e[t]??[])),n=[...i].flatMap((t=>e[t]??[])),r=a.length>0,o=n.length>0;return{image:{bidders:r?a:"*",filter:r?"include":"exclude"},iframe:{bidders:o?n:"*",filter:o?"include":"exclude"}}})(n,r,o);return s};var xt=i(62),Dt=i(32),St=i(71),Ct=i(20),Et=i(1);const Rt=new Dt.a({name:"client-context",storageType:()=>(0,St.a)({name:"clientContext"}),freshnessInterval:1800,expirationInterval:3600,loader:async()=>{const[e,{strictGdprSettings:t}]=await Promise.all([fetch("https://client-context.hubvisor.io"),Ct.b]);if(!e.ok)throw new Error(`http status: ${e.statusText}`);const i=await e.json();return t?{geo:{country:i.geo?.country,location:{timeZone:i.geo?.location?.timeZone}},ip:(0,Et.q)(i.ip)?`${i.ip.substring(0,i.ip.lastIndexOf("."))}.0`:i.ip,ua:i.ua,cxn:i.cxn}:i}});var At=i(18);const kt=e=>Object.entries(e).reduce(((e,[t,i])=>(e[t]=At.b.get(i),e)),{});var Ot=i(43),Mt=i(41),Bt=i(89);const Pt=e=>!(0,Et.j)(e)&&(!(0,Et.c)(e)||e.length>0),Nt=e=>{if(!Pt(e.countries))return!0;const t=Rt.currentValue?.geo?.country?.iso;return!!t&&(0,Bt.a)(e.countries).includes(t)},Ut=({key:e,values:t,regex:i},a)=>{const n=e.split(".").reduce(((e,t)=>{if(e)return e[t]}),a);return!!n&&(t&&t.includes(n)||!(!i||!i.some((e=>{try{return!!n.match(new RegExp(e,"g"))}catch(e){return!1}}))))},qt=e=>{if(!e)return!0;const t=window;switch(e.type){case"window":return Ut(e,t);case"tcvars":return Ut(e,t.tc_vars);case"datalayer":return(0,Et.c)(t.dataLayer)?t.dataLayer.some((t=>Ut(e,t))):Ut(e,t.dataLayer);default:return!1}},jt=e=>{const t=wt.remoteConfiguration.currentValue?.publisherConfiguration?.floors?.filter((t=>((0,Et.j)(t.layouts)||(0,Bt.a)(t.layouts).includes(e.layout))&&((0,Et.j)(t.supportCodes)||(0,Bt.a)(t.supportCodes).includes(e.supportCode))&&((0,Et.j)(t.pageZones)||(0,Bt.a)(t.pageZones).includes(e.pageZone))&&((0,Et.j)(t.isConsentless)||t.isConsentless===(0,Ot.b)())&&(0,Et.c)(t.schema)&&t.schema.length>0&&Object.keys(t.floorRules).length>0&&Nt(t)))??[];return t?.[0]},zt=(e,t)=>(0,Et.j)(t)||(0,Bt.a)(t).includes(e),$t=e=>e[`${(new Date).getUTCHours()}`]??1,Ft=(e,t)=>{const i=e.split("|");return i.splice(t,1),i.join("|")},Lt=["skin"],Vt=(e,t)=>t||Lt.some((t=>e.includes(t)));var Gt=i(65);const Wt=(0,gt.a)((()=>{const e=wt.remoteConfiguration.currentValue;_t.setConfig({currency:{adServerCurrency:"USD",rates:e?.currencies?.rates}})})),Ht=(new Set([vt.a.ttdDirectPath,vt.a.hubvisor,vt.a.hawk]),e=>{const{targetingKeyPrefix:t}=e;return{adserverTargeting:[{key:`${t}_bidder`,val:e=>e.bidderCode},{key:`${t}_size`,val:e=>e.size},{key:`${t}_deal`,val:e=>e.dealId},{key:`${t}_format`,val:e=>e.mediaType}]}}),Kt=e=>{const t=[];if(e.id5?.partnerId){const{controlGroupPct:i,partnerId:a,partnerSuppliedData:n}=e.id5,r={name:"id5Id",params:{partner:a,pd:n,abTesting:(0,Et.r)(i)?void 0:{enabled:!0,controlGroupPct:i}},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}};t.push(r)}if(e.identityLink?.pid){const i={name:"identityLink",params:{pid:e.identityLink.pid,notUse3P:e.identityLink.notUse3P},storage:{type:e.identityLink.storage??"html5",name:"idl_env",expires:e.identityLink.expires??30}};e.identityLink.refreshInSeconds&&(i.storage.refreshInSeconds=e.identityLink.refreshInSeconds),t.push(i)}if(e.criteoId?.enabled){const e={name:"criteo",storage:{type:"html5",name:"criteoid",expires:365}};t.push(e)}if(e.pubCommonId?.enabled){const e={name:"pubCommonId"};t.push(e)}if(e.sharedId?.enabled){const e={name:"sharedId",params:{syncTime:1440},storage:{type:"html5",name:"sharedid",expires:28}};t.push(e)}return e.unifiedId?.enabled&&t.push({name:"unifiedId",params:{url:`https://match.adsrvr.org/track/rid?ttd_pid=${e.unifiedId.pid}&fmt=json`},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}}),e.pubProvidedId?.eidsFunction&&t.push({name:"pubProvidedId",params:{eidsFunction:e.pubProvidedId.eidsFunction}}),e.pairId?.enabled&&t.push({name:"pairId",...e.pairId.params?{params:e.pairId.params}:{}}),e.utiq?.enabled&&t.push({name:"utiq"}),t},Xt=e=>{if(!Object.values(e.bidderAliases).includes(vt.a.outbrain))return;const t=Rt.currentValue?.geo?.country?.isEu?"-euc1":"";return{bidderUrl:`https://b1h${t}.zemanta.com/api/bidder/prebid/bid/`,usersyncUrl:`https://b1h${t}.zemanta.com/usersync/prebid`}},Jt=e=>{if(!e)return;const t={};for(const i of e.values)t[e.fields.map((e=>i[e]??"*")).join("|")]=i.floor;return t},Qt=e=>{if(e&&!1!==(0,xt.a)("floors"))return{enforcement:{floorDeals:!0},data:{currency:e.currency??"USD",schema:{fields:e.fields},values:Jt(e),default:e.default},additionalSchemaFields:{deviceType:()=>It.b,connector:(e,t)=>e?.bidder??t.bidderCode,videoContext:e=>e?.mediaTypes?.video?.context??"",displayFormat:e=>e?.hbvMetadata?.displayFormat??"",isConsentless:()=>`${(0,Ot.b)()}`,...e.additionalSchemaFields}}},Yt=(0,gt.a)((e=>{e.consent.enabled&&Me.e.enable(),e.consent.uspEnabled&&Me.g.enable(),(e=>{for(const[t,i]of Object.entries(e))it.aliasBidder(i,t)})(e.bidderAliases),it.processQueue(),_t.setConfig((e=>{const t=Tt(e),i="include"===t.image?.filter&&t.image.bidders.length>0||"include"===t.iframe?.filter&&t.iframe.bidders.length>0,a=Object.entries(e.userSync).some((([e,t])=>e in bt&&Boolean(t.enabled)))&&i;return{gvlMapping:kt(e.bidderAliases),priceGranularity:e.priceGranularity,consentManagement:{strictStorageEnforcement:e.consent.strictStorageEnforcement,gdpr:{cmpApi:"iab",timeout:1e3*e.consent.consentTimeout,allowAuctionWithoutConsent:!e.consent.shouldSkipAuctionOnConsentFailure,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:e.consent.storageVendorExceptions},{purpose:"basicAds",enforcePurpose:!1,enforceVendor:!1}]},usp:{cmpApi:"iab",timeout:100}},criteo:e.criteo,outbrain:Xt(e),rubicon:{singleRequest:!0},improvedigital:{usePrebidSizes:!0},hbvRichmedia:{publisherId:e.publisherId},userSync:{aliasSyncEnabled:a,syncEnabled:a,userIds:Kt(e.userSync),ppid:e.userSync.ppid,syncDelay:1e3,filterSettings:t},floors:Qt(e.floors),debug:(0,xt.a)("pbjs")??!1,auctionOptions:{secondaryBidders:e.secondaryBidders??[]},s2sConfig:void 0,enableTIDs:!0,realTimeData:void e.rtdSettings}})(e)),_t.setBidderSettings({adagio:{storageAllowed:!0},criteo:{storageAllowed:!0},standard:Ht(e),...e.bidderSettings}),(e=>{for(const t of e.schains)_t.setBidderConfig({bidders:t.bidders,config:{schain:{config:{ver:"1.0",complete:1,nodes:t.nodes},validation:"relaxed"}}})})(e)}));var Zt=i(29),ei=i(42);const{error:ti,debug:ii}=ot.a.tag("TDID"),ai="hbv:ttdid",ni={},ri=async({timeout:e})=>{try{ii("Querying fresh TDID");const t=e>0,i=new AbortController,a=t?setTimeout((()=>i.abort(new Error(`timeout of ${e}ms reached`))),e):void 0,n=await fetch((()=>{const e=rt.a.currentValue?.tcData;return`https://match.adsrvr.org/track/rid?ttd_pid=cs1e9cy&fmt=json&ttd_tpi=1&gdpr=${!0===e?.gdprApplies?"1":"0"}&gdpr_consent=${e?.tcString??""}`})(),{credentials:"include",signal:i.signal});if(clearTimeout(a),!n.ok)throw new Error(`http status: ${n.statusText}`);const r=(await n.json()).TDID;if((0,Et.q)(r))return(e=>{const t={updatedAt:Date.now(),tdid:e};localStorage.setItem(ai,JSON.stringify(t)),ii(`Updated stored uid #${e}`)})(r),r;ti("couldn't interpret TDID endpoint response",n)}catch(e){ti("Error loading TDID endpoint",e)}},oi=(0,gt.a)((async({consent:e})=>{if(!(0,st.d)(rt.a.currentValue?.tcData,st.a.storageAccess)&&e.enabled)return ii("Consent denies usage of storage for TDID");ni.consent=e,ni.tdid=await(async()=>{const e=(()=>{try{const i=localStorage.getItem(ai);if(!i)return;const a=JSON.parse(i);if(e=a,!((0,Et.m)(e)&&(0,Et.q)(e.tdid)&&(0,Et.l)(e.updatedAt)))return;if(!(t=a)||Date.now()-t.updatedAt>7776e6)return;return a}catch(e){ti("Error loading TDID",e)}var e,t})();return(t=e)&&Date.now()-t.updatedAt<288e5?(ii(`Stored data is fresh enough, using #${e?.tdid}`),e?.tdid):e?(ri({timeout:0}),e.tdid):ri({timeout:1500});var t})(),ii("Tdid setup is ready")}));var si=i(92),di=i(94);const li=e=>Math.round(100*e)/100;var ci=i(13);const pi={purpose:{},feature:{}},ui={purpose:"purpose.consents",feature:"specialFeatureOptins"},mi={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},bi=new Set,fi=new Set,gi=new Set,yi=new Set,hi=new Set,_i=new Set;let vi=!1,Ii=!1;const wi=[xe.b,xe.e,xe.a,xe.d],Ti="TCF2",xi=[],Di=[2];function Si(e,t,i,a){let n=!!(0,r.a)(e,`vendorData.${ui[t]}.${i}`),o=!!(0,r.a)(e,`vendorData.vendor.consents.${a}`);return"purpose"===t&&Di.includes(i)&&(n||=!!(0,r.a)(e,`vendorData.purpose.legitimateInterests.${i}`),o||=!!(0,r.a)(e,`vendorData.vendor.legitimateInterests.${a}`)),{purpose:n,vendor:o}}function Ci(e,t,i,a){const n=mi[e.purpose];if((e.vendorExceptions||[]).includes(i))return!0;const o=e.enforceVendor&&!(a===Me.c||(e.softVendorExceptions||[]).includes(i)),{purpose:s,vendor:d}=Si(t,n.type,n.id,a);let l=(!e.enforcePurpose||s)&&(!o||d);return a===Me.a&&(l=!e.enforcePurpose||!!(0,r.a)(t,`vendorData.publisher.consents.${n.id}`)),l}function Ei(e,t,i=null,a=(()=>null)){return function(r){const o=Me.e.getConsentData(),s=r[ci.c];if(function(e,t,i){return null==e&&Me.e.enabled?((0,n.db)(`Attempting operation that requires purpose ${t} consent while consent data is not available${i?` (module: ${i})`:""}. Assuming no consent was given.`),!0):e&&e.gdprApplies}(o,e,s)){const e=function(e,t,i){if(t){const a=u.config.getConfig("gvlMapping");if(a&&a[t])return a[t];if(e===xe.c)return"cdep"===t?Me.a:Me.c;{let{gvlid:a,modules:r}=Me.b.get(t);if(null==a&&Object.keys(r).length>0)for(const i of wi)if(r.hasOwnProperty(i)){a=r[i],i!==e&&(0,n.db)(`Multiple GVL IDs found for module '${t}'; using the ${i} module's ID (${a}) instead of the ${e}'s ID (${r[e]})`);break}return null==a&&i&&(a=i()),a||null}}return null}(r[ci.d],s,a(r));let d=!!t(o,s,e);if(!d)return i&&i.add(s),{allow:d}}}}function Ri(e,t=null,i=(()=>null)){return Ei(e,((t,i,a)=>!!Ci(pi.purpose[e],t,i,a)),t,i)}function Ai(e){return function(t){if(t[ci.d]!==xe.c)return e(t)}}const ki=(Oi=Ri(1,bi),function(e){if(e[ci.d]!==xe.c||Ii)return Oi(e)});var Oi;const Mi=Ri(1,bi),Bi=Ri(1,bi),Pi=Ai(Ri(2,fi)),Ni=Ri(7,gi,(e=>function(e,t){const i=de.a.getAnalyticsAdapter(e);return(a=>{if("function"!=typeof a)return a;try{return a.call(i.adapter,t)}catch(t){(0,n.ab)(`Error invoking ${e} adapter.gvlid()`,t)}})(i?.adapter?.gvlid)}(e[ci.c],e[ci.b]))),Ui=Ri(4,yi),qi=Ai((()=>{const e=Ei("2-10",(function(e,t,i){for(let a=2;a<=10;a++){if(pi.purpose[a]?.vendorExceptions?.includes(t))return!0;const{purpose:n,vendor:r}=Si(e,"purpose",a,i);if(n&&(r||pi.purpose[a]?.softVendorExceptions?.includes(t)))return!0}return!1}),hi),t=Ri(4,hi);return function(){return(pi.purpose[4]?.eidsRequireP4Consent?t:e).apply(this,arguments)}})()),ji=Ei("Special Feature 1",((e,t,i)=>Ci(pi.feature[1],e,t,i)),_i);s.on(l.EVENTS.AUCTION_END,(function(){const e=function(e){return Array.from(e.keys()).filter((e=>null!=e))},t={storageBlocked:e(bi),biddersBlocked:e(fi),analyticsBlocked:e(gi),ufpdBlocked:e(yi),eidsBlocked:e(hi),geoBlocked:e(_i)};s.emit(l.EVENTS.TCF2_ENFORCEMENT,t),[bi,fi,gi,yi,hi,_i].forEach((e=>e.clear()))})),u.config.getConfig("consentManagement",(e=>function(e){let t=(0,r.a)(e,"gdpr.rules");t||(0,n.db)("TCF2: enforcing P1 and P2 by default"),t=Object.fromEntries((t||[]).map((e=>[e.purpose,e]))),Ii=!!(0,r.a)(e,"strictStorageEnforcement"),Object.entries(mi).forEach((([e,i])=>{pi[i.type][i.id]=t[e]??i.default})),vi||(null!=pi.purpose[1]&&(vi=!0,xi.push((0,Ie.b)(Te.a,Ti,ki)),xi.push((0,Ie.b)(Te.f,Ti,Mi)),xi.push((0,Ie.b)(Te.b,Ti,Bi))),null!=pi.purpose[2]&&xi.push((0,Ie.b)(Te.d,Ti,Pi)),null!=pi.purpose[4]&&xi.push((0,Ie.b)(Te.j,Ti,Ui),(0,Ie.b)(Te.c,Ti,Ui)),null!=pi.purpose[7]&&xi.push((0,Ie.b)(Te.e,Ti,Ni)),null!=pi.feature[1]&&xi.push((0,Ie.b)(Te.h,Ti,ji)),xi.push((0,Ie.b)(Te.g,Ti,qi)))}(e.consentManagement)));var zi=i(26),$i=i(90);const Fi=4;let Li,Vi=[],Gi={},Wi=!1,Hi=!0,Ki="USD";var Xi=!1,Ji={};let Qi,Yi={},Zi=(0,ee.b)();function ea(e){Qi?((0,n.db)(e),(0,n.db)("Currency failed loading rates, falling back to currency.defaultRates")):(0,n.ab)(e)}function ta(){Hi?(Hi=!1,Wi=!1,(0,zi.b)(Li,{success:function(e){try{Ji=JSON.parse(e),(0,n.bb)("currencyRates set to "+JSON.stringify(Ji)),Gi={},Wi=!0,ra()}catch(t){ea("Failed to parse currencyRates response: "+e)}},error:function(...e){ea(...e),Wi=!0,ra(),Hi=!0}})):ra()}function ia(e,t){e(t.then((()=>Zi.promise)))}u.config.getConfig("currency",(e=>function(e){if(Li="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$","object"==typeof e.rates&&(Ji.conversions=e.rates,Wi=!0,Hi=!1),"object"==typeof e.defaultRates&&(Qi=e.defaultRates,Ji.conversions=Qi,Wi=!0),"string"==typeof e.adServerCurrency){(0,n.bb)("enabling currency support",arguments),Ki=e.adServerCurrency,e.conversionRateFile&&((0,n.bb)("currency using override conversionRateFile:",e.conversionRateFile),Li=e.conversionRateFile);const t=Li.indexOf("$$TODAY$$");if(-1!==t){const e=new Date;let i=`${e.getMonth()+1}`,a=`${e.getDate()}`;i.length<2&&(i=`0${i}`),a.length<2&&(a=`0${a}`);const n=`${e.getFullYear()}${i}${a}`;Li=`${Li.substring(0,t)}${n}${Li.substring(t+9,Li.length)}`}!function(){Gi={},Xi=!0,(0,n.bb)("Installing addBidResponse decorator for currency module",arguments),(0,a.a)().convertCurrency=(e,t,i)=>parseFloat(e)*oa(t,i),(0,A.a)("addBidResponse").before(aa,100),(0,A.a)("responsesReady").before(ia),(0,s.on)(l.EVENTS.AUCTION_TIMEOUT,na),(0,s.on)(l.EVENTS.AUCTION_INIT,ta),ta()}()}else(0,n.bb)("disabling currency support"),function(){(0,n.bb)("Uninstalling addBidResponse decorator for currency module",arguments),(0,A.a)("addBidResponse").getHooks({hook:aa}).remove(),(0,A.a)("responsesReady").getHooks({hook:ia}).remove(),(0,s.off)(l.EVENTS.AUCTION_TIMEOUT,na),(0,s.off)(l.EVENTS.AUCTION_INIT,ta),delete(0,a.a)().convertCurrency,Ki="USD",Gi={},Xi=!1,Wi=!1,Hi=!0,Ji={},Yi={},Zi=(0,ee.b)()}();"object"==typeof e.bidderCurrencyDefault&&(Yi=e.bidderCurrencyDefault)}(e.currency)));const aa=(0,le.c)("currency",(function(e,t,i,a){if(!i)return e.call(this,t,i,a);let r=i.bidderCode||i.bidder;if(Yi[r]){let e=Yi[r];i.currency&&e!==i.currency?(0,n.db)(`Currency default '${r}: ${e}' ignored. adapter specified '${i.currency}'`):i.currency=e}if(i.currency||((0,n.db)('Currency not specified on bid.  Defaulted to "USD"'),i.currency="USD"),i.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*oa(this.currency,e)).toFixed(3)},i.currency===Ki)return e.call(this,t,i,a);Vi.push([e,this,t,i,a]),Xi&&!Wi||ra()}));function na({auctionId:e}){Vi=Vi.filter((([t,i,a,n,r])=>{if(n.auctionId!==e)return!0;r(l.REJECTION_REASON.CANNOT_CONVERT_CURRENCY)}))}function ra(){for(;Vi.length>0;){const[e,t,i,a,r]=Vi.shift();if(void 0!==a&&"currency"in a&&"cpm"in a){let e=a.currency;try{let t=oa(e);1!==t&&(a.cpm=(parseFloat(a.cpm)*t).toFixed(4),a.currency=Ki)}catch(e){(0,n.db)("getCurrencyConversion threw error: ",e),r(l.REJECTION_REASON.CANNOT_CONVERT_CURRENCY);continue}}e.call(t,i,a,r)}Zi.resolve()}function oa(e,t=Ki){var i,a=null;let r=`${e}->${t}`;if(r in Gi)a=Gi[r],(0,n.cb)("Using conversionCache value "+a+" for "+r);else if(!1===Xi){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");a=1}else if(e===t)a=1;else if(e in Ji.conversions){if(!(t in(i=Ji.conversions[e])))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");a=i[t],(0,n.bb)("getCurrencyConversion using direct "+e+" to "+t+" conversionRate "+a)}else if(t in Ji.conversions){if(!(e in(i=Ji.conversions[t])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");a=sa(1/i[e],Fi),(0,n.bb)("getCurrencyConversion using reciprocal "+e+" to "+t+" conversionRate "+a)}else{var o=Object.keys(Ji.conversions)[0];if(!(e in Ji.conversions[o]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var s=1/Ji.conversions[o][e];if(!(t in Ji.conversions[o]))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");a=sa(s*Ji.conversions[o][t],Fi),(0,n.bb)("getCurrencyConversion using intermediate "+e+" thru "+o+" to "+t+" conversionRate "+a)}return r in Gi||((0,n.cb)("Adding conversionCache value "+a+" for "+r),Gi[r]=a),a}function sa(e,t){var i=1;for(let e=0;e<t;e++)i+="0";return Math.round(e*i)/i}(0,$i.i)({type:$i.f,name:"currency",fn:function(e,t,i){Xi&&(e.cur=e.cur||[i.currency||Ki])}}),i(101);var da=i(56);const la=(e,t)=>e?.replace(/\$\{AUCTION_PRICE\}|\$%7BAUCTION_PRICE%7D/g,`${t}`),ca="banner",pa="native",ua="video",ma=([e,t],[i,a])=>e!==i?e-i:t-a,ba=e=>[...e].sort(ma).map((e=>`${e[0]}x${e[1]}`)).join("-");class fa{#Ue={};#qe={};constructor(e){for(const t of e)this.#qe[t.placementId]={pubstack:t.pubstack,ortb2Imp:t.bidRequest.ortb2Imp}}push=({adUnitCode:e,mediaTypes:t,renderer:i,bids:a,ortb2ImpParams:n,playerConfig:r})=>{const o=((e,t,i,a,n)=>{const r=Object.entries(t).map((([e,t])=>{if(e===ca&&t)return`${e}=${ba(t.sizes)}`;if(e===ua&&t){const a=i?.url??"",{api:r,linearity:o,mimes:s,maxduration:d,minduration:l,protocols:c,startdelay:p,playbackmethod:u,placement:m,skip:b}=t,f=JSON.stringify({api:r,linearity:o,mimes:s,maxduration:d,minduration:l,protocols:c,startdelay:p,playbackmethod:u,placement:m,skip:b}),{expand:g,isReplayable:y,volumeStrategy:h,hbvFormat:_,selector:v,targetRatio:I,maxWidth:w,hasRollover:T,hasDynamicHeight:x,fitHeight:D}=n??{},S=JSON.stringify({expand:g,isReplayable:y,volumeStrategy:h,hbvFormat:_,selector:v,targetRatio:I,maxWidth:w,hasRollover:T,hasDynamicHeight:x,fitHeight:D});return`${e}=${ba(t.playerSize)}&renderer=${a}&openRtbParams=${f}&playerConfig=${S}`}return e===pa?`${e}&nativeParams=${JSON.stringify(t)}`:void 0})),o=a?`ortb2Imp={banner.api=${a.banner?.api},instl=${a.instl},ext={gpid=${a.ext?.gpid},data.pbadslot:${a.ext?.data?.pbadslot}}}`:void 0;return`${e}:${r.join("&")}:ortb2Imp=${o}`})(e,t,i,n,r);if(!this.#Ue[o]){const{pubstack:a,ortb2Imp:r}=this.#qe[e]??{},s={code:e,mediaTypes:t,renderer:i,bids:[],ortb2Imp:r};s.ortb2Imp??=n,s.pubstack=a,this.#Ue[o]=s}this.#Ue[o]?.bids.push(...a)};build=()=>Object.values(this.#Ue).filter(Et.i)}var ga=i(55),ya=i(7),ha=i(10),_a=i(59);const va=({bid:e,baseConnector:t,adUnits:i,overrideDisplayFormat:a,bidRequest:n})=>{const r=parseInt(`${e.width}`)||0,o=parseInt(`${e.height}`)||0,s=((e,t)=>{try{return t?t(e):void 0}catch(e){const t=new ya.b(ya.a.overrideDisplayFormatFailed,e);(0,ha.a)(t,"overrideDisplayFormat error")}})(e,a);if(s)return s;if("video"===e.mediaType)return((e,t)=>t.some((t=>t.code===e&&"instream"===t.mediaTypes.video?.context))?_a.a.instream:_a.a.outstream)(e.adUnitCode,i);if(1800===r&&1e3===o)return _a.a.skin;if("native"===e.mediaType)return _a.a.native;switch(t){case vt.a.Adyoulike:return _a.a.nativeBanner;case vt.a.Invibes:case vt.a.Freewheel:return _a.a.outstream;case vt.a.seedtag:case vt.a.Smart:if(640===r)return _a.a.outstream;break;case vt.a.Sublime:return _a.a.skin;case vt.a.Teads:return _a.a.outstream;case vt.a.TripleLift:return"tlx"===e.tl_source?_a.a.nativeBanner:"outstream"===n?.hbvMetadata?.displayFormat?_a.a.outstream:_a.a.banner;case vt.a.bliink:return 1===r&&1===o?_a.a.outstream:_a.a.banner;case vt.a.ogury:{const t=e.ext?.mediatype;return"video"===t?_a.a.outstream:"image"===t?_a.a.banner:_a.a.outstream}}return n?.hbvMetadata?.displayFormat??_a.a.banner},{debug:Ia,error:wa,info:Ta}=ot.a.tag("content-provider:prebid");class xa{#je={};#ze;#$e;constructor(e){this.#$e=e.globalSettings,Yt(e.globalSettings);const t=e.globalSettings.targetingKeyPrefix;for(const e of["bidder","adid","pb","size","deal","format","pg_dealid","pg_adid"])At.i.add(`${t}_${e}`);this.#ze=e.globalSettings.bidderAliases,it.onEvent(l.EVENTS.BID_TIMEOUT,this.#Fe),it.onEvent(l.EVENTS.NO_BID,this.#Le),it.onEvent(l.EVENTS.BID_REJECTED,this.#Ve),it.onEvent(l.EVENTS.BID_REQUESTED,this.#Ge),Ta(`prebid.js ${it.version} loaded`)}#Ge=e=>{const t=this.#je[e.auctionId];if(!t)return wa("couldn't find auction accumulator: this should not happen");for(const i of e.bids)t.userIdsByBidId[i.bidId]=i.userId?Object.keys(i.userId):[]};#Fe=e=>{for(const t of e){const e=this.#ze[t.bidder];this.#je[t.auctionId]?.timeouts.push({placementId:t.adUnitCode,bidId:t.bidId,bidder:t.bidder,vendorId:e?At.b.get(e):void 0,userIdPartners:this.#je[t.auctionId]?.userIdsByBidId[t.bidId]??[],displayFormat:t.hbvMetadata?.displayFormat,mediaType:t.hbvMetadata?.mediaType,requestSizes:t.hbvMetadata?.requestSizes,requestDealIds:t?.hbvMetadata?.requestDealIds,payloadBidRequestSize:t?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:t?.hbvMetadata?.payloadBidResponseSize,demandSource:"s2s"===t.src?"pbs":"pbjs"})}};#Le=e=>{const t=this.#ze[e.bidder];this.#je[e.auctionId]?.noBids.push({placementId:e.adUnitCode,bidId:e.bidId,bidder:e.bidder,vendorId:t?At.b.get(t):void 0,userIdPartners:this.#je[e.auctionId]?.userIdsByBidId[e.bidId]??[],displayFormat:e.hbvMetadata?.displayFormat,mediaType:e.hbvMetadata?.mediaType,requestSizes:e.hbvMetadata?.requestSizes,requestDealIds:e?.hbvMetadata?.requestDealIds,payloadBidRequestSize:e?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:e?.hbvMetadata?.payloadBidResponseSize,demandSource:"s2s"===e.src?"pbs":"pbjs"})};#Ve=e=>{this.#je[e.auctionId]?.rejectedBids.push(e)};#We=e=>e;#He=e=>{const t=e.meta;if(!t)return;const i=t.agencyId??e.appnexus?.buyerMemberId;return{networkId:t.networkId?`${t.networkId}`:void 0,networkName:t.networkName,agencyId:i?`${i}`:void 0,agencyName:t.agencyName,advertiserId:t.advertiserId?`${t.advertiserId}`:void 0,advertiserName:t.advertiserName,advertiserDomains:(0,Bt.a)(t.advertiserDomains).filter((e=>(0,Et.q)(e)&&""!==e)).slice(0,2),brandId:t.brandId?`${t.brandId}`:void 0,brandName:t.brandName,dchain:t.dchain,primaryCatId:t.primaryCatId,secondaryCatIds:t.secondaryCatIds,mediaType:t.mediaType?this.#We(t.mediaType):void 0}};#Ke=(e,t)=>i=>{i.ad=la(i.ad,i.originalCpm),i.adUrl=la(i.adUrl,i.originalCpm),i.vastUrl=la(i.vastUrl,i.originalCpm),i.vastXml=la(i.vastXml,i.originalCpm);const a=`${i.creativeId}`,n=i.dealId?`${i.dealId}`:void 0,r=this.#ze[i.bidder],o=parseInt(`${i.width}`)||0,s=parseInt(`${i.height}`)||0,d=c.a.index.getBidRequest(i),l=d?.params.deals;return{providerId:da.a,prebid:i,adMarkup:i.ad,adUrl:i.adUrl,auctionId:e,placementId:i.adUnitCode,bidder:i.bidder,vendorId:r?At.b.get(r):void 0,bidId:i.adId,dealId:n,width:o,height:s,mediaType:this.#We(i.mediaType),creativeId:a,cpm:Number(i.cpm),currency:i.currency,originalCpm:Number(i.originalCpm??i.cpm),originalCurrency:i.originalCurrency??i.currency,isNetRevenue:i.netRevenue,ttl:i.ttl,fetchDuration:i.timeToRespond,targetings:i.adserverTargeting,native:i.native?{prebid:i.native}:void 0,vastUrl:i.vastUrl,vastXml:i.vastXml,meta:this.#He(i),displayFormat:va({bid:i,baseConnector:r??i.bidder,adUnits:t,overrideDisplayFormat:this.#$e.overrideDisplayFormat,bidRequest:d}),requestSizes:d?.hbvMetadata?.requestSizes,requestDealIds:d?.hbvMetadata?.requestDealIds,deal:n?{name:n,isGuaranteed:l?.some((e=>e.isGuaranteed&&e.name===i.dealId))??!1}:void 0,payloadBidRequestSize:d?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:d?.hbvMetadata?.payloadBidResponseSize,userIdPartners:this.#je[i.auctionId]?.userIdsByBidId[i.requestId]??[],requestParams:d?.params,demandSource:"s2s"===i.source?"pbs":"pbjs"}};#Xe=e=>new fa(e);#Je=()=>!!_t.readConfig("floors")?.endpoint?.url;provideContent=async(e,t)=>{const{placements:i,bidderTimeout:a}=t,r=((e,t)=>i=>{const a=e[i]??i,n=t[a];return a===vt.a.amazon||a===vt.a.backfill?ga.a:n??ga.a})(this.#ze,At.a.items),o=(0,si.a)(this.#Xe(i),i,{provideFormatter:r},t.context).build();this.#$e.exposePbjsAdUnits&&window.Hubvisor&&(window.Hubvisor.adUnits=o),this.#$e.floors||this.#Je()||(e=>{const t=this.#$e.shouldUseDynamicFloors?(e=>{const t=((e,t)=>{if(!t)return e;if(!e)return;const i="adUnitCode",a=e.floorRules,n=e.schema.includes(i)?e.schema:[...e.schema,i],r={},o={},s=n.indexOf(i);if(s===e.schema.length)for(const[e,i]of Object.entries(a)){const a=(0,Et.l)(i)?i:i.floor,n=!(0,Et.l)(i)&&i.immutable;for(const i of t){const t=e.split("|");r[`${e}|${i.placement}`]=Vt(t,n)?a:a*$t(i.multiplierByHour)}r[`${e}|*`]=a}else for(const[e,t]of Object.entries(a))o[e]=t;const d=Object.entries(o).reduce(((e,[t,i])=>(e[Ft(t,s)]={...e[Ft(t,s)]??{},[t]:i},e)),{});for(const e of Object.values(d)){const i=Object.entries(e).map((([e,t])=>[e.split("|"),t])),a=i.map((([e])=>e[s]));for(const[e,n]of i)if("*"===e[s]){for(const i of t)if(!a.includes(i.placement)){a.push(i.placement);const t=[...e];t[s]=i.placement;const o=(0,Et.l)(n)?n:n.floor,d=!(0,Et.l)(n)&&!0===n.immutable;r[t.join("|")]=Vt(t,d)?o:o*$t(i.multiplierByHour)}const i=(0,Et.l)(n)?n:n.floor;r[e.join("|")]=i}else{const i=t.find((t=>t.placement===e[s]))?.multiplierByHour,a=(0,Et.l)(n)?n:n.floor,o=!(0,Et.l)(n)&&!0===n.immutable;r[e.join("|")]=!Vt(e,o)&&i?$t(i)*a:a}}return{...e,schema:n,floorRules:r}})(jt(e.context),(i=(e=>{const t=wt.remoteConfiguration.currentValue?.publisherConfiguration?.floorMultipliers?.[0]?.multipliers.filter((t=>zt(e.context.pageZone,t.zones)&&((0,Et.j)(e.context.category)||zt(e.context.category,t.categories))&&zt((e=>e.refreshReason===Mt.b.visibility)(e),t.refresh)));return t})(e),i?.filter((e=>(0,Et.i)(e.placement)))));var i;return t})(e):jt(e.context);if(t&&!1!==(0,xt.a)("floors")){const i=Object.entries(t.floorRules).reduce(((e,[t,i])=>(e[t]=(0,Et.l)(i)?i:i.floor,e)),{});_t.setConfig({floors:{enforcement:{floorDeals:!0},data:{currency:t.currency??"USD",schema:{fields:t.schema},values:i,default:t.defaultFloor},additionalSchemaFields:{device:()=>It.b,bidder:(e,t)=>e?.bidder??t.bidderCode,videoContext:e=>e?.mediaTypes?.video?.context??"",displayFormat:e=>e?.hbvMetadata?.displayFormat??"",supportCode:()=>e.context.supportCode,country:()=>Rt.currentValue?.geo?.country?.iso??"",pageZone:()=>e.context.pageZone,browser:()=>Rt.currentValue?.ua?.browser?.name??"",category:()=>e.context.category??""}}})}})(t),_t.setConfig({outbrain:Xt(this.#$e)}),(e=>{const t={cattax:1,bcat:e.ortb?.contentBlocklist,badv:e.ortb?.domainBlocklist,at:Gt.a.firstPrice,device:{js:Gt.b.yes}},i=rt.a.currentValue?.tcData;if(i&&(t.user={consent:i.tcString,ext:{consent:i.tcString,ConsentedProvidersSettings:{consented_providers:i.addtlConsent}}},t.regs={ext:{gdpr:(0,Et.e)(i.gdprApplies)?i.gdprApplies?Gt.b.yes:Gt.b.no:void 0}}),!(0,Ot.b)()){const e=Rt.currentValue;t.device.geo={country:e?.geo?.country?.alpha3,lat:e?.geo?.location?.latitude,lon:e?.geo?.location?.longitude,accuracy:e?.geo?.location?.accuracyRadius,ipservice:3,city:e?.geo?.city?.name,zip:e?.geo?.city?.zip}}const a=(0,n.fb)(_t.readConfig("ortb2")??{},t);_t.setConfig({ortb2:a})})(this.#$e);const s=1e3*a;Ia(`Starting auction with id #${e}`),this.#je[e]={noBids:[],timeouts:[],rejectedBids:[],userIdsByBidId:{}};const{bids:d={}}=await _t.requestBids({auctionId:e,adUnits:o,timeout:s}),l=this.#je[e]?.noBids,c=this.#je[e]?.timeouts,p=this.#je[e]?.rejectedBids;Ta(`Ended auction with id #${e}`,{responses:d,timeouts:c,noBids:l});const u=[];for(const e of Object.values(d))e&&u.push(...e.bids);return{bids:u?.map(this.#Ke(e,o))??[],noBids:l??[],timeouts:c??[],rejectedBids:p?.map(this.#Ke(e,o))??[]}}}const{warn:Da,error:Sa}=ot.a.tag("module:prebid"),Ca={markBidWon(e){try{const t=c.a.findBidByAdId(e);if(!t)return Da(`No bid found with id #${e} to mark as won`);t.status=l.BID_STATUS.RENDERED,t.ad=la(t.ad,t.originalCpm),t.adUrl=la(t.adUrl,t.originalCpm),c.a.addWinningBid(t),s.emit(l.EVENTS.BID_WON,t)}catch(e){Sa("Error setting prebid winning bid",e)}},findPrebidRenderer(e){const t=c.a.findBidByAdId(e);if(!t)return;const i=t.renderer;return i?()=>{i.render(t)}:void 0}};At.c.add(da.a,(e=>new xa(e))),At.g.provide(Ca);var Ea=i(93);const Ra=e=>!!e.prebid,{table:Aa,debug:ka,info:Oa,warn:Ma,error:Ba}=ot.a.tag("Prebid");class Pa{#n;#Qe={};#Ye=0;#Ze=[];#et=(0,di.a)((()=>{this.#tt()}),.5);#it=[];constructor(e){this.#n=e,this.#n.bus.on(ei.a.refresh,this.#at),this.#n.bus.on(ei.a.impression,this.#te);for(const{name:t,value:i}of At.c.list())try{this.#Ze.push(i(e))}catch(e){Ba(`Error instantiating content-provider '${t}'`,e)}}#nt=e=>{if(!Zt.f)return;const t=e.flatMap((e=>{const t=[];for(const i of e.bids){const a=Object.entries(i.params).map((([e,t])=>`${e}=${t}`)).join(", "),n=(0,si.b)(e.mediaTypes,i),r=n.banner&&`banner=${JSON.stringify(n.banner.sizes)}`,o=n.native&&`native=${JSON.stringify(n.native)}`,s=n.skin&&`skin=${JSON.stringify(n.skin)}`,d=[r,o,n.outstream&&`outstream=${JSON.stringify(n.outstream.playerSize)}`,s,n.instream&&`instream=${JSON.stringify(n.instream.playerSize)}`,n.nativeBanner&&`nativeBanner=${JSON.stringify(n.nativeBanner)}`].filter((e=>e)).join(" / ");t.push({placement:e.code,mediaType:d,bidder:i.bidder,params:a})}return t}));Aa(t)};#rt=e=>{Zt.f&&Aa(e.map((({placementId:e,creativeId:t,width:i,height:a,bidder:n,cpm:r,currency:o,fetchDuration:s,mediaType:d})=>({placement:e,bidder:n,size:`${i}x${a}`,mediaType:d,cpm:r,currency:o,latency:s,creativeId:t}))))};#tt=()=>{if(0===this.#it.length)return;const e=this.#it;this.#it=[];const t=e.map((e=>{const t=e.content.bidResponse;return{placement:t.placementId,bidder:t.bidder,size:`${t.width}x${t.height}`,dealId:t.dealId,mediaType:t.mediaType,cpm:t.cpm,currency:t.currency,creativeId:t.creativeId}}));Oa("Impressions"),Aa(t)};#ot=e=>{if((0,Ot.b)()&&this.#n.globalSettings.sublime?.skipScriptLoadOnNoConsent)return Promise.resolve();if(At.a.items[vt.a.Sublime]){const i=((e,t)=>{for(const i of e){const e=i.bidRequest.bids.find((e=>e.bidder===vt.a.Sublime||t[e.bidder]===vt.a.Sublime));if(e)return e}})(e.placements,this.#n.globalSettings.bidderAliases);if(i?.params.zoneId)return t=i.params.zoneId,(0,Ea.a)(`//sac.ayads.co/sublime/${t}/prebid`)}var t;return Promise.resolve()};#st=async e=>{const t=this.#ot(e.config),i={shouldAbortAuction:!1},{preAuctionStep:a}=this.#n.globalSettings;try{Object.assign(i,await(a?.(e)))}catch(e){Ba("preAuctionStep error",e)}for(const e of await Promise.allSettled([t]))"rejected"===e.status&&Ba("vendor preAuctionStep error",e.reason);return i};#dt=async(e,t)=>{const{postAuctionStep:i}=this.#n.globalSettings;try{await(i?.(e,t))}catch(e){Ba("postAuctionStep error",e)}};#te=e=>{Ra(e.renderable.content.bidResponse)&&At.g.value?.markBidWon(e.renderable.content.bidResponse.bidId),this.#it.push(e.renderable),this.#et()};#lt=e=>{const t=Tt(this.#n.globalSettings,e);_t.setConfig({userSync:{filterSettings:t}})};#at=async e=>{const t=e.auctionId,i=e.refreshConfig,a=performance.now(),{shouldAbortAuction:n}=await this.#st({config:i,auctionId:t,bus:this.#n.bus}),r=performance.now(),o=li(r-a);this.#lt(i.placements);const s=rt.a.currentValue;if(!e.shouldContinueAuction||n)return this.#ct(t,i,s);const d=this.#n.globalSettings;i.placements.find((e=>e.bidRequest.bids.find((e=>e.bidder===vt.a.ttdDirectPath||d.bidderAliases[e.bidder]===vt.a.ttdDirectPath))))&&await oi({consent:d.consent}),((e,t)=>{const i={contentBlocklist:e.ortb?.contentBlocklist,domainBlocklist:e.ortb?.domainBlocklist,assumeRequestSizeForEmptyResponseSize:e.ortb?.assumeRequestSizeForEmptyResponseSize};e.ortb&&(i.context={publisherId:!1===e.ortb?.useLowerCasePublisherId?e.publisherId:e.publisherId.toLowerCase(),publisherName:e.ortb.publisherName,publisherDomain:e.ortb.publisherDomain,siteDomain:e.ortb.siteDomain??e.ortb.publisherDomain,siteId:e.ortb.siteId??t.context.supportCode,supportCode:t.context.supportCode,pageZone:t.context.pageZone,networkCode:t.context.networkCode,iabCategories:e.ortb?.iabCategories}),_t.setConfig({hubvisor:i})})(d,i),ka("Bid fetch started");const{placements:l}=i,c=l.map((e=>({...e.bidRequest,code:e.placementId})));if(0===c.reduce(((e,t)=>e+t.bids.length),0))return Oa("No placement found for this page, skipping auction"),this.#ct(t,i,s);Oa(`Fetching bids for ${c.length} placement(s):`),this.#nt(c),this.#pt(t,i,s);const p=performance.now(),u=await Promise.all(this.#Ze.map((e=>e.provideContent(t,i)))),m=li(performance.now()-p),b=u.reduce(((e,t)=>(e.bids.push(...t.bids),e.noBids.push(...t.noBids),e.timeouts.push(...t.timeouts),e.rejectedBids.push(...t.rejectedBids),e)),{bids:[],noBids:[],timeouts:[],rejectedBids:[]}),f={preAuctionDuration:o,auctionDuration:m};this.#ut(t,b.bids,b.noBids,b.timeouts,b.rejectedBids,f)};#ct=(e,t,i)=>{this.#pt(e,t,i),this.#ut(e,[],[],[],[],{preAuctionDuration:0,auctionDuration:0})};#mt=()=>{const e=this.#Ye;return this.#Ye+=1,e};#pt=(e,t,i)=>{const a=this.#mt();this.#Qe[e]={config:t,consent:i,startOrder:a},Oa("Auction started",e,t),this.#bt({auctionId:e,config:t,consent:i,startOrder:a})};#ut=async(e,t,i,a,n,r)=>{const o=this.#Qe[e];if(!o)return Ma("An auction finished but no associated metadata was found! This auction has probably not been started by the wrapper and will be ignored");const{config:s,consent:d,startOrder:l}=o,{preAuctionDuration:c,auctionDuration:p}=r;Oa(`${t.length} bid responses after ${p/1e3}s`),this.#rt(t);const u=performance.now();await this.#dt(t,s);const m=performance.now(),b=li(m-u),f=[...a,...t,...i,...n].reduce(((e,t)=>{for(const i of t.userIdPartners)e.add(i);return e}),new Set);this.#ft({auctionId:e,startOrder:l,duration:p,timeouts:a,bids:t,noBids:i,rejectedBids:n,config:s,consent:d,preAuctionDuration:c,postAuctionDuration:b,userIdPartners:[...f]})};#bt=e=>{this.#n.bus.emit(ei.a.auctionStarted,e)};#ft=e=>{this.#n.bus.emit(ei.a.auctionFinished,e)}}var Na=i(60),Ua=i(40),qa=i(95),ja=i(17);const{error:za}=ot.a.tag("Formats"),$a=async(e,t,i="about:blank")=>{const a=e.createElement("iframe");a.src=i,a.style.overflow="hidden",a.style.display="inline",(0,Ua.l)(a,{width:t.width,height:t.height});const n=(0,ja.a)();if(a.onload=()=>{n.resolve()},e.body.append(a),await n.promise,!a.contentDocument)throw new ya.b(ya.a.iframeDocumentNotFound,`iframe contentDocument not found: this should not happen (${t.bidder} on ${t.placementId})`);return a.contentDocument},Fa=async(e,t)=>{const{bid:i,creativeType:a}=t,n=At.g.value?.findPrebidRenderer(i.bidId);if(n)n();else if(i.adMarkup){const a=t.useInnerFrame?await $a(e,i):e;a.open(),t.afterDocumentOpen?.(a),a.write(i.adMarkup),a.close()}else if(i.adUrl)try{await $a(e,i,i.adUrl)}catch{}else za("there was an error displaying a bid",i);(0,qa.c)(e,i,{creativeType:a})},{warn:La}=ot.a.tag("Skin"),{debug:Va,warn:Ga,error:Wa}=ot.a.tag("native"),Ha="data-hbv-clk",Ka="data-hbv-jstracker",Xa="data-hbv-container-id",Ja=async e=>{try{const t=e.map((e=>fetch(e).then((e=>{if(!e.ok)throw new Error(`http status: ${e.statusText}`)}))));await Promise.all(t),Va("click tracking complete")}catch(e){Ga("click tracking failed",e)}},Qa=(e,t,i)=>{if(!t.javascriptTrackers)return;const a=(0,Et.c)(t.javascriptTrackers)?t.javascriptTrackers.join(""):t.javascriptTrackers;e.innerHTML=i?a.replace("%native_dom_id%",i):a;for(const t of e.getElementsByTagName("script")){const i=Object.values(t.attributes).reduce(((e,t)=>((0,Et.i)(t.nodeValue)&&(e["data-src"===t.nodeName?"src":t.nodeName]=t.nodeValue),e)),{}),a=document.createElement("script");a.innerHTML=t.innerHTML,t.remove(),e.append(Object.assign(a,i))}};var Ya=i(72),Za=i(96),en=i(46);const{info:tn,error:an}=ot.a.tag("outstream-player"),{debug:nn,error:rn}=ot.a.tag("sf:host:intersection"),on=e=>e?`{ x: ${e.left}, y: ${e.top}, width: ${e.width}, height: ${e.height} }`:"{ ∅ }",sn=e=>e.defaultView?.frameElement??null,dn=e=>{if(!e)return null;if((0,Ua.e)(e))return sn(e);const t=e.parentNode;return t?(0,Ua.j)(t)?t.host:(0,Ua.f)(t)&&t.assignedSlot?t.assignedSlot.parentNode:t:null},ln=(e,t)=>{const i=e.top+t.top,a=e.left+t.left;return{top:i,left:a,width:t.width,height:t.height,bottom:i+t.height,right:a+t.width}},cn=(e,t)=>{if(!e||!t)return null;const i=Math.max(e.top,t.top),a=Math.min(e.bottom,t.bottom),n=Math.max(e.left,t.left),r=Math.min(e.right,t.right),o=r-n,s=a-i;return o<=0||s<=0?null:{top:i,bottom:a,left:n,right:r,width:o,height:s}},pn=e=>"none"===getComputedStyle(e).display,un=(e,t)=>(0,Ua.e)(e)?((e,t)=>{const i=sn(e);if(e!==document&&i){const e=i.getBoundingClientRect(),a=ln(e,t.boundingRect),n=!pn(i),r=t.intersectionRect&&n?cn(e,ln(e,t.intersectionRect)):null,{zIndex:o}=t;return on(e),on(a),{nextParent:dn(i),measurement:{boundingRect:a,intersectionRect:r,zIndex:o}}}{const i=(e=>{const t=e.documentElement,i=e.body;return{top:0,left:0,right:t.clientWidth??i.clientWidth,width:t.clientWidth??i.clientWidth,bottom:t.clientHeight??i.clientHeight,height:t.clientHeight??i.clientHeight}})(e),{boundingRect:a,zIndex:n}=t,r=cn(i,t.intersectionRect);return on(a),on(i),{nextParent:null,measurement:{boundingRect:a,intersectionRect:r,zIndex:n}}}})(e,t):((e,t)=>{const i=dn(e),{zIndex:a,boundingRect:n}=t;if((e=>{const t=e.ownerDocument,i=e===t?.body,a=e===t?.documentElement,n=!(0,Ua.f)(e)||"visible"!==getComputedStyle(e).overflow;return!i&&!a&&n})(e)){const r=(e=>{try{return e.getBoundingClientRect()}catch(t){return e.nodeName,null}})(e),o=cn(r,t.intersectionRect);return on(r),on(t.intersectionRect),{nextParent:i,measurement:{boundingRect:n,intersectionRect:o,zIndex:a}}}return{nextParent:i,measurement:{boundingRect:n,intersectionRect:t.intersectionRect,zIndex:a}}})(e,t),mn=e=>{const t=(e=>{try{let t=(e=>({measurement:{boundingRect:e.getBoundingClientRect(),intersectionRect:pn(e)?null:e.getBoundingClientRect(),zIndex:0},nextParent:dn(e)}))(e);for(;t.nextParent;)t.nextParent,t=un(t.nextParent,t.measurement),on(t.measurement.intersectionRect),on(t.measurement.boundingRect);return t.measurement}catch(e){return rn("Error measuring visibility:",e),{boundingRect:{top:0,right:0,bottom:0,left:0,width:0,height:0},intersectionRect:null,zIndex:0}}})(e),{top:i,left:a,bottom:n,right:r,width:o,height:s}=t.boundingRect,d=t.intersectionRect?.width??0,l=t.intersectionRect?.height??0,c=o>0?d/o:0,p=s>0?l/s:0,u=c*p;return{t:i,l:a,r,b:n,xiv:li(c),yiv:li(p),iv:li(u),z:t.zIndex,w:o,h:s}},bn=()=>{const e=window,t=e.innerHeight??0,i=e.innerWidth??0,a=e.screenY??e.screenTop??0,n=a+t,r=e.screenX??e.screenLeft??0;return{t:a,r:r+i,b:n,l:r,w:i,h:t}},fn=e=>({win:bn(),self:mn(e),exp:{t:0,l:0,r:0,b:0,xs:!1,ys:!1}}),gn=e=>(0,Et.m)(e)&&(e=>(0,Et.m)(e)&&(0,Et.l)(e.t)&&(0,Et.l)(e.l)&&(0,Et.l)(e.r)&&(0,Et.l)(e.b)&&(0,Et.l)(e.xiv)&&(0,Et.l)(e.yiv)&&(0,Et.l)(e.iv)&&(0,Et.l)(e.z)&&(0,Et.l)(e.w)&&(0,Et.l)(e.h))(e.self)&&(e=>(0,Et.m)(e)&&(0,Et.l)(e.t)&&(0,Et.l)(e.b)&&(0,Et.l)(e.l)&&(0,Et.l)(e.r)&&(0,Et.l)(e.w)&&(0,Et.l)(e.h))(e.win)&&(e=>(0,Et.m)(e)&&(0,Et.l)(e.t)&&(0,Et.l)(e.l)&&(0,Et.l)(e.r)&&(0,Et.l)(e.b)&&((0,Et.l)(e.xs)||(0,Et.e)(e.xs))&&((0,Et.l)(e.ys)||(0,Et.e)(e.ys)))(e.exp),yn={error:e=>(0,Et.m)(e)&&(0,Et.l)(e.code)&&(0,Et.q)(e.message),ready:e=>(0,Et.m)(e)&&(0,Et.q)(e.placementId),render:e=>(0,Et.m)(e)&&(e=>(0,Et.m)(e)&&(0,Et.l)(e.cpm)&&((0,Et.q)(e.adMarkup)||(0,Et.q)(e.adUrl))&&(0,Et.q)(e.bidId)&&(0,Et.l)(e.width)&&(0,Et.l)(e.height)&&(0,qa.b)(e))(e.bid)&&(e=>(0,Et.m)(e)&&(0,Et.q)(e.url)&&(0,Et.q)(e.domain))(e.metadata)&&(0,Et.m)(e.safeFrame)&&(0,Et.e)(e.safeFrame.hasFocus)&&gn(e.safeFrame.geom)};var hn=i(69);const{debug:_n}=ot.a.tag("channel");class vn{#$=new hn.a;#n;constructor(e){const{source:t,...i}=e;this.#n={...i},this.open(t??window)}close=()=>{this.#n.source&&(this.#$.clear(),this.#n.source.removeEventListener("message",this.#gt),this.#n.source=void 0,_n(`'${this.#n.name}' closed`))};open=e=>{this.close(),this.#n.source=e,this.#n.source.addEventListener("message",this.#gt),_n(`'${this.#n.name}' channel opened with namespace '${this.#n.namespace}'`)};#yt=e=>{const[t,i]=e;if(!(0,Et.q)(t))return!1;const a=this.#n.validators[t];return!!a?.(i)};#ht=e=>{try{return JSON.parse(e)}catch{}};#gt=e=>{try{if(e.source!==this.#n.target)return;if(!(0,Et.q)(e.data))return;const t=this.#ht(e.data);if(!t)return;const{event:i,params:a,ns:n}=t;if(n!==this.#n.namespace)return;if(!this.#yt([i,a]))throw new Error("couldn't validate message data");_n(`'${this.#n.name}' received a message '${i}'`,a),this.#$.dispatch(i,a)}catch(e){_n(`'${this.#n.name}' error handling message`,e)}};once=this.#$.once;on=this.#$.on;off=this.#$.off;#_t=(e,t)=>JSON.stringify({ns:this.#n.namespace,event:e,params:t});emit=(e,t)=>{this.#n.target.postMessage(this.#_t(e,t),"*"),_n(`'${this.#n.name}' sent message '${String(e)}'`,t)}}const In=(e,t,i)=>{const a=1e3*t,n={lastCallMoment:0},r={leading:!0,trailing:!0,...i},o=()=>{n.lastCall&&(n.result=e.apply(n.lastCall.context,n.lastCall.args),n.lastCall=void 0)},s=()=>{n.timeout&&(clearTimeout(n.timeout),n.timeout=void 0)};function d(...e){const t=Date.now();n.lastCallMoment||r.leading||(n.lastCallMoment=t);const i=t-n.lastCallMoment,d=a-i;return n.lastCall={context:this,args:e},d<=0||d>a?(s(),n.lastCallMoment=t,o()):!n.timeout&&r.trailing&&(n.timeout=window.setTimeout((()=>{n.lastCallMoment=r.leading?Date.now():0,n.timeout=void 0,o()}),d)),n.result}return d.cancel=()=>{s(),n.lastCallMoment=0,n.lastCall=void 0},d},wn={register:e=>(0,Et.m)(e)&&(0,Et.l)(e.w)&&(0,Et.l)(e.h),updateGeom:e=>(0,Et.m)(e)&&(0,Et.e)(e.hasFocus)&&gn(e.geom)},{debug:Tn}=ot.a.tag("safeframe:host");class xn{#vt=!1;#It=new Set;add=e=>{this.#It.add(e),this.#wt()};remove=e=>{this.#It.delete(e),this.#Tt()};#wt=()=>{this.#vt||(this.#vt=!0,document.addEventListener("visibilitychange",this.#xt),addEventListener("scroll",this.#Dt))};#Tt=()=>{this.#It.size>0||this.#vt&&(this.#vt=!1,document.removeEventListener("visibilitychange",this.#xt),removeEventListener("scroll",this.#Dt))};#St=In((()=>{for(const e of this.#It)e.updateGeom()}),1,{leading:!1,trailing:!0});#xt=()=>{this.#St()};#Dt=()=>{this.#St()};static shared=new xn}class Dn{#Ct;#Et;constructor(e,t){this.#Ct=e;const i=e.contentWindow;if(!i)throw new ya.b(ya.a.safeframeHostFrameWindowNotAvailable,`couldn't obtain target for safeframe channel for frame #${e.id}`);this.#Et=new vn({name:`safeframe:host:${t}`,namespace:"hbv:sf:v1",validators:wn,target:i}),this.#Et.on("register",(()=>{Tn("register")})),xn.shared.add(this)}updateGeom=()=>{const e="visible"===document.visibilityState,t=fn(this.#Ct);this.#Et.emit("updateGeom",{hasFocus:e,geom:t})};dispose=()=>{xn.shared.remove(this),this.#Et.close()}}const{error:Sn}=ot.a.tag("sandbox:host");class Cn{#Rt;#Ct;#At;#Et;constructor(e){this.#Rt=e}#kt=e=>{this.dispose();try{this.#Ct=e;const t=this.#Ct.contentWindow;if(!t)throw new ya.b(ya.a.sandboxHostFrameWindowNotAvailable,`couldn't obtain target for sandbox channel for placement '${this.#Rt.placementId}'`);this.#Et=new vn({name:`sandbox:host:${this.#Rt.placementId}`,namespace:"hbv:sandbox",validators:yn,target:t}),this.#Et.on("error",this.#Ot),this.#Et.on("ready",this.#Mt),this.#At=new Dn(e,this.#Rt.placementId)}catch(e){throw this.dispose(),e}};#Ot=e=>{(0,ha.a)(new ya.b(e.code,`sandbox client reported error with code #${e.code}: ${e.message}`)),this.dispose()};#Mt=e=>{this.#Rt.placementId!==e.placementId&&Sn(`received 'ready' with wrong placementId; expected '${this.#Rt.placementId}' received '${e.placementId}'`),this.#Bt()};#Bt=()=>{if(!this.#Et||!this.#Ct)return(0,ha.a)(new ya.b(ya.a.sandboxHostRenderWithoutChannel,`cannot render sandbox content without target for placement ${this.#Rt.placementId}`));const{width:e,height:t,cpm:i,adMarkup:a,adUrl:n,bidId:r,bidder:o,creativeId:s,placementId:d}=this.#Rt,l=location.href,c=location.hostname,p="visible"===document.visibilityState,u=fn(this.#Ct);this.#Ct.classList.add("hbv-ready"),this.#Et.emit("render",{bid:{width:e,height:t,cpm:i,adMarkup:a,adUrl:n,bidId:r,bidder:o,creativeId:s,placementId:d},metadata:{url:l,domain:c},safeFrame:{hasFocus:p,geom:u}})};dispose=()=>{this.#At?.dispose(),this.#At=void 0,this.#Et?.close(),this.#Et=void 0,this.#Ct?.remove(),this.#Ct=void 0};static render=(e,{publisherId:t,bidResponse:i})=>{const{width:a,height:n}=i,r=encodeURIComponent(i.placementId),o=new Cn(i),s=e.createElement("iframe");return(0,Ua.l)(s,{width:a,height:n}),s.classList.add("hbv-sandbox"),s.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-scripts allow-top-navigation-by-user-activation allow-same-origin"),s.src=`https://s.hubvisor.io/wrapper/${t}/sandbox.html?pid=${r}`,e.body.append(s),o.#kt(s),o}}const{error:En}=ot.a.tag("formats:util:iframe"),{warn:Rn,error:An}=ot.a.tag("observer"),{error:kn}=ot.a.tag("Parallax"),{debug:On}=ot.a.tag("rich-media"),Mn=[vt.a.Sublime,vt.a.ogury,vt.a.hbvRichmedia,vt.a.Teads,vt.a.Adyoulike,vt.a.richaudience,vt.a.Invibes,vt.a.visx,vt.a.Freewheel,vt.a.seedtag,vt.a.relaido,vt.a.impactify,vt.a.bliink,vt.a.beop],Bn=(e,t)=>{const i=t.bidderAliases;if(Mn.some((t=>i[e.bidder]===t||t===e.bidder)))return!0;const a=i[e.bidder]===vt.a.TripleLift||e.bidder===vt.a.TripleLift;return!(!a||e.displayFormat!==_a.a.nativeBanner)||!(!a||e.displayFormat!==_a.a.outstream)},Pn=(e,t)=>({...e,...t,customPosition:{...e?.customPosition,...t?.customPosition},parallax:{enabled:!1,...e?.parallax,...t?.parallax}}),Nn=(e,t,i)=>{try{return e.overrideRichMediaSettings?.(t,i)}catch(e){const t=new ya.b(ya.a.overrideRichMediaOptionsFailed,e);(0,ha.a)(t,"overrideRichMediaSettings error")}},Un=(e,t,i,a)=>(e.addEventListener(t,i,a),(0,gt.a)((()=>e.removeEventListener(t,i,a)))),{error:qn}=ot.a.tag("Amazon"),jn={"rich-media":async(e,t)=>{const{resolvedBid:i,placement:a,options:n}=t,{bidResponse:r}=i,{customPosition:o,shouldHideFrame:s=!1,shouldSetupDAP:d=!0,useSandbox:l=!1,parallax:c,customRendering:p}=(({placement:e,options:t,resolvedBid:i})=>{const a=[vt.a.Sublime,vt.a.hbvRichmedia,vt.a.Invibes].some((e=>t.globalSettings.bidderAliases[i.bidResponse.bidder]===e||e===i.bidResponse.bidder)),n=1===i.bidResponse.width&&1===i.bidResponse.height&&(t.globalSettings.bidderAliases[i.bidResponse.bidder]===vt.a.Teads||vt.a.Teads===i.bidResponse.bidder),r="video"===i.bidResponse.mediaType||n||a||!(0,Et.r)(e.rendering?.richMedia?.customRendering);return[e.rendering?.richMedia,Nn(t.globalSettings,e,i.bidResponse)].reduce(Pn,{shouldHideFrame:r})})(t),u=!(0,Et.r)(p)&&"banner"===r.mediaType,m=(({bidResponse:e,parallax:t,globalSettings:i})=>!!t?.enabled&&!Bn(e,i)&&"video"!==e.mediaType)({bidResponse:r,parallax:c,globalSettings:n.globalSettings}),b=(n.globalSettings.bidderAliases[r.bidder]===vt.a.Teads||r.bidder===vt.a.Teads)&&1===r.width&&1===r.height&&"banner"===r.mediaType;let f=await(async({initialDocument:e,customPosition:t,parallax:i,renderParams:a})=>{const n=((e,t)=>{const i=t?.selector;if(!i)return e;const a=(e=>{const t=document.querySelector(e);if(!t){const t=new ya.b(ya.a.customInsertionPointNotFound,`Couldn't find insertion point w/ selector ${e}`);return(0,ha.a)(t),null}const i=document.createElement("iframe");return t.insertBefore(i,t.firstChild),i})(i);if(!a)return e;const n=e?.defaultView?.frameElement;return(0,Ua.h)(n)&&(0,Ua.d)(n),a.contentWindow?.document??e})(e,t);return i?.enabled?(async(e,t)=>{const{resolvedBid:{bidResponse:i},placement:a}=t,n=a.rendering?.richMedia?.parallax??{enabled:!0};let r;try{r=(({targetHeight:e,targetRatio:t,width:i})=>{if(i<=0)return 0;if((0,Et.i)(e)&&e<=0)throw new ya.b(ya.a.onParallaxInvalidParameters,`Invalid targetHeight of ${e} on parallax`);if((0,Et.i)(t)&&t<=0)throw new ya.b(ya.a.onParallaxInvalidParameters,`Invalid targetRatio of ${t} on parallax`);return e||(t?i/t:310)})({targetHeight:n.targetHeight,targetRatio:n.targetRatio,width:i.width})}catch(e){(0,ha.a)(e,"Fallback to targetHeight = 0"),r=0}if(i.height<=r)return e;const o=e.defaultView?.frameElement;if(!(0,Ua.h)(o))return kn("No outer frame provided for parallax rendering, aborting",e),e;const s=n.topInset??0,d=n.bottomInset??0,l=()=>{(0,Ua.l)(o,{width:i.width,height:r}),(0,Ua.m)(o,{width:`${i.width}px`,height:`${r}px`}),e.body.style.height=`${r}px`,e.body.style.overflowY="hidden"};l();const c=(0,di.a)(l,.01);new MutationObserver((e=>{for(const t of e)if("attributes"===t.type){const e=t.target;if(!(0,Ua.f)(e))continue;const{width:a,height:n}=e.getBoundingClientRect();a===i.width&&n===r||c()}})).observe(o,{attributes:!0});const p=e.createElement("div");p.style.width="100%",p.style.height="100%",p.style.overflowY="hidden";const u=e.createElement("iframe");(0,Ua.l)(u,{id:`parallax-inner-${i.placementId}`,width:i.width,height:i.height}),p.append(u),e.body.append(p);const m=()=>{const e=o.getBoundingClientRect(),t=s,a=innerHeight-e.height-d,n=1/(a-t),r=-t*n,l=(1-(Math.max(Math.min(a,e.top),t)*n+r))*(i.height-e.height);p.scrollTop=l},b=await(0,Ua.n)(u);if(!b)return kn("Somehow parallaxDoc is still not usable... Falling back to non-parallax rendering"),e;const{observedElementSelector:f}=n;return((e,{triggerInitially:t=!1,observedElementSelector:i}={})=>{const a=(e=>{let t;return{listener(i){t||(t=window.requestAnimationFrame((()=>{t=void 0,e(i)})))},cancel(){t??=window.cancelAnimationFrame(t)}}})(e);((e,t,i)=>{for(const t of["scroll","resize"])e.addEventListener(t,i)})((e=>{if(e)try{const t=document.querySelector(e);if(t)return t;Rn(`Couldn't find element w/ selector "${e}", using window instead`)}catch(t){An(`Failed to find element w/ selector "${e}"`,t)}return window})(i),0,a.listener),t&&a.listener()})(m,{observedElementSelector:f}),m(),b})(n,{...a,...i}):n})({initialDocument:e,customPosition:o,parallax:m?c:void 0,renderParams:t});if(On(`rendering '${a.placementId}' { safeframe : ${l}, parallax: ${m}, hidden: ${s}, DAP: ${d} }`),s){const e=f.defaultView?.frameElement;(0,Ua.h)(e)&&((0,Ua.d)(e),b&&((e,t)=>{document.getElementById(t.placementId)||((e,t)=>{const i=document.createElement("div");i.id=t.placementId;const a=(0,qa.a)(document,t,{creativeType:"nativeBanner"});i.append(a),e?.parentElement&&e.parentElement.append(i)})(e,t)})(e,r))}else((e,t,i)=>{const{width:a,height:n}=i,r=e.defaultView?.frameElement;(0,Ua.h)(r)?(0,Ua.l)(r,{width:a,height:n}):En("couldn't prepare frame")})(f,0,r);const g=!Bn(r,n.globalSettings)&&"banner"===r.mediaType;if(u&&(f=((e,t,i)=>{const{placementId:a,width:n,height:r}=i,o=document.createElement("iframe");if((0,Ua.l)(o,{width:n,height:r,id:`hbv-rich-media-render-${a}`}),e(o,i),!(0,Ua.k)(o.contentDocument)){const e=new ya.b(ya.a.customRichMediaNullDocument,"Couldn't render custom richMedia format: iframe document isn't usable");return(0,ha.a)(e),t}return o.contentDocument})(p,f,r)),!l||!g)return Fa(f,{bid:r,creativeType:"rich-media",useInnerFrame:!0,afterDocumentOpen:e=>{d&&(e=>{e.defaultView&&(e.defaultView.inDapIF=!0)})(e)}});{const{publisherId:e}=n.globalSettings;Cn.render(f,{publisherId:e,bidResponse:r})}},native:(e,{options:t,resolvedBid:i})=>{{const{globalSettings:a}=t,{bidResponse:n}=i;return(async({doc:e,globalSettings:t,bidResponse:i})=>{{const{nativeRendering:a}=t;if(!a||!(0,Et.g)(a)){const e={placementId:i.placementId,bidder:i.bidder,mediaType:i.mediaType,creativeId:i.creativeId},a=new ya.b(ya.a.noNativeRenderer,`Couldn't render native format without providing nativeRendering callback: ${JSON.stringify(e)}`);return(0,ha.a)(a,t,i)}try{await a(e,{bidResponse:i}),(()=>{for(const e of document.querySelectorAll(`[${Ha}]`))try{const t=e.getAttribute(Ha);if(!t||"undefined"===t)continue;const i=(0,Bt.a)(JSON.parse(t));e.addEventListener("click",(()=>{Ja(i)}),!1),e.removeAttribute(Ha)}catch(t){Wa("Couldn't setup click tracking attribute from item",e,t)}})(),(e=>{for(const t of document.querySelectorAll(`[${Ka}]`)){const i=t.getAttribute(Ka),a=t.getAttribute(Xa)??`hbv-native-${e.placementId}`;if(i&&(0,_a.b)(e.native)){try{const i=e.native.prebid;Qa(t,i,a)}catch(e){Wa("Couldn't insert JsTrackers",e)}t.removeAttribute(Ka),t.removeAttribute(Xa)}}})(i)}catch(e){(0,ha.a)(e,`error rendering format native for content with creativeid #${i.creativeId} from ${i.bidder} on placement ${i.placementId}: ${JSON.stringify(i.native)}`)}}})({doc:e,globalSettings:a,bidResponse:n})}},skin:async(e,t)=>{const{options:{globalSettings:i},resolvedBid:{bidResponse:a}}=t,{skinRendering:n}=i;if(!n){const e=new ya.b(ya.a.noSkinRenderer,"can't render skin format without providing skinRendering callback");return(0,ha.a)(e,i,a)}const r=e.defaultView?.frameElement;(0,Ua.h)(r)?(0,Ua.d)(r):La(`No initial frame found for content with id '${a.bidId}'`);const{width:o,height:s}=a,d=document.createElement("iframe");(0,Ua.l)(d,{width:o,height:s,id:"hbv-custom-render"}),(0,Ua.m)(d,{position:"absolute",top:"0",left:"50%",transform:"translate(-50%, 0)"});try{await n(d,{bidResponse:a})}catch(e){return(0,ha.a)(e,`error rendering format skin for content with id #${a.bidId}`)}(0,Ua.o)(d,(()=>{if(!(0,Ua.k)(d.contentDocument)){const e=new ya.b(ya.a.skinFrameNullDocument,"Couldn't render skin format: skin iframe document isn't usable");return(0,ha.a)(e)}Fa(d.contentDocument,{bid:a,creativeType:"skin",useInnerFrame:!0})}))},intrastitial:()=>{},"outstream-player":(e,t)=>{const{resolvedBid:{bidResponse:i},placement:a}=t,n=e.defaultView?.frameElement;(0,Ua.h)(n)&&(0,Ua.d)(n),(0,qa.c)(e,i,{creativeType:"outstream-player"});const r=document.querySelector(a.rendering?.outstream?.selector??`#${a.placementId}`)??e.body;(0,Ea.a)("https://cdn.hubvisor.io/wrapper/common/player.js").then((()=>{(0,Ya.a)(r,{vastUrl:i.vastUrl,vastXml:i.vastXml,targetWidth:i.width,targetHeight:i.height,renderContext:{document:e,bidResponse:i,context:void 0},...a.rendering?.outstream,onEvent:(e,t)=>{const a=(0,Za.a)(e,t);switch(a.kind){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":return en.a.emit("outstream-imp",{adId:i.bidId,kind:"impression"===a.kind?"video-imp":a.kind}),tn(`Outstream ${a.kind} pixel triggered for ${i.placementId}`);case"error":return an("Error playing outstream",JSON.stringify({error:a.value,bidResponse:i}))}}})})).catch((e=>{(0,ha.a)(new ya.b(ya.a.outstreamPlayerLoadingFailed,`failed to load player: ${e.message} - bid ${i.bidder} ${i.vastUrl} ${i.vastXml}  - ${JSON.stringify(e)}`),e)}))},amazon:async(e,t)=>{if(!window.apstag)return qn("apstag is not available");const i=t.resolvedBid.bidResponse,a=i.targetings.amzniid;if(!(0,Et.q)(a))return qn("No amzniid available to render bid : ",a);(0,qa.c)(e,i,{creativeType:i.displayFormat??i.mediaType}),t.options.bus.emit(ei.a.AmazonRenderRequest,[e,a])}},zn={},$n={set(e,t){t?zn[e]=t:delete zn[e]},read:e=>zn[e]},Fn=(e,t)=>{const i={};for(const a of e){const e=t(a);(0,Et.r)(e)||(i[e]||(i[e]=[]),i[e]?.push(a))}return i},Ln={init:void 0,config:void 0,hubvisorUntilInitDuration:void 0},Vn={},Gn={},Wn={hubvisorUntilInitDuration(e){Ln.hubvisorUntilInitDuration=li(e)},init(e){Ln.init=li(e)},config(e){Ln.config=li(e)},preRender(e,t){Vn[e]=li(t)},postRender(e,t){Gn[e]=li(t)}},Hn=e=>Gn[e];class Kn{#Pt=[];#Nt=!1;get disposed(){return this.#Nt}constructor(e=[]){this.#Pt.push(...e)}push=(e,...t)=>{this.#Nt?this.#Ut([e,...t]):this.#Pt.push(e,...t)};dispose=()=>{this.#Nt||(this.#Nt=!0,this.#Ut(this.#Pt),this.#Pt.length=0)};#Ut=e=>{for(let t=e.length-1;t>=0;--t)try{e[t]()}catch{}}}var Xn=i(100),Jn=i(44),Qn=i(63);const{debug:Yn,info:Zn,warn:er,error:tr}=ot.a.tag("Renderer");class ir{#qt={};#jt=new Set;#n;constructor(e){this.#n=e,At.h.start({settings:e.globalSettings,bus:e.bus}),this.#n.bus.on(ei.a.renderRequested,this.#zt),this.#n.bus.on(ei.a.backupRenderRequested,this.#$t),this.#n.bus.on(ei.a.amazonImp,this.#Ft)}#Lt=e=>!!this.#jt.has(e)||(this.#jt.add(e),!1);#Vt=(e,t)=>{Yn(`Sending '${ei.a.impression}' event for renderable`,t);const i={renderable:t,timestamp:Date.now(),doc:e};this.#n.bus.emit(ei.a.impression,i)};#Gt=(e,t)=>{const i={renderable:t,timestamp:Date.now(),doc:e};this.#n.bus.emit(ei.a.renderedImp,i)};#Wt=e=>{const t=this.#qt[e];if(!t)throw new Error(`couldn't resolve renderable for id #${e}`);return t};#Ft=({doc:e,amzniid:t})=>{const i=Object.values(this.#qt).find((e=>e.content.bidResponse.creativeId===t&&(0,Xn.isAmazonBidResponse)(e.content.bidResponse)));if(!i)throw new Error(`couldn't resolve renderable for id #${t}`);this.#Vt(e,i),this.#Gt(e,i)};#Ht=(e,t)=>{const i=this.#n.globalSettings.bidderAliases;if(i[t.bidder]===vt.a.amazon||t.bidder===vt.a.amazon)return"amazon";const a=i[t.bidder]===vt.a.Sublime||t.bidder===vt.a.Sublime;if((1800===t.width||1600===t.width)&&1e3===t.height&&!a)return"skin";if("native"===t.mediaType)return"native";const n=e?.rendering?.format;return n||"rich-media"};#Kt=(e,t,i)=>{if(this.#n.globalSettings.overrideRenderFormat)try{return this.#n.globalSettings.overrideRenderFormat(e,t,i)}catch(e){const t=new ya.b(ya.a.overrideRenderFormatFailed,e);(0,ha.a)(t,"overrideRenderFormat error")}};#Xt=(e,t)=>{const i=this.#Ht(e,t);return this.#Kt(e,t,i)??i};#Jt=async({doc:e,id:t,context:i,disposables:a})=>{const n=this.#Wt(t),r=this.#Lt(t);r||this.#Vt(e,n),$n.set(n.placement.placementId,{document:e,bidResponse:n.content.bidResponse,context:i});const o=this.#Xt(n.placement,n.content.bidResponse),s=jn[o];if(r)er(`Rendering already rendered renderable #${t} using format: '${o}' for placement '${n.placement.placementId}' !\n      This double-render is probably an issue with a double-refresh request sent to the adserver`),(0,ha.a)(new ya.b(ya.a.doubleRenderError,`Double render for ${n.placement.placementId} and format ${o}`));else{const{creativeId:e,bidder:t}=n.content.bidResponse;Zn(`Rendering renderable with id #${e} from ${t} using format: '${o}' for placement '${n.placement.placementId}'`)}const{shouldAbortRender:d}=await this.#Qt(e,n);if(d)return Zn(`Abort rendering of placement ${n.placement.placementId}`);await s(e,{options:this.#n,placement:n.placement,resolvedBid:n.content,disposables:a}),await this.#Yt(e,n),r||this.#Gt(e,n)};#Qt=async(e,t)=>{const{preRenderStep:i}=this.#n.globalSettings,a=performance.now();try{const r=await(i?.(e,t));return Wn.preRender(t.content.bidResponse.bidId,performance.now()-a),Object.assign({shouldAbortAuction:!1},(n=r,(0,Et.m)(n)&&(0,Et.e)(n.shouldAbortRender)?r:void 0))}catch(e){tr("preRenderStep error",e,t)}var n;return{shouldAbortRender:!1}};#Yt=async(e,t)=>{const{postRenderStep:i}=this.#n.globalSettings,a=performance.now();try{await(i?.(e,t))}catch(e){tr("postRenderStep error",e,t)}Wn.postRender(t.content.bidResponse.bidId,performance.now()-a)};adServerCallback=(e,t,i,a)=>{const n=i||t;Yn(`Called back for rendering of ${i?"guaranteed":""} content with id #${n}`);const r=new Kn;this.#Jt({doc:e,id:n,context:a,disposables:r}).catch((t=>{!(0,Et.i)(e)&&Ua.g||(0,ha.a)(new ya.b(ya.a.renderingFailed,t),`failed to render content w/ #${n}`),r.dispose()}))};#Zt=e=>{const t=Object.entries(At.h.registrations).reduce(((t,[i,a])=>(a?.canRender(e)&&t.push(i),t)),[]);if(t.length<=0)er("No renderer was found for renderable it will be discarded",e);else if(t.length>1){if(this.#n.globalSettings.consent.shouldSkipAdserverOnConsentless&&t.includes(Na.a.hsc))return(0,Ot.b)()&&!Jn.a?Na.a.hsc:t.filter((e=>e!==Na.a.hsc))[0];er("More than one renderer was found for renderable, make sure the configuration is appropriate",e,t)}return t[0]};#ei=async(e,t)=>{const{preAdserverCallStep:i}=this.#n.globalSettings;try{const n=await(i?.(e,t));return Object.assign({shouldAbortCall:!1},(a=n,(0,Et.m)(a)&&(0,Et.e)(a.shouldAbortCall)?n:void 0))}catch(i){tr("preAdserverCall error",i,e,t)}var a;return{shouldAbortCall:!1}};#ti=async(e,t)=>{const i=At.h.registrations[e],{shouldAbortCall:a,renderables:n}=await this.#ei(e,t);if(a)return Zn(`Abort adcalls for ${e}`,t);const r=n??t;i.render(r)};render=e=>{for(const t of e)for(const e of t.content)this.#qt[e.bidResponse.bidId]={placement:t.placement,content:e};const t=Fn(e,this.#Zt);for(const e of Object.keys(At.h.registrations)){const i=t[e]??[];this.#ti(e,i).catch((t=>{tr(`Rendering error with '${e}'`,i,t)}))}};#zt=e=>{const t=e.renderRequests.map((e=>e.renderable));this.render(t)};#$t=e=>{const t=e.renderable.content[0];t&&(this.#qt[t.bidResponse.bidId]={placement:e.renderable.placement,content:t},setTimeout((()=>{const i=e.renderContext.document.defaultView?.frameElement;(0,Ua.h)(i)&&"none"===i.style.display&&(i.style.display=""),(0,Qn.a)("adServerRender",{document:e.renderContext.document,adId:t.bidResponse.bidId})}),0))}}const ar=new Promise((e=>{fetch("https://securepubads.g.doubleclick.net/pagead/ppub_config").then((({ok:t})=>e(!t))).catch((()=>e(!0)))}));let nr=!1;ar.then((e=>{nr=e}));const rr=(e,t,i)=>{const a=wt.remoteConfiguration.currentValue?.publisherConfiguration?.cpmAdjustments?.filter((a=>a.adjustmentKind===i&&((0,Et.j)(a.pageZones)||(0,Bt.a)(a.pageZones).includes(t.pageZone))&&((0,Et.j)(a.layouts)||(0,Bt.a)(a.layouts).includes(t.layout))&&((0,Et.j)(a.devices)||(0,Bt.a)(a.devices).includes(It.b))&&((0,Et.j)(a.supportCodes)||(0,Bt.a)(a.supportCodes).includes(t.supportCode))&&((0,Et.j)(a.isConsentless)||a.isConsentless===(0,Ot.b)())&&((0,Et.j)(a.placementIds)||(0,Bt.a)(a.placementIds).includes(e.placementId))&&((0,Et.j)(a.bidders)||(0,Bt.a)(a.bidders).includes(e.bidder))&&((0,Et.j)(a.displayFormats)||(0,Bt.a)(a.displayFormats).includes(e.displayFormat))&&(0,Et.l)(a.adjustment)));return a?.[0]?.adjustment},{debug:or,error:sr,warn:dr,info:lr}=ot.a.tag("Bidder");class cr{#n;#ii=(0,xt.c)("bidder-priority");#ai={};#ni=0;constructor(e){this.#n=e,this.#n.bus.on(ei.a.auctionFinished,this.#ri),this.#n.bus.on(ei.a.auctionStarted,this.#oi)}#si=e=>{const{placements:t}=e.config,i=t.reduce(((e,t)=>(e[t.placementId]={placement:t,bids:[],noBids:[],timeouts:[],rejectedBids:[]},e)),{});return this.#di(i,e),Object.values(i)};#li=(e,t)=>{const{filterAuctionStep:i}=this.#n.globalSettings;try{return i?.(e,t)??!0}catch(i){sr("filterAuctionStep error: bid won't be filtered",i,e,t)}return!0};#ci=(e,t,i)=>{const a=wt.remoteConfiguration.currentValue?.publisherConfiguration?.blacklistedCreatives;return!!a?.find((e=>e.creativeId===t.bidResponse.creativeId&&e.device===("tablet"===It.b||"phone"===It.b?"mobile":It.b)&&e.support===i.context.supportCode))||!this.#li(e,t)};#pi=(e,t)=>{const{cpmMultiplier:i}=this.#n.globalSettings;try{const a=i?.(e,t);if((0,Et.i)(a))return a}catch(e){sr("error retrieving cpm adjustment: it won't be applied",e)}return rr(e,t.context,"cpm")??1};#ui=(e,t)=>{const{adserverMultiplier:i}=this.#n.globalSettings;try{const a=i?.(e,t);if((0,Et.i)(a))return a}catch(e){sr("error retrieving adserver adjustment: it won't be applied",e)}return rr(e,t.context,"adserver")??1};#mi=(e,t)=>{const{cpm:i}=e,a=this.#pi(e,t),n=this.#ui(e,t),r=i*a;if((0,Et.q)(this.#ii)&&this.#ii===e.bidder){const t=30;return or("Adjusted cpm for",{placement:e.placementId,bidder:e.bidder},`: ${i.toFixed(2)} =>`,{estimatedNetCpm:i.toFixed(2),adjustedCpm:t.toFixed(2),high_prio:!0}),{netCpm:r,adjustedCpm:t}}if(Jn.a)return{netCpm:i,adjustedCpm:i};const o=r*n;return or("Adjusted cpm for",{placement:e.placementId,bidder:e.bidder},`: ${i.toFixed(2)} =>`,{estimatedNetCpm:r.toFixed(2),adjustedCpm:o.toFixed(2)}),{netCpm:r,adjustedCpm:o}};#bi=(e,t,i)=>{const a={cpmAdjustment:this.#mi(t,i),bidResponse:t};if(!this.#ci(e,a,i))return a};#di=(e,t)=>{for(const i of t.bids){const a=e[i.placementId];if(a){const e=this.#bi(a.placement,i,t.config);e?a.bids.push(e):a.rejectedBids.push(i)}else dr(`couldn't resolve content for placement id ${i.placementId}, skipped BidResponse`,i)}const i=new Set;for(const a of t.noBids){const t=e[a.placementId];t?(t.noBids.push(a),i.add(a.bidId)):dr(`couldn't resolve content for placement id ${a.placementId}, skipped NoBid`,a)}for(const a of t.rejectedBids){const t=e[a.placementId];t?(t.rejectedBids.push(a),i.add(a.bidId)):dr(`couldn't resolve content for placement id ${a.placementId}, skipped RejectedBid`,a)}for(const a of t.timeouts){const t=e[a.placementId];t?i.has(a.bidId)||t.timeouts.push(a):dr(`couldn't resolve content for placement id ${a.placementId}, skipped Timeout`,a)}};#fi=async e=>{const t=[];return window.ethereum&&t.push("ethereum-wallet=true"),e.refreshReason===Mt.b.secondChance&&t.push("second-chance=true"),Jn.a&&t.push("uplift=true"),await ar&&t.push("adblock=true"),t};#gi=async e=>{try{return(await Promise.all([this.#fi(e.config),this.#n.globalSettings.auctionTags?.({auctionId:e.auctionId,consent:e.consent,config:e.config})])).filter(Et.i).flat()}catch(e){return sr("failed to retrieve base or custom tags",e),[]}};#yi=async e=>{const t=this.#ai[e.auctionId];if(!t)return[];delete this.#ai[e.auctionId];const i=[],a=await Promise.race([t,(0,ja.b)(this.#ni).then((()=>i))]);return a===i&&dr("tags resolution took too long: tags won't be sent for this auction"),a};#oi=e=>{this.#ai[e.auctionId]=this.#gi(e)};#ri=async e=>{or("Resolving auction");try{const t=await this.#yi(e),i={resolvedPlacements:this.#si(e),timestamp:new Date,auction:e,tags:t};lr("resolved auction",i.resolvedPlacements,i.tags),this.#hi(i)}catch(e){sr("error during content resolution",e)}};#hi=e=>{this.#n.bus.emit(ei.a.auctionResolved,e)};start=e=>{lr("starting auction w/ context",e.refreshConfig.context),this.#n.bus.emit(ei.a.refresh,e)}}const{debug:pr,warn:ur,error:mr,info:br}=ot.a.tag("RenderList");class fr{#n;#_i=0;#vi;#Ii={};#wi=new Set;#Ti;#xi=new Set;constructor(e){this.#n=e,this.#Ti=(0,di.a)((()=>{this.#Di()}),e.globalSettings.renderList.competitionDebounceDelay),this.#n.bus.on(ei.a.auctionStarted,this.#oi),this.#n.bus.on(ei.a.auctionResolved,this.#Si),this.#n.bus.on(ei.a.renderableRequested,this.#Ci),this.#n.bus.on(ei.a.impression,this.#te),en.a.on("outstream-error",this.#Ei)}#Ri=(e,t)=>{pr(`New checkpoint #${e}`,t),this.#vi={startIndex:e,config:t},this.#Ai()};#oi=e=>{this.#_i=e.startOrder,e.config.refreshReason===Mt.b.pageView&&this.#Ri(e.startOrder,e.config)};#Si=e=>{this.#ki(e)};#Ci=e=>{for(const t of e.placements)this.#wi.add(t);this.#Ti()};#te=e=>{const t=this.#Ii[e.renderable.placement.placementId],i=t?.candidates.find((t=>t.content.bidResponse.bidId===e.renderable.content.bidResponse.bidId));i&&(i.status=2)};#Ei=({renderContext:e})=>{if(Jn.a)return;const t=e.bidResponse.placementId,i=this.#Ii[t];if(!i)return;this.#Oi(i);const a=i.candidates.filter((e=>2!==e.status&&e.content.bidResponse.providerId===da.a)).sort(this.#Mi),n=a[a.length-1],r=a[a.length-2];if(this.#Bi(n,r),n){n.status=1,n.content.bidResponse.tags||(n.content.bidResponse.tags=[]),n.content.bidResponse.tags.push("outstream-backup=true");const t={renderable:{placement:i.placement,content:[n.content],config:i.metadata.config,auctionId:i.metadata.auctionId,tags:i.metadata.tags},config:i.metadata.config,auctionId:i.metadata.auctionId,generation:i.metadata.generation,timestamp:Date.now(),competition:{candidates:this.#Pi(i)},renderContext:e};br(`Using bid as backup impression as outstream failed on placement ${i.placement.placementId} :`,n.content,t),this.#n.bus.emit(ei.a.backupRenderRequested,t)}};#Ni=e=>this.#vi?!(e.auction.startOrder<this.#vi.startIndex&&(pr("The auction started before last checkpoint was resolved after, it will be ignored",this.#vi,e),1)):(ur("An auction was resolved before any checkpoint is available, that should not happen and it will be ignored",e),!1);#ki=e=>{if(!this.#Ni(e))return;const t=this.#_i-e.auction.startOrder;for(const i of e.resolvedPlacements)this.#Ui(i,t,e.auction,e.tags);this.#xi.add(e.auction.auctionId),this.#Ti()};#Ui=(e,t,i,a)=>{const{placement:n,bids:r}=e,{auctionId:o,config:s}=i,d={config:s,generation:t,auctionId:o,tags:a},l=this.#qi(n,d);for(const e of r)l.candidates.push({config:s,auctionId:e.bidResponse.auctionId,generationTimestamp:Date.now(),generation:t,status:0,content:e});this.#wi.add(n.placementId)};#qi=(e,t)=>{const i=this.#Ii[e.placementId];if(i)return i.metadata=t,i.placement=e,i;const a={placement:e,candidates:[],metadata:t};return this.#Ii[e.placementId]=a,a};#Di=()=>{const e=this.#wi;this.#wi=new Set,pr("Competition started for placements",e);const t=[];for(const i of e)this.#ji(t,i);const i=new Set(this.#xi);this.#xi.clear(),this.#zi({renderRequests:t,auctionIds:i})};#ji=(e,t)=>{const i=this.#Ii[t];if(!i)return void ur(`A competition was scheduled for placementId ${t} but content couldn't be found: placement will be ignored`);const a=i.candidates.filter((e=>e.content.bidResponse.deal?.isGuaranteed));this.#Oi(i);const n=this.#$i(i),r=this.#Pi(i),o=[...n.map((e=>e.content)),...a.map((e=>e.content))];e.push({renderable:{placement:i.placement,content:o,config:i.metadata.config,auctionId:i.metadata.auctionId,tags:i.metadata.tags},config:i.metadata.config,auctionId:i.metadata.auctionId,generation:i.metadata.generation,timestamp:Date.now(),competition:{candidates:r}});for(const e of n)e.status=1;for(const e of a)e.status=1;this.#Fi(i)};#zi=e=>{br("Sending render request",e),this.#n.bus.emit(ei.a.renderRequested,e)};#Fi=e=>{for(const t of e.candidates)t.generation+=1};#I=(e,t)=>{const i=(t-e.generationTimestamp)/1e3;return e.content.bidResponse.ttl>0&&i>=e.content.bidResponse.ttl};#Oi=e=>{const t=Date.now();e.candidates=e.candidates.filter((i=>!this.#I(i,t)&&!(e.placement.rendering?.instream&&0!==i.status||2===i.status||i.content.bidResponse?.deal?.isGuaranteed)))};#Li=(e,t)=>e.cpmAdjustment.adjustedCpm-t.cpmAdjustment.adjustedCpm;#Mi=(e,t)=>{try{const i=this.#n.globalSettings.overrideBidPriority?.(e.content,t.content);if((0,Et.l)(i))return i}catch(i){mr("error performing overrideBidPriority for candidates",e,t,i)}return this.#Li(e.content,t.content)};#Bi=(e,t)=>{if(e){if(!t)return e.content.cpmAdjustment.netUsdIncrementCpm=e.content.cpmAdjustment.netCpm,void(e.content.cpmAdjustment.rawUsdIncrementCpm=e.content.bidResponse.cpm);e.content.cpmAdjustment.netUsdIncrementCpm=e.content.cpmAdjustment.netCpm-t.content.cpmAdjustment.netCpm,e.content.cpmAdjustment.rawUsdIncrementCpm=e.content.bidResponse.cpm-t.content.bidResponse.cpm}};#$i=e=>{const t=e.candidates.filter((e=>2!==e.status)).sort(this.#Mi),i=(a=t,n=e=>e.content.bidResponse.providerId,Object.values(Fn(a,n)).filter(Et.i));var a,n;const r=t[t.length-1],o=t[t.length-2];return this.#Bi(r,o),i.map((e=>e[e.length-1])).filter(Et.i)};#Pi=e=>e.candidates.map((t=>({placement:e.placement,content:t.content,generation:t.generation})));#Ai=()=>{if(Zt.c){const e=Object.values(this.#Ii).reduce(((e,t)=>e+(t?t.candidates.length:0)),0);e>0&&pr(`Discarding ${e} renderables`),this.#wi.size>0&&pr(`Unscheduled rendering for ${this.#wi.size} placements`,this.#wi)}this.#wi=new Set,this.#Ii={}}}const gr=[];let yr;At.d.provide((({errorCode:e,message:t,stack:i,secondaryCode:a})=>{gr.push({code:e,message:t,stack:i,secondaryCode:a}),yr&&yr()}));class hr{#n;constructor(e){this.#n=e,yr=(0,di.a)(this.#Vi,1),yr()}#Vi=()=>{if(0===gr.length)return;const e=[...gr];gr.length=0,this.#n.bus.emit(ei.a.error,{errors:e})}}var _r=i(47);const vr=Qn.a,{error:Ir}=ot.a.tag("cmd-queue"),wr=(0,gt.a)((()=>{const e=e=>{try{e()}catch(e){Ir("Error executing command",e)}},t=window.Hubvisor?.cmd;if(window.Hubvisor=vr,vr.cmd=t??[],vr.ready=!0,Array.isArray(t))for(let i=0;i<t.length;++i)e(t[i]);vr.cmd={push:e}})),{info:Tr,error:xr,debug:Dr}=ot.a.tag("hubvisor:refresh"),Sr={pendingPlacements:new Set,shouldRefreshAll:!1};let Cr;const Er=(0,di.a)((()=>{Dr("Refresh started");const{shouldRefreshAll:e,pendingPlacements:t,task:i}=Sr;Sr.pendingPlacements=new Set,Sr.shouldRefreshAll=!1,Sr.task=void 0;const a=Mt.b.visibility,n=e?new Set:t;Cr?.(a,n).then((()=>{i?.resolve()})).catch((e=>{i?.reject(e)}))}),.2),Rr=e=>{Cr=e},Ar=async e=>{const t=(e=>(0,Et.j)(e)||(0,Et.d)(e,Et.q)?(0,Bt.a)(e):(xr("Can't validate args sent to refresh: refreshing all placements",e),[]))(e),i=0===t.length?"*":t.join(", ");Tr(`Requested refresh for placements: ${i}`),Sr.shouldRefreshAll=0===t.length;for(const e of t)Sr.pendingPlacements.add(e);return Sr.task??=(0,ja.a)(),Er(),Sr.task.promise},{debug:kr,error:Or}=ot.a.tag("hubvisor:autorefresh"),Mr=new Set,Br=new hn.a,Pr=e=>(0,Et.d)(e,Et.q)?(0,Bt.a)(e):(Or("Cannot validate args",e),[]),Nr=e=>{const t=Pr(e);kr("excluding placements",t);for(const e of t)Mr.has(e)||(Mr.add(e),Br.dispatch("didExcludePlacement",e))},Ur=e=>{const t=Pr(e);kr("unexcluding placements",t);for(const e of t)Mr.has(e)&&(Mr.delete(e),Br.dispatch("didUnexcludePlacement",e))},{debug:qr}=ot.a.tag("connectivity-check"),jr=()=>{const e=performance.getEntriesByType("resource").filter((e=>!(e=>!(e.transferSize>0)&&(e.decodedBodySize>0||e.duration<30))(e)&&!(e=>0===e.connectEnd&&0===e.connectStart&&0===e.encodedBodySize&&0===e.decodedBodySize&&0===e.domainLookupStart&&0===e.domainLookupEnd&&0===e.requestStart&&0===e.responseStart&&0===e.transferSize&&0===e.redirectEnd&&0===e.redirectStart&&0===e.secureConnectionStart)(e)&&!(e=>e.encodedBodySize>0&&e.transferSize>0&&e.transferSize<e.encodedBodySize)(e))).map((({responseStart:e,responseEnd:t,transferSize:i})=>i/((t-e)/1e3))).sort(((e,t)=>e-t)).filter(Number.isFinite);if(e.length>2&&e.splice(-2),e.splice(0,Math.floor(.25*e.length)),0===e.length)return void qr("Can't compute avg dl speed");const t=e.reduce(((e,t)=>e+t))/e.length*8/1e6;return qr(`Avg dl speed: ${t.toFixed(2)} Mbps`),t},zr=e=>"rejected-bid"===e.kind,$r=()=>{try{return top.location.href}catch{}},Fr=e=>({code:e.code,message:e.message,stack:e.stack,secondaryCode:e.secondaryCode});var Lr=i(53);const{debug:Vr}=ot.a.tag("loading-time"),Gr=(()=>{let e=!1;return(...t)=>{if(!e)return e=!0,Lr.a.tryCatch((()=>(e=>{const{cmpLatency:t,consentLatency:i}=e??{},{duration:a,startTime:n}=(()=>{const e=performance.getEntries().find((e=>e.name.match(/cdn.hubvisor\.io\/wrapper\/[a-zA-Z0-9]{26}\/(hubvisor-[a-zA-Z0-9]{1,}\.js|[a-zA-Z0-9]{1,}\.js)/)&&!e.name.includes("hubvisor-child.js")))??{},{duration:t,startTime:i}=e;return(0,Et.l)(t)&&(0,Et.l)(i)?(Vr(`Hubvisor starting time ${i} / loading time ${t} ms`),{duration:li(t),startTime:li(i)}):Vr("Can't retrieve Hubvisor loading and/or starting time")})()??{},r=Ln.hubvisorUntilInitDuration;return{hubvisorLoadDuration:a,cmpLatency:t,consentLatency:i,hubvisorLoadStartDelay:n,hubvisorInitDuration:Ln.init,configurationLoadDuration:Ln.config,hubvisorUntilInitDuration:(0,Et.l)(a)&&(0,Et.l)(n)&&(0,Et.l)(r)?r-a-n:void 0}})(...t))).get()}})(),{error:Wr,debug:Hr,warn:Kr}=ot.a.tag("beam"),Xr=(0,gt.a)(jr);class Jr{#n;#Gi=ga.a;#Wi={renderRequestByContentId:{},auctions:{},adRequestsByPlacementId:{},auctionsByPlacementId:{}};#Hi={auctions:{},pageViews:{},bids:{},carbonFilteredBids:[]};#Ki={events:{},errors:[]};constructor(e){this.#n=e,this.#n.bus.on(ei.a.auctionStarted,this.#oi),this.#n.bus.on(ei.a.auctionResolved,this.#Si),this.#n.bus.on(ei.a.renderRequested,this.#zt),this.#n.bus.on(ei.a.backupRenderRequested,this.#$t),this.#n.bus.on(ei.a.adrequest,(e=>{for(const t of e)(0,Et.r)(this.#Wi.adRequestsByPlacementId[t])?this.#Wi.adRequestsByPlacementId[t]=0:this.#Wi.adRequestsByPlacementId[t]+=1})),this.#n.bus.on(ei.a.impression,this.#te.bind(this,"imp")),this.#n.bus.on(ei.a.visibleImp,this.#te.bind(this,"visible-imp")),this.#n.bus.on(ei.a.measuredImp,this.#te.bind(this,"measured-imp")),this.#n.bus.on(ei.a.error,this.#Ot),en.a.on("outstream-imp",this.#Xi);const{collectDebounceDelay:t}=this.#n.globalSettings.beam;this.#Gi=(0,di.a)((()=>{this.#Ji()}),t),this.#n.bus.on(ei.a.carbonFilteredBid,(e=>{this.#Hi.carbonFilteredBids.push(e)}))}#Qi=()=>{const e=this.#Ki.events,t=Object.keys(e),i=[];for(const a of t){const t=this.#Wi.auctions[a];t?i.push({auction:t,events:e[a]??[]}):Kr("No auction found with ID ",a)}return((e,t)=>({publisherId:t.publisherId,source:t.source,timezone:t.timezone,version:t.version,connectionSpeed:t.connectionSpeed,auctions:e.auctions.flatMap((e=>e.events.length>0?(e=>{const{pageViewId:t,auctionId:i,refreshConfig:a,consent:n,tags:r}=e.auction,{bidderTimeout:o}=a,{layout:s,networkCode:d,pageZone:l,publisherBrand:c,supportCode:p}=a.context,{cmpStatus:u,tcData:m}=n??{};return{pageViewId:t,auctionId:i,consentString:(0,st.b)(m),gdprApplies:m?.gdprApplies,cmpStatus:u,network:d,brand:c,support:p,zone:l,layout:s,page:$r(),auctionTimeout:1e3*o,events:e.events.flatMap((e=>{const t=(e=>"imp"===e.kind||"visible-imp"===e.kind||"measured-imp"===e.kind?(e=>{const{placementId:t,refreshIndex:i,cpmAdjustment:a,bidResponse:n,pageLoadToImpInterval:r,adUnitPath:o}=e,{bidder:s,originalCpm:d,originalCurrency:l,cpm:c,creativeId:p,dealId:u,ttl:m,width:b,height:f,mediaType:g,isNetRevenue:y,vendorId:h,displayFormat:_,bidId:v,userIdPartners:I,demandSource:w,payloadBidRequestSize:T,payloadBidResponseSize:x,tags:D}=n,{agencyId:S,advertiserId:C,advertiserDomains:E=[],primaryCatId:R,secondaryCatIds:A=[]}=n.meta??{},{adjustedCpm:k,netCpm:O,rawUsdIncrementCpm:M,netUsdIncrementCpm:B}=a;return{kind:e.kind,latency:"imp"===e.kind?e.timestamp-e.renderTimestamp:void 0,ttl:m,placementId:t,size:`${b}x${f}`,mediaType:g,displayFormat:_,connector:s,vendorId:h,demandSource:w,dealId:u,creativeId:p,refreshIndex:i,rawCpm:d,cpmKind:y?"net":"gross",currency:l,adjustedUsdCpm:k,rawUsdCpm:c,netUsdCpm:O,rawUsdIncrementCpm:M,netUsdIncrementCpm:B,campaignId:void 0,seatId:S,advertiserId:C,advertiserDomains:E,categoryIds:R?[R,...A]:[],pageLoadToImpInterval:"imp"===e.kind?r:void 0,preRenderDuration:"imp"===e.kind?(P=v,Vn[P]):void 0,postRenderDuration:"imp"===e.kind?Hn(v):void 0,userIdPartners:I,payloadBidRequestSize:T,payloadBidResponseSize:x,tags:D,adUnitPath:o};var P})(e):"auction"===e.kind||"page-view"===e.kind||"carbon-filtered-bid"===e.kind?e:"bid-response"===e.kind||"winning-bid"===e.kind||"rejected-bid"===e.kind?(e=>{const t=zr(e)?e:e.bidResponse,{bidder:i,originalCpm:a,originalCurrency:n,cpm:r,creativeId:o,dealId:s,ttl:d,width:l,height:c,mediaType:p,displayFormat:u,isNetRevenue:m,vendorId:b,placementId:f,userIdPartners:g,requestSizes:y=[],requestDealIds:h=[],payloadBidRequestSize:_,payloadBidResponseSize:v}=t,{agencyId:I,advertiserId:w,advertiserDomains:T=[],primaryCatId:x,secondaryCatIds:D=[]}=t.meta??{},S=zr(e)?void 0:e.cpmAdjustment;return{kind:e.kind,placementId:f,requestSizes:y.map((([e,t])=>`${e}x${t}`)),requestDealIds:h,connector:i,vendorId:b,refreshIndex:e.refreshIndex,demandSource:t.demandSource,latency:t.fetchDuration,ttl:d,size:`${l}x${c}`,dealId:s,creativeId:o,mediaType:p,displayFormat:u,rawCpm:a,cpmKind:m?"net":"gross",currency:n,adjustedUsdCpm:S?.adjustedCpm,rawUsdCpm:r,netUsdCpm:S?.netCpm,rawUsdIncrementCpm:S?.rawUsdIncrementCpm,netUsdIncrementCpm:S?.netUsdIncrementCpm,campaignId:void 0,seatId:I,advertiserId:w,advertiserDomains:T,categoryIds:x?[x,...D]:[],userIdPartners:g,payloadBidRequestSize:_,payloadBidResponseSize:v}})(e):"no-bid"===e.kind||"timeout"===e.kind?(e=>{const{bidder:t,vendorId:i,placementId:a,refreshIndex:n,userIdPartners:r,displayFormat:o,requestSizes:s=[],requestDealIds:d=[],mediaType:l,demandSource:c,payloadBidRequestSize:p,payloadBidResponseSize:u}=e;return{kind:e.kind,placementId:a,requestSizes:s.map((([e,t])=>`${e}x${t}`)),requestDealIds:d,connector:t,displayFormat:o,mediaType:l,vendorId:i,refreshIndex:n,demandSource:c,userIdPartners:r,payloadBidRequestSize:p,payloadBidResponseSize:u}})(e):void 0)(e);return t?[t]:[]})),tags:r}})(e):[])),errors:e.errors.map(Fr)}))({auctions:i,errors:this.#Ki.errors},{publisherId:this.#n.globalSettings.publisherId,source:"wrapper",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,version:Zt.g,connectionSpeed:Xr()})};#Ji=async()=>{const e=this.#Qi();this.#Ki={events:{},errors:[]};const{collectRetryCount:t,collectRetryDelay:i,collectUrl:a}=this.#n.globalSettings.beam;if(e.auctions=e.auctions.filter((({events:e})=>e?.length>0)),0===e.auctions.length&&0===e.errors.length)return;Hr(`Sending beam payload: ${a}`,e);let n=0,r=!1;do{r=n++<t;try{const t=await fetch(a,{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error(`http status: ${t.statusText}`);Hr("Beam payload sent",t);break}catch(t){Wr("Error sending beam payload",t),r?await(0,ja.b)(i):Wr("Too much failures, gave up sending beam payload",e)}}while(r)};#Xi=({adId:e,kind:t})=>this.#Yi(e,t);#Yi=async(e,t)=>{const i=this.#Wi.renderRequestByContentId[e];if(!i)return Wr("Couldn't find renderRequest for bidResponse",e);const a=i.renderable.content.find((t=>t.bidResponse.bidId===e));if(!a)return Wr(`Couldn't find content for bidResponse ${e}`);const n=this.#Wi.auctions[i.auctionId];if(!n)return Wr(`Couldn't find auction for bidResponse ${e} - required for pageviewId`);const r=((e,t,i,a,n,r)=>{const{bidder:o,originalCpm:s,cpm:d,isNetRevenue:l,vendorId:c,userIdPartners:p,demandSource:u,tags:m}=e.bidResponse,{agencyId:b,advertiserId:f,advertiserDomains:g=[]}=e.bidResponse.meta??{},{auctionId:y,config:h}=a,{bidderTimeout:_}=h,{layout:v,networkCode:I,pageZone:w,publisherBrand:T,supportCode:x}=h.context,{cmpStatus:D,tcData:S}=t.consent??{},{adjustedCpm:C,netCpm:E}=e.cpmAdjustment;return{kind:r,publisherId:t.publisherId,pageViewId:i.pageViewId,auctionId:y,consentString:(0,st.b)(S),gdprApplies:S?.gdprApplies,cmpStatus:D,network:I,brand:T,support:x,zone:w,layout:v,page:$r(),auctionTimeout:1e3*_,latency:e.bidResponse.fetchDuration,ttl:e.bidResponse.ttl,placementId:e.bidResponse.placementId,size:e.bidResponse.adSize,mediaType:"video",displayFormat:"outstream",connector:o,vendorId:c,demandSource:u,refreshIndex:n,dealId:e.bidResponse.dealId,creativeId:e.bidResponse.creativeId,rawCpm:s,cpmKind:l?"net":"gross",currency:e.bidResponse.currency,adjustedUsdCpm:C,rawUsdCpm:d,netUsdCpm:E,seatId:b,advertiserId:f,advertiserDomains:g,categoryIds:e.bidResponse.meta?.secondaryCatIds,tags:[...i.tags,...m??[]],userIdPartners:p,source:t.source,version:t.version,connectionSpeed:t.connectionSpeed,timezone:t.timezone}})(a,{publisherId:this.#n.globalSettings.publisherId,source:"wrapper",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,version:Zt.g,connectionSpeed:Xr(),consent:this.#Wi.auctions[i.auctionId]?.consent},n,i,this.#Wi.adRequestsByPlacementId[i.renderable.placement.placementId]??0,t),o=this.#n.globalSettings.beam.vimpUrl;try{const e=new URL(o);for(const[t,i]of Object.entries(r))if(s=i,!((0,Et.r)(s)||""===s||(0,Et.c)(s)&&0===s.length))if((0,Et.c)(i))for(const a of i)e.searchParams.append(`${t}[]`,`${a}`);else e.searchParams.append(t,i);await fetch(e),Hr("vimp recorded in beam")}catch(e){Wr("failed to send vimp to beam",e)}var s};#Zi=e=>{if(e.renderable.placement?.rendering?.renderer&&e.renderable.placement.rendering.renderer===Na.a.dfp&&e.doc?.defaultView?.name)return e.doc.defaultView.name.replace("google_ads_iframe_","").replace(/(_[0-9]+)$/,"")};#te=(e,t)=>{const i=this.#Wi.renderRequestByContentId[t.renderable.content.bidResponse.bidId];if(!i)return Wr("couldn't find RenderRequest for impression event",t);const a=t.renderable.content.bidResponse.auctionId;if(!(a in this.#Wi.auctions))return(0,ha.a)(new ya.b(ya.a.beamError,"received an impression that has an unknown auctionId"));a in this.#Ki.events||(this.#Ki.events[a]=[]);const n=this.#Wi.adRequestsByPlacementId[t.renderable.placement.placementId]??0,r=this.#Zi(t);this.#Ki.events[a]?.push({adUnitPath:r,kind:e,timestamp:t.timestamp??Date.now(),renderTimestamp:i.timestamp,refreshIndex:n,placementId:t.renderable.placement.placementId,bidResponse:t.renderable.content.bidResponse,cpmAdjustment:t.renderable.content.cpmAdjustment,pageLoadToImpInterval:0===n&&"imp"===e?li(performance.now()):void 0}),this.#Gi()};#Ot=e=>{const t=e.errors.map((e=>({...e,kind:"error"})));this.#Ki.errors.push(...t),this.#Gi()};#oi=e=>{const{auctionId:t,config:i,consent:a}=e;if(this.#Wi.auctions[t]={pageViewId:ut.pageViewId,consent:a,auctionId:t,refreshConfig:i,tags:[]},i.refreshReason===Mt.b.pageView&&(this.#Hi.pageViews[t]={kind:"page-view",...Gr(a)},this.#Wi.adRequestsByPlacementId={},this.#Wi.auctionsByPlacementId={}),i.refreshReason!==Mt.b.secondChance)for(const e of i.placements)(0,Et.r)(this.#Wi.auctionsByPlacementId[e.placementId])?this.#Wi.auctionsByPlacementId[e.placementId]=0:this.#Wi.auctionsByPlacementId[e.placementId]+=1};#Si=e=>{const t=e.auction.auctionId,i=this.#Wi.auctions[t];if(!i)return Wr("Received resolution of an auction that hasn't been initialized",e);i.tags=e.tags;const a=e.resolvedPlacements.flatMap((e=>{const t=this.#Wi.auctionsByPlacementId[e.placement.placementId]??0,i=[...e.bids.map((e=>({kind:"bid-response",refreshIndex:t,...e}))),...e.noBids.map((e=>({kind:"no-bid",refreshIndex:t,...e}))),...e.timeouts.map((e=>({kind:"timeout",refreshIndex:t,...e}))),...e.rejectedBids.map((e=>({kind:"rejected-bid",refreshIndex:t,...e}))),...this.#Hi.carbonFilteredBids.map((e=>({kind:"carbon-filtered-bid",refreshIndex:t,...e})))];return this.#Hi.carbonFilteredBids=[],i}),{});a.length>0&&(this.#Hi.auctions[t]={kind:"auction",preAuctionDuration:e.auction.preAuctionDuration,auctionDuration:e.auction.duration,postAuctionDuration:e.auction.postAuctionDuration,userIdPartners:e.auction.userIdPartners},this.#Hi.bids[t]=a)};#zt=e=>{const t=new Set;for(const i of e.renderRequests){t.add(i.auctionId);for(const e of i.renderable.content)if(this.#Wi.renderRequestByContentId[e.bidResponse.bidId]=i,e.bidResponse.providerId===da.a){const t=this.#Hi.bids[i.auctionId]?.find((t=>"bid-response"===t.kind&&t.bidResponse.bidId===e.bidResponse.bidId));t?(t.kind="winning-bid","winning-bid"===t.kind&&(t.cpmAdjustment=e.cpmAdjustment)):Kr("couldn't find bid response to set as winning bid")}}const i=t.size>0?t:new Set([...Object.keys(this.#Hi.auctions),...Object.keys(this.#Hi.pageViews),...Object.keys(this.#Hi.bids)]);for(const e of i){this.#Ki.events[e]||(this.#Ki.events[e]=[]);const t=this.#Hi.bids[e];t&&(delete this.#Hi.bids[e],this.#Ki.events[e]?.push(...t));const i=this.#Hi.auctions[e];i&&(delete this.#Hi.auctions[e],this.#Ki.events[e]?.push(i));const a=this.#Hi.pageViews[e];a&&(delete this.#Hi.pageViews[e],this.#Ki.events[e]?.push(a))}this.#Gi()};#$t=e=>{for(const t of e.renderable.content)this.#Wi.renderRequestByContentId[t.bidResponse.bidId]=e}}class Qr{#ea;#ta;#ia;#aa;#na;constructor(e,t){this.#ea=e,this.#na=t,this.#ta=1e3*t}get remaining(){const e=this.#ia?Date.now()-this.#ia:0;return Math.max(0,(this.#ta-e)/1e3)}get isPaused(){return!this.#aa}pause=()=>{this.#aa&&this.#ia&&(clearTimeout(this.#aa),this.#aa=void 0,this.#ta-=Date.now()-this.#ia,this.#ia=void 0)};cancel=()=>{clearTimeout(this.#aa),this.#ra(1e3*this.#na)};resume=()=>{this.#aa||(this.#ia=Date.now(),this.#aa=window.setTimeout((()=>{this.#ra(0),this.#ea()}),this.#ta))};#ra=e=>{this.#ta=e,this.#ia=void 0,this.#aa=void 0}}var Yr=i(28);const{warn:Zr,info:eo,debug:to}=ot.a.tag("visibility");class io{#n;#oa=new Map;#sa=[];constructor(e){this.#n=e,this.#n.bus.on(ei.a.renderedImp,(e=>{Ra(e.renderable.content.bidResponse)&&"https://cdn.hubvisor.io/wrapper/common/player.js"===e.renderable.content.bidResponse.prebid.renderer?.url?this.#sa.push(e.renderable):this.#da(e)})),this.#n.bus.on(ei.a.refresh,this.#ie),en.a.on("outstream-imp",this.#la)}#ca=()=>{this.#oa.forEach((e=>{e.inView&&"visible"===document.visibilityState?e.timer.resume():e.timer.pause()}))};#pa=(0,gt.a)((()=>{document.addEventListener("visibilitychange",this.#ca)}));#ua=(e,t)=>{for(const i of t){const t=this.#oa.get(i.target);t&&(t.inView=i.intersectionRatio>=e,t.inView?t.timer.resume():t.timer.pause())}};#ma=(0,gt.a)((()=>new IntersectionObserver((e=>{this.#ua(.5,e)}),{threshold:[0,.5,1]})));#ba=(0,gt.a)((()=>new IntersectionObserver((e=>{this.#ua(.5,e)}),{threshold:[0,.5,1]})));#fa=(e,t)=>{if(t){const e=document.querySelector(t);if(e)return e}return document.getElementById(e.placementId)??void 0};#ga=async({doc:e,frameElement:t},i)=>{const a=i.content.bidResponse,n=this.#n.globalSettings.bidderAliases;if(a.displayFormat===_a.a.skin){const e=n[a.bidder]===vt.a.Sublime||a.bidder===vt.a.Sublime?"ayads-html":"hbv-custom-render",t=await(0,Yr.b)((0,Yr.a)({interval:.1,maxTryCount:10}),(()=>document.getElementById(e)??void 0));if(t)return t}if(a.displayFormat===_a.a.outstream){let e;if(Ra(a)&&"https://cdn.hubvisor.io/wrapper/common/player.js"===a.prebid.renderer?.url){const e=i.placement.rendering?.outstream?.selector,t=await(0,Yr.b)((0,Yr.a)({interval:.1,maxTryCount:10}),(()=>{if(e){const t=document.querySelector(`${e} .hbv-player`);if(t)return t}return document.querySelector(`#${a.placementId} .hbv-player`)??void 0}))??this.#fa(a,e);if(t)return t}else{const t=(0,Xn.isAmazonBidResponse)(a)?a.amazon.slotID:a.placementId;e=await(0,Yr.b)((0,Yr.a)({interval:.1,maxTryCount:10}),(()=>document.getElementById(t)??void 0))}if(e)return e}if(n[a.bidder]===vt.a.ogury||a.bidder===vt.a.ogury){const e=await(0,Yr.b)((0,Yr.a)({interval:.1,maxTryCount:10}),(()=>document.querySelector('div[id^="ogy-root-container"]')??void 0));if(e)return e}const r=t??e?.defaultView?.frameElement,o=e?.querySelector(".hbv-sandbox");return o?await(0,Yr.b)((0,Yr.a)({interval:.1,maxTryCount:300}),(()=>e?.querySelector(".hbv-ready")??void 0))?r?.parentElement??void 0:void 0:r?.parentElement??void 0};#ya=e=>e.content.bidResponse.displayFormat===_a.a.outstream?{duration:2,intersectionObserver:this.#ba()}:{duration:1,intersectionObserver:this.#ma()};#ha=(e,t,i)=>{this.#pa(),this.#oa.set(e,{inView:!1,timer:new Qr((()=>{eo(`Impression visible for ${t.duration}s for placement ${i.placement.placementId}`,e),this.#n.bus.emit(ei.a.visibleImp,{renderable:i,timestamp:Date.now()});const a=this.#oa.get(e);a&&this.#_a(a)}),t.duration),params:t,renderable:i,element:e}),t.intersectionObserver.observe(e),this.#va().observe(e.parentElement,{childList:!0}),eo(`Measuring visibility for placement ${i.placement.placementId}`,e),this.#n.bus.emit(ei.a.measuredImp,{renderable:i,timestamp:Date.now()})};#da=async({doc:e,frameElement:t,renderable:i})=>{const a=await this.#ga({doc:e,frameElement:t},i);if(!a)return Zr(`couldn't measure visibility for ${i.placement.placementId}`);const n=this.#oa.get(a);n&&(to(`Resetting visibility state for ${i.placement.placementId}`),this.#_a(n));const r=this.#ya(i);this.#ha(a,r,i)};#la=async({adId:e,kind:t})=>{if("video-imp"!==t)return;const i=this.#sa.find((t=>t.content.bidResponse.bidId===e));if(!i)return Zr(`couldn't retrieve renderable for video-imp ${e}`);this.#da({renderable:i})};#ie=e=>{e.refreshConfig.refreshReason===Mt.b.pageView&&(this.#oa.forEach(this.#_a),this.#oa.clear())};#_a=e=>{to(`Disposing visibility listener for ${e.renderable.placement.placementId}`),this.#oa.delete(e.element),e.params.intersectionObserver.unobserve(e.element)};#va=(0,gt.a)((()=>new MutationObserver((e=>{for(const{removedNodes:t}of e)for(const e of t)if((0,Ua.f)(e)){const t=this.#oa.get(e);t&&this.#_a(t)}}))))}const{warn:ao,info:no}=ot.a.tag("hubvisor"),ro=(0,gt.a)((({options:e,refresh:t})=>{no(`Hubvisor ${Zt.g} (${Zt.a}) started`);const i=new _r.TinyEmitter,a=new ft(e),n={bus:i,globalSettings:a},r=new hr(n),o={bus:i,settings:a,prebid:new Pa(n),renderer:new ir(n),bidder:new cr(n),renderList:new fr(n),errorHandler:r,beam:new Jr(n),visibility:new io(n)};return((e,t)=>{Rr(t),Qn.b("ready",(e=>e)),Qn.b("refresh",Ar),Qn.b("adServerRender",(({document:t,adId:i,pgAdId:a,context:n})=>{e.renderer.adServerCallback(t,i,a,n)})),Qn.b("autorefresh:exclude-placements",Nr),Qn.b("autorefresh:unexclude-placements",Ur),vr.adServerRender=(e,t,i)=>{ao("DEPRECATED: \"Hubvisor('adServerRender', { document: doc, adId, context })\" is the new way of performing this action"),Qn.a("adServerRender",{document:e,adId:t,context:i})}})(o,t),wr(),(e=>{e.settings.amazon?.pubId&&nt.then((()=>{}))})(o),o}));var oo=i(61),so=i(70);const lo=[],co=(0,di.a)((async()=>{const e=new Set(lo.map((e=>e.getSlotElementId())));lo.length=0,await Wo(Mt.b.secondChance,e),(0,oo.b)((t=>t.pubads().refresh([...e])))}),.5),po=e=>{lo.push(e),(0,so.c)("slot refreshed:",e.getSlotElementId()),co()},uo=(0,gt.a)((e=>{(0,oo.b)((t=>{t.pubads().addEventListener("slotRenderEnded",(t=>{if(t.isEmpty){if(!(0,so.d)(e,t.slot))return;const[i]=t.slot.getTargeting(so.e);if("boolean"===e.mode)"true"!==i&&(t.slot.setTargeting(so.e,"true"),po(t.slot));else{const a=Number(i);isNaN(a)?(t.slot.setTargeting(so.e,"0"),po(t.slot)):a+1<e.maxCount&&(t.slot.setTargeting(so.e,`${a+1}`),po(t.slot))}}}))}))})),mo=new hn.a;(()=>{const e=e=>{mo.dispatch("ad",e)};(0,oo.c)((t=>{t.events.on("ad",e)}))})();const bo=(e,t)=>{const i={},a=[];for(const n of e)try{const e=n.data.timestamp,{formats:a,siteId:r,pageId:o,target:s}=n.data.ad;for(const{tagId:n,id:d}of a){if(!t.has(n)&&!t.has(`${d}`))continue;const a=i[n];(!a||a.timestamp<e)&&(i[n]={timestamp:e,siteId:r,pageId:`${o}`,formatId:`${d}`,target:s,tagId:n})}}catch(e){a.push(e)}if(a.length>0)throw new Error(`Failed to retrieve Smart's events history: ${a.join(", ")}`);return Object.values(i).filter(Et.i)},fo=e=>Object.entries(e).reduce(((e,[t,i])=>{if((0,Et.j)(i))return e;const a=(0,Bt.a)(i);if(0===a.length)return e.push(t),e;for(const i of a)if(""===i)e.push(t);else{const a=`${i}`.replace(/ /g,"_");e.push(`${t}=${a}`)}return e}),[]).join(";"),go=e=>{const t=fo(e.strings),i=fo(e.numbers),a=[t];return i.length>0&&a.push(i),a.join("|")},yo=e=>{const[t={},i={}]=e.split("|").map((e=>(e??"").split(";").reduce(((e,t)=>{const[i,a]=t.split("=");return i&&(e[i]||(e[i]=[]),(0,Et.i)(a)&&e[i]?.push(a)),e}),{})));return{strings:t,numbers:i}},ho=[],_o=(0,di.a)((async()=>{const e=[...ho],t=new Set(ho.map((([{formatId:e}])=>e)));ho.length=0,await Wo(Mt.b.secondChance,t),(0,oo.c)((t=>{for(const[{siteId:i,pageId:a,formatId:n},r]of e)t.clean(n),t.call("std",{siteId:i,pageId:parseInt(a,10),formatId:n,target:go(r)})}))}),.5),vo=(e,t)=>{ho.push([e,t]),(0,so.c)("formatId refreshed:",e.formatId),_o()},Io=e=>{for(const t of Object.keys(e.strings).filter((e=>/^hbv?_/.test(e))))delete e.strings[t];for(const t of Object.keys(e.numbers).filter((e=>/^hbv?_/.test(e))))delete e.numbers[t]},wo=(0,gt.a)((e=>{e.enabled&&!Jn.a&&((0,so.c)(`setup started (${e.adserver})`),"dfp"!==e.adserver&&"both"!==e.adserver||uo(e),"smart"!==e.adserver&&"both"!==e.adserver||(e=>{mo.on("noad",(async t=>{const i=[];if(!(0,so.d)(e,t.tagId))return;try{const e=window.sas?.events.history("call")??[],a=new Set([t.tagId]);i.push(...bo(e,a))}catch(e){return(0,so.b)("Error related to sas events history usage: aborting",e)}(0,so.a)("lastCalls:",i);const a=i[0];if(!a)return(0,so.f)("couldn't match elements to update with calls history");const n=yo(a.target);if("boolean"===e.mode){const e=n.strings[so.e]?.[0];"true"!==e&&(Io(n),n.strings[so.e]="true",vo(a,n))}else{const t=parseInt(`${n.numbers[so.e]?.[0]}`,10);Io(n),isNaN(t)?(n.numbers[so.e]="0",vo(a,n)):t+1<e.maxCount&&(n.numbers[so.e]=`${t+1}`,vo(a,n))}}))})(e))}));var To=i(27);const{debug:xo}=ot.a.tag("intrastitial");new To.a(!0),(0,gt.a)((()=>{}));const Do=(e,t=new Map)=>{if(!(0,Et.m)(e)&&!(0,Et.c)(e))return e;const i=t.get(e);if(!(0,Et.r)(i))return i;const a=(e=>{switch(e.constructor){case String:return new String(e);case Number:return new Number(e);case Boolean:return new Boolean(+e);case Date:return new Date(+e);case RegExp:return new RegExp(e.source,/\w*$/.exec(e));case Array:return[];case Set:return new Set;case Map:return new Map;case Object:return{};default:throw new Error(`unsupported type to clone: ${e.constructor}`)}})(e);return t.set(e,a),((e,t,i)=>{switch(t.constructor){case Array:t.forEach((t=>e.push(i(t))));break;case Set:t.forEach((t=>e.add(i(t))));break;case Map:t.forEach(((t,a)=>e.set(a,i(t))));break;case Object:Object.entries(t).forEach((([t,a])=>{e[t]=i(a)}))}})(a,e,(e=>Do(e,t))),a},So=Do;var Co=i(97);const Eo=e=>e.toLowerCase().replace(/ /g,"").replace(/_/g,"-"),Ro=e=>{if(!wt.remoteConfiguration.currentValue?.publisherConfiguration?.cleanr?.callRates)return;if(!(({placement:e,carbonFilterSettings:t,refreshOptions:i})=>{if(!t){const t=wt.remoteConfiguration?.currentValue?.publisherConfiguration?.cleanr?.configs;return!!t&&!t.every((({placementIds:t,enabled:i,customTargeting:a})=>!i||t&&!t.includes(e.placementId)||!qt(a)))}return!!t.enabled&&(!t.allowedContexts||t.allowedContexts.some((t=>!(t.supports&&!t.supports.includes(i.context.supportCode)||t.placements&&!t.placements.includes(e.placementId)||t.devices&&!t.devices.includes(It.b)))))})(e))return;const{placement:t,refreshOptions:i}=e,{contextDimensions:a,dimensionValues:n,rates:r}=wt.remoteConfiguration.currentValue.publisherConfiguration.cleanr.callRates,o=((e,t,i,a)=>{const{context:n}=t,r=(new Date).getUTCHours(),o=Eo(n.supportCode),s=Eo(It.b),d=Eo(Rt.currentValue?.ua?.os?.name??""),l=Eo(Rt.currentValue?.ua?.browser?.name?.toLowerCase()??""),c=(0,Ot.a)()?(0,Ot.b)()?"consentless":"consent":"consentless",p=Eo(e.placementId),u="page-view"!==t.refreshReason?"true":"false",m={hourOfDay:()=>r,consent:()=>a.consent?.indexOf(c),uaDevice:()=>a.uaDevice?.indexOf(s),uaDeviceOs:()=>a.uaDeviceOs?.indexOf(d),isRefresh:()=>a.isRefresh?.indexOf(u),uaBrowser:()=>a.uaBrowser?.indexOf(l),placementId:()=>a.placementId?.indexOf(p),support:()=>a.support?.indexOf(o)};return i.map((e=>{const t=m[e];return t?t():"-1"})).join("/")})(t,i,a,n);return r[o]},Ao=(e,t,i)=>{const a=t[i.indexOf(e.bidder)];if(!a||0===a)return!0;const n=a/100;return(0,Co.a)({value:!0,weight:n},{value:!1,weight:1-n})},ko=e=>Object.entries(e).flatMap((([e,t])=>t?[e]:[])),Oo=e=>{try{return new RegExp(e).test(location.href)}catch{return!1}},Mo=({priceFloor:e,currency:t="USD"})=>"USD"!==t&&e?e/(wt.remoteConfiguration.currentValue?.currencies.rates.USD?.[t]??1):e,Bo=e=>{const{pageZones:t,layouts:i,placementIds:a,supportCodes:n,isConsentless:r,urlMatching:o,allowedDisplayFormats:s,allowedSizes:d,allowedCustomFormats:l,viewability:c,countries:p,customTargeting:u}=e;return e.conditions&&0!==e.conditions.length?e:{...e,conditions:[{pageZones:t,layouts:i,placementIds:a,supportCodes:n,isConsentless:r,urlMatching:o,allowedDisplayFormats:s,allowedSizes:d,allowedCustomFormats:l,viewability:c,countries:p,customTargeting:u}]}},Po=(e,t)=>e.conditions.reduce(((e,i)=>{var a,n;return((e,t)=>!Pt(e.placementIds)||(0,Bt.a)(e.placementIds).includes(t.placementId))(i,t)&&(a=i,n=t.bidRequest.mediaTypes.banner?.sizes,!a.allowedSizes||a.allowedSizes.some((e=>{const[t,i]=e.split("x");return n?.some((([e,a])=>e===Number(t)&&a===Number(i)))})))&&((e,t)=>!e.allowedCustomFormats||e.allowedCustomFormats.some((e=>e===t)))(i,t.rendering?.outstream?.hbvFormat)&&e.push(i),e}),[]),No=(e,t)=>{const i=(0,Et.r)(e)?1:"btf"===e?2:3;return((0,Et.r)(t)?1:"btf"===t?2:3)-i},Uo=(e,t)=>{if(!e.viewability)return[e];if(!t.position||(0,Et.q)(t.position))return No(e.viewability,t.position)>=0?[e]:[];let i=e.allowedDisplayFormats??[_a.a.instream,_a.a.outstream,_a.a.banner,_a.a.native,_a.a.skin];const a=i.length;return No(e.viewability,t.position?.banner)<0&&(i=i.filter((e=>e!==_a.a.banner&&e!==_a.a.native&&e!==_a.a.skin))),No(e.viewability,t.position?.video)<0&&(i=i.filter((e=>!(e===_a.a.instream||e===_a.a.outstream)))),i.length===a?[e]:i.length>0?(e.allowedDisplayFormats=i,[e]):[]},qo=e=>{const t=new Set;for(const i of e.conditions)i.allowedDisplayFormats?.forEach((e=>t.add(e)));return t.size?[...t]:void 0},jo=e=>{const t=e.find((e=>!Pt(e.mediaTypes)||(0,Bt.a)(e.mediaTypes).includes("video"))),i=e.find((e=>!Pt(e.mediaTypes)||(0,Bt.a)(e.mediaTypes).includes("banner")));return{banner:i?.fold,video:t?.fold}},zo=(e,t,i)=>{for(const a of t){if(!Pt(a.displayFormats))return!1;const t=(0,Bt.a)(a.displayFormats);if(e.overrideMediaTypes){const i=ko(e.overrideMediaTypes);if(t.some((e=>i.includes(e))))for(const[i,a]of Object.entries(e.overrideMediaTypes))a&&t.includes(i)&&delete e.overrideMediaTypes[i]}else if(e.allowedMediaTypes)e.allowedMediaTypes=e.allowedMediaTypes.filter((e=>!t.includes(e)));else if(t.some((e=>i.includes(e)))){const a=i.reduce(((e,i)=>(t.includes(i)||e.push(i),e)),[]);e.allowedMediaTypes=a}}return!0};var $o=i(78);const{warn:Fo,error:Lo}=ot.a.tag("hubvisor");let Vo,Go;const Wo=async(e,t=new Set)=>{if(!Vo)return Lo("init must be called before refresh");const{bus:i,bidder:a,settings:n}=Vo;e===Mt.b.pageView&&ut.newPageViewId();const r=await(async e=>{try{return await(async e=>{const{consent:t}=e;if(!t.enabled)return lt("consent module was disabled in the configuration! the bidders won't be able to obtain user consent");dt("started turbocmp");const i=await rt.a.updatedValue();if(i?.tcData)((e,t)=>{const i=Object.assign({},t.defaults,e,t.overrides);Me.e.setConsentData(i)})({apiVersion:2,consentString:i.tcData.tcString,vendorData:i.tcData,gdprApplies:i.tcData.gdprApplies,addtlConsent:i.tcData.addtlConsent},t),ct("tcf consent data is ready",i.tcData);else{if(t.shouldSkipAuctionOnConsentFailure)throw new Error("No consent available: auction should be skipped");lt("consent couldn't be retrieved: bidders won't be able to obtain user consent")}if(t.shouldSkipAuctionOnNegativeConsent&&!(0,st.d)(i?.tcData,st.a.storageAccess))throw new Error("No storage purpose available: auction should be skipped")})(e),$o.a.provide(it.getUserIdsAsEids),!0}catch(e){return Fo("Failed retrieving user consent; auction will be aborted",e),!1}})(n),o=await(async(e,t,i)=>{const a=performance.now();Mt.b.pageView;const[n]=await Promise.allSettled([Rt.updatedValue(),wt.remoteConfiguration.updatedValue()]),r="fulfilled"===n.status?n.value:void 0;Wt();const o=await e.buildRefreshOptions({clientCtx:r,refreshReason:t,requestedPlacements:i});(0,xt.b)("bidder-timeout")&&(o.bidderTimeout=(0,xt.b)("bidder-timeout"));const s=(e=>{if(!Vo)return Lo("init must be called before the placement customization"),[];const{bus:t,settings:i}=Vo;return(e=>{const{placements:t,refreshOptions:i,bus:a,carbonFilterSettings:n}=e,{context:r}=i,o=wt.remoteConfiguration.currentValue?.publisherConfiguration?.bidders?.filter((e=>((e,t)=>e.disabled&&(!Pt(e.pageZones)||(0,Bt.a)(e.pageZones).includes(t.pageZone))&&(!Pt(e.layouts)||(0,Bt.a)(e.layouts).includes(t.layout))&&(!Pt(e.supportCodes)||(0,Bt.a)(e.supportCodes).includes(t.supportCode))&&((0,Et.j)(e.isConsentless)||e.isConsentless===(0,Ot.b)())&&((0,Et.j)(e.devices)||(0,Bt.a)(e.devices).includes(It.b))&&(Zt.d||!1===e.enabledBehindFlag)&&Nt(e))(e,r)))??[],s=wt.remoteConfiguration.currentValue?.publisherConfiguration?.deals?.map(Bo).reduce(((e,t)=>{const i=((e,t)=>e.conditions.filter((i=>(!Pt(i.pageZones)||(0,Bt.a)(i.pageZones).includes(t.pageZone))&&(!Pt(i.layouts)||(0,Bt.a)(i.layouts).includes(t.layout))&&(!Pt(i.supportCodes)||(0,Bt.a)(i.supportCodes).includes(t.supportCode))&&((0,Et.j)(i.isConsentless)||i.isConsentless===(0,Ot.b)())&&(!Pt(i.urlMatching)||(0,Bt.a)(i.urlMatching).every(Oo))&&qt(e.customTargeting)&&Nt(i))))(t,r);return i&&i.length>0&&e.push({...t,conditions:i}),e}),[])??[],d=wt.remoteConfiguration.currentValue?.publisherConfiguration?.folds?.filter((e=>((e,t)=>(!Pt(e.pageZones)||(0,Bt.a)(e.pageZones).includes(t.pageZone))&&(!Pt(e.devices)||(0,Bt.a)(e.devices).includes(t.layout))&&(!Pt(e.supportCodes)||(0,Bt.a)(e.supportCodes).includes(t.supportCode)))(e,r)))??[];if(0===o.length&&0===s.length&&0===d.length&&!wt.remoteConfiguration?.currentValue?.publisherConfiguration?.cleanr?.callRates)return t;const l=So(t);for(const e of l){const t=o.filter((t=>!Pt(t.placementIds)||(0,Bt.a)(t.placementIds).includes(e.placementId))),r=Ro({placement:e,carbonFilterSettings:n,refreshOptions:i}),l=s.reduce(((t,i)=>{const a=Po(i,e);return a&&a.length>0&&t.push({...i,conditions:a}),t}),[]),c=d.filter((t=>!Pt(t.placementIds)||(0,Bt.a)(t.placementIds).includes(e.placementId)));if(e.position||(e.position=jo(c)),l.length>0){const t=l.reduce(((t,i)=>(i.conditions=i.conditions?.flatMap((t=>Uo(t,e))),i.conditions&&i.conditions.length>0&&t.push(i),t)),[]);t.length>0&&(e.bidRequest.deals=[...e.bidRequest.deals??[],...t.map((e=>({name:e.name,priceFloor:Mo(e),allowedDisplayFormats:qo(e)})))])}if(0===t.length&&!r)continue;const p=ko(e.bidRequest.mediaTypes),u=wt.remoteConfiguration?.currentValue?.publisherConfiguration?.cleanr?.callRates?.bidders;e.bidRequest.bids=e.bidRequest.bids.filter((i=>{const n=t.filter((e=>!Pt(e.bidders)||(0,Bt.a)(e.bidders).includes(i.bidder)));if(!1===(0===n.length||zo(i,n,p)))return!1;if(!r||!u)return!0;const o=Ao(i,r,u);return!1===o&&a.emit(ei.a.carbonFilteredBid,{connector:i.bidder,placementId:e.placementId}),o}))}return l})({placements:e.placements.filter((e=>"intrastitial"!==e.rendering?.format)),refreshOptions:e,bus:t,carbonFilterSettings:i.carbonFilter})})(o);((e,t,i)=>{for(const a of i){const{bidRequest:i}=a;if(i.ortb2Imp?.ext?.gpid)continue;const n=`${t}-${e.supportCode}-${e.layout}-${e.pageZone}-${a.placementId}`;i.ortb2Imp={...i.ortb2Imp,ext:{...i.ortb2Imp?.ext,gpid:n}}}})(o.context,e.publisherId,s);const d=o.bidderTimeout??e.bidderTimeout,l=new Mt.a({...o,placements:s,bidderTimeout:d});return Wn.config(performance.now()-a),l})(n,e,t),s=(0,pt.b)(),d=new Promise((e=>{const t=a=>{a.auctionIds.has(s)&&(e(),i.off(ei.a.renderRequested,t))};i.on(ei.a.renderRequested,t)}));return a.start({refreshConfig:o,shouldContinueAuction:r,auctionId:s}),d},Ho=new Map;function Ko(e){const t={};function i(e){const i=JSON.stringify([e.source?.toLowerCase(),e.ext]);t.hasOwnProperty(i)?t[i].uids.push(...e.uids):t[i]=e}return Object.entries(e).forEach((([e,t])=>{t=Array.isArray(t)?t:[t],("pubProvidedId"===e?(0,n.n)(t):t.map((t=>function(e,t){const i=Ho.get(t);if(i&&e){let t={};t.source=(0,n.U)(i.getSource)?i.getSource(e):i.source;const a=(0,n.U)(i.getValue)?i.getValue(e):e;if((0,n._)(a)){const r={id:a,atype:i.atype};if((0,n.U)(i.getUidExt)){const t=i.getUidExt(e);t&&(r.ext=t)}if(t.uids=[r],(0,n.U)(i.getEidExt)){const a=i.getEidExt(e);a&&(t.ext=a)}return t}}return null}(t,e)))).filter((e=>null!=e)).forEach(i)})),Object.values(t)}const Xo=(0,A.b)("sync",(()=>{})),Jo="User ID",Qo=se.a,Yo=se.b,Zo="_pbjs_id_optout",es=(0,se.c)("userId"),ts={isAllowed:Ie.a};let is,as,ns,rs,os,ss=!1,ds=[],ls=[],cs={},ps=[];const us=(()=>{let e;return()=>(null==e&&(e=(0,le.a)()),e)})();function ms(e){return us().fork().renameWith((t=>[`userId.mod.${t}`,`userId.mods.${e}.${t}`]))}function bs(e,t){t=t||e.storageMgr;const i="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,a=e.config.storage.name;return function(e,n,r){t.setCookie(a+(e||""),n,r,"Lax",i)}}function fs(e,t){const i=e.config.storage,a=e.storageMgr;try{const r=new Date(Date.now()+864e5*i.expires).toUTCString(),o=(0,n.Y)(t)?JSON.stringify(t):t;if(i.type===Qo){const t=bs(e);t(null,o,r),t("_cst",Ms(),r),"number"==typeof i.refreshInSeconds&&t("_last",(new Date).toUTCString(),r)}else i.type===Yo&&(a.setDataInLocalStorage(`${i.name}_exp`,r),a.setDataInLocalStorage(`${i.name}_cst`,Ms()),a.setDataInLocalStorage(i.name,encodeURIComponent(o)),"number"==typeof i.refreshInSeconds&&a.setDataInLocalStorage(`${i.name}_last`,(new Date).toUTCString()))}catch(e){(0,n.ab)(e)}}function gs(e,t){const i=e.storageMgr,a=e.config.storage,r=t?`${a.name}_${t}`:a.name;let o;try{if(a.type===Qo)o=i.getCookie(r);else if(a.type===Yo){const e=i.getDataFromLocalStorage(`${a.name}_exp`);""===e?o=i.getDataFromLocalStorage(r):e&&new Date(e).getTime()-Date.now()>0&&(o=decodeURIComponent(i.getDataFromLocalStorage(r)))}"string"==typeof o&&"{"===o.trim().charAt(0)&&(o=JSON.parse(o))}catch(e){(0,n.ab)(e)}return o}function ys(e,t,i){t=us().fork().startTiming("userId.callbacks.total").stopBefore(t);const a=(0,n.p)((()=>{clearTimeout(void 0),t()}),e.length);e.forEach((function(e){const t=ms(e.submodule.name).startTiming("callback").stopBefore(a);try{e.callback((function(a){a?(e.config.storage&&fs(e,a),e.idObj=e.submodule.decode(a,e.config),Bs(hs(i))):(0,n.bb)(`${Jo}: ${e.submodule.name} - request id responded with an empty value`),t()}),gs.bind(null,e))}catch(i){(0,n.ab)(`Error in userID module '${e.submodule.name}':`,i),t()}e.callback=void 0}))}function hs(e){return Array.isArray(e)&&e.length?vs(e):{}}function _s(e,t,i){return Object.fromEntries(Object.entries(e.reduce(((e,a)=>{const r=t(a);return r&&Object.keys(r).forEach((t=>{const o=cs[t]?.indexOf(i(a)),s={priority:(0,n.X)(o)?o:-1,value:r[t]};if(e[t]){const i=s.priority>e[t].priority?s:e[t];e[t]=i}else e[t]=s})),e}),{})).map((([e,t])=>[e,t.value])))}function vs(e){return _s(e.filter((e=>(0,n.Y)(e.idObj)&&Object.keys(e.idObj).length)),(e=>e.idObj),(e=>e.submodule.name))}const Is={};let ws;function Ts(e=Ss()||[]){const t=rs&&e.find((e=>e.source===rs));if(t&&"string"==typeof(0,r.a)(t,"uids.0.id")){const e=t.uids[0].id.replace(/[\W_]/g,"");if(e.length>=32&&e.length<=150)return e;(0,n.db)(`User ID - Googletag Publisher Provided ID for ${rs} is not between 32 and 150 characters - ${e}`)}}const xs=(0,le.b)("userId",(function(e,t,{delay:i=ee.a.timeout,getIds:r=Os}={}){ee.a.race([r().catch((()=>null)),i(ns)]).then((()=>{(function(e,t){[e].some((e=>!Array.isArray(e)||!e.length))||e.forEach((e=>{e.bids&&(0,n.Q)(e.bids)&&e.bids.forEach((e=>{const i=function(e,t){return Array.isArray(e)&&e.length&&t?vs(e.filter((e=>!e.config.bidders||!(0,n.Q)(e.config.bidders)||(0,p.c)(e.config.bidders,t)))):{}}(t,e.bidder);Object.keys(i).length&&(e.userId=i,e.userIdAsEids=Ko(i))}))}))})(t.adUnits||(0,a.a)().adUnits,is),us().join((0,le.d)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(this,t)}))}));function Ds(){return hs(is)}function Ss(){return Ko(Ds())}function Cs(e){return Ko(function(e,t){if(!Array.isArray(e)||!e.length)return{};const i=vs(e),a=Object.keys(i).find((e=>{const i=Ho.get(e);return i?.source===t||(0,n.U)(i?.getSource)&&i.getSource()===t}));return a?{[a]:i[a]}:[]}(is,e))[0]}function Es(e,t,i){return ws().then((()=>{let a={};if((0,n.U)(i)){(0,n.bb)(`${Jo} - Getting encrypted signal from custom function : ${i.name} & source : ${e} `);const t=i(e);a[e]=t?Rs(t):null}else{const i=Cs(e);(0,n.bb)(`${Jo} - Getting encrypted signal for eids :${JSON.stringify(i)}`),(0,n.T)(i)||(a[i.source]=!0===t?Rs(i):i.uids[0].id)}return(0,n.bb)(`${Jo} - Fetching encrypted eids: ${a[e]}`),a[e]}))}function Rs(e,t=1){let i="";return 1===t&&(i="object"==typeof e?window.btoa(JSON.stringify(e)):window.btoa(e)),`${t}||${i}`}function As(){if(!(0,n.V)())return;window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];const e=u.config.getConfig("userSync.encryptedSignalSources");if(e){const t=e.registerDelay||0;setTimeout((()=>{e.sources&&e.sources.forEach((({source:e,encrypt:t,customFunc:i})=>{e.forEach((e=>{window.googletag.secureSignalProviders.push({id:e,collectorFunction:()=>Es(e,t,i)})}))}))}),t)}else(0,n.db)(`${Jo} - ESP : encryptedSignalSources config not defined under userSync Object`)}function ks({submoduleNames:e}={},t){return ws({refresh:!0,submoduleNames:e}).then((()=>(t&&(0,n.U)(t)&&t(),Ds())))}function Os(){return ws().then((()=>Ds()),(e=>e===Is?Promise.resolve().then(Os):((0,n.ab)("Error initializing userId",e),ee.a.reject(e))))}function Ms(){let e=Number(Me.d.hash);const t=[];for(;e>0;)t.push(String.fromCharCode(255&e)),e>>>=8;return btoa(t.join())}function Bs(e=Ds()){if(e&&rs){const t=Ts(Ko(e));t&&((0,n.V)()?window.googletag.pubads().setPublisherProvidedId(t):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(t)}))))}}function Ps(e,t,i=!1){return us().fork().measureTime("userId.init.modules",(function(){if(!t.length)return[];if(!(t=t.filter((e=>(!e.config.storage||function(e){switch(e.config?.storage?.type){case Yo:if(e.storageMgr.localStorageIsEnabled())return!es.getDataFromLocalStorage(Zo)||((0,n.bb)(`${Jo} - opt-out localStorage found, storage disabled`),!1);break;case Qo:if(e.storageMgr.cookiesAreEnabled())return!es.getCookie(Zo)||((0,n.bb)(`${Jo} - opt-out cookie found, storage disabled`),!1)}return!1}(e))&&ts.isAllowed(Te.b,(0,we.a)(xe.e,e.config.name))))).length)return(0,n.db)(`${Jo} - no ID module configured`),[];const a=t.reduce(((e,a)=>ms(a.submodule.name).measureTime("init",(()=>{try{(function(e,t,i){const a=Me.e.getConsentData();if(e.config.storage){let i,r=gs(e),o=!1;if("number"==typeof e.config.storage.refreshInSeconds){const t=new Date(gs(e,"last"));o=t&&Date.now()-t.getTime()>1e3*e.config.storage.refreshInSeconds}!r||o||t||function(e){const t=gs(e,"cst");return!t||t!==Ms()}(e)?i=e.submodule.getId(e.config,a,r):"function"==typeof e.submodule.extendId&&(i=e.submodule.extendId(e.config,a,r)),(0,n.Y)(i)&&(i.id&&(fs(e,i.id),r=i.id),"function"==typeof i.callback&&(e.callback=i.callback)),r&&(e.idObj=e.submodule.decode(r,e.config))}else if(e.config.value)e.idObj=e.config.value;else{const t=e.submodule.getId(e.config,a,void 0);(0,n.Y)(t)&&("function"==typeof t.callback&&(e.callback=t.callback),t.id&&(e.idObj=e.submodule.decode(t.id,e.config)))}Bs(hs(i))})(a,i,t),e.push(a)}catch(e){(0,n.ab)(`Error in userID module '${a.submodule.name}':`,e)}return e}))),[]);return a.length&&function(e){let t=(0,n.A)().setEidPermissions;"function"==typeof t&&(0,n.Q)(e)&&t(function(e){let t=[];return e.filter((e=>(0,n.Y)(e.idObj)&&Object.keys(e.idObj).length)).forEach((e=>{Object.keys(e.idObj).forEach((i=>{const a=Ho.get(i)||{};(0,r.a)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&a.source&&t.push({source:a.source,bidders:e.config.bidders})}))})),t}(e))}(a),a.forEach(Ns.bind(null,e)),a}))}function Ns(e,t){let i=!1;for(let a=0;a<e.length;a++)if(t.config.name.toLowerCase()===e[a].config.name.toLowerCase()){i=!0,e[a]=t;break}i||e.push(t)}const Us=new Set([Yo,Qo]);function qs(){!function(e){Ho.clear(),Object.entries(_s(e,(e=>e.eids),(e=>e.name))).forEach((([e,t])=>Ho.set(e,t)))}(ps);const e=function(e){return Array.isArray(e)?e.reduce(((e,t)=>(!t||(0,n.S)(t.name)||(t.storage&&!(0,n.S)(t.storage.type)&&!(0,n.S)(t.storage.name)&&Us.has(t.storage.type)||(0,n.Y)(t.value)?e.push(t):t.storage||t.value||e.push(t)),e)),[]):[]}(ls);if(!e.length)return;const t=ps.filter((e=>!(0,p.b)(ds,(t=>t.name===e.name))));ds.splice(0,ds.length),t.map((t=>{const i=(0,p.b)(e,(e=>e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())));return i&&t.name!==i.name&&(i.name=t.name),t.findRootDomain=ue,i?{submodule:t,config:i,callback:void 0,idObj:void 0,storageMgr:(0,se.d)({moduleType:xe.e,moduleName:i.name})}:null})).filter((e=>null!==e)).forEach((e=>ds.push(e))),!ss&&ds.length&&((0,a.a)().requestBids.before(xs,40),de.a.callDataDeletionRequest.before(js),Xo.after((e=>e(Ts()))),(0,n.bb)(`${Jo} - usersync config updated for ${ds.length} submodules: `,ds.map((e=>e.submodule.name))),ss=!0)}function js(e,...t){(0,n.bb)("UserID: received data deletion request; deleting all stored IDs..."),ds.forEach((e=>{if("function"==typeof e.submodule.onDataDeletionRequest)try{e.submodule.onDataDeletionRequest(e.config,e.idObj,...t)}catch(t){(0,n.ab)(`Error calling onDataDeletionRequest for ID submodule ${e.submodule.name}`,t)}!function(e){let t,i;switch(e.config?.storage?.type){case Qo:const a=bs(e,es),n=new Date(Date.now()-864e5).toUTCString();t=e=>a(e,"",n),i=["","_last","_cst"];break;case Yo:t=t=>es.removeDataFromLocalStorage(e.config.storage.name+t),i=["","_last","_exp","_cst"]}t&&i.forEach((e=>{try{t(e)}catch(e){(0,n.ab)(e)}}))}(e)})),e.apply(this,t)}function zs(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e,{delay:t=ee.a.timeout}={}){rs=void 0,ds=[],ls=[],ss=!1,is=[],ws=function({delay:e=ee.a.timeout}={}){const t=(0,ee.b)(),i=(0,ee.b)();let a,r,o=!1;function d(e){return r=us().fork(),null!=a&&a.reject(Is),a=(0,ee.b)(),ee.a.race([e,a.promise]).finally(r.startTiming("userId.total"))}let c=is,p=ds;function u(e){return function(...t){if(c===is&&p===ds)return e(...t)}}function m(){return Me.d.promise.finally(r.startTiming("userId.init.consent"))}let b=d(ee.a.all([A.d,t.promise]).then(m).then(u((()=>{Ps(c,p)}))).then((()=>i.promise.finally(r.startTiming("userId.callbacks.pending")))).then(u((()=>{const e=c.filter((e=>(0,n.U)(e.callback)));if(e.length)return new ee.a((t=>ys(e,t,c)))}))));return function({refresh:a=!1,submoduleNames:n=null,ready:r=!1}={}){return r&&!o&&(o=!0,t.resolve(),ns>0?i.resolve():s.on(l.EVENTS.AUCTION_END,(function t(){s.off(l.EVENTS.AUCTION_END,t),e(as).then(i.resolve)}))),a&&o&&(b=d(b.catch((()=>null)).then(m).then(u((()=>{const e=Ps(c,p.filter((e=>null==n||n.includes(e.submodule.name))),!0).filter((e=>null!=e.callback));if(e.length)return new ee.a((t=>ys(e,t,c)))}))))),b}}({delay:t}),null!=os&&os(),ps=[],os=e.getConfig("userSync",(e=>{const t=e.userSync;t&&(rs=t.ppid,t.userIds&&(ls=t.userIds,as=(0,n.X)(t.syncDelay)?t.syncDelay:500,ns=(0,n.X)(t.auctionDelay)?t.auctionDelay:0,qs(),function(e,t){if(e){const i={},a=new Map(t.map((e=>e.submodule.aliasName?[e.submodule.aliasName,e.submodule.name]:[])));Object.keys(e).forEach((t=>{const r=(0,n.Q)(e[t])?[...e[t]].reverse():[];i[t]=r.map((e=>a.has(e)?a.get(e):e))})),cs=i}else cs={}}(t.idPriority,ds),ws({ready:!0})))})),(0,a.a)().getUserIds=Ds,(0,a.a)().getUserIdsAsEids=Ss,(0,a.a)().getEncryptedEidsForSource=zs(Es),(0,a.a)().registerSignalSources=As,(0,a.a)().refreshUserIds=zs(ks),(0,a.a)().getUserIdsAsync=zs(Os),(0,a.a)().getUserIdsAsEidBySource=Cs}(u.config),(0,A.c)("userId",(function(e){(0,p.b)(ps,(t=>t.name===e.name))||(ps.push(e),Me.b.register(xe.e,e.name,e.gvlid),qs(),ws({refresh:!0,submoduleNames:[e.name]}))})),(0,$i.i)({type:$i.f,name:"userExtEids",fn:function(e,t,i){const a=(0,r.a)(i,"bidRequests.0.userIdAsEids");a&&Object.keys(a).length>0&&(0,o.a)(e,"user.ext.eids",a)}});const $s={name:"pubProvidedId",gvlid:Me.c,decode(e){const t=e?{pubProvidedId:e}:void 0;return(0,n.bb)("PubProvidedId: Decoded value "+JSON.stringify(t)),t},getId(e){const t=e&&e.params||{};let i=[];return(0,n.Q)(t.eids)&&(i=i.concat(t.eids)),"function"==typeof t.eidsFunction&&(i=i.concat(t.eidsFunction())),{id:i}}};(0,A.e)("userId",$s);const Fs="Invalid schain object found: ",Ls=" should be a string",Vs=" should be an Integer",Gs=" should be an object",Ws={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},Hs=[];(0,n.a)(Ws,(e=>Hs.push(e))),de.a.makeBidRequests.after((function(e,t){const i=u.config.getConfig("schain"),a=u.config.getBidderConfig();t.forEach((e=>{let t=e.bidderCode,r=function(e){return a[e]&&a[e].schain||i}(t);e.bids.forEach((e=>{let i=function(e,t){let i=Ws.STRICT;if(function(e){return!(void 0===e||!(0,n.Y)(e)&&((0,n.ab)(Fs+"the following schain config will not be used as schain is not an object.",e),1))}(e)){if((0,n._)(e.validation)&&-1!=Hs.indexOf(e.validation)&&(i=e.validation),i===Ws.OFF)return e.config;if(function(e,t){let i="Detected something wrong within an schain config:",a="";function r(e){a+="\n"+e}function o(){!0===t?(0,n.ab)(i,e,a):(0,n.db)(i,e,a)}if(!(0,n.Y)(e)&&(r("schain.config"+Gs),o(),t))return!1;if((0,n.X)(e.complete)&&(0,n.W)(e.complete)||r("schain.config.complete"+Vs),(0,n._)(e.ver)||r("schain.config.ver"+Ls),e.hasOwnProperty("ext")&&((0,n.Y)(e.ext)||r("schain.config.ext"+Gs)),(0,n.Q)(e.nodes))e.nodes.forEach(((e,t)=>{(0,n._)(e.asi)||r(`schain.config.nodes[${t}].asi`+Ls),(0,n._)(e.sid)||r(`schain.config.nodes[${t}].sid`+Ls),(0,n.X)(e.hp)&&(0,n.W)(e.hp)||r(`schain.config.nodes[${t}].hp`+Vs),e.hasOwnProperty("rid")&&((0,n._)(e.rid)||r(`schain.config.nodes[${t}].rid`+Ls)),e.hasOwnProperty("name")&&((0,n._)(e.name)||r(`schain.config.nodes[${t}].name`+Ls)),e.hasOwnProperty("domain")&&((0,n._)(e.domain)||r(`schain.config.nodes[${t}].domain`+Ls)),e.hasOwnProperty("ext")&&((0,n.Y)(e.ext)||r(`schain.config.nodes[${t}].ext`+Gs))}));else if(r("schain.config.nodes should be an Array"),o(),t)return!1;return!(a.length>0&&(o(),t))}(e.config,!(i!==Ws.STRICT)))return e.config;(0,n.ab)(Fs+`due to the 'strict' validation setting, this schain config will not be passed to bidder '${t}'.  See above error for details.`)}return null}(r,t);i&&(e.schain=(0,n.n)(i))}))})),e(t)})),(0,$i.i)({type:$i.f,name:"sourceExtSchain",fn:function(e,t,i){if(!(0,r.a)(e,"source.ext.schain")){const t=(0,r.a)(i,"bidRequests.0.schain");t&&(0,o.a)(e,"source.ext.schain",t)}}});const Ks={ajax:zi.b},Xs=Object.values(l.EVENTS).filter((e=>e!==l.EVENTS.AUCTION_DEBUG));var Js=i(91);let Qs,Ys,Zs=[],ed={bids:[],floorDetail:{},pageDetail:{},deviceDetail:{}};var td=Object.assign(function({url:e,analyticsType:t,global:i,handler:a}){const r=[];let o,d,c=!1,p=!0;const u=(()=>{let e,t=!1;const i=()=>{if(!t){t=!0;try{let e=0,t=0;for(;r.length>0;){e++;const i=r.length;if(r.shift()(),r.length>=i?t++:t=0,t>=10)return(0,n.ab)("Detected probable infinite loop, discarding events",r),void(r.length=0)}(0,n.cb)(`${d} analytics: processed ${e} events`)}finally{t=!1}}};return function(){null!=e&&(clearTimeout(e),e=null),e=setTimeout(i,100)}})();return Object.defineProperties({track:function({eventType:t,args:n}){"bundle"===this.getAdapterType()&&window[i](a,t,n),"endpoint"===this.getAdapterType()&&function({eventType:t,args:i,callback:a}){Ks.ajax(e,a,JSON.stringify({eventType:t,args:i}))}(...arguments)},enqueue:m,enableAnalytics:b,disableAnalytics:function(){Object.entries(o||{}).forEach((([e,t])=>{s.off(e,t)})),this.enableAnalytics=this._oldEnable?this._oldEnable:b,c=!1},getAdapterType:()=>t,getGlobal:()=>i,getHandler:()=>a,getUrl:()=>e},{enabled:{get:()=>c}});function m({eventType:e,args:t}){r.push((()=>{this.track({eventType:e,args:t})})),u()}function b(e){d=e?.provider;var t=this;if(p="object"!=typeof e||"object"!=typeof e.options||void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling),p){const i=(()=>{const{includeEvents:t=Xs,excludeEvents:i=[]}=e||{};return new Set(Object.values(l.EVENTS).filter((e=>t.includes(e))).filter((e=>!i.includes(e))))})();s.getEvents().forEach((e=>{if(!e||!i.has(e.eventType))return;const{eventType:a,args:n}=e;m.call(t,{eventType:a,args:n})})),o=Object.fromEntries(Array.from(i).map((e=>{const t=t=>this.enqueue({eventType:e,args:t});return s.on(e,t),[e,t]})))}else(0,n.cb)(`Analytics adapter for "${i}" disabled by sampling`);this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return(0,n.cb)(`Analytics adapter for "${i}" already enabled, unnecessary call to \`enableAnalytics\`.`)},c=!0}}({emptyUrl:"",analyticsType:"endpoint"}),{track({eventType:e,args:t}){if(void 0!==t)if(e===l.EVENTS.BID_TIMEOUT)t.forEach((e=>{id(e,"timeout")}));else if(e===l.EVENTS.AUCTION_INIT){ed.auctionInit=t,ed.floorDetail={},ed.bids=[];const e=(0,r.a)(t,"bidderRequests.0.bids.0.floorData");void 0!==e&&Object.assign(ed.floorDetail,e),Ys=t.timestamp}else e===l.EVENTS.BID_RESPONSE?id(t,"response"):e===l.EVENTS.BID_WON&&ad({winningBid:id(t,"bidwon")},"bidwon");e===l.EVENTS.AUCTION_END&&ad(ed,"auctionEnd")}});function id(e,t){if(void 0!==e){let i={adUnitCode:e.adUnitCode,gptSlotCode:(0,Js.a)(e.adUnitCode).gptSlot||null,auctionId:e.auctionId,bidderCode:e.bidder,cpm:e.cpm,creativeId:e.creativeId,currency:e.currency,floorData:e.floorData,mediaType:e.mediaType,netRevenue:e.netRevenue,requestTimestamp:e.requestTimestamp,responseTimestamp:e.responseTimestamp,status:e.status,statusMessage:e.statusMessage,timeToRespond:e.timeToRespond,transactionId:e.transactionId};if("bidwon"===t)return Object.assign(i,{bidId:e.requestId,floorProvider:ed.floorDetail?.floorProvider||null,floorFetchStatus:ed.floorDetail?.fetchStatus||null,floorLocation:ed.floorDetail?.location||null,floorModelVersion:ed.floorDetail?.modelVersion||null,floorSkipRate:ed.floorDetail?.skipRate||0,isFloorSkipped:ed.floorDetail?.skipped||!1,isWinningBid:!0,placementId:e.params?(0,r.a)(e,"params.0.placementId"):null,renderedSize:e.size,renderStatus:4}),i;Object.assign(i,{bidId:"timeout"===t?e.bidId:e.requestId,renderStatus:"timeout"===t?3:2,sizes:(0,n.jb)(e.size).toString()}),ed.bids.push(i)}}function ad(e,t){if(td.shouldFireEventRequest(Qs.samplingRate)){let i=(0,n.E)();const r=function(){try{return window.top.sessionStorage}catch(e){return null}}();e.initOptions=Qs,e.pageDetail={},Object.assign(e.pageDetail,{host:i.host,path:i.pathname,search:i.search}),void 0!==e&&void 0!==e.auctionInit&&(e.pageDetail.adUnits=e.auctionInit.adUnitCodes,e.initOptions.auctionId=e.auctionInit.auctionId,delete e.auctionInit,e.pmcDetail={},Object.assign(e.pmcDetail,{bidDensity:r?r.getItem("pbx:dpbid"):null,maxBid:r?r.getItem("pbx:mxbid"):null,auctionId:r?r.getItem("pbx:aucid"):null})),e.deviceDetail={},Object.assign(e.deviceDetail,{platform:navigator.platform,deviceType:/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())?"tablet":/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())?"mobile":"desktop",deviceOS:-1!=navigator.userAgent.indexOf("Android")?"Android":-1!=navigator.userAgent.indexOf("like Mac")?"iOS":-1!=navigator.userAgent.indexOf("Win")?"Windows":-1!=navigator.userAgent.indexOf("Mac")?"Macintosh":-1!=navigator.userAgent.indexOf("Linux")?"Linux":-1!=navigator.appVersion.indexOf("X11")?"Unix":"Others",browser:/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||navigator.userAgent.match("CriOS")?"Chrome":/Firefox/.test(navigator.userAgent)?"Firefox":/Edg/.test(navigator.userAgent)?"Microsoft Edge":/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?"Safari":/Trident/.test(navigator.userAgent)||/MSIE/.test(navigator.userAgent)?"Internet Explorer":"Others"});let o=(0,n.e)({protocol:"https",hostname:Qs&&Qs.hostName||"api.pbxai.com",pathname:"bidwon"==t?"/analytics/bidwon":"/analytics/auction",search:{auctionTimestamp:Ys,pubxaiAnalyticsVersion:"v1.2.0",prebidVersion:(0,a.a)().version}});"bidwon"==t?(0,zi.b)(o,void 0,JSON.stringify(e),{method:"POST",contentType:"text/json"}):"auctionEnd"==t&&-1===Zs.indexOf(e.initOptions.auctionId)&&((0,zi.b)(o,void 0,JSON.stringify(e),{method:"POST",contentType:"text/json"}),Zs.push(e.initOptions.auctionId))}}td.shouldFireEventRequest=function(e=1){return Math.floor(Math.random()*e+1)===parseInt(e)},td.originEnableAnalytics=td.enableAnalytics,td.enableAnalytics=function(e){Qs=e.options,td.originEnableAnalytics(e)},de.a.registerAnalyticsAdapter({adapter:td,code:"pubxai"});const nd="USD",rd=/^[a-zA-Z0-9_-]{22}$/,od={SIAB:"siab",INVIEW:"inview",INSTREAM:"instream"},sd=["mimes","minduration","maxduration","placement","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"],dd={uniqueSiteIds:[]},ld="nm";function cd(e){return`${e.params.siteId}:${e.params.productId}`}function pd(e){return`${e.bidId}`}function ud({bidRequests:e,gdprConsent:t={},uspConsent:i,gppConsent:a={},pageUrl:o,referer:s,ttxSettings:d,bidderRequest:l}){const c={},p=e[0],{siteId:m,test:f}=p.params,g=u.config.getConfig("coppa");return c.imp=[],e.forEach((e=>{c.imp.push(function(e){const t=(0,r.a)(e,"ortb2Imp.ext.gpid"),i={id:e.bidId,ext:{ttx:{prod:(0,r.a)(e,"params.productId")},...t?{gpid:t}:{}}};return(0,r.a)(e,"mediaTypes.banner")&&(i.banner={...yd(e)}),(0,r.a)(e,"mediaTypes.video")&&(i.video=function(e){const t={...(0,r.a)(e,"mediaTypes.video",{}),...(0,r.a)(e,"params.video",{})},i={},{w:a,h:n}=bd(t.playerSize[0]);i.w=a,i.h=n,sd.forEach((e=>{t.hasOwnProperty(e)&&(i[e]=t[e])}));const o=gd(e);if(i.placement=i.placement||2,o===od.INSTREAM&&(i.startdelay=i.startdelay||0,i.placement=1),"function"==typeof e.getFloor){const t=hd(e,{w:i.w,h:i.h},b.d);t&&Object.assign(i,{ext:{ttx:{bidfloors:[t]}}})}return i}(e)),i}(e))})),c.site={id:m},c.device=function(e={}){const t=(0,n.F)(),i={ext:{ttx:{...vd(),pxr:t.devicePixelRatio,vp:_d(),ah:t.screen.availHeight,mtp:t.navigator.maxTouchPoints}}};return e.sua&&(i.sua=(0,n.lb)(e.sua,["browsers","platform","model","mobile"])),i}(p.ortb2?.device),o&&(c.site.page=o),s&&(c.site.ref=s),c.id=l?.bidderRequestId,t.consentString&&(c.user=md(c.user,{consent:t.consentString})),Array.isArray(p.userIdAsEids)&&p.userIdAsEids.length>0&&(c.user=md(c.user,{eids:p.userIdAsEids})),c.regs=md(c.regs,{gdpr:Number(t.gdprApplies)}),i&&(c.regs=md(c.regs,{us_privacy:i})),a.gppString&&Object.assign(c.regs,{gpp:a.gppString,gpp_sid:a.applicableSections}),void 0!==g&&(c.regs.coppa=Number(!!g)),c.ext={ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"8.30.0"}]}},p.schain&&(c.source=md(c.source,{schain:p.schain})),1===f&&(c.test=1),{method:"POST",url:d&&d.url||`https://ssc.33across.com/api/v1/hb?guid=${m}`,data:JSON.stringify(c),options:{contentType:"text/plain",withCredentials:!0}}}function md(e={},t){return(0,n.fb)({},e,{ext:t})}function bd(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function fd(e){return(0,n.fb)({},e,{params:{productId:gd(e)}})}function gd(e){const{params:t,mediaTypes:i}=e,{banner:a,video:n}=i;return n&&!a&&"instream"===n.context?od.INSTREAM:t.productId===od.INVIEW?t.productId:od.SIAB}function yd(e){const t=(0,r.a)(e,"mediaTypes.banner",{}),i=(a=e.adUnitCode,document.getElementById(a)||document.getElementById(function(e){if((0,n.V)()){const t=googletag.pubads().getSlots(),i=(0,Js.b)(e);for(let a=0;a<t.length;a++)if(i(t[a])){const i=t[a].getSlotElementId();return(0,n.bb)(`[33Across Adapter] Map ad unit path to HTML element id: '${e}' -> ${i}`),i}}return(0,n.db)(`[33Across Adapter] Unable to locate element for ad unit code: '${e}'`),null}(a)));var a;const o=function(e){return(0,n.Q)(e)&&2===e.length&&!(0,n.Q)(e[0])?[bd(e)]:e.map(bd)}(t.sizes);let s;s="function"==typeof e.getFloor?o.map((t=>{const i=hd(e,t,b.b);let a;return i&&(a={ext:{ttx:{bidfloors:[i]}}}),Object.assign({},t,a)})):o;const d=function(e){return e.reduce(((e,t)=>t.h*t.w<e.h*e.w?t:e))}(o),l=function(e){return!function(){try{return(0,n.F)()!==(0,n.G)()}catch(e){return!0}}()&&null!==e}(i)?function(e,t,{w:i,h:a}={}){return"visible"===t.document.visibilityState?function(e,t,{w:i,h:a}={}){const n=function(e,{w:t,h:i}={}){let{width:a,height:n,left:r,top:o,right:s,bottom:d}=e.getBoundingClientRect();return(0===a||0===n)&&t&&i&&(a=t,n=i,s=r+t,d=o+i),{width:a,height:n,left:r,top:o,right:s,bottom:d}}(e,{w:i,h:a}),r=function(e){const t={left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[0].bottom};for(let i=1;i<e.length;++i){if(t.left=Math.max(t.left,e[i].left),t.right=Math.min(t.right,e[i].right),t.left>=t.right)return null;if(t.top=Math.max(t.top,e[i].top),t.bottom=Math.min(t.bottom,e[i].bottom),t.top>=t.bottom)return null}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}([{left:0,top:0,right:t.innerWidth,bottom:t.innerHeight},n]);let o,s;return null!==r?(o=r.width*r.height,s=n.width*n.height,o/s*100):0}(e,t,{w:i,h:a}):0}(i,(0,n.G)(),d):ld,c=function(e){return{ttx:{viewability:{amount:isNaN(e)?e:Math.round(e)}}}}(l);return{format:s,ext:c}}function hd(e,t,i){const a=e.getFloor({currency:nd,mediaType:i,size:[t.w,t.h]});if(!isNaN(a.floor)&&a.currency===nd)return a.floor}function _d(){const e=function(){let e=(0,n.F)();try{for(;e.parent!==e&&e.parent.document;)e=e.parent}catch(e){}return e}().document.documentElement;return{w:e.clientWidth,h:e.clientHeight}}function vd(){const{innerWidth:e,innerHeight:t,screen:i}=(0,n.F)(),[a,r]=[Math.max(i.width,i.height),Math.min(i.width,i.height)];return t>e?{w:r,h:a}:{w:a,h:r}}const Id={NON_MEASURABLE:ld,code:"33across",aliases:["33across_mgni"],supportedMediaTypes:[b.b,b.d],gvlid:58,isBidRequestValid:function(e){return function(e){return!!e.params&&!!function(e){return null!==((0,r.a)(e,"params.siteId","")||"").trim().match(rd)}(e)}(e)&&function(e){const t=(0,r.a)(e,"mediaTypes.banner");return void 0===t||!!Array.isArray(t.sizes)}(e)&&function(e){const t=(0,r.a)(e,"mediaTypes.video"),i=(0,r.a)(e,"params.video",{});if(void 0===t)return!0;if(!Array.isArray(t.playerSize))return!1;if(!t.context)return!1;const a={...t,...i};return!(!Array.isArray(a.mimes)||0===a.mimes.length||!Array.isArray(a.protocols)||0===a.protocols.length||void 0!==a.placement&&"number"!=typeof a.placement||"instream"===t.context&&void 0!==a.startdelay&&"number"!=typeof a.startdelay)}(e)},buildRequests:function(e,t){const{ttxSettings:i,gdprConsent:a,uspConsent:r,gppConsent:o,pageUrl:s,referer:d}=function(e,t){const i=Object.assign({},u.config.getConfig("ttxSettings")),a=Object.assign({consentString:void 0,gdprApplies:!1},t&&t.gdprConsent);return dd.uniqueSiteIds=e.map((e=>e.params.siteId)).filter(n.vb),{ttxSettings:i,gdprConsent:a,uspConsent:t?.uspConsent,gppConsent:t?.gppConsent,pageUrl:t?.refererInfo?.page,referer:t?.refererInfo?.ref}}(e,t),l=function(e,t){return function(e,t){const i={};return e.forEach((e=>{const a=t(e);i[a]=i[a]||[],i[a].push(e)})),i}(t.map(fd),!0===(e&&e.enableSRAMode)?cd:pd)}(i,e),c=[];for(const e in l)c.push(ud({bidRequests:l[e],gdprConsent:a,uspConsent:r,gppConsent:o,pageUrl:s,referer:d,ttxSettings:i,bidderRequest:t}));return c},interpretResponse:function(e){const{seatbid:t,cur:i="USD"}=e.body;return(0,n.Q)(t)?t.filter((e=>(0,n.Q)(e.bid)&&e.bid.length>0)).reduce(((e,t)=>e.concat(t.bid.map((e=>function(e,t){const i=e.adomain&&e.adomain.length,a={requestId:e.impid,cpm:e.price,width:e.w,height:e.h,ad:e.adm,ttl:e.ttl||60,creativeId:e.crid,mediaType:(0,r.a)(e,"ext.ttx.mediaType",b.b),currency:t,netRevenue:!0};return i&&(a.meta={advertiserDomains:e.adomain}),a.mediaType===b.d&&("xml"===(0,r.a)(e,"ext.ttx.vastType","xml")?a.vastXml=a.ad:a.vastUrl=a.ad),a}(e,i))))),[]):[]},getUserSyncs:function(e,t,i,a,n){const r=e.iframeEnabled?dd.uniqueSiteIds.map((e=>function({siteId:e="zzz000000000003zzz",gdprConsent:t={},uspConsent:i,gppConsent:a={}}){const n=u.config.getConfig("ttxSettings"),r=n&&n.syncUrl||"https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb",{consentString:o,gdprApplies:s}=t,{gppString:d="",applicableSections:l=[]}=a,c={type:"iframe",url:`${r}&id=${e}&gdpr_consent=${encodeURIComponent(o)}&us_privacy=${encodeURIComponent(i)}&gpp=${encodeURIComponent(d)}&gpp_sid=${encodeURIComponent(l.join(","))}`};return"boolean"==typeof s&&(c.url+=`&gdpr=${Number(s)}`),c}({gdprConsent:i,uspConsent:a,gppConsent:n,siteId:e}))):[];return dd.uniqueSiteIds=[],r}};(0,at.b)(Id);const wd={},Td=e=>({url:"https://cdn.hubvisor.io/wrapper/common/player.js",render(t){const i=((e,t)=>Object.values(wd).map((i=>i.canRender(e,t)?i.createRenderCmd(e,t):void 0)).find(Et.i))(t,e)??(()=>{const i=$n.read(t.adUnitCode),a=document.querySelector(e.selector??`#${t.adUnitCode}`)??i?.document.body,n={vastXml:t.vastXml,vastUrl:t.vastUrl,targetWidth:t.width,targetHeight:t.height,renderContext:i,...e,onEvent:(i,a)=>e.onEvent?.(t,i,a)};(0,Ya.a)(a??`#${t.adUnitCode}`,n)});this.push(i)}}),xd=e=>Td({expand:Na.b.noLazyLoad,onEvent:(e,t)=>{switch(t){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":en.a.emit("outstream-imp",{adId:e.adId,kind:"impression"===t?"video-imp":t})}},...e}),Dd=e=>(0,Et.m)(e)&&(0,Et.n)(e.mimesTypes,(0,Et.h)(Et.d,Et.q))&&(0,Et.n)(e.minDuration,Et.l)&&(0,Et.n)(e.maxDuration,Et.l)&&(0,Et.n)(e.startDelay,Et.l)&&(0,Et.n)(e.fitHeight,Et.l)&&(0,Et.n)(e.maxWidth,Et.l)&&(0,Et.n)(e.targetRatio,Et.l)&&(0,Et.n)(e.containerSelector,Et.q)&&(0,Et.n)(e.placement,Et.q)&&(0,Et.n)(e.isReplayable,Et.e),Sd=e=>{return(0,Et.m)(e)&&(0,Et.q)(e.name)&&(0,Et.n)(e.isGuaranteed,Et.e)&&((0,Et.n)(e.priceFloor,Et.l)||(t=e.priceFloor,(0,Et.m)(t)&&(e=>{const t=["video","banner","native"];return Object.getOwnPropertyNames(e).every((e=>t.includes(e)))})(t)&&(0,Et.n)(t.native,Et.l)&&(0,Et.n)(t.video,Et.l)&&(0,Et.n)(t.banner,Et.l)));var t};var Cd=i(66),Ed=i(67);const Rd={api:[Cd.a.vpaid10,Cd.a.vpaid20,Cd.a.mraid1,Cd.a.mraid2,Cd.a.mraid3,Cd.a.omid1],linearity:2,mimes:["video/mp4","video/ogg","video/webm","application/javascript"],maxduration:30,minduration:1,protocols:[Ed.a.vast10,Ed.a.vast20,Ed.a.vast30,Ed.a.vast40,Ed.a.vast10Wrapper,Ed.a.vast20Wrapper,Ed.a.vast30Wrapper,Ed.a.vast40Wrapper,Ed.a.vast41,Ed.a.vast41Wrapper,Ed.a.vast42,Ed.a.vast42Wrapper],startdelay:0,placement:3,plcmt:4,playbackmethod:[2,3,4],skip:Gt.b.yes,pos:0},Ad={...Rd,linearity:1,placement:1,plcmt:1},kd=(e,t,i)=>{for(const a of e)a.hbvMetadata={...t,...i}},Od=(e,t)=>Object.fromEntries(Object.entries({...e,...t}).filter((([,e])=>(0,Et.c)(e)&&e.length||(0,Et.i)(e)))),Md=(e,t,i,a,n)=>{kd(a,{displayFormat:_a.a.outstream,mediaType:ua,requestSizes:[i.playerSize]},n),e.push({adUnitCode:t,mediaTypes:{video:{...Od(Rd,i.openRtbParams),context:"outstream",playerSize:[i.playerSize]}},renderer:void 0,bids:a})},Bd=(e,t,i,a,n,r)=>{Jn.a||(kd(a,{displayFormat:_a.a.outstream,mediaType:ua,requestSizes:[i.playerSize]},r),e.push({adUnitCode:t,mediaTypes:{video:{...Od(Rd,i.openRtbParams),context:"outstream",playerSize:[i.playerSize]}},playerConfig:{expand:Na.b.noLazyLoad,...n},renderer:xd(n),bids:a}))},Pd=(e,t,i,a,n)=>{kd(a,{displayFormat:_a.a.instream,mediaType:ua,requestSizes:[i.playerSize]},n),e.push({adUnitCode:t,mediaTypes:{video:{playerSize:[i.playerSize],context:"instream",...Od(Ad,i.openRtbParams)}},bids:a})},Nd=(e,t,i,a,n)=>{kd(i,{displayFormat:_a.a.native,mediaType:pa},n),e.push({adUnitCode:t,mediaTypes:{native:a&&!(0,Et.e)(a)?a:{type:"image"}},bids:i})},Ud=e=>1===e.length&&1800===e[0][0]&&1e3===e[0][1],qd=(e,t,i,a,n)=>{kd(a,{displayFormat:Ud(i)?_a.a.skin:_a.a.banner,mediaType:ca,requestSizes:i},n),e.push({adUnitCode:t,mediaTypes:{banner:{sizes:i}},bids:a})},jd=e=>{const t=[];return e.banner&&t.push(...e.banner.sizes),e.skin&&t.push([1800,1e3]),t},zd={url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render(e){const t={ad:{video:{content:e.vastXml,player_height:e.height,player_width:e.width}}};this.push((()=>{window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:t})}))}};At.a.add(vt.a["33across"],((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}if(a.outstream)if(t.rendering?.outstream?.hbvFormat)Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream);else{const r=(n=i.formatterParams,(0,Et.m)(n)&&(0,Et.p)(n.forcedPlayerSize)?i.formatterParams.forcedPlayerSize:a.outstream.playerSize),o={...a.outstream,playerSize:r,renderer:zd};((e,t,i,a)=>{kd(a,{displayFormat:_a.a.outstream,mediaType:ua,requestSizes:[i.playerSize]},void 0),e.push({adUnitCode:t,mediaTypes:{video:{...Od(Rd,i.openRtbParams),context:"outstream",playerSize:[i.playerSize]}},renderer:i.renderer,bids:a})})(e,t.placementId,o,[{bidder:i.bidder,params:i.params}])}var n})),At.b.add(vt.a["33across"],Id.gvlid);var $d=i(79);const Fd="adagio",Ld="Adagio:",Vd=[b.b,b.c,b.d],Gd="adagioScript",Wd=(0,se.d)({bidderCode:Fd}),Hd="adagio",Kd=`https://${Hd}.bbvms.com/r/$RENDERER.js`,Xd={mimes:e=>Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e)),minduration:e=>(0,n.W)(e),maxduration:e=>(0,n.W)(e),protocols:e=>(0,n.P)(e),w:e=>(0,n.W)(e),h:e=>(0,n.W)(e),startdelay:e=>(0,n.W)(e),placement:e=>(0,n.W)(e),linearity:e=>(0,n.W)(e),skip:e=>[1,0].includes(e),skipmin:e=>(0,n.W)(e),skipafter:e=>(0,n.W)(e),sequence:e=>(0,n.W)(e),battr:e=>(0,n.P)(e),maxextended:e=>(0,n.W)(e),minbitrate:e=>(0,n.W)(e),maxbitrate:e=>(0,n.W)(e),boxingallowed:e=>(0,n.W)(e),playbackmethod:e=>(0,n.P)(e),playbackend:e=>(0,n.W)(e),delivery:e=>(0,n.W)(e),pos:e=>(0,n.W)(e),api:e=>(0,n.P)(e)};let Jd;const Qd=function(){let e,t={};return{clearFeatures:function(){e=void 0},clearExchangeData:function(){t={}},getOrSetGlobalFeatures:function(){return e||(e={page_dimensions:al().toString(),viewport_dimensions:nl().toString(),user_timestamp:(Math.floor((new Date).getTime()/1e3)-60*(new Date).getTimezoneOffset()).toString(),dom_loading:sl().toString()}),e},prepareExchangeData(e){const i=JSON.parse(e,(function(e,t){if("_"!==e.charAt(0)||""===e)return t}));let a=(0,r.a)(i,"session.rnd"),o=!1;tl.isNewSession(i)&&(o=!0,a=Math.random());const s={session:{new:o,rnd:a}};(0,n.fb)(t,i,s),tl.enqueue({action:"session",ts:Date.now(),data:t})},getExchangeData:()=>t}}();function Yd(){try{if((0,n.G)().location.href)return!0}catch(e){return!1}}function Zd(){return Jd||(0,n.F)()}function el(){const e=(0,n.F)();return!(!e.$sf||!e.$sf.ext)}const tl={enqueue:function(e){const t=tl.getCurrentWindow();t.ADAGIO=t.ADAGIO||{},t.ADAGIO.queue=t.ADAGIO.queue||[],t.ADAGIO.queue.push(e)},getPageviewId:function(){const e=tl.getCurrentWindow();return e.ADAGIO=e.ADAGIO||{},e.ADAGIO.pageviewId=e.ADAGIO.pageviewId||(0,n.s)(),e.ADAGIO.pageviewId},getDevice:function(){const e=navigator.language?"language":"userLanguage";return{userAgent:navigator.userAgent,language:navigator[e],dnt:(0,n.w)()?1:0,geo:{},js:1}},getSite:function(e){const{refererInfo:t}=e;return{domain:(0,ce.b)(t.topmostLocation)||"",page:t.topmostLocation||"",referrer:t.ref||(0,n.F)().document.referrer||"",top:t.reachedTop}},getElementFromTopWindow:function e(t,i){try{if((0,n.G)()===i)return t.getAttribute("id")||t.setAttribute("id",`adg-${(0,n.B)()}`),t;{const a=i.frameElement,n=a.getBoundingClientRect(),r=t.getBoundingClientRect();return n.width===r.width&&n.height===r.height&&e(a,i.parent)}}catch(e){return(0,n.db)(`${Ld}`,e),!1}},getRefererInfo:ce.a,adagioScriptFromLocalStorageCb:function(e){try{if(!e)return void(0,n.db)(`${Ld} script not found.`);const t=/^(\/\/ hash: (.+)\n)(.+\n)$/;if(t.test(e)){const i=e.match(t),a=i[2],r=i[3];(0,$d.a)(r,a,"AL16XT44Sfp+8SHVF1UdC7hydPSMVLMhsYknKDdwqq+0ToDSJrP0+Qh0ki9JJI2uYm/6VEYo8TJED9WfMkiJ4vf02CW3RvSWwc35bif2SK1L8Nn/GfFYr/2/GG/Rm0vUsv+vBHky6nuuYls20Og0HDhMgaOlXoQ/cxMuiy5QSktp",65537)?((0,n.bb)(`${Ld} start script.`),Function(e)()):((0,n.db)(`${Ld} invalid script found.`),Wd.removeDataFromLocalStorage(Gd))}else(0,n.db)(`${Ld} no hash found.`),Wd.removeDataFromLocalStorage(Gd)}catch(e){(0,n.ab)(Ld,e)}},getCurrentWindow:Zd,canAccessTopWindow:Yd,isRendererPreferredFromPublisher:function(e){const t=(0,r.a)(e,"renderer"),i=!!(t&&t.url&&t.render),a=(0,r.a)(e,"mediaTypes.video.renderer"),n=!!(a&&a.url&&a.render);return!!(i&&!0!==t.backupOnly||n&&!0!==a.backupOnly)},isNewSession:function(e){const t=Date.now(),{lastActivityTime:i,vwSmplg:a}=(0,r.a)(e,"session",{});return!(0,n.X)(i)||!(0,n.X)(a)||t-i>18e5}};function il(e,t){if(e.params=e.params||{},e.params[t])return;const i=u.config.getConfig("adagio")||{},a=e.ortb2,n=i[t]||(0,r.a)(a,`site.ext.data.${t}`,null);if(n){if(Array.isArray(n))return void(n.length&&(e.params[t]=n[0].toString()));e.params[t]=n.toString()}}function al(){if(el()||!Yd())return"";const e=(0,n.G)(),t=e.document.querySelector("body");if(!t)return"";const i=e.document.documentElement;return`${Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}x${Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)}`}function nl(){if(!el()&&!Yd())return"";const e={w:0,h:0};if(el()){const t=(0,n.F)();if("function"!=typeof t.$sf.ext.geom)return(0,n.db)(Ld,"Unable to compute from safeframe api."),"";const i=t.$sf.ext.geom();if(!i||!i.win)return(0,n.db)(Ld,"Unable to compute from safeframe api. Missing `geom().win` property"),"";e.w=Math.round(i.w),e.h=Math.round(i.h)}else{const t=(0,n.G)();e.w=t.innerWidth,e.h=t.innerHeight}return`${e.w}x${e.h}`}function rl(e){if(!e)return"";if(!el()&&!Yd())return"";const t={x:0,y:0};if(el()){const e=(0,n.F)();if("function"!=typeof e.$sf.ext.geom)return(0,n.db)(Ld,"Unable to compute from safeframe api."),"";const i=e.$sf.ext.geom();if(!i||!i.self)return(0,n.db)(Ld,"Unable to compute from safeframe api. Missing `geom().self` property"),"";t.x=Math.round(i.t),t.y=Math.round(i.l)}else{if(!Yd())return"";try{const i=(0,n.G)(),a=i.document;let r;if(!0===(0,n.J)()){const t=(0,n.F)(),i=t.document.getElementById(e);r=tl.getElementFromTopWindow(i,t)}else r=i.document.getElementById(e);if(!r)return"";let o=r.getBoundingClientRect();const s=a.documentElement,d=a.body,l=a.clientTop||d.clientTop||0,c=a.clientLeft||d.clientLeft||0,p=i.pageYOffset||s.scrollTop||d.scrollTop,u=i.pageXOffset||s.scrollLeft||d.scrollLeft;if("none"===(i.getComputedStyle(r,null).display||"block")){r.style=r.style||{};const e=r.style.display;r.style.display="block",o=r.getBoundingClientRect(),r.style.display=e||null}t.x=Math.round(o.left+u-c),t.y=Math.round(o.top+p-l)}catch(e){return(0,n.ab)(Ld,e),""}}return`${t.x}x${t.y}`}function ol(e,t){return t.bids&&t.bids.length&&(0,p.b)(t.bids,(t=>t.adUnitCode===e)).bidderRequestsCount||1}function sl(){let e,t=-1;if(e=Yd()?(0,n.G)().performance:(0,n.F)().performance,e&&e.timing&&e.timing.navigationStart>0){const i=e.timing.domLoading-e.timing.navigationStart;i>0&&(t=i)}return t}const dl={bootstrapPlayer:function(e){const t=e.outstreamRendererCode,i={code:e.adUnitCode};if(e.vastXml?i.vastXml=e.vastXml:e.vastUrl&&(i.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,n.ab)(`${Ld} no vastXml or vastUrl on bid`);if(!window.bluebillywig||!window.bluebillywig.renderers||!window.bluebillywig.renderers.length)return void(0,n.ab)(`${Ld} no BlueBillywig renderers found!`);const a=this.getRendererId(Hd,t),r={};e.skipOffset&&(r.skipOffset=e.skipOffset.toString());const o=window.bluebillywig.renderers.find((e=>e._id===a));if(!o)return void(0,n.ab)(`${Ld} couldn't find a renderer with ID ${a}`);const s=document.getElementById(e.adUnitCode);o.bootstrap(i,s,r)},newRenderer:function(e,t){const i=Kd.replace("$RENDERER",t),a=m.a.install({url:i,loaded:!1,adUnitCode:e});try{a.setRender(this.outstreamRender)}catch(e){(0,n.ab)(`${Ld} error trying to setRender`,e)}return a},outstreamRender:function(e){e.renderer.push((()=>{dl.bootstrapPlayer(e)}))},getRendererId:function(e,t){return`${e}-${t}`}},ll={code:Fd,gvlid:617,supportedMediaTypes:Vd,isBidRequestValid:e=>(e.params=e.params||{},function(e){const t=u.config.getConfig("adagio")||{};e.params=e.params||{},t.siteId&&(e.params.organizationId=t.siteId.split(":")[0],e.params.site=t.siteId.split(":")[1]),!0!==t.useAdUnitCodeAsPlacement&&!0!==e.params.useAdUnitCodeAsPlacement||(e.params.placement=e.adUnitCode),e.params.adUnitElementId=(0,r.a)(e,"ortb2Imp.ext.data.elementId",null)||e.params.adUnitElementId,e.params.adUnitElementId||(!0===t.useAdUnitCodeAsAdUnitElementId||!0===e.params.useAdUnitCodeAsAdUnitElementId?e.params.adUnitElementId=e.adUnitCode:e.params.adUnitElementId=function(e){const t=(0,Js.a)(e);if(t.divId)return t.divId}(e.adUnitCode)),il(e,"pagetype"),il(e,"category")}(e),!!(e.params.organizationId&&e.params.site&&e.params.placement)||((0,n.db)(`${Ld} at least one required param is missing.`),!1)),buildRequests(e,t){e=(0,d.b)(e);const i="https:"===location.protocol?1:0,o=tl.getDevice(),s=tl.getSite(t),l=tl.getPageviewId(),c=function(e){if(!(0,r.a)(e,"gdprConsent"))return!1;const{apiVersion:t,gdprApplies:i,consentString:a,allowAuctionWithoutConsent:o}=e.gdprConsent;return(0,n.h)({apiVersion:t,consentString:a,consentRequired:i?1:0,allowAuctionWithoutConsent:o?1:0})}(t)||{},p=function(e){return!!(0,r.a)(e,"uspConsent")&&{uspConsent:e.uspConsent}}(t)||{},m={required:!0===u.config.getConfig("coppa")?1:0},f=function(e){let t=(0,r.a)(e,"gppConsent.gppString"),i=(0,r.a)(e,"gppConsent.applicableSections");return t&&i||(t=(0,r.a)(e,"ortb2.regs.gpp",""),i=(0,r.a)(e,"ortb2.regs.gpp_sid",[])),{gpp:t,gppSid:i}}(t),g=(y=e[0],(0,r.a)(y,"schain"));var y;const h=function(e){if((0,r.a)(e,"userIdAsEids"))return e.userIdAsEids}(e[0])||[],_=(0,r.a)(u.config.getConfig("userSync"),"syncEnabled")&&R.userSync.canBidderRegisterSync("iframe","adagio"),v=(0,n.s)(),I=e.map((e=>{const i=(0,n.n)(e);i.auctionId=v;const o={...Qd.getOrSetGlobalFeatures(),print_number:ol(i.adUnitCode,t).toString(),adunit_position:rl(i.params.adUnitElementId)};if(i.params.splitKeyword&&((0,n._)(i.params.splitKeyword)||(0,n.X)(i.params.splitKeyword)?i.params.splitKeyword=i.params.splitKeyword.toString():(delete i.params.splitKeyword,(0,n.db)(Ld,"The splitKeyword param have been removed because the type is invalid, accepted type: number or string."))),i.params.organizationId=i.params.organizationId.toString(),i.params.dataLayer)if((0,n._)(i.params.dataLayer)||(0,n.X)(i.params.dataLayer)||(0,n.Q)(i.params.dataLayer)||(0,n.U)(i.params.dataLayer))(0,n.db)(Ld,"The dataLayer param is invalid, only object is accepted as a type."),delete i.params.dataLayer;else{let e=!1;i.params.dl=i.params.dataLayer,delete i.params.dataLayer,Object.keys(i.params.dl).forEach((t=>{i.params.dl[t]&&((0,n._)(i.params.dl[t])||(0,n.X)(i.params.dl[t])?i.params.dl[t]=i.params.dl[t].toString():(e=!0,delete i.params.dl[t]))})),e&&(0,n.db)(Ld,"Some parameters of the dataLayer property have been removed because the type is invalid, accepted type: number or string.")}Object.keys(o).forEach((e=>{""===o[e]&&delete o[e]})),i.features=o,tl.enqueue({action:"features",ts:Date.now(),data:{features:i.features,params:i.params,adUnitCode:i.adUnitCode}});const s=function(e){if(!(0,n.U)(e.getFloor))return!1;const t=[],i=(i,a)=>{const r=e.getFloor({currency:"USD",mediaType:i,size:a});t.push((0,n.h)({mt:i,s:(0,n.Q)(a)?`${a[0]}x${a[1]}`:void 0,f:isNaN(r.floor)||"USD"!==r.currency?void 0:r.floor}))};return Object.keys(e.mediaTypes).forEach((t=>{if(-1!==Vd.indexOf(t)){const a=t===b.d?"playerSize":"sizes";e.mediaTypes[t][a]&&e.mediaTypes[t][a].length?(0,n.Q)(e.mediaTypes[t][a][0])?e.mediaTypes[t][a].forEach((e=>{i(t,[e[0],e[1]])})):i(t,[e.mediaTypes[t][a][0],e.mediaTypes[t][a][1]]):i(t,"*")}})),t}(e);if((0,n.Q)(s)&&s.length){if(i.floors=s,(0,r.a)(i,"mediaTypes.banner")){const e=i.mediaTypes.banner,t=(e=[])=>{const t={size:e,floor:null},a=i.floors.filter((e=>e.mt===b.b)),n=a.find((t=>t.s===e.join("x")));return t.floor=a?n?n.f:a[0].f:null,t};i.mediaTypes.banner.bannerSizes=(0,n.Q)(e.sizes[0])?e.sizes.map((e=>t(e))):t(e.sizes)}if((0,r.a)(i,"mediaTypes.video")){const e=i.mediaTypes.video,t=i.floors.filter((e=>e.mt===b.d)),a=e.playerSize&&(0,n.Q)(e.playerSize[0])?e.playerSize[0]:e.playerSize,r=a?t.find((e=>e.s===a.join("x"))):void 0;i.mediaTypes.video.floor=t?r?r.f:t[0].f:null}if((0,r.a)(i,"mediaTypes.native")){const e=i.floors.filter((e=>e.mt===b.c));e.length&&(i.mediaTypes.native.floor=e[0].f)}}(0,r.a)(i,"mediaTypes.video")&&function(e){const t=(0,r.a)(e,"mediaTypes.video",{}),i=(0,r.a)(e,"params.video",{}),a={};if(Array.isArray(t.playerSize)){const e=Array.isArray(t.playerSize[0])?t.playerSize[0]:t.playerSize;a.w=e[0],a.h=e[1]}const o={...a,...t,...i};o.context&&o.context===Pe.b&&(e.mediaTypes.video.playerName=function(e){const t=tl.isRendererPreferredFromPublisher(e)?"other":"adagio";return"other"===t&&(0,n.db)(`${Ld} renderer.backupOnly has not been set. Adagio recommends to use its own player to get expected behavior.`),t}(e)),Object.keys(Xd).forEach((t=>{o.hasOwnProperty(t)&&(Xd[t](o[t])?e.mediaTypes.video[t]=o[t]:(delete e.mediaTypes.video[t],(0,n.db)(`${Ld} The OpenRTB video param ${t} has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.`)))}))}(i);const d=(0,r.a)(i,"ortb2Imp.ext.gpid")||(0,r.a)(i,"ortb2Imp.ext.data.pbadslot");return d&&(i.gpid=d),function(e){const t=Zd();let i;t.ADAGIO=t.ADAGIO||{},t.ADAGIO.pbjsAdUnits=t.ADAGIO.pbjsAdUnits.filter((t=>t.code!==e.adUnitCode)),e.features&&e.features.print_number?i=e.features.print_number:e.params.features&&e.params.features.print_number&&(i=e.params.features.print_number),t.ADAGIO.pbjsAdUnits.push({code:e.adUnitCode,mediaTypes:e.mediaTypes||{},sizes:e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?e.mediaTypes.banner.sizes:e.sizes,bids:[{bidder:e.bidder,params:e.params}],auctionId:e.auctionId,pageviewId:tl.getPageviewId(),printNumber:i,localPbjs:"hubjs",localPbjsRef:(0,a.a)()}),t.ADAGIO.adUnits[e.adUnitCode]={auctionId:e.auctionId,pageviewId:tl.getPageviewId(),printNumber:i}}(i),delete i.params.siteId,{adUnitCode:i.adUnitCode,auctionId:i.auctionId,bidder:i.bidder,bidId:i.bidId,params:i.params,features:i.features,gpid:i.gpid,mediaTypes:i.mediaTypes,nativeParams:i.nativeParams,score:i.score,transactionId:i.transactionId}})),w=I.reduce(((e,t)=>{const i=t.params.organizationId;return e[i]=e[i]||[],e[i].push(t),e}),{});return e.forEach((e=>{e.params.adagioAuctionId=v,e.params.pageviewId=l})),Object.keys(w).map((e=>({method:"POST",url:"https://mp.4dex.io/prebid",data:{organizationId:e,secure:i,device:o,site:s,pageviewId:l,adUnits:w[e],data:Qd.getExchangeData(),regs:{gdpr:c,coppa:m,ccpa:p,gpp:f.gpp,gppSid:f.gppSid},schain:g,user:{eids:h},prebidVersion:"8.30.0",featuresVersion:"1",usIfr:_,adgjs:Wd.localStorageIsEnabled()},options:{contentType:"text/plain"}})))},interpretResponse(e,t){let i=[];try{const a=e.body;a&&(a.data&&tl.enqueue({action:"ssp-data",ts:Date.now(),data:a.data}),a.bids&&a.bids.forEach((e=>{const a=(0,p.b)(t.data.adUnits,(t=>t.bidId===e.requestId));if(a){if(e.meta=(0,r.a)(e,"meta",{}),e.meta.mediaType=e.mediaType,e.meta.advertiserDomains=Array.isArray(e.aDomain)&&e.aDomain.length?e.aDomain:[],e.mediaType===b.d){const t=(0,r.a)(a,"mediaTypes.video.context");if(!e.vastUrl&&e.vastXml&&(e.vastUrl="data:text/xml;charset=utf-8;base64,"+window.btoa(e.vastXml.replace(/\\"/g,'"'))),t===Pe.b){if(e.outstreamRendererCode=(0,r.a)(a,"params.rendererCode","renderer"),(0,r.a)(a,"mediaTypes.video.skip")){const t=(0,r.a)(a,"mediaTypes.video.skipafter",5);e.skipOffset=t}e.renderer=dl.newRenderer(e.adUnitCode,e.outstreamRendererCode)}}e.mediaType===b.c&&function(e){if(!e.admNative||!Array.isArray(e.admNative.assets))return void(0,n.ab)(`${Ld} Invalid native response`);const t={};e.admNative.assets.forEach((e=>{e.title?t.title=e.title.text:e.data?function(e){const i={1:"sponsoredBy",2:"body",3:"rating",4:"likes",5:"downloads",6:"price",7:"salePrice",8:"phone",9:"address",10:"body2",11:"displayUrl",12:"cta"};i.hasOwnProperty(e.type)&&"string"==typeof e.value&&(t[i[e.type]]=e.value)}(e.data):e.img&&(1===e.img.type?t.icon={url:e.img.url,width:e.img.w,height:e.img.h}:t.image={url:e.img.url,width:e.img.w,height:e.img.h})})),e.admNative.link&&(e.admNative.link.url&&(t.clickUrl=e.admNative.link.url),Array.isArray(e.admNative.link.clicktrackers)&&(t.clickTrackers=e.admNative.link.clicktrackers)),Array.isArray(e.admNative.eventtrackers)?(t.impressionTrackers=[],e.admNative.eventtrackers.forEach((e=>{if(1===e.event)switch(e.method){case 1:t.impressionTrackers.push(e.url);break;case 2:const i=`<script async src="${e.url}"><\/script>`;t.javascriptTrackers?t.javascriptTrackers+=`\n${i}`:t.javascriptTrackers=i}}))):(t.impressionTrackers=Array.isArray(e.admNative.imptrackers)?e.admNative.imptrackers:[],e.admNative.jstracker&&(t.javascriptTrackers=e.admNative.jstracker)),e.admNative.privacy&&(t.privacyLink=e.admNative.privacy),e.admNative.ext&&(t.ext={},e.admNative.ext.bvw&&(t.ext.adagio_bvw=e.admNative.ext.bvw)),e.native=t}(e),e.site=a.params.site,e.placement=a.params.placement,e.pagetype=a.params.pagetype,e.category=a.params.category}i.push(e)})))}catch(e){(0,n.ab)(e)}return i},getUserSyncs:(e,t)=>!(!t.length||""===t[0].body||!t[0].body.userSyncs)&&t[0].body.userSyncs.map((e=>({type:"p"===e.t?"image":"iframe",url:e.u}))),transformBidParams:e=>e};!function(){Yd()&&(Jd=Yd()?(0,n.G)():(0,n.F)());const e=tl.getCurrentWindow();e.ADAGIO=e.ADAGIO||{},e.ADAGIO.adUnits=e.ADAGIO.adUnits||{},e.ADAGIO.pbjsAdUnits=e.ADAGIO.pbjsAdUnits||[],e.ADAGIO.queue=e.ADAGIO.queue||[],e.ADAGIO.versions=e.ADAGIO.versions||{},e.ADAGIO.versions.pbjs="8.30.0",e.ADAGIO.isSafeFrameWindow=el(),Wd.getDataFromLocalStorage("adagio",(e=>{try{Qd.prepareExchangeData(e)}catch(e){(0,n.ab)(Ld,e)}})),Wd.getDataFromLocalStorage(Gd,(e=>{tl.adagioScriptFromLocalStorageCb(e)})),Wd.localStorageIsEnabled((e=>{if(e)(0,Z.a)("https://script.4dex.io/localstore.js",Fd);else try{window.localStorage.removeItem(Gd),window.localStorage.removeItem("adagio")}catch(e){(0,n.bb)(`${Ld} unable to clear Adagio scripts from localstorage.`)}}))}(),(0,at.b)(ll),At.a.add(vt.a.Adagio,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin||a.outstream||a.native){const n={},r={};let o;if(a.outstream){n.displayFormat=_a.a.outstream,n.mediaType=ua,n.requestSizes=[a.outstream.playerSize];const e={...Rd,...a.outstream.openRtbParams};r.video={...e,context:"outstream",playerSize:[a.outstream.playerSize]},o=t.rendering?.outstream?.hbvFormat?xd():void 0}if(a.native&&(n.displayFormat=_a.a.native,n.mediaType=pa,delete n.requestSizes,r.native={type:"image"}),a.banner||a.skin){const e=jd(a);r.banner={sizes:e},n.displayFormat=Ud(e)?_a.a.skin:_a.a.banner,n.mediaType=ca,n.requestSizes=r.banner.sizes}e.push({adUnitCode:t.placementId,mediaTypes:r,renderer:o,bids:[{bidder:i.bidder,params:i.params,hbvMetadata:n}]})}})),At.b.add(vt.a.Adagio,ll.gvlid);const{getConfig:cl}=u.config,pl={code:"adf",aliases:[{code:"adformOpenRTB",gvlid:50},{code:"adform",gvlid:50}],gvlid:50,supportedMediaTypes:[b.c,b.b,b.d],isBidRequestValid:e=>{const t=e.params||{},{mid:i,inv:a,mname:n}=t;return!!(i||a&&n)},buildRequests:(e,t)=>{let i,a;const s=t.ortb2||{};let{user:d}=s;"object"==typeof cl("app")?(i=cl("app")||{},s.app&&(0,n.fb)(i,s.app)):(a=cl("site")||{},s.site&&(0,n.fb)(a,s.site),a.page||(a.page=t.refererInfo.page));const l=cl("device")||{};l.w=l.w||window.innerWidth,l.h=l.h||window.innerHeight,l.ua=l.ua||navigator.userAgent;const c=ul(e,"params.adxDomain")||"adx.adform.net",p=ul(e,"params.pt")||ul(e,"params.priceType")||"net",m=t.ortb2?.source?.tid,b=ul(e,"params.test"),f=cl("currency.adServerCurrency"),g=f&&[f],y=ul(e,"userIdAsEids"),h=ul(e,"schain"),_=e.map(((e,t)=>{e.netRevenue=p;const i=e.getFloor?e.getFloor({currency:f||"USD",size:"*",mediaType:"*"}):{},a=i.floor,o=i.currency,{mid:s,inv:d,mname:l}=e.params,c={id:t+1,tagid:s,bidfloor:a,bidfloorcur:o,ext:{bidder:{inv:d,mname:l}}};if(e.nativeOrtbRequest&&e.nativeOrtbRequest.assets){let t=e.nativeOrtbRequest.assets,i=[];for(let e=0;e<t.length;e++){let a=(0,n.n)(t[e]),r=a.img;if(r){let e=r.ext&&r.ext.aspectratios;if(e){let t=parseInt(e[0].split(":")[0],10),i=parseInt(e[0].split(":")[1],10);r.wmin=r.wmin||0,r.hmin=i*r.wmin/t|0}}i.push(a)}c.native={request:{assets:i}}}const u=(0,r.a)(e,"mediaTypes.banner");if(u&&u.sizes){const e=(0,n.jb)(u.sizes).map((e=>{const[t,i]=e.split("x");return{w:parseInt(t,10),h:parseInt(i,10)}}));c.banner={format:e}}const m=(0,r.a)(e,"mediaTypes.video");return m&&(c.video=m),c})),v={id:t.bidderRequestId,site:a,app:i,user:d,device:l,source:{tid:m,fd:1},ext:{pt:p},cur:g,imp:_};return b&&(v.is_debug=!!b,v.test=1),u.config.getConfig("coppa")&&(0,o.a)(v,"regs.coppa",1),void 0!==(0,r.a)(t,"gdprConsent.gdprApplies")&&((0,o.a)(v,"user.ext.consent",t.gdprConsent.consentString),(0,o.a)(v,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&(0,o.a)(v,"regs.ext.us_privacy",t.uspConsent),y&&(0,o.a)(v,"user.ext.eids",y),h&&(0,o.a)(v,"source.ext.schain",h),{method:"POST",url:"https://"+c+"/adx/openrtb",data:JSON.stringify(v),bids:e}},interpretResponse:function(e,{bids:t}){if(!e.body)return;const{seatbid:i,cur:a}=e.body,n=(o=i.map((e=>e.bid)),[].concat(...o)).reduce(((e,t)=>(e[t.impid-1]=t,e)),[]);var o;return t.map(((e,t)=>{const i=n[t];if(i){const t=(0,r.a)(i,"ext.prebid.type"),n={requestId:e.bidId,cpm:i.price,creativeId:i.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:a,mediaType:t,width:i.w,height:i.h,dealId:i.dealid,meta:{mediaType:t,advertiserDomains:i.adomain}};return i.native?n.native={ortb:i.native}:n[t===b.d?"vastXml":"ad"]=i.adm,e.renderer||t!==b.d||"outstream"!==(0,r.a)(e,"mediaTypes.video.context")||(n.renderer=m.a.install({id:e.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js",adUnitCode:e.adUnitCode}),n.renderer.setRender(ml)),n}})).filter(Boolean)}};function ul(e,t){for(let i,a=0;a<e.length;a++)if(i=(0,r.a)(e[a],t),i)return i}function ml(e){e.renderer.push((()=>{window.Adform.renderOutstream(e)}))}(0,at.b)(pl),At.a.add(vt.a.Adform,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params}}])}a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.Adform,pl.gvlid);const bl=["pos","context","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","startdelay","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend","boxingallowed"],fl=["battr","pos"],gl=["battr","api"],yl=["pos"],hl=["btype","battr","pos","api"],_l={1:"iframe",2:"image"},vl=[{name:"title",assetType:"title"},{name:"icon",assetType:"img",type:1},{name:"image",assetType:"img",type:3},{name:"body",assetType:"data",type:2},{name:"body2",assetType:"data",type:10},{name:"sponsoredBy",assetType:"data",type:1},{name:"phone",assetType:"data",type:8},{name:"address",assetType:"data",type:9},{name:"price",assetType:"data",type:6},{name:"salePrice",assetType:"data",type:7},{name:"cta",assetType:"data",type:12},{name:"rating",assetType:"data",type:3},{name:"downloads",assetType:"data",type:5},{name:"likes",assetType:"data",type:4},{name:"displayUrl",assetType:"data",type:11}],Il=vl.reduce(((e,t,i)=>(e[t.name]={id:i,...t},e)),{}),wl={code:"adkernel",gvlid:14,aliases:[{code:"headbidding"},{code:"adsolut"},{code:"oftmediahb"},{code:"audiencemedia"},{code:"waardex_ak"},{code:"roqoon"},{code:"adbite"},{code:"houseofpubs"},{code:"torchad"},{code:"stringads"},{code:"bcm"},{code:"engageadx"},{code:"converge",gvlid:248},{code:"adomega"},{code:"denakop"},{code:"rtbanalytica"},{code:"unibots"},{code:"ergadx"},{code:"turktelekom"},{code:"felixads"},{code:"motionspots"},{code:"sonic_twist"},{code:"displayioads"},{code:"rtbdemand_com"},{code:"bidbuddy"},{code:"didnadisplay"},{code:"qortex"},{code:"adpluto"},{code:"headbidder"}],supportedMediaTypes:[b.b,b.d,b.c],isBidRequestValid:function(e){return"params"in e&&void 0!==e.params.host&&"zoneId"in e.params&&!isNaN(Number(e.params.zoneId))&&e.params.zoneId>0&&e.mediaTypes&&(e.mediaTypes.banner||e.mediaTypes.video||e.mediaTypes.native&&El((t=e.mediaTypes.native).image)&&El(t.icon)&&!(0,r.a)(t,"privacyLink.required")&&!(0,r.a)(t,"privacyIcon.required"));var t},buildRequests:function(e,t){let i=function(e,t){let i=t&&0===t.page?.indexOf("https:");return Object.values(e.map((e=>function(e,t){const i={id:e.bidId,tagid:e.adUnitCode};var a,r=[];if(e.mediaTypes?.banner){r=function(e){if(!e)return;let t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){let i=e.mediaTypes.banner.sizes;Array.isArray(i[0])?t=i:t.push(i)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}(e);let t=e.mediaTypes.banner;i.banner={...Tl(e.ortb2Imp,hl),...Tl(t,yl),format:r.map((e=>(0,n.gb)(e))),topframe:0},a=b.b}else if(e.mediaTypes?.video){let t=e.mediaTypes.video;i.video={...Tl(e.ortb2Imp,fl),...Tl(t,bl)},t.playerSize?(r=t.playerSize[0],i.video=Object.assign(i.video,(0,n.gb)(r)||{})):t.w&&t.h&&(i.video.w=t.w,i.video.h=t.h),a=b.d}else{if(!e.mediaTypes?.native)throw new Error("Unsupported bid received");{let t=function(e){let t={ver:"1.1",assets:[]};for(let i of Object.keys(e)){let a=e[i],r=Il[i];if(void 0===r)continue;let o={id:r.id,required:~~a.required};if("img"===r.assetType)o[r.assetType]=xl(r,a);else if("data"===r.assetType)o.data=(0,n.h)({type:r.type,len:a.len});else{if("title"!==r.assetType)return;o.title={len:a.len||90}}t.assets.push(o)}return t}(e.mediaTypes.native);i.native={...Tl(e.ortb2Imp,gl),ver:"1.1",request:JSON.stringify(t)},a=b.c}}let o=function(e,t,i){var a,n=1===i.length?i[0]:"*";if("function"==typeof e.getFloor){const i=e.getFloor({currency:"USD",mediaType:t,size:n});"object"!=typeof i||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(a=parseFloat(i.floor))}return a}(e,a,r);return o&&(i.bidfloor=o),t&&(i.secure=1),i}(e,i))).reduce(((t,i,a)=>{let n=e[a],{zoneId:r,host:o}=n.params,s=`${o}_${r}`;return t[s]=t[s]||{host:o,zoneId:r,imps:[]},t[s].imps.push(i),t}),{}))}(e=(0,d.b)(e),t.refererInfo),a=[],s=e[0].schain;return(0,n.a)(i,(e=>{let{host:i,zoneId:d,imps:l}=e;const c=function(e,t,i){let a=t.ortb2||{},s=(0,n.fb)(function(e,t,i){let{timeout:a}=e,r={id:e.bidderRequestId,imp:t,at:1,tmax:parseInt(a)};return(0,n.T)(i.bcat)||(r.bcat=i.bcat),(0,n.T)(i.badv)||(r.badv=i.badv),r}(t,e,a),function(e){let t=(0,n.fb)({ip:"caller",ipv6:"caller",ua:"caller",js:1,language:Sl()},e.device||{});return(0,n.w)()&&(t.dnt=1),{device:t}}(a),function(e,t){let{refererInfo:i}=e,a=u.config.getConfig("app");return(0,n.T)(a)?{site:Cl(i,t)}:{app:a}}(t,a),function(e,t){let{gdprConsent:i}=e,a=t.user||{};i&&void 0!==i.consentString&&(0,o.a)(a,"ext.consent",i.consentString);let s=function(e){let t=(0,r.a)(e,"bids.0.userIdAsEids");if((0,n.Q)(t))return t}(e);if(s&&(0,o.a)(a,"ext.eids",s),!(0,n.T)(a))return{user:a}}(t,a),function(e){let{gdprConsent:t,uspConsent:i,gppConsent:a}=e,r={};if(t&&void 0!==t.gdprApplies&&(0,o.a)(r,"regs.ext.gdpr",~~t.gdprApplies),a&&((0,o.a)(r,"regs.gpp",a.gppString),(0,o.a)(r,"regs.gpp_sid",a.applicableSections)),i&&(0,o.a)(r,"regs.ext.us_privacy",i),u.config.getConfig("coppa")&&(0,o.a)(r,"regs.coppa",1),!(0,n.T)(r))return r}(t),function(e){let{bidderCode:t}=e,i=function(e){if(!u.config.getConfig("userSync.syncEnabled"))return;let t=u.config.getConfig("userSync.filterSettings");return Dl(t.all,e)||Dl(t.iframe,e)?1:Dl(t.image,e)?2:void 0}(t);if(i){let e={};return(0,o.a)(e,"ext.adk_usersync",i),e}}(t));return i&&(0,o.a)(s,"source.ext.schain",i),s}(l,t,s);a.push({method:"POST",url:`https://${i}/hb?zone=${d}&v=1.6`,data:JSON.stringify(c)})})),a},interpretResponse:function(e,t){let i=e.body;if(!i.seatbid)return[];let a=JSON.parse(t.data);return i.seatbid.map((e=>e.bid)).reduce(((e,t)=>e.concat(t)),[]).map((e=>{let t=(0,p.b)(a.imp,(t=>t.id===e.impid)),r={requestId:e.impid,cpm:e.price,creativeId:e.crid,currency:i.cur||"USD",ttl:360,netRevenue:!0};return"banner"in t?(r.mediaType=b.b,r.width=e.w,r.height=e.h,r.ad=function(e){let t=e.adm;return"nurl"in e&&(t+=(0,n.k)(`${e.nurl}&px=1`)),t}(e)):"video"in t?(r.mediaType=b.d,r.vastUrl=e.nurl,r.width=t.video.w,r.height=t.video.h):"native"in t&&(r.mediaType=b.c,r.native=function(e){const{assets:t,link:i,imptrackers:a,jstracker:r,privacy:o}=e.native;let s={clickUrl:i.url,impressionTrackers:a,javascriptTrackers:r?[r]:void 0,privacyLink:o};return(0,n.a)(t,(e=>{let t=vl[e.id].name,i=vl[e.id].assetType;s[t]=e[i].text||e[i].value||(0,n.h)({url:e[i].url,width:e[i].w,height:e[i].h})})),(0,n.h)(s)}(JSON.parse(e.adm))),(0,n._)(e.dealid)&&(r.dealId=e.dealid),(0,n.Q)(e.adomain)&&(0,o.a)(r,"meta.advertiserDomains",e.adomain),(0,n.Q)(e.cat)&&(0,o.a)(r,"meta.secondaryCatIds",e.cat),(0,n.Y)(e.ext)&&((0,n.X)(e.ext.advertiser_id)&&(0,o.a)(r,"meta.advertiserId",e.ext.advertiser_id),(0,n._)(e.ext.advertiser_name)&&(0,o.a)(r,"meta.advertiserName",e.ext.advertiser_name),(0,n._)(e.ext.agency_name)&&(0,o.a)(r,"meta.agencyName",e.ext.agency_name)),r}))},getUserSyncs:function(e,t){return t&&0!==t.length&&(e.iframeEnabled||e.pixelEnabled)?t.filter((e=>e.body&&e.body.ext&&e.body.ext.adk_usersync)).map((e=>e.body.ext.adk_usersync)).reduce(((e,t)=>e.concat(t)),[]).map((({url:e,type:t})=>({type:_l[t],url:e}))):[]}};function Tl(e,t){return void 0===e?{}:(0,n.x)(e,t)}function xl(e,t){let i={type:e.type};return t.sizes?[i.w,i.h]=t.sizes:t.aspect_ratios&&(i.wmin=t.aspect_ratios[0].min_width,i.hmin=t.aspect_ratios[0].min_height),(0,n.h)(i)}function Dl(e,t){if(!e)return!1;let i=(0,n.Q)(e.bidders)?e.bidders:[t],a="include"===e.filter;return(0,n.j)(i,t)===a}function Sl(){const e=navigator.language?"language":"userLanguage";return navigator[e].split("-")[0]}function Cl(e,t){let i={domain:e.domain,page:e.page};return(0,n.fb)(i,t.site),null!=e.ref?i.ref=e.ref:delete i.ref,i}function El(e){return!e||(e.sizes?(0,n.P)(e.sizes,2):!(0,n.Q)(e.aspect_ratios)||e.aspect_ratios.length>0&&e.aspect_ratios[0].min_height&&e.aspect_ratios[0].min_width)}(0,at.b)(wl),At.a.add(vt.a.adkernel,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.adkernel,wl.gvlid);const Rl=(0,se.d)({bidderCode:"amx"}),Al=/\.com?\.\w{2,4}$/,kl=/^\s*<\??(?:vast|xml)/i,Ol="https://1x1.a-mo.net/",Ml=Ol+"hbx/",Bl=Ol+"e",Pl="__amuidpb";function Nl(e,t){return null==e?[]:e.map(t).reduce(((e,t)=>null!=t&&e.concat(t)),[])}const Ul=(e,t)=>null==e||typeof e===t;function ql(e){const t=e.hostname.split("."),i=t.slice(t.length-(Al.test(e.hostname)?3:2)).join(".");return btoa(i).replace(/=+$/,"")}const jl=encodeURIComponent;function zl(){try{return Rl.getDataFromLocalStorage(Pl)}catch(e){return null}}function $l(e){const t=[];return Object.keys(e||{}).forEach((i=>{t.push(jl(i)+"="+jl(String(e[i])))})),jl(t.join("&"))}function Fl(e){const t={};return(0,n.a)(e,(e=>{t[e.bidId]=function(e){const t=(c=e.sizes,p=e.mediaTypes,c.concat((0,r.a)(p,`${b.b}.sizes`,[])||[]).concat((0,r.a)(p,`${b.d}.sizes`,[])||[]).sort(((e,t)=>t[0]*t[1]-e[0]*e[1]))[0]||[0,0]),i=e.mediaType===b.d||b.d in e.mediaTypes,a=i||t[1]>100,n=(0,r.a)(e,"params.tagId"),o=null!=e.params&&"string"==typeof e.params.adUnitId&&""!==e.params.adUnitId?e.params.adUnitId:e.adUnitCode,s=[e.sizes,(0,r.a)(e,`mediaTypes.${b.b}.sizes`,[])||[],(0,r.a)(e,`mediaTypes.${b.d}.sizes`,[])||[]],d={au:o,av:a,vd:(0,r.a)(e,`mediaTypes.${b.d}`,{})||{},vr:i,ms:s,aw:t[0],ah:t[1],tf:0,sc:e.schain||{},f:(l=Gl(e),"number"==typeof l&&isFinite(l)&&l>0?l:Vl),rtb:e.ortb2Imp};var l,c,p;return"string"==typeof n&&n.length>0&&(d.i=n),d}(e)})),t}const Ll=(e,t)=>(0,n.ub)(`${Ml}g_${e}?${(0,n.r)({...t,ts:Date.now(),eid:(0,n.B)()})}`),Vl=0;function Gl(e){if(!(0,n.U)(e.getFloor))return(0,r.a)(e,"params.floor",Vl);try{return e.getFloor({currency:"USD",mediaType:"*",size:"*",bidRequest:e}).floor}catch(e){return(0,n.ab)("call to getFloor failed: ",e),Vl}}function Wl(e,t,i){return(0,r.a)(e,"refererInfo."+t,i)}function Hl(e,t){if(null==e)return!1;const i=e[t];return null!=i&&!!("*"===i.bidders||(0,n.Q)(i.bidders)&&-1!==i.bidders.indexOf("amx"))&&(null==i.filter||"include"===i.filter)}function Kl(){const e=u.config.getConfig("userSync");if(null==e)return{d:0,l:0,t:0,e:!0};const t={d:e.syncDelay,l:e.syncsPerBidder,t:0,e:e.syncEnabled};return Hl(e.filterSettings,"all")?(t.t=0,t):(Hl(e.filterSettings,"iframe")&&(t.t|=2),Hl(e.filterSettings,"image")&&(t.t|=1),t)}function Xl(e){return null!=e?.gppConsent?e.gppConsent:e?.ortb2?.regs?.gpp??{gppString:"",applicableSections:""}}function Jl(e){if(null==e.refererInfo)return{r:"",t:!1,c:"",l:0,s:[]};const t=e.refererInfo;return{r:t.topmostLocation,t:t.reachedTop,l:t.numIframes,s:t.stack,c:t.canonicalUrl}}const Ql={code:"amx",gvlid:737,supportedMediaTypes:[b.b,b.d],isBidRequestValid:e=>Ul((0,r.a)(e,"params.endpoint",null),"string")&&Ul((0,r.a)(e,"params.tagId",null),"string"),buildRequests(e,t){const i=(a=t,(0,n.kb)(a.refererInfo?.topmostLocation||window.location.href));var a;const o=(0,r.a)(e[0],"params.tagId",null),s=(0,r.a)(e[0],"params.testMode",0),d=null!=e[0]?e[0]:{bidderRequestsCount:0,bidderWinsCount:0,bidRequestsCount:0};var l,c;return{data:{a:(0,n.s)(),B:0,b:i.host,brc:d.bidderRequestsCount||0,bwc:d.bidderWinsCount||0,trc:d.bidRequestsCount||0,tm:(c=s,!0===c||1===c||"true"===c),V:"8.30.0",vg:"hubjs",i:s&&null!=o?o:ql(i),l:{},f:.01,cv:"pba1.3.4",st:"prebid",h:screen.height,w:screen.width,gs:(0,r.a)(t,"gdprConsent.gdprApplies",""),gc:(0,r.a)(t,"gdprConsent.consentString",""),gpp:Xl(t),u:Wl(t,"page",i.href),do:Wl(t,"site",i.hostname),re:Wl(t,"ref"),am:zl(),usp:t.uspConsent||"1---",smt:1,d:"",m:Fl(e),cpp:u.config.getConfig("coppa")?1:0,fpd2:t.ortb2,tmax:t.timeout,amp:Wl(t,"isAmp",null),ri:Jl(t),sync:Kl(),eids:(l=e.reduce(((e,t)=>(null==t||null==t.userIdAsEids||(0,n.a)(t.userIdAsEids,(t=>{null!=t&&(e[t.source]=t)})),e)),{}),null!=Object.values?Object.values(l):Object.keys(l).map((e=>l[e])))},method:"POST",browsingTopics:!0,url:(0,r.a)(e[0],"params.endpoint","https://prebid.a-mo.net/a/c"),withCredentials:!0}},getUserSyncs(e,t,i,a,r){const o={gdpr_consent:jl(i?.consentString||""),gdpr:jl(i?.gdprApplies?1:0),us_privacy:jl(a||""),gpp:jl(r?.gppString||""),gpp_sid:jl(r?.applicableSections||"")},s={url:`https://prebid.a-mo.net/isyn?${(0,n.r)(o)}`,type:"iframe"};if(null==t||0===t.length)return e.iframeEnabled?[s]:[];const d=[];let l=!1;return(0,n.a)(t,(function({body:t}){null!=t&&null!=t.p&&t.p.hreq&&(0,n.a)(t.p.hreq,(function(t){const i=-1!==t.indexOf("__st=iframe")?"iframe":"image";(e.iframeEnabled||"image"===i)&&(l=l||"iframe"===i||-1!==t.indexOf("cchain"),d.push({url:t,type:i}))}))})),!l&&d.length<2&&d.push(s),d},interpretResponse(e,t){const i=e.body;return null==i||"string"==typeof i?[]:(i.am&&"string"==typeof i.am&&function(e){try{Rl.setDataInLocalStorage(Pl,e)}catch(e){}}(i.am),Nl(Object.keys(i.r),(e=>Nl(i.r[e],(i=>i.b.map((i=>{const a=function(e){return null!=(t=e.adm)&&kl.test(t)?b.d:b.b;var t}(i),n=i.adm;if(null==n)return null;const r=function(e,t,i){if(null!=e.w&&e.w>1&&null!=e.h&&e.h>1)return[e.w,e.h];const a=t.m[i];return null==a?[0,0]:[a.aw,a.ah]}(i,t.data,e),o=a===b.b?240:300;return{requestId:e,cpm:i.price,width:r[0],height:r[1],creativeId:i.crid,currency:"USD",netRevenue:!0,[a===b.d?"vastXml":"ad"]:n,meta:{advertiserDomains:i.adomain,mediaType:a},mediaType:a,ttl:"number"==typeof i.exp?i.exp:o}})))).filter((e=>null!=e)))))},onSetTargeting(e){null!=e&&Ll("pbst",{A:e.bidder,w:e.width,h:e.height,bid:e.adId,c1:e.mediaType,np:e.cpm,aud:e.requestId,a:e.adUnitCode,c2:$l(e.adserverTargeting),cn3:e.timeToRespond})},onTimeout(e){if(null==e||!e.length)return;let t=null;const i=e.map((e=>{const i=e.params||{},a=function(e){return null==e.sizes||0===e.sizes.length?[0,0]:e.sizes[0]}(e),{domain:n,page:r,ref:o}=null!=e.ortb2&&null!=e.ortb2.site?e.ortb2.site:{};return null==t&&(t={do:n,u:r,U:zl(),re:o,V:"8.30.0",vg:"hubjs"}),{A:e.bidder,mid:i.tagId,a:i.adunitId||e.adUnitCode,bid:e.bidId,n:"g_pbto",aud:e.transactionId,w:a[0],h:a[1],cn:e.timeout,cn2:e.bidderRequestsCount,cn3:e.bidderWinsCount}})),a=JSON.stringify({c:t,e:i});(0,zi.c)(Bl,{body:a,keepalive:!0,withCredentials:!0,method:"POST"}).catch((()=>{}))},onBidWon(e){null!=e&&Ll("pbwin",{A:e.bidder,w:e.width,h:e.height,bid:e.adId,C:e.mediaType===b.b?0:1,np:e.cpm,a:e.adUnitCode})}};(0,at.b)(Ql);const Yl=(e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}};At.a.add(vt.a.amx,Yl),At.b.add(vt.a.amx,Ql.gvlid);var Zl=i(98);const ec={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"},tc=["user.keywords"].concat(he.flatMap((e=>["keywords","content.keywords"].map((t=>`${e}.${t}`)))));function ic(e,...t){return function(...e){const t=new Set;return e.filter((e=>e)).flatMap((e=>Array.isArray(e)?e:e.split(","))).map((e=>e.replace(/^\s*/,"").replace(/\s*$/,""))).filter((e=>e)).forEach((e=>t.add(e))),Array.from(t.keys())}(...tc.map((t=>(0,r.a)(e,t))),...t)}const ac={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},nc=["user.data"].concat(he.map((e=>`${e}.content.data`)));function rc(e,t,i){return null==t?i:(0,n._)(t)?t:(0,n.X)(t)?t.toString():void(0,n.db)("Unsuported type for param: "+e+" required type: String")}function oc(e,t="keywords"){const i=[];return(0,n.a)(e,((e,a)=>{if((0,n.Q)(e)){let i=[];(0,n.a)(e,(e=>{((e=rc(t+"."+a,e))||""===e)&&i.push(e)})),e=i}else{if(e=rc(t+"."+a,e),!(0,n._)(e))return;e=[e]}e=e.filter((e=>""!==e));const r={key:a};e.length>0&&(r.value=e),i.push(r)})),i}function sc(e){const t={};return e.forEach((e=>{if(-1!==e.indexOf("=")){let i=e.split("="),a=i[0],n=i[1];t.hasOwnProperty(a)?t[a].push(n):t[a]=[n]}else t.hasOwnProperty(e)||(t[e]=[])})),t}function dc(...e){return oc((0,n.fb)(...e.map((e=>Object.fromEntries(Object.entries(e||{}).map((([e,t])=>[e,(0,n.X)(t)||(0,n._)(t)?[t]:t])))))))}function lc(e,...t){return dc(function(e){return sc(ic(e))}(e),function(e){let t={};return nc.forEach((i=>{((0,r.a)(e,i)||[]).forEach((e=>{const i=ac[(0,r.a)(e,"ext.segtax")];i&&e.segment.forEach((e=>{t[i]?t[i].push(e.id):t[i]=[e.id]}))}))})),t}(e),...t)}function cc(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function pc(e,t){return Object.keys(e).forEach((i=>{var a,r;t[i]&&((0,n.U)(e[i])?t[i]=e[i](t[i]):t[i]=(a=e[i],r=t[i],"string"===a?r&&r.toString():"number"===a?Number(r):r),isNaN(t[i])&&delete t.key)})),t}function uc(e,t){let i=[];for(let a=0;a<Math.ceil(e.length/t);a++){let n=a*t,r=n+t;i.push(e.slice(n,r))}return i}const mc="appnexus",bc=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],fc=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],gc=["age","externalUid","external_uid","segments","gender","dnt","language"],yc=["geo","device_id"],hc=["enabled","dongle","member_id","debug_timeout"],_c={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},vc={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Ic={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},wc=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,Tc=(0,se.d)({bidderCode:mc}),xc={code:mc,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32},{code:"adzymic",gvlid:32}],supportedMediaTypes:[b.b,b.d,b.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){const i=(e=(0,d.b)(e)).map(Dc),a=(0,p.b)(e,Cc);let r={};!0===u.config.getConfig("coppa")&&(r={coppa:!0}),a&&Object.keys(a.params.user).filter((e=>(0,p.c)(gc,e))).forEach((e=>{let t=cc(e);if("segments"===e&&(0,n.Q)(a.params.user[e])){let i=[];a.params.user[e].forEach((e=>{(0,n.X)(e)?i.push({id:e}):(0,n.Y)(e)&&i.push(e)})),r[t]=i}else"segments"!==e&&(r[t]=a.params.user[e])}));const o=(0,p.b)(e,Rc);let s;o&&o.params&&o.params.app&&(s={},Object.keys(o.params.app).filter((e=>(0,p.c)(yc,e))).forEach((e=>s[e]=o.params.app[e])));const l=(0,p.b)(e,Ac);let c;l&&l.params&&o.params.app&&o.params.app.id&&(c={appid:l.params.app.id});let m={},b={};const f=Tc.getCookie("apn_prebid_debug")||null;if(f)try{m=JSON.parse(f)}catch(e){(0,n.ab)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(_c).forEach((e=>{let t=(0,n.y)(e);(0,n._)(t)&&""!==t&&(m[_c[e]]=t,m.enabled=!0)})),m=pc({member_id:"number",debug_timeout:"number"},m);const t=(0,p.b)(e,kc);t&&t.debug&&(m=t.debug)}m&&m.enabled&&Object.keys(m).filter((e=>(0,p.c)(hc,e))).forEach((e=>{b[e]=m[e]}));const g=(0,p.b)(e,Ec),y=g?parseInt(g.params.member,10):0,h=e[0].schain,_=(0,p.b)(e,Mc),v={tags:[...i],user:r,sdk:{source:"pbjs",version:"8.30.0"},schain:h};_&&(v.iab_support={omidpn:"Appnexus",omidpv:"8.30.0"}),y>0&&(v.member_id=y),o&&(v.device=s),l&&(v.app=c);let I=lc((0,n.n)(t&&t.ortb2),(0,n.n)(u.config.getConfig("appnexusAuctionKeywords"))||{});if(I.length>0&&(v.keywords=I),u.config.getConfig("adpod.brandCategoryExclusion")&&(v.brand_category_uniqueness=!0),b.enabled&&(v.debug=b,(0,n.bb)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(b,null,4))),t&&t.gdprConsent&&(v.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){let e=t.gdprConsent.addtlConsent,i=e.substring(e.indexOf("~")+1);v.gdpr_consent.addtl_consent=i.split(".").map((e=>parseInt(e,10)))}if(t&&t.uspConsent&&(v.us_privacy=t.uspConsent),t?.gppConsent?v.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:t?.ortb2?.regs?.gpp&&(v.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){let e={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((e=>encodeURIComponent(e))).join(",")},i=t.refererInfo.canonicalUrl;(0,n._)(i)&&""!==i&&(e.rd_can=i),v.referrer_detection=e}if((0,p.b)(e,Oc)&&e.filter(Oc).forEach((e=>{const t=function(e,t){const{durationRangeSec:i,requireExactDuration:a}=t.mediaTypes.video,r=function(e){const{adPodDurationSec:t,durationRangeSec:i,requireExactDuration:a}=e,n=Math.min(...i),r=Math.floor(t/n);return a?Math.max(r,i.length):r}(t.mediaTypes.video),o=Math.max(...i);let s=function(e,t){let i=[];for(let a=0;a<t;a++){let t=(0,n.Y)(e)?(0,n.n)(e):e;i.push(t)}return i}(...e.filter((e=>e.uuid===t.bidId)),r);if(a){const e=uc(s,Math.ceil(r/i.length));i.forEach(((t,i)=>{e[i].map((e=>{Bc(e,"minduration",t),Bc(e,"maxduration",t)}))}))}else s.map((e=>Bc(e,"maxduration",o)));return s}(i,e),a=v.tags.filter((t=>t.uuid!==e.bidId));v.tags=[...a,...t]})),e[0].userId){let t=[];e[0].userIdAsEids.forEach((e=>{!e||!e.uids||e.uids.length<1||e.uids.forEach((i=>{let a={source:e.source,id:i.id};"adserver.org"==e.source?a.rti_partner="TDID":"uidapi.com"==e.source&&(a.rti_partner="UID2"),t.push(a)}))})),t.length&&(v.eids=t)}i[0].publisher_id&&(v.publisher_id=i[0].publisher_id);const w=function(e,t){let i=[],a={withCredentials:!0},r="https://ib.adnxs.com/ut/v3/prebid";if((0,Zl.a)(t?.gdprConsent)||(r="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,n.y)("apn_test").toUpperCase()&&!0!==u.config.getConfig("apn_test")||(a.customHeaders={"X-Is-Test":1}),e.tags.length>15){const o=(0,n.n)(e);uc(e.tags,15).forEach((e=>{o.tags=e;const n=JSON.stringify(o);i.push({method:"POST",url:r,data:n,bidderRequest:t,options:a})}))}else{const n=JSON.stringify(e);i={method:"POST",url:r,data:n,bidderRequest:t,options:a}}return i}(v,t);return w},interpretResponse:function(e,{bidderRequest:t}){e=e.body;const i=[];if(!e||e.error){let a=`in response for ${t.bidderCode} adapter`;return e&&e.error&&(a+=`: ${e.error}`),(0,n.ab)(a),i}if(e.tags&&e.tags.forEach((e=>{const a=(o=e)&&o.ads&&o.ads.length&&(0,p.b)(o.ads,(e=>e.rtb));var o;if(a&&(!0===k.a.get(t.bidderCode,"allowZeroCpmBids")?a.cpm>=0:a.cpm>0)&&(0,p.c)(this.supportedMediaTypes,a.ad_type)){const o=function(e,t,i){const a=(0,n.u)(e.uuid,[i]),o=(0,n.B)(),s={adId:o,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:a.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(s.meta=Object.assign({},s.meta,{advertiserDomains:[t.adomain]})),t.advertiser_id&&(s.meta=Object.assign({},s.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(s.meta=Object.assign({},s.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(s.meta=Object.assign({},s.meta,{brandId:t.brand_id})),t.rtb.video)switch(Object.assign(s,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,r.a)(a,"mediaTypes.video.context")){case b.a:const a=ec[t.brand_category_id]?ec[t.brand_category_id]:null;s.meta=Object.assign({},s.meta,{primaryCatId:a});const o=t.deal_priority;s.video={context:b.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:o},s.vastUrl=t.rtb.video.asset_url;break;case Pe.b:if(s.adResponse=e,s.adResponse.ad=s.adResponse.ads[0],s.adResponse.ad.video=s.adResponse.ad.rtb.video,s.vastXml=t.rtb.video.content,t.renderer_url){const a=(0,p.b)(i.bids,(t=>t.bidId===e.uuid));let o=(0,r.a)(a,"mediaTypes.video.renderer.options");o||(o=(0,r.a)(a,"renderer.options")),s.renderer=function(e,t,i={}){const a=m.a.install({id:t.renderer_id,url:t.renderer_url,config:i,loaded:!1,adUnitCode:e});try{a.setRender(Pc)}catch(e){(0,n.db)("Prebid Error calling setRender on renderer",e)}return a.setEventHandlers({impression:()=>(0,n.cb)("AppNexus outstream video impression event"),loaded:()=>(0,n.cb)("AppNexus outstream video loaded event"),ended:()=>{(0,n.cb)("AppNexus outstream renderer video event"),document.querySelector(`#${e}`).style.display="none"}}),a}(s.adUnitCode,t,o)}break;case Pe.a:s.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[b.c]){const e=t.rtb[b.c];let i;if(function(e){if(!e||""===e)return!1;let t=e.match(wc),i=null!=t&&t.length>=1,a=e.match("trk.js"),n=null!=a&&a.length>=1;return e.startsWith("<script")&&n&&i}(t.viewability.config)){let e="pbjs_adid="+o+";pbjs_auc="+a.adUnitCode;i=t.viewability.config.replace("dom_id=%native_dom_id%",e)}let r=e.javascript_trackers;null==r?r=i:(0,n._)(r)?r=[r,i]:r.push(i),s[b.c]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,video:e.video,javascriptTrackers:r},e.main_img&&(s.native.image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(s.native.icon={url:e.icon.url,height:e.icon.height,width:e.icon.width})}else{Object.assign(s,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(let e=0;e<t.rtb.trackers[0].impression_urls.length;e++){const i=t.rtb.trackers[0].impression_urls[e],a=(0,n.k)(i);s.ad+=a}}catch(e){(0,n.ab)("Error appending tracking pixel",e)}}return s}(e,a,t);o.mediaType=function(e){const t=e.ad_type;return t===b.d?b.d:t===b.c?b.c:b.b}(a),i.push(o)}})),e.debug&&e.debug.debug_info){let t="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;t=t.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,n.cb)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,n.cb)(t)}return i},getUserSyncs:function(e,t,i,a,n){if(e.iframeEnabled&&(0,Zl.a)(i)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((e=>"number"==typeof e&&e<=5))}(n))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,i){let a=oc;if(!0===t){let e=null,t=u.config.getConfig("s2sConfig");(0,n.Y)(t)?e=(0,r.a)(t,"endpoint.p1Consent"):(0,n.Q)(t)&&t.forEach((t=>{(0,p.c)(t.bidders,i.bids[0].bidder)&&(e=(0,r.a)(t,"endpoint.p1Consent"))})),e&&e.match("/openrtb2/prebid")&&(a=Uc)}return e=pc({member:"string",invCode:"string",placementId:"number",keywords:a,publisherId:"number"},e),t&&(Object.keys(e).forEach((t=>{let i=cc(t);i!==t&&(e[i]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function Dc(e){const t={};Object.keys(e.params).forEach((t=>{let i=cc(t);i!==t&&(e.params[i]=e.params[t],delete e.params[t])})),t.sizes=Sc(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code,t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;let i=function(e){if(!(0,n.U)(e.getFloor))return e.params.reserve?e.params.reserve:null;let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,n.Y)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(i&&(t.reserve=i),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{let i=(0,r.a)(e,"mediaTypes.banner.pos")||(0,r.a)(e,"mediaTypes.video.pos");0!==i&&1!==i&&3!==i||(t.position=3===i?2:i)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=Sc(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);const a=dc((o=(0,r.a)(e,"ortb2Imp.ext.data.keywords"),(0,n._)(o)&&""!==o?sc(o.split(/\s*(?:,)\s*/)):{}),e.params?.keywords);var o;a.length>0&&(t.keywords=a);let s=(0,r.a)(e,"ortb2Imp.ext.gpid")||(0,r.a)(e,"ortb2Imp.ext.data.pbadslot");if(s&&(t.gpid=s),(e.mediaType===b.c||(0,r.a)(e,`mediaTypes.${b.c}`))&&(t.ad_types.push(b.c),0===t.sizes.length&&(t.sizes=Sc([1,1])),e.nativeParams)){const i=function(e){const t={};return Object.keys(e).forEach((i=>{const a=Ic[i]&&Ic[i].serverName||Ic[i]||i,r=Ic[i]&&Ic[i].requiredParams;if(t[a]=Object.assign({},r,e[i]),(a===Ic.image.serverName||a===Ic.icon.serverName)&&t[a].sizes){let e=t[a].sizes;((0,n.P)(e)||(0,n.Q)(e)&&e.length>0&&e.every((e=>(0,n.P)(e))))&&(t[a].sizes=Sc(t[a].sizes))}a===Ic.privacyLink&&(t.privacy_supported=!0)})),t}(e.nativeParams);t[b.c]={layouts:[i]}}{const i=(0,r.a)(e,`mediaTypes.${b.d}`),a=(0,r.a)(e,"mediaTypes.video.context");t.hb_source=i&&"adpod"===a?7:1,(e.mediaType===b.d||i)&&t.ad_types.push(b.d),(e.mediaType===b.d||i&&"outstream"!==a)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((e=>(0,p.c)(bc,e))).forEach((i=>{switch(i){case"context":case"playback_method":let a=e.params.video[i];a=(0,n.Q)(a)?a[0]:a,t.video[i]=vc[i][a];break;case"frameworks":break;default:t.video[i]=e.params.video[i]}})),e.params.video.frameworks&&(0,n.Q)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),i&&(t.video=t.video||{},Object.keys(i).filter((e=>(0,p.c)(fc,e))).forEach((e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=i[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===i[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=i[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){let a=i[e];a=(0,n.Q)(a)?a[0]:a,a>=1&&a<=4&&(t.video.playback_method=a)}break;case"api":if(!t.video_frameworks&&(0,n.Q)(i[e])){let a=i[e].map((e=>{let t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((e=>e));t.video_frameworks=a}break;case"startdelay":case"placement":const a="context";if("number"!=typeof t.video[a]){const e=i.placement,n=i.startdelay,r=function(e){if(e)return 2===e?"in-banner":e>2?"outstream":void 0}(e)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(n);t.video[a]=vc[a][r]}}}))),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0}))}return e.params.frameworks&&(0,n.Q)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks),(0,r.a)(e,`mediaTypes.${b.b}`)&&t.ad_types.push(b.b),0===t.ad_types.length&&delete t.ad_types,t}function Sc(e){let t=[],i={};if((0,n.Q)(e)&&2===e.length&&!(0,n.Q)(e[0]))i.width=parseInt(e[0],10),i.height=parseInt(e[1],10),t.push(i);else if("object"==typeof e)for(let a=0;a<e.length;a++){let n=e[a];i={},i.width=parseInt(n[0],10),i.height=parseInt(n[1],10),t.push(i)}return t}function Cc(e){return!!e.params.user}function Ec(e){return!!parseInt(e.params.member,10)}function Rc(e){if(e.params)return!!e.params.app}function Ac(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function kc(e){return!!e.debug}function Oc(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===b.a}function Mc(e){let t=!1;const i=e.params,a=e.params.video;return i.frameworks&&(0,n.Q)(i.frameworks)&&(t=(0,p.c)(e.params.frameworks,6)),!t&&a&&a.frameworks&&(0,n.Q)(a.frameworks)&&(t=(0,p.c)(e.params.video.frameworks,6)),t}function Bc(e,t,i){(0,n.T)(e.video)&&(e.video={}),e.video[t]=i}function Pc(e,t){!function(e){try{const t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{const t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((()=>{(t?.defaultView||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Nc.bind(null,e))}))}function Nc(e,t,i){e.renderer.handleVideoEvent({id:t,eventName:i})}function Uc(e){let t="";return Object.keys(e).forEach((i=>{(0,n._)(e[i])?""!==e[i]?t+=`${i}=${e[i]},`:t+=`${i},`:(0,n.Q)(e[i])&&(""===e[i][0]?t+=`${i},`:e[i].forEach((e=>{t+=`${i}=${e},`})))})),t=t.substring(0,t.length-1),t}(0,at.b)(xc),At.a.add(vt.a.AppNexus,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a),r={...i.params,video:void 0};qd(e,t.placementId,n,[{bidder:i.bidder,params:r}])}if(a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream&&(t.rendering?.outstream?.hbvFormat?Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream):Md(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}])),a.instream){const n={frameworks:Rd.api,...i.params.video};Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:{...i.params,video:n}}])}})),At.b.add(vt.a.AppNexus,xc.gvlid);var qc=i(113);const{warn:jc}=ot.a.tag("criteo-formatter");At.a.add(vt.a.Criteo,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(i.params.nativeCallback&&(jc("Please remove all nativeCallback params from configuration"),delete i.params.nativeCallback),a.banner||a.skin||a.outstream||a.native){const n={},r={};let o,s;if(a.outstream){n.displayFormat=_a.a.outstream,n.mediaType=ua,n.requestSizes=[a.outstream.playerSize];const e={...Rd,playbackmethod:[2],placement:2,skip:1,...a.outstream.openRtbParams};r.video={...e,context:"outstream",playerSize:[a.outstream.playerSize]},o=xd()}if(a.native&&(n.displayFormat=_a.a.native,n.mediaType=pa,delete n.requestSizes,r.native={type:"image"}),a.banner||a.skin){const e=jd(a);r.banner||(r.banner={sizes:[]}),r.banner.sizes.push(...e),n.displayFormat=Ud(e)?_a.a.skin:_a.a.banner,n.mediaType=ca,n.requestSizes=r.banner.sizes}e.push({adUnitCode:t.placementId,mediaTypes:r,renderer:o,bids:[{bidder:i.bidder,params:{...i.params,nativeCallback:s},hbvMetadata:n}]})}if(a.instream){const n={...a.instream,openRtbParams:{playbackmethod:[2],placement:1,skip:1,...a.instream.openRtbParams}};Pd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}})),At.b.add(vt.a.Criteo,qc.a.gvlid);const zc={code:"dailymotion",gvlid:573,supportedMediaTypes:[b.d],isBidRequestValid:function(){const e=u.config.getConfig("dailymotion");return!!e?.api_key&&!!e?.position},buildRequests:function(e,t){return e.map((function(e){const i=u.config.getConfig("dailymotion");return{method:"POST",url:"https://pb.dmxleo.com",data:{bidder_request:t,config:i,coppa:u.config.getConfig("coppa"),request:e},options:{withCredentials:!0,crossOrigin:!0}}}))},interpretResponse:function(e){return e&&e.body?[e.body]:[]}};(0,at.b)(zc),At.a.add(vt.a.dailymotion,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),At.b.add(vt.a.dailymotion,zc.gvlid);const $c="freewheel-ssp",Fc="https",Lc=Fc+"://ads.stickyadstv.com/www/delivery/swfIndex.php",Vc=Fc+"://cdn.stickyadstv.com/mustang/mustang.min.js",Gc=Fc+"://cdn.stickyadstv.com/prime-time/",Wc=Fc+"://ads.stickyadstv.com/auto-user-sync";function Hc(e){for(var t=[0,0],i=0;i<e.length;i++)e[i][0]*e[i][1]>t[0]*t[1]&&(t=e[i]);return t}function Kc(e,t,i){for(var a=t||[0,0],n=i||[Number.MAX_VALUE,Number.MAX_VALUE],r=[],o=0;o<e.length;o++)e[o][0]*e[o][1]>=a[0]*a[1]&&e[o][0]*e[o][1]<=n[0]*n[1]&&r.push(e[o]);return Hc(r)}function Xc(e,t){var i="",a=e.querySelectorAll("Impression"),n=!1,r=!1;return Array.prototype.forEach.call(a,(function(e){if(n&&r)return i;n=!1,r=!1;var a=e.textContent.substring(e.textContent.indexOf("?")+1).split("&"),o="";Array.prototype.forEach.call(a,(function(e){var i=e.split("=");i[0]==t&&(o=i[1]),"reqType"==i[0]&&"AdsDisplayStarted"==i[1]&&(r=!0),"rootViewKey"==i[0]&&(n=!0)})),r&&(i=o)})),i}function Jc(e){var t="mustang";return e&&"inbanner"!==e&&(t=e),t}function Qc(e){return null!=e.getConfig("floors.data.currency")?e.getConfig("floors.data.currency"):"USD"}const Yc={code:$c,gvlid:285,supportedMediaTypes:[b.b,b.d],aliases:["stickyadstv","freewheelssp"],isBidRequestValid:function(e){return!!e.params.zoneId},buildRequests:function(e,t){return e.map((function(e){return((e,t)=>{var i=e.params.zoneId,a=(new Date).getTime(),o=function(e){var t=0;if(0==e.length)return t;for(var i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return t}(i+""+a),s=function(e,t){if(!(0,n.U)(e.getFloor))return(0,r.a)(e,"params.bidfloor",0);try{return e.getFloor({currency:Qc(t),mediaType:"object"==typeof e.mediaTypes.banner?"banner":"video",size:"*"}).floor}catch(e){return-1}}(e,u.config),d=e.params.format,l={reqType:"AdsSetup",protocolVersion:"4.2",zoneId:i,componentId:"prebid",componentSubId:Jc(e.params.format),timestamp:a,_fw_bidfloor:s>0?s:0,_fw_bidfloorcur:s>0?Qc(u.config):"",pbjs_version:"8.30.0",pKey:o};if(t&&t.gdprConsent&&(l._fw_gdpr_consent=t.gdprConsent.consentString,"boolean"==typeof t.gdprConsent.gdprApplies&&(l._fw_gdpr=t.gdprConsent.gdprApplies)),e.params.gdpr_consented_providers&&(l._fw_gdpr_consented_providers=e.params.gdpr_consented_providers),t&&t.uspConsent&&(l._fw_us_privacy=t.uspConsent),t&&t.gppConsent?(l.gpp=t.gppConsent.gppString,l.gpp_sid=t.gppConsent.applicableSections):t&&t.ortb2&&t.ortb2.regs&&t.ortb2.regs.gpp&&(l.gpp=t.ortb2.regs.gpp,l.gpp_sid=t.ortb2.regs.gpp_sid),t&&t.ortb2&&t.ortb2.site&&t.ortb2.site.content&&"object"==typeof t.ortb2.site.content)try{l._fw_prebid_content=JSON.stringify(t.ortb2.site.content)}catch(e){(0,n.db)("PREBID - "+$c+": Unable to stringify the content object: "+e)}var c=e.schain;if(c)try{l.schain=JSON.stringify(c)}catch(e){(0,n.db)("PREBID - "+$c+": Unable to stringify the schain: "+e)}if(e.userIdAsEids&&e.userIdAsEids.length>0)try{l._fw_prebid_3p_UID=JSON.stringify(e.userIdAsEids)}catch(e){(0,n.db)("PREBID - "+$c+": Unable to stringify the userIdAsEids: "+e)}var p=e.params.vastUrlParams;if("object"==typeof p)for(var m in p)p.hasOwnProperty(m)&&(l[m]=p[m]);var b,f,g=t?.refererInfo?.page;if((b=g)&&/^(https?|ftp|file):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(b)&&(l.loc=g),((f=e.mediaTypes.video&&e.mediaTypes.video.playerSize?(0,n.Q)(e.mediaTypes.video.playerSize[0])?e.mediaTypes.video.playerSize[0]:e.mediaTypes.video.playerSize:e.mediaTypes.banner.sizes?Kc(e.mediaTypes.banner.sizes,e.mediaTypes.banner.minSizeLimit,e.mediaTypes.banner.maxSizeLimit):Hc(e.sizes))[0]>0||f[1]>0)&&(l.playerSize=f[0]+"x"+f[1]),e.mediaTypes.video){var y=e.mediaTypes.video.context?e.mediaTypes.video.context:"",h=e.mediaTypes.video.placement?e.mediaTypes.video.placement:null,_=e.mediaTypes.video.plcmt?e.mediaTypes.video.plcmt:null;"inbanner"==d&&(h=2,y="In-Banner"),l.video_context=y,l.video_placement=h,l.video_plcmt=_}return{method:"GET",url:Lc,data:l,bidRequest:e}})(e,t)}))},interpretResponse:function(e,t){var i,a,r=t.bidRequest;a=r.mediaTypes.video&&r.mediaTypes.video.playerSize?(0,n.Q)(r.mediaTypes.video.playerSize[0])?r.mediaTypes.video.playerSize[0]:r.mediaTypes.video.playerSize:r.mediaTypes.banner.sizes?Kc(r.mediaTypes.banner.sizes,r.mediaTypes.banner.minSizeLimit,r.mediaTypes.banner.maxSizeLimit):Hc(r.sizes),"object"==typeof e&&"string"==typeof e.body&&(e=e.body);try{i=(new DOMParser).parseFromString(e,"application/xml")}catch(e){return void(0,n.db)("Prebid.js - "+$c+" : "+e)}const o=function(e){var t,i={},a=e.querySelectorAll("Extension");if(Array.prototype.forEach.call(a,(function(e){"StickyPricing"===e.getAttribute("type")&&(t=e)})),t){var r=t.querySelector("Price");i={currency:r.getAttribute("currency"),price:r.textContent||r.innerText}}else(0,n.db)("PREBID - "+$c+": No bid received or missing pricing extension.");return i}(i),s=(d="",l=i.querySelectorAll("Ad"),Array.prototype.forEach.call(l,(function(e){d+="["+e.getAttribute("id")+"]"})),d);var d,l;const c=Xc(i,"dealId"),p=Xc(i,"campaignId"),u=Xc(i,"adId"),m=function(){var e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}(),b=function(e){var t,i=[],a=e.querySelectorAll("Extension");if(Array.prototype.forEach.call(a,(function(e){"StickyBrand"===e.getAttribute("type")&&(t=e)})),t){var r=t.querySelector("Domain");i.push(r.textContent||r.innerText)}else(0,n.db)("PREBID - "+$c+": No bid received or missing StickyBrand extension.");return i}(i);m.freewheelssp_cache||(m.freewheelssp_cache={}),m.freewheelssp_cache[r.adUnitCode]=e;const f=[];if(o.price){const t={requestId:r.bidId,cpm:o.price,width:a[0],height:a[1],creativeId:s,currency:o.currency,netRevenue:!0,ttl:360,meta:{advertiserDomains:b},dealId:c,campaignId:p,bannerId:u};r.mediaTypes.video&&(t.mediaType="video"),t.vastXml=e,t.ad=(y=a,h=(g=r).params.format,_='<div id="freewheelssp_prebid_target" style="width:'+y[0]+"px;height:"+y[1]+'px;"></div>',v="",I="",h&&"inbanner"!==h?(I=Gc+Jc(g.params.format)+".min.js",v=function(e){var t=e.params;t.hasOwnProperty("domId")||t.hasOwnProperty("auto")||t.hasOwnProperty("p")||t.hasOwnProperty("article")||("intext-roll"===t.format?t.iframeMode="dfp":t.domId="freewheelssp_prebid_target");var i="var config = {  preloadedVast:vast,  ASLoader:new window.com.stickyadstv.tools.ASLoader("+e.params.zoneId+", '"+Jc(e.params.format)+"')";for(var a in t)t.hasOwnProperty(a)&&"format"!==a&&"zone"!==a&&"zoneId"!==a&&"vastUrlParams"!==a&&(i+=","+a+':"'+t[a]+'"');return i+"};window.com.stickyadstv."+(e.params.format||"").replace("-","")+".start(config);"}(g)):(I=Vc,v=function(e,t){return'var config = {      preloadedVast:vast,      autoPlay:true    };    var ad = new window.com.stickyadstv.vpaid.Ad(document.getElementById("freewheelssp_prebid_target"),config);    (new window.com.stickyadstv.tools.ASLoader('+e.params.zoneId+", '"+Jc(e.params.format)+"')).registerEvents(ad);    ad.initAd("+t[0]+","+t[1]+',"",0,"","");'}(g,y)),_+"<script type='text/javascript'>(function() {  var st = document.createElement('script'); st.type = 'text/javascript'; st.async = true;  st.src = '"+I+"';  st.onload = function(){    var vastLoader = new window.com.stickyadstv.vast.VastLoader();    var vast = vastLoader.getVast();    var topWindow = (function(){var res=window; try{while(top != res){if(res.parent.location.href.length)res=res.parent;}}catch(e){}return res;})();    vast.setXmlString(topWindow.freewheelssp_cache[\""+g.adUnitCode+'"]);    vastLoader.parseAds(vast, {      onSuccess: function() {'+v+" }    });  };  document.head.appendChild(st);})();<\/script>"),f.push(t)}var g,y,h,_,v,I;return f},getUserSyncs:function(e,t,i,a,r){const o={};i&&("boolean"==typeof i.gdprApplies?(o.gdpr=Number(i.gdprApplies),o.gdpr_consent=i.consentString):o.gdpr_consent=i.consentString),r&&("string"==typeof r.gppString&&(o.gpp=r.gppString),r.applicableSections&&(o.gpp_sid=r.applicableSections));var s="";o&&(s=`?${(0,n.r)(o)}`);const d=[];return e&&e.pixelEnabled?d.push({type:"image",url:Wc+s}):e.iframeEnabled&&d.push({type:"iframe",url:Wc+s}),d}};(0,at.b)(Yc),At.a.add(vt.a.Freewheel,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:{video:{},...i.params}}],t.rendering?.outstream),a.banner&&qd(e,t.placementId,a.banner.sizes,[{bidder:i.bidder,params:i.params}]),a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),At.b.add(vt.a.Freewheel,Yc.gvlid);const Zc="gumgum",ep=(0,se.d)({bidderCode:Zc}),tp={t:0,rq:8,pbv:"8.30.0"},ip=[b.b,b.d],ap=["dac.co.jp","audigent.com","id5-sync.com","liveramp.com","intentiq.com","liveintent.com","crwdcntrl.net","quantcast.com","adserver.org","yahoo.com"];let np={},rp=null;function op(e){const t=e=>new RegExp(`[?#&](${e}=(.*?))($|&)`,"i");let a,r,o,s,d,l,c={};try{a=i.g.top,r=a.screen,o=e||""}catch(e){return(0,n.ab)(e),c}var p;return c={vw:a.innerWidth,vh:a.innerHeight,sw:r.width,sh:r.height,pu:(p=o,["ggad","ggdeal"].reduce(((e,i)=>{const a=p.match(t(i));return a?(a[1]&&(e=e.replace(a[1],"")),a[3]&&(e=e.replace(a[3],"")),e):e}),p)),ce:ep.cookiesAreEnabled(),dpr:a.devicePixelRatio||1,jcsi:JSON.stringify(tp),ogu:function(){let e="";const t=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']");return e=t?t.content:null,e}()},l=function(){const e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection),t=e&&(e.downlink||e.bandwidth);return t?Math.round(1024*t):null}(),l&&(c.ns=l),s=(o.match(t("ggad"))||[0,0,0])[2],s&&(c[isNaN(s)?"eAdBuyId":"adBuyId"]=s),d=(o.match(t("ggdeal"))||[0,0,0])[2],d&&(c.ggdeal=d),c}function sp(e,t){return e.replace("AD_JSON",window.btoa(JSON.stringify(t)))}function dp(e){let t=0,i=0,a=0;return e.forEach((e=>{let[n,r]=e,o=n>r?n:r;(o>a||o===a&&n>=t&&r>=i)&&(a=o,t=n,i=r)})),[t,i]}function lp(e,t){const i={};if(e.inScreenPubID&&(i.pubId=e.inScreenPubID,i.pi=2),e.inScreen&&(i.t=e.inScreen,i.pi=2),e.inSlot){const[a,n]=dp(t);i.maxw=a,i.maxh=n,i.si=e.inSlot,i.pi=3,i.bf=t.reduce(((e,t)=>`${e}${e&&","}${t[0]}x${t[1]}`),"")}return e.ICV&&(i.ni=e.ICV,i.pi=5),e.videoPubID&&(i.pubId=e.videoPubID,i.pi=7),e.video&&(i.t=e.video,i.pi=7),e.inVideo&&(i.t=e.inVideo,i.pi=6),i}const cp={code:Zc,gvlid:61,aliases:["gg"],isBidRequestValid:function(e){const{params:t,adUnitCode:i}=e,a=t.inScreen||t.inScreenPubID||t.inSlot||t.ICV||t.video||t.inVideo||t.slot||t.native||t.zone||t.pubID;if(np[a])return(0,n.db)(`[GumGum] Please check the implementation for ${a} for the placement ${i}`),!1;switch(!0){case!!t.zone:case!!t.pubId:case!!t.inScreen:case!!t.inScreenPubID:case!!t.inSlot:case!!t.ICV:case!!t.video:case!!t.inVideo:case!!t.videoPubID:break;default:return(0,n.db)(`[GumGum] No product selected for the placement ${i}, please check your implementation.`),!1}return!(t.bidfloor&&("number"!=typeof t.bidfloor||!isFinite(t.bidfloor))&&((0,n.db)("[GumGum] bidfloor must be a Number"),1))},buildRequests:function(e,t){const i=[],a=t&&t.gdprConsent,o=t&&t.uspConsent,s=t&&t.gppConsent,d=t&&t.timeout,l=!0===u.config.getConfig("coppa")?1:0,c=t&&t.refererInfo&&t.refererInfo.page;return(0,n.a)(e,(e=>{const{bidId:p,mediaTypes:u={},params:m={},schain:b,userId:f={},ortb2Imp:g,adUnitCode:y=""}=e,{currency:h,floor:_}=function(e,t,i){const a=Object.keys(e)[0]||"banner",n={floor:0,currency:"USD"};if("function"==typeof i.getFloor){const{currency:e,floor:r}=i.getFloor({mediaType:a,size:"*"});r&&(n.floor=r),e&&(n.currency=e),t&&r&&"USD"===e&&(n.floor=Math.max(t,parseFloat(r)))}else t&&(n.floor=t);return n}(u,m.bidfloor,e),v=function(e){const t=["uid","eid","lipbid","envelope"];return Object.keys(e).reduce((function(i,a){const n=e[a];switch(typeof n){case"string":i[a]=n;break;case"object":const e=t.filter((e=>n.hasOwnProperty(e)));e.length&&(i[a]=n[e[0]])}return i}),{})}(f),I=(0,r.a)(g,"ext.data.pbadslot")||(0,r.a)(g,"ext.data.adserver.adslot");let w=[1,1],T={};const x=new Date,D=x.getTime(),S=x.getTimezoneOffset();if(T.lt=D,T.to=S,f&&f.pubProvidedId){let e=function(e){let t=JSON.stringify(e);if(t.length<=1800)return t;{const i=e.slice(0,Math.floor(e.length*(1800/t.length)));return t=JSON.stringify(i),t}}(f.pubProvidedId.filter((e=>ap.includes(e.source))));T.pubProvidedId=e}f&&f.id5id&&f.id5id.uid&&f.id5id.ext&&(T.id5Id=f.id5id.uid||null,T.id5IdLinkType=f.id5id.ext.linkType||null),y&&(T.aun=y);for(const e in v)T[e]=v[e];if(u.banner?w=u.banner.sizes:u.video&&(w=u.video.playerSize,T=function(e){const{minduration:t,maxduration:i,linearity:a,startdelay:r,placement:o,plcmt:s,protocols:d=[],playerSize:l=[]}=e,c=(0,n.jb)(l),[p,u]=c[0]&&c[0].split("x");let m="";d.length&&(m=d.join(","));const b={mind:t,maxd:i,li:a,sd:r,pt:o,pr:m,viw:p,vih:u};return null!=s&&(b.vplcmt=s),b}(u.video)),I&&(T.gpid=I),rp&&(T.pv=rp),_&&(T.fp=_,T.fpc=h),m.iriscat&&"string"==typeof m.iriscat&&(T.iriscat=m.iriscat),m.irisid&&"string"==typeof m.irisid&&(T.irisid=m.irisid),m.zone||m.pubId)if(m.zone?T.t=m.zone:T.pubId=m.pubId,T.pi=2,m.slot){const[e,t]=dp(w);T.maxw=e,T.maxh=t,T.si=m.slot,T.pi=3,T.bf=w.reduce(((e,t)=>`${e}${e&&","}${t[0]}x${t[1]}`),"")}else m.native?(T.ni=m.native,T.pi=5):u.video?T.pi=2===u.video.linearity?6:7:m.product&&"skins"===m.product.toLowerCase()&&(T.pi=8);else T={...T,...lp(m,w)};a&&(T.gdprApplies=a.gdprApplies?1:0),T.gdprApplies&&(T.gdprConsent=a.consentString),o&&(T.uspConsent=o),s?(T.gppString=t.gppConsent.gppString?t.gppConsent.gppString:"",T.gppSid=Array.isArray(t.gppConsent.applicableSections)?t.gppConsent.applicableSections.join(","):""):!s&&t?.ortb2?.regs?.gpp&&(T.gppString=t.ortb2.regs.gpp,T.gppSid=Array.isArray(t.ortb2.regs.gpp_sid)?t.ortb2.regs.gpp_sid.join(","):""),l&&(T.coppa=l),b&&b.nodes&&(T.schain=function(e){let t=`${e.ver},${e.complete}`;return e.nodes.map((e=>{t+=`!${encodeURIComponent(e.asi||"")},`,t+=`${encodeURIComponent(e.sid||"")},`,t+=`${encodeURIComponent(e.hp||"")},`,t+=`${encodeURIComponent(e.rid||"")},`,t+=`${encodeURIComponent(e.name||"")},`,t+=`${encodeURIComponent(e.domain||"")}`})),t}(b)),i.push({id:p,tmax:d,tId:g?.ext?.tid,pi:T.pi,selector:m.selector,sizes:w,url:"https://g2.gumgum.com/hbid/imp",method:"GET",data:Object.assign(T,op(c))})})),i},interpretResponse:function(e,t){const i=[],a=e.body;if(!a||a.err){const e=t.data||{},i=e.si||e.ni||e.t||e.pubId,r=a?a.err.drt:18e5;np[i]={productId:e.pi,timestamp:(new Date).getTime()},setTimeout((()=>{np[i]&&delete np[i]}),r),(0,n.db)(`[GumGum] Please check the implementation for ${i}`)}const{ad:{price:r,id:o,markup:s,cur:d,width:l,height:c,maxw:u,maxh:m},cw:f,pag:{pvid:g},jcsi:y,meta:{adomain:h,mediaType:_}}=Object.assign({ad:{price:0,id:0,markup:"",width:0,height:0},pag:{pvid:0},meta:{adomain:[],mediaType:""}},a);let v=t.data||{},I=v.pi,w=6===I||7===I?b.d:b.b,T=3===I&&9===v.si,x={advertiserDomains:h||[],mediaType:_||w},D=(0,n.jb)(t.sizes);if(u&&m)D=[`${u}x${m}`];else if(5===I&&(0,p.c)(D,"1x1"))D=["1x1"];else if(2===I&&(0,p.c)(D,"1x1")){const e=t.sizes&&t.sizes.reduce(((e,t)=>{const[i,a]=t;return l!==i&&c!==a||e.push(t.join("x")),e}),[])||[];D=e.length?e:(0,n.jb)(t.sizes)}let[S,C]=D[0].split("x");return y&&(a.jcsi=tp),rp=g,o&&i.push({ad:f?sp(f,Object.assign({},a,{bidRequest:t})):s,...w===b.d&&{ad:s,vastXml:s},mediaType:w,cpm:T?.1:r,creativeId:o,currency:d||"USD",height:C,netRevenue:!0,requestId:t.id,ttl:60,width:S,meta:x}),i},getUserSyncs:function(e,t){return t.map((e=>e.body&&e.body.pxs&&e.body.pxs.scr||[])).reduce((function(e,t){return e.concat(t)}),[]).map((e=>({type:"f"===e.t?"iframe":"image",url:e.u})))},supportedMediaTypes:ip};(0,at.b)(cp),At.a.add(vt.a.gumgum,Yl),At.b.add(vt.a.gumgum,cp.gvlid);const pp={code:"hubvisor",supportedMediaTypes:[pa,ca,ua],isBidRequestValid:e=>!!(0,Et.m)(e.params)&&!!(0,Et.n)(e.params.cpm,Et.l),buildRequests:e=>Zt.c?e.map((e=>{const t={requestId:e.bidId,type:ca,size:[300,250],cpm:10};e.params.type&&(t.type=e.params.type),e.params.cpm&&(t.cpm=e.params.cpm),t.type===ca&&e.mediaTypes.banner&&(t.size=e.mediaTypes.banner.sizes[0]??[300,250]),(e.mediaTypes.native||t.type===pa)&&(t.size=[1,1],t.type=pa),(e.mediaTypes.video||t.type===ua)&&(t.size=e.mediaTypes.video?.playerSize[0]??[640,480],t.type=ua),e.params.size&&(t.size=e.params.size),e.params.bannerHtml&&(t.bannerHtml=e.params.bannerHtml);const i=new Blob([JSON.stringify(t)],{type:"application/json"});return{method:"GET",url:URL.createObjectURL(i)}})):[],interpretResponse(e){const t=e.body,[i,a]=t.size,n={requestId:t.requestId,cpm:t.cpm,width:i,height:a,creativeId:"test",dealId:void 0,currency:"USD",netRevenue:!0,ttl:300,mediaType:t.type};return t.type===ua?n.vastUrl="https://cache-service.hubvisor.io/?crid=hbv-test":t.type===pa?n.native={body:"Profitez des offres Hubvisor. Avec Hubvisor, bénéficiez d'avantages exclusifs. Cliquez sur cette publicité pour en découvrir plus",clickUrl:"https://www.hubvisor.io",cta:"Click for More",icon:{width:32,height:32,url:"https://cdn.hubvisor.io/assets/hubvisor-icon.png"},image:{width:200,height:200,url:"https://cdn.hubvisor.io/assets/hubvisor-image-colored.png"},sponsoredBy:"Hubvisor",title:"Hubvisor",impressionTrackers:[],javascriptTrackers:Zt.f?['<script>console.debug("Hubvisor native tracking set up");<\/script>']:[],price:"10€"}:t.type===ca&&(n.ad=(({width:e,height:t,bannerHtml:i})=>i||(1800===e&&1e3===t?'<a href="https://www.psg.fr/" target="_blank"><img id="hbv" src="https://cdn.hubvisor.io/assets/hubvisor-skin.png"/></a>':`\n  <style>\n  a { text-decoration: none; }\n  #hbv {\n    background: #fa709a;\n    background: linear-gradient(to bottom, #fa709a 0%, #fee140 100%);\n    width:${e}px;\n    height:${t}px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    color:#fff;\n    font-weight:bold;\n    font-size:2em;\n    text-align:center;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"\n  }\n  </style>\n  <a href="https://www.psg.fr/" target="_blank">\n    <div id="hbv">\n      TEST<br/>\n      ${e}x${t}\n    </div>\n  </a>\n  <script>\n  if (window.$sf) {\n    console.log('[hubvisor] safeframe detected')\n    window.$sf.ext.register(${e}, ${t}, (...args) => {\n      console.log('[hubvisor] safeframe updated: ', ...args)\n    })\n  }\n  <\/script>\n  `))({width:i,height:a,bannerHtml:t.bannerHtml})),[n]}};(0,at.b)(pp),At.a.add("hubvisor",((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(Zt.c){if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native),a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream),a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])}}));const up=new WeakMap;function mp(e){return(e=(0,n.jb)(e)).map((e=>{const[t,i]=e.split("x");return{w:parseInt(t,10),h:parseInt(i,10)}}))}const bp=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),fp={instream:1},gp={1:b.b,2:b.d,4:b.c},yp={[$i.f]:{fpd:{priority:99,fn(e,t){(0,n.fb)(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:_e("ORTB request")},props:{fn(e,t){Object.assign(e,{id:e.id||(0,n.s)(),test:e.test||0});const i=parseInt(t.timeout,10);isNaN(i)||(e.tmax=i)}}},[$i.c]:{fpd:{priority:99,fn(e,t){(0,n.fb)(e,t.ortb2Imp)}},id:{fn(e,t){e.id=t.bidId}},banner:{fn:function(e,t,i){if(i.mediaType&&i.mediaType!==b.b)return;const a=(0,r.a)(t,"mediaTypes.banner");if(a){const t={topframe:!0===(0,n.J)()?0:1};a.sizes&&(t.format=mp(a.sizes)),a.hasOwnProperty("pos")&&(t.pos=a.pos),e.banner=(0,n.fb)(t,e.banner)}}},pbadslot:{fn(e){const t=e.ext?.data?.pbadslot;t&&"string"==typeof t||delete e.ext?.data?.pbadslot}}},[$i.a]:{mediaType:{priority:99,fn:function(e,t,i){if(e.mediaType)return;const a=i.mediaType;if(!a&&!gp.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=a||gp[t.mtype]}},banner:{fn:function({createPixel:e=(e=>(0,n.k)(decodeURIComponent(e)))}={}){return function(t,i){t.mediaType===b.b&&(i.adm&&i.nurl?(t.ad=i.adm,t.ad+=e(i.nurl)):i.adm?t.ad=i.adm:i.nurl&&(t.adUrl=i.nurl))}}()},props:{fn(e,t,i){Object.entries({requestId:i.bidRequest?.bidId,seatBidId:t.id,cpm:t.price,currency:i.ortbResponse.cur||i.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||i.ttl,netRevenue:i.netRevenue}).filter((([e,t])=>void 0!==t)).forEach((([t,i])=>e[t]=i)),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain)}}}};function hp(...e){const t=e.shift(),i=e.length>1?hp(...e):e[0];return Object.fromEntries($i.e.map((e=>[e,Object.assign({},t[e],i[e])])))}function _p({context:e={},processors:t=vp,overrides:i={},imp:a,request:r,bidResponse:o,response:s}={}){const d=new WeakMap;function l(e,a,n,r){let o;return function(){return null==o&&(o=function(){let o=n.bind(this,function(e,t={}){if(!up.has(e)){const t=Object.entries(e);t.sort(((e,t)=>(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1)),up.set(e,t.map((([e,t])=>[e,t.fn])))}const i=up.get(e).filter((([e])=>!t.hasOwnProperty(e)||t[e])).map((function([e,i]){return t.hasOwnProperty(e)?t[e].bind(this,i):i}));return function(){const e=Array.from(arguments);i.forEach((t=>{t.apply(this,e)}))}}(t()[e]||{},i[e]||{}));return a&&(o=a.bind(this,o)),function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e,...arguments)}}}()),o.apply(this,arguments)}}const c=l($i.c,a,(function(e,t,i){const a={};return e(a,t,i),a}),(function(e,t,i){(0,n.ab)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:i})})),p=l($i.f,r,(function(e,t,i,a){const n={imp:t};return e(n,i,a),n}),(function(e,t,i,a){throw(0,n.ab)("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:i,context:a}),e})),u=l($i.a,o,(function(e,t,i){const a={};return e(a,t,i),a}),(function(e,t,i){(0,n.ab)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:i})})),m=l($i.g,s,(function(e,t,i,a){const n={bids:t};return e(n,i,a),n}),(function(e,t,i,a){throw(0,n.ab)("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:i,context:a}),e}));return{toORTB({bidderRequest:t,bidRequests:i,context:a={}}){i=i||t.bids;const r={req:Object.assign({bidRequests:i},e,a),imp:{}};r.req.impContext=r.imp;const o=i.map((i=>{const o=Object.assign({bidderRequest:t,reqContext:r.req},e,a),s=c(i,o);if(null!=s){if(s.hasOwnProperty("id"))return Object.assign(o,{bidRequest:i,imp:s}),r.imp[s.id]=o,s;(0,n.ab)("Converted ORTB imp does not specify an id, ignoring bid request",i,s)}})).filter(Boolean),s=p(o,t,r.req);return r.req.bidderRequest=t,null!=s&&d.set(s,r),s},fromORTB({request:e,response:t}){const i=d.get(e);if(null==i)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function a(t,i={}){return Object.assign(t,{ortbRequest:e},i,t)}const r=Object.fromEntries((e.imp||[]).map((e=>[e.id,e]))),o=(t.seatbid||[]).flatMap((e=>(e.bid||[]).map((o=>{if(r.hasOwnProperty(o.impid)&&i.imp.hasOwnProperty(o.impid))return u(o,a(i.imp[o.impid],{imp:r[o.impid],seatbid:e,ortbResponse:t}));(0,n.ab)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",o)})))).filter(Boolean);return m(o,t,a(i.req))}}}yp[$i.c].native={fn:function(e,t,i){if(i.mediaType&&i.mediaType!==b.c)return;let a=t.nativeOrtbRequest;a&&(a=Object.assign({},i.nativeRequest,a),a.assets?.length?e.native=(0,n.fb)({},{request:JSON.stringify(a),ver:a.ver},e.native):(0,n.db)("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}},yp[$i.a].native={fn:function(e,t){if(e.mediaType===b.c){let i;if(i="string"==typeof t.adm?JSON.parse(t.adm):t.adm,!(0,n.Y)(i)||!Array.isArray(i.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:i}}}},yp[$i.c].video={fn:function(e,t,i){if(i.mediaType&&i.mediaType!==b.d)return;const a=(0,r.a)(t,"mediaTypes.video");if(!(0,n.T)(a)){const t=Object.fromEntries(Object.entries(a).filter((([e])=>bp.has(e))));if(a.playerSize){const e=mp(a.playerSize);e.length>1&&(0,n.db)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(t,e[0])}const i=fp[a.context];null!=i&&(t.placement=i),e.video=(0,n.fb)(t,e.video)}}},yp[$i.a].video={fn:function(e,t,i){e.mediaType===b.d&&((0,r.a)(i.imp,"video.w")&&(0,r.a)(i.imp,"video.h")&&([e.playerWidth,e.playerHeight]=[i.imp.video.w,i.imp.video.h]),t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl))}};const vp=(0,n.eb)((()=>hp(yp,(0,$i.h)($i.b)))),Ip="improvedigital",wp={DEFAULT_MIMES:["video/mp4"],PLACEMENT_TYPE:{INSTREAM:1,OUTSTREAM:3}},Tp={code:Ip,gvlid:253,aliases:["id"],supportedMediaTypes:[b.b,b.c,b.d],syncStore:{extendMode:!1,placementId:null},isBidRequestValid:e=>!!(e&&e.params&&(e.params.placementId||e.params.placementKey&&e.params.publisherId)),buildRequests(e,t){return this.syncStore.placementId=this.syncStore.placementId||e[0].params.placementId,Dp.buildServerRequests(e,t)},interpretResponse:(e,{ortbRequest:t})=>xp.fromORTB({request:t,response:e.body}).bids,getUserSyncs(e,t,i,a){if(!0===u.config.getConfig("coppa")||!(0,Zl.a)(i))return[];const n=[];if(!this.syncStore.extendMode&&e.pixelEnabled||!e.iframeEnabled)e.pixelEnabled&&t.forEach((e=>{(0,r.a)(e,`body.ext.${Ip}.sync`,[]).forEach((e=>{n.some((t=>t.url===e))||n.push({type:"image",url:e})}))}));else{const{gdprApplies:e,consentString:r}=i||{},o=new Set;this.syncStore.extendMode&&t&&t.forEach((e=>{e?.body?.ext?.responsetimemillis&&Object.keys(e.body.ext.responsetimemillis).forEach((e=>o.add(e)))})),n.push({type:"iframe",url:`https://hb.360yield.com/prebid-universal-creative/load-cookie.html?placement_id=${this.syncStore.placementId}`+(this.syncStore.extendMode?"&pbs=1":"")+("boolean"==typeof e?`&gdpr=${Number(e)}`:"")+(r?`&gdpr_consent=${r}`:"")+(a?`&us_privacy=${encodeURIComponent(a)}`:"")+(o.size?`&bidders=${[...o].join(",")}`:"")})}return n}};(0,at.b)(Tp);const xp=_p({context:{ttl:300,nativeRequest:{eventtrackers:[{event:1,methods:[1,2]}]}},imp(e,t,i){const a=e(t,i);a.secure=Number("https:"===window.location.protocol),!a.bidfloor&&t.params.bidFloor&&(a.bidfloor=t.params.bidFloor,a.bidfloorcur=(0,n.t)("bidFloorCur",t.params).toUpperCase()||"USD");const r=i.extendMode?"ext.prebid.bidder.improvedigital":"ext.bidder",s=t.params.placementId;return s?((0,o.a)(a,`${r}.placementId`,s),i.extendMode&&(0,o.a)(a,"ext.prebid.storedrequest.id",""+s)):((0,o.a)(a,`${r}.publisherId`,(0,n.t)("publisherId",t.params)),(0,o.a)(a,`${r}.placementKey`,(0,n.t)("placementKey",t.params))),(0,o.a)(a,`${r}.keyValues`,(0,n.t)("keyValues",t.params)||void 0),a},request(e,t,i,a){const r=e(t,i,a);return(0,n.fb)(r,{id:(0,n.B)(),source:{},ext:{improvedigital:{sdk:{name:"pbjs",version:"8.30.0"}}}}),r},bidResponse(e,t,i){if(!t.adm||!t.price||t.hasOwnProperty("errorCode"))return;const{bidRequest:a}=i;i.mediaType=(()=>{const e=Object.keys(a.mediaTypes);return 1===e.length?e[0]:-1!==t.adm.search(/^(<\?xml|<vast)/i)?b.d:"{"===t.adm[0]?b.c:b.b})();const n=e(t,i),o=(0,r.a)(t,`ext.${Ip}`,{});return 1===o.pg&&(n.adserverTargeting={hb_deal_type_improve:"pg"}),Object.assign(n,{dealId:"string"==typeof o.buying_type&&"rtb"!==o.buying_type?o.line_item_id:void 0,netRevenue:o.is_net||!1}),n.mediaType===b.d&&Dp.isOutstreamVideo(a)&&Object.assign(n,{adResponse:{content:n.vastXml},renderer:Sp.createRenderer(a)}),Cp.forwardBid({bidRequest:a,bid:n}),n},overrides:{imp:{banner(e,t,i,a){if(i.mediaTypes[b.b]){if(!0!==u.config.getConfig("improvedigital.usePrebidSizes")){const e=Object.assign({},i.mediaTypes[b.b],{sizes:null});i={...i,mediaTypes:{[b.b]:e}}}e(t,i,a)}},video(e,t,i,a){if(!i.mediaTypes[b.d])return;const n=Object.assign({mimes:wp.DEFAULT_MIMES},i.mediaTypes[b.d],i.params?.video);e(t,{...i,mediaTypes:{[b.d]:n}},a),(0,o.a)(t,"ext.is_rewarded_inventory",1===n.rewarded||1===(0,r.a)(n,"ext.rewarded")||void 0),!t.video.placement&&Dp.isOutstreamVideo(i)&&(t.video.placement=wp.PLACEMENT_TYPE.OUTSTREAM)}},request:{gdprAddtlConsent(e,t,i){const a=i?.gdprConsent?.addtlConsent;if(a)if(Tp.syncStore.extendMode)e(t,i);else if(a&&-1!==a.indexOf("~")){const e=a.substring(a.indexOf("~")+1);e&&(0,o.a)(t,"user.ext.consented_providers_settings.consented_providers",e.split(".").map((e=>parseInt(e,10))))}}}}}),Dp={buildServerRequests(e,t){const i=!0===u.config.getConfig("improvedigital.extend"),a=[],n=!0===u.config.getConfig("improvedigital.singleRequest"),r=[],o=[];function s(e,i){if(e)return"https://pbs.360yield.com/openrtb2/auction";const a=[];return a.push((0,Zl.a)(t?.gdprConsent)?"https://ad.360yield.com":"https://ad.360yield-basic.com"),i&&a.push(i),a.push("pb"),a.join("/")}function d(e,i,a){const n=xp.toORTB({bidRequests:e,bidderRequest:t,context:{extendMode:a}});return{method:"POST",url:s(a,i),data:JSON.stringify(n),ortbRequest:n,bidderRequest:t}}let l=null;return e.map((e=>{const t=e.params.publisherId,s=this.isExtendModeEnabled(i,e.params);if(n){if(l){if(t&&l!==t)throw new Error("All Improve Digital placements in a single call must have the same publisherId. Please check your 'params.publisherId' or turn off the single request mode.")}else l=t;s?r.push(e):o.push(e)}else a.push(d([e],t,s))})),n?(r.length&&a.push(d(r,l,!0)),o.length&&a.push(d(o,l,!1)),a):a},isExtendModeEnabled(e,t){const i="boolean"==typeof t.extend?t.extend:e;return i&&!Tp.syncStore.extendMode&&(Tp.syncStore.extendMode=!0),i},isOutstreamVideo:e=>"outstream"===(0,r.a)(e,"mediaTypes.video.context")},Sp={RENDERER_URL:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",createRenderer(e){const t=m.a.install({id:e.adUnitCode,url:this.RENDERER_URL,config:(0,r.a)(e,"renderer.options"),adUnitCode:e.adUnitCode});try{t.setRender(this.render)}catch(e){(0,n.db)("Prebid Error calling setRender on renderer",e)}return t},render(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Sp.handleRendererEvents.bind(null,e))}))},handleRendererEvents(e,t,i){e.renderer.handleVideoEvent({id:t,eventName:i})}},Cp={RENDERER_URL:"https://cdn.360yield.com/razr/tag.js",forwardBid({bidRequest:e,bid:t}){if(t.mediaType!==b.b)return;const i={prebid:{bidRequest:e,bid:t}},a=`<script>window.__razr_config = ${JSON.stringify(i).replace(/<\/script>/gi,"\\x3C/script>")};<\/script>`;t.ad=t.ad.replace(/<body[^>]*>/,(e=>e+a)),this.installListener()},installListener(){this._listenerInstalled||(window.addEventListener("message",(function(e){const t=e.data?.razr?.load;if(!t)return;e.source&&(t.source=e.source,t.id&&e.source.postMessage({razr:{id:t.id}},"*"));const i=window.razr=window.razr||{};i.q=i.q||[],i.q.push(t),i.loaded||(0,Z.a)(Cp.RENDERER_URL,Ip)})),this._listenerInstalled=!0)}};At.a.add(vt.a.ImproveDigital,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native),a.outstream&&Md(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}])})),At.b.add(vt.a.ImproveDigital,Tp.gvlid);const Ep="ix",Rp="roundel",Ap=[b.b,b.d,b.c],kp=[144,144],Op={JPY:1},Mp={PBJS:"p",IX:"x"},Bp={BID_SIZE_INVALID_FORMAT:1,BID_SIZE_NOT_INCLUDED:2,PROPERTY_NOT_INCLUDED:3,SITE_ID_INVALID_VALUE:4,BID_FLOOR_INVALID_FORMAT:5,IX_FPD_EXCEEDS_MAX_SIZE:6,EXCEEDS_MAX_SIZE:7,PB_FPD_EXCEEDS_MAX_SIZE:8,VIDEO_DURATION_INVALID:9},Pp={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},Np={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","criteo.com":"","euid.eu":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},Up=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],qp=["mimes","minduration","maxduration"],jp=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],zp="ixdiag",$p=`${Ep}_features`;let Fp=!1;const Lp=(0,se.d)({bidderCode:Ep}),Vp={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:function(e){return(0,r.a)(this.featureToggles,`features.${e}.activated`,!1)},getFeatureToggles:function(){if(Lp.localStorageIsEnabled()){const e=(0,n.pb)(Lp.getDataFromLocalStorage($p));(0,r.a)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){const t=e.body,i=new Date,a=(0,r.a)(t,"ext.features");a&&(this.featureToggles={expiry:i.setHours(i.getHours()+1),features:a},Lp.localStorageIsEnabled()&&Lp.setDataInLocalStorage($p,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},Lp.localStorageIsEnabled()&&Lp.removeDataFromLocalStorage($p)}};let Gp=0,Wp="",Hp="",Kp=!1;function Xp(e){const t=Jp(e,b.d),i=(0,r.a)(e,"mediaTypes.video"),a=(0,r.a)(e,"params.video");if(tu(i,a).length)return{};t.video=a?(0,n.n)(e.params.video):{};let s=(0,r.a)(e,"ortb2Imp.ext.tid");s&&(0,o.a)(t,"ext.tid",s),function(e,t){if((0,r.a)(t,"mediaTypes.video.context")===Pe.b){let i=(0,r.a)(t,"mediaTypes.video.renderer");if(i||(i=(0,r.a)(t,"renderer")),(0,r.a)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(i&&"object"==typeof i){if(void 0!==i.url){let t="";try{t=new URL(i.url).hostname}catch{return}t.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=i.url}}else e.displaymanager="ix"}}(t,e),du(t,e);for(const e in i)-1===jp.indexOf(e)||t.video.hasOwnProperty(e)||(t.video[e]=i[e]);if(t.video.minduration>t.video.maxduration)return(0,n.ab)(`IX Bid Adapter: video minduration [${t.video.minduration}] cannot be greater than video maxduration [${t.video.maxduration}]`,{bidder:Ep,code:Bp.VIDEO_DURATION_INVALID}),{};const d=a&&a.context||i&&i.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,n.W)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,n.db)(`IX Bid Adapter: video.plcmt [${e.video.plcmt}] must be an integer between 1-4 inclusive`),delete e.video.plcmt)}(t),d&&!t.video.hasOwnProperty("placement")&&(d===Pe.a?t.video.placement=1:d===Pe.b?(0,r.a)(a,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,Kp=!0):(0,n.db)(`IX Bid Adapter: Video context '${d}' is not supported`)),!t.video.w||!t.video.h){const i=iu((0,r.a)(t,"video.playerSize"))||iu((0,r.a)(e,"params.size"));if(!i)return(0,n.db)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=i[0],t.video.h=i[1]}return Qp(e,t,b.d),t}function Jp(e,t){const i={};if(i.id=e.bidId,vu()&&(0,r.a)(e,"params.externalId")&&(0,o.a)(i,"ext.externalID",e.params.externalId),(0,r.a)(e,`params.${t}.siteId`)&&!isNaN(Number(e.params[t].siteId)))switch(t){case b.b:(0,o.a)(i,"ext.siteID",e.params.banner.siteId.toString());break;case b.d:(0,o.a)(i,"ext.siteID",e.params.video.siteId.toString());break;case b.c:(0,o.a)(i,"ext.siteID",e.params.native.siteId.toString())}else e.params.siteId&&(0,o.a)(i,"ext.siteID",e.params.siteId.toString());return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(0,o.a)(i,"ext.sid",String(e.params.id)),i}function Qp(e,t,i){let a=null,r=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(a={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,n.U)(e.getFloor)){let a="*",o="*";if(i&&(0,n.j)(Ap,i)){const{w:e,h:n}=t[i];a=i,o=[e,n]}try{r=e.getFloor({mediaType:a,size:o})}catch(e){(0,n.db)("priceFloors module call getFloor failed, error : ",e)}}let s=!1;r?(t.bidfloor=r.floor,t.bidfloorcur=r.currency,(0,o.a)(t,"ext.fl",Mp.PBJS),s=!0):a&&(t.bidfloor=a.floor,t.bidfloorcur=a.currency,(0,o.a)(t,"ext.fl",Mp.IX),s=!0),s&&(i==b.b?((0,o.a)(t,"banner.ext.bidfloor",t.bidfloor),(0,o.a)(t,"banner.ext.fl",t.ext.fl)):i==b.d?((0,o.a)(t,"video.ext.bidfloor",t.bidfloor),(0,o.a)(t,"video.ext.fl",t.ext.fl)):((0,o.a)(t,"native.ext.bidfloor",t.bidfloor),(0,o.a)(t,"native.ext.fl",t.ext.fl)))}function Yp(e,t,i){const a={},o=!(!(0,r.a)(e,"exp")||!(0,n.W)(e.exp)),s=(0,r.a)(e,"dealid")||(0,r.a)(e,"ext.dealid");Op.hasOwnProperty(t)?a.cpm=e.price/Op[t]:a.cpm=e.price/100,a.requestId=e.impid,s&&(a.dealId=s),a.netRevenue=!0,a.currency=t,a.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2!=e.mtype||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(a.vastUrl=e.ext.vasturl):a.vastXml=e.adm;let d=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{d=JSON.parse(e.adm)}catch(e){(0,n.db)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||2==e.mtype?(a.width=i.video.w,a.height=i.video.h,a.mediaType=b.d,a.mediaTypes=i.mediaTypes,a.ttl=o?e.exp:3600):d&&d.native?(a.native={ortb:d.native},a.width=e.w?e.w:1,a.height=e.h?e.h:1,a.mediaType=b.c,a.ttl=o?e.exp:3600):(a.ad=e.adm,a.width=e.w,a.height=e.h,a.mediaType=b.b,a.ttl=o?e.exp:300),a.meta={},a.meta.networkId=(0,r.a)(e,"ext.dspid"),a.meta.brandId=(0,r.a)(e,"ext.advbrandid"),a.meta.brandName=(0,r.a)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(a.meta.advertiserDomains=e.adomain),a}function Zp(e){return Array.isArray(e)&&2===e.length&&(0,n.W)(e[0])&&(0,n.W)(e[1])}function eu(e=[],t=[]){if(Zp(e))return e[0]===t[0]&&e[1]===t[1];for(let i=0;i<e.length;i++)if(e[i][0]===t[0]&&e[i][1]===t[1])return!0;return!1}function tu(e,t){const i=[];e||(0,n.db)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(let a of qp){const n=e&&e.hasOwnProperty(a),r=t&&t.hasOwnProperty(a);n||r||i.push(`IX Bid Adapter: ${a} is not included in either the adunit or params level`)}const a=e&&e.hasOwnProperty("protocol"),r=e&&e.hasOwnProperty("protocols"),o=t&&t.hasOwnProperty("protocol"),s=t&&t.hasOwnProperty("protocols");return a||r||o||s||i.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),i}function iu(e=[]){return Zp(e)?e:!!Zp(e[0])&&e[0]}function au(e,t,i){if(e)return{...(0,p.b)(i,(t=>t.bidId===e)),...(0,p.b)(t,(t=>t.id===e))}}function nu(e,t,i){let a=function(e){let t=[],i={};if((0,n.Q)(e))for(const a of e)Np.hasOwnProperty(a.source)&&(0,r.a)(a,"uids.0")&&(i[a.source]=!0,""!=Np[a.source]&&(a.uids[0].ext={rtiPartner:Np[a.source]}),delete a.uids[0].atype,t.push(a));return{toSend:t,seenSources:i}}((0,r.a)(e,"0.userIdAsEids")),s=a.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){let i=window.headertag.getIdentityInfo();if(i&&"object"==typeof i)for(const a in i)if(i.hasOwnProperty(a)){let n=i[a];!n.responsePending&&n.data&&"object"==typeof n.data&&Object.keys(n.data).length&&!t.seenSources[n.data.source]&&e.push(n.data)}}(s,a),t&&t.bidderCode===Rp&&!a.seenSources["liveramp.com"])return[];const d=[];let l=function(e){const t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=Lp.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);l=function(e,t){return t.length>0&&(e.ext.features={},t.forEach((t=>{e.ext.features[t]={activated:Vp.isFeatureEnabled(t)}}))),e}(l,Vp.REQUESTED_FEATURE_TOGGLES);let c=function(e,t){var i=e.map((e=>e.adUnitCode)).filter(((e,t,i)=>i.indexOf(e)===t));let a={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"8.30.0",userIds:cu(e[0]),url:window.location.href.split("?")[0],vpd:Kp,ae:t};for(let t of i){let i=e.filter((e=>e.adUnitCode===t))[0];(0,r.a)(i,"mediaTypes")&&(Object.keys(i.mediaTypes).length>1&&a.mfu++,(0,r.a)(i,"mediaTypes.native")&&a.nu++,(0,r.a)(i,"mediaTypes.banner")&&a.bu++,"outstream"===(0,r.a)(i,"mediaTypes.video.context")&&(a.ou++,_u(i)&&(a.ren=!0)),"instream"===(0,r.a)(i,"mediaTypes.video.context")&&a.iu++,a.allu++)}return a}(e,(0,r.a)(t,"fledgeEnabled"));for(var p in c)l.ext.ixdiag[p]=c[p];l=function(e,t,i,a,o){const s=(0,r.a)(t,"timeout");s&&(e.ext.ixdiag.tmax=s),u.config.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=u.config.getConfig("userSync").syncsPerBidder);const d=function(){if(!Lp.localStorageIsEnabled())return;const e={};let t;try{t=JSON.parse(Lp.getDataFromLocalStorage(zp)||"{}")}catch(e){return(0,n.ab)("ix can not read ixdiag from localStorage."),null}return Object.keys(t).forEach((i=>{Object.keys(t[i]).forEach((a=>{"number"==typeof t[i][a]&&(e[a]=e[a]?e[a]+t[i][a]:t[i][a])}))})),e}();return(0,n.T)(d)||(e.ext.ixdiag.err=d),e.ext.ixdiag.imps=Object.keys(i).length,e.source={tid:t?.ortb2?.source?.tid},a[0].schain&&(e.source.ext={},e.source.ext.schain=a[0].schain),o.length>0&&(e.user={},e.user.eids=o),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(l,t,i,e,s),l=function(e,t){if(t){t.gdprConsent&&(Wp=t.gdprConsent,Wp.hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:Wp.gdprApplies?1:0}}),Wp.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:Wp.consentString||""},Wp.hasOwnProperty("addtlConsent")&&Wp.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:Wp.addtlConsent}))),t.uspConsent&&((0,o.a)(e,"regs.ext.us_privacy",t.uspConsent),Hp=t.uspConsent);const i=(0,r.a)(t,"refererInfo.page");i&&(e.site.page=i),t.gppConsent&&((0,o.a)(e,"regs.gpp",t.gppConsent.gppString),(0,o.a)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return u.config.getConfig("coppa")&&(0,o.a)(e,"regs.coppa",1),e}(l,t),e[0].params.siteId&&(Gp=e[0].params.siteId);const m=Object.keys(i);let b=!1;for(let a=0;a<m.length&&!(d.length>=4);a++){l=ru(i,m,l,a);const o=(0,r.a)(t,"ortb2")||{},s={...o.site||o.context};s.page=ou(t);const c={...o.user};(0,n.T)(o)||b||(l=su(t,l,o,s,c),l.site=(0,n.fb)({},l.site,s),l.user=(0,n.fb)({},l.user,c),b=!0),l=lu(i,l,m,a);const p=a===m.length-1;if(l=Su(l),l=Tu(l),l=xu(l),p){let t="https://htlb.casalemedia.com/openrtb/pbjs?";0!==Gp&&(t+=`s=${Gp}`),vu()&&(t+=0!==Gp?"&":"",t+=`p=${u.config.getConfig("exchangeId")}`),d.push({method:"POST",url:t,data:(0,n.n)(l),option:{contentType:"text/plain"},validBidRequests:e}),l.imp=[],b=!1}}return d}function ru(e,t,i,a){const s=e[t[a]],{missingImps:d=[],ixImps:l=[]}=s,c={ixImps:l,missingBannerImpressions:d},p=Object.keys(c).map((e=>c[e])).filter((e=>Array.isArray(e))).reduce(((e,t)=>e.concat(...t)),[]),u=e[t[a]].gpid,m=e[t[a]].dfp_ad_unit_code,f=e[t[a]].tid,g=e[t[a]].sid,y=e[t[a]].ae,h=p.filter((e=>b.b in e)),_=p.filter((e=>!(b.b in e)));if(h.length>0){const s=h.reduce(((e,t)=>(e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e)),{});for(const d in s){const l=s[d],{id:c,banner:{topframe:p}}=l[0];let b=(0,r.a)(l[0],"ext.externalID");const h={id:c,banner:{topframe:p,format:l.map((({banner:{w:e,h:t},ext:i})=>({w:e,h:t,ext:i})))}};for(let e=0;e<h.banner.format.length;e++)null!=h.banner.format[e].ext&&(null!=h.banner.format[e].ext.sid&&delete h.banner.format[e].ext.sid,null!=h.banner.format[e].ext.externalID&&delete h.banner.format[e].ext.externalID),"bidfloor"in l[e]&&(h.banner.format[e].ext.bidfloor=l[e].bidfloor),"{}"===JSON.stringify(h.banner.format[e].ext)&&delete h.banner.format[e].ext;const _=e[t[a]].pos;(0,n.W)(_)&&(h.banner.pos=_),(m||u||f||g||y||b)&&(h.ext={},h.ext.dfp_ad_unit_code=m,h.ext.gpid=u,h.ext.tid=f,h.ext.sid=g,h.ext.externalID=b,1==y&&(h.ext.ae=1)),"bidfloor"in l[0]&&(h.bidfloor=l[0].bidfloor),"bidfloorcur"in l[0]&&(h.bidfloorcur=l[0].bidfloorcur);const v=e[t[a]].adUnitFPD;v&&(0,o.a)(h,"ext.data",v),i.imp.push(h)}}return _.length>0&&_.forEach((e=>{if(u&&(0,o.a)(e,"ext.gpid",u),i.imp.length>0){let t=!1;i.imp.forEach((a=>{e.id===a.id&&b.d in e?(a.video=e.video,a.video.ext=Object.assign({},e.video.ext,e.ext),(0,r.a)(a,"video.ext.bidfloor",!1)&&(0,r.a)(a,"bidfloor",!1)&&a.video.ext.bidfloor<a.bidfloor&&(a.bidfloor=a.video.ext.bidfloor),!(0,r.a)(a,"ext.siteID",!1)&&(0,r.a)(e,"video.ext.siteID")&&((0,o.a)(a,"ext.siteID",e.video.ext.siteID),(0,o.a)(i,"ext.ixdiag.usid",!0)),t=!0):e.id===a.id&&b.c in e&&(a.native=e.native,a.native.ext=Object.assign({},e.native.ext,e.ext),(0,r.a)(a,"native.ext.bidfloor",!1)&&(0,r.a)(a,"bidfloor",!1)&&a.native.ext.bidfloor<a.bidfloor&&(a.bidfloor=a.native.ext.bidfloor),!(0,r.a)(a,"ext.siteID",!1)&&(0,r.a)(e,"native.ext.siteID",!1)&&((0,o.a)(a,"ext.siteID",e.native.ext.siteID),(0,o.a)(i,"ext.ixdiag.usid",!0)),t=!0)})),t||i.imp.push(e)}else i.imp.push(e)})),i}function ou(e){const t=e&&e.bidderCode||"ix",i=u.config.getConfig(t);let a="";return a=(0,r.a)(e,"ortb2.site.page")?e.ortb2.site.page:(0,r.a)(e,"refererInfo.page"),i&&"object"==typeof i.firstPartyData?function(e,t,i){let a;try{a=new URL(t)}catch(i){(0,n.db)(`IX Bid Adapter: Invalid URL set in ortb2.site.page: ${t}. Using referer URL instead.`),a=new URL((0,r.a)(e,"refererInfo.page"))}const o=new URLSearchParams(a.search);for(const[e,t]of Object.entries(i))o.has(e)||o.append(e,t);return a.search=o.toString(),a.toString()}(e,a,i.firstPartyData):a}function su(e,t,i,a,r){if(t.ext.ixdiag.fpd=!0,Object.keys(a).forEach((e=>{-1===Pp.SITE.indexOf(e)&&delete a[e]})),Object.keys(r).forEach((e=>{-1===Pp.USER.indexOf(e)&&delete r[e]})),i.device){const e={...i.device.sua};(0,n.T)(e)||(0,o.a)(t,"device.sua",e)}return i.hasOwnProperty("regs")&&!e.gppConsent&&(i.regs.hasOwnProperty("gpp")&&"string"==typeof i.regs.gpp&&(0,o.a)(t,"regs.gpp",i.regs.gpp),i.regs.hasOwnProperty("gpp_sid")&&Array.isArray(i.regs.gpp_sid)&&(0,o.a)(t,"regs.gpp_sid",i.regs.gpp_sid)),t}function du(e,t){const i=(0,r.a)(t,"ortb2Imp.ext.data");i&&(0,o.a)(e,"ext.data",i)}function lu(e,t,i,a){const n=e[i[a]].pbadslot,r=e[i[a]].tagId,o=e[i[a]].adUnitCode,s=e[i[a]].divId;return(n||r||o||s)&&(t.ext.ixdiag.pbadslot=n,t.ext.ixdiag.tagid=r,t.ext.ixdiag.adunitcode=o,t.ext.ixdiag.divId=s),t}function cu(e){const t=e.userId||{};return Up.filter((e=>t[e]))}function pu(e,t){if(t)for(let i=0;i<e.length;i++){const a=e[i];if(t[0]===a[0]&&t[1]===a[1]){e.splice(i,1);break}}}function uu(e,t){const i=function(e){const t=Jp(e,b.c),i=e.nativeOrtbRequest;i.eventtrackers=[{event:1,methods:[1,2]}],i.privacy=1,t.native={request:JSON.stringify(i),ver:"1.2"};let a=(0,r.a)(e,"ortb2Imp.ext.tid");return a&&(0,o.a)(t,"ext.tid",a),du(t,e),Qp(e,t,b.c),t}(e);if(0!=Object.keys(i).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(i),t[e.adUnitCode].gpid=(0,r.a)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,r.a)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,r.a)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,r.a)(e,"params.tagId");const a=e.adUnitCode,n=document.getElementById(a)?a:(0,Js.a)(a).divId;t[e.adUnitCode].adUnitCode=a,t[e.adUnitCode].divId=n}}function mu(e,t){const i=Xp(e);if(0!=Object.keys(i).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(i),t[e.adUnitCode].gpid=(0,r.a)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,r.a)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,r.a)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,r.a)(e,"params.tagId");const a=e.adUnitCode,n=document.getElementById(a)?a:(0,Js.a)(a).divId;t[e.adUnitCode].adUnitCode=a,t[e.adUnitCode].divId=n}}function bu(e,t,i,a){let o=function(e){const t=Jp(e,b.b);t.banner={},t.adunitCode=e.adUnitCode;const i=(0,r.a)(e,"params.size");return i&&(t.banner.w=i[0],t.banner.h=i[1]),t.banner.topframe=(0,n.J)()?0:1,Qp(e,t,b.b),t}(e);const s=eu((0,r.a)(e,"mediaTypes.banner.sizes"),(0,r.a)(e,"params.size"));if(i.hasOwnProperty(e.adUnitCode)||(i[e.adUnitCode]={}),i[e.adUnitCode].gpid=(0,r.a)(e,"ortb2Imp.ext.gpid"),i[e.adUnitCode].dfp_ad_unit_code=(0,r.a)(e,"ortb2Imp.ext.data.adserver.adslot"),i[e.adUnitCode].tid=(0,r.a)(e,"ortb2Imp.ext.tid"),i[e.adUnitCode].pbadslot=(0,r.a)(e,"ortb2Imp.ext.data.pbadslot"),i[e.adUnitCode].tagId=(0,r.a)(e,"params.tagId"),i[e.adUnitCode].pos=(0,r.a)(e,"mediaTypes.banner.pos"),(0,r.a)(a,"fledgeEnabled")){const t=(0,r.a)(e,"ortb2Imp.ext.ae");t?(0,n.W)(t)?i[e.adUnitCode].ae=t:(0,n.db)("error setting auction environment flag - must be an integer"):1==(0,r.a)(a,"defaultForSlots")&&(i[e.adUnitCode].ae=1)}const d=(0,r.a)(e,"ortb2Imp.ext.data");d&&(i[e.adUnitCode].adUnitFPD=d);const l=(0,r.a)(e,"params.id");!l||"string"!=typeof l&&"number"!=typeof l||(i[e.adUnitCode].sid=String(l));const c=e.adUnitCode,p=document.getElementById(c)?c:(0,Js.a)(c).divId;i[e.adUnitCode].adUnitCode=c,i[e.adUnitCode].divId=p,s&&(i[e.adUnitCode].hasOwnProperty("ixImps")||(i[e.adUnitCode].ixImps=[]),i[e.adUnitCode].ixImps.push(o)),function(e,t,i){if(t.hasOwnProperty(e.adUnitCode)){let i=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(i=t[e.adUnitCode].missingSizes),pu(i,e.params.size),t[e.adUnitCode].missingSizes=i}else if((0,r.a)(e,"mediaTypes.banner.sizes")){let a=(0,n.n)(e.mediaTypes.banner.sizes);pu(a,e.params.size);let r={missingSizes:a,impression:i};t[e.adUnitCode]=r}}(e,t,o)}function fu(e,t,i){const a=(0,n.n)(t);return a.banner.w=i[0],a.banner.h=i[1],Qp(e,a,b.b),a}function gu(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Ep&&function(e){if(!Lp.localStorageIsEnabled())return;let t;try{t=JSON.parse(Lp.getDataFromLocalStorage(zp)||"{}")}catch(e){(0,n.db)("ix can not read ixdiag from localStorage.")}const i=new Date;if(Object.keys(t).map((e=>{const a=new Date(e);a.setDate(a.getDate()+7)-i<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Ep){const a=i.toISOString().slice(0,10),n=e.arguments[1].code;n&&(t[a]=t[a]||{},Number(t[a][n])||(t[a][n]=0),t[a][n]++)}Lp.setDataInLocalStorage(zp,JSON.stringify(t))}(e)}function yu(e){e.renderer.push((function(){const t=e.adUnitCode,i=document.getElementById(t)?t:(0,Js.a)(t).divId;i?window.createIXPlayer(i,e):(0,n.db)(`IX Bid Adapter: adUnitCode: ${i} not found on page.`)}))}function hu(e,t){const i=m.a.install({id:e,url:t,loaded:!1});try{i.setRender(yu)}catch(e){return(0,n.db)("Prebid Error calling setRender on renderer",e),null}return t?i:((0,n.db)("Outstream renderer URL not found"),null)}function _u(e){if("outstream"!==(0,r.a)(e,"mediaTypes.video.context"))return!1;let t=(0,r.a)(e,"mediaTypes.video.renderer");return t||(t=(0,r.a)(e,"renderer")),!("object"==typeof t&&t.url&&t.render)||t.backupOnly}function vu(){let e=u.config.getConfig("exchangeId");return!("number"!=typeof e||!isFinite(e))||!("string"!=typeof e||""===e.trim()||!isFinite(Number(e)))}const Iu={code:Ep,gvlid:10,aliases:[{code:Rp,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:Ap,isBidRequestValid:function(e){Fp||(s.on(l.EVENTS.AUCTION_DEBUG,gu),s.on(l.EVENTS.AD_RENDER_FAILED,gu),Fp=!0);const t=(0,r.a)(e,"params.video"),i=(0,r.a)(e,"params.size"),a=(0,r.a)(e,"mediaTypes.banner.sizes"),o=(0,r.a)(e,"mediaTypes.video"),d=(0,r.a)(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),p=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,n.j)(Ap,e.mediaType))return(0,n.db)("IX Bid Adapter: media type is not supported."),!1;if((0,r.a)(e,"mediaTypes.banner")&&!a)return!1;if(i){const t=iu(i);if(!t)return(0,n.ab)("IX Bid Adapter: size has invalid format.",{bidder:Ep,code:Bp.BID_SIZE_INVALID_FORMAT}),!1;if(!eu(e.sizes,t)&&!eu(d,t)&&!eu(a,t))return(0,n.ab)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:Ep,code:Bp.BID_SIZE_NOT_INCLUDED}),!1}if(!vu()&&null==e.params.siteId)return(0,n.ab)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(void 0!==e.params.siteId){if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,n.ab)("IX Bid Adapter: siteId must be string or number type.",{bidder:Ep,code:Bp.SITE_ID_INVALID_VALUE}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,n.ab)("IX Bid Adapter: siteId must valid value",{bidder:Ep,code:Bp.SITE_ID_INVALID_VALUE}),!1}if((c||p)&&!(c&&p&&function(e,t){return Boolean("number"==typeof e&&"string"==typeof t&&t.match(/^[A-Z]{3}$/))}(e.params.bidFloor,e.params.bidFloorCur)))return(0,n.ab)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:Ep,code:Bp.BID_FLOOR_INVALID_FORMAT}),!1;if(o&&t){const i=Xp(e).video,a=tu(o,t);if((0,r.a)(e,"mediaTypes.video.context")===Pe.b&&_u(e)&&i){const e=[(0,r.a)(i,"w"),(0,r.a)(i,"h")];if(!(e[0]>=kp[0]&&e[1]>=kp[1]))return(0,n.ab)(`IX Bid Adapter: ${e} is an invalid size for IX outstream renderer`),!1}if(a.length)return a.forEach((e=>{(0,n.ab)(e,{bidder:Ep,code:Bp.PROPERTY_NOT_INCLUDED})})),!1}return function(e){return void 0===(0,r.a)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},resetSiteID:function(){Gp=0},buildRequests:function(e,t){const i=[],a={},o={},s={},d={};Vp.getFeatureToggles(),e.forEach((e=>{const i=Object.keys((0,r.a)(e,"mediaTypes",{}));for(const r in i)switch(i[r]){case b.b:bu(e,d,a,t);break;case b.d:mu(e,o);break;case b.c:uu(e,s);break;default:(0,n.db)(`IX Bid Adapter: ad unit mediaTypes ${r} is not supported`)}}));for(let t in d)if(d.hasOwnProperty(t)){let i=d[t].missingSizes;a.hasOwnProperty(t)||(a[t]={}),a[t].hasOwnProperty("missingImps")||(a[t].missingImps=[],a[t].missingCount=0);let n=d[t].impression;for(let r=0;r<i.length;r++){let o=fu(e[0],n,i[r]);a[t].missingImps.push(o),a[t].missingCount++}}let l=[];return Object.keys(a).length>0&&l.push(a),Object.keys(o).length>0&&l.push(o),Object.keys(s).length>0&&l.push(s),Vp.isFeatureEnabled("pbjs_enable_multiformat")?i.push(...nu(e,t,function(e){const t={};return e.forEach((e=>{Object.keys(e).forEach((i=>{Object.keys(t).includes(i)?t[i].hasOwnProperty("ixImps")&&e[i].hasOwnProperty("ixImps")?t[i].ixImps=[...t[i].ixImps,...e[i].ixImps]:t[i].hasOwnProperty("missingImps")&&e[i].hasOwnProperty("missingImps")?t[i].missingImps=[...t[i].missingImps,...e[i].missingImps]:e[i].hasOwnProperty("ixImps")?t[i].ixImps=e[i].ixImps:e[i].hasOwnProperty("missingImps")&&(t[i].missingImps=e[i].missingImps):t[i]=e[i]}))})),t}(l))):(Object.keys(a).length>0&&i.push(...nu(e,t,a)),Object.keys(o).length>0&&i.push(...nu(e,t,o)),Object.keys(s).length>0&&i.push(...nu(e,t,s))),i},interpretResponse:function(e,t){const i=[];let a=null,o=(0,r.a)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(Vp.setFeatureToggles(e),!e.hasOwnProperty("body"))return i;const s=e.body,d=s.seatbid||[];for(let e=0;e<d.length;e++){if(!d[e].hasOwnProperty("bid"))continue;const o=d[e].bid,l=t.data;for(let e=0;e<o.length;e++){const n=au(o[e].impid,l.imp,t.validBidRequests);if(a=Yp(o[e],s.cur,n),a.mediaType===b.d&&_u(n)){const t=(0,r.a)(s,"ext.videoplayerurl");if(a.renderer=hu(o[e].bidId,t),!a.renderer)continue}i.push(a)}if((0,r.a)(l,"ext.ixdiag.err")&&Lp.localStorageIsEnabled())try{Lp.removeDataFromLocalStorage(zp)}catch(e){(0,n.ab)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(o)&&o.length>0))return i;o=o.filter((e=>!!function(e){return"object"==typeof e&&null!==e}(e)||((0,n.db)("Malformed auction config detected:",e),!1)));try{return{bids:i,fledgeAuctionConfigs:o}}catch(e){return(0,n.db)("Error attaching AuctionConfigs",e),i}},transformBidParams:function(e){return pc({siteID:"number"},e)},getUserSyncs:function(e,t){const i=[];let a=null;if(t.length>0&&(a=(0,r.a)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==a&&0==a)return[];if(e.iframeEnabled)i.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{let e=null;u.config.getConfig("userSync")&&(e=u.config.getConfig("userSync").syncsPerBidder),0===e&&(e=a),e=a&&(0===e||e)?a>e?e:a:1;for(let t=0;t<e;t++)i.push({type:"image",url:wu(e,t)})}return i}};function wu(e,t){let i="",a="0";return Wp&&Wp.hasOwnProperty("gdprApplies")&&(a=Wp.gdprApplies?"1":"0"),Wp&&Wp.hasOwnProperty("consentString")&&(i=Wp.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(0!==Gp?"&site_id="+Gp.toString():"")+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+a+"&gdpr_consent="+i+"&us_privacy="+(Hp||"")}function Tu(e){return e.imp.forEach(((t,i)=>{const a=t.ext;if(null==a)return e;Du(t)<2||Object.keys(a).forEach((n=>{if(b.b in t){const r=t.banner.ext;if(void 0!==r&&void 0!==r[n]&&r[n]==a[n]&&delete e.imp[i].banner.ext[n],void 0!==t.banner.format)for(let r=0;r<t.banner.format.length;r++)null!=t.banner.format[r].ext&&null!=t.banner.format[r].ext[n]&&t.banner.format[r].ext[n]==a[n]&&delete e.imp[i].banner.format[r].ext[n]}if(b.d in t){const r=t.video.ext;void 0!==r&&void 0!==r[n]&&r[n]==a[n]&&delete e.imp[i].video.ext[n]}if(b.c in t){const r=t.native.ext;void 0!==r&&void 0!==r[n]&&r[n]==a[n]&&delete e.imp[i].native.ext[n]}}))})),e}function xu(e){return e.imp.forEach(((t,i)=>{if(null==t.ext)return e;if(!(Du(t)<2)){if(b.b in t){const a=t.banner.ext;if(void 0!==a&&void 0!==a.siteID&&delete e.imp[i].banner.ext.siteID,void 0!==t.banner.format)for(let a=0;a<t.banner.format.length;a++)void 0!==t.banner.format[a].ext&&void 0!==t.banner.format[a].ext.siteID&&((0,o.a)(e.imp[i],"ext.siteID",t.banner.format[a].ext.siteID),(0,o.a)(e,"ext.ixdiag.usid",!0),delete e.imp[i].banner.format[a].ext.siteID)}if(b.d in t){const a=t.video.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[i].video.ext.siteID}if(b.c in t){const a=t.native.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[i].native.ext.siteID}}})),e}function Du(e){let t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function Su(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}(0,at.b)(Iu);const Cu=(e,t,i)=>{const[a,n]=i.playerSize;return{...t,...i.openRtbParams,protocols:[Ed.a.vast20,Ed.a.vast30,Ed.a.vast20Wrapper,Ed.a.vast30Wrapper],api:[Cd.a.vpaid10,Cd.a.vpaid20,Cd.a.mraid1,Cd.a.mraid2,Cd.a.omid1],...e.params.video,w:a,h:n}},Eu=[[1800,1e3],[970,250],[970,90],[1e3,90],[300,250],[300,600],[250,250],[200,200],[300,300],[728,90],[320,50],[300,50],[320,100],[300,100],[320,250],[320,480],[640,960],[120,600],[160,600]];At.a.add(vt.a.IndexExchange,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=(e=>e.filter((([e,t])=>{for(const[i,a]of Eu)if(e===i&&t===a)return!0;return!1})))(jd(a));n.length>0&&qd(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}if(a.outstream){const n=((e,t)=>Cu(e,Rd,t))(i,a.outstream),r={...i.params,video:n};Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:r}],t.rendering?.outstream)}if(a.instream){const n=((e,t)=>Cu(e,Ad,t))(i,a.instream),r=[{bidder:i.bidder,params:{...i.params,size:a.instream.playerSize,video:n}}],{api:o,linearity:s,mimes:d,maxduration:l,minduration:c,protocols:p,startdelay:u}=n,m={...a.instream,openRtbParams:{...a.instream.openRtbParams,api:o,linearity:s,mimes:d,maxduration:l,minduration:c,protocols:p,startdelay:u}};Pd(e,t.placementId,m,r)}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native)})),At.b.add(vt.a.IndexExchange,Iu.gvlid);const Ru={BIDDER_CODE:"invibes",BID_ENDPOINT:".videostep.com/Bid/VideoAdContent",BID_SUBDOMAIN:"https://bid",SYNC_ENDPOINT:"https://k.r66net.com/GetUserSync",TIME_TO_LIVE:300,DEFAULT_CURRENCY:"EUR",PREBID_VERSION:11,METHOD:"GET",INVIBES_VENDOR_ID:436,USERID_PROVIDERS:["pubcid","pubProvidedId","uid2","zeotapIdPlus","id5id"],META_TAXONOMY:["networkId","networkName","agencyId","agencyName","advertiserId","advertiserName","advertiserDomains","brandId","brandName","primaryCatId","secondaryCatIds","mediaType"],DISABLE_USER_SYNC:!0},Au=(0,se.d)({bidderCode:Ru.BIDDER_CODE}),ku={code:Ru.BIDDER_CODE,gvlid:Ru.INVIBES_VENDOR_ID,isBidRequestValid:function(e){return"object"==typeof e.params&&null!=e.params.placementId},buildRequests:function(e,t){t=t||{};const i=[],a=[];let n,r,o,s=Date.now();window.invibes=window.invibes||{},window.invibes.placementIds=window.invibes.placementIds||[],0==Uu&&function(){const{scrollHeight:e}=document.documentElement;if(void 0===Mu.originalURL)return void(Mu.originalURL=window.location.href);if(void 0===Mu.originalScrollHeight)return void(Mu.originalScrollHeight=e);const t=window.location.href;e>Mu.originalScrollHeight&&Mu.originalURL!==t&&(Uu=!0)}(),e.forEach((function(e){e.startTime=(new Date).getTime(),window.invibes.placementIds.includes(e.params.placementId)&&(qu=!0),window.invibes.placementIds.push(e.params.placementId),i.push(e.params.placementId),i.push(e.params.placementId),a.push(e.adUnitCode),o=o||e.params.domainId,n=n||e.params.customEndpoint,Bu=Bu||e.params.customUserSync,Pu=e?.params?.disableUserSyncs,r=r||e.userId})),Mu.optIn=Mu.optIn||function(e){if(e&&e.vendorData){if(Mu.GdprModuleInstalled=!0,Mu.gdpr_consent=(i=e.vendorData).purpose&&i.purpose.consents&&null!=i.tcString?i.tcString:i.consentData,!e.vendorData.gdprApplies||e.vendorData.hasGlobalConsent){var t;for(t=0;t<Mu.purposes.length;++t)Mu.purposes[t]=!0;for(t=0;t<Mu.legitimateInterests.length;++t)Mu.legitimateInterests[t]=!0;return 2}let a=function(e){return e.purpose&&e.purpose.consents?e.purpose.consents:e.purposeConsents?e.purposeConsents:null}(e.vendorData);if(null==a)return 0;let n=function(e){return e.purpose&&e.purpose.consents?e.tcfPolicyVersion>=4?11:10:5}(e.vendorData);if(!Ku(a,Mu.purposes,n))return 0;Ku(function(e){return e.purpose&&e.purpose.legitimateInterests?e.purpose.legitimateInterests:null}(e.vendorData),Mu.legitimateInterests,n);let r=Ru.INVIBES_VENDOR_ID.toString(10),o=function(e){return e.vendor&&e.vendor.consents?e.vendor.consents:e.vendorConsents?e.vendorConsents:null}(e.vendorData),s=!0===function(e){return e.vendor&&e.vendor.legitimateInterests?e.vendor.legitimateInterests:{}}(e.vendorData)[r];return null==o||null==o[r]?4:!1===o[r]&&!1===s?0:2}var i;return Mu.GdprModuleInstalled=!1,0}(t.gdprConsent),Mu.visitId=Mu.visitId||Lu();const d=function(){let e={};try{let t=Au.getDataFromLocalStorage("ivbs");null!=t&&(e=JSON.parse(t))}catch(e){}let t,i=/[\\?&]([^=]+)=([^\\?&#]+)/g;for(;null!=(t=i.exec(window.location.href));)t.index===i.lastIndex&&i.lastIndex++,e[t[1].toLowerCase()]=t[2];return e}();let l=function(e){let t;return e&&Ru.USERID_PROVIDERS.forEach((i=>{e[i]&&(t=t||{},t[i]=e[i])})),t}(r),c={placementIds:i,adUnitCodes:a,auctionStartTime:s,bidVersion:Ru.PREBID_VERSION};l&&(c.userId=l);let p={location:Vu(t),videoAdHtmlId:Lu(),showFallback:"0"===d.advs,ivbsCampIdsLocal:Wu("IvbsCampIdsLocal"),bidParamsJson:JSON.stringify(c),capCounts:Hu(),pcids:Object.keys(Mu.pushedCids).join(","),vId:Mu.visitId,width:Ou.innerWidth,height:Ou.innerHeight,oi:Mu.optIn,kw:Xu,purposes:Mu.purposes.toString(),li:Mu.legitimateInterests.toString(),tc:Mu.gdpr_consent,isLocalStorageEnabled:Au.hasLocalStorage(),preventPageViewEvent:Nu,isPlacementRefresh:qu,isInfiniteScrollPage:Uu},u=Wu("ivbsdid");if(!u){let e=Mu.getCookie("ivbsdid");if(e)try{let t=JSON.parse(e);u=t.id?t.id:t}catch(e){}}u&&(p.lId=u);const m="videoaddebug,advs,bvci,bvid,istop,trybvid,trybvci".split(",");for(let e in d)if(d.hasOwnProperty(e)){let t=d[e];(m.indexOf(e)>-1||/^vs|^invib/i.test(e))&&(p[e]=t)}let b=function(e,t,i){if(null!=e)return e;if(null!=t)return zu(t-1e3);if(i.length>0)for(var a=0;a<i.length;a++){const e=$u(i[a]);if(null!=e)return zu(e)}return zu(1)}(n,o,i);return Nu=!0,{method:Ru.METHOD,url:b,data:p,options:{withCredentials:!0},bidRequests:e}},interpretResponse:function(e,t){return function(e,t){if(null==t||0===t.length)return(0,n.bb)("Invibes Adapter - No bids have been requested"),[];if(!e)return(0,n.bb)("Invibes Adapter - Bid response is empty"),[];var i;if((e=(e=e.body||e).videoAdContentResult||e).ShouldSetLId&&e.LId&&(Mu.optIn&&Mu.purposes[0]||!e.PrivacyPolicyRule||!e.TcModel||!e.TcModel.PurposeConsents||(Mu.optIn=e.PrivacyPolicyRule,Mu.purposes=e.TcModel.PurposeConsents),i=e.LId,Mu.optIn&&Mu.purposes[0]&&Au.setDataInLocalStorage("ivbsdid",i)),"object"==typeof Mu.bidResponse){if(!0!==e.MultipositionEnabled)return(0,n.bb)("Invibes Adapter - Bid response already received. Invibes only responds to one bid request per user visit"),[];Mu.bidResponse.AdPlacements=Mu.bidResponse.AdPlacements.concat(e.AdPlacements)}else Mu.bidResponse=e;const a=[];for(let i=0;i<t.length;i++){let r=t[i],o=!0===e.UseAdUnitCode?r.params.placementId+"_"+r.adUnitCode:r.params.placementId;if(Mu.placementBids.indexOf(o)>-1){(0,n.bb)("Invibes Adapter - Placement was previously bid on "+o);continue}let s=null;if(null!=e.AdPlacements)for(let t=0;t<e.AdPlacements.length;t++){let i=e.AdPlacements[t].BidModel;if(null!=i&&i.PlacementId==o){s=e.AdPlacements[t];break}}else{let t=e.BidModel;null!=t&&t.PlacementId==o&&(s=e)}let d=ju(r,s,e.MultipositionEnabled,o);null!==d&&(Mu.placementBids.push(o),a.push(d))}return a}(e,null!=t?t.bidRequests:null)},getUserSyncs:function(e){if(e.iframeEnabled&&!(null==Pu||null==Pu?Ru.DISABLE_USER_SYNC:Pu))return{type:"iframe",url:function(){let e=Bu||Ru.SYNC_ENDPOINT;e+="?visitId="+Mu.visitId,e+="&optIn="+Mu.optIn;let t=Wu("ivbsdid");if(!t){let e=Mu.getCookie("ivbsdid");if(e)try{let i=JSON.parse(e);t=i.id?i.id:i}catch(e){}}return t&&(e+="&ivbsdid="+encodeURIComponent(t)),e}()}}};(0,at.b)(ku);const Ou=function(){let e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}();let Mu=Ou.invibes=Ou.invibes||{};Mu.purposes=Mu.purposes||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],Mu.legitimateInterests=Mu.legitimateInterests||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],Mu.placementBids=Mu.placementBids||[],Mu.pushedCids=Mu.pushedCids||{};let Bu,Pu,Nu=!1,Uu=!1,qu=!1;function ju(e,t,i,a){if(null===t||null===t.BidModel)return(0,n.bb)("Invibes Adapter - Placement not configured for bidding "+a),null;let r=t.BidModel,o=t.Ads;if(!Array.isArray(o)||o.length<1)return null!=t.AdReason&&(0,n.bb)("Invibes Adapter - No ads "+t.AdReason),(0,n.bb)("Invibes Adapter - No ads available"),null;let s=o[0],d=function(e){let t=[0,0];for(let i=0;i<e.length;i++)e[i][0]*e[i][1]>t[0]*t[1]&&(t=e[i]);return t}(e.sizes);if(!0===i&&Object.keys(Mu.pushedCids).length>0){if(null!=s.Blcids&&s.Blcids.length>0&&Object.keys(Mu.pushedCids).some((function(e){return s.Blcids.indexOf(parseInt(e))>-1})))return(0,n.bb)("Invibes Adapter - Ad blacklists pushed ids"),null;if(Object.keys(Mu.pushedCids).some((function(e){return Mu.pushedCids[e].indexOf(s.Cid)>-1})))return(0,n.bb)("Invibes Adapter - Ad is blacklisted"),null}Mu.pushedCids[s.Cid]=s.Blcids||[];const l=Date.now();return(0,n.bb)("Bid auction started at "+r.AuctionStartTime+" . Invibes registered the bid at "+l+" ; bid request took a total of "+(l-r.AuctionStartTime)+" ms."),{requestId:e.bidId,cpm:s.BidPrice,width:r.Width||d[0],height:r.Height||d[1],creativeId:s.VideoExposedId,currency:r.Currency||Ru.DEFAULT_CURRENCY,netRevenue:!0,ttl:Ru.TIME_TO_LIVE,ad:Gu(r),meta:Fu(r.Meta)}}function zu(e){return e<2?Ru.BID_SUBDOMAIN+Ru.BID_ENDPOINT:Ru.BID_SUBDOMAIN+e+Ru.BID_ENDPOINT}function $u(e){if(null==e)return null;var t=/_ivbs([0-9]+)/g.exec(e);return null!=t&&null!=t[1]?parseInt(t[1]):null}function Fu(e){var t={};if(null!=e)for(let i=0;i<Ru.META_TAXONOMY.length;i++)e.hasOwnProperty(Ru.META_TAXONOMY[i])&&(t[Ru.META_TAXONOMY[i]]=e[Ru.META_TAXONOMY[i]]);return t}function Lu(){return"10000000100040008000100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function Vu(e){return e.refererInfo.page.substring(0,300)}function Gu(e){return"<html>\n        <head><script type='text/javascript'>inDapIF=true;<\/script></head>\n          <body style='margin : 0; padding: 0;'>\n          creativeHtml\n          </body>\n        </html>".replace("creativeHtml",e.CreativeHtml)}function Wu(e){if(!Mu.GdprModuleInstalled||Mu.optIn&&Mu.purposes[0])return Au.getDataFromLocalStorage(e)||""}function Hu(){const e="ivvcap";if(!Mu.optIn||!Mu.purposes[0])return"";let t=function(){try{return JSON.parse(Au.getDataFromLocalStorage(e))||{}}catch(e){return{}}};return function(){!function(){let i=(new Date).getTime(),a=t(),n=!1;Object.keys(a).forEach((function(e){a[e][1]<=i&&(delete a[e],n=!0)})),n&&function(t){Au.setDataInLocalStorage(e,JSON.stringify(t))}(a)}();let i=t();return Object.keys(i).filter((function(e){return i.hasOwnProperty(e)})).sort().map((function(e){return[e,i[e][0]]}))}().map((function(e){return e.join("=")})).join(",")}function Ku(e,t,i){if(e instanceof Array){for(let a=0;a<i&&a<e.length;a++)t[a]=!(!1===e[a]||"false"===e[a]||null==e[a]);return!0}if("object"==typeof e&&null!==e){let a=0;for(let n in e){if(a===i)break;if(e.hasOwnProperty(n)){let i=parseInt(n);isNaN(i)?t[a]=!(!1===e[n]||"false"===e[n]||null==e[n]):t[i-1]=!(!1===e[n]||"false"===e[n]||null==e[n]),a++}}return!0}return!1}Mu.Uid={generate:function(){let e=parseInt("zzzzzz",36),t=function(){return Math.floor(Math.random()*e).toString(36)};return t()+t()}},Mu.getCookie=function(e){if(Au.cookiesAreEnabled()&&(!Mu.GdprModuleInstalled||Mu.optIn&&Mu.purposes[0]))return Au.getCookie(e)};let Xu=function(){let e=document.getElementsByTagName("head")[0],t=e?e.getElementsByTagName("meta"):[];function i(e,t){let i=e.replace(/[<>~|\\"`!@#$%^&*()=+?]/g,""),a=i.split(/[\s,;.:]+/).filter((function(e,t,i){return""!==e&&i.indexOf(e)===t}));i="";for(let e=0;e<a.length;e++){if(i+=a[e],i.length>=t)return i;e<a.length-1&&(i+=",")}return i}function a(e,a,n){e=e||"keywords",a=a||100;let r=n=n||"";for(let o=0;o<t.length;o++){if(t[o].name&&t[o].name.toLowerCase()===e.toLowerCase())return i(n+","+t[o].content||"",a);t[o].name&&t[o].name.toLowerCase().indexOf(e.toLowerCase())>-1&&(r=n+","+t[o].content||"")}return i(r,a)}let n=a("keywords",300);return(!n||n.length<292)&&(n=a("description",300,n),(!n||n.length<292)&&(r=(r=300)||300,n=i((n||"")+","+((document.title||e)&&e.getElementsByTagName("title")[0]?e.getElementsByTagName("title")[0].innerHTML:""),r))),n;var r}();At.a.add(vt.a.Invibes,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{a.outstream&&qd(e,t.placementId,[[1,1]],[{bidder:i.bidder,params:i.params}],{displayFormat:_a.a.outstream})})),At.b.add(vt.a.Invibes,ku.gvlid);const Ju="medianet",Qu="trustedstack";let Yu=(0,ce.a)(),Zu={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],Zu.urlData={domain:Yu.domain,page:Yu.page,isTop:Yu.reachedTop};const em=[{code:Qu}];function tm(){try{return window.top.document.referrer}catch(e){return document.referrer}}function im(e,t){const i=t.refererInfo;let a={domain:(e=e||{}).domain||i.domain,page:e.page||i.page,ref:e.ref||tm(),topMostLocation:i.topmostLocation,isTop:e.isTop||i.reachedTop};return Object.assign(a,function(){if(Zu.pageMeta)return Zu.pageMeta;let e=am('link[rel="canonical"]',"href"),t=am('meta[property="og:url"]',"content"),i=am('meta[name="twitter:url"]',"content");return Zu.pageMeta=Object.assign({},e&&{canonical_url:e},t&&{og_url:t},i&&{twitter_url:i}),Zu.pageMeta}())}function am(e,t){let i=function(e,t){try{let i=(0,n.G)().document.querySelector(e);if(null!==i&&i[t])return i[t]}catch(e){}}(e,t);return i&&function(e){let t=(0,n.G)().document.createElement("a");return t.href=e,t.href}(i)}function nm(e,t){return e.filter((e=>e.type===t))}function rm(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function om(e,t){const i=(0,r.a)(e,"params"),o=(0,r.a)(t,"gdprConsent"),s=(0,r.a)(t,"uspConsent"),d=(0,r.a)(e,"userId"),l=(0,r.a)(e,"schain")||{},c=mm.getWindowSize(),p=!(!o||!o.gdprApplies),m=!!s,b=!!u.config.getConfig("coppa");return Object.assign({},{customer_id:i.cid},{prebid_version:(0,a.a)().version},{gdpr_applies:p},p&&{gdpr_consent_string:o.consentString||""},{usp_applies:m},m&&{usp_consent_string:s||""},{coppa_applies:b},-1!==c.w&&-1!==c.h&&{screen:c},d&&{user_id:d},(0,a.a)().medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,n.T)(l)&&{schain:l})}function sm(e,t,i,a){let n=e.getFloor({currency:"USD",mediaType:t,size:i});i.length>1&&(n.size=i),n.mediaType=t,a.push(n)}function dm(e){return e.reduce(((e,t)=>t.h*t.w<e.h*e.w?t:e))}function lm(e,t){let i=t.w*t.h,a=mm.getWindowSize(),n={x:e.x+t.w,y:e.y+t.h};return 0===i||-1===a.w||-1===a.h?0:(r=e,o=n,s={x:0,y:0},d={x:a.w,y:a.h},(r.x>d.x||o.x<s.x||r.y>d.y||o.y<s.y?0:(Math.min(o.x,d.x)-Math.max(r.x,s.x))*(Math.min(o.y,d.y)-Math.max(r.y,s.y)))/i);var r,o,s,d}function cm(e,t){t=(0,n.Q)(t)&&t||[];let i={logid:"kfk",evtid:"projectevents",project:"prebid"};return i.acid=(0,r.a)(t,"0.auctionId")||"",i.cid=(0,a.a)().medianetGlobals.cid||"",i.crid=t.map((e=>(0,r.a)(e,"params.0.crid")||e.adUnitCode)).join("|"),i.adunit_count=t.length||0,i.dn=Zu.urlData.domain||"",i.requrl=Zu.urlData.page||"",i.istop=Zu.urlData.isTop||"",i.event=e.name||"",i.value=e.value||"",i.rd=e.related_data||"",i}function pm(e,t){let i={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:cm(e,t)};(0,n.ub)((0,n.e)(i))}function um(e){const t=(0,r.a)(e,"context")||"",i=(0,r.a)(e,"vto");"outstream"==t&&i&&(e.renderer=function(){const e=m.a.install({url:"https://prebid.media.net/video/bundle.js"});return e.setRender((function(e){window.mnet.queue.push((function(){const t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},i=e.dfp_id,a=(0,Js.a)(i).divId||i;window.mnet.mediaNetoutstreamPlayer(e,a,t)}))})),e}())}(0,a.a)().medianetGlobals=(0,a.a)().medianetGlobals||{};const mm={code:Ju,gvlid:142,aliases:em,supportedMediaTypes:[b.b,b.c,b.d],isBidRequestValid:function(e){return e.params?e.params.cid&&(0,n._)(e.params.cid)&&!(0,n.S)(e.params.cid)?(Object.assign((0,a.a)().medianetGlobals,!(0,a.a)().medianetGlobals.cid&&{cid:e.params.cid}),!0):((0,n.ab)(`${Ju} : cid should be a string`),!1):((0,n.ab)(`${Ju} : Missing bid parameters`),!1)},buildRequests:function(e,t){let i=function(e,t){return{site:im(e[0].params.site,t),ext:om(e[0],t),id:e[0].auctionId,imp:e.map((e=>function(e){let t={id:e.bidId,transactionId:e.ortb2Imp?.ext?.tid,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(t.ortb2Imp=e.ortb2Imp);let i=(0,r.a)(e,"mediaTypes.banner.sizes")||[];const a=(0,r.a)(e,"mediaTypes.video")||{},o=(0,r.a)(e,"params.video")||{},s=Object.assign({},o,a);var d;if((0,n.T)(s)||(t.video=s),i.length>0&&(t.banner=(d=i,(0,n.Q)(d)&&2===d.length&&!(0,n.Q)(d[0])?[rm(d)]:d.map((e=>rm(e))))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){(0,n.ab)(`${Ju} : Incorrect JSON : bidRequest.nativeParams`)}e.params.crid&&(t.tagid=e.params.crid.toString());let l=parseFloat(e.params.bidfloor||e.params.bidFloor);l&&(t.bidfloor=l);const c=function(e){let t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){const{divId:i}=(0,Js.a)(e);(0,n._)(i)&&(t=document.getElementById(i))}if(t&&t.getBoundingClientRect){const e=t.getBoundingClientRect();let i={};return i.top_left={y:e.top,x:e.left},i.bottom_right={y:e.bottom,x:e.right},i}return null}(e.adUnitCode);if(c&&t.banner&&0!==t.banner.length){let e=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(c);t.ext.coordinates=e,t.ext.viewability=lm(c.top_left,dm(t.banner)),lm(e.top_left,dm(t.banner))>.5?t.ext.visibility=1:t.ext.visibility=2}else t.ext.visibility=0;const p=function(e){let t=[];return"function"==typeof e.getFloor&&[b.b,b.d,b.c].forEach((i=>{e.mediaTypes.hasOwnProperty(i)&&(i==b.b?e.mediaTypes.banner.sizes.forEach((a=>{sm(e,i,a,t)})):sm(e,i,"*",t))})),t}(e);return p&&p.length>0&&(t.bidfloors=p),t}(e))),ortb2:t.ortb2,tmax:t.timeout}}(e=(0,d.b)(e),t);return{method:"POST",url:(a=t.bidderCode,o=i.ext.customer_id,(a===Qu?"https://prebid.trustedstack.com/rtb/trustedstack":"https://prebid.media.net/rtb/prebid")+"?cid="+encodeURIComponent(o)),data:JSON.stringify(i)};var a,o},interpretResponse:function(e){let t=[];if(!e||!e.body)return(0,n.bb)(`${Ju} : response is empty`),t;let i=e.body.bidList;return(0,n.Q)(i)&&0!==i.length?(t=i.filter((e=>function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e))),t.forEach(um),t):((0,n.bb)(`${Ju} : no bids`),t)},getUserSyncs:function(e,t){let i=(a=t,!(0,n.T)(a)&&a[0].body&&a[0].body.ext&&(0,n.Q)(a[0].body.ext.csUrl)?a[0].body.ext.csUrl:[]);var a;return e.iframeEnabled?nm(i,"iframe"):e.pixelEnabled?nm(i,"image"):void 0},onTimeout:e=>{try{pm({name:"client_timeout",value:e.length,related_data:e[0].timeout||u.config.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:e=>{try{pm({name:"client_bid_won",value:e.cpm},[e])}catch(e){}},clearMnData:function(){Zu={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};(0,at.b)(mm),At.a.add(vt.a.medianet,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.medianet,mm.gvlid);const bm="https://pbs-front.mediasquare.fr/",fm="https://bidder-test.mediasquare.fr/",gm={code:"mediasquare",gvlid:791,aliases:["msq"],supportedMediaTypes:[b.b,b.c,b.d],isBidRequestValid:function(e){return!(!e.params.owner||!e.params.code)},buildRequests:function(e,t){e=(0,d.b)(e);let i=[],a=document.location.search.match(/msq_test=true/)?fm:bm,n={};const r=u.config.getConfig("debug")?1:0;let o=null;Object.keys(e).forEach((t=>{n={},o=e[t],"function"==typeof o.getFloor&&Array.isArray(o.sizes)&&o.sizes.forEach((e=>{let t=o.getFloor({currency:"USD",mediaType:"*",size:e});t!={}&&(n[e.join("x")]=t)})),i.push({owner:o.params.owner,code:o.params.code,adunit:o.adUnitCode,bidId:o.bidId,auctionId:o.auctionId,transactionId:o.ortb2Imp?.ext?.tid,mediatypes:o.mediaTypes,floor:n})}));const s={codes:i,referer:encodeURIComponent(t.refererInfo.page||t.refererInfo.topmostLocation),pbjs:"8.30.0"};return t&&(t.gdprConsent&&(s.gdpr={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t.uspConsent&&(s.uspConsent=t.uspConsent),t.schain&&(s.schain=t.schain),t.userId?s.userId=t.userId:t.hasOwnProperty("bids")&&"object"==typeof t.bids&&t.bids.length>0&&t.bids[0].hasOwnProperty("userId")&&(s.userId=t.bids[0].userId)),r&&(s.debug=!0),{method:"POST",url:a+"msq_prebid",data:JSON.stringify(s)}},interpretResponse:function(e){const t=e.body,i=[];let a=null,n=null;return t.hasOwnProperty("responses")&&Object.keys(t.responses).forEach((e=>{n=t.responses[e],a={requestId:n.bid_id,cpm:n.cpm,width:n.width,height:n.height,creativeId:n.creative_id,currency:n.currency,netRevenue:n.net_revenue,ttl:n.ttl,ad:n.ad,mediasquare:{},meta:{advertiserDomains:n.adomain}},["bidder","code","match","hasConsent","context","increment","ova"].forEach((e=>{e in n&&(a.mediasquare[e]=n[e])})),"native"in n?(a.native=n.native,a.mediaType="native"):"video"in n&&("url"in n.video&&(a.vastUrl=n.video.url),"xml"in n.video&&(a.vastXml=n.video.xml),a.mediaType="video",a.renderer=function(e){const t=m.a.install({id:e.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,adUnitCode:e.adUnitCode,targetId:e.adUnitCode});return t.setRender(ym),t}(n)),n.hasOwnProperty("deal_id")&&(a.dealId=n.deal_id),i.push(a)})),i},getUserSyncs:function(e,t){return"object"==typeof t&&null!=t&&t.length>0&&t[0].hasOwnProperty("body")&&t[0].body.hasOwnProperty("cookies")&&"object"==typeof t[0].body.cookies?t[0].body.cookies:[]},onBidWon:function(e){if(e.hasOwnProperty("mediaType")&&"video"==e.mediaType)return;let t={pbjs:"8.30.0",referer:encodeURIComponent((0,ce.a)().page||(0,ce.a)().topmostLocation)},i=document.location.search.match(/msq_test=true/)?fm:bm,a=["bidder","code","match","hasConsent","context","increment","ova"];return e.hasOwnProperty("mediasquare")&&a.forEach((i=>{e.mediasquare.hasOwnProperty(i)&&(t[i]=e.mediasquare[i],"number"==typeof t[i]&&(t[i]=t[i].toString()))})),a=["cpm","size","mediaType","currency","creativeId","adUnitCode","timeToRespond","requestId","auctionId","originalCpm","originalCurrency"],a.forEach((i=>{e.hasOwnProperty(i)&&(t[i]=e[i],"number"==typeof t[i]&&(t[i]=t[i].toString()))})),(0,zi.b)(i+"winning",null,JSON.stringify(t),{method:"POST",withCredentials:!0}),!0}};function ym(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:{showBigPlayButton:!1,showProgressBar:"bar",showVolume:!1,allowFullscreen:!0,skippable:!1,content:e.vastXml}})}))}(0,at.b)(gm),At.a.add(vt.a.mediasquare,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream),a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:{...i.params}}])})),At.b.add(vt.a.mediasquare,gm.gvlid);const hm=[b.b,b.d],_m="6.0.0",vm="https://hb.minutemedia-prebid.com/",Im={code:"minutemedia",gvlid:918,version:_m,supportedMediaTypes:hm,isBidRequestValid:function(e){return e.params?!!e.params.org||((0,n.db)("org is a mandatory param for MinuteMedia adapter"),!1):((0,n.db)("no params have been set to MinuteMedia adapter"),!1)},buildRequests:function(e,t){const i={},a=e[0],o=a.params.testMode;return i.params=function(e,t){const i=window.location.hostname,{syncEnabled:a,filterSettings:o}=u.config.getConfig("userSync")||{},{bidderCode:s}=t,d=e.params,l=t.timeout,c={wrapper_type:"prebidjs",wrapper_vendor:"hubjs",wrapper_version:"8.30.0",adapter_version:_m,auction_start:(0,n.sb)(),publisher_id:d.org,publisher_name:i,site_domain:i,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,device_type:(m=navigator.userAgent,/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(m.toLowerCase())?"5":/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(m.toLowerCase())?"4":/smart[-_\s]?tv|hbbtv|appletv|googletv|hdmi|netcast|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b/i.test(m.toLowerCase())?"3":"1"),ua:navigator.userAgent,is_wrapper:!!d.isWrapper,session_id:d.sessionId||(0,n.t)("bidderRequestId",e),tmax:l},p=(0,n.t)("userId",e);var m;p&&(c.userIds=JSON.stringify(p));const b=t.ortb2||{};if(b.site&&(c.site_metadata=JSON.stringify(b.site)),b.user&&(c.user_metadata=JSON.stringify(b.user)),a){const e=function(e,t){const i="image";return e&&["all","iframe"].some((i=>xm(e[i],t)))?"iframe":e&&e[i]&&!xm(e[i],t)?void 0:"pixel"}(o,s);e&&(c.cs_method=e)}return t.uspConsent&&(c.us_privacy=t.uspConsent),t&&t.gdprConsent&&t.gdprConsent.gdprApplies&&(c.gdpr=t.gdprConsent.gdprApplies,c.gdpr_consent=t.gdprConsent.consentString),d.ifa&&(c.ifa=d.ifa),e.schain&&(c.schain=function(e){if((0,n.T)(e))return"";let t=`${e.ver},${e.complete}`;return e.nodes.forEach((e=>{t+="!",t+=`${Tm(e.asi)},`,t+=`${Tm(e.sid)},`,t+=`${e.hp?encodeURIComponent(e.hp):""},`,t+=`${Tm(e.rid)},`,t+=`${Tm(e.name)},`,t+=`${Tm(e.domain)}`})),t}(e.schain)),t&&t.refererInfo&&(c.referrer=(0,r.a)(t,"refererInfo.ref"),c.page_url=(0,r.a)(t,"refererInfo.page")||(0,r.a)(window,"location.href")),c}(a,t),i.bids=function(e){const t=[];return e.length&&e.forEach((e=>{t.push(function(e){const{params:t}=e,i=function(e){return e.mediaTypes&&e.mediaTypes.banner}(e)?b.b:b.d,a=function(e,t){let i=[];return(0,r.a)(e,`mediaTypes.${t}.sizes`)?i=e.mediaTypes[t].sizes:Array.isArray(e.sizes)&&e.sizes.length>0&&(i=e.sizes),i}(e,i),o=t.currency||u.config.getConfig("currency.adServerCurrency")||"USD";isNaN(t.floorPrice)&&(t.floorPrice=0);const s={mediaType:i,adUnitCode:(0,n.t)("adUnitCode",e),sizes:a,currency:o,floorPrice:Math.max(wm(e,i,o),t.floorPrice),bidId:(0,n.t)("bidId",e),loop:(0,n.t)("bidderRequestsCount",e),bidderRequestId:(0,n.t)("bidderRequestId",e),transactionId:e.ortb2Imp?.ext?.tid||"",coppa:0},d=(0,r.a)(e,`mediaTypes.${i}.pos`);d&&(s.pos=d);const l=(0,r.a)(e,"ortb2Imp.ext.gpid");l&&(s.gpid=l);const c=t.placementId||(0,r.a)(e,`mediaTypes.${i}.name`);c&&(s.placementId=c);const p=(0,r.a)(e,`mediaTypes.${i}.mimes`);p&&(s.mimes=p);const m=(0,r.a)(e,`mediaTypes.${i}.api`);m&&(s.api=m);const f=(0,r.a)(e,"ortb2.device.sua");if(f&&(s.sua=f),(0,r.a)(e,"ortb2.regs.coppa")&&(s.coppa=1),i===b.d){const t=(0,r.a)(e,"mediaTypes.video.playbackmethod");let i;Array.isArray(t)&&(0,n.W)(t[0])?i=t[0]:(0,n.W)(t)&&(i=t),i&&(s.playbackMethod=i);const a=(0,r.a)(e,"mediaTypes.video.placement");a&&(s.placement=a);const o=(0,r.a)(e,"mediaTypes.video.minduration");o&&(s.minDuration=o);const d=(0,r.a)(e,"mediaTypes.video.maxduration");d&&(s.maxDuration=d);const l=(0,r.a)(e,"mediaTypes.video.skip");l&&(s.skip=l);const c=(0,r.a)(e,"mediaTypes.video.linearity");c&&(s.linearity=c);const p=(0,r.a)(e,"mediaTypes.video.protocols");p&&(s.protocols=p);const u=(0,r.a)(e,"mediaTypes.video.plcmt");u&&(s.plcmt=u)}return s}(e))})),t}(e),{method:"POST",url:Dm(o),data:i}},interpretResponse:function({body:e}){const t=[];return e.bids&&e.bids.forEach((e=>{const i={requestId:e.requestId,cpm:e.cpm,currency:e.currency||"USD",width:e.width,height:e.height,ttl:e.ttl||360,creativeId:e.requestId,netRevenue:e.netRevenue||!0,nurl:e.nurl,mediaType:e.mediaType,meta:{mediaType:e.mediaType}};e.mediaType===b.d?i.vastXml=e.vastXml:e.mediaType===b.b&&(i.ad=e.ad),e.adomain&&e.adomain.length&&(i.meta.advertiserDomains=e.adomain),t.push(i)})),t},getUserSyncs:function(e,t){const i=[];for(const a of t)if(e.iframeEnabled&&a.body.params.userSyncURL&&i.push({type:"iframe",url:a.body.params.userSyncURL}),e.pixelEnabled&&(0,n.Q)(a.body.params.userSyncPixels)){const e=a.body.params.userSyncPixels.map((e=>({type:"image",url:e})));i.push(...e)}return i},onBidWon:function(e){null!=e&&((0,n.bb)("onBidWon:",e),e.hasOwnProperty("nurl")&&e.nurl.length>0&&(0,n.ub)(e.nurl))}};function wm(e,t,i){if(!(0,n.U)(e.getFloor))return 0;let a=e.getFloor({currency:i,mediaType:t,size:"*"});return a.currency===i&&a.floor?a.floor:0}function Tm(e){return(0,n.T)(e)?"":encodeURIComponent(e)}function xm(e,t){if(!e)return!1;const i="include"===e.filter,a=(0,n.Q)(e.bidders)?e.bidders:[t];return i&&(0,n.j)(a,t)}function Dm(e){return e?vm+"hb-multi-mm-test":vm+"hb-mm-multi"}(0,at.b)(Im),At.a.add(vt.a.minuteMedia,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.minuteMedia,Im.gvlid);const Sm="nextMillennium",Cm="https://cookies.nextmillmedia.com/sync?gdpr={{.GDPR}}&gdpr_consent={{.GDPRConsent}}&us_privacy={{.USPrivacy}}&gpp={{.GPP}}&gpp_sid={{.GPPSID}}&type={{.TYPE_PIXEL}}",Em=["api","linearity","maxduration","mimes","minduration","placement","playbackmethod","protocols","startdelay"],Rm=["site.pagecat","site.content.cat","site.content.language","device.sua"],Am=new class{eventNames=[l.EVENTS.BID_TIMEOUT,l.EVENTS.BID_RESPONSE,l.EVENTS.BID_REQUESTED,l.EVENTS.NO_BID];disabledSending=!1;enabledSending=!1;eventHendlers={};initEvents(){this.disabledSending=!!u.config.getBidderConfig()?.nextMillennium?.disabledSendingStatisticData,this.disabledSending?this.removeEvents():this.createEvents()}createEvents(){if(!this.enabledSending){this.enabledSending=!0;for(let e of this.eventNames)this.eventHendlers[e]||(this.eventHendlers[e]=this.eventHandler(e)),s.on(e,this.eventHendlers[e])}}removeEvents(){if(this.enabledSending){this.enabledSending=!1;for(let e of this.eventNames)this.eventHendlers[e]&&s.off(e,this.eventHendlers[e])}}eventHandler(e){const t=this.getEventHandler(e);return e==l.EVENTS.BID_TIMEOUT?e=>{if(!this.disabledSending&&Array.isArray(e))for(let i of e)t(i)}:t}getEventHandler(e){return t=>{if(this.disabledSending)return;const i=Om.getUrlPixelMetric(e,t);i&&(0,n.ub)(i)}}};s.on(l.EVENTS.AUCTION_INIT,(function(){Am.initEvents()}));const km={};!function e(){const t=Date.now();Object.keys(km).forEach((e=>{t>=km[e].expirence&&delete km[e]})),setTimeout(e,6e4)}(),s.on(l.EVENTS.BID_WON,(function(e){const{auctionId:t,requestId:i}=e,a=function({auctionId:e,requestId:t}){const i=Um({auctionId:e,requestId:t});return km[i]&&km[i].wurl}({auctionId:t,requestId:i});a&&((0,n.cb)(`(nextmillennium) Invoking image pixel for wurl on BID_WIN: "${a}"`),(0,n.ub)(a),function({auctionId:e,requestId:t}){const i=Um({auctionId:e,requestId:t});delete km[i]}({auctionId:t,requestId:i}))}));const Om={code:Sm,supportedMediaTypes:[b.b,b.d],gvlid:1060,isBidRequestValid:function(e){return!!(e.params.placement_id&&(0,n._)(e.params.placement_id)||e.params.group_id&&(0,n._)(e.params.group_id))},buildRequests:function(e,t){const i=[];return window.nmmRefreshCounts=window.nmmRefreshCounts||{},(0,n.a)(e,(function(e){window.nmmRefreshCounts[e.adUnitCode]=window.nmmRefreshCounts[e.adUnitCode]||0;const s=function(e){const t=(0,n.t)("group_id",e.params),i=(0,n.t)("placement_id",e.params);if(!t)return i;let a=Pm(window),r=[];e.mediaTypes&&(e.mediaTypes.banner&&(r=e.mediaTypes.banner.sizes),e.mediaTypes.video&&(r=[e.mediaTypes.video.playerSize]));const o=a&&a.location&&a.location.host||"";return`g${t};${r.map((e=>e.join("x"))).join("|")};${o}`}(e),d=e.auctionId,l=e.bidId,c=function(){const e=ce.a&&(0,ce.a)()||{};let t,i=navigator.language;return i&&(i=i.split("-")[0],t={language:i}),{page:e.page,ref:e.ref,domain:e.domain,content:t}}(),p={w:window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth||0,h:window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight||0,ua:window.navigator.userAgent||void 0,sua:Nm()},u={id:t?.bidderRequestId,ext:{prebid:{storedrequest:{id:s}},nextMillennium:{nm_version:"3.1.0",pbjs_version:(0,a.a)()?.version||void 0,refresh_count:window.nmmRefreshCounts[e.adUnitCode]++,elOffsets:Bm(e),scrollTop:window.pageYOffset||document.documentElement.scrollTop}},device:p,site:c,imp:[]};u.imp.push(function(e,t){const i={id:e.adUnitCode,ext:{prebid:{storedrequest:{id:t}}}},a=(0,r.a)(e,"mediaTypes.banner");a&&(i.banner={format:(a?.sizes||[]).map((e=>({w:e[0],h:e[1]})))});const o=(0,r.a)(e,"mediaTypes.video");return o&&(i.video=(0,n.x)(o,Em),o.playerSize?i.video=Object.assign(i.video,(0,n.gb)(o.playerSize)||{}):o.w&&o.h&&(i.video.w=o.w,i.video.h=o.h)),i}(e,s)),function(e={},t){const i=t?.gdprConsent,a=t?.uspConsent;let n=t?.gppConsent?.gppString&&t?.gppConsent;!n&&t?.ortb2?.regs?.gpp&&(n=t?.ortb2?.regs),(i||a||n)&&(e.regs={ext:{}},a&&(e.regs.ext.us_privacy=a),n&&(e.regs.gpp=n?.gppString||n?.gpp,e.regs.gpp_sid=t.gppConsent?.applicableSections||n?.gpp_sid),i&&(void 0!==i.gdprApplies&&(e.regs.ext.gdpr=i.gdprApplies?1:0),void 0!==i.consentString&&(e.user={ext:{consent:i.consentString}})))}(u,t),function(e,t={}){for(let i of Rm){const a=(0,r.a)(t,i);a&&(0,o.a)(e,i,a)}}(u,t?.ortb2),function(e,t){(0,n.Q)(t.userIdAsEids)&&t.userIdAsEids.length&&(0,o.a)(e,"user.eids",t.userIdAsEids)}(u,e);const m=(0,n.kb)((0,n.G)().location.href).search,b=m.pbs&&"test"===m.pbs,f=e.params;i.push({method:"POST",url:b?"https://test.pbs.nextmillmedia.com/openrtb2/auction":"https://pbs.nextmillmedia.com/openrtb2/auction",data:JSON.stringify(u),options:{contentType:"text/plain",withCredentials:!0},bidId:l,params:f,auctionId:d})})),i},interpretResponse:function(e,t){const i=e.body,a=[];return(0,n.a)(i.seatbid,(e=>{(0,n.a)(e.bid,(e=>{const o=t.bidId,s=t.params;!function({wurl:e,requestId:t,auctionId:i}){if(!e)return;const a=Date.now()+12e5,n=Um({auctionId:i,requestId:t});km[n]={wurl:e,expirence:a}}({auctionId:t.auctionId,requestId:o,wurl:(0,r.a)(e,"ext.prebid.events.win")});const{ad:d,adUrl:l,vastUrl:c,vastXml:p}=function(e){let t,i,a,o;return(0,r.a)(e,"ext.prebid.type")===b.d?"http"===e.adm.substr(0,4)?o=e.adm:a=e.adm:e.adm&&e.nurl?(t=e.adm,t+=(0,n.k)(decodeURIComponent(e.nurl))):e.adm?t=e.adm:e.nurl&&(i=e.nurl),{ad:t,adUrl:i,vastXml:a,vastUrl:o}}(e),u={requestId:o,params:s,cpm:e.price,width:e.w,height:e.h,creativeId:e.adid,currency:i.cur,netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain||[]}};c||p?(u.mediaType=b.d,c&&(u.vastUrl=c),p&&(u.vastXml=p)):(u.ad=d,u.adUrl=l),a.push(u)}))})),a},getUserSyncs:function(e,t,i,a,o){if(!e.iframeEnabled&&!e.pixelEnabled)return[];const s=[],d=e=>t=>{s.push({type:e,url:Mm(t,i,a,o,e)})},l=e=>t=>{(0,r.a)(t,`body.ext.sync.${e}`,[]).forEach(d(e))},c=(e,t)=>{d(e)(t)},p=l("image"),u=l("iframe");return(0,n.Q)(t)&&t.forEach((t=>{e.pixelEnabled&&p(t),e.iframeEnabled&&u(t)})),s.length||(e.pixelEnabled&&c("image",Cm),e.iframeEnabled&&c("iframe",Cm)),s},getUrlPixelMetric(e,t){const i=t.bidder||t.bidderCode;if(i!=Sm)return;let a;if(t.params?a=Array.isArray(t.params)?t.params:[t.params]:Array.isArray(t.bids)&&(a=t.bids.map((e=>e.params))),!a.length)return;const n=[],r=[];a.forEach((e=>{e.group_id?r.push(e.group_id):e.placement_id&&n.push(e.placement_id)}));const o=n.length&&`&placements=${n.join(";")}`||"",s=r.length&&`&groups=${r.join(";")}`||"";return s||o?`https://report2.hb.brainlyads.com/statistics/metric?event=${e}&bidder=${i}&source=pbjs${s}${o}`:void 0}};function Mm(e,t={},i="",a={},n=""){const{consentString:r="",gdprApplies:o=!1}=t,s=Number(o);return e.replace("{{.GDPR}}",s).replace("{{.GDPRConsent}}",r).replace("{{.USPrivacy}}",i).replace("{{.GPP}}",a.gppString||"").replace("{{.GPPSID}}",(a.applicableSections||[]).join(",")).replace("{{.TYPE_PIXEL}}",n)}function Bm(e){const t=function(e){const t=window.googletag&&window.googletag.pubads&&window.googletag.pubads().getSlots().find((t=>t.getAdUnitPath()===e.adUnitCode)),i=t&&t.getSlotElementId();return i?document.querySelector("#"+i):null}(e);return t?t.getBoundingClientRect():{}}function Pm(e,t=0){if(t>10)return e;try{if(e.parent.document)return Pm(e.parent.window,++t)}catch(t){return e}}function Nm(){let{brands:e,mobile:t,platform:i}=window?.navigator?.userAgentData||{};if(e&&i)return{brands:e,mobile:Number(!!t),platform:i&&{brand:i}||void 0}}function Um({auctionId:e,requestId:t}){return`${e}-${t}`}(0,at.b)(Om),At.a.add(vt.a.nextMillennium,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream),a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),At.b.add(vt.a.nextMillennium,Om.gvlid);const qm="nexx360",jm=(0,n.s)(),zm="nexx360_storage",$m=(0,se.d)({bidderCode:qm}),Fm=_p({context:{netRevenue:!0,ttl:90},imp(e,t,i){const a=e(t,i),n=t.params.adUnitName?t.params.adUnitName:t.adUnitCode;(0,o.a)(a,"tagid",n),(0,o.a)(a,"ext.adUnitCode",t.adUnitCode);const s=t.params.divId?t.params.divId:t.adUnitCode;(0,o.a)(a,"ext.divId",s);const d=function(e){if(document.getElementById(e))return document.getElementById(e)}(s);if(d&&((0,o.a)(a,"ext.dimensions.slotW",d.offsetWidth),(0,o.a)(a,"ext.dimensions.slotH",d.offsetHeight),(0,o.a)(a,"ext.dimensions.cssMaxW",d.style?.maxWidth),(0,o.a)(a,"ext.dimensions.cssMaxH",d.style?.maxHeight)),(0,o.a)(a,"ext.nexx360",t.params.tagId),(0,o.a)(a,"ext.nexx360.tagId",t.params.tagId),(0,o.a)(a,"ext.nexx360.videoTagId",t.params.videoTagId),(0,o.a)(a,"ext.nexx360.allBids",t.params.allBids),a.video){const e=(0,r.a)(t,"mediaTypes.video.playerSize"),i=(0,r.a)(t,"mediaTypes.video.context");(0,o.a)(a,"video.ext.playerSize",e),(0,o.a)(a,"video.ext.context",i)}return t.params.adUnitName&&(0,o.a)(a,"ext.adUnitName",t.params.adUnitName),t.params.adUnitPath&&(0,o.a)(a,"ext.adUnitPath",t.params.adUnitPath),a},request(e,t,i,a){const r=e(t,i,a),s=function(){if(!$m.localStorageIsEnabled())return(0,n.bb)("localstorage not enabled for Nexx360"),!1;const e=$m.getDataFromLocalStorage(zm);if(null===e){const e={nexx360Id:(0,n.s)()};return $m.setDataInLocalStorage(zm,JSON.stringify(e)),e}try{return JSON.parse(e)}catch(e){return!1}}();return s&&(0,o.a)(r,"ext.nexx360Id",s.nexx360Id),(0,o.a)(r,"ext.version","8.30.0"),(0,o.a)(r,"ext.source","prebid.js"),(0,o.a)(r,"ext.pageViewId",jm),(0,o.a)(r,"ext.bidderVersion","3.0"),(0,o.a)(r,"cur",[u.config.getConfig("currency.adServerCurrency")||"USD"]),r.user||(0,o.a)(r,"user",{}),r}});function Lm(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.divId,adResponse:e.vastXml,rendererOptions:{showBigPlayButton:!1,showProgressBar:"bar",showVolume:!1,allowFullscreen:!0,skippable:!1,content:e.vastXml}})}))}const Vm={code:qm,gvlid:965,aliases:[{code:"revenuemaker"},{code:"first-id",gvlid:1178},{code:"adwebone"},{code:"league-m",gvlid:965},{code:"prjads"},{code:"pubtech"}],supportedMediaTypes:[b.b,b.d,b.c],isBidRequestValid:function(e){return!e.params.adUnitName||"string"==typeof e.params.adUnitName&&""!==e.params.adUnitName?!e.params.adUnitPath||"string"==typeof e.params.adUnitPath&&""!==e.params.adUnitPath?!e.params.divId||"string"==typeof e.params.divId&&""!==e.params.divId?e.params.allBids&&"boolean"!=typeof e.params.allBids?((0,n.ab)("bid.params.allBids needs to be a boolean"),!1):!!(e.params.tagId||e.params.videoTagId||e.params.nativeTagId)||((0,n.ab)("bid.params.tagId or bid.params.videoTagId or  bid.params.nativeTagId must be defined"),!1):((0,n.ab)("bid.params.divId needs to be a string"),!1):((0,n.ab)("bid.params.adUnitPath needs to be a string"),!1):((0,n.ab)("bid.params.adUnitName needs to be a string"),!1)},buildRequests:function(e,t){return{method:"POST",url:"https://fast.nexx360.io/booster",data:Fm.toORTB({bidRequests:e,bidderRequest:t})}},interpretResponse:function(e){const t=e.body;if(!t||!Array.isArray(t.seatbid))return[];const{bidderSettings:i}=(0,a.a)(),n=!(!i||!i.standard)&&i.standard.allowAlternateBidderCodes;let r=[];return t.seatbid.forEach((e=>{r=[...r,...e.bid.map((e=>{const i={requestId:e.impid,cpm:e.price,width:e.w,height:e.h,creativeId:e.crid,dealId:e.dealid,currency:t.cur,netRevenue:!0,ttl:120,mediaType:[Pe.b,Pe.a].includes(e.ext.mediaType)?"video":e.ext.mediaType,meta:{advertiserDomains:e.adomain,demandSource:e.ext.ssp}};if(n&&(i.bidderCode=`n360_${e.ext.ssp}`),e.ext.mediaType===b.b&&(e.adm?i.ad=e.adm:i.adUrl=e.ext.adUrl),[Pe.a,Pe.b].includes(e.ext.mediaType)&&(i.vastXml=e.ext.vastXml),e.ext.mediaType===Pe.b&&(i.renderer=function(e){const t=m.a.install({id:e.id,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,adUnitCode:e.ext.adUnitCode,targetId:e.ext.divId});return t.setRender(Lm),t}(e),i.divId=e.ext.divId),e.ext.mediaType===b.c)try{i.native={ortb:JSON.parse(e.adm)}}catch(e){}return i}))]})),r},getUserSyncs:function(e,t){return"object"==typeof t&&null!=t&&t.length>0&&t[0].hasOwnProperty("body")&&t[0].body.hasOwnProperty("ext")&&t[0].body.ext.hasOwnProperty("cookies")&&"object"==typeof t[0].body.ext.cookies?t[0].body.ext.cookies.slice(0,5):[]}};(0,at.b)(Vm),At.a.add(vt.a.nexx360,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native),a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.nexx360,Vm.gvlid);const Gm="nobid",Wm=(0,se.d)({bidderCode:Gm});function Hm(e,t){(0,n.bb)("-NoBid- "+e,t)}window.nobidVersion="1.3.3",window.nobid=window.nobid||{},window.nobid.bidResponses=window.nobid.bidResponses||{},window.nobid.timeoutTotal=0,window.nobid.bidWonTotal=0,window.nobid.refreshCount=0,window.nobid.renderTag=function(e,t){Hm("nobid.renderTag()",t);var i=window.nobid.bidResponses[""+t];if(i&&i.adm2){Hm("nobid.renderTag() found tag",t);var a=i.adm2;return e.write(a),void e.close()}Hm("nobid.renderTag() tag NOT FOUND *ERROR*",t)},window.addEventListener("message",(function(e){var t=""+e[e.message?"message":"data"];if("nbTagRenderer.requestAdMarkup|"===t.substring(0,30)){Hm("Prebid received nbTagRenderer.requestAdMarkup event");var i=t.substring(t.indexOf("|")+1);if(window.nobid&&window.nobid.bidResponses){var a=window.nobid.bidResponses[""+i];if(a&&a.adm2){var n=a.adm2;n&&e.source.postMessage("nbTagRenderer.renderAdInSafeFrame|"+n,"*")}}}}),!1);const Km={code:Gm,gvlid:816,aliases:[{code:"duration",gvlid:674}],supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){return Hm("isBidRequestValid",e),!!e.params.siteId},buildRequests:function(e,t){if(Hm("validBidRequests",e),!e||e.length<=0)return void Hm("Empty validBidRequests");const i=function(e,t){function i(e,t){var i=function(e,t){for(var i=0;i<t.length;i++)if(t[i].d===e)return t[i];return!1}(e.div,t)||{};return e.account&&(i.s=e.account),e.sizes&&(i.z=e.sizes),e.div&&(i.d=e.div),e.floor&&(i.floor=e.floor),e.targeting?i.g=e.targeting:i.g={},e.div&&function(e,t,i){for(var a=e.length-1;a>=0;a--){var n=e[a];n.d&&n.d===i&&e.splice(a,1)}}(t,0,e.div),e.sizeMapping&&(i.sm=e.sizeMapping),e.siteId&&(i.sid=e.siteId),e.placementId&&(i.pid=e.placementId),e.ad_type&&(i.at=e.ad_type),e.params&&(i.params=e.params),t.push(i),t}function a(e){return e&&"function"==typeof e.getFloor&&e.getFloor().floor?e.getFloor().floor:null}if(void 0!==window.nobid.refreshLimit&&window.nobid.refreshLimit<window.nobid.refreshCount)return!1;let o=Wm.getCookie("_ublock");if(o)return Hm("Request blocked for user. hours: ",o),!1;for(var s=[],d=0,l=[],c=0;c<e.length;c++){var p=e[c],m=p.adUnitCode;s.push(m);var f=p.sizes;d=void 0!==p.params.siteId&&p.params.siteId?p.params.siteId:d;var g=p.params.placementId;let t="banner";const n=(0,r.a)(p,"mediaTypes.video"),o=(0,r.a)(p,"mediaTypes.video.context")||"";(p.mediaType===b.d||n&&("instream"===o||"outstream"===o))&&(t="video");const u=a(p);d&&i({div:m,sizes:f,siteId:d,placementId:g,ad_type:t,params:p.params,floor:u,ctx:o},l)}return!!d&&function(i,a,o){var s,d,l,c,p,m,b,f,g={};g.sid=a,g.l=function(e){var t="";return t=e?.refererInfo?.page?e.refererInfo.page:window.context&&window.context.location&&window.context.location.href?window.context.location.href:document.location.href,encodeURIComponent(t.replace(/\%/g,""))}(t),g.tt=encodeURIComponent(document.title),g.tt=g.tt.replace(/'|;|quot;|39;|&amp;|&|#|\r\n|\r|\n|\t|\f|\%0A|\"|\%22|\%5C|\%23|\%26|\%26|\%09/gm,""),g.a=function(e,t){var i=[];if(e.length){if(t){var a=[];e instanceof Array?a=e:a.push(e);for(var n=0,r=t.length;n<r;n++){var o=t[n];o&&o.d&&a.indexOf(o.d)>-1&&i.push(o)}}}else i=t;return i}(i,o||[]),g.t=(d=function(e){return e<=9?"0"+e:""+e},l=(s=new Date).getDate(),c=s.getFullYear(),p=s.getMonth()+1,m=s.getHours(),b=s.getMinutes(),f=s.getSeconds(),c+"-"+d(p)+"-"+d(l)+" "+d(m)+":"+d(b)+":"+d(f)),g.tz=Math.round((new Date).getTimezoneOffset()),g.r=function(){try{return`${Math.max(document.documentElement.clientWidth,window.innerWidth||0)}x${Math.max(document.documentElement.clientHeight,window.innerHeight||0)}`}catch(e){(0,n.db)("Could not parse screen dimensions, error details:",e)}}(),g.lang=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage,g.ref=document.referrer,g.gdpr=function(e){var t={};return e&&e.gdprConsent&&(t={consentString:e.gdprConsent.consentString,consentRequired:"boolean"==typeof e.gdprConsent.gdprApplies&&e.gdprConsent.gdprApplies}),t}(t),g.usp=function(e){var t="";return e&&e.uspConsent&&(t=e.uspConsent),t}(t),g.pjbdr=t&&t.bidderCode?t.bidderCode:"nobid";const y=function(e){return e&&e.length>0?e[0].schain:null}(e);y&&(g.schain=y);const h=!0===u.config.getConfig("coppa")?{coppa:!0}:e&&e.length>0?e[0].coppa:null;h&&(g.coppa=h);const _=function(e){if((0,n.Q)(e)&&e.length>0){let t=[];return e.forEach((e=>{let i=[];e.uids&&e.uids.forEach((e=>{i.push({id:e.id+""})})),e.source&&i.length>0&&t.push({source:e.source,uids:i})})),t}}((0,r.a)(e,"0.userIdAsEids"));_&&_.length>0&&(g.eids=_);const v=function(e){let t=null;return e?.gppConsent?.gppString&&e?.gppConsent?.applicableSections?(t={},t.gpp=e.gppConsent.gppString,t.gpp_sid=Array.isArray(e.gppConsent.applicableSections)?e.gppConsent.applicableSections:[]):e?.ortb2?.regs?.gpp&&e?.ortb2.regs?.gpp_sid&&(t={},t.gpp=e.ortb2.regs.gpp,t.gpp_sid=Array.isArray(e.ortb2.regs.gpp_sid)?e.ortb2.regs.gpp_sid:[]),t}(t);return v?.gpp&&(g.gpp=v.gpp),v?.gpp_sid&&(g.gpp_sid=v.gpp_sid),t&&t.ortb2&&(g.ortb2=t.ortb2),g}(s,d,l)}(e,t);if(!i)return;window.nobid.refreshCount++;const a=JSON.stringify(i).replace(/'|&|#/g,""),o=(s="https://ads.servenobid.com/",d="function"==typeof n.y&&(0,n.y)("nobid-env"),(d=window.location.href.indexOf("nobid-env=dev")>0?"dev":d)?"beta"==d?s="https://beta.servenobid.com/":"dev"==d?s="//localhost:8282/":"qa"==d&&(s="https://qa-ads.nobid.com/"):s="https://ads.servenobid.com/",s+"adreq?cb="+Math.floor(11e3*Math.random()));var s,d;let l={};return(0,Zl.a)(t?.gdprConsent)||(l={withCredentials:!1}),{method:"POST",url:o,data:a,bidderRequest:t,options:l}},interpretResponse:function(e,t){return Hm("interpretResponse -> serverResponse",e),Hm("interpretResponse -> bidRequest",t),function(e,t){var i=function(e,t){for(var i=0;i<t.length;i++)if(t[i].adUnitCode==e)return t[i];return!1};!function(e){e&&void 0!==e.rlimit&&(window.nobid.refreshLimit=e.rlimit)}(e),function(e){e&&void 0!==e.ublock&&function(e,t,i){var a=new Date;a.setTime(a.getTime()+60*i*60*1e3);var n="expires="+a.toUTCString();Wm.setCookie("_ublock","1",n)}(0,0,e.ublock)}(e);for(var a=[],n=0;e.bids&&n<e.bids.length;n++){var r=e.bids[n];if(r.bdrid<100||!t||!t.bidderRequest||!t.bidderRequest.bids)continue;window.nobid.bidResponses[""+r.id]=r;var o=i(r.divid,t.bidderRequest.bids);if(!o)continue;const s={requestId:o.bidId,cpm:1*(r.price?r.price:r.bucket?r.bucket:0),width:r.size.w,height:r.size.h,creativeId:r.creativeid||"",dealId:r.dealid||"",currency:"USD",netRevenue:!0,ttl:300,ad:r.adm,mediaType:r.atype||b.b};r.vastUrl&&(s.vastUrl=r.vastUrl),r.vastXml&&(s.vastXml=r.vastXml),r.videoCacheKey&&(s.videoCacheKey=r.videoCacheKey),r.meta&&(s.meta=r.meta),a.push(s)}return a}(e.body,t)},getUserSyncs:function(e,t,i,a,r){if(e.iframeEnabled){let e="";return i&&"string"==typeof i.consentString&&("boolean"==typeof i.gdprApplies?e+=`?gdpr=${Number(i.gdprApplies)}&gdpr_consent=${i.consentString}`:e+=`?gdpr_consent=${i.consentString}`),a&&(e.length>0?e+="&":e+="?",e+="usp_consent="+a),r?.gppString&&r?.applicableSections?.length&&(e.length>0?e+="&":e+="?",e+="gpp="+encodeURIComponent(r.gppString),e+="gpp_sid="+encodeURIComponent(r.applicableSections.join(","))),[{type:"iframe",url:"https://public.servenobid.com/sync.html"+e}]}if(e.pixelEnabled&&t.length>0){let e=[];return t[0].body.syncs&&t[0].body.syncs.length>0&&t[0].body.syncs.forEach((t=>{e.push({type:"image",url:t})})),e}return(0,n.db)("-NoBid- Please enable iframe based user sync.",e),[]},onTimeout:function(e){return window.nobid.timeoutTotal++,Hm("Timeout total: "+window.nobid.timeoutTotal,e),window.nobid.timeoutTotal},onBidWon:function(e){return window.nobid.bidWonTotal++,Hm("BidWon total: "+window.nobid.bidWonTotal,e),window.nobid.bidWonTotal}};(0,at.b)(Km),At.a.add(vt.a.noBid,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.noBid,Km.gvlid);const Xm="https://onetag-sys.com/usync/",Jm="onetag",Qm=(0,se.d)({bidderCode:Jm});function Ym(e){return void 0!==e.mediaTypes&&void 0!==e.mediaTypes.video}function Zm(e,t){if(e===b.b)return ob(t).length>0;if(e===b.d&&Ym(t)){const e=t.mediaTypes.video.context;if("outstream"===e||"instream"===e)return rb(t).length>0}return!1}function eb(e){try{return void 0!==e.document.hidden?e.document.hidden:void 0!==e.document.msHidden?e.document.msHidden:void 0!==e.document.webkitHidden?e.document.webkitHidden:null}catch(e){return null}}function tb(e){const t=function(){let e=window,t=window.parent;try{for(;e!==e.parent;)t=e.parent,t.location.href,e=e.parent}catch(e){}return e}();return{location:(0,r.a)(e,"refererInfo.page",null),referrer:(0,r.a)(e,"refererInfo.ref",null),stack:(0,r.a)(e,"refererInfo.stack",[]),numIframes:(0,r.a)(e,"refererInfo.numIframes",0),wWidth:t.innerWidth,wHeight:t.innerHeight,oWidth:t.outerWidth,oHeight:t.outerHeight,sWidth:t.screen.width,sHeight:t.screen.height,aWidth:t.screen.availWidth,aHeight:t.screen.availHeight,sLeft:"screenLeft"in t?t.screenLeft:t.screenX,sTop:"screenTop"in t?t.screenTop:t.screenY,xOffset:t.pageXOffset,yOffset:t.pageYOffset,docHidden:eb(t),docHeight:t.document.body?t.document.body.scrollHeight:null,hLength:history.length,timing:nb(),version:{prebid:"8.30.0",adapter:"1.1.1"}}}function ib(e){const t=e.filter((e=>Ym(e))).map((e=>{const t={};return ab.call(t,e),t.context=e.mediaTypes.video.context,t.playerSize=rb(e),t.mediaTypeInfo=(0,n.n)(e.mediaTypes.video),t.type=b.d,t.priceFloors=db(e,b.d,t.playerSize),t})),i=e.filter((e=>Zm(b.b,e))).map((e=>{const t={};return ab.call(t,e),t.sizes=ob(e),t.type=b.b,t.mediaTypeInfo=(0,n.n)(e.mediaTypes.banner),t.priceFloors=db(e,b.b,t.sizes),t}));return t.concat(i)}function ab(e){const t=e.params;this.adUnitCode=e.adUnitCode,this.bidId=e.bidId,this.bidderRequestId=e.bidderRequestId,this.auctionId=(0,r.a)(e,"ortb2.source.tid"),this.transactionId=(0,r.a)(e,"ortb2Imp.ext.tid"),this.gpid=(0,r.a)(e,"ortb2Imp.ext.gpid")||(0,r.a)(e,"ortb2Imp.ext.data.pbadslot"),this.pubId=t.pubId,this.ext=t.ext,t.pubClick&&(this.click=t.pubClick),t.dealId&&(this.dealId=t.dealId);const i=function(e){const t=document.getElementById(e);try{const{top:e,left:i,width:a,height:n}=t.getBoundingClientRect();let r=t.ownerDocument.defaultView;const o={top:e+r.pageYOffset,left:i+r.pageXOffset,width:a,height:n};let s=r.frameElement;for(;null!=s;){const{top:e,left:t}=s.getBoundingClientRect();o.top+=e+r.pageYOffset,o.left+=t+r.pageXOffset,r=r.parent,s=r.frameElement}return o}catch(e){return null}}(e.adUnitCode);i&&(this.coords=i)}function nb(){try{if(null!=window.performance&&null!=window.performance.timing){const e={},t=window.performance.timing;return e.pageLoadTime=t.loadEventEnd-t.navigationStart,e.connectTime=t.responseEnd-t.requestStart,e.renderTime=t.domComplete-t.domLoading,e}}catch(e){return null}return null}function rb(e){const t=e.mediaTypes.video.playerSize;return void 0!==t&&Array.isArray(t)&&t.length>0?sb(t):[]}function ob(e){return void 0!==e.mediaTypes&&void 0!==e.mediaTypes.banner&&void 0!==e.mediaTypes.banner.sizes&&Array.isArray(e.mediaTypes.banner.sizes)&&e.mediaTypes.banner.sizes.length>0?sb(e.mediaTypes.banner.sizes):!Ym(e)&&e.sizes&&Array.isArray(e.sizes)?sb(e.sizes):[]}function sb(e){const t=[];for(let i=0;i<e.length;i++){const a=e[i];t.push({width:a[0],height:a[1]})}return t}function db(e,t,i){const a=[];return"function"==typeof e.getFloor&&i.forEach((i=>{const r=e.getFloor({currency:"EUR",mediaType:t||"*",size:[i.width,i.height]});r.size=(0,n.n)(i),r.floor||(r.floor=null),a.push(r)})),a}const lb={code:Jm,gvlid:241,supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){return void 0!==e&&void 0!==e.params&&"string"==typeof e.params.pubId&&(Zm(b.b,e)||Zm(b.d,e))},buildRequests:function(e,t){const i={bids:ib(e),...tb(t)};t&&t.gdprConsent&&(i.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:t.gdprConsent.gdprApplies}),t&&t.gppConsent&&(i.gppConsent={consentString:t.gppConsent.gppString,applicableSections:t.gppConsent.applicableSections}),t&&t.uspConsent&&(i.usPrivacy=t.uspConsent),t&&t.ortb2&&(i.ortb2=t.ortb2),e&&0!==e.length&&e[0].userIdAsEids&&(i.userId=e[0].userIdAsEids),e&&0!==e.length&&e[0].schain&&function(e){let t=!1;const i=["asi","sid","hp"];return e&&e.nodes?(t=e.nodes.reduce(((e,t)=>e?i.every((e=>t.hasOwnProperty(e))):e),!0),t||(0,n.ab)("OneTag: required schain params missing"),t):t}(e[0].schain)&&(i.schain=e[0].schain);try{Qm.hasLocalStorage()&&(i.onetagSid=Qm.getDataFromLocalStorage("onetag_sid"))}catch(e){}const a=navigator.connection||navigator.webkitConnection;return i.networkConnectionType=a&&a.type?a.type:null,i.networkEffectiveConnectionType=a&&a.effectiveType?a.effectiveType:null,i.fledgeEnabled=Boolean(t&&t.fledgeEnabled),{method:"POST",url:"https://onetag-sys.com/prebid-request",data:JSON.stringify(i)}},interpretResponse:function(e,t){const i=e.body,a=[],n=JSON.parse(t.data);if(!i||i.nobid&&!0===i.nobid)return a;if(!(i.fledgeAuctionConfigs||i.bids&&Array.isArray(i.bids)&&0!==i.bids.length))return a;if(Array.isArray(i.bids)&&i.bids.forEach((e=>{const t={requestId:e.requestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.creativeId,dealId:null==e.dealId?e.dealId:"",currency:e.currency,netRevenue:e.netRevenue||!1,mediaType:e.mediaType,meta:{mediaType:e.mediaType,advertiserDomains:e.adomain},ttl:e.ttl||300};if(e.mediaType===b.b)t.ad=e.ad;else if(e.mediaType===b.d){const{context:i,adUnitCode:a}=(0,p.b)(n.bids,(t=>t.bidId===e.requestId&&t.type===b.d));i===Pe.a?(t.vastUrl=e.vastUrl,t.videoCacheKey=e.videoCacheKey):i===Pe.b&&(t.vastXml=e.ad,t.vastUrl=e.vastUrl,e.rendererUrl&&(t.renderer=function(e,t={}){const i=m.a.install({id:e.requestId,url:e.rendererUrl,config:t,adUnitCode:e.adUnitCode,loaded:!1});try{i.setRender((({renderer:t,width:i,height:a,vastXml:n,adUnitCode:r})=>{t.push((()=>{window.onetag.Player.init({...e,width:i,height:a,vastXml:n,nodeId:r,config:t.getConfig()})}))}))}catch(e){}return i}({...e,adUnitCode:a})))}a.push(t)})),i.fledgeAuctionConfigs&&Array.isArray(i.fledgeAuctionConfigs)){const e=i.fledgeAuctionConfigs;return{bids:a,fledgeAuctionConfigs:e}}return a},getUserSyncs:function(e,t,i,a,n){let r=[],o="";return i&&("boolean"==typeof i.gdprApplies&&(o+="&gdpr="+(i.gdprApplies?1:0)),"string"==typeof i.consentString&&(o+="&gdpr_consent="+i.consentString)),n&&"string"==typeof n.gppString&&(o+="&gpp_consent="+n.gppString),a&&"string"==typeof a&&(o+="&us_privacy="+a),e.iframeEnabled&&r.push({type:"iframe",url:Xm+"?cb="+(new Date).getTime()+o}),e.pixelEnabled&&r.push({type:"image",url:Xm+"?tag=img"+o}),r}};(0,at.b)(lb);const cb=(e,t)=>({...Rd,...t,...e.params.video});At.a.add(vt.a.onetag,((e,{bid:t,placement:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,i.placementId,n,[{bidder:t.bidder,params:{...t.params,video:void 0}}])}if(a.outstream){const n=(e=>(0,Et.m)(e)&&(0,Et.p)(e.forcedPlayerSize))(t.formatterParams)?t.formatterParams.forcedPlayerSize:a.outstream.playerSize,r={...a.outstream,playerSize:n},o={...t.params,video:cb(t,a.outstream.openRtbParams)};i.rendering?.outstream?.hbvFormat?Bd(e,i.placementId,r,[{bidder:t.bidder,params:o}],i.rendering?.outstream):Md(e,i.placementId,r,[{bidder:t.bidder,params:o}])}})),At.b.add(vt.a.onetag,lb.gvlid);const pb="outbrain",ub="USD",mb={0:"title",2:"icon",3:"image",5:"sponsoredBy",4:"body",1:"cta"},bb={title:{id:0,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},sponsoredBy:{id:5,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:1,type:12,name:"data"}},fb=(0,se.d)({bidderCode:pb}),gb={code:pb,gvlid:164,supportedMediaTypes:[b.c,b.b,b.d],isBidRequestValid:e=>"object"==typeof e.params&&"string"==typeof(0,r.a)(e,"params.publisher.id")&&(!e.params.tagid||"string"==typeof e.params.tagid)&&!(e.params.bcat&&("object"!=typeof e.params.bcat||!e.params.bcat.every((e=>"string"==typeof e))))&&!(e.params.badv&&("object"!=typeof e.params.badv||!e.params.badv.every((e=>"string"==typeof e))))&&!!u.config.getConfig("outbrain.bidderUrl")&&(!(!e.nativeParams&&!e.sizes)||function(e){const t=(0,r.a)(e,"mediaTypes.video");return!!t&&!!Array.isArray(t.playerSize)&&""!=t.context}(e)),buildRequests:(e,t)=>{e=(0,d.b)(e);const i=t.ortb2||{},a=t.refererInfo.page,s=navigator.userAgent,l=yb(e,"params.test"),c=yb(e,"params.publisher"),p=i.bcat||yb(e,"params.bcat"),m=i.badv||yb(e,"params.badv"),f=yb(e,"userIdAsEids"),g=i.wlang,y=ub,h=u.config.getConfig("outbrain.bidderUrl"),_=t.timeout,v=e.map(((e,t)=>{e.netRevenue="net";const i={id:t+1+""};if(e.params.tagid&&(i.tagid=e.params.tagid),e.nativeParams?i.native={request:JSON.stringify({assets:_b(e)})}:vb(e)?i.video=function(e){const t=hb(e.mediaTypes.video.playerSize);return{w:parseInt(t[0],10),h:parseInt(t[1],10),protocols:e.mediaTypes.video.protocols,playbackmethod:e.mediaTypes.video.playbackmethod,mimes:e.mediaTypes.video.mimes,skip:e.mediaTypes.video.skip,delivery:e.mediaTypes.video.delivery,api:e.mediaTypes.video.api,minbitrate:e.mediaTypes.video.minbitrate,maxbitrate:e.mediaTypes.video.maxbitrate,minduration:e.mediaTypes.video.minduration,maxduration:e.mediaTypes.video.maxduration,startdelay:e.mediaTypes.video.startdelay,placement:e.mediaTypes.video.placement,linearity:e.mediaTypes.video.linearity}}(e):i.banner={format:(a=e.sizes,(0,n.Q)(a)?2!==a.length||(0,n.Q)(a[0])?(0,n.Q)(a[0])?a.map((e=>({w:parseInt(e[0],10),h:parseInt(e[1],10)}))):[]:[{w:parseInt(a[0],10),h:parseInt(a[1],10)}]:[])},"function"==typeof e.getFloor){const t=function(e,t){const i=e.getFloor({currency:ub,mediaType:t,size:"*"});return"object"!=typeof i||i.currency!==ub||isNaN(parseFloat(i.floor))?null:parseFloat(i.floor)}(e,e.nativeParams?b.c:b.b);t&&(i.bidfloor=t)}var a;return i})),I={id:t.bidderRequestId,site:{page:a,publisher:c},device:{ua:s},source:{fd:1},cur:[y],tmax:_,imp:v,bcat:p,badv:m,wlang:g,ext:{prebid:{channel:{name:"pbjs",version:"8.30.0"}}}};l&&(I.is_debug=!!l,I.test=1);const w=fb.getDataFromLocalStorage("OB-USER-TOKEN");return w&&(0,o.a)(I,"user.ext.obusertoken",w),(0,r.a)(t,"gdprConsent.gdprApplies")&&((0,o.a)(I,"user.ext.consent",t.gdprConsent.consentString),(0,o.a)(I,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&(0,o.a)(I,"regs.ext.us_privacy",t.uspConsent),!0===u.config.getConfig("coppa")&&(0,o.a)(I,"regs.coppa",1&u.config.getConfig("coppa")),t.gppConsent?((0,o.a)(I,"regs.ext.gpp",t.gppConsent.gppString),(0,o.a)(I,"regs.ext.gpp_sid",t.gppConsent.applicableSections)):(0,r.a)(t,"ortb2.regs.gpp")&&((0,o.a)(I,"regs.ext.gpp",t.ortb2.regs.gpp),(0,o.a)(I,"regs.ext.gpp_sid",t.ortb2.regs.gpp_sid)),f&&(0,o.a)(I,"user.ext.eids",f),{method:"POST",url:h,data:JSON.stringify(I),bids:e}},interpretResponse:(e,{bids:t})=>{if(!e.body)return[];const{seatbid:i,cur:a}=e.body,o=hb(i.map((e=>e.bid))).reduce(((e,t)=>(e[t.impid-1]=t,e)),[]);return t.map(((e,t)=>{const i=o[t];if(i){let t=b.b;e.nativeParams?t=b.c:vb(e)&&(t=b.d);const o={requestId:e.bidId,cpm:i.price,creativeId:i.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:a,mediaType:t,nurl:i.nurl};return t===b.c?o.native=function(e){const{assets:t,link:i,privacy:a,eventtrackers:n}=JSON.parse(e.adm),r={clickUrl:i.url,clickTrackers:i.clicktrackers||void 0};return t.forEach((e=>{const t=mb[e.id],i=t&&e[bb[t].name];i&&(r[t]=i.text||i.value||{url:i.url,width:i.w,height:i.h})})),a&&(r.privacyLink=a),n&&(r.impressionTrackers=[],n.forEach((e=>{if(1===e.event)switch(e.method){case 1:r.impressionTrackers.push(e.url);break;case 2:r.javascriptTrackers=`<script src="${e.url}"><\/script>`}}))),r}(i):t===b.b?(o.ad=i.adm,o.width=i.w,o.height=i.h):t===b.d&&(o.vastXml=i.adm,(0,r.a)(e,"mediaTypes.video.context")===Pe.b&&(o.renderer=function(e){let t={},i="https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",a=function(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:e.sizes,targetId:e.adUnitCode,adResponse:{content:e.vastXml}})}))},o=(0,r.a)(e,"mediaTypes.video.renderer");o||(o=(0,r.a)(e,"renderer")),o&&(t=o.options,i=o.url,a=o.render);const s=m.a.install({id:e.adUnitCode,url:i,config:t,adUnitCode:e.adUnitCode,loaded:!1});try{s.setRender(a)}catch(e){(0,n.db)("Prebid Error calling setRender on renderer",e)}return s}(e))),o.meta={},i.adomain&&i.adomain.length>0&&(o.meta.advertiserDomains=i.adomain),o}})).filter(Boolean)},getUserSyncs:(e,t,i,a,n)=>{const r=[];let o=u.config.getConfig("outbrain.usersyncUrl"),s=[];return e.pixelEnabled&&o&&(i&&(s.push("gdpr="+(1&i.gdprApplies)),s.push("gdpr_consent="+encodeURIComponent(i.consentString||""))),a&&s.push("us_privacy="+encodeURIComponent(a)),n&&(s.push("gpp="+encodeURIComponent(n.gppString)),s.push("gpp_sid="+encodeURIComponent(n.applicableSections.join(",")))),r.push({type:"image",url:o+(s.length?"?"+s.join("&"):"")})),r},onBidWon:e=>{e.nurl&&(0,zi.b)((0,n.nb)(e.nurl,e.originalCpm))}};function yb(e,t){for(let i,a=0;a<e.length;a++)if(i=(0,r.a)(e[a],t),i)return i}function hb(e){return[].concat(...e)}function _b(e){return(0,n.b)(e.nativeParams,((e,t)=>{const i=bb[t],a={required:1&e.required};if(i){let t,n,r,o;a.id=i.id;let s=e.aspect_ratios;if(s&&s[0]&&(s=s[0],t=s.min_width||0,n=s.ratio_height*t/s.ratio_width|0),e.sizes){const t=hb(e.sizes);r=parseInt(t[0],10),o=parseInt(t[1],10)}return a[i.name]={len:e.len,type:i.type,wmin:t,hmin:n,w:r,h:o},a}})).filter(Boolean)}function vb(e){return"video"===e.mediaType||!!(0,r.a)(e,"mediaTypes.video")}(0,at.b)(gb),At.a.add(vt.a.outbrain,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native)})),At.b.add(vt.a.outbrain,gb.gvlid);const Ib={code:"openx",gvlid:69,supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){const t=e.params.delDomain||e.params.platform;return r.a(e,"mediaTypes.banner")&&t?!!e.params.unit||r.a(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){let i=e.filter((e=>xb(e))),a=e.filter((e=>function(e){return r.a(e,"mediaTypes.banner")||!xb(e)}(e))),n=a.length?[Tb(a,t,b.b)]:[];return i.forEach((e=>{n.push(Tb([e],t,b.d))})),n},interpretResponse:function(e,t){return e.body||(e.body={nbr:0}),wb.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,i,a){if(e.iframeEnabled||e.pixelEnabled){let n=e.iframeEnabled?"iframe":"image",r=[],o="https://u.openx.net/w/1.0/pd";if(i&&(r.push("gdpr="+(i.gdprApplies?1:0)),r.push("gdpr_consent="+encodeURIComponent(i.consentString||""))),a&&r.push("us_privacy="+encodeURIComponent(a)),t.length>0&&t[0].body&&t[0].body.ext){const e=t[0].body.ext;e.delDomain?o=`https://${e.delDomain}/w/1.0/pd`:e.platform&&r.push("ph="+e.platform)}else r.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:n,url:`${o}${r.length>0?"?"+r.join("&"):""}`}]}},transformBidParams:function(e){return pc({unit:"string",customFloor:"number"},e)}};(0,at.b)(Ib);const wb=_p({context:{netRevenue:!0,ttl:300},imp(e,t,i){const a=e(t,i);return(0,n.fb)(a,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&o.a(a,"ext.customParams",t.params.customParams),t.params.customFloor&&!a.bidfloor&&(a.bidfloor=t.params.customFloor),a},request(e,t,i,a){const r=e(t,i,a);(0,n.fb)(r,{at:1,ext:{bc:"hb_pb_ortb_2.0",pv:"8.30.0"}});const s=a.bidRequests[0];return s.params.coppa&&o.a(r,"regs.coppa",1),s.params.doNotTrack&&o.a(r,"device.dnt",1),s.params.platform&&o.a(r,"ext.platform",s.params.platform),s.params.delDomain&&o.a(r,"ext.delDomain",s.params.delDomain),s.params.response_template_name&&o.a(r,"ext.response_template_name",s.params.response_template_name),s.params.test&&(r.test=1),r},bidResponse(e,t,i){const a=e(t,i);t.ext&&(a.meta.networkId=t.ext.dsp_id,a.meta.advertiserId=t.ext.buyer_id,a.meta.brandId=t.ext.brand_id);const{ortbResponse:n}=i;return n.ext&&n.ext.paf&&(a.meta.paf=Object.assign({},n.ext.paf),a.meta.paf.content_id=r.a(t,"ext.paf.content_id")),a},response(e,t,i,a){const{ortbRequest:n}=a;n.ext&&(n.ext.delDomain&&o.a(i,"ext.delDomain",n.ext.delDomain),n.ext.platform&&o.a(i,"ext.platform",n.ext.platform));const s=e(t,i,a);let d=r.a(i,"ext.fledge_auction_configs");return d?(d=Object.entries(d).map((([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)}))),{bids:s.bids,fledgeAuctionConfigs:d}):s.bids},overrides:{imp:{bidfloor(e,t,i,a){const n={};e(n,i,{...a,currency:"USD"}),"USD"===n.bidfloorcur&&Object.assign(t,n)},video(e,t,i,a){{let n=i.mediaTypes[b.d];n&&(n=Object.assign({},n,i.params.video),i={...i,mediaTypes:{[b.d]:n}}),e(t,i,a),t.video&&"outstream"===n?.context&&(t.video.placement=t.video.placement||4)}}}}});function Tb(e,t,i){return{method:"POST",url:u.config.getConfig("openxOrtbUrl")||"https://rtb.openx.net/openrtbb/prebidjs",data:wb.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:i}})}}function xb(e){return r.a(e,"mediaTypes.video")}At.a.add(vt.a.OpenX,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.OpenX,Ib.gvlid);const Db="https://prisma.nexx360.io/track-imp",Sb={code:"prisma",gvlid:965,aliases:["prismadirect"],supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){return!(!e.params.account||!e.params.tagId)},buildRequests:function(e,t){const i=[],a=u.config.getConfig("debug")?1:0;let n=null,r=null;Object.keys(e).forEach((a=>{n=e[a];const o={account:n.params.account,tagId:n.params.tagId,label:n.adUnitCode,bidId:n.bidId,auctionId:n.auctionId,transactionId:n.ortb2Imp?.ext?.tid,mediatypes:n.mediaTypes,bidfloor:0,bidfloorCurrency:"USD",keywords:lc(t.ortb2,n.params.keywords)};i.push(o),n.userIdAsEids&&(r=n.userIdAsEids)}));const o={adUnits:i,href:encodeURIComponent(t.refererInfo.page||t.refererInfo.topmostLocation)};return t&&(t.gdprConsent?(o.gdpr=t.gdprConsent.gdprApplies?1:0,o.gdprConsent=t.gdprConsent.consentString):(o.gdpr=0,o.gdprConsent=""),t.uspConsent&&(o.uspConsent=t.uspConsent),t.schain&&(o.schain=t.schain),null!==r&&(o.userEids=r)),o.connectionType=function(){const e=navigator.connection||navigator.webkitConnection;if(!e)return 0;switch(e.type){case"ethernet":return 1;case"wifi":return 2;case"cellular":switch(e.effectiveType){case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 3}default:return 0}}(),a&&(o.test=1),{method:"POST",url:"https://prisma.nexx360.io/prebid",data:JSON.stringify(o)}},interpretResponse:function(e){const t=e.body,i=[];let a=null,n=null;return t.hasOwnProperty("responses")&&Object.keys(t.responses).forEach((e=>{n=t.responses[e];const r=`https://prisma.nexx360.io/cache?uuid=${n.uuid}`;if(a={requestId:n.bidId,cpm:n.cpm,currency:n.currency,width:n.width,height:n.height,ttl:n.ttl,creativeId:n.creativeId,netRevenue:!0,prisma:{ssp:n.bidder,consent:n.consent,tagId:n.tagId},meta:{advertiserDomains:n.adomain||[]}},"banner"===n.type&&(a.adUrl=r),"video"===n.type){const e={type:"prebid",mediatype:"video",ssp:n.bidder,tag_id:n.tagId,consent:n.consent,price:n.cpm};a.cpm=n.cpm,a.mediaType="video",a.vastUrl=r,a.vastImpUrl=`${Db}?${new URLSearchParams(e).toString()}`}i.push(a)})),i},getUserSyncs:function(e,t){return"object"==typeof t&&null!=t&&t.length>0&&t[0].hasOwnProperty("body")&&t[0].body.hasOwnProperty("cookies")&&"object"==typeof t[0].body.cookies?t[0].body.cookies.slice(0,5):[]},onBidWon:function(e){const t={type:"prebid",mediatype:"banner"};e.hasOwnProperty("prisma")&&(e.prisma.hasOwnProperty("ssp")&&(t.ssp=e.prisma.ssp),e.prisma.hasOwnProperty("tagId")&&(t.tag_id=e.prisma.tagId),e.prisma.hasOwnProperty("consent")&&(t.consent=e.prisma.consent)),t.price=e.cpm;const i=`${Db}?${new URLSearchParams(t).toString()}`;return(0,zi.b)(i,null,void 0,{method:"GET",withCredentials:!0}),!0}};(0,at.b)(Sb),At.a.add(vt.a.prisma,Yl),At.b.add(vt.a.prisma,Sb.gvlid);const Cb="pubmatic",Eb="PubMatic: ",Rb="USD",Ab=void 0,kb="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Ob={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Mb={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},Bb={mimes:Mb.ARRAY,minduration:Mb.NUMBER,maxduration:Mb.NUMBER,startdelay:Mb.NUMBER,playbackmethod:Mb.ARRAY,api:Mb.ARRAY,protocols:Mb.ARRAY,w:Mb.NUMBER,h:Mb.NUMBER,battr:Mb.ARRAY,linearity:Mb.NUMBER,placement:Mb.NUMBER,plcmt:Mb.NUMBER,minbitrate:Mb.NUMBER,maxbitrate:Mb.NUMBER,skip:Mb.NUMBER},Pb={1:"PMP",5:"PREF",6:"PMPG"},Nb={bootstrapPlayer:function(e){const t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,n.db)(`${Eb}: No vastXml or vastUrl on bid, bailing...`);const i=Nb.getRendererId("pubmatic",e.rendererCode),a=document.getElementById(e.adUnitCode);let r;for(let e=0;e<window.bluebillywig.renderers.length;e++)if(window.bluebillywig.renderers[e]._id===i){r=window.bluebillywig.renderers[e];break}r?r.bootstrap(t,a):(0,n.db)(`${Eb}: Couldn't find a renderer with ${i}`)},newRenderer:function(e,t){var i=kb.replace("$RENDERER",e);const a=m.a.install({url:i,loaded:!1,adUnitCode:t});try{a.setRender(Nb.outstreamRender)}catch(e){(0,n.db)(`${Eb}: Error tying to setRender on renderer`,e)}return a},outstreamRender:function(e){e.renderer.push((function(){Nb.bootstrapPlayer(e)}))},getRendererId:function(e,t){return`${e}-${t}`}},Ub=[b.b,b.d,b.c];let qb=0,jb=!1,zb=["pubmatic"];const $b=["all"];function Fb(e,t){if(!(0,n._)(t))return t&&(0,n.db)(Eb+"Ignoring param key: "+e+", expects string-value, found "+typeof t),Ab;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((e=>e.trim())).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||Ab;case"yob":return parseInt(t)||Ab;default:return t}}function Lb(e,t,i){var a,r="Ignoring param key: "+e+", expects "+i+", found "+typeof t;switch(i){case Mb.BOOLEAN:a=n.R;break;case Mb.NUMBER:a=n.X;break;case Mb.STRING:a=n._;break;case Mb.ARRAY:a=n.Q}return a(t)?t:((0,n.db)(Eb+r),Ab)}const Vb={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},{NATIVE_IMAGE_TYPES:Gb,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:Wb,NATIVE_KEYS:Hb,NATIVE_ASSET_TYPES:Kb}=l,Xb=Object.values(Vb);function Jb(e){var t;if(e.ortb){e=e.ortb,t={ver:"1.2",...e,assets:[]};const{assets:i}=e,a=e=>e.title||e.img||e.data||e.video;if(i.length<1||!i.some((e=>a(e))))return(0,n.db)(`${Eb}: Native assets object is empty or contains some invalid object`),jb=!0,t;i.forEach((e=>{var i=e;i.img&&(3==i.img.type?(i.w=i.w||i.width||(i.sizes?i.sizes[0]:Ab),i.h=i.h||i.height||(i.sizes?i.sizes[1]:Ab),i.wmin=i.wmin||i.minimumWidth||(i.minsizes?i.minsizes[0]:Ab),i.hmin=i.hmin||i.minimumHeight||(i.minsizes?i.minsizes[1]:Ab)):1==i.img.type&&(i.w=i.w||i.width||(i.sizes?i.sizes[0]:Ab),i.h=i.h||i.height||(i.sizes?i.sizes[1]:Ab))),i&&void 0!==i.id&&a(i)&&t.assets.push(i)}))}else t=function(e){if(!e&&!(0,n.Y)(e))return(0,n.db)(`${Eb}: Native assets object is empty or not an object: ${e}`),void(jb=!0);const t={ver:"1.2",assets:[]};for(let i in e){if(Wb.includes(i))continue;if(!Hb.hasOwnProperty(i)&&!Xb.includes(i)){(0,n.db)(`${Eb}: Unrecognized native asset code: ${i}. Asset will be ignored.`);continue}const a=e[i];let r=0;a.required&&(0,n.R)(a.required)&&(r=Number(a.required));const o={id:t.assets.length,required:r};if(i in Vb)o.data={type:Kb[Vb[i]]},(a.len||a.length)&&(o.data.len=a.len||a.length),a.ext&&(o.data.ext=a.ext);else if("icon"===i||"image"===i){if(o.img={type:"icon"===i?Gb.ICON:Gb.MAIN},a.aspect_ratios)if((0,n.Q)(a.aspect_ratios))if(a.aspect_ratios.length){const{min_width:e,min_height:t}=a.aspect_ratios[0];(0,n.W)(e)&&(0,n.W)(t)?(o.img.wmin=e,o.img.hmin=t):(0,n.db)(`${Eb}: image.aspect_ratios min_width or min_height are invalid: ${e}, ${t}`);const i=a.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>`${e.ratio_width}:${e.ratio_height}`));i.length>0&&(o.img.ext={aspectratios:i})}else(0,n.db)(`${Eb}: image.aspect_ratios was passed, but it's empty: ${a.aspect_ratios}`);else(0,n.db)(`${Eb}: image.aspect_ratios was passed, but it's not a an array: ${a.aspect_ratios}`);o.img.w=a.w||a.width,o.img.h=a.h||a.height,o.img.wmin=a.wmin||a.minimumWidth||(a.minsizes?a.minsizes[0]:Ab),o.img.hmin=a.hmin||a.minimumHeight||(a.minsizes?a.minsizes[1]:Ab),a.sizes&&(2===a.sizes.length&&(0,n.W)(a.sizes[0])&&(0,n.W)(a.sizes[1])?((0,n.bb)(`${Eb}: if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin`),o.img.w=a.sizes[0],o.img.h=a.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,n.db)(`${Eb}: image.sizes was passed, but its value is not an array of integers: ${a.sizes}`)),a.ext&&(o.img.ext=a.ext),a.mimes&&(o.img.mimes=a.mimes)}else"title"===i?(o.title={len:a.len||a.length||140},a.ext&&(o.title.ext=a.ext)):"ext"===i&&(o.ext=a,delete o.required);t.assets.push(o)}return t.assets.length<1?((0,n.db)(`${Eb}: Could not find any valid asset`),void(jb=!0)):t}(e);return t}function Qb(e){var t,i=e.mediaTypes.banner.sizes,a=[];if(i!==Ab&&(0,n.Q)(i)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===i.length)return t=Ab,(0,n.db)(Eb+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(i[0][0],10),t.h=parseInt(i[0][1],10),i=i.splice(1,i.length-1)}i.length>0&&(a=[],i.forEach((function(e){e.length>1&&a.push({w:e[0],h:e[1]})})),a.length>0&&(t.format=a)),t.pos=0,t.topframe=(0,n.J)()?0:1}else(0,n.db)(Eb+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=Ab;return t}function Yb(e){var t,i=(0,n.fb)((0,r.a)(e.mediaTypes,"video"),e.params.video);if(i!==Ab){for(var a in t={},function(e,t){(0,r.a)(e,"placement")||(0,n.db)("Video.Placement param missing for "+t)}(i,e.adUnitCode),Bb)i.hasOwnProperty(a)&&(t[a]=Lb(a,i[a],Bb[a]));(0,n.Q)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,n.X)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=Ab,(0,n.db)(Eb+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function Zb(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,n.db)(Eb+"acat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter(((e,t,i)=>i.indexOf(e)===t))).length>0&&((0,n.db)(Eb+"acat: Selected: ",t),e.ext.acat=t)}function ef(e){return!0===(0,n.Q)(e)&&e.length>0}const tf={code:Cb,gvlid:76,supportedMediaTypes:[b.b,b.d,b.c],isBidRequestValid:e=>{if(e&&e.params){if(!(0,n._)(e.params.publisherId))return(0,n.db)(Eb+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(b.d)){let t=(0,r.a)(e.mediaTypes,"video.mimes"),i=(0,r.a)(e,"params.video.mimes");if(!1===ef(t)&&!1===ef(i))return(0,n.db)(Eb+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[b.d].hasOwnProperty("context"))return(0,n.ab)(`${Eb}: no context specified in bid. Rejecting bid: `,e),!1;if("outstream"===e.mediaTypes[b.d].context&&!(0,n._)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[b.d].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(b.b)||e.mediaTypes.hasOwnProperty(b.c)?(delete e.mediaTypes[b.d],(0,n.db)(`${Eb}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: `,e),!0):((0,n.ab)(`${Eb}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: `,e),!1)}return!0}return!1},buildRequests:(e,t)=>{var i;t&&t.refererInfo&&(i=t.refererInfo);var a,s=function(e){return{pageURL:e?.page||window.location.href,refURL:e?.ref||window.document.referrer}}(i),d=function(e){return{id:""+(new Date).getTime(),at:1,cur:[Rb],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(s),l="",c=[],p=[],m=[],f=(0,n.s)();if(e.forEach((e=>{if(e.params.wiid=e.params.wiid||t.auctionId||f,(a=(0,n.n)(e)).params.adSlot=a.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,n._)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,n.db)(Cb+": adSlot must be a string. Ignoring adSlot"),""));var i=e.params.adSlot,a=i.split(":");if(i=a[0],2==a.length&&(e.params.adUnitIndex=a[1]),a=i.split("@"),e.params.adUnit=a[0],a.length>1){if(2!=(a=a[1].split("x")).length)return void(0,n.db)(Eb+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(a[0],10),e.params.height=parseInt(a[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(b.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var r=0,o=[];r<e.mediaTypes.banner.sizes.length;r++)2===e.mediaTypes.banner.sizes[r].length&&o.push(e.mediaTypes.banner.sizes[r]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(a),a.mediaTypes&&a.mediaTypes.hasOwnProperty("video")||a.params.hasOwnProperty("video"));else if(!(a.hasOwnProperty("mediaTypes")&&a.mediaTypes.hasOwnProperty(b.c)||0!==a.params.width||0!==a.params.height))return void(0,n.db)(Eb+"Skipping the non-standard adslot: ",a.params.adSlot,JSON.stringify(a));s.pubId=s.pubId||a.params.publisherId,(s=function(e,t){var i,a,r;for(i in t.kadpageurl||(t.kadpageurl=t.pageURL),Ob)Ob.hasOwnProperty(i)&&(a=e[i])&&("object"==typeof(r=Ob[i])&&(a=r.f(a,t)),(0,n._)(a)?t[i]=a:(0,n.db)(Eb+"Ignoring param : "+i+" with value : "+Ob[i]+", expects string-value, found "+typeof a));return t}(a.params,s)).transactionId=a.ortb2Imp?.ext?.tid,""===l?l=a.params.currency||Ab:a.params.hasOwnProperty("currency")&&l!==a.params.currency&&(0,n.db)(Eb+"Currency specifier ignored. Only one currency permitted."),a.params.currency=l,a.params.hasOwnProperty("dctr")&&(0,n._)(a.params.dctr)&&c.push(a.params.dctr),a.params.hasOwnProperty("bcat")&&(0,n.Q)(a.params.bcat)&&(p=p.concat(a.params.bcat)),a.params.hasOwnProperty("acat")&&(0,n.Q)(a.params.acat)&&(m=m.concat(a.params.acat));var i=function(e,t){var i,a,s={},d={},l=e.hasOwnProperty("sizes")?e.sizes:[],c="",p=[],m=t?.fledgeEnabled;if(function(e,t){t.params.deals&&((0,n.Q)(t.params.deals)?t.params.deals.forEach((function(t){(0,n._)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,n.db)(Eb+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):(0,n.db)(Eb+"Error: bid.params.deals should be an array of strings."))}(s={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Fb("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Fb("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Fb("currency",e.params.currency):Rb},e),function(e,t){var i,a="";if(t.params.dctr)if(a=t.params.dctr,(0,n._)(a)&&a.length>0){var r=a.split("|");a="",r.forEach((e=>{a+=e.length>0?e.trim()+"|":""})),i=a.length,"|"===a.substring(i,i-1)&&(a=a.substring(0,i-1)),e.ext.key_val=a.trim()}else(0,n.db)(Eb+"Ignoring param : dctr with value : "+a+", expects string-value, found empty or non-string value")}(s,e),function(e,t){var i=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,a="";if(void 0!==i&&""!==i&&i.hasOwnProperty("segments")){var n,r=i.segments.length;a+="jw-id="+i.content.id;for(var o=0;o<r;o++)a+="|jw-"+i.segments[o]+"=1";(n=e.ext)&&void 0===n.key_val?n.key_val=a:n.key_val+="|"+a}}(s,e),e.hasOwnProperty("mediaTypes"))for(c in e.mediaTypes)switch(c){case b.b:(i=Qb(e))!==Ab&&(s.banner=i);break;case b.c:d.request=JSON.stringify(Jb(e.nativeParams)),jb?((0,n.db)(Eb+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),jb=!1):s.native=d;break;case b.d:(a=Yb(e))!==Ab&&(s.video=a)}else i={pos:0,w:e.params.width,h:e.params.height,topframe:(0,n.J)()?0:1},(0,n.Q)(l)&&l.length>1&&((l=l.splice(1,l.length-1)).forEach((e=>{p.push({w:e[0],h:e[1]})})),i.format=p),s.banner=i;return function(e,t){const i={...(0,r.a)(t,"ortb2Imp.ext.data")};Object.keys(i).forEach((t=>{"pbadslot"===t?"string"==typeof i[t]&&i[t]&&(0,o.a)(e,"ext.data.pbadslot",i[t]):"adserver"===t?["name","adslot"].forEach((t=>{const a=(0,r.a)(i,`adserver.${t}`);"string"==typeof a&&a&&((0,o.a)(e,`ext.data.adserver.${t.toLowerCase()}`,a),"adslot"===t&&(0,o.a)(e,"ext.dfp_ad_unit_code",a))})):(0,o.a)(e,`ext.data.${t}`,i[t])}));const a=(0,r.a)(t,"ortb2Imp.ext.gpid");a&&(0,o.a)(e,"ext.gpid",a)}(s,e),function(e,t){let i=-1;"function"!=typeof t.getFloor||u.config.getConfig("pubmatic.disableFloors")||[b.b,b.d,b.c].forEach((a=>{if(e.hasOwnProperty(a)){let r=[];"banner"===a&&(e[a].w&&e[a].h&&r.push([e[a].w,e[a].h]),(0,n.Q)(e[a].format)&&e[a].format.forEach((e=>r.push([e.w,e.h])))),0===r.length&&r.push("*"),r.forEach((r=>{let o=t.getFloor({currency:e.bidfloorcur,mediaType:a,size:r});if((0,n.bb)(Eb,"floor from floor module returned for mediatype:",a," and size:",r," is: currency",o.currency,"floor",o.floor),"object"==typeof o&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){let e=parseFloat(o.floor);(0,n.bb)(Eb,"floor from floor module:",e,"previous floor value",i,"Min:",Math.min(e,i)),i=-1===i?e:Math.min(e,i),(0,n.bb)(Eb,"new floor value:",i)}}))}})),e.bidfloor&&((0,n.bb)(Eb,"floor from floor module:",i,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(i,e.bidfloor)),i=Math.max(i,e.bidfloor)),e.bidfloor=!isNaN(i)&&i>0?i:Ab,(0,n.bb)(Eb,"new impObj.bidfloor value:",e.bidfloor)}(s,e),function(e,t,i){i?(e.ext=e.ext||{},void 0!==t?.ortb2Imp?.ext?.ae&&(e.ext.ae=t.ortb2Imp.ext.ae)):e.ext?.ae&&delete e.ext.ae}(s,e,m),s.hasOwnProperty(b.b)||s.hasOwnProperty(b.c)||s.hasOwnProperty(b.d)?s:Ab}(a,t);i&&d.imp.push(i)})),0==d.imp.length)return;d.site.publisher.id=s.pubId.trim(),qb=s.pubId.trim(),d.ext.wrapper={},d.ext.wrapper.profile=parseInt(s.profId)||Ab,d.ext.wrapper.version=parseInt(s.verId)||Ab,d.ext.wrapper.wiid=s.wiid||t.auctionId,d.ext.wrapper.wv="prebid_prebid_8.30.0",d.ext.wrapper.transactionId=s.transactionId,d.ext.wrapper.wp="pbjs";const g=t?k.a.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==g){if(d.ext.marketplace={},t&&1==g){let e=k.a.get(t.bidderCode,"allowedAlternateBidderCodes");(0,n.Q)(e)?(e=e.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(n.vb),zb=e.includes("*")?$b:[...zb,...e]):zb=$b}d.ext.marketplace.allowedbidders=zb.filter(n.vb)}d.user.gender=s.gender?s.gender.trim():Ab,d.user.geo={},d.user.yob=Fb("yob",s.yob),d.site.page=s.kadpageurl.trim()||d.site.page.trim(),d.site.domain=function(e){let t=document.createElement("a");return t.href=e,t.hostname}(d.site.page),"object"==typeof u.config.getConfig("content")&&(d.site.content=u.config.getConfig("content")),"object"==typeof u.config.getConfig("device")&&(d.device=Object.assign(d.device,u.config.getConfig("device"))),d.device.language=d.device.language&&d.device.language.split("-")[0],(0,o.a)(d,"source.tid",t?.ortb2?.source?.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(d.test=1),e[0].schain&&(0,o.a)(d,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,o.a)(d,"user.ext.consent",t.gdprConsent.consentString),(0,o.a)(d,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,o.a)(d,"regs.ext.us_privacy",t.uspConsent),t?.gppConsent?.gppString?((0,o.a)(d,"regs.gpp",t.gppConsent.gppString),(0,o.a)(d,"regs.gpp_sid",t.gppConsent.applicableSections)):t?.ortb2?.regs?.gpp&&((0,o.a)(d,"regs.gpp",t.ortb2.regs.gpp),(0,o.a)(d,"regs.gpp_sid",t.ortb2.regs.gpp_sid)),!0===u.config.getConfig("coppa")&&(0,o.a)(d,"regs.coppa",1),function(e,t){let i=(0,r.a)(t,"0.userIdAsEids");(0,n.Q)(i)&&i.length>0&&(0,o.a)(e,"user.eids",i)}(d,e);const y=t&&t.ortb2||{},{user:h,device:_,site:v,bcat:I}=y;if(v){const{page:e,domain:t,ref:i}=d.site;(0,n.fb)(d,{site:v}),d.site.page=e,d.site.domain=t,d.site.ref=i}if(h&&(0,n.fb)(d,{user:h}),I&&(p=p.concat(I)),_?.sua&&(d.device.sua=_?.sua),_?.ext?.cdep&&(0,o.a)(d,"device.ext.cdep",_.ext.cdep),h?.geo&&_?.geo?(d.device.geo={...d.device.geo,..._.geo},d.user.geo={...d.user.geo,...h.geo}):(h?.geo||_?.geo)&&(d.user.geo=d.device.geo=h?.geo?{...d.user.geo,...h.geo}:{...d.user.geo,..._.geo}),y.ext?.prebid?.bidderparams?.[t.bidderCode]?.acat){const e=y.ext.prebid.bidderparams[t.bidderCode].acat;Zb(d,e)}else m.length&&Zb(d,m);return function(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,n.db)(Eb+"bcat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter((function(e,t,i){if(e.length>3)return i.indexOf(e)===t;(0,n.db)(Eb+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,n.db)(Eb+"bcat: Selected: ",t),e.bcat=t)}(d,p),d.tmax=t?.timeout?t.timeout:window?.PWT?.versionDetails?.timeout,d.ext.epoch=(new Date).getTime(),"object"==typeof u.config.getConfig("app")&&(d.app=u.config.getConfig("app"),d.app.publisher=d.site.publisher,d.app.ext=d.site.ext||Ab,"object"!=typeof d.app.content&&(d.app.content=d.site.content||Ab),delete d.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(d),bidderRequest:t}},interpretResponse:(e,t)=>{const i=[];var a=Rb;let o=JSON.parse(t.data),s=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&(0,n.Q)(e.body.seatbid)&&(a=e.body.cur||a,e.body.seatbid.forEach((e=>{e.bid&&(0,n.Q)(e.bid)&&e.bid.forEach((d=>{let l={requestId:d.impid,cpm:parseFloat((d.price||0).toFixed(2)),width:d.w,height:d.h,creativeId:d.crid||d.id,dealId:d.dealid,currency:a,netRevenue:!0,ttl:300,referrer:s,ad:d.adm,pm_seat:e.seat||null,pm_dspid:d.ext&&d.ext.dspid?d.ext.dspid:null,partnerImpId:d.id||""};o.imp&&o.imp.length>0&&o.imp.forEach((e=>{if(d.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=Ub[e.ext.bidtype];else{(0,n.bb)(Eb+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var i=e.adm,a="",r=new RegExp(/VAST\s+version/);if(i.indexOf('span class="PubAPIAd"')>=0)t.mediaType=b.b;else if(r.test(i))t.mediaType=b.d;else try{(a=JSON.parse(i.replace(/\\/g,"")))&&a.native&&(t.mediaType=b.c)}catch(e){(0,n.db)(Eb+"Error: Cannot parse native reponse for ad response: "+i)}}}(d,l),l.mediaType){case b.b:break;case b.d:l.width=d.hasOwnProperty("w")?d.w:e.video.w,l.height=d.hasOwnProperty("h")?d.h:e.video.h,l.vastXml=d.adm,function(e,t){let i,a,n;if(t.bidderRequest&&t.bidderRequest.bids){for(let r=0;r<t.bidderRequest.bids.length;r++)t.bidderRequest.bids[r].bidId===e.requestId&&(i=t.bidderRequest.bids[r].params,a=t.bidderRequest.bids[r].mediaTypes[b.d].context,n=t.bidderRequest.bids[r].adUnitCode);a&&"outstream"===a&&i&&i.outstreamAU&&n&&(e.rendererCode=i.outstreamAU,e.renderer=Nb.newRenderer(e.rendererCode,n))}}(l,t),function(e,t,i){if(!t?.ext?.prebiddealpriority)return;const a=(0,n.u)(e.requestId,[i.bidderRequest]),o=(0,r.a)(a,"mediaTypes.video");if(o?.context!=b.a)return;const s=t?.ext?.video?.duration||o?.maxduration;e.video={context:b.a,durationSeconds:s,dealTier:t.ext.prebiddealpriority}}(l,d,t);break;case b.c:!function(e,t){if(e.hasOwnProperty("adm")){var i="";try{i=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,n.db)(Eb+"Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:{...i.native}},t.mediaType=b.c,t.width||(t.width=0),t.height||(t.height=0)}}(d,l)}})),d.ext&&d.ext.deal_channel&&(l.dealChannel=Pb[d.ext.deal_channel]||null),function(e,t,i){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);const a=i||t.ext&&t.ext.advid;a&&(e.meta.advertiserId=a,e.meta.agencyId=a,e.meta.buyerId=a),t.adomain&&ef(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&ef(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}(l,d,e.seat),e.ext&&e.ext.buyid&&(l.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),d.ext&&d.ext.marketplace&&(l.bidderCode=d.ext.marketplace),i.push(l)}))})));let d=(0,r.a)(e.body,"ext.fledge_auction_configs");if(d)return d=Object.entries(d).map((([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)}))),{bids:i,fledgeAuctionConfigs:d}}catch(e){(0,n.ab)(e)}return i},getUserSyncs:(e,t,i,a,n)=>{let r=""+qb;return i&&(r+="&gdpr="+(i.gdprApplies?1:0),r+="&gdpr_consent="+encodeURIComponent(i.consentString||"")),a&&(r+="&us_privacy="+encodeURIComponent(a)),n?.gppString&&n?.applicableSections?.length&&(r+="&gpp="+encodeURIComponent(n.gppString),r+="&gpp_sid="+encodeURIComponent(n?.applicableSections?.join(","))),!0===u.config.getConfig("coppa")&&(r+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+r}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+r}]},transformBidParams:function(e){return pc({publisherId:"string",adSlot:"string"},e)}};(0,at.b)(tf);const af={image:{required:!0,sizes:[1,1]},title:{required:!0,len:80},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1,sizes:[1,1]},cta:{required:!1}},nf=(e,t)=>({...Rd,...t,...e.params.video});At.a.add(vt.a.pubmatic,((e,{bid:t,placement:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a),{video:r,...o}=t.params;qd(e,i.placementId,n,[{bidder:t.bidder,params:o}])}a.native&&Nd(e,i.placementId,[{bidder:t.bidder,params:t.params}],af),a.outstream&&Bd(e,i.placementId,a.outstream,[{bidder:t.bidder,params:{...t.params,video:nf(t,a.outstream.openRtbParams)}}],i.rendering?.outstream),a.instream&&Pd(e,i.placementId,a.instream,[{bidder:t.bidder,params:t.params}])})),At.b.add(vt.a.pubmatic,tf.gvlid);const rf=["prebid-eu","prebid-us","prebid-asia"],of=["USD"],sf=[b.b,b.c],df={NATIVE:{IMAGE_TYPE:{ICON:1,MAIN:3},ASSET_ID:{TITLE:1,IMAGE:2,ICON:3,BODY:4,SPONSORED:5,CTA:6},DATA_ASSET_TYPE:{SPONSORED:1,DESC:2,CTA_TEXT:12}}},lf={code:"rtbhouse",supportedMediaTypes:sf,gvlid:16,isBidRequestValid:function(e){return!(!(0,p.c)(rf,e.params.region)||!e.params.publisherId)},buildRequests:function(e,t){e=(0,d.b)(e);const i={id:t.bidderRequestId,imp:e.map((e=>function(e,t){const i={id:e.bidId,banner:cf(e),native:mf(e),tagid:e.adUnitCode.toString()},a=function(e){const t=[];return"function"==typeof e.getFloor&&Object.keys(e.mediaTypes).forEach((i=>{(0,p.c)(sf,i)&&t.push(e.getFloor({currency:of[0],mediaType:i,size:e.sizes||"*"}).floor)})),t.length>0?Math.max(...t):parseFloat(e.params.bidfloor)}(e);a&&(i.bidfloor=a),t.fledgeEnabled?(i.ext=i.ext||{},i.ext.ae=e?.ortb2Imp?.ext?.ae):i.ext?.ae&&delete i.ext.ae;const n=(0,r.a)(e,"ortb2Imp.ext.tid");return n&&(i.ext=i.ext||{},i.ext.tid=n),i}(e,t))),site:pf(e,t),cur:of,test:e[0].params.test||0,source:uf(e[0],t)};if(t&&t.gdprConsent&&t.gdprConsent.gdprApplies){const e=t.gdprConsent.consentString?t.gdprConsent.consentString.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):"",a=t.gdprConsent.gdprApplies?1:0;i.regs={ext:{gdpr:a}},i.user={ext:{consent:e}}}if(e[0].schain){const t=function(e){return e?function(e){if(!e.nodes)return!1;const t=["asi","sid","hp"];return e.nodes.every((e=>t.every((t=>e[t]))))}(e)?e:((0,n.ab)("RTB House: required schain params missing"),null):null}(e[0].schain);t&&(i.ext={schain:t})}if(e[0].userIdAsEids){const t={eids:e[0].userIdAsEids};i.user&&i.user.ext?i.user.ext={...i.user.ext,...t}:i.user={ext:t}}const a=t?.ortb2||{};["site","user","device","bcat","badv"].forEach((e=>{const t=a[e];t&&(0,n.fb)(i,{[e]:t})}));let o="creativecdn.com/bidder/prebid/bids";if(t.fledgeEnabled){const e=u.config.getConfig("fledgeConfig")||{seller:"https://fledge-ssp.creativecdn.com",decisionLogicUrl:"https://fledge-ssp.creativecdn.com/component-seller-prebid.js",sellerTimeout:500};(0,n.fb)(i,{ext:{fledge_config:e}}),o="creativecdn.com/bidder/prebidfledge/bids"}return{method:"POST",url:"https://"+e[0].params.region+"."+o,data:JSON.stringify(i)}},interpretOrtbResponse:function(e){const t=e.body;if(!(0,n.Q)(t))return[];const i=[];return t.forEach((e=>{if(!e.price)return;let t;t=0===e.adm.indexOf("{")?function(e){return{requestId:e.impid,mediaType:b.c,cpm:e.price,creativeId:e.adid,width:1,height:1,ttl:55,meta:{advertiserDomains:e.adomain},netRevenue:!0,currency:"USD",native:gf(e.adm)}}(e):function(e){return{requestId:e.impid,mediaType:b.b,cpm:e.price,creativeId:e.adid,ad:e.adm,width:e.w,height:e.h,ttl:55,meta:{advertiserDomains:e.adomain},netRevenue:!0,currency:"USD"}}(e),e.ext&&(t.ext=e.ext),i.push(t)})),i},interpretResponse:function(e,t){let i;const a=e.body;let r=null;if(a.bidid&&(0,n.Q)(a?.ext?.igbid)){i=this.interpretOrtbResponse({body:a.seatbid[0]?.bid},t);const e=a.ext.seller,o=a.ext.decisionLogicUrl,s="sellerTimeout"in a.ext?{sellerTimeout:a.ext.sellerTimeout}:{};a.ext.igbid.forEach((t=>{const i={};t.igbuyer.forEach((e=>{i[e.igdomain]=e.buyersignal})),r=r||{},r[t.impid]=(0,n.fb)({seller:e,decisionLogicUrl:o,interestGroupBuyers:Object.keys(i),perBuyerSignals:i},s)}))}else i=this.interpretOrtbResponse(e,t);return r?(r=Object.entries(r).map((([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)}))),(0,n.bb)("Response with FLEDGE:",{bids:i,fledgeAuctionConfigs:r}),{bids:i,fledgeAuctionConfigs:r}):i}};function cf(e){if("banner"===e.mediaType||(0,r.a)(e,"mediaTypes.banner")||!e.mediaType&&!e.mediaTypes){var t=e.sizes||e.mediaTypes.banner.sizes;return{w:t[0][0],h:t[0][1],format:t.map((e=>({w:e[0],h:e[1]})))}}}function pf(e,t){let i="unknown",a=null;e&&e.length>0&&(i=e[0].params.publisherId,a=e[0].params.channel&&e[0].params.channel.toString().slice(0,50));let n={publisher:{id:i.toString()},page:t.refererInfo.page,name:window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")};return a&&(n.channel=a),n}function uf(e,t){return{tid:t?.auctionId||""}}function mf(e){if("native"===e.mediaType||(0,r.a)(e,"mediaTypes.native"))return{request:{assets:bf(e)},ver:"1.1"}}function bf(e){const t=e.nativeParams||(0,r.a)(e,"mediaTypes.native"),i=[];return t.title&&i.push({id:df.NATIVE.ASSET_ID.TITLE,required:t.title.required?1:0,title:{len:t.title.len||25}}),t.image&&i.push({id:df.NATIVE.ASSET_ID.IMAGE,required:t.image.required?1:0,img:ff(t.image,df.NATIVE.IMAGE_TYPE.MAIN)}),t.icon&&i.push({id:df.NATIVE.ASSET_ID.ICON,required:t.icon.required?1:0,img:ff(t.icon,df.NATIVE.IMAGE_TYPE.ICON)}),t.sponsoredBy&&i.push({id:df.NATIVE.ASSET_ID.SPONSORED,required:t.sponsoredBy.required?1:0,data:{type:df.NATIVE.DATA_ASSET_TYPE.SPONSORED,len:t.sponsoredBy.len}}),t.body&&i.push({id:df.NATIVE.ASSET_ID.BODY,required:t.body.request?1:0,data:{type:df.NATIVE.DATA_ASSET_TYPE.DESC,len:t.body.len}}),t.cta&&i.push({id:df.NATIVE.ASSET_ID.CTA,required:t.cta.required?1:0,data:{type:df.NATIVE.DATA_ASSET_TYPE.CTA_TEXT,len:t.cta.len}}),i}function ff(e,t){const i={type:t};if(e.aspect_ratios){const t=e.aspect_ratios[0],a=t.min_width||100;i.wmin=a,i.hmin=a/t.ratio_width*t.ratio_height}if(e.sizes){const t=Array.isArray(e.sizes[0])?e.sizes[0]:e.sizes;i.w=t[0],i.h=t[1]}return i}function gf(e){const t=JSON.parse(e).native,i={clickUrl:encodeURI(t.link.url),impressionTrackers:t.imptrackers};return t.assets.forEach((e=>{switch(e.id){case df.NATIVE.ASSET_ID.TITLE:i.title=e.title.text;break;case df.NATIVE.ASSET_ID.IMAGE:i.image={url:encodeURI(e.img.url),width:e.img.w,height:e.img.h};break;case df.NATIVE.ASSET_ID.ICON:i.icon={url:encodeURI(e.img.url),width:e.img.w,height:e.img.h};break;case df.NATIVE.ASSET_ID.BODY:i.body=e.data.value;break;case df.NATIVE.ASSET_ID.SPONSORED:i.sponsoredBy=e.data.value;break;case df.NATIVE.ASSET_ID.CTA:i.cta=e.data.value}})),i}(0,at.b)(lf),At.a.add(vt.a.rtbhouse,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(!(0,Ot.b)()){if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX",...i.params}}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX",...i.params}}],a.native)}})),At.b.add(vt.a.rtbhouse,lf.gvlid);const yf={[b.b]:"banner",[b.c]:"native",[b.d]:"video"},hf={[$i.f]:{extPrebid:{fn:function(e,t){(0,o.a)(e,"ext.prebid",(0,n.fb)({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},e.ext?.prebid)),u.config.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){(0,o.a)(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,a.a)().version},e.ext?.prebid?.channel))}},extPrebidAliases:{fn:function(e,t,i,{am:a=de.a}={}){if(a.aliasRegistry[t.bidderCode]){const i=a.bidderRegistry[t.bidderCode];i&&i.getSpec().skipPbsAliasing||(0,o.a)(e,`ext.prebid.aliases.${t.bidderCode}`,a.aliasRegistry[t.bidderCode])}}}},[$i.c]:{params:{fn:function(e,t,i,{adUnit:a,bidderRequests:n,index:r=c.a.index,bidderRegistry:s=de.a.bidderRegistry}={}){let d=t.params;const l=s[t.bidder];l&&l.getSpec().transformBidParams&&(a=a||r.getAdUnit(t),n=n||[i.bidderRequest],d=l.getSpec().transformBidParams(d,!0,a,n)),d&&(0,o.a)(e,`ext.prebid.bidder.${t.bidder}`,d)}},adUnitCode:{fn:function(e,t){const i=t.adUnitCode;i&&(0,o.a)(e,"ext.prebid.adunitcode",i)}}},[$i.a]:{mediaType:{fn:function(e,t,i){let a=i.mediaType;a||(a=gp.hasOwnProperty(t.mtype)?gp[t.mtype]:t.ext?.prebid?.type,yf.hasOwnProperty(a)||(a=b.b)),e.mediaType=a},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===b.d){let{cacheId:i,url:a}=(0,r.a)(t,"ext.prebid.cache.vastXml")||{};if(!i||!a){const{hb_uuid:e,hb_cache_host:n,hb_cache_path:o}=(0,r.a)(t,"ext.prebid.targeting")||{};e&&n&&o&&(i=e,a=`https://${n}${o}?uuid=${e}`)}i&&a&&Object.assign(e,{videoCacheKey:i,vastUrl:a})}},priority:-10},bidderCode:{fn(e,t,i){e.bidderCode=i.seatbid.seat,e.adapterCode=(0,r.a)(t,"ext.prebid.meta.adaptercode")||i.bidRequest?.bidder||e.bidderCode}},pbsBidId:{fn(e,t){const i=(0,r.a)(t,"ext.prebid.bidid");(0,n._)(i)&&(e.pbsBidId=i)}},adserverTargeting:{fn(e,t){const i=(0,r.a)(t,"ext.prebid.targeting");(0,n.Y)(i)&&(e.adserverTargeting=i)}},extPrebidMeta:{fn(e,t){e.meta=(0,n.fb)({},(0,r.a)(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn(e,t){const i=(0,r.a)(t,"ext.prebid.events.win");(0,n._)(i)&&(e.pbsWurl=i)}}},[$i.g]:{serverSideStats:{fn(e,t,i){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((([e,a])=>{const n=(0,r.a)(t,`ext.${e}.${i.bidderRequest.bidderCode}`);n&&(i.bidderRequest[a]=n,i.bidRequests.forEach((e=>e[a]=n)))}))}}}},_f=(0,n.eb)((()=>hp(vp(),hf,(0,$i.h)($i.d))));let vf=u.config.getConfig("rubicon")||{};u.config.getConfig("rubicon",(e=>{(0,n.fb)(vf,e.rubicon)}));var If={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",484:"720x1280",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,n.a)(If,((e,t)=>If[e]=t));const wf=_p({request(e,t,i,r){const{bidRequests:s}=r,d=e(t,i,r);d.cur=["USD"],d.test=u.config.getConfig("debug")?1:0,(0,o.a)(d,"ext.prebid.cache",{vastxml:{returnCreative:!0===vf.returnVast}}),(0,o.a)(d,"ext.prebid.bidders",{rubicon:{integration:vf.int_type||"pbjs"}}),(0,o.a)(d,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(u.config));let l=(0,a.a)().installedModules;return!l||l.length&&-1===l.indexOf("rubiconAnalyticsAdapter")||(0,o.a)(d,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t,i){let a={};const r=ic(i,...t.map((e=>e.params.keywords)));t.forEach((t=>{const i={user:{ext:{data:{...t.params.visitor}}},site:{ext:{data:{...t.params.inventory}}}},r=e.imp.find((e=>e.ext?.prebid?.bidder?.rubicon?.video?.language));r&&(i.site.content={language:r.ext?.prebid?.bidder?.rubicon?.video?.language}),a=(0,n.fb)(a,t.ortb2||{},i);const o=u.config.getConfig("user.id");a.user.id=a.user.id||o})),(0,n.fb)(e,a),r&&r.length&&(0,o.a)(e,"site.keywords",r.join(",")),delete e?.ext?.prebid?.storedrequest}(d,s,i.ortb2),delete d?.ext?.prebid?.storedrequest,!0===vf.disableFloors&&delete d.ext.prebid.floors,s.filter((e=>"object"==typeof e.floorData)).length>0&&(d.ext.prebid.floors={enabled:!1}),d},imp(e,t,i){const a=Ef(t);if(a.includes(b.b)&&1==a.length)return;const n=e(t,i);return n.id=t.adUnitCode,delete n.banner,u.config.getConfig("s2sConfig.defaultTtl")&&(n.exp=u.config.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&n.video&&(n.video.pos=1),"btf"===t.params.position&&n.video&&(n.video.pos=3),delete n.ext?.prebid?.storedrequest,!0===t.params.bidonmultiformat&&a.length>1&&(0,o.a)(n,"ext.prebid.bidder.rubicon.formats",a),function(e,t){if("USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur),!t.bidfloor){let i=parseFloat((0,r.a)(e,"params.floor"));isNaN(i)||(t.bidfloor=i,t.bidfloorcur="USD")}}(t,n),n},bidResponse(e,t,i){const a=e(t,i);a.meta.mediaType=(0,r.a)(t,"ext.prebid.type");const{bidRequest:s}=i;let[d,l]="outstream"===s.mediaTypes.video?.context?Sf(s,b.d):[void 0,void 0];return a.width=t.w||d||a.playerWidth,a.height=t.h||l||a.playerHeight,a.mediaType===b.d&&"outstream"===s.mediaTypes.video.context&&(a.renderer=function(e){const t=m.a.install({id:e.adId,url:vf.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:vf.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(Df)}catch(e){(0,n.db)("Prebid Error calling setRender on renderer",e)}return t}(a)),(0,r.a)(t,"ext.bidder.rp.advid")&&(0,o.a)(a,"meta.advertiserId",t.ext.bidder.rp.advid),a},context:{netRevenue:!1!==vf.netRevenue,ttl:300},processors:_f}),Tf={code:"rubicon",gvlid:52,supportedMediaTypes:[b.b,b.d,b.c],isBidRequestValid:function(e){let t=!0;if("object"!=typeof e.params)return!1;for(let t=0,i=["accountId","siteId","zoneId"];t<i.length;t++)if(e.params[i[t]]=parseInt(e.params[i[t]]),isNaN(e.params[i[t]]))return(0,n.ab)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;let i=Ef(e,!0);if(!i.length)return!1;i.includes(b.d)&&(t=function(e){let t=!0,i=Object.prototype.toString.call([]);var a={mimes:i,protocols:i,linearity:Object.prototype.toString.call(0)};return Object.keys(a).forEach((function(i){Object.prototype.toString.call((0,r.a)(e,"mediaTypes.video."+i))!==a[i]&&(t=!1,(0,n.ab)("Rubicon: mediaTypes.video."+i+" is required and must be of type: "+a[i]))})),t}(e));const a=[b.b,b.c].filter((e=>i.includes(e))).length>0;return a?t&&a:t},buildRequests:function(e,t){let i,a=[],r=[];if(i=e.filter((e=>{const t=Ef(e)||[],{length:i}=t,{bidonmultiformat:a,video:n}=e.params||{};return 1===i&&(t.includes(b.d)||t.includes(b.c))||2===i&&!t.includes(b.b)||n&&t.includes(b.d)||a&&(t.includes(b.d)||t.includes(b.c))})),i&&i.length){const e=wf.toORTB({bidRequests:i,bidderRequest:t});r.push({method:"POST",url:`https://${vf.videoHost||"prebid-server"}.rubiconproject.com/openrtb2/auction`,data:e,bidRequest:i})}const o=e.filter((e=>{const t=Ef(e)||[],{bidonmultiformat:i,video:a}=e.params||{};return t.includes(b.b)&&(1===t.length||i||!i&&!a||!i&&a&&!t.includes(b.d))}));if(!0!==vf.singleRequest)a=r.concat(o.map((e=>{const i=Tf.createSlotParams(e,t);return{method:"GET",url:`https://${vf.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:Tf.getOrderedParams(i).reduce(((e,t)=>{const a=i[t];return(0,n._)(a)&&""!==a||(0,n.X)(a)?`${e}${Af(t,a)}&`:e}),"")+`slots=1&rand=${Math.random()}`,bidRequest:e}})));else{const e=o.reduce(((e,t)=>((e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e)),{}),i=10;a=r.concat(Object.keys(e).reduce(((a,r)=>{var o,s;return(o=e[r],s=i,o.map(((e,t)=>t%s==0?o.slice(t,t+s):null)).filter((e=>e))).forEach((e=>{const i=Tf.combineSlotUrlParams(e.map((e=>Tf.createSlotParams(e,t))));a.push({method:"GET",url:`https://${vf.bannerHost||"fastlane"}.rubiconproject.com/a/api/fastlane.json`,data:Tf.getOrderedParams(i).reduce(((e,t)=>{const a=i[t];return(0,n._)(a)&&""!==a||(0,n.X)(a)?`${e}${Af(t,a)}&`:e}),"")+`slots=${e.length}&rand=${Math.random()}`,bidRequest:e})})),a}),[]))}return a},getOrderedParams:function(e){const t=/^tg_v/,i=/^tg_i/,a=/^eid_|^tpid_/,n=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((e=>a.test(e)))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((e=>t.test(e)))).concat(Object.keys(e).filter((e=>i.test(e)))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","o_ae","o_cdep","rp_floor","rp_secure","tk_user_key"]);return n.concat(Object.keys(e).filter((e=>-1===n.indexOf(e))))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];const t=e.reduce((function(t,i,a){return Object.keys(i).forEach((function(n){t.hasOwnProperty(n)||(t[n]=new Array(e.length)),t[n].splice(a,1,i[n])})),t}),{}),i=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){const a=t[e].join(";"),n=a.match(i);t[e]=n?n[1]:a})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();const i=e.params,a=Sf(e,"banner"),[o,s]=i.latLong||[],d={account_id:i.accountId,site_id:i.siteId,zone_id:i.zoneId,size_id:a[0],alt_size_ids:a.slice(1).join(",")||void 0,rp_floor:(i.floor=parseFloat(i.floor))>=.01?i.floor:void 0,rp_secure:"1",tk_flint:`${vf.int_type||"pbjs_lite"}_v8.30.0`,"x_source.tid":t.ortb2?.source?.tid,"x_imp.ext.tid":e.ortb2Imp?.ext?.tid,l_pb_bid_id:e.bidId,o_cdep:e.ortb2?.device?.ext?.cdep,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:i.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:xf(e,t)};if("function"==typeof e.getFloor&&!vf.disableFloors){let t;try{t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,n.ab)("Rubicon: getFloor threw an error: ",e)}d.rp_hard_floor="object"!=typeof t||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:t.floor}!0===i.bidonmultiformat&&(0,r.a)(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(d.p_formats=Object.keys(e.mediaTypes).join(","));let l={1:"atf",3:"btf"}[(0,r.a)(e,"mediaTypes.banner.pos")]||"";d.p_pos="atf"===i.position||"btf"===i.position?i.position:l;const c=u.config.getConfig("user.id");return c&&(d.ppuid=c),e?.ortb2Imp?.ext?.ae&&(d.o_ae=1),e.userIdAsEids&&e.userIdAsEids.forEach((e=>{try{if("adserver.org"===e.source)d.tpid_tdid=e.uids[0].id,d["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)d["tpid_liveintent.com"]=e.uids[0].id,d["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(d["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)d.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)d["eid_id5-sync.com"]=`${e.uids[0].id}^${e.uids[0].atype}^${e.uids[0].ext&&e.uids[0].ext.linkType||""}`;else{const t="rubiconproject.com"===e.source?e.uids[0].id:`${e.uids[0].id}^${e.uids[0].atype||""}`;d[`eid_${e.source}`]=t}if(!d.ppuid){const t=(0,p.b)(e.uids,(e=>e.ext&&"ppuid"===e.ext.stype));t&&t.id&&(d.ppuid=t.id)}}catch(t){(0,n.db)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(d.gdpr=Number(t.gdprConsent.gdprApplies)),d.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(d.us_privacy=encodeURIComponent(t.uspConsent)),t.gppConsent?.gppString&&(d.gpp=t.gppConsent.gppString,d.gpp_sid=t.gppConsent?.applicableSections?.toString()),d.rp_maxbids=t.bidLimit||1,function(e,t,i){const a={user:{ext:{data:{...e.params.visitor}}},site:{ext:{data:{...e.params.inventory}}}};e.params.keywords&&(a.site.keywords=(0,n.Q)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);let o=(0,n.fb)({},e.ortb2||{},a),s=(0,r.a)(e.ortb2Imp,"ext")||{},d=(0,r.a)(e.ortb2Imp,"ext.data")||{};const l=(0,r.a)(e,"ortb2Imp.ext.gpid"),c={user:[4],site:[1,2,5,6]},p={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},u=function(e,t,a,o=!0){let s=function(e,t,i){return"data"===t&&Array.isArray(e)?e.filter((e=>e.segment&&(0,r.a)(e,"ext.segtax")&&c[i]&&-1!==c[i].indexOf((0,r.a)(e,"ext.segtax")))).map((e=>{let t=e.segment.filter((e=>e.id)).reduce(((e,t)=>(e.push(t.id),e)),[]);if(t.length>0)return t.toString()})).toString():"object"==typeof e&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter((e=>{if("object"!=typeof e&&void 0!==e)return e.toString();(0,n.db)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}(e,a,t),d=p[a]&&o?`${p[a]}`:"data"===a?`${p[t]}iab`:`${p[t]}${a}`;i[d]=i[d]?i[d].concat(",",s):s};if(t===b.b){["site","user"].forEach((e=>{Object.keys(o[e]).forEach((t=>{"site"===e&&"content"===t&&o[e][t].data?u(o[e][t].data,e,"data"):"ext"!==t?u(o[e][t],e,t):o[e][t].data&&Object.keys(o[e].ext.data).forEach((t=>{u(o[e].ext.data[t],e,t,!1)}))}))})),Object.keys(d).forEach((e=>{"adserver"!==e?u(d[e],"site",e):"gam"===d[e].name&&u(d[e].adslot,name,e)})),l&&(i.p_gpid=l),i["tg_i.pbadslot"]&&delete i["tg_i.dfp_ad_unit_code"];const e=(0,r.a)(o,"device.sua");e&&!1!==vf.chEnabled&&(0,n.lb)(e,["architecture",e=>i.m_ch_arch=e,"bitness",e=>i.m_ch_bitness=e,"browsers",e=>{if(!Array.isArray(e))return;const[t,a]=e.reduce(((e,t)=>(e[0].push(`"${t?.brand}"|v="${t?.version?.[0]}"`),e[1].push(`"${t?.brand}"|v="${t?.version?.join?.(".")}"`),e)),[[],[]]);i.m_ch_ua=t?.join?.(","),i.m_ch_full_ver=a?.join?.(",")},"mobile",e=>i.m_ch_mobile=`?${e}`,"model",e=>i.m_ch_model=e,"platform",e=>{i.m_ch_platform=e?.brand,i.m_ch_platform_ver=e?.version?.join?.(".")}])}else Object.keys(s).length&&(0,n.fb)(i.imp[0].ext,s),l&&(i.imp[0].ext.gpid=l),(0,n.fb)(i,o)}(e,b.b,d),!0===u.config.getConfig("coppa")&&(d.coppa=1),e.schain&&Rf(e.schain)&&(d.rp_schain=Tf.serializeSupplyChain(e.schain)),d},serializeSupplyChain:function(e){if(!Rf(e))return"";const{ver:t,complete:i,nodes:a}=e;return`${t},${i}!${Tf.serializeSupplyChainNodes(a)}`},serializeSupplyChainNodes:function(e){const t=["asi","sid","hp","rid","name","domain"];return e.map((e=>t.map((t=>encodeURIComponent(e[t]||""))).join(","))).join("!")},interpretResponse:function(e,t){e=e.body;const{data:i}=t;if(!e||"object"!=typeof e)return[];if(e.seatbid){const t=(0,r.a)(e,"ext.errors.rubicon");return Array.isArray(t)&&t.length>0&&(0,n.db)("Rubicon: Error in video response"),wf.fromORTB({request:i,response:e}).bids}let a,o=e.ads,s=0;const{bidRequest:d}=t;if("object"==typeof d&&!Array.isArray(d)&&Ef(d).includes(b.d)&&"object"==typeof o&&(o=o[d.adUnitCode]),!Array.isArray(o)||o.length<1)return[];let l=o.reduce(((t,i,r)=>{if(i.impression_id&&a===i.impression_id?s++:a=i.impression_id,"ok"!==i.status)return t;const o=Array.isArray(d)?d[r-s]:d;if(o&&"object"==typeof o){let e={requestId:o.bidId,currency:"USD",creativeId:i.creative_id||`${i.network||""}-${i.advertiser||""}`,cpm:i.cpm||0,dealId:i.deal,ttl:300,netRevenue:!1!==vf.netRevenue,rubicon:{advertiserId:i.advertiser,networkId:i.network},meta:{advertiserId:i.advertiser,networkId:i.network,mediaType:b.b}};i.creative_type&&(e.mediaType=i.creative_type),i.adomain&&(e.meta.advertiserDomains=Array.isArray(i.adomain)?i.adomain:[i.adomain]),i.creative_type===b.d?(e.width=o.params.video.playerWidth,e.height=o.params.video.playerHeight,e.vastUrl=i.creative_depot_url,e.impression_id=i.impression_id,e.videoCacheKey=i.impression_id):(e.ad=(l=i.script,`<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='${i.impression_id}'>\n<script type='text/javascript'>${l}<\/script>\n</div>\n</body>\n</html>`),[e.width,e.height]=If[i.size_id].split("x").map((e=>Number(e)))),e.rubiconTargeting=(Array.isArray(i.targeting)?i.targeting:[]).reduce(((e,t)=>(e[t.key]=t.values[0],e)),{rpfl_elemid:o.adUnitCode}),t.push(e)}else(0,n.ab)(`Rubicon: bidRequest undefined at index position:${r}`,d,e);var l;return t}),[]).sort(((e,t)=>(t.cpm||0)-(e.cpm||0))),c=e.component_auction_config?.map((e=>({config:e,bidId:e.bidId})));return c?{bids:l,fledgeAuctionConfigs:c}:l},getUserSyncs:function(e,t,i,a,r){if(!kf&&e.iframeEnabled){let e={};return i&&("boolean"==typeof i.gdprApplies&&(e.gdpr=Number(i.gdprApplies)),"string"==typeof i.consentString&&(e.gdpr_consent=i.consentString)),a&&(e.us_privacy=encodeURIComponent(a)),r?.gppString&&(e.gpp=r.gppString,e.gpp_sid=r.applicableSections?.toString()),e=Object.keys(e).length?`?${(0,n.r)(e)}`:"",kf=!0,{type:"iframe",url:`https://${vf.syncHost||"eus"}.rubiconproject.com/usync.html`+e}}},transformBidParams:function(e){return pc({accountId:"number",siteId:"number",zoneId:"number"},e)}};function xf(e,t){let i;return i=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?i.replace(/^http:/i,"https:"):i}function Df(e){const t=document.getElementById(e.adUnitCode);!function(e){const t=e.querySelector("div[id^='google_ads']");t&&t.style.setProperty("display","none")}(t),function(e){const t=e.querySelector("script[id^='sas_script']"),i=t&&t.nextSibling;i&&"iframe"===i.localName&&i.style.setProperty("display","none")}(t);const i=e.renderer.getConfig();e.renderer.push((()=>{window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:i.align||"center",position:i.position||"append"},closeButton:i.closeButton||!1,label:i.label||void 0,collapse:i.collapse||!0})}))}function Sf(e,t){let i=e.params;if(t===b.d){let t=[];return i.video&&i.video.playerWidth&&i.video.playerHeight?t=[i.video.playerWidth,i.video.playerHeight]:Array.isArray((0,r.a)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?t=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(t=e.sizes[0]),t}let a=[];return Array.isArray(i.sizes)?a=i.sizes:void 0!==(0,r.a)(e,"mediaTypes.banner.sizes")?a=Cf(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?a=Cf(e.sizes):(0,n.db)("Rubicon: no sizes are setup or found"),function(e){const t=[15,2,9];return e.sort(((e,i)=>{const a=t.indexOf(e),n=t.indexOf(i);return a>-1||n>-1?-1===a?1:-1===n?-1:a-n:e-i}))}(a)}function Cf(e){return(0,n.jb)(e).reduce(((e,t)=>{let i=parseInt(If[t],10);return i&&e.push(i),e}),[])}function Ef(e,t=!1){let i=[];if(function(e){let t=void 0!==(0,r.a)(e,`mediaTypes.${b.d}`),i=void 0!==(0,r.a)(e,`mediaTypes.${b.b}`),a=void 0!==(0,r.a)(e,"params.bidonmultiformat"),n="object"!=typeof(0,r.a)(e,"params.video");return!(!t||!a)||(i&&n&&(t=!1),t&&n&&(0,o.a)(e,"params.video",{}),t)}(e)){if(-1===["outstream","instream"].indexOf((0,r.a)(e,`mediaTypes.${b.d}.context`)))return t&&(0,n.ab)("Rubicon: mediaTypes.video.context must be outstream or instream"),i;if(Sf(e,b.d).length<2)return t&&(0,n.ab)("Rubicon: could not determine the playerSize of the video"),i;t&&(0,n.cb)("Rubicon: making video request for adUnit",e.adUnitCode),i.push(b.d)}if(void 0!==(0,r.a)(e,`mediaTypes.${b.c}`)&&i.push(b.c),void 0!==(0,r.a)(e,`mediaTypes.${b.b}`)){if(0===Sf(e,b.b).length)return t&&(0,n.ab)("Rubicon: could not determine the sizes for banner request"),i;t&&(0,n.cb)("Rubicon: making banner request for adUnit",e.adUnitCode),i.push(b.b)}return i}function Rf(e){let t=!1;const i=["asi","sid","hp"];return e.nodes?(t=e.nodes.reduce(((e,t)=>e?i.every((e=>t.hasOwnProperty(e))):e),!0),t||(0,n.ab)("Rubicon: required schain params missing"),t):t}function Af(e,t){return"rp_schain"===e?`rp_schain=${t}`:`${e}=${encodeURIComponent(t)}`}var kf=!1;(0,at.b)(Tf),At.a.add(vt.a.Rubicon,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:{...i.params,video:void 0}}],a.native),a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:{video:{},...i.params}}],t.rendering?.outstream),a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:{video:{},...i.params}}])})),At.b.add(vt.a.Rubicon,Tf.gvlid);const Of=["inScreen","inImage","inArticle","inBanner"],Mf={[b.b]:"display",[b.d]:"video"},Bf="fixed",Pf=()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{};switch(e.type||e.effectiveType){case"wifi":case"ethernet":return Bf;case"cellular":case"wimax":return"mobile";default:return/iPad|iPhone|iPod/.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?"unknown":Bf}};function Nf(e){return!!e.mediaTypes&&!!e.mediaTypes.video}function Uf(e){const t=e.params;return!!t.publisherId&&!!t.adUnitId&&Of.indexOf(t.placement)>-1}function qf(e){const t=e.params,i=(0,n.b)(Object.keys(e.mediaTypes),(function(e){return Mf[e]})),a={id:e.bidId,transactionId:e.ortb2Imp?.ext?.tid,sizes:e.sizes,supplyTypes:i,adUnitId:t.adUnitId,adUnitCode:e.adUnitCode,placement:t.placement,requestCount:e.bidderRequestsCount||1};return Nf(e)&&(a.videoParams=jf(e)),a}function jf(e){const t=e.mediaTypes.video||{};return t.playerSize&&(t.w=t.playerSize[0][0],t.h=t.playerSize[0][1]),t}function zf(){const e=(()=>{try{const e=performance.getEntriesByType("navigation")[0];return Math.round(e.responseStart-e.startTime)}catch(e){try{const e=performance.timing;return Math.round(e.responseStart-e.fetchStart)}catch(e){return 0}}})();return e>=0&&e<=performance.now()?e:0}const $f={code:"seedtag",gvlid:157,aliases:["st"],supportedMediaTypes:[b.b,b.d],isBidRequestValid:e=>Nf(e)?function(e){const t=jf(e);let i=!!e.params.publisherId&&!!e.params.adUnitId&&Nf(e)&&!!t.playerSize&&(0,n.Q)(t.playerSize)&&t.playerSize.length>0;return"inStream"===e.params.placement?i&&"instream"===t.context:i&&"outstream"===t.context&&function(e){return!!e.mediaTypes&&!!e.mediaTypes.banner}(e)&&Uf(e)}(e):Uf(e),buildRequests(e,t){const i={url:t.refererInfo.page,publisherToken:e[0].params.publisherId,cmp:!!t.gdprConsent,timeout:t.timeout,version:"8.30.0",connectionType:Pf(),auctionStart:t.auctionStart||Date.now(),ttfb:zf(),bidRequests:(0,n.b)(e,qf)};if(i.cmp){const e=t.gdprConsent.gdprApplies;void 0!==e&&(i.ga=e),i.cd=t.gdprConsent.consentString}t.uspConsent&&(i.uspConsent=t.uspConsent),e[0].schain&&(i.schain=e[0].schain);let a=u.config.getConfig("coppa");return a&&(i.coppa=a),t.gppConsent?i.gppConsent={gppString:t.gppConsent.gppString,applicableSections:t.gppConsent.applicableSections}:t.ortb2?.regs?.gpp&&(i.gppConsent={gppString:t.ortb2.regs.gpp,applicableSections:t.ortb2.regs.gpp_sid}),{method:"POST",url:"https://s.seedtag.com/c/hb/bid",data:JSON.stringify(i)}},interpretResponse:function(e){const t=e.body;return t&&t.bids&&(0,n.Q)(t.bids)?(0,n.b)(t.bids,(function(e){return function(e){const t="display"===(i=e.mediaType)?b.b:"video"===i?b.d:i;var i;const a={requestId:e.bidId,cpm:e.price,width:e.width,height:e.height,creativeId:e.creativeId,currency:e.currency,netRevenue:!0,mediaType:t,ttl:e.ttl,nurl:e.nurl,meta:{advertiserDomains:e&&e.adomain&&e.adomain.length>0?e.adomain:[]}};return t===b.d?a.vastXml=e.content:a.ad=e.content,a}(e)})):[]},getUserSyncs(e,t){const i=t[0];if(e.iframeEnabled&&i){const e=i.body.cookieSync;return e?[{type:"iframe",url:e}]:[]}return[]},onTimeout(e){const t=function(e){let t="";if((0,n.Q)(e)&&e[0]&&(0,n.Q)(e[0].params)&&e[0].params[0]){const i=e[0].params[0],a=e[0].timeout;t="?publisherToken="+i.publisherId+"&adUnitId="+i.adUnitId+"&timeout="+a}return"https://s.seedtag.com/se/hb/timeout"+t}(e);(0,n.ub)(t)},onBidWon:function(e){e&&e.nurl&&(0,n.ub)(e.nurl)}};(0,at.b)($f),At.a.add(vt.a.seedtag,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}])}if(a.outstream){const n=1===a.outstream.playerSize[0]&&1===a.outstream.playerSize[1]?[a.outstream.playerSize]:[[1,1],a.outstream.playerSize];qd(e,t.placementId,n,[{bidder:i.bidder,params:{...i.params,video:void 0}}],{displayFormat:_a.a.outstream})}a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),At.b.add(vt.a.seedtag,$f.gvlid);const Ff=function(){return window.location.protocol},Lf={code:"sharethrough",supportedMediaTypes:[b.d,b.b],gvlid:80,isBidRequestValid:e=>!!e.params.pkey,buildRequests:(e,t)=>{const i=t.timeout,a=t.ortb2||{},o=Ff().indexOf("http")<0||Ff().indexOf("https")>-1,s={id:(0,n.s)(),at:1,cur:["USD"],tmax:i,site:{domain:(0,r.a)(t,"refererInfo.domain",window.location.hostname),page:(0,r.a)(t,"refererInfo.page",window.location.href),ref:(0,r.a)(t,"refererInfo.ref"),...a.site},device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:"1"===navigator.doNotTrack?1:0,h:window.screen.height,w:window.screen.width},regs:{coppa:!0===u.config.getConfig("coppa")?1:0,ext:{}},source:{tid:t.ortb2?.source?.tid,ext:{version:"8.30.0",str:"4.3.0",schain:e[0].schain}},bcat:(0,r.a)(t.ortb2,"bcat")||e[0].params.bcat||[],badv:(0,r.a)(t.ortb2,"badv")||e[0].params.badv||[],test:0};if(s.user=Hf(a.user,{}),s.user.ext||(s.user.ext={}),s.user.ext.eids=e[0].userIdAsEids||[],t.gdprConsent){const e=!0===t.gdprConsent.gdprApplies;s.regs.ext.gdpr=e?1:0,e&&(s.user.ext.consent=t.gdprConsent.consentString)}return t.uspConsent&&(s.regs.ext.us_privacy=t.uspConsent),t?.gppConsent?.gppString?(s.regs.gpp=t.gppConsent.gppString,s.regs.gpp_sid=t.gppConsent.applicableSections):t?.ortb2?.regs?.gpp&&(s.regs.ext.gpp=t.ortb2.regs.gpp,s.regs.ext.gpp_sid=t.ortb2.regs.gpp_sid),e.map((e=>{const t={ext:{}},i=(0,r.a)(e,"ortb2Imp.ext.tid");i&&(t.ext.tid=i);const a=(0,r.a)(e,"ortb2Imp.ext.gpid",(0,r.a)(e,"ortb2Imp.ext.data.pbadslot"));a&&(t.ext.gpid=a);const s=(0,r.a)(e,"mediaTypes.video");if(s){let[e,i]=[640,360];s.playerSize&&s.playerSize[0]&&s.playerSize[0][0]&&s.playerSize[0][1]&&([e,i]=s.playerSize[0]),t.video={pos:Hf(s.pos,0),topframe:(0,n.J)()?0:1,skip:Hf(s.skip,0),linearity:Hf(s.linearity,1),minduration:Hf(s.minduration,5),maxduration:Hf(s.maxduration,60),playbackmethod:s.playbackmethod||[2],api:Vf(s),mimes:s.mimes||["video/mp4"],protocols:Gf(s),w:e,h:i,startdelay:Hf(s.startdelay,0),skipmin:Hf(s.skipmin,0),skipafter:Hf(s.skipafter,0),placement:"instream"===s.context?1:+(0,r.a)(s,"placement",4)},s.delivery&&(t.video.delivery=s.delivery),s.companiontype&&(t.video.companiontype=s.companiontype),s.companionad&&(t.video.companionad=s.companionad)}else t.banner={pos:(0,r.a)(e,"mediaTypes.banner.pos",0),topframe:(0,n.J)()?0:1,format:e.sizes.map((e=>({w:+e[0],h:+e[1]})))};return{id:e.bidId,tagid:String(e.params.pkey),secure:o?1:0,bidfloor:Wf(e),...t}})).filter((e=>!!e)).map((e=>({method:"POST",url:"https://btlr.sharethrough.com/universal/v1?supply_id=WYu2BXv1",data:{...s,imp:[e]}})))},interpretResponse:({body:e},t)=>e&&e.seatbid&&0!==e.seatbid.length&&e.seatbid[0].bid&&0!==e.seatbid[0].bid.length?e.seatbid[0].bid.map((i=>{const a={requestId:i.impid,width:+i.w,height:+i.h,cpm:+i.price,creativeId:i.crid,dealId:i.dealid||null,mediaType:t.data.imp[0].video?b.d:b.b,currency:e.cur||"USD",netRevenue:!0,ttl:360,ad:i.adm,nurl:i.nurl,meta:{advertiserDomains:i.adomain||[],networkId:i.ext?.networkId||null,networkName:i.ext?.networkName||null,agencyId:i.ext?.agencyId||null,agencyName:i.ext?.agencyName||null,advertiserId:i.ext?.advertiserId||null,advertiserName:i.ext?.advertiserName||null,brandId:i.ext?.brandId||null,brandName:i.ext?.brandName||null,demandSource:i.ext?.demandSource||null,dchain:i.ext?.dchain||null,primaryCatId:i.ext?.primaryCatId||null,secondaryCatIds:i.ext?.secondaryCatIds||null,mediaType:i.ext?.mediaType||null}};return a.mediaType===b.d&&(a.ttl=3600,a.vastXml=i.adm),a})):[],getUserSyncs:(e,t)=>e.pixelEnabled&&void 0!==(0,r.a)(t,"0.body.cookieSyncUrls")?t[0].body.cookieSyncUrls.map((e=>({type:"image",url:e}))):[],onTimeout:()=>{},onBidWon:()=>{},onSetTargeting:()=>{}};function Vf({api:e}){return e&&Array.isArray(e)&&e.length>0?e:[2]}function Gf({protocols:e}){return e&&Array.isArray(e)&&e.length>0?e:[2,3,5,6,7,8]}function Wf(e){let t=null;if("function"==typeof e.getFloor){const i=e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.video?"video":"banner",size:e.sizes.map((e=>({w:e[0],h:e[1]})))});"object"!=typeof i||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(t=parseFloat(i.floor))}return null!==t?t:e.params.floor}function Hf(e,t){return e??t}(0,at.b)(Lf),At.a.add(vt.a.sharethrough,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.sharethrough,Lf.gvlid);const Kf={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;const t=["asi","sid","hp","rid","name","domain"];return`${e.ver},${e.complete}!`+e.nodes.map((e=>t.map((t=>e[t]?encodeURIComponent(e[t]):"")).join(","))).join("!")},adaptBannerSizes:function(e){return e.map((e=>({w:e[0],h:e[1]})))},fillPayloadForVideoBidRequest:function(e,t,i){const a=t.playerSize[0];e.isVideo="instream"===t.context,e.mediaType=b.d,e.videoData={videoProtocol:this.getProtocolForVideoBidRequest(t,i),playerWidth:a[0],playerHeight:a[1],adBreak:this.getStartDelayForVideoBidRequest(t,i)}},getProtocolForVideoBidRequest:function(e,t){return void 0!==t&&t.protocol?t.protocol:void 0!==e&&Array.isArray(e.protocols)?Math.max.apply(Math,e.protocols):null},getStartDelayForVideoBidRequest:function(e,t){if(void 0!==t&&t.startDelay)return t.startDelay;if(void 0!==e){if(0==e.startdelay)return 1;if(-1==e.startdelay)return 2;if(-2==e.startdelay)return 3}return 2},createServerRequest:function(e,t){return{method:"POST",url:(void 0!==t?t:"https://prg.smartadserver.com")+"/prebid/v1",data:JSON.stringify(e)}},buildRequests:function(e,t){const i=u.config.getConfig("currency.adServerCurrency"),a=(0,r.a)(t,"ortb2.user.data",u.config.getAnyConfig("ortb2.user.data")),o=(0,r.a)(t,"ortb2.site.content.data",u.config.getAnyConfig("ortb2.site.content.data"));return e.reduce(((e,s)=>{let d={siteid:s.params.siteId,pageid:s.params.pageId,formatid:s.params.formatId,currencyCode:i,targeting:s.params.target&&""!==s.params.target?s.params.target:void 0,buid:s.params.buId&&""!==s.params.buId?s.params.buId:void 0,appname:s.params.appName&&""!==s.params.appName?s.params.appName:void 0,ckid:s.params.ckId||0,tagId:s.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.page?t.refererInfo.page:void 0,transactionId:s.ortb2Imp?.ext?.tid,timeout:u.config.getConfig("bidderTimeout"),bidId:s.bidId,prebidVersion:"8.30.0",schain:Kf.serializeSupplyChain(s.schain),sda:a,sdc:o};const l=(0,r.a)(s,"ortb2Imp.ext.gpid",(0,r.a)(s,"ortb2Imp.ext.data.pbadslot",""));l&&(d.gpid=l),t&&(t.gdprConsent&&(d.addtl_consent=t.gdprConsent.addtlConsent,d.gdpr_consent=t.gdprConsent.consentString,d.gdpr=t.gdprConsent.gdprApplies),t.gppConsent&&(d.gpp=t.gppConsent.gppString,d.gpp_sid=t.gppConsent.applicableSections),t.uspConsent&&(d.us_privacy=t.uspConsent)),s&&s.userIdAsEids&&(d.eids=s.userIdAsEids),t&&t.uspConsent&&(d.us_privacy=t.uspConsent);const c=(0,r.a)(s,"mediaTypes.banner"),p=(0,r.a)(s,"mediaTypes.video"),m=p&&("instream"===p.context||"outstream"===p.context);if(c||m){let t;if(c){if(t=b.b,d.sizes=Kf.adaptBannerSizes(c.sizes),m){let t=(0,n.n)(d);Kf.fillPayloadForVideoBidRequest(t,p,s.params.video),t.bidfloor=s.params.bidfloor||Kf.getBidFloor(s,i,b.d),e.push(Kf.createServerRequest(t,s.params.domain))}}else t=b.d,Kf.fillPayloadForVideoBidRequest(d,p,s.params.video);d.bidfloor=s.params.bidfloor||Kf.getBidFloor(s,i,t),e.push(Kf.createServerRequest(d,s.params.domain))}else e.push({});return e}),[])},interpretResponse:function(e,t){const i=[];let a=e.body;try{if(a&&!a.isNoAd&&(a.ad||a.adUrl)){const e=JSON.parse(t.data);let n={requestId:e.bidId,cpm:a.cpm,width:a.width,height:a.height,creativeId:a.creativeId,dealId:a.dealId,currency:a.currency,netRevenue:a.isNetCpm,ttl:a.ttl,dspPixels:a.dspPixels,meta:{advertiserDomains:a.adomain?a.adomain:[]}};e.mediaType===b.d?(n.mediaType=b.d,n.vastUrl=a.adUrl,n.vastXml=a.ad,n.content=a.ad):(n.adUrl=a.adUrl,n.ad=a.ad),i.push(n)}}catch(e){(0,n.ab)("Error while parsing smart server response",e)}return i},getBidFloor:function(e,t,i){if(!(0,n.U)(e.getFloor))return 0;const a=e.getFloor({currency:t||"USD",mediaType:i,size:"*"});return(0,n.Y)(a)&&!isNaN(a.floor)?a.floor:0},getUserSyncs:function(e,t){const i=[];return e.iframeEnabled&&t.length>0&&null!=t[0].body.cSyncUrl?i.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){i.push({type:"image",url:e})})),i}};(0,at.b)(Kf),At.a.add(vt.a.Smart,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}if(a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:{video:{protocol:8,startDelay:1},...i.params}}],t.rendering?.outstream),a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:{video:{protocol:6},...i.params}}]),a.native){const n=_t.readConfig("s2sConfig");n?.enabled&&n.bidders?.includes(i.bidder)&&Nd(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native)}})),At.b.add(vt.a.Smart,Kf.gvlid);const Xf={mimes:e=>Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e)),minduration:e=>(0,n.W)(e),maxduration:e=>(0,n.W)(e),protocols:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=10)),w:e=>(0,n.W)(e),h:e=>(0,n.W)(e),startdelay:e=>(0,n.W)(e),placement:e=>(0,n.W)(e)&&e>=1&&e<=5,linearity:e=>-1!==[1,2].indexOf(e),skip:e=>-1!==[0,1].indexOf(e),skipmin:e=>(0,n.W)(e),skipafter:e=>(0,n.W)(e),sequence:e=>(0,n.W)(e),battr:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=17)),maxextended:e=>(0,n.W)(e),minbitrate:e=>(0,n.W)(e),maxbitrate:e=>(0,n.W)(e),boxingallowed:e=>-1!==[0,1].indexOf(e),playbackmethod:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=6)),playbackend:e=>-1!==[1,2,3].indexOf(e),delivery:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=3)),pos:e=>(0,n.W)(e)&&e>=1&&e<=7,api:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=6))},Jf={context:e=>e!==b.a,mimes:Xf.mimes,maxduration:Xf.maxduration,protocols:Xf.protocols},Qf={code:"sovrn",supportedMediaTypes:[b.b,b.d],gvlid:13,isBidRequestValid:function(e){const t=e?.mediaTypes?.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||t&&!Object.keys(Jf).every((e=>Jf[e](t[e]))))},buildRequests:function(e,t){try{let i,a,s,d,l=[];(0,n.a)(e,(function(e){!s&&e.userIdAsEids&&(s=e.userIdAsEids,s.forEach((function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(d=e.uids[0].id)}))),e.schain&&(a=a||e.schain),i=i||(0,n.t)("iv",e.params);const t=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{};t.floor=t.floor||(0,n.t)("bidfloor",e.params);const o={adunitcode:e.adUnitCode,id:e.bidId,tagid:String((0,n.t)("tagid",e.params)),bidfloor:t.floor};if((0,r.a)(e,"mediaTypes.banner")){let t=(0,r.a)(e,"mediaTypes.banner.sizes")||e.sizes;t=(0,n.Q)(t)&&(0,n.Q)(t[0])?t:[t],t=t.filter((e=>(0,n.Q)(e)));const i=t.map((e=>({w:parseInt(e[0],10),h:parseInt(e[1],10)})));o.banner={format:i,w:1,h:1}}(0,r.a)(e,"mediaTypes.video")&&(o.video=function(e){const t={},i=(0,r.a)(e,"sizes"),a=(0,r.a)(e,"mediaTypes.video",{}),o=(0,r.a)(e,"params.video",{}),s={};if(i){const e=Array.isArray(i[0])?i[0]:i;s.w=e[0],s.h=e[1]}else if(Array.isArray(a.playerSize)){const e=Array.isArray(a.playerSize[0])?a.playerSize[0]:a.playerSize;s.w=e[0],s.h=e[1]}const d={...s,...a,...o};return Object.keys(Xf).forEach((e=>{d.hasOwnProperty(e)&&(Xf[e](d[e])?t[e]=d[e]:(0,n.db)(`The OpenRTB video param ${e} has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.`))})),t}(e)),o.ext=(0,n.t)("ext",e.ortb2Imp)||void 0;const c=(0,n.t)("segments",e.params);c&&(o.ext=o.ext||{},o.ext.deals=c.split(",").map((e=>e.trim()))),l.push(o)}));const c=t.ortb2||{},p=c.site||{};p.page=t.refererInfo.page,p.domain=t.refererInfo.domain;const u=(0,r.a)(t,"timeout"),m={id:(0,n.B)(),imp:l,site:p,user:c.user||{},tmax:u};a&&(m.source={ext:{schain:a}});const b=(0,r.a)(t,"ortb2.source.tid");b&&(0,o.a)(m,"source.tid",b),(0,r.a)(t,"ortb2.regs.coppa")&&(0,o.a)(m,"regs.coppa",1),t.gdprConsent&&((0,o.a)(m,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),(0,o.a)(m,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&(0,o.a)(m,"regs.ext.us_privacy",t.uspConsent),t.gppConsent&&((0,o.a)(m,"regs.gpp",t.gppConsent.gppString),(0,o.a)(m,"regs.gpp_sid",t.gppConsent.applicableSections)),s&&((0,o.a)(m,"user.ext.eids",s),d&&(0,o.a)(m,"user.ext.prebid_criteoid",d));let f="https://ap.lijit.com/rtb/bid?src=prebid_prebid_8.30.0";return i&&(f+=`&iv=${i}`),{method:"POST",url:f,data:JSON.stringify(m),options:{contentType:"text/plain"}}}catch(e){(0,n.ab)("Could not build bidrequest, error deatils:",e)}},interpretResponse:function({body:{id:e,seatbid:t}}){if(!e||!t||!Array.isArray(t))return[];try{return t.filter((e=>e)).map((e=>e.bid.map((e=>{const t={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?b.b:b.d,ttl:e.ext?.ttl||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?t.ad=decodeURIComponent(`${e.adm}<img src="${e.nurl}">`):t.vastXml=decodeURIComponent(e.adm),t})))).flat()}catch(e){return(0,n.ab)("Could not interpret bidresponse, error details:",e),e}},getUserSyncs:function(e,t,i,a,n){try{const o=[];if(t&&0!==t.length){if(e.iframeEnabled){const e=t.filter((e=>(0,r.a)(e,"body.ext.iid"))).map((e=>e.body.ext.iid)),s=[];i&&i.gdprApplies&&"string"==typeof i.consentString&&s.push(["gdpr_consent",i.consentString]),a&&s.push(["us_privacy",a]),n&&(s.push(["gpp",n.gppString]),s.push(["gpp_sid",n.applicableSections])),e[0]&&(s.push(["informer",e[0]]),o.push({type:"iframe",url:"https://ap.lijit.com/beacon?"+s.map((e=>e.join("="))).join("&")}))}e.pixelEnabled&&t.filter((e=>(0,r.a)(e,"body.ext.sync.pixels"))).reduce(((e,t)=>e.concat(t.body.ext.sync.pixels)),[]).map((e=>e.url)).forEach((e=>o.push({type:"image",url:e})))}return o}catch(e){return[]}}};(0,at.b)(Qf),At.a.add(vt.a.sovrn,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}if(a.outstream){const n={...Rd,...a.outstream.openRtbParams};n.protocols=n.protocols.filter((e=>e>=1&&e<=10)),n.api=n.api.filter((e=>e>=1&&e<=6)),0===n.pos&&(n.pos=void 0);const r={...a.outstream,openRtbParams:n};Bd(e,t.placementId,r,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)}})),At.b.add(vt.a.sovrn,Qf.gvlid);const Yf="teads",Zf=(0,se.d)({bidderCode:Yf}),eg={code:Yf,gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){let t=!1;if(void 0!==e.params){let i=sg((0,n.D)(e.params,"placementId")),a=sg((0,n.D)(e.params,"pageId"));t=i&&a}return t||(0,n.ab)("Teads placementId and pageId parameters are required. Bid aborted."),t},buildRequests:function(e,t){const i=e.map(og),a=window.top,n={referrer:ig(t),pageReferrer:document.referrer,pageTitle:ag().slice(0,300),pageDescription:ng().slice(0,300),networkBandwidth:(o=window.navigator,o&&o.connection&&o.connection.downlink>=0?o.connection.downlink.toString():""),timeToFirstByte:rg(window),data:i,deviceWidth:screen.width,screenOrientation:screen.orientation?.type,historyLength:a.history?.length,viewportHeight:a.visualViewport?.height,viewportWidth:a.visualViewport?.width,hardwareConcurrency:a.navigator?.hardwareConcurrency,deviceMemory:a.navigator?.deviceMemory,hb_version:"8.30.0",...tg(e),...dg(e)};var o;const s=e[0];s.schain&&(n.schain=s.schain);let d=t.gdprConsent;if(t&&d){let e="boolean"==typeof d.gdprApplies,t="string"==typeof d.consentString,i=e?function(e,t){let i=12;return e?t&&!t.isServiceSpecific&&(i=11):i=0,i}(d.gdprApplies,d.vendorData):22;n.gdpr_iab={consent:t?d.consentString:"",status:i,apiVersion:d.apiVersion}}t&&t.uspConsent&&(n.us_privacy=t.uspConsent);const l=(0,r.a)(s,"ortb2.device.sua");return l&&(n.userAgentClientHints=l),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(n)}},interpretResponse:function(e){const t=[];return(e=e.body).responses&&e.responses.forEach((function(e){const i={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(i.dealId=e.dealId),t.push(i)})),t}};function tg(e){const t={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"};let i={};for(const a in t){const n=t[a],o=(0,r.a)(e,`0.userId.${n}`);o&&(i[a]=o)}return i}function ig(e){let t="";return e&&e.refererInfo&&e.refererInfo.page&&(t=e.refererInfo.page),t}function ag(){try{const e=window.top.document.querySelector('meta[property="og:title"]');return window.top.document.title||e&&e.content||""}catch(e){const t=document.querySelector('meta[property="og:title"]');return document.title||t&&t.content||""}}function ng(){let e;try{e=window.top.document.querySelector('meta[name="description"]')||window.top.document.querySelector('meta[property="og:description"]')}catch(t){e=document.querySelector('meta[name="description"]')||document.querySelector('meta[property="og:description"]')}return e&&e.content||""}function rg(e){const t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,i=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(i)return i.toString();const a=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return a?a.toString():""}function og(e){const t={};let i=(0,n.D)(e.params,"placementId"),a=(0,n.D)(e.params,"pageId");const o=(0,r.a)(e,"ortb2Imp.ext.gpid"),s=(0,r.a)(e,"mediaTypes.video.plcmt");return t.sizes=function(e){return(0,n.jb)(function(e){let t=(0,r.a)(e,"mediaTypes.video.playerSize"),i=(0,r.a)(e,"mediaTypes.video.sizes"),a=(0,r.a)(e,"mediaTypes.banner.sizes");return(0,n.Q)(a)||(0,n.Q)(t)||(0,n.Q)(i)?[a,i,t].reduce((function(e,t){return(0,n.Q)(t)&&((0,n.Q)(t[0])?t.forEach((function(t){e.push(t)})):e.push(t)),e}),[]):e.sizes}(e))}(e),t.bidId=(0,n.t)("bidId",e),t.bidderRequestId=(0,n.t)("bidderRequestId",e),t.placementId=parseInt(i,10),t.pageId=parseInt(a,10),t.adUnitCode=(0,n.t)("adUnitCode",e),t.transactionId=e.ortb2Imp?.ext?.tid||"",o&&(t.gpid=o),s&&(t.videoPlcmt=s),t}function sg(e){return parseInt(e)>0}function dg(e){const t=(0,r.a)(e,"0.userId.teadsId");if(t)return{firstPartyCookieTeadsId:t};if(Zf.cookiesAreEnabled(null)){const e=Zf.getCookie("_tfpvi",null);if(e)return{firstPartyCookieTeadsId:e}}return{}}(0,at.b)(eg),At.a.add(vt.a.Teads,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.outstream){const n=[];a.banner&&n.push(...a.banner.sizes),a.outstream&&n.push([1,1]),qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}],{displayFormat:_a.a.outstream})}})),At.b.add(vt.a.Teads,eg.gvlid);var lg=i(33);const cg=e=>{switch(e){case"atf":return 1;case"btf":return 3}return 0},pg=e=>{const t=["video/mp4","video/x-flv","video/webm","application/javascript"];if(0===e.length)return t;const i=e.filter((e=>t.includes(e)));return i.length>0?i:t},ug=(e,t,i)=>{const a=((e,t,i)=>e&&0!==e.length?t===pa?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(_a.a.native))):t===ca?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(_a.a.banner))):t===ua?((e,t)=>"outstream"===t.context?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(_a.a.outstream))):"instream"===t.context?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(_a.a.instream))):e)(e,i):e:[])((0,Bt.a)(e.params.deals),i,e.mediaTypes.video);if(0!==a.length)return{private_auction:0,deals:a.map((a=>{const n=(0,Et.q)(a)?a:a.name,r=(0,Et.q)(a)?0:((e,t)=>{if((0,Et.m)(e)){const i=e[t];if((0,Et.l)(i))return i}if((0,Et.l)(e))return e})(a.priceFloor,i);return{id:n,bidfloor:Math.max(r??0,t??0),at:Gt.a.firstPrice,wseat:e.params.wseat}}))}},mg=(e,t)=>"outstream"===e?-100:t??0,bg=(new Set(["1","true",!0]),{}),fg={},{warn:gg}=ot.a.tag("screen-size"),yg=e=>{switch(e){case"Cellular":switch(navigator.connection?.effectiveType){case"2g":return 4;case"3g":return 5;case"4g":return 6}return 3;case"Cable/DSL":return 2;case"Corporate":case"Dialup":return 1;default:return 0}},{warn:hg}=ot.a.tag("ortb-bid-adapter"),_g=(e,t,i=[])=>{if(!e.getFloor)return.1;const a=e.getFloor.bind(e);return i.reduce(((e,i)=>{const{floor:n}=a({currency:"USD",mediaType:t,size:i});return(0,Et.r)(n)?e:Math.min(e??n,n)}),void 0)??a({currency:"USD",mediaType:t,size:"*"}).floor??.1},vg=[Ed.a.vast10,Ed.a.vast20,Ed.a.vast30,Ed.a.vast40,Ed.a.vast10Wrapper,Ed.a.vast20Wrapper,Ed.a.vast30Wrapper,Ed.a.vast40Wrapper,Ed.a.vast41,Ed.a.vast41Wrapper,Ed.a.vast42,Ed.a.vast42Wrapper],Ig=[Cd.a.vpaid10,Cd.a.vpaid20,Cd.a.mraid1,Cd.a.mraid2,Cd.a.mraid3],wg=(e,t)=>{t.mediaTypes.banner&&((e,t)=>{if(!t.mediaTypes.banner||t.mediaTypes.banner.sizes.length<=0)return hg("Banner BidRequest without sizes was skipped",e);const{sizes:i}=t.mediaTypes.banner,a=`b:${t.bidId}`,n=i[0]?.[0]??0,r=i[0]?.[1]??0;var o;o={size:[n,r]},fg[a]=o;const s={id:a,tagid:t.params.tagId??t.adUnitCode,secure:Gt.b.yes,instl:t.params.instl??Gt.b.no,bidfloor:_g(t,ca,i),bidfloorcur:"USD",banner:{w:n,h:r,format:i.map((([e,t])=>({w:e,h:t}))),pos:cg(t.params.position)},ext:t.ortb2Imp?.ext};s.pmp=ug(t,s.bidfloor,ca),e.imp.push(s)})(e,t),t.mediaTypes.video&&((e,t)=>{if(!t.mediaTypes.video||t.mediaTypes.video.playerSize.length<=0)return hg("Video BidRequest without sizes was skipped",e);const{context:i,playerSize:a,startdelay:n,placement:r,plcmt:o,minduration:s,maxduration:d,protocols:l,api:c,mimes:p,skip:u,playbackmethod:m}=t.mediaTypes.video,{video:b}=t.params,f=`v:${t.bidId}`,[g,y]=a[0];var h;h={size:[g,y]},bg[f]=h;const _=((e,t)=>{switch(e){case"instream":return 1;case"inbanner":return 2;case"inarticle":return 3;case"infeed":return 4;case"interstitial":return 5}return t??0})(t.params.video?.placement,r),v=((e,t,i)=>{switch(e){case"instream":return 1;case"interstitial":return 3;case"standalone":return 4;case"accompanying":return 2}if(t)return t;switch(i){case 1:return 1;case 5:return 3;case 2:case 3:case 4:return 4}return 0})(t.params.video?.plcmt,o,_),I={id:f,tagid:t.params.tagId??t.adUnitCode,secure:Gt.b.yes,bidfloor:_g(t,ua),bidfloorcur:"USD",video:{playbackmethod:m,mimes:pg((0,Bt.a)(b?.mimesTypes??p)),minduration:b?.minDuration??s??1,maxduration:b?.maxDuration??d??30,protocols:l??vg,w:g,h:y,startdelay:mg(i,n),linearity:1,api:c??Ig,placement:_,plcmt:v,pos:cg(t.params.videoPosition),skip:u??Gt.b.yes},ext:t.ortb2Imp?.ext};I.pmp=ug(t,I.bidfloor,ua),e.imp.push(I)})(e,t),t.mediaTypes.native&&((e,t)=>{if(!t.mediaTypes.native)return hg("Wrong media type (native)",e);try{if(!t.nativeOrtbRequest)throw Error("Native ortb request is not defined");const i={id:`n:${t.bidId}`,tagid:t.params.tagId??t.adUnitCode,secure:Gt.b.yes,bidfloor:_g(t,pa),bidfloorcur:"USD",native:{request:JSON.stringify(t.nativeOrtbRequest),ver:t.nativeOrtbRequest.ver},ext:t.ortb2Imp?.ext};i.pmp=ug(t,i.bidfloor,pa),e.imp.push(i)}catch(e){(0,ha.a)(new ya.b(ya.a.generateNativeOrtbRequestFailed,e,"generating native ortb request failed"))}})(e,t)},{warn:Tg}=ot.a.tag("ortb-bid-adapter"),xg=(e,t)=>({agencyId:t.seat??void 0,advertiserId:e.ext?.advid,advertiserDomains:e.adomain??void 0,primaryCatId:e.cat?.[0]??void 0,secondaryCatIds:e.cat?.slice(1)??void 0}),Dg=(e,t,i,a,n)=>{a.impid.startsWith("b:")?((e,t,i,a,{assumeRequestSizeForEmptyResponseSize:n})=>{if(!a.crid)return Tg("Skipped invalid bid with no creativeId provided",a);if(!a.adm&&!a.nurl)return Tg("Skipped invalid banner with no creative markup or url",a);const r=(o=a.impid,fg[o]);var o;const s=n?a.w??r?.size[0]:a.w,d=n?a.h??r?.size[1]:a.h;if(!s||!d)return Tg("Skipped invalid bid with no size provided",a);e.push({requestId:a.impid.replace(/^b:/,""),cpm:a.price,width:s,height:d,creativeId:a.crid,dealId:a.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:a.exp??60,mediaType:ca,ad:a.adm??void 0,adUrl:a.nurl??void 0,meta:xg(a,i)})})(e,t,i,a,n):a.impid.startsWith("v:")?((e,t,i,a)=>{if(!a.crid)return Tg("Skipped invalid bid with no creativeId provided",a);if(!a.nurl&&!a.adm)return Tg("Skipped invalid video with no vast url or markup provided",a);const n=(r=a.impid,bg[r]);var r;const[o,s]=n?.size??[640,480];e.push({requestId:a.impid.replace(/^v:/,""),cpm:a.price,width:o,height:s,creativeId:a.crid,dealId:a.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:a.exp??60,meta:xg(a,i),mediaType:ua,vastXml:a.adm??void 0,vastUrl:a.nurl??void 0})})(e,t,i,a):a.impid.startsWith("n:")&&((e,t,i,a)=>{if(!a.crid)return Tg("Skipped invalid bid with no creativeId provided",a);if(!a.adm)return Tg("Skipped invalid native with no creative markup or url",a);const n=(e=>{try{const{adm:t,price:i}=e;if(!t)return;const a=la(t,i);return JSON.parse(a).native}catch(t){return Tg("failed to format native data",e,t)}})(a);if(!n)return Tg("Skipped invalid native with no native data",a);e.push({requestId:a.impid.replace(/^n:/,""),cpm:a.price,width:1,height:1,creativeId:a.crid,dealId:a.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:a.exp??60,mediaType:pa,meta:xg(a,i),native:{ortb:n}})})(e,t,i,a)},{warn:Sg,error:Cg,debug:Eg}=ot.a.tag("ttd-bid-adapter"),Rg={code:"ttdDirectPath",supportedMediaTypes:[ca,ua,pa],isBidRequestValid:e=>{return t=e.params,!(!((0,Et.m)(t)&&(0,Et.a)(t.position,void 0,"atf","btf")&&(0,Et.n)(t.deals,(0,Et.h)(Et.b,Sd))&&(0,Et.n)(t.tagId,Et.q)&&(0,Et.n)(t.video,Dd)&&(0,Et.n)(t.categoryBlocklist,(0,Et.h)(Et.b,Et.q))&&(0,Et.n)(t.domainBlocklist,(0,Et.h)(Et.b,Et.q))&&(0,Et.n)(t.wseat,(0,Et.h)(Et.b,Et.q)))&&(Cg("Bid request parameters are invalid",e),1));var t},buildRequests(e,t){if(!e)return[];const i=u.config.getConfig("hubvisor")?.context;if(!i)return Sg("TTD Context unavailable, cannot build bid requests"),[];const a=(()=>{const e=u.config.getConfig("hubvisor")?.contentBlocklist;if((0,Et.b)(e,Et.q)&&e.length>0)return e})(),n=(()=>{const e=u.config.getConfig("hubvisor")?.domainBlocklist;if((0,Et.b)(e,Et.q)&&e.length>0)return e})(),r=Fn(e,(e=>e.bidderRequestId));return Object.entries(r).map((([e,r])=>{const o=(({id:e,bidderRequest:t,context:i,buyeruid:a})=>{const n=Rt.currentValue,[r,o]=(()=>{try{const e=window.mraid?.getScreenSize();if((0,Et.m)(e)&&(0,Et.l)(e.width)&&(0,Et.l)(e.height))return[e.width,e.height]}catch(e){gg("mraid.getScreenSize() failed with error: ",e)}})()??[screen.width,screen.height];return{id:e,at:Gt.a.firstPrice,cattax:1,cur:["USD"],site:(s=i,{id:s.siteId,page:location.href,publisher:{id:s.publisherId,name:s.publisherName,domain:s.publisherDomain},domain:s.siteDomain,cat:s.iabCategories}),device:{ip:n?.ip,w:r,h:o,ua:navigator.userAgent,langb:navigator.language,geo:{country:n?.geo?.country?.alpha3,lat:n?.geo?.location?.latitude,lon:n?.geo?.location?.longitude,accuracy:n?.geo?.location?.accuracyRadius,ipservice:3,city:n?.geo?.city?.name,zip:n?.geo?.city?.zip},devicetype:It.a,dnt:n?.dnt?Gt.b.yes:Gt.b.no,js:Gt.b.yes,make:n?.ua?.device?.vendor,model:n?.ua?.device?.model,os:n?.ua?.os?.name,osv:n?.ua?.os?.version,connectiontype:yg(n?.cxn)},user:{buyeruid:a,ext:{consent:t.gdprConsent?.consentString}},source:{fd:1,ext:{schain:{ver:"1.0",complete:Gt.b.yes,nodes:[{asi:"hubvisor.io",sid:i.publisherId,hp:Gt.b.yes}]}}},regs:{ext:{gdpr:t.gdprConsent?.gdprApplies?Gt.b.yes:Gt.b.no}},imp:[]};var s})({id:e,bidderRequest:t,context:i,buyeruid:ni.tdid});a&&(o.bcat=a),n&&(o.badv=n),t.uspConsent&&o.regs?.ext&&(o.regs.ext.us_privacy=t.uspConsent),o.regs&&!0===u.config.readConfig("coppa")&&(o.regs.coppa=1);const s=r?.[0]?.userIdAsEids?.find((e=>"id5-sync.com"===e.source));s&&o.user&&(o.user.eids=[s]);for(const e of r??[])wg(o,e);return{method:"POST",url:"https://eur-bid-hubvisor.adsrvr.org/bid/bidder/hubvisor",data:o}}))},interpretResponse(e){if(!(0,lg.c)(e.body))return Eg("response body is not a bid response",e.body),[];const{assumeRequestSizeForEmptyResponseSize:t=!0}=u.config.getConfig("hubvisor"),i=u.config.getConfig("hubvisor").context,a=e.body,n=[];if(!a.seatbid)return n;for(const e of a.seatbid)if(e.bid)for(const r of e.bid)Dg(n,a,e,r,{context:i,assumeRequestSizeForEmptyResponseSize:t});return n}};function Ag(e,t,i){return i?e+t+"="+encodeURIComponent(i)+"&":e}(0,at.b)(Rg),At.a.add(vt.a.ttdDirectPath,((e,{bid:t,placement:i,resolvedMediaTypes:a})=>{if(Jn.a)return;const n=(0,Et.m)(i.position)?i.position?.banner:i.position,r=(0,Et.m)(i.position)?i.position?.video:i.position;n&&(t.params={...t.params,position:n}),r&&(t.params={...t.params,videoPosition:r});const o=[...t.params.deals??[],...i.bidRequest.deals??[]];window.ethereum&&(o.push({name:"ttd-c-1ae24aab33"}),(a.instream||a.outstream)&&o.push({name:"ttd-dp-alld-vid",allowedDisplayFormats:[_a.a.instream,_a.a.outstream]}),a.native&&o.push({name:"ttd-dp-alld-native",allowedDisplayFormats:[_a.a.native]}),a.skin?o.push({name:"ttd-dp-alld-sk",allowedDisplayFormats:[_a.a.banner]}):a.banner&&o.push({name:"ttd-dp-alld-classic",allowedDisplayFormats:[_a.a.banner]}));const s=(e=>{const t=[];for(const i of e)Sd(i)&&t.push(i.name);return t})(o??[]),d={...t.params,deals:o};if(a.banner||a.skin){const n=jd(a);qd(e,i.placementId,n,[{bidder:t.bidder,params:{...d,video:void 0}}],{requestDealIds:s})}a.outstream&&(i.rendering?.outstream?.hbvFormat?Bd(e,i.placementId,a.outstream,[{bidder:t.bidder,params:d}],{...i.rendering?.outstream},{requestDealIds:s}):Bd(e,i.placementId,a.outstream,[{bidder:t.bidder,params:d}],{...i.rendering?.outstream,expand:Na.b.whenVisible},{requestDealIds:s})),a.instream&&Pd(e,i.placementId,a.instream,[{bidder:t.bidder,params:d}],{requestDealIds:s}),a.native&&Nd(e,i.placementId,[{bidder:t.bidder,params:{...d,video:void 0}}],a.native,{requestDealIds:s})})),At.b.add(vt.a.ttdDirectPath,21);const kg="triplelift";let Og=null,Mg=null;const Bg=(0,se.d)({bidderCode:kg}),Pg={gvlid:28,code:kg,supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){let i="https://tlx.3lift.com/header/auction?",a=function(e,t){let i={},{schain:a}=e[0];const r=function(e){const t={},i={},a={},r=e.ortb2||{},o=function(){const e=Bg.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,n.ab)("Triplelift: error parsing JSON: ",e),null}}(),s=Object.assign({},r.site),d=Object.assign({},r.user);if(o){d.data=d.data||[];try{d.data.push({name:"www.1plusx.com",ext:o})}catch(e){(0,n.ab)("Triplelift: error adding 1plusX segments: ",e)}}return zg(i,s),zg(a,d),(0,n.T)(i)||(t.context=i),(0,n.T)(a)||(t.user=a),t}(t);i.imp=e.map((function(e,t){let i={id:t,tagid:e.params.inventoryCode,floor:jg(e)};return Ng(e)&&(i.video=function(e){let t={...e.params.video,...e.mediaTypes.video};try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){(0,n.db)("Video size not defined",e)}return"instream"===t.context&&(t.placement||(t.placement=1)),"outstream"===t.context&&(t.placement?-1===[3,4,5].indexOf(t.placement)&&((0,n.cb)(`video.placement value of ${t.placement} is invalid for outstream context. Setting placement to 3`),t.placement=3):t.placement=3),t.playbackmethod&&Number.isInteger(t.playbackmethod)&&(t.playbackmethod=Array.from(String(t.playbackmethod),Number)),delete t.playerSize,t}(e)),e.mediaTypes.banner&&!Ug(e)&&(i.banner={format:(a=e.sizes,a.filter(Hg).map((function(e){return{w:e[0],h:e[1]}})))}),(0,n.T)(e.ortb2Imp)||(i.fpd=function(e){const t={},i={};return zg(i,e.ext),(0,n.T)(i)||(t.context=i),t}(e.ortb2Imp),(0,n.T)(e.ortb2Imp.ext)||(i.ext={...e.ortb2Imp.ext})),i;var a}));let o=[...(s=[e[0]],Gg(s,"tdid","adserver.org","TDID")),...$g([e[0]]),...Fg([e[0]]),...Lg([e[0]]),...Vg(e[0])];var s;o.length>0&&(i.user={ext:{eids:o}});let d=function(e,t){let i={};return(0,n.T)(e)||(i.schain={...e}),(0,n.T)(t)||(i.fpd={...t}),i}(a,r);return(0,n.T)(d)||(i.ext=d),t?.ortb2?.regs?.gpp&&(i.regs=Object.assign({},t.ortb2.regs)),t?.ortb2&&(i.ext.ortb2=Object.assign({},t.ortb2)),i}(e,t);return i=Ag(i,"lib","prebid"),i=Ag(i,"v","8.30.0"),t&&t.refererInfo&&(i=Ag(i,"referrer",t.refererInfo.page)),t&&t.timeout&&(i=Ag(i,"tmax",t.timeout)),t&&t.gdprConsent&&(Og=void 0===t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,i=Ag(i,"gdpr",Og.toString()),void 0!==t.gdprConsent.consentString&&(Mg=t.gdprConsent.consentString,i=Ag(i,"cmp_cs",Mg))),t&&t.uspConsent&&(i=Ag(i,"us_privacy",t.uspConsent)),t&&t.fledgeEnabled&&(i=Ag(i,"fledge",t.fledgeEnabled)),!0===u.config.getConfig("coppa")&&(i=Ag(i,"coppa",!0)),i.lastIndexOf("&")===i.length-1&&(i=i.substring(0,i.length-1)),(0,n.cb)("tlCall request built: "+i),{method:"POST",url:i,data:a,bidderRequest:t}},interpretResponse:function(e,{bidderRequest:t}){let i=e.body.bids||[];const a=e.body.paapi||[];if(i=i.map((e=>function(e,t){let i={},a=t.width||1,n=t.height||1,r=t.deal_id||"",o=t.crid||"",s=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(i={requestId:s.bidId,cpm:t.cpm,width:a,height:n,netRevenue:!0,ad:t.ad,creativeId:o,dealId:r,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},Ng(s)&&"video"===t.media_type&&(i.vastXml=t.ad,i.mediaType="video",i.ttl=3600),t.advertiser_name&&(i.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(i.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(Ng(s)&&"video"===t.media_type?i.meta.mediaType="video":i.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(i.meta.mediaType="native"),o&&(i.meta.networkId=o.slice(0,o.indexOf("_")))),i}(t,e))),a.length>0){const e=a.map((e=>({bidId:t.bids[e.imp_id].bidId,config:e.auctionConfig})));return(0,n.cb)("Response with FLEDGE:",{bids:i,fledgeAuctionConfigs:e}),{bids:i,fledgeAuctionConfigs:e}}return i},getUserSyncs:function(e,t,i,a,n){let r=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(!r)return;let o="https://eb2.3lift.com/sync?";return"image"===r&&(o=Ag(o,"px",1),o=Ag(o,"src","prebid")),(null!==Mg||Og)&&(o=Ag(o,"gdpr",Og),o=Ag(o,"cmp_cs",Mg)),a&&(o=Ag(o,"us_privacy",a)),n&&(n.gppString&&(o=Ag(o,"gpp",n.gppString)),n.applicableSections&&0!==n.applicableSections.length&&(o=Ag(o,"gpp_sid",n.applicableSections.filter((e=>Number.isInteger(e))).join(",")))),[{type:r,url:o}]}};function Ng(e){return qg(e)&&(Ug(e)||function(e){return qg(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function Ug(e){return qg(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function qg(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function jg(e){let t=null;if("function"==typeof e.getFloor)try{const i=e.getFloor({currency:"USD",mediaType:Ng(e)?"video":"banner",size:"*"});"object"!=typeof i||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(t=parseFloat(i.floor))}catch(e){(0,n.ab)("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function zg(e,t){(0,n.T)(t)||Object.keys(t).forEach((i=>{null!=t[i]&&(e[i]=t[i])}))}function $g(e){return Gg(e,"idl_env","liveramp.com","idl")}function Fg(e){return Gg(e,"criteoId","criteo.com","criteoId")}function Lg(e){return Gg(e,"pubcid","pubcid.org","pubcid")}function Vg(e){let t=["adserver.org","liveramp.com","criteo.com","pubcid.org"],i=[];return e.userIdAsEids&&e.userIdAsEids.forEach((e=>{try{if(-1===t.indexOf(e.source)){let t=e.uids.map((t=>({id:t.id,ext:{rtiPartner:e.source}})));i.push({source:e.source,uids:t})}}catch(t){(0,n.db)(`Triplelift: Error attempting to add ${e} to bid request`,t)}})),i}function Gg(e,t,i,a){return e.map(function(e){return t=>t&&t.userId&&t.userId[e]}(t)).filter(Wg(t)).map(function(e,t){return i=>({source:e,uids:[{id:i.id?i.id:i,ext:{rtiPartner:t}}]})}(i,a))}const Wg=e=>(t,i,a)=>{let r=!!t&&((0,n._)(t)?!!t:(0,n.Y)(t)&&!(0,n.Q)(t)&&!(0,n.T)(t)&&t.id&&(0,n._)(t.id)&&!!t.id);return r||void 0===a[0]||(0,n.db)(`Triplelift: invalid ${e} userId format`),r};function Hg(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,at.b)(Pg);const Kg=e=>(0,Et.m)(e)&&((0,Et.j)(e.forcedSize)||(0,Et.p)(e.forcedSize))&&((0,Et.j)(e.isVideo)||(0,Et.e)(e.isVideo));At.a.add(vt.a.TripleLift,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){let n=jd(a);Kg(i.formatterParams)&&i.formatterParams.forcedSize&&(n=[i.formatterParams.forcedSize]),qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}if(a.nativeBanner||a.outstream){let n=[[1,1]];Kg(i.formatterParams)&&i.formatterParams.forcedSize&&(n=[i.formatterParams.forcedSize]),a.outstream&&Kg(i.formatterParams)&&i.formatterParams.isVideo?Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream):qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}],{displayFormat:a.nativeBanner?_a.a.nativeBanner:_a.a.outstream})}if(a.instream){const[n,r]=a.instream.playerSize;Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:{...i.params,video:{w:n,h:r,...i.params.video}}}])}})),At.b.add(vt.a.TripleLift,Pg.gvlid);const Xg={code:"unruly",supportedMediaTypes:[b.d,b.b],gvlid:36,isBidRequestValid:function(e){let t=(0,r.a)(e,"params.siteId")&&(e=>{const t=(0,r.a)(e,"mediaTypes.video"),i=(0,r.a)(e,"mediaTypes.banner");let a=!(!t&&!i);return a&&t&&(a=(e=>!!e.context&&-1!==["outstream","instream"].indexOf(e.context))(t)),a&&i&&(a=(e=>e.sizes)(i)),a})(e);return!!t},buildRequests:function(e,t){let i="https://targeting.unrulymedia.com/unruly_prebid";return e[0]&&(i=(0,r.a)(e[0],"params.endpoint")||i),((e,t,i)=>{const{bids:a,bidderRequestId:n,bidderCode:o,...s}=i,d=i.bids.length-t.length;let l={};t.forEach((t=>{const i=t.params.siteId;(e=>{Object.keys(e.mediaTypes).forEach((t=>{let i;i="function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:t,size:"*"}).floor||0:e.params.floor||0,e.mediaTypes[t].floor=i}))})(t),(e=>{let t=(0,r.a)(e,"mediaTypes.banner");if(t){let e={},i=[];t.sizes.forEach((t=>{e[t.toString()]||(e[t.toString()]=!0,i.push(t))})),t.sizes=i}})(t),((e,t)=>{!t&&e.ortb2Imp&&e.ortb2Imp.ext&&delete e.ortb2Imp.ext.ae})(t,e.protectedAudienceEnabled),l[i]=l[i]||[],l[i].push(t)}));let c=[];return Object.keys(l).forEach((t=>{let i={bidderRequest:Object.assign({},{bids:l[t],invalidBidsCount:d,prebidVersion:"8.30.0",...s})};c.push(Object.assign({},{data:i,...e}))})),c})({url:i,method:"POST",options:{contentType:"application/json"},protectedAudienceEnabled:t.fledgeEnabled},e,t)},interpretResponse:function(e){if(!e||!e.body||!e.body.auctionConfigs&&!e.body.bids)return[];const t=e.body;let i=[],a=null;if(t.bids.length&&(i=(e=>{let t=[];return e.forEach((e=>{let i,a=(0,r.a)(e,"meta.mediaType");if(a&&"banner"===a.toLowerCase())e.mediaType=b.b,i=(e=>{if(e.ad)return e;(0,n.ab)(new Error("UnrulyBidAdapter: Missing ad config."))})(e);else if(a&&"video"===a.toLowerCase()){let t=(0,r.a)(e,"meta.videoContext");e.mediaType=b.d,"instream"===t?i=(e=>{if(e.vastUrl||e.vastXml)return e;(0,n.ab)(new Error("UnrulyBidAdapter: Missing vastUrl or vastXml config."))})(e):"outstream"===t&&(i=(e=>{const t=!!(0,r.a)(e,"ext.renderer.config"),i=!!(0,r.a)(e,"ext.renderer.config.siteId");if(!t)return void(0,n.ab)(new Error("UnrulyBidAdapter: Missing renderer config."));if(!i)return void(0,n.ab)(new Error("UnrulyBidAdapter: Missing renderer siteId."));const a=(0,r.a)(e,"ext.renderer");!function(e,t){if(!e.config)throw new Error("UnrulyBidAdapter: Missing renderer config.");if(!e.config.siteId)throw new Error("UnrulyBidAdapter: Missing renderer siteId.");parent.window.unruly=parent.window.unruly||{},parent.window.unruly.native=parent.window.unruly.native||{},parent.window.unruly.native.siteId=parent.window.unruly.native.siteId||e.config.siteId,parent.window.unruly.native.adSlotId=t,parent.window.unruly.native.supplyMode="prebid"}(a,e.requestId),parent.window.unruly.native.prebid=parent.window.unruly.native.prebid||{},parent.window.unruly.native.prebid.uq=parent.window.unruly.native.prebid.uq||[];const o=m.a.install(Object.assign({},a)),s=Object.assign({},e,{renderer:o,adUnitCode:(0,r.a)(e,"ext.adUnitCode")});return o.setRender((()=>{var e;e=s,parent.window.unruly.native.prebid.uq.push(["render",e])})),e.renderer=e.renderer||o,e})(e))}i&&t.push(i)})),t})(t.bids)),t.auctionConfigs){let e=t.auctionConfigs,i=Object.keys(e);i.length&&i.forEach((t=>{a=[{bidId:t,config:e[t]}]}))}return a?{bids:i,fledgeAuctionConfigs:a}:i}};(0,at.b)(Xg),At.a.add(vt.a.Unruly,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.outstream&&(t.rendering?.outstream?.hbvFormat?Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream):Md(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}])),a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),At.b.add(vt.a.Unruly,Xg.gvlid);const Jg="prebid",Qg="vidazoo",Yg="1.0.0",Zg=9e5,ey=36e5,ty="vidSid",iy="vdzwopt",ay="wsid_"+parseInt(Date.now()*Math.random()),ny=(0,se.d)({bidderCode:Qg});function ry(){try{return(0,n.kb)(window.top.document.URL,{decodeSearchAsString:!0}).search}catch(e){return""}}function oy(e=Jg){return`https://${e}.cootlogix.com`}function sy(e){return e.cId||e.CID||e.cID||e.CId||e.cid||e.ciD||e.Cid||e.CiD}function dy(e){return e.pId||e.PID||e.pID||e.PId||e.pid||e.piD||e.Pid||e.PiD}function ly(e){return e.subDomain||e.SubDomain||e.Subdomain||e.subdomain||e.SUBDOMAIN||e.subDOMAIN}function cy(e,t,i,a,o){const{params:s,bidId:d,userId:l,adUnitCode:c,schain:p,mediaTypes:u,ortb2Imp:m,bidderRequestId:b,bidRequestsCount:f,bidderRequestsCount:g,bidderWinsCount:y}=e,{ext:h}=s;let{bidFloor:_}=s;const v=function(e,t="_"){const i=e.length;let a=0,n=0;if(i>0)for(;n<i;)a=(a<<5)-a+e.charCodeAt(n++)|0;return t+a}(t),I=function(e,t=Zg){try{const i=uy(e);let a,n=0;i&&i.value&&Date.now()-i.created<t&&(n=i.value,a=i.created);const r=n+1;return my(e,r,a),r}catch(e){return 0}}(v),w=function(e,t=ey){const i=`u_${e}`,a=Date.now(),n=uy(i);let r;return!n||!n.value||a-n.created>t?(r=`${e}_${a.toString()}`,my(i,r)):r=n.value,r}(v),T=uy(ty)||"",x=dy(s),D=function(){let e=ny.getDataFromLocalStorage(iy);return e||(e=String(Date.now()),ny.setDataInLocalStorage(iy,e)),e}(),S=k.a.get(Qg,"storageAllowed"),C=(0,r.a)(e,"ortb2Imp.ext.gpid",(0,r.a)(e,"ortb2Imp.ext.data.pbadslot","")),E=(0,r.a)(a,"ortb2.site.cat",[]),R=(0,r.a)(a,"ortb2.site.pagecat",[]);if((0,n.U)(e.getFloor)){const t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});"USD"===t.currency&&(_=t.floor)}let A={url:encodeURIComponent(t),uqs:ry(),cb:Date.now(),bidFloor:_,bidId:d,referrer:a.refererInfo.ref,adUnitCode:c,publisherId:x,sessionId:T,sizes:i,dealId:I,uniqueDealId:w,bidderVersion:Yg,prebidVersion:"8.30.0",res:`${screen.width}x${screen.height}`,schain:p,mediaTypes:u,ptrace:D,isStorageAllowed:S,gpid:C,cat:E,pagecat:R,transactionId:m?.ext?.tid,bidderRequestId:b,bidRequestsCount:f,bidderRequestsCount:g,bidderWinsCount:y,bidderTimeout:o,webSessionId:ay};!function(e,t){let i;(0,n.a)(t,((t,a)=>{switch(i=`uid.${a}`,a){case"digitrustid":e[i]=(0,r.a)(t,"data.id");break;case"lipb":e[i]=t.lipbid;break;case"parrableId":e[i]=t.eid;break;case"id5id":e[i]=t.uid;break;default:e[i]=t}}))}(A,l);const O=(0,r.a)(a,"ortb2.device.sua");return O&&(A.sua=O),a.gdprConsent&&(a.gdprConsent.consentString&&(A.gdprConsent=a.gdprConsent.consentString),void 0!==a.gdprConsent.gdprApplies&&(A.gdpr=a.gdprConsent.gdprApplies?1:0)),a.uspConsent&&(A.usPrivacy=a.uspConsent),a.gppConsent?(A.gppString=a.gppConsent.gppString,A.gppSid=a.gppConsent.applicableSections):a.ortb2?.regs?.gpp&&(A.gppString=a.ortb2.regs.gpp,A.gppSid=a.ortb2.regs.gpp_sid),(0,n.a)(h,((e,t)=>{A["ext."+t]=e})),A}function py(e,t,i,a,n){const{params:r}=e,o=sy(r),s=ly(r),d=cy(e,t,i,a,n);return{method:"POST",url:`${oy(s)}/prebid/multi/${o}`,data:d}}function uy(e){try{return function(e){try{return JSON.parse(e)}catch(t){return e}}(ny.getDataFromLocalStorage(e))}catch(e){}return null}function my(e,t,i){try{const a=i||Date.now(),n=JSON.stringify({value:t,created:a});ny.setDataInLocalStorage(e,n)}catch(e){}}const by={code:Qg,version:Yg,gvlid:744,supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){const t=e.params||{};return!(!sy(t)||!dy(t))},buildRequests:function(e,t){const i=t.refererInfo.page||t.refererInfo.topmostLocation,a=u.config.getConfig("bidderTimeout"),r=u.config.getConfig("vidazoo.singleRequest"),o=[];if(r){const r=e.filter((e=>(0,n.Q)(e.mediaTypes)?e.mediaTypes.includes(b.b):void 0!==e.mediaTypes[b.b]));if(r.length>0){const e=function(e,t,i,a){const{params:r}=e[0],o=sy(r),s=ly(r);return uc(e.map((e=>{const r=(0,n.jb)(e.sizes);return cy(e,i,r,t,a)})),Math.min(20,u.config.getConfig("vidazoo.chunkSize")||10)).map((e=>({method:"POST",url:`${oy(s)}/prebid/multi/${o}`,data:{bids:e}})))}(r,t,i,a);o.push(...e)}e.filter((e=>void 0!==e.mediaTypes[b.d])).forEach((e=>{const r=(0,n.jb)(e.sizes),s=py(e,i,r,t,a);o.push(s)}))}else e.forEach((e=>{const r=(0,n.jb)(e.sizes),s=py(e,i,r,t,a);o.push(s)}));return o},interpretResponse:function(e,t){if(!e||!e.body)return[];const i=u.config.getConfig("vidazoo.singleRequest"),a=(0,r.a)(t,"data.bidId"),{results:n}=e.body;let o=[];try{return n.forEach((e=>{const{creativeId:t,ad:n,price:r,exp:s,width:d,height:l,currency:c,bidId:p,advertiserDomains:u,metaData:m,mediaType:f=b.b}=e;if(!n||!r)return;const g={requestId:i&&p?p:a,cpm:r,width:d,height:l,creativeId:t,currency:c||"USD",netRevenue:!0,ttl:s||300};m?Object.assign(g,{meta:m}):Object.assign(g,{meta:{advertiserDomains:u||[]}}),f===b.b?Object.assign(g,{ad:n}):Object.assign(g,{vastXml:n,mediaType:b.d}),o.push(g)})),o}catch(e){return[]}},getUserSyncs:function(e,t,i={},a="",o={}){let s=[];const{iframeEnabled:d,pixelEnabled:l}=e,{gdprApplies:c,consentString:p=""}=i,{gppString:u,applicableSections:m}=o,b=t.filter((e=>(0,r.a)(e,"body.cid"))).map((e=>e.body.cid)).filter(n.vb);let f=`?cid=${encodeURIComponent(b.join(","))}&gdpr=${c?1:0}&gdpr_consent=${encodeURIComponent(p||"")}&us_privacy=${encodeURIComponent(a||"")}`;return u&&m?.length&&(f+="&gpp="+encodeURIComponent(u),f+="&gpp_sid="+encodeURIComponent(m.join(","))),d&&s.push({type:"iframe",url:`https://sync.cootlogix.com/api/sync/iframe/${f}`}),l&&s.push({type:"image",url:`https://sync.cootlogix.com/api/sync/image/${f}`}),s}};(0,at.b)(by),At.a.add(vt.a.vidazoo,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}]),a.banner){const n=jd(a),r={...i.params,video:void 0};qd(e,t.placementId,n,[{bidder:i.bidder,params:r}])}a.outstream&&Bd(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}],t.rendering?.outstream)})),At.b.add(vt.a.vidazoo,by.gvlid);const fy="https://ad.yieldlab.net",gy="EUR",yy={code:"yieldlab",gvlid:70,supportedMediaTypes:[b.d,b.b,b.c],isBidRequestValid:e=>!!(e&&e.params&&e.params.adslotId&&e.params.supplyId),buildRequests(e,t){e=(0,d.b)(e);const i=[],a=[],o=[],s={ts:Date.now(),json:!0};(0,n.a)(e,(function(e){i.push(e.params.adslotId);const t=function(e){const{mediaTypes:t}=e,i=[];if((0,n.Y)(t)){const{[b.b]:e}=t;e&&(0,n.Q)(e.sizes)&&((0,n.Q)(e.sizes[0])?i.push(e.sizes):i.push([e.sizes]))}else(0,n.Q)(e.sizes)&&((0,n.Q)(e.sizes[0])?i.push(e.sizes):i.push([e.sizes]));const a=new Set(i.flat().map((([e,t])=>e+"x"+t)));return Array.from(a)}(e);if(t.length>0&&a.push(e.params.adslotId+":"+t.join("|")),e.params.extId&&(s.id=e.params.extId),e.params.targeting&&(s.t=function(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const a=i,n=e[i];t.push(a+"="+n)}return t.join("&")}(e.params.targeting)),e.userIdAsEids&&Array.isArray(e.userIdAsEids)&&(s.ids=function(e){const t=[];for(let i=0;i<e.length;i++)t.push(e[i].source+":"+e[i].uids[0].id);return t.join(",")}(e.userIdAsEids),s.atypes=function(e){const t=[];for(let i=0;i<e.length;i++)e[i].uids[0].atype&&t.push(e[i].source+":"+e[i].uids[0].atype);return t.join(",")}(e.userIdAsEids)),e.params.customParams&&(0,n.Y)(e.params.customParams))for(const t in e.params.customParams)s[t]=e.params.customParams[t];e.schain&&(0,n.Y)(e.schain)&&Array.isArray(e.schain.nodes)&&(s.schain=function(e){const t=e.ver||"",i=1===e.complete||0===e.complete?e.complete:"",a=["asi","sid","hp","rid","name","domain","ext"];return`${t},${i}${e.nodes.reduce(((e,t)=>e+`!${a.map((e=>{return t[e]?(i=t[e],encodeURIComponent(i).replace(/!/g,"%21")):"";var i})).join(",")}`),"")}`}(e.schain));const d=function(e){if(e.params.iabContent&&(0,n.Y)(e.params.iabContent))return e.params.iabContent;const t=(0,r.a)(e,"ortb2.site")?(0,r.a)(e,"ortb2.site.content"):(0,r.a)(e,"ortb2.app.content");return t&&(0,n.Y)(t)?t:void 0}(e);d&&(s.iab_content=function(e){const t=["keywords","cat"],i=[],a=(e={},n="")=>{for(const r in e)-1!==t.indexOf(r)&&Array.isArray(e[r])?i.push("".concat(r,":",e[r].map((e=>encodeURIComponent(e))).join("|"))):"object"!=typeof e[r]?i.push("".concat(n+r,":",encodeURIComponent(e[r]))):a(e[r],"".concat(n,r,"."));return i.join(",")};return encodeURIComponent(a(e))}(d));const l=function(e,t){if(!(0,n.U)(e.getFloor))return;const i=(0,r.a)(e,"mediaTypes"),a=void 0!==i?Object.keys(i)[0].toLowerCase():void 0,o=e.getFloor({currency:gy,mediaType:void 0!==a&&yy.supportedMediaTypes.includes(a)?a:"*",size:1!==t.length?"*":t[0].split("x")});return o.currency===gy?(100*o.floor).toFixed(0):void 0}(e,t);l&&o.push(e.params.adslotId+":"+l)})),t&&(t.refererInfo&&t.refererInfo.page&&(s.pubref=t.refererInfo.page),t.gdprConsent&&(s.gdpr="boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,s.gdpr&&(s.consent=t.gdprConsent.consentString)));const l=i.join(",");a.length>0&&(s.sizes=a.join(",")),o.length>0&&(s.floor=o.join(","));const c=function(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const a=e[i];"schain"!==i&&"iab_content"!==i?t.push(encodeURIComponent(i)+"="+encodeURIComponent(a)):t.push(i+"="+a)}return t.join("&")}(s);return{method:"GET",url:`${fy}/yp/${l}?${c}`,validBidRequests:e,queryParams:s}},interpretResponse(e,t){const i=[],a=Date.now(),o=t.queryParams;return t.validBidRequests.forEach((function(t){if(!e.body)return;const s=(0,p.b)(e.body,(function(e){return t.params.adslotId==e.id}));if(s){const e=2!==t.sizes.length||(0,n.Q)(t.sizes[0])?t.sizes[0]:t.sizes,c=void 0!==t.params.adSize?hy(t.params.adSize):void 0!==s.adsize?hy(s.adsize):e,u=void 0!==t.params.extId?"&id="+t.params.extId:"",f=void 0!==s.adtype?s.adtype:"",g=o.gdpr?"&gdpr="+o.gdpr:"",y=o.consent?"&consent="+o.consent:"",h=void 0!==s.pvid?"&pvid="+s.pvid:"",_=o.iab_content?"&iab_content="+o.iab_content:"",v={requestId:t.bidId,cpm:s.price/100,width:c[0],height:c[1],creativeId:""+s.id,dealId:s["c.dealid"]?s["c.dealid"]:s.pid,currency:gy,netRevenue:!1,ttl:300,referrer:"",ad:`<script src="${fy}/d/${s.id}/${t.params.supplyId}/?ts=${a}${u}${g}${y}${h}${_}"><\/script>`,meta:{advertiserDomains:s.advertiser?s.advertiser:"n/a"}};if(d=t,l=f,(0,r.a)(d,"mediaTypes.video")&&"video"===l.toLowerCase()){const e=function(e){const t=(0,r.a)(e,"mediaTypes.video.playerSize");return t&&(0,n.Q)(t[0])?t[0]:t}(t);if(e&&(v.width=e[0],v.height=e[1]),v.mediaType=b.d,v.vastUrl=`${fy}/d/${s.id}/${t.params.supplyId}/?ts=${a}${u}${g}${y}${h}${_}`,function(e){return"outstream"===(0,r.a)(e,"mediaTypes.video.context")}(t)){const e=m.a.install({id:t.bidId,url:"https://ad.adition.com/dynamic.ad?a=o193092&ma_loadEvent=ma-start-event",loaded:!1});e.setRender(_y),v.renderer=e}}if(function(e,t){return(0,r.a)(e,"mediaTypes.native")&&"native"===t.toLowerCase()}(t,f)){const{native:e}=s,{assets:i}=e;v.adUrl=`${fy}/d/${s.id}/${t.params.supplyId}/?ts=${a}${u}${g}${y}${h}`,v.mediaType=b.c;const n=(0,p.b)(i,Iy(1)),r=(0,p.b)(i,Iy(3)),o=r?r.img:{url:"",w:0,h:0},d=(0,p.b)(i,(e=>vy(e,"title"))),l=(0,p.b)(i,(e=>vy(e,"data")));v.native={title:d?d.title.text:"",body:l?l.data.value:"",...n?.img&&{icon:{url:n.img.url,width:n.img.w,height:n.img.h}},image:{url:o.url,width:o.w,height:o.h},clickUrl:e.link.url,impressionTrackers:e.imptrackers,assets:i}}i.push(v)}var d,l})),i},getUserSyncs(e,t,i,a){const r=[];if(e.iframeEnabled){const e=[];e.push(`ts=${(0,n.sb)()}`),e.push("type=h"),i&&"boolean"==typeof i.gdprApplies&&e.push(`gdpr=${Number(i.gdprApplies)}`),i&&"string"==typeof i.consentString&&e.push(`gdpr_consent=${i.consentString}`),r.push({type:"iframe",url:`${fy}/d/6846326/766/2x2?${e.join("&")}`})}return r}};function hy(e){return e.split("x").map(Number)}function _y(e){e.renderer.push((()=>{window.ma_width=e.width,window.ma_height=e.height,window.ma_vastUrl=e.vastUrl,window.ma_container=e.adUnitCode,window.document.dispatchEvent(new Event("ma-start-event"))}))}function vy(e,t){return e.hasOwnProperty(t)&&null!=e[t]}function Iy(e){return t=>t?.img?.type===e}(0,at.b)(yy),At.a.add(vt.a.yieldlab,((e,{placement:t,bid:i,resolvedMediaTypes:a})=>{if(a.banner||a.skin){const n=jd(a);qd(e,t.placementId,n,[{bidder:i.bidder,params:i.params}])}a.native&&Nd(e,t.placementId,[{bidder:i.bidder,params:i.params}],a.native),a.outstream&&Md(e,t.placementId,a.outstream,[{bidder:i.bidder,params:i.params}]),a.instream&&Pd(e,t.placementId,a.instream,[{bidder:i.bidder,params:i.params}])})),At.b.add(vt.a.yieldlab,yy.gvlid);var wy=i(57);At.c.add(wy.a,(e=>new Xn.AmazonContentProvider(e))),i(102);var Ty=i(80);const{info:xy,debug:Dy,error:Sy}=ot.a.tag("instream"),Cy=new class{#Ia;#wa;#Ta;#$;#$e;#xa={};start=e=>{this.#$e=e.settings,this.#$=e.bus};#Da=()=>{try{this.#$e?.instream?.onRegisterBidsHandler?.()}catch{Sy("Error dispatching new bid handler event")}};registerBidsHandler=e=>{Dy("Using new bids Handler"),this.#Da(),this.#Ia=e,this.#Sa()};#he=e=>{this.#$?.emit(ei.a.adrequest,e)};#Sa=()=>{if(!this.#Ia)return Dy("No instream bids handler has been installed - Rendering delayed until a callback is available");if(!this.#wa)return;const e=this.#wa;this.#wa=void 0;const t=this.#Ta;this.#Ta=void 0,t&&this.#he(t);try{xy("Sending all targetings for instream placements",e),this.#Ia(e)}catch(e){Sy("Error calling instream bids handler",e)}};#Ca=async e=>{for(const t of e)this.#Ea(t.placement.placementId);const{instreamBids:t,placementIds:i}=await this.#Ra(e);if(this.#wa?this.#wa={players:[...this.#wa.players,...t.players]}:this.#wa=t,this.#Ta)for(const e of i)this.#Ta.add(e);else this.#Ta=i;this.#Sa()};#Aa=e=>Object.entries(e).map((([e,t])=>`${e}=${t}`)).join("&");#Ea=e=>{(0,Et.r)(this.#xa[e])?this.#xa[e]=0:this.#xa[e]+=1};#ka=(e,t)=>{const i=e.bidResponse,a={latency:i.fetchDuration,ttl:i.ttl,placementId:i.placementId,size:`${i.width}x${i.height}`,connector:i.bidder,vendorId:i.vendorId,adServer:"gam",refreshIndex:this.#xa[i.placementId]??0,dealId:i.dealId,creativeId:i.creativeId,rawCpm:i.originalCpm,cpmKind:i.isNetRevenue?"net":"gross",currency:i.originalCurrency,adjustedUsdCpm:e.cpmAdjustment.adjustedCpm,rawUsdCpm:i.cpm,netUsdCpm:e.cpmAdjustment.netCpm,rawUsdIncrementCpm:e.cpmAdjustment.rawUsdIncrementCpm,netUsdIncrementCpm:e.cpmAdjustment.netUsdIncrementCpm,seatId:i.meta?.agencyId,advertiserId:i.meta?.advertiserId,advertiserDomains:i.meta?.advertiserDomains,categoryIds:i.meta?.primaryCatId?[i.meta?.primaryCatId,...i.meta?.secondaryCatIds??[]]:void 0,tags:t,demandSource:i.demandSource};return i.vastUrl?{vastUrl:i.vastUrl,metadata:a}:i.vastXml?{vastXml:i.vastXml,metadata:a}:void 0};#Oa=(e,t)=>{const i={};for(const a of e){const e=t[a.placement.placementId],n=a.placement.rendering?.instream?.slotId;if(!n){const e=new ya.b(ya.a.instreamConfigurationError,`No SlotID has been defined for placement: ${a.placement.placementId} - This is a configuration error and it should be fixed`);(0,ha.a)(e);continue}const r=(0,Ty.b)({renderable:a,settings:this.#$e,slotId:n,cacheId:e});(0,Ty.a)(i,r)}return{queryFragment:this.#Aa(i),targetings:i}};#Ma=e=>{const[t]=e;if(!t)return;const{creatives:i,auctionId:a}=e.reduce(((e,t)=>{const i=t.content.flatMap((e=>e.bidResponse.providerId===da.a?this.#ka(e,t.tags)??[]:[]));return i.length>0&&(e.auctionId=t.content[0]?.bidResponse.auctionId,e.creatives[t.placement.placementId]=i),e}),{creatives:{}});if(a)return{creatives:i,auctionId:a,firstRenderable:t};Object.values(i).length>0&&Dy("couldn't retrieve auctionId")};#Ba=async e=>{const t=this.#Ma(e);if(!t||0===Object.values(t.creatives).length)return Dy("no prebid bids for instream: no need to store creatives"),{};try{const e=rt.a.currentValue,{cmpStatus:i,tcData:a}=e??{},n={publisherId:this.#$e.publisherId,pageViewId:ut.pageViewId,auctionId:t.auctionId,consentString:(0,st.b)(a),gdprApplies:a?.gdprApplies,cmpStatus:i,network:t.firstRenderable.config.context.networkCode,brand:t.firstRenderable.config.context.publisherBrand,support:t.firstRenderable.config.context.supportCode,zone:t.firstRenderable.config.context.pageZone,layout:t.firstRenderable.config.context.layout,page:top?.location.href,auctionTimeout:t.firstRenderable.config.bidderTimeout,source:"wrapper",version:Zt.g,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,connectionSpeed:jr()},r=await fetch("https://cache-service.hubvisor.io",{method:"POST",body:JSON.stringify({creatives:t.creatives,metadata:n})});if(!r.ok)throw new Error(`http status: ${r.statusText}`);return(await r.json()).creatives}catch(e){return Sy("Error sending creatives to cache service",e),{}}};#Pa=e=>{for(const t of e){const e=t.placement.rendering?.instream?.playerCallback;if(e)return e}};#Na=(e,t)=>{try{t(e)}catch(e){Sy("Error while calling player callback",e)}};#Ra=async e=>{const t=await this.#Ba(e),i=Fn(e,(e=>e.placement.rendering?.instream?.playerId)),{players:a,placementIds:n}=Object.entries(i).reduce(((e,[i,a])=>{if((0,Et.j)(a))return e;const n=this.#Oa(a,t),r=this.#Pa(a);r?this.#Na({playerId:i,...n},r):e.players.push({playerId:i,...n});for(const t of a)e.placementIds.add(t.placement.placementId);return e}),{players:[],placementIds:new Set});return{instreamBids:{players:a},placementIds:n}};canRender=e=>!!e.placement.rendering?.instream;render=e=>{this.#Ca(e)}};At.h.register(Na.a.instream,Cy),(0,Qn.b)("instream:on-bids-ready",(e=>{Cy.registerBidsHandler(e)})),Pe.c.before(((e,t,i,a,n)=>{if((!i||a&&"outstream"!==n)&&t.vastXml)return e.bail(!0);e(t,i,a,n)}));const Ey=(0,Co.a)({value:!0,weight:99},{value:!1,weight:1}),Ry="APAC",Ay="CA",ky="EMEA",Oy="FR",My="LATAM",By="US",Py="UNKNOWN",Ny=new Set(["AF","AS","AU","BH","BD","BT","IO","SB","BN","MM","KH","LK","CN","TW","CX","CC","CK","FJ","PF","PS","KI","GU","HK","IN","ID","IR","IQ","IL","JP","JO","KP","KR","KW","KG","LA","LB","MO","MY","MV","MN","OM","NR","NP","NC","VU","NZ","NU","NF","MP","FM","MH","PW","PK","PG","PH","PN","TL","QA","SA","SG","VN","SY","TJ","TH","TK","TO","AE","TR","TM","TV","UZ","WF","WS","YE","XX","XE","XD","XS"]),Uy=new Set(["AL","DZ","AD","AO","AZ","AT","AM","BE","BA","BW","BG","BI","BY","CM","CV","CF","TD","KM","YT","CG","CD","HR","CY","CZ","BJ","DK","GQ","ET","ER","EE","FO","FI","AX","FR","DJ","GA","GE","GM","DE","GH","GI","GR","GN","VA","HU","IS","IE","IT","CI","KZ","KE","LS","LV","LR","LY","LI","LT","LU","MG","MW","ML","MT","MR","MU","MC","MD","ME","MA","MZ","NA","NL","NE","NG","NO","PL","PT","GW","RE","RO","RU","RW","SH","SM","ST","SN","RS","SC","SL","SK","SI","SO","ZA","ZW","ES","SS","EH","SD","SJ","SZ","SE","CH","TG","TN","UG","UA","MK","EG","GB","GG","JE","IM","TZ","BF","ZM"]),qy=new Set(["AG","AR","BS","BB","BM","BO","BR","BZ","VG","CA","KY","CL","CO","CR","CU","DM","DO","EC","SV","FK","GF","GL","GD","GP","GT","GY","HT","HN","JM","MQ","MX","MS","AN","CW","AW","SX","BQ","NI","UM","PA","PY","PE","PR","BL","KN","AI","LC","MF","PM","VC","SR","TT","TC","US","VI","UY","VE"]),jy=()=>{const e=window.__COUNTRY__;if(e){if("US"===e)return By;if("CA"===e)return Ay;if("FR"===e)return Oy;if(Ny.has(e))return Ry;if(Uy.has(e))return ky;if(qy.has(e))return My}return Py},zy=(e,t)=>{switch(t){case"NA":return"US"===e?By:"CA"===e?Ay:jy();case"EMEA":return"FR"===e?Oy:ky;case"LATAM":return My;case"APAC":return Ry;default:return jy()}},$y="apac.dailymotion.web",Fy="canada.dailymotion.web",Ly="emea.dailymotion.web",Vy="france.dailymotion.web",Gy="latam.dailymotion.web",Wy="united-states.dailymotion.web",Hy="unknown",Ky=e=>{if(!/^(.*\.)?dailymotion\.com$/.test(location.hostname))return Hy;const t=e?.geo?.country?.iso,i=e?.geo?.country?.region;switch(zy(t,i)){case"APAC":return $y;case"CA":return Fy;case"EMEA":return Ly;case"FR":return Vy;case"LATAM":return Gy;case"US":return Wy;default:return Hy}},Xy="Control",Jy="PubX",Qy=(0,xt.c)("abtestfloors")||(0,Co.a)({value:Xy,weight:50},{value:"GAM",weight:25},{value:Jy,weight:25}),Yy=(0,gt.a)((async e=>{if(Qy===Jy&&e!==Fy)return(0,Ea.a)("https://cdn.pbxai.com/8ec29814-27ae-43ef-a701-3dfcfd24dff0.js")})),Zy=()=>(0,Et.i)(_t.readConfig("coppa")),eh=()=>!!_t.readConfig("coppa"),th=(0,xt.a)("enable-3rd-mpu")?1:0,ih={...vt.a,"152media_xandr":"152media-xandr",Azerion_ImproveDigital:"azerion-improveDigital",Dailymotion_33across:"dailymotion-33across",Dailymotion_Adagio:"dailymotion-adagio",Dailymotion_Amazon:"dailymotion-amazon",Dailymotion_Amx:"dailymotion-amx",Dailymotion_Criteo:"dailymotion-criteo",Dailymotion_Criteo_Native:"dailymotion-criteo Native",Dailymotion_Freewheel:"dailymotion-freewheel",Dailymotion_Gumgum:"dailymotion-gumgum",Dailymotion_IndexExchange:"dailymotion-indexExchange",Dailymotion_Invibes:"dailymotion-invibes",Dailymotion_Magnite:"dailymotion-magnite",Dailymotion_Medianet:"dailymotion-medianet",Dailymotion_Mediasquare:"dailymotion-mediasquare",Dailymotion_OneTag:"dailymotion-oneTag",Dailymotion_OpenX:"dailymotion-openX",Dailymotion_Outbrain_Native:"dailymotion-outbrain Native",Dailymotion_Pubmatic:"dailymotion-pubmatic",Dailymotion_RhythmOne:"dailymotion-rhythmOne",Dailymotion_Sharethrough:"dailymotion-sharethrough",Dailymotion_Smart:"dailymotion-smart",Dailymotion_Sovrn:"dailymotion-sovrn",Dailymotion_Teads:"dailymotion-teads",Dailymotion_TripleLift_Native:"dailymotion-triplelift Native",Dailymotion_TripleLift_Outstream:"dailymotion-triplelift Outstream",Dailymotion_TTD:"dailymotion-ttd",Dailymotion_Xandr:"dailymotion-xandr",Dailymotion_Prisma:"dailymotion-prisma",Dailymotion_Choueiri_Magnite:"dailymotion-choueiri-magnite",Dailymotion_Choueiri_Equativ:"dailymotion-choueiri-equativ",Dailymotion_RTBhouse:"dailymotion-rtbhouse",Dailymotion_MinuteMedia:"dailymotion-minutemedia",Dailymotion_NextMillennium:"dailymotion-nextMillennium",Dailymotion_Adform:"dailymotion-adform",Dailymotion_PubVentures:"dailymotion-pubventures",Dailymotion_Seedtag:"dailymotion-seedtag",Dailymotion_Nexx360:"dailymotion-nexx360",Dailymotion_Vidazoo:"dailymotion-vidazoo",Dailymotion_Yieldlab:"dailymotion-yieldlab",Dailymotion_NoBid_Banner:"dailymotion-nobid Banner",Dailymotion_NoBid_Video:"dailymotion-nobid Video",Dailymotion_Qortex:"dailymotion-qortex"},ah={ppid:[]},nh=()=>ah.ppid,rh=()=>{const e=_t.readConfig();return"coppa"in e?Zy()?"on - "+(e.coppa?"1":"0"):"on - ?":"off"},oh=(e,t)=>{const i=window.__GKS__?.NEON_HEADER_BIDDING_VIDEO?"1":"0",a=e.auctionId,n={hbv_aid:a,hbv_instream:i,hbAuId:a,hbDebug:t.hbv_debug,hbIns:i,hbUplift:t.hbv_uplift,hbv_abtest_coppa:rh(),hbv_abtest_mnwp:window.__GKS__?.NEON_NEW_WATCHING_PAGE_MOBILE?"1":"0",hbv_abtest_ppid:nh()?"1":"0"};if(e.content.some((e=>e.bidResponse.providerId===da.a))&&(n.hbBid=t.hbv_instream_bidder,n.hbCaId=t.hbv_instream_cacheid,n.hbPr=t.hbv_instream_pb),e.content.some((e=>e.bidResponse.bidder===ih.Dailymotion_Amazon))&&(n.hbAmznIid=t.amzniid,n.hbAmznP=t.amznp,n.hbAmznSz=t.amznsz,n.hbAmznBid=t.amznbid,n.hbAmznActt=t.amznactt),"visibility"===e.config.refreshReason&&e.placement.placementId.endsWith("mpu_3"))try{1===th&&(n.hbv_abtest_mpu_v=(e=>{if(0===th)return"control_visible";const t=window.googletag?.pubads().getSlots().find((t=>t.getSlotElementId()===e));return"true"===t?.getTargeting("hbv_visible_placement_abtest")[0]?"experiment_visible":"experiment_not_visible"})(e.placement.placementId))}catch{}return e.placement.placementId.endsWith("roll")||e.config.context.supportCode===Fy||(n["yield-abcdtest"]=Qy,Qy===Xy&&(n.yb_ab="c")),n},sh={[ih["152media_xandr"]]:ih.AppNexus,[ih.Azerion_ImproveDigital]:ih.ImproveDigital,[ih.Dailymotion_33across]:ih["33across"],[ih.Dailymotion_Adagio]:ih.Adagio,[ih.Dailymotion_Amazon]:ih.amazon,[ih.Dailymotion_Amx]:ih.amx,[ih.Dailymotion_Criteo]:ih.Criteo,[ih.Dailymotion_Criteo_Native]:ih.Criteo,[ih.Dailymotion_Freewheel]:ih.Freewheel,[ih.Dailymotion_Gumgum]:ih.gumgum,[ih.Dailymotion_IndexExchange]:ih.IndexExchange,[ih.Dailymotion_Invibes]:ih.Invibes,[ih.Dailymotion_Magnite]:ih.Rubicon,[ih.Dailymotion_Medianet]:ih.medianet,[ih.Dailymotion_Mediasquare]:ih.mediasquare,[ih.Dailymotion_OneTag]:ih.onetag,[ih.Dailymotion_OpenX]:ih.OpenX,[ih.Dailymotion_Outbrain_Native]:ih.outbrain,[ih.Dailymotion_Pubmatic]:ih.pubmatic,[ih.Dailymotion_RhythmOne]:ih.Unruly,[ih.Dailymotion_Sharethrough]:ih.sharethrough,[ih.Dailymotion_Smart]:ih.Smart,[ih.Dailymotion_Sovrn]:ih.sovrn,[ih.Dailymotion_Teads]:ih.Teads,[ih.Dailymotion_TripleLift_Native]:ih.TripleLift,[ih.Dailymotion_TripleLift_Outstream]:ih.TripleLift,[ih.Dailymotion_TTD]:ih.ttdDirectPath,[ih.Dailymotion_Xandr]:ih.AppNexus,[ih.Dailymotion_Prisma]:ih.prisma,[ih.Dailymotion_Choueiri_Magnite]:ih.Rubicon,[ih.Dailymotion_Choueiri_Equativ]:ih.Smart,[ih.Dailymotion_RTBhouse]:ih.rtbhouse,[ih.Dailymotion_MinuteMedia]:ih.minuteMedia,[ih.Dailymotion_NextMillennium]:ih.nextMillennium,[ih.Dailymotion_Adform]:ih.Adform,[ih.Dailymotion_PubVentures]:ih.AppNexus,[ih.Dailymotion_Seedtag]:ih.seedtag,[ih.Dailymotion_Nexx360]:ih.nexx360,[ih.Dailymotion_Vidazoo]:ih.vidazoo,[ih.Dailymotion_Yieldlab]:ih.yieldlab,[ih.Dailymotion_NoBid_Banner]:ih.noBid,[ih.Dailymotion_NoBid_Video]:ih.noBid,[ih.Dailymotion_Qortex]:ih.adkernel},dh=(e,t)=>{if(e.bidResponse.bidder===ih.Dailymotion_Amazon&&t.bidResponse.bidder===ih.Dailymotion_Amazon){if("video"===e.bidResponse.mediaType&&"video"!==t.bidResponse.mediaType)return 1;if("video"!==e.bidResponse.mediaType&&"video"===t.bidResponse.mediaType)return-1}},lh=e=>{const t=Rt.currentValue?.geo?.country?.iso;if(e.mediaType===ca&&e.bidder===ih.Dailymotion_Smart&&("QA"===t||"KW"===t))return.5},{debug:ch}=ot.a.tag("dailymotion:set-config-action");(0,Qn.b)("dailymotion:set-config",(e=>{ch("Setting up Dailymotion bidder config with: ",e),_t.setBidderConfig({bidders:["dailymotion"],config:{dailymotion:e}})}));const ph=(0,ja.a)();let uh=(0,ja.a)();uh.resolve();const mh=(e,t,i)=>{const a=document.createDocumentFragment();for(const e of t){if((0,Et.j)(e)||""===e)continue;if((0,Et.q)(e)||(0,Et.l)(e)||(0,Et.e)(e)){a.append(document.createTextNode(`${e}`));continue}if((0,Et.c)(e)){mh(a,e,i);continue}if(e instanceof Element){a.append(e);continue}const t=bh(e,i);t&&a.append(t)}e.appendChild(a)},bh=(e,t)=>{if((0,Et.q)(e.type)){"svg"===e.type.toLowerCase()&&(t={...t,ns:"http://www.w3.org/2000/svg"});const{children:i,...a}=e.props,n=((e,t)=>t.ns?document.createElementNS(t.ns,e):document.createElement(e))(e.type,t);return((e,t)=>{for(const[i,a]of Object.entries(t))e.setAttribute("className"===i?"class":i,a)})(n,a),mh(n,i,t),n}{const i=e.type(e.props);return bh(i,t)}},fh=(e,t,...i)=>({type:e,props:{...t,children:i}}),gh=(0,gt.a)((()=>{(0,Ua.a)("hbv-native",'.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation{background:#fff;border:1px solid #ddd;box-sizing:border-box;display:grid;font-family:Roboto,sans-serif;font-size:12px;grid-template-areas:"m" "c" "a";grid-template-columns:1fr;grid-template-rows:min-content 44px auto;height:248px;position:relative;width:300px}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 a:active,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 a:hover,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 a:link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 a:visited,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 a:active,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 a:hover,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 a:link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 a:visited,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 a:active,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 a:hover,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 a:link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 a:visited,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation a:active,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation a:hover,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation a:link,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation a:visited,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation a:active,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation a:hover,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation a:link,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation a:visited,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 a:active,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 a:hover,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 a:link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 a:visited,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 a:active,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 a:hover,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 a:link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 a:visited,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 a:active,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 a:hover,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 a:link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 a:visited,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation a:active,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation a:hover,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation a:link,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation a:visited{border-bottom:0;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-media,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-media,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-media,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-media,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-media,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-media,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-media,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-media,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-media{grid-area:m;width:100%}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-media a,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-media a,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-media a,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-media a,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-media a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-media a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-media a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-media a,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-media a{align-content:center;display:flex;justify-content:center}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-media img,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-media img,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-media img,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-media img,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-media img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-media img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-media img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-media img,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-media img{aspect-ratio:1.91;display:block;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-ad,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-ad,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-ad,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-ad,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-ad,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-ad,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-ad,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-ad,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-ad{align-items:center;align-self:start;background-color:#f4b400;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,.5);color:#212121;display:flex;font-size:13px;grid-area:m;justify-self:left;margin:4px 0 0 4px;padding:0 3px;place-self:start left}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-title,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-title,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-title,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-title,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-title,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-title,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-title,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-title,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-title{font-size:12px;grid-area:c;height:43px;overflow:hidden;padding:4px 8px;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:3;-webkit-box-orient:vertical;border-bottom:1px solid #ddd;display:-webkit-box}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-title a,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-title a,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-title a,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-title a,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-title a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-title a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-title a,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-title a,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-title a{color:#212121;font-weight:400}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor{align-items:center;align-self:end;display:flex;flex-direction:row;grid-area:a;height:100%;justify-self:left;padding:8px;place-self:end left;width:100%}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-advertiser{color:#777;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta{margin-left:auto}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-cta-link{color:#4285f4;font-size:14px;font-weight:500;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo{margin-right:8px;width:22px}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-sponsor .hbv-sponsor-logo img{height:100%;width:100%}.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_1 .hbv-pixel,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_2 .hbv-pixel,.hbv-native-prebid-display_ads_desktop_300x250_atf_sticky_mpu_3 .hbv-pixel,.hbv-native-prebid-display_ads_desktop_300x250_atf_video_recommendation .hbv-pixel,.hbv-native-prebid-display_ads_mobile_300x250_atf_video_recommendation .hbv-pixel,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_1 .hbv-pixel,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_2 .hbv-pixel,.hbv-native-prebid-display_ads_tablet_300x250_atf_sticky_mpu_3 .hbv-pixel,.hbv-native-prebid-display_ads_tablet_300x250_atf_video_recommendation .hbv-pixel{position:absolute}.display_ads_tablet_320x50_atf_below_video_description,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player{background:#fff;border:1px solid #ddd;box-sizing:border-box;display:grid;font-family:Roboto,sans-serif;font-size:12px;grid-template-areas:"m c" "m a";grid-template-columns:auto 2fr;grid-template-rows:1fr;height:50px;position:relative;width:320px}.display_ads_tablet_320x50_atf_below_video_description a:active,.display_ads_tablet_320x50_atf_below_video_description a:hover,.display_ads_tablet_320x50_atf_below_video_description a:link,.display_ads_tablet_320x50_atf_below_video_description a:visited,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description a:active,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description a:hover,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description a:link,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description a:visited,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer a:active,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer a:hover,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer a:link,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer a:visited,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player a:active,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player a:hover,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player a:link,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player a:visited{border-bottom:0;-webkit-text-decoration:none;text-decoration:none}.display_ads_tablet_320x50_atf_below_video_description .hbv-media,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-media,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-media,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-media{grid-area:m;width:92px}.display_ads_tablet_320x50_atf_below_video_description .hbv-media a,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-media a,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-media a,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-media a{align-content:center;display:flex;justify-content:center}.display_ads_tablet_320x50_atf_below_video_description .hbv-media img,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-media img,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-media img,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-media img{aspect-ratio:1.91;display:block;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.display_ads_tablet_320x50_atf_below_video_description .hbv-ad,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-ad,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-ad,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-ad{align-items:center;align-self:start;background-color:#f4b400;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,.5);color:#212121;display:flex;font-size:13px;grid-area:m;justify-self:left;margin:4px 0 0 4px;padding:0 3px;place-self:start left}.display_ads_tablet_320x50_atf_below_video_description .hbv-title,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-title,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-title,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-title{font-size:12px;grid-area:c;overflow:hidden;padding:8px 8px 4px 6px;text-overflow:ellipsis;white-space:nowrap}.display_ads_tablet_320x50_atf_below_video_description .hbv-title a,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-title a,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-title a,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-title a{color:#212121;font-weight:500}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor{align-items:center;align-self:end;display:flex;flex-direction:row;grid-area:a;height:100%;justify-self:left;padding:8px 8px 4px 6px;place-self:end left;width:100%}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor .hbv-sponsor-advertiser{color:#777;font-size:10px;-webkit-text-decoration:none;text-decoration:none}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor .hbv-sponsor-cta,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor .hbv-sponsor-cta{margin-left:auto}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor .hbv-sponsor-cta-link{color:#4285f4;font-size:11px;font-weight:500;-webkit-text-decoration:none;text-decoration:none}.display_ads_tablet_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-sponsor .hbv-sponsor-logo{display:none}.display_ads_tablet_320x50_atf_below_video_description .hbv-pixel,.hbv-native-prebid-display_ads_desktop_320x50_atf_below_video_description .hbv-pixel,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_footer .hbv-pixel,.hbv-native-prebid-display_ads_mobile_320x50_atf_sticky_under_player .hbv-pixel{position:absolute}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer{background:#fff;border:1px solid #ddd;box-sizing:border-box;display:grid;font-family:Roboto,sans-serif;font-size:12px;grid-template-areas:"m c b" "m a b";grid-template-columns:min-content 3fr 1fr;grid-template-rows:1fr;height:90px;position:relative;width:728px}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer a:active,.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer a:hover,.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer a:link,.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer a:visited,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer a:active,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer a:hover,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer a:link,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer a:visited{border-bottom:0;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-media,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-media{grid-area:m;width:168px}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-media a,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-media a{align-content:center;display:flex;justify-content:center}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-media img,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-media img{aspect-ratio:1.91;display:block;height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-ad,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-ad{align-items:center;align-self:start;background-color:#f4b400;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,.5);color:#212121;display:flex;font-size:13px;grid-area:m;justify-self:left;margin:4px 0 0 4px;padding:0 3px;place-self:start left}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-title,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-title{font-size:20px;grid-area:c;overflow:hidden;padding:16px 16px 8px 12px;text-overflow:ellipsis;white-space:nowrap}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-title a,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-title a{color:#212121;font-weight:500}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor{align-items:center;align-self:end;display:flex;flex-direction:row;grid-area:a;height:100%;justify-self:left;padding:16px 16px 8px 12px;place-self:end left;width:100%}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-advertiser,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-advertiser{color:#777;font-size:12px;font-weight:400;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo{margin-right:10px;width:23px}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo img,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor .hbv-sponsor-logo img{height:100%;width:100%}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor-cta,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor-cta{border-left:1px solid #ddd;display:grid;grid-area:b}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-sponsor-cta .hbv-sponsor-cta-link,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-sponsor-cta .hbv-sponsor-cta-link{align-self:center;color:#4285f4;font-size:14px;font-weight:500;justify-self:center;place-self:center;-webkit-text-decoration:none;text-decoration:none}.hbv-native-prebid-display_ads_desktop_728x90_atf_sticky_footer .hbv-pixel,.hbv-native-prebid-display_ads_tablet_728x90_atf_sticky_footer .hbv-pixel{position:absolute}')})),yh=(e,{bidResponse:t})=>{gh();const{placementId:i}=t,a=document.getElementById(i);if(!a)throw new ya.b(ya.a.nativeAdserverPlacementInvalid,"dfpDiv wasn't found");const n=((e,t)=>{if((0,_a.b)(t))return((e,t)=>{const i=!!t.iconUrl,a=t.privacy&&fh("a",{href:t.privacy.optoutClickUrl,target:"_blank",rel:"noopener nofollow",style:"position: absolute; right: 0px; top: 0px;"},fh("img",{src:t.privacy.optoutImageUrl,style:"display:block"})),n=JSON.stringify(t.clickTrackers);return(e=>{const t=bh(e,{ns:void 0});if((0,Ua.i)(t))return t;throw new Error("vnode does not render to HTMLElement")})(fh("article",{class:`hbv-native-prebid-${e}`},a,t.impTrackers.map((e=>fh("img",{class:"hbv-pixel",src:e,width:"1",height:"1"}))),fh("div",{class:"hbv-media"},fh("a",{href:t.clickUrl,"data-hbv-clk":n,target:"_blank",rel:"noopener nofollow"},fh("img",{src:t.imageUrl}))),fh("div",{class:"hbv-ad"},"Ad"),fh("div",{class:"hbv-title"},fh("a",{href:t.clickUrl,"data-hbv-clk":n,target:"_blank",rel:"noopener nofollow"},t.title)),fh("div",{class:"hbv-sponsor"},i?fh("div",{class:"hbv-sponsor-logo"},fh("a",{href:t.clickUrl,"data-hbv-clk":n,target:"_blank",rel:"noopener nofollow"},fh("img",{src:t.iconUrl}))):void 0,t.sponsoredBy&&fh("a",{class:"hbv-sponsor-advertiser",href:t.clickUrl},t.sponsoredBy),fh("div",{class:"hbv-sponsor-cta"},fh("a",{class:"hbv-sponsor-cta-link",href:t.clickUrl,"data-hbv-clk":n,target:"_blank",rel:"noopener nofollow"},t.cta))),fh("div",{"data-hbv-jstracker":"",style:"display:none"})))})(e,{impTrackers:(i=t.prebid).impressionTrackers,clickUrl:i.clickUrl,clickTrackers:i.clickTrackers,title:i.title,body:i.body,cta:i.cta,iconUrl:i.icon?.url,imageUrl:i.image.url,sponsoredBy:i.sponsoredBy});var i;throw new Error("Unsupported native payload type")})(i,t.native);n.id=`hbv-native-${i}`;const r=(0,qa.a)(document,t,{creativeType:"native"});if(a.append(n,r),Zt.f){const e=document.createComment(` ${JSON.stringify(t.native,null,2)} `);a.append(e)}},{info:hh,debug:_h,error:vh}=ot.a.tag("visibility:refresh"),{info:Ih,debug:wh}=ot.a.tag("visibility:events:exposition"),Th=new Map,xh=[],Dh=(()=>{if(window.ontouchstart)return!0;const e=["-webkit-","-moz-","-o-","-ms-",""].map((e=>`(${e}touch-enabled)`)).join(", ");return matchMedia(e).matches})(),{debug:Sh}=ot.a.tag("visibility:events:focus"),Ch=()=>{const e=Dh?()=>ga.a:(e,t,i)=>{Sh(`${e.id||e.tagName}: start observing`);const a=t=>{Sh(`${e.id||e.tagName}: received '${t.type}'`),i({isFocus:"mouseenter"===t.type})},n=new Kn([Un(e,"mouseenter",a),Un(e,"mouseleave",a)]);return()=>{Sh(`${e.id||e.tagName}: disposing`),n.dispose()}};return(t,i,a)=>(a({canRefresh:!0}),e(t,i,(e=>a({canRefresh:!e.isFocus}))))},{debug:Eh,warn:Rh}=ot.a.tag("autorefresh:triggers:gam"),{debug:Ah,warn:kh}=ot.a.tag("autorefresh:triggers:sas");var Oh=i(81);const{debug:Mh}=ot.a.tag("autorefresh:triggers:hsc"),Bh=(e,t)=>{const i=yo(e);for(const e of Object.keys(i.strings).filter((e=>/^hbv?_/.test(e))))delete i.strings[e];for(const e of Object.keys(i.numbers).filter((e=>/^hbv?_/.test(e))))delete i.numbers[e];return i.strings.hb_rfs="true",i.numbers.hb_pn=`${t}`,go(i)},{debug:Ph}=ot.a.tag("visibility:events:timer"),Nh=new Map,Uh=[],qh=(e,t)=>{t.isTimedUp&&t.inView&&t.isVisible&&e({isVisible:!0})},{debug:jh}=ot.a.tag("visibility:events:basic-timer"),zh=new Map,$h=[],Fh=(e,t)=>{if(t.isTimedUp){try{const e=window.googletag?.pubads().getSlots().find((e=>e.getSlotElementId().endsWith("mpu_3")));e?.setTargeting("hbv_visible_placement_abtest",`${t.isVisible&&t.inView}`)}catch{}e({isVisible:!0})}},{debug:Lh,warn:Vh,error:Gh,info:Wh}=ot.a.tag("autorefresh"),Hh=e=>{if((0,xt.a)("no-refresh"))return ga.a;const t=e.additionalUnregisterListener??[];!1!==e.withUnregisterListener&&t.push((e=>{const t=t=>{const i=document.getElementById(t);if(!i)return Vh(`${t}: couldn't get element`);e(i)};return Br.on("didExcludePlacement",t),()=>{Br.off("didExcludePlacement",t)}}));const i=(0,xt.b)("autorefresh-duration")??e.autorefresh?.duration??30,a=e.autorefresh?.rootMargin,n=[Ch()],r=e.autorefresh?.visibleRatio??.5;"timer"===e.refreshListenerKind?n.push((e=>{const t=(e=>{const t=(0,Et.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of Uh)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(i,a,n)=>{const r=(0,Et.g)(e.visibleRatio)?e.visibleRatio(i,a):e.visibleRatio,o=t??new IntersectionObserver((e=>{for(const t of Uh)t(e)}),{threshold:[0,r,1],rootMargin:e.rootMargin,root:e.root}),s={timeoutId:-1,isTimedUp:!1,inView:!1,isVisible:"visible"===document.visibilityState};s.timeoutId=s.timeoutId>=0?s.timeoutId:((e,t,i,a)=>{const n=(0,Et.g)(a.duration)?a.duration(t):a.duration;return window.setTimeout((()=>{Ph(`${t.id||t.tagName}: timer was up for ${n}s`),e.isTimedUp=!0,qh(i,e)}),1e3*n)})(s,i,n,e);const d=e=>{const t=e.find((({target:e})=>e===i));if(!t)return;const{intersectionRatio:a,isIntersecting:o}=t;Ph(`${i.id||i.tagName}:`,{intersectionRatio:a,isIntersecting:o}),s.inView=o&&a>=r,qh(n,s)},l=()=>{const e="visible"===document.visibilityState;e&&Ph(`${i.id||i.tagName}: document visible`),s.isVisible=e,qh(n,s)};return document.addEventListener("visibilitychange",l),Uh.push(d),Nh.set(i,(Nh.get(i)??0)+1),o.observe(i),Ph(`${i.id||i.tagName}: start observing`),()=>{Ph(`${i.id||i.tagName}: disposing`),clearTimeout(s.timeoutId),document.removeEventListener("visibilitychange",l);const e=Uh.indexOf(d);e>=0&&Uh.splice(e,1);const t=Nh.get(i)??0;t>1?Nh.set(i,t-1):(Nh.delete(i),o.unobserve(i))}}})(e);return(e,i,a)=>t(e,i,(({isVisible:e})=>a({canRefresh:e})))})({visibleRatio:r,duration:i})):"basic-timer"===e.refreshListenerKind?n.push((e=>{const t=(e=>{const t=(0,Et.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of $h)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(i,a,n)=>{const r=(0,Et.g)(e.visibleRatio)?e.visibleRatio(i,a):e.visibleRatio,o=t??new IntersectionObserver((e=>{for(const t of $h)t(e)}),{threshold:[0,r,1],rootMargin:e.rootMargin,root:e.root}),s={timeoutId:-1,isTimedUp:!1,inView:!1,isVisible:"visible"===document.visibilityState};s.timeoutId=s.timeoutId>=0?s.timeoutId:((e,t,i,a)=>{const n=(0,Et.g)(a.duration)?a.duration(t):a.duration;return window.setTimeout((()=>{jh(`${t.id||t.tagName}: timer was up for ${n}s`),e.isTimedUp=!0,Fh(i,e)}),1e3*n)})(s,i,n,e);const d=e=>{const t=e.find((({target:e})=>e===i));if(!t)return;const{intersectionRatio:a,isIntersecting:o}=t;jh(`${i.id||i.tagName}:`,{intersectionRatio:a,isIntersecting:o}),s.inView=o&&a>=r,Fh(n,s)},l=()=>{const e="visible"===document.visibilityState;e&&jh(`${i.id||i.tagName}: document visible`),s.isVisible=e,Fh(n,s)};return document.addEventListener("visibilitychange",l),$h.push(d),zh.set(i,(zh.get(i)??0)+1),o.observe(i),jh(`${i.id||i.tagName}: start observing`),()=>{jh(`${i.id||i.tagName}: disposing`),clearTimeout(s.timeoutId),document.removeEventListener("visibilitychange",l);const e=$h.indexOf(d);e>=0&&$h.splice(e,1);const t=zh.get(i)??0;t>1?zh.set(i,t-1):(zh.delete(i),o.unobserve(i))}}})(e);return(e,i,a)=>t(e,i,(({isVisible:e})=>a({canRefresh:e})))})({visibleRatio:r,duration:i})):n.push((e=>{const t=(e=>{const t=(0,Et.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of xh)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(i,a,n)=>{const r=(0,Et.g)(e.visibleRatio)?e.visibleRatio(i,a):e.visibleRatio,o=t??new IntersectionObserver((e=>{for(const t of xh)t(e)}),{threshold:[0,r,1],rootMargin:e.rootMargin,root:e.root});let s;const d=t=>{const o=t.find((e=>e.target===i));if(!o)return;const d=o.isIntersecting??o.intersectionRatio>0;wh(`${i.id||i.tagName}:`,{intersectionRatio:o.intersectionRatio,isIntersecting:d});const l=s?.timer??((e,t,i,a)=>{const n=(0,Et.g)(a.duration)?a.duration(e,t):a.duration;return new Qr((()=>{Ih(`${e.id||e.tagName}: was visible ${n}s`),i({isVisible:!0})}),n)})(i,a,n,e),c=d&&o.intersectionRatio>=r;c?(Ih(`${i.id||i.tagName}: in view -> resuming timer (remaining: ${l.remaining}s)`),l.resume()):(Ih(`${i.id||i.tagName}: *not* in view -> pausing timer (remaining: ${l.remaining}s)`),l.pause()),s={timer:l,inView:c}},l=()=>{if(!s)return;const{timer:e,inView:t}=s;"visible"===document.visibilityState&&t?(wh(`${i.id||i.tagName}: document visible && in view -> resuming timer (remaining: ${e.remaining}s)`),e.resume()):(wh(`${i.id||i.tagName}: document *not* visible -> pausing timer (remaining: ${e.remaining}s)`),e.pause())};return document.addEventListener("visibilitychange",l),xh.push(d),Th.set(i,(Th.get(i)??0)+1),o.observe(i),wh(`${i.id||i.tagName}: start observing`),()=>{wh(`${i.id||i.tagName}: disposing`),document.removeEventListener("visibilitychange",l);const e=xh.indexOf(d);e>=0&&xh.splice(e,1);const t=Th.get(i)??0;t>1?Th.set(i,t-1):(Th.delete(i),o.unobserve(i)),s?.timer.pause(),s=void 0}}})(e);return(e,i,a)=>t(e,i,(({isVisible:e})=>a({canRefresh:e})))})({visibleRatio:r,duration:i,rootMargin:a}));const o=[];var s,d;return e.adservers.has("gam")&&o.push((s=e.gamCustom?.watchParent,d=e.autorefresh?.isRefreshAllowedForElement,e=>{let t=t=>{const i=t.slot.getSlotElementId(),a=document.getElementById(i);if(!a)return Rh(`${i}: couldn't get element`);if(Mr.has(i))return Eh(`${i}: excluded from refresh -> rejecting`);if(!1===d?.({element:a,elementId:i,kind:"gam",event:t}))return Eh(`${i}: filtered out -> rejecting`);const n=s&&a.parentElement?a.parentElement:a;e(n,{trigger:"gam",slot:t.slot,advertiserId:t.advertiserId})};return(0,oo.b)((e=>{e.pubads().addEventListener("slotRenderEnded",(e=>{t?.(e)}))})),()=>{t=void 0}})),e.adservers.has("sas")&&o.push((e=>t=>{const i=i=>{const{tagId:a,formatId:n}=i,r=document.getElementById(a);return r?Mr.has(a)?Ah(`${a}: excluded from refresh -> rejecting`):!1===e?.({element:r,elementId:a,kind:"sas",event:i})?Ah(`${a}: filtered out -> rejecting`):void t(r,{trigger:"sas",formatId:n}):kh(`${a}: couldn't get element`)};return mo.on("ad",i),mo.on("holisticAd",i),()=>{mo.off("ad",i),mo.off("holisticAd",i)}})(e.autorefresh?.isRefreshAllowedForElement)),e.adservers.has("hsc")&&o.push((e=>t=>{const i=({placementId:i,bidResponse:a,renderingDiv:n,isGamBypass:r,isSmartNoAd:o})=>{if(!o&&n)return Mr.has(i)||Mr.has(n.id)?Mh(`${i}: excluded from refresh -> rejecting`):!1===e?.({placementId:i,element:n,elementId:n.id,kind:"hsc",bidResponse:a,isGamBypass:r})?Mh(`${n.id||n.tagName}: filtered out -> rejecting`):void t(n,{trigger:"hsc",bidResponse:a,placementId:i,isGamBypass:r,isSmartNoAd:o})};return Oh.a.on("hsc-render",i),Oh.a.on("hsc-no-content",i),()=>{Oh.a.off("hsc-render",i),Oh.a.off("hsc-no-content",i)}})(e.autorefresh?.isRefreshAllowedForElement)),Wh("set up auto refresh"),((e,t,i,a,n)=>{if(!(0,Zt.b)()||Jn.a)return hh("autorefresh is disabled"),ga.a;const r=n?.throttleDuration??.2,o=new Map,s=(e=0)=>({needsUpdate:!1,states:new Array(i.length).fill(!1),refreshCount:e}),d=In((()=>{const e=[];_h("fetching elements to update with observedElements",o);for(const[t,{state:i,context:a,maxRefreshCount:n}]of o){const{needsUpdate:r,states:o,refreshCount:s}=i;r&&(!n||s<n)&&o.every((e=>!0===e))&&e.push({element:t,refreshCount:s,context:a})}if(0===e.length)return _h("no element to update");hh("elements to update",e);try{a(e)}catch(e){(0,ha.a)(e,"error handling autorefresh")}for(const{element:t}of e){const e=o.get(t);if(!e)continue;const{state:i,disposables:a}=e;for(const e of a)e();a.splice(0,a.length),delete e.context;const n=i.refreshCount+1;e.state=s(n),e.maxRefreshCount&&n>=e.maxRefreshCount&&_h(`element '${t.id||t.tagName}' was refreshed ${e.maxRefreshCount} times: this element won't be refreshed anymore`)}}),r,{leading:!1}),l=t.map((e=>e((e=>{const t=o.get(e);if(t){_h("unregistering element",e.id||e.tagName);for(const e of t.disposables)e();t.disposables.splice(0,t.disposables.length),o.delete(e)}else vh("can't unregister element",e.id||e.tagName)})))),c=e.map((e=>e(((e,t)=>{(({element:e,context:t},i)=>{const a=o.get(e);if(a){const n=a.state.refreshCount;if(a.maxRefreshCount&&n>=a.maxRefreshCount)_h(`${e.id||e.tagName}: element already refreshed ${a.maxRefreshCount} times, rejecting`);else{_h(`${e.id||e.tagName}: already observed ${n} times'}, restarting observers`),a.context=t;for(const e of a.disposables)e();a.disposables.push(...i())}}else{_h(`${e.id||e.tagName}: add initial state, starting observers`);const a=(0,Et.g)(n?.maxRefreshCount)?n?.maxRefreshCount(e):n?.maxRefreshCount,r={state:s(),disposables:[],context:t,maxRefreshCount:a};o.set(e,r),r.disposables.push(...i())}})({element:e,context:t},(()=>i.map(((i,a)=>i(e,t,(({canRefresh:t})=>{((e,t,i)=>{const a=o.get(e);a&&(a.state.needsUpdate=!a.maxRefreshCount||a.state.refreshCount<a.maxRefreshCount,a.state.states[i]=t)})(e,t,a),d()}))))))}))));return()=>{_h("disposing");for(const e of l)e();for(const e of c)e();o.forEach((({disposables:e})=>{for(const t of e)t()})),o.clear()}})(o,t,n,(e=>async t=>{const i=Fn(t,(e=>"hsc"===e.context?.trigger&&e.context.isGamBypass?"gam":e.context?.trigger)),a=new Set;let n;if(i.gam){n=((e,t)=>e.gamCustom?.getElementIdsToRefresh?.(t))(e,i.gam);for(const e of n??i.gam)"gam"===e.context?.trigger?a.add(e.context.slot.getSlotElementId()):a.add(e.element.id)}if(i.hsc)for(const e of i.hsc){const t=e.context;a.add(t.bidResponse?.placementId??t.placementId)}const r=[];if(i.sas)try{const e=window.sas?.events.history("call")??[],t=new Set(i.sas.map((({element:e})=>e.id)));r.push(...bo(e,t));for(const e of r)a.add(e.formatId)}catch(e){reportError(new ya.b(ya.a.unexpected,e))}if(await Wo(Mt.b.visibility,a),i.sas)for(const e of i.sas){if(Lh("lastCalls:",r),0===r.length)return Vh("couldn't match element(s) to update with calls history");const t=r.find((t=>e.element.id===t.tagId));if(!t)return Gh(`couldn't get refresh's data from slot ${e.element.id}`);const{siteId:i,formatId:a,pageId:n,target:o,tagId:s}=t,d=e.refreshCount+2;window.sas?.clean(a),window.sas?.call("std",{siteId:i,pageId:Number(n),formatId:a,tagId:s,target:Bh(o,d)})}if(i.gam){const t=e.gamCustom?.getGamSlots?.(i.gam)??window.googletag?.pubads().getSlots();for(const a of n??i.gam){const i="gam"===a.context.trigger&&e.gamCustom?.watchParent?a.context.slot:t?.find((e=>a.element.id===e.getSlotElementId()));if(!i)return;i.setTargeting("hbv_pn",`${a.refreshCount+2}`),i.setTargeting("hbv_rfs","true");const n=e.gamCustom?.additionalTargetings?.(a.refreshCount);if(n)for(const[e,t]of Object.entries(n))(0,Et.i)(t)?i.setTargeting(e,t):i.clearTargeting(e);e.gamCustom?.beforeRefresh?.(i),window.googletag?.pubads().refresh(i)}}})(e),{maxRefreshCount:e.autorefresh?.maxRefreshCount})},Kh="display_ads_mobile_300x250_atf_video_recommendation",Xh="display_ads_mobile_320x50_atf_sticky_under_player",Jh="display_ads_mobile_320x50_atf_sticky_footer",Qh="display_ads_desktop_300x250_atf_sticky_mpu_1",Yh="display_ads_desktop_300x250_atf_sticky_mpu_2",Zh="display_ads_desktop_300x250_atf_sticky_mpu_3",e_="display_ads_tablet_300x250_atf_sticky_mpu_1",t_="display_ads_tablet_300x250_atf_sticky_mpu_2",i_="display_ads_tablet_300x250_atf_sticky_mpu_3",a_="preroll",n_="midroll",r_="postroll",o_=()=>{const e=[],t=e=>{const t=e.getElementsByTagName("iframe")[0];if(t&&t.dataset.hbvDisplayFormat===_a.a.outstream){const e=t.dataset.hbvVastXmlDurationInSeconds;if(e)return parseInt(e,10)+1}return 10};return e.push(Hh({adservers:new Set(["gam"]),withUnregisterListener:!1,refreshListenerKind:"timer",autorefresh:{duration:t,maxRefreshCount:700,isRefreshAllowedForElement:e=>e.elementId!==Zh&&e.elementId!==i_},gamCustom:{watchParent:!0}})),e.push(Hh({adservers:new Set(["gam"]),withUnregisterListener:!1,refreshListenerKind:0===th?"timer":"basic-timer",autorefresh:{duration:t,maxRefreshCount:700,isRefreshAllowedForElement:e=>e.elementId===Zh||e.elementId===i_},gamCustom:{watchParent:!0}})),e},s_="desktop",d_="mobile",l_="tablet",c_="tv",p_=new class{#Ua=s_;get device(){return this.#Ua}set device(e){this.#Ua=e}},{debug:u_,warn:m_}=ot.a.tag("dailymotion:setup-gam"),b_=async()=>{if(!(0,Et.i)(window.googletag?.apiReady))try{await(0,Ea.a)("https://securepubads.g.doubleclick.net/tag/js/gpt.js")}catch(e){throw m_("failed to load gpt! Aborting all.",e),e}},f_=(0,gt.a)((e=>{e.pubads().disableInitialLoad(),e.pubads().enableSingleRequest(),e.enableServices()})),g_=e=>{const t=e.pubads().getSlots();u_("destroying all slots"),e.destroySlots(t)},y_=()=>"visible"===document.visibilityState,h_={enabled:!0,topInset:80,bottomInset:16},__=!0,v_=new Set([ih.Dailymotion_Amazon,ih.Dailymotion_Freewheel,ih.Dailymotion_Mediasquare,ih.Dailymotion_NextMillennium,ih.Dailymotion_Prisma,ih.Dailymotion_Smart,ih.Dailymotion_Choueiri_Equativ,ih.Dailymotion_Teads]),I_={pre:a_,mid:n_,post:r_},w_={startDelay:void 0},{error:T_,debug:x_}=ot.a.tag("dailymotion:new-page-action");let D_=[];const S_=(0,gt.a)((e=>{let t=0;document.addEventListener("visibilitychange",(async()=>{if(y_()){const i=Date.now()-t;if(t=0,i>1e3&&e.getSlots().length>0){for(const e of D_)e();await Wo(Mt.b.visibility),e.refresh(),D_=o_()}}else t=Date.now()}))}));(0,Qn.b)("dailymotion:new-page",(async e=>{const t=(e=>{return x_("parsing info",e),t=e,(0,Et.m)(t)&&(e=>(0,Et.c)(e)&&e.every(Et.c))(t.additionalGlobalTargetings)&&(e=>e===d_||e===s_||e===l_||e===c_)(t.device)&&(0,Et.e)(t.noad)&&((0,Et.j)(t.coppa)||(0,Et.l)(t.coppa))&&((0,Et.j)(t.ccpa)||(0,Et.q)(t.ccpa))&&((0,Et.j)(t.ppid)||(0,Et.q)(t.ppid))?e:(T_("info given is not of the expected format! Falling back to noad page."),{additionalGlobalTargetings:[],device:s_,noad:!0});var t})(e);p_.device=t.device,Me.g.setConsentData(t.ccpa||null);const[i]=await Promise.all([oo.a,b_(),ph.promise]);for(const e of D_)e();if(t.noad)return x_("noad page: destroying dfp slots"),void g_(i);const a=i.pubads();var n;a.clearTargeting(),(n=t.ppid)&&(ah.ppid[0]={source:"www.dailymotion.com",uids:[{id:n,atype:1,ext:{stype:"ppuid"}}]}),a.setTargeting("hbv_mpu_margin",t.abtests?.neon_small_mpu_margins?"true":"false");for(const e of t.additionalGlobalTargetings)a.setTargeting(...e);const r=(0,Et.i)(t.coppa)?!!t.coppa:t.coppa;_t.setConfig({coppa:r}),a.setPrivacySettings({childDirectedTreatment:r}),await uh.promise,await Wo(Mt.b.pageView),a.refresh(),D_=o_(),S_(a)})),(0,Qn.b)("dailymotion:instream",(async e=>{uh=(0,ja.a)(),Me.g.setConsentData(e.ccpa||null);const t=new Set([I_[e.roll.kind]]),i=(0,Et.i)(e.coppa)?!!e.coppa:e.coppa;_t.setConfig({coppa:i}),w_.startDelay=e.roll.startDelay,await ph.promise,await Wo(Mt.b.pageView,t),uh.resolve()}));const C_=["g123.jp"],E_=["IAB25-2","IAB25-3","IAB25-4","IAB25-5","IAB25-6","IAB25-7","IAB26","IAB26-1","IAB26-2","IAB26-3","IAB26-4"],R_=(e,t)=>{if(t.bidder===ih.Dailymotion_OpenX||t.bidder===ih.Dailymotion_Smart)return{useSandbox:!0}},A_=async(e,t)=>{if(t.refreshReason===Mt.b.pageView)return(async e=>{const t=e.filter((e=>e.rendering?.renderer!==Na.a.instream));if(0!==t.length)try{u_("setting up GAM");const e=await oo.a;g_(e);const i=t.map((t=>((e,t)=>{if(t.rendering&&(0,Na.d)(t.rendering.dfp)&&(0,Na.c)(t.rendering.dfp)){const i=t.rendering.dfp.adUnitPath,a=t.rendering.dfp.elementId,n=t.bidRequest.mediaTypes.banner?.sizes??[];return e.defineSlot(i,[...n,[1,1]],a).addService(e.pubads())}})(e,t))).filter(Et.i),a=await(async e=>{const t=e.map((e=>e.getSlotElementId()));return(0,Yr.b)((0,Yr.a)({interval:.1,maxTryCount:300}),(()=>{for(let e=0;e<t.length;++e){const i=document.getElementById(t[e]);if(i)return i}}))})(i);a||m_("couldn' retrieve any dfp div, will try to continue anyway"),((e,t)=>{f_(e),u_(`displaying ${t.length} slots`,t);for(const i of t)i.setTargeting("hbv_pn","1"),e.display(i)})(e,i)}catch(e){m_("failed to setup gam",e)}else m_("no placements for which to setup GAM tagging")})(t.placements)},k_=e=>{if(!e.length)return".";let t=e.length-1;for(;t&&"/"===e[t];t--);for(e=e.substring(0,t+1);t&&"/"!==e[t-1];t--);return e.substring(t)};var O_=i(39);const M_=(e,t)=>t.find((t=>t?.renderingOptions&&((e,t,i)=>{const a=t.dfp;return!(!(0,Na.c)(a)||!(0,O_.b)(a.adUnitPath,i.getAdUnitPath()))||!(!(0,Na.d)(a)||!(0,O_.b)(a.elementId,i.getSlotElementId()))||!(!(0,Na.e)(a)||!(0,O_.b)(a.match,i.getAdUnitPath(),i.getSlotElementId()))||(0,O_.b)(e,i.getAdUnitPath(),i.getSlotElementId())})(t.placementId,t.renderingOptions,e))),B_=e=>{if(e.rendering&&(0,Na.c)(e.rendering.dfp)){const{adUnitPath:t}=e.rendering.dfp;if((0,Et.q)(t))return k_(t)}},P_=e=>/\d+x\d+/.exec(e)?.pop(),N_=e=>{if(e.rendering&&(0,Na.d)(e.rendering.dfp)){const{elementId:t}=e.rendering.dfp;if((0,Et.q)(t))return t}},{debug:U_,warn:q_}=ot.a.tag("dailymotion:events"),j_=new Set,z_=new Set,$_=new Set;(0,Qn.b)("dailymotion:hubvisor-inventory:listen",(e=>{j_.add(e)})),(0,Qn.b)("dailymotion:hubvisor-inventory:discard",(e=>{j_.delete(e)})),(0,Qn.b)("dailymotion:hubvisor-response:listen",(e=>{z_.add(e)})),(0,Qn.b)("dailymotion:hubvisor-response:discard",(e=>{z_.delete(e)})),(0,Qn.b)("dailymotion:hubvisor-viewability:listen",(e=>{$_.add(e)})),(0,Qn.b)("dailymotion:hubvisor-viewability:discard",(e=>{$_.delete(e)}));const F_=(0,gt.a)((e=>{U_("initializing events");const t={};(0,oo.b)((e=>e.pubads().addEventListener("slotRenderEnded",(e=>{(e=>{const{slot:i}=e,a=M_(i,Object.values(t));if((0,Et.r)(a))return void q_("Couldn't retrieve data for this render event");const n=i.getSlotElementId(),r={format:P_(n),ad_served:!e.isEmpty,position:/^.*([abm]tf.*$)/.exec(n)?.pop(),GAM_ad_unit:k_(i.getAdUnitPath()),cpm:void 0,currency:void 0,bidder:void 0,dfp:{advertiserId:e.advertiserId??void 0,lineItemId:e.lineItemId??void 0,creativeId:e.creativeId??void 0},uuid:a.uuid,refresh_count:a.refreshCount,activetab:y_(),device:a.device};a.isHubvisorImpression?(r.cpm=a.resolvedBidResponse.bidResponse.cpm,r.currency=a.resolvedBidResponse.bidResponse.currency,r.bidder=a.resolvedBidResponse.bidResponse.bidder):(r.bidder="dfp",r.cpm=a.resolvedBidResponse?a.resolvedBidResponse.bidResponse.cpm+.01:void 0,r.currency="USD");for(const e of z_)e(r)})?.(e)})))),(0,oo.b)((e=>e.pubads().addEventListener("impressionViewable",(e=>{const{slot:i}=e,a=M_(i,Object.values(t));if((0,Et.r)(a))return void q_("Couldn't retrieve data for this viewability event");const n=i.getSlotElementId(),r={format:P_(n),position:/^.*([abm]tf.*$)/.exec(n)?.pop(),GAM_ad_unit:k_(i.getAdUnitPath()),uuid:a.uuid,activetab:y_(),device:a.device};for(const e of $_)e(r)})))),e.on(ei.a.auctionStarted,(e=>{for(const a of e.config.placements){const{placementId:n}=a,r=((i=t[n])?i.refreshCount:0)+1,o=(0,pt.b)();t[n]={uuid:o,refreshCount:r,renderingOptions:a.rendering,isHubvisorImpression:!1,placementId:n,resolvedBidResponse:void 0,device:e.config.context.layout};const s=!!a.rendering?.instream,d=N_(a),l=/^.*([abm]tf.*$)/.exec(d??""),c={format:s?"instream":P_(d??""),position:s?"instream":l?.pop(),GAM_ad_unit:B_(a),uuid:o,refresh_count:r,activetab:y_(),device:e.config.context.layout};for(const e of j_)e(c)}var i})),e.on(ei.a.renderRequested,(e=>{for(const i of e.renderRequests){const e=t[i.renderable.placement.placementId];if(!e)continue;const a=i.renderable.content.sort(((e,t)=>t.cpmAdjustment.adjustedCpm-e.cpmAdjustment.adjustedCpm))[0];a&&(e.resolvedBidResponse?a.cpmAdjustment.adjustedCpm>e.resolvedBidResponse.cpmAdjustment.adjustedCpm&&(e.resolvedBidResponse=a):e.resolvedBidResponse=a)}})),e.on(ei.a.impression,(e=>{const{placementId:i}=e.renderable.placement,a=t[i];(0,Et.r)(a)?q_(`hubvisor won the impression for placement '${i}' but it wasn't registered on auction event`):(U_(`hubvisor won the impression for placement '${i}'`),a.isHubvisorImpression=!0,a.resolvedBidResponse=e.renderable.content)}))})),L_=e=>(F_(e.bus),Yy(e.config.context.supportCode)),V_=(e,t)=>{if("native"===t.content.bidResponse.mediaType){const t=e.defaultView?.frameElement;(0,Ua.h)(t)&&(t.style.display="none")}},G_=new DOMParser,W_=(e,t)=>{const{bidResponse:i}=t.content,a=i.bidder===ih.Dailymotion_Teads,n="video"===i.mediaType,r=e.defaultView?.frameElement;if((0,Ua.h)(r)&&i.displayFormat===_a.a.outstream){r.dataset.hbvDisplayFormat=i.displayFormat;const e=(e=>{if(e)try{const t=G_.parseFromString(e,"text/xml").querySelector("Duration");return t?.textContent?.split(":").reverse().map(((e,t)=>parseInt(e,10)*60**t)).reduce(((e,t)=>e+t))||35}catch{}return 35})(i.vastXml);r.dataset.hbvVastXmlDurationInSeconds=`${e}`}(a||n)&&((e,t)=>{const i=document.getElementById(t.placementId);if(!i)throw new ya.b(ya.a.videoWrapperDivNotFound,`videoDiv not found in the DOM for ${t.placementId}`);const a=(0,qa.a)(document,t,{creativeType:"video"});i.append(a)})(0,i)},H_=(e,t,i)=>{if(t.size<=0)return e;const a=((e,t)=>{if(t?.gamAdUnitPath)return window.googletag?.pubads().getSlots().filter((t=>e.has(t.getSlotElementId()))).map((e=>e.getAdUnitPath()))})(t,i);return e.filter((e=>{const n=i?.gamAdUnitPath&&(0,Na.c)(e.rendering?.dfp)&&(0,O_.b)(e.rendering?.dfp.adUnitPath,...a??[],...t),r=i?.gamElement&&(0,Na.d)(e.rendering?.dfp)&&(0,O_.b)(e.rendering?.dfp.elementId,...t),o=i?.instream&&e.rendering?.instream?.playerId&&t.has(e.rendering.instream.playerId),s=i?.generic&&e.rendering?.generic?.id&&t.has(e.rendering.generic.id),d=i?.placementId&&t.has(e.placementId),l=i?.smartFormatId&&e.rendering?.sas?.formatId&&(0,Bt.a)(e.rendering?.sas?.formatId).some((e=>t.has(`${e}`))),c=i?.hscSelector&&e.rendering?.hsc?.selector&&(0,Et.q)(e.rendering?.hsc?.selector)&&t.has(e.rendering.hsc.selector.replace("#",""));return n||r||o||s||d||l||c}))},K_=e=>{const t=e.placementId.indexOf("atf_");return{organizationId:"1363",site:"display_dailymotion",placement:-1===t?void 0:e.placementId.substring(t),adUnitElementId:e.placementId}},X_="dailymotion",J_="unknown",Q_={[Fy]:X_,[$y]:X_,[Ly]:X_,[Vy]:X_,[Gy]:X_,[Wy]:X_,[Hy]:J_},Y_=e=>Q_[Ky(e)],Z_={image:{required:!0},title:{required:!0},sponsoredBy:{required:!1},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}},ev={desktop:{pave:[[300,250]],outstream:[300,250],ban:[[728,90]],tinyBan:[[320,50],[300,50],[216,36]]},mobile:{pave:[[300,600],[320,480],[300,250]],tinyBan:[[320,50],[300,50],[216,36]],outstream:[300,250]},tablet:{pave:[[300,250]],outstream:[300,250],ban:[[728,90]],tinyBan:[[320,50],[300,50],[216,36]]}},tv="cpm.qortex.ai",iv=[{placementId:Qh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Qh,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_1"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_1"}},mediaTypes:{banner:{sizes:ev.desktop.pave},outstream:{playerSize:ev.desktop.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554525}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004679},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005851},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005837},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755082},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755059},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622438,pageId:1894502,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756742,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283495},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895252}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928035},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459830,zoneId:2695292,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"781596886"}},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-1-gdpr_atf_pave_desktop"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-1-gdpr_native_native_desktop"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_1_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_1_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42454",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602897},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892672},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_1_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609028,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609072,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209729},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396105",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"wJBKiYB9MwON29Z4Yi1dcO5X",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717974,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720551,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720665,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096547"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181914,pageId:167076}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_1_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_1_outstream_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223032},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223544},allowedMediaTypes:["outstream"]}]}},{placementId:Yh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Yh,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_2"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_2"}},mediaTypes:{banner:{sizes:ev.desktop.pave},outstream:{playerSize:ev.desktop.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554526}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004680},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005852},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005838},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755083},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755061},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622438,pageId:1894502,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756744,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283498},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895253}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928036},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459830,zoneId:2695294,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"273576562"}},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-2-gdpr_atf_pave_desktop"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-2-gdpr_native_native_desktop"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_2_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_2_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42490",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602898},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892673},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_2_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609073,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209734},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396106",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"MrHK2q0kMUoSW7pYX0xFMyq3",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717975,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720553,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720667,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096548"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181915,pageId:167077}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_2_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_2_outstream_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223042},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223549},allowedMediaTypes:["outstream"]}]}},{placementId:Zh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Zh,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_3"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_3"}},mediaTypes:{banner:{sizes:ev.desktop.pave},outstream:{playerSize:ev.desktop.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554527}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004681},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005853},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005839},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755084},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755062},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756746,video:{size_id:203}}},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622438,pageId:1894502,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283501},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895254}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928037},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459830,zoneId:2695296,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"195315902"}},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-3-gdpr_atf_pave_desktop"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-3-gdpr_native_native_desktop"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42491",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602899},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892674},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609074,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209730},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396108",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"P47DZmaD8Ka2T76QFED0at1s",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717976,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720555,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720669,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096549"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181916,pageId:167078}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_3_outstream_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223048},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223561},allowedMediaTypes:["outstream"]}]}}],av={desktop:iv,mobile:[{placementId:Kh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Kh,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_300x250_atf_video_recommendation"},richMedia:{useSandbox:__,parallax:h_},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_300x250_atf_video_recommendation"}},mediaTypes:{banner:{sizes:ev.mobile.pave},native:Z_,outstream:{playerSize:ev.mobile.outstream}},bids:[{bidder:ih["152media_xandr"],params:{placementId:18357367}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004693},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005865},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005849},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755096},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755072},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_video_recommendation"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amx,params:{tagId:"ZGFpbHltb3Rpb24uY29t"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622440,pageId:1894548,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756794,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:394732},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Invibes,params:{placementId:"invibes_dailymotion_mpu_300x250_gdpr",customEndpoint:"https://bid3.videostep.com/Bid/VideoAdContent"}},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:257478,zoneId:1344850,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"337756474"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"784988315"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_video-recommandation-gdpr_video_outstream_mobile"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_video-recommandation-gdpr_native_native_mobile"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_300x250_atf_video_recommendation_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_300x250_atf_video_recommendation_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42460",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:540797199},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_video_recommendation_300x250_native"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"dailymotion_mobile_300x250_europe"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609153,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609160,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209736},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396103",publisherId:"7385-4269-01",placement:"inArticle"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"D1yVZdKMxfQkDT4az3LRWoed",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1152647,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1157780,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1342133,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Teads,params:{placementId:114122,pageId:105431},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Teads,params:{placementId:114122,pageId:105431},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_300x250_Prebid_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_outstream_PB"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223474},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223681},allowedMediaTypes:["outstream"]}]}},{placementId:Xh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Xh,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_under_player"},richMedia:{useSandbox:__}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_under_player"}},mediaTypes:{banner:{sizes:ev.mobile.tinyBan},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:19007937}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004692},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005864},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Amazon,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755095},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756792}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:76001},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:502017},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:326180,zoneId:1695830,position:"atf"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"613410642"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-underplayer-gdpr_atf_banner_mobile"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-underplayer-gdpr_native_native_mobile"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_320x50_atf_under_player_GDPR"}},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42459",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:541036768},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_sticky_under_player_320x50_native"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"dailymotion_mobile_320x50_europe"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609152,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209733}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396112",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1225351,formatId:90143},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"754757"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Teads,params:{placementId:127902,pageId:117799},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_320x50_Prebid_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223460}}]}},{placementId:Jh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Jh,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_footer"},richMedia:{useSandbox:__}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_footer"}},mediaTypes:{banner:{sizes:ev.mobile.tinyBan},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:18022140}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004691},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005863},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755094},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amx,params:{tagId:"MTUybWVkaWEuY29t"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756790}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:688094},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:257478,zoneId:2104910,position:"atf"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"629942461"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_320x50_atf_footer_GDPR"}},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42458",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:545657701},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_sticky_footer_320x50_native"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"dailymotion_mobile_320x50_Adhesion_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609151,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209731}},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:236506},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396102",publisherId:"7385-4269-01",placement:"Inscreen"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"hZK9F1Ta5B8uQ0s6ynSgnJLJ",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1407857,formatId:90143},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"932582"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Teads,params:{placementId:127902,pageId:117799},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_320x50_Prebid_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223456}}]}}],tablet:[{placementId:e_,rendering:{renderer:Na.a.dfp,dfp:{elementId:e_,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_1"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_1"}},mediaTypes:{banner:{sizes:ev.tablet.pave},outstream:{playerSize:ev.tablet.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554533}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004685},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005857},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005843},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755088},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755066},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756766,video:{size_id:203}}},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622439,pageId:1894504,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283513},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895258}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928041},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459832,zoneId:2695314,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"781596886"}},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-1-gdpr_atf_pave_tablet"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-1-gdpr_native_native_tablet"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_1_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_1_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42456",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602903},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892678},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_1_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609087,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209736},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255445}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396109",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"Z58mFf79HhcW1FyWY5sT9uyW",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717980,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720955,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720949,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096553"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181920,pageId:167082}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_1_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_1_outstream_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223076},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223606},allowedMediaTypes:["outstream"]}]}},{placementId:t_,rendering:{renderer:Na.a.dfp,dfp:{elementId:t_,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_2"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_2"}},mediaTypes:{banner:{sizes:ev.tablet.pave},outstream:{playerSize:ev.tablet.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554534}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004686},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005858},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005844},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755089},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755067},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622439,pageId:1894504,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756768,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283516},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895259}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928042},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459832,zoneId:2695312,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"273576562"}},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-2-gdpr_atf_pave_tablet"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-2-gdpr_native_native_tablet"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_2_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_2_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42494",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602904},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892679},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_2_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609088,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209737},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255445}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396110",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"J6DPxkYCNnKUOxmaJFnSNG0c",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717981,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720956,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720950,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096554"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181921,pageId:167083}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_2_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_2_outstream_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223089},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223618},allowedMediaTypes:["outstream"]}]}},{placementId:i_,rendering:{renderer:Na.a.dfp,dfp:{elementId:i_,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_3"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_3"}},mediaTypes:{banner:{sizes:ev.tablet.pave},outstream:{playerSize:ev.tablet.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554535}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004687},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005859},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005845},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755090},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755068},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622439,pageId:1894504,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756770,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283519},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895260}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928043},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459832,zoneId:2695310,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"195315902"}},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-3-gdpr_atf_pave_tablet"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Mediasquare,params:{owner:"dailymotion",code:"dailymotion.fr_sticky-mpu-3-gdpr_native_native_tablet"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_3_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42495",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602905},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892682},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_3_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609089,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209735},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255445}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396111",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"EE4n1CzgPEtlteOhG0x0hfmy",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717982,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720957,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720951,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096555"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181922,pageId:167084}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_3_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_3_outstream_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223093},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223624},allowedMediaTypes:["outstream"]}]}}],tv:iv},nv=[{placementId:Qh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Qh,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_1"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_1"}},mediaTypes:{banner:{sizes:ev.desktop.pave},outstream:{playerSize:ev.desktop.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554528}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004682},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005854},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005840},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_33across,params:{siteId:"cZe9JeEW4r7ykIrkHcnnVW",productId:"siab"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_33across,params:{siteId:"dH_FnYE9Sr7yocrkHcnnVW",productId:"siab",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755085},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755063},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622438,pageId:1894502,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756754,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283504},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895255}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928038},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459830,zoneId:2695298,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"307107919"}},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_1_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_1_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42455",group_id:"1228"}},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602900},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892675},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_1_not_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609075,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609078,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209729},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255443}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396105",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"0qGaIKvG7acXohWE7bn4jqkt",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717977,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720552,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720666,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096550"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181917,pageId:167079}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_1_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_1_outstream_not_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223052},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223566},allowedMediaTypes:["outstream"]}]}},{placementId:Yh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Yh,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_2"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_2"}},mediaTypes:{banner:{sizes:ev.desktop.pave},outstream:{playerSize:ev.desktop.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554531}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004683},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005855},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005841},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_33across,params:{siteId:"dxTNe8EW4r7yk1rkHcnlxd",productId:"siab"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_33across,params:{siteId:"dPmxFwE9Sr7yocrkHcnnVW",productId:"siab",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755086},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755064},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622438,pageId:1894502,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756756,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283507},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895256}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928039},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459830,zoneId:2695300,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"274206062"}},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_2_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_2_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42492",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602901},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892676},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_2_not_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609077,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209734},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255442}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396106",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"bdG25WsDRMzvsPKFa6HxSDw8",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717978,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720554,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720668,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096551"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181918,pageId:167080}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_2_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_2_outstream_not_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223058},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223573},allowedMediaTypes:["outstream"]}]}},{placementId:Zh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Zh,adUnitPath:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_3"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Desktop_300x250_atf_sticky_mpu_3"}},mediaTypes:{banner:{sizes:ev.desktop.pave},outstream:{playerSize:ev.desktop.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554532}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004684},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005856},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005842},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_33across,params:{siteId:"d3S2IGEW4r7yoqrkHcnnVW",productId:"siab"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_33across,params:{siteId:"dVwlP6E9Sr7yocrkHcnnVW",productId:"siab",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755087},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755065},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_desktop_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756758,video:{size_id:203}}},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622438,pageId:1894502,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283510},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895257}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928040},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459830,zoneId:2695302,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"994840179"}},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_desktop_300x250_atf_mpu_3_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42493",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602902},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892677},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_desktop_300x250_atf_sticky_mpu_3_not_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609076,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209730},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255443}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396108",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"Xxe3285ecLCw10KNfCSjru9a",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717979,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720556,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720670,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096552"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181919,pageId:167081}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_desktop_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_desktop_300x250_atf_sticky_mpu_3_outstream_not_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223067},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223584},allowedMediaTypes:["outstream"]}]}}],rv={desktop:nv,mobile:[{placementId:Kh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Kh,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_300x250_atf_video_recommendation"},richMedia:{useSandbox:__,parallax:h_},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_300x250_atf_video_recommendation"}},mediaTypes:{banner:{sizes:ev.mobile.pave},native:Z_,outstream:{playerSize:ev.mobile.outstream}},bids:[{bidder:ih["152media_xandr"],params:{placementId:18357375}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004696},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005868},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005850},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396103",publisherId:"7385-4269-01",placement:"inarticle"}},{bidder:ih.Dailymotion_33across,params:{siteId:"awcHuqfQ4r6Q5WaKlId8sQ",productId:"siab"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_33across,params:{siteId:"dmWgYMM7mr64ksaKjGFx_2",productId:"siab",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755099},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755073},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_video_recommendation"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amx,params:{tagId:"ZGFpbHltb3Rpb24uY29t"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622440,pageId:1894548,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756800,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:18740383},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:28324},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:393278},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Invibes,params:{placementId:"invibes_dailymotion_mpu_300x250_not_gdpr",customEndpoint:"https://bid3.videostep.com/Bid/VideoAdContent"}},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:257478,zoneId:1278310,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"337756474"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"784988315"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_300x250_atf_video_recommendation_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_300x250_atf_video_recommendation_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42462",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:540773132},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_video_recommendation_300x250_native"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"dailymotion_mobile_300x250_1"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609156,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609157,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209736},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:86141},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"wScxEqqkCQVsDjXH5rRBMWkA",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1152648,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1157781,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1342132,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Teads,params:{placementId:107986,pageId:99714},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Teads,params:{placementId:107986,pageId:99714},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_300x250_Prebid"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_outstream_PB"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223490},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223693},allowedMediaTypes:["outstream"]}]}},{placementId:Xh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Xh,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_under_player"},richMedia:{useSandbox:__}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_under_player"}},mediaTypes:{banner:{sizes:ev.mobile.tinyBan},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:19007931}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004695},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005867},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_33across,params:{siteId:"dOJjVqDcWr6Qr5aKlId8sQ",productId:"siab"}},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755098},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756798}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:76001},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:502021},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:326180,zoneId:1695828,position:"atf"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"613410642"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_320x50_atf_under_player_not_GDPR"}},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42461",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:541036767},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_sticky_under_player_320x50_native"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"dailymotion_mobile_320x50_1"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609155,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209733}},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:210191},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396112",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1225352,formatId:90143},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"754757"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Teads,params:{placementId:127906,pageId:117803},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_320x50_Prebid"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223484}}]}},{placementId:Jh,rendering:{renderer:Na.a.dfp,dfp:{elementId:Jh,adUnitPath:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_footer"},richMedia:{useSandbox:__}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Mobile_320x50_atf_sticky_footer"}},mediaTypes:{banner:{sizes:ev.mobile.tinyBan},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:18022140}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004694},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005866},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_33across,params:{siteId:"dsBkau60Wr64o4aKjGFx_2",productId:"inview"}},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755097},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amx,params:{tagId:"MTUybWVkaWEuY29t"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756796}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Criteo_Native,params:{zoneId:1610435},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:688095},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:257478,zoneId:2104912,position:"atf"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"629942461"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_mobile_320x50_atf_footer_not_GDPR"}},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42463",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:545657700},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Outbrain_Native,params:{publisher:{id:"00ce0681ca61fddc2b71d00363a7d1aa52"},tagid:"ATF-3/display_web_mobile_atf_sticky_footer_320x50_native"},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"dailymotion_mobile_320x50_Adhesion_Non-GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609154,publisherId:6474332}},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209731}},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:236507},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396102",publisherId:"7385-4269-01",placement:"Inscreen"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"uYSInIZVP41hbNAP8WtpmjHt",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1407858,formatId:90143},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"932583"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Teads,params:{placementId:127906,pageId:117803},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_Mobile_320x50_Prebid"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223480}}]}}],tablet:[{placementId:e_,rendering:{renderer:Na.a.dfp,dfp:{elementId:e_,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_1"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_1"}},mediaTypes:{banner:{sizes:ev.tablet.pave},outstream:{playerSize:ev.tablet.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554536}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004688},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005860},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005846},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_33across,params:{siteId:"b71NNIEW8r7ykIrkHcnnVW",productId:"siab"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_33across,params:{siteId:"afZeUmE9Wr7yocrkHcnnVW",productId:"siab",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755091},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755069},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_1"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622439,pageId:1894504,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756778,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283522},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895261}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928044},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459832,zoneId:2695308,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"307107919"}},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_1_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_1_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42457",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602906},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892683},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_1_not_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609090,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609103,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209732},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255444}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396109",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"TL206ZqYHKfgIpIUNrVRdEGJ",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717983,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720958,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720952,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096556"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181923,pageId:167085}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_1_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_1_outstream_not_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223099},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223632},allowedMediaTypes:["outstream"]}]}},{placementId:t_,rendering:{renderer:Na.a.dfp,dfp:{elementId:t_,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_2"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_2"}},mediaTypes:{banner:{sizes:ev.tablet.pave},outstream:{playerSize:ev.tablet.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554537}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004689},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005861},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005847},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_33across,params:{siteId:"cxV1zwEW8r7ykPrkHcnlxd",productId:"siab"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_33across,params:{siteId:"ancWhGE9Wr7yocrkHcnnVW",productId:"siab",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755092},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755070},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_2"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622439,pageId:1894504,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756780,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283525},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895262}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928045},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459832,zoneId:2695306,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"274206062"}},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_2_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_2_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42496",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602907},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892684},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_2_not_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609116,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609129,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209737},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255444}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396110",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"UQTayAk2DtjadrEtpTFeabHR",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717984,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720959,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720953,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096557"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181924,pageId:167086}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_2_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_2_outstream_not_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223110},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223639},allowedMediaTypes:["outstream"]}]}},{placementId:i_,rendering:{renderer:Na.a.dfp,dfp:{elementId:i_,adUnitPath:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_3"},richMedia:{useSandbox:Zt.c},outstream:{hasRollover:!1}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/Display_Web_$REGION$_Tablet_300x250_atf_sticky_mpu_3"}},mediaTypes:{banner:{sizes:ev.tablet.pave},outstream:{playerSize:ev.tablet.outstream},native:Z_},bids:[{bidder:ih["152media_xandr"],params:{placementId:28554538}},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23004690},allowedMediaTypes:["banner"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005862},allowedMediaTypes:["native"]},{bidder:ih.Azerion_ImproveDigital,params:{placementId:23005848},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_33across,params:{siteId:"c7icruEW8r7BjnrkHcnlKl",productId:"siab"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_33across,params:{siteId:"atvZ3kE9Wr7yocrkHcnnVW",productId:"siab",video:{linearity:1}},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Adagio,params:{},allowedMediaTypes:["outstream","banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755093},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Adform,params:{mid:1755071},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"ads_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Amazon,params:{slotId:"display_ads_tablet_300x250_atf_sticky_mpu_3"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Equativ,params:{networkId:4520,siteId:622439,pageId:1894504,formatId:126874},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Choueiri_Magnite,params:{position:"atf",accountId:14138,siteId:390184,zoneId:2756782,video:{size_id:203}}},{bidder:ih.Dailymotion_Criteo,params:{networkId:10941},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:33283528},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Gumgum,params:{inSlot:895263}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:928046},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:459832,zoneId:2695304,position:"atf"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_Medianet,params:{cid:"8CU303DQ7",crid:"994840179"}},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_MinuteMedia,params:{org:"01gcemy099a9",placementId:"display_ads_tablet_300x250_atf_mpu_3_not_GDPR_outstream"},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"42497",group_id:"1228"}},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["native"]},{bidder:ih.Dailymotion_Nexx360,params:{},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_NoBid_Banner,params:{siteId:51694},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_NoBid_Video,params:{siteId:51694},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_OneTag,params:{pubId:"1ec7255533fd883"}},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558602908},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_OpenX,params:{delDomain:"dailymotionbo-d.openx.net",unit:558892685},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Prisma,params:{}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"display_ads_tablet_300x250_atf_sticky_mpu_3_not_GDPR"},allowedMediaTypes:["banner","outstream"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609144,publisherId:6474332},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_PubVentures,params:{placementId:30609143,publisherId:6474332},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Qortex,params:{host:tv,zoneId:209735},allowedMediaTypes:["banner","native"]},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:255444}},{bidder:ih.Dailymotion_RTBhouse,params:{}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31396111",publisherId:"7385-4269-01",placement:"inBanner"}},{bidder:ih.Dailymotion_Sharethrough,params:{pkey:"iqpTymvERmhlObpYnjfZvjfV",iframe:!0}},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1717985,formatId:85180},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720960,formatId:85645},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Smart,params:{networkId:3330,siteId:325741,pageId:1720954,formatId:123994},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_Sovrn,params:{tagid:"1096558"}},{bidder:ih.Dailymotion_Teads,params:{placementId:181925,pageId:167087}},{bidder:ih.Dailymotion_TripleLift_Native,params:{inventoryCode:"Dailymotion_tablet_300x250_atf_mpu_3_not_GDPR"},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_TripleLift_Outstream,params:{inventoryCode:"Dailymotion_display_ads_tablet_300x250_atf_sticky_mpu_3_outstream_not_GDPR"},formatterParams:{isVideo:!0},allowedMediaTypes:["outstream"]},{bidder:ih.Dailymotion_TTD,params:{}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65017ce430490b7a43771d58",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223115},allowedMediaTypes:["banner"]},{bidder:ih.Dailymotion_Xandr,params:{placementId:29223649},allowedMediaTypes:["outstream"]}]}}],tv:nv},ov={[s_]:{[By]:["h0tp94gv","b6kxsgo9","hbatpmsu"],[Oy]:["zwwv9h0c","otbxjota","fzgyu1ls"],[Ay]:["fohps0bj","xme3w741","5x4junqz"],[ky]:["ed6jszgv","zdbv7fy5","qeslffzo"],[My]:["rtvqpipx","mr5h9tio","w3cq5yoe"],[Ry]:["k5wsicsb","nqt4ouhq","to8ybaov"]},[l_]:{[By]:["crm9wlhu","lycgltan","ureqvyfo"],[Oy]:["vayuphgk","nluotpuv","kx1uzl3d"],[Ay]:["yvwbyamd","sj8v0ues","wwcy4ta6"],[ky]:["h8sszkbl","eeausd8h","wbzrghyk"],[My]:["n7ir9auc","h9fd2ef0","6nujzmph"],[Ry]:["dmpa5aix","p9gxqkmd","v0ua6nni"]},[d_]:{[By]:["1xg6cmby","ytyrnbo4","gefoxwwb"],[Oy]:["mt17wdti","v85u9l7j","uczhyij0"],[Ay]:["hnoeql4c","4lirh0yf","igiamz3w"],[ky]:["6xrern8l","esncohie","sk9p0uz3"],[My]:["po7n10ew","lj1pvur0","bnun27fw"],[Ry]:["9ml2y6sg","jahyxoyb","ioga8tpj"]}};ov[c_]=ov[s_];const sv={[s_]:{[Ry]:{"non-gdpr":{banner:["e8avol7p","3ktrtbua","8iyqpmjx"],outstream:["r1cyumj9","8chjxmmr","uamyrigt"],native:["zdbhp7l5","wdpiasul","8l25s4gn"]}},[Ay]:{"non-gdpr":{banner:["2izdql46","ldroxkpq","im1nhvyo"],outstream:["ieftadkb","pft5i3nq","f5tx9hrx"],native:["wqzlqzue","sf89bojl","mfnzjvic"]}},[ky]:{"non-gdpr":{banner:["xdoozr4d","0c2t9xkd","2kgvpd4m"],outstream:["qugnjo63","1lyzbjoi","vw0joe16"],native:["l6c0fzgo","d9tgwnqx","e8z0odu5"]},gdpr:{banner:["toj7lsy3","wi6ftgul","yrlho0uw"],outstream:["ddyz2a5i","byuxtcgs","hw6flnaa"],native:["va7fzjmz","berhco7w","7jw6lnox"]}},[Oy]:{gdpr:{banner:["bvwyi0hz","ljfcd3kq","0e4r2rbg"],outstream:["epixjq3v","uw2esu5k","erqw4yps"],native:["c5uazxp9","oecsgktq","cq3n6pnq"]}},[My]:{"non-gdpr":{banner:["thj5muov","5xps9qla","karr1j3h"],outstream:["ynk3fwgx","lcu4xo5m","dxnyfrja"],native:["joyclfmh","ga0l5eli","oebhkkjy"]},gdpr:{banner:["snfczrad","gb2xcieq","rwx3coqs"],outstream:["yb1s4nhw","pn0yvjmb","mfzwyetw"],native:["hqeacpz9","hupi3ktn","ylwmjxkp"]}},[By]:{"non-gdpr":{banner:["sph90knx","omebggva","2wnrsg0w"],outstream:["h4jk8msw","ewubqh6o","yj31opex"],native:["mwddk90o","ktp9zmcs","y6oiluv0"]}}},[l_]:{[Ry]:{"non-gdpr":{banner:["9uat43kl","kw54tmyc","0mimbo8k"],outstream:["hanbwjnt","lwjd9leo","ap4w97gv"],native:["v1oycai6","ja29bgli","snomlgq7"]}},[Ay]:{"non-gdpr":{banner:["etkjfsq5","0oi5fehr","jl5k9vmo"],outstream:["itluz7m2","kyu3j1b5","hlerk9xr"],native:["1kwvzsym","zheika40","6n8kbfnd"]}},[ky]:{"non-gdpr":{banner:["6fl413nb","sf2bytaa","k7x8wfi2"],outstream:["tiawneyg","ifxjolec","hgvcwuiy"],native:["juqd4qmv","8pzxbku4","savyxbk5"]},gdpr:{banner:["n6hi81vj","gse2paod","uorwv4bk"],outstream:["jzy5shjf","hbmcn8pg","agdrbte0"],native:["unw92pvk","yufqocdr","7ygbsoqc"]}},[Oy]:{gdpr:{banner:["d8angsmy","nxqqi7st","wdihdti7"],outstream:["w65utseu","0reuq5nw","yte4tfiq"],native:["8u4nap2g","turreptk","t7ectfy6"]}},[My]:{"non-gdpr":{banner:["pusjlior","oiibcpza","hmy4ldna"],outstream:["sqjxx2d0","tqyij1xb","ohrtzmaa"],native:["iypoz5ax","sgkqlqy1","zypilmla"]},gdpr:{banner:["5pnxopxc","wzyhem3p","gefmcw6g"],outstream:["ylyksdh3","jpyzur7g","z2s4rheb"],native:["ol7wfdgk","zjcocu4s","0xmdmsyn"]}},[By]:{"non-gdpr":{banner:["ewxkjucm","yrwrepql","1yqzah3c"],outstream:["zwupqxy0","copradwk","pxcrhjry"],native:["ol1lnkw8","rfcj7htu","qqehphg9"]}}},[d_]:{[Ry]:{"non-gdpr":{banner:["8th7kbh2","tiaks7ua","2yrcvl8m"],outstream:["xkkrzjgo","",""],native:["qefmpfc5","5necbjxd","dbewsnh2"]}},[Ay]:{"non-gdpr":{banner:["aly1mc9s","k9vzx5h6","grw2bxh0"],outstream:["mnzwpxlz","",""],native:["ya2wbrz4","m0gryspt","biub25dy"]}},[ky]:{"non-gdpr":{banner:["tuh4icgp","fan5qbli","1viknwcj"],outstream:["zheowfo3","",""],native:["85l3acdg","8cievksy","ujqe6lsk"]},gdpr:{banner:["ganrq6ix","m70ytlap","0sevo4kh"],outstream:["sinb9rtb","",""],native:["3htei5ib","32cavxqd","fadunqht"]}},[Oy]:{gdpr:{banner:["4o6pljo8","qs1hjo8p","46pzuslf"],outstream:["lbdospky","",""],native:["n3rkvzq0","m1dyrleu","y8xnarhd"]}},[My]:{"non-gdpr":{banner:["ctdailga","taiwrmfq","nsvguhjq"],outstream:["q1wkjy0t","",""],native:["mys3krwc","isfvz9ef","rg3zmwgs"]},gdpr:{banner:["xu0acoxp","oksbfhyu","h8lcj7a0"],outstream:["kqqdzxbe","",""],native:["c2sa9lg1","qsrmhpbk","rvt2yzul"]}},[By]:{"non-gdpr":{banner:["4fundbty","londee7q","o1vni0uh"],outstream:["hhyf5wsx","",""],native:["kiaduxcc","ycgo2698","d2vm6dts"]}}}};sv[c_]=sv[s_];const dv={[ih["152media_xandr"]]:new Set(["US","JP","FR","CH","GB","CL","CA","BR","SA","DE","ES","AU","NL","TR","EC","MX","AE","TN","CO","IT","BE","AT","SE","PL","MY","NZ","ZA","AR","PE"]),[ih.Azerion_ImproveDigital]:new Set(["AX","AL","AD","AI","AT","BY","BE","BM","BQ","BA","IO","VG","BG","KY","MF","CW","HR","CZ","DK","EE","EU","FK","FO","FI","FR","FX","GF","PF","TF","GP","MQ","YT","NC","RE","PM","WF","DE","GI","GR","GL","GG","VA","HU","IS","IE","IM","IT","JE","XK","LV","LI","LT","LU","MK","MT","MD","MC","ME","MS","AN","NL","SX","BV","NO","PN","PL","PT","RO","RU","SH","SM","RS","YU","SK","SI","GS","ES","SJ","SE","CH","TC","GB","UA","AU"]),[ih.Dailymotion_33across]:new Set(["US"]),[ih.Dailymotion_Amx]:new Set(["US","GB","ES","CA","JP","NL","DE"]),[ih.Dailymotion_Criteo]:new Set(["TR","US","GB","FR","DE","CA","ES","AU","SA","AE","CH","MX","PE","CO","IT","JP","AT","CL","SE","NL","KR","ZA","PL","IN","BE"]),[ih.Dailymotion_Freewheel]:new Set(["US","CH","FR","TR","ES","EG","SA","LB","IL","CA","JO","DE","CL","JP","EC","AU","GB","AE","IN","IT","BR","TW","MX","IE","SE","CO","VN","NO","PL","AR"]),[ih.Dailymotion_Gumgum]:new Set(["US","JO","DE","IN","CA","GB","ES","AU","CL","VN","CO","MX","JP","FR","PE","SA","TR","EC","MY","ID","MA"]),[ih.Dailymotion_IndexExchange]:new Set(["US","GB","CA","TR","SA","AU","DE","AE","FR","IN","ES","MX","CL","IT","CH","PH","TH","JP","SE","EC","CO","BD","ID","TN","AR","BR","AT","SG","DZ","BE","ZA","PL","RO","MA","VN","GR","PE","MY","NL","PK","NZ","FI","PR","IE","HK","RS","IL","KW","IQ","TW","UZ","PT","BG","JO","NO"]),[ih.Dailymotion_Magnite]:new Set(["US","TR","DE","GB","SA","ES","FR","AU","MX","CA","AT","CH","AE","ID","IT","SE","IN","JP","MY","PL","PK","NZ","JO","CL","CO","MA","BR","LB","NL","SG","AR","CY","BE","EC","PR","PH","ZA","TH","DK","KW","IQ","GT","PE","RO","FI","IE","BG","NO","PT","CR","DO","KR","UA","HK","GR","HU","CZ","IL","EG","UZ","SK","BH","LV","TN","DZ","VN","YE","OM","LT","PA","MM","BD","QA","EE","GE","KE","RS"]),[ih.Dailymotion_Medianet]:new Set(["US","IN","CA","JP","MX","ES","SA","DE","AE","FR","GB","BR","CL","AU","AR","CO","TR","IT","IL","CH","EC","MY","PE","PH","AT","PR","ZA","TH","CY","PL","ID","MA","NZ","SG","DO","BE","UZ","CR","UA","UY","GT","JO"]),[ih.Dailymotion_Mediasquare]:new Set(["FR"]),[ih.Dailymotion_MinuteMedia]:new Set(["US","CA","MX","AU","NZ"]),[ih.Dailymotion_OneTag]:new Set(["US","SA","FR","DE","GB","NL","SE","AE","CH","IT","AR","BE","SG","CL","TR","AU","CA","ES","AT"]),[ih.Dailymotion_OpenX]:new Set(["US","TR","GB","DE","SA","ES","AU","JO","CA","AT","PE","FR","AE","CH","SE","MX","IT","IN","CL","JP","PL","BR","VN","BD","PH","NL","TH","PR","CO","BG","ZA","NP","AR","MY","BE","PT","DZ","MA","TN","HK","RO","NZ","DK"]),[ih.Dailymotion_Prisma]:new Set(["US","SA","CA","GB","FR","AE","AU","DE","CO","ES","MX","BR","CH","IL","AR","HK","AT","NL","PE","SG","CL","SE","BE","NZ","DK","EC","IT","TH","GT","MY","ZA","PR","NO","TR","ID","IE","GR","PH","DO","VE","RO","CR","UY","NP","FI","PL","BO","CY"]),[ih.Dailymotion_Pubmatic]:new Set(["US","GB","PH","AU","DE","CA","ES","FR","CH","TH","AR","AT","BE","ID","BR","IT","SE","JP","PE","BD","NL","DO","ZA","SG","BG","UY","NZ","HK","MY","PR","PK"]),[ih.Dailymotion_RhythmOne]:new Set(["US","BR","AU","DE","CA","CH","GB","JP","FR","SG","NZ"]),[ih.Dailymotion_Sharethrough]:new Set(["US","CA","DE","GB","ES","FR","IT"]),[ih.Dailymotion_Smart]:new Set(["US","SA","FR","DE","ES","IN","AE","CH","GB","BR","CA","MX","AU","CO","IT","CL","SG","EC","SE","KW","PA","MY","GR","HK","BE","AT","ID","QA","PR","JP","UZ","NL","GT","NZ","PH","NI","UY","PL","CR","ZA","PY","SV","RO","TT","KR","FI","BG"]),[ih.Dailymotion_Sovrn]:new Set(["US","AU","SA","DE","TR","ES","CA","SG","AE","IN","BR","JP","MX","NZ","GB","CH","IT","MY","JO","FR","HK","ID","CO","AT","SE","AR","CL","PH","IL","LB","TH","PE","EG","NL","BE","KW","ZA","FI","RO","DK","MA","OM","PL","NO","TN","QA"]),[ih.Dailymotion_Teads]:new Set(["SA","US","IN","CA","FR","VN","MX","MA","ES","DE","GB","AE","CH","PE","PH","CO","PY","TH","JP","MY","AU","CL","IL","GR","IT","ID","QA","KW","EC","BE","DO","SG","AT","TR","NL","RO","GT","KR","EG","DZ","BR","TN","PL","AR","OM","SE","HN","PA","HK","CR","RS","CZ","HR","SV","ZA","PT","HU","JO","NZ","MK","LB","NO"]),[ih.Dailymotion_TripleLift_Native]:new Set(["US","DE","GB","TR","FR","SA","CA","AE","JP","IT","CL","CO","AU","PE","AR","MX","EC","BR","JO","CH","SG"]),[ih.Dailymotion_TripleLift_Outstream]:new Set(["US","TR","SA","AE","FR","JP","DE","ES","GB","EC","UZ","MX","KW","BR"]),[ih.Dailymotion_Xandr]:new Set(["US","GB","BR"])};dv[ih.Dailymotion_Criteo_Native]=dv[ih.Dailymotion_Criteo];const lv=(0,gt.a)((e=>{let t="";switch(e){case Ry:t="3";break;case Ay:case My:case By:t="2"}return`adx${t}.adform.net`})),cv=(e,t)=>{const{layout:i,publisherBrand:a}=e;if(a===J_)return[];const n=t?.geo?.country?.iso,r=t?.geo?.country?.region,o=zy(n,r);if(o===Py)return[];const s=rt.a.currentValue?.tcData?.gdprApplies??window.__GKS__?.NEON_GDPR??!0,d=(s?av:rv)[i]??[];if(0===d.length)return d;const l=o===Oy?"France":o,c=JSON.parse(JSON.stringify(d).replace(/\$REGION\$/g,l));(e=>{for(const t of e){const e=t.bidRequest.bids.find((e=>e.bidder===ih.Dailymotion_Adagio));e&&(e.params=K_(t))}})(c),((e,t,i)=>{const a=ov[t][i];for(let t=0;t<e.length;++t){const i=e[t].bidRequest.bids.find((e=>e.bidder===ih.Dailymotion_Prisma));i&&(i.params={account:1086,tagId:a[t]})}})(c,i,o),((e,t,i,a)=>{const n=sv[t][i][a?"gdpr":"non-gdpr"];for(let t=0;t<e.length;++t){const i=e[t].bidRequest.bids.filter((e=>e.bidder===ih.Dailymotion_Nexx360));for(const e of i)if(1===e?.allowedMediaTypes?.length){const[i]=e.allowedMediaTypes;e.params={tagId:n[i]?.[t]}}}})(c,i,o,s);const p=new Set(eh()?v_:[]);if((!Zy()||Zy()&&eh())&&(p.add(ih.Dailymotion_TripleLift_Native),p.add(ih.Dailymotion_TripleLift_Outstream)),(0,Ot.b)()&&(p.add(ih.Dailymotion_Criteo),p.add(ih.Dailymotion_Criteo_Native)),Zt.d)for(const e of c){e.bidRequest.bids=e.bidRequest.bids.filter((({bidder:e})=>{const t=dv[e],i=t&&!!n&&!t.has(n);return!p.has(e)&&!i}));for(const t of e.bidRequest.bids)t.bidder===ih.Dailymotion_Adform&&(t.params.adxDomain=lv(o)),t.bidder===ih.Dailymotion_NextMillennium&&delete t.params.group_id}if(Jn.a){const e=new Set([ih["152media_xandr"],ih.Dailymotion_33across,ih.Dailymotion_Amazon,ih.Dailymotion_Amx,ih.Dailymotion_Gumgum,ih.Dailymotion_IndexExchange,ih.Dailymotion_Magnite,ih.Dailymotion_OneTag,ih.Dailymotion_OpenX,ih.Dailymotion_Pubmatic,ih.Dailymotion_RhythmOne,ih.Dailymotion_Sharethrough,ih.Dailymotion_Smart,ih.Dailymotion_Sovrn,ih.Dailymotion_Teads,ih.Dailymotion_Xandr]),t={[ih["152media_xandr"]]:["banner"],[ih.Dailymotion_IndexExchange]:["banner"],[ih.Dailymotion_Pubmatic]:["banner"],[ih.Dailymotion_Smart]:["banner"]},i=new Set([Kh,Xh]);return c.filter((({placementId:e})=>i.has(e))).map((i=>{const a=i.bidRequest.bids.filter((({bidder:t})=>e.has(t))).map((e=>{const i=t[e.bidder];return(0,Et.r)(i)?e:{...e,allowedMediaTypes:i}}));return{...i,bidRequest:{...i.bidRequest,bids:a}}}))}return c.filter((({placementId:e})=>!(o===Oy&&e===Jh&&!(0,xt.a)("sticky-footer"))))},pv=({refreshReason:e,requestedPlacements:t,clientCtx:i})=>{const a=(e=>({pageZone:"ros",layout:p_.device,supportCode:Ky(e),publisherBrand:Y_(e),networkCode:"dailymotion"}))(i),[n]=t;return{context:a,placements:n?.includes("roll")?(()=>{const e=[{placementId:a_,rendering:{renderer:Na.a.instream,instream:{playerId:"player",slotId:"instream"}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/PrebidOnsitePreroll"}},mediaTypes:{instream:{playerSize:[640,480],openRtbParams:{startdelay:w_.startDelay??0}}},bids:[{bidder:ih.dailymotion,params:{}},{bidder:ih.Dailymotion_Amazon,params:{slotId:"Instream_APS_Prebid",slotName:"Instream_APS_Prebid"}},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:25931554}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:776051}},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:410358,zoneId:2305826}},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"49403",group_id:"1228"}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"Instream_Prebid_PoC_0x0_ATF"}},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:237221}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31224285",publisherId:"7385-4269-01",placement:"inStream"}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65095fc52854c461afdfeff1",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:31740550}},{bidder:ih.Dailymotion_Yieldlab,params:{adslotId:"EN_dailymotion.com_video_instream_pre-roll",supplyId:"31582717"}},{bidder:"hubvisor",params:{type:"video"}}]}},{placementId:n_,rendering:{renderer:Na.a.instream,instream:{playerId:"player",slotId:"instream"}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/PrebidOnsiteMidroll"}},mediaTypes:{instream:{playerSize:[640,480],openRtbParams:{startdelay:w_.startDelay??-1}}},bids:[{bidder:ih.dailymotion,params:{}},{bidder:ih.Dailymotion_Amazon,params:{slotId:"Instream_APS_Prebid",slotName:"Instream_APS_Prebid"}},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:25931554}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:776051}},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:410358,zoneId:2305826}},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"49404",group_id:"1228"}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"Instream_Prebid_PoC_0x0_ATF"}},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:237221}},{bidder:ih.Dailymotion_Seedtag,params:{adUnitId:"31320935",publisherId:"7385-4269-01",placement:"inStream"}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65095fc52854c461afdfeff1",pid:"59ac17c192832d0011283fe3"}},{bidder:ih.Dailymotion_Xandr,params:{placementId:31740551}},{bidder:ih.Dailymotion_Yieldlab,params:{adslotId:"EN_dailymotion.com_video_instream_mid-roll",supplyId:"31582741"}},{bidder:"hubvisor",params:{type:"video"}}]}},{placementId:r_,rendering:{renderer:Na.a.instream,instream:{playerId:"player",slotId:"instream"}},bidRequest:{ortb2Imp:{ext:{gpid:"/23328537/PrebidOnsitePostroll"}},mediaTypes:{instream:{playerSize:[640,480],openRtbParams:{startdelay:w_.startDelay??-2}}},bids:[{bidder:ih.dailymotion,params:{}},{bidder:ih.Dailymotion_Amazon,params:{slotId:"Instream_APS_Prebid",slotName:"Instream_APS_Prebid"}},{bidder:ih.Dailymotion_Freewheel,params:{zoneId:25931554}},{bidder:ih.Dailymotion_IndexExchange,params:{siteId:776051}},{bidder:ih.Dailymotion_Magnite,params:{accountId:8769,siteId:410358,zoneId:2305826}},{bidder:ih.Dailymotion_NextMillennium,params:{placement_id:"49405",group_id:"1228"}},{bidder:ih.Dailymotion_Pubmatic,params:{publisherId:"158131",adSlot:"Instream_Prebid_PoC_0x0_ATF"}},{bidder:ih.Dailymotion_RhythmOne,params:{siteId:237221}},{bidder:ih.Dailymotion_Vidazoo,params:{cid:"65095fc52854c461afdfeff1",pid:"59ac17c192832d0011283fe3"}},{bidder:"hubvisor",params:{type:"video"}}]}}],t=eh();for(const i of e)i.bidRequest.bids=i.bidRequest.bids.filter((({bidder:e})=>!(t&&v_.has(e)||"hubvisor"===e&&!(0,xt.a)("enable-test-bidder"))));return e})().filter((({placementId:e})=>e===n)):H_(cv(a,i),t,{gamElement:!0}),refreshReason:e}},{error:uv}=ot.a.tag("dailymotion"),mv={consent:"local-storage",noConsent:"in-memory"},bv=()=>{const e=window.__GKS__?.NEON_GDPR;return(0,Et.e)(e)?{enabled:e,uspEnabled:!e}:{enabled:!0,uspEnabled:!0,consentTimeout:1/0,cmpTimeout:.5,shouldSkipAuctionOnConsentFailure:!1}};(async()=>{b_().catch(ga.a),await(async e=>{Wn.hubvisorUntilInitDuration(performance.now());const t=performance.now();return window.Hubvisor?.ready?Lo("Hubvisor has already been loaded on this website: this is an error and should be fixed"):((Vo||Go)&&Fo("init was called more than once: please use refresh after first initialization"),Go=await e,Vo=ro({options:Go,refresh:Wo}),(0,Ct.a)(Vo.settings),Wn.init(performance.now()-t),wo(Vo.settings.secondChance),Vo.settings.shouldPerformInitialAuction?Wo(Mt.b.pageView):void 0)})({amazon:{pubId:"dc86dcea-bef5-4256-aa8a-6fea2c32e545"},overrideBidPriority:dh,additionalTargetings:oh,bidderAliases:sh,buildRefreshOptions:pv,cpmMultiplier:lh,consent:bv(),dfp2:{shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1},ortb:{publisherName:"Dailymotion",publisherDomain:"dailymotion.com",domainBlocklist:C_,contentBlocklist:E_},nativeRendering:yh,publisherId:"01EZWD1S0HKM48S35DDHP8C9C1",support:Ky(Rt.currentValue),strictGdprSettings:!0,preAuctionStep:L_,postAuctionStep:A_,preRenderStep:W_,overrideRichMediaSettings:R_,secondChance:{adserver:"dfp",enabled:!0,mode:"boolean"},postRenderStep:V_,shouldPerformInitialAuction:!1,storagePolicy:{settings:{consent:mv,dynamicTimeout:mv,clientContext:mv,remoteConfiguration:mv,tdid:mv,intrastitial:mv},custom:{hasConsent:e=>(0,st.d)(e.tcData,st.a.storageAccess)&&(0,st.c)(e.tcData,573)}},userSync:{prisma:{enabled:!0},adagio:{enabled:!0,useIframes:!0},nexx360:{enabled:!0,useIframes:!0},noBid:{enabled:!0,useIframes:!0},ppid:"www.dailymotion.com",pubProvidedId:{eidsFunction:nh}},schains:[{bidders:[ih["152media_xandr"]],nodes:[{asi:"152media.info",sid:"152M12",hp:1}]},{bidders:[ih.Dailymotion_Choueiri_Magnite,ih.Dailymotion_Choueiri_Equativ],nodes:[{asi:"dms-cg.com",sid:"21",hp:1}]}],floors:Qy===Jy?{fields:[],values:[]}:void 0,shouldUseDynamicFloors:Ey}),ph.resolve()})().catch((e=>uv("Hubvisor init failed",e)))},(e,t,i)=>{i.d(t,{a:()=>s});var a=i(53);const n=e=>e?e.split("&").reduce(((e,t)=>{try{const[i,a]=t.split("=").map(decodeURIComponent);i&&(e[i]=a)}catch{}return e}),{}):{},r=()=>a.a.tryCatch((()=>n(location.hash.replace(/^#/,"")))).value??{};a.a.tryCatch((()=>n(location.search.replace(/^\?/,"")))).value;let o=r();addEventListener("hashchange",(()=>{o=r()}));const s=()=>o},(e,t,i)=>{i.d(t,{a:()=>r});var a=i(76);const n={[a.a.debug]:"#9C27B0",[a.a.info]:"#4CAF50",[a.a.warn]:"#FF9800",[a.a.error]:"#F44336"},r=e=>{if(e.type===a.a.table&&console.table)console.table(...e.metadata);else{const t=(({type:e,name:t,tag:i})=>{const a=(e=>{if(!e)return"#607D8B";const t=Math.PI;return`hsl(${(e=>{let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t})(e)*t%360}, 70%, 53%)`})(i);return{text:`%c${t}%c${e}%c${i}`,arguments:["background: linear-gradient(#4D4D4D, #5D5D5D); color: #fff; padding: 2px 4px; border-top-left-radius: 4px; border-bottom-left-radius: 4px;",`background: ${n[e]??"#000"}; color: #fff; padding: 2px 4px;`,`background: ${a}; color: #fff; padding: 2px 2px; border-top-right-radius: 4px; border-bottom-right-radius: 4px;`]}})({type:e.type,name:e.name,tag:e.tag});e.type===a.a.debug?console.debug(t.text,...t.arguments,e.message,...e.metadata):console.log(t.text,...t.arguments,e.message,...e.metadata)}}},(e,t,i)=>{i.d(t,{a:()=>a});const a=new(i(54).a)},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(29);const n=(i(19),i(20)).b.then((e=>(a.e||(e=>{const t=["consent","dynamicTimeout","clientContext","remoteConfiguration","tdid","intrastitial","adnxsid"],i=new Set(Object.keys(e));for(const a of t)i.delete(a),e[a]})(e.storagePolicy.settings),e.storagePolicy)))},(e,t,i)=>{i.d(t,{a:()=>o});var a=i(31),n=i(27),r=i(1);const o=({cmp:e,storagePolicy:t},{name:i,assumeConsentBeforeCmp:o})=>{const s=new n.a((t=>{(0,r.i)(o)&&t.next({kind:"pre",value:o}),e.subscribe((e=>{t.next({kind:"post",snapshot:e})}))})),d=e=>(0,a.d)(e?.tcData,a.a.storageAccess);return new n.a((e=>{(0,n.b)([s,t]).subscribe((([t,a])=>{const n=a.custom?.hasConsent??d,r="pre"===t.kind?t.value:n(t.snapshot);e.next(r?a.settings[i].consent:a.settings[i].noConsent)}))}))}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(3);class n{registrations={};#r;#bt;constructor(e){this.#r=a.a.tag(`Registry<${e}>`)}register=(e,t)=>{this.registrations[e]&&this.#r.warn(`A module was already registered for '${e}', the previous one will be discarded`),this.registrations[e]=t,this.#r.debug(`Module '${e}' was successfully registered`),this.#qa(e)};#qa=e=>{if(!this.#bt)return;const t=this.registrations[e];if(!t)return this.#r.warn(`couldn't start module '${e}' because it wasn't registered`);try{t.start?.(this.#bt.options),this.#r.debug(`Module '${e}' was started successfully`)}catch(t){this.#r.error(`Error starting module '${e}'`,this.#bt.options,t)}};start=e=>{if(this.#bt)return this.#r.warn("start was called more than once: ignored",e);this.#bt={options:e};for(const e of Object.keys(this.registrations))this.#qa(e)}}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(3);class n{#r;items={};constructor(e){this.#r=a.a.tag(`Collection<${e}>`)}add=(e,t)=>{this.items[e]&&this.#r.warn(`A module was already registered for '${e}', the previous one will be discarded`),this.items[e]=t,this.#r.debug(`Item '${e}' was successfully added`)};list=()=>Object.entries(this.items).reduce(((e,[t,i])=>(i&&e.push({name:t,value:i}),e)),[]);get=e=>this.items[e]}},(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,i="",a=this.t,n=this.DB-a*this.DB%4;if(a-- >0)for(n<this.DB&&(e=this[a]>>n)>0&&(t=!0,i=p(e));a>=0;)n<4?(e=(this[a]&(1<<n)-1)<<4-n,e|=this[--a]>>(n+=this.DB-4)):(e=this[a]>>(n-=4)&15,n<=0&&(n+=this.DB,--a)),e>0&&(t=!0),t&&(i+=p(e));return t?i:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var i=t.length,a=!1,n=0;--i>=0;){var r=l(t,i);r<0?"-"==t.charAt(i)&&(a=!0):(a=!1,0==n?this[this.t++]=r:n+4>this.DB?(this[this.t-1]|=(r&(1<<this.DB-n)-1)<<n,this[this.t++]=r>>this.DB-n):this[this.t-1]|=r<<n,(n+=4)>=this.DB&&(n-=this.DB))}this.clamp(),a&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=n();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var i=n();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var i=e%this.DB,a=this.DB-i,n=(1<<a)-1,r=Math.floor(e/this.DB),o=this.s<<i&this.DM,s=this.t-1;s>=0;--s)t[s+r+1]=this[s]>>a|o,o=(this[s]&n)<<i;for(s=r-1;s>=0;--s)t[s]=0;t[r]=o,t.t=this.t+r+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var a=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,a,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,i){var a=this.abs(),n=t.abs(),r=a.t;for(i.t=r+n.t;--r>=0;)i[r]=0;for(r=0;r<n.t;++r)i[r+a.t]=a.am(0,n[r],i,r,0,a.t);i.s=0,i.clamp(),this.s!=t.s&&e.ZERO.subTo(i,i)},e.prototype.divRemTo=function(t,i,a){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=i&&i.fromHexString("0"),void(null!=a&&this.copyTo(a));null==a&&(a=n());var d=n(),l=this.s,c=t.s,p=this.DB-r(o[o.t-1]);p>0?(o.lShiftTo(p,d),s.lShiftTo(p,a)):(o.copyTo(d),s.copyTo(a));var u=d.t,m=d[u-1];if(0!=m){var b=m*(1<<this.F1)+(u>1?d[u-2]>>this.F2:0),f=this.FV/b,g=(1<<this.F1)/b,y=1<<this.F2,h=a.t,_=h-u,v=i??n();for(d.dlShiftTo(_,v),a.compareTo(v)>=0&&(a[a.t++]=1,a.subTo(v,a)),e.ONE.dlShiftTo(u,v),v.subTo(d,d);d.t<u;)d[d.t++]=0;for(;--_>=0;){var I=a[--h]==m?this.DM:Math.floor(a[h]*f+(a[h-1]+y)*g);if((a[h]+=d.am(0,I,a,_,0,u))<I)for(d.dlShiftTo(_,v),a.subTo(v,a);a[h]<--I;)a.subTo(v,a)}null!=i&&(a.drShiftTo(u,i),l!=c&&e.ZERO.subTo(i,i)),a.t=u,a.clamp(),p>0&&a.rShiftTo(p,a),l<0&&e.ZERO.subTo(a,a)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var a=e%this.DB,n=this.DB-a,r=(1<<a)-1;t[0]=this[i]>>a;for(var o=i+1;o<this.t;++o)t[o-i-1]|=(this[o]&r)<<n,t[o-i]=this[o]>>a;a>0&&(t[this.t-i-1]|=(this.s&r)<<n),t.t=this.t-i,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var i=0,a=0,n=Math.min(e.t,this.t);i<n;)a+=this[i]-e[i],t[i++]=a&this.DM,a>>=this.DB;if(e.t<this.t){for(a-=e.s;i<this.t;)a+=this[i],t[i++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;i<e.t;)a-=e[i],t[i++]=a&this.DM,a>>=this.DB;a-=e.s}t.s=a<0?-1:0,a<-1?t[i++]=this.DV+a:a>0&&(t[i++]=a),t.t=i,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var i;return i=e<256||t.isEven()?new u(t):new m(t),this.exp(e,i)},e.prototype.exp=function(t,i){if(t>4294967295||t<1)return e.ONE;var a=n(),o=n(),s=i.convert(this),d=r(t)-1;for(s.copyTo(a);--d>=0;)if(i.sqrTo(a,o),(t&1<<d)>0)i.mulTo(o,s,a);else{var l=a;a=o,o=l}return i.revert(a)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(0!=(t=i-e.t))return this.s<0?-t:t;for(;--i>=0;)if(0!=(t=this[i]-e[i]))return t;return 0},e.prototype.am1=function(e,t,i,a,n,r){for(;--r>=0;){var o=t*this[e++]+i[a]+n;n=Math.floor(o/67108864),i[a++]=67108863&o}return n},e.prototype.am2=function(e,t,i,a,n,r){for(var o=32767&t,s=t>>15;--r>=0;){var d=32767&this[e],l=this[e++]>>15,c=s*d+l*o;n=((d=o*d+((32767&c)<<15)+i[a]+(1073741823&n))>>>30)+(c>>>15)+s*l+(n>>>30),i[a++]=1073741823&d}return n},e.prototype.am3=function(e,t,i,a,n,r){for(var o=16383&t,s=t>>14;--r>=0;){var d=16383&this[e],l=this[e++]>>14,c=s*d+l*o;n=((d=o*d+((16383&c)<<14)+i[a]+n)>>28)+(c>>14)+s*l,i[a++]=268435455&d}return n},e}();function n(){return new a(null)}function r(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}t.BigInteger=a,t.nbi=n,t.nbits=r;var o,s,d=[];for(o="0".charCodeAt(0),s=0;s<=9;++s)d[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)d[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)d[o++]=s;function l(e,t){return d[e.charCodeAt(t)]??-1}t.intAt=l;var c="0123456789abcdefghijklmnopqrstuvwxyz";function p(e){return c.charAt(e)}t.int2char=p,t.b64toHex=function(e){var t,i="",a=0,n=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));r<0||(0==a?(i+=p(r>>2),n=3&r,a=1):1==a?(i+=p(n<<2|r>>4),n=15&r,a=2):2==a?(i+=p(n),i+=p(r>>2),n=3&r,a=3):(i+=p(n<<2|r>>4),i+=p(15&r),a=0))}return 1==a&&(i+=p(n<<2)),i},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var u=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),m=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],a=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[i=t+this.m.t]+=this.m.am(0,a,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function b(e){var t=n();return t.fromHexString(e.toString()),t}t.nbv=b,a.ZERO=b(0),a.ONE=b(1),"Microsoft Internet Explorer"==navigator.appName?(a.prototype.am=a.prototype.am2,i=30):"Netscape"!=navigator.appName?(a.prototype.am=a.prototype.am1,i=26):(a.prototype.am=a.prototype.am3,i=28),a.prototype.DB=i,a.prototype.DM=(1<<i)-1,a.prototype.DV=1<<i,a.prototype.FV=Math.pow(2,52),a.prototype.F1=52-i,a.prototype.F2=2*i-52},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n=(t+=String.fromCharCode(128)).length/4+2,r=Math.ceil(n/16),o=new Array(r),s=0;s<r;s++){o[s]=new Array(16);for(var d=0;d<16;d++)o[s][d]=t.charCodeAt(64*s+4*d)<<24|t.charCodeAt(64*s+4*d+1)<<16|t.charCodeAt(64*s+4*d+2)<<8|t.charCodeAt(64*s+4*d+3)<<0}var l=8*(t.length-1)/Math.pow(2,32),c=8*(t.length-1)>>>0;for(o[r-1][14]=Math.floor(l),o[r-1][15]=c,s=0;s<r;s++){for(var p=new Array(64),u=0;u<16;u++)p[u]=o[s][u];for(u=16;u<64;u++)p[u]=e.q1(p[u-2])+p[u-7]+e.q0(p[u-15])+p[u-16]>>>0;var m=a[0],b=a[1],f=a[2],g=a[3],y=a[4],h=a[5],_=a[6],v=a[7];for(u=0;u<64;u++){var I=v+e.z1(y)+e.Ch(y,h,_)+i[u]+p[u],w=e.z0(m)+e.Maj(m,b,f);v=_,_=h,h=y,y=g+I>>>0,g=f,f=b,b=m,m=I+w>>>0}a[0]=a[0]+m>>>0,a[1]=a[1]+b>>>0,a[2]=a[2]+f>>>0,a[3]=a[3]+g>>>0,a[4]=a[4]+y>>>0,a[5]=a[5]+h>>>0,a[6]=a[6]+_>>>0,a[7]=a[7]+v>>>0}var T=new Array(a.length);for(v=0;v<a.length;v++)T[v]=("00000000"+a[v].toString(16)).slice(-8);return T.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,i){return e&t^~e&i},e.Maj=function(e,t,i){return e&t^e&i^t&i},e}();t.Sha256=i},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>spec});var _src_utils_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),_src_utils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5),_src_adloader_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(52),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(48),_src_config_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(50),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(37),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(98),_src_Renderer_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(51),_src_video_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(34),_src_ajax_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(26);const GVLID=91,ADAPTER_VERSION=36,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,FLEDGE_SELLER_DOMAIN="https://grid-mercury.criteo.com",FLEDGE_SELLER_TIMEOUT=500,FLEDGE_DECISION_LOGIC_URL="https://grid-mercury.criteo.com/fledge/decision",PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__.d)({bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=144,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",PUBLISHER_TAG_OUTSTREAM_SRC="https://static.criteo.net/js/ld/publishertag.renderer.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.b,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.d,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.c],getUserSyncs:function(e,t,i,a){if(canFastBid(_src_config_js__WEBPACK_IMPORTED_MODULE_3__.config.getConfig("criteo.fastBidVersion")))return[];const n=(0,_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__.a)(),r="criteoPrebidAdapter";if(e.iframeEnabled&&(0,_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__.a)(i)){const e=[];e.push(`origin=${r}`),e.push(`topUrl=${n.domain}`),i&&(i.gdprApplies&&e.push("gdpr="+(1==i.gdprApplies?1:0)),i.consentString&&e.push(`gdpr_consent=${i.consentString}`)),a&&e.push(`us_privacy=${a}`);const t=Math.random().toString(),o={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:r,requestId:t,tld:n.domain,topUrl:n.domain,version:"8.30.0".replace(/\./g,"_")};window.addEventListener("message",(function e(i){if(!i.data||"https://gum.criteo.com"!=i.origin)return;if(i.data.requestId!==t)return;this.removeEventListener("message",e),i.stopImmediatePropagation();const a=i.data;a.optout?(deleteFromAllStorages(BUNDLE_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):a.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,a.bundle,GUID_RETENTION_TIME_HOUR)}),!0);const s=JSON.stringify(o).replace(/"/g,"%22");return[{type:"iframe",url:`https://gum.criteo.com/syncframe?${e.join("&")}#${s}`}]}return[]},isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e)),buildRequests:(e,t)=>{let i,a,n=t.ortb2||{};Object.assign(t,{publisherExt:n.site?.ext,userExt:n.user?.ext,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.config.getConfig("criteo.ceh"),coppa:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.config.getConfig("coppa")});const r=_src_config_js__WEBPACK_IMPORTED_MODULE_3__.config.getConfig("criteo.fastBidVersion"),o=canFastBid(r);if(!publisherTagAvailable()&&o){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();const e=getFastBidUrl(r);setTimeout((()=>{(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_6__.a)(e,BIDDER_CODE)}),t.timeout)}if(publisherTagAvailable()){const n=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"8.30.0",{createOutstreamVideoRenderer});i=n.buildCdbUrl(),a=n.buildCdbRequest()}else{const n=buildContext(e,t);i=buildCdbUrl(n),a=buildCdbRequest(n,e,t)}if(a)return{method:"POST",url:i,data:a,bidRequests:e}},interpretResponse:(e,t)=>{const i=e.body||e;if(publisherTagAvailable()){const e=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(e)return e.interpretResponse(i,t)}const a=[],n=[];if(i&&i.slots&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.Q)(i.slots)&&i.slots.forEach((n=>{const r=getAssociatedBidRequest(t.bidRequests,n);if(r){const t=r.bidId,o={requestId:t,cpm:n.cpm,currency:n.currency,netRevenue:!0,ttl:n.ttl||60,creativeId:n.creativecode,width:n.width,height:n.height,dealId:n.deal};if(i.ext?.paf?.transmission&&n.ext?.paf?.content_id){const t={content_id:n.ext.paf.content_id,transmission:e.ext.paf.transmission};o.meta=Object.assign({},o.meta,{paf:t})}n.adomain&&(o.meta=Object.assign({},o.meta,{advertiserDomains:[n.adomain].flat()})),n.ext?.meta?.networkName&&(o.meta=Object.assign({},o.meta,{networkName:n.ext.meta.networkName})),n.native?r.params.nativeCallback?o.ad=createNativeAd(t,n.native,r.params.nativeCallback):(o.native=createPrebidNativeAd(n.native),o.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.c):n.video?(o.vastUrl=n.displayurl,o.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.d,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(r,"mediaTypes.video.context")===_src_video_js__WEBPACK_IMPORTED_MODULE_9__.b&&(o.renderer=createOutstreamVideoRenderer(n))):o.ad=n.creative,a.push(o)}})),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.Q)(i.ext?.igbid)){const e=i.ext.seller||FLEDGE_SELLER_DOMAIN,a=i.ext.sellerTimeout||FLEDGE_SELLER_TIMEOUT,r=i.ext.sellerSignals||{};i.ext.igbid.forEach((i=>{const o={};i.igbuyer.forEach((e=>{o[e.origin]=e.buyerdata}));const s=t.bidRequests.find((e=>e.bidId===i.impid));!r.floor&&s.params.bidFloor&&(r.floor=s.params.bidFloor),!r.sellerCurrency&&s.params.bidFloorCur&&(r.sellerCurrency=s.params.bidFloorCur);const d=s.bidId;n.push({bidId:d,config:{seller:e,sellerSignals:r,sellerTimeout:a,perBuyerSignals:o,auctionSignals:{},decisionLogicUrl:FLEDGE_DECISION_LOGIC_URL,interestGroupBuyers:Object.keys(o)}})}))}return n.length?{bids:a,fledgeAuctionConfigs:n}:a},onTimeout:e=>{if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach((e=>{-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))}},onBidWon:e=>{publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:e=>{publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)},onDataDeletionRequest:()=>{const e=readFromAllStorages(BUNDLE_COOKIE_NAME);e&&(deleteFromAllStorages(BUNDLE_COOKIE_NAME),(0,_src_ajax_js__WEBPACK_IMPORTED_MODULE_10__.b)("https://privacy.criteo.com/api/privacy/datadeletionrequest",null,JSON.stringify({publisherUserId:e}),{contentType:"application/json",method:"POST"}))}};function readFromAllStorages(e){const t=storage.getCookie(e),i=storage.getDataFromLocalStorage(e);return t||i||void 0}function saveOnAllStorages(e,t,i){const a=new Date;a.setTime(a.getTime()+60*i*60*1e3);const n=`expires=${a.toUTCString()}`;storage.setCookie(e,t,n),storage.setDataInLocalStorage(e,t)}function deleteFromAllStorages(e){storage.setCookie(e,"",0),storage.removeDataFromLocalStorage(e)}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){let i="";t&&t.refererInfo&&(i=t.refererInfo.page);const a=(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.kb)(t?.refererInfo?.topmostLocation).search,n={url:i,debug:"1"===a.pbt_debug,noLog:"1"===a.pbt_nolog,amp:!1};return e.forEach((e=>{"amp"===e.params.integrationMode&&(n.amp=!0)})),n}function buildCdbUrl(e){let t=CDB_ENDPOINT;t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("8.30.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");const i=readFromAllStorages(BUNDLE_COOKIE_NAME);return i&&(t+=`&bundle=${i}`),readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1"),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,i){let a,n,r;const o={id:(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.s)(),publisher:{url:e.url,ext:i.publisherExt},regs:{coppa:!0===i.coppa?1:!1===i.coppa?0:void 0,gpp:i.ortb2?.regs?.gpp,gpp_sid:i.ortb2?.regs?.gpp_sid},slots:t.map((e=>{r||(r=e.userIdAsEids),a=e.params.networkId||a,n=e.schain||n;const t={slotid:e.bidId,impid:e.adUnitCode,transactionid:e.ortb2Imp?.ext?.tid};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"ortb2Imp.rwdd")&&(t.rwdd=e.ortb2Imp.rwdd),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.nativeOrtbRequest?.assets&&(t.ext=Object.assign({},t.ext,{assets:e.nativeOrtbRequest.assets})),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(t.native=!0,checkNativeSendId(e)||(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.db)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?t.sizes=parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"mediaTypes.banner.sizes"),parseSize):t.sizes=[],hasVideoMediaType(e)){const i={context:e.mediaTypes.video.context,playersizes:parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay,plcmt:e.mediaTypes.video.plcmt,w:e.mediaTypes.video.w,h:e.mediaTypes.video.h,linearity:e.mediaTypes.video.linearity,skipmin:e.mediaTypes.video.skipmin,skipafter:e.mediaTypes.video.skipafter,minbitrate:e.mediaTypes.video.minbitrate,maxbitrate:e.mediaTypes.video.maxbitrate,delivery:e.mediaTypes.video.delivery,pos:e.mediaTypes.video.pos,playbackend:e.mediaTypes.video.playbackend,adPodDurationSec:e.mediaTypes.video.adPodDurationSec,durationRangeSec:e.mediaTypes.video.durationRangeSec},a=e.params.video;void 0!==a&&(i.skip=i.skip||a.skip||0,i.placement=i.placement||a.placement,i.minduration=i.minduration||a.minduration,i.playbackmethod=i.playbackmethod||a.playbackmethod,i.startdelay=i.startdelay||a.startdelay||0),t.video=i}return enrichSlotWithFloors(t,e),!i.fledgeEnabled&&t.ext?.ae&&delete t.ext.ae,t}))};return a&&(o.publisher.networkid=a),o.source={tid:i.ortb2?.source?.tid},n&&(o.source.ext={schain:n}),o.user=i.ortb2?.user||{},o.site=i.ortb2?.site||{},o.app=i.ortb2?.app||{},i&&i.ceh&&(o.user.ceh=i.ceh),i&&i.gdprConsent&&(o.gdprConsent={},void 0!==i.gdprConsent.gdprApplies&&(o.gdprConsent.gdprApplies=!!i.gdprConsent.gdprApplies),o.gdprConsent.version=i.gdprConsent.apiVersion,void 0!==i.gdprConsent.consentString&&(o.gdprConsent.consentData=i.gdprConsent.consentString)),i&&i.uspConsent&&(o.user.uspIab=i.uspConsent),i&&i.ortb2?.device?.sua&&(o.user.ext=o.user.ext||{},o.user.ext.sua=i.ortb2?.device?.sua||{}),r&&(o.user.ext=o.user.ext||{},o.user.ext.eids=[...r]),i&&i.ortb2?.bcat&&(o.bcat=i.ortb2.bcat),i&&i.ortb2?.badv&&(o.badv=i.ortb2.badv),i&&i.ortb2?.bapp&&(o.bapp=i.ortb2.bapp),o}function parseSizes(e,t=(e=>e)){return null==e?[]:Array.isArray(e[0])?e.map((e=>t(e))):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"mediaTypes.native")}function hasValidVideoMediaType(e){let t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(i){void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"mediaTypes.video."+i)&&void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,"params.video."+i)&&(t=!1,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.ab)("Criteo Bid Adapter: mediaTypes.video."+i+" is required"))})),t){const t=e.mediaTypes.video.placement||e.params.video.placement;if("instream"==e.mediaTypes.video.context&&1===t)return!0;if("outstream"==e.mediaTypes.video.context&&1!==t)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((e=>e.url))}}function createNativeAd(e,t,i){var a="criteo_prebid_native_slots";return window[a]=window[a]||{},window[a][e]={callback:i,payload:t},`\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.${a};\n  if(!slots){continue;}\n  var responseSlot = slots["${e}"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>`}function pickAvailableGetFloorFunc(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{const t=parseFloat(e.params.bidFloor);return()=>({currency:e.params.bidFloorCur,floor:t})}catch{}}function enrichSlotWithFloors(e,t){try{const i={},a=pickAvailableGetFloorFunc(t);a&&(t.mediaTypes?.banner&&(i.banner={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(t,"mediaTypes.banner.sizes")).forEach((e=>i.banner[parseSize(e).toString()]=a.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.b})))),t.mediaTypes?.video&&(i.video={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.a)(t,"mediaTypes.video.playerSize")).forEach((e=>i.video[parseSize(e).toString()]=a.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.d})))),t.mediaTypes?.native&&(i.native={},i.native["*"]=a.call(t,{size:"*",mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.c})),Object.keys(i).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:i})))}catch(e){(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.ab)("Could not parse floors from Prebid: "+e)}}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){let t;return e===FAST_BID_VERSION_LATEST?t="":e?(String(e).split(".")[0]<102&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.db)("Specifying a Fastbid version which is not supporting version selection."),t="."+e):t="."+FAST_BID_VERSION_CURRENT,PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,t)}function createOutstreamVideoRenderer(e){if(void 0===e.ext.videoPlayerConfig||void 0===e.ext.videoPlayerType)return;const t=_src_Renderer_js__WEBPACK_IMPORTED_MODULE_11__.a.install({url:PUBLISHER_TAG_OUTSTREAM_SRC,config:{documentResolver:(e,t,i)=>i??t}});return t.setRender(((t,i)=>{let a={slotid:e.impid,vastUrl:e.displayurl,vastXml:e.creative,documentContext:i},n=e.ext.videoPlayerConfig;window.CriteoOutStream[e.ext.videoPlayerType].play(a,n)})),t}function getAssociatedBidRequest(e,t){for(const i of e)if(i.adUnitCode===t.impid){if(i.params.zoneId&&parseInt(i.params.zoneId)===t.zoneid)return i;if(t.native){if(i.mediaTypes?.native||i.nativeParams)return i}else if(t.video){if(i.mediaTypes?.video)return i}else if(i.mediaTypes?.banner||i.sizes)return i}}function tryGetCriteoFastBid(){try{const fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){const firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.db)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{const publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__.a)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.bb)("Using Criteo FastBid"),eval(publisherTag)):((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.db)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_12__.b)(spec)},,,(e,t,i)=>{i.d(t,{a:()=>r});var a=i(12),n=i(0);function r({startTime:e=n.sb,ttl:t=(()=>null),monotonic:i=!1,slack:r=5e3}={}){const o=new Map,s=[],d=i?e=>s.push(e):e=>s.splice((0,n.d)(s,e,(e=>e.expiry)),0,e);let l,c;function p(){if(c&&clearTimeout(c),s.length>0){const e=(0,n.sb)();l=Math.max(e,s[0].expiry+r),c=setTimeout((()=>{const e=(0,n.sb)();let t=0;for(const i of s){if(i.expiry>e)break;o.delete(i.item),t++}s.splice(0,t),c=null,p()}),l-e)}else c=null}let u={};return{[Symbol.iterator]:()=>o.keys(),add(i){!o.has(i)&&o.set(i,function(i){const n={},o=u;let s;const[m,b]=Object.entries({start:e,delta:t}).map((([e,t])=>{let m;return function(){const b=m={};a.a.resolve(t(i)).then((t=>{b===m&&(n[e]=t,o===u&&null!=n.start&&null!=n.delta&&(s=n.start+n.delta,d(f),(null==c||l>s+r)&&p()))}))}})),f={item:i,refresh:b,get expiry(){return s}};return m(),b(),f}(i))},clear(){s.length=0,p(),o.clear(),u={}},toArray:()=>Array.from(o.keys()),refresh(){s.length=0,p();for(const e of o.values())e.refresh()}}}},(e,t,i)=>{i.d(t,{a:()=>n});var a=i(1);const n=e=>t=>(e=>(0,a.m)(e)&&(0,a.l)(e.fetchTime))(t)&&e(t.value)}],__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(103);