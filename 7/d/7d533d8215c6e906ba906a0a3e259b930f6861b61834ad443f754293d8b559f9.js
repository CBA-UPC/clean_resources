var nxtBundle=function(a}var n={},u={Connext:0}p.e=function(i){var t,e=[],n=u[i];if(0!==n)if(n)e.push(n[2]);else{var r=new Promis});e.push(n[2]=r);var o,s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.timeout=120,p.nc&&a.setAttribute("nonce",p.nc),a.src=p.p+""+({SwG:"SwG"}[t=i]||t)+".js",};var c=setTimeou},12e4);a.onerror=a.onload=o,s.appendChild(a)}return Promise.all(e)},p.m=a,p.c=n,p.},p.},p.},p.},p.},p.p="http://localhost:9000/",p.o};var e=window.webpackJsonpnxtBundle=window.webpackJsonpnxtBundle||[],r=e.push.bind(e);e.push=t,e=e.slice();for(var o=0;o<e.length;o++)t(e[o]);var c=r;return p(p.s=269)}([function(t,q,e){(function(K,Y){var z;!function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof K&&K.global===K&&K||this||{},e=t._,r=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,o=r.push,c=r.slice,f=s.toString,i=s.hasOwnProperty,n=Array.isArray,a=Object.keys,u=Object.create,p=function(){},};void 0===q||q.nodeType?t._=h:(void 0!==Y&&!Y.nodeType&&Y.exports&&(q=Y.exports=h),q._=h),h.VERSION="1.9.2";var d,},};h.iteratee=};var },},},},},w=Math.pow(2,53)-1,S=_("length"),};h.each=h.forEac},h.map=h.collec};var };h.reduce=h.foldl=h.inject=I(1),h.reduceRight=h.foldr=I(-1),h.find=h.detec},h.filter=h.selec},h.rejec},h.every=h.al},h.some=h.an},h.contains=h.includes=h.includ},h.invoke=}),h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matcher(e))},h.findWher},h.ma},h.mi},h.shuffl},h.sampl},h.sortB};var };h.groupBy=}),h.indexBy=}),h.countBy=});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArra},h.siz},h.partition=},!0),h.first=h.head=h.tak},h.initia},h.las},h.rest=h.tail=h.dro},h.compact=function(t){return h.filter(t,Boolean)};var };h.flatte},h.without=v(function(t,e){return h.difference(t,e)}),h.uniq=h.uniqu},h.union=}),h.intersectio},h.difference=}),h.unzi},h.zip=v(h.unzip),h.objec};var };h.findIndex=D(1),h.findLastIndex=D(-1),h.sortedInde};var };h.indexOf=x(1,h.findIndex,h.sortedIndex),h.lastIndexOf=x(-1,h.findLastIndex),h.rang},h.chun};var };h.bind=}),h.partial=}),(h.partial.placeholder=h).bindAll=}),h.memoiz},h.delay=}),h.defer=h.partial(h.delay,h,1),h.throttl},h.debounc},h.wrap=function(t,e){return h.partial(e,t)},h.negat},h.compos},h.afte},h.befor},h.once=h.partial(h.before,2),h.restArguments=v;var U=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],};h.key},h.allKey},h.value},h.mapObjec},h.pair},h.inver},h.functions=h.method};var };h.extend=T(h.allKeys),h.extendOwn=h.assign=T(h.keys),h.findKe};var F,k,};h.pick=}),h.omit=}),h.defaults=T(h.allKeys,!0),h.creat},h.clon},h.ta},h.isMatc},},},h.isEqua},h.isEmpt},h.isElemen},h.isArray=n},h.isObjec},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"}),h.isArguments(arguments)||(h.isArguments=function(t){return b(t,"callee")});var N=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof N&&(h.isFunctio}),h.isFinit},h.isNa},h.isBoolea},h.isNul},h.isUndefine},h.ha},h.noConflic},h.identity=function(t){return t},h.constan},h.noop=function(){},h.propert},h.propertyO},h.matcher=h.matche},h.time},h.rando},h.now=Date.now};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=h.invert(M),};h.escape=G(M),h.unescape=G(j),h.resul};var W=0;h.uniqueI},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Z=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,};h.templat},h.chai};var };h.mixi},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"}),h.each(["concat","join","slice"}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},void 0===(z=function(){return h}.apply(q,[]))||(Y.exports=z)}()}).call(this,e(119),e(275)(t))},,function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"g",function(){return p});var r="9999-01-01",o={IgmRegID:"igmRegID",IgmContent:"igmContent",IgmAuth:"igmAuth",NzwRegId:"nzwRegId",NzwToken:"nzwToken",NzwLid:"nzwLid",UserLastUpdateDate:"nxt_userLastUpdateDate",UserDataExpiration:"nxt_AccountDataExpirationCookie",RegistrationWalls:"IsActCr",CookiesPrivacy:"igmck",Auth0AccountId:"auth0_sub",IgmEpref:"igm_epref",AuthLoginData:"nxt_alng",LastVisit:"nxt_last_visit"},i="Sorry, there's a server problem or a problem with the network. ",s={Cookie:"sub_",LSDublicateCookie:"Cookie_"},a={AccessToken:"Connext_AccessToken",ConnextAuthType:"connext_auth_type",ConnextCheckDomainWrite:"nxt_ckck_dmn_wrt",ConnextDomain:"nxt_dmn",ConnextMessagingData:"nxt_msg_dt",ConnextMessagingDataExpire:"nxt_msg_expr",ConnextPaywallFired:"connext_paywallFired",ConnextRootDomain:"nxt_rt_dmn",ConnextTimeRepeatableActions:"nxtact",ConnextUpdateArticleCount:"nxt_upd_ac",ConnextUserData:"connext_user_data",ConnextUserProfile:"connext_user_profile",ConnextUserId:"anonDeviceId",ConnextUserLastUpdateDate:"connext_userLastUpdateDate",ConnextViewStructure:"nxt",ViewsAutoResetLastDate:"nxt_vwsrld",Configuration:"Connext_Configuration",Conversations:{Current:"Connext_CurrentConversations",Previous:"Connext_PreviousConversations",All:"Connext_AllConversations"},CurrentConversationsActions:"Connext_AllConversationsActions",CurrentConversation:"CurrentConversation",CurrentConversationActions:"CurrentConversationActions",CustomZip:"CustomZip",LastPublishDate:"Connext_LastPublishDate",RepeatablesInConv:"repeatablesInConv",RepeatablesInArticle:"repeatablesInArticle",ViewedArticles:"Connext_ViewedArticles",GlobalLocation:"GlobalLocation",AllowUseCode:"nxt_allowUseCode",NeedHidePinTemplate:"NeedHidePinTemplate",PinAttempts:"PinAttempts",ArticleCost:"ArticleCost",StartLoadPlugin:"StartLoadPlugin",UniqueArticles:"uniqueArticles",PublishSettings:"pS",ForceConfigDownload:"nxt_cfg_force",EngagementRate:"Engagement_Rate",IsMakeReRunOnLogin:"IsMakeReRunOnLogin",DebugPanel:{CdpProfile:"CDP_profile",ZipCode:"dbZipCode",ConfigurationIsCustom:"Connext_Configuration_isCustom",ConfigCode:"Connext_Configuration_ConfigCode",SiteCode:"Connext_Configuration_SiteCode",LogLevel:"Connext_Log_Level",DebugPanelOpenState:"Connext_debug_panel_open_state"},DebugMode:"nxt_debug",AdblockLastDetect:"connext_adblock_last_detect",DebugTraceExpirationDate:"nxt_debug_trace_expiration_date",IsIncognitoBrowsing:"nxt_is_incognito",AnonDeviceIdRegenStats:"anonDeviceIdRegenStats",AutoQA:"nxt_autoQA",DisqusToken:"nxtDisqus",DisqusDemos:"nxtDemos",AbTest:"nxt_ab_test",VisitedView:"visitedView",Loader:{ResoursesUrls:"nxt_ldr_rsrc_rls"},BrowserSessionId:"nxt_browser_sessionid",ConnextUserSessionStorage:"nxt_UserSessionStorage"},c={Encryptedeventid:"encryptedeventid",ReturnUrl:"returnurl",FacebookNewsToken:"fb_news_token"},u={ArticleCount:"ac",DeviceArticleCount:"ac_d",StartDate:"s"},p={RepeatAfter:"rpt",Count:"rtpc"}},,function(t,e,n){"use strict";n.r(e),n.d(e,"Expression",function(){return a});var r=n(59),o=n(10),i=n(0),s=n(241),a=function(){function t(){this.NAME="Expression"}return t.prototype.isPassedCriteria=function(t){return Promise.resolve(!0)},t.prototype.check=function(r){var o=this;return new Promise(function(e,n){try{o.startCalculateLog(r),o.isPassedCriteria(r).then(function(t){o.logCriteria(t,r),t?e():n()})}catch(t){o.errorLogCriteria(r,t),n()}})},t.prototype.prepareValueToCompare=function(t){if("number"==typeof t||"boolean"==typeof t)return t;if(Object(i.isString)(t)){if("''"===t)return"";var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("undefined"===e)return;if(-1<e.indexOf(","))return e;var n=parseFloat(t);return"number"==typeof n&&n!=+t?t.toLowerCase():n}return Object(i.isArray)(t)?t.toString().toLowerCase():null===t||"object"!=typeof t&&"function"!=typeof t?t:t.toString().toLowerCase()},t.prototype.setOptions=function(t){this.options=t},t.prototype.evaluateOperator=function(t,e,n){switch(r.Qualifier.getOperator(n)){case o.Operator.Equal:return this.equal(t,e);case o.Operator.NotEqual:return this.notEqual(t,e);case o.Operator.LessThan:return this.lessThan(t,e);case o.Operator.GreaterThan:return this.greaterThan(t,e);case o.Operator.LessThanEqual:return this.lessThanEqual(t,e);case o.Operator.GreaterThanEqual:return this.greaterThanEqual(t,e);case o.Operator.EndWith:return this.endWith(t,e);case o.Operator.StartWith:return this.startWith(t,e);case o.Operator.Contains:return this.contains(t,e);case o.Operator.DoesNotContain:return this.doesNotContain(t,e);case o.Operator.In:return this.in(t,e);case o.Operator.NotIn:return this.notIn(t,e);case o.Operator.Intersect:return this.intersect(t,e);case o.Operator.DoesNotIntersect:return this.doesNotIntersect(t,e);default:return this.equal(t,e)}},t.prototype.equa},t.prototype.notEqual=function(t,e){return!this.equal(t,e)},t.prototype.lessThan=function(t,e){return t<e},t.prototype.greaterTha},t.prototype.lessThanEqual=function(t,e){return t<=e},t.prototype.greaterThanEqua},t.prototype.endWith=function(t,e){if(Object(i.isArray)(t))return e.toLowerCase()==t[t.length-1];if("string"!=typeof t)return!1;var n=t.length-e.length,r=t.toLowerCase().indexOf(e,n);return-1!==r&&r===n},t.prototype.startWith=function(t,e){return Object(i.isArray)(t)?e.toLowerCase()==t[0]:!!Object(i.isString)(t)&&0===t.toLowerCase().indexOf(e.toLowerCase())},t.prototype.contain},t.prototype.doesNotContain=function(t,e){return!this.contains(t,e)},t.prototype.i},t.prototype.notIn=function(t,e){return!this.in(t,e)},t.prototype.intersect=function(e,t){var n=this;return t.split(",").some(function(t){return n.contains(e,t)})},t.prototype.doesNotIntersec},t.prototype.logCriteria=function(t,e){s.a.log(e.TypeName,"check","Criteria was "+(t?"":"not")+" passed",e)},t.prototype.errorLogCriteria=function(t,e){s.a.error("Error in calculate",t.TypeName,e)},t.prototype.startCalculateLo},t}()},,function(t,e,n){"use strict";var r=n(42),a=n(0),c=n(122),u=n(279),o=function(){function t(){this.uniqueSession=864e5,this.visitedDates=[];var t=r.a.getResetService();if(t&&t.isResetVisitedView()&&this.removeVisits(),this.setCurrentDate(c.a.get()),this.visitedDates=u.a.getVisitedView()||[],this.visitedDates&&0<this.visitedDates.length){var e=Object(a.last)(this.visitedDates);if(this.isVisitedInCurrentDay(e))return;this.visitedDates.push(this.getCurrentDate())}else this.visitedDates.push(this.getCurrentDate());u.a.setVisitedView(this.visitedDates)}return t.prototype.setCurrentDat},t.prototype.getCurrentDate=function(){return this.currentDate},t.prototype.getVisitedViewsByDays=function(t){var e=new Date(this.getCurrentDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate());n.setDate(n.getDate()-t);var r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59),o=this.getVisitsPeriodOfTime(n.valueOf(),r.valueOf());return o?o.length:0},t.prototype.isVisitedInCurrentDay=function(t){var e=this.getStartOfDate(t),n=this.getStartOfDate(this.getCurrentDate());return n.valueOf()===e.valueOf()||22<=new Date(t).getHours()&&n.valueOf()-e.valueOf()<=this.uniqueSession},t.prototype.getStartOfDat},t.prototype.getVisitsPeriodOfTime=function(e,n){var r=[];return Object(a.each)(this.visitedDates,function(t){e<=t&&t<=n&&r.push(t)}),r},t.prototype.removeVisits=function(){this.visitedDates=[],u.a.setVisitedView(this.visitedDates)},t}(),i=n(18),s=n(87),p=n(28),l=n(222),f=n(59),h=n(10),d=function(){function t(t){var n=this;this.UnlimitedArticlesString="unlimited",this.paywalls=[],this.paywalls=t,this.paywallsView={conversation:[],meter:[]},Object(a.each)(this.paywall})}return t.prototype.getInformation=function(){var t=this.getMinViewType();return{ArticleLeft:this.replaceInfinity(this.getBeforeView()),Limit:this.replaceInfinity(this.getLimitview()),MinView:t}},t.prototype.getInforamtionForShownPaywalls=function(){return Object(p.A)(this.getInformation(),this.UnlimitedArticlesString,0)},t.prototype.getBeforeView=function(){return{Conversation:this.leftBeforePaywall(this.paywallsView.conversation,U.getCurrentConversationViewCount()),Meter:this.leftBeforePaywall(this.paywallsView.meter,U.getCurrentDynamicMeterViewCount())}},t.prototype.getLimitview=function(){return{Conversation:Object(a.min)(this.paywallsView.conversation),Meter:Object(a.min)(this.paywallsView.meter)}},t.prototype.getMinViewType=function(){var t=this.getBeforeView();return isFinite(t.Conversation)?isFinite(t.Meter)?t.Conversation>t.Meter?l.g.Conversation:l.g.Meter:l.g.Conversation:l.g.Meter},t.prototype.replaceInfinity=function(n){var r=this;return Object(a.each)(n,function(t,e){isFinite(t)||(n[e]=r.UnlimitedArticlesString)}),n},t.prototype.leftBeforePaywall=function(t,e){var n,r=Object(a.min)(t);return isFinite(r)?(n=r-e)<0?0:n:r},t.prototype.getViews=function(t){var e=this.getConversationViewCriterias(t),n=this.getMeterViewCriterias(t),r=this.getConversationViews(t),o=this.getMeterViews(t);"object"==typeof r||isFinite(r)||!e.length&&(e.length||n.length)||(r=0),"object"==typeof o||isFinite(o)||!n.length&&(n.length||e.length)||(o=0),this.paywallsView.conversation.push(r),this.paywallsView.meter.push(o)},t.prototype.getConversationViews=function(t){return this.getCriteriaViews(this.getConversationViewCriterias(t))},t.prototype.getMeterViews=function(t){return this.getCriteriaViews(this.getMeterViewCriterias(t))},t.prototype.getCriteriaViews=function(t){var o=[];return Object(a.each)(t,function(t,e){var n,r=parseInt(t.Value,10);switch(f.Qualifier.getOperator(t.Qualifier)){case h.Operator.Equal:case h.Operator.GreaterThanEqual:n=r;break;case h.Operator.GreaterThan:n=r+1}o.push(n)}),Object(a.min)(o)},t.prototype.getConversationViewCriterias=function(t){return Object(a.where)(t.Who,{TypeName:s.CriteriaTypes.ConversationView})},t.prototype.getMeterViewCriterias=function(t){return Object(a.where)(t.Who,{TypeName:s.CriteriaTypes.MeterView})},t}(),g=n(19),y=n(9),v=n(241),m=n(339),_=n(333),b=n(45),C=n(334),w=n(348),S=n(123),A=n(309),I=n(11),O=n(54),E=n.n(O),P=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n=null),this.viewCount=t.ViewCount||e[S.r.ArticleCount]||0,this.deviceViewCount=t.DeviceViewCount||e[S.r.DeviceArticleCount]||0,this.startDate=t.StartDate?new Date(t.StartDate):e[S.r.StartDate]?new Date(e[S.r.StartDate]):void 0,this.actions=t.Actions,this.id=t.Id||n}return t.prototype.renderCookieObject=function(){var t={};return t[S.r.ArticleCount]=this.viewCount,t[S.r.DeviceArticleCount]=this.deviceViewCount,t[S.r.StartDate]=new Date(this.startDate).getTime(),t},t.prototype.incremen},t.prototype.setStartDate=function(t){this.startDate=t},t.prototype.getStartDate=function(){return this.startDate},t.prototype.getViewCount=function(){return this.viewCount},t.prototype.setViewCount=function(t){this.viewCount=t},t.prototype.rese},t}(),D=function(){function t(t,e,n){void 0===n&&(n=null),this.conversations=[],this.conversationsViews=[];var r=n&&n[t]?n[t]:{};if(this.meterLevel=t,this.conversations=e.Conversations||[],this.activeConversationId=e.ActiveConversationId||r[S.r.ActiveConvoId]||-1,this.articleCount=e.ArticleCount||r[S.r.MeterView]||0,this.deviceArticleCount=e.DeviceArticleCount||r[S.r.DeviceMeterView]||0,this.conversations.length)this.conversationsViews=this.generateConversationsView();else for(var o in r)o==S.r.ActiveConvoId||o==S.r.MeterView||o==S.r.DeviceMeterView||isNaN(+o)||this.conversationsViews.push(new P({},r[o],+o))}return t.prototype.generateConversationsView=function(){var e=[];return Object(a.each)(this.conversations,function(t){e.push(new P(t))}),e},t.prototype.renderCookieObject=function(){var t={};return t[S.r.DeviceMeterView]=this.deviceArticleCount,t[S.r.MeterView]=this.articleCount,t[S.r.ActiveConvoId]=this.activeConversationId,Object(a.extendOwn)(t,this.renderConversationsViewCookie()),t},t.prototype.renderConversationsViewCookie=function(){var e={};return Object(a.each)(this.conversationsViews,function(t){e[t.id]=t.renderCookieObject()}),e},t.prototype.increment=function(){var t=this.getIncrementValue();this.articleCount+=t,this.deviceArticleCount+=t,this.activeConversationView.increment()},t.prototype.getIncrementValue=function(){return-1==this.activeConversationView.id?0:1},t.prototype.updateStartDate=function(t){this.activeConversationView.setStartDate(t)},t.prototype.getViewData=function(){var e=[];Object(a.each)(this.conversationsView});var t={};return t[S.i[this.meterLevel]]={ActiveConversationId:this.activeConversationId,ArticleCount:this.articleCount,Conversations:e,DeviceArticleCount:this.deviceArticleCount},t},t.prototype.linkDevicesView=function(n){var r=0;Object(a.each)(this.conversationsViews,function(t){if(n[t.conversationId]){var e=t.viewCount-t.deviceViewCount+n[t.conversationId][S.r.DeviceArticleCount];t.viewCount=0<e?e:t.viewCount,r+=t.viewCount}}),this.articleCount=r},t.prototype.resetConversationView=function(e){var t=Object(a.find)(this.conversationsViews,function(t){return t.id==e.Id});t&&(this.articleCount=this.articleCount-t.viewCount,this.articleCount=this.articleCount<0?0:this.articleCount,this.deviceArticleCount=this.deviceArticleCount-t.deviceViewCount,t.reset())},t.prototype.reset=function(){this.articleCount=0,this.deviceArticleCount=0,Object(a.each)(this.conversationsViews,function(t){t.reset()})},t.prototype.resetConversationsStartDate=function(){Object(a.each)(this.conversationsView})},t.prototype.getConversationStartDat},t.prototype.getCurrentConversationViewCount=function(){return this.activeConversationView?this.activeConversationView.getViewCount():0},t.prototype.setCurrentConversationViewCount=function(t){this.activeConversationView.setViewCount(t)},t.prototype.setActiveConversation=function(t){var e=this;this.activeConversationId=t?t.Id:-1;var n=Object(a.find)(this.conversationsViews,function(t){return t.id==e.activeConversationId});if(n)this.activeConversationView=n,this.activeConversationView.setStartDate(t.Properties&&t.Properties.getStartDate&&t.Properties.getStartDate()||c.a.get());else{var r={Actions:null,DeviceViewCount:0,Id:this.activeConversationId,StartDate:c.a.get(),ViewCount:0,Conversation:t};this.activeConversationView=new P(r),this.conversationsViews.push(this.activeConversationView)}},t}(),x=n(44),B=function(){function t(){}return t.prototype.createViews=function(){try{var t=u.a.getViewStructure();return Object(a.isEmpty)(t)?this.getApiView(t):Promise.resolve(this.createCookiesViews(t))}catch(t){v.a.log("ViewData","create",t)}},t.prototype.createEmptyView=function(){return new D(-1,{})},t.prototype.createViewsFromApi=function(r){var o=[];try{return r.CodelistSet&&x.a.setAccessByCode(r.CodelistSet),Object(a.isEmpty)(r.DynamicMeterViews)||Object(a.each)(Object(a.keys)(r.DynamicMeterViews),function(t){if(r.DynamicMeterViews[t]){var e=S.i[t],n=new D(e,r.DynamicMeterViews[t]);o.push(n)}}),this.setTimeRepeatableActions({}),this.setLastResetDate(r.LastResetDate),u.a.setUserSessionStorage(r.UserStorageSession,{expires:new Date(S.g)}),Promise.resolve(o)}catch(t){return v.a.log("ViewData","createViewsFromApi",t),o.push(this.createEmptyView()),Promise.resolve(o)}},t.prototype.createCookiesViews=function(o){var i=this,s=[];return Object(a.isEmpty)(o)?[]:(Object(a.each)(Object(a.keys)(o),function(t){var e=o[t];if(e){var n={ActiveConversationId:e[S.r.ActiveConvoId]||null,ArticleCount:e[S.r.MeterView],DeviceArticleCount:e[S.r.DeviceMeterView],Conversations:i.getConversationsFromCookie(e)},r=new D(t,n);s.push(r)}}),s)},t.prototype.getConversationsFromCookie=function(n){var r=[];return Object(a.each)(Object(a.keys)(n),function(t){var e=n[t];Object(a.isNumber)(-t)&&Object(a.isObject)(e)&&r.push({DeviceViewCount:e[S.r.DeviceArticleCount],ViewCount:e[S.r.ArticleCount],StartDate:e[S.r.StartDate],Id:t})}),r},t.prototype.getApiView=function(e){var n=this;return this.getApiViewData().then(function(t){return t?n.createViewsFromApi(t):Promise.resolve(n.createCookiesViews(e))}).catch(function(t){return v.a.error(t),Promise.resolve([])})},t.prototype.getApiViewData=function(){var t=U.getCommonDataToSave();return u.a.getApiViewData(t,{location:w.a.System})},t.prototype.updateDevicesViewData=function(t){var e=u.a.getViewStructure();Object(a.each)(})},t.prototype.setTimeRepeatableActions=function(t){Object(a.keys)(t).length&&I.ActionModule.setTimeRepeatableActions(t)},t.prototype.setLastResetDate=function(t){t&&u.a.setLastResetDate(t,{expires:new Date(S.g)})},t}();n.d(e,"a",function(){return U});var U=new(function(}return t.prototype.setViewData=function(){var e=this,t=new B;return this.visitedView=new o,t.createViews().then(function(t){return e.meterViews=t,e.setViewStructureIfEmpty(),e.setUserSessionStorageIfEmpty(),Promise.resolve(!0)}).catc})},t.prototype.getVisitedViewsByDays=function(t){return this.visitedView.getVisitedViewsByDays(t)},t.prototype.incrementConversationCoun},t.prototype.saveViewInformation=function(){if(!x.a.isHaveAccessByCode()){var t=this.getCurrentConversationViewCount(),e=this.getCurrentDynamicMeterViewCount();this.saveViewStructure();var n=g.a.get(m.a.BatchCount),r=i.Campaign.checkFakeCurrentConversation();return 1==n||1<t&&t%n==0||1<e&&e%n==0&&!r||this.isHaveRequestForSaveView?this.sendViewData():void 0}},t.prototype.setActiveMeterView=function(e){this.resetMeterViewIfNeed(),this.activeMeterView=Object(a.find)(this.meterViews,function(t){return t.meterLevel==e}),this.activeMeterView||(this.activeMeterView=new D(e,{},u.a.getViewStructure()),this.meterViews.push(this.activeMeterView))},t.prototype.getViewPaywallInformatio},t.prototype.getViewedArticles=function(t){var e=u.a.getViewedArticles();return e?e[t]:null},t.prototype.getCurrentConversationViewCoun},t.prototype.setCurrentConversationViewCount=function(t){this.activeMeterView.setCurrentConversationViewCount(t);var e=0;Object(a.each)(this.meterViews,function(t){Object(a.each)(t.conversationsView})}),this.setCurrentDynamicMeterViewCount(e)},t.prototype.getConversationStartDate=function(t){return t?this.getConversationStartDateById(t):this.activeMeterView.getConversationStartDate()},t.prototype.getConversationStartDateById=function(e){var n;return Object(a.each)(this.meterViews,function(t){return t.conversationsViews.forEach(function(t){t.id==e&&(n=t.getStartDate())})}),n},t.prototype.getActiveConversationId=function(){return this.activeMeterView.activeConversationId},t.prototype.getUniqueArticles=function(){return u.a.getUniqueArticles()},t.prototype.setUniqueArticles=function(t){u.a.setUniqueArticles(t)},t.prototype.getCurrentDynamicMeterViewCount=function(){return this.activeMeterView?this.activeMeterView.articleCount:0},t.prototype.setCurrentDynamicMeterViewCount=function(t){this.activeMeterView.articleCount=t},t.prototype.resetView},t.prototype.resetStorage=function(){this.meterViews=[],u.a.deleteConnextViewStructure(),u.a.deleteViewedArticles(),I.ActionModule.resetConversationRepeatableActions()},t.prototype.resetArticleViews=function(){var t=u.a.getViewStructure();for(var e in this.resetStorage(),t){var n={};n[S.r.ActiveConvoId]=t[e][S.r.ActiveConvoId],t[e]=n}u.a.setViewStructure(t,{expires:new Date(S.g)}),i.Campaign.setStartDateToCurrentConversation(c.a.get())},t.prototype.resetCurrentCovrsations=function(){var t=u.a.getViewStructure();if(t){for(var e in t){var n=t[e];if(n){var r=n[S.r.ActiveConvoId];n[r]&&(I.ActionModule.resetConversationRepeatableActions(new A.a({Id:r})),delete n[S.r.ActiveConvoId])}}u.a.setViewStructure(t,{expires:new Date(S.g)})}},t.prototype.resetConversationView=function(t){this.activeMeterView.resetConversationView(t),this.setViewedArticles([],t.Id),I.ActionModule.resetConversationRepeatableActions(t),this.serverResetConversationViews({location:"System",payload:Object(a.extendOwn)(this.getCommonDataToSave(),{conversationId:t.Id})})},t.prototype.resetMeterLevel=function(){var n=this,r=i.Campaign.getCurrentConversations();Object(a.each)(this.activeMeterView.conversationsViews,function(e){var t=Object(a.find)(});t&&n.resetConversationView(t)}),this.activeMeterView.reset()},t.prototype.processAutoResetSettings=function(t){if(!Object(a.isNumber)(t.ResetFrequency)||!Object(a.isNumber)(t.ResetOnDay))throw new Error("processAutoResetSettings: invalid arguments passed");for(var e=c.a.get(),n=u.a.getLastResetDate()?new Date(u.a.getLastResetDate()):new Date(t.ResetsStartDate),r=12-t.ResetFrequency;0<=r;r-=t.ResetFrequency){var o=new Date(e.getFullYear(),r+1,0).getDate(),i=t.ResetOnDay>o?o:t.ResetOnDay,s=new Date(e.getFullYear(),r,i);if(n<s&&s<e){this.resetArticleViews(),u.a.setLastResetDate(c.a.get().toISOString(),{expires:new Date(S.g)}),_.a.dispatch(b.a.ViewsAutoReset,t);break}}},t.prototype.resetMeterViewIfNeed=function(){var t=r.a.getConfigurationSettings(),e=t?t.ViewsAutoResetSettings:null;e&&U.processAutoResetSettings(e);var n=r.a.getResetService();n&&n.isResetCurrentConversation()&&this.resetViews()},t.prototype.getCommonDataToSave=function(){var t={UserId:C.a.get(m.a.DeviceId),ConfigCode:g.a.get(m.a.ConfigCode),SiteCode:g.a.get(m.a.SiteCode)};return g.a.get(m.a.SettingsKey)&&(t.SettingsKey=g.a.get(m.a.SettingsKey)),t},t.prototype.incrementView=function(t){this.activeMeterView.updateStartDate(t.Properties.getStartDate()),this.activeMeterView.increment()},t.prototype.getLocalViewData=function(){var e="getLocalViewData";v.a.log(this.NAME,e,"Get local view data");try{var n={};this.meterViews.forEach(function(t){n=-1!==t.meterLevel?Object(a.extend)(n,t.getViewData()):n});var t={CodelistSet:x.a.getSavedAccessCode(),DynamicMeterViews:n,LastResetDate:u.a.getLastResetDate(),UserStorageSession:u.a.purgeAndGetUserSessionStorage()};return v.a.log(this.NAME,e,"Local view data is found",JSON.stringify(t)),Promise.resolve(t)}catch(t){return v.a.log(this.NAME,e,t),Promise.resolve({})}},t.prototype.setViewedArticles=function(t,e){var n=u.a.getViewedArticles();null==n&&(n={}),n[e]=t,u.a.setViewedArticles(n)},t.prototype.updateViewedArticles=function(t){try{var e=this.getViewedArticles(t.Id),n=this.getArticleId();null==e&&(e=[]),-1<e.indexOf(n)?!u.a.getUniqueArticles()&&g.a.getDebugMode()&&this.incrementView(t):(e.push(n),this.incrementView(t),this.setViewedArticles(e,t.Id))}catch(t){v.a.log(this.NAME,"UpdateViewedArticles",t)}},t.prototype.serverResetConversationViews=function(t){return t&&t.payload&&(t.payload.configCode&&(t.payload.configCode=t.payload.configCode),t.payload.siteCode&&(t.payload.siteCode=t.payload.siteCode),t.payload.settingsKey&&(t.payload.settingsKey=t.payload.settingsKey)),u.a.serverStorageResetConversationViews(t.payload,{location:w.a.System})},t.prototype.getSendViewData=function(){return this.getLocalViewData().then(function(t){var e={UserId:C.a.get(m.a.DeviceId),ConfigCode:g.a.get(m.a.ConfigCode),SiteCode:g.a.get(m.a.SiteCode),SettingsKey:g.a.get(m.a.SettingsKey),ViewData:t,masterId:null},n=y.a.getUserId();return n&&(e.masterId=decodeURIComponent(n)),Promise.resolve(e)})},t.prototype.sendViewData=function(){var e=this;return this.isHaveRequestForSaveView=!1,this.getSendViewData().then(function(t){return u.a.sendViewsData(t,{location:w.a.System}).then(function(t){v.a.log(e.NAME,"SendViewData","<< SUCCESS >>","data",t)})})},t.prototype.serverStorageDeleteViewsByUserId=function(){this.resetStorage(),this.sendViewData()},t.prototype.sendNewDeviceInfoToServer=function(t){var n=this;return this.getSendViewData().then(function(e){return e.newDeviceId=t.newId,e.UserId=t.id,u.a.sendViewsDataFromNewDevice(e,{location:w.a.System}).then(function(t){v.a.log(n.NAME,"sendNewDeviceInfoToServer","<< SUCCESS >>","sendData -",e,"answer-",t)}).catc})})},t.prototype.generateViewCookie=function(){var e={};return Object(a.each)(this.meterView}),e},t.prototype.setCurrentConversation=function(t){this.activeMeterView?this.activeMeterView.setActiveConversation(t):v.a.error("Active Meter is not set")},t.prototype.setRequestForSaveView=function(t,e){t&&e&&t.Id!=S.f.Id&&(this.isHaveRequestForSaveView=!0)},t.prototype.setViewStructureIfEmpty=function(){var t=u.a.getViewStructure();Object(a.isEmpty)(t)&&this.saveViewStructure()},t.prototype.saveViewStructure=function(t){t=t||this.generateViewCookie(),u.a.setViewStructure(t,{expires:new Date(S.g)})},t.prototype.setUpdateArticleCountCookie=function(){var t=c.a.get();t.setHours(t.getHours()+g.a.get(m.a.ViewsUpdateFromServerPeriod)),u.a.setUpdateArticleCount("1",{expires:t})},t.prototype.getArticleId=function(){var t=g.a.getArticleIdProvider();if(t){var e=t();if(e)return e!=encodeURIComponent(e)?E()(e).toString():e.toString();v.a.warn("articleIdProvider returned empty value")}return E()(Object(p.o)()).toString()},t.prototype.generateUserSession=function(){return{BrowserSessionId:g.a.getBrowserSessionId(),PageSessionId:g.a.getSessionId(),StartDateTime:c.a.get(),EndDateTime:null}},t.prototype.saveUserSessionStorage=function(t){var e=[t=t||this.generateUserSession()];u.a.setUserSessionStorage(e,{expires:new Date(S.g)})},t.prototype.setUserSessionStorageIfEmpty=function(){var t=u.a.getUserSessionStorage();if(Object(a.isEmpty)(t))this.saveUserSessionStorage();else{var e=this.generateUserSession();t.push(e),u.a.setUserSessionStorage(t,{expires:new Date(S.g)})}},t}())},function(t,e,n){var r,l,o,i,s,a,f,c,u,p,h,d,g;t.exports=(r=r||(l=Math,o=Object.create}(),s=(i={}).lib={},a=s.Base={exten},creat},init:function(){},mixI},clon}},f=s.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toStrin},conca},clam},clon},random:function(t){for(var e,n=[],},o=0;o<t;o+=4){var i=r(4294967296*(e||l.random()));e=987654071*i(),n.push(4294967296*i()|0)}return new f.init(n,t)}}),c=i.enc={},u=c.Hex={stringif},pars}},p=c.Latin1={stringif},pars}},h=c.Utf8={stringif},pars}},d=s.BufferedBlockAlgorithm=a.extend({rese},_appen},_proces},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),s.Hasher=d.extend({cfg:a.extend(),ini},rese},updat},finaliz},blockSize:16,_createHelpe},_createHmacHelpe}}),g=i.algo={},i),r)},,function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(33),o=n(123),i=n(39),s=n(74),a=n(241),c=n(334),u=n(339),p=n(28),l=n(45),f=n(333),h=n(0),d=n(205),g=n(20),y=n(16),v=new(function(){function t(){y.a.on(document,o.h.ChangedUserDat})}return t.prototype.createUser=function(t,e){return r.a.createUser(t,e)},t.prototype.syncUser=function(t,e){return r.a.syncUser(t,e)},t.prototype.setUserData=function(t){this.userData=t},t.prototype.getUserState=function(){var t=c.a.get(u.a.RefreshUserdataEveryPageload),e=c.a.get(u.a.UserStatePerPageload);return t&&e&&0!=e.length?Object(h.isEmpty)(e)?o.q.NotLoggedIn:e:(this.fixMg2BrokenData(),this.getMg2UserStateOnly())},t.prototype.fixMg2BrokenData=function(){this.getMg2UserStateOnly()!==o.q.NotLoggedIn&&i.a.hasPartialMg2AuthCookies()&&i.a.setDefaultUserData()},t.prototype.getMg2UserStateOnly=function(){return Object(h.isEmpty)(this.userData)?o.q.NotLoggedIn:this.userData.UserState},t.prototype.getUserMode=function(){if(this.userData){var t=this.userData.CustomerRegistrationId||null;return t?0:(t=this.userData.IgmRegID||null)?1:this.userData.UserId?0:null}},t.prototype.getUserId=function(){return this.userData?this.userData.UserId:""},t.prototype.getCustomerRegistrationId=function(){return this.userData?this.userData.CustomerRegistrationId?this.userData.CustomerRegistrationId:this.userData.IgmRegID?this.userData.IgmRegID:null:null},t.prototype.getUserZipCodes=function(){return this.zipCodes?new String(this.zipCodes).split(","):[s.a.getZipCode()]},t.prototype.getLoginUserZipCodes=function(){return this.isLogin()&&this.userData&&this.userData.ZipCodes?this.userData.ZipCodes:null},t.prototype.setUserZipCodes=function(t){this.zipCodes=t},t.prototype.notLoggedI},t.prototype.getOwnedSubscriptio},t.prototype.getSubscription},t.prototype.getEmai},t.prototype.getCachedUserData=function(){return r.a.getCachedUserData()},t.prototype.setCachedUserDat},t.prototype.needRefreshUserData=function(t,e){if(void 0===e&&(e=!1),e)return{refresh:!0,reason:o.o.updateEveryPageload};var n=this.getCachedUserData();return n&&n.UserId==t?Object(p.p)("clearUserState")?{refresh:!0,reason:o.o.clearUserStateParam}:Object(p.p)("login_id")&&Object(p.p)("hash")?{refresh:!0,reason:o.o.authSystemParams}:g.a.hasIsActualData()?{refresh:!1,reason:null}:{refresh:!0,reason:o.o.refreshUserDataCookieExpired}:{refresh:!0,reason:o.o.userDataMismatch}},t.prototype.updateCachedUserData=function(t){var e=new d.a(this.getCachedUserData());e.updateAuthProfileData(t),this.updateUserData(e)},t.prototype.updateUserData=function(t){t.UserState=t.UserState||this.defineUserState(t),t.ZipCodes=this.defineZipCodes(t.Subscriptions),this.setUserData(t),this.userData.LoginDate||(this.userData.LoginDate=this.getLastLoginDate()),r.a.saveUserData(t),this.dispatchAccessEvent(t.UserState)},t.prototype.updateUserDataWithoutAccessEvent=function(t){t.UserState=t.UserState||this.defineUserState(t),t.ZipCodes=this.defineZipCodes(t.Subscriptions),this.setUserData(t),this.userData.LoginDate||(this.userData.LoginDate=this.getLastLoginDate()),r.a.saveUserData(t)},t.prototype.dispatchAccessEvent=function(t){var e=l.a.NotAuthorized;switch(t){case o.q.LoggedIn:e=l.a.Authorized;break;case o.q.Subscribed:e=l.a.HasAccess;break;case o.q.SubscribedNotEntitled:e=l.a.HasAccessNotEntitled;break;case o.q.NoActiveSubscription:e=l.a.HasNoActiveSubscription}var n={AuthSystem:this.userData.AuthSystem,AuthProfile:this.getAuthProfile(),MG2AccountData:this.userData};t!=o.q.NotLoggedIn&&null!=t&&f.a.dispatch(l.a.LoggedIn,n),f.a.dispatch(e,n)},t.prototype.getAuthProfile=function(){var t=r.a.getCachedUserData();return t?t.AuthProfile:null},t.prototype.calculateUserState=function(t,e){var n=o.q.NotLoggedIn,r=t&&t.AccessLevel?t.AccessLevel.toUpperCase():"";return t&&Object(h.isEmpty)(t.Errors)?r===o.d.Premium?n=o.q.Subscribed:r===o.d.Upgrade?n=o.q.SubscribedNotEntitled:r===o.d.Purchase?n=o.q.NoActiveSubscription:e&&0!==e.length?e&&0<e.length&&!r&&(n=o.q.LoggedIn,a.a.error("Account with subscriptions, digital access is undefined",t)):n=o.q.LoggedIn:n=o.q.LoggedIn,n},t.prototype.defineUserStat},t.prototype.defineZipCodes=function(t){var e=null;Object(h.isArray)(t)&&0<t.length?e=t.map(function(t){var e=t.BillingAddress;if(e&&e.ZipCode)return e.ZipCode;var n=t.DeliveryAddress;return n&&n.ZipCode?n.ZipCode:null}).filter(function(t){return t}):e=s.a.getZipCode()?[s.a.getZipCode()]:[];return e},t.prototype.getUserData=function(){return this.userData},t.prototype.clearStorage=function(){r.a.clearStorage()},t.prototype.getFullName=function(){return this.userData&&this.isLogin()?this.userData.FullName:""},t.prototype.isSubscribed=function(){return this.getUserState()===o.q.Subscribed},t.prototype.isLogin=function(){return this.getUserState()!==o.q.NotLoggedIn},t.prototype.isSubscribedNotEntitle},t.prototype.setUserProfile=function(t){r.a.setProfile(t)},t.prototype.getUserProfile=function(){return r.a.getProfile()},t.prototype.expireUserData=function(){r.a.deleteUserDataExpiration()},t.prototype.resetPassword=function(t,e){return r.a.resetPassword(t,e)},t.prototype.getLastLoginDate=function(){return i.a.getLastLoginDate()},t}())},function(t,e,n){"use strict";var r,o;n.r(e),n.d(e,"Operator",function(){return r}),(o=r||(r={}))[o.Equal=1]="Equal",o[o.NotEqual=2]="NotEqual",o[o.LessThan=3]="LessThan",o[o.LessThanEqual=4]="LessThanEqual",o[o.GreaterThan=5]="GreaterThan",o[o.GreaterThanEqual=6]="GreaterThanEqual",o[o.And=7]="And",o[o.Contains=8]="Contains",o[o.DoesNotContain=9]="DoesNotContain",o[o.In=10]="In",o[o.NotIn=11]="NotIn",o[o.StartWith=12]="StartWith",o[o.EndWith=13]="EndWith",o[o.Intersect=14]="Intersect",o[o.DoesNotIntersect=15]="DoesNotIntersect"},function(t,e,n){"use strict";n.r(e);var i,r=n(175),o=n(9),s=n(18),a=n(64),c=n(335),u=n(0),p=n(58),l=n(334),f=n(339),h=n(241),d=n(333),g=n(45),y=n(122),v=n(55);(i||(i={})).BeforeContentChanged="onInnerBeforeContentChanged",n.d(e,"ActionModule",function(){return m});var m=new(function(){function t(){this.NAME="ActionModule",this.originalActionContent=[],this.actions=[],this.FlittzButton="[data-fz-btn=smartAuth]",this.isOnTimeRun=!0,l.a.set(f.a.ActionModuleInstance,this)}return t.prototype.createActio},t.prototype.processActions=function(t){var r=this,o="processActions";h.a.log("processAction",o,t);try{d.a.dispatch(i.BeforeContentChanged),Object(u.each)(t,function(t,e){h.a.log(r.NAME,o,"Actions.EACH",e,t);var n=r.createAction(t);n&&(r.actions.push(n),n.registerTrigger(),n instanceof p.MaskContentAction&&r.originalActionContent.push(n))})}catch(t){h.a.error(this.NAME,o,t)}},t.prototype.integrateProduct=function(){var t=Object(u.sortBy)(this.originalActionContent,function(t){return t.getMaskedTime()}).reverse();Object(u.each)(t,function(t){t.unmaskContent()}),this.originalActionContent=[]},t.prototype.clearConnextState=function(){this.isOnTimeRun=!0,this.clearActionsSchedule(),this.integrateProduct(),r.a.getInstance().closeAllTemplates(),v.a.reset()},t.prototype.clearActionsSchedule=function(){Object(u.each)(this.actions,function(t){var e=t.getRegisteredTrigger();e&&e.unRegister()}),this.breakPromises(l.a.get(f.a.Promises)),this.actions=[]},t.prototype.resetConversationRepeatableActions=function(t){if(!t)return c.a.deleteTimeRepeatableActions(),void c.a.removeRepeatablesInConv();var e=c.a.getTimeRepeatableActions();e&&e[t.Id]&&(delete e[t.Id],c.a.setTimeRepeatableActions(e));var n=c.a.getRepeatablesInConv();n&&t.Actions&&Object(u.each)(t.Action}),c.a.setRepeatablesInConv(n)},t.prototype.setTimeRepeatableActions=function(t){c.a.setTimeRepeatableActions(t)},t.prototype.resetStorage=function(){c.a.resetStorage()},t.prototype.breakPromises=function(t){Object(u.each)(}),t=[]},t.prototype.getConnextPaywallFired=function(){return c.a.getConnextPaywallFired()},t.prototype.setPossibilityPresentForUser=function(e){e&&this.isOnTimeRun&&(d.a.subscribe(g.a.LoginSuccess,function(t){c.a.setPossibilityPresentForUser(e)}),this.isOnTimeRun=!1)},t.prototype.deletePossibilityPresentForUser=function(){c.a.deletePossibilityPresentForUser()},t.prototype.getArticleCost=function(){var t=c.a.getArticleCost();return t||""},t.prototype.getDaysToExpire=function(t,e){var n,r=y.a.get(),o=new Date(t);return e?(n=e/864e5-(r.valueOf()-o.valueOf())/864e5)<=0?"less than 1":Math.round(n):""},t.prototype.getReplaceVariables=function(){var t=s.Campaign.getCurrentConversationType();return{FreeViewsLeft:t.properties.getFreeViewsLeft(),CurrentViewCount:t.properties.getViews(),ExpireTimeLeft:this.getDaysToExpire(t.properties.getStartDate(),t.getNearestExpirationTime()),ArticleCost:this.getArticleCost(),UserFullName:o.a.getFullName(),ArticleLeft:t.properties.getFreeViewsLeft()}},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"Action",function(){return _});var r=n(66),o=n(241),i=n(16),s=n(333),a=n(45),c=n(334),u=n(339),p=n(122),l=n(175),f=n(39),h=n(19),d=n(220),g=n(6),y=n(280),v=n(210),m=n(123),_=function(){function t(t){this.DEFAULT_ACTION_ID="ConneXt_Action_Id-",this.FlittzButton="[data-fz-btn=smartAuth]",this.countShow=0,this.closed=!0,this.firstShow=!1,t.closeEvent=null,this.action=new y.a(t)}return t.prototype.isFirstShow=function(){return this.firstShow},t.prototype.incrementCountSho},t.prototype.resetCountSho},t.prototype.getCountShow=function(){return this.countShow},t.prototype.executeActio},t.prototype.prepareToShow=function(t){return o.a.log("Action","prepareToShow","Action type is"+this.action.ActionType),this.action.What&&!this.action.What.Html?(o.a.log("Action","setActionTemplate","===== ACTION NOT PASSED(No HTML) =====",this.action),Promise.reject()):(this.action.What.Html=i.a.parseVariables(this.action.What.Html.trim(),t),this.setActionTemplate(),this.existTemplate()?Promise.resolve():Promise.reject())},t.prototype.existTemplat},t.prototype.getActionElement=function(){return this.element?this.element:i.a.queryElement("#"+this.getActionId())},t.prototype.show=function(){this.firstShow||(this.firstShow=!0),this.closed=!1,s.a.dispatch(a.a.ActionShow,this.action),c.a.set(u.a.ActionStartTime,p.a.get())},t.prototype.close=function(t){this.action.CloseEvent=t.detail.closeEvent,s.a.dispatch(a.a.ActionClosed,this.action),this.closed=!0,c.a.set(u.a.ActionEndTime,p.a.get())},t.prototype.isClosed=function(){return this.closed},t.prototype.setActionTemplate=function(){var t=new v.a(this.action.What);this.actionTemplate=l.a.getInstance().createTemplate(t)},t.prototype.getActionTemplate=function(){return this.actionTemplate},t.prototype.showTemplate=function(){document.getElementById("ConneXt_Action_Id-"+this.action.Id)||(this.prepareTemplateToShow(),this.actionTemplate.beforeShow(),this.actionTemplate.show(),this.actionTemplate.afterShow())},t.prototype.prepareTemplateToShow=function(){var e=this,t=this.actionTemplate.getElement();if(this.actionTemplate.addCss(this.action.What.Css,this.action.Id),this.actionTemplate.setId(this.getActionId()),this.addFlittzButtonEvent(t),f.a.processLinks(t),this.action.What.SwGEnable){var n=c.a.get(u.a.SwGInstance);n&&n.SwG.renderButtons(t,{offers:this.action.What.SwGOffers})}i.a.on(this.actionTemplate.getElement(),m.h.TemplateClosed,function(t){e.close(t)})},t.prototype.registerTrigge},t.prototype.getRegisteredTrigger=function(){return this.showTrigger},t.prototype.addFlittzButtonEvent=function(t){var e=this,n=i.a.find(this.FlittzButton,t);0<n.length&&i.a.on(n,"click",function(t){e.flittzBtnHandler(t)})},t.prototype.flittzBtnHandler=function(e){var n=this;e.preventDefault(),h.a.get(u.a.IntegrateFlittz)&&d.a.loadCampaign().then(function(t){e.EventData.conversation=t?t.getCurrentConversation():null,e.EventData.viewCount=g.a.getCurrentConversationViewCount(),e.EventData.hasFlittz=!0,window.CommonFz.PushData("Connext-onFlittzButtonClick",e),s.a.dispatch(a.a.FlittzButtonClick,n.action)})},t.prototype.getActionId=function(){return""+this.DEFAULT_ACTION_ID+this.action.Id},t}()},,,,function(t,e,n){"use strict";var c=n(0),i=n(29),r=new(function(){function t(){this.registredListeners=[]}return t.prototype.registerListener=function(t){t.element.addEventListener(t.type,t.listener,t.options),this.registredListeners.push(t)},t.prototype.removeListene},t.prototype.removeAllListener},t}()),u=n(276);n.d(e,"a",function(){return p});var p=new(function(){function o(){this.connextScriptClass="nxt-script"}return o.prototype.removeAllEventListeners=function(){r.removeAllListeners()},o.prototype.parseVariables=function(n,r){r||(r={});var t=this.getMatches(n,/{{([\w]+)}}/g,1);return Object(c.each)(}),n},o.prototype.getMatche},o.prototype.queryElement=function(t,e){var n=e||document;return"object"==typeof t?t:n.querySelector(t)},o.prototype.getElementsByClassName=function(t,e){return t?u.a.nodeListToArray(t.getElementsByClassName(e)):[]},o.prototype.toogleClass=function(t,e){var n=this;return t?u.a._isIterable(t)?(Object(c.each)(t,function(t){n.toogleClass(t,e)}),o):void t.classList.toggle(e):null},o.prototype.addClass=function(t,e){var n=this;return t?u.a._isIterable(t)?(Object(c.each)(t,function(t){n.addClass(t,e)}),o):void t.classList.add(e):null},o.prototype.removeClass=function(t,e){if(!t)return null;if(u.a._isIterable(t))for(var n=t.length,r=0;r<n;r++){if(!u.a.isNode(t[r]))return console.error("Dom.removeClass"+t[r]+" is not a DOMNode object"),null;this.removeClass(t[r],e)}if(!u.a.isNode(t))return console.error("Dom.removeClass"+t+" is not a DOMNode object"),null;t.classList.remove(e)},o.prototype.hasClas},o.prototype.on=function(n,r,o,t){var i=this;if(!n)return null;if(!Object(c.isArray)(n)||0!=n.length){var e=r.split(" ");if(1<e.length){for(var s=0,a=e.length;s<a;s++)this.on(n,e[s],o);return this}if(Object(c.isString)(n)){return u.a.addEventListener(document.body,r,function(t){for(var e=t.target;e&&e!==this;){if(e.matches(n))return void o.call(e,t);e=e.parentNode}}),this}return u.a._isIterable(n)?Object(c.each)(n,function(t,e){i.on(t,r,o)}):u.a.addEventListener(n,r,o),this}},o.prototype.removeConnextListeners=function(){var o=this;u.a.nodeListToArray(document.querySelectorAll("*")).concat([window]).filter(function(t){return t._event}).forEach(function(r){Object.keys(r._event).forEach(function(t){for(var e=r._event[t].handlers,n=e.length-1;0<=n;n--)r&&o.off(r,t,e[n])})})},o.prototype.off=function(t,n,r){var o=this;return t?(u.a._isIterable(t)?Object(c.each)(}):u.a.removeEventListener(t,n,r),this):null},o.prototype.one=function(n,r,o){var i=this;this.on(n,})},o.prototype.setFocu},o.prototype.createElement=function(t){return document.createElement(t)},o.prototype.find=function(t,e){var n,r=/:visible/g,o=r.test(t);return o&&(t=t.split(r).join("")),n=u.a.isNode(e)?u.a.nodeListToArray(e.querySelectorAll(t)):u.a.nodeListToArray(document.querySelectorAll(t)),o?p.isVisible(n):n},o.prototype.css=function(t,e){var n=this;if(u.a._isIterable(t))return Object(c.each)(t,function(t){n.css(t,e)}),o;if(!u.a.isNode(t))return console.error(t+" is not a DOMNode object"),null;if("string"==typeof e)return u.a._getComputedStyle(t,e);if(u.a._isLiteralObject(e)){for(var r in e)t.style[r]=e[r];return e}return null},o.prototype.height=function(t){return this.offset(t).height},o.prototype.width=function(t){return this.offset(t).width},o.prototype.top=function(t){return this.offset(t).top},o.prototype.botto},o.prototype.offset=function(t){if(!u.a.isElement(t))return!1;var e=t.getBoundingClientRect(),n={top:Math.round(e.top),right:Math.round(e.right),bottom:Math.round(e.bottom),left:Math.round(e.left),width:e.width?Math.round(e.width):Math.round(t.offsetWidth),height:e.height?Math.round(e.height):Math.round(t.offsetHeight)},r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return n.top=e.top+o,n.left=e.left+r,n.bottom=e.bottom+o,n},o.prototype.remove=function(t){var e=this;if(!t)return null;if(u.a._isIterable(t))return Object(c.each)(t,function(t){e.remove(t)}),null;if(!u.a.isNode(t))return console.error("Dom.remove "+t+" is not a DOMNode object"),null;var n=t.parentNode;return n?n.removeChild(t):void 0},o.prototype.children=function(t,e){if(!t)return[];if("boolean"==typeof e&&e)return t.childNodes;var n=[];if(Object(c.isString)(e)){for(var r=0,o=t.childNodes.length;r<o;r++)t.childNodes[r].nodeName.toLowerCase()===e.toLowerCase()&&n.push(t.childNodes[r]);return n}for(var r in t.childNodes)1===t.childNodes[r].nodeType&&n.push(t.childNodes[r]);return n},o.prototype.append=function(t,e){var n,r;return u.a.isNode(t)?(n=Object(c.isString)(e)?this.create(e):e,i.a.isIE()&&(r=document.importNode(n,!0)),r=t.appendChild(n),this.findExecuteScript(r),r):(console.error("Dom.append "+t+" is not a DOMNode object"),null)},o.prototype.removeScript},o.prototype.DOMEval=function(t){var e=document.createElement("script");e.classList.add(this.connextScriptClass),e.text=t,p.queryElement("body").appendChild(e)},o.prototype.findExecuteScript=function(t){var n=this,e=this.find("script",t),r=[];e&&0<e.length&&(Object(c.each)(}),this.restoreScripts(r))},o.prototype.replaceScript=function(t){var e=document.createComment("Script placeholder");return t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),{placeholder:e,node:t}},o.prototype.restoreScripts=function(t){var n=this;Object(c.each)(t,function(t){var e=document.createElement("script");Object(c.each)(t.node.attribute}),e.text=t.node.innerHTML,e.classList.add(n.connextScriptClass),p.queryElement("body").appendChild(e)})},o.prototype.creat},o.prototype.html=function(t,e){return t?u.a._isIterable(t)?this.html(Object(c.first)(t),e):Object(c.isString)(e)||Object(c.isNumber)(e)?t.innerHTML=e:t.innerHTML:null},o.prototype.hide=function(t){var e=this;if(t)return u.a._isIterable(t)?(Object(c.each)(t,function(t){e.hide(t)}),this):void(t.style.display="none")},o.prototype.show=function(t){var e=this;return u.a._isIterable(t)?(Object(c.each)(t,function(t){e.show(t)}),this):u.a.isNode(t)?void(t.style.display=""):null},o.prototype.attr=function(t,e){if(!u.a.isNode(t))return console.error(t+" is not a DOMNode object"),null;if("string"==typeof e){var n=void 0;return""===(n="class"===e&&void 0!==t.className?t.className:"for"===e&&void 0!==t.htmlFor?t.htmlFor:"value"===e&&void 0!==t.value?t.value:t.getAttribute(e))&&(n=null),n}if(u.a._isLiteralObject(e)){for(var r in e)null===e[r]?t.removeAttribute(r):t.setAttribute(r,e[r]);return e}return null},o.prototype.before=function(t,e){return u.a.isNode(t)?(n=Object(c.isString)(e)?this.create(e):e,t.parentNode.insertBefore(n,t),this.findExecuteScript(n),e):(console.error("Dom.before "+t+" is not a DOMNode object"),null);var n},o.prototype.inAsFirstChild=function(t,e){return u.a.isNode(t)?(Object(c.isString)(e)&&(e=this.create(e)),t.insertBefore(e,t.firstChild),this.findExecuteScript(e),e):(console.error("Dom.before "+t+" is not a DOMNode object"),null)},o.prototype.after=function(t,e){return u.a.isNode(t)?(Object(c.isString)(e)&&(e=this.create(e)),t.parentNode.insertBefore(e,t.nextSibling),this.findExecuteScript(e),e):(console.error("Dom.before "+t+" is not a DOMNode object"),null)},o.prototype.val=function(t,e){var n=this,r=[];return u.a._isIterable(t)?(Object(c.each)(}),r[0]):u.a.isNode(t)?e?void(t.value=e):t.value:(console.error("Dom.before "+t+" is not a DOMNode object"),null)},o.prototype.getCssAttribut},o.prototype.getTextElement=function(t){return u.a.isNode(t)?t.innerText?t.innerText:t.textContent:(console.log("Dom.text "+t+" is not a DOMNode object"),null)},o.prototype.setTextElement=function(t,e){if(!u.a.isNode(t))return console.log("Dom.text "+t+" is not a DOMNode object"),null;t.innerText?t.innerText=e:t.textContent=e},o.prototype.setTextElement},o.prototype.getTextElements=function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(this.getTextElement(t[r]));return e.join(" ")},o.prototype.text=function(t,e){if(u.a._isIterable(t)){if(!Object(c.isString)(e))return this.getTextElements(t);this.setTextElements(t,e)}else{if(!Object(c.isString)(e))return this.getTextElement(t);this.setTextElement(t,e)}},o.prototype.isVisible=function(t){var e=this;return u.a._isIterable(t)?Object(c.filter)(t,function(t){return e.isVisible(t)}):t.offsetWidth&&t.offsetHeight},o.prototype.empt},o.prototype.parents=function(t,e){if(!t)return null;t=t.parentNode;for(var n=[];t&&null!==t;t=t.parentNode)if(e){if(!(t=t.closest(e)))return n;n.push(t)}else n.push(t);return 0===n.length?null:n},o.prototype.hasAttribute=function(t,e){return u.a._isIterable(t)?this.hasAttribute(Object(c.first)(t),e):u.a.isNode(t)?t.hasAttribute(e):(console.error("Dom.hasAttribute "+t+" is not a DOMNode object"),null)},o.prototype.updateStyleAttr=function(t,e){var n=this;if(!e)return null;if(u.a._isIterable(t))Object(c.each)(t,function(t){n.updateStyleAttr(t,e)});else{if(!u.a.isNode(t))return console.error("Dom.updateStyleAttr "+t+" is not a DOMNode object"),null;var r=this.getStyles(t);if("object"!=typeof e)return console.error("Dom.updateStyleAttr "+e+" is not an object"),null;for(var o in e)r[o]=e[o];t.setAttribute("style",this.parseToStyleStr(r))}},o.prototype.getStyles=function(t){for(var e,n,r,o=p.attr(t,"style"),i=o?o.split(";"):"",s=i.length,a={};s--;)e=i[s].split(":"),n=new String(e[0]).trim(),r=new String(e[1]).trim(),0<n.length&&0<r.length&&(a[n]=r);return a},o.prototype.parseToStyleStr=function(e){var n="";return Object(c.each)(Object(c.keys)(e}),n},o.prototype.getDocumentHeigh},o.prototype.getWindowHeight=function(){return window.innerHeight||(document.documentElement||document.body).clientHeight},o.prototype.getWindowYscroll=function(){return window.pageYOffset||(document.body||document.documentElement).scrollTop},o.prototype.percentsScrolled=function(){return Math.floor(this.getWindowYscroll()/(this.getDocumentHeight()-this.getWindowHeight())*100)},o.prototype.hasScrollbar=function(){var t=document.documentElement||document.body,e=window.getComputedStyle(t,"").overflowY,n=t.scrollHeight>t.clientHeight,r=/^(visible|auto)$/.test(e);return n&&r||"scroll"===e},o.prototype.removeConnextScripts=function(){Object(c.each)(document.querySelectorAll("script."+this.connextScriptClass})},o.prototype.isExistElemen},o.prototype.clone=function(t){return t.cloneNode(!0)},o.prototype.nextSibling=function(t){return t.nextSibling},o.prototype.isChil},o.prototype.getType=function(t){return t.nodeName.toLowerCase()},o}())},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"ClickMg2Action",function(){return E}),n.d(r,"ActivationMg2Action",function(){return L}),n.d(r,"ClickNewsdayMg2Action",function(){return k}),n.d(r,"ConnextRunMg2Action",function(){return N}),n.d(r,"LoginMg2Action",function(){return G}),n.d(r,"LogoutMg2Action",function(){return Z}),n.d(r,"OpenNewsletterWidgetMg2Action",function(){return J}),n.d(r,"RegisterMg2Action",function(){return K}),n.d(r,"SubmitMg2Action",function(){return q}),n.d(r,"ZipCodeMg2Action",function(){return tt}),n.d(r,"AccessCodeMg2Action",function(){return rt}),n.d(r,"SwGAccountLinkingMg2Action",function(){return st}),n.d(r,"HideEntitledMg2Action",function(){return pt}),n.d(r,"HideLoggedInMg2Action",function(){return ft}),n.d(r,"HideLoggedOutMg2Action",function(){return dt});var o,i,s,a,c,u,p,l,f,h,d,g,y,v,m,_,b=n(123),C=n(333),w=n(45),S=n(0),A=n(16),I=function(){function t(){this.selectAttr="data-mg2-action"}return t.prototype.getActionElemen},t.prototype.setSelector=function(){this.selector="["+this.selectAttr+"="+this.actionName+"]"},t.prototype.register=function(){var e=this;this.setSelector(),A.a.on(this.selector,"click",function(t){e.run(t),C.a.dispatch(w.a.ButtonClick,t)})},t.prototype.ru},t.prototype.show=function(){A.a.show(this.getActionElement())},t.prototype.hid},t.prototype.isShow=function(){return!0},t}(),O=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="click",t}return O(t,e),t.prototype.run=function(t){"click"!==this.actionName&&"click-Newsday"!==this.actionName&&e.prototype.run.call(this,t)},t}(I),P=n(334),D=n(339),x=n(276),B=n(9),U=n(220),R=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),L=function(n}return R(t,n),t.prototype.run=function(t){n.prototype.run.call(this,t);var e=P.a.get(D.a.ActivationInstance);e?e.process():this.processActivation()},t.prototype.show=function(){try{var t=this.getActionElement();if(t){var e=(x.a._isIterable(t)?t:[t]).filter(function(t){return 0<A.a.parents(t,".Mg2-connext").length});A.a.show(e)}}catch(t){n.prototype.show.call(this)}},t.prototype.isShow=function(){return B.a.getUserState()!==b.q.Subscribed},t.prototype.processActivation=function(){U.a.loadActivation().then(function(t){t&&(new t).process()})},t}(E),T=n(47),F=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="click-Newsday",t}return F(t,e),t.prototype.run=function(t){e.prototype.run.call(this,t),C.a.dispatch(w.a.NewsdayButtonClick,t),window.setDestUrl&&Object(T.isFunction)(window.setDestUrl)&&window.setDestUrl()},t}(E),V=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="connextRun",t}return V(t,e),t.prototype.run=function(t){e.prototype.run.call(this,t),C.a.dispatch(b.h.ApplicationReload,null)},t}(E),M=n(39),j=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="login",t}return j(t,e),t.prototype.ru},t.prototype.isShow=function(){return B.a.getUserState()===b.q.NotLoggedIn},t}(E),W=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="logout",t}return W(t,e),t.prototype.run=function(){e.prototype.run.call(this,event),M.a.logout()},t.prototype.isShow=function(){return B.a.getUserState()!==b.q.NotLoggedIn},t}(E),H=n(241),X=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),J=function(s){function t(){var t=null!==s&&s.apply(this,arguments)||this;return t.actionName="openNewsletterWidget",t}return X(t,s),t.prototype.run=function(t){var e="NewsletterWidgetHandler";H.a.log(e,t);try{s.prototype.run.call(this,t);var n=t.target,r={email:"",categoryIdsList:this.getIdsList(n.dataset.categoryIdsList),newsletterIdsList:this.getIdsList(n.dataset.newsletterIdsList),viewMode:+n.dataset.viewMode||0},o=A.a.find('[data-mg2-input="Email"]',A.a.parents(n,".Mg2-connext")),i=A.a.val(o);void 0!==i&&""!==i&&(r.email=i),window.mg2WidgetAPI&&window.mg2WidgetAPI.openNewsletter(r)}catch(t){H.a.error(e,t)}},t.prototype.getIdsList=function(t){return void 0!==t?t.toString().split(",").ma}):[]},t}(E),Q=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="register",t}return Q(t,e),t.prototype.run=function(t){e.prototype.run.call(this,t),M.a.showRegisterForm(t)},t.prototype.isShow=function(){return B.a.getUserState()===b.q.NotLoggedIn},t}(E),Y=n(28),z=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),q=function(s){function t(){var t=null!==s&&s.apply(this,arguments)||this;return t.actionName="submit",t}return z(t,s),t.prototype.run=function(t){var e="SubscribeClickHandler";H.a.log(e,t);try{s.prototype.run.call(this,t);var n=t.target,r=A.a.attr(n,"href"),o=A.a.find('[data-mg2-input="Email"]',A.a.parents(n,".Mg2-connext")),i=A.a.val(o);window.location.href=Object(Y.c)(r,"email",i)}catch(t){H.a.error(e,t)}},t}(E),$=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tt=function(a){function t(){var t=null!==a&&a.apply(this,arguments)||this;return t.actionName="Zipcode",t}return $(t,a),t.prototype.run=function(t){var e="SubmitZipCodeHandler";H.a.log(e,t);try{a.prototype.run.call(this,t);var n=t.target,r=A.a.attr(n,"href"),o=A.a.parents(n,".Mg2-zip-wrapper"),i=A.a.find('[data-mg2-input="Zipcode"]',o[0]),s="";i&&(s=A.a.val(i[0])),r=Object(Y.c)(r,"zipcode",s),A.a.attr(n,{href:r}),n.hasAttribute("target")?window.open(r,"_blank"):window.location.href=r}catch(t){H.a.error(e,t)}},t}(E),et=n(44),nt=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rt=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.actionName="'access code'",t}return nt(t,o),t.prototype.run=function(t){o.prototype.run.call(this,t);var e=t.target,n=e;n.dataset.mg2CodeSet||(n=A.a.parents(e,this.selector)[0]);var r=+n.dataset.mg2CodeSet;et.a.processAccessCodeFlow(r)},t}(E),ot=n(160),it=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),st=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.actionName="SwGAccountLinking",t}return it(t,o),t.prototype.run=function(t){var e="SwGAccountLinking";H.a.log(e,t);try{o.prototype.run.call(this,t);var n={CustomerRegistrationId:B.a.getCustomerRegistrationId()},r=window.btoa(JSON.stringify(n));ot.SwG.linkSubscriptions(r).then(function(t){})}catch(t){H.a.error(e,t)}},t.prototype.isShow=function(){return B.a.isSubscribed()},t}(E),at=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ct=function(e}return at(t,e),t.prototype.register=function(){this.setSelector(),this.findedElements=A.a.find(this.selector,document),this.run()},t.prototype.run=function(t){e.prototype.run.call(this,t),this.isShow()?A.a.show(this.findedElements):A.a.hide(this.findedElements)},t}(I),ut=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="hideentitled",t}return ut(t,e),t.prototype.isShow=function(){return B.a.getUserState()!==b.q.Subscribed},t}(ct),lt=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="hideloggedin",t}return lt(t,e),t.prototype.isSho},t}(ct),ht=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionName="hideloggedout",t}return ht(t,e),t.prototype.isSho},t}(ct);n.d(e,"a",function(){return gt});var gt=new(function(){function t(){this.registeredActions=[],this.isRegistrationProcess=!1,this.isActivationProcess=!1,this.isLoginEndProcess=!1}return t.prototype.registerActions=function(){var n=this,t=Object.keys(r);Object(S.each)(t,function(t){var e=new r[t];e.register(),n.registeredActions.push(e)}),this.setupUserVisibilityActions()},t.prototype.setupUserVisibilityActions=function(){var t=this;C.a.subscribe([w.a.AnyAccountStatusEvent],function(){return t.setVisibility()}),C.a.subscribe([b.h.TemplateShown],function(){t.setVisibility()})},t.prototype.setVisibility=function(){Object(S.each)(this.registeredAction})},t.prototype.startRegistrationProcess=function(){this.isRegistrationProcess=!0},t.prototype.stopRegistrationProcess=function(){this.isRegistrationProcess=!1},t.prototype.getRegistrationProcess=function(){return this.isRegistrationProcess},t.prototype.startActivationFlow=function(){this.isActivationProcess=!0},t.prototype.stopActivationFlo},t.prototype.getActivationProcess=function(){return this.isActivationProcess},t.prototype.setLoginEndFlowStatus=function(t){this.isLoginEndProcess=t},t.prototype.getLoginEndFlowStatus=function(){return this.isLoginEndProcess},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"Campaign",function(){return _});var r=n(134),i=n(6),s=n(235),o=n(351),a=n(113),c=n(333),u=n(334),p=n(339),l=n(241),f=n(338),h=n(45),d=n(88),g=n(78),y=n(343),v=n(0),m=n(42),_=new(function(){function t(){this.NAME="Campaign",u.a.set(p.a.CampaignInstance,this)}return t.prototype.process=function(e,t){var n=this;this.meterLevel=e.Level,this.meterLevelId=e.Id,this.campaignModel=new s.a(t),this.conversations=this.campaignModel.Conversations[this.meterLevel]||[],this.criteriaProvider=a.CriteriaProvider.getInstance();var r=y.a.getAllConversations();r&&r.lenght===this.conversations.length||y.a.setAllConversations(this.campaignModel.Conversations);var o="processCampaign";try{if(l.a.log(this.NAME,o,"Starting process campaign...",t,this.meterLevel),!this.meterLevel)throw f.a.NO_METER_LEVEL_SET;if(!t)throw f.a.NO_CAMPAIGN;return c.a.dispatch(h.a.CampaignFound,t),this.calculateCurrentConversation().then(function(t){return null===t&&(t=new g.Conversation(null,n)),n.conversationType=t,u.a.set(p.a.CurrentConversation,n.conversationType),t.start(e).then(function(){return Promise.resolve(!0)}).catch(function(t){return Promise.reject(t)})})}catch(t){t.custom?l.a.warn(t.message):l.a.error(this.NAME,o,t);var i=t.message?t.message:t;return c.a.dispatch(h.a.CriticalError,i),Promise.reject(i)}},t.prototype.getName=function(){return this.campaignModel.Name},t.prototype.calculateCurrentConversation=function(){var r=this,o="calculateCurrentConversation";return new Promise(function(e,n){l.a.log(r.NAME,o,"Get conversation for a processing");try{var t=r.getStoredConversationByMeterLevel();return t&&!t.properties.Date.Started&&t.setDefaultConversationProperties(),r.updateExpirationsSettings(t),r.convCalculation=0,t?r.criteriaProvider.isConversationValid(t.conversation).then(function(){l.a.log(r.NAME,o,"Found a stored valid conversation",t),e(t)}).catch(function(){return l.a.log(r.NAME,o,"Found a new valid conversation",t),r.getConversation(t).then(function(t){e(t)})}):r.getConversation().then(function(t){l.a.log(r.NAME,o,"Found a new conversation",t),e(t)})}catch(t){l.a.error(r.NAME,o,t),n()}})},t.prototype.getFilteredConversation=function(){var e=this,n="getFilteredConversation";return l.a.log(this.NAME,n,"Getting conversation"),this.criteriaProvider.calculateConversation(this.conversations).then(function(t){return Promise.resolve(new g.Conversation(t,e))}).catch(function(t){return l.a.warn(e.NAME,n,t),Promise.resolve(null)})},t.prototype.getNextConversation=function(t){l.a.log(this.NAME,"getNextConversation","Go to conversation",t);var e=this.conversations,n=null;return e.length&&t&&(n=Object(v.find)(e,{Id:t})),new g.Conversation(n,this)},t.prototype.getCurrentConversationFromStorage=function(){var t=this.getCurrentConversations();return t?t[this.meterLevel]:null},t.prototype.getConfigUpdateConversation=function(t,e){var n=m.a.getConversation(this.meterLevel,t);return n?(n.Properties=e,n):null},t.prototype.updateExpirationsSettings=function(t){t&&t.conversation&&t.conversation.ExpirationSettings&&t.updateDateExpiration()},t.prototype.getRestoredConversationFromCookie=function(t){t||(t=i.a.getActiveConversationId());var e=new r.a({Date:{Started:i.a.getConversationStartDate(t)}});return this.getConfigUpdateConversation(t,e)},t.prototype.getStoredConversationByMeterLevel=function(){var e="getStoredConversationByMeterLevel",t=i.a.getActiveConversationId(),n=this.getCurrentConversationFromStorage();try{l.a.log(this.NAME,e,"meterLevel",this.meterLevel);var r=null;return n?r=n.Id==t?this.getConfigUpdateConversation(n.Id,n.Properties):this.getRestoredConversationFromCookie(t):t&&(r=this.getRestoredConversationFromCookie(t)),l.a.log(this.NAME,e,"Found stored conversations for meter level",this.meterLevel,r),r?new g.Conversation(r,this):null}catch(t){return l.a.error(this.NAME,e,t),null}},t.prototype.saveCurrentConversation=function(t){var e="saveCurrentConversation";l.a.log(this.NAME,e,t.Name);try{this.setStoredCurrentConversation(t);var n=this.getCurrentConversations()||{};n[this.meterLevel]=t,this.setStoredCurrentConversations(n)}catch(t){l.a.error(this.NAME,e,t)}},t.prototype.getConversation=function(n,r){var o=this;return new Promise(function(e,t){o.getNewConversationByExpired(n).then(function(t){return t?(n&&n.expired(t,r),o.convCalculation++,t.conversation?(t.setPrevExpirationSettings(n),i.a.setCurrentConversation(t.conversation),t.setDefaultConversationProperties(),o.criteriaProvider.isConversationValid(t.conversation).the}).catch(function(){o.convCalculation>o.conversations.length?(l.a.warn("getConversation","Exceeded the number of calculations of conversation! Please, check your conversations."),e(null)):o.getConversation(t,!1).then(function(t){e(t)})})):void e(t)):void e(null)})})},t.prototype.getNewConversationByExpired=function(t){if(!t){var e=this.getRestoredConversationFromCookie();return e?Promise.resolve(new g.Conversation(e,this)):this.getFilteredConversation()}var n=t.properties.getExpiredType();return n?n.NextConversationId?n.NextConversationId===d.AfterExpireActions.Recalculate?this.getFilteredConversation():n.NextConversationId===d.AfterExpireActions.GoToSelf?Promise.resolve(this.getNextConversation(t.conversation.Id)):Promise.resolve(this.getNextConversation(n.NextConversationId)):void new o.a("NextConversationId is not set"):Promise.resolve(null)},t.prototype.getCurrentConversationType=function(){return this.conversationType},t.prototype.getCurrentConversation=function(){var t=y.a.getCurrentConversation();return t.Actions||(t.Actions=m.a.getConversationActions(t.MeterLevelId,t.Id)),t},t.prototype.getCurrentConversations=function(){var t=y.a.getCurrentConversations();return Object(v.each)(t,function(t){t.Actions||(t.Actions=m.a.getConversationActions(t.MeterLevelId,t.Id))}),t},t.prototype.getConversationsByMeterLevel=function(t){return y.a.getConversationsByMeterLevel(t)},t.prototype.checkFakeCurrentConversation=function(){var t=this.getCurrentConversation();return t&&-1==t.Id},t.prototype.setStoredCurrentConversation=function(t){return y.a.setCurrentConversation(t)},t.prototype.setStoredCurrentConversations=function(t){return y.a.setCurrentConversations(t)},t.prototype.getConversationById=function(t){return y.a.getConversationById(t)},t.prototype.resetStorage=function(){y.a.resetStorage()},t.prototype.setStartDateToCurrentConversation=function(t){try{var e=y.a.getCurrentConversation(),n=this.getCurrentConversations(),r=Object(v.find)(Object.keys(n});e.Properties.Date.Started=t,n[r].Properties.Date.Started=t,y.a.setCurrentConversation(e),y.a.setCurrentConversations(n)}catch(t){}},t}())},function(t,e,n){"use strict";var r=n(28),i=n(334),s=n(339),o=n(16),a=n(45),c=n(337),u=n(338),p=n(29),l=n(241),f=n(333),h=n(123),d=n(0),g=n(53),y=function(){function t(t){this.environment="prod",this.resourceUrl="https://cdn.czx5eyk0exbhwp43ya.biz/prod/",this.clientCode=h.b.clientCode,this.apiUrl=h.b.apiUrl,this.appInsightsKey=h.b.appInsightsKey,this.batchCount=3,this.ViewsUpdateFromServerPeriod=24,this.ConversationPromiseTimeout=5e3,this.ActionPromiseTimeout=5e3,this.DynamicMeterPromiseTimeout=5e3,this.userAuthenticationTime=45,this.userIgmAuthTime=1,this.runExternally=!1,this.tracingSettings={TraceLevel:g.a.Fatal.Level,DebugTraceExpirationSettings:{Duration:10,StopAfter:null,ConfigCode:null}},this.userStorageSessionMaxSize=50,this.userStorageSessionExpireDays=90,this.configCode=new String(t.configCode).toUpperCase(),this.siteCode=new String(t.siteCode).toUpperCase(),this.debug=t.debug,this.pluginStartTime=new Date,this.productCode=Object(r.p)("productCode"),this.integrateFlittz=t.integrateFlittz||!1,this.silentmode=this.getSilentmode(t),this.clientCode=t.clientCode||this.clientCode,this.apiUrl=this.buildApiUrl(t),this.loadType=t.loadType||"ajax",this.runSettings=t.runSettings,this.settingsKey=t.settingsKey||null,this.environment=t.environment||"prod",this.configSettings=t.configSettings||this.configSettings,this.resourceUrl=this.buildResourceUrl(t),this.appInsightsKey=t.appInsightsKey||(-1===this.appInsightsKey.indexOf("__appInsightsKey__")?this.appInsightsKey:"a57959cf-5e4d-4ab3-8a3e-d17f7e2a8bf8"),this.authSettings=t.authSettings,this.batchCount=t.batchCount||this.batchCount,this.ViewsUpdateFromServerPeriod=t.ViewsUpdateFromServerPeriod||this.ViewsUpdateFromServerPeriod,this.ConversationPromiseTimeout=t.ConversationPromiseTimeout||this.ConversationPromiseTimeout,this.ActionPromiseTimeout=t.ActionPromiseTimeout||this.ActionPromiseTimeout,this.DynamicMeterPromiseTimeout=t.DynamicMeterPromiseTimeout||this.DynamicMeterPromiseTimeout,this.attr=t.attr,this.userAuthenticationTime=t.userAuthenticationTime||this.userAuthenticationTime,this.userIgmAuthTime=t.userIgmAuthTime||this.userIgmAuthTime,this.publicEventHandlers=t.publicEventHandlers,this.sessionId=t.sessionId,this.tracingSettings.TraceLevel=t.traceLevel&&g.a[t.traceLevel]?g.a[t.traceLevel].Level:this.tracingSettings.TraceLevel,this.tracingSettings.DebugTraceExpirationSettings=t.debugTraceExpirationSettings?t.debugTraceExpirationSettings:this.tracingSettings.DebugTraceExpirationSettings,this.articleIdProvider=t.articleIdProvider,this.externalMigrationCode=t.externalMigrationCode||null,this.checkUserDataEveryPageload=t.checkUserDataEveryPageload||!1}return t.prototype.getSilentmode=function(t){return!!this.integrateFlittz||t.silentmode},t.prototype.getSessionId=function(){return this.sessionId},t.prototype.buildApiUrl=function(t){return t.apiUrl=t.apiUrl||this.apiUrl,null!=t.apiUrl&&""!==t.apiUrl&&null!=t.clientCode&&""!==t.clientCode&&(t.apiUrl=t.apiUrl.replace(/\[clientCode\]/gi,t.clientCode.toLowerCase())),t.apiUrl},t.prototype.buildResourceUrl=function(t){var e=t.resourceUrl||this.resourceUrl;return e.endsWith("/")||(e+="/"),e.toLowerCase().endsWith(this.environment.toLowerCase()+"/")||(e+=this.environment.toLowerCase()+"/"),e},t}(),v=n(30),m=n(2),_=function(){function t(){}return t.prototype.setStartLoadPlugi},t.prototype.getStartLoadPlugin=function(){return v.a.get(m.f.StartLoadPlugin)},t.prototype.deleteStartLoadPlugin=function(){v.a.delete(m.f.StartLoadPlugin)},t.prototype.getToogleDebugMode=function(){return v.a.get(m.f.DebugMode)},t.prototype.setToogleDebugMode=function(t){v.a.set(m.f.DebugMode,t)},t.prototype.deleteToogleDebugMode=function(){v.a.delete(m.f.DebugMode)},t}();n.d(e,"a",function(){return C});var b="AppOptions",C=new(function(){function t(){this.options={},this.defaultRunOffsetTime=5e3,this.optionsRepository=new _}return t.prototype.processingData=function(t){this.set(t),"localhost"!==window.location.hostname&&(n.p=this.options.resourceUrl+(this.options.clientCode||r.C)+"/"),this.checkRequirements(),this.subscribePublicEvents(),this.setBrowserSessionId()},t.prototype.set=function(t){this.options=new y(t),i.a.set(s.a.FirstRunExecuted,!1),i.a.set(s.a.IsInitFinished,!1),i.a.set(s.a.AppOptions,this)},t.prototype.getOptions=function(){return this.options},t.prototype.ge},t.prototype.getEnvironment=function(t){return t?(h.e[t]?t:h.e.prod).toLowerCase():this.options.environment},t.prototype.getDebugMode=function(){var t=this.optionsRepository.getToogleDebugMode();return Object(r.t)(t)?t:this.options[s.a.Debug]},t.prototype.getSettingsKey=function(){return this.options.settingsKey},t.prototype.subscribePublicEvents=function(){Object(d.each)(this.options.publicEventHandler})},t.prototype.checkRequirements=function(){var e="checkRequirements";l.a.log(b,e,"Checking requirements...",this.options);try{if(!this.options.siteCode)throw new c.a(u.a.LOAD_ERRORS.siteCode);if(!this.options.configCode)throw new c.a(u.a.LOAD_ERRORS.configCode);this.checkRunSettings(this.options.runSettings),this.defineDomPropertyForDevice()}catch(t){t.custom?l.a.warn(t.message):l.a.error(b,e,"The settings error",t)}},t.prototype.checkRunSettings=function(t){var e="checkRunSettings";t&&(l.a.log(b,e,"Run settings have been found",t),this.options.silentmode=!0,l.a.log(b,e,"If we have run settings - we set up silent mode in true",this.options),t.runPromise&&Object(d.isFunction)(t.runPromise.then)?(t.hasValidPromise=!0,Object(d.isFunction)(t.onRunPromiseResolved)||(t.onRunPromiseResolved=Object(d.noop)()),Object(d.isFunction)(t.onRunPromiseRejected)||(t.onRunPromiseRejected=Object(d.noop)())):(t.hasValidPromise=!1,l.a.log(b,e,"No or invalid promise object in the 'runSettings'")),Object(d.isNumber)(t.runOffset)||(l.a.log(b,e,"We have not run offset, so we set the 'runSettings.runOffset' by default",this.defaultRunOffsetTime),t.runOffset=this.defaultRunOffsetTime))},t.prototype.setPublishSettings=function(t){this.options.publishData=t},t.prototype.getPublishSettings=function(){return this.options.publishData},t.prototype.getPublishDat},t.prototype.getIsInitFinished=function(){return i.a.get(s.a.IsInitFinished)},t.prototype.hasRunSettings=function(){return this.options.runSettings},t.prototype.clearRunTimeou},t.prototype.setupDeferredRun=function(){var o=this;return new Promise(function(e,t){var n="setupDeferredRun";l.a.log(b,n,"Setup run settings",o.options.runSettings);try{o.options.runSettings.hasValidPromise&&(l.a.log(b,n,"Setup run settings promise"),o.options.runSettings.runPromise.then(function(t){i.a.get(s.a.FirstRunExecuted)||(o.options.runSettings.onRunPromiseResolved(t),e(h.l.RunSettingsPromise)),o.clearRunTimeout(),l.a.log(b,n,"Promise has been resolved",t)},function(t){i.a.get(s.a.FirstRunExecuted)||(o.options.runSettings.onRunPromiseRejected(t),e(h.l.RunSettingsPromise)),o.clearRunTimeout(),l.a.log(b,n,"Promise has been rejected",t)}),l.a.log(b,n,"Promise has been setup",o.options.runSettings)),l.a.log(b,n,"Setup run settings timeout");var r=setTimeout(function(){i.a.get(s.a.FirstRunExecuted)||e(h.l.RunSettingsTimeout),l.a.log(b,n,"Timeout has been expired")},o.options.runSettings.runOffset);i.a.set(s.a.RunTimeout,r)}catch(t){l.a.error(b,n,"Setup run settings",t),i.a.get(s.a.FirstRunExecuted)||e()}})},t.prototype.defineDomPropertyForDevice=function(){var t=p.a.getDeviceType(),e=o.a.queryElement("body");l.a.log("Device type is "+t),o.a.addClass(e,t.toLowerCase()),p.a.isIOS()&&o.a.addClass(e,"ios-fix-body-styles")},t.prototype.updateProductCodeFromConfig=function(t){t&&t.DefaultProduct&&(this.options.productCode||(this.options.productCode=t.DefaultProduct))},t.prototype.finishInit=function(){i.a.set(s.a.IsInitFinished,!0),f.a.dispatch(a.a.Init,null)},t.prototype.getProductCode=function(){return this.options.productCode},t.prototype.getStartLoadPlugin=function(){return this.optionsRepository.getStartLoadPlugin()},t.prototype.deleteStartLoadPlugin=function(){return this.optionsRepository.deleteStartLoadPlugin()},t.prototype.getConfigCode=function(){return this.options.configCode},t.prototype.setConfigCode=function(t){this.options.configCode=t},t.prototype.getSiteCode=function(){return this.options.siteCode},t.prototype.setSiteCode=function(t){this.options.siteCode=t},t.prototype.getResourceUrl=function(){return this.options.resourceUrl},t.prototype.getSessionId=function(){return this.options.sessionId},t.prototype.setSessionI},t.prototype.getTraceLevel=function(){return this.options&&this.options.tracingSettings?this.options.tracingSettings.TraceLevel:0},t.prototype.getDebugTraceExpirationSetting},t.prototype.setDebugMod},t.prototype.resetManualDebugMod},t.prototype.getClientCode=function(){return this.options.clientCode==h.b.clientCode?null:this.options.clientCode},t.prototype.getAttribut},t.prototype.getParamsToGenerateUr},t.prototype.getRunExternally=function(){return this.options.runExternally},t.prototype.setRunExternally=function(t){this.options.runExternally=t},t.prototype.getArticleIdProvider=function(){return this.options.articleIdProvider},t.prototype.getExternalMigrationCode=function(){return this.options.externalMigrationCode},t.prototype.isIntegrateDisqus=function(){return this.options.integrateDisqus},t.prototype.getAuthSettings=function(){return this.options.authSettings},t.prototype.getBrowserSessionId=function(){return v.a.get(m.f.BrowserSessionId)},t.prototype.setBrowserSessionId=function(){this.getBrowserSessionId()||v.a.set(m.f.BrowserSessionId,Object(r.g)())},t}())},function(t,e,n){"use strict";var r=n(2),o=n(356),i=n(30),s=n(278),a=function(){function t(){}return t.prototype.getUserDataByEncryptedMasterId=function(t){return o.a.get("user/encryptedMasterId?encryptedMasterId="+encodeURIComponent(t))},t.prototype.getUserDataByMasterI},t.prototype.deleteCachedUserData=function(){i.a.delete(r.f.ConnextUserData)},t.prototype.getActualDataOnDay=function(){return s.a.get(r.b.UserDataExpiration)},t.prototype.setActualDataOnDay=function(){s.a.set(r.b.UserDataExpiration,"actual",{daysOfLife:1})},t.prototype.removeActualDataOnDay=function(){s.a.delete(r.b.UserDataExpiration)},t.prototype.clearStorag},t}(),c=n(222),u=n(22);n.d(e,"a",function(){return p});var p=new(function(}return t.prototype.getUserData=function(t,e){switch(e){case c.e.Usual:return this.getUserDataByMasterId(t);case c.e.Encrypted:return this.getUserDataByEncryptedMasterId(t)}},t.prototype.getUserDataByEncryptedMasterId=function(t){return this.repository.getUserDataByEncryptedMasterId(t).then(function(t){return u.a.decrypt(t)})},t.prototype.getUserDataByMasterId=function(t){return this.repository.getUserDataByMasterId(t).then(function(t){return u.a.decrypt(t)})},t.prototype.hasIsActualDat},t.prototype.getActualDataOnDay=function(){return this.repository.getActualDataOnDay()},t.prototype.setActualDataOnDay=function(){this.repository.setActualDataOnDay()},t.prototype.removeActualDataOnDay=function(){this.repository.removeActualDataOnDay()},t.prototype.clearStorage=function(){this.repository.clearStorage()},t.prototype.logou},t.className="Mg2Account",t}())},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"LTForgotPasswordSubStep",function(){return Jt}),n.d(r,"LTLoginSubStep",function(){return jt}),n.d(r,"LTRegistrationSubStep",function(){return zt});var o={};n.r(o),n.d(o,"SubscribeNewsletterSubStep",function(){return se}),n.d(o,"SuccessNewsletterSignUpSubStep",function(){return oe});var i={};n.r(i),n.d(i,"RTLoginSubStep",function(){return me}),n.d(i,"RTRegistrationSubStep",function(){return Se}),n.d(i,"RTAlreadyLoginSubStep",function(){return ye}),n.d(i,"RTForgotPasswordSubStep",function(){return Ie});var s={};n.r(s),n.d(s,"RPTSuccessResetPasswordSubStep",function(){return Le}),n.d(s,"RPTResetPasswordSubStep",function(){return Ve});var a,c,u,p,l,f,h,d,g,y,v,m,_,b,C,w,S,A,I,O,E,P,D,x,B,U,R,L,T,F,k,V,N,M,j,G,W,Z=n(42),H=n(39),X=n(222),J=n(355),Q=n(28),K=n(349),Y=n(353),z=n(16),},$=function(){function t(t,e,n){this.options=n,this.selector=t,this.element=z.a.queryElement(this.selector),this.inputsRules=e}return t.prototype.clear=function(){this.form.clear()},t.prototype.show=function(){z.a.show(z.a.queryElement(this.selector,document))},t.prototype.submi},t.prototype.autoSubmi},t.prototype.startSpinner=function(){this.loader.on()},t.prototype.stopSpinner=function(){this.loader.off()},t}(),tt=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),et=function(o){function t(t,e,n){var r=o.call(this,t,e,n)||this;return r.inputsRules=e||[{field:"Email",rules:[{name:X.f.Required,params:{}},{name:X.f.Email,params:{}}]}],r}return tt(t,o),t.prototype.submit=function(){var s=this;return new Promise(function(r,o){var i=(new K.a).find("ForgotPassword",s.element);s.form=new Y.a(s.selector,s.inputsRules),z.a.on(i,"click",function(t){t.preventDefault();var e=new J.a(i);if(s.form.validate()){e.on();var n=new q(s.form.getInputsData().Email,Object(Q.k)());s.sendData(n).then(function(){e.off(),s.form.hideServerErrors(),s.form.showSuccessMessage(),r()}).catch(function(t){e.off(),s.form.showServerErrors(t.ErrorMessage),s.form.hideSuccessMessage(),o(t)})}})})},t.prototype.sendDat},t}($),nt=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rt=function(o){function t(t,e,n){var r=o.call(this,t,e,n)||this;return r.inputsRules=e||[{field:"Email",rules:[{name:X.f.Required,params:{}},{name:X.f.Email,params:{}}]},{field:"Password",rules:[{name:X.f.Required,params:{}}]}],r}return nt(t,o),t.prototype.initForm=function(){this.form=new Y.a(this.selector,this.inputsRules),this.form.setInputAttrName(this.options.inputAttrName),this.autocompleteIfCan(this.form)},t.prototype.getSubmitElement=function(){var t=this.options.submitSelector;return t?z.a.find(t,this.element):(new K.a).find("LogIn",this.element)},t.prototype.submit=function(){var o=this;return new Promise(function(n,t){var r=o.getSubmitElement();o.initForm(),z.a.on(r,"click",function(t){t.preventDefault();var e=new J.a(r);o.form.validate()&&(e.on(),o.sendData(o.form.getInputsData()).the}).catc}))})})},t.prototype.successSubmi},t.prototype.errorSubmit=function(t,e){e&&e.off();var n="GenericAuthFailed";t&&t.ErrorMessage&&(n=(n=t.ErrorMessage)?n.replace("Request Failed. Errors:","").trim():n,"UserName or Password invalid."===t.ErrorMessage&&(n=t.ErrorMessage+"Please try again or click on the Forgot/Reset Password link to update your password, or create an account if you have never registered an email address with us.")),this.form.showServerErrors(n)},t.prototype.autoSubmit=function(e){var n=this;return this.sendData(e).catch(function(t){return n.form||(n.initForm(),n.show()),n.autocompleteIfCan(n.form,e),n.errorSubmit(t),Promise.reject()})},t.prototype.sendData=function(t){return H.a.login(t.Email,t.Password,this.options.api)},t.prototype.autocompleteIfCan=function(t,e){e?(t.autocompleteInput("Email",e.Email),t.autocompleteInput("Password",e.Password)):t.autocompleteInput("Email",Object(Q.p)("email"))},t}($),ot=n(31),it=n(79),st=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),at=function(o){function t(t,e,n){var r=o.call(this,t,e,new ot.a(n))||this;return r.emailPreferences=[],r.emailPreferences=n.preferences,r.inputsRules=e||[{field:"Email",rules:[{name:X.f.Required,params:{}},{name:X.f.Email,params:{}}]}],r}return st(t,o),t.prototype.initFor},t.prototype.getSubmitElement=function(){var t=this.options.submitSelector;return t?z.a.find(t,this.element):(new K.a).find("subscribe",this.element)},t.prototype.submit=function(){var r=this;return new Promise(function(e,t){var n=r.getSubmitElement();r.initForm(),z.a.on(n,"click",function(t){t.preventDefault(),r.loader=new J.a(n),r.form.validate()&&(r.startSpinner(),r.sendData(r.form.getInputsData()).the}).catch(function(t){r.errorSubmit(t)}))})})},t.prototype.successSubmi},t.prototype.errorSubmit=function(t){this.stopSpinner();var e="Error! Empty result or no connection";t&&t.ErrorMessage&&(e=t.ErrorMessage),this.form.showServerErrors(e)},t.prototype.sendData=function(t){var e={Email:t.Email,EmailPreferences:this.emailPreferences};return it.a.getSubscribeNewsletters(e)},t}($),ct=n(333),ut=n(45),pt=n(350),lt=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ft=function(o){function t(t,e,n){var r=o.call(this,t,e,n)||this;return r.inputsRules=e||[{field:"Email",rules:[{name:X.f.Required,params:{}},{name:X.f.Email,params:{}}]},{field:"RepeatEmail",rules:[{name:X.f.Required,params:{}},{name:X.f.Equals,params:{matchField:"Email"}}]},{field:"Password",rules:[{name:X.f.Required,params:{}}]},{field:"RepeatPassword",rules:[{name:X.f.Required,params:{}},{name:X.f.Equals,params:{matchField:"Password"}}]},{field:"DisplayName",rules:[{name:X.f.Required,params:{}}]}],r}return lt(t,o),t.prototype.submit=function(){var o=this;return new Promise(function(n,t){var r=(new K.a).find("Register",o.element);o.show(),o.form=new Y.a(o.selector,o.inputsRules),o.form.setInputAttrName(o.options.inputAttrName),z.a.on(r,"click",function(t){if(t.preventDefault(),o.form.resetErrors(),o.loader=new J.a(r),o.form.validate()){o.loader.on();var e=o.form.getInputsData();o.sendData(e).then(function(){o.form.hideServerErrors(),o.loader.off(),n(e)}).catch(function(t){o.loader.off(),o.form.showServerErrors(t.ErrorMessage),ct.a.dispatch(ut.a.RegistrationError,t)})}else ct.a.dispatch(ut.a.RegistrationError,o.form.getErrors())})})},t.prototype.sendData=function(t){var e=new pt.a(t.Email,t.Password,t.DisplayName);return H.a.createUser(e,this.options.api)},t}($),ht=function(t,e){this.EncryptedEventId=t,this.NewPassword=e},dt=n(2),gt=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yt=function(o){function t(t,e,n){var r=o.call(this,t,e,n)||this;return r.inputsRules=e||[{field:"Password",rules:[{name:X.f.Required,params:{}}]},{field:"RepeatPassword",rules:[{name:X.f.Required,params:{}},{name:X.f.Equals,params:{matchField:"Password"}}]}],r}return gt(t,o),t.prototype.submit=function(){var r=this;return new Promise(function(e,t){var n=r.getSubmitElement();r.initForm(),z.a.on(n,"click",function(t){t.preventDefault(),r.loader=new J.a(n),r.form.validate()&&(r.loader.on(),r.sendData(r.form.getInputsData()).then(function(t){r.form.hideServerErrors(),r.loader.off(),e(t)}).catch(function(t){r.loader.off(),r.form.showServerErrors(t.ErrorMessage),ct.a.dispatch(ut.a.ResetPasswordError,t)}))})})},t.prototype.getSubmitElement=function(){var t=this.options.submitSelector;return t?z.a.find(t,this.element):(new K.a).find("ResetPassword",this.element)},t.prototype.initForm=function(){this.form=new Y.a(this.selector,this.inputsRules),this.form.setInputAttrName(this.options.inputAttrName)},t.prototype.sendData=function(t){var e=new ht(Object(Q.p)(dt.h.Encryptedeventid),t.Password);return H.a.resetPassword(e,this.options.api)},t}($),vt=n(123),mt=n(0),_t=n(241),bt=n(175),Ct=n(334),wt=n(339),St=function(){function t(t){this.templateSettings=t,!this.templateSettings||this.templateSettings&&!this.templateSettings.Html?_t.a.warn("Template is not marked"):this.createTemplate()}return t.prototype.getTemplate=function(){return this.template},t.prototype.processStep=function(t){this.activeStep=t;var e=this.activeStep.stepAttrName;this.hideAllSteps("["+e+"]"),this.template.setWidth(this.activeStep.getStepWidth()),this.activeStep.process()},t.prototype.updateActiveStep=function(t){this.activeStep=t},t.prototype.setWidth=function(t){this.template.setWidth(t)},t.prototype.showTemplate=function(){this.template.beforeShow(),this.template.show();var t=this.template.getElement();z.a.on(t,vt.h.TemplateShown,this.templateShowAction.bind(this)),z.a.on(t,vt.h.TemplateClosed,this.templateCloseAction.bind(this));var e=Ct.a.get(wt.a.SwGInstance);e&&e.SwG.renderButtons(t),this.template.afterShow()},t.prototype.removeListeners=function(){var t=this.template.getElement();z.a.off(t,vt.h.TemplateClosed,this.templateCloseAction),z.a.off(t,vt.h.TemplateShown,this.templateShowAction)},t.prototype.closeTemplat},t.prototype.createTemplate=function(){if(this.template=bt.a.getInstance().createTemplate(this.templateSettings),this.template)return this.template;_t.a.warn(this.name+"Template","No Html in Template")},t.prototype.hideAllSteps=function(t){var e=z.a.find(t,this.template.getElement());Object(mt.each)(e,function(t){z.a.hide(t)})},t.prototype.templateShowAction=function(t){},t.prototype.templateCloseAction=function(t){var e={CloseEvent:t&&t.detail?t.detail.closeEvent:"",ActivateStatus:null};this.activeStep.close(e),this.afterCloseActions(e)},t.prototype.afterCloseActions=function(t){},t.prototype.process=function(){},t.prototype.getActiveStep=function(){return this.activeStep},t}(),At=n(17),It=n(9),Ot=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Activation",t}return Ot(t,e),t.prototype.showTemplate=function(){if(!this.templateSettings||!this.templateSettings.Html)return!1;e.prototype.showTemplate.call(this),this.template.setId("ConneXt_Authentication-Activation"),this.templateSettings.NotClosable&&z.a.remove(z.a.find('.connext-actflow-close-wrapper, [data-nxt-role="close"]',this.template.getElement()))},t.prototype.templateShowAction=function(t){ct.a.dispatch(ut.a.ActivationFormShown,null)},t.prototype.afterCloseActions=function(t){At.a.stopActivationFlow(),It.a.isLogin()&&!At.a.getLoginEndFlowStatus()&&(At.a.setLoginEndFlowStatus(!0),ct.a.dispatch(vt.h.ApplicationReload,vt.l.Login))},t}(St),Pt=n(86),Dt=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xt=function(n){function t(t){var e=n.call(this,t)||this;return e.stepName="CookiesPrivacy",e.create(),e}return Dt(t,n),t.prototype.process=function(){this.show()},t}(Pt.a),Bt=n(98),Ut=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="CookiesPrivacy",t}return Ut(t,e),t.prototype.process=function(){if(!Bt.a.isCheckCookiesPrivacy()){this.showTemplate();var t=new xt(this);this.processStep(t)}},t.prototype.templateShowAction=function(t){},t.prototype.templateCloseActio},t}(St),Lt=n(348),Tt=n(85),Ft=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kt=function(n){function t(t){var e=n.call(this,t)||this;return e.formOptions=new ot.a({api:{location:Lt.a.User},inputAttrName:"data-nxt-input"}),e}return Ft(t,n),t}(Tt.a),Vt=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nt=function(n){function t(t){var e=n.call(this,t)||this;return e.formOptions=new ot.a({api:{location:Lt.a.User},inputAttrName:["data-nxt-input","data-mg2-input"],submitSelector:"[data-mg2-submit=login], [data-mg2-submit=LogIn], [data-nxt-button=LogIn]"}),e.setSubStepData(We.getLoginSubStepInformation()),e.create(),e}return Vt(t,n),t.prototype.submitForm=function(){return this.show(),this.form=We.getLoginForm(this.getSelector(),null,this.formOptions),this.form.submit()},t.prototype.process=function(){this.submitForm()},t.prototype.autologin=function(t){return We.getLoginForm(this.getSelector(),null,this.formOptions).autoSubmit(t)},t}(kt),Mt=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formOptions=new ot.a({api:{location:Lt.a.User},inputAttrName:["data-nxt-input","data-mg2-input"],submitSelector:"[data-mg2-submit=login], [data-mg2-submit=LogIn], [data-nxt-button=LogIn]"}),t}return Mt(t,e),t}(Nt),Gt=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wt=function(n}return Gt(t,n),t.prototype.process=function(){this.show(),this.setActiveSubsteps([new Nt(this)]),this.processActiveSubsteps()},t}(Pt.a),Zt=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ht=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(We.getForgotPasswordSubStepInformation()),e.create(),e}return Zt(t,n),t.prototype.process=function(){var t=this;this.show(),this.form=We.getForgotPasswordForm(this.getSelector(),null,this.formOptions),this.form.submit().then(function(){t.successSubStepStepAction()}).catc})},t.prototype.successSubStepStepAction=function(){this.nextSubStep&&this.nextSubStep.process()},t}(kt),Xt=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formOptions=new ot.a({api:{location:Lt.a.User},inputAttrName:"data-mg2-input",submitSelector:"[data-mg2-submit=login]"}),t}return Xt(t,e),t}(Ht),Qt=(C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kt=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(We.getRegistrationSubStepInformation()),e.create(),e}return Qt(t,n),t.prototype.process=function(){var e=this;try{this.show(),this.form=We.getRegistrationForm(this.getSelector(),null,this.formOptions),this.form.submit().then(function(t){e.processData=t,e.successSubStepStepAction()})}catch(t){ct.a.dispatch(ut.a.ResetPasswordError,t)}},t}(kt),Yt=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yt(e,t),e.prototype.successSubStepStepAction=function(){var t=this;this.form.startSpinner();var e=new jt(this.parentStep);this.parentStep.setActiveSubsteps([e]),e.autologin(this.processData).always(function(){t.form.stopSpinner(),t.hide()})},e}(Kt),qt=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$t=function(n){function t(t){var e=n.call(this,t)||this;return e.setProcessSubSteps(r),e}return qt(t,n),t.prototype.process=function(){this.show(),this.setActiveSubsteps([new jt(this)]),this.processActiveSubsteps()},t}(Wt),te=(A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Login",t}return te(t,e),t.prototype.process=function(){if(!this.templateSettings||!this.templateSettings.Html)return!1;this.showTemplate();var t=new $t(this);this.processStep(t)},t.prototype.showTemplate=function(){e.prototype.showTemplate.call(this),this.template.setId("ConneXt_Authentication-Login");var t=this.template.getElement();H.a.processLinks(t)},t.prototype.templateShowAction=function(t){ct.a.dispatch(ut.a.LoginShown,this.templateSettings.Name)},t.prototype.templateCloseAction=function(t){var e=t&&t.detail?t.detail.closeEvent:"";ct.a.dispatch(ut.a.LoginClosed,e)},t}(St),ne=n(122),re=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),oe=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="SuccessNewsletterSignUp",e.create(),e}return re(t,n),t.prototype.process=function(){this.show()},t}(Tt.a),ie=(O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),se=function(r){function t(t,e){var n=r.call(this,t)||this;return n.newsletterFormOptions={api:{location:Lt.a.Newsletter},inputAttrName:"data-nxt-input",submitSelector:"[data-nxt-button=subscribe]",preferences:[]},n.subStepName="SubscribeNewsletter",n.create(),n.newsletterFormOptions.preferences=e,n}return ie(t,r),t.prototype.submitForm=function(){var t=this;this.show(),this.form=We.getNewsletterForm(this.getFormSelector(),null,this.newsletterFormOptions),this.form.submit().then(function(){t.hide(),t.processSubStep(new oe(t.parentStep))})},t.prototype.process=function(){this.submitForm()},t.prototype.getFormSelector=function(){var t=this.parentStep.getTemplateStepsGroup().getTemplate().getElement(),e="data-uniqId",n=ne.a.get().valueOf();return t.setAttribute(e,n+""),"["+e+'="'+n+'"]'},t}(Tt.a),ae=(E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ce=function(r){function t(t,e){var n=r.call(this,t)||this;return n.subscribePreferences=[],n.setProcessSubSteps(o),n.stepName="Newsletter",n.create(),n.subscribePreferences=e,n}return ae(t,r),t.prototype.process=function(){this.show(),this.setActiveSubsteps([new se(this,this.subscribePreferences)]),this.processActiveSubsteps()},t}(Pt.a),ue=(P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pe=function(r){function t(t,e){var n=r.call(this,t)||this;return n.name="Newsletter",n.preferences=[],n.preferences=e,n}return ue(t,r),t.prototype.process=function(){this.showTemplate(),this.processStep(new ce(this,this.preferences))},t}(St),le=(D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fe=function(n){function t(t){var e=n.call(this,t)||this;return e.formOptions=new ot.a({api:{location:Lt.a.User},inputAttrName:"data-nxt-input"}),e.create(),e}return le(t,n),t}(kt),he=(x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),de=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="LoginSuccess",e.create(),e}return he(t,n),t.prototype.process=function(){this.show(),ct.a.dispatch(ut.a.RegistrationSuccessLogin,null),setTimeout(function(){At.a.stopRegistrationProcess(),ct.a.dispatch(vt.h.ApplicationReload,vt.l.Login)},3e3)},t}(fe),ge=(B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ye=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="AlreadyLogin",e.create(),e}return ge(t,n),t.prototype.process=function(){this.show();var t=z.a.queryElement(".data-nxt-loggin-email"),e=It.a.getEmail();t&&z.a.text(t,e)},t}(fe),ve=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ve(e,t),e.prototype.process=function(){var t=this;It.a.isLogin()?this.processSubStep(new ye(this.parentStep)):this.submitForm().the})},e}(Nt),_e=n(26),be=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ce=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="SuccessRegistration",e.create(),e}return be(t,n),t.prototype.process=function(){this.show(),ct.a.dispatch(ut.a.RegistrationSuccessRegister,null),setTimeout(function(){At.a.stopRegistrationProcess(),_e.AuthSystemModule.onRegistrationSuccess()},3e3)},t}(fe),we=(L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return we(e,t),e.prototype.successSubStepStepAction=function(){var t=this,e=new me(this.parentStep);this.parentStep.setActiveSubsteps([e]),e.autologin(this.processData).then(function(){t.parentStep.setActiveSubsteps([new Ce(t.parentStep)]),t.parentStep.processActiveSubsteps()}).always(function(){t.form.stopSpinner(),t.hide()})},e}(Kt),Ae=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ae(e,t),e}(Ht),Oe=(F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ee=function(n){function t(t){var e=n.call(this,t)||this;return e.setProcessSubSteps(i),e}return Oe(t,n),t.prototype.process=function(){this.show(),this.hideAllSubsteps(),this.calculateActiveSubStep()},t}(Wt),Pe=(k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Registration",t}return Pe(t,e),t.prototype.process=function(){if(!this.templateSettings||!this.templateSettings.Html)return!1;At.a.startRegistrationProcess(),this.showTemplate(),this.template.setId("ConneXt_Authentication-Registration"),this.processStep(new Ee(this))},t.prototype.templateShowActio},t.prototype.afterCloseActions=function(t){At.a.stopRegistrationProcess(),ct.a.dispatch(ut.a.RegistrationClosed,t)},t}(St),xe=(V=function(t,e){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Be=function(n){function t(t){var e=n.call(this,t)||this;return e.formOptions=new ot.a({api:{location:Lt.a.User},inputAttrName:"data-nxt-input"}),e.create(),e}return xe(t,n),t}(kt),Ue=n(74),Re=(N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Le=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="SuccessResetPassword",e.create(),e}return Re(t,n),t.prototype.process=function(){this.show(),ct.a.dispatch(ut.a.ResetPasswordSuccess,null),setTimeout(function(){var t=Object(Q.p)(dt.h.ReturnUrl);Ue.a.redirectToPage(t)},3e3)},t}(Be),Te=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fe=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(We.getResetPasswordSubStepInformation()),e.create(),e}return Te(t,n),t.prototype.process=function(){var e=this;try{this.show(),this.form=We.getResetPasswordForm(this.getSelector(),null,this.formOptions),this.form.submit().the})}catch(t){ct.a.dispatch(ut.a.RegistrationError,t)}},t}(kt),ke=(j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ve=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ke(e,t),e.prototype.successSubStepStepAction=function(){this.parentStep.setActiveSubsteps([new Le(this.parentStep)]),this.parentStep.processActiveSubsteps(),this.form.stopSpinner(),this.hide()},e}(Fe),Ne=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Me=function(n}return Ne(t,n),t.prototype.process=function(){this.show(),this.setActiveSubsteps([new Ve(this)]),this.processActiveSubsteps()},t}(Wt),je=(W=function(t,e){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}W(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="ResetPassword",t}return je(t,e),t.prototype.process=function(){if(!this.templateSettings||!this.templateSettings.Html)return!1;this.showTemplate(),this.template.setId("ConneXt_Authentication-Reset_Password"),this.processStep(new Me(this))},t}(St);n.d(e,"a",function(){return We});var We=new(function(){function t(){}return t.prototype.getLoginForm=function(t,e,n){return new rt(t,e,n)},t.prototype.getRegistrationForm=function(t,e,n){return new ft(t,e,n)},t.prototype.getForgotPasswordForm=function(t,e,n){return new et(t,e,n)},t.prototype.getNewsletterForm=function(t,e,n){return new at(t,e,n)},t.prototype.getResetPasswordFor},t.prototype.getLoginTemplate=function(){return new ee(Z.a.getLoginTemplate())},t.prototype.getActivationTemplate=function(t){return new Et(t)},t.prototype.getRegistrationTemplate=function(){return new De(Z.a.getRegistrationTemplate())},t.prototype.getResetPasswordTemplate=function(){return new Ge(Z.a.getResetPasswordTemplate())},t.prototype.getLoginSubStepInformation=function(){return{Name:"Login",Width:420,LinkAttrName:"GoToLogIn"}},t.prototype.getRegistrationSubStepInformation=function(){return{Name:"Registration",Width:420,LinkAttrName:"GoToRegister"}},t.prototype.getForgotPasswordSubStepInformation=function(){return{Name:"ForgotPassword",Width:420,LinkAttrName:"GoToForgotPassword"}},t.prototype.getResetPasswordSubStepInformatio},t.prototype.getCookiesPrivacyTemplate=function(){var t=Z.a.getCookiesPrivacyTemplate();return t&&t.Html?new Rt(t):null},t.prototype.getNewsletterTemplate=function(t,e){return t&&t.Html?new pe(t,e):null},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(48),o=n.n(r),i=new(function(){function t(){this.key=o.a.enc.Utf8.parse("4512639636589784"),this.iv=o.a.enc.Utf8.parse("4512639636589784")}return t.prototype.decrypt=function(t,e){if(void 0===e&&(e=!0),t)try{var n=o.a.AES.decrypt(t,this.key,{keySize:16,iv:this.iv,mode:o.a.mode.CBC,padding:o.a.pad.Pkcs7}).toString(o.a.enc.Utf8);return e?JSON.parse(n):n}catch(t){return null}},t.prototype.encrypt=function(t){var e=o.a.AES.encrypt(o.a.enc.Utf8.parse(JSON.stringify(t)),this.key,{keySize:16,iv:this.iv,mode:o.a.mode.CBC,padding:o.a.pad.Pkcs7});return this.decrypt(e),e},t}())},,function(t,e,n){var r,o,i,s,c,a,u,p,l,f,h,d,g,y,v,m,_,b,C,w,S,A,I;t.exports=(r=n(7),n(61),void(r.lib.Cipher||(i=(o=r).lib,s=i.Base,c=i.WordArray,a=i.BufferedBlockAlgorithm,(u=o.enc).Utf8,p=u.Base64,l=o.algo,f=l.EvpKDF,h=i.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecrypto},ini},reset:function(){a.reset.call(this),this._doReset()},proces},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelpe}()}),i.StreamCipher=h.extend({_doFinaliz},blockSize:1}),d=o.mode={},g=i.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),y=d.CBC=function(){var t=g.extend();function i(t,e,n){var r=this._iv;if(r){var o=r;this._iv=void 0}else var o=this._prevBlock;for(var i=0;i<n;i++)t[e+i]^=o[i]}return t.Encryptor=t.extend({processBloc}}),t.Decryptor=t.extend({processBloc}}),t}(),v=o.pad={},m=v.Pkcs7={pa},unpa}},i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:y,padding:m}),rese},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinaliz},blockSize:4}),_=i.CipherParams=s.extend({ini},toStrin}}),b=o.format={},C=b.OpenSSL={stringif},pars}},w=i.SerializableCipher=s.extend({cfg:s.extend({format:C}),encryp},decryp},_pars}}),S=o.kdf={},A=S.OpenSSL={execut}},I=i.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:A}),encryp},decryp}}))))},function(t,e,n){"use strict";n.r(e),n.d(e,"SearchOptions",function(){return r});var r={ActivateByAccountNumber:"ActivateByAccountNumber",ActivateByZipCodeAndHouseNumber:"ActivateByZipCodeAndHouseNumber",ActivateByZipCodeAndPhoneNumber:"ActivateByZipCodeAndPhoneNumber",ActivateBySubscriptionId:"ActivateBySubscriptionId",ActivateByConfirmationNumber:"ActivateByConfirmationNumber"}},function(t,e,n){"use strict";var r=n(219);n.o(r,"AppOptions")&&n.d(e,"AppOptions",function(){return r.AppOptions}),n.o(r,"AuthSystemModule")&&n.d(e,"AuthSystemModule",function(){return r.AuthSystemModule}),n.o(r,"Configuration")&&n.d(e,"Configuration",function(){return r.Configuration})},,function(t,e,n){"use strict";n.d(e,"t",function(){return i}),n.d(e,"j",function(){return s}),n.d(e,"k",function(){return a}),n.d(e,"B",function(){return u}),n.d(e,"p",function(){return p}),n.d(e,"y",function(){return l}),n.d(e,"z",function(){return f}),n.d(e,"i",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"s",function(){return g}),n.d(e,"c",function(){return y}),n.d(e,"o",function(){return v}),n.d(e,"d",function(){return _}),n.d(e,"h",function(){return b}),n.d(e,"C",function(){return C}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return S}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return I}),n.d(e,"n",function(){return O}),n.d(e,"g",function(){return E}),n.d(e,"b",function(){return P}),n.d(e,"v",function(){return x}),n.d(e,"w",function(){return B}),n.d(e,"l",function(){return U}),n.d(e,"a",function(){return R}),n.d(e,"x",function(){return L}),n.d(e,"A",function(){return T}),n.d(e,"u",function(){return F});var r=n(16),c=n(0),o=n(122),},},},},p=function(n){var t=window.location.search.substring(1).split("&"),r="";return Object(c.each)(t,function(t){var e=t.split("=");if(e[0]===n)return r=decodeURIComponent(e[1]),!1}),r},l=function(t,e){var n=t.split("?");if(2<=n.length&&Object(c.isArray)(e)&&e.length){for(var r=n.shift(),o=n.join("?").split(/[&;]/g),i=0;i<e.length;i++)for(var s=encodeURIComponent(e[i])+"=",a=o.length-1;0<=a;a--)-1!==o[a].lastIndexOf(s,0)&&o.splice(a,1);t=r+(0<o.length?"?"+o.join("&"):"")}return t},f=function(t,e,n,r){void 0===e&&(e={}),void 0===n&&(n=window.location.href),void 0===r&&(r=document.title);var o=l(n,t);window.history.replaceState(e,r,o)},h=function(){var t,e,n=window.location.search.substr(1).split("&"),r={};for(t=0;t<n.length;t++)(e=n[t].split("=")).length<2&&e.push(""),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r},d=function(t){var e=window.location.search.slice(1).split("&"),n={},r={};t.forEac});for(var o=e.length-1;0<=o;o--){var i=[];if(e[o]&&(i=e[o].split("="),r[i[0]]))try{n[i[0]]=decodeURIComponent(i.slice(1).join("="))}catch(t){n[i[0]]=""}}return n},},y=function(t,e,n){return t.replace(new RegExp("([?&]"+e+"(?=[=&#]|$)[^#&]*|(?=#|$))"),"&"+e+"="+encodeURIComponent(n)).replace(/^([^?&]+)&/,"$1?")},}var _=function(t,e){void 0===t&&(t=0),void 0===e&&(e=o.a.get());var n=new Date(e.valueOf());return n.setMilliseconds(n.getMilliseconds()+t)},b=function(t){return r.a.find("[href]:not([data-dismiss])",t)},C="2.7.2.1",w=function(t,e,n){var r=t.getTime()-e.getTime();switch(n){case"s":case"m":case"h":case"d":return r/m(n);case"w":return Math.round(r/m(n));case"M":var o=t.getFullYear()-e.getFullYear();return t.getMonth()-e.getMonth()+(0!==o?12*o:0);case"Y":return t.getFullYear()-e.getFullYear()}},},A=function(){return"Version: 2.7.2.1"},I=function(){return"Version: 2.7.2.1, Build: V.2.7.2.1-20221208.1"};function O(t){return void 0===t&&(t=o.a.get()),new Date(t.getTime()+6e4*t.getTimezoneOffset()}function P(t,e){return(e=e||o.a.get()).setDate(e.getDate()+t),e}function D(i,s,a){return new Promise(function(t,e){var n=document.getElementsByTagName("head").item(0),r=document.createElement(i);for(var o in a&&(r.onload=function(){t()},r.onerror=function(t){e(t)}),s)r[o]=s[o];n.appendChild(r),a||t()})}function x(t,e){return D(t,e,!1var };function L(t){var e=new Date(t.replace("/Date(","").replace(")/",""));return isNaN(e.getDate())&&(e=new Date(parseInt(t.replace("/Date(","").replace(")/","")))),e}function T(e,n,r){if(null!=e)return Array.isArray(e)?Object(c.each)(}):Object(c.each)(Object.keys(e),function(t){"object"!=typeof e[t]?e[t]===n&&(e[t]=r):e[t]=T(e[t],n,r)}),}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(28),o=n(126),i=new(function(){function t(){this.connextDeviceDetector={UA:window.navigator.userAgent,Device:{browser:{name:o.a.userAgent.getBrowser(),isFirefox:function(){return o.a.userAgent.getBrowser()==o.a.BrowserTypes.Firefox},isChrome:function(){return o.a.userAgent.getBrowser()==o.a.BrowserTypes.Chrome},isIE:function(){return o.a.userAgent.getBrowser()==o.a.BrowserTypes.IE},isEdge:function(){return o.a.userAgent.getBrowser()==o.a.BrowserTypes.Edge},isSafari:function(){return o.a.userAgent.getBrowser()==o.a.BrowserTypes.Safari},isFacebook:function(){return o.a.userAgent.getBrowser()==o.a.BrowserTypes.Facebook}},platform:{type:o.a.userAgent.getDeviceType(),isDesktop:function(){return o.a.userAgent.desktop()},isMobile:function(){return o.a.userAgent.mobile()},isTablet:function(){return o.a.userAgent.tablet()}},os:{name:o.a.userAgent.getOS(),isIOS:function(){return o.a.userAgent.isIOS()}}},Browsers:[],OsList:[],Platforms:[]},window.DeviceDetector?this.deviceDetector=window.DeviceDetector:this.deviceDetector=this.connextDeviceDetector}return t.prototype.getDeviceTyp},t.prototype.getOS=function(){var t=this.deviceDetector.Device,e=t.os.version?t.os.version:"";return t.os.name+e},t.prototype.getBrowser=function(){return this.isDetectBrowser()?this.deviceDetector.Device.browser.name:this.connextDeviceDetector.Device.browser.name},t.prototype.isChrome=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isChrome?this.deviceDetector.Device.browser.isChrome():this.connextDeviceDetector.Device.browser.isChrome()},t.prototype.isFirefox=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isFirefox?this.deviceDetector.Device.browser.isFirefox():this.connextDeviceDetector.Device.browser.isFirefox()},t.prototype.isIE=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isIE?this.deviceDetector.Device.browser.isIE():this.connextDeviceDetector.Device.browser.isIE()},t.prototype.isEdge=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isEdge?this.deviceDetector.Device.browser.isEdge():this.connextDeviceDetector.Device.browser.isEdge()},t.prototype.isSafari=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isSafari?this.deviceDetector.Device.browser.isSafari():this.connextDeviceDetector.Device.browser.isSafari()},t.prototype.isFacebook=function(){return this.isDetectBrowser()&&this.deviceDetector.Device.browser.isFacebook?this.deviceDetector.Device.browser.isFacebook():this.connextDeviceDetector.Device.browser.isFacebook()},t.prototype.isIOS=function(){return!!this.isDetectOS()&&this.deviceDetector.Device.os.isIOS()},t.prototype.getBrowserVersion=function(){if(!this.isDetectBrowser())return null;var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|edg|version|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]:"Chrome"===n[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):n[2]?n[2]:null},t.prototype.isDetectOS=function(){return!(!this.deviceDetector.Device.os||!this.deviceDetector.Device.os.name)},t.prototype.isDetectBrowse},t.prototype.isDesktop=function(){return this.deviceDetector.Device.platform.isDesktop()},t.prototype.isMobile=function(){return this.deviceDetector.Device.platform.isMobile()},t.prototype.isTable},t.prototype.getUserMeta=function(){return{Browser:this.getBrowser(),OS:this.getOS(),deviceType:this.getDeviceType(),URL:Object(r.j)()}},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r,o=n(204),i=n(127),s=n(0),a=n(125),c=n(130),u=n(96),p=n(2),l=n(278),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=new(function(e}return f(t,e),t.prototype.isSupported=function(){return this.localStorage.isSupported()},t.prototype.getStorage=function(){return this.localStorage},t.prototype.get=function(t,e){e=this.getOptions(e),u.a.addToDebug(c.a.LocalStorage,t,"get",null,e,this);var n=t;return e.expandKey&&(n=this.expandKey(t)),this.getStorage().get(n,e.isJson)},t.prototype.set=function(t,e,n){var r=!1;try{n=this.getOptions(n),u.a.addToDebug(c.a.LocalStorage,t,"set",null,n,this);var o=t;n.expandKey&&(o=this.expandKey(t)),r=this.getStorage().set(o,e,n.isJson)}catch(t){r=!1}finally{return r}},t.prototype.delete=function(t,e){var n=t;return(e=this.getOptions(e)).expandKey&&(n=this.expandKey(t)),this.getStorage().delete(n)},t.prototype.clear=function(){return this.getStorage().clear()},t.prototype.getAllKey},t.prototype.getAllConnextRecords=function(){var n=this,r=[],t=this.getConnextExistingStorageKeys();return Object(s.each)(t,function(t){var e=n.get(t,{expandKey:!1,isJson:!0});null==e&&(e=n.get(t,{expandKey:!1,isJson:!1})),r.push({Name:t,Value:e})}),r},t.prototype.getConnextExistingStorageKeys=function(t){void 0===t&&(t=!0);var e=this.getAllKeys(),n=t?this.getAllConstantKeys():this.getStorageConstantKeys();return n=this.removeExceptionsFromKeys(n),e=this.filterConnextExistingStorageKeys(e,n)},t.prototype.getStorageConstantKeys=function(){return this.getConstantKeys(p.f)},t.prototype.getAllConstantKeys=function(){return this.getStorageConstantKeys().concat(l.a.getStorageConstantKeys())},t.prototype.getOptions=function(t){return Object(s.extendOwn)(new i.a,t)},t}(o.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(47),o=function(t){this.inputAttrName=["data-nxt-input","data-mg2-input"],t&&(this.api=t.api,this.inputAttrName=!t.inputAttrName||Object(r.isArray)(t.inputAttrName)?t.inputAttrName:[t.inputAttrName],this.submitSelector=t.submitSelector)}},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTypes",function(){return r});var r={Banner:"Banner",Modal:"Modal",Paywall:"Paywall",Inline:"Inline",SmallInfoBox:"SmallInfoBox",JSCall:"JSCall",Newsletter:"Newsletter",Messaging:"Messaging",InsightsRecommendation:"InsightsRecommendation"}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(356),o=n(30),i=n(278),s=n(2),a=n(22),c=new(function(){function t(){}return t.prototype.decrypt=function(t){return a.a.decrypt(t)},t.prototype.encrypt=function(t){return a.a.encrypt(t)},t.prototype.createUser=function(t,e){return r.a.post("user/create",t,e)},t.prototype.syncUser=function(t,e){return r.a.post("user/sync",t,e)},t.prototype.resetPassword=function(t,e){return r.a.post("user/resetPassword",t,e)},t.prototype.saveUserData=function(t){var e=this.encrypt(t);o.a.set(s.f.ConnextUserData,e,{isJson:!1})},t.prototype.getCachedUserData=function(){var e=null,t=o.a.get(s.f.ConnextUserData,{isJson:!1});if(t)try{e=this.decrypt(t)}catch(t){e=o.a.get(s.f.ConnextUserData)}return e},t.prototype.setProfile=function(t){o.a.set(s.f.ConnextUserProfile,t)},t.prototype.getProfile=function(){return o.a.get(s.f.ConnextUserProfile)},t.prototype.deleteProfile=function(){return o.a.delete(s.f.ConnextUserProfile)},t.prototype.clearStorage=function(){this.deleteProfile()},t.prototype.deleteUserDataExpiration=function(){i.a.delete(s.b.UserDataExpiration)},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateSubStep",function(){return c});var r,o=n(83),i=n(334),s=n(339),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(n){function t(t){var e=n.call(this,t)||this;return e.activation=i.a.get(s.a.ActivationInstance),e}return a(t,n),t}(o.ActivationSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateBy",function(){return o});var r=n(0),o=function(){function t(t){}return t.prototype.canLink=function(){var e=this,t=Object(r.keys)(this);return Object(r.every)(})},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTriggerOnArticle",function(){return a});var r,o=n(11),i=n(57),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.trigger=function(){var t=this;this.actionType.isClosed()&&this.actionType.prepareToShow(o.ActionModule.getReplaceVariables()).the}).catch(function(){})},e}(i.ActionTrigger)},,,function(t,e,n){"use strict";var r,o=n(220),i=n(51),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return t.call(this)||this}return s(e,t),e.create=function(t){return o.a.loadAuthModule(t).the})},e}(i.a),c=n(9),u=n(123),p=n(241),l=n(334),f=n(339),h=n(20),d=n(11),g=n(28),y=n(2),v=n(356),m=new(function(){function t(){}return t.prototype.checkFacebookLinking=function(){var e=this,n="checkFacebookLinking",t=Object(g.p)(y.h.FacebookNewsToken);return t?v.a.post("facebook/linking",t).then(function(t){return _.clearStorage(),_.onLoginSuccess(t).then(function(){return p.a.log(e.constructor.name,n,"Facebook login success"),Promise.resolve()})}).catch(function(t){return p.a.log(e.constructor.name,n,"Facebook login failed"),Promise.resolve()}):Promise.resolve()},t}());n.d(e,"a",function(){return _});var _=new(function(){function t(){}return t.prototype.createAuthSystem=function(t){var e=this;return a.create(t).then(function(t){return e.authSystem=t,e.setAuthListeners(),e.authSystem})},t.prototype.defineUserData=function(t){var e=this;return this.createAuthSystem(t).then(function(){return m.checkFacebookLinking().then(function(){return e.authSystem.HasActiveSession().then(function(t){if(p.a.log(e.constructor.name,"defineUserData","HasActiveSession: "+t),l.a.get(f.a.ForceAuthSystemLogout)&&(l.a.set(f.a.ForceAuthSystemLogout,!1),e.clearMg2Storage()),t)return e.authSystem.getAuthProfile().then(function(t){return e.setActualUserData(t).the})}).catch(function(t){return e.setUserDataOnError(t)});e.setDefaultUserData()}).catch(function(t){return e.setUserDataOnError(t)})}).catch(function(t){return e.setUserDataOnError(t)})})},t.prototype.login=function(t,e,n){var r=this;return this.authSystem.login(t,e,n).then(function(t){return c.a.updateUserDataWithoutAccessEvent(t),r.authSystem.successLogin(),Promise.resolve(t)}).catch(function(t){return r.authSystem.failLogin(t),Promise.reject(t)})},t.prototype.onLoginSuccess=function(t){return this.authSystem.onLoginSuccess(t).then(function(t){return c.a.updateUserData(t),Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})},t.prototype.onRegistrationSuccess=function(){this.authSystem.successRegistration()},t.prototype.syncUse},t.prototype.createUser=function(t,e){return c.a.createUser(t,e)},t.prototype.resetPasswor},t.prototype.showLoginForm=function(){this.authSystem&&"function"==typeof this.authSystem.showLoginForm&&!c.a.isLogin()&&this.authSystem.showLoginForm()},t.prototype.showRegisterForm=function(t){this.authSystem&&"function"==typeof this.authSystem.showRegisterForm&&this.authSystem.showRegisterForm(t)},t.prototype.showResetPasswordFor},t.prototype.logout=function(){this.authSystem&&"function"==typeof this.authSystem.logout&&(d.ActionModule.deletePossibilityPresentForUser(),this.clearStorage(),this.authSystem.logout(),this.googleLogout())},t.prototype.googleLogout=function(){var t=l.a.get(f.a.SwGInstance);return t?t.GoogleUser.logout():Promise.resolve()},t.prototype.processLink},t.prototype.sendForgotPasswordRequest=function(t,e){return this.authSystem.sendForgotPasswordRequest(t,e)},t.prototype.useMg2LoginTemplate=function(){return this.authSystem.useMg2LoginTemplate()},t.prototype.hasPartialMg2AuthCookie},t.prototype.updateCurrentUser=function(){var e=this;return this.authSystem.getAuthProfile().the}).catch(function(t){return e.setUserDataOnError(t)})},t.prototype.setAuthListeners=function(){this.authSystem.setAuthEventsListeners()},t.prototype.clearStorage=function(){this.authSystem.clearStorage(),c.a.clearStorage(),this.clearMg2Storage()},t.prototype.clearMg2Storage=function(){h.a.clearStorage()},t.prototype.getLastLoginDate=function(){return this.authSystem.getLastLoginDate()},t.prototype.setActualUserData=function(t){var e=l.a.get(f.a.RefreshUserdataEveryPageload);e&&(t.isPageLoadUpdate=e);var n=c.a.needRefreshUserData(t.UserId,t.isPageLoadUpdate);return n.refresh?n.reason==u.o.refreshUserDataCookieExpired?this.updateUserData(t,n.reason,u.p):this.updateUserData(t,n.reason):this.keepUserDataUntouched(t)},t.prototype.updateUserData=function(n,r,o){var i=this;void 0===o&&(o=null);var s="updateUserData",t=null,e=this.authSystem.getUserData(n);return o&&(t=new Promise(function(t){var e=setTimeou},o)})),(o?Promise.race([t,e]):e).then(function(t){if(t){var e=i.authSystem.createUserDataFrom(n,t);return c.a.updateUserData(e),l.a.set(f.a.UserStatePerPageload,c.a.calculateUserState(e.DigitalAccess,e.Subscriptions)),r==u.o.updateEveryPageload?h.a.removeActualDataOnDay():h.a.setActualDataOnDay(),Promise.resolve(t)}return p.a.warn(i.constructor.name,s,"User data refresh timeout reached. Using old data"),i.keepUserDataUntouched(n)}).catch(function(t){return r==u.o.refreshUserDataCookieExpired?(p.a.warn(i.constructor.name,s,"User data refresh failed. Using old data"),i.keepUserDataUntouched(n)):i.setUserDataOnError(t)})},t.prototype.keepUserDataUntouched=function(t){return c.a.updateCachedUserData(t),Promise.resolve(c.a.getCachedUserData())},t.prototype.setDefaultUserData=function(){this.clearStorage();var t=this.authSystem.getDefaultUserData();c.a.updateUserData(t),p.a.log(this.constructor.name,"setDefaultUserData",t)},t.prototype.setUserDataOnError=function(t){return p.a.log(this.constructor.name,"setUserDataOnError","error",t),this.setDefaultUserData(),Promise.resolve(c.a.getUserData())},t}())},function(t,e,n){"use strict";var r=n(205),o=n(17),i=n(123),s=n(9),a=n(234),c=n(74),u=n(333),p=n(45),l=n(334),f=n(339),h=n(241),d=n(28),g=n(0),y=n(16),v=n(26),m=n(208),_=new(function(}return t.prototype.processLink=function(t){var e=y.a.attr(t,"href")||"";this.checkBooleanAttribute(t,this.redirectAttrName,!1)&&(e=new m.a(t).getUrl()),this.checkBooleanAttribute(t,this.processLinkAttrName,!1)&&(e=v.Configuration.getUrlWithQueryParams(t,e))&&"#"!==e&&y.a.attr(t,{href:e})},t.prototype.checkBooleanAttribute=function(t,e,n){void 0===n&&(n=!0);var r=y.a.attr(t,e);return null===r?!n:"true"===(r=r.toLowerCase())||"false"!==r&&!n},t}()),b=n(22),C=n(2),w=n(278),S=n(20),A=n(19);n.d(e,"a",function(){return I});var I=function(){function t(){}return t.prototype.HasActiveSession=function(){return Promise.resolve(!1)},t.prototype.successLogin=function(){u.a.dispatch(p.a.LoginSuccess,{MG2AccountData:s.a.getUserData(),AuthProfile:s.a.getAuthProfile(),AuthSystem:this.name}),this.setLoginData(),A.a.isIntegrateDisqus()&&a.a.integrate(),o.a.getActivationProcess()||this.afterSuccessLogin()},t.prototype.afterSuccessLogi},t.prototype.successRegistration=function(){(u.a.dispatch(p.a.RegistrationSuccess,{MG2AccountData:s.a.getUserData(),AuthProfile:s.a.getAuthProfile(),AuthSystem:this.name}),A.a.isIntegrateDisqus()&&a.a.integrate(),o.a.getActivationProcess())?(u.a.dispatch(p.a.ActivationAccountCreated,{Email:this.authProfile.Email,DisplayName:this.authProfile.FullName}),l.a.get(f.a.ActivationInstance).process()):this.afterSuccessRegistration()},t.prototype.afterSuccessRegistration=function(){o.a.stopRegistrationProcess(),u.a.dispatch(i.h.ApplicationReload,i.l.Login)},t.prototype.failLogi},t.prototype.showLoginForm=function(t){},t.prototype.showRegisterForm=function(t){},t.prototype.showResetPasswordFor},t.prototype.setAuthEventsListeners=function(){},t.prototype.logi},t.prototype.onLoginSuccess=function(t){return Promise.resolve(t)},t.prototype.getUserData=function(n){var r=this;return n.UserId?S.a.getUserData(n.UserId,n.IdType).then(function(t){h.a.log(r.name,"getUserData",t);var e=r.createUserDataFrom(n,t);return l.a.set(f.a.UserStatePerPageload,s.a.calculateUserState(e.DigitalAccess,e.Subscriptions)),Promise.resolve(e)}).catch(function(t){return h.a.error(r.name,"getUserData - failed",t),Promise.reject(t)}):Promise.resolve(this.getDefaultUserData())},t.prototype.getDefaultUserData=function(t){return h.a.log(this.name,"getDefaultUserData"),new r.a({UserState:t?i.q.LoggedIn:i.q.NotLoggedIn,AuthSystem:this.name,AuthSystemId:this.id,ZipCodes:[c.a.getZipCode()]})},t.prototype.getAuthProfil},t.prototype.logoutMultipleDevices=function(){return Promise.resolve()},t.prototype.logout=function(){this.deleteLoginData(),a.a.clearCookie(),l.a.delete(f.a.UserStatePerPageload)},t.prototype.processLinks=function(t){var e=Object(d.h)(t);Object(g.each)(e,function(t){_.processLink(t)})},t.prototype.clearStorage=function(){},t.prototype.sendForgotPasswordReques},t.prototype.useMg2LoginTemplate=function(){return!1},t.prototype.hasPartialMg2AuthCookies=function(){return!1},t.prototype.createUserDataFrom=function(t,e){var n;return(n=e?new r.a(e):new r.a(t)).UserState=null,n.updateAuthProfileData(t),n.setAuthSystemInfo(this.id,this.name),n},t.prototype.authSystemNotFoun},t.prototype.syncUser=function(t){var e={CustomRegId:s.a.getCustomerRegistrationId()};return s.a.syncUser(e,t).catch(function(){return Promise.resolve()})},t.prototype.getLastLoginDate=function(){var t=this.getLoginData();if(!t||!t.LastLoginDate)return null;var e=new Date(t.LastLoginDate);return isNaN(e.getTime())?null:e},t.prototype.setLoginData=function(){var t={LastLoginDate:new Date};w.a.set(C.b.AuthLoginData,b.a.encrypt(t))},t.prototype.deleteLoginData=function(){w.a.delete(C.b.AuthLoginData)},t.prototype.getLoginData=function(){return b.a.decrypt(w.a.get(C.b.AuthLoginData),!0)},t}()},,function(t,e,n){"use strict";var i=n(309),r=n(334),o=n(339),s=n(337),a=n(241),c=n(19),u=n(123),p=n(347),l=function(t,e){this.publishSettings=t,this.needUpdate=e},f=n(0),h=n(6),d=n(335),g=n(343),y=n(46),v=function(){function t(){}return t.prototype.resetAl},t.prototype.setResetData=function(t){this.resetData=t,this.publishSettings=t?t.publishSettings:null},t.prototype.startFlowResetIfNeed=function(t,e){if(t){if(this.setResetData(t),!this.resetData||!this.publishSettings)return;this.resetData.needUpdate&&(this.isNeedUpdateRepeatActions()&&d.a.resetStorage(),this.isResetCurrentConversation()&&(h.a.resetCurrentCovrsations(),g.a.resetStorage()),this.isResetAllowIpList()&&y.a.resetStorage(),this.publishSettings.Reset?h.a.resetStorage():this.isResetArticleViews()&&h.a.resetArticleViews(),e&&(this.resetData.needUpdate=!1))}else this.resetAll()},t.prototype.isResetVisitedView=function(){return!(!this.resetData||!this.publishSettings)&&(!!this.resetData.needUpdate&&!(!this.publishSettings.ResetDaysVisitedSite&&!this.publishSettings.Reset))},t.prototype.isResetCurrentConversation=function(){return!(!this.resetData||!this.publishSettings)&&(!!this.resetData.needUpdate&&!(!this.publishSettings.ResetCurrentConversation&&!this.publishSettings.Reset))},t.prototype.isResetArticleViews=function(){return!!this.resetData&&!(!this.publishSettings.ResetArticleViews&&!this.publishSettings.Reset)},t.prototype.isResetAllowIpList=function(){return!!this.resetData&&!(!this.publishSettings.ResetAllowIpList&&!this.publishSettings.Reset)},t.prototype.isNeedUpdateRepeatActions=function(){return!!this.resetData&&!(!this.publishSettings||!this.publishSettings.Reset&&!this.publishSettings.ResetRepeatable)},t}(),m=n(250);n.d(e,"a",function(){return _});var _=new(function(){function t(){}return t.prototype.getStartConfiguration=function(){var n=this;this.resetService=new v;var t=p.a.getLocalConfiguration();if(Object(f.isEmpty)(t))return this.saveConfiguration();this.setConfiguration(t);var e=p.a.getPublishSettings();return c.a.setPublishSettings(e),new Promise(function(e){n.updateConfiguration().then(function(){var t=p.a.getPublishSettings();c.a.setPublishSettings(t),n.resetService.startFlowResetIfNeed(t),e(p.a.getLocalConfiguration())}).catc})})},t.prototype.isHaveNewPublish=function(t,e){return new Date(this.getPublishDate(e)).valueOf()<new Date(t.publishSettings.Date).valueOf()},t.prototype.getResetService=function(){return this.resetService},t.prototype.getPublishDate=function(t){var e=t||this.getConfiguration();return e&&e.Settings&&e.Settings.LastPublishDate?new Date(e.Settings.LastPublishDate):null},t.prototype.getConfiguration=function(){return p.a.getLocalConfiguration()},t.prototype.setConfiguration=function(t){p.a.setLocalConfiguration(t),r.a.set(o.a.UseRootDomain,this.useRootDomain())},t.prototype.saveConfiguration=function(t){var e=this;return this.getConfigurationData(c.a.getAttribute()).catch(function(t){if(t instanceof s.a)return e.getConfigurationData()}).catch(function(t){return Promise.reject()})},t.prototype.getConfigurationData=function(t){var e=this;return(window.NxtConfiguration||!Object(f.isEmpty)(window.NxtConfiguration)?Promise.resolve(window.NxtConfiguration):p.a.getConfigurationFromApi(c.a.getParamsToGenerateUrl(),t)).then(function(t){return!t||Object(f.isEmpty)(t)?(a.a.error("getConfigurationFromApi configuration is empty",t),Promise.reject()):(e.setConfiguration(t),t.Settings&&c.a.updateProductCodeFromConfig(t.Settings),Promise.resolve(t))}).catc})},t.prototype.updateConfiguration=function(){var e=this;return this.getResetInformation().then(function(t){return e.updatePublishSettings(t),e.resetService.setResetData(t),t.needUpdate?e.saveConfiguration(t):Promise.resolve(null)}).catc})},t.prototype.getResetInformation=function(){var i=this,s="getResetInformation";return(window.NxtPublishConfiguration||!Object(f.isEmpty)(window.NxtPublishConfiguration)?Promise.resolve(window.NxtPublishConfiguration):p.a.getPublishSettingsFromApi(c.a.getResourceUrl(),c.a.getSiteCode(),c.a.getConfigCode())).then(function(t){if(Object(f.isEmpty)(t)||!t.Date)return a.a.error("Configuration",s,"Publish settings file is empty","Resource URL: "+c.a.getResourceUrl(),t?JSON.stringify(t):null),Promise.reject(null);var e=new Date(t.Date),n=i.getPublishDate(),r=!1;r=!n||e.getTime()>n.getTime();var o=new l(t,r);return Promise.resolve(o)}).catch(function(t){return a.a.error("Configuration",s,"Failed to get Publish settings","Resource URL: "+c.a.getResourceUrl()+", SiteCode: "+c.a.getSiteCode()+", ConfigCode: "+c.a.getConfigCode()),Promise.reject(null)})},t.prototype.updatePublishSettings=function(t){c.a.setPublishSettings(t),p.a.setPublishSettings(t,{expires:new Date(u.g)})},t.prototype.getPublishSettings=function(){return p.a.getPublishSettings()},t.prototype.getCampaignData=function(){return this.getConfiguration().Campaign},t.prototype.getConfigurationSettings=function(){var t=this.getConfiguration();return t?t.Settings:null},t.prototype.useRootDomai},t.prototype.getRegistrationType=function(){return this.getConfigurationSettings().Site.RegistrationTypeId},t.prototype.getWhitelistSets=function(){var t=this.getConfiguration();return t?t.WhitelistSets:null},t.prototype.getRegistrationTemplate=function(){return this.getConfigurationSettings().RegistrationForm},t.prototype.getLoginTemplate=function(){return this.getConfigurationSettings().LoginTemplate},t.prototype.getActivationTemplate=function(){return this.getConfigurationSettings().ActivationForm},t.prototype.getCookiesPrivacyTemplate=function(){return this.getConfigurationSettings().CookiesPrivacyForm},t.prototype.getResetPasswordTemplate=function(){return this.getConfigurationSettings().ResetPasswordForm},t.prototype.getReturnUr},t.prototype.getUrlWithQueryParams=function(t,e){return new m.a(t,e,this.getConfigurationSettings()).getUrl()},t.prototype.setActiv},t.prototype.getDebugAllowedSetting=function(){var t=(this.getPublishSettings()||{}).publishSettings,e=this.getConfiguration();return t&&void 0!==t.PluginDebugAllowed?t.PluginDebugAllowed:e&&e.Settings&&void 0!==e.Settings.PluginDebugAllowed?e.Settings.PluginDebugAllowed:c.a.getOptions().environment!==u.e.prod},t.prototype.getConversation=function(t,e){var n=this.getCampaignData().Conversations;if(!n)return null;var r=n[t],o=Object(f.findWhere)(r,{Id:e});return o?new i.a(o):null},t.prototype.getConversationActions=function(t,e){var n=this.getConversation(u.i[t],e);return n?n.Actions:null},t.prototype.getPublishConfigurationCodes=function(){return this.getConfiguration().PublishedConfigurations},t}())},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(2),s=n(347),a=n(278),c=n(209),u=function(t){t&&(this.ABExperimentId=t.ABExperimentId,this.ABExperimentName=t.ABExperimentName,this.ABGroup=t.ABGroup,this.ABGroupName=t.ABGroupName)},p=n(333),l=n(45),f=n(122);n.d(e,"a",function(){return h});var h=new(function(){function t(){}return t.prototype.start=function(){this.getAbTestDataFromConfiguration(),this.getCookie(),!this.configData||this.getTodayDate()<this.configData.StartDate||this.getTodayDate()>=this.configData.EndDate?this.cookieData&&this.removeCookie():(!this.cookieData||this.cookieData&&this.configData.Id!=this.cookieData.ABExperimentId)&&this.generateCookie()},t.prototype.getUserGrou},t.prototype.getTest=function(){return this.configData},t.prototype.getCookie=function(){try{var t=JSON.parse(a.a.get(i.f.AbTest,{isSecureValue:!1,expandKey:!0,useRootDomain:!0}));return this.cookieData=t?new u(t):null,this.cookieData}catch(t){return this.cookieData=null}},t.prototype.setCookie=function(t){t&&(this.cookieData=t);try{a.a.set(i.f.AbTest,this.cookieData,{expires:this.configData.EndDate,useRootDomain:!0,expandKey:!0,isSecureValue:!1}),p.a.dispatch(l.a.ABCookieSet,this.cookieData)}catch(t){p.a.dispatch(l.a.ABCookieFail)}},t.prototype.getEndDat},t.prototype.generateCookie=function(){var e=this.generateUserGroup();return this.cookieData={ABExperimentId:this.configData.Id,ABExperimentName:this.configData.Name,ABGroup:e,ABGroupName:o.a.find(this.configData.Groups,function(t){return t.Value==e}).GroupName},this.setCookie(),this.cookieData},t.prototype.generateUserGroup=function(){var e=Math.floor(101*Math.random()),n=0;return o.a.find(this.configData.Group}).Value},t.prototype.getAbTestDataFromConfiguration=function(){try{var t=s.a.getABTestData();this.configData=t?new c.a(t):null;var e=this.getDateWithoutTime(this.configData.EndDate);return e=new Date(e.setDate(e.getDate()+1)),this.configData.EndDate=e,this.configData}catch(t){return this.configData=null}},t.prototype.removeCookie=function(){a.a.delete(i.f.AbTest,{isSecureValue:!1,expandKey:!0,useRootDomain:!0}),this.cookieData=null},t.prototype.getTodayDat},t.prototype.getDateWithoutTime=function(t){return new Date(t.setUTCHours(0,0,0,0))},t}())},function(t,e,n){"use strict";var r=n(46),o=n(348),i=n(241),s=n(122),a=n(333),c=n(45),u=n(346),p=n(6),l=n(16),f=n(123),h=n(175),d=n(347),g=n(0),y=n.n(g),v=function(){function t(t){this.templateClosed=!1,this.MAX_PIN_ATTAMPTS=5,this.WRONG_PIN=100,this.originalSubmitStyles=null,this.codeListId=t;var e=d.a.getCodeSetTemplatesData(),n=y.a.findWhere(e,{Id:this.codeListId});this.codeListName=n.Name;var r={Html:n?n.TemplateHtml:'<div data-display-type="modal" tabindex="-1" data-width="380" class="Mg2-connext modal Mg2-pin-modal fade in">\n                <div class="modal-body m-0 p-0 Mg2-pin x-editable-css-bg x-editable-text">\n                    <a href="#" class="fa fa-times closebtn Mg2-close-inline" data-dismiss="modal" aria-label="Close" aria-hidden="true"></a>\n                    <div class="m-0 p-0 Mg2-pin__title">Please enter your PIN</div>\n                    <div class="m-0 p-0 Mg2-pin__subtitle">If you have been given an access PIN, please input it in the box below. If you do not have an access PIN you may close this to continue reading.</div>\n                    <div class="m-0 p-0 Mg2-pin__input-row">\n                        <div class="Mg2-pin__message Mg2-pin__message_success" style="display: none;">Success! Now you have full access</div>\n                        <input type="password" class="Mg2-pin__input">\n                    </div>\n                    <div class="Mg2-pin__button-row">\n                        <a class="Mg2-pin__button" data-mg2-action="click">Submit</a>\n                    </div>\n                </div>\n            </div>'};this.template=h.a.getInstance().createTemplate(r),this.pinElement=this.template.getElement()}return t.prototype.checkAttemptsLef},t.prototype.noPinAttemptsLeft=function(){var t=l.a.queryElement(".Mg2-pin__message",this.pinElement);l.a.text(t,"You exceeded maximum amount of attempts. You will be allowed to try again in 15 minutes."),l.a.addClass(t,"Mg2-pin__message_error"),l.a.show(t),l.a.remove(l.a.queryElement(".Mg2-pin__input",this.pinElement));var e=l.a.queryElement(".Mg2-pin__button",this.pinElement);e.style.visibility="hidden",setTimeou},0),this.template.setElement(this.pinElement)},t.prototype.checkPinAttempts=function(){var t=parseInt(r.a.getPinAttempts()),e=!0;return t&&t>=this.MAX_PIN_ATTAMPTS-1&&(e=!1),e},t.prototype.wrongPin=function(){var t=parseInt(r.a.getPinAttempts());t?t++:t=1;var e=s.a.get();e.setMinutes(e.getMinutes()+15),r.a.setPinAttempts(t,{expires:e})},t.prototype.addEventListeners=function(){var n=this;l.a.on(this.pinElement,f.h.TemplateShow}),l.a.on(this.pinElement,f.h.TemplateClosed,function(t){var e=t&&t.detail?t.detail.closeEvent:"";n.fireCloseEvent(e),e===f.c.AccessGranted&&a.a.dispatch(f.h.ApplicationReload)}),l.a.on(l.a.queryElement(".Mg2-pin__button",this.pinElement),"click})},t.prototype.show=function(){this.template.beforeShow(),this.template.show(),this.pinElement=this.template.getElement(),this.addEventListeners(),this.template.afterShow()},t.prototype.hid},t.prototype.fireCloseEvent=function(t){this.templateClosed||(a.a.dispatch(c.a.AccessTemplateClosed,t),this.templateClosed=!0)},t.prototype.fireShowEven},t.prototype.submitAccessForm=function(){var e=this,n=l.a.queryElement('.Mg2-pin__input[type="password"]',this.pinElement),r=l.a.queryElement(".Mg2-pin__message",this.pinElement);l.a.hide(r),l.a.removeClass(r,"Mg2-pin__message_error"),l.a.removeClass(r,"Mg2-pin__message_success"),l.a.removeClass(n,"Mg2-pin__input_error");var t=l.a.val(n);t?(_.checkAccessCode(t,this.codeListName).the}).catch(function(t){e.accessCodeFail(r,{message:t.ErrorMessage,status:t.ErrorCode},n)}).always(function(){return e.toggleDisablingSubmitButton(!1)}),this.toggleDisablingSubmitButton(!0)):(l.a.show(r),l.a.addClass(n,"Mg2-pin__input_error"),l.a.text(r,"Please enter a code"),l.a.addClass(r,"Mg2-pin__message_error"))},t.prototype.toggleDisablingSubmitButton=function(t){var e=l.a.queryElement(".Mg2-pin__button",this.pinElement);t?(this.originalSubmitStyles={},this.originalSubmitStyles.pointerEvents=e.style.pointerEvents,e.setAttribute("disabled","true"),e.style.pointerEvents="none"):(e.removeAttribute("disabled"),e.style.pointerEvents=this.originalSubmitStyles.pointerEvents)},t.prototype.accessCodeSuccess=function(t,e){var n=this;l.a.text(t,e.message),l.a.addClass(t,"Mg2-pin__message_success"),l.a.show(t),setTimeout(function(){n.template.hide(f.c.AccessGranted)},1e3),this.fireCloseEvent(f.c.AccessGranted)},t.prototype.accessCodeFail=function(t,e,n){+e.status===this.WRONG_PIN&&this.wrongPin(),l.a.text(t,e.message),l.a.show(t),l.a.addClass(t,"Mg2-pin__message_error"),n.value=""},t}(),m=n(19),_=new(function(){function t(){}return t.prototype.showAccessCodeInputTemplate=function(t){this.checkCodeSetExistsbyId(t)&&new v(t).show()},t.prototype.isSavedCode=function(){return!!r.a.getAccessBySavedCode()||!1},t.prototype.getAccessCodeI},t.prototype.getSavedAccessCodeData=function(){var t=r.a.getAccessBySavedCode();return t||null},t.prototype.setAccessToStorage=function(t){r.a.setAccessByCode({Id:t.Id,Expiration:t.Expiration},{expires:new Date(t.Expiration)})},t.prototype.checkAccessCode=function(t,n){if(t){var e={Code:t,CodeListSetName:n,ClientCode:m.a.getClientCode(),SiteCode:m.a.getSiteCode()};return r.a.checkAccessCode(e,{location:o.a.Whitelisting}).then(function(t){i.a.log("Check Access Code","Success",t),r.a.setAccessByCode({Id:t.Id,Expiration:t.Expiration},{expires:new Date(t.Expiration)}),p.a.sendViewData();var e={Id:t.Id,Name:n,AccessStartDate:s.a.get().toString(),AccessEndDate:t.Expiration,Active:!0,ClientId:null,Ips:null,UserAgents:null};return a.a.dispatch(c.a.AccessGranted,e),Promise.resolve()}).catch(function(t){i.a.log("Check access code","error",t.ErrorMessage);var e="Input access code is wrong",n={};return n[u.a.AccessDeniedReason]=e,a.a.dispatch(c.a.AccessDenied,e,n),Promise.reject(t)})}return Promise.reject()},t.prototype.checkCodeSetExistsbyId=function(t){var e=d.a.getCodeSetTemplatesData();return!!y.a.findWhere(e,{Id:t})},t}()),b=n(47),C=n(74),w=function(){function t(t,e){this.allowedAccessList=Object(b.isArray)(t)?t:[],this.ip=e||C.a.getIP()}return t.prototype.appl},t.prototype.findAllowedlistSetsWithIP=function(n){var r=this,o=[];return Object(g.each)(this.allowedAccessList,function(e){e&&Object(b.isArray)(e.Ips)&&Object(g.each)(e.Ip})}),Promise.resolve(o)},t.prototype.compareIPs=function(t,e){try{if(!t||!e)return!1;var n=!1,r=!1;return/^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$/.test(e)&&(~e.indexOf("/")?r=!0:n=!0),n?t===e:!!r&&this.IPWithinRangeCIDR(t,e)}catch(t){return!1}},t.prototype.IPWithinRangeCIDR=function(t,e){for(var n=this.getIPsRangeByCIDR(e),r=n[0],o=n[1],i=[t.split("."),r.split("."),o.split(".")],s=0;s<i.length;s++){for(var a=0;a<i[s].length;a++)i[s][a]=parseInt(i[s][a]);i[s]=(i[s][0]<<24)+(i[s][1]<<16)+(i[s][2]<<8)+i[s][3]}return i[0]>=i[1]&&i[0]<=i[2]},t.prototype.getIPsRangeByCIDR=function(t){var e=[];if("string"==typeof t){var n=t.match(/^(\d+\.\d+\.\d+\.\d+)\/(\d+)$/);if(n){var r=this.ipToIp32(n[1]),o=parseInt(n[2]);if("number"==typeof r&&0<=o&&o<=32){var i=this.buildMask(o),s=this.applyMask(r,i);e=[this.ip32ToIp(s),this.ip32ToIp(s-i-1)]}}}return e},t.prototype.ipToIp32=function(t){var e=!1;if("string"==typeof t){var n=t.match(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/);if(n){for(var r=[],o=1;o<n.length;o++){var i=parseInt(n[o]);0<=i&&i<=255&&r.push(i)}4===r.length&&(e=this.bytesToInt32(r))}}return e},t.prototype.ip32ToIp=function(t){var e;return"number"==typeof t&&isFinite(t)&&(e=this.int32ToBytes(4294967295&t).join(".")),e},t.prototype.int32ToBytes=function(t){return[t>>>24&255,t>>>16&255,t>>>8&255,t>>>0&255]},t.prototype.bytesToInt32=function(t){return 256*(256*(256*t[0]+t[1])+t[2])+t[3]},t.prototype.buildMask=function(t){return t?-1<<32-t:0},t.prototype.applyMask=function(t,e){for(var n=this.int32ToBytes(t),r=this.int32ToBytes(e),o=[],i=0;i<n.length;i++)o.push(n[i]&r[i]);return this.bytesToInt32(o)},t}(),S=n(50),A=function(t){this.TypeName="UserAgentAccess",t&&(this.Value=t.Value,this.Qualifier=t.Qualifier)},I=function(t){this.Ips=[],this.UserAgents=[],t&&(this.Id=t.Id,this.Name=t.Name,this.Active=t.Active,this.AccessStartDate=t.AccessStartDate,this.ClientId=t.ClientId,this.AccessEndDate=t.AccessEndDate,this.Ips=t.Ips,this.UserAgents=Object(g.map)(t.UserAgents,function(t){return new A(t)}))},O=function(){function t(t){this.allowedAccessList=[],t&&(Object(g.isArray)(t)?this.allowedAccessList=t:this.allowedAccessList.push(t))}return t.prototype.appl},t.prototype.filterList=function(){var e=this,n=[],r=S.Criteria.getInstance();return this.allowedAccessList&&0<this.allowedAccessList.length?(Object(g.each)(this.allowedAccessList,function(t){(t=new I(t)).passed=!0,t.UserAgents&&0===t.UserAgents.length?(t.passed=!1,t.calculateExpressions=[Promise.resolve()]):t.calculateExpressions=r.getCalculateExpressions(e.mapUserAgents(t.UserAgents)),n.push(r.executeCalculateExpressionsAtLeastOneForCollection(t))}),i.a.log("Check UserAgents: ",this.allowedAccessList),r.calculatePassedCollections(n)):Promise.resolve([])},t.prototype.mapUserAgents=function(t){var e=[];return Object(g.each)(t,function(t){e.push(new A(t))}),e},t}(),E=function(}return t.prototype.apply=function(){var e=this,n=[];return Object(g.each)(this.inputLis}),Promise.resolve(n)},t.prototype.getCurrentDat},t.prototype.inAccessPeriod=function(t){var e=this.getCurrentDate();t.AccessStartDate=t.AccessStartDate?t.AccessStartDate:null,t.AccessEndDate=t.AccessEndDate?t.AccessEndDate:null;var n=new Date(t.AccessStartDate).valueOf(),r=new Date(t.AccessEndDate).valueOf();return r<=0&&n<=0||(r<=0?n<=e:n<=0?e<=r:n<=e&&e<=r)},t}(),P=function(){return(P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},D=new(function(}return t.prototype.apply=function(t){var s=this;return Promise.all([new w(t).apply(),new O(t).apply()]).then(function(t){var e=t[0],n=t[1],o=e.concat(n);if(s.haveSets(o))return new E(o).apply().then(function(t){if(s.haveSets(t))return a.a.dispatch(c.a.AccessGranted,t[0]),Promise.resolve(!s.useConnextFlow);var e="Access date is out of range",n=Object(g.first)(o)||{},r={};return r[u.a.AccessDeniedReason]=e,r[u.a.AccessStartDate]=n.AccessStartDate,r[u.a.AccessEndDate]=n.AccessEndDate,s.accessDenied(e,n,r)});var r="IpFilter or UserAgentFilter",i={};return i[u.a.AccessDeniedReason]=r,s.accessDenied(r,null,i)})},t.prototype.haveSet},t.prototype.accessDenied=function(t,e,n){return e=P(P({},e),{reason:t}),a.a.dispatch(c.a.AccessDenied,e,n),i.a.log("AccessManager",t),Promise.resolve(this.useConnextFlow)},t}());n.d(e,"a",function(){return x});var x=new(function(){function t(){var t=this;this.accessGranted=!1,this.skipOnNextRun=!1,a.a.subscribe(c.a.AccessGrante},!0)}return t.prototype.canClientUseConnext=function(t){var e=this;if(t&&Array.isArray(t))return D.apply(t).then(function(t){return t&&e.isHaveAccessByCode()?Promise.resolve(!t):Promise.resolve(t)});var n=!this.isHaveAccessByCode();return Promise.resolve(n)},t.prototype.isHaveAccessByCode=function(){return _.isSavedCode()},t.prototype.getAccessCodeId=function(){return _.getAccessCodeId()},t.prototype.resetStorag},t.prototype.getSavedAccessCod},t.prototype.processAccessCodeFlow=function(t){_.showAccessCodeInputTemplate(t)},t.prototype.setAccessByCode=function(t){_.setAccessToStorage(t)},t.prototype.IsAccessGranted=function(){return this.accessGranted},t}())},function(t,e,n){"use strict";var r,o;n.d(e,"a",function(){return r}),(o=r||(r={})).Init="onInit",o.Run="onRun",o.Finish="onFinish",o.DynamicMeterFound="onDynamicMeterFound",o.MeterLevelSet="onMeterLevelSet",o.CampaignFound="onCampaignFound",o.ConversationDetermined="onConversationDetermined",o.ConversationExpired="onConversationExpired",o.AdblockFound="onAdblockFound",o.NotAuthorized="onNotAuthorized",o.Authorized="onAuthorized",o.LoggedIn="onLoggedIn",o.HasAccess="onHasAccess",o.HasAccessNotEntitled="onHasAccessNotEntitled",o.HasNoActiveSubscription="onHasNoActiveSubscription",o.AnyAccountStatusEvent="onAnyAccountStatusEvent",o.ActionShow="onActionShown",o.ActionClosed="onActionClosed",o.ButtonClick="onButtonClick",o.NewsdayButtonClick="onNewsdayButtonClick",o.PaywallShown="onPaywallShown",o.FlittzPaywallShown="onFlittzPaywallShown",o.FlittzPaywallClosed="onFlittzPaywallClosed",o.FlittzButtonClick="onFlittzButtonClick",o.LoginShown="onLoginShown",o.LoginClosed="onLoginClosed",o.LoginSuccess="onLoginSuccess",o.LoginError="onLoginError",o.ActivationFormShown="onActivationFormShown",o.ActivationLoginStepShown="onActivationLoginStepShown",o.ActivationLoginStepClosed="onActivationLoginStepClosed",o.ActivationLinkStepShown="onActivationLinkStepShown",o.ActivationLinkStepClosed="onActivationLinkStepClosed",o.ActivationLinkStepSubmitted="onActivationLinkStepSubmitted",o.ActivationLinkSuccessStepShown="onActivationLinkSuccessStepShown",o.ActivationLinkSuccessStepClosed="onActivationLinkSuccessStepClosed",o.ActivationLinkErrorStepShown="onActivationLinkErrorStepShown",o.ActivationLinkErrorStepClosed="onActivationLinkErrorStepClosed",o.ActivationFormClosed="onActivationFormClosed",o.ActivationExpiredSubscriptionStepShown="onActivationExpiredSubscriptionStepShown",o.ActivationExpiredSubscriptionStepClosed="onActivationExpiredSubscriptionStepClosed",o.AccessTemplateShown="onAccessTemplateShown",o.AccessTemplateClosed="onAccessTemplateClosed",o.AccessGranted="onAccessGranted",o.AccessDenied="onAccessDenied",o.LoadError="onLoadError",o.CriticalError="onCriticalError",o.NewsletterArrival="onNewsletterArrival",o.ViewsAutoReset="onViewsAutoReset",o.ActionNotFound="onActionNotFound",o.ConversationNotFound="onConversationNotFound",o.NewsletterUpdateResolved="mg2nw_preferences_succeed_e",o.NewsletterSignUp="onNewsletterSignUp",o.NewsletterSignUpFails="onNewsletterSignUpFails",o.RegistrationShown="onRegistrationShown",o.RegistrationError="onRegistrationError",o.RegistrationSuccess="onRegistrationSuccess",o.RegistrationSuccessRegister="onRegistrationSuccessRegister",o.RegistrationSuccessLogin="onRegistrationSuccessLogin",o.RegistrationClosed="onRegistrationClosed",o.ResetPasswordError="onResetPasswordError",o.ResetPasswordSuccess="onResetPasswordSuccess",o.ABCookieSet="onABCookieSet",o.ABCookieFail="onABCookieFail",o.ActivationAccountCreated="onActivationAccountCreated",o.GenericError="GenericError",o.JsCallFired="onJsCallFired",o.GoogleSignInChanged="onGoogleSignInChanged",o.GoogleSignInSuccess="onGoogleSignInSuccess",o.GoogleSignInFailure="onGoogleSignInFailure",o.ChangedDeviceId="onChangedDeviceId",o.NxtError="onNxtError",o.CustomTrackedEvent="nxt_customTrackedEvent"},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(278),o=n(356),i=n(2),s=new(function(){function t(){}return t.prototype.getAccessBySavedCode=function(){var t=r.a.get(i.f.AllowUseCode,{isSecureValue:!0});return t?JSON.parse(t):void 0},t.prototype.setAccessByCode=function(t,e){e.isSecureValue=!0,r.a.set(i.f.AllowUseCode,JSON.stringify(t),e)},t.prototype.getPinAttempts=function(){return r.a.get(i.f.PinAttempts)},t.prototype.setPinAttempt},t.prototype.removeAccessByCode=function(){r.a.delete(i.f.AllowUseCode)},t.prototype.checkAccessCode=function(t,e){return e.contentType="application/json",o.a.post("accesscode/check",t,e)},t.prototype.resetStorage=function(){this.removeAccessByCode()},t}())},function(t,P,D){(function(s){var e=Object.getOwnPropertyDescriptors},a=/%[sdj%]/g;P.forma},P.deprecat};var t,r={ion v(t){return"boolean"==typeof }function _(t){return"number"==typeof t}function b(t){return"string"==typeof }function w(t){return u(t)&&"[object RegExp]"===n(tbuglo},(P.inspect=c).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},P.isArray=y,P.isBoolean=v,P.isNull=m,P.isNullOrUndefine},P.isNumber=_,P.isString=b,P.isSymbo},P.isUndefined=C,P.isRegExp=w,P.isObject=u,P.isDate=S,P.isError=A,P.isFunction=I,P.isPrimitiv},P.isBuffer=D(307);var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"}P.lo},P.inherits=D(308),P._exten};var f="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void }P.promisif},P.promisify.custom=f,P.callbackif}}).call(this,D(282))},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o=n(16),r=n(333),i=n(28),s=n(241),a=n(45),c=n(123),u=n(29),p=n(0),l=n.n(p),f=function(){function t(t){this.NAME="Template",this.displayType="",this.options=t,this.setElement(o.a.create(this.options.Html))}return t.prototype.getType=function(){return this.displayType},t.prototype.setType=function(t){this.displayType=t},t.prototype.getElement=function(){return this.domElement},t.prototype.setElemen},t.prototype.beforeShow=function(){this.fixFontAwesomeStyle()},t.prototype.dispatchTemplateShownEvent=function(){var t=new CustomEvent(c.h.TemplateShown,{bubbles:!0});this.getElement().dispatchEvent(t),r.a.dispatch(c.h.TemplateShown)},t.prototype.dispatchTemplateCloseEvent=function(t){t||(t=c.c.CloseButton);var e=new CustomEvent(c.h.TemplateClosed,{bubbles:!0,detail:{closeEvent:t}});this.getElement().dispatchEvent(e)},t.prototype.afterSho},t.prototype.fixDisplayBug},t.prototype.fixBackgroundImage=function(){if(u.a.isIE()){var t=this.getElement(),e=[].slice.call(o.a.find("*",t),0);e.push(t),e.forEach(function(t){t.style.backgroundImage?t.setAttribute("style",t.getAttribute("style")):"style"==o.a.getType(t)&&o.a.html(t,o.a.html(t))})}},t.prototype.fixFontAwesomeStyle=function(){var t=this.getElement(),e=o.a.find(".fa",t),n={display:"inline-block",font:"normal normal normal 14px/1 FontAwesome","font-size":"inherit","font-variant":"normal","text-transform":"none","text-rendering":"auto","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"};l.a.each(e,function(t){var e=o.a.getCssAttribute(t,"display");e&&(n.display=e),o.a.css(t,n),o.a.removeClass(t,"fa"),o.a.addClass(t,"cb")})},t.prototype.fixCloseButton=function(){(o.a.find("[data-dismiss]",this.getElement())||[]).forEach(function(t){o.a.attr(t,"href")!==Object(i.j)()&&o.a.attr(t,"href")!==Object(i.j)()+"#"||o.a.attr(t,{href:"#"})})},t.prototype.show=function(){},t.prototype.hide=function(t){this.dispatchTemplateCloseEvent(t),o.a.addClass(this.getElement(),"hide"),o.a.remove(this.getElement())},t.prototype.switchStep=function(){},t.prototype.destroy=function(){o.a.isVisible(this.getElement())?this.hide():o.a.remove(this.getElement())},t.prototype.setWidth=function(t){var e;this.width=t,"function"==typeof Event?e=new Event("resize"):(e=document.createEvent("Event")).initEvent("resize",!0,!0),window.dispatchEvent(e)},t.prototype.getWidth=function(){return this.width?this.width:+this.getElement().dataset.width},t.prototype.addCloseBtnListener=function(){var r=this;o.a.on(o.a.find("[data-dismiss]",this.getElement()),"click",function(t){t.preventDefault();var e=t.target,n=o.a.attr(e,"href");if(o.a.attr(e,"data-dismiss")===c.j&&("#"===n||!n))return!1;"#"!==n&&n?r.fireTargetValue(e,n):(s.a.log(r.NAME,"addCloseBtnListener","Click by link without href",n),r.hide())})},t.prototype.fireTargetValue=function(t,e){var n;t.hasAttribute("target")?(n="Open in a new window",window.open(e,"_blank")):(n="Open in the current window",window.location.href=e),s.a.log(this.NAME,"fireTargetValue",n,e),r.a.dispatch(a.a.ButtonClick,this.options)},t.prototype.addCss=function(t,e){t&&o.a.append(this.getElement(),'<style id="'+e+'-mg2style">'+t+"</style>")},t.prototype.setId=function(t){o.a.attr(this.getElement(),{id:t})},t.prototype.isCanShow=function(){if(this.options&&this.options.Selector){var t=o.a.isExistElement(this.options.Selector);return t||s.a.error(this.options.Selector," not found"),t}return!0},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"Criteria",function(){return a});var i=n(241),o=n(192),s=n(0),r=n.n(s),a=function(}return t.getInstanc},t.prototype.calculateExpression=function(t,e,n){i.a.log(this.NAME,"calculateExpression","Expression"+t,n);var r=(new o.ExpressionFactory).create(t);return r?(r.setOptions(n),r.check(e)):Promise.reject()},t.prototype.getCalculateExpressions=function(t,n){var r=this,o=[];return Object(s.each)(t,function(t,e){i.a.log("Expression",e,t),o.push(r.calculateExpression(t.TypeName,t,n))}),o},t.prototype.executeCalculateExpressionsForCollection=function(e){return Promise.all(e.calculateExpressions).then(function(t){return i.a.log("Collection ["+e.Name+"] --- PASSED",e),Promise.resolve(e)}).catch(function(t){return i.a.log("Collection ["+e.Name+"] --- FAILED",e),e.passed=!1,Promise.resolve(e)})},t.prototype.executeCalculateExpressionsAtLeastOneForCollection=function(e){return Promise.all(e.calculateExpressions.ma})).then(function(t){return r.a.where(t,{status:"fulfilled"}).length?i.a.log("Collection ["+e.Name+"] --- PASSED",e):(i.a.log("Collection ["+e.Name+"] --- FAILED",e),e.passed=!1),Promise.resolve(e)})},t.prototype.calculatePassedCollection=function(t,e){return this.calculatePassedCollections(t,e).then(function(t){return Object(s.first)(t)})},t.prototype.calculatePassedCollections=function(t,r){return Promise.all(t).then(function(t){var e=Object(s.filter)(});if(e&&0!==e.length){var n=Object(s.sortBy)(e,r);return Promise.resolve(n)}return Promise.resolve([])}).catch(function(t){return Promise.reject(t)})},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTriggerType",function(){return r});var r={Time:"Time",Hover:"Hover",EOS:"ElementOnScreen",PublicEvent:"PublicEvent",ScrollDepth:"ScrollDepth"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.Debug={Level:1,Name:"debug"},t.Error={Level:2,Name:"error"},t.Fatal={Level:3,Name:"fatal"},t.None={Level:4,Name:"none"},t}()},function(t,e,n){"use strict";var r=n(16),o=n(0),i=n(63),s=n(176),a=new(function(){function t(){}return t.prototype.add=function(t){var e=t.options.backdrop;e||"static"===e?(this.backdrop=r.a.queryElement(".connext-modal-backdrop"),this.backdrop||this.create(),r.a.css(this.backdrop,{zIndex:t.zIndex-1,opacity:t.options.transparentBackdrop})):this.backdrop&&(r.a.remove(this.backdrop),this.backdrop=null)},t.prototype.delet},t.prototype.create=function(){var t=document.createElement("div");t.setAttribute("class",s.a.BACKDROP+" fade"),this.backdrop=document.body.appendChild(t)},t.prototype.rese},t}()),c=n(123),u=n(241);n.d(e,"a",function(){return p});var p=new(function(}return t.prototype.reset=function(){var e=this;Object(o.each)(this.stac}),this.stack=[],this.currentOpenModal=null,this.keyDownListener=null,this.outsideClickListener=null,a.reset()},t.prototype.show=function(t){if(!t.isShown){if(u.a.log("BsModalService",this.stack,t,t.isShown),this.isEmptyStack())this.resetPageScroll(),i.a.saveOriginalRightPadding();else{var e=Object(o.last)(this.stack);this.removeBackDropListener(e),this.removeKeydownListeners()}this.stack.push(t);var n=this.calculateZIndex();t.setZindex(n),t.show(),setTimeou},100),this.addKeydownListeners(t),this.addBackDropListener(t),this.currentOpenModal=t}},t.prototype.addBackDropListener=function(t){this.outsideClickListener=t.close.bind(t,c.c.ClickOutside),r.a.on(t.containerElement,"mousedown",this.outsideClickListener)},t.prototype.hide=function(t,e){this.isModalOpen(t)&&(this.removeBackDropListener(t),this.removeKeydownListeners(),this.removeModalFromStack(t),t.hide(e)),this.isEmptyStack()?(this.returnPageScroll(),a.delete(),i.a.resetHorizontalScrollbar()):this.focusNextModal()},t.prototype.resetPageScroll=function(){r.a.addClass(document.body,"modal-open"),r.a.addClass(document.getElementsByTagName("html")[0],"modal-open")},t.prototype.returnPageScroll=function(){r.a.removeClass(document.body,"modal-open"),r.a.removeClass(document.getElementsByTagName("html")[0],"modal-open")},t.prototype.getStackLengt},t.prototype.calculateZIndex=function(){return 10040+10*this.getStackLength()},t.prototype.isModalOpen=function(e){return Object(o.find)(this.stac})},t.prototype.removeModalFromStack=function(e){this.stack=Object(o.filter)(this.stac})},t.prototype.focusNextModal=function(){this.currentOpenModal=Object(o.last)(this.stack),this.currentOpenModal&&(this.currentOpenModal.setFocus(),this.currentOpenModal.isShown=!0,i.a.updateUnderElement(this.currentOpenModal.element),a.add(this.currentOpenModal),this.addKeydownListeners(this.currentOpenModal),this.addBackDropListener(this.currentOpenModal))},t.prototype.isEmptyStac},t.prototype.addKeydownListeners=function(t){this.keyDownListener=t.close.bind(t,c.c.EscButton),r.a.on(document,"keydown",this.keyDownListener)},t.prototype.removeKeydownListeners=function(){r.a.off(document,"keydown",this.keyDownListener),this.keyDownListener=null},t.prototype.removeBackDropListener=function(t){r.a.off(t.containerElement,"mousedown",this.outsideClickListener)},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"BaseTimedTrigger",function(){return h});var r,o=n(57),i=n(11),s=n(335),a=n(2),c=n(28),u=n(241),p=n(122),l=n(0),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(n){function t(t,e){return n.call(this,t)||this}return f(t,n),t.prototype.trigger=function(){var t=this;this.actionType.prepareToShow(i.ActionModule.getReplaceVariables()).then(function(){t.actionType.executeAction(),t.setActionInfo(),t.actionType.show()}).catch(function(){})},t.prototype.canTrigger=function(){var t=this.getActionInfo();return!t||(0===this.options.RepeatableOnConversation||!!(this.isTimeRepeatUp(t)&&t.count<this.options.RepeatableOnConversation))},t.prototype.resetRepeatableData=function(){if(this.getActionInfo()){var t=s.a.getTimeRepeatableActions();delete t[this.actionData.ConversationId][this.actionData.Id],s.a.setTimeRepeatableActions(t)}},t.prototype.getActionInfo=function(){var t=s.a.getTimeRepeatableActions()||{};if(this.issetActionData(t)){var e=t[this.actionData.ConversationId][this.actionData.Id];return{date:e[a.g.RepeatAfter],count:e[a.g.Count]}}return null},t.prototype.setActionInfo=function(){try{var t=this.getActionInfo(),e={};e[a.g.RepeatAfter]=Object(c.d)(this.options.RepeatAfter);var n=s.a.getTimeRepeatableActions()||{};Object(l.isEmpty)(t)?(n[this.actionData.ConversationId]||(n[this.actionData.ConversationId]={}),e[a.g.Count]=1):e[a.g.Count]=t.count+1,n[this.actionData.ConversationId][this.actionData.Id]=e,s.a.setTimeRepeatableActions(n)}catch(t){u.a.error("SetTimeRepeatableActionData",t)}},t.prototype.isTimeRepeatUp=function(t){return p.a.get()>new Date(t.date)},t}(o.ActionTrigger)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTrigger",function(){return a});var r=n(0),o=n(335),i=n(241),s=n(28),a=function(){function t(t){this.actionType=t,this.actionModel=this.actionType.action,this.actionElem=t.getActionElement?t.getActionElement():null}return t.prototype.getTriggerWhen=function(){return this.actionModel.When},t.prototype.unRegiste},t.prototype.startTimer=function(t){var e=this.options.Delay;0===e?t():this.timer=setTimeout(function(){t()},e)},t.prototype.handlerAction=function(t){return!0},t.prototype.canNotTriggerActio},t.prototype.getActionInfo=function(){try{var t=o.a.getRepeatablesInConv();return Object(r.isEmpty)(t)?null:t[this.actionModel.Id]}catch(t){i.a.error("ActionTrigger","GetRepeatablesInConv",t)}},t.prototype.issetActionData=function(t){return t&&t[this.actionModel.ConversationId]&&t[this.actionModel.ConversationId][this.actionModel.Id]},t.prototype.setActionInfo=function(){try{var t=o.a.getRepeatablesInConv(),e=this.getActionInfo();Object(s.t)(e)?t[this.actionModel.Id]=e+1:t[this.actionModel.Id]=1,o.a.setRepeatablesInConv(t)}catch(t){i.a.error("ActionTrigger","UpdateRepeatablesInConv",t)}this.setActionArticleInfo()},t.prototype.setActionArticleInfo=function(){try{var t=o.a.getRepeatablesInArticle(),e=Object(s.k)();Object(s.t)(t)&&t.url===e?t.count++:t={url:e,count:1},o.a.setRepeatablesInArticle(t)}catch(t){i.a.error("ActionTrigger","UpdateRepeatablesInArticle",t)}},t.prototype.resetRepeatableData=function(){if(this.getActionInfo()){var t=o.a.getRepeatablesInConv();delete t[this.actionModel.Id],o.a.setRepeatablesInConv(t)}o.a.removeRepeatablesInArticle()},t.prototype.canRepeatableOnConversation=function(t){if(0===t)return!0;var e=this.getActionInfo();return!e||e<t},t.prototype.canRepeatableOnArticle=function(t){if(0===t)return!0;var e=o.a.getRepeatablesInArticle(),n=Object(s.k)();return!e||e.url!==n||e.count<t},t}()},function(t,e,n){"use strict";n.r(e);var r,o,i,s,a,c,u=n(12),p=function(t){t&&(this.Method=t.Effect,this.TrimMethod=t.TrimmingMethod,this.Selector=t.Selector,this.AllowedCharactersCount=t.AllowedCharactersCount||t.Characters||0,this.CurrentCharacterCount=0,this.Terminator=t.Terminator||"",this.ContainerHeight=t.ContainerHeight||0,this.TemplateType=t.TemplateType,this.ExcludeClasses=t.ExcludeClasses)},l=n(338),f=n(0),h=n.n(f),d=n(16),m=function(t,e){this.updatedElement=t,this.lastTrimElement=e},g=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},y=function(){function t(t){this.styleElementClass="content-styles",this.elementToBeMaskedClass="to-be-masked",this.exceptionContentStylesSelectors=[".blurry-text",".mark-text",".Mg2-fade"],this.maskingOptions=t;var e=this.maskingOptions.ExcludeClasses.join(" .")?"."+this.maskingOptions.ExcludeClasses.join(" ."):"";this.maskElement=d.a.queryElement(this.maskingOptions.Selector+":not("+e+")"),this.maskElement&&(this.maskElement.classList.add(this.elementToBeMaskedClass),this.setOriginalContent(),this.setContentStyles())}return t.prototype.setOriginalContent=function(){var t=this.maskElement.cloneNode(!0);Object(f.each)(this.getExcludedElements(t),function(t){t.remove()}),this.originalContent=d.a.removeScripts(t.innerHTML)},t.prototype.setContentStyles=function(){var t=d.a.queryElement(this.maskingOptions.Selector+"."+this.elementToBeMaskedClass),e=d.a.find("."+this.styleElementClass,t),n=this.maskingOptions.Selector+"."+this.elementToBeMaskedClass+" *";Object(f.each)(this.exceptionContentStylesSelector});var r="\n            "+n+", "+n+":before, "+n+":after {\n                height: 0px;\n                margin-top: 0px;\n                margin-bottom: 0px;\n                padding: 0px;\n                content: '';\n            }\n        ";e[0]?this.styleElement=e[0]:(this.styleElement=d.a.createElement("style"),d.a.addClass(this.styleElement,this.styleElementClass),t.append(this.styleElement)),d.a.html(this.styleElement,r)},t.prototype.getOriginalContent=function(){return this.originalContent},t.prototype.getMaskElement=function(){return this.maskElement},t.prototype.getMaskHtml=function(){return d.a.queryElement(this.maskingOptions.Selector).innerHTML},t.prototype.removeHeightFromContent=function(){d.a.css(this.getMaskElement(),{"text-overflow":"ellipsis",overflow:"hidden",height:"auto","min-height":"unset"})},t.prototype.unMask=function(){var t=d.a.queryElement(this.maskingOptions.Selector);t&&(t.innerHTML=this.getOriginalContent())},t.prototype.findNextElement=function(t){return t.nextElementSibling},t.prototype.isExcludeElement=function(t){var e=this.getExcludedClasses();if(e&&Object(f.isArray)(e))for(var n=e.length,r=0;r<n;r++)if(d.a.hasClass(t,e[r]))return!0;return!1},t.prototype.isElementHasExcludes=function(t){for(var e=this.getExcludedClasses(),n=e.length,r=0;r<n;r++){var o=d.a.find("."+e[r],t);if(o&&0<o.length)return!0}return!1},t.prototype.getExcludedElements=function(n){var r=[];return Object(f.each)(this.getExcludedClasses(),function(t){var e=d.a.find("."+t,n);r=r.concat(e)}),r},t.prototype.calculateExcludesHeight=function(t){var e=this.getExcludedElements(t),n=0;return Object(f.each)(e,function(t){n+=n+d.a.height(t)}),n},t.prototype.getExcludedClasses=function(){var t=this.maskingOptions.ExcludeClasses?g(this.maskingOptions.ExcludeClasses):[];return t.push(this.styleElementClass),t},t}(),v=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.markClass="mark-text",t}return v(t,e),t.prototype.markExcluded=function(t){var e=this,n=this.getExcludedElements(t);Object(f.each)(})},t.prototype.splitElement=function(t){this.unMarkRootIfNotExcluded(t);for(var e=t,n=this.getTextNodes(e,[]),r=0,o=this.maskingOptions.AllowedCharactersCount,i=null,s=0,a=n;s<a.length;s++){var c=a[s],u=c.parentNode;this.markParentsToRootElement(c,t);var p=c.textContent||"";0===p.trim().length&&(p="");var l=p.length;if(!(r+l<o)){var f=this.getUncutParent(c,t);if(f){var h=document.createElement("SPAN");h.appendChild(document.createTextNode(" "+this.maskingOptions.Terminator)),f.insertAdjacentElement("afterend",h),this.lastTrimNode=h,i=this.lastTrimNode.parentNode,this.wrapNextTextNodes(this.lastTrimNode,t),this.markElement(this.lastTrimNode);break}var d=o-r,g=p.substr(0,d);c.textContent=g,c.textContent+=" "+this.maskingOptions.Terminator,this.lastTrimNode=c,i=u;var y=p.substr(d),v=document.createTextNode(y);u.insertBefore(v,c.nextSibling),this.wrapNextTextNodes(c,t);break}r+=l}return new m(e,i)},t.prototype.getLastTrimNode=function(){return this.lastTrimNode},t.prototype.getLastMarkElement=function(t){return this.lastTrimNode?this.lastTrimNode.parentNode:Array.from((t||document).querySelectorAll("."+this.markClass)).filter(function(t){return t.offsetParent}).pop()},t.prototype.wrapNextTextNodes=function(n,t){var e=Array.from(n.parentNode.childNodes),r=e.indexOf(n);e.splice(r+1).filter(function(t){return t.nodeType==Node.TEXT_NODE}).forEac}),n!=t&&this.wrapNextTextNodes(n.parentNode,t)},t.prototype.unMarkRootIfNotExcluded=function(e){var t=this.maskingOptions.ExcludeClasses.some(function(t){return d.a.hasClass(e,t)});return t||this.unMarkElement(e),t},t.prototype.getTextNodes=function(t,e){if(t.nodeType==Node.ELEMENT_NODE&&this.hasMark(t))return e;for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];t.offsetParent&&this.getTextNodes(r,e)}return t.nodeType==Node.TEXT_NODE&&e.push(t),e},t.prototype.addTerminator=function(t,e){t.innerText=e+this.maskingOptions.Terminator},t.prototype.getNotMarkedElements=function(t){return d.a.find(":not(."+this.markClass+")",t)},t.prototype.hasMark=function(t){return d.a.hasClass(t,this.markClass)},t.prototype.removeNotMarked=function(t){var e=this,n=this.getExcludedElements(t),r=t.children;n&&0===n.length?this.hasMark(t)||this.clearElement(t):t.style.margin="0px",r&&0<r.length?Object(f.each)(t.children,function(t){d.a.hasClass(t,e.markClass)?e.removeNotMarked(t):t.children&&0<t.children.length?e.removeNotMarked(t):e.clearElement(t)}):d.a.hasClass(t,this.markClass)||this.clearElement(t)},t.prototype.markParentsToRootElement=function(t,e){if(e.contains(t)&&t!=e)for(var n=t;n=n.parentNode,this.markElement(n),n!=e;);},t.prototype.markElemen},t.prototype.unMarkElemen},t.prototype.textContent=function(t){var n=this;return[].reduce.call(t.childNodes,function(t,e){return t+(n.isTextNodeType(e)?e.textContent.trim():"")},"")},t.prototype.isTextNodeType=function(t){if(3===t.nodeType)return!0;switch(t.nodeName){case"P":case"SPAN":return!0;default:return!1}},t.prototype.startElementHaveNeedLength=function(t,e){return!!(t==this.maskingOptions.AllowedCharactersCount||this.isAllowedLength(t)&&e)},t.prototype.isAllowedLengt},t.prototype.markChildren=function(t){var e=this;Object(f.each)(t,function(t){t.children&&0<t.children.length&&e.markChildren(t.children),e.markElement(t)})},t.prototype.getMarkElements=function(t){return d.a.find("."+this.markClass,t)},t.prototype.removeMarkClass=function(t){var e=this,n=this.getMarkElements(t);Object(f.each)(n,function(t){d.a.removeClass(t,e.markClass)})},t.prototype.clearElement=function(t){t.innerText="",t.textContent="",this.clearStyle(t)},t.prototype.clearStyl},t.prototype.removeAllText=function(t){for(var e=t.childNodes,n=0;n<e.length;n++){var r=e[n];r.nodeType==Node.TEXT_NODE?(r.parentNode.removeChild(r),n--):r.nodeType==Node.ELEMENT_NODE&&(this.clearStyle(r),this.removeAllText(r))}},t.prototype.getUncutParent=function(t,e){var n=["A"],r=t,o=null;if(r==e&&h.a.contains(n,r.tagName))return r;for(;r!=e;)h.a.contains(n,r.tagName)&&(o=r),r=r.parentNode;return o},t}(y),b=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),C=function(n){function t(t){var e=n.call(this,t)||this;return e.blurClass="blurry-text",e.blurContent(e.maskElement),e}return b(t,n),t.prototype.blurContent=function(t){this.markExcluded(t);var e=this.splitElement(t);this.blurNotMarked(e.updatedElement)},t.prototype.blurNotMarked=function(t){var e=this,n=this.getNotMarkedElements(t);Object(f.each)(})},t.prototype.blurElementOwnText=function(t){0<this.textContent(t).length&&this.setOwnText(t)},t.prototype.encryptContent=function(e){var n=this;if(0===d.a.children(e).length){var t=d.a.text(e);d.a.addClass(e,this.blurClass),d.a.text(e,this.encryptText(t))}else Object(f.each)(d.a.children(e})},t.prototype.setOwnText=function(t){var n=this,e=t.childNodes;Object(f.each)(e,function(t){if(3===t.nodeType&&0<t.textContent.trim().length){var e=n.encryptText(t.textContent);t.nodeValue=e,d.a.addClass(t.parentNode,n.blurClass)}})},t.prototype.encryptText=function(t){if(t)for(var e=0;e<t.length;e++)t=t.replaceAt(e,this.getNextLetter(t[e]));return t},t.prototype.getNextLetter=function(t){return t.replace(/([a-zA-Z])[^a-zA-Z]*$/,function(t){var e=t.charCodeAt(0);switch(e){case 90:return"A";case 122:return"a";default:return String.fromCharCode(++e)}})},t}(_),w=new(function(){function t(){}return t.prototype.getLastVisibleElement=function(t,e){if(this.hasChildrenElement(t)&&this.checkElement(t,e))for(var n=t.children.length-1;0<=n;n--){var r=t.children[n];if(this.checkElement(r,e))return this.getLastVisibleElement(r,e)}return t},t.prototype.checkElement=function(t,e){return!(!d.a.isVisible(t)||this.checkTextAfterElement(t)||e&&e.classesExcludeElement&&this.hasExcludeClasses(t,e.classesExcludeElement))},t.prototype.hasChildrenElemen},t.prototype.hasExcludeClasses=function(t,e){if(!e||e&&0===e.length)return!1;for(var n=e.length,r=0;r<n;r++)if(d.a.hasClass(t,e[r]))return!0;return!1},t.prototype.getPrevLastElement=function(t){var e=t.children.length;return 1===e?t:t.children[e-2]},t.prototype.checkTextAfterElement=function(t){var e=d.a.nextSibling(t);return!!e&&(t.parentNode==e.parentNode&&"#text"==d.a.getType(e))},t}()),S=n(123),A=n(28),I=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.trim=function(t){if(this.removeMarkClass(t),Object(A.t)(this.maskingOptions.AllowedCharactersCount)&&0==this.maskingOptions.AllowedCharactersCount)return this.removeAllText(t),void this.addTerminator(t,"");this.markExcluded(t);var e=this.splitElement(t);this.removeNotMarked(e.updatedElement),this.lastTrimElement=e.lastTrimElement},e.prototype.getLastTrimElement=function(){return this.lastTrimElement},e.prototype.unMask=function(){t.prototype.unMask.call(this),this.removeHeightFromContent()},e}(_),E=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.trim=function(t){this.removeMarkClass(t);var e=this.maskingOptions.ContainerHeight;this.element=t;var n,r=this.calculateExcludesHeight(t);this.markExcluded(t),d.a.css(t,{overflow:"hidden",whitespace:"no-wrap",height:e+r+"px"}),this.markElement(t),this.markVisibleElements(t,d.a.bottom(t)),this.lastTrimElement=this.getLastMarkElement(t)||Object(f.last)(this.getMarkElements(t))||t,this.wrapNextTextNodes(this.lastTrimElement,t),n=d.a.hasClass(this.lastTrimElement,"Mg2-fade")?this.lastTrimElement:this.trimByHeightNode(this.lastTrimElement,d.a.height(t)),this.removeNotMarked(t),this.addTerminator(n),this.removeHeightFromContent()},e.prototype.getLastTrimElement=function(){return this.lastTrimElement},e.prototype.markVisibleElements=function(t,e){var n=t.children,r=n.length;if(0<r)for(var o=0;o<r;o++)this.elementInView(n[o],e)&&!this.isExcludeElement(n[o])&&this.markElement(n[o]),this.markVisibleElements(n[o],e)},e.prototype.elementInView=function(t,e){var n=d.a.top(t),r=d.a.bottom(t);return n<=e&&0<=r},e.prototype.markElementWithChildre},e.prototype.trimByHeightNode=function(t,e){return t&&"IMG"===t.nodeName?(this.trimByHeightImgNode(t,e),t):this.getAccurateHeight(t,e)},e.prototype.getAccurateHeight=function(t,e){var n=this.maskingOptions.ContainerHeight-e,r=t.innerText||t.textContent;if(!r)return this.elementNotResizeByText(t,n),t;for(var o=r.split(" "),i=t.cloneNode(!0);d.a.bottom(t)>=n;){if(void 0===o.pop())break;t.innerText=o.join(" ")}return o||this.elementNotResizeByText(i,n),t},e.prototype.elementNotResizeByText=function(t,e){d.a.css(t,{height:e+"px"})},e.prototype.addTerminator=function(t){t&&"IMG"===t.nodeName?d.a.after(t,"<p>"+this.maskingOptions.Terminator+"</p"):t&&(t.innerText=t.innerText+this.maskingOptions.Terminator)},e.prototype.trimByHeightImgNode=function(t,e){d.a.css(t,{overflow:"hidden",whitespace:"no-wrap",height:this.maskingOptions.ContainerHeight-e+"px"})},e.prototype.unMask=function(){t.prototype.unMask.call(this),this.removeHeightFromContent()},e}(_),D=n(222),x=n(241),B=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),U=function(n){function t(t){var e=n.call(this,t)||this;return e.trimContent(e.maskElement)}return B(t,n),t.prototype.trimContent=function(t){this.element=t;var e=this.maskingOptions.TrimMethod;if(e)switch(e){case D.c.AllowedCharacters:this.trimMask=new O(this.maskingOptions);break;case D.c.ContainerHeight:this.trimMask=new P(this.maskingOptions)}else{var n=this.maskingOptions.AllowedCharactersCount;if(Object(A.t)(n)&&0<n)this.trimMask=new O(this.maskingOptions);else{var r=this.maskingOptions.ContainerHeight;Object(A.t)(r)&&0<r?this.trimMask=new P(this.maskingOptions):x.a.warn("Trim effect is not defined")}}return this.trimMask.trim(t),this.trimMask},t.prototype.unMas},t}(y),R=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),L=function(n){function t(t){var e=n.call(this,t)||this;return e.fadeClass="Mg2-fade",e.trimMask=new U(e.maskingOptions),d.a.hasClass(e.maskElement.lastElementChild||e.maskElement,e.fadeClass)||e.fadeContent(e.maskElement),e.trimMask}return R(t,n),t.prototype.fadeContent=function(t){var e='<div class="'+this.fadeClass+'"></div>';if(this.maskingOptions.TemplateType===S.m.Inline){var n=this.getLastChildContent(t);d.a.append(n,e)}else d.a.append(t,e)},t.prototype.getLastChildContent=function(e){try{var t=this.trimMask.getLastTrimNode();return!t&&this.trimMask.getLastTrimElement&&(t=this.trimMask.getLastTrimElement()),t.parentNode}catch(t){var n={classesExcludeElement:[this.fadeClass]};return w.getLastVisibleElement(e,n)}},t}(y),T=function(){function t(t){var e=this;try{switch(this.maskingOptions=new p(t),this.maskingOptions.Method){case D.d.Trim:this.html=new U(this.maskingOptions);break;case D.d.Blur:this.html=new C(this.maskingOptions);break;case D.d.FadeAndTrim:case D.d.Fade:this.html=new L(this.maskingOptions)}this.originalContent=this.html.originalContent,this.maskContent=this.html.getMaskHtml();var n=d.a.queryElement(".flittz");d.a.removeClass(n,"blurry-text"),d.a.removeClass(n,"trimmed-text"),this.html.removeHeightFromContent(),d.a.on(window,"resize",function(){e.html.removeHeightFromContent()})}catch(t){throw l.a.HIDE_CONTENT}}return t.prototype.unMask=function(){this.html.unMask()},t}();n.d(e,"MaskContentAction",function(){return V});var F,k=(F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.maskContent=function(t){t.TemplateType=this.actionTemplate.getType(),t.ExcludeClasses=["Mg2-connext"],this.maskHtml=new T(t),this.maskedTime=new Date},e.prototype.getOriginalContent=function(){return this.maskHtml.originalContent},e.prototype.unmaskConten},e.prototype.getMaskedTime=function(){return this.maskedTime},e}(u.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Qualifier",function(){return r});var r,o=n(10);(r||(r={})).getOperator=function(t){switch(t){case"==":case"=":case"Equal":case"Equals":return o.Operator.Equal;case"!=":case"Not Equal":case"Not Equals":return o.Operator.NotEqual;case">":case"More Than":return o.Operator.GreaterThan;case"<":case"Less Than":return o.Operator.LessThan;case">=":case"More Or Equal Than":case"More Than Or Equals To":case"More Than Or Equals To":return o.Operator.GreaterThanEqual;case"<=":case"Less Or Equal Than":case"Less Than Or Equals To":return o.Operator.LessThanEqual;case"In":return o.Operator.In;case"Not In":case"Out":return o.Operator.NotIn;case"Yes":return!0;case"No":return!1;case"Contains":return o.Operator.Contains;case"Does Not Contain":return o.Operator.DoesNotContain;case"Start With":return o.Operator.StartWith;case"End With":return o.Operator.EndWith;case"Intersect":return o.Operator.Intersect;case"Does Not Intersect":return o.Operator.DoesNotIntersect}}},function(t,e,n){"use strict";n.r(e),n.d(e,"FlittzStatusesMap",function(){return r});var r={FlittzLoggedIn:"Logged In",FlittzLoggedOut:"Logged Out"}},function(t,e,n){"use strict";n.r(e);var r,i=n(89),o=n(34),s=n(123),a=n(16),c=n(116),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseSelector="data-mg2-action",t}return u(t,e),t}(c.a),l=n(333),f=n(45);n.d(e,"FailActivation",function(){return g});var h,d=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(o){function t(t,e){var n=o.call(this,t)||this;n.subStepName="Fail",n.create();var r=a.a.find('[data-nxt-role="linkingErrorMessage"] span',n.element);return e=e?e.replace("Request Failed. Errors:","").trim():e,a.a.html(r,e),n}return d(t,o),t.prototype.process=function(){var e=this,t=(new p).find("backStep",this.element);this.show(),a.a.on(t,"click",function(t){t.preventDefault(),e.hide(),new i.ActivateForm(e.parentStep).process(),l.a.dispatch(f.a.ActivationLinkErrorStepClosed,{CloseEvent:s.c.MoveToActivate})})},t.prototype.close=function(t){this.hide(),t.ActivateStatus="error",l.a.dispatch(f.a.ActivationLinkErrorStepClosed,t)},t.prototype.addErrorMessage=function(t){var e=a.a.find('[data-nxt-role="linkingErrorMessage"] span',this.element),n=t.ErrorMessage;n=n?n.replace("Request Failed. Errors:","").trim():t,a.a.html(e,n),this.addLinkToInsertedButton(t,e)},t.prototype.addLinkToInsertedButton=function(t,e){var n=a.a.find('[data-nxt-template-substep="'+t.Substep+'"] [data-nxt-link="'+t.Link+'"]',this.parentStep.getStepElement());if(n.length){var r=a.a.attr(n[0],"href");if(r){var o=a.a.find('[data-nxt-link="'+t.Link+'"]',e[0]);a.a.attr(o[0],{href:r})}}},t}(o.ActivateSubStep)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(176),o=n(16),i=new(function(){function t(){}return t.prototype.updateUnderElement=function(t){document.documentElement.clientHeight<t.clientHeight?(o.a.addClass(document.body,"page-overflow"),o.a.addClass(t,"modal-overflow"),this.isNeedHorizontalScrollbar()&&this.setHorizontalScroll()):(o.a.removeClass(document.body,"page-overflow"),o.a.removeClass(t,"modal-overflow"))},t.prototype.saveOriginalRightPadding=function(){var t=window.getComputedStyle(document.body).getPropertyValue("padding-right")||0;this.originalBodyPadding=parseInt(t+"",10)},t.prototype.resetHorizontalScrollba},t.prototype.isNeedHorizontalScrollba},t.prototype.setHorizontalScroll=function(){document&&(document.body.style.paddingRight=this.originalBodyPadding+this.getScrollbarWidth()+"px")},t.prototype.getScrollbarWidth=function(){var t=document.createElement("div");o.a.addClass(t,r.a.SCROLLBAR_MEASURER),document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionFactory",function(){return v});var r,o=n(51),i=n(32),s=n(67),a=n(69),c=n(65),u=n(68),p=n(70),l=n(71),f=n(72),h=n(100),d=n(101),g=n(241),y=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(n){function t(t){var e=n.call(this)||this;return e.action=t,e}return y(t,n),t.prototype.createAction=function(){var t=this.action;switch(t.ActionType){case i.ActionTypes.Banner:return new c.Banner(t);case i.ActionTypes.Modal:return new s.Modal(t);case i.ActionTypes.Inline:return new u.Inline(t);case i.ActionTypes.Paywall:return new a.Paywall(t);case i.ActionTypes.SmallInfoBox:return new p.SmallInfoBox(t);case i.ActionTypes.JSCall:return new l.JavascriptCall(t);case i.ActionTypes.Newsletter:return new f.Newsletter(t);case i.ActionTypes.Messaging:return new h.Messaging(t);case i.ActionTypes.InsightsRecommendation:return new d.InsightsRecommendation(t)}g.a.error("ActionType does not exist",t)},t}(o.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"Banner",function(){return s});var r,o=n(12),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActionTriggerDispatcher",function(){return p});var r=n(52),o=n(91),i=n(92),s=n(73),a=n(93),c=n(94),u=n(241),p=new(function(){function t(){this.NAME="ActionTriggerDispatcher"}return t.prototype.registerActionTriggers=function(t){var e="registerActionTriggers";u.a.log(this.NAME,e,this.action),this.actionType=t,this.action=t.action;try{switch(this.action.When||(u.a.log(this.NAME,e,"Action has no When object. So we set default values"),this.action.When={Time:{Delay:0}}),u.a.log(this.NAME,e,"Action has When."+this.action.When.TypeName+" object."),this.action.When.TypeName){case r.ActionTriggerType.Time:return new o.TimedTrigger(this.actionType);case r.ActionTriggerType.Hover:return new i.HoveredTrigger(this.actionType);case r.ActionTriggerType.EOS:return new s.EosTrigger(this.actionType);case r.ActionTriggerType.PublicEvent:return new a.PublicEventTrigger(this.actionType);case r.ActionTriggerType.ScrollDepth:return new c.ScrollDepthTrigger(this.actionType);default:return u.a.warn("No action to register"),null}}catch(t){u.a.error(this.NAME,e,t)}},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"Modal",function(){return s});var r,o=n(12),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Inline",function(){return s});var r,o=n(12),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Paywall",function(){return f});var r,o=n(335),i=n(58),s=n(241),a=n(333),c=n(45),u=n(11),p=n(123),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(r){function t(t,e){var n=r.call(this,t)||this;return n.superExistTemplate=null,n}return l(t,r),t.prototype.existTemplate=function(){null===this.superExistTemplate&&(this.superExistTemplate=r.prototype.existTemplate.call(this));var t=!0;return this.actionTemplate.getType()===p.m.Inline?t=this.superExistTemplate:this.actionTemplate.getType()===p.m.Modal&&(t=this.superExistTemplate||!!this.action.What.ShowModalPaywallWithoutSelector),t},t.prototype.hideContentPaywall=function(){s.a.log("hideContentPaywall","Action type is paywall. So we hide a content."),this.maskContent(this.action.What)},t.prototype.executeAction=function(){r.prototype.executeAction.call(this),this.superExistTemplate&&this.hideContentPaywall(),a.a.dispatch(c.a.PaywallShown,this.action),o.a.setConnextPaywallFired(!0),u.ActionModule.setPossibilityPresentForUser(this.action.What.MakeReRunOnLogin)},t}(i.MaskContentAction)},function(t,e,n){"use strict";n.r(e),n.d(e,"SmallInfoBox",function(){return s});var r,o=n(12),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.Action)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"JavascriptCall",function(){return JavascriptCall});var _Connext_Core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(241),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(333),_Connext_Core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(45),_Action__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),__extends=(jxa=function(t,e){return(jxa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jxa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jxa,JavascriptCall=function(_super){function JavascriptCall(t,e){var n=_super.call(this,t)||this;return n.NAME="JavascriptCall",n}return __extends(JavascriptCall,_super),JavascriptCall.prototype.prepareToShow=function(t){return _Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("Action","prepareToShow","Action type is"+this.action.ActionType),Promise.resolve()},JavascriptCall.prototype.executeAction=function(){var fnName="executeAction";_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.dispatch(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.JsCallFired,this.action);try{if(void 0!==this.action.What.Javascript)try{eval(this.action.What.Javascript)}catch(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.warn(this.NAME,fnName,t)}}catch(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.error(this.NAME,fnName,"Custom JS Call",t)}},JavascriptCall.prototype.show=function(){},JavascriptCall}(_Action__WEBPACK_IMPORTED_MODULE_3__.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"Newsletter",function(){return m});var r,o=n(98),i=n(9),s=n(12),a=n(123),c=n(333),u=n(241),p=n(45),l=n(16),f=n(28),h=n(21),d=n(210),g=n(79),y=n(0),v=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(r){function t(t){var e=r.call(this,t)||this;return e.delayToReload=1e3,e.subscribePreference=g.a.getSubscribePreferenceInstance(e.action.What.Html),e.alertIfHasInvalidPrefs(),e}return v(t,r),t.prototype.alertIfHasInvalidPrefs=function(){var t=this.subscribePreference.getInvalidPreferences();t&&u.a.error("Invalid email preferences",{Preferences:t,ActionId:this.action.Id,ActionName:this.action.Name})},t.prototype.existTemplate=function(){var t=!0;return this.actionTemplate.getType()===a.m.Inline&&(t=r.prototype.existTemplate.call(this)),t},t.prototype.isUserAlreadySubscrib},t.prototype.getPreference},t.prototype.isPluginProcessActio},t.prototype.prepareToShow=function(t){return this.action.What.Html?this.isUserAlreadySubscribe()?Promise.reject():r.prototype.prepareToShow.call(this,t):Promise.reject()},t.prototype.executeAction=function(){var n=this;if(c.a.subscribe(p.a.NewsletterSignU}),c.a.subscribe(p.a.NewsletterSignUpFails,function(t){}),this.isPluginProcessAction()){var t=new d.a(this.action.What),e=h.a.getNewsletterTemplate(t,this.getPreferences());e&&(e.process(),this.actionTemplate.setElement(e.getTemplate().getElement()),this.prepareTemplateToShow(),this.actionTemplate.afterShow(),this.incrementCountShow())}else r.prototype.executeAction.call(this);this.setEmailValue()},t.prototype.isCurrentNewsletter=function(t){var };return!Object(y.difference)(e(t.EmailPreferences),e(this.getPreferences())).length},t.prototype.successNewsletterSignUp=function(t){g.a.mergeEmailPreferenceIdsToStorage(t),this.isSetStorageSignupSuccess()&&o.a.setNewsletterNW(!0),this.isNeedRerunConnext()&&setTimeout(function(){c.a.dispatch(a.h.ApplicationReload,a.l.SuccessNewsletterSignUp)},this.delayToReload)},t.prototype.setEmailValue=function(){var t=l.a.find("[data-mg2-input=Email], .connext-email-input",this.element);if(t&&0<t.length){var e=i.a.getEmail();!e&&i.a.isSubscribed()&&i.a.getSubscriptions()[0]&&(e=i.a.getSubscriptions()[0].Email),l.a.val(t,e)}},t.prototype.isNeedRerunConnext=function(){return!(!this.action.What||!Object(f.t)(this.action.What.IsConnextReRun))&&this.action.What.IsConnextReRun},t.prototype.isSetStorageSignupSuccess=function(){return!(!this.action.What||!Object(f.t)(this.action.What.IsSetStorageSignupSuccess))&&this.action.What.IsSetStorageSignupSuccess},t}(s.Action)},function(t,e,n){"use strict";n.r(e);var r,o=n(36),s=n(241),a=n(16),i=n(177),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(n){function t(t){var e=this;if(t)return(e=n.call(this,t)||this).Selector=t.Selector,e}return c(t,n),t}(i.a);n.d(e,"EosTrigger",function(){return f});var p,l=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(i){function t(t,e){var n=i.call(this,t)||this;n.hasActionTriggerLimit=!1,n.hasChangedVisibility=!0,n.eosTriggerHandler=null;var r="SetEosEvent",o="ActionTrigger";n.options=new u(n.getTriggerWhen()),s.a.log(o,r,"Set action start by EOS",arguments);try{n.eosTriggerHandler=function(){return n.eosTrigger()},n.eosTriggerHandler(),a.a.on(window,"resize",n.eosTriggerHandler),a.a.on(window,"scroll",n.eosTriggerHandler)}catch(t){s.a.error(o,r,t)}return n}return l(t,i),t.prototype.unRegister=function(){i.prototype.unRegister.call(this),a.a.off(window,"resize",this.eosTriggerHandler),a.a.off(window,"scroll",this.eosTriggerHandler)},t.prototype.eosTrigger=function(){var t=this;this.canTrigger()?this.timer||(this.checkVisible(this.options.Selector)?this.hasChangedVisibility&&this.startTimer(function(){clearTimeout(t.timer),delete t.timer,t.hasChangedVisibility=!1,t.trigger()}):this.hasChangedVisibility=!0):this.hasActionTriggerLimit||(this.canNotTriggerAction(),this.hasActionTriggerLimit=!0)},t.prototype.canTrigger=function(){return!(!this.canRepeatableOnArticle(this.options.RepeatableOnArticle)||!this.canRepeatableOnConversation(this.options.RepeatableOnConversation))},t.prototype.checkVisible=function(t){var e=a.a.queryElement(t);if(e){var n=e.getBoundingClientRect(),r=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(n.bottom<0||0<=n.top-r)}return s.a.log("Eos trigger",t," is not found"),!1},t}(o.ActionTriggerOnArticle)},function(t,e,n){"use strict";var o=n(344),r=n(6),s=n(241),i=n(334),a=n(339),c=n(333),u=n(45),p=n(29),},},h=new(function(){function i(){}return i.prototype.detect=function(){var e=this;return new Promise(function(o,t){return l(e,void 0,void 0,function(){var e,n,r;return f(this,function(t){switch(t.label){case 0:return t.trys.push([0,6,,7]),p.a.isChrome()?(o(this.detectChromeIncognito()),[3,5]):[3,1];case 1:if(!p.a.isFirefox()||!window.indexedDB)return[3,2];try{(e=window.indexedDB.open("test")).onsuccess=function(){o(!1)},e.onerror=function(){o(!0)}}catch(t){o(!0)}return[3,5];case 2:return p.a.isEdge()?(n=o,[4,this.detectChromeAfterVersion76()]):[3,4];case 3:return n.apply(void 0,[t.sent()]),[3,5];case 4:if(p.a.isIE())try{window.indexedDB?o(!1):o(!0)}catch(t){o(!0)}else if(p.a.isSafari()&&window.localStorage)if(13<=parseInt(p.a.getBrowserVersion()))this.detectSafariAfterVersion13().then(function(t){o(t)});else try{window.localStorage.setItem("test","1"),window.openDatabase(null,null,null,null),o(!1)}catch(t){o(!0)}else o(!1);t.label=5;case 5:return[3,7];case 6:return r=t.sent(),s.a.error(i.Name,"detectIncognito",r),o(!1),[3,7];case 7:return[2]}})})})},i.prototype.detectChromeIncognito=function(){var t=parseInt(p.a.getBrowserVersion());return 76<=t?this.detectChromeAfterVersion76():74<t?this.detectChromeAfterVersion74():this.detectChromeBeforeVersion74()},i.prototype.detectChromeAfterVersion74=function(){return new Promise(function(n,t){"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then(function(t){var e=t.quota;n(e<12e7)}):n(!1)})},i.prototype.detectChromeAfterVersion76=function(){return new Promise(function(i){"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then(function(t){var e,n,r,o=t.quota;o&&o<(e=navigator,n=e.userAgent&&0<e.userAgent.indexOf("Mac OS")&&-1==e.userAgent.indexOf("iPhone"),r=e.userAgent&&0<e.userAgent.indexOf("CrOS"),n||r?3221225472:1073741824)?i(!0):i(!1)}):i(!1)})},i.prototype.detectChromeBeforeVersion74=function(){return new Promise(function(t,e){var n=window.RequestFileSystem||window.webkitRequestFileSystem;n?n(window.TEMPORARY,1,function(){t(!1)}):t(!1)})},i.prototype.detectSafariAfterVersion13=function(){var n=function(t){return new RegExp([103,101,115,116,117,114,101].map(function(t){return String.fromCharCode(t)}).join("")).test(t)};return"safari"in window?new Promise(function(e){try{window.safari.pushNotification.requestPermission("https://example.com","private",{},function(){})}catch(t){n(t)?e(!1):e(!0)}}):new Promise(function(s,t){var a=String(Math.random());try{window.indexedDB.open(a,1).onupgradeneeded=function(t){var e,n,r=null===(e=t.target)||void 0===e?void 0:e.result;try{r.createObjectStore("test",{autoIncrement:!0}).put(new Blob),s(!1)}catch(t){var o=t;t instanceof Error&&(o=null!==(n=t.message)&&void 0!==n?n:t),"string"!=typeof o&&s(!1);var i=/BlobURLs are not yet supported/.test(o);s(i)}finally{r.close(),window.indexedDB.deleteDatabase(a)}}}catch(t){s(!1)}})},i.Name="IncognitoModeClass",i}()),d=n(345),g=new(function(){function t(){}return t.prototype.setDeviceId=function(){return this.getDeviceId().then(function(t){i.a.set(a.a.DeviceId,t)})},t.prototype.getDeviceId=function(){var r=this;try{return void 0!==window.Fingerprint?"function"==typeof window.Fingerprint.getDeviceID?window.Fingerprint.getDeviceID():(s.a.warn("Need update Fingerprint plugin"),"function"==typeof window.Fingerprint.getDeviceId?(s.a.warn("Use deviceId from old FP"),this.getDeviceIdFromVersionBottom()):Promise.resolve(this.generateGuid())):new Promise(function(t,e){var n=o.a.getGuid();t(n||r.generateGuid())})}catch(t){return s.a.error("Device","getDeviceId",t),Promise.resolve(this.generateGuid())}},t.prototype.getDeviceIdFromVersionBottom=function(){return new Promise(function(n,t){var r=setInterval(function(){var t=window.Fingerprint;if(t){var e=t.getDeviceId();e&&(clearInterval(r),n(e))}},400)})},t.prototype.runCheckDeviceId=function(){if(void 0!==window.Fingerprint){if(!window.Fingerprint.onChangedDeviceId)return void s.a.warn("Regenerate process is not working with this version of Fingerprint");if(i.a.get(a.a.IsChangedDeviceId))return;window.Fingerprint.onChangedDeviceId().then(function(t){c.a.dispatch(u.a.ChangedDeviceId,t),i.a.set(a.a.DeviceId,t.newId),i.a.set(a.a.IsChangedDeviceId,!0),i.a.set(a.a.OldNewDeviceId,t),r.a.sendNewDeviceInfoToServer(t)}).catc})}else{d.a.trackEvent("FpUndefined",{execStatus:"failed",errorDetail:"window.Fingerprint is undefined"})}},t.prototype.generateGuidSectio},t.prototype.isIncognitoBrowsing=function(){var e=o.a.getIncognitoMode();return e?new Promis}):h.detect().the})},t.prototype.generateGuid=function(){var t=this.generateGuidSection;return t()+t()+t()+t()+t()+t()+t()+t()},t.prototype.getDeviceType=function(){return p.a.getDeviceType()},t.prototype.getUserAgent=function(){return p.a},t.Name="Device Detect",t}()),y=function(t){t&&(this.IpAddress=t.ipAddress||t.IpAddress,this.ContinentCode=t.continentCode||t.ContinentCode,this.CountryCode=t.countryCode||t.CountryCode,this.State=t.stateProv||t.StateProv,this.City=t.city||t.City,this.Zip=t.zipCode||t.ZipCode,this.Lat=t.latitude||t.Latitude,this.Long=t.longitude||t.Longitude,this.IsEuMember=t.isEuMember||t.IsEuMember)},v=n(123);n.d(e,"a",function(){return m});var m=new(function(){function t(){this.serviceUrl=window.location.protocol+"//api-mg2.db-ip.com/v2/p14891b727f063924f0d86d8a8e5063678abd2ac/self",this.locationData=null}return t.prototype.checkFPMethodAccess=function(){return void 0!==window.Fingerprint&&"function"==typeof window.Fingerprint.getGlobalLocation},t.prototype.fingerprintFlow=function(){var e=this;return window.Fingerprint.getGlobalLocation().then(function(t){return s.a.log("Used Fingerprint methods to detect global locations"),e.locationData=new y(t),Promise.resolve(e.locationData)}).catc})},t.prototype.setInformatio},t.prototype.connextFlow=function(){if(!o.a.isExistInformationInStorage())return this.update();var t=this.getLocationInfo();return this.locationData=t,Promise.resolve(t)},t.prototype.update=function(){var r=this;return this.checkFPMethodAccess()?Promise.resolve():o.a.getInformationFromService(this.serviceUrl,{cache:!1}).then(function(t){var e=new y(t);return o.a.setInformationToStorage(e),r.locationData=e,Promise.resolve(e)}).catch(function(t){s.a.error("GlobalLocation",r.serviceUrl,t);var e=r.getLocationInfo();if(e&&e.Zip&&e.Zip!=v.n)return Promise.resolve(e);var n=new y({});return o.a.setInformationToStorage(n),Promise.resolve(n)})},t.prototype.getZipCode=function(){var t=this.getLocationInfo();return t&&t.Zip?t.Zip:"unknown"},t.prototype.getIP=function(){var t=this.getLocationInfo();return t?t.IpAddress:null},t.prototype.getIsEuMember=function(){var t=this.getLocationInfo();return t?t.IsEuMember:""},t.prototype.getCountryCod},t.prototype.getLocationInf},t.prototype.setDeviceId=function(){return g.setDeviceId()},t.prototype.getDeviceType=function(){return g.getDeviceType()},t.prototype.getUserAgent=function(){return g.getUserAgent()},t.prototype.runCheckDeviceId=function(){g.runCheckDeviceId()},t.prototype.isIncognitoBrowsing=function(){return g.isIncognitoBrowsing()},t.prototype.redirectToPage=function(t){window.location.replace(t)},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(336),o=n(216),i=n(356),s=n(30),a=n(278),c=n(77),u=n(127),p=n(22),l=new(function(){function t(){this.cookies=r.a.getInstance(),this.sessionStorage=new o.a,this.customLocalStorageOptions=new u.a({expandKey:!1,isSecureValue:!1})}return t.prototype.getUserDataByEncryptedEmail=function(t){var e="user/encrypted?encodedEncryptedEmail="+encodeURIComponent(t);return i.a.get(e).then(function(t){return p.a.decrypt(t)})},t.prototype.setEncryptedEmai},t.prototype.getEncryptedEmail=function(){return this.sessionStorage.get(c.a.EncryptedEmail)},t.prototype.getNewsletterSource=function(){return this.cookies.get(c.a.NewsletterSource)},t.prototype.getNewsletterReader=function(){return s.a.get(c.a.NewsletterReader,this.customLocalStorageOptions)},t.prototype.setNewsletterSource=function(t,e){a.a.set(c.a.NewsletterSource,t,e)},t.prototype.setNewsletterReader=function(t){s.a.set(c.a.NewsletterReader,t,this.customLocalStorageOptions)},t.prototype.setNewsLetterNW=function(t){this.cookies.set(c.a.NewsletterNW,t,{expandKey:!1})},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"LinkAccountServiceClass",function(){return d}),n.d(e,"LinkAccountService",function(){return g});var i=n(107),s=n(0),r=n(9),o=n(132),a=n(348),c=n(28),u=n(333),p=n(45),l=n(47),f=n(114),h=n(39),d=function(){function t(){this.apiOptions={location:a.a.Activation}}return t.prototype.isCanAutoLink=function(){var n=this,r=!1,o=Object(c.i)();return Object(s.each)(i,function(t){var e=new t(o);e.canLink()&&(n.activateModel=e,r=!0)}),r},t.prototype.getAutoLinkModel=function(){return this.activateModel},t.prototype.linkAccount=function(e){var n=this;return e.CustomRegId=r.a.getCustomerRegistrationId(),e.Mode=r.a.getUserMode(),u.a.dispatch(p.a.ActivationLinkStepSubmitted,e.SearchOption),o.a.activateBySearchOption(e.SearchOption,e,this.apiOptions).the},function(t){return Promise.reject(t)})},t.prototype.checkAccessAfterLinking=function(e,t){if(Object(l.isString)(e))try{e=JSON.parse(e)}catch(t){return Promise.reject(e)}return e.errorCode||!e.Success?Promise.reject(e.Message):this.checkDigitalAccess(e).then(function(){return Promise.resolve()},function(t){return Promise.reject(t)})},t.prototype.checkDigitalAccess=function(t){var e=new f.DigitalAccess;return o.a.checkDigitalAccess(r.a.getCustomerRegistrationId(),r.a.getUserMode(),this.apiOptions).then(function(t){return e.check(t)}).catch(function(t){return h.a.updateCurrentUser().then(function(){return Promise.reject(t)})})},t.prototype.syncUser=function(){return h.a.syncUser(this.apiOptions).catch(function(){return Promise.resolve()})},t}(),g=new d},function(t,e,n){"use strict";n.r(e),n.d(e,"Conversation",function(){return y});var o=n(11),r=n(113),i=n(309),s=n(134),a=n(123),c=n(6),u=n(241),p=n(338),l=n(333),f=n(45),h=n(122),d=n(199),g=n(0),y=function(){function t(t,e){this.NAME="Conversation",this.conversation=t?new i.a(t):null,this.properties=this.conversation?this.conversation.getProperties():new s.a(null),this.campaign=e,this.criteriaProvider=r.CriteriaProvider.getInstance()}return t.prototype.start=function(t){return this.conversation?(u.a.log(this.NAME,"start","Conversation To Process",this.conversation),this.processConversation()):(this.processFakeConversation(t.Id),u.a.warn(p.a.NO_CONVO_FOUND.message),l.a.dispatch(f.a.ConversationNotFound,t),Promise.reject(p.a.NO_CONVO_FOUND))},t.prototype.expired=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!0);try{var n=t?t.conversation:null,r={Conversation:this.conversation,NextConversation:n,Reason:this.properties.getExpiredTypeName(),ArticleCountReset:this.properties.getExpiredType().ResetConversationViews},o=this.properties.getExpiredType();this.resetViewExpirationConversation(o),e&&c.a.setRequestForSaveView(n,this.conversation),l.a.dispatch(f.a.ConversationExpired,r)}catch(t){u.a.error(this.NAME,"expired",t)}},t.prototype.processConversation=function(){var n=this,r="processConversation";try{return u.a.log(this.NAME,r,"Starting process conversation...",this.conversation),this.campaign.setStoredCurrentConversation(this.conversation),c.a.incrementConversationCount(this.conversation),this.updatePropertyViews(c.a.getCurrentConversationViewCount()),this.getValidPaywalls().then(function(t){var e=c.a.getViewPaywallInformation(t);return e&&(n.properties.setPaywallProperties(e),n.campaign.saveCurrentConversation(n.conversation)),u.a.log(n.NAME,r,"Conversation To start",n.conversation),l.a.dispatch(f.a.ConversationDetermined,n.conversation),n.getValidActions().then(function(t){return 0<t.length?(u.a.log(n.NAME,r,"ACTIONS DETERMINGED ---\x3e ",t),o.ActionModule.processActions(t)):(u.a.warn("No 'Actions' to execute."),l.a.dispatch(f.a.ActionNotFound,n.conversation.Id)),Promise.resolve()})})}catch(t){return u.a.error(this.NAME,r,t),Promise.reject("")}},t.prototype.getPaywallInformation=function(){return this.properties.getPaywallInfo()},t.prototype.getProperties=function(){return this.properties},t.prototype.setPrevExpirationSettings=function(t){if(t){var e=t.properties.getExpiredType();this.prevExpirationSettings=Object(g.extend)(e,{StartDate:t.properties.getStartDate()})}},t.prototype.processFakeConversation=function(t){this.conversation=new i.a({Id:a.f.Id,Name:"fake conversation",CampaignId:-1,MeterLevelId:t}),this.campaign.setStoredCurrentConversation(this.conversation),c.a.incrementConversationCount(this.conversation)},t.prototype.setDefaultConversationProperties=function(){try{var t=this.getConversationStartDate();this.properties.setStartDate(t),this.updateDateExpiration(),this.campaign.saveCurrentConversation(this.conversation)}catch(t){u.a.error(this.NAME,"setDefaultConversationProperties",t)}},t.prototype.updateDateExpiration=function(){var t=this.properties.getStartDate();if(t){var e=this.getDateExpiration(t);this.properties.setDateExpiration(e)}},t.prototype.getConversationStartDate=function(){var t=h.a.get(),e=c.a.getConversationStartDate(),n=this.campaign.getCurrentConversations();return this.prevExpirationSettings&&"Yes"===this.prevExpirationSettings.ShareStartDate?this.prevExpirationSettings.StartDate:!e||n&&!Object(g.isEmpty)(n)?t:e},t.prototype.getDateExpiration=function(t){var e=this.getNearestExpirationTime();if(e){this.properties.setIsExpired(!1);var n=new Date(t);return n.setMilliseconds(n.getMilliseconds()+e),n}return u.a.log(this.NAME,"setDateExpiration","No expiration time set for this conversation."),null},t.prototype.getValidPaywalls=function(){var e=this,n="getValidPaywalls";try{return this.criteriaProvider.getConversationPaywallsForView(this.conversation).then(function(t){return e.processValidActions(Object(g.sortBy)(t,"Order"))}).catch(function(t){return u.a.error(e.NAME,n,t),Promise.resolve([])})}catch(t){return u.a.error(this.NAME,n,t),Promise.reject(t)}},t.prototype.getValidActions=function(){var e=this,n="getValidActions";try{return u.a.log(this.NAME,n,"Begin determine conversation actions",this.conversation.Actions),this.criteriaProvider.calculateConversationActions(this.conversation).then(function(t){return e.processValidActions(t)}).catc})}catch(t){return u.a.error(this.NAME,n,t),Promise.reject(t)}},t.prototype.processValidActions=function(t){var n=this,r="processValidActions",o=[];return Object(g.each)(t,function(t,e){u.a.log(n.NAME,r,"===== ACTION PASSED =====",t),o.push(t)}),u.a.log(this.NAME,r,"End determine conversation actions",o),Promise.resolve(o)},t.prototype.updatePropertyViews=function(t){var e="updatePropertyViews";u.a.log(this.NAME,e);try{Object(g.isNumber)(t)?t:c.a.getCurrentConversationViewCount(),this.properties.setViews(t),this.campaign.saveCurrentConversation(this.conversation)}catch(t){u.a.error(this.NAME,e,t)}},t.prototype.getName=function(){return this.conversation.Name},t.prototype.getNearestExpirationTime=function(){if(this.conversation.ExpirationSettings){var t=Object(g.find)(Object(g.sortBy)(this.conversation.ExpirationSettings,"Value"});return t?t.Value:null}return null},t.prototype.resetViewExpirationConversation=function(t){var e=t.ResetConversationViews;e===a.k.Current&&c.a.resetConversationView(this.conversation),e===a.k.All?c.a.resetMeterLevel():o.ActionModule.resetConversationRepeatableActions(this.conversation)},t}()},function(t,e,n){"use strict";var o=n(0),i=n(16),s=n(241),a=n(9),r=function(){function t(t){this.preferences=[],this.invalidPreferences=[];var e=this.getPreferencesFromHtml(t);this.mapPreferences(e)}return t.prototype.mapPreferences=function(t){var n=this;Object(o.each)(t,function(t){var e=parseInt(t.id);n.isValidId(e)?n.preferences.push({Id:e,Name:t.name,Description:t.description,SubscriberOnly:t.SubscriberOnly}):n.invalidPreferences.push(t.id)})},t.prototype.isValidI},t.prototype.getNewsletterPreferences=function(){return this.preferences},t.prototype.getInvalidPreference},t.prototype.getPreferencesFromHtml=function(t){try{var e=document.createDocumentFragment();e.appendChild(i.a.create(t));var n=e.querySelector("[data-tmpl-action-name='Newsletter']");if(!n)return null;var r=i.a.text(n);return r?JSON.parse(decodeURIComponent(r)):null}catch(t){return s.a.error("getPreferencesFromHtml method has error",t),null}},t.prototype.getEmailPreferencesIds=function(){return Array.isArray(this.preferences)?this.preferences.map(function(t){return t.Id}):null},t.prototype.getUserSubscribedEmailPreferenceIds=function(){var t=[],e=v.getCookiesEmailPreferences(),n=e?Object(o.map)(e.split(","),function(t){return parseInt(t)}):[];if(a.a.isLogin()){var r=a.a.getUserData().EmailPreferences||[];t=Object(o.union)(n,Object(o.map)(r,function(t){return t.Id}))}else t=n;return t},t.prototype.issetPreferencesInTemplate=function(t){return!(!t||t&&0==t.length)},t.prototype.isUserAlreadySubscribe=function(){var t=this.getEmailPreferencesIds();if(this.issetPreferencesInTemplate(t)){var e=this.getUserSubscribedEmailPreferenceIds();if(e&&0==e.length)return!1;if(t&&e)return 0==Object(o.difference)(t,e).length}return!1},t}(),c=n(336),u=n(348),p=n(356),l=n(77),f=n(127),h=new(function(){function t(){this.cookies=c.a.getInstance(),this.customLocalStorageOptions=new f.a({expandKey:!1,isSecureValue:!1})}return t.prototype.getSubscribeNewsletters=function(t){return p.a.post("user/emailPreference/subscribe",t,{location:u.a.Newsletter})},t.prototype.getEmailPreferences=function(t){var e="user/emailPreference?email="+encodeURIComponent(t);return p.a.get(e)},t.prototype.setEmailPreferenc},t.prototype.getEmailPreference=function(){return this.cookies.get(l.a.EmailPreference)},t}()),d=n(28),g=n(333),y=n(45);n.d(e,"a",function(){return v});var v=new(function(){function t(){}return t.prototype.getSubscribePreferenceInstance=function(t){return new r(t)},t.prototype.getEmailPreferences=function(t){return h.getEmailPreferences(t).then(function(t){var n=[];return Object(o.each)(t,function(t){var e=t.Preference;n.push({Id:e.EmailPreferenceId,Name:e.Title,Description:e.Description,SubscriberOnly:e.SubscriberOnly})}),Promise.resolve(n)})},t.prototype.mergeEmailPreferenceIdsToStorage=function(t){var e=this.getCookiesEmailPreferences(),n=e?e.split(",").ma}):[],r=Object(o.map)(t,function(t){return t.Id});this.setEmailPreferencesIds(Object(o.uniq)(Object(o.union)(n,r)))},t.prototype.setEmailPreferences=function(t){this.setEmailPreferencesIds(Object(o.map)(t,function(t){return t.Id}))},t.prototype.setEmailPreferencesIds=function(t){h.setEmailPreference(t.join(","),{useRootDomain:!0,expandKey:!1,expires:Object(d.b)(45)})},t.prototype.getCookiesEmailPreferences=function(){return h.getEmailPreference()},t.prototype.getSubscribeNewsletters=function(t){var e={Email:t.Email,EmailPreferences:t.EmailPreferences.map(Object(o.property)("Id"))};return h.getSubscribeNewsletters(e).then(function(){return g.a.dispatch(y.a.NewsletterSignUp,t),Promise.resolve()}).catch(function(t){return g.a.dispatch(y.a.NewsletterSignUpFails,{PostModel:e,Error:t}),Promise.reject(t)})},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"SignInService",function(){return u});var o=n(241),r=n(333),i=n(45),s=n(90),a=n(39),c=n(9),u=function(){function t(){var e=this;this.NAME="SignInService",this.buttonDefaultSettings={height:"61",longtitle:!0,onsuccess:function(t){return e.onSuccess(t)},onfailure:function(t){return e.onFailure(t)}}}return t.getInstance=function(){return null===this._self&&(this._self=new t),this._self},t.prototype.auth2Init=function(){var n=this,r="auth2Init";return o.a.log(this.NAME,r,"start"),this.firstInit||(this.firstInit=new Promise(function(e){n.gapi=window.gapi,n.gapi&&n.gapi.load("auth2",function(){n.auth2=n.gapi.auth2.init().then(function(){o.a.log(n.NAME,r,"finish success"),n.gapi.auth2.getAuthInstance().isSignedIn.listen(n.onSignedInChanged.bind(n)),e()}).catch(function(t){o.a.log(n.NAME,r,"finish failed",t),e()})})})),this.firstInit},t.prototype.render=function(t,e){var n=Object.assign({},this.buttonDefaultSettings,e);this.gapi.signin2.render(t,n)},t.prototype.onSuccess=function(t){o.a.log(this.NAME,"onSuccess",t),this.authPromise.then(function(){r.a.dispatch(i.a.GoogleSignInSuccess)})},t.prototype.onFailure=function(t){var e=this;o.a.log(this.NAME,"onFailure",t),this.authPromise.then(function(){e.isSignedIn()?r.a.dispatch(i.a.GoogleSignInSuccess):r.a.dispatch(i.a.GoogleSignInFailure)})},t.prototype.onSignedInChanged=function(t){o.a.log(this.NAME,"onSignedInChanged",t),t?this.authPromise=this.authenticate():a.a.setDefaultUserData()},t.prototype.isSignedIn=function(){return this.gapi.auth2.getAuthInstance().isSignedIn.get()},t.prototype.getUserToken=function(){return this.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token},t.prototype.loginIfNeed=function(){return this.isSignedIn()?Promise.resolve():this.gapi.auth2.getAuthInstance().signIn()},t.prototype.logoutIfNeed=function(){return this.isSignedIn()?this.gapi.auth2.getAuthInstance().signOut():Promise.resolve()},t.prototype.authenticate=function(){var e=this,n="authenticate",t={IdToken:this.getUserToken()};return s.UserRepository.authenticateByToken(t).then(function(t){return o.a.log(e.NAME,n,t),a.a.onLoginSuccess(t)}).catch(function(t){return o.a.error(e.NAME,n,t),Promise.reject()})},t.prototype.waitAuthenticate=function(){return this.authPromise||(c.a.notLoggedIn()?this.authPromise=this.authenticate():this.authPromise=Promise.resolve()),this.authPromise},t._self=null,t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"G2iExpression",function(){return c});var r,o=n(4),i=n(99),s=n(28),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getDataForCheck=function(t,e){if(!t)return null},e.prototype.isPassedCriteria=function(r){var o=this;return i.a.getUserDl().then(function(t){var e=o.getDataForCheck(t,r.EvaluatedObject);if(Object(s.t)(e)){var n=o.evaluateOperator(e,r.Value,r.Qualifier);return Promise.resolve(n)}return Promise.resolve(!1)}).catch(function(t){return Promise.resolve(!1)})},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationAuthenticateSubStep",function(){return c});var r,o=n(83),i=n(31),s=n(348),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formOptions=new i.a({api:{location:s.a.Activation},inputAttrName:"data-nxt-input"}),t}return a(t,e),t.prototype.clos},t}(o.ActivationSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationSubStep",function(){return c});var r,o=n(334),i=n(339),s=n(85),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activation=o.a.get(i.a.ActivationInstance),t}return a(t,e),t}(s.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationStep",function(){return h});var r,o=n(334),i=n(339),s=n(333),a=n(45),c=n(86),u=n(201),p=n(200),l=n(0),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activation=o.a.get(i.a.ActivationInstance),t.commonSubSteps=[new p.SubscribeLink(t),new u.UpgradeLink(t)],t}return f(t,e),t.prototype.process=function(){Object(l.each)(this.commonSubSteps,function(t){t.process()})},t.prototype.close=function(t){s.a.dispatch(a.a.ActivationLinkStepClosed,t),e.prototype.closeActiveSubsteps.call(this,t)},t}(c.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(16),o=n(215),i=function(){function t(t){this.parentStep=t}return t.prototype.create=function(){this.selector="["+this.parentStep.getSubStepAttr()+'="'+this.subStepName+'"]',this.element=r.a.queryElement(this.selector,this.parentStep.getStepElement()),this.processLink()},t.prototype.successSubStepStepAction=function(){},t.prototype.setSubStepDat},t.prototype.getWidth=function(){return this.element&&r.a.attr(this.element,"data-sub-step-width")||this.width},t.prototype.setActiveStatus=function(t){this.isActive=t},t.prototype.getActiveStatus=function(){return this.isActive},t.prototype.getSelector=function(){return this.selector},t.prototype.setNextSubStep=function(t){this.nextSubStep=t},t.prototype.processSubSte},t.prototype.getNextSubStep=function(){return this.nextSubStep},t.prototype.findAllIn=function(t){return r.a.find(t,this.element)},t.prototype.show=function(){r.a.show(this.element)},t.prototype.hide=function(){r.a.hide(this.element)},t.prototype.process=function(){},t.prototype.isActiveInTemplate=function(){return!!this.element&&"none"!=r.a.attr(this.element,"data-step-display")},t.prototype.getName=function(){return this.subStepName},t.prototype.processLink=function(){var e=this,t=(new o.a).find(this.linkAttrName,this.parentStep.getStepElement());r.a.on(t,"click",function(t){t.preventDefault(),e.parentStep.hideAllSubsteps(),e.process(),e.parentStep.setActiveSubsteps([e])})},t.prototype.setData=function(t){this.processData=t},t.prototype.clos},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(16),o=n(0),i=function(}return t.prototype.getTemplateStepsGroup=function(){return this.templateStepsGroup},t.prototype.create=function(){this.selector="["+this.stepAttrName+'="'+this.stepName+'"]',this.element=r.a.queryElement(this.selector,this.templateStepsGroup.getTemplate().getElement())},t.prototype.getStepName=function(){return this.stepName},t.prototype.setProcessSubSteps=function(t){var n=this;Object(o.each)(})},t.prototype.getStepSelector=function(){return this.selector},t.prototype.getStepWidth=function(){return this.maxActiveSubStepWidth?this.maxActiveSubStepWidth:r.a.attr(this.element,"data-step-width")||this.stepWidth},t.prototype.getStepElement=function(){return this.element},t.prototype.process=function(){},t.prototype.setWidth=function(t){this.stepWidth=t},t.prototype.findElemen},t.prototype.afterShowEvents=function(){},t.prototype.sho},t.prototype.hide=function(){r.a.hide(this.element)},t.prototype.setActiveSubsteps=function(t){this.activeSubSteps=t;var e=[];Object(o.each)(this.activeSubStep}),this.maxActiveSubStepWidth=Object(o.max)(e),this.templateStepsGroup.updateActiveStep(this)},t.prototype.getActiveSubstep},t.prototype.hideActiveSubsteps=function(){Object(o.each)(this.activeSubSteps,function(t){t.hide()}),this.activeSubSteps=[]},t.prototype.closeActiveSubsteps=function(e){Object(o.each)(this.activeSubSteps,function(t){t.close(e)}),this.activeSubSteps=[]},t.prototype.getSubStepAttr=function(){return this.substepAttrName},t.prototype.calculateActiveSubStep=function(){var e=this.getActiveSubsteps();Object(o.each)(this.substeps,function(t){t.isActiveInTemplate()&&(e.push(t),t.process())}),this.setActiveSubsteps(e)},t.prototype.processActiveSubsteps=function(){Object(o.each)(this.activeSubSteps,function(t){t.process()})},t.prototype.hideAllSubsteps=function(){Object(o.each)(this.substeps,function(t){t.hide()})},t.prototype.close=function(t){this.closeActiveSubsteps(t)},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"CriteriaTypes",function(){return r});var r={AdBlock:"AdBlock",ConversationView:"ConversationView",EzPay:"EzPay",FlittzUserStatus:"FlittzUserStatus",Geo:"Geo",IncognitoMode:"IncognitoMode",Javascript:"Javascript",MetaKeyword:"MetaKeyword",MeterView:"MeterView",Promise:"Promise",DeviceType:"DeviceType",UrlParam:"UrlParam",UrlMask:"UrlMask",UserState:"UserState",IsNewVisitor:"IsNewVisitor"}},function(t,e,n){"use strict";n.r(e),n.d(e,"AfterExpireActions",function(){return r});var r={GoToSelf:"Self",Recalculate:"Recalc"}},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateForm",function(){return w});var r,o=n(25),i=n(108),s=n(222),a=n(333),c=n(45),u=n(353),p=n(16),l=n(349),f=n(355),h=n(28),d=n(34),g=n(0),y=n(76),v=n(123),m=n(9),_=n(62),b=n(131),C=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="ActivateForm",e.startInputs=[{field:"LastName",rules:[{name:s.f.Required,params:{}}]},{field:"SearchOption",rules:[{name:s.f.Required,params:{}}]}],e.create(),e}return C(t,n),t.prototype.close=function(){this.hide()},t.prototype.getInputsRules=function(t){switch(t){case o.SearchOptions.ActivateByAccountNumber:return[{field:"AccountNumber",rules:[{name:s.f.Required,params:{}}]}];case o.SearchOptions.ActivateByZipCodeAndHouseNumber:return[{field:"ZipCode",rules:[{name:s.f.Required,params:{}}]},{field:"HouseNumber",rules:[{name:s.f.Required,params:{}}]}];case o.SearchOptions.ActivateByZipCodeAndPhoneNumber:return[{field:"ZipCode",rules:[{name:s.f.Required,params:{}}]},{field:"PhoneNumber",rules:[{name:s.f.PhonePart,params:{}}]}];case o.SearchOptions.ActivateByConfirmationNumber:return[{field:"ConfirmationNumber",rules:[{name:s.f.Required,params:{}}]}]}},t.prototype.process=function(){var e=this;a.a.dispatch(c.a.ActivationLinkStepShown,null),y.LinkAccountService.isCanAutoLink()?y.LinkAccountService.syncUser().then(function(){var t=y.LinkAccountService.getAutoLinkModel();e.typeActivation=t.SearchOption,y.LinkAccountService.linkAccount(t).then(function(){e.successLinking()}).catch(function(t){e.errorLinking(t)})}):this.processForm()},t.prototype.processForm=function(){var n=this;this.show();var r=new u.a(this.getSelector(),this.startInputs),t=r.findByDataAttr("SearchOption");if(this.autocompleteIfCan(r),y.LinkAccountService.isCanAutoLink()){var e=new Event("change");t[0].dispatchEvent(e)}p.a.on(t,"change",function(t){n.typeActivation=p.a.val(t.currentTarget),n.activePartForm&&p.a.hide(n.activePartForm),n.activePartForm=p.a.find("["+n.parentStep.getSubStepAttr()+'="'+n.typeActivation+'"]',n.element),p.a.show(n.activePartForm),r.setRules(Object(g.union)(n.startInputs,n.getInputsRules(n.typeActivation))),r.setInputs()});var o=(new l.a).find("ActivateAccount",this.element);p.a.on(o,"click",function(t){t.preventDefault();var e=new f.a(o);r.validate()&&(e.on(),y.LinkAccountService.linkAccount(r.getInputsData()).then(function(){n.successLinking()}).catch(function(t){n.errorLinking(t)}).alway}))})},t.prototype.autocompleteIfCan=function(t){var e=Object(h.i)();if(!Object(g.isEmpty)(e)){if(y.LinkAccountService.isCanAutoLink()){var n=y.LinkAccountService.getAutoLinkModel();e.SearchOption=n?n.SearchOption:null}t.autocomplete(e)}},t.prototype.successLinking=function(){var t=new i.SuccessActivation(this.parentStep);this.parentStep.setActiveSubsteps([t]),this.processSubStep(t),a.a.dispatch(c.a.ActivationFormClosed,new b.ActivateCloseEventModel({CloseEvent:v.c.MoveToSuccess,ActivateStatus:"success"})),m.a.expireUserData(),a.a.dispatch(c.a.ActivationLinkSuccessStepShown,this.typeActivation)},t.prototype.errorLinking=function(t){var e=new _.FailActivation(this.parentStep,t?t.ErrorMessage:"");this.parentStep.setActiveSubsteps([e]),this.processSubStep(e),a.a.dispatch(c.a.ActivationFormClosed,new b.ActivateCloseEventModel({CloseEvent:v.c.MoveToFail,ActivateStatus:"error"})),a.a.dispatch(c.a.ActivationLinkErrorStepShown,this.typeActivation)},t}(d.ActivateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"UserRepository",function(){return o});var r=n(356),o=new(function(){function t(){}return t.prototype.authenticateByToken=function(t,e){return r.a.post("google/user",t,e)},t.prototype.createOrUpdate=function(t,e){return r.a.post("google/user/update",t,e)},t.prototype.addSubscription=function(t,e){return r.a.post("google/subscription",t,e)},t}())},function(t,e,n){"use strict";n.r(e);var r,o=n(223),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(o.a),a=n(56),c=n(241);n.d(e,"TimedTrigger",function(){return l});var u,p=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(i){function t(t,e){var n=i.call(this,t)||this,r="setTimedAction",o="ActionEvent";n.actionData=t.action,n.options=new s(n.getTriggerWhen()),c.a.log(o,r,"Set action start by time",arguments);try{n.canTrigger()?(n.startTimer(function(){return n.trigger()}),c.a.log(o,r,"Action will be execute after: ",n.options.Delay+"ms")):n.canNotTriggerAction()}catch(t){c.a.error(o,r,t)}return n}return p(t,i),t}(a.BaseTimedTrigger)},function(t,e,n){"use strict";n.r(e);var r,s=n(241),a=n(16),o=n(36),i=n(177),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(n){function t(t){var e=this;if(t)return(e=n.call(this,t)||this).Selector=t.Selector,e.IncludeChildren=t.IncludeChildren,e}return c(t,n),t}(i.a);n.d(e,"HoveredTrigger",function(){return f});var p,l=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(i){function t(t,e){var n=i.call(this,t)||this;n.hasActionTriggerLimit=!1,n.hoverTriggerHandler=null;var r="setHoverEvent",o="ActionEvent";n.options=new u(n.getTriggerWhen()),s.a.log(o,r,"Set action start by hover",arguments);try{n.hoverTriggerHandler=function(t){return n.hoverTrigger(t)},n.element=a.a.queryElement(n.options.Selector),a.a.on(n.element,"mouseover",n.hoverTriggerHandler)}catch(t){s.a.error(o,r,t)}return n}return l(t,i),t.prototype.unRegister=function(){i.prototype.unRegister.call(this),a.a.off(this.element,"mouseover",this.hoverTriggerHandler)},t.prototype.canTrigger=function(){return!(!this.canRepeatableOnArticle(this.options.RepeatableOnArticle)||!this.canRepeatableOnConversation(this.options.RepeatableOnConversation))},t.prototype.hoverTrigger=function(t){var e=this;if(this.canTrigger()){if(!this.options.IncludeChildren&&t.target!==this.element)return t.stopPropagation(),!1;this.timer||this.startTimer(function(){clearTimeout(e.timer),delete e.timer,e.trigger()})}else this.hasActionTriggerLimit||(this.canNotTriggerAction(),this.hasActionTriggerLimit=!0)},t}(o.ActionTriggerOnArticle)},function(t,e,n){"use strict";n.r(e);var r,o=n(223),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),}(o.a),a=n(241),c=n(16),u=n(56);n.d(e,"PublicEventTrigger",function(){return f});var p,l=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(i){function t(t,e){var n=i.call(this,t)||this,r="PublicEventTrigger",o="ActionEvent";n.actionData=t.action,n.options=new s(n.getTriggerWhen()),a.a.log(o,r,"Set action start by public event",arguments);try{n.findedElement=c.a.queryElement(n.options.Selector)||document,c.a.on(n.findedElement,n.options.EventName,function(t){return n.handlerAction(t)})}catch(t){a.a.error(o,r,t)}return n}return l(t,i),t.prototype.handlerAction=function(t){var e=this;return t.stopPropagation(),this.canTrigger()?this.startTimer(function(){e.trigger()}):this.canNotTriggerAction(),!1},t.prototype.unRegister=function(){i.prototype.unRegister.call(this),c.a.off(this.findedElement,this.options.EventName,this.handlerAction)},t}(u.BaseTimedTrigger)},function(t,e,n){"use strict";n.r(e);var r,s=n(241),a=n(16),o=n(28),i=n(36),c=n(177),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(n){function t(t){var e=n.call(this,t)||this;return e.Selector=t.Selector,e.Depth=t.Depth||0,e}return u(t,n),t}(c.a),l=n(335);n.d(e,"ScrollDepthTrigger",function(){return d});var f,h=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(i){function t(t,e){var n=i.call(this,t)||this;n.hasActionTriggerLimit=!1,n.scrollTriggerHandler=null;var r="setScrollEvent",o="ActionEvent";n.options=new p(n.getTriggerWhen()),s.a.log(o,r,"Set action start by scroll depth",arguments);try{if(n.element=a.a.queryElement(n.options.Selector),!n.element)return s.a.error(o,r,n.options.Selector,"not found"),n;n.scrollTriggerHandler=function(t){return n.scrollTrigger(t)},a.a.on(window,"resize",n.scrollTriggerHandler),a.a.on(window,"scroll",n.scrollTriggerHandler),n.scrollTriggerHandler()}catch(t){s.a.error(o,r,t)}return n}return h(t,i),t.prototype.unRegister=function(){i.prototype.unRegister.call(this),a.a.off(window,"resize",this.scrollTriggerHandler),a.a.off(window,"scroll",this.scrollTriggerHandler)},t.prototype.canRepeatableOnArticle=function(t){var e=l.a.getRepeatablesInArticle(),n=Object(o.k)();return!e||e.url!==n||e.count<t},t.prototype.canTrigger=function(){return!(!this.canRepeatableOnArticle(this.options.RepeatableOnArticle)||!this.canRepeatableOnConversation(this.options.RepeatableOnConversation))},t.prototype.scrollTrigger=function(t){var e=this;this.canTrigger()?(this.percentageSeen()>=this.options.Depth||!a.a.hasScrollbar())&&(this.timer||this.startTime})):this.hasActionTriggerLimit||(this.canNotTriggerAction(),this.hasActionTriggerLimit=!0)},t.prototype.percentageSeen=function(){var t=a.a.getWindowHeight(),e=window.pageYOffset,n=a.a.offset(this.element),r=n&&n.top||0,o=a.a.height(this.element);if(e+t<r)return 0;if(r+o<e)return 100;var i=e+t-r;return Math.round(i/o*100)},t}(i.ActionTriggerOnArticle)},function(t,e,n){"use strict";n.r(e);var r=n(339),o=n(334),i=n(333),s=n(45),a=n(241),c=n(18),u=n(50),p=n(6),l=n(19),f=n(123),h=function(t){t&&(this.Method=t.Method,this.Level=t.Level,this.Rule=t.Rule,this.Id=t.Id)},d=n(0);n.d(e,"Meter",function(){return g});var g=function(){function t(t){this.NAME="Meter",this.criteria=u.Criteria.getInstance(),this.options={timeout:l.a.get(r.a.DynamicMeterPromiseTimeout),sortField:"Priority"},this.configuration=t}return t.prototype.getConfigurationRules=function(){return this.configuration.DynamicMeter.Rules},t.prototype.process=function(){var e=this;return this.calculateMeter().then(function(t){return o.a.set(r.a.Meter,t),i.a.dispatch(s.a.MeterLevelSet,t),p.a.setActiveMeterView(t.Id),c.Campaign.process(t,e.configuration.Campaign)})},t.prototype.calculateRule=function(t){return t.passed=!0,t.calculateExpressions=this.criteria.getCalculateExpressions(t.Segments,this.options),a.a.log(this.NAME,"calculateRule",t),this.criteria.executeCalculateExpressionsForCollection(t)},t.prototype.calculateRules=function(r){var o=this;return new Promise(function(e,n){if(0!=r.length){var t=Object(d.first)(r);o.calculateRule(t).then(function(t){t.passed?e(t):(r.shift(),o.calculateRules(r).then(e).catch(n))}).catch(function(){n(null)})}else n()})},t.prototype.calculateMeter=function(){var e=this,t=this.getConfigurationRules();return this.calculateRules(t).then(function(t){return e.getDynamicMeter(t)}).catch(function(t){return e.getDefaultMeter()})},t.prototype.getDefaultMeter=function(){var t=this.configuration.Settings.DefaultMeterLevelId;return a.a.log("Failed to determined Meter Level... using default",f.i[t]),new h({Method:"Default",Level:f.i[t],Rule:null,Id:t})},t.prototype.getDynamicMeter=function(t){var e=t.MeterLevelId;return a.a.log("Determined meter level",f.i[e]),new h({Method:"Dynamic",Level:f.i[e],Rule:t,Id:e})},t}()},function(t,e,n){"use strict";var r=n(28),c=function(){function t(t,e){this.reWriteSecurity=null,this.type=t.type,this.key=t.key,this.value=t.value,this.options=t.options,this.secureState=e,this.reWriteSecurity=t.reWriteSecurity}return t.prototype.rewriteSecurityStorage=function(t){try{if(this.secureState&&this.secureState.currentState!=this.secureState.prevState&&!Object(r.t)(this.reWriteSecurity)){this.reWriteSecurity=!1;var e=t.get(this.key);if(null==e||null==e||""==e)return;this.options.isSecureValue=this.secureState.currentState,t.set(this.key,e,this.options),this.reWriteSecurity=!0}}catch(t){this.reWriteSecurity=!1}},t.prototype.setRewriteStatus=function(){this.reWriteSecurity=!0},t.prototype.getSecurity=function(t){return"set"==t?this.secureState.currentState:this.secureState?this.reWriteSecurity?this.secureState.currentState:this.secureState.prevState:this.options.isSecureValue},t}(),o=n(125),i=n(333),s=n(123);n.d(e,"a",function(){return a});var a=new(function(){function t(){var n=this;this.components=[],this.storage=new o.a,i.a.subscribe(s.h.StartInit,function(t){if(n.secureStorageState=n.getSecuredMode(),n.secureStorageState){var e=n.storage.get("DebugSecure")||[];n.components=e.ma})}},!0),i.a.subscribe(s.h.StartDebugSecureMode,function(t){var e=t.EventData;n.secureStorageState&&n.secureStorageState.currentState!=e?(n.storage.delete("DebugSecure"),n.storage.delete("nxtSecure")):n.setSecuredMode(e)},!0)}return t.prototype.addToDebug=function(t,e,n,r,o,i){if(this.secureStorageState){if(o.isSecureValue){var s=this.findComponent(e);if(s)"get"==n&&s.rewriteSecurityStorage(i),"set"==n&&s.setRewriteStatus();else{var a=new c({type:t,key:e,method:n,value:r,options:o},this.secureStorageState);this.components.push(a),"get"==n&&a.rewriteSecurityStorage(i),"set"==n&&a.setRewriteStatus()}}this.storage.set("DebugSecure",this.components)}},t.prototype.findComponen},t.prototype.isSecurityMod},t.prototype.setSecuredMode=function(t){var e=this.getSecuredMode();this.storage.set("nxtSecure",{currentState:t,prevState:!e||e.currentState})},t.prototype.getSecuredMode=function(){return this.storage.get("nxtSecure")},t}())},function(t,e,n){"use strict";var r,o,i,s,a=n(51),c=n(16),u=n(123),p=n(49),l=n(55),f=n(0),h=n(28),d=function(t){this.backdrop=t.backdrop||!0,this.keyboard=t.keyboard||!0,this.focus=t.focus||!0,this.show=t.show||!1,this.ignoreBackdropClick=t.ignoreBackdropClick||!1,this.class=t.class||"",this.notClosable=t.notClosable||!1,this.height=t.height||null,this.maxHeight=t.maxHeight||null,this.width=t.width||null,this.transparentBackdrop=Object(h.t)(t.transparentBackdrop)?t.transparentBackdrop:.7},g=n(176),y=n(122),v=function(){function t(t,e,n){void 0===n&&(n=!0),this.isShown=!1,this.options=new d(e),this.elementInMemory=Object(f.isString)(t)?c.a.create(t):t,this.id=y.a.get().valueOf(),n&&(this.containerElement=this.createContainer(),this.element=c.a.append(this.containerElement,this.elementInMemory))}return t.prototype.show=function(){this.isShown||(this.isShown=!0,c.a.attr(this.element,{"aria-hidden":!1}),this.layout(),c.a.updateStyleAttr(this.element,{display:"block"}),c.a.addClass(this.element,"in"),this.setFocus())},t.prototype.setZindex=function(t){this.zIndex=t,c.a.css(this.element,{zIndex:t})},t.prototype.setFocu},t.prototype.close=function(t,e){if(!this.options.notClosable){switch(t){case u.c.EscButton:return void this.onEsc(e,t);case u.c.ClickOutside:return void this.onClickOutside(e,t)}this.element&&c.a.updateStyleAttr(this.element,{display:""}),l.a.hide(this,t)}},t.prototype.onClickOutside=function(t,e){this.isCanCloseOnBackdropClick()&&!this.isClickOnCurrentModal(t)&&l.a.hide(this,e)},t.prototype.isClickOnCurrentModa},t.prototype.isCanCloseOnBackdropClick=function(){return!(this.options.ignoreBackdropClick||"static"===this.options.backdrop)},t.prototype.onEsc=function(t,e){if(this.isShown){var n=t.which||t.keyCode;this.options.keyboard&&27===n&&l.a.hide(this,e)}},t.prototype.hide=function(t){this.isShown&&(this.dispatchCloseModalEvent(t),c.a.removeClass(this.element,g.a.IN),this.isShown=!1,this.removeContainer(),this.elementInMemory=null)},t.prototype.layout=function(){var t=this.options.height?"height":"max-height",e=this.options.height||this.options.maxHeight,n={};this.options.width?(c.a.css(this.element,{width:this.options.width}),c.a.css(this.element,{"margin-left":this.getMarginLeft()})):(c.a.css(this.element,{width:""}),c.a.css(this.element,{"margin-left":""}));var r=c.a.find(".modal-body",this.element);e?(n[t]=e,c.a.css(r,{overflow:"auto"})):(c.a.css(r,{overflow:""}),n[t]=""),c.a.css(r,n)},t.prototype.getMarginLeft=function(){return/%/gi.test(this.options.width)?-parseInt(this.options.width)/2+"%":-c.a.width(this.element)/2+"px"},t.prototype.dispatchCloseModalEvent=function(t){var e=new CustomEvent("modal:hidden",{detail:{closeEvent:t}});this.element.dispatchEvent(e)},t.prototype.createContainer=function(){var t=document.createElement("div");return t.className="modal-scrollable",t.id=y.a.get().valueOf()+"",document.body.appendChild(t)},t.prototype.removeContainer=function(){this.containerElement&&c.a.remove(this.containerElement)},t}(),m=n(63),_=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(r){function t(t){var e=r.call(this,t)||this;return e.setType(u.m.Modal),e.modalOptions={backdrop:e.options.NotClosable?"static":null,keyboard:!e.options.NotClosable,notClosable:e.options.NotClosable,transparentBackdrop:e.options.TransparentBackdrop},e}return _(t,r),t.prototype.show=function(){this.modal=new v(this.getElement(),this.modalOptions),this.setElement(this.modal.element),this.setModalStyle(),l.a.show(this.modal),c.a.removeClass(this.getElement(),"hide")},t.prototype.afterShow=function(){var e=this,t=this.getElement();if(this.options.NotClosable){var n=c.a.find(".closebtn",t)[0];n&&c.a.attr(n,{"data-dismiss":"notclosablepaywall"})}r.prototype.afterShow.call(this),c.a.on(t,"modal:hidden}),this.setModalStyle(),this.resizeHandler=function(){setTimeou},100)},c.a.on(window,"resize",this.resizeHandler)},t.prototype.setModalStyle=function(){var t=this.getWidth(),e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;+e<+t?e-=40:e=t,c.a.updateStyleAttr(this.getElement(),{width:e+"px"})},t.prototype.hide=function(t){c.a.off(window,"resize",this.resizeHandler),this.modal||(this.modal=new v(this.getElement(),this.modalOptions,!1)),l.a.hide(this.modal,t)},t}(p.a),C=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(n){function t(t){var e=n.call(this,t)||this;return e.setType(u.m.Banner),e}return C(t,n),t.prototype.show=function(){var t=c.a.append(document.body,this.getElement());this.setElement(t);var e=this.options.Location||"bottom";c.a.removeClass(t,"bottom"),c.a.removeClass(t,"hide"),c.a.addClass(t,e)},t}(p.a),S=n(241),A=n(276),I=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O="before",E="after",P="withinBottom",D=function(n){function t(t){var e=n.call(this,t)||this;return e.setType(u.m.Inline),e}return I(t,n),t.prototype.show=function(){var t=this.options.Selector,e=this.options.Position||E;this.options.Position||S.a.warn("InlineTemplate: show empty contentPosition");var n=c.a.queryElement(t);this.contentOriginaHeight=c.a.height(n),n?this.appendToDOM(this.getElement(),n,e):S.a.error(t+"is not found"),c.a.removeClass(this.getElement(),"hide")},t.prototype.appendToDOM=function(t,e,n){if(A.a.isElement(e))switch(n){case O:c.a.before(e,t);break;case E:c.a.after(e,t);break;case P:this.inContent(e,t)}},t.prototype.inContent=function(t,e){var n=+this.options.InlineParagraph;if(0!==n){var r=c.a.find(this.options.Selector+" > p",document);if(!r||r&&0==r.length)c.a.after(t,e);else if(r&&r.length<n&&0<r.length)c.a.before(t,e);else if(r&&r.length>=n&&0<r.length){var o=r.length-n;c.a.before(r[o],e)}else c.a.after(t,e)}else c.a.inAsFirstChild(t,e)},t.prototype.incrementSelectorHeight=function(){var t=c.a.height(this.getElement()),e=c.a.queryElement(this.options.Selector);c.a.css(e,{height:this.contentOriginaHeight+t+"px"})},t}(p.a),x=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),B=function(n){function t(t){var e=n.call(this,t)||this;return e.setType(u.m.InfoBox),e}return x(t,n),t.prototype.show=function(){var t=this.appendToDOM(this.getElement(),"body");if(this.setElement(t),this.options.HorizontalOffset&&this.options.VerticalOffset){c.a.removeClass(t,"bottom"),c.a.removeClass(t,"hide");var e=this.options.HorizontalOffset,n=100-this.options.VerticalOffset,r={left:e+"%",top:n+"%",transform:"translate(-"+e+"%, -"+n+"%)"};c.a.css(t,r)}},t.prototype.appendToDO},t}(p.a);n.d(e,"a",function(){return L});var U,R=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),L=function(t){function e(){return t.call(this)||this}return R(e,t),e.prototype.createTemplate=function(t){if(!t.Html)return null;var e;switch(t.DisplayType||this.checkDisplayType(t.Html)){case u.m.Modal:e=new b(t);break;case u.m.Banner:e=new w(t);break;case u.m.Inline:e=new D(t);break;case u.m.InfoBox:e=new B(t)}return e},e.prototype.checkDisplayType=function(t){var e=c.a.create(t).dataset.displayType;return e?e.toLowerCase():null},e}(a.a)},function(t,e,n){"use strict";var r=n(75),o=n(241),i=n(122),s=n(333),a=n(45),c=n(28),u={Source:"g2i_source",EncryptedUserEmail:"g2i_eui",NewsletterName:"g2i_campaign"},p=function(){function t(t,e){t&&(this.source=t[u.Source]||null,this.newsLetterName=t[u.NewsletterName]||null,this.encryptedEmail=t[u.EncryptedUserEmail]||null)}return t.prototype.getNewsletterSource=function(){return this.newsLetterName||null},t}(),l=n(79),f=function(){function t(){this.emailPreferenceIds=[];var t=Object(c.i)();this.newsletterUrlData=new p(t),this.type="newsletter"}return t.prototype.isCameFromNewsletter=function(){return null!=this.newsletterUrlData&&null!=this.newsletterUrlData.source&&this.newsletterUrlData.source.toLowerCase()===this.type},t.prototype.isHaveEncryptedEmai},t.prototype.processParams=function(){return this.isCameFromNewsletter()?(this.setNewsletterSource(),this.removeUrlParams(),this.setNewsletterReader(),this.isHaveEncryptedEmail()?this.setEmailPreferences():(this.fireNewsletterArrival(),Promise.resolve())):Promise.resolve()},t.prototype.setEmailPreferences=function(){var e=this;return r.a.setEncryptedEmail(this.newsletterUrlData.encryptedEmail),this.getUserInfoByEncryptedEmail().then(function(t){return t?(e.email=t.User?t.User.Email:null,e.email?l.a.getEmailPreferences(e.email).then(function(t){return l.a.setEmailPreferences(t),e.fireNewsletterArrival(t),Promise.resolve()}):Promise.resolve()):Promise.resolve()}).catch(function(t){return o.a.error("setEmailPreferences",t),Promise.resolve()})},t.prototype.getUserInfoByEncryptedEmai},t.prototype.setNewsletterSource=function(){var t={};t[u.EncryptedUserEmail]=this.newsletterUrlData.encryptedEmail||null,t[u.NewsletterName]=this.newsletterUrlData.newsLetterName||null,r.a.setNewsletterSource(t,{useRootDomain:!0,expandKey:!1})},t.prototype.removeUrlParams=function(){Object(c.z)([u.EncryptedUserEmail,u.NewsletterName,u.Source])},t.prototype.setNewsletterReade},t.prototype.fireNewsletterArrival=function(t){var e={Source:this.newsletterUrlData.source};e.Email=this.email,e.EmailPreferences=t,e.EncryptedEmail=this.newsletterUrlData.encryptedEmail,s.a.dispatch(a.a.NewsletterArrival,e)},t.prototype.setNewsletterNW=function(t){r.a.setNewsLetterNW(t)},t}(),h=n(16),d=n(125),g=n(336),y=n(2),v=new(function(){function t(){this.localStorage=new d.a,this.cookiesStorage=g.a.getInstance()}return t.prototype.setEngagementRate=function(t){this.localStorage.set(y.f.EngagementRate,t)},t.prototype.getEngagementRate=function(){return this.localStorage.get(y.f.EngagementRate)},t.prototype.setDebugPanelOpenStat},t.prototype.getDebugPanelOpenStat},t.prototype.getCookiesPrivacy=function(){return this.cookiesStorage.get(y.b.CookiesPrivacy,{useRootDomain:!1,expandKey:!1})},t.prototype.setCookiesPrivacy=function(t){this.cookiesStorage.set(y.b.CookiesPrivacy,t,{useRootDomain:!1,expandKey:!1,expires:Object(c.b)(120)})},t.prototype.removeCookiesPrivac},t}()),m=n(21);n.d(e,"a",function(){return _});var _=new(function(){function t(){}return t.prototype.processNotLegacyParams=function(){return this.newsletterClient=new f,this.newsletterClient.processParams()},t.prototype.getNewsletterSource=function(){return r.a.getNewsletterSource()},t.prototype.getEncryptedEmail=function(){return r.a.getEncryptedEmail()},t.prototype.registerNewsletterWidgetListeners=function(){return h.a.on(document,a.a.NewsletterUpdateResolved,function(t){var e=t.detail.alreadySignedUpPreferences.ma}),n={Email:t.detail.email,EmailPreferences:e||""};s.a.dispatch(a.a.NewsletterSignUp,n)}),Promise.resolve()},t.prototype.setNewsletterNW=function(t){r.a.setNewsLetterNW(t)},t.prototype.setEngagementRate=function(t){v.setEngagementRate(t)},t.prototype.getEngagementRate=function(){return v.getEngagementRate()},t.prototype.isCheckCookiesPrivac},t.prototype.setCookiesPrivacy=function(t){v.setCookiesPrivacy(t)},t.prototype.showPrivacyTemplate=function(){var t=m.a.getCookiesPrivacyTemplate();t&&t.process()},t.prototype.setDebugPanelOpenState=function(t){v.setDebugPanelOpenState(t)},t.prototype.getDebugPanelOpenState=function(){return v.getDebugPanelOpenState()},t}())},function(t,e,n){"use strict";var o=n(241),c=n(16),r=n(122),u=new(function(){function t(){this.SEC_ARRAY=[60,60,24,7,365/7/12,12],this.EN_US=["second","minute","hour","day","week","month","year"]}return t.prototype.formatDiff=function(t,e){for(var n=t<0?1:0,r=t=Math.abs(t),o=0;t>=this.SEC_ARRAY[o]&&o<this.SEC_ARRAY.length;o++)t/=this.SEC_ARRAY[o];return(0===(o*=2)?9:1)<(t=Math.floor(t))&&(o+=1),e.call(this,t,o,r)[n].replace("%s",t.toString())},t.prototype.format=function(t,e,n){try{var r=this.diffSec(t,n&&n.relativeDate);return this.formatDiff(r,this.getLocale)}catch(t){return console.log(t),""}},t.prototype.getLocale=function(t,e){if(0===e)return["just now","right now"];var n=this.EN_US[Math.floor(e/2)];return 1<t&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},t.prototype.toDat},t.prototype.diffSec=function(t,e){return(+(e?this.toDate(e):r.a.get())-+this.toDate(t))/1e3},t}()),p=n(28),i=function(}return a.prototype.getTemplateRecommendation},a.prototype.getHtml=function(t){var e=this.getTemplateRecommendations(),n=Math.min(e.length,a.maxShowCount,t.length);if(0===n)return o.a.warn(a.NAME,"containerSelector or template is wrong"),null;var r=c.a.queryElement(a.recommendationsContainer,this.actionElement);return c.a.empty(r),c.a.append(r,this.getParsedRecommendationsHtml(e,t,n)),this.actionElement.outerHTML},a.prototype.getParsedRecommendationsHtml=function(t,e,n){for(var r="<ol>",o=0;o<a.maxShowCount;o++){var i=t[o];if(o<n){var s=i.outerHTML;r+=c.a.parseVariables(s,{G2iRecommendationTitle:e[o].title,G2iRecommendationDescription:e[o].lead_text,G2iRecommendationURL:e[o].url,G2iRecommendationImage:e[o].lead_image_url,G2iRecommendationPublishDate:u.format(Object(p.l)(e[o].publish_date))})}else i&&i.parentNode.removeChild(i)}return r+"</ol>"},a.NAME="RecommendationAction",a.recommendationItem=(a.recommendationsContainer=".g2i-recommendations div")+" ol li",a.maxShowCount=5,a}(),s=n(334),a=n(339);n.d(e,"a",function(){return l});var l=new(function(){function r(){}return r.prototype.getRecommendations=function(){var n=this;return this.isLibraryAvailable()?window.g2i_dl.getRecommendations().then(function(t){if(t&&t.recommendations&&t.recommendations.length){var e=n.excludeIncompleteData(t.recommendations);if(e.length)return Promise.resolve(e)}return o.a.warn(r.CLASS_NAME," no recommendations to show"),Promise.reject()}).catch(function(t){return o.a.warn(r.CLASS_NAME,"executeAction",t),Promise.reject()}):(o.a.warn(r.CLASS_NAME,"MG2Insights is not available"),Promise.reject())},r.prototype.excludeIncompleteData=function(t){var r=["url","title","lead_text"],o=["nan","null","undefined"];return t.filter(function(e){var n=!0;return Object.keys(e).forEach(function(t){-1!==r.indexOf(t)&&(e[t]&&-1===o.indexOf(e[t])||(n=!1))}),n})},r.prototype.getUserDl=function(){return this.isLibraryAvailable()?window.g2i_dl.getUserData():(o.a.warn(r.CLASS_NAME,"MG2Insights is not available"),Promise.reject())},r.prototype.defineUser=function(){var n=this;return new Promise(function(e,t){n.getUserDl().then(function(t){s.a.set(a.a.G2IUserData,t),e(t)}).catch(function(){}),setTimeout(function(){e(null)},2e3)})},r.prototype.getRecommendationActionHtm},r.prototype.isLibraryAvailabl},r.CLASS_NAME="G2InsightModule",r}())},function(t,e,n){"use strict";n.r(e),n.d(e,"Messaging",function(){return s});var r,o=n(12),a=n(16),c=n(348),u=n(241),p=n(335),l=n(9),f=n(0),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(s){function t(t){return s.call(this,t)||this}return i(t,s),t.prototype.executeAction=function(){if(!l.a.notLoggedIn()){s.prototype.executeAction.call(this);var t=this.getActionTemplate(),n=a.a.find('[data-mg2-container="messages"]',t.getElement()),e=a.a.find('[data-mg2-messaging="default"]',n),r=a.a.text(a.a.find('[data-tmpl-action-name="Location code"]',t.getElement())[0]),o=l.a.getCustomerRegistrationId(),i=this.getSubscriptionsIds(l.a.getSubscriptions());a.a.empty(n),this.getUserMessages(r,o,i).then(function(t){Object(f.each)(t,function(t){var e=a.a.create(a.a.html(n));a.a.html(a.a.find("span.user-message__message-text",e),t),a.a.append(n[0],e)}),a.a.remove(e)})}},t.prototype.getUserMessages=function(o,i,s){return new Promise(function(n){var r=p.a.getMessagingData();if(r&&r[o])n(r[o]);else{var t={location:c.a.Messaging},e={locationCode:o,registrationId:i};s&&s.length&&(e.subscriptionsIds=s),p.a.getUserMessages(e,t).then(function(t){var e=r||{};e[o]=t,p.a.setMessagingData(e),n(t)}).catch(function(t){u.a.error("getUserMessages",t),n([])})}})},t.prototype.getSubscriptionsIds=function(t){return t&&0!=t.length?Object(f.compact)(Object(f.pluck)(t,"SubscriptionId")):[]},t}(o.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"InsightsRecommendation",function(){return u});var r,o=n(12),i=n(99),s=n(241),a=n(16),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return c(r,t),r.prototype.prepareToShow=function(e){var n=this;return s.a.log("Action","prepareToShow","Action type is"+this.action.ActionType),this.action.What&&!this.action.What.Html?(s.a.log("Action","setActionTemplate","===== ACTION NOT PASSED(No HTML) =====",this.action),Promise.reject()):(this.setActionTemplate(),this.existTemplate()?i.a.getRecommendations().then(function(t){return n.action.What.Html=i.a.getRecommendationActionHtml(n.action.What.Html,t),n.action.What.Html=a.a.parseVariables(n.action.What.Html.trim(),e),n.setActionTemplate(),Promise.resolve()}).catch(function(t){return s.a.warn(r.NAME,t),Promise.reject()}):Promise.reject())},r.NAME="InsightsRecommendation",r}(o.Action)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationAuthenticateStep",function(){return u});var r,o=n(333),i=n(45),s=n(84),a=n(103),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(n){function t(t){var e=n.call(this,t)||this;return e.stepName="Authenticate",e.stepWidth=420,e.create(),e.setProcessSubSteps(a),e}return c(t,n),t.prototype.proces},t.prototype.processStep=function(t){this.templateStepsGroup.processStep(t)},t.prototype.close=function(t){o.a.dispatch(i.a.ActivationLoginStepClosed,t),n.prototype.close.call(this,t)},t}(s.ActivationStep)},function(t,e,n){"use strict";n.r(e);var r=n(167);n.d(e,"ActivationForgotPasswordSubStep",function(){return r.ActivationForgotPasswordSubStep});var o=n(104);n.d(e,"ActivationLoginSubStep",function(){return o.ActivationLoginSubStep});var i=n(168);n.d(e,"ActivationRegistrationSubStep",function(){return i.ActivationRegistrationSubStep})},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationLoginSubStep",function(){return d});var r,o=n(333),i=n(45),s=n(123),a=n(82),c=n(21),u=n(39),p=n(17),l=n(9),f=n(11),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(c.a.getLoginSubStepInformation()),e.create(),e}return h(t,n),t.prototype.process=function(){var t=this;if(u.a.useMg2LoginTemplate())return this.form||(this.form=c.a.getLoginForm(this.getSelector(),null,this.formOptions)),this.show(),o.a.dispatch(i.a.ActivationLoginStepShown,null),this.form.submit().then(function(){t.successLogin()});this.activation.passControlToAuthSystem(),p.a.startActivationFlow(),u.a.showLoginForm()},t.prototype.autologin=function(t){var e=this;return c.a.getLoginForm(this.getSelector(),null,this.formOptions).autoSubmit(t).then(function(){e.successLogin()})},t.prototype.successLogin=function(){if(f.ActionModule.deletePossibilityPresentForUser(),o.a.dispatch(i.a.ActivationLoginStepClosed,{CloseEvent:s.c.MoveToActivate}),l.a.isSubscribed())o.a.dispatch(s.h.ApplicationReload,s.l.ActivationSuccess);else{p.a.setLoginEndFlowStatus(!1);var t=l.a.getSubscriptions();t&&t.length?this.activation.processExpiredSubscriptionStep():this.activation.processActivateStep()}},t}(a.ActivationAuthenticateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateStep",function(){return p});var r,o=n(84),i=n(106),s=n(89),a=n(62),c=n(114),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(r){function t(t,e){void 0===e&&(e=!1);var n=r.call(this,t)||this;return n.stepName="Activate",n.stepWidth=672,n.create(),n.setProcessSubSteps(i),n.useErrorAsStartSubstep=e,n}return u(t,r),t.prototype.process=function(){r.prototype.process.call(this),this.show(),this.hideAllSubsteps(),this.setActiveSubsteps([new s.ActivateForm(this)]),this.processActiveSubsteps()},t.prototype.setActiveSubsteps=function(t){this.useErrorAsStartSubstep&&(t=[new a.FailActivation(this,c.DigitalAccess.digitalAccessNeedUpgrade)],this.useErrorAsStartSubstep=!1),r.prototype.setActiveSubsteps.call(this,t)},t.prototype.clos},t}(o.ActivationStep)},function(t,e,n){"use strict";n.r(e);var r=n(89);n.d(e,"ActivateForm",function(){return r.ActivateForm});var o=n(62);n.d(e,"FailActivation",function(){return o.FailActivation});var i=n(108);n.d(e,"SuccessActivation",function(){return i.SuccessActivation})},function(t,e,n){"use strict";n.r(e),n.d(e,"SuccessActivation",function(){return p});var r,o=n(34),i=n(123),s=n(333),a=n(45),c=n(17),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(n}return u(t,n),t.prototype.process=function(){this.show()},t.prototype.close=function(t){this.hide(),t.ActivateStatus="success",c.a.setLoginEndFlowStatus(!0),s.a.dispatch(a.a.ActivationLinkSuccessStepClosed,t),s.a.dispatch(i.h.ApplicationReload,i.l.ActivationSuccess)},t}(o.ActivateSubStep)},function(t,e,n){"use strict";n.r(e);var r=n(174);n.d(e,"ActivationExpiredSubscriptionMainSubStep",function(){return r.ActivationExpiredSubscriptionMainSubStep})},function(t,e,n){"use strict";n.r(e);var r=n(4),c=n(9),o=n(0),u=n.n(o),i=new(function(){function t(){}return t.prototype.getHoursDifference=function(t,e){return 24*this.getDaysDifference(t,e)+e.getUTCHours()-t.getUTCHours()},t.prototype.getDaysDifference=function(t,e){var n=t.getUTCFullYear(),r=e.getUTCFullYear();return this.getDayOfYear(e)-this.getDayOfYear(t)+this.getDaysBetweenYears(n,r)},t.prototype.getWeeksDifference=function(t,e){return this.getDaysDifference(t,e)/7},t.prototype.getMonthsDifference=function(t,e){var n=12*(e.getUTCFullYear()-t.getUTCFullYear())-t.getUTCMonth()+e.getUTCMonth(),r=this.getCountDaysOfMonth(t.getUTCFullYear(),t.getUTCMonth());return n+=(e.getUTCDate()-t.getUTCDate())/r},t.prototype.getDayOfYear=function(t){var e=t.getUTCMonth(),n=t.getUTCDate(),r=[0,31,59,90,120,151,181,212,243,273,304,334][e]+n;return 1<e&&this.isLeapYear(t.getUTCFullYear())&&r++,r},t.prototype.getCountDaysOfMont},t.prototype.getDaysBetweenYears=function(t,e){for(var n=0,r=t;r<e;r++)n+=this.isLeapYear(r)?366:365;return n},t.prototype.isLeapYear=function(t){return 1==new Date(t,1,29).getUTCMonth()},t}()),p=n(122);n.d(e,"SubscriptionExpiration",function(){return g});var s,l,a,f,h,d=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});(a=l||(l={})).On="On",a.ExactlyIn="ExactlyIn",a.Within="Within",(h=f||(f={})).Hours="Hours",h.Days="Days",h.Weeks="Weeks",h.Months="Months";var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.isPassedCriteria=function(t){var e=c.a.getUserData();if(!e||!e.Subscriptions||!e.Subscriptions.length)return Promise.resolve(!1);var n=u.a.max(e.Subscription}).ExpirationDate;if(!n)return Promise.resolve(!1);var r=p.a.convertToUtcTime(n),o=t.Delimiter,i=t.EvaluatedObject?p.a.convertToUtcTime(t.EvaluatedObject):null,s=t.Qualifier,a=t.Value;if(r.getTime()==p.a.get().getTime())return Promise.resolve(!1);switch(o){case l.On:return this.checkByOnOption(r,i);case l.ExactlyIn:return this.checkByExactlyInOption(r,f[s],a);case l.Within:return this.checkByWithinOption(r,f[s],a)}},e.prototype.checkByOnOption=function(t,e){var n=t.setUTCHours(0,0,0,0)==e.setUTCHours(0,0,0,0);return Promise.resolve(n)},e.prototype.checkByExactlyInOption=function(t,e,n){var r=p.a.get(),o=this.getDateDifferenceByType(r,t,e)==n;return Promise.resolve(o)},e.prototype.checkByWithinOption=function(t,e,n){var r=p.a.get();if(t<r)return Promise.resolve(!1);var o=this.getDateDifferenceByType(r,t,e)<=n;return Promise.resolve(o)},e.prototype.getDateDifferenceByType=function(t,e,n){switch(n){case f.Hours:return i.getHoursDifference(t,e);case f.Days:return i.getDaysDifference(t,e);case f.Weeks:return i.getWeeksDifference(t,e);case f.Months:return i.getMonthsDifference(t,e)}},e}(r.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"DependencyLoader",function(){return o});var r=n(241),o=function(){function t(){this.NAME="DepencyLoader"}return t.prototype.load=function(){var n=this;return this.firstLoad||(this.firstLoad=new Promise(function(t,e){n.getResource().the}).catch(function(t){r.a.warn(n.NAME,"load",t),e(t)})})),this.firstLoad},t.prototype.getResource=function(){throw new Error("Method not implemented.")},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"DependencyRenderer",function(){return r});var r=function(}return t.prototype.init=function(){var n=this;return new Promise(function(t,e){n.loader.load().then(function(){t()}).catch(function(){e()})})},t.prototype.render=function(t){throw new Error("Method not implemented.")},t.prototype.needRende},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"CriteriaProvider",function(){return f});var r=n(87),o=n(32),i=n(339),s=n(241),a=n(122),c=n(0),u=n(50),p=n(19),l=n(198),f=function(){function t(){this.NAME="CriteriaProvider",this.criteria=u.Criteria.getInstance()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.calculateConversation=function(t){var e=this,n=[],r={timeout:p.a.get(i.a.ConversationPromiseTimeout),sortField:"Order",conversationId:0,meterId:0};return t&&t.length?(s.a.log("Calculating conversation...",t),Object(c.each)(t,function(t){t.passed=!0,r.conversationId=t.Id,r.meterId=t.MeterLevelId,t.calculateExpressions=e.criteria.getCalculateExpressions(t.Filters,r),n.push(e.criteria.executeCalculateExpressionsForCollection(t))}),this.criteria.calculatePassedCollection(n,r.sortField)):Promise.reject("")},t.prototype.getConversationPaywallsForView=function(t){var e={timeout:p.a.get(i.a.ActionPromiseTimeout),sortField:"Priority",conversationId:0,meterId:0,excludeExpressions:[r.CriteriaTypes.MeterView,r.CriteriaTypes.ConversationView]};try{var n=Object(c.where)(t.Actions,{ActionType:o.ActionTypes.Paywall});return n.length?this.calculateActions(t,n,e):Promise.resolve([])}catch(t){return s.a.error(this.NAME,t),Promise.reject("")}},t.prototype.calculateConversationActions=function(t){var e={timeout:p.a.get(i.a.ActionPromiseTimeout),sortField:"Priority",conversationId:0,meterId:0};try{return this.calculateActions(t,t.Actions,e)}catch(t){return s.a.error(this.NAME,t),Promise.reject("")}},t.prototype.calculateActions=function(n,t,r){var o=this,i=[];return t&&t.length?(s.a.log("Calculating actions...",t),Object(c.each)(t,function(t){var e;t.passed=!0,r.conversationId=n.Id,r.meterId=n.MeterLevelId,e=r.excludeExpressions&&r.excludeExpressions.length?Object(c.filter)(t.Wh}):t.Who,t.calculateExpressions=o.criteria.getCalculateExpressions(e,r),i.push(o.criteria.executeCalculateExpressionsForCollection(t))}),this.criteria.calculatePassedCollections(i,r.sortField)):Promise.resolve([])},t.prototype.isConversationValid=function(o){var i=this;return new Promise(function(e,n){var r="isConversationValid";try{if(o.Properties.getIsExpired())return s.a.log(i.NAME,r,"Current conversation was previously set to expired."),void n();new l.ConversationExpirations(o).getFirstExecute().then(function(t){o.Properties.getIsExpired()||(o.Properties.setIsExpired(!0),o.Properties.setExpiredType(t),o.Properties.setDateEnded(a.a.get())),s.a.log(i.NAME,r,"This conversation is expired.",o),n()}).catch(function(){s.a.log(i.NAME,r,"This conversation is valid.",o),e()})}catch(t){s.a.error(i.NAME,r,t),e()}})},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"DigitalAccess",function(){return r});var s=n(0),a=n(352),r=function(){function i(){}return i.prototype.check=function(o){return new Promise(function(t,e){if(o){if(Object(s.isString)(o))try{var n=JSON.parse(o);n&&Object(s.isArray)(n.Errors)&&n.Errors.fin})&&e({ErrorMessage:i.linkingFailed})}catch(t){e({ErrorMessage:i.linkingFailed})}var r=new a.a(o.AccessLevel);r&&(r.IsPremium&&t(),r.IsUpgrade&&e({ErrorMessage:i.digitalAccessNeedUpgrade,Substep:"UpgradeLink",Link:"Upgrade"}),r.IsPurchase&&e({ErrorMessage:i.digitalAccessNeedPurchase,Substep:"SubscribeLink",Link:"Subscribe"}))}e({ErrorMessage:i.linkingFailed})})},i.linkingFailed="I'm sorry, an error occurred and we can't complete this process. Please contact customer service for assistance. ",i.digitalAccessNeedUpgrade="I'm sorry, your subscription does not give you access to this content. Please <a data-nxt-link='Upgrade' redirect='true'>upgrade</a> to get access. ",i.digitalAccessNeedPurchase="I'm sorry, your subscription does not give you access to this content. Please <a data-nxt-link='Subscribe' redirect='true'>subscribe</a> to get access. ",i}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(334),a=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},o=new(function(){function t(){this.proxyMethods=["get","set","delete","clear"],this.prefixMap=[],this.keys=[],this.limits={}}return t.prototype.applyProxy=function(r,t){var o=this;this.prefixMap.push({_this:r,prefix:t});for(var i={},e=function(n){var t=r.isSupported();r.isSupported=function(){return t};var e=r[n].bind(r);i[n]=e,r[n]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.currentContext=r,o["_"+n].apply(o,a([i],t))}},n=0,s=this.proxyMethods;n<s.length;n++){e(s[n])}return r},t.prototype.isSupported=function(){return!0},t.prototype._get=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.currentContext.isSupported()){var r=e[0];if(!this.limits[this.getExpandKey(r)])return t.get.apply(null,e)}return this.get.apply(this,e)},t.prototype.ge},t.prototype._set=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t.set;if(this.currentContext.isSupported()){var o=r.apply(null,e);if(o)return o;var i=this.currentContext;t.delete.apply(this,e),this.currentContext=i;var s=e[0];this.limits[this.getExpandKey(s)]=!0}return this.set.apply(this,e)},t.prototype.set=function(t,e){var n=this.getExpandKey(t);return r.a.set(n,e),this.addKey(n),!0},t.prototype._delete=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.currentContext.isSupported()){var r=e[0];if(!this.limits[this.getExpandKey(r)])return t.delete.apply(null,e)}return this.delete.apply(this,e)},t.prototype.delete=function(t){var e=this.getExpandKey(t);return this.removeKey(e),r.a.delete(e)},t.prototype._clear=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.currentContext.isSupported()&&(0,t.clear)();return this.clear},t.prototype.clea},t.prototype.getExpandKe},t.prototype.getCurrentPrefi},t.prototype.getCurrentStorageKey},t.prototype.addKe},t.prototype.removeKe},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(16),o=function(){function t(){this.baseSelector=""}return t.prototype.find=function(t,e){return r.a.find("["+this.baseSelector+'="'+t+'"]',e)},t}()},},function(t,e,n){"use strict";n.r(e);var r=n(18);n.d(e,"Campaign",function(){return r.Campaign})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(125),o=new(function(}return t.prototype.se},t.prototype.get=function(){var t=this.localStorage.get(this.storageKey);return t?new Date(Date.parse(t)):new Date},t.prototype.getDat},t.prototype.delete=function(){this.localStorage.delete(this.storageKey)},t.prototype.checkLocalStorag},t.prototype.formatDate=function(t,e){void 0===e&&(e="M/D/Y h:m:s");var };return e.replace("Y",String(t.getFullYear())).replace("M",n(t.getMonth()+1)).replace("D",n(t.getDate())).replace("h",n(t.getHours())).replace("m",n(t.getMinutes())).replace("s",n(t.getSeconds()))},t.prototype.convertToUtcTime=function(t){var e=new Date(t+"+00:00");return isNaN(e.getDate())&&(e=new Date(t+" 00:00:00+00:00"),isNaN(e.getDate()))?new Date(t):e},t}())},function(t,e,n){"use strict";n.d(e,"j",function(){return a}),n.d(e,"e",function(){return r}),n.d(e,"i",function(){return i}),n.d(e,"d",function(){return p}),n.d(e,"q",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return m}),n.d(e,"l",function(){return _}),n.d(e,"h",function(){return b}),n.d(e,"m",function(){return f}),n.d(e,"r",function(){return S}),n.d(e,"k",function(){return C}),n.d(e,"g",function(){return O}),n.d(e,"n",function(){return E}),n.d(e,"p",function(){return P}),n.d(e,"b",function(){return D}),n.d(e,"f",function(){return x}),n.d(e,"o",function(){return B});var r,o,i,s,a="notclosablepaywall";(o=r||(r={})).localhost="localhost",o.dev="dev",o.test="test",o.test20="test20",o.demo="demo",o.stage="stage",o.preprod="preprod",o.prod="prod",(s=i||(i={}))[s.Free=1]="Free",s[s.Metered=2]="Metered",s[s.Premium=3]="Premium";var c,u,p={Premium:"PREMIUM",Upgrade:"UPGRADE",Purchase:"PURCHASE"},l={NotLoggedIn:"Logged Out",LoggedIn:"Logged In",NoActiveSubscription:"No Active Subscription",SubscribedNotEntitled:"Subscribed Not Entitled",Subscribed:"Subscribed"};(u=c||(c={}))[u.MG2=1]="MG2",u[u.Janrain=2]="Janrain",u[u.Auth0=4]="Auth0",u[u.Custom=5]="Custom",u[u.Newzware=6]="Newzware",u[u.Janrain_custom=7]="Janrain_custom",u[u.Auth0UniversalLogin=8]="Auth0UniversalLogin";var f,h,d,g,y,v,m={CloseButton:"closeButton",CloseSpan:"closeSpan",ClickOutside:"clickOutside",EscButton:"escButton",MoveToActivate:"moveToLinkStep",MoveToSuccess:"moveToSuccessStep",MoveToFail:"moveToErrorStep",AccessGranted:"accessGranted"},_={ActivationSuccess:"Activation success",ActivationFail:"Activation fail",RepeatedInit:"Repeated init",RunSettingsPromise:"Run settings promise",RunSettingsTimeout:"Run settings timeout",Login:"User login",Logout:"User logout",Init:"Default init flow",SuccessNewsletterSignUp:"Success Newsletter SignUp",GoogleLogin:"Google user login",GoogleRemain:"Google remain",GoogleSuccessPurchase:"Google success purchase"},b={ApplicationReload:"Connext::Application.reload",ApplicationReInit:"Connext::Application.reinit",ChangedUserProfile:"Connext::UserProfile.changed",ChangedUserData:"Connext::UserData.changed",TemplateShown:"Connext::Template.shown",TemplateClosed:"Connext::Template.closed",ActivationLogin:"Connext::Activation.login",ActivationRegister:"Connext::Activation.register",ActivationActivate:"Connext::Activation.activate",DeviceDetectorFail:"Connext::DeviceDetector.fail",StartInit:"Connext::Start.init",StartDebugSecureMode:"Connext::StartDebugSecureMode"};(h=f||(f={})).Banner="mg2bn",h.Modal="modal",h.InfoBox="info-box",h.Inline="inline",(g=d||(d={}))[g.Facebook=0]="Facebook",(v=y||(y={})).APICall="APICall",v.LoadConnext="LoadConnext";var C,w,S={ArticleCount:"ac",DeviceArticleCount:"ac_d",StartDate:"s",ActiveConvoId:"_acnv",MeterView:"_ac",DeviceMeterView:"_ac_d",ActionRepeatAfter:"rpt",ActionCount:"rtpc"};(w=C||(C={})).No="No",w.Current="Current",w.All="All";var A,I,O="9999-01-01",E="unknown",P=1e4;(I=A||(A={})).HideLoggedIn="hideloggedin",I.HideLoggedOut="hideloggedout",I.HideEntitled="hideentitled";var D={clientCode:"",apiUrl:"https://prod-newsday-proxy-connext.azurewebsites.net/",appInsightsKey:"1819964f-57a2-45c2-b878-c270d7e5d1d9"},x={Id:-1},B={clearUserStateParam:"clearUserState",authSystemParams:"authSystemParams",refreshUserDataCookieExpired:"refreshUserDataCookieExpired",userDataMismatch:"userDataMismatch",updateEveryPageload:"updateEveryPageload"}},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationExpiredSubscriptionStep",function(){return p});var r,o=n(333),i=n(45),s=n(84),a=n(109),c=n(9),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(n){function t(t){var e=n.call(this,t)||this;return e.stepName="ExpiredSubscription",e.stepWidth=420,e.create(),e.setProcessSubSteps(a),e}return u(t,n),t.prototype.process=function(){n.prototype.process.call(this),this.show(),this.hideAllSubsteps(),this.calculateActiveSubStep(),c.a.expireUserData()},t.prototype.processStep=function(t){this.templateStepsGroup.processStep(t)},t.prototype.close=function(t){o.a.dispatch(i.a.ActivationExpiredSubscriptionStepClosed,t),this.closeActiveSubsteps(t)},t}(s.ActivationStep)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(115),o=function(}return t.prototype.isSupporte},t.prototype.get=function(t,e){void 0===e&&(e=!0);try{var n=localStorage.getItem(t);return e?JSON.parse(n):n}catch(t){return null}},t.prototype.set=function(t,e,n){var r;void 0===n&&(n=!0);try{var o=n?JSON.stringify(e):e;localStorage.setItem(t,o),r=!this.checkIsNullOrUndefined(this.get(t,n))}catch(t){r=!1}finally{return r}},t.prototype.delet},t.prototype.clea},t.prototype.getAllKeys=function(){var t=[];try{t=Object.keys(localStorage)}catch(t){}finally{return t}},t.prototype.checkIsNullOrUndefined=function(t){return null==t},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r,s=n(28);!function(e){var n,t,r,o;e.DeviceTypes={Desktop:"Desktop",Mobile:"Mobile",Tablet:"Tablet",Default:"Default"},(t=n=e.OSTypes||(e.OSTypes={})).IOS="IOS",t.windows="windows",t.android="android",t.blackberry="blackberry",t.fxos="fxos",(o=r=e.BrowserTypes||(e.BrowserTypes={})).Opera="Opera",o.Edge="Edge",o.Chrome="Chrome",o.Safari="Safari",o.Firefox="Firefox",o.IE="IE",o.Facebook="Facebook",o.unknown="unknown";var i=function(){function t(){this.userAgent=window.navigator.userAgent.toLowerCase()}return t.prototype.getDeviceType=function(){return this.mobile()?e.DeviceTypes.Mobile:this.tablet()?e.DeviceTypes.Tablet:this.desktop()?e.DeviceTypes.Desktop:void 0},t.prototype.getOS=function(){return this.ios()?n.IOS:this.windows()?n.windows:this.android()?n.android:this.blackberry()?n.blackberry:this.fxos()?n.fxos:void 0},t.prototype.getBrowser=function(){return-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?r.Opera:-1!==navigator.userAgent.indexOf("Edg")?r.Edge:-1!==navigator.userAgent.indexOf("Chrome")?r.Chrome:-1!==navigator.userAgent.indexOf("Safari")?r.Safari:-1!==navigator.userAgent.indexOf("Firefox")?r.Firefox:-1!==navigator.userAgent.indexOf("MSIE")||!0==!!document.documentMode?r.IE:-1<navigator.userAgent.indexOf("FBAN")||-1<navigator.userAgent.indexOf("FBAV")?r.Facebook:r.unknown},t.prototype.getUserMeta=function(){return{Browser:this.getBrowser(),OS:this.getOS(),deviceType:this.getDeviceType(),URL:Object(s.j)()}},t.prototype.fin},t.prototype.io},t.prototype.iphone=function(){return!this.windows()&&this.find("iphone")},t.prototype.ipod=function(){return this.find("ipod")},t.prototype.ipad=function(){return this.find("ipad")},t.prototype.androi},t.prototype.androidPhone=function(){return this.android()&&this.find("mobile")},t.prototype.androidTablet=function(){return this.android()&&!this.find("mobile")},t.prototype.blackberr},t.prototype.blackberryPhon},t.prototype.blackberryTablet=function(){return this.blackberry()&&this.find("tablet")},t.prototype.windows=function(){return this.find("windows")},t.prototype.windowsPhone=function(){return this.windows()&&this.find("phone")},t.prototype.windowsTable},t.prototype.fxo},t.prototype.fxosPhone=function(){return this.fxos()&&this.find("mobile")},t.prototype.fxosTable},t.prototype.meego=function(){return this.find("meego")},t.prototype.cordov},t.prototype.nodeWebki},t.prototype.mobil},t.prototype.table},t.prototype.deskto},t.prototype.isIO},t}();e.userAgent=new i}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(28),o=function(t){this.expandKey=!0,this.isSecureValue=!0,this.isJson=!0,t&&(this.expandKey=Object(r.t)(t.expandKey)?t.expandKey:this.expandKey,this.isSecureValue=Object(r.t)(t.isSecureValue)?t.isSecureValue:this.isSecureValue,this.isJson=Object(r.t)(t.isJson)?t.isJson:this.isJson)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(0),i=n(122),r=n(125),s=n(133),a=new(function(}return t.prototype.dublicateCookieToLocalStorageIfItNeed=function(t,e,n){if(!this.isDublicateToLocalStorage(t,e,n)||""==e)return this.localStorage.delete(this.prefix+t),!1;var r=Object(o.extend)({},n);r.key=t,r.value=e,this.localStorage.set(this.prefix+t,r)},t.prototype.dublicateLocalStorageToCookieIfItNeed=function(e,t){if(!this.isDublicateToCookie(e))return!1;var n,r;try{n=this.getStoredValue(e),r=new Date(n.expires)}catch(t){return this.localStorage.delete(this.prefix+e),!1}return this.isOutDatedLocalStorage(r)?(this.localStorage.delete(this.prefix+e),!1):(delete t.key,delete t.value,t.expires=r,s.a.getInstance().set(e,n.value,t))},t.prototype.getStoredValu},t.prototype.removeLocalStorageDublicat},t.prototype.isDublicateToCookie=function(t){return!0},t.prototype.isDublicateToLocalStorage=function(t,e,n){if(this.isDublicateToCookie(t)){var r=n.expires?new Date(n.expires):i.a.get();return this.isDublicateSafari(r)}return!1},t.prototype.isDublicateSafari=function(t){return t.getTime()>i.a.get().getTime()+this.safariCookieMaxAge},t.prototype.stringifyAttribute},t.prototype.isOutDatedLocalStorage=function(t){return i.a.get().getTime()>=t.getTime()},t}())},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivateCloseEventModel",function(){return r});var r=function(t){t&&(this.ActivateStatus=t.ActivateStatus,this.CloseEvent=t.CloseEvent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(356),o=n(28),i=n(22),s=new(function(){function t(){}return t.prototype.activateBySearchOption=function(t,e,n){return r.a.post("user/"+t,e,n)},t.prototype.checkDigitalAccess=function(t,e,n){return void 0===e&&(e=0),r.a.get("user/DigitalAccess?masterId="+t+"&mode="+e,null,n).then(function(t){return i.a.decrypt(t)})},t.prototype.getActivationUrlParams=function(){return Object(o.m)(["email","productCode","returnUrl","confirmationNumber","accountNumber","lastName"])},t.prototype.getProductCod},t.prototype.getDictionaryValueByName=function(t){return r.a.get("dictionary/"+t)},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n(128),u=n(122),r=function(}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.exten},t.prototype.set=function(t,e,n,r){var o;if(void 0===r&&(r={}),"undefined"==typeof document)return!1;if("number"==typeof(n=this.extend({path:"/"},this.defaults,n)).expires){var i=u.a.get();i.setMilliseconds(i.getMilliseconds()+864e5*n.expires),n.expires=i}n.expires=n.expires?n.expires.toUTCString():"";try{o=JSON.stringify(e),/^[\{\[]/.test(o)&&(e=o)}catch(t){}e=r.write?r.write(e,t):encodeURIComponent(String(e)).replace(/%(22|23|24|26|2B|2C|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(22|23|24|26|2B|2C|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var a in n)n[a]&&(s+="; "+a,!0!==n[a]&&(s+="="+n[a]));return c.a.dublicateCookieToLocalStorageIfItNeed(t,decodeURIComponent(e),n),document.cookie=t+"="+e+s,!0},t.prototype.get=function(t,e,n,r){if(void 0===e&&(e={}),void 0===n&&(n=!1),void 0===r&&(r=!0),"undefined"!=typeof document){var o=this.checkDoubleDecode(this.pureGet(t,e,n));if(!r)return o;var i=c.a.getStoredValue(t);return i&&o&&i.value!==o?(c.a.dublicateCookieToLocalStorageIfItNeed(i.key,o,i),o):null===i?o:(c.a.dublicateLocalStorageToCookieIfItNeed(t,i),this.pureGet(t,e,n))}},t.prototype.pureGet=function(t,e,n){var r;void 0===e&&(e={}),void 0===n&&(n=!1),t||(r={});for(var o=document.cookie?document.cookie.split("; "):[],i=/(%[0-9A-Z]{2})+/g,s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=a[0].replace(i,decodeURIComponent);if(c=e.read?e.read(c,u):c.replace(i,decodeURIComponent),n)try{c=JSON.parse(c)}catch(t){}if(t===u){r=c;break}t||(r[u]=c)}catch(t){}}return r},t.prototype.getJson=function(t,e){return void 0===e&&(e={}),this.get(t,e,!0)},t.prototype.remove=function(t,e){return this.set(t,"",this.extend(e,{"max-age":-1}))},t.prototype.checkDoubleDecode=function(t,e){if(void 0===e&&(e=0),t)try{var n=decodeURIComponent(t);if(t!=n&&e<10)return this.checkDoubleDecode(n,e++)}catch(t){}return t},t}()},function(t,e,n){"use strict";var r=n(206),o=n(28),i=function(t){t&&(this.Conversation=t.Conversation,this.Meter=t.Meter)},s=function(t){t&&(this.ArticleLeft=new i(t.ArticleLeft),this.Limit=new i(t.Limit),this.MinView=t.MinView)},a=function(t){this.Ended=null,this.Expiration=null,this.Started=null,t&&(this.Ended=t.Ended,this.Expiration=t.Expiration,this.Started=t.Started)};n.d(e,"a",function(){return c});var c=function(){function t(t){this.Date={},this.ExpiredType=null,t&&(this.IsExpired=t.IsExpired,this.PaywallLimit=t.PaywallLimit,this.Views=t.Views,this.Date=new a(t.Date),this.ArticleLeft=t.ArticleLeft,this.ViewType=t.ViewType,this.PaywallInfo=new s(t.PaywallInfo),this.ExpiredType=new r.a(t.ExpiredType),this.Expired=t.Expired)}return t.prototype.getExpiredTypeName=function(){return this.ExpiredType?this.ExpiredType.TypeName:null},t.prototype.getPaywallInf},t.prototype.setPaywallInfo=function(t){this.PaywallInfo=t},t.prototype.setPaywallProperties=function(t){(this.PaywallInfo=t).MinView&&(t.ArticleLeft&&Object(o.t)(t.ArticleLeft[t.MinView])&&(this.ArticleLeft=t.ArticleLeft[t.MinView],this.ViewType=t.MinView),t.Limit&&void 0!==t.Limit[t.MinView]&&null!==t.Limit[t.MinView]&&(this.PaywallLimit=t.Limit[t.MinView],this.ViewType=t.MinView))},t.prototype.setViews=function(t){this.Views=t},t.prototype.getViews=function(){return this.Views},t.prototype.setStartDate=function(t){this.Date.Started=t},t.prototype.getStartDate=function(){return this.Date.Started},t.prototype.getExpiredTyp},t.prototype.setExpiredType=function(t){this.ExpiredType=t},t.prototype.getFreeViewsLeft=function(){return this.ArticleLeft},t.prototype.getIsExpired=function(){return this.IsExpired},t.prototype.setIsExpired=function(t){this.IsExpired=t},t.prototype.getDateExpiration=function(){return this.Date.Expiration},t.prototype.setDateExpiration=function(t){this.Date.Expiration=t},t.prototype.getDateEnded=function(){return this.Date.Ended},t.prototype.setDateEnde},t}()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PromiseEx",function(){return PromiseEx});var _Expression__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(241),_Connext_Core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28),_Connext_Core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(334),_Connext_Core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(339),underscore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),underscore__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_5__),__extends=(Y7a=function(t,e){return(Y7a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Y7a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Y7a,PromiseEx=function(_super}return __extends(PromiseEx,_super),PromiseEx.prototype.check=function(entity){var _this=this;this.NAME="Promise";var userPromise=new Promise(function(resolve,reject){var fnName="evalPromise",timerId=null;try{_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"Setup promise",entity);var promise=eval(entity.EvaluatedObject||entity.Options.PromiseName);_this.options.timeout&&(timerId=setTimeout(function(){_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"promise rejected on timeout"),reject()},_this.options.timeout));var doneCallback_1=function(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"Promise resolved with value: ",t);var e=entity.Qualifier||entity.Options.Qualifier,n=Object(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.t)(entity.Value)?entity.Value:entity.Options&&entity.Options.Val?entity.Options.Val:void 0,r=entity.EvaluatedObject||entity.Options.PromiseName;t=Object(underscore__WEBPACK_IMPORTED_MODULE_5__.isString)(t)?(""+t).toLowerCase():t,n=Object(underscore__WEBPACK_IMPORTED_MODULE_5__.isString)(n)?(""+n).toLowerCase():n,timerId&&clearTimeout(timerId),_this.evaluateOperator(t,n,e)?(_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"promise "+r+" passed"),resolve()):(_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"promise "+r+" not passed"),reject())};promise&&Object(underscore__WEBPACK_IMPORTED_MODULE_5__.isFunction)(promise.then)?promise.then(function(t){doneCallback_1(t)},function(t){timerId&&clearTimeout(timerId),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"Promise rejected",entity),reject(t)}):doneCallback_1(promise)}catch(t){timerId&&clearTimeout(timerId),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.log(_this.NAME,fnName,"Promise is not defined"),reject()}});return this.savePromise(userPromise),userPromise},PromiseEx.prototype.savePromise=function(t){var e=_Connext_Core__WEBPACK_IMPORTED_MODULE_3__.a.get(_Connext_Core__WEBPACK_IMPORTED_MODULE_4__.a.Promises);Object(underscore__WEBPACK_IMPORTED_MODULE_5__.isEmpty)(e)&&(e=[]),_Connext_Core__WEBPACK_IMPORTED_MODULE_3__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_4__.a.Promises,e.push(t))},PromiseEx}(_Expression__WEBPACK_IMPORTED_MODULE_0__.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Time",function(){return c});var r,o=n(4),i=n(241),s=n(122),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getMomentConvEndDate=function(t){return Date.parse(t.conversation.Date.Started)+t.Value},e.prototype.isPassedCriteria=function(t){var e=s.a.get().valueOf(),n=this.getMomentConvEndDate(t)<=e;return n&&i.a.log(t.TypeName,"Current conversation has expired base on date..."),Promise.resolve(n)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UrlMask",function(){return s});var r,o=n(4),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e=t.Qualifier||t.Options.Qualifier,n=t.Value,r=window.location.href.replace(/#$/,""),o=window.location.href.replace(/^https?:\/\//,""),i=this.evaluateOperator(r,n,e)||-1==n.indexOf("https://")&&this.evaluateOperator(o,n,e);return Promise.resolve(i)},e.prototype.equal=function(t,e){return e="^"+(e=e.split("*").join(".*"))+"$",new RegExp(e).test(t)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UrlParam",function(){return u});var r,o=n(59),i=n(10),s=n(4),a=n(28),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.getParamValu},e.prototype.isPassedCriteria=function(t){var e=t.Qualifier,n=t.Value,r=t.EvaluatedObject;return this.paramValue=this.getParamValue(r),this.paramValue?this.evaluateOperator(this.paramValue.toUpperCase(),n.toUpperCase(),e)?Promise.resolve(!0):Promise.resolve(!1):o.Qualifier.getOperator(e)===i.Operator.Equal?Promise.resolve(!1):Promise.resolve(!0)},e}(s.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UserState",function(){return c});var r,i=n(9),o=n(4),s=n(123),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e,n=i.a.getUserState(),r=t.Qualifier||t.Options.Qualifier,o=t.Value||t.Options["User State"];return null==n&&(n=s.q.NotLoggedIn),e=this.evaluateOperator(n,o,r),Promise.resolve(e)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"IsNewVisitor",function(){return a});var r,o=n(4),i=n(6),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=i.a.getCurrentDynamicMeterViewCount(),n=t.Value.toLowerCase();return e<=1&&"yes"===n?Promise.resolve(!0):1<e&&"no"===n?Promise.resolve(!0):Promise.resolve(!1)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"NewsletterReader",function(){return s});var r,o=n(4),a=n(241),c=n(75),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.check=function(i){var s=this;return this.NAME="NewsletterReader",new Promise(function(t,e){var n="evalNewsletterReader";a.a.log(s.NAME,n,"Checking NewsletterReader: ",i);try{var r,o=c.a.getNewsletterReader();r="true"===i.Value.toLowerCase()&&null!=o||"false"===i.Value.toLowerCase()&&null==o,a.a.log(s.NAME,n,"Criteria "+(r?"":"did not ")+"passed",i),r?t():e()}catch(t){a.a.error(s.NAME,n,t),e()}})},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"NewsletterSession",function(){return s});var r,o=n(4),a=n(241),c=n(75),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.check=function(i){var s=this;return this.NAME="NewsletterSession",new Promise(function(t,e){var n="evalNewsletterSession";a.a.log(s.NAME,n,"Checking NewsletterSession: ",i);try{var r,o=c.a.getNewsletterSource();r="true"===i.Value.toLowerCase()&&null!=o||"false"===i.Value.toLowerCase()&&null==o,a.a.log(s.NAME,n,"Criteria "+(r?"":"did not")+" pass",i),r?t():e()}catch(t){a.a.error(s.NAME,n,t),e()}})},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"DayTime",function(){return a});var r,s=n(122),o=n(4),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e=this.evaluateOperator(this.getExpectedTimes(t),this.getLocalTime(),t.Qualifier);return Promise.resolve(e)},e.prototype.in=function(t,e){return t[0]<t[1]?e>=t[0]&&e<=t[1]:e>=t[0]||e<=t[1]},e.prototype.createTime=function(t,e){var n=s.a.get(),r=n.getFullYear(),o=n.getMonth(),i=n.getDate();return new Date(r,o,i,t,e)},e.prototype.getExpectedTimes=function(t){var e=t.Delimiter||":";return[this.createTime.apply(null,t.EvaluatedObject.split(e)),this.createTime.apply(null,t.Value.split(e))]},e.prototype.getLocalTime=function(){var t=s.a.get(),e=t.getUTCHours(),n=t.getUTCMinutes();return this.createTime(e,n)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"IsEuMember",function(){return a});var r,o=n(4),i=n(74),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=t.Value.toLowerCase(),n=i.a.getIsEuMember(),r=(void 0===n?"false":n.toString())==e;return Promise.resolve(r)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Country",function(){return c});var r,o=n(4),s=n(74),a=n(123),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e,n=t.Value.toLowerCase().split(","),r=t.Qualifier,o=t.EvaluatedObject&&"yes"==t.EvaluatedObject.toLowerCase(),i=s.a.getCountryCode().toLowerCase();return o&&(n=n.concat(",",a.n)),e=this.evaluateOperator(n,i,r),Promise.resolve(e)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UserAgentAccess",function(){return s});var r,o=n(4),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e=this.getCurrentUserAgent(),n=t.Value.toLowerCase(),r=this.evaluateOperator(e,n,t.Qualifier);return Promise.resolve(r)},e.prototype.getCurrentUserAgen},e.prototype.contain},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"BrowserDetection",function(){return c});var r,o=n(4),i=n(29),s=n(126),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e,n=this.getCurrentBrowser(),r=t.Value,o=t.Qualifier,i=t.Delimiter||",";return r=r.split(i),e=this.evaluateOperator(n,r,o),Promise.resolve(e)},e.prototype.getCurrentBrowser=function(){var t=i.a.getBrowser();return"Internet Explorer"==t&&(t=s.a.BrowserTypes.IE),Object.values(s.a.BrowserTypes).includes(t)?t:s.a.BrowserTypes.unknown},e.prototype.contain},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"VisitsLastDays",function(){return a});var r,o=n(6),i=n(4),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=o.a.getVisitedViewsByDays(parseInt(t.EvaluatedObject)),n=t.Value,r=this.evaluateOperator(e,n,t.Qualifier);return Promise.resolve(r)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"EngagementRate",function(){return s});var r,o=n(81),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getDataForCheck=function(t,e){return t&&void 0!==t.er?t.er:null},e}(o.G2iExpression)},function(t,e,n){"use strict";n.r(e),n.d(e,"EngagementRatePercentile",function(){return s});var r,o=n(81),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getDataForCheck=function(t,e){return t&&void 0!==t.erp?t.erp:null},e}(o.G2iExpression)},function(t,e,n){"use strict";n.r(e),n.d(e,"UserInterests",function(){return c});var r,o=n(81),i=n(0),s=n(241),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getDataForCheck=function(t,e){if(t&&t.interests&&0<t.interests.length){var n=Object(i.find)(t.interest});if(n)return n.rate;s.a.warn("Qualifier UserInterests","Such interest "+e+" is not present in G2i UserData")}return null},e}(o.G2iExpression)},function(t,e,n){"use strict";n.r(e),n.d(e,"RegistrationWalls});var r,o=n(179),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.isPassedCriteri},t}(o.Javascript)},function(t,e,n){"use strict";n.r(e),n.d(e,"BlockedCookiesOrLs",function(){return a});var r,o=n(4),i=n(30),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e="true"==t.Value.toLowerCase();return Promise.resolve(e==!i.a.isSupported())},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Expiration_SubscriptionExpiration",function(){return s});var r,o=n(110),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.isPassedCriteri},t}(o.SubscriptionExpiration)},function(t,e,n){"use strict";n.r(e),n.d(e,"AB_Expiration",function(){return c});var r,o=n(4),i=n(43),s=n(122),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e=s.a.get(),n=i.a.getEndDate();return Promise.resolve(n<e)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ABTest",function(){return a});var r,o=n(4),i=n(43),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=t.Value,n=i.a.getUserGroup();return Promise.resolve(n&&e==n)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"SwG",function(){return r});var i=n(241),s=n(194),a=n(196),c=n(193),u=n(80),r=new(function(){function t(){this.NAME="SwG"}return t.prototype.init=function(e){var n=this;return new Promise(function(t){return n.initRenderers(e).alway})})},t.prototype.initRenderers=function(n){var r=this,o="initRenderers";return this.firstInit||(this.firstInit=new Promise(function(t,e){return r.signinService=u.SignInService.getInstance(),r.subscriptionService=new c.SubscriptionService,r.signInRenderer=new s.SignInRenderer(n),r.subscribeRenderer=new a.SubscribeRenderer(n,r.subscriptionService.handleSwGButtonClick.bind(r.subscriptionService)),Promise.all([r.signInRenderer.init(),r.subscribeRenderer.init()]).then(function(){return r.signinService.auth2Init()}).then(function(){i.a.log(r.NAME,o),r.subscriptionService.tryEntitlementFlow(),t()}).catch(function(t){i.a.warn(r.NAME,o,t),e(t)})})),this.firstInit},t.prototype.linkSubscriptions=function(t){return this.subscriptionService.linkSubscriptions(t)},t.prototype.renderButtons=function(t,e){return i.a.log(this.NAME,"renderButtons"),Promise.all([this.signInRenderer.render(t,e),this.subscribeRenderer.render(t,e)])},t}())},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationForgotPasswordSubStep",function(){return a});var r,o=n(82),i=n(21),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(i.a.getForgotPasswordSubStepInformation()),e.create(),e}return s(t,n),t.prototype.process=function(){var t=this;this.show(),this.form=i.a.getForgotPasswordForm(this.getSelector(),null,this.formOptions),this.form.submit().the})},t}(o.ActivationAuthenticateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationRegistrationSubStep",function(){return l});var r,o=n(104),i=n(82),s=n(21),a=n(333),c=n(45),u=n(39),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(n){function t(t){var e=n.call(this,t)||this;return e.setSubStepData(s.a.getRegistrationSubStepInformation()),e.create(),e}return p(t,n),t.prototype.process=function(){var n=this;u.a.useMg2LoginTemplate()?(this.show(),this.form||(this.form=s.a.getRegistrationForm(this.getSelector(),null,this.formOptions)),this.form.submit().then(function(t){a.a.dispatch(c.a.ActivationAccountCreated,{Email:t.Email,DisplayName:t.DisplayName}),n.form.startSpinner();var e=new o.ActivationLoginSubStep(n.parentStep);n.parentStep.setActiveSubsteps([e]),e.autologin(t).always(function(){n.form.stopSpinner(),n.hide()})})):(this.activation.passControlToAuthSystem(),u.a.showRegisterForm())},t}(i.ActivationAuthenticateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"AccountNumberModel",function(){return a});var r,o=n(35),i=n(25),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateByAccountNumber,t&&(e.LastName=t.lastName,e.AccountNumber=t.AccountNumber),e}return s(t,n),t}(o.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"ConfirmationNumberModel",function(){return a});var r,o=n(35),i=n(25),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateByConfirmationNumber,e.LastName=t.lastName,e.ConfirmationNumber=t.confirmationNumber,e}return s(t,n),t}(o.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscriptionIdModel",function(){return a});var r,o=n(35),i=n(25),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateBySubscriptionId,e.LastName=t.lastName,e.SubscriptionId=t.subscriptionId,e}return s(t,n),t}(o.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"ZipCodeAndHouseNumberModel",function(){return a});var r,o=n(35),i=n(25),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateByZipCodeAndHouseNumber,e.ZipCode=t.zipCode,e.HouseNumber=t.houseNumber,e}return s(t,n),t}(o.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"ZipCodeAndPhoneNumberModel",function(){return a});var r,o=n(35),i=n(25),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(n){function t(t){var e=n.call(this,t)||this;return e.SearchOption=i.SearchOptions.ActivateByZipCodeAndPhoneNumber,e.LastName=t.lastName,e.AccountNumber=t.AccountNumber,e}return s(t,n),t}(o.ActivateBy)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationExpiredSubscriptionMainSubStep",function(){return p});var r,o=n(45),i=n(333),s=n(202),a=n(20),c=n(39),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(n){function t(t){var e=n.call(this,t)||this;return e.subStepName="ExpiredSubscriptionMain",e.create(),e}return u(t,n),t.prototype.process=function(){this.show(),a.a.removeActualDataOnDay(),i.a.dispatch(o.a.ActivationExpiredSubscriptionStepShown,null)},t.prototype.close=function(){a.a.setActualDataOnDay(),c.a.updateCurrentUser(),n.prototype.close.call(this)},t}(s.ActivationExpiredSubscriptionSubStep)},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(19),o=n(97),i=n(241),s=n(16),a=n(339),c=n(45),u=n(333),p=function(}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.closeAllTemplates=function(){var t="closeAllTemplates";i.a.log(this.NAME,t,"Close all ConneXt Templates");var e=s.a.find(".Mg2-connext.paywall.flittz:visible",s.a.queryElement("body")),n=r.a.get(a.a.IntegrateFlittz);e&&n&&u.a.dispatch(c.a.FlittzPaywallClosed,null),this.destroyAllTemplates(),i.a.log(this.NAME,t,"All ConneXt Templates have been closed.")},t.prototype.createTemplate=function(t){var e=(new o.a).createTemplate(t);return e&&this.registerTemplate(e),e},t.prototype.destroyAllTemplate},t.prototype.registerTemplate=function(t){this.registeredTemplates.push(t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,o=n(224),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(n){function t(t){var e=n.call(this,t)||this;return e.RepeatableOnArticle=t.RepeatableOnArticle||0,e}return i(t,n),t}(o.a)},function(t,e,n){"use strict";n.r(e);var r=n(180);n.d(e,"AdBlock",function(){return r.AdBlock});var o=n(181);n.d(e,"ConversationView",function(){return o.ConversationView});var i=n(182);n.d(e,"DeviceType",function(){return i.DeviceType});var s=n(183);n.d(e,"ExpirationFlittzStatus",function(){return s.ExpirationFlittzStatus});var a=n(184);n.d(e,"ExpirationUserState",function(){return a.ExpirationUserState});var c=n(185);n.d(e,"EzPay",function(){return c.EzPay});var u=n(186);n.d(e,"Geo",function(){return u.Geo});var p=n(187);n.d(e,"FlittzUserStatus",function(){return p.FlittzUserStatus});var l=n(188);n.d(e,"IncognitoMode",function(){return l.IncognitoMode});var f=n(179);n.d(e,"Javascript",function(){return f.Javascript});var h=n(189);n.d(e,"MetaKeyword",function(){return h.MetaKeyword});var d=n(190);n.d(e,"MeterView",function(){return d.MeterView});var g=n(191);n.d(e,"Register",function(){return g.Register});var y=n(138);n.d(e,"PromiseEx",function(){return y.PromiseEx});var v=n(139);n.d(e,"Time",function(){return v.Time});var m=n(140);n.d(e,"UrlMask",function(){return m.UrlMask});var _=n(141);n.d(e,"UrlParam",function(){return _.UrlParam});var b=n(142);n.d(e,"UserState",function(){return b.UserState});var C=n(143);n.d(e,"IsNewVisitor",function(){return C.IsNewVisitor});var w=n(144);n.d(e,"NewsletterReader",function(){return w.NewsletterReader});var S=n(145);n.d(e,"NewsletterSession",function(){return S.NewsletterSession});var A=n(146);n.d(e,"DayTime",function(){return A.DayTime});var I=n(147);n.d(e,"IsEuMember",function(){return I.IsEuMember});var O=n(148);n.d(e,"Country",function(){return O.Country});var E=n(149);n.d(e,"UserAgentAccess",function(){return E.UserAgentAccess});var P=n(150);n.d(e,"BrowserDetection",function(){return P.BrowserDetection});var D=n(151);n.d(e,"VisitsLastDays",function(){return D.VisitsLastDays});var x=n(152);n.d(e,"EngagementRate",function(){return x.EngagementRate});var B=n(153);n.d(e,"EngagementRatePercentile",function(){return B.EngagementRatePercentile});var U=n(154);n.d(e,"UserInterests",function(){return U.UserInterests});var R=n(155);n.d(e,"RegistrationWalls",function(){return R.RegistrationWalls});var L=n(156);n.d(e,"BlockedCookiesOrLs",function(){return L.BlockedCookiesOrLs});var T=n(110);n.d(e,"SubscriptionExpiration",function(){return T.SubscriptionExpiration});var F=n(157);n.d(e,"Expiration_SubscriptionExpiration",function(){return F.Expiration_SubscriptionExpiration});var k=n(158);n.d(e,"AB_Expiration",function(){return k.AB_Expiration});var V=n(159);n.d(e,"ABTest",function(){return V.ABTest})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Javascript",function(){return Javascript});var _Expression__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),underscore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),underscore__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__),_Core_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(241),_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28),__extends=(Znb=function(t,e){return(Znb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Znb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Znb,Javascript=function(_super){function Javascript(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Javascript,_super),Javascript.prototype.isPassedCriteria=function(rule){var _this=this;return this.NAME="Javascript",new Promise(function(resolve,reject){var fnName="evalJSVar";try{_Core_logger__WEBPACK_IMPORTED_MODULE_2__.a.log(_this.NAME,fnName,"--- Testing ---",rule);var segment=rule.Options||rule,jsVariable=segment.EvaluatedObject,qualifier=segment.Qualifier,segmentValue=Object(_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.t)(segment.Value)?segment.Value.toLowerCase():"",isPassed=!0,jsValue=eval(jsVariable);if(_this.delimiter=segment.Delimiter||",",Object(underscore__WEBPACK_IMPORTED_MODULE_1__.isArray)(jsValue))jsValue=jsValue.filter(function(t){return Object(_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.t)(t)}).ma});else{if(!Object(_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_3__.t)(jsValue))return void resolve(!1);jsValue=jsValue.toString().toLowerCase()}isPassed=_this.evaluateOperator(jsValue,segmentValue,qualifier),resolve(isPassed)}catch(t){resolve(!1)}})},Javascript.prototype.contains=function(t,e){return Object(underscore__WEBPACK_IMPORTED_MODULE_1__.isArray)(t)||(t=t.split(this.delimiter.replace(/\[space\]/g," "))),0<=t.indexOf(e)},Javascript.prototype.i},Javascript.prototype.lessThan=function(t,e){return this.prepareValueToCompare(t)<this.prepareValueToCompare(e)},Javascript.prototype.greaterTha},Javascript.prototype.lessThanEqual=function(t,e){return this.prepareValueToCompare(t)<=this.prepareValueToCompare(e)},Javascript.prototype.greaterThanEqual=function(t,e){return this.prepareValueToCompare(t)>=this.prepareValueToCompare(e)},Javascript}(_Expression__WEBPACK_IMPORTED_MODULE_0__.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"AdBlock",function(){return a});var r,o=n(4),i=n(225),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(r){var o=this;return i.a.getInstance().init().then(function(t){var e=t?"Detected":"Not Detected",n=o.equal(r.Value,e);return Promise.resolve(n)})},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ConversationView",function(){return a});var r,o=n(6),i=n(4),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=o.a.getCurrentConversationViewCount(),n=this.evaluateOperator(e,t.Value,t.Qualifier);return Promise.resolve(n)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"DeviceType",function(){return a});var r,i=n(29),o=n(4),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e,n=i.a.getDeviceType(),r=t.Qualifier||t.Options.Qualifier,o=t.Value||t.Options.Value;return e=this.evaluateOperator(n,o,r),Promise.resolve(e)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ExpirationFlittzStatus",function(){return u});var r,o=n(19),i=n(60),s=n(4),a=n(339),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.isPassedCriteria=function(t){var e=t.Value,n=!1;o.a.get(a.a.IntegrateFlittz)&&window.Flittz&&(n=e===i.FlittzStatusesMap[window.Flittz.FlittzUserStatus]);return Promise.resolve(n)},e}(s.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ExpirationUserState",function(){return a});var r,o=n(9),i=n(4),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=t,n=o.a.getUserState(),r=this.evaluateOperator(e.Value,n,e.Qualifier);return Promise.resolve(r)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"EzPay",function(){return a});var r,o=n(9),i=n(4),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){if(o.a.notLoggedIn())return Promise.resolve(!1);var e=o.a.getOwnedSubscription();return e?e.IsEZPay.toString()!==t.Value?Promise.resolve(!1):Promise.resolve(!0):Promise.resolve(!1)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Geo",function(){return p});var r,i=n(9),s=n(123),o=n(0),a=n.n(o),c=n(4),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.isPassedCriteria=function(t){var e=i.a.getUserZipCodes(),n=t.Qualifier,r=t.Value;t.EvaluatedObject&&"yes"==t.EvaluatedObject.toLowerCase()&&(r=r.concat(",",s.n));var o=this.evaluateOperator(e,r,n);return Promise.resolve(o)},e.prototype.in=function(t,e){Object(o.isNumber)(e)&&(e+=""),t=a.a.map(t,function(t){return t.replace(" ","")});var n=e.replace(" ","").split(",");return this.checkUserZipCodes(t,n)},e.prototype.checkUserZipCodes=function(t,e){for(var n=0;n<e.length;n++)for(var r=this.alignZip(e[n]),o=0;o<t.length;o++){var i=this.alignZip(t[o]);if(r.length===i.length){for(var s=!0,a=0;a<r.length;a++)if("*"!==r[a]&&r[a]!==i[a]){s=!1;break}if(s)return!0}}return!1},e.prototype.alignZip=function(t){return 7==(t=(3===t.length?t+"***":t).toLowerCase()).length&&" "==t[3]&&(t=t.slice(0,3)+t.slice(4)),t},e}(c.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"FlittzUserStatus",function(){return u});var r,i=n(19),s=n(60),o=n(4),a=n(339),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.isPassedCriteria=function(t){var e=!0,n=t.Qualifier||t.Options.Qualifier,r=t.Value||t.Options["Flittz Status"];if(i.a.get(a.a.IntegrateFlittz)&&window.Flittz){var o=window.Flittz.FlittzUserStatus;e=this.evaluateOperator(s.FlittzStatusesMap[o],r.toLocaleLowerCase(),n)}else e=!1;return Promise.resolve(e)},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"IncognitoMode",function(){return s});var r,o=n(4),a=n(241),c=n(74),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NAME="IncognitoMode",t}return i(t,e),t.prototype.check=function(i){var s=this,t=["detected","not detected"];return new Promise(function(e,n){var r="evalIncognitoMode";try{if(a.a.log(s.NAME,r,"Checking Incognito mode",i),!i)return void n(!1);var o=i.Value||i.Options.Value;if(!o)return a.a.error("unknown option value "+o),void n(!1);if((o=new String(o).toLowerCase())&&-1===t.indexOf(o))return a.a.error("unknown option value "+o),void n(!1);c.a.isIncognitoBrowsing().then(function(t){t===("detected"===o)?(s.logCriteria(!0,i),e(!0)):(s.logCriteria(!1,i),n(!1))}).catch(function(t){s.logCriteria(!1,i),n(!1)})}catch(t){a.a.error(s.NAME,r,t),n(!1)}})},t}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"MetaKeyword",function(){return s});var r,o=n(4),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isPassedCriteria=function(t){var e,n=t.Value,r=t.Qualifier,o=t.EvaluatedObject,i=this.getMetaTags(o);return e=this.evaluateOperator(i,n,r),Promise.resolve(e)},e.prototype.equal=function(t,e){return!!(t&&0<t.length)&&t.some(function(t){return t.content===e})},e.prototype.contains=function(t,e){return!!(t&&0<t.length)&&t.som})},e.prototype.getMetaTag},e}(o.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"MeterView",function(){return a});var r,o=n(6),i=n(4),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.isPassedCriteria=function(t){var e=o.a.getCurrentDynamicMeterViewCount(),n=this.evaluateOperator(e,t.Value,t.Qualifier);return Promise.resolve(n)},e}(i.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"Register",function(){return c});var r,o=n(19),i=n(339),s=n(4),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.isPassedCriteria=function(t){var e=!1;return o.a.get(i.a.IntegrateFlittz)&&window.Flittz&&"FlittzLoggedIn"===window.Flittz.FlittzUserStatus&&(e=!0),Promise.resolve(e)},e}(s.Expression)},function(t,e,n){"use strict";n.r(e),n.d(e,"ExpressionFactory",function(){return c});var r,o=n(51),i=n(178),s=n(241),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.creat},e.prototype.createInstance=function(e){try{return new i[e]}catch(t){s.a.error("No such criteria",e)}},e.prototype.getExtensionClass=function(t){if("Promise"===t)return"PromiseEx";var e=t.indexOf("Criteria");return 0<=e?t.substring(0,e):t},e}(o.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscriptionService",function(){return f});var s=n(9),r=n(39),o=n(123),i=n(333),a=n(241),c=n(80),u=n(45),p=n(90),l=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},f=function(){function t(){this.NAME="SubscriptionService",this.signinService=c.SignInService.getInstance(),this.initListeners()}return t.prototype.tryEntitlementFlow=function(){var e=this;window.SWG.push(function(t){(e.subscriptions=t).getEntitlements().then(function(t){e.entitlements=t,e.userHasEntitlements()&&e.processEntitlementFlow()})})},t.prototype.handleSwGButtonClick=function(e){var n=this;window.SWG.push(function(t){(n.subscriptions=t).getEntitlements().then(function(t){n.entitlements=t,n.userHasEntitlements()?n.processEntitlementFlow():n.processOfferFlow(e)})})},t.prototype.initListeners=function(){this.handleSignInSuccess()},t.prototype.handleSignInSuccess=function(){var t=this;i.a.subscribe(u.a.GoogleSignInSuccess,function(){a.a.log(t.NAME,"handleSignInSuccess"),t.handleUserAcceess("success google signin")})},t.prototype.userHasEntitlement},t.prototype.processEntitlementFlow=function(){var e=this;this.subscriptions.waitForSubscriptionLookup(this.getLoaderPromise()).then(function(t){t?e.processDefferedAccountFlow():e.processLogoutDefferedFlow()}),this.entitlements.ack()},t.prototype.getLoaderPromise=function(){var n=this;return new Promise(function(t){var e=n.signinService.isSignedIn();setTimeou},500)})},t.prototype.processDefferedAccountFlow=function(){var n=this;this.subscriptions.completeDeferredAccountCreation({entitlements:this.entitlements,consent:!0}).then(function(e){n.createOrUpdateUser().then(function(t){e.complete().then(function(){n.onSubscriptionProcessed(t,"linking a previously purchased subscription")})})})},t.prototype.processLogoutDefferedFlow=function(){var e=this;this.loginByGoogleModal().then(function(){return e.createOrUpdateUser().the})}).catch(function(){})},t.prototype.loginByGoogleModal=function(){var t=this;return a.a.log(this.NAME,"loginByGoogleModal"),this.signinService.loginIfNeed().then(function(){return t.signinService.waitAuthenticate().then(function(){return Promise.resolve()}).catch(function(){return Promise.reject()})}).catch(function(t){return a.a.warn("closed modal",t),Promise.reject()})},t.prototype.processOfferFlow=function(t){a.a.log(this.NAME,"processOfferFlow"),this.subscriptions.showOffers({isClosable:!0,skus:this.getSkus(t)}),this.processSubscribeFlow(t),this.processAlreadySubscriberFlow()},t.prototype.processSubscribeFlow=function(n){var r=this,o="processSubscribeFlow";a.a.log(this.NAME,o),this.subscriptions.setOnPaymentResponse(function(t){t.then(function(e){a.a.log(r.NAME,o,"bought subscription",e),r.processAddSubscription(e,n).then(function(t){e.complete().the})})})})},t.prototype.processAddSubscription=function(r,o){var i=this;return this.signinService.waitAuthenticate().then(function(){var t=r.purchaseData.data,e=i.getPurchasedOffer(t,o),n={IdToken:i.signinService.getUserToken(),CustomerRegistrationId:s.a.getCustomerRegistrationId(),OfferId:e.OfferId,OfferGroupId:e.OfferGroupId,PurchaseData:t};return i.addSubscription(n)}).catch(function(){return!1})},t.prototype.processAlreadySubscriberFlow=function(){var e=this;a.a.log(this.NAME,"processAlreadySubscriberFlow"),this.subscriptions.setOnLoginRequest(function(){e.subscriptions.reset();var t=e.signinService.isSignedIn();s.a.isLogin()?t?(r.a.setDefaultUserData(),r.a.showLoginForm()):e.signinService.loginIfNeed():r.a.showLoginForm()})},t.prototype.getSkus=function(t){var e=t.map(function(t){return t.SkuId});return e.length||(e=null),e},t.prototype.createOrUpdateUser=function(){var e=this,n="createOrUpdateUser",t={IdToken:this.signinService.getUserToken(),CustomerRegistrationId:s.a.getCustomerRegistrationId(),SkuId:this.getParsedPurchaseData().productId,PurchaseData:this.getPurchaseData()};return p.UserRepository.createOrUpdate(t).then(function(t){return a.a.log(e.NAME,n,t),r.a.onLoginSuccess(t)}).then(function(){return s.a.isSubscribed()}).catch(function(t){return a.a.error(e.NAME,n,t),!1})},t.prototype.addSubscription=function(t){var e=this,n="addSubscription";return p.UserRepository.addSubscription(t).then(function(t){return a.a.log(e.NAME,n,t),r.a.onLoginSuccess(t)}).then(function(){return s.a.isSubscribed()}).catch(function(t){return a.a.log(e.NAME,n,t),!1})},t.prototype.linkSubscriptions=function(e){var t=new Promis});return this.subscriptions.saveSubscription(function(){return t}).then(function(t){return t})},t.prototype.getPurchasedOffer=function(t,e){var n=JSON.parse(t);return e.find(function(t){return t.SkuId===n.productId})},t.prototype.getFirstGoogleEntitlement=function(){return l(this.entitlements.entitlements).filter(function(t){return"google"===t.source})[0]},t.prototype.getPurchaseData=function(){var t=this.getFirstGoogleEntitlement();return t?t.subscriptionToken:null},t.prototype.getParsedPurchaseDat},t.prototype.onSubscriptionProcesse},t.prototype.handleUserAcceess=function(t){a.a.log(this.NAME,"handleUserAcceess",t),i.a.dispatch(o.h.ApplicationReload,t)},t.prototype.handleFailedPurchase=function(){var t=s.a.getUserData();t.UserState=o.q.Subscribed,s.a.updateUserData(t),this.handleUserAcceess("get access by Failed Purchase")},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"SignInRenderer",function(){return f});var r,s=n(16),a=n(241),o=n(195),i=n(112),c=n(80),u=n(0),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),},f=function(n){function t(t){var e=n.call(this,".nxt-google-signin")||this;return e.NAME="SignInRendererClass",e.callbackName="CnnXt.SwG.SignInLoad",e.defaultSigninButtonSelector='[data-mg2-submit="login"], [data-nxt-button="LogIn"]',e.renderedButtonSelector=e.buttonSelector+" .abcRioButton",e.renderedButtonTextSelector=e.renderedButtonSelector+" .abcRioButtonContents",e.signinService=c.SignInService.getInstance(),e.initListeners(),e.loader=new o.SignInLoader(e.callbackName,t.GoogleClientId),e}return p(t,n),t.prototype.render=function(o,t){var i=this;return new Promise(function(n){var r=o.querySelector(i.buttonSelector);return r?i.needRender()?(a.a.log(i.NAME,"render","google sign in button was found",r),i.loader.load().then(function(){var t=i.getButtonId(r),e=i.getRenderOptions(o,r);i.signinService.render(t,e),i.setStylesForAsyncRenderedButton(o),a.a.log(i.NAME,"render",t,e),n()})):(s.a.remove(r),Promise.resolve()):Promise.resolve()})},t.prototype.initListeners=function(){var t=this;window[this.callbackName]=function(){return t.signinService.auth2Init()}},t.prototype.needRender=function(){return!this.signinService.isSignedIn()},t.prototype.getButtonId=function(t){var e=t.id;return e||(e=Date.now()+"_signin",t.id=e),e},t.prototype.getRenderOptions=function(t,e){var n=l(e.dataset,[]);return Object.assign({},n,this.getButtonHeightSetting(t))},t.prototype.getButtonHeightSetting=function(t){var e=s.a.queryElement(this.defaultSigninButtonSelector,t);if(e){var n=s.a.height(e);if(n)return{height:n}}},t.prototype.setStylesForAsyncRenderedButton=function(t){var e=s.a.queryElement(this.defaultSigninButtonSelector,t);if(e){var n="",r=this.getElementCssPropValue(e,"background-color");n=this.setElementCssPropValue(n,this.renderedButtonSelector,"border","2px solid "+r);var o=this.getElementCssPropValue(e,"font-weight");n=this.setElementCssPropValue(n,this.renderedButtonTextSelector,"font-weight",o);var i=document.createElement("style");i.type="text/css",i.appendChild(document.createTextNode(n)),t.appendChild(i)}},t.prototype.getElementCssPropValue=function(t,e){var n=null;return t&&(n=s.a.css(t,e)),n},t.prototype.setElementCssPropValue=function(t,e,n,r,o){return void 0===o&&(o=!0),Object(u.isEmpty)(r)||(t=t+(e+" {\n                ")+n+": "+r+(o?" !important":"")+";\n            }"),t},t}(i.DependencyRenderer)},function(t,e,n){"use strict";n.r(e),n.d(e,"SignInLoader",function(){return a});var r,o=n(111),i=n(28),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(r}return s(t,r),t.prototype.getResource=function(){var t=this;return Promise.all([Object(i.v)("meta",{name:"google-signin-client_id",content:this.googleClientId})]).then(function(){return Object(i.w)("script",{src:"https://apis.google.com/js/platform.js?onload="+t.callbackName,async:!0,defer:!0})})},t}(o.DependencyLoader)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscribeRenderer",function(){return p});var r,i=n(241),s=n(16),o=n(112),a=n(197),c=n(9),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(r){function t(t,e){var n=r.call(this,".nxt-google-subscribe")||this;return n.NAME="SubscribeRendererClass",n.swgClassName="swg-button-light",n.onClick=e,n.loader=new a.SubscribeLoader(t.DataMarkup),n}return u(t,r),t.prototype.render=function(e,r){var o=this;return new Promise(function(t){var n=Array.from(e.querySelectorAll(o.buttonSelector));return n&&n.length&&o.needRender()?(i.a.log(o.NAME,"renderSwGButton","google swg buttons was found",n),o.loader.load().then(function(){var e=o.mapOffers(r.offers);n.forEach(function(t){s.a.addClass(t,o.swgClassName),s.a.empty(t),s.a.on(t,"click",function(){return o.onClick(e)})}),t()})):Promise.resolve()})},t.prototype.mapOffers=function(t){return JSON.parse(t)},t.prototype.needRender=function(){return!c.a.isSubscribed()},t}(o.DependencyRenderer)},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscribeLoader",function(){return c});var r,o=n(111),i=n(122),s=n(28),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(n){function t(t){var e=n.call(this)||this;return e.NAME="SubscribeLoader",e.dataMarkupText=t,e.updateText(),e}return a(t,n),t.prototype.updateText=function(){var t=JSON.parse(this.dataMarkupText);t.headline="Article Headline",t.image="Newspaper logo",t.author.name="Austin American Statesman",t.datePublished=i.a.get().toISOString().slice(0,-5)+"+00:00",t.dateModified=i.a.get().toISOString().slice(0,-5)+"+00:00",this.dataMarkupText=JSON.stringify(t)},t.prototype.getResource=function(){return Promise.all([Object(s.v)("script",{type:"application/ld+json",text:this.dataMarkupText})]).then(function(){return Object(s.w)("script",{src:"https://news.google.com/swg/js/v1/swg.js",async:!0})})},t}(o.DependencyLoader)},function(t,e,n){"use strict";n.r(e),n.d(e,"ConversationExpirations",function(){return c});var i=n(0),r=n(19),o=n(339),s=n(241),a=n(50),c=function(){function t(t){this.expirations=[],this.criteria=a.Criteria.getInstance(),this.conversation=t,this.options={timeout:r.a.get(o.a.ConversationPromiseTimeout),sortField:"Order",conversationId:0,meterId:0},this.expirations=Object(i.sortBy)(t.ExpirationSettings,this.options.sortField)}return t.prototype.getFirstExecute=function(){return s.a.log("getFirstExecute","Check conversation expirations",this.expirations),this.calculateExpirations(this.expirations)},t.prototype.calculateExpiration=function(t){return t=Object(i.extend)(t,{conversation:this.conversation.Properties}),this.criteria.calculateExpression(t.TypeName,t,this.options).then(function(){return Promise.resolve(t)}).catch(function(t){return Promise.reject()})},t.prototype.calculateExpirations=function(r){var o=this;return new Promise(function(e,t){if(0!=r.length){var n=Object(i.first)(r);o.calculateExpiration(n).then(function(t){e(t)}).catch(function(){r.shift(),o.calculateExpirations(r).then(function(t){e(t)}).catch(function(){t()})})}else t()})},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"ExpirationTypes",function(){return r});var r={Time:"Time",Javascript:"Javascript",UserState:"UserState",FlittzUserStatus:"FlittzUserStatus"}},function(t,e,n){"use strict";n.r(e),n.d(e,"SubscribeLink",function(){return a});var r,o=n(34),i=n(9),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subStepName="SubscribeLink",t.isActive=!0,t}return s(t,e),t.prototype.isSho},t}(o.ActivateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"UpgradeLink",function(){return a});var r,o=n(34),i=n(9),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(e}return s(t,e),t.prototype.isShow=function(){return i.a.isSubscribedNotEntitled()},t}(o.ActivateSubStep)},function(t,e,n){"use strict";n.r(e),n.d(e,"ActivationExpiredSubscriptionSubStep",function(){return s});var r,o=n(83),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.ActivationSubStep)},function(t,e,n){"use strict";n.r(e);var r=n(40),o=n(125),i=function(){function t(){this.localStorage=new o.a}return t.prototype.getJanrainProfil},t.prototype.clearStorag},t}(),s=n(241),a=n(16),c=n(222),u=n(333),p=n(123),l=n(9);n.d(e,"JanrainAuthSystem",function(){return d});var f,h=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(n){function t(){var t=n.call(this)||this;if(t.innerEvent="Connext::Janrain.loaded",t.name="Janrain",t.id=p.a.Janrain,t.waitJanrainAnswer=3e3,t.janrain=window.janrain,t.janrainRepository=new i,s.a.log(t.constructor.name,"Use Janrain auth system"),t.janrain)if(t.janrain.events)s.a.log(t.constructor.name,"Janrain is already loaded, adding janrain callbacks"),t.setAuthEventsListeners();else{var e=function(){return!1};s.a.log(t.constructor.name,"Janrain is not loaded yet, creating callback to wait till it loads"),t.janrain.janrainCaptureWidgetOnLoad&&"function"==typeof t.janrain.janrainCaptureWidgetOnLoad&&(e=t.janrain.janrainCaptureWidgetOnLoad),t.janrain.janrainCaptureWidgetOnLoad=function(){return s.a.log(t.constructor.name,"CALLBACK - Janrain is loaded, adding janrain callbacks"),t.setAuthEventsListeners(),e()}}else t.authSystemNotFound();return t}return h(t,n),t.prototype.HasActiveSession=function(){return this.tryGetJanrainEvents()},t.prototype.setAuthEventsListeners=function(){var e=this;this.janrain.events.onCaptureLoginSuccess.addHandler(this.successJanrainLogin.bind(this)),this.janrain.events.onCaptureRegistrationSuccess.addHandler(this.registrationSuccess.bind(this)),this.janrain.events.onProviderLogoutComplete.addHandler(function(t){s.a.log(e.constructor.name,"Janrain event - logged out"),e.logout()}),this.janrain.events.onCaptureSessionFound.addHandler(this.userLogin.bind(this)),this.janrain.events.onCaptureSessionNotFound.addHandler(this.userNotLogin.bind(this,"Janrain session not found!")),this.janrain.events.onCaptureSessionEnded.addHandler(this.userNotLogin.bind(this,"Janrain session ended"))},t.prototype.tryGetJanrainEvents=function(){var r=this;return new Promise(function(e,t){var n;a.a.on(window,r.innerEven}),n=setTimeout(function(){s.a.warn(r.constructor.name,"Janrain loaded fallback. No one of session events not fired."),e(!1)},r.waitJanrainAnswer)})},t.prototype.fireEventJanrainWork=function(t){var e=new CustomEvent(this.innerEvent,{detail:{accessToken:t}});window.dispatchEvent(e)},t.prototype.getAuthProfile=function(){var t=this.janrainRepository.getJanrainProfile();return Promise.resolve(this.setAuthProfile(t))},t.prototype.setAuthProfile=function(t){return this.authProfile={UserId:t.uuid,IdType:c.e.Usual,Email:t.email,FullName:t.displayName,AuthSystemData:t},l.a.setUserData(this.createUserDataFrom(this.authProfile)),this.authProfile},t.prototype.showLoginForm=function(t){t&&t.preventDefault(),void 0!==window.janrain?window.janrain.capture.ui.modal.open():this.authSystemNotFound()},t.prototype.showRegisterForm=function(t){var e=window.janrain;t&&t.preventDefault(),void 0!==e?e.capture.ui.renderScreen("signIn"):this.authSystemNotFound()},t.prototype.clearStorage=function(){this.janrainRepository.clearStorage()},t.prototype.successJanrainLogin=function(t){s.a.log(this.constructor.name,"Janrain event - login success",t),this.setAuthProfile(this.janrainRepository.getJanrainProfile()),this.successLogin()},t.prototype.registrationSuccess=function(t){s.a.log(this.constructor.name,"Janrain event - register success",t),this.setAuthProfile(this.janrainRepository.getJanrainProfile()),this.successRegistration()},t.prototype.userNotLogin=function(t,e){s.a.log(this.constructor.name,e),this.accessToken=null,this.clearStorage(),this.fireEventJanrainWork()},t.prototype.userLogin=function(t){s.a.log(this.constructor.name,"Janrain session found!",t),this.accessToken=t.accessToken,this.fireEventJanrainWork(t.accessToken)},t.prototype.logout=function(){this.clearStorage();var t=window.janrain;void 0!==t&&t.capture.ui.endCaptureSession(),n.prototype.logout.call(this),u.a.dispatch(p.h.ApplicationReload,p.l.Logout)},t}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(334),i=n(339),s=n(0),r=n(2),a=function(){function t(){this.secretKey="dfsdfsdfsdf"}return t.prototype.expandKey=function(t){var e=o.a.get(i.a.AppOptions);if(!e)return"";var n=e.get(i.a.SiteCode),r=e.get(i.a.ConfigCode);return n&&r?[t,n.toUpperCase(),r.toUpperCase(),e.get(i.a.Environment).toUpperCase()].join("_"):""},t.prototype.getConstantKeys=function(e){var n=this,r=[],t=Object.keys(e);return Object(s.each)(t,function(t){e.hasOwnProperty(t)&&("object"==typeof e[t]?r=r.concat(n.getConstantKeys(e[t])):r.push(e[t]))}),r},t.prototype.removeExceptionsFromKeys=function(t){var n=[r.e.Cookie];return Object(s.reject)(t,function(e){return Object(s.some)(})})},t.prototype.filterConnextExistingStorageKeys=function(t,n){return Object(s.filter)(t,function(e){return Object(s.some)(n,function(t){return e.startsWith(t)||e.startsWith(r.e.Cookie+t)||e.startsWith(r.e.LSDublicateCookie+t)||e.startsWith(r.e.LSDublicateCookie+r.e.Cookie+t)})})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(28),i=function(){function t(t){void 0===t&&(t={}),this.CustomerRegistrationId=t.CustomerRegistrationId||null,this.UserId=t.UserId||null,this.MasterId=t.MasterId||null,this.IgmRegID=t.IgmRegID||null,this.IgmContent=t.IgmContent||null,this.IgmAuth=t.IgmAuth||null,this.NzwRegId=t.NzwRegId||null,this.NzwToken=t.NzwToken||null,this.NzwLid=t.NzwLid||null,this.Subscriptions=this.getSubscriptions(t),this.FullName=t.FullName||this.getFullName(),this.LoginDate=t.LoginDate instanceof Date?t.LoginDate:this.getDate(t.LoginDate),this.LastLogoutDate=t.LastLogoutDate instanceof Date?t.LastLogoutDate:this.getDate(t.LastLogoutDate),this.EmailPreferences=t.EmailPreferences||null,this.DigitalAccess=t.DigitalAccess||null,this.DisplayName=t.DisplayName||t.name||t.nickname||"",this.AuthSystem=t.AuthSystem||"",this.AuthSystemId=t.AuthSystemId||"",this.UserState=t.UserState||"",this.ZipCodes=t.ZipCodes||null,this.Email=t.Email||"",this.AuthProfile=t.AuthSystemData||null,this.CustomData=t.CustomData||null}return t.prototype.updateAuthProfileData=function(t){this.UserId=t.UserId,this.FullName=t.FullName?t.FullName:this.FullName,this.AuthProfile=t.AuthSystemData,this.Email=t.Email?t.Email:this.Email},t.prototype.getFullName=function(){if(this.Subscriptions){var t=this.Subscriptions[0];return t.FirstName+" "+t.LastName||"User"}return"User"},t.prototype.setAuthSystemInfo=function(t,e){this.AuthSystemId=t,this.AuthSystem=e},t.prototype.getSubscriptions=function(t){var e=[];if(t.Subscriptions)for(var n in t.Subscriptions)t.Subscriptions[n]&&(e=Object(r.flatten)([e,t.Subscriptions[n]]));return e.length?e:null},t.prototype.getDate=function(t){return t?(e=0===t.indexOf("/Date(")?Object(o.x)(t):new Date(t),isNaN(e.getTime())?null:e):null;var e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){t&&(this.TypeName=t.TypeName,this.NextConversationId=t.NextConversationId,this.ResetConversationViews=t.ResetConversationViews,this.EvaluatedObject=t.EvaluatedObject,this.Qualifier=t.Qualifier,this.Value=t.Value,this.Delimiter=t.Delimiter,this.ShareStartDate=t.ShareStartDate,this.Order=t.Order)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var }},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(28),o=n(42),i=n(16),s=function(){function t(t){this.url=this.getHref(t),this.returnUrl=this.getReturnUrl(),this.actionId=this.getActionId(t)}return t.prototype.getUrl=function(){if(this.url&&!~this.url.indexOf("returnUrl=")&&"#"!==this.url){this.addActionId();var t=this.getReturnUrl();t=Object(r.c)(t,"clearUserState","true"),this.url=Object(r.c)(this.url,"returnUrl",t)}return this.url},t.prototype.getHre},t.prototype.getActionId=function(t){var e="ConneXt_Action_Id-",n=i.a.parents(t,"[id^="+e+"]")[0],r=n?i.a.attr(n,"id"):null;return r?r.replace(e,""):null},t.prototype.addActionId=function(){this.actionId&&(this.url=Object(r.c)(this.url,"G2I_ActionId",this.actionId))},t.prototype.getReturnUrl=function(){var t=Object(r.m)(["returnUrl"]).returnUrl;return t||(t=o.a.getReturnUrl()),t||(t=window.location.href.split("?")[0]),t},t}()},function(t,e,n){"use strict";var r=function(t){t&&(this.Value=t.Value,this.GroupName=t.GroupName,this.Split=t.Split)},o=n(0),i=n.n(o);n.d(e,"a",function(){return s});var s=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.StartDate=new Date(t.StartDate),this.EndDate=new Date(t.EndDate),this.Metrics=t.Metrics,this.Groups=i.a.map(t.Groups,function(t){return new r(t)}),this.DefaultGroup=t.DefaultGroup)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(28),o=function(t){this.DisplayType=null,this.NotClosable=null,this.Css=null,this.Selector=null,this.Position=null,this.Location=null,this.HorizontalOffset=null,this.VerticalOffset=null,t&&(this.Html=t.Html,this.DisplayType=t.DisplayType,this.NotClosable=t.NotClosable,this.Css=t.Css,this.Selector=t.Selector||null,this.Position=t.Position||null,this.Location=t.Location||null,this.HorizontalOffset=t.HorizontalOffset||null,this.VerticalOffset=t.VerticalOffset||null,this.TransparentBackdrop=Object(r.t)(t.TransparentBackdrop)?t.TransparentBackdrop:null,this.InlineParagraph=t.InlineParagraph,this.IsConnextReRun=t.IsConnextReRun,this.IsSetCokieSignupSuccess=t.IsSetCokieSignupSuccess)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,o=n(16),i=n(116),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseSelector="data-nxt-link",t}return s(t,e),t.prototype.getRedirected=function(t){return o.a.find('[redirect="true"]',t)},t.prototype.isUpgrade=function(t){return"Upgrade"===o.a.attr(t,this.baseSelector)},t}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(115),o=function(){function t(){return r.a.applyProxy(this,"SessionStorage")}return t.prototype.isSupported=function(){var e;try{var t="isSupportedSessionStorageKey",n="isSupportedSessionStorageValue";sessionStorage.setItem(t,n),sessionStorage.getItem(t)===n&&(sessionStorage.removeItem(t),e=!0)}catch(t){e=!1}finally{return e}},t.prototype.ge},t.prototype.set=function(t,e){var n;try{sessionStorage.setItem(t,e),n=!this.checkIsNullOrUndefined(this.get(t))}catch(t){n=!1}finally{return n}},t.prototype.delete=function(t){var e;try{sessionStorage.removeItem(t),e=!0}catch(t){e=!1}finally{return e}},t.prototype.clear=function(){var e;try{sessionStorage.clear(),e=!0}catch(t){e=!1}finally{return e}},t.prototype.checkIsNullOrUndefined=function(t){return null==t},t}()},},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(123),o=r(0),i=new(function(}return t.prototype.loadMainFlow=function(){return r(283)("./MainFlow").then(function(t){return Promise.resolve(t.MainFlow)})},t.prototype.loadCampaign=function(){return r(310)("./Campaign").then(function(t){return Promise.resolve(t.Campaign)}).catch(function(t){return console.log(t),Promise.resolve(null)})},t.prototype.loadActionProvider=function(){var e="ActionModule";return r(311)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(t){return console.log(t),Promise.resolve(null)})},t.prototype.getLoadedClass=function(e){return Object(o.filter)(this.classe})},t.prototype.loadDebugPanelIfNeed=function(t,e){var n="DebugPanel";return!e&&t&&console.error(n+": Debug panel is turned off in configuration"),e&&t?Promise.resolve().then(r.bind(null,326)).then(function(t){return Promise.resolve(t[n])}).catch(function(t){return console.log(t),Promise.resolve(null)}):Promise.resolve(null)},t.prototype.loadAuthModule=function(t){switch(t){case n.a.MG2:return this.loadMg2("MG2AuthSystem");case n.a.Newzware:return this.loadNewzware("NewzwareAuthSystem");case n.a.Auth0:return this.loadAuth0("Auth0AuthSystem");case n.a.Janrain:return this.loadJanrain("JanrainAuthSystem");case n.a.Janrain_custom:return this.loadJanrain("JanrainCustomAuthSystem");case n.a.Auth0UniversalLogin:return this.loadAuth0UniversalLogin();default:return this.loadCustom("CustomAuthSystem")}},t.prototype.loadAuth0=function(e){return r(312)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadCustom=function(e){return r(313)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadJanrain=function(e){return r(314)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadMg2=function(e){return r(315)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadNewzware=function(e){return r(316)("./"+e).then(function(t){return Promise.resolve(t[e])}).catch(function(){return Promise.resolve(null)})},t.prototype.loadAuth0UniversalLogin=function(){return Promise.resolve().then(r.bind(null,327)).then(function(t){return Promise.resolve(t.Auth0UniversalLoginAuthSystem)}).catch(function(){return Promise.resolve(null)})},t.prototype.loadActivation=function(){var e="Activation";return r(317)("./"+e).then(function(t){return Promise.resolve(t[e])}).catc})},t.prototype.loadSwGIfNeed=function(t){return Object(o.isEmpty)(t)?Promise.resolve(null):r(318)("./SwGModule").the}).catc})},t}())},function(t,e){},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"e",function(){return r}),n.d(e,"f",function(){return d}),n.d(e,"g",function(){return g}),n.d(e,"a",function(){return y}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return u});var r,o,i=n(45),s="Default";(o=r||(r={}))[o.Usual=0]="Usual",o[o.Encrypted=1]="Encrypted";var a,c,u,p,l,f,h,d={Required:"required",Email:"email",Equals:"equals",password:"password",MaxLength:"maxLength",Pattern:"pattern",Password:"password",PhonePart:"phonepart"},g={Conversation:"Conversation",Meter:"Meter"},y=[i.a.Init,i.a.Run,i.a.Finish,i.a.MeterLevelSet,i.a.ConversationDetermined,i.a.ConversationExpired,i.a.AdblockFound,i.a.NotAuthorized,i.a.LoggedIn,i.a.ActionShow,i.a.ActionClosed,i.a.ButtonClick,i.a.NewsdayButtonClick,i.a.PaywallShown,i.a.FlittzPaywallShown,i.a.FlittzPaywallClosed,i.a.FlittzButtonClick,i.a.LoginShown,i.a.LoginClosed,i.a.LoginSuccess,i.a.LoginError,i.a.ActivationFormShown,i.a.ActivationLoginStepShown,i.a.ActivationLoginStepClosed,i.a.ActivationLinkStepShown,i.a.ActivationLinkStepClosed,i.a.ActivationLinkStepSubmitted,i.a.ActivationLinkSuccessStepShown,i.a.ActivationLinkSuccessStepClosed,i.a.ActivationLinkErrorStepShown,i.a.ActivationLinkErrorStepClosed,i.a.ActivationFormClosed,i.a.AccessTemplateShown,i.a.AccessTemplateClosed,i.a.AccessGranted,i.a.AccessDenied,i.a.LoadError,i.a.CriticalError,i.a.NewsletterArrival,i.a.ViewsAutoReset,i.a.ActionNotFound,i.a.ConversationNotFound,i.a.NewsletterArrival,i.a.NewsletterSignUp,i.a.NewsletterSignUpFails,i.a.ActivationAccountCreated,i.a.ChangedDeviceId,i.a.CustomTrackedEvent,i.a.NxtError];(c=a||(a={})).Trim="trim",c.Blur="blur",c.Fade="fade",c.FadeAndTrim="fadeTrim",(p=u||(u={})).AllowedCharacters="allowedCharacters",p.ContainerHeight="containerHeight",(f=l||(l={})).Step="data-nxt-template-step",f.SubStep="data-nxt-template-substep",(h||(h={})).StorageAvialable="nxt_avls"},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,o=n(224),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){this.TypeName=t.TypeName,this.Delay=t.Delay||0,this.RepeatableOnConversation=t.RepeatableOnConversation||0}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(125),o=n(333),i=n(45),s=n(241),a=n(2),c=function(){function t(){this.NAME="ADBlockDetector",this.localStorage=new r.a,this.storedValue=!1,this.useStoredValue=!1}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.init=function(t){var e=this;return void 0===t&&(t=!0),this.load().the}).catch(function(){return Promise.resolve(!0)})},t.prototype.load=function(){return this.firstLoad||(this.firstLoad=Promise.all([this.loadADElement(),this.loadADImg(),this.loadADScript()])),this.firstLoad},t.prototype.detectProcess=function(){var e=this;this.init(!1).always(function(t){t?(e.localStorage.set(a.f.AdblockLastDetect,!1),o.a.dispatch(i.a.AdblockFound,null)):setTimeout(function(){return e.useStoredValue=!0,e.removeResources(),e.firstLoad=null,e.load().the}).catch(function(){return Promise.resolve(!0)}).then(function(t){e.localStorage.set(a.f.AdblockLastDetect,t),t&&o.a.dispatch(i.a.AdblockFound,null)})},3e3)})},t.prototype.loadADElement=function(){s.a.log(this.NAME,"loadADElement","Load html element for checking AD Blocker");var t=document.createElement("div");return t.innerHTML="&nbsp;",t.className="adsbox adBanner",t.id="TestAdBlock",t.style.position="absolute",t.style.bottom="0px",t.style.zIndex="-1",document.body.appendChild(t),Promise.resolve()},t.prototype.loadADImg=function(){var r=this;return new Promise(function(t,e){s.a.log(r.NAME,"loadADImg","Load IMG for checking AD Blocker");var n=document.createElement("IMG");n.id="06db9294",n.style.width="100px",n.style.height="100px",n.style.top="-1000px",n.style.left="-1000px",n.style.position="absolute",n.style.display="block",(n=document.body.appendChild(n)).src="//paywall-ad-bucket.s3.amazonaws.com/ad_300_250.jpg",n.onloa},n.onerror=function(){e("")}})},t.prototype.loadADScript=function(){var r=this;return new Promise(function(t,e){s.a.log(r.NAME,"loadADScript","Load script for checking AD Blocker");var n=document.createElement("SCRIPT");n.id="295f89b1",n.type="text/javascript",n.onloa},n.onerro},document.getElementsByTagName("head")[0].appendChild(n),n.src="//cdn.czx5eyk0exbhwp43ya.biz/index.js"})},t.prototype.detectAdBlock=function(t){if(this.useStoredValue)return this.storedValue;var e=!1;if(0===document.getElementById("TestAdBlock").offsetHeight&&(e=!0),0===document.getElementById("06db9294").offsetHeight&&(e=!0),"adstestloaded"!==document.getElementById("295f89b1").className&&(e=!0),document.getElementById("stndz-style")&&(e=!0),s.a.log(this.NAME,"detectAdBlock","detected: ",e),t){var n=this.localStorage.get(a.f.AdblockLastDetect);s.a.log(this.NAME,"detectAdBlock","last detected: ",n),e=e||n}return this.storedValue=e},t.prototype.removeResources=function(){this.removeNodeById("TestAdBlock"),this.removeNodeById("06db9294"),this.removeNodeById("295f89b1")},t.prototype.removeNodeByI},t}()},function(t,e){},function(t,e,n){"use strict";n.r(e);var r=n(78);n.d(e,"Conversation",function(){return r.Conversation})},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e),n.d(e,"FlittzStatus",function(){return u});var r,i=n(19),s=n(339),a=n(60),o=n(4),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.isPassedCriteria=function(t){var e=!0,n=t.Qualifier||t.Options.Qualifier,r=t.Value||t.Options["Flittz Status"];if(i.a.get(s.a.IntegrateFlittz)&&window.Flittz){var o=window.Flittz.FlittzUserStatus;e=this.evaluateOperator(a.FlittzStatusesMap[o],r.toLocaleLowerCase(),n)}else e=!1;return Promise.resolve(e)},e}(o.Expression)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(9),a=n(19),c=n(278),o=n(356),u=n(2),p=n(339),i=new(function(){function t(){c.a.get(u.f.DisqusToken,{expandKey:!1,useRootDomain:!0}),c.a.get(u.f.DisqusDemos,{expandKey:!1,useRootDomain:!0})}return t.prototype.integrate=function(){var i=r.a.getUserData(),s={id:i.CustomerRegistrationId,username:i.DisplayName?i.DisplayName:i.Email.split("@")[0],email:i.Email};o.a.post("user/integrateDisqus",s).then(function(t){var e=s.username.split(" "),n=e[0],r="";2==e.length?r=e[1]:2<e.length&&(e.shift(),r=e.join(" "));var o={nameFirst:n,nameLast:r,age:0,gend:0,userId:i.CustomerRegistrationId};c.a.set(u.f.DisqusToken,t,{expandKey:!1,daysOfLife:a.a.get(p.a.UserAuthenticationTime),useRootDomain:!0}),c.a.set(u.f.DisqusDemos,o,{expandKey:!1,daysOfLife:a.a.get(p.a.UserAuthenticationTime),useRootDomain:!0})})},t.prototype.clearCookie=function(){c.a.delete(u.f.DisqusToken,{expandKey:!1,useRootDomain:!0}),c.a.delete(u.f.DisqusDemos,{expandKey:!1,useRootDomain:!0})},t}())},function(t,e,n){"use strict";var r=n(0),o=n(309),i=function(){function t(t){t&&(t.Free&&(this.Free=this.setConversation(t.Free)),t.Metered&&(this.Metered=this.setConversation(t.Metered)),t.Premium&&(this.Premium=this.setConversation(t.Premium)))}return t.prototype.setConversation=function(t){var e=[];return Object(r.isArray)(t)?(Object(r.each)(}),e):new o.a(t)},t}();n.d(e,"a",function(){return s});var s=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.Conversations=new i(t.Conversations))}},function(t,e,n){"use strict";n.r(e),n.d(e,"CustomAuthSystem",function(){return g});var r,o=n(19),i=n(339),s=n(338),a=n(241),c=n(222),u=n(333),p=n(40),l=n(123),f=n(0),h=n(205),d=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(r){function t(){var t=r.call(this)||this;return t.name="Custom",t.id=l.a.Custom,t.authSettings=o.a.get(i.a.AuthSettings),t.userData=new h.a,t}return d(t,r),t.prototype.HasActiveSession=function(){var e=this;return Object(f.isFunction)(this.authSettings.CalculateAuthStatusFunc)?this.authSettings.CalculateAuthStatusFunc().then(function(t){if(-1==Object(f.values)(l.q).indexOf(t))throw s.a.UNKNOWN_USER_STATE;return e.userState=t,Promise.resolve(t!=l.q.NotLoggedIn)}):Promise.reject()},t.prototype.getUserData=function(e){try{return Object(f.isFunction)(this.authSettings.GetAuthProfileFunc)&&Object(f.isFunction)(this.authSettings.CalculateAuthStatusFunc)?(this.userData.UserState=this.userState,Promise.resolve(this.userData)):Promise.resolve(this.getDefaultUserData())}catch(t){a.a.error(this.constructor.name,e,"incorect authsetting or some error in function")}},t.prototype.getAuthProfile=function(){var n=this;return Object(f.isFunction)(this.authSettings.GetAuthProfileFunc)?this.authSettings.GetAuthProfileFunc().then(function(t){var e={};return t.MasterId?(e.MasterId=t.MasterId,e.CustomerRegistrationId=t.MasterId):a.a.log(n.constructor.name,"authProfile.MasterId is undefined"),t.DisplayName?e.DisplayName=t.DisplayName:a.a.log(n.constructor.name,"authProfile.DisplayName is undefined"),0<Object.getOwnPropertyNames(e).length&&(n.userData=new h.a(e)),n.authProfile={UserId:e.MasterId,IdType:c.e.Usual,Email:null,FullName:e.DisplayName||"",AuthSystemData:t},Promise.resolve(n.authProfile)}):Promise.reject()},t.prototype.createUserDataFrom=function(t,e){var n=r.prototype.createUserDataFrom.call(this,t,e);return n.UserState=e.UserState,n},t.prototype.logout=function(){u.a.dispatch(l.h.ApplicationReload,l.l.Logout),r.prototype.logout.call(this)},t}(p.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"Activation",function(){return w});var r=n(102),o=n(105),i=n(132),s=n(123),a=n(210),c=n(9),u=n(42),p=n(334),l=n(339),f=n(333),h=n(45),d=n(215),g=n(28),y=n(16),v=n(0),m=n(21),_=n(17),b=n(208),C=n(124),w=function(){function t(){this.lastDeterminedConversation=null,this.initListeners(),p.a.set(l.a.ActivationInstance,this)}return t.prototype.initListeners=function(){var e=this;f.a.subscribe(h.a.ConversationDetermine})},t.prototype.getActivationStepsGroup=function(){return this.activationStepsGroup},t.prototype.passControlToAuthSystem=function(){this.activationStepsGroup.closeTemplate()},t.prototype.process=function(){if(c.a.isSubscribed())f.a.dispatch(s.h.ApplicationReload,s.l.ActivationSuccess);else{_.a.startActivationFlow(),this.activationStepsGroup=m.a.getActivationTemplate(new a.a(this.getSettings())),this.activationStepsGroup.showTemplate();var t=c.a.getSubscriptions();t&&t.length?this.processExpiredSubscriptionStep():c.a.notLoggedIn()?this.activationStepsGroup.processStep(new r.ActivationAuthenticateStep(this.activationStepsGroup)):this.processActivateStep(),this.processNxtLink()}},t.prototype.getSettings=function(){var t=u.a.getConfigurationSettings(),e=u.a.getActivationTemplate();return{Name:e.Name,Html:e.Html,IsActivationOnly:t.ActivationOnlyConfiguration,NotClosable:t.ActivationOnlyConfiguration}},t.prototype.processActivateStep=function(t){void 0===t&&(t=!1),this.activationStepsGroup.processStep(new o.ActivateStep(this.activationStepsGroup,t))},t.prototype.processExpiredSubscriptionStep=function(){var t=new C.ActivationExpiredSubscriptionStep(this.activationStepsGroup);t.getStepElement()?this.activationStepsGroup.processStep(t):this.processActivateStep(!0)},t.prototype.getActivationElemen},t.prototype.processNxtLink=function(){var r=this,o=new d.a,t=o.getRedirected(this.getActivationElement());Object(v.each)(t,function(t,e){var n=new b.a(t).getUrl();o.isUpgrade(t)&&(p.a.get(l.a.ProductCode)||i.a.getProductCode().the}));r.setProductCodeLink(t,n,void 0)})},t.prototype.setProductCodeLink=function(t,e,n){e=n?Object(g.c)(e,"product",n):e,y.a.attr(t,{href:e})},t}()},function(t,e,n){"use strict";n.r(e);var r=n(241),o=n(334),i=n(339),s=n(122),a=n(333),c=n(45),u=n(95),p=n(74),l=n(6),f=n(337),h=n(98),d=n(39),g=function(}return t.prototype.process=function(){},t.prototype.finishFlow=function(){},t.prototype.defineUser=function(t){var e=t.Settings.Site.RegistrationTypeId;return d.a.defineUserData(e).catc})},t.prototype.stopProcessing=function(){r.a.log("Connext stop"),a.a.dispatch(c.a.Finish,{Location:p.a.getLocationInfo()}),this.updateFlowInfo()},t.prototype.updateFlowInf},t}(),y=n(44),v=n(278),m=n(11),_=n(0),b=function(){try{var t=v.a.get("nxtact")||null,e=Object(_.isObject)(t)?t:JSON.parse(t);e&&(m.ActionModule.setTimeRepeatableActions(e),v.a.delete("nxtact"))}catch(t){r.a.error("MigrateFromNxtActCookieToStorage",t)}},C=n(2),w=n(42),S=n(277),A=n(26),I=n(30),O=function(){function t(){this.oldCookieKey="connext_viewstructure"}return t.prototype.apply=function(){var t,u=this;this.clearOldCookies();try{var e=v.a.get(C.f.ConnextViewStructure),p=JSON.parse(v.a.get(this.oldCookieKey)||null);if(e||!p||Object(_.isEmpty)(p))return!1;v.a.set(this.oldCookieKey,p,{expires:(t=s.a.get(),t.setMonth(t.getMonth()+1),t)});var l={};Object(_.each)(Object(_.keys)(p),function(t){var e,n,r,o=0<t.indexOf("_device"),i=o?t.split("_")[0]:t,s=u.findMeterLevelByConversationId(i);if(s){var a=o?C.a.DeviceArticleCount:C.a.ArticleCount,c="_"+a;(e={})[s]=((n={})[i]=((r={})[a]=p[t],r),n),e[c]=parseInt(p[t]),l=e}}),"NSDY"==A.AppOptions.get(i.a.SiteCode)?I.a.set(C.f.ConnextViewStructure,l):v.a.set(C.f.ConnextViewStructure,l,{expires:new Date(C.d)})}catch(t){return r.a.log(t.toString(),S.b.Error),!1}return!0},t.prototype.findMeterLevelByConversationId=function(n){var r=w.a.getCampaignData().Conversations;return r?Object.keys(r).reduc},[]).reduce(function(t,e){return e.Id===n&&e.MeterLevelId||t},0):0},t.prototype.clearOldCookies=function(){try{Object(_.each)(v.a.keys(),function(e){[C.f.ViewedArticles,"sub_Connext_ViewedArticles"].some(function(t){return e.startsWith(t)})&&(v.a.delete(e),v.a.delete(e,{domain:(window.location.host.match(/\..+\..+$/g)||[])[0]}))})}catch(t){r.a.log(t.toString(),S.b.Error)}},t}(),E=new(function(){function t(){}return t.prototype.migrate=function(){(new O).apply(),new b},t}());n.d(e,"MainFlow",function(){return x});var P,D=(P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),x=function(n}return D(t,n),t.prototype.process=function(){var e=this;E.migrate(),r.a.log("MainFlow","processUsualConfiguration","Processing usual configuration",arguments),o.a.set(i.a.IsProcessed,!0),o.a.set(i.a.StartProcessingTime,s.a.get()),this.canClientUsePlugin().the})},t.prototype.finishFlow=function(){l.a.saveViewInformation();var t=o.a.get(i.a.DebugInstance);t&&t.showIfNeed(),this.updateFlowInfo()},t.prototype.canClientUsePlugin=function(){var t=this;return l.a.setViewData().the})},t.prototype.continueProcessing=function(){var e=this,n="continueProcessing";return r.a.log("MainFlow",n,"Continue processing ConneXt...",this.configuration),a.a.dispatch(c.a.DynamicMeterFound,this.configuration.DynamicMeter.Name),new u.Meter(this.configuration).process().the}).catch(function(t){return r.a.log("MainFlow",n,"Meter not found",t),e.finishProcessing(),Promise.resolve(!1)})},t.prototype.finishProcessing=function(){a.a.dispatch(c.a.Finish,{Location:p.a.getLocationInfo()}),this.finishFlow()},t}(g)},function(t,e,n){"use strict";n.r(e);var r=n(40),o=n(222),i=n(28),s=n(339),a=n(333),c=n(123),u=n(19),p=n(21),l=n(205),f=n(2),h=n(356),d=n(278),g=n(33),y=function(){function t(){}return t.prototype.getUserByEmailAndPassword=function(t,e){return h.a.post("user",t,e).the})},t.prototype.getIgmRegID=function(){var t=this.getGetterOptions();return d.a.get(f.b.IgmRegID,t)},t.prototype.setIgmRegID=function(t,e){if(null!=t&&null!=t){var n=this.getSetterOptions(e);d.a.set(f.b.IgmRegID,t,n)}},t.prototype.deleteIgmRegID=function(){d.a.delete(f.b.IgmRegID,this.getGetterOptions())},t.prototype.getIgmContent=function(){var t=this.getGetterOptions();return d.a.get(f.b.IgmContent,t)},t.prototype.setIgmContent=function(t,e){if(null!=t&&null!=t){var n=this.getSetterOptions(e);d.a.set(f.b.IgmContent,t,n)}},t.prototype.deleteIgmContent=function(){d.a.delete(f.b.IgmContent,this.getGetterOptions())},t.prototype.getIgmAuth=function(){var t=this.getGetterOptions();return d.a.get(f.b.IgmAuth,t)},t.prototype.setIgmAuth=function(t,e){if(null!=t&&null!=t){var n=this.getSetterOptions(e);d.a.set(f.b.IgmAuth,t,n)}},t.prototype.deleteIgmAuth=function(){d.a.delete(f.b.IgmAuth,this.getGetterOptions())},t.prototype.clearStorage=function(){this.deleteIgmRegID(),this.deleteIgmContent(),this.deleteIgmAuth()},t.prototype.sendForgotPasswordReques},t.prototype.getSetterOptions=function(t){return{daysOfLife:t,expandKey:!1,useRootDomain:!0,converter:{write:function(t,e){return t}}}},t.prototype.getGetterOptions=function(){return{converter:{read:function(t,e){return t}},expandKey:!1,useRootDomain:!0}},t}(),v=n(20),m=n(17),_=function(t,e){this.Email=t,this.Password=e};n.d(e,"MG2AuthSystem",function(){return w});var b,C=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(r){function t(){var t=r.call(this)||this;return t.name="MG2",t.id=c.a.MG2,t.mg2AuthRepository=new y,t}return C(t,r),t.prototype.getRepository=function(){return this.mg2AuthRepository},t.prototype.setAuthEventsListeners=function(){},t.prototype.afterSuccessLogin=function(){m.a.getRegistrationProcess()||r.prototype.afterSuccessLogin.call(this)},t.prototype.afterSuccessRegistration=function(){m.a.getRegistrationProcess()||r.prototype.afterSuccessRegistration.call(this)},t.prototype.showRegisterForm=function(t){t&&t.preventDefault(),p.a.getRegistrationTemplate().process()},t.prototype.showLoginForm=function(t){t&&t.preventDefault(),p.a.getLoginTemplate().process()},t.prototype.showResetPasswordForm=function(t){t&&t.preventDefault(),p.a.getResetPasswordTemplate().process()},t.prototype.HasActiveSession=function(){var n=this;return new Promise(function(t,e){n.getRepository().getIgmRegID()?t(!0):t(!1)})},t.prototype.getAuthProfile=function(){var t=this.getRepository().getIgmRegID();return this.authProfile={UserId:t,IdType:o.e.Encrypted,AuthSystemData:null,FullName:null,Email:null},Promise.resolve(this.authProfile)},t.prototype.login=function(e,t,n){var r=this,o=new _(e,t);return this.mg2AuthRepository.getUserByEmailAndPassword(o,n).then(function(t){return r.onLoginSuccess(t).the})}).catch(function(t){return Promise.reject(t)})},t.prototype.onLoginSuccess=function(t){this.mapAuthData(t),this.mapAuthCookies(t),this.setAuthProfile(this.getRepository().getIgmRegID());var e=this.createUserDataFrom(this.authProfile,t);return e.FullName||(e.FullName=e.getFullName()),v.a.setActualDataOnDay(),Promise.resolve(e)},t.prototype.clearStorag},t.prototype.mapAuthData=function(t){t.IgmRegID=t.IgmRegID&&Object(i.f)(t.IgmRegID)||this.getRepository().getIgmRegID()||null,t.IgmContent=t.IgmContent&&Object(i.f)(t.IgmContent)||this.getRepository().getIgmContent()||null,t.IgmAuth=t.IgmAuth&&Object(i.f)(t.IgmAuth)||this.getRepository().getIgmAuth()||null},t.prototype.mapAuthCookies=function(t){this.getRepository().setIgmRegID(t.IgmRegID,u.a.get(s.a.UserAuthenticationTime)),this.getRepository().setIgmContent(t.IgmContent,u.a.get(s.a.UserAuthenticationTime)),this.getRepository().setIgmAuth(t.IgmAuth,u.a.get(s.a.UserIgmAuthTime))},t.prototype.logout=function(){this.clearStorage(),r.prototype.logout.call(this),a.a.dispatch(c.h.ApplicationReload,c.l.Logout)},t.prototype.sendForgotPasswordReques},t.prototype.useMg2LoginTemplate=function(){return!0},t.prototype.hasPartialMg2AuthCookie},t.prototype.syncUse},t.prototype.createUserDataFrom=function(t,e){var n=r.prototype.createUserDataFrom.call(this,t,e);return this.mapAuthData(n),n},t.prototype.setAuthProfile=function(t){this.authProfile={UserId:t,IdType:o.e.Encrypted,AuthSystemData:null,FullName:null,Email:null}},t}(r.a)},function(t,e,n){"use strict";n.r(e);var r=n(40),o=n(2),i=n(356),s=n(278),a=n(22),c=function(){function t(){}return t.prototype.getUserByEmailAndPassword=function(t,e){return i.a.post("user",t,e).then(function(t){return a.a.decrypt(t)})},t.prototype.checkDigitalAccess=function(t,e,n){return i.a.get("user/DigitalAccess?loginName="+encodeURIComponent(t)+"&hash="+encodeURIComponent(e),null,n).the})},t.prototype.getNzwRegID=function(){var t=this.getGetterOptions();return s.a.get(o.b.NzwRegId,t)},t.prototype.setNzwRegID=function(t,e){var n=this.getSetterOptions(e.daysOfLife);s.a.set(o.b.NzwRegId,t,n)},t.prototype.deleteNzwRegID=function(){s.a.delete(o.b.NzwRegId,this.getGetterOptions())},t.prototype.getNzwToken=function(){var t=this.getGetterOptions();return s.a.get(o.b.NzwToken,t)},t.prototype.setNzwToken=function(t,e){var n=this.getSetterOptions(e.daysOfLife);s.a.set(o.b.NzwToken,t,n)},t.prototype.deleteNzwToken=function(){s.a.delete(o.b.NzwToken,this.getGetterOptions())},t.prototype.getNzwLid=function(){var t=this.getGetterOptions();return s.a.get(o.b.NzwLid,t)},t.prototype.setNzwLid=function(t,e){var n=this.getSetterOptions(e.daysOfLife);s.a.set(o.b.NzwLid,t,n)},t.prototype.deleteNzwLid=function(){s.a.delete(o.b.NzwLid,this.getGetterOptions())},t.prototype.clearStorag},t.prototype.setCookieStorage=function(t,e){t.NzwRegId&&this.setNzwRegID(t.NzwRegId,e),this.setNzwToken(t.NzwToken,e),this.setNzwLid(t.NzwLid,e)},t.prototype.getSetterOptions=function(t){return{daysOfLife:t,expandKey:!1,useRootDomain:!0,converter:{write:function(t,e){return t}}}},t.prototype.getGetterOptions=function(){return{converter:{rea}},expandKey:!1,useRootDomain:!0}},t}(),u=n(28),p=n(348),l=n(241),f=n(222),h=n(16),d=n(355),g=n(0),y=function(){function t(t,e){this.element=t;this.alertElement=h.a.create('<div class="alert alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><span></span></div>'),this.settings=Object(g.extend)({type:"success",useTitles:!1},e),this.titles={success:"Success!",error:"Error!",info:"Info!",warning:"Warning!"}}return t.prototype.setText=function(t){var e=document.createElement("span");e.textContent=t,h.a.append(this.alertElement,e),h.a.append(this.element,this.alertElement)},t.prototype.setType=function(t){var e="error"==t?"danger":t;h.a.addClass(this.alertElement,"alert-"+e)},t.prototype.callType=function(t,e){return this.setText(e),this.setType(t),this.show(),this},t.prototype.error=function(t){return this.callType("error",t)},t.prototype.success=function(t){return this.callType("success",t)},t.prototype.info=function(t){return this.callType("info",t)},t.prototype.warnin},t.prototype.hid},t.prototype.show=function(){return h.a.removeClass(this.alertElement,"fade"),h.a.removeClass(this.alertElement,"hide"),this.hide(),this},t.prototype.autohide=function(t){var e=this;setTimeou},t||5e3)},t.prototype.slideDow},t.prototype.slideUp=function(){var t=this;this.once(10,function(){t.alertElement.remove(),t.alertElement.style.opacity="0"})},t.prototype.once=function(t,e){var n=0,r=window.setInterval(function(){t<=++n&&(e(),window.clearInterval(r))},400)},t}(),v=n(333),m=n(45),_=n(339),b=n(123),C=n(9),w=n(42),S=n(175),A=n(19),I=n(350),O=n(205),E=n(340),P=n(20);n.d(e,"NewzwareAuthSystem",function(){return B});var D,x=(D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),B=function(e){function t(){var t=e.call(this)||this;return t.name="Newzware",t.id=b.a.Newzware,t.loginButtonSelector="[data-mg2-submit=login]:visible, [data-mg2-submit=LogIn]:visible",t.newzwareRepository=new c,t}return x(t,e),t.prototype.HasActiveSession=function(){var n=this;return new Promise(function(t,e){n.newzwareRepository.getNzwLid()&&n.newzwareRepository.getNzwToken()||n.hasNeededUrlParams()?t(!0):t(!1)})},t.prototype.login=function(t,e,n){var r=this,o=new I.a(t,e,null);return this.newzwareRepository.getUserByEmailAndPassword(o,n).then(function(t){return t.AuthSystem=r.name,t.AuthSystemId=r.id,t.UserId=t.NzwLid,t.FullName=r.getFullName(t),r.mapAuthCookies(t),P.a.setActualDataOnDay(),r.loginTemplate&&r.loginTemplate.hide(),Promise.resolve(t)}).catc})},t.prototype.getUserData=function(t){var n=this,e=this.hasNeededUrlParams()?Object(u.p)("hash"):this.newzwareRepository.getNzwToken();return t.UserId&&e?this.newzwareRepository.checkDigitalAccess(t.UserId,e,{location:p.a.User}).then(function(t){var e=C.a.getCachedUserData()||{};return e.DigitalAccess=t,n.hasNeededUrlParams()&&(n.mapAuthCookies(e),n.removeUrlParams()),P.a.setActualDataOnDay(),Promise.resolve(new O.a(e))}).catch(function(t){return n.hasNeededUrlParams()&&n.removeUrlParams(),l.a.log(n.name,"getDefaultUserData",t),Promise.resolve(n.getDefaultUserData(!0))}):Promise.resolve(this.getDefaultUserData())},t.prototype.getAuthProfile=function(){var t=this.hasNeededUrlParams()?Object(u.p)("login_id"):this.newzwareRepository.getNzwLid(),e=C.a.getCachedUserData()||{};return this.authProfile={UserId:e.UserId||t,Email:e.Email||t,IdType:f.e.Usual,AuthSystemData:null,FullName:e.FullName||t||"User"},Promise.resolve(this.authProfile)},t.prototype.showLoginForm=function(t){var s=this;t&&t.preventDefault(),this.showLoginTemplate();var a=h.a.find(this.loginButtonSelector,h.a.queryElement("body"));h.a.on(a,"click",function(t){t.preventDefault();var n=new d.a(a),e=Object(g.first)(h.a.find("[data-mg2-alert=login]:visible",h.a.queryElement("body"))),r=new y(e);n.on();var o=h.a.val(h.a.find("[data-mg2-alert=login] [data-mg2-input=Email]:visible",h.a.queryElement("body"))),i=h.a.val(h.a.find("[data-mg2-alert=login] [data-mg2-input=Password]:visible",h.a.queryElement("body")));return o?i?void s.login(o,i,{location:p.a.User}).the}).catch(function(t){s.failLogin(t);var e="GenericAuthFailed";t&&t.ErrorMessage&&(e=t.ErrorMessage,"UserName or Password invalid."===t.ErrorMessage&&(e="UserName or Password invalid. Please try again or click on the Forgot/Reset Password link to update your password, or create an account if you have never registered an email address with us.")),r.info(e),n.off()}):(r.info("Please enter password"),void n.off()):(r.info("Please enter email"),void n.off())})},t.prototype.showLoginTemplate=function(){var e=w.a.getConfiguration();if(e.Settings.LoginTemplate)if(this.loginTemplate=S.a.getInstance().createTemplate({Html:e.Settings.LoginTemplate.Html}),this.loginTemplate){this.loginTemplate.beforeShow(),this.loginTemplate.show();var t=this.loginTemplate.getElement();this.processLinks(t),h.a.on(t,b.h.TemplateShown,function(t){v.a.dispatch(m.a.LoginShown,e.Settings.LoginTemplate.Name)}),h.a.on(t,b.h.TemplateClosed,function(t){var e=t&&t.detail?t.detail.closeEvent:"";v.a.dispatch(m.a.LoginClosed,e)}),this.loginTemplate.afterShow()}else l.a.warn("showLoginTemplate","No Html in Template");else l.a.warn("LOGIN Template is not marked")},t.prototype.hasNeededUrlParams=function(){return Object(u.s)("login_id")&&Object(u.s)("hash")},t.prototype.removeUrlParams=function(){Object(u.z)(["login_id","hash","site","encrypted","nwmodule","nwpage","rate_id"])},t.prototype.getFullName=function(t){var e="User",n=t.CustomData?t.CustomData.newzware:null;return n&&n.fname&&n.lname?e=n.fname+" "+n.lname:n&&n["first-name"]&&n["last-name"]?e=n["first-name"]+" "+n["last-name"]:t.Email&&(e=t.Email),e},t.prototype.clearStorag},t.prototype.setCookieStorag},t.prototype.mapAuthCookies=function(t){t.NzwRegId=t.NzwRegId||this.newzwareRepository.getNzwRegID()||null,t.NzwToken=t.NzwToken||this.newzwareRepository.getNzwToken()||null,t.NzwLid=t.NzwLid||this.newzwareRepository.getNzwLid()||null;var e=new E.a;e.daysOfLife=A.a.get(_.a.UserAuthenticationTime),this.setCookieStorage(t,e)},t.prototype.logout=function(){this.clearStorage(),e.prototype.logout.call(this),v.a.dispatch(b.h.ApplicationReload,b.l.Logout)},t.prototype.processLink=function(t){var e=h.a.attr(t,"href")||"";h.a.attr(t,{href:this.addRpageAndCpageParamsToLink(e)})},t.prototype.addRpageAndCpageParamsToLink=function(t){var e=window.location.href.split("?")[0];return~t.indexOf("rpage=")||(t=Object(u.c)(t,"rpage",encodeURIComponent(e))),~t.indexOf("cpage=")||(t=Object(u.c)(t,"cpage",encodeURIComponent(e))),t},t}(r.a)},function(t,e,n){"use strict";var i=n(277),r=Object.freeze({debug:!1,level:i.a.Low,type:i.b.Log}),s=n(0),o=n(125),a=n(333),c=n(45),u=n(42);n.d(e,"a",function(){return f});var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},f=new(function(){function t(){this.logHistory=[],this.logOptionsKey="__appLogsOptions__",this.logOptions=p({},r),this.storage=new o.a;var t=this.storage.get(this.logOptionsKey);t&&(this.logOptions=p(p({},this.logOptions),t)),this.storage.set(this.logOptionsKey,this.logOptions)}return t.prototype.setOptions=function(t){this.logOptions=Object(s.extendOwn)(this.logOptions,t),this.storage.set(this.logOptionsKey,this.logOptions)},t.prototype.getOption},t.prototype.getLogHistor},t.prototype.message=function(t,e,n){var r;void 0===e&&(e=i.b.Log),void 0===n&&(n=i.a.Low),t=Object(s.isArray)(t)?t:[t];var o=">>>> "+e.toUpperCase()+" <<<< |";this.logHistory.push(o+" "+t),this.logOptions.debug&&u.a.getDebugAllowedSetting()&&n>=this.logOptions.level&&(r=window.console)[e].apply(r,l([o],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.message(t,i.b.Log,i.a.Low)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.message(t,i.b.Warn,i.a.Medium)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.a.dispatch(c.a.GenericError,t),a.a.dispatch(c.a.NxtError,t),this.message(t,i.b.Error,i.a.High)},t}())},function(t,e,n){"use strict";var o,r,i,s=n(333),a=n(45),c=n(53),u=n(19),p=n(241),l=n(122),f=n(334),h=n(339),d=n(28),g=n(354),y=n(2),v=n(30),m=n(127);r=o||(o={}),i=new m.a({expandKey:!1,isSecureValue:!1}),r.setDebugTraceExpirationDat},r.getDebugTraceExpirationDat},r.removeDebugTraceExpirationDat};var _=n(29);n.d(e,"a",function(){return C});var },C=new(function(}return t.prototype.init=function(){this.initEventListeners()},t.prototype.initEventListeners=function(){this.listenFinish(),this.listenGenericAppError(),this.listenApplicationCrash()},t.prototype.listenFinish=function(){var t=this;s.a.subscribe(a.a.Finish,function(){t.sendTrace(c.a.Debug,p.a.getLogHistory())},!0)},t.prototype.listenGenericAppError=function(){var n=this;s.a.subscribe(a.a.GenericError,function(t){n.cleanupDebugExpirationDate();var e=t&&t.EventData?t.EventData:t;n.sendTrace(c.a.Error,["object"==typeof e?JSON.stringify(e):""+e])},!0)},t.prototype.listenApplicationCrash=function(){var n=this;s.a.subscribe(a.a.LoadError,function(t){n.cleanupDebugExpirationDate();var e=t&&t.EventData?t.EventData:t;n.sendTrace(c.a.Fatal,b(["object"==typeof e?JSON.stringify(e):""+e],p.a.getLogHistory()))},!0)},t.prototype.sendTrace=function(t,e){this.shouldTrace(t.Level)&&g.a.getInstance().trace(t.Name,this.createSesionMeta(),e)},t.prototype.createSesionMeta=function(){return{ssid:u.a.getSessionId(),ct:""+l.a.get(),br:_.a.getBrowser(),dt:_.a.getDeviceType(),os:_.a.getOS(),uid:f.a.get(h.a.DeviceId),v:Object(d.r)(),sc:u.a.getSiteCode(),cc:u.a.getConfigCode(),pd:u.a.getPublishDate()}},t.prototype.shouldTrace=function(t){if(t>=u.a.getTraceLevel()){if(t===c.a.Debug.Level){var e=u.a.getDebugTraceExpirationSettings(),n=l.a.get();if(e.ConfigCode&&e.ConfigCode.toLowerCase()!==u.a.getConfigCode().toLowerCase())return!1;if(e.Duration){var r=o.getDebugTraceExpirationDate();if(r){if(n>new Date(r))return!1}else o.setDebugTraceExpirationDate(Date.now()+6e4*e.Duration)}if(e.StopAfter&&n>new Date(e.StopAfter))return!1}return!0}return!1},t.prototype.cleanupDebugExpirationDate=function(){u.a.getTraceLevel()>c.a.Debug.Level&&o.removeDebugTraceExpirationDate()},t}())},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e);var o=n(9),i=n(123),s=n(19),r=n(40),a=n(339),c=n(338),u=n(333),p=n(45),l=n(241),f=n(222),h=function(){},d=n(0),g=n(20);n.d(e,"Auth0AuthSystem",function(){return m});var y,v=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(r){function t(){var t=r.call(this)||this;t.name="Auth0",t.id=i.a.Auth0,t.isSubmitSignup=!1,t.auth0Repository=new h;var e=s.a.get(a.a.AuthSettings);if(!e||!e.auth0Lock)throw t.authSystemNotFound(),c.a.NO_AUTH0_LOCK;return t.auth0Lock=e.auth0Lock,t}return v(t,r),t.prototype.getAuthProfile=function(){var e=this;return this.getAuth0Profile().the})},t.prototype.showLoginFor},t.prototype.showRegisterForm=function(t){var e=this;t&&t.preventDefault(),this.auth0Lock.on("signup ready",function(){e.isSubmitSignup=!0,u.a.dispatch(p.a.RegistrationShown,null)}),this.auth0Lock.show(),this.auth0Lock.on("hide",function(){u.a.dispatch(p.a.RegistrationClosed,null)})},t.prototype.login=function(t,e,n){return Promise.resolve()},t.prototype.setAuthEventsListeners=function(){var e=this;this.auth0Lock.on("authenticated",function(t){e.setAuthProfile(t.idTokenPayload),o.a.setUserData(e.createUserDataFrom(e.authProfile)),e.isSubmitSignup?e.successRegistration():e.successLogin()}),this.auth0Lock.on("signin submit",function(){e.isSubmitSignup=!1}),this.auth0Lock.on("signup submit",function(){e.isSubmitSignup=!0})},t.prototype.HasActiveSession=function(){var r=this;return new Promise(function(n,t){Object(d.isFunction)(r.auth0Lock.checkSession)?r.auth0Lock.checkSession({scope:"openid profile email",redirect_uri:window.location.origin},function(t,e){!t&&e&&e.accessToken?(r.accessToken=e.accessToken,n(!0)):(l.a.log(r.constructor.name,"Could not get a new token "+t.error+":"+t.error_description+"."),o.a.clearStorage(),n(!1))}):t("check Auth0 setiings: allowed domain name")})},t.prototype.logoutMultipleDevices=function(){var t=o.a.getUserData();return o.a.getUserState()==i.q.NotLoggedIn||!t.LastLogoutDate||t.LoginDate&&t.LoginDate>=t.LastLogoutDate?Promise.resolve():this.logout(!0)},t.prototype.logout=function(t){var e=this;void 0===t&&(t=!1);var n={customRegistrationId:o.a.getUserId()};return(t?Promise.resolve():g.a.logout(n)).then(function(){e.deleteLoginData(),e.auth0Lock.logout(),u.a.dispatch(i.h.ApplicationReload,i.l.Logout),r.prototype.logout.call(e)})},t.prototype.setAuthProfile=function(t){this.authProfile={UserId:t.sub,IdType:f.e.Usual,Email:t.email,FullName:t.name||t.nickname||"",AuthSystemData:t,isPageLoadUpdate:!0}},t.prototype.getAuth0Profile=function(){var e=this;return new Promise(function(n,t){e.auth0Lock.getUserInfo(e.accessToken,function(t,e){n(!t&&e?e:{})})})},t}(r.a)},function(t,e,n){"use strict";n.r(e);var r=n(203),o=n(278),i=n(125),s=function(){function t(){this.userIdCookieName="nxt_uuid",this.storageProfileName="customJanrain",this.localStorage=new i.a}return t.prototype.getUserId=function(){var t=this.getGetterOptions();return o.a.get(this.userIdCookieName,t)},t.prototype.setUserId=function(t,e){var n=this.getSetterOptions(e);o.a.set(this.userIdCookieName,t,n)},t.prototype.deleteUserI},t.prototype.getSetterOptions=function(t){return{daysOfLife:t,expandKey:!1,useRootDomain:!0}},t.prototype.getGetterOptions=function(){return{expandKey:!1,useRootDomain:!0}},t.prototype.getAuthProfile=function(){return this.localStorage.get(this.storageProfileName)},t.prototype.setAuthProfile=function(t){this.localStorage.set(this.storageProfileName,t)},t.prototype.deleteAuthProfile=function(){this.localStorage.delete(this.storageProfileName)},t.prototype.clearStorage=function(){this.deleteAuthProfile(),this.deleteUserId()},t}(),a=n(339),c=n(241),u=n(19),p=n(123);n.d(e,"JanrainCustomAuthSystem",function(){return h});var l,f=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(n){function t(){var t=n.call(this)||this;return t.name="Janrain_custom",t.id=p.a.Janrain_custom,t.janrainCustomRepository=new s,t}return f(t,n),t.prototype.HasActiveSession=function(){return this.janrainCustomRepository.getUserId()?Promise.resolve(!0):this.tryGetJanrainEvents()},t.prototype.setCustomUserId=function(t){this.janrainCustomRepository.setUserId(t,u.a.get(a.a.UserAuthenticationTime))},t.prototype.getAuthProfile=function(){var e=this;if(this.janrainCustomRepository.getUserId()){var t=this.janrainCustomRepository.getAuthProfile();return Promise.resolve(this.setAuthProfile(t))}return n.prototype.getAuthProfile.call(this).then(function(t){return e.setCustomUserId(t.UserId),e.saveCustomProfile(t),Promise.resolve(t)})},t.prototype.saveCustomProfile=function(t){this.janrainCustomRepository.setAuthProfile(t)},t.prototype.userNotLogin=function(t,e){c.a.log(this.constructor.name,e),this.janrainCustomRepository.getUserId()||(this.accessToken=null,this.clearStorage(),this.fireEventJanrainWork())},t.prototype.clearStorage=function(){this.janrainCustomRepository.clearStorage()},t}(r.JanrainAuthSystem)},function(t,$r,to){"use strict";(function(t,e,s){to.d($r,"a",function(){return qr});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)}var _=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)function C(n,r){var o,i,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{var },y=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof d&&d)||Function("return this")(),},u=!}),c={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,l={f:p&&!c.call({1:2},1}:c},},f={}.toString,},g="".split,S=}}:Object,},I=function(t){return S(A(t))},},},P={}.hasOwnProperty,},x=y.document,B=O(x)&&O(x.createElement),},R=!u&&!}),L=Object.getOwnPropertyDescriptor,T={f:u?}},},k=Object.defineProperty,V={f:u?}},N=},},j=y["__core-js_shared__"]||M("__core-js_shared__",{}),G=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(t){return G.call(t)});var W,Z,H,X=j.inspectSource,J=y.WeakMap,Q="function"==typeof J&&/native code/.test(X(J)),K=)}),Y=0,z=Math.random())},$=K("keys"),)},et={},nt=y.WeakMap;if(Q){var rt=new nt,ot=rt.get,it=rt.has,st=rt.sete}}},H=function(t){return it.call(rt,t)}}else{var at=tt("state");et[at]=!0e}}},H=function(t){return D(t,at)}}var ct,ut={set:W,get:Z,has:H,enfor)},getterF}}},pt)}),lt=y,0},]},dt=Math.ceil,gt=Math.floor,)},vt=Math.min,0},_t=Math.max,bt=Math.min,Ct=function(u){retu1}},wt={includes:Ct(!0),indexOf:Ct(!1)},St=wt.indexOf,i},It=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ot=It.concat("length","prototype"),Et={f:Object.getOwnPropertyNames||function(t){return At(t,Ot)}},Pt={f:Object.getOwnPropertySymbols},Dt=ht("Reflect","ownKeys"e},}},Bt=/#|\.prototype\./,)},Rt=Ut.normali)},Lt=Ut.data={},Tt=Ut.NATIVE="N",Ft=Ut.POLYFILL="P",kt=Ut,Vt=T.f,}},Mt=!!Object.getOwnPropertySymbols&&)}),jt=Mt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gt=K("wks"),Wt=y.Symbol,Zt=jt?Wt:Wt&&Wt.withoutSetter||q,]},Xt=Ht("match"),Jt=function(t){if(O(e=t)&&(void 0!==(n=e[Xt])?n:"RegExp"==h(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t},Qt=Ht("match"),1},Yt=T.f,zt="".startsWith,qt=Math.min,$t=Kt("startsWith"),te=!($t||(!(ct=Yt(String.prototype,"startsWith"))||ct.writable));Nt({target:"String",proto:!0,forced:!te&&!$t},{startsWir}});var ee,ne,re,t},}},se=Function.call,)},ce=(ae("String","startsWith}}),ue={codeAt:ce(!1),charAt:ce(!0)},)},le=e}),fe=tt("IE_PROTO"),he=Object.prototype,de=le?Object.getPrototypel},ge=Ht("iterator"),ye=!1;[].keys&&("next"in(re=[].keys())?(ne=de(de(re)))!==Object.prototype&&(ee=ne):ye=!0),null==ee&&(ee={}),D(ee,ge)||N(ee,ge,function(){return this});var ve,me={IteratorPrototype:ee,BUGGY_SAFARI_ITERATORS:ye},_e=Object.keys||function(t){return At(t,It)},be=u?Object.definePropertit},Ce=ht("document","documentElement"),we=tt("IE_PROTO"),Se=function(){},"},)};et[we]=!0;var Oe=Object.creat)},Ee=V.f,Pe=Ht("toStringTag"),)},xe={},Be=me.IteratorPrototype,Ue=function(){return this},Re=Object.setPrototypeOf||("__proto__"in}}():void 0),Le=me.IteratorPrototype,Te=me.BUGGY_SAFARI_ITERATORS,Fe=Ht("iterator"),ke=function(){return this},Ve=function(t,e,n,r,o,i,s){var a,c,u;c=r,u=e+" Iterator",(a=n).prototype=Oe(Be,{next:w(1,c)}),De(a,u,!1),xe[u]=Ue;var p,l,f}},d=e+" Iterator",g=!1,y=t.prototype,v=y[Fe]||y["@@iterator"]||o&&y[o],m=!Te&&v||h(o),_="Array"==e&&y.entries||v;if(_&&(p=de(_.call(new t)),Le!==Object.prototype&&p.next&&(de(p)!==Le&&(Re?Re(p,Le):"function"!=typeof p[Fe]&&N(p,Fe,ke)),De(p,d,!0))),"values"==o&&v&&"values"!==v.name&&(g=!0)}),y[Fe]!==m&&N(y,Fe,m),xe[e]=m,o)if(l={values:h("values"),keys:i?m:h("keys"),entries:h("entries")},s)for(f in l)(Te||g||!(f in y))&&pt(y,f,l[f]);else Nt({target:e,proto:!0,forced:Te||g},l);return l},Ne=ue.charAt,Me=ut.set,je=ut.getterFor("String Iterator");Ve(String,"Strin)});var }},We=Ht("iterator"),Ze=Array.prototype,)},n},Je={};Je[Ht("toStringTag")]="z";var Qe="[object z]"===String(Je),Ke=Ht("toStringTag"),Ye="Arguments"==h(function(){return arguments}()),ze=Qer},qe=Ht("iterator"),]},tn=Ht("iterator"),en=!1;try{var nn=0,rn={ne}},retu0}};rn[tn]=function(){return this},Array.from(2})}catch(r){}var n},sn=!on(function(t){Array.from(t)});Nt({target:"Array",stat:!0,forced:sn},{frn}}),lt.Array.from;var an,cn="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,un=V.f,pn=y.Int8Array,ln=pn&&pn.prototype,fn=y.Uint8ClampedArray,hn=fn&&fn.prototype,dn=pn&&de(pn),gn=ln&&de(ln),yn=Object.prototype,vn=yn.isPrototypeOf,mn=Ht("toStringTag"),_n=q("TYPED_ARRAY_TAG"),bn=cn&&!!Re&&"Opera"!==ze(y.opera),Cn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(an in Cn)y[an]||(bn=!1);if((!bn||"function"!=typeof dn||dn===Function.prototype)&&()},bn))for(an in Cn)y[an]&&Re(y[an],dn);if((!bn||!gn||gn===yn)&&(gn=dn.prototype,bn))for(an in Cn)y[an]&&Re(y[an].prototype,gn);if(bn&&de(hn)!==gn&&Re(hn,gn),u&&!D(gn,mn))for(an in un(gn,mn,{g0}}),Cn)y[an]&&N(y[an],_n,an);var wn=Ht("species"),Sn=function(t){if(O(e=t)&&D(Cn,ze(e)))return t;var e;throw TypeError("Target is not a typed array")},)},In=[].slic}}("slice",function(t,e){for(var n=In.call(Sn(this),t,e),r=(c=(a=this).constructor,(u=void 0)===(p=F(a).constructor)||null==(u=F(p)[wn])?c:oe(u)),o=0,i=n.length,s=new(An(r))(i);o<i;)s[o]=n[o++];var a,c,u,p;return s})}));var On=Ht("unscopables"),En=Array.prototype;null==En[On]&&V.f(En,On,{configurable:!0,value:Oe(null)});var 0},Dn=Object.defineProperty,xn={},Bn=function(t){throw t},Un=wt.includes,)}("indexOf",{ACCESSORS:!0,1:0});Nt({target:"Array",proto:!0,forced:!Rn},{includ)}}),Pn("includes"),ae("Array","includes"),Nt({target:"String",proto:!0,forced:!Kt("includes")},{includ)}}),ae("String","includes");var Ln=)}),Tn0}),Fn=(Tn.REQUIRED,Tn.fastKey,Tn.getWeakData,Tn.onFreeze,o(function(t){var h=function(t,e){this.stopped=t,this.result=e};(t.expor)}).st)}})),t},t},Nn=Ht("species"),Mn=V.f,jn=Tn.fastKey,Gn=ut.set,Wn=ut.getterFor,Zn=(function(a,t,e){var c=-1!==a.indexOf("Map"),r=-1!==a.indexOf("Weak"),u=c?"set":"add",p=y.Set,o=p&&p.prototype,l=p,n={})};if(kt(a,"function"!=typeof p||!(r||o.forEach&&)}))))l=e.getConstructor(t,a,c,u),Tn.REQUIRED=!0;else if(kt(a,!0)){var s=new l,f=s[u](r?{}:-0,1)!=s,h)}),d=on(function(t){new p(t)}),g=!r&)});d||(((l=t(function(t,e){kn(t,l,a);var n,r,o,i,s=(n=new p,r=l,Re&&"function"==typeof(o=t.constructor)&&o!==r&&O(i=o.prototype)&&i!==r.prototype&&Re(n,i),n);return null!=e&&Fn(e,s[u],s,c),s})).prototype=o).constructor=l),(h||g)&&(i("delete"),i("has"),c&&i("get")),(g||f)&&i(u),r&&o.clear&&delete o.clear}n.Set=l,Nt({global:!0,forced:l!=p},n),De(l,a),r||e.setStrong(l,a,c)}("Se}},{getConstructor:function(t,n,r,o){var i)}),a=Wn(n)t}n};return Vn(i.prototype,{cle0},delen},forEas},h)}}),Vn(i.prototype,r?{ge},s)}}:{a)}}),u&&Mn(i.prototype,"size",{ge}}),i},setStrong:function(t,e,n){var r,o,i=e+" Iterator",s=Wn(e),a=Wn(i);Ve(t}},n?"entries":"values",!n,!0),r=ht(e),o=V.f,u&&r&&!r[Nn]&&o(r,Nn,{configurable:!0,get:function(){return this}})}}),Qe?{}.toStri"});Qe||pt(Object.prototype,"toString",Zn,{unsafe:!0});var Hn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Xn=ut.set,Jn=ut.getterFor("Array Iterator"),Qn=Ve(Array,"Arra}},"values");xe.Arguments=xe.Array,Pn("keys"),Pn("values"),Pn("entries");var Kn=Ht("iterator"),Yn=Ht("toStringTag"),zn=Qn.values;for(var qn in Hn){var $n=y[qn],tr=$n&&$n.prototype;if(tr){if(tr[Kn]!==zn)try{N(tr,Kn,zn)}catch(r){tr[Kn]=zn}if(tr[Yn]||N(tr,Yn,qn),Hn[qn])for(var er in Qn)if(tr[er]!==Qn[er])try{N(tr,er,Qn[er])}catch(r){tr[er]=Qn[er])}lt.Set;var rr=setTimeo)}function ir(rototype.catch=function(t){return this.then(null,t)},sr.prototype.thn},sr.prototype.finally=nr,sr.a)},sr.resol)},sr.reje)},sr.ra)},sr._immediateFn="function"==typeof e&&function(t){e(t))},sr._unhandledRejection)};var )}();"Promise"in hr?hr.Promise.prototype.finally||(hr.Promise.prototype.finally=nr):hr.Promise=sr,function(t){function e()}function r(t){for(var e=0,n=Math.min(65536,t.length+1),r=new Uint16Array(n),o=[],i=0;;){var s=e<t.length;if(!s||n-1<=i){if(o.push(String.fromCharCode.apply(null,r.subarray(0,i))),!s)return o.join("");t=t.subarray(e),i=e=0}if(0==(128&(s=t[e++])))r[i++]=s;else if(192==(224&s)){var a=63&t[e++];r[i++]=(31&s)<<6|a}else if(224==(240&s)){a=63&t[e++];var c=63&t[e++];r[i++]=(31&s)<<12|a<<6|c}else 240==(248&s)&&(65535<(s=(7&s)<<18|(a=63&t[e++])<<12|(c=63&t[e++])<<6|63&t[e++])&&(s-=65536,r[i++]=s>>>10&1023|55296,s=56320|1023&s),r[i++]=s)}}if(t.TextEncoder&&t.TextDecoder)return;var o=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,r=0,o=Math.max(32,n+(n>>>1)+7),i=new Uint8Array(o>>>3<<3);e<n;){var s=t.charCodeAt(e++);if(55296<=s&&s<=56319){if(e<n){var a=t.charCodeAt(e);56320==(64512&a)&&(++e,s=((1023&s)<<10)+(1023&a)+65536)}if(55296<=s&&s<=56319)continue}if(r+4>i.length&&(o+=8,o=(o*=1+e/t.length*2)>>>3<<3,(a=new Uint8Array(o)).set(i),i=a),0==(4294967168&s))i[r++]=s;else{if(0==(4294965248&s))i[r++]=s>>>6&31|192;else if(0==(4294901760&s))i[r++]=s>>>12&15|224,i[r++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;i[r++]=s>>>18&7|240,i[r++]=s>>>12&63|128,i[r++]=s>>>6&63|128}i[r++]=63&s|128}}return i.slice?i.slice(0,r):i.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var i=r;"function"==typeof s&&s.from)}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&}}),n.prototype.deco)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:d),functionction u(i){var}}();return function(){var t,e,n,r=a(i);if(s){var o=a(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return e=this,!(n=t)||"object"!=typeof n&&"function"!=typeof n?c(e):)}var t,et}()n}()t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",n.prototype[Symbol.toStringTag]="AbortSignal"),t="undefined"!=typeof self?self:d,((e=t).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController)&&(t.AbortController=f,t.AbortSignal=n)}();var dr}});n(dr);var gr=n(o(function(t,e){var n=d&&d.__awaite)},p=d&&d.__generato}};Object.defineProperty(e,"__esModule",{value:!0});var l="browser-tabs-lock-ke}var r=function)}return u.prototype.acquireLo)},u.prototype.refreshLockWhileAcquired=function(r,o){return n(this,void 0,void 0,function(){var e=this;return p(this,function(t){return setTimeout(function(){return n(e,void 0,void 0,function(){var e,n;return p(this,function(t){switch(t.label){case 0:return[4,dr.default().lock(o)];case 1:return t.sent(),this.acquiredIatSet.has(o)?(e=window.localStorage,null===(n=e.getItem(r))?dr.default().unlock(o):((n=JSON.parse(n)).timeRefreshed=Date.now(),e.setItem(r,JSON.stringify(n)),dr.default().unlock(o),this.refreshLockWhileAcquired(r,o))):dr.default().unlock(o),[2]}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(a){return n(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,new Promise(function(e){var n=!1,r=Date.now(),o=!1;function i(){if(o||(window.removeEventListener("storage",i),u.removeFromWaiting(i),clearTimeout(s),o=!0),!n){n=!0;var t=50-(Date.now()-r);0<t?setTimeout(e,t):e()}}window.addEventListener("storage",i),u.addToWaiting(i);var s=setTimeout(i,Math.max(0,a-Date.now()))})];case 1:return t.sent(),[2]}})})},u.addToWaiti)},u.removeFromWaiti)},u.notifyWaite)},u.prototype.releaseLo)},u.prototype.releaseLock__private)},u.lockCorrect)},u.waiters=void 0,u}();e.default=r})),yr={timeoutInSeconds:60},vr=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],o}(Error),s}(mr),n}(mr),r}(br),o},e},n},Ir=function(t){return btoa(t)},)},)},Pr=function(t){return e=t.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(atob(e).split("").m)}).join(""));var e},Dr=function(t){var e,n,r=new Uint8Array(t);return e=window.btoa(String.fromCharCode.apply(String,Array.from(r))),n={"+":"-","/":"_","=":""},e.replace(/[+/=]/g,function(t){return n[t]})},xr=function(t,e,n,r,o,i){void 0===i&&(i=1e4);var s,a,p,l,f,h,d,c=new AbortController,u=c.signal,g=_(_({},r),{signal:u});return Promise.race([(a=t,p=e,l=n,f=g,h=i,d=o,v(void 0,void 0,void 0,function(){var e,n;return C(this,function(t){switch(t.label){case 0:return d?(delete f.signal,[2,(r=_({url:a,audience:p,scope:l,timeout:h},f),o=d,new Promi)}))]):[3,1];case 1:return[4,(c=a,u=f,u=u||{},new Promi)}))];case 2:return e=t.sent(),n={ok:e.ok},[4,e.json()];case 3:return[2,(n.json=t.sent(),n)]}var c,u,r,o})})),new Promi)})]).finally(function(){clearTimeout(s)})},Br=function(t,s){return v(void 0,void 0,void 0,function(){var e=t.baseUrl,n=t.timeout,r=t.audience,o=t.scope,i=b(t,["baseUrl","timeout","audience","scope"]);return C(this,function(t){switch(t.label){case 0:return[4,(l=e+"/oauth/token",f=n,h=r||"default",d=o,g={method:"POST",body:JSON.stringify(_({redirect_uri:window.location.origin},i)),headers:{"Content-type":"application/json"}},y=s,v(void 0,void 0,void 0,function(){var e,n,r,o,i,s,a,c,u,p;return C(this,function(t){switch(t.label){case 0:e=null,r=0,t.label=1;case 1:if(!(r<3))return[3,6];t.label=2;case 2:return t.trys.push([2,4,,5]),[4,xr(l,h,d,g,y,f)];case 3:return n=t.sent(),e=null,[3,6];case 4:return o=t.sent(),e=o,[3,5];case 5:return r++,[3,1];case 6:if(e)throw e.message=e.message||"Failed to fetch",e;if(i=n.json,s=i.error,a=i.error_description,c=b(i,["error","error_description"]),!n.ok)throw u=a||"HTTP error. Unable to fetch "+l,(p=new Error(u)).error=s||"request_error",p.error_description=u,p;return[2,c]}})}))];case 1:return[2,t.sent()]}var l,f,h,d,g,y})})},Ur=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=t.join(" ").trim().split(/\s+/),Array.from(new Set(n))).join(" ");var n},e},}},Tr=function(){function t(){}return t.prototype.save=function(t){var e=Rr(t),n=Lr(t);window.localStorage.setItem(e,JSON.stringify(n))},t.prototype.get=function(t,e){void 0===e&&(e=0);var n=Rr(t),r=this.readJson(n),o=Math.floor(Date.now()/1e3);if(r){if(!(r.expiresAt-e<o))return r.body;if(r.body.refresh_token){var i=this.stripData(r);return this.writeJson(n,i),i.body}localStorage.removeItem(n)}},t.prototype.clear=function(){for(var t=localStorage.length-1;0<=t;t--)localStorage.key(t).startsWith("@@auth0spajs@@")&&localStorage.removeItem(localStorage.key(t))},t.prototype.readJson=function(t){var e,n=window.localStorage.getItem(t);if(n&&(e=JSON.parse(n)))return e},t.prototype.writeJson=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.stripDa}},t}(),Fr=function(){var i;this.enclosedCache=(i={body:{},expiresAt:0},{save:function(t){var e=Rr(t),n=Lr(t);i[e]=n},get:function(t,e){void 0===e&&(e=0);var n=Rr(t),r=i[n],o=Math.floor(Date.now()/1e3);if(r)return r.expiresAt-e<o?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},r.body):void delete i[n]:r.body},clear:function(){i={body:{},expiresAt:0}}})},kr=function)}return t.prototype.create=function(t){this.transaction=t,this.storage.save("a0.spajs.txs",t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},t}(),Vr=function(t){return"number"==typeof t},Nr=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Mr}});n(Mr),Mr.encode,Mr.parse,Mr.getAll;var jr=Mr.get,Gr=Mr.set,Wr=Mr.remove,Zr={g)},sa)},remove:function(t){Wr(t)}},Hr={g)},sa)},remo)}},Xr={g}},sa)},remove:function(t){sessionStorage.removeItem(t)}};var Jr,Qr=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=",!"data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==",function(t){return Jr=Jr||(r=void 0===(e="data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==")?null:en}(0,void 0!==(n=!(s="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo="))&&n),i=o.indexOf("\n",10)+1,a=o.substring(i)+(r?"//# sourceMappingURL="+r:""),c=new Blob([a],{type:"application/javascript"}),URL.createObjectURL(c)),new Worker(Jr,t);var s,e,n,r,o,i,a,c}),Kr=new gr,Yr={memoe},localstorar}},zr=function(t){return Yr[t]},qr=function(){function t(t){var e,n,r,o,i;if(this.options=t,"undefined"!=typeof windo)}(),this.cacheLocation=t.cacheLocation||"memory",this.cookieStorage=!1===t.legacySameSiteCookie?Zr:Hr,!zr(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');this.cache=zr(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new kr(Xr),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(r=this.options.issuer,o=this.domainUrl,r?r.startsWith("https://")?r:"https://"+r+"/":o+"/"),this.defaultScope=Ur("openid",void 0!==(null===(n=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Ur(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new Qr),this.customOptions=((i=t).advancedOptions,i.audience,i.auth0Client,i.authorizeTimeoutInSeconds,i.cacheLocation,i.client_id,i.domain,i.issuer,i.leeway,i.max_age,i.redirect_uri,i.scope,i.useRefreshTokens,b(i,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"]))}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||{name:"auth0-spa-js",version:"1.12.1"})));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,n,r,o){var i=this.options,s=(i.domain,i.leeway,i.useRefreshTokens,i.auth0Client,i.cacheLocation,i.advancedOptions,b(i,["domain","leeway","useRefreshTokens","auth0Client","cacheLocation","advancedOptions"]));return _(_(_({},s),t),{scope:Ur(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:n,redirect_uri:o||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},t.prototype._authorizeU)},t.prototype._verifyIdToken=function(t,e){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(1<e.claims.aud.length){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!Vr(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!Vr(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Vr(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,r=new Date(Date.now()),o=new Date(0),i=new Date(0),s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),o.setUTCSeconds(e.claims.exp+n),i.setUTCSeconds(e.claims.nbf-n),o<r)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+o+")");if(Vr(e.claims.nbf)&&r<i)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+i);if(Vr(e.claims.auth_time)&&s<r)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+s);return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumb0},t.prototype.buildAuthorizeUrl=function(f){return void 0===f&&(f={}),v(this,void 0,void 0,function(){var e,n,r,o,i,s,a,c,u,p,l;return C(this,function(t){switch(t.label){case 0:return e=f.redirect_uri,n=f.appState,r=b(f,["redirect_uri","appState"]),o=Ir(Ar()),i=Ir(Ar()),s=Ar(),[4,Er(s)];case 1:return a=t.sent(),c=Dr(a),u=f.fragment?"#"+f.fragment:"",p=this._getParams(r,o,i,c,e),l=this._authorizeUrl(p),this.transactionManager.create({nonce:i,code_verifier:s,appState:n,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri}),[2,l+u]}})})},t.prototype.loginWithPopup=function(f,h){return void 0===f&&(f={}),void 0===h&&(h={}),v(this,void 0,void 0,function(){var e,n,r,o,i,s,a,c,u,p,l;return C(this,function(t){switch(t.label){case 0:return e=b(f,[]),n=Ir(Ar()),r=Ir(Ar()),o=Ar(),[4,Er(o)];case 1:return i=t.sent(),s=Dr(i),a=this._getParams(e,n,r,s,this.options.redirect_uri||window.location.origin),[4,function(t,o){var e,n,r,i=o.popup;if(i?i.location.href=t:(e=t,n=window.screenX+(window.innerWidth-400)/2,r=window.screenY+(window.innerHeight-600)/2,i=window.open(e,"auth0:authorize:popup","left="+n+",top="+r+",width=400,height=600,resizable,scrollbars=yes,status=1")),!i)throw new Error("Could not open popup");return new Promise(function(e,n){var r=setTimeo)},1e3*(o.timeoutInSeconds||60));window.addEventListener("message",function(t){if(t.data&&"authorization_response"===t.data.type){if(clearTimeout(r),i.close(),t.data.response.error)return n(mr.fromPayload(t.data.response));e(t.data.response)}})})}(this._authorizeUrl(_(_({},a),{response_mode:"web_message"})),_(_({},h),{timeoutInSeconds:h.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(c=t.sent(),n!==c.state)throw new Error("Invalid state");return[4,Br({audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:c.code,grant_type:"authorization_code",redirect_uri:a.redirect_uri},this.worker)];case 3:return u=t.sent(),p=this._verifyIdToken(u.id_token,r),l=_(_({},u),{decodedToken:p,scope:a.scope,audience:a.audience||"default",client_id:this.options.client_id}),this.cache.save(l),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}})})},t.prototype.getUser=function(o){return void 0===o&&(o={}),v(this,void 0,void 0,function(){var e,n,r;return C(this,function(t){return e=o.audience||this.options.audience||"default",n=Ur(this.defaultScope,this.scope,o.scope),[2,(r=this.cache.get({client_id:this.options.client_id,audience:e,scope:n}))&&r.decodedToken&&r.decodedToken.user]})})},t.prototype.getIdTokenClaims=function(o){return void 0===o&&(o={}),v(this,void 0,void 0,function(){var e,n,r;return C(this,function(t){return e=o.audience||this.options.audience||"default",n=Ur(this.defaultScope,this.scope,o.scope),[2,(r=this.cache.get({client_id:this.options.client_id,audience:e,scope:n}))&&r.decodedToken&&r.decodedToken.claims]})})},t.prototype.loginWithRedire)},t.prototype.handleRedirectCallback=function(f){return void 0===f&&(f=window.location.href),v(this,void 0,void 0,function(){var e,n,r,o,i,s,a,c,u,p,l;return C(this,function(t){switch(t.label){case 0:if(0===(e=f.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(t){-1<t.indexOf("#")&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),o={};return e.forEa)}),_(_({},o),{expires_in:parseInt(o.expires_in)})}(e.join("")),r=n.state,o=n.code,i=n.error,s=n.error_description,!(a=this.transactionManager.get())||!a.code_verifier||!a.nonce)throw new Error("Invalid state");if(i)throw this.transactionManager.remove(),new _r(i,s,r,a.appState);return this.transactionManager.remove(),c={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:o},void 0!==a.redirect_uri&&(c.redirect_uri=a.redirect_uri),[4,Br(c,this.worker)];case 1:return u=t.sent(),p=this._verifyIdToken(u.id_token,a.nonce),l=_(_({},u),{decodedToken:p,audience:a.audience,scope:a.scope,client_id:this.options.client_id}),this.cache.save(l),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:a.appState}]}})})},t.prototype.checkSession=function(n){return v(this,void 0,void 0,function(){var e;return C(this,function(t){switch(t.label){case 0:if("memory"===this.cacheLocation&&!this.cookieStorage.get("auth0.is.authenticated"))return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.getTokenSilently(n)];case 2:return t.sent(),[3,4];case 3:if(e=t.sent(),!vr.includes(e.error))throw e;return[3,4];case 4:return[2]}})})},t.prototype.getTokenSilently=function(u){return void 0===u&&(u={}),v(this,void 0,void 0,function(){var e,n,r,o,i,s,a,c=this;return C(this,function(t){switch(t.label){case 0:if(e=_(_({audience:this.options.audience,ignoreCache:!1},u),{scope:Ur(this.defaultScope,this.scope,u.scope)}),n=e.ignoreCache,r=b(e,["ignoreCache"]),o=function(){var t=c.cache.get({scope:r.scope,audience:r.audience||"default",client_id:c.options.client_id},60);return t&&t.access_token},!n&&(i=o()))return[2,i];t.label=1;case 1:return t.trys.push([1,7,8,10]),[4,Kr.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return t.sent(),!n&&(i=o())?[2,i]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(r)]:[3,4];case 3:return a=t.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(r)];case 5:a=t.sent(),t.label=6;case 6:return s=a,this.cache.save(_({client_id:this.options.client_id},s)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,s.access_token];case 7:throw t.sent();case 8:return[4,Kr.releaseLock("auth0.lock.getTokenSilently")];case 9:return t.sent(),[7];case 10:return[2]}})})},t.prototype.getTokenWithPopup=function(e,n){return void 0===e&&(e={}),void 0===n&&(n={}),v(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=Ur(this.defaultScope,this.scope,e.scope),n=_(_({},yr),n),[4,this.loginWithPopup(e,n)];case 1:return t.sent(),[2,this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}).access_token]}})})},t.prototype.isAuthenticat)},t.prototype.logout=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=t.localOnly,r=b(t,["federated","localOnly"]);if(n&&e)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!n){var o=e?"&federated":"",i=this._url("/v2/logout?"+Or(r));window.location.assign(""+i+o)}},t.prototype._getTokenFromIFrame=function(m){return v(this,void 0,void 0,function(){var n,r,o,i,s,u,p,l,f,h,d,g,y,v;return C(this,function(t){switch(t.label){case 0:return n=Ir(Ar()),r=Ir(Ar()),o=Ar(),[4,Er(o)];case 1:return i=t.sent(),s=Dr(i),u=this._getParams(m,n,r,s,m.redirect_uri||this.options.redirect_uri||window.location.origin),p=this._authorizeUrl(_(_({},u),{prompt:"none",response_mode:"web_message"})),l=m.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(e=p,a=this.domainUrl,c=l,void 0===c&&(c=60),new Promise(function(n,r){var t=window.document.createElement("iframe");t.setAttribute("width","0"),t.setAttribute("height","0"),t.style.display="none";var)},i=setTimeo)},1e3*c)}};window.addEventListener("message",s,!1),window.document.body.appendChild(t),t.setAttribute("src",e)}))];case 2:if(f=t.sent(),n!==f.state)throw new Error("Invalid state");return h=m.scope,d=m.audience,m.redirect_uri,m.ignoreCache,m.timeoutInSeconds,g=b(m,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Br(_(_(_({},this.customOptions),g),{scope:h,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:f.code,grant_type:"authorization_code",redirect_uri:u.redirect_uri}),this.worker)];case 3:return y=t.sent(),v=this._verifyIdToken(y.id_token,r),[2,_(_({},y),{decodedToken:v,scope:u.scope,audience:u.audience||"default"})]}var e,a,c})})},t.prototype._getTokenUsingRefreshToken=function(u){return v(this,void 0,void 0,function(){var e,n,r,o,i,s,a,c;return C(this,function(t){switch(t.label){case 0:return u.scope=Ur(this.defaultScope,this.options.scope,u.scope),(e=this.cache.get({scope:u.scope,audience:u.audience||"default",client_id:this.options.client_id}))&&e.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(u)];case 1:return[2,t.sent()];case 2:n=u.redirect_uri||this.options.redirect_uri||window.location.origin,o=u.scope,i=u.audience,u.ignoreCache,u.timeoutInSeconds,s=b(u,["scope","audience","ignoreCache","timeoutInSeconds"]),t.label=3;case 3:return t.trys.push([3,5,,8]),[4,Br(_(_(_({},this.customOptions),s),{audience:i,scope:o,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:n}),this.worker)];case 4:return r=t.sent(),[3,8];case 5:return"The web worker is missing the refresh token"!==(a=t.sent()).message?[3,7]:[4,this._getTokenFromIFrame(u)];case 6:return[2,t.sent()];case 7:throw a;case 8:return c=this._verifyIdToken(r.id_token),[2,_(_({},r),{decodedToken:c,scope:u.scope,audience:u.audience||"default"})]}})})},t}()}).call(this,to(119),to(319).setImmediate,to(321).Buffer)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return QueryParams});var _Core_utils_Utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(28),_Core_dom_Dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),underscore__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_2__),QueryParams=functiont}return QueryParams.prototype.getUrl=function(){var t=_Core_dom_Dom__WEBPACK_IMPORTED_MODULE_1__.a.attr(this.link,this.dataAttrName)||"";return t&&(this.url=this.processDynamicQueryParams(JSON.parse(decodeURIComponent(t)))),this.configSettings.ActionUrlsParams&&(this.url=this.processDynamicQueryParams(this.configSettings.ActionUrlsParams)),this.url},QueryParams.prototype.processDynamicQueryParams=function(queryParams){var _this=this;return queryParams=queryParams.filte}),Object(underscore__WEBPACK_IMPORTED_MODULE_2__.each)(queryParams,function(queryParam){var queryParamValue;try{queryParamValue=eval(queryParam.Value)}catch(t){queryParamValue=queryParam.Value}_this.url=Object(_Core_utils_Utils__WEBPACK_IMPORTED_MODULE_0__.c)(_this.url,queryParam.Name,queryParamValue)}),this.url},QueryParams}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Application});var _Connext_Core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(241),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(334),_Connext_Core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(339),_Connext_Core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45),_Connext_Core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28),_Connext_Core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(122),_Connext_Core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(133),_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(123),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(19),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(345),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(242),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(351),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(42),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(220),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(74),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(98),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(333),underscore__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(0),underscore__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_17__),_Application_Modules_adBlockDetector_AdBlockDetector__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(225),_flows_FlowManager__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(253),_Connext_Data_services_storage_localStorage_LocalStorageService__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(30),_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2),_modules_abTestService_ABTestServiceClass__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(43),_modules_storageCleanerService_StorageCleanerServiceClass__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(252),_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(128),_Connext_Data_Services__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(278),_data_repositories_view_ViewRepository__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(279),Application=function(){function Application(){var n=this;this.isAlreadyRun=!1,_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.subscribe(_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__.h.ApplicationReload,function(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("ApplicationReload event",t);var e=new CustomEvent("Loader:NeedRecalculate:SessionId");window.dispatchEvent(e),n.run(t.EventData,!1,!0)},!0),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.subscribe(_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__.h.ApplicationReInit,function(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("ApplicationReInit event",t),n.isAlreadyRun=!1,_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.RunReason,_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__.l.RepeatedInit),n.init(_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getOptions())},!0),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.subscribe("Loader:Recalculate:SessionI)},!0),this.userSessionStorageEvent()}return Application.prototype.init=function(t){var e=this;try{this.waitBodyStartRender().then(function(){(t=e.updateInitOptions(t)).checkUserDataEveryPageload&&_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.RefreshUserdataEveryPageload,!0),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.processingData(t),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.dispatch(_Connext_Application_Constants__WEBPACK_IMPORTED_MODULE_7__.h.StartInit,t),e.updateLogSettings({level:void 0,debug:_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getDebugMode()}),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_9__.a.create(),_Application_Modules_adBlockDetector_AdBlockDetector__WEBPACK_IMPORTED_MODULE_18__.a.getInstance().detectProcess(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_10__.a.init(),e.syncAuthLsAndCookies(),e.startConfiguration()})}catch(t){new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)}},Application.prototype.run=function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!1);try{_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getIsInitFinished()?(this.flowManager&&(this.flowManager.clearPrevConnextRunStates(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.subscribePublicEvents()),!_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.options.silentmode||e||n?(this.flowManager=new _flows_FlowManager__WEBPACK_IMPORTED_MODULE_19__.a(t,e),this.isAlreadyRun=!0):_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.warn("ConneXt was ranned in the silent mode, so we stop a process here")):(_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(this.constructor.name,"Run","Connext is not initialized yet, wait OnInit event"),_Connext_Core__WEBPACK_IMPORTED_MODULE_16__.a.subscribe(_Connext_Core__WEBPACK_IMPORTED_MODULE_3__.a.In)}))}catch(t){new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)}},Application.prototype.startConfiguration=function(){var r=this;try{_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_12__.a.getStartConfiguration().then(function(t){var n=_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getDebugMode();_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_13__.a.loadDebugPanelIfNeed(n,_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_12__.a.getDebugAllowedSetting()).then(function(t){var e;t&&(_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.DebugInstance,t),t.setInitParams(),e=+t.getLogLevel()),r.updateLogSettings({level:e,debug:n}),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.UseRootDomain,_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_12__.a.useRootDomain()),_modules_abTestService_ABTestServiceClass__WEBPACK_IMPORTED_MODULE_22__.a.start(),_modules_storageCleanerService_StorageCleanerServiceClass__WEBPACK_IMPORTED_MODULE_23__.a.cleanStorages(),Promise.all([_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_14__.a.setInformation(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_14__.a.setDeviceId(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_15__.a.processNotLegacyParams(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_15__.a.registerNewsletterWidgetListeners()]).then(function(t){if(_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.finishInit(),r.runExternalMigration(),_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.hasRunSettings())return _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.setupDeferredRun().th)});r.isAlreadyRun||r.run(_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.get(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.RunReason))}).catch(function(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("Application Init event",t),new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)})})}).cat)})}catch(t){new _Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_11__.a(t)}},Application.prototype.waitBodyStartRender=function(){return new Promise(function(n,t){vary};if(r())n();else var o=0,i=setTimeout(function t(){if(clearTimeout(i),!r()&&o<50){o++;var e=10*Math.min(o,10);_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log("Application","waitBodyStartRender","delay",e),i=setTimeout(t,e)}else n()},0)})},Application.prototype.runExternalMigration=function(){var migrationCode=_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getExternalMigrationCode();if(migrationCode)try{eval(migrationCode)}catch(t){_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.error("External migration error",t)}},Application.prototype.updateLogSettings=function(t){var e=_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.getOptions();_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.setOptions(Object(underscore__WEBPACK_IMPORTED_MODULE_17__.extendOwn)(e,{debug:t.debug,level:t.level||e.level||0}))},Application.prototype.updateInitOptions=function(t){_Connext_Data_services_storage_localStorage_LocalStorageService__WEBPACK_IMPORTED_MODULE_20__.a.isSupported()||(t.batchCount=1);var e=_Connext_Data_services_storage_localStorage_LocalStorageService__WEBPACK_IMPORTED_MODULE_20__.a.get(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.f.DebugPanel.SiteCode,{expandKey:!1,isSecureValue:!1}),n=_Connext_Data_services_storage_localStorage_LocalStorageService__WEBPACK_IMPORTED_MODULE_20__.a.get(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.f.DebugPanel.ConfigCode,{expandKey:!1,isSecureValue:!1});return e&&(t.siteCode=e),n&&(t.configCode=n),t},Application.prototype.userSessionStorageEvent=function(){Object(_Connext_Core__WEBPACK_IMPORTED_MODULE_4__.a)(window,"beforeunload",function(){var e=_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getBrowserSessionId(),n=_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.getSessionId(),t=_data_repositories_view_ViewRepository__WEBPACK_IMPORTED_MODULE_26__.a.getUserSessionStorage(),r=t.findIndex(function(t){return t.BrowserSessionId==e&&t.PageSessionId==n});!isNaN(r)&&t[r]&&(t[r].EndDateTime=_Connext_Core__WEBPACK_IMPORTED_MODULE_5__.a.get()),_data_repositories_view_ViewRepository__WEBPACK_IMPORTED_MODULE_26__.a.setUserSessionStorage(t,{expires:new Date(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.d)})})},Application.prototype.syncAuthLsAndCookies=function(){var t,s="syncAuthLsAndCookies",a=function(t){var e={expandKey:!1,useRootDomain:!0,converter:{write:function(t,e){return t}}};return t?e.daysOfLife=t:e.expires=new Date(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.d),e},c=function(t){return{lsData:_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__.a.getStoredValue(t),cookieValue:_Connext_Core__WEBPACK_IMPORTED_MODULE_6__.a.getInstance().pureGet(t)}},e=function(t,e){var n=c(t),r=n.lsData,o=n.cookieValue;if(_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"authLsData",r,"authCookieValue",o,"lastVisitData",e),r)if(o)r.value!==o?(_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has authCookieValue. authLsData.value !== authCookieValue. = re-login on subdomain."),_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__.a.dublicateCookieToLocalStorageIfItNeed(r.key,o,r),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.ForceAuthSystemLogout,!0)):_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has authCookieValue. authLsData.value === authCookieValue. Nothing to do.");else if(e.lsData)if(e.cookieValue)_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has NOT authCookieValue. has additionalCookie. = subdomain logout."),_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__.a.removeLocalStorageDublicate(r.key),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.ForceAuthSystemLogout,!0);else{var i=7<Object(_Connext_Core__WEBPACK_IMPORTED_MODULE_4__.e)(_Connext_Core__WEBPACK_IMPORTED_MODULE_5__.a.get(),new Date(+e.lsData.value),"d")?"user cleared cookies":"browser cleared cookies";_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has NOT authCookieValue. has NOT additionalCookie.",i),_Connext_Data_Services__WEBPACK_IMPORTED_MODULE_25__.a.get(t,{converter:{read:function(t,e){return t}},expandKey:!1,useRootDomain:!0})}else _Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has authLsData and has NOT authCookieValue. has NOT additionallLs. = first new version visit."),_Core_utils_CookieDublicator__WEBPACK_IMPORTED_MODULE_24__.a.removeLocalStorageDublicate(r.key),_Connext_Core__WEBPACK_IMPORTED_MODULE_1__.a.set(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.ForceAuthSystemLogout,!0);else o?(_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has NOT authLsData and has authCookieValue. = just new login on subdomain."),_Connext_Data_Services__WEBPACK_IMPORTED_MODULE_25__.a.set(t,o,a(_Connext_Application_Modules__WEBPACK_IMPORTED_MODULE_8__.a.get(_Connext_Core__WEBPACK_IMPORTED_MODULE_2__.a.UserAuthenticationTime)))):_Connext_Core__WEBPACK_IMPORTED_MODULE_0__.a.log(s,t,"has NOT authLsData and has NOT authCookieValue. = nothing to do.")};return t=c(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.b.LastVisit),e(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.b.IgmRegID,t),e(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.b.Auth0AccountId,t),void _Connext_Data_Services__WEBPACK_IMPORTED_MODULE_25__.a.set(_Connext_Data_constants_Constants__WEBPACK_IMPORTED_MODULE_21__.b.LastVisit,String(_Connext_Core__WEBPACK_IMPORTED_MODULE_5__.a.get().valueOf()),a())},Application}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(42),o=n(30),p=n(0),l=n(2),i=n(278),s=n(26),a=new(function(){function t(){this.isCheckAllKeys=!0}return t.prototype.cleanStorag)},t.prototype.cleanLocalStorage=function(){var t=this.isCheckAllKeys?o.a.getAllConstantKeys():o.a.getStorageConstantKeys(),e=o.a.getConnextExistingStorageKeys(this.isCheckAllKeys),n=this.findUnusedKeys(e,t);this.deleteLocalStorageKeys(n)},t.prototype.cleanCookies=function(){var t=this.isCheckAllKeys?i.a.getAllConstantKeys():i.a.getStorageConstantKeys(),e=i.a.getConnextExistingStorageKeys(this.isCheckAllKeys),n=this.findUnusedKeys(e,t);this.deleteCookieKeys(n)},t.prototype.deleteLocalStorageKeys=function(t){Object(p.each))})},t.prototype.deleteCookieKeys=function(t){Object(p.each)(t,function(t){i.a.delete(t,{expandKey:!1,useRootDomain:!0}),i.a.delete(t.replace(l.e.Cookie,""),{expandKey:!1,useRootDomain:!1})})},t.prototype.findUnusedKeys=function(t,e){var c=this,u=s.AppOptions.getEnvironment();return Object(p.reject)(t,function(a){return Object(p.some)(e,function(i){var s=c.getKeyWithAttribute(i);return!!new RegExp("^("+l.e.LSDublicateCookie+")?("+l.e.Cookie+")?((("+i+")$)|(("+s+")$))","gm").test(a)||Object(p.some)(c.configCodes,function(t){var e=c.expandKey(i,t.SiteCode,t.Code),n=c.expandKey(i,t.SiteCode,t.Code,u),r=c.expandKey(s,t.SiteCode,t.Code),o=c.expandKey(s,t.SiteCode,t.Code,u);return new RegExp("^("+l.e.LSDublicateCookie+")?("+l.e.Cookie+")?((("+e+")$)|(("+n+")$)|(("+r+")$)|(("+o+")$))","gm").test(a)})})})},t.prototype.expandKey=function(t,e,n,r){var o=[t,e.toUpperCase(),n.toUpperCase()].join("_");return r&&(o=[o,r.toUpperCase()].join("_")),o},t.prototype.getKeyWithAttribute=function(t){var e=s.AppOptions.getAttribute();return e?t+"__"+e.toString().toUpperCase():t},t.prototype.getConfigCodes=function(){var t=r.a.getPublishConfigurationCodes()||[],e=s.AppOptions.getConfigCode(),n=s.AppOptions.getSiteCode();return Object(p.find)n})||t.push({SiteCode:n,Code:e}),t},t}())},function(t,e,n){"use strict";var r,o=n(19),i=n(42),s=n(345),a=n(351),c=n(241),u=n(334),p=n(339),l=n(333),f=n(45),h=n(16),d=n(17),g=n(74),y=function(t){g.a.update();var e=u.a.get(p.a.DebugInstance);e&&e.showIfNeed(),c.a.warn(t)},v=n(220),m=n(51),_=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.crea)},e}(m.a),C=n(11),w=n(99);n.d(e,"a",function(){return S});var S=function)}return t.prototype.process=function(){var e=this;try{c.a.log(this.constructor.name,"Run","Connext runned with params:",this.runReason,this.isExternalRun),this.fireRunStartEvent(this.runReason),u.a.set(p.a.FirstRunExecuted,!0),d.a.registerActions(),o.a.clearRunTimeout(),this.isExternalRun&&o.a.setRunExternally(!0);var n,r=i.a.getConfiguration();if(r.Active)(new b).create(r).then(function(t){n=new t(r),Promise.all([n.defineUser(r),w.a.defineUser()]).then(function(t){t[0],t[1];s.a.setAuthenticatedUserContext(),n.process()}).cat)})}).cat)});else new y("This configuration is not active")}catch(t){new a.a(t)}},t.prototype.fireRunStartEvent=function(t){t=t||u.a.get(p.a.RunReason),l.a.dispatch(f.a.Run,t)},t.prototype.clearPrevConnextRunStates=function(){h.a.removeConnextListeners(),h.a.removeConnextScripts(),C.ActionModule.clearConnextState(),l.a.unsubscribeAll()},t}()},,,,,,,,,,,,,)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n(28),i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},s=new(function(){function t(){}return t.prototype._isIterable=function(t){return!!t&&(!this.isNode(t)&&!this.isElement(t)&&t!==window&&(this._isLiteralObject(t)||Object(r.isArray)(t)||"object"==typeof t&&null!==t&&void 0!==t.length&&t.length))},t.prototype.isNoe},t.prototype.isElemee},t.prototype._getComputedStyle=function(t,e){var n;return n="function"==typeof window.getComputedStyle?window.getComputedStyle(t):void 0!==typeof document.currentStyle?t.currentStyle:t.style,e?n[e]:n},t.prototype.nodeListToArray=function(t){var e=[];return Object(r.each)(t,function(t){e.push(t)}),e},t.prototype._isLiteralObject=function(t){return t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.getPrototypeOf({})},t.prototype._indexOf=function(t,e){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},t.prototype._getHandlerIndex=function(t,e,n){return t===document.body||t===window?this._indexOf(t._event[e].handlers,n):this._indexOf(t._event[e].signatures,String(n))},t.prototype.addEventListener=function(t,e,n){if(!this.isNode(t)&&t!==window)throw new Error(t+" is not a DOMNode object");if(t._event=t._event||{},t._event[e]=t._event[e]||{handlers:[],signatures:[]},-1==this._getHandlerIndex(t,e,n)){var r=Object(o.a)(t,e,n,!1);t._event[e].handlers.push(r),t._event[e].signatures.push(n.toString())}},t.prototype.removeEventListener=function(n,r,t){var o=this;if(!this.isNode(n)&&n!==window)throw new Error(n+" is not a DOMNode object");n._event&&n._event[r]&&(t?[t]:i(n._event[r].handlers).reverse()).forEach(function(t){var e=o._getHandlerIndex(n,r,t);-1!==e&&(n._event[r].handlers.splice(e,1),n._event[r].signatures.splice(e,1)),n.removeEventListener(r,t,!1)})},t}())},function(t,e,n){"use strict";var r,o,i,s;n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),(o=r||(r={})).Low="0",o.Medium="1",o.High="2",(s=i||(i={})).Log="log",s.Warn="warn",s.Error="error"},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r,o=n(2),i=n(204),s=n(336),a=n(28),c=n(337),u=n(338),p=n(241),l=n(334),f=n(339),h=n(340),d=n(0),g=n(96),y=n(130),v=n(30),m=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=new(function(e){function t(){var t=e.call(this)||this;return t.cookies=s.a.getInstance(),t}return m(t,e),t.prototype.get=function(t,e){e=this.extendOptions(e),g.a.addToDebug(y.a.Cookies,t,"get",null,e,this);var n=t;return e.expandKey&&(n=this.expandKey(t)),this.shouldUseRootDomain(e)||(n=o.e.Cookie+n),this.cookies.get(n)},t.prototype.set=function(t,e,n){n=this.extendOptions(n),g.a.addToDebug(y.a.Cookies,t,"set",e,n,this);var r=t;!1!==n.expandKey&&(r=this.expandKey(t)),n.daysOfLife&&(n.expires=Object(a.b)(n.daysOfLife)),this.shouldUseRootDomain(n)?n.domain=this.getRootDomain():(r=o.e.Cookie+r,n.domain=window.location.hostname);try{this.cookies.set(r,e,n,n.converter)}catch(t){throw new c.a(u.a.LOAD_ERRORS.cookie)}},t.prototype.delete=function(t,e){var n=t;!1!==(e=this.extendOptions(e)).expandKey&&(n=this.expandKey(t)),this.shouldUseRootDomain(e)?e.domain=this.getRootDomain():(n=o.e.Cookie+n,e.domain=window.location.hostname),this.cookies.delete(n,e)},t.prototype.clear=function(){this.cookies.clear()},t.prototype.keys=function(){return document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/).map(decodeURIComponent)},t.prototype.getAllConnextRecords=function(){var e=this,n=[],t=this.getConnextExistingStorageKeys();return Object(d.each)(t,function(t){n.push({Name:t,Value:e.get(t,{expandKey:!1,useRootDomain:!0})})}),n},t.prototype.getConnextExistingStorageKeys=function(t){void 0===t&&(t=!0);var e=this.keys(),n=t?this.getAllConstantKeys():this.getStorageConstantKeys();return n=this.removeExceptionsFromKeys(n),e=this.filterConnextExistingStorageKeys(e,n)},t.prototype.getStorageConstantKe)},t.prototype.getAllConstantKeys=function(){return this.getStorageConstantKeys().concat(v.a.getStorageConstantKeys())},t.prototype.getNonEncryptValue=function(t,e,n){try{var r=JSON.parse(e);return this.set(t,r,n),e}catch(t){return null}},t.prototype.getRootDomain=function(){var t="",e=window.location.hostname.split("."),n=2;if(p.a.log("rootDomain getRootDomain hostSegments: "+e+" cachedRootDomain: "+this.cachedRootDomain),e.length<n)return window.location.hostname;if(this.cachedRootDomain)return this.cachedRootDomain;for(;t="."+e.slice(-n).join("."),p.a.log("rootDomain getRootDomain rootDomain: "+t),!this.checkWriteDomainCookie(t)&&n++<e.length;);return this.cachedRootDomain=t},t.prototype.checkWriteDomainCookie=function(t){var e,n=o.f.ConnextCheckDomainWrite;return this.cookies.set(n,"Done!",{domain:t}),e=!!this.cookies.get(n),this.cookies.delete(n,{domain:t}),p.a.log("rootDomain checkWriteDomainCookie domain: "+t+" result: "+e),e},t.prototype.shouldUseRootDomain=function(t){return Object(a.t)(t.useRootDomain)?t.useRootDomain:l.a.get(f.a.UseRootDomain)},t.prototype.extendOptions=function(t){return Object(d.extendOwn)(new h.a,t)},t}(i.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(241),o=n(339),s=n(122),i=n(356),a=n(278),c=n(30),u=n(2),p=n(26),l="visitedView",f=new(function(){function t(){}return t.prototype.sendViewsData=function(t,e){return e.contentType="application/json",r.a.log("sendViewsData calling...","views","data",t),i.a.post("views",t,e)},t.prototype.getViewStructure=function(t){void 0===t&&(t=!0);var e="";return"NSDY"==p.AppOptions.get(o.a.SiteCode)?(e=a.a.get(u.f.ConnextViewStructure,{isSecureValue:t}))?(c.a.set(u.f.ConnextViewStructure,e),a.a.delete(u.f.ConnextViewStructure)):e=c.a.get(u.f.ConnextViewStructure,{isSecureValue:t}):e=a.a.get(u.f.ConnextViewStructure,{isSecureValue:t}),e?JSON.parse(e):{}},t.prototype.deleteConnextViewStructure=function(){"NSDY"==p.AppOptions.get(o.a.SiteCode)?c.a.delete(u.f.ConnextViewStructure):a.a.delete(u.f.ConnextViewStructure)},t.prototype.getUserSessionStorage=function(t){void 0===t&&(t=!0);var e=c.a.get(u.f.ConnextUserSessionStorage,{isSecureValue:t});return e?JSON.parse(e):{}},t.prototype.purgeAndGetUserSessionStorage=function(t){void 0===t&&(t=!0);var e=p.AppOptions.getOptions().userStorageSessionMaxSize,n=p.AppOptions.getOptions().userStorageSessionExpireDays,r=this.getUserSessionStorage();r.length>e&&(r=r.slice(r.length-e,r.length));var o=s.a.getDate(),i=new Date(o.setDate(o.getDate()-n));return r=r.filter(function(t){var e=new Date(t.StartDateTime);return i<e}),this.setUserSessionStorage(r,{expires:new Date(u.d)}),r},t.prototype.setUserSessionStorage=function(t,e){c.a.set(u.f.ConnextUserSessionStorage,JSON.stringify(t),e)},t.prototype.setViewStructure=function(t,e,n){void 0===n&&(n=!0),e.isSecureValue=n,"NSDY"==p.AppOptions.get(o.a.SiteCode)?c.a.set(u.f.ConnextViewStructure,JSON.stringify(t),e):a.a.set(u.f.ConnextViewStructure,JSON.stringify(t),e)},t.prototype.getViewedArticles=function(){return c.a.get(u.f.ViewedArticles)},t.prototype.setViewedArticles=function(t){c.a.set(u.f.ViewedArticles,t)},t.prototype.deleteViewedArticles=function(){c.a.delete(u.f.ViewedArticles)},t.prototype.setUniqueArticles=function(t){c.a.set(u.f.UniqueArticles,t)},t.prototype.getUniqueArticles=function(){return c.a.get(u.f.UniqueArticles)},t.prototype.setUpdateArticleCount=function(t,e){a.a.set(u.f.ConnextUpdateArticleCount,t,e)},t.prototype.getUpdateArticleCount=function(){return a.a.get(u.f.ConnextUpdateArticleCount)},t.prototype.setLastResetDate=function(t,e){a.a.set(u.f.ViewsAutoResetLastDate,t,e)},t.prototype.getLastResetDate=function(){return a.a.get(u.f.ViewsAutoResetLastDate)},t.prototype.getApiViewData=function(t,e){return r.a.log("getApiViewData calling...","views",t),i.a.get("views",t,e)},t.prototype.serverStorageResetConversationViews=function(t,e){return i.a.get("views/user/delete",t,e)},t.prototype.serverStorageDeleteViewsByUserId=function(t,e){return i.a.get("views/user/delete",t,e)},t.prototype.setRegistrationType=function(t){c.a.set(u.f.ConnextAuthType,t)},t.prototype.getRegistrationType=function(){return c.a.get(u.f.ConnextAuthType)||{}},t.prototype.clear=function(){c.a.clear()},t.prototype.getVisitedView=function(){return c.a.get(l)},t.prototype.setVisitedView=function(t){c.a.set(l,t)},t.prototype.sendViewsDataFromNewDevice=function(t,e){return e.contentType="application/json",r.a.log("sendViewsData from new device calling...",t),i.a.post("views/regenerate",t,e)},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n(222),i=n(29),s=function(){function t(t){t&&(this.Id=t.Id,this.Active=t.Active,this.ActionType=t.ActionType,this.ActionTypeId=t.ActionTypeId,this.ConversationId=t.ConversationId,this.Name=t.Name,this.Order=t.Order,this.Description=t.Description,this.Order=t.Order,this.Who=t.Who,this.What=this.getDataByDevice(t.What),this.When=t.When)}return t.prototype.getDataByDevice=function(t){if(Object(r.isArray)(t)){var e=i.a.getDeviceType(),n=Object(r.findWhere)(t,{TemplateDeviceSettings:e});return n||Object(r.findWhere)(t,{TemplateDeviceSettings:o.b})}return t},t}(}},function(t,e,n){var r={"./Index":221,"./Index.ts":221,"./MainFlow":238,"./MainFlow.ts":238,"./actions/Action":12,"./actions/Action.ts":12,"./actions/ActionFactory":64,"./actions/ActionFactory.ts":64,"./actions/ActionInterface":161,"./actions/ActionInterface.ts":161,"./actions/ActionModule":11,"./actions/ActionModule.ts":11,"./actions/ActionModuleInterface":162,"./actions/ActionModuleInterface.ts":162,"./actions/Index":163,"./actions/Index.ts":163,"./actions/actions/Banner":65,"./actions/actions/Banner.ts":65,"./actions/actions/Inline":68,"./actions/actions/Inline.ts":68,"./actions/actions/InsightsRecommendation":101,"./actions/actions/InsightsRecommendation.ts":101,"./actions/actions/JavascriptCall":71,"./actions/actions/JavascriptCall.ts":71,"./actions/actions/Messaging":100,"./actions/actions/Messaging.ts":100,"./actions/actions/Modal":67,"./actions/actions/Modal.ts":67,"./actions/actions/Newsletter":72,"./actions/actions/Newsletter.ts":72,"./actions/actions/Paywall":69,"./actions/actions/Paywall.ts":69,"./actions/actions/SmallInfoBox":70,"./actions/actions/SmallInfoBox.ts":70,"./actions/actions/maskContent/MaskContentAction":58,"./actions/actions/maskContent/MaskContentAction.ts":58,"./actions/actions/maskContent/MaskContentActionInterface":164,"./actions/actions/maskContent/MaskContentActionInterface.ts":164,"./actions/actionsTriggers/ActionTrigger":57,"./actions/actionsTriggers/ActionTrigger.ts":57,"./actions/actionsTriggers/ActionTriggerDispatcher":66,"./actions/actionsTriggers/ActionTriggerDispatcher.ts":66,"./actions/actionsTriggers/ActionTriggerInterface":165,"./actions/actionsTriggers/ActionTriggerInterface.ts":165,"./actions/actionsTriggers/ActionTriggerOnArticle":36,"./actions/actionsTriggers/ActionTriggerOnArticle.ts":36,"./actions/actionsTriggers/BaseTimedTrigger":56,"./actions/actionsTriggers/BaseTimedTrigger.ts":56,"./actions/actionsTriggers/EosTrigger":73,"./actions/actionsTriggers/EosTrigger.ts":73,"./actions/actionsTriggers/HoveredTrigger":92,"./actions/actionsTriggers/HoveredTrigger.ts":92,"./actions/actionsTriggers/PublicEventTrigger":93,"./actions/actionsTriggers/PublicEventTrigger.ts":93,"./actions/actionsTriggers/ScrollDepthTrigger":94,"./actions/actionsTriggers/ScrollDepthTrigger.ts":94,"./actions/actionsTriggers/TimedTrigger":91,"./actions/actionsTriggers/TimedTrigger.ts":91,"./actions/constants/ActionTriggerType":52,"./actions/constants/ActionTriggerType.ts":52,"./actions/constants/ActionTypes":32,"./actions/constants/ActionTypes.ts":32,"./campaigns/Campaign":18,"./campaigns/Campaign.ts":18,"./campaigns/CampainInterface":166,"./campaigns/CampainInterface.ts":166,"./campaigns/Index":120,"./campaigns/Index.ts":120,"./campaigns/constants/AfterExpireActions":88,"./campaigns/constants/AfterExpireActions.ts":88,"./conversations/Conversation":78,"./conversations/Conversation.ts":78,"./conversations/ConversationInterface":226,"./conversations/ConversationInterface.ts":226,"./conversations/Index":227,"./conversations/Index.ts":227,"./conversations/constants/ExpirationTypes":199,"./conversations/constants/ExpirationTypes.ts":199,"./criteria/ConversationExpirations":198,"./criteria/ConversationExpirations.ts":198,"./criteria/Criteria":50,"./criteria/Criteria.ts":50,"./criteria/CriteriaInterface":228,"./criteria/CriteriaInterface.ts":228,"./criteria/CriteriaProvider":113,"./criteria/CriteriaProvider.ts":113,"./criteria/Expression":4,"./criteria/Expression.ts":4,"./criteria/ExpressionFactory":192,"./criteria/ExpressionFactory.ts":192,"./criteria/ExpressionInterface":229,"./criteria/ExpressionInterface.ts":229,"./criteria/Index":230,"./criteria/Index.ts":230,"./criteria/constants/CriteriaTypes":87,"./criteria/constants/CriteriaTypes.ts":87,"./criteria/constants/FlittzStatusesMap":60,"./criteria/constants/FlittzStatusesMap.ts":60,"./criteria/constants/Operator":10,"./criteria/constants/Operator.ts":10,"./criteria/expressions/ABTest":159,"./criteria/expressions/ABTest.ts":159,"./criteria/expressions/AB_Expiration":158,"./criteria/expressions/AB_Expiration.ts":158,"./criteria/expressions/AdBlock":180,"./criteria/expressions/AdBlock.ts":180,"./criteria/expressions/BlockedCookiesOrLs":156,"./criteria/expressions/BlockedCookiesOrLs.ts":156,"./criteria/expressions/BrowserDetection":150,"./criteria/expressions/BrowserDetection.ts":150,"./criteria/expressions/ConversationView":181,"./criteria/expressions/ConversationView.ts":181,"./criteria/expressions/Country":148,"./criteria/expressions/Country.ts":148,"./criteria/expressions/DayTime":146,"./criteria/expressions/DayTime.ts":146,"./criteria/expressions/DeviceType":182,"./criteria/expressions/DeviceType.ts":182,"./criteria/expressions/ExpirationFlittzStatus":183,"./criteria/expressions/ExpirationFlittzStatus.ts":183,"./criteria/expressions/ExpirationUserState":184,"./criteria/expressions/ExpirationUserState.ts":184,"./criteria/expressions/Expiration_SubscriptionExpiration":157,"./criteria/expressions/Expiration_SubscriptionExpiration.ts":157,"./criteria/expressions/EzPay":185,"./criteria/expressions/EzPay.ts":185,"./criteria/expressions/FlittzStatus":231,"./criteria/expressions/FlittzStatus.ts":231,"./criteria/expressions/FlittzUserStatus":187,"./criteria/expressions/FlittzUserStatus.ts":187,"./criteria/expressions/Geo":186,"./criteria/expressions/Geo.ts":186,"./criteria/expressions/IncognitoMode":188,"./criteria/expressions/IncognitoMode.ts":188,"./criteria/expressions/Index":178,"./criteria/expressions/Index.ts":178,"./criteria/expressions/IsEuMember":147,"./criteria/expressions/IsEuMember.ts":147,"./criteria/expressions/IsNewVisitor":143,"./criteria/expressions/IsNewVisitor.ts":143,"./criteria/expressions/Javascript":179,"./criteria/expressions/Javascript.ts":179,"./criteria/expressions/MetaKeyword":189,"./criteria/expressions/MetaKeyword.ts":189,"./criteria/expressions/MeterView":190,"./criteria/expressions/MeterView.ts":190,"./criteria/expressions/NewsletterReader":144,"./criteria/expressions/NewsletterReader.ts":144,"./criteria/expressions/NewsletterSession":145,"./criteria/expressions/NewsletterSession.ts":145,"./criteria/expressions/PromiseEx":138,"./criteria/expressions/PromiseEx.ts":138,"./criteria/expressions/Register":191,"./criteria/expressions/Register.ts":191,"./criteria/expressions/RegistrationWalls":155,"./criteria/expressions/RegistrationWalls.ts":155,"./criteria/expressions/SubscriptionExpiration":110,"./criteria/expressions/SubscriptionExpiration.ts":110,"./criteria/expressions/Time":139,"./criteria/expressions/Time.ts":139,"./criteria/expressions/UrlMask":140,"./criteria/expressions/UrlMask.ts":140,"./criteria/expressions/UrlParam":141,"./criteria/expressions/UrlParam.ts":141,"./criteria/expressions/UserState":142,"./criteria/expressions/UserState.ts":142,"./criteria/expressions/VisitsLastDays":151,"./criteria/expressions/VisitsLastDays.ts":151,"./criteria/expressions/customs/UserAgentAccess":149,"./criteria/expressions/customs/UserAgentAccess.ts":149,"./criteria/expressions/g2iInsight/EngagementRate":152,"./criteria/expressions/g2iInsight/EngagementRate.ts":152,"./criteria/expressions/g2iInsight/EngagementRatePercentile":153,"./criteria/expressions/g2iInsight/EngagementRatePercentile.ts":153,"./criteria/expressions/g2iInsight/G2iExpression":81,"./criteria/expressions/g2iInsight/G2iExpression.ts":81,"./criteria/expressions/g2iInsight/UserInterests":154,"./criteria/expressions/g2iInsight/UserInterests.ts":154,"./criteria/qualifier/Qualifier":59,"./criteria/qualifier/Qualifier.ts":59,"./meters/Index":232,"./meters/Index.ts":232,"./meters/Meter":95,"./meters/Meter.ts":95,"./meters/MeterInterface":233,"./meters/MeterInterface.ts":233},o={4:9,10:9,11:9,12:9,18:9,32:9,36:9,50:9,52:9,56:9,57:9,58:9,59:9,60:9,64:9,65:9,66:9,67:9,68:9,69:9,70:9,71:9,72:9,73:9,78:9,81:9,87:9,88:9,91:9,92:9,93:9,94:9,95:9,100:9,101:9,110:9,113:9,120:9,138:9,139:9,140:9,141:9,142:9,143:9,144:9,145:9,146:9,147:9,148:9,149:9,150:9,151:9,152:9,153:9,154:9,155:9,156:9,157:9,158:9,159:9,161:7,162:7,163:7,164:7,165:7,166:7,178:9,179:9,180:9,181:9,182:9,183:9,184:9,185:9,186:9,187:9,188:9,189:9,190:9,191:9,192:9,198:9,199:9,221:7,226:7,227:9,228:7,229:7,230:7,231:9,232:9,233:7,238:)}function s(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.ke)},i.resolve=s,i.id=283,t.exports=)},function(t,e,n){var i;t.exports=(i=n(7),n(137),function(f){var t=i,e=t.lib,h=e.WordArray,r=e.Hasher,p=t.x64.Word,n=t.algo,D=[],x=[],B=[}}();var U=[)}();var o=n.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doRes2},_doProcessBlo}},_doFinali)},clot}});t.SHA3=r._createHelper(o),t.HmacSHA3=r._createHmacHelper(o)}(Math),i.SHA3R)},function(t,e,n){var r;t.exports=(r=n(7),n(24),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
r.mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.exten t}var e=t.Encryptor=t.extend({processBlc]}});return t.Decryptor=e,t}(),r.mode.CTRGladmax)},function(t,e,n){var o;t.exports=(o=n(7),n(129),n(54),n(61),n(24),function(){var t=o,e=t.lib.BlockCipher,n=t.algo,u=[],p=[],l=[],f=[],h=[],d=[],g=[],y=[],v=[],m=1}}();var _=[0,1,2,4,8,16,32,64,128,27,54],r=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],i=0;i<r;i++)if(i<n)o[i]=e[i];else{var s=o[i-1];i%n?6<n&&i%n==4&&(s=u[s>>>24]<<24|u[s>>>16&255]<<16|u[s>>>8&255]<<8|u[255&s]):(s=u[(s=s<<8|s>>>24)>>>24]<<24|u[s>>>16&255]<<16|u[s>>>8&255]<<8|u[255&s],s^=_[i/n|0]<<24),o[i]=o[i-n]^s}for(var a=this._invKeySchedule=[],c=0;c<r;c++)i=r-c,s=c%4?o[i]:o[i-4],a[c]=c<4||i<=4?s:g[u[s>>>24]]^y[u[s>>>16&255]]^v[u[s>>>8&255]]^m[u[255&s]]}},encryptBlu)},decryptBl=n},_doCryptBl=m},keySize:8});t.AES=e._createHelper(r)}(),o.AES)},function(t,e,n){var s;t.exports=(s=n(7),n(129),n(54),n(61),n(24),function(){var t=s,e=t.lib.StreamCipher,n=t.algo,r=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;for(var i=o=0;o<256;o++){var s=o%n,a=e[s>>>2]>>>24-s%4*8&255;i=(i+r[o]+a)%256;var c=r[o];r[o]=r[i],r[i]=c}this._i=this._j=0},_doProcessBls)},keySize:8,ivSize:,r}t.RC4=e._createHelper(r);var i=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doRes)}});t.RC4Drop=e._createHelper(i)}(),s.RC4)},function(t,e,n){var i;t.exports=(i=n(7),n(129),n(54),n(61),n(r)}(),i.Rabbit)},function(t,e,n){var i;t.exports=(i=n(7),n(129),n(54),n(61),n(r)}(),i.RabbitLegact}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(0),o=n(207),i=n(280),s=n(206),a=n(134),c=function(){function t(t){var e=this;this.Actions=[],this.ExpirationSettings=[],this.Filters=[],this.Properties=new a.a(null),t&&(Object(r.each)(t.Actions,function(t){e.Actions.push(new i.a(t))}),this.Id=t.Id,this.Name=t.Name,this.MeterLevelId=t.MeterLevelId,this.CampaignId=t.CampaignId,this.Order=t.Order,Object(r.each)(t.ExpirationSettings,function(t){e.ExpirationSettings.push(new s.a(t))}),Object(r.each)(t.Filters,function(t){e.Filters.push(new o.a(t))}),this.Properties=new a.a(t.Properties),this.Options=t.Options)}return t.prototype.getProperties=function(){return this.Properties},t}()},function(t,e,n){var r={"./Campaign":18,"./Campaign.ts":18,"./CampainInterface":166,"./CampainInterface.ts":166,"./Index":120,"./Index.ts":120,"./constants/AfterExpireActions":88,"./constants/AfterExpireActions.ts":88},o={18:9,88:9,120:9,166:7};function i(t){return s(t).then(function(t){return n.t(t,o[t])})}function s(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.resolve=s,i.id=310,t.exports=i},function(t,e,n){var r={"./Action":12,"./Action.ts":12,"./ActionFactory":64,"./ActionFactory.ts":64,"./ActionInterface":161,"./ActionInterface.ts":161,"./ActionModule":11,"./ActionModule.ts":11,"./ActionModuleInterface":162,"./ActionModuleInterface.ts":162,"./Index":163,"./Index.ts":163,"./actions/Banner":65,"./actions/Banner.ts":65,"./actions/Inline":68,"./actions/Inline.ts":68,"./actions/InsightsRecommendation":101,"./actions/InsightsRecommendation.ts":101,"./actions/JavascriptCall":71,"./actions/JavascriptCall.ts":71,"./actions/Messaging":100,"./actions/Messaging.ts":100,"./actions/Modal":67,"./actions/Modal.ts":67,"./actions/Newsletter":72,"./actions/Newsletter.ts":72,"./actions/Paywall":69,"./actions/Paywall.ts":69,"./actions/SmallInfoBox":70,"./actions/SmallInfoBox.ts":70,"./actions/maskContent/MaskContentAction":58,"./actions/maskContent/MaskContentAction.ts":58,"./actions/maskContent/MaskContentActionInterface":164,"./actions/maskContent/MaskContentActionInterface.ts":164,"./actionsTriggers/ActionTrigger":57,"./actionsTriggers/ActionTrigger.ts":57,"./actionsTriggers/ActionTriggerDispatcher":66,"./actionsTriggers/ActionTriggerDispatcher.ts":66,"./actionsTriggers/ActionTriggerInterface":165,"./actionsTriggers/ActionTriggerInterface.ts":165,"./actionsTriggers/ActionTriggerOnArticle":36,"./actionsTriggers/ActionTriggerOnArticle.ts":36,"./actionsTriggers/BaseTimedTrigger":56,"./actionsTriggers/BaseTimedTrigger.ts":56,"./actionsTriggers/EosTrigger":73,"./actionsTriggers/EosTrigger.ts":73,"./actionsTriggers/HoveredTrigger":92,"./actionsTriggers/HoveredTrigger.ts":92,"./actionsTriggers/PublicEventTrigger":93,"./actionsTriggers/PublicEventTrigger.ts":93,"./actionsTriggers/ScrollDepthTrigger":94,"./actionsTriggers/ScrollDepthTrigger.ts":94,"./actionsTriggers/TimedTrigger":91,"./actionsTriggers/TimedTrigger.ts":91,"./constants/ActionTriggerType":52,"./constants/ActionTriggerType.ts":52,"./constants/ActionTypes":32,"./constants/ActionTypes.ts":32},o={11:9,12:9,32:9,36:9,52:9,56:9,57:9,58:9,64:9,65:9,66:9,67:9,68:9,69:9,70:9,71:9,72:9,73:9,91:9,92:9,93:9,94:9,100:9,101:9,161:7,162:7,163:7,164:7,165:7};function i(t){return s(t).then(function(t){return n.t(t,o[t])})}function s(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.resolve=s,i.id=311,t.exports=i},function(t,e,n){var r={"./Auth0AuthSystem":245,"./Auth0AuthSystem.ts":245};function o(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(r)},o.resolve=i,o.id=312,t.exports=o},function(t,e,n){var r={"./CustomAuthSystem":236,"./CustomAuthSystem.ts":236};function o(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(r)},o.resolve=i,o.id=313,t.exports=o},function(t,e,n){var r={"./JanrainAuthSystem":203,"./JanrainAuthSystem.ts":203,"./JanrainCustomAuthSystem":246,"./JanrainCustomAuthSystem.ts":246};function o(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(r)},o.resolve=i,o.id=314,t.exports=o},function(t,e,n){var r={"./MG2AuthSystem":239,"./MG2AuthSystem.ts":239};function o(t){return i(t).then(n)}function i(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(r)},o.resolve=i,o.id=315,t.exports=o},function(t,e,n){var r={"./NewzwareAuthSystem":240,"./NewzwareAuthSystem.ts":2n)}function i(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}o.keys=function(){return Object.keys(r)},o.resolve=i,o.id=316,t.exports=o},function(t,e,n){var r={"./Activation":237,"./Activation.ts":237,"./ActivationConstants":25,"./ActivationConstants.ts":25,"./ActivationInterface":243,"./ActivationInterface.ts":243,"./ActivationStep":84,"./ActivationStep.ts":84,"./ActivationSubStep":83,"./ActivationSubStep.ts":83,"./classes/DigitalAccess":114,"./classes/DigitalAccess.ts":114,"./classes/LinkAccountService":76,"./classes/LinkAccountService.ts":76,"./models/ActivateBy":107,"./models/ActivateBy/":107,"./models/ActivateBy/AccountNumberModel":169,"./models/ActivateBy/AccountNumberModel.ts":169,"./models/ActivateBy/ActivateBy":35,"./models/ActivateBy/ActivateBy.ts":35,"./models/ActivateBy/ConfirmationNumberModel":170,"./models/ActivateBy/ConfirmationNumberModel.ts":170,"./models/ActivateBy/SubscriptionIdModel":171,"./models/ActivateBy/SubscriptionIdModel.ts":171,"./models/ActivateBy/ZipCodeAndHouseNumberModel":172,"./models/ActivateBy/ZipCodeAndHouseNumberModel.ts":172,"./models/ActivateBy/ZipCodeAndPhoneNumberModel":173,"./models/ActivateBy/ZipCodeAndPhoneNumberModel.ts":173,"./models/ActivateBy/index":107,"./models/ActivateBy/index.ts":107,"./models/ActivateCloseEventModel":131,"./models/ActivateCloseEventModel.ts":131,"./steps":121,"./steps/":121,"./steps/Activate/ActivateStep":105,"./steps/Activate/ActivateStep.ts":105,"./steps/Activate/ActivateStepInterface":244,"./steps/Activate/ActivateStepInterface.ts":244,"./steps/Activate/ActivateSubStep":34,"./steps/Activate/ActivateSubStep.ts":34,"./steps/Activate/substeps":106,"./steps/Activate/substeps/":106,"./steps/Activate/substeps/ActivateForm":89,"./steps/Activate/substeps/ActivateForm.ts":89,"./steps/Activate/substeps/FailActivation":62,"./steps/Activate/substeps/FailActivation.ts":62,"./steps/Activate/substeps/SubscribeLink":200,"./steps/Activate/substeps/SubscribeLink.ts":200,"./steps/Activate/substeps/SuccessActivation":108,"./steps/Activate/substeps/SuccessActivation.ts":108,"./steps/Activate/substeps/UpgradeLink":201,"./steps/Activate/substeps/UpgradeLink.ts":201,"./steps/Activate/substeps/index":106,"./steps/Activate/substeps/index.ts":106,"./steps/Authenticate/ActivationAuthenticateStep":102,"./steps/Authenticate/ActivationAuthenticateStep.ts":102,"./steps/Authenticate/ActivationAuthenticateSubStep":82,"./steps/Authenticate/ActivationAuthenticateSubStep.ts":82,"./steps/Authenticate/substeps":103,"./steps/Authenticate/substeps/":103,"./steps/Authenticate/substeps/ActivationForgotPasswordSubStep":167,"./steps/Authenticate/substeps/ActivationForgotPasswordSubStep.ts":167,"./steps/Authenticate/substeps/ActivationLoginSubStep":104,"./steps/Authenticate/substeps/ActivationLoginSubStep.ts":104,"./steps/Authenticate/substeps/ActivationRegistrationSubStep":168,"./steps/Authenticate/substeps/ActivationRegistrationSubStep.ts":168,"./steps/Authenticate/substeps/index":103,"./steps/Authenticate/substeps/index.ts":103,"./steps/ExpiredSubscription/ActivationExpiredSubscriptionStep":124,"./steps/ExpiredSubscription/ActivationExpiredSubscriptionStep.ts":124,"./steps/ExpiredSubscription/ActivationExpiredSubscriptionSubStep":202,"./steps/ExpiredSubscription/ActivationExpiredSubscriptionSubStep.ts":202,"./steps/ExpiredSubscription/substeps":109,"./steps/ExpiredSubscription/substeps/":109,"./steps/ExpiredSubscription/substeps/ActivationExpiredSubscriptionMainSubStep":174,"./steps/ExpiredSubscription/substeps/ActivationExpiredSubscriptionMainSubStep.ts":174,"./steps/ExpiredSubscription/substeps/index":109,"./steps/ExpiredSubscription/substeps/index.ts":109,"./steps/index":121,"./steps/index.ts":121},o={25:9,34:9,35:9,62:9,76:9,82:9,83:9,84:9,89:9,102:9,103:9,104:9,105:9,106:9,107:9,108:9,109:9,114:9,121:9,124:9,131:9,167:9,168:9,169:9,170:9,171:9,172:9,173:9,174:9,200:9,201:9,202:9,237:9,243:7,244:7};function i(t){return s(t).then(function(t){return n.t(t,o[t])})}function s(n){return Promise.resolve().then(function(){var t=r[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.resolve=s,i.id=317,t.exports=i},function(t,e,r){var o={"./":135,"./GoogleUser":258,"./GoogleUser.ts":258,"./SwG":160,"./SwG.ts":160,"./SwGModule":259,"./SwGModule.ts":259,"./index":135,"./index.ts":135,"./interfaces/GoogleUserInterface":260,"./interfaces/GoogleUserInterface.ts":260,"./interfaces/SwGInterface":261,"./interfaces/SwGInterface.ts":261,"./interfaces/SwGModuleInterface":262,"./interfaces/SwGModuleInterface.ts":262,"./models":211,"./models/":211,"./models/OfferModel":254,"./models/OfferModel.ts":254,"./models/SubscriptionModel":255,"./models/SubscriptionModel.ts":255,"./models/UserLoginModel":256,"./models/UserLoginModel.ts":256,"./models/UserUpdateModel":257,"./models/UserUpdateModel.ts":257,"./models/index":211,"./models/index.ts":211,"./renderers/DependencyRenderer":112,"./renderers/DependencyRenderer.ts":112,"./renderers/DependencyRendererInterface":263,"./renderers/DependencyRendererInterface.ts":263,"./renderers/SignInRenderer":194,"./renderers/SignInRenderer.ts":194,"./renderers/SubscribeRenderer":196,"./renderers/SubscribeRenderer.ts":196,"./renderers/loaders/DependencyLoader":111,"./renderers/loaders/DependencyLoader.ts":111,"./renderers/loaders/DependencyLoaderInterface":264,"./renderers/loaders/DependencyLoaderInterface.ts":264,"./renderers/loaders/SignInLoader":195,"./renderers/loaders/SignInLoader.ts":195,"./renderers/loaders/SubscribeLoader":197,"./renderers/loaders/SubscribeLoader.ts":197,"./repositories/UserRepository":90,"./repositories/UserRepository.ts":90,"./services/SignInService":80,"./services/SignInService.ts":80,"./services/SubscriptionService":193,"./services/SubscriptionService.ts":193,"./utils/defer":265,"./utils/defer.ts":265},n={80:9,90:9,111:9,112:9,135:7,160:9,193:9,194:9,195:9,196:9,197:9,211:9,254:9,255:9,256:9,257:9,258:9,259:9,260:7,261:7,262:7,263:7,264:7,265:9};function i(t){return s(t).then(function(t){return r.t(t,n[t])})}function s(n){return r.e("SwG").then(function(){var t=o[n];if(t+1)return t;var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(o)},i.resolve=s,i.id=318,t.exports))},function(t,V,e){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=e(322),i=e(323),s=e(3.SlowBuft)},V.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPP1}}(),V.kMaxLength=n(),l.poolSize=8192,l._augm,t},l.fn)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.al,s},l.allocUnsafe=function(t){return u(null,t)},l.allocUnsafeSt)},l.isBufr)},l.comp:0},l.isEncod1}},l.con r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swais},l.prototype.swais},l.prototype.swais},l.prototype.toStrs)},l.prototype.equt)},l.prototype.insp>"},l.prototype.comp:0},l.prototype.inclun)},l.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},l.prototype.lastInde1)},l.prototype.wr0}},l.prototype.toJ)}};var C=4ion B(t,e,n,r,o){return o||x(t,0,n,4),i.write(t,e,n,r,23,4),+8}l.prototype.sl n},l.prototype.readUIn r},l.prototype.readUIn r},l.prototype.readUIt]},l.prototype.readUInt1<8},l.prototype.readUInt11]},l.prototype.readUInt33]},l.prototype.readUInt3])},l.prototype.readIn,r},l.prototype.readIn,i},l.prototype.readIt]},l.prototype.readInt1:n},l.prototype.readInt1:n},l.prototype.readInt324},l.prototype.readInt33]},l.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubl8)},l.prototype.writeUIn+n},l.prototype.writeUIn+n},l.prototype.writeUI+1},l.prototype.writeUInt1+2},l.prototype.writeUInt1+2},l.prototype.writeUInt3+4},l.prototype.writeUInt3+4},l.prototype.writeIn+n},l.prototype.writeIn+n},l.prototype.writeI+1},l.prototype.writeInt1+2},l.prototype.writeInt1+2},l.prototype.writeInt3+4},l.prototype.writeInt3+4},l.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},l.prototype.writeDoubln)},l.prototype.c i},l.prototype.fis};var R=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(}}).call(this,e(119)}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"PublicEvent",function(){return Zp}),n.d(r,"CustomTrackedEvent",function(){return Xp}),n.d(r,"OnAuthorized",function(){return ui}),n.d(r,"OnHasAccess",function(){return li}),n.d(r,"OnHasAccessNotEntitled",function(){return hi}),n.d(r,"OnHasNoActiveSubscription",function(){return gi}),n.d(r,"OnLoggedIn",function(){return vi}),n.d(r,"OnNotAuthorized",function(){return _i}),n.d(r,"OnActivationAccountCreated",function(){return hs}),n.d(r,"OnAccessDenied",function(){return xs}),n.d(r,"OnAccessGranted",function(){return Ls}),n.d(r,"OnAccessTemplateClosed",function(){return Fs}),n.d(r,"OnAccessTemplateShown",function(){return Vs}),n.d(r,"OnAdblockFound",function(){return Gs}),n.d(r,"OnCampaignFound",function(){return Zs}),n.d(r,"OnConversationDetermined",function(){return Xs}),n.d(r,"OnConversationExpired",function(){return Qs}),n.d(r,"OnDynamicMeterFound",function(){return Ys}),n.d(r,"OnFinish",function(){return $s}),n.d(r,"OnInit",function(){return ea}),n.d(r,"OnMeterLevelSet",function(){return ia}),n.d(r,"OnRun",function(){return aa}),n.d(r,"OnActionNotFound",function(){return ua}),n.d(r,"OnConversationNotFound",function(){return la}),n.d(r,"OnLoadError",function(){return ha}),n.d(r,"OnViewsAutoReset",function(){return ga}),n.d(r,"OnABCookieSet",function(){return va}),n.d(r,"OnABCookieFail",function(){return _a}),n.d(r,"OnChangedDeviceId",function(){return Ca}),n.d(r,"OnNxtError",function(){return Aa}),n.d(r,"OnLoginClosed",function(){return Pa}),n.d(r,"OnLoginError",function(){return xa}),n.d(r,"OnLoginShown",function(){return Ua}),n.d(r,"OnLoginSuccess",function(){return La}),n.d(r,"OnNewsletterArrival",function(){return Va}),n.d(r,"OnNewsletterSignUp",function(){return Ma}),n.d(r,"OnNewsletterSignUpFails",function(){return Ga}),n.d(r,"OnRegistrationClosed",function(){return Xa}),n.d(r,"OnRegistrationError",function(){return Qa}),n.d(r,"OnRegistrationShown",function(){return Ya}),n.d(r,"OnRegistrationSuccessLogin",function(){return qa}),n.d(r,"OnRegistrationSuccessRegister",function(){return tc}),n.d(r,"OnInnerAuthorized",function(){return cc}),n.d(r,"OnInnerHasAccess",function(){return pc}),n.d(r,"OnInnerHasAccessNotEntitled",function(){return fc}),n.d(r,"OnInnerHasNoActiveSubscription",function(){return dc}),n.d(r,"OnInnerLoggedIn",function(){return yc}),n.d(r,"OnInnerNotAuthorized",function(){return mc}),n.d(r,"OnInnerActivationAccountCreated",function(){return _u}),n.d(r,"OnInnerAccessDenied",function(){return Iu}),n.d(r,"OnInnerAccessGranted",function(){return Eu}),n.d(r,"OnInnerAccessTemplateClosed",function(){return Du}),n.d(r,"OnInnerAccessTemplateShown",function(){return Bu}),n.d(r,"OnInnerAdblockFound",function(){return Tu}),n.d(r,"OnInnerCampaignFound",function(){return ku}),n.d(r,"OnInnerConversationDetermined",function(){return Nu}),n.d(r,"OnInnerConversationExpired",function(){return ju}),n.d(r,"OnInnerDynamicMeterFound",function(){return Wu}),n.d(r,"OnInnerFinish",function(){return Hu}),n.d(r,"OnInnerInit",function(){return Ju}),n.d(r,"OnInnerMeterLevelSet",function(){return zu}),n.d(r,"OnInnerRun",function(){return $u}),n.d(r,"OnInnerActionNotFound",function(){return ep}),n.d(r,"OnInnerConversationNotFound",function(){return rp}),n.d(r,"OnInnerLoadError",function(){return ip}),n.d(r,"OnInnerViewsAutoReset",function(){return ap}),n.d(r,"OnInnerABCookieSet",function(){return up}),n.d(r,"OnInnerABCookieFail",function(){return lp}),n.d(r,"OnInnerBeforeContentChanged",function(){return hp}),n.d(r,"OnInnerLoginClosed",function(){return vp}),n.d(r,"OnInnerLoginError",function(){return _p}),n.d(r,"OnInnerLoginShown",function(){return Cp}),n.d(r,"OnInnerLoginSuccess",function(){return Sp}),n.d(r,"OnInnerNewsletterArrival",function(){return Ep}),n.d(r,"OnInnerNewsletterSignUp",function(){return Dp}),n.d(r,"OnInnerNewsletterSignUpFails",function(){return Bp}),n.d(r,"OnInnerRegistrationClosed",function(){return Tp}),n.d(r,"OnInnerRegistrationError",function(){return kp}),n.d(r,"OnInnerRegistrationShown",function(){return Np}),n.d(r,"OnInnerRegistrationSuccessLogin",function(){return jp}),n.d(r,"OnInnerRegistrationSuccessRegister",function(){return Wp}),n.d(r,"OnFlittzButtonClick",function(){return Ii}),n.d(r,"OnFlittzPaywallClosed",function(){return Ei}),n.d(r,"OnFlittzPaywallShown",function(){return Di}),n.d(r,"OnNewsdayButtonClick",function(){return Bi}),n.d(r,"OnActionClosed",function(){return Fi}),n.d(r,"OnActionShown",function(){return Vi}),n.d(r,"OnButtonClick",function(){return ji}),n.d(r,"OnPaywallShown",function(){return Wi}),n.d(r,"OnJsCallFired",function(){return Hi}),n.d(r,"OnActivationFormClosed",function(){return zi}),n.d(r,"OnActivationLinkErrorStepClosed",function(){return $i}),n.d(r,"OnActivationLinkStepClosed",function(){return es}),n.d(r,"OnActivationLinkSuccessStepClosed",function(){return rs}),n.d(r,"OnActivationLoginStepClosed",function(){return is}),n.d(r,"OnActivationFormShown",function(){return as}),n.d(r,"OnActivationLinkStepShown",function(){return us}),n.d(r,"OnActivationLoginStepShown",function(){return ls}),n.d(r,"OnActivationLinkErrorStepShown",function(){return vs}),n.d(r,"OnActivationLinkStepSubmitted",function(){return _s}),n.d(r,"OnActivationLinkSuccessStepShown",function(){return Cs}),n.d(r,"OnInnerFlittzButtonClick",function(){return Ac}),n.d(r,"OnInnerFlittzPaywallClosed",function(){return Oc}),n.d(r,"OnInnerFlittzPaywallShown",function(){return Pc}),n.d(r,"OnInnerNewsdayButtonClick",function(){return xc}),n.d(r,"OnInnerActionClosed",function(){return Lc}),n.d(r,"OnInnerActionShown",function(){return Fc}),n.d(r,"OnInnerButtonClick",function(){return Nc}),n.d(r,"OnInnerPaywallShown",function(){return jc}),n.d(r,"OnInnerJsCallFired",function(){return Wc}),n.d(r,"OnInnerActivationLinkErrorStepShown",function(){return Kc}),n.d(r,"OnInnerActivationLinkStepSubmitted",function(){return zc}),n.d(r,"OnInnerActivationLinkSuccessStepShown",function(){return $c}),n.d(r,"OnInnerActivationFormClosed",function(){return ru}),n.d(r,"OnInnerActivationLinkErrorStepClosed",function(){return iu}),n.d(r,"OnInnerActivationLinkStepClosed",function(){return au}),n.d(r,"OnInnerActivationLinkSuccessStepClosed",function(){return uu}),n.d(r,"OnInnerActivationLoginStepClosed",function(){return lu}),n.d(r,"OnInnerActivationFormShown",function(){return hu}),n.d(r,"OnInnerActivationLinkStepShown",function(){return gu}),n.d(r,"OnInnerActivationLoginStepShown",function(){return vu});n(270),n(271),n(272),n(273),n(274);var o,i,s,a,c,u,p,l,f,h,d,g,y,v,m,_,b,C,w,S,A,I,O,E,P,D,x,B,U,R,L,T,F,k,V,N,M,j,G,W,Z,H,X,J,Q,K,Y,z,q,$,tt,et,nt,rt,ot,it,st,at,ct,ut,pt,lt,ft,ht,dt,gt,yt,vt,mt,_t,bt,Ct,wt,St,At,It,Ot,Et,Pt,Dt,xt,Bt,Ut,Rt,Lt,Tt,Ft,kt,Vt,Nt,Mt,jt,Gt,Wt,Zt,Ht,Xt,Jt,Qt,Kt,Yt,zt,qt,$t,te,ee,ne,re,oe,ie,se,ae,ce,ue,pe,le,fe,he,de,ge,ye,ve,me,_e,be,Ce,we,Se,Ae,Ie,Oe,Ee,Pe,De,xe,Be,Ue,Re,Le,Te,Fe,ke,Ve,Ne,Me,je,Ge,We,Ze,He,Xe,Je,Qe,Ke,Ye,ze,qe,$e,tn,en,nn,rn,on,sn,an,cn,un,pn,ln,fn,hn,dn,gn,yn,vn,mn,_n,bn,Cn,wn,Sn,An,In,On,En,Pn,Dn,xn,Bn,Un,Rn,Ln,Tn=n(6),Fn=n(42),kn=n(19),Vn=n(9),Nn=n(334),Mn=n(339),jn=function(){function t(){}return t.prototype.GetCurrentConversationViewCount=function(){return Tn.a.getCurrentConversationViewCount()},t.prototype.GetCurrentDynamicMeterViewCount=function(){return Tn.a.getCurrentDynamicMeterViewCount()},t.prototype.GetLastPublishDate=function(){return Fn.a.getPublishDate()},t.prototype.GetSiteCode=function(){return kn.a.getSiteCode()},t.prototype.GetConfigCode=function(){return kn.a.getConfigCode()},t.prototype.GetCurrentConversations=function(){return Nn.a.get(Mn.a.CampaignInstance).getCurrentConversations()},t.prototype.GetCurrentConversation=function(){return Nn.a.get(Mn.a.CampaignInstance).getCurrentConversation()},t.prototype.GetCurrentMeterLeId},t.prototype.GetRegistrationType=function(){return Fn.a.getRegistrationType()},t.prototype.GetViewedArticles=function(){var t=Nn.a.get(Mn.a.CampaignInstance).getCurrentConversation();return t&&Tn.a.getViewedArticles(t.Id)||[]},t.prototype.GetArticlesLeft=function(){var t=Nn.a.get(Mn.a.CampaignInstance).getCurrentConversationType();return t?t.properties.getFreeViewsLeft():null},t.prototype.GetUserState=function(){return Vn.a.getUserState()},t.prototype.GetActualZipCodes=function(){return Vn.a.getUserZipCodes()},t.prototype.GetUserZipCodes=function(){return Vn.a.getLoginUserZipCodes()},t.prototype.GetUserProfile=function(){return Vn.a.getAuthProfile()},t.prototype.GetConnextPaywallCoo()},t.prototype.ClearUser=function(){Vn.a.clearStorage()},t}(),Gn=n(123),Wn=n(241),Zn=n(39),Hn=n(175),Xn=n(355),Jn=n(28),Qn=n(43),Kn=function(){function t(){this.DisplayName="ConneXt",this.USER_STATES=Gn.q,this.Spinner={loaders:[],on:function(t){var e;t[0]&&(t=t[0]),e=new Xn.a(t),this.loaders.push(e),e.on()},})}},this.Logger={GetSessionLogs:Wn.a.getLogHistory.bind(Wn.a),StartTracing:function(){Wn.a.setOptions({debug:!0})},StopTrac})}},this.Storage=new jn}return t.prototype.Logout=function(){Zn.a.logout()},t.prototype.OpenResetPasswordForm=function(){Zn.a.showResetPasswordForm()},t.prototype.CloseTempla()},t.prototype.GetVersionInfo=function(){return Object(Jn.r)()},t.prototype.IntegrateProd()},t.prototype.GetVers()},t.prototype.GetABTestCookie=function(){return Qn.a.getCookie()},t.prototype.DebugPanelOpen=function(){kn.a.setDebugMode(!0)},t.prototype.DebugPanelCl1)},t.prototype.DebugPanelResetManualSet=function(){kn.a.resetManualDebugMode()},t}(),Yn=n(0),zn=n.n(Yn),qn=function(){function t(t){}return t.prototype.check=function(t){return t||{}},t}(),$n=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.TypeName=t.TypeName,e}return $n(t,n),t}(qn),er=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nr=function(n){function t(t){var e=n.call(this,t)||this;return e.Segments=[],t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Description=t.Description,e.MeterLevelId=t.MeterLevelId,e.Priority=t.Order,Object(Yn.each)(t.Segments,function(t){e.Segments.push(new tr(t))}),e}return er(t,n),t}(qn),rr=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),or=function(n){function t(t){var e=n.call(this,t)||this;return e.Rules=[],t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Description=t.Description,e.Active=t.Active,Object(Yn.each)(t.Rules,function(t){e.Rules.push(new nr(t))}),e}return rr(t,n),t}(qn),ir=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Active=t.Active,e.CodesAreNotRequired=t.CodesAreNotRequired,e.Name=t.Name,e}return ir(t,n),t}(qn),ar=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Description=t.Description,e.ActionType=t.ActionType,e.ActionTypeId=t.ActionTypeId,e.Order=t.Order,e.UserDefinedData=t.What?t.What.UserDefinedData:"",e}return ar(t,n),t}(qn),ur=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Ended=t.Ended,e.Expiration=t.Expiration,e.Started=t.Started,e}return ur(t,n),t}(qn),lr=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.PaywallLimit=t.PaywallLimit,e.Views=t.Views,e.Date=new pr(t.Date),e.ArticleLeft=t.ArticleLeft,e.ViewType=t.ViewType,e.PaywallInfo=t.PaywallInfo,e}return lr(t,n),t}(qn),hr=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dr=function(n){function t(t){var e=n.call(this,t)||this;return e.Actions=[],t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Order=t.Order,Object(Yn.each)(t.Actions,function(t){e.Actions.push(new cr(t))}),e.Properties=new fr(t.Properties),e}return hr(t,n),t}(qn),gr=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yr=function(n){function t(t){var e=n.call(this,t)||this;return(t=e.check(t)).Free&&(e.Free=e.setConversation(t.Free)),t.Metered&&(e.Metered=e.setConversation(t.Metered)),t.Premium&&(e.Premium=e.setConversation(t.Premium)),e}return gr(t,n),t.prototype.setConversation=function(t){var e=[];return Object(Yn.isArray)(t)?(Object(Yn.each)(t,function(t){e.push(new dr(t))}),e):new dr(t)},t}(qn),vr=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Conversations=new yr(t.Conversations),e}return vr(t,n),t}(qn),_r=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),br=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Active=t.Active,e.Code=t.Code,e.Name=t.Name,e}return _r(t,n),t}(qn),Cr=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.SiteCode=t.Code,e.Active=t.Active,e.RegistrationTypeId=t.RegistrationTypeId,e.Client=new br(t.Client),e}return Cr(t,n),t}(qn),Sr=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ar=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.LastPublishDate=t.LastPublishDate,e.DefaultProduct=t.DefaultProduct,e.DefaultMeterLevel=t.DefaultMeterLevelId,e.ReturnUrl=t.ReturnUrl,e.ActivationOnlyConfiguration=t.ActivationOnlyConfiguration,e.UseParentDomain=t.UseParentDomain,e.Site=new wr(t.Site),e.Code=t.Code,e}return Sr(t,n),t}(qn),Ir=function(t){t&&(this.Value=t.Value,this.GroupName=t.GroupName,this.Split=t.Split)},Or=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.StartDate=new Date(t.StartDate),this.EndDate=new Date(t.EndDate),this.Metrics=t.Metrics,this.Groups=zn.a.map(t.Groups,function(t){return new Ir(t)}),this.DefaultGroup=t.DefaultGroup)},Er=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pr=function(n){function t(t){var e=n.call(this,t)||this;return e.AllowedIPlistSets=[],t=e.check(t),e.Id=t.Id,e.ABTest=new Or(Qn.a.getTest()),e.Campaign=new mr(t.Campaign),e.DynamicMeter=new or(t.DynamicMeter),e.Settings=new Ar(Object.assign({Code:t.Code},t.Settings)),Object(Yn.each)(t.WhitelistSets,function(t){e.AllowedIPlistSets.push(new sr(t))}),e}return Er(t,n),t}(qn),Dr=n(352),xr=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Br=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AccessLevel=new Dr.a(t.AccessLevel),e.EEditionUrl=t.EEditionUrl,e.Errors=t.Errors,e.IsAuthorized=t.IsAuthorized,e.Subscription=t.Subscription,e.Success=t.Success,e}return xr(t,n),t}(qn),Ur=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rr=function(n){function t(t){var e=n.call(this,t)||this;return e.OwnedSubscription=[],t=e.check(t),e.AuthSystem=t.AuthSystem,e.DigitalAccess=new Br(t.DigitalAccess),e.IgmRegID=t.IgmRegID,e.NzwLid=t.NzwLid,e.MasterId=t.MasterId,e.OwnedSubscription=t.OwnedSubscription,e.DisplayName=t.DisplayName,e.EmailPreferences=t.EmailPreferences,Object(Yn.each)(t.OwnedSubscription,function(t){e.OwnedSubscription.push(t)}),e.UserToken=t.UserToken,e.CustomData=t.CustomData||null,e}return Ur(t,n),t}(qn),Lr=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lr(e,t),e.prototype.GetLocalConfiguration=function(){return new Pr(Fn.a.getConfiguration())},e.prototype.GetCurrentConversations=function(){return new yr(Nn.a.get(Mn.a.CampaignInstance).getCurrentConversations())},e.prototype.GetCurrentConversation=function(){return new dr(Nn.a.get(Mn.a.CampaignInstance).getCurrentConversation())},e.prototype.GetCampaignData=function(){return new mr(Fn.a.getCampaignData())},e.prototype.GetUserData=function(){return new Rr(Vn.a.getUserData())},e}(jn),Fr=(C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kr=function(r){function t(t){var e=r.call(this,t)||this;t=e.check(t);var n=Nn.a.get(Mn.a.Meter);return e.Attr=t.attr,e.ConfigCode=t.configCode,e.ConfigSettings=new Ar(Fn.a.getConfigurationSettings()),e.CurrentMeterLevelId=n?n.Id:null,e.Debug=t.debug,e.Environment=t.environment,e.IntegrateFlittz=t.integrateFlittz,e.SettingsKey=t.settingsKey,e.Silentmode=t.silentmode,e.SiteCode=t.siteCode,e.PublicEventHandlers=t.publicEventHandlers,e}return Fr(t,r),t}(qn),Vr=n(333),Nr=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mr=function(e){function t(){var t=e.call(this)||this;return t.DisplayName="NxtInner",t.Storage=new Tr,t}return Nr(t,e),t.prototype.GetOptions=function(){return new kr(kn.a.getOptions())},t.prototype.GetEncryptedValue=function(t){return Wn.a.warn("This method is about to be deprecated. Recommended to stop using it"),t},t.prototype.GetDecryptedVa,t},t.prototype.SetSecuredMode=function(t){Vr.a.dispatch(Gn.h.StartDebugSecureMode,t)},t.prototype.GetDecryptedUserData=function(){return Vn.a.getCachedUserData()},t}(Kn),jr=functio){}return t.prototype.ch{}},t}(),Gr=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.TypeName=t.TypeName,e}return Gr(t,n),t}(jr),Zr=(A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hr=function(n){function t(t){var e=n.call(this,t)||this;return e.Segments=[],t=e.check(t),e.Name=t.Name,e.Description=t.Description,e.MeterLevelId=t.MeterLevelId,e.Priority=t.Order,Object(Yn.each)(t.Segments,function(t){e.Segments.push(new Wr(t))}),e}return Zr(t,n),t}(jr),Xr=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jr=function(n){function t(t){var e=n.call(this,t)||this;return e.Rules=[],t=e.check(t),e.Name=t.Name,e.Description=t.Description,e.Active=t.Active,Object(Yn.each)(t.Rules,function(t){e.Rules.push(new Hr(t))}),e}return Xr(t,n),t}(jr),Qr=(O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Active=t.Active,e.CodesAreNotRequired=t.CodesAreNotRequired,e.Name=t.Name,e}return Qr(t,n),t}(jr),Yr=(E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zr=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Description=t.Description,e.ActionType=t.ActionType,e.ActionTypeId=t.ActionTypeId,e.Order=t.Order,e.UserDefinedData=t.What?Array.isArray(t.What)?t.What[0].UserDefinedData:t.What.UserDefinedData:"",e}return Yr(t,n),t}(jr),qr=(P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$r=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Ended=t.Ended,e.Expiration=t.Expiration,e.Started=t.Started,e}return qr(t,n),t}(jr),to=(D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),eo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.PaywallLimit=t.PaywallLimit,e.Views=t.Views,e.Date=new $r(t.Date),e.ArticleLeft=t.ArticleLeft,e.ViewType=t.ViewType,e.PaywallInfo=t.PaywallInfo,e}return to(t,n),t}(jr),no=(x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ro=function(n){function t(t){var e=n.call(this,t)||this;return e.Actions=[],t=e.check(t),e.Id=t.Id,e.Name=t.Name,e.Order=t.Order,Object(Yn.each)(t.Actions,function(t){e.Actions.push(new zr(t))}),e.Properties=new eo(t.Properties),e}return no(t,n),t}(jr),oo=(B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),io=function(n){function t(t){var e=n.call(this,t)||this;return(t=e.check(t)).Free&&(e.Free=e.setConversation(t.Free)),t.Metered&&(e.Metered=e.setConversation(t.Metered)),t.Premium&&(e.Premium=e.setConversation(t.Premium)),e}return oo(t,n),t.prototype.setConversation=function(t){var e=[];return Object(Yn.isArray)(t)?(Object(Yn.each)(t,function(t){e.push(new ro(t))}),e):new ro(t)},t}(jr),so=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ao=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Name=t.Name,e.Conversations=new io(t.Conversations),e}return so(t,n),t}(jr),co=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Active=t.Active,e.Code=t.Code,e.Name=t.Name,e}return co(t,n),t}(jr),po=(L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.SiteCode=t.Code,e.Active=t.Active,e.RegistrationTypeId=t.RegistrationTypeId,e.Client=new uo(t.Client),e}return po(t,n),t}(jr),fo=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ho=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.LastPublishDate=t.LastPublishDate,e.DefaultProduct=t.DefaultProduct,e.DefaultMeterLevel=t.DefaultMeterLevelId,e.ReturnUrl=t.ReturnUrl,e.ActivationOnlyConfiguration=t.ActivationOnlyConfiguration,e.UseParentDomain=t.UseParentDomain,e.Site=new lo(t.Site),e.Code=t.Code,e}return fo(t,n),t}(jr),go=function(t){t&&(this.Value=t.Value,this.GroupName=t.GroupName,this.Split=t.Split)},yo=function(t){t&&(this.Id=t.Id,this.Name=t.Name,this.StartDate=new Date(t.StartDate),this.EndDate=new Date(t.EndDate),this.Metrics=t.Metrics,this.Groups=zn.a.map(t.Grot)}),this.DefaultGroup=t.DefaultGroup)},vo=(F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mo=function(n){function t(t){var e=n.call(this,t)||this;return e.AllowedIPlistSets=[],t=e.check(t),e.ABTest=new yo(Qn.a.getTest()),e.Campaign=new ao(t.Campaign),e.DynamicMeter=new Jr(t.DynamicMeter),e.Settings=new ho(Object.assign({Code:t.Code},t.Settings)),Object(Yn.each)(t.WhitelistSets,function(t){e.AllowedIPlistSets.push(new Kr(t))}),e}return vo(t,n),t}(jr),_o=(k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bo=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AccessLevel=new Dr.a(t.AccessLevel),e.EEditionUrl=t.EEditionUrl,e.Errors=t.Errors,e.IsAuthorized=t.IsAuthorized,e.Subscription=t.Subscription,e.Success=t.Success,e}return _o(t,n),t}(jr),Co=(V=function(t,e){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wo=function(n){function t(t){var e=n.call(this,t)||this;return e.OwnedSubscriptions=[],t=e.check(t),e.AuthSystem=t.AuthSystem,t.DigitalAccess&&!t.DigitalAccess.Subscription&&(t.DigitalAccess.Subscription=t.Subscriptions?t.Subscriptions[0]:null),e.DigitalAccess=new bo(t.DigitalAccess),e.IgmRegID=t.IgmRegID,e.Email=t.Email,e.NzwLid=t.NzwLid,e.MasterId=t.MasterId,e.DisplayName=t.DisplayName,e.EmailPreferences=t.EmailPreferences,Object(Yn.each)(t.Subscriptions,function(t){e.OwnedSubscriptions.push(t)}),e.UserToken=t.UserToken,e.CustomData=t.CustomData||null,e}return Co(t,n),t}(jr),So=n(279),Ao=(N=function(t,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ao(e,t),e.prototype.GetLocalConfiguration=function(){return new mo(Fn.a.getConfiguration())},e.prototype.GetCurrentConversations=function(){return new io(Nn.a.get(Mn.a.CampaignInstance).getCurrentConversations())},e.prototype.GetCurrentConversation=function(){return new ro(Nn.a.get(Mn.a.CampaignInstance).getCurrentConversation())},e.prototype.GetCampaignData=function(){return new ao(Fn.a.getCampaignData())},e.prototype.GetUserData=function(){return new wo(Vn.a.getUserData())},e.prototype.LatestSessions=function(){return So.a.getUserSessionStorage()},e}(jn),Oo=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Eo=function(r){function t(t){var e=r.call(this,t)||this;t=e.check(t);var n=Nn.a.get(Mn.a.Meter);return e.Attr=t.attr,e.ConfigCode=t.configCode,e.ConfigSettings=new ho(Fn.a.getConfigurationSettings()),e.CurrentMeterLevelId=n?n.Id:null,e.Debug=t.debug,e.Environment=t.environment,e.IntegrateFlittz=t.integrateFlittz,e.SettingsKey=t.settingsKey,e.Silentmode=t.silentmode,e.SiteCode=t.siteCode,e.PublicEventHandlers=t.publicEventHandlers,e}return Oo(t,r),t}(jr),Po=n(251),Do=n(122),xo=n(29),Bo=n(344),Uo=n(278),Ro=n(356),Lo=n(30),To=new(function(){function t(){}return t.prototype.sendSnapshot=function(){return this.lastDispatchedSnapshot={ssid:Bo.a.getGuid(),sessionId:kn.a.getSessionId(),snapshot:this.getSnapshot()},this.sendSnapshotToServer(this.lastDispatchedSnapshot)},t.prototype.getSnapshot=function(){return{localStorageRecords:Lo.a.getAllConnextRecords(),cookieRecords:Uo.a.getAllConnextRecords(),logs:Wn.a.getLogHistory(),metadata:this.getMetaData()}},t.prototype.getLastDispatchedSnapShotName=function(){if(!this.lastDispatchedSnapshot)return null;var t=this.lastDispatchedSnapshot.snapshot.metadata.date,e=this.lastDispatchedSnapshot.sessionId,n=this.lastDispatchedSnapshot.ssid;return t.toISOString().slice(0,10)+"/"+e+"("+n+")"},t.prototype.getMetaData=function(){return{sessionId:kn.a.getSessionId(),date:Do.a.get(),userAgent:xo.a.getUserMeta(),userId:Bo.a.getGuid(),isIncognito:"true"==Bo.a.getIncognitoMode().toLowerCase(),location:Bo.a.getInformationFromStorage()}},t.prototype.sendSnapshotToServer=function(t){var e=window.btoa(encodeURIComponent(JSON.stringify(t))),n=this.sendSnapshotToServer.name,r="snapshot/create";return Wn.a.log(n+" calling...",r,"data",e),Ro.a.post(r,e)},t}()),Fo=(j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ko=function(e){function t(){var t=e.call(this)||this;return t.DisplayName="ConneXt",Nn.a.set(Mn.a.Application,new Po.a),t.Storage=new Io,t}return Fo(t,e),t.prototype.Run=function(t){var e=Nn.a.get(Mn.a.Application);Wn.a.log("Connext Run from public layer",e),e.run(t,!0)},t.prototype.init=function(t){Nn.a.get(Mn.a.Application).init(t)},t.prototype.GetOpti))},t.prototype.SnapshotLocalD()},t}(Kn),Vo=n(45),No=n(346),Mo=n(235),jo=n(207),Go=function(t){var e=this;this.Segments=[],t&&(this.Id=parseInt(t.Id),this.Name=t.Name,this.Description=t.Description,this.MeterLevelId=parseInt(t.MeterLevelId),this.Order=parseInt(t.Order),Object(Yn.each)(t.Segme))}))},Wo=function(t){var e=this;this.Rules=[],t&&(this.Id=t.Id,this.Name=t.Name,this.Description=t.Description,this.Active=t.Active,Object(Yn.each)(t.Ru))}))},Zo=function(t){t&&(this.ResetOnDay=t.ResetOnDay,this.ResetFrequency=t.ResetFrequency,this.ResetsStartDate=t.ResetsStartDate)}l)},Xo=function(t){t&&(this.Name=t.Name,this.Value=t.Value)},Jo=function(){function t(t){this.ActionUrlsParams=[],t&&(this.DefaultMeterLevelId=t.DefaultMeterLevelId,this.LastPublishDate=t.LastPublishDate,this.DefaultProduct=t.DefaultProduct,this.ReturnUrl=t.ReturnUrl,this.PluginDebugAllowed=t.PluginDebugAllowed,this.ActivationOnlyConfiguration=t.ActivationOnlyConfiguration,this.UseParentDomain=t.UseParentDomain,this.Site=t.Site,this.ActivationForm=new Ho(t.ActivationForm),this.LoginTemplate=new Ho(t.LoginTemplate),this.CookiesPrivacyForm=new Ho(t.CookiesPrivacyForm),this.ViewsAutoResetSettings=new Zo(t.ViewsAutoResetSettings),this.RegistrationForm=new Ho(t.RegistrationForm),this.ActionUrlsParams=this.setQueryParams(t.ActionUrlsParams),this.ResetPasswordForm=new Ho(t.ResetPasswordForm))}return t.prototype.setQueryParams=function(t){var e=[];return Object(Yn.each))}),e},t}()d)},Ko=n(209)e)},zo=function(){function t(t){var e=this;this.WhitelistSets=[],this.PublishedConfigurations=[],t&&(this.Id=t.Id,this.ABTest=new Ko.a(t.ABTest),this.Name=t.Name,this.Code=t.Code,this.Active=t.Active,this.Campaign=new Mo.a(t.Campaign),this.DynamicMeter=new Wo(t.DynamicMeter),this.Settings=new Jo(t.Settings),Object(Yn.each)(t.WhitelistSt)}),Object(Yn.each)(t.PublishedConfigurati))}),this.SwG=new Qo(t.SwG),this.validateSelf(t))}return t.prototype.getRegistrationTypll},t.prototype.getCampaignNll},t.prototype.validateSelf=function(t){var e="ConfigurationPostValidation: ";this.Campaign&&!Object(Yn.isEmpty)(this.Campaign)||Wn.a.error(e+"Campaign property is empty","is raw object empty: "+Object(Yn.isEmpty)(t.Campaign)),this.DynamicMeter&&!Object(Yn.isEmpty)(this.DynamicMeter)||Wn.a.error(e+"DynamicMeter property is empty","is raw object empty: "+Object(Yn.isEmpty)(t.DynamicMeter)),this.Settings&&!Object(Yn.isEmpty)(this.Settings)||Wn.a.error(e+"Settings property is empty","is raw object empty: "+Object(Yn.isEmpty)(t.Settings))},t}(),qo=n(345),$o=n(222),ti=function(){var t=Do.a.get();this.Id=Object(Jn.g)(),this.Date=t.toISOString(),this.TimeStamp=t.getTime(),this.SessionId=kn.a.getSessionId()},ei=function(){function t(t){this.EventData=null,this.Aui=Nn.a.get(Mn.a.DeviceId)||0,this.EventInfo=new ti;var e=this.getConversationModel();e&&(this.CampaignId=e.CampaignId);var n=new zo(Fn.a.getConfiguration());if(n){var r=n.getRegistrationTypeId();this.AuthSystem=r?Gn.a[r]:null,this.CampaignName=n.getCampaignName()}var o=Nn.a.get(Mn.a.Meter);o&&(this.MeterLevelId=o.Id,this.MeterLevelMethod=o.Method,this.MeterLevel=o.Level);var i=Vn.a.getCachedUserData();i&&(this.AuthSystem=i.AuthSystem,this.AuthProfile=i.AuthProfile),this.EventData=t}return t.prototype.getConversationModel=function(){var t=Nn.a.get(Mn.a.CurrentConversation);return t&&t.conversation?t.conversation:null},t}(),ni=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ri=function(i){function t(t){var e=i.call(this,t)||this,n=e.getConversationModel();n&&(e.Conversation=new ro(n),e.CampaignId=n.CampaignId);var r=new zo(Fn.a.getConfiguration());r&&(e.Config=new mo(r),e.CampaignName=r.getCampaignName());var o=Vn.a.getCachedUserData();return o&&(e.MG2AccountData=new wo(o)),e.EventData=t,e}return ni(t,i),t.prototype.getAnaliticsDll},t.prototype.trackEvent=function(e,t,n){if(-1!==$o.a.indexOf(e)){var r=this.getAnaliticsData(t,n);r&&r.then&&"function"==typeof r.then?r.then(function(t){qo.a.trackEvent(e,t)}).ca})}):qo.a.trackEvent(e,r)}},t.prototype.isNeedDispachInnerEvent=function(){return!0},t.prototype.isIn!1},t.prototype.dispatchInnerEvent=function(t,e){if(this.isNeedDispachInnerEvent()){var n="onInner"+(e||this.constructor.name).substr(2);Vr.a.dispatch(n,t)}},t}(ei),oi=(W=function(t,e){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}W(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oi(e,t),e.prototype.getGroupDll},e.prototype.dispatchGroupEvent=function(t){Vr.a.dispatch(t,this.getGroupData())},e}(ri),si=(Z=function(t,e){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ai=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={AuthSystem:t.AuthSystem,MG2AccountData:new wo(t.MG2AccountData),AuthProfile:t.AuthProfile||null},e.dispatchGroupEvent(Vo.a.AnyAccountStatusEvent),e}return si(t,n),t.prototype.getGroupData=function(){return this.EventData},t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.UserId]=this.EventData.MG2AccountData.UserId,e[No.a.EncryptedCustomerRegistrationId]=this.EventData.MG2AccountData.IgmRegID,e[No.a.AuthSystem]=this.EventData.AuthSystem,e[No.a.UserState]=Vn.a.getUserState(),e[No.a.NewzwareLoginId]=this.EventData.MG2AccountData.NzwLid,e},t}(ii),ci=(H=function(t,e){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ci(e,t),e}(ai),pi=(X=function(t,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pi(e,t),e}(ai),fi=(J=function(t,e){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}J(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fi(e,t),e}(ai),di=(Q=function(t,e){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return di(e,t),e}(ai),yi=(K=function(t,e){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yi(e,t),e}(ai),mi=(Y=function(t,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e}(ai),bi=(z=function(t,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ci=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyActionEvent"),e}return bi(t,n),t}(ii),wi=(q=function(t,e){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Si=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new zr(t),e}return wi(t,n),t}(Ci),Ai=($=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ai(e,t),e}(Si),Oi=(tt=function(t,e){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e}(Si),Pi=(et=function(t,e){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}et(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pi(e,t),e}(Si),xi=(nt=function(t,e){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),t}(Si),Ui=n(16),Ri=(rt=function(t,e){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Li=function(n){function t(t){var e=n.call(this,t)||this;return e.templateSelector=".Mg2-connext",e.actionIdPrefix="ConneXt_Action_Id-",e.authenticationIdPrefix="ConneXt_Authentication-",e.substepAttr="data-nxt-template-substep",e.EventData=Object(Yn.extend)(e.EventData,new eo(e.Conversation?e.Conversation.Properties:null),{ZipCodes:Vn.a.getUserZipCodes()}),e}return Ri(t,n),t.prototype.getAnaliticsData=function(t){var e={},n=null;if(this.checkIsActionData(t))n=t;else{var r=this.getCurrentTemplate(t.target);if(r&&this.checkActionTemplate(r)){var o=this.getActionIdByTemplate(r);n=Object(Yn.find)(this.Conversation.Actions,function(t){return t.Id==o})}}if(e[No.a.ActionId]=n?n.Id:null,e[No.a.ActionName]=n?n.Name:null,e[No.a.ActionTypeId]=n?n.ActionType:null,this.Conversation){var i=this.Conversation.Properties;e[No.a.PropertiesViews]=i.Views,e[No.a.ArticleLeft]=i.ArticleLeft,e[No.a.TypeView]=i.ViewType,e[No.a.UserDefinedData]=i.ViewType}return e},t.prototype.getCurrentTemplate=function(t){var e=Ui.a.parents(t,this.templateSelector);return e?e[0]:null},t.prototype.getCurrentSubstepName=function(t){var e=Ui.a.parents(t,"["+this.substepAttr+"]");return e?Ui.a.attr(e[0],this.substepAttr):null},t.prototype.checkActionTemplate=function(t){var e=Ui.a.attr(t,"id");return!!e&&e.includes(this.actionIdPrefix)},t.prototype.getActionIdByTemplate=function(t){var e=Ui.a.attr(t,"id");return e?+e.replace(this.actionIdPrefix,""):null},t.prototype.checkAuthenticationTemplate=function(t){var e=Ui.a.attr(t,"id");return!!e&&e.includes(this.authenticationIdPrefix)},t.prototype.getAuthenticationTemplateType=function(t){var e=Ui.a.attr(t,"id");return e?e.replace(this.authenticationIdPrefix,""):null},t.prototype.checkIsActionD")},t}(Si),Ti=(ot=function(t,e){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ot(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fi=function(r){function t(t){var e=r.call(this,t)||this;return e.EventData=Object(Yn.extend)(e.EventData,{CloseEvent:t.CloseEvent}),e}return Ti(t,r),t.prototype.getAnaliticsData=function(t){var e=r.prototype.getAnaliticsData.call(this,t),n={};return n[No.a.CloseEvent]=this.EventData.CloseEvent,Object(Yn.extend)(e,n)},t}(Li),ki=(it=function(t,e){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}it(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e}(Li),Ni=(st=function(t,e){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}st(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})s)},ji=function(a){function t(t){var e=a.call(this,t)||this,n=new eo(e.Conversation?e.Conversation.Properties:null),r=e.getCurrentTemplate(t.target);if(e.EventData={ButtonHTML:Ui.a.html(t.target),UserDefinedDataAttr:Ui.a.attr(t.target,"data-connext-userdefined"),PaywallInfo:n?n.PaywallInfo:"",ZipCodes:Vn.a.getUserZipCodes},!r)return e;if(e.checkActionTemplate(r)){var o=e.getActionIdByTemplate(r),i=Object(Yn.find)(e.Conversation.Actions,function(t){return t.Id==o});return e.EventData=Mi(Mi({},e.EventData),{MeterLevel:e.MeterLevel,ConversationId:e.Conversation?e.Conversation.Id:null,ConversationName:e.Conversation?e.Conversation.Name:null,ActionId:i?i.Id:null,ActionName:i?i.Name:null,ActionType:i?i.ActionType:null}),e}if(e.checkAuthenticationTemplate(r)){var s=e.getAuthenticationTemplateType(r);e.EventData=Mi(Mi({},e.EventData),{ModalType:s,StepName:e.getCurrentSubstepName(t.target)})}return e}return Ni(t,a),t.prototype.getAnaliticsData=function(t){var e=a.prototype.getAnaliticsData.call(this,t),n={};return n[No.a.ButtonHtml]=this.EventData.ButtonHTML,n[No.a.UserDefinedDataAttr]=this.EventData.UserDefinedDataAttr,Object(Yn.extend)(e,n)},t}(Li),Gi=(at=function(t,e){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}at(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gi(e,t),e}(Li),Zi=(ct=function(t,e){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zi(e,t),e}(Li),Xi=(ut=function(t,e){return(ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ji=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyActivationEvent"),e}return Xi(t,n),t}(ii),Qi=(pt=function(t,e){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ki=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ActivateStatus:t.ActivateStatus,CloseEvent:t.CloseEvent},e}return Qi(t,n),t}(Ji),Yi=(lt=function(t,e){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yi(e,t),e}(Ki),qi=(ft=function(t,e){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qi(e,t),e}(Ki),ts=(ht=function(t,e){return(ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ts(e,t),e}(Ki),ns=(dt=function(t,e){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ns(e,t),e}(Ki),os=(gt=function(t,e){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return os(e,t),e}(Ki),ss=(yt=function(t,e){return(yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),as=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ss(e,t),e}(Ji),cs=(vt=function(t,e){return(vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cs(e,t),e}(Ji),ps=(mt=function(t,e){return(mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ps(e,t),e}(Ji),fs=(_t=function(t,e){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fs(e,t),e}(Ji),ds=(bt=function(t,e){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ActivateBy:t},e}return ds(t,n),t}(Ji),ys=(Ct=function(t,e){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ys(e,t),e}(gs),ms=(wt=function(t,e){return(wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ms(e,t),e}(gs),bs=(St=function(t,e){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}St(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bs(e,t),e}(gs),ws=(At=function(t,e){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}At(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ss=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyIPAccessEvent"),e}return ws(t,n),t}(ii),As=n(74),Is=(It=function(t,e){return(It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}It(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Os=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AccessEndDate=t.AccessEndDate,e.AccessStartDate=t.AccessStartDate,e.ClientId=t.ClientId,e}return Is(t,n),t}(jr),Es=(Ot=function(t,e){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ot(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),t}(Os),Ds=(Et=function(t,e){return(Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Et(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t?new Ps(t):null,e.Reason=t.reason,e.Conversation=null,e.MeterLevel=null,e.MeterLevelId=null,e.MeterLevelMethod=null,e}return Ds(t,n),t.prototype.getAnaliticsData=function(t,e){var n={};return n[No.a.IpAddress]=As.a.getIP(),e&&(n=Object(Yn.extendOwn)(n,e)),n},t}(Ss),Bs=(Pt=function(t,e){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Us=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AllowedAccessListName=t.Name,e}return Bs(t,n),t}(Os),Rs=(Dt=function(t,e){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Dt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ls=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t?new Us(t):null,e}return Rs(t,n),t}(Ss),Ts=(xt=function(t,e){return(xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={CloseEvent:t},e}return Ts(t,n),t}(Ss),ks=(Bt=function(t,e){return(Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),e}(Ss),Ns=(Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ms=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyLoadEvent"),e}return Ns(t,n),t.prototype.getAnaliticsD t},t}(ii),js=(Rt=function(t,e){return(Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gs=functionis}return js(e,t),e.prototype.getAnaliticsData=function(t){var e={};return e[No.a.AdblockFound]=!0,e},e}(Ms),Ws=(Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new ao(t),e}return Ws(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.CampaignId]=this.CampaignId,e[No.a.CampaignName]=this.EventData.Name,e},t}(Ms),Hs=(Tt=function(t,e){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xs=function,e}return Hs(t,n),t.prototype.getAnaliticsData=function(t){var e={};return t&&(e[No.a.ConversationId]=t.Id,e[No.a.ConversationName]=t.Name,e[No.a.ConversationView]=t.Properties.Views,e[No.a.ArticleLeft]=t.Properties.ArticleLeft,e[No.a.TypeView]=t.Properties.ViewType,e[No.a.DateStarted]=t.Properties.Date?t.Properties.Date.Started:null,e[No.a.ExpirationDate]=t.Properties.Date?""+t.Properties.Date.Expiration:null),e[No.a.MeterLevel]=this.MeterLevelId,e},t}(Ms),Js=(Ft=function(t,e){return(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qs=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={Conversation:new ro(t.Conversation),NextConversation:new ro(t.NextConversation),Reason:t.Reason,ArticleCountReset:t.ArticleCountReset},e}return Js(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.ConversationName]=this.EventData.Conversation.Name,e[No.a.NextConversationName]=this.EventData.NextConversation.Name,e[No.a.ExpiredReason]=this.EventData.Reason,e[No.a.ArticleCountReset]=this.EventData.ArticleCountReset,e},t}(Ms),Ks=(kt=function(t,e){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Arr=])})(t,n)}),Ys=function,e}return Ks(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.DynamicMeterName]=this.EventData,e},t}(Ms),zs=n(98),qs=e)},function(t,e){function n(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$s=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={Location:As.a.getLocationInfo(),Device:e.getDeviceInfo(),Page:e.getPageData(),EncryptedEmail:zs.a.getEncryptedEmail()},e}return qs(t,n),t.prototype.getPageData=function(){return{Title:this.getPageTitle(),Keywords:this.getPageKeywords(),Url:location.origin+location.pathname}},t.prototype.getAnaliticsData=function(){return qo.a.getFinishData()},t.prototype.getDeviceInfo=function(){var t=As.a.getUserAgent();return{Type:As.a.getDeviceType(),OS:t?t.getOS():"",Browser:t?t.getBrowser():""}},t.prototype.getPageTitle=function(){var t=document.querySelector("h1");return t&&t.textContent?t.textContent.trim():document.title},t.prototype.getPageKeywords=function(){var t="",e=document.getElementsByTagName("meta");if(e)for(var n=0,r=e.length;n<r;n++)"keywords"==e[n].name.toLowerCase()&&(t+=e[n].content);return""!=t&&t},t}(Ms),ta=(Nt=function(t,e){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ta(e,t),e.prototype.getAnaliticsData=function(t){var e={};return e[No.a.GABlocked]=!window.ga,e[No.a.GTMBlocked]=!window.google_tag_manager,e[No.a.G2insights]=!window.G2Insights,e[No.a.Version]=Object(Jn.r)(),e[No.a.LocalDateTime]=Do.a.get().toString(),e},e}(Ms),na=(Mt=function(t,e){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ra=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Method=t.Method,e.Level=t.Level,e.Rule=new Hr(t.Rule),e}return na(t,n),t}(jr),oa=(jt=function(t,e){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ia=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new ra(t),e}return oa(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.MeterMethod]=this.EventData.Method,e[No.a.MeterLevel]=this.EventData.Level,t&&t.Rule&&(e[No.a.RuleId]=t.Rule.Id),e[No.a.RuleName]=this.EventData.Rule.Name,e},t}(Ms),sa=(Gt=function(t,e){return(Gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),aa=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return sa(t,n),t.prototype.getAnaliticsData=function(t){return{}[No.a.RunReason]=t},t}(Ms),ca=(Wt=function(t,e){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ua=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return ca(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.ConversationId]=this.EventData,e},t}(Ms),pa=(Zt=function(t,e){return(Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),la=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t.MeterId,e}return pa(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.MeterLevel]=this.EventData,e},t}(Ms),fa=(Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ha=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ErrorMessage:t},e}return fa(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.LoadError]=Object(Yn.isString)(this.EventData.ErrorMessage)?this.EventData.ErrorMessage:JSON.stringify(this.EventData.ErrorMessage),e},t}(Ms),da=(Xt=function(t,e){return(Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ga=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ResetOnDay:t.ResetOnDay,ResetFrequency:t.ResetFrequency},e}return da(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.ResetOnDay]=this.EventData.ResetOnDay,e[No.a.ResetFrequency]=this.EventData.ResetFrequency,e},t}(Ms),ya=(Jt=function(t,e){return(Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),va=function(e){function t(t){return e.call(this,t)||this}return ya(t,e),t}(Ms),ma=(Qt=function(t,e){return(Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_a=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={error:t.error},e}return ma(t,n),t}(Ms),ba=(Kt=function(t,e){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ca=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return ba(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.OldDeviceId]=t.id,e[No.a.RecalculatedDeviceId]=t.newId,e},t}(Ms),wa=n(47),Sa=(Yt=function(t,e){return(Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Aa=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return Sa(t,n),t.prototype.getAnaliticsData=function(t){var e={};if(t&&t.length)for(var n=0;n<t.length;n++)e[n]=Object(wa.isString)(t[n])?t[n]:JSON.stringify(t[n]);return document.dispatchEvent(new CustomEvent("nxtDebugError",{bubbles:!0,detail:e})),e},t}(Ms),Ia=(zt=function(t,e){return(zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oa=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyLoginTemplateEvent"),e}return Ia(t,n),t}(ii),Ea=(qt=function(t,e){return(qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pa=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={CloseEvent:t},e}return Ea(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.LoginModalId]=null,e[No.a.CloseEvent]=this.EventData.CloseEvent,e},t}(Oa),Da=($t=function(t,e){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xa=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ErrorMessage:t},e}return Da(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.ErrorMessage]=this.EventData.ErrorMessage,e},t}(Oa),Ba=(te=function(t,e){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ua=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={LoginModalName:t},e}return Ba(t,n),t.prototype.getAnaliticsData=function(t){var e={};return e[No.a.LoginModalId]=this.EventData.LoginModalName,e},t}(Oa),Ra=(ee=function(t,e){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ee(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),La=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ra(e,t),e}(ai),Ta=(ne=function(t,e){return(ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fa=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyNewsletterEvent"),e}return Ta(t,n),t}(ii),ka=(re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ka(e,t),e}(Fa),Na=(oe=function(t,e){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Na(e,t),e}(Fa),ja=(ie=function(t,e){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ja(e,t),e}(Fa),Wa=(se=function(t,e){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Za=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onAnyRegistrationEvent"),e}return Wa(t,n),t}(ii),Ha=(ae=function(t,e){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ae(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ha(e,t),e}(Za),Ja=(ce=function(t,e){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ja(e,t),e}(Za),Ka=(ue=function(t,e){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ya=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ka(e,t),e}(Za),za=(pe=function(t,e){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return za(e,t),e}(Za),$a=(le=function(t,e){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $a(e,t),e}(Za),ec=(fe=function(t,e){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nc=function(i){function t(t){var e=i.call(this,t)||this,n=new dr(e.getConversationModel());n&&(e.Conversation=n);var r=new Pr(Fn.a.getConfiguration());r&&(e.Config=r);var o=new Rr(Vn.a.getCachedUserData());return o&&(e.MG2AccountData=o),e.EventData=t,e}return ec(t,i),t.prototype.trackEvent=function(t,e){},t.prototype.isInner=function(){return!0},t.prototype.dispatchGroupEvent=function(t){},t}(ei),rc=(he=function(t,e){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}he(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rc(e,t),e.prototype.getGroupData=function(){return null},e.prototype.dispatchGroupEvent=function(t){Vr.a.dispatch(t,this.getGroupData())},e}(nc),ic=(de=function(t,e){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}de(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={AuthSystem:t.AuthSystem,MG2AccountData:new Rr(t.MG2AccountData),AuthProfile:t.AuthProfile},e.dispatchGroupEvent("onInnerAnyAccountStatusEvent"),e}return ic(t,n),t.prototype.getGroupData=function(){return this.EventData},t}(oc),ac=(ge=function(t,e){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ac(e,t),e}(sc),uc=(ye=function(t,e){return(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ye(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uc(e,t),e}(sc),lc=(ve=function(t,e){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lc(e,t),e}(sc),hc=(me=function(t,e){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}me(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hc(e,t),e}(sc),gc=(_e=function(t,e){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gc(e,t),e}(sc),vc=(be=function(t,e){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vc(e,t),e}(sc),_c=(Ce=function(t,e){return(Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bc=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyActionEvent"),e}return _c(t,n),t}(oc),Cc=(we=function(t,e){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}we(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new cr(t),e}return Cc(t,n),t}(bc),Sc=(Se=function(t,e){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sc(e,t),e}(wc),Ic=(Ae=function(t,e){return(Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ae(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ic(e,t),e}(wc),Ec=(Ie=function(t,e){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ec(e,t),e}(wc),Dc=(Oe=function(t,e){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=null,e}return Dc(t,n),t}(wc),Bc=(Ee=function(t,e){return(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ee(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Uc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=Object(Yn.extend)(e.EventData,new fr(e.Conversation?e.Conversation.Properties:null),{ZipCodes:Vn.a.getUserZipCodes()}),e}return Bc(t,n),t}(wc),Rc=(Pe=function(t,e){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=Object(Yn.extend)(e.EventData,{CloseEvent:t.CloseEvent}),e}return Rc(t,n),t}(Uc),Tc=(De=function(t,e){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}De(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tc(e,t),e}(Uc),kc=(xe=function(t,e){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vc=function(){return(Vc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Nc=function(s){function t(t){var e=s.call(this,t)||this;e.templateSelector=".Mg2-connext",e.actionIdPrefix="ConneXt_Action_Id-",e.authenticationIdPrefix="ConneXt_Authentication-",e.substepAttr="data-nxt-template-substep",e.EventData=Object(Yn.extend)(e.EventData,{ButtonHTML:Ui.a.html(t.target),UserDefinedDataAttr:Ui.a.attr(t.target,"data-connext-userdefined")}),delete e.EventData.Id,delete e.EventData.Name,delete e.EventData.ActionType,delete e.EventData.ActionTypeId,delete e.EventData.Description,delete e.EventData.Order,delete e.EventData.UserDefinedData;var n=e.getCurrentTemplate(t.target);if(!n)return e;if(e.checkActionTemplate(n)){var r=e.getActionIdByTemplate(n),o=Object(Yn.find)(e.Conversation.Actions,function(t){return t.Id==r});return e.EventData=Vc(Vc({},e.EventData),{MeterLevel:e.MeterLevel,ConversationId:e.Conversation?e.Conversation.Id:null,ConversationName:e.Conversation?e.Conversation.Name:null,ActionId:o?o.Id:null,ActionName:o?o.Name:null,ActionType:o?o.ActionType:null,ActionTypeId:o?o.ActionTypeId:null,Description:o?o.Description:null,Order:o?o.Order:null,UserDefinedData:o?o.UserDefinedData:null}),e}if(e.checkAuthenticationTemplate(n)){var i=e.getAuthenticationTemplateType(n);e.EventData=Vc(Vc({},e.EventData),{ModalType:i,StepName:e.getCurrentSubstepName(t.target)})}return e}return kc(t,s),t.prototype.getCurrentTemplate=function(t){var e=Ui.a.parents(t,this.templateSelector);return e?e[0]:null},t.prototype.getCurrentSubstepName=function(t){var e=Ui.a.parents(t,"["+this.substepAttr+"]");return e?Ui.a.attr(e[0],this.substepAttr):null},t.prototype.checkActionTemplate=function(t){var e=Ui.a.attr(t,"id");return!!e&&e.includes(this.actionIdPrefix)},t.prototype.getActionIdByTemplate=function(t){var e=Ui.a.attr(t,"id");return e?+e.replace(this.actionIdPrefix,""):null},t.prototype.checkAuthenticationTemplate=function(t){var e=Ui.a.attr(t,"id");return!!e&&e.includes(this.authenticationIdPrefix)},t.prototype.getAuthenticationTemplateType=function(t){var e=Ui.a.attr(t,"id");return e?e.replace(this.authenticationIdPrefix,""):null},t}(Uc),Mc=(Be=function(t,e){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mc(e,t),e}(Uc),Gc=(Ue=function(t,e){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gc(e,t),e}(Uc),Zc=(Re=function(t,e){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hc=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyActivationEvent"),e}return Zc(t,n),t}(oc),Xc=(Le=function(t,e){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jc=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ActivateBy:t},e}return Xc(t,n),t}(Hc),Qc=(Te=function(t,e){return(Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qc(e,t),e}(Jc),Yc=(Fe=function(t,e){return(Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yc(e,t),e}(Jc),qc=(ke=function(t,e){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qc(e,t),e}(Jc),tu=(Ve=function(t,e){return(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),eu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ActivateStatus:t.ActivateStatus,CloseEvent:t.CloseEvent},e}return tu(t,n),t}(Hc),nu=(Ne=function(t,e){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ru=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nu(e,t),e}(eu),ou=(Me=function(t,e){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Me(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),iu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ou(e,t),e}(eu),su=(je=function(t,e){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}je(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return su(e,t),e}(eu),cu=(Ge=function(t,e){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cu(e,t),e}(eu),pu=(We=function(t,e){return(We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}We(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pu(e,t),e}(eu),fu=(Ze=function(t,e){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ze(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fu(e,t),e}(Hc),du=(He=function(t,e){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}He(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return du(e,t),e}(Hc),yu=(Xe=function(t,e){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yu(e,t),e}(Hc),mu=(Je=function(t,e){return(Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Je(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mu(e,t),e}(Hc),bu=(Qe=function(t,e){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cu=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyIPAccessEvent"),e}return bu(t,n),t}(oc),wu=(Ke=function(t,e){return(Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Su=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.AccessEndDate=t.AccessEndDate,e.AccessStartDate=t.AccessStartDate,e.ClientId=t.ClientId,e}return wu(t,n),t}(qn),Au=(Ye=function(t,e){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ye(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Iu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t?new Su(t):null,e}return Au(t,n),t}(Cu),Ou=(ze=function(t,e){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ze(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Eu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t?new Su(t):null,e}return Ou(t,n),t}(Cu),Pu=(qe=function(t,e){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Du=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={CloseEvent:t},e}return Pu(t,n),t}(Cu),xu=($e=function(t,e){return($e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xu(e,t),e}(Cu),Uu=(tn=function(t,e){return(tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}tn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ru=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyLoadEvent"),e}return Uu(t,n),t}(oc),Lu=(en=function(t,e){return(en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}en(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lu(e,t),e}(Ru),Fu=(nn=function(t,e){return(nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ku=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new mr(t),e}return Fu(t,n),t}(Ru),Vu=(rn=function(t,e){return(rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new dr(t),e}return Vu(t,n),t}(Ru),Mu=(on=function(t,e){return(on=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}on(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ju=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={Conversation:new dr(t.Conversation),NextConversation:new dr(t.NextConversation),Reason:t.Reason,ArticleCountReset:t.ArticleCountReset},e}return Mu(t,n),t}(Ru),Gu=(sn=function(t,e){return(sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t,e}return Gu(t,n),t}(Ru),Zu=(an=function(t,e){return(an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}an(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zu(e,t),e}(Ru),Xu=(cn=function(t,e){return(cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}cn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ju=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xu(e,t),e}(Ru),Qu=(un=function(t,e){return(un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}un(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ku=function(n){function t(t){var e=n.call(this,t)||this;return t=e.check(t),e.Id=t.Id,e.Method=t.Method,e.Level=t.Level,e.Rule=new nr(t.Rule),e}return Qu(t,n),t}(qn),Yu=(pn=function(t,e){return(pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zu=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=new Ku(t),e}return Yu(t,n),t}(Ru),qu=(ln=function(t,e){return(ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ln(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qu(e,t),e}(Ru),tp=(fn=function(t,e){return(fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),t}(Ru),np=(hn=function(t,e){return(hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}hn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData=t.MeterId,e}return np(t,n),t}(Ru),op=(dn=function(t,e){return(dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}dn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ip=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ErrorMessage:t},e}return op(t,n),t}(Ru),sp=(gn=function(t,e){return(gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ap=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ResetOnDay:t.ResetOnDay,ResetFrequency:t.ResetFrequency},e}return sp(t,n),t}(Ru),cp=(yn=function(t,e){return(yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),up=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cp(e,t),e}(Ru),pp=(vn=function(t,e){return(vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lp=function,e}return pp(t,n),t}(Ru),fp=(mn=function(t,e){return(mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hp=function,e}return fp(t,n),t}(Ru),dp=(_n=function(t,e){return(_n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_n(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gp=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyLoginTemplateEvent"),e}return dp(t,n),t}(oc),yp=(bn=function(t,e){return(bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={CloseEvent:t},e}return yp(t,n),t}(gp),mp=(Cn=function(t,e){return(Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Cn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_p=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={ErrorMessage:t},e}return mp(t,n),t}(gp),bp=(wn=function(t,e){return(wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cp=function(n){function t(t){var e=n.call(this,t)||this;return e.EventData={LoginModalName:t},e}return bp(t,n),t}(gp),wp=(Sn=function(t,e){return(Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wp(e,t),e}(sc),Ap=(An=function(t,e){return(An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}An(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ip=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyNewsletterEvent"),e}return Ap(t,n),t}(oc),Op=(In=function(t,e){return(In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}In(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ep=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Op(e,t),e}(Ip),Pp=(On=function(t,e){return(On=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}On(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Dp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pp(e,t),e}(Ip),xp=(En=function(t,e){return(En=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}En(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xp(e,t),e}(Ip),Up=(Pn=function(t,e){return(Pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rp=function(n){function t(t){var e=n.call(this,t)||this;return e.dispatchGroupEvent("onInnerAnyRegistrationEvent"),e}return Up(t,n),t}(oc),Lp=(Dn=function(t,e){return(Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Dn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lp(e,t),e}(Rp),Fp=(xn=function(t,e){return(xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}xn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fp(e,t),e}(Rp),Vp=(Bn=function(t,e){return(Bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vp(e,t),e}(Rp),Mp=(Un=function(t,e){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Un(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mp(e,t),e}(Rp),Gp=(Rn=function(t,e){return(Rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Rn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gp(e,t),e}(Rp),Zp=function(t,e){return-1!==t.indexOf("Inner")?new nc(e):new ri(e)},Hp=(Ln=function(t,e){return(Ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ln(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xp=function(n){function t(t){var e=n.call(this,t)||this;return t&&t.detail&&t.detail.type&&t.detail.analyticsData&&(e.analyticsData={type:t.detail.type,data:JSON.stringify(t.detail.analyticsData)},e.trackEvent(Vo.a.CustomTrackedEvent,e.analyticsData)),e}return Hp(t,n),t.prototype.getAnaliticsData=function(){return this.analyticsData},t}(ri),Jp=n(79),Qp=new(function(){function t(){}return t.prototype.getMethods=function(){return{API:{NewsletterSubscribe:function(e){var t=null;if(e&&e.id){var n=[];Object(wa.isArray)(e.id)||Object(wa.isObject)(e.id)?Object(Yn.each)(e})}):n.push({Id:e.id,Name:void 0,Description:void 0,SubscriberOnly:!1}),t={Email:e.email,EmailPreferences:n},Jp.a.getSubscribeNewsletters(t).then(function(){Object(Yn.isFunction)(e.onSuccess)&&e.onSuccess.call(window)}).catch(function(t){Object(Yn.isFunction)(e.onError)&&e.onError.call(window,t)})}}}}},t}()),Kp=function(){Vr.a.init(r),window.NxtInner=new Mr,window.Connext=new ko,window.CnnXt=Qp.getMethods()};String.prototype.replach)},Promise.prototype.always=function(e){return this.the,t})},new Kp},function(t,e,n){"use strict";n.r(e);var r=n(19),i=n(220),s=n(42),a=n(98),o=n(16),c=n(334),u=n(339),p=n(28),l=n(122),f=n(333),h=n(45),d=n(2),g=n(125),y=n(278),v=n(30),m=new(function(){function t(){this.localStorage=new g.a,this.keys=d.f.DebugPanel}return t.prototype.setSiteCode=function(t){v.a.set(this.keys.SiteCode,t,{expandKey:!1,isSecureValue:!1})},t.prototype.getSiteCode=function(){return v.a.get(this.keys.SiteCode,{expandKey:!1,isSecureValue:!1})},t.prototype.setConfigCode=function(t){v.a.set(this.keys.ConfigCode,t,{expandKey:!1,isSecureValue:!1})},t.prototype.getConfigCode=function(){return v.a.get(this.keys.ConfigCode,{expandKey:!1,isSecureValue:!1})},t.prototype.setIsCustomConfiguration=function(t){this.localStorage.set(this.keys.ConfigurationIsCustom,t)},t.prototype.getIsCustomConfiguration=function(){return this.localStorage.get(this.keys.ConfigurationIsCustom)},t.prototype.getZipCodes=function(){return this.localStorage.get(this.keys.ZipCode)},t.prototype.setZipCot)},t.prototype.removeZipCoe)},t.prototype.clearConfigurat()},t.prototype.getLogLevel=function(){return this.localStorage.get(this.keys.LogLevel)},t.prototype.setLogLevel=function(t){return this.localStorage.set(this.keys.LogLevel,t)},t.prototype.getCdpProfile=function(){return this.localStorage.get(this.keys.CdpProfile)},t.prototype.setCdpProft)},t.prototype.deleteSecureStorageStae)},t}()),_=n(0),b=n(248),C=n.n(b),w=n(277),S=n(123),A=n(6),I=new(function(){function t(){this.elById=document.getElementById.bind(document)}return t.prototype.generateHtmlOptionElement=function(t,e,n){return'<option value="'+t+'" '+(n?"selected":"")+">"+e+"</option>"},t.prototype.reloadApplication=function(){f.a.dispatch(S.h.ApplicationReload,r.a.getOptions())},t.prototype.reInitApplication=function(){f.a.dispatch(S.h.ApplicationReInit)},t.prototype.saveViewInformationAndRel()},t.prototype.switchShowDomBle)},t.prototype.wrapValueIfEm."},t.prototype.removePa))},t}()),O=function(){function t(){}return t.prototype.getHtmlWithData=function(){var n=+m.getLogLevel(),t=Object.keys(w.a),r="";return Object(_.each)(t,function(t){var e=n&&n==w.a[t];r+=I.generateHtmlOptionElement(w.a[t],t,e)}),r},t.prototype.listenChanges=function(){o.a.on(I.elById("ConnextLogLevel"),"change",function(t){var e=t.target;m.setLogLevel(+e.value),I.reloadApplication()})},t.prototype.getLogLe()},t}(),E=n(18),P=function(){function t(){}return t.prototype.listenSelectConversations=function(){o.a.on(I.elById("ddConversations"),"change",function(t){var e=t.target.value,n=E.Campaign.getConversationById(e);n&&(A.a.setCurrentConversation(n),I.saveViewInformationAndReload())})},t.prototype.generateConversations=function(){var e="",t=c.a.get(u.a.Meter);if(!t)return e;var n=E.Campaign.getConversationsByMeterLevel(t.Level)||[],r=E.Campaign.getCurrentConversationType(),o=r?r.conversation:null,i=o?o.Id:null;return-1===i&&n.push(o),Object(_.each)(n,function(t){e+=I.generateHtmlOptionElement(t.Id,t.Name,t.Id==i)}),e},t}(),D=function(){function t(){}return t.prototype.getConversationView=function(){},t.prototype.listenConversationViewChanges=function(){o.a.on(I.elById("ConnextCurrentConversationArticleViewsApplyBtn"),"click",function(t){t.preventDefault();var e=parseInt(o.a.val(I.elById("ddCurrentConversationArticleViews")))-1;NaN==e||e<0||(A.a.setCurrentConversationViewCount(e),I.saveViewInformationAndReload())})},t.prototype.listenMeterViewChanges=function(){o.a.on(I.elById("ConnextDynamicMeterArticleViewsBtn"),"click",function(t){t.preventDefault();var e=parseInt(o.a.val(I.elById("ddDynamicMeterArticleViews")))-1;NaN==e||e<0||(A.a.setCurrentDynamicMeterViewCount(e),I.saveViewInformationAndReload())})},t.prototype.listenViewChanges=function(){this.listenConversationViewChanges(),this.listenMeterViewChanges(),this.listenUniqueArticleChanges()},t.prototype.listenUniqueArticleChanges=function(){o.a.on(I.elById("uniqueArticles"),"chand)})},t.prototype.setUniqueArticles=function(){A.a.getUniqueArticles()&&o.a.attr(I.elById("uniqueArticles"),{checked:"checked"})},t.prototype.preparePaywallInformation=function(t){var e=t?t.getPaywallInformation():null;return e||(e={Limit:{Conversation:"...",Meter:"..."},ArticleLeft:{Conversation:"...",Meter:"..."}}),e},t.prototype.getMeterArticleVi."},t.prototype.getConversationViews=function(t,e){return t&&e?A.a.getCurrentConversationViewCount():"..."},t}(),x=function(){function t(){}return t.prototype.setConfiguration=function(t){this.configuration=t},t.prototype.listenConfigChanges=function(){this.listenChangeActiveStatus(),this.customConfigurationEvents()},t.prototype.setCustomConfigurationToTemplate=function(){var t=this.getCustomConfigurationFromStorage();t&&(o.a.val(I.elById("ConnextSiteCode"),t.siteCode),o.a.val(I.elById("ConnextConfigCode"),t.configCode),I.elById("ConnextCustomConfiguration").checked=t.isCustomConfiguration);var e=s.a.getConfiguration();e&&(I.elById("ConnextConfigurationIsActive").checked=e.Active)},t.prototype.getCustomConfigurationFromStor)}},t.prototype.setCustomAppConfig=function(){var t=this.getCustomConfigurationFromStorage();t.isCustomConfiguration&&t.siteCode&&t.configCode&&(r.a.setSiteCode(t.siteCode),r.a.setConfigCode(t.configCode))},t.prototype.setCustomConfigurationToStorage=function(t){m.setSiteCode(t.siteCode.toUpperCase()),m.setConfigCode(t.configCode.toUpperCase()),m.setIsCustomConfiguration(t.isCustomConfiguration)},t.prototype.saveConfiguration=function(){var t=I.elById("ConnextCustomConfiguration").checked;t&&(this.setCustomConfigurationToStorage({siteCode:o.a.val(I.elById("ConnextSiteCode")),configCode:o.a.val(I.elById("ConnextConfigCode")),isCustomConfiguration:t}),this.setCustomAppConfig())},t.prototype.customConfigurationEvents=function(){var t=this,e=I.elById("ConnextCustomConfiguration"),n=I.elById("ConnextCustomConfigurationDiv"),r=m.getIsCustomConfiguration();r&&o.a.attr(e,{checked:"checked"}),I.switchShowDomBlock(r,n),o.a.on(I.elById("ConnextSetCustomConfiguration"),"cli()}),o.a.on(e,"change",function(t){var e=t.target.checked;I.switchShowDomBlock(e,n),m.setIsCustomConfiguration(e)})},t.prototype.listenChangeActiveStatus=function(){o.a.on(I.elById("ConnextConfigurationIsActive"),"change",function(t){var e=t.target;s.a.setActive(e.checked),document.location.reload(!0)})},t.prototype.getCampaignName=function(){return I.wrapValueIfEmpty(this.configuration?this.configuration.Campaign.Name:null)},t.prototype.getDynamicMeterName=function(){return I.wrapValueIfEmpty(this.configuration?this.configuration.DynamicMeter.Name:null)},t.prototype.getMeterLevel=function(t){var e=t?t.Rule?t.Rule.Name:t.Method:null;return I.wrapValueIfEmpty(t?S.i[t.Id]+"( "+e+" )":null)},t}(),B=n(9),U=function(){function t(){}return t.prototype.getCurrent=function(){return B.a.getUserZipCodes()},t.prototype.customZipEvents=function(){var t=this,e=I.elById("useCustomZip"),n=m.getZipCodes();n&&(o.a.attr(e,{checked:"checked"}),o.a.val(I.elById("actualZipCodesValue"),n)),I.switchShowDomBlock(n,I.elById("customZipBlock")),o.a.on(I.elById("useCustomZip"),"change",function(t){var e=t.target.checked;I.switchShowDomBlock(e,I.elById("customZipBlock")),e||(B.a.setUserZipCodes(null),m.removeZipCodes(),I.reInitApplication())}),o.a.on(I.elById("actualZipCodes"),"click",function(){t.setZipCodes()})},t.prototype.setZipCodes=function(){var t=o.a.val(I.elById("actualZipCodesValue"));t?m.setZipCodes(t):m.removeZipCodes(),B.a.setUserZipCodes(t),I.reInitApplication()},t.prototype.setCustomZipCodes=function(){var t=this.getZipCodes();t&&B.a.setUserZipCodes(t)},t.prototype.getZipCodes=function(){return m.getZipCodes()},t}();n.d(e,"DebugPanel",function(){return R});var R=new(function(){function t(){this.panelElementId="ConnextPanelDebugger",this.logLevelInstance=new O,this.conversationInstance=new P,this.viewInstance=new D,this.configDebugger=new x,this.zipCodeDebugger=new U}return t.prototype.bindData=function(t){var e=this;this.loadStyles(),this.getHtmlCode().then(function(t){e.addToDocument(t),e.configDebugger.setCustomConfigurationToTemplate(),e.registerEvents(),e.checkOpenState(),e.viewInstance.setUniqueArticles()})},t.prototype.getHtmlCode=function(){var e=Object(_.template)(C.a,{interpolate:/\{\{(.+?)\}\}/g});return this.getDataForPanel().tt)})},t.prototype.loadStyles=function(){var t=document.createElement("link");o.a.queryElement("head").appendChild(t);var e={rel:"stylesheet",type:"text/css",href:r.a.getResourceUrl()+"dev/css/plugin.debug.css"};o.a.attr(t,e)},t.prototype.getDataForPanel=function(){var o=this;return i.a.loadCampaign().then(function(t){var e=s.a.getConfiguration();o.configDebugger.setConfiguration(e);var n=t.getCurrentConversationType(),r=c.a.get(u.a.Meter);return{meterLevel:o.configDebugger.getMeterLevel(r),dynamicMeterName:o.configDebugger.getDynamicMeterName(),campaignName:o.configDebugger.getCampaignName(),conversations:o.conversationInstance.generateConversations(),conversationViewCount:o.viewInstance.getConversationViews(n,r),dynamicMeterArticleViews:o.viewInstance.getMeterArticleViews(r),paywallInformation:o.viewInstance.preparePaywallInformation(n),actualZipCodes:o.zipCodeDebugger.getCurrent(),logLevels:o.logLevelInstance.getHtmlWithData(),versionInfo:Object(p.r)(),engagementRate:a.a.getEngagementRate(),allowedAccess:o.IpAllowedStatus?o.IpAllowedStatus:"Allowed"}})},t.prototype.addToDocument=function(t){I.elById(this.panelElementId)&&I.elById(this.panelElementId).remove(),o.a.append(o.a.queryElement("body"),t)},t.prototype.showIfN()},t.prototype.registerEvents=function(){var e=this;this.zipCodeDebugger.customZipEvents(),this.configDebugger.listenConfigChanges(),o.a.on(o.a.queryElement(".debug_details_icon"),"click",function(t){I.elById(e.panelElementId).classList.toggle("opened")}),o.a.on(I.elById("connextClearAllData"),"cli()}),this.setCustomTime(),o.a.on(I.elById("ConnextCustomTimeChk"),"change",function(t){var e=t.target.checked;I.switchShowDomBlock(e,I.elById("ConnextCustomTimeDiv")),e?l.a.set(o.a.val(I.elById("ConnextCustomTimeTxt"))):l.a.delete()}),o.a.on(I.elById("ConnextDebugPanelOpenState"),"chane)}),o.a.on(I.elById("ConnextSetCustomTimeBtn"),"click",function(t){t.preventDefault(),l.a.set(o.a.val(I.elById("ConnextCustomTimeTxt")))}),o.a.on(I.elById("ConnextEngagementRateApplyBtn"),"click",function(t){t.preventDefault(),a.a.setEngagementRate(o.a.val(I.elById("ConnextEngagementRate")))}),this.viewInstance.listenViewChanges(),this.logLevelInstance.listenChanges(),this.conversationInstance.listenSelectConversations(),this.inputNumberScrollLock()},t.prototype.inputNumberScrollLock=function(){o.a.on(I.elById("ddCurrentConversationArticleViews"),"wheel",function(t){t.preventDefault()}),o.a.on(I.elById("ddDynamicMeterArticleViews"),"wheel",function(t){t.preventDefault()}),o.a.on(I.elById("ConnextEngagementRate"),"whe()})},t.prototype.setCustomTime=function(){var t=l.a.get();I.elById("ConnextCustomTimeChk").checked=l.a.checkLocalStorage(),o.a.val(I.elById("ConnextCustomTimeTxt"),l.a.formatDate(t||l.a.get())),I.switchShowDomBlock(t,I.elById("ConnextCustomTimeDiv")),I.elById("ConnextCustomTimeChk").checked||o.a.css(I.elById("ConnextCustomTimeDiv"),{display:"none"})},t.prototype.setInitParams=function(){r.a.getDebugMode()&&(this.configDebugger.setCustomAppConfig(),this.zipCodeDebugger.setCustomZipCodes(),this.listenIpAccess())},t.prototype.listenIpAccess=function(){var n=this;f.a.subscribe(h.a.AccessDenied,function(t){var e="Denied("+t.Reason+")";I.elById("ddIpAccess")&&o.a.val(I.elById("ddIpAccess"),e),n.IpAllowedStatus=e}),f.a.subscribe(h.a.AccessGranted,function(t){I.elById("ddIpAccess")&&o.a.val(I.elById("ddIpAccess"),"Allowed"),n.IpAllowedStatus="Allowed"})},t.prototype.checkOpenState=function(){var t=a.a.getDebugPanelOpenState();(I.elById("ConnextDebugPanelOpenState").checked=t)&&o.a.addClass(I.elById("ConnextPanelDebugger"),"opened")},t.prototype.getLogLevel=function(){return this.logLevelInstance.getLogLevel()},t}())},function(t,e,n){"use strict";n.r(e);var r=n(249),o=n(40),i=n(19),s=n(241),a=n(338),c=n(334),u=n(339),p=n(28),l=n(333),f=n(45),h=n(222),d=n(123),g=n(17),y=n(2),v=n(278),m=function(){function t(){}return t.prototype.getAuth0AccountId=function(){var t=this.getGetterOptions();return v.a.get(y.b.Auth0AccountId,t)},t.prototype.setAuth0AccountId=function(t,e){var n=this.getSetterOptions(e);v.a.set(y.b.Auth0AccountId,t,n)},t.prototype.deleteAuth0AccountId=function(){v.a.delete(y.b.Auth0AccountId,this.getGetterOptions())},t.prototype.getSetterOpti0}},t.prototype.getGetterOpti0}},t}(),_=n(9),b=n(20),C=n(22);n.d(e,"Auth0UniversalLoginAuthSystem",function(){return A});var w,S=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),A=function(n){function t(){var t=n.call(this)||this;t.name="Auth0UniversalLogin",t.id=d.a.Auth0UniversalLogin,t.knownErrMessages={invalidState:"Invalid state"},t.urlParams={returnUrl:{name:"returnUrl",values:void 0},state:{name:"state",values:{refreshTokenFallback:"refreshTokenFallback",continueActivationFlow:"activation",pendingLogout:"logout"}},code:{name:"code",values:void 0},retryFailedLogin:{name:"retryFailedLogin",values:{true:"true"}}},t.repository=new m;var e=i.a.getAuthSettings();if(!t.validateAuthSystemSettings(e))throw s.a.error(t.name,"constructor","Malformed Auth0 client options"),a.a.MALFORMED_AUTH0_OPTIONS;return t.setupAuthOptions(e),t.auth0Client=new r.a(t.auth0Options),t.checkAuthState(),t}return S(t,n),t.prototype.HasActiveSession=function(){var n=this,r="HasActiveSession",t=function(){if(n.repository.getAuth0AccountId())return!0;var t=n.auth0Client.isAuthenticated();return s.a.log(n.name,r,t),t.then(function(e){return e?n.setAuth0AccountIdCookie().then(function(){return n.refreshAuthTokenIfNeeded().then(function(t){return e}).catch(function(t){return s.a.error(n.name,r,"token refresh failed, reason: "+JSON.stringify(t)),n.logout(n.buildReturnUrl([{key:n.urlParams.state.name,value:n.urlParams.state.values.refreshTokenFallback}])),!1})}):Promise.resolve(e)})};return Promise.resolve().then(function(){if(c.a.get(u.a.ForceAuthSystemLogout))return n.auth0Client.logout({localOnly:!0})}).then(t,t)},t.prototype.showLoginForm=function(t){t&&t.preventDefault(),this.showForm("logIn")},t.prototype.showRegisterF")},t.prototype.logoutMultipleDevices=function(){var t=_.a.getUserData();return t&&!t.LoginDate&&(t.LoginDate=new Date,_.a.setCachedUserData(t)),_.a.getUserState()==d.q.NotLoggedIn||!t.LastLogoutDate||t.LoginDate&&t.LoginDate>=t.LastLogoutDate?Promise.resolve():this.logout(null,!0)},t.prototype.logout=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!1);var n=this.auth0Options.redirect_uri;n=Object(p.c)(n,this.urlParams.state.name,this.urlParams.state.values.pendingLogout),n=Object(p.c)(n,this.urlParams.returnUrl.name,t||this.buildReturnUrl()),s.a.log(this.name,"logout","Logout Url: ",n);var r={customRegistrationId:_.a.getUserId()};return e||b.a.logout(r),this.repository.deleteAuth0AccountId(),this.deleteLoginData(),this.auth0Client.logout({returnTo:n,client_id:this.auth0Options.client_id}),Promise.resolve()},t.prototype.getAuthProf})},t.prototype.afterSuccessLogin=function(){this.redirectBackToArticle()},t.prototype.afterSuccessRegistration=function(){this.afterSuccessLogin()},t.prototype.showForm=function(t){var e="showForm: "+t,n=this.auth0Options.redirect_uri;n=g.a.getActivationProcess()?Object(p.c)(n,this.urlParams.returnUrl.name,this.buildReturnUrl([{key:this.urlParams.state.name,value:this.urlParams.state.values.continueActivationFlow}])):Object(p.c)(n,this.urlParams.returnUrl.name,this.buildReturnUrl()),s.a.log(this.name,e,"Redirect Url: "+n),this.auth0Client.loginWithRedirect({redirect_uri:n,initialScreen:t})},t.prototype.setupAuthOptie"},t.prototype.checkAuthState=function(){var r=this,o="checkAuthState";s.a.log(this.name,o),this.pendingAuthentication()?(s.a.log(this.name,o,"Pending complete auth"),this.completeAuthentication().then(function(){s.a.log(r.name,o,"auth completed"),r.successLogin()}).catch(function(t){if(s.a.error(r.name,o,t.message),t.message==r.knownErrMessages.invalidState)if(Object(p.p)(r.urlParams.retryFailedLogin.name))r.redirectBackToArticle();else{var e=r.auth0Options.redirect_uri,n=Object(p.p)(r.urlParams.returnUrl.name);e=Object(p.c)(e,r.urlParams.retryFailedLogin.name,r.urlParams.retryFailedLogin.values.true),e=Object(p.c)(e,r.urlParams.returnUrl.name,n),r.auth0Client.loginWithRedirect({redirect_uri:e})}})):this.pendingLogout()?(s.a.log(this.name,o,"Pending logout"),this.redirectBackToArticle()):this.pendingActivation()&&(s.a.log(this.name,o,"Pending activation"),this.continueActivation())},t.prototype.pendingAuthentication=function(){return Object(p.s)(this.urlParams.code.name)&&Object(p.s)(this.urlParams.state.name)},t.prototype.pendingLogout=function(){return Object(p.s)(this.urlParams.state.name)&&Object(p.p)(this.urlParams.state.name)==this.urlParams.state.values.pendingLogout},t.prototype.pendingActivation=function(){return Object(p.s)(this.urlParams.state.name)&&Object(p.p)(this.urlParams.state.name)==this.urlParams.state.values.continueActivationFlow},t.prototype.refreshAuthTokenIfNeel)},t.prototype.completeAuthentication=function(){return this.auth0Client.handleRedirectCallback()},t.prototype.continueActivation=function(){window.history.replaceState({},document.title,Object(p.y)(window.location.href,[this.urlParams.state.name]));var e=l.a.subscribe(f.a.Finish,function(){e();var t=l.a.subscribe(f.a.ActivationFormShown,function(){t(),document.getElementsByClassName("connext-activate")[0].parentNode.style.setProperty("z-index","100000001","important")});c.a.get(u.a.ActivationInstance).process()})},t.prototype.redirectBackToArticle=function(){var t=Object(p.p)(this.urlParams.returnUrl.name);window.history.replaceState({},document.title,"/"),window.location.href=t},t.prototype.buildReturnUrl=function(t){void 0===t&&(t=null);var e=window.location.href;return t&&t.length&&t.forEach(function(t){e=Object(p.c)(e,t.key,t.value)}),e},t.prototype.validateAuthSystemSettiri},t.prototype.mapAuthProfile=function(t){var e=_.a.getAuthProfile()||{},n=t||{};return{UserId:n.sub||this.repository.getAuth0AccountId(),IdType:h.e.Usual,Email:n.email||e.email,FullName:n.name||n.nickname||e.name||e.nickname||"",AuthSystemData:t,isPageLoadUpdate:!0}},t.prototype.refreshAccountIdCookie=function(){var e=this;return this.auth0Client.isAuthenticated().t()})},t.prototype.setAuth0AccountIdCookie=function(){var e=this;return this.auth0Client.getUser().then(function(t){t&&e.repository.setAuth0AccountId(t.sub,i.a.get(u.a.UserAuthenticationTime))})},t.prototype.setLoginData=function(){var t={LastLoginDate:new Date,isPendingSuccessLogin:!0};v.a.set(y.b.AuthLoginData,C.a.encrypt(t))},t.prototype.getLastLoginDate=function(){var t=this.getLoginData(),e=_.a.getUserData();if(!t||!e||t.isPendingSuccessLogin&&!e.LastLogoutDate)return null;if(t.isPendingSuccessLogin){var n={LastLoginDate:e.LastLogoutDate};return v.a.set(y.b.AuthLoginData,C.a.encrypt(n)),e.LastLogoutDate}if(!(t=this.getLoginData())||!t.LastLoginDate)return null;var r=new Date(t.LastLoginDate);return isNaN(r.getTime())?null:r},t}(o.a)},,,,,,function(t,e,n){"use strict";var i=n(0),s=n(241),a=n(28),r=n(45),o=new(functio[]}return t.prototype.i()},t.prototype.dispatch=function(e,t,n){var r,o=Object(a.B)(e);this.availableEvents&&(Object(i.has)(this.availableEvents,o)?(r=new this.availableEvents[o](t)).isInner()||r.dispatchInnerEvent(t,e):r=new this.availableEvents.PublicEvent(e,t)),s.a.log("Fire Default "+e+" event. EventData:",r),this.subscribers.filme}).er}).forE)}}),this.eventsRoot.dispatchEvent(new CustomEvent(e,{detail:r})),r&&r.trackEvent(e,t,n)},t.prototype.subscribe=function(t,e,n){var r=this;void 0===n&&(n=!1);var o=Object(i.isArray)(t)?t:[t];return this.subscribers=this.subscribers.concat(o.n}})}},t.prototype.unsubscribeAll=function(e){void 0===e&&(e=!1),this.subscribers=this.subscribers.fil!e})},t.prototype.listenCustomTrackedEvent=function(){var e=this;Object(a.a)(document,r.a.CustomTrackedEvent,function(t){e.availableEvents&&e.availableEvents.CustomTrackedEvent&&new e.availableEvents.CustomTrackedEvent(t)})},t}());e.a=o},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new(functio{}}return t.prototype.isSupported=function(){return!0},t.prototype.ll},t.prototype.!0},t.prototype.delete=function(t){delete this._memory[t];var e=this._keys.indexOf(t);return!(e<0)&&(this._keys.splice(e,1),!0)},t.prototype.cl!0},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(2),o=n(216),i=n(30),s=n(278),a=n(356),c=new(function(){function t(){this.sessionStorage=new o.a}return t.prototype.getTimeRepeatableActions=function(){return i.a.get(r.f.ConnextTimeRepeatableActions)},t.prototype.setTimeRepeatableActions=function(t){i.a.set(r.f.ConnextTimeRepeatableActions,t)},t.prototype.deleteTimeRepeatableActions=function(){i.a.delete(r.f.ConnextTimeRepeatableActions)},t.prototype.getMessagingData=function(){return!s.a.get(r.f.ConnextMessagingDataExpire)?null:i.a.get(r.f.ConnextMessagingData)||{}},t.prototype.setMessagingData=function(t){i.a.set(r.f.ConnextMessagingData,t)},t.prototype.getUserMessages=function(t,e){return a.a.get("user/messages",t,e)},t.prototype.setCookiesMessagingDataExpire=function(t,e){s.a.set(r.f.ConnextMessagingDataExpire,t,e)},t.prototype.getArticleCt)},t.prototype.getRepeatablesInConv=function(){return i.a.get(r.f.RepeatablesInConv)||{}},t.prototype.setRepeatablesInConv=function(t){i.a.set(r.f.RepeatablesInConv,t)},t.prototype.removeRepeatablesInConv=function(){i.a.delete(r.f.RepeatablesInConv)},t.prototype.setConnextPaywallFired=function(t){s.a.set(r.f.ConnextPaywallFired,t)},t.prototype.getConnextPaywallFired=function(){return s.a.get(r.f.ConnextPaywallFired)},t.prototype.getRegistrationWallsOpti0}},t.prototype.setPossibilityPresentForUser=function(t){s.a.set(r.b.RegistrationWalls,JSON.stringify(t),this.getRegistrationWallsOptions())},t.prototype.deletePossibilityPresentForUser=function(){s.a.delete(r.b.RegistrationWalls,this.getRegistrationWallsOptions())},t.prototype.resetStorage=function(){this.deleteTimeRepeatableActions(),this.removeRepeatablesInConv()},t.prototype.getRepeatablesInArti{}},t.prototype.setRepeatablesInArticle=function(t){i.a.set(r.f.RepeatablesInArticle,t)},t.prototype.removeRepeatablesInArticle=function(){i.a.delete(r.f.RepeatablesInArticle)},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(133),r=n(115),i=function(){function t(){return this.cookies=o.a.getInstance(),r.a.applyProxy(this,"CookiesStorage")}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.isSupported=function(){var t=o.a.getInstance(),e=!1;try{var n="isSupportedCookieKey",r="isSupportedCookieValue";t.set(n,r,null),t.get(n)===r&&(t.remove(n,null),e=!0)}catch(t){e=!1}finally{return e}},t.prototype.e)},t.prototype.set=function(t,e,n,r){if(void 0===r&&(r={}),n&&n.daysOfLife){var o=new Date;o.setDate(o.getDate()+n.daysOfLife),n.expires=o}return this.cookies.set(t,e,n,r),!this.checkIsNullOrUndefined(this.get(t,r))},t.prototype.dele)},t.prototype.clear=function(){var s=this;return document.cookie.split(";").forEach(function(t){for(var e=t.split("=").map(function(t){return t.trim()})[0],n=window.location.hostname.split("."),r=0;r<=n.length;r++)for(var o=window.location.pathname.split("/"),i=0;i<o.length;i++)s.delete(e,{domain:n.slice(r,n.length).join("."),path:o.slice(0,i+1).join("/")||"/"})}),!0},t.prototype.checkIsNullOrUndefined=function(t){return null==t},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r,o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(r){function t(t){var e=this.constructor,n=r.call(this,t?t.ErrorMessage:"")||this;return n.name="CrashApplicationError",Object.setPrototypeOf&&Object.setPrototypeOf(n,e.prototype),n.message="Application has stopped working. "+t,n}return o(t,r),t}(Error)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={NO_CONFIG:{code:600,message:"No Configuration Found. ",custom:!0},NO_CONVO_FOUND:{code:601,message:"No Conversation found to process. ",custom:!0},NO_SITE_CODE:{code:602,message:"No Site Code. ",custom:!0},NO_CONFIG_CODE:{code:603,message:"No Config Code. ",custom:!0},NO_JQUERY:{code:604,message:"Jquery not loaded. ",custom:!0},NO_METER_LEVEL_SET:{code:605,message:"No meter level set. ",custom:!0},NO_CAMPAIGN:{code:606,message:"No campaign data. ",custom:!0},NO_AUTH0_LOCK:{code:607,message:"No auth0Lock object in the authSettings! ",custom:!0},UNKNOWN_REG_TYPE:{code:608,message:"Unknown registration type. ",custom:!0},UNKNOWN_USER_STATE:{code:609,message:"Unknown user state. ",custom:!0},NO_USER_DATA:{code:610,message:"No user data result. ",custom:!0},NO_JANRAIN_DATA:{code:611,message:"No user data UUID. ",custom:!0},CONFIG_HAS_NOT_PUBLISHED:{code:612,message:"Configuration has not published. ",custom:!0},S3DATA_IS_INVALID:{code:613,message:"s3Data is not an object. ",custom:!0},HIDE_CONTENT:{code:614,message:"Cannot hide content! ",custom:!0},LOAD_ERRORS:{cookie:{ErrorMessage:"Data can not be written to the cookie storage."},configCode:{ErrorMessage:"Incorrect or not specified configCode."},siteCode:{ErrorMessage:"Incorrect or not specified siteCode."},auth0Lock:{ErrorMessage:"Auth0Lock is not defined."},configuration:{ErrorMessage:"No configuration found to process."},networkError:{ErrorMessage:"No network."}},MALFORMED_AUTH0_OPTIONS:{code:615,message:"Malformed Auth0 client options",custom:!0}}},function(t,e,n){"use strict";var r,o;n.d(e,"a",function(){return r}),(o=r||(r={})).Meter="meter",o.Promises="promises",o.IntegrateFlittz="integrateFlittz",o.ConversationPromiseTimeout="conversationPromiseTimeout",o.ActionPromiseTimeout="actionPromiseTimeout",o.DynamicMeterPromiseTimeout="dnamicMeterPromiseTimeout",o.Debug="debug",o.IsInitFinished="isInitFinished",o.SiteCode="siteCode",o.ConfigCode="configCode",o.PluginStartTime="pluginStartTime",o.ActionStartTime="actionStartTime",o.ActionEndTime="actionEndTime",o.RunTimeout="runTimeout",o.ApiUrl="apiUrl",o.DeviceId="deviceId",o.IsChangedDeviceId="isChangedDeviceId",o.FirstRunExecuted="FIRST_RUN_EXECUTED",o.ProductCode="productCode",o.Silentmode="silentmode",o.BatchCount="batchCount",o.SettingsKey="settingsKey",o.ClientCode="clientCode",o.AuthSettings="authSettings",o.UseRootDomain="useRootDomain",o.IsProcessed="isProcessed",o.StartProcessingTime="startProcessingTime",o.AppInsightsKey="appInsightsKey",o.ViewsUpdateFromServerPeriod="ViewsUpdateFromServerPeriod",o.ArticlesCounter="articlesCounter",o.AppOptions="AppOptions",o.Attr="attr",o.PaperCode="paperCode",o.Environment="environment",o.UserAuthenticationTime="userAuthenticationTime",o.UserIgmAuthTime="userIgmAuthTime",o.CurrentConversation="currentConversation",o.NeedHideWhitelistInfobox="needHideWhitelistInfobox",o.ActivationInstance="activationInstance",o.CampaignInstance="campaignInstance",o.ActionModuleInstance="actionModuleInstance",o.Application="application",o.RunReason="runReason",o.DebugInstance="debugInstance",o.LastIpDeniedReason="lastIpDeniedReason",o.UseStorageSecurity="useStorageSecurity",o.SwGInstance="swgInstance",o.ArticleIdProvider="articleIdProvider",o.G2IUserData="G2IUserData",o.OldNewDeviceId="oldNewDeviceId",o.ForceAuthSystemLogout="forceAuthSystemLogout",o.RefreshUserdataEveryPageload="refreshUserdataEveryPageload",o.UserStatePerPageload="userStatePerPageload"},function(t,e,n){"use strict";n.d(e,"a",function(){return r});va!1}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=n(342),c=n(337),r=function(){function t(){}return t.prototype.get=function(t,e,n){return this.call("GET",t,e,n)},t.prototype.pn)},t.prototype.call=function(t,e,n,r){r=r||{};var o=new URL(e),i={};if(r.headers){var s=new Headers(r.headers);s.append("Content-Type",r.contentType?r.contentType:"application/json"),s.append("Accept","application/json"),i.headers=s}return"GET"===(i.method=t)?n&&Object.keys(n).forE])}):i.body=JSON.stringify(n),!1===r.cache&&!1===o.searchParams.has("_")&&o.searchParams.append("_",(+new Date).toString()),new Promise(function(e,n){fetch(o.href,i).then(function(t){if(a.a.setOffset(t.headers.get(a.a.header)),t.ok)return Promise.resolve(t);if(404==t.status||500==t.status)throw new c.a({ErrorMessage:t.status+" - "+t.url+". "+t.statusText});return t.text().then(function(t){return Promise.reject(t?JSON.parse(t):{})})}).then(function(t){t.text().t})})}).cat)})})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(125),o=n(28),i=n(122),s=new(functioe"}return t.prototype.setOffset=function(t){if(t){var e=this.calculateOffset(t);this.localStorage.set(this.storageKey,e)}},t.prototype.getOffy)},t.prototype.t)},t.prototype.dely)},t.prototype.calculateOffset=function(t){return Object(o.n)().valueOf()-new Date(t).valueOf()},t.prototype.addOffset=function(t){void 0===t&&(t=0);var e=i.a.get().valueOf();return new Date(e+t)},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(30),o=n(2),i=n(28),s=n(334),a=n(0),c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=new(function(){function t(){}return t.prototype.getCurrentConversations=function(){var e=r.a.get(o.f.Conversations.Current);if(e&&this.checkMemoryStorageIsSupported()){var n=Object(i.u)(s.a.get(o.f.CurrentConversationActions));Object(a.each)(Object.keys(e),function(t){e[t].Actions=n?n[e[t].Id]:null})}return e},t.prototype.setCurrentConversations=function(t){if(t){if(this.checkMemoryStorageIsSupported()){var e=this.getConversationActionsForMemoryStorage(t);s.a.set(o.f.CurrentConversationsActions,Object(i.u)(e))}var n=Object(i.u)(c({},t));Object(a.each)(Object.keysns}),r.a.set(o.f.Conversations.Current,n)}else r.a.set(o.f.Conversations.Current,[])},t.prototype.getCurrentConversation=function(){var t=r.a.get(o.f.CurrentConversation);if(this.checkMemoryStorageIsSupported()){var e=Object(i.u)(s.a.get(o.f.CurrentConversationActions));t.Actions=e?e[t.Id]:null}return t},t.prototype.setCurrentConversation=function(t){if(t){if(this.checkMemoryStorageIsSupported()&&t.Actions){var e=this.getConversationActionsForMemoryStorage([t]);s.a.set(o.f.CurrentConversationActions,Object(i.u)(e))}var n=Object(i.u)(t);delete n.Actions,r.a.set(o.f.CurrentConversation,n)}else r.a.set(o.f.CurrentConversation,{})},t.prototype.getConversationById=function(e){var t=this.getAllConversations(),n=[];return t.Free&&(n=n.concat(t.Free)),t.Metered&&(n=n.concat(t.Metered)),t.Premium&&(n=n.concat(t.Premium)),n.find(function(t){return t.Id==e})},t.prototype.getAllConversatil)},t.prototype.setAllConversatit)},t.prototype.getConversationsByMeterLell},t.prototype.resetStorl)},t.prototype.checkMemoryStorageIsSuppor()},t.prototype.getConversationActionsForMemoryStorage=function(t){var e=[];return Object(a.eachs)}),e},t}())},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r,o,i,s,a=n(2),c=n(341),u=n(336),p=n(216),l=n(30),f=n(278),h=n(0),d=n.n(h);o=r||(r={}),i=new c.a,u.a.getInstance(),s=new p.a,o.getInformationFromServe)},o.getInformationFromStorage=function(){return l.a.get(a.f.GlobalLocation)||l.a.get(a.f.GlobalLocation,{expandKey:!1,isSecureValue:!1})},o.isExistInformationInStorage=function(){return!d.a.isEmpty(o.getInformationFromStorage())},o.setInformationToStort)},o.getGuid=function(){return f.a.get(a.f.ConnextUserId,{expandKey:!1,isSecureValue:!1,useRootDomain:!0})},o.getIncognitoMg)},o.setIncognitoMt)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(354),o=n(241),i=new(function(){function t(){}return t.prototype.cre()},t.prototype.trackEvent=function(t,e){this.currentAnalytic?this.currentAnalytic.trackEvent(t,e):o.a.warn("Analytics is not init yet")},t.prototype.setAuthenticatedUserContext=function(){this.currentAnalytic.setUserContext()},t.prototype.getFinishD()},t}())},function(t,e,n){"use strict";var r,o;n.d(e,"a",function(){return r}),(o=r||(r={})).SessionId="ssid",o.ConversationId="cnvid",o.ConversationName="cnvn",o.MeterMethod="mlm",o.MeterLevel="ml",o.ArticleLeft="artlft",o.ConversationView="cv",o.CampaignId="cmid",o.CampaignName="cmn",o.DynamicMeterId="dmid",o.DynamicMeterName="dmn",o.ConfigCode="cnfc",o.ConfigName="cnfn",o.SiteCode="sc",o.RegistrationTypeId="rtid",o.UserId="crid",o.EncryptedUser="igmrid",o.UserState="us",o.UserEmail="em",o.IpAddress="ip",o.UserZipCodes="zc",o.UserDeviceId="did",o.DeviceType="dt",o.UserOS="os",o.Browser="brw",o.CurrentUrl="url",o.Attr="attr",o.SettingsKey="stk",o.RunReason="rrsn",o.RuleId="rid",o.RuleName="rn",o.PropertiesViews="vws",o.NextConversationName="nxtcnvn",o.ExpiredReason="rsn",o.LoginModalId="lgmdid",o.CloseEvent="clev",o.ErrorMessage="errmsg",o.EncryptedCustomerRegistrationId="igmRegId",o.NewzwareLoginId="NzwLid",o.AuthSystem="as",o.ActionId="actid",o.ActionName="actn",o.ActionTypeId="actt",o.UserDefinedData="usdfdt",o.UserDefinedDataAttr="udfat",o.ButtonHtml="btnhtml",o.AdblockFound="dtctd",o.loadTimePlugin="lpt",o.TypeView="tvw",o.LoadError="lerrm",o.ResetOnDay="rstd",o.ResetFrequency="rstf",o.GABlocked="ga",o.GTMBlocked="gtm",o.G2insights="g2i",o.ArticleCountReset="acr",o.FprintRegenStats="fprs",o.Incognito="incg",o.Version="ver",o.LocalDateTime="ldt",o.ConfigSettingsPublishDate="cfgsetspd",o.PublishSettings="pubsets",o.DateStarted="ds",o.ExpirationDate="expd",o.OldDeviceId="aui",o.RecalculatedDeviceId="auiRecalc",o.AccessDeniedReason="adrsn",o.AccessStartDate="acssd",o.AccessEndDate="acsed",o.FlowStopped="flwstp",o.HasSubscriptions="sub"},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(278),o=n(30),i=n(2),s=n(341),a=n(122),c=n(19),u=n(127),p=new(functio.a}return t.prototype.getConfigurationFromApi=function(t,e){var n=t.ClientCode?t.ClientCode.toLowerCase():"noncs",r=t.SiteCode.toUpperCase()+"__"+t.ConfigCode.toUpperCase();e&&(r=r+"__"+e.toUpperCase());var o=t.ResourceUrl+"data/"+n+"/"+r+".json?_="+a.a.get().getTime();return this.http.get(o)},t.prototype.getPublishSettingsFromApi=function(t,e,n){var r=t+"data/last_publish/"+e+"__"+n+".json?_="+a.a.get().getTime();return this.http.get(r)},t.prototype.cln)},t.prototype.getPublishSettings=function(){var t=r.a.get(i.f.PublishSettings,{isSecureValue:!0});return t?JSON.parse(t):null},t.prototype.setPublishSettings=function(t,e){return e.isSecureValue=!0,r.a.set(i.f.PublishSettings,JSON.stringify(t),e)},t.prototype.getLocalConfigurat))},t.prototype.setLocalConfiguration=function(t){this.deleteAllConfigs(),o.a.set(this.getConfigurationStorageKey(),t)},t.prototype.deleteAllConfigs=function(){var t=o.a.getAllKeys(),e=new u.a({});e.expandKey=!1,t.filter(function(t){return t.startsWith(i.f.Configuration)&&!t.startsWith(i.f.DebugPanel.ConfigurationIsCustom)&&!t.startsWith(i.f.DebugPanel.ConfigCode)&&!t.startsWith(i.f.DebugPanel.SiteCode)}).forEe)})},t.prototype.getCampaignData=function(){return this.getLocalConfiguration().Campaign},t.prototype.getCodeSetTemplatesDes},t.prototype.getABTestDst},t.prototype.getConfigurationStorageKey=function(){var t=c.a.getAttribute(),e=i.f.Configuration;return t&&(e=e+"__"+t.toString().toUpperCase()),e},t}())},function(t,e,n){"use strict";var r,o;n.d(e,"a",function(){return r}),(o=r||(r={})).Messaging="Messaging",o.System="System",o.Whitelisting="Whitelisting",o.Activation="Activation",o.Testing="Testing",o.User="User",o.Newsletter="Newsletter"},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,o=n(116),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},t}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});va=n}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(74),o=n(333),i=n(45),s=n(334),a=n(339),c=n(337),u=function(t){o.a.dispatch(i.a.LoadError,t),r.a.update();var e=s.a.get(a.a.DebugInstance);throw e&&e.showIfNeed(),new c.a(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(123),o=n(0),i=function(t){t&&(Object(o.isString)(t)?(this.IsPremium=t.toUpperCase()===r.d.Premium,this.IsPurchase=t.toUpperCase()===r.d.Purchase,this.IsUpgrade=t.toUpperCase()===r.d.Upgrade):(this.IsPremium=t.IsPremium,this.IsPurchase=t.IsPurchase,this.IsUpgrade=t.IsUpgrade))}},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"EmailRule",function(){return v}),n.d(r,"EqualsRule",function(){return _}),n.d(r,"MaxLengthRule",function(){return C}),n.d(r,"PasswordRule",function(){return S}),n.d(r,"PatternRule",function(){return I}),n.d(r,"RequiredRule",function(){return E}),n.d(r,"PhonepartRule",function(){return D});var o,i,s,a,c,u,p,l=n(16),f=n(0),h=functio=e}return t.prototype.checkMarginBottom=function(){this.marginBottom=l.a.css(this.element,"margin-bottom"),5<parseInt(this.marginBottom)&&l.a.css(this.element,{"margin-bottom":"5px"})},t.prototype.show=function(){var r=this;this.checkMarginBottom(),this.errorContainer=document.createElement("div"),this.errorContainer.className="input-error",Object(f.each)(this.messae)}),this.element.parentNode.appendChild(this.errorContainer)},t.prototype.h()},t.prototype.repairMarginButton=function(){l.a.css(this.element,{"margin-bottom":this.marginBottom})},t}(),d=n(28),g=function(){function t(t,e,n){this.errorMessage="",this.formSelector=e,this.errorFieldName=this.splitCamelCaseToString(t),this.partField=n}return t.prototype.ch!0},t.prototype.validateInput=function(t,e){this.result=this.check(e)},t.prototype.validateRe)},t.prototype.getValidateResult=function(){var t={isValid:this.result,errorMessage:null};return this.result||(t.errorMessage=this.errorMessage),t},t.prototype.splitCamelCaseToStr")},t}(),y=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(r){function t(t,e){var n=r.call(this,t,e)||this;return n.errorMessage="The "+n.errorFieldName+" must be a valid email address.",n}return y(t,r),t.prototype.ch))},t}(g),m=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.setErrorMessage=function(t,e){this.errorMessage="The "+t+" does not match the confirm "+e},e.prototype.validate=function(t,e){this.setErrorMessage(this.errorFieldName,e);var n=l.a.queryElement(this.formSelector),r=l.a.val(l.a.find('[data-nxt-input="'+e+'"]',n));this.result=r==t},e.prototype.validateInput=function(t,e){this.validate(e,l.a.attr(t,"data-nxt-input-match"))},e.prototype.validateRule=function(t,e){this.validate(e,t.matchField)},e}(g),b=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.setErrorMess+e},e.prototype.validate=function(t,e){this.setErrorMessage(this.errorFieldName,t),this.result=e.length<=t},e.prototype.validateInput=function(t,e){this.validate(e,l.a.attr(t,"maxlength"))},e.prototype.validateRh)},e}(g),w=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.errorMessage="Password rules are at least 1 character and 1 number and seven characters long",t}return w(t,e),t.prototype.cht)},t}(g),A=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),I=function(r){function t(t,e){var n=r.call(this,t,e)||this;return n.errorMessage="The "+n.errorFieldName+" does not matche by pattern.",n}return A(t,r),t.prototype.valide)},t.prototype.validateInput=function(t,e){this.validate(l.a.attr(t,"pattern"),e)},t.prototype.validateRe)},t}(g),O=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(r){function t(t,e){var n=r.call(this,t,e)||this;return n.errorMessage="The "+n.errorFieldName+"  is required.",n}return O(t,r),t.prototype.check=function(t){return!!t},t}(g),P=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.getLengthPart=function(t){switch(+t){case 1:case 2:return 3;case 3:return 4}},e.prototype.setErrorMessage=function(t,e){this.errorMessage="The "+t+" part "+e+" should be "+this.getLengthPart(e)+" digits."},e.prototype.check=function(t){return this.setErrorMessage(this.errorFieldName,this.partField),this.validateFormPart(t,this.getLengthPart(this.partField))},e.prototype.validateFormPart=function(t,e){return!(!t||t.length!=e||!/^\d+$/.test(t))},e}(g),x=functio=r}return t.prototype.validate=function(){var t=l.a.val(this.input),e=[];return e=this.ruleParams?this.validateRules(t,this.ruleParams):this.validateInput(t),this.applyValidation(e)},t.prototype.validateInput=function(n){var r=this,t=l.a.attr(this.input,"data-nxt-rule");if(t){var e=new String(t).split(","),o=[];return Object(f.each)(e,function(t){var e=r.getRuleType(t);e.validateInput(r.input,n),o.push(e.getValidateResult())}),o}},t.prototype.validateRules=function(n,t){var r=this,o=[];return Object(f.each)(t,function(t){var e=r.getRuleType(t.name);e.validateRule(t.params,n),o.push(e.getValidateResult())}),o},t.prototype.getRuleType=function(t){return new(r[this.getRuleName(t)])(this.name,this.formSelector,this.partField)},t.prototype.setRules=function(t){this.ruleParams=t},t.prototype.applyValidation=function(t){return this.removeValidateErrors(),this.isEachRuleValid(t)?(this.showSuccessResultForInput(),!0):(this.showFailResultForInput(t),!1)},t.prototype.getRuleName=function(t){return Object(d.B)(t)+"Rule"},t.prototype.isEachRuleValid=function(t){return Object(f.every)(t,function(t){return 1==t.isValid})},t.prototype.showSuccessResultForInput=function(){this.removeValidateErrors()},t.prototype.showFailResultForInput=function(t){var e=Object(f.filterid}),n=[];Object(f.each)(e,function(t){n.push(t.errorMessage)}),l.a.addClass(this.input,"has-error"),this.errorMessage=new h(this.input,n),this.errorMessage.show()},t.prototype.removeValidateErr")},t.prototype.resetErr()},t.prototype.getErrorMess""},t}();n.d(e,"a",function(){return B});var B=function(){function t(t,e){this.inputAttrs=["data-nxt-input","data-mg2-input"],this.fields=[],this.errors=[],this.selector=t,this.rules=e,this.setElement(),this.setInputs()}return t.prototype.setInputAttrName=function(t){this.inputAttrs=t,this.setInputs()},t.prototype.setRules=function(t){this.rules=t},t.prototype.findByDataAttr=function(e){var t=Object(f.map)(this.inputAttrs,function(t){return"["+t+'="'+Object(d.B)(e)+'"]'}).join(", ");return l.a.find(t,this.element)},t.prototype.autocompleteInput=function(t,e){var n=this.findByDataAttr(t);n.length&&l.a.val(n,e)},t.prototype.autocomplete=function(e){var n=this;Object(f.each)(Object(f.keys)])})},t.prototype.setElemr)},t.prototype.setInputs=function(){var e=this,t=Object(f.map)(this.inputAttrs,function(t){return"["+t+"]:visible"}).join(", ");this.inputs=l.a.find(t,this.element),l.a.on(this.inputs,"chant)})},t.prototype.getField=function(e){var t,n=Object(f.find)(Object(f.map)(this.inputAttrs,function(t){return l.a.attr(e,t)}),function(t){return!!t}),r=Object(f.find)(this.rules,function(t){return t.field==n});r&&(t=r.rules);var o=l.a.attr(e,"data-part");return o?this.setPartsField(n,o,e,t):this.setField(n,e,t)},t.prototype.setPartsField=function(t,e,n,r){var o;return this.fields[t+"_"+e]?o=this.fields[t+"_"+e]:((o=new x(t,n,this.selector,e)).setRules(r),this.fields[t+"_"+e]=o),o},t.prototype.setField=function(t,e,n){var r;return this.fields[t]?r=this.fields[t]:((r=new x(t,e,this.selector)).setRules(n),this.fields[t]=r),r},t.prototype.validateField=function(t){var e=this.getField(t);e.resetErrors(),this.hideServerErrors();var n=e.validate();return n||this.errors.push(e.getErrorMessage()),n},t.prototype.validate=function(){var e=this;this.hideErrors();var n=[];return this.inputs&&this.inputs.length||this.setInputs(),Object(f.each)(this.inp))}),Object(f.every)(n,function(t){return 1==t})},t.prototype.getErrors=function(){return this.errors},t.prototype.resetErr[]},t.prototype.getInputsData=function(){var o=this,i={};return this.inputs&&this.inputs.length||this.setInputs(),Object(f.each)(this.inputs,function(e){var t=Object(f.find)(Object(f.map)(o.inputAtt!t}),n=l.a.val(e),r=l.a.attr(e,"data-part");i[t]=r&&i[t]?i[t]+n:n}),i},t.prototype.hideErrors=function(){this.clearInputErrors(),this.hideServerErrors()},t.prototype.clear=function(){Object(f.each)(this.inputs,function(t){t.value=""}),this.hideErrors()},t.prototype.clearInputErrors=function(){var e=this;Object(f.each)(Object(f.keys)(this.fiel()})},t.prototype.showServerErrors=function(t){var e=l.a.find("[data-nxt-form-error]",this.element);l.a.text(e,t),l.a.show(e)},t.prototype.hideServerErrors=function(){var t=l.a.find("[data-nxt-form-error]",this.element);l.a.text(t,""),l.a.hide(t)},t.prototype.showSuccessMessage=function(t){var e=l.a.find("[data-nxt-form-success]",this.element);t&&l.a.text(e,t),l.a.show(e)},t.prototype.hideSuccessMessage=function(){var t=l.a.find("[data-nxt-form-success]",this.element);l.a.hide(t)},t}()},function(t,e,n){"use strict";var s=n(0),r=function(){function t(){}return t.prototype.trackEvent=function(t,e){},t.prototype.setAuthenticatedUserContext=function(){},t.prototype.create=function(){},t.prototype.getFinishData=function(){},t}(),a=n(9),c=n(19),u=n(42),o=n(220),p=n(74),l=n(334),f=n(339),i=n(241),h=n(346),d=n(28),g=function(){function t(t){var e;try{e=JSON.parse(t)}catch(t){i.a.error("JSON.parse",t),e=null}e&&(this.execStatus=e.execStatus,this.generatedId=e.generatedId,this.errorDetail=e.errorDetail,this.doNotTrack=e.doNotTrack,this.cookieEnabled=e.cookieEnabled,this.timeElapsed=e.timeElapsed)}return t.prototype.serializeForAnalyt})},t}(),y=n(29),v=n(44);n.d(e,"a",function(){return b});var m,_=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(r){function t(){var t=r.call(this)||this;t.maxChunkSize=8192,t.maxChunksInTraceMessage=3;var e=l.a.get(f.a.DeviceId),n=a.a.getUserId();try{i.a.log("Initializing AppInsights Module..."),t.appInsightsService=function(t){function e(e){c[e]=function(){var t=arguments;c.queue=c.queue||[],c.queue.push(function(){c[e].apply(c,t),c.context})}}var s,a,c={config:t,cookie:"",queue:[],version:"",context:{},trackPageView:function(){},setAuthenticatedUserContext:function(t,e){}},n=document,r=window,o="AuthenticatedUserContext",i="TrackEvent",u=n.createElement("script");u.src=t.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",n.getElementsByTagName("script")[0].parentNode.appendChild(u);try{c.cookie=n.cookie}catch(t){}for(c.queue=[],c.version="1.0",s=["Event","Exception","Metric","PageView","Trace","Dependency"];s.length;)e("track"+s.pop());return e("set"+o),e("clear"+o),e("start"+i),e("stop"+i),e("startTrackPage"),e("stopTrackPage"),e("flush"),t.disableExceptionTracking||(e("_"+(s="onerror")),a=r[s],r,i}),c}({instrumentationKey:c.a.get(f.a.AppInsightsKey),disableExceptionTracking:!0,appUserId:e,accountId:n,url:""}),window.appInsights=t.appInsightsService,t.appInsightsService.queue||(t.appInsightsService.queue=[]),t.appInsightsService.queue.push(function(){t.appInsightsService.context.addTelemetryInitializer(function(t){var e=t.data.baseData;if("RemoteDependencyData"===t.data.baseType)return-1!==e.data.indexOf("connext")||-1!==e.target.indexOf("auth0")})}),t.appInsightsService.setAuthenticatedUserContext(e,n),t.appInsightsService.trackPageView()}catch(t){i.a.error("Error of app insights initialization")}return t}return _(t,r),t.getInstalf},t.prototype.setUserContext=function(){var t=l.a.get(f.a.DeviceId),e=a.a.getUserId();this.appInsightsService.config=Object(s.extend)(this.appInsightsService.config,{appUserId:t,accountId:e}),this.appInsightsService.setAuthenticatedUserContext(t,e)},t.prototype.trackEvent=function(t,e){if(this.appInsightsService)try{var n=Object(s.extend)(this.baseData(),e);i.a.log("App Insights Event: "+t,n),this.appInsightsService.trackEvent(t,n)}catch(t){i.a.error("Error in AppInsights.trackEvent: "+t.message)}else i.a.error("AppInsights is not initialized!")},t.prototype.baseData=function(){var t=u.a.getConfigurationSettings(),e=u.a.getConfiguration(),n={};return n[h.a.SessionId]=c.a.getSessionId(),n[h.a.ConfigCode]=e?e.Code:null,n[h.a.SiteCode]=t?t.Site.Code:"",n[h.a.SettingsKey]=c.a.getSettingsKey(),n},t.prototype.getFinishData=function(){var i=u.a.getConfiguration();return o.a.loadCampaign().then(function(t){var n={},e=null;t&&(e=t.getCurrentConversation())&&(n[h.a.ConversationId]=e.Id,n[h.a.ConversationName]=e.Name,Object(s.has)(e,"Properties")&&(n[h.a.ArticleLeft]=e.Properties.ArticleLeft,n[h.a.PropertiesViews]=e.Properties.Views));Date.now(),c.a.getStartLoadPlugin();c.a.deleteStartLoadPlugin(),i&&(n[h.a.ConfigCode]=i.Code,n[h.a.ConfigName]=i.Name,Object(s.has)(i,"Campaign")&&(n[h.a.CampaignId]=i.Campaign.Id,n[h.a.CampaignName]=i.Campaign.Name),Object(s.has)(i,"DynamicMeter")&&(n[h.a.DynamicMeterId]=i.DynamicMeter.Id,n[h.a.DynamicMeterName]=i.DynamicMeter.Name),Object(s.has)(i,"Settings")&&Object(s.has)(i,"Site")&&(n[h.a.SiteCode]=i.Settings.Site.Code));var r=l.a.get(f.a.Meter);r&&(n[h.a.MeterMethod]=r.Method,n[h.a.MeterLevel]=r.Level);var o=l.a.get(f.a.OldNewDeviceId);return o&&(n[h.a.OldDeviceId]=o.id,n[h.a.RecalculatedDeviceId]=o.newId),n[h.a.UserId]=a.a.getUserId(),n[h.a.EncryptedUser]=a.a.getUserId(),n[h.a.UserState]=a.a.getUserState(),n[h.a.UserEmail]=a.a.getEmail(),n[h.a.IpAddress]=p.a.getIP(),n[h.a.UserZipCodes]=a.a.getUserZipCodes(),n[h.a.UserDeviceId]=l.a.get(f.a.DeviceId),n[h.a.DeviceType]=y.a.getDeviceType(),n[h.a.UserOS]=y.a.getOS(),n[h.a.Browser]=y.a.getBrowser(),n[h.a.CurrentUrl]=Object(d.j)(),n[h.a.Attr]=c.a.get(f.a.Attr),n[h.a.SettingsKey]=c.a.getSettingsKey(),n[h.a.ConfigSettingsPublishDate]=u.a.getPublishDate(),n[h.a.PublishSettings]=JSON.stringify(u.a.getPublishSettings()),n[h.a.FlowStopped]=v.a.IsAccessGranted(),n[h.a.HasSubscriptions]=null!=a.a.getSubscriptions()&&0<a.a.getSubscriptions().length,p.a.isIncognitoBrowsing().then(function(t){if(n[h.a.Incognito]=t,y.a.isMobile()||void 0===window.Fingerprint||"function"!=typeof window.Fingerprint.getStatsReport)return n[h.a.FprintRegenStats]=null,n;var e=new Prom3)});return Promise.race([window.Fingerprint.getStatsReport(),e]).then(function(t){return n[h.a.FprintRegenStats]=t?new g(JSON.stringify(t)).serializeForAnalytics():null,n})})})},t.prototype.trace=function(t,e,n){var r=this.splitDataIntoChunks(n);r.sessionMeta=e?JSON.stringify(e):null,this.appInsightsService.trackTrace(t,r)},t.prototype.splitDataIntoChunks=function(t){for(var e=[],n=0,r=0,o=0;o<this.maxChunksInTraceMessage&&r<t.length;){for(n=0,e["chunk_"+o]=[];r<t.length&&n+t[r].length<this.maxChunkSize;)n+=t[r].length+1,e["chunk_"+o].push(t[r++]);o++}return e},t._self=null,t}(r)},function(t,e,n){"use strict";var r=n(0),o=n(16),i="data:image/gif;base64, R0lGODlhEAALAPQAAP///wAAANra2tDQ0Orq6gYGBgAAAC4uLoKCgmBgYLq6uiIiIkpKSoqKimRkZL6+viYmJgQEBE5OTubm5tjY2PT09Dg4ONzc3PLy8ra2tqCgoMrKyu7u7gAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA";n.d(e,"a",function(){return s});var s=function(){function t(t,e){Object(r.isArray)(t)?this.element=Object(r.first)(t):this.element=t;var n={location:"in",img:'<img src="'+i+'" style="margin: 7px 7px; width: 16px; height:11px" />',loaderId:"loader"};this.settings=Object(r.extend)(n,e),this.imgFragment=o.a.create(this.settings.img),o.a.attr(this.imgFragment,{id:this.settings.loaderId})}return t.prototype.on=function(){try{var t=o.a.children(this.element,"span");t.length?this.currentElement=t:this.currentElement=this.element,this.text=o.a.html(this.currentElement),o.a.addClass(this.element,"disabled"),"in"==this.settings.location&&o.a.append(this.currentElement,this.imgFragment)}catch(t){}},t.prototype.off=function(){try{o.a.removeClass(this.element,"disabled"),o.a.html(this.currentElement,this.text)}catch(t){}},t}()},function(t,e,n){"use strict";var u=n(334),p=n(339),a=n(45),l=n(241),r=n(341),c=n(333),f=n(28),h=n(342),d=n(2),o=function(){},i=n(129),s=n.n(i),g=n(214),y=n.n(g),v=n(247),m=n.n(v),_=n(0),b=n(30),C=n(19);n.d(e,"a",function(){return S});var w=function(t){var e=s.a.stringify(t);return e=(e=(e=e.replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")},S=new(function(){function t(){this.http=new r.a,this.JWT_TOKEN=this.generateJWTToken()}return t.prototype.get=function(t,e,n){return this.call("get",t,e,n)},t.prototype.post=function(t,e,n){return this.call("post",t,e,n)},t.prototype.call=function(n,r,o,i){var s=this;void 0===i&&(i={});var t=i.externalCall?{}:this.shapeHeaders(i);i.headers=Object(_.extend)(t,i.headers);var e=u.a.get(p.a.AppOptions);return this.API_PATH=e.get(p.a.ApiUrl)+"api/",this.http[n](this.API_PATH+r,o,i).catch(function(t){c.a.dispatch(a.a.LoadError,JSON.stringify(t));var e=s.mapErrorResponse(t);return"The token is expired"===e.ErrorMessage?(s.JWT_TOKEN=s.generateJWTToken(),i.headers.Authorization=s.JWT_TOKEN,s.http[n](s.API_PATH+r,o,i).cae)})):Promise.reject(e)})},t.prototype.shapeHeaders=function(t){var e=u.a.get(p.a.AppOptions),n=!1;try{n=!!JSON.parse(b.a.get(d.f.AutoQA,{isSecureValue:!1,expandKey:!1}))}catch(t){}var r={"Site-Code":e.get(p.a.SiteCode),"Config-Code":e.get(p.a.ConfigCode),"Access-Control-Allow-Origin":"*",Environment:e.get(p.a.Environment),settingsKey:e.get(p.a.SettingsKey),Version:Object(f.q)(),"Source-System":"Plugin",Authorization:this.JWT_TOKEN,Location:t.location,AutoQA:n,SSID:C.a.getSessionId()},o=e.get(p.a.Attr);o&&(r.attr=o);var i=e.get(p.a.ProductCode);i&&(r["Product-Code"]=i);var s=e.get(p.a.PaperCode);s&&(r["Paper-Code"]=s);var a=u.a.get(p.a.G2IUserData);if(a){var c=JSON.stringify(a);1024<c.length&&l.a.warn("X-G2IData length",c.length),r["X-G2IData"]=c}return r},t.prototype.generateJWTToken=function(){var t,e={unique_name:"ConneXt",exp:Math.round(h.a.get().valueOf()/1e3)+72e6},n=y.a.parse(JSON.stringify({alg:"HS256",typ:"JWT"})),r=y.a.parse(JSON.stringify(e)),o=w(n),i=w(r),s=o+"."+i;return t=m()(s,"db3OIsj+BXE9NZDy0t8W3TcNekrF+2d/1sFnWG4HnV8TZY30iTOdtVWJG8abWvB1GlOgJuQZdcF2Luqm/hccMw=="),"Bearer "+o+"."+i+"."+(s=w(t))},t.prototype.mapErrorResponse=function(t){var e,n=new o,r=Object(_.isString)(t)?t:t.Message;n.ErrorMessage=d.c,n.ErrorCode="";try{e=JSON.parse(r)}catch(t){return n}return e&&e.Errors?(Object(_.isArray)(e.Errors)&&(n.ErrorMessage="",e.Errors.forEach(function(t){Object(_.isString)(t)?n.ErrorMessage+=t+" ":n.ErrorMessage+=t.Message+" "})),n.ErrorCode=e.ErrorCode||t.ErrorCode||""):n.ErrorMessage=e.Message||n.ErrorMessage,n},t}())}]);