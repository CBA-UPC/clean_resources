/* prebid.js v8.30.0
Updated: 2024-01-05
Modules: fpdModule, adpod, userId, appnexusBidAdapter, criteoBidAdapter, ixBidAdapter, minutemediaBidAdapter, openxBidAdapter, pubmaticBidAdapter, rubiconBidAdapter, sovrnBidAdapter, tripleliftBidAdapter, consentManagement, consentManagementUsp, enrichmentFpdModule, gptPreAuction, schain, topicsFpdModule, dfpAdServerVideo, criteoIdSystem, id5IdSystem, liveIntentIdSystem, quantcastIdSystem, identityLinkIdSystem */
if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch(e){}else (function(){
!);
(self.pbjsChunk=self.pbjsChunk||[]).push([[38409],{17007:29819:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[33402],{85370:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[93157],{20676:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[42277],{19050:27374:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[2284],{26296:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[86190],{34292:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[17968],{52712:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[29703],{10075:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[67292],{21138:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[85279],{24980:61283:15840:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[70951],{99933:11021:39702:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[54213],{29865:]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[4871],{28979:,function(e){e.O(0,[38409],(function(){return i=28979,e(e.s=i);var i}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[83864],{46319:17673:function(e,r,a){a.d(r,{h:function(){return t}});var n=a(20265);function t(e){return null==e||!e.gdprApplies||!0===(0,n.Z)(e,"vendorData.purpose.consents.1")}}},);
(self.pbjsChunk=self.pbjsChunk||[]).push([[21266],{55630:26372:function(n,e,t){t.d(e,{DZ:function(){return a},Px:function(){return c},TP:function(){return u},YC:function(){return s},Z:function(){return i},f8:function(){return g},fP:function(){return m},gm:function(){return o},md:function(){return l}});var o=["request","imp","bidResponse","response"],r=["default","pbs"],i=o[0],a=o[1],c=o[2],s=o[3],u=r[0],l=r[1],f=new Set(o);var d,p=(d={},{registerOrtbProcessor:function(n){var e=n.type,t=n.name,r=n.fn,i=n.priority,a=void 0===i?0:i,c=n.dialects,s=void 0===c?[u]:c;if(!f.has(e))throw new Error("ORTB processor type must be one of: ".concat(o.join(", ")));s.forEach((function(n){d.hasOwnProperty(n)||(d[n]={}),d[n].hasOwnProperty(e)||(d[n][e]={}),d[n][e][t]={priority:a,fn:r}}))},getProcessors:function(n){return d[n]||{}}}),g=p.registerOrtbProcessor,m=p.getProcessors}},function(n){n.O(0,[17968,38409],(function(){return e=55630,n(n.s=e);var e}));n.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[5160],{9099:,function(n){n.O(0,[17968,38409],(function(){return t=9099,n(n.s=t);var t}));n.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[6406],{60241:17673:44611:94950:1582:,function(e){e.O(0,[38409],(function(){return t=60241,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[79073],{7713:,function(e){e.O(0,[38409],(function(){return o=7713,e(e.s=o);var o}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[36656],{43642:54284:7563:,function(e){e.O(0,[38409],(function(){return r=43642,e(e.s=r);var r}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[88806],{19749:,function(n){n.O(0,[38409],(function(){return u=19749,n(n.s=u);var u}));n.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[7910],{63410:,function(r){r.O(0,[38409],(function(){return n=63410,r(r.s=n);var n}));r.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[65296],{96787:,function(t){t.O(0,[38409],(function(){return o=96787,t(t.s=o);var o}));t.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[61618],{10272:,function(e){e.O(0,[38409],(function(){return t=10272,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[79114],{45407:,function(e){e.O(0,[38409],(function(){return t=45407,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[40155],{33390:,function(e){e.O(0,[33402,29703,38409],(function(){return t=33390,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[93390],{88360:76886:}},831f},516o},650e}},function(e){e.O(0,[67292,38409],(function(){return t=88360,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[52037],{525)}},function(e){e.O(0,[38409],(function(){return r=52506,e(e.s=r);var r}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[8534],{478)},26372:function(e,t,r){r.d(t,{DZ:function(){return i},Px:function(){return s},TP:function(){return u},YC:function(){return p},Z:function(){return a},f8:function(){return b},fP:function(){return l},gm:function(){return n},md:function(){return c}});var n=["request","imp","bidResponse","response"],o=["default","pbs"],a=n[0],i=n[1],s=n[2],p=n[3],u=o[0],c=o[1],d=new Set(n);var f,m=(f={},{registerOrtbProcessor:function(e){var t=e.type,r=e.name,o=e.fn,a=e.priority,i=void 0===a?0:a,s=e.dialects,p=void 0===s?[u]:s;if(!d.has(t))throw new Error("ORTB processor type must be one of: ".concat(n.join(", ")));p.forEach((function(e){f.hasOwnProperty(e)||(f[e]={}),f[e].hasOwnProperty(t)||(f[e][t]={}),f[e][t][r]={priority:i,fn:o}}))},getProcessors:function(e){return f[e]||{}}}),b=m.registerOrtbProcessor,l=m.getProcessors)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[55126],{158)}},function(e){e.O(0,[33402,38409],(function(){return r=15817,e(e.s=r);var r}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[44967],{297)}},function(e){e.O(0,[38409],(function(){return t=29747,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[56187],{400)},26372:function(e,r,t){t.d(r,{DZ:function(){return a},Px:function(){return s},TP:function(){return c},YC:function(){return d},Z:function(){return o},f8:function(){return v},fP:function(){return m},gm:function(){return n},md:function(){return u}});var n=["request","imp","bidResponse","response"],i=["default","pbs"],o=n[0],a=n[1],s=n[2],d=n[3],c=i[0],u=i[1],p=new Set(n);var l,f=(l={},{registerOrtbProcessor:function(e){var r=e.type,t=e.name,i=e.fn,o=e.priority,a=void 0===o?0:o,s=e.dialects,d=void 0===s?[c]:s;if(!p.has(r))throw new Error("ORTB processor type must be one of: ".concat(n.join(", ")));d.forEach((function(e){l.hasOwnProperty(e)||(l[e]={}),l[e].hasOwnProperty(r)||(l[e][r]={}),l[e][r][t]={priority:a,fn:i}}))},getProcessors:function(e){return l[e]||{}}}),v=f.registerOrtbProcessor,m=f.getProcessors)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[39225],{286)},263s}},function(n){n.O(0,[38409],(function(){return i=28689,n(n.s=i);var i}));n.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[37771],{302)}},function(r){r.O(0,[38409],(function(){return e=30272,r(r.s=e);var e}));r.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[3161],{386))}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[82599],{707))}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[9215],{825)},7563:function(e,n,r){r.d(n,{G:function(){return t}});var t=(0,r(92797).z3)("sync",(function(){}))},26372:function(e,n,r){r.d(n,{DZ:function(){return a},Px:function(){return u},TP:function(){return s},YC:function(){return c},Z:function(){return i},f8:function(){return m},fP:function(){return v},gm:function(){return t},md:function(){return f}});var t=["request","imp","bidResponse","response"],o=["default","pbs"],i=t[0],a=t[1],u=t[2],c=t[3],s=o[0],f=o[1],l=new Set(t);var d,g=(d={},{registerOrtbProcessor:function(e){var n=e.type,r=e.name,o=e.fn,i=e.priority,a=void 0===i?0:i,u=e.dialects,c=void 0===u?[s]:u;if(!l.has(n))throw new Error("ORTB processor type must be one of: ".concat(t.join(", ")));c.forEach((function(e){d.hasOwnProperty(e)||(d[e]={}),d[e].hasOwnProperty(n)||(d[e][n]={}),d[e][n][r]={priority:a,fn:o}}))},getProcessors:function(e){return d[e]||{}}}),m=g.registerOrtbProcessor,v=g.getProcessors}},function(e){e.O(0,[38409],(function(){return n=82547,e(e.s=n);var n}));e.O()}]);
})(),pbjs.processQueue();

if(!window.__iasPET){window.__iasPET={}; } if (typeof window.__iasPET.queue === 'undefined') { window.__iasPET.queue=[]; } window.__iasPET.pubId='7529';)}([function(e,t))}]);

/*! @amzn/apswebapstaglibrary - web-client-bundle - v23.1202.117 - 2023-12-02 01:17:42 */
!function(){"use strict";var)};var e,n,o,rnction(t){t.push="push",t.listenerSuccess="listenerSuccess",t.direct="direct"}(e||(e={})),function(t){t.internal="internal",t.apstag="apstag",t.webpage="webpage"}(n||(n={})),function(t){t.completed="completed",t.waiting="waiting",t.cancelled="cancelled"}(o||(o={}"}(r||(r={}));var v,p=i(i({},o),r),f="debugSession/end",h="prepend/events",g="populator/ran",m="23.1202.117"}(v||(v={}));var y,w={method:"GET",mode:"no-cors",cache:"no-cache",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer-when-downgrade"},b=function(){function t(t){void 0===t&&(t=.001),this.SERVICE_NAME=v.AaxPx,this._executionRatio=t}return Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.executionRatio>=Math.random()},enumerable:!1,configurable:!0}),t.prototype.logFeature=function(t){this.isEnabled&&this.sendPayload(this.buildFeaturePayload(t))},t.prototype.logErr)},t.prototype.sendPayload=function(t){var e=encodeURIComponent(JSON.stringify(t).replace(/\\.{1}/g,""));fetch("".concat("https://aax.amazon-adsystem.com/x/px/p/PH/").concat(e),w)},t.prototype.buildErrorPayload=function(t){var e,n,o,r,i,a,u=t.error,c=t.errorCategory,s=t.accountID;return{_tl:"aps-tag",_type:"apsLibraryError",src:"kraken",pubid:void 0===s?"unknown":s,ts:Date.now(),url:encodeURIComponent(null!==(o=null===(n=null===(e=window.top)||void 0===e?void 0:e.location)||void 0===n?void 0:n.href)&&void 0!==o?o:""),r:encodeURIComponent(null!==(i=null===(r=window.top)||void 0===r?void 0:r.document.referrer)&&void 0!==i?i:""),e:{et:"string"==typeof u?"unknown":u.name,el:c,msg:"string"==typeof u?"":null!==(a=u.message)&&void 0!==a?a:""},lv:m}},t.prototype.buildFeaturePayload=function(t){var e,n,o,r=t.category,i=t.feature;return{_tl:"aps-tag",_type:"featureUsage",src:"kraken",pubid:t.accountID,p:[{cat:encodeURIComponent(r),feat:encodeURIComponent(i)}],u:encodeURIComponent(null!==(o=null===(n=null===(e=window.top)||void 0===e?void 0:e.location)||void 0===n?void 0:n.href)&&void 0!==o?o:""),lv:m}},Object.defineProperty(t.prototype,"executionRatio",{get:function(){return this._executionRatio},set:function(t){this._executionRatio="number"!=typeof t||t<0?0:t>=0&&t<=1?t:1},enumerable:!1,configurable:!0}),t}();!function(t){t.info="info",t.warn="warn",t.error="error"}(y||(y={}));vart}(),E=_.Instance(),C=function(){function t(t){void 0===t&&(t=5e3),this.SERVICE_NAME=v.Tahoe,this.STACK_MAX_LENGTH=500,this.BATCH_SIZE=300,this._recordQueue=[],this._queueLimit=5e3,this._executionRatio=0,this._queueIntervalID=void 0,this._serviceUrl="https://prod.tahoe-analytics.publishers.advertising.a2z.com/logevent/putRecords?encoded=true",this._serviceAPIKey="79db72eb0b5c7255afa54a253df24fb4a5ac916bf40b51c730df8850aa5665ca",this._eventSource="aps_web_client_library",this._queueInterval=t,this.createRecordQueueInterval()}return Object.defineProperty(t.prototype,"shouldSample",{get:function(){return 0!==this.executionRatio&&this.executionRatio>=Math.random()},enumerable:!1,configurable:!0}),t.prototype.logEvent=function(t){var e=t.eventCategory,n=t.eventName,o=t.eventTime,r=void 0===o?"".concat(Date.now()):o,i=t.eventProperties,a=void 0===i?{}:i,u={eventSource:this._eventSource,eventTime:r,eventCategory:e,eventName:n,eventProperties:a};this.enqueueEvent(u,r)},t.prototype.enqueueEvent=function(t,e){try{this._recordQueue.push({Data:window.btoa(JSON.stringify(t)),PartitionKey:e})}catch(t){E.warn("Error enqueuing new event.",t)}},t.prototype.createRecordQueueInterval=function(){var t=this;this._queueInterval<=0||(void 0!==this._queueIntervalID&&clearInterval(this._queueIntervalID),this._queueIntervalID=setInterva}}),this._queueInterval))},t.prototype.sendRecords=function(){var t=this;if(0!==this._recordQueue.length)if(0!==this.executionRatio){var e=this._recordQueue.filtee}));this._recordQueue.length=0;for(var n=function(e){return u(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(this._serviceUrl),{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this._serviceAPIKey},body:JSON.stringify({Records:e})})];case 1:return[2,t.sent()]}}))}))},o=0;o<e.length;o+=this.BATCH_SIZE)n(e.slice(o,o+this.BATCH_SIZE))}else this._recordQueue.length>=this._queueLimit&&(this._recordQueue.length=0,this.logEvent({eventCategory:"error",eventName:"queue limit"}))},Object.defineProperty(t.prototype,"executionRatio",{get:function(){return this._executionRatio},set:function(t){this._executionRatio="number"!=typeof t||t<0?0:t>=0&&t<=1?t:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"queueInterval",{get:function(){return this._queueInterval},set:function(t){var e=this._queueInterval;this._queueInterval="number"==typeof t&&t>=0?t:0,e!==this._queueInterval&&this.createRecordQueueInterval()},enumerable:!1,configurable:!0}),t}(),S={key:"_config/requestViewer/countryCode",default:"unknown"},x=new(function(){function t(){var t=this;this.STACK_MAX_LENGTH=500,this.everyStream=function(e){return function(n){return t.streams.forEach((function(t){Array.isArray(e)&&!e.includes(t.SERVICE_NAME)||n(t)}))}},this._tahoeStream=new C,this._aaxPixelController=new b}return Object.defineProperty(t.prototype,"streams",{g]},enumerable:!1,configurable:!0}),t.prototype.logCoreError=function(t){this.logError(t,{tahoe:{dataSetId:"core"}})},t.prototype.logCoreFeature=function(t){this.logFeature(t,{tahoe:{dataSetId:"core"}})},t.prototype.logError=function(t,e){var n,o,r,a,u;void 0!==t&&(this._tahoeStream.logEvent({eventCategory:null!==(o=null===(n=null==e?void 0:e.tahoe)||void 0===n?void 0:n.dataSetId)&&void 0!==o?o:"error",eventName:null!==(r=t.id)&&void 0!==r?r:"unknown",eventProperties:i(i(i({},t.props),this.getSharedEventProperties(t.account)),{error:{name:this.getErrorName(t.error),message:this.getErrorMessage(t.error),stack:this.getStackTraceMessage(t.error),context:this.getErrorContext(t.error)}})}),this._aaxPixelController.logError({error:t.error,errorCategory:t.id,accountID:null!==(u=null===(a=t.account)||void 0===a?void 0:a.id)&&void 0!==u?u:"unknown"}))},t.prototype.logFeature=function(t,e){var n,o,r,a,u;void 0!==t&&(this._tahoeStream.logEvent({eventCategory:null!==(o=null===(n=null==e?void 0:e.tahoe)||void 0===n?void 0:n.dataSetId)&&void 0!==o?o:"feat",eventName:null!==(r=t.id)&&void 0!==r?r:"unknown",eventProperties:i(i(i({},t.props),this.getSharedEventProperties(t.account)),{status:t.feature})}),this._aaxPixelController.logFeature({category:t.id,feature:t.feature,accountID:null!==(u=null===(a=t.account)||void 0===a?void 0:a.id)&&void 0!==u?u:"unknown"}))},t.prototype.getSharedEventProperties=function(t){return{accountID:this.safelyGetAccountID(t),libraryVersion:m,url:this.getLocationHref(),hostname:this.getLocationHostname(),viewerCountryCode:this.getViewerCountryCode(t)}},t.prototype.safelyGetAccounte},t.prototype.getLocationHref=function(){var t,e,n,o="";try{o=null!==(n=null===(e=null===(t=window.top)||void 0===t?void 0:t.location)||void 0===e?void 0:e.href)&&void 0!==n?n:""}catch(t){}return o},t.prototype.getLocationHostnao},t.prototype.getViewerCountryCoe},t.prototype.getStackTraceMessa}},t.prototype.getErrorName=function(t){var e="unknown";try{"string"==typeof t?e=t:void 0!==t.name&&(e=t.name)}catch(t){}return e},t.prototype.getErrorMessae},t.prototype.getErrorConten},t.prototype.setRatios=function(t){var e=[];return this.everyStream()((function(n){var o=n.executionRatio;e.puso})),n.executionRatio=t})}},t.prototype.setTahoeRatio=function(t){this._tahoeStream.executionRatio=t},t.prototype.setTahoeQueueIntervt},t}()),P=["scope/objectName",f,t}vart}(),A="_system"n}(}}var O="listeners",M="_internal/history",T="_config/events/activations",q="_config/events/deactivations",L="_internal/pageLoadID",k="_internal/externalEventCount",j="_internal/recentDispatches",U="_internal/coreDebugMode"t}()}}var H=[p.completed,p.error,p.cancelled],G=function(){function t(t,e){this.globalContext=t,this.rootName=e}return t.prototype.getDeactivatiot},t.prototype.isEventDeactivated=function(t,e){return!0===this.getDeactivations(t).has(e.type)||function(t,e){var n,o,r,i,a,u;try{var c=null===(r=null===(o=null===(n=t.detail)||void 0===n?void 0:n.restrictions)||void 0===o?void 0:o.allow)||void 0===r?void 0:r.hostnames;if(void 0!==c&&!F(c))return!0;var s=null===(u=null===(a=null===(i=t.detail)||void 0===i?void 0:i.restrictions)||void 0===a?void 0:a.block)||void 0===u?void 0:u.hostnames;if(void 0!==s&&F(s))return!0}catch(t){return x.logError({error:new Error("Host name filtering failed"),id:"hostnames",account:e}),!1}return!1}(e,t)},t.prototype.getListenep},t.prototype.getListen)},t.prototype.shouldWaitingEventBeProcess)},t.prototype.shouldEventBeProcess)},t.prototype.addTimeoutToPromiseRaceIfRequest)},t.prototype.incrementStoreItemCount)},t.prototype.resetStoreItemCou)},t.prototype.readStoreItemCou0},t.prototype.handleEventSucce)},t.prototype.handleEventFailu)},t.prototype.addListenerToPromiseRa)},t.prototype.runPromiseRa)},t.prototype.executeListenerRa)},t.prototype.recordErrorPassedAsEventDetailIfNoStat}},t.prototype.flagDeactivatedListen)},t.prototype.flagMissingListen)},t.prototype.surfaceErrorToExternalUse)},t.prototype.handleInvalidAccountErr)},t.prototype.isAccountVal)},t.prototype.dispatchEve)},t.prototype.dispatchAccou)},t.prototype.updateEventStat)},t.prototype.logEventUsa)},t.prototype.updateAndLogEventStatusOnChan)},t.prototype.getAccoune},t.prototype.recordProcessedEven)},t.prototype.cleanUpAccountQue)},t.prototype.archi)},t.prototype.filterExternalEven)},t.prototype.getNumberOfExternalEven0},t.prototype.updateExternalEventCou)},t.prototype.throwOnInfiniteLo)},t.prototype.dispat}},t}()t}()t}()r})},K={globalContext:window,rootName:"_aps"}t}(),Y=new Map([["_config/events/activate",function(t){var e=t.customEvent,n=t.account;return u(void 0,void 0,void 0,(function(){var t;return c(this,(function(r){return(t=null!=n.store.get(T)?n.store.get(T):new Set).add(e.detail.name),n.store.set(T,t),[2,o.completed]}))}))}],["_config/events/deactivat)}]]);var Z,$,tt,et={debug_events_show:"debug/events/show",debug_prepend_add:"debug/prepend/add",debug_prepend_clear:"debug/prepend/clear",debug_prepend_remove:"debug/prepend/remove",debug_store_show:"debug/store/show",ad_debugSession_start:"ad/debugSession/start",debug_listeners_show:"debug/listeners/show"},nt=new Map([[et.debug_events_sh}))}],[et.debug_prepend}))}],[et.debug_prepend_c}))}],[et.debug_prepend_re}))}],[et.debug_store_))}))}],[et.ad_debugSession))}))}],[et.debug_listener]}))}))}]]),ot=new Map([["ad/record}}))}))}],["ad/recor}}))}))}],["ad/re]}))}))}],["ad/record}}))}))}]]),rt=new Map([["_config/config/]}))}))}],["_config/requestViewerCountry]}))}))}]]);!function(t){t.OpenRTB3_0="OpenRTB3_0"}(Z||(Z={})),function(t){t.Display="display",t.Video="video",t.MultiFormat="multi-format"}($|S="sas"}(tt||(tt={})t(t}))etu))}:voeo)Disay)!1),!1d}))),e},gt="ad/targeting",mt="ad/schain",yt="ad/context",wt="ad/googletagSlotAutoImport",bt=new t),n},t}],[mt,function(){}],[yt,function(){}],[wt,function(){}]]),_t={key:"ad/slots",default:new Map},Et={key:"ad/attachTargeting",default:void 0},Ct={key:"cxm/isConfigLoadInitiated",def}))}))}var se())}}},At="ad/ASRSlot/render",Rt=new ]}))}))}]]);!function(t){t.equinoxWidget="amazon:93b7dd52-a8ce-11ed-afa1-0242ac120002"}(Pt||(Pt={})),function(t){t.equinoxWidget="aax-us-east.amazon-adsystem.com"}(It||))}var kt,jt={ad_schain_define:"ad/schain/define",ad_slot_define:"ad/slot/define",ad_slot_import:"ad/slot/import",ad_slot_render:"ad/slot/render",ad_targeting_fetch:"ad/targeting/fetch",ad_targeting_attach:"ad/targeting/attach",ad_signals_define:"ad/signals/define",cxm_config_load:"cxm/config/load"},Ut=new Map([[jt.ad_slo]}))}))}],[jt.ad_targeti}}))}))}],[jt.ad_targetin]}))}))}],[jt.ad_slo)}))}))}],[jt.ad_schai]}))}))}],[jt.ad_signal]}))}))}],[jt.ad_slo}}))}))}],[jt.cxm_config_load,function(t){var e=t.account;return t.customEvent,u(void 0,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return void 0===e.globalContext.apstag?[2,o.waiting]:(t=e.id,36===e.id.length&&(t="600",n=e.id),[4,new Promise((function(o,r){if(void 0===e.globalContext.apstag)throw new Error("apstag._load3PLibraryConfig is undefined");e.globalContext.apstag._load3PLibraryConfig(e.id,{sourceID:t,publisherUUID:n},o,r)}))]);case 1:return r.sent(),[2,o.completed]}}))120002"}(kt||(kt={}));var zt=new Map([["ad/container/didIni}}))}))}]]);var Ft={widget_toolbox_end:"widget/toolbox/end",widget_toolbox_open:"widget/toolbox/open",widget_toolbox_start:"widget/toolbox/start"},Bt=new Map([[Ft.widget_too]}))}))}],[Ft.widget_tool]}))}))}],[Ft.widget_toolb]}))}))}]]),Ht="consent/GPPData",Gt="consent/isGPPListenerRegistered",Qt={key:"consent/isTCFAPIListenerRegistered",default:!1},Vt={key:"consent/TCData",default:void 0},Jt={consent_gppapi_attemptSync:"consent/gppapi/attemptSync",consent_gppapi_didChange:"consent/gppapi/didChange",consent_gppapi_syncData:"consent/gppapi/syncData",consent_tcfapi_attemptSync:"consent/tcfapi/attemptSync",consent_tcfapi_didChange:"consent/tcfapi/didChange"},Wt=new Map([[Jt.consent_gppapi_att}}))}))}],[Jt.consent_gppapi_d}}))}))}],[Jt.consent_gppapi_]}))}))}],[Jt.consent_tcfapi_att)}))}))}],[Jt.consent_tcfapi_d]}))}))}]]),Kt=new Map([["log/library/didUseFeature",function(t){var e=t.account,n=t.customEvent;return u(void 0,void 0,void 0,(function(){var t,r,a;return c(this,(function(u){if(void 0===(null===(a=n.detail)||void 0===a?void 0:a.log))throw new Error("Missing log object");return t=n.detail.log,r=i({},t),"object"==typeof t.analytics&&(r.eventProperties=t.analytics),x.logFeature({id:r.category,feature:r.feature,props:r.eventProperties,account:e}),n.isLogDisabled=!0,[2,o.completed]}))}))}],["log/library/didError",function(t){var e=t.account,n=t.customEvent;return u(void 0,void 0,void 0,(function(){var t;return c(this,(function(r){if(void 0===(null===(t=n.detail)||void 0===t?void 0:t.log))throw new Error("Missing log object");return x.logError({id:n.detail.log.errorCategory,error:n.detail.log.error,account:e}),n.isLogDisabled=!0,[2,o.completed]}))}))}],["log/analytics/setSampling",function(t){t.account;var e=t.customEvent;return u(void 0,void 0,void 0,(function(){var t;return c(this,(function(n){if("number"!=typeof(null===(t=e.detail)||void 0===t?void 0:t.ratio))throw new Error("Invalid 'ratio' param passed");return x.setTahoeRatio(e.detail.ratio),[2,o.completed]}))}))}],["log/analytics/setI]}))}))}]]),Xt=new Map([["apstag/configuratio}})}}))}))}var Zt={google_secureSignals_set:"google/secureSignals/set",google_secureSignals_initialize:"google/secureSignals/initialize"},$t=new Map([[Zt.google_secureSig]}))}))}],[Zt.google_secureSignals_in}}))}))}]]),te={key:"customPlacement/configuration",default:void 0},ee={key:"customPlacement/contextURL",default:void 0},ne={key:"customPlacement/configurationEndpoint",default:"https://aax.amazon-adsystem.com/e/plac))}))}var ae={key:"customPlacement/defaultLocationHints",default:new Set},ue={key:"customPlacement/secondaryLocationHints",default:new Set},ce={key:"customPlacement/requestedGAMSlots",default:}}))}))}var le={customPlacement_configuration_fetch:"customPlacement/configuration/fetch",customPlacement_placement_enable:"customPlacement/placement/enable",customPlacement_hint_define:"customPlacement/hint/define",customPlacement_targeting_attach:"customPlacement/targeting/attach",customPlacement_bids_fetch:"customPlacement/bids/fetch"},de=new Map([[le.customPlacement_configurati}}))}))}],[le.customPlacement_placemen}}))}))}],[le.customPlacement_hin]}))}))}],[le.customPlacement_targetin]}))}))}],[le.customPlacement_bi}}))}))}]]),ve={key:"_monitoring/statusesByEventIdentifier",default:new]})]}))}))},he=new Map([["_monitor/testing/only",pe],["_update/testing/only",fe],["_legacy/bidRequest/monitor",pe],["_legacy/bidRequest/didComplete",fe]]);try{var ge=new Map(d(d(d(d(d(d(d(d(d(d(d(d(d(d([],l(Xt),!1),l(Wt),!1),l(Bt),!1),l(zt),!1),l(nt),!1),l(Ut),!1),l(Rt),!1),l(ot),!1),l(rt),!1),l(Y),!1),l(Kt),!1),l($t),!1),l(de),!1),l(he),!1));(new X).load({listeners:ge})}catch(t){x.logCoreError({id:"publisher",account:null,error:t}),B()&&E.error(t)}}();
/*! @amzn/apswebapstaglibrary - apstag-legacy_eu - 23.1202nrn y}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return b})),n.d(e,"a",(function(){return p}));e=n(0);var r=n(3),o=n(2),i=n(7),a=n(9),c=n(8),s=n(16),u=Object(e.l)(10),l=[];function d(t,e,n){try{(null!=n&&n.makeVisibleToAllUsers||Object(i.d)("errors"))&&console.error(t);var d={ts:Date.now(),url:encodeURIComponent(Object(a.g)(window)),r:encodeURIComponent(Object(a.h)(window)),_type:"apsLibraryError",e:{et:t.name,el:e,msg:t.message}},f=(l.push(d),o.a.dispatch({type:"LOG_ERROR",error:d}),Object(s.unsafelyGuessAccountID)(null==n?void 0:n.accountId));return Object(c.a)(f).record("log/library/didError",{source:"apstag",log:{accountID:f,error:t,errorCategory:e,eventProperties:{}}}).catch((function(){})),!!u&&(Object(r.b)(d),!0)}catch(t){console.error(t)}rn(t)}!0===Object(i.c)("exposeErrors")&&(window.apstagEr"),""}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return P})),n.d(e,"h",(function(){return A})),n.d(e,"d",(function(){return R})),n.d(e,"g",(function(){return C})),n.d(e,"c",(function(){return x})),n.d(e,"f",(function(){return z})),n.d(e,"e",(function(){return L}));var r=n(2),o=n(7),i=n(4),a=n(0),c=n(10),s=n(1),u=n(9),l=n(13),d=n(6),f=n(20),b=n(3),p=n(12),y=n(15),g=n(25),m=n(16),h=n(8);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeod.")}()}function j(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}d.")}()}function T(t,e){var n;if(t)return"string"==typeof t?_(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function D(t,e,n){(e=I(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function I(t){return t=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==O(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===O(t)?t:String(t)}var k=fuling")}}var e,n;return e=t,(n=[{key:"reportError",value:function(t,e,n){Object(s.b)(t,"Bid-".concat(e),n)}},{key:"mediaTa.VIDEO}},{key:"targetg"),""}}},{key:"bidObject",get:function(){try{var t={slotID:this.bidConfig.slotID,amzniid:this.bidConfig.amzniid,amznbid:this.bidConfig.amznbid,amznp:this.bidConfig.amznp,amznsz:this.bidConfig.amznsz,size:this.bidConfig.amznsz};return Object(a.k)(this.bidConfig,"amznadm")&&(t.amznadm=this.bidConfig.amznadm),this.bidConfig.amznactt&&(t.amznactt=this.bidConfig.amznactt),this.mediaType===d.a.VIDEO&&(t.mediaType=d.a.VIDEO,t.qsParams=this.targeting,t.encodedQsParams=encodeURIComponent(this.targeting),t.r_amznbid=this.bidConfig.r_amznbid,t.r_amzniid=this.bidConfig.r_amzniid,t.r_amznp=this.bidConfig.r_amznp),this.useSafeFrames&&(t.amznhost=this.host),t}catch(t){return this.reportError(t,"bidObject",{makeVisibleToAllUsers:!0}),{slotID:"",amzniid:"error",amznbid:"error",amznp:"error",amznsz:"error",size:"error"}}}},{key:"newBidObjn""}}}}}},{key:"sloD"),""}}},{key:"matchesBidCacheId"),!1}}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),P=Object(a0}),!1}}function R(t,e,n,l,p){try{var O,j,w,T,_=null!=(O=null==p||null==(j=p.initConfig)?void 0:j.pubID)?O:null==(w=r.a.getState().config)?void 0:w.pubID,E=r.a.getState(),D=t._endpointDomain||Object(o.c)("host",E.hosts.DEFAULT_AAX_BID_HOST),I=E.cfg.DTB_PATH,k="bid",R=(E.experiments.shouldUseTestBidEndpoint&&null!==E.cfg.TEST_BID_ENDPOINT&&(k=E.cfg.TEST_BID_ENDPOINT),{src:Object(m._getInitConfig)({overrides:null==p?void 0:p.initConfig}).pubID,u:null!=p&&p.contextURL?encodeURIComponent(p.contextURL):Object(u.g)(window),pr:Object(u.h)(window),pid:P,cb:t.bidReqID,ws:Object(a.g)(window),v:i.l,t0}),""}}(t.validSlots),pj:function(t,e){try{var n=Object(a.j)(t.config.params)?t.config.params:{},r=Object(a.j)(e.params)?e.params:{},o=S(S({},n),r);return 0===Object.keys(o).length?"":Object(c.c)(o)}catch(t){return Object(s.b)(t,"getBidParams",{makeVisibleToAllUsers:!0}),""}}(E,t),sg:Object(g.b)(_),cfgv:Object(u.f)(),bb:Object(u.e)(t0}),""}}(E,_)});try{var C=Object(h.a)(_).read("consent/GPPData")||{},x=C.gppString,z=C.applicableSections,L=0<(x||"").length,q=0<(z||[]).length;L&&(R.gpp=encodeURIComponent(x)),q&&(R.gpp_sid=encodeURIComponent(JSON.stringify(z)));var U,B=(F={isGPPPresent:L,isSectionPresent:q}).isGPPPresent,F=F.isSectionPresent;U=B&&F?"all":B?"gpp":F?"section":"none",Object(b.c)("gpp",U)}catch(t){Object(s.b)(t,"gpp")}if("[]"===R.slots||""===R.slots)throw new Error("No slots available for bid request");r.a.dispatch({type:"RECORD_AAX_REQUEST",data:{bidConfig:t,bidReqID:t.bidReqID,timeout:e,ws:R.ws,url:R.u,rqTs:Date.now()}}),E.experiments.chunkRequests&&(T=t.bidReqID.split("-"),r.a.dispatch({type:"RECORD_NETWORK_EXCHANGE",fid:T[0],networkID:parseInt(T[1],10),timestamp:Date.now(),exchangeType:"request"})),Object(m._getInitConfig)({overrides:null==p?void 0:p.initConfig}).isSelfServePub&&(R.pubid=R.src,R.src=600);var M=Object(u.d)(),N=Object(o.c)("bidParams"),V=(Object(a.j)(N)&&(R=S(S({},R),N)),Object(a.j)(n)&&(Object(a.k)(n,"enabled")&&(R.gdpre=encodeURIComponent(n.enabled)),Object(a.k)(n,"consent")&&(R.gdprc=encodeURIComponent(n.consent)),Object(a.k)(n,"log"))&&(R.gdprl=Object(c.c)(n.log)),Object(a.k)(Object(m._getInitConfig)({overrides:null==p?void 0:p.initConfig}),"useSafeFrames")&&Object(m._getInitConfig)({overrides:null==p?void 0:p.initConfig}).useSafeFrames&&(R.sf="1"),Object(y.b)()),H=(V&&(Object(b.c)("id","bidReq-attachToken"),l.ids.at=V),R.vm=l&&0!==Object.keys(l.ids).length?Object(c.c)({ids:l.ids,md:l.md}):"",Object.keys(R)!==R[t]})).map((function(t){return"".concat(t,"=").concat(R[t])})).join("&")),G=(M.cookiesParams&&(H+=M.cookiesParams),"".concat(i.t).concat(D).concat(I,"/").concat(k,"?").concat(H));return r.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:t.bidReqID,key:"urlLength",value:G.length}),G}catch(t){return Object(s.b)(t,"buildBidUrl",{makeVisibleToAllUsers:e()}}},function(i,t,e){"use strict";e.r(t),e.d(t,"unsafelyGuessAccountID",(function(){return ce})),e.d(t,"_getInitConfig",(function(){return se}));var Ct=e(17),Rt=e(2),zt=e(9),xt=e(0),Lt=e(13),Ut=e(7),Bt=e(4),Nt=e(14),Mt=e(29),Vt=e(22),Ft=e(3),qt=e(1),Ht=e(10),ue=e(26),n=e(31),Gt=e(30),Qt=e(11),a=e(18),Xt=e(6),Jt=e(12),Kt=e(21),$t=e(15),le=e(36),de=e(39),Yt=e(32),fe=e(37),Wt=e(28),be=e(40),pe=e(23),Zt=e(8),te=e(5),ee=e(33),ge=e(25),ye=e(24),hod.")}function s(t,e){var n;if(t)return"string"==typeof t?r(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,en r(t)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ie(t,e,n){(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}lue.")}var aeig),t)}try{var b=Object(n.b)(window.apstag);b?Object(qt.b)(new Error("apstag has already loaded - preventing duplicate load"),"apstag-duplicateLoad"):(Object(n.a)(window)&&Object(qt.b)(new Error("apstag was loaded and then destroyed"),"apstag-destroyReload",{makeVisibleToAllUsers:!0}),window.apstagLOADED=!0,function(){var m=Object(Nt.e)(window,"navigationStart"),a=(Object(xt.l)(1)&&Object(qt.b)(new Error("apstag-".concat(Bt.l," reference pixel - Used to compute ratios for other errors")),"REFERENCE"),new pe.a({stateContainer:Rt.a,globalContext:window})),t=(a.attemptConsentDataSync(),"ls"),L=Object(Ut.d)("console")||function(){try{return-1!==window.location.href.indexOf("amzn_debug_console=1")&&(t="url",!0)}catch(t){return!1}}(),U=Object(Ut.d)("consotufunction r(t){try{t.forEach((function(t){if("function"==typeof t)t();else{var e="init";switch(t[0]){case"i":e="init";break;case"f":e="fetchBids";break;case"di":e="deleteId";break;case"ri":e="renewId";break;case"ui":e="updateId";break;default:return}window.apstag[e].apply(null,t[1])}}))}catch(t){Object(qt.b)(t,"_QHandler",{makeVisibleToAllUsetState().config;Object(xt.k)(n,"pubID")&&x(oe(oe({},n),t),e)}function kt(t,e){var n=t.pubID;try{Object(Zt.a)(n).record("_legacy/init/willExecute").catch((function(){})),Object(Zt.a)(n).record("log/analytics/setSampling",{ratio:.001}).catch((function(){}));var r=ae=t.adServer?Object(Gt.a)(t.adServer):ae;t.disableConfigCall||Object(Zt.a)(t.pubID).record("apstag/configuration/fetch").catch((function(){})),x(t),ht(r),Object(ge.c)(),Object(me.a)(),Object(Kt.c)(n)}catch(t){Object(qt.b)(t,"_init")}"function"==typeo}),{}}}try{Object(xt.k)(window,"apstag")&&Object(xt.k)(window.apstag,"_Q")&&0<window.apstag._Q.length?Rt.a.dispatch({type:"SET_Q",Q:window.apstag._Q}):Object(xt.k)(window,"apstag")&&Object(xt.k)(window.apstag,"queue")&&Object(xt.i)(window.apstag.queue)&&0<window.apstag.queue.length&&Rt.a.dispatch({type:"SET_Q",Q:window.apstag.queue})}catch(t){Object(qt.b)(t,"apstag-storeQ",{makeVisibleToAllUsers:!0})}window.apstag=function(){var e={punt:z,init:kt,setConfig:It,debug:Ut.a,_getSlotIdToNameMapping:At,targetingKeys:Pt,fetchBids:wt,setDisplayBids:Et,renderImp:jt,bids:z,deleteId:$t.a,updateId:$t.e,renewId:$t.d,dpa:$t.a,upa:$t.e,rpa:$t.d,thirdPartyData:{},isGDPRRegion:!0,rr:de.a,re:qt.b,queue:{push:Dt},_load3PLibraryConfig:Kt.c};return Object.keys(e).[t],t))})),U?Object(Ut.b)(!0,t):L&&Object(Ut.b)(!1,t),!0===Object(Ut.c)("exposeApi")&&(e._api={_getBidSetInfo:T,_applyTargetingToGPTSlot:f,dispatch:Rt.a.dispatch,_clearTargetingFromGPTSlot:i,_clearBidSetOnSlot:l,_getCurrentSlotBids:d,_creativeURL:_,getSlotFetchCounts:n,buildBidUrl:Qt.d}),e}(),function(){try{var t,e=(Rt.a.dispatch({type:"SHOULD_SAMPLE_FEATURES",value:Object(xt.l)(Rt.a.getState().cfg.FEATURE_SAMPLING_RATE)}),Rt.a.dispatch({type:"SET_HOST",hostName:"DEFAULT_AAX_BID_HOST",hostValue:"aax.amazon-adsystem.com"}),Rt.a.dispatch({type:"SHOULD_SAMPLE_LATENCY",value:Object(xt.l)(Rt.a.getState().cfg.LATENCY_SAMPLING_RATE)}),null!==Rt.a.getState().cfg.TEST_BID_ENDPOINT&&(t=Object(xt.l)(Rt.a.getState().cfg.TEST_PATH_FREQUENCY),Rt.a.dispatch({type:"SHOULD_USE_TEST_BID_ENDPOINT",value:t}),t)&&null!==Rt.a.getState().cfg.TEST_PATH_LATENCY_SAMPLE_RATE&&Rt.a.dispatch({type:"SHOULD_SAMPLE_LATENCY",value:Object(xt.l)(Rt.a.getState().cfg.TEST_PATH_LATENCY_SAMPLE_RATE)}),Rt.a.dispatch({type:"SHOULD_SAMPLE_SLOT_RENDER",value:Object(xt.l)(Rt.a.getState().cfg.SLOT_RENDER_SAMPLING_RATE)}),Rt.a.getState());(e.experiments.shouldSampleLatency||e.displayAdServer.shouldSampleRender)&&S(),e.displayAdServer.shouldSampleRender&&dt(),e.experiments.shouldSampleLatency&&w(ae)}catch(t){Object(qt.b)(t,"apstag-sampleLatency")}try{r(Rt.a.getState().Q)}catch(t){Object(qt.b)(t,"apstag-doLast")}if(!Object(zt.k)(window,!0))t-js__")};Object(Ht.d)({url:Rt.a.getState().cfg.CSM_RTB_COMMUNICATOR_JeXML}))},onerror:n,ontimeout:n})}catch(t){Object(qt.b)(t,"__load-csm-rtb-comm-js__")}Object(Ut.e)()}()}(),Object(Zt.a)("_system").record("apstag/library/didLoad",{source:"bundle"}).catch((function(){})))}catch(t){Object(qt.b)(t,"apat(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return _}));var r=n(1),o=n(10),i=n(0),a=n(8),c=n(9),s=n(26),u=n(2),l=n(4),d=n(7),f=["user"];function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeon")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.:!1}),t}function j(t,e,n){(e=S(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function S(t){return t=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==b(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===b(t)?t:String(t)}function w(t){try{var e=Object(a.a)(t).read("ad/context");return Object(i.j)(e)?{ortb2:e}:{}}catch(t){return Object(r.b)(t,"getSignals"),{}}}function T(t){try{var e=w(t);return 0===Object.keys(e).length?"":Object(o.c)(e)}catch(t){return Object(r.b)(t,"getSignalsParams"),""}}function _(){L.get().log(I,"init");var t=window.apscustom||[];if(window.apscustom={push:A,loaded:!0},Array.isArray(t))for(;t.length;)A(t.shift());window.apstag.customPlacements=x}e=fuustom")}return v(t,[{key:"init",value:function(t){var e,n,r,o=this;t&&t.id&&(n=document.getElementById(t.id))&&(t._element=n,e=Object.assign({},n.dataset),n.setAttribute("data-aps-custom-status","read"),n=e.apsCustomProgram||this.programKey,Object.keys(e)udes(t)})).te e[t]})),r={slotID:t.id,slotName:e.apsCustomSlotname||t.id,sizes:[[999,999]]},this.fetchBidsAndRender(r,t,m({program:n},e)))}},{key:"fetchBidsAndRender",value:function(t,e,n){var r=this;(t={slots:[t],params:n}).timeout=null!=(n=e.timeout)?n:6e4,t._endpointDomain="aax-us-east.amazon-adsystem.com",window.apstag.fetchBids(t,(function(t){return r.renderBids(t,e)}))}},{key:"renderBids",value:function(t,e){t.forEach((function(t){var n,r=document.createElement("iframe"),o=t.size.split("x"),i=(null==(i=t.targeting)?void 0:i.amzniid)||t.amzniid;i&&e&&(r.style.marginLeft="0",r.style.marginTop="0",r.style.height="".concat(o[1],"px"),r.style.width="100%",r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),o=e._element,e.location&&(n=document.createElement("div"),null!=(t=document.getElementById(t.slotID))&&t.insertAdjacentElement(e.location,n),o=n),null!=(t=o)&&t.appendChild(r),o=null==r||null==(n=r.contentWindow)?void 0:n.document)&&(o.open(),o.write('<!DOCTYPE html><html><head><meta charset="UTF-8"><style>html{height:100%}body{height:100%;margin:0;overflow:hidden}</style></head><body><script>window.parent.apstag.renderImp(document, "'+i+'", {"inheritSize": true});<\/script></body></html>'),o.close(),null!=(t=e._element))&&t.setAttribute("data-aps-custom-status","rendered")}))}}]),t}();var E=Object(d.c)("KLS_ENDPOINT","https://c.aps.amazon-adsystem.com/e/placements"),D=Object(d.c)("ASR_ENDPOINT_HOST","c.aps.amazon-adsystem.com"),I="customPlacements",k=Object(d.c)("ASR_ENDPOINT_IS","86355855cc6ed9e335d0382c8563aa10")init(t)}var R,C=v((function t(){var e=this;h(this,t),j(this,"listeners",void 0),j(this,"hints",void 0),j(this,"requestedSlots",void 0),j(this,"bidResponses",void 0),j(this,"GAM",void 0),j(this,"klsResponse",void 0),j(this,"klsResponseProcessing",void 0),j(this,"gamRequestTime",null),j(this,"timings",L.get().timings),j(this,"hint",(function(t,n){e.hints[t]={default:"default"===n,isRendered:!1},e._processHints(t)})),j(this,"_kls",(function(t){var e=w(t),n=("ortb2"in e&&((n=e.ortb2eturn r}(n,f),e.ortb2=n),Object(c.g)(window));return fetch("".concat(E,"?account=").concat(t,"&u=").concat(n,"&sg=").concat(Object(o.c)(e).json()}))})),j(this,"_fetchBids",(function(){return new Promise((function(t){L.get().log(I,"fetchBids/start"),window.apstag.fetchBids({slots:[{slotID:"93b7dd52-a8ce-11ed-afa1-0242ac120002:1",sizes:[[999,999]]}],timeout:6e4,_endpointDomain:D,params:{program:"apscustom",is:k}},(function(e){L.get().log(I,"fetchBids/end"),t(e)}))}))})),j(this,"setKLSTargeting",(function(){return new Promise((function(t){var n,o,a,c;!e.klsResponseProcessing&&(e.klsResponseProcessing=!0,n=e.klsResponse)?(n=(null==(n=n.google)?void 0:n.length)||0,o=Object(i.k)(window,"googletag"),a=(null==(c=e.klsResponse)?void 0:c.google.find((function(t){return!t.targetingUpdated||!1})))||null,c=(null==(c=e.klsResponse)?void 0:c.googyed||!1})))||null,o&&0!==n?0<n&&null!==c?t(!1):0<n&&null===a?t(!0):e.GAM.cmdQueuePush((function(){var n,o={};e.GAM.getSlots().otID]=t})),null!=(n=e.klsResponse)&&n.google.forEach((function(t){var n=o[t.div];n&&(Object(i.k)(e.requestedSlots,t.div)?(t.targetingDelayed=!0,t.targetingUpdated=!1,L.get().log(I,"gam/".concat(t.div,"/delayed"),1),Object(r.b)(new Error("KLS response latency"),"CustomPlacements")):(Object.keys(t.targeting).ing[e])})),t.targetingUpdated=!0,L.get().log(I,"gam/".concat(t.div,"/updated"))))})),t(null===a)})):t(!0)):t(!1)}ng=!1,t}))})),j(this,"enable",(function(){L.get().log(I,"enable");var t=u.a.getState();return e.GAM.cmdQueuePush((function(){window.googletag.pubads().addEventListener("slotRequested",(function(t){t=t.slot,e.requestedSlots[t.getSlotElementId()]=!0,null===e.gamRequestTime&&(e.gamRequestTime=Date.now(),L.get().log(I,"gam/slotRequested"))}))})),e._kls(t.config.pubID).then((function(t){e.dispatchEvent(new window.CustomEvent("PlacementResponse",{detail:t})),(e.klsResponse=t).a.active}))?e.setKLSTargeting().then((function(){return e._processHints("PlacementResponseActive")})):(L.get().log(I,"url/inactive",.01),e._processHints("PlacementResponseInActive"))})),e._fetchBids().then((function(t){t.forEach((function(t){var n=(null==(n=t.targeting)?void 0:n.amzniid)||t.amzniid;n&&(e.bidResponses[n]=t)}))}hBids")}))})),j(this,"dispatchEvent",(function(t){L.get().log(I,"event/".concat(t.type)),t.type in e.listeners&&e.listeners[t.type].e){e(t)}))})),j(this,"addEventLipush(n)})),j(this,"_processHints",(function(){function t(t){e.hints[t].isRendered||(L.get().log(I,"processHint/".concat(n,"/").concat(t)),Object.values(e.bidResponses).forEach((function(n){var o;n.isRendered||((o=document.getElementById(t))?new z({id:t,_element:o},n).render()&&(n.isRendered=!0,e.hints[t].isRendered=!0):Object(r.b)(new Error("Hint Element not Found by id"),"CustomPlacements"))})))}var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default";return e.setKLSTargeting().then((function(r){r?(Object.keys(e.hints)default})).forEach(t),Object.keys(e.hints)default})).forEach(t)):L.get().log(I,"hint/".concat(n,"/renderNotAllowedYet"))}))})),this.listeners={},this.hints={},this.requestedSlots={},this.GAM=new s.a,this.bidResponses={},this.klsResponseProcessi||new)}}]),t}(),L=function(){function t(){var e=this,n=(h(this,t),j(this,"TAHOE_PROD","04a6c6a40ec6c493437745b4ff085efb826e05c276ad857733462915bc4c35e0"),j(this,"TAHOE_PROD_URL","https://prod.tahoe-analytics.publishers.advertising.a2z.com/logevent/postEquinoxEvent"),j(this,"level",Object(d.c)("APS_ANALYTICS_LEVEL","TAHOE")),j(this,"config",void 0),j(this,"timings",void 0),j(this,"log",void 0),j(this,"selevel=t})),j(this,"traments)}}()),u.a.getState());this.config=n.config,this.timings=[],this.log=function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;try{e.timings.push({time:performance.now(),key:"".concat(t,"/").concat(n)}),r&&e.trackEvent(t,n,{},r)}catch(t){}}}return v(t,[{key:"getBrowserInfturn{}}}}],[{key:"gealytics}}]),t}();j(L,"_analytics",null),j(L,"getDefaultSamplitura}(e.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var r=n(9),o=n(10),i=n(2),a=n(7),c=n(25),s=n(0),u=n(3),l=["user"];function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function g(t,e,n){(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function m(t){return t=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==d(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===d(t)?t:String(t)}function h(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"loading"===document.readyState?document.addEventListener("DOMContentid 0,n)})):t.apply(void 0,n)}}var O,v=function(){function t(){var e=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");g(this,"nativeContentConfig",void 0),g(this,"fetchBids",(function(t){return e.enable(t)})),g(this,"enable",(function(t){e.nativeContentConfig=t;t=Object(a.c)("APS_GETADS_ENDPOINT","https://c.aps.amazon-adsystem.com/e/dtb/custombid");var n=(u=i.a.getState().config||{}).pubID,u=u.isSelfServePub,d={ortb2:{}},b=("ortb2"in(y=Object(c.a)(n))&&((y=y.ortb2).user,y=function(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}(y,l),d.ortb2=y),d.ortb2=p(p({},d.ortb2||{}),{},{site:p(p({},(null==(y=d.ortb2)?void 0:y.site)||{}),{},{ext:p(p({},(null==(y=d.ortb2)||null==(y=y.site)?void 0:y.ext)||{}),e.nativeContentConfig)})}),{src:n,pubid:n,u:Object(r.g)(window),sg:Object(o.c)(d),pj:Object(o.c)({is:Object(a.c)("APS_GETADS_IS_KEY","082f8778403939df819c59b1e735a614")})}),y=(u&&(b.src="600"),Object(a.c)("bidParams"));Object(s.j)(y)&&(b=p(p({},b),y)),n=Object.keys(b)!==b[t]t(b[t])})).join("&");return fetch("".concat(t,"?").concat(n)).then((function(t){return t.json()})).then((function(t){if(t&&t.slotBids)thod.")}(t.slotBids);try{for(r.s();!(n=r.n()).done;){var o=n.value;switch(o.mode){case"r":h(e._renderReplace)(o);break;case"p":h(e._renderPlacement)(o)}}}catch(t){r.e(t)}finally{r.f()}}}))})),this.nativeContentConfig={}}var e,n;return e=t,(n=[{key:"_renderReplace",value:function(t){for(var e=0,n=Array.from(document.querySelectorAll("[data-asin=".concat(t.asin,"]")));e<n.length;e++){var r=n[e];if(!t.clickUrl)return;Object(u.f)(t.impUrl),r.href=function(t){var e,n=new RegExp(/(.*\/x\/c\/[a-zA-Z0-9_-]*\/)(.*)(https.*)/);try{if(n.test(t))return(e=n.exec(t))&&3<=e.length&&e[2].startsWith("{")&&e[2].endsWith("}")?"".concat(e[1]).concat(encodeURI(e[2])).concat(e[3]):t}catch(t){}return t}(t.clickUrl),r.setAttribute("data-aps-status","success")}}},{key:"_renderPlacement",value:function(t){var e,n=document.querySelector(t.selector);null!==n&&((e=document.createElement("div")).innerHTML=t.html.trim(),n.appendChild(e))}}])&&y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(){return O=ns=n(16)}]);


(function(){(function(){if(-1===document.cookie.indexOf("geoCC=GB"))return!1;window.zdconsent=window.zdconsent||{cmd:[]};window.zdconsent.cmd.push(function(){window._qevents=window._qevents||[];var a=document.createElement("script");a.src="https://secure.quantserve.com/quant.js";a.async=!0;a.type="text/javascript";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);window._qevents.push({qacct:"p-vMsjt4h0th2L5",uid:"stephen_li@ziffdavis.com"})})})()})();

