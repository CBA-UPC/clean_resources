(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8132],{51689:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},77864:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},56001:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DevicePlaybackState=e.DevicePowerState=e.ConsoleType=void 0,e.ConsoleType||(e.ConsoleType={})),function(t){t.Unknown="Unknown",t.ConnectedStandby="ConnectedStandby",t.On="On",t.Off="Off",t.SystemUpdate="SystemUpdate"}(e.DevicePowerState||(e.DevicePowerState={})),function(t){t.Unknown="Unknown",t.Playing="Playing",t.Paused="Paused",t.Stopped="Stopped"}(e.DevicePlaybackState||(e.DevicePlaybackState={}))},89084:50127:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorCode=void 0,e.ErrorCode||(e.ErrorCode={}))},3600:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransferState=e.InstallEventType=void 0,e.InstallEventType||(e.InstallEventType={})),e.TransferState||(e.TransferState={}))},1298:46341:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},22609:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},84607:82582:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},32569:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},95887:1051:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(22970);i.__exportStar(n(51689),e),i.__exportStar(n(77864),e),i.__exportStar(n(56001),e),i.__exportStar(n(89084),e),i.__exportStar(n(50127),e),i.__exportStar(n(46341),e),i.__exportStar(n(3600),e),i.__exportStar(n(1298),e),i.__exportStar(n(22609),e),i.__exportStar(n(84607),e),i.__exportStar(n(82582),e),i.__exportStar(n(32569),e),i.__exportStar(n(95887),e)},65241:16882:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapXccsDeviceWithAppsToDomain=e.mergeTileArtToGames=e.mapItemsResponseToGames=e.mapConsoleStateToDomain=e.mapXccsDeviceToDomain=void 0;const i=n(22970).__importDefault(n(76670)),r=n(1051),o=n(65866);e.mapXccsDeviceToDomain=(t,e=!1)=>{var n,i,o,s;const c=null!==(n=t.powerState)&&void 0!==n?n:r.DevicePowerState.Unknown,u=t.consoleType?r.ConsoleType[null!==(i=t.consoleType)&&void 0!==i?i:r.ConsoleType.Other]:void 0;return{id:t.id,name:null!==(o=t.name)&&void 0!==o?o:"Xbox",locale:null!==(s=t.locale)&&void 0!==s?s:"",consoleType:u,isPC:e,state:{powerState:r.DevicePowerState[c],playbackState:r.DevicePlaybackState.Unknown,digitalAssistantRemoteControlEnabled:t.digitalAssistantRemoteControlEnabled,remoteManagementEnabled:t.remoteManagementEnabled,consoleStreamingEnabled:t.consoleStreamingEnabled},storage:t.storageDevices,wirelessWarning:t.wirelessWarning,outOfHomeWarning:t.outOfHomeWarning}};e.mapConsoleStateToDomain=t=>{var e,n;const i=null!==(e=t.powerState)&&void 0!==e?e:r.DevicePowerState.Unknown,o=null!==(n=t.playbackState)&&void 0!==n?n:r.DevicePlaybackState.Unknown;return{powerState:r.DevicePowerState[i],playbackState:r.DevicePlaybackState[o],isTvConfigured:t.isTvConfigured,remoteManagementEnabled:t.remoteManagementEnabled,consoleStreamingEnabled:t.consoleStreamingEnabled,digitalAssistantRemoteControlEnabled:t.digitalAssistantRemoteControlEnabled,focusAppAumid:t.focusAppAumid}};e.mapItemsResponseToGames=t=>e=>{var n;const r=t=>(0,o.isGuid)(t.uniqueId)?`{${t.storageDeviceId}}#{${t.uniqueId}}`:`{${t.storageDeviceId}}#${t.uniqueId}`,s={},c=e.filter((t=>"Dlc"===t.contentType&&t.parentId&&t.parentId.length>0));for(const t of c){const e=t.parentId,i={name:t.name,instanceId:r(t),storageDeviceId:t.storageDeviceId,sizeInBytes:t.sizeInBytes,parentId:e},o=null!==(n=s[e])&&void 0!==n?n:[];o.push(i),s[e]=o}return(0,i.default)(e.map((e=>{if("Game"!==e.contentType)return null;const n=!!e.legacyProductId&&s[e.legacyProductId]||[],i=n.map((t=>t.sizeInBytes)).reduce((,0),{name:o,titleId:c,aumid:u,version:a,sizeInBytes:l,installTime:d,updateTime:h,lastActiveTime:p,oneStoreProductId:f,storageDeviceId:v}=e;return{name:o,titleId:c,aumid:u,instanceId:r(e),deviceId:t,storageDeviceId:v,productId:f,sizeInBytes:l,installTime:d,updateTime:h,lastActiveTime:p,version:a,dlcSizeInBytes:i,totalSizeInBytes:l+i,dlc:n}})))};e.mergeTileArtToGames=(t,e)=>{const n={};for(const i of e)n[i.productId]=i.tileArtUrl;return t.map((t=>Object.assign(Object.assign({},t),{tileArtUrl:n[t.productId]})))};e.mapXccsDeviceWithAppsToDomain=t=>({device:(0,e.mapXccsDeviceToDomain)(t.device),apps:(0,e.mapItemsResponseToGames)(t.device.id)(t.packages)})},37939:16537:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recommendUninstallItems=void 0;const n=21474836480;function i(t,e,i){e<=n&&(!i.suggestion||e<i.runningDelta)&&(i.suggestion=t,i.runningDelta=e)}function r(t,e,n,r,o){const s={runningDelta:Math.max()};for(;e<t.length;){const c=t[e],u=c.length;if(u>0&&(e<=r||e<=o)){if(e<=r)for(const t of[u-1,Math.floor(u/2)]){const e=c[t],r=e.sizeInBytes;r>=n&&i(e,r-n,s)}if(e<=o){const t=c[0],e=t.sizeInBytes;e>=n&&i(t,e-n,s)}}e++}return s.suggestion}e.recommendUninstallItems=function(t,e){if(0===t.length)return[];const i=function(t){const e=864e5,n=Date.now(),i=n-7*e,r=n-30*e,o=n-60*e,s=[[],[],[],[]];for(const c of t){const t=c.lastActiveTime?new Date(c.lastActiveTime).getTime():new Date(c.installTime).getTime();t>=i?s[3].push(c):t>=r?s[2].push(c):t>=o?s[1].push(c):s[0].push(c)}for(const c of s)c.sort(();return s}(t);{const t=i.length-1,n=r(i,0,e,t-1,t-2);if(n)return[n]}const o=e+n;let s=0,c=[];for(const u of i){if(0===u.length)continue;const t=u.length,i=r([u],0,e,0,0);if(i){c.push(i),s+=i.sizeInBytes;break}let a=0,l=[],d=e,h=0;const p=u[0],f=p.sizeInBytes;for(d>f&&(l.push(p),a+=f,d-=f,h++);h<t;){let e=t-1;const n=h;let i,r=0,p=0;for(;h<=e;)if(p=Math.floor((h+e)/2),i=u[p],r=i.sizeInBytes,r>d)h=p+1;else{if(!(r<d))break;e=p-1}const f=p-1;if(f>=n&&r<d&&(p=f,i=u[p],r=i.sizeInBytes),i)if(r>=d){if(s+a+r<=o)return c=c.concat(l),c.push(i),c}else l.push(i),a+=r,d-=r;h=p+1}if(l.length===t){e-=a,c=c.concat(l),s+=a;continue}const v=u[t-1].sizeInBytes/e*100>=20;v&&u.reverse();let y=Math.max();l=[],a=0,d=e;for(const e of u){const t=e.sizeInBytes;if(l.push(e),a+=t,t>=d){y=t-d;break}d-=t}if(y<=n)return c.concat(l);{v&&l.reverse();let t=l.slice();for(let e=l.length-1;e>=0;--e){const n=l[e].sizeInBytes;if(n>y)break;y-=n,t=t.slice(e,1)}return c.concat(l)}}return c}},66191:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.executeWithCancelOnUnsubscribe=void 0;const i=n(24496),r=n(65866);e.executeWithCancelOnUnsubscribe=function(t,e){const n=new AbortController,o=Object.assign(Object.assign({},t),{abortSignal:n.signal}),s=(0,i.from)(e.execute(o));return(0,r.onCancel)(s,()}},7339:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationPoller=void 0;const i=n(24496),r=n(56276),o=n(1051);e.OperationPoller=class{oll(t,e,n=5e3,s=18e4){const c=new i.Subject,u=(0,i.merge)(this.stopSpecificPolling$.pipe((0,r.filter)(()),this.stopAllPolling$).pipe((0,r.mapTo)(o.OperationStatus.Paused)),a=new i.Subject,l=(0,i.merge)(u,a).pipe((0,r.take)(1),(0,r.tap)((t=>c.next(t))),(0,r.tap)((()=>c.complete()))),d=(0,i.timer)(s).pipe((0,r.take)(1),(0,r.mapTo)(o.OperationStatus.TimedOut)),h=(0,i.timer)(0,n).pipe((0,r.switchMap)((()=>this.service.fetchOperationStatus(t,e))),(0,r.catchError)((()=>(0,i.of)(o.OperationStatus.Error))));return(0,i.merge)(d,h).pipe((0,r.takeUntil)(l)).subscribe((t=>{t!==o.OperationStatus.Pending?a.next(t):c.next(t)})),c.pipe((0,r.distinctUntilChanged)())}pollOperationollMany(t,e,n=5e3,s=18e4){if(0===t.length)return(0,i.of)();const c={},u=new Set(t),a=new i.Subject,l=this.stopAllPolling$.pipe((0,r.take)(1),(0,r.mapTo)(o.OperationStatus.Paused)),d=(0,i.timer)(s).pipe((0,r.take)(1),(0,r.mapTo)(o.OperationStatus.TimedOut)),h=new i.Subject,p=(0,i.timer)(0,n).pipe((0,r.switchMap)((),(0,r.catchError)(());return(0,i.merge)(l,d,p).pipe((0,r.takeUntil)(h)).subscribe((e=>{if(Array.isArray(e)){if(e.length!==t.length){const n=new Set(e.map((t=>t.opId)));for(const e of t)u.has(e)&&!n.has(e)&&(a.next({opId:e,status:o.OperationStatus.Error}),u.delete(e))}for(const t of e)u.has(t.opId)&&(t.opId in c&&c[t.opId]===t.status||(c[t.opId]=t.status,a.next(t)),t.status!==o.OperationStatus.Pending&&u.delete(t.opId))}else u.forEach((),u.clear();0===u.size&&h.next()}),(t=>a.error(t)),(),a},84091:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileService=void 0;const i=n(22970),r=n(35482),o=n(51941),s=n(28351),c=i.__importDefault(n(76670)),u=n(24496),a=n(56276),l=n(66191);e.TileService=class{constructor(t,e,n,i){const c=(new r.HttpClientBuilder).authenticator(new o.TokenAuthenticator(t)).requestInterceptor(new s.MarketAndLocaleQueryParamInterceptor({marketQuery:"market",localeQuery:"language"},e,0)).interceptors(null!==i&&void 0!==i?i:{});n&&c.requestInterceptor(new s.CorrelationVectorInterceptor(n)),this.httpClient=c.build(),this.requestFactory=r.RequestFactory.withBaseUrl("https://catalog.gamepass.com").setCommonMaxRetries(3)}fetchTileArt(t){if(0===t.length)return(0,u.of)([]);const e=this.requestFactory.post("products",{Products:t.map((t=>t.productId))},{params:{hydration:"MobileBrowseForConsole"}});return(0,l.executeWithCancelOnUnsubscribe)(e,this.httpClient).pipe((0,a.map)((),(0,a.catchError)(())}_browseInfoToTileArtMapper(t){return(0,c.default)(Object.keys(t.Products).map((e=>{var n;const i=t.Products[e];if(!i)return null;if(!(null===(n=i.ImageTile)||void 0===n?void 0:n.URI))return null;return{productId:e,tileArtUrl:i.ImageTile.URI}})))}}},26110:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileServiceInterface=void 0,e.TileServiceInterface=Symbol("TileServiceInterface")},87152:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XccsError=void 0;const i=n(1051);e.XccsError=class{constructor(t,e,n){var r,o,s;if("XccsError"===(null===e||void 0===e?void 0:e.name)){const t=e;this.errorCode=t.errorCode,this.errorMessage=t.errorMessage,this.originalError=t.originalError}else this.errorCode=(null===t||void 0===t?void 0:t.errorCode)?i.ErrorCode[t.errorCode]:void 0,this.errorMessage=null===t||void 0===t?void 0:t.errorMessage,this.originalError=e;this.name="XccsError",this.stack=null===e||void 0===e?void 0:e.stack,this.cv=n;let c=null!==(s=null!==(r=this.errorMessage)&&void 0!==r?r:null===(o=this.originalError)||void 0===o?void 0:o.message)&&void 0!==s?s:"No Message";this.errorCode&&(c=`${this.errorCode}: ${c}`),this.cv&&(c=`[${this.cv}] ${c}`),this.message=c}},42831:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XccsService=void 0;const i=n(35482),r=n(51941),o=n(28351),s=n(56276),c=n(23842),u=n(1051),a=n(37939),l=n(66191),d=n(87152),h=n(62086),p="opStatus",f="config";e.XccsService=class{constructor(t,e,n,s,u,a){this.sourceId=null!==u&&void 0!==u?u:"@gaming/xccs",this.platform=null!==a&&void 0!==a?a:"RemoteManagement",this.xblContractVersion="4",this.sessionId=(0,c.v4)();const l=(new i.HttpClientBuilder).authenticator(new r.TokenAuthenticator(t)).interceptors(null!==s&&void 0!==s?s:{});e&&l.requestInterceptor(new o.CorrelationVectorInterceptor(e)),n&&l.requestInterceptor(new o.AcceptLanguageInterceptor(n)),this.httpClient=l.build();const d={[i.HttpHeader.ContentType]:"application/json",skillPlatform:this.platform};this.requestFactory=i.RequestFactory.withBaseUrl("https://xccs.xboxlive.com").setCommonMaxRetries(3).setCommonHeaders(d)}fetchDevices(t,e){const n={};return void 0!==t&&(n.queryCurrentDevice=t.toString()),void 0!==e&&(n.includeStorageDevices=e.toString()),this._fetchList("devices",n).pipe((0,s.map)((t=>t.map((t=>(0,a.mapXccsDeviceToDomain)(t))))))}fetchDevicesWithApps(t,e,n){const i={oneStoreProductIds:t.join(";")};return void 0!==e&&(i.queryCurrentDevice=e.toString()),void 0!==n&&(i.includeStorageDevices=n.toString()),this._fetchList("devices",i).pipe((0,s.map)(())}etchInstalledApps(t){return this._fetchList("installedApps",{deviceId:t}).pipe((0,s.map)((0,a.mapItemsResponseToGames)(t)))}etchPCDevices(){return this._fetchList("pcDevices").pipe((0,s.map)((t=>t.map(())))}uninstallApp(t,e){return this._sendCommand("UninstallPackage",{deviceId:e,parameters:{instanceId:t}}).pipe((0,s.map)((e=>({itemInstanceId:t,deviceId:e.destination.id,opId:e.opId}))))}fetchOperationStatus(t,e){return this._fetchOperationStatus(t,e)}endCommand(t,e){return this._sendCommand(t,e).pipe((0,s.map)(())}fetchConsoleState(t){const e=`consoles/${t}`,n={[i.HttpHeader.XXBLContractVersion]:this.xblContractVersion},r=this.requestFactory.get(e,{headers:n});return(0,l.executeWithCancelOnUnsubscribe)(r,this.httpClient).pipe((0,s.map)((t=>{const{status:e}=t.data;return this._validateStatusResponse(e,t),(0,a.mapConsoleStateToDomain)(t.data)})),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}queueForInstall(t,e,n=u.EndpointType.Console){const r=`consoles/${t}/installQueue`,o={[i.HttpHeader.XXBLContractVersion]:this.xblContractVersion},c={endpointType:n,items:e},a=this.requestFactory.post(r,c,{headers:o});return(0,l.executeWithCancelOnUnsubscribe)(a,this.httpClient).pipe((0,s.map)((e=>{var n;return{queueStatus:e.data.queueStatus,deviceId:t,opId:null!==(n=e.data.consoleCommandOpId)&&void 0!==n?n:""}})),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}fetchInstallQueue(t,e=u.EndpointType.Console){const n=`consoles/${t}/installQueue?endpointType=${e}`,r=this.requestFactory.get(n);return(0,l.executeWithCancelOnUnsubscribe)(r,this.httpClient).pipe((0,s.map)((e=>({items:e.data.items,operationStatus:{queueStatus:e.data.queueStatus,deviceId:t,opId:e.data.consoleCommandOpId}}))),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}fetchInstallEvents(t){const e=`consoles/${t}/installEvents`,n=this.requestFactory.get(e);return(0,l.executeWithCancelOnUnsubscribe)(n,this.httpClient).pipe((0,s.map)((t=>{const{status:e}=t.data;return this._validateStatusResponse(e,t),t.data.installEvents})),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}setDeviceName(t,e,n=u.EndpointType.Console){const r=`consoles/${t}/name`,o={[i.HttpHeader.XXBLContractVersion]:this.xblContractVersion},c=this.requestFactory.put(r,{name:e,endpointType:n},{headers:o});return(0,l.executeWithCancelOnUnsubscribe)(c,this.httpClient).pipe((0,s.map)((t=>(this._validateStatusResponse(t.data,t),u.ErrorCode.OK))),(0,s.catchError)((t=>{var e;throw new d.XccsError(null===(e=t.response)||void 0===e?void 0:e.data,t)})))}registerDevice(t,e,n,r,o=u.EndpointType.Console){const a={[i.HttpHeader.XXBLContractVersion]:this.xblContractVersion,sessionId:(0,c.v4)()},h={configReason:"RegisterDevice",deviceId:t,friendlyName:e,remoteManagementEnabled:!0,type:n,xboxState:{powerState:r},endpointType:o},p=this.requestFactory.post(f,h,{headers:a});return(0,l.executeWithCancelOnUnsubscribe)(p,this.httpClient).pipe((0,s.map)((t=>(this._validateStatusResponse(t.data.status,t),u.ErrorCode.OK))),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}registerForPushNotification(t,e,n,r,o,a){const h={[i.HttpHeader.XXBLContractVersion]:this.xblContractVersion,sessionId:(0,c.v4)()},p={configReason:"RegisterForPushNotification",notificationClientInfo:{deviceId:a,xuid:e,platform:n,clientId:r,clientName:o,type:t}},v=this.requestFactory.post(f,p,{headers:h});return(0,l.executeWithCancelOnUnsubscribe)(v,this.httpClient).pipe((0,s.map)((t=>(this._validateStatusResponse(t.data.status,t),u.ErrorCode.OK))),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}registerForProductTrackingOnPCDevice(t,e){const n={[i.HttpHeader.XXBLContractVersion]:this.xblContractVersion,sessionId:(0,c.v4)()},r={configReason:"RegisterProductForLegacyInstallStatusTracking",deviceId:e,oneStoreProductId:t},o=this.requestFactory.post(f,r,{headers:n});return(0,l.executeWithCancelOnUnsubscribe)(o,this.httpClient).pipe((0,s.map)((t=>(this._validateStatusResponse(t.data.status,t),u.ErrorCode.OK))),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}getPopularApps(t,e){const n={sessionId:(0,c.v4)()},r={market:t,language:e},o=this.requestFactory.get("popularApps",{headers:n,params:r});return(0,l.executeWithCancelOnUnsubscribe)(o,this.httpClient).pipe((0,s.map)((),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}_validateStatusResponse(t,e){var n;if(t.errorCode!==u.ErrorCode.OK)throw new d.XccsError(t,void 0,null!==(n=null===e||void 0===e?void 0:e.headers.get(i.HttpHeader.CorrelationVector))&&void 0!==n?n:void 0)}_fetchList(t,e){const n=`lists/${t}`,r={[i.HttpHeader.XXBLContractVersion]:this.xblContractVersion},o=this.requestFactory.get(n,{headers:r,params:e});return(0,l.executeWithCancelOnUnsubscribe)(o,this.httpClient).pipe((0,s.map)((t=>{const{status:e,result:n}=t.data;return this._validateStatusResponse(e,t),null!==n&&void 0!==n?n:[]})),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}_sendCommand(t,e){var n,r,o,c,u;const a=h.CommandDefinitions[t],p={destination:a.destination,type:a.type,command:t,sessionId:null!==(n=e.sessionId)&&void 0!==n?n:this.sessionId,sourceId:null!==(r=e.sourceId)&&void 0!==r?r:this.sourceId,endpointType:e.endpointType,parameters:[e.parameters]};if(e.commonParameters&&(null===(o=p.parameters)||void 0===o||o.push(e.commonParameters)),e.locale&&(p.locale=e.locale),"Xbox"===p.destination){const t=p;a.minOsVersion&&(t.minOsVersion=a.minOsVersion),e.deviceId&&(t.linkedXboxId=e.deviceId),"InstallPackages"!==p.command&&"UninstallPackage"!==p.command||(null===(c=p.parameters)||void 0===c?void 0:c.find(())||null===(u=p.parameters)||void 0===u||u.push({installEvents:"true"})}const f={[i.HttpHeader.XXBLContractVersion]:this.xblContractVersion},v=this.requestFactory.post("commands",p,{headers:f});return(0,l.executeWithCancelOnUnsubscribe)(v,this.httpClient).pipe((0,s.map)((t=>{const e=t.data,{status:n}=e;return this._validateStatusResponse(n,t),e})),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}_fetchOperationStatus(t,e){const n=this.requestFactory.get(p,{headers:{"x-xbl-opId":t,"x-xbl-deviceId":e,[i.HttpHeader.XXBLContractVersion]:"2"}});return(0,l.executeWithCancelOnUnsubscribe)(n,this.httpClient).pipe((0,s.map)((t=>{const{status:e}=t.data;return this._validateStatusResponse(e),t.data.operationStatus})),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}_fetchOperationStatuses(t,e){const n=this.requestFactory.get(p,{headers:{"x-xbl-opId":t.join(","),"x-xbl-deviceId":e,[i.HttpHeader.XXBLContractVersion]:"3"}});return(0,l.executeWithCancelOnUnsubscribe)(n,this.httpClient).pipe((0,s.map)((t=>{const{status:e}=t.data;return this._validateStatusResponse(e,t),t.data.opStatusList.map(()})),(0,s.catchError)((t=>{var e,n,r,o;throw new d.XccsError(null===(n=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===n?void 0:n.status,t,null===(o=null===(r=t.response)||void 0===r?void 0:r.headers)||void 0===o?void 0:o[i.HttpHeader.CorrelationVector.toLowerCase()])})))}}},70461:19073:62086:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandDefinitions=void 0,e.CommandDefinitions={Mute:{destination:"Xbox",type:"Audio"},Unmute:{destination:"Xbox",type:"Audio"},Volume:{destination:"Xbox",type:"Audio"},DigitalAssistantRemoteControl:{destination:"Xbox",type:"Config"},RemoteAccess:{destination:"Xbox",type:"Config"},AllowConsoleStreaming:{destination:"Xbox",type:"Config"},CaptureGameClip:{destination:"Xbox",type:"Game"},CaptureScreenshot:{destination:"Xbox",type:"Game"},InvitePartyToGame:{destination:"Xbox",type:"Game"},InviteToParty:{destination:"Xbox",type:"Game"},KickFromParty:{destination:"Xbox",type:"Game"},LeaveParty:{destination:"Xbox",type:"Game"},SetOnlineStatus:{destination:"Xbox",type:"Game"},StartAParty:{destination:"Xbox",type:"Game"},StartBroadcasting:{destination:"Xbox",type:"Game"},StopBroadcasting:{destination:"Xbox",type:"Game"},StartStreamingManagementService:{destination:"Xbox",type:"GameStreaming"},StopStreaming:{destination:"Xbox",type:"GameStreaming"},RedeemCode:{destination:"Xbox",type:"Marketplace"},Search:{destination:"Xbox",type:"Marketplace"},SearchTheStore:{destination:"Xbox",type:"Marketplace"},ShowTitle:{destination:"Xbox",type:"Marketplace"},Next:{destination:"Xbox",type:"Media"},Pause:{destination:"Xbox",type:"Media"},Play:{destination:"Xbox",type:"Media"},Previous:{destination:"Xbox",type:"Media"},Reboot:{destination:"Xbox",type:"Power"},TurnOff:{destination:"Xbox",type:"Power"},WakeUp:{destination:"Xbox",type:"Power"},ActivateApplicationWithUri:{destination:"Xbox",type:"Shell"},ActivateApplicationWithAumid:{destination:"Xbox",type:"Shell"},ActivateApplicationWithOneStoreProductId:{destination:"Xbox",type:"Shell"},AllowRemoteManagement:{destination:"Xbox",type:"Shell"},ChangeView:{destination:"Xbox",type:"Shell"},CheckForPackageUpdates:{destination:"Xbox",type:"Shell"},CopyPackages:{destination:"Xbox",type:"Shell"},EjectDisk:{destination:"Xbox",type:"Shell"},GoBack:{destination:"Xbox",type:"Shell"},GoHome:{destination:"Xbox",type:"Shell"},InjectKey:{destination:"Xbox",type:"Shell"},InjectString:{destination:"Xbox",type:"Shell"},InstallPackages:{destination:"Xbox",type:"Shell"},LaunchGame:{destination:"Xbox",type:"Shell"},MovePackages:{destination:"Xbox",type:"Shell"},PairController:{destination:"Xbox",type:"Shell"},SendTextMessage:{destination:"Xbox",type:"Shell"},ShowGuideTab:{destination:"Xbox",type:"Shell"},SignIn:{destination:"Xbox",type:"Shell"},SignOut:{destination:"Xbox",type:"Shell"},TerminateApplication:{destination:"Xbox",type:"Shell"},UninstallPackage:{destination:"Xbox",type:"Shell"},UpdatePackages:{destination:"Xbox",type:"Shell"},ShowGuide:{destination:"Xbox",type:"TV"},WatchChannel:{destination:"Xbox",type:"TV"},JoinDonutVoiceChannel:{destination:"Xbox",type:"CommunityLinking"}}},65866:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringToBoolean=e.isGuid=e.onCancel=void 0;const i=n(24496),r=n(56276);e.onCancel=function(t,e){return(0,i.defer)((()=>{let n=!1,i=!1;return t.pipe((0,r.tap)(void 0,(()=>i=!0),(),(0,r.finalize)(())}))},e.isGuid=e.stringToBoolean=function(t,e){switch(null===t||void 0===t?void 0:t.toLowerCase()){case"true":return!0;case"false":return!1;default:return e}}},23842:8813:97166:30798:19906:71415:7372:151:(t,e,n)=>{"use strict";n.d(e,{C:()=>r});n(34715),n(26464),n(19570),n(9e4),n(18339),n(64925),n(54819);var i=n(49069);const r=t=>{const e={};return Object.values(i.vAw).forEach((n=>{var i;const r=(null===(i=t.get(n))||void 0===i?void 0:i.split(",").filter(())||[];r.length>0&&(e[n]={id:n,choices:r.map((t=>({id:t})))})})),e}},16844:(t,e,n)=>{"use strict";n.d(e,{GX:()=>u,Ii:()=>f,KH:()=>S,Lw:()=>d,Mc:()=>v,_m:()=>c,cY:()=>o,dq:()=>b,gB:()=>p,hB:()=>y,mI:()=>a,uz:()=>h,w6:()=>s,yp:()=>l});n(71372);var i=n(91529),r=n(74495);const o="https://www.microsoft.com/{locale}/store/cart",s="https://www.microsoft.com/store/onerf/signin?EEL=False&pcexp=True&ru={returnUrl}",c="https://support.microsoft.com/{0}/account-billing/4ed126a4-5d46-413f-a28e-968bd4414a80",u="https://aka.ms/AAaqyo9",a="https://aka.ms/AA52irh",l="https://aka.ms/AAaqyop",d="https://xbox.com/photosensitive-seizure-warning",h="productDetails/{productId}",p="search",f="search/{tabKey}",v="library",y=()=>{if("undefined"===typeof window)throw new Error("getKeepShoppingLink is not supported on server side currently");return window.location.origin||i.V9f},b=()=>(0,r.useSelector)(()?"https://onestore-ppe.microsoft.com":"https://www.microsoft.com",S=,33186:(t,e,n)=>{"use strict";var i,r,o;n.d(e,{Lp:()=>i,lR:()=>o,wo:()=>r}),i||(i={})),function(t){t.NoFilter="NoFilter",t.OneStar="OneStar",t.TwoStar="TwoStar",t.ThreeStar="ThreeStar",t.FourStar="FourStar",t.FiveStar="FiveStar"}(r||(r={})),function(t){t.MostRecent="MostRecent",t.HighestRated="HighestRated",t.LowestRated="LowestRated",t.MostHelpful="MostHelpful"}(o||(o={}))},3665:(t,e,n)=>{"use strict";n.r(e),n.d(e,{redux:()=>Ce});var i=n(91529),r=n(814),o=n.n(r),s=n(24923),c=n.n(s),u=n(47739),a=n.n(u),l=(n(64925),n(54819),n(21883)),d=n(49069);const h=(0,i.$ex)([d.sXi.AccountLink],new i.h7h({}).on(d.ttT.GET_LINK_STATUS_START,(function(t,e){let{networkName:n}=e;const{[n]:i}=t,r=c()(t,[n].map(a()));return o()(o()({},r),{},{[n]:o()(o()({},i),{},{linkStatus:(0,l.lceFetching)()})})})).on(d.ttT.GET_LINK_STATUS_COMPLETE,(function(t,e){let{networkName:n,status:i,userName:r}=e;const{[n]:s}=t,u=c()(t,[n].map(a()));return o()(o()({},u),{},{[n]:o()(o()({},s),{},{linkStatus:(0,l.lceContent)(i),userName:r?(0,l.lceContent)(r):(0,l.lceNotRequested)()})})})).on(d.ttT.GET_LINK_STATUS_ERROR,(function(t,e){let{networkName:n,error:i}=e;const{[n]:r}=t,s=c()(t,[n].map(a()));return o()(o()({},s),{},{[n]:o()(o()({},r),{},{linkStatus:(0,l.lceError)(i)})})})).on(d.ttT.COMPLETE_LINK_START,(function(t,e){let{networkName:n}=e;const{[n]:i}=t,r=c()(t,[n].map(a()));return o()(o()({},r),{},{[n]:o()(o()({},i),{},{completeLinkResult:(0,l.lceFetching)()})})})).on(d.ttT.COMPLETE_LINK_COMPLETE,(function(t,e){let{networkName:n,result:i}=e;const{[n]:r}=t,s=c()(t,[n].map(a()));return o()(o()({},s),{},{[n]:o()(o()({},r),{},{completeLinkResult:(0,l.lceContent)(i)})})})).on(d.ttT.COMPLETE_LINK_ERROR,(function(t,e){let{networkName:n,error:i}=e;const{[n]:r}=t,s=c()(t,[n].map(a()));return o()(o()({},s),{},{[n]:o()(o()({},r),{},{completeLinkResult:(0,l.lceError)(i)})})})).on(d.ttT.COMPLETE_LINK_RESET,(function(t,e){let{networkName:n}=e;const{[n]:i}=t,r=c()(t,[n].map(a()));return o()(o()({},r),{},{[n]:o()(o()({},i),{},{completeLinkResult:(0,l.lceNotRequested)()})})})).build());n(74407),n(26464),n(64903),n(634),n(6886);var p=n(36001),f=n(84959),v=n(78997);const y=(0,p.$e)([v.u.Channels],new p.h7({channelsData:{},channelTitleModuleData:{}}).on(f.B.FETCHING_INITIAL_CHANNELS_DATA,(function(t,e){const n=e.channelKeys;if(!n.length)return t;let r=t.channelTitleModuleData;return e.channelIds&&(r=e.channelIds.reduce(((e,n)=>{const r=(0,i.kgH)(n);return t.channelTitleModuleData[r]||(e[r]=(0,l.lceFetching)()),e}),o()({},t.channelTitleModuleData))),{channelsData:n.reduce(((e,n)=>{const r=(0,i.kgH)(n);return e[r]=(0,l.lceFetching)(t.channelsData[r]),e}),o()({},t.channelsData)),channelTitleModuleData:r}})).on(f.B.FETCH_CHANNEL,(function(t,e){const n=e.channelKey;if(!n)return t;const r=o()(o()({},t.channelsData),{},{[(0,i.kgH)(n)]:(0,l.lceFetching)(t.channelsData[(0,i.kgH)(n)])});let s=o()({},t.channelTitleModuleData);const c=e.channelId;return c&&!t.channelTitleModuleData[c]&&(s=o()(o()({},t.channelTitleModuleData),{},{[(0,i.kgH)(e.channelId)]:(0,l.lceFetching)()})),{channelsData:r,channelTitleModuleData:s}})).on(f.B.FETCH_CHANNEL_SUCCESS,(function(t,e){const n=Object.keys(e.channels);if(!n.length)return t;let r=t.channelTitleModuleData;return e.isLoadMore||(r=n.reduce(((t,n)=>{const r=(0,i.kgH)((0,d.J5O)(n)),o=e.channels[n];return t[r]=(0,l.lceContent)({title:o.title,description:o.description,imageUrl:o.imageUrl}),t}),o()({},t.channelTitleModuleData))),{channelsData:n.reduce(((n,r)=>{const s=(0,i.kgH)(r),c=e.channels[r];if(e.isLoadMore){const e=(0,l.getDataOrPrevious)(t.channelsData[s]);e&&(n[s]=(0,l.lceContent)(o()(o()({},c),{},{products:[...e.products,...c.products]})))}else n[s]=(0,l.lceContent)(c);return n}),o()({},t.channelsData)),channelTitleModuleData:r}})).on(f.B.FETCH_CHANNEL_ERROR,(function(t,e){return e.channelKey?{channelsData:o()(o()({},t.channelsData),{},{[(0,i.kgH)(e.channelKey)]:(0,l.lceError)(e.error,t.channelsData[(0,i.kgH)(e.channelKey)])}),channelTitleModuleData:o()({},t.channelTitleModuleData)}:t})).build());const b=(0,i.$ex)([d.sXi.ContextualStore],new i.h7h({}).on(d.aoB.GET_BROWSE_PAGE_COMPLETE,(function(t,e){return e.channelKey?o()(o()({},t),{},{[e.channelKey]:{continuationToken:e.continuationToken}}):t})).on(d.aoB.GET_BROWSE_PAGE_ERROR,(function(t,e){return e.channelKey?o()(o()({},t),{},{[e.channelKey]:{continuationToken:void 0}}):t})).on(d.aoB.GET_MORE_BROWSE_PAGE_COMPLETE,(function(t,e){return e.channelKey?o()(o()({},t),{},{[e.channelKey]:{continuationToken:e.continuationToken}}):t})).on(d.aoB.GET_MORE_BROWSE_PAGE_ERROR,(function(t,e){return e.channelKey?o()(o()({},t),{},{[e.channelKey]:{continuationToken:void 0}}):t})).build());const S=(0,i.$ex)([v.u.Filters],new i.h7h({}).on(d.BPi.FETCH_FILTERS,(function(t,e){const n=e.filterKey;return n?o()(o()({},t),{},{[n]:(0,l.lceFetching)(t[n])}):t})).on(d.BPi.FETCH_FILTERS_SUCCESS,(function(t,e){if(!e.data)return t;const n={};for(const[i,r]of Object.entries(e.data))n[i]=(0,l.lceContent)(r);return o()(o()({},t),n)})).on(d.BPi.FETCH_FILTERS_ERROR,(function(t,e){if(e.filterKey){const n=e.filterKey;return o()(o()({},t),{},{[n]:(0,l.lceError)(e.error,t[n])})}return t})).build()),m={devices:{xboxDevices:(0,l.lceNotRequested)(),pcDevices:(0,l.lceNotRequested)()},installOperationsByProductId:{}};const E=(0,i.$ex)([d.sXi.Install],new i.h7h(m).on(d.WAY.FETCH_DEVICES,(function(t){return(0,l.isFetching)(t.devices.xboxDevices)&&(0,l.isFetching)(t.devices.pcDevices)?t:o()(o()({},t),{},{devices:{xboxDevices:(0,l.lceFetching)(t.devices.xboxDevices),pcDevices:(0,l.lceFetching)(t.devices.pcDevices)}})})).on(d.WAY.FETCH_DEVICES_SUCCESS,(function(t,e){return o()(o()({},t),{},{devices:{xboxDevices:(0,l.lceContent)(e.xboxDevices),pcDevices:(0,l.lceContent)(e.pcDevices)}})})).on(d.WAY.FETCH_DEVICES_ERROR,(function(t,e){return o()(o()({},t),{},{devices:{xboxDevices:(0,l.lceError)(e.error),pcDevices:(0,l.lceError)(e.error)}})})).on(d.WAY.QUEUE_INSTALL,(function(t,e){const n=o()({},t);for(const i of e.productIds){const t=n.installOperationsByProductId,{[i]:e}=t,r=c()(t,[i].map(a()));n.installOperationsByProductId=r}return n})).on(d.WAY.QUEUE_INSTALL_SUCCESS,(function(t,e){const n=o()({},t);for(const i of e.operationId.productIds)n.installOperationsByProductId=o()(o()({},n.installOperationsByProductId),{},{[i]:e.operationId});return n})).on(d.WAY.QUEUE_INSTALL_ERROR,(function(t,e){const n=o()({},t.installOperationsByProductId);for(const i of e.productIds)n[i]={opId:"",deviceId:e.deviceId,queueStatus:d.njw.Error,productIds:e.productIds,operationStatus:d.ooi.Error,error:e.error};return o()(o()({},t),{},{installOperationsByProductId:n})})).on(d.WAY.UPDATE_OPERATION_STATUS,(function(t,e){const n=o()({},t.installOperationsByProductId);for(const i of e.operation.productIds){const r=t.installOperationsByProductId[i];r&&(n[i]=o()(o()({},r),{},{operationStatus:e.newOperationStatus}))}return o()(o()({},t),{},{installOperationsByProductId:n})})).on(d.WAY.CLEAR_OPERATION_STATUS,(function(t,e){const n=o()({},t.installOperationsByProductId);let i=!1;for(const r of e.operation.productIds){const e=t.installOperationsByProductId[r];e&&(i=!0,n[r]=o()(o()({},e),{},{operationStatus:void 0}))}return i?o()(o()({},t),{},{installOperationsByProductId:n}):t})).build());var _=n(61845);const T=(0,i.$ex)([d.sXi.Layout],new i.h7h({}).on(_.J.UPDATE_LAYOUTS,(function(t,e){const n=Object.keys(e.layouts);return n.length?n.reduce(((t,n)=>(t[(0,i.kgH)(n)]=e.layouts[n],t)),o()({},t)):t})).build()),g=(0,i.$ex)(d.sXi.AdditionalInformation,new i.h7h({}).on(d.Xaj.UPDATE_PRODUCT_ADDITIONAL_INFORMATION,((t,e)=>{if(!e.additionalInfo)return t;const n=(0,i.Lx9)(e.additionalInfo.productId);return o()(o()({},t),{},{[n]:e.additionalInfo})})).build());const w=(0,i.$ex)(d.sXi.AvailabilitySummary,new i.h7h({}).on(d.UGU.UPDATE_AVAILABILITY_SUMMARIES,(function(t,e){return e.summaries.length?e.summaries.reduce(((t,e)=>{if(e){const n=(0,i.Lx9)(e.productId),r=(0,i.Lx9)(e.skuId),s=(0,i.Lx9)(e.availabilityId);t[n]?t[n][r]?t[n][r][s]=e:t[n][r]=o()(o()({},t[n][r]),{},{[s]:e}):t[n]={[r]:{[s]:e}}}return t}),o()({},t)):t})).build());var I=n(36429);const C=(0,i.$ex)(v.u.BundleConfig,new i.h7h({}).on(I.y.UPDATE_BUNDLE_CONFIG,(function(t,e){return e.configs.length?e.configs.reduce(((t,e)=>{if(e){t[(0,i.Lx9)(e.productId)]=e}return t}),o()({},t)):t})).build());var x=n(13952);const R=(0,i.$ex)([v.u.DeliveryInfo],new i.h7h({}).on(x.b.UPDATE_DELIVERY_INFO,(function(t,e){return e.deliveryInfo.length?e.deliveryInfo.reduce(((t,e)=>{if(e){const n=(0,i.Lx9)(e.productId,e.skuId),r=e.availabilityId;t[n]=o()(o()({},e[n]),{},{[(0,i.kgH)(r)]:e})}return t}),o()({},t)):t})).build());var A=n(10941);const N=(0,i.$ex)([v.u.Inventory],new i.h7h({}).on(A.k.UPDATE_INVENTORY_INFO,(function(t,e){return e.inventoryInfo.length?e.inventoryInfo.reduce(((t,e)=>{if(e){const n=(0,i.Lx9)(e.productId,e.skuId);t[n]=o()(o()({},t[n]),{},{[(0,i.kgH)(e.availabilityId)]:e})}return t}),o()({},t)):t})).build());n(71372);const P=(0,i.$ex)(d.sXi.ProductActions,new i.h7h({}).on(d.F6K.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT,(function(t,e){return e.productId?o()(o()({},t),{},{[(0,i.Lx9)(e.productId)]:(0,l.lceNotRequested)()}):t})).on(d.F6K.UPDATE_PRODUCT_ACTIONS,(function(t,e){return e.productActions.length?e.productActions.reduce(((t,e)=>{if(e){t[(0,i.Lx9)(e.productId)]=(0,l.lceContent)(e)}return t}),o()({},t)):t})).on(d.F6K.FETCH_PRODUCT_ACTIONS,(function(t,e){const n=e.productId;return n?o()(o()({},t),{},{[(0,i.Lx9)(n)]:(0,l.lceFetching)(t[(0,i.Lx9)(n)])}):t})).on(d.F6K.FETCH_PRODUCT_ACTIONS_SUCCESS,(function(t,e){if(!e.data||0===e.data.length)return t;const n=e.data.reduce(((t,e)=>{if(e){t[(0,i.Lx9)(e.productId)]=(0,l.lceContent)(e)}return t}),o()({},t));if(e.productId){const r=(0,i.Lx9)(e.productId);(0,l.isFetching)(n[r])&&(n[r]=(0,l.lceError)(new Error("Requested product actions not returned in response"),t[r]))}return n})).on(d.F6K.FETCH_PRODUCT_ACTIONS_ERROR,(function(t,e){if(e.productId){const n=(0,i.Lx9)(e.productId);return o()(o()({},t),{},{[n]:(0,l.lceError)(e.error,t[n])})}return t})).build()),O={isLoading:!1,hasContent:!1,error:void 0};const L=(0,i.$ex)(d.sXi.ProductInfo,new i.h7h({}).on(d.tCN.GET_PRODUCT_INFO,(function(t,e){const n=(0,i.Lx9)(e.productId),r=t[n]||O;return o()(o()({},t),{},{[n]:o()(o()({},r),{},{isLoading:!0,error:void 0})})})).on(d.tCN.GET_PRODUCT_INFO_COMPLETE,(function(t,e){const n=(0,i.Lx9)(e.productId);return o()(o()({},t),{},{[n]:{isLoading:!1,hasContent:!0,error:void 0}})})).on(d.tCN.GET_PRODUCT_INFO_ERROR,(function(t,e){const n=(0,i.Lx9)(e.productId),r=t[n]||O;return o()(o()({},t),{},{[n]:o()(o()({},r),{},{isLoading:!1,error:e.error})})})).build());const D=(0,i.$ex)(d.sXi.ProductSummary,new i.h7h({}).on(d.IYI.UPDATE_PRODUCT_SUMMARIES,(function(t,e){return e.summaries.length?e.summaries.reduce(((t,e)=>{if(e){t[(0,i.Lx9)(e.productId)]=e}return t}),o()({},t)):t})).build());n(9e4),n(18339),n(1951);var V=n(71415),U=n(33186);n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183);var F=n(7782);const k={ratingsSummary:(0,l.lceNotRequested)(),reviews:(0,l.lceNotRequested)(),userReview:(0,l.lceNotRequested)(),totalReviews:0,continuationToken:void 0,reviewsReported:{},reviewsVoted:{},filters:{appliedFilter:U.wo.NoFilter,appliedSort:U.lR.MostHelpful}};const M=(0,i.$ex)(v.u.RatingsAndReviews,new i.h7h({}).on(F.V.GET_RATINGS_AND_REVIEWS,(function(t,e){let{productId:n}=e;var r;if(!n)return t;const s=(0,i.Lx9)(n),c=null!==(r=t[s])&&void 0!==r?r:k;return{[s]:o()(o()({},c),{},{ratingsSummary:(0,l.lceFetching)(c.ratingsSummary),reviews:(0,l.lceFetching)(c.reviews),totalReviews:0,continuationToken:void 0})}})).on(F.V.GET_RATINGS_AND_REVIEWS_COMPLETE,(function(t,e){let{productId:n,ratingsAndReviews:r}=e;var s;if(!n||!r)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k,a=(0,l.getDataOrPrevious)(u.userReview);let d=[],h=[];if(a){const t=r.reviews.filter(();h=[o()(o()({},a),{},{reviewId:V.$}),...t]}else h=r.reviews;return d=h.filter((),{[c]:o()(o()({},u),{},{ratingsSummary:r.ratingsSummary?(0,l.lceContent)(r.ratingsSummary):(0,l.lceNotRequested)(),reviews:(0,l.lceContent)(d),totalReviews:r.totalReviews,continuationToken:r.continuationToken})}})).on(F.V.GET_RATINGS_AND_REVIEWS_ERROR,(function(t,e){let{productId:n,error:r}=e;var s;if(!n)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k;return{[c]:o()(o()({},u),{},{ratingsSummary:(0,l.lceError)(r,u.ratingsSummary),reviews:(0,l.lceError)(r,u.reviews),totalReviews:0,continuationToken:void 0})}})).on(F.V.GET_MORE_RATINGS_AND_REVIEWS_COMPLETE,(function(t,e){let{productId:n,ratingsAndReviews:r}=e;var s;if(!n||!r)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k,a=(0,l.getDataOrPrevious)(u.reviews);let d=r.reviews;return a&&(d=function(t,e,n){const i=new Map(t.map((t=>[n(t),t]))),r=new Map(e.map(()),o=new Map([...i,...r]);return Array.from(o.values())}(a,d,()),{[c]:o()(o()({},u),{},{reviews:(0,l.lceContent)(d),continuationToken:r.continuationToken})}})).on(F.V.GET_MORE_RATINGS_AND_REVIEWS_ERROR,(function(t,e){let{productId:n}=e;var r;if(!n)return t;const s=(0,i.Lx9)(n),c=null!==(r=t[s])&&void 0!==r?r:k;return{[s]:o()(o()({},c),{},{continuationToken:void 0})}})).on(F.V.GET_USER_REVIEW,(function(t,e){let{productId:n}=e;var r;if(!n)return t;const s=(0,i.Lx9)(n),c=null!==(r=t[s])&&void 0!==r?r:k;return{[s]:o()(o()({},c),{},{reviews:(0,l.lceFetching)(c.reviews)})}})).on(F.V.GET_USER_REVIEW_COMPLETE,(function(t,e){let{productId:n,userReview:r}=e;var s;if(!n||!r)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k;return{[c]:o()(o()({},u),{},{userReview:(0,l.lceContent)(r)})}})).on(F.V.GET_USER_REVIEW_ERROR,(function(t,e){let{productId:n,error:r}=e;var s;if(!n)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k;return{[c]:o()(o()({},u),{},{reviews:(0,l.lceError)(r,u.reviews)})}})).on(F.V.SUBMIT_USER_REVIEW,(function(t,e){let{productId:n}=e;var r;if(!n)return t;const s=(0,i.Lx9)(n),c=null!==(r=t[s])&&void 0!==r?r:k;return{[s]:o()(o()({},c),{},{userReview:(0,l.lceFetching)(c.userReview)})}})).on(F.V.SUBMIT_USER_REVIEW_COMPLETE,(function(t,e){let{productId:n,userReview:r}=e;var s,c;if(!n||!r)return t;const u=(0,i.Lx9)(n),a=null!==(s=t[u])&&void 0!==s?s:k,d=null!==(c=(0,l.getDataOrPrevious)(a.reviews))&&void 0!==c?c:[],h=d.findIndex(();return-1===h?d.unshift(o()(o()({},r),{},{reviewId:V.$})):d[h]=o()(o()({},r),{},{reviewId:V.$}),{[u]:o()(o()({},a),{},{reviews:(0,l.lceContent)(d),userReview:(0,l.lceContent)(r)})}})).on(F.V.SUBMIT_USER_REVIEW_ERROR,(function(t,e){let{productId:n,error:r}=e;var s;if(!n)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k;return{[c]:o()(o()({},u),{},{userReview:(0,l.lceError)(r,u.userReview)})}})).on(F.V.SUBMIT_REVIEW_CONCERN,(function(t,e){let{productId:n,reviewId:r}=e;var s;if(!n||!r)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k;return{[c]:o()(o()({},u),{},{reviewsReported:o()(o()({},u.reviewsReported),{},{[r]:(0,l.lceFetching)()})})}})).on(F.V.SUBMIT_REVIEW_CONCERN_COMPLETE,(function(t,e){let{productId:n,reviewId:r}=e;var s;if(!n||!r)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k;return{[c]:o()(o()({},u),{},{reviewsReported:o()(o()({},u.reviewsReported),{},{[r]:(0,l.lceContent)(!0)})})}})).on(F.V.SUBMIT_REVIEW_CONCERN_ERROR,(function(t,e){let{productId:n,reviewId:r,error:s}=e;var c;if(!n||!r)return t;const u=(0,i.Lx9)(n),a=null!==(c=t[u])&&void 0!==c?c:k;return{[u]:o()(o()({},a),{},{reviewsReported:o()(o()({},a.reviewsReported),{},{[r]:(0,l.lceError)(s,a.reviewsReported[r])})})}})).on(F.V.APPLY_FILTER,(function(t,e){let{productId:n,filterOption:r}=e;var s;if(!n||!r)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k,a=u.filters;if((null===a||void 0===a?void 0:a.appliedFilter)===r)return t;let l;return l=a?o()(o()({},a),{},{appliedFilter:r}):{appliedFilter:r},{[c]:o()(o()({},u),{},{filters:l})}})).on(F.V.APPLY_SORT,(function(t,e){let{productId:n,sortOption:r}=e;var s;if(!n||!r)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k,a=u.filters;if((null===a||void 0===a?void 0:a.appliedSort)===r)return t;let l;return l=a?o()(o()({},a),{},{appliedSort:r}):{appliedSort:r},{[c]:o()(o()({},u),{},{filters:l})}})).on(F.V.SUBMIT_REVIEW_HELPFULNESS_VOTE,(function(t,e){let{productId:n,reviewId:r}=e;var s;if(!n||!r)return t;const c=(0,i.Lx9)(n),u=null!==(s=t[c])&&void 0!==s?s:k;return{[c]:o()(o()({},u),{},{reviewsVoted:o()(o()({},u.reviewsVoted),{},{[r]:(0,l.lceFetching)()})})}})).on(F.V.SUBMIT_REVIEW_HELPFULNESS_VOTE_COMPLETE,(function(t,e){let{productId:n,reviewId:r,isHelpful:s}=e;var c;if(!n||!r)return t;const u=(0,i.Lx9)(n),a=null!==(c=t[u])&&void 0!==c?c:k;return{[u]:o()(o()({},a),{},{reviewsVoted:o()(o()({},a.reviewsVoted),{},{[r]:(0,l.lceContent)(s)})})}})).on(F.V.SUBMIT_REVIEW_HELPFULNESS_VOTE_ERROR,(function(t,e){let{productId:n,reviewId:r,error:s}=e;var c;if(!n||!r)return t;const u=(0,i.Lx9)(n),a=null!==(c=t[u])&&void 0!==c?c:k;return{[u]:o()(o()({},a),{},{reviewsVoted:o()(o()({},a.reviewsVoted),{},{[r]:(0,l.lceError)(s,a.reviewsVoted[r])})})}})).build());const H=(0,i.$ex)(d.sXi.SkuSummary,new i.h7h({}).on(d.Z5$.UPDATE_SKU_SUMMARIES,(function(t,e){return e.summaries.length?e.summaries.reduce(((t,e)=>{if(e){const n=(0,i.Lx9)(e.productId),r=(0,i.Lx9)(e.skuId);t[n]?t[n][r]=e:t[n]={[r]:e}}return t}),o()({},t)):t})).build()),W=(0,i.gTX)({productSummaries:D,skuSummaries:H,availabilitySummaries:w,bundleConfigs:C,inventoryInfo:N,entitlements:d.HgD,deliveryInfo:R,productActions:P,additionalInformation:g,layouts:T,ratingsAndReviews:M,productInfoMetadata:L});var X=n(59512);const B=(0,i.$ex)([v.u.Search],new i.h7h({}).on(X.P.FETCH_SEARCH_RESULT,(function(t,e){const n=e.searchTerm;return n?o()(o()({},t),{},{[n]:(0,l.lceFetching)(t[n])}):t})).on(X.P.FETCH_SEARCH_RESULT_SUCCESS,(function(t,e){if(!e.data)return t;const n={};for(const[i,r]of Object.entries(e.data))n[i]=(0,l.lceContent)(r);return o()(o()({},t),n)})).on(X.P.FETCH_SEARCH_RESULT_ERROR,(function(t,e){if(e.searchTerm){const n=e.searchTerm;return o()(o()({},t),{},{[n]:(0,l.lceError)(e.error,t[n])})}return t})).build());var G;!function(t){t.UPDATE_SERVICE_ERROR_MESSAGE="@serviceErrorMessage/UPDATE_SERVICE_ERROR_MESSAGE"}(G||(G={}));const j={updateServiceErrorMessage:(0,d.tG6)(G.UPDATE_SERVICE_ERROR_MESSAGE,d.sXi.ServiceErrorMessage,((t,e)=>({code:t,message:e})))},$=(0,i.$ex)(d.sXi.ServiceErrorMessage,new i.h7h({}).on(G.UPDATE_SERVICE_ERROR_MESSAGE,((t,e)=>o()(o()({},t),{},{[e.code]:e.message}))).build()),z={lineItems:[],vectorId:void 0};function Z(){return z}const q=(0,i.$ex)([d.sXi.StoreCartService],new i.h7h(z).on(d.$K.UPDATE_CART,().on(d.$K.FETCH_VECTOR_ID_SUCCESS,(function(t,e){let{vectorId:n}=e;return t.vectorId!==n?{lineItems:[],vectorId:n}:t})).on(d.$K.FETCH_VECTOR_ID_ERROR,Z).on(d.$K.CLEAR_VECTOR_ID,Z).build());var K=n(34223);const Y=(0,i.$ex)([v.u.Support],new i.h7h({}).on(K.$.FETCH_SUPPORT_ITEMS,(function(t,e){const n=e.supportItemsKey;return n?o()(o()({},t),{},{[n]:(0,l.lceFetching)(t[n])}):t})).on(K.$.FETCH_SUPPORT_ITEMS_SUCCESS,(function(t,e){if(!e.data)return t;const n={};for(const[i,r]of Object.entries(e.data))n[i]=(0,l.lceContent)(r);return o()(o()({},t),n)})).on(K.$.FETCH_SUPPORT_ITEMS_ERROR,(function(t,e){if(e.supportItemsKey){const n=e.supportItemsKey;return o()(o()({},t),{},{[n]:(0,l.lceError)(e.error,t[n])})}return t})).build());n(36728);var Q=n(65807);const J=(0,i.$ex)([d.sXi.Wishlist],new i.h7h({wishlists:{}}).on(Q.h.UPDATE_WISHLISTS,(function(t,e){if(!e.wishlists.length)return t;let n=t.defaultWishlistId;const i=e.wishlists.reduce(((t,e)=>(e&&(t[e.id]=e,e.isDefault&&(n=e.id)),t)),o()({},t.wishlists));return{defaultWishlistId:n,wishlists:i}})).on(d.c$s.REMOVE_WISHLIST_ITEM_COMPLETE,(function(t,e){const n=e.wishListId===d.Z0r&&t.defaultWishlistId?t.defaultWishlistId:e.wishListId,i=t.wishlists[n];let r=t;if(i){const s=i.products,c=s.filter(();c.length!==s.length&&(r=o()(o()({},t),{},{wishlists:o()(o()({},t.wishlists),{},{[n]:o()(o()({},i),{},{products:c})})}))}return r})).on(d.c$s.ADD_WISHLIST_ITEM_COMPLETE,(function(t,e){const n=e.wishListId===d.Z0r&&t.defaultWishlistId?t.defaultWishlistId:e.wishListId,i=t.wishlists[n],r=i?[...i.products]:[];return r.push({productId:e.productId,skuId:e.skuId,addedDate:(new Date).toUTCString(),actions:[]}),o()(o()({},t),{},{wishlists:o()(o()({},t.wishlists),{},{[n]:o()(o()({},i),{},{products:r})})})})).on(d.c$s.SAVE_WISHLIST_SETTINGS_COMPLETE,(function(t,e){const n=e.wishListId===d.Z0r&&t.defaultWishlistId?t.defaultWishlistId:e.wishListId,i=t.wishlists[n];let r=t;return i&&(r=o()(o()({},t),{},{wishlists:o()(o()({},t.wishlists),{},{[n]:o()(o()({},i),{},{settings:e.settingsState})})})),r})).build()),tt=(0,i.gTX)({accountLink:h,cart:q,channels:y,install:E,products:W,serviceErrorMessages:$,wishlist:J,contextualStore:b,search:B,filters:S,support:Y});var et=n(64225),nt=n(20608),it=n(24709),rt=n(87342),ot=n(22799),st=n(76493),ct=n(9101);function*ut(t,e,n,r,s){const c=yield(0,rt.Si)(),u=yield(0,st.le)(),a=yield(0,nt.call)(i.gjf),l=yield(0,nt.call)(st.R6),h=yield(0,nt.select)(i.TrC),p=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),f=o()(o()({},n),(0,d.sDH)(h));return yield(0,nt.call)(it.M3,(e=>e.post(t,r)),c,a,e,p,{authConfig:s,authenticationProvider:u,aadAuthConfig:l},f)}function*at(t){const{channelKey:e,encodedFilters:n,requestPath:r,encodedCT:o,channelId:s,query:c}=t;try{if(!o)return;const t={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"Channels/GetMoreData"},u={addAuthorization:!0,isRequired:!1},a={Filters:n,ReturnFilters:!1,ChannelKeyToBeUsedInResponse:e,EncodedCT:o,ChannelId:s,Query:c},l=yield(0,nt.call)(ut,r,t,{[it.zF.MsApiVersion]:"1.1"},a,u);if(!(0,i.hAT)(l.status)){throw new Error(l.statusText)}yield(0,nt.call)(ct.hK,l.data)}catch(u){const t=(0,ot.toError)(u);yield(0,nt.put)(f.D.fetchChannel.error(t,e))}}n(60523);var lt=n(16844);function*dt(t){const{productId:e,onFailure:n}=t,r=yield(0,nt.select)(i.$Pr,i.vCX.EnableMiniPDPRefreshExp);try{const t=yield(0,nt.select)(i.yWe),o=yield(0,rt.Si)(),s=yield(0,st.le)(),c=yield(0,nt.call)(i.gjf),u=yield(0,nt.call)(st.R6),a=yield(0,nt.select)(st.t_),l={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"GetProductDetailById"},h={addAuthorization:!0,isRequired:!1},p=r?((t,e)=>{const n=(0,i.uQr)("contextualStore/productDetails/{productId}",{productId:t}),r=new URLSearchParams;return r.append(it.nV.locale,e.localeWithScript),(0,d.LTV)(n,r)})(e,t):((t,e)=>{const n=(0,i.uQr)(lt.uz,{productId:t}),r=new URLSearchParams;return r.append(it.nV.locale,e.localeWithScript),r.append(it.nV.allowDurablesAndConsumables,"true"),(0,d.LTV)(n,r)})(e,t),f=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),v=yield(0,nt.call)(it.S,p,h,o,s,c,u,l,f,void 0,a);if(!(0,i.hAT)(v.status)){const t=new Error(v.statusText);throw n(t),t}yield(0,nt.call)(ct.Hb,v.data,`contextualStoreFDRequestPageId/${e.toUpperCase()}`)}catch(o){n((0,ot.toError)(o))}}const ht=(t,e,n)=>{const r=(0,i.uQr)("contextualStore/browse/{productId}",{productId:t}),o=new URLSearchParams;return o.append(it.nV.locale,n.localeWithScript),o.append(it.nV.itemType,e),(0,d.LTV)(r,o)};function*pt(t){var e;const{productId:n,itemType:r,channelKey:o,onFailure:s}=t;try{const t=yield(0,nt.select)(i.yWe),c=yield(0,rt.Si)(),u=yield(0,st.le)(),a=yield(0,nt.call)(i.gjf),l=yield(0,nt.call)(st.R6),h=yield(0,nt.select)(st.t_),p={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"ContextualStore/GetBrowsePageData"},f={addAuthorization:!0,isRequired:!1},v=ht(n,r,t),y=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),b=yield(0,nt.call)(it.S,v,f,c,u,a,l,p,y,void 0,h);if(!(0,i.hAT)(b.status)){const t=new Error(b.statusText);throw s(t),t}yield(0,nt.call)(ct.Hb,b.data,`contextualStoreFDRequestPageId/${n.toUpperCase()}`),yield(0,nt.put)(d.Ivn.getMoreBrowsePageData.success(o,null!==(e=b.headers.get(it.zF.ContinuationToken))&&void 0!==e?e:void 0))}catch(c){s((0,ot.toError)(c))}}function*ft(t){const{productId:e,itemType:n,channelKey:r,onFailure:o,onSuccess:s,continuationToken:c}=t;try{const t=yield(0,nt.select)(i.yWe),u=yield(0,rt.Si)(),a=yield(0,st.le)(),l=yield(0,nt.call)(i.gjf),h=yield(0,nt.call)(st.R6),p=yield(0,nt.select)(st.t_),f={};if(!c)return;f[it.zF.ContinuationToken]=c;const v={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"ContextualStore/GetMoreBrowseData"},y={addAuthorization:!0,isRequired:!1},b=ht(e,n,t),S=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),m=yield(0,nt.call)(it.S,b,y,u,a,l,h,v,S,f,p),E=m.headers.get(it.zF.ContinuationToken);if(!(0,i.hAT)(m.status)){const t=new Error(m.statusText);throw o(t),t}yield(0,nt.call)(ct.hK,m.data),yield(0,nt.put)(d.Ivn.getMoreBrowsePageData.success(r,null!==E&&void 0!==E?E:void 0)),s()}catch(u){const e=(0,ot.toError)(u);yield(0,nt.put)(d.Ivn.getMoreBrowsePageData.error(t.productId,e))}}n(48166),n(45162),n(73439);const vt=async(t,e,n)=>{const i={dependencyName:rt.JS.XboxLiveAccountService,dependencyOperationName:"family/memberXuid"},r=(0,it.oK)(i);return(await n.execute(r.get((0,lt.KH)(t),{headers:{Authorization:e,[it.zF.XblContractVersion]:"4"}}))).data};function*yt(t){const{xuid:e}=t,n=yield(0,st.le)(),i=yield(0,nt.call)([n,n.acquireTokenSilently],st.Q7.XboxLive),r={maturityLevel:11};if(i&&e){const t=yield(0,rt.Si)(),s={relyingParty:st.Q7.XboxLive,isMandatory:!1},c=yield(0,nt.call)(it.up,t,n,s);try{const t=function(t,e){const n=t.familyUsers.find(();if(!n)throw new Error("Invalid response");return{maturityLevel:n.maturityLevel}}(yield(0,nt.call)(vt,e,i.token,c),e);if(null===t)throw yield(0,nt.put)(st.hI.updateUserAgeGatingInfo(r,!0)),new Error("Call to family service failed");yield(0,nt.put)(st.hI.updateUserAgeGatingInfo(t,!1))}catch(o){const t=(0,ot.toError)(o);yield(0,nt.put)(st.hI.fetchAgeGatingInfo.error(t))}}else yield(0,nt.put)(st.hI.updateUserAgeGatingInfo(r,!0))}n(31235);var bt,St=n(35482);!bt||(bt={}));const mt={sendContext:(0,d.KNz)(v.u.GamingContext,bt.SEND_CONTEXT_START,(t=>({subscriptionProductId:t})),bt.SEND_CONTEXT_COMPLETE,(t=>({xuid:t})),bt.SEND_CONTEXT_ERROR,((t,e)=>({error:e,xuid:t}))),fetchContext:(0,d.KNz)(v.u.GamingContext,bt.FETCH_CONTEXT_START,(t=>({xuid:t})),bt.FETCH_CONTEXT_COMPLETE,((t,e)=>({xuid:t,productId:e})),bt.FETCH_CONTEXT_ERROR,((t,e)=>({error:e,xuid:t})))};function Et(t){let{subscriptionProductId:e}=t;return function*(){if(!d.gSx.includes(e.toUpperCase()))return void console.log(`[Gaming Context] Invalid subscription ID: ${e}. ID must be one of: ${d.gSx}`);const t=yield(0,rt.Si)(),{userInfo:n}=yield(0,nt.select)(st.V_),r=null===n||void 0===n?void 0:n.xuid;if(!r)return void t.logger().verbose("sendContext:No xuid");if(!((null===n||void 0===n?void 0:n.ageGroup)===i.zHJ.Adult))return void t.logger().verbose("sendContext:Child account");const o=d.xZ4.getGameInterest(t.logger());if(!o)return void t.logger().verbose("sendContext:No context");const s=yield(0,st.le)(),c={relyingParty:st.Q7.XboxLive,isMandatory:!0},u=yield(0,nt.call)(it.RG,t,s,c);try{const n=gt(),s={xuid:r,productId:o,subscriptionProductId:e},c=n.post(`users/xuid(${r})`,s,{headers:{[St.HttpHeader.Accept]:"application/json",[St.HttpHeader.ContentType]:"application/json; charset=utf-8"},metadata:{[rt.XP]:{dependencyName:rt.JS.GamingContext,dependencyOperationName:"users/xuid"}}}),a=yield(0,nt.call)(it.JF,u,c);if(!(0,i.hAT)(a.status)){const e=new Error(`Failed to get expected response from context service: status ${a.status}, text ${a.statusText}`);throw t.logger().error("sendContext:Service error",e),e}t.logger().verbose("sendContext:Success"),yield(0,nt.put)(mt.sendContext.success(r))}catch(a){const e=(0,ot.toError)(a);t.logger().error("sendContext:Error",e),yield(0,nt.put)(mt.sendContext.error(r,e))}}()}function _t(t){let{xuid:e}=t;return function*(){const t=yield(0,st.le)(),n=yield(0,rt.Si)(),r={relyingParty:st.Q7.XboxLive,isMandatory:!0},o=yield(0,nt.call)(it.RG,n,t,r);try{const t=gt().get(`users/xuid(${e})`,{headers:{[St.HttpHeader.Accept]:"application/json"},metadata:{[rt.XP]:{dependencyName:rt.JS.GamingContext,dependencyOperationName:"users/xuid"}}}),n=yield(0,nt.call)(it.JF,o,t);if(!(0,i.hAT)(n.status))throw new Error(`Failed to get expected response from context service: status ${n.status}, text ${n.statusText}`);yield(0,nt.put)(mt.fetchContext.success(e,n.data.productId))}catch(s){const t=(0,ot.toError)(s);yield(0,nt.put)(mt.fetchContext.error(e,t))}}()}function*Tt(t){const{productId:e}=t;d.gSx.includes(e.toUpperCase())&&(yield(0,nt.put)({type:bt.SEND_CONTEXT_START,subscriptionProductId:t.productId}))}const gt=()=>St.RequestFactory.withBaseUrl("https://gamingcontext.xboxlive.com").setCommonTimeout(7500).setCommonHeaders({"Xbl-Scenario-Type":"WebLaunchpad","Xbl-Request-Type":"Background",[St.HttpHeader.XXBLContractVersion]:"1"});var wt=n(65241);let It;function*Ct(){if(void 0===It){const t=yield(0,st.le)(),e=yield(0,rt.Si)(),n=yield(0,nt.select)(i.yWe),r={getToken:()=>(0,st.F3)(t,st.Q7.XboxLive).then(()},o=()=>{const t=e.cv().increment();return console.info(`Install CV: ${t}`),Promise.resolve(t)},s=()=>Promise.resolve(n.localeWithScript);It=new wt.XccsService(r,o,s,void 0,"XboxCom")}return It}function*xt(){const t=yield(0,nt.call)(Ct);return{pcDevices:yield t.fetchPCDevices().toPromise(),xboxDevices:yield t.fetchDevices(!1,!0).toPromise()}}function*Rt(t,e){const n=yield(0,nt.call)(Ct);return yield n.fetchOperationStatus(t,e).toPromise()}function*At(t,e,n){const i=yield(0,nt.call)(Ct);return yield i.queueForInstall(t,e,wt.EndpointType.PC).toPromise()}function*Nt(){try{const t=yield(0,nt.call)(xt);yield(0,nt.put)(d.wxp.fetchDevices.success(t.xboxDevices,t.pcDevices))}catch(t){const e=(0,ot.toError)(t);console.error(e),yield(0,nt.put)(d.wxp.fetchDevices.error(e))}}function*Pt(t){try{const e=yield(0,nt.call)(At,t.deviceId,t.productIds.map((),t.isPcDevice),n=o()(o()({},e),{},{productIds:t.productIds,operationStatus:d.ooi.Pending});yield(0,nt.put)(d.wxp.queueInstall.success(n)),yield(0,nt.spawn)(Lt,n)}catch(e){console.error(e),yield(0,nt.put)(d.wxp.queueInstall.error(e,t.deviceId,t.productIds))}}function*Ot(){yield(0,nt.delay)(1e3)}function*Lt(t){let e=t.operationStatus;if(void 0===e||null===e||e===d.ooi.Pending){for(let n=0;n<60;n++)if(yield(0,nt.call)(Ot),e=yield(0,nt.call)(Rt,t.opId,t.deviceId),e===d.ooi.ConsoleError||e===d.ooi.Error||e===d.ooi.TimedOut||e===d.ooi.Succeeded)return void(yield(0,nt.put)(d.wxp.updateOperationStatus(t,e)));yield(0,nt.put)(d.wxp.updateOperationStatus(t,d.ooi.TimedOut))}}const Dt=(t,e)=>{const n=`productActions/${t}`,i=new URLSearchParams;return i.append(it.nV.locale,e.localeWithScript),{path:n,pathWithQuery:(0,d.LTV)(n,i)}};function*Vt(t){var e;const n=yield(0,nt.select)(i.yWe),r=yield(0,rt.Si)(),o=yield(0,st.le)(),s=yield(0,nt.call)(i.gjf),c=yield(0,nt.call)(st.R6),u=yield(0,nt.call)(Dt,t.productId,n),a={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:t.type,operationName:u.path};try{const n=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),l=yield(0,nt.select)(i.TrC),h=(0,d.sDH)(l),p=yield(0,nt.call)(it.S,u.pathWithQuery,{addAuthorization:!0,isRequired:!1},r,o,s,c,a,n,h);yield(0,nt.put)(d.bXX.fetchProductActions.success(null!==(e=p.data.productActions)&&void 0!==e?e:[],t.productId))}catch(l){const e=(0,ot.toError)(l);console.error(e),yield(0,nt.put)(d.bXX.fetchProductActions.error(e,t.productId))}}function*Ut(t){const{productId:e,onlyProductSummary:n}=t;try{const t=yield(0,nt.select)(i.yWe),r=yield(0,rt.Si)(),s=yield(0,st.le)(),c=yield(0,nt.call)(i.gjf),u=yield(0,nt.call)(st.R6),a={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"GetProductInfo"},l={addAuthorization:!0,isRequired:!1},h=((t,e)=>{const n=(0,i.uQr)(lt.uz,{productId:t}),r=new URLSearchParams;return r.append(it.nV.locale,e.localeWithScript),r.append(it.nV.enableFullDetail,"true"),(0,d.LTV)(n,r)})(e,t),p=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),f=yield(0,nt.select)(i.TrC),v=o()(o()({},(0,d.sDH)(f)),{},{[it.zF.MsApiVersion]:"2.0"}),y=yield(0,nt.call)(it.S,h,l,r,s,c,u,a,p,v);if(!(0,i.hAT)(y.status)){throw new Error(y.statusText)}yield(0,nt.put)(d.Z5C.getProductInfo.success(e)),n?yield(0,nt.call)(ct.rl,y.data,e):yield(0,nt.call)(ct.Hb,y.data,"productInfoPageId")}catch(r){const t=(0,ot.toError)(r);yield(0,nt.put)(d.Z5C.getProductInfo.error(e,t))}}n(88233);const Ft={relyingParty:st.Q7.MDollar,isMandatory:!0},kt=t=>o()(o()({},Ft),{},{anonymousTokenAuthenticator:new st.Ws(t)}),Mt=(t,e,n,i,r)=>{const o=`ratingsandreviews/summaryandreviews/${t}`,s=new URLSearchParams;return s.append(it.nV.locale,e),s.append(it.nV.orderBy,n),s.append(it.nV.itemCount,i),s.append(it.nV.starFilter,r),(0,d.LTV)(o,s)},Ht=(t,e)=>{var n;return o()(o()({},t),{},{continuationToken:null!==(n=null===e||void 0===e?void 0:e.get(it.zF.ContinuationToken))&&void 0!==n?n:void 0})};function*Wt(t){const{productId:e,itemCount:n,appliedFilter:r,appliedSort:o}=t;try{const t=yield(0,nt.select)(i.yWe),s=yield(0,rt.Si)(),c=yield(0,st.le)(),u=yield(0,nt.call)(i.gjf),a=yield(0,nt.call)(st.R6),l={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"GetRatingsAndReviews"},d={addAuthorization:!0,isRequired:!1},h=Mt(e,t.localeWithScript,o,n,r),p=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),f=yield(0,nt.call)(it.S,h,d,s,c,u,a,l,p);if(!(0,i.hAT)(f.status))throw new Error(f.statusText);{const t=Ht(f.data,f.headers);t&&(yield(0,nt.put)(F.B.getRatingsAndReviews.success(e,t)))}}catch(s){const e=(0,ot.toError)(s);yield(0,nt.put)(F.B.getRatingsAndReviews.error(t.productId,e))}}function*Xt(t){const{productId:e,itemCount:n,appliedFilter:r,appliedSort:o,continuationToken:s}=t;try{const t=yield(0,nt.select)(i.yWe),c=yield(0,rt.Si)(),u=yield(0,st.le)(),a=yield(0,nt.call)(i.gjf),l=yield(0,nt.call)(st.R6),d={};s&&(d[it.zF.ContinuationToken]=s);const h={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"GetRatingsAndReviews"},p={addAuthorization:!0,isRequired:!1},f=Mt(e,t.localeWithScript,o,n,r),v=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),y=yield(0,nt.call)(it.S,f,p,c,u,a,l,h,v,d);if(!(0,i.hAT)(y.status))throw new Error(y.statusText);{const t=Ht(y.data,y.headers);t&&(yield(0,nt.put)(F.B.getMoreRatingsAndReviews.success(e,t)))}}catch(c){const e=(0,ot.toError)(c);yield(0,nt.put)(F.B.getMoreRatingsAndReviews.error(t.productId,e))}}function*Bt(t){const{productId:e}=t;try{const t=yield(0,nt.select)(i.yWe),n=yield(0,rt.Si)(),r=yield(0,st.le)(),o=yield(0,nt.call)(i.gjf),s=yield(0,nt.call)(st.R6),c={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"GetUserReview"},u={addAuthorization:!0,isRequired:!0},a=((t,e)=>{const n=`ratingsandreviews/userreview/${t}`,i=new URLSearchParams;return i.append(it.nV.locale,e),(0,d.LTV)(n,i)})(e,t.localeWithScript),l=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),h=yield(0,nt.call)(it.S,a,u,n,r,o,s,c,l);if(!(0,i.hAT)(h.status))throw new Error(h.statusText);yield(0,nt.put)(F.B.getUserReview.success(e,h.data.review))}catch(n){const e=(0,ot.toError)(n);yield(0,nt.put)(F.B.getUserReview.error(t.productId,e))}}function*Gt(t){const{productId:e}=t,{userName:n,title:r,rating:o,reviewText:s,deviceFamily:c}=t.userReview;try{const u=t.userReview.submittedDateTime,a=V.$,l=0,h=0,p=yield(0,nt.select)(i.yWe),f=yield(0,rt.Si)(),v=yield(0,st.le)(),y=yield(0,nt.call)(i.gjf),b=yield(0,nt.call)(it.RG,f,v,kt(y)),S={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"SubmitUserReview"},m=((t,e,n)=>{const i=`ratingsandreviews/submitreview/${t}`,r=new URLSearchParams;return r.append(it.nV.locale,e),r.append(it.nV.deviceFamily,n),(0,d.LTV)(i,r)})(e,p.localeWithScript,c),E=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),_=(0,it.EA)(S,E).put(m,{title:t.userReview.title,rating:t.userReview.rating,reviewText:t.userReview.reviewText}),T=yield(0,nt.call)(it.JF,b,_);if(!(0,i.hAT)(T.status))throw new Error(T.statusText);yield(0,nt.put)(F.B.submitUserReview.success(e,{userName:n,rating:o,helpfulPositive:l,helpfulNegative:h,reviewId:a,reviewText:s,title:r,submittedDateTime:u}))}catch(u){const t=(0,ot.toError)(u);yield(0,nt.put)(F.B.submitUserReview.error(e,t))}}function*jt(t){const{productId:e,reviewId:n,concernCategory:r}=t;try{const t=yield(0,nt.select)(i.yWe),o=yield(0,rt.Si)(),s=yield(0,st.le)(),c=yield(0,nt.call)(i.gjf),u=yield(0,nt.call)(it.RG,o,s,kt(c)),a={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"SubmitReviewConcern"},l=((t,e,n)=>{const i=`ratingsandreviews/report/${t}`,r=new URLSearchParams;return r.append(it.nV.locale,n),r.append(it.nV.concernCategory,e),(0,d.LTV)(i,r)})(n,r.toString(),t.localeWithScript),h=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),p=(0,it.EA)(a,h).post(l),f=yield(0,nt.call)(it.JF,u,p);if(!(0,i.hAT)(f.status))throw new Error(f.statusText);yield(0,nt.put)(F.B.submitReviewConcern.success(e,n))}catch(o){const t=(0,ot.toError)(o);yield(0,nt.put)(F.B.submitReviewConcern.error(e,n,t))}}function*$t(t){const{productId:e,reviewId:n,isHelpful:r}=t;try{const t=yield(0,nt.select)(i.yWe),o=yield(0,rt.Si)(),s=yield(0,st.le)(),c=yield(0,nt.call)(i.gjf),u=yield(0,nt.call)(it.RG,o,s,kt(c)),a={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"SubmitReviewHelpfulnessVote"},l=((t,e,n)=>{const i=`ratingsandreviews/${t}/vote`,r=new URLSearchParams;return r.append(it.nV.locale,n),r.append(it.nV.isHelpful,`${e}`),(0,d.LTV)(i,r)})(n,r,t.localeWithScript),h=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),p=(0,it.EA)(a,h).post(l),f=yield(0,nt.call)(it.JF,u,p);if(!(0,i.hAT)(f.status))throw new Error(f.statusText);yield(0,nt.put)(F.B.submitReviewHelpfulnessVote.success(e,n,r))}catch(o){const t=(0,ot.toError)(o);yield(0,nt.put)(F.B.submitReviewHelpfulnessVote.error(e,n,t))}}var zt=n(88767),Zt=n(7372);const qt=t=>{var e;document.cookie=`cartItemCount=${t}; SameSite=None; Secure`;const n=null===(e=document.getElementById("uhf-shopping-cart"))||void 0===e?void 0:e.dataset;n&&(n.srcDmnChk="false"),window.postMessage(`DR_Cart_Count=${t}`,"*")};var Kt=n(4895);const Yt=(t,e)=>(0,Kt.Y2)(t)[e],Qt={"PUR-QuantityLimitExceeded":"FailedToAddItem-MaxLineItemQuantityExceeded","PUR-OmniChannelInventoryOutOfStockOrNotAvailable":"PUROmniChannelInventoryOutOfStockOrNotAvailable"};function*Jt(t){try{const e=yield(0,nt.select)(i.Yzi),n=yield(0,rt.Si)(),r=yield(0,nt.call)(it.mm,n),o={dependencyName:rt.JS.StoreCartService,dependencyOperationName:"GetErrorMessage"},s=(0,it.dx)(o).get((0,i.uQr)("{locale}/errors/{code}/Storefront",{locale:e,code:t})),c=yield(0,nt.call)(it.JF,r,s);let u;return(0,i.hAT)(c.status)&&c.data&&c.data.LongDescription&&(u={isDefault:!!c.data.DefaultValue,longDescription:c.data.LongDescription,shortDescription:c.data.ShortDescription},yield(0,nt.put)(j.updateServiceErrorMessage(t,u))),u}catch(e){return}}function*te(t){const e=Qt[t]||t,n=yield(0,nt.select)(Yt,e);if(n)return n;return yield(0,nt.call)(Jt,e)}const ee=t=>o()(o()({},t),{},{campaignId:Zt.bp}),ne=t=>{let{bundleId:e,heroProduct:n,subItems:i}=t;return{bundleId:e,heroProduct:ee(n),subItems:i.map(ee)}};function*ie(t){var e;const n=yield(0,nt.select)(i.yWe),r={items:null===(e=t.items)||void 0===e?void 0:e.map(ee),bundles:t.bundleItems&&t.bundleItems.map(ne)},o=yield(0,nt.select)(i.$Pr,i.vCX.EnableCartCheckoutXboxCardRedeem);return{market:n.market,locale:n.localeWithScript,riskSessionId:(0,zt.Z)(),catalogClientType:"storeWeb",clientContext:{client:Zt.Y0,deviceFamily:"web"},friendlyName:`cart-${n.market}`,itemsToAdd:r,flights:o?["sc_cartcofincastle","sc_newcartcoupsellmessage"]:void 0}}const re=t=>({code:t.code,reason:t.data.reason,subReasons:t.data.subReasons,isUserError:!!t.data.isUserError,productId:t.data.productId,skuId:t.data.skuId,availabilityId:t.data.availabilityId}),oe=t=>{if(!(0,i.hAT)(t.status))return{cartReasons:{reasons:[]},error:new it.C("Request failed with error status code",t.status)};const e=t.data;if(!e)return{cartReasons:{reasons:[]},error:new Error("Request succeeded but no data found in response")};const n=e.events;if(!n||0===Object.keys(n).length)return;const r=n.cart?n.cart.filter((t=>t.type&&"error"===t.type.toLowerCase())):[],o=n.lineItems?n.lineItems.filter(():[];if(0===r.length&&0===o.length)return;return{cartReasons:{reasons:[...r,...o].map(re)},error:new Error("Cart event failures found in response")}};function*se(t){var e,n,i,r,o;const s=yield(0,rt.Si)(),c=yield(0,st.le)(),u={relyingParty:st.Q7.MDollar,isMandatory:!1},a=yield ae(!0),l=yield(0,nt.call)(it.YA,s,c,u,a),h={dependencyName:rt.JS.StoreCartService,dependencyOperationName:"LoadCart"},p={};let f=yield(0,nt.select)(d.ut_);f||(f=yield(0,nt.call)(le,d.SA4.fetchVectorId.start())),p[it.zF.VectorId]=null!==f&&void 0!==f?f:"";const v=null!==(o=null!==(i=null===(n=null===(e=null===t||void 0===t?void 0:t.bundleItems)||void 0===e?void 0:e[0])||void 0===n?void 0:n.heroProduct.productId)&&void 0!==i?i:null===(r=null===t||void 0===t?void 0:t.items)||void 0===r?void 0:r[0].productId)&&void 0!==o?o:"";p[it.zF.ValidationField]=v.toLowerCase();const y=(0,it.Cj)(h),b=yield(0,nt.call)(ie,t),S=y.put("cart/loadCart?cartType=consumer&appId=XboxWeb",b,{headers:p});return yield(0,nt.call)(it.JF,l,S)}function*ce(t){if(!t||!t.reasons.length)return;let e;for(const i of t.reasons)if(i.isUserError){e=i;break}if(!e)return;const n=`${e.code}-${e.reason}`;return yield(0,nt.call)(te,n)}function*ue(t){var e,n,r,s,c,u;const{itemsToAdd:a,onSuccess:l,onFailure:h}=t;try{const t=yield(0,nt.call)(se,a),p=yield(0,nt.call)(oe,t);if(p){let t=p.cartReasons;if(!(yield(0,nt.select)(i.$Pr,i.vCX.DisableErrorMessageService))){const e=yield(0,nt.call)(ce,p.cartReasons);t=o()(o()({},p.cartReasons),{},{displayMessage:e})}h(t),yield(0,nt.put)(d.SA4.addToCart.error(a,t,p.error))}else{l();const i=null!==(e=t.headers.get(it.zF.CartSessionId))&&void 0!==e?e:void 0;i&&(null===(n=window.sessionStorage)||void 0===n||n.setItem(it.zF.CartSessionId,i)),yield(0,nt.put)(d.SA4.addToCart.success(a))}const f=(null===(s=null===(r=null===t||void 0===t?void 0:t.data)||void 0===r?void 0:r.cart)||void 0===s?void 0:s.lineItems)||[],v=(null===(u=null===(c=null===t||void 0===t?void 0:t.data)||void 0===c?void 0:c.cart)||void 0===u?void 0:u.bundleLineItems)||[],y=f.length+v.length;yield(0,nt.call)(qt,y);const b=f.concat(...v.map(());yield(0,nt.put)(d.SA4.updateCart(b))}catch(p){const t=(0,ot.toError)(p),e={reasons:[]};h(e),yield(0,nt.put)(d.SA4.addToCart.error(a,e,t))}}function*ae(t){const e=yield(0,i.FMS)(),n=e.get(i.UVO),r=yield(0,nt.select)(i.Zws);return n||(t&&r&&e.set(i.UVO,r),r)}function*le(t){const e=yield(0,rt.Si)(),n=yield(0,st.le)(),r=yield(0,nt.call)(i.gjf),o=yield(0,nt.call)(st.R6),s="cart/vector",c={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:t.type,operationName:s};try{const t=yield ae(!1);if(!t)throw new Error("cartMuid is empty. Cancelling vector request.");const u=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),a=(yield(0,nt.call)(it.S,s,{addAuthorization:!0,isRequired:!1},e,n,r,o,c,u,{[it.zF.MuidAuthorization]:t})).data.vectorId;if(a)return yield(0,nt.put)(d.SA4.fetchVectorId.success(a)),a;yield(0,nt.put)(d.SA4.fetchVectorId.error(new Error("VectorId is empty")))}catch(u){const t=(0,ot.toError)(u);yield(0,nt.put)(d.SA4.fetchVectorId.error(t))}}function*de(t){yield(0,nt.put)(d.SA4.clearVectorId())}const he={relyingParty:st.Q7.MDollar,isMandatory:!0},pe=t=>o()(o()({},he),{},{anonymousTokenAuthenticator:new st.Ws(t)});function*fe(t){const{onError:e}=t;try{const t=yield(0,nt.select)(i.yWe),e=yield(0,rt.Si)(),n=yield(0,st.le)(),r=yield(0,nt.call)(i.gjf),o=yield(0,nt.call)(st.R6),s={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"GetDefaultWishlist"},c={addAuthorization:!0,isRequired:!0},u=((t,e)=>{const n=`wishlist/${t}`,i=new URLSearchParams;return i.append(it.nV.locale,e),(0,d.LTV)(n,i)})(d.Z0r,t.localeWithScript),a=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),l=yield(0,nt.call)(it.S,u,c,e,n,r,o,s,a);if(!(0,i.hAT)(l.status)){throw new Error(l.statusText)}yield(0,nt.call)(ct.Hb,l.data,"wishlistFDRequestPageId")}catch(n){e()}}const ve=(t,e,n,i)=>{let r=`wishlist/${t}/product/${e}`;if(n&&(r=r.concat(`/${n}`)),i){const t=new URLSearchParams;t.append(it.nV.locale,i),r=`${r}?${t.toString()}`}return r};function*ye(t){const{wishListId:e,productId:n,skuId:r,onSuccess:o,onFailure:s}=t;try{const t=yield(0,nt.select)(i.yWe),s=yield(0,rt.Si)(),c=yield(0,st.le)(),u=yield(0,nt.call)(i.gjf),a=yield(0,nt.call)(it.RG,s,c,pe(u)),l={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"AddWishListItem"},h=ve(e,n,r,t.localeWithScript),p=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),f=(0,it.EA)(l,p).put(h,{wishlistName:"default"}),v=yield(0,nt.call)(it.JF,a,f);if(!(0,i.hAT)(v.status))throw new Error(v.statusText);o(),yield(0,nt.put)(d.laP.addWishListItem.success(e,n,r))}catch(c){const t=(0,ot.toError)(c);s(t),yield(0,nt.put)(d.laP.addWishListItem.error(t,e,n,r))}}function*be(t){const{wishListId:e,productId:n,skuId:r,onSuccess:o,onFailure:s}=t;try{const t=yield(0,rt.Si)(),s=yield(0,st.le)(),c=yield(0,nt.call)(i.gjf),u=yield(0,nt.call)(it.RG,t,s,pe(c)),a={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"RemoveWishListItem"},l=ve(e,n,r),h=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),p=(0,it.EA)(a,h).delete(l),f=yield(0,nt.call)(it.JF,u,p);if(!(0,i.hAT)(f.status))throw new Error(f.statusText);o(),yield(0,nt.put)(d.laP.removeWishListItem.success(e,n,r))}catch(c){const t=(0,ot.toError)(c);s(),yield(0,nt.put)(d.laP.removeWishListItem.error(t,e,n,r))}}function*Se(t){const{wishListId:e,settingsState:n,onSuccess:r,onFailure:s}=t;try{const t=yield(0,nt.select)(i.yWe),s=yield(0,rt.Si)(),c=yield(0,st.le)(),u=yield(0,nt.call)(i.gjf),a=yield(0,nt.call)(it.RG,s,c,pe(u)),l={dependencyName:rt.JS.EmeraldXbetService,dependencyOperationName:"SaveWishListSettings"},h=new URLSearchParams;h.append(it.nV.locale,t.localeWithScript);const p=(0,d.LTV)(`wishlist/${e}/settings`,h),f=yield(0,nt.select)(i.$Pr,i.vCX.StagingFD),v=(0,it.EA)(l,f).put(p,o()({},n)),y=yield(0,nt.call)(it.JF,a,v);if(!(0,i.hAT)(y.status))throw new Error(y.statusText);r(),yield(0,nt.put)(d.laP.saveWishlistSettings.success(e,n))}catch(c){const t=(0,ot.toError)(c);s(),yield(0,nt.put)(d.laP.saveWishlistSettings.error(t,e))}}n(6710);var me=n(79730);function*Ee(t,e){const n=yield(0,rt.Si)(),r=yield(0,st.le)();let o;try{o=yield(0,nt.call)([r,r.getMsaAccessTokenSilently],t)}catch(u){const t=(0,ot.toError)(u);n.logger().error(`[userConsentServiceSagas] Error acquiring MSA \n    token to authenticate UCS calls: ${t.message}`)}const s={getToken:()=>Promise.resolve(o?{token:`Bearer ${o}`}:null)},c=yield(0,nt.select)(i.yWe);return new me.UnifiedConsentService(s,(,(()=>{const t=n.cv().increment();return Promise.resolve(t)}),(0,rt.zX)(n),e)}function _e(t){let{id:e,values:n,modelType:i,consentSurface:r}=t;return function*(){const t=yield(0,rt.Si)(),o=yield(0,nt.call)(Ee,st.i4,r);try{t.logger().info(`[userConsentServiceSagas] Submitting privacy consent id: ${e}, values: ${JSON.stringify(n)}`),yield o.submitConsent({id:e,values:n,consentSurface:r}),yield(0,nt.put)(st.hI.submitConsent.success({id:e,values:n,modelType:i})),yield(0,nt.call)(Ie)}catch(s){yield(0,nt.put)(st.hI.submitConsent.error((0,ot.toError)(s),i))}}()}function Te(t){let{consentSurface:e}=t;return function*(){const t=yield(0,rt.Si)(),n=yield(0,nt.call)(Ee,st.i4,e);try{t.logger().info("[userConsentServiceSagas] Fetching privacy consent ui details");const i=yield n.getPrivacyConsentUiDetails();yield(0,nt.put)(st.hI.fetchPrivacyConsentUiDetails.success(i,e))}catch(i){const n=(0,ot.toError)(i);t.logger().error(`[userConsentServiceSagas] Error: ${n.message}`),yield(0,nt.put)(st.hI.fetchPrivacyConsentUiDetails.error(n,e))}}()}function ge(t){let{shouldSendSnapshot:e}=t;return function*(){const t=yield(0,rt.Si)(),n=yield(0,nt.call)(Ee,st.t2);try{t.logger().info("[userConsentServiceSagas] Fetching privacy consent");const i=yield n.getPrivacyConsent();yield(0,nt.put)(st.hI.fetchPrivacyConsent.success(i)),e&&(yield(0,nt.call)(Ie))}catch(i){const e=(0,ot.toError)(i);t.logger().info(`[userConsentServiceSagas] Error: ${e.message}`),yield(0,nt.put)(st.hI.fetchPrivacyConsent.error(e))}}()}function*we(){const t=yield(0,nt.select)(st.PY);if((0,l.isContent)(t)&&t.cacheTimeInMS){const e=yield(0,rt.Si)(),n=6e5,i=t.cacheTimeInMS-(Date.now()-t.lastFetchedMS)-n;if(i<=0)throw new Error("[userConsentServiceSagas] timeMSUntilExpiration is negative, aborting");const r=Math.floor(i/36e5),o=Math.floor(i%36e5/6e4),s=Math.floor(i%6e4/1e3);e.logger().info(`[userConsentServiceSagas] Starting privacy consent data refetch delay for: ${r} hours, ${o} minutes and ${s} seconds`),yield(0,nt.delay)(i),e.logger().info("[userConsentServiceSagas] Cached privacy consent data is about to expire in 10 minutes, attempting to refresh"),yield(0,nt.put)(st.hI.fetchPrivacyConsent.start())}}function*Ie(){const t=yield(0,rt.Si)(),e=yield(0,nt.select)(st.PY),n=(0,l.getDataOrPrevious)(e);if(n){const e=(yield(0,i.FMS)()).get(i.jmv),r=yield(0,st.le)(),s=yield(0,nt.call)([r,r.isAuthenticated]),c=yield(0,nt.select)(i.m2K);t.logger().info(`[userConsentServiceSagas] Logging experiment snapshot with updated consent values: ${JSON.stringify(n)}`),t.logExperimentationSnapshot(c,o()({experimentDataUpdateReason:i.lO9.ConsentValuesUpdated},n),!!e,!!s)}}const Ce={reducer:tt,sagas:[et.Pq,function*(){yield(0,nt.takeEvery)(f.B.FETCH_CHANNEL,at)},function*(){yield(0,nt.takeEvery)(d.aoB.GET_PRODUCT_DETAIL_START,dt),yield(0,nt.takeEvery)(d.aoB.GET_BROWSE_PAGE_START,pt),yield(0,nt.takeEvery)(d.aoB.GET_MORE_BROWSE_PAGE_START,ft)},function*(){yield(0,nt.takeEvery)(st.EJ.FETCH_AGE_GATING_INFO,yt)},function*(){yield(0,nt.takeLatest)(bt.FETCH_CONTEXT_START,_t),yield(0,nt.takeLatest)(bt.SEND_CONTEXT_START,Et),yield(0,nt.takeLatest)(d.aoB.PURCHASE_COMPLETE,Tt)},function*(){yield(0,nt.takeEvery)(d.WAY.FETCH_DEVICES,Nt),yield(0,nt.takeEvery)(d.WAY.QUEUE_INSTALL,Pt)},function*(){yield(0,nt.takeEvery)(d.F6K.FETCH_PRODUCT_ACTIONS,Vt)},function*(){yield(0,nt.takeEvery)(F.V.GET_RATINGS_AND_REVIEWS,Wt),yield(0,nt.takeEvery)(F.V.GET_MORE_RATINGS_AND_REVIEWS,Xt),yield(0,nt.takeEvery)(F.V.GET_USER_REVIEW,Bt),yield(0,nt.takeEvery)(F.V.SUBMIT_USER_REVIEW,Gt),yield(0,nt.takeEvery)(F.V.SUBMIT_REVIEW_CONCERN,jt),yield(0,nt.takeEvery)(F.V.SUBMIT_REVIEW_HELPFULNESS_VOTE,$t)},function*(){yield(0,nt.takeEvery)(d.$K.ADD_TO_CART_START,ue),yield(0,nt.takeLatest)(d.$K.FETCH_VECTOR_ID_START,le),yield(0,nt.takeEvery)([st.EJ.SET_USER_INFO,st.EJ.RESET_USER_INFO],de)},function*(){yield(0,nt.takeEvery)(d.c$s.REMOVE_WISHLIST_ITEM_START,be),yield(0,nt.takeEvery)(d.c$s.GET_DEFAULT_WISHLISTS_START,fe),yield(0,nt.takeEvery)(d.c$s.ADD_WISHLIST_ITEM_START,ye),yield(0,nt.takeEvery)(d.c$s.SAVE_WISHLIST_SETTINGS_START,Se)},d.YA2,function*(){yield(0,nt.takeEvery)(st.EJ.SUBMIT_CONSENT,_e),yield(0,nt.takeEvery)(st.EJ.FETCH_PRIVACY_CONSENT_UI_DETAILS,Te),yield(0,nt.takeEvery)(st.EJ.FETCH_PRIVACY_CONSENT,ge),yield(0,nt.takeLatest)([st.EJ.FETCH_PRIVACY_CONSENT_SUCCESS,st.EJ.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,st.EJ.SUBMIT_CONSENT_SUCCESS],we)}]}},56494:(t,e,n)=>{"use strict";n.r(e),n.d(e,{lazyRouteConfigs:()=>a});var i=n(9101),r=n(64225),o=n(62036),s=n(20608),c=n(24709),u=n(42332);const a={Wishlist:{fetchDataSaga:(0,i.gr)(u.Df,{addAuthorization:!0,isRequired:!0})},WishlistWithId:{fetchDataSaga:(0,i.gr)(u.Df,{addAuthorization:!0,isRequired:!1})},StoreHomePage:{fetchDataSaga:function*(t,e){const n=(0,i.gr)(u.F,{addAuthorization:!0,isRequired:!1,aadAuthRequired:!!t.isPreview},void 0,{[c.zF.MsApiVersion]:"2.0"});yield(0,s.call)(n,t,e)}},BrowsePageConsoleGamesNewPath:{fetchDataSaga:(0,i.m5)({addAuthorization:!0,isRequired:!1})},BrowsePagePCGamesNewPath:{fetchDataSaga:(0,i.m5)({addAuthorization:!0,isRequired:!1})},BrowseCollectionPage:{fetchDataSaga:(0,i.m5)({addAuthorization:!0,isRequired:!1})},BrowsePage:{fetchDataSaga:(0,i.m5)({addAuthorization:!0,isRequired:!1})},LibraryPage:{fetchDataSaga:(0,i.gr)(u.fq,{addAuthorization:!0,isRequired:!1})},BundleBuilder:{theme:o.HK,fetchDataSaga:(0,i.gr)(u.z0,{addAuthorization:!0,isRequired:!1})},ProductDetailsPage:{fetchDataSaga:function*(t,e){const n=(0,i.gr)(u.mA,{addAuthorization:!0,isRequired:!1,aadAuthRequired:!!t.isPreview},void 0,{[c.zF.MsApiVersion]:"2.0"});yield(0,s.call)(n,t,e)}},SearchPage:{fetchDataSaga:(0,i.N$)({addAuthorization:!0,isRequired:!1})},AccountLinkStart:{fetchDataSaga:r.IE},AccountLinkComplete:{fetchDataSaga:r.IE}}},42332:(t,e,n)=>{"use strict";n.d(e,{Df:()=>c,F:()=>h,XT:()=>f,Yy:()=>l,fq:()=>v,ig:()=>p,mA:()=>a,oG:()=>d,z0:()=>u});n(77950),n(74069),n(6886),n(60523),n(94908),n(88233);var i=n(24709),r=n(49069),o=n(91529),s=n(16844);const c=(t,e,n)=>{const s=`wishlist/${t.match.params[o.Hw9.WishlistId]||r.Z0r}`,c=new URLSearchParams(n.search).get(i.nV.giftingString),u=new URLSearchParams;return u.append(i.nV.locale,e.localeWithScript),u.append("details","true"),c&&u.append(i.nV.giftingString,c),(0,r.LTV)(s,u)},u=(t,e)=>{const n=`bundleBuilder/${t.match.params[o.Hw9.ProductId]}`,s=new URLSearchParams;return s.append(i.nV.locale,e.localeWithScript),(0,o.Nxr)(o.xUA.DISABLE_INVENTORY_CHECK)||s.append("enableInventoryCheck","true"),(0,o.Nxr)(o.xUA.ENABLE_BUNDLE_BUILDER_EDD)&&s.append("enableDeliveryInfo","true"),s.append("filterUnavailableProducts","true"),(0,r.LTV)(n,s)},a=(t,e)=>{const n=t.match.params[o.Hw9.ProductId],c=(0,o.uQr)(s.uz,{productId:n}),u=new URLSearchParams,a=!!t.isPreview;return a&&u.append(i.nV.isPreview,a.toString()),u.append(i.nV.locale,e.localeWithScript),u.append(i.nV.enableFullDetail,"true"),(0,r.LTV)(c,u)},l=(t,e)=>{const n=(0,o.uQr)(s.Ii,{tabKey:e}),c=new URLSearchParams;return c.append(i.nV.locale,t.localeWithScript),(0,r.LTV)(n,c)},d=()=>(t,e)=>{const n=t.match.params[o.Hw9.TabName],c=n&&(0,r.xXR)(n)?(0,o.uQr)(s.Ii,{tabKey:n}):s.gB,u=new URLSearchParams;return u.append(i.nV.locale,e.localeWithScript),(0,r.LTV)(c,u)},h=(t,e)=>{const n=new URLSearchParams;n.append(i.nV.locale,e.localeWithScript);const o=!!t.isPreview;return o&&n.append(i.nV.isPreview,o.toString()),(0,r.LTV)("home",n)},p=t=>{const e=new URLSearchParams;return e.append(i.nV.locale,t.localeWithScript),(0,r.LTV)("browse",e)},f=v=(t,e)=>{const n=new URLSearchParams;return n.append(i.nV.locale,e.localeWithScript),(0,r.LTV)(s.Mc,n)}},84959:(t,e,n)=>{"use strict";n.d(e,{B:()=>i,D:()=>s});var i,r=n(49069),o=n(78997);!function(t){t.FETCHING_INITIAL_CHANNELS_DATA="@channels/FETCHING_INITIAL_CHANNELS_DATA",t.FETCH_CHANNEL="@channels/FETCH_CHANNEL",t.FETCH_CHANNEL_SUCCESS="@channels/FETCH_CHANNEL_SUCCESS",t.FETCH_CHANNEL_ERROR="@channels/FETCH_CHANNEL_ERROR"}(i||(i={}));const s={startFetchingChannels:(0,r.tG6)(i.FETCHING_INITIAL_CHANNELS_DATA,o.u.Channels,((t,e)=>({channelKeys:t,channelIds:e}))),fetchChannel:(0,r.KNz)(o.u.Channels,i.FETCH_CHANNEL,((t,e,n,r,o,s)=>({type:i.FETCH_CHANNEL,channelKey:t,encodedFilters:e,requestPath:n,encodedCT:r,query:o,channelId:s})),i.FETCH_CHANNEL_SUCCESS,((t,e)=>({type:i.FETCH_CHANNEL_SUCCESS,channels:t,isLoadMore:e})),i.FETCH_CHANNEL_ERROR,((t,e)=>({type:i.FETCH_CHANNEL_ERROR,error:t,channelKey:e})))}},10941:(t,e,n)=>{"use strict";n.d(e,{I:()=>s,k:()=>i});var i,r=n(49069),o=n(78997);!function(t){t.UPDATE_INVENTORY_INFO="@inventoryInfo/UPDATE_INVENTORY_INFO"}(i||(i={}));const s={updateInventoryInfo:(0,r.tG6)(i.UPDATE_INVENTORY_INFO,o.u.Inventory,(t=>({inventoryInfo:t})))}},61845:(t,e,n)=>{"use strict";n.d(e,{J:()=>i,q:()=>o});var i,r=n(49069);!function(t){t.UPDATE_LAYOUTS="@layoutActions/UPDATE_LAYOUT"}(i||(i={}));const o={updateLayouts:(0,r.tG6)(i.UPDATE_LAYOUTS,r.sXi.Layout,(t=>({layouts:t})))}},36429:(t,e,n)=>{"use strict";n.d(e,{b:()=>s,y:()=>i});var i,r=n(49069),o=n(78997);!function(t){t.UPDATE_BUNDLE_CONFIG="@skuSummaries/UPDATE_PRODUCT_BUNDLE_CONFIG"}(i||(i={}));const s={updateBundleConfigs:(0,r.tG6)(i.UPDATE_BUNDLE_CONFIG,o.u.BundleConfig,(t=>({configs:t})))}},13952:(t,e,n)=>{"use strict";n.d(e,{G:()=>s,b:()=>i});var i,r=n(49069),o=n(78997);!function(t){t.UPDATE_DELIVERY_INFO="@deliveryInfo/UPDATE_DELIVERY_INFO"}(i||(i={}));const s={updateDeliveryInfo:(0,r.tG6)(i.UPDATE_DELIVERY_INFO,o.u.DeliveryInfo,(t=>({deliveryInfo:t})))}},7782:(t,e,n)=>{"use strict";n.d(e,{B:()=>s,V:()=>i});var i,r=n(49069),o=n(78997);!i||(i={}));const s={getRatingsAndReviews:(0,r.KNz)(o.u.RatingsAndReviews,i.GET_RATINGS_AND_REVIEWS,(,i.GET_RATINGS_AND_REVIEWS_COMPLETE,((t,e)=>({productId:t,ratingsAndReviews:e})),i.GET_RATINGS_AND_REVIEWS_ERROR,((t,e)=>({productId:t,error:e}))),getMoreRatingsAndReviews:(0,r.KNz)(o.u.RatingsAndReviews,i.GET_MORE_RATINGS_AND_REVIEWS,(,i.GET_MORE_RATINGS_AND_REVIEWS_COMPLETE,((t,e)=>({productId:t,ratingsAndReviews:e})),i.GET_MORE_RATINGS_AND_REVIEWS_ERROR,((t,e)=>({productId:t,error:e}))),getUserReview:(0,r.KNz)(o.u.RatingsAndReviews,i.GET_USER_REVIEW,(t=>({productId:t})),i.GET_USER_REVIEW_COMPLETE,((t,e)=>({productId:t,userReview:e})),i.GET_USER_REVIEW_ERROR,((t,e)=>({productId:t,error:e}))),submitUserReview:(0,r.KNz)(o.u.RatingsAndReviews,i.SUBMIT_USER_REVIEW,((t,e)=>({productId:t,userReview:e})),i.SUBMIT_USER_REVIEW_COMPLETE,((t,e)=>({productId:t,userReview:e})),i.SUBMIT_USER_REVIEW_ERROR,((t,e)=>({productId:t,error:e}))),submitReviewConcern:(0,r.KNz)(o.u.RatingsAndReviews,i.SUBMIT_REVIEW_CONCERN,((t,e,n)=>({productId:t,reviewId:e,concernCategory:n})),i.SUBMIT_REVIEW_CONCERN_COMPLETE,((t,e)=>({productId:t,reviewId:e})),i.SUBMIT_REVIEW_CONCERN_ERROR,((t,e,n)=>({productId:t,reviewId:e,error:n}))),applyFilter:(0,r.tG6)(i.APPLY_FILTER,o.u.RatingsAndReviews,((t,e)=>({productId:t,filterOption:e}))),applySort:(0,r.tG6)(i.APPLY_SORT,o.u.RatingsAndReviews,(),submitReviewHelpfulnessVote:(0,r.KNz)(o.u.RatingsAndReviews,i.SUBMIT_REVIEW_HELPFULNESS_VOTE,((t,e,n)=>({productId:t,reviewId:e,isHelpful:n})),i.SUBMIT_REVIEW_HELPFULNESS_VOTE_COMPLETE,((t,e,n)=>({productId:t,reviewId:e,isHelpful:n})),i.SUBMIT_REVIEW_HELPFULNESS_VOTE_ERROR,()}},59512:(t,e,n)=>{"use strict";n.d(e,{P:()=>i,R:()=>s});var i,r=n(49069),o=n(78997);!function(t){t.FETCH_SEARCH_RESULT="@search/FETCH_SEARCH_RESULT",t.FETCH_SEARCH_RESULT_SUCCESS="@search/FETCH_SEARCH_RESULT_SUCCESS",t.FETCH_SEARCH_RESULT_ERROR="@search/FETCH_SEARCH_RESULT_ERROR",t.createSearchActions="createSearchActions"}(i||(i={}));const s={fetchSearchResults:(0,r.KNz)(o.u.Search,i.FETCH_SEARCH_RESULT,(t=>({type:i.FETCH_SEARCH_RESULT,searchTerm:t})),i.FETCH_SEARCH_RESULT_SUCCESS,(t=>({type:i.FETCH_SEARCH_RESULT_SUCCESS,data:t})),i.FETCH_SEARCH_RESULT_ERROR,((t,e)=>({type:i.FETCH_SEARCH_RESULT_ERROR,error:t,searchTerm:e})))}},34223:(t,e,n)=>{"use strict";n.d(e,{$:()=>i,V:()=>s});var i,r=n(49069),o=n(78997);!i||(i={}));const s={fetchSupportItems:(0,r.KNz)(o.u.Support,i.FETCH_SUPPORT_ITEMS,(t=>({type:i.FETCH_SUPPORT_ITEMS,supportItemsKey:t})),i.FETCH_SUPPORT_ITEMS_SUCCESS,(,i.FETCH_SUPPORT_ITEMS_ERROR,()}},65807:(t,e,n)=>{"use strict";n.d(e,{h:()=>i,w:()=>o});var i,r=n(49069);!i||(i={}));const o={updateWishlists:(0,r.tG6)(i.UPDATE_WISHLISTS,r.sXi.Wishlist,()}},64225:(t,e,n)=>{"use strict";n.d(e,{IE:()=>h,Pq:()=>v});n(88233),n(6886),n(14121),n(60523),n(71372),n(77950),n(74069),n(31235);var i=n(22799),r=n(35482),o=n(76493),s=n(24709),c=n(49069),u=n(91529),a=n(87342),l=n(20608);function d(t){let{networkName:e}=t;return function*(){var t;const n=yield(0,o.le)(),d=yield(0,a.Si)(),h={relyingParty:o.Q7.SISU,isMandatory:!0},p=`connect/${e}`,f={dependencyName:a.JS.SISU,dependencyOperationName:p},v=yield(0,l.call)(s.RG,d,n,h);try{const n=(0,s.Ir)(f),i={ReturnUri:new URL(`/connect/${e}/complete-link`,window.location.origin).toString()},o=n.post(p,i,{headers:{[r.HttpHeader.Accept]:"application/json",[r.HttpHeader.XXBLContractVersion]:"1",[r.HttpHeader.ContentType]:"application/json; charset=utf-8"}}),a=yield(0,l.call)(s.JF,v,o);if(!(0,u.hAT)(a.status)||!(null===(t=a.data)||void 0===t?void 0:t.RedirectTo))throw new Error(`Failed to get expected response from SISU: status ${a.status}, text ${a.statusText}`);yield(0,l.put)(c.VCn.SISUFlow.success(e)),window.location.assign(a.data.RedirectTo)}catch(y){const t=(0,i.toError)(y);yield(0,l.put)(c.VCn.SISUFlow.error(e,t))}}()}function h(t){let{match:e}=t;return function*(){const t=e.params[u.Hw9.NetworkName];t&&(yield(0,l.put)(c.VCn.completeLinkReset(t)),yield(0,l.call)(p,c.VCn.getLinkStatus.start(t)))}()}function p(t){let{networkName:e}=t;return function*(){try{const t=yield(0,l.select)(u.yWe),n=yield(0,a.Si)(),i=yield(0,o.le)(),r=yield(0,l.call)(u.gjf),d=yield(0,l.call)(o.R6),h={dependencyName:a.JS.EmeraldXbetService,dependencyOperationName:"AccountLinking/GetAccountLinkStatus"},p={addAuthorization:!0,isRequired:!0},f=((t,e)=>{const n=`accountlinking/status/${t}`,i=new URLSearchParams;return i.append(s.nV.locale,e),(0,c.LTV)(n,i)})(e,t.localeWithScript),v=yield(0,l.select)(u.$Pr,u.vCX.StagingFD),y=yield(0,l.call)(s.S,f,p,n,i,r,d,h,v);if(!(0,u.hAT)(y.status)||!Object.values(c.eNe).includes(y.data.linkStatus)){throw new Error(y.statusText)}yield(0,l.put)(c.VCn.getLinkStatus.success(e,y.data.linkStatus,y.data.userName))}catch(t){const n=(0,i.toError)(t);yield(0,l.put)(c.VCn.getLinkStatus.error(e,n))}}()}function f(t){let{networkName:e}=t;return function*(){try{const t=yield(0,l.select)(u.yWe),n=yield(0,a.Si)(),i=yield(0,o.le)(),r=yield(0,l.call)(u.gjf),d=yield(0,l.call)(o.R6),h={dependencyName:a.JS.EmeraldXbetService,dependencyOperationName:"AccountLinking/CompleteLink"},p={addAuthorization:!0,isRequired:!0},f=((t,e)=>{const n=`accountlinking/completelink/${t}`,i=new URLSearchParams;return i.append(s.nV.locale,e),(0,c.LTV)(n,i)})(e,t.localeWithScript),v=yield(0,l.select)(u.$Pr,u.vCX.StagingFD),y=yield(0,l.call)(s.S,f,p,n,i,r,d,h,v);if(!(0,u.hAT)(y.status)||!Object.values(c.m9s).includes(y.data.completeLinkResult)){throw new Error(y.statusText)}yield(0,l.put)(c.VCn.completeLink.success(e,y.data.completeLinkResult)),n.logAppAction({action:"CompleteLinkResult"},{completeLinkResult:y.data.completeLinkResult})}catch(t){const n=(0,i.toError)(t);yield(0,l.put)(c.VCn.completeLink.error(e,n))}}()}function*v(){yield(0,l.takeEvery)(c.ttT.SISU_FLOW_START,d),yield(0,l.takeEvery)(c.ttT.GET_LINK_STATUS_START,p),yield(0,l.takeEvery)(c.ttT.COMPLETE_LINK_START,f)}},9101:(t,e,n)=>{"use strict";n.d(e,{Hb:()=>x,N$:()=>C,gr:()=>w,hK:()=>A,m5:()=>I,rl:()=>R});var i=n(814),r=n.n(i),o=(n(77950),n(74069),n(6886),n(60523),n(94908),n(81497),n(75640),n(1871),n(6710),n(71372),n(9e4),n(26464),n(18339),n(20608)),s=n(76493),c=n(24709),u=n(49069),a=n(91529),l=n(87342),d=n(21883),h=n(151),p=n(42332),f=n(84959),v=n(10941),y=n(61845),b=n(36429),S=n(13952),m=n(59512),E=n(34223),_=n(65807),T=n(23195);function*g(t,e,n,i,d,h,p){const f=yield(0,o.select)(a.yWe),v=yield(0,l.Si)(),y=yield(0,s.le)(),b=yield(0,o.call)(a.gjf),S=yield(0,o.call)(s.R6),m=yield(0,o.call)(n,t,f,e),E={dependencyName:l.JS.EmeraldXbetService,dependencyOperationName:t.key,operationName:t.match.path},_=yield(0,o.select)(a.TrC),T=yield(0,o.select)(a.$Pr,a.vCX.StagingFD),g=r()(r()({},h),(0,u.sDH)(_)),w=yield(0,o.call)(c.M3,p?p(m):v,b,E,T,{authConfig:i,authenticationProvider:y,aadAuthConfig:S},g),I=yield(0,o.select)(a.Yzi),C=(0,a.ew0)(t,I);yield(0,o.call)(x,w.data,C),d&&(yield(0,o.call)(d,w.data))}const w=(t,e,n,i)=>function*(r,s){yield(0,o.call)(g,r,s,t,e,n,i)},I=(t,e)=>function*(n,i){var r;const s=null!==(r=n.match.params[a.Hw9.ChannelId])&&void 0!==r?r:"",v=!("pc"===s||"console"===s),y=(0,u.e1L)(i),b=(0,u.PdF)(y,v?s:""),S=yield(0,o.select)(u.wXP,b),m=yield(0,o.select)(u.ZjP,l.uZ.Browse),E=!(0,d.isContent)(m)&&!(0,d.isError)(m),_=(0,h.C)(new URLSearchParams(i.search)),T=btoa(JSON.stringify(_)),w=(0,p.XT)();if(S&&(0,d.isNotRequested)(S)){E&&(yield(0,o.put)(u.EKU.fetchFiltersResults.start(l.uZ.Browse))),yield(0,o.put)(f.D.startFetchingChannels([b],[s]));const r={Filters:T,ReturnFilters:E,ChannelKeyToBeUsedInResponse:b,ChannelId:v?s:void 0};yield(0,o.call)(g,n,i,w,t,e,{[c.zF.MsApiVersion]:"1.1"},(t=>e=>e.post(t,r)));const a=yield(0,o.select)(u.ZjP,l.uZ.Browse);if(!(0,d.isContent)(a)&&!(0,d.isError)(a)){const t=new Error("Couldn't retrieve filters for the Browse page");yield(0,o.put)(u.EKU.fetchFiltersResults.error(t,l.uZ.Browse))}const h=yield(0,o.select)(u.wXP,b);if(!(0,d.isContent)(h)){const t=new Error("No content was found for the specified filters");yield(0,o.put)(f.D.fetchChannel.error(t,b))}}},C=(t,e)=>function*(n,i){const r=n.match.params[a.Hw9.TabName],s=(0,u.mZK)((0,u.EV)(c.nV.searchQuery,i)),v=yield(0,o.select)(u.ZjP,l.uZ.Search),y=!(0,d.isContent)(v),b=(0,p.oG)();let S,m,_,w;if(r&&(0,u.xXR)(r)){const t=(0,u.e1L)(i),e=(0,h.C)(new URLSearchParams(i.search)),n=btoa(JSON.stringify(e)),c=(0,u.Wd4)(t,r,s);(0,u.FA5)(r)?(S=yield(0,o.select)(T.r,c),_=c):(S=yield(0,o.select)(u.wXP,c),m=[c]),w={Query:s,Filters:n,ReturnFilters:y,ChannelKeyToBeUsedInResponse:c}}else{const t=(0,u.uwM)(s,{});S=yield(0,o.select)(u.wXP,t[u.Gxm]),m=Object.values(t),w={Query:s,ReturnFilters:y,ChannelKeyToBeUsedInResponseMap:t}}S&&(0,d.isNotRequested)(S)&&(y&&(yield(0,o.put)(u.EKU.fetchFiltersResults.start(l.uZ.Search))),m&&(yield(0,o.put)(f.D.startFetchingChannels(m))),_&&(yield(0,o.put)(E.V.fetchSupportItems.start(_))),yield(0,o.call)(g,n,i,b,t,e,{[c.zF.MsApiVersion]:"1.1"},())};function*x(t,e){t.additionalInformation&&(yield(0,o.put)(u.z2f.updateAdditionalInformation(t.additionalInformation))),t.availabilitySummaries&&Array.isArray(t.availabilitySummaries)&&(yield(0,o.put)(u.LAc.updateAvailabilitySummaries(t.availabilitySummaries))),t.skuSummaries&&Array.isArray(t.skuSummaries)&&(yield(0,o.put)(u.F40.updateSkuSummaries(t.skuSummaries))),t.productSummaries&&Array.isArray(t.productSummaries)&&(yield(0,o.put)(u.s86.updateProductSummaries(t.productSummaries))),t.bundleConfigs&&Array.isArray(t.bundleConfigs)&&(yield(0,o.put)(b.b.updateBundleConfigs(t.bundleConfigs))),t.inventoryInfo&&Array.isArray(t.inventoryInfo)&&(yield(0,o.put)(v.I.updateInventoryInfo(t.inventoryInfo))),t.deliveryInfo&&Array.isArray(t.deliveryInfo)&&(yield(0,o.put)(S.G.updateDeliveryInfo(t.deliveryInfo))),t.wishlists&&Array.isArray(t.wishlists)&&(yield(0,o.put)(_.w.updateWishlists(t.wishlists))),t.entitlements&&Array.isArray(t.entitlements)&&(yield(0,o.put)(u.b3e.updateEntitlements(t.entitlements))),t.seo&&(yield(0,o.put)(a.E$u.updatePageSeoTags(t.seo,e))),t.productActions&&Array.isArray(t.productActions)&&(yield(0,o.put)(u.bXX.updateProductActions(t.productActions))),t.channels&&Object.keys(t.channels).length>0&&(yield(0,o.put)(f.D.fetchChannel.success(t.channels,!1))),t.layout&&(yield(0,o.put)(y.q.updateLayouts(t.layout))),t.searchResults&&(yield(0,o.put)(m.R.fetchSearchResults.success(t.searchResults))),t.filters&&(yield(0,o.put)(u.EKU.fetchFiltersResults.success(t.filters))),t.supportItems&&Object.keys(t.supportItems).length>0&&(yield(0,o.put)(E.V.fetchSupportItems.success(t.supportItems)))}function*R(t,e){t.productSummaries&&Array.isArray(t.productSummaries)&&(yield(0,o.put)(u.s86.updateProductSummaries(t.productSummaries.filter((t=>(0,a.kgH)(t.productId)===(0,a.kgH)(e))))))}function*A(t){t.availabilitySummaries&&Array.isArray(t.availabilitySummaries)&&(yield(0,o.put)(u.LAc.updateAvailabilitySummaries(t.availabilitySummaries))),t.skuSummaries&&Array.isArray(t.skuSummaries)&&(yield(0,o.put)(u.F40.updateSkuSummaries(t.skuSummaries))),t.productSummaries&&Array.isArray(t.productSummaries)&&(yield(0,o.put)(u.s86.updateProductSummaries(t.productSummaries))),t.entitlements&&Array.isArray(t.entitlements)&&(yield(0,o.put)(u.b3e.updateEntitlements(t.entitlements))),t.productActions&&Array.isArray(t.productActions)&&(yield(0,o.put)(u.bXX.updateProductActions(t.productActions))),t.channels&&Object.keys(t.channels).length>0&&(yield(0,o.put)(f.D.fetchChannel.success(t.channels,!0)))}},78997:62036:(t,e,n)=>{"use strict";n.d(e,{HK:()=>d,LS:()=>c,Mw:()=>a,Sn:()=>u});n(6886),n(74407),n(26464),n(64903),n(9e4),n(18339),n(52856),n(57610),n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456),n(77950),n(74069);var i=n(49069),r=n(91529),o=n(83840),s=n(16491);const c=(t,e)=>(0,s.rX)(t)[(0,r.Lx9)(e)],u=(t,e)=>{var n,o;const s=c(t,e);if(!s)return;const u={},a=(0,i.Iel)(t,s.productId);if(a){if(a){u[(0,r.Lx9)(a.product.productId,null===(n=a.sku)||void 0===n?void 0:n.skuId,null===(o=a.availability)||void 0===o?void 0:o.availabilityId)]=a}for(const e of s.bundleSlots)for(const n of e.bundleItems){const e=(0,i.Iel)(t,n.productId,n.skuId,n.availabilityId);if(e){u[(0,r.Lx9)(n.productId,n.skuId,n.availabilityId)]=e}}return{bundleConfig:s,primaryProductSummaryInfo:a,productSummaryInfos:u}}},a=(t,e)=>{const n=c(t,e);if(!n)return!1;const i=n.bundleSlots.reduce(((t,n)=>t.concat(n.bundleItems.filter(())),[]);return 0===i.length||i.some(()},l=new Set(["8WJ714N3RBTL","8RPM8T9CK0P6"]),d=(t,e,n)=>{if(n&&n.match.params.productId&&l.has((0,r.kgH)(n.match.params.productId)))return r.Q2A.Dark}},83840:(t,e,n)=>{"use strict";n.d(e,{F:()=>u,S:()=>c});n(64925),n(54819),n(9e4),n(26464),n(18339),n(31235);var i=n(91529),r=n(16491);let o;const s=t=>(()=>{if(!o){const t=null===i.xUA||void 0===i.xUA?void 0:i.xUA.FORCE_OOS_PRODUCT_IDS;o=t?t.split(",").filter(().map((t=>(0,i.kgH)(t))):[]}return o})().includes((0,i.kgH)(t)),c=(t,e,n,o)=>{if(s(e))return{productId:e,skuId:n,availabilityId:o,inStock:!1};const c=(0,i.Lx9)(e,n),u=(0,r.ln)(t)[c];return u&&u[o]},u=(t,e,n)=>{if(s(e))return!1;const o=(0,i.Lx9)(e,n),c=(0,r.ln)(t)[o];if(!c||0===Object.keys(c).length)return!0;for(const i in c)if(!1!==c[i].inStock)return!0;return!1}},16491:(t,e,n)=>{"use strict";n.d(e,{F0:()=>s,ln:()=>o,rX:()=>r});var i=n(4895);const r=t=>(0,i.fg)(t).bundleConfigs,o=t=>(0,i.fg)(t).inventoryInfo,s=,4895:(t,e,n)=>{"use strict";n.d(e,{T$:()=>a,Y2:()=>u,fg:()=>c,l_:()=>s});var i=n(49069),r=n(91529);const o=s=t=>o(t).accountLink,c=t=>o(t).products,u=t=>o(t).serviceErrorMessages,a=,23195:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var i=n(21883),r=n(91529),o=n(4895);const s=(t,e)=>((t)[(0,r.kgH)(e)]||(0,i.lceNotRequested)()},63023:(t,e,n)=>{"use strict";n.d(e,{PageRequestUtils:()=>r});var i=n(9101);class r{constructor(){this.makePageRequestSubSaga=}},76670:t=>{t.exports=,24496:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ArgumentOutOfRangeError:()=>N.W,AsyncSubject:()=>l.c,BehaviorSubject:()=>u.X,ConnectableObservable:()=>r.c,EMPTY:()=>q.E,EmptyError:()=>P.K,GroupedObservable:()=>o.T,NEVER:()=>dt,Notification:()=>I.P,NotificationKind:()=>I.W,ObjectUnsubscribedError:()=>O.N,Observable:()=>i.y,ReplaySubject:()=>a.t,Scheduler:()=>T.b,Subject:()=>c.xQ,Subscriber:()=>w.L,Subscription:()=>g.w,TimeoutError:()=>D.W,UnsubscriptionError:()=>L.B,VirtualAction:()=>_,VirtualTimeScheduler:()=>E,animationFrame:()=>m,animationFrameScheduler:()=>S,asap:()=>d.e,asapScheduler:()=>d.E,async:()=>h.P,asyncScheduler:()=>h.z,bindCallback:()=>M,bindNodeCallback:()=>X,combineLatest:()=>$.aj,concat:()=>z.z,config:()=>At.v,defer:()=>Z.P,empty:()=>q.c,forkJoin:()=>Q,from:()=>Y.D,fromEvent:()=>et,fromEventPattern:()=>it,generate:()=>rt,identity:()=>R.y,iif:()=>st,interval:()=>ut,isObservable:()=>A,merge:()=>lt.T,never:()=>ht,noop:()=>x.Z,observable:()=>s.L,of:()=>pt.of,onErrorResumeNext:()=>ft,pairs:()=>vt,partition:()=>Et,pipe:()=>C.z,queue:()=>p.c,queueScheduler:()=>p.N,race:()=>_t.S3,range:()=>Tt,scheduled:()=>Rt.x,throwError:()=>wt._,timer:()=>It.H,using:()=>Ct,zip:);var i=n(19939),r=n(89386),o=n(60453),s=n(68859),c=n(61194),u=n(64580),a=n(61048),l=n(93866),d=n(74858),h=n(63249),p=n(87410),f=n(2995),v=n(9795),y=v.o),b=n(52966),S=new(b.v))(y),m=S,E=b.v),_=v.o),T=n(77035),g=n(51586),w=n(91881),I=n(38781),C=n(1199),x=n(54582),R=n(36930);ar N=n(9120),P=n(44397),O=n(90906),L=n(22674),D=n(35915),V=n(92188),U=n(84658),F=n(93073),k=n(14070);nction W(t){var e=t.value,n=t.subject;n.next(e),n.complete()}ction j(t){var e=t.err;t.subject.error(e)}var $=n(20097),z=n(24245),Z=n(86542),q=n(84773),K=n(50757),Y=n(97238);function Q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if((0,F.k)(n))return J(n,null);if((0,K.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){var i=Object.keys(n);return J(i.map((),i)}}if("function"===typeof t[t.length-1]){var r=t.pop();return J(t=1===t.length&&(0,F.k)(t[0])?t[0]:t,null).pipe((0,V.U)(())}return J(t,null)}ar tt=n(77371);=n(76712);function ut(t,e){return void 0===t&&(t=0),void 0===e&&(e=h.P),(!(0,ct.k)(t)||t<0)&&(t=0),e&&"function"===typeof e.schedule||(e=h.P),new i.y(()}ar lt=n(97686),dt=new i.y(x.Z);ar pt=n(16612); bt=n(65683),St=n(21400),mt=n(72730);ar _t=n(32219);r wt=n(34236),It=n(13254);ar xt=n(71131),Rt=n(12540),At=n(20604)},93866:38781:(t,e,n)=>{"use strict";n.d(e,{P:()=>c,W:()=>i});var i,r=n(84773),o=n(16612),s=n(34236);i||(i={});var c=function(){eturn t.prototype.observe=t.prototype.do=t.prototype.accept=t.prototype.toObservable=t.createNext=t.createError=t.createComplete=t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},96807:61048:77035:93694:89386:20097:(t,e,n)=>{"use strict";n.d(e,{Ms:()=>d,aj:()=>l});var i=n(2995),r=n(14070),o=n(93073),s=n(96807),c=n(10505),u=n(60007),a={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,i=void 0;return(0,r.K)(t[t.length-1])&&(i=t.pop()),"function"===typeof t[t.length-1]&&(n=t.pop()),1===t.length&&(0,o.k)(t[0])&&(t=t[0]),(0,u.n)(t,i).lift(new d(n))}var d=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){eturn i.ZT(e,t),e.prototype._next=function(t){this.values.push(a),this.observables.push(t)},e.prototype._complete=e.prototype.notifyComplete=e.prototype.notifyNext=e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(s.L)},24245:86542:84773:97238:60007:97686:(t,e,n)=>{"use strict";n.d(e,{T:()=>c});var i=n(19939),r=n(14070),o=n(97258),s=n(60007);function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,c=null,u=t[t.length-1];return(0,r.K)(u)?(c=t.pop(),t.length>1&&"number"===typeof t[t.length-1]&&(n=t.pop())):"number"===typeof u&&(n=t.pop()),null===c&&1===t.length&&t[0]instanceof i.y?t[0]:(0,o.J)(n)((0,s.n)(t,c))}},16612:32219:34236:13254:71131:(t,e,n)=>{"use strict";n.d(e,{$R:()=>a,mx:()=>l});var i=n(2995),r=n(60007),o=n(93073),s=n(91881),c=n(2),u=n(93694);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"===typeof n&&t.pop(),(0,r.n)(t,void 0).lift(new l(n))}var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(t){eturn i.ZT(e,t),e.prototype._next=function(t){var e=this.iterators;(0,o.k)(t)?e.push(new p(t)):"function"===typeof t[c.hZ]?e.push(new h(t[c.hZ]())):e.push(new f(this.destination,this,t))},e.prototype._complete=e.prototype.notifyInactive=e.prototype.checkIterators=e.prototype._tryresultSelector=e}(s.L),h=),p=),f=u.Ds)},90430:72730:60453:92188:(t,e,n)=>{"use strict";n.d(e,{U:);var i=n(2995),r=n(91881);ar s=function(){eturn t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.thisArg))},t}(),c=r.L)},97258:71710:(t,e,n)=>{"use strict";n.d(e,{VS:()=>l,zg:()=>c});var i=n(2995),r=n(92188),o=n(97238),s=n(93694);function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof e?("number"===typeof e&&(n=e),function(e){return e.lift(new u(t,n))})}var u=),a=s.Ds),l=c},49433:46840:36405:12540:(t,e,n)=>{"use strict";n.d(e,{x:()=>l});var i=n(19939),r=n(51586),o=n(68859);var s=n(36405),c=n(2);var u=n(39633),a=n(72318);function l(t,e){if(null!=t){if(function(t){return t&&"function"===typeof t[o.L]}(t))return t,e);if((0,u.t)(t))return t,e);if((0,a.z)(t))return(0,s.r)(t,e);if(t)||"string"===typeof t)return t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},9795:52966:74858:(t,e,n)=>{"use strict";n.d(e,{e:()=>h,E:()=>d});var i=n(2995),r=1,o=function(){return Promise.resolve()}(),s={};ar u=a=l=n(9795).o),d=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.ZT(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(52966).v))(l),h=d},63249:87410:2:(t,e,n)=>{"use strict";.d(e,{hZ:()=>r});var r=i()},9120:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var i=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},44397:(t,e,n)=>{"use strict";n.d(e,{K:()=>i});var i=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},35915:72318:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});var i=,76712:39633:(t,e,n)=>{"use strict";.d(e,{t:()=>i})},14070:(t,e,n)=>{"use strict";.d(e,{K:()=>i})},54582:65683:21400:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var i=n(17651),r=n(47804),o=n(2),s=n(68859),c=n(72318),u=n(39633),a=n(50757),l=function(t){if(t&&"function"===typeof t[s.L])return l=t,if((0,c.z)(t))return(0,i.V)(t);if((0,u.t)(t))return n=t,if(t&&"function"===typeof t[o.hZ])return e=t,var e,n,l,d=(0,a.K)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},17651:10505:56276:(t,e,n)=>{"use strict";n.r(e),n.d(e,{audit:()=>o,auditTime:()=>l,buffer:()=>d,bufferCount:()=>v,bufferTime:()=>E,bufferToggle:()=>N,bufferWhen:()=>L,catchError:()=>U,combineAll:()=>H,combineLatest:()=>B,concat:()=>j,concatAll:()=>$.u,concatMap:()=>Z,concatMapTo:()=>q,count:()=>K,debounce:()=>J,debounceTime:()=>nt,defaultIfEmpty:()=>st,delay:()=>dt,delayWhen:()=>yt,dematerialize:()=>_t,distinct:()=>wt,distinctUntilChanged:()=>xt,distinctUntilKeyChanged:()=>Nt,elementAt:()=>Xt,endWith:()=>Gt,every:()=>jt,exhaust:()=>Zt,exhaustMap:()=>Qt,expand:()=>ee,filter:()=>Ot.h,finalize:()=>re,find:()=>ce,findIndex:()=>le,first:()=>he,flatMap:()=>z.VS,groupBy:()=>pe.v,ignoreElements:()=>fe,isEmpty:()=>be,last:()=>ge,map:()=>Yt.U,mapTo:()=>we,materialize:()=>xe,max:()=>Ve,merge:()=>Fe,mergeAll:()=>ke.J,mergeMap:()=>z.zg,mergeMapTo:()=>Me,mergeScan:()=>He,min:()=>Be,multicast:()=>je,observeOn:()=>ze.QV,onErrorResumeNext:()=>Ze,pairwise:()=>Ye,partition:()=>en,pluck:()=>nn,publish:()=>sn,publishBehavior:()=>un,publishLast:()=>ln,publishReplay:()=>hn,race:()=>fn,reduce:()=>De,refCount:()=>xn.x,repeat:()=>vn,repeatWhen:()=>Sn,retry:()=>_n,retryWhen:()=>wn,sample:()=>Rn,sampleTime:()=>Pn,scan:()=>Ne,sequenceEqual:()=>Vn,share:()=>Hn,shareReplay:()=>Wn,single:()=>Xn,skip:()=>jn,skipLast:()=>Zn,skipUntil:()=>Yn,skipWhile:()=>ti,startWith:()=>ii,subscribeOn:()=>ci,switchAll:()=>hi,switchMap:()=>ai,switchMapTo:()=>pi,take:()=>Mt,takeLast:()=>Ee,takeUntil:()=>fi,takeWhile:()=>bi,tap:()=>Ti,throttle:()=>Ci,throttleTime:()=>Ai,throwIfEmpty:()=>Dt,timeInterval:()=>Di,timeout:()=>Wi,timeoutWith:()=>Fi,timestamp:()=>Xi,toArray:()=>ji,window:()=>$i,windowCount:()=>qi,windowTime:()=>Qi,windowToggle:()=>or,windowWhen:()=>ur,withLatestFrom:()=>dr,zip:()=>vr,zipAll:()=>yr});var i=n(2995),r=n(93694);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector))},t}(),c=r.Ds),u=n(63249),a=n(13254);unction d(t){return function(e){return e.lift(new h(t))}}var h=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.closingNotifier))},t}(),p=r.Ds),f=n(91881);function v(t,e){return void 0===e&&(e=null),function(n){return n.lift(new y(t,e))}}var y=),b=f.L),S=function(t){eturn i.ZT(e,t),e.prototype._next=e.prototype._complete=e}(f.L),m=n(14070);ar _=function(){function t(t,e,n,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new g(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),T=),g=f.L); x=n(51586),R=n(10505),A=n(96807);function N(t,e){return function(n){return n.lift(new P(t,e))}}var P=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.openings,this.closingSelector))},t}(),O=A.L);function L(t){return function(e){return e.lift(new D(t))}}var D=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new V(t,this.closingSelector))},t}(),V=r.Ds);ar F=),k=r.Ds),M=n(20097);ar W=n(93073),X=n(97238);function B(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"===typeof t[t.length-1]&&(n=t.pop()),1===t.length&&(0,W.k)(t[0])&&(t=t[0].slice()),var G=n(24245);function j(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(G.z.apply(void 0,[e].concat(t)))}}var $=n(90430),z=n(71710);nction K(t){return function(e){return e.lift(new Y(t,e))}}var Y=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.predicate,this.source))},t}(),Q=f.L);function J(t){return function(e){return e.lift(new tt(t))}}var tt=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.durationSelector))},t}(),et=r.Ds);function nt(t,e){return void 0===e&&(e=u.P),function(n){return n.lift(new it(t,e))}}var it=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new rt(t,this.dueTime,this.scheduler))},t}(),rt=f.L);r ct=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ut(t,this.defaultValue))},t}(),ut=f.L);ar lt=n(38781);ar ht=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new pt(t,this.delay,this.scheduler))},t}(),pt=f.L),ft=function(){return function(t,e){this.time=t,this.notification=e}}(),vt=n(19939);ar bt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new St(t,this.delayDurationSelector))},t}(),St=A.L),mt=vt.y),Et=f.L);function _t(){return function(t){return t.lift(new Tt)}}var Tt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new gt(t))},t}(),gt=f.L);function wt(t,e){return function(n){return n.lift(new It(t,e))}}var It=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Ct(t,this.keySelector,this.flushes))},t}(),Ct=r.Ds);function xt(t,e){return function(n){return n.lift(new Rt(t,e))}}var Rt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new At(t,this.compare,this.keySelector))},t}(),At=f.L);ar Pt=n(9120),Ot=n(72730),Lt=n(44397);ar Vt=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Ut(t,this.errorFactory))},t}(),Ut=f.L);function Ft(){return new Lt.K}var kt=n(84773);function Mt(t){return function(e){return 0===t?(0,kt.c)():e.lift(new Ht(t))}}var Ht=function(){function t(t){if(this.total=t,this.total<0)throw new Pt.W}return t.prototype.call=function(t,e){return e.subscribe(new Wt(t,this.total))},t}(),Wt=f.L);ar Bt=n(16612);r $t=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new zt(t,this.predicate,this.thisArg,this.source))},t}(),zt=f.L);function Zt(){return function(t){return t.lift(new qt)}}var qt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t))},t}(),Kt=r.Ds),Yt=n(92188);ar Jt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.project))},t}(),te=r.Ds);ar ne=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new ie(t,this.project,this.concurrent,this.scheduler))},t}(),ie=r.Ds);function re(t){return function(e){return e.lift(new oe(t))}}var oe=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new se(t,this.callback))},t}(),se=f.L);ar ue=function(){function t(t,e,n,i){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(t,e){return e.subscribe(new ae(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ae=f.L);ar de=n(36930);function he(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?(0,Ot.h)((function(e,n){return t(e,n,i)})):de.y,Mt(1),n?st(e):Dt((function(){return new Lt.K})))}}var pe=n(60453);function fe(){return function(t){return t.lift(new ve)}}var ve=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ye(t))},t}(),ye=f.L);function be(){return function(t){return t.lift(new Se)}}var Se=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new me(t))},t}(),me=f.L);ar _e=),Te=f.L);unction we(t){return function(e){return e.lift(new Ie(t))}}var Ie=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Ce(t,this.value))},t}(),Ce=f.L);function xe(){return function(t){return t.lift(new Re)}}var Re=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Ae(t))},t}(),Ae=f.L);ar Pe=),Oe=f.L),Le=n(1199);unction Ve(t){return De("function"===typeof t?}var Ue=n(97686);ar ke=n(97258);function Me(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof e?(0,z.zg)((function(){return t}),e,n):("number"===typeof e&&(n=e),(0,z.zg)((function(){return t}),n))}ar We=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new Xe(t,this.accumulator,this.seed,this.concurrent))},t}(),Xe=r.Ds);function Be(t){return De("function"===typeof t?}var Ge=n(89386);ar $e=),ze=n(49433);ar qe=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new Ke(t,this.nextSources))},t}(),Ke=r.Ds);ar Qe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Je(t))},t}(),Je=f.L),tn=n(65683); on=n(61194);ar cn=n(64580);ar an=n(93866);ar dn=n(61048);function hn(t,e,n,i){n&&"function"!==typeof n&&(i=n);var r="function"===typeof n?n:void 0,o=new dn.t(t,e,i);return var pn=n(32219);r yn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new bn(t,this.count,this.source))},t}(),bn=f.L);function Sn(t){return function(e){return e.lift(new mn(t))}}var mn=),En=r.Ds);ar Tn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new gn(t,this.count,this.source))},t}(),gn=f.L);function wn(t){return function(e){return e.lift(new In(t,e))}}var In=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Cn(t,this.notifier,this.source))},t}(),Cn=r.Ds),xn=n(46840);function Rn(t){return function(e){return e.lift(new An(t))}}var An=),Nn=r.Ds);ar On=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Ln(t,this.period,this.scheduler))},t}(),Ln=f.L);unction Vn(t,e){return function(n){return n.lift(new Un(t,e))}}var Un=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new Fn(t,this.compareTo,this.comparator))},t}(),Fn=f.L),kn=f.L);nction Wn(t,e,n){var i;return i=t&&"object"===typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},ar Bn=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Gn(t,this.predicate,this.source))},t}(),Gn=f.L);function jn(t){return function(e){return e.lift(new $n(t))}}var $n=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new zn(t,this.total))},t}(),zn=f.L);function Zn(t){return function(e){return e.lift(new qn(t))}}var qn=),Kn=f.L);function Yn(t){return function(e){return e.lift(new Qn(t))}}var Qn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Jn(t,this.notifier))},t}(),Jn=r.Ds);function ti(t){return function(e){return e.lift(new ei(t))}}var ei=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new ni(t,this.predicate))},t}(),ni=f.L);ar ri=n(74858),oi=n(76712),si=function(t){function e(e,n,i){void 0===n&&(n=0),void 0===i&&(i=ri.e);var r=t.call(this)||this;return r.source=e,r.delayTime=n,r.scheduler=i,(!(0,oi.k)(n)||n<0)&&(r.delayTime=0),i&&"function"===typeof i.schedule||(r.scheduler=ri.e),r}return i.ZT(e,t),e.create=e.dispatch=e.prototype._subscribe=e}(vt.y);function ci(t,e){return void 0===e&&(e=0),function(n){return n.lift(new ui(t,e))}}var ui=);function ai(t,e){return"function"===typeof e?function(e){return e.lift(new li(t))}}var li=),di=r.Ds);nction fi(t){return function(e){return e.lift(new vi(t))}}var vi=),yi=r.Ds);ar Si=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new mi(t,this.predicate,this.inclusive))},t}(),mi=f.L),Ei=n(54582),_i=n(77371);ar gi=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new wi(t,this.nextOrObserver,this.error,this.complete))},t}(),wi=f.L),Ii={leading:!0,trailing:!1};ar xi=),Ri=r.Ds);ar Ni=function(){function t(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}return t.prototype.call=function(t,e){return e.subscribe(new Pi(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Pi=f.L);ar Li=n(86542);ar Vi=function(){return function(t,e){this.value=t,this.interval=e}}(),Ui=n(35915);ar ki=),Mi=r.Ds),Hi=n(34236);r Bi=); zi=),Zi=r.Ds);ar Ki=),Yi=function(t){eturn i.ZT(e,t),e.prototype._next=e.prototype._error=e.prototype._complete=e.prototype._unsubscribe=e}(f.L);ar Ji=function(){function t(t,e,n,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new er(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),tr=on.xQ),er=f.L);ction or(t,e){return function(n){return n.lift(new sr(t,e))}}var sr=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new cr(t,this.openings,this.closingSelector))},t}(),cr=A.L);function ur(t){return function(e){return e.lift(new ar(t))}}var ar=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new lr(t,this.closingSelector))},t}(),lr=A.L);ar hr=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new pr(t,this.observables,this.project))},t}(),pr=A.L),fr=n(71131);function vr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(fr.$R.apply(void 0,[e].concat(t)))}}function yr(t){return function(e){return e.lift(new fr.mx(t))}}}}]);
//# sourceMappingURL=core-partner.66eae3dc.chunk.js.map