"use strict";(self.webpackChunk_fe_tot_workspace_library=self.webpackChunk_fe_tot_workspace_library||[]).push([[993,892],{3993:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var i=n(2272),r=n(6892);function a(e,t){return new i.J4(e,new i.q7(t.id),(0,r.default)({wrapperId:t.id}))}},6892:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var i=n(5671),r=n(3144),a=n(4942),o=n(7856),s=n(2982),u=n(885),c=function(){eturn(0,r.Z)(e,[{key:"addEventListener",value:function(e,t){this.eventTarget.addEventListener(e,t),this.addEntry(e,t)}},{key:"isOwnEntry",value:,{key:"ensureEntries",value:function(){return e.cache.has(this.eventTarget)||e.cache.set(this.eventTarget,[]),e.cache.get(this.eventTarget)}},{key:"removeEventListeners",value:function(e){this.removeMatchingEntries(()}},{key:"removeMatchingEntries",value:function(t){var n=this,i=this.ensureEntries();i.filter(this.isOwnEntry,this).filter(t).forEach((),e.cache.set(this.eventTarget,i.map((function(e){return(0,u.Z)(e,1)[0]!==n.id?e:t(e)?null:e})).filter(())}},{key:"addEntry",value:function(t,n){var i=this.ensureEntries();e.cache.set(this.eventTarget,[].concat((0,s.Z)(i),[[this.id,t,n]]))}},{key:"removeAllEventListeners",value:function(){this.removeMatchingEntries((function(){return!0}))}}],[{key:"clearCache",value:]),e}();(0,a.Z)(c,"cache",new Map);var h=function(){function e(t,n){(0,i.Z)(this,e),this.wrapperId=t,this.options=n,(0,a.Z)(this,"windowEvent",new c(window,this.wrapperId)),(0,a.Z)(this,"documentEvent",new c(document,this.wrapperId))}return(0,r.Z)(e,[{key:"onPageShow",value:function(e){var t;null!==(t=this.options)&&void 0!==t&&t.shouldFireImmediately&&this._fireImmediately(e,new Event("pageshow")),this._on(this.windowEvent,"pageshow",e)}},{key:"onPageHide",value:,{key:"onVisibilityChange",value:function(e){this._on(this.documentEvent,"visibilitychange",(0,o.D)(500,e))}},{key:"clear",value:function(){this.windowEvent.removeAllEventListeners(),this.documentEvent.removeAllEventListeners()}},{key:"_on",value:,{key:"_fireImmediately",value:]),e}(),l=new(function(){eturn(0,r.Z)(e,[{key:"attach",value:function(){var e=this;this.iframes.forEach((function(t){var n=t.el,i=t.id,r=document.getElementById(i);r&&(r.insertAdjacentElement("afterend",n),e.remove(r))})),this.iframes=[]}},{key:"detach",value:function(){var e=this,t=this.loadIframeElements();t.forEach((function(t){var n=t.id,i=t.el;i.insertAdjacentHTML("afterend",'<span id="'.concat(n,'" style="display:none"></span>')),e.remove(i)})),this.iframes=this.iframes.concat(t)}},{key:"remove",value:,{key:"loadIframeElements",value:function(){return Array.from(document.querySelectorAll("iframe"),(function(e,t){return{el:e,id:"_iframe_".concat(t)}}))}}]),e}()),f=n(7464),v=n(8482),d=function(){function e(t,n,r){(0,i.Z)(this,e),this.type=t,this.event=n,this.persisted=r,(0,a.Z)(this,"snapshot",{isHistoryBack:v.Z.isHistoryBack}),this.type=t,this.event=n}return(0,r.Z)(e,[{key:"isHistoryBack",value:]),e}(),y=function(){function e(t,n,r){(0,i.Z)(this,e),this.globalEventManager=t,this.iframeManager=n,this.nonVisibilityChangeFix=r,(0,a.Z)(this,"emitter",new f.v),(0,a.Z)(this,"on",this.emitter.on.bind(this.emitter))}return(0,r.Z)(e,[{key:"init",value:function(){this.globalEventManager.onVisibilityChange(this._handleVisibilityChange.bind(this)),this.globalEventManager.onPageShow(this.onPageShow.bind(this)),this.globalEventManager.onPageHide(this.onPageHide.bind(this))}},{key:"destroy",value:,{key:"_handleVisibilityChange",value:function(e){"hidden"===document.visibilityState?this.onPageHide(e):this.onPageShow(e,!0)}},{key:"click",value:function(e){var t=this;return },{key:"dispatchClick",value:function(){var e=this;this.nonVisibilityChangeFix.unlessSupported((function(){e.onPageShow(new Event("pageshow"),!0)}))}},{key:"onPageShow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.nonVisibilityChangeFix.clear(),this.iframeManager.attach();var n=new d("pageshow",e,t);this.emitter.emit("pageshow",n)}},{key:"onPageHide",value:function(e){this.iframeManager.detach(),this.emitter.emit("pagehide",new d("pagehide",e,!1))}}]),e}(),m=n(6885),p=n(2263),g="kc"===m.viewsite,k=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"shouldFix",value:]),e}(),w=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"shouldFix",value:function(){return p.ua.app.isDaumapp?this.shouldFixDaumapp():!!p.ua.app.isKakao&&this.shouldFixKakaoTalk()}},{key:"shouldFixDaumapp",value:,{key:"shouldFixKakaoTalk",value:function(){return g?"4"===p.ua.os.version.major:/5|6/.test(p.ua.os.version.major)}}]),e}(),Z=function(){eturn(0,r.Z)(e,[{key:"shouldFix",value:]),e}(),E=function(){function e(t){(0,i.Z)(this,e),this.fix=t,(0,a.Z)(this,"timer",void 0)}return(0,r.Z)(e,[{key:"unlessSupported",value:function(e){this.fix.shouldFix()&&(this.timer=setTimeout((,1e3))}},{key:"clear",value:],[{key:"resolveFix",value:function(){return p.ua.os.ios?new Z:p.ua.os.android?new w:new k}},{key:"create",value:]),e}(),b=function(e){var t=e.wrapperId,n=e.options;return new y(new h(t,n),l,E.create())}},7464:function(e,t,n){n.d(t,{v:);var i=n(5671),r=n(3144),a=n(7326),o=n(136),s=n(2963),u=n(1120),c=n(4942);var h=function(e){(0,o.Z)(l,e);var t,n,h=(t=l,n=),;function l(){var e;(0,i.Z)(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=h.call.apply(h,[this].concat(n)),(0,c.Z)((0,a.Z)(e),"one",e.once.bind((0,a.Z)(e))),e}return(0,r.Z)(l,[{key:"off",value:function(e,t){return void 0===e?this.removeAllListeners():"function"!=typeof t?this.removeAllListeners(e):this.removeListener(e,t)}}]),l}(n(4146).Z)}}]);