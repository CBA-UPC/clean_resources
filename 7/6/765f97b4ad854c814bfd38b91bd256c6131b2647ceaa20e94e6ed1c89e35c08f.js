!function(){"use strict";var e=window,t=document,i=navigator,n=window.screen;e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[],e.pbjs=e.pbjs||{},e.pbjs.que=e.pbjs.que||[];var r=e.tpd=e.tpd||{},a=e.tpdMobile,s=e.location.hostname,o=e.location.href,d=e.location.origin,l=t.referrer,c=e.pbjs,p=e.tpdSlots||[],u=e.tpdSlotsClone||[];0===p.length&&(e.tpdSlots=p),0===u.length&&(e.tpdSlotsClone=u);var g,f,h,m=Array.isArray,b=Object.assign,y=parseInt;e.addEventListener("message",function(e){if(!e||"string"!=typeof e.data)return;let t=e.data;if(-1!==t.indexOf("Stop refresh on ")){let i=t.replace("Stop refresh on ","");for(let n=p.length-1;n>=0;n--)if(p[n].divId===i){r.debugging.message("Removing "+i+" from tpdSlots to stop refresh."),p.splice(n,1);return}}if(-1!==t.indexOf("Change refresh on ")){let a=t.match(/Change refresh on ([^ ]+) to ([0-9]+) seconds/);if(!a||!m(a)||3!==a.length)return;let s=a[1],o=y(a[2]);for(let d=p.length-1;d>=0;d--)if(p[d].divId===s){r.debugging.message("Updating refresh time for "+s+" to "+o),p[d].rl=o;return}}if(-1!==t.indexOf("Fire fallback tag for ")){let l=t.replace("Fire fallback tag for ","");l=l.trim(),r.debugging.message("Firing fallback tag for "+l),r.fallbackTags.fullHandle({divId:l});return}},!1),(g={makeAdFrame:function(e,i){var n="ad_iframe_"+e,r=t.getElementById(n);r&&r.remove();var a=t.createElement("iframe");return a.id=n,a.setAttribute("FRAMEBORDER","0"),a.setAttribute("SCROLLING","no"),a.setAttribute("MARGINHEIGHT","0"),a.setAttribute("MARGINWIDTH","0"),a.setAttribute("TOPMARGIN","0"),a.setAttribute("LEFTMARGIN","0"),a.setAttribute("ALLOWTRANSPARENCY","true"),a.setAttribute("WIDTH","0"),a.setAttribute("HEIGHT","0"),!0===i&&a.setAttribute("data-google-query-id","trigger-query-id"),a},getRelationshipCategory:function(){return tpdPublisherData.hasOwnProperty("generalData")&&"object"==typeof tpdPublisherData.generalData?tpdPublisherData.generalData.relationship_category:null},regenerateAllAds:function(t=!0,i=null){if(void 0===e.tpd.adRequestTime){console.warn("[TPD] Invoked page change handler before main run-time complete, aborting..."),"function"==typeof i&&i();return}try{let n=[];if(!0===t)for(let a=0,s=p.length;a<s;a++)!0!==p[a].re&&n.push(p[a].divId);let o=[];for(let d=0,l=p.length;d<l;d++)!(!p[d].slot||n.includes(p[d].divId))&&o.push(p[d].slot);let c=[];for(let u=0,g=o.length;u<g;u++)c.push(o[u]);googletag.destroySlots(c);for(let f=0,h=p.length;f<h;f++)!n.includes(p[f].divId)&&(p[f].slot=null);var m=pbjs.adUnits;for(let b=0,y=m.length;b<y;b++)!("object"!=typeof m[b]||n.includes(m[b].code))&&pbjs.removeAdUnit(m[b].code);for(let $=0,v=p.length;$<v;$++){if(n.includes(p[$].divId))continue;let S=document.querySelector("#"+p[$].divId+' > [id*="fallback-"]');S&&S.remove()}r.adapters.includes("gumgum")&&r.bottomSticky.vendorAssetWipers.gumgum(),e.tpdSlots=e.tpdSlotsClone;for(let I=0,k=e.tpdSlots[I].length;I<k;I++)n.includes(e.tpdSlots[I].divId)&&(e.tpdSlots[I].re=!1);e.tpdSlotsClone=e.tpd.helpers.cloneArr(p);for(let T=0,P=p.length;T<P;T++)!n.includes(p[T].divId)&&(p[T].domEle=null);r.slotManagement.scanDomEles();let _=!0;for(let O=0,w=p.length;O<w;O++)if(!(!p[O].active||!p[O].domEle||n.includes(p[O].divId))){_=!1;break}if(!0===_){"function"==typeof i&&i();return}!function(){try{let e=pbjs.adUnits;if(0===e.length)return;pbjs.removeAdUnit()}catch(t){console.warn("[TPD] Error wiping prebid units : "+t)}}();for(let A=0,x=p.length;A<x;A++)n.includes(p[A].divId)&&(p[A].active=!1);r.prebid.createAdUnits(),r.prebid.listeners(),r.gpt.defineAllSlots(),r.gpt.targeting();let C=[];for(let D=0,E=p.length;D<E;D++)!(!p[D].active||!p[D].domEle||n.includes(p[D].divId))&&C.push(p[D]);r.auction.initial(C,function(){!0===r.amazona9.enabled&&apstag.setDisplayBids(),pbjs.setTargetingForGPTAsync();var t=googletag.pubads().getSlots();if(e.oVa&&"object"==typeof e.oVa)for(let a=0,s=t.length,o;a<s;a++)o=t[a].getSlotElementId(),!n.includes(o)&&e.oVa.hasOwnProperty(o)&&t[a].setTargeting("optimera",e.oVa[o]);for(let d=0,l=t.length,c;d<l;d++)c=t[d].getSlotElementId(),!n.includes(c)&&googletag.display(c);let u=[],g=[];for(let f=0,h=p.length;f<h;f++)!(!p[f].slot||n.includes(p[f].divId))&&g.push(p[f].slot);for(let m=0,b=g.length;m<b;m++)!n.includes(g[m].getSlotElementId())&&u.push(g[m]);if(!0===r.googletagSettings.disableInitialLoad&&(r.gpt.events.preGptRefresh(u),googletag.pubads().refresh(u)),e.tpd.hasOwnProperty("refreshLoop")&&"number"==typeof e.tpd.refreshLoop.loop){for(let y=0,$=p.length;y<$;y++)!n.includes(p[y].divId)&&(p[y].rt=0,p[y].rc=1);clearInterval(e.tpd.refreshLoop.loop),r.refreshLoop.start(null),"function"==typeof i&&i()}},!1)}catch(B){console.warn("[TPD] Error on invocation of regenerateAllAds : "+B)}},removeElementById:handleCustomPreDomComplete:handleCustomPostDomComplete:function(){"function"==typeof r.customPostDomComplete&&this.afterDomContentLoaded(r.customPostDomComplete)},assignTopLevelFunctions:function(e,t){if(r.hasOwnProperty(e))for(let i in t)r[e].hasOwnProperty(i)||(r[e][i]=t[i]);else r[e]=r[e]||{},r[e]=b(r[e],t)},scriptInPage:function(e){return!!t.querySelector(`script[ src*="${e}" ]`)},tpdPublisherDataValidation(e,t=[]){if(!tpdPublisherData.hasOwnProperty(e))return!1;if(0===t.length)return!0;let i=tpdPublisherData[e];for(let n=0,r=t.length,a;n<r;n++){if("="===(a=t[n])[0]&&i!==a[1])return!1;if("in"===a[0]&&!a[1].includes(i))return!1;if("type"===a[0]){if("array"===a[1]){if(!m(i))return!1}else if(typeof i!==a[1])return!1}else if(">a"===a[0]&&(!m(i)||0===i.length))return!1}return!0},loadExtensions:function(){(function(){if(!r.hasOwnProperty("galleryAds"))return;let e=r.galleryAds;if(e.hasOwnProperty("enabled")&&!0===e.enabled&&m(e.slots)&&0!==e.slots.length)t.querySelector(".ag-front-ad-item")&&r.helpers.loadScript("https://cdn.tpdads.com/ext/dist/gallery.min.js")})(),t.querySelector(".pickup-js-prop-picker")&&r.helpers.loadScript("https://cdn.tpdads.com/ext/dist/fanpower.min.js")},handleAdditionalCssAndJs:function(){if(tpdPublisherData.hasOwnProperty("additionalCss")&&"string"==typeof tpdPublisherData.additionalCss&&tpdPublisherData.additionalCss.length>0){r.helpers.addCssToPageFromStr(tpdPublisherData.additionalCss,"tpd-additional-site-styles");return}},applyDataOverrides:function(){if("object"==typeof tpdPublisherDataOverrides)for(let e in tpdPublisherData)tpdPublisherDataOverrides.hasOwnProperty(e)&&typeof tpdPublisherData[e]==typeof tpdPublisherDataOverrides[e]&&m(tpdPublisherData[e])===m(tpdPublisherDataOverrides[e])&&(tpdPublisherData[e]=tpdPublisherDataOverrides[e])},inject:function(e,i,n){let r=t.querySelector(i);r&&("As First Child"===n?r.insertBefore(e,r.firstChild):"As Last Child"===n?r.appendChild(e):"Before"===n?r.parentElement.insertBefore(e,r):"After"===n&&r.parentElement.insertBefore(e,r.nextElementSibling))},addCssToPageFromStr:function(e,i){var n=t.createElement("style");(t.head||t.getElementsByTagName("head")[0]).appendChild(n),n.type="text/css",void 0!==i&&(n.id=i),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e))},afterDomContentLoaded:afterPageFullyLoaded:function(i){"complete"!==t.readyState?e.addEventListener("load",i):i()},addSlotSpecificCss:function(){var t="";if(m(p)){for(let i=0,n=p.length;i<n;i++)!0===p[i].active&&p[i].hasOwnProperty("css")&&"string"==typeof p[i].css&&(t+=p[i].css);"string"==typeof t&&t.length>0&&e.tpd.helpers.addCssToPageFromStr(t,"tpd-slot-specific-css")}},isItemInArray:function(e,t){for(let i=0,n=e.length;i<n;i++)if(e[i][0]===t[0]&&e[i][1]===t[1])return!0;return!1},stopAllRefreshing:function(){for(let e=0,t=p.length;e<t;e++)p[e].re=!1},stopRefreshByDivId:function(e){for(let t=0,i=p.length;t<i;t++)if(p[t].divId===e){p[t].re=!1;break}},sizeArrToStr:function(e){return m(e)&&2===e.length?e[0]+"x"+e[1]:null},sizeStrToArr:function(e){if("string"!=typeof e||!e.includes("x"))return null;let t=e.split("x");return[y(t[0]),y(t[1])]},cloneObj:cloneArr:createNewAds:function(t,i,n=null){for(let s=0,o=t.length,d;s<o;s++){d=null;for(let l=0,p=i.length,u=!1;l<p&&!0!==u;l++)if(t[s].slotId===i[l].divId){d=this.cloneObj(i[l]);try{if("Custom HTML"===d.tt&&"string"==typeof d.chc&&d.chc.length>0){r.slotManagement.processCustomHtmlTagType(t[s].divId,d.tt,d.chc),u=!0;continue}}catch(g){console.error("[TPD] Error checking tag type for slot at index "+s+g)}d.divId=t[s].divId,d.domEle=t[s].ele,d.active=!0,d.slot=null,d.rt=1,d.refreshed=!1,d.prebid=this.cloneObj(d.prebid),d.prebid.code=t[s].divId,r.refreshLoop.inViewObserver&&r.refreshLoop.inViewObserver.observe(d.domEle),i.push(d),t[s].slotObj=d}}for(let f=t.length-1,h;f>=0;f--)(h=t[f].slotObj)&&(h.isMobile||!a)&&(h.isDesktop||a)||t.splice(f,1);!function(t){var i=[],a=[],s=[];let o=e.oVa&&"object"==typeof e.oVa;for(let d=0,l=t.length,p,u,g;d<l;d++){p=t[d].slotObj,t[d].slotObj.slot=googletag.defineSlot(p.id,r.gpt.getAppropriateSizesForSlot(p),p.divId).setTargeting("position",t[d].slotId).setTargeting("refreshcount","1").setTargeting("refresh","false").addService(googletag.pubads());try{o&&e.oVa.hasOwnProperty(p.divId)&&t[d].slotObj.slot&&t[d].slotObj.slot.setTargeting("optimera",e.oVa[p.divId])}catch(f){}if(!0===googletag.pubadsReady&&r.gpt.shareTargetingWithSlotCreatedAfterEnableServices(p.slot),p.prebid.bids=p.prebid.bids.slice(),g=r.prebid.makeDuplicateSlotsIfNeeded(r.helpers.cloneObj(p.prebid)),(u=[]).push(g.original),g.new.length>0)for(let h=0,b=g.new.length;h<b;h++)u.push(g.new[h]);if(c.addAdUnits(u),i.push(p.slot),a.push(p.divId),!0===r.amazona9.enabled){var y=r.amazona9.generateSlotData([t[d].slotObj]);y&&1===y.length&&(y[0].hasOwnProperty("sizes")&&y[0].sizes.length>0||y[0].hasOwnProperty("multiFormatProperties")&&y[0].multiFormatProperties.hasOwnProperty("display")&&y[0].multiFormatProperties.display.hasOwnProperty("sizes")&&y[0].multiFormatProperties.display.sizes.length>0)&&s.push(y[0])}}!0!==googletag.pubadsReady&&(r.gpt.mainSettings(),r.gpt.listeners(),r.gpt.targeting(),googletag.enableServices()),function(e,t,i){if(r.amazona9.enabled&&m(e)&&e.length>0){var a=!1,s=!1;apstag.fetchBids({timeout:r.initialTimeout,slots:e},function(){a=!0,s&&(c.setTargetingForGPTAsync(t),apstag.setDisplayBids(),r.gpt.events.preGptRefresh(i),googletag.pubads().refresh(i),"function"==typeof n&&n())}),c.requestBids({adUnitCodes:t,timeout:r.initialTimeout,bidsBackHandler:function(){s=!0,a&&(c.setTargetingForGPTAsync(t),apstag.setDisplayBids(),r.gpt.events.preGptRefresh(i),googletag.pubads().refresh(i),"function"==typeof n&&n())}})}else try{c.requestBids({adUnitCodes:t,timeout:r.initialTimeout,bidsBackHandler:function(){if(c.setTargetingForGPTAsync(t),!0===r.gamLessAuction)for(let e=0,a=t.length;e<a;e++)r.slotManagement.renderGamLessAds(t[e]);else r.gpt.events.preGptRefresh(i),googletag.pubads().refresh(i);"function"==typeof n&&n()}})}catch(o){r.debugging.warning("[TPD] Prebid auction failed, proceeding without it"),r.gpt.events.preGptRefresh(i),googletag.pubads().refresh(i),"function"==typeof n&&n()}}(s,a,i)}(t)},createNewAdFromDivIdAndDomEle:function(e,t,i){m(i)||(i=p);for(let n=0,s=p.length;n<s;n++)if(p[n].divId===e&&!0===p[n].active)return;var o=null;for(let d=0,l=u.length;d<l;d++)if(u[d].divId===e&&(u[d].isMobile&&a||u[d].isDesktop&&!a)){(o=u[d]).domEle=t,o.slot=null,o.rt=1,o.refreshed=!1;break}if(null===o)return!1;o.slot=googletag.defineSlot(o.id,o.bannerSizes,o.divId).setTargeting("position",o.divId).setTargeting("refreshcount","1").setTargeting("refresh","false").addService(googletag.pubads()),c.addAdUnits([o.prebid]),p.push(o),u.push(o),r.auction.refresh(o.divId,o.slot)},addPreconnect:function(e,i){var n=t.createElement("link");n.rel="dns-prefetch preconnect",n.href=e,n.setAttribute("crossorigin",""),void 0!==i&&i||(i=t.head),i&&i.appendChild(n)},loadScript:function(e,i=!0,n=null,r=null,a=null,s=null){let o=t.createElement("script");if(o.src=e,o.async=!0,"function"==typeof r&&o.addEventListener("load",r),a&&(o.id=a),"object"==typeof s)for(let d in s)o.setAttribute(d,s[d]);n||(n=t.head),n&&n.appendChild(o)},handleTeadsCookielessTag:function(){"object"==typeof r.bidderConfig&&"object"==typeof r.bidderConfig.teads&&!0===r.bidderConfig.teads.enabled&&(e.teads_analytics=e.teads_analytics||{},e.teads_analytics.analytics_tag_id="PUB_9881",e.teads_analytics.share=e.teads_analytics.share||r.helpers.loadScript("https://a.teads.tv/analytics/tag.js"))},defineBridMacrosObjectIfNeeded:function(){if(!0!==(!!t.querySelector('script[src*="brid"]')||r.thirdPartyTags.aBridTagIsActive()))return;let i={},n=googletag.pubads().getTargetingKeys();if(n.length>0)for(let a=0,s=n.length,o,d;a<s;a++)o=n[a],d=googletag.pubads().getTargeting(o),o.includes("m_")&&(o=o.replace("m_","M")),i[o]=d.join(",");e.bridMacros=e.bridMacros||{},e.bridMacros=b(e.bridMacros,i)},shouldSuppressAds:function(){if(tpdPublisherData.hasOwnProperty("privacyPolicyLink")&&"string"==typeof tpdPublisherData.privacyPolicyLink&&tpdPublisherData.privacyPolicyLink.length>s.length+5&&o.includes(tpdPublisherData.privacyPolicyLink))return{suppressing:!0,suppressionMethod:"Full"};if(!tpdPublisherData.hasOwnProperty("adSuppressionRules"))return!1;let e=tpdPublisherData.adSuppressionRules;if(!m(e)||0===e.length)return!1;let t=!1,i="Full";for(let n=0,r=e.length,a;n<r;n++)("Url Is"===(a=e[n]).type&&a.value===o||"Url Contains"===a.type&&o.includes(a.value))&&(t=!0,e[n].hasOwnProperty("suppression_method")&&["Full","Fallback Tags","Full Incl. Third Party"].includes(a.suppression_method)&&(i=a.suppression_method));return{suppressing:t,suppressionMethod:i}},wipeOutbrainUnits:function(){let e=t.querySelectorAll('[id^="tpd-outbrain-div"], .OUTBRAIN');if(0!==e.length)for(let i=0,n=e.length;i<n;i++)e[i].remove()},wipePubexchangeUnits:function(){let e=t.querySelectorAll(".pubexchange_module");if(0!==e.length)for(let i=0,n=e.length;i<n;i++)e[i].remove()},geoBlocking(e){if(!r.helpers.tpdPublisherDataValidation("countryBlocks",[[">a"]])){e();return}this.geoTracking(function(){if(r.geoLocation&&r.geoLocation.country&&tpdPublisherData.countryBlocks.includes(r.geoLocation.country)){r.helpers.wipeOutbrainUnits();return}e()})},geoTracking:function(e){if(!tpdPublisherData.hasOwnProperty("geotrackingEnabled")||!0!==tpdPublisherData.geotrackingEnabled||"object"==typeof r.geoLocation){e();return}try{fetch("https://get.geojs.io/v1/ip/geo.json").then(.then(function(e){r.geoLocation=r.geoLocation||{};let t=e.country_code,i=e.region;i=function e(t){let i={arizona:"AZ",alabama:"AL",alaska:"AK",arkansas:"AR",california:"CA",colorado:"CO",connecticut:"CT","district of columbia":"DC",delaware:"DE",florida:"FL",georgia:"GA",hawaii:"HI",idaho:"ID",illinois:"IL",indiana:"IN",iowa:"IA",kansas:"KS",kentucky:"KY",louisiana:"LA",maine:"ME",maryland:"MD",massachusetts:"MA",michigan:"MI",minnesota:"MN",mississippi:"MS",missouri:"MO",montana:"MT",nebraska:"NE",nevada:"NV","new hampshire":"NH","new jersey":"NJ","new mexico":"NM","new york":"NY","north carolina":"NC","north dakota":"ND",ohio:"OH",oklahoma:"OK",oregon:"OR",pennsylvania:"PA","rhode island":"RI","south carolina":"SC","south dakota":"SD",tennessee:"TN",texas:"TX",utah:"UT",vermont:"VT",virginia:"VA",washington:"WA","west virginia":"WV",wisconsin:"WI",wyoming:"WY","american samoa":"AS",guam:"GU","northern mariana islands":"MP","puerto rico":"PR","us virgin islands":"VI","us minor outlying islands":"UM"};if("string"!=typeof t)return null;let n=t.trim().replace(/[^\w ]/g,"").toLowerCase();return null!==i[n]?i[n]:null}(i),t&&(r.geoLocation.country=t),i&&(r.geoLocation.region=i)}).catch(.finally(function(){e()})}catch(t){console.warn("[TPD] Geolocation error: "+t)}}}).assignTopLevelFunctions("helpers",g),r.helpers.assignTopLevelFunctions("bottomSticky",{config:{},xButtonApplied:!1,configToXButtonVersionTranslator:{none:"none",regular:"basic-right","tabbed-logo":"tabbed-with-logo-left"},supportedXButtonVersions:{dsk:["none","basic-left","basic-right","tabbed-with-logo-left","tabbed-with-logo-right",],mob:["none","basic-left","basic-right",]},run:function(){if(!0===this.processSettings()){if(this.config=!0===a?r.bottomStickyBanner.mob:r.bottomStickyBanner.dsk,delete r.bottomStickyBanner,!0===this.config.enabled){this.addCss(),this.addGoogletagListenerForRefreshAndAssetManagement(),!1===a&&this.runReportThisAdIntegration(),this.addGoogletagListener();try{this.addPrebidListeners()}catch(e){r.debugging.error("Error attaching bottom sticky prebid event listeners.",e)}!0===this.config.inject&&this.inject(),this.buildContainer()}}},addPrebidListeners:function(){r.prebid.clearListeners(["bottomStickySpecialBidderWinner"]);var e=function(e){if(e.adUnitCode!==r.bottomSticky.getDivIdIfActive())return;let t=e.bidderCode;(r.bottomSticky.biddersToStopRefreshFor.includes(t)||r.bottomSticky.biddersToHideAssetsFor.includes(t))&&(r.bottomSticky.previousSpecialBidderWinner=t)};c.onEvent("bidWon",e),r.prebid.activeListeners.push({label:"bottomStickySpecialBidderWinner",event:"bidWon",f:e})},getDivIdIfActive:function(){return!0!==this.config.enabled?null:this.config.divId},processSettings:function(){if("object"!=typeof r.bottomStickyBanner)return!1;let e=a?"mob":"dsk",t=r.bottomStickyBanner[e];if(!t||!t.enabled)return!1;let i=["DesktopXButton","DesktopBackgroundColor","MobileXButton","MobileBackgroundColor",];for(let n=0,s=i.length;n<s;n++)if(!tpdPublisherData.hasOwnProperty("bottomStickyBanner"+i[n]))return!1;let o,d;return a?(o=tpdPublisherData.bottomStickyBannerMobileXButton,d=tpdPublisherData.bottomStickyBannerMobileBackgroundColor):(o=tpdPublisherData.bottomStickyBannerDesktopXButton,d=tpdPublisherData.bottomStickyBannerDesktopBackgroundColor),!!this.supportedXButtonVersions[e].includes(o)&&(r.bottomStickyBanner[e].xButtonVersion=o,r.bottomStickyBanner[e].backgroundColor=d,!0)},wipeVendorAssets:function(){this.vendorAssetWipers.hasOwnProperty(this.previousSpecialBidderWinner)&&this.vendorAssetWipers[this.previousSpecialBidderWinner](),this.previousSpecialBidderWinner=null},vendorAssetWipers:{infolinks:function(){let e=document.querySelectorAll('[id*="IL_"]');if(0!==e.length)for(let t=0,i=e.length;t<i;t++)e[t].remove()},gumgum:function(){try{if("object"!=typeof e.GUMGUM)return!1;let t=window.GUMGUM;if(!t.hasOwnProperty("removeISAd")||"function"!=typeof t.removeISAd)return!1;for(let i in t)if(i.includes("ad_is")&&t[i].hasOwnProperty("productPrefix")&&"inscreen"===t[i].productPrefix)return t.removeISAd(),!0;return!1}catch(n){console.log("[TPD] Error wiping GumGum in-screen element "+n)}}},previousSpecialBidderWinner:null,biddersToStopRefreshFor:["kargo","justpremium","undertone","trion",],biddersToHideAssetsFor:["kargo","gumgum","justpremium","undertone","trion","ogury",],assetsHidden:!1,hideAssets:function(e){!0!==this.assetsHidden&&(this.assetsHidden=!0,r.helpers.addCssToPageFromStr("#tpd-light-x-button,#tpd-x-button-svg,#reportAdWrapper,#tpd-logo-container {display: none !important;}#tpd-bottom-sticky,#"+e+"{background-color: unset !important;}","tpd-hide-sticky-banner-assets"))},showAssets:function(){if(!1===this.assetsHidden)return;this.assetsHidden=!1;let e=document.getElementById("tpd-hide-sticky-banner-assets");e&&e.remove()},addGoogletagListenerForRefreshAndAssetManagement:function(){var e;e=this.config.divId,googletag.pubads().addEventListener("slotRenderEnded",function(t){if(t.isEmpty){r.bottomSticky.wipeVendorAssets();return}let i=t.slot;if(i.getSlotElementId()!==e)return;let n=i.getHtml();if(!n.includes("cdn.tpdads.com/puc/")){r.bottomSticky.showAssets(),r.bottomSticky.wipeVendorAssets();return}let a=n.match(/\"hb_bidder\"\:\[\"([^\"]+)\"\]/);if(!a||2!==a.length){r.bottomSticky.wipeVendorAssets();return}if(a&&2===a.length){let s=a[1];r.bottomSticky.biddersToStopRefreshFor.includes(s)&&(r.helpers.stopRefreshByDivId(e),r.bottomSticky.previousSpecialBidderWinner=s),"gumgum"===s&&setTimeout(function(){let t=null,i=window.GUMGUM;if("object"==typeof i)for(let n in i)n.includes("ad_is_")&&i[n].hasOwnProperty("closebtn")&&i[n].closebtn&&(t=i[n].closebtn);t||(t=document.querySelector('img[src*="https://c.gumgum.com/ads/com/gumgum/icons/svg/close_dark.svg"], img[src*="https://c.gumgum.com/ads/com/gumgum/close/close_rtb.svg"]')),t&&t.addEventListener("click",},3e3),r.bottomSticky.biddersToHideAssetsFor.includes(s)?(r.bottomSticky.hideAssets(e),r.bottomSticky.previousSpecialBidderWinner=s):(r.bottomSticky.showAssets(e),r.bottomSticky.wipeVendorAssets())}})},wipe:function(){let e=["tpd-logo-container",r.bottomSticky.config.divId,"tpd-bottom-sticky",];for(let t=0,i=e.length;t<i;t++)r.helpers.removeElementById(e[t]);r.helpers.stopRefreshByDivId(r.bottomSticky.config.divId)},hide:function(){let e=["tpd-logo-container",r.bottomSticky.config.divId,"tpd-bottom-sticky",];for(let i=0,n=e.length,a;i<n;i++)(a=t.getElementById(e[i]))&&(a.style.visibility="hidden")},addGoogletagListenerForTabbedLogo:function(){var e;e=this.config.divId,googletag.pubads().addEventListener("impressionViewable",function(i){i.slot.getSlotElementId()===e&&!0!==r.xButtonApplied&&(r.xButtonApplied=!0,setTimeout(function(){var e=t.getElementById("tpd-logo-container");if(e){let i=t.createElement("div");i.id="tpd-x-button-svg",i.addEventListener("click",r.bottomSticky.wipe);let n=t.createElement("img");n.src="https://cdn.tpdads.com/images/tabbed-logo-x-button.svg",n.alt="X-Out Banner Advertisement",i.appendChild(n),e.appendChild(i)}},3e3))})},addGoogletagListenerForBasic:function(){var e;e=this.config.divId,googletag.pubads().addEventListener("impressionViewable",function(i){i.slot.getSlotElementId()===e&&setTimeout(function(){let i=t.getElementById(e);if(!i)return;let n=t.createElement("img"),a={id:"tpd-light-x-button",src:"https://cdn.tpdads.com/images/lightXButton.png",alt:"The Publisher Desk X Button to Close Sticky Ad",width:"32px",height:"32px",loading:"lazy",decoding:"async"};for(let s in a)n.setAttribute(s,a[s]);n.onclick=r.bottomSticky.wipe,i.appendChild(n)},3e3)})},addGoogletagListener:function(){let e=this.config.xButtonVersion;if(["tabbed-with-logo-left","tabbed-with-logo-right",].includes(e)){this.addGoogletagListenerForTabbedLogo();return}if(["basic-left","basic-right",].includes(e)){this.addGoogletagListenerForBasic();return}},addCss:function(){let e="999999";a&&tpdPublisherData.hasOwnProperty("generalData")&&tpdPublisherData.generalData&&1===tpdPublisherData.generalData.is_tpd_theme&&(e="98");let t=".tpd-bottom-sticky{position:fixed;z-index:"+e+";bottom:0;top:auto;left:0;width:100%;text-align:center;";a?t+="min-height: 50px;":t+="min-height: 90px;",t+="background-color:"+this.config.backgroundColor+";}";let i=this.config.xButtonVersion;if(["tabbed-with-logo-left","tabbed-with-logo-right",].includes(i))t+="#tpd-x-button-svg{fill:grey;stroke:grey}",t+="#tpd-x-button-svg>img{vertical-align:baseline}",t+="#tpd-x-button-svg:hover{stroke-width:3;fill:#000;stroke:#000}",t+="#tpd-logo-img{position:absolute;cursor:pointer;width:143px;height:30px;bottom:auto}",t+="#tpd-x-button-svg{width:20px;height:20px;display:inline-block;cursor:pointer;position:absolute;border-radius:0 5px 0 0;top:4px}",t+="#tpd-logo-container{border-radius:10px 10px 0 0;bottom:-20px;position:absolute;bottom:auto;display:inline-block;top:-30px;width:173px;height:30px;background-color:"+this.config.backgroundColor+"}","tabbed-with-logo-left"===this.config.xButtonVersion?t+="#tpd-logo-container{left:0}#tpd-logo-img{left:30px;right:auto}#tpd-x-button-svg{left:7px}":t+="#tpd-logo-container{right:0}#tpd-logo-img{left:auto;right:30px}#tpd-x-button-svg{right:7px}";else if(["basic-left","basic-right",].includes(i)){let n;n="basic-left"===this.config.xButtonVersion?"left:5px;":"right:5px;",t+="#tpd-light-x-button{cursor:pointer;position:absolute;",t+=n,t+="top:5px;z-index:99999999;}"}r.helpers.addCssToPageFromStr(t)},inject:function(){var e=t.createElement("div");e.id=this.config.divId,t.body.appendChild(e)},buildContainer:function(){let e=this.config.divId,i=this.config.xButtonVersion;if(["tabbed-with-logo-left","tabbed-with-logo-right",].includes(i)){var n=t.getElementById(e);if(!n)return;var r=t.createElement("div");r.id="tpd-bottom-sticky",r.classList.add("tpd-bottom-sticky");var a=t.createElement("img");let s={id:"tpd-logo-img",src:"https://cdn.tpdads.com/images/pd-logo-v7.png",width:"143px",height:"30px",loading:"lazy",decoding:"async",rel:"noopener",alt:"The Publisher Desk Logo Horizontal 143x30",onclick:'window.open("https://www.publisherdesk.com?r=" + window.location.host, "_blank")'};for(let o in s)a.setAttribute(o,s[o]);var d=t.createElement("div");d.id="tpd-logo-container",d.appendChild(a),n.parentElement.appendChild(r),r.appendChild(n),r.appendChild(d)}else if(["none","basic-left","basic-right"].includes(i)){for(let l=0,c=p.length,u;l<c;l++)if(p[l].divId===e){(u=p[l].domEle)?u.classList.add("tpd-bottom-sticky"):(u=t.getElementById(e))&&u.classList.add("tpd-bottom-sticky");break}}},runReportThisAdIntegration:function(){try{if(!r.helpers.tpdPublisherDataValidation("bottomStickyBannerDesktopReportThisAd",[["=",!0]]))return;r.helpers.loadScript("https://cdn.tpdads.com/report-this-ad.min.js")}catch(e){r.debugging.error("Error running report this ad integration",e)}}}),r.helpers.assignTopLevelFunctions("topSticky",{addPrebidListener:function(){},addCss:function(){},run:function(){}}),r.helpers.assignTopLevelFunctions("thirdPartyTags",{isActiveByName:function(e){let t=tpdPublisherData.thirdPartyTags;if(!m(t))return!1;for(let i=0,n=t.length;i<n;i++)if("object"==typeof t[i]&&t[i].type===e)return!0;return!1},aBridTagIsActive:setBrowsiSlotLevelTargetingPopulation:function(){e.addEventListener("tpd:preGptRefresh",function(t){if(!t||!t.detail||!t.detail.slots)return;let i=["position","refreshcount","refresh",];e.browsiSlotLevelTargeting=e.browsiSlotLevelTargeting||{};let n=t.detail.slots;for(let r=0,a=n.length,s,o;r<a;r++)for(let d in s=n[r].getSlotElementId(),e.browsiSlotLevelTargeting[s]=e.browsiSlotLevelTargeting[s]||{},o=n[r].getTargetingMap())i.includes(d)&&(e.browsiSlotLevelTargeting[s][d]=o[d])})},thirdPartyTagsBatches:{one:function(){r.thirdPartyTags.handleThirdPartyTags(["Comscore","Quantcast","Quantcast Choice","Optimon","AppNexus Audience Segment Pixel","Outbrain Time on Site Tracking","Optimera","Blockthrough","Wunderkind","Taboola Conversion Tracking",]),"object"==typeof window.bridMacros?(r.thirdPartyTags.firedBridTagsPreDom=!0,r.thirdPartyTags.handleThirdPartyTags(["Brid - In-Slide - Basic","Brid - In-Slide - Basic - Dynamic Playlist","Brid - In-Slide - w/ Prebid - Pre-Roll and Midroll",])):r.thirdPartyTags.firedBridTagsPreDom=!1},two:function(){!1===r.thirdPartyTags.firedBridTagsPreDom&&r.thirdPartyTags.handleThirdPartyTags(["Brid - In-Slide - Basic","Brid - In-Slide - Basic - Dynamic Playlist","Brid - In-Slide - w/ Prebid - Pre-Roll and Midroll",])},three:,handleThirdPartyTags:function(e=null){if(r.helpers.tpdPublisherDataValidation("thirdPartyTags")){var t=tpdPublisherData.thirdPartyTags;if(m(t)&&0!==t.length){var i={Comscore:{c1:"string",c2:"string"},Quantcast:{pCode:"string"},"Quantcast Choice":{pCode:"string"},"Brid - In-Slide - Basic":{playerId:"string",playlistId:"string"},"Brid - In-Slide - Basic - Dynamic Playlist":{playerId:"string",mode:"string"},Optimon:{},"AppNexus Audience Segment Pixel":{add:"string",t:"string"},"Outbrain Time on Site Tracking":{OB_ADV_ID:"string",site:"string"},Optimera:{cid:"string"},Blockthrough:{},"GumGum - In Image":{zone:"string",disableOnMobile:"string",disableOnDesktop:"string"},"GumGum - In Image - WordPress":{zone:"string",postIds:"string"},Wunderkind:{tagId:"string"},"Taboola Conversion Tracking":{id:"string"}};for(let n=0,a=t.length,s,o,d;n<a;n++){if(o=(s=t[n]).type,!("object"!=typeof(d=s.attributes)||"string"!=typeof o||m(e)&&!e.includes(o)||s.hasOwnProperty("fired")&&!0===s.fired)&&i.hasOwnProperty(o)){var l=!0,c=i[o];if("object"==typeof c&&Object.keys(c).length>0)for(let p in c)d.hasOwnProperty(p)&&typeof d[p]===c[p]&&d[p]||(l=!1);if(!0===l){try{r.thirdPartyTags.tagHandlers[o](d)}catch(u){r.debugging.error("Third party tag error for "+o,u)}s.fired=!0}}}}}},tagHandlers:{Wunderkind:"Taboola Conversion Tracking":function(e){let i=e.id;window._tfa=window._tfa||[],window._tfa.push({notify:"event",name:"page_view",id:y(i)});var n,r,a,s="tb_tfa_script";n=t.createElement("script"),r=t.getElementsByTagName("script")[0],a="https://cdn.taboola.com/libtrc/unip/"+i+"/tfa.js",t.getElementById(s)||(n.async=1,n.src=a,n.id=s,r.parentNode.insertBefore(n,r))},"GumGum - In Image - WordPress":function(i){if("/"===e.location.pathname)return;let n=i.zone,a=i.postIds;a=a.split("\n");let s=!1;for(let o=0,d=a.length;o<d;o++)if(t.body.classList.contains("postid-"+a[o])){s=!0;break}if(!s)return;let l=t.querySelectorAll('[ id^="Brid_"] img, [ id^="Brid_"] [ style*="background-image"]');if(l&&l.length>0)for(let c=0,p=l.length;c<p;c++)l[c].classList.contains("ggnoads")||l[c].classList.add("ggnoads");e.ggv2id=n,r.helpers.loadScript("https://js.gumgum.com/services.js")},"GumGum - In Image":function(i){if("/"===e.location.pathname)return;let n=i.zone,s=i.dontShowOnImagesWithSelector,o=i.onlyShowOnImagesWithSelector,d="Yes"===i.disableOnMobile,l="Yes"===i.disableOnDesktop;if(d&&a||l&&!a)return;let c='[ id^="Brid_"] img, [ id^="Brid_"] [ style*="background-image"]';if("string"!=typeof s?s=c:s+=", "+c,"string"==typeof s){let p=t.querySelectorAll(s);if(p&&p.length>0)for(let u=0,g=p.length;u<g;u++)p[u].classList.contains("ggnoads")||p[u].classList.add("ggnoads")}if("string"==typeof o){let f=t.querySelectorAll("img:not( "+o+" )");if(f&&f.length>0)for(let h=0,m=f.length;h<m;h++)f[h].classList.contains("ggnoads")||f[h].classList.add("ggnoads")}e.ggv2id=n,r.helpers.loadScript("https://js.gumgum.com/services.js")},Comscore:function(t){e._comscore=e._comscore||[],e._comscore.push({c1:t.c1,c2:t.c2}),r.helpers.loadScript("https://sb.scorecardresearch.com/cs/"+t.c2+"/beacon.js")},Quantcast:function(t){e._qevents=window._qevents||[],e._qevents.push({qacct:t.pCode}),r.helpers.loadScript("https://secure.quantserve.com/quant.js")},Blockthrough:function(){r.helpers.loadScript("https://btloader.com/tag?o=5683568903192576&upapi=true")},"Quantcast Choice":function(e){let i=e.pCode.replace("p-","");var n=t.createElement("script"),r=t.getElementsByTagName("script")[0],a="https://cmp.quantcast.com".concat("/choice/",i,"/",s,"/choice.js?tag_version=V2"),o=0;n.async=!0,n.type="text/javascript",n.src=a,r.parentNode.insertBefore(n,r),!function e(){for(var t,i="__tcfapiLocator",n=[],r=window;r;){try{if(r.frames[i]){t=r;break}}catch(a){}if(r===window.top)break;r=r.parent}t||(),r.__tcfapi=function e(){var t,i=arguments;if(!i.length)return n;if("setGdprApplies"===i[0])i.length>3&&2===i[2]&&"boolean"==typeof i[3]&&(t=i[3],"function"==typeof i[2]&&i[2]("set",!0));else if("ping"===i[0]){var r={gdprApplies:t,cmpLoaded:!1,cmpStatus:"stub"};"function"==typeof i[2]&&i[2](r)}else"init"===i[0]&&"object"==typeof i[3]&&(i[3]=b(i[3],{tag_version:"V2"})),n.push(i)},r.addEventListener("message",function e(t){var i="string"==typeof t.data,n={};try{n=i?JSON.parse(t.data):t.data}catch(r){}var a=n.__tcfapiCall;a&&window.__tcfapi(a.command,a.version,a.parameter)},!1))}();var d=l=if(void 0===window.__uspapi){window.__uspapi=d;var c=setInterval(l,6e3)}},"Brid - In-Slide - Basic":function(i){var n=i.playerId,s=i.playlistId,o=t.createElement("div"),d="Brid_"+Math.ceil(1e7*Math.random(1e7,99999999));o.id=d,o.classList.add("brid"),o.classList.add("tpd-third-party-tag"),r.helpers.scriptInPage("services.brid.tv/player/build/brid.min.js")||r.helpers.loadScript("https://services.brid.tv/player/build/brid.min.js"),t.body.appendChild(o);var l={div:d,obj:{id:n,width:"400",height:"225",playlist:s,inviewBottomOffset:a?"60px":"100px"}};i.hasOwnProperty("stayStickyAttribute")&&"Yes"===i.stayStickyAttribute&&(l.obj.staySticky=!0),e._bp=e._bp||[],e._bp.push(l)},"Brid - In-Slide - Basic - Dynamic Playlist":function(i){if(["latest","tag","shuffle"].includes(i.mode)&&("tag"!==i.mode||i.hasOwnProperty("tagName")&&""!==i.tagName||i.hasOwnProperty("excludeTagName")&&""!==i.excludeTagName)){var n=i.playerId,s=t.createElement("div"),o="Brid_"+Math.ceil(1e7*Math.random(1e7,99999999));s.id=o,s.classList.add("brid"),s.classList.add("tpd-third-party-tag");var d={div:o,obj:{id:n,width:"400",height:"225",inviewBottomOffset:a?"60px":"100px",video_type:"0"}};if("latest"===i.mode&&(d.obj.playlist={id:"0",mode:i.mode}),"shuffle"===i.mode&&(d.obj.playlist={id:"0",mode:"latest",shuffle:!0,items:100},d.obj.shuffle=!0),"tag"===i.mode){var l={mode:"tag"};i.hasOwnProperty("tagName")&&""!==i.tagName&&(l.id=i.tagName),i.hasOwnProperty("excludeTagName")&&""!==i.excludeTagName&&(l.excludeTag=i.excludeTagName),d.obj.playlist=l}i.hasOwnProperty("stayStickyAttribute")&&"Yes"===i.stayStickyAttribute&&(d.obj.staySticky=!0),r.helpers.scriptInPage("services.brid.tv/player/build/brid.min.js")||r.helpers.loadScript("https://services.brid.tv/player/build/brid.min.js"),t.body.appendChild(s),e._bp=e._bp||[],e._bp.push(d)}},Optimon:"AppNexus Audience Segment Pixel":function(e){r.helpers.loadScript("https://secure.adnxs.com/seg?add="+e.add+"&t="+e.t)},"Outbrain Time on Site Tracking":function(i){var n;(function(e,t){var n=i.OB_ADV_ID;if(e.obApi){var a=e.obApi.marketerId=a(e.obApi.marketerId).concat(a(n));return}var s=e.obApi=s.version="1.1",s.loaded=!0,s.marketerId=n,s.queue=[],r.helpers.loadScript("https://amplify.outbrain.com/cp/obtp.js")})(e,t),obApi("track","PAGE_VIEW"),n=i.site,window.onload=function(){setTimeout(function(){obApi("track",n)},2e4)}},Optimera:}),r.helpers.assignTopLevelFunctions("slotManagement",{normalizeDivIdForLookups:function(e){let t=e.match(/([a-z\-]+)-[0-9\-]/);return t&&2===t.length?t[1]:e},renderGamLessAds:function(e=null){if(!0!==r.gamLessAuction)return;var i=googletag.pubads().getSlots(),n=[],a=c.getAllPrebidWinningBids();for(let s=0,d=a.length,l,p,u,g,f,h;s<d;s++)p=(l=a[s]).adUnitCode,(!e||p===e)&&(f=t.getElementById(p))&&(g=r.helpers.makeAdFrame(p,h),u=l.adId,f.appendChild(g),f.style.textAlign="center",c.renderAd(g.contentWindow.document,u),n.push(p));let m=r.bottomSticky.getDivIdIfActive();m&&r.helpers.addCssToPageFromStr("#"+m+' > [id^="ad_iframe_"] { display: block; margin: auto; }');let b=o.includes("tpd-force-fallbacks");if(e){(!n.includes(e)||b)&&r.fallbackTags.fullHandle({divId:e});return}for(let y=0,$=i.length,v,S,I;y<$;y++)if(v=i[y].getSlotElementId(),!n.includes(v)||b){if(!(S=t.getElementById(v)))continue;r.bottomSticky&&r.bottomSticky.config&&!0===r.bottomSticky.config.enabled&&v===r.bottomSticky.config.divId&&(I=t.getElementById("tpd-bottom-sticky"))&&(I.style.display="none"),r.fallbackTags.fullHandle({divId:v})}},cloneSlots:function(){e.tpdSlotsClone=r.helpers.cloneArr(p),u=e.tpdSlotsClone},hasMediaType:function(e,t=null,i=null){if(!t&&!i||(!t&&i&&(t=this.getTpdSlotObjByDivId(i)),!t.hasOwnProperty("mt")||!m(t.mt)))return!1;for(let n=0,r=t.mt.length;n<r;n++)if(t.mt[n].media_type===e)return t.mt[n].enabled;return!1},getObjByDivId:function(e,t=!1){!0===t&&(e=this.normalizeDivIdForLookups(e));for(let i=0,n=tpdPublisherData.slots_full.length;i<n;i++)if(tpdPublisherData.slots_full[i].n===e)return tpdPublisherData.slots_full[i];return null},slotIsATF:function(i,n=null){if(i===r.bottomSticky.getDivIdIfActive()||"oop-ad-a"===i)return!0;if(n||(n=t.getElementById(i)),!n)return null;let a=n.getBoundingClientRect(),s=e.pageYOffset+a.top;return e.innerHeight>s},removeExtraAdSpacingWherePossible:function(){if(tpdPublisherData.hasOwnProperty("generalData")&&tpdPublisherData.generalData&&1===tpdPublisherData.generalData.is_tpd_theme){let e=t.querySelectorAll(".tpd-incontent-ad-container");if(e.length>0)for(let i=0,n=e.length;i<n;i++)e[i].remove();let r=t.querySelector(a?".tpd-banner-mobile":".tpd-banner-desktop"),s=t.querySelector("header.header.sticky");r&&s&&(r.style.display="none",s.style.top="0px");let o=t.getElementById("tpd-post-header-ad");o&&(o.style.display="none")}},tryToAlleviateAdCls:function(){},getMaxAvailableWidthHeightByDivId:function(e){if(void 0===u)return null;e=this.normalizeDivIdForLookups(e);let t=null;for(let i=0,n=u.length;i<n;i++)if(u[i].divId===e){t=u[i];break}if(!t)return null;let r=t.bannerSizes,a=0,s=0;for(let o=0,d=r.length;o<d;o++)r[o][0]>a&&(a=r[o][0]),r[o][1]>s&&(s=r[o][1]);return{maxHeight:s,maxWidth:a}},handleGlobalPrebidIDSettings:function(){if("object"!=typeof tpdPublisherData||"object"!=typeof tpdPublisherData.globalPrebidIdData)return;let e=tpdPublisherData.globalPrebidIdData,t=r.bidderConfig,i=[{k:"tripleliftOutstream",ek:"ronOutstreamEnabled",vks:null},{k:"gumgumOutstream",ek:"gumgumOutstreamEnabled",vks:["gumgumOutstreamId","gumgumOutstreamSlotId"]},{k:"triplelift",ek:"ronEnabled",vks:["ronId"]},{k:"conversant",vks:["siteId"]},{k:"amx",vks:null},{k:"equativ",vks:null},{k:"criteo",vks:null},{k:"vidazoo",vks:null},{k:"vidazooOutstream",ek:"outstreamEnabled"},{k:"eplanning",vks:null},{k:"adagio",vks:["site"]},{k:"browsiRTD",vks:["site_key","pub_key"]},{k:"qortex",vks:["host","zone_id"]},{k:"qortexRTD",vks:["group_id","video_container_id"]},{k:"unruly",vks:["siteId"]},{k:"unruly",ek:"outstreamEnabled",vks:["outstreamSiteId"]},{k:"insticator",vks:["adUnitId"]},{k:"medianet",ek:"displayEnabled",vks:["displayCrid"]},{k:"medianet",ek:"outstreamEnabled",vks:["outstreamCrid"]},{k:"mediafuse",vks:["placementId"]},{k:"minutemedia",vks:["organizationId"]},{k:"ogury",vks:["assetKey","adUnitId"]},{k:"teads",vks:["pageId","placementId"]},];for(let n=0,a=i.length,s,o,d,l;n<a;n++)if(d=(s=i[n]).k,o=s.hasOwnProperty("ek")?s.ek:"enabled",l=s.vks,e[d]&&!0===e[d][o]){if(l){let c=!0;for(let p=0,u=l.length,g;p<u;p++)if(g=l[p],c=!0,"string"!=typeof e[d][g]||""===e[d][g]){c=!1;break}if(!c)continue;t[d]=t[d]||{},t[d][o]=!0;for(let f=0,h=l.length,m;f<h;f++)m=l[f],t[d][m]=e[d][m]}else t[d]=t[d]||{},t[d][o]=!0}if(e.pubmatic&&!0===e.pubmatic.enabled&&"string"==typeof e.pubmatic.slotPrefix){let b="158084";"string"==typeof e.pubmatic.pubId&&(b=e.pubmatic.pubId),t.pubmatic=t.pubmatic||{pubId:b},t.pubmatic.enabled=!0,t.pubmatic.baseSlotName=e.pubmatic.slotPrefix}},handleGlobalRefreshRate:function(){if(!r.helpers.tpdPublisherDataValidation("globalRefreshRate",[["type","number"]])){r.debugging.warning("Error handling global refresh rate");return}let e=tpdPublisherData.globalRefreshRate;for(let t=0,i=p.length;t<i;t++)!0===p[t].re&&(!p[t].rl||isNaN(p[t].rl))&&(p[t].rl=e)},createNewAds:function(e,t,i=null){r.helpers.createNewAds(e,t,i=null)},hideAndStopRefreshByDivId:function(e,t){void 0===t&&(t=!1);for(let i=p.length-1;i>=0;i--)if(p[i].divId===e){p[i].domEle&&(p[i].domEle.style.display="none"),t&&r.gpt.destroySlotByDivId(e),p.splice(i,1);break}},processSlotsFullData:function(){delete tpdPublisherData.slots;let e=tpdPublisherData.slots_full.slice();window.tpdSlots=window.tpdSlots||[];for(let t=0,i=e.length,n,a,s,o,d,l,c,u,g;t<i;t++){a={divId:(n=e[t]).n,re:n.re,rt:0,rl:n.rts,tt:n.tt,chc:n.chc,st:n.st,banner:!1,native:!1,video:!1,sizeMapping:{enabled:!1}},"string"==typeof n.aup&&n.aup.length>0&&(a.id=n.aup),s=n.d,d=!1,l=!1;for(let f=0,h=s.length;f<h;f++)s[f].name&&("Desktop"===s[f].name&&(d=!0),"Mobile"===s[f].name&&(l=!0)),s[f].n&&("Desktop"===s[f].n&&(d=!0),"Mobile"===s[f].n&&(l=!0));if(a.isDesktop=d,a.isMobile=l,o=n.b,c=[],o.length>0)for(let m=0,b=o.length,$,v,S;m<b;m++){if(v=($=o[m]).bp,S={bidder:$.bn,params:{}},v.length>0){for(let I=0,k=v.length;I<k;I++)if(""!==v[I].bpv){if("gumgum"!==$.bn||"zone"!==v[I].bpn||isNaN(v[I].bpv)||(v[I].bpn="inSlot",v[I].bpv=y(v[I].bpv)),"flipp"===$.bn){if("zoneIds"===v[I].bpn)try{v[I].bpv=v[I].bpv.split(",").map(}catch(T){r.debugging.warning("Error handling flipp IDs",T)}else"siteId"!==v[I].bpn||isNaN(v[I].bpv)||(v[I].bpv=parseInt(v[I].bpv))}S.params[v[I].bpn]=v[I].bpv}}c.push(S)}a.bids=c,a.fluid=n.hf;let P=n.mt;for(let _=0,O=P.length;_<O;_++)a[P[_].media_type]=P[_].enabled;if(u=n.s,g=[],a.banner)for(let w=0,A=u.length;w<A;w++)g.push([u[w].w,u[w].h]);a.bannerSizes=g,a.video?a.videoSize=[n.os[0].w,n.os[0].h]:a.video=!1,window.tpdSlots.push(a)}r.slotManagement.processSlotsFullInjections(e);for(let x=p.length-1,C;x>=0;x--){C=p[x];try{"Custom HTML"===C.tt&&"string"==typeof C.chc&&C.chc.length>0&&(r.slotManagement.processCustomHtmlTagType(C.divId,C.tt,C.chc),p.splice(x,1))}catch(D){console.error("[TPD] Error checking tag type for slot at index "+x)}}},processCustomHtmlTagType:function(e,i,n){r.helpers.afterDomContentLoaded(function(){let i=t.getElementById(e);i&&(i.innerHTML=n,r.fallbackTags.nodeScriptReplace(i))})},processSlotsFullInjections:function(e){try{if(!e||!e.length)return;for(let i=0,n=e.length,a,s,o,d;i<n;i++)a=e[i].ie,s=e[i].is,o=e[i].im,!0===a&&s&&o&&((d=t.createElement("div")).id=e[i].n,d.setAttribute("injected-by-tag-file","true"),r.helpers.inject(d,s,o))}catch(l){r.debugging.error("Error handling configured injections",l)}},applySizeMapping:function(){var t,i,n,r,s,o,d,l=e.innerWidth,c=e.innerHeight;for(let u=0,g=p.length;u<g;u++)if(!1!==p[u].active&&(t=[],i=[],p[u].hasOwnProperty("sizeMapping")&&!0===p[u].sizeMapping.enabled)){if(l=e.innerWidth,c=e.innerHeight,"screen"===p[u].sizeMapping.type){r=y(l*p[u].sizeMapping.minMaxRatios.width.max),o=y(l*p[u].sizeMapping.minMaxRatios.width.min),s=y(c*p[u].sizeMapping.minMaxRatios.height.max),d=y(c*p[u].sizeMapping.minMaxRatios.height.min),n=p[u].bannerSizes,t=[],i=[];for(let f=0,h=n.length;f<h;f++){if("fluid"===n[f]){i.push(n[f]);continue}n[f][0]<r&&n[f][0]>o&&n[f][1]<s&&n[f][1]>d&&(t.push(n[f]),i.push(n[f]))}}else if("container"===p[u].sizeMapping.type){r=p[u].domEle.getBoundingClientRect().width,o=0,n=p[u].bannerSizes,t=[],i=[];for(let m=0,b=n.length;m<b;m++){if("fluid"===n[m]){i.push(n[m]);continue}n[m][0]<r&&(t.push(n[m]),i.push(n[m]))}}else if("device"===p[u].sizeMapping.type){n=a?p[u].sizeMapping.config.mob:p[u].sizeMapping.config.dsk;for(let $=0,v=n.length;$<v;$++)t.push(n[$]),i.push(n[$])}p[u].bannerSizes=t,p[u].prebid.mediaTypes.banner.sizes=t}},removeSlotsForDevice:function(){for(let e=p.length-1;e>=0;e--)!p[e].divId.includes("video-ad-")&&(!0===a&&!1===p[e].isMobile?p.splice(e,1):!1===a&&!1===p[e].isDesktop&&p.splice(e,1))},appendSlotData:function(e){m(e)||(e=p);let t=r.adUnitPath;for(let i=0,n=e.length;i<n;i++)if(e[i].refreshed=!1,e[i].rc=1,e[i].rt=0,e[i].domEle=null,e[i].slot=null,!e[i].hasOwnProperty("id")){if(-1!==e[i].divId.indexOf("oop-")){var a=t+"/"+t.replace(/\/134702932,[0-9]*\//,"").replace("/134702932/","")+"-oop";e[i].id=a}else e[i].id=t}return e},scanDomEles:function(){let e;for(let i=p.length-1;i>=0;i--)if(!p[i].domEle){if(e=t.getElementById(p[i].divId)){p[i].active=!0,p[i].domEle=e;try{p[i].atf=this.slotIsATF(p[i].divId,e)}catch(n){r.debugging.warning("Error checking ATF for "+p[i].divId,n)}}else p[i].active=!1}},getSlotByDivId:function(e){var t=googletag.pubads().getSlots();for(let i=0,n=t.length;i<n;i++)if(t[i].getSlotElementId()===e)return t[i];return null},getTpdSlotObjByDivId:function(e){if(void 0===p)return null;for(let t=0,i=p.length;t<i;t++)if(p[t].divId===e)return p[t];return null}}),r.helpers.assignTopLevelFunctions("gpt",{activeListeners:[],clearListeners:function(e){for(let t=0,i=this.activeListeners.length;t<i;t++)e.includes(this.activeListeners[t].label)&&(console.log("[TPD] Clearing GPT listener : "+this.activeListeners[t].label),googletag.pubads().removeEventListener(this.activeListeners[t].event,this.activeListeners[t].f))},setListeners:function(){!function(){try{if(!tpdPublisherData.hasOwnProperty("generalData")||1!==tpdPublisherData.generalData.is_tpd_theme)return;var e=function(e){if(e.isEmpty||3243068612!==e.campaignId)return;let t=e.slot.getSlotElementId(),i=document.getElementById(t);if(!i)return;let n=i.parentElement;n.classList.contains("tpd-incontent-ad-container")&&(n.classList.add("special"),n.classList.add("aps-outstream"))};googletag.pubads().addEventListener("slotRenderEnded",e),r.gpt.activeListeners.push({label:"slotRenderEnded_APSOutstream",event:"slotRenderEnded",f:e})}catch(t){r.debugging.error("[TPD] Error adding GPT listeners"+t)}}()},events:{preGptRefresh:function(t){try{let i=new CustomEvent("tpd:preGptRefresh",{detail:{slots:t}});e.dispatchEvent(i)}catch(n){r.debugging.warning('Error issuing custom event "tpd:preGptRefresh"',n)}}},setPPID:function(){if(!c.hasOwnProperty("getUserIds")||"function"!=typeof c.getUserIds)return;let e=c.getUserIds();if("object"!=typeof e||!e.hasOwnProperty("pubcid"))return;let t=e.pubcid;"string"==typeof t&&0!==t.length&&googletag.pubads().setPublisherProvidedId(t)},getAppropriateSizesForSlot:function(e){let t=[];return!0===e.banner&&(t=t.concat(e.bannerSizes)),!0===e.video&&t.push(e.videoSize),e.fluid&&t.push("fluid"),t},queue:refreshSlots:function(){if(!0!==r.googletagSettings.disableInitialLoad||!0===r.gamLessAuction)return;let e=googletag.pubads().getSlots();try{let t=r.helpers.getRelationshipCategory();if("Sided-Only"===t){e=[];for(let i=0,n=p.length;i<n;i++)p[i].slot&&e.push(p[i].slot);if(0===e.length)return;r.gpt.events.preGptRefresh(e),googletag.pubads().refresh(e);return}}catch(a){r.debugging.error("Error refreshing slots during sided-sites check")}r.gpt.events.preGptRefresh(e),googletag.pubads().refresh(e)},displayAll:function(){let e=googletag.pubads().getSlots();for(let t=0,i=e.length;t<i;t++)googletag.display(e[t].getSlotElementId())},enableServices:function(){googletag.enableServices()},lookForScriptAndInjectIfNotFound:function(){!r.helpers.scriptInPage("securepubads.g.doubleclick.net/tag/js/gpt.js")&&r.helpers.loadScript("https://securepubads.g.doubleclick.net/tag/js/gpt.js")},handleShowTestmodeToAdmins:function(){tpdPublisherData&&tpdPublisherData.hasOwnProperty("enableTestmodeForAdmins")&&!0===tpdPublisherData.enableTestmodeForAdmins&&t.body&&!0===t.body.classList.contains("admin-bar")&&googletag.pubads().setTargeting("testmode","tpd")},handleUniversalTpdLogo:function(){tpdPublisherData&&tpdPublisherData.hasOwnProperty("universalTpdLogoDesktop")&&tpdPublisherData.hasOwnProperty("universalTpdLogoMobile")&&(!1!==tpdPublisherData.universalTpdLogoDesktop||!1!==a)&&(!1!==tpdPublisherData.universalTpdLogoMobile||!0!==a)&&googletag.pubads().addEventListener("slotRenderEnded",function(i){if(!0!==i.isEmpty){var n=i.slot.getSlotElementId();if(!(n.includes("oop")||n.includes("video")||n.includes("skin")||"dsk-banner-ad-b"===n||"mob-banner-ad-b"===n||n.includes("interstitial"))){var s=r.bottomSticky.config;if(!0!==s.enabled||s.divId!==n){if("object"==typeof e.stickyBanner_settings){if(r.hasOwnProperty("tpdThemeTopStickyDivs")){if(r.tpdThemeTopStickyDivs.includes(n))return}else{var o,d=[];if("on"===e.stickyBanner_settings.enabled||"on"===e.stickyBanner_settings.enabled_mobile){var l=t.querySelectorAll(".tpd-banner-ad-container");for(let c=0,p=l.length,u;c<p;c++)if((o=(u=l[c]).children).length>0)for(let g=0,f=o.length;g<f;g++)""!==o[g].id&&d.push(o[g].id)}r.tpdThemeTopStickyDivs=d}}var h=r.slotManagement.getTpdSlotObjByDivId(n);if(!(h&&h.hasOwnProperty("noLogo"))||!0!==h.noLogo){var m=i.size[0],b=t.getElementById(n),y=t.createElement("div");y.classList.add("tpd-logo-container"),y.style.cssText="color: black;position: relative;bottom: 0px;left: 0px;display: flex;height: fit-content;max-width: "+m+"px;margin: auto;";var $="https://www.publisherdesk.com?r="+e.location.host;y.innerHTML='<a rel="noopener" loading="lazy" target="_blank" href="'+$+'" style="width:fit-content;padding-top:5px;display:flex;height:fit-content;"><img '+(a?'style="width: 75%; height: auto;" ':"")+'src="https://cdn.tpdads.com/images/tpd-logo-grey.png" alt=""></a>',b.appendChild(y)}}}}})},destroySlotByDivId:function(e){let t=googletag.pubads().getSlots();for(let i=0,n=t.length;i<n;i++)if(t[i].getSlotElementId()===e){googletag.destroySlots([t[i]]);break}},destroySlotsByDivIdArr:function(e){let t=googletag.pubads().getSlots();for(let i=0,n=t.length;i<n;i++)-1!==e.indexOf(t[i].getSlotElementId())&&googletag.destroySlots([t[i]])},getTargetingKeyValueMap:function(){let e=googletag.pubads().getTargetingKeys(),t={};if(0===e.length)return{};for(let i=0,n=e.length,r;i<n;i++)r=googletag.pubads().getTargeting(e[i]),t[e[i]]=r;return t},shareTargetingWithSlotCreatedAfterEnableServices:function(e){var t=e.getTargetingMap(),i=googletag.pubads(),n=i.getTargetingKeys();for(let r=0,a=n.length,s;r<a;r++)s=n[r],!1===t.hasOwnProperty(s)&&e.setTargeting(s,i.getTargeting(s))},targeting:function(){var i=e.location,n=i.pathname,a=i.href,s={domain:i.host.replace("www.",""),path:n.substring(0,n.lastIndexOf("/"))+"/",url:n},o=parent.document.getElementsByTagName("title");o&&o[0]&&(s.kw=o[0].text.split(" "));var d=r.queryParamsToCollect||["testmode","utm_source","utm_medium","utm_campaign","utm_term","utm_content",];if(tpdPublisherData.hasOwnProperty("urlKeyValues")&&m(tpdPublisherData.urlKeyValues)&&tpdPublisherData.urlKeyValues.length>0&&(d=d.concat(tpdPublisherData.urlKeyValues)),d.length>0){var l=a.split("?");if(l&&2===l.length){var c=l[1].split("&");for(let p=0,u=c.length;p<u;p++){var g=c[p].split("=");2===g.length&&-1!==d.indexOf(g[0])&&(-1!==g[1].indexOf("%2C")?s[g[0]]=g[1].split("%2C"):s[g[0]]=g[1])}}}t.referrer&&""!==t.referrer&&(s.referrer=t.referrer),function(){try{if(!r.helpers.tpdPublisherDataValidation("iabContentTaxonomies",[["type","array"]])||0===tpdPublisherData.iabContentTaxonomies.length)return;s.iabctid=[];for(let e=0,t=tpdPublisherData.iabContentTaxonomies.length;e<t;e++)s.iabctid.push(String(tpdPublisherData.iabContentTaxonomies[e].id))}catch(i){r.debugging.error("Passing content taxonomies into GPT targeting",i)}}();var f=googletag.pubads();for(let h in s)f.setTargeting(h,s[h]);(function(){try{if(!a.includes("tpd-force-aps-win"))return;console.log("[TPD] APS testmode enabled."),e.addEventListener("tpd:preGptRefresh",function(e){let t=e.detail.slots;for(let i=0,n=t.length,r,a;i<n;i++){a=(r=t[i]).getTargetingKeys();for(let s=0,o=a.length,d,l,c;s<o;s++){if(d=a[s],"amznbid"===d){if(l=r.getTargeting(d),m(l)&&0!==l.length&&"2"!==l[0]){c=(l=l[0]).includes("o_")?"o_hukphc":l.includes("v_")?"v_hukphc":"hukphc",console.log("[TPD] Overwriting amznbid value for "+r.getSlotElementId()+" to "+c),r.setTargeting("amznbid",[c]);break}}}}})}catch(t){r.debugging.error("Applying tpd-force-aps-win handler if needed.")}})(),e.addEventListener("tpd:preGptRefresh",function(e){let t=e.detail.slots;for(let i=0,n=t.length,r,a,s,o,d,l;i<n;i++){a=(r=t[i]).getTargetingKeys(),s=!1,o=!1;for(let c=0,p=a.length,u;c<p;c++)"amznbid"===(u=a[c])&&Array.isArray(l=r.getTargeting(u))&&l.length>0&&"2"!==l[0]&&(o=!0),"hb_pb"===u&&Array.isArray(l=r.getTargeting(u))&&l.length>0&&"0.00"!==l[0]&&(s=!0);d=s||o,r.setTargeting("bid",d?["true"]:["false"])}})},mainSettings:function(){r.googletagSettings=r.googletagSettings||{disableInitialLoad:!0,enableSingleRequest:!0,setCentering:!0,enableLazyLoad:!1,setCollapseEmptyDiv:!0};let e=r.googletagSettings,i=e.disableInitialLoad,n=e.enableSingleRequest,a=e.setCentering,s=e.enableLazyLoad,o=e.setCollapseEmptyDiv,d=tpdPublisherData.adLoadingStrategy;if(["lazy","sra","sra_and_lazy"].includes(d)&&(["sra_and_lazy","lazy"].includes(d)&&r.helpers.afterDomContentLoaded(function(){var e=t.getElementById("oop-ad-a");t.body&&t.body.firstElementChild&&e&&(r.helpers.addCssToPageFromStr("#oop-ad-a {width: 0px; height: 0px;}"),t.body.firstElementChild!==e&&t.body.insertBefore(e,t.body.firstElementChild))}),"sra_and_lazy"===d?(n=!0,s=!0):"lazy"===d?(n=!1,s=!0):(n=!0,s=!1)),i&&googletag.pubads().disableInitialLoad(),n&&googletag.pubads().enableSingleRequest(),a&&googletag.pubads().setCentering(!0),s){let l={fetchMarginPercent:150,renderMarginPercent:150,mobileScaling:2},c=r.helpers.tpdPublisherDataValidation;c("lazyLoadingFetchMarginPercent",[["type","number"]])&&(l.fetchMarginPercent=tpdPublisherData.lazyLoadingFetchMarginPercent),c("lazyLoadingRenderMarginPercent",[["type","number"]])&&(l.renderMarginPercent=tpdPublisherData.lazyLoadingRenderMarginPercent),tpdPublisherData.hasOwnProperty("lazyLoadingMobileScaling")&&!isNaN(tpdPublisherData.lazyLoadingMobileScaling)&&(l.mobileScaling=parseFloat(tpdPublisherData.lazyLoadingMobileScaling)),googletag.pubads().enableLazyLoad(l)}o&&googletag.pubads().collapseEmptyDivs()},defineAllSlots:function(){var e;try{if(o.includes("testmode=no-fill"))for(let t=0,i=p.length;t<i;t++)p[t].id="/21885395920/0133-thetab.com"}catch(n){r.debugging.error("Error handling no-fill test",n)}try{let a=d.includes("flywheelstaging.com")||d.includes("go-vip.net")||d.includes(".wpengine.com");if(!0===a)for(let s=0,l=p.length,c,u;s<l;s++)(u=(c=p[s].id).split("/"))[1]="134702932",c=u.join("/"),p[s].id=c}catch(g){r.debugging.error("Error handling staging domain ad unit manipulation",g)}for(let f=0,h=p.length,m,b;f<h;f++)m=(e=p[f]).divId,!(!1===e.active||m.includes("sided-ad")||m.includes("interstitial"))&&(b=[],!0===e.banner&&b.push(...e.bannerSizes),!0===e.video&&b.push(e.videoSize),!0===e.fluid&&b.push("fluid"),"Out of Page"===e.st?e.slot=googletag.defineOutOfPageSlot(e.id,m).setTargeting("position",m).setTargeting("refreshcount","1").setTargeting("refresh","false").addService(googletag.pubads()):e.slot=googletag.defineSlot(e.id,b,m).setTargeting("position",m).setTargeting("refreshcount","1").setTargeting("refresh","false").addService(googletag.pubads()))}}),r.helpers.assignTopLevelFunctions("interstitials",{data:{"dsk-interstitial-ad-a":{on:!1,adUnitId:null},"mob-interstitial-ad-a":{on:!1,adUnitId:null}},googleSlotObj:null,getActiveDivId:function(){for(let e in this.data)if(!0===this.data[e].on)return e;return null},manuallyAddPrebidTargetingToGptSlot:function(e){if("object"!=typeof e||0===Object.keys(e).length)return;let t=pbjs.getAdserverTargetingForAdUnitCode(this.googleSlotObj.getSlotElementId());if("object"==typeof t&&0!==Object.keys(e).length){for(let i in t)r.interstitials.googleSlotObj.setTargeting(i,t[i]);o.includes("tpd-force-prebid-interstitial")&&r.interstitials.googleSlotObj.setTargeting("hb_pb","50.00")}},manuallyAddApsTargetingToGptSlot:function(e){if(!m(e)||0===e.length)return;let t=e[0];if("object"!=typeof t||0===Object.keys(t))return;let i=["amznbid","amzniid","amznp","amznsz",],n=Object.keys(t);for(let a=0,s=n.length,d;a<s;a++)d=n[a],i.includes(d)&&r.interstitials.googleSlotObj.setTargeting(d,t[d]);o.includes("tpd-force-aps-interstitial")&&r.interstitials.googleSlotObj.setTargeting("amznbid","hukphc")},fillData:function(){for(let e in this.data)if(!1!==this.data[e].on){for(let t=0,i=tpdPublisherData.slots_full.length,n;t<i;t++)if((n=tpdPublisherData.slots_full[t]).n===e){this.data[e].adUnitId=n.aup;break}}for(let r in this.data)!1!==this.data[r].on&&null===this.data[r].adUnitId&&(this.data[r].adUnitId=tpdPublisherData.fullAdunitPath)},activateDataIfEnabled:function(){let e=!1;return o.includes("staging.")||(a?r.helpers.tpdPublisherDataValidation("enableInterstitialMobile",[["=",!0]])&&(e=!0,this.data["mob-interstitial-ad-a"].on=!0):r.helpers.tpdPublisherDataValidation("enableInterstitialDesktop",[["=",!0]])&&(e=!0,this.data["dsk-interstitial-ad-a"].on=!0)),e},runInit:defineSlot:function(){var e=null,t=null;for(let i in this.data)if(!0===this.data[i].on){e=i,t=this.data[i].adUnitId;break}if(!e||!t)return;let n=null;for(let a=0,s=u.length;a<s;a++)if(u[a].divId===e){n=u[a];break}let o=null;o=n.prebid,n.prebid.ortb2Imp=n.prebid.ortb2Imp||{},n.prebid.ortb2Imp.instl=1;try{r.cmd=r.cmd||[],r.cmd.push(function(){if(r.helpers.addCssToPageFromStr('[data-vignette-loaded="true"] .tpd-logo-container { display: none !important; }',"tpd-hide-logo-for-interstitial"),r.interstitials.googleSlotObj=googletag.defineOutOfPageSlot(t,googletag.enums.OutOfPageFormat.INTERSTITIAL).setTargeting("position",e).setTargeting("refreshcount","1").setTargeting("refresh","false").addService(googletag.pubads()),!r.interstitials.googleSlotObj)return;let i=null;for(let n=0,a=p.length;n<a;n++)if(p[n].divId===e){p[n].slot=r.interstitials.googleSlotObj,i=p[n];break}if(!i)return;let s=[],o=[],d=[];if(i.prebid.code=r.interstitials.googleSlotObj.getSlotElementId(),c.removeAdUnit(e),c.addAdUnits([i.prebid]),s.push(r.interstitials.googleSlotObj),o.push(r.interstitials.googleSlotObj.getSlotElementId()),!0===r.amazona9.enabled){var l=r.amazona9.generateSlotData([i],!0);if(l&&1===l.length){let u=l[0];(u.hasOwnProperty("sizes")&&u.sizes.length>0||u.hasOwnProperty("multiFormatProperties")&&u.multiFormatProperties.hasOwnProperty("display")&&u.multiFormatProperties.display.hasOwnProperty("sizes")&&u.multiFormatProperties.display.sizes.length>0)&&(l[0].slotName=r.interstitials.googleSlotObj.getSlotElementId(),d.push(l[0]))}}!function(e,t,i){if(r.amazona9.enabled&&m(e)&&e.length>0){let n=!1,a=!1;apstag.fetchBids({timeout:r.initialTimeout,slots:e},function(e){n=!0,r.interstitials.manuallyAddApsTargetingToGptSlot(e),a&&(r.gpt.events.preGptRefresh(i),googletag.pubads().refresh(i))}),c.requestBids({adUnitCodes:t,timeout:r.initialTimeout,bidsBackHandler:function(e){a=!0,r.interstitials.manuallyAddPrebidTargetingToGptSlot(e),n&&(r.gpt.events.preGptRefresh(i),googletag.pubads().refresh(i))}})}else c.requestBids({adUnitCodes:t,timeout:r.initialTimeout,bidsBackHandler:function(e){r.interstitials.manuallyAddPrebidTargetingToGptSlot(e),r.gpt.events.preGptRefresh(i),googletag.pubads().refresh(i)}})}(d,o,s)})}catch(d){console.error("[TPD] Interstitials : general error: "+d)}}}),r.helpers.assignTopLevelFunctions("prebid",{data:[],s2sConfig:null,priceBuckets:{buckets:[{precision:2,max:5,increment:.02},{precision:2,max:25,increment:.1},{precision:2,max:100,increment:5},]},setS2sRefreshTimeout:function(){},setTargeting:function(){pbjs.setTargetingForGPTAsync()},mediaTypeGenerator:{getOutstreamSize:function(e){return e.hasOwnProperty("os")&&m(e.os)&&2!==e.os.length?[e.os[0].w,e.os[0].h]:null},outstream:function(e,t){let i=!0,n=o.match(/tpd-force-renderer-backup-only=([^&]+)/);return n&&(i="true"===n[1]),{context:"outstream",playerSize:e,mimes:t,playbackmethod:[6,],startdelay:0,placement:3,plcmt:4,linearity:1,api:[2],protocols:[3,6,7,8,1,2,4,5,],minduration:0,maxduration:30,skip:0,language:"en",renderer:{render:url:"https://cdn.tpdads.com/outstream-renderer.min.js",backupOnly:i}}}},userSyncTrigger:function(){try{if(!tpdPublisherData.hasOwnProperty("prebidUserSyncingTiming")||!["immediate","page_loaded","3_seconds_after_page_loaded","5_seconds_after_page_loaded","disabled","after_first_slot_render_ended_event",].includes(tpdPublisherData.prebidUserSyncingTiming)){r.helpers.afterPageFullyLoaded(function(){setTimeout(function(){c.triggerUserSyncs()},5e3)});return}let e=tpdPublisherData.prebidUserSyncingTiming;if("immediate"===e){c.triggerUserSyncs();return}if("page_loaded"===e){r.helpers.afterPageFullyLoaded(function(){c.triggerUserSyncs()});return}if("3_seconds_after_page_loaded"===e){r.helpers.afterPageFullyLoaded(function(){setTimeout(function(){c.triggerUserSyncs()},3e3)});return}if("5_seconds_after_page_loaded"===e){r.helpers.afterPageFullyLoaded(;return}if("after_first_slot_render_ended_event"===e&&(r.prebid.slotRenderEndedListener=function(){c.triggerUserSyncs(),googletag.pubads().removeEventListener("slotRenderEnded",r.prebid.slotRenderEndedListener)},googletag.pubads().addEventListener("slotRenderEnded",r.prebid.slotRenderEndedListener)),"disabled"===e)return}catch(t){r.debugging.error("Error triggering prebid user syncing",t)}},idManipulationsFors2s:function(){if(tpdPublisherData.prebidServerBidders.indexOf("unruly")>-1){for(let e=0,t=p.length,i;e<t;e++)if(p[e].hasOwnProperty("prebid")&&0!==p[e].prebid.bids.length){i=p[e].prebid;for(let n=0,r=i.bids.length;n<r;n++)"unruly"===i.bids[n].bidder&&(i.bids[n].params.siteid=y(i.bids[n].params.siteId),delete i.bids[n].params.siteId)}}},extendOrtb2ConfigurationWhereAvailable:function(){try{let d=c.getConfig("ortb2")||{};if(d.site=d.site||{},d.device=d.device||{},d.user=d.user||{},"object"==typeof r.geoLocation&&(d.user.geo=d.user.geo||{},r.geoLocation.country&&(d.user.geo.country=r.geoLocation.country),r.geoLocation.region&&(d.user.geo.region=r.geoLocation.region)),tpdPublisherData.hasOwnProperty("iabContentCategories")&&m(tpdPublisherData.iabContentCategories)&&tpdPublisherData.iabContentCategories.length>0){let p=tpdPublisherData.iabContentCategories;d.site=d.site||{},d.site.cat=d.site.cat||[];let u=[];for(let g=0,f=p.length;g<f;g++)u.push(p[g].value);d.site.cat=d.site.cat.concat(u)}if(window.tpdIabCategories&&m(window.tpdIabCategories)&&window.tpdIabCategories.length>0){let h=[];for(let b=0,y=window.tpdIabCategories.length,$;b<y;b++)($=window.tpdIabCategories[b]).hasOwnProperty("code")&&h.push($.code);h.length>0&&(d.site.pagecat=d.site.pagecat||[],d.site.pagecat=d.site.pagecat.concat(h))}tpdPublisherData.hasOwnProperty("privacyPolicyLink")&&"string"==typeof tpdPublisherData.privacyPolicyLink&&tpdPublisherData.privacyPolicyLink.length>0&&(d.site.privacypolicy=1);try{d.content=d.content||{},d.content.language=t.documentElement.lang.split("-")[0]}catch(v){r.debugging.error("Error determining content language",v)}try{d.content=d.content||{};let S=function(){let e=null;if(t.querySelector("meta[name='keywords']"))e=t.querySelector("meta[name='keywords']").getAttribute("content");else if(t.querySelector('script[type="application/ld+json"]')){let i=JSON.parse(t.querySelector('script[type="application/ld+json"]').innerText)["@graph"];if(i){let n=i.length;for(let r=0;r<n;r++)if("NewsArticle"===i[r]["@type"]){e=i[r].keywords;break}}}return e||null}();S&&(d.content.keywords=S)}catch(I){r.debugging.error("Error determining content keywords",I)}try{let k;(k=function(){let e=l,t=e.split("/")[2],i=o.split("/")[2];var n=!1;return i===t&&(n=new URL(e).searchParams.get("s")),n||null}())&&(d.site.search=k)}catch(T){r.debugging.error("Error determining site search",T)}d.site.domain||(d.site.domain=s),d.site.page||(d.site.page=o),!d.site.ref&&l&&(d.site.ref=l),tpdPublisherData.hasOwnProperty("generalData")&&void 0!==tpdPublisherData.generalData.site_title&&null!==tpdPublisherData.generalData.site_title&&(d.site.name=tpdPublisherData.generalData.site_title),d.site.hasOwnProperty("mobile")||(d.site.mobile=1),d.hasOwnProperty("cur")||(d.cur=["usd"]);let P={ua:i.userAgent||null,devicetype:a?1:0,make:null,model:function(){if(!a)return null;var t=i.userAgent||i.vendor||e.opera;if(/windows phone/i.test(t))return"Windows Phone";if(/android/i.test(t))return"Android";if(!window.MSStream){if(/iPhone/.test(t))return"iPhone";if(/iPad/.test(t))return"iPad";if(/iPod/.test(t))return"iPod"}return null}(),os:null,osv:null,hwv:null,w:n&&n.width?n.width:null,h:n&&n.height?n.height:null,language:d.content.language||null};for(let _ in P)!(!P[_]||d.device.hasOwnProperty(_))&&(d.device[_]=P[_]);c.setConfig({ortb2:d})}catch(O){r.debugging.error("Error applying ortb2 info",O)}},getESPSources:function(){let e=[],t={"33acrossIdSystem":"33across.com",criteoIdSystem:"esp.criteo.com",identityLinkIdSystem:"liveramp.com",id5IdSystem:"id5-sync.com",sharedIdSystem:"pubcid.org"};for(let i=0,n=r.adapters.length;i<n;i++)t.hasOwnProperty(r.adapters[i])&&e.push(t[r.adapters[i]]);return e},extendUserSyncObjForESP:function(e){try{let t=this.getESPSources();e.encryptedSignalSources=e.encryptedSignalSources||{},e.encryptedSignalSources.sources=e.encryptedSignalSources.sources||[],e.encryptedSignalSources.sources.push({source:t,encrypt:!1}),e.encryptedSignalSources.registerDelay=3e3}catch(i){r.debugging.error("Error building ESP object",i)}return e},additionalUserIds:[],setUserIds:function(){let e=[];try{let t=pbjs.getConfig();t&&t.userSync&&t.userSync.userIds&&(e=t.userSync.userIds)}catch(i){r.debugging.warning("Error checking for existing configured prebid IDs",i)}let n=[];r.prebid.hasOwnProperty("additionalUserIds")&&Array.isArray(r.prebid.additionalUserIds)&&(n=r.prebid.additionalUserIds);let a=pbjs.getConfig().userSync||{},s=this.getUserIds();e=(e=e.concat(s)).concat(n),a.userIds=e;let o=tpdPublisherData.hasOwnProperty("generalData")&&1===tpdPublisherData.generalData.is_owned_and_operated;!0===o&&(a=this.extendUserSyncObjForESP(a)),pbjs.setConfig({userSync:a}),!0===o&&pbjs.registerSignalSources()},getUserIds:function(){let e=[];try{let t=pbjs.getConfig();t&&t.userSync&&t.userSync.userIds&&(e=t.userSync.userIds)}catch(n){r.debugging.warning("Error checking for existing configured prebid IDs",n)}let a=r.adapters;if(a.includes("33acrossIdSystem")&&e.push({name:"33acrossId",params:{pid:"0010b00002OCk5oAAD"},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}}),a.includes("criteoIdSystem")&&e.push({name:"criteo"}),a.includes("id5IdSystem")){let s={name:"id5Id",params:{partner:1120},storage:{name:"id5id",type:"html5",expires:60,refreshInSeconds:28800}},o={12:encodeURIComponent(i.userAgent)},d=Object.keys(o).map(.join("&"),l=btoa(d);s.params.pd=l,e.push(s)}return a.includes("identityLinkIdSystem")&&e.push({name:"identityLink",params:{pid:"1258"},storage:{name:"idl_env",type:"html5",expires:60}}),a.includes("lotamePanoramaIdSystem")&&e.push({name:"lotamePanoramaId",params:{clientId:"17207"}}),a.includes("sharedIdSystem")&&(e.push({name:"sharedId",storage:{name:"_pubCommonId",type:"cookie",expires:1825}}),e.push({name:"sharedId",params:{syncTime:300},storage:{name:"sharedid",type:"html5",expires:28}})),e},init:function(){var t=r.prebidSettings||{};t.enableSendAllBids=t.enableSendAllBids||!1;var i={buckets:[{precision:2,max:5,increment:.02},{precision:2,max:25,increment:.1},{precision:2,max:100,increment:.5},]},n={enableTIDs:!0,rubicon:{singleRequest:!0},criteo:{fastBidVersion:"latest"},priceGranularity:i,enableSendAllBids:t.enableSendAllBids,targetingControls:{alwaysIncludeDeals:!0}};let a=t.s2sBidders||[];tpdPublisherData.hasOwnProperty("prebidServerBidders")&&m(tpdPublisherData.prebidServerBidders)&&tpdPublisherData.prebidServerBidders.length>0&&(a=tpdPublisherData.prebidServerBidders.concat(a));let s={enabled:!0,adapter:"prebidServer",accountId:"d67a88d6-d832-4ddf-a892-23e8ef0e2462",endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",priceGranularity:i,enableSendAllBids:t.enableSendAllBids,targetingControls:{alwaysIncludeDeals:!0},secure:1,bidders:a,timeout:r.initialTimeout},d="https://prebid.adnxs.com/pbc/v1/cache";if(tpdPublisherData.hasOwnProperty("prebidServerBidders")){let l=tpdPublisherData.prebidServerBidders;if(m(l)&&l.length>0)try{if(t.s2sBidders=l,s.bidders=t.s2sBidders,s.accountId="1",s.endpoint="https://prebid.tpdads.com/openrtb2/auction",s.syncEndpoint="https://prebid.tpdads.com/cookie_sync",d="https://cache.prebid.tpdads.com/cache",o.includes("testmode=force-prebid-server-wins")){c.bidderSettings=c.bidderSettings||{};for(let u=0,g=l.length;u<g;u++)c.bidderSettings[l[u]]={bidCpmAdjustment:}}catch(f){console.log("TPD :: Error applying extra manipulations for prebid server "+f)}}if(r.prebid.s2sConfig=s,n.s2sConfig=s,n.cache={url:d},n.userSync={enableOverride:!0,filterSettings:{all:{bidders:"*",filter:"include"}},syncsPerBidder:3},r.adapters.includes("instreamTracking")&&(n.instreamTracking={enabled:!0}),!0===r.hasSupplyChain&&-1!==r.adapters.indexOf("schain")&&(n.schain={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"publisherdesk.com",sid:"100"+r.publisherId,hp:1},]}}),c.setConfig(n),c.bidderSettings=c.bidderSettings||{},c.bidderSettings.standard=c.bidderSettings.standard||{},c.bidderSettings.standard.storageAllowed=!0,tpdPublisherData.hasOwnProperty("enablePrebidBidCaching")&&!0===tpdPublisherData.enablePrebidBidCaching){c.setConfig({useBidCache:!0});for(let h=0,y=p.length;h<y;h++)p[h].prebidBidSets={};r.isInitialAuction=!0,c.onEvent("auctionEnd",function(e){var t=e.bidsReceived;if(m(t)&&t.length>0){var i=[];for(let n=0,a=t.length;n<a;n++)i.includes(t[n].adUnitCode)||i.push(t[n].adUnitCode);if(i.length>1&&!1===r.isInitialAuction)return;r.isInitialAuction=!1;for(let s=0,o=i.length;s<o;s++)for(let d=0,l=p.length;d<l;d++)if(i[s]===p[d].divId){var c=String(Object.keys(p[d].prebidBidSets).length);p[d].prebidBidSets[c]=[];for(let u=0,g=t.length;u<g;u++)t[u].adUnitCode===p[d].divId&&p[d].prebidBidSets[c].push(b({},{bidder:t[u].bidder,cpm:t[u].cpm,adId:t[u].adId}))}}}),c.onEvent("setTargeting",function(e){if(!1===r.isInitialAuction){for(let t in e)if(0!==Object.keys(e[t]).length){var i=e[t];for(let n=0,a=p.length;n<a;n++)if(p[n].divId===t){var s=i.hb_adid,o=Object.keys(p[n].prebidBidSets).length-1;if(0===o)return;var d=!1;for(let l in p[n].prebidBidSets)if(String(o)!==String(l)){for(let c=0,u=p[n].prebidBidSets[l].length;c<u;c++)if(p[n].prebidBidSets[l][c].adId===s){d=!0;break}}d?p[n].slot.setTargeting("cached-prebid-bid",["true"]):p[n].slot.setTargeting("cached-prebid-bid",["false"]);break}}}})}(function(){try{let t=[];(function(){if(!r.adapters.includes("browsiRtdProvider"))return;let e=r.bidderConfig;if(!e.hasOwnProperty("browsiRTD"))return;let i=e.browsiRTD;if("string"!=typeof i.pub_key||"string"!=typeof i.site_key||""===i.pub_key||""===i.site_key)return;let n={name:"browsi",params:{url:"yield-manager.browsiprod.com",keyName:"browsiViewability",siteKey:i.site_key,pubKey:i.pub_key}};t.push(n),r.thirdPartyTags.setBrowsiSlotLevelTargetingPopulation()})(),function(){if(!r.adapters.includes("qortexRtdProvider")||!e.location.href.includes("tpd-test-qortex"))return;let i=r.bidderConfig;if(!i.hasOwnProperty("qortexRTD"))return;let n=i.qortexRTD;if("string"!=typeof n.group_id||""===n.group_id||"string"!=typeof n.video_container_id||""===n.video_container_id)return;let a={name:"qortex",waitForIt:!0,params:{groupId:n.group_id,tagConfig:{videoContainer:n.video_container_id}}};t.push(a)}(),t.length>0&&c.setConfig({realTimeData:{auctionDelay:100,dataProviders:t}})}catch(i){r.debugging.error("Error setting real time data providers",i)}})(),function(){try{if(!r.adapters.includes("priceFloors"))return;let e=tpdPublisherData,t={},i={prebidGlobalPriceFloor:"banner",prebidGlobalPriceFloorVideo:"video",prebidGlobalPriceFloorNative:"native"},n;for(let a in i)n=i[a],e.hasOwnProperty(a)&&""!==e[a]&&!isNaN(e[a])?t[n]=parseFloat(e[a]):t[n]=0;if(0===Object.keys(t).length)return;c.setConfig({floors:{enforcement:{bidAdjustment:!1},data:{default:0,currency:"USD",modelVersion:"1",schema:{fields:["mediaType"]},values:t}}})}catch(s){r.debugging.error("Error setting prebid price floors",s)}}(),function(){try{if(r.adapters.includes("sharethrough")||a.includes("sharethrough")){let e={};for(let t=0,i=p.length,n;t<i;t++)(n=p[t].divId).includes("box-ad")?e[n]=[[300,250]]:n.includes("dsk-banner")?e[n]=[[728,90]]:n.includes("mob-banner")&&(e[n]=[[320,50]]);r.prebidSettings=r.prebidSettings||{},r.prebidSettings.bidderToDivIdSizeOverrides=r.prebidSettings.bidderToDivIdSizeOverrides||{},r.prebidSettings.bidderToDivIdSizeOverrides.sharethrough=e}}catch(s){r.debugging.error("Error creating sharethrough's size override mapping",s)}}()},acceptedSizes:{banner:["970x250","970x90","728x250","728x90","640x480","640x390","640x360","600x300","480x320","468x60","400x225","336x280","320x50","300x600","300x250","300x100","300x75","300x50","250x250","240x400","160x600","120x600","1x1",],video:["640x480","640x360","480x320","400x225","336x280","320x180","300x250","1x1",]},activeListeners:[],clearListeners:function(e){for(let t=0,i=this.activeListeners.length;t<i;t++)e.includes(this.activeListeners[t].label)&&c.offEvent(this.activeListeners[t].event,this.activeListeners[t].f)},listeners:function(){this.clearListeners(["bidResponseRejector","bidWonTeads","tpdThemeOutstreamBidWon"]);var e=function(e){if(!r.slotManagement.getObjByDivId(e.adUnitCode,!0)||e.adUnitCode.includes("brid"))return e;let t=e.size;if(!t)return e;let i=e.adserverTargeting.hb_format;return["banner","video"].includes(i)?(r.prebid.acceptedSizes[i].includes(t)||(e.cpm=0),e):e};if(c.onEvent("bidResponse",e),this.activeListeners.push({label:"bidResponseRejector",event:"bidResponse",f:e}),m(r.adapters)&&r.adapters.includes("teads")){var t=function(e){if("teads"===e.bidderCode&&r.slotManagement.getObjByDivId(e.adUnitCode,!0)){if(1===e.width&&1===e.height&&tpdPublisherData.hasOwnProperty("generalData")&&1===tpdPublisherData.generalData.is_tpd_theme){let t=document.getElementById(e.adUnitCode);if(!t)return;let i=t.parentElement;if(!i.classList.contains("tpd-incontent-ad-container"))return;i.classList.add("special"),i.classList.add("teads-1x1")}"video"===e.mediaType&&1===e.width&&1===e.height&&r.helpers.stopRefreshByDivId(e.adUnitCode)}};c.onEvent("bidWon",t),this.activeListeners.push({label:"bidWonTeads",event:"bidWon",f:t})}if(tpdPublisherData.hasOwnProperty("generalData")&&1===tpdPublisherData.generalData.is_tpd_theme){var i=function(e){if("video"!==e.mediaType||!r.slotManagement.getObjByDivId(e.adUnitCode,!0))return;let t=document.getElementById(e.adUnitCode);if(!t)return;let i=t.parentElement;i.classList.contains("tpd-incontent-ad-container")&&(i.classList.add("special"),i.classList.add("pb-outstream"),i.classList.add(e.bidderCode))};c.onEvent("bidWon",i),this.activeListeners.push({label:"tpdThemeOutstreamBidWon",event:"bidWon",f:i})}},createAdUnits:function(){var e=[];for(let t=0,i=p.length;t<i;t++)if(!(!0!==p[t].active||p[t].divId.includes("sided-ad"))){var n=r.prebid.makeDuplicateSlotsIfNeeded(p[t].prebid);if(e.push(n.original),n.new.length>0)for(let a=0,s=n.new.length;a<s;a++)e.push(n.new[a])}c.addAdUnits(e)},outstream:{bidGenerators:{amx:function(e){if(e.hasOwnProperty("amx")&&!0===e.amx.enabled)return{bidder:"amx",params:{tagId:"cHVibGlzaGVyZGVzay1yb24tb3V0c3RyZWFtLmNvbQ"}}},gumgum:function(e){if(e.hasOwnProperty("gumgumOutstream")&&!0===e.gumgumOutstream.gumgumOutstreamEnabled&&"string"==typeof e.gumgumOutstream.gumgumOutstreamId&&0!==e.gumgumOutstream.gumgumOutstreamId.length&&"string"==typeof e.gumgumOutstream.gumgumOutstreamSlotId&&0!==e.gumgumOutstream.gumgumOutstreamSlotId.length)return{bidder:"gumgum",params:{zone:e.gumgumOutstream.gumgumOutstreamId,slot:y(e.gumgumOutstream.gumgumOutstreamSlotId)}}},medianet:function(e){if(e.hasOwnProperty("medianet")&&!0===e.medianet.outstreamEnabled)return{bidder:"medianet",params:{cid:"8CUWH6QD2",crid:"412754524"}}},pubmatic:function(e,t){if(!e.hasOwnProperty("pubmatic")||!0!==e.pubmatic.enabled)return;let i=e.pubmatic.pubId,n=e.pubmatic.baseSlotName,r;return{bidder:"pubmatic",params:{publisherId:i,adSlot:n+t.code,outstreamAU:"thepublisherdesk_outstream"}}},teads:function(e){if(!e.hasOwnProperty("teads")||!0!==e.teads.enabled)return;let t=e.teads.pageId,i=e.teads.placementId;return{bidder:"teads",params:{pageId:parseInt(t),placementId:parseInt(i)}}},triplelift:function(e){if(!e.hasOwnProperty("tripleliftOutstream")||!0!==e.tripleliftOutstream.ronOutstreamEnabled)return;let t=a?"PublisherDesk_Outstream_RON_mobile_PB":"PublisherDesk_Outstream_RON_PB";return m(tpdPublisherData.prebidServerBidders)&&tpdPublisherData.prebidServerBidders.includes("triplelift")&&(t="PublisherDesk_Outstream_RON_PB_s2s"),{bidder:"triplelift",params:{inventoryCode:t}}},unruly:function(e){if(e.hasOwnProperty("unruly")&&!0===e.unruly.outstreamEnabled)return{bidder:"unruly",params:{siteId:y(e.unruly.outstreamSiteId)}}},vidazoo:function(e){if(!e.hasOwnProperty("vidazooOutstream")||!0!==e.vidazooOutstream.outstreamEnabled)return;let t={bidder:"vidazoo",params:{cId:"648ac8f179e3c1473e99d1cd",pId:"59ac17c192832d0011283fe3",subDomain:"exchange"}};return tpdPublisherData.hasOwnProperty("generalData")&&1===tpdPublisherData.generalData.is_owned_and_operated&&(t.params.cId="648ac8cac163eb24e949a911"),t}},buildBidsArray(e,t){e=r.helpers.cloneObj(e);let i=[],n=r.bidderConfig;for(let a in r.prebid.outstream.bidGenerators){let s=r.prebid.outstream.bidGenerators[a](n,e,t);s&&i.push(s)}return i}},duplicateSlots:{bidderToAllowedSizes:function(e,t){if(!r.prebidSettings.hasOwnProperty("bidderToAllowedSizes")||"object"!=typeof r.prebidSettings.bidderToAllowedSizes)return e;var i,n=r.prebidSettings.bidderToAllowedSizes;if(Object.keys(n).length<=0)return e;var a=r.helpers.isItemInArray;for(let s in n){i=n[s];for(let o=t.bids.length-1,d;o>=0;o--)if(t.bids[o].bidder===s){d={code:t.code,mediaTypes:{banner:{sizes:[]}},bids:[t.bids[o]]};var l=[];for(let c=0,p=t.mediaTypes.banner.sizes.length;c<p;c++)a(i,t.mediaTypes.banner.sizes[c])&&l.push(t.mediaTypes.banner.sizes[c]);0===l.length||(d.mediaTypes.banner.sizes=l,e.new.push(d)),t.bids.splice(o,1);break}}return e.original=t,e=r.helpers.cloneObj(e)},biddertoSizeOverrides:function(e,t){var i,n;if(!r.prebidSettings.hasOwnProperty("bidderToDivIdSizeOverrides")||"object"!=typeof r.prebidSettings.bidderToDivIdSizeOverrides)return e;for(let a in r.prebidSettings.bidderToDivIdSizeOverrides)if((i=r.prebidSettings.bidderToDivIdSizeOverrides[a]).hasOwnProperty(t.code)){n=i[t.code];for(let s=t.bids.length-1,o;s>=0;s--)if(t.bids[s].bidder===a){o={code:t.code,mediaTypes:{banner:{sizes:n.slice()}},bids:[t.bids[s]]},e.new.push(o),t.bids.splice(s,1),e.original=t,e=JSON.parse(JSON.stringify(e));break}}return e},outstreamAdUnit:function(e){if(!e.original.mediaTypes.hasOwnProperty("video"))return e;let t=r.prebid.outstream.buildBidsArray(e.original,e.original.mediaTypes.video);if(0===t.length)return e;for(let i=t.length-1;i>=0;i--)if(!["amx","triplelift","vidazoo","medianet","unruly",].includes(t[i].bidder)){e.original.bids.push(t[i]),t.splice(i,1);continue}if(0===t.length)return e;let n={code:e.original.code,mediaTypes:{video:r.helpers.cloneObj(e.original.mediaTypes.video)},bids:t};return e.new.push(n),e.original=r.helpers.cloneObj(e.original),e},bannerAdUnit:function(e){if(!e.original.mediaTypes.hasOwnProperty("banner")||!e.original.mediaTypes.hasOwnProperty("video")||0===e.original.bids.length)return e;let t=e.original.bids.slice(),i=[];for(let n=t.length-1;n>=0;n--)if(["amx","gumgum","triplelift","vidazoo","medianet","unruly",].includes(t[n].bidder)){i.push(e.original.bids[n]),t.splice(n,1);continue}if(e.original.bids=t.slice(),0===i.length)return e;let a={code:e.original.code,mediaTypes:{banner:r.helpers.cloneObj(e.original.mediaTypes.banner)},bids:i};return e.new.push(a),e.original=r.helpers.cloneObj(e.original),e}},makeDuplicateSlotsIfNeeded:function(e){var t={original:e,new:[]};return t=this.duplicateSlots.bidderToAllowedSizes(t,e),t=this.duplicateSlots.biddertoSizeOverrides(t,e),t=this.duplicateSlots.outstreamAdUnit(t),t=this.duplicateSlots.bannerAdUnit(t)},bidderIds:{"unruly : banner":function(e){if(!e.hasOwnProperty("unruly")||!0!==e.unruly.enabled)return;let t={bidder:"unruly",params:{siteId:y(e.unruly.siteId)}};for(let i=0,n=p.length,r;i<n;i++)-1===(r=p[i].divId).indexOf("oop-")&&-1===r.indexOf("native-")&&-1===r.indexOf("skin-")&&-1===r.indexOf("interstitial-")&&p[i].bids.push(t)},"conversant : banner":function(e){if(!e.hasOwnProperty("conversant")||!0!==e.conversant.enabled)return;let t={bidder:"conversant",params:{site_id:e.conversant.siteId,secure:1}};for(let i=0,n=p.length,r;i<n;i++)-1===(r=p[i].divId).indexOf("oop-")&&-1===r.indexOf("native-")&&-1===r.indexOf("skin-")&&-1===r.indexOf("interstitial-")&&p[i].bids.push(t)},"pubmatic : banner":function(e){if(!e.hasOwnProperty("pubmatic")||!0!==e.pubmatic.enabled)return;let t=e.pubmatic.pubId,i=e.pubmatic.baseSlotName,n;for(let r=0,a=p.length,s;r<a;r++)-1===(s=p[r].divId).indexOf("oop-")&&-1===s.indexOf("native-")&&-1===s.indexOf("skin-")&&-1===s.indexOf("score-")&&(n={bidder:"pubmatic",params:{publisherId:t,adSlot:i+s}},p[r].bids.push(n))},"amx : banner":function(e){if(e.hasOwnProperty("amx")&&!0===e.amx.enabled){var t={bidder:"amx",params:{tagId:"cHVibGlzaGVyZGVzay1yb24uY29t"}};o.includes("tpd-amx-testmode")&&(t={bidder:"amx",params:{testMode:!0,tagId:"cHVibGlzaGVyZGVzay1yb24uY29t"}});for(let i=0,n=p.length,r;i<n;i++)-1===(r=p[i].divId).indexOf("oop-")&&-1===r.indexOf("skin-")&&-1===r.indexOf("interstitial-")&&p[i].bids.push(t)}},"qortex : banner":function(e){if(e.hasOwnProperty("qortex")&&!0===e.qortex.enabled){var t={bidder:"qortex",params:{host:e.qortex.host,zoneId:parseInt(e.qortex.zone_id)}};for(let i=0,n=p.length,r;i<n;i++)-1===(r=p[i].divId).indexOf("oop-")&&-1===r.indexOf("skin-")&&-1===r.indexOf("interstitial-")&&p[i].bids.push(t)}},"equativ : banner":function(e){if(e.hasOwnProperty("equativ")&&!0===e.equativ.enabled){var t={bidder:"smartadserver",params:{siteId:"599410",pageId:"1832423",formatId:"123334"}};for(let i=0,n=p.length,r;i<n;i++)!(-1!==(r=p[i].divId).indexOf("oop-")||-1!==r.indexOf("skin-")||-1!==r.indexOf("interstitial-")||["dsk-banner-ad-a","dsk-banner-ad-b","dsk-banner-ad-c","dsk-banner-ad-m","mob-banner-ad-a","mob-banner-ad-b",].includes(r))&&p[i].bids.push(t)}},"criteo : banner":function(e){if(e.hasOwnProperty("criteo")&&!0===e.criteo.enabled){var t={bidder:"criteo",params:{networkId:11947}};for(let i=0,n=p.length,r;i<n;i++)-1===(r=p[i].divId).indexOf("oop-")&&-1===r.indexOf("skin-")&&-1===r.indexOf("interstitial-")&&p[i].bids.push(t)}},"vidazoo : banner":function(e){if(!e.hasOwnProperty("vidazoo")||!0!==e.vidazoo.enabled)return;let t={bidder:"vidazoo",params:{cId:"6460e991f7760afe47ec6737",pId:"59ac17c192832d0011283fe3",subDomain:"exchange"}};tpdPublisherData.hasOwnProperty("generalData")&&1===tpdPublisherData.generalData.is_owned_and_operated&&(t.params.cId="646f2e26d606205c033c7a4d");for(let i=0,n=p.length,r;i<n;i++)-1===(r=p[i].divId).indexOf("oop-")&&-1===r.indexOf("skin-")&&-1===r.indexOf("interstitial-")&&p[i].bids.push(t)},"eplanning : banner":function(e){if(!e.hasOwnProperty("eplanning")||!0!==e.eplanning.enabled)return;let t={bidder:"eplanning",params:{ci:"61757"}};for(let i=0,n=p.length,r;i<n;i++)-1===(r=p[i].divId).indexOf("oop-")&&-1===r.indexOf("skin-")&&-1===r.indexOf("interstitial-")&&p[i].bids.push(t)},"adagio : banner":function(e){if(!e.hasOwnProperty("adagio")||!0!==e.adagio.enabled)return;let t;t=e.adagio.hasOwnProperty("site")&&e.adagio.site?e.adagio.site:(t=(t=s.replace(".co.uk",".com").replace("staging.","").replace("www.","")).substring(0,t.lastIndexOf("."))).charAt(0).toUpperCase()+t.slice(1);for(let i=0,n=p.length,r,a;i<n;i++)-1===(r=p[i].divId).indexOf("oop-")&&-1===r.indexOf("skin-")&&-1===r.indexOf("sky-")&&-1===r.indexOf("interstitial-")&&((a={bidder:"adagio",params:{organizationId:"1097"}}).params.site=t,a.params.placement=r.replace("dsk-","").replace("mob-",""),a.params.adUnitElementId=r,p[i].bids.push(a))},"ogury : banner":function(e){if(!a||!e.hasOwnProperty("ogury")||!0!==e.ogury.enabled)return;let t=e.ogury.assetKey,i=e.ogury.adUnitId;for(let n=0,r=p.length;n<r;n++)-1!==p[n].divId.indexOf("mob-banner-ad-a")&&p[n].bids.push({bidder:"ogury",params:{assetKey:t,adUnitId:i,gravity:"BOTTOM_LEFT"}})},"medianet : banner":function(e){if(!e.hasOwnProperty("medianet")||!0!==e.medianet.displayEnabled)return;let t=e.medianet.displayCrid,i=null;!0===e.medianet.outstreamEnabled&&"string"==typeof e.medianet.outstreamCrid&&e.medianet.outstreamCrid.length>0&&(i="401477671");for(let n=0,r=p.length,a,s,o,d;n<r;n++)!0===(a=p[n]).banner&&(-1!==(s=a.divId).indexOf("banner-ad")||-1!==s.indexOf("box-ad")||-1!==s.indexOf("native-ad")||-1!==s.indexOf("sided-ad")||-1!==s.indexOf("interstitial-ad"))&&(o=t,s.includes("interstitial")&&(o="267276127"),d=i&&(!0===a.video||!0===a.native)?{bidder:"medianet",params:{cid:"8CUWH6QD2",crid:i}}:{bidder:"medianet",params:{cid:"8CUWH6QD2",crid:o}},p[n].bids.push(d))},"triplelift : banner":function(e){var t;if(!e.hasOwnProperty("triplelift")||!0!==e.triplelift.ronEnabled)return;let i={bidder:"triplelift",params:{inventoryCode:e.triplelift.ronId}};for(let n=0,r=p.length,a,s;n<r;n++)if(!((a=p[n].divId).includes("oop")||a.includes("skin")||a.includes("score")||a.includes("interstitial"))&&m(s=p[n].bids)){if(0===s.length)p[n].bids.push(i);else{t=!1;for(let o=0,d=s.length;o<d;o++)if("triplelift"===s[o].bidder){t=!0;break}!1===t&&p[n].bids.push(i)}}},"mediafuse : banner":function(e){if(!e.hasOwnProperty("mediafuse")||!0!==e.mediafuse.enabled)return;let t=e.mediafuse.placementId;for(let i=0,n=p.length,r;i<n;i++)!0===p[i].banner&&(-1!==(r=p[i].divId).indexOf("banner-ad")||-1!==r.indexOf("box-ad")||-1!==r.indexOf("native-ad")||-1!==r.indexOf("sided-ad"))&&p[i].bids.push({bidder:"mediafuse",params:{placementId:t}})},"insticator : banner":function(e){if(!e.hasOwnProperty("insticator")||!0!==e.insticator.enabled)return;let t={bidder:"insticator",params:{adUnitId:e.insticator.adUnitId}};for(let i=0,n=p.length,r;i<n;i++)!0===p[i].banner&&(-1!==(r=p[i].divId).indexOf("banner-ad")||-1!==r.indexOf("box-ad")||-1!==r.indexOf("native-ad")||-1!==r.indexOf("sided-ad"))&&p[i].bids.push(t)},"minutemedia : banner":function(e){if(!e.hasOwnProperty("minutemedia")||!0!==e.minutemedia.enabled)return;let t=e.minutemedia.organizationId;for(let i=0,n=p.length,r;i<n;i++)!0===p[i].banner&&(-1!==(r=p[i].divId).indexOf("banner-ad")||-1!==r.indexOf("box-ad")||-1!==r.indexOf("native-ad")||-1!==r.indexOf("sided-ad")||-1!==r.indexOf("interstitial-ad"))&&p[i].bids.push({bidder:"minutemedia",params:{org:t}})}},testmodes:{forceOutstream:function(){o.includes("tpd-force-outstream")&&(c.onEvent("beforeRequestBids",function(e){for(let t=e.length-1;t>=0;t--){if(!e[t].mediaTypes.hasOwnProperty("video")){e.splice(t,1);continue}let i=e[t].mediaTypes;for(let n in i)"video"!==n&&delete e[t].mediaTypes[n]}return e}),c.onEvent("setTargeting",function(e){for(let t in e){if(!e[t].hasOwnProperty("hb_pb")||0===Object.keys(e[t]))continue;let i=r.slotManagement.getSlotByDivId(t);if(i){if("video"!==e[t].hb_format){i.setTargeting("hb_pb","0.00");continue}"20.00"!==i.getTargeting("hb_pb")[0]&&(console.log("[TPD] Forcing outstream win for "+t+", bidder is "+e[t].hb_bidder),i.setTargeting("hb_pb","20.00"))}}}))},forcePrebidWin:function(){o.includes("tpd-force-prebid-win")&&c.onEvent("bidResponse",function(e){return console.log("[TPD] Forcing win for : "+e.adUnitCode+" : "+e.bidderCode),e.cpm=20,e.adserverTargeting.hb_pb="20.00",e})},forceBidderWin:function(){o.includes("tpd-force-bidder-win")&&c.onEvent("bidResponse",function(e){let t=o.match(/tpd-force-bidder-win=([^&]+)/);if(t&&2===t.length){if(t=t[1],e.bidderCode===t)return console.log("[TPD] Forcing win for : "+e.adUnitCode+" : "+t),e.cpm=20,e.adserverTargeting.hb_pb="20.00",e}})}},processBidderIds:function(e){m(e)||(e=p);var t=r.bidderConfig;for(let i in this.bidderIds)try{this.bidderIds[i](t)}catch(n){r.debugging.error("Failed to process bidder ids for",n)}try{this.testmodes.forceBidderWin()}catch(a){r.debugging.error("Error applying force bidder win parameter",a)}try{this.testmodes.forcePrebidWin()}catch(s){r.debugging.error("Error applying force prebid win parameter",s)}try{this.testmodes.forceOutstream()}catch(o){r.debugging.error("Error applying force outstream parameter",o)}var d=r.bidderConfig.videoMimes||["application/json","video/3gpp","video/mp4","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-ms-wmv","video/x-msvideo",];for(let l=0,c=e.length,u,g,f,h;l<c;l++){g=e[l].bannerSizes,f=e[l].bids,u=e[l].divId,h={},function(){try{if(!0!==e[l].banner)return;h.banner={sizes:e[l].bannerSizes}}catch(t){r.debugging.error("Handling banner mediatype",t)}}(),function(){try{if(!0!==e[l].video)return;let t=e[l].videoSize;if(!t){r.debugging.warning(`[TPD] Outstream is enabled for ${e[l].divId}, but has no size`);return}h.video=r.prebid.mediaTypeGenerator.outstream(t,d)}catch(i){r.debugging.error("Error handling outstream",i)}}();let b=r.helpers.cloneObj({code:e[l].divId,mediaTypes:h,bids:f});e[l].prebid=b}return e},supplementaryPrebidIdProcessing:function(){try{for(let e=0,t=p.length;e<t;e++)if(!0===p[e].active&&p[e].prebid.mediaTypes.hasOwnProperty("video"))for(let i=0,n=p[e].prebid.bids.length;i<n;i++)"rubicon"===p[e].prebid.bids[i].bidder&&(p[e].prebid.bids[i].params.bidonmultiformat=!0,p[e].prebid.bids[i].params.video=p[e].prebid.bids[i].params.video||{},p[e].prebid.bids[i].params.video.size_id=203)}catch(a){r.debugging.error("Error applying rubicon bidonmultiformat as needed",a)}try{for(let s=0,o=p.length,d;s<o;s++)if(!0===p[s].active){d=!0===p[s].atf?1:3,p[s].prebid.mediaTypes.hasOwnProperty("banner")&&(p[s].prebid.mediaTypes.banner.pos=d),p[s].prebid.mediaTypes.hasOwnProperty("video")&&(p[s].prebid.mediaTypes.video.pos=d);for(let l=0,c=p[s].prebid.bids.length;l<c;l++)"rubicon"===p[s].prebid.bids[l].bidder&&(p[s].prebid.bids[l].params.position=!0===p[s].atf?"atf":"btf")}}catch(u){r.debugging.error("Error applying atf/btf parameter for prebid data",u)}}}),r.helpers.assignTopLevelFunctions("amazona9",{pubID:"8f0be570-94e3-4c8a-8dac-4372ca412efd",adServer:"googletag",excludeDivIdMatches:["native","oop","video",],outstreamSupportedDivIds:["dsk-box-ad-c","dsk-box-ad-d","dsk-box-ad-e","dsk-box-ad-f","dsk-box-ad-g","dsk-box-ad-h","dsk-box-ad-z","mob-box-ad-a","mob-box-ad-b","mob-box-ad-c","mob-box-ad-d","mob-box-ad-e","mob-box-ad-z",],allowedSizes:[[970,250],[970,90],[728,90],[468,60],[336,280],[320,100],[320,50],[300,600],[300,250],[300,75],[300,50],[250,250],[160,600],[120,600],[120,240],],setTargeting:init:function(){if(this.enabled=tpdPublisherData.hasOwnProperty("hasAmazon")&&!0===tpdPublisherData.hasAmazon,!0===r.gamLessAuction&&(this.enabled=!1),this.enabled){if(r.amazona9.initInPage=r.amazona9.initInPage||!1,!r.amazona9.initInPage){!function(e,t){!t[e]&&(t[e]={init:function(){i("i",arguments)},fetchBids:setDisplayBids:function(){},targetingKeys:_Q:[]});("apstag",e);var t={pubID:this.pubID,adServer:this.adServer};!0===e.tpd.cmp.haveToRun&&(t.gdpr={cmpTimeout:5e3}),"object"==typeof tpdPublisherData&&tpdPublisherData.hasOwnProperty("adapters")&&tpdPublisherData.adapters.includes("schain")&&(t.schain={complete:1,ver:"1.0",nodes:[{asi:"publisherdesk.com",sid:"100"+r.publisherId,hp:1},]});try{let i=c.getConfig("ortb2");"object"==typeof i&&i.hasOwnProperty("site")&&(t.signals={site:i.site})}catch(n){r.debugging.error("Failed to pass in prebid ortb2 data for amazon",n)}e.apstag.init(t)}r.amazona9.scriptInPage=r.amazona9.scriptInPage||!1,r.amazona9.scriptInPage||r.helpers.loadScript("https://c.amazon-adsystem.com/aax2/apstag.js")}},generateSlotData:function(e,t=!1){m(e)||(e=p);let i=r.amazona9.excludeDivIdMatches,n=r.amazona9.outstreamSupportedDivIds,a=[];for(let s=0,o=e.length,d,l,c,u;s<o;s++){if(d=e[s],!0!==t&&!0!==d.active)continue;l=d.divId,c=!1;for(let g=0,f=i.length;g<f;g++)if(l.includes(i[g])){c=!0;break}if(!0===c||!0!==e[s].banner)continue;if(u=!1,!0===d.video){for(let h=0,b=n.length;h<b;h++)if(l.includes(n[h])){u=!0;break}}let y=[],$=[];!0===d.banner&&(y=y.concat(d.bannerSizes)),!0===d.video&&y.push(d.videoSize);let v=r.helpers.isItemInArray;for(let S=0,I=y.length;S<I;S++)v(r.amazona9.allowedSizes,y[S])&&$.push(y[S]);let k;k=!1===d.video||!1===u?{slotID:l,slotName:l,sizes:$}:{slotID:l,slotName:l,mediaType:"multi-format",multiFormatProperties:{display:{sizes:$},video:{sizes:[d.videoSize]}}},a.push(k)}return a}}),r.helpers.assignTopLevelFunctions("confiant",{divIdToNumberOfForcedRefreshes:{},initIfEnabled:function(){if(!tpdPublisherData||!tpdPublisherData.hasOwnProperty("enableConfiant")||!0!==tpdPublisherData.enableConfiant)return;let t;t=r.hasOwnProperty("confiantPropertyIdOverride")?r.confiantPropertyIdOverride:tpdPublisherData.hasOwnProperty("confiantPropertyId")?tpdPublisherData.confiantPropertyId:"6lO5GsKczTxF31rGhzgp1weATnw",tpdPublisherData.hasOwnProperty("confiantFallbackMethod")&&["Fallback Tag","Standard Refresh"].includes(tpdPublisherData.confiantFallbackMethod)&&(e.confiant=e.confiant||{},e.confiant[t]=e.confiant[t]||{},e.confiant[t].clientSettings=e.confiant[t].clientSettings||{},"Standard Refresh"===tpdPublisherData.confiantFallbackMethod?e.confiant[t].clientSettings.callback=r.confiant.customCallbackStandardRefresh:e.confiant[t].clientSettings.callback=r.confiant.customFallbackFallbackTag);let i="gpt_and_prebid";!0===r.gamLessAuction&&(i="prebid");let n="https://cdn.confiant-integrations.net/"+t+"/"+i+"/config.js";r.helpers.loadScript(n)},customFallbackFallbackTag:function(e,i,n,s,o,d){let l;l=!0===r.gamLessAuction?d.prebid.s:d.dfp.s;var c=null;for(let u=0,g=p.length;u<g;u++)if(p[u].divId===l){c=p[u];break}if(!c)return;let f=r.fallbackTags.getFallbackTagForDivId(l);if(!f){r.confiant.customCallbackStandardRefresh(e,i,n,s,o,d);return}var h=t.getElementById(l);if(h&&(r.helpers.stopRefreshByDivId(l),r.gpt.destroySlotByDivId(l),h.firstElementChild&&(h.firstElementChild.style.display="none"),r.fallbackTags.injectFallbackTag(l,h,f),!1===a&&l.includes("sky-ad"))){var m=t.querySelector("#"+l+' [id*="google_ads_iframe_"]');m&&(m.style.display="none")}},customCallbackStandardRefresh:function(e,t,i,n,a,s){let o;if(o=!0===r.gamLessAuction?s.prebid.s:s.dfp.s,r.confiant.divIdToNumberOfForcedRefreshes.hasOwnProperty(o)){if(r.confiant.divIdToNumberOfForcedRefreshes[o]+=1,r.confiant.divIdToNumberOfForcedRefreshes[o]>1)return}else r.confiant.divIdToNumberOfForcedRefreshes[o]=1;setTimeout(function(){if("object"==typeof s&&s.hasOwnProperty("dfp")&&s.dfp.hasOwnProperty("s"))for(let e=0,t=p.length;e<t;e++){if(p[e].divId===s.dfp.s){if(p[e].rt=0,p[e].slot){!1===p[e].refreshed&&(p[e].refreshed=!0,p[e].slot.setTargeting("refresh",!0)),p[e].rc+=1,tpdPublisherData.hasOwnProperty("refreshLimit")&&"number"==typeof tpdPublisherData.refreshLimit&&p[e].rc>=tpdPublisherData.refreshLimit&&(p[e].re=!1),p[e].slot.setTargeting("refreshcount",String(p[e].rc)),r.auction.refresh(p[e].divId,p[e].slot);break}}}},5e3)}}),f={mode:"off",config:r.sideAds,container:null,w:null,divData:null,injectAd:function(e){var i=t.createElement("div");i.id=e.divId;for(let n=0,r=this.divData.length;n<r;n++)if(this.divData[n].divId===e.divId){this.divData[n].domEle=i,this.container.appendChild(this.divData[n].domEle);var a="position: sticky; top: "+this.config.topDistance+"px; display: block;";"left"===this.divData[n].position?a+=" left: 20px;":"right"===this.divData[n].position&&(a+=" right: 20px;"),this.divData[n].domEle.style.cssText=a}},run:function(){if(e.tpd.sideAds=e.tpd.sideAds||{},!0===e.tpd.sideAds.enabled){for(r=0,this.divData=this.config.divData,s=this.divData.length;r<s;r++)this.divData[r].active=!1;if(this.w=e.innerWidth||t.documentElement.clientWidth||t.getElementsByTagName("body")[0].clientWidth,!0===a||this.w<this.config.widthForOne){var i,n,r,s,o=[];for(r=0,s=this.divData.length;r<s;r++)o.push(this.divData[r].divId)}else{if(this.container=t.querySelector(this.config.containerSelector),!this.container)return;if(this.w<this.config.widthForTwo){for(r=0,s=this.divData.length;r<s;r++)if(this.divData[r].divId===this.config.choiceForOne){this.divData[r].active=!0,this.injectAd(this.divData[r]);break}this.setMode("one")}else{for(r=0,s=this.divData.length;r<s;r++)this.injectAd(this.divData[r]),this.divData[r].active=!0;this.setMode("two")}}i=this,n=function(){i.w=e.innerWidth||t.documentElement.clientWidth||t.getElementsByTagName("body")[0].clientWidth;var r=i.config;"off"!==i.mode&&i.w<r.widthForOne?(i.setMode("off"),e.removeEventListener("resize",n)):"two"===i.mode&&i.w<r.widthForTwo&&i.setMode("one")},e.addEventListener("resize",n)}},updateContainer:function(e,i){void 0===i&&(i=null),this.container.style.maxWidth=e+"px";var n=t.querySelector("#wrapper > div.header.header--new-nav");n&&("left"===i?(n.style.marginLeft="50px",n.style.marginRight="auto"):"right"===i?(n.style.marginLeft="auto",n.style.marginRight="50px"):(n.style.marginLeft="auto",n.style.marginRight="auto")),"left"===i?(this.container.style.marginLeft="50px",this.container.style.marginRight="auto"):"right"===i?(this.container.style.marginLeft="auto",this.container.style.marginRight="50px"):(this.container.style.marginLeft="auto",this.container.style.marginRight="auto")},setMode:function(e){if(e!==this.mode){if("off"===e){for(t=this.divData.length-1;t>=0;t--)this.divData[t].active=!1,this.divData[t].domEle&&(this.divData[t].domEle.style.display="none");this.updateContainer(this.w,null)}else if("one"===e){var t,i=this.config.choiceForOne;for(t=this.divData.length-1;t>=0;t--)i===this.divData[t].divId?(this.divData[t].domEle||this.injectAd(this.divData[t]),this.divData[t].active=!0,this.updateContainer(this.w-160-100,"left"===this.divData[t]?"right":"left"),this.divData[t].domEle.style.display="block"):(this.divData[t].active=!1,this.divData[t].domEle&&(this.divData[t].domEle.style.display="none"))}else if("two"===e)for(this.updateContainer(this.w-320-200,null),t=this.divData.length-1;t>=0;t--)this.divData[t].domEle||this.injectAd(this.divData[t]),this.divData[t].active=!0,this.divData[t].domEle.style.display="block";this.mode=e}}},r.helpers.assignTopLevelFunctions("sideAds",f),r.helpers.assignTopLevelFunctions("auction",{initialBreaker:function(e){!0===r.gamLessAuction?this.initialGamless(p,e):this.initial(p,e)},initialGamless:function(e,t){Array.isArray(e)||(e=p);let i=[];for(let n=0,a=e.length;n<a;n++)e[n].active&&e[n].domEle&&i.push(e[n].divId);return c.requestBids({adUnitCodes:i,timeout:r.initialTimeout,bidsBackHandler:function(){t()}}),e},initial:function(e,t,i=!0){m(e)||(e=p);let n=[];for(let a=e.length-1;a>=0;a--)e[a].active&&e[a].domEle&&n.push(e[a]);var s,o,d,l=[];for(let u=0,g=n.length;u<g;u++)l.push(n[u].divId);var f=r.initialTimeout;if(!0===i&&(r.initialAuctionCompletedSuccessfully=!1,setTimeout(function(){!1===r.initialAuctionCompletedSuccessfully&&(r.debugging.warning("Initial auction didn't complete properly, firing ad requests through fallback"),t(!1))},5e3)),r.amazona9.enabled&&n.length>0){let h;s=n,o=!1,d=!1,h={timeout:f,slots:r.amazona9.generateSlotData(s)},apstag.fetchBids(h,function(){o=!0,d&&(r.initialAuctionCompletedSuccessfully=!0,t())}),c.requestBids({adUnitCodes:l,timeout:f,bidsBackHandler:function(){d=!0,o&&(r.initialAuctionCompletedSuccessfully=!0,t())}})}else c.requestBids({adUnitCodes:l,timeout:f,bidsBackHandler:);return n},refresh:function(e,t){if(!0===r.amazona9.enabled){var i=!1,n=!1;c.requestBids({adUnitCodes:[e],timeout:r.refreshTimeout,bidsBackHandler:function(){n=!0,i&&(apstag.setDisplayBids(),c.setTargetingForGPTAsync([e]),r.gpt.events.preGptRefresh([t]),googletag.pubads().refresh([t]))}});let a=r.slotManagement.getTpdSlotObjByDivId(e),s=r.amazona9.generateSlotData([a]);apstag.fetchBids({timeout:r.refreshTimeout,slots:s},function(){i=!0,n&&(apstag.setDisplayBids(),c.setTargetingForGPTAsync([e]),r.gpt.events.preGptRefresh([t]),googletag.pubads().refresh([t]))})}else c.requestBids({adUnitCodes:[e],timeout:r.refreshTimeout,bidsBackHandler:function(){c.setTargetingForGPTAsync([e]),r.gpt.events.preGptRefresh([t]),googletag.pubads().refresh([t])}})},refreshGamless:function(e){c.requestBids({adUnitCodes:[e],timeout:r.refreshTimeout,bidsBackHandler:function(){c.setTargetingForGPTAsync([e]),r.slotManagement.renderGamLessAds(e)}})},earlyOop:function(){}}),r.helpers.assignTopLevelFunctions("refreshLoop",{refreshLimit:null,inViewObserver:null,start:function(i=5e3){var n;n=function(){if(r.refreshLoop.refreshLimit=null,tpdPublisherData&&tpdPublisherData.hasOwnProperty("refreshLimit")&&!isNaN(y(tpdPublisherData.refreshLimit))&&(r.refreshLoop.refreshLimit=y(tpdPublisherData.refreshLimit)+1),e.hasOwnProperty("IntersectionObserver")&&"function"==typeof e.IntersectionObserver){r.refreshLoop.inViewObserver=new e.IntersectionObserver(function(e){for(let t=0,i=e.length,n;t<i;t++){n=e[t].target.id;for(let r=0,a=p.length,s;r<a;r++)if((s=p[r]).divId===n){!0===e[t].isIntersecting?s.inView=!0:s.inView=!1;break}}});for(let i=0,n=p.length;i<n;i++)p[i].inView=!1,!0===p[i].re&&p[i].domEle&&r.refreshLoop.inViewObserver.observe(p[i].domEle)}e.tpd.refreshLoop.loop=setInterval(function(){if(!t.hidden)for(let i=0,n=p.length,a,s;i<n;i++){if(!1===(a=p[i]).re||a.hasOwnProperty("inView")&&!1===a.inView||(s=a.domEle.getBoundingClientRect()).top>e.innerHeight||s.bottom<0||(p[i].rt++,p[i].rt<p[i].rl))continue;if(p[i].rt=0,!a.slot){r.debugging.warning("Error refreshing "+a.divId+", no associated google slot");continue}!1===a.refreshed&&(p[i].refreshed=!0,a.slot.setTargeting("refresh",!0)),p[i].rc+=1,r.refreshLoop.refreshLimit&&a.rc>=tpdPublisherData.refreshLimit&&(a.re=!1),p[i].slot.setTargeting("refreshcount",String(a.rc));let o=r.auction.refresh;!0===r.gamLessAuction&&(o=r.auction.refreshGamless),o(a.divId,a.slot)}},1e3)},i?setTimeout(n,i):n()}}),r.cmd=r.cmd||[],r.cmdHandler=r.cmdHandler||{},r.cmdHandler=b(r.cmdHandler,{init:function(){var e=r.cmd.length;if(e>0)for(let t=0;t<e;t++)"function"==typeof r.cmd[t]&&r.cmd[t]();Object.defineProperty(r.cmd,"push",{enumerable:!1,configurable:!1,writable:!1,value:function(){for(var e=0,t=this.length,i=arguments.length;e<i;e++,t++)"function"==typeof arguments[e]&&arguments[e]();return t}})}}),r.cmd.push(function(){(function(){try{let e=t.querySelectorAll(".wp-block-gallery");if(0===e.length)return;let i=[],n=a?"mob-gallery-box-ad-z":"dsk-gallery-box-ad-z";for(let s=0,o=e.length,d,l;s<o;s++)if(d=e[s].querySelectorAll("."+n),0!==d.length)for(let c=0,u=d.length,g;c<u;c++)l=(g=d[c]).classList[0]+"-"+String(s+1)+"-"+String(c+1),g.id=l,i.push({slotId:n,divId:l,ele:g});if(0===i.length)return;r.helpers.afterDomContentLoaded(function(){setTimeout(3e3)})}catch(f){r.debugging.error("Continuous gallery ads error",f)}})(),function(){try{let e=t.querySelectorAll("[continuous-ad-container]");if(0===e.length)return;let i=[],n=a?"mob-box-ad-z":"dsk-box-ad-z";for(let s=0,o=e.length,d,l;s<o;s++)(d=e[s].querySelector("."+n))&&(l=d.classList[0]+"-"+String(s+1),d.id=l,i.push({slotId:n,divId:l,ele:d}));if(0===i.length)return;r.helpers.afterDomContentLoaded(function(){setTimeout(function(){for(let t=0,n=e.length;t<n;t++)e[t].style.display="block";r.helpers.createNewAds(i,p)},3e3)})}catch(c){r.debugging.error("Continuous Ads Error",c)}}()}),r.helpers.assignTopLevelFunctions("cmp",{haveToRun:!1,cbFired:!1,uspBack:!1,tcfBack:!1,setHaveToRun:function(){this.haveToRun=tpdPublisherData.hasOwnProperty("enableGoogleFundingChoices")&&!0===tpdPublisherData.enableGoogleFundingChoices&&!d.includes("flywheelstaging.com")&&!d.includes("go-vip.net")&&!d.includes(".wpengine.com"),o.includes("tpd-force-fc")&&(this.haveToRun=!0),o.includes("tpd-force-disable-fc")&&(this.haveToRun=!1)},setPrebidConfiguration:function(){let e=c.getConfig("consentManagement");e||(e={consentManagement:{}});let t={cmpApi:"iab"};r.adapters.includes("consentManagement")&&(e.consentManagement.gdpr=t),r.adapters.includes("consentManagementUsp")&&(e.consentManagement.usp=t),r.debugging.message("CMP : Prebid Configuration : "+JSON.stringify(e)),c.setConfig(e)},connectCallback:function(e){try{this.setPrebidConfiguration();let t="none";if(tpdPublisherData.hasOwnProperty("consentIntegrationLibrary")&&"string"==typeof tpdPublisherData.consentIntegrationLibrary&&(t=tpdPublisherData.consentIntegrationLibrary),"none"===t||!["google-funding-choices","other"].includes(t)){e();return}!function(e){if("other"===t){e();return}if("google-funding-choices"===t){let i="CONSENT_API_READY";o.includes("fc=alwaysshow")&&o.includes("fctype=ccpa")&&(i="CONSENT_DATA_READY");let n={};n[i]=e,window.googlefc=window.googlefc||{},window.googlefc.ccpa=window.googlefc.ccpa||{},window.googlefc.callbackQueue=window.googlefc.callbackQueue||[],window.googlefc.callbackQueue.push(n)}}(function(){function t(t=!0){window.__uspapi("getUSPData",1,function(i){r.debugging.message("CMP : USP data back : "+JSON.stringify(i)),r.cmp.uspBack=!0,!1===t?(r.debugging.message("CMP : Consent integration done ( USP only ), firing callback."),r.debugging.timeStat("Waiting for USP callback"),r.cmp.cbFired=!0,e()):!0!==r.cmp.tcfBack||r.cmp.cbFired||(r.debugging.message("CMP : Consent integration done, firing callback."),r.debugging.timeStat("Waiting for TCF and USP callbacks"),r.cmp.cbFired=!0,e())})}function i(t=!0){window.__tcfapi("addEventListener",2,function(i){r.debugging.message("CMP : addEventListener back : "+JSON.stringify(i)),"string"==typeof i.tcString&&i&&i.purpose&&i.purpose.consents&&(!1===i.purpose.consents["4"]?(googletag.pubads().setRequestNonPersonalizedAds(1),googletag.pubads().setTargeting("gdpr-mode-on","1")):googletag.pubads().setTargeting("gdpr-mode-on","0")),r.cmp.tcfBack=!0,!1===t?(r.debugging.message("CMP : Consent integration done ( TCF only ), firing callback."),r.debugging.timeStat("Waiting for TCF callback"),r.cmp.cbFired=!0,e()):!0!==r.cmp.uspBack||r.cmp.cbFired||(r.debugging.message("CMP : Consent integration done, firing callback."),r.debugging.timeStat("Waiting for TCF and USP callbacks"),r.cmp.cbFired=!0,e())})}r.debugging.timeStat("Waiting for CONSENT_API_READY flag"),"function"==typeof window.__uspapi&&"function"==typeof window.__tcfapi?(t(),i()):"function"!=typeof window.__uspapi&&"function"==typeof window.__tcfapi?(r.debugging.warning("Usp API not available"),i(!1)):"function"==typeof window.__uspapi&&"function"!=typeof window.__tcfapi&&(r.debugging.warning("TCF API not available"),t(!1))})}catch(i){r.debugging.message("CMP : Error running funding choices callback, loading without it. Error was "+i),r.cmp.cbFired=!0,e()}setTimeout(function(){!1===r.cmp.cbFired&&(r.cmp.cbFired=!0,r.debugging.message("CMP : Callback never fired, loading without it."),e())},5e3)}}),r.helpers.assignTopLevelFunctions("fallbackTags",{active:!1,readType:function(e){return e.includes('data-full-width-responsive="true"')||e.includes('data-ad-format="fluid"')?"AdSense Responsive":e.includes("adsbygoogle")?"AdSense":e.includes("contextual.media.net")?"Media.net":e.includes("resources.infolinks.com/js/infolinks_main.js")?"InfoLinks":e.includes("data-ad-tagid")?"ROI Media v2":e.includes("serving.roimediaconsultants.com")?"ROI Media":e.includes("OUTBRAIN")?"Outbrain":e.includes("rcm-na.amazon-adsystem.com")&&e.includes("iframe")?"Amazon Affiliate Iframe":e.includes("Brid_")?"Brid":e.includes(".decide.")?"Lockerdome":"Unknown"},roiMediaHeaderCodeRun:!1,injectRoiMediaHeaderCode:function(){try{this.roiMediaHeaderCodeRun=!0,r.helpers.loadScript("https://cdn.tpdads.com/ext/dist/roi-v2.min.js")}catch(e){console.log("[TPD] Error injecting ROI Media V2 Header Code : "+e)}},create:function(e,i){let n=t.createElement("div");return n.id="tpd-fallback-tag-"+e,n.innerHTML=i,n},nodeScriptReplace:function(e){if(!0===this.nodeScriptIs(e))e.parentNode.replaceChild(this.nodeScriptClone(e),e);else{var t=e.childNodes;if(t&&t.length)for(let i=0,n=t.length;i<n;i++)this.nodeScriptReplace(t[i])}return e},nodeScriptClone:function(e){var i=t.createElement("script");i.text=e.innerHTML;for(var n,r=-1,a=e.attributes;++r<a.length;)i.setAttribute((n=a[r]).name,n.value);return i},nodeScriptIs:injectFallbackTag:function(i,n,a){let s=r.fallbackTags.create(i,a),d=this.readType(a),l=r.slotManagement.getMaxAvailableWidthHeightByDivId(i);if(l&&(s.style.maxWidth=l.maxWidth+"px",s.style.maxHeight=l.maxHeight+"px"),s.style.marginLeft="auto",s.style.marginRight="auto","AdSense Responsive"===d&&l&&(s.style.width=l.maxWidth+"px",s.style.height=l.maxHeight+"px",s.style.margin="auto"),["AdSense","ROI Media","Amazon Affiliate Iframe",].includes(d)&&(s.style.width="fit-content"),"ROI Media v2"===d&&(!1===this.roiMediaHeaderCodeRun&&this.injectRoiMediaHeaderCode(),s.style.width="fit-content",s.style.marginLeft="auto",s.style.marginRight="auto"),"Outbrain"===d&&(s.innerHTML=s.innerHTML.replace("DROP_PERMALINK_HERE",o.replace("staging.","")),s.style.width=l.maxWidth+"px",s.style.height=l.maxHeight+"px"),"Brid"===d&&(s.style.maxWidth="unset",s.style.maxHeight="unset"),"Lockerdome"===d&&(s.style.display="initial"),"InfoLinks"===d&&r.bottomSticky.hide(),n.appendChild(s),s){let c=new MutationObserver(function(e){for(let t of e)if("childList"===t.type){for(let i of t.addedNodes)if(i&&"IFRAME"===i.tagName){i.getAttribute("title")||i.setAttribute("title","Advertisement"),c.disconnect();return}}});c.observe(s,{childList:!0,subtree:!0})}var p=t.getElementById("tpd-fallback-tag-"+i);p=this.nodeScriptReplace(p),"Outbrain"===d&&"object"==typeof e.OBR&&e.OBR.extern.researchWidget(),"none"===n.style.display&&(n.style.display="block")},haveAtLeastOneFallbackTag:function(){let e=tpdPublisherData.slots_full;for(let t=0,i=e.length;t<i;t++)if("object"==typeof e[t]&&e[t].hasOwnProperty("ft")&&"string"==typeof e[t].ft&&""!==e[t].ft)return!0;return!1},getFallbackTagForDivId(e){let t=r.slotManagement.getObjByDivId(e,!0);return t&&t.hasOwnProperty("ft")&&"string"==typeof t.ft&&""!==t.ft?t.ft:null},run:function(){try{if(!this.haveAtLeastOneFallbackTag())return;this.active=!0,googletag.pubads().addEventListener("slotRenderEnded",function(e){if((!0===e.isEmpty||o.includes("?tpd-force-fallbacks"))&&!o.includes("testmode=no-fill")){let i=e.slot.getSlotElementId(),n=r.slotManagement.normalizeDivIdForLookups(i);var s=null;for(let d=0,l=p.length;d<l;d++)if(p[d].divId===n){s=p[d];break}if(!s)return;let c=r.fallbackTags.getFallbackTagForDivId(n);if(c){var u=t.getElementById(i);if(u&&(r.helpers.stopRefreshByDivId(i),r.gpt.destroySlotByDivId(i),u.firstElementChild&&(u.firstElementChild.style.display="none"),r.fallbackTags.injectFallbackTag(i,u,c),!1===a&&i.includes("sky-ad"))){var g=t.querySelector("#"+i+' [id*="google_ads_iframe_"]');g&&(g.style.display="none")}}}})}catch(e){r.debugging.error("Error running fallback tags",e)}},injectAllFallbackTags:function(){0===p.length&&m(tpdPublisherData.slots_full)&&r.slotManagement.processSlotsFullData(),r.slotManagement.removeSlotsForDevice();for(let e=0,i=p.length,n,a;e<i;e++){if(n=p[e].divId,!(a=t.getElementById(n)))continue;let s=this.getFallbackTagForDivId(n);s&&this.injectFallbackTag(n,a,s)}},fullHandle:function(e){let i,n=null;if(e.hasOwnProperty("slot")?n=(i=e.slot).getSlotElementId():e.hasOwnProperty("divId")&&(n=e.divId),!n)return;let s=n;var o=null;for(let d=0,l=p.length;d<l;d++){if(p[d].divId===s){o=p[d];break}if(n.includes("box-ad-z")&&["dsk-box-ad-z","mob-box-ad-z"].includes(p[d].divId)){o=p[d],s=a?"mob-box-ad-z":"dsk-box-ad-z";break}}if(!o)return;let c=this.getFallbackTagForDivId(s);if(c){var u=t.getElementById(n);if(u&&(r.helpers.stopRefreshByDivId(n),r.gpt.destroySlotByDivId(n),u.firstElementChild&&(u.firstElementChild.style.display="none"),this.injectFallbackTag(n,u,c),!1===a&&n.includes("sky-ad"))){var g=t.querySelector("#"+n+' [id*="google_ads_iframe_"]');g&&(g.style.display="none")}}}}),r.helpers.assignTopLevelFunctions("sidedCo",{active:!1,auctioningAds:!1,siteIsSPA:!1,adEles:[],currentAdInd:1,findAndRenderNewAds:function(e,i=!1){let n=t.querySelectorAll(r.sidedCo.getSelector());n&&n.length>0&&(!r.sidedCo.auctioningAds||i?r.sidedCo.batchAuctionFoundEles(n):r.sidedCo.batchQueueFoundEles(n))},batchAuctionFoundEles:function(e){let t=[];for(let i=0,n=e.length;i<n;i++)t.push(e[i]);r.sidedCo.auctionAd(t)},batchQueueFoundEles:function(e){for(let t=0,i=e.length;t<i;t++)r.sidedCo.adEles.push(e[t])},auctionAd:function(e){m(e)||(e=[e]);let t=[];for(let i=0,n=e.length,a;i<n;i++){(a=e[i]).setAttribute("ad-fired","true");let s=a.id,o=s+"-"+this.currentAdInd;this.currentAdInd+=1,a.id=o,t.push({slotId:s,divId:o,ele:a});for(let d=0,l=p.length,c;d<l;d++)(c=p[d]).divId.includes("sided-ad")&&c.domEle&&!c.slot&&c.divId!==c.domEle.id&&(p[d].domEle=null)}r.helpers.createNewAds(t,p)},getSelector:isSidedInThePage:!1,setIsSidedInThePage:function(){return!!(r.helpers.scriptInPage("sided.co/embed-assets")||t.querySelector(".sided-widget"))&&(this.isSidedInThePage=!0,!0)},scanSetupAndStartListener:function(){try{if(this.setIsSidedInThePage(),this.siteIsSPA=r.helpers.tpdPublisherDataValidation("isSinglePageApp",[["=",!0]]),!this.isSidedInThePage&&!this.siteIsSPA)return;this.active=!0;let e=a?"mob-sided-ad-a":"dsk-sided-ad-a",i=!1;for(let n=0,s=p.length;n<s;n++)if(p[n].divId===e){i=!0;break}if(!i){this.active=!1;return}r.cmd.push(function(){r.sidedCo.findAndRenderNewAds(t),window.addEventListener("sided:init",function(e){let t=e.detail;"object"==typeof t&&t.hasOwnProperty("element")?(t=t.element,r.sidedCo.findAndRenderNewAds(t,!0)):r.sidedCo.findAndRenderNewAds(document,!0)})})}catch(o){r.debugging.error("Failed to run sided.co setup scan",o)}},runAdAuction:function(){if(!0===this.active)this.auctioningAds=!0,(this.isSidedInThePage||this.siteIsSPA)&&(r.sidedCo.adEles.length>0&&r.sidedCo.batchAuctionFoundEles(r.sidedCo.adEles),r.helpers.afterPageFullyLoaded(function(){r.sidedCo.htmlWidgetSearchAttempts=0,r.sidedCo.htmlWidgetSearchInterval=setInterval(function(){if(r.sidedCo.htmlWidgetSearchAttempts>=5){clearInterval(r.sidedCo.htmlWidgetSearchInterval);return}r.sidedCo.htmlWidgetSearchAttempts+=1,r.sidedCo.findAndRenderNewAds(document,!0)},2e3)}))}}),function(){r.helpers.optimeraIntegration=r.helpers.optimeraIntegration||{};var i={cid:null,runIfNeeded:function(){try{if(null===this.cid||!m(p)||0===p.length)return;var e=this;this.initializeData(),this.loadOptiCommonLibrary(}catch(t){console.log("[TPD] Optimera : Error handling : "+t)}},initializeData:function(){e.oDv=[this.cid],e.oVa={};for(let i=0,n=p.length,r,s;i<n;i++)!(r=(s=p[i]).divId).includes("oop")&&(s.isMobile||!a)&&(s.isDesktop||a)&&t.getElementById(r)&&(e.oDv.push(r),e.oVa[r]=["NULL"])},applyTargeting:function(){try{if(null===this.cid)return;if("object"==typeof e.oVa&&"object"==typeof e.optiCommon){e.oVa=e.optiCommon.getSplitterScores();var t=googletag.pubads().getSlots();if(m(t)&&t.length>0)for(let i=0,n=t.length,r;i<n;i++)r=t[i].getSlotElementId(),e.oVa.hasOwnProperty(r)&&t[i].setTargeting("optimera",e.oVa[r])}}catch(a){console.log("[TPD] Optimera : Error applying targeting : "+a)}},loadOptiCommonLibrary:function(i){window.tpd.helpers.loadScript("https://cdn.tpdads.com/ext/optiCommon-1.2.1.js",!0,t.head,function(){e.optiCommon.init({splitters:{additionalOptimeraParams:["country",],ignoreOptimeraDefaults:["mobilePlatform","browser",],customParams:[]}});let t=e.optiCommon.getOptimeraParams().country.split("-")[1];["us","au","ca","gb","de","nz"].includes(t)||(t="other"),e.optiCommon.overrideOptimeraParamValue("country",t);var n=e.optiCommon.getSplitterString();"string"==typeof n&&"object"==typeof oVa.device&&"object"==typeof oVa.device[n]&&(e.oVa=oVa.device[n]),i()})},loadScoreFile:function(e){let i=t.createElement("script");i.src="https://d15kdpgjg3unno.cloudfront.net/oPS.js?cid="+this.cid,i.id="optimera-ops",i.async=!0,i.setAttribute("data-cid","#"+this.cid+"#"),i.onload=(t.body||t.head).appendChild(i)},loadMeasurementScript:function(){let i=e.location;r.helpers.loadScript("https://dyv1bugovvq1g.cloudfront.net/"+this.cid+"/"+i.host+i.pathname+".js",!0,t.head,}};for(let n in i)r.helpers.hasOwnProperty(n)||(r.helpers.optimeraIntegration[n]=i[n])}(),h={enabled:!!o.includes("tpd-enable-debug"),runTimeCounter:performance.now(),message:function(e){!0===this.enabled&&(e="[TPD] "+e+".",console.log(e))},warning:function(e,t){e="[TPD] "+e+".",t&&(e+=" ",e+=t),console.warn(e)},error:loadScript:timeStat:function(e){if(!0!==this.enabled)return;let t=performance.now(),i=t-this.runTimeCounter;i=i.toFixed(2),console.log("[TPD] "+e+" took "+i+"ms."),this.runTimeCounter=t}},r.helpers.assignTopLevelFunctions("debugging",h),r.helpers.assignTopLevelFunctions("unsorted",{assignAdRequestTime:function(){r.adRequestTime=String(Math.round(100*t.timeline.currentTime)/100/1e3)},processTimeoutsAndOtherMainProperties:function(){var e,t;r.adUnitPath=tpdPublisherData.fullAdunitPath,r.adapters=tpdPublisherData.adapters,r.helpers.tpdPublisherDataValidation("initialTimeout")&&r.helpers.tpdPublisherDataValidation("refreshTimeout")?(e=tpdPublisherData.initialTimeout,t=tpdPublisherData.refreshTimeout):r.helpers.tpdPublisherDataValidation("initialTimeoutDesktop")&&r.helpers.tpdPublisherDataValidation("initialTimeoutMobile")&&r.helpers.tpdPublisherDataValidation("refreshTimeoutDesktop")&&r.helpers.tpdPublisherDataValidation("refreshTimeoutMobile")?a?(e=tpdPublisherData.initialTimeoutMobile,t=tpdPublisherData.refreshTimeoutMobile):(e=tpdPublisherData.initialTimeoutDesktop,t=tpdPublisherData.refreshTimeoutDesktop):(e=850,t=850),r.initialTimeout=e,r.refreshTimeout=t,r.hasSupplyChain=tpdPublisherData.hasSupplyChain,r.prebidSettings=r.prebidSettings||{},r.prebidSettings.enableSendAllBids=!tpdPublisherData.hasOwnProperty("enableSendAllBids")||tpdPublisherData.enableSendAllBids,r.gamLessAuction=r.helpers.tpdPublisherDataValidation("gamlessAuction",[["=",!0]])},processRunTimeSequence:function(e){e=e.slice();for(let t=0,i=e.length,n,a,s,o;t<i;t++)try{if(n=e[t].path,a=e[t].timeStat,s=e[t].breaker,o=null,s&&(o=function(){r.unsorted.processRunTimeSequence(e.slice(t+1))}),r.debugging.message("Executing function part: "+n.join(".")),3===n.length){if(s){r[n[0]][n[1]][n[2]](o);return}r[n[0]][n[1]][n[2]]()}else if(2===n.length){if(s){r[n[0]][n[1]](o);return}r[n[0]][n[1]]()}else if(1===n.length){if(s){r[n[0]](o);return}r[n[0]]()}a&&r.debugging.timeStat(a)}catch(d){r.debugging.error("Failed to execute sequence part "+e[t].path.join("."),d)}},afterFirstScrollBreaker:function(i){if(!r.helpers.tpdPublisherDataValidation("loadAdsAfterFirstScroll",[["=",!0]])){i();return}!e.hasOwnProperty("scrollY")||"number"!=typeof e.scrollY||e.scrollY>0?i():(r.firstScrollListenerCb=t.addEventListener("scroll",r.firstScrollListenerCb))},dataFileOverrideBreaker:function(i){if(!o.includes("tpd-override-data-file-path=")){i();return}delete e.tpdPublisherData;let n=o.match(/tpd-override-data-file-path=([^\&]+)/);setTimeout(function(){r.helpers.loadScript(decodeURIComponent(n[1]),!0,t.head,i)},5e3)}}),r.helpers.assignTopLevelFunctions("heavyAdIntervention",{run:function(){r.helpers.tpdPublisherDataValidation("heavyAdInterventionHandlerEnabled",[["=",!0]])&&e.addEventListener("message",r.heavyAdIntervention.messageReceiver)},messageReceiver:function(e){if("object"!=typeof e||"string"!=typeof e.data)return;let t=e.data;if(!t.includes("[TPD]")||-1===t.indexOf("[TPD] Intervention on "))return;let i=t.replace("[TPD] Intervention on ","");r.heavyAdIntervention.handle(i)},handle:function(e){let i=r.slotManagement.getTpdSlotObjByDivId(e);if(!i)return;let n=i.slot;if(n&&(i.hasOwnProperty("hva")?i.hva+=1:i.hva=1,n.setTargeting("hva",[i.hva]),1===i.hva&&(console.log("[TPD][HeavyAdIntervention] Refreshing because of browser intervention "+e,n),r.auction.refresh(e,n)),2===i.hva)){console.log("[TPD][HeavyAdIntervention] Firing fallback tag because of browser intervention "+e);let a=r.fallbackTags.getFallbackTagForDivId(e);if(!a){console.log("[TPD][HeavyAdIntervention] No fallback tag available.");return}var s=t.getElementById(e);if(!s)return;r.helpers.stopRefreshByDivId(e),r.gpt.destroySlotByDivId(e),s.firstElementChild&&(s.firstElementChild.style.display="none"),r.fallbackTags.injectFallbackTag(e,s,a)}}}),r.run=function(){for(let e in tpdPublisherData.hasOwnProperty("globalPrebidNamespace")&&(c=window[tpdPublisherData.globalPrebidNamespace]),r.data=r.data||{},tpdPublisherData)r.data.hasOwnProperty(e)||(r.data[e]=tpdPublisherData[e]);r.data=tpdPublisherData,r.debugging.message("[TPD] Starting Run-time!");var t=r.helpers.shouldSuppressAds();if(!0===t.suppressing){if("Full Incl. Third Party"===t.suppressionMethod){r.slotManagement.removeExtraAdSpacingWherePossible(),r.helpers.afterDomContentLoaded(;return}if("Full"===t.suppressionMethod){r.slotManagement.removeExtraAdSpacingWherePossible();return}if("Fallback Tags"===t.suppressionMethod){r.fallbackTags.injectAllFallbackTags();return}r.debugging.warning("Invalid ad suppression method defined : ",t.suppressionMethod)}r.unsorted.processRunTimeSequence([{timeStat:null,path:["helpers","geoBlocking"],breaker:!0},{timeStat:null,path:["debugging","loadScript"]},{timeStat:null,path:["helpers","applyDataOverrides"]},{timeStat:"Checking for googletag js file and loading if not found",path:["gpt","lookForScriptAndInjectIfNotFound"]},{timeStat:"Checking for data file override",path:["unsorted","dataFileOverrideBreaker"],breaker:!0},{timeStat:"Gathering first publisher data properties",path:["unsorted","processTimeoutsAndOtherMainProperties"]},{timeStat:"Initializing confiant if needed",path:["confiant","initIfEnabled"]},{timeStat:"Handling additional CSS and JS.",path:["helpers","handleAdditionalCssAndJs"]},{timeStat:"Initializing interstitials if needed",path:["interstitials","runInit"]},{timeStat:"Processing slots data.",path:["slotManagement","processSlotsFullData"]},{timeStat:null,path:["slotManagement","handleGlobalPrebidIDSettings"]},{timeStat:null,path:["slotManagement","handleGlobalRefreshRate"]},{timeStat:"Firing third party tags batch #1",path:["thirdPartyTags","thirdPartyTagsBatches","one"]},{timeStat:"Handling teads cookieless tag",path:["helpers","handleTeadsCookielessTag"]},{timeStat:"Handling sided.co initialization",path:["sidedCo","scanSetupAndStartListener"]},{timeStat:"Waiting for googletag.cmd to initialize",path:["gpt","queue"],breaker:!0},{timeStat:null,path:["gpt","handleShowTestmodeToAdmins"]},{timeStat:null,path:["gpt","setListeners"]},{timeStat:null,path:["gpt","handleUniversalTpdLogo"]},{timeStat:"Running site's custom pre dom complete functionality",path:["helpers","handleCustomPreDomComplete"]},{timeStat:"Queueing site's custom post dom complete functionality",path:["helpers","handleCustomPostDomComplete"]},{timeStat:"Filtering slots for device",path:["slotManagement","removeSlotsForDevice"]},{timeStat:"Filling out data in tpdSlots array",path:["slotManagement","appendSlotData"]},{timeStat:"Initializing prebid settings object",path:["prebid","init"]},{timeStat:"Starting fallback tag listener",path:["fallbackTags","run"]},{timeStat:"Running the optimera integration",path:["helpers","optimeraIntegration","runIfNeeded"]},{timeStat:null,path:["cmp","setHaveToRun"]},{timeStat:"Initializing the apstag library",path:["amazona9","init"]},{timeStat:null,path:["cmp","connectCallback"],breaker:!0},{timeStat:null,path:["unsorted","afterFirstScrollBreaker"],breaker:!0},{timeStat:"Setting prebid user IDs.",path:["prebid","setUserIds"]},{timeStat:"Executing geo tracking.",path:["helpers","geoTracking"],breaker:!0},{timeStat:"Applying ortb2 data",path:["prebid","extendOrtb2ConfigurationWhereAvailable"]},{timeStat:"Waiting for DOMContentLoaded event",path:["helpers","afterDomContentLoaded"],breaker:!0},{timeStat:"Running top sticky if needed",path:["topSticky","run"]},{timeStat:"Running bottom sticky if needed",path:["bottomSticky","run"]},{timeStat:"Running side ads",path:["sideAds","run"]},{timeStat:null,path:["slotManagement","cloneSlots"]},{timeStat:"Scanning ad divs in the page",path:["slotManagement","scanDomEles"]},{timeStat:"Adding slot-specific CSS",path:["helpers","addSlotSpecificCss"]},{timeStat:"Applying size mapping where needed",path:["slotManagement","applySizeMapping"]},{timeStat:"Processing prebid IDs",path:["prebid","processBidderIds"]},{timeStat:null,path:["prebid","supplementaryPrebidIdProcessing"]},{timeStat:"Creating prebid ad units ( pbjs.adUnits )",path:["prebid","createAdUnits"]},{timeStat:"Starting prebid listeners",path:["prebid","listeners"]},{timeStat:"Defining googletag slots",path:["gpt","defineAllSlots"]},{timeStat:"Defining interstitial unit if needed",path:["interstitials","defineSlot"]},{timeStat:null,path:["gpt","mainSettings"]},{timeStat:"Applying standard googletag targeting",path:["gpt","targeting"]},{timeStat:"Defining brid macros object if needed",path:["helpers","defineBridMacrosObjectIfNeeded"]},{timeStat:"Applying ID manipulations as needed for PBS.",path:["prebid","idManipulationsFors2s"]},{timeStat:"Running initial prebid + apstag auction",path:["auction","initialBreaker"],breaker:!0},{timeStat:"Applying optimera targeting",path:["helpers","optimeraIntegration","applyTargeting"]},{timeStat:"Enabling googletag services",path:["gpt","enableServices"]},{timeStat:"Applying targeting for apstag bids",path:["amazona9","setTargeting"]},{timeStat:"Applying targeting for prebid bids",path:["prebid","setTargeting"]},{timeStat:"Setting PPID value for GPT using shared ID.",path:["gpt","setPPID"]},{timeStat:"Handling heavy ad intervention listener.",path:["heavyAdIntervention","run"]},{timeStat:"Running googletag.display on active slots",path:["gpt","displayAll"]},{timeStat:"Running googletag.pubads().refresh",path:["gpt","refreshSlots"]},{timeStat:"Rendering ads without GAM if needed",path:["slotManagement","renderGamLessAds"]},{timeStat:null,path:["unsorted","assignAdRequestTime"]},{timeStat:"Handling any functions added to TPD's command queue ( tpd.cmd )",path:["cmdHandler","init"]},{timeStat:"Running sided ad auction",path:["sidedCo","runAdAuction"]},{timeStat:null,path:["prebid","userSyncTrigger"]},{timeStat:null,path:["refreshLoop","start"]},{timeStat:null,path:["helpers","loadExtensions"]},{timeStat:"Firing third party tags batch #2",path:["thirdPartyTags","thirdPartyTagsBatches","two"]},{timeStat:"Firing third party tags batch #3",path:["thirdPartyTags","thirdPartyTagsBatches","three"]},{timeStat:null,path:["prebid","setS2sRefreshTimeout"]},])}}();