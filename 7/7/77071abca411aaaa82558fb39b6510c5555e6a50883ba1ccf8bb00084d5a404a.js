
// Copyright 2012 Google Inc. All rights reserved.
 
(function(){

var data = {
"resource": {
  "version":"1",
  
  "macros":[{"function":"__e"},{"function":"__cid"}],
  "tags":[{"function":"__rep","once_per_event":true,"vtp_containerId":["macro",1],"tag_id":1}],
  "predicates":[{"function":"_eq","arg0":["macro",0],"arg1":"gtm.js"}],
  "rules":[[["if",0],["add",0]]]
},
"runtime":[ [50,"__cid",[46,"a"],[36,[17,[13,[41,"$0"],[3,"$0",["require","getContainerVersion"]],["$0"]],"containerId"]]]
 
]
,"entities":{
"__cid":{"2":true,"4":true,"3":true}


}
,"permissions":{
"__cid":{"read_container_data":{}}


}



,"security_groups":{
"google":[
"__cid"

]


}



};


var aa,ba=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ca=function(a){return a.raw=a},ea=function(a,b){a.raw=b;return a},fa=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:ba(a)};throw Error(String(a)+" is not an iterable or ArrayLike");},ha=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c},ka=function(a){return a instanceof Array?a:
ha(fa(a))},la="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},ma;if("function"==typeof Object.setPrototypeOf)ma=Object.setPrototypeOf;else{var oa;a:{var pa={a:!0},qa={};try{qa.__proto__=pa;oa=qa.a;break a}catch(a){}oa=!1}ma=oa?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var ra=ma,sa=function(a,b){a.prototype=la(b.prototype);a.prototype.constructor=a;if(ra)ra(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.jo=b.prototype},ta=function(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b};/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var ua=this||self,va=function(a){return a};var wa=function(a,b){this.h=a;this.s=b};var xa=function(){this.h={};this.C={}};aa=xa.prototype;aa.get=function(a){return this.h["dust."+a]};aa.set=function(a,b){a="dust."+a;this.C.hasOwnProperty(a)||(this.h[a]=b)};aa.Zh=function(a,b){this.set(a,b);this.C["dust."+a]=!0};aa.has=function(a){return this.h.hasOwnProperty("dust."+a)};aa.remove=function(a){a="dust."+a;this.C.hasOwnProperty(a)||delete this.h[a]};var ya=function(){this.quota={}};ya.prototype.reset=function(){this.quota={}};var za=function(a,b){this.X=a;this.M=function(c,d,e){return c.apply(d,e)};this.C=b;this.s=new xa;this.h=this.F=void 0};za.prototype.add=function(a,b){Aa(this,a,b,!1)};var Aa=function(a,b,c,d){d?a.s.Zh(b,c):a.s.set(b,c)};za.prototype.set=function(a,b){!this.s.has(a)&&this.C&&this.C.has(a)?this.C.set(a,b):this.s.set(a,b)};za.prototype.get=function(a){return this.s.has(a)?this.s.get(a):this.C?this.C.get(a):void 0};za.prototype.has=function(a){return!!this.s.has(a)||!(!this.C||!this.C.has(a))};
var Da=function(a){var b=new za(a.X,a);a.F&&(b.F=a.F);b.M=a.M;b.h=a.h;return b};var Ea=function(){},Fa=function(a){return"function"===typeof a},k=function(a){return"string"===typeof a},Ga=function(a){return"number"===typeof a&&!isNaN(a)},Ha=Array.isArray,Ia=function(a,b){if(a&&Ha(a))for(var c=0;c<a.length;c++)if(a[c]&&b(a[c]))return a[c]},Ja=function(a,b){if(!Ga(a)||!Ga(b)||a>b)a=0,b=2147483647;return Math.floor(Math.random()*(b-a+1)+a)},La=function(a,b){for(var c=new Ka,d=0;d<a.length;d++)c.set(a[d],!0);for(var e=0;e<b.length;e++)if(c.get(b[e]))return!0;return!1},Na=function(a,
b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},Oa=function(a){return!!a&&("[object Arguments]"===Object.prototype.toString.call(a)||Object.prototype.hasOwnProperty.call(a,"callee"))},Pa=function(a){return Math.round(Number(a))||0},Qa=function(a){return"false"===String(a).toLowerCase()?!1:!!a},Ra=function(a){var b=[];if(Ha(a))for(var c=0;c<a.length;c++)b.push(String(a[c]));return b},Sa=function(a){return a?a.replace(/^\s+|\s+$/g,""):""},Ta=function(){return new Date(Date.now())},
Ua=function(){return Ta().getTime()},Ka=function(){this.prefix="gtm.";this.values={}};Ka.prototype.set=function(a,b){this.values[this.prefix+a]=b};Ka.prototype.get=function(a){return this.values[this.prefix+a]};
var Va=function(a,b,c){return a&&a.hasOwnProperty(b)?a[b]:c},Wa=function(a){var b=a;return function(){if(b){var c=b;b=void 0;try{c()}catch(d){}}}},Xa=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},Ya=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]),c.push.apply(c,b[a[d]]||[]);return c},Za=function(a,b){return a.substring(0,b.length)===b},$a=function(a,b){var c=l;b=b||[];for(var d=c,e=0;e<a.length-1;e++){if(!d.hasOwnProperty(a[e]))return;d=d[a[e]];if(0<=b.indexOf(d))return}return d},
ab=function(a,b){for(var c={},d=c,e=a.split("."),f=0;f<e.length-1;f++)d=d[e[f]]={};d[e[e.length-1]]=b;return c},bb=/^\w{1,9}$/,cb=function(a,b){a=a||{};b=b||",";var c=[];Na(a,function(d,e){bb.test(d)&&e&&c.push(d)});return c.join(b)},db=function(a,b){function c(){++d===b&&(e(),e=null,c.done=!0)}var d=0,e=a;c.done=!1;return c};function eb(a,b){for(var c,d=0;d<b.length&&!(c=fb(a,b[d]),c instanceof wa);d++);return c}function fb(a,b){try{var c=a.get(String(b[0]));if(!c||"function"!==typeof c.invoke)throw Error("Attempting to execute non-function "+b[0]+".");return c.invoke.apply(c,[a].concat(b.slice(1)))}catch(e){var d=a.F;d&&d(e,b.context?{id:b[0],line:b.context.line}:null);throw e;}};var gb=function(){this.C=new ya;this.h=new za(this.C)};gb.prototype.execute=function(a,b){var c=Array.prototype.slice.call(arguments,0);return this.s(c)};gb.prototype.s=function(a){for(var b,c=0;c<arguments.length;c++)b=fb(this.h,arguments[c]);return b};gb.prototype.F=function(a,b){var c=Da(this.h);c.h=a;for(var d,e=1;e<arguments.length;e++)d=fb(c,arguments[e]);return d};var hb=function(){xa.call(this);this.s=!1};sa(hb,xa);var ib=function(a,b){var c=[],d;for(d in a.h)if(a.h.hasOwnProperty(d))switch(d=d.substr(5),b){case 1:c.push(d);break;case 2:c.push(a.get(d));break;case 3:c.push([d,a.get(d)])}return c};hb.prototype.set=function(a,b){this.s||xa.prototype.set.call(this,a,b)};hb.prototype.Zh=function(a,b){this.s||xa.prototype.Zh.call(this,a,b)};hb.prototype.remove=function(a){this.s||xa.prototype.remove.call(this,a)};hb.prototype.Eb=function(){this.s=!0};/*
 jQuery (c) 2005, 2012 jQuery Foundation, Inc. jquery.org/license. */
var jb=/\[object (Boolean|Number|String|Function|Array|Date|RegExp)\]/,kb=function(a){if(null==a)return String(a);var b=jb.exec(Object.prototype.toString.call(Object(a)));return b?b[1].toLowerCase():"object"},lb=function(a,b){return Object.prototype.hasOwnProperty.call(Object(a),b)},nb=function(a){if(!a||"object"!=kb(a)||a.nodeType||a==a.window)return!1;try{if(a.constructor&&!lb(a,"constructor")&&!lb(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var b in a);return void 0===
b||lb(a,b)},z=function(a,b){var c=b||("array"==kb(a)?[]:{}),d;for(d in a)if(lb(a,d)){var e=a[d];"array"==kb(e)?("array"!=kb(c[d])&&(c[d]=[]),c[d]=z(e,c[d])):nb(e)?(nb(c[d])||(c[d]={}),c[d]=z(e,c[d])):c[d]=e}return c};var ob=function(a){for(var b=[],c=0;c<a.length();c++)a.has(c)&&(b[c]=a.get(c));return b},pb=function(a){if(void 0==a||Ha(a)||nb(a))return!0;switch(typeof a){case "boolean":case "number":case "string":case "function":return!0}return!1},qb=function(a){return"number"===typeof a&&0<=a&&isFinite(a)&&0===a%1||"string"===typeof a&&"-"!==a[0]&&a===""+parseInt(a,10)};var rb=function(a){this.s=new hb;this.h=[];this.C=!1;a=a||[];for(var b in a)a.hasOwnProperty(b)&&(qb(b)?this.h[Number(b)]=a[Number(b)]:this.s.set(b,a[b]))};aa=rb.prototype;aa.toString=function(a){if(a&&0<=a.indexOf(this))return"";for(var b=[],c=0;c<this.h.length;c++){var d=this.h[c];null===d||void 0===d?b.push(""):d instanceof rb?(a=a||[],a.push(this),b.push(d.toString(a)),a.pop()):b.push(String(d))}return b.join(",")};
aa.set=function(a,b){if(!this.C)if("length"===a){if(!qb(b))throw Error("RangeError: Length property must be a valid integer.");this.h.length=Number(b)}else qb(a)?this.h[Number(a)]=b:this.s.set(a,b)};aa.get=function(a){return"length"===a?this.length():qb(a)?this.h[Number(a)]:this.s.get(a)};aa.length=function(){return this.h.length};aa.Wb=function(){for(var a=ib(this.s,1),b=0;b<this.h.length;b++)a.push(b+"");return new rb(a)};aa.remove=function(a){qb(a)?delete this.h[Number(a)]:this.s.remove(a)};
aa.pop=function(){return this.h.pop()};aa.push=function(a){return this.h.push.apply(this.h,Array.prototype.slice.call(arguments))};aa.shift=function(){return this.h.shift()};aa.splice=function(a,b,c){return new rb(this.h.splice.apply(this.h,arguments))};aa.unshift=function(a){return this.h.unshift.apply(this.h,Array.prototype.slice.call(arguments))};aa.has=function(a){return qb(a)&&this.h.hasOwnProperty(a)||this.s.has(a)};aa.Eb=function(){this.C=!0;Object.freeze(this.h);this.s.Eb()};var sb=function(){hb.call(this)};sa(sb,hb);sb.prototype.Wb=function(){return new rb(ib(this,1))};function tb(){for(var a=ub,b={},c=0;c<a.length;++c)b[a[c]]=c;return b}function vb(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ";a+=a.toLowerCase()+"0123456789-_";return a+"."}var ub,wb;function xb(a){ub=ub||vb();wb=wb||tb();for(var b=[],c=0;c<a.length;c+=3){var d=c+1<a.length,e=c+2<a.length,f=a.charCodeAt(c),g=d?a.charCodeAt(c+1):0,h=e?a.charCodeAt(c+2):0,m=f>>2,n=(f&3)<<4|g>>4,p=(g&15)<<2|h>>6,q=h&63;e||(q=64,d||(p=64));b.push(ub[m],ub[n],ub[p],ub[q])}return b.join("")}
function yb(a){function b(m){for(;d<a.length;){var n=a.charAt(d++),p=wb[n];if(null!=p)return p;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n);}return m}ub=ub||vb();wb=wb||tb();for(var c="",d=0;;){var e=b(-1),f=b(0),g=b(64),h=b(64);if(64===h&&-1===e)return c;c+=String.fromCharCode(e<<2|f>>4);64!=g&&(c+=String.fromCharCode(f<<4&240|g>>2),64!=h&&(c+=String.fromCharCode(g<<6&192|h)))}};var zb={},Ab=function(a,b){zb[a]=zb[a]||[];zb[a][b]=!0},Bb=function(){delete zb.GA4_EVENT},Cb=function(a){var b=zb[a];if(!b||0===b.length)return"";for(var c=[],d=0,e=0;e<b.length;e++)0===e%8&&0<e&&(c.push(String.fromCharCode(d)),d=0),b[e]&&(d|=1<<e%8);0<d&&c.push(String.fromCharCode(d));return xb(c.join("")).replace(/\.+$/,"")};var Db=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Eb,Fb=function(){if(void 0===Eb){var a=null,b=ua.trustedTypes;if(b&&b.createPolicy){try{a=b.createPolicy("goog#html",{createHTML:va,createScript:va,createScriptURL:va})}catch(c){ua.console&&ua.console.error(c.message)}Eb=a}else Eb=a}return Eb};var Gb=function(a){this.h=a};Gb.prototype.toString=function(){return this.h+""};var Hb=function(a){return a instanceof Gb&&a.constructor===Gb?a.h:"type_error:TrustedResourceUrl"},Ib={},Jb=function(a){var b=a,c=Fb(),d=c?c.createScriptURL(b):b;return new Gb(d,Ib)};var Lb=function(a){this.h=a};Lb.prototype.toString=function(){return this.h.toString()};var Mb=function(a){return a instanceof Lb&&a.constructor===Lb?a.h:"type_error:SafeUrl"},Nb={},Ob=new Lb("about:invalid#zClosurez",Nb);var Pb,Qb;a:{for(var Rb=["CLOSURE_FLAGS"],Sb=ua,Tb=0;Tb<Rb.length;Tb++)if(Sb=Sb[Rb[Tb]],null==Sb){Qb=null;break a}Qb=Sb}var Ub=Qb&&Qb[610401301];Pb=null!=Ub?Ub:!1;function Vb(){var a=ua.navigator;if(a){var b=a.userAgent;if(b)return b}return""}var Wb,Xb=ua.navigator;Wb=Xb?Xb.userAgentData||null:null;function Yb(a){return Pb?Wb?Wb.brands.some(function(b){var c=b.brand;return c&&-1!=c.indexOf(a)}):!1:!1}function Zb(a){return-1!=Vb().indexOf(a)};function $b(){return Pb?!!Wb&&0<Wb.brands.length:!1}function ac(){return $b()?!1:Zb("Opera")}function bc(){return Zb("Firefox")||Zb("FxiOS")}function cc(){return $b()?Yb("Chromium"):(Zb("Chrome")||Zb("CriOS"))&&!($b()?0:Zb("Edge"))||Zb("Silk")};var dc={},ec=function(a){this.h=a};ec.prototype.toString=function(){return this.h.toString()};var fc=function(a){return a instanceof ec&&a.constructor===ec?a.h:"type_error:SafeHtml"};/*

 SPDX-License-Identifier: Apache-2.0
*/
var gc=ca([""]),hc=ea(["\x00"],["\\0"]),ic=ea(["\n"],["\\n"]),jc=ea(["\x00"],["\\u0000"]);function kc(a){return-1===a.toString().indexOf("`")}kc(function(a){return a(gc)})||kc(function(a){return a(hc)})||kc(function(a){return a(ic)})||kc(function(a){return a(jc)});var lc=function(a){this.ym=a};function mc(a){return new lc(function(b){return b.substr(0,a.length+1).toLowerCase()===a+":"})}var nc=[mc("data"),mc("http"),mc("https"),mc("mailto"),mc("ftp"),new lc(function(a){return/^[^:]*([/?#]|$)/.test(a)})];function oc(a,b){b=void 0===b?nc:b;if(a instanceof Lb)return a;for(var c=0;c<b.length;++c){var d=b[c];if(d instanceof lc&&d.ym(a))return new Lb(a,Nb)}}function pc(a){var b;b=void 0===b?nc:b;return oc(a,b)||Ob}var qc="function"===typeof URL;
function rc(a){var b;a:if(qc){var c;try{c=new URL(a)}catch(g){b="https:";break a}b=c.protocol}else{var d;b:{var e=document.createElement("a");try{e.href=a}catch(g){d=void 0;break b}var f=e.protocol;d=":"===f||""===f?"https:":f}b=d}if("javascript:"!==b)return a}var sc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var tc={};var uc=function(){},vc=function(a){this.h=a};sa(vc,uc);vc.prototype.toString=function(){return this.h};function wc(a,b){var c=[new vc(xc[0].toLowerCase(),tc)];if(0===c.length)throw Error("");var d=c.map(function(f){var g;if(f instanceof vc)g=f.h;else throw Error("");return g}),e=b.toLowerCase();if(d.every(function(f){return 0!==e.indexOf(f)}))throw Error('Attribute "'+b+'" does not match any of the allowed prefixes.');a.setAttribute(b,"true")}function yc(a){var b=a.tagName;if("SCRIPT"===b||"STYLE"===b)throw Error("");};function zc(a,b){var c=b instanceof Lb?Mb(b):rc(b);void 0!==c&&(a.action=c)};function Ac(a){var b=a=Bc(a),c=Fb(),d=c?c.createHTML(b):b;return new ec(d,dc)}function Bc(a){return null===a?"null":void 0===a?"undefined":a};var l=window,C=document,Cc=navigator,Dc=C.currentScript&&C.currentScript.src,Ec=function(a,b){var c=l[a];l[a]=void 0===c?b:c;return l[a]},Fc=function(a,b){b&&(a.addEventListener?a.onload=b:a.onreadystatechange=function(){a.readyState in{loaded:1,complete:1}&&(a.onreadystatechange=null,b())})},Gc={async:1,nonce:1,onerror:1,onload:1,src:1,type:1},Hc={onload:1,src:1,width:1,height:1,style:1};function Ic(a,b,c){b&&Na(b,function(d,e){d=d.toLowerCase();c.hasOwnProperty(d)||a.setAttribute(d,e)})}
var Jc=function(a,b,c,d,e){var f=C.createElement("script");Ic(f,d,Gc);f.type="text/javascript";f.async=d&&!1===d.async?!1:!0;var g;g=Jb(Bc(a));f.src=Hb(g);var h,m,n,p=null==(n=(m=(f.ownerDocument&&f.ownerDocument.defaultView||window).document).querySelector)?void 0:n.call(m,"script[nonce]");(h=p?p.nonce||p.getAttribute("nonce")||"":"")&&f.setAttribute("nonce",h);Fc(f,b);c&&(f.onerror=c);if(e)e.appendChild(f);else{var q=C.getElementsByTagName("script")[0]||C.body||C.head;q.parentNode.insertBefore(f,
q)}return f},Kc=function(){if(Dc){var a=Dc.toLowerCase();if(0===a.indexOf("https://"))return 2;if(0===a.indexOf("http://"))return 3}return 1},Lc=function(a,b,c,d,e){var f;f=void 0===f?!0:f;var g=e,h=!1;g||(g=C.createElement("iframe"),h=!0);Ic(g,c,Hc);d&&Na(d,function(n,p){g.dataset[n]=p});f&&(g.height="0",g.width="0",g.style.display="none",g.style.visibility="hidden");if(h){var m=C.body&&C.body.lastChild||C.body||C.head;m.parentNode.insertBefore(g,m)}Fc(g,b);void 0!==a&&(g.src=a);return g},Mc=function(a,
b,c,d){var e=new Image(1,1);Ic(e,d,{});e.onload=function(){e.onload=null;b&&b()};e.onerror=function(){e.onerror=null;c&&c()};e.src=a},Nc=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent&&a.attachEvent("on"+b,c)},Oc=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},F=function(a){l.setTimeout(a,0)},Pc=function(a,b){return a&&b&&a.attributes&&a.attributes[b]?a.attributes[b].value:null},Qc=function(a){var b=a.innerText||
a.textContent||"";b&&" "!=b&&(b=b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""));b&&(b=b.replace(/(\xa0+|\s{2,}|\n|\r\t)/g," "));return b},Rc=function(a){var b=C.createElement("div"),c=b,d=Ac("A<div>"+a+"</div>");1===c.nodeType&&yc(c);c.innerHTML=fc(d);b=b.lastChild;for(var e=[];b.firstChild;)e.push(b.removeChild(b.firstChild));return e},Sc=function(a,b,c){c=c||100;for(var d={},e=0;e<b.length;e++)d[b[e]]=!0;for(var f=a,g=0;f&&g<=c;g++){if(d[String(f.tagName).toLowerCase()])return f;f=f.parentElement}return null},
Tc=function(a){var b;try{b=Cc.sendBeacon&&Cc.sendBeacon(a)}catch(c){Ab("TAGGING",15)}b||Mc(a)},Uc=function(a,b){var c=a[b];c&&"string"===typeof c.animVal&&(c=c.animVal);return c},Vc=function(a){var b={headers:{"Attribution-Reporting-Eligible":"trigger"},keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!0}};try{l.fetch(a,b)}catch(c){}},Wc=function(){var a=l.performance;if(a&&Fa(a.now))return a.now()},Xc=function(){return l.performance||void 0};var Yc=function(a,b){return I(this,a)&&I(this,b)},Zc=function(a,b){return I(this,a)===I(this,b)},$c=function(a,b){return I(this,a)||I(this,b)},ad=function(a,b){a=I(this,a);b=I(this,b);return-1<String(a).indexOf(String(b))},bd=function(a,b){a=String(I(this,a));b=String(I(this,b));return a.substring(0,b.length)===b},cd=function(a,b){a=I(this,a);b=I(this,b);switch(a){case "pageLocation":var c=l.location.href;b instanceof sb&&b.get("stripProtocol")&&(c=c.replace(/^https?:\/\//,""));return c}};var dd=function(a,b){hb.call(this);this.F=a;this.M=b};sa(dd,hb);dd.prototype.toString=function(){return this.F};dd.prototype.Wb=function(){return new rb(ib(this,1))};dd.prototype.invoke=function(a,b){return this.M.apply(new ed(this,a),Array.prototype.slice.call(arguments,1))};dd.prototype.Za=function(a,b){try{return this.invoke.apply(this,Array.prototype.slice.call(arguments,0))}catch(c){}};var ed=function(a,b){this.s=a;this.h=b},I=function(a,b){var c=a.h;return Ha(b)?fb(c,b):b},J=function(a){return a.s.F};var fd=function(){this.map=new Map};fd.prototype.set=function(a,b){this.map.set(a,b)};fd.prototype.get=function(a){return this.map.get(a)};var gd=function(){this.keys=[];this.values=[]};gd.prototype.set=function(a,b){this.keys.push(a);this.values.push(b)};gd.prototype.get=function(a){var b=this.keys.indexOf(a);if(-1<b)return this.values[b]};function hd(){try{return Map?new fd:new gd}catch(a){return new gd}};var id=function(a){if(a instanceof id)return a;if(pb(a))throw Error("Type of given value has an equivalent Pixie type.");this.h=a};id.prototype.toString=function(){return String(this.h)};var kd=function(a){hb.call(this);this.F=a;this.set("then",jd(this));this.set("catch",jd(this,!0));this.set("finally",jd(this,!1,!0))};sa(kd,sb);var jd=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?!1:c;return new dd("",function(d,e){b&&(e=d,d=void 0);c&&(e=d);d instanceof dd||(d=void 0);e instanceof dd||(e=void 0);var f=Da(this.h),g=function(m){return function(n){return c?(m.invoke(f),a.F):m.invoke(f,n)}},h=a.F.then(d&&g(d),e&&g(e));return new kd(h)})};var md=function(a,b,c){var d=hd(),e=function(g,h){for(var m=ib(g,1),n=0;n<m.length;n++)h[m[n]]=f(g.get(m[n]))},f=function(g){var h=d.get(g);if(h)return h;if(g instanceof rb){var m=[];d.set(g,m);for(var n=g.Wb(),p=0;p<n.length();p++)m[n.get(p)]=f(g.get(n.get(p)));return m}if(g instanceof kd)return g.F;if(g instanceof sb){var q={};d.set(g,q);e(g,q);return q}if(g instanceof dd){var r=function(){for(var u=Array.prototype.slice.call(arguments,0),v=0;v<u.length;v++)u[v]=ld(u[v],b,c);var w=new za(b?b.X:
new ya);b&&(w.h=b.h);return f(g.invoke.apply(g,[w].concat(u)))};d.set(g,r);e(g,r);return r}var t=!1;switch(c){case 1:t=!0;break;case 2:t=!1;break;case 3:t=!1;break;default:}if(g instanceof id&&t)return g.h;switch(typeof g){case "boolean":case "number":case "string":case "undefined":return g;case "object":if(null===g)return null}};return f(a)},ld=function(a,b,c){var d=hd(),e=function(g,
h){for(var m in g)g.hasOwnProperty(m)&&h.set(m,f(g[m]))},f=function(g){var h=d.get(g);if(h)return h;if(Ha(g)||Oa(g)){var m=new rb([]);d.set(g,m);for(var n in g)g.hasOwnProperty(n)&&m.set(n,f(g[n]));return m}if(nb(g)){var p=new sb;d.set(g,p);e(g,p);return p}if("function"===typeof g){var q=new dd("",function(x){for(var y=Array.prototype.slice.call(arguments,0),A=0;A<y.length;A++)y[A]=md(I(this,y[A]),b,c);return f((0,this.h.M)(g,g,y))});d.set(g,q);e(g,q);return q}var v=typeof g;if(null===g||"string"===v||"number"===v||"boolean"===v)return g;var w=!1;switch(c){case 1:w=!0;break;case 2:w=!1;break;default:}if(void 0!==g&&w)return new id(g)};return f(a)};var nd=function(){var a=!1;return a};var od={supportedMethods:"concat every filter forEach hasOwnProperty indexOf join lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice unshift toString".split(" "),concat:function(a,b){for(var c=[],d=0;d<this.length();d++)c.push(this.get(d));for(var e=1;e<arguments.length;e++)if(arguments[e]instanceof rb)for(var f=arguments[e],g=0;g<f.length();g++)c.push(f.get(g));else c.push(arguments[e]);return new rb(c)},every:function(a,b){for(var c=this.length(),d=0;d<this.length()&&
d<c;d++)if(this.has(d)&&!b.invoke(a,this.get(d),d,this))return!1;return!0},filter:function(a,b){for(var c=this.length(),d=[],e=0;e<this.length()&&e<c;e++)this.has(e)&&b.invoke(a,this.get(e),e,this)&&d.push(this.get(e));return new rb(d)},forEach:function(a,b){for(var c=this.length(),d=0;d<this.length()&&d<c;d++)this.has(d)&&b.invoke(a,this.get(d),d,this)},hasOwnProperty:function(a,b){return this.has(b)},indexOf:function(a,b,c){var d=this.length(),e=void 0===c?0:Number(c);0>e&&(e=Math.max(d+e,0));for(var f=
e;f<d;f++)if(this.has(f)&&this.get(f)===b)return f;return-1},join:function(a,b){for(var c=[],d=0;d<this.length();d++)c.push(this.get(d));return c.join(b)},lastIndexOf:function(a,b,c){var d=this.length(),e=d-1;void 0!==c&&(e=0>c?d+c:Math.min(c,e));for(var f=e;0<=f;f--)if(this.has(f)&&this.get(f)===b)return f;return-1},map:function(a,b){for(var c=this.length(),d=[],e=0;e<this.length()&&e<c;e++)this.has(e)&&(d[e]=b.invoke(a,this.get(e),e,this));return new rb(d)},pop:function(){return this.pop()},push:function(a,
b){return this.push.apply(this,Array.prototype.slice.call(arguments,1))},reduce:function(a,b,c){var d=this.length(),e,f=0;if(void 0!==c)e=c;else{if(0===d)throw Error("TypeError: Reduce on List with no elements.");for(var g=0;g<d;g++)if(this.has(g)){e=this.get(g);f=g+1;break}if(g===d)throw Error("TypeError: Reduce on List with no elements.");}for(var h=f;h<d;h++)this.has(h)&&(e=b.invoke(a,e,this.get(h),h,this));return e},reduceRight:function(a,b,c){var d=this.length(),e,f=d-1;if(void 0!==c)e=c;else{if(0===
d)throw Error("TypeError: ReduceRight on List with no elements.");for(var g=1;g<=d;g++)if(this.has(d-g)){e=this.get(d-g);f=d-(g+1);break}if(g>d)throw Error("TypeError: ReduceRight on List with no elements.");}for(var h=f;0<=h;h--)this.has(h)&&(e=b.invoke(a,e,this.get(h),h,this));return e},reverse:function(){for(var a=ob(this),b=a.length-1,c=0;0<=b;b--,c++)a.hasOwnProperty(b)?this.set(c,a[b]):this.remove(c);return this},shift:function(){return this.shift()},slice:function(a,b,c){var d=this.length();
void 0===b&&(b=0);b=0>b?Math.max(d+b,0):Math.min(b,d);c=void 0===c?d:0>c?Math.max(d+c,0):Math.min(c,d);c=Math.max(b,c);for(var e=[],f=b;f<c;f++)e.push(this.get(f));return new rb(e)},some:function(a,b){for(var c=this.length(),d=0;d<this.length()&&d<c;d++)if(this.has(d)&&b.invoke(a,this.get(d),d,this))return!0;return!1},sort:function(a,b){var c=ob(this);void 0===b?c.sort():c.sort(function(e,f){return Number(b.invoke(a,e,f))});for(var d=0;d<c.length;d++)c.hasOwnProperty(d)?this.set(d,c[d]):this.remove(d);
return this},splice:function(a,b,c,d){return this.splice.apply(this,Array.prototype.splice.call(arguments,1,arguments.length-1))},toString:function(){return this.toString()},unshift:function(a,b){return this.unshift.apply(this,Array.prototype.slice.call(arguments,1))}};var pd=function(a){var b;b=Error.call(this,a);this.message=b.message;"stack"in b&&(this.stack=b.stack)};sa(pd,Error);var qd={charAt:1,concat:1,indexOf:1,lastIndexOf:1,match:1,replace:1,search:1,slice:1,split:1,substring:1,toLowerCase:1,toLocaleLowerCase:1,toString:1,toUpperCase:1,toLocaleUpperCase:1,trim:1},rd=new wa("break"),sd=new wa("continue"),td=function(a,b){return I(this,a)+I(this,b)},vd=function(a,b){return I(this,a)&&I(this,b)},wd=function(a,b,c){a=I(this,a);b=I(this,b);c=I(this,c);if(!(c instanceof rb))throw Error("Error: Non-List argument given to Apply instruction.");if(null===a||void 0===a){var d="TypeError: Can't read property "+
b+" of "+a+".";if(nd())throw new pd(d);throw Error(d);}var e="number"===typeof a;if("boolean"===typeof a||e){if("toString"===b){if(e&&c.length()){var f=md(c.get(0));try{return a.toString(f)}catch(y){}}return a.toString()}var g="TypeError: "+a+"."+b+" is not a function.";if(nd())throw new pd(g);throw Error(g);}if("string"===typeof a){if(qd.hasOwnProperty(b)){var h=2;h=1;
var m=md(c,void 0,h);return ld(a[b].apply(a,m),this.h)}var n="TypeError: "+b+" is not a function";if(nd())throw new pd(n);throw Error(n);}if(a instanceof rb){if(a.has(b)){var p=a.get(b);if(p instanceof dd){var q=ob(c);q.unshift(this.h);return p.invoke.apply(p,q)}var r="TypeError: "+b+" is not a function";if(nd())throw new pd(r);throw Error(r);}if(0<=od.supportedMethods.indexOf(b)){var t=ob(c);t.unshift(this.h);return od[b].apply(a,t)}}if(a instanceof dd||a instanceof sb){if(a.has(b)){var u=a.get(b);
if(u instanceof dd){var v=ob(c);v.unshift(this.h);return u.invoke.apply(u,v)}var w="TypeError: "+b+" is not a function";if(nd())throw new pd(w);throw Error(w);}if("toString"===b)return a instanceof dd?a.F:a.toString();if("hasOwnProperty"===b)return a.has.apply(a,ob(c))}if(a instanceof id&&"toString"===b)return a.toString();var x="TypeError: Object has no '"+b+"' property.";if(nd())throw new pd(x);throw Error(x);},xd=function(a,b){a=I(this,a);if("string"!==typeof a)throw Error("Invalid key name given for assignment.");
var c=this.h;if(!c.has(a))throw Error("Attempting to assign to undefined value "+b);var d=I(this,b);c.set(a,d);return d},yd=function(a){var b=Da(this.h),c=eb(b,Array.prototype.slice.apply(arguments));if(c instanceof wa)return c},zd=function(){return rd},Ad=function(a){for(var b=I(this,a),c=0;c<b.length;c++){var d=I(this,b[c]);if(d instanceof wa)return d}},Bd=function(a){for(var b=this.h,c=0;c<arguments.length-1;c+=2){var d=arguments[c];if("string"===typeof d){var e=I(this,arguments[c+1]);Aa(b,d,e,
!0)}}},Cd=function(){return sd},Dd=function(a,b){return new wa(a,I(this,b))},Ed=function(a,b,c){var d=new rb;b=I(this,b);for(var e=0;e<b.length;e++)d.push(b[e]);var f=[51,a,d].concat(Array.prototype.splice.call(arguments,2,arguments.length-2));this.h.add(a,I(this,f))},Fd=function(a,b){return I(this,a)/I(this,b)},Gd=function(a,b){a=I(this,a);b=I(this,b);var c=a instanceof id,d=b instanceof id;return c||d?c&&d?a.h==b.h:!1:a==b},Hd=function(a){for(var b,c=0;c<arguments.length;c++)b=I(this,arguments[c]);
return b};function Id(a,b,c,d){for(var e=0;e<b();e++){var f=a(c(e)),g=eb(f,d);if(g instanceof wa){if("break"===g.h)break;if("return"===g.h)return g}}}function Jd(a,b,c){if("string"===typeof b)return Id(a,function(){return b.length},function(f){return f},c);if(b instanceof sb||b instanceof rb||b instanceof dd){var d=b.Wb(),e=d.length();return Id(a,function(){return e},function(f){return d.get(f)},c)}}
var Kd=function(a,b,c){a=I(this,a);b=I(this,b);c=I(this,c);var d=this.h;return Jd(function(e){d.set(a,e);return d},b,c)},Ld=function(a,b,c){a=I(this,a);b=I(this,b);c=I(this,c);var d=this.h;return Jd(function(e){var f=Da(d);Aa(f,a,e,!0);return f},b,c)},Md=function(a,b,c){a=I(this,a);b=I(this,b);c=I(this,c);var d=this.h;return Jd(function(e){var f=Da(d);f.add(a,e);return f},b,c)},Od=function(a,b,c){a=I(this,a);b=I(this,b);c=I(this,c);var d=this.h;return Nd(function(e){d.set(a,e);return d},b,c)},Pd=
function(a,b,c){a=I(this,a);b=I(this,b);c=I(this,c);var d=this.h;return Nd(function(e){var f=Da(d);Aa(f,a,e,!0);return f},b,c)},Qd=function(a,b,c){a=I(this,a);b=I(this,b);c=I(this,c);var d=this.h;return Nd(function(e){var f=Da(d);f.add(a,e);return f},b,c)};
function Nd(a,b,c){if("string"===typeof b)return Id(a,function(){return b.length},function(d){return b[d]},c);if(b instanceof rb)return Id(a,function(){return b.length()},function(d){return b.get(d)},c);if(nd())throw new pd("The value is not iterable.");throw new TypeError("The value is not iterable.");}
var Rd=function(a,b,c,d){function e(p,q){for(var r=0;r<f.length();r++){var t=f.get(r);q.add(t,p.get(t))}}var f=I(this,a);if(!(f instanceof rb))throw Error("TypeError: Non-List argument given to ForLet instruction.");var g=this.h;d=I(this,d);var h=Da(g);for(e(g,h);fb(h,b);){var m=eb(h,d);if(m instanceof wa){if("break"===m.h)break;if("return"===m.h)return m}var n=Da(g);e(h,n);fb(n,c);h=n}},Sd=function(a,b,c){var d=this.h,e=I(this,b);if(!(e instanceof rb))throw Error("Error: non-List value given for Fn argument names.");
var f=Array.prototype.slice.call(arguments,2);return new dd(a,function(){return function(g){var h=Da(d);void 0===h.h&&(h.h=this.h.h);for(var m=Array.prototype.slice.call(arguments,0),n=0;n<m.length;n++)if(m[n]=I(this,m[n]),m[n]instanceof wa)return m[n];for(var p=e.get("length"),q=0;q<p;q++)q<m.length?h.add(e.get(q),m[q]):h.add(e.get(q),void 0);h.add("arguments",new rb(m));var r=eb(h,f);if(r instanceof wa)return"return"===r.h?r.s:r}}())},Td=function(a){a=I(this,a);var b=this.h,c=!1;if(c&&!b.has(a))throw new ReferenceError(a+" is not defined.");return b.get(a)},Ud=function(a,b){var c;a=I(this,a);b=I(this,b);if(void 0===a||null===a){var d="TypeError: Cannot read properties of "+a+" (reading '"+b+"')";if(nd())throw new pd(d);throw Error(d);}if(a instanceof sb||a instanceof rb||a instanceof dd)c=a.get(b);else if("string"===typeof a)"length"===b?c=a.length:qb(b)&&(c=a[b]);else if(a instanceof id)return;
return c},Vd=function(a,b){return I(this,a)>I(this,b)},Wd=function(a,b){return I(this,a)>=I(this,b)},Xd=function(a,b){a=I(this,a);b=I(this,b);a instanceof id&&(a=a.h);b instanceof id&&(b=b.h);return a===b},Yd=function(a,b){return!Xd.call(this,a,b)},Zd=function(a,b,c){var d=[];I(this,a)?d=I(this,b):c&&(d=I(this,c));var e=eb(this.h,d);if(e instanceof wa)return e},$d=function(a,b){return I(this,a)<I(this,b)},ae=function(a,b){return I(this,a)<=I(this,b)},be=function(a){for(var b=new rb,c=0;c<arguments.length;c++){var d=
I(this,arguments[c]);b.push(d)}return b},ce=function(a){for(var b=new sb,c=0;c<arguments.length-1;c+=2){var d=I(this,arguments[c])+"",e=I(this,arguments[c+1]);b.set(d,e)}return b},de=function(a,b){return I(this,a)%I(this,b)},ee=function(a,b){return I(this,a)*I(this,b)},fe=function(a){return-I(this,a)},ge=function(a){return!I(this,a)},he=function(a,b){return!Gd.call(this,a,b)},ie=function(){return null},je=function(a,b){return I(this,a)||I(this,b)},ke=function(a,b){var c=I(this,a);I(this,b);return c},
le=function(a){return I(this,a)},me=function(a){return Array.prototype.slice.apply(arguments)},ne=function(a){return new wa("return",I(this,a))},oe=function(a,b,c){a=I(this,a);b=I(this,b);c=I(this,c);if(null===a||void 0===a){var d="TypeError: Can't set property "+b+" of "+a+".";if(nd())throw new pd(d);throw Error(d);}(a instanceof dd||a instanceof rb||a instanceof sb)&&a.set(b,c);return c},pe=function(a,b){return I(this,a)-I(this,b)},qe=function(a,b,c){a=I(this,a);var d=I(this,b),e=I(this,c);if(!Ha(d)||
!Ha(e))throw Error("Error: Malformed switch instruction.");for(var f,g=!1,h=0;h<d.length;h++)if(g||a===I(this,d[h]))if(f=I(this,e[h]),f instanceof wa){var m=f.h;if("break"===m)return;if("return"===m||"continue"===m)return f}else g=!0;if(e.length===d.length+1&&(f=I(this,e[e.length-1]),f instanceof wa&&("return"===f.h||"continue"===f.h)))return f},re=function(a,b,c){return I(this,a)?I(this,b):I(this,c)},se=function(a){a=I(this,a);return a instanceof dd?"function":typeof a},te=function(a){for(var b=
this.h,c=0;c<arguments.length;c++){var d=arguments[c];"string"!==typeof d||b.add(d,void 0)}},ue=function(a,b,c,d){var e=I(this,d);if(I(this,c)){var f=eb(this.h,e);if(f instanceof wa){if("break"===f.h)return;if("return"===f.h)return f}}for(;I(this,a);){var g=eb(this.h,e);if(g instanceof wa){if("break"===g.h)break;if("return"===g.h)return g}I(this,b)}},ve=function(a){return~Number(I(this,a))},we=function(a,b){return Number(I(this,a))<<Number(I(this,b))},xe=function(a,b){return Number(I(this,a))>>Number(I(this,
b))},ye=function(a,b){return Number(I(this,a))>>>Number(I(this,b))},ze=function(a,b){return Number(I(this,a))&Number(I(this,b))},Ae=function(a,b){return Number(I(this,a))^Number(I(this,b))},Be=function(a,b){return Number(I(this,a))|Number(I(this,b))},Ce=function(){},De=function(a,b,c,d,e){var f=!0;try{var g=I(this,c);if(g instanceof wa)return g}catch(r){if(!(r instanceof pd&&a))throw f=r instanceof pd,r;var h=Da(this.h),m=new id(r);h.add(b,m);var n=I(this,d),p=eb(h,n);if(p instanceof wa)return p}finally{if(f&&
void 0!==e){var q=I(this,e);if(q instanceof wa)return q}}};var Fe=function(){this.h=new gb;Ee(this)};Fe.prototype.execute=function(a){return this.h.s(a)};var Ee=function(a){var b=function(c,d){var e=new dd(String(c),d);e.Eb();a.h.h.set(String(c),e)};b("map",ce);b("and",Yc);b("contains",ad);b("equals",Zc);b("or",$c);b("startsWith",bd);b("variable",cd)};var He=function(){this.h=new gb;Ge(this)};He.prototype.execute=function(a){return Ie(this.h.s(a))};
var Je=function(a,b,c){return Ie(a.h.F(b,c))},Ge=function(a){var b=function(c,d){var e=String(c),f=new dd(e,d);f.Eb();a.h.h.set(e,f)};b(0,td);b(1,vd);b(2,wd);b(3,xd);b(56,ze);b(57,we);b(58,ve);b(59,Be);b(60,xe);b(61,ye);b(62,Ae);b(53,yd);b(4,zd);b(5,Ad);b(52,Bd);b(6,Cd);b(49,Dd);b(7,be);b(8,ce);b(9,Ad);b(50,Ed);b(10,Fd);b(12,Gd);b(13,Hd);b(51,Sd);b(47,Kd);b(54,Ld);b(55,Md);b(63,Rd);b(64,Od);b(65,Pd);b(66,Qd);b(15,Td);b(16,Ud);b(17,Ud);b(18,Vd);b(19,Wd);b(20,Xd);b(21,Yd);b(22,Zd);b(23,$d);b(24,ae);
b(25,de);b(26,ee);b(27,fe);b(28,ge);b(29,he);b(45,ie);b(30,je);b(32,ke);b(33,ke);b(34,le);b(35,le);b(46,me);b(36,ne);b(43,oe);b(37,pe);b(38,qe);b(39,re);b(67,De);b(40,se);b(44,Ce);b(41,te);b(42,ue)};function Ie(a){if(a instanceof wa||a instanceof dd||a instanceof rb||a instanceof sb||a instanceof id||null===a||void 0===a||"string"===typeof a||"number"===typeof a||"boolean"===typeof a)return a};var Ke=function(a){this.message=a};function Le(a){var b="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"[a];return void 0===b?new Ke("Value "+a+" can not be encoded in web-safe base64 dictionary."):b};function Me(a){switch(a){case 1:return"1";case 2:case 4:return"0";default:return"-"}};var Ne=function(){var a=function(b){return{toString:function(){return b}}};return{nk:a("consent"),ki:a("convert_case_to"),li:a("convert_false_to"),mi:a("convert_null_to"),ni:a("convert_true_to"),oi:a("convert_undefined_to"),Bn:a("debug_mode_metadata"),ma:a("function"),Yg:a("instance_name"),Xk:a("live_only"),Yk:a("malware_disabled"),Zk:a("metadata"),fl:a("original_activity_id"),Qn:a("original_vendor_template_id"),Pn:a("once_on_load"),bl:a("once_per_event"),mj:a("once_per_load"),Un:a("priority_override"),
Vn:a("respected_consent_types"),rj:a("setup_tags"),pe:a("tag_id"),wj:a("teardown_tags")}}();var jf;
var kf=[],lf=[],mf=[],nf=[],of=[],pf={},qf,rf,sf=function(a){rf=rf||a},tf=function(a){},uf,vf=[],wf=function(a,b){var c={};c[Ne.ma]="__"+a;for(var d in b)b.hasOwnProperty(d)&&(c["vtp_"+d]=b[d]);return c},xf=function(a,
b){var c=a[Ne.ma],d=b&&b.event;if(!c)throw Error("Error: No function name given for function call.");var e=pf[c],f=b&&2===b.type&&d.reportMacroDiscrepancy&&e&&-1!==vf.indexOf(c),g={},h={},m;for(m in a)a.hasOwnProperty(m)&&0===m.indexOf("vtp_")&&(e&&(g[m]=a[m]),!e||f)&&(h[m.substr(4)]=a[m]);e&&d&&d.cachedModelValues&&(g.vtp_gtmCachedValues=d.cachedModelValues);if(b){if(null==b.name){var n;a:{var p=b.type,q=b.index;if(null==q)n="";else{var r;switch(p){case 2:r=kf[q];break;case 1:r=nf[q];break;default:n=
"";break a}var t=r&&r[Ne.Yg];n=t?String(t):""}}b.name=n}e&&(g.vtp_gtmEntityIndex=b.index,g.vtp_gtmEntityName=b.name)}var u,v;e&&(u=e(g));if(!e||f)v=jf(c,h,b);f&&d&&(pb(u)?typeof u!==typeof v&&d.reportMacroDiscrepancy(d.id,c):u!==v&&d.reportMacroDiscrepancy(d.id,c));return e?u:v},zf=function(a,b,c){c=c||[];var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=yf(a[e],b,c));return d},yf=function(a,b,c){if(Ha(a)){var d;switch(a[0]){case "function_id":return a[1];case "list":d=[];for(var e=1;e<a.length;e++)d.push(yf(a[e],
b,c));return d;case "macro":var f=a[1];if(c[f])return;var g=kf[f];if(!g||b.isBlocked(g))return;c[f]=!0;var h=String(g[Ne.Yg]);try{var m=zf(g,b,c);m.vtp_gtmEventId=b.id;b.priorityId&&(m.vtp_gtmPriorityId=b.priorityId);d=xf(m,{event:b,index:f,type:2,name:h});uf&&(d=uf.Dl(d,m))}catch(y){b.logMacroError&&b.logMacroError(y,Number(f),h),d=!1}c[f]=!1;return d;case "map":d={};for(var n=1;n<a.length;n+=2)d[yf(a[n],b,c)]=yf(a[n+1],b,c);return d;case "template":d=[];for(var p=!1,q=1;q<a.length;q++){var r=yf(a[q],
b,c);rf&&(p=p||rf.vm(r));d.push(r)}return rf&&p?rf.Fl(d):d.join("");case "escape":d=yf(a[1],b,c);if(rf&&Ha(a[1])&&"macro"===a[1][0]&&rf.wm(a))return rf.Vm(d);d=String(d);for(var t=2;t<a.length;t++)Oe[a[t]]&&(d=Oe[a[t]](d));return d;case "tag":var u=a[1];if(!nf[u])throw Error("Unable to resolve tag reference "+u+".");return d={Gj:a[2],index:u};case "zb":var v={arg0:a[2],arg1:a[3],ignore_case:a[5]};v[Ne.ma]=a[1];var w=Af(v,b,c),x=!!a[4];return x||2!==w?x!==(1===w):null;default:throw Error("Attempting to expand unknown Value type: "+
a[0]+".");}}return a},Af=function(a,b,c){try{return qf(zf(a,b,c))}catch(d){JSON.stringify(a)}return 2},Bf=function(a){var b=a[Ne.ma];if(!b)throw Error("Error: No function name given for function call.");return!!pf[b]};var Cf=function(a,b,c){var d;d=Error.call(this,c);this.message=d.message;"stack"in d&&(this.stack=d.stack);this.h=a};sa(Cf,Error);function Df(a,b){if(Ha(a)){Object.defineProperty(a,"context",{value:{line:b[0]}});for(var c=1;c<a.length;c++)Df(a[c],b[c])}};var Ef=function(a,b){var c;c=Error.call(this);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.Qm=a;this.s=b;this.h=[]};sa(Ef,Error);var Gf=function(){return function(a,b){a instanceof Ef||(a=new Ef(a,Ff));b&&a.h.push(b);throw a;}};function Ff(a){if(!a.length)return a;a.push({id:"main",line:0});for(var b=a.length-1;0<b;b--)Ga(a[b].id)&&a.splice(b++,1);for(var c=a.length-1;0<c;c--)a[c].line=a[c-1].line;a.splice(0,1);return a};var Jf=function(a){function b(r){for(var t=0;t<r.length;t++)d[r[t]]=!0}for(var c=[],d=[],e=Hf(a),f=0;f<lf.length;f++){var g=lf[f],h=If(g,e);if(h){for(var m=g.add||[],n=0;n<m.length;n++)c[m[n]]=!0;b(g.block||[])}else null===h&&b(g.block||[]);}for(var p=[],q=0;q<nf.length;q++)c[q]&&!d[q]&&(p[q]=!0);return p},If=function(a,b){for(var c=a["if"]||[],d=0;d<c.length;d++){var e=b(c[d]);if(0===e)return!1;
if(2===e)return null}for(var f=a.unless||[],g=0;g<f.length;g++){var h=b(f[g]);if(2===h)return null;if(1===h)return!1}return!0},Hf=function(a){var b=[];return function(c){void 0===b[c]&&(b[c]=Af(mf[c],a));return b[c]}};var Kf={Dl:function(a,b){b[Ne.ki]&&"string"===typeof a&&(a=1==b[Ne.ki]?a.toLowerCase():a.toUpperCase());b.hasOwnProperty(Ne.mi)&&null===a&&(a=b[Ne.mi]);b.hasOwnProperty(Ne.oi)&&void 0===a&&(a=b[Ne.oi]);b.hasOwnProperty(Ne.ni)&&!0===a&&(a=b[Ne.ni]);b.hasOwnProperty(Ne.li)&&!1===a&&(a=b[Ne.li]);return a}};var Lf=function(){this.h={}},Nf=function(a,b){var c=Mf.s,d;null!=(d=c.h)[a]||(d[a]=[]);c.h[a].push(function(){return b.apply(null,ka(ta.apply(0,arguments)))})};function Of(a,b,c,d){if(a)for(var e=0;e<a.length;e++){var f=void 0,g="A policy function denied the permission request";try{f=a[e](b,c,d),g+="."}catch(h){g="string"===typeof h?g+(": "+h):h instanceof Error?g+(": "+h.message):g+"."}if(!f)throw new Cf(c,d,g);}}
function Pf(a,b,c){return function(){var d=arguments[0];if(d){var e=a.h[d],f=a.h.all;if(e||f){var g=c.apply(void 0,Array.prototype.slice.call(arguments,0));Of(e,b,d,g);Of(f,b,d,g)}}}};var Qf=[],Rf=function(a){return void 0==Qf[a]?!1:Qf[a]};var Vf=function(){var a=data.permissions||{},b=Sf.ctid,c=this;this.s=new Lf;this.h={};var d=Rf(15),e={},f={},g=Pf(this.s,b,function(){var h=arguments[0];return h&&e[h]?e[h].apply(void 0,Array.prototype.slice.call(arguments,0)):{}});Na(a,function(h,m){var n={};Na(m,function(q,r){var t=Tf(q,r);n[q]=t.assert;e[q]||(e[q]=t.K);d&&t.zj&&!f[q]&&(f[q]=t.zj)});var p;d&&(p=function(q){var r=ta.apply(1,arguments);if(!n[q])throw Uf(q,{},"The requested additional permission "+q+" is not configured.");g.apply(null,
[q].concat(ka(r)))});c.h[h]=function(q,r){var t=n[q];if(!t)throw Uf(q,{},"The requested permission "+q+" is not configured.");var u=Array.prototype.slice.call(arguments,0);t.apply(void 0,u);g.apply(void 0,u);if(d){var v=f[q];v&&v.apply(null,[p].concat(ka(u.slice(1))))}}})},Wf=function(a){return Mf.h[a]||function(){}};
function Tf(a,b){var c=wf(a,b);c.vtp_permissionName=a;c.vtp_createPermissionError=Uf;try{return xf(c)}catch(d){return{assert:function(e){throw new Cf(e,{},"Permission "+e+" is unknown.");},K:function(){if(Rf(15))throw new Cf(a,{},"Permission "+a+" is unknown.");for(var e={},f=0;f<arguments.length;++f)e["arg"+(f+1)]=arguments[f];return e}}}}function Uf(a,b,c){return new Cf(a,b,c)};var Xf=!1;var Yf={};Yf.wn=Qa('');Yf.Hl=Qa('');var Zf=Xf,$f=Yf.Hl,ag=Yf.wn;var og=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"];function pg(a,b){a=String(a);b=String(b);var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c}var qg=new Ka;function rg(a,b,c){var d=c?"i":void 0;try{var e=String(b)+d,f=qg.get(e);f||(f=new RegExp(b,d),qg.set(e,f));return f.test(a)}catch(g){return!1}}function sg(a,b){return 0<=String(a).indexOf(String(b))}function tg(a,b){return String(a)===String(b)}
function ug(a,b){return Number(a)>=Number(b)}function vg(a,b){return Number(a)<=Number(b)}function wg(a,b){return Number(a)>Number(b)}function xg(a,b){return Number(a)<Number(b)}function yg(a,b){return 0===String(a).indexOf(String(b))};var Fg=/^[1-9a-zA-Z_-][1-9a-c][1-9a-v]\d$/;function Gg(a,b){for(var c="",d=!0;7<a;){var e=a&31;a>>=5;d?d=!1:e|=32;c=Le(e)+c}a<<=2;d||(a|=32);return c=Le(a|b)+c};var Hg=/^([a-z][a-z0-9]*):(!|\?)(\*|string|boolean|number|Fn|PixieMap|List|OpaqueValue)$/i,Ig={Fn:"function",PixieMap:"Object",List:"Array"},K=function(a,b,c){for(var d=0;d<b.length;d++){var e=Hg.exec(b[d]);if(!e)throw Error("Internal Error in "+a);var f=e[1],g="!"===e[2],h=e[3],m=c[d];if(null==m){if(g)throw Error("Error in "+a+". Required argument "+f+" not supplied.");}else if("*"!==h){var n=typeof m;m instanceof dd?n="Fn":m instanceof rb?n="List":m instanceof sb?n="PixieMap":m instanceof id&&(n=
"OpaqueValue");if(n!=h)throw Error("Error in "+a+". Argument "+f+" has type "+(Ig[n]||n)+", which does not match required type "+(Ig[h]||h)+".");}}};function Jg(a){return""+a}
function Kg(a,b){var c=[];return c};var Lg=function(a,b){var c=new dd(a,function(){for(var d=Array.prototype.slice.call(arguments,0),e=0;e<d.length;e++)d[e]=I(this,d[e]);try{return b.apply(this,d)}catch(g){if(nd())throw new pd(g.message);throw g;}});c.Eb();return c},Mg=function(a,b){var c=new sb,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];Fa(e)?c.set(d,Lg(a+"_"+d,e)):nb(e)?c.set(d,Mg(a+"_"+d,
e)):(Ga(e)||k(e)||"boolean"===typeof e)&&c.set(d,e)}c.Eb();return c};var Ng=function(a,b){K(J(this),["apiName:!string","message:?string"],arguments);var c={},d=new sb;return d=Mg("AssertApiSubject",c)};var Og=function(a,b){K(J(this),["actual:?*","message:?string"],arguments);if(a instanceof kd)throw Error("Argument actual cannot have type Promise. Assertions on asynchronous code aren't supported.");var c={},d=new sb;return d=Mg("AssertThatSubject",c)};function Pg(a){return function(){for(var b=[],c=this.h,d=0;d<arguments.length;++d)b.push(md(arguments[d],c));return ld(a.apply(null,b))}}var Rg=function(){for(var a=Math,b=Qg,c={},d=0;d<b.length;d++){var e=b[d];a.hasOwnProperty(e)&&(c[e]=Pg(a[e].bind(a)))}return c};var Sg=function(a){var b;return b};var Tg=function(a){var b;return b};var Ug=function(a){try{return encodeURI(a)}catch(b){}};var Vg=function(a){try{return encodeURIComponent(a)}catch(b){}};function Wg(a,b){var c=!1;return c}
Wg.D="internal.evaluateBooleanExpression";var ah=function(a){K(J(this),["message:?string"],arguments);};var bh=function(a,b){K(J(this),["min:!number","max:!number"],arguments);return Ja(a,b)};var ch=function(){return(new Date).getTime()};var dh=function(a){if(null===a)return"null";if(a instanceof rb)return"array";if(a instanceof dd)return"function";if(a instanceof id){a=a.h;if(void 0===a.constructor||void 0===a.constructor.name){var b=String(a);return b.substring(8,b.length-1)}return String(a.constructor.name)}return typeof a};var eh=function(a){function b(c){return function(d){try{return c(d)}catch(e){(Zf||ag)&&a.call(this,e.message)}}}return{parse:b(function(c){return ld(JSON.parse(c))}),stringify:b(function(c){return JSON.stringify(md(c))})}};var fh=function(a){return Pa(md(a,this.h))};var gh=function(a){return Number(md(a,this.h))};var hh=function(a){return null===a?"null":void 0===a?"undefined":a.toString()};var mh=function(a,b,c){var d=null,e=!1;return e?d:null};var Qg="floor ceil round max min abs pow sqrt".split(" ");var nh=function(){var a={};return{Ul:function(b){return a.hasOwnProperty(b)?a[b]:void 0},on:function(b,c){a[b]=c},reset:function(){a={}}}},oh=function(a,b){return function(){var c=Array.prototype.slice.call(arguments,0);c.unshift(b);return dd.prototype.invoke.apply(a,c)}},ph=function(a,b){K(J(this),["apiName:!string","mock:?*"],arguments);};var qh={};
qh.keys=function(a){return new rb};
qh.values=function(a){return new rb};
qh.entries=function(a){return new rb};
qh.freeze=function(a){return a};qh.delete=function(a,b){return!1};var L=function(a,b,c){var d=a.h.h;if(!d)throw Error("Missing program state.");if(d.fn){try{d.Bj.apply(null,Array.prototype.slice.call(arguments,1))}catch(e){throw Ab("TAGGING",21),e;}return}d.Bj.apply(null,Array.prototype.slice.call(arguments,1))};var sh=function(){this.h={};this.s={};};sh.prototype.get=function(a,b){var c=this.h.hasOwnProperty(a)?this.h[a]:void 0;return c};
sh.prototype.add=function(a,b,c){if(this.h.hasOwnProperty(a))throw"Attempting to add a function which already exists: "+a+".";if(this.s.hasOwnProperty(a))throw"Attempting to add an API with an existing private API name: "+a+".";this.h[a]=c?void 0:Fa(b)?Lg(a,b):Mg(a,b)};function th(a,b){var c=void 0;return c};function uh(){var a={};
return a};var wh=function(a){return vh?C.querySelectorAll(a):null},xh=function(a,b){if(!vh)return null;if(Element.prototype.closest)try{return a.closest(b)}catch(e){return null}var c=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,d=a;if(!C.documentElement.contains(d))return null;do{try{if(c.call(d,b))return d}catch(e){break}d=d.parentElement||d.parentNode}while(null!==d&&1===d.nodeType);
return null},yh=!1;if(C.querySelectorAll)try{var zh=C.querySelectorAll(":root");zh&&1==zh.length&&zh[0]==C.documentElement&&(yh=!0)}catch(a){}var vh=yh;var M=function(a){Ab("GTM",a)};var N={g:{Fa:"ad_personalization",J:"ad_storage",N:"ad_user_data",R:"analytics_storage",Ua:"region",xd:"consent_updated",af:"wait_for_update",ri:"ads",hg:"all",rk:"maps",sk:"playstore",tk:"search",uk:"shopping",vk:"youtube",si:"app_remove",ui:"app_store_refund",vi:"app_store_subscription_cancel",wi:"app_store_subscription_convert",xi:"app_store_subscription_renew",jg:"add_payment_info",kg:"add_shipping_info",hc:"add_to_cart",ic:"remove_from_cart",lg:"view_cart",Ib:"begin_checkout",jc:"select_item",
eb:"view_item_list",ub:"select_promotion",fb:"view_promotion",wa:"purchase",kc:"refund",Ga:"view_item",mg:"add_to_wishlist",xk:"exception",yi:"first_open",zi:"first_visit",ka:"gtag.config",Pa:"gtag.get",Ai:"in_app_purchase",mc:"page_view",yk:"screen_view",Bi:"session_start",zk:"timing_complete",Ak:"track_social",Ad:"user_engagement",Jb:"gclgb",Qa:"gclid",la:"ads_data_redaction",Bk:"gad_source",ng:"gclid_url",Ck:"gclsrc",Ci:"wbraid",ia:"allow_ad_personalization_signals",bf:"allow_custom_scripts",cf:"allow_display_features",
Bd:"allow_enhanced_conversions",hb:"allow_google_signals",Ha:"allow_interest_groups",Dk:"app_id",Ek:"app_installer_id",Fk:"app_name",Gk:"app_version",Kb:"auid",Di:"auto_detection_enabled",Lb:"aw_remarketing",df:"aw_remarketing_only",Cd:"discount",Dd:"aw_feed_country",Ed:"aw_feed_language",Z:"items",Fd:"aw_merchant_id",og:"aw_basket_type",Kc:"campaign_content",Lc:"campaign_id",Mc:"campaign_medium",Nc:"campaign_name",Oc:"campaign",Pc:"campaign_source",Qc:"campaign_term",vb:"client_id",Hk:"rnd",Ei:"content_group",
Fi:"content_type",Va:"conversion_cookie_prefix",Rc:"conversion_id",xa:"conversion_linker",Ik:"conversion_linker_disabled",Mb:"conversion_api",ef:"cookie_deprecation",jb:"cookie_domain",Ra:"cookie_expires",kb:"cookie_flags",nc:"cookie_name",Sc:"cookie_path",Wa:"cookie_prefix",oc:"cookie_update",qc:"country",ya:"currency",Gd:"customer_lifetime_value",Tc:"custom_map",Gi:"gcldc",pg:"dclid",Hi:"debug_mode",ba:"developer_id",Ii:"disable_merchant_reported_purchases",Uc:"dc_custom_params",Ji:"dc_natural_search",
qg:"dynamic_event_settings",rg:"affiliation",Hd:"checkout_option",ff:"checkout_step",sg:"coupon",Vc:"item_list_name",hf:"list_name",Ki:"promotions",Wc:"shipping",jf:"tax",Id:"engagement_time_msec",Jd:"enhanced_client_id",Kd:"enhanced_conversions",ug:"enhanced_conversions_automatic_settings",Ld:"estimated_delivery_date",kf:"euid_logged_in_state",Xc:"event_callback",Jk:"event_category",wb:"event_developer_id_string",Kk:"event_label",lf:"event",Md:"event_settings",Nd:"event_timeout",Lk:"description",
Mk:"fatal",Li:"experiments",nf:"firebase_id",Yc:"first_party_collection",Od:"_x_20",lb:"_x_19",vg:"fledge",wg:"flight_error_code",xg:"flight_error_message",Mi:"fl_activity_category",Ni:"fl_activity_group",yg:"fl_advertiser_id",Oi:"fl_ar_dedupe",zg:"match_id",Pi:"fl_random_number",Qi:"tran",Ri:"u",Pd:"gac_gclid",sc:"gac_wbraid",Ag:"gac_wbraid_multiple_conversions",Bg:"ga_restrict_domain",Cg:"ga_temp_client_id",Zc:"gdpr_applies",Dg:"geo_granularity",xb:"value_callback",nb:"value_key",Nk:"google_ono",
Nb:"google_signals",Eg:"google_tld",Qd:"groups",Fg:"gsa_experiment_id",pf:"iframe_state",ad:"ignore_referrer",qf:"internal_traffic_results",Ob:"is_legacy_converted",zb:"is_legacy_loaded",Rd:"is_passthrough",Sd:"_lps",Ma:"language",rf:"legacy_developer_id_string",Ia:"linker",uc:"accept_incoming",Ab:"decorate_forms",W:"domains",Pb:"url_position",Gg:"method",Ok:"name",bd:"new_customer",Hg:"non_interaction",Si:"optimize_id",Ti:"page_hostname",dd:"page_path",Ja:"page_referrer",Bb:"page_title",Ig:"passengers",
Jg:"phone_conversion_callback",Ui:"phone_conversion_country_code",Kg:"phone_conversion_css_class",Vi:"phone_conversion_ids",Lg:"phone_conversion_number",Mg:"phone_conversion_options",Ng:"_protected_audience_enabled",ed:"quantity",Td:"redact_device_info",tf:"referral_exclusion_definition",Qb:"restricted_data_processing",Wi:"retoken",Pk:"sample_rate",uf:"screen_name",Cb:"screen_resolution",Xi:"search_term",Na:"send_page_view",Rb:"send_to",Ud:"server_container_url",fd:"session_duration",Vd:"session_engaged",
vf:"session_engaged_time",Db:"session_id",Wd:"session_number",gd:"delivery_postal_code",Qk:"temporary_client_id",wf:"topmost_url",Yi:"tracking_id",xf:"traffic_type",Aa:"transaction_id",Sb:"transport_url",Og:"trip_type",Tb:"update",ob:"url_passthrough",Xd:"_user_agent_architecture",Yd:"_user_agent_bitness",Zd:"_user_agent_full_version_list",ae:"_user_agent_mobile",be:"_user_agent_model",ce:"_user_agent_platform",de:"_user_agent_platform_version",ee:"_user_agent_wow64",Ca:"user_data",Pg:"user_data_auto_latency",
Qg:"user_data_auto_meta",Rg:"user_data_auto_multi",Sg:"user_data_auto_selectors",Tg:"user_data_auto_status",fe:"user_data_mode",he:"user_data_settings",Sa:"user_id",Xa:"user_properties",Zi:"_user_region",yf:"us_privacy_string",ja:"value",Ug:"wbraid_multiple_conversions",fj:"_host_name",gj:"_in_page_command",ij:"_is_passthrough_cid",Xb:"non_personalized_ads",oe:"_sst_parameters",ib:"conversion_label",za:"page_location",yb:"global_developer_id_string",hd:"tc_privacy_string"}},Zh={},$h=Object.freeze((Zh[N.g.ia]=
1,Zh[N.g.cf]=1,Zh[N.g.Bd]=1,Zh[N.g.hb]=1,Zh[N.g.Z]=1,Zh[N.g.jb]=1,Zh[N.g.Ra]=1,Zh[N.g.kb]=1,Zh[N.g.nc]=1,Zh[N.g.Sc]=1,Zh[N.g.Wa]=1,Zh[N.g.oc]=1,Zh[N.g.Tc]=1,Zh[N.g.ba]=1,Zh[N.g.qg]=1,Zh[N.g.Xc]=1,Zh[N.g.Md]=1,Zh[N.g.Nd]=1,Zh[N.g.Yc]=1,Zh[N.g.Bg]=1,Zh[N.g.Nb]=1,Zh[N.g.Eg]=1,Zh[N.g.Qd]=1,Zh[N.g.qf]=1,Zh[N.g.Ob]=1,Zh[N.g.zb]=1,Zh[N.g.Ia]=1,Zh[N.g.tf]=1,Zh[N.g.Qb]=1,Zh[N.g.Na]=1,Zh[N.g.Rb]=1,Zh[N.g.Ud]=1,Zh[N.g.fd]=1,Zh[N.g.vf]=1,Zh[N.g.gd]=1,Zh[N.g.Sb]=1,Zh[N.g.Tb]=1,Zh[N.g.he]=1,Zh[N.g.Xa]=1,Zh[N.g.oe]=
1,Zh));Object.freeze([N.g.za,N.g.Ja,N.g.Bb,N.g.Ma,N.g.uf,N.g.Sa,N.g.nf,N.g.Ei]);
var ai={},bi=Object.freeze((ai[N.g.si]=1,ai[N.g.ui]=1,ai[N.g.vi]=1,ai[N.g.wi]=1,ai[N.g.xi]=1,ai[N.g.yi]=1,ai[N.g.zi]=1,ai[N.g.Ai]=1,ai[N.g.Bi]=1,ai[N.g.Ad]=1,ai)),ci={},di=Object.freeze((ci[N.g.jg]=1,ci[N.g.kg]=1,ci[N.g.hc]=1,ci[N.g.ic]=1,ci[N.g.lg]=1,ci[N.g.Ib]=1,ci[N.g.jc]=1,ci[N.g.eb]=1,ci[N.g.ub]=1,ci[N.g.fb]=1,ci[N.g.wa]=1,ci[N.g.kc]=1,ci[N.g.Ga]=1,ci[N.g.mg]=1,ci)),ei=Object.freeze([N.g.ia,N.g.hb,N.g.oc,N.g.Yc,N.g.ad,N.g.Na,N.g.Tb]),fi=Object.freeze([].concat(ei)),gi=Object.freeze([N.g.Ra,N.g.Nd,
N.g.fd,N.g.vf,N.g.Id]),hi=Object.freeze([].concat(gi)),ii={},ji=(ii[N.g.J]="1",ii[N.g.R]="2",ii[N.g.N]="3",ii[N.g.Fa]="4",ii),ki={},li=Object.freeze((ki[N.g.ia]=1,ki[N.g.Bd]=1,ki[N.g.Ha]=1,ki[N.g.Lb]=1,ki[N.g.df]=1,ki[N.g.Cd]=1,ki[N.g.Dd]=1,ki[N.g.Ed]=1,ki[N.g.Z]=1,ki[N.g.Fd]=1,ki[N.g.Va]=1,ki[N.g.xa]=1,ki[N.g.jb]=1,ki[N.g.Ra]=1,ki[N.g.kb]=1,ki[N.g.Wa]=1,ki[N.g.ya]=1,ki[N.g.Gd]=1,ki[N.g.ba]=1,ki[N.g.Ii]=1,ki[N.g.Kd]=1,ki[N.g.Ld]=1,ki[N.g.nf]=1,ki[N.g.Yc]=1,ki[N.g.Ob]=1,ki[N.g.zb]=1,ki[N.g.Ma]=1,ki[N.g.bd]=
1,ki[N.g.za]=1,ki[N.g.Ja]=1,ki[N.g.Jg]=1,ki[N.g.Kg]=1,ki[N.g.Lg]=1,ki[N.g.Mg]=1,ki[N.g.Qb]=1,ki[N.g.Na]=1,ki[N.g.Rb]=1,ki[N.g.Ud]=1,ki[N.g.gd]=1,ki[N.g.Aa]=1,ki[N.g.Sb]=1,ki[N.g.Tb]=1,ki[N.g.ob]=1,ki[N.g.Ca]=1,ki[N.g.Sa]=1,ki[N.g.ja]=1,ki)),mi={},ni=Object.freeze((mi[N.g.tk]="s",mi[N.g.vk]="y",mi[N.g.sk]="p",mi[N.g.uk]="h",mi[N.g.ri]="a",mi[N.g.rk]="m",mi));Object.freeze(N.g);var oi={},pi=l.google_tag_manager=l.google_tag_manager||{},qi=Math.random();oi.Zg="41v0";oi.ne=Number("0")||0;oi.fa="dataLayer";oi.zn="ChAIgMLyrQYQ1qbvjIiK7qcKEicAWmVMBOzFJ7CiQiWhsdpycAYeSP3sq2jA3vX09VDUW2XqS1M0IVgaAj+C";var ri={__cl:1,__ecl:1,__ehl:1,__evl:1,__fal:1,__fil:1,__fsl:1,__hl:1,__jel:1,__lcl:1,__sdl:1,__tl:1,__ytl:1},si={__paused:1,__tg:1},ti;for(ti in ri)ri.hasOwnProperty(ti)&&(si[ti]=1);var ui=Qa(""),vi,wi=!1;wi=!0;
vi=wi;var xi,yi=!1;xi=yi;var zi,Ai=!1;zi=Ai;oi.zd="www.googletagmanager.com";var Bi=""+oi.zd+(vi?"/gtag/js":"/gtm.js"),Ci=null,Di=null,Ei={},Fi={},Gi=function(){var a=pi.sequence||1;pi.sequence=a+1;return a};oi.pk="";var Hi="";oi.Ff=Hi;var Ii=new function(){this.h="";this.s=!1;this.F=this.M=this.C=""};function Ji(a){for(var b={},c=fa(a.split("|")),d=c.next();!d.done;d=c.next())b[d.value]=!0;return b}var Ki=new Ka,Li={},Mi={},Pi={name:oi.fa,set:function(a,b){z(ab(a,b),Li);Ni()},get:function(a){return Oi(a,2)},reset:function(){Ki=new Ka;Li={};Ni()}},Oi=function(a,b){return 2!=b?Ki.get(a):Qi(a)},Qi=function(a,b){var c=a.split(".");b=b||[];for(var d=Li,e=0;e<c.length;e++){if(null===d)return!1;if(void 0===d)break;d=d[c[e]];if(-1!==b.indexOf(d))return}return d},Ri=function(a,b){Mi.hasOwnProperty(a)||(Ki.set(a,b),z(ab(a,b),Li),Ni())},Si=function(){for(var a=["gtm.allowlist","gtm.blocklist","gtm.whitelist",
"gtm.blacklist","tagTypeBlacklist"],b=0;b<a.length;b++){var c=a[b],d=Oi(c,1);if(Ha(d)||nb(d))d=z(d);Mi[c]=d}},Ni=function(a){Na(Mi,function(b,c){Ki.set(b,c);z(ab(b),Li);z(ab(b,c),Li);a&&delete Mi[b]})},Ti=function(a,b){var c,d=1!==(void 0===b?2:b)?Qi(a):Ki.get(a);"array"===kb(d)||"object"===kb(d)?c=z(d):c=d;return c};var Xi=[];function Yi(a){switch(a){case 23:return 3;case 102:return 19;case 44:return 14;case 54:return 11;case 55:return 12;case 59:return 13;case 56:return 15;case 90:return 16;case 94:return 17;case 101:return 18}}function Q(a){Xi[a]=!0;var b=Yi(a);b&&(Qf[b]=!0)}
Q(5);Q(6);Q(7);Q(9);Q(10);
Q(13);Q(11);Q(14);
Q(17);Q(18);
Q(19);Q(21);Q(22);
Q(25);Q(27);Q(28);
Q(29);Q(31);Q(32);Q(36);Q(38);Q(41);Q(42);
Q(43);Q(45);Q(46);Q(47);Q(49);Q(50);Q(51);
Q(56);
Q(58);
Q(61);Q(62);Q(67);
Q(73);Q(78);Q(79);
Q(81);
Q(83);Q(86);
Q(87);Q(88);Q(89);
Q(94);

Q(99);function Zi(a,b){for(var c=void 0,d=void 0,e=0;c===d;)if(c=Math.floor(2*Math.random()),d=Math.floor(2*Math.random()),e++,20<e)return;c?Q(a):Q(b)}
function R(a){return!!Xi[a]}var $i=function(a){Ab("HEALTH",a)};var aj;try{aj=JSON.parse(yb("eyIwIjoiRVMiLCIxIjoiRVMtQ1QiLCIyIjpmYWxzZSwiMyI6Imdvb2dsZS5lcyIsIjQiOiJyZWdpb24xIiwiNSI6ZmFsc2UsIjYiOnRydWUsIjciOiJhZF9zdG9yYWdlfGFuYWx5dGljc19zdG9yYWdlfGFkX3VzZXJfZGF0YXxhZF9wZXJzb25hbGl6YXRpb24ifQ"))}catch(a){M(123),$i(2),aj={}}
var bj=function(){return aj["0"]||""},cj=function(){return aj["1"]||""},dj=function(){var a=!1;return a},ej=function(){return!1!==aj["6"]},fj=function(){var a="";return a},gj=function(){var a=!1;return a},hj=function(){var a="";return a};var ij=new function(a,b){this.h=a;this.defaultValue=void 0===b?!1:b}(1933);var jj=function(a){jj[" "](a);return a};jj[" "]=function(){};var lj=function(){var a=kj,b="yh";if(a.yh&&a.hasOwnProperty(b))return a.yh;var c=new a;return a.yh=c};var kj=function(){var a={};this.h=function(){var b=ij.h,c=ij.defaultValue;return null!=a[b]?a[b]:c};this.s=function(){a[ij.h]=!0}};var mj=!1,nj=!1,oj={},uj={},vj=!1,wj={ad_storage:!1,ad_user_data:!1,ad_personalization:!1};function xj(){var a=Ec("google_tag_data",{});return a.ics=a.ics||new yj}var yj=function(){this.entries={};this.cps={};this.waitPeriodTimedOut=this.wasSetLate=this.accessedAny=this.accessedDefault=this.usedSetCps=this.usedImplicit=this.usedUpdate=this.usedDefault=this.usedDeclare=this.active=!1;this.h=[]};
yj.prototype.default=function(a,b,c,d,e,f){this.usedDefault||this.usedDeclare||!this.accessedDefault&&!this.accessedAny||(this.wasSetLate=!0);this.usedDefault=this.active=!0;Ab("TAGGING",19);void 0==b?Ab("TAGGING",18):zj(this,a,"granted"===b,c,d,e,f)};yj.prototype.waitForUpdate=function(a,b){for(var c=0;c<a.length;c++)zj(this,a[c],void 0,void 0,"","",b)};
var zj=function(a,b,c,d,e,f,g){var h=a.entries,m=h[b]||{},n=m.region,p=d&&k(d)?d.toUpperCase():void 0;e=e.toUpperCase();f=f.toUpperCase();if(Aj(p,n,e,f)){var q=!!(g&&0<g&&void 0===m.update),r={region:p,declare_region:m.declare_region,implicit:m.implicit,default:void 0!==c?c:m.default,declare:m.declare,update:m.update,quiet:q};if(""!==e||!1!==m.default)h[b]=r;q&&l.setTimeout(function(){h[b]===r&&r.quiet&&(Ab("TAGGING",2),a.waitPeriodTimedOut=!0,a.clearTimeout(b,void 0),a.notifyListeners())},g)}};
aa=yj.prototype;aa.clearTimeout=function(a,b){var c=[a],d;for(d in oj)oj.hasOwnProperty(d)&&oj[d]===a&&c.push(d);var e=this.entries[a]||{},f=this.getConsentState(a);if(e.quiet){e.quiet=!1;for(var g=fa(c),h=g.next();!h.done;h=g.next())Bj(this,h.value)}else if(void 0!==b&&f!==b)for(var m=fa(c),n=m.next();!n.done;n=m.next())Bj(this,n.value)};
aa.update=function(a,b){this.usedDefault||this.usedDeclare||this.usedUpdate||!this.accessedAny||(this.wasSetLate=!0);this.usedUpdate=this.active=!0;if(void 0!=b){var c=this.getConsentState(a),d=this.entries;(d[a]=d[a]||{}).update="granted"===b;this.clearTimeout(a,c)}};
aa.declare=function(a,b,c,d,e){this.usedDeclare=this.active=!0;var f=this.entries,g=f[a]||{},h=g.declare_region,m=c&&k(c)?c.toUpperCase():void 0;d=d.toUpperCase();e=e.toUpperCase();if(Aj(m,h,d,e)){var n={region:g.region,declare_region:m,declare:"granted"===b,implicit:g.implicit,default:g.default,update:g.update,quiet:g.quiet};if(""!==d||!1!==g.declare)f[a]=n}};aa.implicit=function(a,b){this.usedImplicit=!0;var c=this.entries,d=c[a]=c[a]||{};!1!==d.implicit&&(d.implicit="granted"===b)};
aa.getConsentState=function(a){var b=this.entries,c=b[a]||{},d=c.update;if(void 0!==d)return d?1:2;d=c.default;if(void 0!==d)return d?1:2;if(oj.hasOwnProperty(a)){var e=b[oj[a]]||{};d=e.update;if(void 0!==d)return d?1:2;d=e.default;if(void 0!==d)return d?1:2}d=c.declare;if(void 0!==d)return d?1:2;if(Rf(3)){d=c.implicit;if(void 0!==d)return d?3:4;if(Rf(19)&&wj.hasOwnProperty(a))return Ab("TAGGING",22),wj[a]?3:4}return 0};aa.setCps=function(a,b,c,d,e){Cj(this.cps,a,b,c,d,e)&&(this.usedSetCps=!0)};
aa.addListener=function(a,b){this.h.push({consentTypes:a,Ml:b})};var Bj=function(a,b){for(var c=0;c<a.h.length;++c){var d=a.h[c];Ha(d.consentTypes)&&-1!==d.consentTypes.indexOf(b)&&(d.Rj=!0)}};yj.prototype.notifyListeners=function(a,b){for(var c=0;c<this.h.length;++c){var d=this.h[c];if(d.Rj){d.Rj=!1;try{d.Ml({consentEventId:a,consentPriorityId:b})}catch(e){}}}};function Aj(a,b,c,d){return""===c||a===d?!0:a===c?b!==d:!a&&!b}
function Cj(a,b,c,d,e,f){var g=a[b]||{},h=g.region,m=d&&k(d)?d.toUpperCase():void 0;e=e.toUpperCase();f=f.toUpperCase();if(Aj(m,h,e,f)){var n={enabled:"granted"===c,region:m};if(""!==e||!1!==g.enabled)return a[b]=n,!0}return!1}
var Dj=function(a){var b=xj();b.accessedAny=!0;return(k(a)?[a]:a).every(function(c){switch(b.getConsentState(c)){case 1:case 3:return!0;case 2:case 4:return!1;default:return!0}})},Ej=function(a){var b=xj();b.accessedAny=!0;return b.getConsentState(a)},Fj=function(){var a=xj(),b=vj,c=a.cps,d=a.usedSetCps,e={};if(b&&d)for(var f in uj)uj.hasOwnProperty(f)&&uj[f].enabled&&c.hasOwnProperty(f)&&c[f].enabled?e[f]={enabled:!0,region:uj[f].region}:e[f]={enabled:!1,region:uj[f].region};else{var g=b?uj:c,h;
for(h in g)g.hasOwnProperty(h)&&(e[h]={enabled:g[h].enabled,region:g[h].region})}for(var m={},n=fa(Object.keys(e)),p=n.next();!p.done;p=n.next()){var q=p.value;m[q]=e[q].enabled}return m},Gj=function(a){var b=xj();b.accessedAny=!0;return!(b.entries[a]||{}).quiet},Hj=function(){if(!lj().h())return!1;var a=xj();a.accessedAny=!0;return a.active},Ij=function(a,b){xj().addListener(a,b)},Jj=function(a,b){xj().notifyListeners(a,b)},Kj=function(a,b){function c(){for(var e=0;e<b.length;e++)if(!Gj(b[e]))return!0;
return!1}if(c()){var d=!1;Ij(b,function(e){d||c()||(d=!0,a(e))})}else a({})},Lj=function(a,b){function c(){for(var h=[],m=0;m<e.length;m++){var n=e[m];Dj(n)&&!f[n]&&h.push(n)}return h}function d(h){for(var m=0;m<h.length;m++)f[h[m]]=!0}var e=k(b)?[b]:b,f={},g=c();g.length!==e.length&&(d(g),Ij(e,function(h){function m(q){0!==q.length&&(d(q),h.consentTypes=q,a(h))}var n=c();if(0!==n.length){var p=Object.keys(f).length;n.length+p>=e.length?m(n):l.setTimeout(function(){m(c())},500)}}))};function Mj(){}function Nj(){};var Oj=[N.g.J,N.g.R,N.g.N,N.g.Fa],Pj=function(a){for(var b=a[N.g.Ua],c=Array.isArray(b)?b:[b],d={Ee:0};d.Ee<c.length;d={Ee:d.Ee},++d.Ee)Na(a,function(e){return function(f,g){if(f!==N.g.Ua){var h=c[e.Ee],m=bj(),n=cj();nj=!0;mj&&Ab("TAGGING",20);xj().declare(f,g,h,m,n)}}}(d))},Qj=function(a){var b=a[N.g.Ua];b&&M(40);var c=a[N.g.af];c&&M(41);for(var d=Ha(b)?b:[b],e={Fe:0};e.Fe<d.length;e={Fe:e.Fe},++e.Fe)Na(a,function(f){return function(g,h){if(g!==N.g.Ua&&g!==N.g.af){var m=d[f.Fe],n=Number(c),p=bj(),
q=cj();mj=!0;nj&&Ab("TAGGING",20);xj().default(g,h,m,p,q,n)}}}(e))},Rj=function(a,b){Na(a,function(c,d){mj=!0;nj&&Ab("TAGGING",20);xj().update(c,d)});Jj(b.eventId,b.priorityId)},Sj=function(a){for(var b=a[N.g.Ua],c=Array.isArray(b)?b:[b],d={Ge:0};d.Ge<c.length;d={Ge:d.Ge},++d.Ge)Na(a,function(e){return function(f,g){if(f!==N.g.Ua){var h=c[e.Ge],m=bj(),n=cj();xj().setCps(f,g,h,m,n)}}}(d))},Tj=function(a){for(var b=a[N.g.Ua],c=Array.isArray(b)?b:[b],d={nd:0};d.nd<c.length;d={nd:d.nd},++d.nd)a.hasOwnProperty(N.g.hg)&&
Na(ni,function(e){return function(f){Cj(uj,f,a[N.g.hg],c[e.nd],bj(),cj())&&(vj=!0)}}(d)),Na(a,function(e){return function(f,g){f!==N.g.Ua&&f!==N.g.hg&&Cj(uj,f,g,c[e.nd],bj(),cj())&&(vj=!0)}}(d))},Uj=function(a){Array.isArray(a)||(a=[a]);return a.every(function(b){return Dj(b)})},Vj=function(a,b){Ij(a,b)},Wj=function(a,b){Lj(a,b)},Xj=function(a,b){Kj(a,b)},Yj=function(){var a=[N.g.J,N.g.Fa,N.g.N];xj().waitForUpdate(a,500)},Zj=function(a){for(var b=fa(a),c=b.next();!c.done;c=b.next()){var d=c.value;
xj().clearTimeout(d,void 0)}Jj()};var ak=function(){function a(b){pi.pscdl=b}if(void 0===pi.pscdl)try{"cookieDeprecationLabel"in Cc?(a("pending"),Cc.cookieDeprecationLabel.getValue().then(a)):a("noapi")}catch(b){a("error")}};var bk=/[A-Z]+/,ck=/\s/,dk=function(a,b){if(k(a)){a=Sa(a);var c=a.indexOf("-");if(!(0>c)){var d=a.substring(0,c);if(bk.test(d)){var e=a.substring(c+1),f;if(b){var g=function(n){var p=n.indexOf("/");return 0>p?[n]:[n.substring(0,p),n.substring(p+1)]};f=g(e);if("DC"===d&&2===f.length){var h=g(f[1]);2===h.length&&(f[1]=h[0],f.push(h[1]))}}else{f=e.split("/");for(var m=0;m<f.length;m++)if(!f[m]||ck.test(f[m])&&("AW"!==d||1!==m))return}return{id:a,prefix:d,da:d+"-"+f[0],P:f}}}}},fk=function(a,b){for(var c=
{},d=0;d<a.length;++d){var e=dk(a[d],b);e&&(c[e.id]=e)}ek(c);var f=[];Na(c,function(g,h){f.push(h)});return f};function ek(a){var b=[],c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];"AW"===d.prefix&&d.P[1]&&b.push(d.da)}for(var e=0;e<b.length;++e)delete a[b[e]]};var gk=/:[0-9]+$/,hk=/^\d+\.fls\.doubleclick\.net$/,ik=function(a,b,c,d){for(var e=[],f=fa(a.split("&")),g=f.next();!g.done;g=f.next()){var h=fa(g.value.split("=")),m=h.next().value,n=ha(h);if(decodeURIComponent(m.replace(/\+/g," "))===b){var p=n.join("=");if(!c)return d?p:decodeURIComponent(p.replace(/\+/g," "));e.push(d?p:decodeURIComponent(p.replace(/\+/g," ")))}}return c?e:void 0},lk=function(a,b,c,d,e){b&&(b=String(b).toLowerCase());if("protocol"===b||"port"===b)a.protocol=jk(a.protocol)||jk(l.location.protocol);
"port"===b?a.port=String(Number(a.hostname?a.port:l.location.port)||("http"===a.protocol?80:"https"===a.protocol?443:"")):"host"===b&&(a.hostname=(a.hostname||l.location.hostname).replace(gk,"").toLowerCase());return kk(a,b,c,d,e)},kk=function(a,b,c,d,e){var f,g=jk(a.protocol);b&&(b=String(b).toLowerCase());switch(b){case "url_no_fragment":f=mk(a);break;case "protocol":f=g;break;case "host":f=a.hostname.replace(gk,"").toLowerCase();if(c){var h=/^www\d*\./.exec(f);h&&h[0]&&(f=f.substr(h[0].length))}break;
case "port":f=String(Number(a.port)||("http"===g?80:"https"===g?443:""));break;case "path":a.pathname||a.hostname||Ab("TAGGING",1);f="/"===a.pathname.substr(0,1)?a.pathname:"/"+a.pathname;var m=f.split("/");0<=(d||[]).indexOf(m[m.length-1])&&(m[m.length-1]="");f=m.join("/");break;case "query":f=a.search.replace("?","");e&&(f=ik(f,e,!1));break;case "extension":var n=a.pathname.split(".");f=1<n.length?n[n.length-1]:"";f=f.split("/")[0];break;case "fragment":f=a.hash.replace("#","");break;default:f=
a&&a.href}return f},jk=function(a){return a?a.replace(":","").toLowerCase():""},mk=function(a){var b="";if(a&&a.href){var c=a.href.indexOf("#");b=0>c?a.href:a.href.substr(0,c)}return b},nk={},ok=0,qk=function(a){if(Rf(17)){var b=nk[a];b||(b=pk(a),5>ok&&(nk[a]=b,ok++));return b}return pk(a)},pk=function(a){var b=C.createElement("a");a&&(b.href=a);var c=b.pathname;"/"!==c[0]&&(a||Ab("TAGGING",1),c="/"+c);var d=b.hostname.replace(gk,"");return{href:b.href,protocol:b.protocol,host:b.host,hostname:d,pathname:c,
search:b.search,hash:b.hash,port:b.port}},rk=function(a){function b(n){var p=n.split("=")[0];return 0>d.indexOf(p)?n:p+"=0"}function c(n){return n.split("&").map(b).filter(function(p){return void 0!==p}).join("&")}var d="gclid dclid gbraid wbraid gclaw gcldc gclha gclgf gclgb _gl".split(" "),e=qk(a),f=a.split(/[?#]/)[0],g=e.search,h=e.hash;"?"===g[0]&&(g=g.substring(1));"#"===h[0]&&(h=h.substring(1));g=c(g);h=c(h);""!==g&&(g="?"+g);""!==h&&(h="#"+h);var m=""+f+g+h;"/"===m[m.length-1]&&(m=m.substring(0,
m.length-1));return m},sk=function(a){var b=qk(l.location.href),c=lk(b,"host",!1);if(c&&c.match(hk)){var d=lk(b,"path").split(a+"=");if(1<d.length)return d[1].split(";")[0].split("?")[0]}};function tk(a,b){if(a){var c=""+a;0!==c.indexOf("http://")&&0!==c.indexOf("https://")&&(c="https://"+c);"/"===c[c.length-1]&&(c=c.substring(0,c.length-1));return qk(""+c+b).href}}function uk(){return Ii.s||xi}function vk(){return!!oi.Ff&&"SGTM_TOKEN"!==oi.Ff.split("@@").join("")}function wk(a){for(var b=fa([N.g.Ud,N.g.Sb]),c=b.next();!c.done;c=b.next()){var d=T(a,c.value);if(d)return d}}function xk(a){return Ii.s?Ii.C:a};var yk=function(a){var b=String(a[Ne.ma]||"").replace(/_/g,"");0===b.indexOf("cvt")&&(b="cvt");return b},zk=0<=l.location.search.indexOf("?gtm_latency=")||0<=l.location.search.indexOf("&gtm_latency=");var Bk=function(a,b){var c=Ak();c.pending||(c.pending=[]);Ia(c.pending,function(d){return d.target.ctid===a.ctid&&d.target.isDestination===a.isDestination})||c.pending.push({target:a,onLoad:b})},Ck=function(){this.container={};this.destination={};this.canonical={};this.pending=[];this.siloed=[]},Ak=function(){var a=Ec("google_tag_data",{}),b=a.tidr;b||(b=new Ck,a.tidr=b);return b};var Dk={},Ek=!1,Sf={ctid:"UA-167286421-1",Kf:"",Pj:"UA-167286421-1",Qj:"UA-167286421-1"};Dk.je=Qa("");
var Hk=function(){var a=Fk();return Ek?a.map(Gk):a},Jk=function(){var a=Ik();return Ek?a.map(Gk):a},Lk=function(){return Kk(Sf.ctid)},Mk=function(){return Kk(Sf.Kf||"_"+Sf.ctid)},Fk=function(){return Sf.Pj?Sf.Pj.split("|"):[Sf.ctid]},Ik=function(){return Sf.Qj?Sf.Qj.split("|"):[]},Nk=function(a){var b=Ak();return a.isDestination?b.destination[a.ctid]:b.container[a.ctid]},Kk=function(a){return Ek?Gk(a):a},Gk=function(a){return"siloed_"+a},Ok=function(a){a=String(a);return Ek&&0===a.indexOf("siloed_")?
a.substring(7):a},Pk=function(){var a=!1;if(a){var b=Ak();if(b.siloed){for(var c=[],d=Fk(),e=Ik(),f={},g=0;g<b.siloed.length;f={Lf:void 0},g++)f.Lf=b.siloed[g],!Ek&&Ia(f.Lf.isDestination?e:d,function(h){return function(m){return m===h.Lf.ctid}}(f))?Ek=!0:c.push(f.Lf);b.siloed=c}}};
function Qk(){var a=Ak();if(a.pending){for(var b,c=[],d=!1,e=Hk(),f=Jk(),g={},h=0;h<a.pending.length;g={Re:void 0},h++)g.Re=a.pending[h],Ia(g.Re.target.isDestination?f:e,function(m){return function(n){return n===m.Re.target.ctid}}(g))?d||(b=g.Re.onLoad,d=!0):c.push(g.Re);a.pending=c;if(b)try{b(Mk())}catch(m){}}}
var Rk=function(){for(var a=Ak(),b=Hk(),c=0;c<b.length;c++){var d=a.container[b[c]];d?(d.state=2,d.containers=Hk(),d.destinations=Jk()):a.container[b[c]]={state:2,containers:Hk(),destinations:Jk()}}for(var e=Jk(),f=0;f<e.length;f++){var g=a.destination[e[f]];g&&0===g.state&&M(93);g?(g.state=2,g.containers=Hk(),g.destinations=Jk()):a.destination[e[f]]={state:2,containers:Hk(),destinations:Jk()}}a.canonical[Mk()]={};Qk()},Sk=function(a){return!!Ak().container[a]},Tk=function(a){var b=Ak().destination[a];
return!!b&&!!b.state},Uk=function(){return{ctid:Lk(),isDestination:Dk.je}};function Vk(a){var b=Ak();(b.siloed=b.siloed||[]).push(a)}var Wk=function(){var a=Ak().container,b;for(b in a)if(a.hasOwnProperty(b)&&1===a[b].state)return!0;return!1},Xk=function(){var a={};Na(Ak().destination,function(b,c){0===c.state&&(a[b]=c)});return a},Yk=function(a){return!!(a&&a.parent&&a.context&&1===a.context.source&&0!==a.parent.ctid.indexOf("GTM-"))};var Zk={sampleRate:"0.005000",kk:"",jk:Number("5"),ko:Number("")},$k=[];function al(a){$k.push(a)}var bl=!1,cl;if(!(cl=zk)){var dl=Math.random(),el=Zk.sampleRate;cl=dl<Number(el)}
var fl=cl,gl="/a?id="+Sf.ctid,hl="https://www.googletagmanager.com"+gl,il=void 0,jl={},kl=void 0,ll=new function(){var a=5;0<Zk.jk&&(a=Zk.jk);this.h=0;this.C=[];this.s=a},ml=1E3;
function nl(a,b){var c=il;if(void 0===c)if(b)c=Gi();else return"";for(var d=[xk("https://www.googletagmanager.com"),gl],e=fa($k),f=e.next();!f.done;f=e.next())for(var g=f.value,h=g({eventId:c,Jc:!!a,Zj:function(){bl=!0}}),m=fa(h),n=m.next();!n.done;n=m.next()){var p=fa(n.value),q=p.next().value,r=p.next().value;d.push("&"+q+"="+r)}d.push("&z=0");return d.join("")}
function ol(){kl&&(l.clearTimeout(kl),kl=void 0);if(void 0!==il&&pl){var a;(a=jl[il])||(a=ll.h<ll.s?!1:1E3>Ua()-ll.C[ll.h%ll.s]);if(a||0>=ml--)M(1),jl[il]=!0;else{var b=ll.h++%ll.s;ll.C[b]=Ua();var c=nl(!0);Mc(c);if(bl){var d=c.replace("/a?","/td?");Mc(d)}pl=bl=!1}}}var pl=!1;function ql(a){jl[a]||(a!==il&&(ol(),il=a),pl=!0,kl||(kl=l.setTimeout(ol,500)),2022<=nl().length&&ol())}var rl=Ja();function sl(){rl=Ja()}function tl(){return[["v","3"],["t","t"],["pid",rl]]};var ul="",vl=[];function wl(a){var b=[];ul&&b.push(["dl",encodeURIComponent(ul)]);0<vl.length&&b.push(["tdp",vl.join(".")]);a.Jc&&(ul="",vl.length=0,b.length&&a.Zj());return b};var xl=[];function yl(a){if(!xl.length)return[];var b=[["tdc",xl.join("!")]];a.Jc&&(a.Zj(),xl.length=0);return b};var zl={initialized:11,complete:12,interactive:13},Al={},Bl=Object.freeze((Al[N.g.Na]=!0,Al)),Cl=0<=C.location.search.indexOf("?gtm_diagnostics=")||0<=C.location.search.indexOf("&gtm_diagnostics="),El=function(a,b,c){if(fl&&"config"===a&&!(1<dk(b).P.length)){var d,e=Ec("google_tag_data",{});e.td||(e.td={});d=e.td;var f=z(c.F);z(c.h,f);var g=[],h;for(h in d){var m=Dl(d[h],f);m.length&&(Cl&&console.log(m),g.push(h))}g.length&&(g.length&&fl&&xl.push(b+"*"+g.join(".")),Ab("TAGGING",zl[C.readyState]||
14));d[b]=f}};function Fl(a,b){var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=!0);for(var e in a)a.hasOwnProperty(e)&&(c[e]=!0);return c}function Dl(a,b,c,d){c=void 0===c?{}:c;d=void 0===d?"":d;if(a===b)return[];var e=function(q,r){var t=r[q];return void 0===t?Bl[q]:t},f;for(f in Fl(a,b)){var g=(d?d+".":"")+f,h=e(f,a),m=e(f,b),n="object"===kb(h)||"array"===kb(h),p="object"===kb(m)||"array"===kb(m);if(n&&p)Dl(h,m,c,g);else if(n||p||h!==m)c[g]=!0}return Object.keys(c)};var Gl=function(a,b,c,d,e,f,g,h,m,n,p){this.eventId=a;this.priorityId=b;this.h=c;this.M=d;this.C=e;this.F=f;this.s=g;this.eventMetadata=h;this.onSuccess=m;this.onFailure=n;this.isGtmEvent=p},Hl=function(a,b){var c=[];switch(b){case 3:c.push(a.h);c.push(a.M);c.push(a.C);c.push(a.F);c.push(a.s);break;case 2:c.push(a.h);break;case 1:c.push(a.M);c.push(a.C);c.push(a.F);c.push(a.s);break;case 4:c.push(a.h),c.push(a.M),c.push(a.C),c.push(a.F)}return c},T=function(a,b,c,d){for(var e=fa(Hl(a,void 0===d?3:
d)),f=e.next();!f.done;f=e.next()){var g=f.value;if(void 0!==g[b])return g[b]}return c},Il=function(a){for(var b={},c=Hl(a,4),d=fa(c),e=d.next();!e.done;e=d.next())for(var f=Object.keys(e.value),g=fa(f),h=g.next();!h.done;h=g.next())b[h.value]=1;return Object.keys(b)},Jl=function(a,b,c){function d(n){nb(n)&&Na(n,function(p,q){f=!0;e[p]=q})}var e={},f=!1,g=Hl(a,void 0===c?3:c);g.reverse();for(var h=fa(g),m=h.next();!m.done;m=h.next())d(m.value[b]);return f?e:void 0},Kl=function(a){for(var b=[N.g.Oc,
N.g.Kc,N.g.Lc,N.g.Mc,N.g.Nc,N.g.Pc,N.g.Qc],c=Hl(a,3),d=fa(c),e=d.next();!e.done;e=d.next()){for(var f=e.value,g={},h=!1,m=fa(b),n=m.next();!n.done;n=m.next()){var p=n.value;void 0!==f[p]&&(g[p]=f[p],h=!0)}var q=h?g:void 0;if(q)return q}return{}},Ll=function(a,b){this.Af=a;this.Bf=b;this.C={};this.Vb={};this.h={};this.F={};this.kd={};this.Ub={};this.s={};this.Oa=function(){};this.X=function(){};this.M=!1},Ml=function(a,b){a.C=b;return a},Nl=function(a,b){a.Vb=b;return a},Ol=function(a,b){a.h=b;return a},
Pl=function(a,b){a.F=b;return a},Ql=function(a,b){a.kd=b;return a},Rl=function(a,b){a.Ub=b;return a},Sl=function(a,b){a.s=b||{};return a},Tl=function(a,b){a.Oa=b;return a},Ul=function(a,b){a.X=b;return a},Vl=function(a,b){a.M=b;return a},Wl=function(a){return new Gl(a.Af,a.Bf,a.C,a.Vb,a.h,a.F,a.Ub,a.s,a.Oa,a.X,a.M)};var Xl={};function Yl(a,b,c){fl&&void 0!==a&&(Xl[a]=Xl[a]||[],Xl[a].push(c+b),ql(a))}function Zl(a){var b=a.eventId,c=a.Jc,d=[],e=Xl[b]||[];e.length&&d.push(["epr",e.join(".")]);c&&delete Xl[b];return d};var am=function(a,b){var c=dk(Kk(a),!0);c&&$l.register(c,b)},bm=function(a,b,c,d){var e=dk(c,d.isGtmEvent);e&&$l.push("event",[b,a],e,d)},cm=function(a,b,c,d){var e=dk(c,d.isGtmEvent);e&&$l.push("get",[a,b],e,d)},em=function(a){var b=dk(Kk(a),!0),c;b?c=dm($l,b).h:c={};return c},fm=function(a,b){var c=dk(Kk(a),!0);if(c){var d=$l,e=z(b);z(dm(d,c).h,e);dm(d,c).h=e}},gm=function(){this.status=1;this.M={};this.h={};this.s={};this.X=null;this.F={};this.C=!1},hm=function(a,b,c,d){var e=Ua();this.type=a;
this.C=e;this.h=b;this.s=c;this.messageContext=d},im=function(){this.s={};this.C={};this.h=[]},dm=function(a,b){var c=b.da;return a.s[c]=a.s[c]||new gm},jm=function(a,b,c,d){if(d.h){var e=dm(a,d.h),f=e.X;if(f){var g=z(c),h=z(e.M[d.h.id]),m=z(e.F),n=z(e.h),p=z(a.C),q={};if(fl)try{q=z(Li)}catch(v){M(72)}var r=d.h.prefix,t=function(v){Yl(d.messageContext.eventId,r,v)},u=Wl(Vl(Ul(Tl(Sl(Ql(Pl(Rl(Ol(Nl(Ml(new Ll(d.messageContext.eventId,d.messageContext.priorityId),g),h),m),n),p),q),d.messageContext.eventMetadata),
function(){if(t){var v=t;t=void 0;v("2");if(d.messageContext.onSuccess)d.messageContext.onSuccess()}}),function(){if(t){var v=t;t=void 0;v("3");if(d.messageContext.onFailure)d.messageContext.onFailure()}}),!!d.messageContext.isGtmEvent));try{Yl(d.messageContext.eventId,r,"1"),El(d.type,d.h.id,u),f(d.h.id,b,d.C,u)}catch(v){Yl(d.messageContext.eventId,r,"4")}}}};im.prototype.register=function(a,b,c){var d=dm(this,a);3!==d.status&&(d.X=b,d.status=3,c&&(z(d.h,c),d.h=c),this.flush())};
im.prototype.push=function(a,b,c,d){void 0!==c&&(1===dm(this,c).status&&(dm(this,c).status=2,this.push("require",[{}],c,{})),dm(this,c).C&&(d.deferrable=!1));this.h.push(new hm(a,c,b,d));d.deferrable||this.flush()};
im.prototype.flush=function(a){for(var b=this,c=[],d=!1,e={};this.h.length;e={wc:void 0,qh:void 0}){var f=this.h[0],g=f.h;if(f.messageContext.deferrable)!g||dm(this,g).C?(f.messageContext.deferrable=!1,this.h.push(f)):c.push(f),this.h.shift();else{switch(f.type){case "require":if(3!==dm(this,g).status&&!a){this.h.push.apply(this.h,c);return}break;case "set":Na(f.s[0],function(r,t){z(ab(r,t),b.C)});break;case "config":var h=dm(this,g);e.wc={};Na(f.s[0],function(r){return function(t,u){z(ab(t,u),r.wc)}}(e));
var m=!!e.wc[N.g.Tb];delete e.wc[N.g.Tb];var n=g.da===g.id;m||(n?h.F={}:h.M[g.id]={});h.C&&m||jm(this,N.g.ka,e.wc,f);h.C=!0;n?z(e.wc,h.F):(z(e.wc,h.M[g.id]),M(70));d=!0;break;case "event":e.qh={};Na(f.s[0],function(r){return function(t,u){z(ab(t,u),r.qh)}}(e));jm(this,f.s[1],e.qh,f);break;case "get":var p={},q=(p[N.g.nb]=f.s[0],p[N.g.xb]=f.s[1],p);jm(this,N.g.Pa,q,f)}this.h.shift();km(this,f)}}this.h.push.apply(this.h,c);d&&this.flush()};
var km=function(a,b){if("require"!==b.type)if(b.h)for(var c=dm(a,b.h).s[b.type]||[],d=0;d<c.length;d++)c[d]();else for(var e in a.s)if(a.s.hasOwnProperty(e)){var f=a.s[e];if(f&&f.s)for(var g=f.s[b.type]||[],h=0;h<g.length;h++)g[h]()}},$l=new im;function lm(a,b){if(""===a)return b;var c=Number(a);return isNaN(c)?b:c};var mm=function(a,b){var c=function(){};c.prototype=a.prototype;var d=new c;a.apply(d,Array.prototype.slice.call(arguments,1));return d},nm=function(a){var b=a;return function(){if(b){var c=b;b=null;c()}}};var om=function(a,b,c){a.addEventListener&&a.addEventListener(b,c,!1)};function pm(){return Pb?!!Wb&&!!Wb.platform:!1}function qm(){return Zb("iPhone")&&!Zb("iPod")&&!Zb("iPad")}function rm(){qm()||Zb("iPad")||Zb("iPod")};ac();$b()||Zb("Trident")||Zb("MSIE");Zb("Edge");!Zb("Gecko")||-1!=Vb().toLowerCase().indexOf("webkit")&&!Zb("Edge")||Zb("Trident")||Zb("MSIE")||Zb("Edge");-1!=Vb().toLowerCase().indexOf("webkit")&&!Zb("Edge")&&Zb("Mobile");pm()||Zb("Macintosh");pm()||Zb("Windows");(pm()?"Linux"===Wb.platform:Zb("Linux"))||pm()||Zb("CrOS");pm()||Zb("Android");qm();Zb("iPad");Zb("iPod");rm();Vb().toLowerCase().indexOf("kaios");var sm=function(a,b,c,d){for(var e=b,f=c.length;0<=(e=a.indexOf(c,e))&&e<d;){var g=a.charCodeAt(e-1);if(38==g||63==g){var h=a.charCodeAt(e+f);if(!h||61==h||38==h||35==h)return e}e+=f+1}return-1},tm=/#|$/,um=function(a,b){var c=a.search(tm),d=sm(a,0,b,c);if(0>d)return null;var e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return decodeURIComponent(a.slice(d,-1!==e?e:0).replace(/\+/g," "))},vm=/[?&]($|#)/,wm=function(a,b,c){for(var d,e=a.search(tm),f=0,g,h=[];0<=(g=sm(a,f,b,e));)h.push(a.substring(f,
g)),f=Math.min(a.indexOf("&",g)+1||e,e);h.push(a.slice(f));d=h.join("").replace(vm,"$1");var m,n=null!=c?"="+encodeURIComponent(String(c)):"";var p=b+n;if(p){var q,r=d.indexOf("#");0>r&&(r=d.length);var t=d.indexOf("?"),u;0>t||t>r?(t=r,u=""):u=d.substring(t+1,r);q=[d.slice(0,t),u,d.slice(r)];var v=q[1];q[1]=p?v?v+"&"+p:p:v;m=q[0]+(q[1]?"?"+q[1]:"")+q[2]}else m=d;return m};var xm=function(a){try{var b;if(b=!!a&&null!=a.location.href)a:{try{jj(a.foo);b=!0;break a}catch(c){}b=!1}return b}catch(c){return!1}},ym=function(a,b){if(a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(a[c],c,a)};function zm(a){if(!a||!C.head)return null;var b=Am("META");C.head.appendChild(b);b.httpEquiv="origin-trial";b.content=a;return b}
var Bm=function(a){if(l.top==l)return 0;if(void 0===a?0:a){var b=l.location.ancestorOrigins;if(b)return b[b.length-1]==l.location.origin?1:2}return xm(l.top)?1:2},Am=function(a,b){b=void 0===b?document:b;return b.createElement(String(a).toLowerCase())};function Cm(a,b,c,d){d=void 0===d?!1:d;a.google_image_requests||(a.google_image_requests=[]);var e=Am("IMG",a.document);if(c){var f=function(){if(c){var g=a.google_image_requests,h=Db(g,e);0<=h&&Array.prototype.splice.call(g,h,1)}e.removeEventListener&&e.removeEventListener("load",f,!1);e.removeEventListener&&e.removeEventListener("error",f,!1)};om(e,"load",f);om(e,"error",f)}d&&(e.attributionSrc="");e.src=b;a.google_image_requests.push(e)}
var Em=function(a){var b;b=void 0===b?!1:b;var c="https://pagead2.googlesyndication.com/pagead/gen_204?id=tcfe";ym(a,function(d,e){if(d||0===d)c+="&"+e+"="+encodeURIComponent(""+d)});Dm(c,b)},Dm=function(a,b){var c=window,d;b=void 0===b?!1:b;d=void 0===d?!1:d;if(c.fetch){var e={keepalive:!0,credentials:"include",redirect:"follow",method:"get",mode:"no-cors"};d&&(e.mode="cors","setAttributionReporting"in XMLHttpRequest.prototype?e.attributionReporting={eventSourceEligible:"true",triggerEligible:"false"}:
e.headers={"Attribution-Reporting-Eligible":"event-source"});c.fetch(a,e)}else Cm(c,a,void 0===b?!1:b,void 0===d?!1:d)};var Fm=function(){};var Gm=function(a){void 0!==a.addtlConsent&&"string"!==typeof a.addtlConsent&&(a.addtlConsent=void 0);void 0!==a.gdprApplies&&"boolean"!==typeof a.gdprApplies&&(a.gdprApplies=void 0);return void 0!==a.tcString&&"string"!==typeof a.tcString||void 0!==a.listenerId&&"number"!==typeof a.listenerId?2:a.cmpStatus&&"error"!==a.cmpStatus?0:3},Hm=function(a,b){b=void 0===b?{}:b;this.s=a;this.h=null;this.M={};this.Oa=0;var c;this.X=null!=(c=b.sn)?c:500;var d;this.F=null!=(d=b.bo)?d:!1;this.C=null};sa(Hm,Fm);
var Jm=function(a){return"function"===typeof a.s.__tcfapi||null!=Im(a)};
Hm.prototype.addEventListener=function(a){var b=this,c={internalBlockOnErrors:this.F},d=nm(function(){return a(c)}),e=0;-1!==this.X&&(e=setTimeout(function(){c.tcString="tcunavailable";c.internalErrorState=1;d()},this.X));var f=function(g,h){clearTimeout(e);g?(c=g,c.internalErrorState=Gm(c),c.internalBlockOnErrors=b.F,h&&0===c.internalErrorState||(c.tcString="tcunavailable",h||(c.internalErrorState=3))):(c.tcString="tcunavailable",c.internalErrorState=3);a(c)};try{Km(this,"addEventListener",f)}catch(g){c.tcString=
"tcunavailable",c.internalErrorState=3,e&&(clearTimeout(e),e=0),d()}};Hm.prototype.removeEventListener=function(a){a&&a.listenerId&&Km(this,"removeEventListener",null,a.listenerId)};
var Mm=function(a,b,c){var d;d=void 0===d?"755":d;var e;a:{if(a.publisher&&a.publisher.restrictions){var f=a.publisher.restrictions[b];if(void 0!==f){e=f[void 0===d?"755":d];break a}}e=void 0}var g=e;if(0===g)return!1;var h=c;2===c?(h=0,2===g&&(h=1)):3===c&&(h=1,1===g&&(h=0));var m;if(0===h)if(a.purpose&&a.vendor){var n=Lm(a.vendor.consents,void 0===d?"755":d);m=n&&"1"===b&&a.purposeOneTreatment&&"CH"===a.publisherCC?!0:n&&Lm(a.purpose.consents,b)}else m=!0;else m=1===h?a.purpose&&a.vendor?Lm(a.purpose.legitimateInterests,
b)&&Lm(a.vendor.legitimateInterests,void 0===d?"755":d):!0:!0;return m},Lm=function(a,b){return!(!a||!a[b])},Km=function(a,b,c,d){c||(c=function(){});if("function"===typeof a.s.__tcfapi){var e=a.s.__tcfapi;e(b,2,c,d)}else if(Im(a)){Nm(a);var f=++a.Oa;a.M[f]=c;if(a.h){var g={};a.h.postMessage((g.__tcfapiCall={command:b,version:2,callId:f,parameter:d},g),"*")}}else c({},!1)},Im=function(a){if(a.h)return a.h;var b;a:{for(var c=a.s,d=0;50>d;++d){var e;try{e=!(!c.frames||!c.frames.__tcfapiLocator)}catch(h){e=
!1}if(e){b=c;break a}var f;b:{try{var g=c.parent;if(g&&g!=c){f=g;break b}}catch(h){}f=null}if(!(c=f))break}b=null}a.h=b;return a.h},Nm=function(a){a.C||(a.C=function(b){try{var c;c=("string"===typeof b.data?JSON.parse(b.data):b.data).__tcfapiReturn;a.M[c.callId](c.returnValue,c.success)}catch(d){}},om(a.s,"message",a.C))},Om=function(a){if(!1===a.gdprApplies)return!0;void 0===a.internalErrorState&&(a.internalErrorState=Gm(a));return"error"===a.cmpStatus||0!==a.internalErrorState?a.internalBlockOnErrors?
(Em({e:String(a.internalErrorState)}),!1):!0:"loaded"!==a.cmpStatus||"tcloaded"!==a.eventStatus&&"useractioncomplete"!==a.eventStatus?!1:!0};var Pm={1:0,3:0,4:0,7:3,9:3,10:3};function Qm(){var a=pi.tcf||{};return pi.tcf=a}
var Rm=function(){return new Hm(l,{sn:-1})},Xm=function(){var a=Qm(),b=Rm();Jm(b)&&!Sm()&&!Tm()&&M(124);if(!a.active&&Jm(b)){Sm()&&(a.active=!0,a.bc={},a.cmpId=0,a.tcfPolicyVersion=0,xj().active=!0,a.tcString="tcunavailable");Yj();try{b.addEventListener(function(c){if(0!==c.internalErrorState)Um(a),Zj([N.g.J,N.g.Fa,N.g.N]),xj().active=!0;else if(a.gdprApplies=c.gdprApplies,a.cmpId=c.cmpId,a.enableAdvertiserConsentMode=c.enableAdvertiserConsentMode,Tm()&&(a.active=!0),!Vm(c)||Sm()||Tm()){a.tcfPolicyVersion=
c.tcfPolicyVersion;var d;if(!1===c.gdprApplies){var e={},f;for(f in Pm)Pm.hasOwnProperty(f)&&(e[f]=!0);d=e;b.removeEventListener(c)}else if(Vm(c)){var g={},h;for(h in Pm)if(Pm.hasOwnProperty(h))if("1"===h){var m,n=c,p={Rl:!0};p=void 0===p?{}:p;m=Om(n)?!1===n.gdprApplies?!0:"tcunavailable"===n.tcString||void 0===n.gdprApplies&&!p.Rl||"string"!==typeof n.tcString||!n.tcString.length?!p.fo:Mm(n,"1",0):!1;g["1"]=m}else g[h]=Mm(c,h,Pm[h]);d=g}if(d){a.tcString=c.tcString||"tcempty";a.bc=d;var q={},r=(q[N.g.J]=
a.bc["1"]?"granted":"denied",q);!0!==a.gdprApplies?(Zj([N.g.J,N.g.Fa,N.g.N]),xj().active=!0):(r[N.g.Fa]=a.bc["3"]&&a.bc["4"]?"granted":"denied","number"===typeof a.tcfPolicyVersion&&4<=a.tcfPolicyVersion?r[N.g.N]=a.bc["1"]&&a.bc["7"]?"granted":"denied":Zj([N.g.N]),Rj(r,{eventId:0},{gdprApplies:a?a.gdprApplies:void 0,tcString:Wm()||""}))}}else Zj([N.g.J,N.g.Fa,N.g.N])})}catch(c){Um(a),Zj([N.g.J,N.g.Fa,N.g.N]),xj().active=!0}}};function Um(a){a.type="e";a.tcString="tcunavailable"}
function Vm(a){return"tcloaded"===a.eventStatus||"useractioncomplete"===a.eventStatus||"cmpuishown"===a.eventStatus}var Sm=function(){return!0===l.gtag_enable_tcf_support};function Tm(){return!0===Qm().enableAdvertiserConsentMode}var Wm=function(){var a=Qm();if(a.active)return a.tcString},Ym=function(){var a=Qm();if(a.active&&void 0!==a.gdprApplies)return a.gdprApplies?"1":"0"},Zm=function(a){if(!Pm.hasOwnProperty(String(a)))return!0;var b=Qm();return b.active&&b.bc?!!b.bc[String(a)]:!0};var $m=[N.g.J,N.g.R,N.g.N,N.g.Fa],an={},bn=(an[N.g.J]=1,an[N.g.R]=2,an);function cn(a){if(void 0===a)return 0;switch(T(a,N.g.ia)){case void 0:return 1;case !1:return 3;default:return 2}}
var dn=function(a){var b=cn(a);if(3===b)return!1;switch(Ej(N.g.Fa)){case 1:case 3:return!0;case 2:return!1;case 4:return 2===b;case 0:return!0;default:return!1}},en=function(){return Hj()||!Dj(N.g.J)||!Dj(N.g.R)},fn=function(){var a={},b;for(b in bn)bn.hasOwnProperty(b)&&(a[bn[b]]=Ej(b));return"G1"+Me(a[1]||0)+Me(a[2]||0)},gn={},hn=(gn[N.g.J]=0,gn[N.g.R]=1,gn[N.g.N]=2,gn[N.g.Fa]=3,gn);function jn(a){switch(a){case void 0:return 1;case !0:return 3;case !1:return 2;default:return 0}}
var un=function(a){for(var b="1",c=0;c<$m.length;c++){var d=b,e,f=$m[c],g=oj[f];e=void 0===g?0:hn.hasOwnProperty(g)?12|hn[g]:8;var h=xj();h.accessedAny=!0;var m=h.entries[f]||{};e=e<<2|jn(m.implicit);b=d+(""+"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"[e]+"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"[jn(m.declare)<<4|jn(m.default)<<2|jn(m.update)])}var n=b,p;p=""+(Hj()<<2|cn(a));return n+p},vn=function(){if(!Dj(N.g.N))return"-";for(var a=Fj(),b="",c=fa(Object.keys(ni)),
d=c.next();!d.done;d=c.next()){var e=d.value;!1!==a[e]&&(b+=ni[e])}return""===b?"-":b},wn=function(){return ej()||(Sm()||Tm())&&"1"===Ym()?"1":"0"},xn=function(){return(ej()?!0:!(!Sm()&&!Tm())&&"1"===Ym())||xj().usedSetCps||!Dj(N.g.N)},yn=function(){var a="0",b="0",c;var d=Qm();c=d.active?d.cmpId:void 0;"number"===typeof c&&0<=c&&4095>=c&&(a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"[c>>6&63],b="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"[c&63]);var e=
"0",f;var g=Qm();f=g.active?g.tcfPolicyVersion:void 0;"number"===typeof f&&0<=f&&63>=f&&(e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"[f]);var h=0;ej()&&(h|=1);"1"===Ym()&&(h|=2);Sm()&&(h|=4);var m;var n=Qm();m=void 0!==n.enableAdvertiserConsentMode?n.enableAdvertiserConsentMode?"1":"0":void 0;"1"===m&&(h|=8);xj().waitPeriodTimedOut&&(h|=16);return"1"+a+b+e+"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"[h]};var zn=function(){var a=!1;return a};var An={UA:1,AW:2,DC:3,G:4,GF:5,GT:12,GTM:14,HA:6,MC:7},Bn=function(a,b){var c=Sf.ctid.split("-")[0].toUpperCase(),d={};d.ctid=Sf.ctid;d.dn=oi.ne;d.gn=oi.Zg;d.Gm=Dk.je?2:1;d.vc=Sf.Kf;d.vc!==a&&(d.Zf=a);R(68)?d.dk=2:R(69)&&(d.dk=1);vi?(d.Xf=An[c],d.Xf||(d.Xf=0)):d.Xf=zi?13:10;xi?d.Hh=1:zn()?d.Hh=2:d.Hh=3;if(R(99)){var e={};e[6]=Ek;R(100)&&!Ek&&(e[1]=!0);d.Cl=e}var f;var g=d.Xf,h=d.Hh;void 0===g?f="":(h||(h=0),f=""+Gg(1,1)+Le(g<<2|h));var m=d.ao,n=4+f+(m?""+Gg(2,1)+Le(m):""),p,q=d.gn;p=q&&Fg.test(q)?
""+Gg(3,2)+q:"";var r,t=d.dn;r=t?""+Gg(4,1)+Le(t):"";var u;var v=d.ctid;if(v&&b){var w=v.split("-"),x=w[0].toUpperCase();if("GTM"!==x&&"OPT"!==x)u="";else{var y=w[1];u=""+Gg(5,3)+Le(1+y.length)+(d.Gm||0)+y}}else u="";var A=d.dk,B=d.vc,D=d.Zf,G=d.io,H=n+p+r+u+(A?""+Gg(6,1)+Le(A):"")+(B?""+Gg(7,3)+Le(B.length)+B:"")+(D?""+Gg(8,3)+Le(D.length)+D:"")+(G?""+Gg(9,3)+Le(G.length)+G:""),E;var O=d.Cl;O=void 0===O?{}:O;for(var P=[],S=fa(Object.keys(O)),Y=S.next();!Y.done;Y=S.next()){var V=Y.value;P[Number(V)]=
O[V]}if(P.length){var U=Gg(10,3),ja;if(0===P.length)ja=Le(0);else{for(var ia=[],da=0,Ba=!1,na=0;na<P.length;na++){Ba=!0;var Ca=na%6;P[na]&&(da|=1<<Ca);5===Ca&&(ia.push(Le(da)),da=0,Ba=!1)}Ba&&ia.push(Le(da));ja=ia.join("")}var Ma=ja;E=""+U+Le(Ma.length)+Ma}else E="";return H+E};var Cn=function(a,b,c){for(var d=[],e=b.split(";"),f=0;f<e.length;f++){var g=e[f].split("="),h=g[0].replace(/^\s*|\s*$/g,"");if(h&&h==a){var m=g.slice(1).join("=").replace(/^\s*|\s*$/g,"");m&&c&&(m=decodeURIComponent(m));d.push(m)}}return d};var Fn=function(a,b,c,d){return Dn(d)?Cn(a,String(b||En()),c):[]},In=function(a,b,c,d,e){if(Dn(e)){var f=Gn(a,d,e);if(1===f.length)return f[0].id;if(0!==f.length){f=Hn(f,function(g){return g.Mf},b);if(1===f.length)return f[0].id;f=Hn(f,function(g){return g.Qe},c);return f[0]?f[0].id:void 0}}};function Jn(a,b,c,d){var e=En(),f=window;"null"!==f.origin&&(f.document.cookie=a);var g=En();return e!=g||void 0!=c&&0<=Fn(b,g,!1,d).indexOf(c)}
var Nn=function(a,b,c,d){function e(w,x,y){if(null==y)return delete h[x],w;h[x]=y;return w+"; "+x+"="+y}function f(w,x){if(null==x)return delete h[x],w;h[x]=!0;return w+"; "+x}if(!Dn(c.Hb))return 2;var g;void 0==b?g=a+"=deleted; expires="+(new Date(0)).toUTCString():(c.encode&&(b=encodeURIComponent(b)),b=Kn(b),g=a+"="+b);var h={};g=e(g,"path",c.path);var m;c.expires instanceof Date?m=c.expires.toUTCString():null!=c.expires&&(m=""+c.expires);g=e(g,"expires",m);g=e(g,"max-age",c.Km);g=e(g,"samesite",
c.hn);c.kn&&(g=f(g,"secure"));var n=c.domain;if(n&&"auto"===n.toLowerCase()){for(var p=Ln(),q=void 0,r=!1,t=0;t<p.length;++t){var u="none"!==p[t]?p[t]:void 0,v=e(g,"domain",u);v=f(v,c.flags);try{d&&d(a,h)}catch(w){q=w;continue}r=!0;if(!Mn(u,c.path)&&Jn(v,a,b,c.Hb))return 0}if(q&&!r)throw q;return 1}n&&"none"!==n.toLowerCase()&&(g=e(g,"domain",n));g=f(g,c.flags);d&&d(a,h);return Mn(n,c.path)?1:Jn(g,a,b,c.Hb)?0:1},On=function(a,b,c){null==c.path&&(c.path="/");c.domain||(c.domain="auto");return Nn(a,
b,c)};function Hn(a,b,c){for(var d=[],e=[],f,g=0;g<a.length;g++){var h=a[g],m=b(h);m===c?d.push(h):void 0===f||m<f?(e=[h],f=m):m===f&&e.push(h)}return 0<d.length?d:e}function Gn(a,b,c){for(var d=[],e=Fn(a,void 0,void 0,c),f=0;f<e.length;f++){var g=e[f].split("."),h=g.shift();if(!b||-1!==b.indexOf(h)){var m=g.shift();m&&(m=m.split("-"),d.push({id:g.join("."),Mf:1*m[0]||1,Qe:1*m[1]||1}))}}return d}
var Kn=function(a){a&&1200<a.length&&(a=a.substring(0,1200));return a},Pn=/^(www\.)?google(\.com?)?(\.[a-z]{2})?$/,Qn=/(^|\.)doubleclick\.net$/i,Mn=function(a,b){return Qn.test(window.document.location.hostname)||"/"===b&&Pn.test(a)},En=function(){return"null"!==window.origin?window.document.cookie:""},Ln=function(){var a=[],b=window.document.location.hostname.split(".");if(4===b.length){var c=b[b.length-1];if(parseInt(c,10).toString()===c)return["none"]}for(var d=b.length-2;0<=d;d--)a.push(b.slice(d).join("."));
var e=window.document.location.hostname;Qn.test(e)||Pn.test(e)||a.push("none");return a},Dn=function(a){return a&&lj().h()?(k(a)?[a]:a).every(function(b){return Gj(b)&&Dj(b)}):!0},Rn=function(a){if(!a)return 1;a=0===a.indexOf(".")?a.substr(1):a;return a.split(".").length},Sn=function(a){if(!a||"/"===a)return 1;"/"!==a[0]&&(a="/"+a);"/"!==a[a.length-1]&&(a+="/");return a.split("/").length-1};var Tn=function(a){var b=Math.round(2147483647*Math.random()),c;if(a){var d=1,e,f,g;if(a)for(d=0,f=a.length-1;0<=f;f--)g=a.charCodeAt(f),d=(d<<6&268435455)+g+(g<<14),e=d&266338304,d=0!==e?d^e>>21:d;c=String(b^d&2147483647)}else c=String(b);return c},Un=function(a){return[Tn(a),Math.round(Ua()/1E3)].join(".")},Vn=function(a,b,c,d,e){var f=Rn(b);return In(a,f,Sn(c),d,e)},Wn=function(a,b,c,d){var e=""+Rn(c),f=Sn(d);1<f&&(e+="-"+f);return[b,e,a].join(".")};function Xn(a,b,c,d){var e,f=Number(null!=a.Cc?a.Cc:void 0);0!==f&&(e=new Date((b||Ua())+1E3*(f||7776E3)));return{path:a.path,domain:a.domain,flags:a.flags,encode:!!c,expires:e,Hb:d}};var Yn;var bo=function(){var a=Zn,b=$n,c=ao(),d=function(g){a(g.target||g.srcElement||{})},e=function(g){b(g.target||g.srcElement||{})};if(!c.init){Nc(C,"mousedown",d);Nc(C,"keyup",d);Nc(C,"submit",e);var f=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){b(this);f.call(this)};c.init=!0}},co=function(a,b,c,d,e){var f={callback:a,domains:b,fragment:2===c,placement:c,forms:d,sameHost:e};ao().decorators.push(f)},eo=function(a,b,c){for(var d=ao().decorators,e={},f=0;f<d.length;++f){var g=
d[f],h;if(h=!c||g.forms)a:{var m=g.domains,n=a,p=!!g.sameHost;if(m&&(p||n!==C.location.hostname))for(var q=0;q<m.length;q++)if(m[q]instanceof RegExp){if(m[q].test(n)){h=!0;break a}}else if(0<=n.indexOf(m[q])||p&&0<=m[q].indexOf(n)){h=!0;break a}h=!1}if(h){var r=g.placement;void 0==r&&(r=g.fragment?2:1);r===b&&Xa(e,g.callback())}}return e};function ao(){var a=Ec("google_tag_data",{}),b=a.gl;b&&b.decorators||(b={decorators:[]},a.gl=b);return b};var fo=/(.*?)\*(.*?)\*(.*)/,go=/^https?:\/\/([^\/]*?)\.?cdn\.ampproject\.org\/?(.*)/,ho=/^(?:www\.|m\.|amp\.)+/,io=/([^?#]+)(\?[^#]*)?(#.*)?/;function jo(a){var b=io.exec(a);if(b)return{Nh:b[1],query:b[2],fragment:b[3]}}
function ko(a,b){var c=[Cc.userAgent,(new Date).getTimezoneOffset(),Cc.userLanguage||Cc.language,Math.floor(Ua()/60/1E3)-(void 0===b?0:b),a].join("*"),d;if(!(d=Yn)){for(var e=Array(256),f=0;256>f;f++){for(var g=f,h=0;8>h;h++)g=g&1?g>>>1^3988292384:g>>>1;e[f]=g}d=e}Yn=d;for(var m=4294967295,n=0;n<c.length;n++)m=m>>>8^Yn[(m^c.charCodeAt(n))&255];return((m^-1)>>>0).toString(36)}
function lo(){return function(a){var b=qk(l.location.href),c=b.search.replace("?",""),d=ik(c,"_gl",!1,!0)||"";a.query=mo(d)||{};var e=lk(b,"fragment"),f;var g=-1;if(Za(e,"_gl="))g=4;else{var h=e.indexOf("&_gl=");0<h&&(g=h+3+2)}if(0>g)f=void 0;else{var m=e.indexOf("&",g);f=0>m?e.substring(g):e.substring(g,m)}a.fragment=mo(f||"")||{}}}
var no=function(a){var b=lo(),c=ao();c.data||(c.data={query:{},fragment:{}},b(c.data));var d={},e=c.data;e&&(Xa(d,e.query),a&&Xa(d,e.fragment));return d},mo=function(a){try{var b=oo(a,3);if(void 0!==b){for(var c={},d=b?b.split("*"):[],e=0;e+1<d.length;e+=2){var f=d[e],g=yb(d[e+1]);c[f]=g}Ab("TAGGING",6);return c}}catch(h){Ab("TAGGING",8)}};
function oo(a,b){if(a){var c;a:{for(var d=a,e=0;3>e;++e){var f=fo.exec(d);if(f){c=f;break a}d=decodeURIComponent(d)}c=void 0}var g=c;if(g&&"1"===g[1]){var h=g[3],m;a:{for(var n=g[2],p=0;p<b;++p)if(n===ko(h,p)){m=!0;break a}m=!1}if(m)return h;Ab("TAGGING",7)}}}
function po(a,b,c,d,e){function f(p){var q=p,r=(new RegExp("(.*?)(^|&)"+a+"=([^&]*)&?(.*)")).exec(q),t=q;if(r){var u=r[2],v=r[4];t=r[1];v&&(t=t+u+v)}p=t;var w=p.charAt(p.length-1);p&&"&"!==w&&(p+="&");return p+n}d=void 0===d?!1:d;e=void 0===e?!1:e;var g=jo(c);if(!g)return"";var h=g.query||"",m=g.fragment||"",n=a+"="+b;d?0!==m.substring(1).length&&e||(m="#"+f(m.substring(1))):h="?"+f(h.substring(1));return""+g.Nh+h+m}
function qo(a,b){function c(n,p,q){var r;a:{for(var t in n)if(n.hasOwnProperty(t)){r=!0;break a}r=!1}if(r){var u,v=[],w;for(w in n)if(n.hasOwnProperty(w)){var x=n[w];void 0!==x&&x===x&&null!==x&&"[object Object]"!==x.toString()&&(v.push(w),v.push(xb(String(x))))}var y=v.join("*");u=["1",ko(y),y].join("*");d?(Rf(13)||Rf(11)||!p)&&ro("_gl",u,a,p,q):so("_gl",u,a,p,q)}}var d="FORM"===(a.tagName||"").toUpperCase(),e=eo(b,1,d),f=eo(b,2,d),g=eo(b,4,d),h=eo(b,3,d);c(e,!1,!1);c(f,!0,!1);Rf(11)&&c(g,!0,!0);
for(var m in h)h.hasOwnProperty(m)&&to(m,h[m],a)}function to(a,b,c){"a"===c.tagName.toLowerCase()?so(a,b,c):"form"===c.tagName.toLowerCase()&&ro(a,b,c)}function so(a,b,c,d,e){d=void 0===d?!1:d;e=void 0===e?!1:e;var f;if(f=c.href){var g;if(!(g=!Rf(16)||d)){var h=l.location.href,m=jo(c.href),n=jo(h);g=!(m&&n&&m.Nh===n.Nh&&m.query===n.query&&m.fragment)}f=g}if(f){var p=po(a,b,c.href,d,e);sc.test(p)&&(c.href=p)}}
function ro(a,b,c,d,e){d=void 0===d?!1:d;e=void 0===e?!1:e;if(c&&c.action){var f=(c.method||"").toLowerCase();if("get"!==f||d){if("get"===f||"post"===f){var g=po(a,b,c.action,d,e);sc.test(g)&&(c.action=g)}}else{for(var h=c.childNodes||[],m=!1,n=0;n<h.length;n++){var p=h[n];if(p.name===a){p.setAttribute("value",b);m=!0;break}}if(!m){var q=C.createElement("input");q.setAttribute("type","hidden");q.setAttribute("name",a);q.setAttribute("value",b);c.appendChild(q)}}}}
function Zn(a){try{var b;a:{for(var c=a,d=100;c&&0<d;){if(c.href&&c.nodeName.match(/^a(?:rea)?$/i)){b=c;break a}c=c.parentNode;d--}b=null}var e=b;if(e){var f=e.protocol;"http:"!==f&&"https:"!==f||qo(e,e.hostname)}}catch(g){}}function $n(a){try{if(a.action){var b=lk(qk(a.action),"host");qo(a,b)}}catch(c){}}
var uo=function(a,b,c,d){bo();co(a,b,"fragment"===c?2:1,!!d,!1)},vo=function(a,b){bo();co(a,[kk(l.location,"host",!0)],b,!0,!0)},wo=function(){var a=C.location.hostname,b=go.exec(C.referrer);if(!b)return!1;var c=b[2],d=b[1],e="";if(c){var f=c.split("/"),g=f[1];e="s"===g?decodeURIComponent(f[2]):decodeURIComponent(g)}else if(d){if(0===d.indexOf("xn--"))return!1;e=d.replace(/-/g,".").replace(/\.\./g,"-")}var h=a.replace(ho,""),m=e.replace(ho,""),n;if(!(n=h===m)){var p="."+m;n=h.substring(h.length-p.length,
h.length)===p}return n},xo=function(a,b){return!1===a?!1:a||b||wo()};var yo=["1"],zo={},Ao={},Fo=function(a,b){b=void 0===b?!0:b;var c=Bo(a.prefix);if(!zo[c])if(Co(c,a.path,a.domain)){var d=Ao[Bo(a.prefix)];Do(a,d?d.id:void 0,d?d.Gh:void 0)}else{var e=sk("auiddc");if(e)Ab("TAGGING",17),zo[c]=e;else if(b){var f=Bo(a.prefix),g=Un();if(0===Eo(f,g,a)){var h=Ec("google_tag_data",{});h._gcl_au||(h._gcl_au=g)}Co(c,a.path,a.domain)}}};
function Do(a,b,c){var d=Bo(a.prefix),e=zo[d];if(e){var f=e.split(".");if(2===f.length){var g=Number(f[1])||0;if(g){var h=e;b&&(h=e+"."+b+"."+(c?c:Math.floor(Ua()/1E3)));Eo(d,h,a,1E3*g)}}}}function Eo(a,b,c,d){var e=Wn(b,"1",c.domain,c.path),f=Xn(c,d);f.Hb=Go();return On(a,e,f)}function Co(a,b,c){var d=Vn(a,b,c,yo,Go());if(!d)return!1;Ho(a,d);return!0}
function Ho(a,b){var c=b.split(".");5===c.length?(zo[a]=c.slice(0,2).join("."),Ao[a]={id:c.slice(2,4).join("."),Gh:Number(c[4])||0}):3===c.length?Ao[a]={id:c.slice(0,2).join("."),Gh:Number(c[2])||0}:zo[a]=b}function Bo(a){return(a||"_gcl")+"_au"}function Io(a){function b(){Dj(c)&&a()}var c=Go();Kj(function(){b();Dj(c)||Lj(b,c)},c)}
function Jo(a){var b=no(!0),c=Bo(a.prefix);Io(function(){var d=b[c];if(d){Ho(c,d);var e=1E3*Number(zo[c].split(".")[1]);if(e){Ab("TAGGING",16);var f=Xn(a,e);f.Hb=Go();var g=Wn(d,"1",a.domain,a.path);On(c,g,f)}}})}function Ko(a,b,c,d,e){e=e||{};var f=function(){var g={},h=Vn(a,e.path,e.domain,yo,Go());h&&(g[a]=h);return g};Io(function(){uo(f,b,c,d)})}function Go(){return Rf(14)?["ad_storage","ad_user_data"]:["ad_storage"]};var Lo=function(a){for(var b=[],c=C.cookie.split(";"),d=new RegExp("^\\s*"+(a||"_gac")+"_(UA-\\d+-\\d+)=\\s*(.+?)\\s*$"),e=0;e<c.length;e++){var f=c[e].match(d);f&&b.push({bi:f[1],value:f[2],timestamp:Number(f[2].split(".")[1])||0})}b.sort(function(g,h){return h.timestamp-g.timestamp});return b};
function Mo(a,b){var c=Lo(a),d={};if(!c||!c.length)return d;for(var e=0;e<c.length;e++){var f=c[e].value.split(".");if(!("1"!==f[0]||b&&3>f.length||!b&&3!==f.length)&&Number(f[1])){d[c[e].bi]||(d[c[e].bi]=[]);var g={version:f[0],timestamp:1E3*Number(f[1]),aa:f[2]};b&&3<f.length&&(g.labels=f.slice(3));d[c[e].bi].push(g)}}return d};var No=/^\w+$/,Oo=/^[\w-]+$/,Po={aw:"_aw",dc:"_dc",gf:"_gf",ha:"_ha",gp:"_gp",gb:"_gb"};function Qo(){return Rf(14)?["ad_storage","ad_user_data"]:["ad_storage"]}
var Ro=function(a){return!lj().h()||Dj(a)},So=function(a){function b(){var d=Ro(c);d&&a();return d}var c=Qo();Kj(function(){b()||Lj(b,c)},c)},Uo=function(a){return To(a).map(function(b){return b.aa})},To=function(a){var b=[],c=Fn(a,C.cookie,void 0,Qo());if(!c||0==c.length)return b;for(var d={},e=0;e<c.length;d={aa:void 0},e++){var f=Vo(c[e]);if(null!=f){var g=f,h=g.version;d.aa=g.aa;var m=g.timestamp,n=g.labels,p=Ia(b,function(q){return function(r){return r.aa===q.aa}}(d));p?(p.timestamp=Math.max(p.timestamp,
m),p.labels=Wo(p.labels,n||[])):b.push({version:h,aa:d.aa,timestamp:m,labels:n})}}b.sort(function(q,r){return r.timestamp-q.timestamp});return Xo(b)};function Wo(a,b){for(var c={},d=[],e=0;e<a.length;e++)c[a[e]]=!0,d.push(a[e]);for(var f=0;f<b.length;f++)c[b[f]]||d.push(b[f]);return d}function Yo(a){return a&&"string"==typeof a&&a.match(No)?a:"_gcl"}
function Zo(a,b){var c=qk(a),d=lk(c,"query",!1,void 0,"gclid"),e=lk(c,"query",!1,void 0,"gclsrc"),f=lk(c,"query",!1,void 0,"wbraid"),g=lk(c,"query",!1,void 0,"dclid");if(b&&!(d&&e&&f)){var h=c.hash.replace("#","");d=d||ik(h,"gclid",!1);e=e||ik(h,"gclsrc",!1);f=f||ik(h,"wbraid",!1)}return $o(d,e,g,f)}
var ap=function(){return Zo(l.location.href,!0)},$o=function(a,b,c,d){var e={},f=function(g,h){e[h]||(e[h]=[]);e[h].push(g)};e.gclid=a;e.gclsrc=b;e.dclid=c;void 0!==d&&Oo.test(d)&&(e.wbraid=d,f(d,"gb"));if(void 0!==a&&a.match(Oo))switch(b){case void 0:f(a,"aw");break;case "aw.ds":f(a,"aw");f(a,"dc");break;case "ds":f(a,"dc");break;case "3p.ds":f(a,"dc");break;case "gf":f(a,"gf");break;case "ha":f(a,"ha")}c&&f(c,"dc");return e},cp=function(a){var b=ap();if(Rf(18)){for(var c=!0,d=fa(Object.keys(b)),
e=d.next();!e.done;e=d.next())if(void 0!==b[e.value]){c=!1;break}c&&(b=Zo(l.document.referrer,!1))}So(function(){bp(b,!1,a)})};
function bp(a,b,c,d,e){function f(w,x){var y=dp(w,g);y&&(On(y,x,h),m=!0)}c=c||{};e=e||[];var g=Yo(c.prefix);d=d||Ua();var h=Xn(c,d,!0);h.Hb=Qo();var m=!1,n=Math.round(d/1E3),p=function(w){var x=["GCL",n,w];0<e.length&&x.push(e.join("."));return x.join(".")};a.aw&&f("aw",p(a.aw[0]));a.dc&&f("dc",p(a.dc[0]));a.gf&&f("gf",p(a.gf[0]));a.ha&&f("ha",p(a.ha[0]));a.gp&&f("gp",p(a.gp[0]));if(!m&&a.gb){var q=a.gb[0],r=dp("gb",g),t=!1;if(!b)for(var u=To(r),v=0;v<u.length;v++)u[v].aa===q&&u[v].labels&&0<u[v].labels.length&&
(t=!0);t||f("gb",p(q))}}
var fp=function(a,b){var c=no(!0);So(function(){for(var d=Yo(b.prefix),e=0;e<a.length;++e){var f=a[e];if(void 0!==Po[f]){var g=dp(f,d),h=c[g];if(h){var m=Math.min(ep(h),Ua()),n;b:{for(var p=m,q=Fn(g,C.cookie,void 0,Qo()),r=0;r<q.length;++r)if(ep(q[r])>p){n=!0;break b}n=!1}if(!n){var t=Xn(b,m,!0);t.Hb=Qo();On(g,h,t)}}}}bp($o(c.gclid,c.gclsrc),!1,b)})},dp=function(a,b){var c=Po[a];if(void 0!==c)return b+c},ep=function(a){return 0!==gp(a.split(".")).length?1E3*(Number(a.split(".")[1])||0):0};
function Vo(a){var b=gp(a.split("."));return 0===b.length?null:{version:b[0],aa:b[2],timestamp:1E3*(Number(b[1])||0),labels:b.slice(3)}}function gp(a){return 3>a.length||"GCL"!==a[0]&&"1"!==a[0]||!/^\d+$/.test(a[1])||!Oo.test(a[2])?[]:a}
var hp=function(a,b,c,d,e){if(Ha(b)&&"null"!==l.origin){var f=Yo(e),g=function(){for(var h={},m=0;m<a.length;++m){var n=dp(a[m],f);if(n){var p=Fn(n,C.cookie,void 0,Qo());p.length&&(h[n]=p.sort()[p.length-1])}}return h};So(function(){uo(g,b,c,d)})}},Xo=function(a){return a.filter(function(b){return Oo.test(b.aa)})},ip=function(a,b){if("null"!==l.origin){for(var c=Yo(b.prefix),d={},e=0;e<a.length;e++)Po[a[e]]&&(d[a[e]]=Po[a[e]]);So(function(){Na(d,function(f,g){var h=Fn(c+g,C.cookie,void 0,Qo());h.sort(function(t,
u){return ep(u)-ep(t)});if(h.length){var m=h[0],n=ep(m),p=0!==gp(m.split(".")).length?m.split(".").slice(3):[],q={},r;r=0!==gp(m.split(".")).length?m.split(".")[2]:void 0;q[f]=[r];bp(q,!0,b,n,p)}})})}};function jp(a,b){for(var c=0;c<b.length;++c)if(a[b[c]])return!0;return!1}
var kp=function(a){function b(e,f,g){g&&(e[f]=g)}if(Hj()){var c=ap();if(jp(c,a)){var d={};b(d,"gclid",c.gclid);b(d,"dclid",c.dclid);b(d,"gclsrc",c.gclsrc);b(d,"wbraid",c.wbraid);vo(function(){return d},3);vo(function(){var e={};return e._up="1",e},1)}}},lp=function(a){if(!Rf(11))return null;var b=no(!0).gad_source;if(null!=b)return l.location.hash="",b;if(Rf(12)){var c=qk(l.location.href);b=lk(c,"query",!1,void 0,"gad_source");if(null!=b)return b;var d=ap();if(jp(d,a))return"0"}return null},mp=function(a){var b=
lp(a);null!=b&&vo(function(){var c={};return c.gad_source=b,c},4)},np=function(a,b,c,d){var e=[];c=c||{};if(!Ro(Qo()))return e;var f=To(a);if(!f.length)return e;for(var g=0;g<f.length;g++)-1===(f[g].labels||[]).indexOf(b)?e.push(0):e.push(1);if(d)return e;if(1!==e[0]){var h=f[0],m=f[0].timestamp,n=[h.version,Math.round(m/1E3),h.aa].concat(h.labels||[],[b]).join("."),p=Xn(c,m,!0);p.Hb=Qo();On(a,n,p)}return e};
function op(a,b){var c=Yo(b),d=dp(a,c);if(!d)return 0;for(var e=To(d),f=0,g=0;g<e.length;g++)f=Math.max(f,e[g].timestamp);return f}function pp(a){var b=0,c;for(c in a)for(var d=a[c],e=0;e<d.length;e++)b=Math.max(b,Number(d[e].timestamp));return b}var qp=function(a){var b=Math.max(op("aw",a),pp(Ro(Qo())?Mo():{}));return Math.max(op("gb",a),pp(Ro(Qo())?Mo("_gac_gb",!0):{}))>b};var Hp,Ip=!1;function Jp(){Ip=!0;Hp=Hp||{}}var Kp=function(a){Ip||Jp();return Hp[a]};var Lp=function(a,b,c){this.target=a;this.eventName=b;this.o=c;this.h={};this.metadata=z(c.eventMetadata||{});this.isAborted=!1};Lp.prototype.copyToHitData=function(a,b,c){var d=T(this.o,a);void 0===d&&(d=b);if(void 0!==d&&void 0!==c&&k(d)&&R(49))try{d=c(d)}catch(e){}void 0!==d&&(this.h[a]=d)};var Mp=function(a){return a.metadata.source_canonical_id},Np=function(a,b,c){var d=Kp(a.target.da);return d&&d.hasOwnProperty(b)?d[b]:c};var Op=function(){pi.dedupe_gclid||(pi.dedupe_gclid=""+Un());return pi.dedupe_gclid};var Pp=/^(www\.)?google(\.com?)?(\.[a-z]{2}t?)?$/,Qp=/^www.googleadservices.com$/,Sp=function(a){a||(a=Rp());return a.xn?!1:a.im||a.jm||a.km||a.wh||a.Of||a.Ql||a.Yl?!0:!1},Rp=function(){var a={},b=no(!0);a.xn=!!b._up;var c=ap();a.im=void 0!==c.aw;a.jm=void 0!==c.dc;a.km=void 0!==c.wbraid;var d=qk(l.location.href),e=lk(d,"query",!1,void 0,"gad");a.wh=void 0!==e;if(!a.wh){var f=d.hash.replace("#",""),g=ik(f,"gad",!1);a.wh=void 0!==g}a.Of=void 0;if(R(56)){var h=lk(d,"query",!1,void 0,"gad_source");a.Of=
h;if(void 0===a.Of){var m=d.hash.replace("#",""),n=ik(m,"gad_source",!1);a.Of=n}}var p=C.referrer?lk(qk(C.referrer),"host"):"";a.Yl=Pp.test(p);a.Ql=Qp.test(p);return a};var Tp=function(){if(Fa(l.__uspapi)){var a="";try{l.__uspapi("getUSPData",1,function(b,c){if(c&&b){var d=b.uspString;d&&RegExp("^[\\da-zA-Z-]{1,20}$").test(d)&&(a=d)}})}catch(b){}return a}};function aq(a){var b=T(a.o,N.g.zb),c=T(a.o,N.g.Ob);b&&!c?(a.eventName!==N.g.ka&&a.eventName!==N.g.Ad&&M(131),a.isAborted=!0):!b&&c&&(M(132),a.isAborted=!0)}function bq(a){var b=Uj(N.g.J)?pi.pscdl:"denied";a.h[N.g.ef]=b};var jq=function(a,b,c,d){var e=Kc(),f;if(1===e)a:{var g=Bi;g=g.toLowerCase();for(var h="https://"+g,m="http://"+g,n=1,p=C.getElementsByTagName("script"),q=0;q<p.length&&100>q;q++){var r=p[q].src;if(r){r=r.toLowerCase();if(0===r.indexOf(m)){f=3;break a}1===n&&0===r.indexOf(h)&&(n=2)}}f=n}else f=e;return(2===f||d||"http:"!=l.location.protocol?a:b)+c};
var kq=function(a,b){R(92)&&(a.dma=wn(),xn()&&(a.dmaCps=vn()),dn(b)?a.npa="0":a.npa="1")},mq=function(a,b,c){if(l[a.functionName])return b.Lh&&F(b.Lh),l[a.functionName];var d=lq();l[a.functionName]=d;if(a.If)for(var e=0;e<a.If.length;e++)l[a.If[e]]=l[a.If[e]]||lq();a.Qf&&void 0===l[a.Qf]&&(l[a.Qf]=c);Jc(jq("https://","http://",a.Xh),b.Lh,b.Pm);return d},lq=function(){var a=function(){a.q=a.q||[];a.q.push(arguments)};return a},nq={functionName:"_googWcmImpl",Qf:"_googWcmAk",Xh:"www.gstatic.com/wcm/loader.js"},
oq={functionName:"_gaPhoneImpl",Qf:"ga_wpid",Xh:"www.gstatic.com/gaphone/loader.js"},pq={mk:"",ml:"5"},qq={functionName:"_googCallTrackingImpl",If:[oq.functionName,nq.functionName],Xh:"www.gstatic.com/call-tracking/call-tracking_"+(pq.mk||pq.ml)+".js"},rq={},sq=function(a,b,c,d,e){M(22);if(c){e=e||{};var f=mq(nq,e,a),g={ak:a,cl:b};void 0===e.Gb&&(g.autoreplace=c);kq(g,d);f(2,e.Gb,g,c,0,Ta(),e.options)}},tq=function(a,b,c,d,e){M(21);if(b&&c){e=e||{};for(var f={countryNameCode:c,
destinationNumber:b,retrievalTime:Ta()},g=0;g<a.length;g++){var h=a[g];rq[h.id]||(h&&"AW"===h.prefix&&!f.adData&&2<=h.P.length?(f.adData={ak:h.P[0],cl:h.P[1]},kq(f.adData,d),rq[h.id]=!0):h&&"UA"===h.prefix&&!f.gaData&&(f.gaData={gaWpid:h.da},rq[h.id]=!0))}(f.gaData||f.adData)&&mq(qq,e)(e.Gb,f,e.options)}},uq=function(){var a=!1;return a},vq=function(a,b){if(a)if(zn()){}else{if(k(a)){var c=dk(a);if(!c)return;a=c}var d=void 0,e=!1,f=T(b,N.g.Vi);if(f&&Ha(f)){d=[];for(var g=0;g<f.length;g++){var h=dk(f[g]);h&&(d.push(h),(a.id===h.id||a.id===a.da&&a.da===h.da)&&(e=!0))}}if(!d||e){var m=T(b,N.g.Lg),n;if(m){Ha(m)?n=m:n=[m];var p=T(b,N.g.Jg),q=T(b,N.g.Kg),r=T(b,N.g.Mg),t=T(b,N.g.Ui),u=p||q,v=1;"UA"!==a.prefix||d||(v=5);for(var w=0;w<n.length;w++)if(w<v)if(d)tq(d,n[w],t,b,{Gb:u,options:r});else if("AW"===a.prefix&&a.P[1])uq()?tq([a],
n[w],t||"US",b,{Gb:u,options:r}):sq(a.P[0],a.P[1],n[w],b,{Gb:u,options:r});else if("UA"===a.prefix)if(uq())tq([a],n[w],t||"US",b,{Gb:u});else{var x=a.da,y=n[w],A={Gb:u};M(23);if(y){A=A||{};var B=mq(oq,A,x),D={};void 0!==A.Gb?D.receiver=A.Gb:D.replace=y;D.ga_wpid=x;D.destination=y;B(2,Ta(),D)}}}}}};function wq(a){return{getDestinationId:function(){return a.target.da},getEventName:function(){return a.eventName},setEventName:function(b){a.eventName=b},getHitData:function(b){return a.h[b]},setHitData:function(b,c){a.h[b]=c},setHitDataIfNotDefined:function(b,c){void 0===a.h[b]&&(a.h[b]=c)},copyToHitData:function(b,c){a.copyToHitData(b,c)},getMetadata:function(b){return a.metadata[b]},setMetadata:function(b,c){a.metadata[b]=c},isAborted:function(){return a.isAborted},abort:function(){a.isAborted=
!0},getFromEventContext:function(b){return T(a.o,b)},Jj:function(){return a},getHitKeys:function(){return Object.keys(a.h)}}};var Eq=function(){var a=l.screen;return{width:a?a.width:0,height:a?a.height:0}},Fq=function(a){if(C.hidden)return!0;var b=a.getBoundingClientRect();if(b.top==b.bottom||b.left==b.right||!l.getComputedStyle)return!0;var c=l.getComputedStyle(a,null);if("hidden"===c.visibility)return!0;for(var d=a,e=c;d;){if("none"===e.display)return!0;var f=e.opacity,g=e.filter;if(g){var h=g.indexOf("opacity(");0<=h&&(g=g.substring(h+8,g.indexOf(")",h)),"%"==g.charAt(g.length-1)&&(g=g.substring(0,g.length-1)),f=Math.min(g,
f))}if(void 0!==f&&0>=f)return!0;(d=d.parentElement)&&(e=l.getComputedStyle(d,null))}return!1};var Er={pl:Number('')||500,Tk:Number('')||5E3,jj:Number('')||10,wk:Number('')||5E3};function Fr(a){return a.performance&&a.performance.now()||Date.now()}
var Gr=function(a,b){var c;return c};var Hr="https://"+oi.zd,Ir=Hr+"/gtm/static/",Jr=Number('')||5,Kr=Number('')||50,Lr=Hr,Mr=Ir,Nr=!1,Or=0,Pr=Ja();function Yr(){var a=!1;return a}
function Zr(a){}
function as(a,b,c){}
function Ur(a,b,c,d){}
function $r(a,b,c,d,e){}
function bs(a,b,c,d){}
function cs(a,b,c,d){}
function ds(a){var b={},c=["tv.1"],d=0;
var u=c.join("~");return{U:b,Tf:u}}var es=void 0;function fs(a){var b=[];return b};var gs=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(55296==(e&64512)&&d+1<a.length&&56320==(a.charCodeAt(d+1)&64512)?(e=65536+((e&1023)<<10)+(a.charCodeAt(++d)&1023),b[c++]=e>>18|240,b[c++]=e>>12&63|128):b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};bc();qm()||Zb("iPod");Zb("iPad");!Zb("Android")||cc()||bc()||ac()||Zb("Silk");cc();!Zb("Safari")||cc()||($b()?0:Zb("Coast"))||ac()||($b()?0:Zb("Edge"))||($b()?Yb("Microsoft Edge"):Zb("Edg/"))||($b()?Yb("Opera"):Zb("OPR"))||bc()||Zb("Silk")||Zb("Android")||rm();var hs={},is=null,js=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);255<e&&(b[c++]=e&255,e>>=8);b[c++]=e}var f=4;void 0===f&&(f=0);if(!is){is={};for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),h=["+/=","+/","-_=","-_.","-_"],m=0;5>m;m++){var n=g.concat(h[m].split(""));hs[m]=n;for(var p=0;p<n.length;p++){var q=n[p];void 0===is[q]&&(is[q]=p)}}}for(var r=hs[f],t=Array(Math.floor(b.length/3)),u=r[64]||"",v=0,w=0;v<b.length-2;v+=3){var x=b[v],
y=b[v+1],A=b[v+2],B=r[x>>2],D=r[(x&3)<<4|y>>4],G=r[(y&15)<<2|A>>6],H=r[A&63];t[w++]=""+B+D+G+H}var E=0,O=u;switch(b.length-v){case 2:E=b[v+1],O=r[(E&15)<<2]||u;case 1:var P=b[v];t[w]=""+r[P>>2]+r[(P&3)<<4|E>>4]+O+u}return t.join("")};Object.freeze(new function(){});Object.freeze(new function(){});var ks="platform platformVersion architecture model uaFullVersion bitness fullVersionList wow64".split(" ");function ls(a){var b;return null!=(b=a.google_tag_data)?b:a.google_tag_data={}}function ms(){var a=l.google_tag_data,b;if(null!=a&&a.uach){var c=a.uach,d=Object.assign({},c);c.fullVersionList&&(d.fullVersionList=c.fullVersionList.slice(0));b=d}else b=null;return b}function ns(){var a,b;return null!=(b=null==(a=l.google_tag_data)?void 0:a.uach_promise)?b:null}
function os(a){var b,c;return"function"===typeof(null==(b=a.navigator)?void 0:null==(c=b.userAgentData)?void 0:c.getHighEntropyValues)}function ps(){var a=l;if(!os(a))return null;var b=ls(a);if(b.uach_promise)return b.uach_promise;var c=a.navigator.userAgentData.getHighEntropyValues(ks).then(function(d){null!=b.uach||(b.uach=d);return d});return b.uach_promise=c};function vs(){return"attribution-reporting"}function ws(a){var b;b=void 0===b?document:b;var c;return!(null==(c=b.featurePolicy)||!c.allowedFeatures().includes(a))};var xs=!1;function ys(){if(ws("join-ad-interest-group")&&Fa(Cc.joinAdInterestGroup))return!0;xs||(zm('AymqwRC7u88Y4JPvfIF2F37QKylC04248hLCdJAsh8xgOfe/dVJPV3XS3wLFca1ZMVOtnBfVjaCMTVudWM//5g4AAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjk1MTY3OTk5LCJpc1RoaXJkUGFydHkiOnRydWV9'),xs=!0);return ws("join-ad-interest-group")&&Fa(Cc.joinAdInterestGroup)}
function zs(a,b){var c=void 0;try{c=C.querySelector('iframe[data-tagging-id="'+b+'"]')}catch(e){}if(c){var d=Number(c.dataset.loadTime);if(d&&6E4>Ua()-d){Ab("TAGGING",9);return}try{c.parentNode.removeChild(c)}catch(e){}c=void 0}else try{if(50<=C.querySelectorAll('iframe[allow="join-ad-interest-group"][data-tagging-id*="-"]').length){Ab("TAGGING",10);return}}catch(e){}Lc(a,void 0,{allow:"join-ad-interest-group"},{taggingId:b,loadTime:Ua()},c)}function As(){return"https://td.doubleclick.net"};var Bs=RegExp("^UA-\\d+-\\d+%3A[\\w-]+(?:%2C[\\w-]+)*(?:%3BUA-\\d+-\\d+%3A[\\w-]+(?:%2C[\\w-]+)*)*$"),Cs=/^~?[\w-]+(?:\.~?[\w-]+)*$/,Ds=/^\d+\.fls\.doubleclick\.net$/,Es=/;gac=([^;?]+)/,Fs=/;gacgb=([^;?]+)/,Gs=/;gclaw=([^;?]+)/,Hs=/;gclgb=([^;?]+)/;
function Is(a,b){if(Ds.test(C.location.host)){var c=C.location.href.match(b);return c&&2==c.length&&c[1].match(Bs)?decodeURIComponent(c[1]):""}var d=[],e;for(e in a){for(var f=[],g=a[e],h=0;h<g.length;h++)f.push(g[h].aa);d.push(e+":"+f.join(","))}return 0<d.length?d.join(";"):""}
var Js=function(a,b,c){var d=Ro(Qo())?Mo("_gac_gb",!0):{},e=[],f=!1,g;for(g in d){var h=np("_gac_gb_"+g,a,b,c);f=f||0!==h.length&&h.some(function(m){return 1===m});e.push(g+":"+h.join(","))}return{Pl:f?e.join(";"):"",Ol:Is(d,Fs)}};function Ks(a,b,c){if(Ds.test(C.location.host)){var d=C.location.href.match(c);if(d&&2==d.length&&d[1].match(Cs))return[{aa:d[1]}]}else return To((a||"_gcl")+b);return[]}
var Ls=function(a){return Ks(a,"_aw",Gs).map(function(b){return b.aa}).join(".")},Ms=function(a){return Ks(a,"_gb",Hs).map(function(b){return b.aa}).join(".")},Ns=function(a,b){var c=np((b&&b.prefix||"_gcl")+"_gb",a,b);return 0===c.length||c.every(function(d){return 0===d})?"":c.join(".")};var Dt={H:{fi:"ads_conversion_hit",yd:"container_execute_start",ii:"container_setup_end",fg:"container_setup_start",gi:"container_blocking_end",hi:"container_execute_end",ji:"container_yield_end",gg:"container_yield_start",bj:"event_execute_end",aj:"event_evaluation_end",Vg:"event_evaluation_start",cj:"event_setup_end",ie:"event_setup_start",dj:"ga4_conversion_hit",ke:"page_load",Rn:"pageview",Yb:"snippet_load",sj:"tag_callback_error",tj:"tag_callback_failure",uj:"tag_callback_success",vj:"tag_execute_end",
ld:"tag_execute_start"}};function Et(){function a(c,d){var e=Cb(d);e&&b.push([c,e])}var b=[];a("u","GTM");a("ut","TAGGING");a("h","HEALTH");return b};var Ft=!1;
var mu=function(a,b){},nu=function(a,b){},ou=function(a,b){},pu=function(a,b){},qu=function(){var a={};return a},eu=function(a){a=void 0===a?!0:a;var b={};return b},ru=function(){},su=function(a,b){},tu=function(a,b,c){},uu=function(){};var vu=function(a,b){var c=l,d,e=c.GooglebQhCsO;e||(e={},c.GooglebQhCsO=e);d=e;if(d[a])return!1;d[a]=[];d[a][0]=b;return!0};var wu=function(a,b,c){var d=um(a,"fmt");if(b){var e=um(a,"random"),f=um(a,"label")||"";if(!e)return!1;var g=js(decodeURIComponent(f.replace(/\+/g," "))+":"+decodeURIComponent(e.replace(/\+/g," ")));if(!vu(g,b))return!1}d&&4!=d&&(a=wm(a,"rfmt",d));var h=wm(a,"fmt",4);Jc(h,function(){l.google_noFurtherRedirects&&b&&b.call&&(l.google_noFurtherRedirects=null,b())},void 0,c,C.getElementsByTagName("script")[0].parentElement||void 0);return!0};var Nu=function(){this.h={}},Ou=function(a,b,c){null!=c&&(a.h[b]=c)},Pu=function(a){return Object.keys(a.h).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a.h[b])}).join("&")},Ru=function(a,b,c,d){};function Tu(a,b){if(data.entities&&data.entities[a])return data.entities[a][b]};var Wu=function(a,b,c){c=void 0===c?!1:c;if(R(98))Uu().addRestriction(0,a,b,c);else{var d=Vu(a);d.entity.push(b);d._entity||(d._entity={internal:[],external:[]});c?d._entity.external.push(b):d._entity.internal.push(b)}},Xu=function(){var a=Mk();if(R(98))return Uu().getRestrictions(0,a);var b=Vu(a),c,d;return[].concat(ka((null==b?void 0:null==(c=b._entity)?void 0:c.internal)||[]),ka((null==b?void 0:null==(d=b._entity)?void 0:d.external)||[]))},Yu=function(a,b,c){c=void 0===c?!1:c;if(R(98))Uu().addRestriction(1,
a,b,c);else{var d=Vu(a);d.event&&(d.event.push(b),d._event||(d._event={internal:[],external:[]}),c?d._event.external.push(b):d._event.internal.push(b))}},Zu=function(){var a=Mk();if(R(98))return Uu().getRestrictions(1,a);var b=Vu(a),c,d;return[].concat(ka((null==b?void 0:null==(c=b._event)?void 0:c.internal)||[]),ka((null==b?void 0:null==(d=b._event)?void 0:d.external)||[]))};
function Vu(a){var b=Uu(),c=b.container[a];c||(c={entity:[],event:[],_entity:{internal:[],external:[]},_event:{internal:[],external:[]}},b.container[a]=c);return c}var $u=function(){this.container={};this.h={}},av=function(a,b){var c=a.container[b];c||(c={entity:[],event:[],_entity:{internal:[],external:[]},_event:{internal:[],external:[]}},a.container[b]=c);return c};
$u.prototype.addRestriction=function(a,b,c,d){d=void 0===d?!1:d;if(!d||!this.h[b]){var e=av(this,b);0===a?d?e._entity.external.push(c):e._entity.internal.push(c):1===a&&(d?e._event.external.push(c):e._event.internal.push(c))}};
$u.prototype.getRestrictions=function(a,b){var c=av(this,b);if(0===a){var d,e;return[].concat(ka((null==c?void 0:null==(d=c._entity)?void 0:d.internal)||[]),ka((null==c?void 0:null==(e=c._entity)?void 0:e.external)||[]))}if(1===a){var f,g;return[].concat(ka((null==c?void 0:null==(f=c._event)?void 0:f.internal)||[]),ka((null==c?void 0:null==(g=c._event)?void 0:g.external)||[]))}return[]};
$u.prototype.getExternalRestrictions=function(a,b){var c=av(this,b),d,e;return 0===a?(null==c?void 0:null==(d=c._entity)?void 0:d.external)||[]:(null==c?void 0:null==(e=c._event)?void 0:e.external)||[]};$u.prototype.removeExternalRestrictions=function(a){var b=av(this,a);b._event&&(b._event.external=[]);b._entity&&(b._entity.external=[]);this.h[a]=!0};function Uu(){var a=pi.r;a||(a=new $u,pi.r=a);return a};var bv=new RegExp(/^(.*\.)?(google|youtube|blogger|withgoogle)(\.com?)?(\.[a-z]{2})?\.?$/),cv={cl:["ecl"],customPixels:["nonGooglePixels"],ecl:["cl"],ehl:["hl"],gaawc:["googtag"],hl:["ehl"],html:["customScripts","customPixels","nonGooglePixels","nonGoogleScripts","nonGoogleIframes"],customScripts:["html","customPixels","nonGooglePixels","nonGoogleScripts","nonGoogleIframes"],nonGooglePixels:[],nonGoogleScripts:["nonGooglePixels"],nonGoogleIframes:["nonGooglePixels"]},dv={cl:["ecl"],customPixels:["customScripts",
"html"],ecl:["cl"],ehl:["hl"],gaawc:["googtag"],hl:["ehl"],html:["customScripts"],customScripts:["html"],nonGooglePixels:["customPixels","customScripts","html","nonGoogleScripts","nonGoogleIframes"],nonGoogleScripts:["customScripts","html"],nonGoogleIframes:["customScripts","html","nonGoogleScripts"]},ev="google customPixels customScripts html nonGooglePixels nonGoogleScripts nonGoogleIframes".split(" "),hv=function(a){var b=Oi("gtm.allowlist")||Oi("gtm.whitelist");b&&M(9);vi&&(b=["google","gtagfl",
"lcl","zone"]);fv()&&(vi?M(116):(M(117),gv&&(b=[],window.console&&window.console.log&&window.console.log("GTM blocked. See go/13687728."))));var c=b&&Ya(Ra(b),cv),d=Oi("gtm.blocklist")||Oi("gtm.blacklist");d||(d=Oi("tagTypeBlacklist"))&&M(3);d?M(8):d=[];fv()&&(d=Ra(d),d.push("nonGooglePixels","nonGoogleScripts","sandboxedScripts"));0<=Ra(d).indexOf("google")&&M(2);var e=d&&Ya(Ra(d),dv),f={};return function(g){var h=g&&g[Ne.ma];if(!h||"string"!=typeof h)return!0;h=h.replace(/^_*/,"");if(void 0!==f[h])return f[h];
var m=Fi[h]||[],n=a(h,m);if(!R(84))for(var p=Xu(),q=0;q<p.length;q++)try{n=n&&p[q](h,m)}catch(y){n=!1}if(b){var r;if(r=n)a:{if(0>c.indexOf(h))if(m&&0<m.length)for(var t=0;t<m.length;t++){if(0>c.indexOf(m[t])){M(11);r=!1;break a}}else{r=!1;break a}r=!0}n=r}var u=!1;if(d){var v=0<=e.indexOf(h);if(v)u=v;else{var w=La(e,m||[]);w&&M(10);u=w}}var x=!n||u;x||!(0<=m.indexOf("sandboxedScripts"))||c&&-1!==c.indexOf("sandboxedScripts")||(x=La(e,ev));return f[h]=x}},gv=!1;
gv=!0;var fv=function(){return bv.test(l.location&&l.location.hostname)},iv=function(){if(Ek){var a=function(b){var c=wf(b),d;if(Bf(c)){var e=c[Ne.ma];if(!e)throw"Error: No function name given for function call.";var f=pf[e];d=!!f&&!!f.runInSiloedMode}else d=!!Tu(c[Ne.ma],4);return d};R(84)?Wu(Mk(),function(b){return a(b.entityId)}):Wu(Mk(),a)}};var kv=function(a,b,c,d,e){if(!jv()&&!Sk(a)){var f="?id="+encodeURIComponent(a)+"&l="+oi.fa,g=0===a.indexOf("GTM-");g||(f+="&cx=c");R(37)&&(f+="&gtm="+Bn());var h=vk();h&&(f+="&sign="+oi.Ff);var m=c?"/gtag/js":"/gtm.js",n=uk()?tk(b,m+f):void 0;if(!n){var p=oi.zd+m;h&&Dc&&g?(p=Dc.replace(/^(?:https?:\/\/)?/i,"").split(/[?#]/)[0],n=jq("https://","http://",p+f)):n=Ii.s?Ii.C+m+f:jq("https://","http://",p+f)}var q=a;d.siloed&&(Vk({ctid:q,isDestination:!1}),q=Gk(q));var r=q,t=Uk();Ak().container[r]={state:1,
context:d,parent:t};Bk({ctid:r,isDestination:!1},e);Jc(n)}},lv=function(a,b,c,d){if(!jv()&&!Tk(a))if(Wk())Ak().destination[a]={state:0,transportUrl:b,context:c,parent:Uk()},Bk({ctid:a,isDestination:!0},d),M(91);else{var e="/gtag/destination?id="+encodeURIComponent(a)+"&l="+oi.fa+"&cx=c";R(37)&&(e+="&gtm="+Bn());vk()&&(e+="&sign="+oi.Ff);var f=uk()?tk(b,e):void 0;f||(f=Ii.s?Ii.C+e:jq("https://","http://",oi.zd+e));var g=a;c.siloed&&(Vk({ctid:g,isDestination:!0}),g=Gk(g));Ak().destination[g]={state:1,
context:c,parent:Uk()};Bk({ctid:g,isDestination:!0},d);Jc(f)}};function jv(){if(zn()){return!0}return!1};var mv=!1,nv=0,ov=[];function pv(a){if(!mv){var b=C.createEventObject,c="complete"==C.readyState,d="interactive"==C.readyState;if(!a||"readystatechange"!=a.type||c||!b&&d){mv=!0;for(var e=0;e<ov.length;e++)F(ov[e])}ov.push=function(){for(var f=0;f<arguments.length;f++)F(arguments[f]);return 0}}}function qv(){if(!mv&&140>nv){nv++;try{C.documentElement.doScroll("left"),pv()}catch(a){l.setTimeout(qv,50)}}}var rv=function(a){mv?a():ov.push(a)};var tv=function(a,b,c){return{entityType:a,indexInOriginContainer:b,nameInOriginContainer:c,originContainerId:Lk()}};var vv=function(a,b){this.h=!1;this.F=[];this.M={tags:[]};this.X=!1;this.s=this.C=0;uv(this,a,b)},wv=function(a,b,c,d){if(si.hasOwnProperty(b)||"__zone"===b)return-1;var e={};nb(d)&&(e=z(d,e));e.id=c;e.status="timeout";return a.M.tags.push(e)-1},xv=function(a,b,c,d){var e=a.M.tags[b];e&&(e.status=c,e.executionTime=d)},yv=function(a){if(!a.h){for(var b=a.F,c=0;c<b.length;c++)b[c]();a.h=!0;a.F.length=0}},uv=function(a,b,c){void 0!==b&&a.Hf(b);c&&l.setTimeout(function(){return yv(a)},Number(c))};
vv.prototype.Hf=function(a){var b=this,c=Wa(function(){return F(function(){a(Lk(),b.M)})});this.h?c():this.F.push(c)};var zv=function(a){a.C++;return Wa(function(){a.s++;a.X&&a.s>=a.C&&yv(a)})},Av=function(a){a.X=!0;a.s>=a.C&&yv(a)};var Bv={},Dv=function(){return l[Cv()]},Ev=!1;var Fv=function(a){l.GoogleAnalyticsObject||(l.GoogleAnalyticsObject=a||"ga");var b=l.GoogleAnalyticsObject;if(l[b])l.hasOwnProperty(b);else{var c=function(){c.q=c.q||[];c.q.push(arguments)};c.l=Number(Ta());l[b]=c}return l[b]},Gv=function(a){if(Hj()){var b=Dv();b(a+"require","linker");b(a+"linker:passthrough",!0)}};
function Cv(){return l.GoogleAnalyticsObject||"ga"}
var Hv=function(a){},Iv=function(a,b){return function(){var c=Dv(),d=c&&c.getByName&&c.getByName(a);if(d){var e=d.get("sendHitTask");d.set("sendHitTask",function(f){var g=f.get("hitPayload"),h=f.get("hitCallback"),m=0>g.indexOf("&tid="+b);m&&(f.set("hitPayload",g.replace(/&tid=UA-[0-9]+-[0-9]+/,"&tid="+b),!0),f.set("hitCallback",void 0,!0));e(f);m&&(f.set("hitPayload",
g,!0),f.set("hitCallback",h,!0),f.set("_x_19",void 0,!0),e(f))})}}};var Nv=["es","1"],Ov={},Pv={};function Qv(a,b){if(fl){var c;c=b.match(/^(gtm|gtag)\./)?encodeURIComponent(b):"*";Ov[a]=[["e",c],["eid",a]];ql(a)}}function Rv(a){var b=a.eventId,c=a.Jc;if(!Ov[b])return[];var d=[];Pv[b]||d.push(Nv);d.push.apply(d,ka(Ov[b]));c&&(Pv[b]=!0);return d};var Sv={};function Tv(a,b){fl&&(Sv[a]=Sv[a]||{},Sv[a][b]=(Sv[a][b]||0)+1)}function Uv(a){var b=a.eventId,c=a.Jc,d=Sv[b]||{},e=[],f;for(f in d)d.hasOwnProperty(f)&&e.push(""+f+d[f]);c&&delete Sv[b];return e.length?[["md",e.join(".")]]:[]};var Vv={},Wv={};function Xv(a,b,c){if(fl&&b){var d=yk(b);Vv[a]=Vv[a]||[];Vv[a].push(c+d);var e=(Bf(b)?"1":"2")+d;Wv[a]=Wv[a]||[];Wv[a].push(e);ql(a)}}function Yv(a){var b=a.eventId,c=a.Jc,d=[],e=Vv[b]||[];e.length&&d.push(["tr",e.join(".")]);var f=Wv[b]||[];f.length&&d.push(["ti",f.join(".")]);c&&(delete Vv[b],delete Wv[b]);return d};function Zv(a,b,c,d){var e=nf[a],f=$v(a,b,c,d);if(!f)return null;var g=yf(e[Ne.rj],c,[]);if(g&&g.length){var h=g[0];f=Zv(h.index,{onSuccess:f,onFailure:1===h.Gj?b.terminate:f,terminate:b.terminate},c,d)}return f}
function $v(a,b,c,d){function e(){if(f[Ne.Yk])h();else{var w=zf(f,c,[]),x=w[Ne.nk];if(null!=x)for(var y=0;y<x.length;y++)if(!Uj(x[y])){h();return}var A=wv(c.Zb,String(f[Ne.ma]),Number(f[Ne.pe]),w[Ne.Zk]),B=!1;w.vtp_gtmOnSuccess=function(){if(!B){B=!0;var H=Ua()-G;Xv(c.id,nf[a],"5");xv(c.Zb,A,"success",H);R(15)&&tu(c,f,Dt.H.uj);g()}};w.vtp_gtmOnFailure=function(){if(!B){B=!0;var H=Ua()-G;Xv(c.id,nf[a],"6");xv(c.Zb,A,"failure",H);R(15)&&tu(c,f,Dt.H.tj);h()}};w.vtp_gtmTagId=f.tag_id;w.vtp_gtmEventId=
c.id;c.priorityId&&(w.vtp_gtmPriorityId=c.priorityId);Xv(c.id,f,"1");var D=function(){$i(3);var H=Ua()-G;Xv(c.id,f,"7");xv(c.Zb,A,"exception",H);R(15)&&tu(c,f,Dt.H.sj);B||(B=!0,h())};R(15)&&su(c,f);var G=Ua();try{xf(w,{event:c,index:a,type:1})}catch(H){D(H)}R(15)&&tu(c,f,Dt.H.vj)}}var f=nf[a],g=b.onSuccess,h=b.onFailure,m=b.terminate;if(c.isBlocked(f))return null;var n=yf(f[Ne.wj],c,[]);if(n&&n.length){var p=n[0],q=Zv(p.index,{onSuccess:g,onFailure:h,terminate:m},c,d);if(!q)return null;g=q;h=2===
p.Gj?m:q}if(f[Ne.mj]||f[Ne.bl]){var r=f[Ne.mj]?of:c.pn,t=g,u=h;if(!r[a]){e=Wa(e);var v=aw(a,r,e);g=v.onSuccess;h=v.onFailure}return function(){r[a](t,u)}}return e}function aw(a,b,c){var d=[],e=[];b[a]=bw(d,e,c);return{onSuccess:function(){b[a]=cw;for(var f=0;f<d.length;f++)d[f]()},onFailure:function(){b[a]=dw;for(var f=0;f<e.length;f++)e[f]()}}}function bw(a,b,c){return function(d,e){a.push(d);b.push(e);c()}}function cw(a){a()}function dw(a,b){b()};var fw=function(a,b){return 1===arguments.length?ew("set",a):ew("set",a,b)},gw=function(a,b){return 1===arguments.length?ew("config",a):ew("config",a,b)},hw=function(a,b,c){c=c||{};c[N.g.Rb]=a;return ew("event",b,c)};function ew(a){return arguments}var Ew=function(){this.h=[];this.s=[]};Ew.prototype.enqueue=function(a,b,c){var d=this.h.length+1;a["gtm.uniqueEventId"]=b;a["gtm.priorityId"]=d;c.eventId=b;c.fromContainerExecution=!0;c.priorityId=d;var e={message:a,notBeforeEventId:b,priorityId:d,messageContext:c};this.h.push(e);for(var f=0;f<this.s.length;f++)try{this.s[f](e)}catch(g){}};Ew.prototype.listen=function(a){this.s.push(a)};
Ew.prototype.get=function(){for(var a={},b=0;b<this.h.length;b++){var c=this.h[b],d=a[c.notBeforeEventId];d||(d=[],a[c.notBeforeEventId]=d);d.push(c)}return a};Ew.prototype.prune=function(a){for(var b=[],c=[],d=0;d<this.h.length;d++){var e=this.h[d];e.notBeforeEventId===a?b.push(e):c.push(e)}this.h=c;return b};var Mw=function(a,b,c){c.eventMetadata=c.eventMetadata||{};c.eventMetadata.source_canonical_id=Sf.Kf;Lw().enqueue(a,b,c)},Ow=function(){var a=Nw;Lw().listen(a)};
function Lw(){var a=pi.mb;a||(a=new Ew,pi.mb=a);return a}
var Ww=function(a){var b=pi.zones;return b?b.getIsAllowedFn(Hk(),a):function(){return!0}},Xw=function(a){var b=pi.zones;return b?b.isActive(Hk(),a):!0},Yw=function(){R(83)?Yu(Mk(),function(a){return Xw(a.originalEventData["gtm.uniqueEventId"])}):Yu(Mk(),function(a,b){return Xw(b)});R(84)&&R(85)&&Wu(Mk(),function(a){var b=a.entityId,c=a.securityGroups;return Ww(a.originalEventData["gtm.uniqueEventId"])(b,c)})};var ax=function(a,b){for(var c=[],d=0;d<nf.length;d++)if(a[d]){var e=nf[d];var f=zv(b.Zb);try{var g=Zv(d,{onSuccess:f,onFailure:f,terminate:f},b,d);if(g){var h=e[Ne.ma];if(!h)throw"Error: No function name given for function call.";var m=pf[h];c.push({ek:d,Sj:(m?m.priorityOverride||0:0)||Tu(e[Ne.ma],1)||0,execute:g})}else Zw(d,b),f()}catch(p){f()}}c.sort($w);for(var n=0;n<c.length;n++)c[n].execute();return 0<c.length};
function $w(a,b){var c,d=b.Sj,e=a.Sj;c=d>e?1:d<e?-1:0;var f;if(0!==c)f=c;else{var g=a.ek,h=b.ek;f=g>h?1:g<h?-1:0}return f}
function Zw(a,b){if(fl){var c=function(d){var e=b.isBlocked(nf[d])?"3":"4",f=yf(nf[d][Ne.rj],b,[]);f&&f.length&&c(f[0].index);Xv(b.id,nf[d],e);var g=yf(nf[d][Ne.wj],b,[]);g&&g.length&&c(g[0].index)};c(a)}}var dx=!1,bx;
var jx=function(a){var b=a["gtm.uniqueEventId"],c=a["gtm.priorityId"],d=a.event;if(R(15)){}if("gtm.js"===d){if(dx)return!1;dx=!0}var e,f=!1,g=Zu(),h;if(R(83)){var m=z(a);h=g.every(function(w){return w({originalEventData:m})})}else h=g.every(function(w){return w(d,b)});if(h)e=Ww(b);else{if("gtm.js"!==d&&"gtm.init"!==d&&"gtm.init_consent"!==
d)return!1;f=!0;e=Ww(Number.MAX_SAFE_INTEGER)}Qv(b,d);var n=a.eventCallback,p=a.eventTimeout,q=z(a),r={id:b,priorityId:c,name:d,isBlocked:fx(e,q,f),pn:[],logMacroError:function(){M(6);$i(0)},cachedModelValues:gx(),Zb:new vv(function(){if(R(15)){}n&&n.apply(n,[].slice.call(arguments,0))},p),originalEventData:q};R(28)&&(r.reportMacroDiscrepancy=Tv);R(15)&&ou(r.id,r.name);var t=Jf(r);R(15)&&pu(r.id,r.name);f&&(t=hx(t));if(R(15)){}var u=ax(t,r),v=!1;Av(r.Zb);"gtm.js"!==d&&"gtm.sync"!==d||Hv(Lk());return ix(t,u)||v};function gx(){var a={};a.event=Ti("event",1);a.ecommerce=Ti("ecommerce",1);a.gtm=Ti("gtm");a.eventModel=Ti("eventModel");return a}
function fx(a,b,c){var d=hv(a);return R(84)?function(e){if(d(e))return!0;var f=e&&e[Ne.ma];if(!f||"string"!=typeof f)return!0;f=f.replace(/^_*/,"");var g=Xu(),h=b;c&&(h=z(b),h["gtm.uniqueEventId"]=Number.MAX_SAFE_INTEGER);for(var m=Fi[f]||[],n=fa(g),p=n.next();!p.done;p=n.next()){var q=p.value;try{if(!q({entityId:f,securityGroups:m,originalEventData:h}))return!0}catch(r){return!0}}return!1}:d}
function hx(a){for(var b=[],c=0;c<a.length;c++)if(a[c]){var d=String(nf[c][Ne.ma]);if(ri[d]||void 0!==nf[c][Ne.fl]||Tu(d,2))b[c]=!0}return b}function ix(a,b){if(!b)return b;for(var c=0;c<a.length;c++)if(a[c]&&nf[c]&&!si[String(nf[c][Ne.ma])])return!0;return!1}var Mf;var kx={},lx={},mx=function(a,b){for(var c=[],d=[],e={},f=0;f<a.length;e={Ph:void 0,vh:void 0},f++){var g=a[f];if(0<=g.indexOf("-")){if(e.Ph=dk(g,b),e.Ph){var h=Jk();Ia(h,function(r){return function(t){return r.Ph.da===t}}(e))?c.push(g):d.push(g)}}else{var m=kx[g]||[];e.vh={};m.forEach(function(r){return function(t){return r.vh[t]=!0}}(e));for(var n=Hk(),p=0;p<n.length;p++)if(e.vh[n[p]]){c=c.concat(Jk());break}var q=lx[g]||[];q.length&&(c=c.concat(q))}}return{Im:c,Lm:d}},nx=function(a){Na(kx,function(b,
c){var d=c.indexOf(a);0<=d&&c.splice(d,1)})},ox=function(a){Na(lx,function(b,c){var d=c.indexOf(a);0<=d&&c.splice(d,1)})};var px="HA GF G UA AW DC MC".split(" "),qx=!1,rx=!1;function sx(a,b){a.hasOwnProperty("gtm.uniqueEventId")||Object.defineProperty(a,"gtm.uniqueEventId",{value:Gi()});b.eventId=a["gtm.uniqueEventId"];b.priorityId=a["gtm.priorityId"];return{eventId:b.eventId,priorityId:b.priorityId}}var tx=void 0,ux=void 0;function vx(a,b,c){var d=z(a);d.eventId=void 0;d.inheritParentConfig=void 0;Object.keys(b).some(function(f){return void 0!==b[f]})&&M(136);var e=z(b);z(c,e);Mw(gw(Hk()[0],e),a.eventId,d)}
function wx(a){for(var b=fa([N.g.Ud,N.g.Sb]),c=b.next();!c.done;c=b.next()){var d=c.value,e=a&&a[d]||$l.C[d];if(e)return e}}
var xx={config:function(a,b){var c=R(29),d=sx(a,b);if(!(2>a.length)&&k(a[1])){var e={};if(2<a.length){if(void 0!=a[2]&&!nb(a[2])||3<a.length)return;e=a[2]}var f=dk(a[1],b.isGtmEvent);if(f){var g,h,m;a:{if(!Dk.je){var n=Nk(Uk());if(Yk(n)){var p=n.parent,q=p.isDestination;m={Rm:Nk(p),Hm:q};break a}}m=void 0}var r=m;r&&(g=r.Rm,h=r.Hm);Qv(d.eventId,"gtag.config");var t=f.da,u=f.id!==t;if(u?-1===Jk().indexOf(t):-1===Hk().indexOf(t)){if(!(c&&b.inheritParentConfig||e[N.g.zb])){var v=wx(e);if(u)lv(t,v,{source:2,
fromContainerExecution:b.fromContainerExecution});else if(c&&void 0!==g&&-1!==g.containers.indexOf(t)){var w=e;tx?vx(b,w,tx):ux||(ux=z(w))}else kv(t,v,!0,{source:2,fromContainerExecution:b.fromContainerExecution})}}else{if(g&&(M(128),h&&M(130),c&&b.inheritParentConfig)){var x;var y=e;ux?(vx(b,ux,y),x=!1):(!y[N.g.Tb]&&ui&&tx||(tx=z(y)),x=!0);x&&g.containers&&g.containers.join(",");return}if(ui&&!u&&!e[N.g.Tb]){var A=rx;rx=!0;if(A)return}qx||M(43);if(!b.noTargetGroup)if(u){ox(f.id);var B=f.id,D=e[N.g.Qd]||
"default";D=String(D).split(",");for(var G=0;G<D.length;G++){var H=lx[D[G]]||[];lx[D[G]]=H;0>H.indexOf(B)&&H.push(B)}}else{nx(f.id);var E=f.id,O=e[N.g.Qd]||"default";O=O.toString().split(",");for(var P=0;P<O.length;P++){var S=kx[O[P]]||[];kx[O[P]]=S;0>S.indexOf(E)&&S.push(E)}}delete e[N.g.Qd];var Y=b.eventMetadata||{};Y.hasOwnProperty("is_external_event")||(Y.is_external_event=!b.fromContainerExecution);b.eventMetadata=Y;delete e[N.g.Xc];for(var V=u?[f.id]:Jk(),U=0;U<V.length;U++){var ja=e,ia=V[U],
da=z(b),Ba=dk(ia,da.isGtmEvent);Ba&&$l.push("config",[ja],Ba,da)}}}}},consent:function(a,b){if(3===a.length){M(39);var c=sx(a,b),d=a[1],e=a[2];b.fromContainerExecution||(e[N.g.N]&&M(139),e[N.g.Fa]&&M(140));"default"===d?Qj(e):"update"===d?Rj(e,c):"declare"===d?b.fromContainerExecution&&Pj(e):R(60)&&"core_platform_services"===d&&Sj(e)}},event:function(a,b){var c=a[1];if(!(2>a.length)&&k(c)){var d;if(2<a.length){if(!nb(a[2])&&void 0!=a[2]||3<a.length)return;d=a[2]}var e=d,f={},g=(f.event=c,f);e&&(g.eventModel=
z(e),e[N.g.Xc]&&(g.eventCallback=e[N.g.Xc]),e[N.g.Nd]&&(g.eventTimeout=e[N.g.Nd]));var h=sx(a,b),m=h.eventId,n=h.priorityId;g["gtm.uniqueEventId"]=m;n&&(g["gtm.priorityId"]=n);if("optimize.callback"===c)return g.eventModel=g.eventModel||{},g;var p;var q=d,r=q&&q[N.g.Rb];void 0===r&&(r=Oi(N.g.Rb,2),void 0===r&&(r="default"));if(k(r)||Ha(r)){var t;b.isGtmEvent?t=k(r)?[r]:r:t=r.toString().replace(/\s+/g,"").split(",");var u=mx(t,b.isGtmEvent),v=u.Im,w=u.Lm;if(w.length)for(var x=wx(q),y=0;y<w.length;y++){var A=
dk(w[y],b.isGtmEvent);A&&lv(A.da,x,{source:3,fromContainerExecution:b.fromContainerExecution})}p=fk(v,b.isGtmEvent)}else p=void 0;var B=p;if(B){Qv(m,c);for(var D=[],G=0;G<B.length;G++){var H=B[G],E=z(b);if(-1!==px.indexOf(Ok(H.prefix))){var O=z(d),P=E.eventMetadata||{};P.hasOwnProperty("is_external_event")||(P.is_external_event=!E.fromContainerExecution);E.eventMetadata=P;delete O[N.g.Xc];bm(c,O,H.id,E)}D.push(H.id)}g.eventModel=g.eventModel||{};0<B.length?g.eventModel[N.g.Rb]=D.join():delete g.eventModel[N.g.Rb];
qx||M(43);void 0===b.noGtmEvent&&b.eventMetadata&&b.eventMetadata.syn_or_mod&&(b.noGtmEvent=!0);g.eventModel[N.g.Ob]&&(b.noGtmEvent=!0);return b.noGtmEvent?void 0:g}}},get:function(a,b){M(53);if(4===a.length&&k(a[1])&&k(a[2])&&Fa(a[3])){var c=dk(a[1],b.isGtmEvent),d=String(a[2]),e=a[3];if(c){qx||M(43);var f=wx();if(!Ia(Jk(),function(h){return c.da===h}))lv(c.da,f,{source:4,fromContainerExecution:b.fromContainerExecution});else if(-1!==px.indexOf(Ok(c.prefix))){sx(a,b);var g={};Mj(z((g[N.g.nb]=d,g[N.g.xb]=
e,g)));cm(d,function(h){F(function(){return e(h)})},c.id,b)}}}},js:function(a,b){if(2==a.length&&a[1].getTime){qx=!0;var c=sx(a,b),d=c.eventId,e=c.priorityId,f={};return f.event="gtm.js",f["gtm.start"]=a[1].getTime(),f["gtm.uniqueEventId"]=d,f["gtm.priorityId"]=e,f}},policy:function(a){if(3===a.length&&k(a[1])&&Fa(a[2])){Nf(a[1],a[2]);if(M(74),"all"===a[1]){M(75);var b=!1;try{b=a[2](Lk(),"unknown",{})}catch(c){}b||M(76)}}else{
M(73);}},set:function(a,b){var c;2==a.length&&nb(a[1])?c=z(a[1]):3==a.length&&k(a[1])&&(c={},nb(a[2])||Ha(a[2])?c[a[1]]=z(a[2]):c[a[1]]=a[2]);if(c){var d=sx(a,b),e=d.eventId,f=d.priorityId;z(c);var g=z(c);$l.push("set",[g],void 0,b);c["gtm.uniqueEventId"]=e;f&&(c["gtm.priorityId"]=f);R(9)&&delete c.event;b.overwriteModelFields=!0;return c}}},yx={policy:!0};var zx=function(a){var b=l[oi.fa].hide;if(b&&void 0!==b[a]&&b.end){b[a]=!1;var c=!0,d;for(d in b)if(b.hasOwnProperty(d)&&!0===b[d]){c=!1;break}c&&(b.end(),b.end=null)}},Ax=function(a){var b=l[oi.fa],c=b&&b.hide;c&&c.end&&(c[a]=!0)};var Bx=!1,Cx=[];function Dx(){if(!Bx){Bx=!0;for(var a=0;a<Cx.length;a++)F(Cx[a])}}var Ex=function(a){Bx?F(a):Cx.push(a)};var Vx=function(a){if(Ux(a))return a;this.h=a};Vx.prototype.getUntrustedMessageValue=function(){return this.h};var Ux=function(a){return!a||"object"!==kb(a)||nb(a)?!1:"getUntrustedMessageValue"in a};Vx.prototype.getUntrustedMessageValue=Vx.prototype.getUntrustedMessageValue;var Wx=0,Xx={},Yx=[],Zx=[],$x=!1,ay=!1;function by(a,b){return a.messageContext.eventId-b.messageContext.eventId||a.messageContext.priorityId-b.messageContext.priorityId}
var cy=function(a){return l[oi.fa].push(a)},dy=function(a,b,c){a.eventCallback=b;c&&(a.eventTimeout=c);return cy(a)},ey=function(a,b){if(!Ga(b)||0>b)b=0;var c=pi[oi.fa],d=0,e=!1,f=void 0;f=l.setTimeout(function(){e||(e=!0,a());f=void 0},b);return function(){var g=c?c.subscribers:1;++d===g&&(f&&(l.clearTimeout(f),f=void 0),e||(a(),e=!0))}};
function fy(a,b){var c=a._clear||b.overwriteModelFields;Na(a,function(e,f){"_clear"!==e&&(c&&Ri(e),Ri(e,f))});Ci||(Ci=a["gtm.start"]);var d=a["gtm.uniqueEventId"];if(!a.event)return!1;"number"!==typeof d&&(d=Gi(),a["gtm.uniqueEventId"]=d,Ri("gtm.uniqueEventId",d));return jx(a)}
function gy(a){if(null==a||"object"!==typeof a)return!1;if(a.event)return!0;if(Oa(a)){var b=a[0];if("config"===b||"event"===b||"js"===b||"get"===b)return!0}return!1}
function hy(){var a;if(Zx.length)a=Zx.shift();else if(Yx.length)a=Yx.shift();else return;var b;var c=a;if($x||!gy(c.message))b=c;else{$x=!0;var d=c.message["gtm.uniqueEventId"];"number"!==typeof d&&(d=c.message["gtm.uniqueEventId"]=Gi());var e={},f={message:(e.event="gtm.init_consent",e["gtm.uniqueEventId"]=d-2,e),messageContext:{eventId:d-2}},g={},h={message:(g.event="gtm.init",g["gtm.uniqueEventId"]=d-1,g),messageContext:{eventId:d-1}};Yx.unshift(h,c);if(fl){var m=Sf.ctid;if(m){var n,p=Nk(Uk());
n=p&&p.context;var q,r=qk(l.location.href);q=r.hostname+r.pathname;var t=n&&n.fromContainerExecution,u=n&&n.source,v=Sf.Kf,w=Dk.je;fl&&(ul||(ul=q),vl.push(m+";"+v+";"+(t?1:0)+";"+(u||0)+";"+(w?1:0)))}}b=f}return b}
function iy(){for(var a=!1,b;!ay&&(b=hy());){ay=!0;delete Li.eventModel;Ni();var c=b,d=c.message,e=c.messageContext;if(null==d)ay=!1;else{e.fromContainerExecution&&Si();try{if(Fa(d))try{d.call(Pi)}catch(x){}else if(Ha(d)){var f=d;if(k(f[0])){var g=f[0].split("."),h=g.pop(),m=f.slice(1),n=Oi(g.join("."),2);if(null!=n)try{n[h].apply(n,m)}catch(x){}}}else{var p=void 0,q=!1;if(Oa(d)){a:{if(d.length&&k(d[0])){var r=xx[d[0]];if(r&&(!e.fromContainerExecution||!yx[d[0]])){p=r(d,e);break a}}p=void 0}(q=p&&
"set"===d[0]&&!!p.event)&&M(101)}else p=d;if(p){var t=fy(p,e);a=t||a;q&&t&&M(113)}}}finally{e.fromContainerExecution&&Ni(!0);var u=d["gtm.uniqueEventId"];if("number"===typeof u){for(var v=Xx[String(u)]||[],w=0;w<v.length;w++)Zx.push(jy(v[w]));v.length&&Zx.sort(by);delete Xx[String(u)];u>Wx&&(Wx=u)}ay=!1}}}return!a}
function ky(){if(R(15)){var a=ly();}var b=iy();if(R(15)){}try{zx(Lk())}catch(c){}return b}
function Nw(a){if(Wx<a.notBeforeEventId){var b=String(a.notBeforeEventId);Xx[b]=Xx[b]||[];Xx[b].push(a)}else Zx.push(jy(a)),Zx.sort(by),F(function(){ay||iy()})}function jy(a){return{message:a.message,messageContext:a.messageContext}}
var my=function(){function a(f){var g={};if(Ux(f)){var h=f;f=Ux(h)?h.getUntrustedMessageValue():void 0;g.fromContainerExecution=!0}return{message:f,messageContext:g}}var b=Ec(oi.fa,[]),c=pi[oi.fa]=pi[oi.fa]||{};!0===c.pruned&&M(83);Xx=Lw().get();Ow();rv(function(){if(!c.gtmDom){c.gtmDom=!0;var f={};b.push((f.event="gtm.dom",f))}});Ex(function(){if(!c.gtmLoad){c.gtmLoad=!0;var f={};b.push((f.event="gtm.load",f))}});c.subscribers=(c.subscribers||0)+1;var d=b.push;b.push=function(){var f;if(0<pi.SANDBOXED_JS_SEMAPHORE){f=
[];for(var g=0;g<arguments.length;g++)f[g]=new Vx(arguments[g])}else f=[].slice.call(arguments,0);var h=f.map(function(q){return a(q)});Yx.push.apply(Yx,h);var m=d.apply(b,f),n=Math.max(100,Number("1000")||300);if(this.length>n)for(M(4),c.pruned=!0;this.length>n;)this.shift();var p="boolean"!==typeof m||m;return iy()&&p};var e=b.slice(0).map(function(f){return a(f)});Yx.push.apply(Yx,e);if(ly()){if(R(15)){}F(ky)}},ly=function(){var a=!0;return a};function ny(a){if(null==a||0===a.length)return!1;var b=Number(a),c=Ua();return b<c+3E5&&b>c-9E5}function oy(a){return a&&0===a.indexOf("pending:")?ny(a.substr(8)):!1};
var Jy=function(){};var Ky=function(){};Ky.prototype.toString=function(){return"undefined"};var Ly=new Ky;var sz=l.clearTimeout,tz=l.setTimeout,uz=function(a,b,c,d){if(zn()){b&&F(b)}else return Jc(a,b,c,d)},vz=function(){return new Date},wz=function(){return l.location.href},xz=function(a){return lk(qk(a),"fragment")},yz=function(a){return mk(qk(a))},zz=function(a,b){return Oi(a,b||2)},Az=function(a,b,c){return b?dy(a,b,c):cy(a)},Bz=function(a,b){l[a]=b},W=function(a,b,c){b&&(void 0===l[a]||c&&!l[a])&&(l[a]=b);return l[a]},
Cz=function(a,b,c){return Fn(a,b,void 0===c?!0:!!c)},Dz=function(a,b,c){return 0===On(a,b,c)},Ez=function(a,b){if(zn()){b&&F(b)}else Lc(a,b)},Fz=function(a){return!!Wy(a,"init",!1)},Gz=function(a){Uy(a,"init",!0)};

function cA(a,b){function c(g){var h=qk(g),m=lk(h,"protocol"),n=lk(h,"host",!0),p=lk(h,"port"),q=lk(h,"path").toLowerCase().replace(/\/$/,"");if(void 0===m||"http"===m&&"80"===p||"https"===m&&"443"===p)m="web",p="default";return[m,n,p,q]}for(var d=c(String(a)),e=c(String(b)),f=0;f<d.length;f++)if(d[f]!==e[f])return!1;return!0}
function dA(a){return eA(a)?1:0}
function eA(a){var b=a.arg0,c=a.arg1;if(a.any_of&&Array.isArray(c)){for(var d=0;d<c.length;d++){var e=z(a,{});z({arg1:c[d],any_of:void 0},e);if(dA(e))return!0}return!1}switch(a["function"]){case "_cn":return sg(b,c);case "_css":var f;a:{if(b)try{for(var g=0;g<og.length;g++){var h=og[g];if(b[h]){f=b[h](c);break a}}}catch(m){}f=!1}return f;case "_ew":return pg(b,c);case "_eq":return tg(b,c);case "_ge":return ug(b,c);case "_gt":return wg(b,c);case "_lc":return 0<=String(b).split(",").indexOf(String(c));
case "_le":return vg(b,c);case "_lt":return xg(b,c);case "_re":return rg(b,c,a.ignore_case);case "_sw":return yg(b,c);case "_um":return cA(b,c)}return!1};function fA(){var a=[["cv","1"],["rv",oi.Zg],["tc",nf.filter(function(b){return b}).length]];oi.ne&&a.push(["x",oi.ne]);Ii.h&&a.push(["tag_exp",Ii.h]);return a};function gA(){var a=bj();return a.length?[["exp_geo",a]]:[]}var hA;function iA(){try{null!=hA||(hA=(new Intl.DateTimeFormat).resolvedOptions().timeZone)}catch(b){}var a;return(null==(a=hA)?0:a.length)?[["exp_tz",hA]]:[]};var jA=function(){return!1},kA=function(){var a={};return function(b,c,d){}};function lA(){var a=mA;return function(b,c,d){var e=d&&d.event;nA(c);var f=0===b.indexOf("__cvt_")?void 0:1,g=new sb;Na(c,function(r,t){var u=ld(t,void 0,f);void 0===u&&void 0!==t&&M(44);g.set(r,u)});a.h.h.F=Gf();var h={Bj:Wf(b),eventId:void 0!==e?e.id:void 0,priorityId:void 0!==e?e.priorityId:void 0,Hf:void 0!==e?function(r){return e.Zb.Hf(r)}:void 0,ac:function(){return b},log:function(){},Ll:{index:d&&d.index,type:d&&d.type,name:d&&d.name},fn:!!Tu(b,3),originalEventData:null==e?void 0:e.originalEventData};
e&&e.cachedModelValues&&(h.cachedModelValues={gtm:e.cachedModelValues.gtm,ecommerce:e.cachedModelValues.ecommerce});if(jA()){var m=kA(),n=void 0,p=void 0;h.cb={ai:[],qe:{},rb:function(r,t,u){1===t&&(n=r);7===t&&(p=u);m(r,t,u)},Ih:nh()};h.log=function(r,t){if(n){var u=Array.prototype.slice.call(arguments,1);m(n,4,{level:r,source:p,message:u})}}}var q=Je(a,h,[b,g]);a.h.h.F=void 0;q instanceof wa&&"return"===q.h&&(q=q.s);return md(q,void 0,f)}}
function nA(a){var b=a.gtmOnSuccess,c=a.gtmOnFailure;Fa(b)&&(a.gtmOnSuccess=function(){F(b)});Fa(c)&&(a.gtmOnFailure=function(){F(c)})};function oA(a,b){var c=this;}oA.O="addConsentListener";var pA;var qA=function(a){for(var b=0;b<a.length;++b)if(pA)try{a[b]()}catch(c){M(77)}else a[b]()};function rA(a,b,c){var d=this,e;return e}rA.D="internal.addDataLayerEventListener";function sA(a,b,c){}sA.O="addDocumentEventListener";function tA(a,b,c,d){}tA.O="addElementEventListener";function uA(a){}uA.O="addEventCallback";
function yA(a){}yA.D="internal.addFormAbandonmentListener";function zA(a,b,c,d){}zA.D="internal.addFormData";var AA={},BA=[],CA={},DA=0,EA=0;
function LA(a,b){}LA.D="internal.addFormInteractionListener";
function SA(a,b){}SA.D="internal.addFormSubmitListener";
function XA(a){}XA.D="internal.addGaSendListener";function YA(a){if(!a)return{};var b=a.Ll;return tv(b.type,b.index,b.name)}function ZA(a){return a?{originatingEntity:YA(a)}:{}};var $A=function(a,b){this.tagId=a;this.vc=b};
function aB(a,b){var c=this;}aB.D="internal.loadGoogleTag";function bB(a){return new dd("",function(b){b=I(this,b);if(b instanceof dd)return new dd("",function(){var c=ta.apply(0,arguments),d=this,e=z(this.h.h);e.eventId=a.eventId;e.priorityId=a.priorityId;e.originalEventData=a.originalEventData;var f=c.map(function(h){return I(d,h)}),g=Da(this.h);g.h=e;return b.Za.apply(b,[g].concat(ka(f)))})})};function cB(a,b,c){var d=this;}
cB.D="internal.addGoogleTagRestriction";var dB={},eB=[];
var lB=function(a,b){};
lB.D="internal.addHistoryChangeListener";function mB(a,b,c){}mB.O="addWindowEventListener";function nB(a,b){return!0}nB.O="aliasInWindow";function oB(a,b,c){}oB.D="internal.appendRemoteConfigParameter";function pB(){var a=2;return a};function qB(a,b){var c;return c}qB.O="callInWindow";function rB(a){}rB.O="callLater";function sB(a){}sB.D="callOnDomReady";function tB(a){}tB.D="callOnWindowLoad";function uB(a,b){var c;return c}uB.D="internal.computeGtmParameter";function vB(a,b){var c;var d=ld(c,this.h,pB());void 0===d&&void 0!==c&&M(45);return d}vB.O="copyFromDataLayer";
function wB(a){var b=void 0;return b}wB.D="internal.copyFromDataLayerCache";function xB(a){var b;return b}xB.O="copyFromWindow";function yB(a){var b=void 0;return ld(b,this.h,pB())}yB.D="internal.copyKeyFromWindow";function zB(a,b){var c;return c}zB.D="internal.copyPreHit";function AB(a,b){var c=null,d=pB();return ld(c,this.h,d)}AB.O="createArgumentsQueue";function BB(a){var b;return ld(b,this.h,1)}BB.D="internal.createGaCommandQueue";function CB(a){var b;return ld(b,this.h,
pB())}CB.O="createQueue";function DB(a,b){var c=null;return c}DB.D="internal.createRegex";function EB(a){}EB.D="internal.declareConsentState";function FB(a){var b="";return b}FB.D="internal.decodeUrlHtmlEntities";function GB(a,b,c){var d;return d}GB.D="internal.decorateUrlWithGaCookies";function HB(a){var b;
return b}HB.D="internal.detectUserProvidedData";
function LB(a,b){return b}LB.D="internal.enableAutoEventOnClick";
function QB(a,b){return b}QB.D="internal.enableAutoEventOnElementVisibility";function RB(){}RB.D="internal.enableAutoEventOnError";var SB={},TB=[],UB={},VB=0,WB=0;
function bC(a,b){var c=this;return b}bC.D="internal.enableAutoEventOnFormInteraction";
function gC(a,b){var c=this;return b}gC.D="internal.enableAutoEventOnFormSubmit";
function lC(){var a=this;}lC.D="internal.enableAutoEventOnGaSend";var mC={},nC=[];
function uC(a,b){var c=this;return b}uC.D="internal.enableAutoEventOnHistoryChange";var vC=["http://","https://","javascript:","file://"];
function zC(a,b){var c=this;return b}zC.D="internal.enableAutoEventOnLinkClick";var AC,BC;
function MC(a,b){var c=this;return b}MC.D="internal.enableAutoEventOnScroll";function NC(a){return function(){if(a.Ac&&a.Dc>=a.Ac)a.yc&&l.clearInterval(a.yc);else{a.Dc++;var b=Ua();cy({event:a.eventName,"gtm.timerId":a.yc,"gtm.timerEventNumber":a.Dc,"gtm.timerInterval":a.interval,"gtm.timerLimit":a.Ac,"gtm.timerStartTime":a.Ve,"gtm.timerCurrentTime":b,"gtm.timerElapsedTime":b-a.Ve,"gtm.triggers":a.di})}}}
function OC(a,b){
return b}OC.D="internal.enableAutoEventOnTimer";var xc=ca(["data-gtm-yt-inspected-"]),PC=["www.youtube.com","www.youtube-nocookie.com"],QC,RC=!1;
function aD(a,b){var c=this;return b}aD.D="internal.enableAutoEventOnYouTubeActivity";var bD;function cD(a){var b=!1;return b}cD.D="internal.evaluateMatchingRules";var GD=function(){var a=!0;Zm(7)&&Zm(9)&&Zm(10)||(a=!1);return a};
var KD=function(a,b){if(!b.isGtmEvent){var c=T(b,N.g.nb),d=T(b,N.g.xb),e=T(b,c);if(void 0===e){var f=void 0;HD.hasOwnProperty(c)?f=HD[c]:ID.hasOwnProperty(c)&&(f=ID[c]);1===f&&(f=JD(c));k(f)?Dv()(function(){var g=Dv().getByName(a).get(f);d(g)}):d(void 0)}else d(e)}},LD=function(a,b){var c=a[N.g.Pb],d=b+".",e=a[N.g.W]||"",f=void 0===c?!!a.use_anchor:"fragment"===c,g=!!a[N.g.Ab];e=String(e).replace(/\s+/g,"").split(",");var h=Dv();h(d+"require","linker");h(d+"linker:autoLink",e,f,g)},PD=function(a,
b,c){if(Hj()||R(23))if(!c.isGtmEvent||!MD[a]){var d=!Uj(N.g.R),e=function(f){var g,h,m=Dv(),n=ND(b,"",c),p,q=n.createOnlyFields._useUp;if(c.isGtmEvent||OD(b,n.createOnlyFields)){c.isGtmEvent&&(g="gtm"+Gi(),h=n.createOnlyFields,n.gtmTrackerName&&(h.name=g));m(function(){var t=m.getByName(b);t&&(p=t.get("clientId"));c.isGtmEvent||m.remove(b)});m("create",a,c.isGtmEvent?h:n.createOnlyFields);d&&Uj(N.g.R)&&(d=!1,m(function(){var t=Dv().getByName(c.isGtmEvent?g:b);!t||t.get("clientId")==p&&q||(c.isGtmEvent?(n.fieldsToSet["&gcu"]="1",n.fieldsToSet["&sst.gcut"]=ji[f]):(n.fieldsToSend["&gcu"]="1",n.fieldsToSend["&sst.gcut"]=ji[f]),t.set(n.fieldsToSet),c.isGtmEvent?t.send("pageview"):t.send("pageview",n.fieldsToSend))}));c.isGtmEvent&&m(function(){m.remove(g)})}};Wj(function(){return e(N.g.R)},N.g.R);Wj(function(){return e(N.g.J)},
N.g.J);c.isGtmEvent&&(MD[a]=!0)}},QD=function(a,b){vk()&&b&&(a[N.g.lb]=b)},ZD=function(a,b,c){function d(){var P=T(c,N.g.Tc);h(function(){if(!c.isGtmEvent&&nb(P)){var S=u.fieldsToSend,Y=m().getByName(n),V;for(V in P)if(P.hasOwnProperty(V)&&/^(dimension|metric)\d+$/.test(V)&&void 0!=P[V]){var U=Y.get(JD(P[V]));RD(S,V,U)}}})}function e(){if(u.displayfeatures){var P="_dc_gtm_"+f.replace(/[^A-Za-z0-9-]/g,"");p("require","displayfeatures",void 0,{cookieName:P})}}var f=a,g,h=c.isGtmEvent?Fv(T(c,"gaFunctionName")):
Fv();if(Fa(h)){var m=Dv,n;c.isGtmEvent?n=T(c,"name")||T(c,"gtmTrackerName"):n="gtag_"+f.split("-").join("_");var p=function(P){var S=[].slice.call(arguments,0);S[0]=n?n+"."+S[0]:""+S[0];h.apply(window,S)},q=function(P){var S=function(da,Ba){for(var na=0;Ba&&na<Ba.length;na++)p(da,Ba[na])},Y=c.isGtmEvent,V=Y?SD(u):TD(b,c);if(V){var U={};QD(U,P);p("require","ec","ec.js",U);Y&&V.kh&&p("set","&cu",V.kh);var ja=V.action;if(Y||"impressions"===ja)if(S("ec:addImpression",V.Mj),!Y)return;if("promo_click"===
ja||"promo_view"===ja||Y&&V.Te){var ia=V.Te;S("ec:addPromo",ia);if(ia&&0<ia.length&&"promo_click"===ja){Y?p("ec:setAction",ja,V.pb):p("ec:setAction",ja);return}if(!Y)return}"promo_view"!==ja&&"impressions"!==ja&&(S("ec:addProduct",V.Gc),p("ec:setAction",ja,V.pb))}},r=function(P){if(P){var S={};if(nb(P))for(var Y in UD)UD.hasOwnProperty(Y)&&VD(UD[Y],Y,P[Y],S);QD(S,y);p("require","linkid",S)}},t=function(){if(zn()){}else{var P=
T(c,N.g.Si);P&&(p("require",P,{dataLayer:oi.fa}),p("require","render"))}},u=ND(n,b,c),v=function(P,S,Y){Y&&(S=""+S);u.fieldsToSend[P]=S};!c.isGtmEvent&&OD(n,u.createOnlyFields)&&(h(function(){m()&&m().remove(n)}),WD[n]=!1);h("create",f,u.createOnlyFields);var w=c.isGtmEvent&&u.fieldsToSet[N.g.lb]&&R(82);if(!c.isGtmEvent&&u.createOnlyFields[N.g.lb]||w){var x=uk()?tk(c.isGtmEvent?u.fieldsToSet[N.g.lb]:u.createOnlyFields[N.g.lb],"/analytics.js"):void 0;x&&(g=x)}var y=c.isGtmEvent?u.fieldsToSet[N.g.lb]:
u.createOnlyFields[N.g.lb];if(y){var A=c.isGtmEvent?u.fieldsToSet[N.g.Od]:u.createOnlyFields[N.g.Od];A&&!WD[n]&&(WD[n]=!0,h(Iv(n,A)))}c.isGtmEvent?u.enableRecaptcha&&p("require","recaptcha","recaptcha.js"):(d(),r(u.linkAttribution));var B=u[N.g.Ia];B&&B[N.g.W]&&LD(B,n);p("set",u.fieldsToSet);if(c.isGtmEvent){if(u.enableLinkId){var D={};QD(D,y);p("require","linkid","linkid.js",D)}PD(f,n,c)}if(b===N.g.mc)if(c.isGtmEvent){e();if(u.remarketingLists){var G="_dc_gtm_"+f.replace(/[^A-Za-z0-9-]/g,"");p("require",
"adfeatures",{cookieName:G})}q(y);p("send","pageview");u.createOnlyFields._useUp&&Gv(n+".")}else t(),p("send","pageview",u.fieldsToSend);else b===N.g.ka?(t(),vq(f,c),T(c,N.g.ob)&&(kp(["aw","dc"]),Gv(n+".")),mp(["aw","dc"]),0!=u.sendPageView&&p("send","pageview",u.fieldsToSend),PD(f,n,c)):b===N.g.Pa?KD(n,c):"screen_view"===b?p("send","screenview",u.fieldsToSend):"timing_complete"===b?(u.fieldsToSend.hitType="timing",v("timingCategory",u.eventCategory,!0),c.isGtmEvent?v("timingVar",u.timingVar,!0):
v("timingVar",u.name,!0),v("timingValue",Pa(u.value)),void 0!==u.eventLabel&&v("timingLabel",u.eventLabel,!0),p("send",u.fieldsToSend)):"exception"===b?p("send","exception",u.fieldsToSend):""===b&&c.isGtmEvent||("track_social"===b&&c.isGtmEvent?(u.fieldsToSend.hitType="social",v("socialNetwork",u.socialNetwork,!0),v("socialAction",u.socialAction,!0),v("socialTarget",u.socialTarget,!0)):((c.isGtmEvent||XD[b])&&q(y),c.isGtmEvent&&e(),u.fieldsToSend.hitType="event",v("eventCategory",u.eventCategory,
!0),v("eventAction",u.eventAction||b,!0),void 0!==u.eventLabel&&v("eventLabel",u.eventLabel,!0),void 0!==u.value&&v("eventValue",Pa(u.value))),p("send",u.fieldsToSend));var H=g&&R(82)&&!c.eventMetadata.suppress_script_load;if(!YD&&(!c.isGtmEvent||H)){g=g||"https://www.google-analytics.com/analytics.js";YD=!0;var E=function(){c.onFailure()},O=function(){m().loaded||E()};zn()?F(O):Jc(g,O,E)}}else F(c.onFailure)},$D=function(a,b,c,d){Xj(function(){ZD(a,b,d)},[N.g.R,N.g.J])},bE=function(a){function b(e){function f(h,
m){for(var n=0;n<m.length;n++){var p=m[n];if(e[p]){g[h]=e[p];break}}}var g=z(e);f("id",["id","item_id","promotion_id"]);f("name",["name","item_name","promotion_name"]);f("brand",["brand","item_brand"]);f("variant",["variant","item_variant"]);f("list",["list_name","item_list_name"]);f("position",["list_position","creative_slot","index"]);(function(){if(e.category)g.category=e.category;else{for(var h="",m=0;m<aE.length;m++)void 0!==e[aE[m]]&&(h&&(h+="/"),h+=e[aE[m]]);h&&(g.category=h)}})();f("listPosition",
["list_position"]);f("creative",["creative_name"]);f("list",["list_name"]);f("position",["list_position","creative_slot"]);return g}for(var c=[],d=0;a&&d<a.length;d++)a[d]&&nb(a[d])&&c.push(b(a[d]));return c.length?c:void 0},cE=function(a){return Uj(a)},dE=!1;var YD,WD={},MD={},eE={},fE=Object.freeze((eE.page_hostname=1,eE[N.g.ia]=1,eE[N.g.hb]=1,eE[N.g.jb]=1,eE[N.g.Ra]=1,eE[N.g.kb]=1,eE[N.g.nc]=
1,eE[N.g.Sc]=1,eE[N.g.Wa]=1,eE[N.g.oc]=1,eE[N.g.za]=1,eE[N.g.dd]=1,eE[N.g.Ja]=1,eE[N.g.Bb]=1,eE)),gE={},HD=Object.freeze((gE.client_storage="storage",gE.sample_rate=1,gE.site_speed_sample_rate=1,gE.store_gac=1,gE.use_amp_client_id=1,gE[N.g.vb]=1,gE[N.g.xa]="storeGac",gE[N.g.jb]=1,gE[N.g.Ra]=1,gE[N.g.kb]=1,gE[N.g.nc]=1,gE[N.g.Sc]=1,gE[N.g.oc]=1,gE)),hE={},iE=Object.freeze((hE._cs=1,hE._useUp=1,hE.allowAnchor=1,hE.allowLinker=1,hE.alwaysSendReferrer=1,hE.clientId=1,hE.cookieDomain=1,hE.cookieExpires=
1,hE.cookieFlags=1,hE.cookieName=1,hE.cookiePath=1,hE.cookieUpdate=1,hE.legacyCookieDomain=1,hE.legacyHistoryImport=1,hE.name=1,hE.sampleRate=1,hE.siteSpeedSampleRate=1,hE.storage=1,hE.storeGac=1,hE.useAmpClientId=1,hE._cd2l=1,hE)),jE=Object.freeze({anonymize_ip:1}),kE={},ID=Object.freeze((kE.campaign={content:"campaignContent",id:"campaignId",medium:"campaignMedium",name:"campaignName",source:"campaignSource",term:"campaignKeyword"},kE.app_id=1,kE.app_installer_id=1,kE.app_name=1,kE.app_version=
1,kE.description="exDescription",kE.fatal="exFatal",kE.language=1,kE.page_hostname="hostname",kE.transport_type="transport",kE[N.g.ya]="currencyCode",kE[N.g.Hg]=1,kE[N.g.za]="location",kE[N.g.dd]="page",kE[N.g.Ja]="referrer",kE[N.g.Bb]="title",kE[N.g.uf]=1,kE[N.g.Sa]=1,kE)),lE={},mE=Object.freeze((lE.content_id=1,lE.event_action=1,lE.event_category=1,lE.event_label=1,lE.link_attribution=1,lE.name=1,lE[N.g.Ia]=1,lE[N.g.Gg]=1,lE[N.g.Na]=1,lE[N.g.ja]=1,lE)),nE=Object.freeze({displayfeatures:1,enableLinkId:1,
enableRecaptcha:1,eventAction:1,eventCategory:1,eventLabel:1,gaFunctionName:1,gtmEcommerceData:1,gtmTrackerName:1,linker:1,remarketingLists:1,socialAction:1,socialNetwork:1,socialTarget:1,timingVar:1,value:1}),aE=Object.freeze(["item_category","item_category2","item_category3","item_category4","item_category5"]),oE={},UD=Object.freeze((oE.levels=1,oE[N.g.Ra]="duration",oE[N.g.nc]=1,oE)),pE={},qE=Object.freeze((pE.anonymize_ip=1,pE.fatal=1,pE.send_page_view=1,pE.store_gac=1,pE.use_amp_client_id=1,
pE[N.g.xa]=1,pE[N.g.Hg]=1,pE)),VD=function(a,b,c,d){if(void 0!==c)if(qE[b]&&(c=Qa(c)),"anonymize_ip"!==b||c||(c=void 0),1===a)d[JD(b)]=c;else if(k(a))d[a]=c;else for(var e in a)a.hasOwnProperty(e)&&void 0!==c[e]&&(d[a[e]]=c[e])},JD=function(a){return a&&k(a)?a.replace(/(_[a-z])/g,function(b){return b[1].toUpperCase()}):a},rE={},XD=Object.freeze((rE.checkout_progress=1,rE.select_content=1,rE.set_checkout_option=1,rE[N.g.hc]=1,rE[N.g.ic]=1,rE[N.g.Ib]=1,rE[N.g.jc]=1,rE[N.g.eb]=1,rE[N.g.ub]=1,rE[N.g.fb]=
1,rE[N.g.wa]=1,rE[N.g.kc]=1,rE[N.g.Ga]=1,rE)),sE={},tE=Object.freeze((sE.checkout_progress=1,sE.set_checkout_option=1,sE[N.g.jg]=1,sE[N.g.kg]=1,sE[N.g.hc]=1,sE[N.g.ic]=1,sE[N.g.lg]=1,sE[N.g.Ib]=1,sE[N.g.wa]=1,sE[N.g.kc]=1,sE[N.g.mg]=1,sE)),uE={},vE=Object.freeze((uE.generate_lead=1,uE.login=1,uE.search=1,uE.select_content=1,uE.share=1,uE.sign_up=1,uE.view_search_results=1,uE[N.g.jc]=1,uE[N.g.eb]=1,uE[N.g.ub]=1,uE[N.g.fb]=1,uE[N.g.Ga]=1,uE)),wE=function(a){var b="general";tE[a]?b="ecommerce":vE[a]?
b="engagement":"exception"===a&&(b="error");return b},xE={},yE=Object.freeze((xE.view_search_results=1,xE[N.g.eb]=1,xE[N.g.fb]=1,xE[N.g.Ga]=1,xE)),RD=function(a,b,c){a.hasOwnProperty(b)||(a[b]=c)},zE=function(a){if(Ha(a)){for(var b=[],c=0;c<a.length;c++){var d=a[c];if(void 0!=d){var e=d.id,f=d.variant;void 0!=e&&void 0!=f&&b.push(String(e)+"."+String(f))}}return 0<b.length?b.join("!"):void 0}},ND=function(a,b,c){var d=function(P){return T(c,P)},e={},f={},g={},h={},m=zE(d(N.g.Li));!c.isGtmEvent&&m&&
RD(f,"exp",m);g["&gtm"]=Bn(c.eventMetadata.source_canonical_id,!0);c.isGtmEvent||(g._no_slc=!0);Hj()&&(h._cs=cE);var n=d(N.g.Tc);if(!c.isGtmEvent&&nb(n))for(var p in n)if(n.hasOwnProperty(p)&&/^(dimension|metric)\d+$/.test(p)&&void 0!=n[p]){var q=d(String(n[p]));void 0!==q&&RD(f,p,q)}for(var r=!c.isGtmEvent,t=Il(c),u=0;u<t.length;++u){var v=t[u];if(c.isGtmEvent){var w=d(v);nE.hasOwnProperty(v)?e[v]=w:iE.hasOwnProperty(v)?h[v]=w:g[v]=w}else{var x=void 0;x=v!==N.g.ba?d(v):Jl(c,v);if(mE.hasOwnProperty(v))VD(mE[v],
v,x,e);else if(jE.hasOwnProperty(v))VD(jE[v],v,x,g);else if(ID.hasOwnProperty(v))VD(ID[v],v,x,f);else if(HD.hasOwnProperty(v))VD(HD[v],v,x,h);else if(/^(dimension|metric|content_group)\d+$/.test(v))VD(1,v,x,f);else if(v===N.g.ba){if(!dE){var y=cb(x);y&&(f["&did"]=y)}var A=void 0,B=void 0;b===N.g.ka?A=cb(Jl(c,v),"."):(A=cb(Jl(c,v,1),"."),B=cb(Jl(c,v,2),"."));A&&(f["&gdid"]=A);B&&(f["&edid"]=B)}else v===N.g.Wa&&0>t.indexOf(N.g.nc)&&(h.cookieName=x+"_ga");R(21)&&fE[v]&&(c.C.hasOwnProperty(v)||b===N.g.ka&&
c.h.hasOwnProperty(v))&&(r=!1)}}R(21)&&r&&(f["&jsscut"]="1");!1!==d(N.g.cf)&&!1!==d(N.g.hb)&&GD()||(g.allowAdFeatures=!1);dn(c)?R(25)&&(g.allowAdPersonalizationSignals=!0):g.allowAdPersonalizationSignals=!1;!c.isGtmEvent&&d(N.g.ob)&&(h._useUp=!0);if(c.isGtmEvent){h.name=h.name||e.gtmTrackerName;var D=g.hitCallback;g.hitCallback=function(){Fa(D)&&D();c.onSuccess()}}else{RD(h,"cookieDomain","auto");RD(g,"forceSSL",!0);RD(e,"eventCategory",wE(b));yE[b]&&RD(f,"nonInteraction",!0);"login"===b||"sign_up"===
b||"share"===b?RD(e,"eventLabel",d(N.g.Gg)):"search"===b||"view_search_results"===b?RD(e,"eventLabel",d(N.g.Xi)):"select_content"===b&&RD(e,"eventLabel",d(N.g.Fi));var G=e[N.g.Ia]||{},H=G[N.g.uc];H||0!=H&&G[N.g.W]?h.allowLinker=!0:!1===H&&RD(h,"useAmpClientId",!1);f.hitCallback=c.onSuccess;h.name=a}en()&&(g["&gcs"]=fn());g["&gcd"]=un(c);Hj()&&(Uj(N.g.R)||(h.storage="none"),Uj(N.g.J)||(g.allowAdFeatures=!1,h.storeGac=!1));xn()&&(g["&dma_cps"]=vn());g["&dma"]=wn();Jm(Rm())&&(g["&tcfd"]=yn());Ii.h&&
(g["&tag_exp"]=Ii.h);var E=wk(c)||d(N.g.lb),O=d(N.g.Od);E&&(c.isGtmEvent||(h[N.g.lb]=E),h._cd2l=!0);O&&!c.isGtmEvent&&(h[N.g.Od]=O);e.fieldsToSend=f;e.fieldsToSet=g;e.createOnlyFields=h;return e},SD=function(a){var b=a.gtmEcommerceData;if(!b)return null;var c={};b.currencyCode&&(c.kh=b.currencyCode);if(b.impressions){c.action="impressions";var d=b.impressions;c.Mj="impressions"===b.translateIfKeyEquals?bE(d):d}if(b.promoView){c.action="promo_view";var e=b.promoView.promotions;c.Te="promoView"===b.translateIfKeyEquals?
bE(e):e}if(b.promoClick){c.action="promo_click";var f=b.promoClick.promotions;c.Te="promoClick"===b.translateIfKeyEquals?bE(f):f;c.pb=b.promoClick.actionField;return c}for(var g in b)if(b.hasOwnProperty(g)&&"translateIfKeyEquals"!==g&&"impressions"!==g&&"promoView"!==g&&"promoClick"!==g&&"currencyCode"!==g){c.action=g;var h=b[g].products;c.Gc="products"===b.translateIfKeyEquals?bE(h):h;c.pb=b[g].actionField;break}return Object.keys(c).length?c:null},TD=function(a,b){function c(u){return{id:d(N.g.Aa),
affiliation:d(N.g.rg),revenue:d(N.g.ja),tax:d(N.g.jf),shipping:d(N.g.Wc),coupon:d(N.g.sg),list:d(N.g.hf)||d(N.g.Vc)||u}}for(var d=function(u){return T(b,u)},e=d(N.g.Z),f,g=0;e&&g<e.length&&!(f=e[g][N.g.hf]||e[g][N.g.Vc]);g++);var h=d(N.g.Tc);if(nb(h))for(var m=0;e&&m<e.length;++m){var n=e[m],p;for(p in h)h.hasOwnProperty(p)&&/^(dimension|metric)\d+$/.test(p)&&void 0!=h[p]&&RD(n,p,n[h[p]])}var q=null,r=d(N.g.Ki);if(a===N.g.wa||a===N.g.kc)q={action:a,pb:c(),Gc:bE(e)};else if(a===N.g.hc)q={action:"add",
pb:c(),Gc:bE(e)};else if(a===N.g.ic)q={action:"remove",pb:c(),Gc:bE(e)};else if(a===N.g.Ga)q={action:"detail",pb:c(f),Gc:bE(e)};else if(a===N.g.eb)q={action:"impressions",Mj:bE(e)};else if(a===N.g.fb)q={action:"promo_view",Te:bE(r)||bE(e)};else if("select_content"===a&&r&&0<r.length||a===N.g.ub)q={action:"promo_click",Te:bE(r)||bE(e)};else if("select_content"===a||a===N.g.jc)q={action:"click",pb:{list:d(N.g.hf)||d(N.g.Vc)||f},Gc:bE(e)};else if(a===N.g.Ib||"checkout_progress"===a){var t={step:a===
N.g.Ib?1:d(N.g.ff),option:d(N.g.Hd)};q={action:"checkout",Gc:bE(e),pb:z(c(),t)}}else"set_checkout_option"===a&&(q={action:"checkout_option",pb:{step:d(N.g.ff),option:d(N.g.Hd)}});q&&(q.kh=d(N.g.ya));return q},AE={},OD=function(a,b){var c=AE[a];AE[a]=z(b);if(!c)return!1;for(var d in b)if(b.hasOwnProperty(d)&&b[d]!==c[d])return!0;for(var e in c)if(c.hasOwnProperty(e)&&c[e]!==b[e])return!0;return!1};function BE(a,b,c,d){}BE.D="internal.executeEventProcessor";function CE(a){var b=void 0;return ld(b,this.h,1)}CE.D="internal.executeJavascriptString";var DE=function(a){var b;return b};function EE(){var a=new sb;L(this,"read_container_data"),a.set("containerId",'UA-167286421-1'),a.set("version",'1'),a.set("environmentName",''),a.set("debugMode",Zf),a.set("previewMode",ag),a.set("environmentMode",$f),a.set("firstPartyServing",uk()),a.set("containerUrl",Dc),a.Eb();return a}EE.O="getContainerVersion";function FE(a,b){b=void 0===b?!0:b;var c;return c}FE.O="getCookieValues";function GE(){return bj()}GE.D="internal.getCountryCode";function HE(){var a=[];return ld(a)}HE.D="internal.getDestinationIds";function IE(a,b){var c=null;return c}IE.D="internal.getElementAttribute";function JE(a){var b=null;return b}JE.D="internal.getElementById";function KE(a){var b="";return b}KE.D="internal.getElementInnerText";function LE(a,b){var c=null;return c}LE.D="internal.getElementProperty";function ME(a){var b;return b}ME.D="internal.getElementValue";function NE(a){var b=0;return b}NE.D="internal.getElementVisibilityRatio";function OE(a){var b=null;return b}OE.D="internal.getElementsByCssSelector";
function PE(a){var b=void 0;return b}PE.D="internal.getEventData";var QE={};QE.enableAWFledge=R(6);QE.enableAdsConversionValidation=R(19);QE.enableAutoPiiOnPhoneAndAddress=R(26);QE.enableCachedEcommerceData=R(80);QE.enableCcdPreAutoPiiDetection=R(11);QE.enableCloudRecommentationsErrorLogging=R(66);QE.enableCloudRecommentationsSchemaIngestion=R(65);QE.enableCloudRetailInjectPurchaseMetadata=R(64);QE.enableCloudRetailLogging=R(63);QE.enableCloudRetailPageCategories=R(16);QE.enableConsentDisclosureActivity=R(31);QE.enableDCFledge=R(7);QE.enableDecodeUri=R(49);
QE.enableDeferAllEnhancedMeasurement=R(33);QE.enableDirectTagLoadingInGoogleTag=R(58);QE.enableEuidAutoMode=R(10);QE.enableFormSkipValidation=R(27);QE.enableUrlDecodeEventUsage=R(43);QE.enableV1HistoryEventInApi=R(71);QE.enableZoneConfigInChildContainers=R(93);QE.loadContainerForGtmEventTags=R(30);QE.useEnableAutoEventOnFormApis=R(20);QE.autoPiiEligible=gj();function RE(){return ld(QE)}RE.D="internal.getFlags";function SE(){return new id(Ly)}SE.D="internal.getHtmlId";function TE(a,b){var c;return c}TE.D="internal.getProductSettingsParameter";function UE(a,b){var c;return c}UE.O="getQueryParameters";function VE(a,b){var c;return c}VE.O="getReferrerQueryParameters";function WE(a){var b="";return b}WE.O="getReferrerUrl";function XE(){return cj()}XE.D="internal.getRegionCode";function YE(a,b){var c;return c}YE.D="internal.getRemoteConfigParameter";function ZE(a){var b="";return b}ZE.O="getUrl";function $E(){L(this,"get_user_agent");return Cc.userAgent}$E.O="getUserAgent";function fF(){return l.gaGlobal=l.gaGlobal||{}}var gF=function(){var a=fF();a.hid=a.hid||Ja();return a.hid},hF=function(a,b){var c=fF();if(void 0==c.vid||b&&!c.from_cookie)c.vid=a,c.from_cookie=b};var PF=function(a){this.s=a;this.C="";this.h=this.s},QF=function(a,b){a.h=b;return a};function RF(a){var b=a.search;return a.protocol+"//"+a.hostname+a.pathname+(b?b+"&richsstsse":"?richsstsse")}function SF(a,b,c){if(a){var d=a||[],e=nb(b)?b:{};if(Array.isArray(d))for(var f=0;f<d.length;f++)c(d[f],e)}};var gG=window,hG=document,iG=function(a){var b=gG._gaUserPrefs;if(b&&b.ioo&&b.ioo()||hG.documentElement.hasAttribute("data-google-analytics-opt-out")||a&&!0===gG["ga-disable-"+a])return!0;try{var c=gG.external;if(c&&c._gaUserPrefs&&"oo"==c._gaUserPrefs)return!0}catch(f){}for(var d=Cn("AMP_TOKEN",String(hG.cookie),!0),e=0;e<d.length;e++)if("$OPT_OUT"==d[e])return!0;return hG.getElementById("__gaOptOutExtension")?!0:!1};function rG(a){Na(a,function(c){"_"===c.charAt(0)&&delete a[c]});var b=a[N.g.Xa]||{};Na(b,function(c){"_"===c.charAt(0)&&delete b[c]})};var zG=function(a,b){};function yG(a,b){var c=function(){};return c}
function AG(a,b,c){};var BG=yG;function DG(a,b,c){var d=this;}DG.D="internal.gtagConfig";function EG(){var a={};return a};
function GG(a,b){}GG.O="gtagSet";function HG(a,b){}HG.O="injectHiddenIframe";function IG(a,b,c,d,e){}IG.D="internal.injectHtml";var MG={};
function OG(a,b,c,d){}var PG=Object.freeze({dl:1,id:1}),QG={};
function RG(a,b,c,d){}OG.O="injectScript";RG.D="internal.injectScript";function SG(a){var b=!0;return b}SG.O="isConsentGranted";function TG(a){var b=!1;return b}TG.D="internal.isEntityInfrastructure";var UG=function(){var a=eh(function(b){this.h.h.log("error",b)});a.O="JSON";return a};function VG(a){var b=void 0;return ld(b)}VG.D="internal.legacyParseUrl";var WG=function(){return!1},XG={getItem:function(a){var b=null;return b},setItem:function(a,
b){return!1},removeItem:function(a){}};function YG(){}YG.O="logToConsole";function ZG(a,b){}ZG.D="internal.mergeRemoteConfig";function $G(a,b,c){c=void 0===c?!0:c;var d=[];return ld(d)}$G.D="internal.parseCookieValuesFromString";function aH(a){var b=void 0;return b}aH.O="parseUrl";function bH(a){}bH.D="internal.processAsNewEvent";function cH(a,b,c){var d;return d}cH.D="internal.pushToDataLayer";function dH(a,b){var c=!1;return c}dH.O="queryPermission";function eH(){var a="";return a}eH.O="readCharacterSet";function fH(){return oi.fa}fH.D="internal.readDataLayerName";function gH(){var a="";return a}gH.O="readTitle";function hH(a,b){var c=this;}hH.D="internal.registerCcdCallback";function iH(a){return!0}
iH.D="internal.registerDestination";var jH=Object.freeze(["config","event","get","set"]);function kH(a,b,c){}kH.D="internal.registerGtagCommandListener";function lH(a,b){var c=!1;return c}lH.D="internal.removeDataLayerEventListener";function mH(a,b){}
mH.D="internal.removeFormData";function nH(){}nH.O="resetDataLayer";function oH(a,b,c,d){}oH.D="internal.sendGtagEvent";function pH(a,b,c){}pH.O="sendPixel";function qH(a,b){}qH.D="internal.setAnchorHref";function rH(a,b,c,d){var e=this;d=void 0===d?!0:d;var f=!1;return f}rH.O="setCookie";function sH(a,b){}sH.D="internal.setCorePlatformServices";function tH(a,b){}tH.D="internal.setDataLayerValue";function uH(a){}uH.O="setDefaultConsentState";function vH(a,b){}vH.D="internal.setDelegatedConsentType";function wH(a,b){}wH.D="internal.setFormAction";function xH(a,b,c){return!1}xH.O="setInWindow";function yH(a,b,c){}yH.D="internal.setProductSettingsParameter";function zH(a,b,c){}zH.D="internal.setRemoteConfigParameter";function AH(a,b){var c=this;}AH.D="internal.setupConversionLinker";function BH(a,b,c,d){var e=this;}BH.O="sha256";function CH(a,b,c){}
CH.D="internal.sortRemoteConfigParameters";var DH={},EH={};DH.O="templateStorage";DH.getItem=function(a){var b=null;return b};
DH.setItem=function(a,b){};
DH.removeItem=function(a){};DH.clear=function(){};function FH(a,b){var c=!1;return c}FH.D="internal.testRegex";var GH=function(a){var b;return b};function HH(a){var b;return b}HH.D="internal.unsiloId";function IH(a){}IH.O="updateConsentState";var JH;function KH(a,b,c){JH=JH||new sh;JH.add(a,b,c)}function LH(a,b){var c=JH=JH||new sh;if(c.s.hasOwnProperty(a))throw"Attempting to add a private function which already exists: "+a+".";if(c.h.hasOwnProperty(a))throw"Attempting to add a private function with an existing API name: "+a+".";c.s[a]=Fa(b)?Lg(a,b):Mg(a,b)}
function MH(){return function(a){var b;var c=JH;if(c.h.hasOwnProperty(a))b=c.get(a,this);else{var d;if(d=c.s.hasOwnProperty(a)){var e=!1,f=this.h.h;if(f){var g=f.ac();if(g){0!==g.indexOf("__cvt_")&&(e=!0);}}else e=!0;d=e}if(d){var h=c.s.hasOwnProperty(a)?c.s[a]:void 0;b=h}else throw Error(a+" is not a valid API name.");}return b}};var NH=function(){var a=function(c){return LH(c.D,c)},b=function(c){return KH(c.O,c)};b(oA);b(uA);b(nB);b(qB);b(rB);b(vB);b(xB);b(AB);b(UG());b(CB);b(EE);b(FE);b(UE);b(VE);b(WE);b(ZE);b(GG);b(HG);b(OG);b(SG);b(YG);b(aH);b(dH);b(eH);b(gH);b(pH);b(rH);b(uH);b(xH);b(BH);b(DH);b(IH);KH("Math",Rg());KH("Object",qh);KH("TestHelper",uh());KH("assertApi",Ng);KH("assertThat",Og);KH("decodeUri",Sg);KH("decodeUriComponent",Tg);KH("encodeUri",Ug);KH("encodeUriComponent",Vg);KH("fail",ah);KH("generateRandom",
bh);KH("getTimestamp",ch);KH("getTimestampMillis",ch);KH("getType",dh);KH("makeInteger",fh);KH("makeNumber",gh);KH("makeString",hh);KH("makeTableMap",mh);KH("mock",ph);KH("fromBase64",DE,!("atob"in l));KH("localStorage",XG,!WG());KH("toBase64",GH,!("btoa"in l));a(rA);a(zA);a(LA);a(SA);a(XA);a(cB);a(lB);a(oB);a(sB);a(tB);a(wB);a(yB);a(zB);a(BB);a(DB);a(EB);a(FB);a(GB);a(HB);a(LB);a(QB);a(RB);a(bC);a(gC);a(lC);a(uC);a(zC);a(MC);a(OC);a(aD);a(Wg);a(cD);a(BE);a(CE);a(GE);a(HE);a(IE);a(JE);a(KE);a(LE);
a(ME);a(NE);a(OE);a(PE);a(RE);a(SE);a(TE);a(XE);a(YE);a(DG);a(IG);a(RG);a(TG);a(VG);a(aB);a(ZG);a($G);a(bH);a(cH);a(fH);a(hH);a(iH);a(kH);a(lH);a(mH);a(oH);a(qH);a(sH);a(vH);a(wH);a(yH);a(zH);a(CH);a(FH);a(HH);LH("internal.GtagSchema",EG());R(79)&&a(tH);R(89)&&a(AH);return MH()};var mA;function OH(){mA.h.h.M=function(a,b,c){pi.SANDBOXED_JS_SEMAPHORE=pi.SANDBOXED_JS_SEMAPHORE||0;pi.SANDBOXED_JS_SEMAPHORE++;try{return a.apply(b,c)}finally{pi.SANDBOXED_JS_SEMAPHORE--}}}function PH(a){void 0!==a&&Na(a,function(b,c){for(var d=0;d<c.length;d++){var e=c[d].replace(/^_*/,"");Fi[e]=Fi[e]||[];Fi[e].push(b)}})};var QH=encodeURI,X=encodeURIComponent,RH=function(a,b,c){Mc(a,b,c)},SH=function(a,b){if(!a)return!1;var c=lk(qk(a),"host");if(!c)return!1;for(var d=0;b&&d<b.length;d++){var e=b[d]&&b[d].toLowerCase();if(e){var f=c.length-e.length;0<f&&"."!=e.charAt(0)&&(f--,e="."+e);if(0<=f&&c.indexOf(e,f)==f)return!0}}return!1},TH=function(a,b,c){for(var d={},e=!1,f=0;a&&f<a.length;f++)a[f]&&a[f].hasOwnProperty(b)&&
a[f].hasOwnProperty(c)&&(d[a[f][b]]=a[f][c],e=!0);return e?d:null};var Z={securityGroups:{}};
Z.securityGroups.e=["google"],function(){(function(a){Z.__e=a;Z.__e.m="e";Z.__e.isVendorTemplate=!0;Z.__e.priorityOverride=0;Z.__e.isInfrastructure=!0;Z.__e.runInSiloedMode=!0})(function(a){return String(a.vtp_gtmCachedValues.event)})}();Z.securityGroups.v=["google"],function(){(function(a){Z.__v=a;Z.__v.m="v";Z.__v.isVendorTemplate=!0;Z.__v.priorityOverride=0;Z.__v.isInfrastructure=!0;Z.__v.runInSiloedMode=!1})(function(a){var b=a.vtp_name;if(!b||!b.replace)return!1;var c=zz(b.replace(/\\\./g,"."),a.vtp_dataLayerVersion||1);return void 0!==c?c:a.vtp_defaultValue})}();



Z.securityGroups.rep=["google"],function(){(function(a){Z.__rep=a;Z.__rep.m="rep";Z.__rep.isVendorTemplate=!0;Z.__rep.priorityOverride=0;Z.__rep.isInfrastructure=!1;Z.__rep.runInSiloedMode=!0})(function(a){var b=Ok(a.vtp_containerId),c=dk(b,!0),d;switch(c.prefix){case "AW":d=eD;break;case "DC":d=rD;break;case "GF":d=xD;break;case "HA":d=CD;break;case "UA":d=$D;break;case "MC":d=BG(c,a.vtp_gtmEventId);break;default:F(a.vtp_gtmOnFailure);return}d?(F(a.vtp_gtmOnSuccess),am(b,d),a.vtp_remoteConfig&&fm(b,
a.vtp_remoteConfig||{})):F(a.vtp_gtmOnFailure)})}();







Z.securityGroups.read_container_data=["google"],function(){(function(a){Z.__read_container_data=a;Z.__read_container_data.m="read_container_data";Z.__read_container_data.isVendorTemplate=!0;Z.__read_container_data.priorityOverride=0;Z.__read_container_data.isInfrastructure=!1;Z.__read_container_data.runInSiloedMode=!1})(function(){return{assert:function(){},K:function(){return{}}}})}();







Z.securityGroups.get=["google"],function(){(function(a){Z.__get=a;Z.__get.m="get";Z.__get.isVendorTemplate=!0;Z.__get.priorityOverride=0;Z.__get.isInfrastructure=!1;Z.__get.runInSiloedMode=!1})(function(a){var b=a.vtp_settings,c=b.eventParameters||{},d=String(a.vtp_eventName),e={};e.eventId=a.vtp_gtmEventId;e.priorityId=a.vtp_gtmPriorityId;a.vtp_deferrable&&(e.deferrable=!0);var f=hw(String(b.streamId),d,c);Mw(f,e.eventId,e);a.vtp_gtmOnSuccess()})}();




var oJ={};oJ.dataLayer=Pi;oJ.callback=function(a){Ei.hasOwnProperty(a)&&Fa(Ei[a])&&Ei[a]();delete Ei[a]};oJ.bootstrap=0;oJ._spx=!1;
function pJ(){pi[Lk()]=pi[Lk()]||oJ;Rk();Wk()||Na(Xk(),function(d,e){lv(d,e.transportUrl,e.context);M(92)});Xa(Fi,Z.securityGroups);var a=Nk(Uk()),b,c=null==a?void 0:null==(b=a.context)?void 0:b.source;2!==c&&4!==c&&3!==c||M(142);uf=Kf}
(function(a){function b(){m=C.documentElement.getAttribute("data-tag-assistant-present");ny(m)&&(h=g.Rk)}if(!l["__TAGGY_INSTALLED"]){var c=!1;if(C.referrer){var d=qk(C.referrer);c="cct.google"===kk(d,"host")}if(!c){var e=Fn("googTaggyReferrer");c=e.length&&e[0].length}c&&(l["__TAGGY_INSTALLED"]=!0,Jc("https://cct.google/taggy/agent.js"))}if(zi)a();else{var f=function(u){var v="GTM",w="GTM";vi?(v="OGT",w="GTAG"):zi&&(w=v="OPT");var x=l["google.tagmanager.debugui2.queue"];x||(x=[],
l["google.tagmanager.debugui2.queue"]=x,Jc("https://"+oi.zd+"/debug/bootstrap?id="+Sf.ctid+"&src="+w+"&cond="+u+"&gtm="+Bn()));var y={messageType:"CONTAINER_STARTING",data:{scriptSource:Dc,containerProduct:v,debug:!1,id:Sf.ctid,targetRef:{ctid:Sf.ctid,isDestination:Dk.je},aliases:Fk(),destinations:Ik()}};y.data.resume=function(){a()};oi.pk&&(y.data.initialPublish=!0);x.push(y)},g={Jn:1,Sk:2,jl:3,qk:4,Rk:5},h=void 0,m=void 0,n=lk(l.location,"query",!1,void 0,"gtm_debug");ny(n)&&(h=g.Sk);if(!h&&C.referrer){var p=qk(C.referrer);
"tagassistant.google.com"===kk(p,"host")&&(h=g.jl)}if(!h){var q=Fn("__TAG_ASSISTANT");q.length&&q[0].length&&(h=g.qk)}h||b();if(!h&&oy(m)){var r=function(){if(t)return!0;t=!0;b();h&&Dc?f(h):a()},t=!1;Nc(C,"TADebugSignal",function(){r()},!1);l.setTimeout(function(){r()},200)}else h&&Dc?f(h):a()}})(function(){try{Pk();if(R(15)){}lj().s();Xm();(R(86)||R(87)||R(88))&&
ak();var a=Mk();if(Ak().canonical[a]){var b=pi.zones;b&&b.unregisterChild(Hk());if(R(98))Uu().removeExternalRestrictions(Mk());else{var c=Vu(Mk());c._event&&(c._event.external=[]);c._entity&&(c._entity.external=[])}}else{Ii.h="";Ii.C="";Ii.M="ad_storage|analytics_storage|ad_user_data|ad_personalization";Ii.F="ad_storage|analytics_storage|ad_user_data|ad_personalization";iv();for(var d=data.resource||{},e=d.macros||[],f=0;f<e.length;f++)kf.push(e[f]);for(var g=d.tags||[],h=0;h<g.length;h++)nf.push(g[h]);for(var m=d.predicates||[],n=0;n<m.length;n++)mf.push(m[n]);for(var p=d.rules||
[],q=0;q<p.length;q++){for(var r=p[q],t={},u=0;u<r.length;u++){var v=r[u][0];t[v]=Array.prototype.slice.call(r[u],1);"if"!==v&&"unless"!==v||tf(t[v])}lf.push(t)}pf=Z;qf=dA;Mf=new Vf;var w=data.sandboxed_scripts,x=data.security_groups;a:{var y=data.runtime||[],A=data.runtime_lines;mA=new He;OH();jf=lA();var B=mA,D=NH(),G=new dd("require",D);G.Eb();B.h.h.set("require",G);for(var H=[],E=0;E<y.length;E++){var O=y[E];if(!Ha(O)||3>O.length){if(0===O.length)continue;break a}A&&A[E]&&A[E].length&&Df(O,A[E]);
try{mA.execute(O),R(28)&&fl&&50===O[0]&&H.push(O[1])}catch(Kb){}}R(28)&&(vf=H)}if(void 0!==w)for(var P=["sandboxedScripts"],S=0;S<w.length;S++){var Y=w[S].replace(/^_*/,"");Fi[Y]=P}PH(x);pJ();if(R(23)&&!zi)for(var V=ej()?Ji(Ii.F):Ji(Ii.M),U=0;U<Oj.length;U++){var ja=Oj[U],ia=ja,da=V[ja]?"granted":"denied";xj().implicit(ia,da)}my();mv=!1;nv=0;if("interactive"==C.readyState&&!C.createEventObject||"complete"==C.readyState)pv();else{Nc(C,"DOMContentLoaded",pv);Nc(C,"readystatechange",pv);if(C.createEventObject&&
C.documentElement.doScroll){var Ba=!0;try{Ba=!l.frameElement}catch(Kb){}Ba&&qv()}Nc(l,"load",pv)}Bx=!1;"complete"===C.readyState?Dx():Nc(l,"load",Dx);fl&&(al(tl),l.setInterval(sl,864E5));al(fA);al(Rv);al(Et);al(Zl);al(Yv);al(yl);al(fs);al(wl);R(28)&&al(Uv);R(95)&&(al(gA),al(iA));
Jy();$i(1);Yw();Di=Ua();oJ.bootstrap=Di;if(R(15)){}}}catch(Kb){if($i(4),
fl){var mb=nl(!0,!0);Mc(mb)}}});

})()

this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE=
"parsing failed for ";this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ";this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ";this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed";this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet";this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments";this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time";this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null";
this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL";this.APPEND_ERROR_MESSAGE="chunk is not defined";this.REMOVE_ERROR_MESSAGE="buffer is not defined";this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed";this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported";this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported";this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :";this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}
Object.defineProperty(g,"__esModule",{value:!0});e=e(52);e=new (function(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(c,(e&&e.__esModule?e:{default:e})["default"]),c);g.default=e;m.exports=g.default},{52:52}],52:[function(e,m,g){function c(c,
e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"extend",value:function(c,e){if(c){var b,d=!!e&&e.override;e=!!e&&e.publicOnly;for(b in c)!c.hasOwnProperty(b)||this[b]&&!d||e&&-1===c[b].indexOf("public_")||
(this[b]=c[b])}}}]),k);g.default=e;m.exports=g.default},{}],53:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;a:{var e=Object.getPrototypeOf(c.prototype),h="constructor";var f=this;for(var b=!0;b;){null===e&&(e=Function.prototype);b=Object.getOwnPropertyDescriptor(e,h);if(void 0!==b){if("value"in b){f=b.value;break a}e=b.get;if(void 0===e)break;f=e.call(f);break a}e=Object.getPrototypeOf(e);if(null===e)break;b=!0}f=void 0}f.call(this);
this.ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync";this.BUFFERING_COMPLETED="bufferingCompleted";this.BUFFER_CLEARED="bufferCleared";this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated";this.BYTES_APPENDED="bytesAppended";this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment";this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted";this.CURRENT_TRACK_CHANGED="currentTrackChanged";this.DATA_UPDATE_COMPLETED="dataUpdateCompleted";this.DATA_UPDATE_STARTED="dataUpdateStarted";this.INBAND_EVENTS=
"inbandEvents";this.INITIALIZATION_LOADED="initializationLoaded";this.INIT_FRAGMENT_LOADED="initFragmentLoaded";this.INIT_FRAGMENT_NEEDED="initFragmentNeeded";this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded";this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded";this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted";this.LOADING_COMPLETED="loadingCompleted";this.LOADING_PROGRESS="loadingProgress";this.LOADING_DATA_PROGRESS="loadingDataProgress";this.LOADING_ABANDONED="loadingAborted";this.MANIFEST_UPDATED=
"manifestUpdated";this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded";this.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded";this.QUOTA_EXCEEDED="quotaExceeded";this.REPRESENTATION_UPDATE_STARTED="representationUpdateStarted";this.REPRESENTATION_UPDATE_COMPLETED="representationUpdateCompleted";this.SEGMENTS_LOADED="segmentsLoaded";this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd";this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged";this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted";
this.STREAMS_COMPOSED="streamsComposed";this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted";this.STREAM_COMPLETED="streamCompleted";this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized";this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete";this.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset";this.URL_RESOLUTION_FAILED="urlResolutionFailed";this.VIDEO_CHUNK_RECEIVED="videoChunkReceived";this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated";this.XLINK_ELEMENT_LOADED="xlinkElementLoaded";
this.XLINK_READY="xlinkReady";this.SEGMENTBASE_INIT_REQUEST_NEEDED="segmentBaseInitRequestNeeded";this.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED="segmentBaseSegmentsListRequestNeeded";this.SEEK_TARGET="seekTarget"}Object.defineProperty(g,"__esModule",{value:!0});e=e(55);e=(function(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});
e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(c,(e&&e.__esModule?e:{default:e})["default"]),c);g.default=e;m.exports=g.default},{55:55}],54:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;a:{var e=Object.getPrototypeOf(c.prototype),h="constructor";var f=this;for(var b=!0;b;){null===e&&(e=Function.prototype);b=Object.getOwnPropertyDescriptor(e,h);if(void 0!==b){if("value"in b){f=b.value;break a}e=b.get;if(void 0===
e)break;f=e.call(f);break a}e=Object.getPrototypeOf(e);if(null===e)break;b=!0}f=void 0}f.apply(this,arguments)}Object.defineProperty(g,"__esModule",{value:!0});e=e(53);e=new (function(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(c,(e&&e.__esModule?
e:{default:e})["default"]),c);g.default=e;m.exports=g.default},{53:53}],55:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"extend",value:function(c,e){if(c){var b,
d=!!e&&e.override;e=!!e&&e.publicOnly;for(b in c)!c.hasOwnProperty(b)||this[b]&&!d||e&&-1===c[b].indexOf("public_")||(this[b]=c[b])}}}]),k);g.default=e;m.exports=g.default},{}],56:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(b,d,c){var f;b=x.getAdaptationsForType(K[0].mpd.manifest,b,d);if(!b||0===b.length)return null;if(1<b.length&&c){var g=e(c,d);if(L[c.id]&&L[c.id][d])for(var l=0,k=b.length;l<k;l++)if(function(b,d){if(!b||!d)return!1;var c=b.id===d.id,
e=b.viewpoint===d.viewpoint,f=b.lang===d.lang,h=b.roles.toString()===d.roles.toString(),g=b.accessibility.toString()===d.accessibility.toString();d=b.audioChannelConfiguration.toString()===d.audioChannelConfiguration.toString();return c&&e&&f&&h&&g&&d}(L[c.id][d],g[l]))return b[l];l=0;for(k=b.length;l<k;l++)if(f=b[l],x.getRolesForAdaptation(f).filter(function(b){return b.value===h.default.MAIN})[0])return b[l]}return b[0]}function e(b,d,c){var e,f;var h=K;var l=[],k,n,p=void 0;if(c)B(),h=g(c);else{if(!(0<
K.length))return l;c=K[0].mpd.manifest}(h=A(b,h))&&(p=h.id);var u=x.getAdaptationsForType(c,b?b.index:null,d!==N.EMBEDDED_TEXT?d:N.VIDEO);if(!u||0===u.length)return l;H[p]=H[p]||x.getAdaptationsForPeriod(h);var t=0;for(h=u.length;t<h;t++)if(e=u[t],f=x.getIndexForAdaptation(e,c,b.index),k=G(H[p][f]),d===N.EMBEDDED_TEXT){var q=k.accessibility.length;for(n=0;n<q;n++)if(k){var w=k.accessibility[n];if(0===w.indexOf("cea-608:"))if(w=w.substring(8).split(";"),"CC"===w[0].substring(0,2))for(n=0;n<w.length;n++)D(k=
k||G.call(this,H[p][f]),w[n].substring(0,3),w[n].substring(4)),l.push(k),k=null;else for(n=0;n<w.length;n++)D(k=k||G.call(this,H[p][f]),"CC"+(n+1),w[n]),l.push(k),k=null;else 0===w.indexOf("cea-608")&&(D(k,N.CC1,"eng"),l.push(k),k=null)}}else d===N.IMAGE?(k.type=N.IMAGE,l.push(k)):k&&l.push(k);return l}function g(b){b=k(b);return x.getRegularPeriods(b)}function k(b){b=J(b);return x.getMpd(b)}function n(){K=[];H={};L={}}function J(b){return b||(0<K.length?K[0].mpd.manifest:null)}function m(b){return b&&
b.streamInfo&&void 0!==b.streamInfo.id&&H[b.streamInfo.id]?H[b.streamInfo.id][b.index]:null}function A(b,d){for(var c=d.length,e=0;e<c;e++){var f=d[e];if(b&&b.id===f.id)return f}return null}function G(d){if(!d)return null;var c,e=new b.default,f=d.period.mpd.manifest.Period_asArray[d.period.index].AdaptationSet_asArray[d.index];return e.id=d.id,e.index=d.index,e.type=d.type,e.streamInfo=I(d.period),e.representationCount=x.getRepresentationCount(f),e.labels=x.getLabelsForAdaptation(f),e.lang=x.getLanguageForAdaptation(f),
c=x.getViewpointForAdaptation(f),e.viewpoint=c?c.value:void 0,e.accessibility=x.getAccessibilityForAdaptation(f).map(function(b){var d=b.value,c=d;return b.schemeIdUri&&0<=b.schemeIdUri.search("cea-608")&&void 0!==Z&&(c=d?"cea-608:"+d:"cea-608",e.embeddedCaptions=!0),c}),e.audioChannelConfiguration=x.getAudioChannelConfigurationForAdaptation(f).map(function(b){return b.value}),0===e.audioChannelConfiguration.length&&Array.isArray(f.Representation_asArray)&&0<f.Representation_asArray.length&&(e.audioChannelConfiguration=
x.getAudioChannelConfigurationForRepresentation(f.Representation_asArray[0]).map(function(b){return b.value})),e.roles=x.getRolesForAdaptation(f).map(function(b){return b.value}),e.codec=x.getCodec(f),e.mimeType=x.getMimeType(f),e.contentProtection=x.getContentProtectionData(f),e.bitrateList=x.getBitrateListForAdaptation(f),e.contentProtection&&e.contentProtection.forEach(function(b){b.KID=x.getKID(b)}),e.isText=x.getIsTextTrack(e.mimeType),e.supplementalProperties=x.getSupplementalPropperties(f),
e}function D(b,d,c){b.id=d;b.index=100+parseInt(d.substring(2,3));b.type=N.EMBEDDED_TEXT;b.codec="cea-608-in-SEI";b.isText=!0;b.isEmbedded=!0;b.lang=c;b.roles=["caption"]}function I(b){var c,e,f=new d.default;return f.id=b.id,f.index=b.index,f.start=b.start,f.duration=b.duration,f.manifestInfo=(c=b.mpd,(e=new l.default).DVRWindowSize=c.timeShiftBufferDepth,e.loadedTime=c.manifest.loadedTime,e.availableFrom=c.availabilityStartTime,e.minBufferTime=c.manifest.minBufferTime,e.maxFragmentDuration=c.maxSegmentDuration,
e.duration=x.getDuration(c.manifest),e.isDynamic=x.getIsDynamic(c.manifest),e.serviceDescriptions=x.getServiceDescriptions(c.manifest),e.protocol=c.manifest.protocol,e),f.isLast=1===b.mpd.manifest.Period_asArray.length||1>Math.abs(f.start+f.duration-f.manifestInfo.duration),f}function B(){if(!N)throw Error("setConfig function has to be called previously");}function M(b){return 0<K.length?K[0].mpd.manifest.Period_asArray[b]:null}function C(b,d,c){var e,f,h;if(b)for(b=b.AdaptationSet_asArray,f=0;f<
b.length;f+=1){var g=b[f].Representation_asArray;for(h=0;h<g.length;h+=1)if(d===(e=g[h]).id)return c?h:e}return null}var E,x=void 0,P=void 0,K=void 0,H=void 0,L=void 0,N=void 0,Z=void 0,Q=this.context;return E={getBandwidthForRepresentation:function(b,d){var c=void 0;return(c=C(M(d),b))?c.bandwidth:null},getIndexForRepresentation:function(b,d){d=M(d);b=C(d,b,!0);return null!==b?b:-1},getMaxIndexForBufferType:function(b,d){a:{var c=M(d);d=void 0;var e,f;if(c&&b)for(c=c.AdaptationSet_asArray,f=0;f<
c.length;f+=1)if(d=c[f],e=d.Representation_asArray,x.getIsTypeOf(d,b)){b=e.length;break a}b=-1}return b},convertDataToRepresentationInfo:function(b){if(b){var d=new f.default,c=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index];c=x.getRepresentationFor(b.index,c);return d.id=b.id,d.quality=b.index,d.bandwidth=x.getBandwidth(c),d.DVRWindow=b.segmentAvailabilityRange,d.fragmentDuration=b.segmentDuration||(b.segments&&0<b.segments.length?
b.segments[0].duration:NaN),d.MSETimeOffset=b.MSETimeOffset,d.mediaInfo=G(b.adaptation),d}return null},getDataForMedia:m,getStreamsInfo:function(b,d){var c=[],e=K;if(b&&(B(),e=g(b)),0<e.length)for((!d||d>e.length)&&(d=e.length),b=0;b<d;b++)c.push(I(e[b]));return c},getMediaInfoForType:function(b,d){if(0===K.length||!b)return null;var e=A(b,K);if(!e)return null;var f=e.id;return H[f]=H[f]||x.getAdaptationsForPeriod(e),(d=c(b.index,d,b))?(b=x.getIndexForAdaptation(d,K[0].mpd.manifest,b.index),G(H[f][b])):
null},getAllMediaInfoForType:e,getAdaptationForType:c,getRealAdaptation:function(b,d){var c=void 0;b=A(b,K);var e=d?d.id:null;return 0<K.length&&b&&(c=e?x.getAdaptationForId(e,K[0].mpd.manifest,b.index):x.getAdaptationForIndex(d?d.index:null,K[0].mpd.manifest,b.index)),c},getRealPeriodByIndex:function(b){return x.getRealPeriodForIndex(b,K[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(b){try{return x.getEssentialPropertiesForRepresentation(b)}catch(U){return[]}},getVoRepresentations:function(b){return b=
m(b),x.getRepresentationsForAdaptation(b)},getEventsFor:function(c,e){var h,g=[];return 0<K.length&&(h=K[0].mpd.manifest,c instanceof d.default?g=x.getEventsForPeriod(A(c,K)):c instanceof b.default?g=x.getEventStreamForAdaptationSet(h,m(c)):c instanceof f.default&&(g=x.getEventStreamForRepresentation(h,e))),g},getEvent:function(b,d,c,e){try{if(!b||!d||isNaN(c)||!e)return null;var f=b.scheme_id_uri,h=b.value;if(!d[f+"/"+h])return null;var g=new p.default,l=b.timescale||1,k=e.adaptation.period.start,
n=d[f+"/"+h],u=isNaN(e.presentationTimeOffset)?isNaN(n.presentationTimeOffset)?0:n.presentationTimeOffset:e.presentationTimeOffset,t=b.presentation_time_delta/l;d=void 0;d=0===b.version?k+c-u+t:k-u+t;f=b.event_duration;k=b.id;u=b.message_data;return g.eventStream=n,g.eventStream.value=h,g.eventStream.timescale=l,g.duration=f,g.id=k,g.calculatedPresentationTime=d,g.messageData=u,g.presentationTimeDelta=t,g}catch(Da){return null}},getMpd:k,setConfig:function(b){b&&(b.constants&&(N=b.constants),b.cea608parser&&
(Z=b.cea608parser),b.errHandler&&x.setConfig({errHandler:b.errHandler}),b.BASE64&&x.setConfig({BASE64:b.BASE64}))},updatePeriods:function(b){if(!b)return null;B();K=g(b);H={}},getIsTextTrack:function(b){return x.getIsTextTrack(b)},getUTCTimingSources:function(){var b=J();return x.getUTCTimingSources(b)},getSuggestedPresentationDelay:function(){return x.getSuggestedPresentationDelay(0<K.length?K[0].mpd:null)},getAvailabilityStartTime:function(b){return b=k(b),x.getAvailabilityStartTime(b)},getIsTypeOf:function(b,
d){return x.getIsTypeOf(b,d)},getIsDynamic:function(b){return b=J(b),x.getIsDynamic(b)},getDuration:function(b){return b=J(b),x.getDuration(b)},getRegularPeriods:g,getLocation:function(b){return x.getLocation(b)},getPatchLocation:function(b){var d=x.getPatchLocation(b),c=x.getPublishTime(b);return!d||!c||d.hasOwnProperty("ttl")&&c&&(b=1E3*parseFloat(d.ttl),c.getTime()+b<=(new Date).getTime())?null:d.__text},getManifestUpdatePeriod:function(b){return x.getManifestUpdatePeriod(b,1>=arguments.length||
void 0===arguments[1]?0:arguments[1])},getPublishTime:function(b){return x.getPublishTime(b)},getIsDVB:function(b){return x.hasProfile(b,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(b){return P.getIsPatch(b)},getBaseURLsFromElement:function(b){return x.getBaseURLsFromElement(b)},getRepresentationSortFunction:function(){return x.getRepresentationSortFunction()},getCodec:function(b,d,c){return x.getCodec(b,d,c)},getVoAdaptations:function(){return H},getVoPeriods:function(){return K},getPeriodById:function(b){if(!b||
0===K.length)return null;var d=K.filter(function(d){return d.id===b});return d&&0<d.length?d[0]:null},setCurrentMediaInfo:function(b,d,c){L[b]=L[b]||{};L[b][d]=L[b][d]||{};L[b][d]=c},isPatchValid:function(b,d){var c=x.getId(b),e=P.getMpdId(d),f=x.getPublishTime(b);b=P.getPublishTime(d);d=P.getOriginalPublishTime(d);return!!(c&&e&&c==e&&f&&d&&f.getTime()==d.getTime()&&b&&f.getTime()<b.getTime())},applyPatchToManifest:function(b,d){P.getPatchOperations(d).forEach(function(d){var c=d.getMpdTarget(b);
if(null!==c){var e=c.name,f=c.target;c=c.leaf;if(d.xpath.findsAttribute())switch(d.action){case "add":case "replace":f[e]=d.value;break;case "remove":delete f[e]}else{var h=(f[e+"_asArray"]||[]).indexOf(c),g="prepend"===d.position||"before"===d.position;"remove"!==d.action&&"replace"!==d.action||(delete f[e],-1!=h&&((c=f[e+"_asArray"]).splice(h,1),1<c.length?f[e]=c:1==c.length?f[e]=c[0]:delete f[e+"_asArray"]));"add"!==d.action&&"replace"!==d.action||Object.keys(d.value).forEach(function(b){var c,
l=d.value[b],k=f[b+"_asArray"]||[];0===k.length&&f[b]&&k.push(f[b]);0===k.length?k=l:(c=b==e&&-1!=h?h+(g?0:1)+("replace"==d.action?-1:0):g?0:k.length,k.splice.apply(k,[c,0].concat(l)));f[b+"_asArray"]=k;f[b]=1==k.length?k[0]:k})}}})},reset:n},x=(0,u.default)(Q).getInstance(),P=(0,w.default)(Q).getInstance(),n(),E}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(61)),f=c(e(95)),b=c(e(90)),d=c(e(98)),l=c(e(89)),p=c(e(87)),n=c(e(47)),u=c(e(65)),w=c(e(66));k.__dashjs_factory_name="DashAdapter";
g.default=n.default.getSingletonFactory(k);m.exports=g.default},{47:47,61:61,65:65,66:66,87:87,89:89,90:90,95:95,98:98}],57:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function c(){H=-1;L=null}function e(b,d,c){var e=x.resolve(c.path),f=void 0;c=void 0;return e&&d!==e.url&&I.isRelative(d)?(f=e.url,c=e.serviceLocation,d&&(f=I.resolve(d,f))):f=d,!I.isRelative(f)&&(b.url=f,b.serviceLocation=c,1)}function g(b){var d=b.representation;var c=d.hasInitialization();b=
d.hasSegments();c&&b?m.trigger(A.REPRESENTATION_UPDATE_COMPLETED,{representation:d},{streamId:M.id,mediaType:B}):U.update(d,aa,c,b)}function k(b,c){if(null==c)return null;var g=new h.default,l=c.representation,k=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].bandwidth,n=c.media;n=(0,d.replaceTokenForTemplate)(n,"Number",c.replacementNumber);return n=(0,d.replaceTokenForTemplate)(n,"Time",c.replacementTime),
n=(0,d.replaceTokenForTemplate)(n,"Bandwidth",k),n=(0,d.replaceIDForTemplate)(n,l.id),n=(0,d.unescapeDollarsInTemplate)(n),g.mediaType=B,g.type=f.HTTPRequest.MEDIA_SEGMENT_TYPE,g.range=c.mediaRange,g.startTime=c.presentationStartTime,g.mediaStartTime=c.mediaStartTime,g.duration=c.duration,g.timescale=l.timescale,g.availabilityStartTime=c.availabilityStartTime,g.availabilityEndTime=c.availabilityEndTime,g.wallStartTime=c.wallStartTime,g.quality=l.index,g.index=c.availabilityIdx,g.mediaInfo=b,g.adaptationIndex=
l.adaptation.index,g.representationId=l.id,e(g,n,l)?g:void 0}function p(b){var d,c=!1;return b&&(Z?Q?c=!0:L&&(d=parseFloat((L.presentationStartTime-b.adaptation.period.start).toFixed(5)),d=0<L.duration?d+1.5*L.duration:d,c=b.adaptation.period.duration<=d):H>=b.availableSegmentsNumber&&(c=!0)),c}function y(b){b=b.representation;b.segments&&m.trigger(A.REPRESENTATION_UPDATE_COMPLETED,{representation:b},{streamId:M.id,mediaType:B})}function q(b){if(!b.error){var c,e=b.segments,f=b.representation,h=[],
g=0;var l=0;for(var k=e?e.length:0;l<k;l++){var n=e[l];(c=(0,d.getTimeBasedSegment)(C,Z,f,n.startTime,n.duration,n.timescale,n.media,n.mediaRange,g))&&(h.push(c),g++)}0<h.length&&(f.segmentAvailabilityRange={start:h[0].presentationStartTime,end:h[h.length-1].presentationStartTime},f.availableSegmentsNumber=h.length,f.segments=h,Z&&(b=h[h.length-1].presentationStartTime-8,C.setExpectedLiveEdge(b),E.updateManifestUpdateInfo({presentationStartTime:b})));f.hasInitialization()&&m.trigger(A.REPRESENTATION_UPDATE_COMPLETED,
{representation:f},{streamId:M.id,mediaType:B})}}function t(){K.debug("Dynamic stream complete");Q=!0}b=b||{};var J=this.context,m=b.eventBus,A=b.events,G=b.debug,D=b.dashConstants,I=b.urlUtils,B=b.type,M=b.streamInfo,C=b.timelineConverter,E=b.dashMetrics,x=b.baseURLController,P=void 0,K=void 0,H=void 0,L=void 0,N=void 0,Z=void 0,Q=void 0,aa=void 0,U=void 0;P={initialize:function(b){Z=b;Q=!1;U.initialize(b)},getStreamId:function(){return M.id},getType:function(){return B},getStreamInfo:function(){return M},
getInitRequest:function(b,c){if(c){var g=B,l=new h.default,k=c.adaptation.period,n=k.start;b=(l.mediaType=g,l.type=f.HTTPRequest.INIT_SEGMENT_TYPE,l.range=c.range,l.availabilityStartTime=C.calcAvailabilityStartTimeFromPresentationTime(n,k.mpd,Z),l.availabilityEndTime=C.calcAvailabilityEndTimeFromPresentationTime(n+k.duration,k.mpd,Z),l.quality=c.index,l.mediaInfo=b,l.representationId=c.id,e(l,c.initialization,c))?(l.url=(0,d.replaceTokenForTemplate)(l.url,"Bandwidth",c.bandwidth),l):void 0}else b=
null;return b},getRequestForSegment:k,getSegmentRequestForTime:function(b,d,c,e){var f=null;if(!d||!d.segmentInfoType)return f;var g=H,l=!!e&&e.keepIdx,n=!(!e||!e.ignoreIsFinished);return N!==c&&(N=c,K.debug("Getting the request for time : "+c)),(e=U.getSegmentByTime(d,c))?(H=e.availabilityIdx,L=e,K.debug("Index for time "+c+" is "+H),f=k(b,e)):!n&&p(d)&&((f=new h.default).action=h.default.ACTION_COMPLETE,f.index=H-1,f.mediaType=B,f.mediaInfo=b,K.debug("Signal complete in getSegmentRequestForTime")),
l&&0<=g&&(H=d.segmentInfoType===D.SEGMENT_TIMELINE&&Z?H:g),f},getNextSegmentRequest:function(b,d){var c=null;if(!d||!d.segmentInfoType)return null;N=null;var e=H+1;K.debug("Getting the next request at index: "+e);var f=U.getSegmentByIndex(d,e,L?L.mediaStartTime:-1);return f||isFinite(d.adaptation.period.duration)||Q?(H=f?(c=k(b,f),f.availabilityIdx):Z?e-1:e,f?L=f:p(d)&&((c=new h.default).action=h.default.ACTION_COMPLETE,c.index=H-1,c.mediaType=B,c.mediaInfo=b,K.debug("Signal complete")),c):(K.debug(B+
" No segment found at index: "+e+". Wait for next loop"),null)},setCurrentIndex:function(b){H=b},getCurrentIndex:function(){return H},isMediaFinished:p,reset:function(){c();aa=U=N=null;m.off(A.INITIALIZATION_LOADED,y,P);m.off(A.SEGMENTS_LOADED,q,P);m.off(A.REPRESENTATION_UPDATE_STARTED,g,P);m.off(A.DYNAMIC_TO_STATIC,t,P)},resetIndex:c,setMimeType:function(b){aa=b},getNextSegmentRequestIdempotent:function(b,d){var c=H+1;return(c=U.getSegmentByIndex(d,c,L?L.mediaStartTime:-1))?k(b,c):null}};K=G.getLogger(P);
c();aa=U=N=null;return U=(0,l.default)(J).create(b),m.on(A.INITIALIZATION_LOADED,y,P),m.on(A.SEGMENTS_LOADED,q,P),m.on(A.REPRESENTATION_UPDATE_STARTED,g,P),m.on(A.DYNAMIC_TO_STATIC,t,P),P}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(241)),f=e(255),b=c(e(47)),d=e(81),l=c(e(64));k.__dashjs_factory_name="DashHandler";g.default=b.default.getClassFactory(k);m.exports=g.default},{241:241,255:255,47:47,64:64,81:81}],58:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function c(b){b=
G.getMetricsFor(b,!0);if(!b)return null;b=b.HttpList;var d=null,c;if(!b||0>=b.length)return null;for(c=b.length-1;0<=c;){if(b[c].responsecode){d=b[c];break}c--}return d}function e(b){return(b=G.getMetricsFor(b,!0))&&b.HttpList?b.HttpList:[]}function g(b,d){return b?(d=b[d])&&0!==d.length?d[d.length-1]:null:null}b=b||{};var k,t=this.context,w=void 0,m=void 0,A=void 0,G=b.metricsModel;return k={getCurrentRepresentationSwitch:function(b){return g(G.getMetricsFor(b,!0),d.default.TRACK_SWITCH)},getCurrentBufferState:function(b){return g(G.getMetricsFor(b,
!0),d.default.BUFFER_STATE)},getCurrentBufferLevel:function(b){return(b=g(G.getMetricsFor(b,!0),d.default.BUFFER_LEVEL))?l.default.round10(b.level/1E3,-3):0},getCurrentHttpRequest:c,getHttpRequests:e,getCurrentDroppedFrames:function(){return g(G.getMetricsFor(h.default.VIDEO,!0),d.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(b){return g(G.getMetricsFor(b,!0),d.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(b){return g(b?G.getMetricsFor(b,!0):G.getMetricsFor(h.default.VIDEO,!0)||
G.getMetricsFor(h.default.AUDIO,!0),d.default.DVR_INFO)},getCurrentManifestUpdate:function(){return g(G.getMetricsFor(h.default.STREAM),d.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(b,d){var e={};return(b=c(b))&&(e=n.default.parseHttpHeaders(b._responseHeaders)),void 0===e[d]?null:e[d]},getLatestMPDRequestHeaderValueByID:function(b){var d,c={},g,l;for(l=(g=e(h.default.STREAM)).length-1;0<=l;l--)if((d=g[l]).type===f.HTTPRequest.MPD_TYPE){c=n.default.parseHttpHeaders(d._responseHeaders);
break}return void 0===c[b]?null:c[b]},addRepresentationSwitch:function(b,d,c,e,f){G.addRepresentationSwitch(b,d,c,e,f)},addDVRInfo:function(b,d,c,e){G.addDVRInfo(b,d,c,e)},updateManifestUpdateInfo:function(b){var d=this.getCurrentManifestUpdate();G.updateManifestUpdateInfo(d,b)},addManifestUpdateStreamInfo:function(b){var d;b&&(d=this.getCurrentManifestUpdate(),G.addManifestUpdateStreamInfo(d,b.id,b.index,b.start,b.duration))},addManifestUpdateRepresentationInfo:function(b,d){var c;b&&(c=this.getCurrentManifestUpdate(),
G.addManifestUpdateRepresentationInfo(c,b.id,b.index,b.streamIndex,d,b.presentationTimeOffset,b.startNumber,b.fragmentInfoType))},addManifestUpdate:function(b){G.addManifestUpdate(h.default.STREAM,b.type,b.requestStartDate,b.requestEndDate)},addHttpRequest:function(b,d,c,e,f){G.addHttpRequest(b.mediaType,null,b.type,b.url,b.quality,d,b.serviceLocation||null,b.range||null,b.requestStartDate,b.firstByteDate,b.requestEndDate,c,b.duration,e,f)},addSchedulingInfo:function(b,d){G.addSchedulingInfo(b.mediaType,
new Date,b.type,b.startTime,b.availabilityStartTime,b.duration,b.quality,b.range,d)},addRequestsQueue:function(b,d,c){G.addRequestsQueue(b,d,c)},addBufferLevel:function(b,d,c){G.addBufferLevel(b,d,c)},addBufferState:function(b,d,c){G.addBufferState(b,d,c)},addDroppedFrames:function(b){G.addDroppedFrames(h.default.VIDEO,b)},addPlayList:function(){A&&(G.addPlayList(A),A=null)},addDVBErrors:function(b){G.addDVBErrors(b)},createPlaylistMetrics:function(b,d){(A=new u.PlayList).start=new Date;A.mstart=
b;A.starttype=d},createPlaylistTraceMetrics:function(b,d,c){!0===w&&(w=!1,(m=new u.PlayListTrace).representationid=b,m.start=new Date,m.mstart=d,m.playbackspeed=null!==c?c.toString():null)},updatePlayListTraceMetrics:function(b){if(m)for(var d in m)m[d]=b[d]},pushPlayListTraceMetrics:function(b,d){var c;!1===w&&A&&m&&m.start&&(c=m.start,c=b.getTime()-c.getTime(),m.duration=c,m.stopreason=d,A.trace.push(m),w=!0)},clearAllCurrentMetrics:function(){G.clearAllCurrentMetrics()}},G=G||(0,p.default)(t).getInstance({settings:b.settings}),
w=!0,A=m=null,k}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=e(255),b=c(e(47)),d=c(e(113)),l=c(e(79)),p=c(e(157)),n=c(e(49)),u=e(257);k.__dashjs_factory_name="DashMetrics";g.default=b.default.getSingletonFactory(k);m.exports=g.default},{112:112,113:113,157:157,255:255,257:257,47:47,49:49,79:79}],59:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(){if(!x||!x.hasOwnProperty("resolve"))throw Error("setConfig function has to be called previously");
}function c(b){if(b.url){var c=new d.default;return c.setInfo(b),c}}function e(b,d,c,e){I.trigger(D.SEGMENTS_LOADED,{segments:c,representation:e,error:c?void 0:new f.default(B.SEGMENT_BASE_LOADER_ERROR_CODE,B.SEGMENT_BASE_LOADER_ERROR_MESSAGE)},{streamId:b,mediaType:d})}var g=this.context,k=void 0,z=void 0,y=void 0,q=void 0,t=void 0,J=void 0,m=void 0,A=void 0,G=void 0,D=void 0,I=void 0,B=void 0,M=void 0,C=void 0,E=void 0,x=void 0;return k={setConfig:function(b){b.baseURLController&&(x=b.baseURLController);
b.dashMetrics&&(J=b.dashMetrics);b.mediaPlayerModel&&(A=b.mediaPlayerModel);b.errHandler&&(y=b.errHandler);b.settings&&(m=b.settings);b.boxParser&&(q=b.boxParser);b.events&&(D=b.events);b.eventBus&&(I=b.eventBus);b.debug&&(z=b.debug.getLogger(k));b.requestModifier&&(t=b.requestModifier);b.errors&&(B=b.errors);b.urlUtils&&(E=b.urlUtils);b.constants&&(M=b.constants);b.dashConstants&&(C=b.dashConstants)},initialize:function(){G=(0,l.default)(g).create({errHandler:y,dashMetrics:J,mediaPlayerModel:A,requestModifier:t,
useFetch:m?m.get().streaming.lowLatencyEnabled:null,boxParser:q,errors:B,urlUtils:E,constants:M,dashConstants:C})},loadInitialization:function Z(d,e,f,h){b();var g,l=f?x.resolve(f.path):null,k=h||{init:!0,url:l?l.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:e};z.debug("Start searching for initialization.");l=c(k);G.load({request:l,success:function(b){k.bytesLoaded=k.range.end;(g=q.findInitRange(b))?(f.range=g,I.trigger(D.INITIALIZATION_LOADED,{representation:f},
{streamId:d,mediaType:e})):(k.range.end=k.bytesLoaded+k.bytesToLoad,Z(d,e,f,k))},error:function(){I.trigger(D.INITIALIZATION_LOADED,{representation:f},{streamId:d,mediaType:e})}});z.debug("Perform init search: "+k.url)},loadSegments:function U(d,f,g,l,k,n){b();!l||void 0!==l.start&&void 0!==l.end||(l=(w=l?l.toString().split("-"):null)?{start:parseFloat(w[0]),end:parseFloat(w[1])}:null);k=k||e;var p,u=null,t=!!l,w=g?x.resolve(g.path):null,v={init:!1,url:w?w.url:void 0,range:t?l:{start:0,end:1500},
searching:!t,bytesLoaded:n?n.bytesLoaded:0,bytesToLoad:1500,mediaType:f};n=c(v);G.load({request:n,success:function(b){var c=v.bytesToLoad,e=b.byteLength;if(v.bytesLoaded=v.range.end-v.range.start,u=q.parse(b),(p=u.getBox("sidx"))&&p.isComplete){var l=p.references;b=c=void 0;null!=l&&0<l.length&&(c=1===l[0].reference_type);c?function(){z.debug("Initiate multiple SIDX load.");v.range.end=v.range.start+p.size;var b,c=void 0,e=void 0,h=[],n=0,u=(p.offset||v.range.start)+p.size,t=function(b,d,c){c?(h=
h.concat(c),e<=++n&&(h.sort(function(b,d){return 0>b.startTime-d.startTime?-1:0}),k(b,d,h,g))):k(b,d,null,g)};c=0;for(e=l.length;c<e;c++){var q=(b=u)+l[c].referenced_size-1;u+=l[c].referenced_size;U(d,f,g,{start:b,end:q},t,v)}}():(z.debug("Parsing segments from SIDX. representation "+f+" - id: "+g.id+" for range : "+v.range.start+" - "+v.range.end),b=function(b,d){var c=b.references,e=c.length,f=b.timescale,g=b.earliest_presentation_time;b=d.range.start+b.offset+b.first_offset+b.size;d=[];for(var l,
k,n,p,u=0;u<e;u++)n=c[u].subsegment_duration,p=c[u].referenced_size,(l=new h.default).duration=n,l.startTime=g,l.timescale=f,k=b+p-1,l.mediaRange=b+"-"+k,d.push(l),g+=n,b+=p;return d}(p,v),k(d,f,b,g))}else{if(p)v.range.start=p.offset||v.range.start,v.range.end=v.range.start+(p.size||c);else{if(e<v.bytesLoaded)return void k(d,f,null,g);(e=u.getLastBox())&&e.size?(v.range.start=e.offset+e.size,v.range.end=v.range.start+c):v.range.end+=c}U(d,f,g,v.range,k,v)}},error:function(){k(d,f,null,g)}});z.debug("Perform SIDX load: "+
v.url+" with range : "+v.range.start+" - "+v.range.end)},reset:function(){G.abort();t=q=y=G=null}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(96)),f=c(e(239)),b=c(e(47)),d=c(e(241)),l=c(e(163));k.__dashjs_factory_name="SegmentBaseLoader";g.default=b.default.getSingletonFactory(k);m.exports=g.default},{163:163,239:239,241:241,47:47,96:96}],60:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(){if(!E||!E.hasOwnProperty("resolve"))throw Error("setConfig function has to be called previously");
}function c(b,d,c,e){B.trigger(M.SEGMENTS_LOADED,{segments:c,representation:e,error:c?void 0:new n.default(C.SEGMENT_BASE_LOADER_ERROR_CODE,C.SEGMENT_BASE_LOADER_ERROR_MESSAGE)},{streamId:b,mediaType:d})}function e(b){var d=new l.default;return d.setInfo(b),d}var g=this.context,k=void 0,q=void 0,t=void 0,J=void 0,m=void 0,A=void 0,G=void 0,D=void 0,I=void 0,B=void 0,M=void 0,C=void 0,E=void 0;return k={setConfig:function(b){if(!(b.baseURLController&&b.dashMetrics&&b.mediaPlayerModel&&b.errHandler))throw Error(f.default.MISSING_CONFIG_ERROR);
E=b.baseURLController;A=b.dashMetrics;G=b.mediaPlayerModel;J=b.errHandler;I=b.settings;M=b.events;B=b.eventBus;C=b.errors;q=b.debug.getLogger(k);m=b.requestModifier},initialize:function(){D=(0,p.default)(g).create({errHandler:J,dashMetrics:A,mediaPlayerModel:G,requestModifier:m,useFetch:I?I.get().streaming.lowLatencyEnabled:null,errors:C})},loadInitialization:function(d,c,f,h){b();var g=null,l=f?E.resolve(f.path):null,k=f?f.range.split("-"):null;l=h||{range:{start:k?parseFloat(k[0]):null,end:k?parseFloat(k[1]):
null},request:g,url:l?l.url:void 0,init:!0,mediaType:c};q.info("Start loading initialization.");g=e(l);D.load({request:g,success:function(){B.trigger(M.INITIALIZATION_LOADED,{representation:f},{streamId:d,mediaType:c})},error:function(){B.trigger(M.INITIALIZATION_LOADED,{representation:f},{streamId:d,mediaType:c})}});q.debug("Perform init load: "+l.url)},loadSegments:function(f,l,k,n,p){b();var u=null,w=k?E.resolve(k.path):null,v=w?w.url:void 0;p=p||c;u=e({bytesLoaded:0,bytesToLoad:8192,range:{start:0,
end:8192},request:u,url:v,init:!1,mediaType:l});q.debug("Parsing ebml header");D.load({request:u,success:function(b){!function(b,c,f,l){if(b&&0!==b.byteLength){var k,n,p=(0,h.default)(g).create({data:b}),u=void 0;b=f?f.split("-"):null;f=null;var w={url:c,range:{start:b?parseFloat(b[0]):null,end:b?parseFloat(b[1]):null},request:f};q.debug("Parse EBML header: "+w.url);p.skipOverElement(t.EBML);p.consumeTag(t.Segment);var v=p.getMatroskaCodedNum();v+=p.getPos();for(n=p.getPos();p.moreData()&&!p.consumeTagAndSize(t.Segment.Info,
!0);)if(!(p.skipOverElement(t.Segment.SeekHead,!0)||p.skipOverElement(t.Segment.Tracks,!0)||p.skipOverElement(t.Segment.Cues,!0)||p.skipOverElement(t.Void,!0)))throw Error("no valid top level element found");for(;void 0===u;)b=p.getMatroskaCodedNum(!0),c=p.getMatroskaCodedNum(),b===t.Segment.Info.Duration.tag?u=p[t.Segment.Info.Duration.parse](c):p.setPos(p.getPos()+c);f=e(w);D.load({request:f,success:function(b){var c=v,e=u;var f=[];var p=0;var w=[];b=(0,h.default)(g).create({data:b});var z;var y=
void 0;for(b.consumeTagAndSize(t.Segment.Cues);b.moreData()&&b.consumeTagAndSize(t.Segment.Cues.CuePoint,!0);){(z={}).CueTime=b.parseTag(t.Segment.Cues.CuePoint.CueTime);for(z.CueTracks=[];b.moreData()&&b.consumeTag(t.Segment.Cues.CuePoint.CueTrackPositions,!0);){var x=b.getMatroskaCodedNum();var J=b.getPos();if((y={}).Track=b.parseTag(t.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===y.Track)throw Error("Cue track cannot be 0");y.ClusterPosition=b.parseTag(t.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition);
z.CueTracks.push(y);b.setPos(J+x)}if(0===z.CueTracks.length)throw Error("Mandatory cuetrack not found");w.push(z)}if(0===w.length)throw Error("mandatory cuepoint not found");for(z=w.length;p<z;p+=1)b=new d.default,y=p<w.length-1?w[p+1].CueTime-w[p].CueTime:e-w[p].CueTime,b.duration=y,b.startTime=w[p].CueTime,b.timescale=1E3,y=w[p].CueTracks[0].ClusterPosition+n,x=p<w.length-1?w[p+1].CueTracks[0].ClusterPosition+n-1:c-1,b.mediaRange=y+"-"+x,f.push(b);k=(q.debug("Parsed cues: "+f.length+" cues."),f);
l(k)},error:function(){q.error("Download Error: Cues "+w.url);l(null)}});q.debug("Perform cues load: "+w.url+" bytes\x3d"+w.range.start+"-"+w.range.end)}else l(null)}(b,v,n,function(b){p(f,l,b,k)})},error:function(){p(f,l,null,k)}})},reset:function(){m=J=null}},t={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},
Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},k}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(225)),f=c(e(112)),b=c(e(47)),d=c(e(96)),l=c(e(241)),p=c(e(163)),n=c(e(239));k.__dashjs_factory_name=
"WebmSegmentBaseLoader";g.default=b.default.getSingletonFactory(k);m.exports=g.default},{112:112,163:163,225:225,239:239,241:241,47:47,96:96}],61:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.init()}Object.defineProperty(g,"__esModule",{value:!0});e=new (function(e,
f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"init",value:function(){this.BASE_URL="BaseURL";this.SEGMENT_BASE="SegmentBase";this.SEGMENT_TEMPLATE="SegmentTemplate";this.SEGMENT_LIST="SegmentList";this.SEGMENT_URL="SegmentURL";this.SEGMENT_TIMELINE="SegmentTimeline";this.SEGMENT_PROFILES="segmentProfiles";this.ADAPTATION_SET="AdaptationSet";this.REPRESENTATION="Representation";this.REPRESENTATION_INDEX="RepresentationIndex";this.SUB_REPRESENTATION="SubRepresentation";this.INITIALIZATION="Initialization";
this.INITIALIZATION_MINUS="initialization";this.MPD="MPD";this.PERIOD="Period";this.ASSET_IDENTIFIER="AssetIdentifier";this.EVENT_STREAM="EventStream";this.ID="id";this.PROFILES="profiles";this.SERVICE_LOCATION="serviceLocation";this.RANGE="range";this.INDEX="index";this.MEDIA="media";this.BYTE_RANGE="byteRange";this.INDEX_RANGE="indexRange";this.MEDIA_RANGE="mediaRange";this.VALUE="value";this.CONTENT_TYPE="contentType";this.MIME_TYPE="mimeType";this.BITSTREAM_SWITCHING="BitstreamSwitching";this.BITSTREAM_SWITCHING_MINUS=
"bitstreamSwitching";this.CODECS="codecs";this.DEPENDENCY_ID="dependencyId";this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId";this.METRICS="Metrics";this.METRICS_MINUS="metrics";this.REPORTING="Reporting";this.WIDTH="width";this.HEIGHT="height";this.SAR="sar";this.FRAMERATE="frameRate";this.AUDIO_SAMPLING_RATE="audioSamplingRate";this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod";this.START_WITH_SAP="startWithSAP";this.MAX_PLAYOUT_RATE="maxPlayoutRate";this.CODING_DEPENDENCY="codingDependency";this.SCAN_TYPE=
"scanType";this.FRAME_PACKING="FramePacking";this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration";this.CONTENT_PROTECTION="ContentProtection";this.ESSENTIAL_PROPERTY="EssentialProperty";this.SUPPLEMENTAL_PROPERTY="SupplementalProperty";this.INBAND_EVENT_STREAM="InbandEventStream";this.ACCESSIBILITY="Accessibility";this.ROLE="Role";this.RATING="Rating";this.CONTENT_COMPONENT="ContentComponent";this.SUBSET="Subset";this.LANG="lang";this.VIEWPOINT="Viewpoint";this.ROLE_ASARRAY="Role_asArray";
this.ACCESSIBILITY_ASARRAY="Accessibility_asArray";this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray";this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray";this.MAIN="main";this.DYNAMIC="dynamic";this.STATIC="static";this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration";this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod";this.CODEC_PRIVATE_DATA="codecPrivateData";this.BANDWITH="bandwidth";this.SOURCE_URL="sourceURL";this.TIMESCALE="timescale";this.DURATION="duration";
this.START_NUMBER="startNumber";this.PRESENTATION_TIME_OFFSET="presentationTimeOffset";this.AVAILABILITY_START_TIME="availabilityStartTime";this.AVAILABILITY_END_TIME="availabilityEndTime";this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth";this.MAX_SEGMENT_DURATION="maxSegmentDuration";this.PRESENTATION_TIME="presentationTime";this.MIN_BUFFER_TIME="minBufferTime";this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration";this.START="start";this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset";this.AVAILABILITY_TIME_COMPLETE=
"availabilityTimeComplete";this.CENC_DEFAULT_KID="cenc:default_KID";this.DVB_PRIORITY="dvb:priority";this.DVB_WEIGHT="dvb:weight";this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay";this.SERVICE_DESCRIPTION="ServiceDescription";this.SERVICE_DESCRIPTION_SCOPE="Scope";this.SERVICE_DESCRIPTION_LATENCY="Latency";this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate";this.PATCH_LOCATION="PatchLocation";this.PUBLISH_TIME="publishTime";this.ORIGINAL_PUBLISH_TIME="originalPublishTime";this.ORIGINAL_MPD_ID=
"mpdId"}}]),k);g.default=e;m.exports=g.default},{}],62:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function d(){if(!(D&&I&&B&&M))throw Error(h.default.MISSING_CONFIG_ERROR);}function c(){d();var b=new Date,c=N,e=1E3*B.getTime();c&&I.addRepresentationSwitch(c.adaptation.type,b,e,c.id)}function e(b){return null==b||b>=L.length?null:L[b]}function g(b,d){b.segmentAvailabilityRange=M.calcSegmentAvailabilityRange(b,d);b.segmentAvailabilityRange.end<b.segmentAvailabilityRange.start?
v(new f.default(G.SEGMENTS_UNAVAILABLE_ERROR_CODE,G.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:b.segmentAvailabilityRange.start-b.segmentAvailabilityRange.end})):d&&(b=b.segmentAvailabilityRange.end,M.setExpectedLiveEdge(b),I.updateManifestUpdateInfo({presentationStartTime:b}))}function k(b,c){d();for(var e=0,f=L.length;e<f;e++)g(L[e],b),c&&m.trigger(A.REPRESENTATION_UPDATE_STARTED,{representation:L[e]},{streamId:E.id,mediaType:C})}function w(){H=!0;m.trigger(A.DATA_UPDATE_STARTED,{},{streamId:E.id,
mediaType:C})}function v(b){H=!1;m.trigger(A.DATA_UPDATE_COMPLETED,{data:K,currentRepresentation:N,error:b},{streamId:E.id,mediaType:C})}function z(b){m.trigger(A.AST_IN_FUTURE,{delay:b});setTimeout(function(){H||(w(),L.forEach(function(b){b.segmentAvailabilityRange=null}),k(B.getIsDynamic(),!0))},b)}function y(b){if(H)if(b.error)v(b.error);else{var d,e=b.representation,h=I.getCurrentManifestUpdate(),g=!1;b=0;if(e.adaptation.period.mpd.manifest.type===x.DYNAMIC&&!e.adaptation.period.mpd.manifest.ignorePostponeTimePeriod&&
1>=B.getStreamController().getStreams().length&&(b=function(b){try{var d=B.getStreamController().getActiveStreamInfo(),c=b.segmentAvailabilityRange.start;d&&d.id&&d.id!==E.id&&(c=Math.min(B.getTime(),c));c=b.segmentAvailabilityRange.end-c;return 1E3*(B.getLiveDelay()-c)}catch(W){return 0}}(e)),0<b)return z(b),void v(new f.default(G.SEGMENTS_UPDATE_FAILED_ERROR_CODE,G.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE));if(h){for(var l=0;l<h.representationInfo.length;l++)if((d=h.representationInfo[l]).index===e.index&&
d.mediaType===C){g=!0;break}g||I.addManifestUpdateRepresentationInfo(e,C)}!function(){for(var b=0,d=L.length;b<d;b++){var c=L[b].segmentInfoType;if(null===L[b].segmentAvailabilityRange||!L[b].hasInitialization()||(c===x.SEGMENT_BASE||c===x.BASE_URL)&&!L[b].segments)return}return 1}()||(D.setPlaybackQuality(C,E,(b=N,L.indexOf(b))),I.updateManifestUpdateInfo({latency:N.segmentAvailabilityRange.end-B.getTime()}),I.getCurrentRepresentationSwitch(N.adaptation.type)||c(),v())}}function q(b){b.isDynamic&&
k(b.isDynamic)}function t(b){N=e(b.newQuality);c()}function J(b){b.newDuration&&N&&N.adaptation.period&&(N.adaptation.period.duration=b.newDuration)}var m=(b=b||{}).eventBus,A=b.events,G=b.errors,D=b.abrController,I=b.dashMetrics,B=b.playbackController,M=b.timelineConverter,C=b.type,E=b.streamInfo,x=b.dashConstants,P=void 0,K=void 0,H=void 0,L=void 0,N=void 0;P={getStreamId:function(){return E.id},getType:function(){return C},getData:function(){return K},isUpdating:function(){return H},updateData:function(b,
c,f,g){d();w();L=c;N=e(g);K=b;f===h.default.VIDEO||f===h.default.AUDIO||f===h.default.FRAGMENTED_TEXT?k(B.getIsDynamic(),!0):v()},updateRepresentation:g,getCurrentRepresentation:function(){return N},getRepresentationForQuality:e,reset:function(){m.off(A.QUALITY_CHANGE_REQUESTED,t,P);m.off(A.REPRESENTATION_UPDATE_COMPLETED,y,P);m.off(A.WALLCLOCK_TIME_UPDATED,q,P);m.off(A.MANIFEST_VALIDITY_CHANGED,J,P);H=!(K=null);L=[]}};H=!(K=null);L=[];return m.on(A.QUALITY_CHANGE_REQUESTED,t,P),m.on(A.REPRESENTATION_UPDATE_COMPLETED,
y,P),m.on(A.WALLCLOCK_TIME_UPDATED,q,P),m.on(A.MANIFEST_VALIDITY_CHANGED,J,P),P}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(239));e=c(e(47));k.__dashjs_factory_name="RepresentationController";g.default=e.default.getClassFactory(k);m.exports=g.default},{112:112,239:239,47:47}],63:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(b){return"webm"===(b?b.split("/")[1]:"").toLowerCase()}function e(b){(c(b.mimeType)?I:D).loadInitialization(b.streamId,
b.mediaType,b.representation)}function h(b){(c(b.mimeType)?I:D).loadSegments(b.streamId,b.mediaType,b.representation,b.representation?b.representation.indexRange:null,b.callback)}d=d||{};var g=this.context,k=d.eventBus,v=d.events,z=d.dashMetrics,y=d.mediaPlayerModel,q=d.errHandler,t=d.baseURLController,J=d.debug,m=d.boxParser,A=d.requestModifier;d=d.errors;var G=void 0,D=void 0,I=void 0;return G={initialize:function(){k.on(v.SEGMENTBASE_INIT_REQUEST_NEEDED,e,G);k.on(v.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,
h,G);D.initialize();I.initialize()},reset:function(){k.off(v.SEGMENTBASE_INIT_REQUEST_NEEDED,e,G);k.off(v.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,h,G)}},D=(0,f.default)(g).getInstance(),I=(0,b.default)(g).getInstance(),D.setConfig({baseURLController:t,dashMetrics:z,mediaPlayerModel:y,errHandler:q,eventBus:k,events:v,errors:d,debug:J,boxParser:m,requestModifier:A}),I.setConfig({baseURLController:t,dashMetrics:z,mediaPlayerModel:y,errHandler:q,eventBus:k,events:v,errors:d,debug:J,requestModifier:A}),
G}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(59)),b=c(e(60));k.__dashjs_factory_name="SegmentBaseController";h=h.default.getSingletonFactory(k);g.default=h;m.exports=g.default},{47:47,59:59,60:60}],64:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){c=c||{};var e,h=this.context,g=c.events,k=c.eventBus,p=c.dashConstants,y=c.streamInfo,q=c.type,t=void 0;return e={initialize:function(e){t[p.SEGMENT_TIMELINE]=(0,f.default)(h).create(c,e);t[p.SEGMENT_TEMPLATE]=
(0,b.default)(h).create(c,e);t[p.SEGMENT_LIST]=(0,d.default)(h).create(c,e);t[p.SEGMENT_BASE]=(0,l.default)(h).create(c,e)},update:function(b,d,c,e){c||k.trigger(g.SEGMENTBASE_INIT_REQUEST_NEEDED,{streamId:y.id,mediaType:q,mimeType:d,representation:b});e||k.trigger(g.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{streamId:y.id,mediaType:q,mimeType:d,representation:b})},getSegmentByIndex:function(b,d,c){var e=b?b.segments?t[p.SEGMENT_BASE]:t[b.segmentInfoType]:null;return e?e.getSegmentByIndex(b,d,c):null},
getSegmentByTime:function(b,d){var c=b?b.segments?t[p.SEGMENT_BASE]:t[b.segmentInfoType]:null;return c?c.getSegmentByTime(b,d):null}},t={},e}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(84)),b=c(e(82)),d=c(e(78)),l=c(e(80));k.__dashjs_factory_name="SegmentsController";h=h.default.getClassFactory(k);g.default=h;m.exports=g.default},{47:47,78:78,80:80,82:82,84:84}],65:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(b,d){var c=void 0;
var e=void 0;var g,l=void 0,k=!1,n=!1;if(!b)throw Error("adaptation is not defined");if(!d)throw Error("type is not defined");if(b.hasOwnProperty("ContentComponent_asArray")&&(e=b.ContentComponent_asArray),g=d!==h.default.TEXT?new RegExp(d):/(vtt|ttml)/,b.Representation_asArray&&b.Representation_asArray.length&&0<b.Representation_asArray.length){var p=x(b.Representation_asArray[0]);if(p&&0<p.length&&0<=A.THUMBNAILS_SCHEME_ID_URIS.indexOf(p[0].schemeIdUri))return d===h.default.IMAGE;if(b.Representation_asArray[0].hasOwnProperty(f.default.CODECS)&&
(0===(l=b.Representation_asArray[0].codecs).search(h.default.STPP)||0===l.search(h.default.WVTT)))return d===h.default.FRAGMENTED_TEXT}if(e){if(1<e.length)return d===h.default.MUXED;e[0]&&e[0].contentType===d&&(n=k=!0)}if(b.hasOwnProperty(f.default.MIME_TYPE)&&(k=g.test(b.mimeType),n=!0),!n)for(e=0,d=b.Representation_asArray&&b.Representation_asArray.length?b.Representation_asArray.length:0;!n&&e<d;)(c=b.Representation_asArray[e]).hasOwnProperty(f.default.MIME_TYPE)&&(k=g.test(c.mimeType),n=!0),e++;
return k}function e(b){return"text/vtt"===b||"application/ttml+xml"===b}function g(){return function(b,d){return b.bandwidth-d.bandwidth}}function k(b){return b&&Array.isArray(b.Representation_asArray)&&b.Representation_asArray.sort(g()),b}function q(b,d){return b&&b.Period_asArray&&U(d)&&b.Period_asArray[d]?b.Period_asArray[d].AdaptationSet_asArray:[]}function m(b){return b&&b.Period_asArray?b.Period_asArray:[]}function E(b){var d=!1;return b&&b.hasOwnProperty("type")&&(d=b.type===f.default.DYNAMIC),
d}function x(b){return b&&b.EssentialProperty_asArray&&b.EssentialProperty_asArray.length?b.EssentialProperty_asArray.map(function(b){return{schemeIdUri:b.schemeIdUri,value:b.value}}):null}function P(b,d){var c=[],e;if(!b)return c;for(e=0;e<b.length;e++){var g=new v.default;if(g.timescale=1,g.representation=d,!b[e].hasOwnProperty(h.default.SCHEME_ID_URI))throw Error("Invalid EventStream. SchemeIdUri has to be set");g.schemeIdUri=b[e].schemeIdUri;b[e].hasOwnProperty(f.default.TIMESCALE)&&(g.timescale=
b[e].timescale);b[e].hasOwnProperty(f.default.VALUE)&&(g.value=b[e].value);c.push(g)}return c}function K(b){var d=[],c=!1;return(b.BaseURL_asArray||[b.baseUri]).some(function(e){if(e){var h=new w.default,g=e.__text||e;return aa.isRelative(g)&&(c=!0,b.baseUri&&(g=aa.resolve(g,b.baseUri))),h.url=g,e.hasOwnProperty(f.default.SERVICE_LOCATION)&&e.serviceLocation.length?h.serviceLocation=e.serviceLocation:h.serviceLocation=g,e.hasOwnProperty(f.default.DVB_PRIORITY)&&(h.dvb_priority=e[f.default.DVB_PRIORITY]),
e.hasOwnProperty(f.default.DVB_WEIGHT)&&(h.dvb_weight=e[f.default.DVB_WEIGHT]),e.hasOwnProperty(f.default.AVAILABILITY_TIME_OFFSET)&&(h.availabilityTimeOffset=e[f.default.AVAILABILITY_TIME_OFFSET]),e.hasOwnProperty(f.default.AVAILABILITY_TIME_COMPLETE)&&(h.availabilityTimeComplete="false"!==e[f.default.AVAILABILITY_TIME_COMPLETE]),d.push(h),c}}),d}var H=void 0,L=void 0,N=void 0,Z=void 0,Q=this.context,aa=(0,y.default)(Q).getInstance(),U=Number.isInteger||function(b){return"number"==typeof b&&isFinite(b)&&
Math.floor(b)===b};return H={getIsTypeOf:c,getIsTextTrack:e,getLanguageForAdaptation:function(b){var d="";return b&&b.hasOwnProperty(f.default.LANG)&&(d=b.lang.replace(/[^A-Za-z0-9-]/g,"")),d},getViewpointForAdaptation:function(b){return b&&b.hasOwnProperty(f.default.VIEWPOINT)?b.Viewpoint:null},getRolesForAdaptation:function(b){return b&&b.hasOwnProperty(f.default.ROLE_ASARRAY)?b.Role_asArray:[]},getAccessibilityForAdaptation:function(b){return b&&b.hasOwnProperty(f.default.ACCESSIBILITY_ASARRAY)?
b.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(b){return b&&b.hasOwnProperty(f.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?b.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(b){return b&&b.hasOwnProperty(f.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?b.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(b,d,c){return 0<(c=q(d,c)).length&&U(b)?c[b]:null},getIndexForAdaptation:function(b,d,c){if(!b)return-1;d=
q(d,c);for(c=0;c<d.length;c++)if((0,z.default)(Q).getInstance().areEqual(d[c],b))return c;return-1},getAdaptationForId:function(b,d,c){d=q(d,c);c=0;for(var e=d.length;c<e;c++)if(d[c].hasOwnProperty(f.default.ID)&&d[c].id===b)return d[c];return null},getAdaptationsForType:function(b,d,e){b=q(b,d);var f=[];d=0;for(var h=b.length;d<h;d++)c(b[d],e)&&f.push(k(b[d]));return f},getRealPeriods:m,getRealPeriodForIndex:function(b,d){return 0<(d=m(d)).length&&U(b)?d[b]:null},getCodec:function(b,d,c){var e=null;
return b&&b.Representation_asArray&&0<b.Representation_asArray.length&&(b=U(d)&&0<=d&&d<b.Representation_asArray.length?b.Representation_asArray[d]:b.Representation_asArray[0])&&(e=b.mimeType+';codecs\x3d"'+b.codecs+'"',c&&void 0!==b.width&&(e+=';width\x3d"'+b.width+'";height\x3d"'+b.height+'"')),e&&e.replace(/\sprofiles=[^;]*/g,"")},getMimeType:function(b){return b&&b.Representation_asArray&&0<b.Representation_asArray.length?b.Representation_asArray[0].mimeType:null},getKID:function(b){return b&&
b.hasOwnProperty(f.default.CENC_DEFAULT_KID)?b[f.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(b){if(!b||!Array.isArray(b.Label_asArray))return[];for(var d=[],c=0;c<b.Label_asArray.length;c++)d.push({lang:b.Label_asArray[c].lang,text:b.Label_asArray[c].__text||b.Label_asArray[c]});return d},getContentProtectionData:function(b){return b&&b.hasOwnProperty(f.default.CONTENTPROTECTION_ASARRAY)&&0!==b.ContentProtection_asArray.length?b.ContentProtection_asArray:null},getIsDynamic:E,getId:function(b){return b&&
b[f.default.ID]||null},hasProfile:function(b,d){var c=!1;return b&&b.profiles&&0<b.profiles.length&&(c=-1!==b.profiles.indexOf(d)),c},getDuration:function(b){return b&&b.hasOwnProperty(f.default.MEDIA_PRESENTATION_DURATION)?b.mediaPresentationDuration:b&&"dynamic"==b.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(b){return b&&b.bandwidth?b.bandwidth:NaN},getManifestUpdatePeriod:function(b){var d=1>=arguments.length||void 0===arguments[1]?0:arguments[1],
c=NaN;return b&&b.hasOwnProperty(f.default.MINIMUM_UPDATE_PERIOD)&&(c=b.minimumUpdatePeriod),isNaN(c)?c:Math.max(c-d,1)},getPublishTime:function(b){return b&&b.hasOwnProperty(f.default.PUBLISH_TIME)?new Date(b[f.default.PUBLISH_TIME]):null},getRepresentationCount:function(b){return b&&Array.isArray(b.Representation_asArray)?b.Representation_asArray.length:0},getBitrateListForAdaptation:function(b){return((b=k(b))&&Array.isArray(b.Representation_asArray)?b.Representation_asArray:[]).map(function(b){return{bandwidth:b.bandwidth,
width:b.width||0,height:b.height||0,scanType:b.scanType||null,id:b.id||null}})},getRepresentationFor:function(b,d){return d&&d.Representation_asArray&&0<d.Representation_asArray.length&&U(b)?d.Representation_asArray[b]:null},getRepresentationsForAdaptation:function(d){var c,h,g,l=[],n;a:{if(d&&d.period&&U(d.period.index)&&(n=d.period.mpd.manifest.Period_asArray[d.period.index])&&n.AdaptationSet_asArray&&U(d.index)){n=k(n.AdaptationSet_asArray[d.index]);break a}n=void 0}var p=void 0,u=void 0;if(n&&
n.Representation_asArray){d&&d.period&&U(d.period.index)&&(c=K(d.period.mpd.manifest))&&(u=c[0]);c=0;for(var t=n.Representation_asArray.length;c<t;++c){var q,w=n.Representation_asArray[c],v=new b.default;v.index=c;v.adaptation=d;w.hasOwnProperty(f.default.ID)&&(v.id=w.id);w.hasOwnProperty(f.default.CODECS)&&(v.codecs=w.codecs);w.hasOwnProperty(f.default.CODEC_PRIVATE_DATA)&&(v.codecPrivateData=w.codecPrivateData);w.hasOwnProperty(f.default.BANDWITH)&&(v.bandwidth=w.bandwidth);w.hasOwnProperty(f.default.WIDTH)&&
(v.width=w.width);w.hasOwnProperty(f.default.HEIGHT)&&(v.height=w.height);w.hasOwnProperty(f.default.SCAN_TYPE)&&(v.scanType=w.scanType);w.hasOwnProperty(f.default.MAX_PLAYOUT_RATE)&&(v.maxPlayoutRate=w.maxPlayoutRate);w.hasOwnProperty(f.default.SEGMENT_BASE)?(p=w.SegmentBase,v.segmentInfoType=f.default.SEGMENT_BASE):w.hasOwnProperty(f.default.SEGMENT_LIST)?(p=w.SegmentList).hasOwnProperty(f.default.SEGMENT_TIMELINE)?v.segmentInfoType=f.default.SEGMENT_TIMELINE:v.segmentInfoType=f.default.SEGMENT_LIST:
w.hasOwnProperty(f.default.SEGMENT_TEMPLATE)?((p=w.SegmentTemplate).hasOwnProperty(f.default.SEGMENT_TIMELINE)?v.segmentInfoType=f.default.SEGMENT_TIMELINE:v.segmentInfoType=f.default.SEGMENT_TEMPLATE,p.hasOwnProperty(f.default.INITIALIZATION_MINUS)&&(v.initialization=p.initialization.split("$Bandwidth$").join(w.bandwidth).split("$RepresentationID$").join(w.id))):v.segmentInfoType=f.default.BASE_URL;v.essentialProperties=x(w);p&&(p.hasOwnProperty(f.default.INITIALIZATION)?((q=p.Initialization).hasOwnProperty(f.default.SOURCE_URL)&&
(v.initialization=q.sourceURL),q.hasOwnProperty(f.default.RANGE)&&(v.range=q.range)):w.hasOwnProperty(f.default.MIME_TYPE)&&e(w.mimeType)&&(v.range=0),p.hasOwnProperty(f.default.TIMESCALE)&&(v.timescale=p.timescale),p.hasOwnProperty(f.default.DURATION)?v.segmentDuration=p.duration/v.timescale:w.hasOwnProperty(f.default.SEGMENT_TEMPLATE)&&(p=w.SegmentTemplate).hasOwnProperty(f.default.SEGMENT_TIMELINE)&&(v.segmentDuration=(h=p.SegmentTimeline,g=void 0,g=h.S_asArray[0],h=h.S_asArray[1],(g.hasOwnProperty("d")?
g.d:h.t-g.t)/v.timescale)),p.hasOwnProperty(f.default.MEDIA)&&(v.media=p.media),p.hasOwnProperty(f.default.START_NUMBER)&&(v.startNumber=p.startNumber),p.hasOwnProperty(f.default.INDEX_RANGE)&&(v.indexRange=p.indexRange),p.hasOwnProperty(f.default.PRESENTATION_TIME_OFFSET)&&(v.presentationTimeOffset=p.presentationTimeOffset/v.timescale),p.hasOwnProperty(f.default.AVAILABILITY_TIME_OFFSET)?v.availabilityTimeOffset=p.availabilityTimeOffset:u&&void 0!==u.availabilityTimeOffset&&(v.availabilityTimeOffset=
u.availabilityTimeOffset),p.hasOwnProperty(f.default.AVAILABILITY_TIME_COMPLETE)?v.availabilityTimeComplete="false"!==p.availabilityTimeComplete:u&&void 0!==u.availabilityTimeComplete&&(v.availabilityTimeComplete=u.availabilityTimeComplete));v.MSETimeOffset=(h=void 0,h=(g=v).presentationTimeOffset,g.adaptation.period.start-h);v.path=[d.period.index,d.index,c];l.push(v)}}return l},getAdaptationsForPeriod:function(b){var e=b&&U(b.index)?b.mpd.manifest.Period_asArray[b.index]:null,g=[],l;if(e&&e.AdaptationSet_asArray)for(l=
0;l<e.AdaptationSet_asArray.length;l++){var k=e.AdaptationSet_asArray[l];var n=new d.default;k.hasOwnProperty(f.default.ID)&&(n.id=k.id);n.index=l;n.period=b;c(k,h.default.MUXED)?n.type=h.default.MUXED:c(k,h.default.AUDIO)?n.type=h.default.AUDIO:c(k,h.default.VIDEO)?n.type=h.default.VIDEO:c(k,h.default.FRAGMENTED_TEXT)?n.type=h.default.FRAGMENTED_TEXT:c(k,h.default.IMAGE)?n.type=h.default.IMAGE:n.type=h.default.TEXT;g.push(n)}return g},getRegularPeriods:function(b){var d=!!b&&E(b.manifest),c=[],e=
null,g=null,k=null,n=null,p=void 0;p=0;for(var u=b&&b.manifest&&b.manifest.Period_asArray?b.manifest.Period_asArray.length:0;p<u;p++)(g=b.manifest.Period_asArray[p]).hasOwnProperty(f.default.START)?(n=new l.default).start=g.start:null!==e&&e.hasOwnProperty(f.default.DURATION)&&null!==k?(n=new l.default).start=parseFloat((k.start+k.duration).toFixed(5)):0!==p||d||((n=new l.default).start=0),null!==k&&isNaN(k.duration)&&(null!==n?k.duration=parseFloat((n.start-k.start).toFixed(5)):L.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),
null!==n&&(n.id=function(b,d){if(!b)throw Error("Period cannot be null or undefined");d=l.default.DEFAULT_ID+"_"+d;b.hasOwnProperty(f.default.ID)&&0<b.id.length&&"__proto__"!==b.id&&(d=b.id);return d}(g,p),n.index=p,n.mpd=b,g.hasOwnProperty(f.default.DURATION)&&(n.duration=g.duration),c.push(n),e=g,k=n),n=g=null;return 0===c.length||null!==k&&isNaN(k.duration)&&(k.duration=parseFloat((function(b){if(!N||!N.hasOwnProperty("error"))throw Error(h.default.MISSING_CONFIG_ERROR);!0;var d=E(b.mpd.manifest),
c=void 0;b.mpd.manifest.mediaPresentationDuration?c=b.mpd.manifest.mediaPresentationDuration:b.duration?c=b.duration:d?c=Number.POSITIVE_INFINITY:N.error(new J.default(O.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",b));return c}(k)-k.start).toFixed(5))),c},getMpd:function(b){var d=new p.default;return b&&((d.manifest=b).hasOwnProperty(f.default.AVAILABILITY_START_TIME)?d.availabilityStartTime=new Date(b.availabilityStartTime.getTime()):
b.loadedTime&&(d.availabilityStartTime=new Date(b.loadedTime.getTime())),b.hasOwnProperty(f.default.AVAILABILITY_END_TIME)&&(d.availabilityEndTime=new Date(b.availabilityEndTime.getTime())),b.hasOwnProperty(f.default.MINIMUM_UPDATE_PERIOD)&&(d.minimumUpdatePeriod=b.minimumUpdatePeriod),b.hasOwnProperty(f.default.MEDIA_PRESENTATION_DURATION)&&(d.mediaPresentationDuration=b.mediaPresentationDuration),b.hasOwnProperty(f.default.SUGGESTED_PRESENTATION_DELAY)&&(d.suggestedPresentationDelay=b.suggestedPresentationDelay),
b.hasOwnProperty(f.default.TIMESHIFT_BUFFER_DEPTH)&&(d.timeShiftBufferDepth=b.timeShiftBufferDepth),b.hasOwnProperty(f.default.MAX_SEGMENT_DURATION)&&(d.maxSegmentDuration=b.maxSegmentDuration),b.hasOwnProperty(f.default.PUBLISH_TIME)&&(d.publishTime=new Date(b.publishTime))),d},getEventsForPeriod:function(b){var d=b&&b.mpd&&b.mpd.manifest?b.mpd.manifest:null,c=(d=d?d.Period_asArray:null)&&b&&U(b.index)?d[b.index].EventStream_asArray:null;d=[];var e,g;if(c)for(e=0;e<c.length;e++){var k=new v.default;
if(k.period=b,k.timescale=1,!c[e].hasOwnProperty(h.default.SCHEME_ID_URI))throw Error("Invalid EventStream. SchemeIdUri has to be set");k.schemeIdUri=c[e][h.default.SCHEME_ID_URI];c[e].hasOwnProperty(f.default.TIMESCALE)&&(k.timescale=c[e][f.default.TIMESCALE]);c[e].hasOwnProperty(f.default.VALUE)&&(k.value=c[e][f.default.VALUE]);c[e].hasOwnProperty(f.default.PRESENTATION_TIME_OFFSET)&&(k.presentationTimeOffset=c[e][f.default.PRESENTATION_TIME_OFFSET]);for(g=0;c[e].Event_asArray&&g<c[e].Event_asArray.length;g++){var l,
n=c[e].Event_asArray[g],p=new u.default;p.presentationTime=0;p.eventStream=k;n.hasOwnProperty(f.default.PRESENTATION_TIME)&&(p.presentationTime=n.presentationTime,l=k.presentationTimeOffset?k.presentationTimeOffset/k.timescale:0,p.calculatedPresentationTime=p.presentationTime/k.timescale+b.start-l);n.hasOwnProperty(f.default.DURATION)&&(p.duration=n.duration/k.timescale);n.hasOwnProperty(f.default.ID)&&(p.id=n.id);n.Signal&&n.Signal.Binary?p.messageData=Z.decodeArray(n.Signal.Binary.toString()):p.messageData=
n.messageData||n.__text;d.push(p)}}return d},getEssentialPropertiesForRepresentation:x,getEventStreamForAdaptationSet:function(b,d){var c,e,f=void 0;return b&&b.Period_asArray&&d&&d.period&&U(d.period.index)&&(c=b.Period_asArray[d.period.index])&&c.AdaptationSet_asArray&&U(d.index)&&(e=c.AdaptationSet_asArray[d.index])&&(f=e.InbandEventStream_asArray),P(f,null)},getEventStreamForRepresentation:function(b,d){var c,e,f,h=void 0;return b&&b.Period_asArray&&d&&d.adaptation&&d.adaptation.period&&U(d.adaptation.period.index)&&
(c=b.Period_asArray[d.adaptation.period.index])&&c.AdaptationSet_asArray&&U(d.adaptation.index)&&(e=c.AdaptationSet_asArray[d.adaptation.index])&&e.Representation_asArray&&U(d.index)&&(f=e.Representation_asArray[d.index])&&(h=f.InbandEventStream_asArray),P(h,d)},getUTCTimingSources:function(b){var d=E(b),c=!!b&&b.hasOwnProperty(f.default.AVAILABILITY_START_TIME);b=b?b.UTCTiming_asArray:null;var e=[];return(d||c)&&b&&b.forEach(function(b){var d=new n.default;b.hasOwnProperty(h.default.SCHEME_ID_URI)&&
(d.schemeIdUri=b.schemeIdUri,b.hasOwnProperty(f.default.VALUE)&&(d.value=b.value.toString(),e.push(d)))}),e},getBaseURLsFromElement:K,getRepresentationSortFunction:g,getLocation:function(b){if(b&&b.hasOwnProperty(h.default.LOCATION))return b.Location=b.Location_asArray[0],b.Location},getPatchLocation:function(b){if(b&&b.hasOwnProperty(f.default.PATCH_LOCATION))return b.PatchLocation=b.PatchLocation_asArray[0],b.PatchLocation},getSuggestedPresentationDelay:function(b){return b&&b.hasOwnProperty(f.default.SUGGESTED_PRESENTATION_DELAY)?
b.suggestedPresentationDelay:null},getAvailabilityStartTime:function(b){return b&&b.hasOwnProperty(f.default.AVAILABILITY_START_TIME)&&null!==b.availabilityStartTime?b.availabilityStartTime.getTime():null},getServiceDescriptions:function(b){var d=[];if(b&&b.hasOwnProperty(f.default.SERVICE_DESCRIPTION)){var c=!0,e=!1,g=void 0;try{for(var k,l=b.ServiceDescription_asArray[Symbol.iterator]();!(c=(k=l.next()).done);c=!0){var n,p=k.value,u=b=void 0,t=void 0,q=void 0;for(n in p)p.hasOwnProperty(n)&&(n===
f.default.ID?b=p[n]:n===f.default.SERVICE_DESCRIPTION_SCOPE?u=p[n].schemeIdUri:n===f.default.SERVICE_DESCRIPTION_LATENCY?t={target:p[n].target,max:p[n].max,min:p[n].min}:n===f.default.SERVICE_DESCRIPTION_PLAYBACK_RATE&&(q={max:p[n].max,min:p[n].min}));u===h.default.SERVICE_DESCRIPTION_LL_SCHEME&&(t||q)&&d.push({id:b,schemeIdUri:u,latency:t,playbackRate:q})}}catch(ra){e=!0,g=ra}finally{try{!c&&l.return&&l.return()}finally{if(e)throw g;}}}return d},getSupplementalPropperties:function(b){var d={};if(b&&
b.hasOwnProperty(f.default.SUPPLEMENTAL_PROPERTY)){var c=!0,e=!1,g=void 0;try{for(var k=b.SupplementalProperty_asArray[Symbol.iterator]();!(c=(l=k.next()).done);c=!0){var l=l.value;l.hasOwnProperty(h.default.SCHEME_ID_URI)&&l.hasOwnProperty(f.default.VALUE)&&(d[l[h.default.SCHEME_ID_URI]]=l[f.default.VALUE])}}catch(ta){e=!0,g=ta}finally{try{!c&&k.return&&k.return()}finally{if(e)throw g;}}}return d},setConfig:function(b){b&&(b.errHandler&&(N=b.errHandler),b.BASE64&&(Z=b.BASE64))}},L=(0,t.default)(Q).getInstance().getLogger(H),
H}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(61)),b=c(e(94)),d=c(e(85)),l=c(e(93)),p=c(e(91)),n=c(e(99)),u=c(e(87)),w=c(e(86)),v=c(e(88)),z=c(e(230)),y=c(e(234)),q=c(e(47)),t=c(e(45)),J=c(e(239)),O=c(e(51)),A=e(217);k.__dashjs_factory_name="DashManifestModel";g.default=q.default.getSingletonFactory(k);m.exports=g.default},{112:112,217:217,230:230,234:234,239:239,45:45,47:47,51:51,61:61,85:85,86:86,87:87,88:88,91:91,93:93,94:94,99:99}],66:[function(e,m,g){function c(b){return b&&
b.__esModule?b:{default:b}}function k(){var c=void 0,e=void 0,f=this.context;return c={getIsPatch:function(b){return b&&b.hasOwnProperty(h.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function(b){return b&&b.hasOwnProperty(h.default.PUBLISH_TIME)?new Date(b[h.default.PUBLISH_TIME]):null},getOriginalPublishTime:function(b){return b&&b.hasOwnProperty(h.default.ORIGINAL_PUBLISH_TIME)?new Date(b[h.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(b){return b&&b[h.default.ORIGINAL_MPD_ID]||null},
getPatchOperations:function(b){return b?(b.__children||[]).map(function(b){var c=Object.keys(b)[0];if("add"!==c&&"remove"!==c&&"replace"!==c)return e.warn("Ignoring node of invalid action: "+c),null;var f=b[c],h=f.sel;if("add"===c&&f.type){if(!f.type.startsWith("@"))return e.warn("Ignoring add action for prefixed namespace declaration: "+f.type+"\x3d"+f.__text),null;h=h+"/"+f.type}b=new d.default(h);if(!b.isValid())return e.warn("Ignoring action with invalid selector: "+c+" - "+h),null;h=null;b.findsAttribute()?
h=f.__text||"":"remove"!==c&&(h=f.__children.reduce(function(b,d){var c=Object.keys(d)[0];return"#text"!==c&&(b[c]=b[c]||[],b[c].push(d[c])),b},{}));h=new l.default(c,b,h);return"add"===c&&(h.position=f.pos),h}).filter(function(b){return!!b}):[]}},e=(0,b.default)(f).getInstance().getLogger(c),c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(61)),f=c(e(47)),b=c(e(45)),d=c(e(97)),l=c(e(92));k.__dashjs_factory_name="PatchManifestModel";g.default=f.default.getSingletonFactory(k);m.exports=
g.default},{45:45,47:47,61:61,92:92,97:97}],67:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){c=c||{};var e=this.context;c=c.debug;var h=void 0,g=void 0,k=void 0,v=void 0,m=void 0;return h={parse:function(b){var d=void 0,c=window.performance.now();if(!(d=v.xml_str2json(b)))throw Error("parsing the manifest failed");var e=window.performance.now();return d.Patch?((d=d.Patch).add_asArray&&d.add_asArray.forEach(function(b){return m.run(b)}),d.replace_asArray&&d.replace_asArray.forEach(function(b){return m.run(b)})):
(d=d.MPD,m.run(d)),b=window.performance.now(),g.info("Parsing complete: ( xml2json: "+(e-c).toPrecision(3)+"ms, objectiron: "+(b-e).toPrecision(3)+"ms, total: "+((b-c)/1E3).toPrecision(3)+"s)"),d.protocol="DASH",d},getMatchers:function(){return k},getIron:function(){return m}},g=c.getLogger(h),k=[new l.default,new p.default,new n.default,new d.default],v=new b.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,
matchers:k}),m=(0,f.default)(e).create({adaptationset:new u.default,period:new w.default}),h}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(77)),b=c(e(3)),d=c(e(76)),l=c(e(74)),p=c(e(73)),n=c(e(75)),u=c(e(70)),w=c(e(71));k.__dashjs_factory_name="DashParser";g.default=h.default.getClassFactory(k);m.exports=g.default},{3:3,47:47,70:70,71:71,73:73,74:74,75:75,76:76,77:77}],68:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;
d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(c){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this._merge=(this._name=c)&&c.length&&c.charAt(0)===c.charAt(0).toUpperCase()}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),k);g.default=e;m.exports=g.default},
{}],69:[function(e,m,g){function c(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function k(d,c,e){var f=this;if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this._name=d||"";this._properties=[];this._children=e||[];Array.isArray(c)&&c.forEach(function(d){f._properties.push(new b.default(d))})}Object.defineProperty(g,"__esModule",{value:!0});var h=function(b,
e,f){return e&&c(b.prototype,e),f&&c(b,f),b},f,b=(f=e(68))&&f.__esModule?f:{default:f};h=(h(k,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),k);g.default=h;m.exports=g.default},{68:68}],70:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;var b=[f.default.PROFILES,f.default.WIDTH,
f.default.HEIGHT,f.default.SAR,f.default.FRAMERATE,f.default.AUDIO_SAMPLING_RATE,f.default.MIME_TYPE,f.default.SEGMENT_PROFILES,f.default.CODECS,f.default.MAXIMUM_SAP_PERIOD,f.default.START_WITH_SAP,f.default.MAX_PLAYOUT_RATE,f.default.CODING_DEPENDENCY,f.default.SCAN_TYPE,f.default.FRAME_PACKING,f.default.AUDIO_CHANNEL_CONFIGURATION,f.default.CONTENT_PROTECTION,f.default.ESSENTIAL_PROPERTY,f.default.SUPPLEMENTAL_PROPERTY,f.default.INBAND_EVENT_STREAM];a:{var d=Object.getPrototypeOf(k.prototype),
c="constructor";var e=this;for(var g=!0;g;){null===d&&(d=Function.prototype);g=Object.getOwnPropertyDescriptor(d,c);if(void 0!==g){if("value"in g){e=g.value;break a}d=g.get;if(void 0===d)break;e=d.call(e);break a}d=Object.getPrototypeOf(d);if(null===d)break;g=!0}e=void 0}e.call(this,f.default.ADAPTATION_SET,b,[new h.default(f.default.REPRESENTATION,b,[new h.default(f.default.SUB_REPRESENTATION,b)])])}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(69)),f=c(e(61));e=(function(b,d){if("function"!=
typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}(k,h["default"]),k);g.default=e;m.exports=g.default},{61:61,69:69}],71:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");
!0;var b=[f.default.SEGMENT_BASE,f.default.SEGMENT_TEMPLATE,f.default.SEGMENT_LIST];a:{var d=Object.getPrototypeOf(k.prototype),c="constructor";var e=this;for(var g=!0;g;){null===d&&(d=Function.prototype);g=Object.getOwnPropertyDescriptor(d,c);if(void 0!==g){if("value"in g){e=g.value;break a}d=g.get;if(void 0===d)break;e=d.call(e);break a}d=Object.getPrototypeOf(d);if(null===d)break;g=!0}e=void 0}e.call(this,f.default.PERIOD,b,[new h.default(f.default.ADAPTATION_SET,b,[new h.default(f.default.REPRESENTATION,
b)])])}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(69)),f=c(e(61));e=(function(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}(k,h["default"]),k);g.default=e;m.exports=g.default},{61:61,69:69}],72:[function(e,m,g){function c(c,e){for(var b=
0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(c,e){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this._test=c;this._converter=e}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),k);g.default=
e;m.exports=g.default},{}],73:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;k(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,function(b){return f.test(b.value)},function(b){var d=f.exec(b);var c=Date.UTC(parseInt(d[1],10),parseInt(d[2],10)-1,parseInt(d[3],10),parseInt(d[4],10),parseInt(d[5],10),d[6]&&parseInt(d[6],10)||0,d[7]&&1E3*parseFloat(d[7])||0);return d[9]&&d[10]&&(b=60*parseInt(d[9],10)+parseInt(d[10],10),
c+=("+"===d[8]?-1:1)*b*6E4),new Date(c)})}Object.defineProperty(g,"__esModule",{value:!0});var k=function(b,d,c){for(var e=!0;e;){null===b&&(b=Function.prototype);e=Object.getOwnPropertyDescriptor(b,d);if(void 0!==e){if("value"in e)return e.value;b=e.get;if(void 0===b)break;return b.call(c)}b=Object.getPrototypeOf(b);if(null===b)break;e=!0}},h;e=(h=e(72))&&h.__esModule?h:{default:h};var f=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;
e=(function(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}(c,e["default"]),c);g.default=e;m.exports=g.default},{72:72}],74:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");
!0;h(Object.getPrototypeOf(k.prototype),"constructor",this).call(this,function(c){for(var e=[d.default.MIN_BUFFER_TIME,d.default.MEDIA_PRESENTATION_DURATION,d.default.MINIMUM_UPDATE_PERIOD,d.default.TIMESHIFT_BUFFER_DEPTH,d.default.MAX_SEGMENT_DURATION,d.default.MAX_SUBSEGMENT_DURATION,d.default.SUGGESTED_PRESENTATION_DELAY,d.default.START,b.default.START_TIME,d.default.DURATION],f=e.length,h=0;h<f;h++)if(c.nodeName===e[h])return l.test(c.value);return!1},function(b){var d=l.exec(b);b=31536E3*parseFloat(d[3]||
0)+2592E3*parseFloat(d[5]||0)+86400*parseFloat(d[7]||0)+3600*parseFloat(d[9]||0)+60*parseFloat(d[11]||0)+parseFloat(d[13]||0);return void 0!==d[1]&&(b=-b),b})}Object.defineProperty(g,"__esModule",{value:!0});var h=function(b,d,c){for(var e=!0;e;){null===b&&(b=Function.prototype);e=Object.getOwnPropertyDescriptor(b,d);if(void 0!==e){if("value"in e)return e.value;b=e.get;if(void 0===b)break;return b.call(c)}b=Object.getPrototypeOf(b);if(null===b)break;e=!0}},f=c(e(72)),b=c(e(112)),d=c(e(61)),l=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;
f=(function(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}(k,f["default"]),k);g.default=f;m.exports=g.default},{112:112,61:61,72:72}],75:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
!0;k(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,function(b){return f.test(b.value)},function(b){return parseFloat(b)})}Object.defineProperty(g,"__esModule",{value:!0});var k=function(b,d,c){for(var e=!0;e;){null===b&&(b=Function.prototype);e=Object.getOwnPropertyDescriptor(b,d);if(void 0!==e){if("value"in e)return e.value;b=e.get;if(void 0===b)break;return b.call(c)}b=Object.getPrototypeOf(b);if(null===b)break;e=!0}},h;e=(h=e(72))&&h.__esModule?h:{default:h};var f=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;
e=(function(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}(c,e["default"]),c);g.default=e;m.exports=g.default},{72:72}],76:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b,d,c){return d in b?Object.defineProperty(b,
d,{value:c,enumerable:!0,configurable:!0,writable:!0}):b[d]=c,b}function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");!0;f(Object.getPrototypeOf(h.prototype),"constructor",this).call(this,function(b,c){var e=(k(e={},d.default.MPD,[d.default.ID,d.default.PROFILES]),k(e,d.default.PERIOD,[d.default.ID]),k(e,d.default.BASE_URL,[d.default.SERVICE_LOCATION,d.default.BYTE_RANGE]),k(e,d.default.SEGMENT_BASE,[d.default.INDEX_RANGE]),k(e,d.default.INITIALIZATION,[d.default.RANGE]),
k(e,d.default.REPRESENTATION_INDEX,[d.default.RANGE]),k(e,d.default.SEGMENT_LIST,[d.default.INDEX_RANGE]),k(e,d.default.BITSTREAM_SWITCHING,[d.default.RANGE]),k(e,d.default.SEGMENT_URL,[d.default.MEDIA_RANGE,d.default.INDEX_RANGE]),k(e,d.default.SEGMENT_TEMPLATE,[d.default.INDEX_RANGE,d.default.MEDIA,d.default.INDEX,d.default.INITIALIZATION_MINUS,d.default.BITSTREAM_SWITCHING_MINUS]),k(e,d.default.ASSET_IDENTIFIER,[d.default.VALUE,d.default.ID]),k(e,d.default.EVENT_STREAM,[d.default.VALUE]),k(e,d.default.ADAPTATION_SET,
[d.default.PROFILES,d.default.MIME_TYPE,d.default.SEGMENT_PROFILES,d.default.CODECS,d.default.CONTENT_TYPE]),k(e,d.default.FRAME_PACKING,[d.default.VALUE,d.default.ID]),k(e,d.default.AUDIO_CHANNEL_CONFIGURATION,[d.default.VALUE,d.default.ID]),k(e,d.default.CONTENT_PROTECTION,[d.default.VALUE,d.default.ID]),k(e,d.default.ESSENTIAL_PROPERTY,[d.default.VALUE,d.default.ID]),k(e,d.default.SUPPLEMENTAL_PROPERTY,[d.default.VALUE,d.default.ID]),k(e,d.default.INBAND_EVENT_STREAM,[d.default.VALUE,d.default.ID]),
k(e,d.default.ACCESSIBILITY,[d.default.VALUE,d.default.ID]),k(e,d.default.ROLE,[d.default.VALUE,d.default.ID]),k(e,d.default.RATING,[d.default.VALUE,d.default.ID]),k(e,d.default.VIEWPOINT,[d.default.VALUE,d.default.ID]),k(e,d.default.CONTENT_COMPONENT,[d.default.CONTENT_TYPE]),k(e,d.default.REPRESENTATION,[d.default.ID,d.default.DEPENDENCY_ID,d.default.MEDIA_STREAM_STRUCTURE_ID]),k(e,d.default.SUBSET,[d.default.ID]),k(e,d.default.METRICS,[d.default.METRICS_MINUS]),k(e,d.default.REPORTING,[d.default.VALUE,
d.default.ID]),e);return e.hasOwnProperty(c)?(c=e[c],void 0!==c&&0<=c.indexOf(b.name)):!1},function(b){return String(b)})}Object.defineProperty(g,"__esModule",{value:!0});var f=function(b,d,c){for(var e=!0;e;){null===b&&(b=Function.prototype);e=Object.getOwnPropertyDescriptor(b,d);if(void 0!==e){if("value"in e)return e.value;b=e.get;if(void 0===b)break;return b.call(c)}b=Object.getPrototypeOf(b);if(null===b)break;e=!0}},b=c(e(72)),d=c(e(61));b=(function(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}(h,b["default"]),h);g.default=b;m.exports=g.default},{61:61,72:72}],77:[function(e,m,g){function c(c){function e(b,d){for(var c=0,f=b.children.length;c<f;++c){var h=b.children[c],g=d[h.name+"_asArray"];if(g)for(var k=0,v=g.length;k<v;++k){for(var z=g[k],y=b.properties,q=d,t=z,J=0,m=y.length;J<m;++J){var A=y[J];if(q[A.name])if(t[A.name]){if(A.merge){var G=
q[A.name];var D=t[A.name];if("object"==typeof G&&"object"==typeof D)for(A in A=void 0,G)D.hasOwnProperty(A)||(D[A]=G[A]);else t[A.name]=G+D}}else t[A.name]=q[A.name]}e(h,z)}}}return{run:function(b){if(null===b||"object"!=typeof b)return b;if(b.Period_asArray&&"period"in c)for(var d=c.period,f=b.Period_asArray,h=0,g=f.length;h<g;++h){var k=f[h];if(e(d,k),"adaptationset"in c)if(k=k.AdaptationSet_asArray)for(var w=c.adaptationset,v=0,z=k.length;v<z;++v)e(w,k[v])}return b}}}Object.defineProperty(g,"__esModule",
{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="ObjectIron";e=e.default.getClassFactory(c);g.default=e;m.exports=g.default},{47:47}],78:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d,c){function e(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(f.default.MISSING_CONFIG_ERROR);}function h(d,f){if(e(),!d)return null;var h=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentList,
k=h.SegmentURL_asArray.length,l=d&&!isNaN(d.startNumber)?d.startNumber:1,n=Math.max(l-1,0),p=Math.max(f-n,0);n=null;return p<k&&(p=h.SegmentURL_asArray[p],(n=(0,b.getIndexBasedSegment)(g,c,d,f))&&(n.replacementTime=(l+f-1)*d.segmentDuration,n.media=p.media?p.media:"",n.mediaRange=p.mediaRange,n.index=f,n.indexRange=p.indexRange)),d.availableSegmentsNumber=k,n}var g=(d=d||{}).timelineConverter;return{getSegmentByIndex:h,getSegmentByTime:function(b,d){if(e(),!b)return null;var c=b.segmentDuration;return isNaN(c)?
null:(d=g.calcPeriodRelativeTimeFromMpdRelativeTime(b,d),h(b,Math.floor(d/c)))}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(112)),b=e(81);k.__dashjs_factory_name="ListSegmentsGetter";h=h.default.getClassFactory(k);g.default=h;m.exports=g.default},{112:112,47:47,81:81}],79:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(){if(!(this instanceof
k))throw new TypeError("Cannot call a class as a function");!0}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,null,[{key:"round10",value:function(c,e){return b="round",void 0!==e&&0!=+e?(e=+e,null===(c=+c)||isNaN(c)||"number"!=typeof e||0!=e%1?NaN:(c=c.toString().split("e"),+((c=(c=Math[b](+(c[0]+"e"+(c[1]?+c[1]-e:-e)))).toString().split("e"))[0]+"e"+(c[1]?+c[1]+e:e)))):Math[b](c);var b}}]),k);g.default=e;m.exports=g.default},{}],80:[function(e,
m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function d(){if(!e||!e.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(f.default.MISSING_CONFIG_ERROR);}function c(b,c){if(d(),!b)return null;var e=b.segments?b.segments.length:-1,f=void 0;if(c<e&&(f=b.segments[c])&&f.availabilityIdx===c)return f;for(var h=0;h<e;h++)if((f=b.segments[h])&&f.availabilityIdx===c)return f;return null}var e=(b=b||{}).timelineConverter;return{getSegmentByIndex:c,getSegmentByTime:function(b,
e){d();if(b){var f=b.segments,h=f?f.length:null,g=-1,k=void 0,l=void 0,n=void 0,p=void 0,u;if(f&&0<h)for(u=0;u<h;u++)if(l=f[u],n=l.presentationStartTime,p=l.duration,n<=e+(k=p/2)&&e-k<n+p){g=l.availabilityIdx;break}e=g}else e=-1;return c(b,e)}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(112));k.__dashjs_factory_name="SegmentBaseGetter";h=h.default.getClassFactory(k);g.default=h;m.exports=g.default},{112:112,47:47}],81:[function(e,m,g){function c(b,d){for(;b.length<d;)b=
"0"+b;return b}function k(b,d,e){var f,h,g,k,l,n=d.length;if(!b)return b;for(;;){if(0>(f=b.indexOf("$"+d))||0>(h=b.indexOf("$",f+n)))return b;if(f<(g=b.indexOf("%0",f+n))&&g<h)switch(k=b.charAt(h-1),l=parseInt(b.substring(g+2,h-1),10),k){case "d":case "i":case "u":l=c(e.toString(),l);break;case "x":l=c(e.toString(16),l);break;case "X":l=c(e.toString(16),l).toUpperCase();break;case "o":l=c(e.toString(8),l);break;default:return b}else l=e;b=b.substring(0,f)+l+b.substring(h+1)}}function h(b,c,e,f,h,
g,k,y,q){var l=new d.default;return l.representation=b,l.duration=c,l.presentationStartTime=e,l.mediaStartTime=f,l.availabilityStartTime=h,l.availabilityEndTime=g.calcAvailabilityEndTimeFromPresentationTime(k,b.adaptation.period.mpd,y),l.wallStartTime=g.calcWallTimeForSegment(l,y),l.replacementNumber=(y=q,l.representation.startNumber+y),l.availabilityIdx=q,l}function f(b,d,c,e){var f=b.getPeriodEnd(d,e);if(!(b.calcPeriodRelativeTimeFromMpdRelativeTime(d,f)<=b.calcPeriodRelativeTimeFromMpdRelativeTime(d,
c.presentationStartTime)&&(!e||d.segmentAvailabilityRange&&c.presentationStartTime>=d.segmentAvailabilityRange.end)))return 1}Object.defineProperty(g,"__esModule",{value:!0});g.unescapeDollarsInTemplate=function(b){return b?b.split("$$").join("$"):b};g.replaceIDForTemplate=function(b,d){if(!d||!b||-1===b.indexOf("$RepresentationID$"))return b;d=d.toString();return b.split("$RepresentationID$").join(d)};g.replaceTokenForTemplate=k;g.getIndexBasedSegment=function(b,d,c,e){var g=c.segmentDuration;isNaN(g)&&
(g=c.adaptation.period.duration);var k=parseFloat((c.adaptation.period.start+e*g).toFixed(5));var l=parseFloat((k+g).toFixed(5));e=h(c,g,k,b.calcMediaTimeFromPresentationTime(k,c),b.calcAvailabilityStartTimeFromPresentationTime(k,c.adaptation.period.mpd,d),b,l,d,e);return f(b,c,e,d)?e:null};g.getTimeBasedSegment=function(b,d,c,e,g,v,z,y,q,t){var l=e/v,n=Math.min(g/v,c.adaptation.period.mpd.maxSegmentDuration),p=void 0;v=g=void 0;return p=b.calcPresentationTimeFromMediaTime(l,c),g=p+n,v=h(c,n,p,l,
c.adaptation.period.mpd.manifest.loadedTime,b,g,d,q),f(b,c,v,d)?(v.replacementTime=t||e,z=k(z,"Number",v.replacementNumber),z=k(z,"Time",v.replacementTime),v.media=z,v.mediaRange=y,v):null};var b,d=(b=e(96))&&b.__esModule?b:{default:b}},{96:96}],82:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d,c){function e(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(f.default.MISSING_CONFIG_ERROR);}function h(d,f){if(e(),!d)return null;var h=
d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentTemplate;f=Math.max(f,0);var k=(0,b.getIndexBasedSegment)(g,c,d,f);k&&(k.replacementTime=Math.round((f-1)*d.segmentDuration*d.timescale,10),l=h.media,l=(0,b.replaceTokenForTemplate)(l,"Number",k.replacementNumber),l=(0,b.replaceTokenForTemplate)(l,"Time",k.replacementTime),k.media=l);h=d.segmentDuration;var l=d.segmentAvailabilityRange;return isNaN(h)?
d.availableSegmentsNumber=1:d.availableSegmentsNumber=Math.ceil((l.end-l.start)/h),k}var g=(d=d||{}).timelineConverter;return{getSegmentByIndex:h,getSegmentByTime:function(b,d){if(e(),!b)return null;var c=b.segmentDuration;return isNaN(c)?null:(d=g.calcPeriodRelativeTimeFromMpdRelativeTime(b,d),h(b,Math.floor(d/c)))}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(112)),b=e(81);k.__dashjs_factory_name="TemplateSegmentsGetter";h=h.default.getClassFactory(k);g.default=h;m.exports=
g.default},{112:112,47:47,81:81}],83:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(b,d,c,e){return e?c&&d.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(d.availabilityStartTime.getTime()+1E3*(b+d.timeShiftBufferDepth)):d.availabilityEndTime:c?new Date(d.availabilityStartTime.getTime()+1E3*(b-A)):d.availabilityStartTime}function c(b,d){return(b.getTime()-d.mpd.availabilityStartTime.getTime()+1E3*A)/1E3}function e(b,d){return b+(d.adaptation.period.start-
d.presentationTimeOffset)}function g(b){void 0!==b.offset&&(A=b.offset/1E3,G=!0)}function k(){t.off(f.default.UPDATE_TIME_SYNC_OFFSET,g,this);A=0;G=!1;D=NaN}var y,q=this.context,t=(0,h.default)(q).getInstance(),J=(0,p.default)(q).getInstance(),m=void 0,A=void 0,G=void 0,D=void 0;return y={initialize:function(){A=0;G=!1;D=NaN;t.on(f.default.UPDATE_TIME_SYNC_OFFSET,g,this)},getClientTimeOffset:function(){return A},setClientTimeOffset:function(b){A=b},getExpectedLiveEdge:function(){return D},setExpectedLiveEdge:function(b){D=
b},calcAvailabilityStartTimeFromPresentationTime:function(d,c,e){return b.call(this,d,c,e)},calcAvailabilityEndTimeFromPresentationTime:function(d,c,e){return b.call(this,d,c,e,!0)},calcPresentationTimeFromWallTime:c,calcPresentationTimeFromMediaTime:e,calcPeriodRelativeTimeFromMpdRelativeTime:function(b,d){return d-b.adaptation.period.start},calcMediaTimeFromPresentationTime:function(b,d){return b-d.adaptation.period.start+d.presentationTimeOffset},calcSegmentAvailabilityRange:function(b,f){var h=
b.adaptation.period,g={start:h.start,end:h.start+h.duration};if(!f)return g;if(!G&&b.segmentAvailabilityRange)return b.segmentAvailabilityRange;var k=b.segmentDuration||(b.segments&&b.segments.length?b.segments[b.segments.length-1].duration:0);if(b.segmentInfoType===d.default.SEGMENT_TIMELINE&&J.get().streaming.calcSegmentAvailabilityRangeFromTimeline){f=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index];h=m.getRepresentationFor(b.index,
f);f=h.SegmentTemplate.SegmentTimeline;h=h.SegmentTemplate.timescale;g=f.S_asArray;f={start:0,end:0};k=0;var l;f.start=e(g[0].t/h,b);var n=0;for(l=g.length;n<l;n++){b=g[n];var p=0;b.hasOwnProperty("r")&&(p=b.r);k+=b.d/h*(1+p)}return f.end=f.start+k,f}p=c(new Date,h);f=h.start+h.duration;return g.start=Math.max(p-h.mpd.timeShiftBufferDepth,h.start),k=void 0!==b.availabilityTimeOffset&&b.availabilityTimeOffset<k?k-b.availabilityTimeOffset:k,g.end=f<=p&&p-k<f?f:p-k,g},getPeriodEnd:function(b,d){var e=
b.adaptation.period;if(!d)return e.start+e.duration;if(!G&&b.segmentAvailabilityRange)return b.segmentAvailabilityRange;var f=b.segmentDuration||(b.segments&&b.segments.length?b.segments[b.segments.length-1].duration:0);d=c(new Date,e);e=e.start+e.duration;f=void 0!==b.availabilityTimeOffset&&b.availabilityTimeOffset<f?f-b.availabilityTimeOffset:f;return Math.min(d-f,e)},calcWallTimeForSegment:function(b,d){var c=void 0;return d&&(d=b.representation.adaptation.period.mpd.suggestedPresentationDelay,
d=b.presentationStartTime+d,c=new Date(b.availabilityStartTime.getTime()+1E3*d)),c},reset:k},m=(0,l.default)(q).getInstance(),k(),y}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(46)),f=c(e(54)),b=c(e(47)),d=c(e(61)),l=c(e(65)),p=c(e(48));k.__dashjs_factory_name="TimelineConverter";g.default=b.default.getSingletonFactory(k);m.exports=g.default},{46:46,47:47,48:48,54:54,61:61,65:65}],84:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d,c){function e(){if(!g||
!g.hasOwnProperty("calcMediaTimeFromPresentationTime")||!g.hasOwnProperty("calcSegmentAvailabilityRange"))throw Error(f.default.MISSING_CONFIG_ERROR);}function h(b,d){var e=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentTemplate||b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentList,f=
e.SegmentTimeline,h=e.SegmentURL_asArray,k=0,l=0,n=-1,p=void 0,u,v=void 0,w=void 0,m=b.timescale,M=!1;var C=0;for(var E=(f=f.S_asArray).length;C<E&&!M;C++){var x;var P=0;(p=f[C]).hasOwnProperty("r")&&(P=p.r);p.hasOwnProperty("t")&&(l=(k=p.t)/m);0>P&&((w=f[C+1])&&w.hasOwnProperty("t")?v=w.t/m:(x=(b.segmentAvailabilityRange?b.segmentAvailabilityRange:g.calcSegmentAvailabilityRange(b,c)).end,v=g.calcMediaTimeFromPresentationTime(x,b),b.segmentDuration=p.d/m),P=Math.ceil((v-l)/(p.d/m))-1);for(u=0;u<=
P&&!M;u++)(M=d(k,l,e,h,p,m,++n,C))&&(b.segmentDuration=p.d/m,(u<P-1||C<E-1)&&n++),l=(k+=p.d)/m}b.availableSegmentsNumber=n}var g=(d=d||{}).timelineConverter;return{getSegmentByIndex:function(d,f,k){if(e(),!d)return null;var l=null,n=!1;return h(d,function(e,f,h,p,u,q,v,w){return n||0>k?(f=h.media,h=u.mediaRange,p&&(f=p[w].media||"",h=p[w].mediaRange),l=(0,b.getTimeBasedSegment)(g,c,d,e,u.d,q,f,h,v,u.tManifest),!0):(f>=k-.5*u.d/q&&(n=!0),!1)}),l},getSegmentByTime:function(d,f){if(e(),!d)return null;
void 0===f&&(f=null);var k=null,l=g.calcMediaTimeFromPresentationTime(f,d);return h(d,function(e,f,h,n,p,u,v,w){return l<f+p.d/u?(f=h.media,h=p.mediaRange,n&&(f=n[w].media||"",h=n[w].mediaRange),k=(0,b.getTimeBasedSegment)(g,c,d,e,p.d,u,f,h,v,p.tManifest),!0):!1}),k}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(112)),b=e(81);k.__dashjs_factory_name="TimelineSegmentsGetter";h=h.default.getClassFactory(k);g.default=h;m.exports=g.default},{112:112,47:47,81:81}],85:[function(e,
m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.period=null;this.index=-1;this.type=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],86:[function(e,m,g){function c(e,h,f,b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.url=e||"";this.serviceLocation=h||e||"";this.dvb_priority=f||1;this.dvb_weight=b||1;this.availabilityTimeOffset=0;this.availabilityTimeComplete=
!0}Object.defineProperty(g,"__esModule",{value:!0});c.DEFAULT_DVB_PRIORITY=1;c.DEFAULT_DVB_WEIGHT=1;g.default=c;m.exports=g.default},{}],87:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.id=this.presentationTime=this.duration=NaN;this.messageData="";this.eventStream=null;this.presentationTimeDelta=NaN}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],88:[function(e,m,g){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");!0;this.period=this.representation=this.adaptionSet=null;this.timescale=1;this.schemeIdUri=this.value="";this.presentationTimeOffset=0}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],89:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.DVRWindowSize=NaN;this.availableFrom=this.loadedTime=null;this.duration=this.minBufferTime=NaN;this.isDynamic=
!1;this.maxFragmentDuration=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],90:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.streamInfo=this.type=this.index=this.id=null;this.representationCount=0;this.contentProtection=this.mimeType=this.codec=this.roles=this.audioChannelConfiguration=this.accessibility=this.viewpoint=this.lang=null;this.isText=!1;this.bitrateList=this.KID=null}Object.defineProperty(g,
"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],91:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.manifest=null;this.suggestedPresentationDelay=0;this.availabilityStartTime=null;this.maxSegmentDuration=this.timeShiftBufferDepth=this.availabilityEndTime=Number.POSITIVE_INFINITY;this.publishTime=null;this.mediaPresentationDuration=this.minimumUpdatePeriod=NaN}Object.defineProperty(g,"__esModule",{value:!0});g.default=
c;m.exports=g.default},{}],92:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(c,e,b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.action=c;this.xpath=e;this.value=b;this.position=null}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"getMpdTarget",
value:function(c){return this.xpath.getMpdTarget(c,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),k);g.default=e;m.exports=g.default},{}],93:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.id=null;this.index=-1;this.start=this.duration=NaN;this.mpd=null}Object.defineProperty(g,"__esModule",{value:!0});c.DEFAULT_ID="defaultId";g.default=c;m.exports=g.default},{}],94:[function(e,
m,g){function c(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.id=null;this.index=-1;this.codecPrivateData=this.codecs=this.initialization=this.segmentInfoType=this.adaptation=null;this.segmentDuration=NaN;this.startNumber=this.timescale=1;this.range=this.indexRange=null;this.presentationTimeOffset=
0;this.MSETimeOffset=NaN;this.segmentAvailabilityRange=null;this.availableSegmentsNumber=0;this.height=this.width=this.bandwidth=NaN;this.scanType=null;this.maxPlayoutRate=NaN;this.availabilityTimeOffset=0;this.availabilityTimeComplete=!0}Object.defineProperty(g,"__esModule",{value:!0});var h=function(b,e,f){return e&&c(b.prototype,e),f&&c(b,f),b},f,b=(f=e(61))&&f.__esModule?f:{default:f};h=(h(k,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",
value:function(){return this.segmentInfoType!==b.default.BASE_URL&&this.segmentInfoType!==b.default.SEGMENT_BASE&&!this.indexRange}}]),k);g.default=h;m.exports=g.default},{61:61}],95:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.MSETimeOffset=this.mediaInfo=this.fragmentDuration=this.DVRWindow=this.quality=this.id=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],96:[function(e,m,g){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");!0;this.media=this.mediaRange=this.index=this.indexRange=null;this.duration=NaN;this.replacementTime=null;this.wallStartTime=this.availabilityIdx=this.availabilityEndTime=this.availabilityStartTime=this.presentationStartTime=this.mediaStartTime=this.replacementNumber=NaN;this.representation=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],97:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=
e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(c){var e=this;if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.valid="/"==c[0];this.path=c.split("/").filter(function(b){return 0!==b.length}).map(function(b){var d={name:b},c=b.indexOf("[");return-1!=c&&(d.name=b.substring(0,c),c=b.substring(c+1,b.length-1),e.valid=e.valid&&-1==c.indexOf("["),-1!=(b=c.indexOf("\x3d"))?(d.attribute=
{name:c.substring(1,b),value:c.substring(b+1)},-1!=["'",'"'].indexOf(d.attribute.value[0])&&(d.attribute.value=d.attribute.value.substring(1,d.attribute.value.length-1))):d.position=parseInt(c,10)-1),d})}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-
1].name.startsWith("@")}},{key:"getMpdTarget",value:function(c,e){var b=null,d=c;c=1;for(var f="MPD";c<this.path.length&&null!==d;){b=d;var h,g=this.path[c];f=g.name;c===this.path.length-1&&f.startsWith("@")||(0===(h=b[f+"_asArray"]||[]).length&&b[f]&&h.push(b[f]),g.position?d=h[g.position]||null:g.attribute?function(){var b=g.attribute;d=h.filter(function(d){return d[b.name]==b.value})[0]||null}():d=h[0]||null);c++}return null===d?null:f.startsWith("@")?{name:f.substring(1),leaf:d,target:d}:{name:f,
leaf:d,target:e?b:d}}}]),k);g.default=e;m.exports=g.default},{}],98:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.index=this.id=null;this.duration=this.start=NaN;this.manifestInfo=null;this.isLast=!0}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],99:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.value=this.schemeIdUri=
""}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],100:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){c=c||{};var e=this.context,g=c.eventBus,k=c.events,l=c.urlUtils,v=c.errors,z=void 0,y=void 0;return z={checkForExistence:function(d){function c(b){g.trigger(k.CHECK_FOR_EXISTENCE_COMPLETED,{request:d,exists:b})}var e;d?(e=new b.default(d.url),y.load({request:e,success:function(){c(!0)},error:function(){c(!1)}})):c(!1)},load:function(b){function c(d,
c){g.trigger(k.LOADING_COMPLETED,{request:b,response:d||null,error:c||null,sender:z})}b?y.load({request:b,progress:function(d){g.trigger(k.LOADING_PROGRESS,{request:b,stream:d.stream});d.data&&g.trigger(k.LOADING_DATA_PROGRESS,{request:b,response:d.data||null,error:null,sender:z})},success:function(b){c(b)},error:function(b,e,f){c(void 0,new d.default(v.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,f,e))},abort:function(b){b&&g.trigger(k.LOADING_ABANDONED,{mediaType:b.mediaType,request:b,sender:z})}}):
c(void 0,new d.default(v.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,v.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){y&&y.abort()},reset:function(){y&&(y.abort(),y=null)}},y=(0,f.default)(e).create({errHandler:c.errHandler,errors:v,dashMetrics:c.dashMetrics,mediaPlayerModel:c.mediaPlayerModel,requestModifier:c.requestModifier,useFetch:c.settings.get().streaming.lowLatencyEnabled,urlUtils:l,constants:h.default,boxParser:c.boxParser,dashConstants:c.dashConstants,requestTimeout:c.settings.get().streaming.fragmentRequestTimeout}),
z}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(163)),b=c(e(242)),d=c(e(239));e=c(e(47));k.__dashjs_factory_name="FragmentLoader";g.default=e.default.getClassFactory(k);m.exports=g.default},{112:112,163:163,239:239,242:242,47:47}],101:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(b){t.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:b.manifest})}c=c||{};var g=this.context,k=c.debug,t=(0,w.default)(g).getInstance(),y=(0,l.default)(g).getInstance(),
m=void 0,B=void 0,M=void 0,C=void 0,E=void 0,x=c.mssHandler,P=c.errHandler;return m={load:function(b){var d=new p.default(b,u.HTTPRequest.MPD_TYPE);M.load({request:d,success:function(d,c,e){if(C){var f=void 0,l=void 0,p=void 0;if(e&&e!==b?(l=y.parseBaseUrl(e),f=e):(y.isRelative(b)&&(b=y.resolve(b,window.location.href)),l=y.parseBaseUrl(b)),"No Content"!=c)if(null===E&&(e=null,E=-1<(c=d).indexOf("SmoothStreamingMedia")?(x&&(e=x.createMssParser(),x.registerEvents()),e):-1<c.indexOf("MPD")||-1<c.indexOf("Patch")?
(0,q.default)(g).create({debug:k}):e),null!==E){C.setMatchers(E.getMatchers());C.setIron(E.getIron());try{p=E.parse(d)}catch(da){return void t.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new n.default(z.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,z.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+b)})}p?(p.url=f||b,p.originalUrl||(p.originalUrl=p.url),p.hasOwnProperty(h.default.LOCATION)&&(l=y.parseBaseUrl(p.Location_asArray[0]),B.debug("BaseURI set by Location to: "+
l)),p.baseUri=l,p.loadedTime=new Date,C.resolveManifestOnLoad(p),t.trigger(v.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:d})):t.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new n.default(z.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,z.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+b)})}else t.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new n.default(z.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,z.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+
""+b)});else t.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:null})}},error:function(d,c,e){t.trigger(v.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new n.default(z.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,z.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(b+", ")+e)})}})},reset:function(){t.off(v.default.XLINK_READY,e,m);x&&x.reset();C&&(C.reset(),C=null);M&&(M.abort(),M=null)}},B=k.getLogger(m),t.on(v.default.XLINK_READY,e,m),M=(0,d.default)(g).create({errHandler:c.errHandler,
dashMetrics:c.dashMetrics,mediaPlayerModel:c.mediaPlayerModel,requestModifier:c.requestModifier,useFetch:c.settings.get().streaming.lowLatencyEnabled,urlUtils:y,constants:h.default,dashConstants:f.default,errors:z.default}),C=(0,b.default)(g).create({errHandler:P,dashMetrics:c.dashMetrics,mediaPlayerModel:c.mediaPlayerModel,requestModifier:c.requestModifier,settings:c.settings}),E=null,m}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(61)),b=c(e(128)),d=c(e(163)),l=c(e(234)),
p=c(e(246)),n=c(e(239)),u=e(255),w=c(e(46)),v=c(e(54)),z=c(e(51)),y=c(e(47)),q=c(e(67));k.__dashjs_factory_name="ManifestLoader";y=y.default.getClassFactory(k);g.default=y;m.exports=g.default},{112:112,128:128,163:163,234:234,239:239,246:246,255:255,46:46,47:47,51:51,54:54,61:61,67:67}],102:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(){C=NaN;P=!(x=!(K=!1));c()}function c(){null!==E&&(clearTimeout(E),E=null)}function e(b){c();P||(isNaN(b)&&!isNaN(C)&&
(b=1E3*C),isNaN(b)||(M.debug("Refresh manifest in "+b+" milliseconds."),E=setTimeout(q,b)))}function g(){var b=!(0>=arguments.length||void 0===arguments[0])&&arguments[0];K=!0;var d=L.getValue(),c=d.url,e=N.getPatchLocation(d),f=N.getLocation(d);e&&!b?c=e:f&&(c=f);I.isRelative(c)&&(c=I.resolve(c,d.url));H.load(c)}function k(b){if(b){if(N.getIsPatch(b)){var d=b;b=L.getValue();var c=N.isPatchValid(b,d),h=c;if(c&&(c=N.getPublishTime(b),N.applyPatchToManifest(b,d),k=N.getPublishTime(b),h=c.getTime()!=
k.getTime()),!h)return M.debug("Patch provided is invalid, performing full manifest refresh"),void g(!0);b.loadedTime=new Date}}else(b=L.getValue()).loadedTime=new Date;if(L.getValue()&&L.getValue().type===p.default.DYNAMIC&&b.type===p.default.STATIC)return D.trigger(f.default.DYNAMIC_TO_STATIC),void(P=!(K=!1));L.setValue(b);var k=new Date;h=(k.getTime()-b.loadedTime.getTime())/1E3;2147483647<1E3*(C=N.getManifestUpdatePeriod(b,h))&&(C=2147483.647);D.trigger(f.default.MANIFEST_UPDATED,{manifest:b});
M.info("Manifest has been refreshed at "+k+"["+k.getTime()/1E3+"] ");x||e()}function q(){x||(K?e(Q.get().streaming.manifestUpdateRetryInterval):g())}function t(b){b.error?b.error.code===l.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&Z.error(b.error):k(b.manifest)}function m(){x=!1;e()}function O(){(x=!Q.get().streaming.scheduleWhilePaused)&&c()}function A(){K=!1}var G=this.context,D=(0,h.default)(G).getInstance(),I=(0,n.default)(G).getInstance(),B=void 0,M=void 0,C=void 0,E=void 0,x=void 0,
P=void 0,K=void 0,H=void 0,L=void 0,N=void 0,Z=void 0,Q=void 0;return B={initialize:function(){b();D.on(f.default.STREAMS_COMPOSED,A,this);D.on(f.default.PLAYBACK_STARTED,m,this);D.on(f.default.PLAYBACK_PAUSED,O,this);D.on(f.default.INTERNAL_MANIFEST_LOADED,t,this)},setManifest:function(b){k(b)},refreshManifest:g,setConfig:function(b){b&&(b.manifestModel&&(L=b.manifestModel),b.adapter&&(N=b.adapter),b.manifestLoader&&(H=b.manifestLoader),b.errHandler&&(Z=b.errHandler),b.settings&&(Q=b.settings))},
reset:function(){D.off(f.default.PLAYBACK_STARTED,m,this);D.off(f.default.PLAYBACK_PAUSED,O,this);D.off(f.default.STREAMS_COMPOSED,A,this);D.off(f.default.INTERNAL_MANIFEST_LOADED,t,this);b()}},M=(0,d.default)(G).getInstance().getLogger(B),B}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(46)),f=c(e(54)),b=c(e(47)),d=c(e(45)),l=c(e(51)),p=c(e(61)),n=c(e(234));k.__dashjs_factory_name="ManifestUpdater";g.default=b.default.getClassFactory(k);m.exports=g.default},{234:234,45:45,46:46,47:47,
51:51,54:54,61:61}],103:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){ba(null);V(null);ia=null;ya&&(ya.reset(),ya=null);bb&&(bb.reset(),bb=null);jb.reset();Ca.reset();Ya&&(Ya.reset(),Ya=null)}function e(){return!!xa&&!!Ua.getElement()}function g(){return(0,Q.getVersionString)()}function k(){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";return Sa.isPaused()}function m(b){var d=Va.getCurrentDVRInfo();
if(!d)return 0;var c=Sa.getLiveDelay();b=d.range.start+b;return b>d.range.end-c&&(b=d.range.end-c),b}function za(b){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";var d=Aa().currentTime;return void 0!==b?d=Pa.getTimeRelativeToStreamId(d,b):Sa.getIsDynamic()&&(d=null===(b=Va.getCurrentDVRInfo())||0===d?0:Math.max(0,d-b.range.start)),d}function Y(){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";
var b,d=Aa().duration;return Sa.getIsDynamic()&&(d=(b=Va.getCurrentDVRInfo())?b.range.end-b.range.start:0),d}function ka(b){(0,ua.checkParameterType)(b,"boolean");Ta=b}function sa(){Ra.restoreDefaultUTCTimingSources()}function Aa(){if(!Ua.getElement())throw"You must first call attachView() to set the video element before calling this method";return Ua.getElement()}function V(b){if(!Ma)throw"MediaPlayer not initialized!";Ua.setElement(b);b&&(oa(),function(){if(!bb){var b=dashjs.MetricsReporting;"function"==
typeof b&&(b=b(ja).create(),bb=b.createMetricsReporting({debug:na,eventBus:Ha,mediaElement:Aa(),adapter:Oa,dashMetrics:Va,events:H.default,constants:f.default,metricsConstants:d.default}))}}(),function(){if(!cb){var b=dashjs.MssHandler;"function"==typeof b&&(P.default.extend(b.errors),cb=b(ja).create({eventBus:Ha,mediaPlayerModel:Ra,dashMetrics:Va,manifestModel:hb,playbackController:Sa,streamController:Pa,protectionController:ya,baseURLController:$a,errHandler:Wa,events:H.default,constants:f.default,
debug:na,initSegmentType:X.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:S.default,ISOBoxer:la.default,settings:Ca}))}}(),Pa&&Pa.switchToVideoElement());Qa&&T();Ja()}function Ba(b){if(!Fa)throw"You must first call initialize() and set a source before calling this method";var d=Pa.getActiveStreamInfo();return Ga.getTracksFor(b,d)}function fa(b,d){var c=-1;b.some(function(b,e){if(b===d)return c=e,!0});0>c||b.splice(c,1)}function ba(b){if(!Ma)throw"MediaPlayer not initialized!";"string"==typeof b&&kb.initialize(b);
xa=b;(Fa||Qa)&&T();e()&&Ja()}function ca(){if(!Fa)throw"You must first call initialize() and set a source before calling this method";var b=Pa.getActiveStreamInfo();return b?Pa.getStreamById(b.id):null}function T(){Fa=Qa=!1;Oa.reset();Pa.reset();ib.reset();Sa.reset();Ia.reset();Ga.reset();Na.reset();ya&&(Ca.get().streaming.keepProtectionMediaKeys?ya.stop():(ya.reset(),ya=null,oa()));db.reset()}function ea(){return(0,v.default)(ja).create({debug:na,errHandler:Wa,dashMetrics:Va,mediaPlayerModel:Ra,
requestModifier:(0,J.default)(ja).getInstance(),mssHandler:cb,settings:Ca})}function oa(){if(ya)return ya;var b=dashjs.Protection;if("function"!=typeof b)return null;var d=b(ja).create();return H.default.extend(b.events),L.default.extend(b.events,{publicOnly:!0}),P.default.extend(b.errors),ab=ab||(0,y.default)(ja).getInstance(),(ya=d.createProtectionSystem({debug:na,errHandler:Wa,videoModel:Ua,capabilities:ab,eventBus:Ha,events:H.default,BASE64:S.default,constants:f.default,cmcdModel:db,settings:Ca}))&&
(ya.setLicenseRequestFilters(eb),ya.setLicenseResponseFilters(fb)),ya}function wa(){if(!Ma)throw"MediaPlayer not initialized!";if(Ya)return Ya;var d=dashjs.OfflineController;if("function"!=typeof d)return null;H.default.extend(d.events);L.default.extend(d.events,{publicOnly:!0});P.default.extend(d.errors);var c=ea(),e=(0,ta.default)(ja).create();return e.setConfig({manifestModel:hb,adapter:Oa,manifestLoader:c,errHandler:Wa}),Ya=d(ja).create({debug:na,manifestUpdater:e,baseURLController:$a,manifestLoader:c,
manifestModel:hb,mediaPlayerModel:Ra,abrController:Ia,playbackController:Sa,adapter:Oa,errHandler:Wa,dashMetrics:Va,timelineConverter:Ea,schemeLoaderFactory:Za,eventBus:Ha,events:H.default,errors:P.default,constants:f.default,settings:Ca,dashConstants:b.default,urlUtils:(0,ha.default)(ja).getInstance()})}function va(b){var d=Va.getCurrentDVRInfo();return d?b+(d.manifestInfo.availableFrom.getTime()/1E3+d.range.start):0}function Ja(){var b;Ya&&Ya.resetRecords();!Fa&&xa&&(Fa=!0,Ka.info("Streaming Initialized"),
b=ea(),Pa=Pa||(0,p.default)(ja).getInstance(),Xa.setConfig({capabilities:ab,adapter:Oa,settings:Ca}),Xa.setCustomCapabilitiesFilters(gb),Pa.setConfig({capabilities:ab,capabilitiesFilter:Xa,manifestLoader:b,manifestModel:hb,mediaPlayerModel:Ra,protectionController:ya,adapter:Oa,dashMetrics:Va,errHandler:Wa,timelineConverter:Ea,videoModel:Ua,playbackController:Sa,abrController:Ia,mediaController:Ga,textController:Na,settings:Ca,baseURLController:$a}),ib.setConfig({settings:Ca,playbackController:Sa,
streamController:Pa,videoModel:Ua,timelineConverter:Ea,adapter:Oa}),Sa.setConfig({streamController:Pa,dashMetrics:Va,mediaPlayerModel:Ra,adapter:Oa,videoModel:Ua,timelineConverter:Ea,uriFragmentModel:kb,settings:Ca}),Ia.setConfig({streamController:Pa,domStorage:lb,mediaPlayerModel:Ra,dashMetrics:Va,adapter:Oa,videoModel:Ua,settings:Ca}),Na.setConfig({errHandler:Wa,manifestModel:hb,adapter:Oa,mediaController:Ga,streamController:Pa,videoModel:Ua}),db.setConfig({abrController:Ia,dashMetrics:Va,playbackController:Sa}),
Pa.initialize(Ta,ia),ib.initialize(),db.initialize(),"string"==typeof xa?Pa.load(xa):Pa.loadWithManifest(xa));!Qa&&e()&&(Qa=!0,Ka.info("Playback Initialized"))}var ja=this.context,Ha=(0,K.default)(ja).getInstance(),Ca=(0,Z.default)(ja).getInstance(),na=(0,x.default)(ja).getInstance({settings:Ca}),La=void 0,Ka=void 0,xa=void 0,ia=void 0,Ma=void 0,Fa=void 0,Qa=void 0,Ta=void 0,Ia=void 0,Za=void 0,Ea=void 0,Ga=void 0,ya=void 0,bb=void 0,cb=void 0,Ya=void 0,Oa=void 0,Ra=void 0,Wa=void 0,$a=void 0,ab=
void 0,Xa=void 0,Pa=void 0,ib=void 0,Sa=void 0,Va=void 0,hb=void 0,db=void 0,Ua=void 0,Na=void 0,kb=void 0,lb=void 0,jb=void 0,eb=void 0,fb=void 0,gb=void 0;return La={initialize:function(b,d,c){ab=ab||(0,y.default)(ja).getInstance();Wa=(0,z.default)(ja).getInstance();ab.supportsMediaSource()?Ma||(Ma=!0,Ea=(0,F.default)(ja).getInstance(),Ia||(Ia=(0,I.default)(ja).getInstance()).setConfig({settings:Ca}),Za=Za||(0,B.default)(ja).getInstance(),Sa=Sa||(0,l.default)(ja).getInstance(),Ga=Ga||(0,u.default)(ja).getInstance(),
Pa=Pa||(0,p.default)(ja).getInstance(),ib=ib||(0,n.default)(ja).getInstance(),Xa=Xa||(0,q.default)(ja).getInstance(),Oa=(0,U.default)(ja).getInstance(),hb=(0,G.default)(ja).getInstance(),db=(0,C.default)(ja).getInstance(),Va=(0,da.default)(ja).getInstance({settings:Ca}),Na=(0,O.default)(ja).getInstance(),lb=(0,E.default)(ja).getInstance({settings:Ca}),Oa.setConfig({constants:f.default,cea608parser:h.default,errHandler:Wa,BASE64:S.default}),($a=$a||(0,w.default)(ja).create()).setConfig({adapter:Oa}),
(jb=(0,aa.default)(ja).getInstance({dashMetrics:Va,mediaPlayerModel:Ra,errHandler:Wa,baseURLController:$a,events:H.default,eventBus:Ha,debug:na,boxParser:(0,pa.default)(ja).getInstance(),requestModifier:(0,J.default)(ja).getInstance(),errors:P.default})).initialize(),Ga.setConfig({domStorage:lb,settings:Ca}),sa(),ka(void 0===c||c),wa(),b&&V(b),d&&ba(d),Ka.info("[dash.js "+g()+"] MediaPlayer has been initialized")):Wa.error(new W.default(P.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,P.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},
setConfig:function(b){b&&(b.capabilities&&(ab=b.capabilities),b.capabilitiesFilter&&(Xa=b.capabilitiesFilter),b.streamController&&(Pa=b.streamController),b.gapController&&(ib=b.gapController),b.playbackController&&(Sa=b.playbackController),b.mediaPlayerModel&&(Ra=b.mediaPlayerModel),b.abrController&&(Ia=b.abrController),b.schemeLoaderFactory&&(Za=b.schemeLoaderFactory),b.mediaController&&(Ga=b.mediaController),b.settings&&(Ca=b.settings))},on:function(b,d,c,e){Ha.on(b,d,c,e)},off:function(b,d,c){Ha.off(b,
d,c)},extend:function(b,d,c){N.default.extend(b,d,c,ja)},attachView:V,attachSource:ba,isReady:e,preload:function(){if(Ua.getElement()||Fa)return!1;if(!xa)throw"You must first call attachSource() with a valid source before calling this method";Ja()},play:function(){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";(!Ta||k()&&Qa)&&Sa.play()},isPaused:k,pause:function(){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";
Sa.pause()},isSeeking:function(){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";return Sa.isSeeking()},isDynamic:function(){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";return Sa.getIsDynamic()},seek:function(b){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";if((0,ua.checkParameterType)(b,"number"),isNaN(b))throw f.default.BAD_ARGUMENT_ERROR;
b=Sa.getIsDynamic()?m(b):b;Sa.seek(b)},setPlaybackRate:function(b){Aa().playbackRate=b},getPlaybackRate:function(){return Aa().playbackRate},setMute:function(b){(0,ua.checkParameterType)(b,"boolean");Aa().muted=b},isMuted:function(){return Aa().muted},setVolume:function(b){if("number"!=typeof b||isNaN(b)||0>b||1<b)throw f.default.BAD_ARGUMENT_ERROR;Aa().volume=b},getVolume:function(){return Aa().volume},time:za,duration:Y,timeAsUTC:function(){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";
return 0>za()?NaN:va(za())},durationAsUTC:function(){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";return va(Y())},getActiveStream:ca,getDVRWindowSize:function(){var b=Va.getCurrentDVRInfo();return b?b.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:m,convertToTimeCode:function(b){b=Math.max(b,0);var d=Math.floor(b/3600),c=Math.floor(b%3600/60);b=Math.floor(b%3600%60);return(0===d?"":10>d?"0"+d.toString()+":":d.toString()+":")+(10>c?"0"+c.toString():
c.toString())+":"+(10>b?"0"+b.toString():b.toString())},formatUTC:function(b,d,c){var e=!(3>=arguments.length||void 0===arguments[3])&&arguments[3],f=new Date(1E3*b);b=f.toLocaleDateString(d);c=f.toLocaleTimeString(d,{hour12:c});return e?c+" "+b:c},getVersion:g,getDebug:function(){return na},getBufferLength:function(b){var d,c=[f.default.VIDEO,f.default.AUDIO,f.default.FRAGMENTED_TEXT];return b?-1===c.indexOf(b)?(Ka.warn("getBufferLength requested for invalid type"),NaN):(d=Va.getCurrentBufferLevel(b))||
NaN:(d=c.map(function(b){return 0<Ba(b).length?Va.getCurrentBufferLevel(b):Number.MAX_VALUE}).reduce(function(b,d){return Math.min(b,d)}))===Number.MAX_VALUE?NaN:d},getTTMLRenderingDiv:function(){return Ua?Ua.getTTMLRenderingDiv():null},getVideoElement:Aa,getSource:function(){if(!xa)throw"You must first call attachSource() with a valid source before calling this method";return xa},getCurrentLiveLatency:function(){if(!Ma)throw"MediaPlayer not initialized!";return Qa?Sa.getCurrentLiveLatency():NaN},
getTopBitrateInfoFor:function(b){if(!Fa)throw"You must first call initialize() and set a source before calling this method";return Ia.getTopBitrateInfoFor(b)},setAutoPlay:ka,getAutoPlay:function(){return Ta},getDashMetrics:function(){return Va},getQualityFor:function(b){if(!Fa)throw"You must first call initialize() and set a source before calling this method";return b!==f.default.IMAGE?Ia.getQualityFor(b):(b=ca())&&(b=b.getThumbnailController())?b.getCurrentTrackIndex():-1},setQualityFor:function(b,
d){if(!Fa)throw"You must first call initialize() and set a source before calling this method";if(b===f.default.IMAGE){var c=ca();if(!c)return;(c=c.getThumbnailController())&&c.setTrackByIndex(d)}Ia.setPlaybackQuality(b,Pa.getActiveStreamInfo(),d)},updatePortalSize:function(){Ia.setElementSize();Ia.setWindowResizeEventCalled(!0)},setTextDefaultLanguage:function(b){Ka.warn('setTextDefaultLanguage is deprecated and will be removed in version 3.2.0. Please use setInitialMediaSettingsFor("fragmentedText", { lang: lang }) instead');
void 0===Na&&(Na=(0,O.default)(ja).getInstance());Na.setTextDefaultLanguage(b)},getTextDefaultLanguage:function(){return Ka.warn('getTextDefaultLanguage is deprecated and will be removed in version 3.2.0. Please use getInitialMediaSettingsFor("fragmentedText").lang instead'),void 0===Na&&(Na=(0,O.default)(ja).getInstance()),Na.getTextDefaultLanguage()},setTextDefaultEnabled:function(b){void 0===Na&&(Na=(0,O.default)(ja).getInstance());Na.setTextDefaultEnabled(b)},getTextDefaultEnabled:function(){return void 0===
Na&&(Na=(0,O.default)(ja).getInstance()),Na.getTextDefaultEnabled()},enableText:function(b){void 0===Na&&(Na=(0,O.default)(ja).getInstance());Na.enableText(b)},enableForcedTextStreaming:function(b){void 0===Na&&(Na=(0,O.default)(ja).getInstance());Na.enableForcedTextStreaming(b)},isTextEnabled:function(){return void 0===Na&&(Na=(0,O.default)(ja).getInstance()),Na.isTextEnabled()},setTextTrack:function(b){if(!Qa)throw"You must first call initialize() and set a valid source and view before calling this method";
void 0===Na&&(Na=(0,O.default)(ja).getInstance());Na.setTextTrack(b)},getBitrateInfoListFor:function(b){if(!Fa)throw"You must first call initialize() and set a source before calling this method";var d=ca();return d?d.getBitrateListFor(b):[]},getStreamsFromManifest:function(b){if(!Fa)throw"You must first call initialize() and set a source before calling this method";return Oa.getStreamsInfo(b)},getTracksFor:Ba,getTracksForTypeFromManifest:function(b,d,c){if(!Fa)throw"You must first call initialize() and set a source before calling this method";
return(c=c||Oa.getStreamsInfo(d,1)[0])?Oa.getAllMediaInfoForType(c,b,d):[]},getCurrentTrackFor:function(b){if(!Fa)throw"You must first call initialize() and set a source before calling this method";var d=Pa.getActiveStreamInfo();return Ga.getCurrentTrackFor(b,d)},setInitialMediaSettingsFor:function(b,d){if(!Ma)throw"MediaPlayer not initialized!";Ga.setInitialSettings(b,d);b===f.default.FRAGMENTED_TEXT&&Na.setInitialSettings(d)},getInitialMediaSettingsFor:function(b){if(!Ma)throw"MediaPlayer not initialized!";
return Ga.getInitialSettings(b)},setCurrentTrack:function(b){if(!Fa)throw"You must first call initialize() and set a source before calling this method";Ga.setTrack(b)},getTrackSwitchModeFor:function(b){if(!Ma)throw"MediaPlayer not initialized!";return Ga.getSwitchMode(b)},setTrackSwitchModeFor:function(b,d){if(!Ma)throw"MediaPlayer not initialized!";Ga.setSwitchMode(b,d)},setSelectionModeForInitialTrack:function(b){if(!Ma)throw"MediaPlayer not initialized!";Ga.setSelectionModeForInitialTrack(b)},
getSelectionModeForInitialTrack:function(){if(!Ma)throw"MediaPlayer not initialized!";return Ga.getSelectionModeForInitialTrack()},addABRCustomRule:function(b,d,c){Ra.addABRCustomRule(b,d,c)},removeABRCustomRule:function(b){Ra.removeABRCustomRule(b)},removeAllABRCustomRule:function(){Ra.removeABRCustomRule()},getAverageThroughput:function(b){var d=Ia.getThroughputHistory();return d?d.getAverageThroughput(b):0},retrieveManifest:function(b,d){function c(b){b.error?d(null,b.error):d(b.manifest);Ha.off(H.default.INTERNAL_MANIFEST_LOADED,
c,f);e.reset()}var e=ea(),f=this;Ha.on(H.default.INTERNAL_MANIFEST_LOADED,c,f);kb.initialize(b);e.load(b)},addUTCTimingSource:function(b,d){Ra.addUTCTimingSource(b,d)},removeUTCTimingSource:function(b,d){Ra.removeUTCTimingSource(b,d)},clearDefaultUTCTimingSources:function(){Ra.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:sa,setXHRWithCredentialsForType:function(b,d){Ra.setXHRWithCredentialsForType(b,d)},getXHRWithCredentialsForType:function(b){return Ra.getXHRWithCredentialsForType(b)},
getProtectionController:oa,attachProtectionController:function(b){ya=b},setProtectionData:function(b){ia=b;Pa&&Pa.setProtectionData(ia)},registerLicenseRequestFilter:function(b){eb.push(b);ya&&ya.setLicenseRequestFilters(eb)},registerLicenseResponseFilter:function(b){fb.push(b);ya&&ya.setLicenseResponseFilters(fb)},unregisterLicenseRequestFilter:function(b){fa(eb,b);ya&&ya.setLicenseRequestFilters(eb)},unregisterLicenseResponseFilter:function(b){fa(fb,b);ya&&ya.setLicenseResponseFilters(fb)},registerCustomCapabilitiesFilter:function(b){gb.push(b);
Xa&&Xa.setCustomCapabilitiesFilters(gb)},unregisterCustomCapabilitiesFilter:function(b){fa(gb,b);Xa&&Xa.setCustomCapabilitiesFilters(gb)},displayCaptionsOnTop:function(b){var d=(0,t.default)(ja).getInstance();d.setConfig({videoModel:Ua});d.initialize();d.setDisplayCConTop(b)},attachTTMLRenderingDiv:function(b){if(!Ua.getElement())throw"You must first call attachView() to set the video element before calling this method";Ua.setTTMLRenderingDiv(b)},getCurrentTextTrackIndex:function(){var b=NaN;return Na&&
(b=Na.getCurrentTrackIdx()),b},provideThumbnail:function(b,d){if("function"==typeof d){if(!(0>b)){var c=Sa.getIsDynamic()?m(b):b,e=Pa.getStreamForTime(c);if(null!==e&&(b=e.getThumbnailController()))return e=Pa.getTimeRelativeToStreamId(c,e.getId()),b.provide(e,d)}d(null)}},getDashAdapter:function(){return Oa},getOfflineController:wa,getSettings:function(){return Ca.get()},updateSettings:function(b){Ca.update(b)},resetSettings:function(){Ca.reset()},reset:c,destroy:function(){c();eb=[];fb=[];gb=[];
N.default.deleteSingletonInstances(ja)}},Ka=na.getLogger(La),Ta=!(Fa=Qa=Ma=!1),jb=Oa=ia=Ya=ya=null,H.default.extend(L.default),Ra=(0,D.default)(ja).getInstance(),Ua=(0,M.default)(ja).getInstance(),kb=(0,A.default)(ja).getInstance(),eb=[],fb=[],gb=[],La}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(2)),f=c(e(112)),b=c(e(61)),d=c(e(113)),l=c(e(124)),p=c(e(126)),n=c(e(121)),u=c(e(122)),w=c(e(116)),v=c(e(101)),z=c(e(226)),y=c(e(220)),q=c(e(221)),t=c(e(215)),J=c(e(231)),O=c(e(213)),A=c(e(158)),
G=c(e(155)),D=c(e(156)),I=c(e(115)),B=c(e(162)),M=c(e(159)),C=c(e(153)),E=c(e(223)),x=c(e(45)),P=c(e(51)),K=c(e(46)),H=c(e(54)),L=c(e(104)),N=c(e(47)),Z=c(e(48)),Q=e(50),aa=c(e(63)),U=c(e(56)),da=c(e(58)),F=c(e(83)),X=e(255),S=c(e(1)),la=c(e(9)),W=c(e(239)),ua=e(232),ta=c(e(102)),ha=c(e(234)),pa=c(e(219));k.__dashjs_factory_name="MediaPlayer";e=N.default.getClassFactory(k);e.events=L.default;e.errors=P.default;N.default.updateClassFactory(k.__dashjs_factory_name,e);g.default=e;m.exports=g.default},
{1:1,101:101,102:102,104:104,112:112,113:113,115:115,116:116,121:121,122:122,124:124,126:126,153:153,155:155,156:156,158:158,159:159,162:162,2:2,213:213,215:215,219:219,220:220,221:221,223:223,226:226,231:231,232:232,234:234,239:239,255:255,45:45,46:46,47:47,48:48,50:50,51:51,54:54,56:56,58:58,61:61,63:63,83:83,9:9}],104:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;a:{var e=Object.getPrototypeOf(c.prototype),h="constructor";var f=
this;for(var b=!0;b;){null===e&&(e=Function.prototype);b=Object.getOwnPropertyDescriptor(e,h);if(void 0!==b){if("value"in b){f=b.value;break a}e=b.get;if(void 0===e)break;f=e.call(f);break a}e=Object.getPrototypeOf(e);if(null===e)break;b=!0}f=void 0}f.call(this);this.AST_IN_FUTURE="astInFuture";this.BUFFER_EMPTY="bufferStalled";this.BUFFER_LOADED="bufferLoaded";this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged";this.DYNAMIC_TO_STATIC="dynamicToStatic";this.ERROR="error";this.FRAGMENT_LOADING_COMPLETED=
"fragmentLoadingCompleted";this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress";this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted";this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned";this.LOG="log";this.MANIFEST_LOADED="manifestLoaded";this.METRICS_CHANGED="metricsChanged";this.METRIC_CHANGED="metricChanged";this.METRIC_ADDED="metricAdded";this.METRIC_UPDATED="metricUpdated";this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted";this.PERIOD_SWITCH_STARTED="periodSwitchStarted";this.QUALITY_CHANGE_REQUESTED=
"qualityChangeRequested";this.QUALITY_CHANGE_RENDERED="qualityChangeRendered";this.TRACK_CHANGE_RENDERED="trackChangeRendered";this.SOURCE_INITIALIZED="sourceInitialized";this.STREAM_INITIALIZING="streamInitializing";this.STREAM_UPDATED="streamUpdated";this.STREAM_INITIALIZED="streamInitialized";this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete";this.TEXT_TRACKS_ADDED="allTextTracksAdded";this.TEXT_TRACK_ADDED="textTrackAdded";this.TTML_PARSED="ttmlParsed";this.TTML_TO_PARSE="ttmlToParse";this.CAPTION_RENDERED=
"captionRendered";this.CAPTION_CONTAINER_RESIZE="captionContainerResize";this.CAN_PLAY="canPlay";this.PLAYBACK_ENDED="playbackEnded";this.PLAYBACK_ERROR="playbackError";this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed";this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded";this.PLAYBACK_PAUSED="playbackPaused";this.PLAYBACK_PLAYING="playbackPlaying";this.PLAYBACK_PROGRESS="playbackProgress";this.PLAYBACK_RATE_CHANGED="playbackRateChanged";this.PLAYBACK_SEEKED="playbackSeeked";this.PLAYBACK_SEEKING="playbackSeeking";
this.PLAYBACK_SEEK_ASKED="playbackSeekAsked";this.PLAYBACK_STALLED="playbackStalled";this.PLAYBACK_STARTED="playbackStarted";this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated";this.PLAYBACK_WAITING="playbackWaiting";this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged";this.GAP_CAUSED_SEEK_TO_PERIOD_END="gapCausedSeekToPeriodEnd";this.GAP_CAUSED_INTERNAL_SEEK="gapCausedInternalSeek";this.EVENT_MODE_ON_START="eventModeOnStart";this.EVENT_MODE_ON_RECEIVE="eventModeOnReceive";this.CONFORMANCE_VIOLATION=
"conformanceViolation"}Object.defineProperty(g,"__esModule",{value:!0});e=e(55);e=new (function(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(c,(e&&e.__esModule?e:{default:e})["default"]),c);g.default=e;m.exports=g.default},{55:55}],105:[function(e,
m,g){function c(d,c,e){if(!d||!/^VIDEO$/i.test(d.nodeName))return null;if(d._dashjs_player)return d._dashjs_player;var g=void 0,k=d.id||d.name||"video element";if(!(c=c||[].slice.call(d.querySelectorAll("source")).filter(function(b){return b.type==f})[0])&&d.src)(c=document.createElement("source")).src=d.src;else if(!c&&!d.src)return null;return e=e||{},(g=(0,h.default)(e).create()).initialize(d,c.src,d.autoplay),(b=b||g.getDebug().getLogger()).debug("Converted "+k+" to dash.js player and added content: "+
c.src),d._dashjs_player=g}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(103))&&k.__esModule?k:{default:k},f,b,d=(f="application/dash+xml",{create:c,createAll:function(b,d){var e=[],h=(d=d||document).querySelectorAll(b||"[data-dashjs-player]");for(b=0;b<h.length;b++){var g=c(h[b],null);e.push(g)}d=d.querySelectorAll('source[type\x3d"'+f+'"]');for(b=0;b<d.length;b++){a:{g=d[b];for(h=!0;h;){if(/^VIDEO$/i.test(g.nodeName))break a;g=g.parentNode;h=!0}g=void 0}g=c(g,null);e.push(g)}return e}}),
l=b=void 0;"undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate||"undefined"==typeof window||!window||!window.addEventListener||("complete"===window.document.readyState?window.dashjs?d.createAll():l=window.setInterval(function(){window.dashjs&&(window.clearInterval(l),d.createAll())},500):window.addEventListener("load",function n(){window.removeEventListener("load",n);d.createAll()}));g.default=d;m.exports=g.default},{103:103}],106:[function(e,m,g){function c(c){return c&&
c.__esModule?c:{default:c}}function k(c){function b(b,d){k=k.filter(function(c){return!((isNaN(d)||c.start<d)&&(isNaN(b)||c.end>b))})}var d=this.context,e=void 0,f=void 0,g=void 0,k=[],w=c;return e={getAllBufferRanges:function(){for(var b=[],d=0;d<k.length;d++){var c=k[d];0===b.length||c.start>b[b.length-1].end?b.push({start:c.start,end:c.end}):b[b.length-1].end=c.end}d={start:function(d){return b[d].start},end:function(d){return b[d].end}};return Object.defineProperty(d,"length",{get:function(){return b.length}}),
d},append:function(b){g="InitializationSegment"!==b.segmentType?(k.push(b),k.sort(function(b,d){return b.start-d.start}),null):b;f.debug("PreBufferSink appended chunk s: "+b.start+"; e: "+b.end);w&&w({chunk:b})},remove:b,abort:function(){},discharge:function(d,c){var e=k.filter(function(b){return(isNaN(c)||b.start<c)&&(isNaN(d)||b.end>d)});return g&&(e.push(g),g=null),b(d,c),e},reset:function(){k=[];w=g=null},updateTimestampOffset:function(){},hasDiscontinuitiesAfter:function(){return!1},waitForUpdateEnd:function(b){b()},
getBuffer:function(){return this}},f=(0,h.default)(d).getInstance().getLogger(e),e}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(45));e=c(e(47));k.__dashjs_factory_name="PreBufferSink";e=e.default.getClassFactory(k);g.default=e;m.exports=g.default},{45:45,47:47}],107:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c,e,g,k){function l(){try{return x.buffered}catch(Z){return E.error("getAllBufferRanges exception: "+Z.message),null}}function q(b){x&&z(function(){try{var d=
c.duration,e=0;b&&!isNaN(b.start)&&!isNaN(b.duration)&&isFinite(b.duration)&&(d=b.start+b.duration);b&&!isNaN(b.start)&&(e=b.start);x.appendWindowStart=0;x.appendWindowEnd=d;x.appendWindowStart=e;E.debug("Updated append window. Set start to "+x.appendWindowStart+" and end to "+x.appendWindowEnd)}catch(U){E.warn("Failed to set append window")}})}function t(){var b=this,c=this;0<L.length&&function(){function e(){var b=l();var e=b;var f=h;var k;if(k=(b=g)&&0<b.length&&b.length<e.length)a:{for(k=0;k<
b.length;k++){var n=Math.round(b.start(k)),p=Math.round(b.end(k));if(p===f.start||n===f.end||f.start>=n&&f.end<=p){k=!0;break a}}k=!1}k&&B.trigger(d.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:c,from:e.end(e.length-2),to:e.start(e.length-1),unintended:!0});0<L.length?t.call(this):(P=!1,N&&N({chunk:h}))}P=!0;var h=L[0];L.splice(0,1);var g=[];try{0===h.bytes.length?e.call(b):(g=l(),x.appendBuffer?x.appendBuffer(h.bytes):x.append(h.bytes,h),z(e.bind(b)))}catch(F){E.fatal('SourceBuffer append failed "'+
F+'"'),0<L.length?t():P=!1,N&&N({chunk:h,error:new f.default(F.code,F.message)})}}()}function u(){var b;0<H.length&&(b=H.shift(),x.updating?z(b):(b(),u()))}function v(){x.updating||u()}function w(){x.updating||u()}function m(){E.error("SourceBufferSink error")}function z(b){H.push(b);x.updating||u()}var I=this.context,B=(0,b.default)(I).getInstance(),M=void 0,C=void 0,E=void 0,x=void 0,P=void 0,K=void 0,H=[],L=[],N=g;return M={getType:function(){return C},getAllBufferRanges:l,getBuffer:function(){return x},
append:function(b){b?(L.push(b),P||z(t.bind(this))):N({chunk:b,error:new f.default(n.default.APPEND_ERROR_CODE,n.default.APPEND_ERROR_MESSAGE)})},remove:function(b,e,h){var g=this;z(function(){try{0<=b&&b<e&&(h||"ended"!==c.readyState)&&x.remove(b,e),z(function(){B.trigger(d.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:g,from:b,to:e,unintended:!1})})}catch(da){B.trigger(d.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:g,from:b,to:e,unintended:!1,error:new f.default(da.code,da.message)})}})},abort:function(){try{("open"===
c.readyState||x.setTextTrack&&"ended"===c.readyState)&&x.abort()}catch(Z){E.error('SourceBuffer append abort failed: "'+Z+'"')}L=[]},reset:function(b){if(x){if("function"==typeof x.removeEventListener&&(x.removeEventListener("updateend",w,!1),x.removeEventListener("error",m,!1),x.removeEventListener("abort",m,!1)),clearInterval(K),H=[],!b){try{x.getClassName&&"TextSourceBuffer"===x.getClassName()||(E.debug("Removing sourcebuffer from media source"),c.removeSourceBuffer(x))}catch(Q){E.error("Failed to remove source buffer from media source.")}x=
null}P=!1}L=[];N=null},updateTimestampOffset:function(b){x.timestampOffset===b||isNaN(b)||z(function(){0>b&&(b+=.001);x.timestampOffset=b})},hasDiscontinuitiesAfter:function(b){try{var d=l();if(d&&1<d.length)for(var c=0,e=d.length;c<e;c++)if(0<c&&b<d.start(c)&&d.start(c)>d.end(c-1)+.1)return!0}catch(da){E.error("hasDiscontinuities exception: "+da.message)}return!1},waitForUpdateEnd:z,updateAppendWindow:q},function(){E=(0,h.default)(I).getInstance().getLogger(M);P=!1;C=e.type;var b=e.codec;try{if(b.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw Error("not really supported");
(x=k||c.addSourceBuffer(b)).changeType&&k&&(E.debug("Doing period transition with changeType"),x.changeType(b));q();if("function"==typeof x.addEventListener)try{x.addEventListener("updateend",w,!1),x.addEventListener("error",m,!1),x.addEventListener("abort",m,!1)}catch(Q){K=setInterval(v,50)}else K=setInterval(v,50)}catch(Q){if(!e.isText&&-1===b.indexOf('codecs\x3d"stpp')&&-1===b.indexOf('codecs\x3d"wvtt'))throw Q;x=(0,p.default)(I).getInstance().getTextSourceBuffer()}}(),M}Object.defineProperty(g,
"__esModule",{value:!0});var h=c(e(45)),f=c(e(239)),b=c(e(46)),d=c(e(54)),l=c(e(47)),p=c(e(213)),n=c(e(51));k.__dashjs_factory_name="SourceBufferSink";l=l.default.getClassFactory(k);g.default=l;m.exports=g.default},{213:213,239:239,45:45,46:46,47:47,51:51,54:54}],108:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(b){for(var d=T?T.length:0,c=0;c<d;c++)T[c].getFragmentModel().removeExecutedRequestsBeforeTime(v()+t()),T[c].reset(!1,b);La=wa=oa=!(T=[]);S.off(n.default.CURRENT_TRACK_CHANGED,
E,ba)}function g(){e();Ja=va=ea=!1;Ma=xa=Ha=!(ja={})}function k(){za&&za.pause();Ca&&(Ca.reset(),Ca=null);fa=null;g();S.off(n.default.DATA_UPDATE_COMPLETED,N,ba);S.off(n.default.BUFFERING_COMPLETED,L,ba);S.off(n.default.INBAND_EVENTS,Z,ba);Aa&&(S.off(n.default.KEY_ERROR,M,ba),S.off(n.default.SERVER_CERTIFICATE_UPDATED,M,ba),S.off(n.default.LICENSE_REQUEST_COMPLETE,M,ba),S.off(n.default.KEY_SYSTEM_SELECTED,M,ba),S.off(n.default.KEY_SESSION_CREATED,M,ba),S.off(n.default.KEY_STATUSES_CHANGED,M,ba));
La=!1}function t(){return fa?fa.duration:NaN}function v(){return fa?fa.start:NaN}function m(){return fa?fa.id:null}function B(){if(!(V&&R&&R.hasOwnProperty("getBitrateList")&&ha&&ha.hasOwnProperty("getAllMediaInfoForType")&&ha.hasOwnProperty("getEventsFor")))throw Error(h.default.MISSING_CONFIG_ERROR);}function M(b){b.error&&(ma.error(b.error),ca.fatal(b.error.message),k())}function C(b){var d,c=b?b.type:null,e=void 0;if(c===h.default.MUXED)return e="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",
ca.fatal(e),void ma.error(new z.default(w.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,e,W.getValue()));if(c===h.default.TEXT||c===h.default.FRAGMENTED_TEXT||c===h.default.EMBEDDED_TEXT||c===h.default.IMAGE)return 1;if(d=b.codec,ca.debug(c+" codec: "+d),b.contentProtection&&!pa.supportsEncryptedMedia())ma.error(new z.default(w.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,w.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!pa.supportsCodec(d))return e=c+"Codec ("+d+") is not supported.",void ca.error(e);
return 1}function E(b){var d,c,e,f;fa&&b.newMediaInfo.streamInfo.id===fa.id&&(d=b.newMediaInfo,c=W.getValue(),ha.setCurrentMediaInfo(fa.id,d.type,d),(e=Q(d))&&(f=za.getTime(),ca.info("Stream -  Process track changed at current time "+f),ca.debug("Stream -  Update stream controller"),c.refreshManifestOnSwitchTrack?(ca.debug("Stream -  Refreshing manifest for switch track"),Fa=b,ta.refreshManifest()):(e.selectMediaInfo(d),d.type!==h.default.FRAGMENTED_TEXT?(R.updateTopQualityIndex(d),e.switchTrackAsked(),
e.getFragmentModel().abortRequests()):(e.getScheduleController().setSeekTarget(f),e.setBufferingTime(f),e.resetIndexHandler()))))}function x(d,e){var g=ha.getAllMediaInfoForType(fa,d),k=null;if(g&&0!==g.length){d===h.default.VIDEO&&(va=!0);d===h.default.AUDIO&&(Ja=!0);for(var p=0,q=g.length;p<q;p++)k=g[p],d===h.default.EMBEDDED_TEXT?sa.addEmbeddedTrack(k):C(k)&&ka.addTrack(k);if(d!==h.default.EMBEDDED_TEXT&&0!==ka.getTracksFor(d,fa).length)if(d!==h.default.IMAGE)if(ka.checkInitialMediaSettingsForType(d,
fa),d=ka.getCurrentTrackFor(d,fa),S.trigger(n.default.STREAM_INITIALIZING,{streamInfo:fa,mediaInfo:k}),k=Ca.getModel(d?d.type:null),k=(0,b.default)(X).create({streamInfo:fa,type:d?d.type:null,mimeType:d?d.mimeType:null,timelineConverter:ra,adapter:ha,manifestModel:W,mediaPlayerModel:ua,fragmentModel:k,dashMetrics:c.dashMetrics,baseURLController:c.baseURLController,abrController:R,playbackController:za,mediaController:ka,textController:sa,errHandler:ma,settings:Ba,boxParser:Ka}),k.initialize(e,va),
R.updateTopQualityIndex(d),T.push(k),!d||d.type!==h.default.TEXT&&d.type!==h.default.FRAGMENTED_TEXT)k.addMediaInfo(d,!0);else{e=void 0;for(p=0;p<g.length;p++)g[p].index===d.index&&(e=p),k.addMediaInfo(g[p]);k.selectMediaInfo(g[e])}else na=(0,l.default)(X).create({streamInfo:fa,adapter:ha,baseURLController:c.baseURLController,timelineConverter:c.timelineConverter,debug:ia,eventBus:S,events:n.default,dashConstants:f.default})}else ca.info("No "+d+" data.")}function P(){var b;Y&&(b=ha.getEventsFor(fa),
Y.addInlineEvents(b))}function K(){for(var b=T.length,d=ja.audio||ja.video?new z.default(w.default.DATA_UPDATE_FAILED_ERROR_CODE,w.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,c=0;c<b;c++)if(T[c].isUpdating()||Ha)return;if(wa){if(Aa)for(Aa.clearMediaInfoArrayByStreamId(m()),c=0;c<b&&T[c];c++){var e=T[c].getType();e!==h.default.AUDIO&&e!==h.default.VIDEO&&e!==h.default.FRAGMENTED_TEXT||(e=T[c].getMediaInfo())&&Aa.initializeForMedia(e)}d?ma.error(d):ea||(ea=!0,S.trigger(n.default.STREAM_INITIALIZED,
{streamInfo:fa,liveStartTime:La?NaN:function(){if(!fa.manifestInfo.isDynamic)return NaN;for(var b=0;b<T.length;b++)if(T[b].getType()===h.default.AUDIO||T[b].getType()===h.default.VIDEO)return T[b].getLiveStartTime();return NaN}()}));for(c=0;c<b&&T[c];c++)T[c].getScheduleController().start()}}function H(b){for(var d={},c=0,e=T.length;c<e;c++){var f=T[c].createBuffer(b);f&&(d[T[c].getType()]=f.getBuffer())}return d}function L(){var b=aa(),d=b.length;if(0!==d){for(var c=0;c<d;c++)if(!b[c].isBufferingCompleted()&&
(b[c].getType()===h.default.AUDIO||b[c].getType()===h.default.VIDEO))return void ca.warn("onBufferingCompleted - One streamProcessor has finished but",b[c].getType(),"one is not buffering completed");ca.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED");S.trigger(n.default.STREAM_BUFFERING_COMPLETED,{streamInfo:fa})}else ca.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function N(b){ja[b.mediaType]=b.error;K()}function Z(b){b=
b.events;Y&&Y.addInbandEvents(b)}function Q(b){return b?aa().filter(function(d){return d.getType()===b.type})[0]:null}function aa(){for(var b,d=[],c=void 0,e=0;e<T.length;e++)(b=(c=T[e]).getType())!==h.default.AUDIO&&b!==h.default.VIDEO&&b!==h.default.FRAGMENTED_TEXT&&b!==h.default.TEXT||d.push(c);return d}function U(b,d,c){c=2>=arguments.length||void 0===c?null:c;if(!b)return!1;b=b.getStreamInfo();c=c?c.getStreamInfo():fa;if(!b||!c)return!1;b=ha.getAdaptationForType(b.index,d,b);c=ha.getAdaptationForType(c.index,
d,c);return b&&c?!(!da(c)&&da(b)):!b&&!c}function da(b){return b&&(b.ContentProtection||b.Representation&&0<b.Representation.length&&b.Representation[0].ContentProtection)}function F(b,d,c){c=2>=arguments.length||void 0===c?null:c;if(!b||!b.hasOwnProperty("getStreamInfo"))return!1;b=b.getStreamInfo();c=c?c.getStreamInfo():fa;if(!b||!c)return!1;b=ha.getAdaptationForType(b.index,d,b);d=ha.getAdaptationForType(c.index,d,c);if(!b||!d)return!b&&!d;c=b&&d&&b.mimeType===d.mimeType;var e=d.Representation_asArray.map(function(b){return b.codecs});
d=b.Representation_asArray.map(function(b){return b.codecs});b=d.some(function(b){return-1<e.indexOf(b)});d=d.some(function(b){return e.some(function(d){return pa.codecRootCompatibleWithCodec(d,b)})});return b||d&&c}c=c||{};var X=this.context,S=(0,p.default)(X).getInstance(),la=(0,q.default)(X).getInstance(),W=c.manifestModel,ua=c.mediaPlayerModel,ta=c.manifestUpdater,ha=c.adapter,pa=c.capabilities,Da=c.capabilitiesFilter,ma=c.errHandler,ra=c.timelineConverter,qa=c.dashMetrics,R=c.abrController,za=
c.playbackController,Y=c.eventController,ka=c.mediaController,sa=c.textController,Aa=c.protectionController,V=c.videoModel,Ba=c.settings,fa=c.streamInfo,ba=void 0,ca=void 0,T=void 0,ea=void 0,oa=void 0,wa=void 0,va=void 0,Ja=void 0,ja=void 0,Ha=void 0,Ca=void 0,na=void 0,La=void 0,Ka=void 0,xa=void 0,ia=void 0,Ma=void 0,Fa=void 0;return ba={initialize:function(){S.on(n.default.BUFFERING_COMPLETED,L,ba);S.on(n.default.DATA_UPDATE_COMPLETED,N,ba);S.on(n.default.INBAND_EVENTS,Z,ba);Aa&&(S.on(n.default.KEY_ERROR,
M,ba),S.on(n.default.SERVER_CERTIFICATE_UPDATED,M,ba),S.on(n.default.LICENSE_REQUEST_COMPLETE,M,ba),S.on(n.default.KEY_SYSTEM_SELECTED,M,ba),S.on(n.default.KEY_SESSION_CREATED,M,ba),S.on(n.default.KEY_STATUSES_CHANGED,M,ba));S.trigger(n.default.STREAM_UPDATED,{streamInfo:fa})},getStreamId:function(){return fa?fa.id:null},activate:function(b,d){if(oa)return d;var c=void 0;S.on(n.default.CURRENT_TRACK_CHANGED,E,ba);if(La)Ha=!0,B(),Da.filterUnsupportedFeaturesOfPeriod(fa),Ha=!(wa=!0),0===T.length?(ma.error(new z.default(w.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,
"No streams to play.",W.getValue())),ca.debug("No streams to play.")):K(),b=d;else{B();var e=V.getElement();P();Ha=!0;Da.filterUnsupportedFeaturesOfPeriod(fa);(!e||e&&/^VIDEO$/i.test(e.nodeName))&&x(h.default.VIDEO,b);x(h.default.AUDIO,b);x(h.default.TEXT,b);x(h.default.FRAGMENTED_TEXT,b);x(h.default.EMBEDDED_TEXT,b);x(h.default.MUXED,b);x(h.default.IMAGE,b);b=H(d);Ha=!(wa=!0);0===T.length?(d="No streams to play.",ma.error(new z.default(w.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,d,W.getValue())),
ca.fatal(d)):K()}return c=b,oa=!0,c},deactivate:e,isActive:function(){return oa},getDuration:t,getStartTime:v,getId:m,getStreamInfo:function(){return fa},getHasAudioTrack:function(){return Ja},getHasVideoTrack:function(){return va},preload:function(b,d){if(!La){P();x(h.default.VIDEO,b);x(h.default.AUDIO,b);x(h.default.TEXT,b);x(h.default.FRAGMENTED_TEXT,b);x(h.default.EMBEDDED_TEXT,b);x(h.default.MUXED,b);x(h.default.IMAGE,b);H(d);S.on(n.default.CURRENT_TRACK_CHANGED,E,ba);for(b=0;b<T.length&&T[b];b++)T[b].getScheduleController().start();
La=!0}},getThumbnailController:function(){return na},getBitrateListFor:function(b){B();if(b===h.default.IMAGE)var d=na?na.getBitrateList():[];else{a:{d=b;for(var c,e=0;e<T.length;e++)if((c=T[e]).getType()===d){d=c.getMediaInfo();break a}d=null}d=(b=d,R.getBitrateList(b))}return d},updateData:function(b){ca.info("Manifest updated... updating data system wide.");Ha=!(oa=!1);fa=b;S.trigger(n.default.STREAM_UPDATED,{streamInfo:fa});Y&&P();Da.filterUnsupportedFeaturesOfPeriod(fa);b=0;for(var d=T.length;b<
d;b++){var c,e=T[b];e.updateStreamInfo(fa);(c=ha.getMediaInfoForType(fa,e.getType()))&&(R.updateTopQualityIndex(c),e.addMediaInfo(c,!0))}if(Fa&&Fa.newMediaInfo.type!==h.default.FRAGMENTED_TEXT){b=Q(Fa.oldMediaInfo);if(!b)return;b.switchTrackAsked();Fa=void 0}Ha=!1;K()},reset:k,getProcessors:aa,setMediaSource:function(b){for(var d=0;d<T.length;)C(T[d].getMediaInfo())?(T[d].setMediaSource(b),d++):(T[d].reset(),T.splice(d,1));for(d=0;d<T.length;d++)T[d].dischargePreBuffer();0===T.length&&(ma.error(new z.default(w.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,
"No streams to play.nostreams",W.getValue())),ca.fatal("No streams to play."))},isMediaCodecCompatible:function(b){var d=1>=arguments.length||void 0===arguments[1]?null:arguments[1];return F(b,h.default.VIDEO,d)&&F(b,h.default.AUDIO,d)},isProtectionCompatible:function(b){var d=1>=arguments.length||void 0===arguments[1]?null:arguments[1];return U(b,h.default.VIDEO,d)&&U(b,h.default.AUDIO,d)},getPreloaded:function(){return La},getPreloadingScheduled:function(){return xa},setPreloadingScheduled:function(b){xa=
b},getIsEndedEventSignaled:function(){return Ma},setIsEndedEventSignaled:function(b){Ma=b}},ia=(0,u.default)(X).getInstance(),ca=ia.getLogger(ba),g(),Ka=(0,y.default)(X).getInstance(),Ca=(0,d.default)(X).create({streamInfo:fa,mediaPlayerModel:ua,dashMetrics:qa,errHandler:ma,settings:Ba,boxParser:Ka,dashConstants:f.default,urlUtils:la}),ba}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(61)),b=c(e(109)),d=c(e(120)),l=c(e(216)),p=c(e(46)),n=c(e(54)),u=c(e(45)),w=c(e(51)),v=c(e(47)),
z=c(e(239)),y=c(e(219)),q=c(e(234));k.__dashjs_factory_name="Stream";g.default=v.default.getClassFactory(k);m.exports=g.default},{109:109,112:112,120:120,216:216,219:219,234:234,239:239,45:45,46:46,47:47,51:51,54:54,61:61}],109:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(b){b.error||ea.setCurrentRepresentation(pa.convertDataToRepresentationInfo(b.currentRepresentation));b.error&&b.error.code!==J.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE||R.getStreamController().getActiveStreamInfo().id===
la.id&&L()}function g(b){b=C(b.newQuality);ea.setCurrentRepresentation(b);ka.pushPlayListTraceMetrics(new Date,M.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON);ka.createPlaylistTraceMetrics(b.id,1E3*R.getTime(),R.getPlaybackRate())}function k(b){ka.addBufferLevel(W,new Date,1E3*b.bufferLevel);b=R.getStreamController().getActiveStreamInfo().id;Da.getValue().doNotUpdateDVRWindowOnBufferUpdated||la.id!==b||L()}function v(d){ka.addBufferState(W,d.state,ea.getBufferTarget());d.state!==b.default.BUFFER_EMPTY||
R.isSeeking()||ka.pushPlayListTraceMetrics(new Date,M.PlayListTrace.REBUFFERING_REASON)}function m(b){ra.syncExecutedRequestsWithBufferedRange(T.getBuffer().getAllBufferRanges(),la.duration);b.from>R.getTime()&&(Ja=b.from,ja=!0)}function L(){var b=la.manifestInfo,d=b.isDynamic;d=ha.calcSegmentAvailabilityRange(oa.getCurrentRepresentation(),d);ka.addDVRInfo(W,R.getTime(),b,d)}function N(){return T?T.getBuffer():null}function C(b){b=void 0!==b?((0,z.checkInteger)(b),oa?oa.getRepresentationForQuality(b):
null):oa?oa.getCurrentRepresentation():null;return pa.convertDataToRepresentationInfo(b)}function Q(b){b.sender&&(pa.getIsTextTrack(ta)&&!Y.isTextEnabled()||T&&b.representationId&&(T.appendInitSegment(b.representationId)||(b=va?va.getInitRequest(ba,oa.getCurrentRepresentation()):null,ea.processInitRequest(b))))}function aa(b){var d=void 0;if(!T.getIsPruningInProgress()){var c=b.seekTarget,e=b.replacement;var f=C();var g=!isNaN(c),k=R.getNormalizedTime(),l=g?c:Ja,n=!1;if(isNaN(l)||W===h.default.FRAGMENTED_TEXT&&
!Y.isTextEnabled())f=null;else{var p;T&&(p=T.getRangeAt(l),c=T.getRangeAt(k),null===p&&null===c||g||(!p||c&&c.start!=p.start&&c.end!=p.end)&&T.getBuffer().hasDiscontinuitiesAfter(k)&&W!==h.default.FRAGMENTED_TEXT&&(ra.removeExecutedRequestsAfterTime(c.end),n=!0));if(e)l=e.startTime+e.duration/2,c=F(f,l,{timeThreshold:0,ignoreIsFinished:!0});else for(n=g||ja||n,c=F(f,n?l:void 0,{keepIdx:!n}),ja=!1;c&&c.action!==B.default.ACTION_COMPLETE&&ra.isFragmentLoaded(c);)c=F(f);f=c}(d=f)&&(ea.setSeekTarget(NaN),
b.replacement||(isNaN(d.startTime+d.duration)||(Ja=d.startTime+d.duration),d.delayLoadingTime=(new Date).getTime()+ea.getTimeToLoadDelay(),ea.setTimeToLoadDelay(0)))}ea.processMediaRequest(d)}function U(b){var c=b.chunk,e=c.bytes,f=c.quality,h=C(f),g=oa&&h?oa.getRepresentationForQuality(h.quality):null;b=pa.getEventsFor(h.mediaInfo);g=pa.getEventsFor(h,g);if(b&&0<b.length||g&&0<g.length){c=ra.getRequests({state:d.default.FRAGMENT_MODEL_EXECUTED,quality:f,index:c.index})[0];try{f={};h=[];var k=b.concat(g);
b=0;for(var l=k.length;b<l;b++)f[k[b].schemeIdUri+"/"+k[b].value]=k[b];var n=(0,I.default)(X).getInstance().parse(e),p=n.getBoxes("emsg");if(p&&0!==p.length){n=n.getBox("sidx");n=!n||isNaN(n.earliest_presentation_time)||isNaN(n.timescale)?c&&!isNaN(c.mediaStartTime)?c.mediaStartTime:0:n.earliest_presentation_time/n.timescale;var t=Math.max(n,0),u=oa.getCurrentRepresentation();b=0;for(l=p.length;b<l;b++){var v=pa.getEvent(p[b],f,t,u);v&&h.push(v)}}var x=h}catch(Ga){x=[]}S.trigger(q.default.INBAND_EVENTS,
{events:x},{streamId:la.id})}}function da(b){Ja=b.time;ea.setSeekTarget(b.time)}function F(b,d,c){var e=null;return va&&(b=oa&&b?oa.getRepresentationForQuality(b.quality):null,e=void 0!==d&&void 0!==c?va.getSegmentRequestForTime(ba,b,d,c):va.getNextSegmentRequest(ba,b)),e}c=c||{};var X=this.context,S=(0,y.default)(X).getInstance(),la=c.streamInfo,W=c.type,ua=c.errHandler,ta=c.mimeType,ha=c.timelineConverter,pa=c.adapter,Da=c.manifestModel,ma=c.mediaPlayerModel,ra=c.fragmentModel,qa=c.abrController,
R=c.playbackController,za=c.mediaController,Y=c.textController,ka=c.dashMetrics,sa=c.settings,Aa=c.boxParser,V=void 0,Ba=void 0,fa=void 0,ba=void 0,ca=void 0,T=void 0,ea=void 0,oa=void 0,wa=void 0,va=void 0,Ja=void 0,ja=void 0;V={initialize:function(b,d){va=(0,t.default)(X).create({streamInfo:la,type:W,timelineConverter:ha,dashMetrics:ka,mediaPlayerModel:ma,baseURLController:c.baseURLController,errHandler:ua,settings:sa,boxParser:Aa,events:q.default,eventBus:S,errors:J.default,debug:(0,A.default)(X).getInstance(),
requestModifier:(0,G.default)(X).getInstance(),dashConstants:f.default,constants:h.default,urlUtils:(0,D.default)(X).getInstance()});(fa=la.manifestInfo.isDynamic)&&(wa=(0,w.default)(X).create({timelineConverter:ha}));va.initialize(fa);qa.registerStreamType(W,V);oa=(0,u.default)(X).create({streamInfo:la,type:W,abrController:qa,dashMetrics:ka,playbackController:R,timelineConverter:ha,dashConstants:f.default,events:q.default,eventBus:S,errors:J.default});var e=(e=W)?e===h.default.VIDEO||e===h.default.AUDIO?
(0,l.default)(X).create({streamInfo:la,type:e,mediaPlayerModel:ma,manifestModel:Da,fragmentModel:ra,errHandler:ua,mediaController:za,representationController:oa,adapter:pa,textController:Y,abrController:qa,playbackController:R,settings:sa}):(0,p.default)(X).create({streamInfo:la,type:e,mimeType:ta,mediaPlayerModel:ma,manifestModel:Da,fragmentModel:ra,errHandler:ua,mediaController:za,representationController:oa,adapter:pa,textController:Y,abrController:qa,playbackController:R,settings:sa}):(ua.error(new O.default(J.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,
J.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null);(T=e)&&T.initialize(b);(ea=(0,n.default)(X).create({streamInfo:la,type:W,mimeType:ta,adapter:pa,dashMetrics:ka,mediaPlayerModel:ma,fragmentModel:ra,abrController:qa,playbackController:R,textController:Y,mediaController:za,bufferController:T,settings:sa})).initialize(d);Ja=0;ja=!1},getStreamId:function(){return la.id},getType:function(){return W},isUpdating:function(){return!!oa&&oa.isUpdating()},getBufferController:function(){return T},
getFragmentModel:function(){return ra},getScheduleController:function(){return ea},getRepresentationController:function(){return oa},getRepresentationInfo:C,getBufferLevel:function(){return T?T.getBufferLevel():0},isBufferingCompleted:function(){return!!T&&T.getIsBufferingCompleted()},createBuffer:function(b){return N()||T?T.createBuffer(ca,b):null},updateStreamInfo:function(b){la=b;sa.get().streaming.useAppendWindow&&T.updateAppendWindow()},getStreamInfo:function(){return la},selectMediaInfo:function(b){b===
ba||b&&ba&&b.type!==ba.type||(ba=b);var d,c,e,f,g=pa.getRealAdaptation(la,ba),k=pa.getVoRepresentations(ba);oa&&(d=oa.getData(),c=qa.getTopQualityIndexFor(W,la.id),e=qa.getMinAllowedIndexFor(W),f=null!==d&&d.id==g.id||W===h.default.FRAGMENTED_TEXT?qa.getQualityFor(W):(b=qa.getThroughputHistory().getAverageThroughput(W)||qa.getInitialBitrateFor(W),qa.getQualityForBitrate(ba,b)),void 0!==e&&f<e&&(f=e),c<f&&(f=c),va.setMimeType(ba?ba.mimeType:null),oa.updateData(g,k,W,f))},addMediaInfo:function(b,d){-1===
ca.indexOf(b)&&ca.push(b);d&&this.selectMediaInfo(b)},getLiveStartTime:function(){if(!fa||!wa)return NaN;var b=NaN,d=C(),c=wa.getLiveEdge(d);if(isNaN(c))c=NaN;else{var e=d;try{var f=null,h=R.getLiveDelay(),g=isNaN(la.manifestInfo.DVRWindowSize)?h:la.manifestInfo.DVRWindowSize,k=.1*g,l=void 0;if(!isFinite(g)||F(e,c-g+k,{ignoreIsFinished:!0}))for(;!f&&h<=g;)(f=F(e,l=c-h,{ignoreIsFinished:!0}))||(h+=1);var n=(f&&R.setLiveDelay(h,!0),Ba.debug("live edge: "+c+", live delay: "+h+", live target: "+l),f)}catch(Ta){n=
null}c=((d=n)&&(b=!sa.get().streaming.lowLatencyEnabled||d.duration<ma.getLiveDelay()?d.startTime:d.startTime+d.duration-ma.getLiveDelay()),b)}return c},switchTrackAsked:function(){ea.switchTrackAsked()},getMediaInfoArr:function(){return ca},getMediaInfo:function(){return ba},getMediaSource:function(){return T.getMediaSource()},setMediaSource:function(b){T.setMediaSource(b,ca)},dischargePreBuffer:function(){T.dischargePreBuffer()},getBuffer:N,setBuffer:function(b){T.setBuffer(b)},setBufferingTime:function(b){Ja=
b},resetIndexHandler:function(){va&&va.resetIndex()},getInitRequest:function(b){return(0,z.checkInteger)(b),b=oa?oa.getRepresentationForQuality(b):null,va?va.getInitRequest(ba,b):null},getFragmentRequest:F,finalisePlayList:function(b,d){ka.pushPlayListTraceMetrics(b,d)},probeNextRequest:function(){var b=C();b=oa&&b?oa.getRepresentationForQuality(b.quality):null;return va.getNextSegmentRequestIdempotent(ba,b)},reset:function(b,d){va&&va.reset();T&&(T.reset(b,d),T=null);ea&&(ea.reset(),ea=null);oa&&
(oa.reset(),oa=null);wa&&(wa.reset(),wa=null);qa&&!d&&qa.unRegisterStreamType(W);S.off(q.default.DATA_UPDATE_COMPLETED,e,V);S.off(q.default.QUALITY_CHANGE_REQUESTED,g,V);S.off(q.default.INIT_FRAGMENT_NEEDED,Q,V);S.off(q.default.MEDIA_FRAGMENT_NEEDED,aa,V);S.off(q.default.MEDIA_FRAGMENT_LOADED,U,V);S.off(q.default.BUFFER_LEVEL_UPDATED,k,V);S.off(q.default.BUFFER_LEVEL_STATE_CHANGED,v,V);S.off(q.default.BUFFER_CLEARED,m,V);S.off(q.default.SEEK_TARGET,da,V);ca=[];ba=null;Ja=0;la=W=null}};Ba=(0,A.default)(X).getInstance().getLogger(V);
ca=[];ba=null;Ja=0;return S.on(q.default.DATA_UPDATE_COMPLETED,e,V,{priority:y.default.EVENT_PRIORITY_HIGH}),S.on(q.default.QUALITY_CHANGE_REQUESTED,g,V),S.on(q.default.INIT_FRAGMENT_NEEDED,Q,V),S.on(q.default.MEDIA_FRAGMENT_NEEDED,aa,V),S.on(q.default.MEDIA_FRAGMENT_LOADED,U,V),S.on(q.default.BUFFER_LEVEL_UPDATED,k,V),S.on(q.default.BUFFER_LEVEL_STATE_CHANGED,v,V),S.on(q.default.BUFFER_CLEARED,m,V),S.on(q.default.QUOTA_EXCEEDED,function(b){Ja=b.quotaExceededTime;ja=!0},V),S.on(q.default.SEEK_TARGET,
da,V),V}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(61)),b=c(e(113)),d=c(e(154)),l=c(e(118)),p=c(e(212)),n=c(e(125)),u=c(e(62)),w=c(e(229)),v=c(e(47)),z=e(232),y=c(e(46)),q=c(e(54)),t=c(e(57)),J=c(e(51)),O=c(e(239)),A=c(e(45)),G=c(e(231)),D=c(e(234)),I=c(e(219)),B=c(e(241)),M=e(257);k.__dashjs_factory_name="StreamProcessor";g.default=v.default.getClassFactory(k);m.exports=g.default},{112:112,113:113,118:118,125:125,154:154,212:212,219:219,229:229,231:231,232:232,234:234,
239:239,241:241,257:257,45:45,46:46,47:47,51:51,54:54,57:57,61:61,62:62}],110:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){c=c||{};var e=this.context,g=(0,l.default)(e).getInstance(),k=(0,f.default)(e).create({errHandler:c.errHandler,dashMetrics:c.dashMetrics,mediaPlayerModel:c.mediaPlayerModel,requestModifier:c.requestModifier,useFetch:c.settings?c.settings.get().streaming.lowLatencyEnabled:null,errors:u.default});return{load:function(c,e,f){function l(b,d){e.resolved=
!0;e.resolvedContent=b||null;g.trigger(p.default.XLINK_ELEMENT_LOADED,{element:e,resolveObject:f,error:b||d?null:new h.default(u.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,u.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+c)})}var n;"urn:mpeg:dash:resolve-to-zero:2013"===c?l(null,!0):(n=new d.default(c,b.HTTPRequest.XLINK_EXPANSION_TYPE),k.load({request:n,success:function(b){l(b)},error:function(){l(null)}}))},reset:function(){k&&(k.abort(),k=null)}}}Object.defineProperty(g,"__esModule",{value:!0});
var h=c(e(239)),f=c(e(163)),b=e(255),d=c(e(246)),l=c(e(46)),p=c(e(54)),n=c(e(47)),u=c(e(51));k.__dashjs_factory_name="XlinkLoader";g.default=n.default.getClassFactory(k);m.exports=g.default},{163:163,239:239,246:246,255:255,46:46,47:47,51:51,54:54}],111:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0});g.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},
NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'}}};m.exports=g.default},{}],112:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.init()}
Object.defineProperty(g,"__esModule",{value:!0});e=new (function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"init",value:function(){this.STREAM="stream";this.VIDEO="video";this.AUDIO="audio";this.TEXT="text";this.FRAGMENTED_TEXT="fragmentedText";this.EMBEDDED_TEXT="embeddedText";this.MUXED="muxed";this.IMAGE="image";this.STPP="stpp";this.TTML="ttml";this.VTT="vtt";this.WVTT="wvtt";this.ABR_STRATEGY_DYNAMIC="abrDynamic";this.ABR_STRATEGY_BOLA="abrBola";this.ABR_STRATEGY_L2A="abrL2A";this.ABR_STRATEGY_LoLP=
"abrLoLP";this.ABR_STRATEGY_THROUGHPUT="abrThroughput";this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData";this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing";this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault";this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP";this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow";this.MOVING_AVERAGE_EWMA="ewma";this.BAD_ARGUMENT_ERROR="Invalid Arguments";this.MISSING_CONFIG_ERROR=
"Missing config parameter(s)";this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace";this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace";this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack";this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate";this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency";this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange";this.CMCD_MODE_QUERY="query";this.CMCD_MODE_HEADER="header";this.LOCATION="Location";this.INITIALIZE="initialize";this.TEXT_SHOWING="showing";
this.TEXT_HIDDEN="hidden";this.CC1="CC1";this.CC3="CC3";this.UTF8="utf-8";this.SCHEME_ID_URI="schemeIdUri";this.START_TIME="starttime";this.SERVICE_DESCRIPTION_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019";this.SUPPLEMENTAL_PROPERTY_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019";this.XML="XML";this.ARRAY_BUFFER="ArrayBuffer";this.DVB_REPORTING_URL="dvb:reportingUrl";this.DVB_PROBABILITY="dvb:probability"}}]),k);g.default=e;m.exports=g.default},{}],113:[function(e,m,g){function c(c,e){for(var b=
0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.init()}Object.defineProperty(g,"__esModule",{value:!0});e=new (function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList";this.HTTP_REQUEST="HttpList";this.TRACK_SWITCH="RepSwitchList";this.BUFFER_LEVEL=
"BufferLevel";this.BUFFER_LOADED="bufferLoaded";this.ABANDON_LOAD="abandonload";this.ALLOW_LOAD="allowload";this.BUFFER_EMPTY="bufferStalled";this.BUFFER_STATE="BufferState";this.DVR_INFO="DVRInfo";this.DROPPED_FRAMES="DroppedFrames";this.SCHEDULING_INFO="SchedulingInfo";this.REQUESTS_QUEUE="RequestsQueue";this.MANIFEST_UPDATE="ManifestUpdate";this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo";this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo";this.PLAY_LIST="PlayList";this.DVB_ERRORS=
"DVBErrors"}}]),k);g.default=e;m.exports=g.default},{}],114:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.init()}Object.defineProperty(g,"__esModule",{value:!0});e=new (function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING=
"org.w3.clearkey";this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha";this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),k);g.default=e;m.exports=g.default},{}],115:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){(F=(0,h.default)(Z).create({dashMetrics:fa,mediaPlayerModel:qa,settings:ba})).initialize()}function e(){S={};la={};ua={};W={};Y={};Aa={};V={};Ba={};void 0===ha&&(ha=!1);sa=ka=za=void 0;clearTimeout(ta);ta=null}function g(b){b.mediaType===
f.default.VIDEO&&(void 0!==za&&ka.push(za,ra.getPlaybackQuality()),za=b.newQuality)}function k(d){d.metric!==b.default.HTTP_REQUEST||!d.value||d.value.type!==J.HTTPRequest.MEDIA_SEGMENT_TYPE||d.mediaType!==f.default.AUDIO&&d.mediaType!==f.default.VIDEO||sa.push(d.mediaType,d.value,ba.get().streaming.abr.useDeadTimeLatency);d.metric!==b.default.BUFFER_LEVEL||d.mediaType!==f.default.AUDIO&&d.mediaType!==f.default.VIDEO||function(b,d){var c=ba.get().streaming.abr.ABRStrategy;if(c===f.default.ABR_STRATEGY_L2A)return Aa[b]=
!1,Ba[b]=!1,V[b]=!0;if(c===f.default.ABR_STRATEGY_LoLP)return Aa[b]=!1,Ba[b]=!0,V[b]=!1;if(c===f.default.ABR_STRATEGY_BOLA)return Aa[b]=!0,Ba[b]=!1,V[b]=!1;if(c===f.default.ABR_STRATEGY_THROUGHPUT)return Aa[b]=!1,Ba[b]=!1,V[b]=!1;var e=c=qa.getStableBufferTime(),h=.5*c;c=Aa[b];e=(c?h:e)<d;(Aa[b]=e)!==c&&(e?da.info("["+b+"] switching from throughput to buffer occupancy ABR rule (buffer: "+d.toFixed(3)+")."):da.info("["+b+"] switching from buffer occupancy to throughput ABR rule (buffer: "+d.toFixed(3)+
")."));!0}(d.mediaType,.001*d.value.level)}function u(b,d){return S[d]=S[d]||{},S[d].hasOwnProperty(b)||(S[d][b]=0),function(b,d){if(d!==f.default.VIDEO||!ba.get().streaming.abr.limitBitrateByPortal||!W[d])return b;ha||L();d=ma.getAdaptationForType(0,d).Representation;if(0<pa&&0<Da){for(;0<b&&d[b]&&pa<d[b].width&&pa-d[b-1].width<d[b].width-pa;)--b;for(;b<d.length-1&&d[b].width===d[b+1].width;)b+=1}return b}(function(b,d,c){d=ba.get().streaming.abr.maxRepresentationRatio[d];return isNaN(d)||1<=d||
0>d?b:Math.min(b,Math.round(c*d))}(function(b,d){var c=b;if(!W[d])return c;var e=C(d);void 0!==e&&(c=Math.max(b,e));d=m(d);void 0!==d&&(c=Math.min(c,d));return c}(S[d][b],b),b,S[d][b]),b)}function m(b){var d=(d=b,ba.get().streaming.abr.maxBitrate[d]);return-1<d?P(W[b].getMediaInfo(),d):void 0}function C(b){var d=(c=b,ba.get().streaming.abr.minBitrate[c]);if(-1<d){var c=W[b].getMediaInfo();b=K(c);c=P(c,d);return b[c]&&c<b.length-1&&b[c].bitrate<1E3*d&&c++,c}}function E(b,d,c,e){var f=d.id;d=H(b);(0,
O.checkInteger)(c);f=u(b,f);c!==d&&0<=c&&c<=f&&x(b,d,c,f,e)}function x(b,d,c,e,f){var h,g,k;b&&W[b]&&(g=(h=W[b].getStreamInfo())?h.id:null,ba.get().debug.logLevel===t.default.LOG_LEVEL_DEBUG&&(k=fa.getCurrentBufferLevel(b),da.info("["+b+"] switch from "+d+" to "+c+"/"+e+" (buffer: "+k+") "+(f?JSON.stringify(f):"."))),e=b,k=c,la[g]=la[g]||{},la[g][e]=k,aa.trigger(n.default.QUALITY_CHANGE_REQUESTED,{oldQuality:d,newQuality:c,reason:f},{streamId:h.id,mediaType:b}),h=sa.getAverageThroughput(b),isNaN(h)||
R.setSavedBitrateSettings(b,h))}function P(b,d,c){var e=b&&b.type?W[b.type].getRepresentationInfo():null;if(ba.get().streaming.abr.useDeadTimeLatency&&c&&e&&e.fragmentDuration){c/=1E3;e=e.fragmentDuration;if(e<c)return 0;d*=1-c/e}b=K(b);for(c=b.length-1;0<=c;c--)if(1E3*d>=b[c].bitrate)return c;return 0}function K(b){var c=[];if(!b||!b.bitrateList)return c;var e=b.bitrateList;b=b.type;for(var f,h=0,g=e.length;h<g;h++)(f=new d.default).mediaType=b,f.qualityIndex=h,f.bitrate=e[h].bandwidth,f.width=e[h].width,
f.height=e[h].height,f.scanType=e[h].scanType,c.push(f);return c}function H(b){if(b&&W[b]){var d=W[b].getStreamInfo();if(d=d?d.id:null)return la[d]=la[d]||{},la[d].hasOwnProperty(b)||(la[d][b]=0),la[d][b]}return 0}function L(){var b;ra&&(b=ba.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,pa=ra.getClientWidth()*b,Da=ra.getClientHeight()*b)}function N(d){var c=d.request.mediaType;if(ba.get().streaming.abr.autoSwitchBitrate[c]){var e=
W[c];if(e){var f=(0,w.default)(Z).create({abrController:U,streamProcessor:e,currentRequest:d.request,useBufferOccupancyABR:Aa[c],useL2AABR:V[c],useLoLPABR:Ba[c],videoModel:ra});f=F.shouldAbandonFragment(f);f.quality>v.default.NO_CHANGE&&(e=e.getFragmentModel()).getRequests({state:l.default.FRAGMENT_MODEL_LOADING,index:d.request.index})[0]&&(e.abortRequests(),ua[c].state=b.default.ABANDON_LOAD,Y[c].reset(),Y[c].push({oldValue:H(c),newValue:f.quality,confidence:1,reason:f.reason}),E(c,X.getActiveStreamInfo(),
f.quality,f.reason),clearTimeout(ta),ta=setTimeout(function(){ua[c].state=b.default.ALLOW_LOAD;ta=null},ba.get().streaming.abandonLoadTimeout))}}}var Z=this.context,Q=(0,t.default)(Z).getInstance(),aa=(0,p.default)(Z).getInstance(),U=void 0,da=void 0,F=void 0,X=void 0,S=void 0,la=void 0,W=void 0,ua=void 0,ta=void 0,ha=void 0,pa=void 0,Da=void 0,ma=void 0,ra=void 0,qa=void 0,R=void 0,za=void 0,Y=void 0,ka=void 0,sa=void 0,Aa=void 0,V=void 0,Ba=void 0,fa=void 0,ba=void 0;return U={isPlayingAtTopQuality:function(b){var d=
b?b.id:null,c=H(f.default.AUDIO);b=H(f.default.VIDEO);return c===u(f.default.AUDIO,d)&&b===u(f.default.VIDEO,d)},updateTopQualityIndex:function(b){var d=b.type,c=b.streamInfo.id,e=b.representationCount-1;return b=d,d=e,S[c]=S[c]||{},S[c][b]=d,e},getThroughputHistory:function(){return sa},getBitrateList:K,getQualityForBitrate:P,getTopBitrateInfoFor:function(b){if(b&&W&&W[b]){var d=W[b].getStreamInfo();if(d&&d.id)return d=u(b,d.id),b=K(W[b].getMediaInfo()),b[d]?b[d]:null}return null},getMaxAllowedIndexFor:m,
getMinAllowedIndexFor:C,getInitialBitrateFor:function(b){if(!R||!R.hasOwnProperty("getSavedBitrateSettings"))throw Error(f.default.MISSING_CONFIG_ERROR);if(!0,b===f.default.TEXT||b===f.default.FRAGMENTED_TEXT)return NaN;var d,c=R.getSavedBitrateSettings(b),e=ba.get().streaming.abr.initialBitrate[b],h=ba.get().streaming.abr.initialRepresentationRatio[b];return-1===e&&(e=-1<h?(d=ma.getAdaptationForType(0,b).Representation,Array.isArray(d)?d[Math.max(Math.round(d.length*h)-1,0)].bandwidth:0):isNaN(c)?
b===f.default.VIDEO?1E3:100:c),e},getQualityFor:H,getAbandonmentStateFor:function(b){return ua[b]?ua[b].state:null},setPlaybackQuality:E,checkPlaybackQuality:function(d){var c,e,f,h,g;d&&W&&W[d]&&(g=(e=W[d].getStreamInfo())?e.id:null,c=H(d),h=(0,w.default)(Z).create({abrController:U,streamProcessor:W[d],currentValue:c,switchHistory:Y[d],droppedFramesHistory:ka,useBufferOccupancyABR:Aa[d],useL2AABR:V[d],useLoLPABR:Ba[d],videoModel:ra}),!ka||(f=ra.getPlaybackQuality())&&ka.push(za,f),ba.get().streaming.abr.autoSwitchBitrate[d]&&
(e=C(d),f=u(d,g),h=(g=F.getMaxQuality(h)).quality,void 0!==e&&(h>v.default.NO_CHANGE?h:c)<e&&(h=e),f<h&&(h=f),Y[d].push({oldValue:c,newValue:h}),h>v.default.NO_CHANGE&&h!=c?(ua[d].state===b.default.ALLOW_LOAD||c<h)&&x(d,c,h,f,g.reason):ba.get().debug.logLevel===t.default.LOG_LEVEL_DEBUG&&(g=fa.getCurrentBufferLevel(d,!0),da.debug("["+d+"] stay on "+c+"/"+f+" (buffer: "+g+")"))))},getTopQualityIndexFor:u,setElementSize:L,setWindowResizeEventCalled:function(b){ha=b},createAbrRulesCollection:c,registerStreamType:function(d,
e){Y[d]=Y[d]||(0,z.default)(Z).create();W[d]=e;ua[d]=ua[d]||{};ua[d].state=b.default.ALLOW_LOAD;Aa[d]=!1;V[d]=!1;Ba[d]=!1;aa.on(n.default.LOADING_PROGRESS,N,U);d===f.default.VIDEO&&(aa.on(n.default.QUALITY_CHANGE_RENDERED,g,U),ka=ka||(0,y.default)(Z).create(),L());aa.on(n.default.METRIC_ADDED,k,U);aa.on(n.default.PERIOD_SWITCH_COMPLETED,c,U);sa=sa||(0,q.default)(Z).create({settings:ba})},unRegisterStreamType:function(b){delete W[b]},setConfig:function(b){b&&(b.streamController&&(X=b.streamController),
b.domStorage&&(R=b.domStorage),b.mediaPlayerModel&&(qa=b.mediaPlayerModel),b.dashMetrics&&(fa=b.dashMetrics),b.adapter&&(ma=b.adapter),b.videoModel&&(ra=b.videoModel),b.settings&&(ba=b.settings))},reset:function(){e();aa.off(n.default.LOADING_PROGRESS,N,U);aa.off(n.default.QUALITY_CHANGE_RENDERED,g,U);aa.off(n.default.METRIC_ADDED,k,U);aa.off(n.default.PERIOD_SWITCH_COMPLETED,c,U);F&&F.reset()}},da=Q.getLogger(U),e(),U}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(196)),f=c(e(112)),b=
c(e(113)),d=c(e(238)),l=c(e(154)),p=c(e(46)),n=c(e(54)),u=c(e(47)),w=c(e(192)),v=c(e(193)),z=c(e(194)),y=c(e(191)),q=c(e(195)),t=c(e(45)),J=e(255),O=e(232);k.__dashjs_factory_name="AbrController";e=u.default.getSingletonFactory(k);e.QUALITY_DEFAULT=0;u.default.updateSingletonFactory(k.__dashjs_factory_name,e);g.default=e;m.exports=g.default},{112:112,113:113,154:154,191:191,192:192,193:193,194:194,195:195,196:196,232:232,238:238,255:255,45:45,46:46,47:47,54:54}],116:[function(e,m,g){function c(b){return b&&
b.__esModule?b:{default:b}}function k(){var c=void 0,e=void 0,g=this.context,k=(0,p.default)(g).getInstance(),l=(0,b.default)(g).getInstance(),q=void 0,t=void 0;return c={reset:function(){q.reset();t.reset()},initialize:function(b){q.setConfig({adapter:e});q.update(b);t.chooseSelector(e.getIsDVB(b))},resolve:function(b){if(b=q.getForPath(b).reduce(function(b,c){return(c=t.select(c))?(l.isRelative(c.url)?b.url=l.resolve(c.url,b.url):(b.url=c.url,b.serviceLocation=c.serviceLocation),b.availabilityTimeOffset=
c.availabilityTimeOffset,b.availabilityTimeComplete=c.availabilityTimeComplete,b):new d.default},new d.default),!l.isRelative(b.url))return b},setConfig:function(b){b.baseURLTreeModel&&(q=b.baseURLTreeModel);b.baseURLSelector&&(t=b.baseURLSelector);b.adapter&&(e=b.adapter)}},q=(0,h.default)(g).create(),t=(0,f.default)(g).create(),k.on(n.default.SERVICE_LOCATION_BLACKLIST_CHANGED,function(b){q.invalidateSelectedIndexes(b.entry)},c),c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(152)),
f=c(e(218)),b=c(e(234)),d=c(e(86)),l=c(e(47)),p=c(e(46)),n=c(e(54));k.__dashjs_factory_name="BaseURLController";g.default=l.default.getClassFactory(k);m.exports=g.default},{152:152,218:218,234:234,46:46,47:47,54:54,86:86}],117:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function d(b){-1===h.indexOf(b)&&(h.push(b),g.trigger(k,{entry:b}))}function c(b){d(b.entry)}b=b||{};var e=void 0,h=[],g=(0,f.default)(this.context).getInstance(),k=b.updateEventName;b=b.addBlacklistEventName;
return e={add:d,contains:function(b){return!!(h.length&&b&&b.length)&&-1!==h.indexOf(b)},reset:function(){h=[]}},b&&g.on(b,c,e),e}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(46));k.__dashjs_factory_name="BlackListController";g.default=h.default.getClassFactory(k);m.exports=g.default},{46:46,47:47}],118:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(b){return Aa.convertDataToRepresentationInfo(ka.getRepresentationForQuality(b))}
function g(b,c){if(!Ta||!b)return null;var f=b[0];if(ja)try{na=c&&c[ca]?(0,d.default)(qa).create(ja,f,M.bind(this),c[ca]):(0,d.default)(qa).create(ja,f,M.bind(this),null),T.get().streaming.useAppendWindow&&na.updateAppendWindow(ba),"function"==typeof na.getBuffer().initialize&&na.getBuffer().initialize(ca,ba,b,Y)}catch(Oa){ea.fatal("Caught error on create SourceBuffer: "+Oa),za.error(new y.default(q.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,q.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+ca))}else na=
(0,l.default)(qa).create(M.bind(this));return S(e(oa)),na}function k(b){ea.info("Init fragment finished loading saving to",ca+"'s init cache");Ta.save(b.chunk);ea.debug("Append Init fragment",ca," with representationId:",b.chunk.representationId," and quality:",b.chunk.quality,", data size:",b.chunk.bytes.byteLength);m(b.chunk)}function w(b){var d=b.chunk;Ga?(ya=d,(b=na&&na.getAllBufferRanges())&&0<b.length&&fa.getTimeToStreamEnd()>T.get().streaming.stallThreshold&&(ea.debug("Clearing buffer because track changed - "+
(b.end(b.length-1)+.5)),da([{start:0,end:b.end(b.length-1)+.5,force:!0}]))):m(d)}function m(b){na.append(b);b.mediaInfo.type===h.default.VIDEO&&ma(u.default.VIDEO_CHUNK_RECEIVED,{chunk:b})}function J(b){if(b&&0<b.length)for(var d=0,c=b.length;d<c;d++)ea.debug("Buffered range: "+b.start(d)+" - "+b.end(d)+", currentTime \x3d ",fa.getTime())}function M(b){var d,c,e;if(b.error)return 22===b.error.code&&(Qa=!0,Ja=.8*Da(),ea.warn("Quota exceeded, Critical Buffer: "+Ja),0<Ja&&(d=Math.max(.2*Ja,1),e=Ja-d,
c=Math.min(T.get().streaming.bufferTimeAtTopQuality,.9*e),e=Math.min(T.get().streaming.bufferTimeAtTopQualityLongForm,.9*e),e={streaming:{bufferToKeep:parseFloat(d.toFixed(5)),bufferTimeAtTopQuality:parseFloat(c.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(e.toFixed(5))}},T.update(e))),void(22!==b.error.code&&Da()<Ja||(ea.warn("Clearing playback buffer to overcome quota exceed situation"),ma(u.default.QUOTA_EXCEEDED,{criticalBufferLevel:Ja,quotaExceededTime:b.chunk.start}),da(U())));Qa=!1;
(ia=b.chunk)&&!isNaN(ia.index)&&(Ha=Math.max(ia.index,Ha),Z());b=na.getAllBufferRanges();if(ia.segmentType===t.HTTPRequest.MEDIA_SEGMENT_TYPE){if(J(b),P(),!(ca!==h.default.AUDIO&&ca!==h.default.VIDEO||isNaN(Ia)||(d=fa.getTime(),c=L(Ia,0),d===Ia&&c)))if(e=ka.getCurrentRepresentation().segmentDuration,c=L(Ia,e))Math.abs(d-Ia)>e?Ia<=c.end&&(fa.seek(Math.max(Ia,c.start),!1,!0),Ia=NaN):d<c.start&&(fa.seek(c.start,!1,!0),Ia=NaN)}else Ga&&(f=fa.getTime(),ea.debug("AppendToBuffer seek target should be "+
f),ma(u.default.SEEK_TARGET,{time:f}));var f=!1;Ka&&(0<Ka.indexOf(ia)&&(f=!0),Ka=null);ia&&!f&&ma(ia.endFragment?u.default.BYTES_APPENDED_END_FRAGMENT:u.default.BYTES_APPENDED,{quality:ia.quality,startTime:ia.start,index:ia.index,bufferedRanges:b,mediaType:ca})}function C(b){oa!==b.newQuality&&(S(this.getRepresentationInfo(b.newQuality)),oa=b.newQuality)}function E(d){na&&(Ia=d.seekTime,wa&&(wa=!(Za=!0),Ca=Number.POSITIVE_INFINITY),(ca!==h.default.FRAGMENTED_TEXT?function(){na&&na.waitForUpdateEnd(function(){if(na){var d=
[];var c=na.getAllBufferRanges();if(c&&0!==c.length){var e=fa.getTime(),f=c.end(c.length-1)+.5,h=Y.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:e,threshold:.01})[0],g;h?(g={start:0,end:h.startTime-T.get().streaming.stallThreshold},(e=Y.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:h.startTime-h.duration/2,threshold:.01})[0])&&e.startTime!=h.startTime&&(g.end=e.startTime),g.start<g.end&&g.end>c.start(0)&&d.push(g),c={start:h.startTime+h.duration+T.get().streaming.stallThreshold,
end:f},(g=Y.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:h.startTime+h.duration+T.get().streaming.stallThreshold,threshold:.01})[0])&&g.startTime!==h.startTime&&(c.start=g.startTime+g.duration+T.get().streaming.stallThreshold),c.start<c.end&&c.start<f&&d.push(c)):(ea.debug("getAllRangesWithSafetyFactor - No request found in current time position, removing full buffer 0 -",f),d.push({start:0,end:f}))}}else d=void 0;d&&0!==d.length||P();da(d)})}:P)())}function x(){Ia=NaN}function P(){(!Ga||
ca===h.default.FRAGMENTED_TEXT&&V.isTextEnabled())&&N()}function K(){Q()}function H(){Ia=NaN;Q()}function L(b,d){var c,e,f=na.getAllBufferRanges(),h=null,g=null,k=isNaN(d)?.15:d;if(null!=f){var l=0;for(e=f.length;l<e;l++)if(d=f.start(l),c=f.end(l),null===h){var n=Math.abs(d-b);(d<=b&&b<c||n<=k)&&(h=d,g=c)}else{if(!(d-g<=k))break;g=c}if(null!==h)return{start:h,end:g}}return null}function N(){var b,d;fa&&(b=(isNaN(Ia)?fa.getTime():Ia)||0,T.get().streaming.jumpGaps&&(d=T.get().streaming.smallGapLimit),
va=null===(d=L(b,d))?0:d.end-b,ma(u.default.BUFFER_LEVEL_UPDATED,{bufferLevel:va}),Q())}function Z(){Ca-1<=Ha&&!wa&&void 0===na.discharge&&(wa=!0,ea.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for "+ca),ma(u.default.BUFFERING_COMPLETED))}function Q(){ca!==h.default.AUDIO&&ca!==h.default.VIDEO||(Za&&!wa&&0<va&&fa&&.1>fa.getTimeToStreamEnd()-va&&(wa=!(Za=!1),ea.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED for type "+ca),ma(u.default.BUFFERING_COMPLETED)),(!T.get().streaming.lowLatencyEnabled&&
va<T.get().streaming.stallThreshold||0===va)&&!wa?aa(f.default.BUFFER_EMPTY):(wa||va>=ba.manifestInfo.minBufferTime)&&aa(f.default.BUFFER_LOADED))}function aa(b){xa===b||b===f.default.BUFFER_EMPTY&&0===fa.getTime()||ca===h.default.FRAGMENTED_TEXT&&!V.isTextEnabled()||(xa=b,ma(u.default.BUFFER_LEVEL_STATE_CHANGED,{state:b}),ma(b===f.default.BUFFER_LOADED?u.default.BUFFER_LOADED:u.default.BUFFER_EMPTY),ea.debug(b===f.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}
function U(){var d=[],c=na.getAllBufferRanges();if(!c||0===c.length)return d;var e=fa.getTime(),f=Math.max(0,e-T.get().streaming.bufferToKeep),h=Y.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:e,threshold:.01})[0];if(h)f=Math.min(h.startTime,f);else if(0===e&&fa.getIsDynamic())return[];if(c.start(0)<=f){e={start:0,end:f};for(h=0;h<c.length&&c.end(h)<=f;h++)e.end=c.end(h);e.start<e.end&&d.push(e)}return d}function da(b){b&&na&&0!==b.length&&(Ea.push.apply(Ea,b),Fa||F())}function F(){if(0===
Ea.length||!na)return ea.debug("Nothing to prune, halt pruning"),void(Fa=!(Ea=[]));var b=na.getBuffer();if(!b||!b.buffered||0===b.buffered.length)return ea.debug("SourceBuffer is empty (or does not exist), halt pruning"),void(Fa=!(Ea=[]));b=Ea.shift();ea.debug("Removing buffer from:",b.start,"to",b.end);Fa=!0;fa.getTime()<b.end&&(wa=!1,Ha=0);na.remove(b.start,b.end,b.force)}function X(b){na===b.buffer&&(ea.debug("onRemoved buffer from:",b.from,"to",b.to),J(na.getAllBufferRanges()),0===Ea.length&&
(Fa=!1),b.unintended&&(ea.warn("Detected unintended removal from:",b.from,"to",b.to,"setting index handler time to",b.from),ma(u.default.SEEK_TARGET,{time:b.from,mediaType:ca,streamId:ba.id})),Fa?F():(Ga?(Ga=!1,ya&&m(ya)):N(),ma(u.default.BUFFER_CLEARED,{from:b.from,to:b.to,unintended:b.unintended,hasEnoughSpaceToAppend:Da()<Ja,quotaExceeded:Qa})))}function S(b){b&&void 0!==b.MSETimeOffset&&na&&na.updateTimestampOffset&&na.updateTimestampOffset(b.MSETimeOffset)}function la(b){b.error||wa||S(b.currentRepresentation)}
function W(b){Ca=b.request.index;Z()}function ua(b){b.newMediaInfo.streamInfo.id!==ba.id||b.newMediaInfo.type!==ca||(b=na&&na.getAllBufferRanges())&&(ea.info("Track change asked"),sa.getSwitchMode(ca)===h.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&b&&0<b.length&&fa.getTimeToStreamEnd()>T.get().streaming.stallThreshold&&(wa=!1,Ca=Number.POSITIVE_INFINITY))}function ta(){++Ma*(T.get().streaming.wallclockTimeUpdateInterval/1E3)>=T.get().streaming.bufferPruningInterval&&(Ma=0,na&&ca!==h.default.FRAGMENTED_TEXT&&
(wa||da(U())))}function ha(){Q()}function pa(b,d){ja=b;na&&d&&"function"==typeof na.discharge&&(La=na,g(d))}function Da(){var b,d=na.getAllBufferRanges(),c=0;if(!d)return c;var e=0;for(b=d.length;e<b;e++)c+=d.end(e)-d.start(e);return c}function ma(b,d){d=d||{};R.trigger(b,d,{streamId:ba.id,mediaType:ca})}function ra(b,d){Ja=Number.POSITIVE_INFINITY;xa=void 0;oa=p.default.QUALITY_DEFAULT;Ca=Number.POSITIVE_INFINITY;ia=null;Za=Qa=Fa=wa=!1;Ma=va=Ha=0;Ea=[];Ia=NaN;na&&(b||na.abort(),na.reset(d),na=null);
Ga=!1}c=c||{};var qa=this.context,R=(0,n.default)(qa).getInstance(),za=c.errHandler,Y=c.fragmentModel,ka=c.representationController,sa=c.mediaController,Aa=c.adapter,V=c.textController,Ba=c.abrController,fa=c.playbackController,ba=c.streamInfo,ca=c.type,T=c.settings,ea=c=void 0,oa=void 0,wa=void 0,va=void 0,Ja=void 0,ja=void 0,Ha=void 0,Ca=void 0,na=void 0,La=void 0,Ka=void 0,xa=void 0,ia=void 0,Ma=void 0,Fa=void 0,Qa=void 0,Ta=void 0,Ia=void 0,Za=void 0,Ea=void 0,Ga=void 0,ya=void 0;return c={initialize:function(b){pa(b);
oa=Ba.getQualityFor(ca);R.on(u.default.DATA_UPDATE_COMPLETED,la,this);R.on(u.default.INIT_FRAGMENT_LOADED,k,this);R.on(u.default.MEDIA_FRAGMENT_LOADED,w,this);R.on(u.default.QUALITY_CHANGE_REQUESTED,C,this);R.on(u.default.STREAM_COMPLETED,W,this);R.on(u.default.PLAYBACK_PLAYING,H,this);R.on(u.default.PLAYBACK_PROGRESS,P,this);R.on(u.default.PLAYBACK_TIME_UPDATED,P,this);R.on(u.default.PLAYBACK_RATE_CHANGED,ha,this);R.on(u.default.PLAYBACK_SEEKING,E,this);R.on(u.default.PLAYBACK_SEEKED,x,this);R.on(u.default.PLAYBACK_STALLED,
K,this);R.on(u.default.WALLCLOCK_TIME_UPDATED,ta,this);R.on(u.default.CURRENT_TRACK_CHANGED,ua,this,{priority:n.default.EVENT_PRIORITY_HIGH});R.on(u.default.SOURCEBUFFER_REMOVE_COMPLETED,X,this)},getStreamId:function(){return ba.id},getType:function(){return ca},getBufferControllerType:function(){return"BufferController"},getRepresentationInfo:e,createBuffer:g,dischargePreBuffer:function(){if(na&&La&&"function"==typeof La.discharge){var b=La.getAllBufferRanges();if(0<b.length){for(var d="Beginning "+
ca+"PreBuffer discharge, adding buffer for:",c=0;c<b.length;c++)d+=" start: "+b.start(c)+", end: "+b.end(c)+";";ea.debug(d)}else ea.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");Ka=[];b=La.discharge();d=null;for(c=0;c<b.length;c++){var e,f=b[c];"InitializationSegment"===f.segmentType||(e=Ta.extract(f.streamId,f.representationId))&&d!==e&&(Ka.push(e),na.append(e),d=e);Ka.push(f);na.append(f)}La.reset();La=null}},getBuffer:function(){return na},setBuffer:function(b){na=
b},getBufferLevel:function(){return va},getRangeAt:L,setMediaSource:pa,getMediaSource:function(){return ja},appendInitSegment:function(b){return!!(b=Ta.extract(ba.id,b))&&(ea.info("Append Init fragment",ca," with representationId:",b.representationId," and quality:",b.quality,", data size:",b.bytes.byteLength),m(b),!0)},replaceBuffer:function(){Ga=!0},getIsBufferingCompleted:function(){return wa},getIsPruningInProgress:function(){return Fa},reset:function(b,d){R.off(u.default.DATA_UPDATE_COMPLETED,
la,this);R.off(u.default.INIT_FRAGMENT_LOADED,k,this);R.off(u.default.MEDIA_FRAGMENT_LOADED,w,this);R.off(u.default.QUALITY_CHANGE_REQUESTED,C,this);R.off(u.default.STREAM_COMPLETED,W,this);R.off(u.default.PLAYBACK_PLAYING,H,this);R.off(u.default.PLAYBACK_PROGRESS,P,this);R.off(u.default.PLAYBACK_TIME_UPDATED,P,this);R.off(u.default.PLAYBACK_RATE_CHANGED,ha,this);R.off(u.default.PLAYBACK_SEEKING,E,this);R.off(u.default.PLAYBACK_SEEKED,x,this);R.off(u.default.PLAYBACK_STALLED,K,this);R.off(u.default.WALLCLOCK_TIME_UPDATED,
ta,this);R.off(u.default.CURRENT_TRACK_CHANGED,ua,this);R.off(u.default.SOURCEBUFFER_REMOVE_COMPLETED,X,this);ra(b,d)},updateAppendWindow:function(){na&&!wa&&na.updateAppendWindow(ba)}},ea=(0,v.default)(qa).getInstance().getLogger(c),Ta=(0,z.default)(qa).getInstance(),ra(),c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(113)),b=c(e(154)),d=c(e(107)),l=c(e(106)),p=c(e(115)),n=c(e(46)),u=c(e(54)),w=c(e(47)),v=c(e(45)),z=c(e(227)),y=c(e(239)),q=c(e(51)),t=e(255);k.__dashjs_factory_name=
"BufferController";g.default=w.default.getClassFactory(k);m.exports=g.default},{106:106,107:107,112:112,113:113,115:115,154:154,227:227,239:239,255:255,45:45,46:46,47:47,51:51,54:54}],119:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){if(!E||!x)throw Error("setConfig function has to be called previously");}function e(){H=!1;I={};M=null;K=!(B={});C=Date.now()/1E3}function h(b,d,c){var e=!(2>=arguments.length||void 0===c)&&c,f=b.eventStream.schemeIdUri,
h=b.eventStream.value,g=b.id,k=J.DISCARDED;d[f]||(d[f]=[]);c=d[f].findIndex(function(b){return(!h||b.eventStream.value&&b.eventStream.value===h)&&b.id===g});return-1===c?(d[f].push(b),k=J.ADDED):e&&(d[f][c]=b,k=J.UPDATED),k}function g(){try{var b,d;K||(K=!0,d=(b=x.getTime())-C,d=0<C?Math.max(0,d):0,k(B,d,b),k(I,d,b),C=b,K=!1)}catch(Z){K=!1}}function k(b,c,e){try{y(b,function(f){if(void 0!==f){var h=isNaN(f.duration)?0:f.duration;if(f.calculatedPresentationTime<=e&&f.calculatedPresentationTime+c+h>=
e)q(f,b,d.default.EVENT_MODE_ON_START);else{try{var g=f.calculatedPresentationTime<e-(h+c)}catch(da){g=!1}if(!(h=g))try{h=f.calculatedPresentationTime>f.eventStream.period.start+f.eventStream.period.duration}catch(da){h=!1}h&&(D.debug("Deleting event "+f.id+" as it is expired or invalid"),t(b,f))}}})}catch(Q){}}function m(b){try{var c=x.getTime();y(b,(f=e.eventStream&&e.eventStream.period&&!isNaN(e.eventStream.period.duration)?e.eventStream.period.duration:NaN,h=e.eventStream&&e.eventStream.period&&
!isNaN(e.eventStream.period.start)?e.eventStream.period.start:NaN,void(isNaN(f)||isNaN(h)||(h=e.calculatedPresentationTime,300>Math.abs(h-c)&&q(e,b,d.default.EVENT_MODE_ON_START)))))}catch(U){}var e,f,h}function y(b,d){try{if(b)for(var c=Object.keys(b),e=0;e<c.length;e++)b[c[e]].forEach(function(b){void 0!==b&&d(b)})}catch(aa){}}function q(b,e,f){try{var h=x.getTime(),g=b.id;if(f===d.default.EVENT_MODE_ON_RECEIVE)return D.debug("Received event "+g),void A.trigger(b.eventStream.schemeIdUri,{event:b},
{mode:f});if("urn:mpeg:dash:event:2012"===b.eventStream.schemeIdUri&&1===b.eventStream.value){if(0!==b.duration||0!==b.presentationTimeDelta){D.debug("Starting manifest refresh event "+g+" at "+h);t(e,b);try{c(),E.refreshManifest()}catch(da){}}}else if("urn:mpeg:dash:event:callback:2015"===b.eventStream.schemeIdUri&&1===b.eventStream.value){D.debug("Starting callback event "+g+" at "+h);t(e,b);var k=b.messageData;try{(0,l.default)(O).create({}).load({method:"get",url:k,request:{responseType:"arraybuffer"}})}catch(da){throw da;
}}else D.debug("Starting event "+g+" at "+h),t(e,b),A.trigger(b.eventStream.schemeIdUri,{event:b},{mode:f})}catch(da){}}function t(b,d){var c=d.eventStream.schemeIdUri,e=d.eventStream.value,f=d.id;b[c]=b[c].filter(function(b){return e&&b.eventStream.value&&b.eventStream.value!==e||b.id!==f});0===b[c].length&&delete b[c]}var J={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},O=this.context,A=(0,b.default)(O).getInstance(),G=void 0,D=void 0,I=void 0,B=void 0,M=void 0,C=void 0,E=void 0,x=void 0,
P=void 0,K=void 0,H=void 0;return G={addInlineEvents:function(b){try{if(c(),b)for(var e=0;e<b.length;e++){var f=b[e],g=h(f,I,!0);g===J.ADDED?(D.debug("Added inline event with id "+f.id),q(f,b,d.default.EVENT_MODE_ON_RECEIVE)):g===J.UPDATED&&D.debug("Updated inline event with id "+f.id)}D.debug("Added "+b.length+" inline events")}catch(aa){throw aa;}},addInbandEvents:function(b){try{c();for(var e=0;e<b.length;e++){var f=b[e];if(h(f,B,!1)===J.ADDED){if("urn:mpeg:dash:event:2012"===f.eventStream.schemeIdUri&&
void 0===B[f.id]){var k=void 0,l=void 0;try{1==f.eventStream.value&&(l=f.calculatedPresentationTime,k=4294967295==f.calculatedPresentationTime?NaN:f.calculatedPresentationTime+f.duration,A.trigger(d.default.MANIFEST_VALIDITY_CHANGED,{id:f.id,validUntil:l,newDuration:k,newManifestValidAfter:NaN},{mode:d.default.EVENT_MODE_ON_START}))}catch(U){}}D.debug("Added inband event with id "+f.id);q(f,b,d.default.EVENT_MODE_ON_RECEIVE)}else D.debug("Inband event with scheme_id_uri "+f.eventStream.schemeIdUri+
", value "+f.eventStream.value+" and id "+f.id+" was ignored because it has been added before.")}g()}catch(U){throw U;}},getInbandEvents:function(){return B},getInlineEvents:function(){return I},start:function(){try{c();D.debug("Start Event Controller");var b=P.get().streaming.eventControllerRefreshDelay;H||isNaN(b)||(H=!0,M=setInterval(g,b))}catch(N){throw N;}},setConfig:function(b){try{b&&(b.manifestUpdater&&(E=b.manifestUpdater),b.playbackController&&(x=b.playbackController),b.settings&&(P=b.settings))}catch(N){throw N;
}},reset:function(){try{if(null!==M&&H){clearInterval(M);M=null;H=!1;try{m(B),m(I)}catch(L){}}}catch(L){throw L;}e()}},D=(0,f.default)(O).getInstance().getLogger(G),e(),G}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45)),b=c(e(46)),d=c(e(104)),l=c(e(164));k.__dashjs_factory_name="EventController";g.default=h.default.getSingletonFactory(k);m.exports=g.default},{104:104,164:164,45:45,46:46,47:47}],120:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(){for(var b in C)C[b].reset();
C={}}function g(b){var d,c,e,g,k,l;b.sender&&(d=b.request,l=b.response,c=d.isInitializationRequest(),e=d.mediaInfo.streamInfo,b.error&&(d.mediaType!==h.default.AUDIO&&d.mediaType!==h.default.VIDEO&&d.mediaType!==h.default.FRAGMENTED_TEXT||w.trigger(n.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:b.request.serviceLocation})),l&&e?(g=l,k=I.id,l=b.type!==n.default.FRAGMENT_LOADING_PROGRESS,(b=new f.default).streamId=k,b.mediaInfo=d.mediaInfo,b.segmentType=d.type,b.start=d.startTime,b.duration=d.duration,
b.end=b.start+b.duration,b.bytes=g,b.index=d.index,b.quality=d.quality,b.representationId=d.representationId,b.endFragment=l,w.trigger(c?n.default.INIT_FRAGMENT_LOADED:n.default.MEDIA_FRAGMENT_LOADED,{chunk:b,request:d},{streamId:e.id,mediaType:d.mediaType})):M.warn("No "+d.mediaType+" bytes to push or stream is inactive."))}c=c||{};var k=this.context,w=(0,p.default)(k).getInstance(),m=c.errHandler,z=c.mediaPlayerModel,G=c.dashMetrics,D=(0,v.default)(k).getInstance(),I=c.streamInfo,B=void 0,M=void 0,
C=void 0;return B={getStreamId:function(){return I.id},getModel:function(e){var f=C[e];return f||(f=(0,b.default)(k).create({streamInfo:I,type:e,dashMetrics:G,fragmentLoader:(0,d.default)(k).create({dashMetrics:G,mediaPlayerModel:z,errHandler:m,requestModifier:(0,l.default)(k).getInstance(),settings:c.settings,boxParser:c.boxParser,eventBus:w,events:n.default,errors:u.default,dashConstants:c.dashConstants,urlUtils:c.urlUtils}),debug:D,eventBus:w,events:n.default}),C[e]=f),f},reset:function(){w.off(n.default.FRAGMENT_LOADING_COMPLETED,
g,this);w.off(n.default.FRAGMENT_LOADING_PROGRESS,g,this);e()}},M=D.getLogger(B),e(),w.on(n.default.FRAGMENT_LOADING_COMPLETED,g,B),w.on(n.default.FRAGMENT_LOADING_PROGRESS,g,B),B}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(240)),b=c(e(154)),d=c(e(100)),l=c(e(231)),p=c(e(46)),n=c(e(54)),u=c(e(51)),w=c(e(47)),v=c(e(45));k.__dashjs_factory_name="FragmentController";g.default=w.default.getClassFactory(k);m.exports=g.default},{100:100,112:112,154:154,231:231,240:240,45:45,46:46,
47:47,51:51,54:54}],121:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){C.debug("Stopping the gap controller");A&&(clearInterval(A),A=null);(function(){y.off(b.default.WALLCLOCK_TIME_UPDATED,g,this);y.off(b.default.PLAYBACK_SEEKING,h,this);y.off(b.default.BYTES_APPENDED_END_FRAGMENT,e,q)})();G=NaN;O=0;M=A=null}function e(){A||function(){try{A||(C.debug("Starting the gap controller"),A=setInterval(function(){k()&&v(D.getTime())},100))}catch(E){}}()}function h(){M&&
(clearTimeout(M),M=null)}function g(){var b;k()&&30<=++O&&(b=D.getTime(),t===b?v(b,!0):(t=b,G=NaN),O=0)}function k(){return J.get().streaming.jumpGaps&&0<I.getActiveStreamProcessors().length&&(!D.isSeeking()||I.hasStreamFinishedBuffering(I.getActiveStream()))&&!D.isPaused()&&!I.getIsStreamSwitchInProgress()&&!I.getHasMediaOrIntialisationError()}function v(d,c){var e=!(1>=arguments.length||void 0===c)&&c,f=J.get().streaming.smallGapLimit,h=J.get().streaming.jumpLargeGaps,g=B.getBufferRange(),k=NaN,
l=!1,n=function(b,d){try{if(!b||1>=b.length&&0<d)return NaN;for(var c=NaN,e=0;isNaN(c)&&e<b.length;){var f=0<e?b.end(e-1):0;d<b.start(e)&&.1>f-d&&(c=e);e+=1}return c}catch(ua){return null}}(g,d);isNaN(n)||0<(c=(t=g.start(n))-d)&&(c<=f||h)&&(k=t);var p,q,t=D.getTimeToStreamEnd();isNaN(k)&&e&&isFinite(t)&&!isNaN(t)&&t<f&&(k=parseFloat(D.getStreamEndTime().toFixed(5)),l=!0);0<k&&G!==k&&d<k&&!M&&(q=k-d,l?(C.warn("Jumping to end of stream because of gap from "+d+" to "+k+". Gap duration: "+q),y.trigger(b.default.GAP_CAUSED_SEEK_TO_PERIOD_END,
{seekTime:k,duration:q})):(l=D.getIsDynamic(),p=0<n?g.end(n-1):d,l=l?1E3*q:0,M=window.setTimeout(function(){D.seek(k,!0,!0);C.warn("Jumping gap starting at "+p+" and ending at "+k+". Jumping by: "+q);y.trigger(b.default.GAP_CAUSED_INTERNAL_SEEK,{seekTime:k,duration:q});M=null},l)),G=k)}var m=this.context,y=(0,d.default)(m).getInstance(),q=void 0,t=void 0,J=void 0,O=void 0,A=void 0,G=void 0,D=void 0,I=void 0,B=void 0,M=void 0,C=void 0;return q={reset:c,setConfig:function(b){b&&(b.settings&&(J=b.settings),
b.playbackController&&(D=b.playbackController),b.streamController&&(I=b.streamController),b.videoModel&&(B=b.videoModel),b.timelineConverter&&b.timelineConverter,b.adapter&&b.adapter)},initialize:function(){!function(){y.on(b.default.WALLCLOCK_TIME_UPDATED,g,this);y.on(b.default.PLAYBACK_SEEKING,h,this);y.on(b.default.BYTES_APPENDED_END_FRAGMENT,e,q)}()}},C=(0,f.default)(m).getInstance().getLogger(q),c(),q}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45)),b=c(e(54)),d=c(e(46));
k.__dashjs_factory_name="GapController";g.default=h.default.getSingletonFactory(k);m.exports=g.default},{45:45,46:46,47:47,54:54}],122:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function d(b,d){if(!b||!d)return[];d=d.id;return E[d]&&E[d][b]?E[d][b].list:[]}function c(b,d){return!b||!d||d&&!E[d.id]?null:E[d.id][b].current}function e(b,d){if(b&&b.streamInfo){var e=b.type,g=b.streamInfo,k=g.id;g=c(e,g);E[k]&&E[k][e]&&!t(b,g)&&(E[k][e].current=b,!E[k][e].current||
d&&e===h.default.FRAGMENTED_TEXT||B.trigger(f.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:g,newMediaInfo:b,switchMode:m(e)}),!d)&&(b={lang:b.lang,viewpoint:b.viewpoint,roles:b.roles,accessibility:b.accessibility,audioChannelConfiguration:b.audioChannelConfiguration},(b=b.lang||b.viewpoint||b.role&&0<b.role.length||b.accessibility&&0<b.accessibility.length||b.audioChannelConfiguration&&0<b.audioChannelConfiguration.length?b:null)&&E[k][e].storeLastSettings&&(b.roles&&(b.role=b.roles[0],delete b.roles),
b.accessibility&&(b.accessibility=b.accessibility[0]),b.audioChannelConfiguration&&(b.audioChannelConfiguration=b.audioChannelConfiguration[0]),K.setSavedMediaSettings(e,b)))}}function g(b,d){b&&d&&(P[b]=d)}function k(b){return b?P[b]:null}function m(b){return x.get().streaming.trackSwitchMode[b]}function y(){return x.get().streaming.selectionModeForInitialTrack}function q(b){return b===h.default.AUDIO||b===h.default.VIDEO||b===h.default.TEXT||b===h.default.FRAGMENTED_TEXT||b===h.default.IMAGE}function t(b,
d){if(!b&&!d)return!0;if(!b||!d)return!1;var c=b.id===d.id,e=b.viewpoint===d.viewpoint,f=b.lang===d.lang,h=b.roles.toString()===d.roles.toString(),g=b.accessibility.toString()===d.accessibility.toString();d=b.audioChannelConfiguration.toString()===d.audioChannelConfiguration.toString();return c&&e&&f&&h&&g&&d}function J(){E={};P={audio:null,video:null,fragmentedText:null}}function O(b,d){var c=!b.lang||d.lang.match(b.lang),e=void 0===b.index||null===b.index||d.index===b.index,f=!b.viewpoint||b.viewpoint===
d.viewpoint,h=!b.role||!!d.roles.filter(function(d){return d===b.role})[0],g=!b.accessibility||!!d.accessibility.filter(function(d){return d===b.accessibility})[0];d=!b.audioChannelConfiguration||!!d.audioChannelConfiguration.filter(function(d){return d===b.audioChannelConfiguration})[0];return c&&e&&f&&h&&g&&d}function A(b){var d,c=0,e=[];return b.forEach(function(b){d=Math.max.apply(Math,b.bitrateList.map(function(b){return b.bandwidth}));c<d?(c=d,e=[b]):d===c&&e.push(b)}),e}function G(b){var d,
c=1/0,e=[];return b.forEach(function(b){(d=b.bitrateList.reduce(function(b,d){return b+d.bandwidth/Math.max(1,d.width*d.height)},0)/b.bitrateList.length)<c?(c=d,e=[b]):d===c&&e.push(b)}),e}function D(b){var d,c=0,e=[];return b.forEach(function(b){d=b.representationCount;c<d?(c=d,e=[b]):d===c&&e.push(b)}),e}var I=this.context,B=(0,b.default)(I).getInstance(),M=void 0,C=void 0,E=void 0,x=void 0,P=void 0,K=void 0,H=[h.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,h.default.TRACK_SWITCH_MODE_NEVER_REPLACE],
L=[h.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE,h.default.TRACK_SELECTION_MODE_FIRST_TRACK,h.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY,h.default.TRACK_SELECTION_MODE_WIDEST_RANGE];return M={checkInitialMediaSettingsForType:function(b,c){var f=k(b);c=d(b,c);var h=[];f||g(b,f=K.getSavedMediaSettings(b));c&&0!==c.length&&(f&&c.forEach(function(b){O(f,b)&&h.push(b)}),0===h.length?e(this.selectInitialTrack(b,c),!0):1<h.length?e(this.selectInitialTrack(b,h)):e(h[0]))},addTrack:function(b){if(b){var d=
b.type;if(q(d)){var f=b.streamInfo.id;E[f]||(E[f]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});f=E[f][d].list;for(var h=0,g=f.length;h<g;++h)if(t(f[h],b))return;f.push(b);(f=k(d))&&O(f,b)&&!c(d,b.streamInfo)&&e(b)}}},getTracksFor:d,getCurrentTrackFor:c,isCurrentTrack:function(b){if(!b)return!1;
var d=b.type,c=b.streamInfo.id;return E[c]&&E[c][d]&&t(E[c][d].current,b)},setTrack:e,setInitialSettings:g,getInitialSettings:k,setSwitchMode:function(b,d){var c;C.warn("deprecated: Please use updateSettings({streaming: { trackSwitchMode: mode } }) instead");-1!==H.indexOf(d)?((c={})[b]=d,x.update({streaming:{trackSwitchMode:c}})):C.warn("Track switch mode is not supported: "+d)},getSwitchMode:m,selectInitialTrack:function(b,d){if(b===h.default.FRAGMENTED_TEXT)return d[0];var c=y();b=[];switch(c){case h.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:1<
(b=A(d)).length&&(b=D(b));break;case h.default.TRACK_SELECTION_MODE_FIRST_TRACK:b.push(d[0]);break;case h.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:1<(b=G(d)).length&&(b=A(b));break;case h.default.TRACK_SELECTION_MODE_WIDEST_RANGE:1<(b=D(d)).length&&(b=A(d));break;default:C.warn("Track selection mode is not supported: "+c)}return b[0]},getTracksWithHighestBitrate:A,getTracksWithHighestEfficiency:G,getTracksWithWidestRange:D,setSelectionModeForInitialTrack:function(b){C.warn("deprecated: Please use updateSettings({streaming: { selectionModeForInitialTrack: mode } }) instead");
-1!==L.indexOf(b)?x.update({streaming:{selectionModeForInitialTrack:b}}):C.warn("Track selection mode is not supported: "+b)},getSelectionModeForInitialTrack:y,isMultiTrackSupportedByType:q,isTracksEqual:t,matchSettings:O,saveTextSettingsDisabled:function(){K.setSavedMediaSettings(h.default.FRAGMENTED_TEXT,null)},setConfig:function(b){b&&(b.domStorage&&(K=b.domStorage),b.settings&&(x=b.settings))},reset:J},C=(0,l.default)(I).getInstance().getLogger(M),J(),M}Object.defineProperty(g,"__esModule",{value:!0});
var h=c(e(112)),f=c(e(54)),b=c(e(46)),d=c(e(47)),l=c(e(45));k.__dashjs_factory_name="MediaController";e=d.default.getSingletonFactory(k);d.default.updateSingletonFactory(k.__dashjs_factory_name,e);g.default=e;m.exports=g.default},{112:112,45:45,46:46,47:47,54:54}],123:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(d,e){if(d&&"open"===d.readyState&&(null!==e||!isNaN(e))&&d.duration!==e){a:{var f=d.sourceBuffers;for(var h=0;h<f.length;h++)if(f[h].updating){f=
!0;break a}f=!1}f?setTimeout(b.bind(null,d,e),50):(c.info("Set MediaSource duration:"+e),d.duration=e)}}var d=void 0,c=void 0,e=this.context;return d={createMediaSource:function(){var b="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:b?new WebKitMediaSource:null},attachMediaSource:function(b,d){return b=window.URL.createObjectURL(b),d.setSource(b),b},detachMediaSource:function(b){b.setSource(null)},setDuration:b,setSeekable:function(b,d,c){b&&"function"==typeof b.setLiveSeekableRange&&
"function"==typeof b.clearLiveSeekableRange&&"open"===b.readyState&&0<=d&&d<c&&(b.clearLiveSeekableRange(),b.setLiveSeekableRange(d,c))},signalEndOfStream:function(b){if(b&&"open"===b.readyState){for(var d=b.sourceBuffers,e=0;e<d.length;e++)if(d[e].updating||0===d[e].buffered.length)return;c.info("call to mediaSource endOfStream");b.endOfStream()}}},c=(0,f.default)(e).getInstance().getLogger(d),d}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45));k.__dashjs_factory_name="MediaSourceController";
g.default=h.default.getSingletonFactory(k);m.exports=g.default},{45:45,47:47}],124:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(b){var c,e;fa&&isNaN(ba)||(c=ba,isNaN(c)&&(oa?(c=b.liveStartTime,(b=(b=sa.getCurrentDVRInfo())?b.range:null)&&(e=B(!0),isNaN(e)||(Y.info("Start time from URI parameters: "+e),c=Math.max(Math.min(c,e),b.start)))):(c=ea.start,e=B(!1),!isNaN(e)&&e<c+ea.duration&&(Y.info("Start time from URI parameters: "+e),c=Math.max(c,e)))),isNaN(c)||
c===V.getTime()||(R.trigger(d.default.PLAYBACK_SEEKING,{seekTime:c}),t(c,!1,!0)))}function e(){return parseFloat((g()-J()).toFixed(5))}function g(){return ea.start+ea.duration}function k(){ea&&V&&V.getElement()?V.play():va=!0}function l(){return ea&&V?V.isPaused():null}function m(){ea&&V&&V.pause()}function q(){return ea&&V?V.isSeeking():null}function t(b,c,e){ea&&V&&b!==(isNaN(Ha)?V.getTime():Ha)&&((Ca=!0===e)||(Ha=b,R.trigger(d.default.PLAYBACK_SEEK_ASKED)),Y.info("Requesting seek to time: "+b+
(Ca?" (internal)":"")),V.setCurrentTime(b,c))}function J(){return ea&&V?V.getTime():null}function O(){var b,d=J();return!oa||isNaN(ja)||(b=ja/1E3)<d&&(d-=b),d}function A(){return ea&&V?V.getPlaybackRate():null}function G(){return ea&&V?V.getEnded():null}function D(){if(!oa||isNaN(ja))return NaN;var b=O();if(isNaN(b)||0===b)return 0;var d=(new Date).getTime()+1E3*Ba.getClientTimeOffset();return Math.max(((d-ja-1E3*b)/1E3).toFixed(3),0)}function I(){fa=va=!1;ja=T=0;Ha=ba=NaN;V&&(R.off(d.default.STREAM_INITIALIZED,
c,this),R.off(d.default.DATA_UPDATE_COMPLETED,E,this),R.off(d.default.BUFFER_LEVEL_STATE_CHANGED,Da,this),R.off(d.default.LOADING_PROGRESS,pa,this),R.off(d.default.PLAYBACK_PROGRESS,la,this),R.off(d.default.PLAYBACK_TIME_UPDATED,la,this),R.off(d.default.PLAYBACK_ENDED,X,this),R.off(d.default.STREAM_INITIALIZING,ra,this),clearInterval(ca),ca=null,V.removeEventListener("canplay",x),V.removeEventListener("play",P),V.removeEventListener("waiting",K),V.removeEventListener("playing",H),V.removeEventListener("pause",
L),V.removeEventListener("error",S),V.removeEventListener("seeking",N),V.removeEventListener("seeked",Z),V.removeEventListener("timeupdate",Q),V.removeEventListener("progress",aa),V.removeEventListener("ratechange",U),V.removeEventListener("loadedmetadata",da),V.removeEventListener("stalled",ma),V.removeEventListener("ended",F));oa=ea=V=ca=null}function B(b){var d=xa.getURIFragmentData();if(!d||!d.t)return NaN;var c=ka.getStreams()[0].getStreamInfo().start;d.t=d.t.split(",")[0];var e=-1!==d.t.indexOf("posix:")?
"now"===d.t.substring(6)?Date.now()/1E3:parseInt(d.t.substring(6)):NaN;return b&&!isNaN(e)?e-ja/1E3:parseInt(d.t)+c}function M(){null===ca&&(ca=setInterval(function(){R.trigger(d.default.WALLCLOCK_TIME_UPDATED,{isDynamic:oa,time:new Date});if(oa&&l()){var b=Date.now();(!Ja||Ja+500<b)&&(Ja=b,Q())}},ia.get().streaming.wallclockTimeUpdateInterval))}function C(b){var d,c;!l()&&oa&&0!==V.getReadyState()&&(d=O(),c=d,c=(b=(b=sa.getCurrentDVRInfo(b))?b.range:null)?(Y.debug("Checking DVR window for at "+c+
" with DVR window range "+b.start+" - "+b.end),c>b.end?Math.max(b.end-T,b.start):0<c&&c+.25<b.start&&31536E4>Math.abs(c-b.start)?b.start:c):NaN,isNaN(c)||c===d||q()||(Y.debug("UpdateCurrentTime: Seek to actual time: "+c+" from currentTime: "+d),t(c)))}function E(b){b.error||null!==(b=(b=Aa.convertDataToRepresentationInfo(b.currentRepresentation))?b.mediaInfo.streamInfo:null)&&ea.id===b.id&&(ea=b,C())}function x(){R.trigger(d.default.CAN_PLAY)}function P(){Y.info("Native video element event: play");
C();M();R.trigger(d.default.PLAYBACK_STARTED,{startTime:J()})}function K(){Y.info("Native video element event: waiting");R.trigger(d.default.PLAYBACK_WAITING,{playingTime:J()})}function H(){Y.info("Native video element event: playing");R.trigger(d.default.PLAYBACK_PLAYING,{playingTime:J()})}function L(){Y.info("Native video element event: pause");R.trigger(d.default.PLAYBACK_PAUSED,{ended:G()})}function N(){var b;Ca?Ca=!1:(b=J(),isNaN(Ha)||Ha===b||(b=Ha),Ha=NaN,Y.info("Seeking to: "+b),M(),R.trigger(d.default.PLAYBACK_SEEKING,
{seekTime:b}))}function Z(){Y.info("Native video element event: seeked");R.trigger(d.default.PLAYBACK_SEEKED)}function Q(){ea&&R.trigger(d.default.PLAYBACK_TIME_UPDATED,{timeToEnd:e(),time:J()})}function aa(){R.trigger(d.default.PLAYBACK_PROGRESS)}function U(){var b=A();Y.info("Native video element event: ratechange: ",b);R.trigger(d.default.PLAYBACK_RATE_CHANGED,{playbackRate:b})}function da(){Y.info("Native video element event: loadedmetadata");R.trigger(d.default.PLAYBACK_METADATA_LOADED);M()}
function F(){Y.info("Native video element event: ended");m();clearInterval(ca);ca=null;var b=ka?ka.getActiveStreamInfo():null;b&&R.trigger(d.default.PLAYBACK_ENDED,{isLast:b.isLast})}function X(b){ca&&b.isLast&&(Y.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),b=b.seekTime?b.seekTime:g(),V.setCurrentTime(b),m(),clearInterval(ca),ca=null)}function S(b){b=b.target||b.srcElement;R.trigger(d.default.PLAYBACK_ERROR,{error:b.error})}function la(){oa&&W()&&0<ia.get().streaming.liveCatchup.playbackRate&&
!l()&&!q()&&(function(){try{if(W()&&0<ia.get().streaming.liveCatchup.playbackRate&&0<J()){var b=ta(),d=D(),c=wa.getLiveDelay(),e=wa.getLiveCatchupLatencyThreshold(),f=ia.get().streaming.liveCatchup.minDrift;if(b!==h.default.LIVE_CATCHUP_MODE_LOLP)return function(b,d,c,e){try{return e<Math.abs(b-d)&&(isNaN(c)||b<=c)}catch(cb){return!1}}(d,c,e,f);var g=ua();b=ia.get().streaming.liveCatchup.playbackBufferMin;return function(b,d,c,e,f,h){try{var g=Math.abs(b-d);return(isNaN(h)||b<=h)&&(c<g||e<f)}catch(Ra){return!1}}(d,
c,f,g,b,e)}}catch(Ea){return!1}}()?function(){var b,d,c,e,f,g;V&&(f=V.getPlaybackRate(),b=ia.get().streaming.liveCatchup.playbackRate,d=D(),g=wa.getLiveDelay(),c=ua(),(f=(ta()===h.default.LIVE_CATCHUP_MODE_LOLP?(ia.get().streaming.liveCatchup.minDrift,e=ia.get().streaming.liveCatchup.playbackBufferMin,function(b,d,c,e,f,h){var g=b;b=void 0;var k,l;f<e?(k=5*(f-e),l=2*g/(1+Math.pow(Math.E,-k)),b=1-g+l,Y.debug("[LoL+ playback control_buffer-based] bufferLevel: "+f+", newRate: "+b)):(b=Math.abs(d-c)<=
.02*c?1:(k=5*(d-c),l=2*g/(1+Math.pow(Math.E,-k)),1-g+l),Y.debug("[LoL+ playback control_latency-based] latency: "+d+", newRate: "+b));La&&c/2<f&&(La=!1);Math.abs(h-b)<=Ka&&(b=null);return{newRate:b}}(b,d,g,e,c,f)):function(b,d,c,e,f){var h=b;b=d-c;d=2*h/(1+Math.pow(Math.E,-(5*b)));d=1-h+d;La&&(c/2<e?La=!1:0<b&&(d=1));Math.abs(f-d)<=Ka&&(d=null);return{newRate:d}}(b,d,g,c,f)).newRate)&&V.setPlaybackRate(f),g=d-g,0<ia.get().streaming.liveCatchup.maxDrift&&!na&&g>ia.get().streaming.liveCatchup.maxDrift?
(Y.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),na=!0,function(){var b=sa.getCurrentDVRInfo();t((b?b.range:null).end-wa.getLiveDelay(),!0,!1)}()):na=!1)}:ha)()}function W(){return ia.get().streaming.liveCatchup.enabled||ia.get().streaming.lowLatencyEnabled}function ua(){var b=null;return ka.getActiveStreamProcessors().forEach(function(d){d=d.getBufferLevel();b=null===b?d:Math.min(b,d)}),b}function ta(){var b=ia.get().streaming.liveCatchup.playbackBufferMin;return ia.get().streaming.liveCatchup.mode!==
h.default.LIVE_CATCHUP_MODE_LOLP||null===b||isNaN(b)?h.default.LIVE_CATCHUP_MODE_DEFAULT:h.default.LIVE_CATCHUP_MODE_LOLP}function ha(){V&&V.setPlaybackRate(1)}function pa(b){!1!==b.stream||!ia.get().streaming.lowLatencyEnabled||isNaN(b.request.duration)||(b=1.2*b.request.duration)>wa.getLiveDelay()&&(Y.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",b.toFixed(2)),b={streaming:{liveDelay:b}},ia.update(b))}function Da(b){b.streamId===
ea.id&&(W()?b.state!==f.default.BUFFER_EMPTY||q()||La||(La=!0,ha()):V.setStallState(b.mediaType,b.state===f.default.BUFFER_EMPTY))}function ma(b){R.trigger(d.default.PLAYBACK_STALLED,{e:b})}function ra(b){var d=b.streamInfo;b=b.mediaInfo;if(d&&d.manifestInfo&&d.manifestInfo.serviceDescriptions){for(var c=void 0,e=0;e<d.manifestInfo.serviceDescriptions.length;e++){var f=d.manifestInfo.serviceDescriptions[e];if(f.schemeIdUri===h.default.SERVICE_DESCRIPTION_LL_SCHEME){c=f;break}}c&&b&&b.supplementalProperties&&
"true"===b.supplementalProperties[h.default.SUPPLEMENTAL_PROPERTY_LL_SCHEME]&&(c.latency&&0<c.latency.target&&(Y.debug("Apply LL properties coming from service description. Target Latency (ms):",c.latency.target),ia.update({streaming:{lowLatencyEnabled:!0,liveDelay:c.latency.target/1E3,liveCatchup:{minDrift:c.latency.max>c.latency.target?(c.latency.max-c.latency.target)/1E3:void 0}}})),c.playbackRate&&1<c.playbackRate.max&&(Y.debug("Apply LL properties coming from service description. Max PlaybackRate:",
c.playbackRate.max),ia.update({streaming:{lowLatencyEnabled:!0,liveCatchup:{playbackRate:c.playbackRate.max-1}}})))}!0}var qa=this.context,R=(0,b.default)(qa).getInstance(),za=void 0,Y=void 0,ka=void 0,sa=void 0,Aa=void 0,V=void 0,Ba=void 0,fa=void 0,ba=void 0,ca=void 0,T=void 0,ea=void 0,oa=void 0,wa=void 0,va=void 0,Ja=void 0,ja=void 0,Ha=void 0,Ca=void 0,na=void 0,La=void 0,Ka=void 0,xa=void 0,ia=void 0;return za={initialize:function(e,f,h){ea=e;V.addEventListener("canplay",x);V.addEventListener("play",
P);V.addEventListener("waiting",K);V.addEventListener("playing",H);V.addEventListener("pause",L);V.addEventListener("error",S);V.addEventListener("seeking",N);V.addEventListener("seeked",Z);V.addEventListener("timeupdate",Q);V.addEventListener("progress",aa);V.addEventListener("ratechange",U);V.addEventListener("loadedmetadata",da);V.addEventListener("stalled",ma);V.addEventListener("ended",F);oa=ea.manifestInfo.isDynamic;fa=!(La=na=!1)===f;ba=h;Ca=!1;h="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():
"";Ka=(h=/safari/.test(h)&&!/chrome/.test(h))?.25:.02;R.on(d.default.STREAM_INITIALIZED,c,this);R.on(d.default.DATA_UPDATE_COMPLETED,E,this);R.on(d.default.LOADING_PROGRESS,pa,this);R.on(d.default.BUFFER_LEVEL_STATE_CHANGED,Da,this);R.on(d.default.PLAYBACK_PROGRESS,la,this);R.on(d.default.PLAYBACK_TIME_UPDATED,la,this);R.on(d.default.PLAYBACK_ENDED,X,this,{priority:b.default.EVENT_PRIORITY_HIGH});R.on(d.default.STREAM_INITIALIZING,ra,this);va&&(va=!1,k())},setConfig:function(b){b&&(b.streamController&&
(ka=b.streamController),b.dashMetrics&&(sa=b.dashMetrics),b.mediaPlayerModel&&(wa=b.mediaPlayerModel),b.adapter&&(Aa=b.adapter),b.videoModel&&(V=b.videoModel),b.timelineConverter&&(Ba=b.timelineConverter),b.uriFragmentModel&&(xa=b.uriFragmentModel),b.settings&&(ia=b.settings))},getStartTimeFromUriParameters:B,getTimeToStreamEnd:e,getTime:J,getNormalizedTime:O,getPlaybackRate:A,getPlayedRanges:function(){return ea&&V?V.getPlayedRanges():null},getEnded:G,getIsDynamic:function(){return oa},getStreamController:function(){return ka},
computeAndSetLiveDelay:function(b,d,c){var e=void 0,f=void 0,h=!isNaN(b)&&isFinite(b)?b:NaN;b=Aa.getSuggestedPresentationDelay();b=ia.get().streaming.lowLatencyEnabled?0:wa.getLiveDelay()?wa.getLiveDelay():null===ia.get().streaming.liveDelayFragmentCount||isNaN(ia.get().streaming.liveDelayFragmentCount)||isNaN(h)?!0===ia.get().streaming.useSuggestedPresentationDelay&&null!==b&&!isNaN(b)&&0<b?b:isNaN(h)?isNaN(c)?4*ea.manifestInfo.minBufferTime:4*c:4*h:h*ia.get().streaming.liveDelayFragmentCount;return null!==
(f=Aa.getAvailabilityStartTime())&&(ja=f),e=0<d?(d=Math.max(d-10,d/2),Math.min(b,d)):b,T=e},getLiveDelay:function(){return T},setLiveDelay:function(b){!(1>=arguments.length||void 0===arguments[1])&&arguments[1]&&b<T||(T=b)},getCurrentLiveLatency:D,play:k,isPaused:l,pause:m,isSeeking:q,getStreamEndTime:g,seek:t,updateCurrentTime:C,reset:I},Y=(0,p.default)(qa).getInstance().getLogger(za),I(),za}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(113)),b=c(e(46)),d=c(e(54)),l=c(e(47)),
p=c(e(45));k.__dashjs_factory_name="PlaybackController";g.default=l.default.getSingletonFactory(k);m.exports=g.default},{112:112,113:113,45:45,46:46,47:47,54:54}],125:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(){return!1===R}function g(){ma&&(e()||qa&&!ha.getIsBufferingCompleted()&&(ra.debug("Schedule Controller starts"),R=!1,U.createPlaylistTraceMetrics(qa.id,1E3*S.getTime(),S.getPlaybackRate()),t(0)))}function k(){R||(ra.debug("Schedule Controller stops"),
ra.debug(W+" Schedule Controller stops"),R=!0,clearTimeout(ka))}function n(){var b,c,e;ma&&(R||za||S.isPaused()&&!pa.get().streaming.scheduleWhilePaused||(W===h.default.FRAGMENTED_TEXT||W===h.default.TEXT)&&!la.isTextEnabled()||ha.getIsBufferingCompleted()?k():(function(){if(isNaN(sa)&&ba){var b=S.getTime(),c=1.5;isNaN(ba.fragmentDuration)&&(g=U.getCurrentSchedulingInfo(qa.mediaInfo.type),c=g?1.5*g.duration:1.5);var e=F.getRequests({state:d.default.FRAGMENT_MODEL_EXECUTED,time:b+c,threshold:0})[0],
g;if(e&&-1===ca.indexOf(e)&&!aa.getIsTextTrack(ua)){var k=pa.get().streaming.fastSwitchEnabled;var l=ha.getBufferLevel();var n=X.getAbandonmentStateFor(W);g=!ta.isCurrentTrack(e.mediaInfo)&&ta.getSwitchMode(e.mediaInfo.type)===h.default.TRACK_SWITCH_MODE_NEVER_REPLACE;b=e.quality<ba.quality;k&&(g||b)&&c<=l&&n!==f.default.ABANDON_LOAD?(ca.push(e),va=!0,ra.debug("Reloading outdated fragment at index: ",e.index)):e.quality>ba.quality&&!ea&&(sa=S.getTime()+l)}}}(),b=0<ca.length,c=ba?ba.quality:NaN,ea||
isNaN(c)||T||b||function(b,d){fa[d]=fa[d]||{};var c=X.getTopQualityIndexFor(b,d);return fa[d][b]!=c&&(ra.info("Top quality "+b+" index has changed from "+fa[d][b]+" to "+c),fa[d][b]=c,1)}(W,ma.id)||V.execute(W,qa,Aa)?(m(!0),!b&&wa&&X.checkPlaybackQuality(W),wa=qa.quality===c&&!T||ea?(e=ca.shift())&&e.isInitializationRequest()?(Q.trigger(p.default.INIT_FRAGMENT_NEEDED,{representationId:e.representationId,sender:Da},{streamId:ma.id,mediaType:W}),!1):(Q.trigger(p.default.MEDIA_FRAGMENT_NEEDED,{seekTarget:sa,
replacement:e},{streamId:ma.id,mediaType:W}),!0):(T?(ra.debug("Switch track for "+W+", representation id \x3d "+qa.id),(ea=ta.getSwitchMode(W)===h.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE)&&ha.replaceBuffer&&ha.replaceBuffer(),T=!1):ra.debug("Quality has changed, get init request for representationid \x3d "+qa.id),Q.trigger(p.default.INIT_FRAGMENT_NEEDED,{representationId:qa.id,sender:Da},{streamId:ma.id,mediaType:W}),!1)):t(500)))}function t(b){clearTimeout(ka);ka=setTimeout(n,b)}function m(b){za!==
b?za=b:ra.debug("isFragmentProcessingInProgress is already equal to",b)}function w(b){var c;S&&F&&(c=F.getRequests({state:d.default.FRAGMENT_MODEL_EXECUTED,time:S.getTime(),threshold:0})[0])&&S.getTime()>=c.startTime&&((!Ba.mediaInfo||c.mediaInfo.type===Ba.mediaInfo.type&&c.mediaInfo.id!==Ba.mediaInfo.id)&&b&&Q.trigger(p.default.TRACK_CHANGE_RENDERED,{mediaType:W,oldMediaInfo:Ba.mediaInfo,newMediaInfo:c.mediaInfo}),c.quality===Ba.quality&&c.adaptationIndex===Ba.adaptationIndex||!b||Q.trigger(p.default.QUALITY_CHANGE_RENDERED,
{mediaType:W,oldQuality:Ba.quality,newQuality:c.quality}),Ba={mediaInfo:c.mediaInfo,quality:c.quality,adaptationIndex:c.adaptationIndex})}function A(){k();m(!1);ra.info("Stream "+ma.id+" is complete")}function G(b){b.request.mediaInfo.streamInfo.id===ma.id&&b.request.mediaType===W&&(ra.info("OnFragmentLoadingCompleted - Url:",b.request?b.request.url:"undefined",b.request.range?", Range:"+b.request.range:""),aa.getIsTextTrack(ua)&&m(!1),b.error&&b.request.serviceLocation&&!R&&(ca.push(b.request),m(!1),
t(0)),ea&&(oa=b.request))}function D(){w(!0)}function I(b){var d,c;ea&&!isNaN(b.startTime)&&(ea=!1,F.addExecutedRequest(oa));m(!1);isNaN(b.index)&&(ba=ha.getRepresentationInfo(b.quality),ra.info("["+W+"] lastInitializedRepresentationInfo changed to "+b.quality));va&&!isNaN(b.startTime)?(d=S.getTime(),t((c=b.startTime+qa.fragmentDuration)<=d+(b=1.5*qa.fragmentDuration)?0:1E3*(c-(d+b))),va=!1):t(0)}function B(b){ra.info("onFragmentLoadingAbandoned request: "+b.request.url+" has been aborted");S.isSeeking()||
T||(ra.info("onFragmentLoadingAbandoned request: "+b.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ca.push(b.request));m(!1);t(0)}function M(){}function C(){k()}function E(b){ea&&pa.get().streaming.flushBufferAtTrackSwitch&&S.seek(S.getTime()+.001,!1,!0);b.hasEnoughSpaceToAppend&&b.quotaExceeded&&g()}function x(){k();m(!1)}function P(){F.abortRequests();k()}function K(){!R&&pa.get().streaming.scheduleWhilePaused||g()}function H(b){ma&&(sa=b.seekTime,
Y=0,R&&g(),b=qa&&qa.DVRWindow&&S?qa.DVRWindow.end-S.getTime():NaN,U.updateManifestUpdateInfo({latency:b}),za?F.abortRequests():t(0))}function L(b){U.updatePlayListTraceMetrics({playbackspeed:b.playbackRate.toString()})}function N(){Ba={mediaInfo:ba=void(Y=0),quality:sa=NaN,adaptationIndex:NaN};fa={};ca=[];va=ea=T=!(R=!(za=!(wa=!(oa=null))))}c=c||{};var Z=this.context,Q=(0,l.default)(Z).getInstance(),aa=c.adapter,U=c.dashMetrics,da=c.mediaPlayerModel,F=c.fragmentModel,X=c.abrController,S=c.playbackController,
la=c.textController,W=c.type,ua=c.mimeType,ta=c.mediaController,ha=c.bufferController,pa=c.settings,Da=void 0,ma=void 0,ra=void 0,qa=void 0,R=void 0,za=void 0,Y=void 0,ka=void 0,sa=void 0,Aa=void 0,V=void 0,Ba=void 0,fa=void 0,ba=void 0,ca=void 0,T=void 0,ea=void 0,oa=void 0,wa=void 0,va=void 0;return Da={initialize:function(d){Aa=d;V=(0,b.default)(Z).create({abrController:X,dashMetrics:U,mediaPlayerModel:da,textController:la,settings:pa});Q.on(p.default.DATA_UPDATE_STARTED,M,this);Q.on(p.default.FRAGMENT_LOADING_COMPLETED,
G,this);Q.on(p.default.STREAM_COMPLETED,A,this);Q.on(p.default.BUFFER_CLEARED,E,this);Q.on(p.default.BYTES_APPENDED_END_FRAGMENT,I,this);Q.on(p.default.QUOTA_EXCEEDED,x,this);Q.on(p.default.PLAYBACK_SEEKING,H,this);Q.on(p.default.PLAYBACK_STARTED,K,this);Q.on(p.default.PLAYBACK_RATE_CHANGED,L,this);Q.on(p.default.PLAYBACK_TIME_UPDATED,D,this);Q.on(p.default.URL_RESOLUTION_FAILED,P,this);Q.on(p.default.FRAGMENT_LOADING_ABANDONED,B,this);Q.on(p.default.BUFFERING_COMPLETED,C,this)},getType:function(){return W},
getStreamId:function(){return ma.id},setCurrentRepresentation:function(b){qa=b},setSeekTarget:function(b){sa=b},setTimeToLoadDelay:function(b){Y=b},getTimeToLoadDelay:function(){return Y},switchTrackAsked:function(){T=!0},isStarted:e,start:g,stop:k,reset:function(){Q.off(p.default.DATA_UPDATE_STARTED,M,this);Q.off(p.default.FRAGMENT_LOADING_COMPLETED,G,this);Q.off(p.default.STREAM_COMPLETED,A,this);Q.off(p.default.BUFFER_CLEARED,E,this);Q.off(p.default.BYTES_APPENDED_END_FRAGMENT,I,this);Q.off(p.default.QUOTA_EXCEEDED,
x,this);Q.off(p.default.PLAYBACK_SEEKING,H,this);Q.off(p.default.PLAYBACK_STARTED,K,this);Q.off(p.default.PLAYBACK_RATE_CHANGED,L,this);Q.off(p.default.PLAYBACK_TIME_UPDATED,D,this);Q.off(p.default.URL_RESOLUTION_FAILED,P,this);Q.off(p.default.FRAGMENT_LOADING_ABANDONED,B,this);Q.off(p.default.BUFFERING_COMPLETED,C,this);k();w(!1);N();ma=null},getBufferTarget:function(){return V.getBufferTarget(W,qa,Aa)},processInitRequest:function(b){b&&(m(!0),F.executeRequest(b))},processMediaRequest:function(b){b?
(ra.debug("Next fragment request url is "+b.url),F.executeRequest(b)):(S.getIsDynamic()&&ra.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling."),m(!1),t(pa.get().streaming.lowLatencyEnabled?100:500))},getPlaybackController:function(){return S}},ra=(0,u.default)(Z).getInstance().getLogger(Da),N(),ma=c.streamInfo,Da}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(113)),b=c(e(209)),d=c(e(154)),l=c(e(46)),p=c(e(54)),n=c(e(47)),u=c(e(45));
k.__dashjs_factory_name="ScheduleController";g.default=n.default.getClassFactory(k);m.exports=g.default},{112:112,113:113,154:154,209:209,45:45,46:46,47:47,54:54}],126:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){var b;!la()||(b=Ga.getPlaybackQuality())&&T.addDroppedFrames(b)}function e(b){var d=H(b.seekTime);d===ia&&$a&&0<$a.length&&$a.forEach(function(b){b.deactivate(!0)});d&&d!==ia?(ua(u.PlayListTrace.END_OF_PERIOD_STOP_REASON),Q(d,ia,b.seekTime)):
ua(u.PlayListTrace.USER_REQUEST_STOP_REASON);ta(u.PlayList.SEEK_START_REASON)}function g(b){var d=Z();ua(u.PlayListTrace.END_OF_PERIOD_STOP_REASON);Q(d,ia,b.seekTime);ta(u.PlayList.SEEK_START_REASON)}function k(){sa.debug("[onPlaybackStarted]");Ya?(Ya=!1,ta(u.PlayList.INITIAL_PLAYOUT_START_REASON)):cb&&(cb=!1,ta(u.PlayList.RESUME_FROM_PAUSE_START_REASON))}function n(b){sa.debug("[onPlaybackPaused]");b.ended||(cb=!0,ua(u.PlayListTrace.USER_REQUEST_STOP_REASON))}function m(){Ra=Ra||setInterval(function(){!function(){function b(){var b,
e,f=d[c],g=0===c?ia:d[c-1];!f.getPreloadingScheduled()&&x(g)&&Ea&&(b=[h.default.VIDEO,h.default.AUDIO],e=!0,b.forEach(function(b){b=ca.getMediaInfoForType(f.getStreamInfo(),b);ca.getVoRepresentations(b).forEach(function(b){var d=ca.getIsDynamic();d=Ka.calcSegmentAvailabilityRange(b,d);d.end<d.start&&(e=!1)})}),e&&function(b){var d=1>=arguments.length||void 0===arguments[1]?null:arguments[1];Ea&&!b.getPreloaded()&&K(b,d)&&(b.setPreloadingScheduled(!0),sa.info("[onStreamCanLoadNext] Preloading next stream with id "+
b.getId()),b.preload(Ea,Wa),$a.push(b),b.getProcessors().forEach(function(d){d.setBufferingTime(b.getStartTime())}))}(f,g));c+=1}if(ia&&x(ia))for(var d=function(b){try{var d=b||ia||null;if(d){var c=function(){var b=d.getStreamInfo().start;return{v:xa.filter(function(d){return d.getStreamInfo().start>b})}}();if("object"==typeof c)return c.v}}catch(Ua){return[]}}(ia),c=0;c<d.length;)b()}()},500)}function x(b){try{if(!b)return!1;var d=b.getProcessors().filter(function(b){return b.getType()===h.default.AUDIO||
b.getType()===h.default.VIDEO});return d&&0!==d.length?(d=d.filter(function(b){return!b.isBufferingCompleted()}))&&0===d.length:!1}catch(Sa){return!1}}function P(){var b=pa().isLast;Ea&&b&&(sa.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),ea.signalEndOfStream(Ea))}function K(b,d){try{var c;if(c=Xa.get().streaming.reuseExistingSourceBuffers&&d.isProtectionCompatible(b,d)&&(ab||d.isMediaCodecCompatible(b,d))){try{var e=b.getStreamInfo();var f=(e=ca.getAdaptationForType(e.index,
h.default.FRAGMENTED_TEXT,e))?-1!==e.codecs.indexOf("stpp")||-1!==e.codecs.indexOf("wvtt"):!1}catch(db){f=!1}c=!f}return c}catch(db){return!1}}function H(b){if(isNaN(b))return null;var d=0,c=null,e=xa.length;0<e&&(d+=xa[0].getStartTime());for(var f=0;f<e;f++)if(c=xa[f],b<(d=parseFloat((d+c.getDuration()).toFixed(5))))return c;return null}function L(){return ia?ia.getProcessors():[]}function N(b){var d;ia.getIsEndedEventSignaled()||(ia.setIsEndedEventSignaled(!0),(d=Z())?(sa.debug("StreamController onEnded, found next stream with id "+
d.getStreamInfo().id),Q(d,ia,NaN)):(sa.debug("StreamController no next stream found"),ia.setIsEndedEventSignaled(!1)),ua(d?u.PlayListTrace.END_OF_PERIOD_STOP_REASON:u.PlayListTrace.END_OF_CONTENT_STOP_REASON),0);b&&b.isLast&&Oa&&(clearInterval(Oa),Oa=null)}function Z(b){var d=0>=arguments.length||void 0===b?null:b;if(b=d||ia||null){d=b.getStreamInfo().start;b=b.getStreamInfo().duration;d=parseFloat((d+b).toFixed(5));for(var c=0,e=-1,f=NaN;c<xa.length;){var h=xa[c].getStreamInfo().start-d;0<=h&&(isNaN(f)||
h<f)&&(f=h,e=c);c+=1}return 0<=e?xa[e]:null}return null}function Q(b,d,c){var e;Ta||!b||d===b&&b.isActive()||(Ta=!0,Y.trigger(p.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:d?d.getStreamInfo():null,toStreamInfo:b.getStreamInfo()}),e=!1,d&&(e=K(b,d),d.deactivate(e)),c=isNaN(c)?!e&&d?b.getStreamInfo().start:NaN:c,sa.info("Switch to stream "+b.getId()+". Seektime is "+c+", current playback time is "+ya.getTime()),sa.info("Seamless period switch is set to "+e),ia=b,$a=$a.filter(function(b){return b.getId()!==
ia.getId()}),ya.initialize(pa(),!!d,c),Ga.getElement()?aa(c,null===d,!1,e):U(c,e),0)}function aa(b,d,c,e){function f(){Ea&&"open"===Ea.readyState&&(sa.debug("MediaSource is open!"),window.URL.revokeObjectURL(h),Ea.removeEventListener("sourceopen",f),Ea.removeEventListener("webkitsourceopen",f),da(),d||Y.trigger(p.default.SOURCE_INITIALIZED),c?ia.setMediaSource(Ea):U(b,e))}var h=void 0;Ea?e?(U(b,e),d||Y.trigger(p.default.SOURCE_INITIALIZED)):(ea.detachMediaSource(Ga),Ea.addEventListener("sourceopen",
f,!1),Ea.addEventListener("webkitsourceopen",f,!1),h=ea.attachMediaSource(Ea,Ga),sa.debug("MediaSource attached to element.  Waiting on open...")):((Ea=ea.createMediaSource()).addEventListener("sourceopen",f,!1),Ea.addEventListener("webkitsourceopen",f,!1),h=ea.attachMediaSource(Ea,Ga),sa.debug("MediaSource attached to element.  Waiting on open..."))}function U(b,d){!(Wa=ia.activate(Ea,d?Wa:void 0))||0<(d=Object.keys(Wa)).length&&Wa[d[0]].changeType&&(ab=!0);Ya||isNaN(b)||(b===ya.getTime()?Y.trigger(p.default.SEEK_TARGET,
{time:b},{streamId:ia.getId()}):ya.seek(b));!Qa&&Ya||ya.play();Ta=!1;Y.trigger(p.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:pa()})}function da(b){b=b||pa().manifestInfo.duration;ea.setDuration(Ea,b)}function F(){try{!function(){var d=ca.getStreamsInfo();if(0===d.length)throw Error("There are no streams");T.updateManifestUpdateInfo({currentTime:ya.getTime(),buffered:Ga.getBufferRange(),presentationStartTime:d[0].start,clientTimeOffset:Ka.getClientTimeOffset()});0<xa.length&&(xa=xa.filter(function(b){var c=
0<d.filter(function(d){return d.id===b.getId()}).length||b.getId()===ia.getId();return c||sa.debug("Removing stream "+b.getId()),c}));for(var c,e,f=0,g=d.length;f<g;f++){var k=d[f],l=function(b){for(var d=0,c=xa.length;d<c;d++)if(xa[d].getId()===b.id)return xa[d];return null}(k);l?l.updateData(k):(l=(0,b.default)(za).create({manifestModel:ba,mediaPlayerModel:bb,dashMetrics:T,manifestUpdater:Ba,adapter:ca,timelineConverter:Ka,capabilities:Aa,capabilitiesFilter:V,errHandler:La,baseURLController:wa,
abrController:va,playbackController:ya,eventController:ja,mediaController:Ja,textController:Ha,protectionController:Ma,videoModel:Ga,streamInfo:k,settings:Xa}),xa.push(l),l.initialize());T.addManifestUpdateStreamInfo(k)}ia||(ca.getIsDynamic()&&xa.length&&(e=d[0].manifestInfo,c=function(b,d){try{var c=NaN;return d&&!isNaN(d.maxFragmentDuration)&&isFinite(d.maxFragmentDuration)?d.maxFragmentDuration:(b&&1===b.length&&function(){var d=b[0],e=[h.default.VIDEO,h.default.AUDIO,h.default.FRAGMENTED_TEXT].reduce(function(b,
c){c=ca.getMediaInfoForType(d,c);return c&&b.push(c),b},[]).reduce(function(b,d){d=ca.getVoRepresentations(d);return d&&0<d.length&&d.forEach(function(d){d&&b.push(d)}),b},[]).reduce(function(b,d){d=ca.convertDataToRepresentationInfo(d);return d&&d.fragmentDuration&&!isNaN(d.fragmentDuration)&&b.push(d.fragmentDuration),b},[]);c=Math.max.apply(Math,function(b){if(Array.isArray(b)){for(var d=0,c=Array(b.length);d<b.length;d++)c[d]=b[d];return c}return Array.from(b)}(e))}(),isFinite(c)?c:NaN)}catch(jb){return NaN}}(d,
e),ya.computeAndSetLiveDelay(c,e.DVRWindowSize,e.minBufferTime)),e=null,!(e=H(ya.getStartTimeFromUriParameters(ca.getIsDynamic())))&&ca.getIsDynamic()&&xa.length&&(sa.debug("Dynamic stream: Trying to find the correct starting period"),e=function(){try{var b=Ka.calcPresentationTimeFromWallTime(new Date,ca.getRegularPeriods()[0]),d=ya.getLiveDelay();return H(b-d)}catch(lb){return null}}()),Q(null!==e?e:xa[0],null,NaN),Oa=Oa||setInterval(function(){!Ta&&0>=ya.getTimeToStreamEnd()&&Y.trigger(p.default.PLAYBACK_ENDED,
{isLast:pa().isLast})},200),m());Y.trigger(p.default.STREAMS_COMPOSED)}()}catch(Pa){La.error(new J.default(O.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Pa.message+"nostreamscomposed",ba.getValue())),Za=!0,qa()}}function X(){var b=ba.getValue();Ma&&(Y.trigger(p.default.PROTECTION_CREATED,{controller:Ma,manifest:b}),Ma.setMediaElement(Ga.getElement()),Fa&&Ma.setProtectionData(Fa));F()}function S(b){b.error?(Za=!0,qa()):function(){var d=b.manifest;ca.updatePeriods(d);var c=ca.getUTCTimingSources();!ca.getIsDynamic()||
c&&0!==c.length||Y.trigger(y.default.CONFORMANCE_VIOLATION,{level:G.default.LEVELS.WARNING,event:G.default.EVENTS.NO_UTC_TIMING_ELEMENT});c=ca.getIsDynamic()?c.concat(bb.getUTCTimingSources()):c;var e=na.isHTTPS(b.manifest.url);c.forEach(function(b){b.value.replace(/.*?:\/\//g,"")===bb.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(b.value=b.value.replace(e?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),e?"https://":"http://"),sa.debug("Matching default timing source protocol to manifest protocol: ",
b.value))});wa.initialize(d);oa.attemptSync(c)}()}function la(){return!!ia&&ia.getHasVideoTrack()}function W(){return!!ia&&ia.getHasAudioTrack()}function ua(b,d){d=d||new Date;L().forEach(function(c){c.finalisePlayList(d,b)});T.addPlayList()}function ta(b){T.createPlaylistMetrics(1E3*ya.getTime(),b)}function ha(b){if(b.error){switch(b.error.code){case 1:var d="MEDIA_ERR_ABORTED";break;case 2:d="MEDIA_ERR_NETWORK";break;case 3:d="MEDIA_ERR_DECODE";break;case 4:d="MEDIA_ERR_SRC_NOT_SUPPORTED";break;
case 5:d="MEDIA_ERR_ENCRYPTED";break;default:d="UNKNOWN"}Ia=!0;b.error.message&&(d+=" ("+b.error.message+")");b.error.msExtendedCode&&(d+=" (0x"+(b.error.msExtendedCode>>>0).toString(16).toUpperCase()+")");sa.fatal("Video Element Error: "+d);b.error&&sa.fatal(b.error);La.error(new J.default(b.error.code,d));qa()}}function pa(){return ia?ia.getStreamInfo():null}function Da(){if(!(fa&&fa.hasOwnProperty("load")&&Ka&&Ka.hasOwnProperty("initialize")&&Ka.hasOwnProperty("reset")&&Ka.hasOwnProperty("getClientTimeOffset")&&
ba&&La&&T&&ya))throw Error(h.default.MISSING_CONFIG_ERROR);}function ma(b){isNaN(b.newDuration)||da(b.newDuration)}function ra(){Ra=Oa=ia=Ma=null;Qa=!(cb=!(Ya=!(Za=Ia=Ta=!(xa=[]))));$a=[]}function qa(){Da();oa.reset();ua(Ia||Za?u.PlayListTrace.FAILURE_STOP_REASON:u.PlayListTrace.USER_REQUEST_STOP_REASON);for(var b=0,d=xa?xa.length:0;b<d;b++)xa[b].reset(Ia);Y.off(p.default.PLAYBACK_TIME_UPDATED,c,ka);Y.off(p.default.PLAYBACK_SEEKING,e,ka);Y.off(p.default.GAP_CAUSED_SEEK_TO_PERIOD_END,g,ka);Y.off(p.default.PLAYBACK_ERROR,
ha,ka);Y.off(p.default.PLAYBACK_STARTED,k,ka);Y.off(p.default.PLAYBACK_PAUSED,n,ka);Y.off(p.default.PLAYBACK_ENDED,N,ka);Y.off(p.default.MANIFEST_UPDATED,S,ka);Y.off(p.default.STREAM_BUFFERING_COMPLETED,P,ka);Y.off(p.default.MANIFEST_VALIDITY_CHANGED,ma,ka);Y.off(p.default.TIME_SYNCHRONIZATION_COMPLETED,X,ka);Y.off(y.default.METRIC_ADDED,R,ka);wa.reset();Ba.reset();ja.reset();T.clearAllCurrentMetrics();ba.setValue(null);fa.reset();Ka.reset();Ca.reset();Ea&&(ea.detachMediaSource(Ga),Ea=null);Ga=null;
Ma&&(Ma.setMediaElement(null),Fa=Ma=null,ba.getValue()&&Y.trigger(p.default.PROTECTION_DESTROYED,{data:ba.getValue().url}));Oa&&(clearInterval(Oa),Oa=null);clearInterval(Ra);Ra=null;Y.trigger(p.default.STREAM_TEARDOWN_COMPLETE);ra()}function R(b){var d;b.metric===f.default.DVR_INFO&&(d=W()?h.default.AUDIO:h.default.VIDEO,b.mediaType===d&&ea.setSeekable(Ea,b.value.range.start,b.value.range.end))}var za=this.context,Y=(0,l.default)(za).getInstance(),ka=void 0,sa=void 0,Aa=void 0,V=void 0,Ba=void 0,
fa=void 0,ba=void 0,ca=void 0,T=void 0,ea=void 0,oa=void 0,wa=void 0,va=void 0,Ja=void 0,ja=void 0,Ha=void 0,Ca=void 0,na=void 0,La=void 0,Ka=void 0,xa=void 0,ia=void 0,Ma=void 0,Fa=void 0,Qa=void 0,Ta=void 0,Ia=void 0,Za=void 0,Ea=void 0,Ga=void 0,ya=void 0,bb=void 0,cb=void 0,Ya=void 0,Oa=void 0,Ra=void 0,Wa=void 0,$a=void 0,ab=void 0,Xa=void 0;return ka={initialize:function(b,f){Da();Qa=b;Fa=f;Ka.initialize();(Ba=(0,d.default)(za).create()).setConfig({manifestModel:ba,adapter:ca,manifestLoader:fa,
errHandler:La,settings:Xa});Ba.initialize();(ja=(0,A.default)(za).getInstance()).setConfig({manifestUpdater:Ba,playbackController:ya,settings:Xa});ja.start();oa.setConfig({dashMetrics:T,baseURLController:wa,settings:Xa});oa.initialize();Y.on(p.default.PLAYBACK_TIME_UPDATED,c,ka);Y.on(p.default.PLAYBACK_SEEKING,e,ka);Y.on(p.default.GAP_CAUSED_SEEK_TO_PERIOD_END,g,ka);Y.on(p.default.PLAYBACK_ERROR,ha,ka);Y.on(p.default.PLAYBACK_STARTED,k,ka);Y.on(p.default.PLAYBACK_PAUSED,n,ka);Y.on(p.default.PLAYBACK_ENDED,
N,ka,{priority:l.default.EVENT_PRIORITY_HIGH});Y.on(p.default.MANIFEST_UPDATED,S,ka);Y.on(p.default.STREAM_BUFFERING_COMPLETED,P,ka);Y.on(p.default.MANIFEST_VALIDITY_CHANGED,ma,ka);Y.on(p.default.TIME_SYNCHRONIZATION_COMPLETED,X,ka);Y.on(y.default.METRIC_ADDED,R,ka)},getActiveStreamInfo:pa,hasVideoTrack:la,hasAudioTrack:W,switchToVideoElement:function(b){ia&&(ya.initialize(pa()),aa(b,!1,!0,!1))},getStreamById:function(b){return xa.filter(function(d){return d.getId()===b})[0]},getStreamForTime:H,getTimeRelativeToStreamId:function(b,
d){for(var c,e,f=null,h=0,g=0;g<xa.length;g++){if(c=(f=xa[g]).getStartTime(),e=f.getDuration(),Number.isFinite(c)&&(h=c),f.getId()===d)return b-h;Number.isFinite(e)&&(h+=e)}return null},load:function(b){Da();fa.load(b)},loadWithManifest:function(b){if(!Ba||!Ba.hasOwnProperty("setManifest"))throw Error("initialize function has to be called previously");!0;Ba.setManifest(b)},getActiveStreamProcessors:L,setConfig:function(b){b&&(b.capabilities&&(Aa=b.capabilities),b.capabilitiesFilter&&(V=b.capabilitiesFilter),
b.manifestLoader&&(fa=b.manifestLoader),b.manifestModel&&(ba=b.manifestModel),b.mediaPlayerModel&&(bb=b.mediaPlayerModel),b.protectionController&&(Ma=b.protectionController),b.adapter&&(ca=b.adapter),b.dashMetrics&&(T=b.dashMetrics),b.errHandler&&(La=b.errHandler),b.timelineConverter&&(Ka=b.timelineConverter),b.videoModel&&(Ga=b.videoModel),b.playbackController&&(ya=b.playbackController),b.abrController&&(va=b.abrController),b.mediaController&&(Ja=b.mediaController),b.textController&&(Ha=b.textController),
b.settings&&(Xa=b.settings),b.baseURLController&&(wa=b.baseURLController))},setProtectionData:function(b){Fa=b},getIsStreamSwitchInProgress:function(){return Ta},getHasMediaOrIntialisationError:function(){return Ia||Za},hasStreamFinishedBuffering:x,getStreams:function(){return xa},getActiveStream:function(){return ia},reset:qa},sa=(0,w.default)(za).getInstance().getLogger(ka),oa=(0,q.default)(za).getInstance(),ea=(0,t.default)(za).getInstance(),Ca=(0,v.default)(za).getInstance(),na=(0,z.default)(za).getInstance(),
ra(),ka}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(113)),b=c(e(108)),d=c(e(102)),l=c(e(46)),p=c(e(54)),n=c(e(47)),u=e(257),w=c(e(45)),v=c(e(227)),z=c(e(234)),y=c(e(104)),q=c(e(127)),t=c(e(123)),J=c(e(239)),O=c(e(51)),A=c(e(119)),G=c(e(111));k.__dashjs_factory_name="StreamController";g.default=n.default.getSingletonFactory(k);m.exports=g.default},{102:102,104:104,108:108,111:111,112:112,113:113,119:119,123:123,127:127,227:227,234:234,239:239,257:257,45:45,46:46,47:47,51:51,
54:54}],127:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){Q=[];X=da=U=null;F=NaN;H=K=!(aa=[]);S=L.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function e(){K||H||!X||!X.value||!X.schemeIdUri||isNaN(F)||isNaN(L.get().streaming.utcSynchronization.backgroundAttempts)||da&&30>(Date.now()-da)/1E3||(Q=[],H=!0,function ta(b){try{var d=function(){if(0>=b)return I(),{v:void 0};var d=Date.now();N[X.schemeIdUri](X.value,function(c){var e=Date.now();
c-=e-(e-d)/2;Q.push(c);ta(b-1)},function(){I()})}();if("object"==typeof d)return d.v}catch(pa){I()}}(isNaN(L.get().streaming.utcSynchronization.backgroundAttempts)?2:L.get().streaming.utcSynchronization.backgroundAttempts))}function g(b){var d=0>=arguments.length||void 0===b?NaN:b;(b=isNaN(d))&&L.get().streaming.useManifestDateHeaderTimeSource?(d=Z.getLatestMPDRequestHeaderValueByID("Date"),d=null!==d?(new Date(d)).getTime():Number.NaN,isNaN(d)?D(!0):D(!1,d-Date.now())):D(b,d)}function k(b){var d,
c,e=Date.parse(b);return isNaN(e)&&(d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(d=b),c=Date.UTC(parseInt(d[1],10),parseInt(d[2],10)-1,parseInt(d[3],10),parseInt(d[4],10),parseInt(d[5],10),d[6]&&(parseInt(d[6],10)||0),d[7]&&1E3*parseFloat(d[7])||0),d[9]&&d[10]&&(b=60*parseInt(d[9],10)+parseInt(d[10],10),c+=("+"===d[8]?-1:1)*b*6E4),e=(new Date(c)).getTime()),e}function p(b){return Date.parse(b)}function t(b){return Date.parse(b)}
function m(b,d,c){c()}function O(b,d,c){b=k(b);isNaN(b)?c():d(b)}function A(b,d,c,e,h){var g,k=!1,l=new XMLHttpRequest,n=h?f.HTTPRequest.HEAD:f.HTTPRequest.GET,p=d.match(/\S+/g);d=p.shift();!E.isRelative(d)||(g=la.resolve())&&(d=E.resolve(d,g.url));l.open(n,d);l.timeout=5E3;l.onload=function(){var d,e;200===l.status&&(d=h?l.getResponseHeader("Date"):l.response,e=b(d),isNaN(e)||(c(e),k=!0))};l.onloadend=function(){k||(k=!0,p.length?A(b,p.join(" "),c,e,h):e())};l.send()}function G(b,d,c){A(t,b,d,c,
!0)}function D(b,c){var f;if(!(isNaN(F)||isNaN(c)||b))try{var g=B(c),k=isNaN(S)?30:S,n=isNaN(L.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:L.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,p=isNaN(L.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:L.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,q=isNaN(L.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:L.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts,
t=void 0;g?(t=Math.min(k*n,p),P.debug("Increasing timeBetweenSyncAttempts to "+t)):(t=Math.max(k/n,q),P.debug("Decreasing timeBetweenSyncAttempts to "+t));S=t}catch(R){}b||isNaN(c)||(U=Date.now(),K=!1,f=isNaN(F),F=c,f&&e(),P.debug("Completed UTC sync. Setting client - server offset to "+c));b&&(X=null);C.trigger(d.default.UPDATE_TIME_SYNC_OFFSET,{offset:c,error:b?new h.default(l.default.TIME_SYNC_FAILED_ERROR_CODE,l.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null});C.trigger(d.default.TIME_SYNCHRONIZATION_COMPLETED)}
function I(){var b;Q&&0!==Q.length&&(B(b=Q.reduce(function(b,d){return b+d},0)/Q.length)?P.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(P.debug("Completed background UTC sync. Setting client - server offset to "+b),F=b,C.trigger(d.default.UPDATE_TIME_SYNC_OFFSET,{offset:F})),H=!1,da=Date.now())}function B(b){try{if(isNaN(F))return!0;var d=L.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(L.get().streaming.utcSynchronization.maximumAllowedDrift)?
L.get().streaming.utcSynchronization.maximumAllowedDrift:100;return F-d<=b&&b<=F+d}catch(ta){return!0}}var M=this.context,C=(0,b.default)(M).getInstance(),E=(0,u.default)(M).getInstance(),x=void 0,P=void 0,K=void 0,H=void 0,L=void 0,N=void 0,Z=void 0,Q=void 0,aa=void 0,U=void 0,da=void 0,F=void 0,X=void 0,S=void 0,la=void 0;return x={initialize:function(){c();N={"urn:mpeg:dash:utc:http-head:2014":G,"urn:mpeg:dash:utc:http-xsdate:2014":A.bind(null,k),"urn:mpeg:dash:utc:http-iso:2014":A.bind(null,p),
"urn:mpeg:dash:utc:direct:2014":O,"urn:mpeg:dash:utc:http-head:2012":G,"urn:mpeg:dash:utc:http-xsdate:2012":A.bind(null,k),"urn:mpeg:dash:utc:http-iso:2012":A.bind(null,p),"urn:mpeg:dash:utc:direct:2012":O,"urn:mpeg:dash:utc:http-ntp:2014":m,"urn:mpeg:dash:utc:ntp:2014":m,"urn:mpeg:dash:utc:sntp:2014":m}},attemptSync:function(b){aa=b;K||(function(){try{var b=isNaN(S)?30:S;return U&&b&&!isNaN(b)?(Date.now()-U)/1E3>=b:!0}catch(ta){return!0}}()?(K=!0,function ta(){var b=(0>=arguments.length||void 0===
arguments[0]?null:arguments[0])||0;if(!aa||0===aa.length||b>=aa.length)return void g();var d=aa[b];d?N.hasOwnProperty(d.schemeIdUri)?function(){var c=(new Date).getTime();N[d.schemeIdUri](d.value,function(b){var e=(new Date).getTime();b-=e-(e-c)/2;X=d;g(b)},function(){ta(b+1)})}():ta(b+1):g()}()):C.trigger(d.default.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(b){b&&(b.dashMetrics&&(Z=b.dashMetrics),b.baseURLController&&(la=b.baseURLController),b.settings&&(L=b.settings))},reset:function(){c();
C.off(d.default.ATTEMPT_BACKGROUND_SYNC,e,x)}},P=(0,n.default)(M).getInstance().getLogger(x),C.on(d.default.ATTEMPT_BACKGROUND_SYNC,e,x),x}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(239)),f=e(255),b=c(e(46)),d=c(e(54)),l=c(e(51)),p=c(e(47)),n=c(e(45)),u=c(e(234));k.__dashjs_factory_name="TimeSyncController";e=p.default.getSingletonFactory(k);e.HTTP_TIMEOUT_MS=5E3;p.default.updateSingletonFactory(k.__dashjs_factory_name,e);g.default=e;m.exports=g.default},{234:234,239:239,255:255,45:45,
46:46,47:47,51:51,54:54}],128:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(b,d,c){var e={};e.elements=b;e.type=d;e.resolveType=c;0===e.elements.length&&g(e);for(c=0;c<e.elements.length;c++)b=e.elements[c],d=u.isHTTPURL(b.url)?b.url:b.originalContent.BaseURL+b.url,B.load(d,b,e)}function e(b){var d;var c=b.element;var e=b.resolveObject;c.resolvedContent&&((b=0)===c.resolvedContent.indexOf("\x3c?xml")&&(b=c.resolvedContent.indexOf("?\x3e")+2),d=c.resolvedContent.substr(0,
b)+"\x3cresponse\x3e"+c.resolvedContent.substr(b)+"\x3c/response\x3e",c.resolvedContent=I.xml_str2json(d));a:{for(b=0;b<e.elements.length;b++)if(!1===e.elements[b].resolved){b=!1;break a}b=!0}b&&g(e)}function g(d){var e=[],f=void 0,h=[],g=void 0,l,p,q;for(p=d.elements.length-1;0<=p;p--){if(g=d.elements[p],l=g.type+"_asArray",g.resolvedContent){if(g.resolvedContent)for(q=0;q<g.resolvedContent[l].length;q++){var u=g.resolvedContent[l][q];h.push(u)}}else delete g.originalContent["xlink:actuate"],delete g.originalContent["xlink:href"],
h.push(g.originalContent);g.parentElement[l].splice(g.index,1);for(u=0;u<h.length;u++)g.parentElement[l].splice(g.index+u,0,h[u]);h=[]}0<d.elements.length&&G.run(D);if(!0,"onActuate"===d.resolveType&&t.trigger(b.default.XLINK_READY,{manifest:D}),"onLoad"===d.resolveType)switch(d.type){case n.default.PERIOD:for(d=0;d<D[n.default.PERIOD+"_asArray"].length;d++)(f=D[n.default.PERIOD+"_asArray"][d]).hasOwnProperty(n.default.ADAPTATION_SET+"_asArray")&&(e=e.concat(k(f[n.default.ADAPTATION_SET+"_asArray"],
f,n.default.ADAPTATION_SET,"onLoad"))),f.hasOwnProperty(n.default.EVENT_STREAM+"_asArray")&&(e=e.concat(k(f[n.default.EVENT_STREAM+"_asArray"],f,n.default.EVENT_STREAM,"onLoad")));c(e,n.default.ADAPTATION_SET,"onLoad");break;case n.default.ADAPTATION_SET:t.trigger(b.default.XLINK_READY,{manifest:D})}}function k(b,d,c,e){var f,h=[],g=void 0,k;for(k=b.length-1;0<=k;k--)(g=b[k]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===g["xlink:href"]&&b.splice(k,1);for(k=0;k<b.length;k++)(g=
b[k]).hasOwnProperty("xlink:href")&&g.hasOwnProperty("xlink:actuate")&&g["xlink:actuate"]===e&&(f={url:g["xlink:href"],parentElement:d,type:c,index:k,resolveType:e,originalContent:g,resolvedContent:null,resolved:!1},h.push(f));return h}d=d||{};var q=this.context,t=(0,f.default)(q).getInstance(),u=(0,p.default)(q).getInstance(),m=void 0,A=void 0,G=void 0,D=void 0,I=void 0,B=void 0;return m={resolveManifestOnLoad:function(d){I=new l.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",
emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:A});(D=d).Period_asArray?c(k(D.Period_asArray,D,n.default.PERIOD,"onLoad"),n.default.PERIOD,"onLoad"):t.trigger(b.default.XLINK_READY,{manifest:D})},setMatchers:function(b){b&&(A=b)},setIron:function(b){b&&(G=b)},reset:function(){t.off(b.default.XLINK_ELEMENT_LOADED,e,m);B&&(B.reset(),B=null)}},t.on(b.default.XLINK_ELEMENT_LOADED,e,m),B=(0,h.default)(q).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,
mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,settings:d.settings}),m}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(110)),f=c(e(46)),b=c(e(54)),d=c(e(47)),l=c(e(3)),p=c(e(234)),n=c(e(61));k.__dashjs_factory_name="XlinkController";g.default=d.default.getClassFactory(k);m.exports=g.default},{110:110,234:234,3:3,46:46,47:47,54:54,61:61}],129:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){var c=this.context;return{createMetricsReporting:function(d){return(0,
h.default)(c).getInstance({eventBus:d.eventBus,dashMetrics:d.dashMetrics,metricsConstants:d.metricsConstants,events:d.events}),(0,b.default)(c).create(d)},getReportingFactory:function(){return(0,l.default)(c).getInstance()},getMetricsHandlerFactory:function(){return(0,d.default)(c).getInstance()}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(143)),f=c(e(130)),b=c(e(131)),d=c(e(136)),l=c(e(141));k.__dashjs_factory_name="MetricsReporting";e=dashjs.FactoryMaker.getClassFactory(k);e.events=
f.default;dashjs.FactoryMaker.updateClassFactory(k.__dashjs_factory_name,e);g.default=e;m.exports=g.default},{130:130,131:131,136:136,141:141,143:143}],130:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;a:{var e=Object.getPrototypeOf(c.prototype),h="constructor";var f=this;for(var b=!0;b;){null===e&&(e=Function.prototype);b=Object.getOwnPropertyDescriptor(e,h);if(void 0!==b){if("value"in b){f=b.value;break a}e=b.get;if(void 0===e)break;
f=e.call(f);break a}e=Object.getPrototypeOf(e);if(null===e)break;b=!0}f=void 0}f.call(this);this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized";this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer";this.CMCD_DATA_GENERATED="cmcdDataGenerated"}Object.defineProperty(g,"__esModule",{value:!0});e=e(55);e=new (function(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&
e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(c,(e&&e.__esModule?e:{default:e})["default"]),c);g.default=e;m.exports=g.default},{55:55}],131:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(c){var e;c.error||(e=Object.keys(k),(0,f.default)(m).getInstance({adapter:d.adapter,constants:d.constants}).getMetrics(c.manifest).forEach(function(b){var c=JSON.stringify(b);
if(k.hasOwnProperty(c))e.splice(c,1);else try{var f=(0,h.default)(m).create(d);f.initialize(b);k[c]=f}catch(A){}}),e.forEach(function(b){k[b].reset();delete k[b]}),v.trigger(b.default.METRICS_INITIALISATION_COMPLETE))}function e(){Object.keys(k).forEach(function(b){k[b].reset()});k={}}d=d||{};var g=void 0,k={},m=this.context,v=d.eventBus,z=d.events;return g={reset:function(){v.off(z.MANIFEST_UPDATED,c,g);v.off(z.STREAM_TEARDOWN_COMPLETE,e,g)}},v.on(z.MANIFEST_UPDATED,c,g),v.on(z.STREAM_TEARDOWN_COMPLETE,
e,g),g}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(132)),f=c(e(145)),b=c(e(130));k.__dashjs_factory_name="MetricsCollectionController";g.default=dashjs.FactoryMaker.getClassFactory(k);m.exports=g.default},{130:130,132:132,145:145}],132:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(){e&&e.reset();g&&g.reset();k&&k.reset()}d=d||{};var e=void 0,g=void 0,k=void 0,m=this.context;return{initialize:function(l){try{(k=(0,h.default)(m).create({mediaElement:d.mediaElement})).initialize(l.Range),
(g=(0,f.default)(m).create({debug:d.debug,metricsConstants:d.metricsConstants})).initialize(l.Reporting,k),(e=(0,b.default)(m).create({debug:d.debug,eventBus:d.eventBus,metricsConstants:d.metricsConstants,events:d.events})).initialize(l.metrics,g)}catch(z){throw c(),z;}},reset:c}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(134)),f=c(e(135)),b=c(e(133));k.__dashjs_factory_name="MetricsController";g.default=dashjs.FactoryMaker.getClassFactory(k);m.exports=g.default},{133:133,134:134,
135:135}],133:[function(e,m,g){function c(c){function b(b){d.forEach(function(d){d.handleNewMetric(b.metric,b.value,b.mediaType)})}c=c||{};var d=[],e=void 0,f=this.context,g=c.eventBus,k=c.events,m=(0,h.default)(f).getInstance({debug:c.debug,eventBus:c.eventBus,metricsConstants:c.metricsConstants});return e={initialize:function(c,f){c.split(",").forEach(function(b,c,e){var h,g;-1===b.indexOf("(")||-1!==b.indexOf(")")||(g=e[c+1])&&-1===g.indexOf("(")&&-1!==g.indexOf(")")&&(b+=","+g,delete e[c+1]);
(h=m.create(b,f))&&d.push(h)});g.on(k.METRIC_ADDED,b,e);g.on(k.METRIC_UPDATED,b,e)},reset:function(){g.off(k.METRIC_ADDED,b,e);g.off(k.METRIC_UPDATED,b,e);d.forEach(function(b){return b.reset()});d=[]}}}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(136))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="MetricsHandlersController";g.default=dashjs.FactoryMaker.getClassFactory(c);m.exports=g.default},{136:136}],134:[function(e,m,g){function c(c){c=c||{};var b,d=!1,e=this.context,
f=void 0,g=c.mediaElement;return b={initialize:function(b){b&&b.length&&(b.forEach(function(b){var d=b.starttime;b=d+b.duration;f.add(d,b)}),d=!!b[0]._useWallClockTime)},reset:function(){f.clear()},isEnabled:function(){var b=f.length;if(!b)return!0;var c=d?(new Date).getTime()/1E3:g.currentTime;for(var e=0;e<b;e+=1){var h=f.start(e),k=f.end(e);if(h<=c&&c<k)return!0}return!1}},f=(0,h.default)(e).create(),b}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(222))&&k.__esModule?k:{default:k};
c.__dashjs_factory_name="RangeController";g.default=dashjs.FactoryMaker.getClassFactory(c);m.exports=g.default},{222:222}],135:[function(e,m,g){function c(c){var b=[],d=(0,h.default)(this.context).getInstance(c);return{initialize:function(c,e){c.some(function(c){if(c=d.create(c,e))return b.push(c),!0})},reset:function(){b.forEach(function(b){return b.reset()});b=[]},report:function(d,c){b.forEach(function(b){return b.report(d,c)})}}}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(141))&&
k.__esModule?k:{default:k};c.__dashjs_factory_name="ReportingController";g.default=dashjs.FactoryMaker.getClassFactory(c);m.exports=g.default},{141:141}],136:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){var e=(c=c||{}).debug?c.debug.getLogger(void 0):{},g=/([a-zA-Z]*)(\(([0-9]*)(,\s*([a-zA-Z]*))?\))?/,k=this.context,l={BufferLevel:h.default,DVBErrors:f.default,HttpList:b.default,PlayList:d.default,RepSwitchList:d.default,TcpList:d.default};return{create:function(b,
d){var f;if(b=b.match(g)){try{(f=l[b[1]](k).create({eventBus:c.eventBus,metricsConstants:c.metricsConstants})).initialize(b[1],d,b[3],b[5])}catch(q){f=null,e.error("MetricsHandlerFactory: Could not create handler for type "+b[1]+" with args "+b[3]+", "+b[5]+" ("+q.message+")")}return f}},register:function(b,d){l[b]=d},unregister:function(b){delete l[b]}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(137)),f=c(e(138)),b=c(e(140)),d=c(e(139));k.__dashjs_factory_name="MetricsHandlerFactory";
g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=g.default},{137:137,138:138,139:139,140:140}],137:[function(e,m,g){function c(c){function b(){var b=function(){try{return Object.keys(z).map(function(b){return z[b]}).reduce(function(b,d){return b.level<d.level?b:d})}catch(t){}}();b&&k!==b.t&&(k=b.t,d.report(f,b))}c=c||{};var d=void 0,e=void 0,f=void 0,g=void 0,k=void 0,m=this.context,v=(0,h.default)(m).getInstance(),z=[],y=c.metricsConstants;return{initialize:function(c,h,k){h&&(e=v.validateN(k),
d=h,f=v.reconstructFullMetricName(c,k),g=setInterval(b,e))},reset:function(){clearInterval(g);e=0;k=d=g=null},handleNewMetric:function(b,d,c){b===y.BUFFER_LEVEL&&(z[c]=d)}}}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(144))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="BufferLevelHandler";g.default=dashjs.FactoryMaker.getClassFactory(c);m.exports=g.default},{144:144}],138:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0});var c,k=(c=e(130))&&c.__esModule?c:{default:c};
g.default=dashjs.FactoryMaker.getClassFactory(function(c){function e(){d.off(k.default.METRICS_INITIALISATION_COMPLETE,e,this);d.trigger(k.default.BECAME_REPORTING_PLAYER)}var b=void 0,d=(c=c||{}).eventBus,h=c.metricsConstants;return{initialize:function(c,f){f&&(b=f,d.on(k.default.METRICS_INITIALISATION_COMPLETE,e,this))},reset:function(){b=null},handleNewMetric:function(d,c){d===h.DVB_ERRORS&&b&&b.report(d,c)}}});m.exports=g.default},{130:130}],139:[function(e,m,g){function c(){var c=void 0,e=void 0;
return{initialize:function(f,b){c=f;e=b},reset:function(){e=null;c=void 0},handleNewMetric:function(f,b){f===c&&e&&e.report(c,b)}}}Object.defineProperty(g,"__esModule",{value:!0});c.__dashjs_factory_name="GenericMetricHandler";g.default=dashjs.FactoryMaker.getClassFactory(c);m.exports=g.default},{}],140:[function(e,m,g){function c(c){function b(){m.length&&d&&d.report(g,m);m=[]}c=c||{};var d=void 0,e=void 0,f=void 0,g=void 0,k=void 0,m=[],v=(0,h.default)(this.context).getInstance(),z=c.metricsConstants;
return{initialize:function(c,h,l,n){h&&(e=v.validateN(l),d=h,n&&n.length&&(f=n),g=v.reconstructFullMetricName(c,l,n),k=setInterval(b,e))},reset:function(){clearInterval(k);m=[];d=f=e=k=null},handleNewMetric:function(b,d){b===z.HTTP_REQUEST&&(f&&f!==d.type||m.push(d))}}}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(144))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="HttpListHandler";g.default=dashjs.FactoryMaker.getClassFactory(c);m.exports=g.default},{144:144}],141:[function(e,
m,g){function c(c){c=c||{};var b={"urn:dvb:dash:reporting:2014":h.default},d=this.context,e=c.debug?c.debug.getLogger(void 0):{},f=c.metricsConstants;return{create:function(c,h){var g=void 0;try{(g=b[c.schemeIdUri](d).create({metricsConstants:f})).initialize(c,h)}catch(v){g=null,e.error("ReportingFactory: could not create Reporting with schemeIdUri "+c.schemeIdUri+" ("+v.message+")")}return g},register:function(d,c){b[d]=c},unregister:function(d){delete b[d]}}}Object.defineProperty(g,"__esModule",
{value:!0});var k,h=(k=e(142))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="ReportingFactory";g.default=dashjs.FactoryMaker.getSingletonFactory(c);m.exports=g.default},{142:142}],142:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function d(b,d,c){function e(){var b=y.indexOf(f);-1!==b&&(y.splice(b,1),200<=f.status&&300>f.status?d&&d():c&&c())}var f=new XMLHttpRequest;y.push(f);try{f.open("GET",b),f.onloadend=e,f.onerror=e,f.send()}catch(D){f.onerror()}}
b=b||{};var c=this.context,e=void 0,g=void 0,k=void 0,m=void 0,v=void 0,z=void 0,y=[],q=b.metricsConstants;e=(0,h.default)(c).getInstance();g=(0,f.default)(c).getInstance();m=k=!1;z=v=null;return{report:function(b,c){Array.isArray(c)||(c=[c]);m&&z.isEnabled()&&c.forEach(function(c){c=e.serialise(c);b!==q.DVB_ERRORS&&(c="metricname\x3d"+b+"\x26"+c);d(c=v+"?"+c,null,function(){m=!1})})},initialize:function(b,d){if(z=d,!(v=b.dvb_reportingUrl))throw Error("required parameter missing (dvb:reportingUrl)");
k||((b=b.dvb_probability)&&(1E3===b||b/1E3>=g.random())&&(m=!0),k=!0)},reset:function(){m=k=!1;z=v=null}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(146)),f=c(e(147));k.__dashjs_factory_name="DVBReporting";g.default=dashjs.FactoryMaker.getClassFactory(k);m.exports=g.default},{146:146,147:147}],143:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function d(b){var d=new h.default;if(y){for(var c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);d.mpdurl||(d.mpdurl=
y.originalUrl||y.url);d.terror||(d.terror=new Date);t.addDVBErrors(d)}}function c(b){b.error||(y=b.manifest)}function e(b){d({errorcode:h.default.BASE_URL_CHANGED,servicelocation:b.entry})}function g(){d({errorcode:h.default.BECAME_REPORTER})}function k(b){var c;b.metric===J.HTTP_REQUEST&&(0===(c=b.value).responsecode||400<=c.responsecode||100>c.responsecode||600<=c.responsecode)&&d({errorcode:c.responsecode||h.default.CONNECTION_ERROR,url:c.url,terror:c.tresponse,servicelocation:c._serviceLocation})}
function m(b){switch(b.error?b.error.code:0){case MediaError.MEDIA_ERR_NETWORK:b=h.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:b=h.default.CORRUPT_MEDIA_OTHER;break;default:return}d({errorcode:b})}function v(){q.on(O.MANIFEST_UPDATED,c,z);q.on(O.SERVICE_LOCATION_BLACKLIST_CHANGED,e,z);q.on(O.METRIC_ADDED,k,z);q.on(O.METRIC_UPDATED,k,z);q.on(O.PLAYBACK_ERROR,m,z);q.on(f.default.BECAME_REPORTING_PLAYER,g,z)}var z=void 0,y=void 0,q=(b=b||{}).eventBus,t=b.dashMetrics,J=b.metricsConstants,
O=b.events;return z={initialise:v,reset:function(){q.off(O.MANIFEST_UPDATED,c,z);q.off(O.SERVICE_LOCATION_BLACKLIST_CHANGED,e,z);q.off(O.METRIC_ADDED,k,z);q.off(O.METRIC_UPDATED,k,z);q.off(O.PLAYBACK_ERROR,m,z);q.off(f.default.BECAME_REPORTING_PLAYER,g,z)}},v(),z}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(148)),f=c(e(130));k.__dashjs_factory_name="DVBErrorsTranslator";g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=g.default},{130:130,148:148}],144:[function(e,m,g){function c(){return{reconstructFullMetricName:function(c,
e,f){return e&&(c+="("+e,f&&f.length&&(c+=","+f),c+=")"),c},validateN:function(c){if(!c)throw Error("missing n");if(isNaN(c))throw Error("n is NaN");if(0>c)throw Error("n must be positive");return c}}}Object.defineProperty(g,"__esModule",{value:!0});c.__dashjs_factory_name="HandlerHelpers";g.default=dashjs.FactoryMaker.getSingletonFactory(c);m.exports=g.default},{}],145:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){var c=(d=d||{}).adapter,e=d.constants;return{getMetrics:function(d){var g=
[];return d&&d.Metrics_asArray&&d.Metrics_asArray.forEach(function(k){var l=new h.default,n=c.getIsDynamic(d);k.hasOwnProperty("metrics")&&(l.metrics=k.metrics,k.Range_asArray&&k.Range_asArray.forEach(function(b){var h,g,k,p=new f.default;p.starttime=(h=d,k=0,n?k=c.getAvailabilityStartTime(h)/1E3:(h=c.getRegularPeriods(h)).length&&(k=h[0].start),g=k,b&&b.hasOwnProperty(e.START_TIME)&&(g+=b.starttime),g);b.hasOwnProperty("duration")?p.duration=b.duration:p.duration=c.getDuration(d);p._useWallClockTime=
n;l.Range.push(p)}),k.Reporting_asArray&&(k.Reporting_asArray.forEach(function(d){var c=new b.default;d.hasOwnProperty(e.SCHEME_ID_URI)&&(c.schemeIdUri=d.schemeIdUri,d.hasOwnProperty("value")&&(c.value=d.value),d.hasOwnProperty(e.DVB_REPORTING_URL)&&(c.dvb_reportingUrl=d[e.DVB_REPORTING_URL]),d.hasOwnProperty(e.DVB_PROBABILITY)&&(c.dvb_probability=d[e.DVB_PROBABILITY]),l.Reporting.push(c))}),g.push(l)))}),g}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(149)),f=c(e(150)),b=c(e(151));
k.__dashjs_factory_name="ManifestParsing";g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=g.default},{149:149,150:150,151:151}],146:[function(e,m,g){function c(){return{serialise:function f(c){var b=[],d=[],e=void 0,h=void 0;for(e in c)if(c.hasOwnProperty(e)&&0!==e.indexOf("_")){if(null==(h=c[e])&&(h=""),Array.isArray(h)){if(!h.length)continue;d=[];h.forEach(function(b){var c="Object"!==Object.prototype.toString.call(b).slice(8,-1);d.push(c?b:f(b))});h=d.map(encodeURIComponent).join(",")}else"string"==
typeof h?h=encodeURIComponent(h):h instanceof Date?h=h.toISOString():"number"==typeof h&&(h=Math.round(h));b.push(e+"\x3d"+h)}return b.join("\x26")}}}Object.defineProperty(g,"__esModule",{value:!0});c.__dashjs_factory_name="MetricSerialiser";g.default=dashjs.FactoryMaker.getSingletonFactory(c);m.exports=g.default},{}],147:[function(e,m,g){function c(){function c(){f&&(g=g||new b(10),f.getRandomValues(g),p=0)}var e,f=window.crypto||window.msCrypto,b=Uint32Array,d=Math.pow(2,8*b.BYTES_PER_ELEMENT)-
1,g=void 0,p=void 0;return e={random:function(b,e){var h=void 0;return b=b||0,e=e||1,f?(p===g.length&&c(),h=g[p]/d,p+=1):h=Math.random(),h*(e-b)+b}},c(),e}Object.defineProperty(g,"__esModule",{value:!0});c.__dashjs_factory_name="RNG";g.default=dashjs.FactoryMaker.getSingletonFactory(c);m.exports=g.default},{}],148:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.servicelocation=this.ipaddress=this.url=this.terror=this.errorcode=
this.mpdurl=null}Object.defineProperty(g,"__esModule",{value:!0});c.SSL_CONNECTION_FAILED_PREFIX="SSL";c.DNS_RESOLUTION_FAILED="C00";c.HOST_UNREACHABLE="C01";c.CONNECTION_REFUSED="C02";c.CONNECTION_ERROR="C03";c.CORRUPT_MEDIA_ISOBMFF="M00";c.CORRUPT_MEDIA_OTHER="M01";c.BASE_URL_CHANGED="F00";c.BECAME_REPORTER="S00";g.default=c;m.exports=g.default},{}],149:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.metrics="";this.Range=[];
this.Reporting=[]}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],150:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.starttime=0;this.duration=1/0;this._useWallClockTime=!1}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],151:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.dvb_reportingUrl=
this.value=this.schemeIdUri="";this.dvb_probability=1E3}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],152:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b,d){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.data={baseUrls:b||null,selectedIdx:d||NaN};this.children=[]}function h(){function b(b,d,c){c=g.getBaseURLsFromElement(c);b[d]?v.areEqual(c,b[d].data.baseUrls)||(b[d].data.baseUrls=c,
b[d].data.selectedIdx=NaN):b[d]=new k(c)}function d(d){if(!g||!g.hasOwnProperty("getBaseURLsFromElement")||!g.hasOwnProperty("getRepresentationSortFunction"))throw Error("setConfig function has to be called previously");!0;var c=g.getBaseURLsFromElement(d);v.areEqual(c,h.data.baseUrls)||(h.data.baseUrls=c,h.data.selectedIdx=NaN);d&&d.Period_asArray&&d.Period_asArray.forEach(function(d,c){b(h.children,c,d);d.AdaptationSet_asArray&&d.AdaptationSet_asArray.forEach(function(d,e){b(h.children[c].children,
e,d);d.Representation_asArray&&d.Representation_asArray.sort(g.getRepresentationSortFunction()).forEach(function(d,f){b(h.children[c].children[e].children,f,d)})})})}function c(){h=new k}var e,h=void 0,g=void 0,m=this.context,v=(0,f.default)(m).getInstance();return e={reset:c,update:function(b){d(b)},getForPath:function(b){var d=h,c=[d.data];return b&&b.forEach(function(b){(d=d.children[b])&&c.push(d.data)}),c.filter(function(b){return b.baseUrls.length})},invalidateSelectedIndexes:function(b){!function J(b,
d){d=d||h;b(d.data);d.children&&d.children.forEach(function(d){return J(b,d)})}(function(d){isNaN(d.selectedIdx)||b===d.baseUrls[d.selectedIdx].serviceLocation&&(d.selectedIdx=NaN)})},setConfig:function(b){b.adapter&&(g=b.adapter)}},c(),e}Object.defineProperty(g,"__esModule",{value:!0});var f=c(e(230));e=c(e(47));h.__dashjs_factory_name="BaseURLTreeModel";g.default=e.default.getClassFactory(h);m.exports=g.default},{230:230,47:47}],153:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}
function k(){function d(){x={pr:1,nor:null,st:null,sf:null,sid:""+v.default.generateUuid(),cid:null};Z={};N={};Q={};e()}function c(){e()}function e(){var b;!H||(b=H.getStreamController())&&("function"!=typeof b.getActiveStream||(b=b.getActiveStream())&&(L=b.getProcessors()))}function g(b,d){var c={},e=!0,f=!1,h=void 0;try{for(var g=d[Symbol.iterator]();!(e=(k=g.next()).done);e=!0){var k=k.value;b[k]&&(c[k]=b[k])}}catch(pa){f=!0,h=pa}finally{try{!e&&g.return&&g.return()}finally{if(f)throw h;}}return c}
function k(b){try{return b.type===u.HTTPRequest.MPD_TYPE?((c=m()).ot="m",c):b.type===u.HTTPRequest.MEDIA_SEGMENT_TYPE?(function(b){Q.hasOwnProperty(b)||(Q[b]=!1);N.hasOwnProperty(b)||(N[b]=!1);Z.hasOwnProperty(b)||(Z[b]=!1)}(b.mediaType),function(b){var d=m();try{var c=parseInt(b.mediaInfo.bitrateList[b.quality].bandwidth/1E3)}catch(Y){c=null}var e=function(b){try{return isNaN(b.duration)?null:Math.round(1E3*b.duration)}catch(ka){return null}}(b),f=function(b){try{return 100*parseInt(P.getThroughputHistory().getSafeAverageThroughput(b)/
100)}catch(ka){return null}}(b.mediaType),h=function(b){try{var d=x.pr,c=K.getCurrentBufferLevel(b);return isNaN(d)||isNaN(c)?null:100*parseInt(c/d*10)}catch(Aa){return null}}(b.mediaType),g=A(b.mediaType),k=function(b){try{var d=P.getTopBitrateInfoFor(b);return Math.round(d.bitrate/1E3)}catch(sa){return null}}(b.mediaType),l=x.pr,p=function(b){if(L&&0!==L.length){var d=!0,c=!1,e=void 0;try{for(var f=L[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var h=h.value;if(h.getType()===b)return h.probeNextRequest()}}catch(fa){c=
!0,e=fa}finally{try{!d&&f.return&&f.return()}finally{if(c)throw e;}}}}(b.mediaType),q=void 0;b.mediaType===n.default.VIDEO&&(q="v");b.mediaType===n.default.AUDIO&&(q="a");b.mediaType===n.default.FRAGMENTED_TEXT&&(q="application/mp4"===b.mediaInfo.mimeType?"tt":"c");var t=da.get().streaming.cmcd.rtp;t=t||function(b){var d=H.getPlaybackRate();d=d||1;var c=b.quality,e=b.mediaType,f=b.mediaInfo;b=b.duration;e=A(e);0===e&&(e=500);e=f.bitrateList[c].bandwidth*b/1E3/(e/d/1E3);d=da.get().streaming.cmcd.rtpSafetyFactor&&
!isNaN(da.get().streaming.cmcd.rtpSafetyFactor)?da.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(e*d/100)+1)}(b);d.rtp=t;p&&(b.url!==p.url?(t=new URL(p.url),d.nor=t.pathname):p.range&&(d.nrr=p.range));c&&(d.br=c);q&&(d.ot=q);isNaN(e)||(d.d=e);isNaN(f)||(d.mtp=f);isNaN(h)||(d.dl=h);isNaN(g)||(d.bl=g);isNaN(k)||(d.tb=k);isNaN(l)||1===l||(d.pr=l);Z[b.mediaType]&&(d.bs=!0,Z[b.mediaType]=!1);!N[b.mediaType]&&Q[b.mediaType]||(d.su=!0,N[b.mediaType]=!1,Q[b.mediaType]=!0);return d}(b)):b.type===
u.HTTPRequest.INIT_SEGMENT_TYPE?((c=m()).ot="i",c.su=!0,c):b.type===u.HTTPRequest.OTHER_TYPE||b.type===u.HTTPRequest.XLINK_EXPANSION_TYPE?((d=m()).ot="o",d):b.type===u.HTTPRequest.LICENSE?((d=m()).ot="k",d):null}catch(la){return null}var d,c}function m(){var b={},d=(da.get().streaming.cmcd.cid?da.get().streaming.cmcd:x).cid;return b.v=1,b.sid=(da.get().streaming.cmcd.sid?da.get().streaming.cmcd:x).sid,b.sid=""+b.sid,d&&(b.cid=""+d),isNaN(x.pr)||1===x.pr||null===x.pr||(b.pr=x.pr),x.st&&(b.st=x.st),
x.sf&&(b.sf=x.sf),b}function A(b){try{var d=K.getCurrentBufferLevel(b);return isNaN(d)?null:100*parseInt(10*d)}catch(S){return null}}function G(b){try{x.pr=b.playbackRate}catch(X){}}function D(b){try{var d=C.getIsDynamic(b.data)?"l":"v",c=b.protocol&&"MSS"===b.protocol?"s":"d";x.st=d;x.sf=c}catch(la){}}function I(b){try{b.state&&b.mediaType&&b.state===f.default.BUFFER_EMPTY&&(Z[b.mediaType]||(Z[b.mediaType]=!0),N[b.mediaType]||(N[b.mediaType]=!0))}catch(X){}}function B(){for(var b in Z)Z.hasOwnProperty(b)&&
(Z[b]=!0);for(b in N)N.hasOwnProperty(b)&&(N[b]=!0)}function M(b){try{var d=function(){if(!b)return{v:null};var d=Object.keys(b).sort(function(b,d){return b.localeCompare(d)}),c=d.length;return{v:d.reduce(function(d,e,f){return"v"===e&&1===b[e]||("string"!=typeof b[e]||"ot"===e&&"sf"===e&&"st"===e?d+=e+"\x3d"+b[e]:d+=e+'\x3d"'+b[e].replace(/"/g,'"')+'"',f<c-1&&(d+=",")),d},"").replace(/=true/g,"")}}();if("object"==typeof d)return d.v}catch(S){return null}}var C=void 0,E=void 0,x=void 0,P=void 0,K=
void 0,H=void 0,L=void 0,N=void 0,Z=void 0,Q=void 0,aa=this.context,U=(0,h.default)(aa).getInstance(),da=(0,p.default)(aa).getInstance();return E={getQueryParameter:function(d){try{if(da.get().streaming.cmcd&&da.get().streaming.cmcd.enabled){var c=k(d),e=M(c);return U.trigger(b.default.CMCD_DATA_GENERATED,{url:d.url,mediaType:d.mediaType,cmcdData:c,cmcdString:e}),{key:"CMCD",value:e}}return null}catch(la){return null}},getHeaderParameters:function(d){try{if(da.get().streaming.cmcd&&da.get().streaming.cmcd.enabled){var c=
k(d),e=g(c,["br","d","ot","tb"]),f=g(c,"bl dl mtp nor nrr su".split(" ")),h=g(c,["bs","rtp"]),l=g(c,"cid pr sf sid st v".split(" "));l={"CMCD-Object":M(e),"CMCD-Request":M(f),"CMCD-Status":M(h),"CMCD-Session":M(l)};return U.trigger(b.default.CMCD_DATA_GENERATED,{url:d.url,mediaType:d.mediaType,cmcdData:c}),l}return null}catch(ta){return null}},setConfig:function(b){b&&(b.abrController&&(P=b.abrController),b.dashMetrics&&(K=b.dashMetrics),b.playbackController&&(H=b.playbackController))},reset:function(){U.off(f.default.PLAYBACK_RATE_CHANGED,
G,this);U.off(f.default.MANIFEST_LOADED,D,this);U.off(f.default.BUFFER_LEVEL_STATE_CHANGED,I,E);U.off(f.default.PLAYBACK_SEEKED,B,E);d()},initialize:function(){U.on(f.default.PLAYBACK_RATE_CHANGED,G,E);U.on(f.default.MANIFEST_LOADED,D,E);U.on(f.default.BUFFER_LEVEL_STATE_CHANGED,I,E);U.on(f.default.PLAYBACK_SEEKED,B,E);U.on(f.default.PERIOD_SWITCH_COMPLETED,c,E)}},(0,l.default)(aa).getInstance().getLogger(E),C=(0,w.default)(aa).getInstance(),d(),E}Object.defineProperty(g,"__esModule",{value:!0});
var h=c(e(46)),f=c(e(104)),b=c(e(130)),d=c(e(47)),l=c(e(45)),p=c(e(48)),n=c(e(112)),u=e(255),w=c(e(65)),v=c(e(49));k.__dashjs_factory_name="CmcdModel";g.default=d.default.getSingletonFactory(k);m.exports=g.default},{104:104,112:112,130:130,255:255,45:45,46:46,47:47,48:48,49:49,65:65}],154:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function d(b){var d;return!!b&&(d=!1,I.some(function(c){if(h=b,g=c,!isNaN(h.index)&&h.startTime===g.startTime&&h.adaptationIndex===
g.adaptationIndex&&h.type===g.type||(g=b,e=c,isNaN(g.index)&&isNaN(e.index)&&g.quality===e.quality)||(e=c,(c=b).action===f.default.ACTION_COMPLETE&&c.action===e.action))return d=!0;var e,h,g}),d)}function c(b){return isNaN(b.duration)?.25:Math.min(b.duration/8,.5)}function e(b){I=I.filter(function(d){var e=c(d);return isNaN(d.startTime)||void 0!==b&&d.startTime>=b-e})}function h(b,d){d<=b+.5||(I=I.filter(function(e){var f=c(e);return isNaN(e.startTime)||e.startTime>=d-f||isNaN(e.duration)||e.startTime+
e.duration<=b+f}))}function g(b,d){t.addSchedulingInfo(b,d);t.addRequestsQueue(b.mediaType,B,I)}function k(b){b.sender===J&&(B.splice(B.indexOf(b.request),1),b.response&&!b.error&&I.push(b.request),g(b.request,b.error?"failed":"executed"),y.trigger(q.FRAGMENT_LOADING_COMPLETED,{request:b.request,response:b.response,error:b.error,sender:this},{streamId:A.id,mediaType:G}))}function m(b){b.sender===J&&y.trigger(q.FRAGMENT_LOADING_PROGRESS,{request:b.request,response:b.response,error:b.error,sender:this},
{streamId:A.id,mediaType:G})}function z(b){b.sender===J&&y.trigger(q.FRAGMENT_LOADING_ABANDONED,{request:b.request},{streamId:A.id,mediaType:G})}var y=(b=b||{}).eventBus,q=b.events,t=b.dashMetrics,J=b.fragmentLoader,O=b.debug,A=b.streamInfo,G=b.type,D=void 0,I=void 0,B=void 0;b={getStreamId:function(){return A.id},getType:function(){return G},getRequests:function(b){var d=[];return(b?b.state instanceof Array?b.state:[b.state]:[]).forEach(function(e){e=function(b){switch(b){case "loading":b=B;break;
case "executed":b=I;break;default:b=[]}return b}(e);d=d.concat(function(b,d){return d.hasOwnProperty("time")?[function(b,d,e){for(var f=b.length-1;0<=f;f--){var h=b[f],g=h.startTime,k=g+h.duration;if(e=isNaN(e)?c(h):e,!isNaN(g)&&!isNaN(k)&&g<=d+e&&d-e<k||isNaN(g)&&isNaN(d))return h}return null}(b,d.time,d.threshold)]:b.filter(function(b){for(var c in d)if("state"!==c&&d.hasOwnProperty(c)&&b[c]!=d[c])return!1;return!0})}(e,b))}),d},isFragmentLoaded:d,isFragmentLoadedOrPending:function(b){var c,e;if(!(c=
d(b)))for(e=0;e<B.length;e++){var f=B[e];b.url===f.url&&b.startTime===f.startTime&&(c=!0)}return c},removeExecutedRequestsBeforeTime:e,removeExecutedRequestsAfterTime:function(b){I=I.filter(function(d){return isNaN(d.startTime)||void 0!==b&&d.startTime<b})},syncExecutedRequestsWithBufferedRange:function(b,d){if(b&&0!==b.length){for(var c=0,f=0,g=b.length;f<g;f++)h(c,b.start(f)),c=b.end(f);0<d&&h(c,d)}else e()},abortRequests:function(){D.debug("abort requests");J.abort();B=[]},executeRequest:function(b){switch(b.action){case f.default.ACTION_COMPLETE:I.push(b);
g(b,"executed");D.debug("STREAM_COMPLETED");y.trigger(q.STREAM_COMPLETED,{request:b},{streamId:b.mediaInfo.streamInfo.id,mediaType:b.mediaType});break;case f.default.ACTION_DOWNLOAD:g(b,"loading");B.push(b);y.trigger(q.FRAGMENT_LOADING_STARTED,{request:b},{streamId:A.id,mediaType:G});J.load(b);break;default:D.warn("Unknown request action.")}},reset:function(){y.off(q.LOADING_COMPLETED,k,this);y.off(q.LOADING_DATA_PROGRESS,m,this);y.off(q.LOADING_ABANDONED,z,this);J&&J.reset();I=[];B=[]},addExecutedRequest:function(b){I.push(b)}};
D=O.getLogger(b);I=[];B=[];return y.on(q.LOADING_COMPLETED,k,b),y.on(q.LOADING_DATA_PROGRESS,m,b),y.on(q.LOADING_ABANDONED,z,b),b}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(241));k.__dashjs_factory_name="FragmentModel";e=h.default.getClassFactory(k);e.FRAGMENT_MODEL_LOADING="loading";e.FRAGMENT_MODEL_EXECUTED="executed";e.FRAGMENT_MODEL_CANCELED="canceled";e.FRAGMENT_MODEL_FAILED="failed";h.default.updateClassFactory(k.__dashjs_factory_name,e);g.default=e;m.exports=g.default},
{241:241,47:47}],155:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){var b=this.context,d=(0,h.default)(b).getInstance(),c=void 0;return{getValue:function(){return c},setValue:function(b){(c=b)&&d.trigger(f.default.MANIFEST_LOADED,{data:b})}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(46)),f=c(e(54));e=c(e(47));k.__dashjs_factory_name="ManifestModel";g.default=e.default.getSingletonFactory(k);m.exports=g.default},{46:46,47:47,54:54}],156:[function(e,
m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(b){var d;for(d=0;d<t.length;d++)if(t[d].rulename===b)return d;return-1}function e(){return O.get().streaming.lowLatencyEnabled?O.get().streaming.liveDelay||3:O.get().streaming.liveDelay}function f(b,d){g(b,d);var c=new h.default;c.schemeIdUri=b;c.value=d;m.push(c)}function g(b,d){(0,p.checkParameterType)(b,"string");(0,p.checkParameterType)(d,"string");m.forEach(function(c,e){c.schemeIdUri===b&&c.value===d&&m.splice(e,
1)})}var k,m=void 0,q=void 0,t=void 0,J=this.context,O=(0,l.default)(J).getInstance();return k={getABRCustomRules:function(){return t},addABRCustomRule:function(e,f,h){if("string"!=typeof e||e!==d.default.ABANDON_FRAGMENT_RULES&&e!==d.default.QUALITY_SWITCH_RULES||"string"!=typeof f)throw b.default.BAD_ARGUMENT_ERROR;var g=c(f);-1===g?t.push({type:e,rulename:f,rule:h}):(t[g].type=e,t[g].rule=h)},removeABRCustomRule:function(b){b?-1!==(b=c(b))&&t.splice(b,1):t=[]},getStableBufferTime:function(){if(O.get().streaming.lowLatencyEnabled)return.6*
e();var b=O.get().streaming.stableBufferTime;return-1<b?b:O.get().streaming.fastSwitchEnabled?20:12},getRetryAttemptsForType:function(b){var d=isNaN(O.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:O.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return O.get().streaming.lowLatencyEnabled?O.get().streaming.retryAttempts[b]*d:O.get().streaming.retryAttempts[b]},getRetryIntervalsForType:function(b){var d=isNaN(O.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:O.get().streaming.retryIntervals.lowLatencyReductionFactor;
return O.get().streaming.lowLatencyEnabled?O.get().streaming.retryIntervals[b]/d:O.get().streaming.retryIntervals[b]},getLiveDelay:e,getLiveCatchupLatencyThreshold:function(){try{var b=O.get().streaming.liveCatchup.latencyThreshold,d=e();if(null!==b&&!isNaN(b))return Math.max(b,d);b=O.get().streaming.liveCatchup.minDrift;return(b=!isNaN(d)&&d?isNaN(b)?e():O.get().streaming.liveCatchup.minDrift+e():NaN)&&!isNaN(b)?Math.max(4*b,5):NaN}catch(D){return NaN}},addUTCTimingSource:f,removeUTCTimingSource:g,
getUTCTimingSources:function(){return m},clearDefaultUTCTimingSources:function(){m=[]},restoreDefaultUTCTimingSources:function(){var b=O.get().streaming.utcSynchronization.defaultTimingSource;f(b.scheme,b.value)},setXHRWithCredentialsForType:function I(b,d){b?q[b]=!!d:Object.keys(q).forEach(function(b){I(b,d)})},getXHRWithCredentialsForType:function(b){return void 0===(b=q[b])?q.default:b},getDefaultUtcTimingSource:function(){return O.get().streaming.utcSynchronization.defaultTimingSource},reset:function(){}},
q={default:!(m=[])},t=[],k}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(99)),f=c(e(47)),b=c(e(112)),d=c(e(196)),l=c(e(48)),p=e(232);k.__dashjs_factory_name="MediaPlayerModel";g.default=f.default.getSingletonFactory(k);m.exports=g.default},{112:112,196:196,232:232,47:47,48:48,99:99}],157:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(b){C.trigger(t.default.METRIC_CHANGED,{mediaType:b});C.trigger(t.default.METRICS_CHANGED)}function g(b,d,c){C.trigger(t.default.METRIC_UPDATED,
{mediaType:b,metric:d,value:c});e(b)}function k(b,d,c){C.trigger(t.default.METRIC_ADDED,{mediaType:b,metric:d,value:c});e(b)}function m(d,c){var e=null;return d&&(E.hasOwnProperty(d)?e=E[d]:c||(e=new b.default,E[d]=e)),e}function J(b,d,c){b=m(b);null!==b&&(b[d].push(c),b[d].length>M.get().streaming.metricsMaxListDepth&&b[d].shift())}function B(b,d,c){J(b,d,c);k(b,d,c)}var M=(c=c||{}).settings;c=this.context;var C=(0,y.default)(c).getInstance(),E=c=void 0;return c={clearCurrentMetricsForType:function(b){delete E[b];
e(b)},clearAllCurrentMetrics:function(){E={};C.trigger(t.default.METRICS_CHANGED)},getMetricsFor:m,addHttpRequest:function ua(b,c,e,h,g,k,l,n,p,q,t,m,u,v,w){var y=new d.HTTPRequest;k&&k!==h&&(ua(b,null,e,h,g,null,null,n,p,null,null,null,u,null,null),y.actualurl=k);y.tcpid=c;y.type=e;y.url=h;y.range=n;y.trequest=p;y.tresponse=q;y.responsecode=m;y._tfinish=t;y._stream=b;y._mediaduration=u;y._quality=g;y._responseHeaders=v;y._serviceLocation=l;w?w.forEach(function(b){var c=b.s;var e=b.d;var f=b.b;(b=
new d.HTTPRequestTrace).s=c;b.d=e;b.b=f;y.trace.push(b);y.interval||(y.interval=0);y.interval+=e}):(delete y.interval,delete y.trace);B(b,f.default.HTTP_REQUEST,y)},addRepresentationSwitch:function(b,d,c,e,h){var g=new l.default;g.t=d;g.mt=c;g.to=e;h?g.lto=h:delete g.lto;B(b,f.default.TRACK_SWITCH,g)},addBufferLevel:function(b,d,c){var e=new p.default;e.t=d;e.level=c;B(b,f.default.BUFFER_LEVEL,e)},addBufferState:function(b,d,c){var e=new n.default;e.target=c;e.state=d;B(b,f.default.BUFFER_STATE,e)},
addDVRInfo:function(b,d,c,e){var h=new u.default;h.time=d;h.range=e;h.manifestInfo=c;B(b,f.default.DVR_INFO,h)},addDroppedFrames:function(b,d){var c=new w.default,e=m(b).DroppedFrames;d&&(c.time=d.creationTime,c.droppedFrames=d.droppedVideoFrames,0<e.length&&e[e.length-1]==c||B(b,f.default.DROPPED_FRAMES,c))},addSchedulingInfo:function(b,d,c,e,h,g,k,l,n){var p=new z.default;p.mediaType=b;p.t=d;p.type=c;p.startTime=e;p.availabilityStartTime=h;p.duration=g;p.quality=k;p.range=l;p.state=n;B(b,f.default.SCHEDULING_INFO,
p)},addRequestsQueue:function(b,d,c){var e=new q.default;e.loadingRequests=d;e.executedRequests=c;m(b).RequestsQueue=e;k(b,f.default.REQUESTS_QUEUE,e)},addManifestUpdate:function(b,d,c,e,g,l,n,p,q,t){var m=new v.ManifestUpdate;m.mediaType=b;m.type=d;m.requestTime=c;m.fetchTime=e;m.availabilityStartTime=g;m.presentationStartTime=l;m.clientTimeOffset=n;m.currentTime=p;m.buffered=q;m.latency=t;J(h.default.STREAM,f.default.MANIFEST_UPDATE,m);k(b,f.default.MANIFEST_UPDATE,m)},updateManifestUpdateInfo:function(b,
d){if(b){for(var c in d)b[c]=d[c];g(b.mediaType,f.default.MANIFEST_UPDATE,b)}},addManifestUpdateStreamInfo:function(b,d,c,e,h){var k;b&&((k=new v.ManifestUpdateStreamInfo).id=d,k.index=c,k.start=e,k.duration=h,b.streamInfo.push(k),g(b.mediaType,f.default.MANIFEST_UPDATE_STREAM_INFO,b))},addManifestUpdateRepresentationInfo:function(b,d,c,e,h,k,l,n){var p;b&&b.representationInfo&&((p=new v.ManifestUpdateRepresentationInfo).id=d,p.index=c,p.streamIndex=e,p.mediaType=h,p.startNumber=l,p.fragmentInfoType=
n,p.presentationTimeOffset=k,b.representationInfo.push(p),g(b.mediaType,f.default.MANIFEST_UPDATE_TRACK_INFO,b))},addPlayList:function(b){b.trace&&Array.isArray(b.trace)?b.trace.forEach(function(b){b.hasOwnProperty("subreplevel")&&!b.subreplevel&&delete b.subreplevel}):delete b.trace;B(h.default.STREAM,f.default.PLAY_LIST,b)},addDVBErrors:function(b){B(h.default.STREAM,f.default.DVB_ERRORS,b)}},E={},c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(113)),b=c(e(245)),d=e(255),
l=c(e(258)),p=c(e(251)),n=c(e(252)),u=c(e(253)),w=c(e(254)),v=e(256),z=c(e(260)),y=c(e(46)),q=c(e(259)),t=c(e(54));e=c(e(47));k.__dashjs_factory_name="MetricsModel";g.default=e.default.getSingletonFactory(k);m.exports=g.default},{112:112,113:113,245:245,251:251,252:252,253:253,254:254,255:255,256:256,258:258,259:259,260:260,46:46,47:47,54:54}],158:[function(e,m,g){function c(c){return c&&c.__esModule?c:{default:c}}function k(){var c=void 0;return{initialize:function(b){if(c=new h.default,!b)return null;
var d=b.indexOf("#");if(-1!==d){b=b.substr(d+1).split("\x26");d=0;for(var e=b.length;d<e;++d){var f,g=b[d],k=g.indexOf("\x3d");-1!==k&&(f=g.substring(0,k),c.hasOwnProperty(f)&&(c[f]=g.substr(k+1)))}}},getURIFragmentData:function(){return c}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(250));e=c(e(47));k.__dashjs_factory_name="URIFragmentModel";g.default=e.default.getSingletonFactory(k);m.exports=g.default},{250:250,47:47}],159:[function(e,m,g){function c(b){return b&&b.__esModule?b:
{default:b}}function k(){function c(){q&&(q.playbackRate=J||1,q.removeEventListener("canplay",c))}function e(b){q&&(2>=q.readyState&&0<b?q.addEventListener("canplay",c):q.playbackRate=b)}function h(){return 0<G.length}function g(){var b;q&&h()&&0===q.playbackRate&&((b=document.createEvent("Event")).initEvent("waiting",!0,!1),q.dispatchEvent(b))}function k(){return q?q.buffered:null}function m(b,d,c,e,f){if(q)for(var h=0;h<q.textTracks.length;h++)if(q.textTracks[h].kind===b&&(!d||q.textTracks[h].label==
d)&&q.textTracks[h].language===c&&q.textTracks[h].isTTML===e&&q.textTracks[h].isEmbedded===f)return q.textTracks[h];return null}var z=void 0,y=void 0,q=void 0,t=void 0,J=void 0,O=this.context,A=(0,f.default)(O).getInstance(),G=[];return z={initialize:function(){A.on(b.default.PLAYBACK_PLAYING,g,this)},setCurrentTime:function(b,d){if(q&&q.currentTime!=b)try{b=d?function(b){var d=k(),c=b,e=9999999999;if(d)for(var f=0;f<d.length;f++){var h=d.start(f),g=d.end(f),l=Math.abs(h-b),p=Math.abs(g-b);if(h<=
b&&b<=g)return b;l<e&&(e=l,c=h);p<e&&(e=p,c=g)}return c}(b):b,q.currentTime=b}catch(B){0===q.readyState&&B.code===B.INVALID_STATE_ERR&&setTimeout(function(){q.currentTime=b},400)}},play:function(){var d;q&&(q.autoplay=!0,(d=q.play())&&d.catch&&"undefined"!=typeof Promise&&d.catch(function(d){"NotAllowedError"===d.name&&A.trigger(b.default.PLAYBACK_NOT_ALLOWED);y.warn("Caught pending play exception - continuing ("+d+")")}))},isPaused:function(){return q?q.paused:null},pause:function(){q&&(q.pause(),
q.autoplay=!1)},isStalled:h,isSeeking:function(){return q?q.seeking:null},getTime:function(){return q?q.currentTime:null},getPlaybackRate:function(){return q?q.playbackRate:null},setPlaybackRate:e,getPlayedRanges:function(){return q?q.played:null},getEnded:function(){return q?q.ended:null},setStallState:function(b,d){(d?function(b){var d=void 0;null!==b&&q&&!q.seeking&&-1===G.indexOf(b)&&(G.push(b),q&&1===G.length&&((d=document.createEvent("Event")).initEvent("waiting",!0,!1),J=q.playbackRate,e(0),
q.dispatchEvent(d)))}:function(b){var d=G.indexOf(b),c=void 0;null!==b&&(-1!==d&&G.splice(d,1),q&&!1===h()&&0===q.playbackRate&&(e(J||1),q.paused||((c=document.createEvent("Event")).initEvent("playing",!0,!1),q.dispatchEvent(c))))})(b)},getElement:function(){return q},setElement:function(b){if(!(null==b||b&&/^(VIDEO|AUDIO)$/i.test(b.nodeName)))throw"element is not video or audio DOM type!";(q=b)&&(q.preload="auto")},setSource:function(b){q&&(b?q.src=b:(q.removeAttribute("src"),q.load()))},getSource:function(){return q?
q.src:null},getTTMLRenderingDiv:function(){return t},setTTMLRenderingDiv:function(b){(t=b).style.position="absolute";t.style.display="flex";t.style.overflow="hidden";t.style.pointerEvents="none";t.style.top=0;t.style.left=0},getPlaybackQuality:function(){if(!q)return null;var b="webkitDroppedFrameCount"in q&&"webkitDecodedFrameCount"in q,d=null;return"getVideoPlaybackQuality"in q?d=q.getVideoPlaybackQuality():b&&(d={droppedVideoFrames:q.webkitDroppedFrameCount,totalVideoFrames:q.webkitDroppedFrameCount+
q.webkitDecodedFrameCount,creationTime:new Date}),d},addEventListener:function(b,d){q&&q.addEventListener(b,d)},removeEventListener:function(b,d){q&&q.removeEventListener(b,d)},getReadyState:function(){return q?q.readyState:NaN},getBufferRange:k,getClientWidth:function(){return q?q.clientWidth:NaN},getClientHeight:function(){return q?q.clientHeight:NaN},getTextTracks:function(){return q?q.textTracks:[]},getTextTrack:m,addTextTrack:function(b,d,c,e,f){if(!q)return null;var h=m(b,d,c,e,f);return h||
((h=q.addTextTrack(b,d,c)).isEmbedded=f,h.isTTML=e),h},appendChild:function(b){q&&(q.appendChild(b),void 0!==b.isTTML&&(q.textTracks[q.textTracks.length-1].isTTML=b.isTTML,q.textTracks[q.textTracks.length-1].isEmbedded=b.isEmbedded))},removeChild:function(b){q&&q.removeChild(b)},getVideoWidth:function(){return q?q.videoWidth:NaN},getVideoHeight:function(){return q?q.videoHeight:NaN},getVideoRelativeOffsetTop:function(){var b=q.parentNode.host||q.parentNode;return b?q.getBoundingClientRect().top-b.getBoundingClientRect().top:
NaN},getVideoRelativeOffsetLeft:function(){var b=q.parentNode.host||q.parentNode;return b?q.getBoundingClientRect().left-b.getBoundingClientRect().left:NaN},reset:function(){A.off(b.default.PLAYBACK_PLAYING,g,this)}},y=(0,d.default)(O).getInstance().getLogger(z),z}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(46)),b=c(e(54)),d=c(e(45));k.__dashjs_factory_name="VideoModel";g.default=h.default.getSingletonFactory(k);m.exports=g.default},{45:45,46:46,47:47,54:54}],160:[function(e,
m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(b,d){b.reader.read().then(d).catch(function(d){b.onerror&&200===b.response.status&&b.onerror(d)})}function e(d,c,e,f,g){switch(d){case b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING:return function(b,d){try{var c=void 0,e=void 0;c=b.filter(function(d,c){return 0<c&&c<b.length-1});e=d.filter(function(b,c){return 0<c&&c<d.length-1});var f=0;if(1<c.length){for(var h,g=0;g<c.length;g++)c[g]&&e[g]&&(h=e[g].ts-c[g].ts,
f+=h);return f}return null}catch(E){return null}}(c,e);default:return h(f,g)}}function h(b,d){try{if(1<(b=b.filter(function(c){return c.bytes>d/4/b.length})).length){var c=(e=0,f=(b[b.length-1].ts-b[0].ts)/b.length,b.forEach(function(d,c){(c=b[c+1])&&(d=c.ts-d.ts,e+=d<f?d:0)}),{v:e});if("object"==typeof c)return c.v}return null}catch(A){return null}var e,f}d=d||{};var g=this.context,k=d.requestModifier,m=d.boxParser,z=(0,f.default)(g).getInstance();return{load:function(d){var f=new Date,h=d.request,
g=new Headers;if(h.range&&g.append("Range","bytes\x3d"+h.range),d.headers)for(var l in d.headers){var p=d.headers[l];p&&g.append(l,p)}h.requestStartDate||(h.requestStartDate=f);k&&k.modifyRequestHeader({setRequestHeader:function(b,d){g.append(b,d)}});f=void 0;"function"==typeof window.AbortController&&(f=new AbortController,(d.abortController=f).signal.onabort=d.onabort);f={method:d.method,headers:g,credentials:d.withCredentials?"include":void 0,signal:f?f.signal:void 0};fetch(d.url,f).then(function(f){d.response||
(d.response={});d.response.status=f.status;d.response.statusText=f.statusText;d.response.responseURL=f.url;f.ok||d.onerror();var h="",g=!0,k=!1,l=void 0;try{for(var p=f.headers.keys()[Symbol.iterator]();!(g=(n=p.next()).done);g=!0){var n=n.value;h+=n+": "+f.headers.get(n)+"\r\n"}}catch(da){k=!0,l=da}finally{try{!g&&p.return&&p.return()}finally{if(k)throw l;}}if(d.response.responseHeaders=h,!f.body)return f.arrayBuffer().then(function(b){b={loaded:(d.response.response=b).byteLength,total:b.byteLength,
stream:!1};d.progress(b);d.onload();d.onend()});var q=parseInt(f.headers.get("Content-Length"),10),t=0,u=!1,v=new Uint8Array,w=0;d.reader=f.body.getReader();var y=[],J=[],G=[],A=!0,O=z.get().streaming.abr.fetchThroughputCalculationMode;l=function X(f){var h,g=f.value;if(f.done)return v&&(d.progress({loaded:t,total:isNaN(q)?t:q,lengthComputable:!0,time:e(O,J,G,y,t),stream:!0}),d.response.response=v.buffer),d.onload(),void d.onend();if(g&&0<g.length){var k=v;var l=g;if(0===k.length)k=l;else{var p=new Uint8Array(k.length+
l.length);k=(p.set(k),p.set(l,k.length),p)}v=k;t+=g.length;y.push({ts:Date.now(),bytes:g.length});O===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&A&&m.findLastTopIsoBoxCompleted(["moof"],v,w).found&&(A=!1,J.push({ts:performance.now(),bytes:g.length}));(h=m.findLastTopIsoBoxCompleted(["moov","mdat"],v,w)).found?(f=h.lastCompletedOffset+h.size,O===b.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&(A=!0,G.push({ts:performance.now(),bytes:v.length})),v=f===v.length?(g=v,new Uint8Array):
(g=new Uint8Array(v.subarray(0,f)),v.subarray(f)),d.progress({data:g.buffer,lengthComputable:!1,noTrace:!0}),w=0):(w=h.lastCompletedOffset,u||(d.progress({lengthComputable:!1,noTrace:!0}),u=!0))}c(d,X)};c(d,l)}).catch(function(b){d.onerror&&d.onerror(b)})},abort:function(b){if(b.abortController)b.abortController.abort();else if(b.reader)try{b.reader.cancel(),b.onabort()}catch(q){}},calculateDownloadedTime:e}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(48)),b=c(e(112));k.__dashjs_factory_name=
"FetchLoader";h=h.default.getClassFactory(k);g.default=h;m.exports=g.default},{112:112,47:47,48:48}],161:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b,d,c){return d in b?Object.defineProperty(b,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):b[d]=c,b}function h(c){function e(c,h){function k(b){J=!1;v.requestStartDate=D;v.requestEndDate=new Date;v.firstByteDate=v.firstByteDate||D;v.checkExistenceOnly||(t.addHttpRequest(v,A.response?A.response.responseURL:null,
A.response?A.response.status:null,A.response&&A.response.getAllResponseHeaders?A.response.getAllResponseHeaders():A.response?A.response.responseHeaders:[],b?w:null),v.type===d.HTTPRequest.MPD_TYPE&&t.addManifestUpdate(v))}function n(){-1!==H.indexOf(A)&&(H.splice(H.indexOf(A),1),J)&&((k(!1),0<h)?!function(){try{K.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&v.type===d.HTTPRequest.MEDIA_SEGMENT_TYPE&&m.getRetryAttemptsForType(d.HTTPRequest.MEDIA_SEGMENT_TYPE)===
h&&P.trigger(z.default.ATTEMPT_BACKGROUND_SYNC)}catch(sa){}h--;var b={config:c};N.push(b);b.timeout=setTimeout(function(){-1!==N.indexOf(b)&&(N.splice(N.indexOf(b),1),e(c,h))},m.getRetryIntervalsForType(v.type))}():v.type!==d.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(l.error(new p.default(Z[v.type],v.url+" is not available",{request:v,response:A.response})),c.error&&c.error(v,"error",A.response.statusText),c.complete&&c.complete(v,A.response.statusText)))}var v=c.request,w=[],y=!0,J=!0,D=new Date,
G=D,E=0,A=void 0;if(!B||!t||!l)throw Error("config object is not correct or missing");var I,O,U=void 0;U=C&&window.fetch&&"arraybuffer"===v.responseType&&v.type===d.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,b.default)(g).create({requestModifier:B,boxParser:M}):(0,f.default)(g).create({requestModifier:B});var R=null,da=B.modifyRequestURL(v.url);K.get().streaming.cmcd&&K.get().streaming.cmcd.enabled&&((I=K.get().streaming.cmcd.mode)===q.default.CMCD_MODE_QUERY?(O=function(b){try{var d=[],c=Q.getQueryParameter(b);
return c&&d.push(c),d}catch(V){return[]}}(v),da=u.default.addAditionalQueryParameterToUrl(da,O)):I===q.default.CMCD_MODE_HEADER&&(R=Q.getHeaderParameters(v)));var Y;A={url:da,method:v.checkExistenceOnly?d.HTTPRequest.HEAD:d.HTTPRequest.GET,withCredentials:m.getXHRWithCredentialsForType(v.type),request:v,onload:function(){200<=A.response.status&&299>=A.response.status&&(k(!0),c.success&&c.success(A.response.response,A.response.statusText,A.response.responseURL),c.complete&&c.complete(v,A.response.statusText))},
onend:n,onerror:n,progress:function(b){var d=new Date;y&&(y=!1,(!b.lengthComputable||b.lengthComputable&&b.total!==b.loaded)&&(v.firstByteDate=d));b.lengthComputable&&(v.bytesLoaded=b.loaded,v.bytesTotal=b.total);b.noTrace||(w.push({s:G,d:b.time?b.time:d.getTime()-G.getTime(),b:[b.loaded?b.loaded-E:0]}),G=d,E=b.loaded);c.progress&&b&&c.progress(b)},onabort:function(){c.abort&&c.abort(v)},ontimeout:function(b){var d;b=b.lengthComputable?(d=b.loaded/b.total*100,"Request timeout: loaded: "+b.loaded+
", out of: "+b.total+" : "+d.toFixed(3)+"% Completed"):"Request timeout: non-computable download size";aa.warn(b)},loader:U,timeout:x,headers:R};R=(new Date).getTime();isNaN(v.delayLoadingTime)||R>=v.delayLoadingTime?(H.push(A),U.load(A)):(Y={httpRequest:A},L.push(Y),Y.delayTimeout=setTimeout(function(){if(-1!==L.indexOf(Y)){L.splice(L.indexOf(Y),1);try{G=D=new Date,H.push(Y.httpRequest),U.load(Y.httpRequest)}catch(ka){Y.httpRequest.onerror()}}},v.delayLoadingTime-R))}c=c||{};var h,g=this.context,
l=c.errHandler,t=c.dashMetrics,m=c.mediaPlayerModel,B=c.requestModifier,M=c.boxParser,C=c.useFetch||!1,E=c.errors,x=c.requestTimeout||0,P=(0,v.default)(g).getInstance(),K=(0,y.default)(g).getInstance(),H=c=void 0,L=void 0,N=void 0,Z=void 0,Q=void 0,aa=void 0;return c={load:function(b){b.request?e(b,m.getRetryAttemptsForType(b.request.type)):b.error&&b.error(b.request,"error")},abort:function(){N.forEach(function(b){clearTimeout(b.timeout);b.config.request&&b.config.abort&&b.config.abort(b.config.request)});
N=[];L.forEach(function(b){return clearTimeout(b.delayTimeout)});L=[];H.forEach(function(b){b.request.type!==d.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(b.onloadend=b.onerror=b.onprogress=void 0,b.loader.abort(b))});H=[]}},aa=(0,w.default)(g).getInstance().getLogger(c),H=[],L=[],N=[],Q=(0,n.default)(g).getInstance(),k(h={},d.HTTPRequest.MPD_TYPE,E.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(h,d.HTTPRequest.XLINK_EXPANSION_TYPE,E.DOWNLOAD_ERROR_ID_XLINK_CODE),k(h,d.HTTPRequest.INIT_SEGMENT_TYPE,E.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),
k(h,d.HTTPRequest.MEDIA_SEGMENT_TYPE,E.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(h,d.HTTPRequest.INDEX_SEGMENT_TYPE,E.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(h,d.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,E.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(h,d.HTTPRequest.OTHER_TYPE,E.DOWNLOAD_ERROR_ID_CONTENT_CODE),Z=h,c}Object.defineProperty(g,"__esModule",{value:!0});var f=c(e(164)),b=c(e(160)),d=e(255),l=c(e(47)),p=c(e(239)),n=c(e(153)),u=c(e(49)),w=c(e(45)),v=c(e(46)),z=c(e(54)),y=c(e(48)),q=c(e(112));h.__dashjs_factory_name=
"HTTPLoader";l=l.default.getClassFactory(h);g.default=l;m.exports=g.default},{112:112,153:153,160:160,164:164,239:239,255:255,45:45,46:46,47:47,48:48,49:49,54:54}],162:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(){d={}}var d=void 0;b();return{getLoader:function(b){for(var c in d)if(d.hasOwnProperty(c)&&b.startsWith(c))return d[c];return f.default},registerLoader:function(b,c){d[b]=c},unregisterLoader:function(b){d[b]&&delete d[b]},unregisterAllLoader:b,
reset:function(){b()}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(161));k.__dashjs_factory_name="SchemeLoaderFactory";h=h.default.getSingletonFactory(k);g.default=h;m.exports=g.default},{161:161,47:47}],163:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){b=b||{};var d=this.context,c=void 0,e=void 0;return c=(0,f.default)(d).getInstance(),{load:function(f){(e=c.getLoader(f&&f.request?f.request.url:null)(d).create({errHandler:b.errHandler,
mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,useFetch:b.useFetch||null,dashMetrics:b.dashMetrics,boxParser:b.boxParser?b.boxParser:null,constants:b.constants?b.constants:null,dashConstants:b.dashConstants?b.dashConstants:null,urlUtils:b.urlUtils?b.urlUtils:null,requestTimeout:isNaN(b.requestTimeout)?0:b.requestTimeout,errors:b.errors})).load(f)},abort:function(){e&&e.abort()}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(162));k.__dashjs_factory_name=
"URLLoader";h=h.default.getClassFactory(k);g.default=h;m.exports=g.default},{162:162,47:47}],164:[function(e,m,g){function c(c){var e=(c=c||{}).requestModifier;return{load:function(b){var d=new Date,c=b.request,f=new XMLHttpRequest;if(f.open(b.method,b.url,!0),c.responseType&&(f.responseType=c.responseType),c.range&&f.setRequestHeader("Range","bytes\x3d"+c.range),c.requestStartDate||(c.requestStartDate=d),e&&(f=e.modifyRequestHeader(f)),b.headers)for(var h in b.headers)(d=b.headers[h])&&f.setRequestHeader(h,
d);f.withCredentials=b.withCredentials;f.onload=b.onload;f.onloadend=b.onend;f.onerror=b.onerror;f.onprogress=b.progress;f.onabort=b.onabort;f.ontimeout=b.ontimeout;f.timeout=b.timeout;f.send();b.response=f},abort:function(b){(b=b.response).onloadend=b.onerror=b.onprogress=void 0;b.abort()}}}Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="XHRLoader";e=e.default.getClassFactory(c);g.default=e;m.exports=g.default},{47:47}],165:[function(e,
m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,null,[{key:"findCencContentProtection",value:function(c){for(var e=null,b=0;b<c.length;++b){var d=c[b];"urn:mpeg:dash:mp4protection:2011"!==
d.schemeIdUri.toLowerCase()||"cenc"!==d.value.toLowerCase()&&"cbcs"!==d.value.toLowerCase()||(e=d)}return e}},{key:"getPSSHData",value:function(c){var e=8,b=new DataView(c),d=b.getUint8(e);return e+=20,0<d&&(e+=4+16*b.getUint32(e)),e+=4,c.slice(e)}},{key:"getPSSHForKeySystem",value:function(c,e){e=k.parsePSSHList(e);return c&&e.hasOwnProperty(c.uuid.toLowerCase())?e[c.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(c,e){return"pssh"in c?(c.pssh.__text=c.pssh.__text.replace(/\r?\n|\r/g,
"").replace(/\s+/g,""),e.decodeArray(c.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(c){if(null==c)return[];c=new DataView(c.buffer||c);for(var e={},b=0;;){var d,h,g=b;if(b>=c.buffer.byteLength)break;if(d=b+c.getUint32(b),b+=4,1886614376===c.getUint32(b))if(b+=4,0===(h=c.getUint8(b))||1===h){b++;b+=3;var k="";var m,w=void 0;for(m=0;4>m;m++)k+=1===(w=c.getUint8(b+m).toString(16)).length?"0"+w:w;b+=4;k+="-";for(m=0;2>m;m++)k+=1===(w=c.getUint8(b+m).toString(16)).length?"0"+w:w;b+=
2;k+="-";for(m=0;2>m;m++)k+=1===(w=c.getUint8(b+m).toString(16)).length?"0"+w:w;b+=2;k+="-";for(m=0;2>m;m++)k+=1===(w=c.getUint8(b+m).toString(16)).length?"0"+w:w;b+=2;k+="-";for(m=0;6>m;m++)k+=1===(w=c.getUint8(b+m).toString(16)).length?"0"+w:w;b+=6;k=k.toLowerCase();c.getUint32(b);e[k]=c.buffer.slice(g,d)}b=d}return e}}]),k);g.default=e;m.exports=g.default},{}],166:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(b,d){for(var c=0;c<d.length;c++){var e=
d[c];if("function"==typeof b[e[Object.keys(e)[0]]])return e}return null}var d=void 0,c=this.context;return d={createProtectionSystem:function(e){var g=null,k=(0,f.default)(c).getInstance();k.setConfig({debug:e.debug,BASE64:e.BASE64});k.initialize();var m,q,v,z,y,B=(m=(B=e).debug,q=m.getLogger(d),v=B.eventBus,z=B.errHandler,(y=B.videoModel?B.videoModel.getElement():null)&&void 0===y.onencrypted||y&&void 0===y.mediaKeys?b(y,w)?(q.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,
p.default)(c).create({debug:m,eventBus:v,events:B.events,api:b(y,w)})):b(y,u)?(q.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,n.default)(c).create({debug:m,eventBus:v,errHandler:z,events:B.events,api:b(y,u)})):(q.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(q.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,l.default)(c).create({debug:m,eventBus:v,events:B.events})));return!g&&B&&
(g=(0,h.default)(c).create({protectionModel:B,protectionKeyController:k,eventBus:e.eventBus,debug:e.debug,events:e.events,BASE64:e.BASE64,constants:e.constants,cmcdModel:e.cmcdModel,settings:e.settings}),e.capabilities.setEncryptedMediaSupported(!0)),g}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(168)),f=c(e(169)),b=c(e(167)),d=c(e(174)),l=c(e(176)),p=c(e(177)),n=c(e(175)),u=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",
keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],w=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",
needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];k.__dashjs_factory_name="Protection";e=dashjs.FactoryMaker.getClassFactory(k);e.events=b.default;e.errors=d.default;dashjs.FactoryMaker.updateClassFactory(k.__dashjs_factory_name,e);g.default=e;m.exports=g.default},{167:167,168:168,169:169,174:174,175:175,176:176,177:177}],167:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;a:{var e=
Object.getPrototypeOf(c.prototype),h="constructor";var f=this;for(var b=!0;b;){null===e&&(e=Function.prototype);b=Object.getOwnPropertyDescriptor(e,h);if(void 0!==b){if("value"in b){f=b.value;break a}e=b.get;if(void 0===e)break;f=e.call(f);break a}e=Object.getPrototypeOf(e);if(null===e)break;b=!0}f=void 0}f.call(this);this.INTERNAL_KEY_MESSAGE="internalKeyMessage";this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected";this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged";this.KEY_ADDED=
"public_keyAdded";this.KEY_ERROR="public_keyError";this.KEY_MESSAGE="public_keyMessage";this.KEY_SESSION_CLOSED="public_keySessionClosed";this.KEY_SESSION_CREATED="public_keySessionCreated";this.KEY_SESSION_REMOVED="public_keySessionRemoved";this.KEY_STATUSES_CHANGED="public_keyStatusesChanged";this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete";this.KEY_SYSTEM_SELECTED="public_keySystemSelected";this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete";this.LICENSE_REQUEST_SENDING=
"public_licenseRequestSending";this.NEED_KEY="needkey";this.PROTECTION_CREATED="public_protectioncreated";this.PROTECTION_DESTROYED="public_protectiondestroyed";this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated";this.TEARDOWN_COMPLETE="protectionTeardownComplete";this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}Object.defineProperty(g,"__esModule",{value:!0});e=e(55);e=new (function(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(c,(e&&e.__esModule?e:{default:e})["default"]),c);g.default=e;m.exports=g.default},{55:55}],168:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(){if(!(L&&L.hasOwnProperty("on")&&K&&K.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw Error("Missing config parameter(s)");
}function g(b,c){var e=h.default.getPSSHForKeySystem(ha,b),f=A(ha);if(e){if(!k(e))try{H.createKeySession(e,f,D(ha),c)}catch(za){L.trigger(N.KEY_SESSION_CREATED,{data:null,error:new l.default(d.default.KEY_SESSION_CREATED_ERROR_CODE,d.default.KEY_SESSION_CREATED_ERROR_MESSAGE+za.message)})}}else b?H.createKeySession(b,f,D(ha),c):L.trigger(N.KEY_SESSION_CREATED,{data:null,error:new l.default(d.default.KEY_SESSION_CREATED_ERROR_CODE,d.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+
(ha?ha.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function k(b){if(b)try{for(var d=H.getAllInitData(),c=0;c<d.length;c++)if(K.initDataEquals(b,d[c]))return X.debug("DRM: Ignoring initData because we have already seen it!"),1}catch(R){}}function m(b,d){e();H.loadKeySession(b,d,D(ha))}function z(b){e();b?(H.setMediaElement(b),L.on(N.NEED_KEY,E,this)):null===b&&(H.setMediaElement(b),L.off(N.NEED_KEY,E,this))}function A(b){var d=null;return b&&
(b=b.systemString,W&&(d=b in W?W[b]:null)),d}function G(d){var c=A(d),e=[],h=[],g=c&&c.audioRobustness&&0<c.audioRobustness.length?c.audioRobustness:ta,k=c&&c.videoRobustness&&0<c.videoRobustness.length?c.videoRobustness:ta,l=D(d);d=c&&c.distinctiveIdentifier?c.distinctiveIdentifier:"optional";c=c&&c.persistentState?c.persistentState:"temporary"===l?"optional":"required";return la.forEach(function(b){b.type===aa.AUDIO?e.push(new f.default(b.codec,g)):b.type===aa.VIDEO&&h.push(new f.default(b.codec,
k))}),new b.default(e,h,d,c,[l])}function D(b){return(b=A(b))&&b.sessionType?b.sessionType:ua}function I(b,c){b=b.sort(function(d,c){return(W&&W[d.ks.systemString]&&0<=W[d.ks.systemString].priority?W[d.ks.systemString].priority:b.length)-(W&&W[c.ks.systemString]&&0<=W[c.ks.systemString].priority?W[c.ks.systemString].priority:b.length)});void 0===ha?function(b,c){function e(b){L.off(N.KEY_SYSTEM_ACCESS_COMPLETE,e,f);b.error?(ha=void 0,L.off(N.INTERNAL_KEY_SYSTEM_SELECTED,q,f),c||L.trigger(N.KEY_SYSTEM_SELECTED,
{data:null,error:new l.default(d.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,d.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+b.error)})):(n=b.data,X.info("DRM: KeySystem Access Granted ("+n.keySystem.systemString+")!  Selecting key system..."),H.selectKeySystem(n))}var f=this,h=[],k=void 0;ha=null;S.push(b);for(var p=0;p<b.length;p++)h.push({ks:b[p].ks,configs:[G(b[p].ks)]});var n=void 0,q=function ca(b){if(L.off(N.INTERNAL_KEY_SYSTEM_SELECTED,ca,f),L.off(N.KEY_SYSTEM_ACCESS_COMPLETE,e,f),b.error)ha=
void 0,c||L.trigger(N.KEY_SYSTEM_SELECTED,{data:null,error:new l.default(d.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,d.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+b.error)});else if(H){ha=H.getKeySystem();L.trigger(N.KEY_SYSTEM_SELECTED,{data:n});(b=A(ha))&&b.serverCertificate&&0<b.serverCertificate.length&&H.setServerCertificate(Q.decodeArray(b.serverCertificate).buffer);for(var h,p=0;p<S.length;p++)for(k=0;k<S[p].length;k++)if(ha===S[p][k].ks){K.isClearKey(ha)&&
b&&b.hasOwnProperty("clearkeys")&&(h={kids:Object.keys(b.clearkeys)},S[p][k].initData=(new TextEncoder).encode(JSON.stringify(h)));S[p][k].sessionId?m(S[p][k].sessionId,S[p][k].initData):null!==S[p][k].initData&&g(S[p][k].initData,S[p][k].cdmData);break}}};L.on(N.INTERNAL_KEY_SYSTEM_SELECTED,q,f);L.on(N.KEY_SYSTEM_ACCESS_COMPLETE,e,f);H.requestKeySystemAccess(h)}(b,c):ha?function(b,c){function e(h){L.off(N.KEY_SYSTEM_ACCESS_COMPLETE,e,f);h.error?c||L.trigger(N.KEY_SYSTEM_SELECTED,{error:new l.default(d.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,
d.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+h.error)}):(X.info("DRM: KeySystem Access Granted"),L.trigger(N.KEY_SYSTEM_SELECTED,{data:h.data}),h=A(ha),K.isClearKey(ha)&&h&&h.hasOwnProperty("clearkeys")&&(h={kids:Object.keys(h.clearkeys)},b[n].initData=(new TextEncoder).encode(JSON.stringify(h))),b[n].sessionId?m(b[n].sessionId,b[n].initData):b[n].initData&&g(b[n].initData,b[n].cdmData))}var f=this,p=[],n=b.findIndex(function(b){return b.ks===ha});-1!==n&&b[n].initData&&!k(h.default.getPSSHForKeySystem(ha,
b[n].initData))&&(p.push({ks:b[n].ks,configs:[G(ha)]}),L.on(N.KEY_SYSTEM_ACCESS_COMPLETE,e,f),H.requestKeySystemAccess(p))}(b,c):S.push(b)}function B(b,d){L.trigger(N.LICENSE_REQUEST_COMPLETE,{data:b,error:d})}function M(b){b.error?L.trigger(N.KEY_STATUSES_CHANGED,{data:null,error:b.error}):X.debug("DRM: key status \x3d "+b.status)}function C(b){X.debug("DRM: onKeyMessage");var c=b.data;L.trigger(N.KEY_MESSAGE,{data:c});var e=c.messageType?c.messageType:"license-request",f=c.message,g=c.sessionToken,
k=A(ha),m=ha?ha.systemString:null,q=K.getLicenseServer(ha,k,e),t={sessionToken:g,messageType:e};if(f&&0!==f.byteLength){if(!q)return X.debug("DRM: License server request not required for this message (type \x3d "+b.data.messageType+").  Session ID \x3d "+g.getSessionID()),void B(t);if(K.isClearKey(ha)){var z=K.processClearKeyLicenseRequest(ha,k,f);if(z)return X.debug("DRM: ClearKey license request handled by application!"),B(t),void H.updateKeySession(g,z)}var y,J,D,G,E,C,I,O,P;c=null;k&&k.serverURL?
"string"==typeof(z=k.serverURL)&&""!==z?c=z:"object"==typeof z&&z.hasOwnProperty(e)&&(c=z[e]):c=k&&k.laURL&&""!==k.laURL?k.laURL:K.isClearKey(ha)?ha.getLicenseServerUrlFromMediaInfo(la):(I=h.default.getPSSHData(g.initData),(c=ha.getLicenseServerURLFromInitData(I))||b.data.laURL);(c=q.getServerURLFromMessage(c,f,e))?(J=!(y={}),I=function(b){if(b)for(var d in b)"authorization"===d.toLowerCase()&&(J=!0),y[d]=b[d]},k&&I(k.httpRequestHeaders),I(ha.getRequestHeadersFromMessage(f)),k&&"boolean"==typeof k.withCredentials&&
(J=k.withCredentials),D=function(b,c,e,f){f=b.response?q.getErrorResponse(b.response,e,f):"NONE";B(c,new l.default(d.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,d.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+e+' update, XHR complete. status is "'+b.statusText+'" ('+b.status+"), readyState is "+b.readyState+".  Response is "+f))},G=function(b){var d;H&&(200===b.status?(d=new n.default(b.responseURL,w.default.parseHttpHeaders(b.getAllResponseHeaders?b.getAllResponseHeaders():null),b.response),
x(Da,d).then(function(){var c=q.getLicenseMessage(d.data,m,e);null!==c?(B(t),H.updateKeySession(g,c)):D(b,t,m,e)})):D(b,t,m,e))},E=function(b){B(t,new l.default(d.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,d.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+m+' update, XHR aborted. status is "'+b.statusText+'" ('+b.status+"), readyState is "+b.readyState))},C=function(b){B(t,new l.default(d.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,d.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+m+' update, XHR error. status is "'+
b.statusText+'" ('+b.status+"), readyState is "+b.readyState))},b=ha.getLicenseRequestFromMessage(f),I=q.getHTTPMethod(e),f=q.getResponseType(m,e),O=k&&!isNaN(k.httpTimeout)?k.httpTimeout:8E3,k=g.getSessionID()||null,P=new p.default(c,I,f,y,J,e,k,b),x(pa,P).then(function(){!function xa(b,d,c,e,f,h){var g=new XMLHttpRequest,k;F.get().streaming.cmcd&&F.get().streaming.cmcd.enabled&&((p=F.get().streaming.cmcd.mode)!==v.default.CMCD_MODE_QUERY||(k=da.getQueryParameter({url:b.url,type:u.HTTPRequest.LICENSE}))&&
(b.url=w.default.addAditionalQueryParameterToUrl(b.url,[k])));g.open(b.method,b.url,!0);g.responseType=b.responseType;g.withCredentials=b.withCredentials;0<c&&(g.timeout=c);for(var l in b.headers)g.setRequestHeader(l,b.headers[l]);if(F.get().streaming.cmcd&&F.get().streaming.cmcd.enabled){var p=F.get().streaming.cmcd.mode;if(p===v.default.CMCD_MODE_HEADER&&(k=da.getHeaderParameters({url:b.url,type:u.HTTPRequest.LICENSE})))for(var n in k)(l=k[n])&&g.setRequestHeader(n,l)}var m=function(){d--;setTimeout(function(){xa(b,
d,c,e,f,h)},1E3)};g.onload=function(){200===this.status||0>=d?e(this):(X.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+d),m())};g.ontimeout=g.onerror=function(){0>=d?h(this):(X.warn("License request network request failed . Retrying it... Pending retries: "+d),m())};g.onabort=function(){f(this)};L.trigger(N.LICENSE_REQUEST_SENDING,{url:b.url,headers:b.headers,payload:b.data,sessionId:b.sessionId});g.send(b.data)}(P,3,O,G,E,C)})):B(t,new l.default(d.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,
d.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}else B(t,new l.default(d.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,d.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function E(b,d){if(X.debug("DRM: onNeedKey"),"cenc"===b.key.initDataType)if(0===la.length&&(X.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),5>(d=void 0===d?1:d+1)))U.push(setTimeout(function(){E(b,d)},500));else{var c=b.key.initData;if(ArrayBuffer.isView(c)&&(c=c.buffer),
ha){var e=h.default.getPSSHForKeySystem(ha,c);if(e&&k(e))return}X.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(c)));c=K.getSupportedKeySystems(c,W);0!==c.length?I(c,!1):X.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else X.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+b.key.initDataType)}function x(b,d){return b?b.reduce(function(b,c){return b.then(function(){return c(d)})},Promise.resolve()):
Promise.resolve()}var P,K=(c=c||{}).protectionKeyController,H=c.protectionModel,L=c.eventBus,N=c.events,Z=c.debug,Q=c.BASE64,aa=c.constants,U=[],da=c.cmcdModel,F=c.settings,X=void 0,S=void 0,la=void 0,W=void 0,ua=void 0,ta=void 0,ha=void 0,pa=void 0,Da=void 0;return P={initializeForMedia:function(b){if(!b)throw Error("mediaInfo can not be null or undefined");e();L.on(N.INTERNAL_KEY_MESSAGE,C,this);L.on(N.INTERNAL_KEY_STATUS_CHANGED,M,this);la.push(b);(b=K.getSupportedKeySystemsFromContentProtection(b.contentProtection))&&
0<b.length&&I(b,!0)},clearMediaInfoArrayByStreamId:function(b){la=la.filter(function(d){return d.streamInfo.id!==b})},createKeySession:g,loadKeySession:m,removeKeySession:function(b){e();H.removeKeySession(b)},closeKeySession:function(b){e();H.closeKeySession(b)},setServerCertificate:function(b){e();H.setServerCertificate(b)},setMediaElement:z,setSessionType:function(b){ua=b},setRobustnessLevel:function(b){ta=b},setProtectionData:function(b){W=b;K.setProtectionData(b)},getSupportedKeySystemsFromContentProtection:function(b){return e(),
K.getSupportedKeySystemsFromContentProtection(b)},getKeySystems:function(){return K?K.getKeySystems():[]},setKeySystems:function(b){K&&K.setKeySystems(b)},setLicenseRequestFilters:function(b){pa=b},setLicenseResponseFilters:function(b){Da=b},stop:function(){H&&H.stop()},reset:function(){e();pa=[];Da=[];L.off(N.INTERNAL_KEY_MESSAGE,C,this);L.off(N.INTERNAL_KEY_STATUS_CHANGED,M,this);z(null);ha=void 0;H&&(H.reset(),H=null);U.forEach(function(b){return clearTimeout(b)});U=[];la=[]}},X=Z.getLogger(P),
S=[],la=[],ua="temporary",ta="",pa=[],Da=[],P}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(165)),f=c(e(189)),b=c(e(186)),d=c(e(174)),l=c(e(239)),p=c(e(187)),n=c(e(188)),u=e(255),w=c(e(49)),v=c(e(112));k.__dashjs_factory_name="ProtectionController";g.default=dashjs.FactoryMaker.getClassFactory(k);m.exports=g.default},{112:112,165:165,174:174,186:186,187:187,188:188,189:189,239:239,255:255,49:49}],169:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){var c=
this.context,e=void 0,g=void 0,k=void 0,m=void 0,O=void 0,A=void 0,G=void 0;return e={initialize:function(){m=[];var e=(0,l.default)(c).getInstance({BASE64:O});m.push(e);e=(0,d.default)(c).getInstance({BASE64:O});m.push(e);e=(0,f.default)(c).getInstance({BASE64:O});m.push(e);A=e;e=(0,b.default)(c).getInstance({BASE64:O,debug:g});m.push(e);G=e},setProtectionData:function(b){for(var d,c=0;c<m.length;c++){var e=m[c];e.hasOwnProperty("init")&&e.init((d=e.systemString,e=null,b&&(e=d in b?b[d]:null),e))}},
isClearKey:function(b){return b===A||b===G},initDataEquals:function(b,d){if(b.byteLength!==d.byteLength)return!1;b=new Uint8Array(b);d=new Uint8Array(d);for(var c=0;c<b.length;c++)if(b[c]!==d[c])return!1;return!0},getKeySystems:function(){return m},setKeySystems:function(b){m=b},getKeySystemBySystemString:function(b){for(var d=0;d<m.length;d++)if(m[d].systemString===b)return m[d];return null},getSupportedKeySystemsFromContentProtection:function(b){var d=void 0,c,e,f=[];if(b){var g,k=h.default.findCencContentProtection(b);
for(c=0;c<m.length;++c){var l=m[c];for(e=0;e<b.length;++e)(d=b[e]).schemeIdUri.toLowerCase()===l.schemeIdURI&&(g=l.getInitData(d,k),f.push({ks:m[c],initData:g,cdmData:l.getCDMData(),sessionId:l.getSessionId(d)}))}}return f},getSupportedKeySystems:function(b,d){for(var c=[],e=h.default.parsePSSHList(b),f,g=0;g<m.length;++g)b=(f=m[g]).systemString,b=!d||b in d,f.uuid in e&&b&&c.push({ks:f,initData:e[f.uuid],cdmData:f.getCDMData(),sessionId:f.getSessionId()});return c},getLicenseServer:function(b,d,
e){return"license-release"===e||"individualization-request"===e?null:(e=null,d&&d.hasOwnProperty("drmtoday")?e=(0,p.default)(c).getInstance({BASE64:O}):b.systemString===v.default.WIDEVINE_KEYSTEM_STRING?e=(0,u.default)(c).getInstance():b.systemString===v.default.PLAYREADY_KEYSTEM_STRING?e=(0,n.default)(c).getInstance():b.systemString===v.default.CLEARKEY_KEYSTEM_STRING&&(e=(0,w.default)(c).getInstance()),e)},processClearKeyLicenseRequest:function(b,d,c){try{return b.getClearKeysFromProtectionData(d,
c)}catch(M){return k.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(b){b&&(b.debug&&(g=b.debug,k=g.getLogger(e)),b.BASE64&&(O=b.BASE64))}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(165)),f=c(e(170)),b=c(e(172)),d=c(e(173)),l=c(e(171)),p=c(e(179)),n=c(e(180)),u=c(e(181)),w=c(e(178)),v=c(e(114));k.__dashjs_factory_name="ProtectionKeyController";g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=g.default},{114:114,165:165,170:170,171:171,
172:172,173:173,178:178,179:179,180:180,181:181}],170:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){var e=(c=c||{}).BASE64,g=["Laurl","laurl"],k=["clearkey","dashif"];return{uuid:"e2719d58-a985-b3c9-781a-b030af78d30e",schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:d,getInitData:function(d,c){try{var f,g=b.default.parseInitDataFromContentProtection(d,e);return!g&&c&&(f={kids:[function(b){try{var d=b.replace(/-/g,"");return(d=btoa(d.match(/\w{2}/g).map(function(b){return String.fromCharCode(parseInt(b,
16))}).join(""))).replace(/=/g,"")}catch(J){return null}}(c["cenc:default_KID"])]},g=(new TextEncoder).encode(JSON.stringify(f))),g}catch(q){return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(b){return JSON.parse(String.fromCharCode.apply(null,new Uint8Array(b)))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getLicenseServerUrlFromMediaInfo:function(b){try{if(!b||
0===b.length)return null;for(var d=0,c=null;d<b.length&&!c;){var e=b[d];if(e&&e.contentProtection&&0<e.contentProtection.length){var f=e.contentProtection.filter(function(b){return b.schemeIdUri&&"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===b.schemeIdUri});if(f&&0<f.length)for(var h=0;h<f.length&&!c;){for(var l=f[h],p=0;p<g.length&&!c;){for(var n=0,m=g[p];n<k.length&&!c;){var u=k[n];l[m]&&l[m].__prefix&&l[m].__prefix===u&&l[m].__text&&(c=l[m].__text);n+=1}p+=1}h+=1}}d+=1}return c}catch(I){return null}},
getClearKeysFromProtectionData:function(b,d){var c=null;if(b){d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));c=[];for(var e=0;e<d.kids.length;e++){var g=d.kids[e],k=b.clearkeys&&b.clearkeys.hasOwnProperty(g)?b.clearkeys[g]:null;if(!k)throw Error("DRM: ClearKey keyID ("+g+") is not known!");c.push(new h.default(g,k))}c=new f.default(c)}return c}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(184)),f=c(e(182)),b=c(e(165));e=c(e(114));var d=e.default.CLEARKEY_KEYSTEM_STRING;
k.__dashjs_factory_name="KeySystemClearKey";g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=g.default},{114:114,165:165,182:182,184:184}],171:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(){if(!g||!g.hasOwnProperty("decodeArray")||!g.hasOwnProperty("decodeArray"))throw Error("Missing config parameter(s)");}var e="utf-16",g=(d=d||{}).BASE64;return{uuid:"9a04f079-9840-4286-ab92-e65be0885f95",schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",
systemString:f,getInitData:function(b){var d,e,f=new Uint8Array([112,115,115,104,0,0,0,0]),k=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,p=void 0,n=void 0;if(c(),!b)return null;if("pssh"in b)return h.default.parseInitDataFromContentProtection(b,g);if("pro"in b)var m=g.decodeArray(b.pro.__text);else{if(!("prheader"in b))return null;m=g.decodeArray(b.prheader.__text)}return d=m.length,e=4+f.length+k.length+4+d,b=new ArrayBuffer(e),p=new Uint8Array(b),(n=new DataView(b)).setUint32(0,
e),l+=4,p.set(f,4),l+=f.length,p.set(k,l),l+=k.length,n.setUint32(l,d),l+=4,p.set(m,l),p.buffer},getRequestHeadersFromMessage:function(b){var d={};var c=new DOMParser;b=new ("utf-16"===e?Uint16Array:Uint8Array)(b);b=String.fromCharCode.apply(null,b);b=(c=c.parseFromString(b,"application/xml")).getElementsByTagName("name");c=c.getElementsByTagName("value");for(var f=0;f<b.length;f++)d[b[f].childNodes[0].nodeValue]=c[f].childNodes[0].nodeValue;return d.hasOwnProperty("Content")&&(d["Content-Type"]=
d.Content,delete d.Content),d.hasOwnProperty("Content-Type")||(d["Content-Type"]="text/xml; charset\x3dutf-8"),d},getLicenseRequestFromMessage:function(b){var d=null,f=new DOMParser,h=new ("utf-16"===e?Uint16Array:Uint8Array)(b);return c(),h=String.fromCharCode.apply(null,h),(h=f.parseFromString(h,"application/xml")).getElementsByTagName("PlayReadyKeyMessage")[0]?((h=h.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue)&&(d=g.decode(h)),d):b},getLicenseServerURLFromInitData:function(b){if(b)for(var d=
new DataView(b),c=d.getUint16(4,!0),e=6,f=new DOMParser,g=0;g<c;g++){var h=d.getUint16(e,!0);e+=2;var k=d.getUint16(e,!0);if(e+=2,1===h){k=b.slice(e,e+k);h=String.fromCharCode.apply(null,new Uint16Array(k));k=f.parseFromString(h,"application/xml");if(k.getElementsByTagName("LA_URL")[0]&&(h=k.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue))return h;if(k.getElementsByTagName("LUI_URL")[0]&&(k=k.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue))return k}else e+=k}return null},getCDMData:function(){var d;
if(c(),b&&b.cdmData){var e=[];for(d=0;d<b.cdmData.length;++d)e.push(b.cdmData.charCodeAt(d)),e.push(0);e=String.fromCharCode.apply(null,e);e=g.encode(e);e='\x3cPlayReadyCDMData type\x3d"LicenseAcquisition"\x3e\x3cLicenseAcquisition version\x3d"1.0" Proactive\x3d"false"\x3e\x3cCustomData encoding\x3d"base64encoded"\x3e%CUSTOMDATA%\x3c/CustomData\x3e\x3c/LicenseAcquisition\x3e\x3c/PlayReadyCDMData\x3e'.replace("%CUSTOMDATA%",e);var f=[];for(d=0;d<e.length;++d)f.push(e.charCodeAt(d)),f.push(0);return(new Uint8Array(f)).buffer}return null},
getSessionId:function(d){return b&&b.sessionId?b.sessionId:d&&d.sessionId?d.sessionId:null},setPlayReadyMessageFormat:function(b){if("utf-8"!==b&&"utf-16"!==b)throw Error('Specified message format is not one of "utf-8" or "utf-16"');e=b},init:function(d){d&&(b=d)}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(165));e=c(e(114));var f=e.default.PLAYREADY_KEYSTEM_STRING,b=void 0;k.__dashjs_factory_name="KeySystemPlayReady";g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=
g.default},{114:114,165:165}],172:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){var e=c.BASE64,g=c.debug.getLogger(void 0);return{uuid:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:d,getInitData:function(d){return b.default.parseInitDataFromContentProtection(d,e)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(b){return new Uint8Array(b)},getLicenseServerURLFromInitData:function(){return null},
getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(b,d){var c=null;if(b){d=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));c=[];for(var e=0;e<d.kids.length;e++){var k=d.kids[e],l=b.clearkeys&&b.clearkeys.hasOwnProperty(k)?b.clearkeys[k]:null;if(!l)throw Error("DRM: ClearKey keyID ("+k+") is not known!");c.push(new h.default(k,l))}c=new f.default(c);g.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return c}}}
Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(184)),f=c(e(182)),b=c(e(165));e=c(e(114));var d=e.default.CLEARKEY_KEYSTEM_STRING;k.__dashjs_factory_name="KeySystemW3CClearKey";g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=g.default},{114:114,165:165,182:182,184:184}],173:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){var d=null,c=(b=b||{}).BASE64;return{uuid:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",
systemString:f,init:function(b){b&&(d=b)},getInitData:function(b){return h.default.parseInitDataFromContentProtection(b,c)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(b){return new Uint8Array(b)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(b){return d&&d.sessionId?d.sessionId:b&&b.sessionId?b.sessionId:null}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(165));e=c(e(114));
var f=e.default.WIDEVINE_KEYSTEM_STRING;k.__dashjs_factory_name="KeySystemWidevine";g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=g.default},{114:114,165:165}],174:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;a:{var e=Object.getPrototypeOf(c.prototype),g="constructor";var f=this;for(var b=!0;b;){null===e&&(e=Function.prototype);b=Object.getOwnPropertyDescriptor(e,g);if(void 0!==b){if("value"in b){f=b.value;break a}e=
b.get;if(void 0===e)break;f=e.call(f);break a}e=Object.getPrototypeOf(e);if(null===e)break;b=!0}f=void 0}f.call(this);this.MEDIA_KEYERR_CODE=100;this.MEDIA_KEYERR_UNKNOWN_CODE=101;this.MEDIA_KEYERR_CLIENT_CODE=102;this.MEDIA_KEYERR_SERVICE_CODE=103;this.MEDIA_KEYERR_OUTPUT_CODE=104;this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105;this.MEDIA_KEYERR_DOMAIN_CODE=106;this.MEDIA_KEY_MESSAGE_ERROR_CODE=107;this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108;this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109;this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=
110;this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111;this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112;this.KEY_SESSION_CREATED_ERROR_CODE=113;this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114;this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.";this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.";this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.";
this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.";this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.";this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.";this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!";
this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM";this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ";this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired";this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!";this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ";this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --";
this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}Object.defineProperty(g,"__esModule",{value:!0});e=e(52);e=new (function(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(c,(e&&e.__esModule?e:{default:e})["default"]),c);g.default=
e;m.exports=g.default},{52:52}],175:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(){I&&m();for(var b=0;b<E.length;b++)g(E[b]);t.trigger(u.TEARDOWN_COMPLETE)}function g(b){try{I[A.cancelKeyRequest](B.systemString,b.sessionID)}catch(H){t.trigger(u.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+b.sessionID+") "+H.message})}}function k(b,d){if(d&&b)for(var c=b.length,e=0;e<c;e++)if(b[e].sessionID==d)return b[e];return null}function m(){I.removeEventListener(A.keyerror,
P);I.removeEventListener(A.needkey,P);I.removeEventListener(A.keymessage,P);I.removeEventListener(A.keyadded,P)}c=c||{};var q=this.context,t=c.eventBus,u=c.events,O=c.debug,A=c.api,G=c.errHandler,D=c=void 0,I=void 0,B=void 0,M=void 0,C=void 0,E=void 0,x=void 0,P=void 0;return c={getAllInitData:function(){for(var b=[],d=0;d<C.length;d++)b.push(C[d].initData);for(d=0;d<E.length;d++)b.push(E[d].initData);return b},requestKeySystemAccess:function(b){for(var d=(d=I)||document.createElement("video"),c=
!1,e=0;e<b.length;e++)for(var f=b[e].ks.systemString,g=b[e].configs,h=null,k=0;k<g.length;k++){var n=g[k].videoCapabilities;if(n&&0!==n.length){h=[];for(var m=0;m<n.length;m++)""!==d.canPlayType(n[m].contentType,f)&&h.push(n[m])}if(h&&(!h||0!==h.length)){c=!0;g=new l.default(null,h);f=M.getKeySystemBySystemString(f);t.trigger(u.KEY_SYSTEM_ACCESS_COMPLETE,{data:new p.default(f,g)});break}}c||t.trigger(u.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},
getKeySystem:function(){return B},selectKeySystem:function(b){B=b.keySystem;t.trigger(u.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(b){if(I!==b){if(I){m();for(var d=0;d<E.length;d++)g(E[d]);E=[]}(I=b)&&(I.addEventListener(A.keyerror,P),I.addEventListener(A.needkey,P),I.addEventListener(A.keymessage,P),I.addEventListener(A.keyadded,P),t.trigger(u.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(b){if(!B)throw Error("Can not create sessions until you have selected a key system");if(x||
0===E.length){var d={sessionID:null,initData:b,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return C.push(d),I[A.generateKeyRequest](B.systemString,new Uint8Array(b)),d}throw Error("Multiple sessions not allowed!");},updateKeySession:function(b,d){var c=b.sessionID;if(M.isClearKey(B))for(b=0;b<d.keyPairs.length;b++)I[A.addKey](B.systemString,d.keyPairs[b].key,d.keyPairs[b].keyID,c);else I[A.addKey](B.systemString,
new Uint8Array(d),new Uint8Array(b.initData),c)},closeKeySession:g,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:e,reset:e},D=O.getLogger(c),C=[],E=[],M=(B=I=null,h.default)(q).getInstance(),P={handleEvent:function(c){var e=null;switch(c.type){case A.needkey:var g=ArrayBuffer.isView(c.initData)?c.initData.buffer:c.initData;t.trigger(u.NEED_KEY,{key:new f.default(g,"cenc")});break;case A.keyerror:if(e=(e=k(E,c.sessionId))||k(C,c.sessionId)){g=n.default.MEDIA_KEYERR_CODE;
var h="";switch(c.errorCode.code){case 1:g=n.default.MEDIA_KEYERR_UNKNOWN_CODE;h+="MEDIA_KEYERR_UNKNOWN - "+n.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:g=n.default.MEDIA_KEYERR_CLIENT_CODE;h+="MEDIA_KEYERR_CLIENT - "+n.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:g=n.default.MEDIA_KEYERR_SERVICE_CODE;h+="MEDIA_KEYERR_SERVICE - "+n.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:g=n.default.MEDIA_KEYERR_OUTPUT_CODE;h+="MEDIA_KEYERR_OUTPUT - "+n.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;
case 5:g=n.default.MEDIA_KEYERR_HARDWARECHANGE_CODE;h+="MEDIA_KEYERR_HARDWARECHANGE - "+n.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:g=n.default.MEDIA_KEYERR_DOMAIN_CODE,h+="MEDIA_KEYERR_DOMAIN - "+n.default.MEDIA_KEYERR_DOMAIN_MESSAGE}h+="  System Code \x3d "+c.systemCode;t.trigger(u.KEY_ERROR,{data:new b.default(g,h,e)})}else D.error("No session token found for key error");break;case A.keyadded:(e=(e=k(E,c.sessionId))||k(C,c.sessionId))?(D.debug("DRM: Key added."),t.trigger(u.KEY_ADDED,
{data:e})):D.debug("No session token found for key added");break;case A.keymessage:(x=null!==c.sessionId&&void 0!==c.sessionId)?!(e=k(E,c.sessionId))&&0<C.length&&(e=C.shift(),E.push(e),e.sessionID=c.sessionId,t.trigger(u.KEY_SESSION_CREATED,{data:e})):0<C.length&&(e=C.shift(),E.push(e),0!==C.length&&G.error(new b.default(n.default.MEDIA_KEY_MESSAGE_ERROR_CODE,n.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),e?(h=ArrayBuffer.isView(c.message)?c.message.buffer:c.message,e.keyMessage=h,t.trigger(u.INTERNAL_KEY_MESSAGE,
{data:new d.default(e,h,c.defaultURL)})):D.warn("No session token found for key message")}}},c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(169)),f=c(e(190)),b=c(e(239)),d=c(e(183)),l=c(e(186)),p=c(e(185)),n=c(e(174));k.__dashjs_factory_name="ProtectionModel_01b";g.default=dashjs.FactoryMaker.getClassFactory(k);m.exports=g.default},{169:169,174:174,183:183,185:185,186:186,190:190,239:239}],176:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(b){var d=
b.session;return d.removeEventListener("keystatuseschange",b),d.removeEventListener("message",b),d.close()}function g(b){for(var d=0;d<B.length;d++)if(B[d]===b){B.splice(d,1);break}}function k(b){var d=void 0,c=void 0;return b&&0<b.length&&(b[0]&&("string"==typeof b[0]?d=b[0]:c=b[0]),b[1]&&("string"==typeof b[1]?d=b[1]:c=b[1])),{status:d,keyId:c}}function m(c,e,f,h){var n={session:c,initData:e,sessionId:h,handleEvent:function(c){switch(c.type){case "keystatuseschange":t.trigger(u.KEY_STATUSES_CHANGED,
{data:this});c.target.keyStatuses.forEach(function(){var c=k(arguments);"expired"===c.status?t.trigger(u.INTERNAL_KEY_STATUS_CHANGED,{error:new d.default(b.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,b.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):t.trigger(u.INTERNAL_KEY_STATUS_CHANGED,c)});break;case "message":var e=ArrayBuffer.isView(c.message)?c.message.buffer:c.message;t.trigger(u.INTERNAL_KEY_MESSAGE,{data:new l.default(this,e,void 0,c.messageType)})}},getSessionID:function(){return c.sessionId},
getExpirationTime:function(){return c.expiration},getKeyStatuses:function(){return c.keyStatuses},getUsable:function(){var b=!1;return c.keyStatuses.forEach(function(){"usable"===k(arguments).status&&(b=!0)}),b},getSessionType:function(){return f}};return c.addEventListener("keystatuseschange",n),c.addEventListener("message",n),c.closed.then(function(){g(n);A.debug("DRM: Session closed.  SessionID \x3d "+n.getSessionID());t.trigger(u.KEY_SESSION_CLOSED,{data:n.getSessionID()})}),B.push(n),n}c=c||
{};var q=this.context,t=c.eventBus,u=c.events;c=c.debug;var O=void 0,A=void 0,G=void 0,D=void 0,I=void 0,B=void 0,M=void 0,C=void 0;return O={getAllInitData:function(){for(var b=[],d=0;d<B.length;d++)B[d].initData&&b.push(B[d].initData);return b},requestKeySystemAccess:function(b){!function H(b,d){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess)return void t.trigger(u.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"});
!function(d){var c=b[d].ks,e=b[d].configs,f=c.systemString;f===n.default.PLAYREADY_KEYSTEM_STRING&&"required"===e[0].persistentState&&(f+=".recommendation");navigator.requestMediaKeySystemAccess(f,e).then(function(b){var d="function"==typeof b.getConfiguration?b.getConfiguration():null;d=new p.default(c,d);d.mksa=b;t.trigger(u.KEY_SYSTEM_ACCESS_COMPLETE,{data:d})}).catch(function(c){++d<b.length?H(b,d):t.trigger(u.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+c.message})})}(d)}(b,
0)},getKeySystem:function(){return G},selectKeySystem:function(b){b.mksa.createMediaKeys().then(function(d){G=b.keySystem;I=d;D?D.setMediaKeys(I).then(function(){t.trigger(u.INTERNAL_KEY_SYSTEM_SELECTED)}):t.trigger(u.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){t.trigger(u.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+b.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})},setMediaElement:function(b){D!==b&&(D&&(D.removeEventListener("encrypted",M),D.setMediaKeys&&
D.setMediaKeys(null)),(D=b)&&(D.addEventListener("encrypted",M),D.setMediaKeys&&I&&D.setMediaKeys(I)))},setServerCertificate:function(c){if(!G||!I)throw Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(c).then(function(){A.info("DRM: License server certificate successfully updated.");t.trigger(u.SERVER_CERTIFICATE_UPDATED)}).catch(function(c){t.trigger(u.SERVER_CERTIFICATE_UPDATED,{error:new d.default(b.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,
b.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+c.name)})})},createKeySession:function(c,e,f){if(!G||!I)throw Error("Can not create sessions until you have selected a key system");var h=I.createSession(f),k=m(h,c,f);e=this.getKeySystem().systemString===n.default.CLEARKEY_KEYSTEM_STRING&&(c||e&&e.clearkeys)?"keyids":"cenc";h.generateRequest(e,c).then(function(){A.debug("DRM: Session created.  SessionID \x3d "+k.getSessionID());t.trigger(u.KEY_SESSION_CREATED,{data:k})}).catch(function(c){g(k);t.trigger(u.KEY_SESSION_CREATED,
{data:null,error:new d.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+c.name)})})},updateKeySession:function(c,e){var f=c.session;C.isClearKey(G)&&(e=e.toJWK());f.update(e).catch(function(e){t.trigger(u.KEY_ERROR,{data:new d.default(b.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+e.name,c)})})},loadKeySession:function(c,e,f){if(!G||!I)throw Error("Can not load sessions until you have selected a key system");
for(var h=0;h<B.length;h++)if(c===B[h].sessionId)return void A.warn("DRM: Ignoring session ID because we have already seen it!");h=I.createSession(f);var k=m(h,e,f,c);h.load(c).then(function(e){e?(A.debug("DRM: Session loaded.  SessionID \x3d "+k.getSessionID()),t.trigger(u.KEY_SESSION_CREATED,{data:k})):(g(k),t.trigger(u.KEY_SESSION_CREATED,{data:null,error:new d.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+
c+")")}))}).catch(function(e){g(k);t.trigger(u.KEY_SESSION_CREATED,{data:null,error:new d.default(b.default.KEY_SESSION_CREATED_ERROR_CODE,b.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+c+")! "+e.name)})})},removeKeySession:function(b){b.session.remove().then(function(){A.debug("DRM: Session removed.  SessionID \x3d "+b.getSessionID());t.trigger(u.KEY_SESSION_REMOVED,{data:b.getSessionID()})},function(d){t.trigger(u.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+
b.getSessionID()+"). "+d.name})})},closeKeySession:function(b){e(b).catch(function(d){g(b);t.trigger(u.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+b.getSessionID()+") "+d.name})})},stop:function(){for(var b=void 0,d=0;d<B.length;d++)(b=B[d]).getUsable()||e(b).catch(function(){g(b)})},reset:function(){var b=B.length,d=void 0;0!==b?function(){for(var c=function(b){g(b);0===B.length&&(D?(D.removeEventListener("encrypted",M),D.setMediaKeys(null).then(function(){t.trigger(u.TEARDOWN_COMPLETE)})):
t.trigger(u.TEARDOWN_COMPLETE))},f=0;f<b;f++)!function(b){d.session.closed.then(function(){c(b)});e(d).catch(function(){c(b)})}(d=B[f])}():t.trigger(u.TEARDOWN_COMPLETE)}},A=c.getLogger(O),B=[],C=(I=D=G=null,h.default)(q).getInstance(),M={handleEvent:function(b){var d;"encrypted"===b.type&&b.initData&&(d=ArrayBuffer.isView(b.initData)?b.initData.buffer:b.initData,t.trigger(u.NEED_KEY,{key:new f.default(d,b.initDataType)}))}},O}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(169)),f=c(e(190)),
b=c(e(174)),d=c(e(239)),l=c(e(183)),p=c(e(185)),n=c(e(114));k.__dashjs_factory_name="ProtectionModel_21Jan2015";g.default=dashjs.FactoryMaker.getClassFactory(k);m.exports=g.default},{114:114,169:169,174:174,183:183,185:185,190:190,239:239}],177:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(){try{for(var b=0;b<M.length;b++)g(M[b]);G&&G.removeEventListener(O.needkey,C);q.trigger(t.TEARDOWN_COMPLETE)}catch(P){q.trigger(t.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+
P.message})}}function g(b){var d=b.session;d.removeEventListener(O.error,b);d.removeEventListener(O.message,b);d.removeEventListener(O.ready,b);d.removeEventListener(O.close,b);for(var c=0;c<M.length;c++)if(M[c]===b){M.splice(c,1);break}d[O.release]()}function k(){function b(){G.removeEventListener("loadedmetadata",d);G[O.setMediaKeys](I);q.trigger(t.VIDEO_ELEMENT_SELECTED)}var d=null;1<=G.readyState?b():(d=b.bind(this),G.addEventListener("loadedmetadata",d))}c=c||{};var m=this.context,q=c.eventBus,
t=c.events,u=c.debug,O=c.api,A=c=void 0,G=void 0,D=void 0,I=void 0,B=void 0,M=void 0,C=void 0,E=void 0;return c={getAllInitData:function(){for(var b=[],d=0;d<M.length;d++)b.push(M[d].initData);return b},requestKeySystemAccess:function(b){for(var d=!1,c=0;c<b.length;c++)for(var e=b[c].ks.systemString,f=b[c].configs,g=null,h=null,k=0;k<f.length;k++){var l=f[k].audioCapabilities,m=f[k].videoCapabilities;if(l&&0!==l.length){g=[];for(var u=0;u<l.length;u++)window[O.MediaKeys].isTypeSupported(e,l[u].contentType)&&
g.push(l[u])}if(m&&0!==m.length)for(h=[],l=0;l<m.length;l++)window[O.MediaKeys].isTypeSupported(e,m[l].contentType)&&h.push(m[l]);if(!(!g&&!h||g&&0===g.length||h&&0===h.length)){d=!0;f=new p.default(g,h);e=E.getKeySystemBySystemString(e);q.trigger(t.KEY_SYSTEM_ACCESS_COMPLETE,{data:new n.default(e,f)});break}}d||q.trigger(t.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return D},selectKeySystem:function(b){try{I=
b.mediaKeys=new window[O.MediaKeys](b.keySystem.systemString),D=b.keySystem,B=b,G&&k(),q.trigger(t.INTERNAL_KEY_SYSTEM_SELECTED)}catch(P){q.trigger(t.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+D.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(b){G!==b&&(G&&G.removeEventListener(O.needkey,C),(G=b)&&(G.addEventListener(O.needkey,C),I&&k()))},createKeySession:function(c,e,f,g){if(!D||!I||!B)throw Error("Can not create sessions until you have selected a key system");
e=null;if(B.ksConfiguration.videoCapabilities&&0<B.ksConfiguration.videoCapabilities.length&&(e=B.ksConfiguration.videoCapabilities[0]),null===e&&B.ksConfiguration.audioCapabilities&&0<B.ksConfiguration.audioCapabilities.length&&(e=B.ksConfiguration.audioCapabilities[0]),null===e)throw Error("Can not create sessions for unknown content types.");e=e.contentType;g=I.createSession(e,new Uint8Array(c),g?new Uint8Array(g):null);c={session:g,initData:c,getSessionID:function(){return this.session.sessionId},
getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(c){switch(c.type){case O.error:q.trigger(t.KEY_ERROR,{data:new b.default(d.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case O.message:var e=ArrayBuffer.isView(c.message)?c.message.buffer:c.message;q.trigger(t.INTERNAL_KEY_MESSAGE,{data:new l.default(this,e,c.destinationURL)});break;case O.ready:A.debug("DRM: Key added.");q.trigger(t.KEY_ADDED);break;case O.close:A.debug("DRM: Session closed.  SessionID \x3d "+
this.getSessionID()),q.trigger(t.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}};g.addEventListener(O.error,c);g.addEventListener(O.message,c);g.addEventListener(O.ready,c);g.addEventListener(O.close,c);M.push(c);A.debug("DRM: Session created.  SessionID \x3d "+c.getSessionID());q.trigger(t.KEY_SESSION_CREATED,{data:c})},updateKeySession:function(b,d){b=b.session;E.isClearKey(D)?b.update(new Uint8Array(d.toJWK())):b.update(new Uint8Array(d))},closeKeySession:g,setServerCertificate:function(){},
loadKeySession:function(){},removeKeySession:function(){},stop:e,reset:e},A=u.getLogger(c),M=[],E=(B=I=D=G=null,h.default)(m).getInstance(),C={handleEvent:function(b){b.type===O.needkey&&b.initData&&(b=ArrayBuffer.isView(b.initData)?b.initData.buffer:b.initData,q.trigger(t.NEED_KEY,{key:new f.default(b,"cenc")}))}},c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(169)),f=c(e(190)),b=c(e(239)),d=c(e(174)),l=c(e(183)),p=c(e(186)),n=c(e(185));k.__dashjs_factory_name="ProtectionModel_3Feb2014";
g.default=dashjs.FactoryMaker.getClassFactory(k);m.exports=g.default},{169:169,174:174,183:183,185:185,186:186,190:190,239:239}],178:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){return{getServerURLFromMessage:function(b){return b},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(b){if(!b.hasOwnProperty("keys"))return null;for(var d=[],c=0;c<b.keys.length;c++){var e=b.keys[c],g=e.kid.replace(/=/g,"");e=e.k.replace(/=/g,
"");d.push(new h.default(g,e))}return new f.default(d)},getErrorResponse:function(b){return String.fromCharCode.apply(null,new Uint8Array(b))}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(184)),f=c(e(182));k.__dashjs_factory_name="ClearKey";g.default=dashjs.FactoryMaker.getSingletonFactory(k);m.exports=g.default},{182:182,184:184}],179:[function(e,m,g){function c(c){var b=(c=c||{}).BASE64,d={};d[h.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(d){return b.decodeArray(d.license)},
getErrorResponse:function(b){return b}};d[h.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(b){return b},getErrorResponse:function(b){return String.fromCharCode.apply(null,new Uint8Array(b))}};return{getServerURLFromMessage:function(b){return b},getHTTPMethod:function(){return"POST"},getResponseType:function(b){return d[b].responseType},getLicenseMessage:function(c,e){if(!b||!b.hasOwnProperty("decodeArray"))throw Error("Missing config parameter(s)");return d[e].getLicenseMessage(c)},
getErrorResponse:function(b,c){return d[c].getErrorResponse(b)}}}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(114))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="DRMToday";g.default=dashjs.FactoryMaker.getSingletonFactory(c);m.exports=g.default},{114:114}],180:[function(e,m,g){function c(){function c(c){c=String.fromCharCode.apply(null,new Uint8Array(c));return decodeURIComponent(escape(c))}return{getServerURLFromMessage:function(c){return c},getHTTPMethod:function(){return"POST"},
getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){if(window.DOMParser){var f=c(e);(f=(f=(f=(new window.DOMParser).parseFromString(f,"text/xml"))?f.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Envelope")[0]:null)?f.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Body")[0]:null)&&f.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Fault")[0]&&(e=null)}return e},getErrorResponse:function(e){var f;a:{var b="",d=f=
"";if(window.DOMParser){b=c(e);var g=(new window.DOMParser).parseFromString(b,"text/xml"),h=g?g.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Envelope")[0]:null;e=(h=(g=(e=h?h.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Body")[0]:null)?e.getElementsByTagNameNS("http://schemas.xmlsoap.org/soap/envelope/","Fault")[0]:null)?g.getElementsByTagName("detail")[0]:null)?h.getElementsByTagName("Exception")[0]:null;h=null;if(null===g){f=b;break a}b=(h=g.getElementsByTagName("faultstring")[0].firstChild)?
h.nodeValue:null;null!==e&&(f=(h=e.getElementsByTagName("StatusCode")[0])?h.firstChild.nodeValue:null,e=(d=(h=e.getElementsByTagName("Message")[0])?h.firstChild.nodeValue:null)?d.lastIndexOf("[")+1:-1,h=d?d.indexOf("]"):-1,d=d?d.substring(e,h):"")}f=(b="code: "+f+", name: "+b,d&&(b+=", message: "+d),b)}return f}}}Object.defineProperty(g,"__esModule",{value:!0});c.__dashjs_factory_name="PlayReady";g.default=dashjs.FactoryMaker.getSingletonFactory(c);m.exports=g.default},{}],181:[function(e,m,g){function c(){return{getServerURLFromMessage:function(c){return c},
getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(c){return c},getErrorResponse:function(c){return String.fromCharCode.apply(null,new Uint8Array(c))}}}Object.defineProperty(g,"__esModule",{value:!0});c.__dashjs_factory_name="Widevine";g.default=dashjs.FactoryMaker.getSingletonFactory(c);m.exports=g.default},{}],182:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;
"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(c,e){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");if(!0,e&&"persistent"!==e&&"temporary"!==e)throw Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=c;this.type=e}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"toJWK",value:function(){var c,e=this.keyPairs.length,b={keys:[]};
for(c=0;c<e;c++)b.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[c].keyID,k:this.keyPairs[c].key});this.type&&(b.type=this.type);e=JSON.stringify(b);b=e.length;var d=new ArrayBuffer(b),g=new Uint8Array(d);for(c=0;c<b;c++)g[c]=e.charCodeAt(c);return d}}]),k);g.default=e;m.exports=g.default},{}],183:[function(e,m,g){function c(e,g,f,b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.sessionToken=e;this.message=g;this.defaultURL=f;this.messageType=b||"license-request"}
Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],184:[function(e,m,g){function c(e,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.keyID=e;this.key=g}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],185:[function(e,m,g){function c(e,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.keySystem=e;this.ksConfiguration=g}Object.defineProperty(g,
"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],186:[function(e,m,g){function c(e,g,f,b,d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.initDataTypes=["cenc"];e&&e.length&&(this.audioCapabilities=e);g&&g.length&&(this.videoCapabilities=g);this.distinctiveIdentifier=f;this.persistentState=b;this.sessionTypes=d}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],187:[function(e,m,g){function c(e,g,f,b,d,l,p,
n){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.url=e;this.method=g;this.responseType=f;this.headers=b;this.withCredentials=d;this.messageType=l;this.sessionId=p;this.data=n}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],188:[function(e,m,g){function c(e,g,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.url=e;this.headers=g;this.data=f}Object.defineProperty(g,"__esModule",
{value:!0});g.default=c;m.exports=g.default},{}],189:[function(e,m,g){function c(e,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.contentType=e;this.robustness=g}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],190:[function(e,m,g){function c(e,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.initData=e;this.initDataType=g}Object.defineProperty(g,"__esModule",{value:!0});g.default=
c;m.exports=g.default},{}],191:[function(e,m,g){function c(){var c=[],e=0,b=0;return{push:function(d,f){var g=f&&f.droppedVideoFrames?f.droppedVideoFrames:0,h=f&&f.totalVideoFrames?f.totalVideoFrames:0;f=g-e;e=g;g=h-b;b=h;isNaN(d)||(c[d]?(c[d].droppedVideoFrames+=f,c[d].totalVideoFrames+=g):c[d]={droppedVideoFrames:f,totalVideoFrames:g})},getFrameHistory:function(){return c},reset:function(d){c=[];e=d.droppedVideoFrames;b=d.totalVideoFrames}}}Object.defineProperty(g,"__esModule",{value:!0});var k;
e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="DroppedFramesHistory";e=e.default.getClassFactory(c);g.default=e;m.exports=g.default},{47:47}],192:[function(e,m,g){function c(c){function e(){return z?z.mediaInfo:null}var b=(c=c||{}).abrController,d=c.switchHistory,g=c.droppedFramesHistory,h=c.currentRequest,k=c.useBufferOccupancyABR,m=c.useL2AABR,w=c.useLoLPABR,v=c.streamProcessor?c.streamProcessor.getScheduleController():null,z=c.streamProcessor?c.streamProcessor.getRepresentationInfo():
null,y=c.videoModel?c.videoModel:null;return{getMediaType:function(){var b=e();return b?b.type:null},getMediaInfo:e,getDroppedFramesHistory:function(){return g},getCurrentRequest:function(){return h},getSwitchHistory:function(){return d},getStreamInfo:function(){var b=e();return b?b.streamInfo:null},getScheduleController:function(){return v},getAbrController:function(){return b},getRepresentationInfo:function(){return z},useBufferOccupancyABR:function(){return k},useL2AABR:function(){return m},useLoLPABR:function(){return w},
getVideoModel:function(){return y}}}Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="RulesContext";g.default=e.default.getClassFactory(c);m.exports=g.default},{47:47}],193:[function(e,m,g){function c(b,d,c){return{quality:void 0===b?-1:b,reason:void 0===d?null:d,priority:c!==f.DEFAULT&&c!==f.STRONG&&c!==f.WEAK?f.DEFAULT:c}}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(47))&&k.__esModule?k:{default:k},f={DEFAULT:.5,
STRONG:1,WEAK:0};c.__dashjs_factory_name="SwitchRequest";e=h.default.getClassFactory(c);e.NO_CHANGE=-1;e.PRIORITY=f;h.default.updateClassFactory(c.__dashjs_factory_name,e);g.default=e;m.exports=g.default},{47:47}],194:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){var b=[],d=[];return{push:function(c){c.newValue===f.default.NO_CHANGE&&(c.newValue=c.oldValue);b[c.oldValue]||(b[c.oldValue]={noDrops:0,drops:0,dropSize:0});var e=0>(h=c.newValue-c.oldValue)?1:0,g=e?-h:
0,h=e?0:1;b[c.oldValue].drops+=e;b[c.oldValue].dropSize+=g;b[c.oldValue].noDrops+=h;d.push({idx:c.oldValue,noDrop:h,drop:e,dropSize:g});8<d.length&&(g=d.shift(),b[g.idx].drops-=g.drop,b[g.idx].dropSize-=g.dropSize,b[g.idx].noDrops-=g.noDrop)},getSwitchRequests:function(){return b},reset:function(){b=[];d=[]}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(193));k.__dashjs_factory_name="SwitchRequestHistory";h=h.default.getClassFactory(k);g.default=h;m.exports=g.default},{193:193,
47:47}],195:[function(e,m,g){function c(c){return c&&c.__esModule?c:{default:c}}function k(c){function b(b,d,c,e){var f=Math.pow(.5,c/e.fast);b.fastEstimate=(1-f)*d+f*b.fastEstimate;e=Math.pow(.5,c/e.slow);b.slowEstimate=(1-e)*d+e*b.slowEstimate;b.totalWeight+=c}function d(b,d,c){return k.get().streaming.abr.movingAverageMethod!==h.default.MOVING_AVERAGE_SLIDING_WINDOW?function(b,d){var c=b?q.throughputHalfLife:q.latencyHalfLife,e=(b?z:y)[d];if(!e||0>=e.totalWeight)return NaN;d=e.fastEstimate/(1-
Math.pow(.5,e.totalWeight/c.fast));c=e.slowEstimate/(1-Math.pow(.5,e.totalWeight/c.slow));return b?Math.min(d,c):Math.max(d,c)}(b,d):function(b,d,c){c=function(b,d,c){var e=void 0;d=b?(e=m[d],c?3:4):(e=v[d],4);if(e)if(d>=e.length)d=e.length;else{if(b)for(b=1;b<d&&(c=e[e.length-b]/e[e.length-b-1],!(1.3<=c||c<=1/1.3)||(d+=1)!==e.length);++b);}else d=0;return d}(b,d,c);d=(b?m:v)[d];return 0!==c&&d&&0!==d.length?(d=d.slice(-c)).reduce(function(b,d){return b+d})/d.length:NaN}(b,d,c)}function e(b,c){return d(!0,
b,c)}function f(b){m[b]=m[b]||[];v[b]=v[b]||[];z[b]=z[b]||{fastEstimate:0,slowEstimate:0,totalWeight:0};y[b]=y[b]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function g(){m={};v={};z={};y={}}var k=(c=c||{}).settings,m=void 0,v=void 0,z=void 0,y=void 0,q=void 0;c={push:function(d,c,e){if(c.trace&&c.trace.length){var g=c.tresponse.getTime()-c.trequest.getTime()||1,l=c._tfinish.getTime()-c.tresponse.getTime()||1,n=c.trace.reduce(function(b,d){return b+d.b[0]},0),p=void 0;p=k.get().streaming.lowLatencyEnabled?
c.trace.reduce(function(b,d){return b+d.d},0):e?l:g+l;e=Math.round(8*n/p);if(f(d),n=l,(p=d)===h.default.VIDEO?n<k.get().streaming.cacheLoadThresholds[h.default.VIDEO]:p===h.default.AUDIO&&n<k.get().streaming.cacheLoadThresholds[h.default.AUDIO]){if(0<m[d].length&&!m[d].hasCachedEntries)return;m[d].hasCachedEntries=!0}else m[d]&&m[d].hasCachedEntries&&(delete m[n=d],delete v[n],delete z[n],delete y[n],f(n));m[d].push(e);20<m[d].length&&m[d].shift();v[d].push(g);20<v[d].length&&v[d].shift();b(z[d],
e,.001*l,q.throughputHalfLife);b(y[d],g,1,q.latencyHalfLife)}},getAverageThroughput:e,getSafeAverageThroughput:function(b,d){return d=e(b,d),isNaN(d)||(d*=k.get().streaming.abr.bandwidthSafetyFactor),d},getAverageLatency:function(b){return d(!1,b)},reset:g};return q={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},g(),c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112));e=c(e(47));k.__dashjs_factory_name="ThroughputHistory";g.default=e.default.getClassFactory(k);
m.exports=g.default},{112:112,47:47}],196:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(b){return b.filter(function(b){return b.quality>v.default.NO_CHANGE})}function g(b){var d,c,e={},f=null,g=void 0,h=void 0;if(0!==b.length){e[v.default.PRIORITY.STRONG]={quality:v.default.NO_CHANGE,reason:null};e[v.default.PRIORITY.WEAK]={quality:v.default.NO_CHANGE,reason:null};e[v.default.PRIORITY.DEFAULT]={quality:v.default.NO_CHANGE,reason:null};var l=0;for(d=b.length;l<
d;l+=1)(c=b[l]).quality!==v.default.NO_CHANGE&&(e[c.priority].quality===v.default.NO_CHANGE||e[c.priority].quality>c.quality)&&(e[c.priority].quality=c.quality,e[c.priority].reason=c.reason||null);return e[v.default.PRIORITY.WEAK].quality!==v.default.NO_CHANGE&&(f=e[v.default.PRIORITY.WEAK]),e[v.default.PRIORITY.DEFAULT].quality!==v.default.NO_CHANGE&&(f=e[v.default.PRIORITY.DEFAULT]),e[v.default.PRIORITY.STRONG].quality!==v.default.NO_CHANGE&&(f=e[v.default.PRIORITY.STRONG]),f&&(g=f.quality,h=f.reason),
(0,v.default)(k).create(g,h)}}c=c||{};var k=this.context,m=c.mediaPlayerModel,w=c.dashMetrics,y=c.settings,D=void 0,I=void 0;return{initialize:function(){D=[];I=[];y.get().streaming.abr.useDefaultABRRules&&(y.get().streaming.abr.ABRStrategy===z.default.ABR_STRATEGY_L2A?D.push((0,n.default)(k).create({dashMetrics:w,mediaPlayerModel:m,settings:y})):y.get().streaming.abr.ABRStrategy===z.default.ABR_STRATEGY_LoLP?D.push((0,u.default)(k).create({dashMetrics:w})):(D.push((0,p.default)(k).create({dashMetrics:w,
mediaPlayerModel:m,settings:y})),D.push((0,h.default)(k).create({dashMetrics:w})),D.push((0,f.default)(k).create({dashMetrics:w})),D.push((0,l.default)(k).create()),D.push((0,d.default)(k).create()),I.push((0,b.default)(k).create({dashMetrics:w,mediaPlayerModel:m,settings:y}))));m.getABRCustomRules().forEach(function(b){"qualitySwitchRules"===b.type&&D.push(b.rule(k).create());"abandonFragmentRules"===b.type&&I.push(b.rule(k).create())})},reset:function(){[D,I].forEach(function(b){b&&b.length&&b.forEach(function(b){return b.reset&&
b.reset()})});D=[];I=[]},getMaxQuality:function(b){return g(e(D.map(function(d){return d.getMaxIndex(b)})))||(0,v.default)(k).create()},getMinSwitchRequest:g,shouldAbandonFragment:function(b){return g(e(I.map(function(d){return d.shouldAbandon(b)})))||(0,v.default)(k).create()},getQualitySwitchRules:function(){return D}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(203)),f=c(e(200)),b=c(e(197)),d=c(e(199)),l=c(e(202)),p=c(e(198)),n=c(e(201)),u=c(e(206)),w=c(e(47)),v=c(e(193)),z=c(e(112));
k.__dashjs_factory_name="ABRRulesCollection";e=w.default.getClassFactory(k);e.QUALITY_SWITCH_RULES="qualitySwitchRules";e.ABANDON_FRAGMENT_RULES="abandonFragmentRules";w.default.updateSingletonFactory(k.__dashjs_factory_name,e);g.default=e;m.exports=g.default},{112:112,193:193,197:197,198:198,199:199,200:200,201:201,202:202,203:203,206:206,47:47}],197:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(){z={};y={};q=[]}d=d||{};var e=this.context,f=d.mediaPlayerModel,
g=d.dashMetrics,m=d.settings,v=d=void 0,z=void 0,y=void 0,q=void 0;return d={shouldAbandon:function(b){var d=(0,h.default)(e).create(h.default.NO_CHANGE,{name:k.__dashjs_factory_name});if(!(b&&b.hasOwnProperty("getMediaInfo")&&b.hasOwnProperty("getMediaType")&&b.hasOwnProperty("getCurrentRequest")&&b.hasOwnProperty("getRepresentationInfo")&&b.hasOwnProperty("getAbrController")))return d;var c=b.getMediaInfo(),l=b.getMediaType(),n=b.getCurrentRequest();if(!isNaN(n.index)){if(p=n.index,z[l]=z[l]||{},
z[l][p]=z[l][p]||{},f.getStableBufferTime()<g.getCurrentBufferLevel(l))return d;var p=z[l][n.index];if(null===p||null===n.firstByteDate||y.hasOwnProperty(p.id))return d;if(void 0===p.firstByteTime&&(q[l]=[],p.firstByteTime=n.firstByteDate.getTime(),p.segmentDuration=n.duration,p.bytesTotal=n.bytesTotal,p.id=n.index),p.bytesLoaded=n.bytesLoaded,p.elapsedTime=(new Date).getTime()-p.firstByteTime,0<p.bytesLoaded&&0<p.elapsedTime&&(t=l,u=Math.round(8*p.bytesLoaded/p.elapsedTime),q[t]=q[t]||[],q[t].push(u)),
5<=q[l].length&&500<p.elapsedTime&&p.bytesLoaded<p.bytesTotal){var t,u;n=q[l].reduce(function(b,d){return b+d},0);if(p.measuredBandwidthInKbps=Math.round(n/q[l].length),p.estimatedTimeOfDownload=+(8*p.bytesTotal/p.measuredBandwidthInKbps/1E3).toFixed(2),p.estimatedTimeOfDownload<1.8*p.segmentDuration||0===b.getRepresentationInfo().quality)return d;y.hasOwnProperty(p.id)||(t=b.getAbrController(),u=p.bytesTotal-p.bytesLoaded,n=t.getBitrateList(c),b=t.getQualityForBitrate(c,p.measuredBandwidthInKbps*
m.get().streaming.abr.bandwidthSafetyFactor),b=void 0!==(c=t.getMinAllowedIndexFor(l))?Math.max(c,b):b,p.bytesTotal*n[b].bitrate/n[t.getQualityFor(l)].bitrate<u&&(d.quality=b,d.reason.throughput=p.measuredBandwidthInKbps,d.reason.fragmentID=p.id,y[p.id]=p,v.debug("["+l+"] frag id",p.id," is asking to abandon and switch to quality to ",b," measured bandwidth was",p.measuredBandwidthInKbps),delete z[l][p.id]))}else p.bytesLoaded===p.bytesTotal&&delete z[l][p.id]}return d},reset:c},v=(0,b.default)(e).getInstance().getLogger(d),
c(),d}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(193)),f=c(e(47)),b=c(e(45));k.__dashjs_factory_name="AbandonRequestsRule";g.default=f.default.getClassFactory(k);m.exports=g.default},{193:193,45:45,47:47}],198:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function c(b,d,c){var e=c.reduce(function(b,d,e){return d>c[b]?e:b},0);if(0===e)return null;d=Math.max(b,10+2*d.length);d=(c[e]-1)/(d/10-1);return{gp:d,Vp:10/d}}function e(b){var d={},e=b.getMediaInfo().bitrateList.map(function(b){return b.bandwidth}),
f=(f=e.map(function(b){return Math.log(b)})).map(function(b){return b-f[0]+1}),h=C.getStableBufferTime();b=c(h,e,f);return b?(d.state=1,d.bitrates=e,d.utilities=f,d.stableBufferTime=h,d.Vp=b.Vp,d.gp=b.gp,d.lastQuality=0,g(d)):d.state=0,d}function g(b){b.placeholderBuffer=0;b.mostAdvancedSegmentStart=NaN;b.lastSegmentWasReplacement=!1;b.lastSegmentStart=NaN;b.lastSegmentDurationS=NaN;b.lastSegmentRequestTimeMs=NaN;b.lastSegmentFinishTimeMs=NaN}function k(b,d){var e,f,g=C.getStableBufferTime();b.stableBufferTime!==
g&&((e=c(g,b.bitrates,b.utilities)).Vp===b.Vp&&e.gp===b.gp||(d=(f=M.getCurrentBufferLevel(d))+b.placeholderBuffer,d-=10,d*=e.Vp/b.Vp,d+=10,b.stableBufferTime=g,b.Vp=e.Vp,b.gp=e.gp,b.placeholderBuffer=Math.max(0,d-f)))}function m(b,d){for(var c,e,f=b.bitrates[d],g=b.utilities[d],h=0,k=d-1;0<=k;--k)b.utilities[k]<b.utilities[d]&&(e=b.bitrates[k],c=b.utilities[k],e=b.Vp*(b.gp+(f*c-e*g)/(f-e)),h=Math.max(h,e));return h}function t(){for(var b in K)K.hasOwnProperty(b)&&2===K[b].state&&(K[b].placeholderBuffer=
0)}function u(){for(var b in K){var d;!K.hasOwnProperty(b)||0!==(d=K[b]).state&&(d.state=1,g(d))}}function O(b){var d,c;b&&b.chunk&&b.chunk.mediaInfo&&(d=K[b.chunk.mediaInfo.type])&&0!==d.state&&(c=b.chunk.start,isNaN(d.mostAdvancedSegmentStart)||c>d.mostAdvancedSegmentStart?(d.mostAdvancedSegmentStart=c,d.lastSegmentWasReplacement=!1):d.lastSegmentWasReplacement=!0,d.lastSegmentStart=c,d.lastSegmentDurationS=b.chunk.duration,d.lastQuality=b.chunk.quality,G(d,b.chunk.mediaInfo.type))}function A(b){var c;
b&&b.metric===h.default.HTTP_REQUEST&&b.value&&b.value.type===d.HTTPRequest.MEDIA_SEGMENT_TYPE&&b.value.trace&&b.value.trace.length&&(c=K[b.mediaType])&&0!==c.state&&(c.lastSegmentRequestTimeMs=b.value.trequest.getTime(),c.lastSegmentFinishTimeMs=b.value._tfinish.getTime(),G(c,b.mediaType))}function G(b,d){var c;isNaN(b.lastSegmentStart)||isNaN(b.lastSegmentRequestTimeMs)||isNaN(b.placeholderBuffer)||(b.placeholderBuffer*=.99,isNaN(b.lastSegmentFinishTimeMs)||(c=M.getCurrentBufferLevel(d)+.001*(b.lastSegmentFinishTimeMs-
b.lastSegmentRequestTimeMs),d=b.Vp*(b.utilities[b.lastQuality]+b.gp),c=Math.max(0,d-c),b.placeholderBuffer=Math.min(c,b.placeholderBuffer)),b.lastSegmentWasReplacement&&!isNaN(b.lastSegmentDurationS)&&(b.placeholderBuffer+=b.lastSegmentDurationS),b.lastSegmentStart=NaN,b.lastSegmentRequestTimeMs=NaN)}function D(b){var d;!b||(d=K[b.mediaType])&&0!==d.state&&(d.abrQuality=b.newQuality)}function I(b){var d,c;!b||(d=K[b.mediaType])&&0!==d.state&&(c=M.getCurrentBufferLevel(b.mediaType),b=0<d.abrQuality?
m(d,d.abrQuality):10,c=Math.max(0,b-c),d.placeholderBuffer=Math.min(d.placeholderBuffer,c))}b=b||{};var B=this.context,M=b.dashMetrics,C=b.mediaPlayerModel,E=(0,l.default)(B).getInstance(),x=void 0,P=void 0,K=void 0;x={getMaxIndex:function(b){var d=(0,f.default)(B).create();if(!(b&&b.hasOwnProperty("getMediaInfo")&&b.hasOwnProperty("getMediaType")&&b.hasOwnProperty("getScheduleController")&&b.hasOwnProperty("getStreamInfo")&&b.hasOwnProperty("getAbrController")&&b.hasOwnProperty("useBufferOccupancyABR")))return d;
var c=b.getMediaInfo(),h=b.getMediaType(),l=b.getScheduleController(),n=b.getStreamInfo(),p=b.getAbrController(),q=p.getThroughputHistory(),t=n?n.id:null,u=n&&n.manifestInfo&&n.manifestInfo.isDynamic,v=b.useBufferOccupancyABR();if(d.reason=d.reason||{},!v)return d;l.setTimeToLoadDelay(0);var w=(A=(x=b).getMediaType(),(y=K[A])?0!==y.state&&k(y,A):(y=e(x),K[A]=y),y);if(0===w.state)return d;var y,z;n=M.getCurrentBufferLevel(h);v=q.getAverageThroughput(h,u);b=q.getSafeAverageThroughput(h,u);var x=q.getAverageLatency(h),
A;if(d.reason.state=w.state,d.reason.throughput=v,d.reason.latency=x,isNaN(v))return d;switch(w.state){case 1:A=p.getQualityForBitrate(c,b,x);d.quality=A;d.reason.throughput=b;w.placeholderBuffer=Math.max(0,m(w,A)-n);w.lastQuality=A;!isNaN(w.lastSegmentDurationS)&&n>=w.lastSegmentDurationS&&(w.state=2);break;case 2:y=w;u=h;q=Date.now();isNaN(y.lastSegmentFinishTimeMs)?isNaN(y.lastCallTimeMs)||(z=.001*(q-y.lastCallTimeMs),y.placeholderBuffer+=Math.max(0,z)):(z=.001*(q-y.lastSegmentFinishTimeMs),y.placeholderBuffer+=
Math.max(0,z));y.lastCallTimeMs=q;y.lastSegmentStart=NaN;y.lastSegmentRequestTimeMs=NaN;y.lastSegmentFinishTimeMs=NaN;k(y,u);q=n+w.placeholderBuffer;u=w.bitrates.length;z=y=NaN;for(A=0;A<u;++A){var G=(w.Vp*(w.utilities[A]+w.gp)-q)/w.bitrates[A];(isNaN(z)||z<=G)&&(z=G,y=A)}A=y;u=p.getQualityForBitrate(c,b,x);A>w.lastQuality&&u<A&&(A=Math.max(u,w.lastQuality));u=Math.max(0,n+w.placeholderBuffer-w.Vp*(w.utilities[A]+w.gp));u<=w.placeholderBuffer?(w.placeholderBuffer-=u,u=0):(u-=w.placeholderBuffer,w.placeholderBuffer=
0,A<p.getTopQualityIndexFor(h,t)?l.setTimeToLoadDelay(1E3*u):u=0);d.quality=A;d.reason.throughput=v;d.reason.latency=x;d.reason.bufferLevel=n;d.reason.placeholderBuffer=w.placeholderBuffer;d.reason.delay=u;w.lastQuality=A;break;default:P.debug("BOLA ABR rule invoked in bad state."),d.quality=p.getQualityForBitrate(c,b,x),d.reason.state=w.state,d.reason.throughput=b,d.reason.latency=x,w.state=1,g(w)}return d},reset:function(){K={};E.off(p.default.BUFFER_EMPTY,t,x);E.off(p.default.PLAYBACK_SEEKING,
u,x);E.off(p.default.MEDIA_FRAGMENT_LOADED,O,x);E.off(p.default.METRIC_ADDED,A,x);E.off(p.default.QUALITY_CHANGE_REQUESTED,D,x);E.off(p.default.FRAGMENT_LOADING_ABANDONED,I,x)}};P=(0,n.default)(B).getInstance().getLogger(x);K={};return E.on(p.default.BUFFER_EMPTY,t,x),E.on(p.default.PLAYBACK_SEEKING,u,x),E.on(p.default.MEDIA_FRAGMENT_LOADED,O,x),E.on(p.default.METRIC_ADDED,A,x),E.on(p.default.QUALITY_CHANGE_REQUESTED,D,x),E.on(p.default.FRAGMENT_LOADING_ABANDONED,I,x),x}Object.defineProperty(g,"__esModule",
{value:!0});var h=c(e(113)),f=c(e(193)),b=c(e(47)),d=e(255),l=c(e(46)),p=c(e(54)),n=c(e(45));k.__dashjs_factory_name="BolaRule";g.default=b.default.getClassFactory(k);m.exports=g.default},{113:113,193:193,255:255,45:45,46:46,47:47,54:54}],199:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){var d=this.context,c=void 0,e=void 0;return c={getMaxIndex:function(b){var c=(0,f.default)(d).create();if(!b||!b.hasOwnProperty("getDroppedFramesHistory"))return c;if(b=b.getDroppedFramesHistory()){var g;
b=b.getFrameHistory();c=0;for(var h=f.default.NO_CHANGE,k=1;k<b.length;k++)if(b[k]&&(c=b[k].droppedVideoFrames,375<(g=b[k].totalVideoFrames)&&.15<c/g)){h=k-1;e.debug("index: "+h+" Dropped Frames: "+c+" Total Frames: "+g);break}return(0,f.default)(d).create(h,{droppedFrames:c})}return c}},e=(0,b.default)(d).getInstance().getLogger(c),c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(193)),b=c(e(45));k.__dashjs_factory_name="DroppedFramesRule";g.default=h.default.getClassFactory(k);
m.exports=g.default},{193:193,45:45,47:47}],200:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function c(){(A={})[p.default.VIDEO]={ignoreCount:2};A[p.default.AUDIO]={ignoreCount:2}}function e(){c()}function g(b){isNaN(b.startTime)||b.mediaType!==p.default.AUDIO&&b.mediaType!==p.default.VIDEO||0<A[b.mediaType].ignoreCount&&A[b.mediaType].ignoreCount--}b=b||{};var k=this.context,m=(0,h.default)(k).getInstance(),t=b.dashMetrics,u=void 0,O=void 0,A=void 0;return u=
{getMaxIndex:function(b){var d=(0,l.default)(k).create();if(!b||!b.hasOwnProperty("getMediaType"))return d;if(!t||!t.hasOwnProperty("getCurrentBufferLevel")||!t.hasOwnProperty("getCurrentBufferState"))throw Error(p.default.MISSING_CONFIG_ERROR);!0;var c,e,f,g=b.getMediaType(),h=t.getCurrentBufferState(g),m=b.getRepresentationInfo().fragmentDuration;return 0<A[g].ignoreCount||!m||(h&&h.state===n.default.BUFFER_EMPTY?(O.debug("["+g+"] Switch to index 0; buffer is empty."),d.quality=0,d.reason="InsufficientBufferRule: Buffer is empty"):
(c=b.getMediaInfo(),f=(e=b.getAbrController()).getThroughputHistory(),h=t.getCurrentBufferLevel(g),b=f.getAverageThroughput(g),g=f.getAverageLatency(g),m=h/m*b*.5,d.quality=e.getQualityForBitrate(c,m,g),d.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering")),d},reset:function(){c();m.off(f.default.PLAYBACK_SEEKING,e,u);m.off(f.default.BYTES_APPENDED_END_FRAGMENT,g,u)}},O=(0,d.default)(k).getInstance().getLogger(u),c(),m.on(f.default.PLAYBACK_SEEKING,e,u),m.on(f.default.BYTES_APPENDED_END_FRAGMENT,
g,u),u}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(46)),f=c(e(54)),b=c(e(47)),d=c(e(45)),l=c(e(193)),p=c(e(112)),n=c(e(113));k.__dashjs_factory_name="InsufficientBufferRule";g.default=b.default.getClassFactory(k);m.exports=g.default},{112:112,113:113,193:193,45:45,46:46,47:47,54:54}],201:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){function c(b){var d={},c=b.getMediaInfo();b=c.bitrateList.map(function(b){return b.bandwidth/1E3});return d.state=1,
d.bitrates=b,d.lastQuality=0,function(b){b&&b.type&&(C[b.type]={},C[b.type].w=[],C[b.type].prev_w=[],C[b.type].Q=0,C[b.type].segment_request_start_s=0,C[b.type].segment_download_finish_s=0,C[b.type].B_target=1.5)}(c),e(d),d}function e(b){b.placeholderBuffer=0;b.mostAdvancedSegmentStart=NaN;b.lastSegmentWasReplacement=!1;b.lastSegmentStart=NaN;b.lastSegmentDurationS=NaN;b.lastSegmentRequestTimeMs=NaN;b.lastSegmentFinishTimeMs=NaN}function g(){for(var b in M){var d;!M.hasOwnProperty(b)||0!==(d=M[b]).state&&
(d.state=1,e(d))}}function k(b){var d,c,e;b&&b.chunk&&b.chunk.mediaInfo&&(d=M[b.chunk.mediaInfo.type],c=C[b.chunk.mediaInfo.type],d&&0!==d.state&&(e=b.chunk.start,isNaN(d.mostAdvancedSegmentStart)||e>d.mostAdvancedSegmentStart?(d.mostAdvancedSegmentStart=e,d.lastSegmentWasReplacement=!1):d.lastSegmentWasReplacement=!0,d.lastSegmentStart=e,d.lastSegmentDurationS=b.chunk.duration,d.lastQuality=b.chunk.quality,w(d,c)))}function m(b){var c,e;b&&b.metric===h.default.HTTP_REQUEST&&b.value&&b.value.type===
d.HTTPRequest.MEDIA_SEGMENT_TYPE&&b.value.trace&&b.value.trace.length&&(c=M[b.mediaType],e=C[b.mediaType],c&&0!==c.state&&(c.lastSegmentRequestTimeMs=b.value.trequest.getTime(),c.lastSegmentFinishTimeMs=b.value._tfinish.getTime(),w(c,e)))}function w(b,d){isNaN(b.lastSegmentStart)||isNaN(b.lastSegmentRequestTimeMs)||(d.segment_request_start_s=.001*b.lastSegmentRequestTimeMs,d.segment_download_finish_s=.001*b.lastSegmentFinishTimeMs,b.lastSegmentStart=NaN,b.lastSegmentRequestTimeMs=NaN)}function O(b){var d;
b&&b.mediaType&&(d=M[b.mediaType])&&0!==d.state&&(d.abrQuality=b.newQuality)}function A(b,d){if(b.length!==d.length)return-1;for(var c=0,e=0;e<b.length;e++)c+=b[e]*d[e];return c}b=b||{};var G=this.context,D=b.dashMetrics,I=(0,l.default)(G).getInstance(),B=void 0,M=void 0,C=void 0,E=void 0;B={getMaxIndex:function(b){var d=(0,f.default)(G).create(),g=Math.pow(4,.99),h=Math.max(Math.pow(4,1),g*Math.sqrt(4)),k=b.getMediaInfo(),l=b.getMediaType(),n=k.bitrateList.map(function(b){return b.bandwidth}),p=
n.length,m=b.getScheduleController(),q=b.getStreamInfo(),t=b.getAbrController(),v=t.getThroughputHistory(),w=q&&q.manifestInfo&&q.manifestInfo.isDynamic,y=b.useL2AABR(),z=D.getCurrentBufferLevel(l,!0),x=v.getSafeAverageThroughput(l,w);q=v.getAverageThroughput(l,w);w=v.getAverageLatency(l);v=void 0;var B=b.getVideoModel().getPlaybackRate();if(!(b&&b.hasOwnProperty("getMediaInfo")&&b.hasOwnProperty("getMediaType")&&b.hasOwnProperty("getScheduleController")&&b.hasOwnProperty("getStreamInfo")&&b.hasOwnProperty("getAbrController")&&
b.hasOwnProperty("useL2AABR")&&(d.reason=d.reason||{},y&&l!==u.default.AUDIO)))return d;m.setTimeToLoadDelay(0);var J=(m=(y=b).getMediaType(),(b=M[m])||(b=c(y),M[m]=b),b);if(0===J.state)return d;m=C[l];if(!m||(d.reason.state=J.state,d.reason.throughput=q,d.reason.latency=w,isNaN(q)))return d;switch(J.state){case 1:if(v=t.getQualityForBitrate(k,x,w),d.quality=v,d.reason.throughput=x,J.lastQuality=v,!isNaN(J.lastSegmentDurationS)&&z>=m.B_target)for(J.state=2,m.Q=g,l=0;l<p;++l)l===J.lastQuality?m.prev_w[l]=
1:m.prev_w[l]=0;break;case 2:v=[];b=D.getCurrentHttpRequest(l).trace.reduce(function(b,d){return b+d.d},0);l=D.getCurrentHttpRequest(l).trace.reduce(function(b,d){return b+d.b[0]},0);b=Math.round(8*l/b);1>b&&(b=1);k=J.lastSegmentDurationS;t=1;for(l=0;l<p;++l)n[l]/=1E3,B*n[l]>b&&(t=-1),m.w[l]=m.prev_w[l]+k/(2*h)*t*(B*n[l]/b)*(m.Q+g);m.w=function(b){for(var d=b.length,c=!1,e=[],f=0;f<d;++f)e[f]=b[f];b=b.sort(function(b,d){return d-b});var g=0,h=0,k=[];for(f=0;f<d-1;++f)if((h=((g+=b[f])-1)/(f+1))>=b[f+
1]){c=!0;break}c||(h=(g+b[d-1]-1)/d);for(f=0;f<d;++f)k[f]=Math.max(e[f]-h,0);return k}(m.w);for(l=0;l<p;++l)v[l]=m.w[l]-m.prev_w[l],m.prev_w[l]=m.w[l];m.Q=Math.max(0,m.Q-k+k*B*((A(n,m.prev_w)+A(n,v))/b));h=[];for(l=0;l<p;++l)h[l]=Math.abs(n[l]-A(m.w,n));(v=h.indexOf(Math.min.apply(Math,h)))>J.lastQuality&&n[J.lastQuality+1]<=b&&(v=J.lastQuality+1);n[v]>=b&&(m.Q=2*Math.max(g,m.Q));d.quality=v;d.reason.throughput=q;d.reason.latency=w;d.reason.bufferLevel=z;J.lastQuality=d.quality;break;default:E.debug("L2A ABR rule invoked in bad state."),
d.quality=t.getQualityForBitrate(k,x,w),d.reason.state=J.state,d.reason.throughput=x,d.reason.latency=w,J.state=1,e(J)}return d},reset:function(){M={};C={};I.off(p.default.PLAYBACK_SEEKING,g,B);I.off(p.default.MEDIA_FRAGMENT_LOADED,k,B);I.off(p.default.METRIC_ADDED,m,B);I.off(p.default.QUALITY_CHANGE_REQUESTED,O,B)}};E=(0,n.default)(G).getInstance().getLogger(B);M={};C={};return I.on(p.default.PLAYBACK_SEEKING,g,B),I.on(p.default.MEDIA_FRAGMENT_LOADED,k,B),I.on(p.default.METRIC_ADDED,m,B),I.on(p.default.QUALITY_CHANGE_REQUESTED,
O,B),B}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(113)),f=c(e(193)),b=c(e(47)),d=e(255),l=c(e(46)),p=c(e(54)),n=c(e(45)),u=c(e(112));k.__dashjs_factory_name="L2ARule";g.default=b.default.getClassFactory(k);m.exports=g.default},{112:112,113:113,193:193,255:255,45:45,46:46,47:47,54:54}],202:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){var d=this.context,c=void 0,e=void 0;return c={getMaxIndex:function(c){for(var f=(c=c?c.getSwitchHistory():null)?c.getSwitchRequests():
[],g=c=0,h=0,k=(0,b.default)(d).create(),l=0;l<f.length;l++)if(void 0!==f[l]&&(c+=f[l].drops,g+=f[l].noDrops,h+=f[l].dropSize,6<=c+g&&.075<c/g)){k.quality=0<l&&0<f[l].drops?l-1:l;k.reason={index:k.quality,drops:c,noDrops:g,dropSize:h};e.debug("Switch history rule index: "+k.quality+" samples: "+(c+g)+" drops: "+c);break}return k}},e=(0,f.default)(d).getInstance().getLogger(c),c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45)),b=c(e(193));k.__dashjs_factory_name="SwitchHistoryRule";
g.default=h.default.getClassFactory(k);m.exports=g.default},{193:193,45:45,47:47}],203:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){c=c||{};var e=this.context,g=c.dashMetrics,h=c=void 0;return c={getMaxIndex:function(c){var f=(0,b.default)(e).create();if(!(c&&c.hasOwnProperty("getMediaInfo")&&c.hasOwnProperty("getMediaType")&&c.hasOwnProperty("useBufferOccupancyABR")&&c.hasOwnProperty("getAbrController")&&c.hasOwnProperty("getScheduleController")))return f;if(!g||
!g.hasOwnProperty("getCurrentBufferState"))throw Error(d.default.MISSING_CONFIG_ERROR);!0;var k=c.getMediaInfo(),m=c.getMediaType(),n=g.getCurrentBufferState(m),p=c.getScheduleController(),u=c.getAbrController(),v=(w=c.getStreamInfo())&&w.manifestInfo?w.manifestInfo.isDynamic:null,w=(D=u.getThroughputHistory()).getSafeAverageThroughput(m,v),D=D.getAverageLatency(m);c=c.useBufferOccupancyABR();return isNaN(w)||!n||c||u.getAbandonmentStateFor(m)!==l.default.ABANDON_LOAD&&(n.state!==l.default.BUFFER_LOADED&&
!v||(f.quality=u.getQualityForBitrate(k,w,D),p.setTimeToLoadDelay(0),h.debug("["+m+"] requesting switch to index: ",f.quality,"Average throughput",Math.round(w),"kbps"),f.reason={throughput:w,latency:D})),f},reset:function(){}},h=(0,f.default)(e).getInstance().getLogger(c),c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45)),b=c(e(193)),d=c(e(112)),l=c(e(113));k.__dashjs_factory_name="ThroughputRule";g.default=h.default.getClassFactory(k);m.exports=g.default},{112:112,113:113,
193:193,45:45,47:47}],204:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(){y=1;q=100;t=0;O=J=z=null;A="dynamic_weight_selection"}function d(){var b=0;if(z)for(var d=0;d<z.length;d++){var c=z[d];c.state.throughput>b&&(b=c.state.throughput)}return b}function c(b,d,c){b=b.map(function(b,e){return c[e]*Math.pow(b-d[e],2)}).reduce(function(b,d){return b+d});return(0>b?-1:1)*Math.sqrt(Math.abs(b))}function e(b,d,e){for(var f,g=0;g<d.length;g++){var h=d[g],k=
(f=b,c([(l=h).state.throughput,l.state.latency,l.state.rebuffer,l.state.switch],[f.state.throughput,f.state.latency,f.state.rebuffer,f.state.switch],[1,1,1,1])),l=Math.exp(-1*Math.pow(k,2)/(2*Math.pow(.1,2)));f=e;k=l;l=h.state;h=[.01,.01,.01,.01];l.throughput+=(f[0]-l.throughput)*h[0]*k;l.latency+=(f[1]-l.latency)*h[1]*k;l.rebuffer+=(f[2]-l.rebuffer)*h[2]*k;l.switch+=(f[3]-l.switch)*h[3]*k}}function g(b,d,c,e,f,g,h){J=J||O[O.length-1];h=b.findWeightVector(d,c,e,f,g,h);null!==h&&-1!==h&&(J=h)}var h=
this.context,k=void 0,m=void 0,z=void 0,y=void 0,q=void 0,t=void 0,J=void 0,O=void 0,A=void 0;return k={getNextQuality:function(b,f,h,k,l,n,p){var u=h,v=k;b=function(b){z||function(){z=[];var e=b.bitrateList,f=[];t=e[0].bandwidth;e.forEach(function(b){f.push(b.bandwidth);b.bandwidth<t&&(t=b.bandwidth)});var g=(g=f).map(function(b){return Math.pow(b,2)}).reduce(function(b,d){return b+d});y=Math.sqrt(g);for(g=0;g<e.length;g++){var h={qualityIndex:g,bitrate:e[g].bandwidth,state:{throughput:e[g].bandwidth/
y,latency:0,rebuffer:0,switch:0}};z.push(h);h.bitrate===t&&0}O=function(b){for(var e=[],f=Math.pow(b.length,2),g=[],h=0;h<f;h++){var k=[Math.random()*d(),Math.random(),Math.random(),Math.random()];g.push(k)}e.push(g[0]);f=[1,1,1,1];for(var l=1;l<b.length;l++){var m=null,n=null;for(h=0;h<g.length;h++){for(var p=g[h],q=null,t=0;t<e.length;t++)k=c(p,e[t],f),(null===q||k<q)&&(q=k);(null===n||n<q)&&(m=p,n=q)}e.push(m)}b=g=null;for(h=0;h<e.length;h++){for(t=k=0;t<e.length;t++)h!==t&&(k+=c(e[h],e[t],f));
(null===g||g<k)&&(g=k,b=h)}g=[];g.push(e[b]);for(e.splice(b,1);0<e.length;){b=q=null;for(h=0;h<e.length;h++)k=c(g[0],e[h],f),(null===q||k<q)&&(q=k,b=h);g.push(e[b]);e.splice(b,1)}return g}(z)}();return z}(b);var w=f/y;1<w&&(w=d());h/=q;m.debug("getNextQuality called throughput:"+w+" latency:"+h+" bufferSize:"+k+" currentQualityIndex:"+n+" playbackRate:"+l);var G=(k=b[n]).bitrate*p.getSegmentDuration()/f;n=Math.max(0,G-v);if(v-G<p.getMinBuffer())return m.debug("Buffer is low for bitrate\x3d "+k.bitrate+
" downloadTime\x3d"+G+" currentBuffer\x3d"+v+" rebuffer\x3d"+n),function(b,d){var c=0,e=b;if(z)for(var f=0;f<z.length;f++){var g=z[f];g.bitrate<b.bitrate&&g.bitrate>c&&d>g.bitrate&&(c=g.bitrate,e=g)}return e}(k,f).qualityIndex;switch(A){case "manual_weight_selection":J=[.4,.4,.4,.4];break;case "random_weight_selection":J=function(b,d){var c=[];b=Math.sqrt(2/b);for(var e=0;e<d;e++)c.push(Math.random()*b);return J=c}(b.length,4);break;case "dynamic_weight_selection":g(p,b,u,v,n,f,l);break;default:g(p,
b,u,v,n,f,l)}for(var B=u=null,D=null,C=0;C<b.length;C++){var I=b[C],E=I.state,M=[E.throughput,E.latency,E.rebuffer,E.switch],da=J.slice(),F=p.getNextBufferWithBitrate(I.bitrate,v,f);(E=F<p.getMinBuffer())&&m.debug("Buffer is low for bitrate\x3d"+I.bitrate+" downloadTime\x3d"+G+" currentBuffer\x3d"+v+" nextBuffer\x3d"+F);(I.bitrate>f-1E4||E)&&I.bitrate!==t&&(da[0]=100);M=c(M,[w,0,0,0],da);(null===u||M<u)&&(u=M,B=I.qualityIndex,D=I,0)}return l=Math.abs(k.bitrate-D.bitrate)/y,e(k,b,[w,h,n,l]),e(D,b,
[w,0,0,l]),B},reset:function(){b()}},m=(0,f.default)(h).getInstance().getLogger(k),b(),k}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45));k.__dashjs_factory_name="LearningAbrController";g.default=h.default.getClassFactory(k);m.exports=g.default},{45:45,47:47}],205:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(b,d,c,e){var g=new f.default;return g.type=b,g.weights.bitrateReward=d||1,g.weights.bitrateSwitchPenalty=1,g.weights.rebufferPenalty=
c||1E3,g.weights.latencyPenalty=[],g.weights.latencyPenalty.push({threshold:1.1,penalty:.05*e}),g.weights.latencyPenalty.push({threshold:1E8,penalty:.1*c}),g.weights.playbackSpeedPenalty=e||200,g}function d(b,d,c,e,f){f.bitrateWSum+=f.weights.bitrateReward*b;f.lastBitrate&&(f.bitrateSwitchWSum+=f.weights.bitrateSwitchPenalty*Math.abs(b-f.lastBitrate));f.lastBitrate=b;f.rebufferWSum+=f.weights.rebufferPenalty*d;for(b=0;b<f.weights.latencyPenalty.length;b++)if(d=f.weights.latencyPenalty[b],c<=d.threshold){f.latencyWSum+=
d.penalty*c;break}f.playbackSpeedWSum+=f.weights.playbackSpeedPenalty*Math.abs(1-e);f.totalQoe=f.bitrateWSum-f.bitrateSwitchWSum-f.rebufferWSum-f.latencyWSum-f.playbackSpeedWSum}var c=void 0,e=void 0,g=void 0,h=void 0;h=g=e=c=null;return{setupPerSegmentQoe:function(d,f,k){c=b("segment",d,f,k);e=d;g=f;h=k},logSegmentMetrics:function(b,e,f,g){c&&d(b,e,f,g,c)},getPerSegmentQoe:function(){return c},calculateSingleUseQoe:function(c,f,k,l){var m=null;return e&&g&&h&&(m=b("segment",e,g,h)),m?(d(c,f,k,l,
m),m.totalQoe):0},reset:function(){h=g=e=c=null}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(208));k.__dashjs_factory_name="LoLpQoeEvaluator";g.default=h.default.getClassFactory(k);m.exports=g.default},{208:208,47:47}],206:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){var e=(c=c||{}).dashMetrics,f=this.context,g=void 0,k=c=void 0,m=void 0;return c={getMaxIndex:function(b){try{var d=(0,l.default)(f).create(),c=b.getMediaInfo().type,h=b.getAbrController(),
q=b.getStreamInfo(),t=h.getQualityFor(c,q),v=b.getMediaInfo(),w=e.getCurrentBufferState(c),y=b.getScheduleController(),z=e.getCurrentBufferLevel(c,!0),x=q&&q.manifestInfo?q.manifestInfo.isDynamic:null,J=y.getPlaybackController(),K=J.getCurrentLiveLatency();if(!b.useLoLPABR()||c===u.default.AUDIO)return d;K=K||0;q=J.getPlaybackRate();J=h.getThroughputHistory().getSafeAverageThroughput(c,x);if((g.debug("Throughput "+Math.round(J)+" kbps"),isNaN(J)||!w)||h.getAbandonmentStateFor(c)===p.default.ABANDON_LOAD)return d;
var H=v.bitrateList;x=b.getRepresentationInfo().fragmentDuration;var L=H[0].bandwidth/1E3,N=H[H.length-1].bandwidth/1E3;for(b=0;b<H.length;b++){var Z=H[b].bandwidth/1E3;N<Z?N=Z:Z<L&&(L=Z)}w=H[t].bandwidth/1E3;h=e.getCurrentHttpRequest(c,!0);h=(h.tresponse.getTime()-h.trequest.getTime())/1E3;h=x<h?h-x:0;m.setupPerSegmentQoe(x,N,L);m.logSegmentMetrics(w,h,K,q);x=(0,n.default)(f).create({targetLatency:1.5,bufferMin:.3,segmentDuration:x,qoeEvaluator:m});return d.quality=k.getNextQuality(v,1E3*J,K,z,q,
t,x),d.reason={throughput:J,latency:K},d.priority=l.default.PRIORITY.STRONG,y.setTimeToLoadDelay(0),d.quality!==t&&console.log("[TgcLearningRule]["+c+"] requesting switch to index: ",d.quality,"Average throughput",Math.round(J),"kbps"),d}catch(Q){throw Q;}},reset:function(){k.reset();m.reset()}},g=(0,h.default)(f).getInstance().getLogger(c),k=(0,b.default)(f).create(),m=(0,d.default)(f).create(),c}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(45)),f=c(e(47)),b=c(e(204)),d=c(e(205)),l=
c(e(193)),p=c(e(113)),n=c(e(207)),u=c(e(112));k.__dashjs_factory_name="LoLPRule";g.default=f.default.getClassFactory(k);m.exports=g.default},{112:112,113:113,193:193,204:204,205:205,207:207,45:45,47:47}],207:[function(e,m,g){function c(c){function e(b,d){return g<d?b-g:b+g-d}var b=c.targetLatency,d=c.bufferMin,g=c.segmentDuration,h=c.qoeEvaluator,k=c=void 0,m=void 0;return c={getMinBuffer:function(){return d},getSegmentDuration:function(){return g},getNextBufferWithBitrate:function(b,d,c){return e(d,
b*g/c)},getNextBuffer:e,findWeightVector:function(c,f,l,n,p,t){var q=null,u=null,v=null,w=Math.abs(f-m);return c.forEach(function(c){k.forEach(function(k){k[0];var m=k[1],n=k[2],y=(k[3],c.bitrate*g/p),z=e(l,y);y=(0===n?10:1/n)*Math.max(1E-5,y-z);m=(0===m?10:1/m)*c.state.latency;m=h.calculateSingleUseQoe(c.bitrate,y,m,t);if(n=null===q||q<m)n=b+w<f?!1:d<=z;n&&(q=m,u=k,v=c.bitrate)})}),null===u&&null===v&&(u=-1),m=f,u}},k=function(b,d){return function(d,c,e){for(var f=!0;f;){if(e===c)return d;f=d.length;
for(var g=0;g<f;g++)for(var h=d.shift(),k=0;k<b.length;k++)d.push(h.concat(b[k]));e+=1;f=!0}}(b.map(function(b){return[b]}),d,1)}([.2,.4,.6,.8,1],4),m=0,c}Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="LoLpWeightSelector";g.default=e.default.getClassFactory(c);m.exports=g.default},{47:47}],208:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.lastBitrate=this.type=
null;this.weights={};this.weights.bitrateReward=null;this.weights.bitrateSwitchPenalty=null;this.weights.rebufferPenalty=null;this.weights.latencyPenalty=null;this.weights.playbackSpeedPenalty=null;this.totalQoe=this.playbackSpeedWSum=this.latencyWSum=this.rebufferWSum=this.bitrateSwitchWSum=this.bitrateWSum=0}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],209:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(d,c,l){var n;
return d&&c?d===h.default.FRAGMENTED_TEXT?g.isTextEnabled()?isNaN(c.fragmentDuration)?(n=e.getCurrentSchedulingInfo(b.default.SCHEDULING_INFO))?n.duration:0:c.fragmentDuration:0:d===h.default.AUDIO&&l?(l=e.getCurrentBufferLevel(h.default.VIDEO),isNaN(c.fragmentDuration)?l:Math.max(l,c.fragmentDuration)):(c=c.mediaInfo.streamInfo,k.isPlayingAtTopQuality(c)?c.manifestInfo.duration>=m.get().streaming.longFormContentDurationThreshold?m.get().streaming.bufferTimeAtTopQualityLongForm:m.get().streaming.bufferTimeAtTopQuality:
f.getStableBufferTime()):NaN}var e=(d=d||{}).dashMetrics,f=d.mediaPlayerModel,g=d.textController,k=d.abrController,m=d.settings;return{execute:function(b,d,f){return!b||!d||e.getCurrentBufferLevel(b)<c(b,d,f)},getBufferTarget:c}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(47)),b=c(e(113));k.__dashjs_factory_name="BufferLevelRule";g.default=f.default.getClassFactory(k);m.exports=g.default},{112:112,113:113,47:47}],210:[function(e,m,g){function c(){function c(b){return"red"===
b?"rgb(255, 0, 0)":"green"===b?"rgb(0, 255, 0)":"blue"===b?"rgb(0, 0, 255)":"cyan"===b?"rgb(0, 255, 255)":"magenta"===b?"rgb(255, 0, 255)":"yellow"===b?"rgb(255, 255, 0)":"white"===b?"rgb(255, 255, 255)":"black"===b?"rgb(0, 0, 0)":b}function e(b,e){b=b.videoHeight/15;return e?"font-size: "+b+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(e.foreground?c(e.foreground):"rgb(255, 255, 255)")+"; font-style: "+(e.italics?"italic":"normal")+"; text-decoration: "+(e.underline?"underline":
"none")+"; white-space: pre; background-color: "+(e.background?c(e.background):"transparent")+";":"font-size: "+b+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}var b=0;return{createHTMLCaptionsFromScreen:function(d,c,f,g){var h=null,k=!1,l=-1,m={start:c,end:f,spans:[]},n="style_cea608_white_black",
p={},t={},J=[],O;for(O=0;15>O;++O){var A=g.rows[O],G="",D=null;if(!1===A.isEmpty()){var I=A.chars;for(var B="",M=0;M<I.length;++M)B+=I[M].uchar;I=B.length-B.replace(/^\s+/,"").length;null===h&&(h={x:I,y1:O,y2:O+1,p:[]});I!==l&&k&&(h.p.push(m),m={start:c,end:f,spans:[]},h.y2=O,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===p.hasOwnProperty(h.name)?(J.push(h),p[h.name]=h):p[h.name].p.contat(h.p),h={x:I,y1:O,y2:O+1,p:[]});for(k=0;k<A.chars.length;++k){var C;l=A.chars[k];B=l.penState;null!==D&&B.equals(D)||
(0<G.trim().length&&(m.spans.push({name:n,line:G,row:O}),G=""),C="style_cea608_"+B.foreground+"_"+B.background,B.underline&&(C+="_underline"),B.italics&&(C+="_italics"),t.hasOwnProperty(C)||(t[C]=JSON.parse(JSON.stringify(B))),D=B,n=C);G+=l.uchar}0<G.trim().length&&m.spans.push({name:n,line:G,row:O});k=!0;l=I}else k=!1,l=-1,h&&(h.p.push(m),m={start:c,end:f,spans:[]},h.y2=O,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===p.hasOwnProperty(h.name)?(J.push(h),p[h.name]=h):p[h.name].p.contat(h.p),h=null)}h&&
(h.p.push(m),h.y2=O+1,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===p.hasOwnProperty(h.name)?(J.push(h),p[h.name]=h):p[h.name].p.contat(h.p));g=[];for(O=0;O<J.length;++O){p=J[O];h="sub_cea608_"+b++;m=document.createElement("div");m.id=h;var E="left: "+3.125*(E=p).x+"%; top: "+6.66*E.y1+"%; width: "+(100-3.125*E.x)+"%; height: "+6.66*Math.max(E.y2-1-E.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;";m.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+
E;E=document.createElement("div");E.className="paragraph bodyStyle";E.style.cssText=e(d);A=document.createElement("div");A.className="cueUniWrapper";A.style.cssText="unicode-bidi: normal; direction: ltr;";for(G=0;G<p.p.length;++G)for(D=p.p[G],n=C=0;n<D.spans.length;++n){var x,P,K;k=D.spans[n];0<k.line.length&&(0!==n&&C!=k.row&&((K=document.createElement("br")).className="lineBreak",A.appendChild(K)),x=!1,C===k.row&&(x=!0),C=k.row,P=t[k.name],(K=document.createElement("span")).className="spanPadding "+
k.name+" customSpanColor",K.style.cssText=e(d,P),0!==n&&x?n===D.spans.length-1?K.textContent=k.line.replace(/\s+$/g,""):K.textContent=k.line:1<D.spans.length&&n<D.spans.length-1&&k.row===D.spans[n+1].row?K.textContent=k.line.replace(/^\s+/g,""):K.textContent=k.line.trim(),A.appendChild(K))}E.appendChild(A);m.appendChild(E);var H;n={bodyStyle:["%",90]};for(H in t)t.hasOwnProperty(H)&&(n[H]=["%",90]);g.push({type:"html",start:c,end:f,cueHTMLElement:m,cueID:h,cellResolution:[32,15],isFromCEA608:!0,fontSize:n,
lineHeight:{},linePadding:{}})}return g}}}Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="EmbeddedTextHtmlRender";g.default=e.default.getSingletonFactory(c);m.exports=g.default},{47:47}],211:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(d){function c(d){null===P.extract(A.id,d.currentRepresentation.id)&&(M=!1,k.trigger(b.default.INIT_FRAGMENT_NEEDED,{representationId:d.currentRepresentation.id,
sender:B},{streamId:A.id,mediaType:G}))}function e(d){d.chunk.bytes&&(P.save(d.chunk),x.append(d.chunk),M=!0,k.trigger(b.default.STREAM_COMPLETED,{request:d.request},{streamId:A.id,mediaType:G}))}d=d||{};var g=this.context,k=(0,f.default)(g).getInstance(),m=(0,n.default)(g).getInstance(),v=d.errHandler,A=d.streamInfo,G=d.type,D=d.mimeType,I=d.fragmentModel,B=void 0,M=void 0,C=void 0,E=void 0,x=void 0,P=void 0;return B={getBufferControllerType:function(){return"NotFragmentedTextBufferController"},
initialize:function(b){E=b;P=(0,l.default)(g).getInstance()},createBuffer:function(b){var d,c=b[0];try{return x=(0,p.default)(g).create(E,c),C||((d=x.getBuffer()).hasOwnProperty(h.default.INITIALIZE)&&d.initialize(D,A,b,I),C=!0),x}catch(N){if(c&&(c.isText||-1!==c.codec.indexOf('codecs\x3d"stpp')||-1!==c.codec.indexOf('codecs\x3d"wvtt')))try{x=m.getTextSourceBuffer()}catch(Z){v.error(new u.default(w.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,w.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+G+" : "+Z.message))}else v.error(new u.default(w.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,
w.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+G))}},getStreamId:function(){return A.id},getType:function(){return G},getBuffer:function(){return x},getBufferLevel:function(){return 0},setMediaSource:function(b){E=b},getMediaSource:function(){return E},getIsBufferingCompleted:function(){return M},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},appendInitSegment:function(b){return null!==P.extract(A.id,b)},getRangeAt:function(){return null},reset:function(d){k.off(b.default.DATA_UPDATE_COMPLETED,
c,B);k.off(b.default.INIT_FRAGMENT_LOADED,e,B);!d&&x&&(x.abort(),x.reset(),x=null)},updateTimestampOffset:function(b){x.timestampOffset===b||isNaN(b)||(x.timestampOffset=b)}},E=null,M=C=!1,k.on(b.default.DATA_UPDATE_COMPLETED,c,B),k.on(b.default.INIT_FRAGMENT_LOADED,e,B),B}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(46)),b=c(e(54)),d=c(e(47)),l=c(e(227)),p=c(e(107)),n=c(e(213)),u=c(e(239)),w=c(e(51));k.__dashjs_factory_name="NotFragmentedTextBufferController";g.default=
d.default.getClassFactory(k);m.exports=g.default},{107:107,112:112,213:213,227:227,239:239,46:46,47:47,51:51,54:54}],212:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(){return k.getBuffer()}c=c||{};var f,g=this.context,k=void 0;return f={getBufferControllerType:function(){return k.getBufferControllerType()},initialize:function(b,d){return k.initialize(b,d)},createBuffer:function(b,d){return k.createBuffer(b,d)},getType:function(){return k.getType()},
getBuffer:e,setBuffer:function(b){k.setBuffer(b)},getBufferLevel:function(){return k.getBufferLevel()},setMediaSource:function(b){k.setMediaSource(b)},getMediaSource:function(){return k.getMediaSource()},getIsBufferingCompleted:function(){return k.getIsBufferingCompleted()},getIsPruningInProgress:function(){return k.getIsPruningInProgress()},dischargePreBuffer:function(){return k.dischargePreBuffer()},appendInitSegment:function(b){k.appendInitSegment(b)},getRangeAt:function(b){return k.getRangeAt(b)},
reset:function(b){k.reset(b)},updateTimestampOffset:function(b){var d=e();d.timestampOffset===b||isNaN(b)||(d.timestampOffset=b)},updateAppendWindow:function(){k.updateAppendWindow()},getRepresentationInfo:function(b){return k.getRepresentationInfo(b)}},k=c.type===h.default.FRAGMENTED_TEXT?(0,b.default)(g).create({streamInfo:c.streamInfo,type:c.type,mediaPlayerModel:c.mediaPlayerModel,manifestModel:c.manifestModel,fragmentModel:c.fragmentModel,errHandler:c.errHandler,mediaController:c.mediaController,
representationController:c.representationController,adapter:c.adapter,textController:c.textController,abrController:c.abrController,playbackController:c.playbackController,settings:c.settings}):(0,d.default)(g).create({streamInfo:c.streamInfo,type:c.type,mimeType:c.mimeType,fragmentModel:c.fragmentModel,errHandler:c.errHandler}),f}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(47)),b=c(e(118)),d=c(e(211));k.__dashjs_factory_name="TextBufferController";g.default=f.default.getClassFactory(k);
m.exports=g.default},{112:112,118:118,211:211,47:47}],213:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){return H&&!L?!1:!0}var e=this.context,f=void 0,g=void 0,k=void 0,m=void 0,O=void 0,A=void 0,G=void 0,D=void 0,I=void 0,B=void 0,M=void 0,C=void 0,E=void 0,x=void 0,P=void 0,K=void 0,H=void 0,L=void 0,N=void 0,Z=void 0,Q=void 0;f={setConfig:function(b){b&&(b.errHandler&&(k=b.errHandler),b.adapter&&(m=b.adapter),b.manifestModel&&(O=b.manifestModel),
b.mediaController&&(A=b.mediaController),b.videoModel&&(G=b.videoModel),b.streamController&&(D=b.streamController),b.textTracks&&(I=b.textTracks),b.vttParser&&(B=b.vttParser),b.ttmlParser&&(M=b.ttmlParser),g.setConfig({errHandler:k,adapter:m,manifestModel:O,mediaController:A,videoModel:G,streamController:D,textTracks:I,vttParser:B,ttmlParser:M}))},getTextSourceBuffer:function(){return g},getAllTracksAreDisabled:function(){return H},addEmbeddedTrack:function(b){g.addEmbeddedTrack(b)},getTextDefaultLanguage:function(){return E&&
E.lang||""},setTextDefaultLanguage:function(b){(0,w.checkParameterType)(b,"string");(E=E||{}).lang=b;x=!0},setTextDefaultEnabled:function(b){(0,w.checkParameterType)(b,"boolean");(K=b)?H=!1:this.setTextTrack(-1)},getTextDefaultEnabled:function(){return void 0!==K&&K},setInitialSettings:function(b){E=b;x=!0},enableText:function(b){(0,w.checkParameterType)(b,"boolean");!K&&b&&(K=!0);c()!==b&&(b&&this.setTextTrack(P),b||(P=this.getCurrentTrackIdx(),N?this.setTextTrack(-1):Z=!0))},isTextEnabled:c,setTextTrack:function(b){var d=
g.getConfig(),c=d.fragmentModel,e=d.fragmentedTracks;d=d.videoModel;var f=void 0,k=void 0;H=-1===b;var l=I.getCurrentTrackIdx();if(l!==b)if(H&&A&&A.saveTextSettingsDisabled(),I.setModeForTrackIdx(l,h.default.TEXT_HIDDEN),I.setCurrentTrackIdx(b),I.setModeForTrackIdx(b,h.default.TEXT_SHOWING),(b=I.getCurrentTrackInfo())&&b.isFragmented&&!b.isEmbedded)for(var m=0;m<e.length;m++){if(f=e[m],b.lang===f.lang&&b.index===f.index&&(f.id?b.id===f.id:b.id===f.index))if(f!==A.getCurrentTrackFor(h.default.FRAGMENTED_TEXT,
D.getActiveStreamInfo()))c.abortRequests(),c.removeExecutedRequestsBeforeTime(),g.remove(),I.deleteCuesFromTrackIdx(l),A.setTrack(f),g.setCurrentFragmentedTrackIdx(m);else if(-1===l){var n=D.getActiveStreamProcessors();for(f=0;f<n.length;f++)if(n[f].getType()===h.default.FRAGMENTED_TEXT){k=n[f];break}k.setBufferingTime(d.getTime());k.getScheduleController().start()}}else if(b&&!b.isFragmented){n=D.getActiveStreamProcessors();for(m=0;m<n.length;m++)if(n[m].getType()===h.default.TEXT){f=(k=n[m]).getMediaInfoArr();
break}if(k&&f)for(m=0;m<f.length;m++)if(f[m].index===b.index&&f[m].lang===b.lang){k.selectMediaInfo(f[m]);break}}},getCurrentTrackIdx:function(){return I.getCurrentTrackIdx()},enableForcedTextStreaming:function(b){(0,w.checkParameterType)(b,"boolean");L=b},reset:function(){Z=N=!(H=!0);g.resetEmbedded();g.reset()}};E=null;I=(Z=x=N=L=!(P=-1),d.default)(e).getInstance();B=(0,l.default)(e).getInstance();M=(0,p.default)(e).getInstance();g=(0,b.default)(e).getInstance();C=(0,n.default)(e).getInstance();
I.initialize();C.on(u.default.TEXT_TRACKS_QUEUE_INITIALIZED,function(b){var d=this,e=b.tracks,f=b.index;E&&e.some(function(b,c){if(A.matchSettings(E,b))return d.setTextTrack(c),f=c,!0});(!1===K||void 0===K&&!E||Z)&&this.setTextTrack(-1);P=f;C.trigger(u.default.TEXT_TRACKS_ADDED,{enabled:c(),index:f,tracks:e});N=!0},f);C.on(u.default.CURRENT_TRACK_CHANGED,function(b){x||!b||!b.newMediaInfo||(b=b.newMediaInfo).type===h.default.FRAGMENTED_TEXT&&(E={lang:b.lang,role:b.roles[0],accessibility:b.accessibility[0]})},
f);C.on(u.default.PERIOD_SWITCH_STARTED,function(b){void 0===Q&&null!==b.fromStreamInfo&&(Q=this.getCurrentTrackIdx())},f);C.on(u.default.STREAM_COMPLETED,function(){void 0===Q&&(Q=this.getCurrentTrackIdx())},f);C.on(u.default.PERIOD_SWITCH_COMPLETED,function(){void 0!==Q&&(this.setTextTrack(Q),Q=void 0)},f);Z=N=!(H=!0);return f}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(47)),b=c(e(214)),d=c(e(215)),l=c(e(235)),p=c(e(233)),n=c(e(46)),u=c(e(54)),w=e(232);k.__dashjs_factory_name=
"TextController";g.default=f.default.getSingletonFactory(k);m.exports=g.default},{112:112,214:214,215:215,232:232,233:233,235:235,46:46,47:47,54:54}],214:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){W=NaN;pa=S=null;la=!(ua=[])}function e(b){b=b.chunk;b.mediaInfo.embeddedCaptions&&m(b.bytes,b)}function g(){ma=[];(X=(0,u.default)(C).getInstance()).setConfig({videoModel:ta});X.initialize();H=(0,d.default)(C).getInstance();R=[];x=!(qa=Da=null);za=(ra=0,
w.default)(C).getInstance();var b,c=ha.getActiveStreamProcessors();for(b in c)if("video"===c[b].getType()){Y=c[b].getRepresentationInfo().MSETimeOffset;break}E.on(q.default.VIDEO_CHUNK_RECEIVED,e,this);E.on(q.default.BUFFER_CLEARED,M,this)}function k(d,c){var e,f,g=new b.default,k={subtitle:"subtitles",caption:"captions"};g.captionData=d;g.lang=c.lang;g.labels=c.labels;g.id=c.id?c.id:c.index;g.index=c.index;g.isTTML=(e=!1,c.codec&&0<=c.codec.search(h.default.STPP)&&(e=!0),c.mimeType&&0<=c.mimeType.search(h.default.TTML)&&
(e=!0),e);d=!1;1<ma.length&&c.isEmbedded?d=c.id&&c.id===h.default.CC1:1===ma.length?c.id&&"string"==typeof c.id&&"CC"===c.id.substring(0,2)&&(d=!0):0===ma.length&&(d=c.index===F[0].index);g.defaultTrack=d;g.isFragmented=!N.getIsTextTrack(c.mimeType);g.isEmbedded=!!c.isEmbedded;g.kind=(f=0<c.roles.length?k[c.roles[0]]:k.caption)===k.caption||f===k.subtitle?f:k.caption;g.roles=c.roles;g.accessibility=c.accessibility;d=(F?F.length:0)+ma.length;X.addTextTrack(g,d)}function m(b,c){var d,e=void 0,g=void 0,
l=void 0,m=void 0;m=l=void 0;g=c.mediaInfo;l=g.type;m=g.mimeType;if(g=g.codec||m)if(l===h.default.FRAGMENTED_TEXT)if(la||"InitializationSegment"!==c.segmentType){if(la)if(d=(l=H.getSamplesInfo(b)).sampleList,null===pa&&0<d.length&&(pa=d[0].cts-c.start*W),0<=g.search(h.default.STPP))for(aa=null!==aa?aa:p(g),g=0;g<d.length;g++){var n=(c=d[g]).cts,q=n-pa;this.buffered.add(q/W,(q+c.duration)/W);q=new DataView(b,c.offset,c.subSizes[0]);m=v.default.Utils.dataViewToString(q,h.default.UTF8);q=[];var u=c.offset+
c.subSizes[0];for(l=1;l<c.subSizes.length;l++){var y=new Uint8Array(b,u,c.subSizes[l]);y=String.fromCharCode.apply(null,y);q.push(y);u+=c.subSizes[l]}try{var w=Z.getValue().ttmlTimeIsRelative?n/W:0;e=aa.parse(m,w,n/W,(n+c.duration)/W,q);X.addCaptions(Da,pa/W,e)}catch(va){S.removeExecutedRequestsBeforeTime(),this.remove(),K.error("TTML parser error: "+va.message)}}else{e=[];for(g=0;g<d.length;g++)for((c=d[g]).cts-=pa,this.buffered.add(c.cts/W,(c.cts+c.duration)/W),w=b.slice(c.offset,c.offset+c.size),
w=v.default.parseBuffer(w),l=0;l<w.boxes.length;l++)if(u=w.boxes[l],K.debug("VTT box1: "+u.type),"vtte"!==u.type&&"vttc"===u.type)for(K.debug("VTT vttc boxes.length \x3d "+u.boxes.length),m=0;m<u.boxes.length;m++)y=u.boxes[m],K.debug("VTT box2: "+y.type),"payl"===y.type&&(n=y.cue_text,K.debug("VTT cue_text \x3d "+n),q=c.cts/W,y=(c.cts+c.duration)/W,e.push({start:q,end:y,data:n,styles:{}}),K.debug("VTT "+q+"-"+y+" : "+n));0<e.length&&X.addCaptions(Da,0,e)}}else la=!0,W=H.getMediaTimescaleFromMoov(b);
else if(l===h.default.TEXT){q=new DataView(b,0,b.byteLength);m=v.default.Utils.dataViewToString(q,h.default.UTF8);try{e=p(g).parse(m,0),X.addCaptions(X.getCurrentTrackIdx(),0,e)}catch(va){L.error(new t.default(J.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,J.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+va.message,m))}}else{if(l===h.default.VIDEO)if(c.segmentType===f.HTTPRequest.INIT_SEGMENT_TYPE){if(0===ra)for(ra=H.getMediaTimescaleFromMoov(b),g=0;g<ma.length;g++)k(null,ma[g])}else{if(0===ra)return void K.warn("CEA-608: No timescale for embeddedTextTrack yet");
c=(l=H.getSamplesInfo(b)).lastSequenceNumber;if(!R[0]&&!R[1])for(e=void 0,g=0;g<ma.length;g++){if(ma[g].id===h.default.CC1?e=X.getTrackIdxForId(h.default.CC1):ma[g].id===h.default.CC3&&(e=X.getTrackIdxForId(h.default.CC3)),-1===e)return void K.warn("CEA-608: data before track is ready.");d=function(b){return function(c,d,e){var f=null;(f=ta.getTTMLRenderingDiv()?za.createHTMLCaptionsFromScreen(ta.getElement(),c,d,e):[{start:c,end:d,data:e.getDisplayText(),styles:{}}])&&X.addCaptions(b,0,f)}}(e);R[g]=
new z.default.Cea608Parser(g+1,{newCue:d},null)}if(ra){if(null!==qa&&c!==qa+l.numSequences)for(g=0;g<R.length;g++)R[g]&&R[g].reset();b=function(b,c){if(0===c.length)return null;var d={splits:[],fields:[[],[]]};b=new DataView(b);for(var e=0;e<c.length;e++)for(var f=c[e],g=z.default.findCea608Nalus(b,f.offset,f.size),h=null,k=0,l=0;l<g.length;l++)for(var m=z.default.extractCea608DataFromRange(b,g[l]),n=0;2>n;n++)0<m[n].length&&(f.cts!==h?k=0:k+=1,d.fields[n].push([f.cts+Y*ra,m[n],k]),h=f.cts);return d.fields.forEach(function(b){b.sort(function(b,
c){return b[0]===c[0]?b[2]-c[2]:b[0]-c[0]})}),d}(b,l.sampleList);for(d=0;d<R.length;d++)if(e=b.fields[d],w=R[d])for(g=0;g<e.length;g++)w.addData(e[g][0]/ra,e[g][1]);qa=c}}}else K.error("No text type defined")}function p(b){var c=void 0;return 0<=b.search(h.default.VTT)?c=U:(0<=b.search(h.default.TTML)||0<=b.search(h.default.STPP))&&(c=da),c}function M(b){ma.forEach(function(c){c=X.getTrackIdxForId(c.id);0<=c&&X.deleteCuesFromTrackIdx(c,b.from,b.to)})}var C=this.context,E=(0,y.default)(C).getInstance(),
x=!1,P=void 0,K=void 0,H=void 0,L=void 0,N=void 0,Z=void 0,Q=void 0,aa=void 0,U=void 0,da=void 0,F=void 0,X=void 0,S=void 0,la=void 0,W=void 0,ua=void 0,ta=void 0,ha=void 0,pa=void 0,Da=void 0,ma=void 0,ra=void 0,qa=void 0,R=void 0,za=void 0,Y=void 0;P={initialize:function(b,c,e,f){x||g();X.setConfig({videoModel:ta});X.initialize();H=H||(0,d.default)(C).getInstance();b=!N.getIsTextTrack(b);if(F=F.concat(e),b)for(S=f,P.buffered=(0,l.default)(C).create(),ua=Q.getTracksFor(h.default.FRAGMENTED_TEXT,
c),c=Q.getCurrentTrackFor(h.default.FRAGMENTED_TEXT,c),e=0;e<ua.length;e++)if(ua[e]===c){Da=e;break}for(e=0;e<F.length;e++)k(null,F[e])},append:m,abort:function(){X.deleteAllTextTracks();c();H=null;F=[]},addEmbeddedTrack:function(b){if(x||g(),b)if(b.id===h.default.CC1||b.id===h.default.CC3){for(var c=0;c<ma.length;c++)if(ma[c].id===b.id)return;ma.push(b)}else K.warn("Embedded track "+b.id+" not supported!")},resetEmbedded:function(){E.off(q.default.VIDEO_CHUNK_RECEIVED,e,this);E.off(q.default.BUFFER_CLEARED,
M,this);X&&X.deleteAllTextTracks();x=!1;ma=[];R=[null,null];qa=null},setConfig:function(b){b&&(b.errHandler&&(L=b.errHandler),b.adapter&&(N=b.adapter),b.manifestModel&&(Z=b.manifestModel),b.mediaController&&(Q=b.mediaController),b.videoModel&&(ta=b.videoModel),b.streamController&&(ha=b.streamController),b.textTracks&&(X=b.textTracks),b.vttParser&&(U=b.vttParser),b.ttmlParser&&(da=b.ttmlParser))},getConfig:function(){return{fragmentModel:S,fragmentedTracks:ua,videoModel:ta}},setCurrentFragmentedTrackIdx:function(b){Da=
b},remove:function(b,c){void 0===b&&b===c&&(b=this.buffered.start(0),c=this.buffered.end(this.buffered.length-1));this.buffered.remove(b,c)},reset:function(){c();F=[];X=ta=ha=aa=null}};K=(0,n.default)(C).getInstance().getLogger(P);c();F=[];aa=null;return P}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=e(255),b=c(e(247)),d=c(e(219)),l=c(e(222)),p=c(e(47)),n=c(e(45)),u=c(e(215)),w=c(e(210)),v=c(e(9)),z=c(e(2)),y=c(e(46)),q=c(e(54)),t=c(e(239)),J=c(e(51));k.__dashjs_factory_name=
"TextSourceBuffer";g.default=p.default.getSingletonFactory(k);m.exports=g.default},{112:112,2:2,210:210,215:215,219:219,222:222,239:239,247:247,255:255,45:45,46:46,47:47,51:51,54:54,9:9}],215:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(b){var c=C[b].kind,d=void 0!==C[b].id?C[b].id:C[b].lang,e=C[b].lang,f=C[b].isTTML;b=C[b].isEmbedded;return M.addTextTrack(c,d,e,f,b)}function d(c,d){var e=M.getClientWidth(),f=M.getClientHeight(),g=M.getVideoWidth(),h=
M.getVideoHeight(),k=M.getVideoRelativeOffsetTop(),l=M.getVideoRelativeOffsetLeft();if(0!==g&&0!==h){var m=g/h,n=!1;c.isFromCEA608&&(m=3.5/3,n=!0);var p=g,q=g=0;p/h<e/f?g=(q=f)/h*p:q=(g=e)/p*h;h=p=0;g=(m<g/q?p=(h=q)*m:h=(p=g)/m,e=(e-p)/2,f=(f-h)/2,n?{x:e+.1*p,y:f+.1*h,w:.8*p,h:.8*h}:{x:e,y:f,w:p,h:h});h=g.w;m=g.h;n=g.x;g=g.y;if(h!=H||m!=L||n!=P||g!=K||d)if(P=n+l,K=g+k,H=h,L=m,!N||(m=N.style)&&(m.left=P+"px",m.top=K+"px",m.width=H+"px",m.height=L+"px",m.zIndex=Q&&document[Q]||aa?da:null,G.trigger(b.default.CAPTION_CONTAINER_RESIZE)),
c=c.activeCues)for(d=c.length,k=0;k<d;++k)l=c[k],l.scaleCue(l)}}function e(b){var c,d=void 0,e=void 0,f=void 0;if(b.cellResolution){var h=[H/b.cellResolution[0],L/b.cellResolution[1]];if(b.linePadding)for(d in b.linePadding)if(b.linePadding.hasOwnProperty(d)){var k=(b.linePadding[d]*h[0]).toString();var l=document.getElementsByClassName("spanPadding");for(var m=0;m<l.length;m++)l[m].style.cssText=l[m].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+k),l[m].style.cssText=l[m].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,
"$1"+k)}if(b.fontSize){for(d in b.fontSize)if(b.fontSize.hasOwnProperty(d))for("%"===b.fontSize[d][0]?e=b.fontSize[d][1]/100:"c"===b.fontSize[d][0]&&(e=b.fontSize[d][1]),k=(e*h[1]).toString(),l="defaultFontSize"!==d?document.getElementsByClassName(d):document.getElementsByClassName("paragraph"),m=0;m<l.length;m++)l[m].style.cssText=l[m].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+k);if(b.lineHeight)for(d in b.lineHeight)if(b.lineHeight.hasOwnProperty(d))for("%"===b.lineHeight[d][0]?
f=b.lineHeight[d][1]/100:"c"===b.fontSize[d][0]&&(f=b.lineHeight[d][1]),k=(f*h[1]).toString(),l=document.getElementsByClassName(d),e=0;e<l.length;e++)l[e].style.cssText=l[e].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+k)}}b.isd&&((c=document.getElementById(b.cueID))&&N.removeChild(c),g(b))}function g(c){var d;N&&(d=document.createElement("div"),N.appendChild(d),U=(0,p.renderHTML)(c.isd,d,function(b){var d=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,e=/^#(.*)$/;
return d.test(b)?(b=d.exec(b),b=parseInt(b[4],10)-1,"data:image/png;base64,"+btoa(c.images[b])):e.test(b)?(b=e.exec(b)[1],"data:image/png;base64,"+c.embeddedImages[b]):null},N.clientHeight,N.clientWidth,!1,function(b){I.info("renderCaption :",b)},U,!0),d.id=c.cueID,G.trigger(b.default.CAPTION_RENDERED,{captionDiv:d,currentTrackIdx:x}))}function k(b){return 0<=b&&C[b]?M.getTextTrack(C[b].kind,C[b].id,C[b].lang,C[b].isTTML,C[b].isEmbedded):null}function m(b){var c,e=this;b!==x&&(c=k(x=b),function(b){O.call(this);
(b&&"html"===b.renderingType?function(){var b=document.getElementById("native-cue-style");if(!b){(b=document.createElement("style")).id="native-cue-style";document.head.appendChild(b);b=b.sheet;var c=M.getElement();try{c&&(c.id?b.insertRule("#"+c.id+"::cue {background: transparent}",0):0!==c.classList.length?b.insertRule("."+c.className+"::cue {background: transparent}",0):b.insertRule("video::cue {background: transparent}",0))}catch(ha){I.info(""+ha.message)}}}:J).call(this)}.call(this,c),Z&&(clearInterval(Z),
Z=null),c&&"html"===c.renderingType&&(d.call(this,c,!0),window.ResizeObserver?(F=new window.ResizeObserver(function(){d.call(e,c,!0)})).observe(M.getElement()):Z=setInterval(d.bind(this,c),500)))}function t(b,c,d){if(b.cues)for(var e=b.cues,f=e.length-1;0<=f;f--){var g=e[f];var h=c;var k=d;(isNaN(h)||g.startTime>=h)&&(isNaN(k)||g.endTime<=k)&&b.removeCue(e[f])}}function J(){var b=document.getElementById("native-cue-style");b&&document.head.removeChild(b)}function O(){if(N)for(;N.firstChild;)N.removeChild(N.firstChild)}
var A=this.context,G=(0,f.default)(A).getInstance(),D=void 0,I=void 0,B=void 0,M=void 0,C=void 0,E=void 0,x=void 0,P=void 0,K=void 0,H=void 0,L=void 0,N=void 0,Z=void 0,Q=void 0,aa=void 0,U=void 0,da=void 0,F=void 0;return D={initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(B=window.VTTCue||window.TextTrackCue,C=[],E=[],aa=!(x=-1),da=2147483647,U=Z=N=null,void(L=H=K=P=0)!==document.fullscreenElement?Q="fullscreenElement":void 0!==document.webkitIsFullScreen?Q="webkitIsFullScreen":
document.msFullscreenElement?Q="msFullscreenElement":document.mozFullScreen&&(Q="mozFullScreen"))},setDisplayCConTop:function(b){(0,n.checkParameterType)(b,"boolean");aa=b;N&&!document[Q]&&(N.style.zIndex=b?da:null)},addTextTrack:function(e,f){var g=this;C.length!==f?(C.push(e),C.length===f&&function(){C.sort(function(b,c){return b.index-c.index});N=M.getTTMLRenderingDiv();for(var e=-1,f=0;f<C.length;f++){var l=c.call(g,f);E.push(l);C[f].defaultTrack&&(l.default=!0,e=f);(l=k(f))&&(l.mode=h.default.TEXT_SHOWING,
N&&(C[f].isTTML||C[f].isEmbedded)?l.renderingType="html":l.renderingType="default");g.addCaptions(f,0,C[f].captionData);G.trigger(b.default.TEXT_TRACK_ADDED)}m.call(g,e);0<=e&&function(){function c(){var f=k(e);f&&d.call(this,f,!0);G.off(b.default.PLAYBACK_METADATA_LOADED,c,this)}G.on(b.default.PLAYBACK_METADATA_LOADED,c,g);for(var f=0;f<C.length;f++){var l=k(f);l&&(l.mode=f===e?h.default.TEXT_SHOWING:h.default.TEXT_HIDDEN)}}();G.trigger(b.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:x,tracks:C})}()):
I.error("Trying to add too many tracks.")},addCaptions:function(c,d,f){var l=k(c),m=this;if(l&&Array.isArray(f)&&0!==f.length)for(c=0;c<f.length;c++){var n=void 0,p=f[c];l.cellResolution=p.cellResolution;l.isFromCEA608=p.isFromCEA608;"html"===p.type&&N?((n=new B(p.start-d,p.end-d,"")).cueHTMLElement=p.cueHTMLElement,n.isd=p.isd,n.images=p.images,n.embeddedImages=p.embeddedImages,n.cueID=p.cueID,n.scaleCue=e.bind(m),n.cellResolution=p.cellResolution,n.lineHeight=p.lineHeight,n.linePadding=p.linePadding,
n.fontSize=p.fontSize,N.style.left=P+"px",N.style.top=K+"px",N.style.width=H+"px",N.style.height=L+"px",n.onenter=function(){l.mode===h.default.TEXT_SHOWING&&(this.isd?(g(this),I.debug("Cue enter id:"+this.cueID)):(N.appendChild(this.cueHTMLElement),e.call(m,this),G.trigger(b.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:x})))},n.onexit=function(){if(N)for(var b=N.childNodes,c=0;c<b.length;++c)b[c].id===this.cueID&&(I.debug("Cue exit id:"+b[c].id),N.removeChild(b[c]),--c)}):
p.data&&(n=new B(p.start-d,p.end-d,p.data),p.styles&&(void 0!==p.styles.align&&"align"in n&&(n.align=p.styles.align),void 0!==p.styles.line&&"line"in n&&(n.line=p.styles.line),void 0!==p.styles.position&&"position"in n&&(n.position=p.styles.position),void 0!==p.styles.size&&"size"in n&&(n.size=p.styles.size)),n.onenter=function(){l.mode===h.default.TEXT_SHOWING&&G.trigger(b.default.CAPTION_RENDERED,{currentTrackIdx:x})});try{n?l.addCue(n):I.error("impossible to display subtitles.")}catch(pa){throw t(l),
l.addCue(n),pa;}}},getCurrentTrackIdx:function(){return x},setCurrentTrackIdx:m,getTrackIdxForId:function(b){for(var c=-1,d=0;d<C.length;d++)if(C[d].id===b){c=d;break}return c},getCurrentTrackInfo:function(){return C[x]},setModeForTrackIdx:function(b,c){(b=k(b))&&b.mode!==c&&(b.mode=c)},deleteCuesFromTrackIdx:function(b,c,d){(b=k(b))&&t(b,c,d)},deleteAllTextTracks:function(){for(var b=E?E.length:0,c=0;c<b;c++){var d=k(c);d&&(t.call(this,d),d.mode="disabled")}E=[];C=[];Z&&(clearInterval(Z),Z=null);
F&&M&&(F.unobserve(M.getElement()),F=null);x=-1;O.call(this)},deleteTextTrack:function(b){M.removeChild(E[b]);E.splice(b,1)},setConfig:function(b){b&&b.videoModel&&(M=b.videoModel)}},I=(0,l.default)(A).getInstance().getLogger(D),D}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112)),f=c(e(46)),b=c(e(54)),d=c(e(47)),l=c(e(45)),p=e(17),n=e(232);k.__dashjs_factory_name="TextTracks";g.default=d.default.getSingletonFactory(k);m.exports=g.default},{112:112,17:17,232:232,45:45,46:46,47:47,54:54}],
216:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(){m&&m.reset()}var g,h=this.context,k=c.streamInfo,m=void 0;return g={getStreamId:function(){return k.id},provide:function(c,d){if("function"==typeof d){var e=m.getCurrentTrack(),f=void 0;if(!e||0>=e.segmentDuration||null==c)d(null);else{isNaN(e.segmentDuration)&&(f=m.getThumbnailRequestForTime(c))&&(e.segmentDuration=f.duration);g=c%e.segmentDuration;var g=Math.floor(g*e.tilesHor*e.tilesVert/e.segmentDuration),
h=new b.default;if(h.width=Math.floor(e.widthPerTile),h.height=Math.floor(e.heightPerTile),h.x=Math.floor(g%e.tilesHor)*e.widthPerTile,h.y=Math.floor(g/e.tilesHor)*e.heightPerTile,"readThumbnail"in e)return e.readThumbnail(c,function(b){h.url=b;d(h)});f?(h.url=f.url,e.segmentDuration=NaN):(f=Math.floor(c/e.segmentDuration),h.url=(e=(c=f)+(f=e).startNumber,c=(0,p.replaceTokenForTemplate)(f.templateUrl,"Number",e),c=(0,p.replaceTokenForTemplate)(c,"Time",(e-1)*f.segmentDuration*f.timescale),c=(0,p.replaceTokenForTemplate)(c,
"Bandwidth",f.bandwidth),(0,p.unescapeDollarsInTemplate)(c)));d(h)}}},setTrackByIndex:function(b){m.setTrackByIndex(b)},getCurrentTrackIndex:function(){return m.getCurrentTrackIndex()},getBitrateList:function(){var b=0;return m.getTracks().map(function(c){var d=new l.default;return d.mediaType=f.default.IMAGE,d.qualityIndex=b++,d.bitrate=c.bitrate,d.width=c.width,d.height=c.height,d})},reset:e},e(),m=(0,d.default)(h).create({streamInfo:k,adapter:c.adapter,baseURLController:c.baseURLController,timelineConverter:c.timelineConverter,
debug:c.debug,eventBus:c.eventBus,events:c.events,dashConstants:c.dashConstants}),g}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(112)),b=c(e(248)),d=c(e(217)),l=c(e(238)),p=e(81);k.__dashjs_factory_name="ThumbnailController";g.default=h.default.getClassFactory(k);m.exports=g.default},{112:112,217:217,238:238,248:248,47:47,81:81}],217:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(){k();L=(0,u.default)(m).create({});N=(0,n.default)(m).getInstance();
(P=(0,w.default)(m).create({streamInfo:G,timelineConverter:D,baseURLController:A,debug:I,eventBus:B,events:M,dashConstants:C,urlUtils:E})).initialize(!!z&&z.getIsDynamic());(function(){if(G&&z&&(H=z.getMediaInfoForType(G,h.default.IMAGE))){var b=z.getVoRepresentations(H);b&&0<b.length&&b.forEach(function(b){(b.segmentInfoType===f.default.SEGMENT_TEMPLATE&&0<b.segmentDuration&&b.media||b.segmentInfoType===f.default.SEGMENT_TIMELINE)&&g(b);b.segmentInfoType===f.default.SEGMENT_BASE&&g(b,!0)});0<x.length&&
(x.sort(function(b,c){return b.bitrate-c.bitrate}),K=x.length-1)}})()}function g(c,d){var e=new b.default;e.id=c.id;e.bitrate=c.bandwidth;e.width=c.width;e.height=c.height;e.tilesHor=1;e.tilesVert=1;c.essentialProperties&&c.essentialProperties.forEach(function(b){0<=v.indexOf(b.schemeIdUri)&&b.value&&(2!==(b=b.value.split("x")).length||isNaN(b[0])||isNaN(b[1])||(e.tilesHor=parseInt(b[0],10),e.tilesVert=parseInt(b[1],10)))});d?B.trigger(p.default.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{streamId:G.id,
mediaType:h.default.IMAGE,mimeType:H.mimeType,representation:c,callback:function(b,c,d,f){var g=[];d=function(b,c){var d=[],e=0;var f=0;for(var g=b.length;f<g;f++){var h=b[f];(h=(0,l.getTimeBasedSegment)(D,z.getIsDynamic(),c,h.startTime,h.duration,h.timescale,h.media,h.mediaRange,e))&&(d.push(h),e++)}return d}(d,f);e.segmentDuration=d[0].duration;e.readThumbnail=function(b,c){var e=null;g.some(function(c){if(c.start<=b&&c.end>b)return e=c.url,!0});e?c(e):d.some(function(d){if(d.mediaStartTime<=b&&
d.mediaStartTime+d.duration>b){var e=A.resolve(f.path);return L.load({method:"get",url:e.url,request:{range:d.mediaRange,responseType:"arraybuffer"},onload:function(b){var e=N.getSamplesInfo(b.target.response);e=new Blob([b.target.response.slice(e.sampleList[0].offset,e.sampleList[0].offset+e.sampleList[0].size)],{type:"image/jpeg"});e=window.URL.createObjectURL(e);g.push({start:d.mediaStartTime,end:d.mediaStartTime+d.duration,url:e});c&&c(e)}}),!0}})}}}):(e.startNumber=c.startNumber,e.segmentDuration=
c.segmentDuration,e.timescale=c.timescale,e.templateUrl=(d=c,(c=E.isRelative(d.media)?E.resolve(d.media,A.resolve(d.path).url):d.media)?(0,l.replaceIDForTemplate)(c,d.id):""));0<e.tilesHor&&0<e.tilesVert&&(e.widthPerTile=e.width/e.tilesHor,e.heightPerTile=e.height/e.tilesVert,x.push(e))}function k(){x=[];K=-1;H=null}var m=this.context,z=c.adapter,A=c.baseURLController,G=c.streamInfo,D=c.timelineConverter,I=c.debug,B=c.eventBus,M=c.events,C=c.dashConstants,E=(0,d.default)(m).getInstance(),x=c=void 0,
P=void 0,K=void 0,H=void 0,L=void 0,N=void 0;return c={initialize:e,getTracks:function(){return x},reset:k,setTrackByIndex:function(b){x&&0!==x.length&&(b>=x.length&&(b=x.length-1),K=b)},getCurrentTrack:function(){return 0>K?null:x[K]},getCurrentTrackIndex:function(){return K},getThumbnailRequestForTime:function(b){for(var c=void 0,d=z.getVoRepresentations(H),e=0;e<d.length;e++)if(x[K].id===d[e].id){c=d[e];break}return P.getSegmentRequestForTime(H,c,b)}},e(),c}Object.defineProperty(g,"__esModule",
{value:!0});var h=c(e(112)),f=c(e(61));m=c(e(47));var b=c(e(249)),d=c(e(234)),l=e(81),p=c(e(54)),n=c(e(219)),u=c(e(164)),w=c(e(57)),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];g.THUMBNAILS_SCHEME_ID_URIS=v;k.__dashjs_factory_name="ThumbnailTracks";g.default=m.default.getClassFactory(k)},{112:112,164:164,219:219,234:234,249:249,47:47,54:54,57:57,61:61,81:81}],218:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(){m.reset()}
var e,g=this.context,k=(0,f.default)(g).getInstance(),m=void 0,n=void 0,O=void 0,A=void 0;return e={chooseSelector:function(b){(0,w.checkParameterType)(b,"boolean");A=b?O:n},select:function(d){if(d){var e=d.baseUrls,f=d.selectedIdx;return isNaN(f)?(f=A.select(e))?(d.selectedIdx=e.indexOf(f),f):(k.trigger(b.default.URL_RESOLUTION_FAILED,{error:new u.default(h.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,h.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(A===n&&c())):e[f]}},reset:c,setConfig:function(b){b.selector&&
(A=b.selector)}},m=(0,d.default)(g).create({updateEventName:b.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:b.default.SERVICE_LOCATION_BLACKLIST_ADD}),n=(0,p.default)(g).create({blacklistController:m}),O=(0,l.default)(g).create({blacklistController:m}),A=n,e}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(51)),f=c(e(46)),b=c(e(54)),d=c(e(117)),l=c(e(237)),p=c(e(236)),n=c(e(47)),u=c(e(239)),w=e(232);k.__dashjs_factory_name="BaseURLSelector";g.default=n.default.getClassFactory(k);
m.exports=g.default},{117:117,232:232,236:236,237:237,239:239,46:46,47:47,51:51,54:54}],219:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(b){if(!b)return null;void 0===b.fileStart&&(b.fileStart=0);var c=d.default.parseBuffer(b);b=(0,f.default)(m).create();return b.setData(c),b}function c(b,c){return b[c+3]>>>0|b[c+2]<<8>>>0|b[c+1]<<16>>>0|b[c]<<24>>>0}function e(b,c){return String.fromCharCode(b[c++])+String.fromCharCode(b[c++])+String.fromCharCode(b[c++])+
String.fromCharCode(b[c])}var g=void 0,k=void 0,m=this.context;return k={parse:b,findLastTopIsoBoxCompleted:function(b,d,f){if(void 0===f&&(f=0),!d||f+8>=d.byteLength)return new l.default(0,!1);d=d instanceof ArrayBuffer?new Uint8Array(d):d;for(var g=void 0,h=0;f<d.byteLength;){var k=c(d,f),m=e(d,f+4);if(0===k)break;f+k<=d.byteLength&&(0<=b.indexOf(m)?g=new l.default(f,!0,k):h=f+k);f+=k}return g||new l.default(h,!1)},getMediaTimescaleFromMoov:function(c){return(c=(c=b(c))?c.getBox("mdhd"):void 0)?
c.timescale:NaN},getSamplesInfo:function(c){if(!c||0===c.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var d;c=b(c);var e=c.getBoxes("moof"),f=c.getBoxes("mfhd"),g,h,k,l,m;var n=void 0;c=c.getBoxes("moof").length;f=f[f.length-1].sequence_number;var p=[];var u=-1,v=-1;for(l=0;l<e.length;l++){var w=e[l],y=w.getChildBoxes("traf");for(h=0;h<y.length;h++){var z=y[h];var H=z.getChildBox("tfhd"),L=z.getChildBox("tfdt");n=L.baseMediaDecodeTime;var N=z.getChildBoxes("trun"),
Z=z.getChildBoxes("subs");for(k=0;k<N.length;k++){var Q=N[k],aa=Q.sample_count;var U=(H.base_data_offset||0)+(Q.data_offset||0);for(g=0;g<aa;g++){z=void 0!==(d=Q.samples[g]).sample_duration?d.sample_duration:H.default_sample_duration;var da=void 0!==d.sample_size?d.sample_size:H.default_sample_size;var F={dts:n,cts:n+(void 0!==d.sample_composition_time_offset?d.sample_composition_time_offset:0),duration:z,offset:w.offset+U,size:da,subSizes:[da]};if(Z)for(m=0;m<Z.length;m++){var X=Z[m];if(u<X.entry_count-
1&&v<g&&(u++,v+=X.entries[u].sample_delta),g==v){F.subSizes=[];var S=X.entries[u];for(X=0;X<S.subsample_count;X++)F.subSizes.push(S.subsamples[X].subsample_size)}}p.push(F);U+=da;n+=z}}n-=L.baseMediaDecodeTime}}return{sampleList:p,lastSequenceNumber:f,totalDuration:n,numSequences:c}},findInitRange:function(c){var d=null,e=b(c);return e&&(c=e.getBox("ftyp"),e=e.getBox("moov"),g.debug("Searching for initialization."),e&&e.isComplete&&(d=(c||e).offset+"-"+(e.offset+e.size-1),g.debug("Found the initialization.  Range: "+
d))),d},parsePayload:function(b,d,f){if(void 0===f&&(f=0),!d||f+8>=d.byteLength)return new l.default(0,!1);d=d instanceof ArrayBuffer?new Uint8Array(d):d;for(var g=void 0,h=0;f<d.byteLength;){var k=c(d,f),m=e(d,f+4);if(0===k)break;f+k<=d.byteLength&&(0<=b.indexOf(m)?g=new l.default(f,!0,k,m):h=f+k);f+=k}return g||new l.default(h,!1)}},g=(0,h.default)(m).getInstance().getLogger(k),k}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(45)),f=c(e(228)),b=c(e(47)),d=c(e(9)),l=c(e(244));k.__dashjs_factory_name=
"BoxParser";g.default=b.default.getSingletonFactory(k);m.exports=g.default},{228:228,244:244,45:45,47:47,9:9}],220:[function(e,m,g){function c(){var b="MediaSource"in window;return"WebKitMediaSource"in window||b}function k(){var d,e=void 0;return e=!(d={supportsMediaSource:c,supportsEncryptedMedia:function(){return e},supportsCodec:function(b){return!!("MediaSource"in window&&MediaSource.isTypeSupported(b))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(b))},setEncryptedMediaSupported:function(b){e=
b},supportsEssentialProperty:function(b){try{return-1!==f.THUMBNAILS_SCHEME_ID_URIS.indexOf(b.schemeIdUri)}catch(n){return!0}},codecRootCompatibleWithCodec:function(c,d){var e=c.split(".")[0];c=0===d.indexOf(e);for(var f=void 0,g=0;g<b.length;g++)if(b[g].codec===e){f=b[g];break}return f?c||f.compatibleCodecs.some(function(b){return 0===d.indexOf(b)}):c}}),d}Object.defineProperty(g,"__esModule",{value:!0});g.supportsMediaSource=c;var h;m=(h=e(47))&&h.__esModule?h:{default:h};var f=e(217),b=[{codec:"avc1",
compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];k.__dashjs_factory_name="Capabilities";g.default=m.default.getSingletonFactory(k)},{217:217,47:47}],221:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function c(b,c){(c=h.getRealPeriodByIndex(c?c.index:null))&&c.AdaptationSet_asArray&&0!==c.AdaptationSet_asArray.length&&(c.AdaptationSet_asArray=c.AdaptationSet_asArray.filter(function(c){return!c.Representation_asArray||0===c.Representation_asArray.length||
!h.getIsTypeOf(c,b)||(c.Representation_asArray=c.Representation_asArray.filter(function(b,d){d=h.getCodec(c,d,!0);return!!k.supportsCodec(d)||(v.error("[Stream] codec not supported: "+d),!1)}),c.Representation_asArray&&0<c.Representation_asArray.length)}))}var e=this.context,g=void 0,h=void 0,k=void 0,m=void 0,v=void 0,z=void 0;return g={setConfig:function(b){b&&(b.adapter&&(h=b.adapter),b.capabilities&&(k=b.capabilities),b.settings&&(m=b.settings))},filterUnsupportedFeaturesOfPeriod:function(d){c(b.default.VIDEO,
d);c(b.default.AUDIO,d);m.get().streaming.filterUnsupportedEssentialProperties&&function(b){(b=h.getRealPeriodByIndex(b?b.index:null))&&b.AdaptationSet_asArray&&0!==b.AdaptationSet_asArray.length&&(b.AdaptationSet_asArray=b.AdaptationSet_asArray.filter(function(b){return!b.Representation_asArray||0===b.Representation_asArray.length||(b.Representation_asArray=b.Representation_asArray.filter(function(b){if((b=h.getEssentialPropertiesForRepresentation(b))&&0<b.length)for(var c=0;c<b.length;){if(!k.supportsEssentialProperty(b[c]))return v.debug("[Stream] EssentialProperty not supported: "+
b[c].schemeIdUri),!1;c+=1}return!0}),b.Representation_asArray&&0<b.Representation_asArray.length)}))}(d);(function(b){z&&0!==z.length&&(b=h.getRealPeriodByIndex(b?b.index:null))&&b.AdaptationSet_asArray&&0!==b.AdaptationSet_asArray.length&&(b.AdaptationSet_asArray=b.AdaptationSet_asArray.filter(function(b){return!b.Representation_asArray||0===b.Representation_asArray.length||(b.Representation_asArray=b.Representation_asArray.filter(function(b){return!z.some(function(c){return!c(b)})}),b.Representation_asArray&&
0<b.Representation_asArray.length)}))})(d)},setCustomCapabilitiesFilters:function(b){z=b}},v=(0,f.default)(e).getInstance().getLogger(g),g}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45)),b=c(e(112));k.__dashjs_factory_name="CapabilitiesFilter";g.default=h.default.getSingletonFactory(k);m.exports=g.default},{112:112,45:45,47:47}],222:[function(e,m,g){function c(){return{customTimeRangeArray:[],length:0,add:function(b,c){var d;for(d=0;d<this.customTimeRangeArray.length&&b>
this.customTimeRangeArray[d].start;d++);this.customTimeRangeArray.splice(d,0,{start:b,end:c});for(d=0;d<this.customTimeRangeArray.length-1;d++)this.mergeRanges(d,d+1)&&d--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[];this.length=0},remove:function(b,c){for(var d=0;d<this.customTimeRangeArray.length;d++)if(b<=this.customTimeRangeArray[d].start&&c>=this.customTimeRangeArray[d].end)this.customTimeRangeArray.splice(d,1),d--;else{if(b>this.customTimeRangeArray[d].start&&
c<this.customTimeRangeArray[d].end){this.customTimeRangeArray.splice(d+1,0,{start:c,end:this.customTimeRangeArray[d].end});this.customTimeRangeArray[d].end=b;break}b>this.customTimeRangeArray[d].start&&b<this.customTimeRangeArray[d].end?this.customTimeRangeArray[d].end=b:c>this.customTimeRangeArray[d].start&&c<this.customTimeRangeArray[d].end&&(this.customTimeRangeArray[d].start=c)}this.length=this.customTimeRangeArray.length},mergeRanges:function(b,c){var d=this.customTimeRangeArray[b],e=this.customTimeRangeArray[c];
return d.start<=e.start&&e.start<=d.end&&d.end<=e.end?(d.end=e.end,this.customTimeRangeArray.splice(c,1),!0):e.start<=d.start&&d.start<=e.end&&e.end<=d.end?(d.start=e.start,this.customTimeRangeArray.splice(c,1),!0):e.start<=d.start&&d.start<=e.end&&d.end<=e.end?(this.customTimeRangeArray.splice(b,1),!0):d.start<=e.start&&e.start<=d.end&&e.end<=d.end&&(this.customTimeRangeArray.splice(c,1),!0)},start:function(b){return(0,f.checkInteger)(b),b>=this.customTimeRangeArray.length||0>b?NaN:this.customTimeRangeArray[b].start},
end:function(b){return(0,f.checkInteger)(b),b>=this.customTimeRangeArray.length||0>b?NaN:this.customTimeRangeArray[b].end}}}Object.defineProperty(g,"__esModule",{value:!0});var k,h=(k=e(47))&&k.__esModule?k:{default:k},f=e(232);c.__dashjs_factory_name="CustomTimeRanges";g.default=h.default.getClassFactory(c);m.exports=g.default},{232:232,47:47}],223:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(c){function e(b){if(void 0!==y)return y;y=!1;var c=void 0;try{"undefined"!=
typeof window&&(c=window[b])}catch(J){return m.warn("DOMStorage access denied: "+J.message),y}if(!c||"localStorage"!==b&&"sessionStorage"!==b)return y;try{c.setItem("1","1"),c.removeItem("1"),y=!0}catch(J){m.warn("DOMStorage is supported, but cannot be used: "+J.message)}return y}function g(b,c){return e(b)&&l.get().streaming[c+"CachingInfo"].enabled}function h(){if(!l)throw Error(b.default.MISSING_CONFIG_ERROR);}c=c||{};var k=this.context,l=c.settings,m=c=void 0,y=void 0;return c={getSavedBitrateSettings:function(b){var c=
NaN;if(h(),g("localStorage","lastBitrate")){var d="dashjs_?_bitrate".replace(/\?/,b);try{var e=JSON.parse(localStorage.getItem(d))||{},f=(new Date).getTime()-parseInt(e.timestamp,10)>=l.get().streaming.lastBitrateCachingInfo.ttl||!1;e=parseFloat(e.bitrate);isNaN(e)||f?f&&localStorage.removeItem(d):(c=e,m.debug("Last saved bitrate for "+b+" was "+e))}catch(G){return null}}return c},setSavedBitrateSettings:function(b,c){if(g("localStorage","lastBitrate")&&c){b="dashjs_?_bitrate".replace(/\?/,b);try{localStorage.setItem(b,
JSON.stringify({bitrate:c.toFixed(3),timestamp:6E5*Math.round((new Date).getTime()/6E5)}))}catch(J){m.error(J.message)}}},getSavedMediaSettings:function(b){var c=null;if(h(),g("localStorage","lastMediaSettings")){b="dashjs_?_settings".replace(/\?/,b);try{var d=JSON.parse(localStorage.getItem(b))||{},e=(new Date).getTime()-parseInt(d.timestamp,10)>=l.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;c=d.settings;e&&(localStorage.removeItem(b),c=null)}catch(A){return null}}return c},setSavedMediaSettings:function(b,
c){if(g("localStorage","lastMediaSettings")){b="dashjs_?_settings".replace(/\?/,b);try{localStorage.setItem(b,JSON.stringify({settings:c,timestamp:6E5*Math.round((new Date).getTime()/6E5)}))}catch(J){m.error(J.message)}}}},m=(0,f.default)(k).getInstance().getLogger(c),e("localStorage")&&d.forEach(function(b){var c=localStorage.getItem(b.oldKey);if(c){localStorage.removeItem(b.oldKey);try{localStorage.setItem(b.newKey,c)}catch(J){m.error(J.message)}}}),c}Object.defineProperty(g,"__esModule",{value:!0});
var h=c(e(47)),f=c(e(45)),b=c(e(112)),d=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}];k.__dashjs_factory_name="DOMStorage";h=h.default.getSingletonFactory(k);g.default=h;m.exports=g.default},{112:112,45:45,47:47}],224:[function(e,m,g){function c(){function c(b,c){try{return(new window.URL(b,c)).toString()}catch(O){return b}}
function e(c,e){var f=b;return e&&k(c)?(m(c)&&(f=d),u(c)&&(f=g),f=f(e),e="/"!==f.charAt(f.length-1)&&"/"!==c.charAt(0)?"/":"",[f,c].join(e)):c}function b(b){var c=b.indexOf("/"),d=b.lastIndexOf("/");return-1!==c?d===c+1?b:(-1!==b.indexOf("?")&&(b=b.substring(0,b.indexOf("?"))),b.substring(0,d+1)):""}function d(b){return(b=b.match(q))?b[1]:""}function g(b){return(b=b.match(v))?b[0]:""}function k(b){return!v.test(b)}function m(b){return k(b)&&"/"===b.charAt(0)}function u(b){return 0===b.indexOf("//")}
var w=void 0,v=/^[a-z][a-z0-9+\-_.]*:/i,z=/^https?:\/\//i,y=/^https:\/\//i,q=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i;try{new window.URL("x","http://y"),w=c}catch(t){}finally{w=w||e}return{parseBaseUrl:b,parseOrigin:d,parseScheme:g,isRelative:k,isPathAbsolute:m,isSchemeRelative:u,isHTTPURL:function(b){return z.test(b)},isHTTPS:function(b){return y.test(b)},removeHostname:function(b){return/^(?:\w+:\/\/)?([^\/]+)(.*)$/.exec(b)[2].substring(1)},resolve:function(b,c){return w(b,c)}}}Object.defineProperty(g,
"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="DefaultURLUtils";g.default=e.default.getSingletonFactory(c);m.exports=g.default},{47:47}],225:[function(e,m,g){function c(c){function e(b,c){var d=!0,e;if(void 0===c&&(c=!1),e=16777215<b.tag?(g.getUint32(h)!==b.tag&&(d=!1),4):65535<b.tag?(256*g.getUint16(h)+g.getUint8(h+2)!==b.tag&&(d=!1),3):255<b.tag?(g.getUint16(h)!==b.tag&&(d=!1),2):(g.getUint8(h)!==b.tag&&(d=!1),1),!d&&b.required&&!c)throw Error("required tag not found");
return d&&(h+=e),d}function b(b){var c=1,d=128,e=-1,f=0,k=g.getUint8(h),l;for(l=0;8>l;l+=1){if((k&d)===d){f=void 0===b?k&~d:k;e=l;break}d>>=1}for(l=0;l<e;l+=1,c+=1)f=f<<8|255&g.getUint8(h+c);return h+=c,f}c=c||{};var d=void 0,g=new DataView(c.data),h=0;return d={getPos:function(){return h},setPos:function(b){h=b},consumeTag:e,consumeTagAndSize:function(c,d){return(d=e(c,d))&&b(),d},parseTag:function(c){var f;return e(c),f=b(),d[c.parse](f)},skipOverElement:function(c,d){return c=e(c,d),c&&(d=b(),
h+=d),c},getMatroskaCodedNum:b,getMatroskaFloat:function(b){var c=void 0;switch(b){case 4:c=g.getFloat32(h);h+=4;break;case 8:c=g.getFloat64(h),h+=8}return c},getMatroskaUint:function(b){for(var c=0,d=0;d<b;d+=1)c<<=8,c|=255&g.getUint8(h+d);return h+=b,c},moreData:function(){return h<g.byteLength}}}Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="EBMLParser";g.default=e.default.getClassFactory(c);m.exports=g.default},{47:47}],
226:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){var b=this.context,c=(0,h.default)(b).getInstance();return{error:function(b){c.trigger(f.default.ERROR,{error:b})}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(46)),f=c(e(54));e=c(e(47));k.__dashjs_factory_name="ErrorHandler";g.default=e.default.getSingletonFactory(k);m.exports=g.default},{46:46,47:47,54:54}],227:[function(e,m,g){function c(){var c={};return{save:function(e){var b=e.streamId,d=e.representationId;
c[b]=c[b]||{};c[b][d]=e},extract:function(e,b){return c&&c[e]&&c[e][b]?c[e][b]:null},reset:function(){c={}}}}Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="InitCache";g.default=e.default.getSingletonFactory(c);m.exports=g.default},{47:47}],228:[function(e,m,g){function c(c){return c&&c.__esModule?c:{default:c}}function k(){function c(c){var e=[];if(!c||!d||"function"!=typeof d.fetchAll)return e;var f;c=d.fetchAll(c);for(var g=
0,h=c.length;g<h;g++)(f=b(c[g]))&&e.push(f);return e}function b(b){if(!b)return null;var c=new h.default(b);return b.hasOwnProperty("_incomplete")&&(c.isComplete=!b._incomplete),c}var d=void 0;return{getBox:function(c){return c&&d&&d.boxes&&0!==d.boxes.length&&"function"==typeof d.fetch?b(d.fetch(c)):null},getBoxes:c,setData:function(b){d=b},getLastBox:function(){if(!d||!d.boxes||!d.boxes.length)return null;var b=c(d.boxes[d.boxes.length-1].type);return 0<b.length?b[b.length-1]:null}}}Object.defineProperty(g,
"__esModule",{value:!0});var h=c(e(243));e=c(e(47));k.__dashjs_factory_name="IsoFile";g.default=e.default.getClassFactory(k);m.exports=g.default},{243:243,47:47}],229:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(b){var c=(b=b||{}).timelineConverter;return{getLiveEdge:function(b){if(!c||!c.hasOwnProperty("getExpectedLiveEdge"))throw Error(f.default.MISSING_CONFIG_ERROR);return b.DVRWindow?b.DVRWindow.end:0},reset:function(){c=null}}}Object.defineProperty(g,"__esModule",
{value:!0});var h=c(e(47)),f=c(e(112));k.__dashjs_factory_name="LiveEdgeFinder";g.default=h.default.getClassFactory(k);m.exports=g.default},{112:112,47:47}],230:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){return{areEqual:function(b,c){return(0,f.default)(b,c)}}}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(12));k.__dashjs_factory_name="ObjectUtils";g.default=h.default.getSingletonFactory(k);m.exports=g.default},{12:12,47:47}],231:[function(e,
m,g){function c(){return{modifyRequestURL:function(c){return c},modifyRequestHeader:function(c){return c}}}Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="RequestModifier";g.default=e.default.getSingletonFactory(c);m.exports=g.default},{47:47}],232:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0});g.checkParameterType=function(c,e){if(typeof c!==e)throw k.default.BAD_ARGUMENT_ERROR;};g.checkInteger=function(c){if(null===
c||isNaN(c)||0!=c%1)throw k.default.BAD_ARGUMENT_ERROR+" : argument is not an integer";};g.checkRange=function(c,e,b){if(c<e||b<c)throw k.default.BAD_ARGUMENT_ERROR+" : argument out of range";};g.checkIsVideoOrAudioType=function(c){if("string"!=typeof c||c!==k.default.AUDIO&&c!==k.default.VIDEO)throw k.default.BAD_ARGUMENT_ERROR;};var c,k=(c=e(112))&&c.__esModule?c:{default:c}},{112:112}],233:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){var c=this.context,e=(0,
b.default)(c).getInstance(),g=void 0,h=void 0,k=0;return g={parse:function(b,c,f,g,m){var q,t,u="",v=[],w=void 0;w={};var y={},z="",x="";if(!b)throw u="no ttml data to parse",Error(u);w.data=b;e.trigger(d.default.TTML_TO_PARSE,w);b=(0,l.fromXML)(w.data,function(b){u=b},{onOpenTag:function(b,c,d){if(d[" imagetype"]&&!d[" imageType"]&&(e.trigger(p.default.CONFORMANCE_VIOLATION,{level:n.default.LEVELS.ERROR,event:n.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),d[" imageType"]=d[" imagetype"]),
"image"===c&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===b||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===b)){if(!d[" imageType"]||"PNG"!==d[" imageType"].value)return void h.warn("smpte-tt imageType !\x3d PNG. Discarded");z=d["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){z&&(y[z]=x.trim());z=x=""},onText:function(b){z&&(x+=b)}});e.trigger(d.default.TTML_PARSED,{ttmlString:w.data,ttmlDoc:b});var A,J=b.getMediaTimeEvents();for(w=0;w<J.length;w++){var H=
(0,l.generateISD)(b,J[w],function(b){u=b});H.contents.some(function(b){return b.contents.length})&&(q=J[w]+c<f?f:J[w]+c)<(t=J[w+1]+c>g?g:J[w+1]+c)&&v.push({start:q,end:t,type:"html",cueID:(A=void 0,A="cue_TTML_"+k,k++,A),isd:H,images:m,embeddedImages:y})}if(""!==u)throw h.error(u),Error(u);return v}},h=(0,f.default)(c).getInstance().getLogger(g),g}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45)),b=c(e(46)),d=c(e(54)),l=e(17),p=c(e(104)),n=c(e(111));k.__dashjs_factory_name=
"TTMLParser";g.default=h.default.getSingletonFactory(k);m.exports=g.default},{104:104,111:111,17:17,45:45,46:46,47:47,54:54}],234:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(b,d,f){a:{var g=f||d;var h;for(h=0;h<e.length;h++)if(e[h].regex.test(g)){g=e[h].utils;break a}g=c}return(g&&"function"==typeof g[b]?g:c)[b](d,f)}var c=void 0,e=[],g=this.context;return c=(0,f.default)(g).getInstance(),{registerUrlRegex:function(b,c){e.push({regex:b,utils:c})},parseBaseUrl:function(c){return b("parseBaseUrl",
c)},parseOrigin:function(c){return b("parseOrigin",c)},parseScheme:function(c){return b("parseScheme",c)},isRelative:function(c){return b("isRelative",c)},isPathAbsolute:function(c){return b("isPathAbsolute",c)},isSchemeRelative:function(c){return b("isSchemeRelative",c)},isHTTPURL:function(c){return b("isHTTPURL",c)},isHTTPS:function(c){return b("isHTTPS",c)},removeHostname:function(c){return b("removeHostname",c)},resolve:function(c,d){return b("resolve",c,d)}}}Object.defineProperty(g,"__esModule",
{value:!0});var h=c(e(47)),f=c(e(224));k.__dashjs_factory_name="URLUtils";h=h.default.getSingletonFactory(k);g.default=h;m.exports=g.default},{224:224,47:47}],235:[function(e,m,g){function c(b){return b&&b.__esModule?b:{default:b}}function k(){function b(b){var c=b.split(":"),d=c.length-1;return b=60*parseInt(c[d-1],10)+parseFloat(c[d]),2==d&&(b+=3600*parseInt(c[0],10)),b}var c=this.context,e=void 0,g=void 0,h=void 0,k=void 0,m=void 0,v=void 0;return e={parse:function(c){var d=[],e=void 0;if(!c)return d;
var f=(c=c.split(h)).length;e=-1;for(var l=0;l<f;l++){var n,p,u,w=c[l];0<w.length&&"WEBVTT"!==w&&w.match(k)&&(n=void 0,(p=(n=(p=w).split(k))[1].split(v)).shift(),n[1]=p[0],p.shift(),w=(u={cuePoints:n,styles:function(b){var c={};return b.forEach(function(b){var d;1<b.split(/:/).length&&((d=b.split(/:/)[1])&&-1!=d.search(/%/)&&(d=parseInt(d.replace(/%/,""),10)),(b.match(/align/)||b.match(/A/))&&(c.align=d),(b.match(/line/)||b.match(/L/))&&(c.line=d),(b.match(/position/)||b.match(/P/))&&(c.position=
d),(b.match(/size/)||b.match(/S/))&&(c.size=d))}),c}(p)}).cuePoints,n=u.styles,p=function(b,c){for(var d=c,e="",f="";""!==b[d]&&d<b.length;)d++;if(1<(d-=c))for(var g=0;g<d;g++){if((f=b[c+g]).match(k)){e="";break}e+=f;g!==d-1&&(e+="\n")}else(f=b[c]).match(k)||(e=f);return e}(c,l+1),u=b(w[0].replace(m,"")),w=b(w[1].replace(m,"")),!isNaN(u)&&!isNaN(w)&&e<=u&&u<w?""!==p?(e=u,d.push({start:u,end:w,data:p,styles:n})):g.error("Skipping cue due to empty/malformed cue text"):g.error("Skipping cue due to incorrect cue timing"))}return d}},
g=(0,f.default)(c).getInstance().getLogger(e),h=/(?:\r\n|\r|\n)/gm,k=/--\x3e/,m=/(^[\s]+|[\s]+$)/g,v=/\s\b/g,e}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(47)),f=c(e(45));k.__dashjs_factory_name="VTTParser";g.default=h.default.getSingletonFactory(k);m.exports=g.default},{45:45,47:47}],236:[function(e,m,g){function c(c){var e=(c=c||{}).blacklistController;return{select:function(b){var c=0,f=void 0;return b&&b.some(function(b,d){return c=d,!e.contains(b.serviceLocation)})&&(f=b[c]),f}}}
Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name="BasicSelector";g.default=e.default.getClassFactory(c);m.exports=g.default},{47:47}],237:[function(e,m,g){function c(c){var e=(c=c||{}).blacklistController;return{select:function(b){return b&&function(b){var c,d=0,e=[],f=0,g=void 0;if((g=b.sort(function(b,c){c=b.dvb_priority-c.dvb_priority;return isNaN(c)?0:c}).filter(function(b,c,d){return!c||d[0].dvb_priority&&b.dvb_priority&&d[0].dvb_priority===
b.dvb_priority})).length)return 1<g.length&&(g.forEach(function(b){d+=b.dvb_weight;e.push(d)}),c=Math.floor(Math.random()*(d-1)),e.every(function(b,d){return f=d,!(c<b)})),g[f]}((c=[],b.filter(function(b){return!e.contains(b.serviceLocation)||(b.dvb_priority&&c.push(b.dvb_priority),!1)}).filter(function(b){return!c.length||!b.dvb_priority||-1===c.indexOf(b.dvb_priority)})));var c}}}Object.defineProperty(g,"__esModule",{value:!0});var k;e=(k=e(47))&&k.__esModule?k:{default:k};c.__dashjs_factory_name=
"DVBSelector";g.default=e.default.getClassFactory(c);m.exports=g.default},{47:47}],238:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.scanType=this.height=this.width=this.bitrate=this.mediaType=null;this.qualityIndex=NaN}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],239:[function(e,m,g){function c(e,g,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;
this.code=e||null;this.message=g||null;this.data=f||null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],240:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.segmentType=this.mediaInfo=this.streamId=null;this.index=this.quality=NaN;this.bytes=null;this.duration=this.end=this.start=NaN;this.endFragment=this.representationId=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=
g.default},{}],241:[function(e,m,g){function c(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function k(b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;this.action=k.ACTION_DOWNLOAD;this.mediaStartTime=this.startTime=NaN;this.type=this.mediaInfo=this.mediaType=null;this.timescale=this.duration=NaN;this.range=null;this.url=b||null;this.requestEndDate=this.firstByteDate=
this.requestStartDate=this.serviceLocation=null;this.index=this.quality=NaN;this.wallStartTime=this.availabilityEndTime=this.availabilityStartTime=null;this.delayLoadingTime=this.bytesTotal=this.bytesLoaded=NaN;this.responseType="arraybuffer";this.representationId=null}Object.defineProperty(g,"__esModule",{value:!0});var h=function(b,d,e){return d&&c(b.prototype,d),e&&c(b,e),b},f=e(255);h=(h(k,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===f.HTTPRequest.INIT_SEGMENT_TYPE}},
{key:"setInfo",value:function(b){this.type=b&&b.init?f.HTTPRequest.INIT_SEGMENT_TYPE:f.HTTPRequest.MEDIA_SEGMENT_TYPE;this.url=b&&b.url?b.url:null;this.range=b&&b.range?b.range.start+"-"+b.range.end:null;this.mediaType=b&&b.mediaType?b.mediaType:null}}]),k);h.ACTION_DOWNLOAD="download";h.ACTION_COMPLETE="complete";g.default=h;m.exports=g.default},{255:255}],242:[function(e,m,g){function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;a:{var g=Object.getPrototypeOf(c.prototype),
f="constructor";var b=this;for(var d=!0;d;){null===g&&(g=Function.prototype);d=Object.getOwnPropertyDescriptor(g,f);if(void 0!==d){if("value"in d){b=d.value;break a}g=d.get;if(void 0===g)break;b=g.call(b);break a}g=Object.getPrototypeOf(g);if(null===g)break;d=!0}b=void 0}b.call(this,e);this.checkForExistenceOnly=!0}Object.defineProperty(g,"__esModule",{value:!0});e=e(241);e=(function(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(c,(e&&e.__esModule?e:{default:e})["default"]),c);g.default=e;m.exports=g.default},{241:241}],243:[function(e,m,g){function c(c,e){for(var b=0;b<e.length;b++){var d=e[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function k(c){if(!(this instanceof
k))throw new TypeError("Cannot call a class as a function");if(!0,this.offset=c._offset,this.type=c.type,this.size=c.size,this.boxes=[],c.boxes)for(var e=0;e<c.boxes.length;e++)this.boxes.push(new k(c.boxes[e]));switch(this.isComplete=!0,c.type){case "sidx":if(this.timescale=c.timescale,this.earliest_presentation_time=c.earliest_presentation_time,this.first_offset=c.first_offset,this.references=c.references,c.references)for(this.references=[],e=0;e<c.references.length;e++)this.references.push({reference_type:c.references[e].reference_type,
referenced_size:c.references[e].referenced_size,subsegment_duration:c.references[e].subsegment_duration});break;case "emsg":this.id=c.id;this.version=1===c.version?1:0;this.value=c.value;this.timescale=c.timescale;this.scheme_id_uri=c.scheme_id_uri;this.presentation_time_delta=1===c.version?c.presentation_time:c.presentation_time_delta;this.event_duration=c.event_duration;this.message_data=c.message_data;break;case "mdhd":this.timescale=c.timescale;break;case "mfhd":this.sequence_number=c.sequence_number;
break;case "subs":this.entry_count=c.entry_count;this.entries=c.entries;break;case "tfhd":this.base_data_offset=c.base_data_offset;this.sample_description_index=c.sample_description_index;this.default_sample_duration=c.default_sample_duration;this.default_sample_size=c.default_sample_size;this.default_sample_flags=c.default_sample_flags;this.flags=c.flags;break;case "tfdt":this.version=c.version;this.baseMediaDecodeTime=c.baseMediaDecodeTime;this.flags=c.flags;break;case "trun":if(this.sample_count=
c.sample_count,this.first_sample_flags=c.first_sample_flags,this.data_offset=c.data_offset,this.flags=c.flags,this.samples=c.samples,c.samples){this.samples=[];e=0;for(var b=c.samples.length;e<b;e++)this.samples.push({sample_size:c.samples[e].sample_size,sample_duration:c.samples[e].sample_duration,sample_composition_time_offset:c.samples[e].sample_composition_time_offset})}}}Object.defineProperty(g,"__esModule",{value:!0});e=(function(e,f,b){return f&&c(e.prototype,f),b&&c(e,b),e}(k,[{key:"getChildBox",
value:function(c){for(var e=0;e<this.boxes.length;e++)if(this.boxes[e].type===c)return this.boxes[e]}},{key:"getChildBoxes",value:function(c){for(var e=[],b=0;b<this.boxes.length;b++)this.boxes[b].type===c&&e.push(this.boxes[b]);return e}}]),k);g.default=e;m.exports=g.default},{}],244:[function(e,m,g){function c(e,g,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.lastCompletedOffset=e;this.found=g;this.size=f}Object.defineProperty(g,"__esModule",{value:!0});
g.default=c;m.exports=g.default},{}],245:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.TcpList=[];this.HttpList=[];this.RepSwitchList=[];this.BufferLevel=[];this.BufferState=[];this.PlayList=[];this.DroppedFrames=[];this.SchedulingInfo=[];this.DVRInfo=[];this.ManifestUpdate=[];this.RequestsQueue=null;this.DVBErrors=[]}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],246:[function(e,m,g){function c(c){return c&&
c.__esModule?c:{default:c}}function k(c,b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;a:{var d=Object.getPrototypeOf(k.prototype),e="constructor";var f=this;for(var g=!0;g;){null===d&&(d=Function.prototype);g=Object.getOwnPropertyDescriptor(d,e);if(void 0!==g){if("value"in g){f=g.value;break a}d=g.get;if(void 0===d)break;f=d.call(f);break a}d=Object.getPrototypeOf(d);if(null===d)break;g=!0}f=void 0}f.call(this);this.url=c||null;this.type=b||null;this.mediaType=
h.default.STREAM;this.responseType=""}Object.defineProperty(g,"__esModule",{value:!0});var h=c(e(112));e=(function(c,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}(k,c(e(241))["default"]),k);g.default=e;m.exports=g.default},{112:112,241:241}],247:[function(e,
m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.lang=this.label=this.captionData=null;this.defaultTrack=!1;this.kind=null;this.isEmbedded=this.isFragmented=!1}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],248:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.y=this.x=this.height=this.width=this.url=null}Object.defineProperty(g,"__esModule",
{value:!0});g.default=c;m.exports=g.default},{}],249:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.timescale=this.segmentDuration=this.startNumber=this.heightPerTile=this.widthPerTile=this.tilesVert=this.tilesHor=this.height=this.width=this.bitrate=0;this.id=this.templateUrl=""}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],250:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
!0;this.r=this.s=this.id=this.track=this.xywh=this.t=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],251:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.level=this.t=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],252:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0});var c,k=(c=e(113))&&c.__esModule?c:{default:c};e=function f(){if(!(this instanceof
f))throw new TypeError("Cannot call a class as a function");!0;this.target=null;this.state=k.default.BUFFER_EMPTY};g.default=e;m.exports=g.default},{113:113}],253:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.manifestInfo=this.range=this.time=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],254:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
!0;this.droppedFrames=this.time=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],255:[function(e,m,g){function c(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function");}function k(){c(this,k);this.interval=this.responsecode=this.tresponse=this.trequest=this.range=this.actualurl=this.url=this.type=this.tcpid=null;this.trace=[];this._serviceLocation=this._responseHeaders=this._quality=this._mediaduration=this._tfinish=this._stream=
null}function h(){c(this,h);this.d=this.s=null;this.b=[]}Object.defineProperty(g,"__esModule",{value:!0});k.GET="GET";k.HEAD="HEAD";k.MPD_TYPE="MPD";k.XLINK_EXPANSION_TYPE="XLinkExpansion";k.INIT_SEGMENT_TYPE="InitializationSegment";k.INDEX_SEGMENT_TYPE="IndexSegment";k.MEDIA_SEGMENT_TYPE="MediaSegment";k.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment";k.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment";k.LICENSE="license";k.OTHER_TYPE="other";g.HTTPRequest=k;g.HTTPRequestTrace=h},
{}],256:[function(e,m,g){function c(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}function k(){c(this,k);this.availabilityStartTime=this.fetchTime=this.requestTime=this.type=this.mediaType=null;this.clientTimeOffset=this.presentationStartTime=0;this.buffered=this.currentTime=null;this.latency=0;this.streamInfo=[];this.representationInfo=[]}function h(){c(this,h);this.duration=this.start=this.index=this.id=null}function f(){c(this,f);this.fragmentInfoType=this.startNumber=
this.presentationTimeOffset=this.streamIndex=this.mediaType=this.index=this.id=null}Object.defineProperty(g,"__esModule",{value:!0});g.ManifestUpdate=k;g.ManifestUpdateStreamInfo=h;g.ManifestUpdateRepresentationInfo=f},{}],257:[function(e,m,g){function c(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function");}function k(){c(this,k);this.starttype=this.mstart=this.start=null;this.trace=[]}function h(){c(this,h);this.stopreason=this.playbackspeed=this.duration=this.mstart=
this.start=this.subreplevel=this.representationid=null}Object.defineProperty(g,"__esModule",{value:!0});k.INITIAL_PLAYOUT_START_REASON="initial_playout";k.SEEK_START_REASON="seek";k.RESUME_FROM_PAUSE_START_REASON="resume";k.METRICS_COLLECTION_START_REASON="metrics_collection_start";h.REPRESENTATION_SWITCH_STOP_REASON="representation_switch";h.REBUFFERING_REASON="rebuffering";h.USER_REQUEST_STOP_REASON="user_request";h.END_OF_PERIOD_STOP_REASON="end_of_period";h.END_OF_CONTENT_STOP_REASON="end_of_content";
h.METRICS_COLLECTION_STOP_REASON="metrics_collection_end";h.FAILURE_STOP_REASON="failure";g.PlayList=k;g.PlayListTrace=h},{}],258:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.lto=this.to=this.mt=this.t=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],259:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.loadingRequests=
[];this.executedRequests=[]}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}],260:[function(e,m,g){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.state=this.range=this.quality=this.duration=this.availabilityStartTime=this.startTime=this.type=this.t=this.mediaType=null}Object.defineProperty(g,"__esModule",{value:!0});g.default=c;m.exports=g.default},{}]},{},[4]);