(self.webpackChunk_cleverpush_cleverpush_js_sdk=self.webpackChunk_cleverpush_cleverpush_js_sdk||[]).push([[115],{5533:6875:8606:8115:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return M}});var i=r(6610),t=r(5991),o=r(5533),c=r(379),s=r(6070),u=r(7608),a=r(3251),f=r(4005),g=r(1078),d=r(8606),b=r(4740),l=r(2034),h=r(3114),p=r(7159),m=r(1720),v=r(155);function S(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=(0,u.Z)(e);if(n){var t=(0,u.Z)(this).constructor;r=Reflect.construct(i,arguments,t)}else r=i.apply(this,arguments);return(0,s.Z)(this,r)}}var M=function(e){(0,c.Z)(r,e);var n=S(r);function r(e,t,o){var c;if((0,i.Z)(this,r),(c=n.call(this,e,t,o)).addControllerChangeListener(),c.isSubscribed().then((),c.isUnregisteringWorker=!1,e.loadIframe&&c.config.subdomain){var s="https://".concat(c.config.subdomain,".").concat(c.config.cleverpushDomain||"cleverpush.com"),u=document.createElement("div");u.style.display="none",document.body.appendChild(u),a.ZP.debug=g.cM.getLevel()<2;var f=a.ZP.connectToChild({url:"".concat(s,"/iframe?origin=").concat(encodeURIComponent(location.origin)),appendTo:u,timeout:2e4});f.iframe.style.display="none",f.promise.then(().catch(()}else c.triggerEvent(l.Z.INITIALIZED);return!navigator.permissions||"Firefox"===p.Xh.name&&p.x_<46||navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){c.isSubscribing||("granted"!==window.Notification.permission&&c.unsubscribe(!0),"denied"===window.Notification.permission?c.unsubscribe():c.isSubscribed().then(())}})),c}return(0,t.Z)(r,[{key:"unsubscribe",value:,{key:"isSubscribedViaSubdomain",value:,{key:"addControllerChangeListener",value:,{key:"replaceRootWorker",value:,{key:"isSubscribed",value:,{key:"pushManagerSubscribe",value:,{key:"canSubscribe",value:,{key:"getSubscriptionId",value:,{key:"hasNotificationPermission",value:,{key:"registerForPush",value:,{key:"subscribeForce",value:,{key:"subscribe",value:,{key:"setClickedNotification",value:,{key:"getClickedNotification",value:]),r}(f.default)},1720:]);
//# sourceMappingURL=115.cbdf1433255d84cfcc2a.js.map