(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8607],{18363:function(e,t,r){"use strict";r.r(t);var n=r(1717),s=r(6952),a=r(88742),l=r.n(a),o=r(60042),i=r.n(o),u=r(27693),c=r.n(u),d=r(88038),f=r(27378),p=r(78392),y=r(30511),m=r(9009),h=r(44757),g=r(2251),w=r(15140),x=r(10897),b=r(58331),j=r(37182),v=r(86514),S=r(77215),T=r(47086),C=r(96151),E=r(84306),P=r(14477),N=r(39182),O=r(85740),D=r(21959),I=r(63295),_=r(4254),Z=r(15489),k=r(11553),R=r(69271),L=r(36077),U=r(97458),M=r(99011),X=r(81817),A=r(24246);r F=function(e){if(!(0,j.X0)())return(0,A.jsxs)("div",{className:"ds-p-4",children:["Hi, it seems like third party data has been disabled in your browser. ESPNcricinfo stores gaming related data(eg: score) locally in your browser. So to play the game, please enable third party cookies from your browser-settings:",(0,A.jsx)("div",{children:(0,A.jsx)(M.Z,{label:"Chrome",anchorType:{href:"https://support.google.com/chrome/answer/95647?hl=en&co=GENIE.Platform%3DDesktop#zippy=%2Callow-or-block-cookies",isExternal:!0},labelVariant:X.Fu.COMFORTABLE_M})}),(0,A.jsx)("div",{children:(0,A.jsx)(M.Z,{label:"Safari",anchorType:{href:"https://support.apple.com/en-gb/guide/safari/sfri11471/mac",isExternal:!0},labelVariant:X.Fu.COMFORTABLE_M})})]});var t=(0,f.useState)({newUser:!1,playersDateInfo:null,playersStat:null,currentPlayerCard:0}),r=t[0],n=t[1],a=(0,f.useState)(0),o=a[0],u=a[1],x=(0,f.useRef)(null),v=(0,f.useContext)(w.ZP),S=v.showModal,C=v.showSnackbar,I=v.device,_=I.isMobile,k=I.screen,R=(0,y.Z)(k)===b.Hi.LANDSCAPE,Y=(0,Z.hQ)();(0,f.useEffect)((,[R]),(0,p.Z)((function(){var e=!(0,Z.QE)(6),t=c()().format("YYYY-MM-DD");(0,Z.l1)(t),(0,Z.Io)(6,t,function(){var e=(0,s.Z)(l().mark((function e(r){var n,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.u1)();case 3:return n=e.sent,e.next=6,n.getGameTrumpPlayers({date:t,code:r,filter:{seriesId:null,classId:Y}});case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{players:[]});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()).then((function(s){var a=(0,Z.Ll)(Y,t);n(B(B({},r),{},{playersDateInfo:s,playersStat:a,currentPlayerCard:a.daily.currentTrumpCardRefNo,newUser:e}))})).catch(()}));var F=function(e,t){r.newUser&&_&&C({text:(0,A.jsxs)("div",{className:"ds-flex ds-space-x-4 ds-items-center",children:[(0,A.jsx)(U.Z,{url:"/static/images/trump-player-swipe.gif",variant:X.N6.SQUARE,size:X.Ui.WIDTH_80,width:60,height:60,lazy:!1,alt:""}),(0,A.jsx)("span",{children:"Swipe left or right for the next card."})]})});var s=c()().format("YYYY-MM-DD"),a=(0,Z.Al)(Y,s,e,t);n(B(B({},r),{},{playersStat:a,newUser:!1}))},G=H=return(0,A.jsxs)(m.Z,{className:"ci-trump-game ci-tungsten-semibold",children:[(0,A.jsx)(d.default,{children:(0,A.jsx)("style",{id:"trumpGameFonts",dangerouslySetInnerHTML:{__html:"\n                @font-face {\n                  font-family: 'Tungsten Book';\n                  src: url('/static/fonts/Tungsten/Tungsten-Book.woff') format('woff'),\n                    url('/static/fonts/Tungsten/Tungsten-Book.ttf') format('ttf'),\n                    url('/static/fonts/Tungsten/Tungsten-Book.eot') format('eot');\n                  font-weight: normal;\n                  font-style: normal;\n                  font-display: swap;\n                }\n                @font-face {\n                  font-family: 'Tungsten';\n                  src: url('/static/fonts/Tungsten/Tungsten-Semibold.woff') format('woff'),\n                    url('/static/fonts/Tungsten/Tungsten-Semibold.ttf') format('ttf'),\n                    url('/static/fonts/Tungsten/Tungsten-Semibold.eot') format('eot');\n                  font-weight: 600;\n                  font-style: normal;\n                  font-display: swap;\n                }\n                body {\n                  overflow-y: ".concat(_?"hidden!important":"",";\n                }\n         ")}})}),(0,A.jsxs)(m.Z.Content,{className:"ds-overflow-hidden",children:[_?null:(0,A.jsx)(E.Z,{className:"ds-justify-end ds-m-2 ds-mb-0"}),r.newUser?S((0,A.jsx)(P.Z,{firstTimeUser:r.newUser})):null,null!==r.playersStat?(0,A.jsxs)("div",{className:"ds-flex ds-flex-col ds-justify-between ds-px-2",children:[(0,A.jsxs)("div",{className:"ds-grow ds-relative ds-w-full ds-py-5 ds-scrollbar-hide",style:{height:_?"".concat(o-48-68,"px"):"620px",overflowY:"auto"},children:[r.playersStat.daily.players.map((function(e,t){return t<r.currentPlayerCard?null:4===t&&_?(0,A.jsxs)(f.Fragment,{children:[(0,A.jsx)("div",{ref:x,className:"ds-absolute ds-w-full ds-bg-fill-canvas ds-z-[93] ds-rounded-2xl ds-flex ds-items-center ds-justify-center ds-h-[574px]",children:(0,A.jsx)(h.ZP,{startIcon:g.v.CLOSE_CIRCLE_FILLED,className:"ds-absolute ds-right-1 ds-top-6",variant:h.Tu.TEXT_SECONDARY_NO_PADDING,onClick:H})}),(0,A.jsx)(N.ZP,{playersDateInfo:r.playersDateInfo,playerStat:r.playersStat.daily.players[t],cardNo:t,currentTrumpCardRefNo:r.playersStat.daily.currentTrumpCardRefNo,onUpdateCurrentCard:G,onUpdatePlayerStat:F},t)]},t):(0,A.jsx)(N.ZP,{playersDateInfo:r.playersDateInfo,playerStat:r.playersStat.daily.players[t],cardNo:t,currentTrumpCardRefNo:r.playersStat.daily.currentTrumpCardRefNo,onUpdateCurrentCard:G,onUpdatePlayerStat:F},t)})),r.playersStat.daily.isCompleted?(0,A.jsx)(D.Z,{totalScore:(0,Z.PE)(r.playersStat.daily.players),style:{height:"574px"},isEmbedded:!0}):null]}),(0,A.jsx)("div",{className:"ds-flex ds-justify-between ds-p-4 ds-mt-4",children:r.playersStat.daily.players.map((function(e,t){return(0,A.jsxs)("div",{className:i()("ds-w-4 ds-h-5 ds-rounded ds-flex ds-justify-center ds-items-center ds-cursor-pointer",{"ds-bg-ui-fill-primary ds-border-ui-fill-primary":r.currentPlayerCard===t,"ds-bg-alert-fill-success":!0===e.won,"ds-bg-raw-red ds-border-raw-red":!1===e.won,"ds-bg-ui-fill-alternate ds-border-ui-stroke":null===e.won}),onClick:function(){return function(e,t){if(null===e)return!1;S((0,A.jsx)(O.Z,{playersDateInfo:r.playersDateInfo,playersStat:r.playersStat,currentPlayerCard:t}))}(e.won,t)},children:[!0===e.won?(0,A.jsx)(L.ZP,{name:g.v.CHECK_FILLED,size:X.XR.XXS,color:X.BG.INVERSE}):null,!1===e.won?(0,A.jsx)(L.ZP,{name:g.v.CLOSE_SOLID,size:X.XR.XXS,color:X.BG.INVERSE}):null]},t)}))})]}):null]})]})};F.getMobileAppBar=function(e){var t=(0,f.useContext)(w.ZP).showModal,r={type:x.iD.TEXT,title:"Trump cards",anchorType:{href:(0,R.dr)()}},n=[{name:g.v.CHART_OUTLINE,onClick:function(){return t((0,A.jsx)(I.Z,{}))}},{name:g.v.HELP_OUTLINE,onClick:function(){return t((0,A.jsx)(P.Z,{}))}}];return(0,A.jsx)(v.Z,{title:r,icons:n})},F.getInitialProps=function(){var e=(0,s.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.u1)();case 2:return r=e.sent,e.next=5,r.getGameTrumpPlayersPage({lang:t.appNextJsContext.lang});case 5:return n=e.sent,(0,C.es)(t,300),e.abrupt("return",{data:n,layout:{type:S.g.PREVIEW,ad:{gpt:{}},analytics:(0,_.tq)(),seo:(0,k.Z9)()}});case 8:case"end":return e.stop()}}),e)})));return (),t.default=F},13373:,);