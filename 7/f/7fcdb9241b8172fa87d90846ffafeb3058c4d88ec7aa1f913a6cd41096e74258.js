(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3620],{49246:function(e,t,r){"use strict";r.d(t,{m:function(){return b}});var n=r(87462),o=r(45987),i=r(67294),a=(r(19626),r(14141)),c=r(29378),s=r(17433),l=(0,a.ZP)(c.Z).withConfig({displayName:"NeighborhoodCardstyles__StyledNeighborhoodCard",componentId:"rui__eu28cd-0"})(["@media ","{a,a:hover{display:block;color:",";text-decoration:none;}}.ellipsis{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}.data-value{font-weight:",";}"],(,(function(e){return e.theme.color.text.primary}),();l.defaultProps={theme:s.t};var u=r(36800),d=r(12309),f=r(68676),p=r(85893),h=["children","href"],m=["href"],g=["data","link","LinkComponent","media","legacyMediaRatio","listingCountLabel","medianPriceLabel"],v=function(e){var t=e.children,r=e.href,i=(0,o.Z)(e,h);return(0,p.jsx)("a",(0,n.Z)({className:"card-link","data-testid":"card-link",href:r},i,{children:t}))},y={top:"4px",bottom:"4px"},b=(0,i.forwardRef)((function(e,t){var r,i=e.data,a=void 0===i?{}:i,c=a.listingCount,s=a.medianPrice,h=a.name,b=e.link,_=void 0===b?{}:b,j=_.href,w=void 0===j?"":j,O=(0,o.Z)(_,m),x=e.LinkComponent,k=void 0===x?v:x,P=e.media,C=e.legacyMediaRatio,L=e.listingCountLabel,N=void 0===L?"Listings for sale":L,Z=e.medianPriceLabel,D=void 0===Z?"Median listing price":Z,I=(0,o.Z)(e,g),M="View properties in neighborhood ".concat(h);return(0,p.jsx)(l,(0,n.Z)({ref:t},I,{children:(0,p.jsxs)(k,(0,n.Z)({"aria-label":M,href:w},O,{children:[(0,p.jsx)(u.Z,{ratio:C?[2,1]:void 0,children:P}),(0,p.jsxs)(d.a,{children:[(0,p.jsx)(f.D,{as:"div",className:"ellipsis","data-testid":"nh-name",styleType:"display500",children:h}),(0,p.jsxs)(f.D,{gutter:y,styleType:"body200",children:[(0,p.jsx)("span",{className:"data-value","data-testid":"nh-listing-count",children:c?c.toLocaleString():0})," ",N]}),(0,p.jsxs)(f.D,{styleType:"body200",children:[(0,p.jsx)("span",{className:"data-value","data-testid":"nh-median-price",children:(r=s,r?Number(r).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}):"N/A")})," ",D]})]})]}))}))}))},7942:function(e,t,r){"use strict";var n=r(85696);t.default=void 0;var o,i=(o=r(67294))&&o.__esModule?o:{default:o},a=r(64957),c=r(69898),s=r(90639);var l={};ar d=function(e){var t,r=!1!==e.prefetch,o=c.useRouter(),d=i.default.useMemo((,[o,e.href,e.as]),f=d.href,p=d.as,h=e.children,m=e.replace,g=e.shallow,v=e.scroll,y=e.locale;"string"===typeof h&&(h=i.default.createElement("a",null,h));var b=(t=i.default.Children.only(h))&&"object"===typeof t&&t.ref,_=s.useIntersection({rootMargin:"200px"}),j=n(_,2),w=j[0],O=j[1],x=i.default.useCallback((,[b,w]);i.default.useEffect((,[p,f,O,y,r,o]);var k={ref:x,onClick:onMouseEnter:;if(e.passHref||"a"===t.type&&!("href"in t.props)){var P="undefined"!==typeof y?y:o&&o.locale,C=o&&o.isLocaleDomain&&a.getDomainLocale(p,P,o&&o.locales,o&&o.domainLocales);k.href=C||a.addBasePath(a.addLocale(p,P,o&&o.defaultLocale))}return i.default.cloneElement(t,k)};t.default=d},90639:function(e,t,r){"use strict";var n=r(85696);Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,r=e.rootMargin,l=e.disabled||!a,u=o.useRef(),d=o.useState(!1),f=n(d,2),p=f[0],h=f[1],m=o.useState(t?t.current:null),g=n(m,2),v=g[0],y=g[1],b=o.useCallback((,[l,v,r,p]);return o.useEffect((,[p]),o.useEffect((,[t]),[b,p]};var o=r(67294),i=r(26286),a="undefined"!==typeof IntersectionObserver;var c=new Map,s=[]},3620:function(e,t,r){"use strict";r.r(t),r.d(t,{RecommendedNeighborhoods:);var n=r(67294),o=r(47803),i=r(5892),a=r(96272),c=r(81638),s=r(30089),l=r(67955),u=r(50029),d=r(59499),f=r(87794),p=r.n(f),h=r(11987),m=r.n(h),g=r(65941),v=r(97914),y=r(5480);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=(0,v.j)("NIQ-Service"),w=function(){var e=(0,u.Z)(p().mark((function e(t){var r,n,o,i,a,c,s,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r="".concat(g.config.RDC_X_API_CLIENT,"/niq-suggest"),n=m().format({pathname:r,query:{client_id:g.config.CLIENT_ID,slugId:t}}),o=new y.v,e.next=8,o.get(n);case 8:if(i=e.sent,a=i.result,(c=a.result).insights){e.next=13;break}return e.abrupt("return",{});case 13:return s=c.insights.slice(0,4),l=s.map((function(e){return _(_({},e),{},{cover:e.image?"".concat(g.config.LOCAL_CLOUDINARY,"/image/upload/w_305,h_150/c_fill,q_80,f_auto/").concat(e.image.public_id):e.map})})),e.abrupt("return",{insights:l,area_type:c.area_type});case 18:e.prev=18,e.t0=e.catch(2),j.error("Failed to fetch insights",e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return (),O=r(51795),x=r(59653),k=r(49246),P=r(14141),C=(0,P.ZP)(x.d).withConfig({displayName:"styles__StyledCardModule",componentId:"sc-2c0fa3-0"})(["padding-top:8px;"]),L=(0,P.ZP)(k.m).withConfig({displayName:"styles__StyledNeighborhoodCard",componentId:"sc-2c0fa3-1"})(["img{transition:transform 0.2s;}img:hover{transform:scale(1.1);}picture{position:absolute;top:0;left:0;width:100%;height:100%;}"]),N=P.ZP.div.withConfig({displayName:"styles__CardContainer",componentId:"sc-2c0fa3-2"})(["position:relative;.hot-market-badge{position:absolute;top:8px;left:8px;}"]),Z=r(27e3);r M=r(85893),E=n.memo((function(e){var t=e.property,r=t.cover,o=t.geo,i=t.housing_market,a=t.image,c=t.slugId,s=o[o.area_type],l=a?a.alt:s,u=c),d=function(e){var t=(e.by_prop_type||{}).home;return I(I({},e),t)}(i),f=d.listing_count,p=d.median_listing_price,h={linkName:"recommended_neighborhoods:map_view",clickToken:t.click_token||null},m=(0,Z.Z)({href:u,trackingProps:h}),g=(0,n.useMemo)((,[s,f,p]),v=(0,n.useMemo)((,[r,l]);return(0,M.jsx)(N,{"data-testid":"card-container",children:(0,M.jsx)(L,{data:g,media:(0,M.jsx)(O.Y,{pictureProps:v}),legacyMediaRatio:!0,LinkComponent:m,"data-testid":"neighborhood-card",medianPriceLabel:"Median Listing Home Price"})})})),R={city:"cities",postal_code:"zip codes"},S=function(){var e=(0,i.$Y)(),t=(0,o.Z)(w,e),r=t.data;return t.isLoading&&e?(0,M.jsx)(l.Z,{}):(0,s.Z)(r)?null:(0,M.jsxs)(c.PQ,{children:[(0,M.jsx)(a.h,{headerText:"Recommended ".concat(R[r.area_type]?R[r.area_type]:"neighborhoods"),subHeaderText:"Based on your previous search"}),(0,M.jsx)(C,{"data-testid":"neighborhood-row",children:r.insights.map(()})]})}},27e3:function(e,t,r){"use strict";var n=r(4730),o=(r(67294),r(41664)),i=r(52259),a=r(48905),c=r(85893),s=["children"];t.Z=function(e){var t=e.href,r=e.trackingProps,l=void 0===r?{}:r,u=e.linkRef;return function(e){var r=e.children,d=(0,n.Z)(e,s);return(0,c.jsx)(o.default,{href:(0,i.T5)(t),children:(0,c.jsx)("a",{"data-testid":"card-link",onClick:className:"card-anchor","aria-label":d["aria-label"],ref:u,children:r})})}}},41664:]);