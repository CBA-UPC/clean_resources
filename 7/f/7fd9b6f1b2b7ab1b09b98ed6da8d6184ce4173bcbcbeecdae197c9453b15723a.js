!function(){var t,e={610:function(){void 0===Node.prototype.contains&&(Node.prototype.contains=},7351:function(t,e,i){"use strict";var s={};i.r(s);i(6992),i(8255),i(8675),i(3105),i(6319),i(3462),i(3824),i(5016),i(7380),i(1118),i(2801),i(2472),i(2772),i(3210);!function(t,e,i){unction n(t){for(var e,i,s,n,a,r,o,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",h=0;h<t.length;)n=(e=t[h++])>>2,a=(3&e)<<4|(i=h<t.length?t[h++]:Number.NaN)>>4,r=(15&i)<<2|(s=h<t.length?t[h++]:Number.NaN)>>6,o=63&s,isNaN(i)?r=o=64:isNaN(s)&&(o=64),l+=d.charAt(n)+d.charAt(a)+d.charAt(r)+d.charAt(o);return l}function a(t,e,i){i.addEventListener(t,(,!1)}var r={keySystem:null,certificate:null,player:null,contentUrl:null,contentId:null,licenseUrl:null,pallyconCustomData:null,fairplay:function(t){void 0!==t.player&&(r.player=t.player),void 0!==t.content_url&&(r.contentUrl=t.content_url),void 0!==t.pallycon_custom_data&&(r.pallyconCustomData=t.pallycon_custom_data),void 0!==t.license_url&&(r.licenseUrl=t.license_url);var e=new XMLHttpRequest;e.responseType="text",e.addEventListener("load",r.onCertificateLoaded,!1),e.addEventListener("error",r.onCertificateError,!1),e.open("GET",t.certificate_uri,!0),e.setRequestHeader("Pragma","Cache-Control: no-cache"),e.setRequestHeader("Cache-Control","max-age=0"),e.send()},onCertificateLoaded:function(t){var e=t.target;r.certificate=s(e.response),r.player.src({src:r.contentUrl}),r.player.tech_.el_.addEventListener("webkitneedkey",r.onNeedKey,!1),r.player.tech_.el_.addEventListener("error",r.onError,!1)},onCertificateError:function(e){t.console.error("Failed to retrieve the server certificate.")},extractContentId:function(t){var i;return r.contentId=(i=new Uint16Array(t.buffer),String.fromCharCode.apply(null,i)),e.createElement("a").href=r.contentId,r.contentId.substring(r.contentId.indexOf("skd://")+6)},concatInitDataIdAndCertificate:function(t,e,i){"string"==typeof e&&(e=e));var s=0,n=new ArrayBuffer(t.byteLength+4+e.byteLength+4+i.byteLength),a=new DataView(n);new Uint8Array(n,s,t.byteLength).set(t),s+=t.byteLength,a.setUint32(s,e.byteLength,!0),s+=4;var r=new Uint16Array(n,s,e.length);return r.set(e),s+=r.byteLength,a.setUint32(s,i.byteLength,!0),s+=4,new Uint8Array(n,s,i.byteLength).set(i),new Uint8Array(n,0,n.byteLength)},selectKeySystem:function(){if(!WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))throw"Key System not supported";r.keySystem="com.apple.fps.1_0"},onError:function(e){t.console.error("A video playback error occurred")},onNeedKey:function(t){var e=t.target,i=t.initData,s=r.extractContentId(i);if(i=r.concatInitDataIdAndCertificate(i,s,r.certificate),e.webkitKeys||(r.selectKeySystem(),e.webkitSetMediaKeys(new WebKitMediaKeys(r.keySystem))),!e.webkitKeys)throw"Could not create MediaKeys";var n=e.webkitKeys.createSession("video/mp4",i);if(!n)throw"Could not create key session";n.contentId=s,a("webkitkeymessage",r.licenseRequestReady,n),a("webkitkeyadded",r.onKeyAdded,n),a("webkitkeyerror",r.onKeyError,n)},licenseRequestReady:function(t){var e=t.target,i=t.message,s=new XMLHttpRequest;t.sessionId;s.responseType="text",s.session=e,s.addEventListener("load",r.licenseRequestLoaded,!1),s.addEventListener("error",r.licenseRequestFailed,!1),console.log("spc="+n(i));var a="spc="+n(i)+"&assetId="+encodeURIComponent(e.contentId);s.open("POST",r.licenseUrl,!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.setRequestHeader("pallycon-customdata-v2",r.pallyconCustomData),s.send(a)},licenseRequestLoaded:function(t){var e=t.target,i=e.session,n=e.responseText.trim();n=s(n),i.update(n)},licenseRequestFailed:function(e){t.console.error("The license request failed.")},onKeyError:function(e){t.console.error("A decryption key error was encountered")},onKeyAdded:;t.pallyCon=r||""}(window,window.document,window.videojs);i(4609),i(610);var n=i(3379),a=i.n(n),r=i(7795),o=i.n(r),d=i(569),l=i.n(d),h=i(3565),c=i.n(h),u=i(9216),p=i.n(u),m=i(4589),g=i.n(m),v={};v.styleTagTransform=g(),v.setAttributes=c(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();a()(s.default,v),s.default&&s.default.locals&&s.default.locals;void 0===window.playback&&(window.playback={}),window.playback.Timing=i(9585).Y,window.playback.Player=i(9188).J},9188:function(t,e,i){"use strict";i.d(e,{J:function(){return Wi}});i(2772),i(6992),i(3948),i(4916),i(5306),i(4747),i(6699),i(2023),i(5827),i(7327);class s{constructor(t){this._ad=t}ad(){return this._ad}isLinear(){return this.ad().isLinear()}getDuration(){return this.ad().getDuration()}isSkippable(){return this.ad().isSkippable()}getAdId(){return this.ad().getAdId()}getAdSystem(){return this.ad().getAdSystem()}getAdvertiserName(){return this.ad().getAdvertiserName()}getApiFramework(){return this.ad().getApiFramework()}getContentType(){return this.ad().getContentType()}getCreativeId(){return this.ad().getCreativeId()}getTitle(){return this.ad().getTitle()}getWidth(){return this.ad().getWidth()}getHeight(){return this.ad().getHeight()}getVastMediaWidth(){return this.ad().getVastMediaWidth()}getVastMediaHeight(){return this.ad().getVastMediaHeight()}getVastMediaBitrate(){return this.ad().getVastMediaBitrate()}getWrapperAdIds(){return this.ad().getWrapperAdIds()}getWrapperCreativeIds(){return this.ad().getWrapperCreativeIds()}getWrapperAdSystems(){return this.ad().getWrapperAdSystems()}getTraffickingParametersString(){return this.ad().getTraffickingParametersString()}getAdPodInfo(){return this.ad().getAdPodInfo()}getPodIndex(){return this.getAdPodInfo().getPodIndex()}getPodTimeOffset(){return this.getAdPodInfo().getTimeOffset()}getPodTotalAds(){return this.getAdPodInfo().getTotalAds()}getPodAdPosition(){return this.getAdPodInfo().getAdPosition()}getMinSuggestedDuration(){return this.ad().getMinSuggestedDuration()}getSkipTimeOffset(){return this.ad().getSkipTimeOffset()}getDealId(){return this.ad().getDealId()}}i(3520),i(4765);function n(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vidio_default";unction i(){if(window[e()]||(window[e()]={}),window.support_local_storage)return!0;try{const t="adapter-check-new";return localStorage.setItem(t,t),localStorage.removeItem(t),window.support_local_storage=!0,!0}catch(t){return window.support_local_storage=!1,!1}}function s(){i()?localStorage.clear():window[e()]={}}function n(t){return i()?localStorage.getItem(t):window[e()].hasOwnProperty(t)?window[e()][t]:null}function a(t){return i()?localStorage.key(t):Object.keys(window[e()])[t]||null}function r(t){i()?localStorage.removeItem(t):delete window[e()][t]}function o(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i()?localStorage.setItem(t,s):window[e()][t]=String(s)}function d(){return i()?localStorage.length:Object.keys(window[e()]).length}return{isSupported:i,getItem:n,setItem:o,removeItem:r,clear:s,key:a,get length}i(3123);class a{static global(){return window.location}static reload(){this.global().reload(...arguments)}static href(t){if(void 0===t)return this.global().href;this.global().href=t}static search(){const t=this.global().search.replace("?","").split("&");var e={};return t.forEach((t=>{if(!t)return;const i=t.split("=");e[i[0]]=i[1]})),e}}class r{static global(){var t;return null!==(t=window.ahoy)&&void 0!==t&&t.isReady?window.ahoy:this.tempAhoy()}static noop(){}static tempAhoy(){return this.shouldSavePendingEvent()?{track:this.setToLocalStorage}:{track:this.noop}}static setToLocalStorage(t,e){const i=JSON.parse(n().getItem("tmp_ahoy_events"))||[];i.push([t,e]),n().setItem("tmp_ahoy_events",JSON.stringify(i))}static track(){this.global().track(...arguments),this.shouldLogEventOnConsole()&&this.logEventOnConsole(...arguments)}static shouldLogEventOnConsole(){return"1"===a.search().ahoy_debug}static shouldSavePendingEventtatic logEventOnConsole(t,e){window.console.warn(t,"+++",JSON.stringify(e))}}i(2222);class o{static getCookietatic setCookie(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";const n=null===i?"".concat(t,"=").concat(e,"; path=").concat(s):"".concat(t,"=").concat(e,"; expires=").concat(i,"; path=").concat(s);document.cookie=n}}class d{constructor(t){this.tech=t,this.cuePoint=null,this.el=null}init(){const t=this.tech.el(),e=document.createElement("div");e.className="ads-countdown hidden",t.appendChild(e),this.el=e,this.tech.on("timeupdate",()}CuePointsMidrollPod(t){return t.getAd().getAdPodInfo().getPodIndex()>0}isFirstAdOfPod(t){return 1===t.getAd().getAdPodInfo().getAdPosition()}pdateMessageisplay(){if(this.shouldKeepHidden())return this.hide(),void(this.shouldReset()&&(this.cuePoint=null));this.updateMessage(),this.show()}alculateCountdown(){return Math.ceil(this.cuePoint-this.tech.currentTime())}ithinRange(){const t=this.calculateCountdown();return t>0&&t<=5}hide(){this.el.classList.add("hidden")}show(){this.el.classList.remove("hidden")}}i(4723);class l{static connectiontatic hasNetworkInformationObject(){return!!this.connection()}static liteModeEnabled(){return!!this.hasNetworkInformationObject()&&this.connection().saveData}static effectiveTypetatic downlink(){return this.hasNetworkInformationObject()?this.connection().downlink:-1}static typeclass h{static global(){return window.document}static referrer(){return this.global().referrer}static viewportWidth(){return this.global().documentElement.clientWidth}static fullscreenElement(){return this.global().fullscreenElement}}i(6755),i(285),i(1637),i(1817);class c{formatVersiontActiveXObject(t){var e=null;return this.isActiveXObjectSupported()&&(e=new ActiveXObject(t)),e}lashMimeType(){return this.getMimeTypes()&&this.getMimeTypes()["application/x-shockwave-flash"]}flashMimeTypePluginDescription(){var t=this.flashMimeType();if(t)return t.enabledPlugin&&t.enabledPlugin.description}getMimeTypes(){return navigator.mimeTypes}isHasPlugintRawVersionForFlash7(){var t,e;try{(e=this.getActiveXObject("ShockwaveFlash.ShockwaveFlash.7"))&&(t=this.getActiveXObjectVersion(e))}catch(t){}return t}getRawVersionForFlash6(){var t,e;try{(e=this.getActiveXObject("ShockwaveFlash.ShockwaveFlash.6"))&&(t="6,0,0",this.triggerAllowScriptAccessFlash6(e),t=this.getActiveXObjectVersion(e))}catch(t){}return t}getRawVersionForFlash(){var t,e;try{(e=this.getActiveXObject("ShockwaveFlash.ShockwaveFlash"))&&(t=this.getActiveXObjectVersion(e))}catch(t){}return t}getRawVersion(){var t;return this.isHasPlugin()&&(t=this.flashMimeTypePluginDescription()),t||(t=this.getRawVersionForFlash7()||this.getRawVersionForFlash6()||this.getRawVersionForFlash()||"0,0,0"),t}class u{constructor(){var t=navigator.userAgent;this._regexes=i(337).U,this._parser=i(1296)(this._regexes),this._result=this._parser.parse(t)}compact(t){var e=[];for(var i in t){var s=t[i];s&&e.push(s)}return e}result(){return this._result}getBrowser(){var t=this.result().ua;return{name:t.family,version:this.compact([t.major,t.minor,t.patch]).join("."),major:t.major,minor:t.minor,patch:t.patch}}getOS(){var t=this.result().os;return{name:t.family,version:this.compact([t.major,t.minor,t.patch,t.patchMinor]).join(".")}}getDevicefunction p(t){return!!window.playback_feature_toggle&&window.playback_feature_toggle.indexOf(t)>=0}class m{static flashVersion(){return this._flashVersion=this._flashVersion||(new c).get()}static uaParsertatic browserName(){return this.uaParser().getBrowser().name}static browserVersion(){return this.uaParser().getBrowser().version}static browserVersionMajor(){return parseInt(this.uaParser().getBrowser().major)}static osName(){return this.uaParser().getOS().name}static osVersion(){return this.uaParser().getOS().version}static osVersionMajor(){let t=this.osVersion();return t?t.split(".")[0]:""}static deviceModel(){return this.uaParser().getDevice().model}tatic platform(){return m.isMobileSite()?"web-mobile":m.isMicroSite()?m.utmSource():"web-desktop"}static referrer(){return document.referrer}static pathname(){return location.pathname}static currentEnv(){return{flash_version:this.flashVersion(),browser_name:this.browserName(),browser_version:this.browserVersion(),os_name:this.osName(),os_version:this.osVersion(),device_model:this.deviceModel(),device_vendor:this.deviceVendor(),platform:this.platform(),referrer:this.referrer(),app_name:"vidio",event_time:this.eventTime(),vp9_support:this.isSupportVp9(),lite_mode:l.liteModeEnabled(),user_agent:navigator.userAgent,connection_speed:l.downlink(),connection:l.effectiveType()}}static hostname(){return location.hostname}static locationSearch(){return location.search}static locationHref(){return location.href}static utmSource(){var t=this.locationSearch().match(/utm_source=([a-zA-Z0-9-_]*)/i);return t&&t[1]?t[1]:null}static isDesktopSite(){return!this.isMobileSite()}static isMobileSite(){return!!this.hostname().match(/^(m|lite)\./)}static isLiteSite(){return!!this.hostname().match(/^lite\./)}static isMicroSitetatic isPrerollAdsEnabled(){const t=this.browserName(),e=this.browserVersion(),i=this.osName(),s=t=>e.substring(0,e.indexOf("."))>=t;return"iOS"==i?p("enable_preroll_on_ios"):"Android"!=i||(!(!t.startsWith("Samsung")||!s(5))||!!s(39))}tatic hasAdBlocker(){const t=document.querySelector(".ads img");return!!t&&"none"===getComputedStyle(t).display}static isOSiOStatic isBrowserSafari(){return["Safari","Mobile Safari"].includes(m.browserName())}static isSupportVp9(){if("iOS"==this.osName())return!1;const t=this.browserName(),e=this.browserVersion(),i=t=>e.substring(0,e.indexOf("."))>=t;return!(!t.startsWith("Chrome")||!i(29))||(!("Edge"!=t||!i(14))||(!("Firefox"!=t||!i(28))||!("Opera"!=t||!i(11))))}static isWatchPage(){const t=new URL(a.href()).pathname;if(t.includes("/embed"))return!1;const e=t.match(/\/(watch|live)\//g);return null!==e&&!!e.length}static isEdgetatic desktopSupportPlayready(){return this.isDesktopSite()&&this.isEdge()&&"Windows"===this.osName()&&Number(this.osVersion())>=10}static isNotSupportedChromeVersion(){return!this.desktopSupportPlayready()&&(m.isDesktopSite()&&m.osName().includes("Windows")&&"Chrome"===m.browserName()&&m.browserVersionMajor()<=106)}static isForcedToUseHLS(){return new URLSearchParams(a.global().search).has("hls")}}class g{static volumeStorageName(){return"playback_volume_state"}static muteStorageName(){return"playback_mute_state"}shouldInit(){return"false"===this.data().embed()&&!1===m.isMobileSite()}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i}tech(){return this._tech}data(){return this._data}isNotSafari(){return!["Safari","Mobile Safari"].includes(m.browserName())}init(){this.bindLoadstart(),this.bindWindowUnload()}bindLoadstart(){this.tech().on("loadstart",(()=>{this.setVolumeFromLocalStorage(),this.isNotSafari()&&this.setMuteFromLocalStorage()}))}setVolumeFromLocalStorage(){const t=n().getItem(g.volumeStorageName());null!=t&&this.tech().volume(Number(t))}setMuteFromLocalStorage(){const t=n().getItem(g.muteStorageName());if(null!=t){const e="true"===t;this.tech().muted(e)}}bindWindowUnload(){const t="Mobile Safari"===m.browserName()?"pagehide":"beforeunload";window.addEventListener(t,this.windowUnloadCallback.bind(this))}windowUnloadCallback(){this.tech().isDisposed()||(this.storeVolumeState(),this.isNotSafari()&&this.storeMuteState())}storeVolumeState(){const t=this.tech().volume();n().setItem(g.volumeStorageName(),JSON.stringify(t))}storeMuteState(){const t=this.tech().muted();n().setItem(g.muteStorageName(),JSON.stringify(t))}}i(4603),i(8450);var v=i(7673);class b{atic addQueryParamtatic getQueryParam(t,e){e=e.replace(/[[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i&&i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):""}}class y{constructor(t){if(this._uri="",this._adUnit="",this._adSize="",!t)return;const e=this._validateUri(t);e&&(this._uri=e,this._adUnit=b.getQueryParam(this._uri,"iu"),this._adSize=b.getQueryParam(this._uri,"sz"))}_validateUri(t){try{decodeURIComponent(t)}catch(e){t=""}return t}getAdTag(){return this._uri}getAdUnit(){return this._adUnit}getAdSize(){return this._adSize}setAdTag(t){this._uri=t}isVmap(){const t=this.getAdTag(),e=t.indexOf("output=vmap")>=0,i=t.indexOf("ad_rule=1")>=0;return e&&i}addNetworkTypeToAdTag(){let t=this.getAdTag();if(l.hasNetworkInformationObject()){const e=l.type();null!=e&&(t=b.addQueryParam(t,"con",e))}return this._uri=t,this}addVidioEmbedSite(){if("false"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"false"))return this;let t=this.getAdTag();const e=h.referrer().match(/^(?:https?:\/\/)?(?:[^@\n]+@)?([^:/\n]+)/im),i=null!==e?e[1]:"null";return t.indexOf("cust_params=")<0&&(t=b.addQueryParam(t,"cust_params","")),this._uri=t.replace("cust_params=","cust_params=vidio_embed_site%3D".concat(encodeURIComponent(i),"%26")),this}replaceVidioMuted(t){let e=this.getAdTag();const i=n().getItem(g.muteStorageName()),s=i||t;return this._uri=e.replace("[$vidioMuted$]",s),this}setChildDirectedTreatment(){const t="true"==n().getItem("kids");let e=this.getAdTag();return t&&(e=b.addQueryParam(e,"tfcd","1")),this._uri=e,this}}var _=i(7701);i(2232),i(686),i(2647);window.videojs=_.default;i(1249);class f{constructor(t,e,i){this.width=t,this.height=e,this.bitrate=i,Object.freeze(this)}static invalid(){return new f(-1,-1,-1)}}class w{constructor(t){this._instance=t}instance(){return this._instance}vhsObject(){return this.instance().tech({IWillNotUseThisInPlugins:!0}).vhs}hls(){return"function"==typeof this.instance().tech&&void 0!==this.vhsObject()?this.vhsObject():this.hlsNoop()}hlsNoop(){return{representations:playlists:this.noopPlaylists()}}representations(){if(void 0!==this.hls().representations){for(var t=this.hls().representations(),e=0;e<t.length;e++){var i=t[e];void 0===i.height&&(i.height=0),void 0===i.enabled&&(i.enabled=function(){})}return t}return[]}getCurrentMediaAttribute(){let t=null;const e=this.playlists().media();e&&e.attributes&&e.attributes.RESOLUTION&&(t=e.attributes.RESOLUTION.height);const i=this.representations().filter(().map(();return 0!=i.length?i[0]:f.invalid()}playlists(){if(void 0!==this.hls().playlists){var t=this.hls().playlists;return void 0===t.master&&(t.master={playlists:[]}),void 0===t.master.playlists&&(t.master.playlists=[]),void 0===t.media&&(t.media=function(){return{attributes:{}}}),t}return this.noopPlaylists()}playlistMasterPlaylists(){for(var t=this.playlists().master.playlists,e=[],i=0;i<t.length;i++)e[i]=new k(t[i]);return e}playlistsMediaAttributesBandwidth(){var t=this.playlists().media()||{};return void 0!==t.attributes&&void 0!==t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:0}noopPlaylists(){return{master:{playlists:[]},media:}}class k{constructor(t){this._instance=t}instance(){return this._instance}bandwidth(){return void 0!==this.instance().attributes&&void 0!==this.instance().attributes.BANDWIDTH?this.instance().attributes.BANDWIDTH:0}}class S{constructor(t){this._instance=t}instance(){return this._instance}vhsObject(){return this.instance().tech({IWillNotUseThisInPlugins:!0}).vhs}hasDashObject(){return!this.vhsObject()&&!!this.dash()}dash(){return this.instance().dash}nableAutoSwitchQuality(){this.mediaPlayer().resetSettings()}setVideoQuality(t){this.mediaPlayer().resetSettings(),this.mediaPlayer().updateSettings({streaming:{fastSwitchEnabled:!0,abr:{autoSwitchBitrate:{video:!1}}}}),this.mediaPlayer().setQualityFor("video",t)}setVideoQualityWithMaxBitrate(t){this.mediaPlayer().resetSettings(),this.mediaPlayer().updateSettings({streaming:{abr:{maxBitrate:{audio:-1,video:Math.ceil(t/1e3)},minBitrate:{audio:-1,video:0}}}})}rawRepresentations(){return this.hasDashObject()?this.mediaPlayer().getBitrateInfoListFor("video"):[]}representations(){return this.rawRepresentations().map((t=>(t.enable=()=>{this.setVideoQuality(t.qualityIndex)},t.enableAsMaxQuality=t)))}getCurrentMediaAttribute(){if(0==this.hasDashObject())return f.invalid();const t=this.mediaPlayer().getQualityFor("video"),e=this.mediaPlayer().getBitrateInfoListFor("video");return null==e[t]?f.invalid():new f(e[t].width,e[t].height,e[t].bitrate)}}class C{static global(){return arguments.length>0?window.videojs(...arguments):window.videojs}static noop(){}static version(){return"vjs-core-7.19.2-ads-6-ima-628213d-dash-5.1.1"}constructor(){this._instance=C.global(...arguments),this._options=[...arguments]}instance(){return this._instance}options(){return this._options}id(){return this.instance().id()}duration(){return this.instance().duration()}currentTime(){try{return this.instance().currentTime(...arguments)}catch(t){return 0}}error(){return this.instance().error(...arguments)}trigger(){return this.instance().trigger(...arguments)}techName(){return this.instance().techName_}on(){return this.instance().on(...arguments)}one(){return this.instance().one(...arguments)}off(){return this.instance().off(...arguments)}readyState(){return this.instance().readyState(...arguments)}networkState(){return this.instance().networkState(...arguments)}isFullscreen(){return this.instance().isFullscreen(...arguments)}getVideoPlaybackQuality(){return this.instance().getVideoPlaybackQuality(...arguments)}dispose(){return this.instance().dispose(...arguments)}muted(){return this.instance().muted(...arguments)}play(){return this.instance().play(...arguments)}paused(){return this.instance().paused(...arguments)}pause(){return this.instance().pause(...arguments)}bigPlayButton(){return this.instance().bigPlayButton}controlBar(){return this.instance().controlBar}el(){return this.instance().el(...arguments)}imaSetup(){this.instance().ima(...arguments)}imaObject(){return this.instance().ima}poster(){return this.instance().poster(...arguments)}volume(){return this.instance().volume(...arguments)}hlsObject(){return void 0===this._hls&&(this._hls=new w(this.instance())),this._hls}dashObject(){return void 0===this._dash&&(this._dash=new S(this.instance())),this._dash}hasDashObject(){return this.dashObject().hasDashObject()}dsObject(){return void 0!==this.instance().ads?this.instance().ads:{}}isContentResuming(){var t,e;return!(null===(t=(e=this.adsObject()).isContentResuming)||void 0===t||!t.call(e))}masterPlaylist(){var t=this.hlsObject(),e=[];return t.playlistMasterPlaylists().forEach((function(t,i){e[i]={index:i+1,value:t.bandwidth()/1e3}})),e}levels(){return this.masterPlaylist().length}level(){var t;return this.masterPlaylist().forEach(function(e){this.currentBandwidth()==e.value&&(t=e.index)}.bind(this)),t}currentBandwidth(){return this.hlsObject().playlistsMediaAttributesBandwidth()/1e3}ended(){return this.instance().ended()}freeze(){void 0===this._play&&(this._play=this.instance().play,this.instance().play=C.noop)}unfreeze(){void 0!==this._play&&(this.instance().play=this._play,this._play=void 0)}addChild(){return this.instance().addChild(...arguments)}userActive(t){this.instance().userActive(t)}hideControlbar(){this.controlBar().hide()}hasStarted(){return this.instance().hasStarted()}static getComponent(){return C.global().getComponent(...arguments)}static registerComponent(){return C.global().registerComponent(...arguments)}static extend(){return C.global().extend(...arguments)}static plugin(){return C.global().plugin(...arguments)}static registerPlugin(){return C.global().registerPlugin(...arguments)}tatic isHtml5Supportedtatic isMpegUrlSupported(){return!!C.global().getTech("Html5").nativeSourceHandler.canPlayType("application/x-mpegURL")}static hlsXhr(){return C.global().Hls&&C.global().Hls.xhr||{}}remainingTime(){return this.instance().remainingTime()}currentSrc(){return this.instance().currentSrc()}hlsPlaylistMedia(){if(!this.hasDashObject())return this.hlsObject().playlists().media()}}var A=i(1248),T=i.n(A),E=i.p+"34fc5db324de959e71f7.json",P=C.getComponent("Component");C.registerComponent("LottieLoader",class extends P{constructor(t,e){super(t,e),this.updateText(e.text)}createEl(){const t=C.global().createEl("div",{id:"lottie-container",className:"vjs-hidden"});return t.innerHTML='<div id="lottie"></div><h1 class="text"></h1>',t}setupLottie(){T().loadAnimation({wrapper:this.$("#lottie"),animType:"svg",loop:!0,path:E})}updateText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Iklan sebentar lagi akan tayang";this.$(".text").innerHTML=t}});var I=i(6030);const B="fadeOutAudio",D="fadeInAudio";C.registerComponent("AdsTransition",class extends P{reateEl(){return C.global().createEl("div",{id:"ads-transition-container",className:"vjs-hidden"})}fadeIn(){return this._volume=this.player().volume(),this.player().trigger(B),this.decreaseAudio(),(0,I.Z)({targets:this.el(),opacity:1,duration:2e3,easing:"easeInOutQuad"}).finished}fadeOut(){this.player().trigger(D),this.increaseAudio(),(0,I.Z)({targets:this.el(),opacity:0,duration:2e3,easing:"easeInOutQuad",complete:()=>this.hide()})}decreaseAudio(){const t={vol:this.player().volume()};(0,I.Z)({targets:t,vol:0,easing:"linear",duration:2e3,update:()=>{this.player().volume(t.vol)}})}increaseAudio(){const t={vol:this.player().volume()};(0,I.Z)({targets:t,vol:this._volume||1,easing:"linear",duration:2e3,update:()=>{this.player().volume(t.vol)}})}});class M{constructor(t){let e=t.tech,i=t.threshold,s=t.adTag;this._hasBeenSetup=!1,this._tech=e,this._threshold=i,this._adTag=s}get tech(){return this._tech}get threshold(){return this._threshold}get adTag(){return this._adTag}start(t){this._hasBeenSetup&&(this._cueInTimestamp=t,this._startTimestamp=this.tech.currentTime(),this._startTime=new Date,this.adsTransition().show(),this.adsTransition().fadeIn().then((()=>{this.displayAds()})).catch(())}setup(){this._hasBeenSetup||this.isImaObjectDefined()&&(this.setupEvents(),this._hasBeenSetup=!0)}setupEvents(){this.tech.on("adserror",this.onAdError.bind(this)),this.tech.on("ads-manager",()}setCueOutTimestamp(t){this._cueOutTimestamp=t}resumeContent(){const t=this._startTimestamp+this.calculateElapsedTimeFrom(this._startTime);this.advancePlayer(t),this.resetTimestamp(),this.lottieLoader().hide(),this.adsTransition().fadeOut(),this.tech.play()}onAdError(){this.resumeContent()}tupEventOnAdCompleted(){this.ima().addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onCompleted.bind(this))}onCompleted(t){const e=null==t?void 0:t.getAd().getAdPodInfo();this.isLoadMoreDisabled()||this.shouldStop()||this.isAdPodEmpty(e)?this.resumeContent():this.displayAds()}setupEventOnAdProgress(){this.ima().addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,this.onAdProgress.bind(this))}onAdProgressalculateElapsedTimeFrom(t){return(new Date-t)/1e3}sAdPodEmpty(t){return void 0===t.data||0===t.getTotalAds()}hasReachedThreshold(){return this.calculateElapsedTimeFrom(this._startTime)>=this.threshold}isLoadMoreDisabled(){return p("turn_off_load_more_tvc_replacement")}hasReachedCueOut(){if(null==this._cueOutTimestamp)return!1;const t=(this._cueOutTimestamp-this._cueInTimestamp)/1e3;return this.calculateElapsedTimeFrom(this._startTime)>=t}displayAds(){this.replaceAdTag(),this.lottieLoader().show(),this.requestAds()}replaceAdTag(){this.adTag&&"function"==typeof this.ima().changeAdTag&&this.ima().changeAdTag(this.adTag)}requestAds(){"function"==typeof this.ima().requestAds&&this.ima().requestAds()}dvancePlayer(t){this.tech.currentTime(t)}lottieLoader(){return this.tech.plugin().instance().getChild("LottieLoader")}adsTransition(){return this.tech.plugin().instance().getChild("AdsTransition")}isImaObjectDefinedclass L{constructor(t,e,i,s){this._tech=t,this._data=e,this._uuidManager=i,this._adsParams=s,this._previousAdCurrentTime=0,this._currentAd=null,this._adCountingDown=!1,this._adsCountdown=new d(t),this._imaOptions={},this._tvcrHasBeenSetup=!1,this._cueInTvcrTimestamp=void 0,this._tvcrStartTime=void 0,this._tvcrStartTimestamp=void 0}tech(){return this._tech}data(){return this._data}uuidManager(){return this._uuidManager}adsCountdown(){return this._adsCountdown}player(){return this.tech().plugin().instance()}adState(){return this.player().ads._state}adsManager(){return this.ima().getAdsManager()}adTitle(){const t=this.currentAd();return null===t.ad()?"":t.getTitle()}adSkippable(){return this.adsManager().getAdSkippableState()}currentAdWidth(){return this.currentAd().getWidth()}currentAdHeight(){return this.currentAd().getHeight()}currentAdDuration(){return this.currentAd().getDuration()}currentAd(){return this._currentAd}isAdPaused(){return this._adPaused}adVolume(){return this._adVolume}adsParams(){return this._adsParams}imaOptions(){return this._imaOptions}imaOptionsFromHermes(){const t=this.adsParams().hermesVideoConfig();return{autoPlayAdBreaks:!(null==t||!t.auto_play_ad_breaks),tvcrCueOutThreshold:null==t?void 0:t.tvcr_cue_out_threshold}}adRemainingTime(){if(null==this.adsManager())return-1;const t=this.adsManager().getRemainingTime();return 0!==t||this._adCountingDown?(t>0&&(this._adCountingDown=!0),t):-1}adCurrentTime(){const t=this.adRemainingTime();return t<0?0:Math.ceil(this.currentAdDuration()-t)}containerEl(){return this.tech().el().querySelector(".ima-ad-container")}ima(){return this.tech().plugin().imaObject()}initializeAdDisplayContainer(){"function"==typeof this.ima().initializeAdDisplayContainer&&this.ima().initializeAdDisplayContainer()}requestAds(){"function"==typeof this.ima().requestAds&&this.ima().requestAds()}defaultOptions(){const t={prerollTimeout:window.prerollTimeout||5e3,adsRenderingSettings:{bitrate:this.data().adPreferredBitrate(),loadVideoTimeout:this.data().vastMediaDownloadTimeout(),enablePreloading:!0},disableCustomPlaybackForIOS10Plus:!1},e=o.getCookie("he_visitor_id")||r.global().visitorId;if(e){let i=e.replace(/-/g,"");i+="vidio",Object.assign(t,{ppid:i})}return t}setup(t,e){const i=Object.assign({id:t,adTagUrl:e},this.defaultOptions(),this.imaOptionsFromHermes());new y(e).isVmap()||(i.autoPlayAdBreaks=!0),i.adsRenderingSettings.enablePreloading=i.autoPlayAdBreaks,this._imaOptions=i,this.setupIma(i)}setupIma(t){this.tech().plugin().imaSetup(t),this.setupAdEvents()}imaAlreadySetup(){return"object"==typeof this.tech().plugin().imaObject()}request(){this.initializeAdDisplayContainer(),this.requestAds()}addEventListener(t,e){this.ima().addEventListener(t,e)}removeEventListener(t,e){this.ima().removeEventListener(t,e)}resume(){this.ima().onContentResumeRequested_()}skip(){this.adsManager().skip()}setupAdEvents(){this.tech().on("adsready",function(){this.setupAdEventsAfterAdsReady()}.bind(this))}setupAdEventsAfterAdsReady(){this.setupAdLoadedEvent(),this.setupDurationChangedEvent(),this.setupAdBufferEvent(),this.setupAdClickEvent(),this.setupAdCompleteEvent(),this.setupAdSkippedEvent(),this.setupAdPausedEvent(),this.setupAdWatchEvent(),this.setupImaStartEvent(),this.setupImaFirstQuartileEvent(),this.setupImaMidpointEvent(),this.setupImaThirdQuartileEvent(),this.setupMidrollBasedOnWatchDurationEvent()}setupImaStartEvent(){this.addEventListener(google.ima.AdEvent.Type.STARTED,this._onImaStart.bind(this))}_onImaStart(t){const e=t.getAd().getAdPodInfo().getPodIndex();let i;i=0===e?"pre":-1===e?"post":"mid",this._previousAdCurrentTime=0,this.tech().trigger({type:"adstarted",adEvent:t}),this.data().isVideo()?this.tech().trigger({type:"vp-video-adstart",id:this.data().videoId(),embed:this.data().embed(),adUUID:this.uuidManager().uuid()}):this.tech().trigger({type:"vp-livestream-adstart",id:this.data().videoId(),embed:this.data().embed(),adUUID:this.uuidManager().uuid()}),t.getAd().isLinear()?this.tech().trigger({type:"adstart_linear",adType:i,adEvent:t}):this.tech().trigger({type:"vp-ima-start",width:this.currentAdWidth(),height:this.currentAdHeight()})}setupDurationChangedEvent(){this.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,this._onAdDurationChanged.bind(this))}_onAdDurationChanged(t){this._currentAd=new s(t.getAd())}setupAdLoadedEvent(){this.addEventListener(google.ima.AdEvent.Type.LOADED,this._onAdLoaded.bind(this))}_onAdLoaded(t){this._currentAd=new s(t.getAd()),this._adCountingDown=!1,this.tech().trigger({type:"adloaded",ad:this._currentAd}),!1===this.currentAd().isLinear()&&(this.resumeContentPlayback(),this.resizeAdContainer()),this.adsCountdown().tryDisplay(t)}setupTvcReplacement(){if(this.tvcReplacement)return;const t={tech:this.tech(),threshold:this.getTvcReplacementThreshold(),adTag:this.adsParams().tvcReplacementTag()};this.tvcReplacement=new M(t),this.tvcReplacement.setup()}sumeContentPlayback(){var t,e;null===(t=(e=this.adState()).resumeAfterNoPreroll)||void 0===t||t.call(e,this.player())}resizeAdContainer(){const t=this.containerEl().el(),e=this.currentAd(),i=this.tech().el().querySelector(".vjs-control-bar");t.style.width=e.getWidth()+"px",t.style.height=e.getHeight()+"px",t.style.top=this.tech().el().clientHeight()-e.getHeight()-i.clientHeight()+"px",t.style.transition="margin-top 1s ease",this.stopAdAfter10s()}stopAdAfter10s(){window.setTimeout((()=>{this.adsManager().stop()}),1e4)}setupAdBufferEvent(){this.addEventListener(google.ima.AdEvent.Type.AD_BUFFERING,this._onAdBuffer.bind(this))}_onAdBuffer(){this.tech().trigger({type:"adbuffer",currentTime:this.adCurrentTime()})}setupAdClickEvent(){this.addEventListener(google.ima.AdEvent.Type.CLICK,this._onAdClick.bind(this))}_onAdClick(){this.tech().trigger({type:"adclick",currentTime:this.adCurrentTime()}),this.isAdPaused()?this.adsManager().resume():this.adsManager().pause()}setupAdCompleteEvent(){this.addEventListener(google.ima.AdEvent.Type.COMPLETE,this._onAdComplete.bind(this))}_onAdComplete(){this.tech().trigger({type:"adcomplete",currentTime:this.currentAdDuration()})}setupAdSkippedEvent(){this.addEventListener(google.ima.AdEvent.Type.SKIPPED,this._onAdSkipped.bind(this))}_onAdSkipped(){this.tech().trigger({type:"adskipped",currentTime:this.adCurrentTime()})}setupAdWatchEvent(){this.tech().on("adstarted",function(){this._adWatchInterval&&clearInterval(this._adWatchInterval),this._adWatchInterval=setInterval(bind(this),1e3)}.bind(this)),this.tech().on("adend",function(){clearInterval(this._adWatchInterval)}.bind(this)),this.tech().on("ended",function(){clearInterval(this._adWatchInterval)}.bind(this)),this.tech().on("dispose",function(){clearInterval(this._adWatchInterval)}.bind(this)),this.tech().on("adskipped",bind(this))}_onAdWatch(){const t=this.adCurrentTime();this._previousAdCurrentTime<t&&(this.tech().trigger({type:"adwatch",data:{adIndex:this.currentAd().getPodIndex(),adPosition:this.currentAd().getPodAdPosition(),duration:this.currentAdDuration(),currentTime:t}}),this._previousAdCurrentTime=t)}setupAdPausedEvent(){this.addEventListener(google.ima.AdEvent.Type.STARTED,function(){this._adPaused=!1}.bind(this)),this.addEventListener(google.ima.AdEvent.Type.RESUMED,function(){this._adPaused=!1}.bind(this)),this.addEventListener(google.ima.AdEvent.Type.PAUSED,function(){this._adPaused=!0}.bind(this))}setupImaFirstQuartileEvent(){this.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,this.onImaFirstQuartile.bind(this))}onImaFirstQuartile(){this.tech().trigger("adfirstquartile")}setupImaMidpointEvent(){this.addEventListener(google.ima.AdEvent.Type.MIDPOINT,this.onImaMidpoint.bind(this))}onImaMidpoint(){this.tech().trigger("admidpoint")}setupImaThirdQuartileEvent(){this.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,this.onImaThirdQuartile.bind(this))}onImaThirdQuartile(){this.tech().trigger("adthirdquartile")}replaceAdTag(t){"function"==typeof this.ima().setContentWithAdTag&&this.ima().setContentWithAdTag(null,t,!0)}setupMidrollBasedOnWatchDurationEvent(){if(this.imaOptions().autoPlayAdBreaks)return;let t=[],e=!1;this.tech().on("playing",(()=>e=!0)),this.tech().on("seeking",(()=>e=!1)),this.tech().on("pause",(),this.tech().on("timeupdate",(()=>{if(e){const e=Math.max(Math.floor(this.tech().currentTime()),1);t[e]=!0,this.totalWatchedDuration=t.filter(().length}})),this.ima().setAdBreakReadyListener(this.midrollBasedOnWatchDurationListener.bind(this))}midrollBasedOnWatchDurationListener(){this.data().autoplay()||!this.isPreroll()?(this.isPreroll()||this.isEligibleForMidroll())&&this.ima().playAdBreak():this.tech().one("playing",(()=>{this.ima().playAdBreak()}))}isEligibleForMidroll(){const t=this.data().adsMidrollMinimumWatchDuration();return this.totalWatchedDuration>=t}isPreroll(){return 0===this.ima().getAdsManager().getCurrentAd().getAdPodInfo().getPodIndex()}}class O{static isSupported(){return!(O.isOperaMini()||O.isFirefoxWithoutMSEandFlash()||!O.isHavingFlash()&&O.isFirefoxOnWindowsXP()||O.isPalemoonOnWindowsXP()||O.isOperaWithoutMSEH264andFlash()||O.isMobileAndroidBrowserVersion2X()||O.isDesktopChromeBrowserVersion6X()||O.isUnsupportedFirefoxMobileOnAndroid()||O.isIEMobile()||O.isNewsreaderApp())}static isFirefoxMobileOnAndroid(){return"Firefox Mobile"==m.browserName()&&"Android"==m.osName()}static isUnsupportedFirefoxMobileOnAndroid(){return"Firefox Mobile"==m.browserName()&&"Android"==m.osName()&&m.browserVersionMajor()<44}static isPalemoonOnWindowsXP(){return"Pale Moon (Firefox Variant)"==m.browserName()&&"Windows XP"==m.osName()}static isFirefoxOnWindowsXP(){return"Firefox"==m.browserName()&&"Windows XP"==m.osName()}static isOperaMini(){return"Opera Mini"==m.browserName()}static isHavingFlashtatic isFirefoxWithoutMSEandFlash(){return"Firefox"==m.browserName()&&"0,0,0"==m.flashVersion()&&m.browserVersionMajor()<42}static isOperaWithoutMSEH264andFlash(){return"Opera"==m.browserName()&&"0,0,0"==m.flashVersion()&&m.browserVersionMajor()<30}static isFlashSupported(){return this.isHavingFlash()&&"web-desktop"==m.platform()}static isMobileAndroidBrowserVersion2X(){return"web-mobile"==m.platform()&&"Android"==m.browserName()&&2==m.browserVersionMajor()}static isDesktopChromeBrowserVersion6X(){return"web-desktop"==m.platform()&&"Chrome"==m.browserName()&&6==m.browserVersionMajor()}static preferHTML5(){return"Chromium"==m.browserName()||"Chrome"==m.browserName()&&m.browserVersionMajor()>=56}static preferFlash(){return"IE"==m.browserName()}static isIEMobiletatic isBlackBerryWebKitOSVersionBelow10(){let t=parseInt(m.osVersionMajor());return"BlackBerry Webkit"==m.browserName()&&t<10}static isNewsreaderApp(){return"Kurio App"===m.browserName()||"BacaBerita App"===m.browserName()}}var j=i(9585);class R{static global(){return void 0===this._mse&&(this._mse=window.MediaSource||window.WebKitMediaSource,this._mse?this._mse.supported=!0:this._mse=this.nullObject()),this._mse}static noop(){}static nullObject(){return{isTypeSupported:this.noop}}static isTypeSupported(){return this.global().isTypeSupported}static isSupported(){return!!this.global().supported}}const x={h264:'video/mp4; codecs="avc1.42001E, mp4a.40.2"',webmvp8:'video/webm; codecs="vp8.0, vorbis"',mseh264:'video/mp4; codecs="avc1.4d401e"',msewebmvp9:'video/webm; codecs="vp9"'};class V{static codecs(){return x}static global(){return void 0===this._videoEl&&(this._videoEl=document.createElement("video"),this._videoEl&&"function"==typeof this._videoEl.canPlayType?this._videoEl.supported=!0:this._videoEl=this.nullObject()),this._videoEl}tatic noop(){}atic isSupportH264Encoding(){return!!this.canPlayType(this.codecs().h264)}static isSupportWebmVP8Encoding(){return!!this.canPlayType(this.codecs().webmvp8)}static checkSupportMSEEncoding(t){var e;if(R.isSupported())return"function"==typeof(e=R.isTypeSupported())?e(t):this.canPlayType(t)}static isSupportMSEVP9Encoding(){return!!this.checkSupportMSEEncoding(this.codecs().msewebmvp9)}static isSupportMSEH264Encoding(){return!!this.checkSupportMSEEncoding(this.codecs().mseh264)}}class U{static env(){return Object.assign({player_name:"videojs",player_version:C.version()},m.currentEnv())}static autoplayAttributetatic globalAppendData(){return Object.assign({},this._globalAppendData)||{}}static appendGlobalPropertiestatic sendEvent(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"VIDEO::",s=this.appendGlobalProperties(e);r.track(i+t,s)}static sendPlayerEvent(t){let e=t.prefix,i=t.type,s=t.properties;const n=Object.assign(this.env(),s);e?this.sendEvent(e+i,n,""):this.sendEvent(i,n)}static sendBlocker(t,e,i,s){const n=Object.assign({content_type:t,is_premier:e,content_id:i,blocker_type:s},this.env());this.sendEvent("BLOCKER",n,"PLAYBACK::")}static sendSkipIntro(t,e,i){const s=Object.assign({action:t,feature:"skip intro",content_id:e,content_type:"vod",play_uuid:i});this.sendEvent("SKIP",s,"PLAYBACK::")}static sendPreviewSubscribe(t,e){const i=Object.assign({action:t,feature:"preview button",duration:e});this.sendEvent("SUBSCRIPTION",i,"VIDIO::")}static sendKeyPressed(t,e,i){const s=Object.assign({key:t,play_uuid:e,long_press:i},this.env());this.sendEvent("KEYPRESSED",s,"PLAYBACK::")}static sendContinueWatch(t){const e=Object.assign({video_id:t},this.env());this.sendEvent("CONTINUE",e,"PLAYBACK::")}static sendPause(t,e,i,s){s=s||!1;const n=Object.assign({video_id:t,play_uuid:e,genre_id:i,user_triggered:s},this.env());this.sendEvent("PAUSE",n)}static sendResume(t,e){const i=Object.assign({video_id:t,play_uuid:e},this.env());this.sendEvent("RESUME",i)}static sendStart(t,e,i,s,n,a,o,d,l,h,c,u,p,g,v,b,y,_,f,w,k,S){const A=this.env();window.playback.startTime=A.event_time;var T=Object.assign({video_id:t,video_duration:e,setup_time:j.Y.time("vjs-setup"),has_ad:i,play_uuid:n,visitor_id:r.global().visitorId,genre_id:a,position:o,ready_state:d,network_state:l,buffered_video_frames:h,is_tokenized:!0,token_refresh_count:c,vjs_html5:C.isHtml5Supported(),vjs_mpegurl:C.isMpegUrlSupported(),has_adblocker:m.hasAdBlocker(),bandwidth:u,quality:p,after_retry:window.playback.restartCount>0,codec:g,is_drm:v,hdcp_support:b,video_start_time:window.playback.startTime||null,video_source_bitrate:y,video_source_height:_,video_source_width:f,player_height:w,player_width:k,subtitle:S},this.autoplayAttribute(s),A);this.sendEvent("START",T,"PLAYBACK::"),this.sendEvent("START",T)}static sendPlaybackBuffer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.buffer_id,i=t.play_uuid,s=t.content_type,n=t.content_id,a=t.is_premium,r=t.state,o=t.quality,d=t.bandwidth,l=t.is_preview,h=t.codec,c=t.video_source_bitrate,u=t.video_source_height,p=t.video_source_width,m=t.player_height,g=t.player_width;const v=Object.assign({buffer_id:e,play_uuid:i,content_type:s,content_id:n,is_premium:a,state:r,quality:o,bandwidth:d,is_preview:l,codec:h,video_source_bitrate:c,video_source_height:u,video_source_width:p,player_height:m,player_width:g},this.env());this.sendEvent("BUFFER",v,"PLAYBACK::")}static sendPlaybackInitStart(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.play_uuid,i=t.content_type,s=t.content_id,n=t.is_premium,a=t.quality,r=t.bandwidth,o=t.is_preview,d=t.codec,l=t.video_source_bitrate,h=t.video_source_height,c=t.video_source_width,u=t.player_height,p=t.player_width,m=t.security_policy;const g=Object.assign({play_uuid:e,content_type:i,content_id:s,is_premium:n,quality:a,bandwidth:r,is_preview:o,codec:d,video_source_bitrate:l,video_source_height:h,video_source_width:c,player_height:u,player_width:p,security_policy:m},this.env());this.sendEvent("INITSTART",g,"PLAYBACK::")}static sendSeek(t,e,i,s,n){const a=Object.assign({content_id:t,content_type:"vod",position:e,offset:i,play_uuid:s,action:n},this.env());this.sendEvent("SEEK",a,"PLAYBACK::")}static sendSetupError(t,e,i,s,n){var a=Object.assign({video_id:t,message:e,has_ad:i,play_uuid:s,is_tokenized:!0,token_refresh_count:n},this.env());this.sendEvent("SETUP ERROR",a)}static sendError(t,e,i,s,n,a,r,o,d,l){var h=Object.assign({video_id:t,error_code:e,message:i,video_duration:s,current_time:n,play_uuid:a,ready_state:r,network_state:o,buffered_video_frames:d,is_tokenized:!0,token_refresh_count:l,vjs_html5:C.isHtml5Supported(),vjs_mpegurl:C.isMpegUrlSupported()},this.env());this.sendEvent("ERROR",h)}static sendAdsRequest(t){const e=Object.assign({content_id:t.content_id,ad_uuid:t.ad_uuid,ad_tag:t.ad_tag,videopremier:t.videopremier,ad_source:t.ad_source,play_uuid:t.play_uuid,content_type:t.content_type},this.env());this.sendEvent("AD::REQUEST",e,"PLAYBACK::")}static sendAdRuleRequest(t){const e=Object.assign({content_id:t.content_id,ad_tag:t.ad_tag,videopremier:t.videopremier,ad_source:t.ad_source,play_uuid:t.play_uuid,content_type:t.content_type,ad_playlist_id:t.ad_playlist_id},this.env());this.sendEvent("AD_RULE::REQUEST",e,"PLAYBACK::")}static sendAdLoaded(t){const e=Object.assign(t,this.env());this.sendEvent("AD::LOADED",e,"PLAYBACK::")}static sendAdStart(t){var e=Object.assign({content_id:t.content_id,content_type:t.content_type,ad_uuid:t.ad_uuid,ad_content_type:t.ad_content_type,ad_playlist_id:t.ad_playlist_id,current_time:t.current_time,play_uuid:t.play_uuid},this.env());this.sendEvent("AD::START",e,"PLAYBACK::")}static sendAdError(t){const e=Object.assign({play_uuid:t.play_uuid,content_id:t.content_id,content_type:t.content_type,video_duration:t.video_duration,current_time:t.current_time,ad_uuid:t.ad_uuid,ad_tag:t.ad_tag,error_code:t.error_code,message:t.message,error_type:t.error_type},this.env());this.sendEvent("AD::ERROR",e,"PLAYBACK::")}static sendAdClick(t){const e=Object.assign({content_id:t.content_id,content_type:t.content_type,position:t.position,play_uuid:t.play_uuid,ad_uuid:t.ad_uuid},this.env());this.sendEvent("AD::CLICK",e,"PLAYBACK::")}static sendAdComplete(t){const e=Object.assign({content_id:t.content_id,content_type:t.content_type,position:t.position,play_uuid:t.play_uuid,ad_uuid:t.ad_uuid},this.env());this.sendEvent("AD::COMPLETE",e,"PLAYBACK::")}static sendAdSkipped(t){const e=Object.assign({content_id:t.content_id,content_type:t.content_type,position:t.position,play_uuid:t.play_uuid,ad_uuid:t.ad_uuid},this.env());this.sendEvent("AD::SKIPPED",e,"PLAYBACK::")}static sendAdWatch(t,e,i,s,n,a){const r=Object.assign({video_id:t,duration:e,seconds:i,play_uuid:s,ad_uuid:n,ad_type:a},this.env());this.sendEvent("AD::WATCH",r)}static sendAdFirstQuartile(t){const e=Object.assign({play_uuid:t.play_uuid,content_id:t.content_id,content_type:t.content_type,ad_uuid:t.ad_uuid,ad_tag:t.ad_tag},this.env());this.sendEvent("AD::FIRST_QUARTILE",e,"PLAYBACK::")}static sendAdMidpoint(t){const e=Object.assign({play_uuid:t.play_uuid,content_id:t.content_id,content_type:t.content_type,ad_uuid:t.ad_uuid,ad_tag:t.ad_tag},this.env());this.sendEvent("AD::MIDPOINT",e,"PLAYBACK::")}static sendAdThirdQuartile(t){const e=Object.assign({play_uuid:t.play_uuid,content_id:t.content_id,content_type:t.content_type,ad_uuid:t.ad_uuid,ad_tag:t.ad_tag},this.env());this.sendEvent("AD::THIRD_QUARTILE",e,"PLAYBACK::")}static sendMeta(t,e,i,s,n,a){const r=Object.assign({video_id:t,level:e,levels:i,target_bitrate:s,play_uuid:n,genre_id:a},this.env());this.sendEvent("META",r)}static sendPlatformSupportEvent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e=Object.assign({supported:O.isSupported(),video:V.isSupported(),h264:V.isSupportH264Encoding(),mse:R.isSupported(),mse_h264:V.isSupportMSEH264Encoding(),webm_vp8:V.isSupportWebmVP8Encoding(),mse_vp9:V.isSupportMSEVP9Encoding(),vjs_html5:C.isHtml5Supported(),vjs_mpegurl:C.isMpegUrlSupported(),type:t.type,play_uuid:t.play_uuid},this.env());this.sendEvent("PLATFORM::SUPPORT",e,"PLAYBACK::")}static sendUnmuteButtonLoad(t,e,i,s,n){var a=Object.assign({play_uuid:t,video_id:e,video_duration:i,has_ad:s,visitor_id:r.global().visitorId,setup_time:j.Y.time("vjs-setup"),vjs_html5:C.isHtml5Supported(),vjs_mpegurl:C.isMpegUrlSupported()},this.autoplayAttribute(n),this.env());this.sendEvent("UNMUTE::LOAD",a)}static sendUnmuteButtonClick(t,e,i,s,n){var a=Object.assign({play_uuid:t,video_id:e,video_duration:i,has_ad:s,visitor_id:r.global().visitorId,setup_time:j.Y.time("vjs-setup"),vjs_html5:C.isHtml5Supported(),vjs_mpegurl:C.isMpegUrlSupported()},this.autoplayAttribute(n),this.env());this.sendEvent("UNMUTE::CLICK",a)}static sendSuggestionCountdown(t,e){const i=Object.assign({play_uuid:t,video_id:e,action:"countdown",platform:m.platform()},this.env());this.sendEvent("PLAYBACK::SUGGESTION",i,"")}static sendGeoblock(t,e,i){var s=Object.assign({id:e,play_uuid:i},this.env());this.sendEvent(t.toUpperCase()+"::GEOBLOCKED",s,"PLAYBACK::")}static sendPlay(t,e,i,s,n,a,r,o,d,l,h,c,u,p,m,g,v){const b=Object.assign({video_id:t,position:e,duration:i,play_uuid:s,bandwidth:n,quality:a,network_state:r,has_ad:o,video_duration:d,video_start_time:window.playback.startTime||null,restart_count:window.playback.restartCount||0,video_source_bitrate:h,video_source_height:c,video_source_width:u,player_height:p,player_width:m,playback_speed:g,subtitle:v},this.autoplayAttribute(l),this.env());this.sendEvent("WATCH",b)}static sendEpisodeList(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.play_uuid,i=t.current_video_id,s=t.next_video_id,n=t.action;const a=Object.assign({play_uuid:e,current_video_id:i,next_video_id:s,action:n},this.env());this.sendEvent("PLAYBACK::EPISODELIST",a,"")}static sendSubtitle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,i=t.subtitle,s=t.video_id,n=t.play_uuid;const a=Object.assign({action:e,subtitle:i,video_id:s,play_uuid:n},this.env());this.sendEvent("SUBTITLE",a,"PLAYBACK::")}static sendPlaybackAd(t){this.sendEvent("AD",Object.assign({},t,this.env()),"PLAYBACK::")}static sendPlaybackBannerAd(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={ad_type:"banner",ad_slot:t.ad_slot,ad_event:t.ad_event,ad_uuid:t.ad_uuid,play_uuid:t.play_uuid,advertiser_id:t.advertiser_id,campaign_id:t.campaign_id,creative_id:t.creative_id,is_empty:t.is_empty,line_item_id:t.line_item_id,size:t.size,source_agnostic_creative_id:t.source_agnostic_creative_id,source_agnostic_line_item_id:t.source_agnostic_line_item_id};for(let t in e)void 0===e[t]&&delete e[t];this.sendPlaybackAd(e)}}class H{constructoret data(){return this._data}sendStartEvent(t){this.sendEvent("START",t)}sendEmptyEvent(t){this.sendEvent("EMPTY",t)}endEvent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U.sendPlaybackBannerAd({ad_uuid:e.ad_uuid,ad_slot:e.ad_slot,play_uuid:this.data.playUUID(),ad_event:t,advertiser_id:e.advertiser_id,campaign_id:e.campaign_id,creative_id:e.creative_id,is_empty:e.is_empty,line_item_id:e.line_item_id,size:e.size,source_agnostic_creative_id:e.source_agnostic_creative_id,source_agnostic_line_item_id:e.source_agnostic_line_item_id})}static sendEventclass N{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this._showing=!1,this._isGoogleTagDisplayCalled=!1,this._container=null,this.playerDisplayAdState=t.playerDisplayAdState}tech(){return this._tech}data(){return this._data}showing(){return this._showing}container(){return this._container}firstRenderTime(){return 1e3*this.data().overlayFirstRenderTime()}refreshIntervalutohideInterval(){return 2e4}get name(){return"overlay"}show(t){this.showing()||(this._showing=!0,this.initOverlay())}hide(){if(this._showing=!1,this.container()){this.container().style.visibility="hidden";const t=this.container().querySelector(".overlay-ad-close");t&&t.parentElement.removeChild(t)}}nitOverlay(){this.shouldInitOverlay()&&(this.container()||(this._container=this.createOverlayAdContainer(),this.tech().el().appendChild(this.container())),this.triggerOverlayAd())}shouldInitOverlay(){return""!=this.data().overlayAdDomId()}createOverlayAdContainer(){const t=document.createElement("div");return t.id="overlayAdContainer",t.className="overlay-ad-container",t.style.visibility="hidden",t.appendChild(this.createOverlayAd()),t}createOverlayAd(){const t=document.createElement("div");return t.id=this.data().overlayAdDomId(),t.className="overlay-ad",t}triggerOverlayAd(){this.shouldTriggerOverlayAd()?this._isGoogleTagDisplayCalled?window.googletag.cmd.push(this.refreshAd()):(window.googletag.cmd.push(this.displayAd()),this._isGoogleTagDisplayCalled=!0):this._showing=!1}shouldTriggerOverlayAd(){return!this.isEmbedAndPlayerWidthBelow300()&&this.isBannerAdForPremierUserToggledOnOrContentNotPremium()&&this.isGPTConfigured()&&this.isPlayerInViewport()}showOverlayAd(){setTimeout((()=>{this.container().style.visibility=""}),300)}isEmbedAndPlayerWidthBelow300(){return"true"===this.data().embed()&&this.tech().el().clientWidth()<=300}isBannerAdForPremierUserToggledOnOrContentNotPremium(){return p("enable_premier_user_banner_ads")||!this.data().isPremier()}isGPTConfigured(){return!!(window.googletag&&window.googletag.apiReady&&window.googletag.pubadsReady&&window.kmklabs&&window.kmklabs.gpt&&window.kmklabs.gpt.overlay_ad)}isPlayerInViewport(){var t;const e=null===(t=this.tech().videoElement())||void 0===t?void 0:t.getBoundingClientRect();return null!=e&&e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}displayAd(){return refreshAd(){return function(){window.googletag.pubads().refresh([window.kmklabs.gpt.overlay_ad])}}appendCloseButton(){setTimeout((()=>{this.container()&&this.container().appendChild(this.closeButton())}),5e3)}onCloseButtonClick(t){H.sendEvent({ad_event:"CLOSE",uuid:this.data().playUUID()}),t.stopPropagation(),this.hide()}closeButton(){if(void 0===this._closeButton){const t=document.createElement("a");t.className="overlay-ad-close",t.onclick=this.onCloseButtonClick.bind(this),this._closeButton=t}return this._closeButton}}i(8674);class F{static v4(){return this._v4((new Date).getTime(),Math.random)}static _v4(t,e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(i){var s=(t+16*e())%16|0;return t=Math.floor(t/16),("x"==i?s:3&s|8).toString(16)}))}}class W{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.ima,s=t.data;this._tech=e,this._ima=i,this._data=s,this._skipButton=null,this._adRemainder=null,this._buttonNeedToBeUpdated=!1}init(){this.bindAdStart(),this.bindAdLoaded(),this.bindAdComplete()}bindAdStart(){this.tech().on("adstarted",(()=>{this.appendAdRemainder()}))}bindAdComplete(){this.tech().on("adcomplete",(()=>{this.adRemainder()&&this.removeAdRemainder(),this.skipButton()&&this.removeSkipButton()}))}bindAdLoaded(){this.tech().on("adloaded",()}removeSkipButton(){this.tech().el().removeChild(this._skipButton),this._skipButton=null,this._buttonNeedToBeUpdated=!1}removeAdRemainder(){this.tech().el().removeChild(this.adRemainder()),this._adRemainder=null}isAcceptableAd(){return this.isWhitelistedCreative()||this.isWhitelistedLineItem()||Math.floor(this.ima().currentAdDuration())<=this.unskippableAdDuration()||this.adIsSkippable()}isWhitelistedLineItem(){const t=this.currentAd().getAdId();if(this.data().whitelistedLineItemIds().includes(t))return!0;const e=this.currentAd().getWrapperAdIds();if(e.length>0){const t=e[e.length-1];if(this.data().whitelistedLineItemIds().includes(t))return!0}return!1}isWhitelistedCreative(){const t=this.currentAd().getCreativeId();return!!this.data().whitelistedCreativeIds().includes(t)}appendAdRemainder(){this.currentAd()&&(this.isAcceptableAd()||(this.containerEl().appendChild(this.createAdRemainder()),this.bindImaAdProgress()))}bindImaAdProgress(){this._buttonNeedToBeUpdated=!0,this.ima().addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,(t=>{this.buttonNeedToBeUpdated()&&this.updateSkipAdButton(t.getAdData().currentTime)}))}createAdRemainder(){const t=document.createElement("div");return t.className="vjs-ad-skip-remaining",t.innerHTML=this.skipAdOffset().toString(),this._adRemainder=t,t}updateSkipAdButton(t){this.appendSkipButtonToAdContainer(t),this.updateAdRemainder(t)}appendSkipButtonToAdContainer(t){t>=this.skipAdOffset()&&!this._skipButton&&this.containerEl().appendChild(this.createSkipButton())}updateAdRemainder(t){if(this.adRemainder()){const e=Math.ceil(this.skipAdOffset()-t);if(e<=0)return;this.adRemainder().innerHTML="".concat(e)}}createSkipButton(){const t=document.createElement("button");return t.className="vjs-ad-skip-button",t.textContent="Skip Ad",t.onclick=()=>{this.onSkipButtonClick()},this._skipButton=t,t}storeAdsVolume(){this.ima()._adVolume=this.adsManager().getVolume()}onSkipButtonClick(){this.storeAdsVolume(),this.tech().trigger({type:"adskipped",currentTime:this.ima().adCurrentTime()}),this.ima().adsManager().stop()}hideAdContainer(){this.tech().el().el().querySelector(".ima-ad-container").style.display="none"}tech(){return this._tech}containerEl(){return this.tech().el().querySelector(".ima-ad-container")}ima(){return this._ima}data(){return this._data}unskippableAdDuration(){return this.data().unskippableAdDuration()}skipButton(){return this._skipButton}adRemainder(){return this._adRemainder}getVideoId(){return this.data().videoId()}getAdPodIndex(){return this.currentAd().getAdPodInfo().getPodIndex()}getAdPosition(){return this.currentAd().getAdPodInfo().getAdPosition()}currentAd(){return this.ima().currentAd()}adsManager(){return this.ima().adsManager()}adIsSkippable(){return this.currentAd().isSkippable()}skipAdOffset(){return this.data().customSkipAdButtonOffset()}buttonNeedToBeUpdated(){return this._buttonNeedToBeUpdated}}function q(t,e,i,s,n,a,r){try{var o=t[a](r),d=o.value}catch(t){return void i(t)}o.done?e(d):Promise.resolve(d).then(s,n)}class K{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.params,s=t.ima,n=t.data;this._tech=e,this._params=i,this._ima=s,this._data=n}tech(){return this._tech}params(){return this._params}ima(){return this._ima}data(){return this._data}adPlaylistId(){return this._adPlaylistId}currentAdType(){return this._currentAdType}adSkipButton(){return this._adSkipButton}init(){this.params().prerollTag()&&(this.setup(),this.addListenerForCreativeButtonClick())}addListenerForCreativeButtonClick(){window.addEventListener("message",this.onMessage.bind(this))}nMessage(t){var e,i,s,n,a;if("SIMID:Creative:buttonClick"!==t.data.type)return;if("AddToMyList"!==(null===(e=t.data.args)||void 0===e?void 0:e.buttonType))return;const r=null===(i=t.data.args)||void 0===i||null===(s=i.params)||void 0===s?void 0:s.listableType,o=null===(n=t.data.args)||void 0===n||null===(a=n.params)||void 0===a?void 0:a.listableId;var d;(d=function*(){try{const t=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),e=window.location.origin,i="".concat(e,"/my-list?listable_id=").concat(o,"&listable_type=").concat(r);let s=yield fetch(i,{method:"POST",credentials:"include",headers:{"X-CSRF-Token":t}});yield s.json()}catch(t){}},function(){var t=this,e=arguments;return new Promise((function(i,s){var n=d.apply(t,e);function a(t){q(n,i,s,a,r,"next",t)}function r(t){q(n,i,s,a,r,"throw",t)}a(void 0)}))})()}setup(){this._currentAdType="pre",this.params().adTagIsVmap()?this._adPlaylistId=F.v4():this._adPlaylistId=null,this.bindRequestAdsPlay(),this.setupAdSkipButton()}setupAdSkipButton(){this._adSkipButton=new W({tech:this.tech(),ima:this.ima(),data:this.data()}),this.adSkipButton().init()}bindRequestAdsPlay(){try{this.setupIma()}catch(t){const e=document.querySelector("#ima-ad-container");e&&e.remove()}}setupIma(){this.ima().imaAlreadySetup()||this.ima().setup(this.tech().id(),this.params().prerollTag())}}class Q{static shouldInit(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data.pauseAdDomId()}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data,s=t.playerDisplayAdState;this._tech=e,this._data=i,this._autoCloseOnEmbedTimeout=null,this._isGoogleTagDisplayCalled=!1,this._adRequestDelay=0,this.playerDisplayAdState=s}tech(){return this._tech}data(){return this._data}et name(){return"pause"}appendAdContainer(){this._container=this.createAdContainer(),this._dialogContent=this._container.querySelector(".pause-ad-dialog-content"),this.tech().el().appendChild(this._container)}bindTriggerPauseAd(){this.tech().on("vp-start",(()=>{this.tech().on("trigger-pause-ad",(()=>{this.sendPauseUserTriggeredEvent(),this.shouldTriggerPauseAd()&&this.playerDisplayAdState.tryShowAd(this)}))}))}show(t){this._adRequestDelay=window.setTimeout(this.requestAd.bind(this),1e3*this.data().pauseAdRequestDelay())}requestAd(){this._isGoogleTagDisplayCalled?window.googletag.cmd.push(this.refreshAd()):(window.googletag.cmd.push(this.displayAd()),this._isGoogleTagDisplayCalled=!0)}bindCancelPauseAd(){this.tech().on("vp-start",(()=>{this.tech().on("cancel-pause-ad",()}))}shouldTriggerPauseAd(){return!("true"===this.data().embed()&&this.tech().el().clientWidth()<=300||!p("enable_premier_user_banner_ads")&&this.data().isPremier()||!window.googletag||!window.googletag.apiReady||!window.googletag.pubadsReady||!window.kmklabs||!window.kmklabs.gpt||!window.kmklabs.gpt.pause_ads)}sendPauseUserTriggeredEvent(){this.tech().trigger({type:"vp-pause",userTriggered:!0})}displayAd(){return function(){window.googletag.display(window.kmklabs.gpt.pause_ads)}}refreshAd(){return function(){window.googletag.pubads().refresh([window.kmklabs.gpt.pause_ads])}}bindPlayControlClick(){document.querySelector(".vjs-play-control").addEventListener("click",(()=>{this.tech().paused()&&this.tech().trigger("trigger-pause-ad")}))}bindVideoClick(){this.tech().videoElement().addEventListener("click",(()=>{setTimeout((()=>{this.tech().paused()&&this.tech().trigger("trigger-pause-ad")}))}))}bindBigPauseButtonClick(){const t=this.tech().el().el();t.querySelector(".vjs-big-pause-button").addEventListener("click",(()=>{this.tech().paused()&&this.tech().trigger("trigger-pause-ad")})),t.querySelector(".vjs-big-pause-button").addEventListener("touchend",(()=>{this.tech().paused()&&this.tech().trigger("trigger-pause-ad")}))}bindEventPlay(){this.tech().on("play",(()=>{this.hideContainer(),this._dialogContent.innerHTML="",this.tech().trigger("cancel-pause-ad")}))}bindIntervalEmbedCheck(){"true"==this.data().embed()&&this.startIntervalEmbedCheck()}startIntervalEmbedCheck(){window.setInterval((()=>{this.tech().el().clientWidth()<=300?this.tech().el().addClass("embed-floating-player"):this.tech().el().removeClass("embed-floating-player")}),100)}createAdContainer(){const t=document.createElement("div");t.id="pauseAdContainer",t.className="pause-ad-container hidden",t.onclick=()=>{this.hideContainer(),H.sendEvent({ad_event:"CLOSE",uuid:this.data().playUUID()})};const e=document.createElement("div");e.className="pause-ad-dialog",e.onclick=t=>{t.stopPropagation()};const i=this.createAdCloseButton(),s=this.createAdContinueButton();return i.onclick=()=>{this.hideContainer(),H.sendEvent({ad_event:"CLOSE",uuid:this.data().playUUID()})},s.onclick=()=>{this.hideContainer(),this.tech().play(),H.sendEvent({ad_event:"RESUME",uuid:this.data().playUUID()})},e.appendChild(this.createAdDialogContent()),e.appendChild(s),e.appendChild(i),t.appendChild(e),t}createAdDialogContent(){return this._adDialogContent=document.createElement("div"),this._adDialogContent.className="pause-ad-dialog-content",this._adDialogContent.id="pauseAdDialogContent",this.data().pauseAdDomId()&&""!=this.data().pauseAdDomId()&&(this._adDialogContent.id=this.data().pauseAdDomId()),this._adDialogContent}createAdCloseButton(){const t=document.createElement("button");return t.className="pause-ad-close-button",t.innerHTML="&times;",t}howContainer(){this._container.classList.remove("hidden")}hideContainer(){this.playerDisplayAdState.tryHideAd(this)}hide(){window.clearTimeout(this._autoCloseOnEmbedTimeout),this._container.classList.add("hidden")}isReady(){return this.shouldTriggerPauseAd()}autoCloseOnEmbed(){"true"===this.data().embed()&&(this._autoCloseOnEmbedTimeout=window.setTimeout((()=>{this.hideContainer()}),5e3))}tryShowContainer(){this.tech().hasStarted()&&this.tech().paused()&&(this.showContainer(),this.autoCloseOnEmbed())}}class G{constructor(t){this._tech=t}tech(){return this._tech}setup(t){window.googleImaVansAdapter&&window.googleImaVansAdapter.init&&window.iasConfig&&window.googleImaVansAdapter.init(window.google,t,this.tech().el().el(),window.iasConfig)}}class z{uuid(){return null==this._uuid&&(this._uuid=F.v4()),this._uuid}lass Y{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this.playerDisplayAdState=t.playerDisplayAdState,this._isGoogleTagDisplayCalled=!1,this._isStarted=!1}tech(){return this._tech}data(){return this._data}get name(){return"squeeze_frame"}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{targetings:[]};this.setWidescreenClassName(),this._isStarted||this.shouldTriggerSqueezeFrameAd()&&(this._isStarted=!0,this.setTargetings(t.targetings),this.squeezePlayer(),this._isGoogleTagDisplayCalled?window.googletag.cmd.push(this.refreshAd()):(window.googletag.cmd.push(this.displayAd()),this._isGoogleTagDisplayCalled=!0))}hide(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isStarted&&(this._isStarted=!1,this.restorePlayer(),t&&this.playerDisplayAdState.tryReset(this))}sReady(){return this.shouldTriggerSqueezeFrameAd()}shouldTriggerSqueezeFrameAd(){return!!(this.isGPTConfigured()&&this.isPlayerNotInPIPMode()&&this.isNotMobilePortraitScreen()&&this.isNotMobileLandscapeNonFullscreen())}isPlayerNotInPIPMode(){const t=document.querySelector("#article-player");return null==t||!t.classList.contains("video-pip")}isGPTConfigured(){return!!(window.googletag&&window.googletag.apiReady&&window.googletag.pubadsReady&&window.kmklabs&&window.kmklabs.gpt&&window.kmklabs.gpt.squeeze_frame)}displayAd(){return function(){window.googletag.display(window.kmklabs.gpt.squeeze_frame)}}refreshAd(){return function(){window.googletag.pubads().refresh([window.kmklabs.gpt.squeeze_frame])}}restorePlayer(){const t=document.getElementById("player_component_wrapper"),e=document.getElementById("squeezeFrameAdContainer");t.classList.remove("squeeze"),this.isMobileLandscapeFullscreen()&&(e.style.display="none"),setTimeout((()=>{e.remove()}),1e3)}squeezePlayer(){this.tech().el().el().append(this.createSqueezeFrameAdContainer()),window.googletag.pubads().addEventListener("slotOnload",(t=>{t.isEmpty||"squeeze_frame"!=t.slot.getSlotId().getDomId()||document.querySelector("#player_component_wrapper").classList.add("squeeze")}))}isNotMobilePortraitScreen(){return!(m.isMobileSite()&&!this.isScreenOnLandscape())}isNotMobileLandscapeNonFullscreen(){return!(m.isMobileSite()&&this.isScreenOnLandscape()&&!this.tech().isFullscreen())}isMobileLandscapeFullscreen(){return m.isMobileSite()&&this.isScreenOnLandscape()&&this.tech().isFullscreen()}reateSqueezeFrameAdContainer(){const t=document.createElement("div");return t.id="squeezeFrameAdContainer",t.className="squeeze-frame-ad-container ntc-container",t.appendChild(this.createSqueezeFrameAd()),t}etWidescreenClassName(){const t=screen.width/screen.height,e=document.querySelector(".video-js");t>=16/9?e.classList.add("widescreen"):e.classList.remove("widescreen")}setTargetings(t){t.forEach((t=>{window.kmklabs.gpt.squeeze_frame.setTargeting(t.key,t.value)}))}}class X{ryShowAd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{targetings:[]};this.shouldUpdateCurrentAd(t)&&(this.cancelAnyScheduledShow(),this.updateCurrentAd(t,e))}tryHideAd(t){t.hide(!1),this.tryReset(t)}tryReset(t){this.currentAd&&this.currentAd.name==t.name&&(this.cancelAnyScheduledShow(),this.currentAd=void 0)}pdateCurrentAd(t,e){this.currentAd&&this.currentAd.hide(!1),this.scheduledShow=setTimeout((,this.showDelay),this.currentAd=t}get showDelay(){return 1500}shouldUpdateCurrentAd(t){return!!t.isReady()&&(!this.currentAd||this.currentAd.name!=t.name&&this.priorities[t.name]>=this.priorities[this.currentAd.name])}class J{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this.playerDisplayAdState=t.playerDisplayAdState,this._started=!1,this._gptDisplayCalled=!1}get name(){return"ticker_tape"}get tech(){return this._tech}get data(){return this._data}get started(){return this._started}set started(t){this._started=t}get gptDisplayCalled(){return this._gptDisplayCalled}set gptDisplayCalled(t){this._gptDisplayCalled=t}show(t){this.started||this.shouldTriggerTickerTapeAd()&&(this.started=!0,this.resizePlayer(),this.gptDisplayCalled?window.googletag.cmd.push(this.refreshAd()):(window.googletag.cmd.push(this.displayAd()),this.gptDisplayCalled=!0))}hide(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.started&&(this.started=!1,this.restorePlayer(),t&&this.playerDisplayAdState.tryReset(this))}isReady(){return this.shouldTriggerTickerTapeAd()}start(){this.playerDisplayAdState.tryShowAd(this)}shouldTriggerTickerTapeAd(){return!!this.gptDefined()&&(!(m.isMobileSite()&&!this.tech.isFullscreen())&&(!m.isMobileSite()||!this.isPortraitScreen()))}efreshAd(){return()=>{window.googletag.pubads().refresh([window.kmklabs.gpt.ticker_tape])}}displayAd(){return()=>{window.googletag.display(window.kmklabs.gpt.ticker_tape)}}gptDefined(){var t,e;return(null===(t=window.googletag)||void 0===t?void 0:t.apiReady)&&null!=(null===(e=window.kmklabs.gpt)||void 0===e?void 0:e.ticker_tape)}resizePlayer(){this.tech.el().el().append(this.createTickerTapeContainer()),window.googletag.pubads().addEventListener("slotOnload",(t=>{if(!t.isEmpty&&"ticker_tape"==t.slot.getSlotId().getDomId()){this.tech.videoComponentWrapper().classList.add("ticker-tape");const t=document.getElementById("tickerTapeContainer");null!=t&&t.classList.add("filled")}}))}restorePlayer(){const t=document.getElementById("tickerTapeContainer");this.tech.videoComponentWrapper().classList.remove("ticker-tape"),t.classList.remove("filled"),setTimeout((()=>{t.remove()}),1e3)}createTickerTapeContainer(){const t=document.createElement("div");return t.id="tickerTapeContainer",t.className="ticker-tape-container ntc-container",t.innerHTML='<div id="ticker_tape"></div>',t}}class ${constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this.playerDisplayAdState=t.playerDisplayAdState,this._started=!1,this._gptDisplayCalled=!1,this._container=null}get name(){return"superimpose"}get tech(){return this._tech}get data(){return this._data}get started(){return this._started}set started(t){this._started=t}get gptDisplayCalled(){return this._gptDisplayCalled}set gptDisplayCalled(t){this._gptDisplayCalled=t}get container(){return this._container}set container(t){this._container=t}show(t){this.started||this.shouldTriggerSuperimposeAd()&&(this.started=!0,null==this.container?this.appendSuperimposeContainer():this.container.classList.remove("hidden"),this.gptDisplayCalled?window.googletag.cmd.push(this.refreshAd()):(window.googletag.cmd.push(this.displayAd()),this.gptDisplayCalled=!0))}hide(){var t;let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.started&&(this.started=!1,null===(t=this.container)||void 0===t||t.classList.add("hidden"),e&&this.playerDisplayAdState.tryReset(this))}isReady(){return this.shouldTriggerSuperimposeAd()}start(){this.playerDisplayAdState.tryShowAd(this)}efreshAd(){return()=>{window.googletag.pubads().refresh([window.kmklabs.gpt.superimpose])}}displayAd(){returnappendSuperimposeContainer(){this.container=this.createSuperimposeContainer(),this.tech.el().el().querySelector(".player-component-wrapper").append(this.container)}createSuperimposeContainerptDefined(){var t,e;return(null===(t=window.googletag)||void 0===t?void 0:t.apiReady)&&null!=(null===(e=window.kmklabs.gpt)||void 0===e?void 0:e.superimpose)}}class Z{constructor(t,e,i){this._tech=t,this._uuidManager=new z,this._ima=new L(t,e,this._uuidManager,i),this._currentAdType=null,this._currentAdTag=null,this._data=e,this._instreamAd=null,this.playerDisplayAdState=new X,this._pauseAd=new Q({tech:t,data:e,playerDisplayAdState:this.playerDisplayAdState}),this._params=i,this._overlay=new N({tech:t,data:e,playerDisplayAdState:this.playerDisplayAdState}),this._iasAdapter=new G(this.tech()),this._tickerTape=new J({tech:t,data:e,playerDisplayAdState:this.playerDisplayAdState}),this._squeezeFrame=new Y({tech:t,data:e,playerDisplayAdState:this.playerDisplayAdState}),this._superimpose=new $({tech:t,data:e,playerDisplayAdState:this.playerDisplayAdState}),this._bannerAdTracker=new H({data:e}),this.tryHideCurrentAd=this.tryHideCurrentAd.bind(this)}tech(){return this._tech}uuidManager(){return this._uuidManager}params(){return this._params}ima(){return this._ima}overlay(){return this._overlay}squeezeFrame(){return this._squeezeFrame}get tickerTape(){return this._tickerTape}get superimpose(){return this._superimpose}get bannerAdTracker(){return this._bannerAdTracker}instreamAdvertisement(){return this._instreamAd}pauseAdvertisement(){return this._pauseAd}currentAdTag(){return this._currentAdTag}setCurrentAdTag(t){this._currentAdTag=t}adPlaylistId(){return this.instreamAdvertisement().adPlaylistId()}iasAdapter(){return this._iasAdapter}setCurrentAdType(t){this._currentAdType=t}isAdsBlacklisted(){let t=!1,e=this.data().getDocumentReferrer();return this.data().adsBlacklist().forEach((),t}shouldInitPlayerAdvertisement(){return void 0!==window.google&&!this.isAdsBlacklisted()&&m.isPrerollAdsEnabled()}initPlayerAdvertisements(){this.shouldInitPlayerAdvertisement()&&(this.bindAdsManagerEvent(),this.bindAdsRequestEvent(),this.bindAdsReadyEvent(),this.initVideoAds(),this.initAdsCountdown())}initAdsCountdown(){this.ima().imaOptions().autoPlayAdBreaks&&this.ima().adsCountdown().init()}bindAdsManagerEvent(){this.tech().on("ads-manager",function(t){this.iasAdapter().setup(t.adsManager)}.bind(this))}bindAdsRequestEvent(){this.tech().on("ads-request",(()=>{this.sendAdsRequestEvent()}))}bindAdsReadyEvent(){this.tech().on("adsready",(()=>{this.ima().addEventListener(google.ima.AdEvent.Type.STARTED,this.tryHideCurrentAd)}))}tryHideCurrentAd(){this.playerDisplayAdState.tryHideCurrentAd()}sendAdsRequestEvent(){this.tech().trigger({type:"ads-request-loaded",videoId:this.data().videoId(),currentAdTag:this.currentAdTag(),premier:this.data().isPremier(),playUUID:this.data().playUUID(),contentType:this.data().type(),adPlaylistId:this.adPlaylistId(),adTagIsVmap:this.instreamAdvertisement().params().adTagIsVmap()})}initVideoAds(){this.constructInstreamAd(),this.instreamAdvertisement().init(),this.bindPlayAfterAd(),this.setCurrentAdTag(this.instreamAdvertisement().params().prerollTag())}constructInstreamAd(){this._instreamAd=new K({tech:this.tech(),params:this.params(),ima:this.ima(),data:this.data()})}bindPlayAfterAd(){this.tech().on("adend",(()=>{this.tech().play()}))}initPauseAdvertisement(){Q.shouldInit({data:this.data()})&&this.pauseAdvertisement().init()}paramsPresent(){return null!=this.params()&&this.params().present()}imaAdTitle(){return this.ima().adTitle()}imaAdDuration(){return this.ima().currentAdDuration()}imaAdSkippable(){return this.ima().adSkippable()}skip(){this.ima().skip()}currentTime(){return this.ima().adCurrentTime()}uuid(){return this.uuidManager().uuid()}bindStartAdOverlay(){this.tech().one("playing",bind(this))}startAdOverlay(t){setTimeout((()=>{this.playerDisplayAdState.tryShowAd(this.overlay()),setTimeout((()=>{this.playerDisplayAdState.tryHideAd(this.overlay()),this.startAdOverlay(this.overlay().refreshInterval())}),this.overlay().autohideInterval())}),t)}bindStartSqueezeFrameAd(){if(!this.data().isVideo())return;if(0==this.params().squeezeFrameCuePoints().length)return;const t=this.params().squeezeFrameCuePoints(),e=t.reduce(((t,e)=>{const i=e.cue_point+10;for(let s=e.cue_point;s<=i;s++)t[s]={targetings:e.display_targeting||[]};return t}),{});this.tech().one("playing",function(){this.tech().on("timeupdate",function(){const t=Math.floor(this.tech().currentTime());e[t]?this.playerDisplayAdState.tryShowAd(this.squeezeFrame(),{targetings:e[t].targetings}):this.playerDisplayAdState.tryHideAd(this.squeezeFrame())}.bind(this))}.bind(this))}bindTickerTapeAd(){if(!this.data().isVideo())return;if(0==this.params().tickerTapeCuePoints().length)return;const t=this.params().tickerTapeCuePoints().reduce(((t,e)=>{const i=e.cue_point+10;for(let s=e.cue_point;s<=i;s++)t[s]=!0;return t}),{});this.tech().one("playing",(()=>{this.tech().on("timeupdate",(()=>{const e=Math.floor(this.tech().currentTime());t[e]?this.playerDisplayAdState.tryShowAd(this.tickerTape):this.playerDisplayAdState.tryHideAd(this.tickerTape)}))}))}bindSuperimposeAd(){if(!this.data().isVideo())return;if(0==this.params().superimposeCuePoints().length)return;const t=this.params().superimposeCuePoints().reduce(((t,e)=>{const i=e.cue_point+10;for(let s=e.cue_point;s<=i;s++)t[s]=!0;return t}),{});this.tech().one("playing",(()=>{this.tech().on("timeupdate",(()=>{const e=Math.floor(this.tech().currentTime());t[e]?this.playerDisplayAdState.tryShowAd(this.superimpose):this.playerDisplayAdState.tryHideAd(this.superimpose)}))}))}videoElement(){return this.tech().videoElement()}currentAdType(){return this.instreamAdvertisement().currentAdType()}clearUUID(){this.uuidManager().clear()}data(){return this._data}setupLottieLoader(){const t=this.tech().plugin().instance();t.addChild("LottieLoader"),t.getChild("LottieLoader").setupLottie()}setupAdsTransition(){this.tech().plugin().instance().addChild("AdsTransition")}}i(9720),i(7042),i(1038),i(7601),i(1703);class tt{static appendOpenWrapTargeting(t,e,i){const s=new XMLHttpRequest;s.timeout=1e3,s.withCredentials=!0,s.open("GET",e),s.onload=function(){let e=t;200==s.status&&(e=tt.openWrapRequestSuccess(t,s.response)),i(e)}.bind(this),s.ontimeout=function(){i(t)},s.onerror=function(){i(t)},s.send()}static openWrapRequestSuccess(t,e){let i;try{i=JSON.parse(e)}catch(e){return t}if(!i.targeting)return t;const s=new URLSearchParams(i.targeting).toString();if(""==s)return t;const n=b.getQueryParam(t,"cust_params");if(""==n)return b.addQueryParam(t,"cust_params",encodeURIComponent(s));const a=n+"&"+s;return b.addQueryParam(t,"cust_params",encodeURIComponent(a))}}i(3210);class et{static appendOpenWrapTargeting(t,e,i,s){const n=et.getPubmaticURL(e,i),a=new XMLHttpRequest;a.timeout=1e3,a.withCredentials=!0,a.open("GET",n),a.onload=function(){let e=t;200==a.status&&(e=et.openWrapRequestSuccess(t,a.response)),s(e)}.bind(this),a.ontimeout=function(){s(t)},a.onerror=a.send()}static getPubmaticURL(t,e){const i=a.href();if(i.includes("localhost")||i.includes("127.0.0.1"))return"http://localhost:9898/ads_params/pubmatic/1";{const s=encodeURIComponent(t),n=encodeURIComponent(i),a=new URL("https://ow.pubmatic.com/video/json");let r="";if(r+="site.pub.id=159568",r=r+"&site.page="+n,r+="&req.ext.wrapper.profileid=2803",r=r+"&imp.tagid="+s,r+="&imp.vid.mimes=video%2Fmp4,application%2Fjavascript",r+="&imp.vid.api=2,7",r=r+"&imp.vid.w="+e.split("x")[0],r=r+"&imp.vid.h="+e.split("x")[1],r+="&imp.vid.linearity=1",r+="&imp.vid.minbitrate=400",r+="&imp.vid.maxbitrate=3000",r+="&imp.vid.minduration=6",r+="&imp.vid.maxduration=60",r+="&imp.vid.playbackmethod=2",r+="&imp.vid.protocols=2,3,5,6,7,8",r+="&imp.vid.skip=1",r+="&imp.vid.skipmin=10",r+="&imp.vid.skipafter=5",r+="&imp.vid.startdelay=0",r+="&dev.lmt=0",r+="&dev.dnt=0",r+="&imp.vid.ext.adpod.admaxduration=60",r+="&imp.vid.ext.adpod.adminduration=6",r+="&imp.vid.ext.adpod.maxads=4",window.kmklabs&&window.kmklabs.ads){const t=window.kmklabs.ads.genre;let e=window.kmklabs.ads.film_name+" "+window.kmklabs.ads.title;e=e.trim(),r=r+"&site.cnt.genre="+t,r=r+"&site.cnt.title="+encodeURIComponent(e)}return a.search=r,a.toString()}}static openWrapRequestSuccess(t,e){let i=t;try{const s=JSON.parse(e);if(s.adpods){let e=b.getQueryParam(t,"cust_params"),n="";s.adpods.forEach((t=>{t.targeting.forEach((t=>{for(const e in t)n+="".concat(e,"=").concat(t[e],"&")}))})),n=n.replace(/&$/,""),e=e?e+"&"+n:n,i=b.addQueryParam(t,"cust_params",encodeURIComponent(e))}}catch(t){}return i}}class it{unction nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}class at{constructor(t,e){this._prerollAdTag=new y,this._tvcReplacementAdTag=new y,this._playerData=t,this._muted=e,this._hermesVideoConfig={},this._nonTimeConsumingCuePoints=[]}playerData(){return this._playerData}adsEnabled(){return this.playerData().adsEnabled()}contentType(){return this.playerData().type()}contentId(){return this.playerData().videoId()}embedticky(){return this.playerData().sticky()}embedPosition(){return this.playerData().embedPosition()}adConfig(){return this.playerData().adConfig()}muted(){return this._muted}prerollAdTag(){return this._prerollAdTag}prerollTag(){return this.prerollAdTag().getAdTag()}prerollAdUnit(){return this.prerollAdTag().getAdUnit()}prerollAdSize(){return this.prerollAdTag().getAdSize()}adTagIsVmap(){return this.prerollAdTag().isVmap()}tvcReplacementAdTag(){return this._tvcReplacementAdTag}tvcReplacementTag(){return this.tvcReplacementAdTag().getAdTag()}pubmaticUrl(){return this._pubmaticUrl}present(){return this.prerollTag&&""!=this.prerollTag()}visitorId(){return o.getCookie("he_visitor_id")||r.global().visitorId||""}hermesVideoConfig(){return this._hermesVideoConfig}nonTimeConsumingCuePoints(){return this._nonTimeConsumingCuePoints}squeezeFrameCuePoints(){return this.nonTimeConsumingCuePoints().filter((t=>"squeeze_frame"==t.type))}superimposeCuePoints(){return this.nonTimeConsumingCuePoints().filter((t=>"superimpose"==t.type))}tickerTapeCuePoints(){return this.nonTimeConsumingCuePoints().filter((t=>"ticker_tape"==t.type))}setPrerollAdTag(t){this._prerollAdTag=new y(t),""!=t&&this._prerollAdTag.addNetworkTypeToAdTag().addVidioEmbedSite(this.embed()).replaceVidioMuted(this.muted()).setChildDirectedTreatment()}setTvcReplacementAdTag(t){this._tvcReplacementAdTag=new y(t),""!=t&&this._tvcReplacementAdTag.addNetworkTypeToAdTag().addVidioEmbedSite(this.embed()).replaceVidioMuted(this.muted()).setChildDirectedTreatment()}setPubmaticUrl(t){this._pubmaticUrl=t}setIasConfig(){window.iasConfig={anId:"931457",chanId:this.prerollAdUnit(),campId:this.prerollAdSize()}}setHermesVideoConfig(t){this._hermesVideoConfig=t}etVideoAdsParamsViaApi(t){if(this.adsEnabled()){const e=this.adsParamsApiEndpoint(),i=new XMLHttpRequest;i.timeout=1e3,i.open("GET",e),i.withCredentials=!0,i.onload=()=>{if(200==i.status&&i.response){const e={response:i.response,contentType:i.getResponseHeader("content-type"),responseHeaders:i.getAllResponseHeaders()};this.adsParamsApiOnSuccess(e,t)}else t()},i.ontimeout=function(){t()},i.onerror=i.send()}else this.appendOpenWrapTargeting(t)}hermesEndpoint(){if("test"==it.env().RAILS_ENV)return"/api/tags/".concat(this.adConfig());let t="https://hermes.staging.vidio.com/api/tags";return"prod"===it.env().PROJECT_ENVIRONMENT&&(t="https://hermes.vidio.com/api/tags"),t=this.addHermesQueryParams(t),t}addHermesQueryParams(t){let e={cp:this.playerData().isPremier(),ct:this.playerData().type(),durl:this.playerData().watchpageUrl(),cid:this.playerData().videoId(),cuu:this.playerData().videoUsername(),cuid:this.playerData().videoUserId(),cmg:this.playerData().contentMainGenre(),cg:this.playerData().contentGenres(),cc:this.playerData().contentCountry(),cgp:this.playerData().contentGroup(),ce:this.playerData().contentEvents(),cro:this.playerData().contentRatingOption(),e:this.embed(),s:this.sticky(),cct:this.playerData().contentContentType(),ep:this.playerData().embedPosition(),cur:this.playerData().videoUserRole(),vt:this.playerData().videoTags(),vfid:this.playerData().filmId(),vft:this.playerData().filmTitle(),vfg:this.playerData().filmGenres(),vc:this.playerData().videoChannel(),vcid:this.playerData().videoChannelId(),cpr:this.playerData().preview(),lst:this.playerData().livestreamingTags(),vvid:this.visitorId()},i="desktop";(m.isMobileSite()||m.isLiteSite())&&(i="mobile"),e.d=i;const s=h.referrer().split("/")[2];s&&(e.rdm=s,e.rdv=i);const a=n("video_ads").getItem("vidio_user_id")||o.getCookie("plenty_id");a&&(e.wid=a);for(var r=0,d=Object.entries(e);r<d.length;r++){const e=st(d[r],2),i=e[0],s=e[1];t=b.addQueryParam(t,i,encodeURIComponent(s))}return t}rmesAdsParamsApiOnSuccess(t,e){try{const i=JSON.parse(t.response);this.setPrerollAdTag(i.video.instream),this.setTvcReplacementAdTag(i.video.tvc_replacement),this.setPubmaticUrl(i.video.header_bidding.pubmatic),this.setIasConfig(),this.setHermesVideoConfig(i.video.config),this.setNonTimeConsumingCuePoints(i.display.non_time_consuming.cue_points),this.appendOpenWrapTargeting(e)}catch(t){e()}}appendOpenWrapTargeting(t){this.shouldAppendOpenWrapTargeting()?this.shouldUsePubmaticAdapterV2()?et.appendOpenWrapTargeting(this.prerollTag(),this.prerollAdUnit(),this.prerollAdSize(),this.openWrapCallback(t)):tt.appendOpenWrapTargeting(this.prerollTag(),this.pubmaticUrl(),this.openWrapCallback(t)):t()}shouldAppendOpenWrapTargeting(){return this.prerollTag()&&""!=this.prerollTag()&&p("enable_openwrap_pubmatic")}penWrapCallback(t){return function(e){this.prerollAdTag().setAdTag(e),t()}.bind(this)}}class rt{static env(){return Object.assign({player_name:"videojs",player_version:C.version()},m.currentEnv())}static autoplayAttribute(t){return{autoplay:t.value(),autoplay_data:t.data()}}static globalAppendData(){return Object.assign({},this._globalAppendData)||{}}static sendEvent(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PLAYBACK::";var s=Object.assign(e,this.env());Object.assign(s,this.globalAppendData()),r.track(i+t,s)}static sendPlatformSupportEvent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object.assign({supported:O.isSupported(),video:V.isSupported(),h264:V.isSupportH264Encoding(),mse:R.isSupported(),mse_h264:V.isSupportMSEH264Encoding(),webm_vp8:V.isSupportWebmVP8Encoding(),mse_vp9:V.isSupportMSEVP9Encoding(),vjs_html5:C.isHtml5Supported(),vjs_mpegurl:C.isMpegUrlSupported(),type:t.type,play_uuid:t.play_uuid},this.env());this.sendEvent("PLATFORM::SUPPORT",e)}static sendPlaybackBitrateShow(t){const e=Object.assign({play_uuid:t},this.env());this.sendEvent("BITRATE::SHOW",e)}static sendBitrate(t){let e=t.play_uuid,i=t.action,s=t.quality,n=t.bandwidth,a=t.network_type,r=t.content_type;const o=Object.assign({play_uuid:e,action:i,quality:s,bandwidth:n,network_type:a,content_type:r},this.env());this.sendEvent("BITRATE",o)}static sendSubtitle(t){let e=t.action,i=t.subtitle,s=t.video_id,n=t.play_uuid;const a=Object.assign({action:e,subtitle:i,video_id:s,play_uuid:n},this.env());this.sendEvent("SUBTITLE",a)}static sendAdBuffer(t){const e=Object.assign(t,this.env());this.sendEvent("AD::BUFFER",e)}}class ot{static env(){return Object.assign({player_name:"videojs",player_version:C.version()},m.currentEnv())}static globalAppendData(){return Object.assign({},this._globalAppendData)||{}}static appendGlobalProperties(t){return Object.assign(this.globalAppendData(),t)}static sendEvent(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LIVESTREAM::",s=this.appendGlobalProperties(e);r.track(i+t,s)}static sendStart(t,e,i,s,n,a,r,o,d,l,h,c,u,p,g,v,b,y){const _=this.env();window.playback.startTime=_.event_time;var f=Object.assign({livestreaming_id:t,stream_type:e,setup_time:j.Y.time("vjs-setup"),has_ad:i,play_uuid:s,current_time:n,ready_state:a,network_state:r,buffered_video_frames:o,has_adblocker:m.hasAdBlocker(),vjs_html5:C.isHtml5Supported(),vjs_mpegurl:C.isMpegUrlSupported(),bandwidth:d,quality:l,after_retry:window.playback.restartCount>0,asset_source:h,codec:c,hdcp_support:u,livestream_start_time:window.playback.startTime||null,video_source_bitrate:p,video_source_height:g,video_source_width:v,player_height:b,player_width:y},_);this.sendEvent("START",f),this.sendEvent("START",f,"PLAYBACK::")}static sendPlay(t,e,i,s,n,a,r,o,d,l,h,c,u,p,m){var g={minutes:e/60};s&&(g={seconds:e});var v=Object.assign({livestreaming_id:t,asset_source:r},g,{play_uuid:i},{bandwidth:n,quality:a,network_state:o,livestream_start_time:window.playback.startTime||null,restart_count:window.playback.restartCount||0,has_ad:d,stream_type:l,video_source_bitrate:h,video_source_height:c,video_source_width:u,player_height:p,player_width:m},this.env());this.sendEvent("PLAY",v)}static sendSetupError(t,e,i,s){var n=Object.assign({livestreaming_id:t,message:e,has_ad:i,play_uuid:s},this.env());this.sendEvent("SETUP ERROR",n)}static sendError(t,e,i,s,n,a,r,o,d,l){var h=Object.assign({livestreaming_id:t,error_code:e,message:i,video_duration:s,current_time:n,play_uuid:a,ready_state:r,network_state:o,buffered_video_frames:d,asset_source:l,vjs_html5:C.isHtml5Supported(),vjs_mpegurl:C.isMpegUrlSupported()},this.env());this.sendEvent("ERROR",h)}static sendMeta(t,e,i,s,n){var a=Object.assign({livestreaming_id:t,level:e,levels:i,target_bitrate:s,play_uuid:n},this.env());this.sendEvent("META",a)}static sendBuffer(t,e,i,s,n,a,r,o,d,l,h,c,u){var p=Object.assign({livestreaming_id:t,seconds:e,play_uuid:i,timer:s,streamType:n,bandwidth:a,quality:r,asset_source:o,video_source_bitrate:d,video_source_height:l,video_source_width:h,player_height:c,player_width:u},this.env());this.sendEvent("BUFFER",p)}static sendAdsRequest(t,e,i,s,n){var a=Object.assign({play_uuid:t,ad_uuid:e,ad_tag:i,videopremier:s,livestreaming_id:n},this.env());this.sendEvent("AD::REQUEST",a)}static sendAdWatch(t,e,i,s,n){var a=Object.assign({livestreaming_id:t,duration:e,seconds:i,play_uuid:s,ad_uuid:n},this.env());this.sendEvent("AD::WATCH",a)}static sendGeneralSeek(t,e,i,s,n,a){const r=Object.assign({content_id:t,content_type:e,position:i,offset:s,play_uuid:n,action:a},this.env());this.sendEvent("SEEK",r,"PLAYBACK::")}}class dt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===t.autoplay&&(t.autoplay=!1),void 0===t.adult&&(t.adult=!1),this._data=t.autoplay,this._adult=t.adult}data(){return this._data}sAdult(){return this._adult}}class lt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.idleTime,i=t.data;this.idleTime=e,this.idleTimer=null,this._data=i,1==this.isWatchPage()&&this.initializeEventListeners()}startIdleTimeritializeEventListenerssWatchPagesNotOnChatOrCommentSection(){const t=document.activeElement;return!t.classList.contains("livestreaming-discussion__input")&&"TEXTAREA"!=t.classList.tagName}isPlayerVisibleocus(){const t=document.querySelector("video");t&&this.isPlayerVisible(t)&&this.isNotOnChatOrCommentSection()&&t.focus()}}class ht{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._el=document.getElementById(t),this._id=t,this._geoblocked=!1,this._adsEnabled=e,this._playUUID=i}id(){return this._id}adsEnabled(){return this._adsEnabled}playUUID(){return this._playUUID}setGeoblocked(t){this._geoblocked=t}isGeoblocked(){return this._geoblocked}layerId(){return this.el().getAttribute("data-player-id")}vjsClipHlsUrl(){return this.el().getAttribute("data-vjs-clip-hls-url")}hlsUrlWithEmbedParam(){if("true"==this.embed()&&!this.isLivestreaming())try{let t=new URL(this.vjsClipHlsUrl());return t.searchParams.append("embed","true"),t.toString()}catch(t){return this.vjsClipHlsUrl()+"?embed=true"}return this.vjsClipHlsUrl()}vjsClipDashUrl(){return this.el().getAttribute("data-vjs-clip-dash-url")}type(){return this.el().getAttribute("data-type")||""}videoDuration(){return parseInt(this.el().getAttribute("data-video-duration"))||0}autoplay(){return"true"===this.el().getAttribute("data-autoplay")}hideLogo(){return"true"===this.el().getAttribute("data-hide-vidio-logo")}hideTopBar(){return"true"===this.el().getAttribute("data-hide-topbar")}mute(){return"true"===this.el().getAttribute("data-mute")}videoId(){return parseInt(this.el().getAttribute("data-video-id"))||0}videoTitle(){return this.el().getAttribute("data-video-title")||""}geoblock(){return this.el().getAttribute("data-geoblock")}geoblockUrl(){return this.el().getAttribute("data-geoblock-url")||""}resolutionMapping(){let t=[];try{t=JSON.parse(this.el().getAttribute("data-resolution-mapping"))}catch(t){}return t||[]}accessType(){return this.el().getAttribute("data-access-type")||""}getDocumentReferrer(){return document.referrer}pauseAdDomId(){return this.el().getAttribute("data-advertisement-pause-ad-dom-id")||""}overlayAdDomId(){return this.el().getAttribute("data-advertisement-overlay-ad-dom-id")||""}overlayFirstRenderTime(){return parseInt(this.el().getAttribute("data-advertisement-overlay-first-render-time"))}overlayRefreshInterval(){return parseInt(this.el().getAttribute("data-advertisement-overlay-refresh-interval"))}squeezeFrameFirstRenderTime(){return parseInt(this.el().getAttribute("data-advertisement-squeeze-frame-first-render-time"))}adsBlacklist(){let t=[];try{t=JSON.parse(this.el().getAttribute("data-domain-ads-blacklist"))||[]}catch(t){}return t}videoImageUrl(){return this.el().getAttribute("data-video-image-url")}videoBlockerImageUrl(){return this.el().getAttribute("data-video-blocker-image-url")}adult(){return"true"===this.el().getAttribute("data-adult")&&"false"==this.embed()}endCreditTime(){return Number(this.el().getAttribute("data-end-credit-time"))}streamType(){return this.el().getAttribute("data-livestreaming-stream-type")}isVideo(){return"Video"==this.type()}isLivestreaming(){return"Livestreaming"==this.type()}thumbnails(){let t={};try{t=JSON.parse(this.el().getAttribute("data-thumbnails"))||{}}catch(t){console.error(t)}return t}embed(){return this.el().getAttribute("data-embed")}sticky(){return this.el().getAttribute("data-sticky")}embedPosition(){return this.el().getAttribute("data-embed-position")}videoWithToken(){return"true"==this.el().getAttribute("data-video-has-token")}subtitles(){return this.el().getAttribute("data-subtitles")}sendPlayToggle(){return"true"==this.el().getAttribute("data-send-play-toggle")}sendPlayIntervalrmEnabled(){return"true"==this.el().getAttribute("data-drm-enabled")}siteId(){return this.el().getAttribute("data-drm-siteid")||"MQDT"}shareButtonEnabled(){return"true"==this.el().getAttribute("data-share-button-enabled")}filmId(){return parseInt(this.el().getAttribute("data-film-id"))||0}filmTitle(){return this.el().getAttribute("data-film-title")||""}filmGenres(){return this.el().getAttribute("data-film-genres")||""}videoDescription(){return this.el().getAttribute("data-video-description")}seasonId(){return parseInt(this.el().getAttribute("data-season-id"))||0}seasonName(){return this.el().getAttribute("data-season-name")||""}episodeNumber(){return parseInt(this.el().getAttribute("data-episode-number"))||0}Premier(){return"true"==this.el().getAttribute("data-video-premier")}genreIds(){var t=[],e=this.el().getAttribute("data-genre-ids");try{t=JSON.parse(e)}catch(e){t=[]}return t}tokenRefreshCount(){return parseInt(this.el().getAttribute("data-vod-token-refresh-count"))||0}tokenDuration(){return parseInt(this.el().getAttribute("data-token-duration"))||0}episodesList(){try{return JSON.parse(this.el().getAttribute("data-episodes-list"))||[]}catch(t){return[]}}seasonsList(){try{return JSON.parse(this.el().getAttribute("data-seasons-list"))||[]}catch(t){return[]}}testMode(){return"true"==this.el().getAttribute("data-test-mode")}testMobileSite(){return"true"==this.el().getAttribute("data-test-mobile-site")}unskippableAdDuration(){return Number(this.el().getAttribute("data-unskippable-ad-duration"))||15}adPreferredBitrate(){return Number(this.el().getAttribute("data-ad-preferred-bitrate"))||500}vastMediaDownloadTimeout(){return Number(this.el().getAttribute("data-vast-media-download-timeout"))||-1}preview(){return"true"===this.el().getAttribute("data-preview")}previewDuration(){return Number(this.el().getAttribute("data-preview-duration"))||-1}userAvatarUrl(){return this.el().getAttribute("data-user-avatar-url")||""}watchpageUrl(){return this.el().getAttribute("data-watchpage-url")||""}userProfileUrl(){return this.el().getAttribute("data-user-profile-url")||""}hdcpEnabled(){return"true"===this.el().getAttribute("data-hdcp-enabled")}dvrEnabledideoUserId(){return this.el().getAttribute("data-video-user-id")||""}videoUsername(){return this.el().getAttribute("data-video-username")||""}videoUserRole(){return this.el().getAttribute("data-video-user-role")||""}videoTags(){return this.el().getAttribute("data-video-tags")||""}videoChannel(){return this.el().getAttribute("data-video-channel")||""}videoChannelId(){return this.el().getAttribute("data-video-channel-id")||""}livestreamingTags(){return this.el().getAttribute("data-livestreaming-tags")||""}contentMainGenre(){return this.el().getAttribute("data-main-genre")||""}contentGenres(){return this.el().getAttribute("data-genres")||""}contentCountry(){return this.el().getAttribute("data-content-country")||""}contentGroup(){return this.el().getAttribute("data-group")||""}contentEvents(){return this.el().getAttribute("data-events")||""}contentContentType(){return this.el().getAttribute("data-content-content-type")||""}whitelistedLineItemIds(){const t=this.el().getAttribute("data-advertisement-whitelisted-line-item");return null==t?[]:t.split(",")}whitelistedCreativeIds(){const t=this.el().getAttribute("data-advertisement-whitelisted-creative");return null==t?[]:t.split(",")}customSkipAdButtonOffset(){return Number(this.el().getAttribute("data-custom-skip-ad-button-offset"))||5}chaptersIntroStart(){return Number(this.el().getAttribute("data-chapters-intro-start"))||-1}chaptersIntroEnd(){return Number(this.el().getAttribute("data-chapters-intro-end"))||-1}chaptersCreditStart(){return Number(this.el().getAttribute("data-chapters-credit-start"))||-1}chaptersCreditEnd(){return Number(this.el().getAttribute("data-chapters-credit-end"))||-1}contentGatingLogin(){return"true"===this.el().getAttribute("data-content-gating-login")&&!1===window.isUserSignedIn}contentGatingDuration(){return Number(this.el().getAttribute("data-content-gating-duration"))||-1}contentGatingUrl(){return this.el().getAttribute("data-content-gating-url")}adConfig(){return this.el().getAttribute("data-ad-config")}cdnName(){return this.el().getAttribute("data-cdn")}contentRatingOptionauseAdRequestDelay(){return Number(this.el().getAttribute("data-pause-ad-request-delay"))||0}adsVolumeGapSync(){return Number(this.el().getAttribute("data-ads-volume-gap-sync"))||0}adsMidrollMinimumWatchDuration(){return Number(this.el().getAttribute("data-ads-midroll-minimum-watch-duration"))||0}}lass ut{static parseHTML(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"<null/>";var e;return(e=document.implementation.createHTMLDocument()).body.innerHTML=t,e.body.children[0]}constructor(t){var e;e=t instanceof Element?t:document.createElement(t),this._el=e}el(){return this._el}querySelector(t){var e=this.el().querySelector(t);return e&&new ut(e)}getAttribute(t){return this.el().getAttribute(t)}setAttribute(t,e){this.el().setAttribute(t,e)}tagName(){return this.el().tagName}className(t){if(void 0===t)return this.el().className;this.el().className=t}appendChild(t){t instanceof Element?this.el().appendChild(t):this.el().appendChild(t.el())}removeChild(t){if(t.length){ct(t).forEach((t=>{t.parentElement.removeChild(t)}))}else t.parentElement.removeChild(t)}children(){return this.el().children}addClass(t){this.el().classList?this.el().classList.add(t):this._el.className+=" "+t}removeClass(t){this.el().classList?this.el().classList.remove(t):this._el.className=this._el.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}hasClass(t){return new RegExp("(^| )"+t+"( |$)","gi").test(this._el.className)}innerText(t){if(void 0===t)return this.el().textContent||this.el().innerText;this.el().textContent=t,this.el().innerText=t}parentElement(){return new ut(this.el().parentElement)}clientHeight(){return this.el().clientHeight}clientWidth(){return this.el().clientWidth}}class pt{plugin(){return this._plugin}init(){this._plugin=new C(...arguments)}id(){return this.plugin().id(...arguments)}currentTime(){return this.plugin().currentTime(...arguments)}error(){return this.plugin().error(...arguments)||{}}elrrorCode(){return this.error().code}errorMessage(){return this.error().message}trigger(){return this.plugin().trigger(...arguments)}on(){return this.plugin().on(...arguments)}one(){return this.plugin().one(...arguments)}off(){return this.plugin().off(...arguments)}readyState(){return this.plugin().readyState(...arguments)}networkState(){return this.plugin().networkState(...arguments)}isFullscreen(){return this.plugin().isFullscreen(...arguments)}corruptedVideoFrames(){var t=this.plugin().getVideoPlaybackQuality();return t?t.corruptedVideoFrames:void 0}creationTime(){var t=this.plugin().getVideoPlaybackQuality();return t?t.creationTime:void 0}droppedVideoFrames(){var t=this.plugin().getVideoPlaybackQuality();return t?t.droppedVideoFrames:void 0}bufferedVideoFrames(){var t=this.plugin().getVideoPlaybackQuality();return t?t.totalVideoFrames:void 0}dispose(){return this.plugin().dispose(...arguments)}isDisposed(){var t,e;return null===(t=this.plugin())||void 0===t||null===(e=t.instance())||void 0===e?void 0:e.isDisposed()}muted(){return this.plugin().muted(...arguments)}play(){return this.plugin().play(...arguments)}paused(){return this.plugin().paused(...arguments)}duration(){return this.plugin().duration(...arguments)}pause(){return this.plugin().pause(...arguments)}metadata(){return{level:this.plugin().level(),levels:this.plugin().levels(),targetBitrate:this.plugin().currentBandwidth()}}ended(){return this.plugin().ended()}poster(){return this.plugin().poster(...arguments)}volume(){return this.plugin().volume(...arguments)}addChildontrolBar(){return this.plugin().controlBar()}hideControlbar(){return this.plugin().hideControlbar()}addControlBarChild(){return this.plugin().controlBar().addChild(...arguments)}techName(){return this.plugin().techName()}sInAdMode(){var t,e;return null===(t=this.plugin().adsObject())||void 0===t||null===(e=t.isInAdMode)||void 0===e?void 0:e.call(t)}isContentResuming(){return this.plugin().isContentResuming()}videoElement(){return this.el().el().querySelector("video")}videoComponentWrapperideoContainer(){return this.el().el()}getCurrentMediaAttribute(){return this.plugin().hasDashObject()?this.plugin().dashObject().getCurrentMediaAttribute():this.plugin().hlsObject().getCurrentMediaAttribute()}getBandwidth(){return this.getCurrentMediaAttribute().bitrate}getVideoSourceBitrate(){return this.getCurrentMediaAttribute().bitrate>0?this.getCurrentMediaAttribute().bitrate:null}getVideoSourceHeight(){var t,e,i;return null===(t=this.plugin())||void 0===t||null===(e=t.instance())||void 0===e||null===(i=e.videoHeight)||void 0===i?void 0:i.call(e)}getVideoSourceWidth(){var t,e,i;return null===(t=this.plugin())||void 0===t||null===(e=t.instance())||void 0===e||null===(i=e.videoWidth)||void 0===i?void 0:i.call(e)}getPlayerHeight(){return this.videoElement().clientHeight}isPortraitetPlayerWidth(){return this.videoElement().clientWidth}getQuality(){var t;return(null===(t=window.playback_selected_quality)||void 0===t?void 0:t[this.plugin().id()])||null}getInitialSubtitle(){var t;return(null===(t=window.playback_initial_subtitle)||void 0===t?void 0:t[this.plugin().id()])||"none"}getActiveSubtitle(){var t;return(null===(t=window.playback_active_subtitle)||void 0===t?void 0:t[this.plugin().id()])||"none"}hasStarted(){return this.plugin().hasStarted()}remainingTime(){return this.plugin().remainingTime()}currentSrc(){return this.plugin().currentSrc()}hlsPlaylistMedia(){return this.plugin().hlsPlaylistMedia()}hasDashObject(){return this.plugin().hasDashObject()}}class mt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._data=t.data,this._tech=t.tech,this._blocker=t.blocker,this.errorDecodeCount=0}get data(){return this._data}get tech(){return this._tech}get blocker(){return this._blocker}isErrorHandledByDash(){return 3===this.tech.errorCode()&&this.isDashVp9Supported()&&this.errorDecodeCount<5}bindError(){this.tech.on("error",function(){this.isErrorHandledByDash()||this.tech.trigger({type:"vp-error",id:this.data.videoId(),errorCode:this.tech.errorCode(),errorMessage:this.tech.errorMessage(),videoDuration:this.data.videoDuration(),currentTime:this.tech.currentTime(),embed:this.data.embed()})}.bind(this))}isDashVp9Supported(){return""!==this.data.vjsClipDashUrl()&&m.isSupportVp9()&&!m.isForcedToUseHLS()}showError(t){if(!this.blocker.isShown)if(3===t&&this.isDashVp9Supported()&&this.errorDecodeCount<5)this.errorDecodeCount++;else{if(this.tech.pause(),this.tech.el().addClass("vjs-error"),1==t)return U.sendBlocker(this.data.type().toLowerCase(),this.data.isPremier(),this.data.videoId(),"general_error"),void this.blocker.renderBlocker("fetching_error");if(2==t)return U.sendBlocker(this.data.type().toLowerCase(),this.data.isPremier(),this.data.videoId(),"network_error"),void this.blocker.renderBlocker("network_error");if(3==t)return U.sendBlocker(this.data.type().toLowerCase(),this.data.isPremier(),this.data.videoId(),"media_error"),void this.blocker.renderBlocker("media_error");if(4==t)return U.sendBlocker(this.data.type().toLowerCase(),this.data.isPremier(),this.data.videoId(),"device_error"),void this.blocker.renderBlocker("media_not_supported");if(5==t)return U.sendBlocker(this.data.type().toLowerCase(),this.data.isPremier(),this.data.videoId(),"drm"),void this.blocker.renderBlocker("drm");if(7==t)return U.sendBlocker(this.data.type().toLowerCase(),this.data.isPremier(),this.data.videoId(),"hdcp"),void this.blocker.renderBlocker("hdcp");U.sendBlocker(this.data.type().toLowerCase(),this.data.isPremier(),this.data.videoId(),"general_error"),this.blocker.renderBlocker("general_error")}}}class gt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._callbacks=[],this._dataType=t.dataType;try{this._instance=new XMLHttpRequest}catch(t){this._instance=gt.nullObject(),console.error(t)}}static nullObjecttatic noop(){}instance(){return this._instance}callbacks(){return this._callbacks}dataType(){return this._dataType}onReadyStateChange(t){this.callbacks().push(t),"function"!=typeof this.instance().onreadystatechange&&(this.instance().onreadystatechange=function(){for(let t in this.callbacks()){let e="json"===this.dataType()?this.responseJSON():this.response();this.callbacks()[t](e,this)}}.bind(this))}onDone(t){this.onReadyStateChange(function(e,i){4==this.readyState()&&t(e,i)}.bind(this))}onSuccess(t){this.onReadyStateChange(function(e,i){4==this.readyState()&&this.isSuccess()&&t(e,i)}.bind(this))}onError(t){this.onReadyStateChange(function(e,i){4!=this.readyState()||this.isSuccess()||t(e,i)}.bind(this))}readyState(){return this.instance().readyState}status(){return this.instance().status}response(){return this.instance().response}responseJSON(){try{return JSON.parse(this.response())}catch(t){return{}}}open(t,e){this._url=e,this.instance().open(t,e)}timeout(t){this.instance().timeout=t}url(){return this._url}send(t){this.instance().send(t)}isSuccess(){return this.status()>=200&&this.status()<300||304==this.status()}class vt{static send(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var i,s;if((i=new gt({dataType:t.dataType})).open(t.method,t.url),t.headers)for(let e in t.headers)i.setRequestHeader(e,t.headers[e]);i.timeout(e),"function"==typeof t.done&&i.onDone(t.done),"function"==typeof t.success&&i.onSuccess(t.success),"function"==typeof t.error&&i.onError(t.error),null!=t.formData&&(s=t.formData),i.send(s)}static get(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.method="GET",vt.send(t)}static getJSON(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.dataType="json",vt.get(t)}static post(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.method="POST",vt.send(t)}static postJSON(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.dataType="json",vt.post(t)}}const bt=["id","en","ms","th"],yt={en:{blocker:{adult:{cta:"I am an adult",signInCta:"Sign In",subtitle:"This video contains adult content which is not appropriate for teenagers and kids.",title:"Adult and sensitive contents"},chrome_version:{subtitle:"Make sure you are using the latest version of Google Chrome.",title:"Please update your browser"},drm:{additional_cta:"More Info",cta:"Find Other Content",subtitle:"Your device doesn’t support DRM. Please use another device or browse other content.",title:"This content can’t be played"},fetching_error:{additional_cta:"Report Problem",cta:"Retry",subtitle:"Sit tight while we get things fixed and try again later.",title:"Oops, something went wrong"},general_error:{additional_cta:"Report Problem",cta:"Retry",subtitle:"Sit tight while we get things fixed and try again later.",title:"Oops, something went wrong"},geoblock:{additional_cta:"More Info",cta:"Explore Vidio",subtitle:"You can find many other things to enjoy on Vidio!",title:"Content not available in your country"},hdcp:{additional_cta:"More Info",cta:"Explore Vidio",subtitle:"Your device doesn’t support HDCP. Please use another device or browse other content.",title:"This content can't be played"},media_error:{additional_cta:"Error Details",cta:"Report Problem",subtitle:"Please try again with another device",title:"An error occurred while processing the media"},media_not_supported:{additional_cta:"Error Details",cta:"Report Problem",subtitle:"Please try again with another device.",title:"Problem with your device"},network_error:{additional_cta:"Error Details",cta:"Retry",subtitle:"There's a problem connecting to Vidio. Please try again later.",title:"Network error"},not_supported_browser:{additional_cta:"Report Problem",subtitle:"Please update your browser or download our apps.",title:"Your browser is not supported."},sign_in:{cta:"Sign In",description:"Sign in to watch this video"}},control_bar:{"Cinema Mode":"Cinema Mode (i)",Fullscreen:"Fullscreen (f)",Mute:"Mute (m)",Next:"Next (n)","Non-Fullscreen":"Exit Fullscreen (f/esc)",Pause:"Pause (k)",Play:"Play (k)","Playback Settings":"Playback Settings",Replay:"Replay (k)","Seek backward 10 seconds":"Seek backward 10 seconds (left arrow)","Seek forward 10 seconds":"Seek forward 10 seconds (right arrow)",Unmute:"Unmute (m)"},settings_menu:{normal:"Normal",off:"Off",playback_speed:"Playback Speed",send_feedback:"Send Feedback",settings:"Settings",subtitle:"Subtitle",video_quality:"Video Quality"}},id:{blocker:{adult:{cta:"Saya Sudah Dewasa",signInCta:"Masuk",subtitle:"Video ini berisi konten yang tidak sesuai untuk remaja dan anak-anak.",title:"Konten dewasa dan sensitif"},chrome_version:{subtitle:"Pastikan kamu menggunakan Google Chrome versi terbaru.",title:"Update browser-mu dulu, ya"},drm:{additional_cta:"Info Lengkap",cta:"Cari konten lain",subtitle:"Coba lagi dengan perangkat yang mendukung atau cari hiburan lain di Vidio, yuk.",title:"Perangkatmu nggak mendukung DRM"},fetching_error:{additional_cta:"Laporkan Masalah",cta:"Coba Lagi",subtitle:"Tunggu selagi kami mengatasinya dan coba lagi nanti, ya!",title:"Terjadi gangguan nih"},general_error:{additional_cta:"Laporkan Masalah",cta:"Coba Lagi",subtitle:"Tunggu selagi kami mengatasinya dan coba lagi nanti, ya!",title:"Terjadi gangguan nih"},geoblock:{additional_cta:"Info Lengkap",cta:"Jelajahi Vidio",subtitle:"Masih banyak konten menarik lainnya yang bisa kamu nikmati di Vidio, lho!",title:"Konten tidak tersedia di negara kamu"},hdcp:{additional_cta:"Info Lengkap",cta:"Jelajahi Vidio",subtitle:"Perangkatmu nggak mendukung HDCP. Gunakan perangkat lain atau cari hiburan lain.",title:"Konten nggak bisa diputar"},media_error:{additional_cta:"Detail Error",cta:"Laporkan Masalah",subtitle:"Silakan coba lagi dengan perangkat lain",title:"Terjadi kesalahan saat memproses media"},media_not_supported:{additional_cta:"Detail Error",cta:"Laporkan Masalah",subtitle:"Silakan coba lagi dengan perangkat lain.",title:"Terdapat kendala pada perangkatmu"},network_error:{additional_cta:"Detail Error",cta:"Coba Lagi",subtitle:"Ada kendala saat terhubung ke Vidio. Coba lagi nanti, ya.",title:"Masalah pada jaringan"},not_supported_browser:{additional_cta:"Laporkan Masalah",subtitle:"Silakan perbarui browsermu, atau download aplikasi Vidio.",title:"Perangkatmu nggak mendukung."},sign_in:{cta:"Sign In",description:"Sign in untuk menonton video ini"}},control_bar:{"Cinema Mode":"Cinema Mode (i)",Fullscreen:"Fullscreen (f)",Mute:"Mute (m)",Next:"Next (n)","Non-Fullscreen":"Exit Fullscreen (esc)",Pause:"Pause (k)",Play:"Play (k)","Playback Settings":"Playback Settings",Replay:"Replay (k)","Seek backward 10 seconds":"Seek backward 10 seconds (left arrow)","Seek forward 10 seconds":"Seek forward 10 seconds (right arrow)",Unmute:"Unmute (m)"},settings_menu:{normal:"Normal",off:"Off",playback_speed:"Playback Speed",send_feedback:"Laporkan Masalah",settings:"Pengaturan",subtitle:"Subtitle",video_quality:"Kualitas Video"}},ms:{blocker:{adult:{cta:"Saya seorang dewasa",signInCta:"Sign In",subtitle:"This video contains adult content which is not appropriate for teenagers and kids.",title:"Adult and sensitive contents"},chrome_version:{subtitle:"Make sure you are using the latest version of Google Chrome.",title:"Please update your browser"},drm:{additional_cta:"More Info",cta:"Find Other Content",subtitle:"Your device doesn’t support DRM. Please use another device or browse other content.",title:"This content can’t be played"},fetching_error:{additional_cta:"Report Problem",cta:"Retry",subtitle:"Sit tight while we get things fixed and try again later.",title:"Oops, something went wrong"},general_error:{additional_cta:"Report Problem",cta:"Retry",subtitle:"Sit tight while we get things fixed and try again later.",title:"Oops, something went wrong"},geoblock:{additional_cta:"More Info",cta:"Explore Vidio",subtitle:"You can find many other things to enjoy on Vidio!",title:"Content not available in your country"},hdcp:{additional_cta:"More Info",cta:"Explore Vidio",subtitle:"Your device doesn’t support HDCP. Please use another device or browse other content.",title:"This content can't be played"},media_error:{additional_cta:"Error Details",cta:"Report Problem",subtitle:"Please try again with another device",title:"An error occurred while processing the media"},media_not_supported:{additional_cta:"Error Details",cta:"Report Problem",subtitle:"Please try again with another device.",title:"Problem with your device"},network_error:{additional_cta:"Error Details",cta:"Retry",subtitle:"There's a problem connecting to Vidio. Please try again later.",title:"Network error"},not_supported_browser:{additional_cta:"Report Problem",subtitle:"Please update your browser or download our apps.",title:"Your browser is not supported."},sign_in:{cta:"Sign In",description:"Sign in to watch this video"}},control_bar:{"Cinema Mode":"Cinema Mode",Fullscreen:"Fullscreen",Mute:"Mute",Next:"Next","Non-Fullscreen":"Exit Fullscreen",Pause:"Pause",Play:"Play","Playback Settings":"Playback Settings",Replay:"Replay","Seek backward 10 seconds":"Seek backward 10 seconds","Seek forward 10 seconds":"Seek forward 10 seconds",Unmute:"Unmute"},settings_menu:{normal:"Normal",off:"Off",playback_speed:"Playback Speed",send_feedback:"Send Feedback",settings:"Settings",subtitle:"Subtitle",video_quality:"Video Quality"}},th:{blocker:{adult:{cta:"ฉันเป็นผู้ใหญ่",signInCta:"Sign In",subtitle:"This video contains adult content which is not appropriate for teenagers and kids.",title:"Adult and sensitive contents"},chrome_version:{subtitle:"Make sure you are using the latest version of Google Chrome.",title:"Please update your browser"},drm:{additional_cta:"More Info",cta:"Find Other Content",subtitle:"Your device doesn’t support DRM. Please use another device or browse other content.",title:"This content can’t be played"},fetching_error:{additional_cta:"Report Problem",cta:"Retry",subtitle:"Sit tight while we get things fixed and try again later.",title:"Oops, something went wrong"},general_error:{additional_cta:"Report Problem",cta:"Retry",subtitle:"Sit tight while we get things fixed and try again later.",title:"Oops, something went wrong"},geoblock:{additional_cta:"More Info",cta:"Explore Vidio",subtitle:"You can find many other things to enjoy on Vidio!",title:"Content not available in your country"},hdcp:{additional_cta:"More Info",cta:"Explore Vidio",subtitle:"Your device doesn’t support HDCP. Please use another device or browse other content.",title:"This content can't be played"},media_error:{additional_cta:"Error Details",cta:"Report Problem",subtitle:"Please try again with another device",title:"An error occurred while processing the media"},media_not_supported:{additional_cta:"Error Details",cta:"Report Problem",subtitle:"Please try again with another device.",title:"Problem with your device"},network_error:{additional_cta:"Error Details",cta:"Retry",subtitle:"There's a problem connecting to Vidio. Please try again later.",title:"Network error"},not_supported_browser:{additional_cta:"Report Problem",subtitle:"Please update your browser or download our apps.",title:"Your browser is not supported."},sign_in:{cta:"Sign In",description:"Sign in to watch this video"}},control_bar:{"Cinema Mode":"โหมดภาพยนตร์",Fullscreen:"แบบเต็มหน้าจอ",Mute:"ปิดเสียง",Next:"ต่อไป","Non-Fullscreen":"ไม่ใช่แบบเต็มหน้าจอ",Pause:"หยุดชั่วคราว",Play:"เล่น","Playback Settings":"การตั้งค่าการเล่น",Replay:"เล่นซ้ำ","Seek backward 10 seconds":"ค้นหาย้อนกลับ 10 วินาที","Seek forward 10 seconds":"ค้นหาไปข้างหน้า 10 วินาที",Unmute:"ยกเลิกการปิดเสียง"},settings_menu:{normal:"Normal",off:"Off",playback_speed:"Playback Speed",send_feedback:"Send Feedback",settings:"Settings",subtitle:"Subtitle",video_quality:"Video Quality"}}},_t=()=>{let t={};return bt.forEach((e=>{t["".concat(e)]=yt["".concat(e)].control_bar})),t};class ft{static isBlank(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==t||(null==t||(""==t||("[]"==t||("{}"==t||0===Object.keys(t).length&&t.constructor===Object))))}static getLang(){try{if(void 0===window.active_language){let t=document.documentElement.lang;-1==bt.indexOf(t)&&(t="id"),window.active_language=t}return wind(t){return"id"}}}class wt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i}tech(){return this._tech}data(){return this._data}static shouldInit(t){return t.data.dvrEnabled()&&"Firefox Mobile"!==m.browserName()}init(){this.importPlugin(),this.onPlayerStart()}importPlugin(){i(8669)}onPlayerStart(){this.tech().on("vp-start",(()=>{this.tech().plugin().instance().dvr()}))}}class kt{constructor(){let t=arg,e=t.sources,i=t.autoplay,s=t.data,n=t.uuid;this._sources=e,this._autoplay=i||{},this._data=s,this._uuid=n}sources(){return this._sources}autoplay(){return this._autoplay}data(){return this._data}uuid(){return this._uuid}swfUrl(){return"//vjs.zencdn.net/swf/5.4.1/video-js.swf"}ignoreClickVpVidioLogo(){return"true"==a.search().ignore_player_logo_click}showSettingsButton(){const t=m.isDesktopSite(),e="true"==this.data().embed();return t||e}showMobileSettingsButton(){const t=m.isMobileSite(),e="true"==this.data().embed();return t&&!e}showSubtitleSwitcher(){const t=p("enable_subtitle_from_master_playlist"),e=!ft.isBlank(this.data().subtitles());return(t||e)&&!this.showSettingsButton()&&!this.showMobileSettingsButton()}value(){const t=m.browserName(),e=t.toLowerCase().includes("chrome mobile")&&"chrome mobile ios"!==t.toLowerCase(),i="Edge"===t||e,s=wt.shouldInit({data:this.data()});return{languages:_t(),language:ft.getLang(),inactivityTimeout:5e3,sources:this.sources(),aspectRatio:"16:9",autoplay:this.autoplay().value(),muted:!!t.includes("Safari")||this.data().mute(),preload:m.isDesktopSite()?"none":"auto",poster:this.data().videoImageUrl(),reportTouchActivity:!0,resizeManager:!1,techOrder:["html5"],html5:{nativeAudioTracks:!i,nativeVideoTracks:!i,vhs:{handleManifestRedirects:!0,withCredentials:!1,overrideNative:i,useCueTags:!0}},bigPlayButton:!1,hotkeys:!1,controlBar:{captionsButton:!1,vpComponents:{vpVolumePanel:!0,vpSubtitle:{play_uuid:this.uuid(),videoId:this.data().videoId(),show:this.showSubtitleSwitcher()},vpSeekBackwardButton:{show:this.data().isVideo()},vpSeekForwardButton:{show:this.data().isVideo()},vpNextButton:{show:this.data().isVideo()&&"false"===this.data().embed(),videoId:this.data().videoId()},vpVidioLogo:{videoId:this.data().videoId(),streamType:this.data().streamType(),ignoreClick:this.ignoreClickVpVidioLogo(),show:"true"==this.data().embed()&&0==this.data().hideLogo()},progressControl:{seekBar:s||this.data().isVideo()},fullscreenToggle:{show:!0},vpThumbnails:m.isDesktopSite()?this.data().thumbnails():{},vpCinemaModeButton:{videoId:this.data().videoId(),show:m.isDesktopSite()&&"false"==this.data().embed()&&this.data().isVideo()},vpRemainingTimeDisplay:{show:s||this.data().isVideo(),toggleable:this.data().isVideo()},vpLiveDisplay:!s,vpEpisodesListButton:this.data().seasonsList().length>0,vpSettingsButton:{videoId:this.data().videoId(),play_uuid:this.uuid(),type:this.data().type(),resolutionMapping:this.data().resolutionMapping(),show:this.showSettingsButton()},vpMobileSettingsButton:{videoId:this.data().videoId(),play_uuid:this.uuid(),type:this.data().type(),resolutionMapping:this.data().resolutionMapping(),show:this.showMobileSettingsButton()}}},plugins:{loadingAnimation:{},bitrateSwitcher:{play_uuid:this.uuid(),type:this.data().type(),resolutionMapping:this.data().resolutionMapping()},initStartEvent:{data:this.data()}}}}}class St{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._defaultInactivih().plugin().instance()}controlbar(){return thions_}inactivityTimeout(t){this.options().inactivityTimeout=t}init(){this.setDefaultInactivityTimeout(),this.playerMouseenter(),this.playerMouseleave()}setDefaultInactivityTimeout(){this._defaultInactivityTimeout=this.options().inactivityTimeout}playerMouseenter(){this.tech().on("mouseenter",(()=>{this.inactivityTimeout(this._defaultInactivityTimeout)}))}playerMouseleave(){this.tech().on("mouseleave",(()=>{this.inactivityTimeout(100)}))}}class Ct{constructor(t){this._tech=t,this._skipInterval=10,this.lastTapDirection=null,this.tapListenerTimeout=null,this.tapEffectTimeout=null,this._targetedHideElements=[],this.icons={backward:{},forward:{}},this.resetTapCount()}tech(){return this._tech}skipInterval(){return this._skipInterval}el(){return this.tech().el()}getCurrentTime(){return Math.floor(this.tech().currentTime())}setCurrentTime(t){this.tech().currentTime(t)}getDuration(){return Math.floor(this.tech().duration())}targetedHideElements(){return this._targetedHideElements}init(){this.appendDoubleTapFeedbackElement(),this.assignIcons(),this.setTargetedHideElement(),this.bindOnTouchStart(),this.bindOnTouchEnd()}assignIcons(){this.icons.backward={first:document.querySelector("#double_tap_backward_1__start"),second:document.querySelector("#double_tap_backward_2__start"),third:document.querySelector("#double_tap_backward_3__start")},this.icons.forward={first:document.querySelector("#double_tap_forward_1__start"),second:document.querySelector("#double_tap_forward_2__start"),third:document.querySelector("#double_tap_forward_3__start")}}calculateDirection(t,e){return e<t/2?"backward":"forward"}bindOnTouchStart(){this.tech().on("touchstart",(t=>{const e=t.currentTarget.clientWidth,i=t.changedTouches[0].clientX,s=this.calculateDirection(e,i);0===this.tapCount[s]&&(this._userInactive=this.tech().el().hasClass("vjs-user-inactive"))}))}bindOnTouchEnd(){this.tech().on("touchend",(t=>{const e=t.currentTarget.clientHeight,i=t.changedTouches[0].clientY;if(this.canSeek(e,i)){const e=t.currentTarget.clientWidth,i=t.changedTouches[0].clientX,s=this.calculateDirection(e,i);this.tapCount[s]++,1===this.tapCount[s]?this.tapListenerTimeout=setTimeout((()=>{this.resetTapCount()}),500):this.tapCount[s]>1&&(window.clearTimeout(this.tapListenerTimeout),this.doubleTapHandler(s))}}))}canSeek(t,e){if(this._userInactive)return!0;return e<t-this.tech().controlBar().height()-20}setTargetedHideElement(){const t=document.querySelectorAll(".vjs-big-button, .vjs-control-bar");this._targetedHideElements=ct(t)}createDoubleTapFeedbackElement(t){const e=document.createElement("div");e.className="vjs-double-tap-feedback vjs-double-tap-feedback--".concat(t);const i=document.createElement("div");i.className="animated-svg",i.innerHTML=this.getAnimatedSvg(t);const s=document.createElement("div");return s.className="interval",e.appendChild(i),e.appendChild(s),e}appendDoubleTapFeedbackElement(){this.el().appendChild(this.createDoubleTapFeedbackElement("backward")),this.el().appendChild(this.createDoubleTapFeedbackElement("forward"))}doubleTapHandler(t){this.tech().trigger({type:"vp-before-seeked",action:"doubletap"}),"backward"===t&&this.getCurrentTime()>0?(this.seekBackward(),this.toggleDoubleTapSeekedClass("backward")):"forward"===t&&this.getCurrentTime()<this.getDuration()?(this.seekForward(),this.toggleDoubleTapSeekedClass("forward")):this.resetTapCount()}toggleDoubleTapSeekedClass(t){this.handleIntervalElement(t),this.el().addClass("vjs-double-tap-seeked-".concat(t)),this.hideTargetedElement(),this.startDoubleTapAnimation(t),this.tapEffectTimeout=window.setTimeout((()=>{this.resetElement(t)}),1e3)}handleIntervalElement(t){null!=this.lastTapDirection&&(this.lastTapDirection!=t?this.resetElement(this.lastTapDirection):window.clearTimeout(this.tapEffectTimeout)),this.updateInterval(t),this.lastTapDirection=t}updateInterval(t){var e=document.querySelector(".vjs-double-tap-feedback.vjs-double-tap-feedback--".concat(t," .interval")),i=(this.tapCount[t]-1)*this.skipInterval();e.innerHTML="".concat(i," seconds")}resetElement(t){this.showTargetedElement(),this.el().removeClass("vjs-double-tap-seeked-".concat(t)),this.tapCount[t]=0,this.lasthis.targetedHideElements().forEach((t=>{t.classList.add("vjs-override-transition")})),this.targetedHideElements().forEach((t=>{t.classs.targetedHideElements().forEach((t=>{t.classList.remove("vjs-override-transition")})),this.targetedHideElements().forEach((t=>{t.classList.remove("vjs-invisible")}))}startDoubleTapAnimation(t){this.icons[t].first.beginElement(),this.icons[t].second.beginElement(),this.icons[t].third.beginElement()}resetTapCount(){this.tapCount={backward:0,forward:0}}seekForward(){this.setCurrentTime(this.getCurrentTime()+this.skipInterval())}seekBackward(){this.setCurrentTime(this.getCurrentTime()-this.skipInterval())}getAnimatedSvg(t){return'\n      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48px" height="16px" viewBox="0 0 48 16" version="1.1">\n        <title>Animated SVG</title>\n        <defs>\n          <path d="M3.68277588,2.34138794 C2.20111967,1.60055984 1,2.34237885 1,4.00335124 L1,11.9966488 C1,13.6553538 2.19363213,14.4031839 3.68277588,13.6586121 L12.3172241,9.34138794 C13.7988803,8.60055984 13.8063679,7.40318394 12.3172241,6.65861206 L3.68277588,2.34138794 Z" id="play-icon" fill="white"/>\n        </defs>\n        <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <g id="Atoms-/-Attributes-/-Player-/-BW-10s" transform="translate(-7.000000, -8.000000)">\n            <g id="Group" transform="translate(7.000000, 8.000000)">\n              <g id="Icons" transform="translate(24.000000, 8.000000) scale(-1, 1) translate(-24.000000, -8.000000) ">\n                <g id="'.concat(t,'-icon-1" class="opacity-0">\n                  <rect id="Bound" x="0" y="0" width="16" height="16"/>\n                  <g id="Shape">\n                    <use fill="#FFFFFF" fill-rule="evenodd" xlink:href="#play-icon"/>\n                  </g>\n                </g>\n                <g id="').concat(t,'-icon-2" class="opacity-0" transform="translate(16.000000, 0.000000)" opacity="0.5">\n                  <rect id="Bound" x="0" y="0" width="16" height="16"/>\n                  <g id="Shape">\n                    <use fill="#FFFFFF" fill-rule="evenodd" xlink:href="#play-icon"/>\n                  </g>\n                </g>\n                <g id="').concat(t,'-icon-3" class="opacity-0" transform="translate(32.000000, 0.000000)">\n                  <rect id="Bound" x="0" y="0" width="16" height="16"/>\n                  <g id="Shape">\n                    <use fill="#FFFFFF" fill-rule="evenodd" xlink:href="#play-icon"/>\n                  </g>\n                </g>\n              </g>\n            </g>\n          </g>\n        </g>\n        <animate id="double_tap_').concat(t,'_1__start" href="#').concat(t,'-icon-1" attributeName="class" begin="indefinite" values="opacity-50;opacity-100;opacity-50;opacity-0;" dur="0.4"/>\n\n        <animate id="double_tap_').concat(t,'_2__start" href="#').concat(t,'-icon-2" attributeName="class" begin="indefinite" values="opacity-0;" dur="0.2"/>\n        <animate id="double_tap_').concat(t,'_2__show" href="#').concat(t,'-icon-2" attributeName="class" begin="double_tap_').concat(t,'_2__start.end" values="opacity-50;opacity-100;opacity-50;opacity-0;" dur="0.48"/>\n\n        <animate id="double_tap_').concat(t,'_3__start" hgin="indefinite" values="opacity-0;" dur="0.44"/>\n        <animate id="double_tap_').concat(t,'_3__show" href="#').concat(t,'-icon-3" attributeName="class" begin="double_tap_').concat(t,'_3__start.end" values="opacity-50;opacity-100;opacity-50;opacity-0;" dur="0.56"/>\n      </svg>\n    ')}}class At{constructor(t){this._tech=t.tech,this._data=t.data}data(){return this._data}tech(){return this._tech}init(){this.bindTokenTimeout(),this.bindClearTokenTimeout()}tokenDuration(){let t=this.data()minutesToSeconds(10):t,1e3*t}bindTokenTimeout(){this._tokenTimeout=window.setInterval(this.triggerRefreshPlayer.bind(this),this.tokenDuration())}bindClearTokenTimeout(){this.tech().on("vp-restart",this.clearTokenTimeout.bind(this)),this.tech().on("dispose",this.clearTokenTimeout.bind(this))}clearTokenTimeout(){window.clearInterval(this._tokenTimeout)}triggerRefreshPlayer(){this.clearTokenTimeout(),this.data().isPremier()?this.refreshUrlSource():this.refreshPlayer()}refreshUrlSource(){const t="/interactions_stream.json?video_id=".concat(this.data().videoId(),"&type=").concat(this.nst t=JSON.parslipDashUrl(t.source_dash),this.refreshPlayer()},e.open("GET",t),e.send(null)}refreshPlayer(){this.increaseDataTokenRefreshCount(),this.tech().trigger("vp-token-refresh"),this.tech().trigger("vp-restart")}getCoVideo()?"videos":"livestreamin-vjs-clip-hls-url",t)}setVjsClipDashUrl(t){t&&this.data().el().setAttribute("data-vjs-clip-dash-url",t)}increaseDataTokenRefreshCount(){this.data().el().setAttribute("data-vod-token-refresh-count",this.data().tokenRefreshCount()+1)}minutesToSeconds(t){return 60*t}}i(2707);class Tt{static userId(){try{return window.currentUser.user_id}catch(t){return}}static isLoggedIn(){return void 0!==Tt.userId()}}class Et{constructor(t,e){thiss._minWatchDuration=30}data(){return this._data}videoIsEnded(){return this._videoIsEnded}videoId(){return this.data().videoId()}tech(){return this._tech}storageName(){return this._storageName}storageSize(){return this._storageSize}init(){this.continueIncompleteVideo(),this.bindWindowUnload(),this.bindVideoPlay(),this.bindVideoEnded(),this.clearData()}continueIncompleteVideo(){const t=this.getCurrentVideoFromStorage();if(t){let e=!1,iis.tech().currentTime())==Math.flo,this.tech().currentTime(t.time),U.sendContinueWatch(this.videoId()),clearInterval(i))}),50)}}bindWindowUnload(){const t="Mobile Safari"===m.browserName()?"pagehide":"beforeunload";window.addEventListener(t,this.onbeforeunload.bind(this)())}onbeforeunload(){return this.beforeunloadHandler.bind(this)}createNewData(t){const e=t.filter((t=>1!=t.isPremier)),i=t.filter((t=>1==t.isPremier));return this.data().isPremier()?this.arrangeData(i):this.arrangeData(e),i.concat(e)}arrangeData(t){this.sortVideoData(t);let e=null;this.data().filmId()>0&&(e=this.data().filmId());const i=Math.floor(this.tech().currentTime());return i<this._minWatchDuration||(t.unshift({id:this.videoId(),time:i,isPremier:this.data().isPremier(),timestamp:window.Date.now(),filmId:e}),t.length>this.storageSize()&&t.pop()),t}sortVideoData(t){t.sort(((t,e)=>t.timestamp||e.timestamp?t.timestamp?e.timestamp?e.timestamp-t.timestamp:-1:1:0))}beforeunloadHandler(){if(this.videoIsEnded()&&Tt.isLoggedIn())return;const t=this.getDataVideos(),e=this.createNewData(t);this.sortVideoData(e),this.saveIncompleteVideo(e)}bindVideoPlay(){this.tech().on("play",(()=>{this._vidEnded(){this.tech().on("vp-ended",(()=>{this._videoIsEnded=!0,this.setVideoAsCompleted()}))}saveIncompos(){const t=n().getItem(this.storageName());return null!==t?JSON.parse(t):[]}getCurrentVideoFromStorage(){return this.getIncompleteVideos().find((t=>t.id===this.videoId()))}getDataVideos(){return Tt.isLoggedIn()?this.getDataWithoutCurrentVideo():this.getIncompleteVideos()}setVideoAsCompleted(){const t=this.getDataVideos();this.saveIncompleteVideo(t)}getDataWithoutCurrentVideo(){return this.getIncompleteVideos().filter((t=>t.id!==this.videoId()))}clearData(){Tt.isLoggedIn()||n().removeItem(this._storageName)}}class Pt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,his._watermarkDuration=9e4,this._watermarkElement=null,this._watermarkAppended=!1}tech(){return this._tech}videoId(){return this._videoId}rawWatermarkData(){return this._rawWatermarkData}watermarkDuration(){return this._watermarkDuration}watermarkElement(){return this._watermarkElement}now(){return Date.now()}init(){this.run(this.getWatermarkData())}getWatermarkData(){let t;try{t=JSON.parse(this.rawWatermarkData()).filter((t=>t.id==this.videoId()))[0]||null}catch(e){t=null}return t}createWatermark(){const t=document.createElement("div");let e=document.querySelector(".vjs-fullscreen")?"font-size: 36px;":"";return t.innerHTML='\n      <div style="width: 100%; font-size: 20px; pointer-events: none; transition: ease all 1s; letter-spacing: 7px; text-shadow: 1px 1px black, -1px -1px black, -1px 1px black, 1px -1px black; '.concat(e,'">\n        <span style="position: absolute; top: 30%; opacity: 0.3; left: 15%;">').concat(Tt.userId(),'</span>\n        <span style="position: absolute; top: 30%; opacity: 0.3; right: 15%;">').concat(Tt.userId(),"</span>\n      </div>\n    "),this._watermarkElement=t.children[0],t.children[0]}appendWatermark(){this._watermarkAppended||(this.tech().videoComponentWrapper().appendChild(this.createWatermark()),this._watermarkAppended=!0)}run(t){if(null==t)return;if(!Array.isArray(t.time))return;let e=parseInt(t.duration);e&&(this._watermarkDuration=1e3*e),t.time.forEach((t=>{this.processWatermark(t)}))}processWatermark(t){const e=this.now(),i=new Date(t).getTime();e<i&&this.toggleWatermarkAfter(i-e)}showWatermark(){void 0!==Tt.userId()&&this.appendWatermark()}d(this.watermarkElement())}toggleWatermark(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.watermarkDuration();this.showWatermark(),setTimeout((()=>{this.hideWatermark()}),t)}toggleWatermarkAfter(t){setTimeout((()=>{this.toggleWatermark()}),t)}}function It(t){const e=document.createElement("div");return e.innerHTML=t,e.children[0]}class Bt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i}init(){this.addClassToContainer(),this.appendComponent()}addClassToContainer(){""===this.data().filmTitle()&&this.tech().el().addClass("co    <div ccontent-titpan>\n      </div>\n    "))}createSeasonEpisodeTitle(){return"".concat(this.getSeasonName()).concat(this.showDivider()).concat(this.getVideoTitle())}showDivider(){return this.getSeasonName()&&this.getVideoTitle()?" • ":""}getSeasonName(){return this.seasonName()?this.seasonName():""}getVideoTitle(){return this.seasonName()?this.data().videoTitle():""}tech(){return this._tech}data(){return this._data}getContentTitle(){return this.data().filmTitle()?this.data().filmTitle():this.data().videoTitle()}seasonName(){return this.data().seasonName()}episodeNumber(){return this.data().episodeNumber()}}class Dt{static execute(t,e,i){return t+e-Date.now()<0?(i(),Date.now()):t}static set(t,e){var i=0;return function(){var s=Date.now();s-i>=e&&(t(...arguments),i=s)}}}class Mt{constructor(t,e,i){this._tech=t,this._uuid=e,this._data=i,this._skipInterval=5,this._throttleInterval=300,this._time=Date.now(),this._eventTimestamp={},this._whitelistedKeys=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Space","Escape","KeyK","KeyF","KeyI","KeyM","KeyC","KeyN"]}init(){this.bindKeydown(),this.bindKeyup()}bindKeyup(){this.tech().el().el().addEventListener("keyup",(t=>{if(this.isWhitelisted(t.code)){const e=this._eventTimestamp[t.code];this.handleKeyupEvent(t.code,e)}}))}bindKeydown(){this.tech().el().el().addEventListener("keydown",(t=>{this.isWhitelisted(t.code)&&(this.markState(t.code),t.preventDefault(),"ArrowLeft"==t.code?this._time=Dt.execute(this._time,this._throttleInterval,this.callbackLeft.bind(this)):"ArrowRight"==t.code?this._time=Dt.execute(this._time,this._throttleInterval,this.callbackRight.bind(this)):"ArrowUp"==t.code?this.callbackUp():"ArrowDown"==t.code?this.callbackDown():"Space"==t.code||"KeyK"==t.code?this.callbackSpaceAndKeyK():"KeyF"==t.code?this.callbackFKey():"KeyI"==t.code?this.callbackIKey():"Escape"==t.code?this.callbackEscape():"KeyM"==t.code?this.callbackMKey():"KeyC"==t.code?this.callbackCKey():"KeyN"==t.code&&this.callbackNKey())}))}handleKeyupEvent(t,e){Date.now()-e>this.throttleInterval()?U.sendKeyPressed(t,this.uuid(),!0):U.sendKeyPressed(t,this.uuid(),!1),delete this._eventTimestamp[t]}markState(t){this._eventTimestamp[t]||(this._eventTimestamp[t]=Date.now())}callbackSpaceAndKeyK(){1==this.tech().paused()?this.tech().play():(this.tech().pause(),this.tech().trigger("trigger-pause-ad"))}callbackLeft(){if(this.data().isVideo()){this.tech().trigger({type:"vp-before-seeked",action:"keypress"});const t=this.tech().currentTime();this.tech().currentTime(t-this._skipInterval)}}callbackRight(){if(this.data().isVideo()){this.tech().trigger({type:"vp-before-seeked",action:"keypress"});const t=this.tech().currentTime();this.tech().currentTime(t+this._skipInterval)}}calln(){const t=this.tech().volume()-.1;this.tech().volume(t)}callbackFKey(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?this.tech().plugin().instance().player_.exitFullscreen():this.tech().plugin().instance().player_.requestFullscreen()}callbackIKey(){document.querySelector(".vjs-cinema-mode-button").click()}callbackEscape(){this.tech().isFullscreen()?document.exitFullscreen():document.getElementById("article-player").className.indexOf("cinema-mode")>-1&&document.querySelector(".vjs-cinema-mode-button").click()}callbackMKey(){const t=this.tech().muted();this.tech().muted(!t)}callbackCKey(){const t=this.tech().plugin().instance().player_.controlBar.vpSettingsButton.settingsMenuPanel.subtitleManager.getActiveSubtitle().label,e=this.tech().plugin().instance().player_.controlBar.vpSettingsButton.settingsMenuPanel.subtitleManager.getPreferredLang().replace(/^\w/,(t())),i=this.tech().plugin().instance().player_.controlBar.vpSettingsButton.settingsMenuPanel.subtitleMenu.menuItems;var s=i.find((e=>e.label===t));s.menuType="","Off"!=t?(s=i.find((t=>"Off"===t.label)),this.tech().plugin().instance().player_.controlBar.vpSettingsButton.settingsMenuPanel.subtitleManager.handleTrackChange("Off")):(s=i.find((t=>t.label==tingsButton.settingsMenuPanel.subtitleManager.handleTrackChange(e)),s.menuType="checked",this.tech().plugin().instance().player_.controlBar.vpSettingsButton.settingsMenuPanel.subtitleMenu.updateList(i)}callbackNKey(){this.tech().plugin().instance().player_.controlBar.vpNextButtotech(){return this._tech}time(){return this._time}uuid(){return this._uuid}data(){return this._data}eventTimestamp(){return this._eventTimestamp}throttleInterval(){return this._throttleIntebscribe}}static noop(){}static stubSubscribe(){return{remove:this.noop}}static publish(){this.global().publish(...arguments)}static subscribe(){return this.global().subscribe(...arguments)}}class Ot{static fullscreenElement(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}static exitFullscreen(){if(null!==this.fullscreenElement()&&void 0!==this.fullscreenElement()){if(document.exitFullscreen)return document.exitFullscreen();if(document.webkitExitFullscreen)return document.webkitExitFullscreen();if(document.mozCancelFullscreen)return document.mozCancelFullscreen();if(document.msExitFullscreen)return document.msExitFullscreen()}}}class jt{static create(t){let e=t.type,i=void 0===e?"black":e,s=t.text,n=t.onclick,a=t.tagOptions,r=void 0===a?{}:a,o=document.createElement("div");return o.className="vjs-player-error__button-revamp vjs-player-error__".concat(i,"-cta-button"),o.innerHTML='<a class="vjs-player-error__'.concat(i,'-link vjs-player-error__link-revamp">').concat(s,"</a>"),o.firstChild.onclick=n,r.href&&(o.firstChild.href=r.href),o}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data}get tech(){return this._tech}get data(){return this._data}retryButton(t){let e=t.text,i=t.type;return jt.create({type:i,text:e,onclick:this.onClickRetryButton.bind(this)})}onClickRetryButton(){let t;this.data.isVideo()&&(t="vp-retry-button-click"),this.data.isLivestreaming()&&(t="vp-livestream-retry-button-click"),this.tech.trigger({type:t}),a.reload()}downloadButton(t){let e=t.type;return jt.create({type:e,text:"Download App",onclick:this.onClickDownloadButton.bind(this),tagOptions:{href:"https://app.vidio.com/appdownload-errorblocker"}})}onClickDownloadButton(){let t;this.data.isVideo()&&(t="vp-download-app-button-click"),this.data.isLivestreaming()&&(t="vp-livestream-download-app-button-click"),this.tech.trigger({type:t})}exploreVidioButton(t){let e=t.text,i=t.type;return this.withDirectLinkButton({text:e,href:"https://www.vidio.com",type:i})}withDirectLinkButton(t){let e=t.text,i=t.href,s=t.type;return jt.create({type:s,text:e,onclick:this.onClickHrefButton.bind(this),tagOptions:{href:i}})}onClickHrefButton(){let t;this.data.isVideo()&&(t="vp-href-button-click"),this.data.isLivestreaming()&&(t="vp-livestream-href-button-click"),this.tech.trigger({type:t})}reportButton(t){let e=t.text,i=t.code,s=t.type;return jt.create({type:s,text:e,onclick:this.onclickReportButton.bind(this,i)})}waitFullscreenExited(t){return new Promise((e=>{const i=setInterval((()=>{this.tech.isFullscreen()||(clearInterval(i),e())}),t)}))}publishSendFeedbackTopic(t){Lt.publish("watchpage/send_feedback/show",{issue_category_code:"icc4",issue_code:"pi01",error_code:String(t)})}onclickReportButton(t){let e;this.data.isVideo()&&(e="vp-report-button-click"),this.data.isLivestreaming()&&(e="vp-livestream-report-button-click"),this.tech.trigger({type:e}),this.tech.isFullscreen()?(Ot.exitFullscreen(),this.waitFullscreenExited(10).then((()=>this.publishSendFeedbackTopic(t)))):this.publishSendFeedbackTopic(t)}}function Rt(t){try{return t.split(".").reduce(((t,e)=>{if(!t[e])throw new Error;return t[e]}),yt[ft.getLang()])}catch(e){return console.warn(e),t}}class xt{static runPlugin(t){if(t.enable){new xt(t).checkUserSession()}}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._player=t.player,this._testMode=t.testMode,this._data=t.data,this._userId=void 0,this._blocker=t.blocker}player(){return this._player}data(){return this._data}testMode(){return this._testMode}userId(){return this._userId}blocker(){return this._blocker}checkUserSession(){if(void 0===window.currentUser){const t=xt.createAdultNotice();this.player().el().appendChild(t),document.addEventListener("user.data.loaded",(()=>{const e=Tt.userId();t.parinit(Tt.userId())}init(t){if(xt.shouldSkipAdultBlocker())return void xt.setAdultConfirmId(t);const e=o.getCookie("adult_confirm_id"),i=void 0!==t,s=xt.userHasConfirm(t,e);(!i||i&&!s)&&(xt.createAdultBlocker(this.player(),t,this.data(),this.blocker()),xt.sendEvent(this.data()))}static shouldSkipAdultBlocker(){return m.locationSearch().includes("pb_sac")}static adultCallback(t,e){return()=>{let i=document.querySelector(".vjs-player-error__section");i.parentNode.removeChild(i),t.tech.error(null),t._isShown=!1,player.tech().play(),xt.setAdultConfirmId(e)}}static createAdultBlocker(t,e,i,s){var n,a,r;const o=Rt("blocker.adult");let d=[];if(e){const t=jt.create({type:"black",text:o.cta,onclick:xt.adultCallback(s,e)});d.push(t)}else{const t=s.buttonHelper.withDirectLinkButton({type:"white",text:o.signInCta,href:xt.getSignInUrl()});d.push(t)}null===(n=t.tech)||void 0===n||null===(a=n.call(t))||void 0===a||null===(r=a.pause)||void 0===r||r.call(a),s.renderBlockerWithParam({message:o,ctaButtons:d,haveCloseButton:!1,withBgImg:!0}).classList.add("vjs-player-error__section--full")}static createAdultNotice(){const t=documentkie("adult_confirm_id")!==t&&o.setCookie("adult_confirm_id",t,xt.getAdultConfirmExpiry())}static getSignInUrl(){const t=m.pathname(),e=m.locationSearch();return"/users/login?user_return_to=".concat(t).concat(e)}static userHasConfirm(t,e){return t==e}static getAdultConfirmExpiry(){const t=new Date;return t.setFullYear(t.getFullYear()+1),t.toUTCString()}static sendEvent(t){var e;U.sendBlocker(null==t||null===(e=t.type())||void 0===e?void 0:e.toLowerCase(),null==t?void 0:t.isPremier(),null==t?void 0:t.videoId(),"adult_confirm")}}class Vt{static shouldInit(t){return m.isDesktopSite()&&"false"===t.embed()&&!0===t.isVideo()&&""!==t.filmTitle()}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i,this._readyToShow=!0,this._activeTimestamp=Date.now(),this._throttleIntervalInMilis=500,this._panelDelayDurationInMilis=this.delayDuration(),this._panelElement=null,this._delayedShowPanelId=null,this._userActivityCallback=()=>{this._activeTimestamp=Dt.execute(this._activeTimestamp,this._throttleIntervalInMilis,this.userActivityAction.bind(this))}}tech(){return this._tech}data(){return this._data}panelElement(){return this._panelElement}delayDuration(){try{return this.data().testMode()?1e3:1e4}catch(t){return 1e4}}readyToShow(){return this._readyToShow}init(){this.appendVideoInformation(),this.addPauseListener(),this.addPlayListener(),this.addEpisodesListOpenListener(),this.addEpisodesListCloseListener(),this.addErrorListener()}appendVideoInformation(){this.tech().el().appendChild(this.createVideoInformationPanel())}addPauseListene().isFullscreen()&&(this.delayedShowPanel(),this.addMousemoveListener(),this.addKeypressListener(),this.addEndedListener())}addPlayListener(){this.tech().on("play",(()=>{this.playAction()}))}playAction(){this.clearDelayedShowPanel(),this.hidePanel(),this.removeEventListener()}addMousemoveListener(){this.tech().on("mousemove",this._userActivityCallback)}userActivityAction(){this.clearDelayedShowPanel(),this.hidePanel(),this.delayedShowPanel()}addKeypressListener(){this.tech().el().el().addEventListener("keydown",this._userActivityCallback)}addEndedListener(){this.tech().on("ended",(()=>{this.playAction()}))}addEpisodesListOpenListener(){this.tech().on("vp-episodes-list-open",(()=>{this._readyToShow=!1,this.playAction()}))}addEpisodis.playAction()}))}removeEventListener(){this.tech().off("mousemove",this._userActivityCallback),tctivityCallback)}delayedShowPanel(){this._delayedShowPanelId=setTimeout(this.showPanel.bind(this),this._panelDelayDurationInMilis)}clearDelayedShowPanel(){clearTimeout(this._delayedShowPanelId)}showPanel(){this.tech().paused()&&this.readyToShow()&&this._panelElement.classList.add("is-active")}hidePanel(){this._panelElement.classList.remove("is-active")}createVideoInformationPanel(){return this._panelElement=document.createElement("div"),this._panelElement.classList.add("vp-video-information-panel"),this._panelElement.appendChild(this.createVideoTitle()),this._panelElement.appendChild(this.createVideoDescription()),this._panelElement.appendChild(this.createVideoState()),this._panelElement}createVideoTitle(){const t=document="vertical",t}createVideoDescription(){const t=document.createElement("div");return t.classList.add("vp-video-information-description"),t.textContent=this.data().videoDescription(),t.style.webkitBoxOrient="vertical",t}createVideoState(){const t=document.createElement("div");return t.classList.add("vp-video-information-state"),t.textContent="paused",t}}class Ut{constructor[0]:{},e=t.tech,i=t.data;this._data=i,this._tech=e}tech(){return this._tech}data(){return this._data}isDrm(){return this.data().drmEnabled()}representations(){return this.isDrm()?this.tech().plugin().dashObject().representations():this.tech().plugin().hlsObject().hls().representations()}isSafari(){return m.browserName().toLowerCase().includes("safari")}sho().testMobileSite())&&!m.isOSiOS()}init(){this.tech().on("loadedmetadata",(()=>{this.enableLowestBitratis.isDrm()?this.setDashLowestBitrate():this.setHlsLowestBitrate()}enableAutoBitrateAfter10s(){window.setTimeout((()=>{this.isDrm()?this.enableDashAutoBitrate():this.enalHlsBitrates(){this.representations().forEach((t=>{t.enabled(!0)}))}enableDashAutoBitrate(){this.tech().plugin().dashObject().enableAutoSwitchQuality()}setHlsLowestBitrate(){this.enableAllHlsBitrates(),this.representations().forEach(((t,e)=>{0!==e&&t.enabled(!1)}))}setDashLowestBitrate(){this.representations().forEach((t=>{0==t.qualityIndex&&t.enable()}))}}class Ht{constructor(t){this._tech=t}tech(){return this._tech}init(){this.tech().one("playing",this.setVideoObjectFit.bind(this)),tVideoObjectFit.bind(this))}setVideoObjectFit(){const t=document.querySelector("video");t&&this.videoMediaIsLandscape(t)&&this.videoElementIsLandscape(t)&&!this.inFullscreenMode()?t.style.objectFit="unset":t.style.objectFit="contain"}videoMediaIsLandscape(t){return t.videoHeight<t.videoWidth}videoElementIsLandscape(t){return t.clientHeight<t.clientWidth}inFullscreenMoullscreenElement;return!!t&&t.classList.contains("vjs-fullscreenuments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this._adStarted=!1,this._overlayIsActive=!1,this._overlay}tech(){return this._tech}data(){rement(){return this.tech().el().parentement().parentElement()}init(){this.bindFirstPlay(),this.bindAdStart(),this.bindAdEnd()}bindFirstPlay(){this.tech().on("firstplay",(()=>{setTimeout((()=>{this._adStarted||this.toggleOverlay()}),4e3)}))}bindAdStart(){this.tech().on("adstart",(()=>{this._adStarted=!0}))}bindAdEnd(){this.tech().on("adend",(()=>{setTimeout((()=>{this.toggleOverlay()}),4e3)}))}appendOverlay(){this._overlayIsActive=!0,"true"===this.data().embed()?this.parentElement().appendChild(this.getVideoOverlay()):this.grandParentElement().appendChild(this.getVideoOverlay())}getVideoOverlay(){const t=document.createElement("div");t.className="vjs-loading-cover";const e=document.querySelector(".vjs-loading-spinner").cloneNode(!0);e.classList.add("vjs-loading-spinner-clone");const i=document.createElement("span");return i.classList.add("vjs-spinner-text"),i.innerHTML="Loading resources, it may take a while...",e.appendChild(i)ay=t,this._overlay}hideOverlay(){const t=document.querySelector(".vjs-loading-cover");t&&(t.parentElement.removeChild(t),this._overlayIsActive=!1)}toggleOverlay(){this.tech()._plugin&&this.tech().readyState()<=2?(this._overlayIsActive||this.appendOverlay(),this.tech().trigger("vp-clean-restart")):this.hideOverlay()}}class Ft{constructor(t){this._tech=t}init(){-1!=a.href().indexOf("utm_campaign=instagram")&&this.setVideoPoster()}setVideoPoster(){document.querySelector(".video-js video").setAttribute("poster",this.posterBase64())}tech(){return this._tech}posterBase64(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEUzMzOWlpbkf4Z6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg=="}}class Wt{constructor(){let t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tech;this._tech=t,this._intervalId=null}tech(){return this._tech}intervalId(){return this._intervalId}init(){this.setAutoplayInterval()}setAutoplayInterval(){this._intervalId=window.setInterval((()=>{this.autoplayCallback()}),100)}autoplayCallback(){co"vjs-playing")&&t.includes("vjs-waiting")&&t.includes("vjs-buffering")&&this.triggerPlayAfterMs()}triggerPlayAfterMs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;window.setTimeout((()=>{const t=this.tech().play();void 0!==t&&t.then((()=>{window.clearInterval(this.intervalId())})).catch((()=>{window.clearInterval(this.intervalId())}))}),t)}}class qt{static shouldInit(){let t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;return t.isLivestreaming()&&!t.drmEnabled()&&""!==t.vjsClipDashUrl()&&m.isSupportVp9fix&&!p("disable_vp9_reloader")}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._res}init(){this.onLivestreamingBufferListener()}onLivestreamingBufferListener(){this.tech().on("bufferstart",(()=>{this._restarted||this.onLivestreamingBufferHandler()}))}onLivestreamingBufferHandler(){this._timeout||(this._timeout=setTimeout(this.restartSource.bind(this),3e3),this.tech().on("bufferend",(()=>{clearTimeout(this._timeout),this._timeout=null})))}restartSource(){const t=this.tech().paused(),e=this.tech().currentSrc();this.tech().plugin().instance().src(e),this._timeout=null,this._restarted=!0,t||this.tech().play()}}class Kt{constructor(t,e){this._tech=t,this._data=e,this._videoAspectRatio=new Ht(t),this._chromeMobileReloadPlayer=new Nt({tech:t,data:e}),this._overrideVideoPoster=new Ft(t),this._safariIosAutoplayDrm=new Wt({tech:t}),this._vp9Reloader=new qt({tech:t})}tech(){return this._tech}data(){return this._data}init(){this.bindChromeMobileReloadPlayer(),this.bindOverrideVideoPoster(),this.bindSafariIosAutoplayDrm(),this.bindVP9Reloader(),this.forceResizePlayerForSpotxAd()}bindVideoAspectRatio(){this._videoAspectRatio.init(this.tech())}bindChromeMobileReloadPlayer(){m.browserVersion().startsWith("68")&&"Chrome Mobile"==m.browserName()&&this._chromeMobileReloadPlayer.init(this.tech())}bindOverrideVideoPoster(){window.playback_feature_toggle&&-1!=window.playback_feature_toggle.indexOf("override_video_poster_for_instagram")&&this._overrideVideoPoster.init(this.tech())}bindSafariIosAutoplayDrm(){"Mobile S&&this.data().drmEnabled()&&this._safariIosAutoplayDrm.init()}bindVP9Reloader(){qt.shouldInp9Reloader.init()}forceResizePlayerForSpotxAd(){this.tech().on("adstarted",(t=>{if("SpotXchange"===t.adEvent.getAd().getAdSystem()){const t=this.tech().videoContainer();t.style.zoom="1.00001",window.setTimeout((()=>{t.style.zoom="1"}),1e3)}}))}}class Qt{static startTime(){const t=a.search().t;return Number(t)||0}Code.includes(t)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i,this.maxError=4}init(rorCodeListener(window.playback.interceptedErrorCode)}canPlayBefore(){var t;return!(null===(t=window.playback)||void 0===t||!t.startTime)}vp9FailoverRetry(){this.data().isLivestreaming()&&!this.data().drmEnabled()&&this.data().vjsClipDashUrl()&&m.isSupportVp9()&&this.appendInterceptedErrorCode([2])}errorCode4Retry(){this.appendInterceptedErrorCode([4])}errorCodeListener(t){null!=t&&this.tech().on("error",(()=>{t.includes(this.tech().errorCode())&&(window.playback.restartCount=(window.playback.restartCount||0)+1,this.canPlayBefore()&&window.playback.restartCount<this.maxError?this.tech().trigger("vp-restart"):window.playback.interceptedErrorCode=void 0)}))}appendInterceptedErrorCode(t){Array.isArray(window.playback.interceptedErrorCode)?window.playback.interceptedErrorCode=window.playback.interceptedErrorCode.concat(t):window.playback.interceptedErrorCode=t}tech(){return this._tech}data(){return this._data}}class zt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,i=t.tech;this._tech=i,this._data=e}tech(){return this._tech}data(){return this._data}previewDuration(){if(this.data())PreviewDuration()&&(this._remainingPreviewDuration=this.previewDuration()),this._blocker=this.getBlocker(),this.appendSubscribeButtonOnStart()}getBlocker(){return document.querySelector(".watchpage-premium-banner")||document.querySelector(".b-watchpage-premium-banner")||document.querySelector(".b-premium-subscribe-banner")||document.createElement(null)}appendSubscribeButtonOnStart(){this.tech().one("playing",(()=>{this.tech().el().appendChild(this.createButton()),this.hasPreviewDuration()?this.bindOneSecondInterval():this.bindTimeUpdate(),this.sendEvent({action:"impression"})}))}createButtribe-button",this._button.innerHTML=this.getButtonText(),this._button.onclick=()=>{Ot.exitFullscreen(),this.tech().pause(),Lt.publish("player/paymentblocker/show",{source:"preview button"}),this.appendBlockerCloseButton(),this.sendEvent({action:"clickocker.appendChild(this.createBlockerCloseButton())}createBlockerCloseButton(){const t=document.createElement("button");return t.className="playback-subscription-blocker-close-button",t.innerHTML="×",t.onclick=()=>{Lt.publish("player/paymentblocker/hide"),this.tech().play(),this.removeCloseButton(t)},t}removeCloseButton(t){t.parentElement.removeChild(t)}getButtonText(){const t=this.hasPreviewDuration()?this.remainingPreviewDuration():this.remainingTime(),e=C.formatTime(t);return"<b>Aktifkan Premier</b>&nbsp; ".concat(e)}remainingTime(){return Math.ceil(this.tech().remainingTime())}bindTimeUpdate(){this.tech().on("timeupdate",(()=>{this._button.innerHTML=this.getButtonText()}))}bindOneSecondInterval(){let t=setInterval((()=>{this._remainingPreviewDuration-=1,this._button.innerHTML=this.getButtonText(),this.remainingPreviewDuration()<=0&&clearInterval(t)}),1e3)}sendEvent(){let t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).action;U.sendPreviewSubscribe(t,this.tech().currentTime())}}class Yt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i,this._buttonSubscribe=new zt({tech:e,data:i})}tech(){return this._tech}data(){return this._data}previewDuration(){if(this.data())return this.data().previewDuration()}buttonSubscribe(){return this._buttonSubscribe}init(){this.buttonSubscribe().init(),this.hasPreviewDuration()?this.onPlayingPreviewDurationHandler():this.videoEndedHandler()}onPlayingPreviewDurationHandler(){this.tech().one("playing",this.previewDurationEndedHandler.bind(this))}videoEndedHandler(){this.tech().on("ended",this.onPreviewEnded.bind(this))}previewDurationEndedHandler(){setTimeout(this.onPreviewEnded.bind(this),1e3*(this.previewDuration()+1))}onPreviewEnded(){m.isOSiOS()&&(this.tech().isInAdMode()||this.tech().duration()<=0)||(Lt.publish("player/paymentblocker/show",{source:"preview end"}),this.tech().dispose())}hasPreviewDuration(){return null!=this.previewDuration()&&-1!==this.previewDuration()}}class Xt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,i=t.tech;this._tech=i,this._data=e}tech(){return this._tech}d{if(this.data())return this.data().contentGatingDuration()}hasContentGatingDuration(){return null!=this.contentGatingDuration()&&-1!==this.contentGatingDuration()}init(){this.hasContentGatingDuration()&&(this._remainingContentGatingDuration=this.contentGatingDuration()),this.appendLoginButtonOnStart()}destroy(){this.tech().el().removeChild(this._button)}appendLoginButtonOnStart(){this.tech().one("playing",(()=>{this.tech().el().appendChild(this.createButton()),this.hasContentGatingDuration()?this.bindPlayerInteractionHandler():this.bindTimeUpdate()}))}createButton(){return this._button=document.createElement("button"),this._button.className="login-button",this._button.innerHTML=this.getButtonText(),this._button.onclick=()=>{Ot.exitFullscreen(),this.tech().pause(),a.href(this.data().contentGatingUrl())},this._button}getButthis.remainingContentGatingDuration():this.remainingTime(),e=C.formatTime(t);return"<b>".concat(window.Locale[ft.getLang()].content_gating_banner.login.cta_button,"</b>&nbsp;&nbsp;&nbsp; ").concat(e)}remainingTime(){return Math.ceil(this.tech().remainingTime())}bindTimeUpdate(){this.timeupdate",(()=>{this._button.innerHTML=this.getButtonText()}))}bindPlayerInteractionHandler(){let t=!1;this._playedTime=0;const e=setInterval((()=>{t||(this._playedTime+=.1,this._button.innerHTML=this.getButtonText(),this.remainingContentGatingDuration()<=0&&clearInterval(e))}),100);this.tech().on("pause",(()=>{t=!0})),this.tech().on("play",(()=>{t=!1}))}remainingContentGatingDuration(){return this.data().isLivescontentGatingDuration()-this.tech().currentTime()}}class Jt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i,this._buttonLogin=new Xt({tech:e,data:i})}tech(){return this._tech}data(){return this._data}contentGatingDuration(){if(this.data())return this.data().contentGatingDuration()}buttonGatingLogin(){return this._buttonLogin}init(){this.buttonGatingLogin().init()}hasContentGatingDuration(){return null!=this.contentGatingDuration()&&-1!==this.contentGatingDuration()}}class $t{constructor(){let t=arguments.length>0,e=t.tech,i=t.data;this._tech=e,this._data=i}tech(){return this._tech}data(){return this._data}ads(){return this.tech().plugin().adsObject()}ima(){return this.tech().plugin().imaObject()}lastMutedCondition(){return this._lastMutedCondition}playlists(){return this.tech().plugin().hlsObject().hls().playlists}shouldInit(){return"true"===this.data().embed()}commands(){return{"vidio.playback.mute":this.commandMute.bind(this),"vidio.playback.unmute":this.commandUnmute.bind(this),"vidio.playback.play":this.commandPlay.bind(this),"vidio.playback.pause":this.commandPause.bind(this),"vidio.playback.ui.hide_fullscreen":this.commandHideFullscreenButton.bind(this),"vidio.playback.ui.hide_topbar":this.commandHideTopBar.bind(this),"vidio.playback.disable_pause":this.commandDisablePause.bind(this),"vidio.playback.ui.hide_components":this.commandUiHideComponentsAll.bind(this),"vidio.playback.ui.hide_components_show_logo":this.commandUiHideComponentsShowLogo.bind(this),"vidio.playback.ui.show_components":this.commandUiShowComponents.bind(this),"vidio.playback.ui.show_play_components_only":this.commandUiShowPlayComponentsOnly.bind(this),"vidio.playback.ui.hide_vidio_logo":this.commandUiHideVidioLogo.bind(this),"vidio.playback.ui.cancel_hide_vidio_logo":this.commandUiCancelHideVidioLogo.bind(this)}}init(){this.commandSendOnLoadedMetadataEvent(),this.commandSendEndEvent(),this.commandSendStartEvent(),this.bindMessageListener(),this.commandSendPlayEvent(),this.commandSendStreamEndEvent(),this.bindLivestreamingCCU(),this.commandSendOnPlayEvent(),this.commandSendOnPausthis.commandSendOnUnmuteEvent(),this.commandSendOnAdStartEvent(),this.commandSendOnAdCompleteEvent(),this.data()&&(this._lastMutedCondition=this.data().mute())}bindMessageListener(){window.addEventListener("message",(t=>{const e=this.commands()[t.data];"function"==typeof e&&e()}))}commandMute(){this.tech().muted(!0)}commandUnmute(){this.tech().muted(!1)}commandPlay(){"function"==typeof this.ads().inAdBreak&&this.ads().inAdBreak()?this.ima().resumeAd():this.tech().play()}commandPause(){"function"==typeof this.ads().inAdBreak&&this.ads().inAdBreak()?this.ima().pauseAd():this.tech().pause()}commandHideFullscreenButton(){this.tech().el().querySelector(".vjs-fullscreen-control").addClass("hidden-on-message")}commandHideTopBar(){this.tech().el().querySelector(".vjs-top-bar").addClass("hidden-on-message")}commandDisablePause(){this.tech().on("pause",(()=>{this.tech().play()}));this.tech().el().querySelector(".vjs-big-pause-button").addClass("hidden-on-message")}commandUiHideComponentsShowLogo(){this.tech().videoContainer().classList.add("embed-ui-hide-components","embed-ui-hide-components-selected")}commandUiHideComponentsAll(){this.tech().videoContainer().classList.add("embed-ui-hide-components")}commandUiShowComponents(){this.tech().videoContainer().classList.remove("embed-ui-hide-components","embed-ui-hide-components-selected","embed-play-components-only")}commandUiShowPlayComponentsOnly(){this.tech().videoContainer().classList.add("embed-play-components-only")}commandUiHideVidioLogo(){this.tech().videoContainer().classList.add("embed-ui-hide-vidio-logo")}commandUiCancelHideVidioLogo(){this.tech().videoContainer().classList.remove("embed-ui-hide-vidio-logo")}commandSendEndEvent(){this.tech().on("ended",(()=>{const t={event:"vidio.playback.vod.ended",properties:this.buildProperties()};window.parent.postMessage(t,"*")}))}commandSendStartEvent(){const t={event:"vidio.playback.ready",properties:this.buildProperties()};window.parent.postMessage(t,"*")}commandSendOnLoadedMetadataEvent(){this.tech().on("loadedmetadata",(()=>{const t={event:"vidio.playback.loadedmetadata",properties:this.buildProperties({is_portrait:this.tech().isPortrait()})};window.parent.postMessage(t,"*")}))}commandSendOnPlayEvent(){this.tech().on("play",(()=>{const t={event:"vidio.playback.statechange",state:{paused:!1},properties:this.buildProperties()};window.parent.postMessage(t,"*")}))}commandSendOnPauseEvent(){this.tech().on("pause",(()=>{const t={event:"vidio.playback.statechange",state:{paused:!0},properties:this.buildProperties()};window.parent.postMessage(t,"*")}))}commandSendOnMuteEvent(){this.tech().on("volumechange",(()=>{if(this.tech().muted()){this._lastMutedCondition=!0;const t={event:"vidio.playback.statechange",state:{muted:!0},properties:this.buildProperties()};window.parent.postMessage(t,"*")}}))}commandSendOnUnmuteEvent(){this.tech().on("volumechange",(()=>{if(this.changedFromMuteToUnmute()){this._lastMutedCondition=!1;const t={event:"vidio.playback.statechange",state:{muted:!1},properties:this.buildProperties()};window.parent.postMessage(t,"*")}}))}commandSendPlayEvent(){this.tech().one("playing",(()=>{const t=this.tech().hlsPlaylistMedia();let e;e=this.tech().plugin().dashObject().hasDashObject()?parseInt(this.tech().currentTime()):t.mediaSequence*t.targetDuration;const i={event:"vidio.playback.playing",properties:this.buildProperties({livestreaming_duration:e})};window.parent.postMessage(i,"*")}))}commandSendStreamEndEvent(){this.tech().on("waiting",(()=>{if(this.playlists().error&&404===this.playlists().error.status){const t={event:"vidio.playback.livestream.ended",properties:this.buildProperties()};window.parent.postMessage(t,"*")}}))}commandSendOnAdStartEvent(){this.tech().on("adstarted",(()=>{const t={event:"vidio.playback.adstart",properties:this.buildProperties()};window.parent.postMessage(t,"*")}))}commandSendOnAdCompleteEvent(){this.tech().on("adcomplete",(()=>{const t={event:"vidio.playback.adcomplete",properties:this.buildProperties()};window.parent.postMessage(t,"*")}))}bindLivestreamingCCU(){con("livestreaming/ccu",this.ccuCallback());this.removeTopicOnPlaybackRestart(t)}ccuCallback(){return function(t){t="number"!=typeof t?0:t;const e={event:"vidio.playback.livestream",properties:this.buildProperties({concurrent_users:t})};window.parent.postMessage(e,"*")}.bind(this)}removeTopicOnPlaybackRestart(t){this.tech().on("vp-restart",(()=>{t.remove()}))}changedFromMuteToUnmute(){return!this.tech().muted()&&this.lastMutedCondition()}buildProperties(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},t,{video_id:this.data().videoId(),query_params:b.params()})}}class Zt{static global(){return void 0===window.kmklabs?{}:window.kmklabs}static watermark_timestamp(){return this.global().watermark_timestamp}}class te{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,i=t.episodePanel;this._data=e,this._episodePanel=i}data(){return this._data}episodePanel(){return this._episodePanel}dom(){return this._container=this.createContainer(),this._container.appendChild(this.createSeasonList()),this._container}createContainer(){return It('\n      <div class="episode-chooser-season">\n        <b class="episode-chooser-heading">Select Season</b>\n      </div>\n    ')}createListItem(){return It('<li class="episode-chooser-season-list-item"></li>')}createAnchor(t){const e=It('<a href="#">'.concat(t.name,"</a>"));return e.onclick=e=>{e.preventDefault(),this.episodePanel().showEpisodeFromSeason(t)},t.id==this.data().seasonId()&&(e.classList.add("active"),e.appendChild(this.checklist())),e}createSeasonList(){const t=It('<ul class="episode-chooser-season-list"></ul>');return this.data().seasonsList().forEach((e=>{const i=this.createListItem(),s=this.createAnchor(e);i.appendChild(s),t.appendChild(i)})),t}checklist(){return It('\n      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><defs><filter id="a" width="105.9%" height="107.5%" x="-3%" y="-3.7%" filterUnits="objectBoundingBox"><feOffset dy="2" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="2"/><feColorMatrix in="shadowBlurOuter1" result="shadowMatrixOuter1" values="0 0 0 0 0.117647059 0 0 0 0 0.117647059 0 0 0 0 0.117647059 0 0 0 0.1 0"/><feMerge><feMergeNode in="shadowMatrixOuter1"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><g filter="url(#a)" transform="translate(-350 -108)" fill="none" fill-rule="evenodd"><path d="M350 108h24v24h-24z"/><path stroke="#00DE51" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M356 120.155l3.895 3.845 8.105-8"/></g></svg>\n    ')}}class ee{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.episode,i=t.isCurrentEpisode,s=t.data;this._episode=e,this._isCurrentEpisode=i,this._data=s}episode(){return this._episode}isCurrentEpisode(){return this._isCurrentEpisode}data(){return this._data}dom(){const t=this.createListItem(),e=this.createButton(this.episode().url);return t.append(e),!0===this.isCurrentEpisode()&&t.classList.add("current"),t}createListItem(){return It('<li class="episode-chooser-episode-list-item"></li>')}createEpisode(){return It('\n      <figure class="episode-chooser-figure">\n        <div>\n          <img src="'.concat(this.episod       </div>\n        <figcaption>').concat(this.episode().description,"</figcaption>\n      </figure>\n    "))}createButton(t){const e=It('\n      <button class="episode-chooser-episode-list-button">\n        <span>'.concat(this.episode().title,"</span>\n      </button>\n    "))click=()=>{this.onClick(t)},e}onClick(t){this.sendEvent({next_url:t,action:"click"}),a.href(t)}sendEvent(t){let e=t.next_url,i=t.action;U.sendEpisodeList({play_uuid:this.data().playUUID(),current_video_id:this.data().videoId(),next_video_id:null===e?null:this.getVideoIdFch/")[1].split("-")[0]}}class ie{constructor(){let t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;this.cache={},this._data=t}data(){return this._data}episodePanel(){return this._episodePanel}episodeList(){return this._episodeList}setContent(t){this.episodeList().innerHTML=t}setSeasonName(t){this._header.querySelector("b").innerHTML=t}addEpisode(t){this.episodeList().appendChild(t)}setScrollPosition(t){this.episodeList().scrollTop=t}show(){this.episodePanel().classList.add("active")}hide(){this.episodePanel().classList.remove("active")}createCloseButton(){const t=It('\n      <button class="episode-chooser-episode-button-close">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#1E1E1E" fill-rule="evenodd" d="M1.623 12.82a1.2 1.2 0 0 1 0-1.697l8.278-8.278a1.2 1.2 0 1 1 1.697 1.697l-7.43 7.43 7.43 7.43a1.2 1.2 0 1 1-1.697 1.697L1.623 12.82Z" cli.2 0 0 1 1.2-1.2h19a1.2 1.2 0 0 1 0 2.4h-19a1.2 1.2 0 0 1-1.2-1.2Z" clip-rule="evenodd"/></svg>\n      </button>\n    ');return t.onclick=()=>{this.hide()},t}createHeader(){return It('\n      <div class="episode-chooser-episode-header">\n        <b></b>\n      </div>\n    ')}createEpisodeList(){return It('<ul class="episode-chooser-episode-list"></ul>')}dom(){return this._episodePanel=It('<div class="episode-chooser-episode"></diloseButton=this.createCloseButton(),this._header=this.createHeader(),this._episodeList=this.createEpisodeList(),this._header.prepend(this._closeButton),this._episodePanel.append(this._header),this._episodePanel.append(this._episodeLson(t){return new Promise(((e,i)=>fetch("/seasons/".concat(t)).then((t=>t.json())).then((t=>t.season)).then(e).catch(i)))}showEpisodeFromSeason(t){this.setSeasonName(t.name),this.setScrollPosition(0),this.setContent(""),this.cache[t.id]?this.setEpisodes(this.cache[t.id]):this.fetchEpisodesFromSeason(t.id).then((e=>{this.cache[t.id]=e,this.setEpisodes(e)}))}setEpisodes(t){let e=!1;t.forEach((t=>{t.title===this.data().videoTitle()&&(e=!0);const i=new ee({episode:t,isCurrentEpisode:e,data:this.data()});this.addEpisode(i.dom())})),this.show(),this.shouldScrollToCurrentEpisode(e)}scrollToCurrentEpisode(){const t=document.querySelector(".episode-chooser-episode-list-item.current"),e=t.parentElement,i=t.getBoundingClientRect().y-e.getBoundingClientRect().y;this.setScrollPosition(i)}shouldScrollToCurrentEpisode(t){!0===t?this.scrollToCurrentEpisode():this.setScrollPosition(0)}}i(9337);function se(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function ne(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?se(Object(i),!0).forEach((function(e){ae(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ae(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class re{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i,this._isShowing=!1,this._container=null,this._containerWidth=400,this._episodePanel=new ie({data:i}),this._seasonPanel=new te({data:i,episodePanel:this._episodePanel})}tech(){return this._tech}data(){return this._data}episodePanel(){return this._episodePanel}seasonPanel(){return this._seasonPanel}controlBar(){return new ut(this.tehouldInit(){retuer.appendChild(this.episodePanel().dom()),this._container.onclick=t=>{t.stopPropagation()},this._container}init(){this.appendEpisodeChooser(),this.bindEventToggle(),this.bindFullscreenChange(),this.bindGlobalClick(),this.bindSettingsButtonClick(),this.bindOnUserinactive()}appendEpisodeChooser(){this.controlBar().appendChild(this.createEpisodeChooser())}bindEventToggle(){this.tech().on("toggle-episode-chooser",(t=>{this.setEpisodeChooserPosition(t),this._isShowing?this.hideContainer():(this.episodePanel().showEpisodeFromSeason({id:this.data().seasonId(),name:this.data().seasonName()}),this.showContainer())}))}setEpisodeChooserPosition(t){const e=t.data.event.currentTarget,i=function(t){const e=t.getBoundingClientRect(),i=t.parentElement.getBoundingClientRect();return{x:e.x-i.x,y:e.y-i.y}}(e);this._container.style.bottom=this.controlBar().clientHeight()+16+"px",this._container.style.left=i.x-this._containerWidth+e.clientWidth+"px"}showContainer(){this._isShowing=!0,this._container.classList.add("is-active"),this.sendEvent({action:"open"}),this.tech().trigger("vp-episodes-list-open")}hideContainer(){this._isShowing=!1,this._container.classList.close"}),this.tech().trigger("vp-episodes-list-close")}bindFullscreenChange(){this.tech().on("fullscreenchange",(()=>{this._isShowing&&this.hideContainer()}))}bindGlobalClick(){this.tech().on("click",(()=>{this._isShowing&&this.hideContainer()}))}bindSettingsButtonClick(){this.tech().on("settings-button-click",(()=>{this._isShowing&&this.hideContainer()}))}bindOnUserinactive(){this.tech().on("userinactive",(()=>{this.tech().paused()||this.hideContainer()}))}sendEvent(t){let e=t.action;U.sendEpisodeList({play_uuid:this.data().playUUID(),current_video_id:this.data().videoId(),next_video_id:null,action:e})}}class oe{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i,this._blockerCountdown=5e3,this._started=!1,this._blockerInterval=null}tech(){return this._tech}data(){return this._data}blockerCountdown(){return this._blockerCountdcheckPlayability(),this.onContentStart()}checkPlayability(){m.isMobileSite()?(this._blockerCountdown=0,this.onContentBowBlocker(){this.tech().error(7)}}function de(t,e,i,s,n,a,r){try{var o=t[a](r),d=o.value}catch(t){return void i(t)}o.done?e(d):Promise.resolve(d).then(s,n)} r(t){de(a,s,n,r,o,"next",t)}function o(t){de(a,s,n,r,o,"throw",t)}r(void 0)}))}}class he{constructor(){this._config=[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4D401E"'}]}]}config(){return this._config}static get keySystems(){return["com.microsoft.playready","com.widevine.alpha","com.apple.fairplay","com.apple.fps"]}drmCheck(t){var navigator.requestMediaKeySystemAccess(t,e.config())}catch(t){return Promise.resolve(!1)}}))()}hdcpCheck(t,e){var i=this;return le((function*(){try{const s=yield i.createMediaKeys(t),n=yield i.checkMediaKeys(s,e);return i.checkHDCPStatus(n)}catch(t){return console.warn(t),Promise.resolve("unsupported")}}))()}createMediaKeys(t){return t.createMediaKeys()}checkMediaKeys(t,e){return"getStatusForPolicy"in t?t.getStatusForPolicy(e):Promise.resolve("unsupported")}checkHDCPStatus(t){return"usable"!==t?Promise.resolve("unsupported"):Promise.resolve("supported")}widevineHdcpCheck(){var t=this;return le((function*(){return t.drmCheck("com.widevine.alpha").then((e=>e?t.hdcpCheck(e,{minHdcpVersion:"1.0"}):Promise.reject()))}))()}static getSupportedDrm(){return le((function*(){var t=[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4D401E"',robustness:"SW_SECURE_CRYPTO"},{contentType:'video/mp4;codecs="avc1.4D401E"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp4;codecs="avc1.4D401E"',robustness:"HW_SECURE_CRYPTO"},{contentType:'video/mp4;codecs="avc1.4D401E"',robustness:"HW_SECURE_DECODE"},{contentType:'video/mp4;codecs="avc1.4D401E"',robustness:"HW_SECURE_ALL"}]}],e=[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4D401E"',robustness:"150"},{contentType:'video/mp4;codecs="avc1.4D401E"',robustness:"2000"},{contentType:'video/mp4;codecs="avc1.4D401E"',robustness:"3000"}],distinctiveIdentifier:"required",persistentState:"required"}],i={playready:["com.microsoft.playreadmmendation","com.microsoft.playready.recommendation.3000"],widevine:["com.widevine.alpha"]};const s={widevine:[],playready:[],fairplay:[]};for(const n in i)for(const a in i[n]){let r=i[n][a];try{let i=t;"playready"===n&&(i=e),yield navigator.requestMediaKeySystemAccess(r,i).then((t=>{const e=he.checkDrmRobustness(n,t);e.length>0&&(s[n]=e)})).catch((t=>{}))}catch(t){}}return s.fairplay=he.fairplayChecking(),s}))()}static checkDrmRobustness(t,e){return"widevine"===t?he.widevineLevelCheirplayChecking():void 0}static widevineLevelChecking(t){const e=t.getConfiguration(),i=e.videoCapabilities.filter((t=>"SW_SECURE_CRYPTO"===t.robustness||"SW_SECURE_DECODE"===t.robustness)),s=e.videoCapabilities.filter((t=>"HW_SECURE_CRYPTO"===t.robustness)),n=e.videoCapabilities.filter((t=>"HW_SECURE_DECODE"===t.robustness||"HW_SECURE_ALL"===t.robustness));var a=[];return i.length>0&&a.push("L3"),s.length>0&&a.push("L2"),n.length>0&&a.push("L1"),a}static playreadyChecking(t){return"com.microsoft.playready.recommendation"===t.keySystem?["SL2000","SL150"]:"com.microsoft.playready.recommendation.3000"===t.keySystem?["SL3000","SL2000","SL150"]:[]}static fairplayChecking(){return"function"==typeof window.WebKitMediaKeys?["1"]:[]}}class ce{constructor(){let t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tech;this._tech=t,this._supportedDrm=[],this._keySysConfig=[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4D401E"'}]}],this._keySystems=["com.microsoft.playready","com.widevine.alpha","com.apple.fairplay","com.apple.fps"],this._blockerCountdown=5e3,this._drmDetector=new he}tech(){return this._tech}supportedDrm(){return this._sup this._keySystems}blockerCountdown(){return this._blockerCountdown}drmDetector(){return this._drmDetector}init(){this.onPlayerBuffer()}onPlayerBuffer(){this.tech().one("bufferstart",(()=>{this.playerBufferHandler()}))}playerBufferHandler(){this.checkDrmSupport(),this.determineBlocker()}checkDrmSupport(){he.keySystems.forEach((t=>{this.checkDrmEach(t)}))}checkDrmEach(t){this.drmDetector().drmCheck(t).then((e=>{e&&(this._supportedDrm.push(t),console.log(t+" supported"))}))}determineBlocker(){setTimeout((()=>{0==this.supportedDrm().length&&this.tech().error(5)}),this.blockerCountdown())}}const ue={modal:{close:"lite/modal-close",open:"lite/modal-open"},smart_banner:{close:"lite/smart-banner-close"}};class pe{constructor(t){let e=t.tech,i=t.ads,s=t.data;this._tech=e,this._ads=i,this._data=s,this.playerContainer=null,this.boundOnScroll=null,this.boundOnModalOpen=null,this.boundOnModalClose=null,this.boundOnBannerAdsClose=null,this.bindedOnScroll=null,this.maxPlayerHeight=null,this.minPlayerHeight=null,this.rootElement=null,this.isModalOpen=!1,this._bannerAdsHeight=0,this.scrollLimit=0}tech(){return this._tech}ads(){return this._ads}data(){return this._data}videoEl(){return this.tecideo")}vjsEl(){return this.tech().el().el()}watchpageWidth(){return window.innerWidth<460?window.innerWidth:460}shouldInit(){return m.isMobileSite()&&m.isWatchPage()&&p("enable_adaptive_player_lite")}init(){this.setValues(),this.setPlayerContainer(),this.bindAdEvents(),this.bindLoadedmetadata(),this.bindLiteEvent(),this.listenScroll(),this.bindDispose()}setValues(){var t;this.boundOnScroll=this.onScroll.bind(this),this.boundOnModalOpen=this.onModalOpen.bind(this),this.boundOnModalClose=this.onModalClose.bind(this),this.boundOnBannerAdsClose=this.onBannerAdsClose.bind(this),this.rootElement=document.querySelector("#root"),this.playerContainer=document.querySelector(".sticky-player"),this.playerMain=document.querySelector("#player-main"),this.maxPlayerHeight=.75*window.innerHeight,this.minPlayerHeight=.5625*this.watchpageWidth(),this._bannerAdsHeight=(null===(t=document.querySelector(".header-ads-container"))||void 0===t?void 0:t.clientHeight)||0,this.setRootElementPadding(this.minPlayerHeight)}bannerAdsHeight(){var t;const e=null===(t=document.querySelector(".header-ads-container"))||void 0===t?void 0:t.clientHeight;return this._bannerAdsHeight=e||this._bannerAdsHeight,this._bannerAdsHeight}setPlayerContainer(){this.playerContainer.style.position="fixed",this.playerContainer.style.top="".concat(this.bannerAdsHeight(),"px"),this.playerContainer.style.width="".concat(this.watchpageWidth(),"px"),this.playerContainer.style.left="50%",this.playerContainer.style.transform="translateX(-50%)"}bindLoadedmetadata(){this.tech().one("loadedmetadata",this.onContentStart.bind(this))}bindContentStart(){this.tech().one("playing",this.onContentStart.bind(this))}onContentStart(){this.isModalOpen||this.setStart()}bindLiteEvent(){document.addEventListener(ue.modal.open,this.boundOnModalOpen),document.addEventListener(ue.modal.close,this.boundOnModalClose),document.addEventListener(ue.smart_banner.close,this.boundOnentListener("scroll",this.boundOnScroll),document.removeEventListener(ue.modal.open,this.boundOnModalOpen),document.removeEventListener(ue.modal.close,this.boundOnModalClose),document.rdisposeCleanUp()}))}disposeCleanUp(){this.playerContainer.style=null,this.rootElement.style=null}onModalOpen(){const t=this.getHeightRatio()*this.watchpageWidth()-this.minPlayerHeight+this.bannerAdsHeight();window.scrollTo(0,t),this.isModalOpen=!0}onModalClose(){this.isModalOpen=!1}onBannerAdsClose(){this._bannerAdsHeight=0,this.setPlayerContainerTop(0)}setStart(){window.scrollTo(0,0),this.scrollLim)}bindAdEvents(){this.tech().on("adsready",this.bindImaEvent.bind(this))}bindImaEvent(){this.ads().ima().addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.ads().ima().addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this))}onAdStarted(){this.isModalOpen||this.setStart()}onContentResumeRequested(){this.isModalOpen||(m.isOSiOS()?this.bindContentStart():this.setStart())}listenScroll(){document.addEventListener("scroll",this.boundOnScroll)}onScroll(){this.setPaddingTop(),this.setVideoObjectFit()}paddingTopValue(){let t=this.getHeightRatio()*this.watchpageWidth(),e=Math.min(this.maxPlayerHeight,t)-window.scrollY;return Math.max(this.minPlayerHeight,e)}setPaddingTop(){const t=this.paddingTopValue();this.vjsEl().style.paddingTop="".concat(t,"px"),this.playerMain.style.paddingTop="".concat(t,"px");const e=t/this.watchpageWidth();return document.querySelector(":root").style.setProperty("--player-height",e),window.scrollY<=this.bannerAdsHeight()?(this.setPlayerContainerTop(this.bannerAdsHeight()-window.scrollY),void this.setRootElementPadding(this.playerContainerHeight())):window.scrollY>this.bannerAdsHeight()&&t>this.minPlayerHeight?(this.setPlayerContainerTop(0),void this.setRootElementPadding(this.playerContainerHeight()+window.scrollY-this.bannerAdsHeight())):void(window.scrollY>this.bannerAdsHeight()&&t<=this.minPlayerHeight&&(0===this.scrollLimit&&(this.scrollLimit=window.scrollY),this.setPlayerContainerTop(0),this.setRootElementPadding(this.playerContainerHeight()+this.scrollLimit-this.bannerAdsHeight())))}setVideoObjectFit(){const t=this.videoEl();var e,i;(null==t?void 0:t.clientHeight)/window.innerHeight>.65?(null==t||t.classList.add("object-fit-covcover")):(null==t||t.classList.remove("object-fit-cover"),null===(i=this.videoAdsEl())||void 0===i||i.classList.remove("object-fit-cover"))}setRootElementPadding(t){this.rootElement.style.paddingTop="".concat(t,"px")}playerContainerHeight(){return this.playerContainer.clientHeight}setPlayerContainerTop(t){this.playerContainer.styeightRatio(){var t;if(this.tech().isInAdMode()&&!this.tech().isContentResuming()&&this.ads().ima().currentAd()){const e=this.ads().ima().currentAd();t=e.getVastMediaHeight()/e.getVastMediaWidth()}else t=this.tech().getVideoSourceHeight()/this.tech().getVideoSouraluateDefaultRatio(t)}evaluateDefaultRatio(t){return isNaN(t)?.5625:t}}class me{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i}shouldInit(){return this.data().drmEnabled()&&m.isNotSupportedChromeVersion()}init(){this.showBlocker(),this.tech().one("playing",(()=>this.tech().pause()))}showBlocker(){this.tech().pause();const t=It('\n      <div class="vjs-player-error__section">\n        <div class="vjs-player-error__container">\n          <div class="vjs-player-error__header">\n            <h3 class="vjs-player-error__title-revamp">'.concat(Rt("blocker.chrome_version.title"),'</h3>\n            <div class="vjs-player-error__subtitle-revamp">').concat(Rt("blocker.chrome_version.subtitle"),"</ror__container").appendChild(this.closeButton()),this.tech().el().el().appendChild(t)}closeButton(){let t=document.createElement("button");return t.className="vjs-player-error__close-btn",t.innerHTML="&times;",t.onclick=this.onCloseButtonClick,t}onCloseButtonClick(){const t=document.querySelector(".vjs-player-error__section");t.parentNode.removeChild(t)}tech(){return this._tech}da]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i,this._playerVolume=1,this._isFadingAudio=!1}t(){return this._playerVolume}storePlayerCurrentVolume(){this._playerVolume=this.tech().volume()}init(){this.bindFadeOutAudio(),this.bindFadeInAudio(),this.bindAdStarted(),this.bindAdEnd()}bindAdStarted(){this.tech().on("adstarted",(()=>{this.onAdStarted()}))}bindFadeOutAudio(){this.tech().on(B,(()=>{this._isFadingAudio=!0,this.storePlayerCurrentVolume()}))}bindFadeInAudio(){this.tech().on(D,(()=>{this._isFadingAudio=!1}))}onAdStarted(){if(this._isFadingAudio||this.storePlayerCurrentVolume(),this.tech().muted())return;const t=this.data().adsVolumeGapSync(),e=Math.round(Math.max(100*this.playerVolume()-t,10))/100;this.tech().plugin().imaObject().getAdsManager().setVolume(e)}bindAdEnd(){this.tech().on("adend",(()=>{this._isFadingAudio||this.tech().volume(this.playerVolume())}))}}class ve{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i}tech(){return this._tech}data(){return this._data}shouldInit(){return"true"==this.data().embed()&&"true"==a.search().hide_controller}init(){var t,e,i,s,n,a;null===(t=this.tech().videoContainer().querySelector(".vjs-progress-control"))||void 0===t||null===(e=t.classList)||void 0===e||e.add("vjs-hidden"),null===(i=this.tech().videoContainer().querySelector(".vjs-remaining-time"))||void 0===i||null===(s=i.classList)||void 0===s||s.add("vjs-hidden"),null===(n=this.tech().videoContainer().querySelector(".vjs-bitrate-switcher"))||void 0===n||null===(a=n.classList)||void 0===a||a.add("vjs-hidden")}}class be{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data,s=t.ads,n=t.autoplay,a=t.error,r=t.blocker;this._tech=e,this._data=i,this._ads=s,this._autoplay=n,this._error=a,this._mouseInteraction=new St({tech:e}),this._playerDoubleTapSeek=new Ct(e),this._playerTokenRefresh=new At({tech:e,data:i}),this._playerContinueWatching=new Et(i,e),this._contentTitle=new Bt({tech:e,data:i}),this._playerKeyboardPress=new Mt(e,this.data().playUUID(),i),this._videoInformation=new Vt({tech:e,data:i}),this._mobileBitrate=new Ut({tech:e,data:i}),this._hotfix=new Kt(e,i),this._playerStartAtTime=new Qt({tech:e}),this._playerRetry=new Gt({tech:e,data:i}),this._playerContentPreview=new Yt({tech:e,data:i}),this._playerContentGatingLogin=new Jt({tech:e,data:i}),this._messageManager=new $t({tech:e,data:i}),this._volumeStateService=new g({tech:e,data:i}),this._adsVolumeStateService=new ge({tech:e,data:i}),this._episodeChooser=new re({tech:e,data:i}),this._playerDvr=new wt({tech:e,data:i}),this._blocker=r,this._hdcpBlocker=new oe({tech:e,data:i}),this._drmBlocker=new ce({tech:e}),this._fluidHeight=new pe({tech:e,ads:s,data:i}),this._chromeVersionBlocker=new me({tech:e,data:i}),this._hideController=new ve({tech:e,data:i})}tech(){return this._tech}data(){return this._data}ads(){return this._ads}autoplay(){return this._autoplay}error(){return this._error}mouseInteraction(){return this._mouseInteraction}playerDoubleTapSeek(){return this._playerDoubleTapSeek}playerTokenRefresh(){return this._playerTokenRefresh}playerContinueWatching(){return this._playerContinueWatching}userIdWatermark(){return this._userIdWatermark}contentTitle(){return this._contentTitle}playerKeyboardPress(){return this._playerKeyboardPress}videoInformation(){return this._videoInformation}mobileBitrate(){return this._mobileBitrate}hotfix(){return this._hotfix}playerStartAtTime(){return this._playerStartAtTime}playerRetry(){return this._playerRetry}playerContentPreview(){return this._playerContentPreview}playerContentGatingLogin(){return this._playerContentGatingLogin}messageManager(){return this._messageManager}volumeStateService(){return this._volumeStateService}adsVolumeStateService(){return this._adsVolumeStateService}episodeChooser(){return this._episodeChooser}playerDvr(){return this._playerDvr}hdcpBlocker(){return this._hdcpBlocker}drmBlocker(){return this._drmBlocker}fluidHeight(){return this._fluidHeight}hideController(){return this._hideController}chromeVersionBlocker(){return this._chromeVersionBlocker}blocker(){return this._blocker}init(){this.showPlayer(),this.addMobileWebClass(),this.setDashDefaultLang(),this.bindLoadstart(),this.bindPlayerRetry(),this.bindError(),this.initPlayerTokenRefresh(),this.initUserIdWatermark(),this.initContentTitle(),this.initKeyboardPress(),this.initAdultBlocker(),this.initDoubleTapSeek(),this.initMouseInteraction(),this.initVideoInformation(),this.initMobileBitrate(),this.initHotfix(),this.initContentPreview(),this.initContentGatingLogin(),this.initMessageManager(),this.initVolumeStateService(),this.initAdsVolumeStateService(),this.initDvr(),this.initHdcpBlocker(),this.initDrmBlocker(),this.initFluidHeight(),this.initChromeVersionBlocker(),this.initHideController(),this.startContentAtSpecificTime(),this.appendBigPauseButton(),this.appendUnmuteButton(),this.appendBigSeekButton(),this.appendShareButton(),this.appendTopBar(),this.appendEpisodeChooser(),this.appendVideoEndedPanel(),this.appendSkipIntroButton()}setDashDefaultLang(){p("enable_subtitle_from_master_playlist")&&(this.tech()._plugin._instance.cache_.selectedLanguage={language:"Indonesian",kind:"subtitles",enabled:!0})}showPlayer(){this.loadModeFromLocalStorage(),this.tech().el().setAttribute("style","opacity: 1"),this.tech().el().querySelector("video").setAttribute("style","opacity: 1")}loadModeFromLocalStorage(){if("true"===n().getItem("cinema_mode")){const t=document.getElementById("article-player");null!=t&&t.classList.add("cinema-mode")}}addMobileWebClass(){(m.isMobileSite()||this.data().testMobileSite())&&this.tech().el().addClass("vjs-mobile-web")}initFluidHeight(){this.fluidHeight().shouldInit()&&this.fluidHeight().init()}initChromeVersionBlocker(){this.chromeVersionBlocker().shouldInit()&&this.chromeVersionBlocker().init()}bindLoadstart(){this.data().drmEnabled()&&this.isSafariOnMacSierra()&&this.tech().on("loadstart",(()=>{this.rror(this.tech().error().code):this.removeExistingErrorBlocker()}))}isSafariOnMacSierra(){return"Safari"===m.browserName()&&m.osName().includes("Mac Os")&&m.osVersion().startsWith("10")}removeExistingErrorBlocker(){ct(document.querySelectorAll(".vjs-generic-error, .vjs-player-error__section, .vjs-error-display")).forEach((t=>{t.parentNode.removeChild(t)}))}bindPlayerRetry(){this.playerRetry().init()}bindError(){this.tech().on("error",(()=>{5==this.tech().errorCode()&&12==m.browserVersionMajor()&&m.isBrowserSafari()?this.removeExistingErrorBlocker():5==this.tech().errorCode()&&m.isNotSupportedChromeVersion()?this.chromeVersionBlocker().showBlocker():Gt.isErrorIntercepted(this.tech().errorCode())||this.error().showError(this.tech().errorCode(),this.tech().errorMessage())}))}initPlayerTokenRefresh(){this.data().tokenDuration()>0&&this.playerTokenRefresh().init()}initContinueWatching(){this.data().isVideo()&&"false"==this.data().embed()&&this.playerContinueWatching().init()}initUserIdWatermark(){this.data().isLivestreaming()&&(this._userIdWatermark=new Pt({tech:this.tech(),videoId:this.data().videoId(),rawWatermarkData:Zt.watermark_timestamp()}),this.userIdWatermark().init())}initContentTitle(){m.isDesktopSite()&&"true"!==this.data().embed()&&this.contentTitle().init()}initKeyboardPress(){m.isDesktopSite()&&this.playerKeyboardPress().init()}initAdultBlocker(){xt.runPlugin({enable:this.data().adult(),testMode:this.data().testMode(),player:this.tech().plugin().instance(),data:this.data(),blocker:this.blocker()})}initDoubleTapSeek(){(m.isMobileSite()||this.data().testMobileSite())&&this.data().isVideo()&&this.playerDoubleTapSeek().init()}initMouseInteraction(){m.isDesktopSite()&&this.mouseInteraction().init()}initVideoInformation(){Vt.shouldInit(this.data())&&this.videoInformation().init()}initMobileBitrate(){this.mobileBitrate().shouldInit()&&this.mobileBitrate().init()}initHotfix(){this.hotfix().init()}initContentPreview(){this.data().preview()&&this.playerContentPreview().init()}initContentGatingLogin(){const t=this;null==window.isUserSignedIn?setTimeout((()=>{t.initContentGatingLogin()}),50):t.renderContentGatingLogin()}renderContentGatingLogin(){this.data().contentGatingLogin()&&!this.data().preview()&&this.playerContentGatingLogin().init()}initMessageManager(){this.messageManager().shouldInit()&&this.messageManager().init()}initVolumeStateService(){this.volumeStateService().shouldInit()&&this.volumeStateService().init()}initAdsVolumeStateService(){this.adsVolumeStateService().init()}initDvr(){wt.shouldInit({data:this.data()})&&this.playerDvr().init()}initHdcpBlocker(){this.data().hdcpEnabled()&&this.hdcpBlocker().init()}initDrmBlocker(){this.data().drmEnabled()&&this.drmBlocker().init()}initHideController(){this.hideController().shouldInit()&&this.hideController().init()}startContentAtSpecificTime(){const t=Qt.startTime();t>0?this.playerStartAtTime().init(t):this.initContinueWatching()}appendBigPauseButton(){this.tech().addChild("VpBigPauseButton")}appendUnmuteButton(){this.data().mute()&&"true"!=this.data().embed()&&(m.isMobileSite()||this.data().testMobileSite())&&this.tech().addChild("VpUnmuteButton",{data:this.data(),ads:this.ads(),autoplay:this.autoplay(),tech:this.tech()})}appendUnmuteOverlay(){this.data().mute()&&(m.isMobileSite()||this.data().testMobileSite())&&this.tech().addChild("VpUnmuteOverlay",{data:this.data(),ads:this.ads(),autoplay:this.autoplay(),tech:this.tech()})}appendBigSeekButton(){this.data().isVideo()&&(this.tech().addChild("VpBigSeekBackwardButton"),this.tech().addChild("VpBigSeekForwardButton"))}appendShareButton(){this.data().shareButtonEnabled()&&this.tech().addChild("VpShareButton",{isPremier:this.data().isPremier(),videoId:this.data().videoId()})}appendTopBar(){this.data().hideTopBar()||"true"!==this.data().embed()||this.tech().addChild("VpTopBar",{title:this.data().videoTitle(),userAvatarUrl:this.data().userAvatarUrl(),watchpageUrl:this.data().watchpageUrl(),userProfileUrl:this.data().userProfileUrl()})}appendVideoEndedPanel(){if(this.data().isVideo()&&!1===this.data().preview()&&"false"===this.data().embed()&&m.isWatchPage()){const t=this.data().chaptersCreditStart()>0?this.data().chaptersCreditStart():this.data().endCreditTime();this.tech().addChild("VpVideoEndedPanel",{videoId:this.data().videoId(),endCreditTime:t})}}appendEpisodeChooser(){this.episodeChooser().shouldInit()&&this.episodeChooser().init()}appendSkipIntroButton(){this.data().chaptersIntroStart()>0&&this.data().chaptersIntroEnd()>0&&this.data().chaptersIntroStart()<this.data().videoDuration()&&"false"===this.data().embed()&&m.isWatchPage()&&this.data().isVideo()&&!1===this.data().preview()&&this.tech().addChild("VpSkipIntroButton",{chaptersIntroStart:this.data().chaptersIntroStart(),chaptersIntroEnd:this.data().chaptersIntroEnd(),playUUID:this.data().playUUID(),videoId:this.data().videoId()})}}class ye{static nextVideo(){return void 0===b.params()["next-video"]||"true"===b.params()["next-video"]}static headerEnrichment(){return void 0!==b.params().header_enrichment&&"true"===b.params().header_enrichment}static playerDebug(){return void 0!==b.params().plug&&"true"===b.params().player_debug}}class _e{static postToken(t){return new Promise(((e,i)=>{let s=0;if(ye.headerEnrichment()&&!window.watchHe){const nval((()=>{(window.watchHe||s>10)&&(window.clearInterval(n),_e.initiatePostToken(t).then((t=>e(t))).catch((t=>i(t)))),s++}),200)}else _e.initiatePostToken(t).then((t=>e(t))).catch((t=>i(t)))}))}static initiatePostToken(t){return new Promise(((e,i)=>{const s=window.watchHe?{"X-Watch-He":window.watchHe}:{};vt.postJSON({url:t,headers:s,success(t){e(t.token)},error(){i("")}})}))}}class fe{constructor(){let t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tech;this._tech=t}tech(){return this._tech}show(){this.tech().el().appendChild(this.getBlocker())}getBlocker(){const t=this.getHref();return It('\n      <div class="vp-blocker-sign-in">\n        <div class="vp-blocker-sign-in-container">\n          <div>\n            <div class="vp-blocker-sign-in__description-text-top">'.concat(Rt("blocker.sign_in.description"),'</div>\n          </div>\n          <div class="vp-blocker-sign-in__actions">\n            <a class="vp-blocker-sign-in__actions-button" href=').concat(t,">").concat(Rt("blocker.sign_in.cta"),"</a>\n          </div>\n        </div>\n      </div>\n    "))}getHref(){const t=m.pathname(),e=m.locationSearch();return"/users/login?user_return_to=".concat(t).concat(e)}}class we{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this._isShown=!1,this._blockerSignIn=new fe({tech:t.tech}),this._buttonHelper=new jt({tech:t.tech,data:t.data}),this._uuid=t.uuid}get uuid(){return this._uuid}get tech(){return this._tech}get data(){return this._data}get isShown(){return this._isShown}get buttonHelper(){return this._buttonHelper}get blockerSignIn(){return this._blockerSignIn}get config(){return{geoblock:{message:Rt("blocker.geoblock"),ctaButtons:[this.buttonHelper.exploreVidioButton({text:Rt("blocker.geoblock.cta"),type:"black"}),this.buttonHelper.withDirectLinkButton({text:Rt("blocker.geoblock.additional_cta"),href:"https://support.vidio.com/support/solutions/articles/43000656971-mengapa-konten-tidak-tersedia-di-negara-saya",type:"white"})],withBgImg:!0},network_error:{message:Rt("blocker.network_error"),ctaButtons:[this.buttonHelper.retryButton({text:Rt("blocker.network_error.cta"),type:"black"}),this.buttonHelper.withDirectLinkButton({text:Rt("blocker.network_error.additional_cta"),href:"https://support.vidio.com/support/solutions/articles/43000656970-bagaimana-memecahkan-masalah-jaringan",type:"white"})]},media_error:{message:Rt("blocker.media_error"),ctaButtons:[this.buttonHelper.reportButton({text:Rt("blocker.media_error.cta"),code:3,type:"black"}),this.buttonHelper.withDirectLinkButton({text:Rt("blocker.media_error.additional_cta"),href:"https://support.vidio.com/support/solutions/articles/43000656973-mengapa-saya-tidak-dapat-memproses-media",type:"white"})]},drm:{message:Rt("blocker.drm"),ctaButtons:[this.buttonHelper.exploreVidioButton({text:Rt("blocker.drm.cta"),type:"black"}),this.buttonHelper.withDirectLinkButton({text:Rt("blocker.drm.additional_cta"),href:"https://support.vidio.com/support/solutions/articles/43000656969-apa-itu-drm",type:"white"})],withBgImg:!0},general_error:{message:Rt("blocker.general_error"),ctaButtons:[this.buttonHelper.retryButton({text:Rt("blocker.general_error.cta"),type:"black"}),this.buttonHelper.reportButton({text:Rt("blocker.general_error.additional_cta"),code:6,type:"white"})]},fetching_error:{message:Rt("blocker.fetching_error"),ctaButtons:[this.buttonHelper.retryButton({text:Rt("blocker.fetching_error.cta"),type:"black"}),this.buttonHelper.reportButton({text:Rt("blocker.fetching_error.additional_cta"),code:1,type:"white"})]},media_not_supported:{message:Rt("blocker.media_not_supported"),ctaButtons:[this.buttonHelper.reportButton({text:Rt("blocker.media_not_supported.cta"),code:4,type:"black"}),this.buttonHelper.withDirectLinkButton({text:Rt("blocker.media_not_supported.additional_cta"),href:"https://support.vidio.com/support/solutions/articles/43000656974-bagaimana-memecahkan-kendala-perangkat",type:"white"})]},not_supported_browser:{message:Rt("blocker.not_supported_browser"),ctaButtons:[this.buttonHelper.downloadButton({type:"black"}),this.buttonHelper.reportButton({text:Rt("blocker.not_supported_browser.additional_cta"),code:8,type:"white"})]},hdcp:{message:Rt("blocker.hdcp"),ctaButtons:[this.buttonHelper.exploreVidioButton({text:Rt("blocker.hdcp.cta"),type:"black"}),this.buttonHelper.withDirectLinkButton({text:Rt("blocker.hdcp.additional_cta"),href:"https://support.vidio.com/support/solutions/articles/43000642152-hdcp-information",type:"white"})],withBgImg:!0}}}renderBlocker(t){const e=this.config[t];if(e)return this.renderBlockerWithParam(e)}renderBlockerWithParam(t){let e=t.message,i=t.ctaButtons,s=void 0===i?[]:i,n=t.haveCloseButton,a=void 0===n||n,r=t.withBgImg,o=void 0!==r&&r;const d=document.createElement("div");var l;(d.className="vjs-player-error__section",d.innerHTML='<div class="vjs-player-error__container">\n      <div class="vjs-player-error__header">\n        <h3 class="vjs-player-error__title-revamp">'.concat(e.title,'</h3>\n        <div class="vjs-player-error__subtitle-revamp">').concat(e.subtitle,'</div>\n        <div class="vjs-player-error__btn-container"></div>\n      </div>\n    </div>'),o)&&(d.style.backgroundImage="url('"+(null===(l=this.data)||void 0===l?void 0:l.videoBlockerImageUrl())+"')");let h=d.querySelector(".vjs-player-error__container");a&&h.appendChild(this.closeButton(d));let c=d.querySelector(".vjs-player-error__btn-container");return s.forEach((t=>{c.appendChild(t)})),this.styleContainer(),this.showMessage(d),d}showMessage(t){const e=document.querySelector(".vides._isShown=!0)}styleContainer(){const t=document.querySelector("#"+this.data.playerId());t&&!t.classList.contains("video-js")&&t.classList.add("video-js","vjs-fluid","vod-player-dimensions")}closeButton(t){let e=document.createElement("button");return e.className="vjs-player-error__close-btn",e.innerHTML="&times;",e.onclick=()=>this.onCloseButtonClick(t),e}onCloseButtonClick(t){t.remove(),this.tech.error(null),this._isShown=!1}showSignInBlocker(){this.blockerSignIn.show()}}class ke{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._data=t.data,this._blocker=t.blocker,this._uuid=t.uuid,this._tech=t.tech}get data(){return this._data}get uuid(){return this._uuid}get tech(){return this._tech}get blocker(){return this._blocker}runAndBlock(){let t=class{static checkContent(t){return new Promise((e=>{let i=new XMLHttpRequest;i.onload=()=>{const t=this.responseIsBlocked(i);e(t)},i.open("GET",t),i.send(null)}))}static responseIsBlocked(t){let e,i;return t.getAllResponseHeaders().toLowerCase().search("x-region-blocked")>=0&&(e=t.getResponseHeader("X-Region-Blocked")),i=403==t.status&&"true"==e,i}}.checkContent(this.data.geoblockUrl());return t.then((t=>{t&&(this.showBlocker(),this.sendEvent()),this.data.setGeoblocked(t)})),t}showBlocker(){var t,e;null===(t=this.tech)||void 0===t||null===(e=t.el())||void 0===e||e.addClass("vjs-error"),this.blocker.renderBlocker("geoblock")}sendEvent(){U.sendGeoblock(this.data.type(),this.data.videoId(),this.uuid),U.sendBlocker(this.data.type().toLowerCase(),this.data.isPremier(),this.data.videoId(),"geoblock")}}class Se{bindEvents(){}}class Ce{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tech,i=t.data;this._tech=e,this._data=i,this._bufferId=void 0,this._codec=void 0}tech(){return this._tech}data(){return this._data}codec(){return this._codec}bufferId(){return void 0===this._bufferId?this._bufferId=F.v4():this._bufferId}start(){this.sendEvent("start")}end(){void 0!==this._bufferId&&(this.sendEvent("end"),this.clearBufferId())}sendEvent(t){U.sendPlaybackBuffer({buffer_id:this.bufferId(),play_uuid:this.data().playUUID(),content_type:this.data().type(),content_id:this.data().videoId(),is_premium:this.data().isPremier(),state:t,quality:this.tech(tBandwidth(),is_preview:this.data().preview(),codec:this.codec(),video_source_bitrate:this.tech().getVideoSourceBitrate(),video_source_height:this.tech().getVideoSourceHeight(),video_source_width:this.tech().getVideoSourceWidth(),player_height:this.tech().getPlayerHeight(),player_width:this.tech().getPlayerWidth()})}clearBufferId(){this._bufferId=void 0}setCodec(t){this._codec=t}}class Ae{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this._uuid=t.uuid,this._autoplay=t.autoplay,this._ads=t.ads,this._playbackBufferEvent=new Ce({tech:this._tech,data:this._data})}bindEvents(){this.bindPause(),this.bindResume(),this.bindMeta(),this.bindBuffer(),this.bindStart(),this.bindEnded(),this.bindAdsRequest(),this.bindAdLoaded(),this.bindAdBuffer(),this.bindAdStart(),this.bindAdError(),this.bindAdClick(),this.bindAdComplete(),this.bindAdSkipped(),this.bindAdWatch(),this.bindAdFirstQuartile(),this.bindAdMidpoint(),this.bindAdThirdQuartile(),this.bindFullscreenChann this._tech}data(){return this._data}autoplay(){return this._autoplay}ads(){return this._ads}uuid(){return this._uuid}playbackBufferEvent(){return this._playbackBufferEvent}bindPause(){this.tech().on("pause",function(){this.tech().trigger({type:"vp-pause",id:this.data().videoId()})}.bind(this))}bindResume(){var t;this.tech().on("pause",(function(){t=!0})),this.tech().on("playing",function(){t&&(this.tech().trigger({type:"vp-resume",id:this.data().videoId()}),t=void 0)}.bind(this))}bindMeta(){this.tech().on("durationchange",function(){var t=this.tech().metadata();this.tech().trigger({type:"vp-his.data().videoId(),level:t.level,levels:t.levels,targetBitrate:t.targetBitrate})}.bind(this))}bindBuffer(){let t,e,i=!0,s=!1;this.tech().on("waiting",(()=>{!i&&s||(t=!0,e=Date.now()),s||i||this.playbackBufferEvent().start(),this.tech().trigger("bufferstart")})),this.tech().on("vp-before-seeked",(t=>{s=!0})),this.tech().on("vp-bitrate-change",(t=>{s=!0}));const n=n=>{const a=(Date.now()-e)/1e3;t&&(this.tech().trigger({type:"vp-buffer",id:this.data().videoId(),seconds:a,position:this.tech().currentTime(),timer:a,videoSourceBitrate:this.tech().getVideoSourceBitroSourceHeight:this.tech().getVideoSourceHeight(),videoSourceWidth:this.tech().getVideoSourceWidth(),playerHeight:this.tech().getPlayerHeight(),playerWidth:this.tech().getPlayerWidth()}),t=!1,s||i||this.playbackBufferEvent().end(),i&&(i=!1)),n&&(s=!1),this.tech().trigger("bufferend")};this.tech().on("playing",(()=>n(!0))),this.tech().on("pause",(()=>n(!1)))}bindStart(){var t,e=function(){t||(this.tech().trigger({type:"vp-start",id:this.data().videoId(),embed:this.data().embed(),videoDuration:this.data().videoDuration(),hasAd:this.ads().paramsPresent(),odec:this.getCodec(),is_drm:this.data().drmEnabled(),videoSourceBitrate:this.tech().getVideoSourceBitrate(),videoSourceHeight:this.tech().getVideoSourceHeight(),videoSourceWidth:this.tech().getVideoSourceWidth(),playerHeight:this.tech().getPlayerHeight(),playerWidth:this.tech().getPlayerWidth()}),t=!0)};this.tech().one("playing",function(){e.apply(this)}.bind(this))}getCodec(){return!this.data().drmEnabled()&&this.tech().hasDashObject()?"vp9":"h264"}bindEnded(){this.tech().on("ended",(()=>{this.tech().trigger("vp-ended")}))}bindAdsRequest(){this.tech().on("ads-request-loaded",(t=>{const e={content_id:t.videoId,ad_tag:t.currentAdTag,videopremier:t.premier,embed:t.embed,ad_source:"dfp",play_uuid:t.playUUID,content_type:t.contentType};t.adTagIsVmap?U.sendAdRuleRequest(Object.assign(e,{ad_playlist_id:t.adPlaylistId})):U.sendAdsRequest(Object.assign(e,{ad_uuid:this.ads().uuid()}))}))}bindAdLoaded(){this.tech().on("adloaded",(t=>{this.ads().clearUUID(),this.sendAdLoadedEvent(t.ad)}))}sendAdLoadedEvent(t){U.sendAdLoaded({content_id:this.data().videoId(),ad_uuid:this.ads().uuid(),play_uuid:this.data().playUUID(),content_type:this.data().type(),ad_playlist_id:this.ads().adPlaylistId(),ad_tag:this.ads().currentAdTag(),is_linear:t.isLinear(),duration:t.getDuration(),is_skippable:t.isSkippable(),ad_id:t.getAdId(),ad_system:t.getAdSystem(),advertiser_name:t.getAdvertiserName(),api_framework:t.getApiFramework(),ad_content_type:t.getContentType(),creative_id:t.getCreativeId(),title:t.getTitle(),width:t.getWidth(),height:t.getHeight(),vast_media_width:t.getVastMediaWidth(),vast_media_height:t.getVastMediaHeight(),vast_media_bitrate:t.getVastMediaBitrate(),wrapper_creative_ids:t.getWrapperCreativeIds(),wrapper_ad_ids:t.getWrapperAdIds(),wrapper_ad_systems:t.getWrapperAdSystems(),trafficking_parameters_string:t.getTraffickingParametersString(),pod_index:t.getPodIndex(),pod_time_offset:t.getPodTimeOffset(),pod_total_ads:t.getPodTotalAds(),pod_ad_position:t.getPodAdPosition(),min_suggested_duration:t.getMinSuggestedDuration(),skip_time_offset:t.getSkipTimeOffset(),deal_id:t.getDealId()})}bindAdBuffer(){this.tech().on("adbuffer",(t=>{rt.sendAdBuffer({content_id:this.data().videoId(),ad_uuid:this.ads().uuid(),play_uuid:this.data().playUUID(),content_type:this.data().type(),ad_playlist_id:this.ads().adPlaylistId(),ad_tag:this.ads().currentAdTag(),current_time:t.currentTime})}))}bindAdStart(){this.tech().on("adstart_linear",(t=>{this.ads().setCurrentAdType(t.adType),U.sendAdStart({content_id:this.data().videoId(),content_type:this.data().type(),ad_uuid:this.ads().uuid(),ad_content_type:t.adEvent.getAd().getContentType(),ad_playlist_id:this.ads().adPlaylistId(),current_time:this.tech().currentTime(),embed:"true"===this.data().embed(),play_uuid:this.data().playUUID()})}))}bindAdError(){this.tech().plugin().on("adserror",(t=>{const e={play_uuid:this.data().playUUID(),embed:"true"===this.data().embed(),ad_uuid:this.ads().uuid(),ad_tag:this.ads().currentAdTag(),video_duration:this.tech().duration(),current_time:this.tech().currentTime(),message:t.data.AdError.getMessage()};U.sendAdError(Object.assign(e,{content_id:this.data().videoId(),content_type:this.data().type(),error_code:t.data.AdError.getErrorCode(),error_type:t.data.AdErrorEvent.getError().getType()}))}))}bindAdClick(){this.tech().on("adclick",function(t){this.adClickEvent(this.ads().currentAdType(),t.currentTime)}.bind(this))}adClickEvent(t,e){const i={content_type:this.data().type(),play_uuid:this.data().playUUID(),ad_uuid:this.ads().uuid()};U.sendAdClick(Object.assign(i,{content_id:this.data().videoId(),position:e}))}bindAdComplete(){this.tech().on("adcomplete",(t=>{U.sendAdComplete({content_id:this.data().videoId(),content_type:this.data().type(),position:t.currentTime,play_uuid:this.data().playUUID(),ad_uuid:this.ads().uuid()})}))}bindAdSkipped(){this.tech().on("adskipped",(t=>{U.sendAdSkipped({content_id:this.data().videoId(),content_type:this.data().type(),position:t.currentTime,play_uuid:this.data().playUUID(),ad_uuid:this.ads().uuid()})}))}bindAdWatch(){this.tech().on("adwatch",function(t){this.tech().trigger({type:"vp-adwatch",id:this.data().videoId(),duration:t.data.duration,currentTime:t.data.currentTime,adUUID:this.ads().uuid(),ad_type:this.ads().currentAdType()})}.bind(this))}bindAdFirstQuartile(){this.tech().on("adfirstquartile",(()=>{U.sendAdFirstQuartile({play_uuid:this.data().playUUID(),content_id:this.data().videoId(),content_type:this.data().type(),ad_uuid:this.ads().uuid(),ad_tag:this.ads().currentAdTag()})}))}bindAdMidpoint(){this.tech().on("admidpoint",(()=>{U.sendAdMidpoint({play_uuid:this.data().playUUID(),content_id:this.data().videoId(),content_type:this.data().type(),ad_uuid:this.ads().uuid(),ad_tag:this.ads().currentAdTag()})}))}bindAdThirdQuartile(){this.tech().on("adthirdquartile",(()=>{U.sendAdThirdQuartile({play_uuid:this.data().playUUID(),content_id:this.data().videoId(),content_type:this.data().type(),ad_uuid:this.ads().uuid(),ad_tag:this.ads().currentAdTag()})}))}bindFullscreenChange(){this.tech().on("fullscreenchange",function(){this.tech().plugin().instance().isFullscreen()&&this.tech().trigger({type:"vp-fullscreen-change",id:this.data().videoId(),embed:this.data().embed()})}.bind(this))}}class Te{constructor(t,e,i,s,n){this._tech=t,this._data=e,this._playUUID=i,this._autoplay=s,this._ads=n,this._isSeeking=!1,this._tick=0,this._counter=0,this._lastCurrentTime=0,this._interval=15}tech(){return this._tech}data(){return this._data}playUUID(){return this._playUUID}autoplay(){return this._autoplay}ads(){return this._ads}isSeeking(){return this._isSeeking}tick(){return this._tick}counter(){return this._counter}lastCurrentTime(){return this._lastCurrentTime}currentTime(){return Math.floor(this.tech().currentTime())}duration(){return Math.floor(this.tech().duration())}interval(){return this._interval}_getMediaAttribute(){const t=this.tech().plugin().hlsObject(),e=this.tech().plugin().dashObject();return e.hasDashObject()?e.getCurrentMediaAttribute():t.getCurrentMediaAttribute()}register(){this.bindTimeupdate(),this.bindSeeking(),this.bindSeeked()}bindTimeupdate(){this.tech().on("timeupdate",(()=>{if(this.isSeeking())return;const t=this.currentTim._tick+1,th()===this.interval()&&(this._tick=0,this._counter=this._counter+1,this.triggerEventPlay(this.currentTime(),this.counter()*this.interval()))}))}bindSeeking(){this.tech().on("seeking",(()=>{this._isSeeking=!0}))}bindSeeked(){this.tech().on("seeked",(()=>{this._lastCurrentTime=this.currentTime(),this._isSeeking=!1}))}isPlaying(t,e){return 1===Math.abs(t-e)}getPlaybackSpeed(){console.log(this.tech());switch(this.tech()._plugin._instance.player_.playbackRate()){case.5:return"0.5";case.75:return"0.75";case 1:return"normal";case 1.25:return"1.25";case 1.5:return"1.5"}}triggerEventPlay(t,e){this.tech().trigger({type:"vp-video-play",video_id:this.data().videoId(),play_uuid:this.playUUID(),position:t,duration:e,bandwidth:this._getMediaAttribute().bitrate,quality:this.tech().getQuality(),networkState:this.tech().networkState(),has_ad:this.ads().paramsPresent(),video_duration:this.data().videoDuration(),autoplay:this.autoplay(),videoSourceBitrate:this.tech().getVideoSourceBitrate(),videoSourceHeight:this.tech().getVideoSourceHeight(),videoSourceWidth:this.tech().getVideoSourceWidth(),playerHeight:this.tech().getPlayerHeight(),playerWidth:this.tech().getPlayerWidth(),playback_speed:this.getPlaybackSpeed(),subtitle:this.tech().getActiveSubtitle()})}}class Ee{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this._uuid=t.uuid,this._error=t.error,this._autoplay=t.autoplay,this._ads=t.ads,this._base=new Ae(t),this._playerPlayInterval=new Te(this.tech(),this.data(),this.uuid(),t.autoplay,t.ads),this._playlistCheckerInterval=1e3,this._playlistChecker=void 0}bindEvents(){this.base().bindEvents(),this.getPlaylistStatus(),this.bindPause(),this.bindResume(),this.bindSeek(),this.bindMeta(),this.bindBuffer(),this.bindError(),this.bindStart(),this.bindPlay(),this.bindAdError(),this.bindAdWatch(),this.bindUnmuteButtonLoad(),this.bindUnmuteButtonClick(),this.bindTokenRefresh(),this.bindDownloadAppButtonClick(),this.bindHrefButtonClick(),this.bindFeedbackButtonClick(),this.bindReportButtonClick(),this.bindRetryButtonClick()}base(){return this._base}data(){return this._data}autoplay(){return this._autoplay}ads(){return this._ads}uuid(){return this._uuid}tech(){return this._tech}error(){return this._error}playerPlayInterval(){return this._playerPlayInterval}playlistChecker(){return this._playlistChecker}playlistCheckerInterval(){return this._playlistCheckerInterval}playlists(){return this.tech().plugin().hlsObject().hls().playlists}_getMediaAttribute(){const t=this.tech().plugin().hlsObject(),e=this.tech().plugin().dashObject();return e.hasDashObject()?e.getCurrentMediaAttribute():tis.playlists().error.status&&(this.triggerMissingM3U8(),this.clearPlaylistChecker())}),this.playlistCheckerInterval())})),this.tech().on("loadedmetadata",(()=>{this.clearPlaylistChecker()}))}triggerMissingM3U8(){this.error().showError(6),this.sendMissingM3U8Event()}clearPlaylistChecker(){clearInterval(this._playlistChecker),this._playlistChecker=void 0}bindPause(){this.tech().on("vp-pause",function(t){this.tech().trigger(pause",id:t.id,play_uuid:this.uuid(),genreIds:this.data().genreIds(),userTriggered:t.userTriggered,eventTime:t.eventTime})}.bind(this))}bindResume(){this.tech().on("vp-resume",function(t){this.tech().trigger({type:"vp-video-resume",id:t.id,play_uuid:this.uuid()})}.bind(this))}bindSeek(){var t,e="seekbar";this.tech().on("vp-before-seeked",(t=>{e=t.action})),this.tech().on("timeupdate",function(){t=this.tech().currentTime()}.bind(this)),this.tech().on("seeking",function(){var i=this.tech().currentTime()-t;this.tech().trigger({type:"vp-video-seek",id:this.data().videoId(),play_uuid:this.uuid(),position:t,offset:i,action:e}),e="seekbar"}.bind(this))}bindMeta(){this.tech().on("vp-meta",function(t){this.tech().trigger({type:"vp-video-meta",id:t.id,level:t.level,levels:t.levels,targetBitrate:t.targetBitrate,play_uuid:this.uuid(),genreIds:this.data().genreIds()})}.bind(this))}bindBuffer(){this.tech().on("vp-buffer",(t=>{this.tech().trigger({type:"vp-video-buffer",id:t.id,seconds:t.seconds,play_uuid:this.uuid(),genreIds:this.data().genreIds(),position:t.position,timer:t.timer,embed:t.embed,bandwidth:this.tech().getBandwidth(),quality:this.tech().getQuality(),videoSourceBitrate:t.videoSourceBitrate,videoSourceHeight:t.videoSourceHeight,videoSourceWidth:t.videoSourceWidth,playerHeight:t.playerHeight,playerWidth:t.playerWidth})}))}bindError(){this.tech().on("vp-error",function(t){this.tech().trigger({type:"vp-video-error",id:t.id,errorCode:t.errorCode,errorMessage:t.errorMessage,videoDuration:t.videoDuration,currentTime:t.currentTime,embed:t.embed,play_uuid:this.uuid(),readyState:this.tech().readyState(),networkState:this.tech().networkState(),bufferedVideoFrames:this.tech().bufferedVideoFrames(),tokenRefreshCount:this.data().tokenRefreshCount()})}.bind(this))}sendMissingM3U8Event(){this.tech().trigger({type:"vp-video-error",id:this.data().videoId(),errorCode:6,errorMessage:"missing m3u8 playlist",videoDuration:0,currentTime:0,embed:this.data().embed(),play_uuid:this.data().playUUID(),readyState:this.tech().readyState(),networkState:this.tech().networkState(),bufferedVideoFrames:this.tech().bufferedVideoFrames(),tokenRefreshCount:this.data().tokenRefreshCount()})}bindStart(){this.tech().on("vp-start",function(t){this.tech().trigger({type:"vp-video-start",id:t.id,embed:t.embed,videoDuration:t.videoDuration,hasAd:t.hasAd,autoplay:t.autoplay,codec:t.codec,play_uuid:this.uuid(),genreIds:this.data().genreIds(),currentTime:this.tech().currentTime(),readyState:this.tech().readyState(),networkState:this.tech().networkState(),bufferedVideoFrames:this.tech().bufferedVideoFrames(),tokedwidth:this.tech().getBandwidth(),quality:this.tech().getQuality(),is_drm:t.is_drm,subtitle:this.tech().getInitialSubtitle(),videoSourceBitrate:t.videoSourceBitrate,videoSourceHeight:t.videoSourceHeight,videoSourceWidth:t.videoSourceWidth,playerHeight:t.playerHeight,playerWidth:t.playerWidth})}.bind(this))}bindPlay(){this.playerPlayInterval().register()}bindAdError(){this.tech().on("vp-adserror",(t=>{this.tech().trigger({type:"vp-video-adserror",id:t.id,adType:t.adType,message:t.message,error_code:t.error_code,videoDuration:t.videoDuration,currentTime:t.currentTime,adTagUrl:t.adTagUrl,embed:t.embed,play_uuid:this.uuid(),adUUID:t.adUUID})}))}bindAdWatch(){this.tech().on("vp-adwatch",function(t){this.tech().trigger({type:"vp-video-adwatch",id:t.id,duration:t.duration,currentTime:t.currentTime,play_uuid:this.uuid(),adUUID:t.adUUID,ad_type:t.ad_type})}.bind(this))}bindUnmuteButtonLoad(){this.tech().on("vp-unmute-button-load-event",function(t){this.tech().trigger({type:"vp-unmute-button-load",embed:this.data().embed(),play_uuid:this.uuid(),id:t.id,videoDuration:t.videoDuration,hasAd:t.hasAd,autoplay:t.autoplay})}.bind(this))}bindUnmuteButtonClick(){this.tech().on("vp-unmute-button-click-event",function(t){this.tech().trigger({type:"vp-unmute-button-click",embed:this.data().embed(),play_uuid:this.uuid(),id:t.id,videoDuration:t.videoDuration,hasAd:t.hasAd,autoplay:t.autoplay})}.bind(this))}bindTokenRefresh(){this.tech().on("vp-token-refresh",function(){var t={action:"restart_token",service:"vod",play_uuid:this.uuid(),current_time:this.tech().currentTime(),duration:this.data().videoDuration(),video_id:this.data().videoId()};rt.sendEvent("PLAYBACK",t)}.bind(this))}bindDownloadAppButtonClick(){this.tech().on("vp-download-app-button-click",(()=>{rt.sendEvent("CTA",{action:"download app",section:"video player"},"VIDEO::")}))}bindHrefButtonClick(){this.tech().on("vp-href-button-click",(()=>{rt.sendEvent("CTA",{action:"link vidio",section:"video player"},"VIDEO::")}))}bindReportButtonClick(){this.tech().on("vp-report-button-click",(()=>{rt.sendEvent("CTA",{action:"send report",section:"video player"},"VIDEO::")}))}bindFeedbackButtonClick(){this.tech().on("vp-feedback-button-click",(ayer"},"VIDEO::")}))}}class Pe{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._data=t.data,this._tech=t.tech}bindEvents(){this.bindStart(),this.bindAdStart(),this.bindAdClick(),this.bindLogoClicked(),this.bindFullscreen(),this.bindCinemaMode(),this.bindBitrateChange(),this.bindSubtitleClick(),this.bindSubtitleChange()}data(){return this._data}tech(){return this._tech}bindStart(){this.tech().on("vp-video-start",(function(t){dataLayer.push({event:"start",vod_id:t.id,feature_name:"vod.play",feature_location:"vod."+t.id,playback_location:"false"==t.embed?"direct":"embed"})}))}bindAdStart(){this.tech().on("vp-video-adstart",(function(t){dataLayer.push({event:"impression",ads_id:t.adUUID,feature_location:"pre-roll",feature_name:"ads.play",ads_location:"vod."+t.id,playback_location:"false"==t.embed?"direct":"embed"})}))}bindAdClick(){this.tech().on("vp-video-adclick",(function(t){dataLayer.push({event:"click",ads_id:t.adUUID,feature_location:"pre-roll",feature_name:"ads.play",ads_location:"vod."+t.id,playback_location:"false"==t.embed?"direct":"embed"})}))}bindLogoClicked(){this.tech().on("vp-vidio-logo-clicked",(function(t){dataLayer.push({event:"click",feature_name:"embed-watch now",feature_location:"vidio icon",feature_type:"vod."+t.id})}))}bindFullscreen(){this.tech().on("vp-fullscreen-change",function(t){this.tech().plugin().instance().isFullscreen()&&dataLayer.push({event:"size",video_id:t.id,feature_name:"vod.play",feature_location:"fullsize",playback_location:"false"==t.embed?"direct":"embed"})}.bind(this))}bindCinemaMode(){this.tech().on("vp-cinema-mode",(function(t){dataLayer.push({event:"size",video_id:t.id,feature_name:"vod.play",feature_location:"cinema",playback_location:"direct"})}))}bindBitrateChange(){this.tech().on("vp-bitrate-change",function(t){dataLayer.push({event:"click",video_id:this.data().videoId(),feature_name:"bitrate",feature_location:t.height,playback_location:"false"===this.data().embed()?"direct":"embed"})}.bind(this))}bindSubtitleClick(){this.tech().on("vp-subtitle-click",function(t){dataLayer.push({event:"impression",video_id:t.id,feature_name:"subtitle",feature_location:"false"===this.data().:t.id,feature_name:"subtitle",feature_location:t.track,playback_location:"false"===this.data().embed()?"direct":"embed"})}.bind(this))}}class Ie{static global(){return window.performance}static setResourceTimingBufferSize(t){this.global().setResourceTimingBufferSize(t)}static getResourceTimingEntries(){return this.global().getEntriesByType("resource")}}var Be=i(555);class De{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._base=new Ae(t),this._tech=t.tech,this._data=t.data,this._uuid=t.uuid,this._ads=t.ads}bindEvents(){this.base().bindEvents(),this.bindStart(),this.bindPlay(),this.bindError(),this.bindMeta(),this.bindBuffer(),this.bindStuck(),this.bindSeek(),this.bindAdWatch(),this.bindDownloadAppButtonClick(),this.bindHrefButtonClick(),this.bindReportButtonClick(),this.bindFeedbackButtonClick(),this.bindRetryButtonClick(),this.bindRetrievePlaylistInSafari()}base(){return this._base}tech(){return this._tech}data(){return this._data}uuid(){return this._uuid}ads(){return this._ads}_getMediaAttribute(){const t=this.tech().plugin().hlsObject(),e=this.tech().plugin().dashObject();return e.hasDashObject()?e.getCurrentMediaAttribute():t.getCurrentMediaAttribute()}bindStart(){this.tech().on("vp-start",(t=>{this.tech().trigger({type:"vp-livestream-start",id:t.id,embed:t.embed,codec:t.codec,streamType:this.data().streamType(),hasAd:t.hasAd,uuid:this.uuid(),currentTime:this.tech().currentTime(),readyState:this.tech().readyState(),networkState:this.tech().networkState(),bufferedVideoFrames:thi.getBandwidth(),quality:this.tech().getQuality(),assetSource:this.tech().currentSrc(),videoSourceBitrate:t.videoSourceBitrate,videoSourceHeight:t.videoSourceHeight,videoSourceWidth:t.videoSourceWidth,playerHeight:t.playerHeight,playerWidth:t.playerWidth})}))}bindPlay(){let t;this.tech().one("timeupdate",function(){t=Math.floor(this.tech().currentTime())}.bind(this));var e=0,i=this.data().sendPlayInterval();this.tech().on("timeupdate",function(){var s=Math.floor(this.tech().currentTime())-t;s%i==0&&s>e&&(this.sendPlayEvent(s),e=s)}.bind(this))}sendPlayEvent(t){this.tech().trigger({type:"vp-livestream-play",id:this.data().videoId(),seconds:t,embed:this.data().embed(),uuid:this.uuid(),toggle:this.data().sendPlayToggle(),bandwidth:this.tech().getBandwidth(),quality:this.tech().getQuality(),assetSource:this.tech().currentSrc(),networkState:this.tech().networkState(),hasAd:this.ads().paramsPresent(),streamType:this.data().streamType(),videoSourceBitrate:this.tech().getVideoSourceBitrate(),videoSourceHeight:this.tech().getVideoSourceHeight(),videoSourceWidth:this.tech().getVideoSourceWidth(),playerHeight:this.tech().getPlayerHeight(),playerWidth:this.tech().getPlayerWidth()})}bindError(){this.tech().on("vp-error",(t=>{this.tech().trigger({type:"vp-livestream-error",id:t.id,errorCode:t.errorCode,errorMessage:t.errorMessage,videoDuration:t.videoDuration,currentTime:t.currentTime,embed:t.embed,uuid:this.uuid(),readyState:this.tech().readyState(),networkState:this.tech().networkState(),bufferedVideoFrames:this.tech().bufferedVideoFrames(),assetSource:this.tech().currentSrc()})}))}bindMeta(){this.tech().on("vp-meta",(t=>{this.tech().trigger({type:"vp-livestream-meta",id:t.id,level:t.level,levels:t.levels,targetBitrate:t.targetBitrate,uuid:this.uuid(),embed:this.data().embed(),streamType:this.data().streamType()})}))}bindBuffer(){this.tech().on("vp-buffer",(t=>{this.tech().trigger({type:"vp-livestream-buffer",id:t.id,seconds:t.seconds,uuid:this.uuid(),timer:t.timer,embed:"true"===this.data().embed(),streamType:this.data().streamType(),bandwidth:this.tech().getBandwidth(),quality:this.tech().getQuality(),assetSource:this.tech().currentSrc(),videoSourceBitrate:t.videoSourceBitrate,videoSourceHeight:t.videoSourceHeight,videoSourceWidth:t.videoSourceWidth,playerHeight:t.playerHeight,playerWidth:t.playerWidth})}))}bindStuck(){var t=0;this.tech().on("timeupdate",function(){var e=this.tech().currentTime();0!=e&&e==t?this.sendStuck(e):t=e}.bind(this))}sendStuck(t){this.tech().trigger({type:"vp-livestream-stuck",time:t})}bindAdWatch(){this.tech().on("vp-adwatch",(t=>{this.tech().trigger({type:"vp-livestream-adwatch",id:t.id,duration:t.duration,currentTime:t.currentTime,uuid:this.uuid(),adUUID:t.adUUID})}))}bindSeek(){var t,e="seekbar";this.tech().on("vp-before-seeked",(t=>{e=t.action})),this.tech().on("timeupdate",function(){t=this.tech().currentTime()}.bind(this)),this.tech().on("seeking",function(){var i=this.tech().currentTime()-t;this.tech().trigger({type:"vp-video-seek",id:this.data().videoId(),play_uuid:this.uuid(),position:t,offset:i,action:e}),e="seekbar"}.bind(this))}bindDownloadAppButtonClick(){this.tech().on("vp-livestream-download-app-button-click",(()=>{rt.sendEvent("CTA",{action:"download app",section:"video player"},"LIVESTREAM::")}))}bindHrefButtonClick(){this.tech().on("vp-livestream-href-button-click",(()=>{rt.sendEvent("CTA",{action:"link vidio",section:"video player"},"LIVESTREAM::")}))}bindReportButtonClick(){this.tech().on("vp-livestream-report-button-click",(()=>{rt.sendEvent("CTA",{action:"send report",section:"video player"},"LIVESTREAM::")}))}bindFeedbackButtonClick(){this.tech().on("vp-livestream-feedback-button-click",(()=>{rt.sendEvent("CTA",{action:"send feedback",section:"video player"},"LIVESTREAM::")}))}bindRetryButtonClick(){this.tech().on("vp-livestream-retry-bent("CTA",{action:"retry again",section:"video player"},"LIVESTREAM::")}))}bindRetrievePlaylistInSafari(){m.isBrowserSafari()&&this.tech().el().el().querySelector("video").addEventListener("progress",Dt.set(this.requestLatestClipResource.bind(this),1e3))}requestClipResource(){const t=Ie.getResourceTimingEntries().filter((t=>t.name.includes(".m3u8"))),e=t[t.length-1].name;return fetch(e).then((t=>t.text())).then(this.parsePlaylist).then(this.assignToHlsPlaylistMedia.bind(this))}parsePlaylist(t){const e=new Be._b;return e.push(t),e.end(),e.manifest}assignToHlsPlaylistMedia(t){this.tech().hlsPlaylistMedia=()=>t}}class Me{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data}bindEvents(){this.bindAdStart(),this.bindStart(),this.bindBuffer(),this.bindMeta(),this.bindFullscreen(),this.bindBitrateChange()}tech(){return this._tech}data(){return this._data}bindAdStart(){this.tech().on("vp-livestream-adstart",(function(t){dataLayer.push({event:"impression",ads_id:t.adUUID,feature_location:"pre-roll",feature_name:"ads.play",ads_location:"live."+t.id,playback_location:"false"==t.embed?"direct":"embed"})}))}bindStart(){this.tech().on("vp-livestream-start",function(t){dataLayer.push({event:"start",live_id:t.id,feature_name:"live.play",feature_location:"live."+t.streamType,session_id:"".concat(this.getCookie("ahoy_visit"),"/").concat(this.getCookie("ahoy_visitor")),playback_location:"false"==t.embed?"direct":"embed"})}.bind(this))}bindBuffer(){this.tech().on("vp-livestream-buffer",function(t){dataLayer.push({event:"buffer",live_id:t.id,feature_name:"live.play",feature_location:"live."+t.streamType,session_id:"".concat(this.getCookie("ahoy_visit"),"/").concat(this.getCookie("ahoy_visitor")),playback_location:"false"==t.embed?"direct":"embed"})}.bind(this))}bindMeta(){this.tech().on("vp-livestream-meta",function(t){dataLayer.push({event:"meta",live_id:t.id,feature_name:"live.play",feature_location:"live."+t.streamType,session_id:"".concat(this.getCookie("ahoy_visit"),"/").concat(this.getCookie("ahoy_visitor")),playback_location:"false"==t.embed?"direct":"embed"})}.bind(this))}bindFullscreen(){this.tech().on("vp-fullscreen-change",function(t){this.tech().plugin().instance().isFullscreen()&&dataLayer.push({event:"size",live_id:t.id,feature_name:"live.play",feature_location:"fullsize",playback_location:"false"==t.embed?"direct":"embed"})}.bind(this))}bindBitrateChange(){this.tech().on("vp-bitrate-change",function(t){dataLayer.push({event:"click",live_id:this.data().videoId(feature_location:t.height,playback_location:"false"===this.data().embed()?"direct":"embed"})}.bind(this))}getCookie(t){var e,i,s=t+"=",n=document.cookie.split(";");for(e=0;e<n.length;e++){for(i=n[e];" "===i.charAt(0);)i=i.substring(1,i.this._tech=t.tech,this._data=t.data,this._drDetector(){return this._drmDetector}bindEvents(){Seek(),this.bindMeta(),this.bindError(),this.bindStart(),this.bindPlay(),this.bindAdWatch(),this.bindUnmuteButtonLoad(),this.bindUnmuteButtonClick()}bindPause(){this.tech().on("vp-video-pause",(function(t){U.sendPause(t.id,t.play_uuid,t.genreIds,t.userTriggered)}))}bindResume(){this.tech().on("vp-video-resume",(function(t){U.sendResume(t.id,t.play_uuid)}))}bindSeek(){this.tech().on("vp-video-seek",(function(t){U.sendSeek(t.id,t.position,t.offset,t.play_uuid,t.action)}))}bindMeta(){this.tech().on("vp-video-meta",(function(t){U.sendMeta(t.id,t.level,t.levels,t.targetBitrate,t.play_uuid,t.genreIds)}))}bindError(){this.tech().on("vp-video-error",(function(t){U.sendError(t.id,t.errorCode,t.errorMessage,t.videoDuration,t.currentTime,t.play_uuid,t.readyState,t.networkState,t.bufferedVideoFrames,t.tokenRefreshCount)}))}bindStart(){this.tech().on("vp-video-start",(t=>{this.drmDetector().widevineHdcpCheck().then((e=>{U.sendStart(t.id,t.videoDuration,t.hasAd,t.autoplay,t.play_uuid,t.genreIds,t.currentTime,t.readyState,t.networkState,t.bufferedVideoFrames,t.tokenRefreshCount,t.bandwidth,t.quality,t.codec,t.is_drm,e,t.videoSourceBitrate,t.videoSourceHeight,t.videoSourceWidth,t.playerHeight,t.playerWidth,t.subtitle)})).catch((()=>{U.sendStart(t.id,t.videoDuration,t.hasAd,t.autoplay,t.play_uuid,t.genreIds,t.currentTime,t.readyState,t.networkState,t.bufferedVideoFrames,t.tokenRefreshCount,t.bandwidth,t.quality,t.codec,t.is_drm,"unknown",t.videoSourceBitrate,t.videoSourceHeight,t.videoSourceWidth,t.playerHeight,t.playerWidth,t.subtitle)}))}))}bindPlay(){this.tech().on("vp-video-play",(t=>{U.sendPlay(t.video_id,t.position,t.duration,t.play_uuid,t.bandwidth,t.quality,t.networkState,t.has_ad,t.video_duration,t.autoplay,t.videoSourceBitrate,t.videoSourceHeight,t.videoSourceWidth,t.playerHeight,t.playerWidth,t.playback_speed,t.subtitle)}))}bindAdWatch(){this.tech().on("vp-video-adwatch",(function(t){U.sendAdWatch(t.id,t.duration,t.currentTime,t.play_uuid,t.adUUID,t.ad_type)}))}bindUnmuteButtonLoad(){this.tech().on("vp-unmute-button-load",(function(t){U.sendUnmuteButtonLoad(t.play_uuid,t.id,t.videoDuration,t.hasAd,t.autoplay)}))}bindUnmuteButtonClick(){this.tech().on("vp-unmute-button-click",(function(t){U.sendUnmuteButtonClick(t.play_uuid,t.id,t.videoDuration,t.hasAd,t.autoplay)}))}}class je{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._tech=t.tech,this._data=t.data,this._drmDetector=new he}data(){return this._data}tech(){return this._tech}drmDetector(){return this._drmDetector}bindEvents(){this.bindStart(),this.bindPlay(),this.bindError(),this.bindMeta(),this.bindSeek(),this.bindAdWatch()}bindSeek(){this.tech().on("vp-video-seek",(function(t){ot.sendGeneralSeek(t.id,"livestreaming",t.position,t.offset,t.play_uuid,t.action)}))}bindStart(){this.tech().on("vp-livestream-start",(t=>{this.drmDetector().widevineHdcpCheck().then((e=>{ot.sendStart(t.id,t.streamType,t.hasAd,t.uuid,t.currentTime,t.readyState,t.networkState,t.bufferedVideoFrames,t.bandwidth,t.quality,t.assetSource,t.codec,e,t.videoSourceBitrate,t.videoSourceHeight,t.videoSourceWidth,t.playerHeight,t.playerWidth)})).catch((()=>{ot.sendStart(t.id,t.streamType,t.hasAd,t.uuid,t.currentTime,t.readyState,t.networkState,t.bufferedVideoFrames,t.bandwidth,t.quality,t.assetSource,t.codec,"unknown",t.videoSourceBitrate,t.videoSourceHeight,t.videoSourceWidth,t.playerHeight,t.playerWidth)}))}))}bindPlay(){this.tech().on("vp-livestream-play",(function(t){ot.sendPlay(t.id,t.seconds,t.uuid,t.toggle,t.bandwidth,t.quality,t.assetSource,t.networkState,t.hasAd,t.streamType,t.videoSourceBitrate,t.videoSourceHeight,t.videoSourceWidth,t.playerHeight,t.playerWidth)}))}bindError(){this.tech().on("vpe,t.videoDuration,t.currentTime,t.uuid,t.readyState,t.networkState,t.bufferedVideoFrames,t.assetSource)}))}bindMeta(){this.tech().on("vp-livestream-meta",(function(t){ot.sendMeta(t.id,t.level,t.levels,t.targetBitrate,t.uuid)}))}bindAdWatch(){this.tech().on("vp-livestream-adwatch",(function(t){ot.sendAdWatch(t.id,t.duration,t.currentTime,t.uuid,t.adUUID)}))}}class Re{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,i=t.autoplay;this._data=e,this._autoplay=i}data(){return this._data}autoplay(){return this._autoplay}render(){const t=this.getTracks();return'\n      <video\n        id="'.concat(this.data().playerId(),'"\n        class="video-js vjs-default-skin"\n        tabindex=\'-1\'\n        style="opacity: 0"\n        playsinline\n        controls="true"\n        crossorigin="anonymous"\n        ').concat(this.autoplay().value()?"autoplay":"","\n        ").concat(this.data().mute()?"muted":"",">\n        ").concat(p("enable_subtitle_from_master_playlist")?"":t,"\n      </video>\n    ")}getSubtitles())||[]).filter((t=>null!==t.language))}getTracks(){return this.getSubtitles().map((t=>{let e=t.language,i=t.file,s=t.label;const n="indonesian"===e.toLowerCase(),a=this.formatLabel(s||e);return'<track kind="captions" src="'.concat(i.url,'" label="').concat(a,'"').concat(n?" default":""," />")}))}formatLabel(t){return t[0].toUpperCase()+t.slice(1)}}i(2479);function xe(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Ve(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ve(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}class Ue{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._bitrates=t,this._adapter=e,this._play_uuid=i.play_uuid,this._videoType=i.type,this._resolutionMapping=i.resolutionMapping;const s=document.createElement("div");let n;s.className="vjs-bitrate-switcher__hover",n=i.resolutionMapping&&i.resolutionMapping.length>0?this.createSwitcherItems(this.representations()):this.createOldSwitcherItems(this.representations()),s.appendChild(n),this._el=s,this.setPlaybackQualityInfo("Auto"),this.bindFocusOut()}getRepresentationResolution(t){return t.width<t.height?t.width:t.height}availableRepresentation(t){const e=this.representations().filter((e=>{const i=this.getRepresentationResolution(e);return t.min<=i&&t.max>=i}));return e.length>1?e.reduce(((t,e)=>{if(null===t)return e;const i=this.getRepresentationResolution(e);return this.r(){return this._adapter}playUUID(){return this._play_uuid}videoType(){return this._videoType}resolutionMapping(){return this._resolutionMapping}dashObject(){return this.adshObject(){return this.adapter().hasDashObject()}static humanizeHeight(t){return"auto"==t?"Auto":t+"p"}getListClass(t){return"vjs-bitrate-switcher__list-"+t}changeListColour(t,e){this.el().querySelector("."+this.getListClass(t)).style.color=e}resetListColor(){ct(this.el().querySelectorAll(".vjs-bitrate-switcher__list")).forEach((t=>{t.style.color="#fff"}))}el(){return this._el}show(){this.el().style.display="block",this.el().querySelector("ul li").focus()}hide(){this.el().style.display="none"}isHidden(){const t=this.displayStatus();return""===t||null===t||"none"===t}toggle(){this.isHidden()?(this.show(),this.checkPlayerInactive(),this.sendBitrateEvent("open"),rt.sendPlaybackBitrateShow(this.playUUID())):this.hide()}hideIfOutside(t){const e=document.querySelector(".vjs-bitrate-switcher");e&&!e.contains(t.target)&&this.hide()}bindFocusOut(){document.addEventListener("click",this.hideIfOutside.bind(this)),document.addEventListener("touchend",this.hideIfOutside.bind(this)),this._adahis))}checkPlayerInactive(){let t=document.querySelector(".video-js"),e=document.querySelector(".vjs-progress-control"),i=setInterval((()=>{t.classList.contains("vjs-user-inactive")&&!t.classList.contains("vjs-paused")&&(clearInterval(i),e.classList.remove("vjs-progress-control--hidden"),this.hide())}),100)}displayStatus(){return this.el().style.display}rawRepresentations(){return this.bitrates().representations()}playlists(){return this.bitrates().playlists()}autoRepresentation(){return{height:"auto",enabled:function(){}}}representations(){const t=[];let e=this.rawRepresentations();const i={};var s,n=xe(e);try{for(n.s();!(s=n.n()).done;){const t=s.value;i[t.height]=t}}catch(t){n.e(t)}finally{n.f()}e=Object.values(i);var a,);!(a=r.n()).done;){const e=a.value;if(void 0!==e.height&&0!==e.height){let i=!1;for(let s in t)t[s].height===e.height&&(i=!0);i||t.epresentation()),t.reverse(),t}createSwitcherItems(t){const e=document.createElement("ul");e.setAttribute("role","menu");return[...t.filter((t=>"auto"==t.height)).map((t=>this.createSwitcherItem(t.height,"Auto",this.selectSpecificBitrateListener.bind(this)))),...this.resolutionMapping().map((t=>({mapping:t,representation:this.availableRepresentation(t)}))).filter((t=>!!t.representation)).map((t=>t.mapping.enable_abr?this.createSwitcherItem(t.representation.height,t.mapping.name,this.selectAutoBitrateWithMaximum.bind(this)):this.createSwitcherIeight,t.mapping.name,this.selectSpecificBitrateListener.bind(this))))].forEach((t=>{e.appendChild(t)})),e}createOldSwitcherItems(t){const e=document.createElement("ul");e.setAttribute("role","menu");return t.map((t=>this.createSwitcherItem(t.height,Ue.humanizeHeight(t.height)cBitrateListener.bind(this)))).forEach((t=>{e.appendChild(t)})),e}createSwitcherItem(t,e,i){const s=document.createElement("li");return s.setAttribute("role","menuitem"),s.setAttribute("tabindex","-1"),s.textContent=e,s.innerText=e,s.className="vjs-bitrate-switcher__list "+this.getListClass(t),"auto"==t&&(s.style.color="red"),s.onclick=function(){i(t,e)}.bind(this),s}selectAutoBitrateWithMaximum(t,e){this.setPlaybackQualityInfo(e),setTimeout((()=>{this.sendBitrateEvent("select")}),100),this.logBitrateHeight(t),this.enableAutoHeightWithMaximum(t),this.triggerEvent(t),this.clearPlaylistError()}setPlaybackQualityInfo(t){const e=this.adapter().id();window.playback_selected_quality?window.playback_selected_quality[e]=t:window.playback_selected_quality={[e]:t}}selectSpecificBitrateListener(t,e){this.setPlaybackQualityInfo(e),setTimeout((()=>{this.sendBitrateEvent("select")}),100),this.logBitrateHeight(t),this.enableHeight(t),this.triggerEvent(t),this.clearPlaylistError()}logBitrateHeight(t){ye.playerDebug()&&console.log("Request bitrate to ".concat(t))}clearPlaylistError(){this.hasDashObject()||(this.playlists().error=void 0)}sendBitrateEvent(t){var e;const i=this._bitrates.getCurrentMediaAttribute(),s={play_uuid:this.playUUID(),action:t,quality:(null===(e=window.playback_selected_quality)||void 0===e?void 0:e[this.adapter().id()])||null,bandwidth:i.bitrate,network_type:l.effectiveType(),content_type:this.videoType()};rt.sendBitrate(s)}triggerEvent(t){this._adapter.trigger({type:"vp-bitrate-change",height:t})}enableAutoHeightWithMaximum(t){tgeListColour(t,"red"),this.hasDashObject()?this.enableDashAutoHeightWithMaximum(t):this.enableHlsAutoHeightWithMaximum(t)}enableHeight(t){this.rlour(t,"red"),this.hasDashObject()?this.enableDashHeight(t):this.enableHlsHeight(t)}enableDashHeight(t){"auto"!==t?this.rawRepresentations().forEach((e=>{e.height===t&&e.enable()})):this.dashObject().enableAutoSableAllRepresentations(),"auto"!==t&&this.rawRepresentations().ft!==t&&e.enawRepresentations().forEach((e=>{e.height>t?e.enabled(!1):e.enabled(!0)}))}enableDashAutoHeightWithMaximum(t){"auto"!==t&&this.rawRepresentations().xQuality(registerPlugin("bitrateSwitcher",this.init)}static init(t){var e;return(e=new C)._instance=this,new He(e,t)}static initComponent(t){var e=C.getComponent("Component"),i=C.extend(e,{constructor:function(){e.call(this,t.instance())},createEl:function(){let t=document.createElement("button");return t.className="vjs-bitrate-switcher vjs-control vjs-button",t}});C.registerComponent("BitrateSwitcherComponent",i)}adapter(){return this._adapter}constrs.length>1&&void 0!==arguments[1]?arguments[1]:{};He.initCompo.hasDashObject()?t.dashObject():t.hlsObject(),He.appendSwitcher(t.el(),i,t,e)})),this._adapter=t,this._options=e}static appendSwitcher(t,e,i,s){var n=new Ue(e,i,s),a=t.querySelector(".vjs-bitrate-switcher");a&&(a.onclick=function(){n.toggle()},a.appendChild(n.el()))}}He.register();class Ne{static register(){C.registerPlugin("loadingAnimation",this.init)}static init(){var t;(t=new C)._instance=this,t.instance().on("ready",(()=>{new Ne(t)}))}constructor(t){var e;const i=t;e="vjs-loading-animation",this._el=new ut(i.el().querySelector(".vjs-loading-spinner")),this._player=i,this.el().classList?this.el().classList.add(e):this.el().className+=" "+e,this.el().innerHTML="\n      <div id='cssload-loader'>\n        <ul>\n          <li></li>\n          <li></li>\n          <li></li>\n          <li></li>\n        </ul>\n      </div>\n     ",this.onPlayerWaiting(),this.onPlayerPlaying(),this.onPlayerPausing(),this.onPlayerCanPlay()}onPlayerWaiting(){this.player().on("waiting",(()=>{this.player().el().classList.add("vjs-buffer{this.player().on("canplay",(()=>{this.player().el().classList.remove("vjs-buffering")}))}onPlayerPlaying(){this.player().on("playing",(()=>{this.player().el().classList.remove("vjs-buffering")}))}onPlayerPausing(){this.player().on("pause",(()=>{this.player().el().classList.remove("vjs-buffering")}))}player(){return this._player}el(){return this._el._el}}Ne.register(),C.registerPlugin("initStartEvent",(function(t){let e=t.data;const i=()=>!e.drmEnabled()&&this.dash?"vp9":"h264";this.one("play",(()=>{he.getSupportedDrm().then((t=>{U.sendPlaybackInitStart({play_uuid:e.playUUID(),content_type:e.type(),content_id:e.videoId(),is_premium:e.isPremier(),quality:null,bandwidth:null,is_preview:e.preview(),codec:i(),video_source_bitrate:null,video_source_height:null,video_source_width:null,player_height:this.currentHeight(),player_width:this.currentWidth(),security_policy:t})}))}))}));var Fe=C.getComponent("Button");C.registerComponent("VpBigPauseButton",class extends Fe{buildCSSClass(){return"vjs-big-pause-button vjs-big-button"}handleClick(){this.player().paused()?this.player().play():this.player().pause()}});class We extends Fe{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),this.data_=e.data,this.ads_=e.ads,this.tech_=e.tech,this.autoplay_=e.autoplay,this._isHidden=!1,this.triggerEvent("vp-unmute-button-load-event"),this.bindVolumeChangeEvent()}buildCSSClass(){return"vjs-unmute-button"}data(){return this.data_}ads(){return this.ads_}tech(){return this.tech_}autoplay(){return this.autoplay_}isHidden(){return this._isHidden}triggerEvent(t){this.player().trigger({type:t,embed:this.data().embed(),id:this.data().videoId(),videoDuration:this.data().videoDuration(),hasAd:this.ads().paramsPresent(),autoplay:this.autoplay()})}handleClick(){this.triggerEvent("vp-unmute-button-click-event"),this.player().muted(!1),this.hide()}bindVolumeChangeEvent(){const t=this.player();t.on("volumechange",(()=>{t.muted()||this.isHidden()||(this._isHidden=!0,this.hide())}))}}We.prototype.controlText_="Tap to unmute",C.registerComponent("VpUnmuteButton",We);class qe extends Fe{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.player=t}buildCSSClass(){return"vjs-big-navigation-button vjs-big-backward-button vjs-big-button"}handleClick(){this.player.trigger({type:"vp-before-seeked",action:"seekbutton"}),this.player.currentTime(this.player.currentTime()-10)}}qe.prototype.controlText_="Seek backward 10 seconds",C.registerComponent("VpBigSeekBackwardButton",qe);class Ke extends Fe{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.player=t}buildCSSClass(){return"vjs-big-navigation-button vjs-big-forward-button vjs-big-button"}handleClick(){this.player.trigger({type:"vp-before-seeked",action:"seekbutton"}),this.player.currentTime(this.player.currentTime()+10)}}Ke.prototype.controlText_="Seek forward 10 seconds",C.registerComponent("VpBigSeekForwardButton",Ke);class Qe extends Fe{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.setTimeout((()=>{this.onComponentRendered()}),0)}createEl(){let t=super.createEl();return t.setAttribute("data-section"e-ahoy",!0),t.setAttribute("data-video-id",this.options_.videoId),t.setAttribute("data-target-url",a.href()),t}buildCSSClass(){return"vjs-share-button"}onComponentRendered(){null!=window.SocialModal&&(this.setupSocialModal(),this.initSocialModal())}setupSocialModal(){this._socialModal=new window.SocialModal(".vjs-share-button",".b-social-share-buttons")}initSocialModal(){this._socialModal.init()}}Qe.prototype.controlText_="Share",C.registerComponent("VpShareButton",Qe);class Ge extends(C.getComponent("ProgressControl")){constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.listenClick()}hide(){this.addClass("vjs-progress-control--hidden")}show(){this.removeClass("vjs-progress-control--hidden")}listenClick(){const t=this.getChild("seekBar");t&&t.on(["mousedown","touchstart"],(()=>{this.player().trigger({type:"vp-before-seeked",action:"seekbar"})}))}}C.registerComponent("ProgressControl",Ge);class ze extends(C.getComponent("FullscreenToggle")){constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.options_.show||this.hide()}}C.registerComponent("FullscreenToggle",ze);class Ye{static getComputedStyle(t,e){return function(i){return"function"==typeof window.getComputedStyle?window.getComputedStyle(t,e)[i]:t.currentStyle[i]}}static off{var i;return e?parseFloat(e):"auto"!==(i=this.getComputedStyle(t)("clip"))&&"inherit"!==i&&4===(i=i.split(/(?:\(|\))/)[1].split(/(?:,| )/)).length?parseFloat(i[1])-parseFloat(i[3]):0}static getScrollOffset(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.documentElement.scrollL(t){let e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};const i=document.y,n=i.clientLeft||s.clientLeft||0,a=window.pageXOffset||s.scrollLeft,r=e.left+a-n,o=i.clientTop||s.clientTop||0,d=window.pageYOffset||s.scrollTop,l=e.top+d-o;return{left:Math.round(r),top:Math.round(l)}}}class Xe{constructor(){this._el=document.createElement("img"),this._el.className="vjs-thumbnails-img"}el(){return this._el}updateSrc(t){this.ateElement("00",this._el.innerText="00:00"}el(){return this._el}updateTime(t){this.el().textContent=t,this.el().innerText=t}}C.registerComponent("VpThumbnails",class extends P{constructor(t,e){super(t,e),this.player().on("ready",function(){this.options_[0]&&this.bindThumbnailEvent()}.bind(this))}bindThumbnailEvent(){this.bindShowThumbnail(),this.bindHideThumbnail()}bindShowThumbnail(){let t=function(t){if(class{static isInPipMode(){const t=document.querySelector("#article-player");return null!=t&&t.classList.contains("video-pip")}}.isInPipMode())return;let e=this.getActiveTime(t);this.updateImageBySecond(e),this.adjustSelfLeft(t),this.updateTimeIndicator(t)};this.getProgressControlComponent().on("mousemove",t.bind(this)),this.getProgressControlComponent().on("touchmove",t.bind(this))}bindHideThumbnail(){let t=function(){this.contentEl().style.left="-1000px"};this.getProgressControlComponent().on("mouseout",t.bind(this)),this.player().on("userinactive",t.bind(this))}createEl(){let t=super.createEl("div",{className:"vjs-thumbnails-container"});return this._image=new Xe,this._timeIndicator=new Je,t.appendChild(this.image().el()),t.appendChild(this.timeIndicator().el()),this.setupFirstImage(),this.setDuration(),t}image(){return this._image}timeIndicator(){return this._timdicatorEl(){return this.timeIndicator().el()}setupFirstImage(){let t=this.options_;void 0!==t&&void 0!==t[0]&&this.image().updateSrc(t[0].src)}setDuration(){this.player()&&(this.player().on("loadedmetadata",function(){this._duration=this.player().duration()}.bind(this)),this.player().on("durationchange",function(){this._duration=this.player().duration()}.bind(this)))}videoDuration(){return this._duration}updateImageBySecond(t){let e=this.options_[t];e&&e.src&&this.imageEl().src!==e.src&&this.image().updateSrc(e.src)}getProgressControlComponent(){return void 0===this._progressControl&&(this._progressControl=this.player().controlBar.progressControl),this._progressControl}getMousePageOffset(t){let e,i,s,n;return e=this.getProgressControlComponent().el(),i=Ye.getScrollOffset().x,n=t.pageX,t.changedTouches&&(n=t.changedTouches[0].pageX),s=n||t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s-=Ye.offsetParent(e).getBoundingClientRect().left+i,s}getMouseTime(t){let e,i,s;return e=this.getMousePageOffset(t),i=this.getProgressControlComponent(),s=Math.floor(e/i.width()*this.videoDuration()),s}getActiveTime(t){let e=0;for(let i in this.options_)this.getMouseTime(t)>=i&&(e=Math.max(e,i));return e}adjustSelfLeft(t){let e,i,s,n,a,r;e=Ye.getScrollOffset().x,i=Ye.offsetParent(this.getProgressControlComponent().el()).getBoundingClientRect(),s=this.getMousePageOffset(t),n=(i.width||i.right)+e,a=Ye.getVisibleWidth(this.imageEl()),r=a/2,s+r>n?s-=s+r-n:s<r&&(s=r);var o=this.getProgressControlComponent().el().offsetWidth-164;s-=8let e,i;e=Ye.getPointerPosition(this.getProgressControlComponent().el(),t).x,i=C.formatTime(e*this.videoDuration()),this.timeIndicator().updateTime(i)}});class $e extends Fe{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.localStorage=n()}buildCSSClass(){return"vjs-cinema-mode-button ".concat(super.buildCSSClass())}handleClick(){var t=document.getElementById("article-player");t.className.indexOf("cinema-mode")>-1?(t.classList.remove("cinema-mode"),localStorage.setItem("cinema_mode","false")):(this.triggerClick(),t.classList.add("cinema-mode"),localStorage.setItem("cinema_mode","true"))}triggerClick(){this.player().trigger({type:"vp-cinema-mode",id:this.options_.videoId})}}$e.prototype.controlText_="Cinema Mode",C.registerComponent("VpCinemaModeButton",$e);class Ze extends Fe{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}buildCSSClass(){return this.options_.ignoreClick?"vjs-vidio-logo ".concat(super.buildCSSClass()," ignore-click"):"vjs-vidioick(){this.options_.ignoreClick||(this.triggerLogoClick(),this.redirectWatchpage(this.constructUrl()))}constructUrl(){const t=this.options_.streamType;return[window.location.origin,{TvStream:"/live/",EventStream:"/live/","":"/watch/"}[t],this.options_.videoId,"?utm_source=embed&utm_medium=VidioLogo"].join("")}redirectWatchpage(t){window.open(t,"_blank")}triggerLogoClick(){this.player().trigger({type:"vp-vidio-logo-clicked",id:this.options_.videoId})}}Ze.prototype.controlText_="Tonton di Vidio",C.registerComponent("VpVidioLogo",Ze);class ti extends Fe{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.player=t}buildCSSClass(){const t=this.options_.show?"":"vjs-hidden";return"vjs-navigation-button vjs-backward-button ".concat(t," ").concat(super.buildCSSClass())}handleClick(){this.player.trigger({type:"vp-before-seeked",action:"seekbutton"}),this.player.currentTime(this.player.currentTime()-10)}}ti.prototype.controlText_="Seek backward 10 seconds",C.registerComponent("VpSeekBackwardButton",ti);class ei extends Fe{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.player=t}buildCSSClass(){const t=this.options_.show?"":"vjs-hidden";return"vjs-navigation-button vjs-forward-button ".concat(t," ").concat(super.buildCSSClass())}handleClick(){this.player.trigger({type:"vp-before-seeked",action:"seekbutton"}),this.player.currentTime(this.player.currentTime()+10)}}ei.prototype.controlText_="Seek forward 10 seconds",C.registerComponent("VpSeekForwardButton",ei);class ii extends P{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this._player=t,this.sliderInput,this.sliderProgress,this.width=96,this.initStart()}createEl(){let t=super.createEl("div");return t.classList.add("vjs-volume-slider"),t.innerHTML='\n      <input class="vjs-volume-slider--input" type="range" min="0" value="100" max="100">\n      <div class=\'vjs-volume-slider--full\'>\n        <div class=\'vjs-volume-slider--progress\'></div>\n      </div>\n    ',t}initStart(){this.on(this.player(),"loadstart",this.setInitialValue.bind(this)),this.on(this.player(),"loadstart",this.bindSliderChange.bind(this)),this.on(this.player(),"loadstart",this.handleVolumeChange.bind(this.sliderInput=this.el().getElementsByClassName("vjs-volume-slider--input")[0],this.sliderProgress=this.el().getElementsByClassName("vjs-volume-slider--progress")[0];var t="".concat(this.sliderInput.value*this.width/100,"px");this.sliderProgress.style.width=t}bindSliderChange(){this.sliderInput.addEventListener("input",this.handleSliderChange.bind(this))}handleSliderChange(t){var e=t.target.value;this.sliderProgress.style.width="".concat(e*this.width/100,"px"),this.player().volume(e/100),e>0?this.player().muted(!1):this.player().muted(!0)}handleVolumeChange(){this.player().muted()?(this.sliderInput.value="0",this.sliderInput.title="",this.sliderProgress.style.width="0px"):(this.sliderInput.value=100*this.player().volume(),this.sliderInput.title="",this.sliderProgress.style.width="".concat(this.width*this.player().volume(),"px"))}player(){return this._player}}class si{constructor(){this.el=document.createElement("div"),this.el.className="vjs-volume-container"}el(){return this.el}}class ni extends(C.getComponent("muteToggle")){constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.createContainer()}createEl(){var t={innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e=P.prototype.createEl.call(this,"div",t);return this.createControlTextEl(e),e}buildCSSClass(){return"vjs-volume-menu-button vjs-vp-volume-menu-button ".concat(super.buildCSSClass())}createContainer(){this.volumeContainer=new si,this.el().appendChild(this.volumeContainer.el);let t=new ii(this.player_);this.volumeContainer.el.appendChild(t.el())}handleClick(t){t.target==this.el()&&super.handleClick()}}P.registerComponent("VpVolumePanel",ni);C.registerComponent("VpFiller",class s[1]?arguments[1]:{})}createEl(){return super.createEl("div",{className:"vjs-control vjs-fill"})}});class ai{static request(t,e){vt.get({url:"/videos/".concat(t,"/next_video"),success:t=>{window.NextVideoData=JSON.parse(t),e(null!==window.NextVideoData)},error:null})}static dataIsExists(){return void 0!==window.NextVideoData&&null!==window.NextVideoData}static data(){return window.NextVideoData}static watchpageUrl(){return this.dataIsExists()?void 0!==this.data().watchpage_url?this.data().watchpage_url:"/watch/".concat(this.data().id):null}}function ri(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=Object.assign({action:t,content_id:e,content_type:"vod",feature:i},s);U.sendEvent("CONTENT",n,"VIDIO::")}function oi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next-video",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null==i?{}:{source_id:i,source_type:"vod"};ri("click",t,e,s)}class di extends Fe{constructor(t){srguments[1]:{}),this.checkAndRequestNextVideoData()}buildCSSClass(){return"vjs-next-button ".concat(super.buildCSSClass())}checkAndRequestNextVideoData(){ai.dataIsExists()?(this.activateButton(),this.buildPanel()):ai.request(this.options_.v-next-button__panel-thumbnail' style='background: url(\"".concat(i,"\"); background-size:cover;'>\n        </div>\n        <div class='vjs-next-button__panel-detail'>\n          <h5 class='vjs-next-button__panel-video-title'>").concat(t,"</h5>\n          <p class='vjs-next-button__panel-film-title'>").concat(e,"</p>\n        </div>\n      </div>\n    ")}}.html(e.title,i,e.image_url),this.el()&&this.el().appendChild(t)}handleClick(){ai.dataIsExists()&&(oi(ai.data().id,"next-video-button",this.options().videoId),a.href(ai.watchpageUrl()))}}di.prototype.controlText_="Next",C.registerComponent("VpNextButton",di);class li extends(C.getComponent("ControlBar")){constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.initChildren=!1,super(t,e),this.controlBarChildrenBuilder=[],this.buildVpComponents(),this.initChildren(),this.bindReplayButtonAfterSeek(),this.bindVpVolumePanel(),this.bindBitrateSwitcher(),this.bindSubtitleSwitcher(),this.bindTimeDisplaySwitcher()}vpVolumePanel(){return this.VpVolumePanel}bitrateSwitcher(){return this.bitrateSwitcherComponent}subtitleSwitcher(){return this.vpSubtitle}bindVpVolumePanel(){this.vpVolumePanel()&&(this.vpVolumePanel().on("mouseenter",function(){this.vpVolumePanel().el().classList.add("vjs-volume-slider--show"),this.player().el().classList.add("volume-active")}.bind(this)),this.vpVolumePanel().on("mouseleave",function(){this.vpVolumePanel().el().classList.remove("vjs-volume-slider--show"),this.player().el().classList.remove("volume-active")}.bind(this)))}bindBitrateSwitcher(){this.bitrateSwitcher()&&this.bitrateSwitcher().on("click",(()=>{this.toggleProgressControl()}))}bindSubtitleSwitcher(){this.subtitleSwitcher()&&this.subtitleSwitcher().on("click",(()=>{this.toggleProgressControl()}))}bindTimeDisplaySwitcher(){this.VpRemainingTimeDisplay&&this.currentTimeDisplay&&(this.currentTimeDisplay.el().classList.add("hide"),this.VpRemainingTimeDisplay.on("click",(()=>{this.toggleTimeDisplay()})),this.currentTimeDisplay.on("click",(()=>{this.toggleTimeDisplay()})))}bindReplayButtonAfterSeek(){this.player().on("ended",function(){this.player().one("seeking",function(){this.player().play()}.bind(this))}.bind(this))}toggleProgressControl(){this.progressControl&&(this.progressControl.el().classList.contains("vjs-progress-control--hidden")?this.progressControl.show():this.progressControl.hide())}toggleTimeDisplay(){this.VpRemainingTimeDisplay&&this.currentTimeDisplay&&(this.VpRemainingTimeDisplay.el().classList.toggle("hide"),this.currentTimeDisplay.el().classList.toggle("hide"))}buildVpComponents(){this.options_.vpComponents&&(this.appendProgressControl(),this.appendRemainingTimeDisplay(),this.appendCurrentTimeDisplay(),this.appendPlayToggle(),this.appendSeekBackward(),this.appendSeekForward(),this.appendNextButton(),this.appendVolumePanel(),this.appendLiveDisplay(),this.appendFiller(),this.appendSubtitle(),this.appendEpisodesList(),this.appendSettingsButton(),this.appendMobileSettingsButton(),this.appendBitrateSwitcher(),this.appendCinemaMode(),this.appendFullscreenToggle(),this.appendThumbnails(),this.appendVidioLogo(),this.build())}appendProgressControl(){this.options_.vpComponents.progressControl&&(this.controlBarChildrenBuilder.push("progressControl"),this.controlBarChildrenBuilder.progressControl=this.options_.vpComponents.progressControl)}appendRemainingTimeDisplay(){this.options_.vpComponents.vpRemainingTimeDisplay&&this.options_.vpComponents.vpRemainingTimeDisplay.show&&this.controlBarChildrenBuilder.push("VpRemainingTimeDisplay")}appendCurrentTimeDisplay(){this.options_.vpComponents.vpRemainingTimeDisplay&&this.options_.vpComponents.vpRemainingTimeDisplay.show&&this.options_.vpComponents.vpRemainingTimeDisplay.toggleable&&this.controlBarChildrenBuilder.push("currentTimeDisplay")}appendPlayToggle(){this.controlBarChildrenBuilder.push("playToggle")}appendLiveDisplay(){this.options_.vpComponents.vpLiveDisplay&&this.controlBarChildrenBuilder.push("liveDisplay")}appendSeekBackward(){this.options_.vpComponents.vpSeekBackwardButton&&(this.controlBarChildrenBuilder.push("vpSeekBackwardButton"),this.controlBarChildrenBuilder.vpSeekBackwardButton=this.options_.vpComponents.vpSeekBackwardButton)}appendSeekForward(){this.options_.vpComponents.vpSeekForwardButton&&(this.controlBarChildrenBuilder.push("vpSeekForwardButton"),this.controlBarChildrenBuilder.vpSeekForwardButton=this.options_.vpComponents.vpSeekForwardButton)}apptions_.vpComponents.vpNextButton.show&&(this.controlBarChildrenBuilder.push("vpNextButton"),this.controlBarChildrenBuilder.vpNextButton=this.options_.vpComponents.vpNextButton)}appendVolumePanel(){this.options_.vpComponents.vpVolumePanel&&this.controlBarChildrenBuilder.push("VpVolumePanel")}appendFiller(){this.controlBarChildrenBuilder.push("VpFiller")}appendSubtitle(){this.options_.vpComponents.vpSubtitle&&(this.controlBarChildrenBuilder.push("vpSubtitle"),this.controlBarChildrenBuilder.vpSubtitle=this.options_.vpComponents.vpSubtitle)}appendEpisodesList(){this.options_.vpComponents.vpEpisodesListButton&&(this.controlBarChildrenBuilder.push("vpEpisodesListButton"),this.controlBarChildrenBuilder.vpEpisodesListButton=this.options_.vpComponents.vpEpisodesListButton)}appendSettingsButton(){this.options_.vpComponents.vpSettingsButton&&this.options_.vpComponents.vpSettingsButton.show&&(this.controlBarChildrenBuilder.push("vpSettingsButton"),this.controlBarChildrenBuilder.vpSettingsButton=this.options_.vpComponents.vpSettingsButton)}appendMobileSettingsButton(){this.options_.vpComponents.vpMobileSettingsButton&&this.options_.vpComponents.vpMobileSettingsButton.show&&(this.controlBarChildrenBuilder.push("vpMobileSettingsButton"),this.controlBarChildrenBuilder.vpMobileSettingsButton=this.options_.vpComponents.vpMobileSettingsButton)}appendBitrateSwitcher(){this.options_.vpComponents.bitrateSwitcherComponent&&this.options_.vpComponents.bitrateSwitcherComponent.show&&this.controlBarChildrenBuilder.push("bitrateSwitcherComponent")}appendCinemaMode(){this.options_.vpComponents.vpCinemaModeButton&&this.options_.vpComponents.vpCinemaModeButton.show&&(this.controlBarChildrenBuilder.push("vpCinemaModeButton"),this.controlBarChildrenBuilder.vpCinemaModeButton=this.options_.vpComponents.vpCinemaModeButton)}appendFullscreenToggle(){this.options_.vpComponents.fullscreenToggle&&(this.controlBarChildrenBuilder.push("fullscreenToggle"),this.controlBarChildrenBuilder.fullscreenToggle=this.options_.vpComponents.fullscreenToggle)}appendThumbnails(){this.options_.vpComponents.vpThumbnails&&(this.controlBarChir.vpThumbnails=this.options_.vpComponents.vpThumbnails)}appendVidioLogo(){this.options_.vpComponents.vpVidioLogo&&this.options_.vpComponents.vpVidioLogo.show&&(this.controlBarChildrenBuilder.push("vpVidioLogo"),this.controlBarChildrenBuilder.vpVidioLogo=this.optigldrenBuilder}}C.registerComponent("ControlBar",li);class hi{constructor(){let t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).player;this._player=t,this._el=void 0,this._kinds=["subtitles","captions"].filter(Boolean)}player(){return this._player}label(){return""}shouldBeActive(){return!1}el(){return null==this._el&&this.createEl(),this._el}createEl(){this._el=document.createElement("li"),this._el.setAttribute("role","menuitem"),this._el.setAttribute("tabindex","0");const t="vjs-subtitle-switcher__list-item ".concat(this.label().replawerCase());return this._el.textContent=this.label(),this._el.className=t,this._player.textTracks().addEventListener("change",this.updateActiveStatus.bind(this)),this._player.on(["loadstart","texttrackchange"],this.updateActiveStatus.bind(this)),this._el.onclick=()=>{this.handleClick()},this._el.ontouchend=()=>{this.handleClick()},this._el}handleClick(){}updateActiveStatus(){this.shouldBeActive()?this.el().classList.add("is-active"):this.el().classList.remove("is-active")}}class ci extends hi{constructor(){super({player:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).player})}label(){returnick",{bubbles:!0});this._el.dispatchEvent(t)}}class ui extends hi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.player,i=t.track;super({player:e}),this._track=i,this._kinds=[this._track.kind].filter(Boolean)}label(){return this.track().label}track(){return this._track}shouldBeActive(){return"showing"==this._track.mode}handleClick(){const t=new CustomEvent("subtitleTrackClick",{detail:this.track(),bubbles:!0});this._el.dispatchEvent(t)}}function pi(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return mi(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return mi(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function mi(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];rector(t){let ),this._el.className="vjs-subtitle-switcher__container"}videoId(){return this.options_.videoId}play_uuid(){return this.options_.play_uuid}textTracks(){return ct(this.player.textTracks()).filter((t=>!this.isMetadata(t)))}createList(){const t=document.createElement("ul");return t.setAttribute("role","menu"),t.classList.add("vjs-subtitle-switcher__list"),t}el(){return this._el}handleTrackChange(t){const e=t.detail,i=p("enable_subtitle_from_master_playlist")?"subtitles":"captions";var s,n=pi(this.textTracks());try{for(n.s();!(s=n.n()).done;){const t=s.value;t.label===e.label&&t.kind===i?"disabled"!==t.mode&&"hidden"!==t.mode||(t.mode="showing"):"showing"===t.mode&&(t.mode="disabled")}}catch(t){n.e(t)}finally{n.f()}this.triggerEventChange(t.detail.label.toLowerCase()),U.sendSubtitle({action:"select",subtitle:t.detail.label,video_id:this.videoId(),play_uuid:this.play_uuar t,e=pi(this.textTracks());try{for(e.s();!(t=e.n()).done;){const e=t.value;"showing"===e.mode&&(e.mode="disabled")}}catch(t){e.e(t)}finally{e.f()}}setEl(){var t=this.createList();let e=this.player;this.el().addEventListener("subtitleTrackClick",(t=>this.handleTrackChange(t)),!1),this.el().addEventListener("subtitleOffClick",(t=>this.handleSubtitleOff()),!1),this.textTracks().forEach((i=>{var s=p("enable_subtitle_from_master_playlist")?"subtitles":"captions";if(i.kind==s){var n=new ui({player:e,track:i});n.updateActiveStatus(),t.appendChild(n.el())}}));var i=new ci({player:e});i.updateActiveStatus(),t.appendChild(i.el()),this.el().appendChild(t),this.bindFocusOut()}show(){this.el().style.display="block",this.el().querySelector("ul li").focus(),this.checkPlayerInactive()}hide(){this.el().style.display="none"}hideIfOutside(t){document.querySelector(".vjs-subtitle-switcher").contains(t.target)||this.hide()}bindFocusOut(){document.addEventListener("click",this.hideIfOutside.bind(this)),document.addEventListener("touchend",this.hideIfOutside.bind(this)),this.player.on("vp-episodes-list-open",this.hide.bind(this))}displayStatus(){return getComputedStyle(this.el()).display}toggle(){"none"==this.displayStatus()?(this.show(),this.triggerEventClick()):this.hide()}checkPlayerInactive(){const t=document.querySelector(".video-js"),e=document.querySelector(".vjs-prontains("vjs-paused")&&(clearInterval(i),e.classList.remove("vjs-progress-control--hidden"),this.hide())}),100)}isMetadata(t){return"segment-metadata"==t.label}triggerEventChange(t){this.player.trigger({type:"vp-subtitle-change",id:this.options_.videoId,track:t})}triggerEventClick(){this.player.trigger({type:"vp-subtitle-click",id:this.options_.videoId})}}class vi extends Fe{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),thi.subtitleLisrHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e=P.prototype.createEl.call(this,"button",t);return this.createControlTextEl(e),e}bindLoadedMetadata(){this.player.on("loadedmetadata",(()=>{this.enable()}))}buildCSSClass(){return"vjs-subtitle-switcher vjs-control"+(this.options_.show?"":" vjs-hidden")}handleClic3.343-1.941c-1.293-.754-3.215-2.152-4.422-.496Zm0 0" style="stroke:none;fill-rule:evenodd;fill:#fff;fill-opacity:1"/><path d="M12.398 5.602c0-1.106.899-2 2-2h20.364c5.52 0 10 4.476 10 10v18.953a1.999 1.999 0 1 1-4 0V13.602c0-3.317-2.688-6-6-6H14.398c-1.101 0-2-.899-2-2Zm0 0" style="stroke:none;fill-rule:evenodd;fill:#fff;fill-opacity:1"/></svg>\n    ',t}}bi.prototype.controlText_="Open Episodes List",C.registerComponent("VpEpisodesListButton",bi);C.registerComponent("VpTopBar",class extends P{constructor(t){super(t,a.player().one("playing",this.onFirstPlay.bind(this)),this.player().on("ended",this.onEnded.bind(this))}createEl(){let t=super.createEl("div",{className:"vjs-top-bar"});return t.innerHTML="\n      ".concat(this.imageElement(),"\n      ").concat(this.titleElement(),"\n    "),t}onFirstPlay(){this.userIsInactive()&&this.hide(),this.registerUserInteraction()}registerUserInteraction(){this.player().on("userinactive",this.onUserInactive.bind(this)),this.player().on("useractive",this.onUserActive.bind(this))}onEnded(){this._endis))}onContentRePlaying(){this._ended=!1}onUserInactive(){this.playerIsPaused()||this._ended||this.hide()}onUserActive(){this.playerIsPaused()||this._ended||this.show()}hide(){this.el().classList.add("vjs-top-bar--hidden")}show(){this.el().classList.remove("vjs-top-bar--hidden")}userIsInactive(){this.player().el().classList.contains("vjs-user-inactive")}playerIsPaused(){return this.player().paused()}imageElement(){return'\n      <a class="vjs-top-bar__avatar-container" href="'.concat(this.userProfileUrl(),'" target="_parent">\n        <img src="').concat(this.userAvatarUrl(),'" alt="ConageUrl,"?utm_source=embed&utm_medium=ContentTitle")}userAvatarUrl(){return this.options().userAvatarUrl}title(){return this.options().title}ts-top-bar__title-container" href="'.concat(this.watchpageUrl(),'" target="_parent">\n        <h1 class="vjs-top-bar__title">').concat(this.title(),"</h1>\n      </a>\n    ")}});class yi extends(C.getComponent("RemainingTimeDisplay")){constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}formatTime_(t){super.updateTextNode_(t)}updateContent(t){this.player_.remainingTime()!=1/0&&super.updateContent(t)}}C.registerComponent("VpRemainingTimeDisplay",yi);class _i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._player=t.player,this._element=t.element,this._nextUrl=t.nextUrl,this._nextVideoId=t.nextVideoId,this._currentCountdown=this.initialCountdown(),this._countdownInterval=null,this._adPlaying=!1}initialCountdown(){return 5}player(){return this._player}element(){return this._element}nextUrl(){return this._nextUrl}nextVideoId(){return this._nextVideoId}init(){this.updateElementText(),this.player().o).on("dispose",t"adskipped",this.unsetAdPlaying.bind(this)),this.player().on("adserror",this.unsetAdPlaying.bind(this))}countdownText(){return"Next in ".conideoShow(){this._currentCountdown=this.initialCountdown(),this.updateElementText(),this.createCountdownInterval()}createCountdownInterval(){null==this._countdownInterval&&(this._countdownInterval=window.setInterval(this.onOneSecondElapsed.bind(this),1e3))}clearCountdownInterval(){window.clearInterval(this._countdownInterval),this._countdownInterval=null}onOneSecondElapsed(){this._adPlaying||(this._currentCountdown-=1,this.updateElementText(),0==this._currentCountdown&&(this.clearCountdownInterval(),this.goToNextVideo()))}goToNextVideo(){ri("autoplay",this.nextVideoId(),"next-video"),a.href(this.nextUrl())}setAdPlaying(){this._adPlaying=!0}unsetAdPlaying(){this._adPlaying=!1}}C.registerComponent("VpNextVideo",class extends P{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}createEl(){let t=super.createEl("div",{className:"vjs-next-video-service"});var e,i,s,n;return this._thumbnailElement=It((e=this.nextWatchpageUrl(),i=this.options().image_url,'\n      <a class="vjs-next-video-service__thumbnail" href="'.concat(e,'" target="_parent" style=\'background-image:url("').concat(i,'");\'>\n        <div class="vjs-next-video-service__thumbnail-oval">\n          <div class="vjs-next-video-service__thumbnail-play"></div>\n        </div>\n        <div class="vjs-next-video-service__thumbnail-overlay"></div>\n      </a>\n    '))),this._thumbnailElement.addEventListener("click",this.onButtonClick.bind(this)),t.appendChild(this._thumbnailElement),this._dataWrapperElement=It("\n      <a href='".concat(this.nextWatchpageUrl(),"' class='vjs-next-video-service__data-container'>\n        ").concat((n=this.options().title,'\n    <h2 class="vjs-next-video-service__title">\n      '.concat(n,"\n    </h2>")),"\n        ").concat((s=this.options().description,'\n    <p class="vjs-next-video-service__description">\n      '.concat(s,"\n    </p>")),"\n      </a>\n      ")),this._dataWrapperElement.addEventListener("click",this.onButtonClick.bind(this)),this._countdownElement=It("<p class='vjs-next-video-service__countdown'>\n      ".concat("","\n    </p>")),this._countdown=new _i({player:this.player(),element:this._countdownElement,nextUrl:this.nextWatchpageUrl(),nextVideoId:this.options().id}),this._dataWrapperElement.prepend(this._countdownElement),this._closeButtonElement=It("<button class='vjs-next-video-service__close'></button>"),this._closeButtonElement.addEventListener("click",this.triggerClose.bind(this)),t.appendChild(this._dataWrapperElement),t.appendChild(this._closeButtonElement),t}ready(){this.player().on("next_video_show",this.onComponentShown.bind(this)),this.countdown().init()}countdown(){return this._countde_url?this.options().watchpage_url:"/watch/".concat(this.options().id)}onButtonClick(){oi(this.options().id)}triggerClose(){this.player().trigger("nextvideo_close"),this.countdown().clearCountdownInterval()}onComponentShown(){ri("impression",this.options().id,"next-video")}closePanelOnRePlaying(){this.player().one("playing",this.triggerClose.bind(this))}});C.registerComponent("VpVideoEndedPanel",class extends P{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),this._gettingNextVideoData=!1,this._endCreditTime=e.endCreditTime,this._hasShown=!1,this._seeking=!1,this._nextVideoInitialized=!1}duration(){return Math.floor(this.player().duration())}currentTime(){return Math.floor(this.player().currentTime())}timeShouldNextVideoPanelShow(){return this._endCreditTimepdate",this.onTimeUpdate.bind(this)),this.player().on("nextvideo_close",this.hide.bind(this)),this.player().on("ended",this.onEnded.bind(this)),this.player().on("seeking",this.onSeeking.bind(this)),this.player().on("seeked",this.onSeeked.bind(this))}createEl(){return super.createEl("div",{className:"vjs-video-ended-panel vjs-video-ended-panel--hidden"})}show(){ai.dataIsExists()&&(this._nextVideoInitialized||(this.addChild("VpNextVideo",ai.data()),this._nextVideoInitialized=!0),this._hasShown=!0,this.removeClass("vjs-video-ended-panel--hidden"),thisxt_video_show"),m.isMobileSite()&&this.player().el().querySelector(".vjs-big-pause-button").classList.add("hidden"))}hide(){this.addClass("vjs-video-ended-panel--hidden"),this.playerControlBar().show(),m.isMobileSite()&&this.player().el().querySelector(".vjs-big-pause-button").classList.remove("hidden")}playerControlBar(){return this.player().controlBar}isInAdMode(){var t,e;return null===(t=this.player().ads)||void 0===t||null===(e=t.isInAdMode)||void 0===e?void 0:e.call(t)}onTimeUpdate(){this.isInAdMode()||this.duration()<=0||(this.shouldGetNextVideoData()&&(this._gettingNextVideoData=!0,ai.request(this.onGetNextVideoComplete.bind(this))),this.shouldNextVideoShow()&&this.show())}shouldGetNextVideoData(){return!0!==this._gettingNextVideoData&&(!ai.dataIsExists()&&this.timeShouldNextVideoPanelShow()-this.currenow(){return this.currentTime()>=this.timeShouldNextVideoPanelShow()&&!this._hasShown&&!this._seeking}onGetNextVideoComplete(t){this._gettingNextVideoData=!1,t&&!this._nextVideoInitialized?(this.addChild("VpNextVideo",ai.data()),this._nextVideoInitialized=!0):this.hide()}onEnded(){this._hasShown=!1}onSeeking(){this._seeking=!0}onSeeked(){this._seeking=!1}});C.registerComponent("VpSkipIntroButton",class extends P{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),this._chaptersIntroStart=e.chaptersIntroStart,this._chaptersIntroEnd=e.chaptersIntroEnd,this.playUUID=e.playUUID,this.videoId=e.videoId}createEl(){const t=super.createEl("button",{className:"vp-skip-intype:"button",title:"Skip Intro"});return t.addEventListener("click",this.onButtonClick.bind(this)),t}ready(){this.player().on("timeupdate",this.onTimeUpdate.bind(this)),this.player().on("userinactive",this.onUserInactive.bind(this)),this.player().on("useractive",this.onUserActive.bind(this))}onTimeUpdate(){this.shouldShowButton()?this.show():this.hide()}shouldShowButton(){rethis.currentTime()<this._chaptersIntroEnd}show(){this.el().classList.contains("vp-skip-intro-button--hidden")&&(this.el().disabled=!1,this.el().classList.remove("vp-skip-intro-button--hidden"),this.sendEvent({action:"impression"}))}rentTime(){return Math.floor(this.player().currentTime())}onButtonClick(){this.el().disabled=!0,this.player().currentTime(this._chaptersIntroEnd),this.sendEvent({action:"click"})}onUserInactive(){this.player().paused()||this.el().classList.add("vp-skip-intro-button--move-down")}onUserActive(){this.el().classList.remove("vp-skip-intro-button--move-down")}sendEvent(t){let e=t.action;U.sendSkipIntro(e,this.videoId,this.playUUID)}});i(561),i(8757);function fi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class wi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fi(this,"onClickCallback",(()=>{})),fi(this,"label",""),fi(this,"menuType",""),this.onClickCallback=t.onClickCallback,this.label=t.label,this.menuType=t.menuType,this._el=document.createElement("li"),this.build()}build(){this.el().setAttribute("role","menuitem"),this.el().setAttribute("data-submenu",this.label.split(" ").join("-").toLowerCase()),this.el().className="vjs-settings-button__menu__list-item",this.el().onclick=()=>{this.handleClick()};const t=document.createElement("span");if(t.textContent=this.label,this.el().appendChild(t),"checked"===this.menuType){const t=document.createElement("div");t.className="check",this.el().appendChild(t),this.el().setAttribute("data-active","true")}else if("arrow"===this.menuType){const t=document.createElement("div");t.className="arrow",this.el().appendChild(t)}else this.el().setAttribute("data-active","false");return this.el()}el(){return this._el}handleClick(){this.onClickCallback()}}function ki(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function Si(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ki(Object(i),!0).forEach((function(e){Ci(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ki(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ci(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Ai{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ci(this,"menuItems",[]),Ci(this,"onClickBack",(()=>{})),Ci(this,"title",""),Ci(this,"showBackButton",!1),this._el=document.createElement("div"),this._listElement=document.createElement("ul"),this.initOptions(t),this.setupList(),this.buildMenu(),this.hide()}get listElement(){return this._listElement}initOptions(t){this.menuItems=t.menuItems.filter((t=>t.enabled)),this.onClickBack=t.onClickBack,this.title=t.title,this.showBackButton=t.showBackButton}el(){return this._el}buildMenu(){this.el().className="vjs-settings-button__menu",this.appendDataSettingsAttribute(this.el());const t=document.createElement("div");t.className="vjs-settings-button__menu__title-bar";const e=document.createElement("span");if(e.className="vjs-settings-button__menu__title",e.textContent=this.title,this.showBackButton){const e=document.createElement("div");e.className="vjs-settings-button__menu__back",e.onclick=()=>{this.onClickBack()},t.appendChild(e)}t.appendChild(e),this.el().appendChild(t),this.el().appendChild(this.listElement)}setupList(){this.listElement.setAttribute("role","menu"),this.listElement.classList.add("vjs-settings-button__menu__list"),this.appendDataSettingsAttribute(this.listElement),this.menuItems.forEach(((t,e)=>{this.listElement.appendChild(this.createListItem(t,e))}))}updateList(t){this.listElement.innerHTML="",t.forEach(((t,e)=>{this.listElement.appendChild(this.createListItem(t,e))})),this.menuItems=t}createItemClickListener(t,e){return()=>{this.menuItems=this.menuItems.map(((t,i)=>e!==i&&"checked"===t.menuType?Si(Si({},t),{},{menuType:""}):e===i&&"arrow"!==t.menuType?Si(Si({},t),{},{menuType:"checked"}):t)),this.updateList(this.menuItems),t()}}createListItem(t,e){return new wi({label:t.label,onClickCallback:this.createItemClickListener(t.onClick,e),menuType:t.menuType}).el()}show(){this.el().style.display="block"}hide(){this.el().style.display="none"}displayStatus(){return getComputedStyle(this.el()).display}toggle(){"none"==this.displayStatus()?this.show():this.hide()}appendDataSettingsAttribute(t){t.setAttribute("data-settings-menu","".concat(this.title.toLowerCase().replaceAll(" ","-")))}}function Ti(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return Ei(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ei(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function Ei(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}class Pi{constructor(t,e){this._adapter=t,this._bitrates=t.bitratesObject(),this.resolutionMapping=e,this.representations=this.getRepresentations()}get adapter(){return this._adapter}rawRepresentations(){return this.bitrates.representations()}dashObject(){return this.adapter.dashObject()}hlsObject(){return this.adapter.hlsObject()}get bitrates(){return this._bitrates}getResolutions(){const t={label:"Auto",mapping:null,representation:this.representations.nt("auto"),to","Auto")}};let e=[];return e=g&&0!==this.resolutionMapping.length?this.resolutionMapping.map((t=>{const e=this.availableRepresentation(t),i=this.getRepresentationntation:e,enableQuality:()=>{this.trig}}})).filter((t=>!!t.representation)):this.representations.filter((t=>"auto"!==t.height)).map((t=>{const e=this.getRepresentationResolution(t),i="".concat(e,"p");return{label:i,mapping:null,representation:t,enableQuality:()=>{this.triggerEvent(e),this.enableQuality(e,i)}}})),[t,...e]}static autoRepresentation(){return{height:"auto",enabled:function(){}}}getRepresentations(){const t=[];let e=this.bitrates.representations();const i={};var s,n=Ti(e);try{for(n.s();!(s=n.n()).done;){const t=s.value;i[t.height]=t}}catch(t){n.e(t)}finally{n.f()}e=Object.values(i);var a,r=Ti(e);try{for(r.s();!(a=r.n()).done;){const e=a.value;if(void 0!==e.height&&0!==e.height){let i=!1;for(let s in t)t[s].height===e.height&&(i=!0);i||t.push(e)}}}catch(t){r.e(t)}finally{r.f()}return t.push(Pi.autoRepresentation()),t.reverse(),t}getRepresentationResolution(t){return t.width<t.height?t.width:t.height}availableRepresentation(t){const e=this.representations.filter((e=>{const i=this.getRepresentationResolution(e);return t.min<=i&&t.max>=i}));return e.length>1?e.reduce(((t,e)=>{if(null===t)return e;const i=this.getRepresentationResolution(e);return this.getRepresentationResolution(t)<i?e:t}),null):e[0]}getActiveQuality(){try{return window.playback_selected_quality[this.adapter.id()]||"Auto"}catch(t){return"Auto"}}enableQuality(t,e){this.adapter.hasDashObject()?this.enableDashQuality(t):this.enableHlsQuality(t);const i=this.adapter.id();window.playback_selected_quality?window.playback_selected_quality[i]=e:window.playback_selected_quality={[i]:e}}enableQualityWithAbr(t,e){this.adapter.hasDashObject()?this.enableDashQualityWithAbr(t):this.enableHlsQualityWithAbr(t);const i=this.adapter.id();window.playback_selected_quality?window.playback_selected_quality[i]=e:window.playback_selected_quality={[i]:e}}enableDashQuality(t){"auto"!==t?this.rawRepresentations().forEach((e=>{this.getRepresentationResolution(e)===t&&e.enable()})):this.dashObject().enableAutoSwitchQuality()}enableHlsQuality(t){this.rawRepresentations().forEach((e=>{this.getRepresentationResolution(e)===t||"auto"===t?e.enabled(!0):e.enable-array {var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function Bi(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}class Di{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._player=t,this._options=e}setActiveSubtitle(t){const e=""===t?"none":t;window.playback_active_subtitle?window.playback_active_subtitle[this.player.ider.id()]:e}}storageName(){return"preferred_lang_subs"}get player(){return ltLang(){return"indonesian"}preferredLang(){return n().getItem(this.storageName())||this.defaultLang}textTracks(){return ct(this.player.textTracks()data(t)&&!this.trackIsAdCues(t)))}hasSubtitle(){return this.textTracks().length>0}getActiveSubtitle(){if(this.hasSubtitle()){const t=this.textTracks().find((t=>"showing"===t.mode));return t||{label:Rt("settings_menu.off")}}return{label:""}}getSubtitleMenu(){const t=his.textTracks().filter((t=>this.trackHasProperKind(t(null==t?void 0:t.label)===e.label,onClick:this.createTrackChangeHandler(e)}))),{track:null,label:"Off",active:!t||"off"===this.getPreferredLang(),onClick:this.handleSubtitleOff.bind(this)}]}createTrackChangeHandler(t){return()=>this.handleTrackChange(t.label)}trackIsMetadata(t){return"segment-metadata"==t.label}trackIsAdCues(t){return"ad-cues"==t.label}trackHasProperKind(t){const e=p("enable_subtitle_from_master_playlist")?"subtitles":"captions";return t.kind===e}handleTrackChange(t){var e,i=Ii(this.textTracks());try{for(i.s();!(e=i.n()).done;){const i=e.value;i.label===t&&this.trackHasProperKind(i)?"disabled"!==i.mode&&"hidden"!==i.mode||(this.setPreferredLang(t),this.setActiveSubtitle(t.toLowerCase()),i.mode="showing"):"showing"===i.mode&&(i.mode="disabled")}}catch(t){i.e(t)}finally{i.f()}}setPreferredSub(){let t=this.getPreferredLang();this.setInitialPreferredSubtitle();var e,i=Ii(this.textTracks());try{for(i.s();!(e=i.n()).done;){const i=e.value;this.trackHasProperKind(i)&&i.label.toLowerCase()===t?i.mode="showing":i.mode="disabled"}}catch(t){i.e(t)}finally{i.f()}}setInitialPreferredSubtitle(){let t=this.preferredLang();let e="none";-1!==th.label.toLowerCase())).indexOf(t)&&(e=t);const i=this.player.id();window.playback_initial_subtitle&&"object"==typeof window.playback_initial_subtitle?window.playback_initial_subtitle[i]=e:window.playback_initial_subtitle={[i]:e},this.setActiveSubtitle(e)}getPreferredLang(){let t=this.preferredLang();const e=this.textTracks().map((t=>t.label.toLowerCase()));return"off"===t?"off":-1!==e.indexOf(t)?t:-1!==e.indexOf(this.defaultLang)?this.defaultLang:e.length>0?e[0]:this.defaultLang}setPreferredLang(t){n().setItem(this.storageName(),t.toLowerCase())}handleSubtitleOff(){var t,e=Ii(this.textTracks());try{for(e.s();!(t=e.n()).done;){const e=t.value;this.setPreferredLang("off"),this.setActiveSubtitle("off"),"showing"===e.mode&&(e.mode="disabled")}}catch(t){e.e(t)}finally{e.f()}}}class Mi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._el=document.createElement("div"),this._player=t,this._adapter=e,this._options=i,this.menu=null,this.player.on("loadedmetadata",(()=>{this.subtitleManager=new Di(this.player,this.options),this.subtitleManager.setPreferredSub(),this.buildMenu()}))}buildMenu(){this.settingMenu=this.initSettingMenu(this.subtitleManager),this.videoQualityMenu=this.initVideoQualityMenu(this.adapter,this.options.resolutionMapping,this.sendBitrateEvent.bind(this)),this.subtitleMenu=this.initSubtitleMenu(this.player,this.subtitleManager),p("enable_playback_speed")&&(this.playbackRatesMenu=this.initPlaybackSpeedMenu(this.player)),this.menu=this.settingMenu,this.build(),this.hide()}get options(){return this._options}get adapter(){return this._adapter}get player(){return this._player}el(){return this._el}initPlaybackSpeedMenu(t){const e=[{label:"0.5x",menuType:.5===t.playbackRate()?"checked":void 0,onClick:()=>{t.playbackRate(.5)}},{label:"0.75x",menuType:.75===t.playbackRate()?"checked":void 0,onClick:()=>{t.playbackRate(.75)}},{label:"Normal",menuType:1===t.playbackRate()?"checked":void 0,onClick:()=>{t.playbackRate(1)}},{label:"1.25x",menuType:1.25===t.playbackRate()?"checked":void 0,onClick:()=>{t.playbackRate(1.25)}},{label:"1.5x",menuType:1.5===t.playbackRate()?"checked":void 0,onClick:()=>{t.playbackRate(1.5)}}],i=new Ai({title:"Playback Speed",showBackButton:!0,onClickBack:this.handleBack.bind(this),menuItems:e});return i.updateList(e),i}initSubtitleMenu(t,e){let i=[];const s=new Ai({title:"Subtitle",showBackButton:!0,onClickBack:this.handleBack.bind(this),menuItems:i}),n=e=>{t.trigger({type:"vp-subtitle-change",id:this.options.videoId,track:e})},a=(t,i)=>{if(!e)return;const s={action:t,subtitle:i,video_id:this.options.videoId,play_uuid:this.options.play_uuid};rt.sendSubtitle(s)};return i=e.getSubtitleMenu().map((t=>({label:t.label,menuType:t.active?"checked":void 0,onClick:()=>{t.onClick(),n(t.label),a("select",t.label)}}))),s.updateList(i),s}initVideoQualityMenu(t,e,i){let s=[];const n=new Ai({title:"Video Quality",showBackButton:!0,onClickBack:this.handleBack.bind(this),menuItems:s});return s=new Pi(t,e).getResolutions().map((t=>({menuType:"Auto"===t.label?"checked":void 0,label:t.label,onClick:()=>{t.enableQuality(),setTimeout((()=>{i("select")}),100)}}))),n.updateList(s),n}initSetrigger({type:"vp-subtitle-click",id:this.options.videoId})},i={label:"Video Quality",menis.changeMenu("Video Quality"),this.sendBitrateEvent("open"),rt.sendPlaybackBitrateShow(this.options.play_uuid)}},s={label:"Subtitle",menuType:"arrow",enabled:t.textTracks().length>0,onClick:()=>{this.changeMenu("Subtitle"),e()}},n={label:"Playback Speed",menuType:"arrow",enabled:"Video"===this.options.type,onClick:()=>{this.changeMenu("Playback Speed")}},a=[i,s,{label:"Send Feedback",menuType:"arrow",enabled:!0,onClick:()=>{Ot.exitFullscreen(),Lt.publish("watchpage/send_feedback/show",{issue_category_code:"icc4"})}}];p("enable_playback_speed")&&a.splice(2,0,n);return new Ai({title:"Settings",showBackButton:!1,menuItems:a})}sendBitrateEvent(t){var e;const i=this.adapter.bitratesObject().getCurrentMediaAttribute(),s={play_uuid:this.options.play_uuid,action:t,quality:(null===(e=window.playback_selected_quality)||void 0===e?void 0:e[this.adapter.id()])||null,bandwidth:i.bitrate,network_type:l.effectiveType(),content_type:this.options.type};rt.sendBitrate(s)}build(){this.el().className="vjs-ent="",this.el().appendChild(this.menu.el())}show(){this.el().style.display="block",this.menu.show(),this.checkPlayerInactive()}hide(){this.el().style.display="none",this.changeMenu("Settings")}displayStatus(){return getComputedStyle(this.el()).display}toggle(){"none"==this.displayStatus()?this.show():this.hide()}handleBack(){this.changeMenu("Settings")}replaceMenu(t){void 0!==t&&void 0!==this.menu&&(this.el().replaceChild(t.el(),this.menu.el()),this.menu=t)}changeMenu(t){"Subtitle"===t?this.replaceMenu(this.subtitleMenu):"Video Quality"===t?this.replaceMenu(this.videoQualityMenu):"Playback Speed"===t?this.replaceMenu(this.playbackRatesMenu):this.replaceMenu(this.settingMenu),this.menu.show()}checkPlayerInactive(){const t=document.querySelector(".video-js"),e=setInterval((()=>{t.classList.contains("vjs-user-inactive")&&!t.classList.contains("vjs-paused")&&(clearInterval(e),this.hide())}),100)}}class Li extends Fe{constructor(t){let e=arguments.ments[1]:{};super(t,e),this._adapter=new C,this._adapter._instance=t,this.settingsMenuPanel=new Mi(t,this._adapter,e),this.el().appendChild(this.settingsMenuPanel.el()),this.player().on("loadedmetadata",(()=>{document.addEventListener("click",this.handleClickOutside.bind(this)),this.player().on("vp-episodes-list-o.call(this,"button",t);return this.createControlTextEl(e),e}handleClick(t){t.stopPropagation(),t.currentTarget===t.target&&(this.toggleSettingsMenuPanel(),this.player().trigger({type:"settings-button-click",data:{event:t}}))}handleClickOutside(t){t.stopPropagation(),this.settingsMenuPanel.hide()}toggleSettingsMenuPanel(){this.settingsMenuPanel.toggle()}buildCSSClass(){return"vjs-settings-button vjs-control vjs-button"}}function Oi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Li.prototype.controlText_="Playback Settings",C.registerComponent("VpSettingsButton",Li);class ji{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Oi(this,"onClickCallback",(()=>{})),Oi(this,"activeLabel",""),Oi(this,"label",""),Oi(this,"menuType",""),this.onClickCallback=t.onClickCallback,this.label=t.label,this.activeLabel=t.activeLabel,this.menuType=t.menuType,this._el=document.createElement("li"),this.build()}build(){this.el().setAttribute("role","menuitem"),this.el().setAttribute("data-submenu",this.label.split(" ").join("-").toLowerCase()),this.el().className="vjs-settings-button__bottomsheet__menu__list-item",this.el().onclick=()=>{this.handleClick()};const t=document.createElement("div");if(t.textContent=this.label,this.el().appendChild(t),void 0!==this.active){const t=document.createElement("div");t.textContent="•";const e=document.createElement("div");e.className="vjs-settings-button__bottomsheet__menu__active-item",e.textContent=this.active,this.el().appendChild(t),this.el().appendChild(e)}if("checked"===this.menuType){const t=document.createElement("div");t.classNamefunction xi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ri(Object(i),!0).forEach((function(e){Vi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ri(ObjeforEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Vi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Ui{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?argumenhis,"menuItems",[]),Vi(this,"onClickBack",(()=>{})),Vi(this,"title",""),Vi(this,"showBackButton",!1),this._el=document.createElement("div"),this._listElement=document.createElement("ul"),this.initOptions(t),this.setupList(),this.buildMenu(),this.hide()}get listElement(){return this._listElement}initOptions(t){this.menuItems=t.menuItems.filter((t=>t.enabled)),this.onClickBack=t.onClickBack,this.title=t.title,this.showBackButton=t.showBackButton}el(){return this._el}buildMenu(){this.el().className="vjs-settings-button__bottomsheet__menu";const t=document.createElement("div");t.className="vjs-settings-button__bottomsheet__menu__title-bar";const e=document.createElement("span");if(e.className="vjs-settings-button__bottomsheet__menu__title",e.textContent=this.title,this.showBackButton){const e=document.createElement("div");e.className="vjs-settings-button__bottomsheet__menu__back",e.onclick=()=>{this.onClickBack()},t.appendChild(e)}t.appendChild(e),this.el().appendChild(t);const i=document.createElement("div");i.className="vjs-settings-button__bottomsheet__menu__list-container",i.appendChild(this.listElement),this.el().appendChild(i)}setupList(){this.listElement.setAttribute("role","menu"),this.listElement.classList.add("vjs-settings-button__bottomsheet__menu__list"),this.appendDataSettingsAttribute(this.listElement),this.menuItems.forEach(((t,e)=>{this.listElement.appendChild(this.createListItem(t,e))}))}updateList(t){this.listElement.innerHTML="",t.forEach(((t,e)=>{this.listElement.appendChild(this.createListItem(t,e))})),this.menuItems=t}createListItem(t,e){return new ji({label:t.label,activeLabel:t.activeLabel,onClickCallback:this.createItemClickListener(t.onClick,e),menuType:t.menuType}).el()}createItemClickListener(t,e){return()=>{this.menuItems=this.menuItems.map(((t,i)=>e!==i&&"checked"===t.menuType?xi(xi({},t),{},{menuType:""}):e===i&&"arrow"!==t.menuType&&"uncheckable"!==t.menuType?xi(xi({},t),{},{menuType:"checked"}):t)),atus(){return getComputedStyle(this.el()).display}toggle(){"none"==this.displayStatus()?this.show():this.hide()}appendDataSettingsAttribute(t){t.setAttribute("data-settings-menu","".concat(this.title.toLowerCase().replaceAll(" ","-")))}}function Hi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Ni{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Hi(this,"activeSubtitle",""),Hi(this,"activeQuali,"bitrateManager",nr=e,this._options=i,this.menu=null,this.bindOnLoadedMetadata(e)}get options(){return this._options}get adapter(){return this._adapter}get player(){return this._player}el(){return this._el}updateActiveQuality(){this.activeQuality=this.bitrateManager.getActiveQuality()}updateActiveSubtitle(){this.activeSubtitle=this.subtitleManager.getActiveSubtitle().label}updateActivePlaybackRates(){let t="Normal";1!==this.player.playbackRate()&&(t=this.player.playbackRate()+"x"),this.activePlaybackRates=t}build(){this.el().className="vjs-settings-button__bottomsheet",this.setDisplayTypeAttr(this.el());const t=document.createElement("div");t.className="vjs-settings-button__bottomsheet__overlay",t.onclick=()=>{this.changeMenu(Rt("settings_menu.settings")),this.hide()},this.el().appendChild(t),this.el().appendChild(this.menu.el())}setDisplayTypeAttr(t){!==this.optipe",te","default")}getDisplayTypeAttr(){return void 0!==this.options.displayType&&null!==this.options.displayType?this.options.displayType:"default"}show(){this.el().style.display="flex",this.menu.show()}hide(){this.el().style.display="none"}displayStatus(){return getComputedStyle(this.el()).display}toggle(){"none"==this.disshow():this.hide()}initMobileVideoQualityMenu(t){let e=[];const i=new Ui({title:Rt("settings_menu.video_quality"),showBackButton:!0,onClickBack:this.handleBack.bind(this),menuItems:e});return e=this.bitrateManager.getResolutions().map((e=>({menuType:"Auto"===e.label?"checked":void 0,label:e.label,onClick:()=>{e.enableQuality(),setTimeout((()=>{t("select")}),100)}}))),i.updateList(e),i}initMobileSubtitleMenu(t){let e=[];const i=new Ui({title:Rt("settings_menu.subtitle"),showBackButton:!0,onClickBack:this.handleBack.bind(this),menuItems:e}),s=e=>{t.trigger({type:"vp-subtitle-change",id:this.options.videoId,track:e})},n=(t,e)=>{if(!this.subtitleManager)return;const i={action:t,subtitle:e,video_id:this.options.videoId,play_uuid:this.options.play_uuid};rt.sendSubtitle(i)};return e=this.subtitleeMenu().map((t=>({label:t.label,menuType:t.active?"checked":void 0,onClick:()=>{t.onClick(),s(t.label),n("select",t.label)}}))),i.updateList(e),i}initMobileSettingMenu(t,e,i){const s=()=>{this.player.trigger({type:"vp-subtitle-click",id:this.options.videoId})};return new Ui({title:Rt("settings_menu.settings"),showBackButton:!0,onClickBack:()=>{this.hide()},menuItems:[{label:Rt("settings_menu.video_quality"),activeLabel:t,enabled:!0,menuType:"uncheckable",onClick:()=>{this.changeMenu(Rt("settings_menu.video_quality")),this.sendBitrateEvent("open"),rt.sendPlaybackBitrateShow(this.options.play_uuid)}},{label:Rt("settings_menu.subtitle"),activeLabel:e,enabled:this.subtitleManager.textTracks().length>0,menuType:"uncheckable",onClick:()=>{this.changeMenu(Rt("settings_menu.subtitle")),s()}},{label:Rt("settings_menu.playback_speed"),activeLabel:i,enabled:this.playbackSpeedMenuIsEnabled(),menuType:"uncheckable",onClick:()=>{this.changeMenu(Rt("settings_menu.playback_speed"))}},{label:Rt("settings_menu.send_feedback"),enabled:!0,menuType:"uncheckable",onClick:()=>{this.hide(),Ot.exitFullscreen(),this.publishSendFeedbackTopic()}}]})}initMobilePlaybackSpeedMenu(t){const e=[{label:"0.5x",menuType:.5===t.playbackRate()?"checked":void 0,onClick:()=>{t.playbackRate(.5)}},{label:"aybackRate()?"checked":void 0,onClick:()=>{t.playbackRate(.75)}},{label:"Normal",menuType:1===t.playbackRate()?"checked":void 0,onClick:()=>{t.playbackRate(1)}},{label:"1.25x},{label:oid 0,onClick:()=>{t.playbackRate(1.5)}}],i=new Ui({title:Rt("settings_menu.playback_speed"),showBackButton:!0,onClickBack:this.handleBack.bind(this),menuItems:[]});return i.updateList(e),i}publishSendFeedbackTopic(){window.Topic.publish("watchpage/send_feedback/show",{issue_category_code:"icc4"})}handleBack(){this.changeMenu(Rt("settings_menu.settings"))}changeMenu(t){if(t===Rt("settings_menu.subtitle"))this.el().replaceChild(this.subtitleMenu.el(),this.menu.el()),this.menu=this.subtitleMenu;else if(t===Rt("settings_menu.video_quality"))this.el().replaceChild(this.qualityMenu.el(),this.menu.el()),this.menu=this.qualityMenu;else if(t===Rt("settings_menu.playback_speed"))this.el().replaceChild(this.playbackRatesMenu.el(),this.menu.el()),this.menu=this.playbackRatesMenu;else{this.updateActiveQuality(),this.updateActiveSubtitle(),this.updateActivePlaybackRates(),this.el().replaceChild(this.settingMenu.el(),this.menu.el());const t=this.settingMenu.menuItems.map((t=>{const e=t;return t.label===Rt("settings_menu.video_quality")?e.activeLabel=this.activeQuality:t.label===Rt("settings_menu.subtitle")?e.activeLabel=this.activeSubtitle:t.label===Rt("settings_menu.playback_speed")&&(e.activeLabel=this.activePlaybackRates),e}));this.settingMenu.updateList(t),this.menu=this.settingMenu}this.menu.show()}sendBitrateEvent(t){var e;const i=this.adapter.bitratesObject().getCurrentMediaAttribute(),s={play_uuid:this.options.play_uuid,action:t,quality:(null===(e=window.playback_selected_quality)||void 0===e?void 0:e[this.adapter.id()])||null,bandwidth:i.bitrate,network_type:l.effectiveType(),content_type:this.options.type};rt.sendBitrate(s)}playbackSpeedMenuIsEnabled(){return p("enable_playback_speed")&&"Livestreaming"!=this.options.type}bindOnLoadedMetadata(t){this.player.on("loadedmetadata",(()=>{this.subtitleManager=new Di(this.player,this.options),this.subtitleManager.setPreferredSub(),this.activeSubtitle=this.subtitleManager.getActiveSubtitle().label,this.bitrateManager=new Pi(t,this.options.resolutionMapping),this.activeQuality=this.bitrateManager.getActiveQuality(),this.playbackSpeedMenuIsEnabled()&&(this.playbackRatesMenu=this.initMobilePlaybackSpeedMenu(this.player),this.updateActivePlaybackRates()),this.settingMenu=this.initMobileSettingMenu(this.activeQuality,this.activeSubtitle,this.activePlaybackRates),this.subtitleMenu=this.initMobileSubtitleMenu(this.player),this.qualityMenu=this.initMobileVideoQualityMenu(this.sendBitrateEvent.bind(this)),this.menu=this.settingMenu,this.build(),this.hide()}))}}class Fi extends Fe{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),this._adapter=new C,this._adapter._instance=t,this.mobileSettingsBottomsheet=new Ni(t,this._adapter,Object.assign({},e)),this.mobileSettingsBottomsheetFullscreen=new Ni(t,this._adapter,Object.assign({displayType:"fullscreen"},e)),document.querySelector("#".concat(this._adapter.id(),".video-js")).appendChild(this.mobileSettingsBottomsheetFullscreen.el());let i=document.createElement("div");i.className="video-js video-js--nobg",i.style="height: auto;",i.appendChild(this.mobileSettingsBottomsheet.el()),document.querySelector("body").appendChild(i)}createEl(){var t={innerHTML:"",className:this.buildCSSClass(r(){return this._adapter}handleClick(t){t.stopPropagation(),this.adapter.isFullscreen()?(this.mobileSettingsBottomsheetFullscreen.show(),this.mobileSettingsBottomsheet.hide()):(this.mobileSettingsBottomsheetFullscreen.hide(),this.mobileSettingsBottomsheet.show())}buildCSSClass(){return"vjs-settings-button vjs-mobile-settings-button vjs-control vjs-button"}}FiileSettingsButton",Fi);class Wi{static create(t,e){var i;return(i=new this(t,e)).initialize(),window.player=i,i}static createAndReplace(t){var e=t.querySelector(".player-placeholder-content"),i=t.getAttribute("data-player-data-id");Wi.bindClickTargetEl(i,e)}static bindClickTargetEl(t,e){e.onclick=function(){Wi.disposeCurrentPlc disposeCurrentPlayer(){void 0!==window.player&&window.player instanceof Wi&&(window.player.dispose(),delete window.player)}static setupNewPlayer(t,e){e.style.display="none";var i=new Wi(t);i.initialize(),window.player=i,this.bindOnDispose(e)}static bindOnDispose(t){var e=setInterval((()=>{try{player.tech().on("dispose",function(){t.style.display="block"}.bind(this)),clearInterval(e)}catch(t){}}),50)}constructor(t,e){this._started=!1,this._uuidManager=new z(window.play_uuid),this._data=new ht(t,e,this.uuid()),this.removeVjsClipDashUrlOnDemand(),class{static setAhoyEventGlobalProperties(t){let e={page:m.locationHref(),videopremier:t.isPremier(),referrer:m.referrer(),is_preview:t.preview(),cdn:t.cdnName(),embed:"true"===t.embed(),access_type:t.accessType()};t.userIsPremier()&&(e.user_type="premier");let i=ne({},e),s=ne({},e);t.isVideo()?(0!=t.filmId()&&(e.film_id=t.filmId(),s.film_id=t.filmId()),0!=t.seasonId()&&(e.season_id=t.seasonId(),s.season_id=t.seasonId())):t.isLivestreaming()&&(e.is_drm=t.drmEnabled(),i.is_drm=t.drmEnabled()),U._globalAppendData=s,rt._globalAppendData=e,ot._globalAppendData=i}}.setAhoyEventGlobalProperties(this._data),rt.sendPlatformSupportEvent({type:this.data().type(),play_uuid:this.uuid()}),this._autoplay=new dt({autoplay:this.data().autoplay(),adult:this.data().adult()}),this._options=new kt({sources:[{src:this.data().hlsUrlWithEmbedParam(),type:"application/x-mpegURL"}],autoplay:this.autoplay(),data:this.data(),uuid:this.uuid()}),this._tech=new pt,this._blocker=new we({data:this.data(),tech:this.tech(),uuid:this.uuid()}),this._error=new mt({data:this.data(),tech:this.tech(),blocker:this.blocker()}),this._geoblock=new ke({data:this.data(),blocker:this.blocker(),uuid:this.uuid(),tech:this.tech()}),this._adsParams=new at(this.data(),this.options().muted),this._ads=new Z(this.tech(),this.data(),this.adsParams()),this._event=new Se,this._gtmEvent=new Se,this._plenty=new Le,this._videoDom=new Re({data:this.data(),autoplay:this.autoplay()}),this._autofocus=new lt({idleTime:2e3,data:this.data()}),"Video"===this.data().type()&&(this._event=new Ee({tech:this.tech(),data:this.data(),uuid:this.uuid(),autoplay:this.autoplay(),ads:this.ads(),error:this.error()}),this._plenty=new Oe({tech:this.tech(),data:this.data()}),window.dataLayer&&(this._gtmEvent=new Pe({tech:this.tech(),data:this.data()}))),"Livestreaming"===this.data().type()&&(this._event=news(),uuid:this.uuid()}),this._plenty=new je({tech:this.tech(),data:this.data()}),window.dataLayer&&(this._gtmEvent=new Me({tech:this.tech(),data:this.data()}))),this._playerAfterSetup=new be({tech:this.tech(),data:this.data(),ads:this.ads(),autoplay:this.autoplay(),error:this.error(),blocker:this.blocker()})}playerAfterSetup(){return this._playerAfterSetup}removeVjsClipDashUrlOnDemand(){this.data().vjsClipDashUrl()&&!this.data().drmEnabled()&&m.isForcedToUseHLS()&&this.data().el().removeAttribute("data-vjs-clip-dash-url")}dispose(){if(null!==this.tech().el().querySelector("video")){const t=this.parentNode();this.tech().dispose();const e=docueload(!0)}parentNode(){var t=document.querySelector("#"+this.data().playerId());if(null!==t)return t.parentNode}initialize(){O.isSupported()ndCheckGeoblock(),this.loadPlayer()):this.blocker().renderBlocker("not_supported_browser")}bindCheckGeoblock(){Lt.subscribe("check_geoblock",(()=>this.checkGeoblock()))}checkGeoblock(){"true"==this.data().geoblock()&&this.geoblock().runAndBlock().then((t=>{t&&(this.dispose(),this.geoblock().showBlocker())}))}loadPlayer(){j.Y.start("vjs-setup"),this.load()}data(){return this._data}error(){return this._error}geoblock(){return this._geoblock}blocker(){return this._blocker}adsParams(){return this._adsParams}ads(){return this._ads}autoplay(){return this._autoplay}event(){return this._event}gtmEvent(){return this._gtmEvent}plenty(){return this._plenty}videoDom(){return this._videoDom}bindPlaybackEvent(){this.bindPauseSetupTiming(),this.bindResumeSetupTiming(),this.error().bindError(),this.event().bindEvents(),this.plenty().bindEvents(),this.gtmEvent().bindEvents(),this.bindAdOnIpadSelective(),this.bindPosterImage(),this.bindSeekOnLivestreamStuck(),this.bindMuted(),this.bindRestart(),this.bindCleanRestart()}bindMuted(){this.tech().on("ready",function(){this.options().muted&&this.tech().muted(!0)}.bind(this))}bindRestart(){this.tech().on("vp-restart",function(){this.restart()}.bind(this))}bindCleanRestart(){this.tech().on("vp-clean-restart",(()=>{this.cleanRestart()}))}restart(){var ,s=this.tech().paused(),this.dispose(),e=Wi.create(this.data().id(),!1),i=setInterval((function(){e.tech()&&e.tech().plugin()&&(clearInterval(i),e.bindSeekOnRetry(t,s))}),200)}cleanRestart(){this.dispose(),Wi.create(this.data().id(),!1)}bindSeekOnRetry(t,seekOnVod(t),setTimeout(function(){e&&this.tech().pause()}.bind(this),100)}.bind(this))}seekOnVod(t){if(this.data().isVideo())var e=setInterval(function(){this.tech().currentTime()>.2&&(clearInterval(e),this.tech().currentTime(t))}.bind(this),100)}bindSeekOnLivestreamStuck(){this.tech().one("vp-livestream-stuck",function(t){this.tech().currentTime(t.time)}.bind(this))}tech(){return this._tech}bindPauseSetupTiming(){this.tech().on("ready",function(){this.autoplay().value()||j.Y.pause("vjs-setup")}.bind(this))}bindResumeSetupTiming(){this.tech().one("firstplay",function(){this.autoplay().value()||j.Y.resume("vjs-setup")}.bind(this))}displayAdOverlay(){var t=document.getElementById(this.data().playerId());t.insertBefore(ut.parseHTML(this.renderAdsOverlay()),t.firstChild),document.getElementsByClassName("vjs-ads__overlay")[0].style.display="block"}callbackAdSkippableChange(){if(this.ads().imaAdSkippable()){var t=document.getElementsByClassName("vjs-ads__skip-button")[0];void 0!==t&&(t.style.display="block"),this.bindAdSkipButton()}}bindAdSkipButton(){document.getElementsByClassName("vjs-ads__skip-button")[0].addEventListener("touchend",function(SKIPPABLE_STATE_CHANGED,this.callbackAdSkippableChange.bind(this))}bindAdOnIpadSelective(){0==m.osVersion().indexOf("9.3")&&"iPad"==m.deviceModel()&&"Mobile Safari"==m.browserName()&&this.bindAdOnIpad()}bindAdOnIpad(){this.tech().one("adstart",function(){this.displOverlay(),this.bindAdEndOnIpad()}.bind(th",function(){this.tech().paused()?this.tech().play():(this.tech().pause(),this.sendPauseUserTriggeredEvent())}.bind(this))}sendPauseUserTriggeredEvent(){this.tech().trigger({type:"vp-pause",userTriggered:!0})}bindAdEndOnIpad(){this.tech().on("adend",(function(){var t=window.document.getElementsByClassName("vjs-ads__overlay")[0];t.parentNode.removeChild(t)}))}initAndBindAds(){this.ads().setupLottieLoader(),this.ads().setupAdsTransition(),this.ads().initPauseAdvertisement(),this.wrapPlayer(),this.ads().initPlayerAdvertisements(),this.bindAdOverlayEvent(),this.ads().bindStartSqueezeFrameAd(),this.ads().bindTickerTapeAd(),this.ads().bindSuperimposeAd()}isSupportVP9(){return this.data().vjsClipDashUrl()&&m.isSupportVp9()}wrapPlayer(){const t=document.createElement("div");t.id="player_component_wrapper",t.className="player-component-wrapper",t.append(...this.tech().el().el().childNodes),this.tech().el().el().append(t)}load(){this.replacePlayer(),this.bindAdsRefresh(),this.data().drmEnabled()&&this.data().isLivestreaming()?this.getLsDrmSources():!this.data().drmEnabled()||this.data().isLivestreaming()?this.isSupportVP9()&&this.data().isLivestreaming()&&m.isForcedToUseHLS()?this.getSourcesToken():this.isSupportVP9()&&this.data().isLivestreaming()&&!m.isForcedToUseHLS()?this.getSourceLivestreamingVp9():!this.isSupportVP9()||this.data().isLivestreamingken()?this.getSourcesToken():this.getAdvertisementParams():this.getSourceVp9():this.getDrmSources()}bindAdsRefresh(){if("Chrome"==m.browserName())var t,e=setInterval(function(){t=document.getElementById("ima-ad-container"),!this.isAdPlaying()&&t&&(t.addEventListener("click",function(){const t=this.tech().play();void 0!==t&&t.then((()=>{this.tech().pause()}))}.bind(this)),clearInterval(e))}.bind(this),500)}isAdPlaying(){const t=this.tech();if("function"!=typeof t&&"function"!=typeof t.plugin())return null!=t.plugin()&&"function"!=typeof t.plugin().instance().ads&&t.plugin().instance().ads.isAdPlaying()}replacePlayer(d 0!==t&&(t.innerHTML=this.videoDom().render())}renderAdsOverlay(){var t=this.tech().plugin().instance(),e=t.el().offsetHeight-t.controlBar.el().offsetHeight;return'<div style="height: '.concat(e,'px;" class="vjs-ads__overlay vjs-ads-ima__overlay">\n      <div class="vjs-ads__skip-button vjs-ads-ima__skip-button">\n    </div>')}techOrder(){return["html5"]}getSourceLivestreamingVp9(){_e.postToken("/live/"+this.data().videoId()+"/tokens?type=dash").then(function(t){var e=document.createElement("a");e.href=this.data().vjsClipDashUrl(),this._options._sources=[{src:e.origin+"/"+t+e.pathname.replace(/(\/)?/,"/"),type:"application/dash+xml"}],this.getAdvertisementParams()}.bind(this))}getSourceVp9(){this._options._sources=[{src:this.data().vjsClipDashUrl(),type:"application/dash+xml"}],this.getAdvertisementParams()}getDrmSources(){this.getDrmSourcesWithInterval("/drm/v1/cdata?video_id=".concat(this.data().videoId()))}getLsDrmSources(){this.getDrmSourcesWithInterval("/drm/v1/cdata?live_id=".concat(this.data().videoId()))}getDrmSourcesWithInterval(t){let e=0;if(ye.headerEnrichment()&&!window.watchHe){const i=window.setInterval((()=>{(window.watchHe||e>10)&&(window.clearInterval(i),this.ajaxGetDrmSource(t)),e++}),200)}else this.ajaxGetDrmSource(t)}ajaxGetDrmSource(t){const e=window.watchHe?{"X-Watch-He":window.watchHe}:{};vt.get({url:t,headers:e,success:this.getDrmSourcesOnSuccess.bind(this),error:this.getDrmSourcesOnError.bind(this)})}getDrmSourcesOnSuccess(t){let e,i,s,n;t=JSON.parse(t),e="https://license-global.pallycon.com/ri/licenseManager.do",i="https://license.pallycon.com/ri/fpsKeyManager.do?siteId="+this.data().siteId(),null!=t.drm_license_url&&(e=t.drm_license_url),null!=t.fairplay_certificate_url&&(i=t.fairplay_certificate_url),null!=t.drm_stream_dash_url&&(s=t.drm_stream_dash_url),null!=t.drm_stream_hls_url&&(n=t.drm_stream_hls_url),m.isBrowserSafari()||m.isOSiOS()?this.getDrmHlsSource(t.fairplay,e,i,n):this.getDrmDashSource(t.widevine,t.playready,e,s)}showSignInBlocker(){this.blocker().showSignInBlocker()}getDrmSourcesOnError(t,e){401===e.status()&&(this.tech().init(this.data().playerId()),this.tech().el().addClass("video-placeholder"),this.showSignInBlocker())}getDrmDashSource(t,e,i,s){var n=this.data().vjsClipDashUrl();null!=s&&(n=s),this._options._sources=[{src:n,type:"application/dash+xml",keySystemOptions:[{name:"com.widevine.alpha",options:{serverURL:i,httpRequestHeaders:{"pallycon-customdata-v2":t}}},{name:"com.microsoft.playready",options:{serverURL:i,httpRequestHeaders:{"pallycon-customdata-v2":e}}}]}],this.getAdvertisementParams()}getDrmHlsSource(t,e,i,s){null!=s&&""!=s&&(this._options._sources=[{src:s,type:"application/x-mpegURL"}]),this.getAdvertisementParams(this.getFairplayLicenseOnReady.bind(this,t,e,i,s))}getFairplayLicenseOnReady(t,e,i,s){var n=this.data().hlsUrlWithEmbedParam();null!=s&&(n=s),this.tech().on("ready",(()=>{pallyCon.fairplgin().instance(),pallycon_custom_data:t,certificate_uri:i,content_url:n})}))}getSourcesToken(){var t=this.data().hlsUrlWithEmbedParam(+this.data().videoId()+"/tokens").then(function(e){this._options._sources=[{src:t+"?"+e,type:"application/x-mpegURL"}],this.getAdvertisementParams()}.bind(this))}options(){return this._options.value()}getAdvertisementParams(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this.adsParams().getVideoAdsParamsViaApi((()=>{this.setup(),t()}))}setup(){try{this.tech().init(this.data().playerId(),this.options()),this.bindPlaybackEvent()}catch(t){return console.error(t),void this.sendSetupError(t.message)}this.playerAfterSetup().init(),this.setupComponent()}showWatermark(){this.playerAfterSetup().uowWatermark()}hideWatermark(){this.playerAfterSetup().userIdWatermark()&&this.playerAfterSetup().userIdWatermark().hideWatermark()}toggleWatermark(t){this.playerAfterSetup().userIdWatermark()&&this.playerAfterSetup().userIdWatermark().toggleWatermark(1e3*t)}setupComponent(){this.initAndBindAds()}sendPlentyEventFromWhisper(t,e){U.sendEvent(t,e,"WHISPER::")}endSetupError(this.data().videoId(),t,this.ads().paramsPresent(),this.uuid(),this.data().tokenRefreshCount()):"Livestreaming"===this.data().type()&&ot.sendSetupError(this.data().videoId(),t,this.ads().paramsPresent(),this.uuid())}turn this._uuidManager}uuid(){return this.uuidManager().uuid()}videoElement(){return this.tech().videoElement()}bindPosterImage(){this.tech().on("ready",function(){!this.autoplay().value()&&this.tech().poster(this.data().videoImageUrl())}.bind(this))}bindAdOverlayEvent(){(m.isDesktopSite()||m.isMobileSite())&&this.ads().bindStartAdOverlay()}env(){return m}isReady(){return!!(this.tech()&&this.tech().plugin()&&this.tech()elector("video"))&&this.tech().plugin().instance().isReady_}increasBrowserSafari()&&this.data().isLivestreaming()&&Ie.setResourceTimingBufferSize(Number.MAX_SAFE_INTEGER)}}},9585:function(t,){var e=new n(t);return e.start(),s[t]=e,e}static time(t){if(s[t])return s[t].time()}static stop(t){s[t]&&s[t].stop()}static clear(t){void 0!==t?(n.stop(t),delete s[t]):s={}}static pause(t){s[t]&&ume(t){s[t]&&s[t].resume()}static inspect(t){return s[t]}static reset(t){this.clear(t),this.start(t)}start(){this._timestamp=Date.now()}stothis.t),this.counterInMs()/1e3nctigth;&(r=t&&t._rn s},r e=function(e,i){var n,a,r=i[0],o=i[1ction(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(d)var h=d(s)}for(e&&e(i);l<r.length;l++)a=r[l],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(h)},i=self.webpackChunkvidio_playback=self.webpackChunkvidio_playback||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}(),s.nc=void 0;var n=s.O(void 0,[987],(function(){return s(7351)}));n=s.O(n)}();
//# sourceMappingURL=main.474832aa0f6d4b9e4983.bundle.js.map