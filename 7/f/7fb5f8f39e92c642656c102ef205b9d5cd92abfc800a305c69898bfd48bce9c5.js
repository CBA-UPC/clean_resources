(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1490:function(e,t,a){},1537:function(e,t,a){"use strict";a.r(t);var i=a(150),n=a(151),o=a(153),d=a(152),l=a(0),s=a.n(l),c=a(5),r=a(35),u=(a(1490),Object(c.a)(function(){return a.e(41).then(a.bind(null,1524))})),m=Object(c.a)(function(){return Promise.all([a.e(2),a.e(4),a.e(7),a.e(55),a.e(30)]).then(a.bind(null,562))}),h=Object(c.a)(function(){return a.e(35).then(a.bind(null,224))}),p=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return(e=t.call.apply(t,[this].concat(o))).state={openModal:!1,selectedMediaId:null,showMediaDeletedSnack:!1},e.setMediaToDisplay=function(t){e.setState({selectedMediaId:t,openModal:!0})},e.closeModal=function(){e.setState({openModal:!1,selectedMediaId:null})},e.closeSnackBar=function(){e.state.showMediaDeletedSnack&&e.setState({showMediaDeletedSnack:!1})},e}return Object(n.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.mediaDeleting&&!this.props.mediaDeleting&&(this.closeModal(),this.setState({showMediaDeletedSnack:!0},function(){return setTimeout(a.closeSnackBar,5e3)}))}},{key:"render",value:function(){var e=this.state,t=e.openModal,a=e.selectedMediaId,i=e.showMediaDeletedSnack,n=this.props,o=n.match,d=n.history,l=n.mediaList,c=n.mediaType,p=n.mediaDeleting,M=n.deleteMedia,b=n.mediaDeleteFailed,f=n.updateMediaMetadata,y=n.location,D=l[a]||{},k={images:"image",panos:"panorama",videos:"video",audio:"audio",videos360:"360 video"};return s.a.createElement("section",{className:"media-library-gallery ".concat(c)},s.a.createElement(u,{mediaList:l,mediaType:c,handleThumbClick:this.setMediaToDisplay}),s.a.createElement(m,{id:a,match:o,history:d,mediaToDisplay:D,mediaType:c,closeModal:this.closeModal,handleMediaDelete:M,mediaDeleting:p,updateMediaMetadata:f,mediaEditable:!0,isOpen:t,location:y}),s.a.createElement(h,{position:"bottomCenter",bottomCenter:{bottom:0,left:0,right:0,marginLeft:"auto",marginRight:"auto"},inProp:i,classNames:"media-delete"},b?s.a.createElement("p",null,"Your ",k[c]," failed to delete. Refresh and try again"):s.a.createElement("p",null,"Your ",k[c]," has been deleted. Any tours associated with this panorama may need to be republished"),s.a.createElement(r.a,{className:"delete-dismiss text-btn",handleClick:this.closeSnackBar},"Dismiss")))}}]),a}(l.PureComponent);t.default=p}}]);.a.createElement(U.a,{className:"cancel-upload text-btn ",handleClick:i},b.a.createElement("i",{className:"material-icons"},"cancel"),"\xa0Cancel Upload"))}),N=t(155),x=(t(1302),t(172)),C=function(e){var a=e.mediaType,t=e.nameValue,n=e.altValue,i=e.transcriptValue,r=e.handleInput,l=e.handleMediaUpload,o=e.btnDisabled,c=e.showCancelBtn,s=e.handleMediaCancel,d=Object(x.a)(a);return b.a.createElement("div",{className:"library-description-wrapper"},b.a.createElement(T.a,{id:"media-name-input",classNames:"input-wrapper no-icon",name:"name",label:"".concat(d," Name"),placeholder:"".concat(d," Name"),inputValue:t,handleInput:r}),a===N.a&&b.a.createElement(w.a,{id:"media-transcript-input",classNames:"input-wrapper no-icon",name:"transcript",label:"Audio Transcript",inputOptional:!0,placeholder:"Audio Transcript",textContent:i,alterTextContent:r}),(a===N.h||a===N.j)&&b.a.createElement(w.a,{id:"media-alt-input",classNames:"input-wrapper no-icon",name:"alt",placeholder:"Alternative Text",label:"Alternative Text",textContent:n,alterTextContent:r}),b.a.createElement(O,{btnDisabled:o,showCancelBtn:c,handleMediaUpload:l,handleMediaCancel:s}))},M=t(190),S=(t(1303),Object(E.a)(function(){return t.e(28).then(t.bind(null,1537))})),j=Object(E.a)(function(){return Promise.all([t.e(12),t.e(19)]).then(t.bind(null,1557))}),k=function(e){Object(p.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=a.call.apply(a,[this].concat(i))).state={fileToUpload:null,name:"",description:"",alt:"",transcript:"",videoUrl:"",maxFileSize:4e7},e.handleMediaUpload=function(){var a=e.state,t=a.fileToUpload,n=a.name,i=a.description,r=a.alt,l=a.transcript,o=e.props,c=o.mediaType,s=o.uploadNewMedia,d=o.permissions,u=o.userEmail,p=Object(g.a)(Object(g.a)({},d),{images:!0});c===N.n?e.handleVideoUrl():s({permissions:p,file:t,mediaType:c,name:n||t.name,description:i,alt:r,transcript:l,userEmail:u})},e.handleVideoUrl=function(){var a=e.state,t=a.name,n=a.description,i=a.videoUrl,r=e.props,l=r.mediaType,o=r.uploadNewVideoUrl,c=r.permissions,s=r.userEmail;Object(M.g)(i)?o({id:v()(),mediaType:l,url:i,name:t,description:n,permissions:c,userEmail:s}):console.log("Url must be a valid YouTube or Vimeo path")},e.clearMediaState=function(){e.setState({fileToUpload:null,name:"",description:"",alt:"",transcript:"",videoUrl:""})},e.handleFileDrop=function(a){e.setState({fileToUpload:a})},e.handleInput=function(a){var t=a.target,n=t.name,i=t.value;e.setState(Object(s.a)({},n,i))},e.buttonDisabled=function(){var a=e.state,t=a.fileToUpload,n=a.videoUrl,i=e.props,r=i.mediaType,l=i.mediaUploading,o=i.mediaUploadFailed;return!!(l||o||r!==N.n&&!t)||r===N.n&&!Boolean(n)},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.permissions,t=e.mediaType;if(t===N.o&&a.videoStreaming){var n={"10mb":1e7,"40mb":4e7,"100mb":1e8,"500mb":5e8,"1gb":1e9}[a.maxFileSize[t]];this.setState({maxFileSize:n})}}},{key:"componentDidUpdate",value:function(e,a){e.mediaUploading&&!this.props.mediaUploading&&this.clearMediaState()}},{key:"render",value:function(){var e=this.state,a=e.fileToUpload,t=e.name,n=e.description,i=e.alt,r=e.transcript,l=e.videoUrl,o=e.maxFileSize,c=this.props,s=c.mediaList,d=c.mediaType,u=c.acceptedFiles,p=c.deleteMedia,m=c.history,h=c.match,f=c.mediaDeleting,g=c.mediaDeleteFailed,y=c.mediaUploadFailed,v=c.showUploader,E=c.updateMediaMetadata,w=c.handleUploaderToggle,O=c.isSearching,x=c.noResults,M=c.location,k=c.permissions,D=this.buttonDisabled(),V=Boolean(Object.keys(s).length);return b.a.createElement(b.a.Fragment,null,b.a.createElement(U.a,{className:"text-btn upload-new-btn",handleClick:w,disabled:!V},b.a.createElement("i",{className:"material-icons"},"add_circle"),"\xa0Upload New"),O&&x&&b.a.createElement("div",{className:"media-search__no-results"},"There are no results matching this search. Please try a new search term."),(v||!V&&!O)&&b.a.createElement("section",{className:"media-uploader-wrapper"},d!==N.n?b.a.createElement(j,{file:a,handleFileDrop:this.handleFileDrop,mediaType:d,acceptedFiles:u,origin:"mediaLibrary",maxFileSize:o,permissions:k}):b.a.createElement(b.a.Fragment,null,b.a.createElement(T.a,{id:"video-url-input",classNames:"input-wrapper no-icon video-libary-uploader",name:"videoUrl",label:"YouTube or Vimeo URL",placeholder:"YouTube or Vimeo URL",inputValue:l,handleInput:this.handleInput})),b.a.createElement(C,{mediaType:d,nameValue:t,descriptionValue:n,altValue:i,transcriptValue:r,handleInput:this.handleInput,handleMediaUpload:this.handleMediaUpload,btnDisabled:D,showCancelBtn:!y&&a,handleMediaCancel:this.clearMediaState})),V&&b.a.createElement(S,{history:m,match:h,mediaType:d,mediaList:s,deleteMedia:p,mediaDeleting:f,mediaDeleteFailed:g,updateMediaMetadata:E,location:M}))}}]),t}(h.Component),D=Object(h.memo)(function(e){var a=e.history,t=e.getMedia,n=e.handleSearchInput,i=e.inputValue,r=e.onKeyUp,l=e.handleSearch,o=e.handleClear,c=e.isSearching;return b.a.createElement("section",{className:"media-library-header"},b.a.createElement("div",{className:"media-library-desc"},b.a.createElement("h2",null,"Media Library"),b.a.createElement("p",null,"Use the Media Library to upload new media or manage all existing assets")),b.a.createElement("div",{className:"media-library__search-wrapper"},b.a.createElement("div",{className:"media-library__media-features"},b.a.createElement(T.a,{classNames:"input-wrapper search-media",iconName:"search",id:"media-library-input",name:"searchVal",onChange:n,inputValue:i,onKeyUp:r}),c?b.a.createElement(U.a,{className:"btn-clear-media-search",handleClick:o,disabled:!i},b.a.createElement("i",{className:"material-icons","aria-hidden":"true"},"cancel")):b.a.createElement(U.a,{className:"btn-update btn-media-search",onClick:l,disabled:i.length<3},"search")),b.a.createElement(U.a,{className:"text-btn reset-btn",handleClick:function(){return t(!0)}},b.a.createElement("i",{className:"material-icons","aria-hidden":"true"},"cached"),"\xa0Refresh"),b.a.createElement(U.a,{className:"done-btn",handleClick:function(){return a.push("/home")}},"\u2713 Done")))}),V=t(523),A=t(181),F=(t(1304),t(54)),I=function(e){Object(p.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(d.a)(this,t),(e=a.call(this)).updateActiveTab=function(a){e.setState({activeTab:a})},e.toggleUploader=function(){var a=e.state.activeTab,t=Object.keys(e.state)[a];e.setState(Object(s.a)({},t,!e.state[t]))},e.mediaSearch=Object(c.a)(o.a.mark(function a(){var t,n,i,r,l,c,s,d;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.state,n=t.searchVal,i=t.activeTab,r={0:"panos",1:"images",2:"videos",3:"audio",4:"videos360"},l=localStorage.getItem("aid"),c=r[i],s=n.toLowerCase(),a.next=7,Object(A.e)(l,c,s);case 7:d=a.sent,e.setState({isSearching:!0,searchMedia:d[c]});case 9:case"end":return a.stop()}},a)})),e.handleSearchVal=function(a){var t=a.target,n=t.name,i=t.value;e.setState(Object(s.a)({},n,i))},e.handleKeyUp=function(a){var t=e.state.searchVal;"Enter"===a.key&&t.length>2&&e.mediaSearch()},e.handleClear=function(){e.setState({searchVal:"",isSearching:!1})},e.state={showPanoUploader:!1,showImageUploader:!1,showVideoUploader:!1,showAudioUploader:!1,showVideo360Uploader:!1,activeTab:0,searchVal:"",searchMedia:{},isSearching:!1},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getMedia(!0)}},{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.activeTab,i=t.searchVal,r=t.isSearching;a.isSearching&&a.activeTab!==n&&this.setState({isSearching:!1,searchMedia:{},searchVal:""}),a.searchVal&&!i&&r&&this.setState({isSearching:!1})}},{key:"render",value:function(){var e=this,a=this.state,t=a.activeTab,n=a.showPanoUploader,i=a.showImageUploader,r=a.showVideoUploader,l=a.showAudioUploader,o=a.showVideo360Uploader,c=a.isSearching,s=a.searchMedia,d=a.searchVal,u=this.props,p=u.userEmail,m=u.panos,h=u.images,g=u.videos,y=u.audio,v=u.videos360,E=u.uploadNewMedia,T=u.uploadUrlVideos,w=u.match,U=u.mediaUploading,O=u.mediaUploadFailed,x=u.deleteMedia,C=u.mediaDeleteFailed,M=u.mediaDeleting,S=u.updatePanoMetadata,j=u.updateMediaMetadata,A=u.history,I=u.permissions,R=u.populateSnackBar,_=u.mediaFetching,L=u.getMedia,P=u.error,z=u.mediaFailReset,B=u.location,H=!Object.keys(s).length,K=[{title:"Panoramas",enabled:!0,Component:b.a.createElement(k,{userEmail:p,permissions:I,mediaList:c?s:m,acceptedFiles:"image/jpeg",mediaType:N.j,uploadNewMedia:E,mediaUploading:U,mediaUploadFailed:O,deleteMedia:x,mediaDeleting:M,showUploader:n,updateMediaMetadata:S,handleUploaderToggle:this.toggleUploader,mediaDeleteFailed:C,history:A,match:w,isSearching:c,noResults:H})},{title:"Images",enabled:!0,Component:b.a.createElement(k,{userEmail:p,permissions:I,mediaList:c?s:h,acceptedFiles:"image/jpeg, image/png, image/pdf, image/heic",mediaType:N.h,uploadNewMedia:E,mediaUploading:U,showUploader:i,updateMediaMetadata:j,handleUploaderToggle:this.toggleUploader,deleteMedia:x,mediaDeleting:M,mediaDeleteFailed:C,history:A,match:w,isSearching:c,noResults:H})},{title:"Videos",enabled:I.videos,Component:b.a.createElement(k,{userEmail:p,permissions:I,description:"Add a new linked YouTube or Vimeo video to your Media Library",mediaList:c?s:g,acceptedFiles:"video/mp4",mediaType:N.n,uploadNewVideoUrl:T,mediaUploading:U,showUploader:r,updateMediaMetadata:j,handleUploaderToggle:this.toggleUploader,deleteMedia:x,mediaDeleting:M,mediaDeleteFailed:C,history:A,match:w,isSearching:c,noResults:H})},{title:"Audio Tracks",enabled:I.audio,Component:b.a.createElement(k,{userEmail:p,permissions:I,mediaList:c?s:y,acceptedFiles:"audio/mp3, audio/mpeg",mediaType:N.a,uploadNewMedia:E,mediaUploading:U,showUploader:l,updateMediaMetadata:j,handleUploaderToggle:this.toggleUploader,deleteMedia:x,mediaDeleting:M,mediaDeleteFailed:C,history:A,match:w,isSearching:c,noResults:H})},{title:"360\xba Videos",enabled:I.videos360,Component:b.a.createElement(k,{userEmail:p,permissions:I,mediaList:c?s:v,acceptedFiles:"video/mp4, video/webm",mediaType:N.o,uploadNewMedia:E,mediaUploading:U,showUploader:o,updateMediaMetadata:j,handleUploaderToggle:this.toggleUploader,deleteMedia:x,mediaDeleting:M,mediaDeleteFailed:C,history:A,match:w,isSearching:c,noResults:H,location:B})}];return b.a.createElement("section",{className:"media-library-container"},b.a.createElement("div",{className:"media-library__header-search"},b.a.createElement(D,{history:A,getMedia:L,handleSearchInput:this.handleSearchVal,inputValue:d,onKeyUp:this.handleKeyUp,handleSearch:this.mediaSearch,handleClear:this.handleClear,isSearching:c})),"fetching"===_?b.a.createElement("div",{className:"loading-spinner"},b.a.createElement(F.ClipLoader,{key:"loader",color:"none",size:100})):b.a.createElement(V.a,{activeTab:t,updateActiveTab:this.updateActiveTab,userEmail:p,data:K,width:"15%",ref:function(a){return e.tabsWrapper=a},populateSnackBar:R,mediaLibrary:!0}),b.a.createElement(f.a,{isOpen:Boolean(P&&P.message),closeModal:z,errorToDisplay:P&&P.message}))}}]),t}(h.Component),R=t(228);a.default=Object(n.c)(function(e){return{error:e.media.error,tourAccountId:e.account.tourAccountId,userEmail:e.userCredentials.email,panos:e.media.panos,images:e.media.images,videos:e.media.videos,videos360:e.media.videos360,audio:e.media.audio,mediaFetching:e.media.mediaFetching,mediaUploading:e.media.mediaUploading,mediaDeleting:e.media.mediaDeleting,mediaUploadFailed:e.media.mediaUploadFailed,mediaDeleteFailed:e.media.mediaDeleteFailed,permissions:e.account.permissions}},function(e){return Object(i.b)({getMedia:r.b,uploadNewMedia:r.h,uploadUrlVideos:r.j,updatePanoMetadata:r.g,updateMediaMetadata:r.f,deleteMedia:r.a,populateSnackBar:R.a,mediaFailReset:r.c},e)})(I)},165:function(e,a,t){"use strict";var n=t(12),i=t(0),r=t.n(i),l=t(24),o=t.n(l),c=t(171),s=["charCount","classNames","displayError","displayWarning","editIcon","errorText","handleInput","handleKeyPress","handleKeyUp","hideErrorText","iconName","id","inputOptional","inputValue","label","labelAbove","maxCount","name","showCount","type"],d=Object(i.memo)(function(e){var a=e.charCount,t=e.classNames,i=e.displayError,l=e.displayWarning,d=e.editIcon,u=e.errorText,p=e.handleInput,m=e.handleKeyPress,h=e.handleKeyUp,b=e.hideErrorText,f=e.iconName,g=e.id,y=e.inputOptional,v=e.inputValue,E=e.label,T=e.labelAbove,w=e.maxCount,U=e.name,O=e.showCount,N=void 0===O||O,x=e.type,C=Object(n.a)(e,s);return r.a.createElement(c.a,{charCount:a,classNames:t,displayWarning:l,displayError:i,editIcon:d,errorText:u,hideErrorText:b,iconName:f,id:g,inputOptional:y,label:E,labelAbove:T,maxCount:w,showCount:N},r.a.createElement("input",Object.assign({id:g,type:x||"text",value:v||"",onChange:p,onKeyPress:m,onKeyUp:h,maxLength:w,className:o()({error:i,warning:l}),name:U,"data-testid":g},C)))});a.a=d},166:function(e,a,t){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(a,"a",function(){return n})},171:function(e,a,t){"use strict";var n=t(150),i=t(151),r=t(153),l=t(152),o=t(0),c=t.n(o),s=t(1),d=(t(177),function(e){var a=e.inputId,t=e.label,n=e.displayError,i=e.displayWarning,r=e.inputOptional,l=e.editIcon,o=e.ariaHidden;return c.a.createElement("label",{style:Object(s.a)(Object(s.a)({},n&&{color:"#a23f3f"}),i&&{color:"#b18830"}),htmlFor:a,"aria-hidden":o||!1},t,r&&c.a.createElement("span",null,"(Optional)"),l&&c.a.createElement("i",{className:"material-icons"},"edit"))}),u=t(24),p=t.n(u),m=function(e){var a=e.id,t=e.hideErrorText,n=e.errorText,i=e.label,r=e.displayWarning;return c.a.createElement(c.a.Fragment,null,!t&&c.a.createElement("div",{"data-testid":"".concat(a,"-input-error"),className:p()("input-error",{warning:r})},n||"".concat(i," is a required field")))},h=function(e){var a=e.iconName,t=e.iconClasses;return c.a.createElement("div",{className:"input-icon ".concat(t)},c.a.createElement("i",{"aria-hidden":"true",className:"material-icons"},a))},b=function(e){var a=e.max,t=e.count;return e.inputDisabled?null:c.a.createElement("div",{className:"char-count"},a-t)},f=(t(178),function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(){var e;return Object(n.a)(this,t),(e=a.call(this)).enableInput=function(){e.setState(function(e){return{inputDisabled:!e.inputDisabled}})},e.state={inputDisabled:!0},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this.state.inputDisabled,a=this.props,t=a.charCount,n=a.children,i=a.classNames,r=a.displayError,l=a.displayWarning,o=a.editIcon,s=a.errorText,u=a.hideErrorText,p=a.iconClasses,f=a.iconName,g=a.id,y=a.inputOptional,v=a.label,E=a.labelAbove,T=a.maxCount,w=a.name,U=a.showCount,O=a.toolTipClickHandler,N=a.toolTipText;return c.a.createElement("div",{className:i},E&&c.a.createElement(d,{ariaHidden:!0,inputId:g,label:v,htmlFor:w,inputOptional:y,editIcon:o,displayError:r,displayWarning:l}),N&&c.a.createElement("span",{className:"form-interactive-tooltip",onClick:O},N),n,!E&&c.a.createElement(d,{ariaHidden:!0,inputId:g,label:v,htmlFor:w,inputOptional:y,editIcon:o,displayError:r,displayWarning:l}),U&&T&&c.a.createElement(b,{inputDisabled:e,max:T,count:t}),f&&c.a.createElement(h,{iconClasses:p,iconName:f}),(r||l)&&c.a.createElement(m,{id:g,displayWarning:l,hideErrorText:u,errorText:s,label:v}))}}]),t}(o.PureComponent));a.a=f},177:function(e,a,t){},178:function(e,a,t){},190:function(e,a,t){"use strict";t.d(a,"c",function(){return l}),t.d(a,"d",function(){return o}),t.d(a,"e",function(){return c}),t.d(a,"b",function(){return s}),t.d(a,"f",function(){return d}),t.d(a,"g",function(){return u}),t.d(a,"a",function(){return p});var n=t(2),i=t.n(n),r=t(3),l=function(e){if("string"!==typeof e)return!1;return!!e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},o=function(e){if("string"!==typeof e)return!1;return!!e.match(/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi)},c=function(e){if("string"!==typeof e)return!1;return!!e.match(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/g)},s=function(e){if("string"!==typeof e)return!1;return!!e.match(/^(https:\/\/www\.|www\.)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/g)},d=function(e){if("string"!==typeof e)return!1;function a(){return(a=Object(r.a)(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a).catch(function(e){return console.error("ERROR WITH RENDERING URL",e),!1});case 2:if(!e.sent.ok){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}return!!e.match(/^https?:\/\/[^\/]+\/assets\/[0-9]+\/[a-zA-Z0-9._-]+(\/{z}\/{x}\/{y})$/gm)&&function(e){return a.apply(this,arguments)}(e)},u=function(e){if("string"!==typeof e)return!1;return!!e.match(/^(http:\/\/|https:\/\/)(vimeo\.com|youtu\.be|www\.youtube\.com)\/([\w\/]+)([\?].*)?$/)},p=function(e){return 0===e.indexOf("www.")?"https://".concat(e):e}},228:function(e,a,t){"use strict";t.d(a,"a",function(){return n});var n=function(e){return function(a,t){e.showSnackBar!==t().snackBar.showSnackBar&&(a({type:"POPULATE_SNACKBAR",snackBarData:e}),setTimeout(function(){return a(i())},e.clearDelay))}},i=function(){return{type:"CLEAR_SNACKBAR"}}},312:function(e,a,t){"use strict";var n=t(0),i=t.n(n),r=t(24),l=t.n(r),o=t(53),c=t(35);t(351);a.a=function(e){var a=e.closeModal,t=e.errorToDisplay,n=e.backgroundHidden,r=e.hotspotsError,s=e.isOpen,d=l()({"error-modal__hotspots-positioning":r,"background-hidden":n});return i.a.createElement(o.a,{className:"error-modal ".concat(d),closeModal:a,isOpen:s},i.a.createElement("div",{className:"error-modal__wrapper"},i.a.createElement("p",{className:"error-modal__message"},t),i.a.createElement(c.a,{className:"text-btn cancel",onClick:a},i.a.createElement("i",{className:"material-icons"}," close "))))}},351:function(e,a,t){},490:function(e,a,t){"use strict";var n=t(150),i=t(151),r=t(153),l=t(152),o=t(0),c=t.n(o),s=t(491),d=function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(){var e;return Object(n.a)(this,t),(e=a.call(this)).handleInput=function(a){e.props.alterTextContent(a)},e.setTextAreaHeight=function(e){e.style.minHeight="23px",e.style.maxHeight="80px",e.style.height=e.value?"".concat(e.scrollHeight,"px"):e.style.minHeight},e.textAreaRef=c.a.createRef(),e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.textAreaRef.current&&this.setTextAreaHeight(this.textAreaRef.current)}},{key:"componentDidUpdate",value:function(e){this.textAreaRef.current&&this.setTextAreaHeight(this.textAreaRef.current)}},{key:"render",value:function(){var e=this.props,a=e.id,t=e.classNames,n=e.textContent,i=e.name,r=e.label,l=e.placeholder,o=e.editIcon,d=e.inputOptional;return c.a.createElement(s.a,{id:a,classNames:t,name:i,label:r,inputOptional:d,placeholder:l,editIcon:o,inputValue:n,handleInput:this.handleInput,ref:this.textAreaRef})}}]),t}(o.Component);a.a=d},491:function(e,a,t){"use strict";var n=t(12),i=t(0),r=t.n(i),l=t(171),o=(t(492),["classNames","id","label","inputOptional","editIcon","inputValue","handleInput","handleKeyPress","errorText","displayError","hideErrorText","labelAbove","toolTipClickHandler","toolTipText"]),c=Object(i.forwardRef)(function(e,a){var t=e.classNames,i=e.id,c=e.label,s=e.inputOptional,d=e.editIcon,u=e.inputValue,p=e.handleInput,m=(e.handleKeyPress,e.errorText),h=e.displayError,b=e.hideErrorText,f=e.labelAbove,g=e.toolTipClickHandler,y=e.toolTipText,v=Object(n.a)(e,o);return r.a.createElement(l.a,{classNames:t,id:i,label:c,inputOptional:s,editIcon:d,displayError:h,hideErrorText:b,errorText:m,labelAbove:f,toolTipClickHandler:g,toolTipText:y},r.a.createElement("textarea",Object.assign({id:i,ref:a,value:u||"",onChange:p},v)))});a.a=c},492:function(e,a,t){},494:function(e,a,t){},523:function(e,a,t){"use strict";var n=t(150),i=t(151),r=t(153),l=t(152),o=t(0),c=t.n(o),s=t(1),d=t(24),u=t.n(d),p=function(e){var a=e.tabTitle;return c.a.createElement(c.a.Fragment,null,"Images"===a&&c.a.createElement("span",{key:"image-icon",style:{display:"inline"}},c.a.createElement("i",{className:"material-icons"},"photo_size_select_actual")),"Videos"===a&&c.a.createElement("span",{key:"video-icon",style:{display:"inline"}},c.a.createElement("i",{className:"material-icons"},"video_library")))},m=function(e){var a=e.count;return c.a.createElement("span",{className:"media-count"},a)},h=t(35),b=Object(o.memo)(function(e){var a=e.title,t=e.type,n=e.active,i=e.index,r=e.count,l=e.toggleTab,o=e.width,d=e.enabled,b=e.borderColor;return c.a.createElement(h.a,{className:u()("tab",{active:n,gallery:"tab-gallery"===t}),style:Object(s.a)(Object(s.a)({width:o||"25%"},b&&n&&{borderBottom:"3px solid ".concat(b)}),!b&&n&&{borderBottom:"3px solid #62789d"}),handleClick:function(){return l(i,d)},tabIndex:0,"aria-label":a,"data-cy":"tab-gallery-btn-".concat(a),role:"tab"},"tab-gallery"===t&&c.a.createElement(p,{tabTitle:a}),c.a.createElement("span",{className:"tab-title"},a),"tab-gallery"===t&&c.a.createElement(m,{count:r}),!d&&c.a.createElement("i",{className:"material-icons"},"lock"))}),f=function(e){var a=e.type,t=e.width,n=e.borderColor,i=e.tabList,r=e.toggleTab,l=e.activeTab;return c.a.createElement("div",{id:"tab-header",className:a||""},i.map(function(e,i){return e.title&&c.a.createElement(b,{key:e.title,title:e.title,type:a,active:l===i,index:i,count:e.count,toggleTab:r,width:t,enabled:e.enabled,borderColor:n})}))},g=function(e){var a=e.children,t=e.index;return c.a.createElement(c.a.Fragment,null,a[t])},y=function(e){var a=e.children;return c.a.createElement("div",{id:"tab-panel"},a)},v=(t(494),function(e){Object(r.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(n.a)(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={activeTab:e.props.activeTab},e.toggleTab=function(a,t){var n=e.props,i=n.populateSnackBar,r=n.updateActiveTab;t?r?r(a):e.setState({activeTab:a}):(r?r(0):e.setState({activeTab:0}),i({showSnackBar:!0,message:"To access this feature, contact support@concept3d.com.",clearDelay:5e3}))},e}return Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this.state.activeTab,n=this.props.toggleActiveTab;a.activeTab!==t&&("function"===typeof n&&n(0===t?"Images":"Videos"))}},{key:"render",value:function(){var e=this.props,a=e.type,t=e.data,n=e.width,i=e.primaryColor,r=e.activeTab,l=e.updateActiveTab,o=e.mediaLibrary,s=l?r:this.state.activeTab;return c.a.createElement("section",{id:"tabs-wrapper","data-cy":"active-tab-".concat(s)},c.a.createElement(f,{type:a,width:n,borderColor:i,tabList:t,toggleTab:this.toggleTab,activeTab:s,mediaLibrary:o}),c.a.createElement(g,{index:s},t.map(function(e){return c.a.createElement(y,{key:e.title},e.Component)})))}}]),t}(o.Component));a.a=v}}]);