(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[3057],{13057:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:);var r,i,o,n,p=a(3e4),s=a(66062),c=(a(91938),a(76955)),g=a(55752),l=a.n(g),d=a(29466),m=a.n(d),f=a(97175),u=a(66948),h=a(43177),v=a.n(h),y=a(12943),b=a.n(y),_=a(55382),I=a.n(_),T=a(45525),Z=a(77948),L=a(48516),w=a(36509),E=a(24044),k=a.n(E),P=a(73614),O=a(89865),S=a(5563),x=a(10793),B=a(16884),H=a(75457);function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function D(){return(D=(0,s.Z)((function*(e){var{dispatch:t,getState:a,match:r}=e,{params:i}=r,o=i.amebaId,n=yield t((0,P.Rs)(o));if(!n||!n.error){var p=a().bloggerState,s=p.bloggerMap,c=p.blogMap[(s[o]||{}).blog];if(c&&c.blog_id){var g=i.entryId||"";if(""===g){var l=a().entryState,d=A(i.page);g=((l.pcBlogTopPageMap["".concat(c.blog_id,"/").concat(d)]||{}).data||[])[0]}g&&c.blog_id&&(yield t((0,O.KL)(g,c.blog_id)))}}}))).apply(this,arguments)}var M=(0,u.$j)((function(e,t){var{match:a}=t,{params:r,route:i}=a,o=r.amebaId,n=i.pageType,p=e.bloggerState,s=e.blogRecentEntryState,c=p.bloggerMap[o]||{},g=(c.attribute||{}).isOfficial,d=p.blogMap[c.blog]||{},m=r.entryId||"";if(""===m){var f=e.entryState,u=A(r.page);m=((f.pcBlogTopPageMap["".concat(d.blog_id,"/").concat(u)]||{}).data||[])[0]}return{amebaId:o,imageProtectionType:l()(c,"official.image_protection_type")||"",isOfficial:g,pageType:n,recentlyImageEntries:(s.blogRecentEntry[m]||{}).recently_image_entry||[]}}),{trackTapLog:S.XI})(r=(0,f.provideHooks)({done:)(r=(0,T.w1)(k())((o=i=class extends c.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.imageProtectionType!==e.imageProtectionType||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||!m()(this.props.recentlyImageEntries,e.recentlyImageEntries)}getDateForImage(e){var t=v()(new Date,Z.Z.DEFAULT_DATE),a=v()(e.entry_created_datetime,Z.Z.DEFAULT_DATE);switch(b()(t,a)){case 0:return"\u4eca\u65e5";case 1:return"\u6628\u65e5";case 2:return"\u304a\u3068\u3068\u3044";default:return a}}renderImageList(){var e=this.props.recentlyImageEntries.slice(0,3).map(((e,t)=>{var a=this.getDateForImage(e),r="amember"===e.publish_flg,i=r?(0,p.Z)("img",{alt:"",src:"".concat(window.process.env.HTTP_PATH_STAT,"/blog/img/user/thumb_amember_90.gif")}):(0,p.Z)("img",{alt:e.entry_title,height:"90",src:"".concat(window.process.env.HTTP_PATH_BLOG_IMG).concat(e.image_url,"?cpd=90"),width:"90"}),o=r?"":"?frm_src=thumb_module";return(0,p.Z)("li",{},"recent_image_entry_".concat(e.entry_id),(0,p.Z)(x.f,{orderId:"".concat(t+1),pageId:this.props.pageType,sectionId:"image-article",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,p.Z)(L.Z,{targetUrl:"".concat((0,w.IT)(this.props.amebaId,e)).concat(o)},void 0,i,(0,p.Z)("span",{className:I()("imageTitle",k().EntryTitle)},void 0,e.entry_title))),(0,p.Z)("p",{className:"imageDate"},void 0,a))}));return(0,p.Z)("ul",{className:"clearFix"},void 0,e)}render(){var{recentlyImageEntries:e}=this.props;return!e||e.length<3?null:(0,p.Z)("div",{className:k().Block,id:"imageBox"},void 0,(0,p.Z)("div",{id:"imageBoxWrap"},void 0,(0,p.Z)("div",{id:"imageBoxHeader"},void 0,n||(n=(0,p.Z)("h5",{},void 0,"\u6700\u8fd1\u306e\u753b\u50cf\u3064\u304d\u8a18\u4e8b")),"all_deny"!==this.props.imageProtectionType&&(0,p.Z)("span",{id:"imageList"},void 0,"\xa0",(0,p.Z)(x.f,{pageId:this.props.pageType,sectionId:"image-article-list",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,p.Z)("a",{href:(0,B.Z)(H.Z.ImageList,{amebaId:this.props.amebaId})},void 0,"\u3082\u3063\u3068\u898b\u308b >>")))),this.renderImageList()))}},i.displayName="PcRecentEntryImageListOld",r=o))||r)||r)||r},79349:(e,t,a)=>{var r=a(18300)(();r.push([e.id,"._tB4A9H7S{border-top:1px dashed #ccc;margin:16px 0!important;padding-top:16px!important}._2qLpIHfg{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),r.locals={Block:"_tB4A9H7S",EntryTitle:"_2qLpIHfg"},e.exports=r},24044:(e,t,a)=>{var r=a(79349),i=Object.assign||o=Object.defineProperty||"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=i({},e.locals||{});return o(t,"_",{value:),o(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)}}]);